const _0x1d6de7=(function(){let _0x5b3209=!![];return function(_0x567b37,_0x3cd3e2){const _0x5117bd=_0x5b3209?function(){if(_0x3cd3e2){const _0x34452a=_0x3cd3e2['apply'](_0x567b37,arguments);return _0x3cd3e2=null,_0x34452a;}}:function(){};return _0x5b3209=![],_0x5117bd;};}()),_0x2ab748=_0x1d6de7(this,function(){return _0x2ab748['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x2ab748)['search']('(((.+)+)+)'+'+$');});_0x2ab748();const _0x132cbd=(function(){let _0x4ab6c0=!![];return function(_0x3c0112,_0xfe07be){const _0x3c0ccc=_0x4ab6c0?function(){if(_0xfe07be){const _0x4374f=_0xfe07be['apply'](_0x3c0112,arguments);return _0xfe07be=null,_0x4374f;}}:function(){};return _0x4ab6c0=![],_0x3c0ccc;};}());(function(){_0x132cbd(this,function(){const _0x4009e6=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x1983ca=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x36b635=_0x4602b7('init');!_0x4009e6['test'](_0x36b635+'chain')||!_0x1983ca['test'](_0x36b635+'input')?_0x36b635('0'):_0x4602b7();})();}());const _0x321620=(function(){let _0x176696=!![];return function(_0x40ab5a,_0x2286e2){const _0x48443d=_0x176696?function(){if(_0x2286e2){const _0x456840=_0x2286e2['apply'](_0x40ab5a,arguments);return _0x2286e2=null,_0x456840;}}:function(){};return _0x176696=![],_0x48443d;};}()),_0xba5057=_0x321620(this,function(){let _0x7b4d58;try{const _0x223916=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x7b4d58=_0x223916();}catch(_0x15eb57){_0x7b4d58=window;}const _0x302eeb=_0x7b4d58['console']=_0x7b4d58['console']||{},_0x5bde34=['log','warn','info','error','exception','table','trace'];for(let _0x58dd30=-0x2577+0x1*0x17a5+-0x2*-0x6e9;_0x58dd30<_0x5bde34['length'];_0x58dd30++){const _0x33ade8=_0x321620['constructo'+'r']['prototype']['bind'](_0x321620),_0x44ef2f=_0x5bde34[_0x58dd30],_0x1052da=_0x302eeb[_0x44ef2f]||_0x33ade8;_0x33ade8['__proto__']=_0x321620['bind'](_0x321620),_0x33ade8['toString']=_0x1052da['toString']['bind'](_0x1052da),_0x302eeb[_0x44ef2f]=_0x33ade8;}});_0xba5057();var k0=Object['defineProp'+'erty'],U0=(_0xd1443,_0x2630f9,_0x24cc71)=>_0x2630f9 in _0xd1443?k0(_0xd1443,_0x2630f9,{'enumerable':!(-0x19bf+0x1853*-0x1+0x2f2*0x11),'configurable':!(-0xb89*-0x1+0xcf*-0x1+0x1*-0xaba),'writable':!(-0x1*-0x2681+0x931+-0x2fb2),'value':_0x24cc71}):_0xd1443[_0x2630f9]=_0x24cc71,h=(_0x4abdd1,_0x5e9085,_0x4df3af)=>U0(_0x4abdd1,typeof _0x5e9085!='symbol'?_0x5e9085+'':_0x5e9085,_0x4df3af),B0=(_0x28fd7a=>(_0x28fd7a['HIGH']='high',_0x28fd7a['MEDIUM']='medium',_0x28fd7a['LOW']='low',_0x28fd7a['LOW_VR']='lowVR',_0x28fd7a))(B0||{});const z0=()=>!HS()&&!WS()&&!GS()&&!V0(),GS=()=>{const _0x40ca83=navigator['userAgent']['includes']('Macintosh'),_0x57343d=navigator['maxTouchPo'+'ints']===0x1*-0x2f2+-0x1*-0x5cf+-0x2d8,_0x1b9827=/^((?!chrome|android).)*safari/i['test'](navigator['userAgent']);return _0x40ca83&&_0x57343d&&_0x1b9827;},HS=()=>navigator['userAgent']['includes']('Quest'),V0=()=>{const _0xcce9bd=navigator['userAgent']['toLowerCas'+'e']();return _0xcce9bd['includes']('pico')||_0xcce9bd['includes']('picolrowse'+'r');},WS=()=>['iOS','Android']['includes'](G0()),FU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),NU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),G0=()=>{const _0x596629=window['navigator']['userAgent']['toLowerCas'+'e'](),_0x3dae27=window['navigator']['platform']['toLowerCas'+'e']();return/iphone|ipad|ipod/['test'](_0x596629)?'iOS':/android/['test'](_0x596629)?'Android':/mac/['test'](_0x3dae27)?'macOS':/win/['test'](_0x3dae27)?'Windows':/linux/['test'](_0x3dae27)?'Linux':'Unknown';};class kU{constructor(){this['HIGH_FPS_T'+'HRESHOLD']=0x7f*-0x20+-0x2*-0x112d+0x124d*-0x1,this['MEDIUM_FPS'+'_THRESHOLD']=0x14a3+-0x105d+0x10a*-0x4,this['HIGH_MEMOR'+'Y_THRESHOL'+'D']=(-0x7cb+-0x67*0x15+0x1042)*(0x1c*-0x19+-0x626+-0xce2*-0x1)*(-0x2ed*-0x3+-0x149d+-0x2*-0x7eb)*(0xabf*-0x3+0x8b0+0x1b8d),this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']=(0x1*0x1b7c+-0x285+0x1*-0x18f5)*(-0xf87+0x227e*-0x1+-0x3605*-0x1)*(0x5*0x6b5+-0x20*0x115+0x517)*(-0xe50+-0x1d8+0x1428),this['SCORE_THRE'+'SHOLDS']={'HIGH':0x46,'MEDIUM':0x32,'LOW':0x1e},this['VENDOR_WEI'+'GHTS']={'nvidia':0x1,'amd':0.9,'apple':0.8,'intel':0.6,'qualcomm':0.5,'arm':0.4},this['HIGH_END_P'+'ATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*[3-4]|titan\s*(?:rtx|xp|v))|quadro\s+(?:rtx|a[0-9]+)/i,/a[1-9][0-9]+/i],'amd':[/radeon\s+(?:rx\s*[6-9]|rx\s*7[0-9]+|pro\s*w[5-9])|instinct\s+mi[2-9]/i],'apple':[/m[1-3]\s+(?:pro|max|ultra)?/i]},this['MEDIUM_END'+'_PATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*2|gtx\s*1[6-9])|quadro\s+(?:p[2-9]|t[1-9])/i],'amd':[/radeon\s+(?:rx\s*[4-5]|vega\s*[5-9])|pro\s*w[2-4]/i],'apple':[/a[1-9][0-9]+\s+(?:x|z)?/i]},this['LOW_END_PA'+'TTERNS']={'intel':[/(?:hd|uhd|iris|xe)\s*graphics\s*(?:[6-9][0-9]+|[1-9][0-9]+g)/i],'qualcomm':[/adreno\s*[6-9][0-9]+/i],'arm':[/mali\s*-?(?:g[7-9][0-9]|t[8-9][0-9])/i]};}['getVendorS'+'core'](_0x5cdd22){const _0x6de75c=_0x5cdd22['toLowerCas'+'e']();for(const [_0x1ddf56,_0x29fd1c]of Object['entries'](this['VENDOR_WEI'+'GHTS']))if(_0x6de75c['includes'](_0x1ddf56))return _0x29fd1c*(-0xfd7+-0x144e+0x2489);return-0x1ede+-0x1f37+-0x3e47*-0x1;}['getModelSc'+'ore'](_0x2073aa,_0x40a76b){const _0x204a5d=_0x2073aa['toLowerCas'+'e'](),_0x3b51dd=_0x40a76b['toLowerCas'+'e']();for(const [_0x17375d,_0x3c46a]of Object['entries'](this['HIGH_END_P'+'ATTERNS']))if(_0x204a5d['includes'](_0x17375d)&&_0x3c46a['some'](_0x38a8fc=>_0x38a8fc['test'](_0x3b51dd)))return 0x1f45+0x59d+0x1*-0x2488;for(const [_0x156aea,_0x5a5587]of Object['entries'](this['MEDIUM_END'+'_PATTERNS']))if(_0x204a5d['includes'](_0x156aea)&&_0x5a5587['some'](_0x9f5c0c=>_0x9f5c0c['test'](_0x3b51dd)))return 0x12db+0x3*-0x18b+0x4c*-0x2f;for(const [_0x4b6adf,_0x1470f6]of Object['entries'](this['LOW_END_PA'+'TTERNS']))if(_0x204a5d['includes'](_0x4b6adf)&&_0x1470f6['some'](_0x5d7b2c=>_0x5d7b2c['test'](_0x3b51dd)))return-0x518+0x1a10+0x2*-0xa63;return-0xa*0x65+-0x14e*0x1c+0x28b6;}['getMemoryS'+'core'](_0x1be557){return _0x1be557?_0x1be557>=-0x4e31+-0x124*-0x1+-0x4f5*-0x19?0x96+0x2351+-0x2383:_0x1be557>=-0x11*0x17+0xb00*0x3+-0x39?-0x1d*0xef+0x1900+0x26d:_0x1be557>=-0x15a6+0x4*0x1c0+0x2616?0xd01*-0x3+0xe70+0x18e3:_0x1be557>=-0xd76+-0x2272*-0x1+0x1*-0x55c?0x283*0xa+-0x1*-0x289+-0xa3*0x2b:_0x1be557>=0x1da8+-0x2*-0xcae+0x13e*-0x26?0x1a84+-0x1*-0x10f9+-0xe6b*0x3:0x257+0x1*-0x232a+-0x4f*-0x6b:-0x1*0x66e+-0x549*0x1+-0xbe9*-0x1;}['getDriverS'+'core'](_0x5dfda7){if(!_0x5dfda7)return-0x512+-0x1fd9*0x1+0xc5f*0x3;const _0x3fbefd=_0x5dfda7['match'](/20[2-9][0-9]/);if(_0x3fbefd){const _0x56d4b4=parseInt(_0x3fbefd[-0x2241+0x1da3*-0x1+0x3fe4]);if(_0x56d4b4>=0x13*0xab+-0xe91*0x1+0x1*0x9c7)return 0x1*-0x1f6+0xdd9*-0x1+0x1033;if(_0x56d4b4>=-0x4*0x6f1+-0xe2e+-0xa*-0x4fc)return 0x1*0x115+-0x1b69+0x2aa*0xa;if(_0x56d4b4>=0x1f2f+-0xbd3+-0xb77*0x1)return-0x17ca+-0x3b*-0xa8+-0xeb2*0x1;}return-0x2669*-0x1+-0x1fd*0x4+0x1*-0x1e43;}['evaluateGP'+'U'](_0x5ef1d2){const _0x22f442=this['getVendorS'+'core'](_0x5ef1d2['vendor']),_0x9d7928=this['getModelSc'+'ore'](_0x5ef1d2['vendor'],_0x5ef1d2['renderer']),_0x16514d=this['getMemoryS'+'core'](_0x5ef1d2['memory']),_0x5ed321=this['getDriverS'+'core'](_0x5ef1d2['driverVers'+'ion']);return console['log']('GPU:',_0x5ef1d2['vendor']),console['log']('GPU:',_0x5ef1d2['renderer']),console['log']('GPU:',_0x5ef1d2['driverVers'+'ion']),console['table'](_0x5ef1d2),_0x22f442*(0x2e7*-0xd+0x10d*0x15+-0x1*-0xfaa+0.3)+_0x9d7928*(0x1127+-0x1548+0x421+0.4)+_0x16514d*(0x3f5*0x7+0x1d94+-0x1d9*0x1f+0.2)+_0x5ed321*(0xf49+-0x13d1+0x488+0.1);}['evaluateCP'+'U'](){const _0x1f3df5=navigator['hardwareCo'+'ncurrency'];return _0x1f3df5>=-0x5*-0x4a5+-0x4*-0x2c9+-0x2f*0xbb?0x2*0x11a4+0x10c*-0x3+-0x2021:_0x1f3df5>=-0x2223+0x1aa7*-0x1+0x3cce?-0x1ac4+-0x90a+-0x23d0*-0x1:0x16*-0x14+0xd7+0xe2;}['evaluateMe'+'mory'](_0x3dfb2f){return typeof _0x3dfb2f=='string'?-0x1a7*0x13+0x1a59*-0x1+0x39be:_0x3dfb2f['totalJSHea'+'pSize'];}['evaluatePe'+'rformance'](_0x18da1c){const _0x3c4161=WS(),_0x5cb055=GS(),_0xf051f2=HS();if(_0x5cb055)return'medium';if(_0xf051f2)return'lowVR';if(_0x3c4161)return'low';const _0x1039b2=_0x18da1c['fps']>=this['HIGH_FPS_T'+'HRESHOLD']?0x1b8d+0x497+-0x2021:_0x18da1c['fps']>=this['MEDIUM_FPS'+'_THRESHOLD']?0x47*0x16+0x163d*0x1+-0x1c55:-0x12*-0x67+0x52f*-0x6+0x1*0x17dd;let _0x4f15d8=0xbe7+-0x3*-0xa15+0x1*-0x2a25;typeof _0x18da1c['gpuInfo']!='string'&&(_0x4f15d8=this['evaluateGP'+'U'](_0x18da1c['gpuInfo']));const _0x229f53=this['evaluateCP'+'U'](),_0x4d3fca=this['evaluateMe'+'mory'](_0x18da1c['memoryInfo'])>=this['HIGH_MEMOR'+'Y_THRESHOL'+'D']?0x1491+0x1c45*0x1+-0x30d3:this['evaluateMe'+'mory'](_0x18da1c['memoryInfo'])>=this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']?-0x7c3+-0x24a+-0x67*-0x19:-0x2161+-0xa3*-0x1d+0xeeb,_0x8b314b=_0x1039b2+_0x4f15d8+_0x229f53+_0x4d3fca;return console['log']('GPU:',_0x1039b2,_0x4f15d8,_0x229f53,_0x4d3fca),_0x8b314b>=this['SCORE_THRE'+'SHOLDS']['HIGH']?'high':_0x8b314b>=this['SCORE_THRE'+'SHOLDS']['MEDIUM']?'medium':'low';}['getModelQu'+'alitySetti'+'ngs'](_0x391088){return{'high':{'textureQuality':'high'},'medium':{'textureQuality':'medium'},'low':{'textureQuality':'low'},'lowVR':{'textureQuality':'lowVR'}}[_0x391088];}}const H0=()=>{globalThis['requestIdl'+'eCallback']=globalThis['requestIdl'+'eCallback']||function(_0x181205){var _0x4a93b0=Date['now']();return setTimeout(function(){_0x181205({'didTimeout':!(0x49c+0x971+0xe0c*-0x1),'timeRemaining':function(){return Math['max'](-0xb1e+0x11*-0x23b+-0x3109*-0x1,0x10a3*-0x1+0x21fb+-0x1126-(Date['now']()-_0x4a93b0));}});},-0xf85*-0x1+-0x13*0x43+0xa8b*-0x1);},globalThis['cancelIdle'+'Callback']=globalThis['cancelIdle'+'Callback']||function(_0x54e89e){clearTimeout(_0x54e89e);};},W0='RenderFram'+'e',Ld='RenderFram'+'eTime',Pm='RenderPass',cn='RenderPass'+'Detail',Vl='RenderActi'+'on',Mm='RenderTarg'+'etAlloc',Dm='TextureAll'+'oc',Im='ShaderAllo'+'c',$0='ShaderComp'+'ile',X0='VRAM.Textu'+'re',q0='VRAM.Vb',j0='VRAM.Ib',Y0='BindGroupA'+'lloc',K0='BindGroupF'+'ormatAlloc',Vs='Element',Z0='Textures',Gl='GpuTimings',hn='$_CURRENT_'+'SDK_VERSIO'+'N',$S='$_CURRENT_'+'SDK_REVISI'+'ON';function ah(_0x4e8de2,_0x41a36a){for(const _0x3bd4ee in _0x41a36a){const _0x1bd2ca=_0x41a36a[_0x3bd4ee];Array['isArray'](_0x1bd2ca)?_0x4e8de2[_0x3bd4ee]=ah([],_0x1bd2ca):_0x1bd2ca&&typeof _0x1bd2ca=='object'?_0x4e8de2[_0x3bd4ee]=ah({},_0x1bd2ca):_0x4e8de2[_0x3bd4ee]=_0x1bd2ca;}return _0x4e8de2;}const Q0={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x953d8=>{const _0xbbaa3=Math['random']()*(0x5*0x32b+0x182e*0x1+-0x27f5)|0x48*-0x64+0x187+0x1a99;return(_0x953d8==='x'?_0xbbaa3:_0xbbaa3&0x23d1*-0x1+-0x590*-0x4+0xd94|-0x2565+-0x1*0x266+-0x7f7*-0x5)['toString'](0x2307+0x230c+-0x4603);});}},xe={'delimiter':'/','join'(..._0x12b279){let _0x20cd82=_0x12b279[0x20b2+-0x17f*0x7+0x1*-0x1639];for(let _0x2d9c97=-0x240b+-0x19*-0x173+-0x30;_0x2d9c97<_0x12b279['length']-(0x3*-0x2bb+0x13c*-0x2+0xaaa);_0x2d9c97++){const _0x5a952c=_0x12b279[_0x2d9c97],_0x5c3fdb=_0x12b279[_0x2d9c97+(0x17*0xd5+-0x1c9b+0x979)];if(_0x5c3fdb[0x74*0x3+0x52*-0x21+0x936]===xe['delimiter']){_0x20cd82=_0x5c3fdb;continue;}_0x5a952c&&_0x5c3fdb&&_0x5a952c[_0x5a952c['length']-(0x2*-0xe85+-0x15e+0x615*0x5)]!==xe['delimiter']&&_0x5c3fdb[-0x315*-0x6+-0x13c*-0x1+0x32*-0x65]!==xe['delimiter']?_0x20cd82+=xe['delimiter']+_0x5c3fdb:_0x20cd82+=_0x5c3fdb;}return _0x20cd82;},'normalize'(_0x4b5448){const _0x433dc9=_0x4b5448['startsWith'](xe['delimiter']),_0x1d4ac0=_0x4b5448['endsWith'](xe['delimiter']),_0x5532ce=_0x4b5448['split']('/');let _0x5a2343='',_0x112487=[];for(let _0x453607=0x97c*0x3+-0x2f2+0x1*-0x1982;_0x453607<_0x5532ce['length'];_0x453607++)if(_0x5532ce[_0x453607]!==''&&_0x5532ce[_0x453607]!=='.'){if(_0x5532ce[_0x453607]==='..'&&_0x112487['length']>-0xd32+0x5*0x701+-0x15d3*0x1){_0x112487=_0x112487['slice'](-0x5c1*0x3+0x18e*-0x3+0x15ed,_0x112487['length']-(0x65+0x50c+-0x56f));continue;}_0x453607>-0x2*0x5dd+-0x1bbe+0x2778&&_0x112487['push'](xe['delimiter']),_0x112487['push'](_0x5532ce[_0x453607]);}return _0x5a2343=_0x112487['join'](''),!_0x433dc9&&_0x5a2343[0x183*0x2+-0x1*-0x94+-0x39a]===xe['delimiter']&&(_0x5a2343=_0x5a2343['slice'](0x1c73*-0x1+0xc7*-0x25+0x3937)),_0x1d4ac0&&_0x5a2343[_0x5a2343['length']-(-0x1c4f+-0x1fa4+0x3bf4)]!==xe['delimiter']&&(_0x5a2343+=xe['delimiter']),_0x5a2343;},'split'(_0xe2dbdd){const _0x43a74a=_0xe2dbdd['lastIndexO'+'f'](xe['delimiter']);return _0x43a74a!==-(0x1*-0xad0+0x5*-0x703+-0x10*-0x2de)?[_0xe2dbdd['substring'](-0x776*-0x4+-0x85d+-0x157b,_0x43a74a),_0xe2dbdd['substring'](_0x43a74a+(-0x3a*0x9b+0xbf*0xe+0x18ad*0x1))]:['',_0xe2dbdd];},'getBasename'(_0x363206){return xe['split'](_0x363206)[0xcbd+0x3*0x319+-0x1607];},'getDirectory'(_0x2b84ce){return xe['split'](_0x2b84ce)[-0x1283+0x15e5+0x1b1*-0x2];},'getExtension'(_0x1828b7){const _0x49a660=_0x1828b7['split']('?')[-0x10*0x1f4+-0x1982+0x38c2]['split']('.')['pop']();return _0x49a660!==_0x1828b7?'.'+_0x49a660:'';},'isRelativePath'(_0x2a663d){return _0x2a663d['charAt'](0xb5c*-0x2+-0x1c73+-0x1*-0x332b)!=='/'&&_0x2a663d['match'](/:\/\//)===null;},'extractPath'(_0x4f22f0){let _0x394403='';const _0x5e4cdb=_0x4f22f0['split']('/');let _0xc406dc=0x67f+0x14c5+-0x1b44;if(_0x5e4cdb['length']>-0x1682+0x1f99+-0x916){if(xe['isRelative'+'Path'](_0x4f22f0)){if(_0x5e4cdb[-0x2263*0x1+-0x209*-0xd+-0x46*-0x1d]==='.'){for(_0xc406dc=-0x1*0x413+-0x2375+0x5*0x7e8;_0xc406dc<_0x5e4cdb['length']-(-0xa9a+0x1*0x2345+-0x18aa);++_0xc406dc)_0x394403+=_0xc406dc===0xa*0x205+0xc50+0x1041*-0x2?_0x5e4cdb[_0xc406dc]:'/'+_0x5e4cdb[_0xc406dc];}else{if(_0x5e4cdb[0xad8+-0x9*-0x41+-0xd21]==='..'){for(_0xc406dc=-0x2*0xa93+0x2453+-0x25*0x69;_0xc406dc<_0x5e4cdb['length']-(-0x2639+0x9*0x422+0x108);++_0xc406dc)_0x394403+=_0xc406dc===0x191c+-0x13*-0x17+-0x1ad1?_0x5e4cdb[_0xc406dc]:'/'+_0x5e4cdb[_0xc406dc];}else{for(_0x394403='.',_0xc406dc=0x26e5+0x10c7+0xe*-0x3fa;_0xc406dc<_0x5e4cdb['length']-(0x2534*-0x1+-0x13d5+0x390a);++_0xc406dc)_0x394403+='/'+_0x5e4cdb[_0xc406dc];}}}else{for(_0xc406dc=-0xcaf*-0x1+-0x22de*0x1+0x162f;_0xc406dc<_0x5e4cdb['length']-(0x32*-0x1a+0x58c+-0x1*0x77);++_0xc406dc)_0x394403+=_0xc406dc===-0xf95*-0x1+-0x4b1*0x5+0x7e0?_0x5e4cdb[_0xc406dc]:'/'+_0x5e4cdb[_0xc406dc];}}return _0x394403;}},J0=()=>{let _0x5decff=!(0x1789+-0x1ef7+-0x1*-0x76f);try{const _0x4fd3c1=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x5decff=!(0x1067*-0x1+-0x12*-0x20b+-0x1*0x145f),!(0x14fc+-0x257c+0x1081);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x4fd3c1),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x4fd3c1);}catch{}return _0x5decff;},Bi=typeof navigator<'u'?navigator['userAgent']:'',nh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Lm=/android/i['test'](Bi)?'android':/ip(?:[ao]d|hone)/i['test'](Bi)?'ios':/windows/i['test'](Bi)?'windows':/mac os/i['test'](Bi)?'osx':/linux/i['test'](Bi)?'linux':/cros/i['test'](Bi)?'cros':null,ex=nh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](Bi)?'chrome':/Safari\//['test'](Bi)?'safari':/Firefox\//['test'](Bi)?'firefox':'other',tx=nh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>0xb43+0x404+0x1*-0xf47),sx=J0(),Ae={'name':Lm,'browser':nh==='browser','worker':nh==='worker','android':Lm==='android','touch':tx,'passiveEvents':sx,'browserName':ex},XS='abcdefghij'+'klmnopqrst'+'uvwxyz',qS='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',ix=XS+qS,Bf=-0x16298+0xf458+0x14640,jS=-0x1*0x1160a+0xfc10+0x1*0xf5f9,Rm=0xd32d+0x1*-0xaea7+-0x16*-0x857,rx=0xafde*-0x1+-0x2c7c+0x13*0x1763,ax=0x34a4+-0xc43*0x1+-0x854,Om=-0x2*0x833f+0x338e*0x13+-0x6d93*0x2,Fm=0x29*0x7ef+-0x2cd84+0x37a3c,nx=-0x3466b+0xa976*-0x4+0x7e03e,ox=-0xa*-0x509+0x1*0x35bdb+-0x19a36,lx=0x2*-0x795+-0x1*-0xe9f+0x215b,cx=-0x9d2+0x12a*0x26+-0x16b*0x1,zf=0x1c5ab+-0x45f7+-0x81b4,Vf=0xdcfd+0x219e+0x4*-0x23;function Gf(_0x2d50ee,_0xb3cff7=0x4*-0x535+-0x734+0x1c08){const _0x176c66=_0x2d50ee['length'];if(_0xb3cff7<-0x1a87+-0x79*0xd+0x6*0x572||_0xb3cff7>=_0x176c66)return null;const _0x542e06=_0x2d50ee['charCodeAt'](_0xb3cff7);if(_0x176c66>-0x21a1+-0x43*0x25+0x2b51*0x1&&_0x542e06>=Bf&&_0x542e06<=jS){const _0x41ed32=_0x2d50ee['charCodeAt'](_0xb3cff7+(0x135*-0x1b+0xa*-0x26e+-0x16*-0x296));if(_0x41ed32>=Rm&&_0x41ed32<=rx)return{'code':(_0x542e06-Bf)*(0x1*0x4+-0x4f8+0x8f4)+_0x41ed32-Rm+(-0xf08*0xb+0x411*0x6d+-0x15e5),'long':!(-0x1*-0x24a2+-0x11*0x202+-0x140*0x2)};}return{'code':_0x542e06,'long':!(0x1*-0x1005+0x14*-0x28+-0x662*-0x3)};}function fr(_0x196a10,_0x163322,_0x1be38e){if(!_0x196a10)return!(-0x1299+0x53*-0x3+0x1393);const _0x2051bb=Gf(_0x196a10);if(_0x2051bb){const _0x1e7bc6=_0x2051bb['code'];return _0x1e7bc6>=_0x163322&&_0x1e7bc6<=_0x1be38e;}return!(0x255*-0x9+0x87+0xd*0x193);}function hx(_0x16c9d7,_0x538ff9){if(_0x538ff9===_0x16c9d7['length']-(-0x18c0+-0xb25+-0x23e6*-0x1))return-0x23bf*-0x1+0x1075+-0x3433;if(fr(_0x16c9d7[_0x538ff9],Bf,jS)){const _0x294b59=_0x16c9d7['substring'](_0x538ff9,_0x538ff9+(-0x345+0x1*0x1417+0x10d*-0x10)),_0x554bd0=_0x16c9d7['substring'](_0x538ff9+(-0x4ee+-0x4*0x4ef+0x18ac*0x1),_0x538ff9+(0x3c8*-0x2+-0x91*0x35+0x55f*0x7));return fr(_0x554bd0,nx,ox)||fr(_0x294b59,Om,Fm)&&fr(_0x554bd0,Om,Fm)?-0x556+-0x1010+0x1*0x156a:fr(_0x554bd0,zf,Vf)?0xf2*0x11+-0x1f75+-0x7b3*-0x2:0xecc+0x3f1*-0x9+0x1*0x14af;}return fr(_0x16c9d7[_0x538ff9+(0x14d7+-0x104a+-0xc*0x61)],zf,Vf)?-0x679*-0x5+0x2159+-0x41b4:0x2d*-0x2f+-0x1bf*-0x3+-0x5*-0x9b;}const Hc={'ASCII_LOWERCASE':XS,'ASCII_UPPERCASE':qS,'ASCII_LETTERS':ix,'format'(_0x3c866f,..._0x4fd359){for(let _0x1fcb1d=0xe2c+0x211d+-0x10d*0x2d;_0x1fcb1d<_0x4fd359['length'];_0x1fcb1d++)_0x3c866f=_0x3c866f['replace']('{'+_0x1fcb1d+'}',_0x4fd359[_0x1fcb1d]);return _0x3c866f;},'getCodePoint'(_0x51479f,_0x5008ff){const _0x1cc659=Gf(_0x51479f,_0x5008ff);return _0x1cc659&&_0x1cc659['code'];},'getCodePoints'(_0x295ddf){if(typeof _0x295ddf!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x583ea5=-0x4c7*-0x2+-0xa*-0xd+-0xa10;const _0x5a0f1c=[];let _0x209761;for(;_0x209761=Gf(_0x295ddf,_0x583ea5);)_0x5a0f1c['push'](_0x209761['code']),_0x583ea5+=_0x209761['long']?-0x11ff+0x593+0xc6e*0x1:-0x6f1+-0x1a7e+0x2170;return _0x5a0f1c;},'getSymbols'(_0x4daabb){if(typeof _0x4daabb!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x316206=0xb62*-0x2+0xf*-0xef+0x1*0x24c5;const _0x1ffa0f=_0x4daabb['length'],_0x17b4ad=[];let _0x53de2f=0x191a*0x1+0x22ed+0xb*-0x575,_0x2a620f;for(;_0x316206<_0x1ffa0f;){if(_0x53de2f+=hx(_0x4daabb,_0x316206+_0x53de2f),_0x2a620f=_0x4daabb[_0x316206+_0x53de2f],fr(_0x2a620f,lx,cx)&&(_0x2a620f=_0x4daabb[_0x316206+_0x53de2f++]),fr(_0x2a620f,zf,Vf)&&(_0x2a620f=_0x4daabb[_0x316206+_0x53de2f++]),_0x2a620f&&_0x2a620f['charCodeAt'](-0x6d*0xa+0x59*-0x5+0x5ff)===ax){_0x2a620f=_0x4daabb[_0x316206+_0x53de2f++];continue;}const _0x20c4e0=_0x4daabb['substring'](_0x316206,_0x316206+_0x53de2f);_0x17b4ad['push'](_0x20c4e0),_0x316206+=_0x53de2f,_0x53de2f=-0x86*-0x3f+-0x210*-0x3+0x3*-0xd0e;}return _0x17b4ad;},'fromCodePoint'(..._0x288e99){return _0x288e99['map'](_0x24c456=>_0x24c456>-0x14f16+-0x89*0x1e7+0x1c*0x1e6b?(_0x24c456-=-0x13*-0x7a3+-0xd607*0x2+-0x1*-0x21af5,String['fromCharCo'+'de']((_0x24c456>>0x2167*-0x1+0x8b+0x20e6)+(-0x1f*-0xc41+0x17334+-0x21713),_0x24c456%(0xac4+0x4*0x60d+-0x1ef8)+(0x9667+0x1a5*-0x25+-0x11b*-0x76))):String['fromCharCo'+'de'](_0x24c456))['join']('');}},Zr=class Zr{static['set'](_0x539c1c,_0x5b13e7=!(-0x5e*0x66+0xa*0x1b6+0x1458)){_0x5b13e7?Zr['_traceChan'+'nels']['add'](_0x539c1c):Zr['_traceChan'+'nels']['delete'](_0x539c1c);}static['get'](_0xcfea15){return Zr['_traceChan'+'nels']['has'](_0xcfea15);}};h(Zr,'_traceChan'+'nels',new Set()),h(Zr,'stack',!(-0x1*0x4b1+-0x2*-0x1079+-0x1c40));let mi=Zr;const Vt=class Vt{static['deprecated'](_0x5daf51){Vt['_loggedMes'+'sages']['has'](_0x5daf51)||(Vt['_loggedMes'+'sages']['add'](_0x5daf51),console['warn']('DEPRECATED'+':\x20'+_0x5daf51));}static['removed'](_0x4e64de){Vt['_loggedMes'+'sages']['has'](_0x4e64de)||(Vt['_loggedMes'+'sages']['add'](_0x4e64de),console['error']('REMOVED:\x20'+_0x4e64de));}static['assertDepr'+'ecated'](_0x31bbe9,_0x320c33){_0x31bbe9||Vt['deprecated'](_0x320c33);}static['assert'](_0x1193fd,..._0x4db733){_0x1193fd||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x4db733);}static['assertDest'+'royed'](_0x9e93ef){var _0x20a9d9;if(_0x9e93ef!=null&&_0x9e93ef['__alreadyD'+'estroyed']){const _0xe9156d='['+((_0x20a9d9=_0x9e93ef['constructo'+'r'])==null?void(-0x4e7+0x2fe*-0x6+0x16db):_0x20a9d9['name'])+(']\x20with\x20nam'+'e\x20[')+_0x9e93ef['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');Vt['_loggedMes'+'sages']['has'](_0xe9156d)||(Vt['_loggedMes'+'sages']['add'](_0xe9156d),console['error']('ASSERT\x20FAI'+'LED:\x20',_0xe9156d,_0x9e93ef));}}static['call'](_0x42052d){_0x42052d();}static['log'](..._0x3d98c0){console['log'](..._0x3d98c0);}static['logOnce'](_0x1f22dd,..._0x3effb8){Vt['_loggedMes'+'sages']['has'](_0x1f22dd)||(Vt['_loggedMes'+'sages']['add'](_0x1f22dd),console['log'](_0x1f22dd,..._0x3effb8));}static['warn'](..._0x58f8c7){console['warn'](..._0x58f8c7);}static['warnOnce'](_0x524938,..._0x5c7d49){Vt['_loggedMes'+'sages']['has'](_0x524938)||(Vt['_loggedMes'+'sages']['add'](_0x524938),console['warn'](_0x524938,..._0x5c7d49));}static['error'](..._0x5632ec){console['error'](..._0x5632ec);}static['errorOnce'](_0x51832a,..._0x1052d1){Vt['_loggedMes'+'sages']['has'](_0x51832a)||(Vt['_loggedMes'+'sages']['add'](_0x51832a),console['error'](_0x51832a,..._0x1052d1));}static['trace'](_0x198486,..._0x1b5f6b){mi['get'](_0x198486)&&(console['groupColla'+'psed'](_0x198486['padEnd'](0x19b9+-0x6fd*0x3+0x2*-0x257,'\x20')+'|',..._0x1b5f6b),console['groupEnd']());}};h(Vt,'_loggedMes'+'sages',new Set());let w=Vt;class Ea{static['setName'](_0x319d79,_0x525ed6){_0x319d79&&(_0x319d79['name']=_0x525ed6);}static['setLabel'](_0xf22a2b,_0x4c6900){_0xf22a2b&&(_0xf22a2b['label']=_0x4c6900);}static['setDestroy'+'ed'](_0x36aa07){_0x36aa07&&(_0x36aa07['__alreadyD'+'estroyed']=!(0x1*0x13c0+0x1787*0x1+-0x9*0x4cf));}}class dx{constructor(_0x438809,_0x46c657,_0x501c47,_0x31329a,_0x501905=!(-0x5f*-0x55+-0x1e*0x7f+0xa4*-0x1a)){h(this,'handler'),h(this,'name'),h(this,'callback'),h(this,'scope'),h(this,'_once'),h(this,'_removed',!(0x244e+-0x34a*0x6+-0x1091)),(this['handler']=_0x438809,this['name']=_0x46c657,this['callback']=_0x501c47,this['scope']=_0x31329a,this['_once']=_0x501905);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x26372b,_0x703056,_0x28909f=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x26372b,_0x703056,_0x28909f,!(0x1*-0x147d+-0x258f+0x7*0x84b));}['once'](_0x4fd2f1,_0x55384c,_0x3fcc5c=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x4fd2f1,_0x55384c,_0x3fcc5c,!(0x2*-0x6df+0x3*0xbe9+0xd*-0x1b1));}set['removed'](_0x44e0a8){_0x44e0a8&&(this['_removed']=!(0x220f*0x1+0x1043*-0x2+0x3*-0x83));}get['removed'](){return this['_removed'];}['toJSON'](_0x48a39c){}}class me{constructor(){h(this,'_callbacks',new Map()),h(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x37303a,_0x45f167,_0x11f4da,_0x3f85ab){if((!_0x37303a||typeof _0x37303a!='string'||!_0x45f167)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x37303a+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x45f167),this['_callbacks']['has'](_0x37303a)||this['_callbacks']['set'](_0x37303a,[]),this['_callbackA'+'ctive']['has'](_0x37303a)){const _0x5b099d=this['_callbackA'+'ctive']['get'](_0x37303a);_0x5b099d&&_0x5b099d===this['_callbacks']['get'](_0x37303a)&&this['_callbackA'+'ctive']['set'](_0x37303a,_0x5b099d['slice']());}const _0x5b4bf6=new dx(this,_0x37303a,_0x45f167,_0x11f4da,_0x3f85ab);return this['_callbacks']['get'](_0x37303a)['push'](_0x5b4bf6),_0x5b4bf6;}['on'](_0x52a102,_0x20d9ea,_0x5d0a0c=this){return this['_addCallba'+'ck'](_0x52a102,_0x20d9ea,_0x5d0a0c,!(-0x1f*-0x1f+0x244a+-0x280a));}['once'](_0x27c10d,_0x29c43c,_0x4c2f39=this){return this['_addCallba'+'ck'](_0x27c10d,_0x29c43c,_0x4c2f39,!(0xaa0+-0x295*0xb+0x11c7));}['off'](_0x1a7bfc,_0x306c7c,_0x2727b1){if(_0x1a7bfc)this['_callbackA'+'ctive']['has'](_0x1a7bfc)&&this['_callbackA'+'ctive']['get'](_0x1a7bfc)===this['_callbacks']['get'](_0x1a7bfc)&&this['_callbackA'+'ctive']['set'](_0x1a7bfc,this['_callbackA'+'ctive']['get'](_0x1a7bfc)['slice']());else{for(const [_0x2d1493,_0x5ee2ea]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x2d1493)&&this['_callbacks']['get'](_0x2d1493)===_0x5ee2ea&&this['_callbackA'+'ctive']['set'](_0x2d1493,_0x5ee2ea['slice']());}if(_0x1a7bfc){if(_0x306c7c){const _0xffb7a=this['_callbacks']['get'](_0x1a7bfc);if(!_0xffb7a)return this;for(let _0x233218=0x1*0x23af+0x1*-0x1dec+-0x5c3;_0x233218<_0xffb7a['length'];_0x233218++)_0xffb7a[_0x233218]['callback']===_0x306c7c&&(_0x2727b1&&_0xffb7a[_0x233218]['scope']!==_0x2727b1||(_0xffb7a[_0x233218]['removed']=!(-0x26*0xb2+-0x6b*-0xf+0x1427),_0xffb7a['splice'](_0x233218,0xd*-0x3+-0x18aa*-0x1+-0x1882),_0x233218--));_0xffb7a['length']===-0x2031+0x3c6+0x1c6b&&this['_callbacks']['delete'](_0x1a7bfc);}else{const _0x2d3778=this['_callbacks']['get'](_0x1a7bfc);if(_0x2d3778){for(let _0x3e9695=-0xd13*-0x1+0x4d2*0x4+-0x205b;_0x3e9695<_0x2d3778['length'];_0x3e9695++)_0x2d3778[_0x3e9695]['removed']=!(-0x9*-0x11b+0x1ede+-0x28d1);this['_callbacks']['delete'](_0x1a7bfc);}}}else{for(const _0x32a80d of this['_callbacks']['values']())for(let _0x57d613=-0x56b*-0x3+0x78b+-0x17cc;_0x57d613<_0x32a80d['length'];_0x57d613++)_0x32a80d[_0x57d613]['removed']=!(-0xe43+0x1*0x11ec+0x1*-0x3a9);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x56055b){const _0x6c94d9=_0x56055b['name'];_0x56055b['removed']=!(-0xa7c*-0x2+-0x1570+0x18*0x5),this['_callbackA'+'ctive']['has'](_0x6c94d9)&&this['_callbackA'+'ctive']['get'](_0x6c94d9)===this['_callbacks']['get'](_0x6c94d9)&&this['_callbackA'+'ctive']['set'](_0x6c94d9,this['_callbackA'+'ctive']['get'](_0x6c94d9)['slice']());const _0x43d9ed=this['_callbacks']['get'](_0x6c94d9);if(!_0x43d9ed)return this;const _0x3d1446=_0x43d9ed['indexOf'](_0x56055b);return _0x3d1446!==-(0x194*0x17+0x1d7b*0x1+-0x41c6*0x1)&&(_0x43d9ed['splice'](_0x3d1446,-0xda7+0x34*0x98+-0x1138),_0x43d9ed['length']===0x1f41+-0x1652+0x1*-0x8ef&&this['_callbacks']['delete'](_0x6c94d9)),this;}['fire'](_0x557117,_0x182399,_0x879784,_0x2d41b2,_0x4540a3,_0x1ad5f9,_0x3f7e9d,_0x5cf6ff,_0x10b6bd){if(!_0x557117)return this;const _0x2b2f57=this['_callbacks']['get'](_0x557117);if(!_0x2b2f57)return this;let _0xe7e76f;this['_callbackA'+'ctive']['has'](_0x557117)?this['_callbackA'+'ctive']['get'](_0x557117)!==_0x2b2f57&&(_0xe7e76f=_0x2b2f57['slice']()):this['_callbackA'+'ctive']['set'](_0x557117,_0x2b2f57);for(let _0xad989=0x9ab+-0x1320+0x9*0x10d;(_0xe7e76f||this['_callbackA'+'ctive']['get'](_0x557117))&&_0xad989<(_0xe7e76f||this['_callbackA'+'ctive']['get'](_0x557117))['length'];_0xad989++){const _0x10eb9a=(_0xe7e76f||this['_callbackA'+'ctive']['get'](_0x557117))[_0xad989];if(_0x10eb9a['callback']&&(_0x10eb9a['callback']['call'](_0x10eb9a['scope'],_0x182399,_0x879784,_0x2d41b2,_0x4540a3,_0x1ad5f9,_0x3f7e9d,_0x5cf6ff,_0x10b6bd),_0x10eb9a['_once'])){const _0x31cfae=this['_callbacks']['get'](_0x557117),_0x498d86=_0x31cfae?_0x31cfae['indexOf'](_0x10eb9a):-(0x1*-0x11ae+0xddc+-0x3d3*-0x1);if(_0x498d86!==-(0x836+-0x1*-0x216e+-0x29a3)){this['_callbackA'+'ctive']['get'](_0x557117)===_0x31cfae&&this['_callbackA'+'ctive']['set'](_0x557117,this['_callbackA'+'ctive']['get'](_0x557117)['slice']());const _0x45cbec=this['_callbacks']['get'](_0x557117);if(!_0x45cbec)continue;_0x45cbec[_0x498d86]['removed']=!(0x1740+-0x156a+-0x1d6),_0x45cbec['splice'](_0x498d86,0x189*0x2+-0x1cd3+0x19c2),_0x45cbec['length']===-0x27f*0x1+0x5*0x3aa+-0xfd3&&this['_callbacks']['delete'](_0x557117);}}}return _0xe7e76f||this['_callbackA'+'ctive']['delete'](_0x557117),this;}['hasEvent'](_0x1d3d07){var _0x36bcb8;return!!((_0x36bcb8=this['_callbacks']['get'](_0x1d3d07))!=null&&_0x36bcb8['length']);}}class fx{constructor(){h(this,'_list',[]),h(this,'_index',{});}['push'](_0x2781ae,_0x4d16e0){if(this['_index'][_0x2781ae])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x2781ae);const _0x318a70=this['_list']['push'](_0x4d16e0)-(-0x1633+-0xd38+0x236c);this['_index'][_0x2781ae]=_0x318a70;}['has'](_0x5875fd){return this['_index'][_0x5875fd]!==void(-0x766+0x1ab*-0x15+-0x1*-0x2a6d);}['get'](_0x45ebee){const _0x3e2eaa=this['_index'][_0x45ebee];return _0x3e2eaa!==void(0x1*0x249e+0x1b2d+-0x3fcb)?this['_list'][_0x3e2eaa]:null;}['remove'](_0x48b2e5){const _0x243754=this['_index'][_0x48b2e5];if(_0x243754!==void(0x1*-0x7eb+-0x5c*-0x1f+-0x339)){this['_list']['splice'](_0x243754,0x12eb+-0x6*0x1c0+-0x86a),delete this['_index'][_0x48b2e5];for(_0x48b2e5 in this['_index']){const _0xe3ee2d=this['_index'][_0x48b2e5];_0xe3ee2d>_0x243754&&(this['_index'][_0x48b2e5]=_0xe3ee2d-(0x115f+-0x19d5+0x877));}return!(-0xb6*0x4+0x189d+0x1*-0x15c5);}return!(0x1687*-0x1+0xb*0x80+0x8*0x221);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=-0x2b*-0x92+0xe3d+-0x26c3;for(const _0x5b268e in this['_index'])delete this['_index'][_0x5b268e];}}const ux=_0x586529=>{const _0x48d7fc={};let _0x44ebcd=_0x48d7fc;return()=>(_0x44ebcd===_0x48d7fc&&(_0x44ebcd=_0x586529()),_0x44ebcd);},ii=class ii{static['loadScript'](_0x30c01d,_0x929f97){const _0x504a6d=document['createElem'+'ent']('script');_0x504a6d['setAttribu'+'te']('src',_0x30c01d),_0x504a6d['onload']=()=>{_0x929f97(null);},_0x504a6d['onerror']=()=>{_0x929f97('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x30c01d+'\x27');},document['body']['appendChil'+'d'](_0x504a6d);}static['loadWasm'](_0x37cf6a,_0x11c8ef,_0x2503d3){const _0x1078f6=ii['wasmSuppor'+'ted']()&&_0x11c8ef['glueUrl']&&_0x11c8ef['wasmUrl']?_0x11c8ef['glueUrl']:_0x11c8ef['fallbackUr'+'l'];_0x1078f6?ii['loadScript'](_0x1078f6,_0x2738b7=>{if(_0x2738b7)_0x2503d3(_0x2738b7,null);else{const _0x535cd1=window[_0x37cf6a];window[_0x37cf6a]=void(-0x1a07+-0x27*0x6b+-0xc*-0x387),_0x535cd1({'locateFile':()=>_0x11c8ef['wasmUrl'],'onAbort':()=>{_0x2503d3('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x5ee12b=>{_0x2503d3(null,_0x5ee12b);});}}):_0x2503d3('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0x47436e){return ii['modules']['hasOwnProp'+'erty'](_0x47436e)||(ii['modules'][_0x47436e]={'config':null,'initializing':!(0x2d3*0x9+-0x9*0x19e+-0xadc),'instance':null,'callbacks':[]}),ii['modules'][_0x47436e];}static['initialize'](_0x322e1e,_0x275660){if(_0x275660['initializi'+'ng'])return;const _0x3f739a=_0x275660['config'];(_0x3f739a['glueUrl']||_0x3f739a['wasmUrl']||_0x3f739a['fallbackUr'+'l'])&&(_0x275660['initializi'+'ng']=!(-0xc2*0x15+-0x11*-0x248+-0x16de),ii['loadWasm'](_0x322e1e,_0x3f739a,(_0x4f9771,_0x174f28)=>{_0x4f9771?_0x3f739a['errorHandl'+'er']?_0x3f739a['errorHandl'+'er'](_0x4f9771):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x322e1e+'\x20error='+_0x4f9771):(_0x275660['instance']=_0x174f28,_0x275660['callbacks']['forEach'](_0x31f364=>{_0x31f364(_0x174f28);}));}));}};h(ii,'modules',{}),h(ii,'wasmSuppor'+'ted',ux(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x321251=new WebAssembly['Module'](Uint8Array['of'](0x24fb+0x2*-0x34+-0xc31*0x3,0x3*0x331+-0x125*0x11+0xa43,0x26e*0x8+0x19d6+-0x2cd3,0x83*-0x1a+-0xd*-0x1b4+0x869*-0x1,-0x1e3f+-0x7*-0x38a+-0x2bd*-0x2,-0x74e+0x4*0x6df+-0x142e,-0x1*0x1675+0x7aa+-0xecb*-0x1,0x2*0x3b+-0xea9+0x2d7*0x5));if(_0x321251 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x321251)instanceof WebAssembly['Instance'];}}catch{}return!(-0x2*0x133d+-0x1*-0xd28+0x1953);}));let Yr=ii;class YS{static['setConfig'](_0x371307,_0x11ee4a){const _0x54fb3e=Yr['getModule'](_0x371307);_0x54fb3e['config']=_0x11ee4a,_0x54fb3e['callbacks']['length']>-0x1bcf+0x1*0x16c1+0x50e*0x1&&Yr['initialize'](_0x371307,_0x54fb3e);}static['getConfig'](_0x47781d){var _0x25f519,_0x438d1d;return(_0x438d1d=(_0x25f519=Yr['modules'])==null?void(0x2*0xdaf+0x26d2+-0x4*0x108c):_0x25f519[_0x47781d])==null?void(-0x1b5e+0x2*-0x1327+0x41ac):_0x438d1d['config'];}static['getInstanc'+'e'](_0x276883,_0x5d4701){const _0x5ca612=Yr['getModule'](_0x276883);_0x5ca612['instance']?_0x5d4701(_0x5ca612['instance']):(_0x5ca612['callbacks']['push'](_0x5d4701),_0x5ca612['config']&&Yr['initialize'](_0x276883,_0x5ca612));}}class KS{constructor(_0x3675da){h(this,'arraybuffe'+'r'),h(this,'dataView'),h(this,'offset',-0x2*-0x369+0x1d6e+-0xe8*0x28),(this['arraybuffe'+'r']=_0x3675da,this['dataView']=new DataView(_0x3675da));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x370678=-0xdd3*-0x1+-0x1a8d+-0x16a*-0x9){this['offset']=_0x370678;}['skip'](_0x53115e){this['offset']+=_0x53115e;}['align'](_0xdaf384){this['offset']=this['offset']+_0xdaf384-(-0x1c*-0xb2+0x374+-0x16eb)&~(_0xdaf384-(-0xa8c+0x2626+-0x1*0x1b99));}['_inc'](_0x43dbdc){return this['offset']+=_0x43dbdc,this['offset']-_0x43dbdc;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x37d58c){let _0xf040a0='';for(let _0x4e57d9=-0x362+-0x87*-0x45+0x7*-0x4b7;_0x4e57d9<_0x37d58c;++_0x4e57d9)_0xf040a0+=this['readChar']();return _0xf040a0;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](0xc9f*-0x1+0x3*0x9a9+0x105a*-0x1),!(0x1*-0x182d+-0x266a+0x1*0x3e97));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](0x3*-0x7f5+-0x180d+0x2ff0),!(0xa*0xf9+-0x13*0x95+-0xb*-0x1f));}['readU64'](){return this['readU32']()+(0x145b*0x1+0xd09+0x10b1*-0x2)**(0xa84*0x2+-0x461+-0x1*0x1087)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](0x2*-0x103d+0x255*-0xa+0x26*0x178),!(-0x5c9+-0x1a6c+-0x26*-0xd9));}['readArray'](_0x3382b7){for(let _0x5e3c0d=-0x238d+0x6*-0x151+0xe3*0x31;_0x5e3c0d<_0x3382b7['length'];++_0x5e3c0d)_0x3382b7[_0x5e3c0d]=this['readU8']();}['readLine'](){const _0x107d32=this['dataView'];let _0x523e3d='';for(;!(this['offset']>=_0x107d32['byteLength']);){const _0x57696d=String['fromCharCo'+'de'](this['readU8']());if(_0x57696d==='\x0a')break;_0x523e3d+=_0x57696d;}return _0x523e3d;}}class oh{constructor(_0x3d1763){h(this,'items',[]),h(this,'length',0x13*0xb5+0x1*0x1993+-0x2702),h(this,'loopIndex',-(-0xa76+-0xd32+0x17a9)),h(this,'_sortBy'),h(this,'_sortHandl'+'er'),(this['_sortBy']=_0x3d1763['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x4bee2e){let _0x19d350=0x5*0x297+-0x4ee*0x3+0x9d*0x3,_0x3ab69e=this['items']['length']-(-0x18f7+-0x1b8f+0x3487);const _0xe0670d=_0x4bee2e[this['_sortBy']];let _0x4703ca,_0x28cf7c;for(;_0x19d350<=_0x3ab69e;)_0x4703ca=Math['floor']((_0x19d350+_0x3ab69e)/(-0x2202+0x10d*-0x11+0x33e1)),_0x28cf7c=this['items'][_0x4703ca][this['_sortBy']],_0x28cf7c<=_0xe0670d?_0x19d350=_0x4703ca+(0xb7d+0x65*0x47+-0x277f*0x1):_0x28cf7c>_0xe0670d&&(_0x3ab69e=_0x4703ca-(-0xd7*-0x2b+0x388*-0x8+-0x7dc));return _0x19d350;}['_doSort'](_0x1653b6,_0x4b1c16){const _0x127305=this['_sortBy'];return _0x1653b6[_0x127305]-_0x4b1c16[_0x127305];}['insert'](_0x5273d4){const _0x2cb87e=this['_binarySea'+'rch'](_0x5273d4);this['items']['splice'](_0x2cb87e,-0x29f+-0x222d+0x1e*0x13a,_0x5273d4),this['length']++,this['loopIndex']>=_0x2cb87e&&this['loopIndex']++;}['append'](_0xf1fb12){this['items']['push'](_0xf1fb12),this['length']++;}['remove'](_0x476038){const _0x5e7f34=this['items']['indexOf'](_0x476038);_0x5e7f34<0x1*-0x3bc+-0x2*-0x664+-0x90c||(this['items']['splice'](_0x5e7f34,-0x948+0x1597*0x1+-0xc4e),this['length']--,this['loopIndex']>=_0x5e7f34&&this['loopIndex']--);}['sort'](){const _0x36cf29=this['loopIndex']>=0x889+-0xe40+0x5b7?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x36cf29!==null&&(this['loopIndex']=this['items']['indexOf'](_0x36cf29));}}class Oo extends me{constructor(_0x300ebb){super(),h(this,'_index',{}),h(this,'_list',[]),this['_parent']=_0x300ebb;}['add'](..._0x5f361e){let _0x14cb44=!(-0x2362+-0x1*-0x4+-0x235f*-0x1);const _0x2bacf2=this['_processAr'+'guments'](_0x5f361e,!(0xa86+0x1ba1+-0x2627));if(!_0x2bacf2['length'])return _0x14cb44;for(let _0x1c6232=0x2373+0x1*-0x26a5+0x2*0x199;_0x1c6232<_0x2bacf2['length'];_0x1c6232++)this['_index'][_0x2bacf2[_0x1c6232]]||(_0x14cb44=!(0x11*0x24a+0xe*-0x1af+-0xf58),this['_index'][_0x2bacf2[_0x1c6232]]=!(-0x1*0x115+-0x124a+0x135f*0x1),this['_list']['push'](_0x2bacf2[_0x1c6232]),this['fire']('add',_0x2bacf2[_0x1c6232],this['_parent']));return _0x14cb44&&this['fire']('change',this['_parent']),_0x14cb44;}['remove'](..._0x40ecab){let _0x7e976d=!(0x256b+0x3*0x418+-0x18d9*0x2);if(!this['_list']['length'])return _0x7e976d;const _0x1b8a45=this['_processAr'+'guments'](_0x40ecab,!(-0x1*0x14fd+0x1*0x33e+0x11bf));if(!_0x1b8a45['length'])return _0x7e976d;for(let _0x99ff5c=0x2420+0x8d*-0x5+-0x215f;_0x99ff5c<_0x1b8a45['length'];_0x99ff5c++)this['_index'][_0x1b8a45[_0x99ff5c]]&&(_0x7e976d=!(-0xe7f*-0x2+0x71*0x45+-0x3b73),delete this['_index'][_0x1b8a45[_0x99ff5c]],this['_list']['splice'](this['_list']['indexOf'](_0x1b8a45[_0x99ff5c]),0x3e4*0x1+0x13b1+-0x1794),this['fire']('remove',_0x1b8a45[_0x99ff5c],this['_parent']));return _0x7e976d&&this['fire']('change',this['_parent']),_0x7e976d;}['clear'](){if(!this['_list']['length'])return;const _0x5b2ba3=this['_list']['slice'](-0x132+-0x2*-0x8b3+-0x1034);this['_list']=[],this['_index']={};for(let _0x3d2fa3=-0x203e*-0x1+-0x85f*0x2+-0xf80;_0x3d2fa3<_0x5b2ba3['length'];_0x3d2fa3++)this['fire']('remove',_0x5b2ba3[_0x3d2fa3],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x37d9f7){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x37d9f7)):!(0x1b9e+0x11e8+-0x2b*0x10f);}['_has'](_0x43b5ce){if(!this['_list']['length']||!_0x43b5ce['length'])return!(-0x5ff*-0x1+0x1*-0xe3+0x1*-0x51b);for(let _0x2931d5=0x2cc*-0x8+0x35*0xb9+-0xfed;_0x2931d5<_0x43b5ce['length'];_0x2931d5++)if(_0x43b5ce[_0x2931d5]['length']===0x6*0x3d+-0xe29+0x28c*0x5){if(this['_index'][_0x43b5ce[_0x2931d5][0x71*0x44+0x79e+-0x25a2]])return!(0x1*0x2183+-0x29*0xc1+-0x29a);}else{let _0x17cad6=!(0x171a+-0x115*-0xb+0x67*-0x57);for(let _0x328715=0x12a7+0x1*-0x207d+0xdd6;_0x328715<_0x43b5ce[_0x2931d5]['length'];_0x328715++)if(!this['_index'][_0x43b5ce[_0x2931d5][_0x328715]]){_0x17cad6=!(0x5cc+0xc2*-0x12+0x7d9);break;}if(_0x17cad6)return!(-0x699*0x1+-0x4ac+0x5*0x241);}return!(0x1755+0x2*-0xddb+0x462);}['list'](){return this['_list']['slice'](-0x487+-0x1*0x25d6+0x879*0x5);}['_processAr'+'guments'](_0x2a054f,_0x334043){const _0x587ca1=[];let _0x40da36=[];if(!_0x2a054f||!_0x2a054f['length'])return _0x587ca1;for(let _0x196e35=0x115*-0x1e+0x1a21*-0x1+0x3a97;_0x196e35<_0x2a054f['length'];_0x196e35++)if(_0x2a054f[_0x196e35]instanceof Array){_0x334043||(_0x40da36=[]);for(let _0x36fc47=-0x101c+0x2104+-0x4*0x43a;_0x36fc47<_0x2a054f[_0x196e35]['length'];_0x36fc47++)typeof _0x2a054f[_0x196e35][_0x36fc47]=='string'&&(_0x334043?_0x587ca1['push'](_0x2a054f[_0x196e35][_0x36fc47]):_0x40da36['push'](_0x2a054f[_0x196e35][_0x36fc47]));!_0x334043&&_0x40da36['length']&&_0x587ca1['push'](_0x40da36);}else typeof _0x2a054f[_0x196e35]=='string'&&(_0x334043?_0x587ca1['push'](_0x2a054f[_0x196e35]):_0x587ca1['push']([_0x2a054f[_0x196e35]]));return _0x587ca1;}get['size'](){return this['_list']['length'];}}h(Oo,'EVENT_ADD','add'),h(Oo,'EVENT_REMO'+'VE','remove'),h(Oo,'EVENT_CHAN'+'GE','change');const de=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],px=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Rd{constructor(_0x321d54){h(this,'scheme'),h(this,'authority'),h(this,'path'),h(this,'query'),h(this,'fragment');const _0x538c81=_0x321d54['match'](px);this['scheme']=_0x538c81[-0x1e*-0x2e+-0x26f7+0x2195],this['authority']=_0x538c81[-0x42*0x2f+-0x1*0x1019+0x21*0xdb],this['path']=_0x538c81[0x827*0x2+-0x23c1+0x1378],this['query']=_0x538c81[-0x2a9*0x1+0x16ca+-0x141a],this['fragment']=_0x538c81[0x127*0xb+-0x14b5+0x811];}['toString'](){let _0x506ca8='';return this['scheme']&&(_0x506ca8+=this['scheme']+':'),this['authority']&&(_0x506ca8+='//'+this['authority']),_0x506ca8+=this['path'],this['query']&&(_0x506ca8+='?'+this['query']),this['fragment']&&(_0x506ca8+='#'+this['fragment']),_0x506ca8;}['getQuery'](){const _0x2be339={};if(this['query']){const _0x1c8957=decodeURIComponent(this['query'])['split']('&');for(const _0x4036bf of _0x1c8957){const _0x1cd855=_0x4036bf['split']('=');_0x2be339[_0x1cd855[0x1*0x14ff+-0x1*0x14f7+0x2*-0x4]]=_0x1cd855[-0x3c*0xa6+0x1*0x1c21+0x4*0x2b2];}}return _0x2be339;}['setQuery'](_0x28a451){let _0x427d52='';for(const _0x156e31 in _0x28a451)_0x28a451['hasOwnProp'+'erty'](_0x156e31)&&(_0x427d52!==''&&(_0x427d52+='&'),_0x427d52+=encodeURIComponent(_0x156e31)+'='+encodeURIComponent(_0x28a451[_0x156e31]));this['query']=_0x427d52;}}const mx=0xf3*0x6+-0x11d1*0x1+-0x1d*-0x6b,tp=-0xe82+0x37b+0xb08,Nm=0x6a7+0x1bee+0x1*-0x2291,_x=0xdad+-0x2fa+0x2*-0x557,Y={'DEG_TO_RAD':Math['PI']/(-0x1d06+0x1671+0x749),'RAD_TO_DEG':(-0x11a6+0xb*0x1cc+0x1*-0x16a)/Math['PI'],'clamp'(_0x429d2a,_0x34369e,_0x115f7b){return _0x429d2a>=_0x115f7b?_0x115f7b:_0x429d2a<=_0x34369e?_0x34369e:_0x429d2a;},'intToBytes24'(_0x45700b){const _0x272ea3=_0x45700b>>0x11*-0x1fc+0x27*0xda+-0x1*-0x96&0x416*-0x4+-0xaaf+-0x2*-0xe03,_0x4dd3d=_0x45700b>>0x19*-0xb5+0x1*0xa91+0x724*0x1&0x2*-0xfe5+-0x91+-0x215a*-0x1,_0xa4d0eb=_0x45700b&-0x10fa+-0x65*0x2b+0x22f0;return[_0x272ea3,_0x4dd3d,_0xa4d0eb];},'intToBytes32'(_0x35590c){const _0x5c1180=_0x35590c>>0xf*-0x251+-0x24e+-0x25*-0x101&-0x443*-0x2+-0x1d*-0x83+0xb2f*-0x2,_0x43a845=_0x35590c>>-0xdea*-0x1+0x74f*-0x5+0x16b1&0x1*0x23f9+0x65*-0x36+-0xdac,_0x5339e5=_0x35590c>>0x1*0x179f+0x1*-0xe8f+0x22*-0x44&0x26ad*0x1+-0x21*0x61+-0x1*0x192d,_0x9ed40c=_0x35590c&0x557+-0x1*0x12e5+0xe8d;return[_0x5c1180,_0x43a845,_0x5339e5,_0x9ed40c];},'bytesToInt24'(_0x452b68,_0x353c77,_0x4f3680){return _0x452b68['length']&&(_0x4f3680=_0x452b68[0x21fa*-0x1+0xb99+0x1*0x1663],_0x353c77=_0x452b68[0x35a+0x7ca*0x5+-0x2a4b],_0x452b68=_0x452b68[-0x4*0x6dd+0x1817+0x35d]),_0x452b68<<-0x142*0x12+0x8e3+0xdd1|_0x353c77<<0x1491+0x1560+-0x29e9|_0x4f3680;},'bytesToInt32'(_0x5b27c0,_0x38f2b9,_0x1e448d,_0x1aab83){return _0x5b27c0['length']&&(_0x1aab83=_0x5b27c0[-0x6d*0x43+-0x1*-0x87d+-0x1*-0x140d],_0x1e448d=_0x5b27c0[-0x13f3+-0x1cc2+0x103d*0x3],_0x38f2b9=_0x5b27c0[0x19*-0x143+-0xdb*-0x23+-0x19b*-0x1],_0x5b27c0=_0x5b27c0[-0xe60+0xfdd+-0x17d]),(_0x5b27c0<<0x16e8+0xb66+-0x12e*0x1d|_0x38f2b9<<-0x1*0x455+-0x21*-0x43+-0x43e|_0x1e448d<<0x1d*-0x9+0x13f5+0x974*-0x2|_0x1aab83)>>>0x154f*-0x1+-0x1*0x1f3b+-0x1a45*-0x2;},'lerp'(_0x16ac10,_0x42e110,_0x5e445b){return _0x16ac10+(_0x42e110-_0x16ac10)*Y['clamp'](_0x5e445b,-0x1c8+0x1f9a+-0x1dd2,0x1*-0x1e39+-0x9*-0x35e+0xa*-0x2);},'lerpAngle'(_0x49e20f,_0x2019aa,_0x1e3820){return _0x2019aa-_0x49e20f>0x156*0x3+0x1959*0x1+-0x1ca7&&(_0x2019aa-=-0x407*0x6+0x50c+-0x8e*-0x25),_0x2019aa-_0x49e20f<-(0xd80+0xc56+-0x2*0xc91)&&(_0x2019aa+=0x6cf*0x3+-0x1*-0xa99+-0x11*0x1be),Y['lerp'](_0x49e20f,_0x2019aa,Y['clamp'](_0x1e3820,-0x1bce+-0x1b07+0x36d5,-0xa5b+0x2*0x1295+0x49*-0x5e));},'powerOfTwo'(_0x270a1a){return _0x270a1a!==-0x16*-0x102+-0x1314*0x1+-0x58*0x9&&!(_0x270a1a&_0x270a1a-(-0x10*0xe8+0x205a+0x5f3*-0x3));},'nextPowerOfTwo'(_0x1f997e){return _0x1f997e--,_0x1f997e|=_0x1f997e>>-0xf3b+-0x1*0x1f66+0x2ea2,_0x1f997e|=_0x1f997e>>0xfdc+-0x1*0x599+-0xa41,_0x1f997e|=_0x1f997e>>0x22d1+-0x249b+0x1ce,_0x1f997e|=_0x1f997e>>-0x283*-0xd+0x90*0x13+0x2b4f*-0x1,_0x1f997e|=_0x1f997e>>0x2a6+-0x18b+0x1*-0x10b,_0x1f997e++,_0x1f997e;},'nearestPowerOfTwo'(_0x5658fe){return Math['pow'](0x1d51*0x1+-0x1*0x200b+0x2bc,Math['round'](Math['log2'](_0x5658fe)));},'random'(_0x584f22,_0x1f836c){const _0x4d7271=_0x1f836c-_0x584f22;return Math['random']()*_0x4d7271+_0x584f22;},'smoothstep'(_0x4b94f6,_0x8a9c5d,_0x11d380){return _0x11d380<=_0x4b94f6?-0x1100+-0x16*0x1b2+0x364c:_0x11d380>=_0x8a9c5d?0x1d0a+-0x22eb+0x5e2:(_0x11d380=(_0x11d380-_0x4b94f6)/(_0x8a9c5d-_0x4b94f6),_0x11d380*_0x11d380*(-0x2*-0x130e+0x1*0x131f+-0x3938-(0x32*0x33+-0x18c3+0xdf*0x11)*_0x11d380));},'smootherstep'(_0x5ad27f,_0x4af654,_0x4990b1){return _0x4990b1<=_0x5ad27f?-0xcd5+-0x140d*-0x1+-0x738:_0x4990b1>=_0x4af654?0x18b2+0x20e5+-0x12*0x333:(_0x4990b1=(_0x4990b1-_0x5ad27f)/(_0x4af654-_0x5ad27f),_0x4990b1*_0x4990b1*_0x4990b1*(_0x4990b1*(_0x4990b1*(0x21d3+-0x219d*0x1+-0x30)-(0x2*0x227+0x2603+0x3*-0xe16))+(0x469*0x1+-0x1b*0x72+-0x1*-0x7a7)));},'roundUp'(_0x7a9826,_0x270103){return _0x270103===-0xf8e*0x1+0xeb2+0xdc?_0x7a9826:Math['ceil'](_0x7a9826/_0x270103)*_0x270103;},'between'(_0x57e649,_0x1ef4b3,_0x1782b4,_0x1f0b03){const _0x123294=Math['min'](_0x1ef4b3,_0x1782b4),_0x7996b9=Math['max'](_0x1ef4b3,_0x1782b4);return _0x1f0b03?_0x57e649>=_0x123294&&_0x57e649<=_0x7996b9:_0x57e649>_0x123294&&_0x57e649<_0x7996b9;}},Tt=class Tt{constructor(_0x5f9b0a=0x144+0x901+0x1*-0xa45,_0xfcfdfe=0x1a1b+0x2*-0x1bf+-0x169d*0x1,_0x389e8c=-0x2631+0x1935*-0x1+0x3f66,_0x243fae=-0x1*-0x2002+0x599+-0x259a){h(this,'r'),h(this,'g'),h(this,'b'),h(this,'a');const _0x51db8b=_0x5f9b0a['length'];_0x51db8b===-0x2355+0xd*0x11f+-0xd*-0x199||_0x51db8b===0x2675+0x1036*0x1+-0x1*0x36a7?(this['r']=_0x5f9b0a[0xdb*-0x2d+-0x21a4+0x4823],this['g']=_0x5f9b0a[0x4e2+0x1483+-0x1964],this['b']=_0x5f9b0a[-0x14ac+-0x5*-0x3de+-0x1*-0x158],this['a']=_0x5f9b0a[0x270b*0x1+0x2584+-0x2e*0x1aa]??-0x1e99+-0xa82+0x291c):(this['r']=_0x5f9b0a,this['g']=_0xfcfdfe,this['b']=_0x389e8c,this['a']=_0x243fae);}['clone'](){const _0x192ed8=this['constructo'+'r'];return new _0x192ed8(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x102daa){return this['r']=_0x102daa['r'],this['g']=_0x102daa['g'],this['b']=_0x102daa['b'],this['a']=_0x102daa['a'],this;}['equals'](_0x51269d){return this['r']===_0x51269d['r']&&this['g']===_0x51269d['g']&&this['b']===_0x51269d['b']&&this['a']===_0x51269d['a'];}['set'](_0x4212a5,_0x561ce6,_0x2bb338,_0x534b3c=-0x2*0x961+0x111c+0x9*0x2f){return this['r']=_0x4212a5,this['g']=_0x561ce6,this['b']=_0x2bb338,this['a']=_0x534b3c,this;}['lerp'](_0x3e92fa,_0xd6e282,_0x963104){return this['r']=_0x3e92fa['r']+_0x963104*(_0xd6e282['r']-_0x3e92fa['r']),this['g']=_0x3e92fa['g']+_0x963104*(_0xd6e282['g']-_0x3e92fa['g']),this['b']=_0x3e92fa['b']+_0x963104*(_0xd6e282['b']-_0x3e92fa['b']),this['a']=_0x3e92fa['a']+_0x963104*(_0xd6e282['a']-_0x3e92fa['a']),this;}['linear'](_0x3763d3=this){return this['r']=Math['pow'](_0x3763d3['r'],-0x21*-0xb5+0x1*0x916+-0x1*0x2069+0.20000000000000018),this['g']=Math['pow'](_0x3763d3['g'],0x373*-0x1+-0x1*-0x112d+-0x8*0x1b7+0.20000000000000018),this['b']=Math['pow'](_0x3763d3['b'],-0x5*0x513+0x30+0x1931*0x1+0.20000000000000018),this['a']=_0x3763d3['a'],this;}['gamma'](_0x5d6840=this){return this['r']=Math['pow'](_0x5d6840['r'],(0x2*-0x8b+-0x272*0x1+-0x1*-0x389)/(0x1*0x100d+-0x2166+0x1*0x115b+0.20000000000000018)),this['g']=Math['pow'](_0x5d6840['g'],(-0x5*0x782+0x486*-0x8+0x49bb)/(0x244c+0x287+-0x26d1+0.20000000000000018)),this['b']=Math['pow'](_0x5d6840['b'],(-0x1*0x5d5+-0x1034*0x2+0x263e)/(-0xf*-0x4b+0xce1*-0x1+0x87e+0.20000000000000018)),this['a']=_0x5d6840['a'],this;}['mulScalar'](_0x3b389a){return this['r']*=_0x3b389a,this['g']*=_0x3b389a,this['b']*=_0x3b389a,this;}['fromString'](_0x12096c){const _0x3b00c3=parseInt(_0x12096c['replace']('#','0x'),-0x1a0a+0x1107*-0x2+0xdc*0x46);let _0x52ab2c;return _0x12096c['length']>0x17f2*0x1+0x10*-0xfa+-0xc1*0xb?_0x52ab2c=Y['intToBytes'+'32'](_0x3b00c3):(_0x52ab2c=Y['intToBytes'+'24'](_0x3b00c3),_0x52ab2c[0x98a*0x3+0x1*0x192d+-0x35c8]=-0xd07+0x362+-0x3*-0x38c),this['set'](_0x52ab2c[-0xbff*-0x1+-0x11a1+0x2*0x2d1]/(0xe9f+0x4*0x4a3+-0x47*0x74),_0x52ab2c[-0xeaa*-0x1+-0xce7+-0x1c2]/(0x2654+0x13b9+-0x390e),_0x52ab2c[-0x1*-0x25bd+0x8*-0x74+-0x221b]/(0xc*0xc+-0xf33+-0x3*-0x536),_0x52ab2c[0xdab+-0x3*0x15a+0x99a*-0x1]/(0x22db*-0x1+0x5fd+0x8b*0x37)),this;}['fromArray'](_0x470fff,_0xdeef14=0x1*-0x3e2+-0x109d+0x147f){return this['r']=_0x470fff[_0xdeef14]??this['r'],this['g']=_0x470fff[_0xdeef14+(0x8b*-0x32+0x5*0x8e+0x1*0x1861)]??this['g'],this['b']=_0x470fff[_0xdeef14+(0xad*0xb+-0x1e29+0x61*0x3c)]??this['b'],this['a']=_0x470fff[_0xdeef14+(0x1c3d+-0xa8d*0x3+0x36d)]??this['a'],this;}['toString'](_0x570907,_0x5b6eb1){const {r:_0x1e062f,g:_0x1be643,b:_0x54b4db,a:_0xf3ea5b}=this;if(_0x5b6eb1||_0x1e062f>-0x239+-0x1843+-0x1a7d*-0x1||_0x1be643>-0x1cc8*0x1+-0x2235+-0x2dd*-0x16||_0x54b4db>-0x34*0x63+-0x6f*-0x37+-0x3bc)return _0x1e062f['toFixed'](0x1829+0x947*-0x2+-0x2*0x2cc)+',\x20'+_0x1be643['toFixed'](0x206a+0x7*0xa6+-0x547*0x7)+',\x20'+_0x54b4db['toFixed'](-0x25bd*-0x1+-0x520+-0x209a)+',\x20'+_0xf3ea5b['toFixed'](0x1*0x21fb+-0x1079+-0x117f*0x1);let _0x2b8274='#'+((0x4b1+0x1ad2+-0x1f82<<-0x1c86+-0xa*-0x215+0x7cc)+(Math['round'](_0x1e062f*(0x285+0x21ca+-0x28*0xe2))<<-0x1f70+0x15d1+0x9af*0x1)+(Math['round'](_0x1be643*(0x513*-0x1+-0x42b+0xa3d))<<0x17ea+-0xee*-0x1d+-0x32d8)+Math['round'](_0x54b4db*(-0x1*-0x315+0x10f7+0x1*-0x130d)))['toString'](-0x1*-0x5bc+0xbb3+-0x1*0x115f)['slice'](0xcd7+-0x1090+-0x6*-0x9f);if(_0x570907===!(0x25+0x26d5+0xcfe*-0x3)){const _0x2afb00=Math['round'](_0xf3ea5b*(0x331+-0x3e*-0x17+-0x7c4))['toString'](0xf69+0x1b*-0x11d+0xeb6);this['a']<(-0xac9*-0x3+-0x5df*-0x2+-0x2c09)/(-0x1c*0x126+0x2a1*-0xd+0x7c*0x8b)?_0x2b8274+='0'+_0x2afb00:_0x2b8274+=_0x2afb00;}return _0x2b8274;}['toArray'](_0x2876a1=[],_0x235db8=-0xe55+0x21a9*-0x1+0x2ffe,_0x49237a=!(-0x43a*-0x6+0x74b+-0x20a7)){return _0x2876a1[_0x235db8]=this['r'],_0x2876a1[_0x235db8+(-0x10ff+0x15b1+-0x4b1*0x1)]=this['g'],_0x2876a1[_0x235db8+(-0x5*-0x172+0x50e*0x3+0xf*-0x17e)]=this['b'],_0x49237a&&(_0x2876a1[_0x235db8+(-0x12f4+0x21e0+-0xee9)]=this['a']),_0x2876a1;}};h(Tt,'BLACK',Object['freeze'](new Tt(0x345*-0x9+0x1097*-0x2+0x3e9b,-0x1196+-0xfc+0x2*0x949,-0xeec+-0x150c+0x23f8,-0x258a*-0x1+-0x4c6*-0x2+-0x2f15))),h(Tt,'BLUE',Object['freeze'](new Tt(0x1*0x9d7+0xa86+-0x1*0x145d,0x2*-0xefb+-0x761*-0x2+-0x116*-0xe,-0x21a3+0x13ae+0xdf6,0x7f*-0x3e+-0xe1*-0x26+0x2a3*-0x1))),h(Tt,'CYAN',Object['freeze'](new Tt(0x1663+-0x1*0xa3+-0x15c0,0x10f7+0x68*-0x2a+0x1a,-0x2149+-0xa41+0x2b8b,-0x789+-0xd*-0x199+-0xd3b))),h(Tt,'GRAY',Object['freeze'](new Tt(-0x2*0xf27+0x4e*0x72+0xa2*-0x7+0.5,-0x1*0x2604+-0xe0b+0x1*0x340f+0.5,0x102c+0xe0f+0x1e3b*-0x1+0.5,0xf*0x174+0x1df7+-0x1*0x33c2))),h(Tt,'GREEN',Object['freeze'](new Tt(0x1*0xff5+0x2*0x18d+0x7*-0x2b9,0xe34+0x2*0x5eb+0xd7*-0x1f,-0x33b*0x1+-0x1614+0x194f,-0x1c50+-0x3af+0x2000))),h(Tt,'MAGENTA',Object['freeze'](new Tt(-0x419*0x3+-0x41d*-0x3+0x1*-0xb,0x1e14+0x47*-0x67+-0x9*0x2b,-0xf02+0x2340+-0x143d,-0x1ab8+-0x1*0x435+0x1eee))),h(Tt,'RED',Object['freeze'](new Tt(-0x937+0x521+-0x15d*-0x3,-0x1730+-0x6*0x5da+-0xa4*-0x5b,0x10*0x49+0x158f*0x1+-0x1a1f,-0xfb*-0x22+-0x9*-0x22e+-0xa97*0x5))),h(Tt,'WHITE',Object['freeze'](new Tt(-0x751+-0x1fd9*-0x1+-0x1887,-0x1*0x286+0x2*-0xb+0x29d,-0x63a+0x4b8*0x7+-0x1acd,0x2*-0x4+-0x225*0xd+0x1*0x1bea))),h(Tt,'YELLOW',Object['freeze'](new Tt(0x1*-0xb25+0x24b5+-0x198f,0xe3e+-0x15ce+0x791,0x2d*-0xcf+0x36f+-0x2bf*-0xc,0x26b0*0x1+-0x13c8+0x12e7*-0x1)));let ie=Tt;class ZS{constructor(_0x2456fe,_0x3a2b6c=-0x65e+0x23c7+0x1d69*-0x1){h(this,'_curve'),h(this,'_left',-(-0x1*0x925+0xffc*0x2+-0x16d2)/(0x1df*-0x1+0x538+0x1*-0x359)),h(this,'_right',(-0x1f62+0x1*-0x15d+0x20c0)/(0x10*-0x254+-0xd67+0x32a7)),h(this,'_recip',0x1e+-0x145*0x15+0x1a8b),h(this,'_p0',0x96*-0x41+-0x2*-0x12ae+-0x6*-0x1f),h(this,'_p1',0x1e58+-0x9*-0x37f+-0x1*0x3dcf),h(this,'_m0',0x106*0x1+0x11d*0x7+0x3d*-0x25),h(this,'_m1',-0xd47+-0x184b+0x2592),(this['_curve']=_0x2456fe,this['_reset'](_0x3a2b6c));}['evaluate'](_0x5e0d4a,_0x2fa7b8=!(0x6e*0x1f+0x3f4*0x6+-0x2509)){(_0x2fa7b8||_0x5e0d4a<this['_left']||_0x5e0d4a>=this['_right'])&&this['_reset'](_0x5e0d4a);let _0x43698e;const _0x183a32=this['_curve']['type'];if(_0x183a32===_x)_0x43698e=this['_p0'];else{const _0x2aa8ca=this['_recip']===0x2695+-0x159b+-0x87d*0x2?-0x455*-0x5+-0x20c1+-0x1*-0xb18:(_0x5e0d4a-this['_left'])*this['_recip'];_0x183a32===mx?_0x43698e=Y['lerp'](this['_p0'],this['_p1'],_0x2aa8ca):_0x183a32===tp?_0x43698e=Y['lerp'](this['_p0'],this['_p1'],_0x2aa8ca*_0x2aa8ca*(0xb48+-0x1*0x1153+0x60e-(-0x145*0x19+0x1d32+0x1*0x28d)*_0x2aa8ca)):_0x43698e=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x2aa8ca);}return _0x43698e;}['_reset'](_0x315d6e){const _0x5cbebd=this['_curve']['keys'],_0x5444ea=_0x5cbebd['length'];if(!_0x5444ea)this['_left']=-(-0x2*-0xdd2+0x1422+0x1*-0x2fc5)/(0x1060+-0x3d*0x83+0x83*0x1d),this['_right']=(-0x177e+-0x1170+0x28ef)/(0xca0+0x21f*-0xb+0xab5),this['_recip']=-0xcbb*-0x2+-0x116*0x2+-0xba5*0x2,this['_p0']=this['_p1']=this['_m0']=this['_m1']=-0x7*0x152+-0x2e*-0x86+-0x4f2*0x3;else{if(_0x315d6e<_0x5cbebd[0xb5a+0x6f7*0x2+-0x1948][-0x213b+-0x2*-0x509+0x1729])this['_left']=-(0x1*-0x1d83+0x2*-0xb5c+0x1*0x343c)/(-0x18f7+-0xb5*-0xb+0x1130),this['_right']=_0x5cbebd[-0x485+0x8db*0x1+0x456*-0x1][0xd1a+-0x1414+0x6fa],this['_recip']=0x3b1+0x14b3+-0x1864,this['_p0']=this['_p1']=_0x5cbebd[-0x509+0x1825+0x4c7*-0x4][-0x266d+0xd4*-0xb+0x2f8a],this['_m0']=this['_m1']=0x10e7+-0x1ca6+0xbbf;else{if(_0x315d6e>=_0x5cbebd[_0x5444ea-(-0x23b5+-0x691+0x2a47*0x1)][-0x2a3+0xbf9+-0x5*0x1de])this['_left']=_0x5cbebd[_0x5444ea-(0x5*-0x6df+-0x1*-0x617+0x1c45*0x1)][-0x356+-0x931*-0x1+-0x5db],this['_right']=(0xd2b*0x1+-0x131*-0x1+0xe5b*-0x1)/(0x1442+0x5*0x509+-0x2d6f),this['_recip']=0x7*-0xef+-0x3a7+-0x8*-0x146,this['_p0']=this['_p1']=_0x5cbebd[_0x5444ea-(-0x2*-0xd2b+-0x1943+-0x112)][0x133*-0x1+-0x2f5*0x2+0x71e],this['_m0']=this['_m1']=0x13a*-0x8+-0x128a+-0x13*-0x17e;else{let _0x3937a8=0xa2b+-0x29*0x15+-0x1a*0x43;for(;_0x315d6e>=_0x5cbebd[_0x3937a8+(0x3*-0xb5e+-0x2d6+0x24f1)][-0xbd4*0x3+0x1968+0xd7*0xc];)_0x3937a8++;this['_left']=_0x5cbebd[_0x3937a8][-0x1f*0x19+0x1945+0xd*-0x1b6],this['_right']=_0x5cbebd[_0x3937a8+(-0x2*-0x103+-0x3*0x866+0x172d)][0x21e9*0x1+0x214e+-0x4337*0x1];const _0x4b6a0c=(0x1559+-0x1bbd+0x665*0x1)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x4b6a0c)?_0x4b6a0c:0x1*-0x17c8+0x4*0x83+-0x15bc*-0x1,this['_p0']=_0x5cbebd[_0x3937a8][-0x181b+-0x1f2b+0x3747],this['_p1']=_0x5cbebd[_0x3937a8+(-0x70b+0x1bd4+0x5f*-0x38)][0x10b1*0x2+0x335*-0x7+-0x577*0x2],this['_curve']['type']===Nm&&this['_calcTange'+'nts'](_0x5cbebd,_0x3937a8);}}}}['_calcTange'+'nts'](_0x5dcf86,_0x132f30){let _0x29d210;const _0x1ace10=_0x5dcf86[_0x132f30],_0x3c044a=_0x5dcf86[_0x132f30+(0x298+0x655*-0x4+0x16bd)];let _0x3b63d2;if(_0x132f30===-0x496+0x1b70*-0x1+-0x1003*-0x2?_0x29d210=[_0x5dcf86[-0x21d2+0x1ae8+-0x375*-0x2][-0x2431+-0x83e+-0x1*-0x2c6f]+(_0x5dcf86[-0x2477+0x77e+-0x1cf9*-0x1][0x10*0x11f+0x1a42+-0x2c32]-_0x5dcf86[0x24*0x4d+-0x2*-0x43a+0x2c1*-0x7][-0x1bd4+-0x1*-0xba7+0x102d]),_0x5dcf86[0x95*-0x21+0xb26+0x80f*0x1][-0x1b7d+0x251*0xd+-0x3d*0xb]+(_0x5dcf86[-0xef*0x3+0x1cee+-0x1a21][-0x5e*0x33+-0x1c51+0x2*0x1786]-_0x5dcf86[-0x4*-0x7cf+-0x5aa*-0x3+0x1*-0x3039][0x235+-0x1*0x26fd+0x49*0x81])]:_0x29d210=_0x5dcf86[_0x132f30-(-0x16a9+-0x66a+-0xe8a*-0x2)],_0x132f30===_0x5dcf86['length']-(0x1*-0x19c5+-0xf3e*0x2+-0x1*-0x3843)?_0x3b63d2=[_0x5dcf86[_0x132f30+(-0x7*-0x339+0x314+0x1*-0x19a2)][0x188f+0x58*0x53+0x1*-0x3517]+(_0x5dcf86[_0x132f30+(-0xc2*-0x5+0x15a*0x2+0x1*-0x67d)][-0x14c3+-0x99f*-0x1+0xb24]-_0x5dcf86[_0x132f30][-0x2*-0x10b1+0x1ca*-0x1+-0x1f98]),_0x5dcf86[_0x132f30+(-0x119*0x2+0x1*-0xcc7+0xefa)][0x1a49*0x1+-0x2ce*0x3+-0x11de]+(_0x5dcf86[_0x132f30+(-0x10b2+0x2*0x647+0x425)][-0x5b6+-0xf14+-0x14cb*-0x1]-_0x5dcf86[_0x132f30][-0x104b+0xc*-0x7c+0x587*0x4])]:_0x3b63d2=_0x5dcf86[_0x132f30+(0xb9d+0x1283+-0x1e1e)],this['_curve']['type']===Nm){const _0x50fbfe=(-0xb8+0x1*-0x979+0xa33)*(_0x3c044a[-0x36d*-0xb+-0x5*0x4d5+-0x1*0xd86]-_0x1ace10[-0x1fb3+0x4*0x1fc+0x17c3])/(_0x3c044a[-0x2ee+-0xd7f+0x106d]-_0x29d210[-0xf76*-0x1+0xffd+0x1*-0x1f73]),_0x1e5ac3=(-0x22*-0x47+0x2*0x1381+0x2*-0x1837)*(_0x3c044a[-0x637*0x3+-0x3*-0xa7f+0x2*-0x66c]-_0x1ace10[0xfb*0x1c+-0x2f*-0x32+0x9*-0x412])/(_0x3b63d2[-0x1d3*-0x3+-0x1*0x1efd+0xcc2*0x2]-_0x1ace10[0x51*-0x3a+-0x4c4+0x2*0xb8f]);this['_m0']=this['_curve']['tension']*(isFinite(_0x50fbfe)?_0x50fbfe:-0x9*0x36d+0xb09+0x13cc*0x1)*(_0x3c044a[-0x4f4*0x4+0x1*0x10d4+-0x33*-0xf]-_0x29d210[0x3e7+0x3c0+-0x7a6]),this['_m1']=this['_curve']['tension']*(isFinite(_0x1e5ac3)?_0x1e5ac3:-0x1*-0x1c09+-0x2286+0x67d)*(_0x3b63d2[0xe02+0x7*0x31f+0x23da*-0x1]-_0x1ace10[-0x2*0x301+0x1b62+-0x1*0x155f]);}else{const _0x442101=(_0x3c044a[0xa14*0x3+0x47*-0x76+0x27e]-_0x1ace10[0x1ee9*-0x1+-0xfd1*0x1+0x2eba])/(_0x1ace10[0xc4e+-0x1*0x166f+0xa21]-_0x29d210[0x2*-0xa93+-0x1a4d+0x2f73]),_0xbca713=(_0x3c044a[0xc*-0x1+-0x1788+-0x1*-0x1794]-_0x1ace10[-0x12d7+0x25c1+-0x12ea])/(_0x3b63d2[-0x3b1+-0xb9+0x46a*0x1]-_0x3c044a[-0xd5+0x13c3+-0x12ee]),_0x3d9b79=_0x1ace10[-0x26c4+0x13*-0x1f5+0x4bf4]+(_0x29d210[-0x66e+0x13*0x179+-0x158c]-_0x1ace10[0x2*-0x7e5+-0x17d*0x9+0x1d30])*(isFinite(_0x442101)?_0x442101:-0x8c8+0x2621+0x1*-0x1d59),_0xf3f53e=_0x3c044a[0x3b*0x2b+-0x685*0x1+0x33*-0x11]+(_0x3b63d2[0x2*0xd03+-0xba+-0x194b]-_0x3c044a[-0x216f+0xd3a*-0x1+0x2eaa])*(isFinite(_0xbca713)?_0xbca713:-0x3*-0x36+0xb*0x165+-0xff9),_0x5850be=this['_curve']['tension'];this['_m0']=_0x5850be*(_0x3c044a[0x4b*0x6f+0x4*0x3df+-0x3000]-_0x3d9b79),this['_m1']=_0x5850be*(_0xf3f53e-_0x1ace10[-0x472*0x2+-0x2d*-0x6f+-0x97*0x12]);}}['_evaluateH'+'ermite'](_0x59ea11,_0x3d400e,_0x355c1d,_0x4a9ace,_0x3b9fa2){const _0x212a8f=_0x3b9fa2*_0x3b9fa2,_0x1c825b=_0x3b9fa2+_0x3b9fa2,_0x47f0b1=-0x2336+-0x74f*-0x1+0xbc*0x26-_0x3b9fa2,_0x327a6e=_0x47f0b1*_0x47f0b1;return _0x59ea11*((-0x69e+0xee+-0x2f*-0x1f+_0x1c825b)*_0x327a6e)+_0x355c1d*(_0x3b9fa2*_0x327a6e)+_0x3d400e*(_0x212a8f*(0x22e0+-0x7*-0xb5+-0x27d0-_0x1c825b))+_0x4a9ace*(_0x212a8f*(_0x3b9fa2-(0x1391+-0x5*-0x529+-0x2d5d)));}}class qs{constructor(_0xfcae03){h(this,'keys',[]),h(this,'type',tp),h(this,'tension',0xa*0x32f+-0x1f03+0x1*-0xd3+0.5),h(this,'_eval',new ZS(this));if(_0xfcae03){for(let _0x15adca=-0x24b5*0x1+-0x4a9*0x7+-0x99*-0x74;_0x15adca<_0xfcae03['length']-(-0x653*-0x1+0x3*-0x161+-0x22f);_0x15adca+=0x1237+0x2519+-0x374e)this['keys']['push']([_0xfcae03[_0x15adca],_0xfcae03[_0x15adca+(0x19b7+-0x228f*0x1+0x97*0xf)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x564096,_0x5ec6a9){const _0x133ca6=this['keys'],_0x596f85=_0x133ca6['length'];let _0x460b8a=0x1075+-0x65*0xf+-0x8e*0x13;for(;_0x460b8a<_0x596f85&&!(_0x133ca6[_0x460b8a][-0x14*0xc7+-0x119b*0x1+0x2127]>_0x564096);_0x460b8a++);const _0x74bbdf=[_0x564096,_0x5ec6a9];return this['keys']['splice'](_0x460b8a,-0x1c5e+0x1362+0x8fc,_0x74bbdf),_0x74bbdf;}['get'](_0x113abc){return this['keys'][_0x113abc];}['sort'](){this['keys']['sort']((_0x2c8e19,_0x46172c)=>_0x2c8e19[0x1d*0x56+0x19e1+-0x239f]-_0x46172c[-0x637*0x5+0x202b+0x118*-0x1]);}['value'](_0x390d1c){return this['_eval']['evaluate'](_0x390d1c,!(0x1772+-0x1d4+-0x159e));}['closest'](_0x306eb9){const _0x32d5ce=this['keys'],_0x3cacc3=_0x32d5ce['length'];let _0x322509=0x97b+-0x4*-0x34f+-0x16b5,_0xebe7=null;for(let _0x166458=0x98*0xd+-0xc26+-0x7e*-0x9;_0x166458<_0x3cacc3;_0x166458++){const _0xde3ccd=Math['abs'](_0x306eb9-_0x32d5ce[_0x166458][-0x61e*-0x4+-0x187e+-0x3*-0x2]);if(_0x322509>=_0xde3ccd)_0x322509=_0xde3ccd,_0xebe7=_0x32d5ce[_0x166458];else break;}return _0xebe7;}['clone'](){const _0x52f05e=new this['constructo'+'r']();return _0x52f05e['keys']=this['keys']['map'](_0x265639=>[..._0x265639]),_0x52f05e['type']=this['type'],_0x52f05e['tension']=this['tension'],_0x52f05e;}['quantize'](_0x5c5b15){_0x5c5b15=Math['max'](_0x5c5b15,-0x2582+0x3c+0x2548);const _0xfd8b1=new Float32Array(_0x5c5b15),_0x535572=(-0x1f77+-0xcd1+0x2c49)/(_0x5c5b15-(-0xfdf+0xf67*-0x1+0x1f47));_0xfd8b1[0x1180+-0x17*-0xb7+0x1*-0x21f1]=this['_eval']['evaluate'](0xa2e*0x1+-0x261c+0x1bee,!(-0x20c0+-0x25*-0xe9+-0xed));for(let _0x1ffaea=0x7be*0x4+0x2343+0xad*-0x62;_0x1ffaea<_0x5c5b15;_0x1ffaea++)_0xfd8b1[_0x1ffaea]=this['_eval']['evaluate'](_0x535572*_0x1ffaea);return _0xfd8b1;}['quantizeCl'+'amped'](_0x2d38f3,_0x22f47c,_0xa82769){const _0x4438ea=this['quantize'](_0x2d38f3);for(let _0x2e42c3=-0x36*-0x91+-0x412*0x6+0x1*-0x62a;_0x2e42c3<_0x4438ea['length'];++_0x2e42c3)_0x4438ea[_0x2e42c3]=Math['min'](_0xa82769,Math['max'](_0x22f47c,_0x4438ea[_0x2e42c3]));return _0x4438ea;}}class na{constructor(..._0x30e2ef){h(this,'curves',[]),h(this,'_type',tp);if(_0x30e2ef['length']>-0x1555+0x2*0x17+0x1528){for(let _0x27c51b=-0x5c*-0x3b+-0x14ef+-0x45;_0x27c51b<_0x30e2ef['length'];_0x27c51b++)this['curves']['push'](new qs(_0x30e2ef[_0x27c51b]));}else{if(_0x30e2ef['length']===0x4cd*-0x5+-0x3*0x47f+0x257e)this['curves']['push'](new qs());else{const _0x4fcb71=_0x30e2ef[0x19b3+0xb5*0x5+-0x1d3c];if(typeof _0x4fcb71=='number'){for(let _0x1987cd=0x1*-0x74a+-0x19f5+-0x3*-0xb15;_0x1987cd<_0x4fcb71;_0x1987cd++)this['curves']['push'](new qs());}else{for(let _0x224960=0x24e5+-0xa31*0x1+-0xd5a*0x2;_0x224960<_0x4fcb71['length'];_0x224960++)this['curves']['push'](new qs(_0x4fcb71[_0x224960]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x4a4c44){this['_type']=_0x4a4c44;for(let _0x29fbed=-0x2437+-0x8a5*0x1+0x2cdc;_0x29fbed<this['curves']['length'];_0x29fbed++)this['curves'][_0x29fbed]['type']=_0x4a4c44;}get['type'](){return this['_type'];}['get'](_0x10b397){return this['curves'][_0x10b397];}['value'](_0x498e9a,_0x5368e6=[]){const _0x552be0=this['curves']['length'];_0x5368e6['length']=_0x552be0;for(let _0x2d9750=-0x2590+0x4*0x6bf+0x2a5*0x4;_0x2d9750<_0x552be0;_0x2d9750++)_0x5368e6[_0x2d9750]=this['curves'][_0x2d9750]['value'](_0x498e9a);return _0x5368e6;}['clone'](){const _0x3ea4e1=new this['constructo'+'r']();_0x3ea4e1['curves']=[];for(let _0x12dd59=-0x1f3c+-0x7a*-0x6+0x1c60;_0x12dd59<this['curves']['length'];_0x12dd59++)_0x3ea4e1['curves']['push'](this['curves'][_0x12dd59]['clone']());return _0x3ea4e1['_type']=this['_type'],_0x3ea4e1;}['quantize'](_0x6a8f6a){_0x6a8f6a=Math['max'](_0x6a8f6a,-0x143c+-0x22d2+0x3710);const _0xa7a20=this['curves']['length'],_0x5ba4d5=new Float32Array(_0x6a8f6a*_0xa7a20),_0x17260b=(-0x2a6*0xc+0x558+0x1a71)/(_0x6a8f6a-(0xcff+-0x14cc+0x7ce));for(let _0x3534b5=0x56*-0x1+-0x329+0x5*0xb3;_0x3534b5<_0xa7a20;_0x3534b5++){const _0x59651d=new ZS(this['curves'][_0x3534b5]);for(let _0x43a1a6=-0x125e*0x2+-0x760+0x2c1c;_0x43a1a6<_0x6a8f6a;_0x43a1a6++)_0x5ba4d5[_0x43a1a6*_0xa7a20+_0x3534b5]=_0x59651d['evaluate'](_0x17260b*_0x43a1a6);}return _0x5ba4d5;}['quantizeCl'+'amped'](_0x1e3667,_0x5650ef,_0x4f465b){const _0x2d7bd9=this['quantize'](_0x1e3667);for(let _0x14d404=0x5ec+-0x7b1*-0x1+-0xd9d;_0x14d404<_0x2d7bd9['length'];++_0x14d404)_0x2d7bd9[_0x14d404]=Math['min'](_0x4f465b,Math['max'](_0x5650ef,_0x2d7bd9[_0x14d404]));return _0x2d7bd9;}}const Hf=new Float32Array(0xae6+-0xd41+0x25c),km=new Int32Array(Hf['buffer']);class Mn{static['float2Half'](_0x34ced){Hf[-0x97c+0xb8*-0xe+0x22c*0x9]=_0x34ced;const _0x4b66eb=km[-0x1*-0xe1d+-0x1021+0x204];let _0x3600c5=_0x4b66eb>>0x10d1+0x1*-0x2671+0x15b0*0x1&-0x15*0xb1b+0x2538*-0x4+0x79d*0x43,_0x16aa7c=_0x4b66eb>>0x488*0x4+0xe1+-0x12f5&-0x222+0x23*0x7f+0x1*-0x73c;const _0x1f55bc=_0x4b66eb>>0x1*-0x1b1b+0xd1d*-0x1+-0x25f*-0x11&0x1164+0x9*0x16a+-0x1d1f;return _0x1f55bc<-0x21*0x37+-0xe95+0x1613*0x1?_0x3600c5:_0x1f55bc>-0x14a*0x4+0x1870+-0x3*0x63e?(_0x3600c5|=-0xc59+-0x42d0+-0xcb29*-0x1,_0x3600c5|=(_0x1f55bc===0x1b22+0x1be1+-0xd81*0x4?-0x2*-0x211+-0x5d1*0x2+0x780:0x248d+-0xd87*-0x1+-0x10b1*0x3)&&_0x4b66eb&0xd0fd74+0xd36a*-0x95+0x2a0f3d,_0x3600c5):_0x1f55bc<-0x1705+0x2222+-0x2ab*0x4?(_0x16aa7c|=0x137c*-0x2+-0x3a*0x4c+0x4030,_0x3600c5|=(_0x16aa7c>>-0x2*0x623+-0x10*0x2b+0xf68-_0x1f55bc)+(_0x16aa7c>>-0xb8a+-0x1f22+0x2b1d-_0x1f55bc&0x1084+0x1a8e+-0x2df*0xf),_0x3600c5):(_0x3600c5|=_0x1f55bc-(0x4*0x59c+0x1b8a+-0x318a)<<0x10*0x7f+-0xd43+0x55d|_0x16aa7c>>0x204*0xe+0x117f+-0x2*0x16db,_0x3600c5+=_0x16aa7c&0x1dd2+-0x1*-0x611+-0x23e2,_0x3600c5);}static['float2RGBA'+'8'](_0x21832f,_0x2a3428){Hf[-0xa6c*0x2+0xd8b+-0x59*-0x15]=_0x21832f;const _0x220482=km[0x2*0x1129+-0xc69*0x1+-0x15e9];_0x2a3428['r']=(_0x220482>>0x1*-0xcd4+-0xb*0x24f+-0x241*-0x11&0x2*0xa30+-0x222b+-0x4ee*-0x3)/(-0x62d+0x1887+-0x115b*0x1),_0x2a3428['g']=(_0x220482>>-0x111d+-0x1*-0x1a61+-0x934&-0x19*-0x97+0x19ff+-0x27bf)/(0x3*0x209+-0xea+-0x432),_0x2a3428['b']=(_0x220482>>-0x7bf+0x270a+-0x1f43&-0x1*0x9eb+-0x211b+0x2c05)/(-0x2650+-0x1678+0x3dc7),_0x2a3428['a']=(_0x220482&-0x1*0x358+-0x9af*0x3+0x4*0x859)/(-0x18e4+0x3*0x246+-0x1311*-0x1);}}const wt=class wt{constructor(_0x33199a=-0x2a3+0x12be+-0x1*0x101b,_0xf1e4ce=-0x3*-0x137+0x1136*0x1+0x14db*-0x1,_0x24b786=0x1e53+-0x24b*0x5+-0x4b7*0x4){h(this,'x'),h(this,'y'),h(this,'z'),_0x33199a['length']===-0xf0c+0x39e*0x9+-0x117f?(this['x']=_0x33199a[0x5*-0x371+-0x1*0x180d+0x2942],this['y']=_0x33199a[-0x1403+-0xbd4+0x1fd8],this['z']=_0x33199a[0x1c27*0x1+-0x1b10*0x1+-0x115]):(this['x']=_0x33199a,this['y']=_0xf1e4ce,this['z']=_0x24b786);}['add'](_0x3843b4){return this['x']+=_0x3843b4['x'],this['y']+=_0x3843b4['y'],this['z']+=_0x3843b4['z'],this;}['add2'](_0x456d59,_0x2d4b9b){return this['x']=_0x456d59['x']+_0x2d4b9b['x'],this['y']=_0x456d59['y']+_0x2d4b9b['y'],this['z']=_0x456d59['z']+_0x2d4b9b['z'],this;}['addScalar'](_0x182587){return this['x']+=_0x182587,this['y']+=_0x182587,this['z']+=_0x182587,this;}['addScaled'](_0x425c87,_0x45b1ea){return this['x']+=_0x425c87['x']*_0x45b1ea,this['y']+=_0x425c87['y']*_0x45b1ea,this['z']+=_0x425c87['z']*_0x45b1ea,this;}['clone'](){const _0x1bb4f5=this['constructo'+'r'];return new _0x1bb4f5(this['x'],this['y'],this['z']);}['copy'](_0x4bdb9b){return this['x']=_0x4bdb9b['x'],this['y']=_0x4bdb9b['y'],this['z']=_0x4bdb9b['z'],this;}['cross'](_0x48016b,_0xa5729a){const _0x2436a7=_0x48016b['x'],_0x4e3a42=_0x48016b['y'],_0x3fbff3=_0x48016b['z'],_0x302109=_0xa5729a['x'],_0x2a15ae=_0xa5729a['y'],_0x299a70=_0xa5729a['z'];return this['x']=_0x4e3a42*_0x299a70-_0x2a15ae*_0x3fbff3,this['y']=_0x3fbff3*_0x302109-_0x299a70*_0x2436a7,this['z']=_0x2436a7*_0x2a15ae-_0x302109*_0x4e3a42,this;}['distance'](_0x335cb5){const _0x54b8bf=this['x']-_0x335cb5['x'],_0x5bc835=this['y']-_0x335cb5['y'],_0xbf3932=this['z']-_0x335cb5['z'];return Math['sqrt'](_0x54b8bf*_0x54b8bf+_0x5bc835*_0x5bc835+_0xbf3932*_0xbf3932);}['div'](_0x242527){return this['x']/=_0x242527['x'],this['y']/=_0x242527['y'],this['z']/=_0x242527['z'],this;}['div2'](_0x19bd55,_0x37e5b3){return this['x']=_0x19bd55['x']/_0x37e5b3['x'],this['y']=_0x19bd55['y']/_0x37e5b3['y'],this['z']=_0x19bd55['z']/_0x37e5b3['z'],this;}['divScalar'](_0x26eaad){return this['x']/=_0x26eaad,this['y']/=_0x26eaad,this['z']/=_0x26eaad,this;}['dot'](_0x172213){return this['x']*_0x172213['x']+this['y']*_0x172213['y']+this['z']*_0x172213['z'];}['equals'](_0xf7d5c3){return this['x']===_0xf7d5c3['x']&&this['y']===_0xf7d5c3['y']&&this['z']===_0xf7d5c3['z'];}['equalsAppr'+'ox'](_0x288664,_0x237de9=0x1f67+0x31+0xfcc*-0x2+0.000001){return Math['abs'](this['x']-_0x288664['x'])<_0x237de9&&Math['abs'](this['y']-_0x288664['y'])<_0x237de9&&Math['abs'](this['z']-_0x288664['z'])<_0x237de9;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x27ab85,_0x1e1e8b,_0x527774){return this['x']=_0x27ab85['x']+_0x527774*(_0x1e1e8b['x']-_0x27ab85['x']),this['y']=_0x27ab85['y']+_0x527774*(_0x1e1e8b['y']-_0x27ab85['y']),this['z']=_0x27ab85['z']+_0x527774*(_0x1e1e8b['z']-_0x27ab85['z']),this;}['mul'](_0x588185){return this['x']*=_0x588185['x'],this['y']*=_0x588185['y'],this['z']*=_0x588185['z'],this;}['mul2'](_0x43799a,_0x332589){return this['x']=_0x43799a['x']*_0x332589['x'],this['y']=_0x43799a['y']*_0x332589['y'],this['z']=_0x43799a['z']*_0x332589['z'],this;}['mulScalar'](_0x26448b){return this['x']*=_0x26448b,this['y']*=_0x26448b,this['z']*=_0x26448b,this;}['normalize'](_0x4e7761=this){const _0x11da09=_0x4e7761['x']*_0x4e7761['x']+_0x4e7761['y']*_0x4e7761['y']+_0x4e7761['z']*_0x4e7761['z'];if(_0x11da09>0x23f9*-0x1+-0x352+-0x1df*-0x15){const _0x3bec09=(-0x3fb*-0x1+0xf*-0x1b1+-0x1*-0x1565)/Math['sqrt'](_0x11da09);this['x']=_0x4e7761['x']*_0x3bec09,this['y']=_0x4e7761['y']*_0x3bec09,this['z']=_0x4e7761['z']*_0x3bec09;}return this;}['floor'](_0x1e4a65=this){return this['x']=Math['floor'](_0x1e4a65['x']),this['y']=Math['floor'](_0x1e4a65['y']),this['z']=Math['floor'](_0x1e4a65['z']),this;}['ceil'](_0x1e81f8=this){return this['x']=Math['ceil'](_0x1e81f8['x']),this['y']=Math['ceil'](_0x1e81f8['y']),this['z']=Math['ceil'](_0x1e81f8['z']),this;}['round'](_0x32650c=this){return this['x']=Math['round'](_0x32650c['x']),this['y']=Math['round'](_0x32650c['y']),this['z']=Math['round'](_0x32650c['z']),this;}['min'](_0x857b35){return _0x857b35['x']<this['x']&&(this['x']=_0x857b35['x']),_0x857b35['y']<this['y']&&(this['y']=_0x857b35['y']),_0x857b35['z']<this['z']&&(this['z']=_0x857b35['z']),this;}['max'](_0x55db95){return _0x55db95['x']>this['x']&&(this['x']=_0x55db95['x']),_0x55db95['y']>this['y']&&(this['y']=_0x55db95['y']),_0x55db95['z']>this['z']&&(this['z']=_0x55db95['z']),this;}['project'](_0x4fa158){const _0x263140=this['x']*_0x4fa158['x']+this['y']*_0x4fa158['y']+this['z']*_0x4fa158['z'],_0x244769=_0x4fa158['x']*_0x4fa158['x']+_0x4fa158['y']*_0x4fa158['y']+_0x4fa158['z']*_0x4fa158['z'],_0x3b6a3e=_0x263140/_0x244769;return this['x']=_0x4fa158['x']*_0x3b6a3e,this['y']=_0x4fa158['y']*_0x3b6a3e,this['z']=_0x4fa158['z']*_0x3b6a3e,this;}['set'](_0x201fb4,_0x1452a9,_0x1a5cae){return this['x']=_0x201fb4,this['y']=_0x1452a9,this['z']=_0x1a5cae,this;}['sub'](_0x47b3e3){return this['x']-=_0x47b3e3['x'],this['y']-=_0x47b3e3['y'],this['z']-=_0x47b3e3['z'],this;}['sub2'](_0x1773b4,_0x3dbee6){return this['x']=_0x1773b4['x']-_0x3dbee6['x'],this['y']=_0x1773b4['y']-_0x3dbee6['y'],this['z']=_0x1773b4['z']-_0x3dbee6['z'],this;}['subScalar'](_0x4cdcb0){return this['x']-=_0x4cdcb0,this['y']-=_0x4cdcb0,this['z']-=_0x4cdcb0,this;}['fromArray'](_0x508a03,_0x2a75a7=0x1e2d+0x3*-0x225+-0x2*0xbdf){return this['x']=_0x508a03[_0x2a75a7]??this['x'],this['y']=_0x508a03[_0x2a75a7+(-0x2611+-0x4b*-0x9+0x236f)]??this['y'],this['z']=_0x508a03[_0x2a75a7+(0x1*-0x1e01+-0x91*0xd+0x2560)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x5d7249=[],_0x4ee17e=-0x1*-0x75f+0x137e+-0x1add){return _0x5d7249[_0x4ee17e]=this['x'],_0x5d7249[_0x4ee17e+(0x25bd*-0x1+-0x1*-0x24a1+0x11d)]=this['y'],_0x5d7249[_0x4ee17e+(0xc2a+0x549+-0x1171)]=this['z'],_0x5d7249;}};h(wt,'ZERO',Object['freeze'](new wt(-0x1*0x1157+-0xbdd*0x2+0x2911*0x1,0x2*-0xf7f+0x3*0xc72+0xcb*-0x8,0x207d+0x17fb+-0x116*0x34))),h(wt,'HALF',Object['freeze'](new wt(0xd*0x1e2+0x221*-0x12+-0x2*-0x6ec+0.5,-0xd*0x1c3+-0x26eb+0x3dd2+0.5,0x43b+-0x545+0x26*0x7+0.5))),h(wt,'ONE',Object['freeze'](new wt(0xc5*0x1+0x3d6*0x8+-0x42*0x7a,-0xb90+0x2346+0x165*-0x11,-0x20d2+0x48e+0x1c45*0x1))),h(wt,'UP',Object['freeze'](new wt(0xb*-0x14a+-0x1*0x239f+0x1*0x31cd,-0x10f*0x18+0x9c5+0xfa4,-0x40*-0x1+0xa*0x3bb+-0x258e))),h(wt,'DOWN',Object['freeze'](new wt(-0x2*0x11fc+-0x3*0x35+0x2497,-(0xeba*-0x1+-0x259*0x9+-0x1b*-0x154),-0x1a*0x17e+0xb8*-0x1+0x2784))),h(wt,'RIGHT',Object['freeze'](new wt(0x577*-0x3+0xf65*-0x2+-0x4b8*-0xa,0x2653+0x731+-0xb61*0x4,-0x217e+0x7*-0x81+0x2505))),h(wt,'LEFT',Object['freeze'](new wt(-(-0x2*-0x6a7+0x28a+0x1*-0xfd7),-0x79a*-0x2+-0x1582+-0x10d*-0x6,-0x11c1+-0x15cf+0x6*0x698))),h(wt,'FORWARD',Object['freeze'](new wt(-0x13ea+-0x16*0x146+-0x2*-0x17f7,0xfd9*-0x1+-0xc5*0x2+0x1*0x1163,-(-0x1*0xf7f+-0x2*-0x12ad+-0x15da)))),h(wt,'BACK',Object['freeze'](new wt(-0x2566+-0x1718+0x3c7e,-0x35*0x9d+0x114a+0xf37,-0x1ae+-0x9*0x30+0x35f)));let D=wt;const gn=class gn{constructor(){h(this,'data',new Float32Array(0xa08+-0x215e+0x175f)),this['data'][-0x9d*0x13+0x7f*0x34+-0x33*0x47]=this['data'][0x1398+0x118d*0x1+-0x5*0x76d]=this['data'][-0x4*-0xd9+-0x990+-0x18d*-0x4]=-0x1a*-0xe9+-0x2601+0xe58;}['clone'](){const _0x497623=this['constructo'+'r'];return new _0x497623()['copy'](this);}['copy'](_0x3f4a6f){const _0x14b31e=_0x3f4a6f['data'],_0x5403c1=this['data'];return _0x5403c1[-0x25*0xdf+0x15*0x8+0x1f93]=_0x14b31e[0xf5b*0x1+-0x1*-0x16+-0xf71*0x1],_0x5403c1[0x2581+-0xad7+0x20d*-0xd]=_0x14b31e[0x25a7+-0x202+0x8e9*-0x4],_0x5403c1[0x5b8+-0x23b+-0x37b]=_0x14b31e[-0x6d*0x51+-0x1a5d+0x3cdc],_0x5403c1[-0x2d8+0x23ae+-0x20d3]=_0x14b31e[-0x276+0x57*0x5d+-0x1d22],_0x5403c1[-0x140+-0x1438+0x157c]=_0x14b31e[-0x1*0x503+-0x1cb9+0x5a0*0x6],_0x5403c1[0x10f*0x2+0xf4e+-0x1*0x1167]=_0x14b31e[0x16*0x5f+0x1a3e+0x1*-0x2263],_0x5403c1[-0xc3+0x1259+-0x1*0x1190]=_0x14b31e[0x233f+-0x192*0x1+-0x21a7],_0x5403c1[-0x338+0x2*-0x364+0xa07]=_0x14b31e[-0x676*-0x2+0x56*-0x5f+0x21d*0x9],_0x5403c1[-0x2f*0x53+0x1*0xfd8+-0x93]=_0x14b31e[-0xc*-0xaf+-0x877*0x1+0x4b],this;}['set'](_0x411f49){const _0x277a3d=this['data'];return _0x277a3d[-0x12a2+-0x1d41+0x2fe3]=_0x411f49[0x2276+0xc62+-0x2ed8],_0x277a3d[0xee1+-0x1d*0x11f+0x11a3]=_0x411f49[-0x3*-0x7ef+0x26b1+-0x3e7d],_0x277a3d[0x56*0x31+-0x2627+0x37*0x65]=_0x411f49[0xf*-0x1d5+-0x1c4a+-0x1*-0x37c7],_0x277a3d[0x1517+-0x2c*-0xae+-0x2*0x197e]=_0x411f49[0xb+0x1f6d*-0x1+0x1f65],_0x277a3d[0xeb8+0x26*0x2+-0x280*0x6]=_0x411f49[-0x1016+0x794+0x886],_0x277a3d[-0x1fc3+-0x65*0x18+0x2940]=_0x411f49[0x1*-0x1083+-0x59c+0x1624],_0x277a3d[-0x1111+-0x13d*0x5+0x1748]=_0x411f49[0x246f+0x584+-0x29ed],_0x277a3d[0x1*0x649+0x1f77+-0x25b9]=_0x411f49[-0x24d8+0x7*-0x3b+0x267c],_0x277a3d[0x1dcd+-0x1397+0x517*-0x2]=_0x411f49[0xcfe*0x1+-0xc*-0x17f+-0x1eea],this;}['getX'](_0xd4ad06=new D()){return _0xd4ad06['set'](this['data'][-0x3a*-0x16+-0xa7*-0x3b+-0x2b79],this['data'][-0x331+0x667*0x1+0x335*-0x1],this['data'][0x3*0xb78+0xdef+-0x3055]);}['getY'](_0xb9f721=new D()){return _0xb9f721['set'](this['data'][-0x12a*-0x5+-0x26*-0x1c+-0x9f7],this['data'][-0x187f+0x86a*0x4+-0x925],this['data'][0x26ba*-0x1+0x6f1+0xb1*0x2e]);}['getZ'](_0x26d3c4=new D()){return _0x26d3c4['set'](this['data'][0x3*0x7c2+0x1995*-0x1+-0xc7*-0x3],this['data'][-0x1c4c+0x30a*0x7+0x1*0x70d],this['data'][-0x18e4+-0x108e*0x1+-0x297a*-0x1]);}['equals'](_0x38d64d){const _0x14e92d=this['data'],_0x426fc1=_0x38d64d['data'];return _0x14e92d[-0x10c6+-0x1c1f*0x1+-0x4fd*-0x9]===_0x426fc1[-0x190f+-0xd*0x25+0x1af0]&&_0x14e92d[-0xcd+-0x1*-0x3e+-0x90*-0x1]===_0x426fc1[-0xe4d+0x2*-0x15a+0x1102]&&_0x14e92d[0xda9+0x3b*-0x8+-0xbcf]===_0x426fc1[-0xb8d+0xd*-0x1d7+0x237a]&&_0x14e92d[-0x21*0xae+-0x41*0x58+0x2cc9]===_0x426fc1[0x102*-0x24+0x595+0x2*0xf5b]&&_0x14e92d[0x1e2b+-0xe57*0x1+-0xfd0]===_0x426fc1[-0x1bd1*-0x1+-0x47*-0x83+0x1*-0x4022]&&_0x14e92d[-0x24ff+-0x211*-0x1+0x185*0x17]===_0x426fc1[-0x643+0x1*0x5d5+-0x5*-0x17]&&_0x14e92d[0x3*0x883+0x45*-0x61+0xa2*0x1]===_0x426fc1[0x1a73+-0xece+-0x1a9*0x7]&&_0x14e92d[0x18b9*0x1+-0xd5*0x13+-0x8e3]===_0x426fc1[0x1f94+0x18d*0xf+-0x36d0]&&_0x14e92d[-0xd1c+0x1*0xcb1+0x5*0x17]===_0x426fc1[-0x2057+0x1652+0xa0d];}['isIdentity'](){const _0x1094c6=this['data'];return _0x1094c6[-0xe*0x26c+-0x2676+0x485e]===0x18*0x123+0x1*-0x8+0x2d*-0x9b&&_0x1094c6[0x16fc+-0xa31+0x2*-0x665]===-0x454+0x2132+-0x1cde&&_0x1094c6[-0x36e*0x1+-0x10*0x59+0x900]===0x1752+0x1*-0xca2+-0x98*0x12&&_0x1094c6[0x175+0x662+0x2*-0x3ea]===0x11ce+0x1*0x22a3+0xf*-0x37f&&_0x1094c6[0x232*0xd+0x2148+-0x3dce]===0x379+0x1ec3*0x1+-0x223b&&_0x1094c6[-0x20e0+-0x4*-0x81b+0x1*0x79]===-0xc2*0x2f+-0x1c55+0x3ff3&&_0x1094c6[0x75e+-0xb01+0x3a9*0x1]===0x1573+0x1*0x2383+-0x17*0x27a&&_0x1094c6[-0x104b*0x1+-0x1c1b+0x2c6d]===-0x1730+0x209d+-0x96d*0x1&&_0x1094c6[-0x1*-0x2205+-0xeeb+0x2*-0x989]===0x4e3*-0x3+-0x2ed*0x4+0x1a5e;}['setIdentit'+'y'](){const _0x49431f=this['data'];return _0x49431f[0x1721+0xbe+-0x17df]=-0x3*-0x801+-0x5*-0x661+-0x37e7,_0x49431f[-0x1*0x577+0x1dea+-0x1872]=0x501+-0x19ab+0x14aa,_0x49431f[0x1147+0x41d*-0x8+0xfa3]=-0x20b5+0x1ec8+0x1*0x1ed,_0x49431f[0x1*-0x2dc+-0x5*0x763+0x27ce]=0x2*0x11bd+0x1d8b+0xd01*-0x5,_0x49431f[-0xdda*0x1+-0x1*0x239+0x55d*0x3]=-0x1bbc*-0x1+0x22cb+-0x3e86,_0x49431f[-0x1b97+-0xc*0x1a3+-0xbd0*-0x4]=0xd23+-0x461*-0x2+0x461*-0x5,_0x49431f[0x46a*-0x3+-0x1*-0x1165+-0x421]=0x487*0x2+0xd1b+0x1*-0x1629,_0x49431f[0x1d9d+-0x20b6+0xa0*0x5]=-0x26a8+0x264c*0x1+-0x17*-0x4,_0x49431f[0x9*0x36f+0x11c5*-0x2+0x4ab]=0x156+-0x1*0x2351+0x21fc,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x56e25c=this){const _0x178293=_0x56e25c['data'],_0x4c695f=this['data'];if(_0x178293===_0x4c695f){let _0x267987;_0x267987=_0x178293[-0x1e27+0xeae+0xf7a],_0x4c695f[0x5*-0x373+-0x83b+0x251*0xb]=_0x178293[0x7fe+-0x1a8a*-0x1+0x1*-0x2285],_0x4c695f[0xb*0x193+-0x20af+0xf61]=_0x267987,_0x267987=_0x178293[0x8*0x313+0x2b*-0xc9+0x92d],_0x4c695f[0x174b+-0x1b24+0x3db]=_0x178293[0x1*-0xde5+-0x5*-0x37d+0x29*-0x16],_0x4c695f[-0x13de+-0xe*0x170+0x314*0xd]=_0x267987,_0x267987=_0x178293[0x177b+-0x334+-0x1442],_0x4c695f[-0x264a+-0x9eb+0x181d*0x2]=_0x178293[0x1670+0x90*0x10+-0x1f69],_0x4c695f[-0x81*0x2+0xbf*-0x2+0x287]=_0x267987;}else _0x4c695f[-0x109+-0x1685+0x43*0x5a]=_0x178293[-0x184+-0x7d8+0x95c],_0x4c695f[-0x2c7*0x3+0x1cdb+-0x1485]=_0x178293[-0x4ab*0x4+-0x2292+-0x1*-0x3541],_0x4c695f[-0x24df+0x1704*-0x1+0x3be5]=_0x178293[0xd01+0x39f*-0x7+0x2*0x62f],_0x4c695f[-0x10a8*0x2+-0x4b6+0x2609]=_0x178293[0x202+-0xe1*-0x1+-0x29*0x12],_0x4c695f[-0x1b83*-0x1+-0x83d+0x3a*-0x55]=_0x178293[0xe4+0x4d*-0x1c+0x45*0x1c],_0x4c695f[-0xb5*-0x1b+0xb9b+0x1*-0x1ead]=_0x178293[-0x253e+-0x43*0x77+0x446a],_0x4c695f[-0x1ab5+0x1*0x160e+0xab*0x7]=_0x178293[0x188c+-0x1d53*-0x1+-0x35dd],_0x4c695f[0xcdd*-0x1+-0x6a*-0x54+-0x15e4]=_0x178293[0x1192+-0x9b1*-0x4+0x455*-0xd],_0x4c695f[-0x1a22+-0x298*-0x1+0x1af*0xe]=_0x178293[0x2107+0x87*-0x1+-0x2078];return this;}['setFromMat'+'4'](_0x4e93b2){const _0x1b3518=_0x4e93b2['data'],_0x1486cf=this['data'];return _0x1486cf[-0x1113+0xe9a+-0xd3*-0x3]=_0x1b3518[0x49*-0x6f+-0x26bd+0x4664],_0x1486cf[0x7eb+-0x1*0x4+-0x7e6]=_0x1b3518[0x1592+-0x1f29+0x998],_0x1486cf[0x19eb+-0xc23+0x6e3*-0x2]=_0x1b3518[-0x178c*0x1+-0x11da+0x4*0xa5a],_0x1486cf[-0x5d*-0x59+-0x47*-0x3b+-0x30af]=_0x1b3518[-0x15b6+-0x1347+0x3*0xdab],_0x1486cf[0xacc+-0xea1+0x3d9]=_0x1b3518[0x18fa+0x6*0x636+-0x3e39],_0x1486cf[0x1b4+-0x1a8e+0x18df]=_0x1b3518[0x5*-0x23e+0x1b62+-0x1*0x1026],_0x1486cf[-0x1f*0xe3+0x223b+-0x6b8]=_0x1b3518[0x8*0x1c5+0x4d4+-0x12f4],_0x1486cf[-0x20ac+-0x2514+0x45c7*0x1]=_0x1b3518[-0x9d*0x3d+0xd79*-0x2+0x27a*0x1a],_0x1486cf[0x4fd*-0x1+-0x19d9+0x525*0x6]=_0x1b3518[-0x7bb+-0x7*-0x2ed+0x65b*-0x2],this;}['setFromQua'+'t'](_0x34e86b){const _0x2c8b14=_0x34e86b['x'],_0x2877e4=_0x34e86b['y'],_0xa4d762=_0x34e86b['z'],_0x220b1a=_0x34e86b['w'],_0x31e647=_0x2c8b14+_0x2c8b14,_0x2a79c6=_0x2877e4+_0x2877e4,_0x3b53ad=_0xa4d762+_0xa4d762,_0x14b6a2=_0x2c8b14*_0x31e647,_0x190e3a=_0x2c8b14*_0x2a79c6,_0x37dda8=_0x2c8b14*_0x3b53ad,_0xc4093f=_0x2877e4*_0x2a79c6,_0x4c452e=_0x2877e4*_0x3b53ad,_0x536b46=_0xa4d762*_0x3b53ad,_0x1dd285=_0x220b1a*_0x31e647,_0x40b324=_0x220b1a*_0x2a79c6,_0x180132=_0x220b1a*_0x3b53ad,_0x3c79ac=this['data'];return _0x3c79ac[0x7*0x219+-0x13e4+-0x1*-0x535]=-0x514+0x154e+-0x1039-(_0xc4093f+_0x536b46),_0x3c79ac[-0x11e*0x7+0x235+0x59e]=_0x190e3a+_0x180132,_0x3c79ac[0xa7b*0x1+0xda*0x23+-0x2847]=_0x37dda8-_0x40b324,_0x3c79ac[0x12ca+-0x1c09+0x1*0x942]=_0x190e3a-_0x180132,_0x3c79ac[0x1ea0+0x36e+-0x220a]=0x1b4e+0xe19+0x2966*-0x1-(_0x14b6a2+_0x536b46),_0x3c79ac[0x112d*0x1+0x30e+-0x1436]=_0x4c452e+_0x1dd285,_0x3c79ac[-0x9e*0x16+0x16e5*0x1+-0x3d*0x27]=_0x37dda8+_0x40b324,_0x3c79ac[-0x20b0+-0x1bd1+0x3c88]=_0x4c452e-_0x1dd285,_0x3c79ac[-0x85e+0x76c+0x1*0xfa]=-0x144a+-0x15cf*0x1+-0x2a1a*-0x1-(_0x14b6a2+_0xc4093f),this;}['invertMat4'](_0x290c1d){const _0x34dd5c=_0x290c1d['data'],_0x57e755=_0x34dd5c[0x1c15+0x735+0x11a5*-0x2],_0x2977b8=_0x34dd5c[-0x5bb+0x1*0x1c0f+-0x9*0x27b],_0x3b2a9b=_0x34dd5c[0x2477+-0x7c*0x19+-0x1859],_0x2e5654=_0x34dd5c[0x150c+0x1ade+-0x2fe6],_0x296ffd=_0x34dd5c[0x2c8*-0xd+-0x1507+0x82c*0x7],_0x3511cb=_0x34dd5c[-0x1c36+0x1ced+0x3b*-0x3],_0x2f61ac=_0x34dd5c[0x1*-0x2017+-0x30+0x397*0x9],_0x4d55ec=_0x34dd5c[-0x856+0x9a4+-0x145],_0x1f4bc3=_0x34dd5c[0x4*-0x78b+0x5e1+0x1855],_0x46df30=_0x1f4bc3*_0x296ffd-_0x3511cb*_0x4d55ec,_0x2b8fd7=-_0x1f4bc3*_0x2977b8+_0x3b2a9b*_0x4d55ec,_0x57b8c4=_0x3511cb*_0x2977b8-_0x3b2a9b*_0x296ffd,_0x196bb0=-_0x1f4bc3*_0x2e5654+_0x3511cb*_0x2f61ac,_0xeecf72=_0x1f4bc3*_0x57e755-_0x3b2a9b*_0x2f61ac,_0x6e213e=-_0x3511cb*_0x57e755+_0x3b2a9b*_0x2e5654,_0x541a0f=_0x4d55ec*_0x2e5654-_0x296ffd*_0x2f61ac,_0x3a7e56=-_0x4d55ec*_0x57e755+_0x2977b8*_0x2f61ac,_0x211c2d=_0x296ffd*_0x57e755-_0x2977b8*_0x2e5654,_0x39dd13=_0x57e755*_0x46df30+_0x2977b8*_0x196bb0+_0x3b2a9b*_0x541a0f;if(_0x39dd13===-0x9*0x3d+0xd77+-0xb52)this['setIdentit'+'y']();else{const _0x57f9b4=(0x12ea+-0x1df*-0x9+-0x2c0*0xd)/_0x39dd13,_0x5d6281=this['data'];_0x5d6281[-0x1cec+0x18d9*-0x1+0x35c5]=_0x46df30*_0x57f9b4,_0x5d6281[0xc14+-0x9e*0x29+0x469*0x3]=_0x2b8fd7*_0x57f9b4,_0x5d6281[0x1ca2+-0xb6*-0x18+-0x2db0]=_0x57b8c4*_0x57f9b4,_0x5d6281[0x1036+0x10f*-0x23+0x14da]=_0x196bb0*_0x57f9b4,_0x5d6281[0x7*-0x271+-0x403*-0x9+-0x1300]=_0xeecf72*_0x57f9b4,_0x5d6281[0xcad+0xe40+-0x18*0x11f]=_0x6e213e*_0x57f9b4,_0x5d6281[-0x520*-0x2+0x1*0x1885+0xf*-0x251]=_0x541a0f*_0x57f9b4,_0x5d6281[-0x7*0x5e+-0x855+0xaee]=_0x3a7e56*_0x57f9b4,_0x5d6281[-0x21da+0x720+0x1ac2]=_0x211c2d*_0x57f9b4;}return this;}['transformV'+'ector'](_0x3949ac,_0x1063d1=new D()){const _0x5675e0=this['data'],{x:_0x1bcba7,y:_0x5916f6,z:_0xd70392}=_0x3949ac;return _0x1063d1['x']=_0x1bcba7*_0x5675e0[-0x1c79+-0x1828+0x34a1]+_0x5916f6*_0x5675e0[-0x1f48+0x9a*-0x3b+0x42c9]+_0xd70392*_0x5675e0[0xcad+-0xa1*0x5+-0x982],_0x1063d1['y']=_0x1bcba7*_0x5675e0[0x21*-0x7+-0x119*0x4+0x2a6*0x2]+_0x5916f6*_0x5675e0[-0x919*-0x1+-0x1446+0xb31]+_0xd70392*_0x5675e0[0x10f1+0x1336+0x1210*-0x2],_0x1063d1['z']=_0x1bcba7*_0x5675e0[-0x3*-0xff+0xc96+-0xf91*0x1]+_0x5916f6*_0x5675e0[0x10b3+-0x1c9d+0xbef]+_0xd70392*_0x5675e0[-0x19e8+0x334*-0x4+0x9b*0x40],_0x1063d1;}};h(gn,'IDENTITY',Object['freeze'](new gn())),h(gn,'ZERO',Object['freeze'](new gn()['set']([-0x6*-0x25f+-0xd63*0x2+0xc8c,-0x2235*-0x1+-0x1*-0x889+-0x2abe*0x1,0x148d*-0x1+-0x37*0x4d+0x2518,-0x199*-0x17+-0x1614+0xeab*-0x1,-0x26e9+0x47d+0x226c,-0x13e7+0x1e69+-0xa82,-0x33*0x53+-0xcad+0x1d36,-0x72e+0xf6f+-0x841,0x2b2+0x358*-0x8+0x180e])));let _i=gn;const Gt=class Gt{constructor(_0x5abd1a=-0x239c+0x1*0x1ed9+-0x35*-0x17,_0x393ff0=0xa6*-0x1a+0x1e3*0x13+-0x12fd){h(this,'x'),h(this,'y'),_0x5abd1a['length']===-0x1b*0x79+-0x1c49+0x836*0x5?(this['x']=_0x5abd1a[-0x353+0xe3*0x1c+-0x1*0x1581],this['y']=_0x5abd1a[-0xf84+0x353+0xc32]):(this['x']=_0x5abd1a,this['y']=_0x393ff0);}['add'](_0x3786f2){return this['x']+=_0x3786f2['x'],this['y']+=_0x3786f2['y'],this;}['add2'](_0x5b3017,_0xf5d780){return this['x']=_0x5b3017['x']+_0xf5d780['x'],this['y']=_0x5b3017['y']+_0xf5d780['y'],this;}['addScalar'](_0x50840c){return this['x']+=_0x50840c,this['y']+=_0x50840c,this;}['addScaled'](_0x37e588,_0x59ee24){return this['x']+=_0x37e588['x']*_0x59ee24,this['y']+=_0x37e588['y']*_0x59ee24,this;}['clone'](){const _0x37b08c=this['constructo'+'r'];return new _0x37b08c(this['x'],this['y']);}['copy'](_0x1045cd){return this['x']=_0x1045cd['x'],this['y']=_0x1045cd['y'],this;}['cross'](_0x508b78){return this['x']*_0x508b78['y']-this['y']*_0x508b78['x'];}['distance'](_0x84f5){const _0x4a533c=this['x']-_0x84f5['x'],_0x12934c=this['y']-_0x84f5['y'];return Math['sqrt'](_0x4a533c*_0x4a533c+_0x12934c*_0x12934c);}['div'](_0x1726fb){return this['x']/=_0x1726fb['x'],this['y']/=_0x1726fb['y'],this;}['div2'](_0x2e66a6,_0x5ad04f){return this['x']=_0x2e66a6['x']/_0x5ad04f['x'],this['y']=_0x2e66a6['y']/_0x5ad04f['y'],this;}['divScalar'](_0x55499c){return this['x']/=_0x55499c,this['y']/=_0x55499c,this;}['dot'](_0x3d00c1){return this['x']*_0x3d00c1['x']+this['y']*_0x3d00c1['y'];}['equals'](_0x585215){return this['x']===_0x585215['x']&&this['y']===_0x585215['y'];}['equalsAppr'+'ox'](_0x1e345b,_0x548cd8=-0x1f6a*0x1+-0x162e*0x1+0xe*0x3d4+0.000001){return Math['abs'](this['x']-_0x1e345b['x'])<_0x548cd8&&Math['abs'](this['y']-_0x1e345b['y'])<_0x548cd8;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x3deb6d,_0x53ca1a,_0x4fbe45){return this['x']=_0x3deb6d['x']+_0x4fbe45*(_0x53ca1a['x']-_0x3deb6d['x']),this['y']=_0x3deb6d['y']+_0x4fbe45*(_0x53ca1a['y']-_0x3deb6d['y']),this;}['mul'](_0x9e339){return this['x']*=_0x9e339['x'],this['y']*=_0x9e339['y'],this;}['mul2'](_0x11cce1,_0x2fa8be){return this['x']=_0x11cce1['x']*_0x2fa8be['x'],this['y']=_0x11cce1['y']*_0x2fa8be['y'],this;}['mulScalar'](_0x223809){return this['x']*=_0x223809,this['y']*=_0x223809,this;}['normalize'](_0x11edb5=this){const _0x4aed3b=_0x11edb5['x']*_0x11edb5['x']+_0x11edb5['y']*_0x11edb5['y'];if(_0x4aed3b>0x2695*-0x1+-0xcfc+0x3391){const _0x2ba912=(-0x1b87+-0x185d+0x33e5)/Math['sqrt'](_0x4aed3b);this['x']=_0x11edb5['x']*_0x2ba912,this['y']=_0x11edb5['y']*_0x2ba912;}return this;}['rotate'](_0x4c1440){const _0x3bcefa=Math['atan2'](this['x'],this['y'])+_0x4c1440*Y['DEG_TO_RAD'],_0xbb9e6=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x3bcefa)*_0xbb9e6,this['y']=Math['cos'](_0x3bcefa)*_0xbb9e6,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*Y['RAD_TO_DEG'];}['angleTo'](_0x3ef3c5){return Math['atan2'](this['x']*_0x3ef3c5['y']+this['y']*_0x3ef3c5['x'],this['x']*_0x3ef3c5['x']+this['y']*_0x3ef3c5['y'])*Y['RAD_TO_DEG'];}['floor'](_0x25f957=this){return this['x']=Math['floor'](_0x25f957['x']),this['y']=Math['floor'](_0x25f957['y']),this;}['ceil'](_0x3ede03=this){return this['x']=Math['ceil'](_0x3ede03['x']),this['y']=Math['ceil'](_0x3ede03['y']),this;}['round'](_0x58c3e6=this){return this['x']=Math['round'](_0x58c3e6['x']),this['y']=Math['round'](_0x58c3e6['y']),this;}['min'](_0x162a46){return _0x162a46['x']<this['x']&&(this['x']=_0x162a46['x']),_0x162a46['y']<this['y']&&(this['y']=_0x162a46['y']),this;}['max'](_0x8ce3e9){return _0x8ce3e9['x']>this['x']&&(this['x']=_0x8ce3e9['x']),_0x8ce3e9['y']>this['y']&&(this['y']=_0x8ce3e9['y']),this;}['set'](_0x4d4db1,_0x45fd44){return this['x']=_0x4d4db1,this['y']=_0x45fd44,this;}['sub'](_0x772a50){return this['x']-=_0x772a50['x'],this['y']-=_0x772a50['y'],this;}['sub2'](_0x27ffca,_0x2f836c){return this['x']=_0x27ffca['x']-_0x2f836c['x'],this['y']=_0x27ffca['y']-_0x2f836c['y'],this;}['subScalar'](_0x4b8bcd){return this['x']-=_0x4b8bcd,this['y']-=_0x4b8bcd,this;}['fromArray'](_0x42211b,_0x313a0d=0x187d+-0x1e9e+0x20b*0x3){return this['x']=_0x42211b[_0x313a0d]??this['x'],this['y']=_0x42211b[_0x313a0d+(-0x1*-0x365+0x3*-0x2cd+-0x1*-0x503)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x415a2e=[],_0x5b575d=-0x2*0x9ff+0x1d*0x7d+-0x1*-0x5d5){return _0x415a2e[_0x5b575d]=this['x'],_0x415a2e[_0x5b575d+(-0xdb5*-0x1+0x6*-0x545+-0x2*-0x8f5)]=this['y'],_0x415a2e;}static['angleRad'](_0x34fdcd,_0x385f3e){return Math['atan2'](_0x34fdcd['x']*_0x385f3e['y']-_0x34fdcd['y']*_0x385f3e['x'],_0x34fdcd['x']*_0x385f3e['x']+_0x34fdcd['y']*_0x385f3e['y']);}};h(Gt,'ZERO',Object['freeze'](new Gt(0xae2+-0xc7+0x1*-0xa1b,-0x2229+0x23d1*-0x1+0x45fa))),h(Gt,'HALF',Object['freeze'](new Gt(0x1*-0xd06+-0xe51+0x3*0x91d+0.5,-0x1f3*-0xa+-0xc1*0xa+-0xbf4+0.5))),h(Gt,'ONE',Object['freeze'](new Gt(0xe1b*0x1+0x7*-0x411+0xe5d,-0x77*-0xb+0x4ed*0x5+-0x1dbd))),h(Gt,'UP',Object['freeze'](new Gt(-0x4*0x7c3+-0x1de*0x2+0x22c8,0x3*-0x593+0x5c9*-0x5+0x1*0x2da7))),h(Gt,'DOWN',Object['freeze'](new Gt(0x77a+0x1a40+-0x21ba,-(-0x1b6c+0x155d*0x1+0x610)))),h(Gt,'RIGHT',Object['freeze'](new Gt(0x36+-0x1b23+0x2fe*0x9,-0x1*0x1984+-0x5*0x671+0x39b9))),h(Gt,'LEFT',Object['freeze'](new Gt(-(-0x18f8+0x86c+0xdf*0x13),-0x11*0x17b+0x4de+0x144d)));let J=Gt;const pr=class pr{constructor(_0x1abe8b=0xdb6+0x10+-0x1*0xdc6,_0xdc190d=0x1ff5+0x31*-0x5+0x3e0*-0x8,_0x1997b9=-0x8*-0x2a2+0xdb+-0x15eb,_0x9a923f=-0xfe0*-0x1+0x6e8+-0xc*0x1e6){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x1abe8b['length']===-0x104c+0x673+0x19*0x65?(this['x']=_0x1abe8b[-0x1ece+0x2*-0x797+0x6d*0x6c],this['y']=_0x1abe8b[0x172e+0x270+0x4f*-0x53],this['z']=_0x1abe8b[0x8*0x478+-0x25*0x2+-0x2374],this['w']=_0x1abe8b[-0x256b+-0xc*0x44+0x289e]):(this['x']=_0x1abe8b,this['y']=_0xdc190d,this['z']=_0x1997b9,this['w']=_0x9a923f);}['add'](_0x21ed0a){return this['x']+=_0x21ed0a['x'],this['y']+=_0x21ed0a['y'],this['z']+=_0x21ed0a['z'],this['w']+=_0x21ed0a['w'],this;}['add2'](_0x17c9ec,_0x58ccd0){return this['x']=_0x17c9ec['x']+_0x58ccd0['x'],this['y']=_0x17c9ec['y']+_0x58ccd0['y'],this['z']=_0x17c9ec['z']+_0x58ccd0['z'],this['w']=_0x17c9ec['w']+_0x58ccd0['w'],this;}['addScalar'](_0xe2fed){return this['x']+=_0xe2fed,this['y']+=_0xe2fed,this['z']+=_0xe2fed,this['w']+=_0xe2fed,this;}['addScaled'](_0x2bc785,_0x10c5aa){return this['x']+=_0x2bc785['x']*_0x10c5aa,this['y']+=_0x2bc785['y']*_0x10c5aa,this['z']+=_0x2bc785['z']*_0x10c5aa,this['w']+=_0x2bc785['w']*_0x10c5aa,this;}['clone'](){const _0x33a67e=this['constructo'+'r'];return new _0x33a67e(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x450adf){return this['x']=_0x450adf['x'],this['y']=_0x450adf['y'],this['z']=_0x450adf['z'],this['w']=_0x450adf['w'],this;}['div'](_0x371051){return this['x']/=_0x371051['x'],this['y']/=_0x371051['y'],this['z']/=_0x371051['z'],this['w']/=_0x371051['w'],this;}['div2'](_0x28b808,_0x124d39){return this['x']=_0x28b808['x']/_0x124d39['x'],this['y']=_0x28b808['y']/_0x124d39['y'],this['z']=_0x28b808['z']/_0x124d39['z'],this['w']=_0x28b808['w']/_0x124d39['w'],this;}['divScalar'](_0x108fb8){return this['x']/=_0x108fb8,this['y']/=_0x108fb8,this['z']/=_0x108fb8,this['w']/=_0x108fb8,this;}['dot'](_0x5355fc){return this['x']*_0x5355fc['x']+this['y']*_0x5355fc['y']+this['z']*_0x5355fc['z']+this['w']*_0x5355fc['w'];}['equals'](_0x35c7a4){return this['x']===_0x35c7a4['x']&&this['y']===_0x35c7a4['y']&&this['z']===_0x35c7a4['z']&&this['w']===_0x35c7a4['w'];}['equalsAppr'+'ox'](_0x16e6fd,_0x126df9=-0x1622*-0x1+-0x1868+0x246+0.000001){return Math['abs'](this['x']-_0x16e6fd['x'])<_0x126df9&&Math['abs'](this['y']-_0x16e6fd['y'])<_0x126df9&&Math['abs'](this['z']-_0x16e6fd['z'])<_0x126df9&&Math['abs'](this['w']-_0x16e6fd['w'])<_0x126df9;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x2126a1,_0x121835,_0x59a7d0){return this['x']=_0x2126a1['x']+_0x59a7d0*(_0x121835['x']-_0x2126a1['x']),this['y']=_0x2126a1['y']+_0x59a7d0*(_0x121835['y']-_0x2126a1['y']),this['z']=_0x2126a1['z']+_0x59a7d0*(_0x121835['z']-_0x2126a1['z']),this['w']=_0x2126a1['w']+_0x59a7d0*(_0x121835['w']-_0x2126a1['w']),this;}['mul'](_0x233c12){return this['x']*=_0x233c12['x'],this['y']*=_0x233c12['y'],this['z']*=_0x233c12['z'],this['w']*=_0x233c12['w'],this;}['mul2'](_0x586ed7,_0x3f6fda){return this['x']=_0x586ed7['x']*_0x3f6fda['x'],this['y']=_0x586ed7['y']*_0x3f6fda['y'],this['z']=_0x586ed7['z']*_0x3f6fda['z'],this['w']=_0x586ed7['w']*_0x3f6fda['w'],this;}['mulScalar'](_0x5b2f4a){return this['x']*=_0x5b2f4a,this['y']*=_0x5b2f4a,this['z']*=_0x5b2f4a,this['w']*=_0x5b2f4a,this;}['normalize'](_0x54629c=this){const _0x5e6412=_0x54629c['x']*_0x54629c['x']+_0x54629c['y']*_0x54629c['y']+_0x54629c['z']*_0x54629c['z']+_0x54629c['w']*_0x54629c['w'];if(_0x5e6412>-0x11fc+0x1*0x7ad+0x1d*0x5b){const _0x507529=(0x2da*0x7+-0x237d+0x1c*0x8e)/Math['sqrt'](_0x5e6412);this['x']=_0x54629c['x']*_0x507529,this['y']=_0x54629c['y']*_0x507529,this['z']=_0x54629c['z']*_0x507529,this['w']=_0x54629c['w']*_0x507529;}return this;}['floor'](_0x33566d=this){return this['x']=Math['floor'](_0x33566d['x']),this['y']=Math['floor'](_0x33566d['y']),this['z']=Math['floor'](_0x33566d['z']),this['w']=Math['floor'](_0x33566d['w']),this;}['ceil'](_0x5f7f60=this){return this['x']=Math['ceil'](_0x5f7f60['x']),this['y']=Math['ceil'](_0x5f7f60['y']),this['z']=Math['ceil'](_0x5f7f60['z']),this['w']=Math['ceil'](_0x5f7f60['w']),this;}['round'](_0x1cc312=this){return this['x']=Math['round'](_0x1cc312['x']),this['y']=Math['round'](_0x1cc312['y']),this['z']=Math['round'](_0x1cc312['z']),this['w']=Math['round'](_0x1cc312['w']),this;}['min'](_0x42aadd){return _0x42aadd['x']<this['x']&&(this['x']=_0x42aadd['x']),_0x42aadd['y']<this['y']&&(this['y']=_0x42aadd['y']),_0x42aadd['z']<this['z']&&(this['z']=_0x42aadd['z']),_0x42aadd['w']<this['w']&&(this['w']=_0x42aadd['w']),this;}['max'](_0x434757){return _0x434757['x']>this['x']&&(this['x']=_0x434757['x']),_0x434757['y']>this['y']&&(this['y']=_0x434757['y']),_0x434757['z']>this['z']&&(this['z']=_0x434757['z']),_0x434757['w']>this['w']&&(this['w']=_0x434757['w']),this;}['set'](_0x191596,_0x169bb8,_0x5dfc95,_0x38bca6){return this['x']=_0x191596,this['y']=_0x169bb8,this['z']=_0x5dfc95,this['w']=_0x38bca6,this;}['sub'](_0x96e6e){return this['x']-=_0x96e6e['x'],this['y']-=_0x96e6e['y'],this['z']-=_0x96e6e['z'],this['w']-=_0x96e6e['w'],this;}['sub2'](_0x3c0620,_0x4e13a4){return this['x']=_0x3c0620['x']-_0x4e13a4['x'],this['y']=_0x3c0620['y']-_0x4e13a4['y'],this['z']=_0x3c0620['z']-_0x4e13a4['z'],this['w']=_0x3c0620['w']-_0x4e13a4['w'],this;}['subScalar'](_0x8da9bc){return this['x']-=_0x8da9bc,this['y']-=_0x8da9bc,this['z']-=_0x8da9bc,this['w']-=_0x8da9bc,this;}['fromArray'](_0x2d80f8,_0x39d8a2=-0x1f57*0x1+-0x2*-0x120d+-0x4c3){return this['x']=_0x2d80f8[_0x39d8a2]??this['x'],this['y']=_0x2d80f8[_0x39d8a2+(0x26b*-0x1+-0xd1*-0x1+0x19b*0x1)]??this['y'],this['z']=_0x2d80f8[_0x39d8a2+(-0x15f9+-0x24a5+0x3aa0)]??this['z'],this['w']=_0x2d80f8[_0x39d8a2+(-0x260f+0x1*0xbba+0x1a58)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x39f14d=[],_0x4cdf30=0xd7f+0x16d8+-0x2457){return _0x39f14d[_0x4cdf30]=this['x'],_0x39f14d[_0x4cdf30+(-0x80*-0x40+-0x17ea+-0x1*0x815)]=this['y'],_0x39f14d[_0x4cdf30+(-0x18c1+0x124*0xe+0x8cb)]=this['z'],_0x39f14d[_0x4cdf30+(-0x9b4+-0xda4+0x175b)]=this['w'],_0x39f14d;}};h(pr,'ZERO',Object['freeze'](new pr(0x602+-0x7*0x34f+-0x1127*-0x1,-0x166d+-0x391*-0x8+-0x61b,-0x25c7+0x24db+0xec,0xd7b+0x1863+-0x25de*0x1))),h(pr,'HALF',Object['freeze'](new pr(-0x1*-0x1c8c+0x10*-0x14f+-0x79c+0.5,-0x1729+0x1af8+0x3*-0x145+0.5,0xdce+0x789*0x4+-0x2*0x15f9+0.5,-0x97a+0xc21*-0x3+0x2ddd+0.5))),h(pr,'ONE',Object['freeze'](new pr(-0x870+-0xc39*0x3+0x2d1c,-0x382+0x24fc+0x1c3*-0x13,-0xe47+0xa*0x322+-0x110c,-0x732+-0x7cd*0x5+-0xb8d*-0x4)));let re=pr;const to=new J(),Os=new D(),Js=new D(),ei=new D(),Hl=new D(),Qr=class Qr{constructor(){h(this,'data',new Float32Array(0x117f+-0x7b*-0x51+-0x385a)),this['data'][0x1*-0x115+0xcb6+0x1*-0xba1]=this['data'][0x8+0x20a+0x1*-0x20d]=this['data'][-0x1817*-0x1+0x96e+-0x3*0xb29]=this['data'][0x1ed8+-0x3*0x5d5+0x36*-0x3f]=0x1d59*0x1+0x1249*0x2+-0x41ea;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0x2d8699,_0x37cd64,_0x3057bc,_0x1f6c87,_0x188c8f){_0x188c8f?(_0x2d8699['x']=_0x1f6c87*Math['tan'](_0x37cd64*Math['PI']/(-0x17*0x153+0x89*-0xf+0x6*0x6a6)),_0x2d8699['y']=_0x2d8699['x']/_0x3057bc):(_0x2d8699['y']=_0x1f6c87*Math['tan'](_0x37cd64*Math['PI']/(-0x2ef+0x1402+-0xfab*0x1)),_0x2d8699['x']=_0x2d8699['y']*_0x3057bc);}['add2'](_0x22a2ba,_0x33a75e){const _0x3bb432=_0x22a2ba['data'],_0x1c66cd=_0x33a75e['data'],_0x14bfa2=this['data'];return _0x14bfa2[-0x5*-0x37e+-0xf2*0x7+0x8*-0x15b]=_0x3bb432[-0xa9*-0x11+-0x3e0+-0x759]+_0x1c66cd[0xa68+-0x1b6e+0x1106],_0x14bfa2[0x823+0x25a*-0xc+-0x6*-0x359]=_0x3bb432[0x203f*-0x1+-0xf23+-0x6c5*-0x7]+_0x1c66cd[0xf*-0x172+-0xde3+0x2392],_0x14bfa2[-0x1*-0x629+-0x9*-0x1c8+-0x162f]=_0x3bb432[-0x23b*-0x1+-0xbe+-0x17b]+_0x1c66cd[-0x1bc3+0x1df+0x19e6],_0x14bfa2[0x2ff*-0x3+0x10a5+-0x7a5]=_0x3bb432[0x1ffe+-0x754+0x18a7*-0x1]+_0x1c66cd[0x1d47+0x1149+-0x2e8d],_0x14bfa2[0x663+-0x231d+0x1cbe]=_0x3bb432[0x7*0x283+0x1f6a+0x1*-0x30fb]+_0x1c66cd[-0x1*-0x2659+-0x45a+-0x21fb],_0x14bfa2[-0x63*-0x39+0x22a0+-0x38a6]=_0x3bb432[0x5*-0x107+0x1*-0x3a+0x562]+_0x1c66cd[0x1*0x10bd+-0xcb3+0x31*-0x15],_0x14bfa2[0x26a4+0x5c4*-0x3+-0x1*0x1552]=_0x3bb432[0x1*0x3c4+0x24ad+0xd79*-0x3]+_0x1c66cd[-0x8*0x368+0x79b+0x13ab],_0x14bfa2[-0x60a*-0x1+0x26a4+-0x17*0x1f1]=_0x3bb432[-0x6*-0x5f3+0x74d*-0x1+0x1*-0x1c5e]+_0x1c66cd[-0x75f*-0x3+0x167+-0x1*0x177d],_0x14bfa2[-0xa*0x352+-0x994+0x2ad0]=_0x3bb432[0x3*-0x61c+-0x3*-0x791+-0x457]+_0x1c66cd[-0x1d7+0x1d97+0x6ee*-0x4],_0x14bfa2[0x1e*-0x6a+-0x1*-0x2147+-0x1*0x14d2]=_0x3bb432[0x134c+-0x2cd*-0xb+-0x1909*0x2]+_0x1c66cd[-0xf1b+-0x2278+0x319c],_0x14bfa2[-0x1822+-0x175b+-0x2f87*-0x1]=_0x3bb432[0x1*-0xff4+-0x1*0x10a6+0x1*0x20a4]+_0x1c66cd[-0xe80+-0x2625+0x34af],_0x14bfa2[-0x5bc+0x1*-0x826+0xded]=_0x3bb432[-0x1cb1*-0x1+-0x62+-0xc9*0x24]+_0x1c66cd[-0x17dd+0x221*0xc+-0x1a4],_0x14bfa2[-0x6fc+0x14*-0x9a+0x1310]=_0x3bb432[-0x1*-0xc7+-0x1*0xad+-0x1*0xe]+_0x1c66cd[0x1e9a+-0x3*0x2c2+-0x1648],_0x14bfa2[-0x460*-0x6+0x8*-0x399+0x295]=_0x3bb432[-0x1*0x1cbd+0xb8e*-0x3+0x3f74]+_0x1c66cd[0x159d*0x1+0x2f*0x42+-0x21ae],_0x14bfa2[-0xe3e+0x2091+0x1*-0x1245]=_0x3bb432[-0x1b2c+-0x7*-0x4f2+-0x764]+_0x1c66cd[-0x419*0x1+-0x4cb*0x4+0x1*0x1753],_0x14bfa2[0x165f+-0x1c27+-0x5d7*-0x1]=_0x3bb432[0x2*0x112e+0x1*-0xaf7+-0x1756]+_0x1c66cd[-0x14c*-0x4+-0x302+-0x21f],this;}['add'](_0x3744f0){return this['add2'](this,_0x3744f0);}['clone'](){const _0x46c5b1=this['constructo'+'r'];return new _0x46c5b1()['copy'](this);}['copy'](_0x31c483){const _0x108cbf=_0x31c483['data'],_0x2812e5=this['data'];return _0x2812e5[-0x1*0x38b+0xb17*-0x1+0x1*0xea2]=_0x108cbf[-0x93f+0x6*-0x1db+0x8d*0x25],_0x2812e5[0x18f8+0x65*-0x5d+0xbba]=_0x108cbf[0x2b*0x13+-0x6*0x17f+0x1a*0x39],_0x2812e5[0x85a+-0x417*0x6+0x1032]=_0x108cbf[0xf31*-0x1+-0xd*-0x3f+0xc00],_0x2812e5[0x1fa1+-0x22a7*-0x1+-0x4245]=_0x108cbf[-0xa1b*0x3+-0xb*0x329+0x4117],_0x2812e5[-0x20ec+-0x2683+0x4773]=_0x108cbf[-0x1708+-0xb5*0x16+0x269a],_0x2812e5[0x12de+0xe7c+-0x2155]=_0x108cbf[-0x4d4+-0x1df9+0x1169*0x2],_0x2812e5[0x10f8+0x7c7+-0x1*0x18b9]=_0x108cbf[0x11*-0x56+0x1c5f+-0x16a3],_0x2812e5[-0x460+-0xb52+0xfb9]=_0x108cbf[0xc63+0xc8+-0xd24],_0x2812e5[-0x11f9+0x938+0x8c9]=_0x108cbf[-0x1e80+-0x1*-0x1df6+0x92],_0x2812e5[-0x1076+0x15dc+-0x55d*0x1]=_0x108cbf[-0x1b41+-0x2b*-0xad+-0x97*0x3],_0x2812e5[0x22dc+0x103b*0x1+0x7*-0x74b]=_0x108cbf[-0x3*-0xcd4+0x1d56*0x1+-0x43c8],_0x2812e5[-0x19bb+0xbbd+0xe09]=_0x108cbf[0x3*0x17+0x5*-0x145+0x1*0x61f],_0x2812e5[0x6b3+0x1a4d+-0x20f4]=_0x108cbf[0x151e+0x1b72+-0x3084],_0x2812e5[0x1*-0x1a6f+0x275*0x9+0x45f*0x1]=_0x108cbf[-0x86*-0x1d+0x7ad+0x342*-0x7],_0x2812e5[0x3dc*-0x1+-0x773*0x1+0xb5d]=_0x108cbf[0x1c3b*0x1+-0x176d+-0x4c0],_0x2812e5[-0x21db+-0x68e+0xb9*0x38]=_0x108cbf[-0x1*-0xd2b+-0x24a0+0x1784],this;}['equals'](_0x36280b){const _0xa42603=this['data'],_0x270409=_0x36280b['data'];return _0xa42603[-0x199d*-0x1+0x2e9*0x2+0xd*-0x26b]===_0x270409[0x10d*-0x10+0x121b+-0x14b]&&_0xa42603[0x7*0x419+-0x807+-0x11*0x137]===_0x270409[0x54b*-0x2+-0xe1b*-0x1+0x9*-0x64]&&_0xa42603[-0x2*-0xe6d+0x6dd*-0x1+-0x15fb]===_0x270409[0x1b16+-0x521+-0x15f3]&&_0xa42603[0x1*-0x2296+-0x2*-0xe6b+0x5c3]===_0x270409[0x729+-0x241f*0x1+0x1cf9]&&_0xa42603[0x25a0+-0x4*-0x5d5+-0x2*0x1e78]===_0x270409[0x72b+-0x89*-0x43+-0x2b02]&&_0xa42603[0x8*-0x283+-0x2*0x8b+0x25b*0x9]===_0x270409[0x2443+-0x1556+0x4f8*-0x3]&&_0xa42603[-0xb*-0x1e7+-0x23*0xdf+0x996]===_0x270409[-0x1e66+-0x13*-0x137+0x757]&&_0xa42603[-0xece+-0xa*0xa6+-0x1*-0x1551]===_0x270409[0x22cf+-0x25*-0xc7+-0x3f8b]&&_0xa42603[0x666+-0x1e51+0x17f3]===_0x270409[0x1c6b+0x11e3*-0x2+-0x1*-0x763]&&_0xa42603[0x23*-0x1b+-0x1aed+-0x7*-0x461]===_0x270409[-0x503*-0x2+0x1a25+-0x1211*0x2]&&_0xa42603[-0x69b+-0x7a9+-0xe4e*-0x1]===_0x270409[-0x9*-0x1f9+-0x497+-0xd20]&&_0xa42603[-0x964+0x1f7*-0x10+-0x28df*-0x1]===_0x270409[0x1013*-0x2+-0x305*0x1+0x2336]&&_0xa42603[-0xc14+0x7*-0x38b+0x45*0x89]===_0x270409[-0x2b4*-0x2+-0xf87+0xa2b]&&_0xa42603[-0x865+-0x1*-0x9af+0x13d*-0x1]===_0x270409[-0x1377+0x7*0x21+0x129d]&&_0xa42603[0xbbd+-0x8*-0x254+0x1*-0x1e4f]===_0x270409[0x99*-0x1f+-0x203f+0x32d4*0x1]&&_0xa42603[-0x7ca*-0x3+0x4*-0x164+-0x11bf]===_0x270409[0xf9e+0x16c6+-0x2655];}['isIdentity'](){const _0x5885b0=this['data'];return _0x5885b0[0xf*0x257+0x1f2b+-0x4244]===0x1f16+0x35d*-0xa+0x28d&&_0x5885b0[0xa54+-0x1ac7+0x1074]===0x8*-0x424+-0x82d+0x294d&&_0x5885b0[-0x25*0x47+0x10*0x1e7+0x142b*-0x1]===0x15d1+-0x1f95+0x9c4&&_0x5885b0[0x7c6+-0x24b*0x2+-0x32d]===-0xc*-0x1eb+0x837+-0x1f3b&&_0x5885b0[0x155b+-0x1*-0xf4+0x1b7*-0xd]===0xe*-0x1fd+-0x1*0x5dd+0x21b3&&_0x5885b0[0xacf+0x1e61+-0x292b]===-0x2002+0x53*0x2e+0x1119&&_0x5885b0[0x3e5+0x1*0x236b+-0x2*0x13a5]===-0x2c*-0xd9+-0x24f*-0x9+-0x3a13&&_0x5885b0[0x67*-0x59+0x1*0x10c1+0x3d1*0x5]===0x1c3d+0xc05*0x3+-0x4*0x1013&&_0x5885b0[0x5e3*0x3+-0x43*0x37+-0x33c]===-0xbc3*0x1+-0x1516+0x20d9&&_0x5885b0[0x2c2*0x1+-0xb4+-0x205]===0x84d+0x2f8+0x5*-0x241&&_0x5885b0[0x6f2+-0x27a*-0xd+-0x11e*0x23]===0xa6*0xe+-0x5*0x65a+0x16af&&_0x5885b0[0x1836+0x1c58+-0x3483]===0x1*0xa18+0x8b9+-0x12d1*0x1&&_0x5885b0[0x1*0x26a7+0x2098*-0x1+-0x603*0x1]===-0x2574+0x2339+0x1*0x23b&&_0x5885b0[0x1da6+-0x672+0x1727*-0x1]===-0x2d*0xc9+0x1c86+0x6cf&&_0x5885b0[0x1*-0x198a+-0x1fbc+-0x4*-0xe55]===0x426+-0x2075*0x1+0x1*0x1c4f&&_0x5885b0[-0xd*0x153+0xe88+0xea*0x3]===0x1056+-0xd5*0x3+0xb*-0x142;}['mul2'](_0x58ba04,_0x55df5e){const _0x3f7c50=_0x58ba04['data'],_0x16d736=_0x55df5e['data'],_0x293896=this['data'],_0x3d438c=_0x3f7c50[-0x1*-0x1114+0x733*0x3+0x26ad*-0x1],_0x272c6a=_0x3f7c50[-0x1*0x551+0x1*0x9bb+-0x469],_0x2b6952=_0x3f7c50[0x1*-0x1e72+-0x179f+0x1*0x3613],_0x46bdcf=_0x3f7c50[-0x2531+-0x2157*0x1+-0x468b*-0x1],_0x1e6c2d=_0x3f7c50[0x2d*0x1c+-0x45*0x6a+-0x17aa*-0x1],_0x15111a=_0x3f7c50[0xee6*0x2+-0xac7+0x8*-0x260],_0xbd8d1c=_0x3f7c50[-0x1*0x85c+0xb96+-0x334],_0x1c5158=_0x3f7c50[-0x2*-0xf21+0x15df*-0x1+-0x1ac*0x5],_0x43d938=_0x3f7c50[0x1*0x1ddf+0x178e+-0x3565],_0x4228e6=_0x3f7c50[-0x1473+0x1300+0x17c],_0x595aa2=_0x3f7c50[-0x111b+0x1e5f+-0xd3a],_0x5aedc5=_0x3f7c50[-0x1fe9+-0x7*0x64+0x22b0],_0x375e0a=_0x3f7c50[0x993+-0x1*-0x7e2+-0x1169*0x1],_0x43ef13=_0x3f7c50[0x1711+0xabb+0x21bf*-0x1],_0x430e77=_0x3f7c50[0x1*-0x9e6+0x157d*0x1+-0xb89],_0x51253b=_0x3f7c50[-0x1c*-0x113+-0x20ac+0x2a7];let _0x4b1ddc,_0x440772,_0x5515fe,_0x33d393;return _0x4b1ddc=_0x16d736[0xe*-0x143+0x37a+-0xe3*-0x10],_0x440772=_0x16d736[-0x1f*0x1+0x5*0x2c6+-0x2*0x6df],_0x5515fe=_0x16d736[-0x196c*-0x1+0x4a*-0x3d+-0x7c8],_0x33d393=_0x16d736[0x1c10*-0x1+0x1bca*-0x1+0x37dd],_0x293896[-0x17*0xe2+0x25a8+-0x115a]=_0x3d438c*_0x4b1ddc+_0x1e6c2d*_0x440772+_0x43d938*_0x5515fe+_0x375e0a*_0x33d393,_0x293896[-0x1d6a+-0x27*-0x40+0x3ef*0x5]=_0x272c6a*_0x4b1ddc+_0x15111a*_0x440772+_0x4228e6*_0x5515fe+_0x43ef13*_0x33d393,_0x293896[0x113e+-0xd2*-0x29+-0x32de]=_0x2b6952*_0x4b1ddc+_0xbd8d1c*_0x440772+_0x595aa2*_0x5515fe+_0x430e77*_0x33d393,_0x293896[0xc*-0x45+-0xcd7+0x1016]=_0x46bdcf*_0x4b1ddc+_0x1c5158*_0x440772+_0x5aedc5*_0x5515fe+_0x51253b*_0x33d393,_0x4b1ddc=_0x16d736[-0x1b1c+0x1*0x305+0x16b*0x11],_0x440772=_0x16d736[-0x2103*0x1+-0x52f*0x2+0x2b66],_0x5515fe=_0x16d736[0x1233+0x12f4*0x1+-0x2521*0x1],_0x33d393=_0x16d736[0x18e5+-0x75e+-0x38*0x50],_0x293896[0x1dff+0x1d48+-0x13c1*0x3]=_0x3d438c*_0x4b1ddc+_0x1e6c2d*_0x440772+_0x43d938*_0x5515fe+_0x375e0a*_0x33d393,_0x293896[0x205a*0x1+-0x535+-0x1b20]=_0x272c6a*_0x4b1ddc+_0x15111a*_0x440772+_0x4228e6*_0x5515fe+_0x43ef13*_0x33d393,_0x293896[0x13fb+0x2a6*-0xb+0x1d*0x51]=_0x2b6952*_0x4b1ddc+_0xbd8d1c*_0x440772+_0x595aa2*_0x5515fe+_0x430e77*_0x33d393,_0x293896[-0x1b05*0x1+0x23cb+-0x8bf*0x1]=_0x46bdcf*_0x4b1ddc+_0x1c5158*_0x440772+_0x5aedc5*_0x5515fe+_0x51253b*_0x33d393,_0x4b1ddc=_0x16d736[-0x1b5a+0x1*0x6a1+-0x1*-0x14c1],_0x440772=_0x16d736[0xa*0x11a+0x6*-0x29a+0x4a1],_0x5515fe=_0x16d736[0x17b6+0xee*0x8+-0x1f1c],_0x33d393=_0x16d736[0x1*-0x7fe+0x2494+-0x1*0x1c8b],_0x293896[-0xb*0xb3+-0x2126+0x1*0x28df]=_0x3d438c*_0x4b1ddc+_0x1e6c2d*_0x440772+_0x43d938*_0x5515fe+_0x375e0a*_0x33d393,_0x293896[0x3*0x8e9+-0x1d83+0x1*0x2d1]=_0x272c6a*_0x4b1ddc+_0x15111a*_0x440772+_0x4228e6*_0x5515fe+_0x43ef13*_0x33d393,_0x293896[-0x1a63+0x1d2f+-0x2c2]=_0x2b6952*_0x4b1ddc+_0xbd8d1c*_0x440772+_0x595aa2*_0x5515fe+_0x430e77*_0x33d393,_0x293896[-0x4*-0x1fb+0x1bf*0x3+-0xd1e]=_0x46bdcf*_0x4b1ddc+_0x1c5158*_0x440772+_0x5aedc5*_0x5515fe+_0x51253b*_0x33d393,_0x4b1ddc=_0x16d736[-0x253b+0xcb*-0x14+0x1*0x3523],_0x440772=_0x16d736[0x1*-0x13b9+-0xab*-0x27+-0x647],_0x5515fe=_0x16d736[0x7f7*-0x3+0x8f+0xbb2*0x2],_0x33d393=_0x16d736[-0x345+0x6b*0xf+0x2f1*-0x1],_0x293896[0x1a21+0x1*0x1ca5+-0x36ba]=_0x3d438c*_0x4b1ddc+_0x1e6c2d*_0x440772+_0x43d938*_0x5515fe+_0x375e0a*_0x33d393,_0x293896[-0x61*0x4d+-0x19f9+0x3733]=_0x272c6a*_0x4b1ddc+_0x15111a*_0x440772+_0x4228e6*_0x5515fe+_0x43ef13*_0x33d393,_0x293896[0x4*0x18a+0xba5+-0x11bf]=_0x2b6952*_0x4b1ddc+_0xbd8d1c*_0x440772+_0x595aa2*_0x5515fe+_0x430e77*_0x33d393,_0x293896[0x25*-0x17+0x2f7+0x6b]=_0x46bdcf*_0x4b1ddc+_0x1c5158*_0x440772+_0x5aedc5*_0x5515fe+_0x51253b*_0x33d393,this;}['mulAffine2'](_0x32b583,_0x465d5e){const _0x4fd2de=_0x32b583['data'],_0x432043=_0x465d5e['data'],_0x37de82=this['data'],_0x13ae91=_0x4fd2de[-0x1c32+-0x1209+0x1*0x2e3b],_0x4dfa2c=_0x4fd2de[0x1*0x6b+0xa12+0x29f*-0x4],_0x391197=_0x4fd2de[-0x335+0x1789+0x33*-0x66],_0x3261ac=_0x4fd2de[0xafd*-0x1+-0x26e8+0x31e9],_0x596e60=_0x4fd2de[0x16f5*-0x1+-0x1*0x107f+0x7e5*0x5],_0x345f98=_0x4fd2de[0x2371+0x2e*-0xa7+-0x569*0x1],_0x207091=_0x4fd2de[0x7b6+0x26e3+-0x83*0x5b],_0x3a22ae=_0x4fd2de[-0x167d+0x22fe+-0x85*0x18],_0x113d4c=_0x4fd2de[0x203a+0xc47+-0x2c77],_0x1121f1=_0x4fd2de[0x22*-0x53+0x19ce+-0xebc],_0x471e29=_0x4fd2de[-0xb67+-0x120*0x3+0xed4],_0x2865c3=_0x4fd2de[-0x1f1c+-0xcd9+-0x1*-0x2c03];let _0x2485fc,_0x11e878,_0x39a4fc;return _0x2485fc=_0x432043[-0xd0a+0x161*0x8+0x202*0x1],_0x11e878=_0x432043[0x928+-0xe*0x1b3+0xea3],_0x39a4fc=_0x432043[-0x50e+-0x628+-0x2ce*-0x4],_0x37de82[-0x8b*0x18+-0xf49+0x1*0x1c51]=_0x13ae91*_0x2485fc+_0x3261ac*_0x11e878+_0x207091*_0x39a4fc,_0x37de82[0x1*0x2345+0x24e4+-0x2*0x2414]=_0x4dfa2c*_0x2485fc+_0x596e60*_0x11e878+_0x3a22ae*_0x39a4fc,_0x37de82[0x1*-0x275+0x1cad+-0x1a36]=_0x391197*_0x2485fc+_0x345f98*_0x11e878+_0x113d4c*_0x39a4fc,_0x37de82[0x29*0xa9+-0x3aa*0x5+-0x8bc]=0x729+0x154f+-0x1c78,_0x2485fc=_0x432043[0x1*-0xcf7+-0x2*-0xd31+-0xd67],_0x11e878=_0x432043[0x19b1+0x1214+-0x230*0x14],_0x39a4fc=_0x432043[0x1*-0x1cb4+-0x7c7+0x7*0x537],_0x37de82[-0x439*-0x5+-0x231a+0xe01]=_0x13ae91*_0x2485fc+_0x3261ac*_0x11e878+_0x207091*_0x39a4fc,_0x37de82[-0x133+-0xb7b*0x1+0xcb3*0x1]=_0x4dfa2c*_0x2485fc+_0x596e60*_0x11e878+_0x3a22ae*_0x39a4fc,_0x37de82[0x2*-0x8c0+0x1d70*-0x1+-0x2*-0x177b]=_0x391197*_0x2485fc+_0x345f98*_0x11e878+_0x113d4c*_0x39a4fc,_0x37de82[-0x29f+0x12b9+-0x5*0x337]=0x747+0x1ca0+0x7*-0x521,_0x2485fc=_0x432043[0x76a+-0x1a11+-0x12af*-0x1],_0x11e878=_0x432043[-0x47f*-0x7+0x2bd*0x5+-0xf0b*0x3],_0x39a4fc=_0x432043[0x9*0x415+0xa0*-0xf+0x577*-0x5],_0x37de82[0x1746+-0xda*-0xd+-0x2250]=_0x13ae91*_0x2485fc+_0x3261ac*_0x11e878+_0x207091*_0x39a4fc,_0x37de82[-0x1d0b+0x1269*-0x1+0x1*0x2f7d]=_0x4dfa2c*_0x2485fc+_0x596e60*_0x11e878+_0x3a22ae*_0x39a4fc,_0x37de82[0x25e1*-0x1+-0x17f2+0x3ddd]=_0x391197*_0x2485fc+_0x345f98*_0x11e878+_0x113d4c*_0x39a4fc,_0x37de82[-0x67d+-0xed9+0x1561]=0x8f3*-0x2+-0x1*-0x12f+0x10b7,_0x2485fc=_0x432043[0xb76+-0x5e*0x59+0x2*0xaa2],_0x11e878=_0x432043[-0x1d33+-0x15c0+-0x4*-0xcc0],_0x39a4fc=_0x432043[-0x1439+-0x116*-0x14+-0x171],_0x37de82[-0x281+0x1*0x1b33+-0xa*0x277]=_0x13ae91*_0x2485fc+_0x3261ac*_0x11e878+_0x207091*_0x39a4fc+_0x1121f1,_0x37de82[-0x13f1+0x3f5*-0x7+-0x1d*-0x1a5]=_0x4dfa2c*_0x2485fc+_0x596e60*_0x11e878+_0x3a22ae*_0x39a4fc+_0x471e29,_0x37de82[-0x907+-0xf7f+0xd*0x1e4]=_0x391197*_0x2485fc+_0x345f98*_0x11e878+_0x113d4c*_0x39a4fc+_0x2865c3,_0x37de82[0x6ea+-0x17*0x185+0xe0c*0x2]=0x22b5+0x52b+-0x3b*0xad,this;}['mul'](_0x288f09){return this['mul2'](this,_0x288f09);}['transformP'+'oint'](_0x46bcdd,_0x3836d4=new D()){const _0x51896a=this['data'],{x:_0x14b4da,y:_0x52e85b,z:_0x466643}=_0x46bcdd;return _0x3836d4['x']=_0x14b4da*_0x51896a[0x6*-0x624+0x1*0x191b+0xbbd]+_0x52e85b*_0x51896a[0x25f5+0x128e+-0x387f]+_0x466643*_0x51896a[-0x104c+0x224e+-0x11fa]+_0x51896a[0x2590+0x1f1c+0x2250*-0x2],_0x3836d4['y']=_0x14b4da*_0x51896a[-0x10f1*-0x1+0x79f+-0x188f]+_0x52e85b*_0x51896a[0x52d*0x7+-0x1*-0x17d7+-0x3c0d*0x1]+_0x466643*_0x51896a[0x27*0xbd+-0x1*-0x238a+-0x404c]+_0x51896a[0x697*0x4+-0xc*0x2c2+-0xc1*-0x9],_0x3836d4['z']=_0x14b4da*_0x51896a[-0x1bbc+0xc11*-0x1+0x27cf]+_0x52e85b*_0x51896a[0x1ca4+0x1afb+0x2b*-0x14b]+_0x466643*_0x51896a[0x1*0x26cc+-0x19a+0x1*-0x2528]+_0x51896a[0xa*0x29c+-0x1504+-0x506],_0x3836d4;}['transformV'+'ector'](_0x142183,_0xea62cb=new D()){const _0x4f8e06=this['data'],{x:_0x417773,y:_0x1e609c,z:_0x22c460}=_0x142183;return _0xea62cb['x']=_0x417773*_0x4f8e06[-0x209*0x9+-0x1*-0x23b7+0x1166*-0x1]+_0x1e609c*_0x4f8e06[0x191*0xd+-0x1192+0x4f*-0x9]+_0x22c460*_0x4f8e06[-0xf*0x255+-0x5*-0x12e+0x1d1d],_0xea62cb['y']=_0x417773*_0x4f8e06[0x34*0x4f+-0x2*-0x1d7+-0x13b9]+_0x1e609c*_0x4f8e06[-0x1*-0x8a1+-0x62*-0x3b+-0x1f32]+_0x22c460*_0x4f8e06[0x1*0x120a+-0x1*0x947+-0x8ba*0x1],_0xea62cb['z']=_0x417773*_0x4f8e06[-0x387*-0x9+-0xa5+-0x1f18]+_0x1e609c*_0x4f8e06[0x1011+0x4*0x1e9+0x8d*-0x2b]+_0x22c460*_0x4f8e06[0x6*-0xd4+-0x13*0x179+0x20fd*0x1],_0xea62cb;}['transformV'+'ec4'](_0x208bdb,_0x247051=new re()){const _0x46b71e=this['data'],{x:_0x5948d0,y:_0x498665,z:_0x5e83af,w:_0x1deb87}=_0x208bdb;return _0x247051['x']=_0x5948d0*_0x46b71e[0x2cf+0x1*-0x100a+0xd3b]+_0x498665*_0x46b71e[-0xc10+-0x5*-0x63d+-0x131d]+_0x5e83af*_0x46b71e[0x166*-0x5+0x3cf+0x337]+_0x1deb87*_0x46b71e[0x14a0+0x5a7*-0x1+-0x1*0xeed],_0x247051['y']=_0x5948d0*_0x46b71e[-0xb15*0x1+0x4*-0x89f+-0x13*-0x266]+_0x498665*_0x46b71e[0x2*0x5a3+0x1799+-0x22da]+_0x5e83af*_0x46b71e[0x2*-0x40e+-0x2012+0x5*0x80b]+_0x1deb87*_0x46b71e[-0x107*-0x1+0x1537*0x1+-0x1631],_0x247051['z']=_0x5948d0*_0x46b71e[-0x1dba+0x1d2f+0x2f*0x3]+_0x498665*_0x46b71e[0x1*0x2419+-0x20dd+-0x336]+_0x5e83af*_0x46b71e[-0x68*-0x1+-0x11b5*-0x2+-0x1ca*0x14]+_0x1deb87*_0x46b71e[0xfd+0xe5*-0x11+0x7*0x20a],_0x247051['w']=_0x5948d0*_0x46b71e[0x1*0x1b9d+-0x1064+-0xb36]+_0x498665*_0x46b71e[-0x109*-0x1+-0x161c*0x1+0x151a]+_0x5e83af*_0x46b71e[-0x79c+0x21cf+-0x1a28]+_0x1deb87*_0x46b71e[-0x1*-0x331+-0x1*0x1247+0xf25],_0x247051;}['setLookAt'](_0x208448,_0x55d0dc,_0x17f2be){ei['sub2'](_0x208448,_0x55d0dc)['normalize'](),Js['copy'](_0x17f2be)['normalize'](),Os['cross'](Js,ei)['normalize'](),Js['cross'](ei,Os);const _0x275dd7=this['data'];return _0x275dd7[-0xcbe+0x1581+0x8c3*-0x1]=Os['x'],_0x275dd7[0xe1b+-0xbb*-0x29+-0x2c0d]=Os['y'],_0x275dd7[-0xb0b+0xf*-0x11a+0x3*0x931]=Os['z'],_0x275dd7[-0x1e58+-0xed7+0x2d32]=-0x1934+0x1*-0x1e68+0xde7*0x4,_0x275dd7[0x106e*0x2+-0x1af1+-0x5e7*0x1]=Js['x'],_0x275dd7[-0xc*-0x297+-0x1*0x25b1+0x6a2]=Js['y'],_0x275dd7[0x1*0xe5+0x15*-0x175+0x1dba]=Js['z'],_0x275dd7[0x189d*-0x1+0x1c12*0x1+0x1b7*-0x2]=-0x12f+-0x1e75*0x1+-0x1e*-0x10e,_0x275dd7[-0x1*0x14b7+-0x3d*-0x4f+-0x4*-0x7b]=ei['x'],_0x275dd7[0x236f+-0x109b+-0x12cb]=ei['y'],_0x275dd7[0x45a*-0x1+0x1c7+0x29d]=ei['z'],_0x275dd7[0x14df*-0x1+-0x1bc7*0x1+0x30b1]=0x2374+0x2453*0x1+0x17ed*-0x3,_0x275dd7[-0x5b2+0x8ad+-0x1*0x2ef]=_0x208448['x'],_0x275dd7[0x1*0x10b6+-0x18c7+-0x1*-0x81e]=_0x208448['y'],_0x275dd7[0x1e*0x11+-0xcd*-0x19+-0x15f5]=_0x208448['z'],_0x275dd7[-0x1842+0x15*-0x59+-0x39*-0x8e]=0x91+-0x5fb*-0x4+-0x187c*0x1,this;}['setFrustum'](_0x1f6b51,_0x530130,_0x3e8399,_0x1f3cbd,_0x307814,_0x40df84){const _0xaef7c2=(0xb9b*0x1+-0x18f9+0xd60)*_0x307814,_0x1b1e53=_0x530130-_0x1f6b51,_0x550aeb=_0x1f3cbd-_0x3e8399,_0x771f82=_0x40df84-_0x307814,_0x4bb242=this['data'];return _0x4bb242[0x124+0x76*-0x26+-0x20c*-0x8]=_0xaef7c2/_0x1b1e53,_0x4bb242[0x2582+0x1946+-0x3ec7]=-0xca3+0x237+-0x4*-0x29b,_0x4bb242[0x248a*-0x1+-0x2*0x1183+0x4792]=-0x1dc9+-0x1*0x250c+0x42d5,_0x4bb242[-0x1*0x14b1+-0x7b1+-0x1c65*-0x1]=-0x1a03*-0x1+-0x238f+0x1a*0x5e,_0x4bb242[0x1cd5+-0x79*-0x17+0x9ec*-0x4]=0x21d4+0x1*-0x2525+-0x11b*-0x3,_0x4bb242[0x2449+-0xaec+-0x1958]=_0xaef7c2/_0x550aeb,_0x4bb242[0x6d*-0x21+0x1*-0x1882+-0x583*-0x7]=-0xa49+-0x1261*-0x1+-0x818,_0x4bb242[0x2505+-0x1a3e+-0xac0]=0x55*-0x49+-0x1aa0+0x1d*0x1c1,_0x4bb242[-0x536+0xdfc*-0x1+-0x133a*-0x1]=(_0x530130+_0x1f6b51)/_0x1b1e53,_0x4bb242[0x55d*-0x2+0x12*-0x154+-0x6ef*-0x5]=(_0x1f3cbd+_0x3e8399)/_0x550aeb,_0x4bb242[-0x12ea+-0x138+0x2*0xa16]=(-_0x40df84-_0x307814)/_0x771f82,_0x4bb242[0x10a8*-0x1+-0x101*-0x16+-0x563]=-(0x10d2*0x2+0x1*0x77b+-0x291e),_0x4bb242[-0x10*0x230+-0x129d+-0x2d3*-0x13]=0x2336*0x1+0xb*-0x7+0x3e1*-0x9,_0x4bb242[-0x5*0x137+-0x17d*0x1+0x79d]=0x1*0xa9d+-0x10d1+0x634*0x1,_0x4bb242[0x56b+0x1127+0x4*-0x5a1]=-_0xaef7c2*_0x40df84/_0x771f82,_0x4bb242[-0x1a*0x35+-0x5b*-0x1f+-0x594]=-0x3c1*0x7+-0x3*0x343+0x2410,this;}['setPerspec'+'tive'](_0x56efc9,_0x593b88,_0x1860b8,_0x4b4c64,_0x579b72){return Qr['_getPerspe'+'ctiveHalfS'+'ize'](to,_0x56efc9,_0x593b88,_0x1860b8,_0x579b72),this['setFrustum'](-to['x'],to['x'],-to['y'],to['y'],_0x1860b8,_0x4b4c64);}['setOrtho'](_0x429727,_0x57fe8f,_0x413887,_0x356cc2,_0x2b6a20,_0x12609a){const _0x3268db=this['data'];return _0x3268db[0x3*-0x531+0xa*-0x265+0x2785*0x1]=(-0x2553+-0x10f6+-0x29*-0x153)/(_0x57fe8f-_0x429727),_0x3268db[0x2a9*-0xd+0x10fe+0x1198]=-0x96c+0x299+0x6d3,_0x3268db[0x29*0x59+-0xfed+0x1ae]=0xb8*-0x32+-0x2*0x7ba+0x3364*0x1,_0x3268db[0x4*0x65a+-0x1*0x18cb+-0x9a]=-0x47f*0x1+0x529*0x4+-0x1025,_0x3268db[-0x15fd+-0x26a8+-0x35*-0x125]=-0x4*-0x661+-0x56*-0x6b+-0x3d76,_0x3268db[-0x1*-0x1b9d+0x18a7+-0xa73*0x5]=(-0x1470+-0x116f+0x25e1)/(_0x356cc2-_0x413887),_0x3268db[-0x2*0x1172+-0x43c*-0x3+0x1636]=0x1c*0x48+-0x5*0x21e+0x2b6,_0x3268db[0xe88+0x6d*0x59+-0x13*0x2c2]=0x572+-0x173b+0x11c9,_0x3268db[0x1*0x110f+-0x877+-0x4*0x224]=0x1d87+-0x1a73+-0x18a*0x2,_0x3268db[0x1160+-0x12b4+0x15d]=-0x1*-0x767+0x2553+0x2cba*-0x1,_0x3268db[0x1f4c*0x1+-0x12b9+-0xc89]=-(-0x1285+0x211*-0x10+0x3397)/(_0x12609a-_0x2b6a20),_0x3268db[0x2498+0x85*0x19+-0x318a]=-0x1*0x2016+0x22d9+-0x2c3,_0x3268db[0x3b*-0x88+-0x2664+-0x4d*-0xe8]=-(_0x57fe8f+_0x429727)/(_0x57fe8f-_0x429727),_0x3268db[0x191*-0x3+-0x2543+-0xe01*-0x3]=-(_0x356cc2+_0x413887)/(_0x356cc2-_0x413887),_0x3268db[-0xdb3+-0x15cb*0x1+0x238c]=-(_0x12609a+_0x2b6a20)/(_0x12609a-_0x2b6a20),_0x3268db[-0x1f9a*-0x1+-0x1*0x1063+-0xf28]=0x13be+-0x2526+0x1169,this;}['setFromAxi'+'sAngle'](_0x52972d,_0x22b4c4){_0x22b4c4*=Y['DEG_TO_RAD'];const {x:_0x57b44c,y:_0x5860d2,z:_0x234145}=_0x52972d,_0x39d471=Math['cos'](_0x22b4c4),_0x10f4d8=Math['sin'](_0x22b4c4),_0x4e2244=-0x1a8*0x13+0x1e88+0xf1-_0x39d471,_0x31cae9=_0x4e2244*_0x57b44c,_0x211f13=_0x4e2244*_0x5860d2,_0xbae49f=this['data'];return _0xbae49f[-0x6c4+-0x4d7*-0x1+0x1ed]=_0x31cae9*_0x57b44c+_0x39d471,_0xbae49f[-0xe27*0x1+-0x239+0x1061]=_0x31cae9*_0x5860d2+_0x10f4d8*_0x234145,_0xbae49f[0x4*0x838+0xa57+-0x2b35]=_0x31cae9*_0x234145-_0x10f4d8*_0x5860d2,_0xbae49f[-0x82*0x2b+-0x101e+-0x25f7*-0x1]=-0x1d*0x67+0x10*-0x20b+0x2c5b,_0xbae49f[0x2332+0xca2+-0x2fd0]=_0x31cae9*_0x5860d2-_0x10f4d8*_0x234145,_0xbae49f[0x1*0x26a+-0x3d*0x12+0x5*0x61]=_0x211f13*_0x5860d2+_0x39d471,_0xbae49f[0x2477+0x1122+-0x3593]=_0x211f13*_0x234145+_0x10f4d8*_0x57b44c,_0xbae49f[-0x85b+0x1*0x19ed+0x3*-0x5d9]=0x129e+0x24e6+0x2c*-0x143,_0xbae49f[0x115*0x13+-0x12b9+-0x1ce]=_0x31cae9*_0x234145+_0x10f4d8*_0x5860d2,_0xbae49f[0x1937*0x1+-0x1a45+0x117]=_0x211f13*_0x234145-_0x57b44c*_0x10f4d8,_0xbae49f[0x17a5+-0x817*0x1+-0x4*0x3e1]=_0x4e2244*_0x234145*_0x234145+_0x39d471,_0xbae49f[-0x1098+-0xdf0+0x1e93]=-0x485*-0x1+-0xd*-0x4+-0x4b9,_0xbae49f[-0x198f+-0xde5+0x2780]=0x1f30+0x1c7e+-0x2*0x1dd7,_0xbae49f[-0x1*-0x2359+0x8fe+-0x2c4a]=-0x1*0x2e6+0x4*0x11f+-0x196,_0xbae49f[-0xc93*-0x1+0x1ea9+-0x2b2e]=-0x3d*-0x17+-0xead+0x2*0x499,_0xbae49f[0x1*-0x19a3+0x3c9+-0x47*-0x4f]=0x2367+0xa6*0x31+0x2*-0x2196,this;}['setTransla'+'te'](_0x22575f,_0x2f1dff,_0x48cb1f){const _0xadc99e=this['data'];return _0xadc99e[0xad*-0x35+0x9f6+0x1*0x19db]=-0x1bb*-0xb+0xed9+0x31*-0xb1,_0xadc99e[-0x1*-0xa0b+-0x2*-0xac1+0x2a1*-0xc]=-0x277*-0x2+-0x2196+-0xe54*-0x2,_0xadc99e[0xf1a+-0x1*0x1809+0x8f1]=-0x8*0x178+0x16f8+-0xb38,_0xadc99e[0x1*-0xf28+-0x1*0x1b6b+0x1da*0x17]=0x1cdd+-0x19ae+0x5*-0xa3,_0xadc99e[0xa65+-0x22fb+0x189a]=-0x99d*0x4+0x9bf+0x1cb5,_0xadc99e[-0x260b+-0x3ef+0x1*0x29ff]=-0xa*-0x18d+0x89*-0x27+-0x6*-0xe5,_0xadc99e[0x83*-0x47+-0x2*-0x5de+0x189f]=-0x89c+0x82b+0x71*0x1,_0xadc99e[0x8d2*-0x4+0x592+0x1dbd]=0x11ea+0x1c17+-0x2e01,_0xadc99e[-0xe1a+-0x10be+0x1ee0]=0x21c+-0x1e5*0x5+-0x1*-0x75d,_0xadc99e[-0x292+0x17f3+0xaac*-0x2]=0x5*-0xc1+-0x193a*-0x1+0x1*-0x1575,_0xadc99e[0x842+-0x1baa+0x9b9*0x2]=-0xa1*-0x8+0x1a89*0x1+0x14*-0x194,_0xadc99e[-0x2206+0xa5f*0x1+-0x17b2*-0x1]=-0x2dc*0x8+-0x2*0xc6+0x186c,_0xadc99e[-0xf16+0x1a85+0xb*-0x109]=_0x22575f,_0xadc99e[0x611*-0x4+-0x205f+0x1*0x38b0]=_0x2f1dff,_0xadc99e[-0x15f3+-0x2357+-0x14*-0x2de]=_0x48cb1f,_0xadc99e[-0x15b0+0x558+0x143*0xd]=0x1*-0x1f43+-0x1137*0x2+0x6*0xaf3,this;}['setScale'](_0x17c3e7,_0x1ab0a2,_0x34ec1d){const _0x4fc0c7=this['data'];return _0x4fc0c7[-0x20c9+-0x1*0x782+0x80f*0x5]=_0x17c3e7,_0x4fc0c7[0x1*0x17d0+0xf9*-0x1f+0x658]=-0xf1*0x13+0x5*-0x72b+-0x2*-0x1add,_0x4fc0c7[0x3b8+-0x1d6b+-0x19b5*-0x1]=-0x1c*0x155+0x1a79+0xad3,_0x4fc0c7[-0x1879+0xcf*0x1+-0x13f*-0x13]=0x3b4+-0x20e+-0x1a6*0x1,_0x4fc0c7[-0x29d*0x9+0x1f5*-0x1+0x197e*0x1]=0x1a6f+-0x3*0xc73+0xaea*0x1,_0x4fc0c7[-0x126*0x1+0x1368+-0x123d]=_0x1ab0a2,_0x4fc0c7[0x853*-0x1+-0x10c0+0x1919]=-0x985*-0x2+-0x19f4+-0xa*-0xb1,_0x4fc0c7[0xc79+-0x13a7+0x5*0x171]=0x1a56*0x1+-0x31e+-0x1738,_0x4fc0c7[-0x1328+-0x64c+0x197c]=-0x12ce+-0x1009+-0x3df*-0x9,_0x4fc0c7[0x1f6*0x1+-0x26bd+0x49a*0x8]=-0x1d03+-0x159f+0x32a2*0x1,_0x4fc0c7[0x129*0x17+0x569+0x16*-0x175]=_0x34ec1d,_0x4fc0c7[-0xadb*0x2+-0x1*0x92b+0xf76*0x2]=0x1851+0x61*-0x16+-0xffb,_0x4fc0c7[0x9*-0x439+-0x20f*0xc+-0xc8d*-0x5]=0x1fe2+0xf*-0xa+-0x7d3*0x4,_0x4fc0c7[-0x6a9+0x93b*0x3+-0x1*0x14fb]=0x6b*0x55+-0x660+-0x1*0x1d27,_0x4fc0c7[-0x639+0x28*0xac+-0x1499]=-0xfa*0x5+0x926*0x4+-0x1fb6,_0x4fc0c7[-0x249c+0x2593+-0x8*0x1d]=0xd97+0x32*0x3b+0xc8e*-0x2,this;}['setViewpor'+'t'](_0x249e22,_0x44fbb1,_0x32718d,_0x112276){const _0xd79718=this['data'];return _0xd79718[0x4df*-0x1+-0xb7*0x13+0x1*0x1274]=_0x32718d*(0x1a10+0x189*0x12+-0x35b2+0.5),_0xd79718[0x1bc9+-0xfdd+-0xbeb]=0xf8d+0xfbc+0x1f49*-0x1,_0xd79718[0x1ce1+0x1*-0x2521+0x842*0x1]=-0x4*-0x509+0x913+-0x1d37,_0xd79718[0x13b+-0x594+0x45c]=-0x17*-0x46+-0x835+0x1eb,_0xd79718[0x231b+-0x1*0xc9b+0x167c*-0x1]=0x1*0x1761+0x161*0x5+-0x1e46,_0xd79718[0x39*-0xb+-0x1f*0x131+0x2767]=_0x112276*(-0x9ff*0x2+0x20b1+-0xcb3+0.5),_0xd79718[-0xd*0xff+-0x254f*-0x1+-0x1856]=0x1181+0x45e+-0x1fd*0xb,_0xd79718[-0x1*-0x2d1+-0x1d1f*0x1+0x1a55]=0x1*0x1a5d+0x9d*-0x33+0x4a*0x11,_0xd79718[-0x1543+0x3*0x689+0x1b0]=0x1*0x1072+0x2263*0x1+-0x32d5,_0xd79718[0x5f*-0x3a+0x611*0x5+-0x8c6]=-0x236*-0x2+-0x3a6*0x4+0xe*0xba,_0xd79718[-0x858+-0x622+0xe84]=0x468+0x56f*-0x5+0x16c3*0x1+0.5,_0xd79718[-0x1*-0x26cc+-0x3c9+-0x117c*0x2]=0x655+0x15aa+-0x1bff,_0xd79718[-0x91c+-0x40*-0x1d+-0x7a*-0x4]=_0x249e22+_0x32718d*(-0x12d0+-0x1856+0x20e*0x15+0.5),_0xd79718[-0x8*0x318+-0x1de1+0x36ae]=_0x44fbb1+_0x112276*(-0x1d3b+0xca9+0xe*0x12f+0.5),_0xd79718[0x985+-0x16b0*0x1+0xd39]=-0x1*-0x1c39+-0x12ed+-0x94c+0.5,_0xd79718[0x382+-0xe67+-0xaf4*-0x1]=0xef3+-0x1230+0x33e,this;}['setReflect'+'ion'](_0x2eaad0,_0x414458){const _0xfe07b=_0x2eaad0['x'],_0x249b97=_0x2eaad0['y'],_0x1d8f4a=_0x2eaad0['z'],_0x43885d=this['data'];return _0x43885d[0x1*0x9f7+0x7be*0x4+-0x28ef]=-0x3*0x363+-0x11*-0x137+-0x219*0x5-(0x2cf+-0x1683+0x13b6)*_0xfe07b*_0xfe07b,_0x43885d[-0x1*0x48e+-0x14fe*0x1+0x1*0x198d]=-(0x1269+0xe1c+-0x7*0x4a5)*_0xfe07b*_0x249b97,_0x43885d[-0x36e*-0x1+0x5d4*-0x2+-0x11*-0x7c]=-(0x3b*0xa4+0xe26+-0x33f0)*_0xfe07b*_0x1d8f4a,_0x43885d[-0x1edd*0x1+-0x263e*-0x1+-0x3af*0x2]=-0x1*-0x17f5+0x456+-0x1c4b*0x1,_0x43885d[0x87b*-0x4+-0x87*0x5+0x2493]=-(-0x1c27+0x1d0a+-0xe1)*_0xfe07b*_0x249b97,_0x43885d[-0x1b8a+0x200d+-0x32*0x17]=-0x244e*0x1+-0xf72+-0x33c1*-0x1-(-0xe5*0x4+0x38f+0x7)*_0x249b97*_0x249b97,_0x43885d[-0x1*0xd17+-0x9b5+0x2e*0x7f]=-(-0xe96*-0x2+0x998*0x4+-0x438a)*_0x249b97*_0x1d8f4a,_0x43885d[0x274*-0x9+0x1cfe+0x6e3*-0x1]=0xa8*0x2b+0x125*0x5+-0x21f1,_0x43885d[-0x1118+-0x1dd6+-0x1*-0x2ef6]=-(0xfe0+-0x9c9*0x3+0xd7d)*_0xfe07b*_0x1d8f4a,_0x43885d[-0xbc4+0xdbc+0x37*-0x9]=-(-0x2451+0x2*0xa7b+0xf5d)*_0x249b97*_0x1d8f4a,_0x43885d[0x1*0x132d+-0x35*0x4a+0x1*-0x3d1]=-0x110f+-0x3*-0x1da+0xb82*0x1-(0x2392+0x1070+-0x3400)*_0x1d8f4a*_0x1d8f4a,_0x43885d[0x4f*0x20+0x1*-0x16ba+0xce5]=-0x155*-0xd+0xe19+0x2*-0xfb5,_0x43885d[-0x1273+-0x215e+0x11*0x30d]=-(-0x25d*-0xd+0xe60+-0x61*0x77)*_0xfe07b*_0x414458,_0x43885d[0x17*0x3+0x12b2+-0x12ea]=-(-0x139*-0x7+0x388+-0xc15)*_0x249b97*_0x414458,_0x43885d[-0x51b*0x7+-0x1af*-0x16+-0x13f]=-(0x26f8+0x3*0x78b+0x3d97*-0x1)*_0x1d8f4a*_0x414458,_0x43885d[0x25*0x97+-0x321+-0x12a3]=-0x592+-0x12c4*-0x1+-0xd31,this;}['invert'](_0x4d6357=this){const _0x1a11b5=_0x4d6357['data'],_0x10b30a=_0x1a11b5[-0x2*-0xe69+-0x1a*0xdd+0x30*-0x22],_0x5350ee=_0x1a11b5[0x4*-0x97f+0x7b8+0x1e45],_0x3f0a16=_0x1a11b5[0xa7*0x2b+-0x14bd*-0x1+-0x37c*0xe],_0xa284=_0x1a11b5[0x3*-0x970+-0x116*-0x17+0x359],_0x28f789=_0x1a11b5[-0x247e+-0x2529+0x49ab*0x1],_0x496995=_0x1a11b5[-0x1*-0x1db7+0x44*-0x39+-0xe8e],_0x44e017=_0x1a11b5[0x217e+-0x2469+0x1*0x2f1],_0x2d2a8e=_0x1a11b5[-0x1*0x16d0+0x19*-0x7+0x2*0xbc3],_0x5b89b0=_0x1a11b5[0x1c8c+0x166f*-0x1+0x3*-0x207],_0x3a8798=_0x1a11b5[-0x194a+0x222*-0x7+0x2841],_0x7838a9=_0x1a11b5[-0x1021*-0x1+0x32*-0x47+-0x239],_0xecc6a4=_0x1a11b5[0x15d2+0xc9+-0x10*0x169],_0x2c012f=_0x1a11b5[0x2260+-0x167c+-0xbd8],_0x3d9e1a=_0x1a11b5[-0x2*0x1384+-0x2*0x982+0x3a19],_0x44e20d=_0x1a11b5[0x902+0x4d*0x3f+0x3*-0x94d],_0x13ee8d=_0x1a11b5[0x1*0x1f39+-0xe+-0x4*0x7c7],_0x29c9d0=_0x10b30a*_0x496995-_0x5350ee*_0x28f789,_0x35df77=_0x10b30a*_0x44e017-_0x3f0a16*_0x28f789,_0x300b8b=_0x10b30a*_0x2d2a8e-_0xa284*_0x28f789,_0x3a1545=_0x5350ee*_0x44e017-_0x3f0a16*_0x496995,_0x5afec7=_0x5350ee*_0x2d2a8e-_0xa284*_0x496995,_0x470826=_0x3f0a16*_0x2d2a8e-_0xa284*_0x44e017,_0x14aadf=_0x5b89b0*_0x3d9e1a-_0x3a8798*_0x2c012f,_0x4ff4e7=_0x5b89b0*_0x44e20d-_0x7838a9*_0x2c012f,_0x59e010=_0x5b89b0*_0x13ee8d-_0xecc6a4*_0x2c012f,_0x3e25cc=_0x3a8798*_0x44e20d-_0x7838a9*_0x3d9e1a,_0x17cbf4=_0x3a8798*_0x13ee8d-_0xecc6a4*_0x3d9e1a,_0x6d3d6e=_0x7838a9*_0x13ee8d-_0xecc6a4*_0x44e20d,_0x20eadd=_0x29c9d0*_0x6d3d6e-_0x35df77*_0x17cbf4+_0x300b8b*_0x3e25cc+_0x3a1545*_0x59e010-_0x5afec7*_0x4ff4e7+_0x470826*_0x14aadf;if(_0x20eadd===-0x36e+-0x4bb*-0x7+0x3*-0x9e5)this['setIdentit'+'y']();else{const _0x310054=(0x47c+-0x242e+0x1*0x1fb3)/_0x20eadd,_0x1b13f5=this['data'];_0x1b13f5[0x1688*-0x1+0xc*-0x72+0x1be0]=(_0x496995*_0x6d3d6e-_0x44e017*_0x17cbf4+_0x2d2a8e*_0x3e25cc)*_0x310054,_0x1b13f5[-0x20db+0x1*0x1763+-0x979*-0x1]=(-_0x5350ee*_0x6d3d6e+_0x3f0a16*_0x17cbf4-_0xa284*_0x3e25cc)*_0x310054,_0x1b13f5[-0x35*0x8b+-0xd*0x239+-0x1*-0x39ae]=(_0x3d9e1a*_0x470826-_0x44e20d*_0x5afec7+_0x13ee8d*_0x3a1545)*_0x310054,_0x1b13f5[-0x223+0x196e+-0x1748]=(-_0x3a8798*_0x470826+_0x7838a9*_0x5afec7-_0xecc6a4*_0x3a1545)*_0x310054,_0x1b13f5[0xfbc+-0x8d+-0xf2b]=(-_0x28f789*_0x6d3d6e+_0x44e017*_0x59e010-_0x2d2a8e*_0x4ff4e7)*_0x310054,_0x1b13f5[0x4ac+0x17e0+-0x1c87]=(_0x10b30a*_0x6d3d6e-_0x3f0a16*_0x59e010+_0xa284*_0x4ff4e7)*_0x310054,_0x1b13f5[0x1f88+-0x113+-0x31*0x9f]=(-_0x2c012f*_0x470826+_0x44e20d*_0x300b8b-_0x13ee8d*_0x35df77)*_0x310054,_0x1b13f5[0x3f*-0x5d+-0x1141+-0xd*-0x317]=(_0x5b89b0*_0x470826-_0x7838a9*_0x300b8b+_0xecc6a4*_0x35df77)*_0x310054,_0x1b13f5[0x148*0xd+-0x554+-0xb4c]=(_0x28f789*_0x17cbf4-_0x496995*_0x59e010+_0x2d2a8e*_0x14aadf)*_0x310054,_0x1b13f5[0x6e7*0x1+0x21*-0x1+-0x6bd]=(-_0x10b30a*_0x17cbf4+_0x5350ee*_0x59e010-_0xa284*_0x14aadf)*_0x310054,_0x1b13f5[0x85*0xa+-0x2459+0x63d*0x5]=(_0x2c012f*_0x5afec7-_0x3d9e1a*_0x300b8b+_0x13ee8d*_0x29c9d0)*_0x310054,_0x1b13f5[0x1d6+0x235e+-0x2529]=(-_0x5b89b0*_0x5afec7+_0x3a8798*_0x300b8b-_0xecc6a4*_0x29c9d0)*_0x310054,_0x1b13f5[-0x227a+0x1ec*0xe+0x79e]=(-_0x28f789*_0x3e25cc+_0x496995*_0x4ff4e7-_0x44e017*_0x14aadf)*_0x310054,_0x1b13f5[-0x20be+-0xe26+0x2ef1]=(_0x10b30a*_0x3e25cc-_0x5350ee*_0x4ff4e7+_0x3f0a16*_0x14aadf)*_0x310054,_0x1b13f5[-0x22be+0xe5f+0x146d]=(-_0x2c012f*_0x3a1545+_0x3d9e1a*_0x35df77-_0x44e20d*_0x29c9d0)*_0x310054,_0x1b13f5[-0x2*-0x1028+0x6f+-0x20b0]=(_0x5b89b0*_0x3a1545-_0x3a8798*_0x35df77+_0x7838a9*_0x29c9d0)*_0x310054;}return this;}['set'](_0x5314e1){const _0x1c2c01=this['data'];return _0x1c2c01[0x2*-0x7bd+-0x1dde+-0x2*-0x16ac]=_0x5314e1[-0x8db+0x1*0x1370+-0xa95],_0x1c2c01[0x1*0xf3e+-0x9c2+0x57b*-0x1]=_0x5314e1[-0x945+0x185e+-0xf18],_0x1c2c01[0x1f6d*-0x1+0xaed+0x1482]=_0x5314e1[0x1d83*0x1+-0x17ab+-0x5d6],_0x1c2c01[0x25c8+-0xcea+-0x3f*0x65]=_0x5314e1[0x2a1*-0x3+-0x7b5*-0x1+0x31],_0x1c2c01[-0xed7+0x4b3*-0x3+0x1cf4]=_0x5314e1[0x182+-0x2*0xa9+0x4*-0xb],_0x1c2c01[-0xe0+0x2061+-0x1f7c]=_0x5314e1[0x149*0x11+0x1ae6+-0x37b*0xe],_0x1c2c01[0x9*0x2f1+0x19b0+-0x5cb*0x9]=_0x5314e1[-0x1*0x21a9+-0x1414+-0x1*-0x35c3],_0x1c2c01[0xe*-0x17f+-0x2*0xab+-0x164f*-0x1]=_0x5314e1[-0x1cf*0x13+0xdbe*-0x1+0x3022],_0x1c2c01[0x1adc*0x1+-0x1*-0x148d+-0x137*0x27]=_0x5314e1[-0x2a9+0xff3*-0x2+0x2297*0x1],_0x1c2c01[0x3*0x1d5+0x1*-0x9da+0x464]=_0x5314e1[-0x7*-0x188+0x1*-0xfa3+0x13d*0x4],_0x1c2c01[-0x209c+-0x2169+0x3*0x1605]=_0x5314e1[-0xbff+0x957*-0x1+0x1560],_0x1c2c01[-0x1df6+-0x1*-0x1e97+0x6*-0x19]=_0x5314e1[0x1257+-0x1eb8+0xa*0x13e],_0x1c2c01[-0x16d9+-0x77e*-0x3+0x6b]=_0x5314e1[-0x13*0xcb+-0x152a+0x25*0xfb],_0x1c2c01[-0x1b65+0x154d*0x1+0x625]=_0x5314e1[0x253e+-0x155e+0xfd3*-0x1],_0x1c2c01[0x2212+-0x1*-0x1f08+-0x410c]=_0x5314e1[0xc5e+0x1e9f+-0x17b*0x1d],_0x1c2c01[-0x174*-0x4+0x1*0x122f+-0x17f0]=_0x5314e1[0x35b*0x7+0x7a2*0x2+0x673*-0x6],this;}['setIdentit'+'y'](){const _0x5d87e7=this['data'];return _0x5d87e7[0x1ff9+0x244a*-0x1+-0x55*-0xd]=-0x833*0x1+0x874+0x8*-0x8,_0x5d87e7[-0x19e6+-0x1*0x20b+0x1bf2*0x1]=0x1*0x2681+-0x26e9+0x68,_0x5d87e7[0x1c74+-0x179b+-0xb1*0x7]=-0x1037+0x641+0xff*0xa,_0x5d87e7[0x2c+0x1*0x22f4+-0x231d]=0x2055+-0xb2f+-0x1526,_0x5d87e7[-0x1*0x21e7+0x118b+0x1060]=0xadd+-0x99*-0xb+-0x1170,_0x5d87e7[-0xe1e+-0xc9f+0x1ac2]=-0x23a4+-0xcf6+0x309b,_0x5d87e7[0x5bf*0x4+0x1e2f*0x1+0x1*-0x3525]=-0x2062+0x1*0x905+0x1*0x175d,_0x5d87e7[-0x17*-0x185+0x18c4*0x1+-0x3bb0]=0x2*0x807+-0x1549*0x1+0x53b,_0x5d87e7[0xe62+0x1*0x15e+0x7dc*-0x2]=-0x161d+0x6e1+0xf3c,_0x5d87e7[0x39c+0x17+-0x3aa]=0x1e7*-0xd+-0x2587+0x4ca*0xd,_0x5d87e7[-0x351+0xfce+0x1*-0xc73]=0xb6f*-0x1+0x1dbf+-0x2b*0x6d,_0x5d87e7[-0x3*0x40f+0x191d+-0xce5]=-0x3*-0x2ce+-0x2d5*0xb+0x16bd,_0x5d87e7[0x10f1+0xb99*-0x2+0x64d]=-0xe36+-0x471*-0x5+-0x7ff,_0x5d87e7[0x808+0xb9f+-0x139a]=-0x2*0xd13+0x13*-0x1f7+0x1529*0x3,_0x5d87e7[0x202b+-0x18f+-0x1e8e*0x1]=0x1421+0x115b+-0x95f*0x4,_0x5d87e7[0x16a4+0x1cc3+-0x3358]=0x46*0x44+-0x15db*0x1+0x4*0xd1,this;}['setTRS'](_0x570886,_0x513a24,_0x47aa39){const _0x4ab91c=_0x513a24['x'],_0x30488e=_0x513a24['y'],_0x3f5848=_0x513a24['z'],_0x6878d1=_0x513a24['w'],_0x20d71f=_0x47aa39['x'],_0x2a3a9c=_0x47aa39['y'],_0x530526=_0x47aa39['z'],_0x3f4f56=_0x4ab91c+_0x4ab91c,_0x24a905=_0x30488e+_0x30488e,_0x5ac2a4=_0x3f5848+_0x3f5848,_0x158e7c=_0x4ab91c*_0x3f4f56,_0x3e6236=_0x4ab91c*_0x24a905,_0x161f1b=_0x4ab91c*_0x5ac2a4,_0x4b73f1=_0x30488e*_0x24a905,_0x6c9d3a=_0x30488e*_0x5ac2a4,_0x525912=_0x3f5848*_0x5ac2a4,_0x5e1c65=_0x6878d1*_0x3f4f56,_0x4bd223=_0x6878d1*_0x24a905,_0x509abb=_0x6878d1*_0x5ac2a4,_0x40d7a7=this['data'];return _0x40d7a7[0xeb2+-0x99*-0x13+-0x15f*0x13]=(0x515*0x1+-0x13d4+-0x760*-0x2-(_0x4b73f1+_0x525912))*_0x20d71f,_0x40d7a7[0x12ab+0x18ed*0x1+0x1*-0x2b97]=(_0x3e6236+_0x509abb)*_0x20d71f,_0x40d7a7[-0x5c*-0x4b+-0x2000+0x1*0x50e]=(_0x161f1b-_0x4bd223)*_0x20d71f,_0x40d7a7[0x1d23+-0x7eb+-0x1535]=-0x1347+-0x9*-0x2d1+-0x15*0x4a,_0x40d7a7[-0x383*0x5+-0x17ae+0x2941]=(_0x3e6236-_0x509abb)*_0x2a3a9c,_0x40d7a7[-0x4f4*0x5+-0x453+-0x17*-0x144]=(0x5f4+0x5*0x20c+-0x102f-(_0x158e7c+_0x525912))*_0x2a3a9c,_0x40d7a7[0xe98*0x2+-0x144b+-0x3*0x2f5]=(_0x6c9d3a+_0x5e1c65)*_0x2a3a9c,_0x40d7a7[0x1049+0x8af+-0x4fd*0x5]=-0x1c4b*-0x1+0xcdf+-0x292a,_0x40d7a7[0x7cb+0x123*-0x3+-0x45a]=(_0x161f1b+_0x4bd223)*_0x530526,_0x40d7a7[-0x9eb*0x2+-0x18da*-0x1+-0x4fb]=(_0x6c9d3a-_0x5e1c65)*_0x530526,_0x40d7a7[-0x1*-0x15bf+-0x1ae1+-0x52c*-0x1]=(-0x7d7+-0x877*0x1+0x104f-(_0x158e7c+_0x4b73f1))*_0x530526,_0x40d7a7[0x1abf+-0x3*-0x295+-0x2273]=0x8e3+-0x2399+0x1ab6,_0x40d7a7[-0x120b+0x1*0x1f+-0x2e*-0x64]=_0x570886['x'],_0x40d7a7[-0x2*-0xa0c+-0x1*0x20ed+0xce2]=_0x570886['y'],_0x40d7a7[-0x6d*0x1b+-0x2*0x103d+0x2c07]=_0x570886['z'],_0x40d7a7[-0x1603+0x17*-0x1+0x1629]=0x24bf+0x1727+-0x39*0x10d,this;}['transpose'](_0x5b6982=this){const _0x3275c9=_0x5b6982['data'],_0x34d1dd=this['data'];if(_0x3275c9===_0x34d1dd){let _0x176e8b;_0x176e8b=_0x3275c9[0x22ad+-0x6ca+-0x56*0x53],_0x34d1dd[-0x233*0x11+0x5c4+0x1fa0]=_0x3275c9[-0x246b+0x4*-0x6cd+0xb*0x5c9],_0x34d1dd[0x1d56+0x3c8+0x2*-0x108d]=_0x176e8b,_0x176e8b=_0x3275c9[-0x1*0x409+-0x2027*0x1+0x2432],_0x34d1dd[0x50b*-0x5+0x11a+0x181f]=_0x3275c9[0x215+-0x2346+-0xf*-0x237],_0x34d1dd[0x7db+0x5e*-0xb+-0x143*0x3]=_0x176e8b,_0x176e8b=_0x3275c9[-0xef5+-0x24ef+0x33e7],_0x34d1dd[-0x1f3*0x9+0x61b+0xb73]=_0x3275c9[-0x1*-0x1bfb+0x6a2*-0x2+-0xeab],_0x34d1dd[-0x5d*-0x2e+0xeec+-0x1*0x1f96]=_0x176e8b,_0x176e8b=_0x3275c9[-0x23bb*0x1+0x4*-0x973+-0x498d*-0x1],_0x34d1dd[0x26bc+-0x1135*-0x2+-0x4920]=_0x3275c9[-0x70f*0x1+-0xd4c+0x1464],_0x34d1dd[-0x9b0+0x16a6+-0x1*0xced]=_0x176e8b,_0x176e8b=_0x3275c9[-0x1409*-0x1+-0xb51*0x1+-0x8b1],_0x34d1dd[-0xbba+0x3*0x656+-0x741]=_0x3275c9[-0x1f52+0x343*0x6+0xbcd],_0x34d1dd[0x85c+0x2237+-0x2a86*0x1]=_0x176e8b,_0x176e8b=_0x3275c9[0x1d0+-0xcf2*-0x1+-0x1*0xeb7],_0x34d1dd[0x58f+-0x10ec*-0x1+-0x1670]=_0x3275c9[-0x51*-0x49+-0x10ed+-0x61e],_0x34d1dd[0x1f98+0x20ea+-0x4074]=_0x176e8b;}else _0x34d1dd[0x2082+-0xe6e*0x1+-0x1214]=_0x3275c9[-0x42+-0x1e7d+0x1ebf],_0x34d1dd[-0x1*0x15b+0x9*0x35+0x1*-0x81]=_0x3275c9[0x238f+-0x7c*-0x3d+0x1*-0x4117],_0x34d1dd[-0x92f+0x1*-0x25e4+0x2f15]=_0x3275c9[-0xcf5+-0x7dc+-0x251*-0x9],_0x34d1dd[-0x1d06+0x1c5c+-0xad*-0x1]=_0x3275c9[0x5f*0x54+-0x14e1*0x1+-0x2b*0x3d],_0x34d1dd[-0x2009+0xe9*-0x1d+-0x2*-0x1d39]=_0x3275c9[-0xba9*0x2+0x854+-0xb*-0x15d],_0x34d1dd[-0xb1+-0x2059+0x210f]=_0x3275c9[0x180*-0x4+-0x948+0xf4d],_0x34d1dd[-0xffe+-0xa8+0x10ac]=_0x3275c9[-0x3*0x6b5+0xdde+0x64a],_0x34d1dd[0x3*-0x3e5+0x1*0x1f46+-0x1390*0x1]=_0x3275c9[0x23*-0xa0+0x15ef+-0x2],_0x34d1dd[-0x1103+0x1b9a+0x35*-0x33]=_0x3275c9[0xd8d+0x223*0xa+-0x14b*0x1b],_0x34d1dd[0x1*0x1f6d+0x1*-0x1b9f+-0x3c5]=_0x3275c9[0x1d71*0x1+-0xf57+-0xe14],_0x34d1dd[0x2*-0x691+-0x7*-0x4c1+-0x141b*0x1]=_0x3275c9[-0x1*-0x22bb+-0x137d*-0x2+0x49ab*-0x1],_0x34d1dd[-0x1272+0xc88+0x5f5]=_0x3275c9[0x2108+0x1*0x2e5+-0x23df],_0x34d1dd[-0x9*0x20+-0xb*-0x19+0x19]=_0x3275c9[0x2267*-0x1+0xf*-0x24c+0x44de],_0x34d1dd[0x2239+-0x138b+-0xea1]=_0x3275c9[-0x1fd9+-0x4*-0x8c3+-0x32c],_0x34d1dd[0x14b*0x9+-0x22a0+0x170b]=_0x3275c9[-0x1*0x511+-0x350*0x5+0x15ac],_0x34d1dd[-0x1243+0x26ff+-0x14ad]=_0x3275c9[-0x13c4+0x9*0x22+0x12a1*0x1];return this;}['getTransla'+'tion'](_0x351688=new D()){return _0x351688['set'](this['data'][-0x816+-0x1d49+0x3*0xc79],this['data'][-0x1213+0x9e*0x8+0xd30],this['data'][0x1*0x1c87+-0x233d+0x4*0x1b1]);}['getX'](_0xddc848=new D()){return _0xddc848['set'](this['data'][-0x15e1+0xe9e+0x743],this['data'][0xfb9*-0x2+0x1de3+0x190],this['data'][0xcc1*0x1+0x901*0x3+-0xe*0x2d7]);}['getY'](_0xf08435=new D()){return _0xf08435['set'](this['data'][0x22b+0x1ded+-0x2014],this['data'][-0x451+0x1118+-0xcc2],this['data'][0x231+-0x2*0xb9d+0x150f]);}['getZ'](_0x42ee42=new D()){return _0x42ee42['set'](this['data'][0x9aa*-0x4+-0x1edf+0x458f],this['data'][0x1*0x99+0x6d*0x26+-0x10be],this['data'][0x1*0x21e2+-0xce*-0xa+-0x29e4]);}['getScale'](_0x1454fc=new D()){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),_0x1454fc['set'](Os['length'](),Js['length'](),ei['length']()),_0x1454fc;}get['scaleSign'](){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),Os['cross'](Os,Js),Os['dot'](ei)<0x1f6c+0x1*0x4d+-0x1fb9?-(0x1*-0xb7b+0xb92*0x1+-0x16):-0x1fb+-0x10bb*0x1+0x12b7;}['setFromEul'+'erAngles'](_0x575094,_0x215bb1,_0x341350){_0x575094*=Y['DEG_TO_RAD'],_0x215bb1*=Y['DEG_TO_RAD'],_0x341350*=Y['DEG_TO_RAD'];const _0x1b47b0=Math['sin'](-_0x575094),_0x15a1c1=Math['cos'](-_0x575094),_0x4ba619=Math['sin'](-_0x215bb1),_0x435f8b=Math['cos'](-_0x215bb1),_0x1defd8=Math['sin'](-_0x341350),_0x51fcdb=Math['cos'](-_0x341350),_0x1e722f=this['data'];return _0x1e722f[0x1095+-0x19ff+0x96a]=_0x435f8b*_0x51fcdb,_0x1e722f[-0x1c87+0x1*-0xbbd+0x2845]=-_0x435f8b*_0x1defd8,_0x1e722f[0x63*0x4e+0x1*0xd01+-0x3*0xe63]=_0x4ba619,_0x1e722f[0x8f*0x29+0x1851+0x5*-0x971]=0x14af+0x343+-0x1*0x17f2,_0x1e722f[0x63*0x20+-0x618+-0x191*0x4]=_0x15a1c1*_0x1defd8+_0x51fcdb*_0x1b47b0*_0x4ba619,_0x1e722f[0x1*-0x2415+0x5*0x607+0x5f7]=_0x15a1c1*_0x51fcdb-_0x1b47b0*_0x4ba619*_0x1defd8,_0x1e722f[-0x256b+0x634+0x1f3d]=-_0x435f8b*_0x1b47b0,_0x1e722f[0x493*0x3+0x120c+-0x2*0xfdf]=0x3*-0xc66+0xd94+0x179e,_0x1e722f[0x2209+0x2*-0x81a+0xd9*-0x15]=_0x1b47b0*_0x1defd8-_0x15a1c1*_0x51fcdb*_0x4ba619,_0x1e722f[0x1*-0x223d+-0x181a+0x20*0x1d3]=_0x51fcdb*_0x1b47b0+_0x15a1c1*_0x4ba619*_0x1defd8,_0x1e722f[0x215b+-0x1042+0x1*-0x110f]=_0x15a1c1*_0x435f8b,_0x1e722f[-0x7eb+-0x6c2+0xeb8]=0x1327*-0x1+-0x126d+0x2594,_0x1e722f[-0x33+-0x84f+0x5*0x1b6]=-0x1*0xc14+-0x1047+0x11*0x1ab,_0x1e722f[-0x1*-0x179a+0x794+0x1f21*-0x1]=0xa7*-0x22+0xd8d*0x2+0x54*-0xf,_0x1e722f[-0x21d*0x1+0x49e*-0x1+-0xc1*-0x9]=-0x1a82+-0x4f1*-0x5+0x1cd,_0x1e722f[0x1*-0x1ad8+-0x1f5f*0x1+0x3a46]=0x1*-0x38b+0x17c*-0xb+0x13e0,this;}['getEulerAn'+'gles'](_0x569600=new D()){this['getScale'](Hl);const _0x35a702=Hl['x'],_0x46bc82=Hl['y'],_0x3cf186=Hl['z'];if(_0x35a702===0x1439+0x11+-0x144a||_0x46bc82===0x2*-0xfd+0x1f2+0x8||_0x3cf186===0x1691+0x1*0x1df5+0xa2*-0x53)return _0x569600['set'](-0x15*0xd+-0x1a48+-0x1*-0x1b59,-0x23b9*-0x1+-0x16b1+-0xd08,-0x2032*-0x1+0xa9c*0x1+0x2*-0x1567);const _0x54b96c=this['data'],_0x2a9bfe=Math['asin'](-_0x54b96c[-0x38*0x1+-0x77d+0x7b7]/_0x35a702),_0x3662cc=Math['PI']*(0x205*-0xb+-0xc1*0x33+-0x5*-0xc22+0.5);let _0x1fa3f5,_0x31fa4f;return _0x2a9bfe<_0x3662cc?_0x2a9bfe>-_0x3662cc?(_0x1fa3f5=Math['atan2'](_0x54b96c[-0x1bae+0x2f*-0x6b+-0x1*-0x2f59]/_0x46bc82,_0x54b96c[0x1*-0x1e25+-0x2b6*-0x2+0x18c3]/_0x3cf186),_0x31fa4f=Math['atan2'](_0x54b96c[0x1e1c+-0x9*0x1f3+0xc90*-0x1]/_0x35a702,_0x54b96c[0x17eb+-0x1*0x133a+-0x4b1]/_0x35a702)):(_0x31fa4f=-0x1ad9+-0x4*-0x611+-0x295*-0x1,_0x1fa3f5=-Math['atan2'](_0x54b96c[0x188a+-0x55*-0x5+-0x1a2f]/_0x46bc82,_0x54b96c[-0x35*-0x9b+0x3*-0x641+-0x1*0xd4f]/_0x46bc82)):(_0x31fa4f=0x1a24+0x123*0x1+0x1b47*-0x1,_0x1fa3f5=Math['atan2'](_0x54b96c[-0x192e+-0x21ed+0xbd3*0x5]/_0x46bc82,_0x54b96c[0x654+-0x7*-0x28d+-0x6*0x407]/_0x46bc82)),_0x569600['set'](_0x1fa3f5,_0x2a9bfe,_0x31fa4f)['mulScalar'](Y['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};h(Qr,'IDENTITY',Object['freeze'](new Qr())),h(Qr,'ZERO',Object['freeze'](new Qr()['set']([-0x1*0x1498+0x250e+0x62*-0x2b,0x69b*0x1+0x1233*-0x2+-0x1d*-0x107,0x269+-0x14a9+0x248*0x8,-0x1*0x2593+-0x963+0x2ef6,-0x5b*-0x5+0x42*0x3a+-0x10bb,0x151*0x11+-0x7a3+-0x275*0x6,-0x9*-0x39a+0x4e7+-0x2551*0x1,-0x13fa*-0x1+-0x15f3+0x1f9*0x1,0x1acf+0x12b5*-0x1+0x81a*-0x1,0x1bf7*-0x1+0x5e7+-0x1610*-0x1,-0x1*0x1d05+-0x162c+0x5*0xa3d,-0x2*-0x8d2+0x12*-0x127+0x31a,0x2658+0x161b+0x1*-0x3c73,0x11ec+-0xac*-0xb+0x2d*-0x90,-0xa4b*-0x2+0x1*-0x13ce+-0xc8,0x68d+0xb62+0x11ef*-0x1])));let te=Qr;const Sn=class Sn{constructor(_0x129e62=-0x615+0xf*-0x1+0x624,_0x4f347e=0x155b+0x1837*-0x1+-0x3*-0xf4,_0xc50f0d=-0x9c8+0x11d*0xc+0x4*-0xe5,_0x2a7d09=-0x7c3+-0x48d+0xc51*0x1){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x129e62['length']===0x128b+-0x4*0x2b5+0x291*-0x3?(this['x']=_0x129e62[0x40d*-0x2+-0xa65*0x1+0x5*0x3b3],this['y']=_0x129e62[0x1251+-0x49*0x65+0xa7d],this['z']=_0x129e62[-0xd45+0x216a+0x1*-0x1423],this['w']=_0x129e62[0x2*-0x287+-0x1c26*0x1+-0x305*-0xb]):(this['x']=_0x129e62,this['y']=_0x4f347e,this['z']=_0xc50f0d,this['w']=_0x2a7d09);}['clone'](){const _0x1f18bb=this['constructo'+'r'];return new _0x1f18bb(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x43109d=this){return this['x']=_0x43109d['x']*-(-0x17*0x59+-0x84c+0x104c),this['y']=_0x43109d['y']*-(0x68a*0x3+0x125d*-0x1+-0x140),this['z']=_0x43109d['z']*-(-0x2*0x2f+0xf08+-0xea9),this['w']=_0x43109d['w'],this;}['copy'](_0x2c4fa4){return this['x']=_0x2c4fa4['x'],this['y']=_0x2c4fa4['y'],this['z']=_0x2c4fa4['z'],this['w']=_0x2c4fa4['w'],this;}['dot'](_0x4647a3){return this['x']*_0x4647a3['x']+this['y']*_0x4647a3['y']+this['z']*_0x4647a3['z']+this['w']*_0x4647a3['w'];}['equals'](_0x1cc74c){return this['x']===_0x1cc74c['x']&&this['y']===_0x1cc74c['y']&&this['z']===_0x1cc74c['z']&&this['w']===_0x1cc74c['w'];}['equalsAppr'+'ox'](_0x37a45d,_0x329e36=-0x31a*0xb+-0x277*-0x1+0x6f*0x49+0.000001){return Math['abs'](this['x']-_0x37a45d['x'])<_0x329e36&&Math['abs'](this['y']-_0x37a45d['y'])<_0x329e36&&Math['abs'](this['z']-_0x37a45d['z'])<_0x329e36&&Math['abs'](this['w']-_0x37a45d['w'])<_0x329e36;}['getAxisAng'+'le'](_0x96ca7){let _0x2347c2=Math['acos'](this['w'])*(0x1ee3+-0x1aad*-0x1+0x398e*-0x1);const _0x3f7b12=Math['sin'](_0x2347c2/(-0x17f+-0xb*0x46+-0x69*-0xb));return _0x3f7b12!==0x1ffa+-0x13cb+-0xc2f?(_0x96ca7['x']=this['x']/_0x3f7b12,_0x96ca7['y']=this['y']/_0x3f7b12,_0x96ca7['z']=this['z']/_0x3f7b12,(_0x96ca7['x']<-0x1f21+0x21c5+-0x34*0xd||_0x96ca7['y']<0x7c9*0x1+0x2614+-0x2ddd||_0x96ca7['z']<-0x991+-0x13b2+0x21*0xe3)&&(_0x96ca7['x']*=-(-0x146c+0x1655*0x1+-0x1e8),_0x96ca7['y']*=-(0x7be*0x3+-0x2*-0x55b+-0x21ef),_0x96ca7['z']*=-(0x1faa+0xa17+-0x4*0xa70),_0x2347c2*=-(0x2481+-0x1*0x827+-0x1c59))):(_0x96ca7['x']=0x7*-0x279+-0x7fc+0x194c,_0x96ca7['y']=-0x103b+0xe*-0x292+-0x1*-0x3437,_0x96ca7['z']=-0x1*0x1a69+-0x7d6+-0xb*-0x31d),_0x2347c2*Y['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0x54cc45=new D()){let _0x1208e3,_0x586b37,_0x49af13;const _0x71e846=this['x'],_0x2806f8=this['y'],_0x594ff7=this['z'],_0x4e48f6=this['w'],_0x377f9d=(0x52a+-0xfbb+0x1*0xa93)*(_0x4e48f6*_0x2806f8-_0x71e846*_0x594ff7);return _0x377f9d<=-(-0x2694+0x529+-0x6af*-0x5+0.99999)?(_0x1208e3=(-0x322*-0x8+0xf31+-0x1*0x283f)*Math['atan2'](_0x71e846,_0x4e48f6),_0x586b37=-Math['PI']/(0x127d*0x1+0x836+-0x1ab1),_0x49af13=-0x25*0xfb+-0x26a5+0x4aec):_0x377f9d>=-0x449+-0x5e9*0x2+0x101b+0.99999?(_0x1208e3=(0x2319+-0x664+-0x1cb3)*Math['atan2'](_0x71e846,_0x4e48f6),_0x586b37=Math['PI']/(0x1*0x17dc+-0x13a7+-0x433),_0x49af13=0x11f1+0x1266+-0x2457):(_0x1208e3=Math['atan2']((-0x1*-0x144e+0x24fd+-0x3949)*(_0x4e48f6*_0x71e846+_0x2806f8*_0x594ff7),0x2*0xa1d+-0x2528+0x10ef-(0x936+-0x1c0f+-0x12db*-0x1)*(_0x71e846*_0x71e846+_0x2806f8*_0x2806f8)),_0x586b37=Math['asin'](_0x377f9d),_0x49af13=Math['atan2']((0x123a+0x8*-0xe2+0x6*-0x1dc)*(_0x4e48f6*_0x594ff7+_0x71e846*_0x2806f8),0x1274*-0x1+0x227*-0x9+0x25d4-(0x1*0xf12+0x1c99+0x1*-0x2ba9)*(_0x2806f8*_0x2806f8+_0x594ff7*_0x594ff7))),_0x54cc45['set'](_0x1208e3,_0x586b37,_0x49af13)['mulScalar'](Y['RAD_TO_DEG']);}['invert'](_0x15d193=this){return this['conjugate'](_0x15d193)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x40f978,_0x1319e2,_0x147cb0){const _0x27c2e6=(0x171f+-0x13d4+-0x34a-_0x147cb0)*(_0x40f978['dot'](_0x1319e2)<0x177d+-0x22bb+0xb3e?-(0x26ff+-0x192+-0x256c):0x266+-0x6d*-0x39+-0x1aaa);return this['x']=_0x40f978['x']*_0x27c2e6+_0x1319e2['x']*_0x147cb0,this['y']=_0x40f978['y']*_0x27c2e6+_0x1319e2['y']*_0x147cb0,this['z']=_0x40f978['z']*_0x27c2e6+_0x1319e2['z']*_0x147cb0,this['w']=_0x40f978['w']*_0x27c2e6+_0x1319e2['w']*_0x147cb0,this['normalize']();}['mul'](_0xe0a258){const _0x37b162=this['x'],_0x27fd20=this['y'],_0x3a65d8=this['z'],_0x1a340d=this['w'],_0x4d4eda=_0xe0a258['x'],_0x2c5e53=_0xe0a258['y'],_0x2b4acb=_0xe0a258['z'],_0x5d12ab=_0xe0a258['w'];return this['x']=_0x1a340d*_0x4d4eda+_0x37b162*_0x5d12ab+_0x27fd20*_0x2b4acb-_0x3a65d8*_0x2c5e53,this['y']=_0x1a340d*_0x2c5e53+_0x27fd20*_0x5d12ab+_0x3a65d8*_0x4d4eda-_0x37b162*_0x2b4acb,this['z']=_0x1a340d*_0x2b4acb+_0x3a65d8*_0x5d12ab+_0x37b162*_0x2c5e53-_0x27fd20*_0x4d4eda,this['w']=_0x1a340d*_0x5d12ab-_0x37b162*_0x4d4eda-_0x27fd20*_0x2c5e53-_0x3a65d8*_0x2b4acb,this;}['mulScalar'](_0x1e2376,_0x522bad=this){return this['x']=_0x522bad['x']*_0x1e2376,this['y']=_0x522bad['y']*_0x1e2376,this['z']=_0x522bad['z']*_0x1e2376,this['w']=_0x522bad['w']*_0x1e2376,this;}['mul2'](_0x2e7a73,_0xa10fba){const _0x57bde4=_0x2e7a73['x'],_0xb48c75=_0x2e7a73['y'],_0x127c31=_0x2e7a73['z'],_0x30045c=_0x2e7a73['w'],_0x408ea7=_0xa10fba['x'],_0x1f26a6=_0xa10fba['y'],_0xdca6d2=_0xa10fba['z'],_0x3e87fe=_0xa10fba['w'];return this['x']=_0x30045c*_0x408ea7+_0x57bde4*_0x3e87fe+_0xb48c75*_0xdca6d2-_0x127c31*_0x1f26a6,this['y']=_0x30045c*_0x1f26a6+_0xb48c75*_0x3e87fe+_0x127c31*_0x408ea7-_0x57bde4*_0xdca6d2,this['z']=_0x30045c*_0xdca6d2+_0x127c31*_0x3e87fe+_0x57bde4*_0x1f26a6-_0xb48c75*_0x408ea7,this['w']=_0x30045c*_0x3e87fe-_0x57bde4*_0x408ea7-_0xb48c75*_0x1f26a6-_0x127c31*_0xdca6d2,this;}['normalize'](_0xdb5c25=this){let _0x186e67=_0xdb5c25['length']();return _0x186e67===0xb*0x89+0x25b8+-0x2b9b?(this['x']=this['y']=this['z']=0x11c1+-0x94+-0x112d*0x1,this['w']=-0x1ee0+0x2141*-0x1+0x4022):(_0x186e67=(-0x1534+-0x759+0x55*0x56)/_0x186e67,this['x']=_0xdb5c25['x']*_0x186e67,this['y']=_0xdb5c25['y']*_0x186e67,this['z']=_0xdb5c25['z']*_0x186e67,this['w']=_0xdb5c25['w']*_0x186e67),this;}['set'](_0x716ad3,_0x250aee,_0x11ff33,_0x274e43){return this['x']=_0x716ad3,this['y']=_0x250aee,this['z']=_0x11ff33,this['w']=_0x274e43,this;}['setFromAxi'+'sAngle'](_0x17c902,_0x3314af){_0x3314af*=(-0x1d29*0x1+0xfe2+-0x3*-0x46d+0.5)*Y['DEG_TO_RAD'];const _0x481889=Math['sin'](_0x3314af),_0x3596b0=Math['cos'](_0x3314af);return this['x']=_0x481889*_0x17c902['x'],this['y']=_0x481889*_0x17c902['y'],this['z']=_0x481889*_0x17c902['z'],this['w']=_0x3596b0,this;}['setFromEul'+'erAngles'](_0x162c00,_0x361615,_0x95387e){if(_0x162c00 instanceof D){const _0x514f47=_0x162c00;_0x162c00=_0x514f47['x'],_0x361615=_0x514f47['y'],_0x95387e=_0x514f47['z'];}const _0x183003=(-0x1ba2+-0x1668+0x320a+0.5)*Y['DEG_TO_RAD'];_0x162c00*=_0x183003,_0x361615*=_0x183003,_0x95387e*=_0x183003;const _0x1d06e3=Math['sin'](_0x162c00),_0x3ab1ea=Math['cos'](_0x162c00),_0x9866e7=Math['sin'](_0x361615),_0x18ebda=Math['cos'](_0x361615),_0x305770=Math['sin'](_0x95387e),_0x10b66c=Math['cos'](_0x95387e);return this['x']=_0x1d06e3*_0x18ebda*_0x10b66c-_0x3ab1ea*_0x9866e7*_0x305770,this['y']=_0x3ab1ea*_0x9866e7*_0x10b66c+_0x1d06e3*_0x18ebda*_0x305770,this['z']=_0x3ab1ea*_0x18ebda*_0x305770-_0x1d06e3*_0x9866e7*_0x10b66c,this['w']=_0x3ab1ea*_0x18ebda*_0x10b66c+_0x1d06e3*_0x9866e7*_0x305770,this;}['setFromMat'+'4'](_0x53c559){const _0x57a3a1=_0x53c559['data'];let _0x655dee=_0x57a3a1[0x796+-0x3*-0x211+-0xdc9],_0x49b6fc=_0x57a3a1[0xa8f+-0x1264+-0x2*-0x3eb],_0x9bbda2=_0x57a3a1[-0x2413+0x1*-0x1e10+0x4225],_0x3b5ab5=_0x57a3a1[-0x928+0xb*-0x109+0x148f],_0x482dcd=_0x57a3a1[0x20c2+-0x71*0x16+-0xf*0x189],_0x5e3615=_0x57a3a1[0x2*0x942+0x17*-0xb+-0x1181],_0x40bdfb=_0x57a3a1[-0x1*0x16cc+-0x1c5d*0x1+-0xa3d*-0x5],_0x2e7211=_0x57a3a1[0xb56+-0x42*0x1b+0xb*-0x65],_0x3deaa6=_0x57a3a1[-0x10*0x7c+0x276+0x554],_0x3bc901;return _0x3bc901=_0x655dee*_0x655dee+_0x49b6fc*_0x49b6fc+_0x9bbda2*_0x9bbda2,_0x3bc901===0x4b3*-0x5+-0x24c5+0x3c44?this['set'](0x7*0x5f+-0x30*-0x15+0xef*-0x7,0x270b+0x222d+-0x84*0x8e,-0x8*-0x2b0+-0x391*-0x9+-0x3599,0xbce+0x2660+0x7*-0x72b):(_0x3bc901=(0x1580+-0x1f08+0x989*0x1)/Math['sqrt'](_0x3bc901),_0x655dee*=_0x3bc901,_0x49b6fc*=_0x3bc901,_0x9bbda2*=_0x3bc901,_0x3bc901=_0x3b5ab5*_0x3b5ab5+_0x482dcd*_0x482dcd+_0x5e3615*_0x5e3615,_0x3bc901===-0x488+-0x14*0x98+0x1068?this['set'](-0x1481+-0x17*-0x52+0xd23,-0x10a+-0x11*0x143+-0x167d*-0x1,-0x61*0x35+0x163*0x2+0x114f,-0x1dcb+0x6d*0x19+0x1327):(_0x3bc901=(0x1*-0x192+-0x2a2*0x2+0x11*0x67)/Math['sqrt'](_0x3bc901),_0x3b5ab5*=_0x3bc901,_0x482dcd*=_0x3bc901,_0x5e3615*=_0x3bc901,_0x3bc901=_0x40bdfb*_0x40bdfb+_0x2e7211*_0x2e7211+_0x3deaa6*_0x3deaa6,_0x3bc901===0x1506*0x1+0x176+0x2*-0xb3e?this['set'](-0x4*-0x36b+-0x977*-0x3+-0x2a11,-0x236b+-0x10f3+0x1*0x345e,-0x1*0xa21+-0x703+0x4*0x449,0x3*0x8d3+-0x1b59+0xe1):(_0x3bc901=(-0x1b62+-0x19*0x7a+0x274d)/Math['sqrt'](_0x3bc901),_0x40bdfb*=_0x3bc901,_0x2e7211*=_0x3bc901,_0x3deaa6*=_0x3bc901,_0x3deaa6<-0x59*-0x4+-0x1*-0x8cb+0x4f*-0x21?_0x655dee>_0x482dcd?this['set'](-0xe*-0x1f6+-0x55*0xb+-0x17cc+_0x655dee-_0x482dcd-_0x3deaa6,_0x49b6fc+_0x3b5ab5,_0x40bdfb+_0x9bbda2,_0x5e3615-_0x2e7211):this['set'](_0x49b6fc+_0x3b5ab5,0x86c+0x5*-0x2a7+0x9b*0x8-_0x655dee+_0x482dcd-_0x3deaa6,_0x5e3615+_0x2e7211,_0x40bdfb-_0x9bbda2):_0x655dee<-_0x482dcd?this['set'](_0x40bdfb+_0x9bbda2,_0x5e3615+_0x2e7211,-0x3a6*-0x8+-0x1868+-0x4c7-_0x655dee-_0x482dcd+_0x3deaa6,_0x49b6fc-_0x3b5ab5):this['set'](_0x5e3615-_0x2e7211,_0x40bdfb-_0x9bbda2,_0x49b6fc-_0x3b5ab5,-0x22ed+0x1438+0xeb6+_0x655dee+_0x482dcd+_0x3deaa6),this['mulScalar']((-0x139a+-0x29+0x13c4)/this['length']()))));}['setFromDir'+'ections'](_0x405d5e,_0x498190){const _0x1dccba=0xe78*-0x2+0x1a57+0x29a+_0x405d5e['dot'](_0x498190);return _0x1dccba<Number['EPSILON']?Math['abs'](_0x405d5e['x'])>Math['abs'](_0x405d5e['y'])?(this['x']=-_0x405d5e['z'],this['y']=0x2aa+0x13*-0x147+0x1*0x159b,this['z']=_0x405d5e['x'],this['w']=0xd1d+0xf51+-0x1c6e):(this['x']=0x1586+-0x1*0x827+-0x15*0xa3,this['y']=-_0x405d5e['z'],this['z']=_0x405d5e['y'],this['w']=-0x17d9+0x10d8+0x701):(this['x']=_0x405d5e['y']*_0x498190['z']-_0x405d5e['z']*_0x498190['y'],this['y']=_0x405d5e['z']*_0x498190['x']-_0x405d5e['x']*_0x498190['z'],this['z']=_0x405d5e['x']*_0x498190['y']-_0x405d5e['y']*_0x498190['x'],this['w']=_0x1dccba),this['normalize']();}['slerp'](_0x16fad1,_0x3c7076,_0x23fbcc){const _0x56117d=_0x16fad1['x'],_0x4e11bc=_0x16fad1['y'],_0x5904c9=_0x16fad1['z'],_0x1764fe=_0x16fad1['w'];let _0x5803ec=_0x3c7076['x'],_0x4d93ea=_0x3c7076['y'],_0x5817ad=_0x3c7076['z'],_0x4babad=_0x3c7076['w'],_0x5ebf13=_0x1764fe*_0x4babad+_0x56117d*_0x5803ec+_0x4e11bc*_0x4d93ea+_0x5904c9*_0x5817ad;if(_0x5ebf13<0xe88+0x1772*-0x1+0x8ea&&(_0x4babad=-_0x4babad,_0x5803ec=-_0x5803ec,_0x4d93ea=-_0x4d93ea,_0x5817ad=-_0x5817ad,_0x5ebf13=-_0x5ebf13),Math['abs'](_0x5ebf13)>=-0x15f5*0x1+0x3b*0x3c+0x822)return this['w']=_0x1764fe,this['x']=_0x56117d,this['y']=_0x4e11bc,this['z']=_0x5904c9,this;const _0x20bccb=Math['acos'](_0x5ebf13),_0x5f57ee=Math['sqrt'](-0x16b7*0x1+-0x288+-0x20*-0xca-_0x5ebf13*_0x5ebf13);if(Math['abs'](_0x5f57ee)<0x5c*0x29+0xf29*-0x1+0x6d+0.001)return this['w']=_0x1764fe*(0xd27+0x87*0x11+0x2*-0xb0f+0.5)+_0x4babad*(-0x11b2+-0x7*-0xe1+-0xb8b*-0x1+0.5),this['x']=_0x56117d*(0xd*0xac+0x1b1*0x1+-0x11*0x9d+0.5)+_0x5803ec*(-0x18d6+0x1*0x211a+-0x844+0.5),this['y']=_0x4e11bc*(0x1b88+-0x51c+-0xa*0x23e+0.5)+_0x4d93ea*(-0x1*-0x20e0+0x1c7b+-0x3d5b+0.5),this['z']=_0x5904c9*(0x1*0x23dd+0x1d6c+-0x1*0x4149+0.5)+_0x5817ad*(0xa32+0x22b2+0x2a4*-0x11+0.5),this;const _0x1f3f90=Math['sin']((0x5d3+0x7*0x22c+-0x1506-_0x23fbcc)*_0x20bccb)/_0x5f57ee,_0x475414=Math['sin'](_0x23fbcc*_0x20bccb)/_0x5f57ee;return this['w']=_0x1764fe*_0x1f3f90+_0x4babad*_0x475414,this['x']=_0x56117d*_0x1f3f90+_0x5803ec*_0x475414,this['y']=_0x4e11bc*_0x1f3f90+_0x4d93ea*_0x475414,this['z']=_0x5904c9*_0x1f3f90+_0x5817ad*_0x475414,this;}['transformV'+'ector'](_0x36770e,_0x322fb4=new D()){const _0x4e3c59=_0x36770e['x'],_0x26f3ef=_0x36770e['y'],_0xdca7ec=_0x36770e['z'],_0x137b22=this['x'],_0x5bae57=this['y'],_0x174989=this['z'],_0x14e09f=this['w'],_0xa1dff5=_0x14e09f*_0x4e3c59+_0x5bae57*_0xdca7ec-_0x174989*_0x26f3ef,_0x2ebc31=_0x14e09f*_0x26f3ef+_0x174989*_0x4e3c59-_0x137b22*_0xdca7ec,_0x3e9eea=_0x14e09f*_0xdca7ec+_0x137b22*_0x26f3ef-_0x5bae57*_0x4e3c59,_0x16e788=-_0x137b22*_0x4e3c59-_0x5bae57*_0x26f3ef-_0x174989*_0xdca7ec;return _0x322fb4['x']=_0xa1dff5*_0x14e09f+_0x16e788*-_0x137b22+_0x2ebc31*-_0x174989-_0x3e9eea*-_0x5bae57,_0x322fb4['y']=_0x2ebc31*_0x14e09f+_0x16e788*-_0x5bae57+_0x3e9eea*-_0x137b22-_0xa1dff5*-_0x174989,_0x322fb4['z']=_0x3e9eea*_0x14e09f+_0x16e788*-_0x174989+_0xa1dff5*-_0x5bae57-_0x2ebc31*-_0x137b22,_0x322fb4;}['fromArray'](_0xf387ee,_0xf4b932=-0x1e*-0x61+-0x1736+0xbd8*0x1){return this['x']=_0xf387ee[_0xf4b932]??this['x'],this['y']=_0xf387ee[_0xf4b932+(0x1*0x1e47+0x1*-0x1ea5+0x5f)]??this['y'],this['z']=_0xf387ee[_0xf4b932+(-0x1*0x1796+0x6d*0x3+-0x1*-0x1651)]??this['z'],this['w']=_0xf387ee[_0xf4b932+(0x1*0x1312+-0x8f2+-0xa1d)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x5700=[],_0x2e3809=0x26a0+-0xf86+-0x171a){return _0x5700[_0x2e3809]=this['x'],_0x5700[_0x2e3809+(0x1*0x16f0+0x5b3+-0x5*0x5ba)]=this['y'],_0x5700[_0x2e3809+(-0xb43+0x13*-0x20b+0x3216)]=this['z'],_0x5700[_0x2e3809+(-0x1*0x10cf+0xe*-0x198+0x2722)]=this['w'],_0x5700;}};h(Sn,'IDENTITY',Object['freeze'](new Sn(0x1cbc+-0x1243+0x17f*-0x7,0x3*0x872+-0x4*-0x313+-0x1*0x25a2,-0x18dc+-0x2*0x6c3+-0x2662*-0x1,-0x1*-0x575+0x1823*-0x1+-0x12af*-0x1))),h(Sn,'ZERO',Object['freeze'](new Sn(0x20b7+0x1*-0x1e01+-0x2b6,-0x6*-0x2e1+0x1*0x645+-0x178b,-0x89*-0xc+0x1431+0x8df*-0x3,0x1*-0x377+-0x19*0xf5+0x1b64)));let le=Sn;const Pa=new D(),Ma=new D(),Um=new D(),Bm=new D(),gx=new D();class De{constructor(_0xe8904d,_0x465b03){h(this,'center',new D()),h(this,'halfExtent'+'s',new D(0x6dd*-0x2+0x1017+-0x1*0x25d+0.5,-0x1*-0xfb3+-0x1da9*0x1+0xdf6+0.5,0x3*-0xa84+-0x222f+0x1*0x41bb+0.5)),h(this,'_min',new D()),h(this,'_max',new D()),(_0xe8904d&&this['center']['copy'](_0xe8904d),_0x465b03&&this['halfExtent'+'s']['copy'](_0x465b03));}['add'](_0x89cdc6){const _0x11c92b=this['center'],_0x1c001b=_0x11c92b['x'],_0x3d2492=_0x11c92b['y'],_0x104fe3=_0x11c92b['z'],_0xc4ac6f=this['halfExtent'+'s'],_0x40084d=_0xc4ac6f['x'],_0x59f478=_0xc4ac6f['y'],_0x235562=_0xc4ac6f['z'];let _0x4bd4d5=_0x1c001b-_0x40084d,_0x51e603=_0x1c001b+_0x40084d,_0x5cc932=_0x3d2492-_0x59f478,_0x13bd5c=_0x3d2492+_0x59f478,_0x4aa4ae=_0x104fe3-_0x235562,_0xb22e69=_0x104fe3+_0x235562;const _0x4e7189=_0x89cdc6['center'],_0x7dd994=_0x4e7189['x'],_0x31bd0a=_0x4e7189['y'],_0x1093d4=_0x4e7189['z'],_0x349497=_0x89cdc6['halfExtent'+'s'],_0x11ea24=_0x349497['x'],_0xb13e9d=_0x349497['y'],_0x448dc4=_0x349497['z'],_0x54aa53=_0x7dd994-_0x11ea24,_0x3349a6=_0x7dd994+_0x11ea24,_0x235dce=_0x31bd0a-_0xb13e9d,_0x52ab29=_0x31bd0a+_0xb13e9d,_0x4f633c=_0x1093d4-_0x448dc4,_0x3a8b0f=_0x1093d4+_0x448dc4;_0x54aa53<_0x4bd4d5&&(_0x4bd4d5=_0x54aa53),_0x3349a6>_0x51e603&&(_0x51e603=_0x3349a6),_0x235dce<_0x5cc932&&(_0x5cc932=_0x235dce),_0x52ab29>_0x13bd5c&&(_0x13bd5c=_0x52ab29),_0x4f633c<_0x4aa4ae&&(_0x4aa4ae=_0x4f633c),_0x3a8b0f>_0xb22e69&&(_0xb22e69=_0x3a8b0f),_0x11c92b['x']=(_0x4bd4d5+_0x51e603)*(-0x1c92+-0x104e+0xb38*0x4+0.5),_0x11c92b['y']=(_0x5cc932+_0x13bd5c)*(-0x11ab+-0x2fa+0x14a5+0.5),_0x11c92b['z']=(_0x4aa4ae+_0xb22e69)*(-0xa7+0xa0d*-0x1+-0x2ad*-0x4+0.5),_0xc4ac6f['x']=(_0x51e603-_0x4bd4d5)*(0x1*0x2137+-0x868*0x1+-0x18cf+0.5),_0xc4ac6f['y']=(_0x13bd5c-_0x5cc932)*(-0x8*0x3f3+0x14fc+0xa9c+0.5),_0xc4ac6f['z']=(_0xb22e69-_0x4aa4ae)*(-0x91+0x431+-0x3a0*0x1+0.5);}['copy'](_0x549e3d){this['center']['copy'](_0x549e3d['center']),this['halfExtent'+'s']['copy'](_0x549e3d['halfExtent'+'s']);}['clone'](){return new De(this['center'],this['halfExtent'+'s']);}['intersects'](_0x3322f2){const _0x587fe4=this['getMax'](),_0x1172a2=this['getMin'](),_0x31ea29=_0x3322f2['getMax'](),_0x1a244a=_0x3322f2['getMin']();return _0x1172a2['x']<=_0x31ea29['x']&&_0x587fe4['x']>=_0x1a244a['x']&&_0x1172a2['y']<=_0x31ea29['y']&&_0x587fe4['y']>=_0x1a244a['y']&&_0x1172a2['z']<=_0x31ea29['z']&&_0x587fe4['z']>=_0x1a244a['z'];}['_intersect'+'sRay'](_0x7b7a38,_0x1773e2){const _0x23db3b=Pa['copy'](this['getMin']())['sub'](_0x7b7a38['origin']),_0xc5db65=Ma['copy'](this['getMax']())['sub'](_0x7b7a38['origin']),_0x11f9fe=_0x7b7a38['direction'];_0x11f9fe['x']===-0xa4f+-0x16a*-0x8+-0x101*0x1?(_0x23db3b['x']=_0x23db3b['x']<-0x25f*0x1+0x1cce+-0x65*0x43?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0xc5db65['x']=_0xc5db65['x']<0xa9e+-0x2*0x389+-0x38c?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x23db3b['x']/=_0x11f9fe['x'],_0xc5db65['x']/=_0x11f9fe['x']),_0x11f9fe['y']===-0x9b*-0x9+0x1*0x22a+-0x79d*0x1?(_0x23db3b['y']=_0x23db3b['y']<-0xbae+0x1127+0x579*-0x1?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0xc5db65['y']=_0xc5db65['y']<-0x1451*0x1+-0x3*-0x76b+-0x1f0?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x23db3b['y']/=_0x11f9fe['y'],_0xc5db65['y']/=_0x11f9fe['y']),_0x11f9fe['z']===-0x1e31+0x370+-0x1ac1*-0x1?(_0x23db3b['z']=_0x23db3b['z']<0x15ec+-0x1b1c+0x530?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0xc5db65['z']=_0xc5db65['z']<-0x26ea+0x1b59+-0x1*-0xb91?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x23db3b['z']/=_0x11f9fe['z'],_0xc5db65['z']/=_0x11f9fe['z']);const _0x2dbe9d=Um['set'](Math['min'](_0x23db3b['x'],_0xc5db65['x']),Math['min'](_0x23db3b['y'],_0xc5db65['y']),Math['min'](_0x23db3b['z'],_0xc5db65['z'])),_0x5aea25=Bm['set'](Math['max'](_0x23db3b['x'],_0xc5db65['x']),Math['max'](_0x23db3b['y'],_0xc5db65['y']),Math['max'](_0x23db3b['z'],_0xc5db65['z'])),_0x2e958c=Math['min'](Math['min'](_0x5aea25['x'],_0x5aea25['y']),_0x5aea25['z']),_0x208ae4=Math['max'](Math['max'](_0x2dbe9d['x'],_0x2dbe9d['y']),_0x2dbe9d['z']),_0x9638ce=_0x2e958c>=_0x208ae4&&_0x208ae4>=-0x39f+0x1cb8+0x101*-0x19;return _0x9638ce&&_0x1773e2['copy'](_0x7b7a38['direction'])['mulScalar'](_0x208ae4)['add'](_0x7b7a38['origin']),_0x9638ce;}['_fastInter'+'sectsRay'](_0x4376ba){const _0x566602=Pa,_0x35bad8=Ma,_0x1654db=Um,_0x4cdb8e=Bm,_0x10e2fa=gx,_0xad8e5d=_0x4376ba['direction'];return _0x566602['sub2'](_0x4376ba['origin'],this['center']),_0x4cdb8e['set'](Math['abs'](_0x566602['x']),Math['abs'](_0x566602['y']),Math['abs'](_0x566602['z'])),_0x1654db['mul2'](_0x566602,_0xad8e5d),!(_0x4cdb8e['x']>this['halfExtent'+'s']['x']&&_0x1654db['x']>=-0xa67+-0x2*-0xb97+-0xcc7||_0x4cdb8e['y']>this['halfExtent'+'s']['y']&&_0x1654db['y']>=-0xadd+0x178*-0x4+-0x10bd*-0x1||_0x4cdb8e['z']>this['halfExtent'+'s']['z']&&_0x1654db['z']>=0x1815+0x779*0x1+-0x1f8e||(_0x10e2fa['set'](Math['abs'](_0xad8e5d['x']),Math['abs'](_0xad8e5d['y']),Math['abs'](_0xad8e5d['z'])),_0x35bad8['cross'](_0xad8e5d,_0x566602),_0x35bad8['set'](Math['abs'](_0x35bad8['x']),Math['abs'](_0x35bad8['y']),Math['abs'](_0x35bad8['z'])),_0x35bad8['x']>this['halfExtent'+'s']['y']*_0x10e2fa['z']+this['halfExtent'+'s']['z']*_0x10e2fa['y'])||_0x35bad8['y']>this['halfExtent'+'s']['x']*_0x10e2fa['z']+this['halfExtent'+'s']['z']*_0x10e2fa['x']||_0x35bad8['z']>this['halfExtent'+'s']['x']*_0x10e2fa['y']+this['halfExtent'+'s']['y']*_0x10e2fa['x']);}['intersects'+'Ray'](_0x386213,_0x2b64dd){return _0x2b64dd?this['_intersect'+'sRay'](_0x386213,_0x2b64dd):this['_fastInter'+'sectsRay'](_0x386213);}['setMinMax'](_0x121945,_0x2107de){this['center']['add2'](_0x2107de,_0x121945)['mulScalar'](-0x1*0x24c5+-0x1*-0x10b1+-0x202*-0xa+0.5),this['halfExtent'+'s']['sub2'](_0x2107de,_0x121945)['mulScalar'](-0x1*-0x114f+0xd3*0x12+-0x2025+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x5eb450){const _0x4ebf1d=this['getMin'](),_0x22fa2e=this['getMax']();return!(_0x5eb450['x']<_0x4ebf1d['x']||_0x5eb450['x']>_0x22fa2e['x']||_0x5eb450['y']<_0x4ebf1d['y']||_0x5eb450['y']>_0x22fa2e['y']||_0x5eb450['z']<_0x4ebf1d['z']||_0x5eb450['z']>_0x22fa2e['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x5dbae0,_0xac5d51,_0x5f2db6=!(0x2f*-0x63+-0x4bb+0x16e9)){const _0x3195aa=_0x5dbae0['center'],_0x201bb5=_0x5dbae0['halfExtent'+'s'],_0x437660=_0xac5d51['data'];let _0x2d70a2=_0x437660[-0x1*0x1b92+-0x1*-0x75a+0x1438],_0x3a9ce6=_0x437660[-0xf*0x137+0x1fc*0xe+-0x98b],_0x3f10fe=_0x437660[-0x21*0x96+-0x22fc+0x305*0x12],_0x4bde94=_0x437660[0x43*0x6c+0x1dd1*0x1+0xc*-0x4d7],_0x1fb220=_0x437660[-0x6*0x101+0x1f12+-0x1907],_0x194f71=_0x437660[0x80e+-0x11bd*-0x1+-0x19c2],_0x489e83=_0x437660[0x16ea+0xf9c+-0x2684],_0x13d76f=_0x437660[-0xd75+0x5e9*-0x5+0x2b08],_0xb567fe=_0x437660[-0x12df+-0x1*-0x2566+-0x1*0x127d];if(_0x5f2db6){let _0x4cfc48=_0x2d70a2*_0x2d70a2+_0x3a9ce6*_0x3a9ce6+_0x3f10fe*_0x3f10fe;if(_0x4cfc48>0x2325+0x192b+-0x3c50){const _0x242ca3=(-0xfb*-0x13+0x1c86+-0x2f26)/Math['sqrt'](_0x4cfc48);_0x2d70a2*=_0x242ca3,_0x3a9ce6*=_0x242ca3,_0x3f10fe*=_0x242ca3;}if(_0x4cfc48=_0x4bde94*_0x4bde94+_0x1fb220*_0x1fb220+_0x194f71*_0x194f71,_0x4cfc48>0x1c52+0x2441*-0x1+0x7ef*0x1){const _0x557e97=(-0x1302+0x769*-0x1+0x1a6c)/Math['sqrt'](_0x4cfc48);_0x4bde94*=_0x557e97,_0x1fb220*=_0x557e97,_0x194f71*=_0x557e97;}if(_0x4cfc48=_0x489e83*_0x489e83+_0x13d76f*_0x13d76f+_0xb567fe*_0xb567fe,_0x4cfc48>-0x29*-0x47+-0x1650+-0x1*-0xaf1){const _0x93faa7=(0x5d5*0x4+0xc*0x70+-0x1*0x1c93)/Math['sqrt'](_0x4cfc48);_0x489e83*=_0x93faa7,_0x13d76f*=_0x93faa7,_0xb567fe*=_0x93faa7;}}this['center']['set'](_0x437660[-0x20f0+0x2352+-0x12b*0x2]+_0x2d70a2*_0x3195aa['x']+_0x3a9ce6*_0x3195aa['y']+_0x3f10fe*_0x3195aa['z'],_0x437660[-0x173+0x5c*0x19+-0x77c]+_0x4bde94*_0x3195aa['x']+_0x1fb220*_0x3195aa['y']+_0x194f71*_0x3195aa['z'],_0x437660[0x1e*-0xed+-0x32*-0x9d+-0x2d6]+_0x489e83*_0x3195aa['x']+_0x13d76f*_0x3195aa['y']+_0xb567fe*_0x3195aa['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x2d70a2)*_0x201bb5['x']+Math['abs'](_0x3a9ce6)*_0x201bb5['y']+Math['abs'](_0x3f10fe)*_0x201bb5['z'],Math['abs'](_0x4bde94)*_0x201bb5['x']+Math['abs'](_0x1fb220)*_0x201bb5['y']+Math['abs'](_0x194f71)*_0x201bb5['z'],Math['abs'](_0x489e83)*_0x201bb5['x']+Math['abs'](_0x13d76f)*_0x201bb5['y']+Math['abs'](_0xb567fe)*_0x201bb5['z']);}static['computeMin'+'Max'](_0x27b6ad,_0x242a41,_0x5181fa,_0x42ade5=_0x27b6ad['length']/(-0x183a+-0xacf*0x2+-0x27*-0x12d)){if(_0x42ade5>-0x3*0xc46+-0x19*0x121+0x410b){let _0x357698=_0x27b6ad[-0x337+-0x1bd+0x4f4],_0x45db43=_0x27b6ad[0x5*-0x175+-0x1240+-0x198a*-0x1],_0x22d547=_0x27b6ad[0x649*-0x2+-0x100d+0x1ca1],_0x459b2c=_0x357698,_0x800280=_0x45db43,_0x291cc6=_0x22d547;const _0x4d86f9=_0x42ade5*(0xe*0x266+0x18ec+-0x85b*0x7);for(let _0x117678=0x2112+-0x21c3+-0xf*-0xc;_0x117678<_0x4d86f9;_0x117678+=-0x2*-0x133+0x3d2*0xa+-0x2897*0x1){const _0x90a5fd=_0x27b6ad[_0x117678],_0x229b81=_0x27b6ad[_0x117678+(0x841*-0x2+0x46a+-0x1*-0xc19)],_0x24745a=_0x27b6ad[_0x117678+(-0xe*-0xa+-0x1ddb+0x1*0x1d51)];_0x90a5fd<_0x357698&&(_0x357698=_0x90a5fd),_0x229b81<_0x45db43&&(_0x45db43=_0x229b81),_0x24745a<_0x22d547&&(_0x22d547=_0x24745a),_0x90a5fd>_0x459b2c&&(_0x459b2c=_0x90a5fd),_0x229b81>_0x800280&&(_0x800280=_0x229b81),_0x24745a>_0x291cc6&&(_0x291cc6=_0x24745a);}_0x242a41['set'](_0x357698,_0x45db43,_0x22d547),_0x5181fa['set'](_0x459b2c,_0x800280,_0x291cc6);}}['compute'](_0x3efc2c,_0x39ece2){De['computeMin'+'Max'](_0x3efc2c,Pa,Ma,_0x39ece2),this['setMinMax'](Pa,Ma);}['intersects'+'BoundingSp'+'here'](_0x213552){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x213552)<=_0x213552['radius']*_0x213552['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x363892){const _0x102ca1=this['getMin'](),_0x17296d=this['getMax']();let _0x56da36=0xf49+-0x1*0x181c+0x8d3;const _0x2bdf29=['x','y','z'];for(let _0x2c55e1=-0x1ab4+-0x21fc+0x3cb0;_0x2c55e1<0x1*-0x2333+0x166c+0xcca;++_0x2c55e1){let _0xbb04f8=0x1c55+-0x1eb7+0x262;const _0x2f712e=_0x363892['center'][_0x2bdf29[_0x2c55e1]],_0x4f5ee4=_0x102ca1[_0x2bdf29[_0x2c55e1]],_0x5182f4=_0x17296d[_0x2bdf29[_0x2c55e1]];let _0x99893=0x1*-0xc45+-0x13a4+0x3*0xaa3;_0x2f712e<_0x4f5ee4&&(_0x99893=_0x4f5ee4-_0x2f712e,_0xbb04f8+=_0x99893*_0x99893),_0x2f712e>_0x5182f4&&(_0x99893=_0x2f712e-_0x5182f4,_0xbb04f8+=_0x99893*_0x99893),_0x56da36+=_0xbb04f8;}return _0x56da36;}['_expand'](_0x4ec6a1,_0x41cd7b){Pa['add2'](this['getMin'](),_0x4ec6a1),Ma['add2'](this['getMax'](),_0x41cd7b),this['setMinMax'](Pa,Ma);}}const Wl=new D(),Sx=new D();class sp{constructor(_0x1ace98=new D(),_0x25bd27=-0x323*0x2+-0x15c6+-0x1c0c*-0x1+0.5){h(this,'center'),h(this,'radius'),(w['assert'](!Object['isFrozen'](_0x1ace98),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x1ace98,this['radius']=_0x25bd27);}['containsPo'+'int'](_0x576adb){const _0x2c59c3=Wl['sub2'](_0x576adb,this['center'])['lengthSq'](),_0x421b80=this['radius'];return _0x2c59c3<_0x421b80*_0x421b80;}['intersects'+'Ray'](_0x4669a7,_0xfca29c){const _0x415f8b=Wl['copy'](_0x4669a7['origin'])['sub'](this['center']),_0xa2e6ee=_0x415f8b['dot'](Sx['copy'](_0x4669a7['direction'])['normalize']()),_0xae015a=_0x415f8b['dot'](_0x415f8b)-this['radius']*this['radius'];if(_0xae015a>-0x14db+-0x29*-0xe3+0x1f0*-0x8&&_0xa2e6ee>-0x1a9f+0x137*0xb+0x1*0xd42)return!(0x326+0x12f4+-0x1*0x1619);const _0x58be5a=_0xa2e6ee*_0xa2e6ee-_0xae015a;if(_0x58be5a<0x45a+-0x1a5e+0x1604)return!(0x25d7*0x1+0x1b3a+0x4110*-0x1);const _0x540f01=Math['abs'](-_0xa2e6ee-Math['sqrt'](_0x58be5a));return _0xfca29c&&_0xfca29c['copy'](_0x4669a7['direction'])['mulScalar'](_0x540f01)['add'](_0x4669a7['origin']),!(-0x1c37*0x1+0x1bc7+0x1*0x70);}['intersects'+'BoundingSp'+'here'](_0x48f655){Wl['sub2'](_0x48f655['center'],this['center']);const _0x1c011d=_0x48f655['radius']+this['radius'];return Wl['lengthSq']()<=_0x1c011d*_0x1c011d;}}class QS{constructor(_0x57f64b=D['UP'],_0x216fbd=-0xac5*-0x1+0x13ba+-0x1e7f){h(this,'normal',new D()),h(this,'distance'),(this['normal']['copy'](_0x57f64b),this['distance']=_0x216fbd);}['clone'](){const _0x3df62a=this['constructo'+'r'];return new _0x3df62a()['copy'](this);}['copy'](_0x1bb549){return this['normal']['copy'](_0x1bb549['normal']),this['distance']=_0x1bb549['distance'],this;}['intersects'+'Line'](_0x56a1b9,_0x40402c,_0x9483f0){const _0x324c8d=this['distance'],_0xdb375f=this['normal']['dot'](_0x56a1b9)+_0x324c8d,_0x378cc9=this['normal']['dot'](_0x40402c)+_0x324c8d,_0xcf0fd4=_0xdb375f/(_0xdb375f-_0x378cc9),_0xcb55fd=_0xcf0fd4>=-0x4c0*-0x6+0x1b*0xbe+-0x308a&&_0xcf0fd4<=0x650+-0x1fd6+0x1987;return _0xcb55fd&&_0x9483f0&&_0x9483f0['lerp'](_0x56a1b9,_0x40402c,_0xcf0fd4),_0xcb55fd;}['intersects'+'Ray'](_0x39bdf9,_0x5e084b){const _0x13a4b8=this['normal']['dot'](_0x39bdf9['direction']);if(_0x13a4b8===-0x1517+0x1*-0xdbd+0x22d4)return!(0x79c+0x5a*0xa+-0xdb*0xd);const _0x534674=-(this['normal']['dot'](_0x39bdf9['origin'])+this['distance'])/_0x13a4b8;return _0x534674>=0x6b*-0x49+-0x2018+0x3e9b&&_0x5e084b&&_0x5e084b['copy'](_0x39bdf9['direction'])['mulScalar'](_0x534674)['add'](_0x39bdf9['origin']),_0x534674>=-0x44c+0x352+-0xa*-0x19;}['normalize'](){const _0x37202e=(-0x1042+-0x9b6+0x19f9)/this['normal']['length']();return this['normal']['mulScalar'](_0x37202e),this['distance']*=_0x37202e,this;}['set'](_0x1a97b4,_0x412277,_0xe969d4,_0x45a25f){return this['normal']['set'](_0x1a97b4,_0x412277,_0xe969d4),this['distance']=_0x45a25f,this;}['setFromPoi'+'ntNormal'](_0x4f8d24,_0xaa5ce3){return this['normal']['copy'](_0xaa5ce3),this['distance']=-this['normal']['dot'](_0x4f8d24),this;}}class yx{constructor(){h(this,'planes',[]);for(let _0x1c28a8=-0x1*0x2202+0x2*0x7ab+-0x5*-0x3bc;_0x1c28a8<-0x1264+-0xf64*-0x2+-0xc5e;_0x1c28a8++)this['planes'][_0x1c28a8]=new QS();}['clone'](){const _0x4820d5=this['constructo'+'r'];return new _0x4820d5()['copy'](this);}['copy'](_0x3adb96){for(let _0x1f218e=0x1894+-0xcbf*0x1+-0x1*0xbd5;_0x1f218e<0xf64+-0x15bb*0x1+-0x65d*-0x1;_0x1f218e++)this['planes'][_0x1f218e]['copy'](_0x3adb96['planes'][_0x1f218e]);return this;}['setFromMat'+'4'](_0x525066){const [_0x314002,_0x141c2d,_0x5bf948,_0x5aafd7,_0x3fce3c,_0x492941,_0x5a18e4,_0x972cc6,_0x1e6005,_0x23da86,_0x7243dc,_0x103c38,_0x5d3d33,_0x2955bd,_0x2c117f,_0x319ce5]=_0x525066['data'],_0x25f14d=this['planes'];_0x25f14d[-0x2555*0x1+-0x4a*-0x9+0x22bb]['set'](_0x5aafd7-_0x314002,_0x972cc6-_0x3fce3c,_0x103c38-_0x1e6005,_0x319ce5-_0x5d3d33)['normalize'](),_0x25f14d[-0x1*0x2089+-0x4da+0x12b2*0x2]['set'](_0x5aafd7+_0x314002,_0x972cc6+_0x3fce3c,_0x103c38+_0x1e6005,_0x319ce5+_0x5d3d33)['normalize'](),_0x25f14d[0x611*0x2+0x8ad+-0x14cd]['set'](_0x5aafd7+_0x141c2d,_0x972cc6+_0x492941,_0x103c38+_0x23da86,_0x319ce5+_0x2955bd)['normalize'](),_0x25f14d[-0x1cab*0x1+-0x1397+-0x55d*-0x9]['set'](_0x5aafd7-_0x141c2d,_0x972cc6-_0x492941,_0x103c38-_0x23da86,_0x319ce5-_0x2955bd)['normalize'](),_0x25f14d[-0x1a3*-0x15+-0x19ad+-0x457*0x2]['set'](_0x5aafd7-_0x5bf948,_0x972cc6-_0x5a18e4,_0x103c38-_0x7243dc,_0x319ce5-_0x2c117f)['normalize'](),_0x25f14d[0xf81+0x179f+-0x271b]['set'](_0x5aafd7+_0x5bf948,_0x972cc6+_0x5a18e4,_0x103c38+_0x7243dc,_0x319ce5+_0x2c117f)['normalize']();}['containsPo'+'int'](_0x2e78ed){for(let _0x11327a=-0xd61+-0xd64*-0x2+-0xd67;_0x11327a<-0x31*0xb+0x90d*-0x1+0xb2e*0x1;_0x11327a++){const {normal:_0x5d8bc6,distance:_0x18eb7b}=this['planes'][_0x11327a];if(_0x5d8bc6['dot'](_0x2e78ed)+_0x18eb7b<=-0x1a1c+-0x5f6*0x1+-0xa*-0x335)return!(-0x47*-0x1c+-0x683*0x5+-0x1*-0x18cc);}return!(-0x1d5d*-0x1+0x2*-0x5f4+0x6d*-0x29);}['containsSp'+'here'](_0x11712b){const {center:_0x30a66e,radius:_0x18f30f}=_0x11712b;let _0x80418c=0x4cf*-0x3+0x1*-0x18cd+-0x139d*-0x2;for(let _0x415a65=-0x1f43+-0x13*-0x3f+0x2*0xd4b;_0x415a65<-0x90d+-0x1b1*0x5+0xbb*0x18;_0x415a65++){const {normal:_0x2b3d37,distance:_0x51fc6a}=this['planes'][_0x415a65],_0x271f7c=_0x2b3d37['dot'](_0x30a66e)+_0x51fc6a;if(_0x271f7c<=-_0x18f30f)return 0x240b*-0x1+0x11*0x11a+0x1151;_0x271f7c>_0x18f30f&&_0x80418c++;}return _0x80418c===-0x18*-0x140+-0x7b9*0x1+0x1b*-0xd3?0x11*-0x180+0x329*0xa+-0x6*0x104:0x1d91+0x261f+0x43af*-0x1;}}class Dn{constructor(_0x531d8e,_0x205146){h(this,'origin',new D()),h(this,'direction',D['FORWARD']['clone']()),(_0x531d8e&&this['origin']['copy'](_0x531d8e),_0x205146&&this['direction']['copy'](_0x205146));}['set'](_0x240456,_0x3f55f6){return this['origin']['copy'](_0x240456),this['direction']['copy'](_0x3f55f6),this;}['copy'](_0x2a78a9){return this['set'](_0x2a78a9['origin'],_0x2a78a9['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const yt=0xc5f+-0x22c3+-0x1*-0x1664,ue=0x1*0x66f+-0x2*0x287+0x16*-0x10,ip=0x10d3*-0x1+0x1fd*0x1+-0x1*-0xed8,rp=-0x3*0x593+-0x2187+0x3240,Ft=-0x243*0x3+-0xb30+0x3*0x5fe,vx=-0x104*0x1f+0x1173+0xe0b,JS=-0x14cf+-0x3*0x39a+0x1fa1,xx=0xb*-0xd8+0x211*0x11+-0x19d4,jh=-0x916+0x1*0x863+0x25*0x5,Yh=0x7b+-0x87b+0x808,fs=0x8b*-0x34+0x1d3*-0x11+0x3b3f,Tx=0x23ec+-0x293*-0x1+-0x3b*0xa7,wx=0x1c3a+0x363+0x1*-0x1f9a,Ex=0x1d9c+0x88+0x788*-0x4,ms=-0xb15*-0x3+-0x1605+-0x3*0x3be,lh=0x1633*0x1+0xbff+-0x2231,ey=0x3*-0x4a5+-0x16af+0x24a0,bx=-0x33*0x7d+-0x3*-0x7d1+-0x4b*-0x5,jo=-0x2bb+-0x18da*0x1+-0xdcb*-0x2,Yo=-0x1b75+0x1*-0x1841+0x33b8,ch=-0x1*-0x1c8c+0x1510+-0x3198*0x1,bt=-0x3*-0x25b+-0x16a8+-0x1*-0xf97,pa=0xb68*-0x2+-0x121*0x5+0x1c76*0x1,Fo=-0x1834+-0x1*-0x525+0x1311,Ax=0x24cb*-0x1+0x67a*0x3+0x4*0x458,Te=0xc1*-0x11+0x10d8+-0x1*0x407,vt=0xf26+0x3*-0x8cb+0xb3c,Kh=0x16f7+0x1*-0x1549+-0x1*0x1ac,Zh=0x1ed9+0xc0b*0x2+0x1b76*-0x2,Qh=-0x61*-0x3d+0x12b8+-0x29d1,ma=0x20d0+0x22fb+0x21e3*-0x2,Cx=0x5bf*-0x1+-0x8d6+0xe95,hh=-0x3b+0x1a1e+-0x19e2,dh=-0x1d0a+0x69b*0x1+0x1671,Wf=-0x23fe+-0x55d*0x1+0x295e,Px=0x24d5+0x1676+-0xbdb*0x5,Mx=-0x7*-0x405+-0x2d0+0x4f*-0x52,Dx=-0x142c+0x562*0x3+-0x4*-0x103,Wi=0x2ae*0x2+-0x1f4a+-0x8a7*-0x3,$f=0x1049*0x1+-0x2d7*-0xd+-0x3534,Yi=0x480+-0x25a6+-0x45*-0x7b,wr=-0x1*0x93d+0x4ad+0x492,ty=-0x1078+-0x2417+0x348f,sy=0x524+0x6e5+0x37*-0x38,ap=-0x1e8d+-0x2454+0x42e3,Jh=-0xe29+-0x1*-0x2151+-0x1325,np=0xfc0+-0x8*-0xd1+-0x1644,ed=0x4*0x7f1+0x2bf*-0x9+-0x708,Cr=0x6e*-0x33+0x377*0x6+0x126,Ne=0x1dc3+0x19c1+-0x377d,td=0x10*-0x15a+-0x2305+0x38ad,op=0x2374+-0x1*-0xd8d+0x4*-0xc3e,vl=-0x1115+-0x27*-0xe3+-0x1176,ui=0x4c7*0x4+-0x3*-0x907+-0x1*0x2e26,nt=-0x1445+-0x1d58+0x1*0x31a9,Ye=0xfb9+0x1*-0xb85+-0x427,Xt=0xb5*0xd+-0x1d3*-0x6+-0x1415,Ji=0x1d73*-0x1+0x27*-0x97+-0x1181*-0x3,$i=0x5b5*0x5+0x86*0x16+-0x27fd,sd=-0x1b9b+-0x3ad+0x1f59,In=0x6*-0x3ea+0xb5*0x4+0x14ba,lp=0xa7b*0x3+0x1282*-0x2+0xf1*0x6,_s=-0x13*0x1fd+0xfce+-0x1*-0x160d,id=0x1b1*-0x13+-0x606+0x263e,cp=0x1de1+-0x17ee+-0x5dd*0x1,hp=0x4b*-0x35+0x1*-0x26a1+0x363f,xl=-0x8*0x41e+-0x27a*0x1+0x2382,Tl=-0x9b*0x11+0x580+0x4e4,rd=-0xb06+-0x1*-0x934+0xa4*0x3,ad=0x46*0x40+0x10ca+-0x222f,iy=0xc0e+0x5ad*-0x1+-0x6b*0xf,ry=0x1d4b*-0x1+-0x23a4+0x2e*0x16a,ay=0x1*-0x393+0x1018*-0x1+0x13c9*0x1,ny=0x4a*-0x6b+0x1836*0x1+0x6d7,dp=0x74e*0x4+0x152a+-0x3242,oy=0x2550+0x15ed+-0x3b1c,fp=-0xfbc+-0x19f9+0x29d7,up=-0x145*0x2+0x1508+-0x125b,pp=-0xc45+-0x1090+-0x1cf9*-0x1,Ki=-0x156b*-0x1+-0x667+-0xedf,mp=-0x13d6+0x1926+-0x52a,ly=-0x184f+0x1340+-0x536*-0x1,_p=-0x24cd+0x163d+-0x75c*-0x2,gp=0x1a8c+0x2455+-0x3eb8,Sp=-0x19c*-0x9+-0x1a30+0xbde,yp=0x17f*0x2+0x3*-0x481+0xab0,vp=0x1555+-0x4*-0x5ef+-0x2ce5,cy=0x4*-0xc2+-0x9a9+0xcde,xp=0xf15+-0x1f06+0x101f,nd=0xf73+0xcf2*-0x2+0xaa0,Tp=-0x171+0x40e+-0x26d*0x1,Ue=0x2411+0x26d3+-0x1*0x4ab3,od=-0x191+-0x29*-0x11+-0xf6,wp=0x31c*-0xa+-0xd4d+-0xb26*-0x4,Ep=0x5b*-0x17+-0x21ef+-0x2a5*-0x10,bp=0x2600+0x12cb*0x1+0x3896*-0x1,Xf=0xa3*-0x1e+0xd*-0x16b+0x25bf*0x1,qf=-0x4e8*-0x7+0x13aa+-0x35cb,jf=0x9b7+0x1e3b+-0x27ba,Yf=-0x78*0x14+-0xe7*0xd+-0x556*-0x4,Kf=0x17*-0x183+0x1fe1+0x322,Zf=0xe*-0x149+0xf5f+-0x1*-0x2de,hy=0xdf3*-0x2+-0xada+0x2700,dy=0xa*-0xa2+0x116f+-0x2*0x56d,fy=0x2*0x7f+-0x1aae+-0x52*-0x51,uy=0x98+-0x714+0xb*0x9d,Qf=0x1040+0x1*0x108c+0x2b6*-0xc,vn=-0x1*0xb86+-0x1bdd+0x27a8,Nt=new Map([[ty,{'name':'A8','size':0x1,'ldr':!(-0x574*-0x4+0x198a+-0x2f5a)}],[Ep,{'name':'R8','size':0x1,'ldr':!(0x1a51+0x459+-0x1eaa)}],[sy,{'name':'L8','size':0x1,'ldr':!(-0x539+0x1c73*0x1+0x173a*-0x1)}],[ap,{'name':'LA8','size':0x2,'ldr':!(-0x1*0x109+-0x1464+0x5*0x449)}],[bp,{'name':'RG8','size':0x2,'ldr':!(0xd*-0xca+0x1*0x13f6+-0x9b4)}],[Jh,{'name':'RGB565','size':0x2,'ldr':!(0x18*-0x16d+-0x16c7+0x38ff)}],[np,{'name':'RGBA5551','size':0x2,'ldr':!(-0x3*-0xcbd+-0x1077+-0x15c0)}],[ed,{'name':'RGBA4','size':0x2,'ldr':!(0x115*0x11+0x19*-0x10f+-0x409*-0x2)}],[Cr,{'name':'RGB8','size':0x4,'ldr':!(-0x1*-0xb34+0x1fcd+-0x2b01)}],[Ne,{'name':'RGBA8','size':0x4,'ldr':!(0x2*0xacf+0x23af+-0x394d),'srgbFormat':_s}],[od,{'name':'R16F','size':0x2}],[wp,{'name':'RG16F','size':0x4}],[ui,{'name':'RGB16F','size':0x8}],[nt,{'name':'RGBA16F','size':0x8}],[Ye,{'name':'RGB32F','size':0x10}],[Xt,{'name':'RGBA32F','size':0x10}],[Ji,{'name':'R32F','size':0x4}],[$i,{'name':'DEPTH','size':0x4}],[vn,{'name':'DEPTH16','size':0x2}],[sd,{'name':'DEPTHSTENC'+'IL','size':0x4}],[In,{'name':'111110F','size':0x4}],[lp,{'name':'SRGB8','size':0x4,'ldr':!(-0x256a+-0x1*0x12d3+0x383d*0x1),'srgb':!(0x1641+-0x76d*-0x1+-0x1*0x1dae)}],[_s,{'name':'SRGBA8','size':0x4,'ldr':!(0x1*-0x22d2+0x583*0x7+-0x3c3*0x1),'srgb':!(-0x4dc*-0x5+0x41f+-0x5af*0x5)}],[ny,{'name':'BGRA8','size':0x4,'ldr':!(0x2*0x62f+-0x1fb5+-0x1*-0x1357)}],[hy,{'name':'SBGRA8','size':0x4,'ldr':!(0xea3+-0x31a*-0x9+0x1*-0x2a8d),'srgb':!(0x12f0+0x1a69*-0x1+-0x779*-0x1)}],[td,{'name':'DXT1','blockSize':0x8,'ldr':!(0x186d+0xf1*-0x10+-0x95d),'srgbFormat':Xf}],[op,{'name':'DXT3','blockSize':0x10,'ldr':!(0x5e*-0xb+-0x404*0x5+-0x9*-0x2ae),'srgbFormat':qf}],[vl,{'name':'DXT5','blockSize':0x10,'ldr':!(-0x1*0x1b34+-0x1cdb+0x380f),'srgbFormat':jf}],[id,{'name':'ETC1','blockSize':0x8,'ldr':!(-0x18c8+0xa4*-0x3a+0x3df0)}],[cp,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(-0x776*0x5+-0x2*-0xfd4+-0x6*-0xf1),'srgbFormat':Yf}],[hp,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(0xcb5*-0x1+-0x1*0x136d+-0x1c9*-0x12),'srgbFormat':Kf}],[xl,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(0x1*-0xf9a+0x59e+0x9fc),'blockSize':0x8}],[Tl,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(-0xd*-0x13e+-0x1*0x20b6+0x1090),'blockSize':0x8}],[rd,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(0x2*-0x12a9+-0x4b9+0x1*0x2a0b),'blockSize':0x8}],[ad,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(-0x1*-0x18de+0x2b9+-0x1b97*0x1),'blockSize':0x8}],[iy,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(-0x21d+0x50e+-0x2f1),'srgbFormat':Zf}],[ry,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(-0x1*-0x8f1+0x1*-0x1ceb+0x13fa)}],[ay,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(0x2137+-0x9b+0x209c*-0x1)}],[dy,{'name':'BC6H_RGBF','blockSize':0x10}],[fy,{'name':'BC6H_RGBUF','blockSize':0x10}],[uy,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(0x125f*-0x2+0x764+0x1d5a),'srgbFormat':Qf}],[Xf,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(0x1*-0x1aa3+-0x30a*0xa+0x3907),'srgb':!(0x322+0xb48+0x2*-0x735)}],[qf,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x18a+0x5e2+-0x458),'srgb':!(0x2221+0xcea+0x1*-0x2f0b)}],[jf,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(0x245*-0x7+0x1fda*-0x1+0x2fbd*0x1),'srgb':!(-0x134a+-0x56*0x33+0x246c)}],[Yf,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(0x22c6+0x4a1+0x4d*-0x83),'srgb':!(-0x598+-0x15a1+0x1b39)}],[Kf,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0x7*-0x285+0x1455+-0x2b2),'srgb':!(-0x15a8+0x484+-0x2*-0x892)}],[Zf,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(0x4*-0x51+-0x2311+-0x2455*-0x1),'srgb':!(0xef3+-0x99d+-0x556)}],[Qf,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0x1c04+0x1cb8+0x4*-0xe2f),'srgb':!(0x1*-0x14e9+0x5*-0x6fe+0x37df)}],[dp,{'name':'R8I','size':0x1,'isInt':!(-0x1db3+-0x1*0x385+0x2138)}],[oy,{'name':'R8U','size':0x1,'isInt':!(0x1*-0x12e9+0x1654+-0x36b)}],[fp,{'name':'R16I','size':0x2,'isInt':!(0x24e6+-0x1d0b+0x1*-0x7db)}],[up,{'name':'R16U','size':0x2,'isInt':!(0x222*-0x8+0x1550+-0x440)}],[pp,{'name':'R32I','size':0x4,'isInt':!(-0x359*0x2+0x10*0x1cc+-0x160e)}],[Ki,{'name':'R32U','size':0x4,'isInt':!(-0x1*-0xb51+-0x25fc+0x1aab)}],[mp,{'name':'RG8I','size':0x2,'isInt':!(0xbe8+-0x717+-0x19b*0x3)}],[ly,{'name':'RG8U','size':0x2,'isInt':!(0x1dda*0x1+0x17d*0x7+-0x2845)}],[_p,{'name':'RG16I','size':0x4,'isInt':!(0x4*-0xe3+0x1e21+-0x1a95)}],[gp,{'name':'RG16U','size':0x4,'isInt':!(-0x10bd*0x1+-0x924+-0x1*-0x19e1)}],[Sp,{'name':'RG32I','size':0x8,'isInt':!(-0x1e24+-0x1*-0x1e1+0x5a7*0x5)}],[yp,{'name':'RG32U','size':0x8,'isInt':!(-0x1365+-0xa1*-0x3d+-0x12f8)}],[vp,{'name':'RGBA8I','size':0x4,'isInt':!(0x3*-0x7de+-0x3*-0x2e1+-0xef7*-0x1)}],[cy,{'name':'RGBA8U','size':0x4,'isInt':!(0x24b3+0x16bf+0x1*-0x3b72)}],[xp,{'name':'RGBA16I','size':0x8,'isInt':!(-0x1b06*-0x1+0x8*-0x440+0x26*0x2f)}],[nd,{'name':'RGBA16U','size':0x8,'isInt':!(0x618+0x1e12+-0x2*0x1215)}],[Tp,{'name':'RGBA32I','size':0x10,'isInt':!(-0xdba+0x422+0x1*0x998)}],[Ue,{'name':'RGBA32U','size':0x10,'isInt':!(0x120a+0x9c1+-0x58f*0x5)}]]),Ix=_0x34f53e=>{var _0x12f060;return((_0x12f060=Nt['get'](_0x34f53e))==null?void(0x1*-0x167+0x12ff+-0x1198):_0x12f060['blockSize'])!==void(0x5*-0x751+-0x584+0x2a19);},fh=_0x138781=>{var _0x4b5929;return((_0x4b5929=Nt['get'](_0x138781))==null?void(0xab*-0x27+-0x1b9c+0x39*0xf1):_0x4b5929['srgb'])===!(-0xbc3+-0xad+0xc70);},dn=_0xf73ebd=>{var _0xe6ef57;return((_0xe6ef57=Nt['get'](_0xf73ebd))==null?void(0x1f9*-0x5+-0xbab*0x1+0x1588):_0xe6ef57['isInt'])===!(-0x6*-0x2ed+0x1529+-0x26b7);},ld=_0x4b9a1a=>{var _0x1c2591;return((_0x1c2591=Nt['get'](_0x4b9a1a))==null?void(0xc*0x2d9+0x146c*-0x1+0xdc*-0x10):_0x1c2591['srgbFormat'])||_0x4b9a1a;},Lx=_0xbf2351=>{for(const [_0x1a232e,_0x28b961]of Nt)if(_0x28b961['srgbFormat']===_0xbf2351)return _0x1a232e;return _0xbf2351;},py=_0x75183f=>{const _0x267a27=Nt['get'](_0x75183f);return!!(_0x267a27!=null&&_0x267a27['ldr']&&!(_0x267a27!=null&&_0x267a27['srgb']));},my=_0x5aad66=>{switch(_0x5aad66){case Ji:case Ye:case Xt:return Float32Array;case pp:case Sp:case Tp:return Int32Array;case Ki:case yp:case Ue:return Uint32Array;case fp:case _p:case xp:return Int16Array;case bp:case up:case gp:case nd:case Jh:case np:case ed:case od:case wp:case ui:case nt:return Uint16Array;case dp:case mp:case vp:return Int8Array;default:return Uint8Array;}},cd=0xfbb+-0x43f*0x4+0x141,hd=0xf3+-0x13*-0x4+-0x1*0x13e,_y=0x6*0x2b+-0x1*-0x22d9+-0x23d9,gy=0x347+-0x22c3+0x1f7f,js=0x8*0x3e4+0x2*0x1d2+-0x22c0,Er=0xe08+0x49*-0x46+0x5f3,oa=0x3*-0x6af+-0x44b+0x185e,Me='POSITION',gs='NORMAL',yi='TANGENT',gi='BLENDWEIGH'+'T',us='BLENDINDIC'+'ES',Wt='COLOR',zm='TEXCOORD',is='TEXCOORD0',ba='TEXCOORD1',wl='TEXCOORD2',El='TEXCOORD3',bl='TEXCOORD4',Al='TEXCOORD5',Cl='TEXCOORD6',Pl='TEXCOORD7',Jf='ATTR0',uh='ATTR1',Ap='ATTR2',Cp='ATTR3',Pp='ATTR4',Rx='ATTR5',Ox='ATTR6',Fx='ATTR7',Ko='ATTR8',Zo='ATTR9',Nx='ATTR10',Mp='ATTR11',Dp='ATTR12',ph='ATTR13',Ip='ATTR14',Ln='ATTR15',Sy=0xa57+0x18f+-0x1b3*0x7,xn=-0x21d6+-0x135c+0x3532,kx=-0x7*-0x157+0x14b7*0x1+-0x1e16,Ux=0x1e9b+-0x1*0x94f+-0x1549,Bx=-0xbc+0x2587+0xc42*-0x3,$l=0x4*-0x8c3+-0x1266+0x3572,yy=-0xf*0x154+0x1811*-0x1+0x2bfe,Od=0x1924+0x1e70*-0x1+0x54e,Ds='default',Zi='rgbm',mh='rgbe',Qo='rgbp',Jo='swizzleGGG'+'R',eu=-0x2*0xa99+0x7f*-0xf+0x1ca4,Pr=0x1877+0x8ba*0x4+-0x3b5d,vy=-0xf5e+0xe*-0x214+0x2c79,xy='2d',zx=0x20ae+-0xf5*0x9+-0x3d*0x65,Vx='none',tu='cube',Vm='equirect',Gx='octahedral',Fe='glsl',it='wgsl',dd=0x1*0xd29+-0xf*-0xee+-0x1b1b*0x1,la=-0x10+-0x8*0x305+0x1839,fd=-0x1606+0x46*0x4d+0xa*0x19,Ml=-0x1a4b+-0x1*-0x99a+0x10b4,Ty=0xa7*0x1+0x1e4c+-0x1eef,el=0x15d7*-0x1+-0x1270+0x284c*0x1,Ve=-0x4*-0x14b+0xaaa+-0xfd0,Tn=0x1813+-0x2*0x10c9+-0xb*-0xdd,_a=0x1*0x1763+-0x17d4+0x72,Xs=0x17fa+0x5*-0x5de+-0x2*-0x2af,ga=0x138*0x4+0x165e+-0x1b3b*0x1,ds=-0x24*0xb7+0x1c51+-0x291,Rn=0x1*0xec3+-0x1*-0x1ed7+-0x2d95,ca=-0xc*-0x250+0x1*0x25b1+-0x416b,ha=0x12c8*0x1+-0x3*0x95+-0x1102,da=0xab1+-0x210*-0xb+-0x2159,tl=0x29*-0xd5+-0x2de*-0x1+0x1f48,sl=-0xf2+-0x2212+0x230e,il=-0x632+0x1c26+-0x15e9,_h=0x96b*0x4+0x62c+-0x15e6*0x2,On=-0x337*0x5+-0xb75*-0x3+-0x123f,li=-0x5d+-0x1319+-0x1*-0x1384,Hx=0x1*-0xf7d+0x1*0x51b+-0xb*-0xf3,Wx=-0x1*-0x1922+0x22b7*0x1+-0x3bc9*0x1,ud=0x155d*-0x1+0x5e*0x50+0x12*-0x71,$x=-0xa*-0x143+0x7*-0x16c+-0x14c*0x2,Xx=-0x205*-0x8+-0x19cc+0x9b7,qx=0x16fb+-0x27*0x68+0x8b*-0xd,pd=0xd*0xe2+0xd*-0x1e1+-0x18*-0x8b,md=-0x1*0xa39+-0x32b*0x3+0x13d0,Lp=-0x2338+0x1*0x1738+0xc17,wy=0xb05+-0x7b1*0x2+0x475,jx=0x53*-0x2b+0x17ab+-0x9a1,Fn=-0x252e+0x206a+-0x26f*-0x2,Nn=-0x1a7a+-0x7e1*0x3+0x3238,kn=0x1975+-0xc52+-0xd07,Un=-0xa8f+0x248*0x5+-0xbc,Bn=-0x133e+-0x8e1*0x1+0x1c3d*0x1,_d=-0x6d7*-0x5+0x15bc+0xdf4*-0x4,gd=0xd64+-0x2115+0x3*0x69b,zn=0x3c*-0x5d+-0x154f+0x2b3c,Sd=0x2ba*-0x7+-0x3*-0x601+0x135,yd=-0x5*-0x59f+0xe5*0x26+0x1*-0x3df6,Vn=0x8e2*0x1+-0x495+-0x3*0x163,vd=-0x2630+0x6*-0x608+-0x3*-0x18d7,xd=-0x4*0x7c4+-0x1090+0x2fc6,gh=-0x3*0x6fc+0x193e+0x161*-0x3,Rp=-0x3*0xb67+-0x19e5+0x9*0x6b2,Op=-0xb*-0x303+-0x24b1*-0x1+-0x45a9,Yx=-0x123*0x3+-0x178d+0x1b20,Kx=-0xa04+-0x2*0x26f+0xf0d,Zx=0x25ef+0xe*-0x133+-0x14f9,Qx=-0xebf+0x4d4*-0x8+-0x1*-0x358c,Jx=-0x6d*-0x15+-0x11*-0x13e+-0x1de1*0x1,eT=0x1*-0xc6d+0x10e3+-0x447,tT=-0x1039*0x1+0x35*-0xb5+-0x42*-0xd1,sT=-0x3*-0x462+0x24e2*0x1+-0x31d7,Ey=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],iT=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],rT=new Map();iT['forEach']((_0x36e083,_0x51c578)=>{_0x36e083['forEach'](_0x2d5fef=>rT['set'](_0x2d5fef,_0x51c578));});const aT='webgl2',Fp=-0x1715+0x5*-0x2fb+0x25fd,by=0x1bd9+0xc3f*0x2+0x3455*-0x1,nT=0x5*0x50b+-0x1*0x599+0x139a*-0x1,oT='ldr',Ay=0x1*0x1ad5+-0x19b1*0x1+-0x123,Cy=0x2*0xef9+0x1ed4+-0x3cc4,Py=-0x2368+-0x2*0x25d+0x2826,My=0x1b8a+0xc88+-0x280a,Dy=0x1a94+0x2*0x11+0x2*-0xd53,Iy=0x6*0x38+0x529*-0x4+0xc*0x19f,Ly=0x62f*-0x2+0x11cf+-0x531,Ry=0x7ba+-0x83f+0x105,lT=0x5c3+-0xa07+0x3*0x1c1,rl=0x1*0x144d+-0x84+-0x5*0x3f5,Oy=-0x4b2*-0x5+-0x8f*-0x1+0x602*-0x4,su=-0x97*-0x3a+0x3bf*0x3+-0x2d71,Np='default',wn=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],No=[-0x1df5*0x1+-0x1*-0x24cb+0x6d5*-0x1,0xb*-0x1df+-0x183e+0x2cd4,0x212b+-0x3*0x1f+-0x20cc,0x14af+0xb17+-0x1fc4,-0x7*-0x2af+-0x599*0x3+-0x1fa,0xdb3+-0x188*0x4+-0x78f*0x1,0x1557+-0x7d5*0x3+0x22c,0x1907+-0x109d+0x434*-0x2],cT=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Sh=[Uint8Array,Uint16Array,Uint32Array],hT=[-0x1247*0x1+-0x2*0x225+0x6b*0x36,0x20cb+0x88d+-0xd*0x32e,-0xc28+-0x17*0xab+0x1b89],Fy=new Map([['float','f32'],['vec2','vec2f'],['vec3','vec3f'],['vec4','vec4f'],['int','i32'],['ivec2','vec2i'],['ivec3','vec3i'],['ivec4','vec4i'],['uint','u32'],['uvec2','vec2u'],['uvec3','vec3u'],['uvec4','vec4u']]),Le={};Le[Me]=-0x406+0x7f7+-0x3f1,Le[gs]=0x161b+0x69*-0x26+-0x684,Le[gi]=0x1c*-0x127+0x618+-0x2*-0xd17,Le[us]=-0x394*-0x2+-0x1*-0x11e1+-0x1906,Le[Wt]=-0x15*-0x1ce+0x3c*0x4a+-0x2*0x1b9d,Le[is]=0x126c+0x1e97+-0x30fe,Le[ba]=-0x2*0xe6b+0x679*0x1+0x1663,Le[wl]=-0x1267+0xc*-0x201+0x1*0x2a7a,Le[El]=0x482+-0x1bb*0x5+0x1*0x42d,Le[bl]=0x1364+0x17f5+-0x2b50,Le[Al]=0x1*-0x109a+-0x2*-0x712+0x280,Le[Cl]=-0xe1a+-0x1*0x2621+-0x1*-0x3446,Le[Pl]=-0x1*-0x13b7+0xd7*0x16+-0x2625,Le[yi]=0x1f1f+-0x2014+0x2b*0x6,Le[Jf]=0x344+-0x4d3+-0x15*-0x13,Le[uh]=-0x4a6+-0x265a+0x2b01,Le[Ap]=0x4*0x29e+0x14cb+-0x1f41,Le[Cp]=-0x5*-0x761+0x1925+-0x3e07,Le[Pp]=0x49c+-0x1b05*0x1+0x166d,Le[Rx]=0x2438+0x3*-0x4db+-0x47*0x4e,Le[Ox]=0x1d*0x3c+-0x2261+0x1b9b,Le[Fx]=0x1*0x2581+0x20f9+-0x1*0x4673,Le[Ko]=-0x55b+0x4f*0x23+-0x56a,Le[Zo]=-0xc11*-0x1+-0x1e7*-0x4+0x68c*-0x3,Le[Nx]=-0x2f*0x1b+-0x1608+0x1b07,Le[Mp]=-0x1781+-0x1a95*0x1+0x139*0x29,Le[Dp]=0x4*0x692+-0x63*-0x19+-0x23e7,Le[ph]=0x2068+0x2668+-0x46c3,Le[Ip]=-0x54a*-0x1+-0x146*0x1c+0x1e6c*0x1,Le[Ln]=-0x1eb6+-0xc85+0x2b4a;const mr=class mr{static['clearGpuMa'+'rkers'](){mr['markers']['length']=0x1a87+0x26e7+0x2*-0x20b7;}static['pushGpuMar'+'ker'](_0x344da2,_0x4199b3){mr['markers']['push'](_0x4199b3),_0x344da2['pushMarker'](_0x4199b3);}static['popGpuMark'+'er'](_0x25f6bf){mr['markers']['length']&&mr['markers']['pop'](),_0x25f6bf['popMarker']();}static['toString'](){return mr['markers']['join']('\x20|\x20');}};h(mr,'markers',[]);let Q=mr,dT=-0x7*0x3fa+0x18ed+0x2e9;class Td{constructor(_0x45a4da,_0x34eabd){h(this,'slot',-(-0x1*-0x6cd+0x697+-0xd63)),h(this,'scopeId',null),(this['name']=_0x45a4da,this['visibility']=_0x34eabd);}}class kp extends Td{}class fT extends Td{constructor(_0x489833,_0x47c742,_0x24398c=!(-0xfd1+-0x1*0x16ba+0x268c)){super(_0x489833,_0x47c742),h(this,'format',''),(this['readOnly']=_0x24398c,w['assert'](_0x24398c||!(_0x47c742&Fp),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class Gm extends Td{constructor(_0x1cb86e,_0x2c0289,_0x520ac6=xy,_0x64a445=zx,_0x3d6a39=!(0x1523*0x1+-0x1*-0x336+-0x1859),_0x14e115=null){super(_0x1cb86e,_0x2c0289),this['textureDim'+'ension']=_0x520ac6,this['sampleType']=_0x64a445,this['hasSampler']=_0x3d6a39,this['samplerNam'+'e']=_0x14e115??_0x1cb86e+'_sampler';}}class uT extends Td{constructor(_0x8eb46f,_0x5a3aa1=Ne,_0x57b986=xy,_0x15ccb1=!(-0xf87+-0x2173*-0x1+0x2*-0x8f6),_0x30c9b2=!(-0x9d*0x20+-0xa5b+-0x77f*-0x4)){super(_0x8eb46f,nT),this['format']=_0x5a3aa1,this['textureDim'+'ension']=_0x57b986,this['write']=_0x15ccb1,this['read']=_0x30c9b2;}}class Ny{constructor(_0x12ec56,_0x333757){h(this,'uniformBuf'+'ferFormats',[]),h(this,'textureFor'+'mats',[]),h(this,'storageTex'+'tureFormat'+'s',[]),h(this,'storageBuf'+'ferFormats',[]),(this['id']=dT++,Ea['setName'](this,'BindGroupF'+'ormat_'+this['id']),w['assert'](_0x333757));let _0x49cc83=0x1cd6+-0x21e+-0x1ab8;_0x333757['forEach'](_0x4e4b17=>{_0x4e4b17['slot']=_0x49cc83++,_0x4e4b17 instanceof Gm&&_0x4e4b17['hasSampler']&&_0x49cc83++,_0x4e4b17 instanceof kp?this['uniformBuf'+'ferFormats']['push'](_0x4e4b17):_0x4e4b17 instanceof Gm?this['textureFor'+'mats']['push'](_0x4e4b17):_0x4e4b17 instanceof uT?this['storageTex'+'tureFormat'+'s']['push'](_0x4e4b17):_0x4e4b17 instanceof fT?this['storageBuf'+'ferFormats']['push'](_0x4e4b17):w['assert']('Invalid\x20bi'+'nd\x20format',_0x4e4b17);}),this['device']=_0x12ec56;const _0x5c57d4=_0x12ec56['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x47b88e,_0x3a3fe9)=>this['bufferForm'+'atsMap']['set'](_0x47b88e['name'],_0x3a3fe9)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x3d6369,_0x80ae87)=>{this['textureFor'+'matsMap']['set'](_0x3d6369['name'],_0x80ae87),_0x3d6369['scopeId']=_0x5c57d4['resolve'](_0x3d6369['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x158adf,_0x350575)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x158adf['name'],_0x350575),_0x158adf['scopeId']=_0x5c57d4['resolve'](_0x158adf['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x2fd203,_0x5a115d)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x2fd203['name'],_0x5a115d),_0x2fd203['scopeId']=_0x5c57d4['resolve'](_0x2fd203['name']);}),this['impl']=_0x12ec56['createBind'+'GroupForma'+'tImpl'](this),w['trace'](K0,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+Q['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0x26b320){const _0x13e301=this['textureFor'+'matsMap']['get'](_0x26b320);return _0x13e301!==void(-0x1*-0x1f45+-0x1c02+0x343*-0x1)?this['textureFor'+'mats'][_0x13e301]:null;}['getStorage'+'Texture'](_0x4d3ff4){const _0x54439c=this['storageTex'+'tureFormat'+'sMap']['get'](_0x4d3ff4);return _0x54439c!==void(-0x20*-0x133+0x174b+0x3dab*-0x1)?this['storageTex'+'tureFormat'+'s'][_0x54439c]:null;}['loseContex'+'t'](){}}class Kt{constructor(){h(this,'_cache',new Map());}['get'](_0x13e78d,_0x2ec4ea){return this['_cache']['has'](_0x13e78d)||(this['_cache']['set'](_0x13e78d,_0x2ec4ea()),_0x13e78d['on']('destroy',()=>{this['remove'](_0x13e78d);}),_0x13e78d['on']('devicelost',()=>{var _0x4b04c2,_0x1e6f64;(_0x1e6f64=(_0x4b04c2=this['_cache']['get'](_0x13e78d))==null?void(-0x4c7*-0x1+-0x2c*-0x7c+0x1a17*-0x1):_0x4b04c2['loseContex'+'t'])==null||_0x1e6f64['call'](_0x4b04c2,_0x13e78d);})),this['_cache']['get'](_0x13e78d);}['remove'](_0x506590){var _0x2d9d25,_0x24f983;(_0x24f983=(_0x2d9d25=this['_cache']['get'](_0x506590))==null?void(0x14*-0x15e+-0x1766+0x32be):_0x2d9d25['destroy'])==null||_0x24f983['call'](_0x2d9d25,_0x506590),this['_cache']['delete'](_0x506590);}}class Xi{static['calcLevelD'+'imension'](_0x1776de,_0x41c08b){return Math['max'](_0x1776de>>_0x41c08b,-0x1*0x55+-0x951+0x7*0x161);}static['calcMipLev'+'elsCount'](_0x4e6cc,_0x570721,_0x5a109d=0x107f+0x48e+0x543*-0x4){return-0xfcb+-0x3*0x43f+0x1c89+Math['floor'](Math['log2'](Math['max'](_0x4e6cc,_0x570721,_0x5a109d)));}static['calcLevelG'+'puSize'](_0x3622e4,_0x30d6ec,_0x57cd57,_0x3b1808){var _0x587f66;const _0x5f3610=Nt['get'](_0x3b1808);w['assert'](_0x5f3610!==void(0x1*-0x162c+-0xc*0x13f+0x2520),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x3b1808);const _0x1f6d2e=((_0x587f66=Nt['get'](_0x3b1808))==null?void(0x9f*0x1b+-0x492+-0xc33):_0x587f66['size'])??-0x2164+-0x62c+-0x3*-0xd30;if(_0x1f6d2e>-0x1b08+0x2333+-0x82b*0x1)return _0x3622e4*_0x30d6ec*_0x57cd57*_0x1f6d2e;const _0xd93058=_0x5f3610['blockSize']??0x16aa+-0x49d+-0x120d;let _0x35b066=Math['floor']((_0x3622e4+(0x1279*0x1+-0x1bfd+0x987))/(-0x12e*-0x1d+0x4*0x5ed+-0x39e6));const _0xb00c39=Math['floor']((_0x30d6ec+(-0x18d*-0x18+-0x26fa+0x1c5))/(0x913+0x26af+-0x2a*0x123)),_0x4b4294=Math['floor']((_0x57cd57+(-0x4ff*0x3+0x1*0x655+0x1*0x8ab))/(0x1*0x740+-0x114b+-0x19*-0x67));return(_0x3b1808===xl||_0x3b1808===Tl)&&(_0x35b066=Math['max'](Math['floor'](_0x35b066/(0x723+0x1*0x711+-0xe32)),0xe1f+-0x270e+0x18f0)),_0x35b066*_0xb00c39*_0x4b4294*_0xd93058;}static['calcGpuSiz'+'e'](_0xd6ef18,_0x22be6b,_0x306cdf,_0x46dc92,_0x281705,_0x1d08f8){let _0x5d4543=0x209f*-0x1+-0x992+0x2a31;for(;_0x5d4543+=Xi['calcLevelG'+'puSize'](_0xd6ef18,_0x22be6b,_0x306cdf,_0x46dc92),!(!_0x281705||_0xd6ef18===-0x89f+-0x63e+0x2*0x76f&&_0x22be6b===-0x11c4+0x315*-0x3+0x1b04&&_0x306cdf===0x4*0x563+-0x16a3+0x118);)_0xd6ef18=Math['max'](_0xd6ef18>>0x88f+0x5ed+-0xe7b,-0xba8+0xf11+-0x368*0x1),_0x22be6b=Math['max'](_0x22be6b>>0x47f*-0x7+-0x24e1+0x445b,-0x901+-0x94d+0x124f*0x1),_0x306cdf=Math['max'](_0x306cdf>>0x3*0x35+0xe*-0x5b+-0x1f*-0x24,-0x6a*0x43+-0x58*0xb+0x1f87);return _0x5d4543*(_0x1d08f8?0xe7*-0x2+0x1462+-0x128e:-0x1675+0x1dfa*0x1+-0x784);}}let pT=0xe*0x24a+0x759*-0x3+-0xa01;class _e{constructor(_0x1b7661,_0x1dede5={}){h(this,'name'),h(this,'_gpuSize',0x3*-0xce3+0x12cc+0x71*0x2d),h(this,'id',pT++),h(this,'_invalid',!(-0x1*-0x4a9+-0x5b3+-0x59*-0x3)),h(this,'_lockedLev'+'el',-(0x1*-0x9d9+-0x2157+0x2b31)),h(this,'_lockedMod'+'e',$l),h(this,'renderVers'+'ionDirty',0x1*-0x2483+-0x59*-0x40+0xe43*0x1),h(this,'_storage',!(-0x145c+0xac3+0x99a)),h(this,'_numLevels',0xf91*-0x1+-0x29f+0x1230),h(this,'_numLevels'+'Requested');var _0x56c290;this['device']=_0x1b7661,w['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),w['assert'](!_0x1dede5['width']||Number['isInteger'](_0x1dede5['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x1dede5),w['assert'](!_0x1dede5['height']||Number['isInteger'](_0x1dede5['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x1dede5),w['assert'](!_0x1dede5['depth']||Number['isInteger'](_0x1dede5['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x1dede5),this['name']=_0x1dede5['name']??'',this['_width']=Math['floor'](_0x1dede5['width']??-0xcc7+0x2a3+0x14*0x82),this['_height']=Math['floor'](_0x1dede5['height']??0xeb7+0x3*0x94f+-0x2aa0),this['_format']=_0x1dede5['format']??Ne,this['_compresse'+'d']=Ix(this['_format']),this['_integerFo'+'rmat']=dn(this['_format']),this['_integerFo'+'rmat']&&(_0x1dede5['minFilter']=Te,_0x1dede5['magFilter']=Te),this['_volume']=_0x1dede5['volume']??!(-0x3*-0xc89+-0x1c58+-0x4f*0x1e),this['_depth']=Math['floor'](_0x1dede5['depth']??0x1d99+0x2*0x769+-0x2c6a),this['_arrayLeng'+'th']=Math['floor'](_0x1dede5['arrayLengt'+'h']??0x1cfb+-0x2b9*-0x3+-0x1293*0x2),this['_storage']=_0x1dede5['storage']??!(0x1cbd+-0x1f49*-0x1+-0x3c05),this['_cubemap']=_0x1dede5['cubemap']??!(-0x19c*0xb+-0x1908+0x3*0xe3f),this['_flipY']=_0x1dede5['flipY']??!(-0x182b+0xd5e+0x3*0x39a),this['_premultip'+'lyAlpha']=_0x1dede5['premultipl'+'yAlpha']??!(-0x4f*0x2+-0x3*0xc83+0x65c*0x6),this['_mipmaps']=_0x1dede5['mipmaps']??!(-0xd49+0x1*0x155e+-0x815),this['_numLevels'+'Requested']=_0x1dede5['numLevels'],_0x1dede5['numLevels']!==void(0x1f44+0x37e+-0x22c2)&&(this['_numLevels']=_0x1dede5['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x1dede5['minFilter']??ma,this['_magFilter']=_0x1dede5['magFilter']??vt,this['_anisotrop'+'y']=_0x1dede5['anisotropy']??-0x1919+-0x6b2+0x4a*0x6e,this['_addressU']=_0x1dede5['addressU']??yt,this['_addressV']=_0x1dede5['addressV']??yt,this['_addressW']=_0x1dede5['addressW']??yt,this['_compareOn'+'Read']=_0x1dede5['compareOnR'+'ead']??!(0x100*-0x19+-0x21ef+0x3af0),this['_compareFu'+'nc']=_0x1dede5['compareFun'+'c']??hh,this['_type']=_0x1dede5['type']??Ds,w['assert'](!_0x1dede5['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),w['assert'](!_0x1dede5['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=Vx,this['_cubemap']?this['projection']=tu:_0x1dede5['projection']&&_0x1dede5['projection']!==tu&&(this['projection']=_0x1dede5['projection']),this['profilerHi'+'nt']=_0x1dede5['profilerHi'+'nt']??-0x185a+0x7*0x46f+-0x6af*0x1,this['_levels']=_0x1dede5['levels'];const _0x4c37c6=!!_0x1dede5['levels'];this['_levels']||this['_clearLeve'+'ls'](),this['recreateIm'+'pl'](_0x4c37c6),_0x1b7661['textures']['push'](this),w['trace'](Dm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x56c290=Nt['get'](this['format']))==null?void(-0x1624+-0x1e93+-0x5*-0xa8b):_0x56c290['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){w['trace'](Dm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x43966b=this['device'];if(_0x43966b){const _0xa928ca=_0x43966b['textures']['indexOf'](this);_0xa928ca!==-(0xf59*-0x2+-0x987+0x21e*0x13)&&_0x43966b['textures']['splice'](_0xa928ca,-0x1465*-0x1+-0x21c1*-0x1+0x53*-0xa7),_0x43966b['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x43966b),this['adjustVram'+'SizeTracki'+'ng'](_0x43966b['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0x16b87c=!(-0x114+-0x25*-0x2+-0x65*-0x2)){var _0x1b5be8;const {device:_0x381469}=this;(_0x1b5be8=this['impl'])==null||_0x1b5be8['destroy'](_0x381469),this['impl']=null,this['impl']=_0x381469['createText'+'ureImpl'](this),this['dirtyAll'](),_0x16b87c&&this['upload']();}['_clearLeve'+'ls'](){this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null];}['resize'](_0x54b19c,_0x1f2cf3,_0x436011=0x3ba*-0x4+-0x1*0x1f88+-0x1*-0x2e71){const _0x1cfd3a=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x1cfd3a['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x1cfd3a),this['_clearLeve'+'ls'](),this['_width']=Math['floor'](_0x54b19c),this['_height']=Math['floor'](_0x1f2cf3),this['_depth']=Math['floor'](_0x436011),this['_updateNum'+'Level'](),this['impl']=_0x1cfd3a['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x1ad758,_0x1f5755){w['trace'](X0,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x1f5755+('\x20vram.text'+'ure:\x20')+_0x1ad758['tex']+'\x20=>\x20'+(_0x1ad758['tex']+_0x1f5755)),_0x1ad758['tex']+=_0x1f5755,this['profilerHi'+'nt']===eu?_0x1ad758['texShadow']+=_0x1f5755:this['profilerHi'+'nt']===Pr?_0x1ad758['texAsset']+=_0x1f5755:this['profilerHi'+'nt']===vy&&(_0x1ad758['texLightma'+'p']+=_0x1f5755);}['propertyCh'+'anged'](_0x4fa4cd){this['impl']['propertyCh'+'anged'](_0x4fa4cd),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x2e6007=this['mipmaps']?Xi['calcMipLev'+'elsCount'](this['width'],this['height']):0x632+-0x1e37+0x96*0x29,_0xb1e9b1=this['_numLevels'+'Requested'];_0xb1e9b1!==void(-0x457+0xc43*0x3+-0x2072)&&_0xb1e9b1>_0x2e6007&&w['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x2e6007,this),this['_numLevels']=Math['min'](_0xb1e9b1??_0x2e6007,_0x2e6007),this['_mipmaps']=this['_numLevels']>-0x18e6+-0x1*0x1459+0x2d40;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x1c1d62){this['_minFilter']!==_0x1c1d62&&(dn(this['_format'])?w['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x1c1d62,this['propertyCh'+'anged'](Ay)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x1c6d02){this['_magFilter']!==_0x1c6d02&&(dn(this['_format'])?w['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x1c6d02,this['propertyCh'+'anged'](Cy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x356bde){this['_addressU']!==_0x356bde&&(this['_addressU']=_0x356bde,this['propertyCh'+'anged'](Py));}get['addressU'](){return this['_addressU'];}set['addressV'](_0x54721f){this['_addressV']!==_0x54721f&&(this['_addressV']=_0x54721f,this['propertyCh'+'anged'](My));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x52b993){if(!this['_volume']){w['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x52b993!==this['_addressW']&&(this['_addressW']=_0x52b993,this['propertyCh'+'anged'](Dy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x30f3a5){this['_compareOn'+'Read']!==_0x30f3a5&&(this['_compareOn'+'Read']=_0x30f3a5,this['propertyCh'+'anged'](Iy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x3c3d2e){this['_compareFu'+'nc']!==_0x3c3d2e&&(this['_compareFu'+'nc']=_0x3c3d2e,this['propertyCh'+'anged'](Ly));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x3d9814){this['_anisotrop'+'y']!==_0x3d9814&&(this['_anisotrop'+'y']=_0x3d9814,this['propertyCh'+'anged'](Ry));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x2570fd){this['_mipmaps']!==_0x2570fd&&(this['device']['isWebGPU']?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):dn(this['_format'])?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x2570fd,_0x2570fd&&(this['_needsMipm'+'apsUpload']=!(-0x113*-0x15+0x77*0x1f+-0x24f8)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x3fdea0=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===-0x23b4+0x13a7+0xa*0x19b);return Xi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x3fdea0,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>0x3e6*-0x6+-0x335+-0x26b*-0xb;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['type'](_0x213746){this['_type']!==_0x213746&&(this['_type']=_0x213746,this['device']['_shadersDi'+'rty']=!(0x3*-0x8a7+0xa58+0x23b*0x7));}get['type'](){return this['_type'];}set['srgb'](_0x402171){var _0x193bdd,_0x35fadb,_0x27cf2e,_0xfc30e7;const _0xd3e9e9=fh(this['format']);if(_0x402171!==_0xd3e9e9){if(_0x402171){const _0x17b00c=ld(this['format']);this['_format']!==_0x17b00c&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x193bdd=Nt['get'](this['format']))==null?void(-0x1884+0x1fd1+-0x15*0x59):_0x193bdd['name'])+'\x20->\x20'+((_0x35fadb=Nt['get'](_0x17b00c))==null?void(-0xc*-0x137+0x23b2*0x1+-0x2d*0x11e):_0x35fadb['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x17b00c,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x864*0x1+0x17c7+0x3*-0x521));}else{const _0x2cffb9=Lx(this['format']);this['_format']!==_0x2cffb9&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x27cf2e=Nt['get'](this['format']))==null?void(-0x26a*0x1+0x1*0x26cf+0x533*-0x7):_0x27cf2e['name'])+'\x20->\x20'+((_0xfc30e7=Nt['get'](_0x2cffb9))==null?void(0xb*-0x13a+-0x1f6d+0x2ceb):_0xfc30e7['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x2cffb9,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x531+-0x2528+0x2a59));}}}get['srgb'](){return fh(this['format']);}set['flipY'](_0x1ebe82){this['_flipY']!==_0x1ebe82&&(this['_flipY']=_0x1ebe82,this['_needsUplo'+'ad']=!(0xd78+-0x664+-0x714));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x4a9e61){this['_premultip'+'lyAlpha']!==_0x4a9e61&&(this['_premultip'+'lyAlpha']=_0x4a9e61,this['_needsUplo'+'ad']=!(-0x2a6+-0x1*0x1979+0x1c1f));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return Y['powerOfTwo'](this['_width'])&&Y['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case Zi:return'rgbm';case mh:return'rgbe';case Qo:return'rgbp';}return py(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(0x15bb+0x223a+-0x37f5),!(-0x96b*0x1+-0x24*0x103+0x2dd7),!(0x39b+-0x15b8+0x121d*0x1),!(-0x3*0x7e5+0xb4f*-0x2+0x1b*0x1b7),!(-0x6f8*-0x1+-0xe5*-0x5+-0xb71),!(0x70*0x14+0x1*0x170f+0x11*-0x1df)]]:[!(-0x811+-0x4*-0x819+-0x1853)],this['_needsUplo'+'ad']=!(-0x204*-0x9+-0x6*-0x71+-0x14ca),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(0x12b1+-0x14c8+0x86*0x4),this['propertyCh'+'anged'](lT);}['lock'](_0xe60b0={}){_0xe60b0['level']??(_0xe60b0['level']=0x12e*0x7+0x891*0x2+-0x1964),_0xe60b0['face']??(_0xe60b0['face']=0xdae+0x460*0x7+0x1*-0x2c4e),_0xe60b0['mode']??(_0xe60b0['mode']=Od),w['assert'](this['_lockedMod'+'e']===$l,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),w['assert'](_0xe60b0['mode']===yy||_0xe60b0['mode']===Od,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0xe60b0['mode'],this['_lockedLev'+'el']=_0xe60b0['level'];const _0x40f6a2=this['cubemap']?this['_levels'][_0xe60b0['face']]:this['_levels'];if((_0x40f6a2==null?void(-0x1*-0x22d0+0x156b+-0x383b):_0x40f6a2[_0xe60b0['level']])===null){const _0x353e6d=Math['max'](0x1569+-0x1c6*0x6+-0x6a*0x1a,this['_width']>>_0xe60b0['level']),_0x37123d=Math['max'](-0x1a8*0x13+-0x18ce+-0x1*-0x3847,this['_height']>>_0xe60b0['level']),_0x50b87a=Math['max'](0xb*-0x385+0x1253+-0x1*-0x1465,this['_depth']>>_0xe60b0['level']),_0x5d2800=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x353e6d,_0x37123d,_0x50b87a,this['_format']));_0x40f6a2[_0xe60b0['level']]=new(my(this['_format']))(_0x5d2800);}return _0x40f6a2==null?void(0x1fb0+-0x38e+-0x1c22):_0x40f6a2[_0xe60b0['level']];}['setSource'](_0x276d04,_0x4576cc=0x5ab*-0x1+-0x1*-0xa27+-0x47c){let _0x2a4ae6=!(0x1*0x106f+-0x4df+-0xb8f*0x1),_0x103351,_0x5efc6a;if(this['_cubemap']){if(_0x276d04[0x9b*0x2a+0xa*-0x3a5+-0x2c1*-0x4]){_0x103351=_0x276d04[0x248c+-0xf4c+-0x1540]['width']||-0x10dd*0x1+0x266f+-0x1592,_0x5efc6a=_0x276d04[-0x4cb*-0x3+-0x193a+0xad9]['height']||-0x24bf+0x25e6+-0x127*0x1;for(let _0x1ce6a3=0x1ba0+-0x1bc5*0x1+0x25;_0x1ce6a3<-0x25c+0x2505+-0x22a3;_0x1ce6a3++){const _0x22df23=_0x276d04[_0x1ce6a3];if(!_0x22df23||_0x22df23['width']!==_0x103351||_0x22df23['height']!==_0x5efc6a||!this['device']['_isBrowser'+'Interface'](_0x22df23)){_0x2a4ae6=!(-0x1dcf+0x9a3*0x1+0x142c);break;}}}else _0x2a4ae6=!(-0x10f2+0xa*0xb5+0x13c*0x8);if(!_0x2a4ae6){for(let _0x24a662=0x329*-0xb+-0x4*0x59a+0x392b;_0x24a662<0x4*0xa+-0x213d+0x211b;_0x24a662++)this['_levels'][_0x4576cc][_0x24a662]!==_0x276d04[_0x24a662]&&(this['_levelsUpd'+'ated'][_0x4576cc][_0x24a662]=!(-0x2+-0xdd1*-0x1+-0xdcf));}}else this['device']['_isBrowser'+'Interface'](_0x276d04)||(_0x2a4ae6=!(0x971+-0xfc3+0x652)),_0x2a4ae6||(_0x276d04!==this['_levels'][_0x4576cc]&&(this['_levelsUpd'+'ated'][_0x4576cc]=!(0x10c1*0x1+0x2cf*-0x9+-0x443*-0x2)),_0x276d04 instanceof HTMLVideoElement?(_0x103351=_0x276d04['videoWidth'],_0x5efc6a=_0x276d04['videoHeigh'+'t']):(_0x103351=_0x276d04['width'],_0x5efc6a=_0x276d04['height']));if(_0x2a4ae6){if(this['_width']=-0x4*0x287+-0x1*-0x1ea8+-0x1488,this['_height']=-0x8de*0x4+-0x1103+0x1*0x347f,this['_cubemap']){for(let _0x1da146=-0x488+-0x1a*-0x116+0x2*-0xbda;_0x1da146<0x149+-0x1d89*0x1+-0x149*-0x16;_0x1da146++)this['_levels'][_0x4576cc][_0x1da146]=null,this['_levelsUpd'+'ated'][_0x4576cc][_0x1da146]=!(0x44d+-0x2*0x16+-0x421);}else this['_levels'][_0x4576cc]=null,this['_levelsUpd'+'ated'][_0x4576cc]=!(-0x92*0x39+0x869*0x4+-0x122);}else _0x4576cc===0x13*-0x1eb+0x1f*-0x11b+0x46b6&&(this['_width']=_0x103351,this['_height']=_0x5efc6a),this['_levels'][_0x4576cc]=_0x276d04;(this['_invalid']!==_0x2a4ae6||!_0x2a4ae6)&&(this['_invalid']=_0x2a4ae6,this['upload']());}['getSource'](_0x496668=0x25b+-0x191*0x12+0x1b9*0xf){return this['_levels'][_0x496668];}['unlock'](){this['_lockedMod'+'e']===$l&&w['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===Od&&this['upload'](),this['_lockedLev'+'el']=-(-0x28*-0x64+0x873+-0x9e*0x27),this['_lockedMod'+'e']=$l;}['upload'](){var _0xb2553c,_0x54faff;this['_needsUplo'+'ad']=!(0x22f*0x11+-0x1a45+-0xada),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x54faff=(_0xb2553c=this['impl'])['uploadImme'+'diate'])==null||_0x54faff['call'](_0xb2553c,this['device'],this);}['read'](_0x1b30ce,_0x532580,_0x79d414,_0x58af03,_0x299fcb={}){var _0x10cd1a,_0x245131;return(_0x245131=(_0x10cd1a=this['impl'])['read'])==null?void(-0xca*-0x3+0x74f*0x2+-0x10fc):_0x245131['call'](_0x10cd1a,_0x1b30ce,_0x532580,_0x79d414,_0x58af03,_0x299fcb);}['write'](_0x3d9081,_0x4f4180,_0x12af5b,_0x5db4ff,_0x13b5b3){var _0x468f9b,_0x20770b;return(_0x20770b=(_0x468f9b=this['impl'])['write'])==null?void(0x3*0x89+0xaf4+-0x283*0x5):_0x20770b['call'](_0x468f9b,_0x3d9081,_0x4f4180,_0x12af5b,_0x5db4ff,_0x13b5b3);}}const mT={'white':[-0x35*-0xb+0x12d8+-0x4*0x508,-0x188+-0xa55+0xcdc*0x1,0x2483+-0x926+-0x1a5e,0x1*-0x22d1+0x1*0x2593+-0x1c3],'gray':[-0x11a*0x1f+0x21e0+0x63*0x2,0x19*0x122+-0x1*-0x7c8+-0x239a,0x228e+0xb74*-0x1+0x2*-0xb4d,0x11f*-0x11+-0x1e7*-0x11+-0xc49],'black':[0x1099+0xc45+0x2*-0xe6f,0x457*-0x2+0x4a5+0x409,0xc4b+-0x3aa+0x2f*-0x2f,-0x213c+0x1112+-0x1129*-0x1],'normal':[0x88*0x15+-0x2143+0x283*0x9,-0xb76+-0x179d+0x2393,-0x22*-0x48+0x34*0x2f+-0x1*0x121d,-0xf86+0xa6+0xfdf],'pink':[0xa6e+0x2463+-0x2dd2,0x1503+0x1*-0x427+-0x105c,-0xe62+0x6eb+0x876*0x1,-0x14c8+0x25f7*0x1+-0x1030]};class _T{constructor(){h(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0x70bbde=>{_0x70bbde['destroy']();});}}const gT=new Kt(),fa=(_0x57215e,_0x7b92c7)=>{const _0x46eccd=gT['get'](_0x57215e,()=>new _T());if(!_0x46eccd['map']['has'](_0x7b92c7)){const _0x4d6f38=new _e(_0x57215e,{'name':'built-in-t'+'exture-'+_0x7b92c7,'width':0x1,'height':0x1,'format':Ne}),_0x3acd07=_0x4d6f38['lock'](),_0x5e52e9=mT[_0x7b92c7];w['assert'](_0x5e52e9,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x7b92c7+('\x27\x20not\x20foun'+'d')),_0x3acd07['set'](_0x5e52e9),_0x4d6f38['unlock'](),_0x46eccd['map']['set'](_0x7b92c7,_0x4d6f38);}return _0x46eccd['map']['get'](_0x7b92c7);};let ST=-0x11*0x41+0xcda+0x1b5*-0x5;class ky{constructor(){h(this,'bindGroup'),h(this,'offsets',[]);}}class Up{constructor(_0x250008,_0x16ff10,_0x1f44b0){h(this,'renderVers'+'ionUpdated',-(-0x1*-0x1fd2+0x127d+0x89*-0x5e)),h(this,'uniformBuf'+'fers'),h(this,'uniformBuf'+'ferOffsets',[]),(this['id']=ST++,this['device']=_0x250008,this['format']=_0x16ff10,this['dirty']=!(-0xbc*-0x7+-0x1bce+0x16aa),this['impl']=_0x250008['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x1f44b0,_0x1f44b0&&this['setUniform'+'Buffer'](Np,_0x1f44b0),w['trace'](Y0,'Alloc:\x20Id\x20'+this['id'],this,_0x16ff10));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x37c592,_0x12e503){const _0x2505ff=this['format']['bufferForm'+'atsMap']['get'](_0x37c592);w['assert'](_0x2505ff!==void(-0x2bf*0xe+0x8ed+-0x3*-0x9d7),'Setting\x20a\x20'+'uniform\x20['+_0x37c592+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['uniformBuf'+'fers'][_0x2505ff]!==_0x12e503&&(this['uniformBuf'+'fers'][_0x2505ff]=_0x12e503,this['dirty']=!(-0xe1+0x14a7+-0x13c6));}['setStorage'+'Buffer'](_0x37f660,_0x176e75){const _0x45da7b=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x37f660);w['assert'](_0x45da7b!==void(-0x1053+-0x1958+-0x29ab*-0x1),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x37f660+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageBuf'+'fers'][_0x45da7b]!==_0x176e75&&(this['storageBuf'+'fers'][_0x45da7b]=_0x176e75,this['dirty']=!(-0x2*0xc41+-0xfcf+0x2851));}['setTexture'](_0x339c5f,_0x445b91){const _0x63d4c9=this['format']['textureFor'+'matsMap']['get'](_0x339c5f);w['assert'](_0x63d4c9!==void(0xbde+-0x6e8*-0x2+-0x19ae),'Setting\x20a\x20'+'texture\x20['+_0x339c5f+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['textures'][_0x63d4c9]!==_0x445b91?(this['textures'][_0x63d4c9]=_0x445b91,this['dirty']=!(-0x1161+0x2429+-0x12c8)):this['renderVers'+'ionUpdated']<_0x445b91['renderVers'+'ionDirty']&&(this['dirty']=!(0x117e+0x1975+-0x2af3));}['setStorage'+'Texture'](_0x58e942,_0x640266){const _0x1eefe5=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x58e942);w['assert'](_0x1eefe5!==void(0x17b*0x7+0x1c68+-0x26c5),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x58e942+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageTex'+'tures'][_0x1eefe5]!==_0x640266?(this['storageTex'+'tures'][_0x1eefe5]=_0x640266,this['dirty']=!(-0x2*-0xd4+0xf82+-0xa9*0x1a)):this['renderVers'+'ionUpdated']<_0x640266['renderVers'+'ionDirty']&&(this['dirty']=!(0xf3c+0x1ee3+0x2e1f*-0x1));}['updateUnif'+'ormBuffers'](){for(let _0x374ffa=-0x91d+0x11b6*-0x2+0x2c89;_0x374ffa<this['uniformBuf'+'fers']['length'];_0x374ffa++)this['uniformBuf'+'fers'][_0x374ffa]['update']();}['update'](){const {textureFormats:_0x167374,storageTextureFormats:_0x342cdf,storageBufferFormats:_0x2bfc48}=this['format'];for(let _0x14441e=0x9ba+-0x1c0+-0x7fa;_0x14441e<_0x167374['length'];_0x14441e++){const _0x16b8b6=_0x167374[_0x14441e];let _0x449112=_0x16b8b6['scopeId']['value'];_0x449112||(_0x16b8b6['name']==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x449112=fa(this['device'],'white')),_0x16b8b6['name']==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x449112=fa(this['device'],'pink')),_0x449112||(w['errorOnce']('Texture\x20'+_0x16b8b6['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+Q['toString']()+']'),_0x449112=fa(this['device'],'pink'))),this['setTexture'](_0x16b8b6['name'],_0x449112);}for(let _0x46981b=0x26c9+0x1*-0x26dc+-0x1*-0x13;_0x46981b<_0x342cdf['length'];_0x46981b++){const _0x28e2c5=_0x342cdf[_0x46981b],_0x5e1ac7=_0x28e2c5['scopeId']['value'];w['assert'](_0x5e1ac7,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x28e2c5['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Texture'](_0x28e2c5['name'],_0x5e1ac7);}for(let _0x25d056=-0x1ba2+0x614+0x158e*0x1;_0x25d056<_0x2bfc48['length'];_0x25d056++){const _0x89df11=_0x2bfc48[_0x25d056],_0x1a964c=_0x89df11['scopeId']['value'];w['assert'](_0x1a964c,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0x89df11['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Buffer'](_0x89df11['name'],_0x1a964c);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x36bc75=0x1097+0x1*0xf0+0x7*-0x281;_0x36bc75<this['uniformBuf'+'fers']['length'];_0x36bc75++){const _0x3f40bb=this['uniformBuf'+'fers'][_0x36bc75];this['uniformBuf'+'ferOffsets'][_0x36bc75]=_0x3f40bb['offset'],this['renderVers'+'ionUpdated']<_0x3f40bb['renderVers'+'ionDirty']&&(this['dirty']=!(0x1f*0x37+0x1*0x269d+-0x2d46));}this['dirty']&&(this['dirty']=!(0x1d57+-0x79d*0x1+-0x15b9),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const qe={'set'(_0x264c96,_0x337f24,_0x2c04d5,_0x3998e5=0x2f*-0x9a+-0x1ce5+0x392c){return _0x264c96&~(_0x3998e5<<_0x2c04d5)|_0x337f24<<_0x2c04d5;},'get'(_0x5f637d,_0x127ec3,_0x353838=-0x24f5*-0x1+0x9ce+-0x2ec2){return _0x5f637d>>_0x127ec3&_0x353838;},'all'(_0x332655,_0x152a28,_0x2bde0a=0x407+-0x25d3+-0x11*-0x1fd){const _0x1cb050=_0x2bde0a<<_0x152a28;return(_0x332655&_0x1cb050)===_0x1cb050;},'any'(_0x5c1f81,_0x44742a,_0x252220=0x952+-0xc13+-0x2c2*-0x1){return(_0x5c1f81&_0x252220<<_0x44742a)!==0x73*0x41+0x1303+-0x79*0x66;}},Xl=-0x1b6*-0x15+0x1238+-0x11*0x32f,ir=0xca6+0x19c1+-0x2658,Hm=0x1*-0x20b3+-0x1132+0x31e5,Wm=-0x1b9f+0x250a+-0x968,$m=0x42+0x17a0+-0x17db,Xm=-0x1e4+-0x119a+0x1389,qm=-0x1*-0x17ab+0x1*-0xa3f+0x3b*-0x3a,jm=-0xbd5+-0x29*-0x1b+0x794,iu=-0x21*-0xa4+-0x1903+0x3f5,Ym=0xaa+-0x106c+-0xfd9*-0x1,Km=-0x73f+0x61a+-0x13d*-0x1,Zm=-0x1856+-0x347*-0x4+0xb53,Qm=-0x24b4+-0x4b*0x13+0x1*0x2a5f,yT=-0x1450+-0x24*-0x2c+-0x1*-0xe2f,vT=iu,ri=class ri{constructor(_0x10e6ee=!(-0x138d+-0x884+0x1c12),_0x2db199=fs,_0x5daf44=Ft,_0x135f81=rp,_0x1e9704,_0x3b775f,_0x33033a,_0x484009=!(0x1b8+-0x6dc*0x1+0x524),_0x3d7a7d=!(-0x1a1d+0xad0+0x1*0xf4d),_0x45478d=!(0xd9*0x1+-0xf1f+0xe46),_0x1b750e=!(0x216b+-0x23*-0xbc+-0x3b1f)){h(this,'target0',0x2*-0xb03+-0x12b+0x1*0x1731),(this['setColorBl'+'end'](_0x2db199,_0x5daf44,_0x135f81),this['setAlphaBl'+'end'](_0x1e9704??_0x2db199,_0x3b775f??_0x5daf44,_0x33033a??_0x135f81),this['setColorWr'+'ite'](_0x484009,_0x3d7a7d,_0x45478d,_0x1b750e),this['blend']=_0x10e6ee);}set['blend'](_0x57e0de){this['target0']=qe['set'](this['target0'],_0x57e0de?0x1e8f*0x1+-0x150a*-0x1+-0x1a*0x1fc:0x939+-0x223a+0x1901,Qm);}get['blend'](){return qe['all'](this['target0'],Qm);}['setColorBl'+'end'](_0x36127d,_0x3909be,_0x410711){this['target0']=qe['set'](this['target0'],_0x36127d,Hm,Xl),this['target0']=qe['set'](this['target0'],_0x3909be,Wm,ir),this['target0']=qe['set'](this['target0'],_0x410711,$m,ir);}['setAlphaBl'+'end'](_0x2e4352,_0x302637,_0x2e36df){this['target0']=qe['set'](this['target0'],_0x2e4352,Xm,Xl),this['target0']=qe['set'](this['target0'],_0x302637,qm,ir),this['target0']=qe['set'](this['target0'],_0x2e36df,jm,ir);}['setColorWr'+'ite'](_0x46debd,_0x550539,_0x2fe491,_0x298878){this['redWrite']=_0x46debd,this['greenWrite']=_0x550539,this['blueWrite']=_0x2fe491,this['alphaWrite']=_0x298878;}get['colorOp'](){return qe['get'](this['target0'],Hm,Xl);}get['colorSrcFa'+'ctor'](){return qe['get'](this['target0'],Wm,ir);}get['colorDstFa'+'ctor'](){return qe['get'](this['target0'],$m,ir);}get['alphaOp'](){return qe['get'](this['target0'],Xm,Xl);}get['alphaSrcFa'+'ctor'](){return qe['get'](this['target0'],qm,ir);}get['alphaDstFa'+'ctor'](){return qe['get'](this['target0'],jm,ir);}set['redWrite'](_0x14ad1c){this['target0']=qe['set'](this['target0'],_0x14ad1c?-0x12*-0x6e+0xd12+-0x14cd:-0xe2*-0x13+0xc05*-0x1+-0x4c1,iu);}get['redWrite'](){return qe['all'](this['target0'],iu);}set['greenWrite'](_0x31b44d){this['target0']=qe['set'](this['target0'],_0x31b44d?0x24c+-0xdee*-0x2+0x53*-0x5d:0x51d+-0x1f34+0x1a17*0x1,Ym);}get['greenWrite'](){return qe['all'](this['target0'],Ym);}set['blueWrite'](_0x2686df){this['target0']=qe['set'](this['target0'],_0x2686df?0x6ef*-0x1+-0x157a*0x1+-0x1c6a*-0x1:0xc3*0xf+-0x2012+-0x2f3*-0x7,Km);}get['blueWrite'](){return qe['all'](this['target0'],Km);}set['alphaWrite'](_0x2b322a){this['target0']=qe['set'](this['target0'],_0x2b322a?-0x62b*0x1+0x18f*-0x5+-0x19*-0x8f:-0x239e+-0x24af+0x484d,Zm);}get['alphaWrite'](){return qe['all'](this['target0'],Zm);}get['allWrite'](){return qe['get'](this['target0'],vT,yT);}['copy'](_0x29ef67){return this['target0']=_0x29ef67['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x1d5805){return this['target0']===_0x1d5805['target0'];}};h(ri,'NOBLEND',Object['freeze'](new ri())),h(ri,'NOWRITE',Object['freeze'](new ri(void(-0x8d3*-0x1+0xc04+0x1e5*-0xb),void(-0xa4f+-0x25*-0x26+0x19b*0x3),void(-0x1d7d+0x1*0x323+0x1a5a),void(0x20*0x124+-0x163d+-0xe43*0x1),void(-0xe48+0x6ef*0x5+-0x1463),void(-0xc53*0x2+-0x36*0x5+-0x1c*-0xeb),void(0x26b5+-0x805*0x1+-0x1eb0),!(-0x17a9+0x1*0x2c1+0x14e9),!(0x267f+-0xcb3*-0x3+0xaf1*-0x7),!(-0x1a31+-0x26*-0x3c+-0x8a5*-0x2),!(0x897+-0x1ae1+0x124b)))),h(ri,'ALPHABLEND',Object['freeze'](new ri(!(-0x1*0x11fb+-0x1*-0x1164+0x97),fs,jh,Yh))),h(ri,'ADDBLEND',Object['freeze'](new ri(!(0x1f*-0x47+0xc6e+0x6d*-0x9),fs,Ft,Ft)));let pt=ri;class Bp{constructor(){h(this,'map',new Map()),h(this,'id',0x919*0x2+0x445+-0x1677);}['get'](_0xf1f2d1){let _0x4ad025=this['map']['get'](_0xf1f2d1);return _0x4ad025===void(0xa36+-0x2ab*0x4+0x76)&&(_0x4ad025=this['id']++,this['map']['set'](_0xf1f2d1,_0x4ad025)),_0x4ad025;}}const xT=new Bp(),Jm=0x128c+0x1186*-0x1+0x5*-0x33,e_=0x105+0x25*0x7a+-0x1*0x12a7,t_=-0x6*-0x3a+-0x7c6+0x66d,_r=class _r{constructor(_0x52821c=Wf,_0x28793f=!(-0x49f+-0x1a7a+0x1f19)){h(this,'data',-0x4*-0x7e3+-0x1e36+-0x156),h(this,'_depthBias',-0x1*0x202a+-0x1076+0x30a0),h(this,'_depthBias'+'Slope',0x982+-0x1*-0x266f+-0x2ff1),h(this,'key',-0x180b+0x176*-0x11+0x30e1),(this['func']=_0x52821c,this['write']=_0x28793f);}set['test'](_0x514925){this['func']=_0x514925?Wf:Wi,this['updateKey']();}get['test'](){return this['func']!==Wi;}set['write'](_0x37392a){this['data']=qe['set'](this['data'],_0x37392a?-0x2417*0x1+-0x9*0x37f+-0x1*-0x438f:0x128f+0x173f*0x1+-0x29ce,t_),this['updateKey']();}get['write'](){return qe['all'](this['data'],t_);}set['func'](_0x22058c){this['data']=qe['set'](this['data'],_0x22058c,e_,Jm),this['updateKey']();}get['func'](){return qe['get'](this['data'],e_,Jm);}set['depthBias'](_0x354e6f){this['_depthBias']=_0x354e6f,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x1eca13){this['_depthBias'+'Slope']=_0x1eca13,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0xba1ec){return this['data']=_0xba1ec['data'],this['_depthBias']=_0xba1ec['_depthBias'],this['_depthBias'+'Slope']=_0xba1ec['_depthBias'+'Slope'],this['key']=_0xba1ec['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x43c7c4,_depthBias:_0x1b34ca,_depthBiasSlope:_0x2b86e9}=this,_0x2d2161=_0x43c7c4+'-'+_0x1b34ca+'-'+_0x2b86e9;this['key']=xT['get'](_0x2d2161);}['equals'](_0x3da301){return this['key']===_0x3da301['key'];}};h(_r,'DEFAULT',Object['freeze'](new _r())),h(_r,'NODEPTH',Object['freeze'](new _r(Wi,!(0x2060+-0x107*-0x1d+-0x49*0xda)))),h(_r,'WRITEDEPTH',Object['freeze'](new _r(Wi,!(0x86*0x2d+-0xff7*-0x1+-0x2785*0x1))));let Yt=_r;class Uy{constructor(){h(this,'globalId',-0x2f3+-0x25d2*-0x1+-0x22df),h(this,'revision',-0x367+0xe31+0x565*-0x2);}['equals'](_0x4e451d){return this['globalId']===_0x4e451d['globalId']&&this['revision']===_0x4e451d['revision'];}['copy'](_0x474de1){this['globalId']=_0x474de1['globalId'],this['revision']=_0x474de1['revision'];}['reset'](){this['globalId']=0x9ca+0x841*0x1+0x1f*-0x95,this['revision']=-0x20f*0x9+-0xdaf*-0x1+0x2*0x26c;}}let s_=0x3*-0x7a+0x84*-0x4+0x37e;class TT{constructor(){s_++,this['version']=new Uy(),this['version']['globalId']=s_;}['increment'](){this['version']['revision']++;}}class wT{constructor(_0x17c8eb){this['name']=_0x17c8eb,this['value']=null,this['versionObj'+'ect']=new TT();}['toJSON'](_0x4f7bce){}['setValue'](_0x2a9959){this['value']=_0x2a9959,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class ET{constructor(_0x27550f){this['name']=_0x27550f,this['variables']=new Map();}['resolve'](_0x3421a3){return this['variables']['has'](_0x3421a3)||this['variables']['set'](_0x3421a3,new wT(_0x3421a3)),this['variables']['get'](_0x3421a3);}['removeValu'+'e'](_0x3d8c7f){for(const _0x92ba5c in this['variables']){const _0x5280ca=this['variables'][_0x92ba5c];_0x5280ca['value']===_0x3d8c7f&&(_0x5280ca['value']=null);}}}let bT=0x1c78*-0x1+0x2f2*0x1+0x1*0x1986;class Is{constructor(_0xefd0c1,_0x3d726a,_0x3a6bdf,_0x2cbe41){h(this,'usage',ms),(w['assert'](arguments['length']<=-0x1b6b+0x1a*-0x11e+0x387b&&(!_0x2cbe41||typeof _0x2cbe41=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x2cbe41==null?void(-0x1f7b*-0x1+-0x240+-0x1d3b):_0x2cbe41['usage'])??ms,this['device']=_0xefd0c1,this['format']=_0x3d726a,this['numVertice'+'s']=_0x3a6bdf,this['id']=bT++,this['impl']=_0xefd0c1['createVert'+'exBufferIm'+'pl'](this,_0x3d726a,_0x2cbe41),this['numBytes']=_0x3d726a['verticesBy'+'teSize']?_0x3d726a['verticesBy'+'teSize']:_0x3d726a['size']*_0x3a6bdf,this['adjustVram'+'SizeTracki'+'ng'](_0xefd0c1['_vram'],this['numBytes']));const _0x4e01de=_0x2cbe41==null?void(0x1157+0x34*0x76+-0x294f):_0x2cbe41['data'];_0x4e01de?this['setData'](_0x4e01de):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x38834a=this['device'],_0x3d3d40=_0x38834a['buffers']['indexOf'](this);_0x3d3d40!==-(0xadf+-0x95*-0xb+-0x1145*0x1)&&_0x38834a['buffers']['splice'](_0x3d3d40,-0x79e+-0x1*-0x464+0x33b),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x38834a),this['adjustVram'+'SizeTracki'+'ng'](_0x38834a['_vram'],-this['storage']['byteLength'])),this['storage']=null;}['adjustVram'+'SizeTracki'+'ng'](_0x4054fa,_0x155c58){w['trace'](q0,this['id']+'\x20size:\x20'+_0x155c58+'\x20vram.vb:\x20'+_0x4054fa['vb']+'\x20=>\x20'+(_0x4054fa['vb']+_0x155c58)),_0x4054fa['vb']+=_0x155c58;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x360bd2){return _0x360bd2['byteLength']!==this['numBytes']?(w['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x360bd2['byteLength']),!(0x13ce+0x1c5*0x1+-0xac9*0x2)):(this['storage']=_0x360bd2,this['unlock'](),!(0x184c+-0x224+-0x1628));}}function hi(_0x190da7){if(_0x190da7==null)return 0xb*-0x2f2+0x15*0x44+0x2*0xd69;let _0x14eed4=-0x1d54+-0x1e83+-0x1*-0x3bd7;for(let _0x48c3ff=0x8*0x32b+0x1885*0x1+-0x31dd,_0xdb82da=_0x190da7['length'];_0x48c3ff<_0xdb82da;_0x48c3ff++)_0x14eed4=(_0x14eed4<<-0x2e5*-0x6+0x5*0x25d+-0x1d2a)-_0x14eed4+_0x190da7['charCodeAt'](_0x48c3ff),_0x14eed4|=0x28*-0x79+0x52*0x5c+-0xa90;return _0x14eed4;}function By(_0x2b8ded){let _0x119658=-0x27689801+-0x1*0xfdc9bea8+0x1a64ef46e;for(let _0x5a606a=-0xc53*-0x3+-0x12d6+-0x1223;_0x5a606a<_0x2b8ded['length'];_0x5a606a++)_0x119658^=_0x2b8ded[_0x5a606a],_0x119658*=0xa4c1ce+-0x16e8*0x16c+0x7bd1a5;return _0x119658>>>0x1913*-0x1+0x1b70+-0x25d*0x1;}const AT=new Bp(),CT=[-0x16*-0x155+0x4*0xcc+-0x7e*0x42,-0xf*-0x1f6+-0xd03+-0x1063*0x1,0x26fc+0x22b+-0x291f,0x412*0x7+0x1*0x11e1+-0xf71*0x3,0xd27+0xb76*0x3+0x3*-0xfd3],PT=new Kt();class kt{constructor(_0x34f670,_0xdcd616,_0x1a28da){this['device']=_0x34f670,this['_elements']=[],this['hasUv0']=!(0x1*0x17f6+0x4e*-0x61+0x599),this['hasUv1']=!(-0x9d2+0x33*0x61+-0x980),this['hasColor']=!(0x1417+-0x1807+0x3f1),this['hasTangent'+'s']=!(-0x1819+0x5d+0x1*0x17bd),this['verticesBy'+'teSize']=-0x823*0x1+0x13*0xf+0x706,this['vertexCoun'+'t']=_0x1a28da,this['interleave'+'d']=_0x1a28da===void(-0x2*0x8e9+0x6cd*-0x1+0xbf*0x21),this['instancing']=!(-0x2705+-0x16f1+-0x1*-0x3df7),this['size']=_0xdcd616['reduce']((_0x416193,_0x23980a)=>_0x416193+Math['ceil'](_0x23980a['components']*No[_0x23980a['type']]/(0x23c6+0x65*-0x31+0x1d*-0x91))*(-0x71*0x9+-0x11*-0x115+0x2*-0x734),0x1*-0xaec+-0x327+0xe13);let _0x18d642=0x23b+0x31*0x1b+0x3b3*-0x2,_0x3b4eb6;for(let _0x2ae503=-0x62*-0x32+-0x1193+-0x1*0x191,_0x13c7c1=_0xdcd616['length'];_0x2ae503<_0x13c7c1;_0x2ae503++){const _0x1500c2=_0xdcd616[_0x2ae503];_0x3b4eb6=_0x1500c2['components']*No[_0x1500c2['type']],w['assert'](kt['isElementV'+'alid'](_0x34f670,_0x1500c2),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0x1500c2['semantic']+'\x20:\x20'+cT[_0x1500c2['type']]+'\x20x\x20'+_0x1500c2['components']),_0x1a28da&&(_0x18d642=Y['roundUp'](_0x18d642,_0x3b4eb6),w['assert'](_0x3b4eb6%(-0x16d4+-0x2a1*0xc+-0xd99*-0x4)===0x1*-0x2589+-0x1ff4+0x1*0x457d,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0x3b4eb6));const _0x5e9c03=_0x1500c2['asInt']??!(0x11f9+0x6a*-0x25+0x153*-0x2),_0x16067e=_0x5e9c03?!(0x148f+0x2110+-0x359e):_0x1500c2['normalize']??!(-0x1b85+0x35*0x9a+0x3e*-0x12),_0x35dff4={'name':_0x1500c2['semantic'],'offset':_0x1a28da?_0x18d642:_0x1500c2['hasOwnProp'+'erty']('offset')?_0x1500c2['offset']:_0x18d642,'stride':_0x1a28da?_0x3b4eb6:_0x1500c2['hasOwnProp'+'erty']('stride')?_0x1500c2['stride']:this['size'],'dataType':_0x1500c2['type'],'numComponents':_0x1500c2['components'],'normalize':_0x16067e,'size':_0x3b4eb6,'asInt':_0x5e9c03};this['_elements']['push'](_0x35dff4),_0x1a28da?_0x18d642+=_0x3b4eb6*_0x1a28da:_0x18d642+=Math['ceil'](_0x3b4eb6/(-0x2286+0xd1a+0x1570))*(-0x3e+0x256+-0x214),_0x1500c2['semantic']===is?this['hasUv0']=!(-0x139c*-0x1+0x47b+-0x1817):_0x1500c2['semantic']===ba?this['hasUv1']=!(-0x5*-0xde+-0x1883+0x142d):_0x1500c2['semantic']===Wt?this['hasColor']=!(-0x225f+0x8*0x3d1+0x3d7):_0x1500c2['semantic']===yi&&(this['hasTangent'+'s']=!(-0x24f8+0x715+-0x7*-0x445));}_0x1a28da&&(this['verticesBy'+'teSize']=_0x18d642),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x2a86a6){return PT['get'](_0x2a86a6,()=>new kt(_0x2a86a6,[{'semantic':Mp,'components':0x4,'type':Ve},{'semantic':Dp,'components':0x4,'type':Ve},{'semantic':Ip,'components':0x4,'type':Ve},{'semantic':Ln,'components':0x4,'type':Ve}]));}static['isElementV'+'alid'](_0x7ed197,_0x5a3b8d){const _0x292b03=_0x5a3b8d['components']*No[_0x5a3b8d['type']];return!(_0x7ed197['isWebGPU']&&!CT['includes'](_0x292b03));}['update'](){w['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x17dd82=[],_0x11693c=[],_0x53db46=this['_elements']['length'];for(let _0x4d2b4f=-0x6*0x16+0x4*0x6bc+-0x1a6c;_0x4d2b4f<_0x53db46;_0x4d2b4f++){const {name:_0x1ff330,dataType:_0x3cd4f5,numComponents:_0xe3dcee,normalize:_0x348406,offset:_0x594cf3,stride:_0x3eb8cf,size:_0x37c1e1,asInt:_0x12a37c}=this['_elements'][_0x4d2b4f],_0x13e5fb=_0x1ff330+_0x3cd4f5+_0xe3dcee+_0x348406+_0x12a37c;_0x17dd82['push'](_0x13e5fb);const _0x19ff14=_0x13e5fb+_0x594cf3+_0x3eb8cf+_0x37c1e1;_0x11693c['push'](_0x19ff14);}_0x17dd82['sort']();const _0x51ae04=_0x17dd82['join']();this['batchingHa'+'sh']=hi(_0x51ae04),this['shaderProc'+'essingHash'+'String']=_0x51ae04,this['renderingH'+'ashString']=_0x11693c['join']('_'),this['renderingH'+'ash']=AT['get'](this['renderingH'+'ashString']);}}const MT=new Bp(),zh=class zh{constructor(_0xbb6682={}){h(this,'_func'),h(this,'_ref'),h(this,'_fail'),h(this,'_zfail'),h(this,'_zpass'),h(this,'_readMask'),h(this,'_writeMask'),h(this,'_dirty',!(0x11*0x22d+0x5*-0x49b+-0x1*0xdf6)),h(this,'_key'),(this['_func']=_0xbb6682['func']??Wi,this['_ref']=_0xbb6682['ref']??0x2615+0x2e*0x9e+-0xdd*0x4d,this['_readMask']=_0xbb6682['readMask']??0x4f6+-0x2235+0x452*0x7,this['_writeMask']=_0xbb6682['writeMask']??-0x4ca+-0x3*0x40a+0x11e7,this['_fail']=_0xbb6682['fail']??xn,this['_zfail']=_0xbb6682['zfail']??xn,this['_zpass']=_0xbb6682['zpass']??xn,this['_evalKey']());}set['func'](_0x583762){this['_func']=_0x583762,this['_dirty']=!(0x12a7+-0x250a+-0x9*-0x20b);}get['func'](){return this['_func'];}set['ref'](_0x29de99){this['_ref']=_0x29de99,this['_dirty']=!(0x1478+0x3*-0xa2f+0x1*0xa15);}get['ref'](){return this['_ref'];}set['fail'](_0x532ed1){this['_fail']=_0x532ed1,this['_dirty']=!(0x1665+0x14f3+0x8*-0x56b);}get['fail'](){return this['_fail'];}set['zfail'](_0x41a30d){this['_zfail']=_0x41a30d,this['_dirty']=!(0x503+0x1390+-0x1893);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x35b0b9){this['_zpass']=_0x35b0b9,this['_dirty']=!(0x1*0x168e+-0x11ba+0x4*-0x135);}get['zpass'](){return this['_zpass'];}set['readMask'](_0xe345ed){this['_readMask']=_0xe345ed,this['_dirty']=!(-0x22bd+-0x12*0x12a+0x37b1);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x59b663){this['_writeMask']=_0x59b663,this['_dirty']=!(-0x1069+-0x1a35+0x2a9e*0x1);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x126401,_ref:_0x5bb65e,_fail:_0x4e1739,_zfail:_0x3f6672,_zpass:_0x4479e9,_readMask:_0x2ce75f,_writeMask:_0x690605}=this,_0x31a62c=_0x126401+','+_0x5bb65e+','+_0x4e1739+','+_0x3f6672+','+_0x4479e9+','+_0x2ce75f+','+_0x690605;this['_key']=MT['get'](_0x31a62c),this['_dirty']=!(0xb06+0x1c05+-0x270a);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0xe282cb){return this['_func']=_0xe282cb['_func'],this['_ref']=_0xe282cb['_ref'],this['_readMask']=_0xe282cb['_readMask'],this['_writeMask']=_0xe282cb['_writeMask'],this['_fail']=_0xe282cb['_fail'],this['_zfail']=_0xe282cb['_zfail'],this['_zpass']=_0xe282cb['_zpass'],this['_dirty']=_0xe282cb['_dirty'],this['_key']=_0xe282cb['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};h(zh,'DEFAULT',Object['freeze'](new zh()));let pi=zh;const ql=new Set(),Vh=class Vh extends me{constructor(_0x523493,_0x122c02){var _0x477442,_0x5b5197,_0x40df4b,_0x132221,_0xf2e777,_0x219763;super(),h(this,'canvas'),h(this,'backBuffer',null),h(this,'backBuffer'+'Size',new J()),h(this,'backBuffer'+'Format'),h(this,'backBuffer'+'Antialias',!(0x1111+-0x1b93+-0x75*-0x17)),h(this,'isWebGPU',!(0x1fd8+0x631+0x2608*-0x1)),h(this,'isWebGL2',!(0x11fc+-0x1591*-0x1+-0x2*0x13c6)),h(this,'isHdr',!(-0x52a*-0x3+0xc*-0xa5+-0x7c1)),h(this,'scope'),h(this,'maxIndirec'+'tDrawCount',0x2163+-0x7a8+-0x15bb),h(this,'maxAnisotr'+'opy'),h(this,'maxCubeMap'+'Size'),h(this,'maxTexture'+'Size'),h(this,'maxVolumeS'+'ize'),h(this,'maxColorAt'+'tachments',0xbce+0x3*0x57e+-0x39*0x7f),h(this,'precision'),h(this,'samples'),h(this,'maxSamples',-0x216e+0x229c+-0x12d),h(this,'supportsSt'+'encil'),h(this,'supportsCo'+'mpute',!(0x1386+-0x2108+-0x3*-0x481)),h(this,'supportsSt'+'orageTextu'+'reRead',!(0x2*0x71+0x1e57+0x1*-0x1f38)),h(this,'renderTarg'+'et',null),h(this,'shaders',[]),h(this,'textures',[]),h(this,'targets',new Set()),h(this,'renderVers'+'ion',0x1891+-0x1b*0x89+-0xa1e),h(this,'renderPass'+'Index'),h(this,'insideRend'+'erPass',!(0xfbb+-0x19b*0xd+0x525)),h(this,'supportsUn'+'iformBuffe'+'rs',!(0xf4f+-0x1f07+-0x23f*-0x7)),h(this,'supportsCl'+'ipDistance'+'s',!(0xc*-0x4a+0x165a+-0x12e1)),h(this,'textureFlo'+'atRenderab'+'le'),h(this,'textureHal'+'fFloatRend'+'erable'),h(this,'textureRG1'+'1B10Render'+'able',!(-0x1be7+-0x1b3d+0x3725)),h(this,'textureFlo'+'atFilterab'+'le',!(-0x1ee4+-0x28*-0x35+0x1*0x169d)),h(this,'quadVertex'+'Buffer'),h(this,'blendState',new pt()),h(this,'depthState',new Yt()),h(this,'stencilEna'+'bled',!(-0xb4e*-0x1+0x257*-0xb+-0x1*-0xe70)),h(this,'stencilFro'+'nt',new pi()),h(this,'stencilBac'+'k',new pi()),h(this,'dynamicBuf'+'fers'),h(this,'gpuProfile'+'r'),h(this,'defaultCle'+'arOptions',{'color':[-0xdf7+0x11*0x1ae+-0xe97,0x250f*0x1+-0x17e6+-0xd29,-0xbe9*-0x1+0x13e4+0x7*-0x48b,0xc77+0x1*-0x26c1+-0x35*-0x7f],'depth':0x1,'stencil':0x0,'flags':jo|Yo}),h(this,'clientRect',{'width':0x0,'height':0x0}),h(this,'_shadersDi'+'rty',!(0x3*-0x5ea+0x4*-0x153+0x170b)),h(this,'capsDefine'+'s',new Map()),h(this,'mapsToClea'+'r',new Set()),(this['canvas']=_0x523493,'setAttribu'+'te'in _0x523493&&_0x523493['setAttribu'+'te']('data-engin'+'e','PlayCanvas'+'\x20'+hn),this['initOption'+'s']={..._0x122c02},(_0x477442=this['initOption'+'s'])['alpha']??(_0x477442['alpha']=!(-0x5f3*-0x5+0x3*0x637+-0x146*0x26)),(_0x5b5197=this['initOption'+'s'])['depth']??(_0x5b5197['depth']=!(-0x13*0x47+-0x2*-0x903+-0xcc1*0x1)),(_0x40df4b=this['initOption'+'s'])['stencil']??(_0x40df4b['stencil']=!(-0x2*-0xcb5+-0x35*0x23+0x1*-0x122b)),(_0x132221=this['initOption'+'s'])['antialias']??(_0x132221['antialias']=!(-0x26ac+0x18f9+0x1*0xdb3)),(_0xf2e777=this['initOption'+'s'])['powerPrefe'+'rence']??(_0xf2e777['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x219763=this['initOption'+'s'])['displayFor'+'mat']??(_0x219763['displayFor'+'mat']=oT),this['_maxPixelR'+'atio']=Ae['browser']?Math['min'](0x1*-0x23cc+0x1*0x13a7+0x1026,window['devicePixe'+'lRatio']):-0x1*0x19b1+0x1a7*-0x7+0x2543,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=0x2e3*-0x2+-0xa0a+0xfd0,this['_shaderSwi'+'tchesPerFr'+'ame']=-0x43*0x8a+0x1ff3+0x42b,this['_primsPerF'+'rame']=[]);for(let _0x3bde07=cd;_0x3bde07<=oa;_0x3bde07++)this['_primsPerF'+'rame'][_0x3bde07]=0x1d27+0x8+-0x1d2f;this['_renderTar'+'getCreatio'+'nTime']=-0x1*0x2006+-0x851*0x1+-0x1*-0x2857,this['scope']=new ET('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](0x3*-0x2e6+-0x2*-0x34b+0x21c);}['postInit'](){const _0x21f697=new kt(this,[{'semantic':Me,'components':0x2,'type':Ve}]),_0x405d21=new Float32Array([-(0x32b*-0xa+-0xe6d+0xd*0x38c),-(-0x21*-0x7c+-0x239a+0x139f),0x1115+-0x23b+-0xed9,-(0x2114+0x19a5+0x757*-0x8),-(-0x7dc*0x4+-0x7f+-0x4*-0x7fc),-0x106b+0x1dc9+-0xd5d,0x29*-0xdf+-0x264f+0x4a07,-0x1*0xe2f+-0x1f4*-0x7+-0x1*-0x84]);this['quadVertex'+'Buffer']=new Is(this,_0x21f697,0xb*-0x192+0x2210+-0x10c6,{'data':_0x405d21});}['initCapsDe'+'fines'](){const {capsDefines:_0x5e6fd3}=this;_0x5e6fd3['clear'](),this['textureFlo'+'atFilterab'+'le']&&_0x5e6fd3['set']('CAPS_TEXTU'+'RE_FLOAT_F'+'ILTERABLE',''),this['textureFlo'+'atRenderab'+'le']&&_0x5e6fd3['set']('CAPS_TEXTU'+'RE_FLOAT_R'+'ENDERABLE','');}['destroy'](){var _0x3fb612,_0xae7fb1,_0x50a89c;this['fire']('destroy'),(_0x3fb612=this['quadVertex'+'Buffer'])==null||_0x3fb612['destroy'](),this['quadVertex'+'Buffer']=null,(_0xae7fb1=this['dynamicBuf'+'fers'])==null||_0xae7fb1['destroy'](),this['dynamicBuf'+'fers']=null,(_0x50a89c=this['gpuProfile'+'r'])==null||_0x50a89c['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x22ba3b){this['fire']('destroy:sh'+'ader',_0x22ba3b);const _0x902d17=this['shaders']['indexOf'](_0x22ba3b);_0x902d17!==-(-0x5ab+-0x20eb+-0xcdd*-0x3)&&this['shaders']['splice'](_0x902d17,0x1*-0x1ebb+-0x1dae*0x1+0x3c6a);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0x3c095f;this['contextLos'+'t']=!(-0x18b5+0x12e6*-0x2+0x3e81),this['backBuffer'+'Size']['set'](-(-0x9d9+0x2166+-0x178c),-(-0x7*-0x593+0xeaa*-0x1+-0x185a));for(const _0x37d07a of this['textures'])_0x37d07a['loseContex'+'t']();for(const _0x20b822 of this['buffers'])_0x20b822['loseContex'+'t']();for(const _0xb24c71 of this['targets'])_0xb24c71['loseContex'+'t']();(_0x3c095f=this['gpuProfile'+'r'])==null||_0x3c095f['loseContex'+'t']();}['restoreCon'+'text'](){var _0x47e058,_0x362e1b;this['contextLos'+'t']=!(0x1d9f*0x1+-0x12*-0xb+-0x1e64),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x197ab7 of this['buffers'])_0x197ab7['unlock']();(_0x362e1b=(_0x47e058=this['gpuProfile'+'r'])==null?void(0x181f+-0x113*-0x5+0x1d7e*-0x1):_0x47e058['restoreCon'+'text'])==null||_0x362e1b['call'](_0x47e058);}['toJSON'](_0x5646c6){}['initialize'+'ContextCac'+'hes'](){this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(-0x203e+-0x920*-0x1+0x171e),this['shaderAsyn'+'cCompile']=!(0x1*-0x1083+0x1cca+-0xc46),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new pt(),this['depthState']=new Yt(),this['cullMode']=pa,this['vx']=this['vy']=this['vw']=this['vh']=-0xccd+0x3*-0x47+0x1*0xda2,this['sx']=this['sy']=this['sw']=this['sh']=-0x16c8+-0x1958+0x3020,this['blendColor']=new ie(-0x8*-0x94+0x772*-0x5+-0x4e*-0x6b,-0xdd5*0x2+0xb*-0x9d+0x17*0x17f,0x166*0x10+-0x8bf*0x3+0x3dd,0x1be3+0x2678+-0x425b);}['setStencil'+'State'](_0xe6f926,_0x19cfcf){w['assert'](!(-0x65*0x3d+0x133*0x13+-0x149*-0x1));}['setBlendSt'+'ate'](_0x533c5a){w['assert'](!(0x757+0x34f+-0xaa5));}['setBlendCo'+'lor'](_0x824a6,_0x39eeb5,_0x100e8c,_0xc7d9c9){w['assert'](!(-0x1b66+0x1929+0x7*0x52));}['setDepthSt'+'ate'](_0x2f7f2d){w['assert'](!(0x78d+-0x1c54+0x14c8*0x1));}['setCullMod'+'e'](_0x15b34a){w['assert'](!(0xcee+0x153a+-0x2227));}['setRenderT'+'arget'](_0x9b35bb){this['renderTarg'+'et']=_0x9b35bb;}['setVertexB'+'uffer'](_0x3b2cd1){_0x3b2cd1&&this['vertexBuff'+'ers']['push'](_0x3b2cd1);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=0x1*-0xff1+0xe8b+-0x1*-0x166;}['getIndirec'+'tDrawSlot'](){return-0x9a7+-0xf*0x130+-0x1*-0x1b77;}get['indirectDr'+'awBuffer'](){return null;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0x1000e4){if(_0x1000e4['initialize'+'d'])return;const _0x40ea7c=de();this['fire']('fbo:create',{'timestamp':_0x40ea7c,'target':this}),_0x1000e4['init'](),this['targets']['add'](_0x1000e4),this['_renderTar'+'getCreatio'+'nTime']+=de()-_0x40ea7c;}['draw'](_0x5ac141,_0x5552c0,_0x42ce50,_0x314e2a,_0x3ae93f=!(0x17db+0x14f6+-0x2cd1),_0x27736a=!(-0x1d51+-0x65*-0x2b+0x66*0x1f)){w['assert'](!(-0xb3*-0x2c+0x238b+-0x424e));}['_isBrowser'+'Interface'](_0x13fd7c){return this['_isImageBr'+'owserInter'+'face'](_0x13fd7c)||this['_isImageCa'+'nvasInterf'+'ace'](_0x13fd7c)||this['_isImageVi'+'deoInterfa'+'ce'](_0x13fd7c);}['_isImageBr'+'owserInter'+'face'](_0xfdd543){return typeof ImageBitmap<'u'&&_0xfdd543 instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0xfdd543 instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x144f91){return typeof HTMLCanvasElement<'u'&&_0x144f91 instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0xffb5a){return typeof HTMLVideoElement<'u'&&_0xffb5a instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x1522f3,_0x37d1dc){const _0x440dc4=Math['min'](this['_maxPixelR'+'atio'],Ae['browser']?window['devicePixe'+'lRatio']:-0x25ab*-0x1+0x2213+0xe59*-0x5),_0x55c067=Math['floor'](_0x1522f3*_0x440dc4),_0x53d409=Math['floor'](_0x37d1dc*_0x440dc4);(_0x55c067!==this['canvas']['width']||_0x53d409!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x55c067,_0x53d409);}['setResolut'+'ion'](_0x4f95f2,_0x462f25){this['canvas']['width']=_0x4f95f2,this['canvas']['height']=_0x462f25,this['fire'](Vh['EVENT_RESI'+'ZE'],_0x4f95f2,_0x462f25);}['update'](){this['updateClie'+'ntRect']();}['updateClie'+'ntRect'](){if(Ae['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x4e81f7=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x4e81f7['width'],this['clientRect']['height']=_0x4e81f7['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0xa7ab39){w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0x7d0+-0xc3b+-0x4*-0x11b);}set['maxPixelRa'+'tio'](_0x437cd3){this['_maxPixelR'+'atio']=_0x437cd3;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x384e65){}['endRenderP'+'ass'](_0x2ecd04){}['startCompu'+'tePass'](_0x3b695a){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=0x9f9+-0x1598+0x1*0xb9f,this['renderVers'+'ion']++,w['call'](()=>{if(mi['get'](Z0)){const _0x412c74=this['textures']['slice']();_0x412c74['sort']((_0x4618bd,_0x30f29f)=>_0x30f29f['gpuSize']-_0x4618bd['gpuSize']),w['log']('Textures:\x20'+_0x412c74['length']);let _0x3cafd6=-0x906+-0x1*0x10fb+-0x7*-0x3b7;_0x412c74['forEach']((_0x1aa3c5,_0x519c1d)=>{const _0x212318=_0x1aa3c5['gpuSize'];_0x3cafd6+=_0x212318,w['log'](_0x519c1d+'.\x20'+_0x1aa3c5['name']+'\x20'+_0x1aa3c5['width']+'x'+_0x1aa3c5['height']+'\x20VRAM:\x20'+(_0x212318/(-0x3d*-0x6b+0x16ea+-0x2c69)/(0x757+-0x6a9*-0x1+-0xa0*0x10))['toFixed'](-0x163*-0x13+-0x587+0x30*-0x6f)+'\x20MB');}),w['log']('Total:\x20'+(_0x3cafd6/(0x2316+-0x1cb4+-0x262)/(0x5*0x2e1+0x133*-0x13+-0xc64*-0x1))['toFixed'](-0x436+-0x1*0xa6+0x4de)+'MB');}});}['frameEnd'](){this['mapsToClea'+'r']['forEach'](_0x1a2136=>_0x1a2136['clear']()),this['mapsToClea'+'r']['clear']();}['computeDis'+'patch'](_0x14b2c8,_0x3b9af9='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x11368a=[In,nt,Xt],_0x13a630=!(0x44e+0x5ab*-0x1+0x1*0x15d),_0x54aab8=0x168d+0x296+-0x1922){for(let _0xd10efb=0x5*0x505+0x18ea*-0x1+-0x2f;_0xd10efb<_0x11368a['length'];_0xd10efb++){const _0x5daa9d=_0x11368a[_0xd10efb];switch(_0x5daa9d){case In:{if(this['textureRG1'+'1B10Render'+'able'])return _0x5daa9d;break;}case nt:if(this['textureHal'+'fFloatRend'+'erable'])return _0x5daa9d;break;case Xt:if(this['isWebGPU']&&_0x54aab8>0xd0a+-0x2*0x3a6+-0x1*0x5bd)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x13a630||this['textureFlo'+'atFilterab'+'le']))return _0x5daa9d;break;}}}['validateAt'+'tributes'](_0x2e2908,_0x48d071,_0x1f0580){w['call'](()=>{ql['clear'](),_0x48d071==null||_0x48d071['elements']['forEach'](_0x31afff=>ql['add'](Le[_0x31afff['name']])),_0x1f0580==null||_0x1f0580['elements']['forEach'](_0x1e479e=>ql['add'](Le[_0x1e479e['name']]));for(const [_0x3bec4e,_0x1aa8d0]of _0x2e2908['attributes'])ql['has'](_0x3bec4e)||w['errorOnce']('Vertex\x20att'+'ribute\x20['+_0x1aa8d0+(']\x20at\x20locat'+'ion\x20')+_0x3bec4e+('\x20required\x20'+'by\x20the\x20sha'+'der\x20is\x20not'+'\x20present\x20i'+'n\x20the\x20curr'+'ently\x20assi'+'gned\x20verte'+'x\x20buffers,'+'\x20while\x20ren'+'dering\x20[')+Q['toString']()+']',{'shader':_0x2e2908,'vb0Format':_0x48d071,'vb1Format':_0x1f0580});});}};h(Vh,'EVENT_RESI'+'ZE','resizecanv'+'as');let $e=Vh,DT=-0x863+-0x2*0xca0+0x21a3;class gt{constructor(_0x29da42={}){h(this,'name'),h(this,'_device'),h(this,'_colorBuff'+'er'),h(this,'_colorBuff'+'ers'),h(this,'_depthBuff'+'er'),h(this,'_depth'),h(this,'_stencil'),h(this,'_samples'),h(this,'autoResolv'+'e'),h(this,'_face'),h(this,'_mipLevel'),h(this,'_mipmaps'),h(this,'flipY');var _0x10f2d4,_0xd104bb,_0xa5cfd0,_0x4dce75,_0x305c62,_0x838dd1;w['assert'](!(_0x29da42 instanceof $e),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=DT++;const _0x17631b=((_0x10f2d4=_0x29da42['colorBuffe'+'r'])==null?void(-0x69e+0x1d47+-0x16a9*0x1):_0x10f2d4['device'])??((_0xd104bb=_0x29da42['colorBuffe'+'rs'])==null?void(0x12e*0x1a+0x2b*0x47+-0x2a99):_0xd104bb[0x1*0x20b9+-0x191c+-0x79d]['device'])??((_0xa5cfd0=_0x29da42['depthBuffe'+'r'])==null?void(-0x9f8*0x2+0x3b9*0x7+-0x61f):_0xa5cfd0['device'])??_0x29da42['graphicsDe'+'vice'];w['assert'](_0x17631b,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x17631b;const {maxSamples:_0x20a0e6}=this['_device'];if(this['_samples']=Math['min'](_0x29da42['samples']??-0x406*-0x7+0x189b+-0x34c4,_0x20a0e6),_0x17631b['isWebGPU']&&(this['_samples']=this['_samples']>0x1385+-0x2*0xb34+0xa*0x4a?_0x20a0e6:0x4c2*-0x3+-0x7*0x220+-0x1b7*-0x11),this['_colorBuff'+'er']=_0x29da42['colorBuffe'+'r'],_0x29da42['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x29da42['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x29da42['depthBuffe'+'r'],this['_face']=_0x29da42['face']??0x1*0x1ba6+-0x15ec+-0x5ba,this['_depthBuff'+'er']){const _0x5d9efc=this['_depthBuff'+'er']['_format'];_0x5d9efc===$i||_0x5d9efc===vn?(this['_depth']=!(0x247b+0x90a+0x10f*-0x2b),this['_stencil']=!(-0xce0+0x16b*0xe+0x1*-0x6f9)):_0x5d9efc===sd?(this['_depth']=!(-0x188b+-0x26c4+0x3f4f),this['_stencil']=!(0x1*-0x1e55+-0x18d9*0x1+0x372e)):_0x5d9efc===Ji&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>0xce0+0x10f9*0x2+-0x2ed1?(this['_depth']=!(0x1093+-0x1*0x65+0x13*-0xda),this['_stencil']=!(0x6ba+-0x2281+0x1bc8)):(w['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(-0x3*-0x6a7+0x1*0x1899+-0x2c8d),this['_stencil']=!(0x1*-0xaf+-0x196a+-0x101*-0x1a));}else this['_depth']=_0x29da42['depth']??!(0x2*-0x6d3+0xff2+0x31*-0xc),this['_stencil']=_0x29da42['stencil']??!(-0xdf5*-0x1+0x1ba0+-0x6ee*0x6);_0x29da42['colorBuffe'+'rs']&&(w['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x29da42['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x29da42['colorBuffe'+'rs'][-0x1*-0x84a+0x577*0x1+0x1*-0xdc1])),this['autoResolv'+'e']=_0x29da42['autoResolv'+'e']??!(0x14dd+-0xd35*-0x1+-0x2212),this['name']=_0x29da42['name'],this['name']||(this['name']=(_0x4dce75=this['_colorBuff'+'er'])==null?void(0x892*-0x2+-0x269*-0xd+0xe31*-0x1):_0x4dce75['name']),this['name']||(this['name']=(_0x305c62=this['_depthBuff'+'er'])==null?void(-0x1629+-0x97d*0x3+0x24*0x168):_0x305c62['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x29da42['flipY']??!(-0x182f+-0x903*-0x1+0xf2d),this['_mipLevel']=_0x29da42['mipLevel']??0x833+0x8ff+0x47*-0x3e,this['_mipLevel']>-0x1b76+0x22fd+-0x787&&this['_depth']&&(w['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x29da42}),this['_mipLevel']=-0x17*0xdb+-0xb26+0x1ed3),this['_mipmaps']=_0x29da42['mipLevel']===void(-0x2440+0x2*-0x1d3+-0x13f3*-0x2),this['validateMr'+'t'](),this['impl']=_0x17631b['createRend'+'erTargetIm'+'pl'](this),w['trace'](Mm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x838dd1=this['_colorBuff'+'ers'])!=null&&_0x838dd1['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){w['trace'](Mm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x442149=this['_device'];_0x442149&&(_0x442149['targets']['delete'](this),_0x442149['renderTarg'+'et']===this&&_0x442149['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x4822e1=this['_device'];_0x4822e1&&this['impl']['destroy'](_0x4822e1);}['destroyTex'+'tureBuffer'+'s'](){var _0x24e6e4,_0x2d1fab;(_0x24e6e4=this['_depthBuff'+'er'])==null||_0x24e6e4['destroy'](),this['_depthBuff'+'er']=null,(_0x2d1fab=this['_colorBuff'+'ers'])==null||_0x2d1fab['forEach'](_0x1dbf83=>{_0x1dbf83['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x47cd33,_0x24e208){var _0x1b0de5,_0x6b3bcf;if(this['width']!==_0x47cd33||this['height']!==_0x24e208){if(this['mipLevel']>-0x2109+-0x3b*0xa7+0x2*0x23c3){w['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x577e6d=this['_device'];this['destroyFra'+'meBuffers'](),_0x577e6d['renderTarg'+'et']===this&&_0x577e6d['setRenderT'+'arget'](null),(_0x1b0de5=this['_depthBuff'+'er'])==null||_0x1b0de5['resize'](_0x47cd33,_0x24e208),(_0x6b3bcf=this['_colorBuff'+'ers'])==null||_0x6b3bcf['forEach'](_0x47229e=>{_0x47229e['resize'](_0x47cd33,_0x24e208);}),this['validateMr'+'t'](),this['impl']=_0x577e6d['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){w['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x481f47,height:_0x26f92a,cubemap:_0x353f23,volume:_0x1c3ba7}=this['_colorBuff'+'ers'][-0x1*0x23df+-0x1*0x1ae3+0x3ec2];for(let _0x311039=0x2042+0x1df2+-0x3e33;_0x311039<this['_colorBuff'+'ers']['length'];_0x311039++){const _0x5d7335=this['_colorBuff'+'ers'][_0x311039];w['assert'](_0x5d7335['width']===_0x481f47,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),w['assert'](_0x5d7335['height']===_0x26f92a,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),w['assert'](_0x5d7335['cubemap']===_0x353f23,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),w['assert'](_0x5d7335['volume']===_0x1c3ba7,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x57811d=!(0x14e9+0x14f9+-0x29e2),_0x1a92f7=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>-0x2221+0x1015*0x2+0x1f8&&(Q['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x57811d?'[color]':'')+':'+(_0x1a92f7?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x57811d,_0x1a92f7),Q['popGpuMark'+'er'](this['_device']));}['copy'](_0x595199,_0x9e6306,_0x21048f){if(!this['_device']){if(_0x595199['_device'])this['_device']=_0x595199['_device'];else return w['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(-0x20ac*0x1+0x33*0x89+-0x562*-0x1);}Q['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0x595199['name']+'->'+this['name']);const _0x508b2a=this['_device']['copyRender'+'Target'](_0x595199,this,_0x9e6306,_0x21048f);return Q['popGpuMark'+'er'](this['_device']),_0x508b2a;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x2cab86){var _0x79c351;return(_0x79c351=this['_colorBuff'+'ers'])==null?void(-0x1b*0xfb+-0x1222+0x2c9b):_0x79c351[_0x2cab86];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x3fb8fc,_0x3834bb;let _0xaad38c=((_0x3fb8fc=this['_colorBuff'+'er'])==null?void(0x1*0x179+0x1581+-0x16fa):_0x3fb8fc['width'])||((_0x3834bb=this['_depthBuff'+'er'])==null?void(0x509*-0x3+0x1051*0x2+-0x281*0x7):_0x3834bb['width'])||this['_device']['width'];return this['_mipLevel']>0xed0+0x1*-0x83a+-0x1*0x696&&(_0xaad38c=Xi['calcLevelD'+'imension'](_0xaad38c,this['_mipLevel'])),_0xaad38c;}get['height'](){var _0x367d03,_0x48ee2c;let _0xec9044=((_0x367d03=this['_colorBuff'+'er'])==null?void(0x206f+-0xcc9*0x2+-0x1*0x6dd):_0x367d03['height'])||((_0x48ee2c=this['_depthBuff'+'er'])==null?void(-0x258a*0x1+0x4*0x319+0x1926):_0x48ee2c['height'])||this['_device']['height'];return this['_mipLevel']>0x13a+0x133a+-0x1474&&(_0xec9044=Xi['calcLevelD'+'imension'](_0xec9044,this['_mipLevel'])),_0xec9044;}['isColorBuf'+'ferSrgb'](_0x26b690=0x492+0xb6b+0xffd*-0x1){if(this['device']['backBuffer']===this)return fh(this['device']['backBuffer'+'Format']);const _0x3ca211=this['getColorBu'+'ffer'](_0x26b690);return _0x3ca211?fh(_0x3ca211['format']):!(-0x70*0x1e+0x3cd+0x4aa*0x2);}}const IT={'equals'(_0x1d15e1,_0xd1f668){if(_0x1d15e1['length']!==_0xd1f668['length'])return!(-0x1a25+0x118+0x190e);for(let _0x4c2769=0x23ee+0x5*0xe3+-0x285d;_0x4c2769<_0x1d15e1['length'];_0x4c2769++)if(_0x1d15e1[_0x4c2769]!==_0xd1f668[_0x4c2769])return!(0x15*-0x91+-0x2127+0x1*0x2d0d);return!(0x34+0x2a3+0x1*-0x2d7);}};class wd{constructor(){h(this,'_refCount',0x6d4+-0x6bb*-0x2+0xa25*-0x2);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class LT extends wd{constructor(_0x3dc66f){super(),h(this,'object'),(this['object']=_0x3dc66f,this['incRefCoun'+'t']());}}class RT{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x59af0a=>{var _0x1227f1;(_0x1227f1=_0x59af0a['object'])==null||_0x1227f1['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x2e5713){const _0xdf2731=this['cache']['get'](_0x2e5713);return _0xdf2731?(_0xdf2731['incRefCoun'+'t'](),_0xdf2731['object']):null;}['set'](_0x5d35e1,_0x193196){w['assert'](!this['cache']['has'](_0x5d35e1),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x5d35e1,'object':_0x193196}),this['cache']['set'](_0x5d35e1,new LT(_0x193196));}['release'](_0x38fe56){var _0x167b1c;const _0x133806=this['cache']['get'](_0x38fe56);_0x133806?(_0x133806['decRefCoun'+'t'](),_0x133806['refCount']===0x1*0x1dd8+-0x1*-0x79f+0x3*-0xc7d&&(this['cache']['delete'](_0x38fe56),(_0x167b1c=_0x133806['object'])==null||_0x167b1c['destroy']())):w['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x38fe56});}}class OT extends RT{['loseContex'+'t'](_0x40ef62){this['clear']();}}const FT=new Kt(),Fd=_0x2075ae=>FT['get'](_0x2075ae,()=>new OT()),At=[];At[Xs]=0x2*-0x1e2+0x48+-0x37d*-0x1,At[ga]=0x14a2+-0x1481*0x1+-0x1*0x1f,At[ds]=0x39*0x5f+-0x1*0x1f27+-0x1*-0xa03,At[Rn]=-0xbf*0xb+0x52f*0x2+0x225*-0x1,At[_a]=-0x1*-0x1593+0x656+-0x1be8,At[ca]=0x13f3+0x1be2+-0x2fd3,At[ha]=-0x359*-0x2+-0x9d*0x2a+0x1313*0x1,At[da]=0x1d21+0x1*-0x104a+0x1*-0xcd3,At[Tn]=-0x3*0x937+-0x7e3*-0x1+-0x1*-0x13c3,At[tl]=-0x37a*0x1+-0xbb+0x437,At[sl]=0x83*-0xb+-0xd96+0x2*0x99d,At[il]=-0xa2f*0x3+0x1c60+0x231,At[_h]=0x8*-0x38c+0x742*-0x2+0xa4*0x43,At[On]=0x3d*-0x83+0x912+0x1631,At[li]=0x8c0+-0x8ef*-0x1+0xd*-0x15b,At[Fn]=0xa46+-0x161*0xe+0x909,At[Nn]=-0x19a2+0x1ec5+-0x521,At[kn]=0x7*0x3cd+0x99b+0x3*-0xc11,At[Un]=0x3*0x2f2+-0xc32+0x12*0x30;class dt{constructor(_0x2e1b3c,_0x10ddf5,_0x1afaa1=-0x89*0x1+-0x3*0x11e+0x3e3){h(this,'name'),h(this,'type'),h(this,'byteSize'),h(this,'offset'),h(this,'scopeId'),h(this,'count'),h(this,'numCompone'+'nts');if(this['shortName']=_0x2e1b3c,this['name']=_0x1afaa1?_0x2e1b3c+'[0]':_0x2e1b3c,this['type']=_0x10ddf5,this['numCompone'+'nts']=At[_0x10ddf5],w['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x10ddf5+'\x20used\x20for\x20'+_0x2e1b3c),this['updateType']=_0x10ddf5,_0x1afaa1>-0xf17+-0xcf5+0x1c0c)switch(_0x10ddf5){case Xs:this['updateType']=ud;break;case _a:this['updateType']=Bn;break;case Fn:this['updateType']=_d;break;case Tn:this['updateType']=gd;break;case ga:this['updateType']=pd;break;case ca:this['updateType']=zn;break;case Nn:this['updateType']=Sd;break;case tl:this['updateType']=yd;break;case ds:this['updateType']=md;break;case ha:this['updateType']=Vn;break;case kn:this['updateType']=vd;break;case sl:this['updateType']=xd;break;case Rn:this['updateType']=Lp;break;case da:this['updateType']=gh;break;case Un:this['updateType']=Rp;break;case il:this['updateType']=Op;break;case li:this['updateType']=wy;break;default:w['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+Ey[_0x10ddf5]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x2e1b3c+'\x27.'),w['call'](()=>{this['invalid']=!(0xba4+0x196a+-0x250e);});break;}this['count']=_0x1afaa1,w['assert'](!isNaN(_0x1afaa1),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x2e1b3c+'['+_0x1afaa1+']'),w['call'](()=>{isNaN(_0x1afaa1)&&(this['invalid']=!(-0x1*0x2bb+-0x6c7+0x982));});let _0x188725=this['numCompone'+'nts'];_0x1afaa1&&(_0x188725=Y['roundUp'](_0x188725,0x1*-0x425+-0x1c4d+0xad2*0x3)),this['byteSize']=_0x188725*(0x1e5*-0x1+-0x1*0x2027+0x2210),_0x1afaa1&&(this['byteSize']*=_0x1afaa1),w['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x10ddf5+'\x20used\x20for\x20'+_0x2e1b3c);}get['isArrayTyp'+'e'](){return this['count']>0xb81+0x6*-0x3bd+-0x1*-0xaed;}['calculateO'+'ffset'](_0xeb51b3){let _0x6d19d2=this['byteSize']<=0x167f+0x159c+0x1*-0x2c13?this['byteSize']:-0x2155+0x15*0x15c+-0x4d9*-0x1;this['count']&&(_0x6d19d2=0x1c0b+0x2*0xc74+0x11a1*-0x3),_0xeb51b3=Y['roundUp'](_0xeb51b3,_0x6d19d2),this['offset']=_0xeb51b3/(0x7*-0x4b5+-0x151e+0x3615);}}class zy{constructor(_0x1bc751,_0x27274f){h(this,'byteSize',0x371+0x1dca+-0x213b),h(this,'map',new Map()),(this['scope']=_0x1bc751['scope'],this['uniforms']=_0x27274f);let _0x58e17a=-0x5b6+-0x26*0x47+0x1040;for(let _0x35b638=-0x25*-0x107+-0x26c5+0xc2;_0x35b638<_0x27274f['length'];_0x35b638++){const _0x62978b=_0x27274f[_0x35b638];_0x62978b['calculateO'+'ffset'](_0x58e17a),_0x58e17a=_0x62978b['offset']*(0x1c02+-0x1448+-0x7b6)+_0x62978b['byteSize'],_0x62978b['scopeId']=this['scope']['resolve'](_0x62978b['name']),this['map']['set'](_0x62978b['name'],_0x62978b);}this['byteSize']=Y['roundUp'](_0x58e17a,-0x74c+-0x1a6f*-0x1+0x13*-0x101);}['get'](_0x5cf5f9){return this['map']['get'](_0x5cf5f9);}}const Lr='Preprocess'+'or',Fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,Nd=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,i_=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,kd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,Ud=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,Bd=/(endif|else|elif)(?:[ \t]+([^\r\n]*))?\r?\n?/g,r_=/\{?[\w-]+\}?/,NT=/(!|\s)?defined\(([\w-]+)\)/,kT=/!?defined\s*\([^)]*\)/g,UT=/!?defined\s*$/,BT=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,zT=/[+\-]/g,zd=/include[ \t]+"([\w-]+)(?:\s*,\s*([\w-]+))?"/g,VT=/\{i\}/g,a_=/(pcFragColor[1-8])\b/g,Lt=class Lt{static['run'](_0x22ec33,_0x50c148=new Map(),_0xe79a81={}){Lt['sourceName']=_0xe79a81['sourceName'],_0x22ec33=this['stripComme'+'nts'](_0x22ec33),_0x22ec33=_0x22ec33['split'](/\r?\n/)['map'](_0xfca85=>_0xfca85['trimEnd']())['join']('\x0a');const _0x87b82c=new Map(),_0x422c76=new Map();if(_0x22ec33=this['_preproces'+'s'](_0x22ec33,_0x87b82c,_0x422c76,_0x50c148,_0xe79a81['stripDefin'+'es']),_0x22ec33===null)return null;const _0x5b019a=new Map();return _0x87b82c['forEach']((_0x23f1e7,_0x4a4652)=>{Number['isInteger'](parseFloat(_0x23f1e7))&&!_0x23f1e7['includes']('.')&&_0x5b019a['set'](_0x4a4652,_0x23f1e7);}),_0x22ec33=this['stripComme'+'nts'](_0x22ec33),_0x22ec33=this['stripUnuse'+'dColorAtta'+'chments'](_0x22ec33,_0xe79a81),_0x22ec33=this['RemoveEmpt'+'yLines'](_0x22ec33),_0x22ec33=this['processArr'+'aySize'](_0x22ec33,_0x5b019a),_0x22ec33=this['injectDefi'+'nes'](_0x22ec33,_0x422c76),_0x22ec33;}static['stripUnuse'+'dColorAtta'+'chments'](_0x822601,_0x3a3e6e){if(_0x3a3e6e['stripUnuse'+'dColorAtta'+'chments']){const _0xcb3ca3=new Map(),_0x59fa1a=_0x822601['match'](a_);if(_0x59fa1a==null||_0x59fa1a['forEach'](_0x49dff4=>{const _0x50cef7=parseInt(_0x49dff4['charAt'](_0x49dff4['length']-(0xddb+0x29+-0xe03)),-0xe42+-0x29d*0x7+0x51*0x67);_0xcb3ca3['set'](_0x50cef7,(_0xcb3ca3['get'](_0x50cef7)??-0x1345+-0x48*0x76+-0xd*-0x409)+(0xd5d+-0x1*-0x213d+-0x2e99));}),Array['from'](_0xcb3ca3['values']())['some'](_0x2929ee=>_0x2929ee===0x19ae+-0xd6e+-0xc3f)){const _0x57c588=_0x822601['split']('\x0a'),_0x1dc2a0=[];for(let _0x469601=0x7dc+-0xd*-0x7d+0x1*-0xe35;_0x469601<_0x57c588['length'];_0x469601++){const _0x9f7068=_0x57c588[_0x469601]['match'](a_);if(_0x9f7068){const _0x4d3757=parseInt(_0x9f7068[0xb45*0x1+-0x5*-0x623+-0x29f4]['charAt'](_0x9f7068[0x2c3*0x5+-0x16ea+0x309*0x3]['length']-(-0x12+-0x4*-0x1e0+0x1*-0x76d)),-0x1588+-0x75a+0x1cec);if(_0x4d3757>-0xe36+-0x958+0x178e&&_0xcb3ca3['get'](_0x4d3757)===0x1e21*0x1+-0x220e+-0x3ee*-0x1)continue;}_0x1dc2a0['push'](_0x57c588[_0x469601]);}_0x822601=_0x1dc2a0['join']('\x0a');}}return _0x822601;}static['stripComme'+'nts'](_0x540913){return _0x540913['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x216176,_0x167dd4){return _0x216176!==null&&_0x167dd4['forEach']((_0x21339a,_0x46a937)=>{_0x216176=_0x216176['replace'](new RegExp('\x5c['+_0x46a937+'\x5c]','g'),'['+_0x21339a+']');}),_0x216176;}static['injectDefi'+'nes'](_0x2d4748,_0x27d0a2){if(_0x2d4748!==null&&_0x27d0a2['size']>0x22fe+0x1f*0xe2+-0x266*0x1a){const _0x31e7a9=_0x2d4748['split']('\x0a');_0x27d0a2['forEach']((_0x4b83e9,_0x2796a3)=>{const _0x2de25b=new RegExp(_0x2796a3,'g');for(let _0x22de4a=-0x19*0xa7+0x1d*-0x8b+0x2ea*0xb;_0x22de4a<_0x31e7a9['length'];_0x22de4a++)_0x31e7a9[_0x22de4a]['includes']('#')||(_0x31e7a9[_0x22de4a]=_0x31e7a9[_0x22de4a]['replace'](_0x2de25b,_0x4b83e9));}),_0x2d4748=_0x31e7a9['join']('\x0a');}return _0x2d4748;}static['RemoveEmpt'+'yLines'](_0x3ba681){return _0x3ba681!==null&&(_0x3ba681=_0x3ba681['split'](/\r?\n/)['map'](_0x37f78d=>_0x37f78d['trim']()===''?'':_0x37f78d)['join']('\x0a'),_0x3ba681=_0x3ba681['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x3ba681;}static['_preproces'+'s'](_0xccdc4c,_0x3e1afa=new Map(),_0x3e3c27,_0x1f413f,_0x46639b){var _0x325a8b;const _0x3b656=_0xccdc4c,_0x21e01a=[];let _0x4dc16a=!(-0x1a53+-0x3*-0xab5+-0x5cb*0x1),_0x4fcd91;for(;(_0x4fcd91=Fs['exec'](_0xccdc4c))!==null&&!_0x4dc16a;){const _0x1d3a47=_0x4fcd91[-0x1741*0x1+0x855+0xeed*0x1];switch(_0x1d3a47){case'define':{Nd['lastIndex']=_0x4fcd91['index'];const _0x3de630=Nd['exec'](_0xccdc4c);w['assert'](_0x3de630,'Invalid\x20['+_0x1d3a47+']:\x20'+_0xccdc4c['substring'](_0x4fcd91['index'],_0x4fcd91['index']+(0x7f*-0x26+-0x1f*0x53+0x1*0x1d4b))+'...'),_0x4dc16a||(_0x4dc16a=_0x3de630===null);const _0x389e7d=_0x3de630[0x727*-0x1+0x1f*-0x7f+0x9*0x281];r_['lastIndex']=_0x3de630['index'];const _0x171c90=r_['exec'](_0x389e7d)[-0x1ba2+-0x1744+-0xa2e*-0x5];let _0x2e6d98=_0x389e7d['substring'](_0x171c90['length'])['trim']();_0x2e6d98===''&&(_0x2e6d98='true');const _0x39e44c=Lt['_keep'](_0x21e01a);let _0x2a513b=_0x46639b;if(_0x39e44c){const _0x13e9de=_0x171c90['startsWith']('{')&&_0x171c90['endsWith']('}');_0x13e9de&&(_0x2a513b=!(-0xa3*0x1+0x17ab+-0xb84*0x2)),_0x13e9de?_0x3e3c27['set'](_0x171c90,_0x2e6d98):_0x3e1afa['set'](_0x171c90,_0x2e6d98),_0x2a513b&&(_0xccdc4c=_0xccdc4c['substring'](0x2*0x3b3+-0x38f*0x9+0x18a1,_0x3de630['index']-(-0x7f*0x13+0x1319+0xa5*-0xf))+_0xccdc4c['substring'](Nd['lastIndex']),Fs['lastIndex']=_0x3de630['index']-(0x2660+-0x2*0x6ec+-0x1887));}w['trace'](Lr,_0x1d3a47+':\x20['+_0x171c90+']\x20'+_0x2e6d98+'\x20'+(_0x39e44c?'':'IGNORED')),_0x2a513b||(Fs['lastIndex']=_0x3de630['index']+_0x3de630[0x2d8*0x9+0x17*-0x11a+-0x42]['length']);break;}case'undef':{kd['lastIndex']=_0x4fcd91['index'];const _0x3782c9=kd['exec'](_0xccdc4c),_0x26cfac=_0x3782c9[0x219b+-0x174*-0x12+0x2*-0x1de1]['trim'](),_0x3bc528=Lt['_keep'](_0x21e01a);_0x3bc528&&(_0x3e1afa['delete'](_0x26cfac),_0x46639b&&(_0xccdc4c=_0xccdc4c['substring'](0xda5+-0x5*-0x505+0x12*-0x227,_0x3782c9['index']-(-0x11da+0x1cb9+-0x6b*0x1a))+_0xccdc4c['substring'](kd['lastIndex']),Fs['lastIndex']=_0x3782c9['index']-(-0x20b3+-0x253e+0xe*0x4ff))),w['trace'](Lr,_0x1d3a47+':\x20['+_0x26cfac+']\x20'+(_0x3bc528?'':'IGNORED')),_0x46639b||(Fs['lastIndex']=_0x3782c9['index']+_0x3782c9[-0x72b*-0x1+0xd03+0x6ba*-0x3]['length']);break;}case'extension':{i_['lastIndex']=_0x4fcd91['index'];const _0x125be4=i_['exec'](_0xccdc4c);if(w['assert'](_0x125be4,'Invalid\x20['+_0x1d3a47+']:\x20'+_0xccdc4c['substring'](_0x4fcd91['index'],_0x4fcd91['index']+(0x1f3e+-0x1*0x33f+-0x1b9b))+'...'),_0x4dc16a||(_0x4dc16a=_0x125be4===null),_0x125be4){const _0x3425e3=_0x125be4[0x364*0x5+-0x1ec3+0x110*0xd],_0x58a84b=Lt['_keep'](_0x21e01a);_0x58a84b&&_0x3e1afa['set'](_0x3425e3,'true'),w['trace'](Lr,_0x1d3a47+':\x20['+_0x3425e3+']\x20'+(_0x58a84b?'':'IGNORED'));}Fs['lastIndex']=_0x125be4['index']+_0x125be4[0x189a+-0xdaa+-0x64*0x1c]['length'];break;}case'ifdef':case'ifndef':case'if':{Ud['lastIndex']=_0x4fcd91['index'];const _0x228cc7=Ud['exec'](_0xccdc4c),_0x2a9e0f=_0x228cc7[0x5b*-0x5d+0x106*-0x17+-0x389b*-0x1],_0x45e4a1=Lt['evaluate'](_0x2a9e0f,_0x3e1afa);_0x4dc16a||(_0x4dc16a=_0x45e4a1['error']);let _0x33adcc=_0x45e4a1['result'];_0x1d3a47==='ifndef'&&(_0x33adcc=!_0x33adcc),_0x21e01a['push']({'anyKeep':_0x33adcc,'keep':_0x33adcc,'start':_0x4fcd91['index'],'end':Ud['lastIndex']}),w['trace'](Lr,_0x1d3a47+':\x20['+_0x2a9e0f+']\x20=>\x20'+_0x33adcc),Fs['lastIndex']=_0x228cc7['index']+_0x228cc7[-0x4c1*0x2+-0xd*-0x41+-0x1*-0x635]['length'];break;}case'endif':case'else':case'elif':{Bd['lastIndex']=_0x4fcd91['index'];const _0x1b0124=Bd['exec'](_0xccdc4c),_0x43a35d=_0x21e01a['pop']();if(!_0x43a35d){console['error']('Shader\x20pre'+'processing'+'\x20encounter'+'ed\x20\x22#'+_0x1b0124[0x57d+0x135c+0x27c*-0xa]+('\x22\x20without\x20'+'a\x20precedin'+'g\x20#if\x20#ifd'+'ef\x20#ifndef'+'\x20while\x20pre'+'processing'+'\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0xccdc4c['substring'](_0x4fcd91['index'],_0x4fcd91['index']+(-0x1774+0x74a+0x108e))+'...',{'source':_0x3b656}),_0x4dc16a=!(-0x8a+0x9*0x3d7+-0x2205);continue;}const _0x499a05=_0x43a35d['keep']?_0xccdc4c['substring'](_0x43a35d['end'],_0x4fcd91['index']):'';w['trace'](Lr,_0x1d3a47+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x499a05!=='')),_0xccdc4c=_0xccdc4c['substring'](0x14e*-0x1d+0x12e3*0x1+0x31*0x63,_0x43a35d['start'])+_0x499a05+_0xccdc4c['substring'](Bd['lastIndex']),Fs['lastIndex']=_0x43a35d['start']+_0x499a05['length'];const _0x253027=_0x1b0124[0xce4+0xb45+0x1*-0x1828];if(_0x253027==='else'||_0x253027==='elif'){let _0x4e720e=!(0x2182*0x1+0x7fa+-0x297b);if(!_0x43a35d['anyKeep']){if(_0x253027==='else')_0x4e720e=!_0x43a35d['keep'];else{const _0x9a552b=Lt['evaluate'](_0x1b0124[-0x17*0xd6+0x1*0x21b0+-0x94*0x19],_0x3e1afa);_0x4e720e=_0x9a552b['result'],_0x4dc16a||(_0x4dc16a=_0x9a552b['error']);}}_0x21e01a['push']({'anyKeep':_0x43a35d['anyKeep']||_0x4e720e,'keep':_0x4e720e,'start':Fs['lastIndex'],'end':Fs['lastIndex']}),w['trace'](Lr,_0x1d3a47+':\x20['+_0x1b0124[0x138b+-0x6*0x1d8+-0x879*0x1]+']\x20=>\x20'+_0x4e720e);}break;}case'include':{zd['lastIndex']=_0x4fcd91['index'];const _0xa90160=zd['exec'](_0xccdc4c);if(_0x4dc16a||(_0x4dc16a=_0xa90160===null),!_0xa90160){w['assert'](_0xa90160,'Invalid\x20['+_0x1d3a47+(']\x20while\x20pr'+'eprocessin'+'g\x20')+Lt['sourceName']+':\x0a'+_0xccdc4c['substring'](_0x4fcd91['index'],_0x4fcd91['index']+(-0x738+0x26e5+0x1*-0x1f49))+'...'),_0x4dc16a=!(0xb61+0x3*-0x571+0x4f2);continue;}const _0x475be0=_0xa90160[0x1292+0x264b+0xc*-0x4bd]['trim'](),_0x3b217b=(_0x325a8b=_0xa90160[-0x9*0x71+0x799*0x4+-0x1a69])==null?void(0x1f*0x3+0x1*0x424+0x481*-0x1):_0x325a8b['trim'](),_0x58bccc=Lt['_keep'](_0x21e01a);if(_0x58bccc){let _0x26ace0=_0x1f413f==null?void(-0x9*-0x6d+-0x6a*-0x4c+-0x50b*0x7):_0x1f413f['get'](_0x475be0);if(_0x26ace0!==void(-0x109a+-0xa2d+0x1ac7)){if(_0x26ace0=this['stripComme'+'nts'](_0x26ace0),_0x3b217b){const _0x4367e5=_0x3e1afa['get'](_0x3b217b),_0x3b37ae=parseFloat(_0x4367e5);if(Number['isInteger'](_0x3b37ae)){let _0x5e271a='';for(let _0x4723a5=0x1a80+0x12b*-0x19+0x2b3;_0x4723a5<_0x3b37ae;_0x4723a5++)_0x5e271a+=_0x26ace0['replace'](VT,String(_0x4723a5));_0x26ace0=_0x5e271a;}else console['error']('Include\x20Co'+'unt\x20identi'+'fier\x20\x22'+_0x3b217b+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0xccdc4c['substring'](_0x4fcd91['index'],_0x4fcd91['index']+(0x1*-0x263+-0x134d+0x1*0x1614))+'...',{'originalSource':_0x3b656,'source':_0xccdc4c}),_0x4dc16a=!(-0x2*0x107d+0xc1*-0x25+0x3cdf*0x1);}_0xccdc4c=_0xccdc4c['substring'](-0x24e3+-0x2709+0x4bec,_0xa90160['index']-(-0x1*0x71b+-0x16a4+0x38*0x88))+_0x26ace0+_0xccdc4c['substring'](zd['lastIndex']),Fs['lastIndex']=_0xa90160['index']-(-0x1*0x21bf+-0x2187+0x4347);}else{console['error']('Include\x20\x22'+_0x475be0+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName'],{'originalSource':_0x3b656,'source':_0xccdc4c}),_0x4dc16a=!(0x2544+0x1680+-0x3bc4);continue;}}w['trace'](Lr,_0x1d3a47+':\x20['+_0x475be0+']\x20'+(_0x58bccc?'':'IGNORED'));break;}}}return _0x21e01a['length']>-0x2430+-0x25b3+-0x3*-0x18a1&&(console['error']('Shader\x20pre'+'processing'+'\x20reached\x20t'+'he\x20end\x20of\x20'+'the\x20file\x20w'+'ithout\x20enc'+'ountering\x20'+'the\x20necess'+'ary\x20#endif'+'\x20to\x20close\x20'+'a\x20precedin'+'g\x20#if,\x20#if'+'def,\x20or\x20#i'+'fndef\x20bloc'+'k.\x20'+Lt['sourceName']),_0x4dc16a=!(0x35*0x5e+0x3c3*-0x2+-0xbf0)),_0x4dc16a?(console['error']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x3b656}),null):_0xccdc4c;}static['_keep'](_0x4cff1f){for(let _0xb07bcd=0x1*0x163a+-0x3*-0x6ab+-0x2a3b;_0xb07bcd<_0x4cff1f['length'];_0xb07bcd++)if(!_0x4cff1f[_0xb07bcd]['keep'])return!(-0x19a+0xbb+-0x8*-0x1c);return!(0x11*-0x13a+-0x1*0xa1+0x157b);}static['evaluateAt'+'omicExpres'+'sion'](_0xd18272,_0x4d8105){let _0x1beea7=!(0x1d3d*-0x1+0x2192+-0x115*0x4);_0xd18272=_0xd18272['trim']();let _0x15c5c0=!(-0xc24+-0x24c3+0x8*0x61d);if(_0xd18272==='true')return{'result':!(-0x134e+-0x2275*0x1+0x35c3*0x1),'error':_0x1beea7};if(_0xd18272==='false')return{'result':!(-0x3*0xed+0x2*0x223+-0x17e),'error':_0x1beea7};const _0x13affc=NT['exec'](_0xd18272);if(_0x13affc){_0x15c5c0=_0x13affc[-0x11ff*-0x1+0x1*0x1475+-0x2673*0x1]==='!',_0xd18272=_0x13affc[-0x24cb+0x1a88+0xa45]['trim']();const _0x231b54=_0x4d8105['has'](_0xd18272);return{'result':_0x15c5c0?!_0x231b54:_0x231b54,'error':_0x1beea7};}const _0x526074=BT['exec'](_0xd18272);if(_0x526074){const _0x6deb4=_0x4d8105['get'](_0x526074[-0x36*0xa2+-0x1*0x157+-0x2*-0x11c2]['trim']())??_0x526074[0x1*0xf95+-0xf39*-0x1+0x5*-0x629]['trim'](),_0x43f5ff=_0x4d8105['get'](_0x526074[0x4*-0x791+0x2040+-0x1*0x1f9]['trim']())??_0x526074[0x1eb8+0xfd4+-0x2e89]['trim'](),_0x59c5ed=_0x526074[-0x20*-0x88+-0x135e+0x260]['trim']();let _0x2f6767=!(-0x8a7+-0xcdf+0x1587);switch(_0x59c5ed){case'==':_0x2f6767=_0x6deb4===_0x43f5ff;break;case'!=':_0x2f6767=_0x6deb4!==_0x43f5ff;break;case'<':_0x2f6767=_0x6deb4<_0x43f5ff;break;case'<=':_0x2f6767=_0x6deb4<=_0x43f5ff;break;case'>':_0x2f6767=_0x6deb4>_0x43f5ff;break;case'>=':_0x2f6767=_0x6deb4>=_0x43f5ff;break;default:_0x1beea7=!(0xf3+-0x169f+-0x124*-0x13);}return{'result':_0x2f6767,'error':_0x1beea7};}return{'result':_0x4d8105['has'](_0xd18272),'error':_0x1beea7};}static['processPar'+'entheses'](_0x1ea7e5,_0x5d4daf){let _0x53437b=!(0x2337+-0x1b27+-0x80f),_0x59b3a9=_0x1ea7e5['trim']();for(;_0x59b3a9['startsWith']('(')&&_0x59b3a9['endsWith'](')');){let _0x2a2268=-0x5*-0x647+-0xa1c+-0x1547,_0x5be6b9=!(0x1*-0x24a3+-0x1925+-0xf72*-0x4);for(let _0x2a8da8=-0x25d5+-0xf8c+0xaad*0x5;_0x2a8da8<_0x59b3a9['length']-(-0x1*0x19e8+0x2184+-0x79b);_0x2a8da8++)if(_0x59b3a9[_0x2a8da8]==='(')_0x2a2268++;else{if(_0x59b3a9[_0x2a8da8]===')'&&(_0x2a2268--,_0x2a2268===0x13*0xfc+-0x2*-0x737+-0x1*0x2122)){_0x5be6b9=!(0x499+0xa43+-0xedb);break;}}if(_0x5be6b9)_0x59b3a9=_0x59b3a9['slice'](-0x6d9*-0x1+-0x1b5c+0x1484,-(-0x138*0x1+0x13b1*-0x1+-0xa75*-0x2))['trim']();else break;}for(;;){let _0x3a9a5f=!(-0x2*-0x12ba+0x4*0x989+-0x4b97),_0x3b9f9c=0x918+-0x1b*-0x25+0x455*-0x3,_0x1baa8a=-0xf9*-0x1b+0x8b+-0x1ace,_0x54fb9b=-(0xede+0xea3+-0x20*0xec),_0x2399a2=-(-0x2e7*-0x2+0x6*0x559+-0x3*0xca1),_0xaf8ef3=0x8dd+-0x26b*0x1+-0x672;for(let _0x3819d5=-0x225d+0x204a+0x213;_0x3819d5<_0x59b3a9['length'];_0x3819d5++)if(_0x59b3a9[_0x3819d5]==='('){const _0x518ff8=_0x59b3a9['substring'](0x8d9+-0x11cc+0x1*0x8f3,_0x3819d5);UT['test'](_0x518ff8)?_0xaf8ef3++:_0xaf8ef3===-0x1*0xdc4+-0x83*0x2f+0x3*0xc9b&&(_0x3b9f9c++,_0x3b9f9c>_0x1baa8a&&(_0x1baa8a=_0x3b9f9c,_0x54fb9b=_0x3819d5),_0x3a9a5f=!(-0x1099+0x397*0x1+0xd02));}else _0x59b3a9[_0x3819d5]===')'&&(_0xaf8ef3>0x3*0xb7+-0x26c6+-0x1*-0x24a1?_0xaf8ef3--:_0x3b9f9c>0x1c1*-0x8+-0x25e0+0x33e8&&(_0x3b9f9c===_0x1baa8a&&_0x54fb9b!==-(0x22ec+-0x5*0x19f+-0x1ad0)&&(_0x2399a2=_0x3819d5),_0x3b9f9c--));if(!_0x3a9a5f||_0x54fb9b===-(-0x31*-0x8+-0x1d46+0x1bbf)||_0x2399a2===-(-0x7*0x3a9+-0x1369+-0x3f*-0xb7))break;const _0x207454=_0x59b3a9['substring'](_0x54fb9b+(-0x1*0x2180+0x13b8+0xdc9*0x1),_0x2399a2),{result:_0x1c8050,error:_0x1930fe}=Lt['evaluate'](_0x207454,_0x5d4daf);_0x53437b=_0x53437b||_0x1930fe,_0x59b3a9=_0x59b3a9['substring'](-0x347*0x4+0x791+0x58b,_0x54fb9b)+(_0x1c8050?'true':'false')+_0x59b3a9['substring'](_0x2399a2+(0x784+0x8b1+-0x1034));}return{'expression':_0x59b3a9,'error':_0x53437b};}static['evaluate'](_0x51539f,_0x31e71b){const _0x420951=zT['exec'](_0x51539f)===null;w['assert'](_0x420951,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x51539f);let _0x35f204=_0x51539f,_0x528d30=!(-0x1ba*0x5+-0x67e+0xf21*0x1);if(_0x51539f['replace'](kT,'')['indexOf']('(')!==-(0x161a+-0x1109+-0x10*0x51)){const _0x4f61cf=Lt['processPar'+'entheses'](_0x51539f,_0x31e71b);_0x35f204=_0x4f61cf['expression'],_0x528d30=_0x4f61cf['error'];}if(_0x528d30)return w['log']('Parenthesi'+'s\x20parsing\x20'+'error\x20in\x20e'+'xpression:'+'\x20\x22'+_0x51539f+'\x22'),{'result':!(-0x119f*-0x1+0x6f7+0x7*-0x383),'error':!(-0x2*-0xc6f+-0x2*0xdfb+-0x1*-0x318)};const _0x144484=_0x35f204['split']('||');for(const _0x45a1c2 of _0x144484){const _0x344c2f=_0x45a1c2['split']('&&');let _0x46bce4=!(0x24e7+0x103c+-0x3523*0x1);for(const _0x5d9ae1 of _0x344c2f){const {result:_0x492c6c,error:_0xb96a13}=Lt['evaluateAt'+'omicExpres'+'sion'](_0x5d9ae1['trim'](),_0x31e71b);if(!_0x492c6c||_0xb96a13){_0x46bce4=!(0x10*0x1e1+-0x1*0x2691+0x882);break;}}if(_0x46bce4)return{'result':!(0x232f+-0x1ff8+-0x337),'error':!_0x420951};}return{'result':!(-0x159e+-0x1130*0x2+0x3d*0xeb),'error':!_0x420951};}};h(Lt,'sourceName');let ko=Lt;const Vy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pcFragCo'+'lor0;\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_1\x0a'+'layout(loc'+'ation\x20=\x201)'+'\x20out\x20highp'+'\x20outType_1'+'\x20pcFragCol'+'or1;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_2\x0alayo'+'ut(locatio'+'n\x20=\x202)\x20out'+'\x20highp\x20out'+'Type_2\x20pcF'+'ragColor2;'+'\x0a#endif\x0a\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'3\x0alayout(l'+'ocation\x20=\x20'+'3)\x20out\x20hig'+'hp\x20outType'+'_3\x20pcFragC'+'olor3;\x0a#en'+'dif\x0a\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'cFragColor'+'4;\x0a#endif\x0a'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_5\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0a#'+'endif\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_6\x0a'+'layout(loc'+'ation\x20=\x206)'+'\x20out\x20highp'+'\x20outType_6'+'\x20pcFragCol'+'or6;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_7\x0alayo'+'ut(locatio'+'n\x20=\x207)\x20out'+'\x20highp\x20out'+'Type_7\x20pcF'+'ragColor7;'+'\x0a#endif\x0a\x0a#'+'define\x20gl_'+'FragColor\x20'+'pcFragColo'+'r0\x0a\x0a#defin'+'e\x20varying\x20'+'in\x0a\x0a#defin'+'e\x20texture2'+'D\x20texture\x0a'+'#define\x20te'+'xture2DBia'+'s\x20texture\x0a'+'#define\x20te'+'xtureCube\x20'+'texture\x0a#d'+'efine\x20text'+'ure2DProj\x20'+'texturePro'+'j\x0a#define\x20'+'texture2DL'+'od\x20texture'+'Lod\x0a#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a#defin'+'e\x20textureC'+'ubeLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+('ure2DGrad\x20'+'textureGra'+'d\x0a#define\x20'+'texture2DP'+'rojGrad\x20te'+'xtureProjG'+'rad\x0a#defin'+'e\x20textureC'+'ubeGrad\x20te'+'xtureGrad\x0a'+'#define\x20ut'+'exture2D\x20t'+'exture\x0a#de'+'fine\x20itext'+'ure2D\x20text'+'ure\x0a\x0a//\x20de'+'precated\x20d'+'efines\x0a#de'+'fine\x20textu'+'re2DLodEXT'+'\x20texture2D'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DProjLodE'+'XT\x20texture'+'2DProjLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DP'+'rojLod\x0a#de'+'fine\x20textu'+'reCubeLodE'+'XT\x20texture'+'CubeLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeL'+'od_instead'+'\x0a#define\x20t'+'exture2DGr'+'adEXT\x20text'+'ure2DGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DG'+'rad_instea'+'d\x0a#define\x20'+'texture2DP'+'rojGradEXT'+'\x20texture2D'+'ProjGradEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DPr'+'ojGrad_ins'+'tead\x0a#defi'+'ne\x20texture'+'CubeGradEX'+'T\x20textureC'+'ubeGradEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeG'+'rad_instea'+'d\x0a\x0a//\x20samp'+'le\x20shadows'+'\x20using\x20tex'+'tureGrad\x20t'+'o\x20remove\x20d'+'erivatives'+'\x20in\x20the\x20dy'+'namic\x20loop'+'s\x20(which\x20a'+'re\x20used\x20by'+'\x0a//\x20cluste'+'red\x20lighti'+'ng)\x20-\x20as\x20D'+'irectX\x20sha'+'der\x20compil'+'er\x20tries\x20t'+'o\x20unroll\x20t'+'he\x20loops\x20a'+'nd\x20takes\x20l'+'ong\x20time\x0a/'+'/\x20to\x20compi'+'le\x20the\x20sha'+'der.\x20Using'+'\x20textureLo'+'d\x20would\x20be'+'\x20even\x20bett')+('er,\x20but\x20We'+'bGl\x20does\x20n'+'ot\x20transla'+'te\x20it\x20to\x0a/'+'/\x20lod\x20inst'+'ruction\x20fo'+'r\x20DirectX\x20'+'correctly\x20'+'and\x20uses\x20S'+'ampleCmp\x20i'+'nstead\x20of\x20'+'SampleCmpL'+'evelZero\x20o'+'r\x20similar.'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureG'+'rad(res,\x20u'+'v,\x20vec2(1,'+'\x201),\x20vec2('+'1,\x201))\x0a\x0a//'+'\x20pass\x20/\x20ac'+'cept\x20shado'+'w\x20map\x20or\x20t'+'exture\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20on\x20webgl'+'\x20this\x20is\x20s'+'imply\x20pass'+'ed\x20as\x20is\x0a/'+'/\x20but\x20this'+'\x20is\x20needed'+'\x20for\x20WebGP'+'U\x0a#define\x20'+'SHADOWMAP_'+'PASS(name)'+'\x20name\x0a#def'+'ine\x20SHADOW'+'MAP_ACCEPT'+'(name)\x20sam'+'pler2DShad'+'ow\x20name\x0a#d'+'efine\x20TEXT'+'URE_PASS(n'+'ame)\x20name\x0a'+'#define\x20TE'+'XTURE_ACCE'+'PT(name)\x20s'+'ampler2D\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP(name)\x20h'+'ighp\x20sampl'+'er2D\x20name\x0a'+'\x0a#define\x20G'+'L2\x0a'),Gy='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',Hy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pcFragColo'+'r0;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pcFra'+'gColor1;\x0al'+'ayout(loca'+'tion\x20=\x202)\x20'+'out\x20highp\x20'+'outType_2\x20'+'pcFragColo'+'r2;\x0alayout'+'(location\x20'+'=\x203)\x20out\x20h'+'ighp\x20outTy'+'pe_3\x20pcFra'+'gColor3;\x0al'+'ayout(loca'+'tion\x20=\x204)\x20'+'out\x20highp\x20'+'outType_4\x20'+'pcFragColo'+'r4;\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0al'+'ayout(loca'+'tion\x20=\x206)\x20'+'out\x20highp\x20'+'outType_6\x20'+'pcFragColo'+'r6;\x0alayout'+'(location\x20'+'=\x207)\x20out\x20h'+'ighp\x20outTy'+'pe_7\x20pcFra'+'gColor7;\x0a\x0a'+'#define\x20gl'+'_FragColor'+'\x20pcFragCol'+'or0\x0a\x0a#defi'+'ne\x20texture'+'2D(res,\x20uv'+')\x20texture('+'sampler2D('+('res,\x20res\x20#'+'#\x20_sampler'+'),\x20uv)\x0a#de'+'fine\x20textu'+'re2DBias(r'+'es,\x20uv,\x20bi'+'as)\x20textur'+'e(sampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv,\x20b'+'ias)\x0a#defi'+'ne\x20texture'+'2DLod(res,'+'\x20uv,\x20lod)\x20'+'textureLod'+'(sampler2D'+'(res,\x20res\x20'+'##\x20_sample'+'r),\x20uv,\x20lo'+'d)\x0a#define'+'\x20textureCu'+'be(res,\x20uv'+')\x20texture('+'samplerCub'+'e(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a#'+'define\x20tex'+'tureCubeLo'+'d(res,\x20uv,'+'\x20lod)\x20text'+'ureLod(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20lod)'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureL'+'od(sampler'+'2DShadow(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x200.0)'+'\x0a#define\x20i'+'texture2D('+'res,\x20uv)\x20t'+'exture(isa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv)\x0a#defi'+'ne\x20utextur'+'e2D(res,\x20u'+'v)\x20texture'+'(usampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a\x0a'+'//\x20depreca'+'ted\x20define'+'s\x0a#define\x20'+'texture2DL'+'odEXT\x20text'+'ure2DLodEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DLo'+'d_instead\x0a'+'#define\x20te'+'xture2DPro'+'jLodEXT\x20te'+'xture2DPro'+'jLodEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DProjLo'+'d\x0a#define\x20'+'textureCub'+'eLodEXT\x20te'+'xtureCubeL'+'odEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeLod_in'+'stead\x0a#def'+'ine\x20textur'+'e2DGradEXT'+'\x20texture2D'+'GradEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DGrad_i'+'nstead\x0a#de')+('fine\x20textu'+'re2DProjGr'+'adEXT\x20text'+'ure2DProjG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjGra'+'d_instead\x0a'+'#define\x20te'+'xtureCubeG'+'radEXT\x20tex'+'tureCubeGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeGrad_i'+'nstead\x0a\x0a//'+'\x20TODO:\x20imp'+'lement\x20oth'+'er\x20texture'+'\x20sampling\x20'+'macros\x0a//\x20'+'#define\x20te'+'xture2DPro'+'j\x20textureP'+'roj\x0a//\x20#de'+'fine\x20textu'+'re2DProjLo'+'d\x20textureP'+'rojLod\x0a//\x20'+'#define\x20te'+'xture2DGra'+'d\x20textureG'+'rad\x0a//\x20#de'+'fine\x20textu'+'re2DProjGr'+'ad\x20texture'+'ProjGrad\x0a/'+'/\x20#define\x20'+'textureCub'+'eGrad\x20text'+'ureGrad\x0a\x0a/'+'/\x20pass\x20/\x20a'+'ccept\x20shad'+'ow\x20map\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20passes\x20b'+'oth\x20the\x20te'+'xture\x20as\x20w'+'ell\x20as\x20sam'+'pler\x0a//\x20as'+'\x20the\x20combi'+'ned\x20sample'+'r\x20can\x20be\x20o'+'nly\x20create'+'d\x20at\x20a\x20poi'+'nt\x20of\x20use\x0a'+'#define\x20SH'+'ADOWMAP_PA'+'SS(name)\x20n'+'ame,\x20name\x20'+'##\x20_sample'+'r\x0a#define\x20'+'SHADOWMAP_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'PASS(name)'+'\x20name,\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP\x20TEXTURE'+'_ACCEPT\x0a\x0a#'+'define\x20GL2'+'\x0a#define\x20W'+'EBGPU\x0a'),Wy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',$y='\x0a',Xy='\x0a#define\x20V'+'ERTEXSHADE'+'R\x0a',n_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',o_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20fo'+'r\x20sampling'+'\x20scene\x20gra'+'b\x20textures'+'\x0afn\x20getGra'+'bScreenPos'+'(clipPos:\x20'+'vec4<f32>)'+'\x20->\x20vec2<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'var\x20uv:\x20ve'+'c2<f32>\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x20vec2<f3'+'2>(0.5);\x0a\x20'+'\x20\x20\x20uv.y\x20=\x20'+'1.0\x20-\x20uv.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'//\x20convert'+'\x20uv\x20coordi'+'nates\x20to\x20s'+'ample\x20imag'+'e\x20effect\x20t'+'exture\x20(re'+'nder\x20targe'+'t\x20texture\x20'+'rendered\x20w'+'ithout\x0a//\x20'+'forward\x20re'+'nderer\x20whi'+'ch\x20does\x20th'+'e\x20flip\x20in\x20'+'the\x20projec'+'tion\x20matri'+'x)\x0afn\x20getI'+'mageEffect'+'UV(uv:\x20vec'+'2<f32>)\x20->'+'\x20vec2<f32>'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20modifiedU'+'V:\x20vec2<f3'+'2>\x20=\x20uv;\x0a\x20'+'\x20\x20\x20modifie'+'dUV.y\x20=\x201.'+'0\x20-\x20modifi'+'edUV.y;\x0a\x20\x20'+'\x20\x20return\x20m'+'odifiedUV;'+'\x0a}\x0a\x0a//\x20typ'+'es\x20wrapped'+'\x20in\x20size\x20a'+'ligned\x20str'+'uctures\x20to'+'\x20ensure\x20co'+'rrect\x20alig'+'nment\x20in\x20u'+'niform\x20buf'+'fer\x20arrays'+'\x0astruct\x20Wr'+'appedF32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'f32\x20}\x0astru'+'ct\x20Wrapped'+'I32\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20i32\x20}'+'\x0astruct\x20Wr'+'appedU32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'u32\x20}\x0astru'+'ct\x20Wrapped'+'Vec2F\x20{\x20@s'+'ize(16)\x20el'+'ement:\x20vec'+'2f\x20}\x0astruc'+'t\x20WrappedV'+'ec2I\x20{\x20@si'+'ze(16)\x20ele'+'ment:\x20vec2'+'i\x20}\x0astruct'+'\x20WrappedVe'+'c2U\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20vec2u'+'\x20}\x0a',GT={'vertex_position':Me,'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_texCoord2':wl,'vertex_texCoord3':El,'vertex_texCoord4':bl,'vertex_texCoord5':Al,'vertex_texCoord6':Cl,'vertex_texCoord7':Pl,'vertex_color':Wt,'vertex_boneIndices':us,'vertex_boneWeights':gi};class Jt{static['createDefi'+'nition'](_0x90b009,_0x5bd07d){w['assert'](_0x5bd07d),w['assert'](!_0x5bd07d['vertexDefi'+'nes']||_0x5bd07d['vertexDefi'+'nes']instanceof Map),w['assert'](!_0x5bd07d['vertexIncl'+'udes']||_0x5bd07d['vertexIncl'+'udes']instanceof Map),w['assert'](!_0x5bd07d['fragmentDe'+'fines']||_0x5bd07d['fragmentDe'+'fines']instanceof Map),w['assert'](!_0x5bd07d['fragmentIn'+'cludes']||_0x5bd07d['fragmentIn'+'cludes']instanceof Map);const _0x19bffe=_0x1eee89=>{let _0x4cda9d=_0x1eee89['fragmentOu'+'tputTypes']??'vec4';return Array['isArray'](_0x4cda9d)||(_0x4cda9d=[_0x4cda9d]),_0x4cda9d;},_0x14ec08=(_0x609dd1,_0x4dd6f2,_0x192234,_0x36deb8)=>{const _0x426d20=_0x90b009['isWebGPU']?_0x609dd1:_0x4dd6f2;let _0x2a237b='';if(!_0x192234){const _0x5473d0=_0x19bffe(_0x36deb8);for(let _0x4a217d=-0x1433+0x1742*0x1+-0x30f;_0x4a217d<_0x90b009['maxColorAt'+'tachments'];_0x4a217d++){_0x2a237b+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x4a217d+'\x0a';const _0x436ca0=_0x5473d0[_0x4a217d]??'vec4';_0x2a237b+='#define\x20ou'+'tType_'+_0x4a217d+'\x20'+_0x436ca0+'\x0a';}}return _0x2a237b+_0x426d20;},_0x1b2e8a=(_0x250b52,_0x25c1a2)=>{let _0x12981f='';if(!_0x250b52){const _0x2b8595=_0x19bffe(_0x25c1a2);for(let _0x1db020=-0x29c+-0x25b8+0x2854;_0x1db020<_0x90b009['maxColorAt'+'tachments'];_0x1db020++){const _0x189202=_0x2b8595[_0x1db020]??'vec4',_0x286c33=Fy['get'](_0x189202);w['assert'](_0x286c33,'Unknown\x20ou'+'tput\x20type\x20'+'translatio'+'n:\x20'+_0x189202+'\x20->\x20'+_0x286c33),_0x12981f+='alias\x20pcOu'+'tType'+_0x1db020+'\x20=\x20'+_0x286c33+';\x0a';}}return _0x12981f;},_0x3aae4b=_0x5bd07d['name']??'Untitled';let _0xba9da5,_0x3cc39a;const _0x432ad0=Jt['getDefines'+'Code'](_0x90b009,_0x5bd07d['vertexDefi'+'nes']),_0x5a030b=Jt['getDefines'+'Code'](_0x90b009,_0x5bd07d['fragmentDe'+'fines']);return _0x5bd07d['shaderLang'+'uage']===it?(_0xba9da5='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x1b2e8a(!(0xf67+0xa6*-0x2c+0xd21*0x1),_0x5bd07d)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Xy+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x432ad0+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x5bd07d['vertexCode']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'),_0x3cc39a='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x1b2e8a(!(0x1*0x541+-0x406+0x1*-0x13a),_0x5bd07d)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+$y+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x5a030b+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x5bd07d['fragmentCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')):(w['assert'](_0x5bd07d['vertexCode']),_0xba9da5=Jt['versionCod'+'e'](_0x90b009)+_0x14ec08(Wy,Gy,!(0xa1*0x7+0x173a*-0x1+0x12d3),_0x5bd07d)+_0x432ad0+Jt['precisionC'+'ode'](_0x90b009)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x3aae4b)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x5bd07d['vertexCode'],w['assert'](_0x5bd07d['fragmentCo'+'de']),_0x3cc39a=(_0x5bd07d['fragmentPr'+'eamble']||'')+Jt['versionCod'+'e'](_0x90b009)+_0x14ec08(Hy,Vy,!(-0x153e+-0x691*-0x1+-0xeae*-0x1),_0x5bd07d)+_0x5a030b+Jt['precisionC'+'ode'](_0x90b009)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x3aae4b)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x5bd07d['fragmentCo'+'de']),{'name':_0x3aae4b,'shaderLanguage':_0x5bd07d['shaderLang'+'uage']??Fe,'attributes':_0x5bd07d['attributes'],'vshader':_0xba9da5,'vincludes':_0x5bd07d['vertexIncl'+'udes'],'fincludes':_0x5bd07d['fragmentIn'+'cludes'],'fshader':_0x3cc39a,'useTransformFeedback':_0x5bd07d['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x5bd07d['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x5bd07d['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x154df8,_0x5068d8){let _0x4de2f3='';return _0x154df8['capsDefine'+'s']['forEach']((_0x504dce,_0x4bf9f5)=>{_0x4de2f3+='#define\x20'+_0x4bf9f5+'\x20'+_0x504dce+'\x0a';}),_0x4de2f3+='\x0a',_0x5068d8==null||_0x5068d8['forEach']((_0x9bae9f,_0x1d3199)=>{_0x4de2f3+='#define\x20'+_0x1d3199+'\x20'+_0x9bae9f+'\x0a';}),_0x4de2f3+='\x0a',_0x4de2f3;}static['getShaderN'+'ameCode'](_0x433218){return'#define\x20SH'+'ADER_NAME\x20'+_0x433218+'\x0a';}static['versionCod'+'e'](_0x1101b3){return _0x1101b3['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x373ec3,_0x338118){_0x338118&&_0x338118!=='highp'&&_0x338118!=='mediump'&&_0x338118!=='lowp'&&(_0x338118=null),_0x338118&&(_0x338118==='highp'&&_0x373ec3['maxPrecisi'+'on']!=='highp'&&(_0x338118='mediump'),_0x338118==='mediump'&&_0x373ec3['maxPrecisi'+'on']==='lowp'&&(_0x338118='lowp'));const _0x3acf76=_0x338118||_0x373ec3['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x3acf76+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x3acf76+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x3acf76+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x3acf76+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x3acf76+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x3acf76+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x3acf76+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x2ed0dc){const _0x29be4c={};let _0x319767=0xed*0x29+-0x1*0x24e6+-0x1*0x10f,_0x551b1a=_0x2ed0dc['indexOf']('attribute');for(;_0x551b1a>=0x4*0x67a+-0x1*0x6e3+-0x1305&&!(_0x551b1a>-0x5d0*0x1+0x2d6+-0x1*-0x2fa&&_0x2ed0dc[_0x551b1a-(0x12d8+-0x3*-0x1cc+0x183b*-0x1)]==='/');){let _0x1bd571=!(-0x17eb+0x1e55*0x1+-0x669);if(_0x551b1a>-0x2ff*0xb+-0x1*-0x9f4+-0x1c5*-0xd){let _0x32b3a8=_0x2ed0dc['lastIndexO'+'f']('\x0a',_0x551b1a);_0x32b3a8=_0x32b3a8!==-(0x139*-0x1+0x6b*-0x2d+0x1409)?_0x32b3a8+(0x25cd*-0x1+-0xf81+-0x3*-0x11c5):0x5*-0x14b+-0x7*0x502+0x2985,_0x2ed0dc['substring'](_0x32b3a8,_0x551b1a)['includes']('#')&&(_0x1bd571=!(-0x120*0x6+-0xa3+0x763));}if(!_0x1bd571){const _0x15555e=_0x2ed0dc['indexOf'](';',_0x551b1a),_0x21b1fe=_0x2ed0dc['lastIndexO'+'f']('\x20',_0x15555e),_0x423ab9=_0x2ed0dc['substring'](_0x21b1fe+(-0x2bc*0x3+-0x23d9+0x2c0e),_0x15555e);if(_0x29be4c[_0x423ab9])w['warn']('Attribute\x20'+'['+_0x423ab9+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x2ed0dc});else{const _0x490148=GT[_0x423ab9];_0x490148!==void(0x7c*0x3d+-0x1*-0x19c5+-0x77*0x77)?_0x29be4c[_0x423ab9]=_0x490148:(_0x29be4c[_0x423ab9]='ATTR'+_0x319767,_0x319767++);}}_0x551b1a=_0x2ed0dc['indexOf']('attribute',_0x551b1a+(-0x1f97+-0x19e9*0x1+0x3981));}return _0x29be4c;}}let HT=0x237e+0x21fa+-0x98*0x75;class qy{constructor(_0x295142,_0x3b6d3f){h(this,'meshUnifor'+'mBufferFor'+'mat'),h(this,'meshBindGr'+'oupFormat'),h(this,'attributes',new Map());if(this['id']=HT++,this['device']=_0x295142,this['definition']=_0x3b6d3f,this['name']=_0x3b6d3f['name']||'Untitled',this['init'](),_0x3b6d3f['cshader'])w['assert'](_0x295142['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),w['assert'](!_0x3b6d3f['vshader']&&!_0x3b6d3f['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.'),_0x3b6d3f['cshader']=ko['run'](_0x3b6d3f['cshader'],_0x3b6d3f['cincludes'],{'sourceName':'compute\x20sh'+'ader\x20for\x20'+this['label'],'stripDefines':!(-0x15c*-0x18+0x1a7b+-0x3b1b)});else{w['assert'](_0x3b6d3f['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),w['assert'](_0x3b6d3f['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),w['call'](()=>{this['vUnmodifie'+'d']=_0x3b6d3f['vshader'],this['fUnmodifie'+'d']=_0x3b6d3f['fshader'];});const _0x5c54f2=_0x3b6d3f['shaderLang'+'uage']===it;_0x3b6d3f['vshader']=ko['run'](_0x3b6d3f['vshader'],_0x3b6d3f['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label'],'stripDefines':_0x5c54f2}),_0x3b6d3f['shaderLang'+'uage']===Fe&&(_0x3b6d3f['attributes']??(_0x3b6d3f['attributes']=Jt['collectAtt'+'ributes'](_0x3b6d3f['vshader'])));const _0x4acfa8=_0x295142['isWebGL2']&&(Ae['name']==='osx'||Ae['name']==='ios');if(_0x3b6d3f['fshader']=ko['run'](_0x3b6d3f['fshader'],_0x3b6d3f['fincludes'],{'stripUnusedColorAttachments':_0x4acfa8,'stripDefines':_0x5c54f2,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']}),!_0x3b6d3f['vshader']||!_0x3b6d3f['fshader']){w['error']('Shader:\x20Fa'+'iled\x20to\x20cr'+'eate\x20shade'+'r\x20'+this['label']+('.\x20Vertex\x20o'+'r\x20fragment'+'\x20shader\x20so'+'urce\x20is\x20em'+'pty.'),this),this['failed']=!(-0x248e+0x1967+0x5*0x23b);return;}}this['impl']=_0x295142['createShad'+'erImpl'](this),w['trace'](Im,'Alloc:\x20'+this['label']+',\x20stack:\x20'+Q['toString'](),{'instance':this});}['init'](){this['ready']=!(0x8f*-0x3b+0xd79*-0x1+-0x2e6f*-0x1),this['failed']=!(0x1d39+-0x1e75+-0x13d*-0x1);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20('+(this['definition']['shaderLang'+'uage']===it?'WGSL':'GLSL')+')\x20'+this['name'];}['destroy'](){w['trace'](Im,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class WT{constructor(){h(this,'storage'),h(this,'gpuBuffer'),h(this,'offset');}}const Be=[];Be[Xs]=function(_0x1b1d63,_0x477bd1,_0x2e7229){const _0x2926b4=_0x1b1d63['storageFlo'+'at32'];_0x2926b4[_0x2e7229]=_0x477bd1;},Be[ga]=(_0x56821b,_0x2f926f,_0x55d38b)=>{const _0x144fb7=_0x56821b['storageFlo'+'at32'];_0x144fb7[_0x55d38b]=_0x2f926f[0x264+0x7a9+0x1*-0xa0d],_0x144fb7[_0x55d38b+(0x26e1+-0x1*-0x1a7b+-0x415b)]=_0x2f926f[0x74f*-0x2+-0xa9*-0x33+0x6a*-0x2e];},Be[ds]=(_0xb52936,_0x2d03c6,_0x34f248)=>{const _0x22ec00=_0xb52936['storageFlo'+'at32'];_0x22ec00[_0x34f248]=_0x2d03c6[-0xd*0x155+-0x27d*0x1+0x13ce],_0x22ec00[_0x34f248+(0x2637+0x1565*0x1+-0x1*0x3b9b)]=_0x2d03c6[-0x1d27+-0x2544+0x589*0xc],_0x22ec00[_0x34f248+(-0x2*0xb17+0xa55*0x2+-0x1a*-0xf)]=_0x2d03c6[-0x25b9+0xa8f+0x25*0xbc];},Be[Rn]=(_0x1b9728,_0xbcedde,_0x5c53bc)=>{const _0x5c5c8b=_0x1b9728['storageFlo'+'at32'];_0x5c5c8b[_0x5c53bc]=_0xbcedde[-0x21f8+0x1723+0xad5],_0x5c5c8b[_0x5c53bc+(0x8ae*0x1+-0x3d2+0x1*-0x4db)]=_0xbcedde[0x1*0x1e5d+-0x7*0x376+-0x9d*0xa],_0x5c5c8b[_0x5c53bc+(-0x6*-0x3a9+0x175+0x1769*-0x1)]=_0xbcedde[-0x4c*0x67+-0x1cce+0x3b64],_0x5c5c8b[_0x5c53bc+(0x12a0+-0x20be+0xe21)]=_0xbcedde[-0x1*0x1c8f+0x272*-0x1+0x1f04];},Be[_a]=function(_0x36d6d0,_0x3440a5,_0x1580e9){const _0x44ccb9=_0x36d6d0['storageInt'+'32'];_0x44ccb9[_0x1580e9]=_0x3440a5;},Be[ca]=function(_0x31a2e7,_0x51cef8,_0x131dec){const _0x7b9089=_0x31a2e7['storageInt'+'32'];_0x7b9089[_0x131dec]=_0x51cef8[0x1b19+-0x22e6+0x7cd],_0x7b9089[_0x131dec+(0x1*0x20ff+-0x26cc+0x5ce)]=_0x51cef8[-0x83*0x3+0x211e+-0x4*0x7e5];},Be[ha]=function(_0xd1443d,_0x1542b7,_0x5c6fac){const _0x1558c9=_0xd1443d['storageInt'+'32'];_0x1558c9[_0x5c6fac]=_0x1542b7[0xc*0x7e+-0xb96*-0x1+-0x117e],_0x1558c9[_0x5c6fac+(0x1bf3+-0x1*0x1da3+0x1b1)]=_0x1542b7[-0x463*0x2+-0xdc7+0x168e],_0x1558c9[_0x5c6fac+(0x4*0x374+0x14e5*0x1+0x149*-0x1b)]=_0x1542b7[-0x522+0x20ed*0x1+-0x1bc9];},Be[da]=function(_0x15a897,_0x259ac6,_0x555ec1){const _0x5328e1=_0x15a897['storageInt'+'32'];_0x5328e1[_0x555ec1]=_0x259ac6[-0xc05*-0x3+-0xdec+-0x1623],_0x5328e1[_0x555ec1+(-0x460+-0x972+0xdd3*0x1)]=_0x259ac6[0x259e+0x17ea+-0x3d87],_0x5328e1[_0x555ec1+(-0x245a+-0x1180+0x35dc)]=_0x259ac6[0x2*-0x1166+-0x250+-0x1*-0x251e],_0x5328e1[_0x555ec1+(0x12ab+-0x1568+0x2c0)]=_0x259ac6[0xb*-0x256+0x5e*-0x7+0x1*0x1c47];},Be[_h]=(_0x3af803,_0xbb3c92,_0x2f82ba)=>{const _0x3582db=_0x3af803['storageFlo'+'at32'];_0x3582db[_0x2f82ba]=_0xbb3c92[0x2*0xddb+0x1*-0x15bf+-0x5f7],_0x3582db[_0x2f82ba+(0x19*0x14f+-0x2486+0x1*0x3d0)]=_0xbb3c92[0xa37+-0x46f*0x3+0x71*0x7],_0x3582db[_0x2f82ba+(-0x1*-0x1364+-0x7d0+-0xb90)]=_0xbb3c92[-0xa21+-0x1*-0x2ff+0x1*0x724],_0x3582db[_0x2f82ba+(0xdb*-0x12+0x1a66+-0xafb)]=_0xbb3c92[0x16df+0x17*0x1+-0x7d*0x2f],_0x3582db[_0x2f82ba+(-0x1137*-0x1+0x1243+-0x15d*0x1a)]=_0xbb3c92[0x275*0x5+-0xa6d*0x1+-0x8*0x3b],_0x3582db[_0x2f82ba+(0x15e0+-0x2*-0xf16+-0x3403)]=_0xbb3c92[-0x10a8+0x11ce+0x121*-0x1];},Be[On]=(_0x3f5037,_0x2b154e,_0x491afb)=>{const _0x10c1a6=_0x3f5037['storageFlo'+'at32'];_0x10c1a6[_0x491afb]=_0x2b154e[-0x1dcf*0x1+-0x3*-0xb89+-0x4cc],_0x10c1a6[_0x491afb+(-0x969+-0xf49+0x18b3)]=_0x2b154e[-0x2123+-0xb*0xc+0x21a8],_0x10c1a6[_0x491afb+(0x140*0xe+-0x923+-0x85b)]=_0x2b154e[-0x1*0xabd+-0x1*0x5b3+-0x1072*-0x1],_0x10c1a6[_0x491afb+(0x5*-0x2ab+-0x1*0x1c13+0x296e)]=_0x2b154e[-0xab*0xd+-0xc64+0x1*0x1516],_0x10c1a6[_0x491afb+(-0xaf4*0x2+0xc*0x15b+0x1*0x5a9)]=_0x2b154e[0x89a+-0x17*-0x113+-0x9*0x3b3],_0x10c1a6[_0x491afb+(-0x1fa1+-0x7c7*0x4+-0x3ec3*-0x1)]=_0x2b154e[0xb*0x351+0x3*-0xacb+-0x415*0x1],_0x10c1a6[_0x491afb+(0x11ea+-0x211c+0x2*0x79d)]=_0x2b154e[0x1*0x59e+-0x16*0x10e+0x2*0x8ce],_0x10c1a6[_0x491afb+(-0xd9*0x1a+0x59*-0x36+0x28d9)]=_0x2b154e[0xc11*0x2+-0x22e4+-0xac9*-0x1],_0x10c1a6[_0x491afb+(0xfdf+-0x1a42+0xa6d)]=_0x2b154e[-0x1*-0xc59+0x204b+-0x2c9c];},Be[ud]=function(_0x2bebb7,_0x4cef32,_0x3672d3,_0x590f53){const _0x43bd75=_0x2bebb7['storageFlo'+'at32'];for(let _0x1a8a2a=0x58f+-0x46c*0x6+0x14f9;_0x1a8a2a<_0x590f53;_0x1a8a2a++)_0x43bd75[_0x3672d3+_0x1a8a2a*(-0x1193+0x11f3+-0x5c)]=_0x4cef32[_0x1a8a2a];},Be[pd]=(_0x3c5247,_0xba45ea,_0x518a81,_0x92d7f0)=>{const _0x90a709=_0x3c5247['storageFlo'+'at32'];for(let _0x120852=0x1f8e+-0x1ec5+-0xc9;_0x120852<_0x92d7f0;_0x120852++)_0x90a709[_0x518a81+_0x120852*(-0x2f*-0xb5+0x254c+-0x4683)]=_0xba45ea[_0x120852*(0x24b3*-0x1+0x1e06+0x6af)],_0x90a709[_0x518a81+_0x120852*(-0x1*-0xd87+-0x81d+-0x2*0x2b3)+(-0xcd*0x2d+0x34d*0xa+-0x2*-0x184)]=_0xba45ea[_0x120852*(-0x322+-0xdb2+-0x5*-0x35e)+(-0xc3d+0x67*-0x4b+-0x1*-0x2a6b)];},Be[md]=(_0x131700,_0x18fa9b,_0x213bff,_0x101724)=>{const _0x185190=_0x131700['storageFlo'+'at32'];for(let _0x45ca39=0xad2+0x15d9+0x1*-0x20ab;_0x45ca39<_0x101724;_0x45ca39++)_0x185190[_0x213bff+_0x45ca39*(-0x1c18+-0x10*0x258+0x419c)]=_0x18fa9b[_0x45ca39*(0x185c+0x1326+-0x2b7f)],_0x185190[_0x213bff+_0x45ca39*(-0x1fc*0x13+-0x1867+0x3e1f)+(-0x120d+0x1*-0xe55+0x1*0x2063)]=_0x18fa9b[_0x45ca39*(0x1*-0x971+0x62*0x53+-0x1652)+(-0x25ba+0xe83*-0x1+0x12*0x2e7)],_0x185190[_0x213bff+_0x45ca39*(-0x37f+0x8f3+0x15c*-0x4)+(0xa30*-0x2+0x44f*-0x7+0x13*0x2a9)]=_0x18fa9b[_0x45ca39*(0x238+0x1*0xf83+-0x11b8)+(-0x6b*0x20+0x727+-0x37*-0x1d)];},Be[Fn]=(_0x310194,_0x5e7afe,_0x3bd024,_0x1b1b13)=>{const _0x3c2c3b=_0x310194['storageUin'+'t32'];_0x3c2c3b[_0x3bd024]=_0x5e7afe;},Be[Nn]=(_0x3eac9b,_0x3aa4dc,_0x951dbf,_0x1897e3)=>{const _0x43b2f1=_0x3eac9b['storageUin'+'t32'];_0x43b2f1[_0x951dbf]=_0x3aa4dc[-0x12fd+-0x124c+0x2549],_0x43b2f1[_0x951dbf+(0x47*-0x9+0x1d76+-0x1af6)]=_0x3aa4dc[0x11a6+0x1*0x64b+-0x17f0];},Be[kn]=(_0x51ae67,_0x1853f4,_0x509cdb,_0x305881)=>{const _0xe68ab7=_0x51ae67['storageUin'+'t32'];_0xe68ab7[_0x509cdb]=_0x1853f4[-0x12fd*0x2+0x15b5+0x77*0x23],_0xe68ab7[_0x509cdb+(-0x1*-0xaab+0x177+-0x2d*0x45)]=_0x1853f4[-0xd7*0x27+-0x1517+0x35d9],_0xe68ab7[_0x509cdb+(0x34*0xb2+-0x1aa4+-0x982)]=_0x1853f4[-0xa3*0x34+0x24de+-0x3c0];},Be[Un]=(_0x268f21,_0x39aba5,_0x1b40f6,_0x4b7d0f)=>{const _0x1d35fe=_0x268f21['storageUin'+'t32'];_0x1d35fe[_0x1b40f6]=_0x39aba5[-0x234e+-0x1ed*0x4+0x2b02],_0x1d35fe[_0x1b40f6+(0xe5*-0xc+-0xc43+0x8*0x2e0)]=_0x39aba5[-0x152e+-0x143d+0x296c],_0x1d35fe[_0x1b40f6+(-0x26c8+-0xebc+0x3586)]=_0x39aba5[-0x5*0x1be+-0x1*0x633+0x39*0x43],_0x1d35fe[_0x1b40f6+(0x184+0x18cd+-0x1a4e)]=_0x39aba5[-0x2*-0x33b+0x23d*0x8+-0x185b];},Be[Bn]=function(_0x1382ce,_0x5cdbfb,_0x4dfd72,_0x358469){const _0x59e0fc=_0x1382ce['storageInt'+'32'];for(let _0x263742=0x1525*-0x1+0x1e30+-0x90b;_0x263742<_0x358469;_0x263742++)_0x59e0fc[_0x4dfd72+_0x263742*(0x2e*-0xc2+-0x2f*-0x81+-0x3*-0x3bb)]=_0x5cdbfb[_0x263742];},Be[gd]=Be[Bn],Be[_d]=function(_0x4dfd66,_0xeff6f,_0x27f9dc,_0x1e0d24){const _0x4f6bed=_0x4dfd66['storageUin'+'t32'];for(let _0x40d32d=0x17*-0x3d+-0xc0e+0x1*0x1189;_0x40d32d<_0x1e0d24;_0x40d32d++)_0x4f6bed[_0x27f9dc+_0x40d32d*(0x10e6+-0x1479+0x397*0x1)]=_0xeff6f[_0x40d32d];},Be[zn]=(_0x1d0f11,_0xa6cd73,_0x2ab2dc,_0x1466be)=>{const _0x3d3adb=_0x1d0f11['storageInt'+'32'];for(let _0x5ee65d=-0xfef+-0x2139+0x34*0xf2;_0x5ee65d<_0x1466be;_0x5ee65d++)_0x3d3adb[_0x2ab2dc+_0x5ee65d*(-0x20b6+-0x23a7+0x48f*0xf)]=_0xa6cd73[_0x5ee65d*(0x1*-0x1c45+-0x1838+0x347f)],_0x3d3adb[_0x2ab2dc+_0x5ee65d*(0x3dc+0x4f7*0x5+-0x1cab)+(-0x17*-0x123+-0x19*-0x16+-0x1c4a)]=_0xa6cd73[_0x5ee65d*(0xe02+0x1*-0x143b+0x63b)+(0x394*-0x3+-0x1*0x1db3+0x2870)];},Be[yd]=Be[zn],Be[Sd]=(_0xb01d8c,_0x12bd29,_0x53cac5,_0x39c1c9)=>{const _0x4f483b=_0xb01d8c['storageUin'+'t32'];for(let _0x18bbcf=0x5*-0x376+-0x15d3+0x2721;_0x18bbcf<_0x39c1c9;_0x18bbcf++)_0x4f483b[_0x53cac5+_0x18bbcf*(0x12ca+0x1d2b+-0x2ff1)]=_0x12bd29[_0x18bbcf*(-0x19d*0x11+-0x35e*-0x5+0xa99)],_0x4f483b[_0x53cac5+_0x18bbcf*(-0x1*0x849+0xae6+-0x299)+(-0x3*-0x1a1+-0xe9+-0x3f9)]=_0x12bd29[_0x18bbcf*(0x2*-0x118c+-0x14c3+-0x1*-0x37dd)+(0xe05*0x1+0x2*-0x277+-0x916)];},Be[Vn]=(_0x3b5a11,_0x48cac8,_0x10aac9,_0x377dc5)=>{const _0x5348a7=_0x3b5a11['storageInt'+'32'];for(let _0x5b1bea=-0x21c9+-0x4*0x715+0x3e1d*0x1;_0x5b1bea<_0x377dc5;_0x5b1bea++)_0x5348a7[_0x10aac9+_0x5b1bea*(0xd*0x2d7+-0x175*-0x18+-0x47df)]=_0x48cac8[_0x5b1bea*(0x43e*-0x8+-0x12*-0x184+-0x239*-0x3)],_0x5348a7[_0x10aac9+_0x5b1bea*(0x1ffa+0xc09+-0x1*0x2bff)+(-0x58d+0xd*-0x203+0x1fb5)]=_0x48cac8[_0x5b1bea*(0x1*-0x1b5e+-0x178*-0x17+-0x667)+(-0xe17*-0x2+0xf*0x190+0x339d*-0x1)],_0x5348a7[_0x10aac9+_0x5b1bea*(0x192+0xa5d+0x153*-0x9)+(0x1265+-0x2510+0x12ad*0x1)]=_0x48cac8[_0x5b1bea*(-0xcc7*-0x1+-0x1eb2*0x1+0x11ee)+(0x60a*0x4+-0x5*0x340+-0x7e6)];},Be[xd]=Be[Vn],Be[vd]=(_0x5db210,_0x237210,_0x2ebc7e,_0x41eb32)=>{const _0x3defda=_0x5db210['storageUin'+'t32'];for(let _0x309499=-0x86f+-0x223+0xa92;_0x309499<_0x41eb32;_0x309499++)_0x3defda[_0x2ebc7e+_0x309499*(0x61b+0x82*-0x2d+0x7*0x265)]=_0x237210[_0x309499*(-0x1*-0x110+0x67*-0x13+0x1a6*0x4)],_0x3defda[_0x2ebc7e+_0x309499*(0x3*0x93a+-0x1050+-0x1*0xb5a)+(0x4*0x153+0xe29+-0x9ba*0x2)]=_0x237210[_0x309499*(0xb41+-0x1*0x1871+0xd33)+(-0x18a4*0x1+-0x123d+-0x1f3*-0x16)],_0x3defda[_0x2ebc7e+_0x309499*(0x21*-0xc9+0x2*-0x779+0x28df*0x1)+(0x21*-0x25+-0x1*-0x1d9f+-0x18d8)]=_0x237210[_0x309499*(0x6b*0x58+0x73+-0x2538)+(0x2*-0x241+0x1e0c+-0x158*0x13)];};class zp{constructor(_0x369773,_0x2672d1,_0x181c38=!(0x72*-0x19+-0x2574+0x3096)){h(this,'device'),h(this,'persistent'),h(this,'allocation'),h(this,'storageFlo'+'at32'),h(this,'storageInt'+'32'),h(this,'storageUin'+'t32'),h(this,'renderVers'+'ionDirty',0x71f+-0x1d88+0x1669);if(this['device']=_0x369773,this['format']=_0x2672d1,this['persistent']=_0x181c38,w['assert'](_0x2672d1),_0x181c38){this['impl']=_0x369773['createUnif'+'ormBufferI'+'mpl'](this);const _0xccefb4=new ArrayBuffer(_0x2672d1['byteSize']);this['assignStor'+'age'](new Int32Array(_0xccefb4)),_0x369773['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new WT();}['destroy'](){if(this['persistent']){const _0x4bce3c=this['device'];this['impl']['destroy'](_0x4bce3c),_0x4bce3c['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0x26f3+0x390+0x2363:this['allocation']['offset'];}['assignStor'+'age'](_0x120c78){this['storageInt'+'32']=_0x120c78,this['storageUin'+'t32']=new Uint32Array(_0x120c78['buffer'],_0x120c78['byteOffset'],_0x120c78['byteLength']/(0x9fb+-0x24ca+-0x3*-0x8f1)),this['storageFlo'+'at32']=new Float32Array(_0x120c78['buffer'],_0x120c78['byteOffset'],_0x120c78['byteLength']/(0x1265+0x2063+0xab*-0x4c));}['loseContex'+'t'](){var _0x4ba366;(_0x4ba366=this['impl'])==null||_0x4ba366['loseContex'+'t']();}['setUniform'](_0x10dfbe,_0x2cbcb2){w['assert'](_0x10dfbe);const _0x5d27ec=_0x10dfbe['offset'];if(_0x2cbcb2!=null){const _0x2d2a18=Be[_0x10dfbe['updateType']];_0x2d2a18?_0x2d2a18(this,_0x2cbcb2,_0x5d27ec,_0x10dfbe['count']):this['storageFlo'+'at32']['set'](_0x2cbcb2,_0x5d27ec);}else w['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x10dfbe['name']+('],\x20expecte'+'d\x20type\x20')+Ey[_0x10dfbe['type']]+('\x20while\x20ren'+'dering\x20')+Q['toString']());}['set'](_0xde3e2b,_0x18f162){const _0x400117=this['format']['map']['get'](_0xde3e2b);w['assert'](_0x400117,'Uniform\x20na'+'me\x20['+_0xde3e2b+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x400117&&this['setUniform'](_0x400117,_0x18f162);}['startUpdat'+'e'](_0x1ea3b3){if(!this['persistent']){const _0xffbdef=this['allocation'],_0x39c6fd=_0xffbdef['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0xffbdef,this['format']['byteSize']),this['assignStor'+'age'](_0xffbdef['storage']),_0x1ea3b3&&(_0x1ea3b3['bindGroup']=_0xffbdef['gpuBuffer']['getBindGro'+'up'](this),_0x1ea3b3['offsets'][0x1b75+-0x1db3+-0x7*-0x52]=_0xffbdef['offset']),_0x39c6fd!==_0xffbdef['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x276b53){this['startUpdat'+'e'](_0x276b53);const _0x54da50=this['format']['uniforms'];for(let _0x1f7995=-0x1*0x55e+0x2515+-0x17*0x161;_0x1f7995<_0x54da50['length'];_0x1f7995++){const _0x4c4ea3=_0x54da50[_0x1f7995]['scopeId']['value'];this['setUniform'](_0x54da50[_0x1f7995],_0x4c4ea3);}this['endUpdate']();}}class $T{constructor(){h(this,'frameAlloc'+'ations',[]),h(this,'pastFrameA'+'llocations',new Map()),h(this,'_enabled',!(0x38*0x13+-0x13e0+0xa1*0x19)),h(this,'_enableReq'+'uest',!(-0x17*0x161+0x2509+-0x551)),h(this,'_frameTime',-0x1f*-0xf2+-0x4c*-0x4+-0x1e7e);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x4a44fd){this['_enableReq'+'uest']=_0x4a44fd;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=0x1453*0x1+-0x4e7*-0x7+-0x36a4));}['request'](_0x69e62b){this['pastFrameA'+'llocations']['set'](_0x69e62b,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x23177c,_0x1950a4){if(_0x1950a4){const _0x4fea4e=this['pastFrameA'+'llocations']['get'](_0x23177c);if(w['assert'](_0x4fea4e['length']===_0x1950a4['length']),_0x1950a4['length']>-0x73a+0xf9d*0x1+-0x863&&(this['_frameTime']=_0x1950a4['reduce']((_0x8193ef,_0x475a4f)=>_0x8193ef+_0x475a4f,-0x9*-0x175+-0xb*-0x217+-0x241a)),mi['get'](Gl)){w['trace'](Gl,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x23177c+'\x20--');let _0x6f1290=0x72a*-0x2+-0x234e+0x31a2;for(let _0xceebcc=-0xd1*-0x1f+-0x2355+0x2*0x503;_0xceebcc<_0x4fea4e['length'];++_0xceebcc){const _0x580322=_0x4fea4e[_0xceebcc];_0x6f1290+=_0x1950a4[_0xceebcc],w['trace'](Gl,_0x1950a4[_0xceebcc]['toFixed'](-0x71*0x19+-0x1754+0x15*0x1a3)+'\x20ms\x20'+_0x580322);}w['trace'](Gl,_0x6f1290['toFixed'](0x1d0*-0xf+-0xd95+0x28c7)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x23177c);}['getSlot'](_0x28eaa7){const _0x5e3ef0=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x28eaa7),_0x5e3ef0;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class jy{constructor(){h(this,'bufferId',null);}['destroy'](_0x322e56){this['bufferId']&&(_0x322e56['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x2aea4c,_0x53516f,_0x5246de,_0x1d193e){const _0x142701=_0x2aea4c['gl'];if(this['bufferId'])_0x142701['bindBuffer'](_0x5246de,this['bufferId']),_0x142701['bufferSubD'+'ata'](_0x5246de,0x149b*-0x1+-0x29b*0xa+0x1*0x2ea9,_0x1d193e);else{let _0x323983;switch(_0x53516f){case ms:_0x323983=_0x142701['STATIC_DRA'+'W'];break;case lh:_0x323983=_0x142701['DYNAMIC_DR'+'AW'];break;case ey:_0x323983=_0x142701['STREAM_DRA'+'W'];break;case bx:_0x323983=_0x142701['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x142701['createBuff'+'er'](),_0x142701['bindBuffer'](_0x5246de,this['bufferId']),_0x142701['bufferData'](_0x5246de,_0x1d193e,_0x323983);}}}class XT extends jy{constructor(){super(...arguments),h(this,'vao',null);}['destroy'](_0xa6258){super['destroy'](_0xa6258),_0xa6258['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x169463){const _0x2dbf2e=_0x169463['device'];super['unlock'](_0x2dbf2e,_0x169463['usage'],_0x2dbf2e['gl']['ARRAY_BUFF'+'ER'],_0x169463['storage']);}}class qT extends jy{constructor(_0x3a59aa){super();const _0x5dd97a=_0x3a59aa['device']['gl'],_0x200db1=_0x3a59aa['format'];_0x200db1===$f?this['glFormat']=_0x5dd97a['UNSIGNED_B'+'YTE']:_0x200db1===Yi?this['glFormat']=_0x5dd97a['UNSIGNED_S'+'HORT']:_0x200db1===wr&&(this['glFormat']=_0x5dd97a['UNSIGNED_I'+'NT']);}['unlock'](_0x23ff65){const _0x23571e=_0x23ff65['device'];super['unlock'](_0x23571e,_0x23ff65['usage'],_0x23571e['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x23ff65['storage']);}}class jT{constructor(_0x1bc131,_0x3eae6d,_0x10215b,_0x1c5894){if(this['locationId']=_0x1c5894,this['scopeId']=_0x1bc131['scope']['resolve'](_0x3eae6d),this['version']=new Uy(),_0x3eae6d['substring'](_0x3eae6d['length']-(0x225+-0x1*0x3ee+0xa*0x2e))==='[0]')switch(_0x10215b){case Xs:_0x10215b=ud;break;case _a:_0x10215b=Bn;break;case Fn:_0x10215b=_d;break;case Tn:_0x10215b=gd;break;case ga:_0x10215b=pd;break;case ca:_0x10215b=zn;break;case Nn:_0x10215b=Sd;break;case tl:_0x10215b=yd;break;case ds:_0x10215b=md;break;case ha:_0x10215b=Vn;break;case kn:_0x10215b=vd;break;case sl:_0x10215b=xd;break;case Rn:_0x10215b=Lp;break;case da:_0x10215b=gh;break;case Un:_0x10215b=Rp;break;case il:_0x10215b=Op;break;}this['dataType']=_0x10215b,this['value']=[null,null,null,null],this['array']=[];}}let l_=-0x593*-0x1+0x1497+0x11*-0x18a;const YT=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class KT{constructor(){h(this,'map',new Map());}['destroy'](_0x56c7f8){this['map']['forEach'](_0xcb5de9=>{_0x56c7f8['gl']['deleteShad'+'er'](_0xcb5de9);});}['loseContex'+'t'](_0x79e317){this['map']['clear']();}}const ZT=new Kt(),QT=new Kt();class JT{constructor(_0x2593bc){h(this,'compileDur'+'ation',-0x2322+-0x69*-0x3b+0xaef),(this['init'](),this['compile'](_0x2593bc['device'],_0x2593bc),this['link'](_0x2593bc['device'],_0x2593bc),_0x2593bc['device']['shaders']['push'](_0x2593bc));}['destroy'](_0x5cbd04){this['glProgram']&&(_0x5cbd04['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x56d2e2,_0x303953){this['compile'](_0x56d2e2,_0x303953),this['link'](_0x56d2e2,_0x303953);}['compile'](_0x1a952c,_0x263fbb){const _0x434d08=_0x263fbb['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x1a952c,_0x434d08['vshader'],!(0x5db*0x1+0xaca+-0x10a5)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x1a952c,_0x434d08['fshader'],!(0x8df+-0x516+0x8*-0x79));}['link'](_0x48550d,_0x2d4474){if(this['glProgram'])return;const _0x39a680=_0x48550d['gl'];if(_0x39a680['isContextL'+'ost']())return;let _0x429494=0x18d9+-0x1*-0x10dd+-0x29b6;w['call'](()=>{this['compileDur'+'ation']=0xb8d*-0x1+-0x1*-0xcca+-0x13d,_0x429494=de();});const _0x2ef62d=_0x39a680['createProg'+'ram']();this['glProgram']=_0x2ef62d,_0x39a680['attachShad'+'er'](_0x2ef62d,this['glVertexSh'+'ader']),_0x39a680['attachShad'+'er'](_0x2ef62d,this['glFragment'+'Shader']);const _0x34a976=_0x2d4474['definition'],_0x845f92=_0x34a976['attributes'];if(_0x34a976['useTransfo'+'rmFeedback']){const _0x52a47d=[];for(const _0x1389cf in _0x845f92)_0x845f92['hasOwnProp'+'erty'](_0x1389cf)&&_0x52a47d['push']('out_'+_0x1389cf);_0x39a680['transformF'+'eedbackVar'+'yings'](_0x2ef62d,_0x52a47d,_0x39a680['INTERLEAVE'+'D_ATTRIBS']);}const _0x4f3366={};for(const _0x19e09e in _0x845f92)if(_0x845f92['hasOwnProp'+'erty'](_0x19e09e)){const _0x4a1b21=_0x845f92[_0x19e09e],_0x512b64=Le[_0x4a1b21];w['assert'](!_0x4f3366['hasOwnProp'+'erty'](_0x512b64),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0x4f3366[_0x512b64]+'\x20and\x20'+_0x19e09e),_0x4f3366[_0x512b64]=_0x19e09e,_0x39a680['bindAttrib'+'Location'](_0x2ef62d,_0x512b64,_0x19e09e);}_0x39a680['linkProgra'+'m'](_0x2ef62d),w['call'](()=>{this['compileDur'+'ation']=de()-_0x429494;}),_0x48550d['_shaderSta'+'ts']['linked']++,_0x34a976['tag']===Sy&&_0x48550d['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x202429,_0x38a7db,_0x584a4f){const _0x56696f=_0x202429['gl'];if(_0x56696f['isContextL'+'ost']())return null;const _0x1f14ed=(_0x584a4f?ZT:QT)['get'](_0x202429,()=>new KT());let _0x582750=_0x1f14ed['map']['get'](_0x38a7db);if(!_0x582750){const _0x29807e=de();_0x202429['fire']('shader:com'+'pile:start',{'timestamp':_0x29807e,'target':_0x202429}),_0x582750=_0x56696f['createShad'+'er'](_0x584a4f?_0x56696f['VERTEX_SHA'+'DER']:_0x56696f['FRAGMENT_S'+'HADER']),_0x56696f['shaderSour'+'ce'](_0x582750,_0x38a7db),_0x56696f['compileSha'+'der'](_0x582750),_0x1f14ed['map']['set'](_0x38a7db,_0x582750);const _0x7c846c=de();_0x202429['fire']('shader:com'+'pile:end',{'timestamp':_0x7c846c,'target':_0x202429}),_0x202429['_shaderSta'+'ts']['compileTim'+'e']+=_0x7c846c-_0x29807e,_0x584a4f?_0x202429['_shaderSta'+'ts']['vsCompiled']++:_0x202429['_shaderSta'+'ts']['fsCompiled']++;}return _0x582750;}['finalize'](_0x5b5bb9,_0x10f879){var _0x35cc89,_0x518419;const _0x2750b5=_0x5b5bb9['gl'];if(_0x2750b5['isContextL'+'ost']())return!(-0xf87+0x1a64+-0xadd);const _0x256ebf=this['glProgram'],_0x31dfc6=_0x10f879['definition'],_0x517569=de();_0x5b5bb9['fire']('shader:lin'+'k:start',{'timestamp':_0x517569,'target':_0x5b5bb9});let _0x2dbb61=0xaa+0xa3*0x2b+-0x1c0b;if(w['call'](()=>{_0x2dbb61=de();}),!_0x2750b5['getProgram'+'Parameter'](_0x256ebf,_0x2750b5['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x5b5bb9,_0x10f879,this['glVertexSh'+'ader'],_0x31dfc6['vshader'],'vertex')||!this['_isCompile'+'d'](_0x5b5bb9,_0x10f879,this['glFragment'+'Shader'],_0x31dfc6['fshader'],'fragment'))return!(-0x18d1+-0x566+0x1e38);const _0x119f12='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x2750b5['getProgram'+'InfoLog'](_0x256ebf);return _0x31dfc6['translated'+'Frag']=(_0x35cc89=_0x2750b5['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x1c86+-0x2181+-0x4fb*-0x1):_0x35cc89['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x31dfc6['translated'+'Vert']=(_0x518419=_0x2750b5['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x2*0xc94+-0x2598+-0x1*-0xc70):_0x518419['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x119f12,_0x31dfc6),console['error'](_0x119f12),!(0x22fc*-0x1+0x7d6+0x1b27);}const _0x302493=_0x2750b5['getProgram'+'Parameter'](_0x256ebf,_0x2750b5['ACTIVE_ATT'+'RIBUTES']);_0x10f879['attributes']['clear']();for(let _0x53bae4=0xc26*-0x1+-0x1f88+0x2bae;_0x53bae4<_0x302493;_0x53bae4++){const _0x2cb938=_0x2750b5['getActiveA'+'ttrib'](_0x256ebf,_0x53bae4),_0x5a372f=_0x2750b5['getAttribL'+'ocation'](_0x256ebf,_0x2cb938['name']);YT['has'](_0x2cb938['name'])||(_0x31dfc6['attributes'][_0x2cb938['name']]===void(-0x1*-0x12df+-0x33f+-0x320*0x5)?(console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x2cb938['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x10f879['label']+']',_0x10f879),_0x10f879['failed']=!(-0x75a+0x1d3*0x2+-0x13c*-0x3)):_0x10f879['attributes']['set'](_0x5a372f,_0x2cb938['name']));}const _0x4e809b=_0x5b5bb9['_samplerTy'+'pes'],_0x335429=_0x2750b5['getProgram'+'Parameter'](_0x256ebf,_0x2750b5['ACTIVE_UNI'+'FORMS']);for(let _0x99aac3=0x1771*0x1+-0x2*0xbf+-0x1*0x15f3;_0x99aac3<_0x335429;_0x99aac3++){const _0x25dd37=_0x2750b5['getActiveU'+'niform'](_0x256ebf,_0x99aac3),_0x466f40=_0x2750b5['getUniform'+'Location'](_0x256ebf,_0x25dd37['name']),_0x222af6=new jT(_0x5b5bb9,_0x25dd37['name'],_0x5b5bb9['pcUniformT'+'ype'][_0x25dd37['type']],_0x466f40);_0x4e809b['has'](_0x25dd37['type'])?this['samplers']['push'](_0x222af6):this['uniforms']['push'](_0x222af6);}_0x10f879['ready']=!(-0x26a7+-0x247b+0x3b*0x146);const _0x90e8c=de();return _0x5b5bb9['fire']('shader:lin'+'k:end',{'timestamp':_0x90e8c,'target':_0x5b5bb9}),_0x5b5bb9['_shaderSta'+'ts']['compileTim'+'e']+=_0x90e8c-_0x517569,w['call'](()=>{const _0x5ea434=de()-_0x2dbb61;this['compileDur'+'ation']+=_0x5ea434,l_+=this['compileDur'+'ation'],w['trace']($0,'[id:\x20'+_0x10f879['id']+']\x20'+_0x10f879['name']+':\x20'+this['compileDur'+'ation']['toFixed'](0x2033+0x1862+-0x3894)+('ms,\x20TOTAL:'+'\x20')+l_['toFixed'](-0x1f9b+-0xb48+0x2ae4)+'ms');}),!(0x1*0xdbd+0x1355*0x1+-0x2112);}['_isCompile'+'d'](_0xdbcc5f,_0x527263,_0x7554bf,_0x51646f,_0x3ed887){const _0x510183=_0xdbcc5f['gl'];if(!_0x510183['getShaderP'+'arameter'](_0x7554bf,_0x510183['COMPILE_ST'+'ATUS'])){const _0x25d8aa=_0x510183['getShaderI'+'nfoLog'](_0x7554bf),[_0x2b2bcf,_0xf3ee5]=this['_processEr'+'ror'](_0x51646f,_0x25d8aa),_0x21bcfa='Failed\x20to\x20'+'compile\x20'+_0x3ed887+'\x20shader:\x0a\x0a'+_0x25d8aa+'\x0a'+_0x2b2bcf+('\x20while\x20ren'+'dering\x20')+Q['toString']();return _0xf3ee5['shader']=_0x527263,console['error'](_0x21bcfa,_0xf3ee5),console['error'](_0x21bcfa),!(0x9*0x3fb+-0x9e3+-0x19ef);}return!(-0x1*0x1dd8+0x881+0x1557);}['isLinked'](_0x328827){const {extParallelShaderCompile:_0x159059}=_0x328827;return _0x159059?_0x328827['gl']['getProgram'+'Parameter'](this['glProgram'],_0x159059['COMPLETION'+'_STATUS_KH'+'R']):!(0xb9d+0x1*-0x1fb5+0x1418);}['_processEr'+'ror'](_0xae869d,_0x27bb58){const _0x51130b={};let _0x563edd='';if(_0xae869d){const _0xfab2bf=_0xae869d['split']('\x0a');let _0x20d800=0x1317+0x93b+-0x1c52,_0x56d79c=_0xfab2bf['length'];if(_0x27bb58&&_0x27bb58['startsWith']('ERROR:')){const _0x55ccc3=_0x27bb58['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x55ccc3&&(_0x51130b['message']=_0x55ccc3[0x1f48+-0xa3*-0x1c+-0x3119],_0x51130b['line']=parseInt(_0x55ccc3[0xc2*-0x2a+-0x61b+0xb*0x373],-0x718+-0x2051+0x2773),_0x20d800=Math['max'](0x1e41+0x1131+-0x2f72,_0x51130b['line']-(-0x1102+0x233*-0x6+0x49*0x6a)),_0x56d79c=Math['min'](_0xfab2bf['length'],_0x51130b['line']+(-0xb*0x35f+0x4a8+0x2072)));}for(let _0x332aec=_0x20d800;_0x332aec<_0x56d79c;_0x332aec++){const _0x25f97c=_0x332aec+(0x2170+0x970+-0x2adf)===_0x51130b['line']?'>\x20':'\x20\x20';_0x563edd+=''+_0x25f97c+(_0x332aec+(-0x982+0x1797+0xd4*-0x11))+':\x09'+_0xfab2bf[_0x332aec]+'\x0a';}_0x51130b['source']=_0xae869d;}return[_0x563edd,_0x51130b];}}function c_(_0x30daff,_0x5c618e){const _0x2811b1=_0x30daff['width'],_0x1838ad=_0x30daff['height'];if(_0x2811b1>_0x5c618e||_0x1838ad>_0x5c618e){const _0x469f7b=_0x5c618e/Math['max'](_0x2811b1,_0x1838ad),_0xc4625=Math['floor'](_0x2811b1*_0x469f7b),_0x36f42c=Math['floor'](_0x1838ad*_0x469f7b);w['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0x5c618e+('.\x20Resizing'+'\x20from\x20')+_0x2811b1+',\x20'+_0x1838ad+'\x20to\x20'+_0xc4625+',\x20'+_0x36f42c+'.');const _0x103962=document['createElem'+'ent']('canvas');return _0x103962['width']=_0xc4625,_0x103962['height']=_0x36f42c,_0x103962['getContext']('2d')['drawImage'](_0x30daff,0x11c*0xe+-0x2*0x973+0x1af*0x2,0x23de+0x20d6+0x44b4*-0x1,_0x2811b1,_0x1838ad,0x163a+0x151c+-0x2b*0x102,0x1*0x254e+0x128f+-0x37dd,_0xc4625,_0x36f42c),_0x103962;}return _0x30daff;}class ew{constructor(_0xe9de22){h(this,'_glTexture',null),h(this,'_glTarget'),h(this,'_glFormat'),h(this,'_glInterna'+'lFormat'),h(this,'_glPixelTy'+'pe'),h(this,'_glCreated'),h(this,'dirtyParam'+'eterFlags',0x2*-0x143+-0x1e6e*-0x1+-0x1be8),this['texture']=_0xe9de22;}['destroy'](_0x2a1e0f){if(this['_glTexture']){for(let _0x1391fc=0x13f7*0x1+-0xa*0x3d6+-0x1*-0x1265;_0x1391fc<_0x2a1e0f['textureUni'+'ts']['length'];_0x1391fc++){const _0x239c0e=_0x2a1e0f['textureUni'+'ts'][_0x1391fc];for(let _0x5437f2=-0xf91*0x1+-0x2*-0xe2e+0x28f*-0x5;_0x5437f2<_0x239c0e['length'];_0x5437f2++)_0x239c0e[_0x5437f2]===this['_glTexture']&&(_0x239c0e[_0x5437f2]=null);}_0x2a1e0f['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x416f15){this['dirtyParam'+'eterFlags']|=_0x416f15;}['initialize'](_0x1495a9,_0x36adeb){const _0x40a3c1=_0x1495a9['gl'];switch(this['_glTexture']=_0x40a3c1['createText'+'ure'](),this['_glTarget']=_0x36adeb['_cubemap']?_0x40a3c1['TEXTURE_CU'+'BE_MAP']:_0x36adeb['_volume']?_0x40a3c1['TEXTURE_3D']:_0x36adeb['array']?_0x40a3c1['TEXTURE_2D'+'_ARRAY']:_0x40a3c1['TEXTURE_2D'],_0x36adeb['_format']){case ty:this['_glFormat']=_0x40a3c1['ALPHA'],this['_glInterna'+'lFormat']=_0x40a3c1['ALPHA'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_B'+'YTE'];break;case sy:this['_glFormat']=_0x40a3c1['LUMINANCE'],this['_glInterna'+'lFormat']=_0x40a3c1['LUMINANCE'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_B'+'YTE'];break;case ap:this['_glFormat']=_0x40a3c1['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x40a3c1['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_B'+'YTE'];break;case Ep:this['_glFormat']=_0x40a3c1['RED'],this['_glInterna'+'lFormat']=_0x40a3c1['R8'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_B'+'YTE'];break;case bp:this['_glFormat']=_0x40a3c1['RG'],this['_glInterna'+'lFormat']=_0x40a3c1['RG8'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_B'+'YTE'];break;case Jh:this['_glFormat']=_0x40a3c1['RGB'],this['_glInterna'+'lFormat']=_0x40a3c1['RGB565'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_S'+'HORT_5_6_5'];break;case np:this['_glFormat']=_0x40a3c1['RGBA'],this['_glInterna'+'lFormat']=_0x40a3c1['RGB5_A1'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case ed:this['_glFormat']=_0x40a3c1['RGBA'],this['_glInterna'+'lFormat']=_0x40a3c1['RGBA4'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case Cr:this['_glFormat']=_0x40a3c1['RGB'],this['_glInterna'+'lFormat']=_0x40a3c1['RGB8'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_B'+'YTE'];break;case Ne:this['_glFormat']=_0x40a3c1['RGBA'],this['_glInterna'+'lFormat']=_0x40a3c1['RGBA8'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_B'+'YTE'];break;case ny:case hy:w['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case td:this['_glFormat']=_0x40a3c1['RGB'],this['_glInterna'+'lFormat']=_0x1495a9['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case op:this['_glFormat']=_0x40a3c1['RGBA'],this['_glInterna'+'lFormat']=_0x1495a9['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case vl:this['_glFormat']=_0x40a3c1['RGBA'],this['_glInterna'+'lFormat']=_0x1495a9['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case id:this['_glFormat']=_0x40a3c1['RGB'],this['_glInterna'+'lFormat']=_0x1495a9['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case xl:this['_glFormat']=_0x40a3c1['RGB'],this['_glInterna'+'lFormat']=_0x1495a9['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Tl:this['_glFormat']=_0x40a3c1['RGBA'],this['_glInterna'+'lFormat']=_0x1495a9['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case rd:this['_glFormat']=_0x40a3c1['RGB'],this['_glInterna'+'lFormat']=_0x1495a9['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case ad:this['_glFormat']=_0x40a3c1['RGBA'],this['_glInterna'+'lFormat']=_0x1495a9['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case cp:this['_glFormat']=_0x40a3c1['RGB'],this['_glInterna'+'lFormat']=_0x1495a9['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case hp:this['_glFormat']=_0x40a3c1['RGBA'],this['_glInterna'+'lFormat']=_0x1495a9['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case iy:this['_glFormat']=_0x40a3c1['RGBA'],this['_glInterna'+'lFormat']=_0x1495a9['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case ry:this['_glFormat']=_0x40a3c1['RGB'],this['_glInterna'+'lFormat']=_0x1495a9['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case ay:this['_glFormat']=_0x40a3c1['RGBA'],this['_glInterna'+'lFormat']=_0x1495a9['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case dy:this['_glFormat']=_0x40a3c1['RGB'],this['_glInterna'+'lFormat']=_0x1495a9['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case fy:this['_glFormat']=_0x40a3c1['RGB'],this['_glInterna'+'lFormat']=_0x1495a9['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case uy:this['_glFormat']=_0x40a3c1['RGBA'],this['_glInterna'+'lFormat']=_0x1495a9['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case Xf:this['_glFormat']=_0x40a3c1['SRGB'],this['_glInterna'+'lFormat']=_0x1495a9['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case qf:this['_glFormat']=_0x40a3c1['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x1495a9['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case jf:this['_glFormat']=_0x40a3c1['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x1495a9['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case Yf:this['_glFormat']=_0x40a3c1['SRGB'],this['_glInterna'+'lFormat']=_0x1495a9['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case Kf:this['_glFormat']=_0x40a3c1['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x1495a9['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Zf:this['_glFormat']=_0x40a3c1['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x1495a9['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case Qf:this['_glFormat']=_0x40a3c1['RGBA'],this['_glInterna'+'lFormat']=_0x1495a9['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case od:this['_glFormat']=_0x40a3c1['RED'],this['_glInterna'+'lFormat']=_0x40a3c1['R16F'],this['_glPixelTy'+'pe']=_0x40a3c1['HALF_FLOAT'];break;case wp:this['_glFormat']=_0x40a3c1['RG'],this['_glInterna'+'lFormat']=_0x40a3c1['RG16F'],this['_glPixelTy'+'pe']=_0x40a3c1['HALF_FLOAT'];break;case ui:this['_glFormat']=_0x40a3c1['RGB'],this['_glInterna'+'lFormat']=_0x40a3c1['RGB16F'],this['_glPixelTy'+'pe']=_0x40a3c1['HALF_FLOAT'];break;case nt:this['_glFormat']=_0x40a3c1['RGBA'],this['_glInterna'+'lFormat']=_0x40a3c1['RGBA16F'],this['_glPixelTy'+'pe']=_0x40a3c1['HALF_FLOAT'];break;case Ye:this['_glFormat']=_0x40a3c1['RGB'],this['_glInterna'+'lFormat']=_0x40a3c1['RGB32F'],this['_glPixelTy'+'pe']=_0x40a3c1['FLOAT'];break;case Xt:this['_glFormat']=_0x40a3c1['RGBA'],this['_glInterna'+'lFormat']=_0x40a3c1['RGBA32F'],this['_glPixelTy'+'pe']=_0x40a3c1['FLOAT'];break;case Ji:this['_glFormat']=_0x40a3c1['RED'],this['_glInterna'+'lFormat']=_0x40a3c1['R32F'],this['_glPixelTy'+'pe']=_0x40a3c1['FLOAT'];break;case $i:this['_glFormat']=_0x40a3c1['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x40a3c1['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x40a3c1['FLOAT'];break;case vn:this['_glFormat']=_0x40a3c1['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x40a3c1['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_S'+'HORT'];break;case sd:this['_glFormat']=_0x40a3c1['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x40a3c1['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_I'+'NT_24_8'];break;case In:this['_glFormat']=_0x40a3c1['RGB'],this['_glInterna'+'lFormat']=_0x40a3c1['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case lp:this['_glFormat']=_0x40a3c1['RGB'],this['_glInterna'+'lFormat']=_0x40a3c1['SRGB8'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_B'+'YTE'];break;case _s:this['_glFormat']=_0x40a3c1['RGBA'],this['_glInterna'+'lFormat']=_0x40a3c1['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_B'+'YTE'];break;case dp:this['_glFormat']=_0x40a3c1['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x40a3c1['R8I'],this['_glPixelTy'+'pe']=_0x40a3c1['BYTE'];break;case oy:this['_glFormat']=_0x40a3c1['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x40a3c1['R8UI'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_B'+'YTE'];break;case fp:this['_glFormat']=_0x40a3c1['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x40a3c1['R16I'],this['_glPixelTy'+'pe']=_0x40a3c1['SHORT'];break;case up:this['_glFormat']=_0x40a3c1['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x40a3c1['R16UI'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_S'+'HORT'];break;case pp:this['_glFormat']=_0x40a3c1['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x40a3c1['R32I'],this['_glPixelTy'+'pe']=_0x40a3c1['INT'];break;case Ki:this['_glFormat']=_0x40a3c1['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x40a3c1['R32UI'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_I'+'NT'];break;case mp:this['_glFormat']=_0x40a3c1['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x40a3c1['RG8I'],this['_glPixelTy'+'pe']=_0x40a3c1['BYTE'];break;case ly:this['_glFormat']=_0x40a3c1['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x40a3c1['RG8UI'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_B'+'YTE'];break;case _p:this['_glFormat']=_0x40a3c1['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x40a3c1['RG16I'],this['_glPixelTy'+'pe']=_0x40a3c1['SHORT'];break;case gp:this['_glFormat']=_0x40a3c1['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x40a3c1['RG16UI'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_S'+'HORT'];break;case Sp:this['_glFormat']=_0x40a3c1['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x40a3c1['RG32I'],this['_glPixelTy'+'pe']=_0x40a3c1['INT'];break;case yp:this['_glFormat']=_0x40a3c1['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x40a3c1['RG32UI'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_I'+'NT'];break;case vp:this['_glFormat']=_0x40a3c1['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x40a3c1['RGBA8I'],this['_glPixelTy'+'pe']=_0x40a3c1['BYTE'];break;case cy:this['_glFormat']=_0x40a3c1['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x40a3c1['RGBA8UI'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_B'+'YTE'];break;case xp:this['_glFormat']=_0x40a3c1['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x40a3c1['RGBA16I'],this['_glPixelTy'+'pe']=_0x40a3c1['SHORT'];break;case nd:this['_glFormat']=_0x40a3c1['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x40a3c1['RGBA16UI'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_S'+'HORT'];break;case Tp:this['_glFormat']=_0x40a3c1['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x40a3c1['RGBA32I'],this['_glPixelTy'+'pe']=_0x40a3c1['INT'];break;case Ue:this['_glFormat']=_0x40a3c1['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x40a3c1['RGBA32UI'],this['_glPixelTy'+'pe']=_0x40a3c1['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(0x741+0x1a*-0x17+0x11*-0x4a);}['upload'](_0x213e36,_0x5d6a03){w['assert'](_0x5d6a03['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x5d6a03);const _0x4884b0=_0x213e36['gl'];if(!_0x5d6a03['_needsUplo'+'ad']&&(_0x5d6a03['_needsMipm'+'apsUpload']&&_0x5d6a03['_mipmapsUp'+'loaded']||!_0x5d6a03['pot']))return;let _0x64b9ea=0x13fb+-0x81*-0x2f+-0x3*0xe8e,_0x1c6645,_0xd7cc56;const _0x3e286b=_0x5d6a03['numLevels'];for(_0x5d6a03['array']&&_0x4884b0['texStorage'+'3D'](_0x4884b0['TEXTURE_2D'+'_ARRAY'],_0x3e286b,this['_glInterna'+'lFormat'],_0x5d6a03['_width'],_0x5d6a03['_height'],_0x5d6a03['_arrayLeng'+'th']);_0x5d6a03['_levels'][_0x64b9ea]||_0x64b9ea===0x124*-0xd+0x3d*0x2f+0x3a1;){if(!_0x5d6a03['_needsUplo'+'ad']&&_0x64b9ea===-0x2b6+0x1*-0xaf1+0x2bb*0x5){_0x64b9ea++;continue;}else{if(_0x64b9ea&&(!_0x5d6a03['_needsMipm'+'apsUpload']||!_0x5d6a03['_mipmaps']))break;}if(_0x1c6645=_0x5d6a03['_levels'][_0x64b9ea],_0xd7cc56=(0x58e+-0x11c5*-0x1+-0x1752)/Math['pow'](0xfed+0xf10+-0x1efb,_0x64b9ea),_0x64b9ea===0x449*0x3+0x24d*-0xb+-0x427*-0x3&&!_0x5d6a03['_compresse'+'d']&&!_0x5d6a03['_integerFo'+'rmat']&&_0x5d6a03['_levels']['length']<_0x3e286b&&(_0x4884b0['generateMi'+'pmap'](this['_glTarget']),_0x5d6a03['_mipmapsUp'+'loaded']=!(-0x867+-0x22f4+0x2b5b*0x1)),_0x5d6a03['_cubemap']){let _0x271db3;if(_0x213e36['_isBrowser'+'Interface'](_0x1c6645[-0x3*-0x73f+0xcff+-0x22bc]))for(_0x271db3=0x1fcb+-0x44f+-0x1b7c;_0x271db3<-0xd1b+0xf*-0x165+0x220c;_0x271db3++){if(!_0x5d6a03['_levelsUpd'+'ated'][0x18f4+-0x1500+0xb*-0x5c][_0x271db3])continue;let _0x561fc6=_0x1c6645[_0x271db3];_0x213e36['_isImageBr'+'owserInter'+'face'](_0x561fc6)&&(_0x561fc6['width']>_0x213e36['maxCubeMap'+'Size']||_0x561fc6['height']>_0x213e36['maxCubeMap'+'Size'])&&(_0x561fc6=c_(_0x561fc6,_0x213e36['maxCubeMap'+'Size']),_0x64b9ea===-0x5e2+0x1c3e+-0x165c&&(_0x5d6a03['_width']=_0x561fc6['width'],_0x5d6a03['_height']=_0x561fc6['height'])),_0x213e36['setUnpackF'+'lipY'](!(-0x29*-0xc7+-0xb*0x2d1+-0x1*0xe3)),_0x213e36['setUnpackP'+'remultiply'+'Alpha'](_0x5d6a03['_premultip'+'lyAlpha']),this['_glCreated']?_0x4884b0['texSubImag'+'e2D'](_0x4884b0['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x271db3,_0x64b9ea,0x15*-0x7+-0x2109+0x3bc*0x9,-0x2*0xe45+-0x58*-0x4a+0x31a*0x1,this['_glFormat'],this['_glPixelTy'+'pe'],_0x561fc6):_0x4884b0['texImage2D'](_0x4884b0['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x271db3,_0x64b9ea,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x561fc6);}else for(_0xd7cc56=(0x132d+-0x1f7e+0x13*0xa6)/Math['pow'](-0x1*0x9af+0x1*0x10d5+0x392*-0x2,_0x64b9ea),_0x271db3=0x25f2*0x1+-0x2*0xa96+0x26*-0x71;_0x271db3<-0xcca+-0xf37+0x1c07*0x1;_0x271db3++){if(!_0x5d6a03['_levelsUpd'+'ated'][-0x22b8+0xcf0+0x88*0x29][_0x271db3])continue;const _0xac0908=_0x1c6645[_0x271db3];_0x5d6a03['_compresse'+'d']?this['_glCreated']&&_0xac0908?_0x4884b0['compressed'+'TexSubImag'+'e2D'](_0x4884b0['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x271db3,_0x64b9ea,-0x1*-0x8b+-0x1738+0x285*0x9,-0x167*0xd+0x107f+0x1bc,Math['max'](_0x5d6a03['_width']*_0xd7cc56,-0x5*-0x722+-0x1df1+-0x7a*0xc),Math['max'](_0x5d6a03['_height']*_0xd7cc56,0x8e0+0x1e2b*-0x1+0x154c),this['_glInterna'+'lFormat'],_0xac0908):_0x4884b0['compressed'+'TexImage2D'](_0x4884b0['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x271db3,_0x64b9ea,this['_glInterna'+'lFormat'],Math['max'](_0x5d6a03['_width']*_0xd7cc56,-0xc23+-0x105f+-0x1c83*-0x1),Math['max'](_0x5d6a03['_height']*_0xd7cc56,0x1a1*-0x9+0x153+0xd57),-0x6ae+0x7cd*-0x1+0xe7b,_0xac0908):(_0x213e36['setUnpackF'+'lipY'](!(-0x24bd+0x2c*-0xb1+0x432a)),_0x213e36['setUnpackP'+'remultiply'+'Alpha'](_0x5d6a03['_premultip'+'lyAlpha']),this['_glCreated']&&_0xac0908?_0x4884b0['texSubImag'+'e2D'](_0x4884b0['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x271db3,_0x64b9ea,-0x19f4+0xd4b*-0x1+0x273f,-0x15e7+0x6ae+0xf39,Math['max'](_0x5d6a03['_width']*_0xd7cc56,-0x1d4a+0x7f7+-0x111*-0x14),Math['max'](_0x5d6a03['_height']*_0xd7cc56,0x10*-0x20c+0x2*-0x7cf+0x7*0x6e9),this['_glFormat'],this['_glPixelTy'+'pe'],_0xac0908):_0x4884b0['texImage2D'](_0x4884b0['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x271db3,_0x64b9ea,this['_glInterna'+'lFormat'],Math['max'](_0x5d6a03['_width']*_0xd7cc56,-0x1*0x2638+-0xaa*0x28+0x40c9),Math['max'](_0x5d6a03['_height']*_0xd7cc56,0x194f+-0x7*0x481+0x639*0x1),0x17e0+-0x1*0x8b5+0x1*-0xf2b,this['_glFormat'],this['_glPixelTy'+'pe'],_0xac0908));}}else{if(_0x5d6a03['_volume'])_0x5d6a03['_compresse'+'d']?_0x4884b0['compressed'+'TexImage3D'](_0x4884b0['TEXTURE_3D'],_0x64b9ea,this['_glInterna'+'lFormat'],Math['max'](_0x5d6a03['_width']*_0xd7cc56,0x57a*-0x1+-0x26a9+0x14*0x235),Math['max'](_0x5d6a03['_height']*_0xd7cc56,0x1eb4+0x6*-0x3d1+-0x7cd),Math['max'](_0x5d6a03['_depth']*_0xd7cc56,-0x272+-0x1ea2+0xb07*0x3),0x253+0x2002*-0x1+-0x1*-0x1daf,_0x1c6645):(_0x213e36['setUnpackF'+'lipY'](!(0x1a70+-0x9*0x425+-0x1a*-0x6b)),_0x213e36['setUnpackP'+'remultiply'+'Alpha'](_0x5d6a03['_premultip'+'lyAlpha']),_0x4884b0['texImage3D'](_0x4884b0['TEXTURE_3D'],_0x64b9ea,this['_glInterna'+'lFormat'],Math['max'](_0x5d6a03['_width']*_0xd7cc56,-0x2296+-0x823*0x1+0x2aba),Math['max'](_0x5d6a03['_height']*_0xd7cc56,-0x1*-0x5b2+-0x1fb+-0xa*0x5f),Math['max'](_0x5d6a03['_depth']*_0xd7cc56,0x1a1b*0x1+-0x1b*-0x77+-0x26a7),0x41f*-0x7+0x555+-0xa*-0x25a,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1c6645));else{if(_0x5d6a03['array']&&typeof _0x1c6645=='object'){if(_0x5d6a03['_arrayLeng'+'th']===_0x1c6645['length']){if(_0x5d6a03['_compresse'+'d']){for(let _0x410b7c=0x156+-0x1388+0x1232;_0x410b7c<_0x5d6a03['_arrayLeng'+'th'];_0x410b7c++)_0x4884b0['compressed'+'TexSubImag'+'e3D'](_0x4884b0['TEXTURE_2D'+'_ARRAY'],_0x64b9ea,0x1*0xf4a+0x23bb*0x1+-0x1*0x3305,-0x2f*-0x4+0x1*-0x2519+0x245d,_0x410b7c,Math['max'](Math['floor'](_0x5d6a03['_width']*_0xd7cc56),0x823+-0x22*-0x42+-0x10e6),Math['max'](Math['floor'](_0x5d6a03['_height']*_0xd7cc56),0x40*0x9+-0xaba*-0x3+-0x7*0x4eb),0xf*-0x1e1+0x2564+-0x934,this['_glInterna'+'lFormat'],_0x1c6645[_0x410b7c]);}else{for(let _0x200d3f=0x8bd+-0xe*0x24c+0x176b;_0x200d3f<_0x5d6a03['_arrayLeng'+'th'];_0x200d3f++)_0x4884b0['texSubImag'+'e3D'](_0x4884b0['TEXTURE_2D'+'_ARRAY'],_0x64b9ea,-0x1*0x2126+-0x50a+0x4*0x98c,-0x53*-0x56+0x9*0x35d+-0x3a27,_0x200d3f,Math['max'](Math['floor'](_0x5d6a03['_width']*_0xd7cc56),0x25ae+0x250e+-0x4abb),Math['max'](Math['floor'](_0x5d6a03['_height']*_0xd7cc56),0x17*0xef+-0x17f0+0x278),-0x2f+-0x1110+-0x228*-0x8,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1c6645[_0x200d3f]);}}}else{if(_0x213e36['_isBrowser'+'Interface'](_0x1c6645)){_0x213e36['_isImageBr'+'owserInter'+'face'](_0x1c6645)&&(_0x1c6645['width']>_0x213e36['maxTexture'+'Size']||_0x1c6645['height']>_0x213e36['maxTexture'+'Size'])&&(_0x1c6645=c_(_0x1c6645,_0x213e36['maxTexture'+'Size']),_0x64b9ea===-0x1d7c+-0x1*-0xe+0x1d6e&&(_0x5d6a03['_width']=_0x1c6645['width'],_0x5d6a03['_height']=_0x1c6645['height']));const _0x2bff8f=_0x1c6645['width']||_0x1c6645['videoWidth'],_0x51e919=_0x1c6645['height']||_0x1c6645['videoHeigh'+'t'];_0x213e36['setUnpackF'+'lipY'](_0x5d6a03['_flipY']),_0x213e36['setUnpackP'+'remultiply'+'Alpha'](_0x5d6a03['_premultip'+'lyAlpha']),this['_glCreated']&&_0x5d6a03['_width']===_0x2bff8f&&_0x5d6a03['_height']===_0x51e919&&!_0x213e36['_isImageVi'+'deoInterfa'+'ce'](_0x1c6645)?_0x4884b0['texSubImag'+'e2D'](_0x4884b0['TEXTURE_2D'],_0x64b9ea,0x1a5*0x13+0x1*0xd9f+-0x2*0x166f,0x15a*-0x15+0x5c9+0x1699,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1c6645):(_0x4884b0['texImage2D'](_0x4884b0['TEXTURE_2D'],_0x64b9ea,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x1c6645),_0x64b9ea===0x37+-0x5cb+0xcc*0x7&&(_0x5d6a03['_width']=_0x2bff8f,_0x5d6a03['_height']=_0x51e919));}else _0xd7cc56=(0x6fd*0x1+-0x1b5*-0x13+-0x1*0x276b)/Math['pow'](0x427+0x17c3+-0x2*0xdf4,_0x64b9ea),_0x5d6a03['_compresse'+'d']?this['_glCreated']&&_0x1c6645?_0x4884b0['compressed'+'TexSubImag'+'e2D'](_0x4884b0['TEXTURE_2D'],_0x64b9ea,-0x16c0+0x63*-0x29+0x269b,0x1d9e+-0x2e*-0xa3+-0x3ae8,Math['max'](Math['floor'](_0x5d6a03['_width']*_0xd7cc56),0x1ab7+0xe74+-0x292a),Math['max'](Math['floor'](_0x5d6a03['_height']*_0xd7cc56),0x1*0x454+0x2354+-0x27a7),this['_glInterna'+'lFormat'],_0x1c6645):_0x4884b0['compressed'+'TexImage2D'](_0x4884b0['TEXTURE_2D'],_0x64b9ea,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x5d6a03['_width']*_0xd7cc56),-0x11*-0x1ff+0x31*0x92+0xc6*-0x50),Math['max'](Math['floor'](_0x5d6a03['_height']*_0xd7cc56),-0x2676+-0xc5c*0x2+0x3f2f),0x8*0x187+-0xc85+-0x7*-0xb,_0x1c6645):(_0x213e36['setUnpackF'+'lipY'](!(-0x1d61+-0x37f*0xa+0x4058)),_0x213e36['setUnpackP'+'remultiply'+'Alpha'](_0x5d6a03['_premultip'+'lyAlpha']),this['_glCreated']&&_0x1c6645?_0x4884b0['texSubImag'+'e2D'](_0x4884b0['TEXTURE_2D'],_0x64b9ea,0x1da0+-0xfb*0x6+0x2*-0xbdf,-0x1269*0x1+-0x351*0x1+-0x26a*-0x9,Math['max'](_0x5d6a03['_width']*_0xd7cc56,-0x58a*0x6+-0x2087+0x41c4),Math['max'](_0x5d6a03['_height']*_0xd7cc56,-0x3d*0x7b+0xe6*0x1+0x1c6a),this['_glFormat'],this['_glPixelTy'+'pe'],_0x1c6645):_0x4884b0['texImage2D'](_0x4884b0['TEXTURE_2D'],_0x64b9ea,this['_glInterna'+'lFormat'],Math['max'](_0x5d6a03['_width']*_0xd7cc56,0x15*0xc7+-0x1*0xd4f+0x1*-0x303),Math['max'](_0x5d6a03['_height']*_0xd7cc56,-0x5a*-0x33+-0x16b5*-0x1+-0x28a2),-0x1700+0x25e2+-0xee2,this['_glFormat'],this['_glPixelTy'+'pe'],_0x1c6645));_0x64b9ea===-0x3*0x901+0x9*0x43+0x18a8?_0x5d6a03['_mipmapsUp'+'loaded']=!(-0x20f9*0x1+0x6*-0x508+0x3f2a):_0x5d6a03['_mipmapsUp'+'loaded']=!(-0xb*-0x1cf+0x2093+-0x1*0x3478);}}}_0x64b9ea++;}if(_0x5d6a03['_needsUplo'+'ad']){if(_0x5d6a03['_cubemap']){for(let _0x5585a4=-0x2*0x1b4+-0x1*-0x24cf+-0x1f7*0x11;_0x5585a4<-0xf*-0xda+0x3*-0xba1+-0x1*-0x1623;_0x5585a4++)_0x5d6a03['_levelsUpd'+'ated'][0x1a5b+0x120+0x14f*-0x15][_0x5585a4]=!(0x71*0x27+0x8da+0x18*-0x116);}else _0x5d6a03['_levelsUpd'+'ated'][0x2596+-0x1614+-0xf82]=!(-0x169*-0x4+0xbf5*0x1+0x466*-0x4);}!_0x5d6a03['_compresse'+'d']&&!_0x5d6a03['_integerFo'+'rmat']&&_0x5d6a03['_mipmaps']&&_0x5d6a03['_needsMipm'+'apsUpload']&&_0x5d6a03['_levels']['length']===0x21cc+-0x229*0x1+-0x1*0x1fa2&&(_0x4884b0['generateMi'+'pmap'](this['_glTarget']),_0x5d6a03['_mipmapsUp'+'loaded']=!(0x1fb5*-0x1+-0xe9f+0x2*0x172a)),_0x5d6a03['_gpuSize']&&_0x5d6a03['adjustVram'+'SizeTracki'+'ng'](_0x213e36['_vram'],-_0x5d6a03['_gpuSize']),_0x5d6a03['_gpuSize']=_0x5d6a03['gpuSize'],_0x5d6a03['adjustVram'+'SizeTracki'+'ng'](_0x213e36['_vram'],_0x5d6a03['_gpuSize']),this['_glCreated']=!(0xbbd+-0x520+-0x1*0x69d);}['read'](_0x43227f,_0x326799,_0x129c76,_0x4b3ddb,_0x4a8709){const _0x2deab5=this['texture'];return _0x2deab5['device']['readTextur'+'eAsync'](_0x2deab5,_0x43227f,_0x326799,_0x129c76,_0x4b3ddb,_0x4a8709);}['write'](_0x524edc,_0x5bdccc,_0x57c65e,_0x3ffe0e,_0x1c5e37){const {texture:_0x76e1b9}=this,{device:_0x23e5f0}=_0x76e1b9;return _0x23e5f0['setTexture'](_0x76e1b9,0x5ff+0x2116*-0x1+-0x49*-0x5f),_0x23e5f0['writeTextu'+'reAsync'](_0x76e1b9,_0x524edc,_0x5bdccc,_0x57c65e,_0x3ffe0e,_0x1c5e37);}}class tw{constructor(_0x3705bd,_0x32d70e){h(this,'msaaFB'),h(this,'resolveFB'),(this['msaaFB']=_0x3705bd,this['resolveFB']=_0x32d70e);}['destroy'](_0x3d5cde){this['msaaFB']&&(_0x3d5cde['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x3d5cde['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class sw{constructor(){h(this,'_glFrameBu'+'ffer',null),h(this,'_glDepthBu'+'ffer',null),h(this,'_glResolve'+'FrameBuffe'+'r',null),h(this,'colorMrtFr'+'amebuffers',null),h(this,'_glMsaaCol'+'orBuffers',[]),h(this,'_glMsaaDep'+'thBuffer',null),h(this,'msaaDepthB'+'ufferKey'),h(this,'suppliedCo'+'lorFramebu'+'ffer'),h(this,'_isInitial'+'ized',!(0x1*0x4f+-0x517*-0x4+-0xa55*0x2));}['destroy'](_0x519733){var _0x210995;const _0x2be721=_0x519733['gl'];this['_isInitial'+'ized']=!(-0x4ae*-0x1+-0x6*-0x4d7+-0x21b7),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x2be721['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x2be721['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x2be721['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x5daaf5=>{_0x2be721['deleteRend'+'erbuffer'](_0x5daaf5);}),this['_glMsaaCol'+'orBuffers']['length']=0x149c+0x3*-0x1ff+0xe9f*-0x1,(_0x210995=this['colorMrtFr'+'amebuffers'])==null||_0x210995['forEach'](_0x11126f=>{_0x11126f['destroy'](_0x2be721);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&Fd(_0x519733)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(0xf*-0xf1+0x2fa*0x2+0x33*0x29);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x46570f,_0x41c73d){var _0x50be05,_0x412218;const _0xbf4dd1=_0x46570f['gl'];w['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(0xd32*-0x1+0xfbf*-0x1+0x1cf1);const _0x2def6c=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0xa67*0x2+-0x26d8+-0x120a*-0x1))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{w['call'](()=>{(_0x41c73d['width']<=-0x1*-0x1ae9+0x244+-0x1d2d||_0x41c73d['height']<=-0x1cb6+0x1*-0x1063+-0x905*-0x5)&&w['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x41c73d['width']+'\x20x\x20'+_0x41c73d['height'],_0x41c73d);}),this['_glFrameBu'+'ffer']=_0xbf4dd1['createFram'+'ebuffer'](),_0x46570f['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x21f148=((_0x50be05=_0x41c73d['_colorBuff'+'ers'])==null?void(0x36a*-0x1+0x7c8+-0x45e):_0x50be05['length'])??0x25a9+0x1988+-0x3f31,_0x1aedd6=_0xbf4dd1['COLOR_ATTA'+'CHMENT0'];for(let _0x1c4fc8=-0x1f5*0x12+0x2425+0x2f*-0x5;_0x1c4fc8<_0x21f148;++_0x1c4fc8){const _0x32bee6=_0x41c73d['getColorBu'+'ffer'](_0x1c4fc8);_0x32bee6&&(_0x32bee6['impl']['_glTexture']||(_0x32bee6['_width']=Math['min'](_0x32bee6['width'],_0x46570f['maxRenderB'+'ufferSize']),_0x32bee6['_height']=Math['min'](_0x32bee6['height'],_0x46570f['maxRenderB'+'ufferSize']),_0x46570f['setTexture'](_0x32bee6,0x1*0x655+0x2*-0x279+-0x5*0x47)),_0xbf4dd1['framebuffe'+'rTexture2D'](_0xbf4dd1['FRAMEBUFFE'+'R'],_0x1aedd6+_0x1c4fc8,_0x32bee6['_cubemap']?_0xbf4dd1['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x41c73d['_face']:_0xbf4dd1['TEXTURE_2D'],_0x32bee6['impl']['_glTexture'],_0x41c73d['mipLevel']),_0x2def6c['push'](_0x1aedd6+_0x1c4fc8));}_0xbf4dd1['drawBuffer'+'s'](_0x2def6c);const _0x5c0bbb=_0x41c73d['_depthBuff'+'er'];if(_0x5c0bbb||_0x41c73d['_depth']){const _0xec791e=_0x41c73d['_stencil']?_0xbf4dd1['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0xbf4dd1['DEPTH_ATTA'+'CHMENT'];if(_0x5c0bbb)_0x5c0bbb['impl']['_glTexture']||(_0x5c0bbb['_width']=Math['min'](_0x5c0bbb['width'],_0x46570f['maxRenderB'+'ufferSize']),_0x5c0bbb['_height']=Math['min'](_0x5c0bbb['height'],_0x46570f['maxRenderB'+'ufferSize']),_0x46570f['setTexture'](_0x5c0bbb,0x67d*-0x4+0x2660+-0xc6c)),_0xbf4dd1['framebuffe'+'rTexture2D'](_0xbf4dd1['FRAMEBUFFE'+'R'],_0xec791e,_0x5c0bbb['_cubemap']?_0xbf4dd1['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x41c73d['_face']:_0xbf4dd1['TEXTURE_2D'],_0x41c73d['_depthBuff'+'er']['impl']['_glTexture'],_0x41c73d['mipLevel']);else{if(!(_0x41c73d['_samples']>-0x236a+0x3b8+0x1fb3)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0xbf4dd1['createRend'+'erbuffer']());const _0x3879d2=_0x41c73d['_stencil']?_0xbf4dd1['DEPTH24_ST'+'ENCIL8']:_0xbf4dd1['DEPTH_COMP'+'ONENT32F'];_0xbf4dd1['bindRender'+'buffer'](_0xbf4dd1['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0xbf4dd1['renderbuff'+'erStorage'](_0xbf4dd1['RENDERBUFF'+'ER'],_0x3879d2,_0x41c73d['width'],_0x41c73d['height']),_0xbf4dd1['framebuffe'+'rRenderbuf'+'fer'](_0xbf4dd1['FRAMEBUFFE'+'R'],_0xec791e,_0xbf4dd1['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0xbf4dd1['bindRender'+'buffer'](_0xbf4dd1['RENDERBUFF'+'ER'],null);}}}w['call'](()=>this['_checkFbo'](_0x46570f,_0x41c73d));}if(_0x41c73d['_samples']>-0x1cb1+0x189b+0x417){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0xbf4dd1['createFram'+'ebuffer'](),_0x46570f['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0xa39a86=((_0x412218=_0x41c73d['_colorBuff'+'ers'])==null?void(0x1*0x162b+-0x1*-0x5ae+-0x1bd9):_0x412218['length'])??-0x988+0x4*-0x440+-0x8d8*-0x3;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x1*0xeb5+0x1*-0x1ee0+0x1*0x2d95)){const _0x3f30c4=_0xbf4dd1['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x3f30c4);const _0x2d61a4=_0x46570f['backBuffer'+'Format']===Ne?_0xbf4dd1['RGBA8']:_0xbf4dd1['RGB8'];_0xbf4dd1['bindRender'+'buffer'](_0xbf4dd1['RENDERBUFF'+'ER'],_0x3f30c4),_0xbf4dd1['renderbuff'+'erStorageM'+'ultisample'](_0xbf4dd1['RENDERBUFF'+'ER'],_0x41c73d['_samples'],_0x2d61a4,_0x41c73d['width'],_0x41c73d['height']),_0xbf4dd1['framebuffe'+'rRenderbuf'+'fer'](_0xbf4dd1['FRAMEBUFFE'+'R'],_0xbf4dd1['COLOR_ATTA'+'CHMENT0'],_0xbf4dd1['RENDERBUFF'+'ER'],_0x3f30c4);}else for(let _0x34d68d=0x4*0x6a7+0x2076+-0x2*0x1d89;_0x34d68d<_0xa39a86;++_0x34d68d){const _0x38c2cb=_0x41c73d['getColorBu'+'ffer'](_0x34d68d);if(_0x38c2cb){const _0x6bac97=_0xbf4dd1['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x6bac97),_0xbf4dd1['bindRender'+'buffer'](_0xbf4dd1['RENDERBUFF'+'ER'],_0x6bac97),_0xbf4dd1['renderbuff'+'erStorageM'+'ultisample'](_0xbf4dd1['RENDERBUFF'+'ER'],_0x41c73d['_samples'],_0x38c2cb['impl']['_glInterna'+'lFormat'],_0x41c73d['width'],_0x41c73d['height']),_0xbf4dd1['framebuffe'+'rRenderbuf'+'fer'](_0xbf4dd1['FRAMEBUFFE'+'R'],_0xbf4dd1['COLOR_ATTA'+'CHMENT0']+_0x34d68d,_0xbf4dd1['RENDERBUFF'+'ER'],_0x6bac97);}}if(_0x41c73d['_depth']){w['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x2e79f4=_0x41c73d['_stencil']?_0xbf4dd1['DEPTH24_ST'+'ENCIL8']:_0xbf4dd1['DEPTH_COMP'+'ONENT32F'],_0x550b99=_0x41c73d['_stencil']?_0xbf4dd1['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0xbf4dd1['DEPTH_ATTA'+'CHMENT'];let _0x1f844d;const _0x3e7ba3=_0x41c73d['_depthBuff'+'er'];_0x3e7ba3&&(_0x1f844d=_0x3e7ba3['id']+':'+_0x41c73d['width']+':'+_0x41c73d['height']+':'+_0x41c73d['_samples']+':'+_0x2e79f4+':'+_0x550b99,this['_glMsaaDep'+'thBuffer']=Fd(_0x46570f)['get'](_0x1f844d)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0xbf4dd1['createRend'+'erbuffer'](),_0xbf4dd1['bindRender'+'buffer'](_0xbf4dd1['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0xbf4dd1['renderbuff'+'erStorageM'+'ultisample'](_0xbf4dd1['RENDERBUFF'+'ER'],_0x41c73d['_samples'],_0x2e79f4,_0x41c73d['width'],_0x41c73d['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0xbf4dd1['deleteRend'+'erbuffer'](this);},_0x3e7ba3&&Fd(_0x46570f)['set'](_0x1f844d,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x1f844d,_0xbf4dd1['framebuffe'+'rRenderbuf'+'fer'](_0xbf4dd1['FRAMEBUFFE'+'R'],_0x550b99,_0xbf4dd1['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}w['call'](()=>this['_checkFbo'](_0x46570f,_0x41c73d,'MSAA')),_0xa39a86>-0x1*-0x1051+0x1f29+0xfd3*-0x3&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x46570f,_0x41c73d,_0xa39a86),_0x46570f['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0xbf4dd1['drawBuffer'+'s'](_0x2def6c));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0xf20e86,_0x539eb9,_0x517519){const _0x412ab2=_0xf20e86['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x2d0e28=0x145b*0x1+-0x10c7*0x1+-0x394;_0x2d0e28<_0x517519;++_0x2d0e28){const _0x270fbf=_0x539eb9['getColorBu'+'ffer'](_0x2d0e28),_0x40d2c9=_0x412ab2['createFram'+'ebuffer']();_0xf20e86['setFramebu'+'ffer'](_0x40d2c9);const _0x2233a3=this['_glMsaaCol'+'orBuffers'][_0x2d0e28];_0x412ab2['bindRender'+'buffer'](_0x412ab2['RENDERBUFF'+'ER'],_0x2233a3),_0x412ab2['renderbuff'+'erStorageM'+'ultisample'](_0x412ab2['RENDERBUFF'+'ER'],_0x539eb9['_samples'],_0x270fbf['impl']['_glInterna'+'lFormat'],_0x539eb9['width'],_0x539eb9['height']),_0x412ab2['framebuffe'+'rRenderbuf'+'fer'](_0x412ab2['FRAMEBUFFE'+'R'],_0x412ab2['COLOR_ATTA'+'CHMENT0'],_0x412ab2['RENDERBUFF'+'ER'],_0x2233a3),_0x412ab2['drawBuffer'+'s']([_0x412ab2['COLOR_ATTA'+'CHMENT0']]),w['call'](()=>this['_checkFbo'](_0xf20e86,_0x539eb9,'MSAA-MRT-s'+'rc'+_0x2d0e28));const _0x4009d9=_0x412ab2['createFram'+'ebuffer']();_0xf20e86['setFramebu'+'ffer'](_0x4009d9),_0x412ab2['framebuffe'+'rTexture2D'](_0x412ab2['FRAMEBUFFE'+'R'],_0x412ab2['COLOR_ATTA'+'CHMENT0'],_0x270fbf['_cubemap']?_0x412ab2['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x539eb9['_face']:_0x412ab2['TEXTURE_2D'],_0x270fbf['impl']['_glTexture'],-0x2f9*-0x6+-0x13ac+0xeb*0x2),this['colorMrtFr'+'amebuffers'][_0x2d0e28]=new tw(_0x40d2c9,_0x4009d9),w['call'](()=>this['_checkFbo'](_0xf20e86,_0x539eb9,'MSAA-MRT-d'+'st'+_0x2d0e28));}}['_checkFbo'](_0x3a0acf,_0x41b5c7,_0x171caf=''){const _0x32e655=_0x3a0acf['gl'],_0x88015e=_0x32e655['checkFrame'+'bufferStat'+'us'](_0x32e655['FRAMEBUFFE'+'R']);let _0xffd9e3;switch(_0x88015e){case _0x32e655['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0xffd9e3='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x32e655['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0xffd9e3='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x32e655['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0xffd9e3='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x32e655['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0xffd9e3='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}w['assert'](!_0xffd9e3,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0xffd9e3+(',\x20render\x20t'+'arget:\x20')+_0x41b5c7['name']+'\x20'+_0x171caf,_0x41b5c7);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=0x11cb+-0xdd9+-0x1f9*0x2,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(-0x12b8+-0x1*0xeb1+-0x2169*-0x1),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(-0xf*0xd1+-0x230c+0x1*0x2f4b),this['_isInitial'+'ized']=!(-0xa*-0x233+0x1df2+0x5*-0xa63);}['internalRe'+'solve'](_0x3c9d4a,_0x162330,_0x4ca13c,_0x268a2a,_0x3e3603){w['assert'](_0x162330!==_0x4ca13c,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x3c9d4a['setScissor'](0x247+0x21c+-0x463,-0x8*0x3d1+0x1613+-0x1b1*-0x5,_0x268a2a['width'],_0x268a2a['height']);const _0x393179=_0x3c9d4a['gl'];_0x393179['bindFrameb'+'uffer'](_0x393179['READ_FRAME'+'BUFFER'],_0x162330),_0x393179['bindFrameb'+'uffer'](_0x393179['DRAW_FRAME'+'BUFFER'],_0x4ca13c),_0x393179['blitFrameb'+'uffer'](0x145c+0x4ef*0x5+-0x2d07*0x1,0x207f+-0x174d*0x1+-0x932,_0x268a2a['width'],_0x268a2a['height'],0xc97*0x2+-0x3*-0x81a+0x317c*-0x1,0x1*-0x1fea+0xad2+0x1518,_0x268a2a['width'],_0x268a2a['height'],_0x3e3603,_0x393179['NEAREST']);}['resolve'](_0x40f65d,_0x5e90b0,_0x3f7ce1,_0x17df64){const _0x261683=_0x40f65d['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x3f7ce1)for(let _0x2d2bc4=0xef1+0x2677*-0x1+0x1786;_0x2d2bc4<this['colorMrtFr'+'amebuffers']['length'];_0x2d2bc4++){const _0x3db99f=this['colorMrtFr'+'amebuffers'][_0x2d2bc4];Q['pushGpuMar'+'ker'](_0x40f65d,'RESOLVE-MR'+'T'+_0x2d2bc4),this['internalRe'+'solve'](_0x40f65d,_0x3db99f['msaaFB'],_0x3db99f['resolveFB'],_0x5e90b0,_0x261683['COLOR_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x40f65d);}_0x17df64&&(Q['pushGpuMar'+'ker'](_0x40f65d,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x40f65d,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x5e90b0,_0x261683['DEPTH_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x40f65d));}else Q['pushGpuMar'+'ker'](_0x40f65d,'RESOLVE'),this['internalRe'+'solve'](_0x40f65d,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x5e90b0,(_0x3f7ce1?_0x261683['COLOR_BUFF'+'ER_BIT']:0x529+0x207d+-0x25a6)|(_0x17df64?_0x261683['DEPTH_BUFF'+'ER_BIT']:0x77*-0x1d+0x22e*0x4+-0x1*-0x4c3)),Q['popGpuMark'+'er'](_0x40f65d);_0x261683['bindFrameb'+'uffer'](_0x261683['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class iw{constructor(){h(this,'renderVers'+'ion'),h(this,'queries',[]);}['destroy'](_0x3d542c){this['queries']['forEach'](_0x54b515=>_0x3d542c['deleteQuer'+'y'](_0x54b515)),this['queries']=null;}}class rw extends $T{constructor(_0x5efc8a){super(),h(this,'device'),h(this,'freeQuerie'+'s',[]),h(this,'frameQueri'+'es',[]),h(this,'previousFr'+'ameQueries',[]),h(this,'timings',[]),(this['device']=_0x5efc8a,this['ext']=_0x5efc8a['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x215da8=>this['device']['gl']['deleteQuer'+'y'](_0x215da8)),this['frameQueri'+'es']['forEach'](_0x42099f=>this['device']['gl']['deleteQuer'+'y'](_0x42099f)),this['previousFr'+'ameQueries']['forEach'](_0x57a1eb=>_0x57a1eb['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x28af0b){if(this['ext']){const _0x1eca8e=this['getSlot'](_0x28af0b),_0x2b0a68=this['getQuery']();return this['frameQueri'+'es'][_0x1eca8e]=_0x2b0a68,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x2b0a68),_0x1eca8e;}}['end'](_0x1f0261){_0x1f0261!==void(-0x2+0x118d+-0x118b)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x1a4f1f=this['ext'],_0x183962=this['device']['gl'],_0x371c78=this['device']['renderVers'+'ion'],_0x1f4ae0=this['frameQueri'+'es'];if(_0x1f4ae0['length']>0x13a4+0x7b1*0x2+-0x2306){this['frameQueri'+'es']=[];const _0x39772e=new iw();_0x39772e['queries']=_0x1f4ae0,_0x39772e['renderVers'+'ion']=_0x371c78,this['previousFr'+'ameQueries']['push'](_0x39772e);}if(this['previousFr'+'ameQueries']['length']>-0x1975+0x406+0x725*0x3){const _0x387ef3=this['previousFr'+'ameQueries'][0x2*0xf84+-0x1*-0x77b+-0x2683],_0x69effc=_0x387ef3['queries'],_0x1f0db2=_0x69effc[_0x69effc['length']-(-0x8d*-0x7+0xb9*-0x5+-0x3d)],_0x165a22=_0x183962['getQueryPa'+'rameter'](_0x1f0db2,_0x183962['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x5e8e00=_0x183962['getParamet'+'er'](_0x1a4f1f['GPU_DISJOI'+'NT_EXT']);if(_0x165a22&&!_0x5e8e00){this['previousFr'+'ameQueries']['shift']();const _0x4bd128=this['timings'];_0x4bd128['length']=-0x114a+0x52*-0x53+0x2be0;for(let _0x2b6f72=0x2*-0xca9+-0x7*0x150+0x2282;_0x2b6f72<_0x69effc['length'];_0x2b6f72++){const _0x12f92b=_0x69effc[_0x2b6f72],_0x154321=_0x183962['getQueryPa'+'rameter'](_0x12f92b,_0x183962['QUERY_RESU'+'LT']);_0x4bd128[_0x2b6f72]=_0x154321*(0x2103+0x3a8+0x1*-0x24ab+0.000001),this['freeQuerie'+'s']['push'](_0x12f92b);}this['report'](_0x387ef3['renderVers'+'ion'],_0x4bd128);}_0x5e8e00&&(this['previousFr'+'ameQueries']['forEach'](_0x59cb50=>{this['report'](_0x59cb50['renderVers'+'ion'],null),_0x59cb50['destroy'](_0x183962);}),this['previousFr'+'ameQueries']['length']=0x21c3+-0x1c12+-0x1*0x5b1);}super['request'](_0x371c78);}}}const Da=[];class aw extends $e{constructor(_0xfa782,_0x9b265c={}){super(_0xfa782,_0x9b265c),h(this,'gl'),h(this,'_defaultFr'+'amebuffer',null),h(this,'_defaultFr'+'amebufferC'+'hanged',!(0x26c7+0xef9+-0x35bf*0x1)),(_0x9b265c=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(-0x236f+-0x1e87+-0x1*-0x41f7),this['_contextLo'+'stHandler']=_0x4d2575=>{_0x4d2575['preventDef'+'ault'](),this['loseContex'+'t'](),w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x331f76=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x331f76&&_0x331f76['includes']('AppleWebKi'+'t')&&(_0x331f76['includes']('15.4')||_0x331f76['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x9b265c['antialias']=!(-0x6*0x2be+0x9*-0x3df+-0x334c*-0x1),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),Ae['browserNam'+'e']==='firefox'){const _0x423cac=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x41016e=_0x423cac?_0x423cac[0x2330+0x10b*-0x25+0x368]:null;if(_0x41016e){const _0x3df930=parseFloat(_0x41016e);(Ae['name']==='windows'&&(_0x3df930>=-0x1*0x1bdf+-0x20ef+-0x2c9*-0x16||_0x3df930===0x229a+-0x1*-0x230b+-0x22*0x209)||Ae['name']==='android'&&_0x3df930>=-0x3*-0x52+-0x20e2+0x2070)&&(_0x9b265c['antialias']=!(0x611+0x4*0x2b9+-0x10f4),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+Ae['name']+('\x20platform\x20'+'version\x20')+_0x41016e));}}this['backBuffer'+'Antialias']=_0x9b265c['antialias']??!(-0xf8*-0x1+0x49b+-0x2*0x2c9),_0x9b265c['antialias']=!(-0xe71+0x25b2+0xba*-0x20);const _0x25f760=_0x9b265c['gl']??_0xfa782['getContext']('webgl2',_0x9b265c);if(!_0x25f760)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x25f760,this['isWebGL2']=!(-0x1*-0xe6d+-0x24e2+0x1*0x1675),this['_deviceTyp'+'e']=aT,this['updateBack'+'bufferForm'+'at'](null);const _0x59e782=Ae['browserNam'+'e']==='chrome',_0x17496f=Ae['browserNam'+'e']==='safari',_0x3bdb75=Ae['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(-0x1*0x24f5+0x1c*0xd4+0xdc6);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x17496f,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x3bdb75&&_0x59e782&&!_0x9b265c['alpha'],_0xfa782['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x1fd8*0x1+0x379*-0x8+-0x40f*0x1)),_0xfa782['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(-0x264b+-0x1481*-0x1+0x11cb)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x17496f&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x25f760['SAMPLER_2D'],_0x25f760['SAMPLER_CU'+'BE'],_0x25f760['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x25f760['INT_SAMPLE'+'R_2D'],_0x25f760['SAMPLER_2D'+'_SHADOW'],_0x25f760['SAMPLER_CU'+'BE_SHADOW'],_0x25f760['SAMPLER_3D'],_0x25f760['INT_SAMPLE'+'R_3D'],_0x25f760['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x25f760['SAMPLER_2D'+'_ARRAY'],_0x25f760['INT_SAMPLE'+'R_2D_ARRAY'],_0x25f760['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x25f760['REPEAT'],_0x25f760['CLAMP_TO_E'+'DGE'],_0x25f760['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x25f760['FUNC_ADD'],_0x25f760['FUNC_SUBTR'+'ACT'],_0x25f760['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x25f760['MIN'],_0x25f760['MAX']],this['glBlendFun'+'ctionColor']=[_0x25f760['ZERO'],_0x25f760['ONE'],_0x25f760['SRC_COLOR'],_0x25f760['ONE_MINUS_'+'SRC_COLOR'],_0x25f760['DST_COLOR'],_0x25f760['ONE_MINUS_'+'DST_COLOR'],_0x25f760['SRC_ALPHA'],_0x25f760['SRC_ALPHA_'+'SATURATE'],_0x25f760['ONE_MINUS_'+'SRC_ALPHA'],_0x25f760['DST_ALPHA'],_0x25f760['ONE_MINUS_'+'DST_ALPHA'],_0x25f760['CONSTANT_C'+'OLOR'],_0x25f760['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x25f760['ZERO'],_0x25f760['ONE'],_0x25f760['SRC_COLOR'],_0x25f760['ONE_MINUS_'+'SRC_COLOR'],_0x25f760['DST_COLOR'],_0x25f760['ONE_MINUS_'+'DST_COLOR'],_0x25f760['SRC_ALPHA'],_0x25f760['SRC_ALPHA_'+'SATURATE'],_0x25f760['ONE_MINUS_'+'SRC_ALPHA'],_0x25f760['DST_ALPHA'],_0x25f760['ONE_MINUS_'+'DST_ALPHA'],_0x25f760['CONSTANT_A'+'LPHA'],_0x25f760['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x25f760['NEVER'],_0x25f760['LESS'],_0x25f760['EQUAL'],_0x25f760['LEQUAL'],_0x25f760['GREATER'],_0x25f760['NOTEQUAL'],_0x25f760['GEQUAL'],_0x25f760['ALWAYS']],this['glStencilO'+'p']=[_0x25f760['KEEP'],_0x25f760['ZERO'],_0x25f760['REPLACE'],_0x25f760['INCR'],_0x25f760['INCR_WRAP'],_0x25f760['DECR'],_0x25f760['DECR_WRAP'],_0x25f760['INVERT']],this['glClearFla'+'g']=[-0x1f25+0x1333+0xbf2,_0x25f760['COLOR_BUFF'+'ER_BIT'],_0x25f760['DEPTH_BUFF'+'ER_BIT'],_0x25f760['COLOR_BUFF'+'ER_BIT']|_0x25f760['DEPTH_BUFF'+'ER_BIT'],_0x25f760['STENCIL_BU'+'FFER_BIT'],_0x25f760['STENCIL_BU'+'FFER_BIT']|_0x25f760['COLOR_BUFF'+'ER_BIT'],_0x25f760['STENCIL_BU'+'FFER_BIT']|_0x25f760['DEPTH_BUFF'+'ER_BIT'],_0x25f760['STENCIL_BU'+'FFER_BIT']|_0x25f760['COLOR_BUFF'+'ER_BIT']|_0x25f760['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[-0x1*-0xac4+-0x241*-0x3+-0x1187,_0x25f760['BACK'],_0x25f760['FRONT'],_0x25f760['FRONT_AND_'+'BACK']],this['glFilter']=[_0x25f760['NEAREST'],_0x25f760['LINEAR'],_0x25f760['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x25f760['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x25f760['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x25f760['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x25f760['POINTS'],_0x25f760['LINES'],_0x25f760['LINE_LOOP'],_0x25f760['LINE_STRIP'],_0x25f760['TRIANGLES'],_0x25f760['TRIANGLE_S'+'TRIP'],_0x25f760['TRIANGLE_F'+'AN']],this['glType']=[_0x25f760['BYTE'],_0x25f760['UNSIGNED_B'+'YTE'],_0x25f760['SHORT'],_0x25f760['UNSIGNED_S'+'HORT'],_0x25f760['INT'],_0x25f760['UNSIGNED_I'+'NT'],_0x25f760['FLOAT'],_0x25f760['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x25f760['BOOL']]=Tn,this['pcUniformT'+'ype'][_0x25f760['INT']]=_a,this['pcUniformT'+'ype'][_0x25f760['FLOAT']]=Xs,this['pcUniformT'+'ype'][_0x25f760['FLOAT_VEC2']]=ga,this['pcUniformT'+'ype'][_0x25f760['FLOAT_VEC3']]=ds,this['pcUniformT'+'ype'][_0x25f760['FLOAT_VEC4']]=Rn,this['pcUniformT'+'ype'][_0x25f760['INT_VEC2']]=ca,this['pcUniformT'+'ype'][_0x25f760['INT_VEC3']]=ha,this['pcUniformT'+'ype'][_0x25f760['INT_VEC4']]=da,this['pcUniformT'+'ype'][_0x25f760['BOOL_VEC2']]=tl,this['pcUniformT'+'ype'][_0x25f760['BOOL_VEC3']]=sl,this['pcUniformT'+'ype'][_0x25f760['BOOL_VEC4']]=il,this['pcUniformT'+'ype'][_0x25f760['FLOAT_MAT2']]=_h,this['pcUniformT'+'ype'][_0x25f760['FLOAT_MAT3']]=On,this['pcUniformT'+'ype'][_0x25f760['FLOAT_MAT4']]=li,this['pcUniformT'+'ype'][_0x25f760['SAMPLER_2D']]=Hx,this['pcUniformT'+'ype'][_0x25f760['SAMPLER_CU'+'BE']]=Wx,this['pcUniformT'+'ype'][_0x25f760['UNSIGNED_I'+'NT']]=Fn,this['pcUniformT'+'ype'][_0x25f760['UNSIGNED_I'+'NT_VEC2']]=Nn,this['pcUniformT'+'ype'][_0x25f760['UNSIGNED_I'+'NT_VEC3']]=kn,this['pcUniformT'+'ype'][_0x25f760['UNSIGNED_I'+'NT_VEC4']]=Un,this['pcUniformT'+'ype'][_0x25f760['SAMPLER_2D'+'_SHADOW']]=$x,this['pcUniformT'+'ype'][_0x25f760['SAMPLER_CU'+'BE_SHADOW']]=Xx,this['pcUniformT'+'ype'][_0x25f760['SAMPLER_2D'+'_ARRAY']]=jx,this['pcUniformT'+'ype'][_0x25f760['SAMPLER_3D']]=qx,this['pcUniformT'+'ype'][_0x25f760['INT_SAMPLE'+'R_2D']]=Yx,this['pcUniformT'+'ype'][_0x25f760['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Kx,this['pcUniformT'+'ype'][_0x25f760['INT_SAMPLE'+'R_CUBE']]=Zx,this['pcUniformT'+'ype'][_0x25f760['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Qx,this['pcUniformT'+'ype'][_0x25f760['INT_SAMPLE'+'R_3D']]=Jx,this['pcUniformT'+'ype'][_0x25f760['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=eT,this['pcUniformT'+'ype'][_0x25f760['INT_SAMPLE'+'R_2D_ARRAY']]=tT,this['pcUniformT'+'ype'][_0x25f760['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=sT,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x25f760['TEXTURE_2D']]=0xc*0x36+0x2285*-0x1+0x1ffd,this['targetToSl'+'ot'][_0x25f760['TEXTURE_CU'+'BE_MAP']]=-0x1*0xd35+0x25b9+0x1*-0x1883,this['targetToSl'+'ot'][_0x25f760['TEXTURE_3D']]=0x7b5*-0x1+0x5*0xad+0x456;let _0x236557,_0x51d180,_0x4ca32d,_0x4451e3,_0x5f0026;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][Tn]=function(_0x1e45ef,_0x1284fb){_0x1e45ef['value']!==_0x1284fb&&(_0x25f760['uniform1i'](_0x1e45ef['locationId'],_0x1284fb),_0x1e45ef['value']=_0x1284fb);},this['commitFunc'+'tion'][_a]=this['commitFunc'+'tion'][Tn],this['commitFunc'+'tion'][Xs]=function(_0x4033bc,_0x43a36c){_0x4033bc['value']!==_0x43a36c&&(_0x25f760['uniform1f'](_0x4033bc['locationId'],_0x43a36c),_0x4033bc['value']=_0x43a36c);},this['commitFunc'+'tion'][ga]=function(_0x2b160f,_0x2aa0e4){_0x5f0026=_0x2b160f['value'],_0x236557=_0x2aa0e4[0x12c4+-0x4d0+-0x5e*0x26],_0x51d180=_0x2aa0e4[0x1ec6+0x1*0x1e7f+0xf51*-0x4],(_0x5f0026[0x39*0x29+-0x13f*-0x1+0x8*-0x14c]!==_0x236557||_0x5f0026[-0x1e64+-0x6b*0xa+0x2293]!==_0x51d180)&&(_0x25f760['uniform2fv'](_0x2b160f['locationId'],_0x2aa0e4),_0x5f0026[0x1a2f+-0x17*-0x26+0x1d99*-0x1]=_0x236557,_0x5f0026[-0x1184+0x82a+-0x5*-0x1df]=_0x51d180);},this['commitFunc'+'tion'][ds]=function(_0x58cd41,_0x235401){_0x5f0026=_0x58cd41['value'],_0x236557=_0x235401[0x1*0x1e05+0x1*-0x25d9+0x7d4],_0x51d180=_0x235401[0x71*-0x55+-0x21cf*-0x1+0x13d*0x3],_0x4ca32d=_0x235401[0x3ba*0x3+-0x25*0x83+-0x1*-0x7c3],(_0x5f0026[-0x82+0x1*-0x6ee+0x770]!==_0x236557||_0x5f0026[0x1cc6+-0x1b1d+0x1a8*-0x1]!==_0x51d180||_0x5f0026[0x1075+0xb*-0x79+-0xb40]!==_0x4ca32d)&&(_0x25f760['uniform3fv'](_0x58cd41['locationId'],_0x235401),_0x5f0026[0x8c2+0x1b3a+0x62*-0x5e]=_0x236557,_0x5f0026[0xdc*0x22+0x200c+-0x3d43]=_0x51d180,_0x5f0026[-0x24b*-0x3+0x6f0+-0xdcf]=_0x4ca32d);},this['commitFunc'+'tion'][Rn]=function(_0x5e8425,_0x5a0c38){_0x5f0026=_0x5e8425['value'],_0x236557=_0x5a0c38[0x22e1+0xe83+-0x3164],_0x51d180=_0x5a0c38[0x3*-0x207+-0x1f3e+0x2554*0x1],_0x4ca32d=_0x5a0c38[-0xb92*0x1+-0x18bf+-0x1*-0x2453],_0x4451e3=_0x5a0c38[0xfbf*0x1+-0x10*0x1ce+0xd24],(_0x5f0026[0x1d8c+-0x140e+-0x3*0x32a]!==_0x236557||_0x5f0026[-0x20cc*-0x1+-0x217a+0xaf]!==_0x51d180||_0x5f0026[-0x6e6+-0x8f7*-0x3+0x13fd*-0x1]!==_0x4ca32d||_0x5f0026[-0x5e7*0x4+0x730+0x106f]!==_0x4451e3)&&(_0x25f760['uniform4fv'](_0x5e8425['locationId'],_0x5a0c38),_0x5f0026[-0xf5b*0x2+0x326*-0xa+0x3e32]=_0x236557,_0x5f0026[-0x1*-0x55d+-0x37+-0x1b7*0x3]=_0x51d180,_0x5f0026[0xe*-0x28c+-0x1*0x1e81+0x1*0x422b]=_0x4ca32d,_0x5f0026[0x42*0x3e+0x1*0x4cd+-0x14c6]=_0x4451e3);},this['commitFunc'+'tion'][ca]=function(_0x6ea8e5,_0x4ff4ee){_0x5f0026=_0x6ea8e5['value'],_0x236557=_0x4ff4ee[0x1*-0x16af+0x18a9+-0x1fa],_0x51d180=_0x4ff4ee[-0x2*0x47+-0xe03+0x1*0xe92],(_0x5f0026[-0x424*0x4+-0x1581+-0x2611*-0x1]!==_0x236557||_0x5f0026[0x10cd+0x24c3*0x1+-0x358f]!==_0x51d180)&&(_0x25f760['uniform2iv'](_0x6ea8e5['locationId'],_0x4ff4ee),_0x5f0026[-0x1f3*-0xb+0x21*0x21+-0x19b2]=_0x236557,_0x5f0026[-0x1*-0x10c7+0x52*-0x28+-0x3f6]=_0x51d180);},this['commitFunc'+'tion'][tl]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][ha]=function(_0x4ea7ed,_0x412a42){_0x5f0026=_0x4ea7ed['value'],_0x236557=_0x412a42[0x100d+0x1*-0x4d5+-0xb38],_0x51d180=_0x412a42[-0x1*0x90f+-0x641+0xf51],_0x4ca32d=_0x412a42[-0x1*-0x1d8b+-0xbd*-0x33+-0x6b8*0xa],(_0x5f0026[0x1*-0x6f6+-0x1*0x6c1+0xdb7]!==_0x236557||_0x5f0026[0x1*0x1ac9+0x2*0x778+0x10b*-0x28]!==_0x51d180||_0x5f0026[-0x237c+0x184f+-0x199*-0x7]!==_0x4ca32d)&&(_0x25f760['uniform3iv'](_0x4ea7ed['locationId'],_0x412a42),_0x5f0026[0x1*0x1b06+0x195*-0x7+-0xff3]=_0x236557,_0x5f0026[0x2*0x180+0x1f3*0xf+0x1*-0x203c]=_0x51d180,_0x5f0026[-0x16bb+-0x15*-0x12+0x1543*0x1]=_0x4ca32d);},this['commitFunc'+'tion'][sl]=this['commitFunc'+'tion'][ha],this['commitFunc'+'tion'][da]=function(_0x1d9ac3,_0x5ebed9){_0x5f0026=_0x1d9ac3['value'],_0x236557=_0x5ebed9[0x1e61+-0xa24*0x1+-0x21*0x9d],_0x51d180=_0x5ebed9[-0x1*0x1b85+0x4*0x373+0xdba],_0x4ca32d=_0x5ebed9[-0x2*0x546+-0x1*0x1d8f+0x281d],_0x4451e3=_0x5ebed9[0xc17*-0x1+0xf25+-0x30b],(_0x5f0026[0xe1d*0x1+0x373*-0xb+-0x19*-0xf4]!==_0x236557||_0x5f0026[-0x1aaf+-0x4*-0x282+0x42a*0x4]!==_0x51d180||_0x5f0026[0x1faf*0x1+0x7*0x11+-0x2024]!==_0x4ca32d||_0x5f0026[-0xc41+0x12*-0x1fb+-0x2fea*-0x1]!==_0x4451e3)&&(_0x25f760['uniform4iv'](_0x1d9ac3['locationId'],_0x5ebed9),_0x5f0026[0x343+0x4*0x56+-0x1*0x49b]=_0x236557,_0x5f0026[0x3*0x885+0x47*0x7c+-0x3bf2]=_0x51d180,_0x5f0026[-0x2470+-0x19*0xcd+0x3877]=_0x4ca32d,_0x5f0026[-0x2*0x5a8+-0xb7d+0x16d*0x10]=_0x4451e3);},this['commitFunc'+'tion'][il]=this['commitFunc'+'tion'][da],this['commitFunc'+'tion'][_h]=function(_0x51e781,_0x576405){_0x25f760['uniformMat'+'rix2fv'](_0x51e781['locationId'],!(-0x13a4+0x255d+0x1*-0x11b8),_0x576405);},this['commitFunc'+'tion'][On]=function(_0x2a1bc1,_0x50c9ef){_0x25f760['uniformMat'+'rix3fv'](_0x2a1bc1['locationId'],!(-0x2423+-0x23f9*0x1+-0x481d*-0x1),_0x50c9ef);},this['commitFunc'+'tion'][li]=function(_0x2c9dca,_0x5a0928){_0x25f760['uniformMat'+'rix4fv'](_0x2c9dca['locationId'],!(0x114d*0x1+-0x152c+0x3e0),_0x5a0928);},this['commitFunc'+'tion'][ud]=function(_0x367ebf,_0x295abd){_0x25f760['uniform1fv'](_0x367ebf['locationId'],_0x295abd);},this['commitFunc'+'tion'][pd]=function(_0x2e9a77,_0x10ad85){_0x25f760['uniform2fv'](_0x2e9a77['locationId'],_0x10ad85);},this['commitFunc'+'tion'][md]=function(_0x57246a,_0x1118b1){_0x25f760['uniform3fv'](_0x57246a['locationId'],_0x1118b1);},this['commitFunc'+'tion'][Lp]=function(_0x25d6c0,_0x5a3cac){_0x25f760['uniform4fv'](_0x25d6c0['locationId'],_0x5a3cac);},this['commitFunc'+'tion'][Fn]=function(_0x59a432,_0xcab465){_0x59a432['value']!==_0xcab465&&(_0x25f760['uniform1ui'](_0x59a432['locationId'],_0xcab465),_0x59a432['value']=_0xcab465);},this['commitFunc'+'tion'][Nn]=function(_0x4263c4,_0x1c93b2){_0x5f0026=_0x4263c4['value'],_0x236557=_0x1c93b2[0x131f+-0x1*0xe4+0x123b*-0x1],_0x51d180=_0x1c93b2[0x20d6+0x2363*0x1+-0x4438],(_0x5f0026[-0x199*-0xc+-0x1a48+-0x2*-0x38e]!==_0x236557||_0x5f0026[-0x110d+-0x1892+0x29a0]!==_0x51d180)&&(_0x25f760['uniform2ui'+'v'](_0x4263c4['locationId'],_0x1c93b2),_0x5f0026[0x22c*0xd+-0x1*-0x2f7+-0x1f33]=_0x236557,_0x5f0026[-0x28*0xa+0x59*0x19+-0x720]=_0x51d180);},this['commitFunc'+'tion'][kn]=function(_0x45edfb,_0x22d08b){_0x5f0026=_0x45edfb['value'],_0x236557=_0x22d08b[0x65*0xb+-0x1*-0x26a+-0x6c1],_0x51d180=_0x22d08b[-0x1f2d+0x31f*-0x7+0x3507],_0x4ca32d=_0x22d08b[-0xf3*-0x16+0xb4a+-0x1*0x202a],(_0x5f0026[-0xcb7*-0x1+-0x2*0x174+-0x1b*0x5d]!==_0x236557||_0x5f0026[-0x1bfd+-0x2*-0x931+-0x267*-0x4]!==_0x51d180||_0x5f0026[-0xdb7*0x1+-0x1951+0x20e*0x13]!==_0x4ca32d)&&(_0x25f760['uniform3ui'+'v'](_0x45edfb['locationId'],_0x22d08b),_0x5f0026[0x25af+-0x9c2+0x1bed*-0x1]=_0x236557,_0x5f0026[0x3e5*-0x9+-0x2082+0x4390]=_0x51d180,_0x5f0026[-0x3fa*0x4+0x1*0x2d7+-0x1*-0xd13]=_0x4ca32d);},this['commitFunc'+'tion'][Un]=function(_0x5bc32c,_0x26b7b6){_0x5f0026=_0x5bc32c['value'],_0x236557=_0x26b7b6[-0x118a+0x2a2*0x7+-0xe4],_0x51d180=_0x26b7b6[-0x738+0xcc*-0x1f+0x1fed*0x1],_0x4ca32d=_0x26b7b6[-0x5*0x54d+-0x1*-0x246e+-0x9eb],_0x4451e3=_0x26b7b6[-0x7f*0x41+-0x16e8*-0x1+0x95a],(_0x5f0026[-0x2657+0x190e+-0xd49*-0x1]!==_0x236557||_0x5f0026[0x77*0x25+-0xbb*-0x1d+-0xf*0x28f]!==_0x51d180||_0x5f0026[0x1b09+-0x2*0xc9d+0x1*-0x1cd]!==_0x4ca32d||_0x5f0026[0x209*-0x13+0x1565+0x1149]!==_0x4451e3)&&(_0x25f760['uniform4ui'+'v'](_0x5bc32c['locationId'],_0x26b7b6),_0x5f0026[0x1*-0x544+0x2*0x908+-0xccc]=_0x236557,_0x5f0026[-0x1*-0x12c3+-0x1*-0x1b9d+-0x2e5f]=_0x51d180,_0x5f0026[-0x2307+0x521*-0x4+0x378d*0x1]=_0x4ca32d,_0x5f0026[0xe54+0x15b+-0xec*0x11]=_0x4451e3);},this['commitFunc'+'tion'][Bn]=function(_0x581ede,_0x2f5d99){_0x25f760['uniform1iv'](_0x581ede['locationId'],_0x2f5d99);},this['commitFunc'+'tion'][_d]=function(_0x173fe6,_0xbd5c5b){_0x25f760['uniform1ui'+'v'](_0x173fe6['locationId'],_0xbd5c5b);},this['commitFunc'+'tion'][gd]=this['commitFunc'+'tion'][Bn],this['commitFunc'+'tion'][zn]=function(_0x512988,_0x5416d8){_0x25f760['uniform2iv'](_0x512988['locationId'],_0x5416d8);},this['commitFunc'+'tion'][Sd]=function(_0x415157,_0x149f4f){_0x25f760['uniform2ui'+'v'](_0x415157['locationId'],_0x149f4f);},this['commitFunc'+'tion'][yd]=this['commitFunc'+'tion'][zn],this['commitFunc'+'tion'][Vn]=function(_0x547be5,_0x3d0e3e){_0x25f760['uniform3iv'](_0x547be5['locationId'],_0x3d0e3e);},this['commitFunc'+'tion'][vd]=function(_0x518652,_0x1c9059){_0x25f760['uniform3ui'+'v'](_0x518652['locationId'],_0x1c9059);},this['commitFunc'+'tion'][xd]=this['commitFunc'+'tion'][Vn],this['commitFunc'+'tion'][gh]=function(_0x119f3e,_0x5ef7b2){_0x25f760['uniform4iv'](_0x119f3e['locationId'],_0x5ef7b2);},this['commitFunc'+'tion'][Rp]=function(_0x482866,_0x221a2b){_0x25f760['uniform4ui'+'v'](_0x482866['locationId'],_0x221a2b);},this['commitFunc'+'tion'][Op]=this['commitFunc'+'tion'][gh],this['commitFunc'+'tion'][wy]=function(_0x5b9aa5,_0x9480b){_0x25f760['uniformMat'+'rix4fv'](_0x5b9aa5['locationId'],!(-0x923+0x11f8+0x1c4*-0x5),_0x9480b);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new rw(this);}['destroy'](){super['destroy']();const _0x511f10=this['gl'];this['feedback']&&_0x511f10['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(-0xb3*-0x2b+-0x24d9+-0x3*-0x243)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x1877+-0x8d*0x12+-0xe8c)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x433b96){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new gt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x433b96;}['updateBack'+'bufferForm'+'at'](_0x5616b2){const _0x356408=this['gl'];_0x356408['bindFrameb'+'uffer'](_0x356408['FRAMEBUFFE'+'R'],_0x5616b2);const _0x3e94a5=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x3e94a5?Ne:Cr;}['updateBack'+'buffer'](){const _0x2b0b36=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x2b0b36)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(0x1*-0x964+-0x10c5*-0x1+-0x8*0xec),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x3d7fbd,_0x5c14e8){return new XT();}['createInde'+'xBufferImp'+'l'](_0x896422){return new qT(_0x896422);}['createShad'+'erImpl'](_0x422a64){return new JT(_0x422a64);}['createText'+'ureImpl'](_0x99b65f){return new ew(_0x99b65f);}['createRend'+'erTargetIm'+'pl'](_0x51c5a0){return new sw();}['pushMarker'](_0x3951a9){if(Ae['browser']&&window['spector']){const _0x330aa9=Q['toString']();window['spector']['setMarker'](_0x330aa9+'\x20#');}}['popMarker'](){if(Ae['browser']&&window['spector']){const _0x43b77c=Q['toString']();_0x43b77c['length']?window['spector']['setMarker'](_0x43b77c+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x1d91e4=this['gl'];let _0xb1909a='highp';if(_0x1d91e4['getShaderP'+'recisionFo'+'rmat']){const _0x3ac8e4=_0x1d91e4['getShaderP'+'recisionFo'+'rmat'](_0x1d91e4['VERTEX_SHA'+'DER'],_0x1d91e4['HIGH_FLOAT']),_0x9b8956=_0x1d91e4['getShaderP'+'recisionFo'+'rmat'](_0x1d91e4['VERTEX_SHA'+'DER'],_0x1d91e4['MEDIUM_FLO'+'AT']),_0x398f6a=_0x1d91e4['getShaderP'+'recisionFo'+'rmat'](_0x1d91e4['FRAGMENT_S'+'HADER'],_0x1d91e4['HIGH_FLOAT']),_0x4bdce6=_0x1d91e4['getShaderP'+'recisionFo'+'rmat'](_0x1d91e4['FRAGMENT_S'+'HADER'],_0x1d91e4['MEDIUM_FLO'+'AT']);if(_0x3ac8e4&&_0x9b8956&&_0x398f6a&&_0x4bdce6){const _0x1f9581=_0x3ac8e4['precision']>0x2*-0x389+0x1c8c+-0x1*0x157a&&_0x398f6a['precision']>-0x2566+-0x4*-0x38+0xbb*0x32,_0x3f1c38=_0x9b8956['precision']>-0x7aa+-0x23b5+-0x1*-0x2b5f&&_0x4bdce6['precision']>-0x2535+-0x6*-0x679+-0x1a1;_0x1f9581||(_0x3f1c38?(_0xb1909a='mediump',w['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0xb1909a='lowp',w['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0xb1909a;}['getExtensi'+'on'](){for(let _0x5cce33=-0x305*-0x4+-0x1d52+-0x2*-0x89f;_0x5cce33<arguments['length'];_0x5cce33++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x5cce33])!==-(0x1*-0x1dd9+0x1205+0xbd5))return this['gl']['getExtensi'+'on'](arguments[_0x5cce33]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0xfa125b=this['gl'];this['supportedE'+'xtensions']=_0xfa125b['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0x13ff*-0x1+-0x56c+-0x215*0x7),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float'),this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc');}['initialize'+'Capabiliti'+'es'](){const _0x23031f=this['gl'];let _0x3b6e58;const _0x54a29e=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x2744b6=_0x23031f['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x2744b6==null?void(0x1204+-0x1315*0x2+0xa13*0x2):_0x2744b6['antialias'])??!(-0x3f8*-0x4+-0x1f0+-0x29*0x57),this['supportsSt'+'encil']=(_0x2744b6==null?void(0x293+0x2*0x5f4+-0xe7b*0x1):_0x2744b6['stencil'])??!(-0x3f1*-0x2+-0x4*-0x856+-0x2939),this['maxTexture'+'Size']=_0x23031f['getParamet'+'er'](_0x23031f['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0x23031f['getParamet'+'er'](_0x23031f['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0x23031f['getParamet'+'er'](_0x23031f['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0x23031f['getParamet'+'er'](_0x23031f['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0x23031f['getParamet'+'er'](_0x23031f['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0x23031f['getParamet'+'er'](_0x23031f['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0x23031f['getParamet'+'er'](_0x23031f['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0x23031f['getParamet'+'er'](_0x23031f['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0x23031f['getParamet'+'er'](_0x23031f['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0x23031f['getParamet'+'er'](_0x23031f['MAX_3D_TEX'+'TURE_SIZE']),_0x3b6e58=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x3b6e58?_0x23031f['getParamet'+'er'](_0x3b6e58['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x3b6e58?_0x23031f['getParamet'+'er'](_0x3b6e58['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x1b08d8=/\bMali-G52+/,_0x243f0c=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x54a29e['match'](_0x243f0c))&&!this['unmaskedRe'+'nderer']['match'](_0x1b08d8),_0x3b6e58=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x3b6e58?_0x23031f['getParamet'+'er'](_0x3b6e58['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):0x20e0+0x23e0+0x44bf*-0x1;const _0x4fdf07=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x4fdf07?_0x23031f['getParamet'+'er'](_0x23031f['MAX_SAMPLE'+'S']):0xaa1+0x113*0xb+0xf*-0x17f,this['maxSamples']=Math['min'](this['maxSamples'],0x1*0x371+0x81c+-0x1*0xb89),this['samples']=_0x4fdf07&&this['backBuffer'+'Antialias']?this['maxSamples']:-0x45*0x2f+0xe*0x269+-0x1512,this['supportsAr'+'eaLights']=!Ae['android'],this['maxTexture'+'s']<=0xa16+-0x210a+0x16fc&&(this['supportsAr'+'eaLights']=!(0x322*-0x3+-0x20a0+0x2a07*0x1)),this['initCapsDe'+'fines']();}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x43b045=this['gl'];_0x43b045['disable'](_0x43b045['BLEND']),_0x43b045['blendFunc'](_0x43b045['ONE'],_0x43b045['ZERO']),_0x43b045['blendEquat'+'ion'](_0x43b045['FUNC_ADD']),_0x43b045['colorMask'](!(0x23*-0xf9+-0x1e49*-0x1+0x25*0x1a),!(-0x26d*-0x1+0x15*0x1a3+-0x24cc),!(0x1bb*-0x3+-0xe52+-0x3*-0x681),!(-0x2f9*0xd+-0x83*-0x7+0xb*0x330)),_0x43b045['blendColor'](0x959*0x3+-0xab3+0xf*-0x128,0x5c3+0x16*0x3d+-0x9*0x139,0x1a6a+-0x1220+-0x84a,0x1df9*0x1+-0xbb*0x5+-0x1a52),_0x43b045['enable'](_0x43b045['CULL_FACE']),this['cullFace']=_0x43b045['BACK'],_0x43b045['cullFace'](_0x43b045['BACK']),_0x43b045['enable'](_0x43b045['DEPTH_TEST']),_0x43b045['depthFunc'](_0x43b045['LEQUAL']),_0x43b045['depthMask'](!(-0x2a*0xc+0x1eeb+-0x1*0x1cf3)),this['stencil']=!(-0xf39*0x2+-0x651+0x24c4*0x1),_0x43b045['disable'](_0x43b045['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Wi,this['stencilRef'+'Front']=this['stencilRef'+'Back']=0x5f+0x2207+-0x2266,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=-0x238a+0x12d9*0x2+-0x129,_0x43b045['stencilFun'+'c'](_0x43b045['ALWAYS'],0xec4+0xe06+-0x1cca,0x1645*0x1+0x1687+-0x2bcd),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=xn,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=xn,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=xn,this['stencilWri'+'teMaskFron'+'t']=-0x3e5+-0x21*-0x61+-0x79d,this['stencilWri'+'teMaskBack']=0x2609+0x1a6+-0x26b0,_0x43b045['stencilOp'](_0x43b045['KEEP'],_0x43b045['KEEP'],_0x43b045['KEEP']),_0x43b045['stencilMas'+'k'](-0x1274*-0x1+-0x18fc+0x787),this['alphaToCov'+'erage']=!(-0x3d1*0x1+-0x19a*-0x5+-0x8*0x86),this['raster']=!(0x29*-0x1+0x2dd*-0x1+-0x1*-0x306),_0x43b045['disable'](_0x43b045['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x43b045['disable'](_0x43b045['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(0x14a6+-0x1*-0x5ee+-0x1a93),_0x43b045['disable'](_0x43b045['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=-0xc10+-0x1*-0xadf+0x132,_0x43b045['clearDepth'](0x2*0x34c+0xb41+-0x476*0x4),this['clearColor']=new ie(-0x7*0x501+0x25*0x31+0x1bf2,0x2089+-0x160e+-0xa7b*0x1,0x3f5+-0x1*-0x139f+-0x1794,0x5*-0x335+-0x1fd9+0x2fe2),_0x43b045['clearColor'](0x17fb+0xd99*-0x2+0x1*0x337,-0x44d*0x1+0xb5+0x398,-0x2ce*-0x6+-0x4+-0x10d0,-0x1*0x1139+0x200e+-0x1*0xed5),this['clearStenc'+'il']=0x1596+-0x1a44+0x4ae,_0x43b045['clearStenc'+'il'](-0x1*-0xee6+-0x1*-0x15b9+-0x19*0x177),_0x43b045['hint'](_0x43b045['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x43b045['NICEST']),_0x43b045['enable'](_0x43b045['SCISSOR_TE'+'ST']),_0x43b045['pixelStore'+'i'](_0x43b045['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x43b045['NONE']),this['unpackFlip'+'Y']=!(0x1984+0x2c6*0x5+-0x2761),_0x43b045['pixelStore'+'i'](_0x43b045['UNPACK_FLI'+'P_Y_WEBGL'],!(-0x22d5*-0x1+-0x2028+-0x2ac)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(-0x1c82+0x151*0x9+0x10aa),_0x43b045['pixelStore'+'i'](_0x43b045['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(-0x10*0x6d+-0x25d3+0x4*0xb29)),_0x43b045['pixelStore'+'i'](_0x43b045['UNPACK_ALI'+'GNMENT'],-0x210f+-0x208d+0x419d);}['initTextur'+'eUnits'](_0xedeb57=-0x2ba*-0xb+-0x1b*0x12b+-0x3*-0x89){this['textureUni'+'ts']=[];for(let _0xf45f1a=-0x2093+-0x2*0xd9f+-0x1*-0x3bd1;_0xf45f1a<_0xedeb57;_0xf45f1a++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=0x1*-0x5b+0x1*-0x13df+0x143a,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x319df5 of this['shaders'])_0x319df5['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x4ce31a of this['shaders'])_0x4ce31a['restoreCon'+'text']();}['setViewpor'+'t'](_0x3902ef,_0x2001ca,_0x493f92,_0x1662f6){(this['vx']!==_0x3902ef||this['vy']!==_0x2001ca||this['vw']!==_0x493f92||this['vh']!==_0x1662f6)&&(this['gl']['viewport'](_0x3902ef,_0x2001ca,_0x493f92,_0x1662f6),this['vx']=_0x3902ef,this['vy']=_0x2001ca,this['vw']=_0x493f92,this['vh']=_0x1662f6);}['setScissor'](_0x298e83,_0x1ca914,_0x4193d9,_0x1751d2){(this['sx']!==_0x298e83||this['sy']!==_0x1ca914||this['sw']!==_0x4193d9||this['sh']!==_0x1751d2)&&(this['gl']['scissor'](_0x298e83,_0x1ca914,_0x4193d9,_0x1751d2),this['sx']=_0x298e83,this['sy']=_0x1ca914,this['sw']=_0x4193d9,this['sh']=_0x1751d2);}['setFramebu'+'ffer'](_0x19e08d){if(this['activeFram'+'ebuffer']!==_0x19e08d){const _0x1f323b=this['gl'];_0x1f323b['bindFrameb'+'uffer'](_0x1f323b['FRAMEBUFFE'+'R'],_0x19e08d),this['activeFram'+'ebuffer']=_0x19e08d;}}['copyRender'+'Target'](_0x241d85,_0x2cc976,_0xfabcef,_0x3d4e30){var _0x40d5a6,_0x3fbb93;const _0x5cb220=this['gl'];if(_0x241d85===this['backBuffer']&&(_0x241d85=null),_0xfabcef){if(_0x2cc976){if(_0x241d85){if(!_0x241d85['_colorBuff'+'er']||!_0x2cc976['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x1264+-0x1*0x116f+0x23d4);if(_0x241d85['_colorBuff'+'er']['_format']!==_0x2cc976['_colorBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(0x2*-0x6f+0xcb7+-0x1*0xbd8);}}else{if(!_0x241d85['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(0x1*0x1b0b+0x180+-0x1c8a*0x1);}}if(_0x3d4e30&&_0x241d85&&!_0x241d85['_depth']){if(!_0x241d85['_depthBuff'+'er']||!_0x2cc976['_depthBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(0x24b9+0x192e+-0x1*0x3de6);if(_0x241d85['_depthBuff'+'er']['_format']!==_0x2cc976['_depthBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(0x262+0x1*0x1f8b+-0x21ec);}Q['pushGpuMar'+'ker'](this,'COPY-RT');const _0x450064=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x2cc976,this['updateBegi'+'n']();const _0x2d35a7=_0x241d85?_0x241d85['impl']['_glFrameBu'+'ffer']:(_0x40d5a6=this['backBuffer'])==null?void(-0x1e0f+0x1990+0x1*0x47f):_0x40d5a6['impl']['_glFrameBu'+'ffer'],_0x27ca85=_0x2cc976?_0x2cc976['impl']['_glFrameBu'+'ffer']:(_0x3fbb93=this['backBuffer'])==null?void(-0x16c5+-0x1*0xbce+0x2293):_0x3fbb93['impl']['_glFrameBu'+'ffer'];w['assert'](_0x2d35a7!==_0x27ca85,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x5cb220['bindFrameb'+'uffer'](_0x5cb220['READ_FRAME'+'BUFFER'],_0x2d35a7),_0x5cb220['bindFrameb'+'uffer'](_0x5cb220['DRAW_FRAME'+'BUFFER'],_0x27ca85);const _0x5316f5=_0x241d85?_0x241d85['width']:_0x2cc976?_0x2cc976['width']:this['width'],_0x3a9a1b=_0x241d85?_0x241d85['height']:_0x2cc976?_0x2cc976['height']:this['height'];return _0x5cb220['blitFrameb'+'uffer'](-0x2187+0x10c4+0x265*0x7,-0x25af+0xe8d+0x1722,_0x5316f5,_0x3a9a1b,-0x270d*-0x1+-0xadf+-0x1c2e*0x1,0x607*-0x3+-0x18b8+0x2acd,_0x5316f5,_0x3a9a1b,(_0xfabcef?_0x5cb220['COLOR_BUFF'+'ER_BIT']:0xd3a*0x1+0x16fa+-0x2434)|(_0x3d4e30?_0x5cb220['DEPTH_BUFF'+'ER_BIT']:-0x19fc+-0x19b0+-0x2*-0x19d6),_0x5cb220['NEAREST']),this['renderTarg'+'et']=_0x450064,_0x5cb220['bindFrameb'+'uffer'](_0x5cb220['FRAMEBUFFE'+'R'],_0x450064?_0x450064['impl']['_glFrameBu'+'ffer']:null),Q['popGpuMark'+'er'](this),!(0x19*-0x11+-0x1af6+-0x1*-0x1c9f);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x1b71ae){const _0x5dcabc=_0x1b71ae['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x5dcabc,w['assert'](_0x5dcabc),Q['pushGpuMar'+'ker'](this,'Pass:'+_0x1b71ae['name']+'\x20RT:'+_0x5dcabc['name']),Q['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x4dbe21,height:_0x13fe6b}=_0x5dcabc;this['setViewpor'+'t'](0x3*-0xb66+0x2576+0xd1*-0x4,-0x9*0x366+-0x1*0x83f+0x1*0x26d5,_0x4dbe21,_0x13fe6b),this['setScissor'](0xb*0x233+-0x1c70+0x43f,-0x1a88+0x1*0xecb+0xbbd,_0x4dbe21,_0x13fe6b);const _0x5601e7=_0x1b71ae['colorOps'],_0xfbcffc=_0x1b71ae['depthStenc'+'ilOps'];if(_0x5601e7!=null&&_0x5601e7['clear']||_0xfbcffc['clearDepth']||_0xfbcffc['clearStenc'+'il']){let _0x4b3580=0x119*0x4+0x15d*-0xb+0xa9b;const _0x293786={};_0x5601e7!=null&&_0x5601e7['clear']&&(_0x4b3580|=jo,_0x293786['color']=[_0x5601e7['clearValue']['r'],_0x5601e7['clearValue']['g'],_0x5601e7['clearValue']['b'],_0x5601e7['clearValue']['a']]),_0xfbcffc['clearDepth']&&(_0x4b3580|=Yo,_0x293786['depth']=_0xfbcffc['clearDepth'+'Value']),_0xfbcffc['clearStenc'+'il']&&(_0x4b3580|=ch,_0x293786['stencil']=_0xfbcffc['clearStenc'+'ilValue']),_0x293786['flags']=_0x4b3580,this['clear'](_0x293786);}w['call'](()=>{this['insideRend'+'erPass']&&w['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(0x25*0x4+0x4a6+-0x53a),Q['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x2dd9db){var _0xb674d;Q['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x1c18ae=this['renderTarg'+'et'],_0x54c5b4=_0x2dd9db['colorArray'+'Ops']['length'];if(_0x1c18ae){Da['length']=0x114d+-0x6b5+0x8*-0x153;const _0x10ef5f=this['gl'];for(let _0x1e8091=-0x782+0xac1*-0x1+0x37*0x55;_0x1e8091<_0x54c5b4;_0x1e8091++){const _0x12bd35=_0x2dd9db['colorArray'+'Ops'][_0x1e8091];_0x12bd35['store']||_0x12bd35['resolve']||Da['push'](_0x10ef5f['COLOR_ATTA'+'CHMENT0']+_0x1e8091);}_0x1c18ae!==this['backBuffer']&&(_0x2dd9db['depthStenc'+'ilOps']['storeDepth']||Da['push'](_0x10ef5f['DEPTH_ATTA'+'CHMENT']),_0x2dd9db['depthStenc'+'ilOps']['storeStenc'+'il']||Da['push'](_0x10ef5f['STENCIL_AT'+'TACHMENT'])),Da['length']>-0x19*0x34+-0xd03+0x1217&&_0x2dd9db['fullSizeCl'+'earRect']&&_0x10ef5f['invalidate'+'Framebuffe'+'r'](_0x10ef5f['DRAW_FRAME'+'BUFFER'],Da),_0x54c5b4&&((_0xb674d=_0x2dd9db['colorOps'])!=null&&_0xb674d['resolve'])&&_0x2dd9db['samples']>0x2*0xde5+-0x1*-0xf31+-0x2afa&&_0x1c18ae['autoResolv'+'e']&&_0x1c18ae['resolve'](!(-0x8c8*-0x1+0x1*0x1b31+-0x23f9),!(0x5f*-0x2+0x1*0x10ec+-0x102d)),_0x1c18ae['depthBuffe'+'r']&&_0x2dd9db['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x2dd9db['samples']>0x180*-0x11+0x1*0x1d15+-0x394&&_0x1c18ae['autoResolv'+'e']&&_0x1c18ae['resolve'](!(-0xe*0x14a+-0x4*0x4cd+0x2541),!(0x14f8+0x1*-0xe8b+-0x66d));for(let _0x16faae=-0x1093+0x1efe+-0xe6b;_0x16faae<_0x54c5b4;_0x16faae++)if(_0x2dd9db['colorArray'+'Ops'][_0x16faae]['genMipmaps']){const _0x528de7=_0x1c18ae['_colorBuff'+'ers'][_0x16faae];_0x528de7&&_0x528de7['impl']['_glTexture']&&_0x528de7['mipmaps']&&(Q['pushGpuMar'+'ker'](this,'MIPS'+_0x16faae),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0x1*0x1d7+-0x1746+-0x191e*-0x1)),this['bindTextur'+'e'](_0x528de7),this['gl']['generateMi'+'pmap'](_0x528de7['impl']['_glTarget']),Q['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(-0x221*-0xc+-0xc41+-0xd4a),Q['popGpuMark'+'er'](this),Q['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x14fe0d){this['_defaultFr'+'amebuffer']!==_0x14fe0d&&(this['_defaultFr'+'amebuffer']=_0x14fe0d,this['_defaultFr'+'amebufferC'+'hanged']=!(-0x70*-0xb+0xc65*-0x1+0x795));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(Q['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x342fb9=-0xb3*0x34+0xb*-0x359+0x1865*0x3;_0x342fb9<this['textureUni'+'ts']['length'];++_0x342fb9)for(let _0x5302eb=-0x56e*-0x3+-0x3*0x407+0x167*-0x3;_0x5302eb<0x1659+0x112f+-0x2785;++_0x5302eb)this['textureUni'+'ts'][_0x342fb9][_0x5302eb]=null;}const _0x1614a1=this['renderTarg'+'et']??this['backBuffer'];w['assert'](_0x1614a1);const _0x482525=_0x1614a1['impl'];_0x482525['initialize'+'d']||this['initRender'+'Target'](_0x1614a1),this['setFramebu'+'ffer'](_0x482525['_glFrameBu'+'ffer']),Q['popGpuMark'+'er'](this);}['updateEnd'](){Q['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x1a6472=this['renderTarg'+'et'];if(_0x1a6472&&_0x1a6472!==this['backBuffer']){_0x1a6472['_samples']>-0x1519+0x6*0x3d7+0x1f0*-0x1&&_0x1a6472['autoResolv'+'e']&&_0x1a6472['resolve']();const _0xe22052=_0x1a6472['_colorBuff'+'er'];_0xe22052&&_0xe22052['impl']['_glTexture']&&_0xe22052['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(-0xee1+0x14*-0x1b1+-0x1ae*-0x1d)),this['bindTextur'+'e'](_0xe22052),this['gl']['generateMi'+'pmap'](_0xe22052['impl']['_glTarget']));}Q['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0xbbde50){if(this['unpackFlip'+'Y']!==_0xbbde50){this['unpackFlip'+'Y']=_0xbbde50;const _0x93843b=this['gl'];_0x93843b['pixelStore'+'i'](_0x93843b['UNPACK_FLI'+'P_Y_WEBGL'],_0xbbde50);}}['setUnpackP'+'remultiply'+'Alpha'](_0x4c0408){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x4c0408){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x4c0408;const _0x1b478a=this['gl'];_0x1b478a['pixelStore'+'i'](_0x1b478a['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x4c0408);}}['activeText'+'ure'](_0x3ad35e){this['textureUni'+'t']!==_0x3ad35e&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x3ad35e),this['textureUni'+'t']=_0x3ad35e);}['bindTextur'+'e'](_0x9b2d24){const _0x5b4580=_0x9b2d24['impl'],_0x4cd9a1=_0x5b4580['_glTarget'],_0x1bb30c=_0x5b4580['_glTexture'],_0x226e21=this['textureUni'+'t'],_0x329400=this['targetToSl'+'ot'][_0x4cd9a1];this['textureUni'+'ts'][_0x226e21][_0x329400]!==_0x1bb30c&&(this['gl']['bindTextur'+'e'](_0x4cd9a1,_0x1bb30c),this['textureUni'+'ts'][_0x226e21][_0x329400]=_0x1bb30c);}['bindTextur'+'eOnUnit'](_0x4dee20,_0x2a8e95){const _0x26feac=_0x4dee20['impl'],_0x58e2a9=_0x26feac['_glTarget'],_0x59e762=_0x26feac['_glTexture'],_0x5db550=this['targetToSl'+'ot'][_0x58e2a9];this['textureUni'+'ts'][_0x2a8e95][_0x5db550]!==_0x59e762&&(this['activeText'+'ure'](_0x2a8e95),this['gl']['bindTextur'+'e'](_0x58e2a9,_0x59e762),this['textureUni'+'ts'][_0x2a8e95][_0x5db550]=_0x59e762);}['setTexture'+'Parameters'](_0x2e31e7){const _0xe1ba6a=this['gl'],_0x18c26f=_0x2e31e7['impl']['dirtyParam'+'eterFlags'],_0x24ea82=_0x2e31e7['impl']['_glTarget'];if(_0x18c26f&Ay){let _0x203685=_0x2e31e7['_minFilter'];(!_0x2e31e7['_mipmaps']||_0x2e31e7['_compresse'+'d']&&_0x2e31e7['_levels']['length']===-0x3*0x1ad+-0xf02*-0x2+-0x18fc)&&(_0x203685===Kh||_0x203685===Zh?_0x203685=Te:(_0x203685===Qh||_0x203685===ma)&&(_0x203685=vt)),_0xe1ba6a['texParamet'+'eri'](_0x24ea82,_0xe1ba6a['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x203685]);}if(_0x18c26f&Cy&&_0xe1ba6a['texParamet'+'eri'](_0x24ea82,_0xe1ba6a['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x2e31e7['_magFilter']]),_0x18c26f&Py&&_0xe1ba6a['texParamet'+'eri'](_0x24ea82,_0xe1ba6a['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x2e31e7['_addressU']]),_0x18c26f&My&&_0xe1ba6a['texParamet'+'eri'](_0x24ea82,_0xe1ba6a['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x2e31e7['_addressV']]),_0x18c26f&Dy&&_0xe1ba6a['texParamet'+'eri'](_0x24ea82,_0xe1ba6a['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x2e31e7['_addressW']]),_0x18c26f&Iy&&_0xe1ba6a['texParamet'+'eri'](_0x24ea82,_0xe1ba6a['TEXTURE_CO'+'MPARE_MODE'],_0x2e31e7['_compareOn'+'Read']?_0xe1ba6a['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0xe1ba6a['NONE']),_0x18c26f&Ly&&_0xe1ba6a['texParamet'+'eri'](_0x24ea82,_0xe1ba6a['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x2e31e7['_compareFu'+'nc']]),_0x18c26f&Ry){const _0x5826a4=this['extTexture'+'FilterAnis'+'otropic'];_0x5826a4&&_0xe1ba6a['texParamet'+'erf'](_0x24ea82,_0x5826a4['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],Y['clamp'](Math['round'](_0x2e31e7['_anisotrop'+'y']),-0x65*0x11+0x4a*-0x1+0x700,this['maxAnisotr'+'opy']));}}['setTexture'](_0x32d3ac,_0x1585a3){const _0x38a38d=_0x32d3ac['impl'];_0x38a38d['_glTexture']||_0x38a38d['initialize'](this,_0x32d3ac),_0x38a38d['dirtyParam'+'eterFlags']>-0x2*-0x3d3+-0x1382+0xbdc||_0x32d3ac['_needsUplo'+'ad']||_0x32d3ac['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x1585a3),this['bindTextur'+'e'](_0x32d3ac),_0x38a38d['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x32d3ac),_0x38a38d['dirtyParam'+'eterFlags']=0x1c69*-0x1+-0xb05+0x276e),(_0x32d3ac['_needsUplo'+'ad']||_0x32d3ac['_needsMipm'+'apsUpload'])&&(_0x38a38d['upload'](this,_0x32d3ac),_0x32d3ac['_needsUplo'+'ad']=!(0x6*0x487+-0x461*0x2+-0x1267),_0x32d3ac['_needsMipm'+'apsUpload']=!(-0x1ca7+0xd2d+0xf7b))):this['bindTextur'+'eOnUnit'](_0x32d3ac,_0x1585a3);}['createVert'+'exArray'](_0x2b8877){let _0x4a52df,_0x4f3f90;const _0x1462c5=_0x2b8877['length']>0x20d9+-0x21fd+0x125*0x1;if(_0x1462c5){_0x4a52df='';for(let _0x2f2153=-0x9a6+-0x11b4*-0x1+0x80e*-0x1;_0x2f2153<_0x2b8877['length'];_0x2f2153++){const _0x2bdb3f=_0x2b8877[_0x2f2153];_0x4a52df+=_0x2bdb3f['id']+_0x2bdb3f['format']['renderingH'+'ash'];}_0x4f3f90=this['_vaoMap']['get'](_0x4a52df);}if(!_0x4f3f90){const _0x5aff76=this['gl'];_0x4f3f90=_0x5aff76['createVert'+'exArray'](),_0x5aff76['bindVertex'+'Array'](_0x4f3f90),_0x5aff76['bindBuffer'](_0x5aff76['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x12b22f=!(-0x8b*0x4+-0x1e82*0x1+0x20af);for(let _0x4a3a24=0xe9*-0x1d+-0x25a9+-0xaad*-0x6;_0x4a3a24<_0x2b8877['length'];_0x4a3a24++){const _0x429569=_0x2b8877[_0x4a3a24];_0x5aff76['bindBuffer'](_0x5aff76['ARRAY_BUFF'+'ER'],_0x429569['impl']['bufferId']);const _0x408627=_0x429569['format']['elements'];for(let _0x6ff571=-0xe74+0x45d*0x2+-0x2*-0x2dd;_0x6ff571<_0x408627['length'];_0x6ff571++){const _0xec2fbb=_0x408627[_0x6ff571],_0x220132=Le[_0xec2fbb['name']];_0x220132===-0x1941+-0x18f9*0x1+-0x85f*-0x6&&(_0x12b22f=!(0x23e9+-0x1*-0xbd5+-0x2fbe)),_0xec2fbb['asInt']?_0x5aff76['vertexAttr'+'ibIPointer'](_0x220132,_0xec2fbb['numCompone'+'nts'],this['glType'][_0xec2fbb['dataType']],_0xec2fbb['stride'],_0xec2fbb['offset']):_0x5aff76['vertexAttr'+'ibPointer'](_0x220132,_0xec2fbb['numCompone'+'nts'],this['glType'][_0xec2fbb['dataType']],_0xec2fbb['normalize'],_0xec2fbb['stride'],_0xec2fbb['offset']),_0x5aff76['enableVert'+'exAttribAr'+'ray'](_0x220132),_0x429569['format']['instancing']&&_0x5aff76['vertexAttr'+'ibDivisor'](_0x220132,0x3e5*0x2+0x5d*0x6a+-0x2e4b);}}_0x5aff76['bindVertex'+'Array'](null),_0x5aff76['bindBuffer'](_0x5aff76['ARRAY_BUFF'+'ER'],null),_0x1462c5&&this['_vaoMap']['set'](_0x4a52df,_0x4f3f90),_0x12b22f||w['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x4f3f90;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](_0x4a3ae3){const _0x20aac0=this['gl'];let _0x2941a1;if(this['vertexBuff'+'ers']['length']===-0x233*-0x11+-0xb*0x334+-0x37*0xa){const _0x5df277=this['vertexBuff'+'ers'][-0x502+-0x8*-0x499+0x62*-0x53];w['assert'](_0x5df277['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x5df277['impl']['vao']||(_0x5df277['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x2941a1=_0x5df277['impl']['vao'];}else _0x2941a1=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x2941a1&&(this['boundVao']=_0x2941a1,_0x20aac0['bindVertex'+'Array'](_0x2941a1));const _0x2b6c4d=_0x4a3ae3?_0x4a3ae3['impl']['bufferId']:null;_0x20aac0['bindBuffer'](_0x20aac0['ELEMENT_AR'+'RAY_BUFFER'],_0x2b6c4d);}['draw'](_0x1f34f7,_0x17ffd0,_0x1faad0,_0xb28d87,_0xdd454f=!(0xa60+-0x10c2+0x662),_0x362aa6=!(0x261d+0x1*-0x1a8f+-0x33*0x3a)){const _0x56dc59=this['shader'];if(_0x56dc59&&(this['activateSh'+'ader'](),this['shaderVali'+'d'])){const _0x2f8e2f=this['gl'];_0xdd454f&&(w['call'](()=>{var _0x102488,_0x55f1ac;return this['validateAt'+'tributes'](this['shader'],(_0x102488=this['vertexBuff'+'ers'][-0x2367+0x20fd+-0x3*-0xce])==null?void(-0x11f0+0xc00*0x3+-0x1210):_0x102488['format'],(_0x55f1ac=this['vertexBuff'+'ers'][0x3e*0x1+0x1cc3+-0xe80*0x2])==null?void(-0x9de+0x1*0x7e2+0x4*0x7f):_0x55f1ac['format']);}),this['setBuffers'](_0x17ffd0));let _0x1130d7=0x77c+0x1486+-0x1*0x1c02;const _0x10a98e=_0x56dc59['impl']['samplers'];for(let _0xf0783c=0x1f2*0x13+-0xa15*-0x2+-0x3920,_0x34276c=_0x10a98e['length'];_0xf0783c<_0x34276c;_0xf0783c++){const _0xcae1e9=_0x10a98e[_0xf0783c];let _0x294bbb=_0xcae1e9['scopeId']['value'];if(!_0x294bbb){const _0x5e1a67=_0xcae1e9['scopeId']['name'];w['assert'](_0x5e1a67!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),w['assert'](_0x5e1a67!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x5e1a67==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x294bbb=fa(this,'white')),_0x5e1a67==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x294bbb=fa(this,'pink')),_0x294bbb||(w['errorOnce']('Shader\x20'+_0x56dc59['name']+'\x20requires\x20'+_0x5e1a67+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+Q['toString']()+']',_0x56dc59),_0x294bbb=fa(this,'pink'));}if(_0x294bbb instanceof _e){const _0x1ab2a0=_0x294bbb;this['setTexture'](_0x1ab2a0,_0x1130d7),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0x1*0x258f+-0x1ec7+-0x363*0x2&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x1ab2a0?w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x1ab2a0}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x1ab2a0&&w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x1ab2a0})),_0xcae1e9['slot']!==_0x1130d7&&(_0x2f8e2f['uniform1i'](_0xcae1e9['locationId'],_0x1130d7),_0xcae1e9['slot']=_0x1130d7),_0x1130d7++;}else{_0xcae1e9['array']['length']=0xb77+0x973*0x3+-0x27d0;const _0x23d3e8=_0x294bbb['length'];for(let _0x6e49d0=-0x4f*-0x5d+-0x42d+0x1*-0x1886;_0x6e49d0<_0x23d3e8;_0x6e49d0++){const _0x55a5b3=_0x294bbb[_0x6e49d0];this['setTexture'](_0x55a5b3,_0x1130d7),_0xcae1e9['array'][_0x6e49d0]=_0x1130d7,_0x1130d7++;}_0x2f8e2f['uniform1iv'](_0xcae1e9['locationId'],_0xcae1e9['array']);}}const _0x53855a=_0x56dc59['impl']['uniforms'];for(let _0x51e4bc=0x37*-0x1f+-0x248+-0x1*-0x8f1,_0x2785b0=_0x53855a['length'];_0x51e4bc<_0x2785b0;_0x51e4bc++){const _0x342c5c=_0x53855a[_0x51e4bc],_0x589c38=_0x342c5c['scopeId'],_0x297ea0=_0x342c5c['version'],_0xb1254d=_0x589c38['versionObj'+'ect']['version'];if(_0x297ea0['globalId']!==_0xb1254d['globalId']||_0x297ea0['revision']!==_0xb1254d['revision']){_0x297ea0['globalId']=_0xb1254d['globalId'],_0x297ea0['revision']=_0xb1254d['revision'];const _0x5136d7=_0x589c38['value'];_0x5136d7!=null?this['commitFunc'+'tion'][_0x342c5c['dataType']](_0x342c5c,_0x5136d7):w['warnOnce']('Shader\x20['+_0x56dc59['label']+(']\x20requires'+'\x20uniform\x20[')+_0x342c5c['scopeId']['name']+(']\x20which\x20ha'+'s\x20not\x20been'+'\x20set,\x20whil'+'e\x20renderin'+'g\x20[')+Q['toString']()+']');}}this['transformF'+'eedbackBuf'+'fer']&&(_0x2f8e2f['bindBuffer'+'Base'](_0x2f8e2f['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x20e0+-0x1*0x1727+0x801*0x7,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0x2f8e2f['beginTrans'+'formFeedba'+'ck'](_0x2f8e2f['POINTS']));const _0x2194b8=this['glPrimitiv'+'e'][_0x1f34f7['type']],_0x1d5a54=_0x1f34f7['count'];if(_0x1f34f7['indexed']){w['assert'](_0x17ffd0['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x481804=_0x17ffd0['impl']['glFormat'],_0x7b2bd8=_0x1f34f7['base']*_0x17ffd0['bytesPerIn'+'dex'];_0x1faad0>0x21ab+0x1*0x1db6+-0x3f61?_0x2f8e2f['drawElemen'+'tsInstance'+'d'](_0x2194b8,_0x1d5a54,_0x481804,_0x7b2bd8,_0x1faad0):_0x2f8e2f['drawElemen'+'ts'](_0x2194b8,_0x1d5a54,_0x481804,_0x7b2bd8);}else{const _0x2b0044=_0x1f34f7['base'];_0x1faad0>-0x2681+0x3*-0x7eb+0x3e42?_0x2f8e2f['drawArrays'+'Instanced'](_0x2194b8,_0x2b0044,_0x1d5a54,_0x1faad0):_0x2f8e2f['drawArrays'](_0x2194b8,_0x2b0044,_0x1d5a54);}this['transformF'+'eedbackBuf'+'fer']&&(_0x2f8e2f['endTransfo'+'rmFeedback'](),_0x2f8e2f['bindBuffer'+'Base'](_0x2f8e2f['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x2*-0x421+0xbce+-0x38c,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x1f34f7['type']]+=_0x1f34f7['count']*(_0x1faad0>0xf1a*-0x1+0x57*0x59+-0xf24?_0x1faad0:-0x7b5+-0x139e+0x1b54);}_0x362aa6&&this['clearVerte'+'xBuffer']();}['clear'](_0x41554f){const _0x3ac7cf=this['defaultCle'+'arOptions'];_0x41554f=_0x41554f||_0x3ac7cf;const _0x3cd4ac=_0x41554f['flags']??_0x3ac7cf['flags'];if(_0x3cd4ac!==-0x137*0x11+0x127*-0x18+0x304f){const _0x3d3559=this['gl'];if(_0x3cd4ac&jo){const _0x3e3300=_0x41554f['color']??_0x3ac7cf['color'],_0x368377=_0x3e3300[-0x87c+0x1c22+-0x2*0x9d3],_0x2fd139=_0x3e3300[0x16*-0x5+0xe61+-0xdf2],_0x5cb954=_0x3e3300[0x7dc*-0x2+0x2b5+0x65*0x21],_0x1662b9=_0x3e3300[-0x1*0x805+0x2*-0x46d+-0x1*-0x10e2],_0x22cf33=this['clearColor'];(_0x368377!==_0x22cf33['r']||_0x2fd139!==_0x22cf33['g']||_0x5cb954!==_0x22cf33['b']||_0x1662b9!==_0x22cf33['a'])&&(this['gl']['clearColor'](_0x368377,_0x2fd139,_0x5cb954,_0x1662b9),this['clearColor']['set'](_0x368377,_0x2fd139,_0x5cb954,_0x1662b9)),this['setBlendSt'+'ate'](pt['NOBLEND']);}if(_0x3cd4ac&Yo){const _0x1fe273=_0x41554f['depth']??_0x3ac7cf['depth'];_0x1fe273!==this['clearDepth']&&(this['gl']['clearDepth'](_0x1fe273),this['clearDepth']=_0x1fe273),this['setDepthSt'+'ate'](Yt['WRITEDEPTH']);}if(_0x3cd4ac&ch){const _0x425128=_0x41554f['stencil']??_0x3ac7cf['stencil'];_0x425128!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x425128),this['clearStenc'+'il']=_0x425128),_0x3d3559['stencilMas'+'k'](0x7d*-0x7+0x18+0x452),this['stencilWri'+'teMaskFron'+'t']=0x1*-0xee1+0x1119+-0x1*0x139,this['stencilWri'+'teMaskBack']=0x2659+0x14cf+-0x3a29;}_0x3d3559['clear'](this['glClearFla'+'g'][_0x3cd4ac]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x10c18d,_0x392cec,_0x2d4896,_0x300d41,_0x2c6ec8){const _0xbd9429=this['gl'];_0xbd9429['readPixels'](_0x10c18d,_0x392cec,_0x2d4896,_0x300d41,_0xbd9429['RGBA'],_0xbd9429['UNSIGNED_B'+'YTE'],_0x2c6ec8);}['clientWait'+'Async'](_0x237592,_0x2063d6){const _0x12c635=this['gl'],_0x48afb7=_0x12c635['fenceSync'](_0x12c635['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],-0xad6+-0x192+-0x31a*-0x4);return this['submit'](),new Promise((_0x353bc6,_0x3e4fa6)=>{function _0x1a6c4(){const _0x53b99c=_0x12c635['clientWait'+'Sync'](_0x48afb7,_0x237592,0x6d*-0x46+0x6*0x27+-0xe72*-0x2);_0x53b99c===_0x12c635['TIMEOUT_EX'+'PIRED']?setTimeout(_0x1a6c4,_0x2063d6):(_0x12c635['deleteSync'](_0x48afb7),_0x53b99c===_0x12c635['WAIT_FAILE'+'D']?_0x3e4fa6(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed')):_0x353bc6());}_0x1a6c4();});}async['readPixels'+'Async'](_0x10f18c,_0x59a3c9,_0x5d78cc,_0x1bdfbd,_0x302d94){var _0x2a94c4;const _0x41716f=this['gl'],_0x5e8072=(_0x2a94c4=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(-0x1e2e+-0x1627+0x3455*0x1):_0x2a94c4['impl'],_0x5ebbc2=(_0x5e8072==null?void(0x45b*0x3+-0x2353*-0x1+-0x3064):_0x5e8072['_glFormat'])??_0x41716f['RGBA'],_0x40862d=(_0x5e8072==null?void(0x1351+-0x263d+0x12ec*0x1):_0x5e8072['_glPixelTy'+'pe'])??_0x41716f['UNSIGNED_B'+'YTE'],_0x3b49fb=_0x41716f['createBuff'+'er']();return _0x41716f['bindBuffer'](_0x41716f['PIXEL_PACK'+'_BUFFER'],_0x3b49fb),_0x41716f['bufferData'](_0x41716f['PIXEL_PACK'+'_BUFFER'],_0x302d94['byteLength'],_0x41716f['STREAM_REA'+'D']),_0x41716f['readPixels'](_0x10f18c,_0x59a3c9,_0x5d78cc,_0x1bdfbd,_0x5ebbc2,_0x40862d,-0x20ff+0x289*-0x4+0x2b23),_0x41716f['bindBuffer'](_0x41716f['PIXEL_PACK'+'_BUFFER'],null),await this['clientWait'+'Async'](0xa7*0xd+-0x4f2+-0x389,-0x1a6c+0x25*-0x9d+0x1*0x312d),_0x41716f['bindBuffer'](_0x41716f['PIXEL_PACK'+'_BUFFER'],_0x3b49fb),_0x41716f['getBufferS'+'ubData'](_0x41716f['PIXEL_PACK'+'_BUFFER'],-0x221b*0x1+-0x1af+-0xbee*-0x3,_0x302d94),_0x41716f['bindBuffer'](_0x41716f['PIXEL_PACK'+'_BUFFER'],null),_0x41716f['deleteBuff'+'er'](_0x3b49fb),_0x302d94;}['readTextur'+'eAsync'](_0x301972,_0x1d61cc,_0x1470e1,_0x5425bc,_0x46ce8c,_0x44b736){const _0x4ea3ad=_0x44b736['face']??-0x242e+-0xac2+0x2ef0,_0x215c4e=_0x44b736['renderTarg'+'et']??new gt({'colorBuffer':_0x301972,'depth':!(0x237f+-0xb86+-0x17f8),'face':_0x4ea3ad});w['assert'](_0x215c4e['colorBuffe'+'r']===_0x301972);const _0x6028e5=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x5425bc,_0x46ce8c,0x1194+0x8ab+0xd1f*-0x2,_0x301972['_format'])),_0x4ddc02=_0x44b736['data']??new(my(_0x301972['_format']))(_0x6028e5);return this['setRenderT'+'arget'](_0x215c4e),this['initRender'+'Target'](_0x215c4e),new Promise((_0x2b7118,_0x125633)=>{this['readPixels'+'Async'](_0x1d61cc,_0x1470e1,_0x5425bc,_0x46ce8c,_0x4ddc02)['then'](_0xe275ea=>{_0x44b736['renderTarg'+'et']||_0x215c4e['destroy'](),_0x2b7118(_0xe275ea);})['catch'](_0x125633);});}async['writeTextu'+'reAsync'](_0x4d4321,_0x445c4a,_0x4f1d2e,_0x189bfa,_0x409c08,_0x1dd0e2){const _0x2c4b83=this['gl'],_0xe2218=_0x4d4321['impl'],_0xe467d1=(_0xe2218==null?void(0x1*-0xb9e+-0x1*-0x122b+0x27*-0x2b):_0xe2218['_glFormat'])??_0x2c4b83['RGBA'],_0x4adf01=(_0xe2218==null?void(-0x1*0x214+0x1060+0x262*-0x6):_0xe2218['_glPixelTy'+'pe'])??_0x2c4b83['UNSIGNED_B'+'YTE'],_0x2531df=_0x2c4b83['createBuff'+'er']();_0x2c4b83['bindBuffer'](_0x2c4b83['PIXEL_UNPA'+'CK_BUFFER'],_0x2531df),_0x2c4b83['bufferData'](_0x2c4b83['PIXEL_UNPA'+'CK_BUFFER'],_0x1dd0e2,_0x2c4b83['STREAM_DRA'+'W']),_0x2c4b83['bindTextur'+'e'](_0x2c4b83['TEXTURE_2D'],_0xe2218['_glTexture']),_0x2c4b83['texSubImag'+'e2D'](_0x2c4b83['TEXTURE_2D'],-0x4bb+-0x13c0+0x187b,_0x445c4a,_0x4f1d2e,_0x189bfa,_0x409c08,_0xe467d1,_0x4adf01,0x1ce9+-0x1b62*0x1+-0x17*0x11),_0x2c4b83['bindBuffer'](_0x2c4b83['PIXEL_UNPA'+'CK_BUFFER'],null),_0x4d4321['_needsUplo'+'ad']=!(-0x203d+0xa*-0x2e0+-0x4a*-0xd3),_0x4d4321['_mipmapsUp'+'loaded']=!(-0x6*0x2f0+-0x1*-0x241d+-0x127c),await this['clientWait'+'Async'](-0x12d*-0x13+-0x150a+-0x14d*0x1,0x1e19+-0x61b*-0x1+-0x2424);}['setAlphaTo'+'Coverage'](_0x98661d){this['alphaToCov'+'erage']!==_0x98661d&&(this['alphaToCov'+'erage']=_0x98661d,_0x98661d?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x231643){if(this['transformF'+'eedbackBuf'+'fer']!==_0x231643){this['transformF'+'eedbackBuf'+'fer']=_0x231643;const _0x45e19a=this['gl'];_0x231643?(this['feedback']||(this['feedback']=_0x45e19a['createTran'+'sformFeedb'+'ack']()),_0x45e19a['bindTransf'+'ormFeedbac'+'k'](_0x45e19a['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x45e19a['bindTransf'+'ormFeedbac'+'k'](_0x45e19a['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x172c63){this['raster']!==_0x172c63&&(this['raster']=_0x172c63,_0x172c63?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x4e4641){if(this['stencil']!==_0x4e4641){const _0x107a6c=this['gl'];_0x4e4641?_0x107a6c['enable'](_0x107a6c['STENCIL_TE'+'ST']):_0x107a6c['disable'](_0x107a6c['STENCIL_TE'+'ST']),this['stencil']=_0x4e4641;}}['setStencil'+'Func'](_0x5881c3,_0x1573da,_0x321e15){(this['stencilFun'+'cFront']!==_0x5881c3||this['stencilRef'+'Front']!==_0x1573da||this['stencilMas'+'kFront']!==_0x321e15||this['stencilFun'+'cBack']!==_0x5881c3||this['stencilRef'+'Back']!==_0x1573da||this['stencilMas'+'kBack']!==_0x321e15)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x5881c3],_0x1573da,_0x321e15),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x5881c3,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x1573da,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x321e15);}['setStencil'+'FuncFront'](_0x2e1a9e,_0x54184f,_0x3423f6){if(this['stencilFun'+'cFront']!==_0x2e1a9e||this['stencilRef'+'Front']!==_0x54184f||this['stencilMas'+'kFront']!==_0x3423f6){const _0x589cbb=this['gl'];_0x589cbb['stencilFun'+'cSeparate'](_0x589cbb['FRONT'],this['glComparis'+'on'][_0x2e1a9e],_0x54184f,_0x3423f6),this['stencilFun'+'cFront']=_0x2e1a9e,this['stencilRef'+'Front']=_0x54184f,this['stencilMas'+'kFront']=_0x3423f6;}}['setStencil'+'FuncBack'](_0x75b92f,_0x4cf325,_0x3b7aa5){if(this['stencilFun'+'cBack']!==_0x75b92f||this['stencilRef'+'Back']!==_0x4cf325||this['stencilMas'+'kBack']!==_0x3b7aa5){const _0x31efdd=this['gl'];_0x31efdd['stencilFun'+'cSeparate'](_0x31efdd['BACK'],this['glComparis'+'on'][_0x75b92f],_0x4cf325,_0x3b7aa5),this['stencilFun'+'cBack']=_0x75b92f,this['stencilRef'+'Back']=_0x4cf325,this['stencilMas'+'kBack']=_0x3b7aa5;}}['setStencil'+'Operation'](_0x243aaf,_0x19b9ae,_0xacddd3,_0x33650a){(this['stencilFai'+'lFront']!==_0x243aaf||this['stencilZfa'+'ilFront']!==_0x19b9ae||this['stencilZpa'+'ssFront']!==_0xacddd3||this['stencilFai'+'lBack']!==_0x243aaf||this['stencilZfa'+'ilBack']!==_0x19b9ae||this['stencilZpa'+'ssBack']!==_0xacddd3)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x243aaf],this['glStencilO'+'p'][_0x19b9ae],this['glStencilO'+'p'][_0xacddd3]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x243aaf,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x19b9ae,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0xacddd3),(this['stencilWri'+'teMaskFron'+'t']!==_0x33650a||this['stencilWri'+'teMaskBack']!==_0x33650a)&&(this['gl']['stencilMas'+'k'](_0x33650a),this['stencilWri'+'teMaskFron'+'t']=_0x33650a,this['stencilWri'+'teMaskBack']=_0x33650a);}['setStencil'+'OperationF'+'ront'](_0x1a38c1,_0xc39b91,_0x486173,_0x4e134c){(this['stencilFai'+'lFront']!==_0x1a38c1||this['stencilZfa'+'ilFront']!==_0xc39b91||this['stencilZpa'+'ssFront']!==_0x486173)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x1a38c1],this['glStencilO'+'p'][_0xc39b91],this['glStencilO'+'p'][_0x486173]),this['stencilFai'+'lFront']=_0x1a38c1,this['stencilZfa'+'ilFront']=_0xc39b91,this['stencilZpa'+'ssFront']=_0x486173),this['stencilWri'+'teMaskFron'+'t']!==_0x4e134c&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x4e134c),this['stencilWri'+'teMaskFron'+'t']=_0x4e134c);}['setStencil'+'OperationB'+'ack'](_0x4aa6e0,_0x15fb83,_0x583004,_0x278666){(this['stencilFai'+'lBack']!==_0x4aa6e0||this['stencilZfa'+'ilBack']!==_0x15fb83||this['stencilZpa'+'ssBack']!==_0x583004)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x4aa6e0],this['glStencilO'+'p'][_0x15fb83],this['glStencilO'+'p'][_0x583004]),this['stencilFai'+'lBack']=_0x4aa6e0,this['stencilZfa'+'ilBack']=_0x15fb83,this['stencilZpa'+'ssBack']=_0x583004),this['stencilWri'+'teMaskBack']!==_0x278666&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x278666),this['stencilWri'+'teMaskBack']=_0x278666);}['setBlendSt'+'ate'](_0x4f225a){const _0x135547=this['blendState'];if(!_0x135547['equals'](_0x4f225a)){const _0x3eb0a7=this['gl'],{blend:_0x439c01,colorOp:_0x3b311e,alphaOp:_0x55ec9f,colorSrcFactor:_0xe86773,colorDstFactor:_0x2e1bf7,alphaSrcFactor:_0xc9d47b,alphaDstFactor:_0x4911e3}=_0x4f225a;if(_0x135547['blend']!==_0x439c01&&(_0x439c01?_0x3eb0a7['enable'](_0x3eb0a7['BLEND']):_0x3eb0a7['disable'](_0x3eb0a7['BLEND'])),_0x135547['colorOp']!==_0x3b311e||_0x135547['alphaOp']!==_0x55ec9f){const _0x500d64=this['glBlendEqu'+'ation'];_0x3eb0a7['blendEquat'+'ionSeparat'+'e'](_0x500d64[_0x3b311e],_0x500d64[_0x55ec9f]);}(_0x135547['colorSrcFa'+'ctor']!==_0xe86773||_0x135547['colorDstFa'+'ctor']!==_0x2e1bf7||_0x135547['alphaSrcFa'+'ctor']!==_0xc9d47b||_0x135547['alphaDstFa'+'ctor']!==_0x4911e3)&&_0x3eb0a7['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0xe86773],this['glBlendFun'+'ctionColor'][_0x2e1bf7],this['glBlendFun'+'ctionAlpha'][_0xc9d47b],this['glBlendFun'+'ctionAlpha'][_0x4911e3]),_0x135547['allWrite']!==_0x4f225a['allWrite']&&this['gl']['colorMask'](_0x4f225a['redWrite'],_0x4f225a['greenWrite'],_0x4f225a['blueWrite'],_0x4f225a['alphaWrite']),_0x135547['copy'](_0x4f225a);}}['setBlendCo'+'lor'](_0x428a0d,_0x47a247,_0x13d781,_0x361629){const _0x491852=this['blendColor'];(_0x428a0d!==_0x491852['r']||_0x47a247!==_0x491852['g']||_0x13d781!==_0x491852['b']||_0x361629!==_0x491852['a'])&&(this['gl']['blendColor'](_0x428a0d,_0x47a247,_0x13d781,_0x361629),_0x491852['set'](_0x428a0d,_0x47a247,_0x13d781,_0x361629));}['setStencil'+'State'](_0x544926,_0x171544){_0x544926||_0x171544?(this['setStencil'+'Test'](!(0x90+-0x85*-0x13+0xa6f*-0x1)),_0x544926===_0x171544?(this['setStencil'+'Func'](_0x544926['func'],_0x544926['ref'],_0x544926['readMask']),this['setStencil'+'Operation'](_0x544926['fail'],_0x544926['zfail'],_0x544926['zpass'],_0x544926['writeMask'])):(_0x544926??(_0x544926=pi['DEFAULT']),this['setStencil'+'FuncFront'](_0x544926['func'],_0x544926['ref'],_0x544926['readMask']),this['setStencil'+'OperationF'+'ront'](_0x544926['fail'],_0x544926['zfail'],_0x544926['zpass'],_0x544926['writeMask']),_0x171544??(_0x171544=pi['DEFAULT']),this['setStencil'+'FuncBack'](_0x171544['func'],_0x171544['ref'],_0x171544['readMask']),this['setStencil'+'OperationB'+'ack'](_0x171544['fail'],_0x171544['zfail'],_0x171544['zpass'],_0x171544['writeMask']))):this['setStencil'+'Test'](!(-0x2212+0x1*0x10ae+0x1165));}['setDepthSt'+'ate'](_0x5262f7){const _0x4b1e75=this['depthState'];if(!_0x4b1e75['equals'](_0x5262f7)){const _0x5b8e94=this['gl'],_0x5b0bd2=_0x5262f7['write'];_0x4b1e75['write']!==_0x5b0bd2&&_0x5b8e94['depthMask'](_0x5b0bd2);let {func:_0x12a9f1,test:_0x57b5b5}=_0x5262f7;!_0x57b5b5&&_0x5b0bd2&&(_0x57b5b5=!(-0xc*0x223+-0x3*-0x539+0x3*0x353),_0x12a9f1=Wi),_0x4b1e75['func']!==_0x12a9f1&&_0x5b8e94['depthFunc'](this['glComparis'+'on'][_0x12a9f1]),_0x4b1e75['test']!==_0x57b5b5&&(_0x57b5b5?_0x5b8e94['enable'](_0x5b8e94['DEPTH_TEST']):_0x5b8e94['disable'](_0x5b8e94['DEPTH_TEST']));const {depthBias:_0x3219fe,depthBiasSlope:_0x78e778}=_0x5262f7;_0x3219fe||_0x78e778?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(0x2bc+-0xff8*-0x1+0x31e*-0x6),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x5b8e94['polygonOff'+'set'](_0x78e778,_0x3219fe)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(-0x1a7d+-0xf78+0x29f6),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x4b1e75['copy'](_0x5262f7);}}['setCullMod'+'e'](_0x38a477){if(this['cullMode']!==_0x38a477){if(_0x38a477===bt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===bt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x53f065=this['glCull'][_0x38a477];this['cullFace']!==_0x53f065&&(this['gl']['cullFace'](_0x53f065),this['cullFace']=_0x53f065);}this['cullMode']=_0x38a477;}}['setShader'](_0x136ce0,_0x54b086=!(0xb28+-0x1d63+0x123c)){_0x136ce0!==this['shader']&&(this['shader']=_0x136ce0,this['shaderAsyn'+'cCompile']=_0x54b086,this['shaderVali'+'d']=void(0x1*-0xc3e+0x244a+-0x180c),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](){const {shader:_0x6c6f07}=this,{impl:_0x25d8eb}=_0x6c6f07;this['shaderVali'+'d']===void(-0x15cf*-0x1+-0xac+-0x7*0x305)&&(_0x6c6f07['failed']?this['shaderVali'+'d']=!(0xcde+-0xdf4+0x1f*0x9):_0x6c6f07['ready']||(this['shaderAsyn'+'cCompile']?_0x25d8eb['isLinked'](this)?_0x25d8eb['finalize'](this,_0x6c6f07)||(_0x6c6f07['failed']=!(-0x16*0x26+0x3*0x1d5+0x23b*-0x1),this['shaderVali'+'d']=!(-0x17*-0x75+-0x23ce+0x194c)):this['shaderVali'+'d']=!(-0x1450+0x3*0x397+0x98c):_0x25d8eb['finalize'](this,_0x6c6f07)||(_0x6c6f07['failed']=!(0x12a6+0x2033+-0x32d9),this['shaderVali'+'d']=!(0x13af+-0x73e+0x1*-0xc70)))),this['shaderVali'+'d']===void(-0x3*0x35c+0x64d*-0x1+0x1061)&&(this['gl']['useProgram'](_0x25d8eb['glProgram']),this['shaderVali'+'d']=!(0x4*-0x15a+-0x1*0x1da7+-0x230f*-0x1));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x4d91db=this['gl'];this['_vaoMap']['forEach']((_0x14ac33,_0x412690,_0x14acf0)=>{_0x4d91db['deleteVert'+'exArray'](_0x14ac33);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x5d4321){_0x5d4321?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x2bc4bf=0x65*-0xc+-0xe54+0xa*0x1f2){const _0x259013=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x259013['loseContex'+'t'](),setTimeout(()=>_0x259013['restoreCon'+'text'](),_0x2bc4bf);}}let nw=-0x295*-0x1+-0xa8b*-0x2+-0x17ab;class br{constructor(_0x5795ee,_0x5a21c6,_0x433f15,_0xbd223d=ms,_0x4726c4,_0x4b3685){this['device']=_0x5795ee,this['format']=_0x5a21c6,this['numIndices']=_0x433f15,this['usage']=_0xbd223d,this['id']=nw++,this['impl']=_0x5795ee['createInde'+'xBufferImp'+'l'](this,_0x4b3685);const _0x2b5b55=hT[_0x5a21c6];this['bytesPerIn'+'dex']=_0x2b5b55,this['numBytes']=this['numIndices']*_0x2b5b55,_0x4726c4?this['setData'](_0x4726c4):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x5795ee['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0xd78e8e=this['device'],_0x34321b=_0xd78e8e['buffers']['indexOf'](this);_0x34321b!==-(0x11*-0x18a+-0x16a*0x13+0x3509)&&_0xd78e8e['buffers']['splice'](_0x34321b,-0x186*-0x6+-0x16be+0xd9b),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0xd78e8e),this['adjustVram'+'SizeTracki'+'ng'](_0xd78e8e['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x368201,_0x2d6453){w['trace'](j0,this['id']+'\x20size:\x20'+_0x2d6453+'\x20vram.ib:\x20'+_0x368201['ib']+'\x20=>\x20'+(_0x368201['ib']+_0x2d6453)),_0x368201['ib']+=_0x2d6453;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0xc43ae4){return _0xc43ae4['byteLength']!==this['numBytes']?(w['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0xc43ae4['byteLength']),!(0x48c+0x5f3+0x53f*-0x2)):(this['storage']=_0xc43ae4,this['unlock'](),!(0x1d5f+0x11eb+0x1*-0x2f4a));}['_lockTyped'+'Array'](){const _0xc9ab2=this['lock']();return this['format']===wr?new Uint32Array(_0xc9ab2):this['format']===Yi?new Uint16Array(_0xc9ab2):new Uint8Array(_0xc9ab2);}['writeData'](_0x3cb460,_0x12c58f){const _0x3e3a2b=this['_lockTyped'+'Array']();if(_0x3cb460['length']>_0x12c58f){if(ArrayBuffer['isView'](_0x3cb460))_0x3cb460=_0x3cb460['subarray'](0x1*0x259f+0x215*-0x3+0x20*-0xfb,_0x12c58f),_0x3e3a2b['set'](_0x3cb460);else{for(let _0x49fb40=-0x5fb*0x6+-0x1d89+0x1*0x416b;_0x49fb40<_0x12c58f;_0x49fb40++)_0x3e3a2b[_0x49fb40]=_0x3cb460[_0x49fb40];}}else _0x3e3a2b['set'](_0x3cb460);this['unlock']();}['readData'](_0x2e106e){const _0x19e791=this['_lockTyped'+'Array'](),_0x478019=this['numIndices'];if(ArrayBuffer['isView'](_0x2e106e))_0x2e106e['set'](_0x19e791);else{_0x2e106e['length']=0x17c5*-0x1+0x1fb1+-0x2*0x3f6;for(let _0x551447=0x1*0x1071+-0xccc+-0x137*0x3;_0x551447<_0x478019;_0x551447++)_0x2e106e[_0x551447]=_0x19e791[_0x551447];}return _0x478019;}}class ow{constructor(){h(this,'clearValue',new ie(0x103d+0x56f*-0x3+0x10,0x7*-0x24b+-0x3*-0x803+0x124*-0x7,-0x1235+0x17*-0xcb+0x2472,-0x2*-0x91b+-0x130d+0xd8)),h(this,'clearValue'+'Linear',new ie(-0x235f+-0x8dd+-0x2*-0x161e,-0x40*0x41+0x2065*0x1+0x1*-0x1025,-0x1*0x7e9+0x1*0x2353+0x1*-0x1b6a,-0x2215+0x70*-0x4+0x23d6)),h(this,'clear',!(0x1f*0x17+-0x193f+0x1677)),h(this,'store',!(0x31c*0x2+-0x21ed+0x1bb6)),h(this,'resolve',!(-0x10*0x94+-0x3f+0x97f)),h(this,'genMipmaps',!(-0x1c6a*-0x1+0x2703+-0xa*0x6be));}}class lw{constructor(){h(this,'clearDepth'+'Value',0x1312+0x1643+-0x2954),h(this,'clearStenc'+'ilValue',0x1*0x1619+0x1531+-0x2b4a),h(this,'clearDepth',!(0x10e3+-0x48c+-0xc56)),h(this,'clearStenc'+'il',!(-0x67d*-0x5+-0xe5a+0x5*-0x39e)),h(this,'storeDepth',!(0x1912+0x13f3+-0x86*0x56)),h(this,'resolveDep'+'th',!(0x6b9+-0xe51+0x799)),h(this,'storeStenc'+'il',!(-0x25a3+-0x13cd+0x361*0x11));}}class ys{constructor(_0x3f6072){h(this,'_name'),h(this,'device'),h(this,'_enabled',!(-0x36f+-0x239d+0x1386*0x2)),h(this,'_skipStart',!(-0x1*-0x629+-0x30*-0x4+-0x22*0x34)),h(this,'_skipEnd',!(0xc65+-0xb96*0x3+0x165e)),h(this,'executeEna'+'bled',!(-0x13*0xa7+0x117e+-0x519)),h(this,'renderTarg'+'et'),h(this,'_options'),h(this,'samples',0x1*-0x22+0x5*-0xa4+0x1ab*0x2),h(this,'colorArray'+'Ops',[]),h(this,'depthStenc'+'ilOps'),h(this,'requiresCu'+'bemaps',!(-0x247d+-0x12fe+0x377b)),h(this,'fullSizeCl'+'earRect',!(0x15c1+-0x1*0x317+-0x12aa)),h(this,'beforePass'+'es',[]),h(this,'afterPasse'+'s',[]),(w['assert'](_0x3f6072),this['device']=_0x3f6072);}get['colorOps'](){return this['colorArray'+'Ops'][0x5aa+-0x11bf+0x407*0x3];}set['name'](_0xe6b095){this['_name']=_0xe6b095;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x585935){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x585935;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x278967){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x278967;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x529d96){this['_options']=_0x529d96,_0x529d96&&(this['scaleX']=this['scaleX']??-0x21c7+0x16*0x128+0x858,this['scaleY']=this['scaleY']??-0x1dce+0x5c5*-0x2+-0x16d*-0x1d);}get['options'](){return this['_options'];}['init'](_0xfa9b4a=null,_0x302df7){this['options']=_0x302df7,this['renderTarg'+'et']=_0xfa9b4a,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],0x133*-0x2+-0x1*0x19db+0xe21*0x2),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0x128329,_0x1c45ee,_0x4e7eb1,_0x3aa9c9;const _0x2d34ac=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new lw(),_0x2d34ac!=null&&_0x2d34ac['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(-0x1b24*-0x1+-0x177f*-0x1+-0x32a3));const _0x59d12f=_0x2d34ac?((_0x128329=_0x2d34ac['_colorBuff'+'ers'])==null?void(0x232*-0x3+0xe03*-0x1+-0x1499*-0x1):_0x128329['length'])??-0x6*0x343+0x1f95+-0xc03:0x925+-0x21f8*0x1+0xe3*0x1c;this['colorArray'+'Ops']['length']=-0x332+0x12d*0x1c+-0x1dba;for(let _0x428407=0x18d4+0x23b3+-0x1*0x3c87;_0x428407<_0x59d12f;_0x428407++){const _0xb7f309=new ow();this['colorArray'+'Ops'][_0x428407]=_0xb7f309,this['samples']===0x1eca+-0x605*0x6+0x555&&(_0xb7f309['store']=!(0x204+0x82b+-0xa2f),_0xb7f309['resolve']=!(0xf0d*0x1+-0x6cb+-0x841*0x1));const _0x312cf9=(_0x4e7eb1=(_0x1c45ee=this['renderTarg'+'et'])==null?void(0x183e+0x1f0+0x45d*-0x6):_0x1c45ee['_colorBuff'+'ers'])==null?void(0x1c9*-0xe+-0x1*-0x2335+-0xa37):_0x4e7eb1[_0x428407];if((_0x3aa9c9=this['renderTarg'+'et'])!=null&&_0x3aa9c9['mipmaps']&&(_0x312cf9!=null&&_0x312cf9['mipmaps'])){const _0x28aca3=dn(_0x312cf9['_format']);_0xb7f309['genMipmaps']=!_0x28aca3;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x38fd33=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x240648=Math['floor'](_0x38fd33['width']*this['scaleX']),_0x59ed53=Math['floor'](_0x38fd33['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x240648,_0x59ed53);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x2fd91a){this['_enabled']!==_0x2fd91a&&(this['_enabled']=_0x2fd91a,_0x2fd91a?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x1bf0f0){const _0xdbd959=this['colorArray'+'Ops']['length'];for(let _0x1216bb=-0x1*-0x1ae8+0x1813+-0x1f*0x1a5;_0x1216bb<_0xdbd959;_0x1216bb++){const _0x2e78f2=this['colorArray'+'Ops'][_0x1216bb];_0x1bf0f0&&(_0x2e78f2['clearValue']['copy'](_0x1bf0f0),_0x2e78f2['clearValue'+'Linear']['linear'](_0x1bf0f0)),_0x2e78f2['clear']=!!_0x1bf0f0;}}['setClearDe'+'pth'](_0x9b8f6a){_0x9b8f6a&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x9b8f6a),this['depthStenc'+'ilOps']['clearDepth']=_0x9b8f6a!==void(0x727*0x4+0x4f9*-0x6+0x13a);}['setClearSt'+'encil'](_0x39b7d0){_0x39b7d0&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x39b7d0),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x39b7d0!==void(0xc7*0x11+0x1951+-0x2688);}['render'](){if(this['enabled']){const _0x18e1d3=this['device'],_0x21ba14=this['renderTarg'+'et']!==void(0x47*0x87+-0x1650+-0xf21*0x1);w['call'](()=>{this['log'](_0x18e1d3,_0x18e1d3['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x21ba14&&!this['_skipStart']&&_0x18e1d3['startRende'+'rPass'](this),this['execute'](),_0x21ba14&&!this['_skipEnd']&&_0x18e1d3['endRenderP'+'ass'](this)),this['after'](),_0x18e1d3['renderPass'+'Index']++;}}['log'](_0x3049a6,_0x56c494=0x515+-0x9*-0x1fb+-0x16e8){var _0x26fc1b,_0x37f354,_0x504fef;if(mi['get'](Pm)||mi['get'](cn)){const _0x15987d=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0x3049a6['backBuffer']:null),_0x259984=!!(_0x15987d!=null&&_0x15987d['impl']['assignedCo'+'lorTexture'])||(_0x15987d==null?void(0x156a+0x28*0x51+-0x2212):_0x15987d['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0xa75+-0x1776+0x1*0x21eb),_0x33c2ad=((_0x26fc1b=_0x15987d==null?void(0xcf1*-0x1+-0xfd5+-0x7f*-0x3a):_0x15987d['_colorBuff'+'ers'])==null?void(-0xc*0x19d+-0x1914+0x2c70):_0x26fc1b['length'])??(_0x259984?0x20ba+-0x24cf+-0x2*-0x20b:0x1*0x1ec3+-0x1*-0x94d+0x10*-0x281),_0x336ea8=_0x15987d==null?void(-0x1*-0x258b+0xc0e+-0x3199*0x1):_0x15987d['depth'],_0x4f63cf=_0x15987d==null?void(-0x1*0x252d+-0x8d*-0xd+0x1e04):_0x15987d['stencil'],_0x1ebaef=_0x15987d==null?void(-0x1*0x37f+0x2012+0xd1*-0x23):_0x15987d['mipLevel'],_0x43ecea=_0x15987d?'\x20RT:\x20'+(_0x15987d?_0x15987d['name']:'NULL')+'\x20'+(_0x33c2ad>-0x1*-0x111a+0x78b*0x3+-0x5ad*0x7?'[Color'+(_0x33c2ad>-0x8*-0xac+0x142f+-0x198e?'\x20x\x20'+_0x33c2ad:'')+']':'')+(_0x336ea8?'[Depth]':'')+(_0x4f63cf?'[Stencil]':'')+'\x20'+_0x15987d['width']+'\x20x\x20'+_0x15987d['height']+(this['samples']>-0x12f*0x1+-0x178+0x2a7?'\x20samples:\x20'+this['samples']:'')+(_0x1ebaef>-0x3cd+0x2478*-0x1+-0xa9*-0x3d?'\x20mipLevel:'+'\x20'+_0x1ebaef:''):'',_0xdc24d3=this['_skipStart']?'++':_0x56c494['toString']()['padEnd'](-0x4b7+0x148e+0xfd5*-0x1,'\x20');w['trace'](Pm,_0xdc24d3+':\x20'+this['name']['padEnd'](-0x2275+-0xfa*-0xa+0x18c5*0x1,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x43ecea['padEnd'](-0x1469*0x1+0x1*0x257d+-0x10f6));for(let _0x2f3af3=-0x91*0x25+-0x1*-0x46f+-0x2f*-0x5a;_0x2f3af3<_0x33c2ad;_0x2f3af3++){const _0x326acb=this['colorArray'+'Ops'][_0x2f3af3],_0x5a8457=(_0x37f354=Nt['get'](_0x259984?_0x3049a6['backBuffer'+'Format']:_0x15987d['getColorBu'+'ffer'](_0x2f3af3)['format']))==null?void(0x1735*-0x1+-0x1*0xa7b+0x21b0):_0x37f354['name'];w['trace'](cn,'\x20\x20\x20\x20color['+_0x2f3af3+']:\x20'+(_0x326acb['clear']?'clear':'load')+'->'+(_0x326acb['store']?'store':'discard')+'\x20'+(_0x326acb['resolve']?'resolve\x20':'')+(_0x326acb['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x5a8457+']\x20'+(_0x326acb['clear']?'[clear:\x20'+_0x326acb['clearValue']['toString'](!(-0x1bb8+-0x5*0x44b+0x312f),!(0x1b33+-0x7bb*-0x5+-0x41da))+']':''));}if(this['depthStenc'+'ilOps']){const _0x33ff47=''+(_0x15987d['depthBuffe'+'r']?'\x20[format:\x20'+((_0x504fef=Nt['get'](_0x15987d['depthBuffe'+'r']['format']))==null?void(0x2067+-0x2*-0x32b+-0x26bd):_0x504fef['name'])+']':'');_0x336ea8&&w['trace'](cn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x33ff47+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x4f63cf&&w['trace'](cn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x33ff47+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function cw(_0x4cfe19){this['array'][this['index']]=_0x4cfe19;}function hw(_0x29cc8d,_0x4d50e1){this['array'][this['index']]=_0x29cc8d,this['array'][this['index']+(-0x19c*0x15+0x16*-0xdf+0x34f7)]=_0x4d50e1;}function dw(_0x538358,_0x4b6b58,_0x3a9ee9){this['array'][this['index']]=_0x538358,this['array'][this['index']+(-0x215d+-0x1e08+0x3*0x1522)]=_0x4b6b58,this['array'][this['index']+(-0x1*-0x123a+-0xbee+-0x46*0x17)]=_0x3a9ee9;}function fw(_0x23ade3,_0x451405,_0x2aa86e,_0x317e83){this['array'][this['index']]=_0x23ade3,this['array'][this['index']+(0xa89+-0x165e+0xbd6)]=_0x451405,this['array'][this['index']+(0x2184*-0x1+-0x2d*-0xba+0xd4)]=_0x2aa86e,this['array'][this['index']+(0x4*0x4db+0x2267+0xe*-0x3d8)]=_0x317e83;}function uw(_0x42314a,_0x44f28a,_0x21cea1){this['array'][_0x42314a]=_0x44f28a[_0x21cea1];}function pw(_0xa07ce2,_0x5163c5,_0x3adc80){this['array'][_0xa07ce2]=_0x5163c5[_0x3adc80],this['array'][_0xa07ce2+(-0x1b5+0x46f+-0x2b9*0x1)]=_0x5163c5[_0x3adc80+(-0xa7*0xd+-0x258d*0x1+-0x5*-0x935)];}function mw(_0xc5a081,_0x2610c5,_0x2f4fb4){this['array'][_0xc5a081]=_0x2610c5[_0x2f4fb4],this['array'][_0xc5a081+(0x1359+-0x26b7+0x135f)]=_0x2610c5[_0x2f4fb4+(0x161e+-0x2563*-0x1+-0x70*0x88)],this['array'][_0xc5a081+(0x2479+-0x1f01*-0x1+-0x8*0x86f)]=_0x2610c5[_0x2f4fb4+(-0x1307*-0x1+-0x3a3+-0xf62)];}function _w(_0x5712cf,_0x30f863,_0x4df750){this['array'][_0x5712cf]=_0x30f863[_0x4df750],this['array'][_0x5712cf+(-0x18cd+-0x4e*-0x7+0xb56*0x2)]=_0x30f863[_0x4df750+(0x1f*0xfe+0x1e2c+-0x3ced)],this['array'][_0x5712cf+(-0x1404+0x1*-0x1481+0x2887*0x1)]=_0x30f863[_0x4df750+(0x2564+-0x1350+0x3*-0x606)],this['array'][_0x5712cf+(-0x25f3+0x7c4+0xf19*0x2)]=_0x30f863[_0x4df750+(-0x4*-0x52+0x7a*0x39+-0x1d*0xfb)];}function gw(_0x38eebf,_0x442c72,_0x9c6dfc){_0x442c72[_0x9c6dfc]=this['array'][_0x38eebf];}function Sw(_0x2f4955,_0x2b3f8c,_0x3d4a1f){_0x2b3f8c[_0x3d4a1f]=this['array'][_0x2f4955],_0x2b3f8c[_0x3d4a1f+(0x108*0x1d+-0x11a7+0x20*-0x62)]=this['array'][_0x2f4955+(-0x13bb+0x1aa5*-0x1+0x2e61)];}function yw(_0xb63edc,_0x5c22e3,_0x3178b0){_0x5c22e3[_0x3178b0]=this['array'][_0xb63edc],_0x5c22e3[_0x3178b0+(0x23b*0x7+0x697+0x1633*-0x1)]=this['array'][_0xb63edc+(0x20f7+0xd43+-0x2e39*0x1)],_0x5c22e3[_0x3178b0+(-0x9cc+-0x2430+0xcb*0x3a)]=this['array'][_0xb63edc+(0x1*-0x9d2+-0x62b*0x1+-0x13b*-0xd)];}function vw(_0x32e247,_0x16bd0f,_0x1e0db5){_0x16bd0f[_0x1e0db5]=this['array'][_0x32e247],_0x16bd0f[_0x1e0db5+(-0x65*-0x51+0x2467+-0x445b)]=this['array'][_0x32e247+(-0x85c+-0x6*-0x502+-0x15af)],_0x16bd0f[_0x1e0db5+(0x245*-0x8+-0x35*0x16+-0xb5c*-0x2)]=this['array'][_0x32e247+(-0x89*0x27+0x1e14+-0x933)],_0x16bd0f[_0x1e0db5+(0x2*-0x12d+-0x22a3+-0x20*-0x128)]=this['array'][_0x32e247+(-0x46b+0x891+0x161*-0x3)];}class xw{constructor(_0x3ef103,_0x21c680,_0x11fa36){switch(this['index']=-0x5*-0x641+-0x70+0x3*-0xa47,this['numCompone'+'nts']=_0x21c680['numCompone'+'nts'],_0x11fa36['interleave'+'d']?this['array']=new wn[_0x21c680['dataType']](_0x3ef103,_0x21c680['offset']):this['array']=new wn[_0x21c680['dataType']](_0x3ef103,_0x21c680['offset'],_0x11fa36['vertexCoun'+'t']*_0x21c680['numCompone'+'nts']),this['stride']=_0x21c680['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x21c680['numCompone'+'nts']){case 0x1bc0+-0x18*-0xd0+-0x3b*0xcd:this['set']=cw,this['getToArray']=gw,this['setFromArr'+'ay']=uw;break;case 0x9e2+-0x161*0x12+-0xef2*-0x1:this['set']=hw,this['getToArray']=Sw,this['setFromArr'+'ay']=pw;break;case 0xcb*0x17+-0x2*-0xfa2+-0x317e*0x1:this['set']=dw,this['getToArray']=yw,this['setFromArr'+'ay']=mw;break;case-0x506*-0x4+0x154c+-0x2960:this['set']=fw,this['getToArray']=vw,this['setFromArr'+'ay']=_w;break;}}['get'](_0x589076){return this['array'][this['index']+_0x589076];}['set'](_0x4d297d,_0x580ac4,_0x18fec4,_0x317baf){}['getToArray'](_0xd8e19d,_0x3e5578,_0x27c03d){}['setFromArr'+'ay'](_0x1703b1,_0x5624d2,_0x301061){}}class Uo{constructor(_0x3000bb){this['vertexBuff'+'er']=_0x3000bb,this['vertexForm'+'atSize']=_0x3000bb['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x3090b7=this['vertexBuff'+'er']['getFormat']();for(let _0x120ac4=0x53*0x3+0x54b+0x1*-0x644;_0x120ac4<_0x3090b7['elements']['length'];_0x120ac4++){const _0x589617=_0x3090b7['elements'][_0x120ac4];this['accessors'][_0x120ac4]=new xw(this['buffer'],_0x589617,_0x3090b7),this['element'][_0x589617['name']]=this['accessors'][_0x120ac4];}}['next'](_0x1b33fa=-0x1712*-0x1+-0x1cda+0x5c9){let _0x44a56c=0x18c3+0x5*0x61+-0x1aa8*0x1;const _0x4ff2e5=this['accessors'],_0x103cba=this['accessors']['length'];for(;_0x44a56c<_0x103cba;){const _0x3bcf8d=_0x4ff2e5[_0x44a56c++];_0x3bcf8d['index']+=_0x1b33fa*_0x3bcf8d['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0xdd411e,_0x27b1e5,_0x465df6){const _0x671ae4=this['element'][_0xdd411e];if(_0x671ae4){_0x465df6>this['vertexBuff'+'er']['numVertice'+'s']&&(w['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x465df6+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x465df6=this['vertexBuff'+'er']['numVertice'+'s']);const _0x4848f5=_0x671ae4['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x3e1523=-0x205b+0xd80+0x1*0x12db;for(let _0x4604b9=-0x1a65+-0x703*0x2+0x286b;_0x4604b9<_0x465df6;_0x4604b9++)_0x671ae4['setFromArr'+'ay'](_0x3e1523,_0x27b1e5,_0x4604b9*_0x4848f5),_0x3e1523+=_0x671ae4['stride'];}else{if(_0x27b1e5['length']>_0x465df6*_0x4848f5){const _0x3e2a2c=_0x465df6*_0x4848f5;if(ArrayBuffer['isView'](_0x27b1e5))_0x27b1e5=_0x27b1e5['subarray'](-0x95*-0x3+-0x17a6*-0x1+-0x24f*0xb,_0x3e2a2c),_0x671ae4['array']['set'](_0x27b1e5);else{for(let _0x3e047e=-0x17ee+0x1562+0x28c;_0x3e047e<_0x3e2a2c;_0x3e047e++)_0x671ae4['array'][_0x3e047e]=_0x27b1e5[_0x3e047e];}}else _0x671ae4['array']['set'](_0x27b1e5);}}}['readData'](_0x19a185,_0x236967){const _0x3513bc=this['element'][_0x19a185];let _0x20333e=-0x1638+-0xeb*-0x1+0x154d;if(_0x3513bc){_0x20333e=this['vertexBuff'+'er']['numVertice'+'s'];let _0x3ad7f5;const _0x5a75fd=_0x3513bc['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x236967)&&(_0x236967['length']=0x2011+-0x1379*-0x2+-0x4703),_0x3513bc['index']=0x1ac1+-0x3c3*0x3+0x24*-0x6e;let _0x29f23a=0x1ac4*0x1+0x80b+0x85*-0x43;for(_0x3ad7f5=0xd*-0x213+-0x5da*-0x6+-0x825;_0x3ad7f5<_0x20333e;_0x3ad7f5++)_0x3513bc['getToArray'](_0x29f23a,_0x236967,_0x3ad7f5*_0x5a75fd),_0x29f23a+=_0x3513bc['stride'];}else{if(ArrayBuffer['isView'](_0x236967))_0x236967['set'](_0x3513bc['array']);else{_0x236967['length']=-0x1863+0x1671+0x1f2;const _0x57afff=_0x20333e*_0x5a75fd;for(_0x3ad7f5=0x1b5f+-0x14a0+-0x1*0x6bf;_0x3ad7f5<_0x57afff;_0x3ad7f5++)_0x236967[_0x3ad7f5]=_0x3513bc['array'][_0x3ad7f5];}}}return _0x20333e;}}const Tw=-(0x253a+0x2089+-0x22e1*0x2);class ww{constructor(_0xc503f0,_0x19a72c){h(this,'key',null),h(this,'element',null),h(this,'event',null),_0x19a72c&&(this['key']=_0x19a72c['keyCode'],this['element']=_0x19a72c['target'],this['event']=_0x19a72c);}}const jl=new ww();function Vd(_0x3053bf){return jl['key']=_0x3053bf['keyCode'],jl['element']=_0x3053bf['target'],jl['event']=_0x3053bf,jl;}function Yl(_0x12b7b9){return typeof _0x12b7b9=='string'?_0x12b7b9['toUpperCas'+'e']()['charCodeAt'](-0x13d5+0x1064+-0x371*-0x1):_0x12b7b9;}const Ew={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class h_ extends me{constructor(_0x9af06f,_0x37e2b3={}){super(),h(this,'_element',null),h(this,'_keymap',{}),h(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x9af06f&&this['attach'](_0x9af06f),this['preventDef'+'ault']=_0x37e2b3['preventDef'+'ault']||!(0x1c*-0x15f+0x1156*-0x2+-0x185b*-0x3),this['stopPropag'+'ation']=_0x37e2b3['stopPropag'+'ation']||!(0x1a93*-0x1+0x7e2+-0x1*-0x12b2));}['attach'](_0x450f6f){this['_element']&&this['detach'](),this['_element']=_0x450f6f,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(-0x1*-0x322+-0x45f*0x1+0x13e)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(-0xa27*-0x1+0x1d*0x10f+-0x28d9)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(0x13*-0x1bd+-0x21c7+-0x3*-0x1645)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x446+-0x53+0x1f9*-0x2)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(0x14c8+-0x23aa*0x1+-0x25*-0x67));}['detach'](){if(!this['_element']){w['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x847*-0x2+0x4c2*0x1+-0xbcd*-0x1)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(-0x1ce7+0x15dd+-0x1*-0x70b));}['toKeyIdent'+'ifier'](_0x3b48bb){_0x3b48bb=Yl(_0x3b48bb);const _0x1bef3f=Ew[_0x3b48bb['toString']()];if(_0x1bef3f)return _0x1bef3f;let _0x47137d=_0x3b48bb['toString'](0x21*0x11b+0xddc+0xd3*-0x3d)['toUpperCas'+'e']();const _0x4e767e=_0x47137d['length'];for(let _0x3a9a7e=0x40*-0x4+-0x267e+0x277e;_0x3a9a7e<-0xa9e+-0x76*-0xa+-0x6*-0x101-_0x4e767e;_0x3a9a7e++)_0x47137d='0'+_0x47137d;return'U+'+_0x47137d;}['_handleKey'+'Down'](_0x51f90){const _0xf1af77=_0x51f90['keyCode']||_0x51f90['charCode'];if(_0xf1af77===void(-0x819*0x1+0x147c+0x1c5*-0x7))return;const _0x58b2c4=this['toKeyIdent'+'ifier'](_0xf1af77);this['_keymap'][_0x58b2c4]=!(-0x1*-0x11a7+-0xdc2*0x1+-0x3e5),this['fire']('keydown',Vd(_0x51f90)),this['preventDef'+'ault']&&_0x51f90['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x51f90['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x4bf3b3){const _0x259129=_0x4bf3b3['keyCode']||_0x4bf3b3['charCode'];if(_0x259129===void(-0x24c3+0x1d7+-0x12a*-0x1e))return;const _0x269838=this['toKeyIdent'+'ifier'](_0x259129);delete this['_keymap'][_0x269838],this['fire']('keyup',Vd(_0x4bf3b3)),this['preventDef'+'ault']&&_0x4bf3b3['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x4bf3b3['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x37c476){this['fire']('keypress',Vd(_0x37c476)),this['preventDef'+'ault']&&_0x37c476['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x37c476['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x2c8f3a in this['_lastmap'])delete this['_lastmap'][_0x2c8f3a];for(const _0x3a391e in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x3a391e)&&(this['_lastmap'][_0x3a391e]=this['_keymap'][_0x3a391e]);}['isPressed'](_0x330dec){const _0x6c0839=Yl(_0x330dec),_0x5ef11f=this['toKeyIdent'+'ifier'](_0x6c0839);return!!this['_keymap'][_0x5ef11f];}['wasPressed'](_0x3ea9fc){const _0x1c53d7=Yl(_0x3ea9fc),_0x388fe9=this['toKeyIdent'+'ifier'](_0x1c53d7);return!!this['_keymap'][_0x388fe9]&&!this['_lastmap'][_0x388fe9];}['wasRelease'+'d'](_0x12e473){const _0x4e274d=Yl(_0x12e473),_0x1ddd62=this['toKeyIdent'+'ifier'](_0x4e274d);return!this['_keymap'][_0x1ddd62]&&!!this['_lastmap'][_0x1ddd62];}}h(h_,'EVENT_KEYD'+'OWN','keydown'),h(h_,'EVENT_KEYU'+'P','keyup');function ru(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x2eacf5,_0x42bb55){h(this,'x',0x12*-0x190+-0x1*0x416+0x26*0xd9),h(this,'y',-0x1d7c+-0x1*-0x16f7+0x685*0x1),h(this,'dx',0x198f*0x1+-0x207*-0x11+-0x3c06),h(this,'dy',-0xcb0*-0x3+-0x71f*0x2+-0x17d2),h(this,'button',Tw),h(this,'wheelDelta',0x1f*0xd3+0x2*-0x8a+0x4e5*-0x5),h(this,'element'),h(this,'ctrlKey',!(-0xf1*-0x8+-0x14*0x47+-0x1fb)),h(this,'altKey',!(-0x1ee5+-0x1c94*-0x1+0x252)),h(this,'shiftKey',!(0x63b+-0x2466+0x1e2c)),h(this,'metaKey',!(0xb87+0x2071+-0x2bf7*0x1)),h(this,'event');let _0x13433f={'x':0x0,'y':0x0};if(_0x42bb55){if(_0x42bb55 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x13433f=_0x2eacf5['_getTarget'+'Coords'](_0x42bb55);}else _0x42bb55={};if(_0x13433f)this['x']=_0x13433f['x'],this['y']=_0x13433f['y'];else{if(ru())this['x']=-0x25ad+-0x156d+0x3b1a,this['y']=-0x1373+-0x23e8+0x25*0x17f;else return;}_0x42bb55['type']==='wheel'&&(_0x42bb55['deltaY']>0x1e1b+-0x25a7+0x1c*0x45?this['wheelDelta']=-0x22ab+0x2136+-0x1*-0x176:_0x42bb55['deltaY']<-0x10d2+0x1b99+-0xac7*0x1&&(this['wheelDelta']=-(0x293+0x1fb9+-0x224b*0x1))),ru()?(this['dx']=_0x42bb55['movementX']||_0x42bb55['webkitMove'+'mentX']||_0x42bb55['mozMovemen'+'tX']||-0x3ac+-0x266f+0x2a1b,this['dy']=_0x42bb55['movementY']||_0x42bb55['webkitMove'+'mentY']||_0x42bb55['mozMovemen'+'tY']||0x2140+0x1608+-0x6e9*0x8):(this['dx']=this['x']-_0x2eacf5['_lastX'],this['dy']=this['y']-_0x2eacf5['_lastY']),(_0x42bb55['type']==='mousedown'||_0x42bb55['type']==='mouseup')&&(this['button']=_0x42bb55['button']),this['buttons']=_0x2eacf5['_buttons']['slice'](0x1b44+0xb64+-0x26a8),this['element']=_0x42bb55['target'],this['ctrlKey']=_0x42bb55['ctrlKey']??!(-0xb21*-0x3+0x1c13*-0x1+-0x54f),this['altKey']=_0x42bb55['altKey']??!(0xc11+-0x35f*-0xb+-0x3125),this['shiftKey']=_0x42bb55['shiftKey']??!(0x187+-0x1*-0x646+-0x7cc),this['metaKey']=_0x42bb55['metaKey']??!(-0x5*0x43+0x1155+-0x1*0x1005),this['event']=_0x42bb55;}}class sa extends me{constructor(_0x27b7f7){super(),h(this,'_lastX',0x6a*-0x29+0x291*-0x3+0x18ad),h(this,'_lastY',-0x1882+0x499+0x13e9),h(this,'_buttons',[!(-0x41*0x34+-0x2474+0x1*0x31a9),!(-0xde*0x22+-0x2252+-0x5cd*-0xb),!(-0x1d01+-0xe56+0x15ac*0x2)]),h(this,'_lastbutto'+'ns',[!(-0x2709*-0x1+0x1*-0xa13+0x1*-0x1cf5),!(0x5b5+0xa59*0x1+-0x7*0x24b),!(0x21ae+0xe71+0x180f*-0x2)]),h(this,'_target',null),h(this,'_attached',!(0x16b*0x19+0x2011+0x337*-0x15)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0x38ebe8=>{_0x38ebe8['preventDef'+'ault']();},this['attach'](_0x27b7f7));}static['isPointerL'+'ocked'](){return ru();}['attach'](_0x3bcf99){if(this['_target']=_0x3bcf99,this['_attached'])return;this['_attached']=!(0x8fe+0x1da5*-0x1+0x14a7);const _0x1d8fe0={'passive':!(0x1aa0+-0x1231*0x1+-0xa6*0xd)},_0x5ead01=Ae['passiveEve'+'nts']?_0x1d8fe0:!(0x3d1*0x4+0x913*-0x4+0x1509);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x5ead01),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x5ead01),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x5ead01),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x5ead01);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x244e+-0x1d*-0x2d+0x1f36),this['_target']=null;const _0x167ce0={'passive':!(0xb5*0x1d+0x96+-0x1516)},_0x10ae10=Ae['passiveEve'+'nts']?_0x167ce0:!(0x121c+0x1*0xbb7+-0x1dd2);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x10ae10),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x10ae10),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x10ae10),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x10ae10);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x3ed1ba,_0x215ff5){if(!document['body']['requestPoi'+'nterLock']){_0x215ff5&&_0x215ff5();return;}const _0x4ac5c2=()=>{_0x3ed1ba(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x4ac5c2);},_0x239b80=()=>{_0x215ff5(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0x239b80);};_0x3ed1ba&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x4ac5c2,!(0x61c+0x1e7c+-0x11*0x227)),_0x215ff5&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0x239b80,!(0x20b4+0x1*0x1b59+-0x356*0x12)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x4784ef){if(!document['exitPointe'+'rLock'])return;const _0x5aef79=()=>{_0x4784ef(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x5aef79);};_0x4784ef&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x5aef79,!(-0x3*0x3f0+-0x1e02+-0xdf1*-0x3)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][0x143*-0x6+-0x7*-0x3a5+0x5fb*-0x3]=this['_buttons'][0x1*0x7ad+-0x610+0x1*-0x19d],this['_lastbutto'+'ns'][0xa9*-0x2a+-0x6d*-0x43+0x3*-0x44]=this['_buttons'][-0x17b1*0x1+-0x1979*-0x1+0x1c7*-0x1],this['_lastbutto'+'ns'][-0x23b9+0x3b*-0x18+-0x3*-0xdc1]=this['_buttons'][-0x316+0x53*-0x1+-0x36b*-0x1];}['isPressed'](_0x1928e8){return this['_buttons'][_0x1928e8];}['wasPressed'](_0x5b2772){return this['_buttons'][_0x5b2772]&&!this['_lastbutto'+'ns'][_0x5b2772];}['wasRelease'+'d'](_0x1efda2){return!this['_buttons'][_0x1efda2]&&this['_lastbutto'+'ns'][_0x1efda2];}['_handleUp'](_0x1113cb){this['_buttons'][_0x1113cb['button']]=!(-0x8*0x194+0x32*0x5+0xba7);const _0x52278e=new ta(this,_0x1113cb);_0x52278e['event']&&this['fire']('mouseup',_0x52278e);}['_handleDow'+'n'](_0xc7d9c1){this['_buttons'][_0xc7d9c1['button']]=!(0x169a+-0xf05+-0x1*0x795);const _0xe8c8a6=new ta(this,_0xc7d9c1);_0xe8c8a6['event']&&this['fire']('mousedown',_0xe8c8a6);}['_handleMov'+'e'](_0x14ceb9){const _0x5e9ac9=new ta(this,_0x14ceb9);_0x5e9ac9['event']&&(this['fire']('mousemove',_0x5e9ac9),this['_lastX']=_0x5e9ac9['x'],this['_lastY']=_0x5e9ac9['y']);}['_handleWhe'+'el'](_0x5ec55e){const _0x5b0b11=new ta(this,_0x5ec55e);_0x5b0b11['event']&&this['fire']('mousewheel',_0x5b0b11);}['_getTarget'+'Coords'](_0x4c3d45){const _0x232cc5=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x258948=Math['floor'](_0x232cc5['left']),_0x452a0d=Math['floor'](_0x232cc5['top']);return _0x4c3d45['clientX']<_0x258948||_0x4c3d45['clientX']>=_0x258948+this['_target']['clientWidt'+'h']||_0x4c3d45['clientY']<_0x452a0d||_0x4c3d45['clientY']>=_0x452a0d+this['_target']['clientHeig'+'ht']?null:{'x':_0x4c3d45['clientX']-_0x258948,'y':_0x4c3d45['clientY']-_0x452a0d};}}h(sa,'EVENT_MOUS'+'EMOVE','mousemove'),h(sa,'EVENT_MOUS'+'EDOWN','mousedown'),h(sa,'EVENT_MOUS'+'EUP','mouseup'),h(sa,'EVENT_MOUS'+'EWHEEL','mousewheel');function Wc(_0x1c90fe){let _0x5dea3a=0xa*0x1+-0x1a5*-0x13+0x1f49*-0x1,_0x3c024c=-0x14*-0x1e7+0x1*0x50b+-0x3*0xe5d,_0x1f6bc4=_0x1c90fe['target'];for(;!(_0x1f6bc4 instanceof HTMLElement)&&_0x1f6bc4;)_0x1f6bc4=_0x1f6bc4['parentNode'];for(;_0x1f6bc4;)_0x5dea3a+=_0x1f6bc4['offsetLeft']-_0x1f6bc4['scrollLeft'],_0x3c024c+=_0x1f6bc4['offsetTop']-_0x1f6bc4['scrollTop'],_0x1f6bc4=_0x1f6bc4['offsetPare'+'nt'];return{'x':_0x1c90fe['pageX']-_0x5dea3a,'y':_0x1c90fe['pageY']-_0x3c024c};}class d_{constructor(_0x489c9f){h(this,'id'),h(this,'x'),h(this,'y'),h(this,'target'),h(this,'touch');const _0xd41685=Wc(_0x489c9f);this['id']=_0x489c9f['identifier'],this['x']=_0xd41685['x'],this['y']=_0xd41685['y'],this['target']=_0x489c9f['target'],this['touch']=_0x489c9f;}}class Kl{constructor(_0x1c288a,_0x5e54a3){h(this,'element'),h(this,'event'),h(this,'touches',[]),h(this,'changedTou'+'ches',[]),(this['element']=_0x5e54a3['target'],this['event']=_0x5e54a3,this['touches']=Array['from'](_0x5e54a3['touches'])['map'](_0x504912=>new d_(_0x504912)),this['changedTou'+'ches']=Array['from'](_0x5e54a3['changedTou'+'ches'])['map'](_0x51249e=>new d_(_0x51249e)));}['getTouchBy'+'Id'](_0x163dc,_0x20a2f4){return _0x20a2f4['find'](_0x139e6a=>_0x139e6a['id']===_0x163dc)||null;}}class Zl extends me{constructor(_0x19d518){super(),this['_element']=null,this['_startHand'+'ler']=this['_handleTou'+'chStart']['bind'](this),this['_endHandle'+'r']=this['_handleTou'+'chEnd']['bind'](this),this['_moveHandl'+'er']=this['_handleTou'+'chMove']['bind'](this),this['_cancelHan'+'dler']=this['_handleTou'+'chCancel']['bind'](this),this['attach'](_0x19d518);}['attach'](_0x364726){this['_element']&&this['detach'](),this['_element']=_0x364726,this['_element']['addEventLi'+'stener']('touchstart',this['_startHand'+'ler'],!(0x1b04+0x94d*-0x1+-0x11b6)),this['_element']['addEventLi'+'stener']('touchend',this['_endHandle'+'r'],!(-0x35*0x58+-0x9*0x3d9+0x34da)),this['_element']['addEventLi'+'stener']('touchmove',this['_moveHandl'+'er'],!(0x1c5e+0x3*-0x619+-0xa12)),this['_element']['addEventLi'+'stener']('touchcance'+'l',this['_cancelHan'+'dler'],!(-0xb4e+-0xf2*0x19+0x5*0x6fd));}['detach'](){this['_element']&&(this['_element']['removeEven'+'tListener']('touchstart',this['_startHand'+'ler'],!(0x1*0x1d+-0x1745+0x1729)),this['_element']['removeEven'+'tListener']('touchend',this['_endHandle'+'r'],!(-0x13f4+0x35b*-0x5+0x24bc)),this['_element']['removeEven'+'tListener']('touchmove',this['_moveHandl'+'er'],!(0x123f+-0x1*0x4e9+-0xd55)),this['_element']['removeEven'+'tListener']('touchcance'+'l',this['_cancelHan'+'dler'],!(0xc*0x306+-0x237c+-0x7*0x1d))),this['_element']=null;}['_handleTou'+'chStart'](_0x4f424d){this['fire']('touchstart',new Kl(this,_0x4f424d));}['_handleTou'+'chEnd'](_0x4d7a6a){this['fire']('touchend',new Kl(this,_0x4d7a6a));}['_handleTou'+'chMove'](_0x49a99f){_0x49a99f['preventDef'+'ault'](),this['fire']('touchmove',new Kl(this,_0x49a99f));}['_handleTou'+'chCancel'](_0x241b10){this['fire']('touchcance'+'l',new Kl(this,_0x241b10));}}h(Zl,'EVENT_TOUC'+'HSTART','touchstart'),h(Zl,'EVENT_TOUC'+'HEND','touchend'),h(Zl,'EVENT_TOUC'+'HMOVE','touchmove'),h(Zl,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');const Oe=class Oe{['get'](_0x464e7d,_0x27e88c,_0x491ec8){typeof _0x27e88c=='function'&&(_0x491ec8=_0x27e88c,_0x27e88c={});const _0x537d29=this['request']('GET',_0x464e7d,_0x27e88c,_0x491ec8),{progress:_0xb36cc3}=_0x27e88c;if(_0xb36cc3){const _0x33a636=_0x400f6a=>{_0x400f6a['lengthComp'+'utable']&&_0xb36cc3['fire']('progress',_0x400f6a['loaded'],_0x400f6a['total']);},_0x53d983=_0x1989b2=>{_0x33a636(_0x1989b2),_0x537d29['removeEven'+'tListener']('loadstart',_0x33a636),_0x537d29['removeEven'+'tListener']('progress',_0x33a636),_0x537d29['removeEven'+'tListener']('loadend',_0x53d983);};_0x537d29['addEventLi'+'stener']('loadstart',_0x33a636),_0x537d29['addEventLi'+'stener']('progress',_0x33a636),_0x537d29['addEventLi'+'stener']('loadend',_0x53d983);}return _0x537d29;}['post'](_0x10e252,_0x82c2c0,_0x165736,_0x2df25f){return typeof _0x165736=='function'&&(_0x2df25f=_0x165736,_0x165736={}),_0x165736['postdata']=_0x82c2c0,this['request']('POST',_0x10e252,_0x165736,_0x2df25f);}['put'](_0x4eec7e,_0x399c1a,_0x348a05,_0x1b2b09){return typeof _0x348a05=='function'&&(_0x1b2b09=_0x348a05,_0x348a05={}),_0x348a05['postdata']=_0x399c1a,this['request']('PUT',_0x4eec7e,_0x348a05,_0x1b2b09);}['del'](_0x10a2dd,_0x13317a,_0x3cb4d7){return typeof _0x13317a=='function'&&(_0x3cb4d7=_0x13317a,_0x13317a={}),this['request']('DELETE',_0x10a2dd,_0x13317a,_0x3cb4d7);}['request'](_0x5bc5e8,_0x159afd,_0x369f94,_0x3111a4){let _0x454b16,_0x13f740,_0x1867ed,_0x45ed61=!(-0x2163+-0xbcd+0x2d31);if(typeof _0x369f94=='function'&&(_0x3111a4=_0x369f94,_0x369f94={}),_0x369f94['retry']&&(_0x369f94=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x369f94)),_0x369f94['callback']=_0x3111a4,_0x369f94['async']==null&&(_0x369f94['async']=!(-0x5a1+0x22c3+-0x42*0x71)),_0x369f94['headers']==null&&(_0x369f94['headers']={}),_0x369f94['postdata']!=null){if(_0x369f94['postdata']instanceof Document)_0x1867ed=_0x369f94['postdata'];else{if(_0x369f94['postdata']instanceof FormData)_0x1867ed=_0x369f94['postdata'];else{if(_0x369f94['postdata']instanceof Object){let _0x2fb7d6=_0x369f94['headers']['Content-Ty'+'pe'];switch(_0x2fb7d6===void(0x1742+-0x1*0xe2f+-0x913)&&(_0x369f94['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x2fb7d6=_0x369f94['headers']['Content-Ty'+'pe']),_0x2fb7d6){case Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0x1867ed='';let _0x1fdae0=!(0x132f*0x1+0xb*0x43+-0x1610);for(const _0xdf1d03 in _0x369f94['postdata'])if(_0x369f94['postdata']['hasOwnProp'+'erty'](_0xdf1d03)){_0x1fdae0?_0x1fdae0=!(-0x10c2+0x14bd*-0x1+0x2580):_0x1867ed+='&';const _0x228225=encodeURIComponent(_0xdf1d03),_0x28ecfb=encodeURIComponent(_0x369f94['postdata'][_0xdf1d03]);_0x1867ed+=_0x228225+'='+_0x28ecfb;}break;}default:case Oe['ContentTyp'+'e']['JSON']:_0x2fb7d6==null&&(_0x369f94['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['JSON']),_0x1867ed=JSON['stringify'](_0x369f94['postdata']);break;}}else _0x1867ed=_0x369f94['postdata'];}}}if(_0x369f94['cache']===!(0xf3e+-0x1d41+0x17*0x9c)){const _0x5b91da=de();_0x454b16=new Rd(_0x159afd),_0x454b16['query']?_0x454b16['query']=_0x454b16['query']+'&ts='+_0x5b91da:_0x454b16['query']='ts='+_0x5b91da,_0x159afd=_0x454b16['toString']();}_0x369f94['query']&&(_0x454b16=new Rd(_0x159afd),_0x13f740=ah(_0x454b16['getQuery'](),_0x369f94['query']),_0x454b16['setQuery'](_0x13f740),_0x159afd=_0x454b16['toString']());const _0x33e9d0=new XMLHttpRequest();_0x33e9d0['open'](_0x5bc5e8,_0x159afd,_0x369f94['async']),_0x33e9d0['withCreden'+'tials']=_0x369f94['withCreden'+'tials']!==void(0x198c+0x140f+-0x2d9b)?_0x369f94['withCreden'+'tials']:!(0x235d+0x5*-0x28+-0x2294),_0x33e9d0['responseTy'+'pe']=_0x369f94['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x159afd);for(const _0x43feea in _0x369f94['headers'])_0x369f94['headers']['hasOwnProp'+'erty'](_0x43feea)&&_0x33e9d0['setRequest'+'Header'](_0x43feea,_0x369f94['headers'][_0x43feea]);_0x33e9d0['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x5bc5e8,_0x159afd,_0x369f94,_0x33e9d0);},_0x33e9d0['onerror']=()=>{this['_onError'](_0x5bc5e8,_0x159afd,_0x369f94,_0x33e9d0),_0x45ed61=!(0x185b+-0x1*-0x1b97+-0x33f2*0x1);};try{_0x33e9d0['send'](_0x1867ed);}catch(_0xb7e588){_0x45ed61||_0x369f94['error'](_0x33e9d0['status'],_0x33e9d0,_0xb7e588);}return _0x33e9d0;}['_guessResp'+'onseType'](_0x5b2359){const _0xb4220b=new Rd(_0x5b2359),_0x3002ae=xe['getExtensi'+'on'](_0xb4220b['path'])['toLowerCas'+'e']();return Oe['binaryExte'+'nsions']['indexOf'](_0x3002ae)>=-0x23c8+-0x10bd*0x1+-0x1*-0x3485?Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x3002ae==='.json'?Oe['ResponseTy'+'pe']['JSON']:_0x3002ae==='.xml'?Oe['ResponseTy'+'pe']['DOCUMENT']:Oe['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x130a54){return[Oe['ContentTyp'+'e']['BASIS'],Oe['ContentTyp'+'e']['BIN'],Oe['ContentTyp'+'e']['DDS'],Oe['ContentTyp'+'e']['GLB'],Oe['ContentTyp'+'e']['MP3'],Oe['ContentTyp'+'e']['MP4'],Oe['ContentTyp'+'e']['OGG'],Oe['ContentTyp'+'e']['OPUS'],Oe['ContentTyp'+'e']['WAV']]['indexOf'](_0x130a54)>=0x2de*0xc+-0x679+-0x1*0x1bef;}['_isBinaryR'+'esponseTyp'+'e'](_0x44f9af){return _0x44f9af===Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x44f9af===Oe['ResponseTy'+'pe']['BLOB']||_0x44f9af===Oe['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x57ae0b,_0x3f979b,_0x253017,_0x254aea){if(_0x254aea['readyState']===0xacc+0x9f*-0x26+0xcd2)switch(_0x254aea['status']){case-0x653*-0x3+-0x1*0x469+0x10*-0xe9:{_0x254aea['responseUR'+'L']&&_0x254aea['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x57ae0b,_0x3f979b,_0x253017,_0x254aea):this['_onError'](_0x57ae0b,_0x3f979b,_0x253017,_0x254aea);break;}case 0xbc4+0xef*-0x25+0x178f:case 0x1*0xf4d+-0x192*0x17+0x18b*0xe:case 0x137+0x54e+-0x5b7:case 0x1*-0x79d+-0x1679+0x1f46*0x1:{this['_onSuccess'](_0x57ae0b,_0x3f979b,_0x253017,_0x254aea);break;}default:{this['_onError'](_0x57ae0b,_0x3f979b,_0x253017,_0x254aea);break;}}}['_onSuccess'](_0x1060e0,_0x43a3b2,_0x938ae0,_0x2f61fe){let _0x4a4813,_0x540b5c;const _0x3cee7a=_0x2f61fe['getRespons'+'eHeader']('Content-Ty'+'pe');_0x3cee7a&&(_0x540b5c=_0x3cee7a['split'](';')[-0xf*-0x81+0x1ae9+-0x2278]['trim']());try{this['_isBinaryC'+'ontentType'](_0x540b5c)||this['_isBinaryR'+'esponseTyp'+'e'](_0x2f61fe['responseTy'+'pe'])?_0x4a4813=_0x2f61fe['response']:_0x540b5c===Oe['ContentTyp'+'e']['JSON']||_0x43a3b2['split']('?')[0x23e3+0x22f*-0xb+-0xbde]['endsWith']('.json')?_0x4a4813=JSON['parse'](_0x2f61fe['responseTe'+'xt']):_0x2f61fe['responseTy'+'pe']===Oe['ResponseTy'+'pe']['DOCUMENT']||_0x540b5c===Oe['ContentTyp'+'e']['XML']?_0x4a4813=_0x2f61fe['responseXM'+'L']:_0x4a4813=_0x2f61fe['responseTe'+'xt'],_0x938ae0['callback'](null,_0x4a4813);}catch(_0x27f452){_0x938ae0['callback'](_0x27f452);}}['_onError'](_0x56b90c,_0x318f93,_0x5ccd0a,_0x47f842){if(!_0x5ccd0a['retrying']){if(_0x5ccd0a['retry']&&_0x5ccd0a['retries']<_0x5ccd0a['maxRetries']){_0x5ccd0a['retries']++,_0x5ccd0a['retrying']=!(-0x1*-0x1813+0x276+0x1a89*-0x1);const _0x592d53=Y['clamp'](Math['pow'](0x355*0x4+-0x149e+0x1d3*0x4,_0x5ccd0a['retries'])*Oe['retryDelay'],0x556*0x1+-0x31d+-0x239*0x1,_0x5ccd0a['maxRetryDe'+'lay']||-0x10e3+0x6*0x49c+-0x1*-0x8c3);console['log'](_0x56b90c+':\x20'+_0x318f93+'\x20-\x20Error\x20'+_0x47f842['status']+('.\x20Retrying'+'\x20in\x20')+_0x592d53+'\x20ms'),setTimeout(()=>{_0x5ccd0a['retrying']=!(0x503*0x2+-0x1ecc+0x14c7),this['request'](_0x56b90c,_0x318f93,_0x5ccd0a,_0x5ccd0a['callback']);},_0x592d53);}else _0x5ccd0a['callback'](_0x47f842['status']===-0x12ad+-0x2b*0x21+0x1838?'Network\x20er'+'ror':_0x47f842['status'],null);}}};h(Oe,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),h(Oe,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),h(Oe,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),h(Oe,'retryDelay',-0x19ce+-0x44d+0x1*0x1e7f);let Ls=Oe;const ot=new Ls(),Vp='linear',bw='inverse',Aw='exponentia'+'l';class Cw{constructor(_0x2f2edc){h(this,'_manager'),h(this,'position',new D()),h(this,'orientatio'+'n',new te()),this['_manager']=_0x2f2edc;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x12285e){this['position']['copy'](_0x12285e);const _0x822110=this['listener'];_0x822110&&('positionX'in _0x822110?(_0x822110['positionX']['value']=_0x12285e['x'],_0x822110['positionY']['value']=_0x12285e['y'],_0x822110['positionZ']['value']=_0x12285e['z']):_0x822110['setPositio'+'n']&&_0x822110['setPositio'+'n'](_0x12285e['x'],_0x12285e['y'],_0x12285e['z']));}['setOrienta'+'tion'](_0x133b51){this['orientatio'+'n']['copy'](_0x133b51);const _0x2d189e=this['listener'];if(_0x2d189e){const _0x4bd6cc=_0x133b51['data'];'forwardX'in _0x2d189e?(_0x2d189e['forwardX']['value']=-_0x4bd6cc[0x12*0x7+0x22f4+-0x236a],_0x2d189e['forwardY']['value']=-_0x4bd6cc[-0x205a+-0x232d+0x4390],_0x2d189e['forwardZ']['value']=-_0x4bd6cc[0x22fd+0x6d*-0x13+-0x4*0x6b7],_0x2d189e['upX']['value']=_0x4bd6cc[-0x2*-0x64e+-0x1*0x62b+-0x66d],_0x2d189e['upY']['value']=_0x4bd6cc[0x1*-0x401+0x288+0x17e],_0x2d189e['upZ']['value']=_0x4bd6cc[0x181b+0x66*0x2c+0x43*-0x9f]):_0x2d189e['setOrienta'+'tion']&&_0x2d189e['setOrienta'+'tion'](-_0x4bd6cc[-0x1da*0xc+0xefd+-0x1*-0x743],-_0x4bd6cc[0xb8+0x14*0x1b+-0x2cb],-_0x4bd6cc[-0x11b7+0x1a*-0x2b+0x161f*0x1],_0x4bd6cc[0xa78+-0x1406+0x19*0x62],_0x4bd6cc[-0x1397+-0xfbf*-0x1+0x3dd],_0x4bd6cc[0x2*0x74b+0x194+-0x1024]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x43fb15=this['_manager']['context'];return _0x43fb15?_0x43fb15['listener']:null;}}const Ql='running',f_=['click','touchstart','mousedown'];class Pw extends me{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||w['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(-0x210b*-0x1+0x258c+0x82*-0x8b),this['listener']=new Cw(this),this['_volume']=-0x74b+0x218b+-0x1a3f;}set['volume'](_0x58d168){_0x58d168=Y['clamp'](_0x58d168,0x1*0xb47+0x1233+-0x1d7a,0x22a*-0x2+0x136a+0x1ad*-0x9),this['_volume']=_0x58d168,this['fire']('volumechan'+'ge',_0x58d168);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==Ql&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(0xf6*0x11+-0xe79+0x9f*-0x3),this['_context']&&this['_context']['state']===Ql&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(0xcd6*0x2+-0x2275+0x8ca),this['_context']&&this['_context']['state']!==Ql&&this['_resume']());}['destroy'](){var _0x29ab80;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x29ab80=this['_context'])==null||_0x29ab80['close'](),this['_context']=null);}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x12c1db=this['_context']['createBuff'+'erSource']();_0x12c1db['buffer']=this['_context']['createBuff'+'er'](0x2f4+-0x1438*-0x1+0x1*-0x172b,0x480+-0x751+0x2d2,this['_context']['sampleRate']),_0x12c1db['connect'](this['_context']['destinatio'+'n']),_0x12c1db['start'](0x225f+0x1d93+0x2*-0x1ff9),_0x12c1db['onended']=_0x11aa11=>{_0x12c1db['disconnect'](0x1*0x1565+-0x1*-0x2027+-0x358c),this['fire']('resume');};},_0x1d1bad=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0x1d1bad);})['catch'](_0x1774e0=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x1774e0);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0xfaebad=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0xfaebad);})['catch'](_0x3542dc=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x3542dc);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==Ql&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){f_['forEach'](_0x5315ed=>{window['addEventLi'+'stener'](_0x5315ed,this['_unlockHan'+'dlerFunc'],!(0x1411+-0x102b+0x3e5*-0x1));});}['_removeUnl'+'ockListene'+'rs'](){f_['forEach'](_0x4750fb=>{window['removeEven'+'tListener'](_0x4750fb,this['_unlockHan'+'dlerFunc'],!(-0x16fc+0x1fbf+0x461*-0x2));});}}class Mw{constructor(_0x182a73){h(this,'audio'),h(this,'buffer'),_0x182a73 instanceof Audio?this['audio']=_0x182a73:this['buffer']=_0x182a73;}get['duration'](){let _0x438f59=0x1*-0x188f+-0x1c0c+-0x1189*-0x3;return this['buffer']?_0x438f59=this['buffer']['duration']:this['audio']&&(_0x438f59=this['audio']['duration']),_0x438f59||-0x2e3*0x3+-0xc1*-0x25+-0x1*0x133c;}}function Dl(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}const Zt=0xaa2+0x255d+-0x1*0x2fff,fn=-0x1c1a+-0x1bb*-0x15+-0x44*0x1f,Hs=-0x1a5c+0x1b6e*0x1+-0x4*0x44;function es(_0x14df15,_0x529cc0){return _0x14df15%_0x529cc0||-0x982+-0x1670+0x1ff2;}class As extends me{constructor(_0x102d34,_0x18e383,_0x4444a1){super(),h(this,'source',null),(this['_manager']=_0x102d34,this['_volume']=_0x4444a1['volume']!==void(0x17a6+0x1fed*0x1+-0x3793)?Y['clamp'](Number(_0x4444a1['volume'])||0x419*0x1+0x143b+-0x1854,-0x1f98+0x766*0x4+0x200,0x21a+-0x1ff1+0x1dd8):0x113f+0xd5*0x19+-0x260b,this['_pitch']=_0x4444a1['pitch']!==void(0x166a+-0xb*-0x8f+-0x1c8f)?Math['max'](0x235b+-0x1930+-0x13*0x89+0.01,Number(_0x4444a1['pitch'])||0x18f0+-0x1dd6+0x4e6):0x7f*0x4c+0x247*-0x1+-0x236c,this['_loop']=!!(_0x4444a1['loop']!==void(0x1165+0x2531*0x1+-0x336*0x11)&&_0x4444a1['loop']),this['_sound']=_0x18e383,this['_state']=Hs,this['_suspended']=!(-0x311*-0x9+-0x1b93+-0x5),this['_suspendEn'+'dEvent']=-0x4*-0x2f3+-0x412+0x17*-0x56,this['_suspendIn'+'stanceEven'+'ts']=!(0x44*-0x19+-0xb0a+0x11af),this['_playWhenL'+'oaded']=!(0x1*-0x1205+-0x89e+-0x8e1*-0x3),this['_startTime']=Math['max'](-0x3d+-0x18*0x77+0xb65,Number(_0x4444a1['startTime'])||-0x1087+0x916+-0x771*-0x1),this['_duration']=Math['max'](0x1*0x2dd+-0x1be5+0xc*0x216,Number(_0x4444a1['duration'])||-0x397*-0x3+0x8d5*0x2+-0x1c6f),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0x4444a1['onPlay'],this['_onPauseCa'+'llback']=_0x4444a1['onPause'],this['_onResumeC'+'allback']=_0x4444a1['onResume'],this['_onStopCal'+'lback']=_0x4444a1['onStop'],this['_onEndCall'+'back']=_0x4444a1['onEnd'],Dl()?(this['_startedAt']=0x678+-0xd13*0x1+0x69b,this['_currentTi'+'me']=-0xde9+-0xbb3+0x199c,this['_currentOf'+'fset']=-0x24e9*-0x1+-0x948+0x1ba1*-0x1,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x12c7*0x2+0x18e8*-0x1+0x3e77),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(-0x1a69+0x321*0x1+0x1749),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x296a4e){if(!(_0x296a4e<0x10c9+0x1b3c+-0x2c05)){if(this['_state']===Zt){const _0x5e21e4=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(-0x143e+-0x5*-0x5c9+0x3*-0x2e5),this['stop'](),this['_startOffs'+'et']=_0x296a4e,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x5e21e4;}else this['_startOffs'+'et']=_0x296a4e,this['_currentTi'+'me']=_0x296a4e;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===fn?this['_currentTi'+'me']:this['_state']===Hs||!this['source']?0xe7*0x21+0x2*0x2f9+-0x1f*0x127:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0x56a7c5){this['_duration']=Math['max'](-0x566*-0x2+0x156+-0xc22,Number(_0x56a7c5)||0xaa+0x1*-0xf55+0xeab);const _0x2646f3=this['_state']===Zt;this['stop'](),_0x2646f3&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?es(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:0x54a+0xc7*0x12+-0x1348;}get['isPaused'](){return this['_state']===fn;}get['isPlaying'](){return this['_state']===Zt;}get['isStopped'](){return this['_state']===Hs;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x58fd1a){this['_loop']=!!_0x58fd1a,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x2500e2){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x2500e2)||-0x21a*-0x4+-0x13*0x1fd+0x67*0x49,0x2*-0x7d4+-0x5c2*0x1+0x156a+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x15ce3c){this['_sound']=_0x15ce3c,this['_state']!==Hs?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x2d6156){this['_startTime']=Math['max'](0x1745+0x3*-0x43b+-0x2*0x54a,Number(_0x2d6156)||0xc69*-0x3+-0x99b*0x4+-0xb5*-0x6b);const _0x3c371b=this['_state']===Zt;this['stop'](),_0x3c371b&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0xd84098){_0xd84098=Y['clamp'](_0xd84098,0x2058+-0x10be*0x1+-0xf9a*0x1,-0xb7c*0x3+0x1*0x212b+0x14a),this['_volume']=_0xd84098,this['gain']&&(this['gain']['gain']['value']=_0xd84098*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>-0x1b45+0x1*-0xe09+0x11*0x26e){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Zt&&!this['_suspended']&&(this['_suspended']=!(0x1*0xb8f+0xc59*0x1+-0x17e8),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(0x25ba+-0xfa9*0x1+-0x1610),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==Hs&&this['stop'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(0x212b+0xaf*0x11+-0x5*0x8f5),this['_waitingCo'+'ntextSuspe'+'nsion']?!(0xb*0x33f+0x13dd+-0x3791):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x2*-0x33f+0x3*-0x313+-0x3*-0xe9),!(-0xeca+0x101*-0x1+0x4*0x3f3)):(this['_playAudio'+'Immediate'](),!(-0x11b*0x13+-0x438+0x1939));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(0x15dc+0xea4+-0x247f*0x1),this['_state']!==Zt)return;this['source']||this['_createSou'+'rce']();let _0x2218f3=es(this['_startOffs'+'et'],this['duration']);_0x2218f3=es(this['_startTime']+_0x2218f3,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](0xd*-0x74+-0xb84+0x1168,_0x2218f3,this['_duration']):this['source']['start'](0x2*-0x95+0xa9*-0x19+0x11ab,_0x2218f3),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=-0x23c+0x3a*-0xc+-0x1*-0x4f4,this['_currentOf'+'fset']=_0x2218f3,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(0x29*0x65+0xb9+0xad*-0x19),this['_state']!==Zt?!(0x17d7+-0x128d+-0x1c3*0x3):(this['_state']=fn,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](-0x1739+0x1482+0x2b7),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(0x4e7+0x1dfc+-0x27*0xe5));}['resume'](){if(this['_state']!==fn)return!(0xec3*-0x1+0x42e+0x5*0x21e);let _0x5ad629=this['currentTim'+'e'];return this['_state']=Zt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x5ad629=es(this['_startOffs'+'et'],this['duration']),_0x5ad629=es(this['_startTime']+_0x5ad629,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](-0xb25+0x542*0x1+0xb*0x89,_0x5ad629,this['_duration']):this['source']['start'](-0x1f71+0x1001*-0x1+0x2f72*0x1,_0x5ad629),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x5ad629,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(-0x9*-0x11b+0xb3*-0x25+0x1c5*0x9),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x20+0x1*-0x1f87+0x1f67);}['stop'](){if(this['_playWhenL'+'oaded']=!(0x3b*0x35+-0x1321+0x6eb),this['_state']===Hs)return!(-0x1*-0x1f97+-0x21b7+0x6d*0x5);const _0x141e0d=this['_state']===Zt;return this['_state']=Hs,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=-0x23a1+0x2*0xefb+0x5ab,this['_currentTi'+'me']=0x12d0+0x2e9*0x8+-0x2a18,this['_currentOf'+'fset']=0xf7e+0x7d*0x41+-0x2f3b,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x141e0d&&this['source']&&this['source']['stop'](-0x60c+-0xe4b*0x1+0x1457),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(0x38c*0x1+-0x687*-0x1+-0xa13);}['setExterna'+'lNodes'](_0x451f08,_0x1cd6b9){if(!_0x451f08){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x1cd6b9||(_0x1cd6b9=_0x451f08);const _0x4a6ebf=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x451f08&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x4a6ebf),this['_firstNode']=_0x451f08,this['_connector'+'Node']['connect'](_0x451f08)),this['_lastNode']!==_0x1cd6b9&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x4a6ebf),this['_lastNode']=_0x1cd6b9,this['_lastNode']['connect'](_0x4a6ebf));}['clearExter'+'nalNodes'](){const _0x13cc33=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x13cc33),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x13cc33);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x3c362c=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x3c362c['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=es(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],es(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=es((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Zt&&(this['source']['stop'](0xd37*-0x2+0x259e+-0x1*0xb30),this['source']=null);}}h(As,'EVENT_PLAY','play'),h(As,'EVENT_PAUS'+'E','pause'),h(As,'EVENT_RESU'+'ME','resume'),h(As,'EVENT_STOP','stop'),h(As,'EVENT_END','end'),Dl()||(Object['assign'](As['prototype'],{'play':function(){return this['_state']!==Hs&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(0x53e+0x1f0*0x9+-0x16ad):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(0x26db+-0x888+0xf29*-0x2),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(0x79f+0x265e*0x1+-0x2dfd*0x1));},'pause':function(){return!this['source']||this['_state']!==Zt?!(0xddf+0x150f+0x22ed*-0x1):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x3c4*-0x1+-0x9c*0x11+0x699),this['_state']=fn,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(0xbfb+0x50d+-0x1108));},'resume':function(){return!this['source']||this['_state']!==fn?!(0x1eb*0xe+0x178b+-0x56*0x96):(this['_state']=Zt,this['_playWhenL'+'oaded']=!(0x67*-0x49+-0x323+0x2083),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(-0x1*-0x1890+-0x2505+0xc75));},'stop':function(){return!this['source']||this['_state']===Hs?!(-0xa7*0xf+-0x1f*0x1d+0xd4d):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x295*0x1+-0x1d14+-0x6*-0x547),this['_state']=Hs,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(-0x376*-0x1+0x2*-0xcb0+0x15ea));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(0x26f8+-0x71c+-0x1fdc);let _0xb30d9a=es(this['_startOffs'+'et'],this['duration']);_0xb30d9a=es(this['_startTime']+_0xb30d9a,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0xb30d9a;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(0x2*0x10d7+-0xed6+0x2b1*-0x7),this['source']=this['_sound']['audio']['cloneNode'](!(-0x10ad+0x565+0x4*0x2d2)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>es(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=es(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](As['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x48507c){_0x48507c=Y['clamp'](_0x48507c,0xe80+-0x3b1+-0xacf*0x1,0x1*0x241+0x11a7+0x1*-0x13e7),this['_volume']=_0x48507c,this['source']&&(this['source']['volume']=_0x48507c*this['_manager']['volume']);}}),Object['defineProp'+'erty'](As['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x4dd097){this['_pitch']=Math['max'](Number(_0x4dd097)||0xe11+0x15bc+0x3*-0xbef,-0x1094+-0x1*-0xb5d+0x537+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](As['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x58c1b5){this['stop'](),this['_sound']=_0x58c1b5;}}),Object['defineProp'+'erty'](As['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===Hs||!this['source']?0x1733+-0x1*-0xeef+-0x2622:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x24e6bd){_0x24e6bd<0x24*0x73+0x24a6+0x2*-0x1a69||(this['_startOffs'+'et']=_0x24e6bd,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=es(this['_startTime']+es(_0x24e6bd,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Dw=0x266+0x30ec+-0x621*0x2;class sn extends As{constructor(_0x4479ea,_0x358db1,_0x20dc0c={}){super(_0x4479ea,_0x358db1,_0x20dc0c),h(this,'_position',new D()),h(this,'_velocity',new D()),(_0x20dc0c['position']&&(this['position']=_0x20dc0c['position']),this['maxDistanc'+'e']=_0x20dc0c['maxDistanc'+'e']!==void(0x2*-0xca7+0x205a+-0x70c)?Number(_0x20dc0c['maxDistanc'+'e']):Dw,this['refDistanc'+'e']=_0x20dc0c['refDistanc'+'e']!==void(-0xe22+0xd55+-0x5*-0x29)?Number(_0x20dc0c['refDistanc'+'e']):-0x25e+-0x4da+0x739,this['rollOffFac'+'tor']=_0x20dc0c['rollOffFac'+'tor']!==void(0x2*0x53f+-0x4c0+-0xd2*0x7)?Number(_0x20dc0c['rollOffFac'+'tor']):-0x79*-0x4+-0xda7+0x5e2*0x2,this['distanceMo'+'del']=_0x20dc0c['distanceMo'+'del']!==void(0xa0*-0x1+0x22f+-0x18f)?_0x20dc0c['distanceMo'+'del']:Vp);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x2a7466){this['_position']['copy'](_0x2a7466);const _0x3591bc=this['panner'];'positionX'in _0x3591bc?(_0x3591bc['positionX']['value']=_0x2a7466['x'],_0x3591bc['positionY']['value']=_0x2a7466['y'],_0x3591bc['positionZ']['value']=_0x2a7466['z']):_0x3591bc['setPositio'+'n']&&_0x3591bc['setPositio'+'n'](_0x2a7466['x'],_0x2a7466['y'],_0x2a7466['z']);}get['position'](){return this['_position'];}set['velocity'](_0x5bc9d0){w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x5bc9d0);}get['velocity'](){return w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x27ec89){this['panner']['maxDistanc'+'e']=_0x27ec89;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x5e65e2){this['panner']['refDistanc'+'e']=_0x5e65e2;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x1354b0){this['panner']['rolloffFac'+'tor']=_0x1354b0;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x25f2a0){this['panner']['distanceMo'+'del']=_0x25f2a0;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Dl()){let l=new D();const t=function(_0x298515,_0x469316,_0x3ff83a,_0x280f52,_0x37158d,_0x139591){l=l['sub2'](_0x298515,_0x469316);const _0x101ebd=l['length']();if(_0x101ebd<_0x3ff83a)return 0x1*0x1247+-0x1711+0x4cb;if(_0x101ebd>_0x280f52)return-0x81d+-0x1*-0xc5b+-0x16a*0x3;let _0x4a5142=0x938+-0xa3*0x5+-0x609;return _0x139591===Vp?_0x4a5142=-0xf9*0x23+-0xd1b+0x2f27-_0x37158d*(_0x101ebd-_0x3ff83a)/(_0x280f52-_0x3ff83a):_0x139591===bw?_0x4a5142=_0x3ff83a/(_0x3ff83a+_0x37158d*(_0x101ebd-_0x3ff83a)):_0x139591===Aw&&(_0x4a5142=Math['pow'](_0x101ebd/_0x3ff83a,-_0x37158d)),Y['clamp'](_0x4a5142,-0x1*-0x1a7a+0xd87*0x2+-0x6b1*0x8,-0x73b+-0x218c+0x28c8);};Object['defineProp'+'erty'](sn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x56f8bb){if(this['_position']['copy'](_0x56f8bb),this['source']){const _0x3ebea6=this['_manager']['listener']['getPositio'+'n'](),_0x3af5d7=t(_0x3ebea6,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x4e6671=this['volume'];this['source']['volume']=_0x4e6671*_0x3af5d7*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](sn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x53c165){this['_maxDistan'+'ce']=_0x53c165;}}),Object['defineProp'+'erty'](sn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x171f21){this['_refDistan'+'ce']=_0x171f21;}}),Object['defineProp'+'erty'](sn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x5ebde8){this['_rollOffFa'+'ctor']=_0x5ebde8;}}),Object['defineProp'+'erty'](sn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x249333){this['_distanceM'+'odel']=_0x249333;}});}const Gp=-0xc91*0x1+-0xb96*0x2+0x1*0x23bd,Hp=-0x5f4*0x5+0x26ed+-0x928,Zs=-0x20ac+-0xa90+-0xcd*-0x36,Cs=-0x1ac9+-0x1154*0x1+0xb08*0x4,Gn=0x7c+-0xe23*0x1+-0xdab*-0x1,Wp=0xa7*0x21+-0x5a1*0x2+-0x8*0x148,Ed=-0x73d*-0x1+0x1e1f*0x1+-0x2556,$p=-0x26c7+-0x8*0xe8+0x2e0e,Xp=-0x1*-0x253+-0x112*-0x17+-0x1ae9,qp=-0xd69+0x217*-0xa+0x2258,jp=-0x702+0x1187+0x1*-0xa7b,Yy={[Gp]:'SUBTRACTIV'+'E',[Hp]:'ADDITIVE',[Zs]:'NORMAL',[Cs]:'NONE',[Gn]:'PREMULTIPL'+'IED',[Wp]:'MULTIPLICA'+'TIVE',[Ed]:'ADDITIVEAL'+'PHA',[$p]:'MULTIPLICA'+'TIVE2X',[Xp]:'SCREEN',[qp]:'MIN',[jp]:'MAX'},Kn='none',Iw='linear',Lw=-0xc*-0xac+-0xb*0x6b+0x1*-0x377,Yp=-0x2074+-0x8f6+0x296c,Rw={[Lw]:'NONE',[Yp]:'SCHLICK'},Ow=0x22af*0x1+-0x67f+-0x1c30,Ky=0x4c*0x6d+-0x80d*0x1+0x8*-0x308,er=0x22b2+-0x2*0xa72+-0xdce,ps=-0x278*-0x2+-0x71e+-0x1*-0x22f,Kp=-0x1318+-0xed3+0xf*0x243,Zp=-0x937+-0x14d4+-0xf07*-0x2,Il=-0x11*0x1ab+0x60d*0x6+-0x7ef*0x1,ve=-0x256d+0xf71*0x2+0x68b,Ke=-0x2526+-0x3*-0xc3b+0x76,Ze=0x1d00+0x200+-0x1efe,u_={[ve]:'DIRECTIONA'+'L',[Ke]:'OMNI',[Ze]:'SPOT'},$c=-0x14b7+0x2063*-0x1+0x357e,Ys=0x1eb8+0xda3*-0x2+-0x9*0x62,Zy=0x21a1+-0x3*-0x16a+0x83*-0x4a,Qy=-0x5d+0xa99*-0x3+0x1015*0x2,Jy=-0x1*-0x13d5+-0x926+-0xaac,Fw={[Ys]:'PUNCTUAL',[Zy]:'RECT',[Qy]:'DISK',[Jy]:'SPHERE'},Qp=-0x11a8*-0x1+0x707+-0x18af,ev=-0x102b+-0xb2e*-0x1+0x2*0x27f,Nw={[Qp]:'LINEAR',[ev]:'INVERSESQU'+'ARED'},$s=-0x1760+-0x271*-0xf+0x1*-0xd3f,au=0x16a*-0xd+-0x3*-0xa67+-0xcd1,Jp=-0xc*-0x293+-0x1fff+0x1*0x11e,kw=0x13a3+-0x185c+0x4bd,tv=-0x1*0x649+0x1*-0x2539+0x2b87,al=-0xbb3+0x6e6+0x4d3,sv=-0x196b*-0x1+0x1b93+-0x34f7,iv=0x15*0xd9+-0xb*0x2dd+0xdba,Uw=0xff1+0x3*0x6ad+-0x23ef,qi=new Map([[tv,{'name':'PCF1_32F','kind':'PCF1','format':$i,'pcf':!(-0x516+0x1cb8+-0x17a2)}],[$s,{'name':'PCF3_32F','kind':'PCF3','format':$i,'pcf':!(-0x24d7+0x2273+0x132*0x2)}],[kw,{'name':'PCF5_32F','kind':'PCF5','format':$i,'pcf':!(0x67c+-0x3d*0x15+0x1*-0x17b)}],[sv,{'name':'PCF1_16F','kind':'PCF1','format':vn,'pcf':!(-0x2*0x7fa+0x168b+-0x697)}],[iv,{'name':'PCF3_16F','kind':'PCF3','format':vn,'pcf':!(-0x3*0x146+-0x274*-0xc+-0xccf*0x2)}],[Uw,{'name':'PCF5_16F','kind':'PCF5','format':vn,'pcf':!(-0x32b+0x2*-0x182+0x62f)}],[au,{'name':'VSM_16F','kind':'VSM','format':nt,'vsm':!(-0x2*0x12eb+0x10*-0x5e+0x2bb6)}],[Jp,{'name':'VSM_32F','kind':'VSM','format':Xt,'vsm':!(0xbed*0x2+0x1818+-0x2ff2)}],[al,{'name':'PCSS_32F','kind':'PCSS','format':Ji,'pcss':!(0x1*0x1ee9+0x4*0x14b+-0x2415)}]]),Bw=-0x5d7*-0x3+-0x16a0+-0xb*-0x8e,em=0x1fbd+-0x5*-0x3c7+-0x329f,nu=-0x1f*-0x3+-0x1d68+0x1d0b,rv=0x2d4+-0x1767*0x1+0x1493*0x1,ai=0x524+-0x45e*0x8+-0x4*-0x773,zw=-0x31c+-0x1f6*0x4+0xaf5,yh=0x1f45*0x1+0x2526+0x1*-0x446b,Vw=-0x7*-0x2f8+-0x16c8+0x3*0xab,ni=-0x7e+0x1388+-0x130a,En=0x88a+-0x1870+0xfe7,un=0x43*0x7b+-0x20b5+0x84,$r=0x54b+-0x1a0d+-0x427*-0x5,Jl=-0x1c35+0x991*-0x1+0x25c8,tm=0xf*0x276+-0xfcc*-0x2+-0x4482,av=-0x483+-0x2f*-0x63+0xda9*-0x1,Gw={[tm]:'NONE',[av]:'BOX'},p_='mul',Ll=-0x4fd+0x1825+0x8*-0x265,Xc=0x2*-0xd63+0x1*-0x1709+0x31d0,Hw={[Ll]:'NONE',[Xc]:'SRGB'},sm=-0x75*-0x53+-0xfe9*0x1+-0x1606,UU=0x1fc9+0x1271+-0x1*0x3239,BU=-0x327*0xc+0x2662*-0x1+0x4*0x130e,zU=0x1dea+-0x25bd+-0x22*-0x3b,VU=0x1*-0xf35+0x2c6+0xc73,GU=-0x1405+-0x1c0d*0x1+-0x3017*-0x1,nv=0x2a1*-0x1+-0x1*-0x390+-0xe9,ov=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],lv=-0xe5e+-0x3*0xb23+0x2fc7,bd=0x867+-0x39*0x3a+0x484*0x1,cv=-0x621*0x1+0x8c6+-0x4b*0x9,Ww={[lv]:'NONE',[bd]:'AO',[cv]:'GLOSSDEPEN'+'DENT'},vr='none',vh='envAtlas',xh='envAtlasHQ',Th='cubeMap',hv='sphereMap',$w={[vr]:'NONE',[vh]:'ENVATLAS',[xh]:'ENVATLASHQ',[Th]:'CUBEMAP',[hv]:'SPHEREMAP'},im='ambientSH',rm='envAtlas',am='constant',Xw={[im]:'AMBIENTSH',[rm]:'ENVALATLAS',[am]:'CONSTANT'},wh=-0x15*0x97+-0x22db+-0x5*-0x973,nl=-0x1749*0x1+0x126*0x4+0x12b3,nm=0xcf7+-0x1c0e+0xf1b,dv=-0x61f*-0x1+-0x16cf+-0x10b8*-0x1,fv=0x2080+0x5*-0x107+-0x1d*0xf1,ol=0xebb+-0x1cd8+0xe3d,ou=-0x1908+0x3*-0x76+-0xd55*-0x2,uv=0x1c7*0x2+0x2625+-0x2933,Eh=-0x11b5+0x111c+0x1*0x199,om=0x6b8+0x36*0x24+-0x314*0x4,ll=0x2538+-0xbff*0x3+0x2c5,cl=0x88*0x2e+0x23f4+-0x3464,pv=-0x1*-0x6b9+0x13a4+-0xa5d,hl=-0x3a5c+0x2f48+0x2b14,qc=-0x76e5*-0x1+0x28a4+-0x5f89,Ps=-0x295*-0xd+0x7d9*0x2+-0x1*0x3143,xr=-0x3a9+-0x13*-0x7d+0x1df*-0x3,lm=0x3*0x64+0x2259+-0x1*0x2383,Ss=0x163*-0xf+-0x9bc+-0xa2e*-0x3,di=0x1*-0x113c+0x2a6*-0x1+0x4f9*0x4,fi=0x20b+-0x5b7+0x3b0,Aa=0x25df+0x1*0x1e9a+-0x4479,Rl=-0x3*0x503+-0x83*0x49+0x107*0x33,cm=-0xb*-0xe6+-0x2307+0x1927,Zn=0x105d+0x1de*-0x10+-0x3*-0x482,ci=0x11d*-0x1d+0x1565*0x1+0x29*0x44,Pt=-0x554+0x13f5+-0x3a8*0x4,Mt=0x176c+-0x3*0x43f+-0x3*0x38f,qw={[ci]:'SIMPLE',[Pt]:'SLICED',[Mt]:'TILED'},jc=0x7b2*-0x2+0x1*-0x238a+0x32ef,ec=0xb9e+-0x728*0x1+0x476*-0x1,Yc=-0x1*0x8c5+-0x8a9+0x116e,jw=-0x227c+-0x997+0x2c14,Yw=0x16b5+-0xdee*-0x2+0x1*-0x328f,m_=0x67f*-0x3+0x203a+-0x9*0x16a,Kw=-0x1fec*0x1+0xb0d+-0x1*-0x14e3,Zw=0x111c+-0x1790+0x679,hm=0x1*0xe8f+-0x1212+0x383,lu=0x178*-0x7+0x1*0x614+0x167*0x3,Ce=-0xd*-0x2d7+-0x86d*-0x1+-0x2d58,je=0xf*-0x5d+0x23e2+0x19a*-0x13,Bo='infinite',Qw='box',Jw='dome',Sa='none',eE='bayer8',tE='bluenoise',sE='ignnoise',iE={[Sa]:'NONE',[eE]:'BAYER8',[tE]:'BLUENOISE',[sE]:'IGNNOISE'},rE='prerender',aE='postrender',nE='prerender:'+'layer',oE='postrender'+':layer',mv='precull',_v='postcull',lE='cull:end';class Ad{constructor(_0xaabaa3,_0x599ef3,_0x23e178){h(this,'uniformFor'+'mats',[]),h(this,'bindGroupF'+'ormats',[]),h(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][rl]=_0xaabaa3,this['bindGroupF'+'ormats'][rl]=_0x599ef3,this['vertexForm'+'at']=_0x23e178);}['hasUniform'](_0x572b9b){for(let _0x16e438=-0x14*-0xbf+0xb9*0xb+0x1*-0x16df;_0x16e438<this['uniformFor'+'mats']['length'];_0x16e438++){const _0xcf427b=this['uniformFor'+'mats'][_0x16e438];if(_0xcf427b!=null&&_0xcf427b['get'](_0x572b9b))return!(-0x882+-0xe13+0x1695);}return!(-0xcb*0x1d+0x20d1*0x1+-0x7*0x167);}['hasTexture'](_0x55fe5a){for(let _0x20c02b=0x1b71+0xb*-0x19f+-0x99c;_0x20c02b<this['bindGroupF'+'ormats']['length'];_0x20c02b++){const _0x4b977c=this['bindGroupF'+'ormats'][_0x20c02b];if(_0x4b977c!=null&&_0x4b977c['getTexture'](_0x55fe5a))return!(-0x9*-0xc7+0x1a11+-0x2110);}return!(0x2*-0x10e1+0x783+0x1a40);}['getVertexE'+'lement'](_0x17d37c){var _0x163b9b;return(_0x163b9b=this['vertexForm'+'at'])==null?void(0xef3+-0xb9f+-0x354):_0x163b9b['elements']['find'](_0x59eeee=>_0x59eeee['name']===_0x17d37c);}['generateKe'+'y'](_0x423bfb){var _0x1637cb;let _0x30d8bd=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x423bfb['isWebGPU']&&(_0x30d8bd+=(_0x1637cb=this['vertexForm'+'at'])==null?void(0x4*-0x5c9+-0x53*0x5+0x18c3):_0x1637cb['shaderProc'+'essingHash'+'String']),_0x30d8bd;}}const gv=new Kt();function Hn(_0x274c3d){const _0x5885e3=gv['get'](_0x274c3d);return w['assert'](_0x5885e3),_0x5885e3;}function cE(_0x2c11ec,_0x20825b){w['assert'](_0x20825b),gv['get'](_0x2c11ec,()=>_0x20825b);}class ya{static['definesHas'+'h'](_0x2c37ea){const _0x2244c4=Array['from'](_0x2c37ea)['sort']((_0xbbd04d,_0x29fe75)=>_0xbbd04d[0x962+-0x31*0x1f+-0x373*0x1]>_0x29fe75[-0x7d*-0x26+0xd6f+-0x1ffd]?-0x342*0x9+-0x1ae*-0xb+0xad9*0x1:-(-0x20f*0x5+-0x65f+0x10ab));return hi(JSON['stringify'](_0x2244c4));}}const hE=new Kt();class dE{constructor(_0x5b848a,_0x4551b1,_0x5726a0={}){h(this,'index'),h(this,'name'),h(this,'defines',new Map()),(w['assert'](/^[a-z]\w*$/i['test'](_0x5b848a),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x5b848a),this['name']=_0x5b848a,this['index']=_0x4551b1,Object['assign'](this,_0x5726a0),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x4abb55;this['isShadow']?_0x4abb55='SHADOW':this['isForward']?_0x4abb55='FORWARD':this['index']===Zn&&(_0x4abb55='PICK'),this['defines']['set'](_0x4abb55+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Si{constructor(){h(this,'passesName'+'d',new Map()),h(this,'passesInde'+'xed',[]),h(this,'nextIndex',0x2528+-0x3*-0x8e1+-0x3fcb*0x1);const _0x59919b=(_0x104b30,_0x323a72,_0x10e224)=>{const _0x34dae1=this['allocate'](_0x104b30,_0x10e224);w['assert'](_0x34dae1['index']===_0x323a72);};_0x59919b('forward',Aa,{'isForward':!(-0xc4b*0x2+0x2070+-0x7da)}),_0x59919b('prepass',Rl),_0x59919b('shadow',cm),_0x59919b('pick',Zn);}static['get'](_0x4ff703){return w['assert'](_0x4ff703),hE['get'](_0x4ff703,()=>new Si());}['allocate'](_0x3dadaf,_0x5acab3){let _0x157e1f=this['passesName'+'d']['get'](_0x3dadaf);return _0x157e1f===void(-0xa*0x11a+0x36*-0x4b+0x1ad6)&&(_0x157e1f=new dE(_0x3dadaf,this['nextIndex'],_0x5acab3),this['passesName'+'d']['set'](_0x157e1f['name'],_0x157e1f),this['passesInde'+'xed'][_0x157e1f['index']]=_0x157e1f,this['nextIndex']++),_0x157e1f;}['getByIndex'](_0xf4713f){const _0x53fc15=this['passesInde'+'xed'][_0xf4713f];return w['assert'](_0x53fc15),_0x53fc15;}['getByName'](_0x4fbf1d){return this['passesName'+'d']['get'](_0x4fbf1d);}}class __ extends Map{constructor(){super(...arguments),h(this,'_keyDirty',!(0xf01*-0x2+0x2*0x13a+0x1b8f)),h(this,'_key','');}['set'](_0x395914,_0x345d21){return(!this['has'](_0x395914)||this['get'](_0x395914)!==_0x345d21)&&this['markDirty'](),super['set'](_0x395914,_0x345d21);}['add'](_0x4e3d71){for(const [_0x2bdb7b,_0x2dee2d]of Object['entries'](_0x4e3d71))this['set'](_0x2bdb7b,_0x2dee2d);return this;}['delete'](_0x4aab81){const _0x371eb6=this['has'](_0x4aab81),_0x55e881=super['delete'](_0x4aab81);return _0x371eb6&&_0x55e881&&this['markDirty'](),_0x55e881;}['clear'](){this['size']>0x52*0x21+0x21f2+-0x2c84&&this['markDirty'](),super['clear']();}['markDirty'](){this['_dirty']=!(0xc*-0xd7+0x18df+0x21d*-0x7),this['_keyDirty']=!(-0x1246+-0x1915*0x1+-0x2b5b*-0x1);}['isDirty'](){return this['_dirty'];}['resetDirty'](){this['_dirty']=!(0xfc0+0xac7+-0x1a86);}get['key'](){return this['_keyDirty']&&(this['_keyDirty']=!(-0xd*0x21+0x107d+0xecf*-0x1),this['_key']=Array['from'](this['entries']())['sort'](([_0x1939ca],[_0x1d60e3])=>_0x1939ca<_0x1d60e3?-(0x1*0x575+0x9*-0xa6+0x62):_0x1939ca>_0x1d60e3?0x2f*-0x8b+-0x1076+0x29fc:-0x1ec1+0x397*0x6+-0x937*-0x1)['map'](([_0x4a537e,_0x91d8d1])=>_0x4a537e+'='+hi(_0x91d8d1))['join'](',')),this['_key'];}['copy'](_0x3c13e6){this['clear']();for(const [_0x36809e,_0x189b77]of _0x3c13e6)this['set'](_0x36809e,_0x189b77);return this;}}const fE=new Kt();class Pe{constructor(){h(this,'glsl',new __()),h(this,'wgsl',new __()),h(this,'version','');}static['get'](_0x2bf94b,_0x5a9eff=Fe){const _0x57ec10=fE['get'](_0x2bf94b,()=>new Pe());return _0x5a9eff===Fe?_0x57ec10['glsl']:_0x57ec10['wgsl'];}get['useWGSL'](){return this['glsl']['size']===0x227b+0x1293+-0x350e||this['wgsl']['size']>-0xa2f+-0x1ad3+0x62b*0x6;}get['key'](){return'GLSL:'+this['glsl']['key']+'|WGSL:'+this['wgsl']['key']+'|API:'+this['version'];}['isDirty'](){return this['glsl']['isDirty']()||this['wgsl']['isDirty']();}['resetDirty'](){this['glsl']['resetDirty'](),this['wgsl']['resetDirty']();}['copy'](_0x4892aa){return this['version']=_0x4892aa['version'],this['glsl']['copy'](_0x4892aa['glsl']),this['wgsl']['copy'](_0x4892aa['wgsl']),this;}}class bh{static['merge'](..._0x1f8c23){const _0x29d379=new Map(_0x1f8c23[-0x1c3*-0x1+-0x1*0x2702+0x773*0x5]??[]);for(let _0x231876=-0x199+0x18ab+-0x1711;_0x231876<_0x1f8c23['length'];_0x231876++){const _0x38f6d6=_0x1f8c23[_0x231876];if(_0x38f6d6){for(const [_0x416a4b,_0x1bd901]of _0x38f6d6)_0x29d379['set'](_0x416a4b,_0x1bd901);}}return _0x29d379;}}class uE extends ya{constructor(_0x5706f2,_0x2aa965){super(),this['key']=_0x5706f2,this['shaderDefi'+'nition']=_0x2aa965;}['generateKe'+'y'](_0x366b6a){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x2cb26c,_0x441742){return this['shaderDefi'+'nition'];}}class $t{static['createShad'+'er'](_0x138f29,_0x298bc7){const _0xfa23eb=Hn(_0x138f29);let _0x4c786c=_0xfa23eb['getCachedS'+'hader'](_0x298bc7['uniqueName']);if(!_0x4c786c){const _0x234894=_0x138f29['isWebGPU']&&(!!_0x298bc7['vertexWGSL']||!!_0x298bc7['vertexChun'+'k'])&&(!!_0x298bc7['fragmentWG'+'SL']||!!_0x298bc7['fragmentCh'+'unk']),_0x1491cd=Pe['get'](_0x138f29,_0x234894?it:Fe),_0x2c6b2e=_0x298bc7['vertexChun'+'k']?_0x1491cd['get'](_0x298bc7['vertexChun'+'k']):_0x234894?_0x298bc7['vertexWGSL']:_0x298bc7['vertexGLSL'],_0x247240=_0x298bc7['fragmentCh'+'unk']?_0x1491cd['get'](_0x298bc7['fragmentCh'+'unk']):_0x234894?_0x298bc7['fragmentWG'+'SL']:_0x298bc7['fragmentGL'+'SL'];w['assert'](_0x2c6b2e,'ShaderUtil'+'s.createSh'+'ader:\x20vert'+'ex\x20shader\x20'+'code\x20not\x20p'+'rovided',_0x298bc7),w['assert'](_0x247240,'ShaderUtil'+'s.createSh'+'ader:\x20frag'+'ment\x20shade'+'r\x20code\x20not'+'\x20provided',_0x298bc7);const _0x1b6963=bh['merge'](_0x1491cd,_0x298bc7['fragmentIn'+'cludes']),_0xa3057=bh['merge'](_0x1491cd,_0x298bc7['vertexIncl'+'udes']);_0x4c786c=new qy(_0x138f29,Jt['createDefi'+'nition'](_0x138f29,{'name':_0x298bc7['uniqueName'],'shaderLanguage':_0x234894?it:Fe,'attributes':_0x298bc7['attributes'],'vertexCode':_0x2c6b2e,'fragmentCode':_0x247240,'useTransformFeedback':_0x298bc7['useTransfo'+'rmFeedback'],'vertexIncludes':_0xa3057,'vertexDefines':_0x298bc7['vertexDefi'+'nes'],'fragmentIncludes':_0x1b6963,'fragmentDefines':_0x298bc7['fragmentDe'+'fines'],'fragmentOutputTypes':_0x298bc7['fragmentOu'+'tputTypes']})),_0xfa23eb['setCachedS'+'hader'](_0x298bc7['uniqueName'],_0x4c786c);}return _0x4c786c;}static['getCoreDef'+'ines'](_0x3855e5,_0x2e2ae2){const _0x466487=new Map(_0x3855e5['defines']);return _0x2e2ae2['cameraShad'+'erParams']['defines']['forEach']((_0x378fc3,_0x38c879)=>_0x466487['set'](_0x38c879,_0x378fc3)),Si['get'](_0x2e2ae2['device'])['getByIndex'](_0x2e2ae2['pass'])['defines']['forEach']((_0x3de30b,_0x4d3a34)=>_0x466487['set'](_0x4d3a34,_0x3de30b)),_0x466487;}static['processSha'+'der'](_0xbe74d9,_0x4b5592){w['assert'](_0xbe74d9);const _0x1b97c5=_0xbe74d9['definition'],_0x55f38e=(_0x1b97c5['name']??'shader')+'-id-'+_0xbe74d9['id'],_0x276a65=new uE(_0x55f38e,_0x1b97c5),_0xe48ed7='shader',_0x14a74b=Hn(_0xbe74d9['device']);w['assert'](!_0x14a74b['isRegister'+'ed'](_0xe48ed7)),_0x14a74b['register'](_0xe48ed7,_0x276a65);const _0xfac8b7=_0x14a74b['getProgram'](_0xe48ed7,{},_0x4b5592);return _0x14a74b['unregister'](_0xe48ed7),_0xfac8b7;}static['addScreenD'+'epthChunkD'+'efines'](_0x27b142,_0x55cbbb,_0x45f383){_0x55cbbb['sceneDepth'+'MapLinear']&&_0x45f383['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',''),_0x27b142['textureFlo'+'atRenderab'+'le']&&_0x45f383['set']('SCENE_DEPT'+'HMAP_FLOAT','');}}const pE={'type':Er,'base':0x0,'baseVertex':0x0,'count':0x4,'indexed':!(-0x15df*-0x1+0x2*0x877+-0x26cc)},so=new re(),io=new re(),Gd=new ky();class Ah{constructor(_0x25594d){h(this,'uniformBuf'+'fer'),h(this,'bindGroup');const _0x2df99a=_0x25594d['device'];if(this['shader']=_0x25594d,w['assert'](_0x25594d),_0x2df99a['supportsUn'+'iformBuffe'+'rs']){const _0x330582=new Ad();this['shader']=$t['processSha'+'der'](_0x25594d,_0x330582);const _0x4b9ed7=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x4b9ed7&&(this['uniformBuf'+'fer']=new zp(_0x2df99a,_0x4b9ed7,!(0x157*0x7+0x9*-0x3e3+0x199b)));const _0x37944d=this['shader']['meshBindGr'+'oupFormat'];w['assert'](_0x37944d),this['bindGroup']=new Up(_0x2df99a,_0x37944d),Ea['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x585dca,_0x67a25c;(_0x585dca=this['uniformBuf'+'fer'])==null||_0x585dca['destroy'](),this['uniformBuf'+'fer']=null,(_0x67a25c=this['bindGroup'])==null||_0x67a25c['destroy'](),this['bindGroup']=null;}['render'](_0x2eb190,_0x4a977b){const _0x1d351a=this['shader']['device'];Q['pushGpuMar'+'ker'](_0x1d351a,'QuadRender'),_0x2eb190&&(so['set'](_0x1d351a['vx'],_0x1d351a['vy'],_0x1d351a['vw'],_0x1d351a['vh']),io['set'](_0x1d351a['sx'],_0x1d351a['sy'],_0x1d351a['sw'],_0x1d351a['sh']),_0x4a977b=_0x4a977b??_0x2eb190,_0x1d351a['setViewpor'+'t'](_0x2eb190['x'],_0x2eb190['y'],_0x2eb190['z'],_0x2eb190['w']),_0x1d351a['setScissor'](_0x4a977b['x'],_0x4a977b['y'],_0x4a977b['z'],_0x4a977b['w'])),_0x1d351a['setVertexB'+'uffer'](_0x1d351a['quadVertex'+'Buffer'],0x3e2*0x5+-0x74a+-0x2*0x610);const _0xcade0f=this['shader'];if(_0x1d351a['setShader'](_0xcade0f),_0x1d351a['supportsUn'+'iformBuffe'+'rs']){_0x1d351a['setBindGro'+'up'](rl,_0x1d351a['emptyBindG'+'roup']);const _0x18d626=this['bindGroup'];_0x18d626['update'](),_0x1d351a['setBindGro'+'up'](Oy,_0x18d626);const _0x3b3572=this['uniformBuf'+'fer'];_0x3b3572?(_0x3b3572['update'](Gd),_0x1d351a['setBindGro'+'up'](su,Gd['bindGroup'],Gd['offsets'])):_0x1d351a['setBindGro'+'up'](su,_0x1d351a['emptyBindG'+'roup']);}_0x1d351a['draw'](pE),_0x2eb190&&(_0x1d351a['setViewpor'+'t'](so['x'],so['y'],so['z'],so['w']),_0x1d351a['setScissor'](io['x'],io['y'],io['z'],io['w'])),Q['popGpuMark'+'er'](_0x1d351a);}}class mE extends ys{constructor(_0x54d1f2,_0x1388c3,_0x27b77a,_0xb96366){super(_0x54d1f2),this['quad']=_0x1388c3,this['rect']=_0x27b77a,this['scissorRec'+'t']=_0xb96366;}['execute'](){const {device:_0x4f1403}=this;Q['pushGpuMar'+'ker'](_0x4f1403,this['name']+':'+this['quad']['shader']['name']),_0x4f1403['setCullMod'+'e'](bt),_0x4f1403['setDepthSt'+'ate'](Yt['NODEPTH']),_0x4f1403['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),Q['popGpuMark'+'er'](_0x4f1403);}}const _E=new re();function Ar(_0x3bffdf,_0x33afe2,_0x9a73ba,_0x5a4788,_0x34541d){w['assert'](_0x33afe2!==void(0x2e*-0x79+0x15*-0xa1+-0x185*-0x17));const _0x57a16b=arguments[0x1551+0xe55+-0x23a1];w['call'](()=>{_0x57a16b!==void(-0x20d8+0xacb+0x160d)&&w['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0xa9cb78=new Ah(_0x9a73ba);_0x5a4788||(_0x5a4788=_E,_0x5a4788['x']=0x58d+0xb83*0x2+-0x299*0xb,_0x5a4788['y']=0x89*-0x3+-0x1099*-0x2+0x1f97*-0x1,_0x5a4788['z']=_0x33afe2?_0x33afe2['width']:_0x3bffdf['width'],_0x5a4788['w']=_0x33afe2?_0x33afe2['height']:_0x3bffdf['height']);const _0x8e390f=new mE(_0x3bffdf,_0xa9cb78,_0x5a4788,_0x34541d);_0x8e390f['init'](_0x33afe2),_0x8e390f['colorOps']['clear']=!(-0x123e+-0x2065+0x39e*0xe),_0x8e390f['depthStenc'+'ilOps']['clearDepth']=!(-0x7*0x235+0x1*-0xb0f+0x1a83),_0x3bffdf['isWebGPU']&&_0x33afe2===null&&_0x3bffdf['samples']>-0x21e2+0x2063*-0x1+0x4246&&(_0x8e390f['colorOps']['store']=!(-0x1a97+0x2*0x583+0xf91)),_0x8e390f['render'](),_0xa9cb78['destroy']();}class g_{constructor(_0x43b126,_0x359470,_0x18be55){h(this,'_aabb',new De()),h(this,'origMeshIn'+'stances'),h(this,'meshInstan'+'ce',null),h(this,'dynamic'),h(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x43b126,this['dynamic']=_0x359470,this['batchGroup'+'Id']=_0x18be55);}['destroy'](_0x390d23,_0x459da8){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x390d23,_0x459da8),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x26ec9f,_0x4a5c1e){for(let _0x55bc83=0x2*0x2ba+-0xeb6+0x942;_0x55bc83<_0x4a5c1e['length'];_0x55bc83++){const _0x338668=_0x26ec9f['layers']['getLayerBy'+'Id'](_0x4a5c1e[_0x55bc83]);_0x338668&&_0x338668['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x57abeb,_0x57bfe3){for(let _0x57c541=0x62f*-0x3+-0x1d27+0x2fb4;_0x57c541<_0x57bfe3['length'];_0x57c541++){const _0x5f2e54=_0x57abeb['layers']['getLayerBy'+'Id'](_0x57bfe3[_0x57c541]);_0x5f2e54&&_0x5f2e54['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][-0x5*-0x445+0x14b8+-0x2a11]['aabb']);for(let _0x145e73=0xb8f+0x1*-0x1813+0x5*0x281;_0x145e73<this['origMeshIn'+'stances']['length'];_0x145e73++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x145e73]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0x102c+0x1c83+0xc57*-0x1;}get['model'](){w['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class St{constructor(_0x5b4003,_0x20acad,_0x45b2de,_0x29e090,_0x2f8614=[er]){h(this,'_ui',!(0x38*0xa8+0x6c0+-0x2b7f)),h(this,'_sprite',!(-0xe5*-0x7+0x2249+-0x1*0x288b)),h(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),h(this,'id'),h(this,'name'),h(this,'dynamic'),h(this,'maxAabbSiz'+'e'),h(this,'layers'),(this['id']=_0x5b4003,this['name']=_0x20acad,this['dynamic']=_0x45b2de,this['maxAabbSiz'+'e']=_0x29e090,this['layers']=_0x2f8614);}}h(St,'MODEL','model'),h(St,'ELEMENT','element'),h(St,'SPRITE','sprite'),h(St,'RENDER','render');const S_=new te();class Ol{constructor(_0x1a7084){h(this,'bones'),(this['_dirty']=!(-0x3*0x745+0x1*0x19bd+0x2*-0x1f7),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(0xf7f*-0x1+-0x1551+0x24d1),this['_updateBef'+'oreCull']=!(0xe98*0x1+0x1f62+-0x2dfa),_0x1a7084&&this['initSkin'](_0x1a7084));}set['rootBone'](_0x1c05fe){this['_rootBone']=_0x1c05fe;}get['rootBone'](){return this['_rootBone'];}['init'](_0x2efff7,_0x531944){const _0x20b00d=_0x531944*(-0x2*0x275+0x8fb*-0x1+0xde8);let _0x326f21=Math['ceil'](Math['sqrt'](_0x20b00d));_0x326f21=Y['roundUp'](_0x326f21,-0x2*-0xe9+-0x6*-0x25a+-0xa3*0x19);const _0x780aa4=Math['ceil'](_0x20b00d/_0x326f21);this['boneTextur'+'e']=new _e(_0x2efff7,{'width':_0x326f21,'height':_0x780aa4,'format':Xt,'mipmaps':!(0x242a+0x14ac+-0x1*0x38d5),'minFilter':Te,'magFilter':Te,'name':'skin'}),this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':yy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x242b9a,_0x1a34e5){this['rootBone']=_0x242b9a;const _0x1c47e7=this['skin'],_0x39b1d2=[];for(let _0x1c7acb=0x28*0x5+-0x36*-0x6e+-0xbfe*0x2;_0x1c7acb<_0x1c47e7['boneNames']['length'];_0x1c7acb++){const _0x4eb2dc=_0x1c47e7['boneNames'][_0x1c7acb];let _0xecb742=_0x242b9a['findByName'](_0x4eb2dc);_0xecb742||(w['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0x4eb2dc+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x1a34e5['name']+(',\x20rootBone'+':\x20')+_0x242b9a['name']),_0xecb742=_0x1a34e5),_0x39b1d2['push'](_0xecb742);}this['bones']=_0x39b1d2;}['initSkin'](_0x141b7f){this['skin']=_0x141b7f,this['bones']=[];const _0x5ad024=_0x141b7f['inverseBin'+'dPose']['length'];this['init'](_0x141b7f['device'],_0x5ad024),this['matrices']=[];for(let _0x184728=-0x47+-0x52d*-0x5+-0x199a;_0x184728<_0x5ad024;_0x184728++)this['matrices'][_0x184728]=new te();}['uploadBone'+'s'](_0x5f0d90){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x1ad483,_0xbc4c68){if(this['_skinUpdat'+'eIndex']!==_0xbc4c68){this['_skinUpdat'+'eIndex']=_0xbc4c68,S_['copy'](_0x1ad483['getWorldTr'+'ansform']())['invert']();for(let _0x4d3e80=this['bones']['length']-(-0x152*0x17+0xea7+-0x2*-0x7dc);_0x4d3e80>=-0x17df+0x3*0x319+0x74a*0x2;_0x4d3e80--)this['matrices'][_0x4d3e80]['mulAffine2'](S_,this['bones'][_0x4d3e80]['getWorldTr'+'ansform']()),this['matrices'][_0x4d3e80]['mulAffine2'](this['matrices'][_0x4d3e80],this['skin']['inverseBin'+'dPose'][_0x4d3e80]);}}['updateMatr'+'ices'](_0x2ebbb4,_0x2501df){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x2ebbb4,_0x2501df);}['updateMatr'+'ixPalette'](_0x351da2,_0x34fa8d){this['_updateMat'+'rices'](_0x351da2,_0x34fa8d);const _0x1afc1f=this['matrixPale'+'tte'],_0x4d853e=this['bones']['length'];for(let _0x7b1f0=-0x14d5+-0x1*-0x2228+0x9*-0x17b;_0x7b1f0<_0x4d853e;_0x7b1f0++){const _0x2cb6fc=this['matrices'][_0x7b1f0]['data'],_0x4d3177=_0x7b1f0*(0xdba+-0x1*0x2374+-0x3a1*-0x6);_0x1afc1f[_0x4d3177]=_0x2cb6fc[0x169*0xd+-0xb4+-0x11a1],_0x1afc1f[_0x4d3177+(-0x9f9+-0x15f+-0x7*-0x19f)]=_0x2cb6fc[-0xa*-0x101+-0x3*0x217+-0x3c1*0x1],_0x1afc1f[_0x4d3177+(0x2*0x100f+-0x1*0x20b6+0x9a)]=_0x2cb6fc[0xc5*-0x2+-0xd*0x11b+0x173*0xb],_0x1afc1f[_0x4d3177+(0x20ef+0x2d9+0x1*-0x23c5)]=_0x2cb6fc[0x3e7+0x8ea+-0xcc5],_0x1afc1f[_0x4d3177+(0x3*-0xc2f+-0x470*0x1+0x2901)]=_0x2cb6fc[0x1504+0x206+-0x1709],_0x1afc1f[_0x4d3177+(0x1643+-0x1*0x1d47+0x709)]=_0x2cb6fc[0x116f+-0x2*-0x12df+-0x584*0xa],_0x1afc1f[_0x4d3177+(-0x1a6b+-0x3*0x1a+0xa7*0x29)]=_0x2cb6fc[-0x3cf*-0x5+-0x213f*0x1+0xe3d],_0x1afc1f[_0x4d3177+(0x4*0x7f8+0x2*0x940+-0x1*0x3259)]=_0x2cb6fc[0x1*0x67f+-0xbf9+0x587],_0x1afc1f[_0x4d3177+(0x1*-0x78a+0x24f9+0xd*-0x243)]=_0x2cb6fc[-0xc97+-0x18e6*-0x1+-0xc4d],_0x1afc1f[_0x4d3177+(-0xd56+0xba0+0x1bf)]=_0x2cb6fc[0x47*0x49+-0xe4+-0x1355],_0x1afc1f[_0x4d3177+(0x6f0+-0xbb7*0x1+0x4d1)]=_0x2cb6fc[0xa47*-0x1+-0x6d3*0x2+-0x17f7*-0x1],_0x1afc1f[_0x4d3177+(-0xe42+-0x261+-0x1ab*-0xa)]=_0x2cb6fc[-0x11a0+0x2470+-0x12c2];}this['uploadBone'+'s'](this['skin']['device']);}}class y_ extends Ol{constructor(_0x44174b,_0x461f36,_0x3a9524){super();const _0x230051=_0x461f36['length'];this['init'](_0x44174b,_0x230051),this['device']=_0x44174b,this['rootNode']=_0x3a9524,this['bones']=_0x461f36;}['updateMatr'+'ices'](_0xa08df5,_0x36d650){}['updateMatr'+'ixPalette'](_0x2c3fb9,_0x37edcd){const _0x367550=this['matrixPale'+'tte'],_0x507281=this['bones']['length'];for(let _0x44c01d=0x5eb+-0x2*-0xc61+-0x1ead;_0x44c01d<_0x507281;_0x44c01d++){const _0x1f965f=this['bones'][_0x44c01d]['getWorldTr'+'ansform']()['data'],_0x155ad5=_0x44c01d*(0x780+-0x13*-0x1d3+-0x2a1d);_0x367550[_0x155ad5]=_0x1f965f[0x1*0x17d3+-0x10ef+-0x6e4],_0x367550[_0x155ad5+(-0x25*0xff+0x43*0x5d+0xc85)]=_0x1f965f[0x3d9*0x8+0x182+-0x2046],_0x367550[_0x155ad5+(0x11a8+-0xe85+0x10b*-0x3)]=_0x1f965f[-0x1d*-0x9+-0x19d1+0x1c*0xe3],_0x367550[_0x155ad5+(-0x6*-0x561+0x1*-0x3aa+-0x1c99)]=_0x1f965f[0xd*0x182+0x1*-0x501+0x19*-0x95],_0x367550[_0x155ad5+(0x1caf*-0x1+0xc9*0x9+-0x47*-0x4e)]=_0x1f965f[-0x18e*-0x5+-0x1*-0x21ee+-0x7*0x5f5],_0x367550[_0x155ad5+(-0x608+-0x1dde+-0x72f*-0x5)]=_0x1f965f[-0x1*0x92d+0x2*0xd0a+-0x10e2],_0x367550[_0x155ad5+(-0x5*-0x3bc+0x2672+0x7*-0x828)]=_0x1f965f[0x1eb2+-0x17f6*0x1+-0x6b3],_0x367550[_0x155ad5+(0x3f3*-0x1+-0x3ea*0x3+0xfb8)]=_0x1f965f[0x24dd+-0x245f+0x71*-0x1],_0x367550[_0x155ad5+(0x781+-0x3*-0xba3+0x15e*-0x1f)]=_0x1f965f[0x5*-0x419+-0x129a+0x2719],_0x367550[_0x155ad5+(-0x17c7*0x1+0x13f1+0x3df)]=_0x1f965f[0xd79+-0x1f2f+0x11bc],_0x367550[_0x155ad5+(0x23db+0x109a+0x77d*-0x7)]=_0x1f965f[-0x1*0x191f+-0xec*0x14+-0x2b99*-0x1],_0x367550[_0x155ad5+(0x7*-0x102+0x3f*0x1a+0xb3)]=_0x1f965f[0x11e+0xea4+-0xfb4];}this['uploadBone'+'s'](this['device']);}}let gE=-0x1b61+-0x9d*-0x10+0x1191;class oi{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(-0x1e68+-0x24d*0xf+-0x67e*-0xa),this['verticesUs'+'age']=ms,this['indicesUsa'+'ge']=ms,this['maxVertice'+'s']=0x14d3*-0x1+0xc*0x2+-0x1d*-0xb7,this['maxIndices']=-0xf3c+-0x17ee+0x272a,this['vertexCoun'+'t']=-0x1f22*-0x1+0x8da+-0x27fc,this['indexCount']=-0x13ed+-0x161c+-0x279*-0x11,this['vertexStre'+'amsUpdated']=!(-0x10cc+-0x689+-0x3a*-0x67),this['indexStrea'+'mUpdated']=!(-0x1097*0x1+-0x457+-0xe9*-0x17),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x45ed21,_0x3bd3bb){this['vertexCoun'+'t']?w['assert'](this['vertexCoun'+'t']===_0x45ed21,'Vertex\x20str'+'eam\x20'+_0x3bd3bb+'\x20has\x20'+_0x45ed21+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x45ed21;}}h(oi,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',-0x1*0xe8f+-0x2*0x13f+-0x15*-0xd0),h(oi,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',0x6d7+0x1*-0x149b+0xdc7),h(oi,'DEFAULT_CO'+'MPONENTS_U'+'V',-0x1b16+0x1*-0xb08+0x2620),h(oi,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0xeb3+-0xa66+-0x449);class SE{constructor(_0x2d4862,_0x489df8,_0x358800,_0x41f9cb,_0x38e9d8){this['data']=_0x2d4862,this['componentC'+'ount']=_0x489df8,this['dataType']=_0x358800,this['dataTypeNo'+'rmalize']=_0x41f9cb,this['asInt']=_0x38e9d8;}}class Ge extends wd{constructor(_0x57f29e,_0x42a384){super(),h(this,'indexBuffe'+'r',[null]),h(this,'vertexBuff'+'er',null),h(this,'primitive',[{'type':0x0,'base':0x0,'baseVertex':0x0,'count':0x0}]),h(this,'skin',null),h(this,'boneAabb',null),h(this,'_aabbVer',0x163f+-0x3ac*0x5+-0xc7*0x5),h(this,'_aabb',new De()),h(this,'_geometryD'+'ata',null),h(this,'_morph',null),h(this,'_storageIn'+'dex',!(0x10c6+0x1cc+-0x1291)),h(this,'_storageVe'+'rtex',!(0xa8b+0x39b*0x7+-0x23c7)),(this['id']=gE++,w['assert'](_0x57f29e,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x57f29e,this['_storageIn'+'dex']=(_0x42a384==null?void(0xc52+0xa27*0x1+-0x1679):_0x42a384['storageInd'+'ex'])||!(-0x7bd*0x5+-0x2643+0x255*0x21),this['_storageVe'+'rtex']=(_0x42a384==null?void(-0x3*-0x5a+-0x1f81+0x1e73):_0x42a384['storageVer'+'tex'])||!(0x1*0x1ea1+-0x827+-0xb*0x20b));}static['fromGeomet'+'ry'](_0x42e093,_0x71779e,_0x252e51={}){const _0x10e4d7=new Ge(_0x42e093,_0x252e51),{positions:_0x28f674,normals:_0x396e10,tangents:_0x139e4f,colors:_0x19109b,uvs:_0x531af4,uvs1:_0x1bfa9e,blendIndices:_0x4225f0,blendWeights:_0xef4576,indices:_0x2d1e25}=_0x71779e;return _0x28f674&&_0x10e4d7['setPositio'+'ns'](_0x28f674),_0x396e10&&_0x10e4d7['setNormals'](_0x396e10),_0x139e4f&&_0x10e4d7['setVertexS'+'tream'](yi,_0x139e4f,0x9*-0x15b+-0x93*0x2+0xd5d),_0x19109b&&_0x10e4d7['setColors3'+'2'](_0x19109b),_0x531af4&&_0x10e4d7['setUvs'](-0x1f18+-0x1b16*0x1+-0xb*-0x54a,_0x531af4),_0x1bfa9e&&_0x10e4d7['setUvs'](-0x2101+0x1411+-0xcf1*-0x1,_0x1bfa9e),_0x4225f0&&_0x10e4d7['setVertexS'+'tream'](us,_0x4225f0,0x19f3+0x1*0x2223+-0x3c12,_0x4225f0['length']/(-0x1551+-0x1c05+0x315a),la),_0xef4576&&_0x10e4d7['setVertexS'+'tream'](gi,_0xef4576,0x1b2d+-0x6e8+-0x1441),_0x2d1e25&&_0x10e4d7['setIndices'](_0x2d1e25),_0x10e4d7['update'](),_0x10e4d7;}set['morph'](_0x1bf8bc){_0x1bf8bc!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x1bf8bc,_0x1bf8bc&&_0x1bf8bc['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x45811f){this['_aabb']=_0x45811f,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0x35037f=this['morph'];_0x35037f&&(this['morph']=null,_0x35037f['refCount']<-0xb1c+0x21a6+0x3*-0x783&&_0x35037f['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x1162c9=0xf0d*0x1+-0x1bcd+0x198*0x8;_0x1162c9<this['indexBuffe'+'r']['length'];_0x1162c9++)this['_destroyIn'+'dexBuffer'](_0x1162c9);this['indexBuffe'+'r']['length']=0x4cf+-0x16f*0xd+0x24e*0x6,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x592864){this['indexBuffe'+'r'][_0x592864]&&(this['indexBuffe'+'r'][_0x592864]['destroy'](),this['indexBuffe'+'r'][_0x592864]=null);}['_initBoneA'+'abbs'](_0x369b57){this['boneAabb']=[],this['boneUsed']=[];let _0x13c8ff,_0x329003,_0x1d2a2d,_0x5447eb,_0x13e7bc;const _0x392b44=[],_0x44bade=[],_0x3a776a=this['boneUsed'],_0x499e62=this['skin']['boneNames']['length'];let _0x4ca3c2,_0x1a8830,_0x5a5836;for(let _0x48fb11=-0x2a1*-0x6+-0x23*0xb3+0x8b3;_0x48fb11<_0x499e62;_0x48fb11++)_0x392b44[_0x48fb11]=new D(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x44bade[_0x48fb11]=new D(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x2c0b18=new Uo(this['vertexBuff'+'er']),_0x210aeb=_0x2c0b18['element'][Me],_0x1485db=_0x2c0b18['element'][gi],_0x250748=_0x2c0b18['element'][us],_0x33880b=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x4a3fd6=-0x1*-0x6e5+0x137*-0x4+-0x209;_0x4a3fd6<_0x33880b;_0x4a3fd6++){for(let _0x5c4458=-0x20f+-0x17d7+0x19e6;_0x5c4458<0x1f76*-0x1+-0x3*-0x383+-0x3*-0x6fb;_0x5c4458++)if(_0x1485db['array'][_0x1485db['index']+_0x5c4458]>0x49*-0x1+-0x1*-0x134b+-0x1302){const _0x46ad10=_0x250748['array'][_0x250748['index']+_0x5c4458];if(_0x3a776a[_0x46ad10]=!(-0x22bc+-0xf48*-0x1+0x1374),_0x13c8ff=_0x210aeb['array'][_0x210aeb['index']],_0x329003=_0x210aeb['array'][_0x210aeb['index']+(-0xfee*-0x1+-0x18c0+0x8d3*0x1)],_0x1d2a2d=_0x210aeb['array'][_0x210aeb['index']+(0x6*-0xe8+-0x5*-0x49d+-0x15b*0xd)],_0x5447eb=_0x44bade[_0x46ad10],_0x13e7bc=_0x392b44[_0x46ad10],_0x13e7bc['x']>_0x13c8ff&&(_0x13e7bc['x']=_0x13c8ff),_0x13e7bc['y']>_0x329003&&(_0x13e7bc['y']=_0x329003),_0x13e7bc['z']>_0x1d2a2d&&(_0x13e7bc['z']=_0x1d2a2d),_0x5447eb['x']<_0x13c8ff&&(_0x5447eb['x']=_0x13c8ff),_0x5447eb['y']<_0x329003&&(_0x5447eb['y']=_0x329003),_0x5447eb['z']<_0x1d2a2d&&(_0x5447eb['z']=_0x1d2a2d),_0x369b57){let _0x4973f7=_0x4ca3c2=_0x13c8ff,_0xaf0c10=_0x1a8830=_0x329003,_0x122eaa=_0x5a5836=_0x1d2a2d;for(let _0x570bc4=0x3d*-0x7e+-0xa6*-0x38+0xe6*-0x7;_0x570bc4<_0x369b57['length'];_0x570bc4++){const _0x197d9c=_0x369b57[_0x570bc4],_0xadfbf0=_0x197d9c['deltaPosit'+'ions'][_0x4a3fd6*(-0x27*-0xc9+0x309*-0x2+0x15d*-0x12)],_0x44448f=_0x197d9c['deltaPosit'+'ions'][_0x4a3fd6*(-0x12*0x1d9+0x4*-0x12a+0x25ed)+(-0x274+-0x16d4*-0x1+0x95*-0x23)],_0x49040b=_0x197d9c['deltaPosit'+'ions'][_0x4a3fd6*(-0xf2d+-0xb45+0x1*0x1a75)+(-0x2103+0x17*0x47+-0x14*-0x155)];_0xadfbf0<-0x1bbc+0x1d*-0xb0+0x2fac?_0x4973f7+=_0xadfbf0:_0x4ca3c2+=_0xadfbf0,_0x44448f<-0x4c7+0x1*0xbd8+0x711*-0x1?_0xaf0c10+=_0x44448f:_0x1a8830+=_0x44448f,_0x49040b<0x124*-0xb+-0x10*0x12b+0x1f3c?_0x122eaa+=_0x49040b:_0x5a5836+=_0x49040b;}_0x13e7bc['x']>_0x4973f7&&(_0x13e7bc['x']=_0x4973f7),_0x13e7bc['y']>_0xaf0c10&&(_0x13e7bc['y']=_0xaf0c10),_0x13e7bc['z']>_0x122eaa&&(_0x13e7bc['z']=_0x122eaa),_0x5447eb['x']<_0x4ca3c2&&(_0x5447eb['x']=_0x4ca3c2),_0x5447eb['y']<_0x1a8830&&(_0x5447eb['y']=_0x1a8830),_0x5447eb['z']<_0x5a5836&&(_0x5447eb['z']=_0x5a5836);}}_0x2c0b18['next']();}const _0x265d9d=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x18d729=>_0x18d729['name']===Me);if(_0x265d9d&&_0x265d9d['normalize']){const _0x4c17cf=((()=>{switch(_0x265d9d['dataType']){case dd:return _0x5b632c=>Math['max'](_0x5b632c/(-0x24a5+-0x19*0x185+-0x1*-0x4b21),-(-0x1f22*0x1+-0xd26+-0x2c49*-0x1));case la:return _0x4b29ff=>_0x4b29ff/(-0x1056+-0x6*-0xe7+0x9*0x153);case fd:return _0x3844b4=>Math['max'](_0x3844b4/(-0x13*0x313+0x2*-0x7b08+-0xe*-0x1ee4),-(0x88*0x29+-0x2*-0x343+-0x13b*0x17));case Ml:return _0xdbc4f3=>_0xdbc4f3/(-0x9d0d+-0xcf20+0x26c2c);default:return _0x56b347=>_0x56b347;}})());for(let _0x45b29b=-0x3*0x5e7+0x1292*-0x2+0x36d9*0x1;_0x45b29b<_0x499e62;_0x45b29b++)if(_0x3a776a[_0x45b29b]){const _0x1aaf72=_0x392b44[_0x45b29b],_0x15c9a7=_0x44bade[_0x45b29b];_0x1aaf72['set'](_0x4c17cf(_0x1aaf72['x']),_0x4c17cf(_0x1aaf72['y']),_0x4c17cf(_0x1aaf72['z'])),_0x15c9a7['set'](_0x4c17cf(_0x15c9a7['x']),_0x4c17cf(_0x15c9a7['y']),_0x4c17cf(_0x15c9a7['z']));}}for(let _0x21844c=-0x2*0x918+0x21f8+-0xfc8;_0x21844c<_0x499e62;_0x21844c++){const _0x2b682c=new De();_0x2b682c['setMinMax'](_0x392b44[_0x21844c],_0x44bade[_0x21844c]),this['boneAabb']['push'](_0x2b682c);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new oi(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>-0xf3b+-0x15+-0xa*-0x188&&this['indexBuffe'+'r'][-0x2008+-0x1940+0x3948]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][0x1936+-0x1*-0x655+-0x1a9*0x13]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][0x2693+0x161+-0x27f4]['numIndices']));}['clear'](_0x300551,_0x469301,_0x33584d=-0x1bc8+-0x6fa+0x22c2,_0x5dbc62=-0x2287+0x315*0xa+-0x1*-0x3b5){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(0x243d*-0x1+0x21f1*0x1+-0xc4*-0x3),this['_geometryD'+'ata']['maxVertice'+'s']=_0x33584d,this['_geometryD'+'ata']['maxIndices']=_0x5dbc62,this['_geometryD'+'ata']['verticesUs'+'age']=_0x300551?ms:lh,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0x469301?ms:lh;}['setVertexS'+'tream'](_0x56c1bf,_0x4cc2c0,_0x61213,_0x3a2bae,_0x284b30=Ve,_0x36e0e6=!(0x4bd*-0x5+-0x8*0x2e+0x1922),_0x1b9aa9=!(0xbb*-0x17+-0x1*0x1b7+0x1af*0xb)){this['_initGeome'+'tryData']();const _0x46422b=_0x3a2bae||_0x4cc2c0['length']/_0x61213;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x46422b,_0x56c1bf),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x142b+0x232c+0xa7*-0x17),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x56c1bf]=new SE(_0x4cc2c0,_0x61213,_0x284b30,_0x36e0e6,_0x1b9aa9);}['getVertexS'+'tream'](_0x4583d9,_0x5d7494){let _0x49a666=-0x134f*-0x2+-0x1255+-0x1449,_0x5227d3=!(-0x263a+-0xd*-0x239+-0x2*-0x4ab);if(this['_geometryD'+'ata']){const _0x5e1e55=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x4583d9];_0x5e1e55&&(_0x5227d3=!(-0x919+-0x65*-0x1+-0x4*-0x22d),_0x49a666=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0x5d7494)?_0x5d7494['set'](_0x5e1e55['data']):(_0x5d7494['length']=-0x1*0x61+-0xa6d*0x3+-0x3f5*-0x8,_0x5d7494['push'](_0x5e1e55['data'])));}return _0x5227d3||this['vertexBuff'+'er']&&(_0x49a666=new Uo(this['vertexBuff'+'er'])['readData'](_0x4583d9,_0x5d7494)),_0x49a666;}['setPositio'+'ns'](_0xa78d17,_0x171c02=oi['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0x456d0b){this['setVertexS'+'tream'](Me,_0xa78d17,_0x171c02,_0x456d0b,Ve,!(-0x2*-0x107b+0x18d7*0x1+-0x39cc));}['setNormals'](_0x251a55,_0x5e7faf=oi['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x3c1aac){this['setVertexS'+'tream'](gs,_0x251a55,_0x5e7faf,_0x3c1aac,Ve,!(0x1c0b+0x463*0x1+-0x206d));}['setUvs'](_0x5276d0,_0x39a158,_0x3bc3b4=oi['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x514cc3){this['setVertexS'+'tream'](zm+_0x5276d0,_0x39a158,_0x3bc3b4,_0x514cc3,Ve,!(0x1*-0x466+-0x1d1b*-0x1+-0x3*0x83c));}['setColors'](_0x461957,_0x57e860=oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x55ccf6){this['setVertexS'+'tream'](Wt,_0x461957,_0x57e860,_0x55ccf6,Ve,!(-0x51f+-0x3*0x355+0x7*0x229));}['setColors3'+'2'](_0x5d9aa7,_0x3206a1){this['setVertexS'+'tream'](Wt,_0x5d9aa7,oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x3206a1,la,!(0x1400+-0x1*0x1a87+-0x3*-0x22d));}['setIndices'](_0x3d0fd4,_0x1244b8){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x15*0x10d+-0x22a+0x3fb*-0x5),this['_geometryD'+'ata']['indices']=_0x3d0fd4,this['_geometryD'+'ata']['indexCount']=_0x1244b8||_0x3d0fd4['length'];}['getPositio'+'ns'](_0x2e7568){return this['getVertexS'+'tream'](Me,_0x2e7568);}['getNormals'](_0x2392a8){return this['getVertexS'+'tream'](gs,_0x2392a8);}['getUvs'](_0x50426e,_0x4e3dda){return this['getVertexS'+'tream'](zm+_0x50426e,_0x4e3dda);}['getColors'](_0x211070){return this['getVertexS'+'tream'](Wt,_0x211070);}['getIndices'](_0x4783ab){let _0x4564e6=-0x1*-0x7f6+-0x295*-0x4+-0x124a;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x3c09fb=this['_geometryD'+'ata']['indices'];if(_0x4564e6=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x4783ab))_0x4783ab['set'](_0x3c09fb);else{_0x4783ab['length']=0x3*0xb11+-0x226f+-0x4f*-0x4;for(let _0x493f58=-0x2ee+0x28e*0xd+-0x1e48,_0x15220f=_0x3c09fb['length'];_0x493f58<_0x15220f;_0x493f58++)_0x4783ab['push'](_0x3c09fb[_0x493f58]);}}else this['indexBuffe'+'r']['length']>0x142*-0x4+-0x7a5+0xcad&&this['indexBuffe'+'r'][-0x1ed0+0x3f6+0x1ada]&&(_0x4564e6=this['indexBuffe'+'r'][-0x2517+-0x25a0+0x269*0x1f]['readData'](_0x4783ab));return _0x4564e6;}['update'](_0x693151=js,_0x32016c=!(0x5*-0x45b+0x50+-0x5*-0x44b)){if(this['_geometryD'+'ata']){if(_0x32016c){const _0x19965f=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][Me];_0x19965f&&_0x19965f['componentC'+'ount']===0xf18+-0x2401+-0x14ec*-0x1&&(this['_aabb']['compute'](_0x19965f['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x43aa2c=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x43aa2c=!(-0x10a+-0x1*0x1d01+-0x1e0b*-0x1),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x43aa2c&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x71d322=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x71d322=!(0x927+-0x17b7+0xe90),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x71d322&&this['indexBuffe'+'r']['length']>0x23ac+0x867*0x4+-0x4548&&this['indexBuffe'+'r'][0x107d*-0x1+-0x253d+0xd*0x422]&&(this['indexBuffe'+'r'][-0x134d+-0x18a5+0x2bf2]['destroy'](),this['indexBuffe'+'r'][0x1124+0x1*0x21fb+0x331f*-0x1]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][-0x69*-0x11+0x189*-0x7+0x3c6]['type']=_0x693151,this['indexBuffe'+'r']['length']>0x30*-0x6+-0x276+0x396&&this['indexBuffe'+'r'][-0x275*-0x7+-0x475*-0x5+0x5a4*-0x7]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][0x3e7+-0xf*-0x12f+0x15a8*-0x1]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][-0x41*0x61+0x2d9*0xd+-0x632*0x2]['indexed']=!(-0x5c*0x37+-0x22d0*-0x1+-0xf0c)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][-0x13b+-0x863+0x2*0x4cf]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][-0x3*-0x45b+-0x4fb+0xe6*-0x9]['indexed']=!(-0x84+-0x21e6+0x226b)),this['_geometryD'+'ata']['vertexCoun'+'t']=-0x12+-0x68+0x7a,this['_geometryD'+'ata']['indexCount']=-0x643+0x1*0x14b7+0x73a*-0x2,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x1239+0x1bcc+-0x2e04),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(-0x893*-0x1+0xfd1+-0x1863),this['_geometryD'+'ata']['recreate']=!(0x2063*-0x1+-0x107*-0x6+0x1a3a),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x2ce5de){const _0x236f46=[];for(const _0xcaf144 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x587694=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0xcaf144];_0x236f46['push']({'semantic':_0xcaf144,'components':_0x587694['componentC'+'ount'],'type':_0x587694['dataType'],'normalize':_0x587694['dataTypeNo'+'rmalize'],'asInt':_0x587694['asInt']});}return new kt(this['device'],_0x236f46,_0x2ce5de);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x277cd1=this['_geometryD'+'ata']['maxVertice'+'s'],_0x31b4b6=this['_buildVert'+'exFormat'](_0x277cd1);this['vertexBuff'+'er']=new Is(this['device'],_0x31b4b6,_0x277cd1,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x3acab7=new Uo(this['vertexBuff'+'er']),_0xe2cd97=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x5a80ee in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x31cf60=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x5a80ee];_0x3acab7['writeData'](_0x5a80ee,_0x31cf60['data'],_0xe2cd97),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x5a80ee];}_0x3acab7['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=0x33*0x6f+0x1*-0x263f+0x1022||!this['indexBuffe'+'r'][0x23b7*0x1+0x7*-0x217+-0x1*0x1516]){const _0x367b39=this['_geometryD'+'ata']['maxVertice'+'s'],_0x56ca74=_0x367b39>-0x1f07+-0xe614+0x2051a||_0x367b39===-0x1885*-0x1+0xb6c*0x1+-0x1*0x23f1?wr:Yi,_0x41ee3e=this['_storageIn'+'dex']?{'storage':!(0xe9c+0x35*-0x1+-0xe67)}:void(-0x1b73*-0x1+0x3*-0xb15+0x5cc);this['indexBuffe'+'r'][-0x2057*-0x1+0xb*-0x35f+-0x4be*-0x1]=new br(this['device'],_0x56ca74,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(-0x2*-0xa4c+0x2480+-0x3918),_0x41ee3e);}const _0x4c9be3=this['_geometryD'+'ata']['indices'];_0x4c9be3&&(this['indexBuffe'+'r'][0x76d*-0x3+-0x11f0+0x47*0x91]['writeData'](_0x4c9be3,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x5d75fa){_0x5d75fa===$r?this['generateWi'+'reframe']():_0x5d75fa===Jl&&(this['primitive'][Jl]={'type':cd,'base':0x0,'baseVertex':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:-0x2c4+-0x1*0x1beb+0x1eaf,'indexed':!(-0x1d0e+-0x988+-0xcdd*-0x3)});}['updateRend'+'erStates'](){this['primitive'][Jl]&&this['prepareRen'+'derState'](Jl),this['primitive'][$r]&&this['prepareRen'+'derState']($r);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer']($r);const _0x76c559=this['vertexBuff'+'er']['numVertice'+'s'],_0x46946a=[];let _0x1bf957;if(this['indexBuffe'+'r']['length']>-0x9e3*-0x3+0x1e21+-0x3bca&&this['indexBuffe'+'r'][0x6cd*0x5+-0x2a1*0xb+0x3*-0x1b2]){const _0x542147=[[0x11a7*-0x1+0x72f+-0x43*-0x28,-0x1f5+0x1*-0x183d+0x1a33*0x1],[-0x7ce*-0x4+0x12b*-0x17+-0x2*0x22d,0x1*-0x267d+-0x8b7+0x2f36*0x1],[0x251*0xd+0x1*-0x1552+-0x8c9,-0x26d9+0x22d8+0x19*0x29]],_0x4ed179=this['primitive'][un]['base'],_0x253fbb=this['primitive'][un]['count'],_0x26fe76=this['primitive'][un]['baseVertex']||-0x51b+0x1*0x2347+-0x1e2c,_0x38db20=this['indexBuffe'+'r'][un],_0x1841c1=new Sh[_0x38db20['format']](_0x38db20['storage']),_0x3d1808=new Set();for(let _0x430ec6=_0x4ed179;_0x430ec6<_0x4ed179+_0x253fbb;_0x430ec6+=-0x22a3*-0x1+0x8b*-0x25+-0x1*0xe89)for(let _0x5a4d23=0x11ec+-0x1714+0x528;_0x5a4d23<0xead*-0x2+0x9ef+0x136e;_0x5a4d23++){const _0x559800=_0x1841c1[_0x430ec6+_0x542147[_0x5a4d23][-0x1556*0x1+-0x1*0x2527+-0x2c9*-0x15]]+_0x26fe76,_0x3b3852=_0x1841c1[_0x430ec6+_0x542147[_0x5a4d23][0xa31+-0x1a89+0x1059]]+_0x26fe76,_0x5938cc=_0x559800>_0x3b3852?_0x3b3852*_0x76c559+_0x559800:_0x559800*_0x76c559+_0x3b3852;_0x3d1808['has'](_0x5938cc)||(_0x3d1808['add'](_0x5938cc),_0x46946a['push'](_0x559800,_0x3b3852));}_0x1bf957=_0x38db20['format'];}else{for(let _0x25165b=-0x24fc+0xb31*-0x3+-0x1785*-0x3;_0x25165b<_0x76c559;_0x25165b+=-0x1*-0x13+0x20f5+-0x2105)_0x46946a['push'](_0x25165b,_0x25165b+(0x2177+0x3*-0x235+-0x1ad7*0x1),_0x25165b+(0xfcb+-0x1702+0x738),_0x25165b+(0xd47*-0x2+0xd*-0x25d+0x7*0x82f),_0x25165b+(-0x22c3+0x1*0x2057+0x26e),_0x25165b);_0x1bf957=_0x46946a['length']>-0x4f7b+-0x18795*0x1+0x1f3*0x175?wr:Yi;}const _0x4c987b=new br(this['vertexBuff'+'er']['device'],_0x1bf957,_0x46946a['length']);new Sh[_0x4c987b['format']](_0x4c987b['storage'])['set'](_0x46946a),_0x4c987b['unlock'](),this['primitive'][$r]={'type':hd,'base':0x0,'baseVertex':0x0,'count':_0x46946a['length'],'indexed':!(0x47f+-0x2335+0x1eb6)},this['indexBuffe'+'r'][$r]=_0x4c987b;}}const v_=new te(),Hd=new D(),x_=new le(),Wd=new le(),T_=new D(),w_=new D(),yE=new te(),vE=new le(),rs=new D(),ro=new te(),as=new le(),Ia=new le(),E_=new te(),$d=new D(),tc=new D();function b_(_0x11281b,_0x504fa3){return _0x11281b instanceof Function?_0x11281b:_0x1841dc=>{let _0x51034e=_0x1841dc[_0x11281b];return _0x51034e instanceof Function&&(_0x51034e=_0x51034e()),_0x51034e===_0x504fa3;};}function Sv(_0xe85662,_0x32831f){if(_0x32831f(_0xe85662))return _0xe85662;const _0x427d91=_0xe85662['_children'],_0x4426ad=_0x427d91['length'];for(let _0x4714e2=-0x9*0x29f+-0x9b5+0x10a6*0x2;_0x4714e2<_0x4426ad;++_0x4714e2){const _0x39757f=Sv(_0x427d91[_0x4714e2],_0x32831f);if(_0x39757f)return _0x39757f;}return null;}class Ie extends me{constructor(_0x153682='Untitled'){super(),h(this,'name'),h(this,'tags',new Oo(this)),h(this,'localPosit'+'ion',new D()),h(this,'localRotat'+'ion',new le()),h(this,'localScale',new D(0x151c+-0x1473+-0xa8,-0x117a+-0x1*-0x202+0x1*0xf79,0xb3*0x17+-0x385*0x4+-0x200)),h(this,'localEuler'+'Angles',new D()),h(this,'position',new D()),h(this,'rotation',new le()),h(this,'eulerAngle'+'s',new D()),h(this,'_scale',null),h(this,'localTrans'+'form',new te()),h(this,'_dirtyLoca'+'l',!(0x2050+-0x61b+0x27*-0xac)),h(this,'_aabbVer',0x1819*0x1+-0x1*0x13d0+-0x449*0x1),h(this,'_frozen',!(-0x1a7b+-0x2482*-0x1+-0xa06)),h(this,'worldTrans'+'form',new te()),h(this,'_dirtyWorl'+'d',!(-0xda8+0xf49+0xd0*-0x2)),h(this,'_worldScal'+'eSign',0x1*-0x11a2+-0x20c9+0x326b),h(this,'_normalMat'+'rix',new _i()),h(this,'_dirtyNorm'+'al',!(-0x36*0x72+0xe*0x7+0x17aa*0x1)),h(this,'_right',null),h(this,'_up',null),h(this,'_forward',null),h(this,'_parent',null),h(this,'_children',[]),h(this,'_graphDept'+'h',0x978*-0x2+0x4e5+0xe0b),h(this,'_enabled',!(0x11cf*-0x2+0x2132+0x9b*0x4)),h(this,'_enabledIn'+'Hierarchy',!(-0x1ddc+-0x16c6+0x34a3*0x1)),h(this,'scaleCompe'+'nsation',!(-0x1a24+0x1*0x104c+0x9d9)),this['name']=_0x153682;}get['right'](){return this['_right']||(this['_right']=new D()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new D()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new D()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(-0x1e01+-0x78d*-0x3+0x10d*0x7));}get['normalMatr'+'ix'](){const _0x66ea4b=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x66ea4b['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(0xae1+0x175d*-0x1+-0x17*-0x8b)),_0x66ea4b;}set['enabled'](_0x4706d6){var _0x23ec2b;this['_enabled']!==_0x4706d6&&(this['_enabled']=_0x4706d6,(_0x4706d6&&((_0x23ec2b=this['_parent'])!=null&&_0x23ec2b['enabled'])||!_0x4706d6)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x4706d6));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x54935a=this['_parent'];if(!_0x54935a)return'';let _0x50b076=this['name'];for(;_0x54935a&&_0x54935a['_parent'];)_0x50b076=_0x54935a['name']+'/'+_0x50b076,_0x54935a=_0x54935a['_parent'];return _0x50b076;}get['root'](){let _0x10281e=this;for(;_0x10281e['_parent'];)_0x10281e=_0x10281e['_parent'];return _0x10281e;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x433701,_0x1c82cb){_0x433701['_onHierarc'+'hyStateCha'+'nged'](_0x1c82cb);const _0x3a8a9a=_0x433701['_children'];for(let _0x473d0b=0x20+0x32*-0x1+0x12,_0x2030f1=_0x3a8a9a['length'];_0x473d0b<_0x2030f1;_0x473d0b++)_0x3a8a9a[_0x473d0b]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x3a8a9a[_0x473d0b],_0x1c82cb);}['_onHierarc'+'hyStateCha'+'nged'](_0x5c8895){this['_enabledIn'+'Hierarchy']=_0x5c8895,_0x5c8895&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x3c9ada){_0x3c9ada['name']=this['name'];const _0x2ec912=this['tags']['_list'];_0x3c9ada['tags']['clear']();for(let _0x16f307=0x1*-0x3fd+-0x2+-0x21*-0x1f;_0x16f307<_0x2ec912['length'];_0x16f307++)_0x3c9ada['tags']['add'](_0x2ec912[_0x16f307]);_0x3c9ada['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x3c9ada['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x3c9ada['localScale']['copy'](this['localScale']),_0x3c9ada['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x3c9ada['position']['copy'](this['position']),_0x3c9ada['rotation']['copy'](this['rotation']),_0x3c9ada['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x3c9ada['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x3c9ada['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x3c9ada['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x3c9ada['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x3c9ada['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x3c9ada['_aabbVer']=this['_aabbVer']+(0x1e18+0x1933+-0x374a*0x1),_0x3c9ada['_enabled']=this['_enabled'],_0x3c9ada['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x3c9ada['_enabledIn'+'Hierarchy']=!(0x365*0xb+0x2f*0xa7+-0xa9*0x67);}['clone'](){const _0x207063=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x207063),_0x207063;}['copy'](_0x5cb838){return _0x5cb838['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x41b870=this['_children'];for(;_0x41b870['length'];){const _0x562ba6=_0x41b870['pop']();_0x562ba6['_parent']=null,_0x562ba6['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x5d20ae,_0x2475c6){const _0x355005=[],_0x2a860d=b_(_0x5d20ae,_0x2475c6);return this['forEach'](_0x250f7a=>{_0x2a860d(_0x250f7a)&&_0x355005['push'](_0x250f7a);}),_0x355005;}['findOne'](_0x3659b6,_0x860984){const _0x51dd43=b_(_0x3659b6,_0x860984);return Sv(this,_0x51dd43);}['findByTag'](..._0x288930){const _0x1a7e52=[],_0x41c222=(_0x2c3457,_0x4ca9d8)=>{_0x4ca9d8&&_0x2c3457['tags']['has'](..._0x288930)&&_0x1a7e52['push'](_0x2c3457);for(let _0x3834eb=0x157b+-0x21a8+-0xc2d*-0x1;_0x3834eb<_0x2c3457['_children']['length'];_0x3834eb++)_0x41c222(_0x2c3457['_children'][_0x3834eb],!(0x3f9+0x2*0xa80+-0x18f9));};return _0x41c222(this,!(0xaa3+-0x80b+-0x297)),_0x1a7e52;}['findByName'](_0x479c81){return this['findOne']('name',_0x479c81);}['findByPath'](_0x5e19f1){const _0x25fb1c=Array['isArray'](_0x5e19f1)?_0x5e19f1:_0x5e19f1['split']('/');let _0x40238a=this;for(let _0x596198=-0xa4+0x1d*-0x47+0x8af,_0x539819=_0x25fb1c['length'];_0x596198<_0x539819;++_0x596198)if(_0x40238a=_0x40238a['children']['find'](_0x38af1e=>_0x38af1e['name']===_0x25fb1c[_0x596198]),!_0x40238a)return null;return _0x40238a;}['forEach'](_0x212343,_0xa7785){_0x212343['call'](_0xa7785,this);const _0x203b30=this['_children'],_0x59338c=_0x203b30['length'];for(let _0x5bda69=-0x1725+-0x1f6d*-0x1+-0x35*0x28;_0x5bda69<_0x59338c;++_0x5bda69)_0x203b30[_0x5bda69]['forEach'](_0x212343,_0xa7785);}['isDescenda'+'ntOf'](_0x3a5282){let _0x4f4e46=this['_parent'];for(;_0x4f4e46;){if(_0x4f4e46===_0x3a5282)return!(-0x200b+0x8e6+0x1725);_0x4f4e46=_0x4f4e46['_parent'];}return!(0x1478+0xd91*-0x1+-0x6e6);}['isAncestor'+'Of'](_0x3e10d0){return _0x3e10d0['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x3e+-0x1a*-0x4b+-0x7db*0x1)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new D()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===0x1619+-0x1*-0x1c85+0xd1*-0x3e&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x5c9539;(_0x5c9539=this['_parent'])==null||_0x5c9539['removeChil'+'d'](this);}['reparent'](_0x285427,_0x410d87){this['remove'](),_0x285427&&(_0x410d87>=-0x251f+-0xf4f*0x2+0x43bd?_0x285427['insertChil'+'d'](this,_0x410d87):_0x285427['addChild'](this));}['setLocalEu'+'lerAngles'](_0x503fdb,_0x5689f0,_0x18f009){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x503fdb,_0x5689f0,_0x18f009),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x1e3a3d,_0x541e30,_0x3fb7ac){_0x1e3a3d instanceof D?this['localPosit'+'ion']['copy'](_0x1e3a3d):this['localPosit'+'ion']['set'](_0x1e3a3d,_0x541e30,_0x3fb7ac),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x55891c,_0x5db74c,_0x395974,_0x4db9b7){_0x55891c instanceof le?this['localRotat'+'ion']['copy'](_0x55891c):this['localRotat'+'ion']['set'](_0x55891c,_0x5db74c,_0x395974,_0x4db9b7),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x2df2c4,_0x6dd5ec,_0x54547d){_0x2df2c4 instanceof D?this['localScale']['copy'](_0x2df2c4):this['localScale']['set'](_0x2df2c4,_0x6dd5ec,_0x54547d),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(0x1266+0x1454+-0x26ba),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x55d4e2=this['_parent'];for(;_0x55d4e2;)_0x55d4e2['_frozen']=!(-0x1374+-0x23c5*0x1+0x373a),_0x55d4e2=_0x55d4e2['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(0x54b+-0x1de7+0x189d),this['_dirtyWorl'+'d']=!(-0x1d*0x1c+0x2689+-0x235d);for(let _0x2a6891=-0x241+-0xb*-0x2cf+0x1*-0x1ca4;_0x2a6891<this['_children']['length'];_0x2a6891++)this['_children'][_0x2a6891]['_dirtyWorl'+'d']||this['_children'][_0x2a6891]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(0x1*0x114d+0x103b+-0x2188),this['_worldScal'+'eSign']=0x58b+-0x18f2+0x1*0x1367,this['_aabbVer']++;}['setPositio'+'n'](_0x29214c,_0x38ad6f,_0x310ca2){_0x29214c instanceof D?rs['copy'](_0x29214c):rs['set'](_0x29214c,_0x38ad6f,_0x310ca2),this['_parent']===null?this['localPosit'+'ion']['copy'](rs):(ro['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),ro['transformP'+'oint'](rs,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0xedb59e,_0x5684d5,_0x319d90,_0x2b907c){if(_0xedb59e instanceof le?as['copy'](_0xedb59e):as['set'](_0xedb59e,_0x5684d5,_0x319d90,_0x2b907c),this['_parent']===null)this['localRotat'+'ion']['copy'](as);else{const _0x22d51e=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x22d51e)['invert'](),this['localRotat'+'ion']['copy'](Ia)['mul'](as);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x16b8cb,_0x265ebb){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x16b8cb),this['localRotat'+'ion']['copy'](_0x265ebb);else{const _0x291f21=this['_parent']['getWorldTr'+'ansform']();ro['copy'](_0x291f21)['invert'](),ro['transformP'+'oint'](_0x16b8cb,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](ro)['mul'](_0x265ebb);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x4395b1,_0xd2f5e1,_0x29a11a){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x4395b1,_0xd2f5e1,_0x29a11a),this['_parent']!==null){const _0x9f3bb0=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x9f3bb0)['invert'](),this['localRotat'+'ion']['mul2'](Ia,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x280213){this['_prepareIn'+'sertChild'](_0x280213),this['_children']['push'](_0x280213),this['_onInsertC'+'hild'](_0x280213);}['addChildAn'+'dSaveTrans'+'form'](_0x1a3e26){const _0x3f25fc=_0x1a3e26['getPositio'+'n'](),_0x328ec0=_0x1a3e26['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x1a3e26),_0x1a3e26['setPositio'+'n'](yE['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x3f25fc)),_0x1a3e26['setRotatio'+'n'](vE['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x328ec0)),this['_children']['push'](_0x1a3e26),this['_onInsertC'+'hild'](_0x1a3e26);}['insertChil'+'d'](_0x27fc89,_0x3bb199){this['_prepareIn'+'sertChild'](_0x27fc89),this['_children']['splice'](_0x3bb199,0x4*0x37f+0x9f1+-0x7d*0x31,_0x27fc89),this['_onInsertC'+'hild'](_0x27fc89);}['_prepareIn'+'sertChild'](_0xfb48a1){_0xfb48a1['remove'](),w['assert'](_0xfb48a1!==this,'GraphNode\x20'+(_0xfb48a1==null?void(-0x795*0x1+0x15a8+-0x3*0x4b1):_0xfb48a1['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),w['assert'](!this['isDescenda'+'ntOf'](_0xfb48a1),'GraphNode\x20'+(_0xfb48a1==null?void(-0x1211+-0x2*0x8d9+0x23c3):_0xfb48a1['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x1c3fcd,_0x3b064d,_0x2d1925){this['fire'](_0x1c3fcd,_0x2d1925);for(let _0x1a7f83=-0xb*-0x23d+-0x1010+-0x1*0x88f;_0x1a7f83<this['_children']['length'];_0x1a7f83++)this['_children'][_0x1a7f83]['_fireOnHie'+'rarchy'](_0x3b064d,_0x3b064d,_0x2d1925);}['_onInsertC'+'hild'](_0x42e2e0){_0x42e2e0['_parent']=this;const _0x3ffe8a=_0x42e2e0['_enabled']&&this['enabled'];_0x42e2e0['_enabledIn'+'Hierarchy']!==_0x3ffe8a&&(_0x42e2e0['_enabledIn'+'Hierarchy']=_0x3ffe8a,_0x42e2e0['_notifyHie'+'rarchyStat'+'eChanged'](_0x42e2e0,_0x3ffe8a)),_0x42e2e0['_updateGra'+'phDepth'](),_0x42e2e0['_dirtifyWo'+'rld'](),this['_frozen']&&_0x42e2e0['_unfreezeP'+'arentToRoo'+'t'](),_0x42e2e0['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0x42e2e0);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(-0x1e+0x1e7*0x9+0x880*-0x2):0x2f7+0x971+-0xc68;for(let _0x377828=0x5b*-0x57+0x5f*-0x1f+0x2a6e,_0x2b8faa=this['_children']['length'];_0x377828<_0x2b8faa;_0x377828++)this['_children'][_0x377828]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x3b6461){const _0x2e2a1b=this['_children']['indexOf'](_0x3b6461);_0x2e2a1b!==-(0x16f*0x4+0xe3*-0x20+0x1f*0xbb)&&(this['_children']['splice'](_0x2e2a1b,0xd27+0x13*-0xdf+-0x367*-0x1),_0x3b6461['_parent']=null,_0x3b6461['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x3b6461));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0x241a+0x25b8+0x1*-0x49d1)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x235a53;const _0x34bde9=this['_parent'];let _0x1186d2=this['localScale'],_0x2627c4=_0x34bde9;if(_0x2627c4){for(;_0x2627c4&&_0x2627c4['scaleCompe'+'nsation'];)_0x2627c4=_0x2627c4['_parent'];_0x2627c4&&(_0x2627c4=_0x2627c4['_parent'],_0x2627c4&&(_0x235a53=_0x2627c4['worldTrans'+'form']['getScale'](),T_['mul2'](_0x235a53,this['localScale']),_0x1186d2=T_));}Wd['setFromMat'+'4'](_0x34bde9['worldTrans'+'form']),x_['mul2'](Wd,this['localRotat'+'ion']);let _0x17fc95=_0x34bde9['worldTrans'+'form'];_0x34bde9['scaleCompe'+'nsation']&&(w_['mul2'](_0x235a53,_0x34bde9['getLocalSc'+'ale']()),v_['setTRS'](_0x34bde9['worldTrans'+'form']['getTransla'+'tion'](Hd),Wd,w_),_0x17fc95=v_),_0x17fc95['transformP'+'oint'](this['localPosit'+'ion'],Hd),this['worldTrans'+'form']['setTRS'](Hd,x_,_0x1186d2);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(0x1b13+0xbef+-0x2701);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(0x8cd+-0x903*0x2+0x939),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x4570f7=this['_children'];for(let _0x17dd65=0x6d*0x1a+-0xba6+0x94*0x1,_0x4a4446=_0x4570f7['length'];_0x17dd65<_0x4a4446;_0x17dd65++)_0x4570f7[_0x17dd65]['syncHierar'+'chy']();}['lookAt'](_0x3623b1,_0x319d35,_0x4e01d4,_0x1bfacb=-0x4c5*-0x6+-0x1*-0x2628+0x612*-0xb,_0x1dd718=-0x89*-0x34+-0x12*-0x39+-0x1*0x1fd5,_0x475f70=-0x4cd+-0x360+0x1*0x82d){if(_0x3623b1 instanceof D)$d['copy'](_0x3623b1),_0x319d35 instanceof D?tc['copy'](_0x319d35):tc['copy'](D['UP']);else{if(_0x4e01d4===void(-0xce2+-0x8bf*0x2+-0x288*-0xc))return;$d['set'](_0x3623b1,_0x319d35,_0x4e01d4),tc['set'](_0x1bfacb,_0x1dd718,_0x475f70);}E_['setLookAt'](this['getPositio'+'n'](),$d,tc),as['setFromMat'+'4'](E_),this['setRotatio'+'n'](as);}['translate'](_0x346432,_0x39709d,_0x350466){_0x346432 instanceof D?rs['copy'](_0x346432):rs['set'](_0x346432,_0x39709d,_0x350466),rs['add'](this['getPositio'+'n']()),this['setPositio'+'n'](rs);}['translateL'+'ocal'](_0x209b1d,_0x5ab803,_0x1c9d5c){_0x209b1d instanceof D?rs['copy'](_0x209b1d):rs['set'](_0x209b1d,_0x5ab803,_0x1c9d5c),this['localRotat'+'ion']['transformV'+'ector'](rs,rs),this['localPosit'+'ion']['add'](rs),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0xa8884a,_0xa27cc3,_0x163e4b){if(as['setFromEul'+'erAngles'](_0xa8884a,_0xa27cc3,_0x163e4b),this['_parent']===null)this['localRotat'+'ion']['mul2'](as,this['localRotat'+'ion']);else{const _0x2fa031=this['getRotatio'+'n'](),_0x4146bd=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x4146bd)['invert'](),as['mul2'](Ia,as),this['localRotat'+'ion']['mul2'](as,_0x2fa031);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0x4212bb,_0x5c11eb,_0x2775be){as['setFromEul'+'erAngles'](_0x4212bb,_0x5c11eb,_0x2775be),this['localRotat'+'ion']['mul'](as),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const yv=new Kt();function Qn(_0x534493){const _0x2685bb=yv['get'](_0x534493);return w['assert'](_0x2685bb),_0x2685bb;}function xE(_0x1a6c56,_0x293256){w['assert'](_0x293256),yv['get'](_0x1a6c56,()=>_0x293256);}class TE{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x485a4a,_0x3fe4c2)=>{_0x3fe4c2['destroy']();}),this['cache']['clear']();}['incRef'](_0x219cc1){const _0x4aebb7=(this['cache']['get'](_0x219cc1)||-0x1d75+0x44*0x61+0x3b1)+(0x35*-0x13+-0x1c10+0x2000);this['cache']['set'](_0x219cc1,_0x4aebb7);}['decRef'](_0x40a8f0){if(_0x40a8f0){let _0x18b773=this['cache']['get'](_0x40a8f0);_0x18b773&&(_0x18b773--,_0x18b773===-0x20e2+0x1*0xf23+0x4d*0x3b?(this['cache']['delete'](_0x40a8f0),_0x40a8f0['destroy']()):this['cache']['set'](_0x40a8f0,_0x18b773));}}}class zi{static['incRef'](_0x44955b){this['cache']['incRef'](_0x44955b);}static['decRef'](_0x276978){this['cache']['decRef'](_0x276978);}static['destroy'](){this['cache']['destroy']();}}h(zi,'cache',new TE());let wE=0x26a*-0x1+0x1*0x2493+-0x6d5*0x5;const EE=new De(),sc=new De(),Xd=new sp(),qd=new Set(),Rr=new Uint32Array(-0xae5*-0x2+-0x1*-0x1c6a+-0x3230);class bE{constructor(_0x363e66){h(this,'vertexBuff'+'er',null),h(this,'_destroyVe'+'rtexBuffer',!(-0x16b9*0x1+0x1d2d+-0x673)),this['count']=_0x363e66;}['destroy'](){var _0x29f00b;this['_destroyVe'+'rtexBuffer']&&((_0x29f00b=this['vertexBuff'+'er'])==null||_0x29f00b['destroy']()),this['vertexBuff'+'er']=null;}}class AE{constructor(){h(this,'map',new Map()),h(this,'meshMetaDa'+'ta',new Int32Array(0x1850+0x7ca*-0x1+-0x1082));}['get'](_0x351c95){return this['map']['get'](_0x351c95)??this['map']['get'](null);}}class CE{constructor(){h(this,'shader'),h(this,'bindGroup',null),h(this,'uniformBuf'+'fer',null),h(this,'hashes');}['getBindGro'+'up'](_0x41c42e){if(!this['bindGroup']){const _0x16df96=this['shader'];w['assert'](_0x16df96);const _0x4e10a3=_0x16df96['meshBindGr'+'oupFormat'];w['assert'](_0x4e10a3),this['bindGroup']=new Up(_0x41c42e,_0x4e10a3),Ea['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x3a064a){if(!this['uniformBuf'+'fer']){const _0x588ace=this['shader'];w['assert'](_0x588ace);const _0x3edc60=_0x588ace['meshUnifor'+'mBufferFor'+'mat'];w['assert'](_0x3edc60),this['uniformBuf'+'fer']=new zp(_0x3a064a,_0x3edc60,!(-0x4*-0x358+0x458+-0x1*0x11b7));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x246cb4,_0x1c24d8;(_0x246cb4=this['bindGroup'])==null||_0x246cb4['destroy'](),this['bindGroup']=null,(_0x1c24d8=this['uniformBuf'+'fer'])==null||_0x1c24d8['destroy'](),this['uniformBuf'+'fer']=null;}}const Jr=class Jr{constructor(_0x4246f8,_0x153212,_0x10b4ea=null){h(this,'castShadow',!(-0x3*0x565+-0x3ac+0x9ee*0x2)),h(this,'shadowCasc'+'adeMask',Bw),h(this,'cull',!(-0x1*0x1f51+-0x1*-0x245f+-0x50e*0x1)),h(this,'drawOrder',0x866+-0x762+0x5*-0x34),h(this,'_drawBucke'+'t',-0x249b*-0x1+-0xe*-0x2b3+0x3*-0x18a2),h(this,'node'),h(this,'visible',!(-0x32b+-0x130f+0x163a)),h(this,'visibleThi'+'sFrame',!(-0xb*-0x219+0x3*-0x28c+-0xf6e)),h(this,'flipFacesF'+'actor',-0x1605+-0x7d*-0x31+0x1*-0x1e7),h(this,'gsplatInst'+'ance',null),h(this,'id',wE++),h(this,'isVisibleF'+'unc',null),h(this,'instancing'+'Data',null),h(this,'indirectDa'+'ta',null),h(this,'parameters',{}),h(this,'pick',!(-0x11ec+0x2101+0x1b*-0x8f)),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'transparen'+'t',!(-0x1c47+0xcf*0x5+0x55*0x49)),h(this,'_aabb',new De()),h(this,'_aabbVer',-(0x968+-0x1*0x1a6b+-0x12*-0xf2)),h(this,'_aabbMeshV'+'er',-(0x1597*0x1+-0x20ff*-0x1+-0x3695)),h(this,'_customAab'+'b',null),h(this,'_updateAab'+'b',!(-0x15d2+0x1*-0x1f01+0x34d3)),h(this,'_updateAab'+'bFunc',null),h(this,'_sortKeySh'+'adow',0x122a+-0x6b0+-0xb7a),h(this,'_sortKeyFo'+'rward',-0xde6+0x49*-0x43+-0x77*-0x47),h(this,'_sortKeyDy'+'namic',0x208c+0x68d+0x1*-0x2719),h(this,'_layer',Ky),h(this,'_material',null),h(this,'_skinInsta'+'nce',null),h(this,'_morphInst'+'ance',null),h(this,'_receiveSh'+'adow',!(0x5*0x79b+0x1c93+0x307*-0x16)),h(this,'_renderSty'+'le',un),h(this,'_screenSpa'+'ce',!(0x1*0x1d5e+0xa7*0x3a+-0x4333)),h(this,'_shaderCac'+'he',new Map()),h(this,'_shaderDef'+'s',Ss<<-0x25e1+-0x5*-0x60e+-0x1*-0x7ab),h(this,'_calculate'+'SortDistan'+'ce',null);if(w['assert'](!(_0x4246f8 instanceof Ie),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x10b4ea,this['_mesh']=_0x4246f8,_0x4246f8['incRefCoun'+'t'](),this['material']=_0x153212,_0x4246f8['vertexBuff'+'er']){const _0x586c30=_0x4246f8['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x586c30['hasUv0']?nm:0x1430+-0x14d1+0xa1,this['_shaderDef'+'s']|=_0x586c30['hasUv1']?dv:-0x84f+-0x1656+-0x1*-0x1ea5,this['_shaderDef'+'s']|=_0x586c30['hasColor']?fv:-0x1942+0x721*0x5+0x1*-0xa63,this['_shaderDef'+'s']|=_0x586c30['hasTangent'+'s']?om:-0x1280+0x2d4*0x3+-0x281*-0x4;}this['updateKey']();}set['drawBucket'](_0x4bb7dc){this['_drawBucke'+'t']=Math['floor'](_0x4bb7dc)&-0x2*-0xfd6+-0x1*-0x25e3+0x2*-0x2248,this['updateKey']();}get['drawBucket'](){return this['_drawBucke'+'t'];}set['renderStyl'+'e'](_0x7cfa18){this['_renderSty'+'le']=_0x7cfa18,this['mesh']['prepareRen'+'derState'](_0x7cfa18);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x2c99f3){_0x2c99f3!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x2c99f3,_0x2c99f3&&_0x2c99f3['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0x3acaa1){this['_aabb']=_0x3acaa1;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x3582d9=this['_customAab'+'b'],_0x44724f=!!_0x3582d9;if(!_0x3582d9){if(_0x3582d9=EE,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x2ac5f0=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x2ac5f0);}const _0x4c4d7b=this['mesh']['boneUsed'];let _0x75d2bd=!(-0x29*0xb3+-0x122c*0x1+-0xf9d*-0x3);for(let _0xd8424=-0xc30+0x1749*0x1+0x1*-0xb19;_0xd8424<this['mesh']['boneAabb']['length'];_0xd8424++)_0x4c4d7b[_0xd8424]&&(sc['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0xd8424],this['skinInstan'+'ce']['matrices'][_0xd8424]),_0x75d2bd?(_0x75d2bd=!(-0x8b+-0x1fc4+0x2050),_0x3582d9['center']['copy'](sc['center']),_0x3582d9['halfExtent'+'s']['copy'](sc['halfExtent'+'s'])):_0x3582d9['add'](sc));_0x44724f=!(0x8f2*-0x4+-0x2*-0x409+0x1bb6);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x3582d9['center']['copy'](this['mesh']['aabb']['center']),_0x3582d9['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x3582d9['center']['set'](-0xbee+0x642*0x1+0x42*0x16,0x1704+0x7*0x349+-0x1*0x2e03,-0x16ad+-0x2153+-0x1c0*-0x20),_0x3582d9['halfExtent'+'s']['set'](-0x1646+-0x127*-0xa+-0x2*-0x560,-0x19c3+0xe83*-0x1+0x2846*0x1,-0x73*-0x4f+0x1be1+-0x3f5e*0x1)),this['mesh']&&this['mesh']['morph']){const _0x42ecbf=this['mesh']['morph']['aabb'];_0x3582d9['_expand'](_0x42ecbf['getMin'](),_0x42ecbf['getMax']());}_0x44724f=!(-0x13*0x1e7+0x2238+0x1ed),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x44724f&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x3582d9,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0xabd571=>{_0xabd571['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x44a0d7,_0x47047a,_0x3c5ccb,_0x2b62fd,_0x114369,_0x1ec0c2,_0x5cbf23){var _0x27fd9c;const _0x2b65aa=this['_shaderDef'+'s'];Rr[-0x1b*0x4b+0x10a*0x1+0x6df]=_0x44a0d7,Rr[-0x1d3e*-0x1+-0x2289+-0x54c*-0x1]=_0x47047a,Rr[0x82*-0x4b+0x3c2+0xf*0x24a]=_0x2b65aa,Rr[0x7ad*0x4+-0x13c3+0x1*-0xaee]=_0x2b62fd['hash'];const _0xb4a163=By(Rr);let _0x3cdffe=this['_shaderCac'+'he']['get'](_0xb4a163);if(!_0x3cdffe){const _0x26ca63=this['_material'];if(_0x3cdffe=new CE(),_0x3cdffe['shader']=_0x26ca63['variants']['get'](_0xb4a163),_0x3cdffe['hashes']=new Uint32Array(Rr),!_0x3cdffe['shader']){Q['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x38ab44=_0x26ca63['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x3c5ccb,'objDefs':_0x2b65aa,'cameraShaderParams':_0x2b62fd,'pass':_0x44a0d7,'sortedLights':_0x5cbf23,'viewUniformFormat':_0x114369,'viewBindGroupFormat':_0x1ec0c2,'vertexFormat':(_0x27fd9c=this['mesh']['vertexBuff'+'er'])==null?void(-0x216e+0x1ce2+0x48c):_0x27fd9c['format']});Q['popGpuMark'+'er'](this['mesh']['device']),_0x26ca63['variants']['set'](_0xb4a163,_0x38ab44),_0x3cdffe['shader']=_0x38ab44;}this['_shaderCac'+'he']['set'](_0xb4a163,_0x3cdffe);}return w['call'](()=>{IT['equals'](_0x3cdffe['hashes'],Rr)||w['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x3cdffe;}set['material'](_0x4beda3){this['clearShade'+'rs']();const _0x5302d2=this['_material'];_0x5302d2&&_0x5302d2['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x4beda3,_0x4beda3&&(_0x4beda3['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x4beda3['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}['_updateSha'+'derDefs'](_0x59d9c0){_0x59d9c0!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x59d9c0,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x224fe7){this['_calculate'+'SortDistan'+'ce']=_0x224fe7;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0x6896bc){this['_receiveSh'+'adow']!==_0x6896bc&&(this['_receiveSh'+'adow']=_0x6896bc,this['_updateSha'+'derDefs'](_0x6896bc?this['_shaderDef'+'s']&~wh:this['_shaderDef'+'s']|wh));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x5a26db){this['_updateSha'+'derDefs'](_0x5a26db?this['_shaderDef'+'s']|qc:this['_shaderDef'+'s']&~qc);}get['batching'](){return(this['_shaderDef'+'s']&qc)!==-0x391*-0x3+-0x211b+-0x6*-0x3bc;}set['skinInstan'+'ce'](_0x2cfae1){this['_skinInsta'+'nce']=_0x2cfae1,this['_updateSha'+'derDefs'](_0x2cfae1?this['_shaderDef'+'s']|nl:this['_shaderDef'+'s']&~nl),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x55b301){var _0x2cd876;(_0x2cd876=this['_morphInst'+'ance'])==null||_0x2cd876['destroy'](),this['_morphInst'+'ance']=_0x55b301;let _0x53ba81=this['_shaderDef'+'s'];_0x53ba81=_0x55b301&&_0x55b301['morph']['morphPosit'+'ions']?_0x53ba81|ll:_0x53ba81&~ll,_0x53ba81=_0x55b301&&_0x55b301['morph']['morphNorma'+'ls']?_0x53ba81|cl:_0x53ba81&~cl,_0x53ba81=_0x55b301&&_0x55b301['morph']['intRenderF'+'ormat']?_0x53ba81|hl:_0x53ba81&~hl,this['_updateSha'+'derDefs'](_0x53ba81);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x5782c3){this['_screenSpa'+'ce']!==_0x5782c3&&(this['_screenSpa'+'ce']=_0x5782c3,this['_updateSha'+'derDefs'](_0x5782c3?this['_shaderDef'+'s']|Eh:this['_shaderDef'+'s']&~Eh));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0xd82b6e){this['_sortKeyFo'+'rward']=_0xd82b6e;}get['key'](){return this['_sortKeyFo'+'rward'];}set['mask'](_0x126371){const _0x501317=this['_shaderDef'+'s']&0x74*0x30+-0x3f71*-0x1+0xaace*0x1;this['_updateSha'+'derDefs'](_0x501317|_0x126371<<-0x1eb6+-0x436+0x22fc);}get['mask'](){return this['_shaderDef'+'s']>>-0xcbb+0xc91+0x3a;}set['instancing'+'Count'](_0x5f4aef){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x5f4aef);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:-0x130a*-0x1+0x2b*-0xa3+-0x7*-0x131;}['destroy'](){var _0x7be9de,_0x4db640,_0x2886cb;const _0x3e2117=this['mesh'];_0x3e2117&&(this['mesh']=null,_0x3e2117['refCount']<0x20db+0x2477+0x1fb*-0x23&&_0x3e2117['destroy']()),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x177*-0x1+0xeb9+-0xd42],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x1fc3*0x1+-0x7e1*-0x3+-0x3765],null),(_0x7be9de=this['_skinInsta'+'nce'])==null||_0x7be9de['destroy'](),this['_skinInsta'+'nce']=null,(_0x4db640=this['morphInsta'+'nce'])==null||_0x4db640['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x2886cb=this['instancing'+'Data'])==null||_0x2886cb['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x51e75d,_0x26ed14){if(_0x51e75d){for(let _0x2fbe5c=0x25*0x1b+-0xdb*0x22+0x133*0x15;_0x2fbe5c<_0x51e75d['length'];_0x2fbe5c++){_0x51e75d[_0x2fbe5c]['_renderSty'+'le']=_0x26ed14;const _0x21fcdb=_0x51e75d[_0x2fbe5c]['mesh'];qd['has'](_0x21fcdb)||(qd['add'](_0x21fcdb),_0x21fcdb['prepareRen'+'derState'](_0x26ed14));}qd['clear']();}}['_isVisible'](_0x24b89a){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x24b89a):(Xd['center']=this['aabb']['center'],Xd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x24b89a['frustum']['containsSp'+'here'](Xd)>0x29*-0x15+-0x7f*-0x5+0xe2):!(0x5*-0x359+-0x1380+0x243e);}['updateKey'](){const {material:_0x347e8b}=this;this['_sortKeyFo'+'rward']=this['_drawBucke'+'t']<<-0x1f12+-0xb*-0xef+0x14e4|(_0x347e8b['alphaToCov'+'erage']||_0x347e8b['alphaTest']?0x1400c3+0xa07d7*0x1+0x1*0x21f766:-0x134+-0x11*-0x115+0x9*-0x1e9)|_0x347e8b['id']&0x6c0688+-0x28ad51+-0x4*0xd64e;}['setInstanc'+'ing'](_0x5348fa,_0x560309=!(0x6b*0xe+-0x1d*-0x7c+-0xb*0x1cf)){_0x5348fa?(this['instancing'+'Data']=new bE(_0x5348fa['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x5348fa,_0x5348fa['format']['instancing']=!(0x16c7+0x262e+-0x5*0xc31),this['cull']=_0x560309):(this['instancing'+'Data']=null,this['cull']=!(0x1a61+0x7d0+0x1*-0x2231)),this['_updateSha'+'derDefs'](_0x5348fa?this['_shaderDef'+'s']|ol:this['_shaderDef'+'s']&~ol);}['setIndirec'+'t'](_0xe4676f,_0x4f6c02){this['_allocIndi'+'rectData'](),this['indirectDa'+'ta']['map']['set']((_0xe4676f==null?void(0x53*-0x3e+0x1*-0x1f5f+0x3379):_0xe4676f['camera'])??null,_0x4f6c02),this['mesh']['device']['mapsToClea'+'r']['add'](this['indirectDa'+'ta']['map']);}['getIndirec'+'tMetaData'](){var _0x49c977;this['_allocIndi'+'rectData']();const _0x55d233=(_0x49c977=this['mesh'])==null?void(0x1f35+-0x22ca*-0x1+-0x5*0xd33):_0x49c977['primitive'][this['renderStyl'+'e']],_0x56ccb0=this['indirectDa'+'ta']['meshMetaDa'+'ta'];return _0x56ccb0[-0x2627+-0xd*-0x157+0x14bc*0x1]=_0x55d233['count'],_0x56ccb0[-0xc*0x298+0x102b*0x1+0xa*0x17f]=_0x55d233['base'],_0x56ccb0[0x224e+0xcf7+-0x2f43]=_0x55d233['baseVertex'],_0x56ccb0;}['_allocIndi'+'rectData'](){this['indirectDa'+'ta']||(this['indirectDa'+'ta']=new AE());}['ensureMate'+'rial'](_0x4017cf){this['material']||(w['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=Qn(_0x4017cf));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x5f3039){return this['parameters'][_0x5f3039];}['setParamet'+'er'](_0x5ec2cb,_0x34a121,_0x147e33=-0x44e2*0xa6d6+-0x1*0xfa24e6bf+0x2270907aa){const _0x25376b=this['parameters'][_0x5ec2cb];_0x25376b?(_0x25376b['data']=_0x34a121,_0x25376b['passFlags']=_0x147e33):this['parameters'][_0x5ec2cb]={'scopeId':null,'data':_0x34a121,'passFlags':_0x147e33};}['setRealtim'+'eLightmap'](_0x3b397d,_0x49601c){const _0xd6d46b=this['getParamet'+'er'](_0x3b397d);_0xd6d46b!==_0x49601c&&(_0xd6d46b&&zi['decRef'](_0xd6d46b['data']),_0x49601c?(zi['incRef'](_0x49601c),this['setParamet'+'er'](_0x3b397d,_0x49601c)):this['deletePara'+'meter'](_0x3b397d));}['deletePara'+'meter'](_0x1c90c5){this['parameters'][_0x1c90c5]&&delete this['parameters'][_0x1c90c5];}['setParamet'+'ers'](_0x5a8fda,_0x791866){const _0x305411=this['parameters'];for(const _0x455d78 in _0x305411){const _0x27362a=_0x305411[_0x455d78];_0x27362a['passFlags']&_0x791866&&(_0x27362a['scopeId']||(_0x27362a['scopeId']=_0x5a8fda['scope']['resolve'](_0x455d78)),_0x27362a['scopeId']['setValue'](_0x27362a['data']));}}['setLightma'+'pped'](_0x2daa57){_0x2daa57?this['mask']=(this['mask']|di)&-(-0x2404*-0x1+0x3b*0x83+-0x422f):(this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x12*0x69+-0x3*-0x2ff+-0x105f],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x1c93+-0x3f5*-0x5+-0x1*-0x8cb],null),this['_shaderDef'+'s']&=-(0x1*-0xf37+0x142f+0xbc9),this['mask']=(this['mask']|Ss)&-(-0x1cfe+0x5b*0x6b+-0x904));}['setCustomA'+'abb'](_0x2534a7){_0x2534a7?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x2534a7):this['_customAab'+'b']=_0x2534a7['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(0x248b*0x1+-0x17d3+-0xcb7)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};(function(){const _0x17bbb9=function(){let _0x5742c7;try{_0x5742c7=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x4f826a){_0x5742c7=window;}return _0x5742c7;},_0x15cdbb=_0x17bbb9();_0x15cdbb['setInterva'+'l'](_0x4602b7,0x44a*-0x3+-0x1e8d+0x3b0b);}()),h(Jr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let He=Jr;const PE=[0x9*0xa+0x22c0+-0x231a,0x1d4c+0x755+-0x2*0x1250,-0x5d4+-0x83c+0x3*0x4b1,0x6f7+0x3eb*-0x3+-0x1*-0x4cc,-0x19c7+-0x1607+0x2fd1,-0x2f4*0x6+0x5*0x1ff+0x7be],ME=[0xbf7*-0x3+0x71e+0x1cc7,0xbe+0x2703+-0x13e0*0x2,-0x1cef+-0x8d*0x24+0x1042*0x3,-0x1033+0x35*0x2b+0x3a6*0x2,0x11*0x89+0xda1*-0x1+0x48b*0x1,0x1a9b+-0x1929+-0x5c*0x4],A_=new _i();function C_(_0x190aaf,_0x23e89e){if(_0x190aaf&&!_0x23e89e||!_0x190aaf&&_0x23e89e)return!(0x524+0x1d39*0x1+-0x225c);if(_0x190aaf=_0x190aaf['data'],_0x23e89e=_0x23e89e['data'],_0x190aaf===_0x23e89e)return!(-0x48*0x1+0x213f+-0x20f7);if(_0x190aaf instanceof Float32Array&&_0x23e89e instanceof Float32Array){if(_0x190aaf['length']!==_0x23e89e['length'])return!(0xf2a+0x2667+-0x3590);for(let _0x27f103=0x1301+0x6a9+0x88e*-0x3;_0x27f103<_0x190aaf['length'];_0x27f103++)if(_0x190aaf[_0x27f103]!==_0x23e89e[_0x27f103])return!(0x619*-0x1+-0x2bf+0x8d9);return!(0x75*-0x23+0x1*0x2225+-0x1226);}return!(0xd18*-0x2+0x1785+-0x6*-0x72);}function DE(_0x5926d3,_0x4a8607){for(const _0x3c2e8c in _0x5926d3)if(_0x5926d3['hasOwnProp'+'erty'](_0x3c2e8c)&&!C_(_0x5926d3[_0x3c2e8c],_0x4a8607[_0x3c2e8c]))return!(-0x1*0x1103+0x5*-0x1d+0x1195*0x1);for(const _0x12c3d1 in _0x4a8607)if(_0x4a8607['hasOwnProp'+'erty'](_0x12c3d1)&&!C_(_0x4a8607[_0x12c3d1],_0x5926d3[_0x12c3d1]))return!(-0x13c*0x10+0x1a39+-0x678);return!(-0x2b8+0x1f73*-0x1+0x222b);}function jd(_0x218fd3){return _0x218fd3['node']['worldTrans'+'form']['scaleSign'];}class IE{constructor(_0x38c65a,_0x18c440,_0x324fe6){this['device']=_0x38c65a,this['rootNode']=_0x18c440,this['scene']=_0x324fe6,this['_init']=!(-0x131d+0x1*-0xf59+0x207*0x11),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0xc51*0x3+0x1bcc+-0x41*0xff,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x282573,_0x284a4b,_0x3b0865,_0x53973c,_0x2b6e43){if(_0x53973c===void(-0xa0f*-0x1+-0x1*-0x6bb+0x266*-0x7)&&(_0x53973c=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0x53973c]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x53973c+('\x20already\x20e'+'xists.'));return;}const _0x4881ff=new St(_0x53973c,_0x282573,_0x284a4b,_0x3b0865,_0x2b6e43);return this['_batchGrou'+'ps'][_0x53973c]=_0x4881ff,_0x4881ff;}['removeGrou'+'p'](_0x3ed69f){if(!this['_batchGrou'+'ps'][_0x3ed69f]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x3ed69f+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x193768=[];for(let _0x3ea431=0x1*0x9fd+-0x13*-0x13c+-0x2171;_0x3ea431<this['_batchList']['length'];_0x3ea431++)this['_batchList'][_0x3ea431]['batchGroup'+'Id']===_0x3ed69f?this['destroyBat'+'ch'](this['_batchList'][_0x3ea431]):_0x193768['push'](this['_batchList'][_0x3ea431]);this['_batchList']=_0x193768,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x3ed69f),delete this['_batchGrou'+'ps'][_0x3ed69f];}['markGroupD'+'irty'](_0x4fb71e){this['_dirtyGrou'+'ps']['indexOf'](_0x4fb71e)<-0xaf9+0x1b75+0x34c*-0x5&&this['_dirtyGrou'+'ps']['push'](_0x4fb71e);}['getGroupBy'+'Name'](_0x397e0a){const _0x1f21ba=this['_batchGrou'+'ps'];for(const _0x2f6c1e in _0x1f21ba)if(_0x1f21ba['hasOwnProp'+'erty'](_0x2f6c1e)&&_0x1f21ba[_0x2f6c1e]['name']===_0x397e0a)return _0x1f21ba[_0x2f6c1e];return null;}['getBatches'](_0x1ac477){const _0x5cf8aa=[],_0xe6638c=this['_batchList']['length'];for(let _0x5f0f65=-0x1886+0x17ae+0x4*0x36;_0x5f0f65<_0xe6638c;_0x5f0f65++){const _0x56dd15=this['_batchList'][_0x5f0f65];_0x56dd15['batchGroup'+'Id']===_0x1ac477&&_0x5cf8aa['push'](_0x56dd15);}return _0x5cf8aa;}['_removeMod'+'elsFromBat'+'chGroup'](_0x3b2c1a,_0x1432f6){if(_0x3b2c1a['enabled']){_0x3b2c1a['model']&&_0x3b2c1a['model']['batchGroup'+'Id']===_0x1432f6&&(_0x3b2c1a['model']['batchGroup'+'Id']=-(-0xf80+-0xadc+0x11*0x18d)),_0x3b2c1a['render']&&_0x3b2c1a['render']['batchGroup'+'Id']===_0x1432f6&&(_0x3b2c1a['render']['batchGroup'+'Id']=-(0x1fd*0x1+0x7a4+-0x160*0x7)),_0x3b2c1a['element']&&_0x3b2c1a['element']['batchGroup'+'Id']===_0x1432f6&&(_0x3b2c1a['element']['batchGroup'+'Id']=-(0x174f+0x17dc+0x1795*-0x2)),_0x3b2c1a['sprite']&&_0x3b2c1a['sprite']['batchGroup'+'Id']===_0x1432f6&&(_0x3b2c1a['sprite']['batchGroup'+'Id']=-(0x1be*0x2+-0x2071+0x1cf6));for(let _0x5b223d=-0x13af+-0x13*-0x1cd+0x3*-0x4d8;_0x5b223d<_0x3b2c1a['_children']['length'];_0x5b223d++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x3b2c1a['_children'][_0x5b223d],_0x1432f6);}}['insert'](_0x4ce6f7,_0x2ff755,_0x4c5d5e){const _0xf63e3e=this['_batchGrou'+'ps'][_0x2ff755];w['assert'](_0xf63e3e,'Invalid\x20ba'+'tch\x20'+_0x2ff755+'\x20insertion'),_0xf63e3e&&_0xf63e3e['_obj'][_0x4ce6f7]['indexOf'](_0x4c5d5e)<-0x2fa+-0x19e5+-0x13*-0x185&&(_0xf63e3e['_obj'][_0x4ce6f7]['push'](_0x4c5d5e),this['markGroupD'+'irty'](_0x2ff755));}['remove'](_0x58c48b,_0x2c887c,_0x50a7da){const _0x4dfb1c=this['_batchGrou'+'ps'][_0x2c887c];if(w['assert'](_0x4dfb1c,'Invalid\x20ba'+'tch\x20'+_0x2c887c+'\x20insertion'),_0x4dfb1c){const _0x550260=_0x4dfb1c['_obj'][_0x58c48b]['indexOf'](_0x50a7da);_0x550260>=-0xadf*-0x3+-0x26a4*-0x1+0x25*-0x1ed&&(_0x4dfb1c['_obj'][_0x58c48b]['splice'](_0x550260,0x8*-0x35c+0x24*0x1+0x1abd),this['markGroupD'+'irty'](_0x2c887c));}}['_extractRe'+'nder'](_0xcbb6ff,_0x4bfb18,_0xb345a5,_0x318ac6){return _0xcbb6ff['render']&&(_0x4bfb18=_0x318ac6[_0xcbb6ff['render']['batchGroup'+'Id']]=_0x4bfb18['concat'](_0xcbb6ff['render']['meshInstan'+'ces']),_0xcbb6ff['render']['removeFrom'+'Layers']()),_0x4bfb18;}['_extractMo'+'del'](_0x16a318,_0x1fd27d,_0x1cfd21,_0x51b966){return _0x16a318['model']&&_0x16a318['model']['model']&&(_0x1fd27d=_0x51b966[_0x16a318['model']['batchGroup'+'Id']]=_0x1fd27d['concat'](_0x16a318['model']['meshInstan'+'ces']),_0x16a318['model']['removeMode'+'lFromLayer'+'s'](),_0x16a318['model']['_batchGrou'+'p']=_0x1cfd21),_0x1fd27d;}['_extractEl'+'ement'](_0x34ce7c,_0x1bfcf7,_0x30491d){if(!_0x34ce7c['element'])return;let _0x57d675=!(-0x25f9+-0x1caa+-0x2152*-0x2);_0x34ce7c['element']['_text']&&_0x34ce7c['element']['_text']['_model']['meshInstan'+'ces']['length']>0x6*0x2bb+0xbcd+0xc3*-0x25?(_0x1bfcf7['push'](_0x34ce7c['element']['_text']['_model']['meshInstan'+'ces'][-0x18f6*-0x1+0x3b0+-0x1ca6]),_0x34ce7c['element']['removeMode'+'lFromLayer'+'s'](_0x34ce7c['element']['_text']['_model']),_0x57d675=!(-0x5*-0x1d+-0x1d15+0x1c84)):_0x34ce7c['element']['_image']&&(_0x1bfcf7['push'](_0x34ce7c['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x34ce7c['element']['removeMode'+'lFromLayer'+'s'](_0x34ce7c['element']['_image']['_renderabl'+'e']['model']),_0x34ce7c['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x1bfcf7['push'](_0x34ce7c['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x34ce7c['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x34ce7c['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x34ce7c['element']['_dirtifyMa'+'sk'](),_0x34ce7c['element']['_onPrerend'+'er']())),_0x57d675=!(-0xc41+0xf*0xdb+0x4a*-0x2)),_0x57d675&&(_0x30491d['_ui']=!(0x22b0+0x2681+-0x4931),_0x34ce7c['element']['_batchGrou'+'p']=_0x30491d);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x51fa0e,_0x35c92a){for(let _0x3e3f29=0xc*-0x28b+-0x2*0xf59+0x3d36;_0x3e3f29<_0x35c92a['length'];_0x3e3f29++){const _0x2d4559=_0x35c92a[_0x3e3f29],_0x234c55=this['_batchGrou'+'ps'][_0x2d4559];if(!_0x234c55)continue;let _0x5b042f=_0x51fa0e[_0x2d4559];_0x5b042f||(_0x5b042f=_0x51fa0e[_0x2d4559]=[]);for(let _0x386a7b=-0xe*-0x4e+0xad6+-0xf1a;_0x386a7b<_0x234c55['_obj']['model']['length'];_0x386a7b++)_0x5b042f=this['_extractMo'+'del'](_0x234c55['_obj']['model'][_0x386a7b],_0x5b042f,_0x234c55,_0x51fa0e);for(let _0xaa0734=0x1d8*0x3+-0x18cf*0x1+0x1347;_0xaa0734<_0x234c55['_obj']['render']['length'];_0xaa0734++)_0x5b042f=this['_extractRe'+'nder'](_0x234c55['_obj']['render'][_0xaa0734],_0x5b042f,_0x234c55,_0x51fa0e);for(let _0x219f65=-0xb5c+0x1265+-0x709*0x1;_0x219f65<_0x234c55['_obj']['element']['length'];_0x219f65++)this['_extractEl'+'ement'](_0x234c55['_obj']['element'][_0x219f65],_0x5b042f,_0x234c55);for(let _0x240a6e=-0x289*-0x1+0x514*-0x1+0x28b;_0x240a6e<_0x234c55['_obj']['sprite']['length'];_0x240a6e++){const _0x3f911a=_0x234c55['_obj']['sprite'][_0x240a6e];_0x3f911a['sprite']&&_0x3f911a['sprite']['_meshInsta'+'nce']&&(_0x234c55['dynamic']||_0x3f911a['sprite']['sprite']['_renderMod'+'e']===ci)&&(_0x5b042f['push'](_0x3f911a['sprite']['_meshInsta'+'nce']),_0x3f911a['sprite']['removeMode'+'lFromLayer'+'s'](),_0x234c55['_sprite']=!(0x214b+0xde+-0x2229),_0x3f911a['sprite']['_batchGrou'+'p']=_0x234c55);}}}['generate'](_0x3001af){const _0x47762e={};_0x3001af||(_0x3001af=Object['keys'](this['_batchGrou'+'ps']));const _0x53b6ba=[];for(let _0x4981cc=-0x1e2e+0x1d9*-0x9+0x2ecf;_0x4981cc<this['_batchList']['length'];_0x4981cc++){if(_0x3001af['indexOf'](this['_batchList'][_0x4981cc]['batchGroup'+'Id'])<0x1d2*0xb+0xdc3+0x5d*-0x5d){_0x53b6ba['push'](this['_batchList'][_0x4981cc]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x4981cc]);}if(this['_batchList']=_0x53b6ba,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x47762e,_0x3001af),_0x3001af===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=0x537+-0x1*0xbc1+-0x1*-0x68a;else{const _0x237582=[];for(let _0x508844=0x19a1+0x1*0x2404+-0x1*0x3da5;_0x508844<this['_dirtyGrou'+'ps']['length'];_0x508844++)_0x3001af['indexOf'](this['_dirtyGrou'+'ps'][_0x508844])<-0x3*-0x426+-0x1*-0xea7+0x3df*-0x7&&_0x237582['push'](this['_dirtyGrou'+'ps'][_0x508844]);this['_dirtyGrou'+'ps']=_0x237582;}let _0x5f1504,_0x3d9733,_0x1ef56f,_0x8980d3;for(const _0x54c4ff in _0x47762e)if(_0x47762e['hasOwnProp'+'erty'](_0x54c4ff)){if(_0x5f1504=_0x47762e[_0x54c4ff],_0x1ef56f=this['_batchGrou'+'ps'][_0x54c4ff],!_0x1ef56f){w['error']('batch\x20grou'+'p\x20'+_0x54c4ff+'\x20not\x20found');continue;}_0x3d9733=this['prepare'](_0x5f1504,_0x1ef56f['dynamic'],_0x1ef56f['maxAabbSiz'+'e'],_0x1ef56f['_ui']||_0x1ef56f['_sprite']);for(let _0x41a028=-0x1314+-0x104b+-0x1*-0x235f;_0x41a028<_0x3d9733['length'];_0x41a028++)_0x8980d3=this['create'](_0x3d9733[_0x41a028],_0x1ef56f['dynamic'],parseInt(_0x54c4ff,-0x204b+-0x4e*0x46+0xf1*0x39)),_0x8980d3&&_0x8980d3['addToLayer'+'s'](this['scene'],_0x1ef56f['layers']);}}['prepare'](_0x59cde6,_0x59536c,_0x146f00=Number['POSITIVE_I'+'NFINITY'],_0x41b31a){if(_0x59cde6['length']===0x73f+-0x1e3b+0x2*0xb7e)return[];const _0x190c20=_0x146f00*(-0x4b*-0x45+0xc*0x23d+-0x3*0xfb1+0.5),_0x4970bf=0x1b0e+0x147*0x11+0x9d*-0x49,_0x76a34c=-0x19a3d305b*-0x1+-0x45ac8214+0x70c0e86*-0xc,_0x473ae6=new De(),_0x1140bb=new De();let _0x1a112f=null,_0x50f817;const _0x2faf4=[];let _0x44c325=-0x38*0x40+-0xc*0x6b+0x4*0x4c1;_0x41b31a&&_0x59cde6['sort']((_0x1280fc,_0x2131e7)=>_0x1280fc['drawOrder']-_0x2131e7['drawOrder']);let _0x11912d=_0x59cde6,_0x4139dc;const _0x3cee5a=_0x41b31a?function(_0x4600a2){_0x1a112f?_0x1a112f['add'](_0x4600a2['aabb']):_0x1a112f=_0x4600a2['aabb']['clone'](),_0x4139dc['push'](_0x4600a2);}:function(_0x14ccab){_0x4139dc['push'](_0x14ccab);};for(;_0x11912d['length']>-0x1*0x1ccc+-0x328+0x1ff4;){_0x2faf4[_0x44c325]=[_0x11912d[-0x12e2+0x8d*-0x45+0x38e3]],_0x4139dc=[];const _0x369d79=_0x11912d[-0x78a+0x129e+-0xb14]['material'],_0x299d98=_0x11912d[0x1fa+-0xf26+0x119*0xc]['layer'],_0x3e7ad6=_0x11912d[-0x1e15+0xf42+0xed3]['_shaderDef'+'s'],_0x5085d4=_0x11912d[-0x3f*-0x9a+0xf98+-0x357e]['parameters'],_0x275419=_0x11912d[-0xb85*0x3+0x20bd+0x1d2]['stencilFro'+'nt'];let _0x574ed5=_0x11912d[0x31d*-0x9+-0x1812+-0x1*-0x3417]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x1dada2=_0x11912d[0x63d*-0x3+-0x69c+0x1953]['drawOrder'];_0x473ae6['copy'](_0x11912d[0x325+0x1a1d+0x5*-0x5da]['aabb']);const _0x122e69=jd(_0x11912d[0x1*-0x1fb4+-0x1b6c+0x3b20]),_0x41b7cc=_0x11912d[-0x110e*0x2+0x2667+-0x44b]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x3975eb=_0x11912d[0x8e9+0x3*0x8f9+-0x23d4]['mesh']['primitive'][0xd7d+-0x23ff+0x86*0x2b]['indexed'];_0x1a112f=null;for(let _0x567738=0x7*-0x373+-0x1*-0xad2+0xd54;_0x567738<_0x11912d['length'];_0x567738++){const _0x4313f6=_0x11912d[_0x567738];if(_0x59536c&&_0x2faf4[_0x44c325]['length']>=_0x4970bf){_0x4139dc=_0x4139dc['concat'](_0x11912d['slice'](_0x567738));break;}if(_0x369d79!==_0x4313f6['material']||_0x299d98!==_0x4313f6['layer']||_0x41b7cc!==_0x4313f6['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x3975eb!==_0x4313f6['mesh']['primitive'][0x180b+-0x398+-0x1473]['indexed']||_0x3e7ad6!==_0x4313f6['_shaderDef'+'s']||_0x574ed5+_0x4313f6['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0x76a34c){_0x3cee5a(_0x4313f6);continue;}if(_0x1140bb['copy'](_0x473ae6),_0x1140bb['add'](_0x4313f6['aabb']),_0x1140bb['halfExtent'+'s']['x']>_0x190c20||_0x1140bb['halfExtent'+'s']['y']>_0x190c20||_0x1140bb['halfExtent'+'s']['z']>_0x190c20){_0x3cee5a(_0x4313f6);continue;}if(_0x275419&&(!(_0x50f817=_0x4313f6['stencilFro'+'nt'])||_0x275419['func']!==_0x50f817['func']||_0x275419['zpass']!==_0x50f817['zpass'])){_0x3cee5a(_0x4313f6);continue;}if(_0x122e69!==jd(_0x4313f6)){_0x3cee5a(_0x4313f6);continue;}if(!DE(_0x5085d4,_0x4313f6['parameters'])){_0x3cee5a(_0x4313f6);continue;}if(_0x41b31a&&_0x1a112f&&_0x1a112f['intersects'](_0x4313f6['aabb'])&&_0x4313f6['drawOrder']!==_0x1dada2){_0x3cee5a(_0x4313f6);continue;}_0x473ae6['add'](_0x4313f6['aabb']),_0x574ed5+=_0x4313f6['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x2faf4[_0x44c325]['push'](_0x4313f6);}_0x44c325++,_0x11912d=_0x4139dc;}return _0x2faf4;}['collectBat'+'chedMeshDa'+'ta'](_0x5d7035,_0x2e00e4){let _0x538c90=null,_0x483872=-0x56*0x3+-0x677*-0x5+-0x1f51,_0x140a76=-0x176c*0x1+-0x12a*0x10+0x2a0c,_0x330e97=null;for(let _0xe9cabb=-0x1f3*-0x13+0x1234+-0x373d;_0xe9cabb<_0x5d7035['length'];_0xe9cabb++)if(_0x5d7035[_0xe9cabb]['visible']){const _0x1eb470=_0x5d7035[_0xe9cabb]['mesh'],_0x29dca2=_0x1eb470['vertexBuff'+'er']['numVertice'+'s'];if(_0x483872+=_0x29dca2,_0x1eb470['primitive'][0x4*0x932+-0x1*0x6e2+-0x1de6]['indexed'])_0x140a76+=_0x1eb470['primitive'][-0x7*0x23b+-0x1c2b+-0x2*-0x15e4]['count'];else{const _0x1aa945=_0x1eb470['primitive'][-0x61*0x6+0x1e9a*0x1+-0x2*0xe2a]['type'];(_0x1aa945===oa||_0x1aa945===Er)&&_0x1eb470['primitive'][0x1541+-0x85c+0xce5*-0x1]['count']===0x49*-0x9+-0x1*-0x677+-0x3e2&&(_0x140a76+=0xeb9*0x1+0x1015*0x1+-0x1ec8);}if(!_0x538c90){_0x330e97=_0x5d7035[_0xe9cabb]['material'],_0x538c90={};const _0x5eb7e1=_0x1eb470['vertexBuff'+'er']['format']['elements'];for(let _0x45fd47=-0x133+0xa7f*0x1+-0x94c;_0x45fd47<_0x5eb7e1['length'];_0x45fd47++){const _0x2e49a5=_0x5eb7e1[_0x45fd47]['name'];_0x538c90[_0x2e49a5]={'numComponents':_0x5eb7e1[_0x45fd47]['numCompone'+'nts'],'dataType':_0x5eb7e1[_0x45fd47]['dataType'],'normalize':_0x5eb7e1[_0x45fd47]['normalize'],'count':0x0};}_0x2e00e4&&(_0x538c90[us]={'numComponents':0x1,'dataType':Ve,'normalize':!(0x1732+0x13b9+-0x2aea),'count':0x0});}}return{'streams':_0x538c90,'batchNumVerts':_0x483872,'batchNumIndices':_0x140a76,'material':_0x330e97};}['create'](_0x4de183,_0x42d603,_0x56614e){const _0x168b10=de();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(0x34b+-0x2276*0x1+0x65*0x4f));let _0x146dc1=null,_0x582237,_0xc5d31e,_0x43dec5,_0x191a90=null;const _0x1b53ce=this['collectBat'+'chedMeshDa'+'ta'](_0x4de183,_0x42d603);if(_0x1b53ce['streams']){const _0x114856=_0x1b53ce['streams'];let _0x316c77=_0x1b53ce['material'];const _0x4766d0=_0x1b53ce['batchNumVe'+'rts'],_0xeef608=_0x1b53ce['batchNumIn'+'dices'];_0x191a90=new g_(_0x4de183,_0x42d603,_0x56614e),this['_batchList']['push'](_0x191a90);let _0x52dc35,_0x48c9e0,_0x541de4,_0x4357ec,_0x338b8e=0x4*0x7c8+0x3fd*-0x7+0x335*-0x1,_0x68d97e=0x309*-0x3+0x3dd+0x53e,_0x24b855;const _0x385f74=_0x4766d0<=0x100c1*0x1+0xc*0x15ee+-0x25*0x722?Uint16Array:Uint32Array,_0x556f70=new _0x385f74(_0xeef608);for(_0x582237 in _0x114856)_0x146dc1=_0x114856[_0x582237],_0x146dc1['typeArrayT'+'ype']=wn[_0x146dc1['dataType']],_0x146dc1['elementByt'+'eSize']=No[_0x146dc1['dataType']],_0x146dc1['buffer']=new _0x146dc1['typeArrayT'+'ype'](_0x4766d0*_0x146dc1['numCompone'+'nts']);for(let _0x136a76=-0x1047+0x7b1+0x896;_0x136a76<_0x4de183['length'];_0x136a76++)if(_0x4de183[_0x136a76]['visible']){_0xc5d31e=_0x4de183[_0x136a76]['mesh'],_0x43dec5=_0xc5d31e['vertexBuff'+'er']['numVertice'+'s'],_0x42d603||(_0x24b855=_0x4de183[_0x136a76]['node']['getWorldTr'+'ansform']());for(_0x582237 in _0x114856)if(_0x582237!==us){_0x146dc1=_0x114856[_0x582237];const _0x2643d8=new _0x146dc1['typeArrayT'+'ype'](_0x146dc1['buffer']['buffer'],_0x146dc1['elementByt'+'eSize']*_0x146dc1['count']),_0x3f4681=_0xc5d31e['getVertexS'+'tream'](_0x582237,_0x2643d8)*_0x146dc1['numCompone'+'nts'];if(_0x146dc1['count']+=_0x3f4681,!_0x42d603&&_0x146dc1['numCompone'+'nts']>=-0x54a*-0x7+0x413*0x1+-0x2916){if(_0x582237===Me){const _0x2aa07e=_0x24b855['data'],_0x1f8465=_0x2aa07e[-0x1183+-0x31*0x1a+0x39*0x65],_0xbe8292=_0x2aa07e[0x7b5*-0x3+0x228a+-0x1e7*0x6],_0x302719=_0x2aa07e[-0xd0b+0x2205*0x1+-0x14f8],_0xf4cf2f=_0x2aa07e[-0x4*0xad+0x219c+-0x4*0x7b9],_0x5771a8=_0x2aa07e[-0x13af*-0x1+-0xbe4+-0x18e*0x5],_0x2659b8=_0x2aa07e[-0xea1*0x1+0x2*-0x542+0x1*0x192b],_0x30ca71=_0x2aa07e[-0x38c+0x1476+0x871*-0x2],_0x508c89=_0x2aa07e[-0xfdb+-0x5d0*-0x6+-0x12fc],_0x1ccc64=_0x2aa07e[0x25f*0xf+-0x1*0x1066+-0x1321],_0x3fe73c=_0x2aa07e[-0xd91+-0x1417+-0x3*-0xb3c],_0x484c42=_0x2aa07e[-0xf92+0x1d26+-0xd87],_0x5a1025=_0x2aa07e[0xaaf+-0x1*0x2189+0x5ba*0x4];let _0x2a5ebc,_0x5a9431,_0x2079ae;for(let _0x1afdba=-0x1f92+-0x1*-0x1151+0xe41;_0x1afdba<_0x3f4681;_0x1afdba+=_0x146dc1['numCompone'+'nts'])_0x2a5ebc=_0x2643d8[_0x1afdba],_0x5a9431=_0x2643d8[_0x1afdba+(0x201f+0x18d*0x13+-0x3d95)],_0x2079ae=_0x2643d8[_0x1afdba+(-0x2*0x961+-0x2279+0x4d7*0xb)],_0x2643d8[_0x1afdba]=_0x2a5ebc*_0x1f8465+_0x5a9431*_0xf4cf2f+_0x2079ae*_0x30ca71+_0x3fe73c,_0x2643d8[_0x1afdba+(0xb57+0x421*-0x2+-0x314)]=_0x2a5ebc*_0xbe8292+_0x5a9431*_0x5771a8+_0x2079ae*_0x508c89+_0x484c42,_0x2643d8[_0x1afdba+(0x232*-0x7+0xa39+0x527)]=_0x2a5ebc*_0x302719+_0x5a9431*_0x2659b8+_0x2079ae*_0x1ccc64+_0x5a1025;}else{if(_0x582237===gs||_0x582237===yi){A_['invertMat4'](_0x24b855)['transpose']();const [_0x1c9b6e,_0x43441a,_0xe425b7,_0x17b93f,_0x13bd95,_0x2dfadc,_0x20c08d,_0x2c9571,_0x3c751b]=A_['data'];let _0x39e278,_0x53c46a,_0x2b076e;for(let _0x4ffced=0x17f3+-0x1ce2+0x4ef;_0x4ffced<_0x3f4681;_0x4ffced+=_0x146dc1['numCompone'+'nts'])_0x39e278=_0x2643d8[_0x4ffced],_0x53c46a=_0x2643d8[_0x4ffced+(-0x9*0x421+0x15f9+0xf31)],_0x2b076e=_0x2643d8[_0x4ffced+(-0x1*0x4e3+-0x7ef+0x1*0xcd4)],_0x2643d8[_0x4ffced]=_0x39e278*_0x1c9b6e+_0x53c46a*_0x17b93f+_0x2b076e*_0x20c08d,_0x2643d8[_0x4ffced+(0x19*-0x83+0xee7+-0x21b)]=_0x39e278*_0x43441a+_0x53c46a*_0x13bd95+_0x2b076e*_0x2c9571,_0x2643d8[_0x4ffced+(0x4*-0x788+0x57d*0x1+0x18a5)]=_0x39e278*_0xe425b7+_0x53c46a*_0x2dfadc+_0x2b076e*_0x3c751b;}}}}if(_0x42d603){_0x146dc1=_0x114856[us];for(let _0x985dfe=-0x12f6+-0xd53*0x2+0x2d9c;_0x985dfe<_0x43dec5;_0x985dfe++)_0x146dc1['buffer'][_0x146dc1['count']++]=_0x136a76;}if(_0xc5d31e['primitive'][-0x261f+0x2456*0x1+0x1c9*0x1]['indexed']){_0x52dc35=_0xc5d31e['primitive'][-0x2*-0x10c1+0x9e2+-0x2b64]['base'],_0x48c9e0=_0xc5d31e['primitive'][-0x17dd+0x1*-0x5f7+0x1dd4]['baseVertex']||-0x2a5*-0x9+0x4*0x40+-0x18cd,_0x541de4=_0xc5d31e['primitive'][-0x10*-0x10+0x3*0x93+-0x11*0x29]['count'];const _0x261e46=_0xc5d31e['indexBuffe'+'r'][0x1227+0x16e3+-0x290a]['getFormat']();_0x4357ec=new Sh[_0x261e46](_0xc5d31e['indexBuffe'+'r'][0xad0+0xe99*0x1+-0x5*0x515]['storage']);}else{_0x48c9e0=0x4f6*-0x6+-0x602+0x1*0x23c6;const _0x2ea604=_0xc5d31e['primitive'][-0x17e4+-0x99e+-0x10c1*-0x2]['type'];if(_0x2ea604===oa||_0x2ea604===Er){if(_0xc5d31e['primitive'][-0x51*0x34+-0x1*0x1c4f+0x1*0x2cc3]['count']===0x773*0x1+-0x18b1+0x1142)_0x52dc35=0x218b+-0x17f3+-0x998,_0x541de4=0xa60+-0x10e3*-0x1+-0x1*0x1b3d,_0x4357ec=_0x2ea604===oa?PE:ME;else{_0x541de4=0x2235+-0xfd*-0x1f+-0x14*0x33e;continue;}}}for(let _0xb2047e=0x4d6*-0x6+-0xdcd*0x1+0x2ad1;_0xb2047e<_0x541de4;_0xb2047e++)_0x556f70[_0xb2047e+_0x68d97e]=_0x4357ec[_0x52dc35+_0xb2047e]+_0x48c9e0+_0x338b8e;_0x68d97e+=_0x541de4,_0x338b8e+=_0x43dec5;}_0xc5d31e=new Ge(this['device']);for(_0x582237 in _0x114856)_0x146dc1=_0x114856[_0x582237],_0xc5d31e['setVertexS'+'tream'](_0x582237,_0x146dc1['buffer'],_0x146dc1['numCompone'+'nts'],void(0xd*-0x1e7+0xa16+0xa3*0x17),_0x146dc1['dataType'],_0x146dc1['normalize']);_0x556f70['length']>-0x1*-0x443+-0x111b*-0x1+-0x155e&&_0xc5d31e['setIndices'](_0x556f70),_0xc5d31e['update'](js,!(0x68*0x52+0x1*-0x2589+0x43a)),_0x42d603&&(_0x316c77=_0x316c77['clone'](),_0x316c77['update']());const _0x14bea0=new He(_0xc5d31e,_0x316c77,this['rootNode']);_0x14bea0['castShadow']=_0x191a90['origMeshIn'+'stances'][-0x15a+-0x16b*0x6+0x1*0x9dc]['castShadow'],_0x14bea0['parameters']=_0x191a90['origMeshIn'+'stances'][0x90*-0x3e+-0x16d9+0x39b9]['parameters'],_0x14bea0['layer']=_0x191a90['origMeshIn'+'stances'][0x73f+0xdfb+-0x153a]['layer'],_0x14bea0['_shaderDef'+'s']=_0x191a90['origMeshIn'+'stances'][0x1*-0x269f+0x8ad+0x1df2]['_shaderDef'+'s'],_0x14bea0['batching']=!(0x1b25+0x79d*0x4+-0x3999),_0x14bea0['cull']=_0x191a90['origMeshIn'+'stances'][0x10c*-0xd+-0x1*0x1dc5+0x1*0x2b61]['cull'];const _0x241796=this['_batchGrou'+'ps'][_0x56614e];if(_0x241796&&_0x241796['_ui']&&(_0x14bea0['cull']=!(0x5*0x66b+0x71*-0x35+0x5*-0x1bd)),_0x42d603){const _0x13b6dd=[];for(let _0x93391a=-0x1c49+-0x2001+-0x1e25*-0x2;_0x93391a<_0x191a90['origMeshIn'+'stances']['length'];_0x93391a++)_0x13b6dd['push'](_0x191a90['origMeshIn'+'stances'][_0x93391a]['node']);_0x14bea0['skinInstan'+'ce']=new y_(this['device'],_0x13b6dd,this['rootNode']);}_0x14bea0['_updateAab'+'b']=!(-0x158*-0xd+0x47*0x27+-0x1c48),_0x14bea0['drawOrder']=_0x191a90['origMeshIn'+'stances'][-0x3*-0xc73+-0x972+-0x1be7]['drawOrder'],_0x14bea0['stencilFro'+'nt']=_0x191a90['origMeshIn'+'stances'][0x15b*0x3+0x234*-0xd+0x1893]['stencilFro'+'nt'],_0x14bea0['stencilBac'+'k']=_0x191a90['origMeshIn'+'stances'][0x1*-0x1e1+-0x10d3+-0xe*-0x156]['stencilBac'+'k'],_0x14bea0['flipFacesF'+'actor']=jd(_0x191a90['origMeshIn'+'stances'][-0x1a4b+-0x1*-0x136c+0x6df*0x1]),_0x14bea0['castShadow']=_0x191a90['origMeshIn'+'stances'][-0x23f0+-0x1b4*0x2+0x2758]['castShadow'],_0x191a90['meshInstan'+'ce']=_0x14bea0,_0x191a90['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=de()-_0x168b10,_0x191a90;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>-0xc74+-0xce5*-0x2+-0xd56&&this['generate'](this['_dirtyGrou'+'ps']);const _0x134c33=de();for(let _0x1bec52=0x1c20+-0x2b+-0x1bf5;_0x1bec52<this['_batchList']['length'];_0x1bec52++)this['_batchList'][_0x1bec52]['dynamic']&&this['_batchList'][_0x1bec52]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=de()-_0x134c33;}['clone'](_0x4b6426,_0x51793e){const _0x42d606=new g_(_0x51793e,_0x4b6426['dynamic'],_0x4b6426['batchGroup'+'Id']);this['_batchList']['push'](_0x42d606);const _0x44f5bd=[];for(let _0x2fbb73=0x3e7+0x959*-0x2+0xecb;_0x2fbb73<_0x51793e['length'];_0x2fbb73++)_0x44f5bd['push'](_0x51793e[_0x2fbb73]['node']);return _0x42d606['meshInstan'+'ce']=new He(_0x4b6426['meshInstan'+'ce']['mesh'],_0x4b6426['meshInstan'+'ce']['material'],_0x4b6426['meshInstan'+'ce']['node']),_0x42d606['meshInstan'+'ce']['_updateAab'+'b']=!(0x1a*0x107+0x6*0x2db+0x81*-0x57),_0x42d606['meshInstan'+'ce']['parameters']=_0x51793e[0xbd4+0x2*0x1ba+-0x7a4*0x2]['parameters'],_0x42d606['meshInstan'+'ce']['cull']=_0x51793e[0xcf9*-0x2+0xac3+0xf2f]['cull'],_0x42d606['meshInstan'+'ce']['layer']=_0x51793e[0x68*0x44+-0xa2a+-0x1176]['layer'],_0x4b6426['dynamic']&&(_0x42d606['meshInstan'+'ce']['skinInstan'+'ce']=new y_(this['device'],_0x44f5bd,this['rootNode'])),_0x42d606['meshInstan'+'ce']['castShadow']=_0x4b6426['meshInstan'+'ce']['castShadow'],_0x42d606;}['destroyBat'+'ch'](_0x4e9b01){_0x4e9b01['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x4e9b01['batchGroup'+'Id']]['layers']);}}const P_='uSceneColo'+'rMap';class LE extends ys{constructor(){super(...arguments),h(this,'colorRende'+'rTarget',null),h(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x5239ce,_0x24881d,_0x393a03){if((_0x5239ce==null?void(-0x1b94+-0x1f3f+0x3ad3):_0x5239ce['colorBuffe'+'r']['format'])!==_0x393a03)return!(-0x11a+0x2547+-0x7*0x52b);const _0x47d28b=(_0x24881d==null?void(0x24b*-0x1+0x79d+-0x1*0x552):_0x24881d['width'])||this['device']['width'],_0x1f0df5=(_0x24881d==null?void(0x4e*0x5d+-0x1b*-0x9d+-0x2ce5):_0x24881d['height'])||this['device']['height'];return!_0x5239ce||_0x47d28b!==_0x5239ce['width']||_0x1f0df5!==_0x5239ce['height'];}['allocateRe'+'nderTarget'](_0x2c7e37,_0x89dd65,_0x31148a,_0x58da15){const _0x3ba178=new _e(_0x31148a,{'name':P_,'format':_0x58da15,'width':_0x89dd65?_0x89dd65['colorBuffe'+'r']['width']:_0x31148a['width'],'height':_0x89dd65?_0x89dd65['colorBuffe'+'r']['height']:_0x31148a['height'],'mipmaps':!(0x1*-0x42d+0x1d5*-0x11+0x2352),'minFilter':ma,'magFilter':vt,'addressU':ue,'addressV':ue});return _0x2c7e37?(_0x2c7e37['destroyFra'+'meBuffers'](),_0x2c7e37['_colorBuff'+'er']=_0x3ba178,_0x2c7e37['_colorBuff'+'ers']=[_0x3ba178]):_0x2c7e37=new gt({'name':'ColorGrabR'+'T','colorBuffer':_0x3ba178,'depth':!(-0xfc3+-0x691+0x1655),'stencil':!(0x56*0x3+-0xd27+0xc26),'autoResolve':!(-0x13ed*0x1+0x19dd+-0x5ef)}),_0x2c7e37;}['releaseRen'+'derTarget'](_0x53ed75){_0x53ed75&&(_0x53ed75['destroyTex'+'tureBuffer'+'s'](),_0x53ed75['destroy']());}['frameUpdat'+'e'](){const _0x4b5232=this['device'],_0x336259=this['source'],_0x39e79e=(_0x336259==null?void(0x27d*-0x7+0xc9*0x6+0xcb5):_0x336259['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x336259==null?void(0x15de+0x1201*0x1+-0x27df):_0x336259['colorBuffe'+'r'],_0x39e79e)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x336259,_0x4b5232,_0x39e79e));const _0x52df24=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x4b5232['scope']['resolve'](P_)['setValue'](_0x52df24);}['execute'](){const _0x38235a=this['device'];Q['pushGpuMar'+'ker'](_0x38235a,'GRAB-COLOR');const _0x2c00d1=this['source'],_0x55279=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x38235a['isWebGPU']?(_0x38235a['copyRender'+'Target'](_0x2c00d1,this['colorRende'+'rTarget'],!(-0x377*-0x3+-0x254f+0x2*0xd75),!(0x657+0x21c6+-0x281c)),_0x38235a['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x38235a['copyRender'+'Target'](_0x2c00d1,this['colorRende'+'rTarget'],!(0x1a21*-0x1+-0x268e+0x23b*0x1d),!(-0x4b9*0x8+-0x24b7+0x4a80)),_0x38235a['activeText'+'ure'](_0x38235a['maxCombine'+'dTextures']-(0x67*-0x24+0x3*0x9ef+0x31*-0x50)),_0x38235a['bindTextur'+'e'](_0x55279),_0x38235a['gl']['generateMi'+'pmap'](_0x55279['impl']['_glTarget'])),Q['popGpuMark'+'er'](_0x38235a);}}const M_='uSceneDept'+'hMap';class RE extends ys{constructor(_0x182cba,_0xa3c8b8){super(_0x182cba),h(this,'depthRende'+'rTarget',null),h(this,'camera',null),this['camera']=_0xa3c8b8;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x24d8d3,_0x2f6435){const _0x3577bc=(_0x2f6435==null?void(0x17bf*-0x1+-0x171*-0x15+-0x686):_0x2f6435['width'])||this['device']['width'],_0x8d8ca5=(_0x2f6435==null?void(-0x84a*-0x3+-0x90f+-0xfcf):_0x2f6435['height'])||this['device']['height'];return!_0x24d8d3||_0x3577bc!==_0x24d8d3['width']||_0x8d8ca5!==_0x24d8d3['height'];}['allocateRe'+'nderTarget'](_0x453974,_0x1753ba,_0x3d8066,_0x454d86,_0x5264c0){const _0x522585=new _e(_0x3d8066,{'name':M_,'format':_0x454d86,'width':_0x1753ba?_0x1753ba['colorBuffe'+'r']['width']:_0x3d8066['width'],'height':_0x1753ba?_0x1753ba['colorBuffe'+'r']['height']:_0x3d8066['height'],'mipmaps':!(0x1983*-0x1+-0x5f*-0x5f+-0x9bd),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});return _0x453974?(_0x453974['destroyFra'+'meBuffers'](),_0x5264c0?_0x453974['_depthBuff'+'er']=_0x522585:(_0x453974['_colorBuff'+'er']=_0x522585,_0x453974['_colorBuff'+'ers']=[_0x522585])):_0x453974=new gt({'name':'DepthGrabR'+'T','colorBuffer':_0x5264c0?null:_0x522585,'depthBuffer':_0x5264c0?_0x522585:null,'depth':!_0x5264c0,'stencil':_0x3d8066['supportsSt'+'encil'],'autoResolve':!(0x20dc+0x15f3*0x1+0x3d*-0xe6)}),_0x453974;}['releaseRen'+'derTarget'](_0x595ebc){_0x595ebc&&(_0x595ebc['destroyTex'+'tureBuffer'+'s'](),_0x595ebc['destroy']());}['before'](){var _0x5dcc3d,_0x123671;const _0x198ae8=this['camera'],_0x329a01=this['device'],_0x47fb36=(_0x198ae8==null?void(0x1fe2+-0x1*0x12b5+-0xd2d):_0x198ae8['renderTarg'+'et'])??_0x329a01['backBuffer'];let _0x30dd6b=!(0x7*-0x3ec+0x17b4+-0x8*-0x78),_0x15b9b5=_0x47fb36['stencil']?sd:$i;_0x329a01['isWebGPU']&&_0x47fb36['samples']>-0x5bd+0x1a8b+-0x14cd&&(_0x15b9b5=Ji,_0x30dd6b=!(0x20c5*0x1+0x19e8+-0x3aac));const _0x1a0745=((_0x5dcc3d=_0x198ae8['renderTarg'+'et'])==null?void(0x23d8+-0x252f*-0x1+0x5*-0xe9b):_0x5dcc3d['depthBuffe'+'r'])??((_0x123671=_0x198ae8['renderTarg'+'et'])==null?void(0x1e6b*0x1+-0x13*-0x1fe+-0x1*0x4445):_0x123671['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x1a0745)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x198ae8['renderTarg'+'et'],_0x329a01,_0x15b9b5,_0x30dd6b));const _0x1b0e7a=_0x30dd6b?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x329a01['scope']['resolve'](M_)['setValue'](_0x1b0e7a);}['execute'](){const _0xdd32ac=this['device'];if(Q['pushGpuMar'+'ker'](_0xdd32ac,'GRAB-DEPTH'),_0xdd32ac['isWebGL2']&&_0xdd32ac['renderTarg'+'et']['samples']>-0xa54+-0x2c*0x93+0x2399*0x1){const _0x43f626=_0xdd32ac['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x566fd8=this['depthRende'+'rTarget'];_0xdd32ac['renderTarg'+'et']=_0x566fd8,_0xdd32ac['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0xdd32ac,_0x43f626,_0x566fd8['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0xdd32ac['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0xdd32ac['copyRender'+'Target'](_0xdd32ac['renderTarg'+'et'],this['depthRende'+'rTarget'],!(-0x506+0x17b0+-0x12a9),!(0x1db8+0x1*0xd9+-0x5*0x61d));Q['popGpuMark'+'er'](_0xdd32ac);}}class vv{constructor(){h(this,'_gammaCorr'+'ection',Xc),h(this,'_toneMappi'+'ng',sm),h(this,'_srgbRende'+'rTarget',!(-0xfd7+-0x1d3+0x11ab)),h(this,'_ssaoEnabl'+'ed',!(0x1*-0xb57+0x780+0x8*0x7b)),h(this,'_fog',Kn),h(this,'_sceneDept'+'hMapLinear',!(-0x14c9*-0x1+0x1110+-0x25d8)),h(this,'_hash'),h(this,'_defines',new Map()),h(this,'_definesDi'+'rty',!(0x1c69*-0x1+0x143*0x13+0x470));}get['hash'](){if(this['_hash']===void(-0xa0d*-0x1+-0x1*-0xd19+0xb93*-0x2)){const _0x142fa7=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hi(_0x142fa7);}return this['_hash'];}get['defines'](){const _0x4e138e=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0x2329*-0x1+-0xf*-0x1fd+-0x3*0x15a9),_0x4e138e['clear'](),this['_sceneDept'+'hMapLinear']&&_0x4e138e['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(0x7*0x521+-0x29*0x52+-0x3*0x797)),_0x4e138e['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x4e138e['set']('TONEMAP',ov[this['_toneMappi'+'ng']]),_0x4e138e['set']('GAMMA',Hw[this['shaderOutp'+'utGamma']])),_0x4e138e;}['markDirty'](){this['_hash']=void(0x225*-0x2+0x84c+-0x402),this['_definesDi'+'rty']=!(-0x85d*0x4+0x43*-0x93+0x47ed*0x1);}set['fog'](_0xa189bc){this['_fog']!==_0xa189bc&&(this['_fog']=_0xa189bc,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x5bdaa7){this['_ssaoEnabl'+'ed']!==_0x5bdaa7&&(this['_ssaoEnabl'+'ed']=_0x5bdaa7,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x4bc564){this['_gammaCorr'+'ectionAssi'+'gned']=!(-0x161*-0x11+-0x1a0b+0x29a),this['_gammaCorr'+'ection']!==_0x4bc564&&(this['_gammaCorr'+'ection']=_0x4bc564,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x5159ea){this['_toneMappi'+'ng']!==_0x5159ea&&(this['_toneMappi'+'ng']=_0x5159ea,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x4a206f){this['_srgbRende'+'rTarget']!==_0x4a206f&&(this['_srgbRende'+'rTarget']=_0x4a206f,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x1226c2){this['_sceneDept'+'hMapLinear']!==_0x1226c2&&(this['_sceneDept'+'hMapLinear']=_0x1226c2,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===Xc&&!this['_srgbRende'+'rTarget']?Xc:Ll;}}const La=new D(),ao=new D(),D_=new D(),I_=new te(),OE=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()];class Fl{constructor(){h(this,'shaderPass'+'Info',null),h(this,'renderPass'+'ColorGrab',null),h(this,'renderPass'+'DepthGrab',null),h(this,'fogParams',null),h(this,'shaderPara'+'ms',new vv()),h(this,'renderPass'+'es',[]),h(this,'jitter',-0x1224+0x1ba6+-0x4c1*0x2),(this['_aspectRat'+'io']=(-0x79*-0x3b+0x13e6+-0x2fb9)/(0x1e5b+0x1*-0x25ce+0x77c),this['_aspectRat'+'ioMode']=hm,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new ie(-0x214c+-0x3f7+0x2543*0x1+0.75,0x7cc+0x95*-0x21+0x17*0x7f+0.75,0x1d51+-0x286*0xd+0x37d+0.75,0x58e+0x1a*0x1a+-0x831),this['_clearColo'+'rBuffer']=!(0x5*0x3b9+0x1b55*-0x1+-0x6*-0x174),this['_clearDept'+'h']=-0x2f*0x7b+0xb06+-0x1*-0xb90,this['_clearDept'+'hBuffer']=!(-0xb5*-0x17+0x1c64+-0x7*0x661),this['_clearSten'+'cil']=0x14b*0x3+-0x1b0d+0x4*0x5cb,this['_clearSten'+'cilBuffer']=!(0x1*0x1216+0x8d9+-0x1aef),this['_cullFaces']=!(-0x10*0x1f0+0x7ff+0x3*0x7ab),this['_farClip']=0x1943+-0x2430+0x1*0xed5,this['_flipFaces']=!(-0x1cc5+0x1*-0xe16+0x34c*0xd),this['_fov']=-0x6f8*0x4+-0x16bf+0x32cc,this['_frustumCu'+'lling']=!(-0x88a*-0x1+0x2bd*0x1+-0xb47),this['_horizonta'+'lFov']=!(-0x239b+0xbd*-0xb+0x8bf*0x5),this['_layers']=[er,ps,Kp,Il,Zp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=0x843+-0x36e*-0x8+-0x23b3+0.1,this['_node']=null,this['_orthoHeig'+'ht']=0x2*0x135d+0xc13+0x235*-0x17,this['_projectio'+'n']=ni,this['_rect']=new re(-0x46a*-0x2+0x15c8+-0xc*0x28d,-0xe3e+-0x10*-0x223+-0x13f2,0x375*-0x5+0x1f4b+-0xe01,0x92*-0x21+-0x7*-0x363+-0x4e2),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new re(-0x13a8+-0x15a0+0x2948,-0x15c4+-0x1292*-0x2+0x52*-0x30,0x14da+-0x1d*-0xf6+-0x103d*0x3,0x234b+0x11*0x81+-0x2bdb),this['_scissorRe'+'ctClear']=!(-0x1*0xf43+-0x8cf+0x1813),this['_aperture']=-0x12e6+0x56e*-0x1+0x1864,this['_shutter']=(0x3*-0xd9+-0x1ecf*-0x1+-0x1c43)/(-0x1fa3+0x15*-0x173+0x41fa),this['_sensitivi'+'ty']=0x1fb*-0xe+0x2*0xd1d+0x568,this['_projMat']=new te(),this['_projMatDi'+'rty']=!(0x905+0x105+-0x202*0x5),this['_projMatSk'+'ybox']=new te(),this['_viewMat']=new te(),this['_viewMatDi'+'rty']=!(-0x12e6+0x25aa+-0x12c4),this['_viewProjM'+'at']=new te(),this['_viewProjM'+'atDirty']=!(-0x116a+0x187+-0x31*-0x53),this['_shaderMat'+'ricesVersi'+'on']=-0x674*0x1+0x32b*-0xa+-0x1311*-0x2,this['_viewProjI'+'nverse']=new te(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new te(),this['_jitters']=[0x1b5d+-0x1294+-0x8c9*0x1,0x1bd9+-0x416+-0x17c3,0x26*0x9e+-0x21*0xbd+-0x1*-0xe9,0x6f4+0xc9*-0x1b+-0xe3f*-0x1],this['frustum']=new yx(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0xb701ae,_0x16975f;(_0xb701ae=this['renderPass'+'ColorGrab'])==null||_0xb701ae['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x16975f=this['renderPass'+'DepthGrab'])==null||_0x16975f['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=-0x79b+-0x62*0x3f+0x1fb9;}['_storeShad'+'erMatrices'](_0x12ed65,_0x3de528,_0x41d36c,_0x15d28b){this['_shaderMat'+'ricesVersi'+'on']!==_0x15d28b&&(this['_shaderMat'+'ricesVersi'+'on']=_0x15d28b,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x12ed65),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new te()),this['_viewProjC'+'urrent']['copy'](_0x12ed65),this['_viewProjI'+'nverse']['invert'](_0x12ed65),this['_jitters'][0x413+0x1700+-0xd*0x215]=this['_jitters'][-0x515*-0x1+-0x22e0+0x1dcb],this['_jitters'][-0x99b+-0x3c*-0x25+0x1*0xf2]=this['_jitters'][0x4*0x512+0xd77+-0x7*0x4d2],this['_jitters'][-0x2636+-0x5b6+0x2bec]=_0x3de528,this['_jitters'][0x23a8+-0x1*0xeb9+-0x14ee]=_0x41d36c);}get['fullSizeCl'+'earRect'](){const _0x1793c1=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x1793c1['x']===-0x1*-0x1df3+0x8e*0x28+-0x9*0x5cb&&_0x1793c1['y']===0x267b+0xc7*0x2d+-0x4976&&_0x1793c1['z']===0x85f*0x3+-0x223b+0x91f&&_0x1793c1['w']===-0x53*-0x25+0x1d52+-0x2950;}set['aspectRati'+'o'](_0x834409){this['_aspectRat'+'io']!==_0x834409&&(this['_aspectRat'+'io']=_0x834409,this['_projMatDi'+'rty']=!(0x1bc*-0x1+-0x1b5f+0x1d1b));}get['aspectRati'+'o'](){var _0x4cfd98;return(_0x4cfd98=this['xr'])!=null&&_0x4cfd98['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x50c38b){this['_aspectRat'+'ioMode']!==_0x50c38b&&(this['_aspectRat'+'ioMode']=_0x50c38b,this['_projMatDi'+'rty']=!(0x55*-0x59+0x1c42+-0x14b*-0x1));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x462ab7){this['_calculate'+'Projection']=_0x462ab7,this['_projMatDi'+'rty']=!(0x82*0x5+0x3*-0xa2b+0x1bf7*0x1);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x4cf358){this['_calculate'+'Transform']=_0x4cf358;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0x5afdb5){this['_clearColo'+'r']['copy'](_0x5afdb5);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x253ec9){this['_clearColo'+'rBuffer']=_0x253ec9;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x45c0f6){this['_clearDept'+'h']=_0x45c0f6;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x3dfd9e){this['_clearDept'+'hBuffer']=_0x3dfd9e;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x444f30){this['_clearSten'+'cil']=_0x444f30;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x18308b){this['_clearSten'+'cilBuffer']=_0x18308b;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x1a8c8f){this['_cullFaces']=_0x1a8c8f;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x171791){this['_farClip']!==_0x171791&&(this['_farClip']=_0x171791,this['_projMatDi'+'rty']=!(-0x2469+0x1*-0x47b+0x28e4));}get['farClip'](){var _0x240c9a;return(_0x240c9a=this['xr'])!=null&&_0x240c9a['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x26cb86){this['_flipFaces']=_0x26cb86;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x261e61){this['_fov']!==_0x261e61&&(this['_fov']=_0x261e61,this['_projMatDi'+'rty']=!(-0x1feb*-0x1+0xe6e+-0x15*0x235));}get['fov'](){var _0x205caf;return(_0x205caf=this['xr'])!=null&&_0x205caf['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x2fe8af){this['_frustumCu'+'lling']=_0x2fe8af;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x576892){this['_horizonta'+'lFov']!==_0x576892&&(this['_horizonta'+'lFov']=_0x576892,this['_projMatDi'+'rty']=!(-0x23*0x3b+0x1*-0x827+-0x1*-0x1038));}get['horizontal'+'Fov'](){var _0x550799;return(_0x550799=this['xr'])!=null&&_0x550799['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x389263){this['_layers']=_0x389263['slice'](-0x4d5*0x8+0x1522+0x1186),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x4de7b1){this['_nearClip']!==_0x4de7b1&&(this['_nearClip']=_0x4de7b1,this['_projMatDi'+'rty']=!(0x4ad+-0xa3*-0x14+-0x1169));}get['nearClip'](){var _0x5952df;return(_0x5952df=this['xr'])!=null&&_0x5952df['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0x44cbd6){this['_node']=_0x44cbd6;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0xed6023){this['_orthoHeig'+'ht']!==_0xed6023&&(this['_orthoHeig'+'ht']=_0xed6023,this['_projMatDi'+'rty']=!(0x143a+0x1edd*-0x1+-0x185*-0x7));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x43cddc){this['_projectio'+'n']!==_0x43cddc&&(this['_projectio'+'n']=_0x43cddc,this['_projMatDi'+'rty']=!(0x2423+0x1747+-0xa*0x5f1));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x2cd609){this['_rect']['copy'](_0x2cd609);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x3a9d0d){this['_renderTar'+'get']=_0x3a9d0d;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x44a6ac){this['_scissorRe'+'ct']['copy'](_0x44a6ac);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x330c6f=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x330c6f)['invert'](),this['_viewMatDi'+'rty']=!(-0x1594+-0x1620+0x1*0x2bb5);}return this['_viewMat'];}set['aperture'](_0x15da5b){this['_aperture']=_0x15da5b;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x1ff4f5){this['_sensitivi'+'ty']=_0x1ff4f5;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0xcf1180){this['_shutter']=_0xcf1180;}get['shutter'](){return this['_shutter'];}set['xr'](_0x3fd214){this['_xr']!==_0x3fd214&&(this['_xr']=_0x3fd214,this['_projMatDi'+'rty']=!(-0x127d*-0x2+-0x3b*0x59+-0x1077));}get['xr'](){return this['_xr'];}['clone'](){return new Fl()['copy'](this);}['copy'](_0x56a4bb){return this['_aspectRat'+'io']=_0x56a4bb['_aspectRat'+'io'],this['_farClip']=_0x56a4bb['_farClip'],this['_fov']=_0x56a4bb['_fov'],this['_horizonta'+'lFov']=_0x56a4bb['_horizonta'+'lFov'],this['_nearClip']=_0x56a4bb['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x56a4bb['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x56a4bb['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x56a4bb['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x56a4bb['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x56a4bb['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x56a4bb['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x56a4bb['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x56a4bb['calculateT'+'ransform'],this['clearColor']=_0x56a4bb['clearColor'],this['clearColor'+'Buffer']=_0x56a4bb['clearColor'+'Buffer'],this['clearDepth']=_0x56a4bb['clearDepth'],this['clearDepth'+'Buffer']=_0x56a4bb['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x56a4bb['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x56a4bb['clearStenc'+'ilBuffer'],this['cullFaces']=_0x56a4bb['cullFaces'],this['flipFaces']=_0x56a4bb['flipFaces'],this['frustumCul'+'ling']=_0x56a4bb['frustumCul'+'ling'],this['layers']=_0x56a4bb['layers'],this['orthoHeigh'+'t']=_0x56a4bb['orthoHeigh'+'t'],this['projection']=_0x56a4bb['projection'],this['rect']=_0x56a4bb['rect'],this['renderTarg'+'et']=_0x56a4bb['renderTarg'+'et'],this['scissorRec'+'t']=_0x56a4bb['scissorRec'+'t'],this['aperture']=_0x56a4bb['aperture'],this['shutter']=_0x56a4bb['shutter'],this['sensitivit'+'y']=_0x56a4bb['sensitivit'+'y'],this['shaderPass'+'Info']=_0x56a4bb['shaderPass'+'Info'],this['jitter']=_0x56a4bb['jitter'],this['_projMatDi'+'rty']=!(-0x15ca+0x1b44+0x2*-0x2bd),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x6c4dfd,_0x425b56){var _0x24bbcb;_0x425b56?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new LE(_0x6c4dfd)):((_0x24bbcb=this['renderPass'+'ColorGrab'])==null||_0x24bbcb['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x574d54,_0x2b7ecc,_0x495869){var _0x522cfa;_0x495869?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new RE(_0x574d54,this)):((_0x522cfa=this['renderPass'+'DepthGrab'])==null||_0x522cfa['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(0xfcb+-0x1a80+-0x1*-0xab6));}['worldToScr'+'een'](_0x139972,_0xdfc3c6,_0x390816,_0x43b141=new D()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x139972,_0x43b141);const _0x41defc=this['_viewProjM'+'at']['data'],_0x3db9bb=_0x139972['x']*_0x41defc[-0x6a9+-0xe41+-0x1*-0x14ed]+_0x139972['y']*_0x41defc[-0x1e9+-0x1420+0x1610]+_0x139972['z']*_0x41defc[-0x66f+-0x550+0x5e5*0x2]+(-0x1*0x2d7+-0x1f0b+0x21e3)*_0x41defc[0x1cfd+0x369*0x8+0x59f*-0xa];_0x43b141['x']=(_0x43b141['x']/_0x3db9bb+(0xa5*-0x4+-0x1dd7*0x1+-0x19f*-0x14))*(-0x1b90+-0x3*-0x807+-0x21*-0x1b+0.5),_0x43b141['y']=(-0xe2*-0x5+-0x2270+-0x1e07*-0x1-_0x43b141['y']/_0x3db9bb)*(0x1*-0x1ee2+-0xd3*-0x29+-0x2e9+0.5);const {x:_0x4157c8,y:_0x7195ae,z:_0x5decf6,w:_0x2a5b0f}=this['_rect'];return _0x43b141['x']=_0x43b141['x']*_0x5decf6*_0xdfc3c6+_0x4157c8*_0xdfc3c6,_0x43b141['y']=_0x43b141['y']*_0x2a5b0f*_0x390816+(-0x10c2+0x1b99+0xad6*-0x1-_0x7195ae-_0x2a5b0f)*_0x390816,_0x43b141;}['screenToWo'+'rld'](_0x5837b0,_0x548a5e,_0x1a4cdb,_0x707c34,_0x422385,_0x5c9139=new D()){const {x:_0x48cd02,y:_0x29c80c,z:_0x23bc4e,w:_0x1fde30}=this['_rect'],_0x3973b0=this['farClip']-this['nearClip'];if(La['set']((_0x5837b0-_0x48cd02*_0x707c34)/(_0x23bc4e*_0x707c34),0x1f3e*0x1+-0x16e1*0x1+-0x85c-(_0x548a5e-(0x40c+-0x2*0x71a+0xa29-_0x29c80c-_0x1fde30)*_0x422385)/(_0x1fde30*_0x422385),_0x1a4cdb/_0x3973b0),La['mulScalar'](0x112*0x1a+0x1f0+-0x1dc2),La['sub'](D['ONE']),this['_projectio'+'n']===ni){te['_getPerspe'+'ctiveHalfS'+'ize'](ao,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),ao['x']*=La['x'],ao['y']*=La['y'];const _0x362e56=this['_node']['getWorldTr'+'ansform']();ao['z']=-this['nearClip'],_0x362e56['transformP'+'oint'](ao,D_);const _0x3c8825=this['_node']['getPositio'+'n']();_0x5c9139['sub2'](D_,_0x3c8825),_0x5c9139['normalize'](),_0x5c9139['mulScalar'](_0x1a4cdb),_0x5c9139['add'](_0x3c8825);}else this['_updateVie'+'wProjMat'](),I_['copy'](this['_viewProjM'+'at'])['invert'](),I_['transformP'+'oint'](La,_0x5c9139);return _0x5c9139;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===ni)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x3ceb85=this['_orthoHeig'+'ht'],_0x29cdb2=_0x3ceb85*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x29cdb2,_0x29cdb2,-_0x3ceb85,_0x3ceb85,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0x193f+-0x3*0x986+-0x1ae9*-0x2);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x532973=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(0x1234+-0x261d+0x144d)/this['_sensitivi'+'ty']);return(-0x907+0x2*0x3ce+0x16c)/(Math['pow'](0xa*-0x2a7+0x7a*0xa+-0x1*-0x15c4,_0x532973)*(-0x1*0x466+0x1*0xc41+-0x2*0x3ed+0.19999999999999996));}['getScreenS'+'ize'](_0x31074f){if(this['_projectio'+'n']===ni){const _0x419ab1=this['_node']['getPositio'+'n']()['distance'](_0x31074f['center']);if(_0x419ab1<_0x31074f['radius'])return-0x4*-0x6f+0x7b5*-0x2+0x1*0xdaf;const _0x47c8ac=Math['asin'](_0x31074f['radius']/_0x419ab1),_0x32dd28=Math['tan'](_0x47c8ac),_0x2cb82d=Math['tan'](this['fov']/(-0x260f+-0xa2e*0x1+0x303f)*Y['DEG_TO_RAD']);return Math['min'](_0x32dd28/_0x2cb82d,-0x1cc2*0x1+-0x3d9*-0x7+0x24*0xd);}return Y['clamp'](_0x31074f['radius']/this['_orthoHeig'+'ht'],-0x604*-0x5+-0x4bb*0x5+-0x66d,-0xc58+-0x21ba+-0x7*-0x695);}['getFrustum'+'Corners'](_0x40a28f=this['nearClip'],_0x56a825=this['farClip']){const _0x593474=this['fov']*Math['PI']/(-0x1*-0x85d+0x269f+-0xb92*0x4);let _0x55c87f,_0x3c17e6;this['projection']===ni?this['horizontal'+'Fov']?(_0x55c87f=_0x40a28f*Math['tan'](_0x593474/(0xca5+-0xeb6+-0xb1*-0x3)),_0x3c17e6=_0x55c87f/this['aspectRati'+'o']):(_0x3c17e6=_0x40a28f*Math['tan'](_0x593474/(0x2204+0x4*0x7bf+-0x15aa*0x3)),_0x55c87f=_0x3c17e6*this['aspectRati'+'o']):(_0x3c17e6=this['_orthoHeig'+'ht'],_0x55c87f=_0x3c17e6*this['aspectRati'+'o']);const _0x13408a=OE;return _0x13408a[0x55*0x3d+0x77d+0xddf*-0x2]['x']=_0x55c87f,_0x13408a[-0x193b*0x1+0x2*-0x41b+0x2171]['y']=-_0x3c17e6,_0x13408a[-0x87f+-0xdc2+0x1641]['z']=-_0x40a28f,_0x13408a[0xf*-0x27f+-0x7*-0x335+0xeff]['x']=_0x55c87f,_0x13408a[-0x1d37+-0x8*-0x10+0x1cb8]['y']=_0x3c17e6,_0x13408a[-0x7a*0x5+0xef*-0xa+0xbb9]['z']=-_0x40a28f,_0x13408a[0x743+0x1*0x221+-0x962]['x']=-_0x55c87f,_0x13408a[0x2*0xa46+0x1b8c+-0x3016]['y']=_0x3c17e6,_0x13408a[-0x98*0x26+-0x9ed+0x207f]['z']=-_0x40a28f,_0x13408a[-0xe6*-0x14+0x3*-0x233+-0xb5c]['x']=-_0x55c87f,_0x13408a[0x76e+-0xfb*-0x1b+-0x21e4]['y']=-_0x3c17e6,_0x13408a[-0x2401+-0xa07+0x2e0b]['z']=-_0x40a28f,this['_projectio'+'n']===ni&&(this['horizontal'+'Fov']?(_0x55c87f=_0x56a825*Math['tan'](_0x593474/(0x1*-0x430+0x1*-0x49d+0x8cf)),_0x3c17e6=_0x55c87f/this['aspectRati'+'o']):(_0x3c17e6=_0x56a825*Math['tan'](_0x593474/(-0x1345+-0xf43+0x228a)),_0x55c87f=_0x3c17e6*this['aspectRati'+'o'])),_0x13408a[-0x2137+-0xe71+0x2fac]['x']=_0x55c87f,_0x13408a[-0x1591+0x3*-0x728+0x2b0d]['y']=-_0x3c17e6,_0x13408a[-0x1298+-0x8e2+-0x66*-0x45]['z']=-_0x56a825,_0x13408a[-0x9*0x344+-0xc3b+-0x29a4*-0x1]['x']=_0x55c87f,_0x13408a[-0x2127*0x1+0xe72+-0x1*-0x12ba]['y']=_0x3c17e6,_0x13408a[-0x1*-0x645+-0x33c*0xb+0x1*0x1d54]['z']=-_0x56a825,_0x13408a[0x1*-0x1471+-0x1516+0x298d]['x']=-_0x55c87f,_0x13408a[0x711+0x111a+-0x1825*0x1]['y']=_0x3c17e6,_0x13408a[0x110e*0x1+0x3*-0x7c8+0x650]['z']=-_0x56a825,_0x13408a[-0x15af+-0x67+0x161d]['x']=-_0x55c87f,_0x13408a[-0x24c5+-0x26cd+0x4b99]['y']=-_0x3c17e6,_0x13408a[0x1dc8+-0x14d2+-0x8ef]['z']=-_0x56a825,_0x13408a;}['setXrPrope'+'rties'](_0x209f86){Object['assign'](this['_xrPropert'+'ies'],_0x209f86),this['_projMatDi'+'rty']=!(-0x10a7+0x1e73*0x1+-0xdcc);}}const L_=new te(),R_=new te(),O_=new te(),gr=class gr{static['create'](_0xb2007e,_0x1080fe,_0x303d46){const _0x24d6cb=new Fl();switch(_0x24d6cb['node']=new Ie(_0xb2007e),_0x24d6cb['aspectRati'+'o']=-0x1*0x1dcd+-0x385+0x2153,_0x24d6cb['aspectRati'+'oMode']=lu,_0x24d6cb['_scissorRe'+'ctClear']=!(-0xeef+0x1*-0x334+0x1223),_0x1080fe){case Ke:_0x24d6cb['node']['setRotatio'+'n'](gr['pointLight'+'Rotations'][_0x303d46]),_0x24d6cb['fov']=0x94b+0x61*0x61+0x2*-0x16d9,_0x24d6cb['projection']=ni;break;case Ze:_0x24d6cb['projection']=ni;break;case ve:_0x24d6cb['projection']=En;break;}return _0x24d6cb;}static['evalSpotCo'+'okieMatrix'](_0x3749a3){let _0x571d41=gr['_spotCooki'+'eCamera'];_0x571d41||(_0x571d41=gr['create']('SpotCookie'+'Camera',Ze),gr['_spotCooki'+'eCamera']=_0x571d41),_0x571d41['fov']=_0x3749a3['_outerCone'+'Angle']*(-0x51a+-0x5*-0x49+0x3af);const _0x5ccde3=_0x571d41['_node'];_0x5ccde3['setPositio'+'n'](_0x3749a3['_node']['getPositio'+'n']()),_0x5ccde3['setRotatio'+'n'](_0x3749a3['_node']['getRotatio'+'n']()),_0x5ccde3['rotateLoca'+'l'](-(-0x1*0x5a1+0x52c*0x4+-0xeb5),0x4a8+-0x1022+-0x1*-0xb7a,0x499+-0x135*-0x1+-0x5ce),L_['setTRS'](_0x5ccde3['getPositio'+'n'](),_0x5ccde3['getRotatio'+'n'](),D['ONE'])['invert'](),R_['mul2'](_0x571d41['projection'+'Matrix'],L_);const _0x137874=_0x3749a3['cookieMatr'+'ix'],_0x24ea64=_0x3749a3['atlasViewp'+'ort'];return O_['setViewpor'+'t'](_0x24ea64['x'],_0x24ea64['y'],_0x24ea64['z'],_0x24ea64['w']),_0x137874['mul2'](O_,R_),_0x137874;}};h(gr,'pointLight'+'Rotations',[new le()['setFromEul'+'erAngles'](-0x3*0x322+0x16c9+-0xd63,-0x3a0+0x2684+-0x2*0x1145,0xe8c+-0x2618*0x1+-0x40*-0x61),new le()['setFromEul'+'erAngles'](-0x19f*-0x4+-0x1659+0xfdd,-(-0xb75+-0x269b+-0x10ce*-0x3),0x1*0x2273+0x1f17+-0x40d6),new le()['setFromEul'+'erAngles'](0x2ac+0x9*0x407+-0x2691,0x1b18+0x2dd*0x6+-0x761*0x6,-0x713*-0x1+-0x2461+-0x1f*-0xf2),new le()['setFromEul'+'erAngles'](-(0x11af+0x25ac+-0x3701),0xc7*-0x8+-0x96e+0xfa6,-0x34*-0xac+-0x949+-0x19a7),new le()['setFromEul'+'erAngles'](0x139b+-0xcbd+0x2*-0x36f,0x14a1+0x9ae+-0x1d9b,0x9*-0x329+0x5a*0x3e+0x759),new le()['setFromEul'+'erAngles'](-0x10*0x77+0x1d3e+0xae7*-0x2,0xcf7*-0x1+0xa7b*-0x2+0x21ed,0x116d+0x9b9*0x2+0x1*-0x242b)]),h(gr,'_spotCooki'+'eCamera',null);let Wn=gr;const vs=new D(),Or=new Float32Array(0x2532+0x1d2c*0x1+-0x4258),FE=new D(-(0x54f+-0x1aea+0x1*0x159b+0.5),0x2d*0x4f+-0x1*0x85d+0x2c3*-0x2,0x3b*-0x89+0x254f+-0x5bc),NE=new D(-0x17aa*-0x1+0x20a8+0x12c6*-0x3,0x67f*0x6+-0x4dd+0x3*-0xb5f,0x16a*0x17+-0x23ff+0x379+0.5),at={'POSITION_RANGE':0x0,'DIRECTION_FLAGS':0x1,'COLOR_ANGLES_BIAS':0x2,'PROJ_MAT_0':0x3,'ATLAS_VIEWPORT':0x3,'PROJ_MAT_1':0x4,'PROJ_MAT_2':0x5,'PROJ_MAT_3':0x6,'AREA_DATA_WIDTH':0x7,'AREA_DATA_HEIGHT':0x8,'COUNT':0x9},kE={'LIGHTSHAPE_PUNCTUAL':Ys+'u','LIGHTSHAPE_RECT':Zy+'u','LIGHTSHAPE_DISK':Qy+'u','LIGHTSHAPE_SPHERE':Jy+'u','LIGHT_COLOR_DIVIDER':$c+'.0'},F_=(_0x5f3346,_0x376073)=>Object['keys'](_0x5f3346)['map'](_0x39a64c=>'#define\x20{'+_0x376073+_0x39a64c+'}\x20'+_0x5f3346[_0x39a64c])['join']('\x0a'),N_='\x0a\x0a\x20\x20\x20\x20'+F_(at,'CLUSTER_TE'+'XTURE_')+'\x0a\x20\x20\x20\x20'+F_(kE,'')+'\x0a';class UE{constructor(_0x1f0c98){h(this,'areaLights'+'Enabled',!(0x2bc+-0x1*0x4c3+0x208)),(this['device']=_0x1f0c98,Pe['get'](_0x1f0c98,Fe)['set']('lightBuffe'+'rDefinesPS',N_),Pe['get'](_0x1f0c98,it)['set']('lightBuffe'+'rDefinesPS',N_),this['cookiesEna'+'bled']=!(0xe9c+-0x7b7*-0x3+0x40*-0x97),this['shadowsEna'+'bled']=!(-0x254f+-0xd91*-0x1+0x17bf),this['areaLights'+'Enabled']=!(-0x1e*-0x2d+0x11bf+-0x5c1*0x4),this['maxLights']=0x7*-0x23f+0x2257+-0x119f);const _0x2a3396=at['COUNT'];this['lightsFloa'+'t']=new Float32Array((0x96*0x3+-0x1a62+0x18a4)*_0x2a3396*this['maxLights']),this['lightsUint']=new Uint32Array(this['lightsFloa'+'t']['buffer']),this['lightsText'+'ure']=this['createText'+'ure'](this['device'],_0x2a3396,this['maxLights'],Xt,'LightsText'+'ure'),this['_lightsTex'+'tureId']=this['device']['scope']['resolve']('lightsText'+'ure'),this['invMaxColo'+'rValue']=0x832+-0x1*0x10cb+0x899,this['invMaxAtte'+'nuation']=0x27*0xd+0x1f1e+-0x2119,this['boundsMin']=new D(),this['boundsDelt'+'a']=new D();}['destroy'](){var _0x4eab95;(_0x4eab95=this['lightsText'+'ure'])==null||_0x4eab95['destroy'](),this['lightsText'+'ure']=null;}['createText'+'ure'](_0x227ace,_0x3fff64,_0x78ec4d,_0x225d4a,_0x5c96af){return new _e(_0x227ace,{'name':_0x5c96af,'width':_0x3fff64,'height':_0x78ec4d,'mipmaps':!(0x8*-0x1+-0x6aa+0xf5*0x7),'format':_0x225d4a,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1});}['setBounds'](_0x387e06,_0x393f93){this['boundsMin']['copy'](_0x387e06),this['boundsDelt'+'a']['copy'](_0x393f93);}['uploadText'+'ures'](){this['lightsText'+'ure']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ure']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'tureId']['setValue'](this['lightsText'+'ure']);}['getSpotDir'+'ection'](_0x1945c7,_0x2b8bb3){_0x2b8bb3['_node']['getWorldTr'+'ansform']()['getY'](_0x1945c7)['mulScalar'](-(-0x1*0x23c3+-0x116f+0x3533*0x1)),_0x1945c7['normalize']();}['getLightAr'+'eaSizes'](_0x2636aa){const _0x2754f3=_0x2636aa['_node']['getWorldTr'+'ansform']();return _0x2754f3['transformV'+'ector'](FE,vs),Or[0x8*0xad+-0x1*-0x11e+-0x1*0x686]=vs['x'],Or[-0x646+-0x1fb2+-0x1*-0x25f9]=vs['y'],Or[0x6*0x482+-0xa8a+-0x1080]=vs['z'],_0x2754f3['transformV'+'ector'](NE,vs),Or[0x1f*0x141+0x13c8+-0x116*0x36]=vs['x'],Or[-0x139f+-0x4f*-0x6d+-0xe00]=vs['y'],Or[0x2699+0x45*0xa+-0x2946]=vs['z'],Or;}['addLightDa'+'ta'](_0x418792,_0x2061d8){const _0x35e0d7=_0x418792['_type']===Ze,_0x2160e5=_0x418792['atlasViewp'+'ortAllocat'+'ed'],_0x49c1b0=this['cookiesEna'+'bled']&&!!_0x418792['_cookie']&&_0x2160e5,_0x4ef290=this['areaLights'+'Enabled']&&_0x418792['shape']!==Ys,_0x32f7a6=this['shadowsEna'+'bled']&&_0x418792['castShadow'+'s']&&_0x2160e5,_0x4975a5=_0x418792['_node']['getPositio'+'n']();let _0x472154=null,_0x3f5ad8=null;_0x35e0d7?_0x32f7a6?_0x472154=_0x418792['getRenderD'+'ata'](null,-0x299+-0x15a*-0xb+-0x15d*0x9)['shadowMatr'+'ix']:_0x49c1b0&&(_0x472154=Wn['evalSpotCo'+'okieMatrix'](_0x418792)):(_0x32f7a6||_0x49c1b0)&&(_0x3f5ad8=_0x418792['atlasViewp'+'ort']);const _0x1bb099=this['lightsFloa'+'t'],_0x5cfeaa=this['lightsUint'],_0x4c07b2=_0x2061d8*this['lightsText'+'ure']['width']*(0x54b*0x3+0x1eb9+-0x2e96);_0x1bb099[_0x4c07b2+(-0x8*-0x197+0x1770+-0x2424)*at['POSITION_R'+'ANGE']+(0x17e3*0x1+-0x19*0xa4+-0x193*0x5)]=_0x4975a5['x'],_0x1bb099[_0x4c07b2+(-0x5e8+0x1d3+0x419)*at['POSITION_R'+'ANGE']+(0x19b8+0x36d*-0x7+0x6*-0x4a)]=_0x4975a5['y'],_0x1bb099[_0x4c07b2+(0xb68+0x2bc+-0xe20)*at['POSITION_R'+'ANGE']+(-0x1*-0x205a+-0x1*-0x13f9+-0x3451)]=_0x4975a5['z'],_0x1bb099[_0x4c07b2+(-0x1a86+-0x24fd+0x3f87*0x1)*at['POSITION_R'+'ANGE']+(0x1*-0x885+-0x461*0x5+0x1e6d)]=_0x418792['attenuatio'+'nEnd'];const _0x4372da=_0x418792['clusteredD'+'ata'];if(_0x5cfeaa[_0x4c07b2+(0x69b+0x4e*0x4e+-0x1*0x1e5b)*at['COLOR_ANGL'+'ES_BIAS']+(-0x27b*0x8+0x7c3+0xc15)]=_0x4372da[-0x1*-0x20ba+-0x1eff+-0x1bb],_0x5cfeaa[_0x4c07b2+(0x1ca*-0x4+-0xd38+-0x3*-0x6cc)*at['COLOR_ANGL'+'ES_BIAS']+(-0x6d*0x1f+0xa91+0x19*0x1b)]=_0x4372da[0xe*-0x2+0x56d*-0x5+-0x13d*-0x16],_0x5cfeaa[_0x4c07b2+(-0x2*-0xeb4+-0x1073+0xcf1*-0x1)*at['COLOR_ANGL'+'ES_BIAS']+(0x2318+0x80c+0x2b22*-0x1)]=_0x4372da[0xe6c+0x1c06+-0x2a70],_0x418792['castShadow'+'s']){const _0x886c8=_0x418792['getRenderD'+'ata'](null,0x173*0x9+0x1acf+-0x27da),_0x488dd6=_0x418792['_getUnifor'+'mBiasValue'+'s'](_0x886c8),_0x2a0156=Mn['float2Half'](_0x488dd6['bias']),_0x44b669=Mn['float2Half'](_0x488dd6['normalBias']);_0x5cfeaa[_0x4c07b2+(0x2542+-0x91+-0x24ad)*at['COLOR_ANGL'+'ES_BIAS']+(0x2573+0xff4+0x4*-0xd59)]=_0x2a0156|_0x44b669<<-0xd7*0x17+-0x1*-0x10b1+0x8*0x56;}if(_0x35e0d7&&(this['getSpotDir'+'ection'](vs,_0x418792),_0x1bb099[_0x4c07b2+(-0x10ea+0x19e4*0x1+-0x8f6)*at['DIRECTION_'+'FLAGS']+(0xf68*-0x1+-0x1*-0x54c+0x50e*0x2)]=vs['x'],_0x1bb099[_0x4c07b2+(0x232f+0x123*-0x14+-0xc6f)*at['DIRECTION_'+'FLAGS']+(-0x11*-0x22+0x148*0x10+-0x16c1)]=vs['y'],_0x1bb099[_0x4c07b2+(-0xd1e+0x1724+-0xa02)*at['DIRECTION_'+'FLAGS']+(0x5*0x6d4+-0x572+-0x1cb0)]=vs['z']),_0x5cfeaa[_0x4c07b2+(0xe*0xbd+0x11ff+-0x1c51)*at['DIRECTION_'+'FLAGS']+(0x887*-0x1+-0x54a*-0x4+0xaa*-0x13)]=_0x418792['getCluster'+'edFlags'](_0x32f7a6,_0x49c1b0),_0x472154){const _0xa86383=_0x472154['data'];for(let _0x10737e=-0x1*0x6c3+0x23df+-0x1d1c;_0x10737e<0x203d+0x507*-0x7+0x304;_0x10737e++)_0x1bb099[_0x4c07b2+(0x1689*0x1+0x26*-0xc5+0x6b9)*at['PROJ_MAT_0']+_0x10737e]=_0xa86383[_0x10737e];}if(_0x3f5ad8&&(_0x1bb099[_0x4c07b2+(0x7b0+0x2*0xa53+-0x1c52)*at['ATLAS_VIEW'+'PORT']+(0x250a+-0x7*0x2e3+-0x10d5)]=_0x3f5ad8['x'],_0x1bb099[_0x4c07b2+(0x509+0x5*0x112+-0xa5f)*at['ATLAS_VIEW'+'PORT']+(-0x2*0x725+0x1a8e+-0xc43)]=_0x3f5ad8['y'],_0x1bb099[_0x4c07b2+(-0xdb5+-0x1504+0x22bd*0x1)*at['ATLAS_VIEW'+'PORT']+(0x5f6+-0x1aaa+0xf1*0x16)]=_0x3f5ad8['z']/(0xbf*-0x31+0x1fc8+0x4ca)),_0x4ef290){const _0x1723e9=this['getLightAr'+'eaSizes'](_0x418792);_0x1bb099[_0x4c07b2+(-0xe34+0x11*0xca+0x1*0xce)*at['AREA_DATA_'+'WIDTH']+(0x17*0x11f+0x2129+0xa*-0x5e5)]=_0x1723e9[0x1e2d+-0xb7a+-0x1*0x12b3],_0x1bb099[_0x4c07b2+(0x1273+-0xddc+-0x1*0x493)*at['AREA_DATA_'+'WIDTH']+(-0xac*0x28+-0x1*0x1697+0x8*0x62f)]=_0x1723e9[0x896+0xaa9*0x1+-0x99f*0x2],_0x1bb099[_0x4c07b2+(-0xe8+0x502*0x3+0x5f*-0x26)*at['AREA_DATA_'+'WIDTH']+(0xa7*0xd+-0x24e+-0x62b*0x1)]=_0x1723e9[0x1*-0x625+0x11bb*-0x2+0x299d],_0x1bb099[_0x4c07b2+(-0x193a*-0x1+0x14c9+-0x2dff)*at['AREA_DATA_'+'HEIGHT']+(0xe17+0xc5e+-0x1a75)]=_0x1723e9[0x349*0x2+0x2158+-0x46f*0x9],_0x1bb099[_0x4c07b2+(-0x102*0x17+-0x20d2+0x2*0x1c02)*at['AREA_DATA_'+'HEIGHT']+(-0xb2*-0x4+0x1cd8+-0x1*0x1f9f)]=_0x1723e9[0x33*0xd+0x598+0x33*-0x29],_0x1bb099[_0x4c07b2+(-0x1e56+0x5*0x3d+0x5d5*0x5)*at['AREA_DATA_'+'HEIGHT']+(-0xfe2+0x262b+-0x1*0x1647)]=_0x1723e9[0x1654*-0x1+-0x2*0xde5+0x3223];}}}const ic=new D(),rc=new D(),ac=new D(),Yd=new De(),k_=0x4*-0x727+0x1039*-0x2+0x4d0e;class U_{constructor(){this['light']=null,this['min']=new D(),this['max']=new D();}}class cu{constructor(_0x20723c){h(this,'clusterTex'+'ture'),(this['device']=_0x20723c,this['name']='Untitled',this['reportCoun'+'t']=-0x15d5*0x1+-0x22e+-0x1803*-0x1,this['boundsMin']=new D(),this['boundsMax']=new D(),this['boundsDelt'+'a']=new D(),this['_cells']=new D(0x1*-0xff3+-0x4*-0x248+-0x17*-0x4c,0xc1e+0xc4b+-0x1868,0x1f2e+-0x1*-0x80f+-0x273c),this['_cellsLimi'+'t']=new D(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=0x823*0x2+-0x2207+0x11c5,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new U_()),this['lightsBuff'+'er']=new UE(_0x20723c),this['registerUn'+'iforms'](_0x20723c));}set['maxCellLig'+'htCount'](_0x4da7b6){_0x4da7b6!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x4da7b6,this['_cellsDirt'+'y']=!(0x2678+-0x1bac+-0x1*0xacc));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0xd3e429){ic['copy'](_0xd3e429)['floor'](),this['_cells']['equals'](ic)||(this['_cells']['copy'](ic),this['_cellsLimi'+'t']['copy'](ic)['sub'](D['ONE']),this['_cellsDirt'+'y']=!(-0x22f3+0x1*-0x1046+0x3339));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x2549cf){this['_clusterSk'+'ipId']=_0x2549cf['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x2549cf['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x2549cf['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x2549cf['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0x1fe1+-0x3*0x78d+-0x937),this['_clusterBo'+'undsMinId']=_0x2549cf['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(-0x871*0x1+0xd8d+0x5*-0x105),this['_clusterBo'+'undsDeltaI'+'d']=_0x2549cf['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(-0x1387+-0xcd1+0x2f1*0xb),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x2549cf['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(0x1*0x2397+0x1*-0x1895+0xaff*-0x1),this['_clusterCe'+'llsDotId']=_0x2549cf['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x1*-0x11f4+-0xa66*0x2+0x26c3),this['_clusterCe'+'llsMaxId']=_0x2549cf['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(0x2004+-0x55+0x4*-0x7eb);}['updatePara'+'ms'](_0x633b83){_0x633b83&&(this['cells']=_0x633b83['cells'],this['maxCellLig'+'htCount']=_0x633b83['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x633b83['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x633b83['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x633b83['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(-0x1eb8+0x17a*-0x11+-0x1*-0x37d3);const _0x45c103=this['_cells']['x'],_0xe170ea=this['_cells']['y'],_0x20509e=this['_cells']['z'],_0x6583c2=_0x45c103*_0xe170ea*_0x20509e,_0x19e56c=this['maxCellLig'+'htCount']*_0x6583c2;let _0x3b7554=Math['ceil'](Math['sqrt'](_0x19e56c));_0x3b7554=Y['roundUp'](_0x3b7554,this['maxCellLig'+'htCount']);const _0x261c0d=Math['ceil'](_0x19e56c/_0x3b7554);w['assert'](_0x3b7554<=k_&&_0x261c0d<=k_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0x394+0x2*-0x125f+0x2852]=_0x45c103,this['_clusterCe'+'llsMaxData'][0x2647*0x1+0xe8c+-0x34d2]=_0xe170ea,this['_clusterCe'+'llsMaxData'][-0x1b2c+-0x557*-0x2+0x1080]=_0x20509e,this['_clusterCe'+'llsDotData'][0x89a+0x22*-0xef+0x1*0x1724]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x43b*-0x7+0x598*0x1+0x1*-0x2334]=_0x45c103*_0x20509e*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][0x1ed3+0x1a52+-0x3923]=_0x45c103*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0x19e56c),this['counts']=new Int32Array(_0x6583c2),this['_clusterTe'+'xtureSizeD'+'ata'][-0x19f6+-0xc4b+0x2641]=_0x3b7554,this['_clusterTe'+'xtureSizeD'+'ata'][-0xb5*-0xe+0xece+-0x18b3*0x1]=(0x23eb+-0x1*-0x238d+0xe4b*-0x5)/_0x3b7554,this['_clusterTe'+'xtureSizeD'+'ata'][0x1f7b+0x19b5+-0x233*0x1a]=(0x1236+0x1*0x85f+-0x1a94)/_0x261c0d,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x3b7554,_0x261c0d,Ep,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>0x8a6+0x12e+-0x9d3?0x26d7+0xcdd+-0x89e*0x6:-0x3e7+0x729*-0x2+0x91d*0x2),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x46229d=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x181c*-0x1+-0x140d+-0x299*-0x11]=this['_cells']['x']/_0x46229d['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x26ba+0x7f7*0x2+0x16cd]=this['_cells']['y']/_0x46229d['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0xd3*-0x8+0x263e+-0x1fa4]=this['_cells']['z']/_0x46229d['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][-0x253d*0x1+-0x2*0x94f+-0x1*-0x37db]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][0x658+0x11e4+-0x1*0x183b]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][-0xa0f+0x47*0x66+-0x1239*0x1]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][0x5*-0x1ee+-0xec7+0x186d]=_0x46229d['x'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x1367+-0x22fb+-0x111*-0x33]=_0x46229d['y'],this['_clusterBo'+'undsDeltaD'+'ata'][0x1*0x18f9+0x1850+-0x3147]=_0x46229d['z'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']);}['evalLightC'+'ellMinMax'](_0x3987ff,_0x1b7bcc,_0x120663){_0x1b7bcc['copy'](_0x3987ff['min']),_0x1b7bcc['sub'](this['boundsMin']),_0x1b7bcc['div'](this['boundsDelt'+'a']),_0x1b7bcc['mul2'](_0x1b7bcc,this['cells']),_0x1b7bcc['floor'](),_0x120663['copy'](_0x3987ff['max']),_0x120663['sub'](this['boundsMin']),_0x120663['div'](this['boundsDelt'+'a']),_0x120663['mul2'](_0x120663,this['cells']),_0x120663['ceil'](),_0x1b7bcc['max'](D['ZERO']),_0x120663['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x4ac3a4){const _0x1f69e2=this['lightsBuff'+'er']['maxLights'],_0x4457da=this['_usedLight'+'s'];let _0x24b029=0x379+0x23d+-0x1e7*0x3;_0x4ac3a4['forEach'](_0xbd7524=>{const _0x3a9355=!!(_0xbd7524['mask']&(Ss|di)),_0x488c4c=_0xbd7524['type']===Ze&&_0xbd7524['_outerCone'+'Angle']===-0x2209+0x1cd5+-0x1bc*-0x3;if(_0xbd7524['enabled']&&_0xbd7524['type']!==ve&&_0xbd7524['visibleThi'+'sFrame']&&_0xbd7524['intensity']>-0x1*-0x10d0+0x33b*-0x9+-0xc43*-0x1&&_0x3a9355&&!_0x488c4c){if(_0x24b029<_0x1f69e2){let _0x3df939;_0x24b029<_0x4457da['length']?_0x3df939=_0x4457da[_0x24b029]:(_0x3df939=new U_(),_0x4457da['push'](_0x3df939)),_0x3df939['light']=_0xbd7524,_0xbd7524['getBoundin'+'gBox'](Yd),_0x3df939['min']['copy'](Yd['getMin']()),_0x3df939['max']['copy'](Yd['getMax']()),_0x24b029++;}else w['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x1f69e2-(0xc32+-0x8a5+-0xe3*0x4))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x4457da['length']=_0x24b029;}['evaluateBo'+'unds'](){const _0x24197f=this['_usedLight'+'s'],_0x2f484e=this['boundsMin'],_0x4b7b38=this['boundsMax'];if(_0x24197f['length']>-0x215c+0x1c*0x3+0x1*0x2109){_0x2f484e['copy'](_0x24197f[0x1cd*0x11+-0x24b3*-0x1+0x1*-0x434f]['min']),_0x4b7b38['copy'](_0x24197f[0x1daa+0x183c+-0x3*0x11f7]['max']);for(let _0x5e36a2=0x3*0x287+-0xb*-0x293+-0x23e4*0x1;_0x5e36a2<_0x24197f['length'];_0x5e36a2++)_0x2f484e['min'](_0x24197f[_0x5e36a2]['min']),_0x4b7b38['max'](_0x24197f[_0x5e36a2]['max']);}else _0x2f484e['set'](-0x76*-0x1d+-0x1d39+0xfdb,-0x55c+-0xd06+0x1262,-0x1b02+0x2078+-0x576),_0x4b7b38['set'](-0xf02*0x1+-0x116e+0x2071,0x2*0xaeb+-0xfd4+-0x601,0x1a8*0x10+-0xa1*0x28+0x7*-0x31);this['boundsDelt'+'a']['sub2'](_0x4b7b38,_0x2f484e),this['lightsBuff'+'er']['setBounds'](_0x2f484e,this['boundsDelt'+'a']);}['updateClus'+'ters'](_0x1cc1c0){this['counts']['fill'](0x1f4+-0x44+-0x1b0),this['clusters']['fill'](0x173*-0xd+-0x2*0xeda+-0x11*-0x2db),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x1cc1c0?_0x1cc1c0['areaLights'+'Enabled']:!(0x1f53+-0x9e0+-0x1572);const _0x2abc86=this['_cells']['x'],_0x5be648=this['_cells']['z'],_0x142b49=this['counts'],_0x1a99da=this['_maxCellLi'+'ghtCount'],_0x16cead=this['clusters'],_0x34dce3=this['maxCellLig'+'htCount'];let _0x2feb6e=!(-0xdf1+-0x2dd+-0x14b*-0xd);const _0x13655a=this['_usedLight'+'s'];for(let _0x24092f=-0x1f75+-0x1caa+0x3c20;_0x24092f<_0x13655a['length'];_0x24092f++){const _0x3f1dcc=_0x13655a[_0x24092f],_0x496e93=_0x3f1dcc['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x496e93,_0x24092f),this['evalLightC'+'ellMinMax'](_0x3f1dcc,rc,ac);const _0x18262b=rc['x'],_0x172076=ac['x'],_0x585f03=rc['y'],_0x1b7067=ac['y'],_0x48998b=rc['z'],_0x47f669=ac['z'];for(let _0x14658a=_0x18262b;_0x14658a<=_0x172076;_0x14658a++)for(let _0x32fb8a=_0x48998b;_0x32fb8a<=_0x47f669;_0x32fb8a++)for(let _0x220d3f=_0x585f03;_0x220d3f<=_0x1b7067;_0x220d3f++){const _0x3e59e5=_0x14658a+_0x2abc86*(_0x32fb8a+_0x220d3f*_0x5be648),_0x5b9f8f=_0x142b49[_0x3e59e5];_0x5b9f8f<_0x1a99da?(_0x16cead[_0x34dce3*_0x3e59e5+_0x5b9f8f]=_0x24092f,_0x142b49[_0x3e59e5]=_0x5b9f8f+(0x9c*0x4+-0x19bb+0x174c)):_0x2feb6e=!(-0x2061+-0x269+-0x7a*-0x49);}}_0x2feb6e&&this['reportCoun'+'t']<-0xb0e+-0xa5f+0x1572&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===0x185*0x11+0x3*0x40f+-0x6*0x655?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x5ce6de,_0x242ad5=null){this['updatePara'+'ms'](_0x242ad5),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x5ce6de),this['evaluateBo'+'unds'](),this['updateClus'+'ters'](_0x242ad5),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const B_=0x1266+-0x1*0x213d+-0x3*-0x4f3+0.39996322972865306,Nl={'circlePoint'(_0x452bea){const _0x20cdd2=Math['sqrt'](Math['random']()),_0x44b6ab=Math['random']()*(-0x1cfc+0x26d0+-0x1a3*0x6)*Math['PI'];_0x452bea['x']=_0x20cdd2*Math['cos'](_0x44b6ab),_0x452bea['y']=_0x20cdd2*Math['sin'](_0x44b6ab);},'circlePointDeterministic'(_0x4fadc6,_0x4977a8,_0x25e713){const _0x54dde3=_0x4977a8*B_,_0x46ef79=Math['sqrt'](_0x4977a8)/Math['sqrt'](_0x25e713);_0x4fadc6['x']=_0x46ef79*Math['cos'](_0x54dde3),_0x4fadc6['y']=_0x46ef79*Math['sin'](_0x54dde3);},'spherePointDeterministic'(_0x26e822,_0x5956cb,_0x4cad04,_0x3dea1b=0xb*-0x14c+0xaf+-0x3*-0x487,_0x58874a=0xa18+-0x854+-0x1c3){_0x3dea1b=0x15*-0x39+-0xe92+0x2c0*0x7-(0x63*-0x2f+-0x423+0x1652)*_0x3dea1b,_0x58874a=0x77f*-0x3+0xa8d+0xbf1-(0x1*0x526+-0x12*0x188+0x166c)*_0x58874a;const _0x16946d=Y['lerp'](_0x3dea1b,_0x58874a,_0x5956cb/_0x4cad04),_0xda7540=Math['sqrt'](-0x1c81+0x216f*0x1+-0x4ed-_0x16946d*_0x16946d),_0x441283=B_*_0x5956cb;_0x26e822['x']=Math['cos'](_0x441283)*_0xda7540,_0x26e822['y']=_0x16946d,_0x26e822['z']=Math['sin'](_0x441283)*_0xda7540;},'radicalInverse'(_0xf85052){let _0x21b684=(_0xf85052<<0x1d0*0x2+0x1*-0xa8b+0x6fb|_0xf85052>>>-0xb*-0x365+-0x19bf+-0x18*0x7b)>>>0x1806+0x10*0xa6+-0x2266;return _0x21b684=((_0x21b684&-0xb0f0727*-0xb+0x6e55e818+-0x92a5e170)<<0xbb1+-0x1*-0x2627+-0x31d7*0x1|(_0x21b684&0x7744f45d+-0x2cb30649*0x2+0x8ccbc2df)>>>-0x8c1*-0x3+-0x16cc+0x1bb*-0x2)>>>-0x3f7*-0x1+0x17d5*0x1+0x6*-0x4a2,_0x21b684=((_0x21b684&0x25cf7237+-0x1753d*0x4469+-0x1*-0x71210b01)<<-0x1812+-0xd68+0x12be*0x2|(_0x21b684&0x6186566d+-0x406262e9+0xaba8d948)>>>0x144*-0xa+0x9*-0x1a0+-0x1b4a*-0x1)>>>0x218c+0x1c48+-0x3dd4,_0x21b684=((_0x21b684&0x565769b*-0x4+0x384ea5f+0x2*0x108fff8e)<<0xbca+0x1*-0x1c95+0x10cf|(_0x21b684&-0xd7bc11f*0xc+0x14cccd183+0x4d82f7*0xe7)>>>0x1bc9*0x1+0xba+-0x5b3*0x5)>>>-0x208f*0x1+0x92*0x3d+-0x23b,_0x21b684=((_0x21b684&-0x50b*0x39b3+0x10d2*0x490+-0x3aa792*-0x8)<<0xe67+-0x231a+0x14bb|(_0x21b684&-0x18d*0x8c35d3+0x7b932aa1+-0x15da*-0xff717)>>>-0x76d+-0x619+0xa*0x15b)>>>-0x1ef9+-0x136c+-0x1*-0x3265,_0x21b684*(0x1*-0x18a7+-0x21ed+-0x146*-0x2e+2.3283064365386963e-10);}},BE={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP','xy':'unpackNorm'+'alXY','xyz':'unpackNorm'+'alXYZ'},zE={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Tr{static['decodeFunc'](_0x2bb652){return BE[_0x2bb652]??'decodeGamm'+'a';}static['encodeFunc'](_0x5b8e42){return zE[_0x5b8e42]??'encodeGamm'+'a';}}const z_=_0x2bfd61=>{switch(_0x2bfd61){case tu:return'Cubemap';case Gx:return'Octahedral';default:return'Equirect';}},nc=(_0x4c0673,_0x63aeb2,_0x12e0a2)=>{if(_0x4c0673<=-0x1c94+0xae*-0x23+-0x2*-0x1a2f)_0x63aeb2[_0x12e0a2+(-0x1ec9+0x7e*0x18+0x12f9)]=0x266*0x5+0x23c9+-0x3*0xfed,_0x63aeb2[_0x12e0a2+(-0x1a31+-0xc0d+0x1*0x263f)]=0x1b*0x33+0x2626+-0x2b87,_0x63aeb2[_0x12e0a2+(-0xe*0x48+0x8*0x70+0x72)]=0x2179+0xb9d+-0x2*0x168b,_0x63aeb2[_0x12e0a2+(0x1cf9+0xa2+0x766*-0x4)]=-0x903*-0x3+0x443*-0x1+-0x16c6;else{if(_0x4c0673>=-0x49f+0xb2d+-0x68d)_0x63aeb2[_0x12e0a2+(0x29*0xc2+0x1*0x268a+-0xc*0x5cd)]=0x623*-0x1+0x15a1+0xe7f*-0x1,_0x63aeb2[_0x12e0a2+(-0x2d*-0x49+0x14cd+-0x21a1)]=0x82d*-0x1+-0xa4e+-0x53*-0x39,_0x63aeb2[_0x12e0a2+(-0x1494+-0x8*-0x8a+0x1046)]=0x1*-0x657+0xbe*0x1b+0xa7*-0x15,_0x63aeb2[_0x12e0a2+(0xe9d+0x18f6+-0x2790)]=-0x20fa+-0x1b9d+0x3c97;else{let _0x347da9=(-0x946*0x1+0xd9b+0x2*-0x22a)*_0x4c0673%(-0x8db*-0x1+-0x193*-0x17+-0x1*0x2d0f),_0x4948b3=(0x2*0x4c6+-0xbe2+0x355)*_0x4c0673%(0x4ea+-0x1f05*0x1+0x1a1c),_0x44b97f=(-0x103c7+0x1cd25+0x31*0x113)*_0x4c0673%(-0x15a5+-0xaa6+0x1026*0x2);const _0xb87c7b=(0x8f4183*0x2+-0x1903e59+0x16ebe52)*_0x4c0673%(0x1fb9*0x1+0x236f*-0x1+0x3b7);_0x347da9-=_0x4948b3/(-0x2201+-0x1a5b+0x3d5b),_0x4948b3-=_0x44b97f/(-0x4*0x187+0x16c6+0xfab*-0x1),_0x44b97f-=_0xb87c7b/(0x2188+-0xec0+0x11c9*-0x1),_0x63aeb2[_0x12e0a2+(-0xd1*0x2+0x1*-0xb03+-0xd*-0xf9)]=Math['min'](-0x11e5+0x2*0xe5e+-0x9d8,Math['floor'](_0x347da9*(-0x31*-0x1+0x17d6+0x2d*-0x83))),_0x63aeb2[_0x12e0a2+(0x48*-0x17+0x628+0x51)]=Math['min'](0xcbf+0x18c4+-0xa4*0x39,Math['floor'](_0x4948b3*(-0xbb8+0xc*0xe1+0x116*0x2))),_0x63aeb2[_0x12e0a2+(0x88*-0x2f+0x1599+0x361)]=Math['min'](-0x1c7e+-0x1d93*-0x1+-0x16,Math['floor'](_0x44b97f*(-0x5ad*-0x1+0x12e3*0x1+0x8*-0x2f2))),_0x63aeb2[_0x12e0a2+(0x1*-0x5c9+-0x188b+-0x1e57*-0x1)]=Math['min'](-0x1*0x257+-0x5*0x10b+0x1*0x88d,Math['floor'](_0xb87c7b*(0x162*-0xb+0xf2f+0x1*0x107)));}}},VE=_0x2cd056=>{const _0x1e8d44=_0x2cd056['length'],_0x3c1718=Math['min'](_0x1e8d44,0x517*0x1+-0x4f4+0x1dd),_0x4f9ae8=Math['ceil'](_0x1e8d44/_0x3c1718),_0x383102=new Uint8Array(_0x3c1718*_0x4f9ae8*(0x95b*0x4+-0x4c5+0x687*-0x5));let _0x297acb=0xabc+-0x675+-0x447;for(let _0xe99588=0xa3*-0x6+0x150d+-0xb*0x191;_0xe99588<_0x1e8d44;_0xe99588+=0x24b6+0x1579+-0x1*0x3a2b)nc(_0x2cd056[_0xe99588+(-0x1*0x17b3+0x1b8d+0x22*-0x1d)]*(-0x58c+0x3*0xae1+0x5f*-0x49+0.5)+(-0x39+0x1*-0x257+0x290+0.5),_0x383102,_0x297acb+(0x143*-0xd+-0x2406+0x346d)),nc(_0x2cd056[_0xe99588+(0x2f*-0x92+-0x30b*-0x7+-0xeb*-0x6)]*(-0xac9+-0xd0c*-0x1+-0x243+0.5)+(0x128e+0x24*0x3+0x2*-0x97d+0.5),_0x383102,_0x297acb+(0x1*-0x47+0x4*0x164+0x13*-0x47)),nc(_0x2cd056[_0xe99588+(0x1*0x256a+0x273+0xb3*-0x39)]*(0x1a71+-0x316*-0xb+0x3c63*-0x1+0.5)+(-0x1e25*-0x1+-0x736*0x5+0x1*0x5e9+0.5),_0x383102,_0x297acb+(-0x4f*0x4f+0x3*-0x713+0x2da2)),nc(_0x2cd056[_0xe99588+(-0x641+-0x11c*-0x3+0x2f0)]/(-0xf3*0x19+0x3d*-0x27+-0x2*-0x1087),_0x383102,_0x297acb+(-0x4*-0x693+-0x12cc+-0x774)),_0x297acb+=-0xd49+0xa62+0x17*0x21;return{'width':_0x3c1718,'height':_0x4f9ae8,'data':_0x383102};},GE=(_0x5e8162,_0x22ecf1,_0x53f972,_0x37ac68)=>{const _0x42060b=_0x53f972*(-0xaf*0xd+0x1652*0x1+-0x1eb*0x7)*Math['PI'],_0x5a020b=Math['pow'](-0x1*-0x17fb+-0x1ffb+0x801-_0x22ecf1,(0x1c7e+0x75d+-0x23da)/(_0x37ac68+(0xd67+-0x15d1*-0x1+-0x3*0xbbd))),_0x51bebe=Math['sqrt'](-0x1d71+0x120+0x122*0x19-_0x5a020b*_0x5a020b);_0x5e8162['set'](Math['cos'](_0x42060b)*_0x51bebe,Math['sin'](_0x42060b)*_0x51bebe,_0x5a020b)['normalize']();},HE=(_0x420d1b,_0x17341a,_0x56c9db)=>{const _0x5844f8=_0x56c9db*(0xadd+-0x137a+-0x1*-0x89f)*Math['PI'],_0x562307=Math['sqrt'](0x1*-0x1+0xe0b*0x1+-0xe09*0x1-_0x17341a),_0x2b7cf8=Math['sqrt'](_0x17341a);_0x420d1b['set'](Math['cos'](_0x5844f8)*_0x2b7cf8,Math['sin'](_0x5844f8)*_0x2b7cf8,_0x562307)['normalize']();},WE=(_0x59afe6,_0x15b526,_0x1a7334,_0x69fd1)=>{const _0x2a15e2=_0x1a7334*(0x20*0x12+0x1e58+-0xc2*0x2b)*Math['PI'],_0x5f0bc2=Math['sqrt']((-0x2542+0x1f6a+-0x5d9*-0x1-_0x15b526)/(-0x1281+0x1288+-0x6+(_0x69fd1*_0x69fd1-(0x21+-0x547+0x527))*_0x15b526)),_0x559e89=Math['sqrt'](-0x2402+0x4b8+0x1f4b-_0x5f0bc2*_0x5f0bc2);_0x59afe6['set'](Math['cos'](_0x2a15e2)*_0x559e89,Math['sin'](_0x2a15e2)*_0x559e89,_0x5f0bc2)['normalize']();},$E=(_0xd14f0,_0x259b4b)=>{const _0x32b0d4=_0xd14f0*_0x259b4b,_0x401bf1=_0x259b4b/(0x745+0x1*0xed1+-0x1615-_0xd14f0*_0xd14f0+_0x32b0d4*_0x32b0d4);return _0x401bf1*_0x401bf1*((-0xd44+0x2356+-0x15*0x10d)/Math['PI']);},XE=(_0x5bd32f,_0x5c31dc)=>{const _0x298bff=new D(),_0x1055c1=[];for(let _0x5f5373=0x19e1+-0x685+0x135c*-0x1;_0x5f5373<_0x5bd32f;++_0x5f5373)GE(_0x298bff,_0x5f5373/_0x5bd32f,Nl['radicalInv'+'erse'](_0x5f5373),_0x5c31dc),_0x1055c1['push'](_0x298bff['x'],_0x298bff['y'],_0x298bff['z'],0x1514+-0xc2*-0x2d+-0x372e);return _0x1055c1;},qE=(_0x4d920b,_0x17572d)=>{const _0x7d2f60=_0x17572d/_0x4d920b,_0x1186da=new D(),_0x4dc6d0=[];for(let _0x2cda11=0x6*-0x61f+0x121*0x17+0xac3;_0x2cda11<_0x4d920b;++_0x2cda11){HE(_0x1186da,_0x2cda11/_0x4d920b,Nl['radicalInv'+'erse'](_0x2cda11));const _0x873f74=_0x1186da['z']/Math['PI'],_0x55b787=(0x1af6+0x394*0x6+-0x306e+0.5)*Math['log2'](_0x7d2f60/_0x873f74);_0x4dc6d0['push'](_0x1186da['x'],_0x1186da['y'],_0x1186da['z'],_0x55b787);}return _0x4dc6d0;},jE={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},YE=(_0x291515,_0x4a48f9)=>{const _0x14ff49=jE[_0x291515];return _0x14ff49&&_0x14ff49[_0x4a48f9]||_0x291515;},KE=(_0x5ee848,_0xd57211,_0x76cb0d)=>{const _0x1d6054=_0x76cb0d/_0x5ee848,_0x432842=0x70+-0x269+-0xb*-0x2e-Math['log2'](_0xd57211)/(-0x2*-0x872+-0x1*0xc11+-0x4c8),_0xa9351c=_0x432842*_0x432842,_0x4a0aac=new D(),_0x3a547a=new D(),_0x8ee55e=new D(-0x22a4+0x3*0xa87+0x30f,-0x1f3*0x5+0x1e*-0xd1+0x223d,-0xc95*0x1+-0x3*0x1d8+0x1*0x121e),_0x9e2dee=[],_0x2df1d2=YE(_0x5ee848,_0xd57211);for(let _0x122929=0xc3f+0x108+-0xb*0x135;_0x122929<_0x2df1d2;++_0x122929){WE(_0x4a0aac,_0x122929/_0x2df1d2,Nl['radicalInv'+'erse'](_0x122929),_0xa9351c);const _0x4a22cc=_0x4a0aac['z'];if(_0x3a547a['set'](_0x4a0aac['x'],_0x4a0aac['y'],_0x4a0aac['z'])['mulScalar']((0x77d+0x947*-0x2+0xb13)*_0x4a22cc)['sub'](_0x8ee55e),_0x3a547a['z']>-0x1401+-0x4c*-0x72+-0xdd7){const _0x54d285=$E(Math['min'](-0x1*0x227+-0x19*0xf+0x135*0x3,_0x4a22cc),_0xa9351c)/(0x48*0xd+-0x1e8*-0xe+0x3*-0xa1c)+(-0x16c2+-0xb86+0x2248+0.001),_0x1f2436=(-0x8e8+-0x1546+-0x1e2e*-0x1+0.5)*Math['log2'](_0x1d6054/_0x54d285);_0x9e2dee['push'](_0x3a547a['x'],_0x3a547a['y'],_0x3a547a['z'],_0x1f2436);}}for(;_0x9e2dee['length']<_0x5ee848*(-0x1*0x18e9+0x1fd9*0x1+-0x6ec);)_0x9e2dee['push'](0x5*-0x14e+0xd57+0x5*-0x15d,0x1*-0xe47+-0xe19+0x1c60,-0x1708+-0x13cf+-0x2ad7*-0x1,0x1fa2+-0xdcd*-0x1+-0x1*0x2d6f);return _0x9e2dee;},ZE=(_0xcb1528,_0x2f0417,_0x3beb5e)=>{const _0x1d676e=VE(_0x3beb5e);return new _e(_0xcb1528,{'name':_0x2f0417,'width':_0x1d676e['width'],'height':_0x1d676e['height'],'mipmaps':!(-0x941+0x517*0x5+-0x1031*0x1),'minFilter':Te,'magFilter':Te,'levels':[_0x1d676e['data']]});};class xv{constructor(_0x6a794a=!(0x2475+-0x6b8+0x14b*-0x17)){h(this,'map',new Map()),this['destroyCon'+'tent']=_0x6a794a;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x197597,_0x150ffd)=>{_0x197597['destroy']();});}['get'](_0x4a177c,_0x46f1c3){if(!this['map']['has'](_0x4a177c)){const _0x5e4d4c=_0x46f1c3();return this['map']['set'](_0x4a177c,_0x5e4d4c),_0x5e4d4c;}return this['map']['get'](_0x4a177c);}}const QE=new xv(!(-0x676*0x4+-0x6b1+0x208a)),JE=new Kt(),dm=(_0x15372b,_0x42c717,_0x130c12)=>JE['get'](_0x15372b,()=>new xv())['get'](_0x42c717,()=>ZE(_0x15372b,_0x42c717,QE['get'](_0x42c717,_0x130c12))),eb=(_0x3c2682,_0x1eea92,_0x2973d8)=>{const _0x5aef77='lambert-sa'+'mples-'+_0x1eea92+'-'+_0x2973d8;return dm(_0x3c2682,_0x5aef77,()=>qE(_0x1eea92,_0x2973d8));},tb=(_0x4c56a7,_0x5a1f2a,_0x1ee1a7)=>{const _0x127b54='phong-samp'+'les-'+_0x5a1f2a+'-'+_0x1ee1a7;return dm(_0x4c56a7,_0x127b54,()=>XE(_0x5a1f2a,_0x1ee1a7));},sb=(_0x16009d,_0x548627,_0x345413,_0x2dbee8)=>{const _0xc6d959='ggx-sample'+'s-'+_0x548627+'-'+_0x345413+'-'+_0x2dbee8;return dm(_0x16009d,_0xc6d959,()=>KE(_0x548627,_0x345413,_0x2dbee8));};function vi(_0x523f7c,_0x428cd1,_0x30472d={}){var _0x555996,_0x28bd05;w['assert'](_0x523f7c instanceof _e&&_0x428cd1 instanceof _e,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x1dc384=_0x30472d['seamPixels']??-0x21af+-0x2*0x6c7+0x2f3d,_0x30ad81=(((_0x555996=_0x30472d['rect'])==null?void(-0xf23*0x2+-0x26e8+0x302*0x17):_0x555996['z'])??_0x428cd1['width'])-_0x1dc384*(0x1*0x1d7e+0x2*0x133+-0x48e*0x7),_0x5765ed=(((_0x28bd05=_0x30472d['rect'])==null?void(-0xe4e+-0x15ce+-0x241c*-0x1):_0x28bd05['w'])??_0x428cd1['height'])-_0x1dc384*(-0x355*0x5+0x3*-0xbd5+0xb*0x4be);if(_0x30ad81<0x35*-0x1a+-0x16f3+0x1*0x1c56||_0x5765ed<0x679+0x1*0x9d5+-0x104d)return!(-0x7*-0x4f1+-0x2623+0x38d);const _0x15bc1e={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x1a5d82=_0x30472d['hasOwnProp'+'erty']('specularPo'+'wer')?_0x30472d['specularPo'+'wer']:0x6a8+0x195b+-0x2002,_0x12b66d=_0x30472d['hasOwnProp'+'erty']('face')?_0x30472d['face']:null,_0x313a19=_0x30472d['hasOwnProp'+'erty']('distributi'+'on')?_0x30472d['distributi'+'on']:_0x1a5d82===-0x1f*-0xad+-0xc7*0x6+0x2*-0x824?'none':'phong',_0x8130bf=_0x15bc1e[_0x313a19]||'reproject',_0x356270=_0x8130bf['startsWith']('prefilterS'+'amples'),_0x3627af=Tr['decodeFunc'](_0x523f7c['encoding']),_0x22d2f2=Tr['encodeFunc'](_0x428cd1['encoding']),_0x199144='sample'+z_(_0x523f7c['projection']),_0x4aa32f='getDirecti'+'on'+z_(_0x428cd1['projection']),_0x50b86b=_0x30472d['hasOwnProp'+'erty']('numSamples')?_0x30472d['numSamples']:0x1e20+0xd*0x123+-0x25*0x11b,_0x516c6e='ReprojectS'+'hader:'+_0x8130bf+'_'+_0x3627af+'_'+_0x22d2f2+'_'+_0x199144+'_'+_0x4aa32f+'_'+_0x50b86b,_0x48e494=_0x523f7c['device'];let _0x1ad303=Hn(_0x48e494)['getCachedS'+'hader'](_0x516c6e);if(!_0x1ad303){const _0x3ffdf4=new Map();_0x356270&&_0x3ffdf4['set']('USE_SAMPLE'+'S_TEX',''),_0x523f7c['cubemap']&&_0x3ffdf4['set']('CUBEMAP_SO'+'URCE',''),_0x3ffdf4['set']('{PROCESS_F'+'UNC}',_0x8130bf),_0x3ffdf4['set']('{DECODE_FU'+'NC}',_0x3627af),_0x3ffdf4['set']('{ENCODE_FU'+'NC}',_0x22d2f2),_0x3ffdf4['set']('{SOURCE_FU'+'NC}',_0x199144),_0x3ffdf4['set']('{TARGET_FU'+'NC}',_0x4aa32f),_0x3ffdf4['set']('{NUM_SAMPL'+'ES}',_0x50b86b),_0x3ffdf4['set']('{NUM_SAMPL'+'ES_SQRT}',Math['round'](Math['sqrt'](_0x50b86b))['toFixed'](-0x1263+0x1b7e+-0x2*0x48d));const _0x398d65=_0x48e494['isWebGPU'],_0x1b61df=Pe['get'](_0x48e494,_0x398d65?it:Fe),_0x360dae=new Map();_0x360dae['set']('decodePS',_0x1b61df['get']('decodePS')),_0x360dae['set']('encodePS',_0x1b61df['get']('encodePS')),_0x1ad303=$t['createShad'+'er'](_0x48e494,{'uniqueName':_0x516c6e,'attributes':{'vertex_position':Me},'vertexChunk':'reprojectV'+'S','fragmentChunk':'reprojectP'+'S','fragmentIncludes':_0x360dae,'fragmentDefines':_0x3ffdf4});}Q['pushGpuMar'+'ker'](_0x48e494,'ReprojectT'+'exture'),_0x48e494['setBlendSt'+'ate'](pt['NOBLEND']);const _0x66a2b0=_0x48e494['scope']['resolve'](_0x523f7c['cubemap']?'sourceCube':'sourceTex');w['assert'](_0x66a2b0),_0x66a2b0['setValue'](_0x523f7c);const _0x46bc41=_0x48e494['scope']['resolve']('params'),_0x44f8b8=_0x48e494['scope']['resolve']('uvMod');_0x1dc384>-0x42a*-0x4+-0x9cc+-0x1*0x6dc?_0x44f8b8['setValue']([(_0x30ad81+_0x1dc384*(0x23bf+0x106e+-0x342b))/_0x30ad81,(_0x5765ed+_0x1dc384*(0x24*-0x21+-0x1e35+0x22db))/_0x5765ed,-_0x1dc384/_0x30ad81,-_0x1dc384/_0x5765ed]):_0x44f8b8['setValue']([-0x5*0x5f+0x1*-0x1df5+0x1fd1,-0x3*-0x95+-0xa*0x11+-0x3*0x5c,0x1163+-0x1eb*-0x7+-0x1ed0,-0x1b91+-0x962+0x3*0xc51]);const _0xae8858=[-0xb5d+-0x74*0x26+0x1c95,_0x428cd1['width']*_0x428cd1['height']*(_0x428cd1['cubemap']?-0x29e+0xb*0x3b+0x1b*0x1:-0xa1*0x25+0x13e2+0x364),_0x523f7c['width']*_0x523f7c['height']*(_0x523f7c['cubemap']?-0x1*-0x3e3+0x1c11*0x1+-0x1fee:-0x3a*0x27+-0x5*0x55+-0x380*-0x3)];if(_0x356270){const _0x1dbd37=_0x523f7c['width']*_0x523f7c['height']*(_0x523f7c['cubemap']?-0x1*0x9cf+0xa*0xa7+0x34f:-0x7c0+0x20b8+-0x7*0x391),_0x3cf08f=_0x313a19==='ggx'?sb(_0x48e494,_0x50b86b,_0x1a5d82,_0x1dbd37):_0x313a19==='lambert'?eb(_0x48e494,_0x50b86b,_0x1dbd37):tb(_0x48e494,_0x50b86b,_0x1a5d82);_0x48e494['scope']['resolve']('samplesTex')['setValue'](_0x3cf08f),_0x48e494['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(0x141*0x1d+-0x16a*-0xb+-0x33ea)/_0x3cf08f['width'],(0x11fe+-0x1ec8+0xccb)/_0x3cf08f['height']]);}for(let _0x2de213=-0xe06+-0x1a*-0x7+0xd50;_0x2de213<(_0x428cd1['cubemap']?-0x2*0x16c+0x575+-0x297:-0xcb2*0x1+-0x2*0x1027+0x2d01);_0x2de213++)if(_0x12b66d===null||_0x2de213===_0x12b66d){const _0xf34221=new gt({'colorBuffer':_0x428cd1,'face':_0x2de213,'depth':!(-0x17ac+-0x1*-0xfe+0x16af),'flipY':_0x48e494['isWebGPU']});_0xae8858[0x11bd+-0x200*-0x13+-0x37bd]=_0x2de213,_0x46bc41['setValue'](_0xae8858),Ar(_0x48e494,_0xf34221,_0x1ad303,_0x30472d==null?void(-0x20e2+0x410+0xe69*0x2):_0x30472d['rect']),_0xf34221['destroy']();}return Q['popGpuMark'+'er'](_0x48e494),!(0x44a*0x1+0x61*-0x5b+-0x1*-0x1e31);}const Kd=(_0x406c44,_0xc004c=-0x1bc7+0x86*0x3+0x1*0x1a35)=>-0x1f02+-0x83*-0x3+0x1d7a+Math['floor'](Math['log2'](Math['max'](_0x406c44,_0xc004c))),ib=_0x42ccdd=>_0x42ccdd['textureHal'+'fFloatRend'+'erable'],rb=_0xd19fcf=>_0xd19fcf['textureFlo'+'atRenderab'+'le'],ab=_0x1ce9fa=>ib(_0x1ce9fa)?nt:rb(_0x1ce9fa)?Xt:Ne,nb=_0x1547f6=>Ne,ob=(_0x404aa8,_0x342cc8,_0x9aed3a,_0x49e497)=>new _e(_0x404aa8,{'name':'lighting-'+_0x342cc8,'cubemap':!(-0x101d+-0x1a15+0x2*0x1519),'width':_0x342cc8,'height':_0x342cc8,'format':_0x9aed3a,'type':Qo,'addressU':ue,'addressV':ue,'mipmaps':!(-0x2b*0x35+0x2*0x8b3+0x1*-0x87e)});class Tv{static['generateSk'+'yboxCubema'+'p'](_0x6bb7b6,_0x1f0f27){const _0x284f79=_0x6bb7b6['device'];Q['pushGpuMar'+'ker'](_0x284f79,'genSkyboxC'+'ubemap');const _0x51b600=ob(_0x284f79,_0x1f0f27||(_0x6bb7b6['cubemap']?_0x6bb7b6['width']:_0x6bb7b6['width']/(-0x243e+0x90d*0x1+0x1b35)),Ne);return vi(_0x6bb7b6,_0x51b600,{'numSamples':0x400}),Q['popGpuMark'+'er'](_0x284f79),_0x51b600;}static['generateLi'+'ghtingSour'+'ce'](_0x4c229b,_0x5838c5){const _0x3edfde=_0x4c229b['device'];Q['pushGpuMar'+'ker'](_0x3edfde,'genLightin'+'gSource');const _0x2938ea=ab(_0x3edfde),_0xe87af4=(_0x5838c5==null?void(0x1960+0x37e+-0xa*0x2e3):_0x5838c5['target'])||new _e(_0x3edfde,{'name':'lighting-s'+'ource','cubemap':!(0x14f5+-0x13*-0x12a+0x1*-0x2b13),'width':(_0x5838c5==null?void(-0x1b*0x15f+0x419*-0x8+0x45cd):_0x5838c5['size'])||-0x3*-0x677+-0x1808+0x5*0x107,'height':(_0x5838c5==null?void(0x102c+-0xf6e+0x26*-0x5):_0x5838c5['size'])||-0x67*-0x51+0x25fa+-0x4611,'format':_0x2938ea,'type':_0x2938ea===Ne?Qo:Ds,'addressU':ue,'addressV':ue,'mipmaps':!(-0x196+-0x101+0x297)});return vi(_0x4c229b,_0xe87af4,{'numSamples':_0x4c229b['mipmaps']?0x1*0x8fe+-0x269d+0x1da0:0x1*-0xbfb+-0x34*0x8f+-0x2d07*-0x1}),Q['popGpuMark'+'er'](_0x3edfde),_0xe87af4;}static['generateAt'+'las'](_0x2b1bd2,_0x50bd5f){const _0x473ec4=_0x2b1bd2['device'],_0x12e623=nb();Q['pushGpuMar'+'ker'](_0x473ec4,'genAtlas');const _0x503560=(_0x50bd5f==null?void(0x2273*-0x1+0x1*0x1cc8+0x5ab):_0x50bd5f['target'])||new _e(_0x473ec4,{'name':'envAtlas','width':(_0x50bd5f==null?void(-0x114c+-0x4*0x698+0x2bac):_0x50bd5f['size'])||0x2fc*-0x3+-0x196a*-0x1+0x6*-0x269,'height':(_0x50bd5f==null?void(-0x117b*0x1+0xb2b*-0x3+-0x1f6*-0x1a):_0x50bd5f['size'])||-0x109+0x1d0b+0xd01*-0x2,'format':_0x12e623,'type':Qo,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(-0x1f71+0x162a+0x948)});Q['pushGpuMar'+'ker'](_0x473ec4,'mipmaps');const _0x3cc270=_0x503560['width']/(-0x34*-0x43+-0x2*-0x761+0x2a3*-0xa),_0x2293a1=new re(0x78c+-0xcd4*-0x3+-0x2e08,-0x2f*0xa6+-0x7b+0x13d*0x19,(0xb3b+-0x1*0x17f8+0x21b*0x7)*_0x3cc270,(0x2374+0x206b*0x1+-0x42df)*_0x3cc270),_0x3e3568=Kd(-0x1343+0x2329*-0x1+0x376c)-Kd(-0x7fb+-0x1*-0x31f+-0x138*-0x4);for(let _0x9f0300=0x408+0x18c8+-0x1cd0;_0x9f0300<_0x3e3568;++_0x9f0300)vi(_0x2b1bd2,_0x503560,{'numSamples':0x1,'rect':_0x2293a1,'seamPixels':_0x3cc270}),_0x2293a1['x']+=_0x2293a1['w'],_0x2293a1['y']+=_0x2293a1['w'],_0x2293a1['z']=Math['max'](-0x24ae+-0xb06+0x45*0xb1,Math['floor'](_0x2293a1['z']*(-0x1bef+0x1*0x17e2+0x40d+0.5))),_0x2293a1['w']=Math['max'](-0x17b9*-0x1+0x2*-0x130d+0xe62,Math['floor'](_0x2293a1['w']*(-0x2545+-0x86*0x1a+0x32e1+0.5)));Q['popGpuMark'+'er'](_0x473ec4),Q['pushGpuMar'+'ker'](_0x473ec4,'reflection'+'s'),_0x2293a1['set'](0x5e2*0x1+-0xec4+-0x471*-0x2,(0x453*-0x7+-0x4*0x84d+0x5*0xce5)*_0x3cc270,(0x1d84*-0x1+0x9df+0x14a5)*_0x3cc270,(0x36e+-0x1ccb+-0x3*-0x89f)*_0x3cc270);for(let _0x51192b=-0x254d+0x7a*-0x19+0x3138;_0x51192b<-0x99a+0xead+-0x50c;++_0x51192b)vi(_0x2b1bd2,_0x503560,{'numSamples':(_0x50bd5f==null?void(-0x1f4a+-0x7a8+0x2*0x1379):_0x50bd5f['numReflect'+'ionSamples'])||-0x19e2+0x1b*-0x15d+0x42b1,'distribution':(_0x50bd5f==null?void(-0x11ae*0x2+0x12cd+0x1d7*0x9):_0x50bd5f['distributi'+'on'])||'ggx','specularPower':Math['max'](-0x1d18+-0xfd6+0x2cef,0xab2+-0x3*-0xbcf+-0x261f>>_0x51192b*(0xb5*0x29+-0x16b0+-0x64b)),'rect':_0x2293a1,'seamPixels':_0x3cc270}),_0x2293a1['y']+=_0x2293a1['w'],_0x2293a1['z']=Math['max'](-0x1398+-0x120e*-0x1+0x18b,Math['floor'](_0x2293a1['z']*(0x117e*0x1+0x1abb+-0x2c39+0.5))),_0x2293a1['w']=Math['max'](-0xf6f*0x1+-0xfdb+-0x1*-0x1f4b,Math['floor'](_0x2293a1['w']*(-0x22d9+0x1*-0xa55+0x2d2e+0.5)));return Q['popGpuMark'+'er'](_0x473ec4),Q['pushGpuMar'+'ker'](_0x473ec4,'ambient'),_0x2293a1['set']((0x8*0x2d6+0x10*-0xca+-0x264*0x4)*_0x3cc270,(-0x303+0xb*0x221+-0x1*0x12e8)*_0x3cc270,(-0xa60+0x191b+0x1*-0xe7b)*_0x3cc270,(0x1*0x15e5+-0x2*0x121e+0xe77)*_0x3cc270),vi(_0x2b1bd2,_0x503560,{'numSamples':(_0x50bd5f==null?void(0xd4c+-0x12c4+0x578):_0x50bd5f['numAmbient'+'Samples'])||0xfb3+-0x4*-0x6ec+-0x1*0x2363,'distribution':'lambert','rect':_0x2293a1,'seamPixels':_0x3cc270}),Q['popGpuMark'+'er'](_0x473ec4),Q['popGpuMark'+'er'](_0x473ec4),_0x503560;}static['generatePr'+'efilteredA'+'tlas'](_0x4f1ab9,_0x19fc02){const _0x3574b2=_0x4f1ab9[-0x426+-0x11f*0x1c+0x2*0x11c5]['device'],_0x2d06e7=_0x4f1ab9[-0x872*0x1+-0xea8+-0x1*-0x171a]['format'],_0x5b465e=_0x4f1ab9[0x263c+-0x1*-0x19a9+0x5cf*-0xb]['type'];Q['pushGpuMar'+'ker'](_0x3574b2,'genPrefilt'+'eredAtlas');const _0x473e7d=(_0x19fc02==null?void(0x105*0x7+0x1e82+-0x25a5):_0x19fc02['target'])||new _e(_0x3574b2,{'name':'envPrefilt'+'eredAtlas','width':(_0x19fc02==null?void(0x1041+-0x25be+0x157d):_0x19fc02['size'])||0x2553+-0xe*0x28+0x1*-0x2123,'height':(_0x19fc02==null?void(0x226a+-0x1e43+-0x427):_0x19fc02['size'])||-0xdb1*0x1+0x1bf4+-0xc43,'format':_0x2d06e7,'type':_0x5b465e,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(-0x8*-0xe9+0x173*0xd+-0x2*0xd0f)});Q['pushGpuMar'+'ker'](_0x3574b2,'mipmaps');const _0x3cec25=_0x473e7d['width']/(-0x1459*-0x1+0x2ab+-0x21a*0xa),_0x264d37=new re(-0x197a*0x1+0x1*-0x14ab+0x2e25,0x94b+0xb91*-0x1+0x246,(-0x22e5*0x1+0x1*-0x1c75+0x5*0xd12)*_0x3cec25,(0x886*0x1+0x10b6+0x814*-0x3)*_0x3cec25),_0x1ec64c=Kd(0x1*0x2526+-0xf17+0x4f*-0x41);for(let _0x665a05=0x3b3*-0x4+0x1a46+-0x2*0x5bd;_0x665a05<_0x1ec64c;++_0x665a05)vi(_0x4f1ab9[0xf01+-0x1017+0x116],_0x473e7d,{'numSamples':0x1,'rect':_0x264d37,'seamPixels':_0x3cec25}),_0x264d37['x']+=_0x264d37['w'],_0x264d37['y']+=_0x264d37['w'],_0x264d37['z']=Math['max'](-0x5bf*0x4+-0x1*0x1fa8+0x36a5,Math['floor'](_0x264d37['z']*(0x493+0x1056+-0x14e9+0.5))),_0x264d37['w']=Math['max'](0x1033*0x1+-0x1*-0x6ed+0x7b5*-0x3,Math['floor'](_0x264d37['w']*(0xe33+0x925*-0x2+-0x3*-0x15d+0.5)));Q['popGpuMark'+'er'](_0x3574b2),Q['pushGpuMar'+'ker'](_0x3574b2,'reflection'+'s'),_0x264d37['set'](-0x258a+0x1daa+0x7e0,(0x4*-0x355+0x9*0x2a9+-0x99d)*_0x3cec25,(0xe9c+-0x13f4*0x1+0x658)*_0x3cec25,(0x176+-0x1cc9*-0x1+-0x1dbf)*_0x3cec25);for(let _0xde6eb6=-0x1d*0x29+-0x190b*0x1+-0x1*-0x1db1;_0xde6eb6<_0x4f1ab9['length'];++_0xde6eb6)vi(_0x4f1ab9[_0xde6eb6],_0x473e7d,{'numSamples':0x1,'rect':_0x264d37,'seamPixels':_0x3cec25}),_0x264d37['y']+=_0x264d37['w'],_0x264d37['z']=Math['max'](0xf6*-0xd+0x12b1+-0x632,Math['floor'](_0x264d37['z']*(-0x25*0x7f+0xf1*-0x9+0x44*0x65+0.5))),_0x264d37['w']=Math['max'](0x1b5a+0xc0f+0x1a*-0x184,Math['floor'](_0x264d37['w']*(-0x22*-0x29+-0x190a+0x1398+0.5)));return Q['popGpuMark'+'er'](_0x3574b2),Q['pushGpuMar'+'ker'](_0x3574b2,'ambient'),_0x264d37['set']((-0x710+0x2*0x10d7+-0x1a1e)*_0x3cec25,(-0x19f6+0x1*-0x1a67+0x35dd)*_0x3cec25,(0x1c10+0x1901+-0x34d1)*_0x3cec25,(0xa3e+-0x2*0xa60+0x551*0x2)*_0x3cec25),_0x19fc02!=null&&_0x19fc02['legacyAmbi'+'ent']?vi(_0x4f1ab9[0x808*0x3+0x1*0x625+-0x78e*0x4],_0x473e7d,{'numSamples':0x1,'rect':_0x264d37,'seamPixels':_0x3cec25}):vi(_0x4f1ab9[0x5*-0x2b+0x7b9*0x3+-0x1654],_0x473e7d,{'numSamples':(_0x19fc02==null?void(0x2543+-0x6b*0x3+-0x2402*0x1):_0x19fc02['numSamples'])||0x1*-0x2f3+0xa56*-0x1+0x1549,'distribution':'lambert','rect':_0x264d37,'seamPixels':_0x3cec25}),Q['popGpuMark'+'er'](_0x3574b2),Q['popGpuMark'+'er'](_0x3574b2),_0x473e7d;}}const lb={'aoPS':'1.57','clearCoatPS':'1.57','clearCoatGlossPS':'1.60','clearCoatNormalPS':'1.57','diffusePS':'1.57','emissivePS':'1.57','glossPS':'1.60','metalnessPS':'1.57','normalMapPS':'1.57','opacityPS':'1.57','parallaxPS':'1.57','sheenPS':'1.57','sheenGlossPS':'1.60','specularPS':'1.57','specularityFactorPS':'1.57','thicknessPS':'1.57','transmissionPS':'1.57','normalVertexPS':'1.55','aoDiffuseOccPS':'1.62','aoSpecOccPS':'2.6','clusteredLightPS':'1.62','clusteredLightShadowPS':'1.62','combinePS':'1.62','falloffInvSquaredPS':'1.62','falloffLinearPS':'1.62','lightDiffuseLambertPS':'1.62','lightSheenPS':'1.62','lightSpecularAnisoGGXPS':'1.62','lightSpecularBlinnPS':'1.62','ltcPS':'1.62','reflDirPS':'1.62','reflDirAnisoPS':'1.62','reflectionCCPS':'1.62','reflectionCubePS':'2.6','reflectionEnvPS':'2.6','reflectionEnvHQPS':'2.6','reflectionSpherePS':'2.6','reflectionSheenPS':'1.62','shadowCommonPS':'1.62','shadowCoordPS':'1.62','shadowCoordPerspZBufferPS':'1.62','shadowEVSMPS':'1.62','spotPS':'1.62','TBNPS':'1.62','endPS':'1.65','metalnessModulatePS':'1.65','outputAlphaPS':'1.65','outputAlphaPremulPS':'1.65','fresnelSchlickPS':'1.65','iridescenceDiffractionPS':'1.65','lightmapAddPS':'1.65','refractionCubePS':'1.70','refractionDynamicPS':'1.70'},V_={'ambientPrefilteredCubePS':'1.51','ambientPrefilteredCubeLodPS':'1.51','dpAtlasQuadPS':'1.51','genParaboloidPS':'1.51','prefilterCubemapPS':'1.51','reflectionDpAtlasPS':'1.51','reflectionPrefilteredCubePS':'1.51','reflectionPrefilteredCubeLodPS':'1.51','refractionPS':'1.56','combineClearCoatPS':'1.56','combineDiffusePS':'1.56','combineDiffuseSpecularPS':'1.56','combineDiffuseSpecularNoReflPS':'1.56','combineDiffuseSpecularNoReflSeparateAmbientPS':'1.56','combineDiffuseSpecularOldPS':'1.56','lightmapSingleVertPS':'1.55','normalMapFastPS':'1.55','specularAaNonePS':'1.55','specularAaToksvigPS':'1.55','specularAaToksvigFastPS':'1.55','skyboxEnvPS':'2.1','skyboxHDRPS':'2.1','shadowVSM8PS':'2.3','fogExpPS':'2.5','fogExp2PS':'2.5','fogLinearPS':'2.5','fogNonePS':'2.5','gamma1_0PS':'2.5','gamma2_2PS':'2.5','storeEVSMPS':'2.6','shadowEVSMnPS':'2.6','shadowVSM_commonPS':'2.6','shadowStandardPS':'2.6','shadowStandardGL2PS':'2.6','startVS':'2.6','endVS':'2.6','baseVS':'2.6','baseNineSlicedVS':'2.6','viewNormalVS':'2.6','lightmapDirAddPS':'2.6','TBNObjectSpacePS':'2.6','TBNderivativePS':'2.6','startPS':'2.6','outputAlphaOpaque':'2.6','outputAlphaPremul':'2.6','cubeMapProjectBoxPS':'2.6','cubeMapProjectNonePS':'2.6','envMultiplyPS':'2.6','envConstPS':'2.6','aoSpecOccConstPS':'2.6','aoSpecOccConstSimplePS':'2.6','aoSpecOccSimplePS':'2.6','ambientConstantPS':'2.6','ambientEnvPS':'2.6','ambientSHPS':'2.6','shadowSampleCoordPS':'2.6','diffuseDetailMapPS':'2.7','normalDetailMapPS':'2.7','normalXYPS':'2.7','normalXYZPS':'2.7','aoDetailMapPS':'2.7','lightmapDirPS':'2.7','lightmapSinglePS':'2.7','tangentBinormalVS':'2.7'},cb=(_0x3770e6,_0x4fdc3e)=>{const _0x54596a=_0x3770e6['split']('.')['map'](_0x4b3ed1=>parseInt(_0x4b3ed1,0x2368+0x1*0x1d7e+-0x40dc)),_0x58a3b8=_0x4fdc3e['split']('.')['map'](_0x554ce3=>parseInt(_0x554ce3,-0x1c9*0xa+-0x38*0x41+0x201c));return _0x54596a[0xe4e+-0x16*0x6a+-0x1*0x532]<_0x58a3b8[-0x138c+-0x18*0x130+0x99c*0x5]||_0x54596a[0x1*0x1a37+-0x1353+-0x2a*0x2a]===_0x58a3b8[0x1921+-0xb*0x191+0x151*-0x6]&&_0x54596a[0x2364+0x3c+0xb*-0x33d]<_0x58a3b8[-0xe8*-0x7+-0xf1*-0x1b+-0x1fc2];},hb=(_0x5042de,_0x3285ac)=>{for(const _0x29367c of _0x5042de['keys']())if(V_['hasOwnProp'+'erty'](_0x29367c)){const _0x5e9f2b=V_[_0x29367c];w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x29367c+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x5e9f2b+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.'));}else{const _0x1b39e3=lb[_0x29367c];_0x1b39e3&&(!_0x3285ac||cb(_0x3285ac,_0x1b39e3))&&w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x29367c+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x1b39e3+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x3285ac||'undefined')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}},Zd={'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_color':Wt,'vertex_boneWeights':gi,'vertex_boneIndices':us};class db{constructor(_0x4d2d00,_0x424dc0,_0x22d488=!(-0x105d+0x811+0xec*0x9)){h(this,'varyingsCo'+'de',''),h(this,'device'),h(this,'options'),h(this,'shaderLang'+'uage'),h(this,'vDefines',new Map()),h(this,'fDefines',new Map()),h(this,'includes',new Map()),h(this,'chunks',null),(this['device']=_0x4d2d00,this['options']=_0x424dc0);const _0x13f251=_0x424dc0['shaderChun'+'ks'];if(this['shaderLang'+'uage']=_0x4d2d00['isWebGPU']&&_0x22d488&&(_0x13f251!=null&&_0x13f251['useWGSL'])?it:Fe,this['attributes']={'vertex_position':Me},_0x424dc0['userAttrib'+'utes']){for(const [_0x3ff4b,_0x4c6132]of Object['entries'](_0x424dc0['userAttrib'+'utes']))this['attributes'][_0x4c6132]=_0x3ff4b;}const _0x378acc=Pe['get'](_0x4d2d00,this['shaderLang'+'uage']);if(this['chunks']=new Map(_0x378acc),_0x13f251){const _0x384c6b=this['shaderLang'+'uage']===Fe?_0x13f251['glsl']:_0x13f251['wgsl'];w['call'](()=>{hb(_0x384c6b,_0x13f251['version']);}),_0x384c6b['forEach']((_0x2a7158,_0x19477d)=>{for(const _0x18a503 in Zd)Zd['hasOwnProp'+'erty'](_0x18a503)&&_0x2a7158['indexOf'](_0x18a503)>=0x81*-0xf+-0x1fca+0x2759*0x1&&(this['attributes'][_0x18a503]=Zd[_0x18a503]);this['chunks']['set'](_0x19477d,_0x2a7158);});}this['shaderPass'+'Info']=Si['get'](this['device'])['getByIndex'](_0x424dc0['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x424dc0['lights']['length']>0x14d3+-0x102*0x19+0x3*0x175||_0x424dc0['dirLightMa'+'pEnabled']||_0x424dc0['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=_0x424dc0['reflection'+'Source']!==vr,this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x424dc0['useSpecula'+'r']||_0x424dc0['ambientSH']||_0x424dc0['useHeights']||_0x424dc0['enableGGXS'+'pecular']||_0x424dc0['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x424dc0['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x424dc0['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x424dc0['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x424dc0['useDynamic'+'Refraction'],this['vshader']=null,this['fshader']=null;}['fDefineSet'](_0x481a9b,_0x4c5bcc,_0x4aade7=''){_0x481a9b&&this['fDefines']['set'](_0x4c5bcc,_0x4aade7);}['generateVe'+'rtexShader'](_0x4ff509,_0x181150,_0x41069d){const {options:_0x2444ce,vDefines:_0x27c63a,attributes:_0x1c9fc1}=this,_0x2a67f2=new Map();if(_0x2a67f2['set']('vPositionW','vec3'),(_0x2444ce['nineSliced'+'Mode']===Pt||_0x2444ce['nineSliced'+'Mode']===Mt)&&_0x27c63a['set']('NINESLICED',!(-0x21d*-0x3+-0x40f+-0x248)),this['options']['linearDept'+'h']&&(_0x27c63a['set']('LINEAR_DEP'+'TH',!(-0xe*-0x1e8+0x1a79+0x3529*-0x1)),_0x2a67f2['set']('vLinearDep'+'th','float')),this['needsNorma'+'l']&&_0x27c63a['set']('NORMALS',!(0x27*0xf1+-0x775+-0x1d42)),this['options']['useInstanc'+'ing']){const _0x5403e1=Pe['get'](this['device'],this['shaderLang'+'uage']);this['chunks']['get']('transformI'+'nstancingV'+'S')===_0x5403e1['get']('transformI'+'nstancingV'+'S')&&(_0x1c9fc1['instance_l'+'ine1']=Mp,_0x1c9fc1['instance_l'+'ine2']=Dp,_0x1c9fc1['instance_l'+'ine3']=Ip,_0x1c9fc1['instance_l'+'ine4']=Ln);}this['needsNorma'+'l']&&(_0x1c9fc1['vertex_nor'+'mal']=gs,_0x2a67f2['set']('vNormalW','vec3'),_0x2444ce['hasTangent'+'s']&&(_0x2444ce['useHeights']||_0x2444ce['useNormals']||_0x2444ce['useClearCo'+'atNormals']||_0x2444ce['enableGGXS'+'pecular'])?(_0x27c63a['set']('TANGENTS',!(0x1b1b+0x1*-0x194d+-0x9a*0x3)),_0x1c9fc1['vertex_tan'+'gent']=yi,_0x2a67f2['set']('vTangentW','vec3'),_0x2a67f2['set']('vBinormalW','vec3')):_0x2444ce['enableGGXS'+'pecular']&&(_0x27c63a['set']('GGX_SPECUL'+'AR',!(0x16*-0x1bf+-0x1b99+0x4203)),_0x2a67f2['set']('vObjectSpa'+'ceUpW','vec3')));const _0x11752c=0x1*-0x1565+-0x695*-0x3+0x1a8;for(let _0x53f53a=-0x4b8+0x1eeb+0x161*-0x13;_0x53f53a<_0x11752c;_0x53f53a++)_0x4ff509[_0x53f53a]&&(_0x27c63a['set']('UV'+_0x53f53a,!(0x1*-0xdff+0x3*0x7c4+-0x94d)),_0x1c9fc1['vertex_tex'+'Coord'+_0x53f53a]='TEXCOORD'+_0x53f53a),_0x181150[_0x53f53a]&&(_0x27c63a['set']('UV'+_0x53f53a+('_UNMODIFIE'+'D'),!(-0x1e1*0x3+0x121a*0x1+-0xc77)),_0x2a67f2['set']('vUv'+_0x53f53a,'vec2'));let _0x530cf0=0x13ac+-0x1d*-0x8+-0x1494*0x1;const _0x297ee9=new Set();_0x41069d['forEach'](_0x5031c6=>{const {id:_0x288843,uv:_0x43622a,name:_0x220245}=_0x5031c6,_0x2f5b87=_0x288843+_0x43622a*(0x29*-0x47+0x26b3+0x10*-0x1af);if(!_0x297ee9['has'](_0x2f5b87)){_0x297ee9['add'](_0x2f5b87),_0x2a67f2['set']('vUV'+_0x43622a+'_'+_0x288843,'vec2');const _0x2cd08f='texture_'+_0x220245+('MapTransfo'+'rm');_0x27c63a['set']('{TRANSFORM'+'_NAME_'+_0x530cf0+'}',_0x2cd08f),_0x27c63a['set']('{TRANSFORM'+'_UV_'+_0x530cf0+'}',_0x43622a),_0x27c63a['set']('{TRANSFORM'+'_ID_'+_0x530cf0+'}',_0x288843),_0x530cf0++;}}),_0x27c63a['set']('UV_TRANSFO'+'RMS_COUNT',_0x530cf0),_0x2444ce['vertexColo'+'rs']&&(_0x1c9fc1['vertex_col'+'or']=Wt,_0x27c63a['set']('VERTEX_COL'+'OR',!(-0x2c7*0x1+-0x2189+0x8*0x48a)),_0x2a67f2['set']('vVertexCol'+'or','vec4')),_0x2444ce['useMsdf']&&_0x2444ce['msdfTextAt'+'tribute']&&(_0x1c9fc1['vertex_out'+'lineParame'+'ters']=Ko,_0x1c9fc1['vertex_sha'+'dowParamet'+'ers']=Zo,_0x27c63a['set']('MSDF',!(0x1810+-0x20ed*0x1+0x1*0x8dd))),(_0x2444ce['useMorphPo'+'sition']||_0x2444ce['useMorphNo'+'rmal'])&&(_0x27c63a['set']('MORPHING',!(0x1b5e+0x79a+-0x22f8)),_0x2444ce['useMorphTe'+'xtureBased'+'Int']&&_0x27c63a['set']('MORPHING_I'+'NT',!(0x991+0x208e+-0x29*0x107)),_0x2444ce['useMorphPo'+'sition']&&_0x27c63a['set']('MORPHING_P'+'OSITION',!(-0x199c+0x2104+-0xed*0x8)),_0x2444ce['useMorphNo'+'rmal']&&_0x27c63a['set']('MORPHING_N'+'ORMAL',!(0x1a*0x52+0x1d68+0xa*-0x3c6)),_0x1c9fc1['morph_vert'+'ex_id']=Ln),_0x2444ce['skin']&&(_0x1c9fc1['vertex_bon'+'eIndices']=us,_0x2444ce['batch']?_0x27c63a['set']('BATCH',!(-0x1*-0x10a3+0x168e+0x1*-0x2731)):(_0x1c9fc1['vertex_bon'+'eWeights']=gi,_0x27c63a['set']('SKIN',!(-0x1*0x33d+0x17*0x1a8+0x1*-0x22db)))),_0x2444ce['useInstanc'+'ing']&&_0x27c63a['set']('INSTANCING',!(0x235f+-0x1*-0x1c2f+-0x3f8e)),_0x2444ce['screenSpac'+'e']&&_0x27c63a['set']('SCREENSPAC'+'E',!(-0x49*-0x1b+0x2ee+-0xaa1)),_0x2444ce['pixelSnap']&&_0x27c63a['set']('PIXELSNAP',!(-0x1ef3+0x115e+0xd95)),_0x2a67f2['forEach']((_0x2fe5a5,_0x59fa97)=>{this['varyingsCo'+'de']+='#define\x20VA'+'RYING_'+_0x59fa97['toUpperCas'+'e']()+'\x0a',this['varyingsCo'+'de']+=this['shaderLang'+'uage']===it?'varying\x20'+_0x59fa97+':\x20'+Fy['get'](_0x2fe5a5)+';\x0a':'varying\x20'+_0x2fe5a5+'\x20'+_0x59fa97+';\x0a';}),this['includes']['set']('varyingsVS',this['varyingsCo'+'de']),this['includes']['set']('varyingsPS',this['varyingsCo'+'de']),this['vshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}['_setupLigh'+'tingDefine'+'s'](_0x190a6d,_0xcc38a7){const _0x586100=this['fDefines'],_0x4e8e06=this['options'];if(this['fDefines']['set']('LIGHT_COUN'+'T',_0x4e8e06['lights']['length']),_0x190a6d&&_0x586100['set']('AREA_LIGHT'+'S',!(0x13*-0x13+0x37*0x47+-0x6ec*0x2)),_0xcc38a7&&this['lighting']&&(_0x586100['set']('LIT_CLUSTE'+'RED_LIGHTS',!(0x1949*-0x1+0xa*0x37c+-0x98f*0x1)),_0x4e8e06['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x586100['set']('CLUSTER_CO'+'OKIES',!(-0xd42+0x707*-0x1+-0x6c3*-0x3)),_0x4e8e06['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x586100['set']('CLUSTER_AR'+'EALIGHTS',!(-0x1065+-0x1289+-0x1177*-0x2)),_0x4e8e06['lightMaskD'+'ynamic']&&_0x586100['set']('CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS',!(0xe4f*0x1+0x38c+-0x11db)),_0x4e8e06['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x4e8e06['noShadow'])){const _0x31aa0b=qi['get'](_0x4e8e06['clusteredL'+'ightingSha'+'dowType']);_0x586100['set']('CLUSTER_SH'+'ADOWS',!(0x1827+0xb8b+-0x23b2)),_0x586100['set']('SHADOW_KIN'+'D_'+_0x31aa0b['kind'],!(0x2*0x224+0x13d2+-0xc0d*0x2)),_0x586100['set']('CLUSTER_SH'+'ADOW_TYPE_'+_0x31aa0b['kind'],!(-0xf2+0x9b7+0x1c1*-0x5));}for(let _0x1eba62=-0x159d*0x1+-0x1c*-0x149+-0xe5f;_0x1eba62<_0x4e8e06['lights']['length'];_0x1eba62++){const _0x4a0a2c=_0x4e8e06['lights'][_0x1eba62],_0x4a49f0=_0x4a0a2c['_type'];if(_0xcc38a7&&_0x4a49f0!==ve)continue;const _0x5647af=_0x190a6d&&_0x4a0a2c['_shape']?_0x4a0a2c['_shape']:Ys,_0x1608f1=_0x4a0a2c['_shadowTyp'+'e'],_0x4aaba1=_0x4a0a2c['castShadow'+'s']&&!_0x4e8e06['noShadow'],_0x4515e6=qi['get'](_0x1608f1);w['assert'](_0x4515e6),_0x586100['set']('LIGHT'+_0x1eba62,!(0x78*-0x2b+0x1*-0x3cb+0x17f3)),_0x586100['set']('LIGHT'+_0x1eba62+'TYPE',''+u_[_0x4a49f0]),_0x586100['set']('LIGHT'+_0x1eba62+'SHADOWTYPE',''+_0x4515e6['name']),_0x586100['set']('LIGHT'+_0x1eba62+'SHAPE',''+Fw[_0x5647af]),_0x586100['set']('LIGHT'+_0x1eba62+'FALLOFF',''+Nw[_0x4a0a2c['_falloffMo'+'de']]),_0x4a0a2c['affectSpec'+'ularity']&&_0x586100['set']('LIGHT'+_0x1eba62+('AFFECT_SPE'+'CULARITY'),!(-0x106b+0xb4b+0x520)),_0x4a0a2c['_cookie']&&(_0x4a49f0===Ze&&!_0x4a0a2c['_cookie']['_cubemap']||_0x4a49f0===Ke&&_0x4a0a2c['_cookie']['_cubemap'])&&(_0x586100['set']('LIGHT'+_0x1eba62+'COOKIE',!(0xfeb+-0x2ef*0x1+-0xcfc)),_0x586100['set']('{LIGHT'+_0x1eba62+('COOKIE_CHA'+'NNEL}'),_0x4a0a2c['_cookieCha'+'nnel']),_0x4a49f0===Ze&&(_0x4a0a2c['_cookieTra'+'nsform']&&_0x586100['set']('LIGHT'+_0x1eba62+('COOKIE_TRA'+'NSFORM'),!(0x26cf+0x92*-0xe+-0x1ed3)),_0x4a0a2c['_cookieFal'+'loff']&&_0x586100['set']('LIGHT'+_0x1eba62+('COOKIE_FAL'+'LOFF'),!(0x3b9*0x2+0x416*-0x4+0x22*0x43)))),_0x4aaba1&&(_0x586100['set']('LIGHT'+_0x1eba62+'CASTSHADOW',!(-0x3*0xa52+-0x1d94+0x3c8a)),_0x4515e6['pcf']&&_0x586100['set']('LIGHT'+_0x1eba62+'SHADOW_PCF',!(-0x3*-0x511+0x1*0x443+-0x1376*0x1)),_0x4a0a2c['_normalOff'+'setBias']&&!_0x4a0a2c['_isVsm']&&_0x586100['set']('LIGHT'+_0x1eba62+('_SHADOW_SA'+'MPLE_NORMA'+'L_OFFSET'),!(-0x12*0x62+0x2090+0x19ac*-0x1)),_0x4a49f0===ve&&(_0x586100['set']('LIGHT'+_0x1eba62+('_SHADOW_SA'+'MPLE_ORTHO'),!(-0xf5e+-0x1*0xc41+-0x1*-0x1b9f)),_0x4a0a2c['cascadeBle'+'nd']>-0x17dc*0x1+-0x10*0x157+0xd*0x37c&&_0x586100['set']('LIGHT'+_0x1eba62+('_SHADOW_CA'+'SCADE_BLEN'+'D'),!(0x1*0x8eb+0x6b8+-0xfa3)),_0x4a0a2c['numCascade'+'s']>0x1*-0x1a95+0x148f+-0x607*-0x1&&_0x586100['set']('LIGHT'+_0x1eba62+('_SHADOW_CA'+'SCADES'),!(-0x59*0x43+0x10*0xda+0x9*0x113))),(_0x4515e6['pcf']||_0x4515e6['pcss']||this['device']['isWebGPU'])&&_0x586100['set']('LIGHT'+_0x1eba62+('_SHADOW_SA'+'MPLE_SOURC'+'E_ZBUFFER'),!(0x1707+0x57*-0x62+0xa47*0x1)),_0x4a49f0===Ke&&_0x586100['set']('LIGHT'+_0x1eba62+('_SHADOW_SA'+'MPLE_POINT'),!(-0x12*0x14b+-0x22*-0xd0+0x22d*-0x2))),_0x4aaba1&&(_0x586100['set']('SHADOW_KIN'+'D_'+_0x4515e6['kind'],!(0x1277+-0xeb9*0x1+-0x3be)),_0x4a49f0===ve&&_0x586100['set']('SHADOW_DIR'+'ECTIONAL',!(0x58a+0x81+-0x60b)));}}['prepareFor'+'wardPass'](_0xfefc1){const {options:_0x1e549d}=this,_0x9771ec=_0x1e549d['clusteredL'+'ightingEna'+'bled']&&_0x1e549d['clusteredL'+'ightingAre'+'aLightsEna'+'bled']||_0x1e549d['lights']['some'](_0x1b4bde=>_0x1b4bde['_shape']&&_0x1b4bde['_shape']!==Ys),_0xdb3492=!_0x1e549d['lightMapEn'+'abled']||_0x1e549d['lightMapWi'+'thoutAmbie'+'nt'],_0x57eca9=this['needsNorma'+'l']&&(_0x1e549d['useNormals']||_0x1e549d['useClearCo'+'atNormals']||_0x1e549d['enableGGXS'+'pecular']&&!_0x1e549d['useHeights']);_0x1e549d['useSpecula'+'r']&&(this['fDefineSet'](!(-0x1*0x2122+-0x20fd+0x421f),'LIT_SPECUL'+'AR'),this['fDefineSet'](this['reflection'+'s'],'LIT_REFLEC'+'TIONS'),this['fDefineSet'](_0x1e549d['useClearCo'+'at'],'LIT_CLEARC'+'OAT'),this['fDefineSet'](_0x1e549d['fresnelMod'+'el']>0x4e8+0x26f5+-0x2bdd,'LIT_SPECUL'+'AR_FRESNEL'),this['fDefineSet'](_0x1e549d['useSheen'],'LIT_SHEEN'),this['fDefineSet'](_0x1e549d['useIridesc'+'ence'],'LIT_IRIDES'+'CENCE')),this['fDefineSet'](this['lighting']&&_0x1e549d['useSpecula'+'r']||this['reflection'+'s'],'LIT_SPECUL'+'AR_OR_REFL'+'ECTION'),this['fDefineSet'](this['needsScene'+'Color'],'LIT_SCENE_'+'COLOR'),this['fDefineSet'](this['needsScree'+'nSize'],'LIT_SCREEN'+'_SIZE'),this['fDefineSet'](this['needsTrans'+'forms'],'LIT_TRANSF'+'ORMS'),this['fDefineSet'](this['needsNorma'+'l'],'LIT_NEEDS_'+'NORMAL'),this['fDefineSet'](this['lighting'],'LIT_LIGHTI'+'NG'),this['fDefineSet'](_0x1e549d['useMetalne'+'ss'],'LIT_METALN'+'ESS'),this['fDefineSet'](_0x1e549d['enableGGXS'+'pecular'],'LIT_GGX_SP'+'ECULAR'),this['fDefineSet'](_0x1e549d['useSpecula'+'rityFactor'],'LIT_SPECUL'+'ARITY_FACT'+'OR'),this['fDefineSet'](_0x1e549d['useCubeMap'+'Rotation'],'CUBEMAP_RO'+'TATION'),this['fDefineSet'](_0x1e549d['occludeSpe'+'cularFloat'],'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT'),this['fDefineSet'](_0x1e549d['separateAm'+'bient'],'LIT_SEPARA'+'TE_AMBIENT'),this['fDefineSet'](_0x1e549d['twoSidedLi'+'ghting'],'LIT_TWO_SI'+'DED_LIGHTI'+'NG'),this['fDefineSet'](_0x1e549d['lightMapEn'+'abled'],'LIT_LIGHTM'+'AP'),this['fDefineSet'](_0x1e549d['dirLightMa'+'pEnabled'],'LIT_DIR_LI'+'GHTMAP'),this['fDefineSet'](_0x1e549d['skyboxInte'+'nsity']>0x1d32+0x1e8f*-0x1+-0x15d*-0x1,'LIT_SKYBOX'+'_INTENSITY'),this['fDefineSet'](_0x1e549d['clusteredL'+'ightingSha'+'dowsEnable'+'d'],'LIT_CLUSTE'+'RED_SHADOW'+'S'),this['fDefineSet'](_0x1e549d['clusteredL'+'ightingAre'+'aLightsEna'+'bled'],'LIT_CLUSTE'+'RED_AREA_L'+'IGHTS'),this['fDefineSet'](_0x57eca9,'LIT_TBN'),this['fDefineSet'](_0xdb3492,'LIT_ADD_AM'+'BIENT'),this['fDefineSet'](_0x1e549d['hasTangent'+'s'],'LIT_TANGEN'+'TS'),this['fDefineSet'](_0x1e549d['useNormals'],'LIT_USE_NO'+'RMALS'),this['fDefineSet'](_0x1e549d['useClearCo'+'atNormals'],'LIT_USE_CL'+'EARCOAT_NO'+'RMALS'),this['fDefineSet'](_0x1e549d['useRefract'+'ion'],'LIT_REFRAC'+'TION'),this['fDefineSet'](_0x1e549d['useDynamic'+'Refraction'],'LIT_DYNAMI'+'C_REFRACTI'+'ON'),this['fDefineSet'](_0x1e549d['dispersion'],'LIT_DISPER'+'SION'),this['fDefineSet'](_0x1e549d['useHeights'],'LIT_HEIGHT'+'S'),this['fDefineSet'](_0x1e549d['opacityFad'+'esSpecular'],'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR'),this['fDefineSet'](_0x1e549d['alphaToCov'+'erage'],'LIT_ALPHA_'+'TO_COVERAG'+'E'),this['fDefineSet'](_0x1e549d['alphaTest'],'LIT_ALPHA_'+'TEST'),this['fDefineSet'](_0x1e549d['useMsdf'],'LIT_MSDF'),this['fDefineSet'](_0x1e549d['ssao'],'LIT_SSAO'),this['fDefineSet'](_0x1e549d['useAo'],'LIT_AO'),this['fDefineSet'](_0x1e549d['occludeDir'+'ect'],'LIT_OCCLUD'+'E_DIRECT'),this['fDefineSet'](_0x1e549d['msdfTextAt'+'tribute'],'LIT_MSDF_T'+'EXT_ATTRIB'+'UTE'),this['fDefineSet'](_0x1e549d['diffuseMap'+'Enabled'],'LIT_DIFFUS'+'E_MAP'),this['fDefineSet'](_0x1e549d['shadowCatc'+'her'],'LIT_SHADOW'+'_CATCHER'),this['fDefineSet'](!(-0x5*0x15b+0x2275+-0x1bae),'LIT_FRESNE'+'L_MODEL',Rw[_0x1e549d['fresnelMod'+'el']]),this['fDefineSet'](!(0x3ba*-0x9+-0x2*-0x6f3+0x13a4),'LIT_NONE_S'+'LICE_MODE',qw[_0x1e549d['nineSliced'+'Mode']]),this['fDefineSet'](!(0x83*-0x47+-0xdd8+0x322d),'LIT_BLEND_'+'TYPE',Yy[_0x1e549d['blendType']]),this['fDefineSet'](!(-0x13ff+-0x185a+0x2c59),'LIT_CUBEMA'+'P_PROJECTI'+'ON',Gw[_0x1e549d['cubeMapPro'+'jection']]),this['fDefineSet'](!(-0x3*-0x153+0x8e6+-0x1*0xcdf),'LIT_OCCLUD'+'E_SPECULAR',Ww[_0x1e549d['occludeSpe'+'cular']]),this['fDefineSet'](!(0x21e4+0x91f+-0x2b03),'LIT_REFLEC'+'TION_SOURC'+'E',$w[_0x1e549d['reflection'+'Source']]),this['fDefineSet'](!(0xc6d+0xce6*0x1+-0x1953),'LIT_AMBIEN'+'T_SOURCE',Xw[_0x1e549d['ambientSou'+'rce']]),this['fDefineSet'](!(0x6b3+0xd1f*-0x2+0x1*0x138b),'{lightingU'+'v}',_0xfefc1??''),this['fDefineSet'](!(0x8ed+-0x1dcf*0x1+0x14e2),'{reflectio'+'nDecode}',Tr['decodeFunc'](_0x1e549d['reflection'+'Encoding'])),this['fDefineSet'](!(0x1dc3+0x1*-0x1327+-0xa9c),'{reflectio'+'nCubemapDe'+'code}',Tr['decodeFunc'](_0x1e549d['reflection'+'CubemapEnc'+'oding'])),this['fDefineSet'](!(0x1fa+-0x58*0x7+0x6e),'{ambientDe'+'code}',Tr['decodeFunc'](_0x1e549d['ambientEnc'+'oding'])),this['_setupLigh'+'tingDefine'+'s'](_0x9771ec,_0x1e549d['clusteredL'+'ightingEna'+'bled']);}['prepareSha'+'dowPass'](){const {options:_0x166fd8}=this,_0xcf7dda=this['shaderPass'+'Info']['lightType'],_0x2ab982=this['shaderPass'+'Info']['shadowType'],_0x5acad0=qi['get'](_0x2ab982);w['assert'](_0x5acad0);const _0x3694a6=_0xcf7dda===ve||!_0x5acad0['vsm']&&_0xcf7dda===Ze;this['fDefineSet'](_0x3694a6,'PERSPECTIV'+'E_DEPTH'),this['fDefineSet'](!(-0x22*-0x8e+0x2*-0x49b+-0x9a6),'LIGHT_TYPE',''+u_[_0xcf7dda]),this['fDefineSet'](!(0x2018+-0x2*0xc23+0x8f*-0xe),'SHADOW_TYP'+'E',''+_0x5acad0['name']),this['fDefineSet'](_0x166fd8['alphaTest'],'LIT_ALPHA_'+'TEST');}['generateFr'+'agmentShad'+'er'](_0x58f23f,_0x1cfa90,_0x112d14){const _0x54d667=this['options'];this['includes']['set']('frontendDe'+'clPS',_0x58f23f??''),this['includes']['set']('frontendCo'+'dePS',_0x1cfa90??''),_0x54d667['pass']===Zn||_0x54d667['pass']===Rl||(this['shadowPass']?this['prepareSha'+'dowPass']():this['prepareFor'+'wardPass'](_0x112d14)),this['fshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}}class wv{constructor(){h(this,'hasTangent'+'s',!(-0x2092*-0x1+0x11*0xf8+-0x3109)),h(this,'shaderChun'+'ks',null),h(this,'pass',-0x503+0x5*0x137+-0x110),h(this,'alphaTest',!(0x1bfe+0xd*0x2e9+-0x41d2)),h(this,'blendType',Cs),h(this,'separateAm'+'bient',!(0xb69+-0x2254+0x16ec)),h(this,'screenSpac'+'e',!(-0xc1+-0x2*0x9aa+0x1416)),h(this,'skin',!(0x22a4+0xe75*-0x1+-0x142e)),h(this,'batch',!(-0x265b+-0x1*0x408+0x2a64)),h(this,'useInstanc'+'ing',!(0xf61+-0x4*0xdb+-0xbf4)),h(this,'useMorphPo'+'sition',!(-0x1*0x1275+-0x1994*0x1+0x2c0a)),h(this,'useMorphNo'+'rmal',!(-0x16a4+-0x1*0x1a41+0x472*0xb)),h(this,'useMorphTe'+'xtureBased'+'Int',!(-0x11*-0x67+0x133*-0x1+-0x5a3)),h(this,'nineSliced'+'Mode',-0x1b25+-0x1d2c+0x3851),h(this,'clusteredL'+'ightingEna'+'bled',!(0x3*0x243+-0x1*0x634+-0x95)),h(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0x215b+0x234+-0x1*0x238e)),h(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0xe73+0x138f+0x1*-0x51b)),h(this,'clusteredL'+'ightingSha'+'dowType',0x18a*0x13+-0x771+-0x1*0x15cd),h(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(0x1e89+0x26a6+-0x452e)),h(this,'vertexColo'+'rs',!(-0xed+-0x699*0x3+0x1*0x14b9)),h(this,'lightMapEn'+'abled',!(-0x2603+0x1*-0xbf0+0x31f4)),h(this,'dirLightMa'+'pEnabled',!(-0x653+0x649*0x3+-0xc87)),h(this,'useHeights',!(0xfab+0x2*-0xf46+-0x4f6*-0x3)),h(this,'useNormals',!(-0x14e8+-0xe0*-0x4+0x1169)),h(this,'useClearCo'+'atNormals',!(-0x2*0x11d1+0x25+-0x2*-0x11bf)),h(this,'useAo',!(-0x223e+0x7*0x497+-0x1*-0x21e)),h(this,'diffuseMap'+'Enabled',!(-0x1*-0x10af+0x1743+-0x27f1)),h(this,'pixelSnap',!(0x1*0x80b+-0x564+-0x2a6)),h(this,'ambientSH',!(0x125+0x7b2*0x1+-0x8d6)),h(this,'ssao',!(0x33*-0xbf+-0x11be+0x37cc)),h(this,'twoSidedLi'+'ghting',!(-0xdf2+0x2696+-0x18a3)),h(this,'occludeDir'+'ect',!(-0x9dd+0x216d+-0x178f)),h(this,'occludeSpe'+'cular',-0x795*0x2+0x16fd+-0x7d3),h(this,'occludeSpe'+'cularFloat',!(-0x21e*-0x3+-0x9f8*-0x3+0x1*-0x2441)),h(this,'useMsdf',!(0xe5a+0x28f*-0x1+-0xbca)),h(this,'msdfTextAt'+'tribute',!(0x91f+0x1537+0x611*-0x5)),h(this,'alphaToCov'+'erage',!(0x9*0x205+-0x82f*0x1+0x9fd*-0x1)),h(this,'opacityFad'+'esSpecular',!(0x2*-0x4c3+-0x160c+0x3b*0x89)),h(this,'opacityDit'+'her',Sa),h(this,'opacitySha'+'dowDither',Sa),h(this,'cubeMapPro'+'jection',0x1168+-0x1b*0x9d+-0xd9),h(this,'useSpecula'+'r',!(-0x149b+-0x937+0x1dd3)),h(this,'useSpecula'+'rityFactor',!(0x688+-0x915+0xda*0x3)),h(this,'enableGGXS'+'pecular',!(0x14*-0xa+-0x1704+0x17cd)),h(this,'fresnelMod'+'el',0xa*0x12e+-0xca*0x3+0x47*-0x22),h(this,'useRefract'+'ion',!(0x28*-0x2e+-0x201f+0x2750)),h(this,'useClearCo'+'at',!(-0x747+-0xd7*-0x26+-0xc51*0x2)),h(this,'useSheen',!(-0xa0*-0x2d+-0x1413+-0x2*0x406)),h(this,'useIridesc'+'ence',!(-0x2*0xd96+0x1*0x1ce1+-0x2*0xda)),h(this,'useMetalne'+'ss',!(-0x51b+0x1861+-0x1345)),h(this,'useDynamic'+'Refraction',!(0x15d8+-0x2049+0xa72)),h(this,'dispersion',!(-0x26dd+0x2064+0x67a)),h(this,'fog',Kn),h(this,'gamma',Ll),h(this,'toneMap',-(-0x1*-0x7cf+-0x6*0x24a+0x2f7*0x2)),h(this,'reflection'+'Source',vr),h(this,'reflection'+'Encoding',null),h(this,'reflection'+'CubemapEnc'+'oding',null),h(this,'ambientSou'+'rce','constant'),h(this,'ambientEnc'+'oding',null),h(this,'skyboxInte'+'nsity',0x9*-0x3b+0xd*-0xd+0x2bd),h(this,'useCubeMap'+'Rotation',!(0x71*0xb+0xa21+-0xefb)),h(this,'lightMapWi'+'thoutAmbie'+'nt',!(-0x110a+0x1fb7+0x4*-0x3ab)),h(this,'lights',[]),h(this,'noShadow',!(0x10fc+-0x2*-0x8e1+-0x22bd)),h(this,'lightMaskD'+'ynamic',0x1*-0x2559+-0x1b55+0x2057*0x2),h(this,'userAttrib'+'utes',{}),h(this,'linearDept'+'h',!(-0x1da4+-0xe0f+0x2bb4*0x1)),h(this,'shadowCatc'+'her',!(-0xfc1*-0x1+0x1*0xb24+-0x1ae4*0x1));}}class dl{constructor(){h(this,'defines',new Map()),h(this,'forceUv1',!(0x3*0x369+-0x11bb+0x11*0x71)),h(this,'specularTi'+'nt',!(-0x4*0x12a+-0x252e+0x29d7)),h(this,'metalnessT'+'int',!(-0x1*0x1106+0xb5*0x5+-0x13a*-0xb)),h(this,'glossTint',!(0x7f*0x2f+0xa37+-0x2187)),h(this,'emissiveEn'+'coding','linear'),h(this,'lightMapEn'+'coding','linear'),h(this,'packedNorm'+'al',!(-0x328+-0x1*0x1c5b+0x1f84)),h(this,'normalDeta'+'ilPackedNo'+'rmal',!(0x567*0x2+-0x1884+0xdb7)),h(this,'clearCoatP'+'ackedNorma'+'l',!(-0x105b+0x1aa2+-0x2*0x523)),h(this,'glossInver'+'t',!(0x15e5+0x33c+-0x30*0x86)),h(this,'sheenGloss'+'Invert',!(-0x16eb*0x1+0x7*0x1e7+0x1*0x99b)),h(this,'clearCoatG'+'lossInvert',!(-0xab6+0x8*-0x6+0xae7)),h(this,'useAO',!(-0x3*-0x47+0x1*-0x10eb+0x1017)),h(this,'litOptions',new wv());}get['pass'](){return this['litOptions']['pass'];}}const Ev={'generateKey'(_0x33e022){return'lit'+Object['keys'](_0x33e022)['sort']()['map'](_0x51670b=>{var _0x3c92e3;return _0x51670b==='shaderChun'+'ks'?((_0x3c92e3=_0x33e022['shaderChun'+'ks'])==null?void(-0x6ec*-0x1+0x1ddf*-0x1+0x5*0x497):_0x3c92e3['key'])??'':_0x51670b==='lights'?Ev['generateLi'+'ghtsKey'](_0x33e022):_0x51670b+_0x33e022[_0x51670b];})['join']('\x0a');},'generateLightsKey'(_0x52aedc){return'lights:'+_0x52aedc['lights']['map'](_0x1d946e=>!_0x52aedc['clusteredL'+'ightingEna'+'bled']||_0x1d946e['_type']===ve?_0x1d946e['key']+',':'')['join']('');}},bn=[],Qd=_0x14d2e3=>Object['keys'](_0x14d2e3)['filter'](_0x3e0ab8=>_0x3e0ab8!=='litOptions')['sort']();class fb extends ya{constructor(){super(...arguments),h(this,'optionsCon'+'text',new dl()),h(this,'optionsCon'+'textMin',new dl());}['generateKe'+'y'](_0x376e6f){let _0x4b4cc5;return _0x376e6f===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Qd(_0x376e6f)),_0x4b4cc5=this['propsMin']):_0x376e6f===this['optionsCon'+'text']?(this['props']||(this['props']=Qd(_0x376e6f)),_0x4b4cc5=this['props']):_0x4b4cc5=Qd(_0x376e6f),'standard:\x0a'+ya['definesHas'+'h'](_0x376e6f['defines'])+'\x0a'+_0x4b4cc5['map'](_0x46ffd1=>_0x46ffd1+_0x376e6f[_0x46ffd1])['join']('\x0a')+Ev['generateKe'+'y'](_0x376e6f['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0xe51108,_0x19ad72,_0x57daa8){const _0x584ec4=_0x57daa8[_0xe51108],_0x4dbec3=_0x57daa8[_0x19ad72],_0x1c112c=_0x57daa8['litOptions']['pass']===Aa;let _0x2589a3;return _0x1c112c&&_0x57daa8['litOptions']['nineSliced'+'Mode']===Pt||_0x1c112c&&_0x57daa8['litOptions']['nineSliced'+'Mode']===Mt?_0x2589a3='nineSliced'+'Uv':(_0x584ec4===0x12f9+-0x147*0x7+0x2*-0x504?_0x2589a3='vUv'+_0x4dbec3:_0x2589a3='vUV'+_0x4dbec3+'_'+_0x584ec4,_0x57daa8['heightMap']&&_0xe51108!=='heightMapT'+'ransform'&&(_0x2589a3+='\x20+\x20dUvOffs'+'et')),_0x2589a3;}['_validateM'+'apChunk'](_0x2e5bf7,_0x5a04fd,_0x21f659){w['call'](()=>{const _0x2d3815=_0x21f659['get'](_0x5a04fd)['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1'),_0x41769e=[],_0x340f66=(_0x5ee982,_0x30ed9c)=>{_0x2d3815['includes'](_0x5ee982)&&_0x41769e['push']('\x20\x20'+_0x5ee982+'\x20->\x20'+_0x30ed9c);};[['$UV','{STD_'+_0x2e5bf7+('_TEXTURE_U'+'V}')],['$CH','{STD_'+_0x2e5bf7+('_TEXTURE_C'+'HANNEL}')],['$SAMPLER','{STD_'+_0x2e5bf7+('_TEXTURE_N'+'AME}')],['$DECODE','{STD_'+_0x2e5bf7+('_TEXTURE_D'+'ECODE}')],['$VC','{STD_'+_0x2e5bf7+('_VERTEX_CH'+'ANNEL}')],['$DETAILMOD'+'E','{STD_'+_0x2e5bf7+('_DETAILMOD'+'E}')],['unpackNorm'+'al(','{STD_'+_0x2e5bf7+('_TEXTURE_D'+'ECODE}(')]]['forEach'](([_0x47e02d,_0x468fab])=>_0x340f66(_0x47e02d,_0x468fab)),[['MAPFLOAT','STD_'+_0x2e5bf7+'_CONSTANT'],['MAPCOLOR','STD_'+_0x2e5bf7+'_CONSTANT'],['MAPVERTEX','STD_'+_0x2e5bf7+'_VERTEX'],['MAPTEXTURE','STD_'+_0x2e5bf7+'_TEXTURE'],['MAPINVERT','STD_'+_0x2e5bf7+'_INVERT']]['forEach'](([_0x5419ae,_0x39ff79])=>_0x340f66(_0x5419ae,_0x39ff79)),_0x2d3815['includes']('$texture2D'+'SAMPLE')&&_0x340f66('$texture2D'+'SAMPLE','(Macro\x20no\x20'+'longer\x20sup'+'ported\x20-\x20r'+'emove/refa'+'ctor)'),_0x41769e['length']>0x1d38+-0xe94+-0x752*0x2&&w['errorOnce']('Shader\x20chu'+'nk\x20'+_0x5a04fd+('\x20is\x20in\x20no\x20'+'longer\x20com'+'patible\x20fo'+'rmat.\x20Plea'+'se\x20make\x20th'+'ese\x20replac'+'ements\x20to\x20'+'bring\x20it\x20t'+'o\x20the\x20curr'+'ent\x20versio'+'n:\x0a')+_0x41769e['join']('\x0a'),{'code':_0x2d3815});});}['_addMapDef'+'ines'](_0x3851fd,_0x513531,_0x1d304f,_0x33cbc5,_0xe7c6d5,_0x5dbc69,_0x507559=null){const _0x3e9faa=_0x513531+'Map',_0x4903d3=_0x513531['toUpperCas'+'e'](),_0x424609=_0x3e9faa+'Uv',_0x303c7e=_0x3e9faa+'Identifier',_0x58b514=_0x3e9faa+'Transform',_0x5d9c04=_0x3e9faa+'Channel',_0x11efca=_0x513531+('VertexColo'+'rChannel'),_0x2fd24d=_0x513531+'Tint',_0x153aa9=_0x513531+('VertexColo'+'r'),_0x5a70f3=_0x513531+'Mode',_0xda55fb=_0x513531+'Invert',_0x1bed9b=_0x33cbc5[_0x2fd24d],_0x3dde41=_0x33cbc5[_0x153aa9],_0xc2a96=_0x33cbc5[_0x3e9faa],_0x36c1b5=_0x33cbc5[_0x303c7e],_0x5c4ce7=_0x33cbc5[_0x5a70f3],_0x5002e1=_0xe7c6d5['get'](_0x1d304f);if(w['assert'](_0x5002e1,'Shader\x20chu'+'nk\x20'+_0x1d304f+('\x20not\x20found'+'.')),w['call'](()=>{_0x5002e1&&this['_validateM'+'apChunk'](_0x4903d3,_0x1d304f,_0xe7c6d5);}),_0xc2a96){_0x3851fd['set']('STD_'+_0x4903d3+'_TEXTURE','');const _0xdaa6fc=this['_getUvSour'+'ceExpressi'+'on'](_0x58b514,_0x424609,_0x33cbc5);_0x3851fd['set']('{STD_'+_0x4903d3+('_TEXTURE_U'+'V}'),_0xdaa6fc),_0x3851fd['set']('{STD_'+_0x4903d3+('_TEXTURE_C'+'HANNEL}'),_0x33cbc5[_0x5d9c04]);const _0x33771d='{STD_'+_0x4903d3+('_TEXTURE_N'+'AME}');if(_0x5002e1['includes'](_0x33771d)){let _0x515bd4='texture_'+_0x3e9faa;const _0x2f0173=_0x5dbc69[_0x36c1b5];_0x2f0173?_0x515bd4=_0x2f0173:(_0x5dbc69[_0x36c1b5]=_0x515bd4,_0x3851fd['set']('STD_'+_0x4903d3+('_TEXTURE_A'+'LLOCATE'),'')),_0x3851fd['set'](_0x33771d,_0x515bd4);}if(_0x507559){const _0x597f73=_0x33cbc5[_0x5d9c04]==='aaa'?'passThroug'+'h':Tr['decodeFunc'](_0x507559);_0x3851fd['set']('{STD_'+_0x4903d3+('_TEXTURE_D'+'ECODE}'),_0x597f73);}}_0x3dde41&&(_0x3851fd['set']('STD_'+_0x4903d3+'_VERTEX',''),_0x3851fd['set']('{STD_'+_0x4903d3+('_VERTEX_CH'+'ANNEL}'),_0x33cbc5[_0x11efca])),_0x5c4ce7&&_0x3851fd['set']('{STD_'+_0x4903d3+('_DETAILMOD'+'E}'),_0x5c4ce7),_0x1bed9b&&_0x3851fd['set']('STD_'+_0x4903d3+'_CONSTANT',''),_0x33cbc5[_0xda55fb]&&_0x3851fd['set']('STD_'+_0x4903d3+'_INVERT','');}['_correctCh'+'annel'](_0x28d8d5,_0x176f7e,_0x90f7a){if(_0x90f7a[_0x28d8d5]>-0x535*0x6+0xd*-0x3e+-0x3e*-0x8e){if(_0x90f7a[_0x28d8d5]<_0x176f7e['length'])return _0x176f7e['substring'](-0xec3*0x2+-0x175d+-0x3*-0x11a1,_0x90f7a[_0x28d8d5]);if(_0x90f7a[_0x28d8d5]>_0x176f7e['length']){let _0x33dd12=_0x176f7e;const _0x38a268=_0x33dd12['charAt'](_0x33dd12['length']-(0x6dd*0x3+-0x1002+-0x494)),_0x21feff=_0x90f7a[_0x28d8d5]-_0x33dd12['length'];for(let _0x41e5ee=-0x1d3f+0xe1d*0x1+0x1a*0x95;_0x41e5ee<_0x21feff;_0x41e5ee++)_0x33dd12+=_0x38a268;return _0x33dd12;}return _0x176f7e;}}['createVert'+'exShader'](_0x2bb571,_0xcf930b){const _0x1a6a3d=[],_0x31ebc7=[],_0x245028=[];for(const _0x5ef8bb in bn){const _0x402c16=_0x5ef8bb+'Map';if(_0xcf930b[_0x5ef8bb+('VertexColo'+'r')]){const _0x28db53=_0x5ef8bb+('VertexColo'+'rChannel');_0xcf930b[_0x28db53]=this['_correctCh'+'annel'](_0x5ef8bb,_0xcf930b[_0x28db53],bn);}if(_0xcf930b[_0x402c16]){const _0x102092=_0x402c16+'Channel',_0x5982b9=_0x402c16+'Transform',_0x641a99=_0x402c16+'Uv';_0xcf930b[_0x641a99]=Math['min'](_0xcf930b[_0x641a99],-0x138d+0x839+0xb55),_0xcf930b[_0x102092]=this['_correctCh'+'annel'](_0x5ef8bb,_0xcf930b[_0x102092],bn);const _0x3af9b5=_0xcf930b[_0x641a99];_0x1a6a3d[_0x3af9b5]=!(0x344*-0x2+-0x1*-0x20e3+0xd*-0x207),_0x31ebc7[_0x3af9b5]=_0x31ebc7[_0x3af9b5]||_0xcf930b[_0x402c16]&&!_0xcf930b[_0x5982b9],_0xcf930b[_0x5982b9]&&_0x245028['push']({'name':_0x5ef8bb,'id':_0xcf930b[_0x5982b9],'uv':_0xcf930b[_0x641a99]});}}_0xcf930b['forceUv1']&&(_0x1a6a3d[0x1caf+-0x1f56+0x2a8]=!(0x2206+0x226f+0x4475*-0x1),_0x31ebc7[0x149b*-0x1+0x21fb+0xa3*-0x15]=_0x31ebc7[-0x2+-0x2*-0x6+-0x9]!==void(0xfc*-0x6+-0x4d1*0x2+0xf8a)?_0x31ebc7[-0x222a+-0x55*0x21+0x2d20*0x1]:!(-0x1*0x101+-0x3*0xc7f+0x133f*0x2)),_0x2bb571['generateVe'+'rtexShader'](_0x1a6a3d,_0x31ebc7,_0x245028);}['prepareFra'+'gmentDefin'+'es'](_0x5012be,_0x4d5f0c,_0x111ccc){const _0x4caabd=(_0x4d8345,_0x46e101,_0x5e9883='')=>{_0x4d8345&&_0x4d5f0c['set'](_0x46e101,_0x5e9883);};_0x4caabd(_0x5012be['lightMap'],'STD_LIGHTM'+'AP',''),_0x4caabd(_0x5012be['lightVerte'+'xColor'],'STD_LIGHT_'+'VERTEX_COL'+'OR',''),_0x4caabd(_0x5012be['dirLightMa'+'p']&&_0x5012be['litOptions']['useSpecula'+'r'],'STD_LIGHTM'+'AP_DIR',''),_0x4caabd(_0x5012be['heightMap'],'STD_HEIGHT'+'_MAP',''),_0x4caabd(_0x5012be['useSpecula'+'rColor'],'STD_SPECUL'+'AR_COLOR',''),_0x4caabd(_0x5012be['aoMap']||_0x5012be['aoVertexCo'+'lor']||_0x5012be['useAO'],'STD_AO',''),_0x4caabd(!(0x352+0x3*0x79c+0x1a26*-0x1),'STD_OPACIT'+'Y_DITHER',iE[_0x111ccc['isForward']?_0x5012be['litOptions']['opacityDit'+'her']:_0x5012be['litOptions']['opacitySha'+'dowDither']]);}['createShad'+'erDefiniti'+'on'](_0x419b6a,_0x1ed03a){const _0x10aeef=Si['get'](_0x419b6a)['getByIndex'](_0x1ed03a['litOptions']['pass']),_0x45a268=_0x10aeef['isForward'],_0x4b1cee=new db(_0x419b6a,_0x1ed03a['litOptions']);this['createVert'+'exShader'](_0x4b1cee,_0x1ed03a);const _0xfb25b2={};_0x1ed03a['litOptions']['fresnelMod'+'el']=_0x1ed03a['litOptions']['fresnelMod'+'el']===-0x1*-0x262c+-0x696+-0x1f96?Yp:_0x1ed03a['litOptions']['fresnelMod'+'el'];const _0x2d50ff=_0x4b1cee['fDefines'];this['prepareFra'+'gmentDefin'+'es'](_0x1ed03a,_0x2d50ff,_0x10aeef);let _0x45d6fd='';if(_0x45a268){if(_0x1ed03a['heightMap']&&this['_addMapDef'+'ines'](_0x2d50ff,'height','parallaxPS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2),(_0x1ed03a['litOptions']['blendType']!==Cs||_0x1ed03a['litOptions']['alphaTest']||_0x1ed03a['litOptions']['alphaToCov'+'erage']||_0x1ed03a['litOptions']['opacityDit'+'her']!==Sa)&&this['_addMapDef'+'ines'](_0x2d50ff,'opacity','opacityPS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2),_0x4b1cee['needsNorma'+'l']){if((_0x1ed03a['normalMap']||_0x1ed03a['clearCoatN'+'ormalMap'])&&!_0x1ed03a['litOptions']['hasTangent'+'s']){const _0x1e5ac1=_0x1ed03a['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x45d6fd=this['_getUvSour'+'ceExpressi'+'on'](_0x1e5ac1+'Transform',_0x1e5ac1+'Uv',_0x1ed03a);}this['_addMapDef'+'ines'](_0x2d50ff,'normalDeta'+'il','normalMapP'+'S',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2,_0x1ed03a['normalDeta'+'ilPackedNo'+'rmal']?'xy':'xyz'),this['_addMapDef'+'ines'](_0x2d50ff,'normal','normalMapP'+'S',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2,_0x1ed03a['packedNorm'+'al']?'xy':'xyz');}_0x1ed03a['diffuseDet'+'ail']&&this['_addMapDef'+'ines'](_0x2d50ff,'diffuseDet'+'ail','diffusePS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2,_0x1ed03a['diffuseDet'+'ailEncodin'+'g']),this['_addMapDef'+'ines'](_0x2d50ff,'diffuse','diffusePS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2,_0x1ed03a['diffuseEnc'+'oding']),_0x1ed03a['litOptions']['useRefract'+'ion']&&(this['_addMapDef'+'ines'](_0x2d50ff,'refraction','transmissi'+'onPS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2),this['_addMapDef'+'ines'](_0x2d50ff,'thickness','thicknessP'+'S',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2)),_0x1ed03a['litOptions']['useIridesc'+'ence']&&(this['_addMapDef'+'ines'](_0x2d50ff,'iridescenc'+'e','iridescenc'+'ePS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2),this['_addMapDef'+'ines'](_0x2d50ff,'iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2)),(_0x4b1cee['lighting']&&_0x1ed03a['litOptions']['useSpecula'+'r']||_0x4b1cee['reflection'+'s'])&&(_0x1ed03a['litOptions']['useSheen']&&(this['_addMapDef'+'ines'](_0x2d50ff,'sheen','sheenPS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2,_0x1ed03a['sheenEncod'+'ing']),this['_addMapDef'+'ines'](_0x2d50ff,'sheenGloss','sheenGloss'+'PS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2)),_0x1ed03a['litOptions']['useMetalne'+'ss']&&(this['_addMapDef'+'ines'](_0x2d50ff,'metalness','metalnessP'+'S',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2),this['_addMapDef'+'ines'](_0x2d50ff,'ior','iorPS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2)),_0x1ed03a['litOptions']['useSpecula'+'rityFactor']&&this['_addMapDef'+'ines'](_0x2d50ff,'specularit'+'yFactor','specularit'+'yFactorPS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2),_0x1ed03a['useSpecula'+'rColor']&&this['_addMapDef'+'ines'](_0x2d50ff,'specular','specularPS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2,_0x1ed03a['specularEn'+'coding']),this['_addMapDef'+'ines'](_0x2d50ff,'gloss','glossPS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2)),_0x1ed03a['aoDetail']&&this['_addMapDef'+'ines'](_0x2d50ff,'aoDetail','aoPS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2),(_0x1ed03a['aoMap']||_0x1ed03a['aoVertexCo'+'lor']||_0x1ed03a['useAO'])&&this['_addMapDef'+'ines'](_0x2d50ff,'ao','aoPS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2),this['_addMapDef'+'ines'](_0x2d50ff,'emissive','emissivePS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2,_0x1ed03a['emissiveEn'+'coding']),_0x1ed03a['litOptions']['useClearCo'+'at']&&(this['_addMapDef'+'ines'](_0x2d50ff,'clearCoat','clearCoatP'+'S',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2),this['_addMapDef'+'ines'](_0x2d50ff,'clearCoatG'+'loss','clearCoatG'+'lossPS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2),this['_addMapDef'+'ines'](_0x2d50ff,'clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2,_0x1ed03a['clearCoatP'+'ackedNorma'+'l']?'xy':'xyz')),_0x1ed03a['litOptions']['enableGGXS'+'pecular']&&this['_addMapDef'+'ines'](_0x2d50ff,'anisotropy','anisotropy'+'PS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2),(_0x1ed03a['lightMap']||_0x1ed03a['lightVerte'+'xColor'])&&this['_addMapDef'+'ines'](_0x2d50ff,'light','lightmapPS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2,_0x1ed03a['lightMapEn'+'coding']);}else{const _0x44eb78=_0x1ed03a['litOptions']['opacitySha'+'dowDither'];(_0x1ed03a['litOptions']['alphaTest']||_0x44eb78)&&this['_addMapDef'+'ines'](_0x2d50ff,'opacity','opacityPS',_0x1ed03a,_0x4b1cee['chunks'],_0xfb25b2);}_0x4b1cee['generateFr'+'agmentShad'+'er'](_0x4b1cee['chunks']['get']('stdDeclara'+'tionPS'),_0x4b1cee['chunks']['get']('stdFrontEn'+'dPS'),_0x45d6fd);const _0x4b3012=bh['merge'](_0x4b1cee['chunks'],_0x4b1cee['includes']),_0x3d4968=_0x4b1cee['vDefines'];_0x1ed03a['defines']['forEach']((_0x38210b,_0x5f4833)=>_0x3d4968['set'](_0x5f4833,_0x38210b)),_0x1ed03a['defines']['forEach']((_0x3cf2fa,_0x986d67)=>_0x2d50ff['set'](_0x986d67,_0x3cf2fa));const _0x401840=Jt['createDefi'+'nition'](_0x419b6a,{'name':'StandardSh'+'ader','attributes':_0x4b1cee['attributes'],'shaderLanguage':_0x4b1cee['shaderLang'+'uage'],'vertexCode':_0x4b1cee['vshader'],'fragmentCode':_0x4b1cee['fshader'],'vertexIncludes':_0x4b3012,'fragmentIncludes':_0x4b3012,'fragmentDefines':_0x2d50ff,'vertexDefines':_0x3d4968});return _0x4b1cee['shaderPass'+'Info']['isForward']&&(_0x401840['tag']=Sy),_0x401840;}}const Jd=new fb(),ss=[];ss[Gp]={'src':Ft,'dst':Ft,'op':Tx},ss[Cs]={'src':Ft,'dst':rp,'op':fs},ss[Zs]={'src':jh,'dst':Yh,'op':fs,'alphaSrc':Ft},ss[Gn]={'src':Ft,'dst':Yh,'op':fs},ss[Hp]={'src':Ft,'dst':Ft,'op':fs},ss[Ed]={'src':jh,'dst':Ft,'op':fs},ss[$p]={'src':JS,'dst':vx,'op':fs},ss[Xp]={'src':xx,'dst':Ft,'op':fs},ss[Wp]={'src':JS,'dst':rp,'op':fs},ss[qp]={'src':Ft,'dst':Ft,'op':wx},ss[jp]={'src':Ft,'dst':Ft,'op':Ex};let ub=-0x4*0x3ce+0xc*-0x189+0x21a4;class tr{constructor(){h(this,'meshInstan'+'ces',[]),h(this,'name','Untitled'),h(this,'userId',''),h(this,'id',ub++),h(this,'variants',new Map()),h(this,'defines',new Map()),h(this,'_definesDi'+'rty',!(0x2*0x37b+-0x185*-0x15+0x5*-0x7c6)),h(this,'parameters',{}),h(this,'alphaTest',0x1513+-0x427*0x3+0x2*-0x44f),h(this,'alphaToCov'+'erage',!(-0x1*0x214a+0x263b+0x8*-0x9e)),h(this,'_blendStat'+'e',new pt()),h(this,'_depthStat'+'e',new Yt()),h(this,'cull',pa),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'_shaderChu'+'nks',null),h(this,'_oldChunks',{}),h(this,'_dirtyShad'+'er',!(0x2193+0x243*-0x5+-0x1644)),h(this,'_shaderVer'+'sion',0x744*0x2+-0x1*0x1b59+0xcd1),h(this,'_scene',null),h(this,'dirty',!(-0x2161+-0x332+0x1*0x2493)),new.target===tr&&w['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}get['hasShaderC'+'hunks'](){return this['_shaderChu'+'nks']!=null;}get['shaderChun'+'ks'](){return this['_shaderChu'+'nks']||(this['_shaderChu'+'nks']=new Pe()),this['_shaderChu'+'nks'];}['getShaderC'+'hunks'](_0x233814=Fe){const _0x1a7d8b=this['shaderChun'+'ks'];return _0x233814===Fe?_0x1a7d8b['glsl']:_0x1a7d8b['wgsl'];}set['shaderChun'+'ksVersion'](_0x5e981d){this['shaderChun'+'ks']['version']=_0x5e981d;}get['shaderChun'+'ksVersion'](){return this['shaderChun'+'ks']['version'];}set['chunks'](_0x53a09f){w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),this['_oldChunks']=_0x53a09f;}get['chunks'](){return w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),Object['assign'](this['_oldChunks'],Object['fromEntrie'+'s'](this['shaderChun'+'ks']['glsl'])),this['_oldChunks'];}set['depthBias'](_0x4bc489){this['_depthStat'+'e']['depthBias']=_0x4bc489;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x3fafa4){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x3fafa4;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x5999cc){this['_blendStat'+'e']['redWrite']=_0x5999cc;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x4f4608){this['_blendStat'+'e']['greenWrite']=_0x4f4608;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x32d2b1){this['_blendStat'+'e']['blueWrite']=_0x32d2b1;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x46f5e3){this['_blendStat'+'e']['alphaWrite']=_0x46f5e3;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x2c6705=this['transparen'+'t'],_0xb04b36=this['meshInstan'+'ces'];for(let _0x34ba5d=0x5ac+-0x263*-0xe+-0x2*0x138b;_0x34ba5d<_0xb04b36['length'];_0x34ba5d++)_0xb04b36[_0x34ba5d]['transparen'+'t']=_0x2c6705;}set['blendState'](_0x265991){this['_blendStat'+'e']['copy'](_0x265991),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x2bb904){const _0x3455c6=ss[_0x2bb904];w['assert'](_0x3455c6,'Unknown\x20bl'+'end\x20mode\x20'+_0x2bb904),this['_blendStat'+'e']['setColorBl'+'end'](_0x3455c6['op'],_0x3455c6['src'],_0x3455c6['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x3455c6['alphaOp']??_0x3455c6['op'],_0x3455c6['alphaSrc']??_0x3455c6['src'],_0x3455c6['alphaDst']??_0x3455c6['dst']);const _0x510d4a=_0x2bb904!==Cs;this['_blendStat'+'e']['blend']!==_0x510d4a&&(this['_blendStat'+'e']['blend']=_0x510d4a,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return Cs;const {colorOp:_0x176e2c,colorSrcFactor:_0x5b9b34,colorDstFactor:_0xa450f6,alphaOp:_0x3851cb,alphaSrcFactor:_0x9b37ee,alphaDstFactor:_0x5d9fa2}=this['_blendStat'+'e'];for(let _0x5065b8=0x381+0x3*-0x895+0x163e;_0x5065b8<ss['length'];_0x5065b8++){const _0x3c2ed8=ss[_0x5065b8];if(_0x3c2ed8['src']===_0x5b9b34&&_0x3c2ed8['dst']===_0xa450f6&&_0x3c2ed8['op']===_0x176e2c&&_0x3c2ed8['src']===_0x9b37ee&&_0x3c2ed8['dst']===_0x5d9fa2&&_0x3c2ed8['op']===_0x3851cb)return _0x5065b8;}return Zs;}set['depthState'](_0x5c2668){this['_depthStat'+'e']['copy'](_0x5c2668);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x150e3f){this['_depthStat'+'e']['test']=_0x150e3f;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x2a79d3){this['_depthStat'+'e']['func']=_0x2a79d3;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x251b2d){this['_depthStat'+'e']['write']=_0x251b2d;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x2cc467){var _0x587018,_0x1ecfd9;this['name']=_0x2cc467['name'],this['alphaTest']=_0x2cc467['alphaTest'],this['alphaToCov'+'erage']=_0x2cc467['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x2cc467['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x2cc467['_depthStat'+'e']),this['cull']=_0x2cc467['cull'],this['stencilFro'+'nt']=(_0x587018=_0x2cc467['stencilFro'+'nt'])==null?void(0x7db+0x25ae*0x1+-0x2d89):_0x587018['clone'](),_0x2cc467['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x2cc467['stencilFro'+'nt']===_0x2cc467['stencilBac'+'k']?this['stencilFro'+'nt']:_0x2cc467['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x291c30 in _0x2cc467['parameters'])_0x2cc467['parameters']['hasOwnProp'+'erty'](_0x291c30)&&this['_setParame'+'terSimple'](_0x291c30,_0x2cc467['parameters'][_0x291c30]['data']);return this['defines']['clear'](),_0x2cc467['defines']['forEach']((_0xbc64da,_0x1cdc09)=>this['defines']['set'](_0x1cdc09,_0xbc64da)),this['_shaderChu'+'nks']=_0x2cc467['hasShaderC'+'hunks']?new Pe():null,(_0x1ecfd9=this['_shaderChu'+'nks'])==null||_0x1ecfd9['copy'](_0x2cc467['_shaderChu'+'nks']),this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x3f1856=this['meshInstan'+'ces'];for(let _0x1db804=-0x3e*0x64+0x21a+0x161e;_0x1db804<_0x3f1856['length'];_0x1db804++)_0x3f1856[_0x1db804]['updateKey']();}['updateUnif'+'orms'](_0xa97282,_0x40d254){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x5eff03){w['assert'](!(-0x566*0x6+0x230b+-0x2a6),'Not\x20implem'+'ented');}['update'](){var _0x2087fe,_0x322292;if(Object['keys'](this['_oldChunks'])['length']>0x1*-0x11b5+0x167f+-0x4ca){for(const [_0x4a87ae,_0x4b5fe6]of Object['entries'](this['_oldChunks']))this['shaderChun'+'ks']['glsl']['set'](_0x4a87ae,_0x4b5fe6),delete this['_oldChunks'][_0x4a87ae];}(this['_definesDi'+'rty']||(_0x2087fe=this['_shaderChu'+'nks'])!=null&&_0x2087fe['isDirty']())&&(this['_definesDi'+'rty']=!(0xb*0x39+-0x117f+0xf0d),(_0x322292=this['_shaderChu'+'nks'])==null||_0x322292['resetDirty'](),this['clearVaria'+'nts']()),this['dirty']=!(0x17b2+0x2ab+-0x1*0x1a5d);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x1c033e=this['meshInstan'+'ces'],_0x5ed89c=_0x1c033e['length'];for(let _0x788855=-0x4e7+0x85*0x28+0x5*-0x32d;_0x788855<_0x5ed89c;_0x788855++)_0x1c033e[_0x788855]['clearShade'+'rs']();}['getParamet'+'er'](_0x40422a){return this['parameters'][_0x40422a];}['_setParame'+'terSimple'](_0x4addbb,_0x346cd2){w['call'](()=>{_0x346cd2===void(-0x114+-0x8f5+-0x16f*-0x7)&&w['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x4addbb+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'),this);});const _0x17a167=this['parameters'][_0x4addbb];_0x17a167?_0x17a167['data']=_0x346cd2:this['parameters'][_0x4addbb]={'scopeId':null,'data':_0x346cd2};}['setParamet'+'er'](_0x105c51,_0x6735de){if(_0x6735de===void(-0x23*-0x5e+0x112d*0x2+0x3*-0xfbc)&&typeof _0x105c51=='object'){const _0x485bd3=_0x105c51;if(_0x485bd3['length']){for(let _0x4ecc6f=0x2709+-0xb10+0x7*-0x3ff;_0x4ecc6f<_0x485bd3['length'];_0x4ecc6f++)this['setParamet'+'er'](_0x485bd3[_0x4ecc6f]);return;}_0x105c51=_0x485bd3['name'],_0x6735de=_0x485bd3['value'];}this['_setParame'+'terSimple'](_0x105c51,_0x6735de);}['deletePara'+'meter'](_0x142f05){this['parameters'][_0x142f05]&&delete this['parameters'][_0x142f05];}['setParamet'+'ers'](_0x458ca3,_0x569fa1){const _0x2ac5b3=this['parameters'];_0x569fa1===void(0x12*0xd+-0xd60+-0x91*-0x16)&&(_0x569fa1=_0x2ac5b3);for(const _0x3986f9 in _0x569fa1){const _0x34c256=_0x2ac5b3[_0x3986f9];_0x34c256&&(_0x34c256['scopeId']||(_0x34c256['scopeId']=_0x458ca3['scope']['resolve'](_0x3986f9)),_0x34c256['scopeId']['setValue'](_0x34c256['data']));}}['setDefine'](_0x27c5a9,_0x346db9){let _0x3324f9=!(0x481*-0x1+0xc*0x174+-0x14b*0xa);const {defines:_0x58729b}=this;_0x346db9!==void(-0x2fc*-0x4+0x1b4e+-0x273e*0x1)&&_0x346db9!==!(0x1*-0x581+0x7*0x29c+-0xcc2)?(_0x3324f9=!_0x58729b['has'](_0x27c5a9)||_0x58729b['get'](_0x27c5a9)!==_0x346db9,_0x58729b['set'](_0x27c5a9,_0x346db9)):(_0x3324f9=_0x58729b['has'](_0x27c5a9),_0x58729b['delete'](_0x27c5a9)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x3324f9);}['getDefine'](_0x56e92f){return this['defines']['has'](_0x56e92f);}['destroy'](){this['variants']['clear']();for(let _0x276e5f=-0x5*0xf8+0x135*0x17+-0x16eb;_0x276e5f<this['meshInstan'+'ces']['length'];_0x276e5f++){const _0x51404a=this['meshInstan'+'ces'][_0x276e5f];if(_0x51404a['clearShade'+'rs'](),_0x51404a['_material']=null,_0x51404a['mesh']){const _0x5e185a=Qn(_0x51404a['mesh']['device']);this!==_0x5e185a&&(_0x51404a['material']=_0x5e185a);}else w['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=0x205a+0x4ce+-0x2528;}['addMeshIns'+'tanceRef'](_0x2e56a5){this['meshInstan'+'ces']['push'](_0x2e56a5);}['removeMesh'+'InstanceRe'+'f'](_0x179215){const _0x522580=this['meshInstan'+'ces'],_0x1f11d0=_0x522580['indexOf'](_0x179215);_0x1f11d0!==-(-0x236a+0x3*-0x1a5+-0x812*-0x5)&&_0x522580['splice'](_0x1f11d0,-0x84d+-0x191d+0x216b);}}class Ws{static['update'](_0x25d137,_0x1e08a2,_0x3051ab,_0x232b56,_0x5857e1,_0x4d6539,_0x2cfbf4){Ws['updateShar'+'edOptions'](_0x25d137,_0x1e08a2,_0x3051ab,_0x5857e1,_0x4d6539),Ws['updateMate'+'rialOption'+'s'](_0x25d137,_0x1e08a2),Ws['updateEnvO'+'ptions'](_0x25d137,_0x1e08a2,_0x3051ab,_0x232b56),Ws['updateLigh'+'tingOption'+'s'](_0x25d137,_0x1e08a2,_0x3051ab,_0x5857e1,_0x2cfbf4);}static['updateShar'+'edOptions'](_0x1536b3,_0x39c4ae,_0x5caf54,_0x263674,_0x433892){_0x1536b3['shaderChun'+'ks']=_0x39c4ae['shaderChun'+'ks'],_0x1536b3['pass']=_0x433892,_0x1536b3['alphaTest']=_0x39c4ae['alphaTest']>-0x1*-0x1bc8+0x11a7+-0x2d6f,_0x1536b3['blendType']=_0x39c4ae['blendType'],_0x1536b3['screenSpac'+'e']=_0x263674&&(_0x263674&Eh)!==0x25ba+-0x2b*-0x3e+0x1a*-0x1da,_0x1536b3['skin']=_0x263674&&(_0x263674&nl)!==0x1bb*0xd+-0x1517+-0x168,_0x1536b3['useInstanc'+'ing']=_0x263674&&(_0x263674&ol)!==0x1*0x3ad+-0x1efd+-0x10*-0x1b5,_0x1536b3['useMorphPo'+'sition']=_0x263674&&(_0x263674&ll)!==0x443*-0x7+-0x1846+-0x2d9*-0x13,_0x1536b3['useMorphNo'+'rmal']=_0x263674&&(_0x263674&cl)!==-0x115*-0x1+-0x48a+-0xb1*-0x5,_0x1536b3['useMorphTe'+'xtureBased'+'Int']=_0x263674&&(_0x263674&hl)!==-0x25f*0x6+0x5*0x29+-0xd6d*-0x1,_0x1536b3['hasTangent'+'s']=_0x263674&&(_0x263674&om)!==-0x13*0x10c+0x7bf*0x5+-0x12d7,_0x1536b3['nineSliced'+'Mode']=_0x39c4ae['nineSliced'+'Mode']||ci,_0x39c4ae['useLightin'+'g']&&_0x5caf54['clusteredL'+'ightingEna'+'bled']?(_0x1536b3['clusteredL'+'ightingEna'+'bled']=!(-0x22*0x43+0x25ce+0x1*-0x1ce8),_0x1536b3['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x5caf54['lighting']['cookiesEna'+'bled'],_0x1536b3['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x5caf54['lighting']['shadowsEna'+'bled'],_0x1536b3['clusteredL'+'ightingSha'+'dowType']=_0x5caf54['lighting']['shadowType'],_0x1536b3['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x5caf54['lighting']['areaLights'+'Enabled']):(_0x1536b3['clusteredL'+'ightingEna'+'bled']=!(0x5c9+0x4d2*-0x5+0x1252),_0x1536b3['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x15d6+-0x72c+0x1d03*0x1),_0x1536b3['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(0x1*0x6fb+-0x156c+0x2*0x739),_0x1536b3['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x17*-0x45+-0x1*0x2e5+-0x919*-0x1));}static['updateMate'+'rialOption'+'s'](_0x278061,_0x4345c6){_0x278061['separateAm'+'bient']=!(0x1047+0x1*0xefd+0x35*-0x97),_0x278061['pixelSnap']=_0x4345c6['pixelSnap'],_0x278061['ambientSH']=_0x4345c6['ambientSH'],_0x278061['twoSidedLi'+'ghting']=_0x4345c6['twoSidedLi'+'ghting'],_0x278061['occludeDir'+'ect']=_0x4345c6['occludeDir'+'ect'],_0x278061['occludeSpe'+'cular']=_0x4345c6['occludeSpe'+'cular'],_0x278061['occludeSpe'+'cularFloat']=_0x4345c6['occludeSpe'+'cularInten'+'sity']!==-0x1616+0x125+0x14f2,_0x278061['useMsdf']=!(0x23c5*0x1+-0x1457+-0xf6d*0x1),_0x278061['msdfTextAt'+'tribute']=!(-0x125*-0x1d+0x6*-0x623+0x3a2),_0x278061['alphaToCov'+'erage']=_0x4345c6['alphaToCov'+'erage'],_0x278061['opacityFad'+'esSpecular']=_0x4345c6['opacityFad'+'esSpecular'],_0x278061['opacityDit'+'her']=_0x4345c6['opacityDit'+'her'],_0x278061['cubeMapPro'+'jection']=tm,_0x278061['useSpecula'+'r']=_0x4345c6['hasSpecula'+'r'],_0x278061['useSpecula'+'rityFactor']=_0x4345c6['hasSpecula'+'rityFactor'],_0x278061['enableGGXS'+'pecular']=_0x4345c6['ggxSpecula'+'r'],_0x278061['fresnelMod'+'el']=_0x4345c6['fresnelMod'+'el'],_0x278061['useRefract'+'ion']=_0x4345c6['hasRefract'+'ion'],_0x278061['useClearCo'+'at']=_0x4345c6['hasClearCo'+'at'],_0x278061['useSheen']=_0x4345c6['hasSheen'],_0x278061['useIridesc'+'ence']=_0x4345c6['hasIrrides'+'cence'],_0x278061['useMetalne'+'ss']=_0x4345c6['hasMetalne'+'ss'],_0x278061['useDynamic'+'Refraction']=_0x4345c6['dynamicRef'+'raction'],_0x278061['dispersion']=_0x4345c6['dispersion']>-0x1b5c+-0x3db+0x1f37,_0x278061['vertexColo'+'rs']=!(0x9f0+0x1*0x26d+0xc5c*-0x1),_0x278061['lightMapEn'+'abled']=_0x4345c6['hasLightin'+'g'],_0x278061['dirLightMa'+'pEnabled']=_0x4345c6['dirLightMa'+'p'],_0x278061['useHeights']=_0x4345c6['hasHeights'],_0x278061['useNormals']=_0x4345c6['hasNormals'],_0x278061['useClearCo'+'atNormals']=_0x4345c6['hasClearCo'+'atNormals'],_0x278061['useAo']=_0x4345c6['hasAo'],_0x278061['diffuseMap'+'Enabled']=_0x4345c6['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x2d3743,_0x4ff3b5,_0x13391c,_0x4468e6){_0x2d3743['fog']=_0x4ff3b5['useFog']?_0x4468e6['fog']:Kn,_0x2d3743['gamma']=_0x4468e6['shaderOutp'+'utGamma'],_0x2d3743['toneMap']=_0x4ff3b5['useTonemap']?_0x4468e6['toneMappin'+'g']:nv,_0x4ff3b5['useSkybox']&&_0x13391c['envAtlas']&&_0x13391c['skybox']?(_0x2d3743['reflection'+'Source']=xh,_0x2d3743['reflection'+'Encoding']=_0x13391c['envAtlas']['encoding'],_0x2d3743['reflection'+'CubemapEnc'+'oding']=_0x13391c['skybox']['encoding']):_0x4ff3b5['useSkybox']&&_0x13391c['envAtlas']?(_0x2d3743['reflection'+'Source']=vh,_0x2d3743['reflection'+'Encoding']=_0x13391c['envAtlas']['encoding']):_0x4ff3b5['useSkybox']&&_0x13391c['skybox']?(_0x2d3743['reflection'+'Source']=Th,_0x2d3743['reflection'+'Encoding']=_0x13391c['skybox']['encoding']):(_0x2d3743['reflection'+'Source']=vr,_0x2d3743['reflection'+'Encoding']=null),_0x4ff3b5['ambientSH']?(_0x2d3743['ambientSou'+'rce']=im,_0x2d3743['ambientEnc'+'oding']=null):_0x2d3743['reflection'+'Source']!==vr&&_0x13391c['envAtlas']?(_0x2d3743['ambientSou'+'rce']=rm,_0x2d3743['ambientEnc'+'oding']=_0x13391c['envAtlas']['encoding']):(_0x2d3743['ambientSou'+'rce']=am,_0x2d3743['ambientEnc'+'oding']=null);const _0x455dfb=_0x2d3743['reflection'+'Source']!==vr;_0x2d3743['skyboxInte'+'nsity']=_0x455dfb,_0x2d3743['useCubeMap'+'Rotation']=_0x455dfb&&_0x13391c['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x9b5242,_0x27b02a,_0xf3adee,_0x597139,_0x1346e4){if(_0x9b5242['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1826+0x1bf3+-0x3cc),_0x27b02a['useLightin'+'g']){const _0x5b22a2=[],_0x5f2aa3=_0x597139?_0x597139>>-0xd21+-0x113*0x21+-0x30a4*-0x1:Ss;_0x9b5242['lightMaskD'+'ynamic']=!!(_0x5f2aa3&Ss),_0x9b5242['lightMapWi'+'thoutAmbie'+'nt']=!(0xa8*0x12+0x37*0x67+0x21f*-0x10),_0x1346e4&&(Ws['collectLig'+'hts'](ve,_0x1346e4[ve],_0x5b22a2,_0x5f2aa3),_0xf3adee['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x1346e4[Ke],_0x5b22a2,_0x5f2aa3),Ws['collectLig'+'hts'](Ze,_0x1346e4[Ze],_0x5b22a2,_0x5f2aa3))),_0x9b5242['lights']=_0x5b22a2;}else _0x9b5242['lights']=[];(_0x9b5242['lights']['length']===-0xe8d+0x5*0xdc+0xa41&&!_0xf3adee['clusteredL'+'ightingEna'+'bled']||(_0x597139&wh)!==-0x1ef0+-0x133*0x13+0x35b9*0x1)&&(_0x9b5242['noShadow']=!(0x1b41+-0x245c+-0x3f*-0x25));}static['collectLig'+'hts'](_0x1359d2,_0x3bb60c,_0x30c3d5,_0x1dff20){for(let _0x11327f=0x1f23+-0x1*0x25d2+0x6af;_0x11327f<_0x3bb60c['length'];_0x11327f++){const _0x5ca3b2=_0x3bb60c[_0x11327f];_0x5ca3b2['enabled']&&_0x5ca3b2['mask']&_0x1dff20&&_0x30c3d5['push'](_0x5ca3b2);}}}const G_=(_0x5e4b80,_0x2cc220)=>{if(_0x5e4b80['length']!==_0x2cc220['length'])return!(-0x1561+0x2c*-0xe2+-0x3c3a*-0x1);for(let _0x2576c6=-0x877*-0x1+0x1*0x9e3+-0x125a;_0x2576c6<_0x5e4b80['length'];++_0x2576c6)if(_0x5e4b80[_0x2576c6]!==_0x2cc220[_0x2576c6])return!(0x2095*-0x1+-0x1be9+-0x38f*-0x11);return!(0xd49*-0x1+-0x121*-0xf+-0x3a6);},pb=_0x1235b4=>_0x1235b4['r']!==0x20b0+-0x711*0x2+-0x128d||_0x1235b4['g']!==0x6*-0x5e5+-0x13e*-0x9+0x1831*0x1||_0x1235b4['b']!==0x1c92+0x1292*0x1+0xb*-0x449,mb=_0x2bbafe=>_0x2bbafe['r']!==0x1f55+0x2dd*0x1+-0x2232||_0x2bbafe['g']!==0x1069*-0x1+-0xee6*0x1+0x1f4f||_0x2bbafe['b']!==0x7*0x131+0xdd0+-0x1627;class _b{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x28ae7b,_0x5a1d88,_0x106900,_0x3a7250,_0x46e80d,_0xe7415e){this['_updateSha'+'redOptions'](_0x28ae7b,_0x5a1d88,_0x106900,_0x3a7250,_0x46e80d),this['_updateMin'+'Options'](_0x28ae7b,_0x106900,_0x46e80d),this['_updateUVO'+'ptions'](_0x28ae7b,_0x106900,_0x3a7250,!(-0xdb*-0xa+-0x19e8+0x115a*0x1));}['updateRef'](_0x4b5d4c,_0x247b1b,_0x52b4fc,_0x5ee5d9,_0x50b4d7,_0x1a6956,_0x4511d0){this['_updateSha'+'redOptions'](_0x4b5d4c,_0x247b1b,_0x5ee5d9,_0x50b4d7,_0x1a6956),this['_updateEnv'+'Options'](_0x4b5d4c,_0x5ee5d9,_0x247b1b,_0x52b4fc),this['_updateMat'+'erialOptio'+'ns'](_0x4b5d4c,_0x5ee5d9,_0x247b1b),_0x4b5d4c['litOptions']['hasTangent'+'s']=_0x50b4d7&&(_0x50b4d7&om)!==0x3ac*0x5+-0x1944+0x6e8,this['_updateLig'+'htOptions'](_0x4b5d4c,_0x247b1b,_0x5ee5d9,_0x50b4d7,_0x4511d0),this['_updateUVO'+'ptions'](_0x4b5d4c,_0x5ee5d9,_0x50b4d7,!(0xd*0x173+0x13c7+-0x269d),_0x52b4fc);}['_updateSha'+'redOptions'](_0x2d1417,_0x569248,_0x6f723f,_0x5f2af6,_0x4192fa){_0x2d1417['forceUv1']=_0x6f723f['forceUv1'],_0x6f723f['userAttrib'+'utes']&&(_0x2d1417['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x6f723f['userAttrib'+'utes']['entries']())),_0x2d1417['litOptions']['shaderChun'+'ks']=_0x6f723f['shaderChun'+'ks'],_0x2d1417['litOptions']['pass']=_0x4192fa,_0x2d1417['litOptions']['alphaTest']=_0x6f723f['alphaTest']>0x2580+-0x3*0x52+-0x248a,_0x2d1417['litOptions']['blendType']=_0x6f723f['blendType'],_0x2d1417['litOptions']['screenSpac'+'e']=_0x5f2af6&&(_0x5f2af6&Eh)!==0x1a90+0xf08+-0x2998,_0x2d1417['litOptions']['skin']=_0x5f2af6&&(_0x5f2af6&nl)!==0x1*0x261f+0x107e+-0x1*0x369d,_0x2d1417['litOptions']['batch']=_0x5f2af6&&(_0x5f2af6&qc)!==0xda3*-0x1+0x24ed*0x1+-0x2*0xba5,_0x2d1417['litOptions']['useInstanc'+'ing']=_0x5f2af6&&(_0x5f2af6&ol)!==0x3*-0x7cb+-0x57e+0x13*0x185,_0x2d1417['litOptions']['useMorphPo'+'sition']=_0x5f2af6&&(_0x5f2af6&ll)!==0x1d43+-0xd*0x251+0xda,_0x2d1417['litOptions']['useMorphNo'+'rmal']=_0x5f2af6&&(_0x5f2af6&cl)!==-0x2468+0x141*0x17+0xd*0x95,_0x2d1417['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x5f2af6&&(_0x5f2af6&hl)!==-0x80f*0x1+-0x11b*-0x5+-0x24*-0x12,_0x2d1417['litOptions']['nineSliced'+'Mode']=_0x6f723f['nineSliced'+'Mode']||0x1d91+0x2531+-0x42c2,_0x569248['clusteredL'+'ightingEna'+'bled']&&_0x6f723f['useLightin'+'g']?(_0x2d1417['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0xcbf*-0x1+-0x1afb*-0x1+-0xe3c),_0x2d1417['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x569248['lighting']['cookiesEna'+'bled'],_0x2d1417['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x569248['lighting']['shadowsEna'+'bled'],_0x2d1417['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x569248['lighting']['shadowType'],_0x2d1417['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x569248['lighting']['areaLights'+'Enabled']):(_0x2d1417['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x246e+-0x2*0x661+-0x17ab),_0x2d1417['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x1*0x805+0x1e06+-0x1600),_0x2d1417['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x146*0x11+0x2506+-0xf5f),_0x2d1417['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0xadb*-0x3+0x1755+0x93d));}['_updateUVO'+'ptions'](_0x22ecbc,_0x4c5018,_0x4e14ac,_0x154ebe,_0x69739a){let _0x34a410=!(0x11*-0x173+-0x2ba+0x1b5e),_0x580858=!(-0x2*-0x164+0x2668+-0x292f),_0x27382e=!(-0xf*0x12d+0xaf9+0x6ab);_0x4e14ac&&(_0x34a410=(_0x4e14ac&nm)!==0x6*-0x4e1+-0x1819+0x355f,_0x580858=(_0x4e14ac&dv)!==0xf*-0x24d+0x1*-0x59b+0x82*0x4f,_0x27382e=(_0x4e14ac&fv)!==0x8c3*0x1+-0x50*-0x6b+-0x3*0xe11),_0x22ecbc['litOptions']['vertexColo'+'rs']=!(0xe1*0x15+0x40+-0xe*0x156),this['_mapXForms']=[];const _0x3d2c05={};for(const _0x317687 in bn)this['_updateTex'+'Options'](_0x22ecbc,_0x4c5018,_0x317687,_0x34a410,_0x580858,_0x27382e,_0x154ebe,_0x3d2c05);this['_mapXForms']=null,_0x22ecbc['litOptions']['ssao']=_0x69739a==null?void(-0x1d36*0x1+0x64d*0x3+-0xcb*-0xd):_0x69739a['ssaoEnable'+'d'],_0x22ecbc['useAO']=_0x22ecbc['litOptions']['ssao'],_0x22ecbc['litOptions']['lightMapEn'+'abled']=_0x22ecbc['lightMap'],_0x22ecbc['litOptions']['dirLightMa'+'pEnabled']=_0x22ecbc['dirLightMa'+'p'],_0x22ecbc['litOptions']['useHeights']=_0x22ecbc['heightMap'],_0x22ecbc['litOptions']['useNormals']=_0x22ecbc['normalMap'],_0x22ecbc['litOptions']['useClearCo'+'atNormals']=_0x22ecbc['clearCoatN'+'ormalMap'],_0x22ecbc['litOptions']['useAo']=_0x22ecbc['aoMap']||_0x22ecbc['aoVertexCo'+'lor']||_0x22ecbc['litOptions']['ssao'],_0x22ecbc['litOptions']['diffuseMap'+'Enabled']=_0x22ecbc['diffuseMap'];}['_updateTex'+'Options'](_0x660ab4,_0x330046,_0x549f84,_0x1e61b7,_0x408814,_0x226ffb,_0x38bb87,_0x54af9f){const _0x182ce9=_0x549f84==='opacity';if(!_0x38bb87||_0x182ce9){const _0x1fa8db=_0x549f84+'Map',_0x52fa7f=_0x549f84+('VertexColo'+'r'),_0x37c6ff=_0x549f84+('VertexColo'+'rChannel'),_0x51425c=_0x1fa8db+'Channel',_0x2a46dc=_0x1fa8db+'Transform',_0xda4145=_0x1fa8db+'Uv',_0x1c809c=_0x1fa8db+'Identifier';if(_0x549f84!=='light'&&(_0x660ab4[_0x1fa8db]=!(0x1b7d*0x1+0xd00+-0x287c),_0x660ab4[_0x1c809c]=void(-0x8cc+-0x1dd*0x2+0x643*0x2),_0x660ab4[_0x51425c]='',_0x660ab4[_0x2a46dc]=0x30*-0x7d+0x16e8+0x88*0x1,_0x660ab4[_0xda4145]=0xdd6+-0x234+0xba2*-0x1),_0x660ab4[_0x52fa7f]=!(0x1b*-0x13d+0x51a+0x1c56),_0x660ab4[_0x37c6ff]='',_0x182ce9&&_0x330046['blendType']===Cs&&_0x330046['alphaTest']===0xf6a+0x159a+0x2*-0x1282&&!_0x330046['alphaToCov'+'erage']&&_0x330046['opacityDit'+'her']===Sa)return;if(_0x549f84!=='height'&&_0x330046[_0x52fa7f]&&_0x226ffb&&(_0x660ab4[_0x52fa7f]=_0x330046[_0x52fa7f],_0x660ab4[_0x37c6ff]=_0x330046[_0x37c6ff],_0x660ab4['litOptions']['vertexColo'+'rs']=!(-0x19*-0x119+-0x240d+0x89c)),_0x330046[_0x1fa8db]){let _0x1d27dd=!(-0xaee+0x13cc+0xa*-0xe3);if(_0x330046[_0xda4145]===0x355+-0x795+-0x88*-0x8&&!_0x1e61b7&&(_0x1d27dd=!(0x95*0xb+-0x14f6+0xe90*0x1)),_0x330046[_0xda4145]===0x1*-0x487+0x288+-0x8*-0x40&&!_0x408814&&(_0x1d27dd=!(0x8ee+-0x39b*-0x1+0xc88*-0x1)),_0x1d27dd){const _0x4cac11=_0x330046[_0x1fa8db]['id'];let _0x485e62=_0x54af9f[_0x4cac11];_0x485e62===void(0x37e+-0x2289*0x1+0x9*0x373)&&(_0x54af9f[_0x4cac11]=_0x549f84,_0x485e62=_0x549f84),_0x660ab4[_0x1fa8db]=!!_0x330046[_0x1fa8db],_0x660ab4[_0x1c809c]=_0x485e62,_0x660ab4[_0x2a46dc]=this['_getMapTra'+'nsformID'](_0x330046['getUniform'](_0x2a46dc),_0x330046[_0xda4145]),_0x660ab4[_0x51425c]=_0x330046[_0x51425c],_0x660ab4[_0xda4145]=_0x330046[_0xda4145];}}}}['_updateMin'+'Options'](_0x2d1fca,_0x5b845f,_0x148ce){const _0x542108=_0x148ce===Rl;_0x2d1fca['litOptions']['opacitySha'+'dowDither']=_0x542108?_0x5b845f['opacityDit'+'her']:_0x5b845f['opacitySha'+'dowDither'],_0x2d1fca['litOptions']['linearDept'+'h']=_0x542108,_0x2d1fca['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0xff1df5,_0x45aa3e,_0x11d4a0){var _0x353df,_0x3fe191,_0x410f13,_0xa1a84c,_0x463f4b,_0x111d0c;const _0x1cedd9=!!(_0x45aa3e['useMetalne'+'ss']||_0x45aa3e['specularMa'+'p']||_0x45aa3e['sphereMap']||_0x45aa3e['cubeMap']||mb(_0x45aa3e['specular'])||_0x45aa3e['specularit'+'yFactor']>0x18e*-0x3+-0x1*0x1613+0xb9*0x25&&_0x45aa3e['useMetalne'+'ss']||_0x45aa3e['enableGGXS'+'pecular']||_0x45aa3e['clearCoat']>-0x8*0x125+-0x1058+0x60*0x44),_0x20f72b=!_0x45aa3e['useMetalne'+'ss']||_0x45aa3e['useMetalne'+'ssSpecular'+'Color'],_0x37a07a=_0x1cedd9&&(_0x45aa3e['specularTi'+'nt']||!_0x45aa3e['specularMa'+'p']&&!_0x45aa3e['specularVe'+'rtexColor'])&&pb(_0x45aa3e['specular']),_0x1d536b=_0x1cedd9&&_0x45aa3e['useMetalne'+'ssSpecular'+'Color']&&(_0x45aa3e['specularit'+'yFactorTin'+'t']||_0x45aa3e['specularit'+'yFactor']<0xb69+-0x1*0x1dd7+0x625*0x3&&!_0x45aa3e['specularit'+'yFactorMap']),_0x2840b3=_0x308bf7=>_0x308bf7?_0x308bf7['format']===vl||_0x308bf7['type']===Jo:!(0x1321+-0x102b+-0x1*0x2f5),_0x2410cc=(_0x3332dc,_0x321b12)=>Math['abs'](_0x3332dc-_0x321b12)<0x8b1+0x59b+-0xe4c+0.0001;_0xff1df5['specularTi'+'nt']=_0x37a07a,_0xff1df5['specularit'+'yFactorTin'+'t']=_0x1d536b,_0xff1df5['metalnessT'+'int']=_0x45aa3e['useMetalne'+'ss']&&_0x45aa3e['metalness']<0x1f2f*0x1+-0x21*-0x7b+-0x2f09,_0xff1df5['glossTint']=!(-0x15f4+0x1bb5+-0x5c1),_0xff1df5['diffuseEnc'+'oding']=(_0x353df=_0x45aa3e['diffuseMap'])==null?void(0xee8+-0x116c+0x7*0x5c):_0x353df['encoding'],_0xff1df5['diffuseDet'+'ailEncodin'+'g']=(_0x3fe191=_0x45aa3e['diffuseDet'+'ailMap'])==null?void(-0x98*0x3+0xe13*0x2+-0x1a5e):_0x3fe191['encoding'],_0xff1df5['emissiveEn'+'coding']=(_0x410f13=_0x45aa3e['emissiveMa'+'p'])==null?void(-0x328*0x6+0x6*0x1fb+0x70e):_0x410f13['encoding'],_0xff1df5['lightMapEn'+'coding']=(_0xa1a84c=_0x45aa3e['lightMap'])==null?void(-0x2395*0x1+-0x2*0x1ee+-0x2771*-0x1):_0xa1a84c['encoding'],_0xff1df5['packedNorm'+'al']=_0x2840b3(_0x45aa3e['normalMap']),_0xff1df5['refraction'+'Tint']=_0x2410cc(_0x45aa3e['refraction'],0x1cb1*0x1+-0x43*0x4a+-0x952*0x1),_0xff1df5['refraction'+'IndexTint']=_0x2410cc(_0x45aa3e['refraction'+'Index'],(0xd94+-0x1285+-0x1a6*-0x3)/(-0x17e6+0x1620+0x5b*0x5+0.5)),_0xff1df5['thicknessT'+'int']=_0x45aa3e['useDynamic'+'Refraction']&&_0x45aa3e['thickness']!==0xb92*-0x1+0xca8+0x115*-0x1,_0xff1df5['specularEn'+'coding']=(_0x463f4b=_0x45aa3e['specularMa'+'p'])==null?void(0x1c6e+0xbd6+-0x2844):_0x463f4b['encoding'],_0xff1df5['sheenEncod'+'ing']=(_0x111d0c=_0x45aa3e['sheenMap'])==null?void(0x21fa*0x1+-0x1491+0xd69*-0x1):_0x111d0c['encoding'],_0xff1df5['aoMapUv']=_0x45aa3e['aoUvSet'],_0xff1df5['aoDetail']=!!_0x45aa3e['aoDetailMa'+'p'],_0xff1df5['diffuseDet'+'ail']=!!_0x45aa3e['diffuseDet'+'ailMap'],_0xff1df5['normalDeta'+'il']=!!_0x45aa3e['normalMap'],_0xff1df5['normalDeta'+'ilPackedNo'+'rmal']=_0x2840b3(_0x45aa3e['normalDeta'+'ilMap']),_0xff1df5['diffuseDet'+'ailMode']=_0x45aa3e['diffuseDet'+'ailMode'],_0xff1df5['aoDetailMo'+'de']=_0x45aa3e['aoDetailMo'+'de'],_0xff1df5['clearCoatG'+'loss']=!!_0x45aa3e['clearCoatG'+'loss'],_0xff1df5['clearCoatP'+'ackedNorma'+'l']=_0x2840b3(_0x45aa3e['clearCoatN'+'ormalMap']),_0xff1df5['iorTint']=_0x2410cc(_0x45aa3e['refraction'+'Index'],(-0x3*-0xc87+0xf59*-0x1+0x1*-0x163b)/(-0x1*-0x913+-0xf2*-0x19+-0x20b4+0.5)),_0x11d4a0['forcePassT'+'hroughSpec'+'ular']&&(_0xff1df5['specularEn'+'coding']='linear',_0xff1df5['sheenEncod'+'ing']='linear'),_0xff1df5['iridescenc'+'eTint']=_0x45aa3e['iridescenc'+'e']!==0x2244+-0x31*-0x43+0x2a*-0x11f,_0xff1df5['glossInver'+'t']=_0x45aa3e['glossInver'+'t'],_0xff1df5['sheenGloss'+'Invert']=_0x45aa3e['sheenGloss'+'Invert'],_0xff1df5['clearCoatG'+'lossInvert']=_0x45aa3e['clearCoatG'+'lossInvert'],_0xff1df5['useSpecula'+'rColor']=_0x20f72b,_0xff1df5['litOptions']['separateAm'+'bient']=!(-0x2263+0x9*0x123+-0x4d5*-0x5),_0xff1df5['litOptions']['pixelSnap']=_0x45aa3e['pixelSnap'],_0xff1df5['litOptions']['ambientSH']=!!_0x45aa3e['ambientSH'],_0xff1df5['litOptions']['twoSidedLi'+'ghting']=_0x45aa3e['twoSidedLi'+'ghting'],_0xff1df5['litOptions']['occludeSpe'+'cular']=_0x45aa3e['occludeSpe'+'cular'],_0xff1df5['litOptions']['occludeSpe'+'cularFloat']=_0x45aa3e['occludeSpe'+'cularInten'+'sity']!==-0x1171+-0x2465+-0xb3*-0x4d,_0xff1df5['litOptions']['useMsdf']=!!_0x45aa3e['msdfMap'],_0xff1df5['litOptions']['msdfTextAt'+'tribute']=!!_0x45aa3e['msdfTextAt'+'tribute'],_0xff1df5['litOptions']['alphaToCov'+'erage']=_0x45aa3e['alphaToCov'+'erage'],_0xff1df5['litOptions']['opacityFad'+'esSpecular']=_0x45aa3e['opacityFad'+'esSpecular'],_0xff1df5['litOptions']['opacityDit'+'her']=_0x45aa3e['opacityDit'+'her'],_0xff1df5['litOptions']['cubeMapPro'+'jection']=_0x45aa3e['cubeMapPro'+'jection'],_0xff1df5['litOptions']['occludeDir'+'ect']=_0x45aa3e['occludeDir'+'ect'],_0xff1df5['litOptions']['useSpecula'+'r']=_0x1cedd9,_0xff1df5['litOptions']['useSpecula'+'rityFactor']=(_0x1d536b||!!_0x45aa3e['specularit'+'yFactorMap'])&&_0x45aa3e['useMetalne'+'ssSpecular'+'Color'],_0xff1df5['litOptions']['enableGGXS'+'pecular']=_0x45aa3e['enableGGXS'+'pecular'],_0xff1df5['litOptions']['fresnelMod'+'el']=_0x45aa3e['fresnelMod'+'el'],_0xff1df5['litOptions']['useRefract'+'ion']=(_0x45aa3e['refraction']||!!_0x45aa3e['refraction'+'Map'])&&(_0x45aa3e['useDynamic'+'Refraction']||_0xff1df5['litOptions']['reflection'+'Source']!==vr),_0xff1df5['litOptions']['useClearCo'+'at']=!!_0x45aa3e['clearCoat'],_0xff1df5['litOptions']['useSheen']=_0x45aa3e['useSheen'],_0xff1df5['litOptions']['useIridesc'+'ence']=_0x45aa3e['useIridesc'+'ence']&&_0x45aa3e['iridescenc'+'e']!==-0x16fc+0x8*0x332+-0x294,_0xff1df5['litOptions']['useMetalne'+'ss']=_0x45aa3e['useMetalne'+'ss'],_0xff1df5['litOptions']['useDynamic'+'Refraction']=_0x45aa3e['useDynamic'+'Refraction'],_0xff1df5['litOptions']['dispersion']=_0x45aa3e['dispersion']>0xaf1*-0x1+-0xec8+0x525*0x5,_0xff1df5['litOptions']['shadowCatc'+'her']=_0x45aa3e['shadowCatc'+'her'];}['_updateEnv'+'Options'](_0x38d672,_0x5bb27b,_0x43a656,_0x4783e6){_0x38d672['litOptions']['fog']=_0x5bb27b['useFog']?_0x4783e6['fog']:Kn,_0x38d672['litOptions']['gamma']=_0x4783e6['shaderOutp'+'utGamma'],_0x38d672['litOptions']['toneMap']=_0x5bb27b['useTonemap']?_0x4783e6['toneMappin'+'g']:nv;let _0x23f8f5=!(-0x7fb*0x1+-0x991+0x118d);if(_0x5bb27b['envAtlas']&&_0x5bb27b['cubeMap']?(_0x38d672['litOptions']['reflection'+'Source']=xh,_0x38d672['litOptions']['reflection'+'Encoding']=_0x5bb27b['envAtlas']['encoding'],_0x38d672['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x5bb27b['cubeMap']['encoding']):_0x5bb27b['envAtlas']?(_0x38d672['litOptions']['reflection'+'Source']=vh,_0x38d672['litOptions']['reflection'+'Encoding']=_0x5bb27b['envAtlas']['encoding']):_0x5bb27b['cubeMap']?(_0x38d672['litOptions']['reflection'+'Source']=Th,_0x38d672['litOptions']['reflection'+'Encoding']=_0x5bb27b['cubeMap']['encoding']):_0x5bb27b['sphereMap']?(_0x38d672['litOptions']['reflection'+'Source']=hv,_0x38d672['litOptions']['reflection'+'Encoding']=_0x5bb27b['sphereMap']['encoding']):_0x5bb27b['useSkybox']&&_0x43a656['envAtlas']&&_0x43a656['skybox']?(_0x38d672['litOptions']['reflection'+'Source']=xh,_0x38d672['litOptions']['reflection'+'Encoding']=_0x43a656['envAtlas']['encoding'],_0x38d672['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x43a656['skybox']['encoding'],_0x23f8f5=!(0x3*-0x9ff+0x149d*0x1+0x960)):_0x5bb27b['useSkybox']&&_0x43a656['envAtlas']?(_0x38d672['litOptions']['reflection'+'Source']=vh,_0x38d672['litOptions']['reflection'+'Encoding']=_0x43a656['envAtlas']['encoding'],_0x23f8f5=!(-0x18a9+-0x12*-0x20b+-0xc1d)):_0x5bb27b['useSkybox']&&_0x43a656['skybox']?(_0x38d672['litOptions']['reflection'+'Source']=Th,_0x38d672['litOptions']['reflection'+'Encoding']=_0x43a656['skybox']['encoding'],_0x23f8f5=!(0x1edf+-0x234b+-0x236*-0x2)):(_0x38d672['litOptions']['reflection'+'Source']=vr,_0x38d672['litOptions']['reflection'+'Encoding']=null),_0x5bb27b['ambientSH'])_0x38d672['litOptions']['ambientSou'+'rce']=im,_0x38d672['litOptions']['ambientEnc'+'oding']=null;else{const _0x366962=_0x5bb27b['envAtlas']||(_0x5bb27b['useSkybox']&&_0x43a656['envAtlas']?_0x43a656['envAtlas']:null);_0x366962&&!_0x5bb27b['sphereMap']?(_0x38d672['litOptions']['ambientSou'+'rce']=rm,_0x38d672['litOptions']['ambientEnc'+'oding']=_0x366962['encoding']):(_0x38d672['litOptions']['ambientSou'+'rce']=am,_0x38d672['litOptions']['ambientEnc'+'oding']=null);}_0x38d672['litOptions']['skyboxInte'+'nsity']=_0x23f8f5,_0x38d672['litOptions']['useCubeMap'+'Rotation']=_0x23f8f5&&_0x43a656['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0x3823c0,_0x483ab5,_0x57f827,_0x233d4e,_0x5ee7a8){if(_0x3823c0['lightMap']=!(-0x241d+0x3c9+-0xac7*-0x3),_0x3823c0['lightMapCh'+'annel']='',_0x3823c0['lightMapUv']=-0x164*0xb+0x4cd*0x3+0xe5,_0x3823c0['lightMapTr'+'ansform']=-0x1599+0x13f6+-0x1a3*-0x1,_0x3823c0['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x3*0x841+-0x505*-0x2+-0x22cc),_0x3823c0['dirLightMa'+'p']=!(-0x2*0xef+-0x2*0x404+0x9e7),_0x233d4e&&(_0x3823c0['litOptions']['noShadow']=(_0x233d4e&wh)!==-0x1934+0xf6c+-0x4e4*-0x2,(_0x233d4e&ou)!==-0x8*0x194+0x2b*-0x29+-0x2d*-0x6f&&(_0x3823c0['lightMapEn'+'coding']=_0x483ab5['lightmapPi'+'xelFormat']===Ne?'rgbm':'linear',_0x3823c0['lightMap']=!(0x4*0x6ab+-0x2*-0xfc7+-0x3a*0x101),_0x3823c0['lightMapCh'+'annel']='rgb',_0x3823c0['lightMapUv']=0x1ca7+-0x1adf+-0x1c7,_0x3823c0['lightMapTr'+'ansform']=-0xf*0x5b+-0xf6a*-0x1+-0x1d*0x59,_0x3823c0['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0x57f827['lightMap'],(_0x233d4e&uv)!==0x11*-0x121+0x1027+0x30a&&(_0x3823c0['dirLightMa'+'p']=!(0x7c9*0x1+-0x4fb*0x5+0x111e)),(_0x233d4e&pv)!==0x1*0xf7+-0x124e+0x1157&&(_0x3823c0['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0xa8*0xd+0xf16*-0x1+0x68f*0x1)))),_0x57f827['useLightin'+'g']){const _0x352bcf=[],_0x4c1652=_0x233d4e?_0x233d4e>>-0x9a2+0x18b+-0x827*-0x1:Ss;_0x3823c0['litOptions']['lightMaskD'+'ynamic']=!!(_0x4c1652&Ss),_0x5ee7a8&&(Ws['collectLig'+'hts'](ve,_0x5ee7a8[ve],_0x352bcf,_0x4c1652),_0x483ab5['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x5ee7a8[Ke],_0x352bcf,_0x4c1652),Ws['collectLig'+'hts'](Ze,_0x5ee7a8[Ze],_0x352bcf,_0x4c1652))),_0x3823c0['litOptions']['lights']=_0x352bcf;}else _0x3823c0['litOptions']['lights']=[];_0x3823c0['litOptions']['lights']['length']===-0x1bb*0x2+0x1ce8+-0x1972&&!_0x483ab5['clusteredL'+'ightingEna'+'bled']&&(_0x3823c0['litOptions']['noShadow']=!(0x26a6+-0x2211+-0x33*0x17));}['_getMapTra'+'nsformID'](_0x5004c9,_0x124021){if(!_0x5004c9)return-0xee8+-0x7d0+-0x2d7*-0x8;let _0x1f8a30=this['_mapXForms'][_0x124021];_0x1f8a30||(_0x1f8a30=[],this['_mapXForms'][_0x124021]=_0x1f8a30);for(let _0xa4e48d=-0x1*-0x551+-0x1*-0x3e+-0x58f;_0xa4e48d<_0x1f8a30['length'];_0xa4e48d++)if(G_(_0x1f8a30[_0xa4e48d][0x119+-0x687*-0x1+-0x7a0]['value'],_0x5004c9[-0x123d+-0x1edf+0x1c1*0x1c]['value'])&&G_(_0x1f8a30[_0xa4e48d][-0x11ad+-0x168b+0x2839]['value'],_0x5004c9[-0x7dc*-0x4+0x13a*0x3+0x1*-0x231d]['value']))return _0xa4e48d+(-0x21ac+0x5*-0x73+0x23ec);return _0x1f8a30['push'](_0x5004c9);}}function rt(_0x4ac876,_0x1fc688=!(0x26a6+-0x11*-0x1cd+-0x95*0x77),_0x16383f=!(0x5*0x34a+0x1*0x141b+0x248d*-0x1)){const _0x2189bf={};return _0x2189bf[_0x4ac876+'Map']='texture',_0x2189bf[_0x4ac876+'MapTiling']='vec2',_0x2189bf[_0x4ac876+'MapOffset']='vec2',_0x2189bf[_0x4ac876+('MapRotatio'+'n')]='number',_0x2189bf[_0x4ac876+'MapUv']='number',_0x1fc688&&(_0x2189bf[_0x4ac876+'MapChannel']='string',_0x16383f&&(_0x2189bf[_0x4ac876+('VertexColo'+'r')]='boolean',_0x2189bf[_0x4ac876+('VertexColo'+'rChannel')]='string')),_0x2189bf;}const $n={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...rt('ao'),...rt('aoDetail',!(0x1e9d+0x493*-0x7+0x168),!(0x6*0x496+-0x1428+-0x75b)),'aoDetailMode':'string','aoIntensity':'number','diffuse':'rgb',...rt('diffuse'),...rt('diffuseDet'+'ail',!(-0x30*0x40+-0x331+0xf31*0x1),!(0x6*-0x622+-0x2f*0xa+0x26a3)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...rt('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...rt('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','metalnessTint':'boolean',...rt('metalness'),'useMetalnessSpecularColor':'boolean','anisotropyIntensity':'number','anisotropyRotation':'number',...rt('anisotropy'),'shininess':'number','gloss':'number','glossInvert':'boolean',...rt('gloss'),'clearCoat':'number',...rt('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...rt('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...rt('clearCoatN'+'ormal',!(-0x1d0a+0x72+0x1c99)),'useSheen':'boolean','sheen':'rgb',...rt('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...rt('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...rt('emissive'),'emissiveIntensity':'number',...rt('normal',!(-0x2003+-0x1c7b+0x3c7f)),'bumpiness':'number',...rt('normalDeta'+'il',!(-0x246e+-0x116*0xa+0x2f4b)),'normalDetailMapBumpiness':'number',...rt('height',!(-0x3b7*-0x8+-0x124b+-0x27*0x4b),!(-0x24aa+-0x1d31+-0x1e*-0x232)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...rt('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...rt('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...rt('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...rt('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...rt('iridescenc'+'eThickness'),...rt('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean','shadowCatcher':'boolean'},Cd=[];for(const l in $n)$n[l]==='texture'&&Cd['push'](l);const fm=[];for(const l in $n)$n[l]==='cubemap'&&fm['push'](l);const gb={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean','anisotropy':'boolean'},Kc={},bv={};let no=new Set();const oc=new ie();class Ut extends tr{constructor(){super(),h(this,'userAttrib'+'utes',new Map()),h(this,'onUpdateSh'+'ader'),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new _b(),this['reset']());}['reset'](){Object['keys'](Kc)['forEach'](_0x3bc874=>{this['_'+_0x3bc874]=Kc[_0x3bc874]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x2a311b){return super['copy'](_0x2a311b),Object['keys'](Kc)['forEach'](_0x43b08d=>{this[_0x43b08d]=_0x2a311b[_0x43b08d];}),this['userAttrib'+'utes']=new Map(_0x2a311b['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0x2ea2c7,_0xe946bf){this['userAttrib'+'utes']['set'](_0xe946bf,_0x2ea2c7);}['_setParame'+'ter'](_0x50d48e,_0xa2789b){no['add'](_0x50d48e),this['setParamet'+'er'](_0x50d48e,_0xa2789b);}['_setParame'+'ters'](_0x161750){_0x161750['forEach'](_0xa7fbef=>{this['_setParame'+'ter'](_0xa7fbef['name'],_0xa7fbef['value']);});}['_processPa'+'rameters'](_0x32b707){const _0x5ae608=this[_0x32b707];_0x5ae608['forEach'](_0x4d729e=>{no['has'](_0x4d729e)||delete this['parameters'][_0x4d729e];}),this[_0x32b707]=no,no=_0x5ae608,no['clear']();}['_updateMap'](_0x3b3483){const _0x4aaed9=_0x3b3483+'Map',_0x739c4b=this[_0x4aaed9];if(_0x739c4b){this['_setParame'+'ter']('texture_'+_0x4aaed9,_0x739c4b);const _0x5e58b2=_0x4aaed9+'Transform',_0x49d9b0=this['getUniform'](_0x5e58b2);_0x49d9b0&&this['_setParame'+'ters'](_0x49d9b0);}}['_allocUnif'+'orm'](_0x352210,_0x38b12d){let _0x4bcacc=this['_uniformCa'+'che'][_0x352210];return _0x4bcacc||(_0x4bcacc=_0x38b12d(),this['_uniformCa'+'che'][_0x352210]=_0x4bcacc),_0x4bcacc;}['getUniform'](_0x4fb18e,_0x27668d,_0xdeeb09){return bv[_0x4fb18e](this,_0x27668d,_0xdeeb09);}['updateUnif'+'orms'](_0x145c72,_0x6b4eab){const _0x50e7d4=_0x574b2e=>this['getUniform'](_0x574b2e,_0x145c72,_0x6b4eab);this['_setParame'+'ter']('material_a'+'mbient',_0x50e7d4('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x50e7d4('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<-0x12d7+0x8ce+0xa0a)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x50e7d4('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x50e7d4('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x50e7d4('specular')),this['enableGGXS'+'pecular']&&(this['_setParame'+'ter']('material_a'+'nisotropyI'+'ntensity',this['anisotropy'+'Intensity']),this['_setParame'+'ter']('material_a'+'nisotropyR'+'otation',[Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']),Math['sin'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD'])])),this['clearCoat']>-0x4a9*0x4+-0x1*-0x15ab+-0x307&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),w['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===0x60*0x59+0x249b*-0x1+0x33b*0x1&&this['emissive']['g']===0x2678+-0x129a+0x13de*-0x1&&this['emissive']['b']===-0x1120+0x12b1+-0x191&&w['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+Q['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x50e7d4('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>0x1b39+0x16a*0x4+-0x20e1&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>-0x1b5d+-0x331*0x3+0x24f0&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x50e7d4('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===0x1bb1+0x7bb*0x3+0x6*-0x87b?0x19f5*-0x1+0x214+0x17e1:(-0x39f*0x2+0x3fa*0x1+0x345*0x1)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(-0xf2+-0x1*0x22fa+0x23ed)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===av&&this['_setParame'+'ter'](_0x50e7d4('cubeMapPro'+'jectionBox'));for(const _0x4bac13 in bn)this['_updateMap'](_0x4bac13);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x50e7d4('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x145c72,_0x6b4eab);}['updateEnvU'+'niforms'](_0x38637f,_0x27e34e){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x27e34e['envAtlas']&&_0x27e34e['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x27e34e['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x27e34e['skybox'])):_0x27e34e['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x27e34e['envAtlas']):_0x27e34e['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x27e34e['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x479c65){const {device:_0x4132bd,scene:_0x3a024d,pass:_0x308a84,objDefs:_0x34c54b,sortedLights:_0x5418c2,cameraShaderParams:_0x1c0b9b}=_0x479c65;this['updateEnvU'+'niforms'](_0x4132bd,_0x3a024d);const _0x399141=Si['get'](_0x4132bd)['getByIndex'](_0x308a84),_0x5e30e1=_0x308a84===Zn||_0x308a84===Rl||_0x399141['isShadow'];let _0x3431e2=_0x5e30e1?Jd['optionsCon'+'textMin']:Jd['optionsCon'+'text'];_0x3431e2['defines']=$t['getCoreDef'+'ines'](this,_0x479c65),_0x5e30e1?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x3431e2,_0x3a024d,this,_0x34c54b,_0x308a84,_0x5418c2):this['shaderOptB'+'uilder']['updateRef'](_0x3431e2,_0x3a024d,_0x1c0b9b,this,_0x34c54b,_0x308a84,_0x5418c2),this['useFog']||_0x3431e2['defines']['set']('FOG','NONE'),_0x3431e2['defines']['set']('TONEMAP',ov[_0x3431e2['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x3431e2=this['onUpdateSh'+'ader'](_0x3431e2));const _0x451b48=new Ad(_0x479c65['viewUnifor'+'mFormat'],_0x479c65['viewBindGr'+'oupFormat'],_0x479c65['vertexForm'+'at']),_0x5cfcd2=Hn(_0x4132bd);_0x5cfcd2['register']('standard',Jd);const _0x191812=_0x5cfcd2['getProgram']('standard',_0x3431e2,_0x451b48,this['userId']);return this['_dirtyShad'+'er']=!(0x663*-0x3+0x1*0x22a0+-0x7bb*0x2),_0x191812;}['destroy'](){for(const _0x300356 in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x300356]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}h(Ut,'TEXTURE_PA'+'RAMETERS',Cd),h(Ut,'CUBEMAP_PA'+'RAMETERS',fm);const Pd=(_0x197588,_0x259820)=>{bv[_0x197588]=_0x259820;},um=(_0x392ad7,_0x3b6798,_0x45981f,_0x33b85c)=>{Object['defineProp'+'erty'](Ut['prototype'],_0x392ad7,{'get':_0x33b85c||function(){return this['_'+_0x392ad7];},'set':_0x45981f}),Kc[_0x392ad7]={'value':_0x3b6798};},Sb=_0x3fe9fc=>{const _0x5f2426='_'+_0x3fe9fc['name'],_0x444344=_0x3fe9fc['dirtyShade'+'rFunc']||(()=>!(0xc51*-0x1+-0x11c*0x16+0x24b9)),_0x212377=function(_0x4fb1a0){const _0x5ef417=this[_0x5f2426];_0x5ef417!==_0x4fb1a0&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x444344(_0x5ef417,_0x4fb1a0),this[_0x5f2426]=_0x4fb1a0);};um(_0x3fe9fc['name'],()=>_0x3fe9fc['defaultVal'+'ue'],_0x212377,_0x3fe9fc['getterFunc']);},yb=_0xc92df4=>{const _0x3ef249='_'+_0xc92df4['name'],_0x1ff908=_0xc92df4['dirtyShade'+'rFunc']||(()=>!(0x8fd+-0x171f*-0x1+-0x201c)),_0x5a72d7=function(_0x187415){const _0x179a71=this[_0x3ef249];_0x179a71['equals'](_0x187415)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x1ff908(_0x179a71,_0x187415),this[_0x3ef249]=_0x179a71['copy'](_0x187415));};um(_0xc92df4['name'],()=>_0xc92df4['defaultVal'+'ue']['clone'](),_0x5a72d7,_0xc92df4['getterFunc']);},Es=_0x4c371c=>_0x4c371c['defaultVal'+'ue']&&_0x4c371c['defaultVal'+'ue']['clone']?yb(_0x4c371c):Sb(_0x4c371c);function et(_0x1f83b4,_0x2b92b8='rgb',_0x544e24=!(0x127*0x6+0x1c75+-0x713*0x5),_0x2fe871=0x1db*0x5+0x897+-0x11de){bn[_0x1f83b4]=_0x2b92b8['length']||-(-0x48*-0x51+0x1*-0x18a6+0x1df),Es({'name':_0x1f83b4+'Map','defaultValue':null,'dirtyShaderFunc':(_0x47ff83,_0x29bca0)=>!!_0x47ff83!=!!_0x29bca0||_0x47ff83&&(_0x47ff83['type']!==_0x29bca0['type']||_0x47ff83['format']!==_0x29bca0['format'])}),Es({'name':_0x1f83b4+'MapTiling','defaultValue':new J(0x2200+-0x2*0x902+-0x1*0xffb,0x1*0xbe9+-0x115f+-0x577*-0x1)}),Es({'name':_0x1f83b4+'MapOffset','defaultValue':new J(0x3f4*-0x1+0xc7e+-0x88a,-0x20+0x149*0x14+-0x1994*0x1)}),Es({'name':_0x1f83b4+('MapRotatio'+'n'),'defaultValue':0x0}),Es({'name':_0x1f83b4+'MapUv','defaultValue':_0x2fe871}),_0x2b92b8&&(Es({'name':_0x1f83b4+'MapChannel','defaultValue':_0x2b92b8}),_0x544e24&&(Es({'name':_0x1f83b4+('VertexColo'+'r'),'defaultValue':!(-0x167*0x1+-0x1*-0x10ba+0x1*-0xf52)}),Es({'name':_0x1f83b4+('VertexColo'+'rChannel'),'defaultValue':_0x2b92b8})));const _0x3d5cb9=_0x1f83b4+'MapTiling',_0x36a4e8=_0x1f83b4+'MapOffset',_0x15c1aa=_0x1f83b4+('MapRotatio'+'n'),_0x88ed74=_0x1f83b4+('MapTransfo'+'rm');Pd(_0x88ed74,(_0xef6734,_0x56780a,_0x54b96b)=>{const _0x4f104b=_0xef6734[_0x3d5cb9],_0x153f2b=_0xef6734[_0x36a4e8],_0x377c08=_0xef6734[_0x15c1aa];if(_0x4f104b['x']===-0x1b7a+-0x1067+0x29*0x112&&_0x4f104b['y']===-0x13fd+0x7a5*-0x1+0x1ba3&&_0x153f2b['x']===0x1918+-0x79c+-0x117c&&_0x153f2b['y']===0x17*-0x7+0x1849+-0x17a8&&_0x377c08===0x2*-0xdde+0x128*0xb+0x782*0x2)return null;const _0x4fad1c=_0xef6734['_allocUnif'+'orm'](_0x88ed74,()=>[{'name':'texture_'+_0x88ed74+'0','value':new Float32Array(-0x1f00+-0x194*0x3+-0x23bf*-0x1)},{'name':'texture_'+_0x88ed74+'1','value':new Float32Array(0x11c7+0x2127+0xa5*-0x4f)}]),_0x553c5a=Math['cos'](_0x377c08*Y['DEG_TO_RAD']),_0x1e7bf5=Math['sin'](_0x377c08*Y['DEG_TO_RAD']),_0xab5724=_0x4fad1c[-0xfb*-0x13+-0x15*0xd7+0xfe*-0x1]['value'];_0xab5724[0x1992+0xe33+-0x27c5*0x1]=_0x553c5a*_0x4f104b['x'],_0xab5724[0x12d*0x3+-0x46c+0xe6]=-_0x1e7bf5*_0x4f104b['y'],_0xab5724[0x6a*-0x33+-0xbb1+0x20d1]=_0x153f2b['x'];const _0x13d161=_0x4fad1c[0x1893+-0x12a8*0x2+0xe*0xe9]['value'];return _0x13d161[-0x1*0xdcf+-0x630+0x13ff]=_0x1e7bf5*_0x4f104b['x'],_0x13d161[0x2*-0x5df+-0x2671*-0x1+-0x1ab2]=_0x553c5a*_0x4f104b['y'],_0x13d161[-0x1044+-0x1b75+-0x1*-0x2bbb]=0x21a0+-0x22fb+0x15c-_0x4f104b['y']-_0x153f2b['y'],_0x4fad1c;});}function Ra(_0x2a4f0e,_0x49b25b){Es({'name':_0x2a4f0e,'defaultValue':_0x49b25b,'getterFunc':function(){return this['_dirtyShad'+'er']=!(0x1230+0x1537*0x1+0x4d*-0x83),this['_'+_0x2a4f0e];}}),Pd(_0x2a4f0e,(_0x1b5602,_0x27703c,_0x5437e0)=>{const _0x88b548=_0x1b5602['_allocUnif'+'orm'](_0x2a4f0e,()=>new Float32Array(0x7a2*-0x2+0x5*-0x6e9+0x427*0xc)),_0x314d90=_0x1b5602[_0x2a4f0e];return oc['linear'](_0x314d90),_0x88b548[0x1c3f*-0x1+0x20d7+-0x498]=oc['r'],_0x88b548[0x9d9*-0x1+-0xd70+0x174a]=oc['g'],_0x88b548[0x25*-0xd1+0x2*-0xd53+0x38dd]=oc['b'],_0x88b548;});}function ze(_0x495419,_0x28cc78,_0x5933de){Es({'name':_0x495419,'defaultValue':_0x28cc78,'dirtyShaderFunc':(_0x10ab6a,_0x1eba7c)=>(_0x10ab6a===0x242*0x11+-0x1*0x20f1+0x1*-0x571||_0x10ab6a===-0xc1a+-0x1e95*-0x1+-0x2*0x93d)!=(_0x1eba7c===0xca9+-0x1e65+0x11bc*0x1||_0x1eba7c===-0xc6*0x23+0x2a5*-0x8+0x303b)}),Pd(_0x495419,_0x5933de);}function oo(_0x2ae63d,_0x2674fb){Es({'name':_0x2ae63d,'defaultValue':null,'dirtyShaderFunc':(_0x54e8a1,_0x1f81c1)=>!!_0x54e8a1==!!_0x1f81c1}),Pd(_0x2ae63d,_0x2674fb);}function ke(_0x34c8ea,_0x3da788){Es({'name':_0x34c8ea,'defaultValue':_0x3da788});}function vb(){Ra('ambient',new ie(0x20*-0x123+0xd*0x169+-0x1ce*-0xa,0x1b95+-0x6*0x22c+-0xe8c,0xa3*-0x7+0xc96+0x68*-0x14)),Ra('diffuse',new ie(0x62*0x3e+-0x201b+-0x2*-0x430,-0x11a1+-0x7*0x58f+0x388b,0x130c*0x1+0x6ac*0x1+-0x19b7)),Ra('specular',new ie(-0x1*-0x1e7+0x47+-0x22e,-0x1936+-0x9d+0x19d3,-0x115a+-0xca*0x11+0x1ec4)),Ra('emissive',new ie(-0x1*-0x964+-0x442+-0x522,-0x1b85+0x953+0x1232,0x1f72+-0x2552+0x5e0)),Ra('sheen',new ie(-0x2*-0x10a+-0x1a6+-0x6d*0x1,0x13cc+-0x31*0x57+-0x324,-0x1217+-0x1b5*-0x11+-0xaed)),Ra('attenuatio'+'n',new ie(0x1daa+0x9c1+-0x276a,0x2569+0xef7+-0x29*0x147,0x221b+-0x10*-0x56+-0x277a)),ze('emissiveIn'+'tensity',0x175c+0x2124+0x3*-0x12d5),ze('specularit'+'yFactor',-0x1c5a+-0x77*0x6+0x43*0x77),ze('sheenGloss',0x847+-0x109*-0x18+-0x1*0x211f),ze('gloss',-0x505+0x95*0x2b+-0x1402+0.25),ze('aoIntensit'+'y',0x12f5+-0x2192*-0x1+-0x3486),ze('heightMapF'+'actor',0x1*-0x1123+0xcd6*-0x1+0x1*0x1dfa,(_0x33abb7,_0x1fb30d,_0x3ead7f)=>_0x33abb7['heightMapF'+'actor']*(-0x3*0x3fd+-0x2*0xa93+0x211d+0.025)),ze('opacity',-0xa2*0x2a+0x3*-0x5f1+0x2c68),ze('alphaFade',-0x216c+-0x16de+0x384b),ze('alphaTest',-0x11*-0x185+-0x17a3+-0x232),ze('bumpiness',0x10*0xd4+-0x24*0xf1+0x14a5),ze('normalDeta'+'ilMapBumpi'+'ness',0xf*0x67+-0xe24+-0x3*-0x2b4),ze('reflectivi'+'ty',-0x268f+-0x2*0x12bf+0x24e*0x21),ze('occludeSpe'+'cularInten'+'sity',-0x203d+-0x1*0x1733+0x2eb*0x13),ze('refraction',-0x288+-0x155b+0x17e3),ze('refraction'+'Index',(0x256b+-0x1b87+-0x1*0x9e3)/(0x4cd+0x14b6*-0x1+0xfea+0.5)),ze('dispersion',0x4f*-0x7+-0x21d5+0x23fe),ze('thickness',0x1e9a+-0x1*-0x1c43+-0x1*0x3add),ze('attenuatio'+'nDistance',0x1*-0x2f+-0x34*-0x26+-0x789),ze('metalness',-0x25e2+-0xb2b+0x27*0x142),ze('anisotropy'+'Intensity',0x1*0x16db+0x367*0x2+-0x1da9),ze('anisotropy'+'Rotation',0xd7*0x12+0x1*0x1468+0x1*-0x2386),ze('clearCoat',0xa35+0x786+0x5e9*-0x3),ze('clearCoatG'+'loss',-0x74*0x52+0x1ccb+0x85e),ze('clearCoatB'+'umpiness',-0x1*-0x1676+-0x24bc+0xe47),ze('aoUvSet',0xa9b+-0x1*0x96c+-0x3*0x65,null),ze('iridescenc'+'e',-0x1f61+0x1*-0xba3+0x1*0x2b04),ze('iridescenc'+'eRefractio'+'nIndex',(0x1e25+0x1*0xdd0+0x184*-0x1d)/(0x164b+-0x45a*0x1+-0x11f0+0.5)),ze('iridescenc'+'eThickness'+'Min',-0xbce+0xec7+0x2f9*-0x1),ze('iridescenc'+'eThickness'+'Max',0x24fa+-0x259*0x1+-0x22a1),oo('ambientSH'),oo('cubeMapPro'+'jectionBox',(_0x209166,_0x2f7621,_0x910325)=>{const _0x1050f5=_0x209166['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x15*-0x198+-0xaf9+0x163a*0x2)},{'name':'envBoxMax','value':new Float32Array(0xbe6+-0x1986+0xda3)}]),_0x38c9c3=_0x209166['cubeMapPro'+'jectionBox']['getMin'](),_0x5774b9=_0x1050f5[0x454*0x1+-0x19a5+0x1551]['value'];_0x5774b9[-0x1ee*0x13+-0x1*0x23ef+-0x811*-0x9]=_0x38c9c3['x'],_0x5774b9[0x389*-0x6+-0x9b*-0x1e+0x30d]=_0x38c9c3['y'],_0x5774b9[-0x19*-0x49+-0x3*-0x51+0x1*-0x812]=_0x38c9c3['z'];const _0xcb1b41=_0x209166['cubeMapPro'+'jectionBox']['getMax'](),_0xd62b1f=_0x1050f5[0x62d*-0x2+0x5e7+-0x674*-0x1]['value'];return _0xd62b1f[-0x563+-0x171*-0x19+0x1ea6*-0x1]=_0xcb1b41['x'],_0xd62b1f[0x1*0x57+0x12ca+0x660*-0x3]=_0xcb1b41['y'],_0xd62b1f[0x23ea+0xe9a+-0x3282]=_0xcb1b41['z'],_0x1050f5;}),ke('specularTi'+'nt',!(0x101f*-0x2+-0x110c*-0x1+0xf33)),ke('specularit'+'yFactorTin'+'t',!(0x1*-0xa3b+0x9a0+-0x1*-0x9c)),ke('useMetalne'+'ss',!(-0x82c+-0x4e8*-0x1+-0x3*-0x117)),ke('useMetalne'+'ssSpecular'+'Color',!(0x1f1e+-0x1243+-0xcda)),ke('useSheen',!(0x12a3+0x1624+-0x22*0x133)),ke('enableGGXS'+'pecular',!(-0x167*-0xa+0x140*-0x10+0x5fb)),ke('occludeDir'+'ect',!(-0x1f6*0x10+0x3*0xa16+0x11f*0x1)),ke('opacityFad'+'esSpecular',!(0x8*-0x35b+-0x1fc+0xa4*0x2d)),ke('occludeSpe'+'cular',bd),ke('fresnelMod'+'el',Yp),ke('useDynamic'+'Refraction',!(0xd0c+0xe51+0xce*-0x22)),ke('cubeMapPro'+'jection',tm),ke('useFog',!(-0x1462+0x488+0xfda)),ke('useLightin'+'g',!(0xfc*-0x3+0x2*0x85d+0x2b*-0x52)),ke('useTonemap',!(0x18b*-0x7+-0x15a5*-0x1+-0xad8)),ke('useSkybox',!(0x8*0xb2+0xf61*0x2+-0x2452)),ke('forceUv1',!(0x15a*-0x10+0xf54+0x1*0x64d)),ke('pixelSnap',!(-0x6*0x4ef+0x3*0x9a7+0xa6)),ke('twoSidedLi'+'ghting',!(-0x2083+0x5*0x489+0xe5*0xb)),ke('nineSliced'+'Mode',void(0x2b9*-0x6+-0x134d+0x23a3)),ke('msdfTextAt'+'tribute',!(-0xa7*-0x1a+0xe47+-0x1f3c)),ke('useIridesc'+'ence',!(-0x1cef+0x6c1*-0x2+0x2a72)),ke('glossInver'+'t',!(-0xd59+-0xbc8+0x1922)),ke('sheenGloss'+'Invert',!(0x78a*-0x2+-0x7*0x9f+0x2*0x9b7)),ke('clearCoatG'+'lossInvert',!(-0x127f+0x562+0xd1e)),ke('opacityDit'+'her',Sa),ke('opacitySha'+'dowDither',Sa),ke('shadowCatc'+'her',!(-0x1b44+0xd76+0x1f9*0x7)),et('diffuse'),et('specular'),et('emissive'),et('thickness','g'),et('specularit'+'yFactor','g'),et('normal',''),et('metalness','g'),et('gloss','g'),et('opacity','a'),et('refraction','g'),et('height','g',!(0xa57*-0x1+-0x225f+0x2cb7)),et('ao','g'),et('light','rgb',!(-0x59*0x11+-0x22ee+0x28d7),-0x21*-0x9+0x2a5*0x5+0x4cb*-0x3),et('msdf',''),et('diffuseDet'+'ail','rgb',!(-0x1a*0x151+0x1c6e+0x63*0xf)),et('normalDeta'+'il',''),et('aoDetail','g',!(0x2ad*0xa+0x5c8+-0x2089)),et('clearCoat','g'),et('clearCoatG'+'loss','g'),et('clearCoatN'+'ormal',''),et('sheen','rgb'),et('sheenGloss','g'),et('iridescenc'+'e','g'),et('iridescenc'+'eThickness','g'),et('anisotropy',''),ke('diffuseDet'+'ailMode',p_),ke('aoDetailMo'+'de',p_),oo('cubeMap'),oo('sphereMap'),oo('envAtlas');const _0x4c69b7=function(){return this['_prefilter'+'edCubemaps'];},_0x1085a3=function(_0x4321e1){const _0xc1a077=this['_prefilter'+'edCubemaps'];_0x4321e1=_0x4321e1||[];let _0x3e1cb3=!(0x2f9*-0x9+-0x1c09+-0xa9*-0x53),_0x3c89fc=!(0x2*0x71a+-0xc*0x175+0x348);for(let _0x34f78f=-0x1*-0x84b+-0x46+0x1*-0x805;_0x34f78f<0xc0d*0x2+-0x2171+0x31f*0x3;++_0x34f78f){const _0x29f98a=_0x4321e1[_0x34f78f]||null;_0xc1a077[_0x34f78f]!==_0x29f98a&&(_0xc1a077[_0x34f78f]=_0x29f98a,_0x3e1cb3=!(0x6b*0x24+0x1e7d+-0x2d89)),_0x3c89fc=_0x3c89fc&&!!_0xc1a077[_0x34f78f];}_0x3e1cb3&&(_0x3c89fc?this['envAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0xc1a077,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0x4c6+-0x22*0xa+-0x372));},_0x21ba24=[null,null,null,null,null,null];um('prefiltere'+'dCubemaps',()=>_0x21ba24['slice'](),_0x1085a3,_0x4c69b7);}vb();const Rt=class Rt{static['render'](_0x508847,_0x484297){const _0x2bf3d1=_0x484297['device'],_0x543f85=_0x508847['cells'],_0x15de23=_0x508847['lightsBuff'+'er'],_0x4d2bf1=_0x15de23['boundsMin'],_0x44a241=_0x15de23['boundsDelt'+'a'],_0x2ed2cf=_0x4d2bf1['clone']()['add'](_0x44a241),_0x4ecfa3=_0x15de23['boundsDelt'+'a']['clone']()['div'](_0x543f85),_0x521be0=Rt['gridPositi'+'ons'],_0x296d5f=Rt['gridColors'],_0x845f0d=new ie(-0x1f37+-0x1915+0x384c+0.3,0x200d+-0x25*-0x1b+-0x23f4+0.3,0x17ca+-0xc*0x22+-0x1632+0.3),_0x46b34b=(_0x4c2db0,_0x43c0b6,_0x3a21d3,_0x4526dd,_0x3d6edd,_0x4e2759,_0x53e5d1,_0x5e83de,_0x3508f1)=>{for(let _0x524804=0x2*-0xaf9+0x143b*0x1+0x1b7;_0x524804<=_0x4c2db0;_0x524804++)for(let _0xbc1b1a=-0x38f+-0x266f+0x29fe;_0xbc1b1a<=_0x43c0b6;_0xbc1b1a++){const _0x1663e5=_0x3a21d3+_0x524804*_0x4526dd,_0x19fbaa=_0x3d6edd+_0xbc1b1a*_0x4e2759;_0x3508f1===0x2333+-0x1*0x149f+-0xe94?_0x521be0['push'](_0x1663e5,_0x53e5d1,_0x19fbaa,_0x1663e5,_0x5e83de,_0x19fbaa):_0x3508f1===-0x181+-0x29*0xb7+0x1ed1?_0x521be0['push'](_0x1663e5,_0x19fbaa,_0x53e5d1,_0x1663e5,_0x19fbaa,_0x5e83de):_0x3508f1===-0x6e7+0x22*-0x65+-0x1d9*-0xb&&_0x521be0['push'](_0x53e5d1,_0x1663e5,_0x19fbaa,_0x5e83de,_0x1663e5,_0x19fbaa);}};if(_0x46b34b(_0x543f85['x'],_0x543f85['z'],_0x4d2bf1['x'],_0x4ecfa3['x'],_0x4d2bf1['z'],_0x4ecfa3['z'],_0x4d2bf1['y'],_0x2ed2cf['y'],0x1e9*-0x13+0x892+0x1bb9),_0x46b34b(_0x543f85['x'],_0x543f85['y'],_0x4d2bf1['x'],_0x4ecfa3['x'],_0x4d2bf1['y'],_0x4ecfa3['y'],_0x4d2bf1['z'],_0x2ed2cf['z'],0x36f+0x1*-0xae+0xb*-0x40),_0x46b34b(_0x543f85['y'],_0x543f85['z'],_0x4d2bf1['y'],_0x4ecfa3['y'],_0x4d2bf1['z'],_0x4ecfa3['z'],_0x4d2bf1['x'],_0x2ed2cf['x'],0x113b+-0x16e1*-0x1+0x57*-0x76),_0x521be0['length']){const _0x2563ff=_0x521be0['length']/(0xb34+0x17*-0x3d+-0x5b6);if(_0x2563ff!==_0x296d5f['length']/(-0x27d+-0x1f62+0x21e3)){_0x296d5f['length']=-0x1*-0x21cd+0xef3*-0x1+-0x12da;for(let _0x156614=0x14d5+0x220c+-0x36e1;_0x156614<_0x2563ff;_0x156614++)_0x296d5f['push'](_0x845f0d['r'],_0x845f0d['g'],_0x845f0d['b'],_0x845f0d['a']);}_0x484297['drawLineAr'+'rays'](_0x521be0,_0x296d5f),_0x521be0['length']=-0x5b+0x1663+-0x1608;}let _0x18f71f=Rt['mesh'];_0x18f71f||(_0x18f71f=new Ge(_0x2bf3d1),_0x18f71f['clear'](!(0x4*0x44f+0x112a*0x1+-0x206*0x11),!(0x17f3*-0x1+-0x20d7+0x38ca)),Rt['mesh']=_0x18f71f);const _0x2e3722=[],_0x47cd3f=[],_0x406733=[],_0x402a90=_0x508847['_cells']['x'],_0x254a4a=_0x508847['_cells']['z'],_0x41b223=_0x508847['counts'],_0x2fcd42=_0x508847['_maxCellLi'+'ghtCount'],_0xf99a91=new D(),_0x18c6ee=new D(),_0x225643=new D(),_0x183377=_0x44a241['clone']()['div'](_0x543f85);let _0x7b4d66=0x60a+0x4*-0x407+0xa12;for(let _0x174f2c=-0x1f31+0x7c+-0x1eb5*-0x1;_0x174f2c<_0x543f85['x'];_0x174f2c++)for(let _0x3e6c2f=0x21b*-0xc+0xfae+-0x4cb*-0x2;_0x3e6c2f<_0x543f85['z'];_0x3e6c2f++)for(let _0x479421=0x1205+-0x255a+0x1355;_0x479421<_0x543f85['y'];_0x479421++){const _0x799b94=_0x174f2c+_0x402a90*(_0x3e6c2f+_0x479421*_0x254a4a),_0x530384=_0x41b223[_0x799b94];if(_0x530384>0x13f0+0x3a*0x5d+-0x2902){_0xf99a91['x']=_0x4d2bf1['x']+_0x183377['x']*_0x174f2c,_0xf99a91['y']=_0x4d2bf1['y']+_0x183377['y']*_0x479421,_0xf99a91['z']=_0x4d2bf1['z']+_0x183377['z']*_0x3e6c2f,_0x18c6ee['add2'](_0xf99a91,_0x183377),_0x2e3722['push'](_0xf99a91['x'],_0xf99a91['y'],_0x18c6ee['z']),_0x2e3722['push'](_0x18c6ee['x'],_0xf99a91['y'],_0x18c6ee['z']),_0x2e3722['push'](_0x18c6ee['x'],_0x18c6ee['y'],_0x18c6ee['z']),_0x2e3722['push'](_0xf99a91['x'],_0x18c6ee['y'],_0x18c6ee['z']),_0x2e3722['push'](_0x18c6ee['x'],_0xf99a91['y'],_0xf99a91['z']),_0x2e3722['push'](_0xf99a91['x'],_0xf99a91['y'],_0xf99a91['z']),_0x2e3722['push'](_0xf99a91['x'],_0x18c6ee['y'],_0xf99a91['z']),_0x2e3722['push'](_0x18c6ee['x'],_0x18c6ee['y'],_0xf99a91['z']),_0x225643['lerp'](Rt['colorLow'],Rt['colorHigh'],_0x530384/_0x2fcd42)['round']();for(let _0x555fed=0x1*0x103f+-0xc5d+-0x3e2;_0x555fed<-0x1*0x179f+-0x1b80+0x3327;_0x555fed++)_0x47cd3f['push'](_0x225643['x'],_0x225643['y'],_0x225643['z'],-0x1*0x2023+-0x1*-0x36e+0x1cb6);_0x406733['push'](_0x7b4d66*(-0x2*0xb41+-0xd7*0x25+0x359d)+(0x1455+-0x2*-0x587+-0x1f63),_0x7b4d66*(-0x4df+0x65*-0x2f+-0xbb9*-0x2)+(-0xd2b+-0x1f2b+0x2c57*0x1),_0x7b4d66*(0x2f9*0xc+-0x3c2*-0x6+-0x3a30)+(-0x862+-0x1db3*0x1+0x2618)),_0x406733['push'](_0x7b4d66*(0x446+-0x9fa+0x5bc)+(0x1*-0x206b+-0x181e+0x388c),_0x7b4d66*(-0x9c9+0x5d9*-0x1+0x322*0x5)+(0x124e+0x9e*0xb+-0x1917*0x1),_0x7b4d66*(-0x1*0x1999+-0x4*-0xe5+0x160d)+(0x2533+-0x4e7+-0x1025*0x2)),_0x406733['push'](_0x7b4d66*(0x1ad*0x1+-0x666+0x4c1)+(0x48*0x86+0x1f6e*0x1+0x122*-0x3d),_0x7b4d66*(0x4a7*0x3+-0x1*0xb5+0x1a7*-0x8)+(-0xf16+0x6f*-0x37+0x26f4),_0x7b4d66*(-0x916+0xddc+-0x4be)+(-0x17af+-0x2705+0x12f*0x35)),_0x406733['push'](_0x7b4d66*(-0x1*-0x19ed+0x13f6+-0x2ddb)+(-0xea7+-0x46d*-0x8+-0x17b*0xe),_0x7b4d66*(0x1cf2+0x1*-0x19+-0x1cd1)+(-0x1191+-0x1120+-0x1*-0x22b6),_0x7b4d66*(-0x15bf+-0x2467*0x1+0x3a2e)+(0x35c+0x2667+0x5*-0x859)),_0x406733['push'](_0x7b4d66*(0xf1d+-0xb96+-0xb3*0x5)+(-0x969+0xc+-0x64*-0x18),_0x7b4d66*(-0x1a*0x117+0x2*-0x123e+-0xacf*-0x6)+(-0xde+-0x67*0x21+0xe27),_0x7b4d66*(0x1b8e+-0xf2+-0x7*0x3cc)+(0x25f8+0x40*0x6a+-0x4072)),_0x406733['push'](_0x7b4d66*(0xda8+0x1*-0x347+-0x3*0x373)+(-0x169f+-0x68e+-0x1f*-0xf1),_0x7b4d66*(0x3*-0x20b+0x8f9+-0x2d0)+(-0xaf0+-0x1*-0x24e2+-0x19eb),_0x7b4d66*(-0x1d95+-0x1963+0x3700)+(-0xac1+0x7b9+0x30e)),_0x406733['push'](_0x7b4d66*(0xfca+-0x201b*0x1+0x1059)+(0x26b5*0x1+0x115*-0x5+-0x214b*0x1),_0x7b4d66*(-0x1a19+-0x6*-0x1df+0xee7)+(-0x31*0x96+-0x2c6*0xc+0x3dfe),_0x7b4d66*(0x2f*-0xc5+0x1ebb+0x578)+(-0x20*-0x79+0x100d+-0x1f29)),_0x406733['push'](_0x7b4d66*(0xfa4+-0x15*-0x15d+0x1c5*-0x19)+(-0x15a7+-0x335*0x2+0x1c11),_0x7b4d66*(0x1192+-0x6c0+0x565*-0x2)+(0x14b6+0x200f+0x34c0*-0x1),_0x7b4d66*(-0x23c8+0x11f2+0x11de)+(-0x170f+0xc60+0xab3)),_0x406733['push'](_0x7b4d66*(-0x1160*0x1+0xd*-0xf7+0x1df3)+(-0x377*0x5+-0x915*-0x4+-0x1300),_0x7b4d66*(-0x125f*-0x1+-0x1*-0x1096+-0x22ed)+(0x833+0x69c*-0x4+-0x1*-0x1241),_0x7b4d66*(-0x252d+0x1*-0xbdd+0x3112)+(-0xbe0+-0x17a3*-0x1+-0x33*0x3b)),_0x406733['push'](_0x7b4d66*(-0x1289+-0x2ea+0x157b*0x1)+(-0x241c+0x9c*0xa+0x8*0x3c1),_0x7b4d66*(-0x2*0x175+-0x3ad+0x69f)+(0xdc9+0x156*-0x3+0xd*-0xc0),_0x7b4d66*(-0x1f7c+0x6b0+0x18d4)+(0x57*-0x33+0x140+-0x3*-0x55d)),_0x406733['push'](_0x7b4d66*(0x1*0x16a9+-0x38*-0x34+-0x2201)+(0x1695+0x2573+-0x3c03),_0x7b4d66*(0x1d3*0x1+0x745*-0x1+0x57a)+(0xd*-0x1e4+0x9c2+0xed2),_0x7b4d66*(-0x1*-0x10a3+-0x29*-0xdf+-0x3452)+(-0x1369+-0x11fe+0x43*0x8f)),_0x406733['push'](_0x7b4d66*(-0xfc8+0x1367+-0x397)+(0x1ac0+-0x310+-0x8*0x2f6),_0x7b4d66*(-0xd*0x1d2+-0x1*-0x1322+-0x92*-0x8)+(-0x5e*0x47+0x8*0x14e+0xfa5),_0x7b4d66*(0x1009+-0x6c4+-0x93d)+(0x1d3c*0x1+-0x2534+0x7fe)),_0x7b4d66++;}}if(_0x7b4d66){if(_0x18f71f['setPositio'+'ns'](_0x2e3722),_0x18f71f['setNormals'](new Float32Array(_0x2e3722['length'])),_0x18f71f['setColors3'+'2'](_0x47cd3f),_0x18f71f['setIndices'](_0x406733),_0x18f71f['update'](js,!(0x679+-0xce5*0x2+0x1*0x1352)),!Rt['meshInstan'+'ce']){const _0x4aa5a3=new Ut();_0x4aa5a3['useLightin'+'g']=!(0x1d*0xa5+0x3*-0x643+0x19),_0x4aa5a3['emissive']=new ie(-0x8*-0x3a1+0x5cf*-0x1+-0x2*0xb9c,0x7*0x6e+-0xd90+0xa8f,-0x1*-0x243a+-0x91d+-0x56c*0x5),_0x4aa5a3['emissiveVe'+'rtexColor']=!(-0x38*-0x4e+0x1063*-0x1+0xad*-0x1),_0x4aa5a3['blendType']=Ed,_0x4aa5a3['depthWrite']=!(-0x3*-0x6a3+0x1*0x1ded+0x31d5*-0x1),_0x4aa5a3['update']();const _0x5cf2fb=new Ie('WorldClust'+'ersDebug');_0x5cf2fb['worldTrans'+'form']=te['IDENTITY'],_0x5cf2fb['_dirtyWorl'+'d']=_0x5cf2fb['_dirtyNorm'+'al']=!(0x4*0x341+0x1d4*0x11+0x1*-0x2c17),Rt['meshInstan'+'ce']=new He(_0x18f71f,_0x4aa5a3,_0x5cf2fb),Rt['meshInstan'+'ce']['cull']=!(0x1*-0xd7f+-0x116f*0x2+-0x52*-0x97);}const _0x3c3285=Rt['meshInstan'+'ce'];_0x484297['immediate']['drawMesh'](_0x3c3285['material'],_0x3c3285['node']['worldTrans'+'form'],null,_0x3c3285,_0x484297['defaultDra'+'wLayer']);}}};h(Rt,'gridPositi'+'ons',[]),h(Rt,'gridColors',[]),h(Rt,'mesh',null),h(Rt,'meshInstan'+'ce',null),h(Rt,'colorLow',new D(-0x1887+-0xd44+0x25cc,0xc*-0xf2+-0x267e+0x31d7,0x23b2+-0x1a60+-0x951)),h(Rt,'colorHigh',new D(-0x96*-0xe+-0x125*0xa+0x91*0x6,-0x8*-0x34+-0x382+-0x2*-0xf1,0x1052+0x4bd*-0x5+-0x3*-0x275));let hu=Rt;const xb='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let Vi=null;const Av=()=>{if(!Vi){const _0xe09413=atob(xb);Vi=Uint8Array['from'](_0xe09413,_0x173fcf=>_0x173fcf['charCodeAt'](0x1*0x20ef+-0x111f*0x2+0x14f*0x1));}},Tb=()=>(Av(),Vi);class wb{constructor(_0x7f614=-0x1c0d+0x133+0x1ada){h(this,'seed',-0x60f+0x24ef+-0x1ee0),(this['seed']=_0x7f614*(0x3*0x61f+0x20b2+-0xb3*0x49),Av());}['_next'](){this['seed']=(this['seed']+(0xebf+-0x274+-0xc47))%Vi['length'];}['value'](){return this['_next'](),Vi[this['seed']]/(-0x2*0x11a3+-0x18d4+0x3d19);}['vec4'](_0x39fa15=new re()){return this['_next'](),_0x39fa15['set'](Vi[this['seed']],Vi[this['seed']+(-0x12da+0x3*0xabd+-0xd5c)],Vi[this['seed']+(-0xa50+0x22ce+-0x187c)],Vi[this['seed']+(-0x1*0x1af5+-0xdfa+0x28f2)])['mulScalar']((-0x1a7*-0xb+-0x49*-0x7f+-0x3663)/(0x4b3*0x3+-0x1f*-0xd3+0x1*-0x26a7));}}const Eb=[new D(-(-0x1aca+-0x1eec+-0x133d*-0x3),0x2*-0x3c5+-0x8f*0x19+0x1581,-0x1fd4+0x96b+0x1669),new D(0x1f5*-0xe+0x1*-0xf4+0x1c5b,0x155a+-0xe*0x101+0x1d3*-0x4,-0x360+0x15c1*0x1+-0x1261),new D(0x82f*0x2+-0x23*-0x109+-0x3499,-(-0x1a*-0x1f+-0x6*-0x4db+-0x2047*0x1),-0x25*0xe0+-0x175*-0x13+0x4b1),new D(-0x1be9+0x13eb+-0x5d*-0x16,-0x1889+-0x1d43+-0x3*-0x11ef,-0x13*-0x133+0x813+-0x1edc),new D(-0x203+-0x1b6*-0xc+-0x1af*0xb,-0x4e5+-0x21b3+0x2698,-(-0x1063+-0x8da*0x4+0x66*0x82)),new D(-0xdff*0x2+0xbb4+-0xf*-0x116,0x883+-0x2549+-0xe63*-0x2,0x6b*-0x42+-0x1158+0x1*0x2cef)];class bb{constructor(){h(this,'colors',new Float32Array(0x118d+0x248c+-0x3607*0x1));}['update'](_0x514b28,_0x38be4f){const _0x557421=this['colors'],{r:_0x49f525,g:_0x567f9e,b:_0x438462}=_0x514b28;for(let _0x3303d9=0x19b1+0x9dd*0x1+0x29*-0xde;_0x3303d9<-0x3f2+-0x1*0x1f66+0x6*0x5e5;_0x3303d9++)_0x557421[_0x3303d9*(0x25f7*0x1+-0x3*-0x18c+-0xbc*0x3a)]=_0x49f525,_0x557421[_0x3303d9*(0xb17+0x2cb*0x3+-0x1375)+(-0xd*0x2cf+-0x6*-0x345+0x10e6)]=_0x567f9e,_0x557421[_0x3303d9*(0x16fc+0x9fe*-0x1+-0xcfb)+(-0x3e1*-0x8+0x2*0xe98+-0x3c36)]=_0x438462;for(let _0x17a8e5=-0x254d+-0x777+-0x1662*-0x2;_0x17a8e5<_0x38be4f['length'];_0x17a8e5++){const _0x313e99=_0x38be4f[_0x17a8e5];if(_0x313e99['_type']===ve)for(let _0x355fea=-0x2b*0xae+0x1980+-0x3ba*-0x1;_0x355fea<0x737*-0x3+0x235b+-0xdb0;_0x355fea++){const _0x1adfe6=Math['max'](Eb[_0x355fea]['dot'](_0x313e99['_direction']),-0x4bd*-0x1+-0xa11*0x1+-0x2aa*-0x2)*_0x313e99['_intensity'],_0xd12da7=_0x313e99['_color'];_0x557421[_0x355fea*(0x254b*0x1+0x183+-0x26cb)]+=_0xd12da7['r']*_0x1adfe6,_0x557421[_0x355fea*(-0x1*0x23fb+0x1991+-0x1*-0xa6d)+(0x20b2+-0x1f*-0x6a+-0x2d87)]+=_0xd12da7['g']*_0x1adfe6,_0x557421[_0x355fea*(0x1712+-0x380+-0x138f)+(-0x1*0x222a+-0x941+-0x2b6d*-0x1)]+=_0xd12da7['b']*_0x1adfe6;}}}}const Ab=(_0x18f7d9,_0x5107c1,_0x6dc5e6,_0x324419)=>{const _0x536214=new _e(_0x18f7d9,{'name':''+_0x5107c1+_0x6dc5e6,'width':_0x6dc5e6,'height':_0x6dc5e6,'format':Ne,'addressU':yt,'addressV':yt,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(-0xc8a+-0x1295*0x2+-0x1fd*-0x19)});return _0x536214['lock']()['set'](_0x324419),_0x536214['unlock'](),_0x536214;},Cb=new Kt(),Pb=_0x2de0a1=>Cb['get'](_0x2de0a1,()=>{const _0xd0e641=Tb(),_0x58505a=Math['sqrt'](_0xd0e641['length']/(0x1*-0x1ecb+-0x9*-0x31d+0x3*0xee));return Ab(_0x2de0a1,'BlueNoise',_0x58505a,_0xd0e641);});class va{constructor(_0x3367e1,_0x26f10c){this['texture']=_0x3367e1,this['cached']=!(-0x2071*-0x1+-0xed2*-0x1+-0x2f42),this['renderTarg'+'ets']=_0x26f10c;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x11688f=this['renderTarg'+'ets'];for(let _0x9f1bd3=-0x2*0xbba+0x1918+-0x15*0x14;_0x9f1bd3<_0x11688f['length'];_0x9f1bd3++)_0x11688f[_0x9f1bd3]['destroy']();this['renderTarg'+'ets']['length']=0x65*0x13+0x17f*0xc+-0x1973;}static['create'](_0x5ebf2c,_0x2bed02){let _0x52bcdf=null;return _0x2bed02['_type']===Ke?_0x52bcdf=this['createCube'+'map'](_0x5ebf2c,_0x2bed02['_shadowRes'+'olution'],_0x2bed02['_shadowTyp'+'e']):_0x52bcdf=this['create2dMa'+'p'](_0x5ebf2c,_0x2bed02['_shadowRes'+'olution'],_0x2bed02['_shadowTyp'+'e']),_0x52bcdf;}static['createAtla'+'s'](_0x5c7c5a,_0x5ce055,_0x279b77){const _0x1428b0=this['create2dMa'+'p'](_0x5c7c5a,_0x5ce055,_0x279b77),_0x416116=_0x1428b0['renderTarg'+'ets'],_0x54a27c=_0x416116[-0xd*-0x240+-0x1a17+-0x329];for(let _0x4d279c=0x1bb*-0x2+-0x3*0x9b+0x7*0xc1;_0x4d279c<-0x8*-0x377+-0x1fd3*0x1+0x42*0x10;_0x4d279c++)_0x416116['push'](_0x54a27c);return _0x1428b0;}static['create2dMa'+'p'](_0x55391d,_0x2331cd,_0x518119){var _0x16fdb7;const _0x23f777=qi['get'](_0x518119);w['assert'](_0x23f777);let _0x53a038=_0x23f777['format'];_0x53a038===Ji&&!_0x55391d['textureFlo'+'atRenderab'+'le']&&_0x55391d['textureHal'+'fFloatRend'+'erable']&&(_0x53a038=od);const _0x385a92=(_0x16fdb7=Nt['get'](_0x53a038))==null?void(-0x1797+0x25d3*0x1+-0xe3c):_0x16fdb7['name'];let _0x10de0d=vt;_0x518119===Jp&&(_0x10de0d=_0x55391d['extTexture'+'FloatLinea'+'r']?vt:Te),_0x518119===al&&(_0x10de0d=Te);const _0x2e7e77=new _e(_0x55391d,{'profilerHint':eu,'format':_0x53a038,'width':_0x2331cd,'height':_0x2331cd,'mipmaps':!(-0x12b*-0x1f+-0x2531+0x1*0xfd),'minFilter':_0x10de0d,'magFilter':_0x10de0d,'addressU':ue,'addressV':ue,'name':'ShadowMap2'+'D_'+_0x385a92});let _0x51215d=null;return _0x23f777!=null&&_0x23f777['pcf']?(_0x2e7e77['compareOnR'+'ead']=!(-0x7c*0xa+0x1*-0x1c21+0x20f9),_0x2e7e77['compareFun'+'c']=hh,_0x51215d=new gt({'depthBuffer':_0x2e7e77})):_0x51215d=new gt({'colorBuffer':_0x2e7e77,'depth':!(-0x13e2+0x7*-0x85+0x1*0x1785)}),_0x55391d['isWebGPU']&&(_0x51215d['flipY']=!(-0x15*0xcb+0x13df*0x1+0x1*-0x338)),new va(_0x2e7e77,[_0x51215d]);}static['createCube'+'map'](_0x342fd7,_0x706c2e,_0x4a2fd5){var _0x17ada7;const _0x21dfba=qi['get'](_0x4a2fd5);w['assert'](_0x21dfba);const _0x2f9ea9=(_0x17ada7=Nt['get'](_0x21dfba['format']))==null?void(-0x2509+0x22a3+-0x2*-0x133):_0x17ada7['name'],_0x76009d=_0x4a2fd5===al,_0x46c2c9=_0x76009d?Te:vt,_0x571c77=new _e(_0x342fd7,{'profilerHint':eu,'format':_0x21dfba==null?void(-0x3f4+-0xe2f+0x1223*0x1):_0x21dfba['format'],'width':_0x706c2e,'height':_0x706c2e,'cubemap':!(0x394*0x7+-0x1b79*0x1+0x26d),'mipmaps':!(-0xe*-0x1f5+-0x4*-0x403+0x151*-0x21),'minFilter':_0x46c2c9,'magFilter':_0x46c2c9,'addressU':ue,'addressV':ue,'name':'ShadowMapC'+'ube_'+_0x2f9ea9});_0x76009d||(_0x571c77['compareOnR'+'ead']=!(0x230c+0xa06+-0x2d12),_0x571c77['compareFun'+'c']=hh);const _0x2dc605=[];for(let _0x39433b=0xbc8+0x1597+-0x215f*0x1;_0x39433b<-0xd*0x147+0xee0+0x1*0x1c1;_0x39433b++)_0x76009d?_0x2dc605['push'](new gt({'colorBuffer':_0x571c77,'face':_0x39433b,'depth':!(0x73c*0x3+0x23b+-0x17ef)})):_0x2dc605['push'](new gt({'depthBuffer':_0x571c77,'face':_0x39433b}));return new va(_0x571c77,_0x2dc605);}}const Mb=[],Db=[],xi=new re(),ef=new re();class tf{constructor(_0x1ccfdd){this['size']=Math['floor'](_0x1ccfdd['w']*(0x10a+0xa*-0x2dd+0x1f98)),this['used']=!(0x707*-0x3+-0xdec+0x2302),this['lightId']=-(-0x1e4+-0x1d86+-0xa79*-0x3),this['rect']=_0x1ccfdd;}}class Ib{constructor(_0x1f0e5a){this['device']=_0x1f0e5a,this['version']=0x1*-0x359+-0x1cd6*0x1+-0x14*-0x19c,this['shadowAtla'+'sResolutio'+'n']=-0x24a3+0x1c25+0x107e,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=-0x7*-0x4ed+-0x1*-0x13f1+-0x3669,this['cookieAtla'+'sResolutio'+'n']=0x15cb+0x94*0x16+0x227f*-0x1,this['cookieAtla'+'s']=new _e(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':_s,'cubemap':!(-0x1*0x3c1+0x20d+0x13*0x17),'mipmaps':!(-0xee6+-0x24*-0xb3+-0xa45),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue}),this['cookieRend'+'erTarget']=new gt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(0x710+-0x995+0x286),'flipY':!(0x7*-0x25f+-0x2*0x80a+0x20ad)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new J(0x1bc6+0x6*0x63c+-0x412e,-0x1fd8+0x1647*-0x1+0x361f*0x1),new J(0x8b2+-0x1b8c*0x1+0x2*0x96d,-0x4f6+0x1*0x14a1+-0xfaa),new J(-0x2107+-0x1aa*0x11+0x2f*0x14e,0x3*-0x745+0x46a+-0x1*-0x1165),new J(0x928+0x1169+0x2a8*-0xa,0x50*-0x42+0x8*-0x169+0x1*0x1fe9),new J(-0x1c4d+0xc+0x1c43,0x1334+-0x26cb+0x11*0x127),new J(-0x194*0x4+0x102e+0x277*-0x4,0x471+-0xf1*0x7+0x227)],this['scissorVec']=new re(),this['allocateSh'+'adowAtlas'](0x910+0x23a6+-0x2cb5),this['allocateCo'+'okieAtlas'](0x2*-0xa3+-0x2*0x47d+-0x3*-0x36b),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x39a26f;(_0x39a26f=this['shadowAtla'+'s'])==null||_0x39a26f['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x2f8502,_0xc9ab3f;(_0x2f8502=this['cookieAtla'+'s'])==null||_0x2f8502['destroy'](),this['cookieAtla'+'s']=null,(_0xc9ab3f=this['cookieRend'+'erTarget'])==null||_0xc9ab3f['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x4b861e,_0x143e4e=$s){var _0x4b41c7;const _0x2d4b70=(_0x4b41c7=this['shadowAtla'+'s'])==null?void(-0x191b*0x1+-0xff3+0x290e):_0x4b41c7['texture']['format'],_0x57e1ac=qi['get'](_0x143e4e)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x4b861e||_0x2d4b70!==_0x57e1ac){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=va['createAtla'+'s'](this['device'],_0x4b861e,_0x143e4e),this['shadowAtla'+'s']['cached']=!(-0x49*-0x2+0x132b+0x1f*-0xa3);const _0x48c766=(-0x3bb*0x3+-0x16dc+0x2211)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x48c766,_0x48c766,-(-0x3*0x92+-0x5a3+-0x75b*-0x1)*_0x48c766,-(-0x322*-0x5+0x2*0x178+-0x14*0xee)*_0x48c766);}}['allocateCo'+'okieAtlas'](_0x16ba49){this['cookieAtla'+'s']['width']!==_0x16ba49&&(this['cookieRend'+'erTarget']['resize'](_0x16ba49,_0x16ba49),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(0x7ea+0xf*-0x29+-0x1*0x581),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x4d8858=this['shadowAtla'+'s']['renderTarg'+'ets'][-0x1754+0x5*-0x4a9+-0x207*-0x17]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x4d8858),this['_shadowAtl'+'asParams'][0x1791+0x25eb+-0x3d7c]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][-0xa21*-0x1+0x616+0x5*-0x33e]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x309e88,_0x356a81){let _0x459fff=_0x356a81['atlasSplit'];if(!_0x459fff){const _0x133eaa=Math['ceil'](Math['sqrt'](_0x309e88));_0x459fff=Db,_0x459fff[0x17cb+-0x7d8+0x1*-0xff3]=_0x133eaa,_0x459fff['length']=0xa1c+-0x6d*0x26+0x613;}if(!((_0x51cdba,_0x273bda)=>_0x51cdba['length']===_0x273bda['length']&&_0x51cdba['every']((_0x1c2713,_0x378e86)=>_0x1c2713===_0x273bda[_0x378e86]))(_0x459fff,this['atlasSplit'])){this['version']++,this['slots']['length']=-0x9b1*0x1+0x1*0xfd1+-0x620,this['atlasSplit']['length']=-0x185*-0x5+-0x12cd+-0xb34*-0x1,this['atlasSplit']['push'](..._0x459fff);const _0xeda9f1=this['atlasSplit'][0x21d*-0x4+-0x1158+-0x673*-0x4];if(_0xeda9f1>-0x17*0x48+0x3a1+-0x8*-0x5b){const _0x398b63=(0x1330+0x923+0x1d*-0xfa)/_0xeda9f1;for(let _0x2632d0=0x2432+0x1b08+-0x2*0x1f9d;_0x2632d0<_0xeda9f1;_0x2632d0++)for(let _0x46d09c=-0x1*-0x1d4d+-0x1f6b*-0x1+-0x3cb8;_0x46d09c<_0xeda9f1;_0x46d09c++){const _0x74fb5f=new re(_0x2632d0*_0x398b63,_0x46d09c*_0x398b63,_0x398b63,_0x398b63),_0xae48cc=this['atlasSplit'][-0x25f8+-0x2308+0x4901+_0x2632d0*_0xeda9f1+_0x46d09c];if(_0xae48cc>-0x1*-0x231d+-0x1df5+0x1*-0x527){for(let _0x4bc155=0x14d0+-0x180b+-0x33b*-0x1;_0x4bc155<_0xae48cc;_0x4bc155++)for(let _0x301c8f=0x2b2+-0x24f1+0x31d*0xb;_0x301c8f<_0xae48cc;_0x301c8f++){const _0x5da162=_0x398b63/_0xae48cc,_0xc5278f=new re(_0x74fb5f['x']+_0x4bc155*_0x5da162,_0x74fb5f['y']+_0x301c8f*_0x5da162,_0x5da162,_0x5da162);this['slots']['push'](new tf(_0xc5278f));}}else this['slots']['push'](new tf(_0x74fb5f));}}else this['slots']['push'](new tf(new re(0xacc+0x3*-0x455+0x233,-0x1500+0x88d+-0x1*-0xc73,0x2526+0x26f6+-0x4c1b,-0x676+0x1d*-0x12b+0x6b9*0x6)));this['slots']['sort']((_0x1cd978,_0xcb1441)=>_0xcb1441['size']-_0x1cd978['size']);}}['collectLig'+'hts'](_0x3c54fc,_0x47f149){const _0x3bdbeb=_0x47f149['cookiesEna'+'bled'],_0x86108c=_0x47f149['shadowsEna'+'bled'];let _0x329175=!(-0x12e*-0x5+0x2*-0x701+0x81d),_0x462719=!(0x583*0x1+0x133d+-0x18bf);const _0x3400b8=Mb;return _0x3400b8['length']=-0x3*0xcfc+-0x9e2+-0x5e*-0x85,(_0x3bdbeb||_0x86108c)&&(_0x5d59eb=>{for(let _0x74603d=-0xed*0x24+-0x13*0xb0+0x2e64;_0x74603d<_0x5d59eb['length'];_0x74603d++){const _0x244fc4=_0x5d59eb[_0x74603d];if(_0x244fc4['visibleThi'+'sFrame']){const _0x3997d8=_0x86108c&&_0x244fc4['castShadow'+'s'],_0x1b914d=_0x3bdbeb&&!!_0x244fc4['cookie'];_0x329175||(_0x329175=_0x3997d8),_0x462719||(_0x462719=_0x1b914d),(_0x3997d8||_0x1b914d)&&_0x3400b8['push'](_0x244fc4);}}})(_0x3c54fc),_0x3400b8['sort']((_0x5a3f42,_0x98775e)=>_0x98775e['maxScreenS'+'ize']-_0x5a3f42['maxScreenS'+'ize']),_0x329175&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x47f149['shadowType']),_0x462719&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x329175||_0x462719)&&this['subdivide'](_0x3400b8['length'],_0x47f149),_0x3400b8;}['setupSlot'](_0x111e6d,_0x1aa8a4){_0x111e6d['atlasViewp'+'ort']['copy'](_0x1aa8a4);const _0x42d891=_0x111e6d['numShadowF'+'aces'];for(let _0x2ec67b=0xf05*-0x1+0x1*0xc69+0xa7*0x4;_0x2ec67b<_0x42d891;_0x2ec67b++)if(_0x111e6d['castShadow'+'s']||_0x111e6d['_cookie']){if(xi['copy'](_0x1aa8a4),ef['copy'](_0x1aa8a4),_0x111e6d['_type']===Ze&&xi['add'](this['scissorVec']),_0x111e6d['_type']===Ke){const _0x749edf=xi['z']/(0x1*0x1b47+-0x1*0x23b3+0x11*0x7f),_0x3e6727=this['cubeSlotsO'+'ffsets'][_0x2ec67b];xi['x']+=_0x749edf*_0x3e6727['x'],xi['y']+=_0x749edf*_0x3e6727['y'],xi['z']=_0x749edf,xi['w']=_0x749edf,ef['copy'](xi);}if(_0x111e6d['castShadow'+'s']){const _0x3cb6d3=_0x111e6d['getRenderD'+'ata'](null,_0x2ec67b);_0x3cb6d3['shadowView'+'port']['copy'](xi),_0x3cb6d3['shadowScis'+'sor']['copy'](ef);}}}['assignSlot'](_0x1ded94,_0xbc8b90,_0x515c27){_0x1ded94['atlasViewp'+'ortAllocat'+'ed']=!(-0xb47*0x1+0x647*0x1+-0x80*-0xa);const _0x4a67bb=this['slots'][_0xbc8b90];_0x4a67bb['lightId']=_0x1ded94['id'],_0x4a67bb['used']=!(0xc*0x245+0x89*-0x42+0x816),_0x515c27&&(_0x1ded94['atlasSlotU'+'pdated']=!(0x233*-0xb+-0x43*-0x1d+-0x109a*-0x1),_0x1ded94['atlasVersi'+'on']=this['version'],_0x1ded94['atlasSlotI'+'ndex']=_0xbc8b90);}['update'](_0x72a351,_0x9f113e){this['shadowAtla'+'sResolutio'+'n']=_0x9f113e['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x9f113e['cookieAtla'+'sResolutio'+'n'];const _0x49511=this['collectLig'+'hts'](_0x72a351,_0x9f113e);if(_0x49511['length']>-0x1*0x1317+0xb13+0x804){const _0x1805b2=this['slots'];for(let _0x42cfa7=0x1*-0xcc8+0x1*-0xe76+-0xb*-0x27a;_0x42cfa7<_0x1805b2['length'];_0x42cfa7++)_0x1805b2[_0x42cfa7]['used']=!(0x1b15+-0x9aa+-0x116a);const _0x2b9755=Math['min'](_0x49511['length'],_0x1805b2['length']);for(let _0x498415=-0xeaa*-0x2+0x47*-0x14+-0x17c8;_0x498415<_0x2b9755;_0x498415++){const _0x102b2d=_0x49511[_0x498415];_0x102b2d['castShadow'+'s']&&(_0x102b2d['_shadowMap']=this['shadowAtla'+'s']);const _0x3dc7df=_0x1805b2[_0x102b2d['atlasSlotI'+'ndex']];if(_0x102b2d['atlasVersi'+'on']===this['version']&&_0x102b2d['id']===(_0x3dc7df==null?void(-0x3c8+-0x21ac+-0x66*-0x5e):_0x3dc7df['lightId'])){const _0x2838c0=_0x1805b2[_0x102b2d['atlasSlotI'+'ndex']];_0x2838c0['size']===_0x1805b2[_0x498415]['size']&&!_0x2838c0['used']&&this['assignSlot'](_0x102b2d,_0x102b2d['atlasSlotI'+'ndex'],!(-0x1e2f+0x1252+-0x5ef*-0x2));}}let _0x59cbec=0x7da+-0x1870+-0xc1*-0x16;for(let _0x3805b4=0x361+0x2d0+0x1*-0x631;_0x3805b4<_0x2b9755;_0x3805b4++){for(;_0x59cbec<_0x1805b2['length']&&_0x1805b2[_0x59cbec]['used'];)_0x59cbec++;const _0x15908a=_0x49511[_0x3805b4];_0x15908a['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x15908a,_0x59cbec,!(-0x892*0x1+0x3*0xa0b+0x1*-0x158f));const _0x23ac2e=_0x1805b2[_0x15908a['atlasSlotI'+'ndex']];this['setupSlot'](_0x15908a,_0x23ac2e['rect']);}}this['updateUnif'+'orms']();}}class Lb{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x3636db=>{_0x3636db['forEach'](_0x52f9b6=>{_0x52f9b6['destroy']();});}),this['cache']['clear']();}['getKey'](_0x2e94d7){const _0x96ae9=_0x2e94d7['_type']===Ke,_0x279431=_0x2e94d7['_shadowTyp'+'e'],_0x47b117=_0x2e94d7['_shadowRes'+'olution'];return _0x96ae9+'-'+_0x279431+'-'+_0x47b117;}['get'](_0x4332e5,_0x57b5a5){const _0x3b0505=this['getKey'](_0x57b5a5),_0xb42b1e=this['cache']['get'](_0x3b0505);if(_0xb42b1e&&_0xb42b1e['length'])return _0xb42b1e['pop']();const _0xdc8fab=va['create'](_0x4332e5,_0x57b5a5);return _0xdc8fab['cached']=!(0x15b*-0x7+0xd2b+-0x3ae),_0xdc8fab;}['add'](_0x933cb0,_0x1d7549){const _0x6cfe92=this['getKey'](_0x933cb0),_0x5afe9c=this['cache']['get'](_0x6cfe92);_0x5afe9c?_0x5afe9c['push'](_0x1d7549):this['cache']['set'](_0x6cfe92,[_0x1d7549]);}}class Rb extends ys{constructor(_0x14e950,_0x4496d0,_0x3c794e,_0x1eccde,_0x21d9db){super(_0x14e950),Ea['setName'](this,this['name']+'-'+_0x3c794e['_node']['name']),this['requiresCu'+'bemaps']=!(-0x1b*0xe+0x173+0x8),this['shadowRend'+'erer']=_0x4496d0,this['light']=_0x3c794e,this['face']=_0x1eccde,this['applyVsm']=_0x21d9db,this['shadowCame'+'ra']=_0x4496d0['prepareFac'+'e'](_0x3c794e,null,_0x1eccde),_0x4496d0['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(-0x822+0x8*-0x15b+-0x12fa*-0x1));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(-0x23f1*0x1+-0x57*0xb+0x27af));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class Ob{constructor(_0x217225,_0x3b0d6b){h(this,'shadowLigh'+'ts',[]),h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x217225,this['shadowRend'+'erer']=_0x3b0d6b,this['device']=_0x217225['device']);}['cull'](_0x3082af,_0x38570a,_0x205880=null){const _0x2dda97=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x3082af['visibleThi'+'sFrame']=!(0x2*0x905+0x3c7*-0x1+-0xe43),_0x2dda97||_0x3082af['_shadowMap']||(_0x3082af['_shadowMap']=va['create'](this['device'],_0x3082af));const _0x4a2fab=_0x3082af['_type'],_0x2fd83e=_0x4a2fab===Ze?0x8ca+-0x632*-0x5+-0x27c3:0x1200+-0x1*0x4eb+-0x1*0xd0f;for(let _0x3cd395=-0x33*0x1d+-0xdb6+0x3*0x67f;_0x3cd395<_0x2fd83e;_0x3cd395++){const _0x188729=_0x3082af['getRenderD'+'ata'](null,_0x3cd395),_0x4a7a1e=_0x188729['shadowCame'+'ra'];_0x4a7a1e['nearClip']=_0x3082af['attenuatio'+'nEnd']/(-0x25fd+0x26c1+-0x192*-0x2),_0x4a7a1e['farClip']=_0x3082af['attenuatio'+'nEnd'];const _0x57e3ce=_0x4a7a1e['_node'],_0x2cefe4=_0x3082af['_node'];if(_0x57e3ce['setPositio'+'n'](_0x2cefe4['getPositio'+'n']()),_0x4a2fab===Ze)_0x4a7a1e['fov']=_0x3082af['_outerCone'+'Angle']*(-0x17cf+-0x275*0xa+-0x1*-0x3063),_0x57e3ce['setRotatio'+'n'](_0x2cefe4['getRotatio'+'n']()),_0x57e3ce['rotateLoca'+'l'](-(0xe48+-0x434+-0x9ba),0x1331*-0x2+0x1a08+0xc5a,-0x2659+0xf09*-0x1+0x3562);else{if(_0x4a2fab===Ke){if(_0x2dda97){const _0x365cd0=(0x55+-0x2f8*-0x4+-0xc33)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x3082af['atlasViewp'+'ort']['z']/(-0xb42*-0x2+-0x12b2+-0x3cf))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x4a7a1e['fov']=Math['atan'](-0x1*0x1cd3+0x2414+-0x740+_0x365cd0)*Y['RAD_TO_DEG']*(0x1494+0x1467+-0x1*0x28f9);}else _0x4a7a1e['fov']=0xf6a+0x2*-0x88c+0x208;}}this['renderer']['updateCame'+'raFrustum'](_0x4a7a1e),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x38570a,_0x3082af,_0x188729['visibleCas'+'ters'],_0x4a7a1e,_0x205880);}}['prepareLig'+'hts'](_0x2e9b35,_0x7e6760){let _0xb27ec3;for(let _0xf697c0=0x215f+0x1cd0+-0x3e2f;_0xf697c0<_0x7e6760['length'];_0xf697c0++){const _0x28cdb0=_0x7e6760[_0xf697c0];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x28cdb0)&&_0x28cdb0['atlasViewp'+'ortAllocat'+'ed']){_0x2e9b35['push'](_0x28cdb0);for(let _0x4dbe56=-0x1d1e+0x59*-0x3+0x44f*0x7;_0x4dbe56<_0x28cdb0['numShadowF'+'aces'];_0x4dbe56++)_0xb27ec3=this['shadowRend'+'erer']['prepareFac'+'e'](_0x28cdb0,null,_0x4dbe56);}}return _0xb27ec3;}['buildNonCl'+'usteredRen'+'derPasses'](_0x4ced6e,_0x4a322b){for(let _0x598cea=0x83c+0x9f5+-0x1231;_0x598cea<_0x4a322b['length'];_0x598cea++){const _0x55781d=_0x4a322b[_0x598cea];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x55781d)){const _0x2fde=_0x55781d['_type']===Ze,_0x50a508=_0x55781d['numShadowF'+'aces'];for(let _0x42b014=0x1123+-0x2181+0x1a3*0xa;_0x42b014<_0x50a508;_0x42b014++){const _0xa24b84=new Rb(this['device'],this['shadowRend'+'erer'],_0x55781d,_0x42b014,_0x2fde);_0x4ced6e['addRenderP'+'ass'](_0xa24b84);}}}}}class Fb extends ys{constructor(_0x1fe8d1,_0x5ca72a,_0x393f68,_0x16ff11,_0x4fd0e7){super(_0x1fe8d1),Ea['setName'](this,this['name']+'-'+_0x393f68['_node']['name']),this['shadowRend'+'erer']=_0x5ca72a,this['light']=_0x393f68,this['camera']=_0x16ff11,this['allCascade'+'sRendering']=_0x4fd0e7;}['execute'](){const {light:_0x417143,camera:_0x3348dc,shadowRenderer:_0x9ffb94,allCascadesRendering:_0x516746}=this,_0x2905d2=_0x417143['numShadowF'+'aces'],_0x5279e1=_0x417143['shadowUpda'+'teOverride'+'s'];for(let _0x4ba84d=0x21*-0x72+0x1*0x10b1+-0x1ff;_0x4ba84d<_0x2905d2;_0x4ba84d++)(_0x5279e1==null?void(0x11f2*0x1+-0x15*-0x15b+-0x2e69):_0x5279e1[_0x4ba84d])!==Ps&&_0x9ffb94['renderFace'](_0x417143,_0x3348dc,_0x4ba84d,!_0x516746),(_0x5279e1==null?void(-0x12*0x194+-0xad9+0x2741):_0x5279e1[_0x4ba84d])===xr&&(_0x5279e1[_0x4ba84d]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const lc=new De(),Ti=new D(),H_=new te(),Xe=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()],sf={'min':0x0,'max':0x0};function Nb(_0x340758,_0x3480a1,_0x2b9a9a){Xe[0x1314+-0x5a4+-0xd70]['x']=Xe[-0x233*0x5+0x26a1+-0x1ba1]['x']=Xe[-0x5*-0x8f+0x15c4+0x3*-0x82f]['x']=Xe[0x6fb*-0x5+-0x237d+-0x43*-0x10d]['x']=_0x3480a1['x'],Xe[-0x261a+-0x10*-0x125+-0x13cb*-0x1]['y']=Xe[0xc1*0x11+0xf4d+-0x1*0x1c1b]['y']=Xe[0xf2a+0x3e0+-0x1303]['y']=Xe[0x13*-0x1fd+-0x25f2+0x4bbe]['y']=_0x3480a1['y'],Xe[0x2306+-0x4*-0x6ad+-0x8*0x7b7]['z']=Xe[0x237b+-0xf5f+-0x1419]['z']=Xe[-0x368+0x2*0x4a8+-0x1*0x5e2]['z']=Xe[-0x1864+-0x5*-0x1a9+0x101e]['z']=_0x3480a1['z'],Xe[-0x18d7+-0x8c7+0x21a2]['x']=Xe[-0x16a2+-0x234d+0x39f4]['x']=Xe[-0x102d+0x20b*-0x6+0x1c75]['x']=Xe[0xf0f*0x1+-0x1ede+-0x2*-0x7eb]['x']=_0x2b9a9a['x'],Xe[-0x6*-0x154+-0x2700+0x1f08*0x1]['y']=Xe[-0xb8*0x6+-0x1a68+0x1eba]['y']=Xe[-0x6fe+-0x224+0x1*0x926]['y']=Xe[0x1635+0x89a*0x1+-0xa43*0x3]['y']=_0x2b9a9a['y'],Xe[-0x8c3+0x1*-0xc20+0x14e3]['z']=Xe[-0x1*0x19db+0x10a0+0x93c]['z']=Xe[-0x534+-0x2*-0x69b+-0x3*0x2aa]['z']=Xe[-0x1806+-0x5*0x745+0x3c64*0x1]['z']=_0x2b9a9a['z'];let _0x50ea08=0x2a8f9189d+-0x8554e16f*-0x3+-0x1e4ebd8eb,_0x27aeb6=-(0x1*0x3589172b2+-0xd8564ad5*-0x1+-0x1dcdbd988);for(let _0xc1a68b=-0x3*-0x68a+-0x1695+0x2f7;_0xc1a68b<-0x207f+0x8ce+-0x17b9*-0x1;++_0xc1a68b){_0x340758['transformP'+'oint'](Xe[_0xc1a68b],Xe[_0xc1a68b]);const _0x45f7f2=Xe[_0xc1a68b]['z'];_0x45f7f2<_0x50ea08&&(_0x50ea08=_0x45f7f2),_0x45f7f2>_0x27aeb6&&(_0x27aeb6=_0x45f7f2);}return sf['min']=_0x50ea08,sf['max']=_0x27aeb6,sf;}class kb{constructor(_0x7fa1a8,_0x1050a0){h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x7fa1a8,this['shadowRend'+'erer']=_0x1050a0,this['device']=_0x7fa1a8['device']);}['cull'](_0x537fd3,_0x47dae0,_0xc954f6,_0xcfde92=null){_0x537fd3['visibleThi'+'sFrame']=!(-0x9cc+-0xe6a+-0x409*-0x6),_0x537fd3['_shadowMap']||(_0x537fd3['_shadowMap']=va['create'](this['device'],_0x537fd3));const _0x51c396=_0xc954f6['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x537fd3,_0x51c396,Math['min'](_0xc954f6['_farClip'],_0x537fd3['shadowDist'+'ance']));const _0x85252=_0x537fd3['shadowUpda'+'teOverride'+'s'];for(let _0x3640f9=0x592+0x2*-0xd46+0x14fa;_0x3640f9<_0x537fd3['numCascade'+'s']&&(_0x85252==null?void(-0x1fe4*0x1+0x36f*-0x3+-0x1*-0x2a31):_0x85252[_0x3640f9])!==Ps;_0x3640f9++){const _0x31d10f=_0x537fd3['getRenderD'+'ata'](_0xc954f6,_0x3640f9),_0x501f90=_0x31d10f['shadowCame'+'ra'];_0x501f90['renderTarg'+'et']=_0x537fd3['_shadowMap']['renderTarg'+'ets'][0x26b7+-0x164+-0x555*0x7],_0x31d10f['shadowView'+'port']['copy'](_0x537fd3['cascades'][_0x3640f9]),_0x31d10f['shadowScis'+'sor']['copy'](_0x537fd3['cascades'][_0x3640f9]);const _0x352279=_0x501f90['_node'],_0x4c22ba=_0x537fd3['_node'];_0x352279['setPositio'+'n'](_0x4c22ba['getPositio'+'n']()),_0x352279['setRotatio'+'n'](_0x4c22ba['getRotatio'+'n']()),_0x352279['rotateLoca'+'l'](-(-0x21d7+-0x1a89+0x3cba),-0x6*-0x3f3+0x1*-0x1751+0x61*-0x1,-0x18+-0x8ba+0x8d2);const _0xba5bb7=_0x3640f9===-0x1*-0x5f7+-0x20fc+0x1*0x1b05?_0x51c396:_0x537fd3['_shadowCas'+'cadeDistan'+'ces'][_0x3640f9-(0x741*-0x1+-0xd*-0x190+-0xd0e)],_0x50a6fd=_0x537fd3['_shadowCas'+'cadeDistan'+'ces'][_0x3640f9],_0x528f24=_0xc954f6['getFrustum'+'Corners'](_0xba5bb7,_0x50a6fd);Ti['set'](-0xce4+-0x7*-0x4f0+0xad6*-0x2,0x1*0x2107+0x1*0x39f+-0x24a6,0x344*0x2+0x2225+-0x28ad);const _0x1c3b72=_0xc954f6['node']['getWorldTr'+'ansform']();for(let _0xe94a54=-0x2032+-0x1b83+0xf*0x3fb;_0xe94a54<-0x258d+-0x1714+0x125*0x35;_0xe94a54++)_0x1c3b72['transformP'+'oint'](_0x528f24[_0xe94a54],_0x528f24[_0xe94a54]),Ti['add'](_0x528f24[_0xe94a54]);Ti['mulScalar']((0xe36+0x2*0xa07+-0x4e5*0x7)/(0x57b*-0x7+-0x1df0+0x4455*0x1));let _0xf4079a=-0x1a78+-0xe5*0x23+0x39c7;for(let _0x51a86e=0xa57+0x4ad*0x5+-0x21b8;_0x51a86e<0x3*-0x2f7+0x223*0x1+0x6ca;_0x51a86e++){const _0x3c2a45=_0x528f24[_0x51a86e]['sub'](Ti)['length']();_0x3c2a45>_0xf4079a&&(_0xf4079a=_0x3c2a45);}const _0x60ddb0=_0x352279['right'],_0x5ea86c=_0x352279['up'],_0x1f310c=_0x352279['forward'],_0x1e9da0=(-0x3*-0x8f6+-0x1dd*0xd+0x1*-0x2a9+0.25)*_0x537fd3['_shadowRes'+'olution']/_0xf4079a,_0x431a4f=Math['ceil'](Ti['dot'](_0x5ea86c)*_0x1e9da0)/_0x1e9da0,_0x3f15ea=Math['ceil'](Ti['dot'](_0x60ddb0)*_0x1e9da0)/_0x1e9da0,_0x4599a5=_0x5ea86c['mulScalar'](_0x431a4f),_0x190ae1=_0x60ddb0['mulScalar'](_0x3f15ea),_0x931406=Ti['dot'](_0x1f310c),_0x5dd55e=_0x1f310c['mulScalar'](_0x931406);Ti['add2'](_0x4599a5,_0x190ae1)['add'](_0x5dd55e),_0x352279['setPositio'+'n'](Ti),_0x352279['translateL'+'ocal'](-0xa5e*0x2+0x25*-0xb3+-0x1*-0x2e9b,-0x189c+-0x1*-0x1b3+0xff*0x17,0xf8275+0x18d693+-0x645b2*0x4),_0x501f90['nearClip']=0x150c+-0xfaf+-0x1*0x55d+0.01,_0x501f90['farClip']=-0x3*0x90acd+0x1*0x15c90c+0x23dbdb,_0x501f90['orthoHeigh'+'t']=_0xf4079a,this['renderer']['updateCame'+'raFrustum'](_0x501f90),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x47dae0,_0x537fd3,_0x31d10f['visibleCas'+'ters'],_0x501f90,_0xcfde92);const _0x3cbe55=-0x71*0x1+-0x1ad*0x12+0x1e9c<<_0x3640f9,_0x42d59a=_0x31d10f['visibleCas'+'ters'],_0x2d6226=_0x42d59a['length'];let _0x5b9da1=-0x1*0x26ed+0x83b*0x2+0x1677;for(let _0x1c438b=0xa5f+0x2*0x1076+-0x2b4b;_0x1c438b<_0x2d6226;_0x1c438b++){const _0x2752b4=_0x42d59a[_0x1c438b];_0x2752b4['shadowCasc'+'adeMask']&_0x3cbe55&&(_0x42d59a[_0x5b9da1++]=_0x2752b4,_0x5b9da1===-0x2b5*0x3+0xc8+0x5e*0x14?lc['copy'](_0x2752b4['aabb']):lc['add'](_0x2752b4['aabb']));}_0x2d6226!==_0x5b9da1&&(_0x42d59a['length']=_0x5b9da1),H_['copy'](_0x352279['getWorldTr'+'ansform']())['invert']();const _0x44df64=Nb(H_,lc['getMin'](),lc['getMax']());_0x352279['translateL'+'ocal'](0x28a*-0x5+-0x575*-0x5+-0x2d*0x53,0x1c57+0x3*-0xa54+-0x1*-0x2a5,_0x44df64['max']+(-0x1fe8+-0x551+0x1*0x2539+0.1)),_0x501f90['farClip']=_0x44df64['max']-_0x44df64['min']+(0x4a9*0x2+-0x235b+0x1a09+0.2),_0x31d10f['projection'+'Compensati'+'on']=_0xf4079a;}}['generateSp'+'litDistanc'+'es'](_0x5a6b42,_0x4352df,_0x761633){_0x5a6b42['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x761633);for(let _0x49c021=0x1*-0x13d9+-0xf8b+0x11*0x215;_0x49c021<_0x5a6b42['numCascade'+'s'];_0x49c021++){const _0x100e2d=_0x49c021/_0x5a6b42['numCascade'+'s'],_0x28529=_0x4352df+(_0x761633-_0x4352df)*_0x100e2d,_0x293650=_0x4352df*(_0x761633/_0x4352df)**_0x100e2d,_0x13e7cb=Y['lerp'](_0x28529,_0x293650,_0x5a6b42['cascadeDis'+'tribution']);_0x5a6b42['_shadowCas'+'cadeDistan'+'ces'][_0x49c021-(0x201e+0x371+-0x1*0x238e)]=_0x13e7cb;}}['getLightRe'+'nderPass'](_0x2e916a,_0x7a6190){w['assert'](_0x2e916a&&_0x2e916a['_type']===ve);let _0x5d1d8d=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x2e916a)){const _0x3f0ef3=_0x2e916a['numShadowF'+'aces'],_0x485607=_0x2e916a['shadowUpda'+'teOverride'+'s'];let _0x59c4d5=!(0x245+0x2*0x11f5+-0x262f),_0x170045;for(let _0xd1ac82=0x1*-0x1fe1+0x1*-0x10a6+0x3*0x102d;_0xd1ac82<_0x3f0ef3;_0xd1ac82++)(_0x485607==null?void(-0x1*0x419+-0xb3c*-0x2+-0x125f):_0x485607[_0xd1ac82])===Ps&&(_0x59c4d5=!(-0x166f+-0x2*-0xe1c+-0x5c8)),_0x170045=this['shadowRend'+'erer']['prepareFac'+'e'](_0x2e916a,_0x7a6190,_0xd1ac82);_0x5d1d8d=new Fb(this['device'],this['shadowRend'+'erer'],_0x2e916a,_0x7a6190,_0x59c4d5),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x5d1d8d,_0x170045,_0x59c4d5);}return _0x5d1d8d;}}const rf=new Set(),W_=new te(),$_=new te(),Fr=new Float32Array(0x1*0x1ee9+-0x2458*-0x1+-0x139*0x37),lo=new re(-0x1*-0x23d4+0x1*0x11a9+-0x357c,0x59a+-0x32b+-0x2*0x137,-0x12f+-0x1*0x1fe3+0x66*0x53,-0x687*-0x3+0x9*0x29+-0x1506),X_=new te();function Ub(_0x103889,_0x5d8471){return Math['exp'](-(_0x103889*_0x103889)/((0x1*0xa+0x1c64+-0xd6*0x22)*_0x5d8471*_0x5d8471));}function Bb(_0x144b05){const _0xe1e6cc=(_0x144b05-(-0xa*0x271+-0x2293*-0x1+-0xc8*0xd))/(0x1*-0x17ec+0x2236+-0xa44),_0x4e36b0=(_0x144b05-(0xd09*-0x1+-0x2*-0x6df+-0x9*0x14))*(-0x1206+-0x1d87+-0x2f*-0x103+0.5),_0x16eccd=new Array(_0x144b05);let _0x3d0703=0x2577+0x2310+0x9*-0x80f;for(let _0x19efb2=0x10d*-0x9+-0x12f9+0x1c6e;_0x19efb2<_0x144b05;++_0x19efb2)_0x16eccd[_0x19efb2]=Ub(_0x19efb2-_0x4e36b0,_0xe1e6cc),_0x3d0703+=_0x16eccd[_0x19efb2];for(let _0xdd04e9=-0x1d87*-0x1+-0xde6+-0xfa1*0x1;_0xdd04e9<_0x144b05;++_0xdd04e9)_0x16eccd[_0xdd04e9]/=_0x3d0703;return _0x16eccd;}class Cv{constructor(_0x6c3bfd,_0x48fa59){h(this,'shadowPass'+'Cache',[]),(this['device']=_0x6c3bfd['device'],this['renderer']=_0x6c3bfd,this['lightTextu'+'reAtlas']=_0x48fa59);const _0x53fcb2=this['device']['scope'];this['sourceId']=_0x53fcb2['resolve']('source'),this['pixelOffse'+'tId']=_0x53fcb2['resolve']('pixelOffse'+'t'),this['weightId']=_0x53fcb2['resolve']('weight[0]'),this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x53fcb2['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new pt(),this['blendState'+'NoWrite']=new pt(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(-0x5*-0x3d3+0x1d9b+0x1*-0x30b9),!(0x590+0x215*-0x9+0xd2e),!(0xc8b+0xc4*-0x14+0x2c6),!(0x17*-0x10a+-0x24*0xdb+0x2e1*0x13));}static['createShad'+'owCamera'](_0x243541,_0x19436f,_0x94f80e){const _0xab8019=Wn['create']('ShadowCame'+'ra',_0x19436f,_0x94f80e),_0xd3312b=qi['get'](_0x243541);w['assert'](_0xd3312b);const _0x1a85e3=(_0xd3312b==null?void(-0x20a7+0x9a9*-0x4+-0x1*-0x474b):_0xd3312b['vsm'])??!(0x1*-0x2515+0x125b+0x1*0x12bb),_0x2ca641=(_0xd3312b==null?void(0x261f+0xab8+0x1*-0x30d7):_0xd3312b['pcf'])??!(0x135a+0x7b7+-0x1b10);return _0x1a85e3?_0xab8019['clearColor']=new ie(-0x2*-0xfa1+0x639+-0x257b,-0xb66+0x1704+-0xb9e*0x1,0xa0*0x9+0xda8+-0x1348,0xf11+-0x3*-0xce5+-0xac*0x50):_0xab8019['clearColor']=new ie(0x10e0+-0x6*-0x67d+-0x37cd,-0x43c+0x18*-0x72+0x1*0xeed,-0x189*-0x19+-0x2356+-0x30a,0x1a6+-0x1*-0x6b+-0xb0*0x3),_0xab8019['clearDepth'+'Buffer']=!(-0x1df5+-0x257f+0x59f*0xc),_0xab8019['clearStenc'+'ilBuffer']=!(-0x14d7+0xf*-0x9d+0x1*0x1e0b),_0xab8019['clearColor'+'Buffer']=!_0x2ca641,_0xab8019;}['_cullShado'+'wCastersIn'+'ternal'](_0x497982,_0x213e9d,_0x5b00d8){const _0x440c30=_0x497982['length'];for(let _0x231e4f=-0x281*0x1+0x10ee+0x1*-0xe6d;_0x231e4f<_0x440c30;_0x231e4f++){const _0x176c6e=_0x497982[_0x231e4f];_0x176c6e['castShadow']&&(!_0x176c6e['cull']||_0x176c6e['_isVisible'](_0x5b00d8))&&(_0x176c6e['visibleThi'+'sFrame']=!(0x1*0x757+-0x11f7*0x1+0xaa0),_0x213e9d['push'](_0x176c6e));}}['cullShadow'+'Casters'](_0x58ad60,_0x22b1e9,_0x75e81e,_0x25c027,_0x277123){var _0x485e0b,_0x2731fd;if((_0x485e0b=this['renderer']['scene'])==null||_0x485e0b['fire'](mv,_0x25c027),_0x75e81e['length']=0x10*-0x103+0x128f+-0x25f,_0x277123)this['_cullShado'+'wCastersIn'+'ternal'](_0x277123,_0x75e81e,_0x25c027);else{const _0x265fc2=_0x58ad60['layerList'],_0x3a3016=_0x265fc2['length'];for(let _0x38571a=0x5c*-0x31+-0x89e+-0x3*-0x8be;_0x38571a<_0x3a3016;_0x38571a++){const _0x21e6d4=_0x265fc2[_0x38571a];_0x21e6d4['_lightsSet']['has'](_0x22b1e9)&&(rf['has'](_0x21e6d4)||(rf['add'](_0x21e6d4),this['_cullShado'+'wCastersIn'+'ternal'](_0x21e6d4['shadowCast'+'ers'],_0x75e81e,_0x25c027)));}rf['clear']();}_0x75e81e['sort'](this['sortCompar'+'eShader']),(_0x2731fd=this['renderer']['scene'])==null||_0x2731fd['fire'](_v,_0x25c027);}['sortCompar'+'eShader'](_0x7242f6,_0x4672dc){const _0x470969=_0x7242f6['_sortKeySh'+'adow'],_0xd8843f=_0x4672dc['_sortKeySh'+'adow'];return _0x470969===_0xd8843f?_0x4672dc['mesh']['id']-_0x7242f6['mesh']['id']:_0xd8843f-_0x470969;}['setupRende'+'rState'](_0x5bc3ea,_0x57194b){const _0x294350=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x57194b['_isPcf']:_0x57194b['_isPcf']&&_0x57194b['_type']!==Ke;_0x5bc3ea['setBlendSt'+'ate'](_0x294350?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x5bc3ea['setDepthSt'+'ate'](_0x57194b['shadowDept'+'hState']),_0x5bc3ea['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x217930,_0x438161,_0x301381,_0x1ecea6){const _0x37d50a=_0x438161['_node'];_0x217930['_type']!==ve&&(this['renderer']['dispatchVi'+'ewPos'](_0x37d50a['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x217930['attenuatio'+'nEnd'])),W_['setTRS'](_0x37d50a['getPositio'+'n'](),_0x37d50a['getRotatio'+'n'](),D['ONE'])['invert'](),$_['mul2'](_0x438161['projection'+'Matrix'],W_);const _0x424f38=_0x301381['shadowView'+'port'];_0x438161['rect']=_0x424f38,_0x438161['scissorRec'+'t']=_0x301381['shadowScis'+'sor'],X_['setViewpor'+'t'](_0x424f38['x'],_0x424f38['y'],_0x424f38['z'],_0x424f38['w']),_0x301381['shadowMatr'+'ix']['mul2'](X_,$_),_0x217930['_type']===ve&&_0x217930['_shadowMat'+'rixPalette']['set'](_0x301381['shadowMatr'+'ix']['data'],_0x1ecea6*(0x1778*-0x1+-0x1570+0x2*0x167c));}['getShadowP'+'ass'](_0x5bcc8a){var _0x512511;const _0x16202c=_0x5bcc8a['_type'],_0x2065ce=_0x5bcc8a['_shadowTyp'+'e'];let _0x39c1ea=(_0x512511=this['shadowPass'+'Cache'][_0x16202c])==null?void(0x5c4*0x1+-0x26a0+-0x57a*-0x6):_0x512511[_0x2065ce];if(!_0x39c1ea){const _0x27d70e='ShadowPass'+'_'+_0x16202c+'_'+_0x2065ce;_0x39c1ea=Si['get'](this['device'])['allocate'](_0x27d70e,{'isShadow':!(-0x2171+0x10d4+0x1*0x109d),'lightType':_0x16202c,'shadowType':_0x2065ce}),this['shadowPass'+'Cache'][_0x16202c]||(this['shadowPass'+'Cache'][_0x16202c]=[]),this['shadowPass'+'Cache'][_0x16202c][_0x2065ce]=_0x39c1ea;}return _0x39c1ea['index'];}['submitCast'+'ers'](_0x51670d,_0x2690b1,_0x1872f9){var _0x492a65;const _0x728533=this['device'],_0x12ae24=this['renderer'],_0x20528b=_0x12ae24['scene'],_0x2d921d=0x201d+-0x433*-0x5+-0x5*0xa9f<<cm,_0x48048e=this['getShadowP'+'ass'](_0x2690b1),_0x291c84=_0x1872f9['shaderPara'+'ms'],_0x383cc9=_0x1872f9['renderTarg'+'et']['flipY']?-(0xa6*-0x11+-0x11f*0xe+0x1ab9):-0x572+-0x175e+0x99b*0x3,_0x14b996=_0x51670d['length'];for(let _0xbd64ad=0xfd3+-0x1e41*0x1+0xe6e*0x1;_0xbd64ad<_0x14b996;_0xbd64ad++){const _0x4fc7fa=_0x51670d[_0xbd64ad],_0x5664b6=_0x4fc7fa['mesh'],_0x3c0988=_0x4fc7fa['instancing'+'Data'];if(_0x3c0988&&_0x3c0988['count']<=-0x24b1+-0x1*0x1d63+0x4214*0x1)continue;_0x4fc7fa['ensureMate'+'rial'](_0x728533);const _0x1d3765=_0x4fc7fa['material'];Q['pushGpuMar'+'ker'](_0x728533,'Node:\x20'+_0x4fc7fa['node']['name']+(',\x20Material'+':\x20')+_0x1d3765['name']),_0x12ae24['setBaseCon'+'stants'](_0x728533,_0x1d3765),_0x12ae24['setSkinnin'+'g'](_0x728533,_0x4fc7fa),_0x1d3765['dirty']&&(_0x1d3765['updateUnif'+'orms'](_0x728533,_0x20528b),_0x1d3765['dirty']=!(0x1*-0x6d+-0x2514+-0x2*-0x12c1)),_0x12ae24['setupCullM'+'ode'](!(0x248*-0x4+0xf6f+0x11*-0x5f),_0x383cc9,_0x4fc7fa),_0x1d3765['setParamet'+'ers'](_0x728533),_0x4fc7fa['setParamet'+'ers'](_0x728533,_0x2d921d);const _0x13778d=_0x4fc7fa['getShaderI'+'nstance'](_0x48048e,-0x6bc+0xbc9+-0x1af*0x3,_0x20528b,_0x291c84,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x13dc7c=_0x13778d['shader'];if(w['assert'](_0x13dc7c,'no\x20shader\x20'+'for\x20pass\x20'+_0x48048e,_0x1d3765),_0x13dc7c['failed'])continue;_0x4fc7fa['_sortKeySh'+'adow']=_0x13dc7c['id'],_0x728533['setShader'](_0x13dc7c),_0x12ae24['setVertexB'+'uffers'](_0x728533,_0x5664b6),_0x12ae24['setMorphin'+'g'](_0x728533,_0x4fc7fa['morphInsta'+'nce']),_0x3c0988&&_0x728533['setVertexB'+'uffer'](_0x3c0988['vertexBuff'+'er']),_0x12ae24['setMeshIns'+'tanceMatri'+'ces'](_0x4fc7fa),_0x12ae24['setupMeshU'+'niformBuff'+'ers'](_0x13778d);const _0x3073a6=_0x4fc7fa['renderStyl'+'e'],_0x50a833=(_0x492a65=_0x4fc7fa['indirectDa'+'ta'])==null?void(0x1054+-0x1*0xf1d+-0x137):_0x492a65['get'](_0x1872f9);_0x728533['draw'](_0x5664b6['primitive'][_0x3073a6],_0x5664b6['indexBuffe'+'r'][_0x3073a6],_0x3c0988==null?void(-0xd7c+-0x18a6+0xcb6*0x3):_0x3c0988['count'],_0x50a833),_0x12ae24['_shadowDra'+'wCalls']++,_0x3c0988&&_0x12ae24['_instanced'+'DrawCalls']++,Q['popGpuMark'+'er'](_0x728533);}}['needsShado'+'wRendering'](_0x4a2cb4){const _0x334a1a=_0x4a2cb4['enabled']&&_0x4a2cb4['castShadow'+'s']&&_0x4a2cb4['shadowUpda'+'teMode']!==Ps&&_0x4a2cb4['visibleThi'+'sFrame'];return _0x4a2cb4['shadowUpda'+'teMode']===xr&&(_0x4a2cb4['shadowUpda'+'teMode']=Ps),_0x334a1a&&(this['renderer']['_shadowMap'+'Updates']+=_0x4a2cb4['numShadowF'+'aces']),_0x334a1a;}['getLightRe'+'nderData'](_0x35db61,_0x3e14a7,_0x3434fb){return _0x35db61['getRenderD'+'ata'](_0x35db61['_type']===ve?_0x3e14a7:null,_0x3434fb);}['setupRende'+'rPass'](_0x5bdca3,_0x38cff7,_0x4d3c72){const _0x430153=_0x38cff7['renderTarg'+'et'];_0x5bdca3['init'](_0x430153),_0x5bdca3['depthStenc'+'ilOps']['clearDepth'+'Value']=0xa9c+0x1de7+0x7a*-0x55,_0x5bdca3['depthStenc'+'ilOps']['clearDepth']=_0x4d3c72,_0x430153['depthBuffe'+'r']?_0x5bdca3['depthStenc'+'ilOps']['storeDepth']=!(0x11*0x1fa+0x9f8+0xb*-0x3f6):(_0x5bdca3['colorOps']['clearValue']['copy'](_0x38cff7['clearColor']),_0x5bdca3['colorOps']['clear']=_0x4d3c72,_0x5bdca3['depthStenc'+'ilOps']['storeDepth']=!(0x7a+0x3*-0x34b+-0x4b4*-0x2)),_0x5bdca3['requiresCu'+'bemaps']=!(0x1*-0x1201+0x117c+0x86);}['prepareFac'+'e'](_0x394398,_0x2c2dd6,_0x2f7a14){const _0x2b0976=_0x394398['_type'],_0x574bec=this['getLightRe'+'nderData'](_0x394398,_0x2c2dd6,_0x2f7a14)['shadowCame'+'ra'],_0x44b28b=_0x2b0976===ve?0x201d+0x39b*-0x6+-0xa7b:_0x2f7a14;return _0x574bec['renderTarg'+'et']=_0x394398['_shadowMap']['renderTarg'+'ets'][_0x44b28b],_0x574bec;}['renderFace'](_0x18d525,_0x6ee47b,_0x42d71c,_0x4e49ac,_0x493680=!(-0x85*0xb+-0x616+0xbcd)){const _0x3e7bb4=this['device'],_0x14d3a1=de();Q['pushGpuMar'+'ker'](_0x3e7bb4,'SHADOW\x20'+_0x18d525['_node']['name']+'\x20FACE\x20'+_0x42d71c);const _0x14ce80=this['getLightRe'+'nderData'](_0x18d525,_0x6ee47b,_0x42d71c),_0x339003=_0x14ce80['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x18d525,_0x339003,_0x14ce80,_0x42d71c);const _0x367a7f=_0x339003['renderTarg'+'et'],_0x245d81=this['renderer'];_0x245d81['setCameraU'+'niforms'](_0x339003,_0x367a7f),_0x3e7bb4['supportsUn'+'iformBuffe'+'rs']&&_0x245d81['setupViewU'+'niformBuff'+'ers'](_0x14ce80['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],null),_0x493680?(_0x245d81['setupViewp'+'ort'](_0x339003,_0x367a7f),_0x4e49ac&&_0x245d81['clear'](_0x339003)):_0x245d81['clearView'](_0x339003,_0x367a7f,!(0x19e5+0xbfb+0x60*-0x65),!(-0x1cdb+-0xa0f*-0x2+-0x1*-0x8be)),this['setupRende'+'rState'](_0x3e7bb4,_0x18d525),this['submitCast'+'ers'](_0x14ce80['visibleCas'+'ters'],_0x18d525,_0x339003),Q['popGpuMark'+'er'](_0x3e7bb4),_0x245d81['_shadowMap'+'Time']+=de()-_0x14d3a1;}['render'](_0x19d89d,_0x50c8e2,_0x35569e=!(-0x2352+0x2*0x12af+-0x20c)){if(this['needsShado'+'wRendering'](_0x19d89d)){const _0x5c0b42=_0x19d89d['numShadowF'+'aces'];for(let _0x55c0d5=-0x1a69+0x75+-0xb*-0x25c;_0x55c0d5<_0x5c0b42;_0x55c0d5++)this['prepareFac'+'e'](_0x19d89d,_0x50c8e2,_0x55c0d5),this['renderFace'](_0x19d89d,_0x50c8e2,_0x55c0d5,!(0x1*-0xa51+0x15*-0x65+-0x1*-0x129a),_0x35569e);this['renderVsm'](_0x19d89d,_0x50c8e2);}}['renderVsm'](_0x3a3efb,_0x199635){_0x3a3efb['_isVsm']&&_0x3a3efb['_vsmBlurSi'+'ze']>0xd2*-0x16+-0x1c90+0x2e9d&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x3a3efb['_type']===ve)&&this['applyVsmBl'+'ur'](_0x3a3efb,_0x199635);}['getVsmBlur'+'Shader'](_0x7e5ef9,_0x1c205b){const _0x532756=this['blurVsmSha'+'der'];let _0x328197=_0x532756[_0x7e5ef9][_0x1c205b];if(!_0x328197){this['blurVsmWei'+'ghts'][_0x1c205b]=Bb(_0x1c205b);const _0x24dd95=new Map();_0x24dd95['set']('{SAMPLES}',_0x1c205b),_0x7e5ef9===0xb*-0x16+-0x1711+0x1804&&_0x24dd95['set']('GAUSS',''),_0x328197=$t['createShad'+'er'](this['device'],{'uniqueName':'blurVsm'+_0x7e5ef9+_0x1c205b,'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'blurVSMPS','fragmentDefines':_0x24dd95}),_0x532756[_0x7e5ef9][_0x1c205b]=_0x328197;}return _0x328197;}['applyVsmBl'+'ur'](_0x155303,_0x5d8c1e){const _0x4aa72d=this['device'];Q['pushGpuMar'+'ker'](_0x4aa72d,'VSM\x20'+_0x155303['_node']['name']),_0x4aa72d['setBlendSt'+'ate'](pt['NOBLEND']);const _0x73f886=_0x155303['getRenderD'+'ata'](_0x155303['_type']===ve?_0x5d8c1e:null,0x6*-0x630+0xb0f+0x1a11*0x1)['shadowCame'+'ra']['renderTarg'+'et'],_0x32ccad=this['renderer']['shadowMapC'+'ache']['get'](_0x4aa72d,_0x155303),_0x57066f=_0x32ccad['renderTarg'+'ets'][0x18c+0x1c39+0x1*-0x1dc5],_0x535214=_0x155303['vsmBlurMod'+'e'],_0x34daf8=_0x155303['_vsmBlurSi'+'ze'],_0x464c21=this['getVsmBlur'+'Shader'](_0x535214,_0x34daf8);lo['z']=_0x155303['_shadowRes'+'olution']-(0x1*0xc0e+0x0+-0xc0c),lo['w']=lo['z'],this['sourceId']['setValue'](_0x73f886['colorBuffe'+'r']),Fr[-0x288+-0x8c2+0xb4a]=(0x1557*0x1+-0x26e4+0x6b*0x2a)/_0x155303['_shadowRes'+'olution'],Fr[0xcb*0x2+0x22b1*0x1+-0x2446*0x1]=0x6f0+0x165e+-0xea7*0x2,this['pixelOffse'+'tId']['setValue'](Fr),_0x535214===em&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x34daf8]),Ar(_0x4aa72d,_0x57066f,_0x464c21,null,lo),this['sourceId']['setValue'](_0x57066f['colorBuffe'+'r']),Fr[0x97*0x3c+0x1093*-0x1+-0x12d0]=Fr[0x23c7*-0x1+0x1743+-0x6*-0x216],Fr[0x16be+0x2*-0xdd5+-0x5a*-0xe]=0x174a+0x44a+0x6e5*-0x4,this['pixelOffse'+'tId']['setValue'](Fr),Ar(_0x4aa72d,_0x73f886,_0x464c21,null,lo),this['renderer']['shadowMapC'+'ache']['add'](_0x155303,_0x32ccad),Q['popGpuMark'+'er'](_0x4aa72d);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new zy(this['device'],[new dt('matrix_vie'+'wProjectio'+'n',li)]),this['viewBindGr'+'oupFormat']=new Ny(this['device'],[new kp(Np,Fp|by)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const cc=[];class zb{constructor(_0xf0c462){h(this,'_empty',null),h(this,'_allocated',[]),h(this,'_clusters',new Map()),this['device']=_0xf0c462;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x17e2e5=>{_0x17e2e5['destroy']();}),this['_allocated']['length']=0x25af+0x16fc+-0x3cab;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x464dfd=new cu(this['device']);_0x464dfd['name']='ClusterEmp'+'ty',_0x464dfd['update']([]),this['_empty']=_0x464dfd;}return this['_empty'];}['assign'](_0x4b8bda){const _0x306408=this['empty'];cc['push'](...this['_allocated']),this['_allocated']['length']=0x1*0x6e9+0x1371+-0x1a5a,this['_clusters']['clear']();const _0x1eb249=_0x4b8bda['length'];for(let _0x4eedc9=0x1f9b+0x132d*-0x1+-0x56*0x25;_0x4eedc9<_0x1eb249;_0x4eedc9++){const _0x5296a2=_0x4b8bda[_0x4eedc9]['renderActi'+'ons'];if(_0x5296a2){const _0x1302b2=_0x5296a2['length'];for(let _0x4b81c7=-0x12c4+-0x18*0xb3+-0x46*-0x82;_0x4b81c7<_0x1302b2;_0x4b81c7++){const _0x5178ab=_0x5296a2[_0x4b81c7];_0x5178ab['lightClust'+'ers']=null;const _0x55ccea=_0x5178ab['layer'];if(_0x55ccea['hasCluster'+'edLights']&&_0x55ccea['meshInstan'+'ces']['length']){const _0x284e88=_0x55ccea['getLightId'+'Hash'](),_0x320624=this['_clusters']['get'](_0x284e88);let _0x118152=_0x320624==null?void(0x1530+-0x1*-0x806+-0x1d36):_0x320624['lightClust'+'ers'];_0x118152||(_0x118152=cc['pop']()??new cu(this['device']),Ea['setName'](_0x118152,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x118152),this['_clusters']['set'](_0x284e88,_0x5178ab)),_0x5178ab['lightClust'+'ers']=_0x118152;}_0x5178ab['lightClust'+'ers']||(_0x5178ab['lightClust'+'ers']=_0x306408);}}}cc['forEach'](_0x4b0aea=>_0x4b0aea['destroy']()),cc['length']=0x1c26+0x2*0xdf6+0x1*-0x3812;}['update'](_0x247eb8,_0x45407c){this['assign'](_0x247eb8),this['_clusters']['forEach'](_0x4d368e=>{const _0x444d2c=_0x4d368e['layer'];_0x4d368e['lightClust'+'ers']['update'](_0x444d2c['clusteredL'+'ightsSet'],_0x45407c);});}}const rr=new re(),af=[];class pm extends ys{constructor(_0x3db7f1,_0x5bdd40){super(_0x3db7f1),h(this,'_quadRende'+'rer2D',null),h(this,'_quadRende'+'rerCube',null),h(this,'_filteredL'+'ights',[]),h(this,'_forceCopy',!(-0x2113+0xde*0x6+0x1be0)),h(this,'_evtDevice'+'Restored',null),(this['_cubeSlots'+'Offsets']=_0x5bdd40,this['requiresCu'+'bemaps']=!(0x814+0x1c5*0xb+-0x1b8a),this['blitTextur'+'eId']=_0x3db7f1['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x3db7f1['scope']['resolve']('invViewPro'+'j'),this['_evtDevice'+'Restored']=_0x3db7f1['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this));}['destroy'](){var _0x3d9321,_0x2aa7fd,_0x51deb6;(_0x3d9321=this['_quadRende'+'rer2D'])==null||_0x3d9321['destroy'](),this['_quadRende'+'rer2D']=null,(_0x2aa7fd=this['_quadRende'+'rerCube'])==null||_0x2aa7fd['destroy'](),this['_quadRende'+'rerCube']=null,(_0x51deb6=this['_evtDevice'+'Restored'])==null||_0x51deb6['off'](),this['_evtDevice'+'Restored']=null;}static['create'](_0x445e31,_0x2561b3){w['assert'](_0x445e31);const _0x58571f=new pm(_0x445e31['device'],_0x2561b3);return _0x58571f['init'](_0x445e31),_0x58571f['colorOps']['clear']=!(-0x521*-0x1+-0x190d*0x1+0x13ed),_0x58571f['depthStenc'+'ilOps']['clearDepth']=!(0x220d+-0x2*-0x6ed+-0x2fe6),_0x58571f;}['onDeviceRe'+'stored'](){this['_forceCopy']=!(0x154b+0x7b7+0x4f*-0x5e);}['update'](_0x39a7d4){const _0x3b8a6b=this['_filteredL'+'ights'];this['filter'](_0x39a7d4,_0x3b8a6b),this['executeEna'+'bled']=_0x3b8a6b['length']>0x1*-0x1c60+0xc5c+0x1004;}['filter'](_0x20572e,_0x4993f0){for(let _0x890ac4=0x2483+-0x8f8+-0x1b8b;_0x890ac4<_0x20572e['length'];_0x890ac4++){const _0x3f50c9=_0x20572e[_0x890ac4];_0x3f50c9['_type']!==ve&&_0x3f50c9['atlasViewp'+'ortAllocat'+'ed']&&(!_0x3f50c9['atlasSlotU'+'pdated']&&!this['_forceCopy']||_0x3f50c9['enabled']&&_0x3f50c9['cookie']&&_0x3f50c9['visibleThi'+'sFrame']&&_0x4993f0['push'](_0x3f50c9));}this['_forceCopy']=!(-0x35b*-0x2+-0xc33+0x57e);}['initInvVie'+'wProjMatri'+'ces'](){if(!af['length'])for(let _0x349ada=0x5*-0x358+0x4*-0x853+0x3204;_0x349ada<0xd72*-0x2+0x170e+0x26*0x1a;_0x349ada++){const _0x242968=Wn['create'](null,Ke,_0x349ada),_0x1ee7f1=_0x242968['projection'+'Matrix'],_0x71f6f9=_0x242968['node']['getLocalTr'+'ansform']()['clone']()['invert']();af[_0x349ada]=new te()['mul2'](_0x1ee7f1,_0x71f6f9)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x2f078=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'erer2d','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'2DPS'});this['_quadRende'+'rer2D']=new Ah(_0x2f078);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x48c0a=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'ererCube','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'CubePS'});this['_quadRende'+'rerCube']=new Ah(_0x48c0a);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x55e1ea=this['device'];_0x55e1ea['setBlendSt'+'ate'](pt['NOBLEND']),_0x55e1ea['setCullMod'+'e'](bt),_0x55e1ea['setDepthSt'+'ate'](Yt['NODEPTH']),_0x55e1ea['setStencil'+'State']();const _0x5c5c85=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x4280aa=this['_cubeSlots'+'Offsets'],_0x5ddaf2=this['_filteredL'+'ights'];for(let _0x48a5d7=-0x3e*0x82+0x5*-0x789+0x4529*0x1;_0x48a5d7<_0x5ddaf2['length'];_0x48a5d7++){const _0x7c6f14=_0x5ddaf2[_0x48a5d7];Q['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x7c6f14['_node']['name']);const _0x315e60=_0x7c6f14['numShadowF'+'aces'],_0x457082=_0x315e60>0x3ad+-0x16cc*0x1+0x1320?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x315e60>0x23af+0x5*0x326+-0x6*0x892&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x7c6f14['cookie']);for(let _0x4a5e18=0x2*0x343+0x567*0x3+0x16bb*-0x1;_0x4a5e18<_0x315e60;_0x4a5e18++){if(rr['copy'](_0x7c6f14['atlasViewp'+'ort']),_0x315e60>-0xf27+0x1*0x475+0x391*0x3){const _0x30f088=rr['z']/(0x1*0x1835+-0x2*-0x305+-0x1e3c),_0x18199f=_0x4280aa[_0x4a5e18];rr['x']+=_0x30f088*_0x18199f['x'],rr['y']+=_0x30f088*_0x18199f['y'],rr['z']=_0x30f088,rr['w']=_0x30f088,this['invViewPro'+'jId']['setValue'](af[_0x4a5e18]['data']);}rr['mulScalar'](_0x5c5c85),_0x457082['render'](rr);}Q['popGpuMark'+'er'](_0x55e1ea);}_0x5ddaf2['length']=0x552+-0x1*0x1c0c+0x16ba*0x1;}}class Vb extends ys{constructor(_0x5ee941,_0xf3820d,_0x1cc924){super(_0x5ee941),this['requiresCu'+'bemaps']=!(-0x18a*0xd+0x216e+-0xf*0xe5),this['shadowRend'+'erer']=_0xf3820d,this['shadowRend'+'ererLocal']=_0x1cc924;}['update'](_0xd87704){const _0x3d3c69=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x387ac2=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0x3d3c69,_0xd87704),_0x22ee52=_0x3d3c69['length'];this['enabled']=_0x22ee52>0x17a+-0x19*-0xb1+-0x3*0x641,_0x22ee52&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x387ac2,!(-0x1*-0x1f0f+0x5f*-0x6+-0x1cd4));}['execute'](){const _0x47b71a=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x553140=_0x47b71a['length'];for(let _0x3929a0=-0xe51+-0x17dd+0x262e;_0x3929a0<_0x553140;_0x3929a0++){const _0x39ca9e=_0x47b71a[_0x3929a0];for(let _0x2614f0=0xe1*0x7+0x21f*0xd+-0x21ba;_0x2614f0<_0x39ca9e['numShadowF'+'aces'];_0x2614f0++)this['shadowRend'+'erer']['renderFace'](_0x39ca9e,null,_0x2614f0,!(-0x1*-0x25f+0x1*0xf6+-0x355));}_0x47b71a['length']=-0x1b*-0x43+0x202+-0x913;}}class Gb extends ys{constructor(_0x1d86f2,_0x5b6bd8,_0x2ab3ab,_0x2cd71e,_0x369813){super(_0x1d86f2),this['renderer']=_0x5b6bd8,this['frameGraph']=null,this['cookiesRen'+'derPass']=pm['create'](_0x369813['cookieRend'+'erTarget'],_0x369813['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new Vb(_0x1d86f2,_0x2ab3ab,_0x2cd71e),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x1a72fb,_0x296a3a,_0x4addf2,_0x3b1b0d,_0x2c877f){this['frameGraph']=_0x1a72fb,this['cookiesRen'+'derPass']['enabled']=_0x4addf2,_0x4addf2&&this['cookiesRen'+'derPass']['update'](_0x3b1b0d),this['shadowRend'+'erPass']['enabled']=_0x296a3a,_0x296a3a&&this['shadowRend'+'erPass']['update'](_0x2c877f);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0x2006a7=de(),{renderer:_0x2bbf37}=this,{scene:_0x283e31}=_0x2bbf37;_0x2bbf37['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x283e31['lighting']),_0x2bbf37['_lightClus'+'tersTime']+=de()-_0x2006a7,_0x2bbf37['_lightClus'+'ters']=_0x2bbf37['worldClust'+'ersAllocat'+'or']['count'];}}let nf=-0x1d0a+-0x211*0xc+-0x2*-0x1aeb;const ar=new te(),nr=new te(),Oa=new te(),q_=new _i(),of=new sp(),j_=new te()['setScale'](0x1c6d*0x1+0x1be8+-0x3854,-(0x1102+-0x1*-0x3b+-0x113c),0x107*0x19+0x10d1+0xb*-0x3dd),lf=new Set(),cf=new Set(),hf=new ky(),Y_=new te()['set']([0x2*0xb66+-0x19b*-0x13+0x2f6*-0x12,-0x1154+-0x327+-0x31*-0x6b,-0x1e94+-0x21c3+-0x7*-0x931,-0x1*-0x257f+-0x8b7*-0x1+0xb6*-0x41,-0x1f40+0x20fa+-0x1ba,-0x225b+0x1e13*-0x1+-0x406f*-0x1,-0x6d9+-0x11*0xa+0x783,0x1ca8+0x103f+-0x25d*0x13,0x3bc+0x2*-0x403+0x2*0x225,-0x3aa*-0x8+0x194e+0x1*-0x369e,-0x12b*0x13+0x3*-0x6ad+0x2a38+0.5,-0x1769+-0x2140+0x5*0xb55,0x2157+0x18b0+-0x5*0xb9b,0xb*0x19b+-0x18e*0x19+0x1535,-0x1ab5+0x1*-0x25ba+0x406f*0x1+0.5,-0xbad*-0x1+0xbc*0xe+-0x15f4]),K_=[new J(-0x2f4+0x177*0x19+-0x1fb*0x11+0.5,-0x1955+0x656*-0x4+0x32ad*0x1+0.333333),new J(-0x1b2d+-0x22db*0x1+0xf82*0x4+0.25,0x10c5*-0x1+-0x2*0x439+0x1937+0.666667),new J(-0x29f+-0x1*0x1177+0x1416+0.75,0x1f1e+-0xcd5+-0x1249+0.111111),new J(-0x1*0xf2c+0x1324+-0x3f8+0.125,0x1*-0x59c+0x148*0x2+-0xc*-0x41+0.444444),new J(-0x1d*0x11c+0x430*0x1+0x1bfc+0.625,0x2590+-0x1*-0x17fa+0x2*-0x1ec5+0.777778),new J(-0x1255+0xd34*0x1+0x521+0.375,-0x1*0xeab+0x1250+-0x3a5+0.222222),new J(-0x1127*0x1+0x88c*-0x3+0x2acb+0.875,0x19fa+0x2407+-0x1e1*0x21+0.555556),new J(-0x12ff+0x1*0x1124+-0x1db*-0x1+0.0625,-0x1844+-0x1c4e+0x8c3*0x6+0.888889),new J(-0x282*0xe+-0x7a*-0x2c+-0x389*-0x4+0.5625,0x18*-0x13+-0x180b+0x19d3+0.037037),new J(-0xce2+0xa1e+0x2c4+0.3125,0x4*0x1eb+0x28*0x92+-0x1e7c+0.37037),new J(-0x24*0xde+-0x9e9*-0x1+-0x443*-0x5+0.8125,0x599*-0x3+0x1c16+0xb4b*-0x1+0.703704),new J(-0x49*-0x1a+0x1f07+-0x2671+0.1875,0x1851+-0x209*-0xf+-0x36d8+0.148148),new J(0x5d*-0xb+0xce2*-0x2+0x191*0x13+0.6875,-0x4e*0x1f+-0xe27*0x1+-0x7*-0x35f+0.481481),new J(-0x8b*-0x1b+-0x1563+-0x52*-0x15+0.4375,-0xf28+-0x25f4*-0x1+-0x16cc+0.814815),new J(-0x75c+-0x1*-0x1db3+0x13*-0x12d+0.9375,-0x1a*-0xde+-0x1*0x233+0x1*-0x1459+0.259259),new J(-0x1d03+0xa*0xc8+-0x1b*-0xc9+0.03125,0x1*-0x20f+0x1f78+-0x1*0x1d69+0.592593)],Hb=new te(),Wb=new te(),$b=new te(),Xb=new te(),qb=new te(),jb=new te(),Fa=new Set(),df=[],ff=[];class Yb{constructor(_0x32abdd){h(this,'clustersDe'+'bugRendere'+'d',!(0x1503+0x6b5*-0x2+-0x798)),h(this,'processing'+'MeshInstan'+'ces',new Set()),h(this,'worldClust'+'ersAllocat'+'or'),h(this,'lights',[]),h(this,'localLight'+'s',[]),h(this,'cameraDirS'+'hadowLight'+'s',new Map()),h(this,'dirLightSh'+'adows',new Map()),h(this,'blueNoise',new wb(-0x1f*-0x13f+0x1753+0x3d79*-0x1)),(this['device']=_0x32abdd,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new zb(_0x32abdd),this['lightTextu'+'reAtlas']=new Ib(_0x32abdd),this['shadowMapC'+'ache']=new Lb(),this['shadowRend'+'erer']=new Cv(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new Ob(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new kb(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new Gb(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=-0x9e*0x23+0x1*-0xde7+0x1*0x2381,this['_morphTime']=0x20df+0x2076+-0x4155,this['_cullTime']=0x5d5*-0x5+-0x231e+0x4047,this['_shadowMap'+'Time']=0x1f*-0x1+-0x43*0x1b+0x730,this['_lightClus'+'tersTime']=0x2*0xe6b+0x1*0x134b+-0x3021,this['_layerComp'+'ositionUpd'+'ateTime']=-0x267b*0x1+0x1*-0x14d0+0x3b4b,this['_shadowDra'+'wCalls']=-0x2*0x446+-0x1495+0x1d21,this['_skinDrawC'+'alls']=0x4a0+0x1cf8+0x4*-0x866,this['_instanced'+'DrawCalls']=-0xf3b+0x1ae6+-0xbab*0x1,this['_shadowMap'+'Updates']=-0x5*0x658+-0x55*-0x17+0x4d1*0x5,this['_numDrawCa'+'llsCulled']=-0x1*0x1007+-0x19*0xe1+0x2600,this['_camerasRe'+'ndered']=0x215*0x2+-0x1538+-0x1*-0x110e,this['_lightClus'+'ters']=0x2bd+0x18cb+-0x1b88);const _0x58e453=_0x32abdd['scope'];this['boneTextur'+'eId']=_0x58e453['resolve']('texture_po'+'seMap'),this['modelMatri'+'xId']=_0x58e453['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x58e453['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x58e453['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(0x13*0x3+-0xfec*-0x2+-0x200e*0x1),this['viewPosId']=_0x58e453['resolve']('view_posit'+'ion'),this['projId']=_0x58e453['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x58e453['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x58e453['resolve']('matrix_vie'+'w'),this['viewId3']=_0x58e453['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x58e453['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x58e453['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x58e453['resolve']('tbnBasis'),this['nearClipId']=_0x58e453['resolve']('camera_nea'+'r'),this['farClipId']=_0x58e453['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(-0x1aa2+0x13*0xef+-0x1*-0x8e9),this['cameraPara'+'msId']=_0x58e453['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x58e453['resolve']('view_index'),this['viewIndexI'+'d']['setValue'](-0x177f+-0x265c+0x3ddb),this['blueNoiseJ'+'itterVersi'+'on']=-0x2cc*0x5+-0x1a21*-0x1+-0xc25*0x1,this['blueNoiseJ'+'itterVec']=new re(),this['blueNoiseJ'+'itterData']=new Float32Array(0x12e7*0x2+-0x3*0xb5+0x23ab*-0x1),this['blueNoiseJ'+'itterId']=_0x58e453['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x58e453['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x58e453['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x58e453['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x58e453['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x58e453['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](0x1ca*-0x2+0x2f*-0x89+-0x5*-0x5bf),this['morphPosit'+'ionTex']=_0x58e453['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x58e453['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x58e453['resolve']('morph_tex_'+'params'),this['lightCube']=new bb(),this['constantLi'+'ghtCube']=_0x58e453['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['setupViewp'+'ort'](_0xdef3cb,_0x40250f){const _0x18e7b7=this['device'],_0x20133e=_0x40250f?_0x40250f['width']:_0x18e7b7['width'],_0x852fe0=_0x40250f?_0x40250f['height']:_0x18e7b7['height'],_0x2fd977=_0xdef3cb['rect'];let _0x1baf55=Math['floor'](_0x2fd977['x']*_0x20133e),_0x41fb26=Math['floor'](_0x2fd977['y']*_0x852fe0),_0x331c30=Math['floor'](_0x2fd977['z']*_0x20133e),_0x5056cf=Math['floor'](_0x2fd977['w']*_0x852fe0);if(_0x18e7b7['setViewpor'+'t'](_0x1baf55,_0x41fb26,_0x331c30,_0x5056cf),_0xdef3cb['_scissorRe'+'ctClear']){const _0x32b47d=_0xdef3cb['scissorRec'+'t'];_0x1baf55=Math['floor'](_0x32b47d['x']*_0x20133e),_0x41fb26=Math['floor'](_0x32b47d['y']*_0x852fe0),_0x331c30=Math['floor'](_0x32b47d['z']*_0x20133e),_0x5056cf=Math['floor'](_0x32b47d['w']*_0x852fe0);}_0x18e7b7['setScissor'](_0x1baf55,_0x41fb26,_0x331c30,_0x5056cf);}['setCameraU'+'niforms'](_0x9e7f60,_0x49368a){var _0x74a79f,_0x4b5a41;const _0x55f8c1=_0x49368a==null?void(-0x1e*-0x19+0x14d8+-0x22*0xb3):_0x49368a['flipY'];let _0x2ba448=null;if(_0x9e7f60['xr']&&_0x9e7f60['xr']['session']){const _0x473dd3=((_0x4b5a41=(_0x74a79f=_0x9e7f60['_node'])==null?void(-0x52a+-0xded+0x65d*0x3):_0x74a79f['parent'])==null?void(0xded+-0x18f0+0xb03):_0x4b5a41['getWorldTr'+'ansform']())||null;_0x2ba448=_0x9e7f60['xr']['views']['list'];for(let _0x3de0d7=0x6a*0x32+0x8bf*0x1+0x7*-0x435;_0x3de0d7<_0x2ba448['length'];_0x3de0d7++){const _0x1627b8=_0x2ba448[_0x3de0d7];_0x1627b8['updateTran'+'sforms'](_0x473dd3),_0x9e7f60['frustum']['setFromMat'+'4'](_0x1627b8['projViewOf'+'fMat']);}}else{let _0x1dfab8=_0x9e7f60['projection'+'Matrix'];_0x9e7f60['calculateP'+'rojection']&&_0x9e7f60['calculateP'+'rojection'](_0x1dfab8,ec);let _0x3c0370=_0x9e7f60['getProject'+'ionMatrixS'+'kybox']();_0x55f8c1&&(_0x1dfab8=Hb['mul2'](j_,_0x1dfab8),_0x3c0370=Wb['mul2'](j_,_0x3c0370)),this['device']['isWebGPU']&&(_0x1dfab8=$b['mul2'](Y_,_0x1dfab8),_0x3c0370=Xb['mul2'](Y_,_0x3c0370));const {jitter:_0x13baed}=_0x9e7f60;let _0x3cf8ef=-0x1e49+0x1de1*0x1+0x34*0x2,_0x4ebab1=-0x581+0x1*-0x2069+0x1a6*0x17;if(_0x13baed>0x18a7*-0x1+0x3a6+0x13*0x11b){const _0x27cdee=_0x49368a?_0x49368a['width']:this['device']['width'],_0x7c8fab=_0x49368a?_0x49368a['height']:this['device']['height'],_0x2e4c03=K_[this['device']['renderVers'+'ion']%K_['length']];_0x3cf8ef=_0x13baed*(_0x2e4c03['x']*(-0x195e*0x1+-0x3a9*0x7+0x5*0xa33)-(0xfc+0x75e+-0x859))/_0x27cdee,_0x4ebab1=_0x13baed*(_0x2e4c03['y']*(0xda1+0x157*0xb+-0x1c5c)-(0x1c6b+0x1*-0x1d6c+0x3*0x56))/_0x7c8fab,_0x1dfab8=qb['copy'](_0x1dfab8),_0x1dfab8['data'][0x124*0x22+-0x16d1+-0x1*0xfef]=_0x3cf8ef,_0x1dfab8['data'][-0x2143+0x6d1+-0x1a7b*-0x1]=_0x4ebab1,_0x3c0370=jb['copy'](_0x3c0370),_0x3c0370['data'][-0xe*0xca+0x26e0+-0x1bcc]=_0x3cf8ef,_0x3c0370['data'][-0xba9+-0xfad*0x1+-0x21b*-0xd]=_0x4ebab1,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x2c89d5=_0x13baed>0x5*0x799+0x8c5*0x3+-0x1*0x404c?this['blueNoiseJ'+'itterVec']:re['ZERO'];if(this['blueNoiseJ'+'itterData'][0x1a8d+0x17f6+0xc1*-0x43]=_0x2c89d5['x'],this['blueNoiseJ'+'itterData'][0x6f+0x11c2+-0x1230]=_0x2c89d5['y'],this['blueNoiseJ'+'itterData'][-0x14dd+-0x3e1+0x18c0]=_0x2c89d5['z'],this['blueNoiseJ'+'itterData'][-0x267e+-0x1f6+0xd7d*0x3]=_0x2c89d5['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x1dfab8['data']),this['projSkybox'+'Id']['setValue'](_0x3c0370['data']),_0x9e7f60['calculateT'+'ransform'])_0x9e7f60['calculateT'+'ransform'](nr,ec);else{const _0x5b3227=_0x9e7f60['_node']['getPositio'+'n'](),_0x484664=_0x9e7f60['_node']['getRotatio'+'n']();nr['setTRS'](_0x5b3227,_0x484664,D['ONE']);}this['viewInvId']['setValue'](nr['data']),Oa['copy'](nr)['invert'](),this['viewId']['setValue'](Oa['data']),q_['setFromMat'+'4'](Oa),this['viewId3']['setValue'](q_['data']),ar['mul2'](_0x1dfab8,Oa),this['viewProjId']['setValue'](ar['data']),_0x9e7f60['_storeShad'+'erMatrices'](ar,_0x3cf8ef,_0x4ebab1,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x55f8c1?-(-0x20d6+-0xa4*0x3+0x22c3):-0x1*-0x19ee+-0x4*-0xe8+-0x1bd*0x11),this['dispatchVi'+'ewPos'](_0x9e7f60['_node']['getPositio'+'n']()),_0x9e7f60['frustum']['setFromMat'+'4'](ar);}this['tbnBasis']['setValue'](_0x55f8c1?-(0x23*-0x11+0x47*-0x39+0x1223):-0x18b*0xa+-0x11*-0x2e+0xc61);const _0x581364=_0x9e7f60['_nearClip'],_0x4b527d=_0x9e7f60['_farClip'];return this['nearClipId']['setValue'](_0x581364),this['farClipId']['setValue'](_0x4b527d),this['cameraPara'+'ms'][-0x18ef*-0x1+-0x17a8+-0x147*0x1]=(0x2529+0x125*-0x15+0x1*-0xd1f)/_0x4b527d,this['cameraPara'+'ms'][0x6c*-0xd+0x2*-0x379+-0xc6f*-0x1]=_0x4b527d,this['cameraPara'+'ms'][-0x3d0+0x10bd+-0x1*0xceb]=_0x581364,this['cameraPara'+'ms'][0x5+-0x18e0+-0x425*-0x6]=_0x9e7f60['projection']===En?0x1528+-0x13ad+-0x17a:-0x4b5*-0x2+0x221b+-0xd*0x359,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x9e7f60['getExposur'+'e']():this['scene']['exposure']),_0x2ba448;}['clear'](_0x1c55e7,_0x559753,_0x3cc87c,_0x537f4d){const _0x1121b3=(_0x559753??_0x1c55e7['_clearColo'+'rBuffer']?jo:0x43b+0x39*0xa6+-0x2931)|(_0x3cc87c??_0x1c55e7['_clearDept'+'hBuffer']?Yo:0x1a51*-0x1+-0x9f5+-0x2*-0x1223)|(_0x537f4d??_0x1c55e7['_clearSten'+'cilBuffer']?ch:0x66*0x24+0x11f8+-0x4*0x814);if(_0x1121b3){const _0x320f83=this['device'];Q['pushGpuMar'+'ker'](_0x320f83,'CLEAR'),_0x320f83['clear']({'color':[_0x1c55e7['_clearColo'+'r']['r'],_0x1c55e7['_clearColo'+'r']['g'],_0x1c55e7['_clearColo'+'r']['b'],_0x1c55e7['_clearColo'+'r']['a']],'depth':_0x1c55e7['_clearDept'+'h'],'stencil':_0x1c55e7['_clearSten'+'cil'],'flags':_0x1121b3}),Q['popGpuMark'+'er'](_0x320f83);}}['setCamera'](_0x32f05a,_0x26e025,_0x25c60a,_0xb0cc65=null){this['setCameraU'+'niforms'](_0x32f05a,_0x26e025),this['clearView'](_0x32f05a,_0x26e025,_0x25c60a,!(-0x839*-0x1+-0x78*0x18+0x1*0x308));}['clearView'](_0x1b7374,_0x856133,_0xa20eb2,_0x5b4a28){const _0x1f11b9=this['device'];if(Q['pushGpuMar'+'ker'](_0x1f11b9,'CLEAR-VIEW'),_0x1f11b9['setRenderT'+'arget'](_0x856133),_0x1f11b9['updateBegi'+'n'](),_0x5b4a28&&(_0x1f11b9['setColorWr'+'ite'](!(-0x24be+-0x269*-0xe+-0x30*-0x10),!(-0x1a*0x29+0x8*0x345+-0x15fe*0x1),!(-0x20fa+0x11ea+0x1e2*0x8),!(-0x849+-0x5*0x4ef+0x6*0x57e)),_0x1f11b9['setDepthWr'+'ite'](!(-0x414+0x138*0x1e+-0x207c))),this['setupViewp'+'ort'](_0x1b7374,_0x856133),_0xa20eb2){const _0x242a5f=_0x1b7374['_clearOpti'+'ons'];_0x1f11b9['clear'](_0x242a5f||{'color':[_0x1b7374['_clearColo'+'r']['r'],_0x1b7374['_clearColo'+'r']['g'],_0x1b7374['_clearColo'+'r']['b'],_0x1b7374['_clearColo'+'r']['a']],'depth':_0x1b7374['_clearDept'+'h'],'flags':(_0x1b7374['_clearColo'+'rBuffer']?jo:-0x17*-0x7+0x1faf+-0x2050)|(_0x1b7374['_clearDept'+'hBuffer']?Yo:0x596+-0x2*0xcd3+0x1410)|(_0x1b7374['_clearSten'+'cilBuffer']?ch:-0x1069+0x42d*-0x5+-0x3*-0xc6e),'stencil':_0x1b7374['_clearSten'+'cil']});}Q['popGpuMark'+'er'](_0x1f11b9);}['setupCullM'+'ode'](_0x52a574,_0x211dc5,_0x11b987){const _0x2562d5=_0x11b987['material'];let _0x8d611d=bt;if(_0x52a574){let _0x5a6979=-0x1e9e+0x91d+0x1582;(_0x2562d5['cull']===Fo||_0x2562d5['cull']===pa)&&(_0x5a6979=_0x211dc5*_0x11b987['flipFacesF'+'actor']*_0x11b987['node']['worldScale'+'Sign']),_0x5a6979<-0x5*-0x49d+-0x71*-0x1a+-0x228b?_0x8d611d=_0x2562d5['cull']===Fo?pa:Fo:_0x8d611d=_0x2562d5['cull'];}this['device']['setCullMod'+'e'](_0x8d611d),_0x8d611d===bt&&_0x2562d5['cull']===bt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0x11b987['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x241715){if(_0x241715['xr']&&_0x241715['xr']['views']['list']['length']){const _0x2dbf00=_0x241715['xr']['views']['list'][0x7bb+-0xef1+0xd*0x8e];ar['mul2'](_0x2dbf00['projMat'],_0x2dbf00['viewOffMat']),_0x241715['frustum']['setFromMat'+'4'](ar);return;}const _0x4cfc32=_0x241715['projection'+'Matrix'];if(_0x241715['calculateP'+'rojection']&&_0x241715['calculateP'+'rojection'](_0x4cfc32,ec),_0x241715['calculateT'+'ransform'])_0x241715['calculateT'+'ransform'](nr,ec);else{const _0x3885ba=_0x241715['_node']['getPositio'+'n'](),_0x20aaed=_0x241715['_node']['getRotatio'+'n']();nr['setTRS'](_0x3885ba,_0x20aaed,D['ONE']),this['viewInvId']['setValue'](nr['data']);}Oa['copy'](nr)['invert'](),ar['mul2'](_0x4cfc32,Oa),_0x241715['frustum']['setFromMat'+'4'](ar);}['setBaseCon'+'stants'](_0x35b055,_0x4e2347){_0x35b055['setCullMod'+'e'](_0x4e2347['cull']),_0x4e2347['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x4e2347['opacityMap']),(_0x4e2347['opacityMap']||_0x4e2347['alphaTest']>-0x118+-0x1252+0x136a)&&this['alphaTestI'+'d']['setValue'](_0x4e2347['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x5b3b4e){nf++;const _0x5d878f=_0x5b3b4e['length'];if(_0x5d878f===-0xa88+0xc5*-0x19+0x1dc5)return;const _0x5cf276=de();for(let _0x2b8b38=-0xa7d+-0x21e4+-0x1*-0x2c61;_0x2b8b38<_0x5d878f;_0x2b8b38++){const _0x4027e9=_0x5b3b4e[_0x2b8b38]['skinInstan'+'ce'];_0x4027e9&&(_0x4027e9['updateMatr'+'ices'](_0x5b3b4e[_0x2b8b38]['node'],nf),_0x4027e9['_dirty']=!(-0x21e8+-0x499+0x2681));}this['_skinTime']+=de()-_0x5cf276;}['updateGpuS'+'kinMatrice'+'s'](_0x489bdf){const _0xace9a7=de();for(const _0x586d71 of _0x489bdf){const _0x5b521a=_0x586d71['skinInstan'+'ce'];_0x5b521a&&_0x5b521a['_dirty']&&(_0x5b521a['updateMatr'+'ixPalette'](_0x586d71['node'],nf),_0x5b521a['_dirty']=!(-0x1*-0x76+0x1*0x1e9a+0x1*-0x1f0f));}this['_skinTime']+=de()-_0xace9a7;}['updateMorp'+'hing'](_0xe79c02){const _0x15c0d6=de();for(const _0x3e09c3 of _0xe79c02){const _0x322a80=_0x3e09c3['morphInsta'+'nce'];_0x322a80&&_0x322a80['_dirty']&&_0x322a80['update']();}this['_morphTime']+=de()-_0x15c0d6;}['updateGSpl'+'ats'](_0x3ed5e0){var _0x48ba4e;for(const _0x22a805 of _0x3ed5e0)(_0x48ba4e=_0x22a805['gsplatInst'+'ance'])==null||_0x48ba4e['update']();}['gpuUpdate'](_0x2fa2fe){this['updateGpuS'+'kinMatrice'+'s'](_0x2fa2fe),this['updateMorp'+'hing'](_0x2fa2fe),this['updateGSpl'+'ats'](_0x2fa2fe);}['setVertexB'+'uffers'](_0xc3272a,_0x2c81b2){_0xc3272a['setVertexB'+'uffer'](_0x2c81b2['vertexBuff'+'er']);}['setMorphin'+'g'](_0x5d29b5,_0x2c72d5){_0x2c72d5&&(_0x2c72d5['prepareRen'+'dering'](_0x5d29b5),_0x5d29b5['setVertexB'+'uffer'](_0x2c72d5['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x2c72d5['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x2c72d5['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x2c72d5['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x2c1e69,_0x39b3d3){const _0x28c1f0=_0x39b3d3['skinInstan'+'ce'];if(_0x28c1f0){this['_skinDrawC'+'alls']++;const _0x3fe6be=_0x28c1f0['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x3fe6be);}}['dispatchVi'+'ewPos'](_0x52ecb7){const _0x493f62=this['viewPos'];_0x493f62[-0x23f4+-0x1129*0x1+0x351d]=_0x52ecb7['x'],_0x493f62[0x2141*0x1+-0x15c4+-0xb7c]=_0x52ecb7['y'],_0x493f62[-0x1bf+0x6b*0x24+-0x29*0x53]=_0x52ecb7['z'],this['viewPosId']['setValue'](_0x493f62);}['initViewBi'+'ndGroupFor'+'mat'](_0x50faaa){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x4222ff=[new dt('matrix_vie'+'w',li),new dt('matrix_vie'+'wInverse',li),new dt('matrix_pro'+'jection',li),new dt('matrix_pro'+'jectionSky'+'box',li),new dt('matrix_vie'+'wProjectio'+'n',li),new dt('matrix_vie'+'w3',On),new dt('cubeMapRot'+'ationMatri'+'x',On),new dt('view_posit'+'ion',ds),new dt('skyboxInte'+'nsity',Xs),new dt('exposure',Xs),new dt('textureBia'+'s',Xs),new dt('view_index',Xs)];_0x50faaa&&_0x4222ff['push'](new dt('clusterCel'+'lsCountByB'+'oundsSize',ds),new dt('clusterTex'+'tureSize',ds),new dt('clusterBou'+'ndsMin',ds),new dt('clusterBou'+'ndsDelta',ds),new dt('clusterCel'+'lsDot',ds),new dt('clusterCel'+'lsMax',ds),new dt('shadowAtla'+'sParams',ga),new dt('clusterMax'+'Cells',_a),new dt('clusterSki'+'p',Xs)),this['viewUnifor'+'mFormat']=new zy(this['device'],_0x4222ff);const _0x59fc92=[new kp(Np,Fp|by)];this['viewBindGr'+'oupFormat']=new Ny(this['device'],_0x59fc92);}}['setupViewU'+'niforms'](_0x3140fe,_0x695f77){this['projId']['setValue'](_0x3140fe['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x3140fe['projMat']['data']),this['viewId']['setValue'](_0x3140fe['viewOffMat']['data']),this['viewInvId']['setValue'](_0x3140fe['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x3140fe['viewMat3']['data']),this['viewProjId']['setValue'](_0x3140fe['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x3140fe['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x695f77);}['setupViewU'+'niformBuff'+'ers'](_0x3262ae,_0x38260a,_0x1cda24,_0x20bc1d){w['assert'](Array['isArray'](_0x3262ae),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const {device:_0x1418e4}=this,_0xf75495=(_0x20bc1d==null?void(-0x2*0x614+-0x13*0x17f+0x2895):_0x20bc1d['length'])??-0x6b9+0x16ec+-0x1032;for(;_0x3262ae['length']<_0xf75495;){const _0x314c2c=new zp(_0x1418e4,_0x38260a,!(-0x1a40+-0x1a78+-0x4cb*-0xb)),_0x231477=new Up(_0x1418e4,_0x1cda24,_0x314c2c);Ea['setName'](_0x231477,'ViewBindGr'+'oup_'+_0x231477['id']),_0x3262ae['push'](_0x231477);}if(_0x20bc1d)for(let _0x31adce=0x32f*-0x4+0x8ba*-0x1+0x1576;_0x31adce<_0xf75495;_0x31adce++){const _0x34c4e1=_0x20bc1d[_0x31adce];this['setupViewU'+'niforms'](_0x34c4e1,_0x31adce);const _0x5172a1=_0x3262ae[_0x31adce];_0x5172a1['defaultUni'+'formBuffer']['update'](),_0x5172a1['update']();}else{const _0x5477ae=_0x3262ae[0x1e0d*-0x1+0x53*-0x6+-0x1*-0x1fff];_0x5477ae['defaultUni'+'formBuffer']['update'](),_0x5477ae['update']();}_0x20bc1d||_0x1418e4['setBindGro'+'up'](rl,_0x3262ae[0x1*0x1f29+0x1e92+-0x3dbb]);}['setupMeshU'+'niformBuff'+'ers'](_0x482ac2){const _0x3b1f01=this['device'];if(_0x3b1f01['supportsUn'+'iformBuffe'+'rs']){const _0xea63a2=_0x482ac2['getBindGro'+'up'](_0x3b1f01);_0xea63a2['update'](),_0x3b1f01['setBindGro'+'up'](Oy,_0xea63a2),_0x482ac2['getUniform'+'Buffer'](_0x3b1f01)['update'](hf),_0x3b1f01['setBindGro'+'up'](su,hf['bindGroup'],hf['offsets']);}}['setMeshIns'+'tanceMatri'+'ces'](_0x51a134,_0x2e0a06=!(0xd6a+0x233b+-0x30a4)){const _0x20fc5b=_0x51a134['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x20fc5b['data']),_0x2e0a06&&this['normalMatr'+'ixId']['setValue'](_0x51a134['node']['normalMatr'+'ix']['data']);}['cull'](_0x10c220,_0x50a12a,_0x25af26){const _0x4a3358=de(),_0x155dca=_0x25af26['opaque'];_0x155dca['length']=-0x1*-0x1084+-0x1*-0xaa9+-0x9*0x305;const _0x4cf8e2=_0x25af26['transparen'+'t'];_0x4cf8e2['length']=-0x22*0x8f+-0xc2*0x8+0x190e;const _0x350b63=_0x10c220['frustumCul'+'ling'],_0xa6ab44=_0x50a12a['length'];for(let _0x49f482=-0x78b*0x3+0x2f1+0x54*0x3c;_0x49f482<_0xa6ab44;_0x49f482++){const _0x5a96a6=_0x50a12a[_0x49f482];_0x5a96a6['visible']&&(!_0x350b63||!_0x5a96a6['cull']||_0x5a96a6['_isVisible'](_0x10c220))&&(_0x5a96a6['visibleThi'+'sFrame']=!(0x71f*0x1+0x2e3*0x1+0x16e*-0x7),(_0x5a96a6['transparen'+'t']?_0x4cf8e2:_0x155dca)['push'](_0x5a96a6),(_0x5a96a6['skinInstan'+'ce']||_0x5a96a6['morphInsta'+'nce']||_0x5a96a6['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x5a96a6),_0x5a96a6['gsplatInst'+'ance']&&_0x5a96a6['gsplatInst'+'ance']['cameras']['push'](_0x10c220)));}this['_cullTime']+=de()-_0x4a3358,this['_numDrawCa'+'llsCulled']+=_0x350b63?_0xa6ab44:-0x252e+0x3b7+0xd*0x293;}['collectLig'+'hts'](_0x575680){this['lights']['length']=0x579*0x1+0x205b+0x12*-0x21a,this['localLight'+'s']['length']=-0xc94+0x1efa*-0x1+0x2b8e;const _0x26a1f3=this['scene']['_stats'];_0x26a1f3['dynamicLig'+'hts']=0x3*0xd0+0x1957+-0x1bc7,_0x26a1f3['bakedLight'+'s']=-0x2401+0x6f*0x25+-0x9fb*-0x2;const _0x1cd4db=_0x575680['layerList']['length'];for(let _0x411828=0x7f6+0x1695+-0x7*0x45d;_0x411828<_0x1cd4db;_0x411828++){const _0x1d70f8=_0x575680['layerList'][_0x411828];if(!cf['has'](_0x1d70f8)){cf['add'](_0x1d70f8);const _0x2d06f4=_0x1d70f8['_lights'];for(let _0x5327a5=-0xe81*0x1+-0x19*-0x51+0x4*0x1a6;_0x5327a5<_0x2d06f4['length'];_0x5327a5++){const _0x129998=_0x2d06f4[_0x5327a5];lf['has'](_0x129998)||(lf['add'](_0x129998),this['lights']['push'](_0x129998),_0x129998['_type']!==ve&&this['localLight'+'s']['push'](_0x129998),(_0x129998['mask']&Ss||_0x129998['mask']&di)&&_0x26a1f3['dynamicLig'+'hts']++,_0x129998['mask']&fi&&_0x26a1f3['bakedLight'+'s']++);}}}_0x26a1f3['lights']=this['lights']['length'],lf['clear'](),cf['clear']();}['cullLights'](_0x1324c6,_0x3320b5){const _0x2da583=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x13f011=this['scene']['physicalUn'+'its'];for(let _0x3adfbe=0x1*-0x1da+0x3*0xc0a+-0xb6c*0x3;_0x3adfbe<_0x3320b5['length'];_0x3adfbe++){const _0x18543d=_0x3320b5[_0x3adfbe];if(_0x18543d['enabled']){if(_0x18543d['_type']!==ve){if(_0x18543d['getBoundin'+'gSphere'](of),_0x1324c6['frustum']['containsSp'+'here'](of)){_0x18543d['visibleThi'+'sFrame']=!(0x36e*0x9+0x1a2d+-0x390b),_0x18543d['usePhysica'+'lUnits']=_0x13f011;const _0x528123=_0x1324c6['getScreenS'+'ize'](of);_0x18543d['maxScreenS'+'ize']=Math['max'](_0x18543d['maxScreenS'+'ize'],_0x528123);}else _0x2da583||_0x18543d['castShadow'+'s']&&!_0x18543d['shadowMap']&&(_0x18543d['visibleThi'+'sFrame']=!(-0xb5*0x10+0x19*0xc9+-0x851));}else _0x18543d['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x179115){const _0x886a9=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x289cdf=0xdac+0x31*0x47+-0x1b43;_0x289cdf<this['localLight'+'s']['length'];_0x289cdf++){const _0x4aa038=this['localLight'+'s'][_0x289cdf];_0x4aa038['_type']!==ve&&(_0x886a9?_0x4aa038['atlasSlotU'+'pdated']&&_0x4aa038['shadowUpda'+'teMode']===Ps&&(_0x4aa038['shadowUpda'+'teMode']=xr):_0x4aa038['shadowUpda'+'teMode']===Ps&&_0x4aa038['castShadow'+'s']&&(_0x4aa038['getRenderD'+'ata'](null,0x423+-0x1973+0x58*0x3e)['shadowCame'+'ra']['renderTarg'+'et']||(_0x4aa038['shadowUpda'+'teMode']=xr)),_0x4aa038['visibleThi'+'sFrame']&&_0x4aa038['castShadow'+'s']&&_0x4aa038['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x4aa038,_0x179115));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x354efe=_0x179115['cameras'];for(let _0x31dd18=-0x103f*0x1+-0x1bb6+-0x155*-0x21;_0x31dd18<_0x354efe['length'];_0x31dd18++){const _0x101d72=_0x354efe[_0x31dd18];if(_0x101d72['enabled']){const _0x331588=_0x101d72['camera'];let _0x5e3de4;const _0x34d07c=_0x331588['layers'];for(let _0x35b736=0xd3a+0x1ff*0x1+0x3*-0x513;_0x35b736<_0x34d07c['length'];_0x35b736++){const _0x5ec5ba=_0x179115['getLayerBy'+'Id'](_0x34d07c[_0x35b736]);if(_0x5ec5ba){const _0x27cdfa=_0x5ec5ba['splitLight'+'s'][ve];for(let _0x2f2194=0x264e+-0x55b+-0x20f3;_0x2f2194<_0x27cdfa['length'];_0x2f2194++){const _0x1aa4fe=_0x27cdfa[_0x2f2194];_0x1aa4fe['castShadow'+'s']&&!Fa['has'](_0x1aa4fe)&&(Fa['add'](_0x1aa4fe),_0x5e3de4=_0x5e3de4??[],_0x5e3de4['push'](_0x1aa4fe),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x1aa4fe,_0x179115,_0x331588));}}}_0x5e3de4&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x331588,_0x5e3de4),Fa['clear']();}}}['cullCompos'+'ition'](_0x238d16){const _0x1828f7=de(),{scene:_0x337464}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0x37bc65=_0x238d16['cameras']['length'];this['_camerasRe'+'ndered']+=_0x37bc65;for(let _0x3ad673=0x201f+0x4e1*-0x8+0x6e9;_0x3ad673<_0x37bc65;_0x3ad673++){const _0x557e0a=_0x238d16['cameras'][_0x3ad673];_0x337464==null||_0x337464['fire'](mv,_0x557e0a);const _0x4041c7=_0x557e0a['renderTarg'+'et'];_0x557e0a['frameUpdat'+'e'](_0x4041c7),this['updateCame'+'raFrustum'](_0x557e0a['camera']);const _0x7c502c=_0x557e0a['layers'];for(let _0xfbf564=-0x184a+-0x14df+0x2d29;_0xfbf564<_0x7c502c['length'];_0xfbf564++){const _0x1e3c3d=_0x238d16['getLayerBy'+'Id'](_0x7c502c[_0xfbf564]);if(_0x1e3c3d&&_0x1e3c3d['enabled']){this['cullLights'](_0x557e0a['camera'],_0x1e3c3d['_lights']);const _0x5f41b0=_0x1e3c3d['getCulledI'+'nstances'](_0x557e0a['camera']);this['cull'](_0x557e0a['camera'],_0x1e3c3d['meshInstan'+'ces'],_0x5f41b0);}}_0x337464==null||_0x337464['fire'](_v,_0x557e0a);}_0x337464['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x238d16),_0x337464==null||_0x337464['fire'](lE),this['_cullTime']+=de()-_0x1828f7;}['updateShad'+'ers'](_0x1b0ddf,_0x3498a3){const _0x17c99a=_0x1b0ddf['length'];for(let _0x4bdc7e=-0x71c+0x71c+0x0;_0x4bdc7e<_0x17c99a;_0x4bdc7e++){const _0x4a3fa3=_0x1b0ddf[_0x4bdc7e]['material'];if(_0x4a3fa3&&!Fa['has'](_0x4a3fa3)&&(Fa['add'](_0x4a3fa3),_0x4a3fa3['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant'])){if(_0x3498a3&&(!_0x4a3fa3['useLightin'+'g']||_0x4a3fa3['emitter']&&!_0x4a3fa3['emitter']['lighting']))continue;_0x4a3fa3['clearVaria'+'nts']();}}Fa['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](Pb(this['device']));}['beginFrame'](_0x296ebc){const _0x3da67f=this['scene'],_0x4cb29f=_0x3da67f['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x4ee48a=0xa15*-0x1+0xe*0x146+0x295*-0x3;const _0x4bc57b=_0x296ebc['layerList'],_0x2d20c1=_0x4bc57b['length'];for(let _0x1a61a5=0x1*-0xdbd+-0x12*-0xf6+-0x38f;_0x1a61a5<_0x2d20c1;_0x1a61a5++){const _0x46b320=_0x4bc57b[_0x1a61a5]['meshInstan'+'ces'],_0x59f305=_0x46b320['length'];_0x4ee48a+=_0x59f305;for(let _0x5ad177=-0xd5e+0x1ff*-0x7+0x1b57;_0x5ad177<_0x59f305;_0x5ad177++){const _0x31b4b4=_0x46b320[_0x5ad177];_0x31b4b4['visibleThi'+'sFrame']=!(0x3a9+0xf04+-0x12ac),_0x4cb29f&&df['push'](_0x31b4b4),_0x31b4b4['skinInstan'+'ce']&&ff['push'](_0x31b4b4);}}if(_0x3da67f['_stats']['meshInstan'+'ces']=_0x4ee48a,_0x4cb29f){const _0x30451d=!_0x3da67f['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](df,_0x30451d),_0x3da67f['updateShad'+'ers']=!(-0x1*-0x1882+-0x8d5+-0xfac),this['device']['_shadersDi'+'rty']=!(0x237+-0x672+0x43c),_0x3da67f['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](ff),df['length']=0xb3a+0x1041+-0x43*0x69,ff['length']=0x422+-0x2*-0x6e4+-0x11ea;const _0x2b0a8f=this['lights'],_0x439048=_0x2b0a8f['length'];for(let _0x3470f5=-0x7e0*0x1+-0x49*0x4a+0x1cfa;_0x3470f5<_0x439048;_0x3470f5++)_0x2b0a8f[_0x3470f5]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x2db7d2){const _0x8a7cc7=de(),_0x15fcd6=_0x2db7d2['layerList']['length'],_0x55aab0=this['scene']['_shaderVer'+'sion'];for(let _0x253a36=-0x2416*0x1+0x8c3*0x4+-0x1*-0x10a;_0x253a36<_0x15fcd6;_0x253a36++){const _0x2c5c18=_0x2db7d2['layerList'][_0x253a36];_0x2c5c18['_shaderVer'+'sion']=_0x55aab0,_0x2c5c18['_skipRende'+'rCounter']=0xae+-0x1*0x20d8+0x202a,_0x2c5c18['_forwardDr'+'awCalls']=0x153*-0xf+-0x1dc6+0x31a3,_0x2c5c18['_shadowDra'+'wCalls']=-0x1b2d*0x1+0x1*-0x1b0e+0x363b,_0x2c5c18['_renderTim'+'e']=-0x5c8+0x1884+-0x1*0x12bc;}_0x2db7d2['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=de()-_0x8a7cc7;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(-0x197e+-0xa68+0x23e7),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class Pv{constructor(){h(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0x5e*-0xf+-0x6a5+-0x4*-0x49),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(-0x1385+0x1455+-0xcf*0x1),this['clearDepth']=!(0x963+0x27*-0xbf+-0x31*-0x67),this['clearStenc'+'il']=!(-0x1*0x1271+0x9c5*-0x1+-0x1*-0x1c37),this['triggerPos'+'tprocess']=!(0x1*-0x1091+-0x944*-0x3+-0xb3a),this['firstCamer'+'aUse']=!(-0x51*-0x17+0x1*0xb03+-0x1249),this['lastCamera'+'Use']=!(0x998*-0x4+-0xaa+-0x7cf*-0x5),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(-0x1e71*-0x1+0xcc3*-0x3+-0x7d9*-0x1));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x5dc6b7=>{_0x5dc6b7['defaultUni'+'formBuffer']['destroy'](),_0x5dc6b7['destroy']();}),this['viewBindGr'+'oups']['length']=0x6fa+0x383*-0x9+-0x41*-0x61;}['setupClear'+'s'](_0x99a3cf,_0x17f333){this['clearColor']=(_0x99a3cf==null?void(-0x1*-0x22de+-0x1f65+-0x379):_0x99a3cf['clearColor'+'Buffer'])||_0x17f333['clearColor'+'Buffer'],this['clearDepth']=(_0x99a3cf==null?void(0x2*0xaac+-0xe38+-0x720):_0x99a3cf['clearDepth'+'Buffer'])||_0x17f333['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x99a3cf==null?void(0x1f97+0xdc8+-0x5*0x913):_0x99a3cf['clearStenc'+'ilBuffer'])||_0x17f333['clearStenc'+'ilBuffer'];}}class Kb extends ys{constructor(_0x29b0c7,_0x5a0ccd,_0x138877,_0x396a6d){super(_0x29b0c7),h(this,'layerCompo'+'sition'),h(this,'scene'),h(this,'renderer'),h(this,'renderActi'+'ons',[]),h(this,'gammaCorre'+'ction'),h(this,'toneMappin'+'g'),h(this,'noDepthCle'+'ar',!(0x1c5e+-0x13*0x13a+-0xb9*0x7)),(this['layerCompo'+'sition']=_0x5a0ccd,this['scene']=_0x138877,this['renderer']=_0x396a6d);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>-0xfba+-0x3b9+0x1373;}['addRenderA'+'ction'](_0xf9e159){this['renderActi'+'ons']['push'](_0xf9e159);}['addLayer'](_0x49a401,_0x46b2c5,_0x1e8770,_0x21031b=!(-0x191e+0x1f*-0x13a+0x3f24)){w['assert'](_0x49a401),w['assert'](this['renderTarg'+'et']!==void(0xaab+-0x248b+0x19e0),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),w['assert'](_0x49a401['camera']['layersSet']['has'](_0x46b2c5['id']),'Camera\x20'+_0x49a401['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x46b2c5['name']+'.');const _0x46dfc9=new Pv();if(_0x46dfc9['renderTarg'+'et']=this['renderTarg'+'et'],_0x46dfc9['camera']=_0x49a401,_0x46dfc9['layer']=_0x46b2c5,_0x46dfc9['transparen'+'t']=_0x1e8770,_0x21031b){const _0x1cdcbd=this['renderActi'+'ons']['length']===-0x18*-0x141+-0xe*0x293+0x5f2;_0x46dfc9['setupClear'+'s'](_0x1cdcbd?_0x49a401:void(-0x8a6*0x1+0x805*0x1+0xa1),_0x46b2c5);}this['addRenderA'+'ction'](_0x46dfc9);}['addLayers'](_0x49bcb7,_0x167ad4,_0x5dd9c3,_0x4eb44c,_0xf5864a,_0x50bc5d=!(0x16*-0x1a3+-0x1878+-0x3c7a*-0x1)){const {layerList:_0x15daac,subLayerList:_0x349fc9}=_0x49bcb7;let _0x305df2=_0x4eb44c,_0x2ddf49=_0x5dd9c3;for(;_0x2ddf49<_0x15daac['length'];){const _0x4645ed=_0x15daac[_0x2ddf49],_0x67c4f=_0x349fc9[_0x2ddf49];if(_0x167ad4['camera']['layersSet']['has'](_0x4645ed['id'])&&(this['addLayer'](_0x167ad4,_0x4645ed,_0x67c4f,_0x305df2),_0x305df2=!(0x1179+-0x153*-0x1d+0x1*-0x37df)),_0x2ddf49++,_0x4645ed['id']===_0xf5864a&&_0x67c4f===_0x50bc5d)break;}return _0x2ddf49;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x41f769,renderActions:_0x2f2d7e}=this;for(let _0x2dd72b=-0x12a+-0x1a3a+0x6d9*0x4;_0x2dd72b<_0x2f2d7e['length'];_0x2dd72b++){const _0x506c25=_0x2f2d7e[_0x2dd72b]['camera']['camera'],_0x3231de=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0x506c25);if(_0x3231de)for(let _0x4f26a2=0x161c+-0x384+-0x1298;_0x4f26a2<_0x3231de['length'];_0x4f26a2++){const _0x3194a4=_0x3231de[_0x4f26a2];if(_0x41f769['dirLightSh'+'adows']['get'](_0x3194a4)!==_0x506c25){_0x41f769['dirLightSh'+'adows']['set'](_0x3194a4,_0x506c25);const _0x3bbfd2=_0x41f769['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x3194a4,_0x506c25);_0x3bbfd2&&this['beforePass'+'es']['push'](_0x3bbfd2);}}}}['updateClea'+'rs'](){const _0x2a4618=this['renderActi'+'ons'][0x1eeb+0xfcb+0x175b*-0x2];if(_0x2a4618){const _0x4f2a13=_0x2a4618['camera']['camera'],_0x5a1128=_0x4f2a13['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x5a1128&&_0x2a4618['clearColor']?_0x4f2a13['clearColor']:void(0x1d3*0x11+0x296*0xd+0xced*-0x5)),this['setClearDe'+'pth'](_0x5a1128&&_0x2a4618['clearDepth']&&!this['noDepthCle'+'ar']?_0x4f2a13['clearDepth']:void(-0x255*-0xd+-0x18bd+-0x594)),this['setClearSt'+'encil'](_0x5a1128&&_0x2a4618['clearStenc'+'il']?_0x4f2a13['clearStenc'+'il']:void(0xcbe+0x13d6+0x3c*-0x8b));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x2731bc}=this;for(let _0xb8ea15=0x1327+-0x4*-0x833+-0x33f3*0x1;_0xb8ea15<_0x2731bc['length'];_0xb8ea15++){const _0x4f5bb3=_0x2731bc[_0xb8ea15];_0x4f5bb3['firstCamer'+'aUse']&&this['scene']['fire'](rE,_0x4f5bb3['camera']);}}['execute'](){const {layerComposition:_0x22df4c,renderActions:_0xb1900c}=this;for(let _0xbb193b=0x2*0x309+0x2ea+0x14*-0x73;_0xbb193b<_0xb1900c['length'];_0xbb193b++){const _0x3a4bb7=_0xb1900c[_0xbb193b],_0x487a0e=_0x3a4bb7['layer'];w['call'](()=>{_0x22df4c['getLayerBy'+'Name'](_0x487a0e['name'])||w['warnOnce']('Layer\x20'+_0x487a0e['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x22df4c['isEnabled'](_0x487a0e,_0x3a4bb7['transparen'+'t'])&&this['renderRend'+'erAction'](_0x3a4bb7,_0xbb193b===-0x425*0x1+-0x1f59+-0x76*-0x4d);}}['after'](){for(let _0x48f427=0x18ab+0x16*-0xdf+-0x581;_0x48f427<this['renderActi'+'ons']['length'];_0x48f427++){const _0x3636d5=this['renderActi'+'ons'][_0x48f427];_0x3636d5['lastCamera'+'Use']&&this['scene']['fire'](aE,_0x3636d5['camera']);}this['beforePass'+'es']['length']=0x61*0x34+-0x1f89+0xbd5;}['renderRend'+'erAction'](_0x57e4bb,_0x3e6d24){var _0x497688;const {renderer:_0x1f834,scene:_0x3f3a07}=this,_0x4f199d=_0x1f834['device'],{layer:_0x169b8a,transparent:_0x4407a5,camera:_0x5da815}=_0x57e4bb;Q['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x5da815?_0x5da815['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0x169b8a['name']+'('+(_0x4407a5?'TRANSP':'OPAQUE')+')');const _0x42a672=de();if(_0x5da815){const _0x28bc35=_0x5da815['gammaCorre'+'ction'],_0x49560f=_0x5da815['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(-0x1372+0x1*-0x18d7+-0x3*-0xec3)&&(_0x5da815['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(0xbb7+0x262d+-0x67*0x7c)&&(_0x5da815['toneMappin'+'g']=this['toneMappin'+'g']),_0x3f3a07['fire'](nE,_0x5da815,_0x169b8a,_0x4407a5);const _0x3aae79={'lightClusters':_0x57e4bb['lightClust'+'ers']},_0x3621fa=((_0x497688=_0x5da815['camera']['shaderPass'+'Info'])==null?void(0x1a67+0x1*-0x1d8c+-0x7*-0x73):_0x497688['index'])??Aa;(!_0x3e6d24||!_0x5da815['camera']['fullSizeCl'+'earRect'])&&(_0x3aae79['clearColor']=_0x57e4bb['clearColor'],_0x3aae79['clearDepth']=_0x57e4bb['clearDepth'],_0x3aae79['clearStenc'+'il']=_0x57e4bb['clearStenc'+'il']);const _0x323432=_0x57e4bb['renderTarg'+'et']??_0x4f199d['backBuffer'];_0x1f834['renderForw'+'ardLayer'](_0x5da815['camera'],_0x323432,_0x169b8a,_0x4407a5,_0x3621fa,_0x57e4bb['viewBindGr'+'oups'],_0x3aae79),_0x4f199d['setBlendSt'+'ate'](pt['NOBLEND']),_0x4f199d['setStencil'+'State'](null,null),_0x4f199d['setAlphaTo'+'Coverage'](!(0x1*0xfe8+-0xca*0x13+0x1*-0xe9)),_0x3f3a07['fire'](oE,_0x5da815,_0x169b8a,_0x4407a5),this['gammaCorre'+'ction']!==void(-0x167+0xf48+-0xde1)&&(_0x5da815['gammaCorre'+'ction']=_0x28bc35),this['toneMappin'+'g']!==void(-0x2426+0x1978+0xaae)&&(_0x5da815['toneMappin'+'g']=_0x49560f);}Q['popGpuMark'+'er'](this['device']),_0x169b8a['_renderTim'+'e']+=de()-_0x42a672;}['log'](_0x4f4546,_0x2e99de){if(super['log'](_0x4f4546,_0x2e99de),mi['get'](cn)){const {layerComposition:_0x443b4e}=this;this['renderActi'+'ons']['forEach']((_0x50f181,_0x47fdc7)=>{const _0x43ca87=_0x50f181['layer'],_0x465d48=_0x43ca87['enabled']&&_0x443b4e['isEnabled'](_0x43ca87,_0x50f181['transparen'+'t']),_0x218cf8=_0x50f181['camera'];w['trace'](cn,'\x20\x20\x20\x20'+_0x47fdc7+':'+('\x20Cam:\x20'+(_0x218cf8?_0x218cf8['entity']['name']:'-'))['padEnd'](-0x1f83+-0x21e8+-0x199*-0x29,'\x20')+('\x20Lay:\x20'+_0x43ca87['name'])['padEnd'](-0x185f*-0x1+0xb47+-0x2390,'\x20')+(_0x50f181['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x465d48?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x43ca87['meshInstan'+'ces']['length'])['padEnd'](0x53*0x73+-0x1803*0x1+0x3*-0x46b,'\x20'));});}}}class Zb extends ys{constructor(_0x3b83d6,_0x203190,_0x42828d){super(_0x3b83d6),this['renderer']=_0x203190,this['renderActi'+'on']=_0x42828d,this['requiresCu'+'bemaps']=!(-0x2281+-0x1991+0x3c13);}['execute'](){const _0x550fcd=this['renderActi'+'on'],_0x368d44=_0x550fcd['camera'];w['assert'](_0x550fcd['triggerPos'+'tprocess']&&_0x368d44['onPostproc'+'essing']),_0x368d44['onPostproc'+'essing']();}}const Qb=[[],[],[]],or=new ie(),Nr={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x36d*-0x1+-0x1a0c*-0x1+-0x169f*0x1,this['shaderInst'+'ances']['length']=-0x23b2+-0xb2a*-0x3+-0x8d*-0x4,this['isNewMater'+'ial']['length']=-0x779*-0x3+-0x14c3*0x1+-0x1*0x1a8,this['lightMaskC'+'hanged']['length']=0x6b*0x4f+-0x1f5f+-0x2*0xd3;}};function Jb(_0x2b011f){const _0x4fdd42=[];for(let _0x1c713e=-0x1bc5*0x1+0x1*0x439+-0x16*-0x112;_0x1c713e<_0x2b011f;++_0x1c713e){const _0x20bb1b=Math['sqrt'](_0x1c713e+(-0x1*-0x3d1+0x1*-0x8a9+0x4d8+0.5))/Math['sqrt'](_0x2b011f);_0x4fdd42['push'](_0x20bb1b);}return _0x4fdd42;}function eA(_0x1c53bf){const _0x5ef08d=[];for(let _0x2778eb=-0x2004+0x1b56+0x4ae;_0x2778eb<_0x1c53bf;_0x2778eb++){const _0x3b3faf=_0x2778eb/_0x1c53bf,_0x25d036=Math['sqrt'](_0x3b3faf*_0x3b3faf);_0x5ef08d['push'](_0x25d036);}return _0x5ef08d;}const Ni=class Ni extends Yb{constructor(_0x44620f){super(_0x44620f);const _0x5bfcb9=this['device'];this['_forwardDr'+'awCalls']=-0x10df+-0x250c+0x6b*0x81,this['_materialS'+'witches']=0x15d*0xf+0xdc4+-0x2237,this['_depthMapT'+'ime']=-0x3d*-0x1+0x10*-0x15d+0x1*0x1593,this['_forwardTi'+'me']=0x253d*0x1+-0xe40+-0x16fd*0x1,this['_sortTime']=-0xc4c*-0x1+0x1cb*0x1+-0xe17*0x1;const _0x453bc5=_0x5bfcb9['scope'];this['fogColorId']=_0x453bc5['resolve']('fog_color'),this['fogStartId']=_0x453bc5['resolve']('fog_start'),this['fogEndId']=_0x453bc5['resolve']('fog_end'),this['fogDensity'+'Id']=_0x453bc5['resolve']('fog_densit'+'y'),this['ambientId']=_0x453bc5['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x453bc5['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x453bc5['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x453bc5['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x453bc5['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x453bc5['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(-0x180+0x1a*-0x119+-0xf07*-0x2),this['fogColor']=new Float32Array(0x131*-0x6+-0xcf5+0x141e),this['ambientCol'+'or']=new Float32Array(0x1*0x109e+0x7*-0x101+-0x994),this['pcssDiskSa'+'mples']=Jb(0x1*0x121e+0x1ebe+-0x30cc),this['pcssSphere'+'Samples']=eA(0xf*0x17b+0x1f17+0x1*-0x353c);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0x464496){const _0x4f569c=this['ambientCol'+'or'];if(or['linear'](_0x464496['ambientLig'+'ht']),_0x4f569c[0x5ad*-0x1+0x1832+-0x1285]=or['r'],_0x4f569c[-0x455*-0x1+0x16ca+-0x1b1e]=or['g'],_0x4f569c[-0x2624+0x1093+0x315*0x7]=or['b'],_0x464496['physicalUn'+'its']){for(let _0x2ce73e=-0x1bc7+0xd*0x185+0x806;_0x2ce73e<0x1*0xb6+0x1b74+-0x1c27;_0x2ce73e++)_0x4f569c[_0x2ce73e]*=_0x464496['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x4f569c),this['skyboxInte'+'nsityId']['setValue'](_0x464496['physicalUn'+'its']?_0x464496['skyboxLumi'+'nance']:_0x464496['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0x464496['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x5714a3,_0x1fd7b9){const _0x20ef69='light'+_0x1fd7b9;this['lightColor'+'Id'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+'_color'),this['lightDir'][_0x1fd7b9]=new Float32Array(-0x411+-0x5*0x385+0x15ad),this['lightDirId'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+'_direction'),this['lightShado'+'wMapId'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+'_shadowMap'),this['lightShado'+'wMatrixId'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+'_radius'),this['lightPos'][_0x1fd7b9]=new Float32Array(-0xe*0x223+0x42*-0x9+0x203f),this['lightPosId'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+'_position'),this['lightWidth'][_0x1fd7b9]=new Float32Array(-0x2*0x1239+-0x7ac*0x5+-0xb3*-0x6b),this['lightWidth'+'Id'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+'_halfWidth'),this['lightHeigh'+'t'][_0x1fd7b9]=new Float32Array(-0x2*-0xe55+-0x1adf+-0x1c8),this['lightHeigh'+'tId'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+'_cookie'),this['lightCooki'+'eIntId'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0x1fd7b9]=_0x5714a3['resolve'](_0x20ef69+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x3fb974,_0x59190e,_0x4bd553,_0x4af770,_0x5e82d5){this['lightPos'][_0x59190e][0x2f*-0x5+-0x1*-0x1503+-0xa0c*0x2]=_0x4af770['x']-_0x4bd553['x']*_0x5e82d5,this['lightPos'][_0x59190e][0x1228+0x4f3*-0x7+0x107e]=_0x4af770['y']-_0x4bd553['y']*_0x5e82d5,this['lightPos'][_0x59190e][0x72b+0x617+0x1a8*-0x8]=_0x4af770['z']-_0x4bd553['z']*_0x5e82d5,this['lightPosId'][_0x59190e]['setValue'](this['lightPos'][_0x59190e]);const _0x748fa4=_0x3fb974['transformV'+'ector'](new D(-(0x16f*0xf+0x1*0x26c3+-0x26*0x196+0.5),-0x1e78+-0x2422+0x429a,0x175*-0xd+-0x10b5+0x23a6));this['lightWidth'][_0x59190e][0x1491+0x556*-0x2+-0x9e5]=_0x748fa4['x']*_0x5e82d5,this['lightWidth'][_0x59190e][0x2217+-0x1cb6+0x158*-0x4]=_0x748fa4['y']*_0x5e82d5,this['lightWidth'][_0x59190e][-0x2*0x653+0x2*0x1376+-0x1a44]=_0x748fa4['z']*_0x5e82d5,this['lightWidth'+'Id'][_0x59190e]['setValue'](this['lightWidth'][_0x59190e]);const _0x38dc96=_0x3fb974['transformV'+'ector'](new D(-0x1d*0x7f+0x12da+0x477*-0x1,0x26*-0xc5+-0x41*-0x5b+0x623,-0x2529+0x10*-0x1b2+0x4049+0.5));this['lightHeigh'+'t'][_0x59190e][0x89a*-0x1+0xf1*-0x7+0xf31]=_0x38dc96['x']*_0x5e82d5,this['lightHeigh'+'t'][_0x59190e][0x12a3+-0x1*0x26b5+0x23b*0x9]=_0x38dc96['y']*_0x5e82d5,this['lightHeigh'+'t'][_0x59190e][0xccf*0x3+0x2143+-0x47ae]=_0x38dc96['z']*_0x5e82d5,this['lightHeigh'+'tId'][_0x59190e]['setValue'](this['lightHeigh'+'t'][_0x59190e]);}['dispatchDi'+'rectLights'](_0x342b7a,_0x9e70d0,_0x300830){let _0x2e15bf=-0x182*-0x17+0x4dc+-0x2d3*0xe;const _0x44f4be=this['device']['scope'];for(let _0x3441a0=-0xf*-0x218+0x557*-0x2+-0x14ba;_0x3441a0<_0x342b7a['length'];_0x3441a0++){if(!(_0x342b7a[_0x3441a0]['mask']&_0x9e70d0))continue;const _0x81d1ed=_0x342b7a[_0x3441a0],_0x2dd6e0=_0x81d1ed['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x2e15bf]||this['_resolveLi'+'ght'](_0x44f4be,_0x2e15bf),this['lightColor'+'Id'][_0x2e15bf]['setValue'](_0x81d1ed['_colorLine'+'ar']),_0x2dd6e0['getY'](_0x81d1ed['_direction'])['mulScalar'](-(-0x1360+-0x17b*0x13+0x2f82)),_0x81d1ed['_direction']['normalize'](),this['lightDir'][_0x2e15bf][0x1fdc+0x57f+0x1*-0x255b]=_0x81d1ed['_direction']['x'],this['lightDir'][_0x2e15bf][0x1dcb+-0x1*0x3+-0x1*0x1dc7]=_0x81d1ed['_direction']['y'],this['lightDir'][_0x2e15bf][0x6bf*0x1+0x12b*-0xd+0x872]=_0x81d1ed['_direction']['z'],this['lightDirId'][_0x2e15bf]['setValue'](this['lightDir'][_0x2e15bf]),_0x81d1ed['shape']!==Ys&&this['setLTCDire'+'ctionalLig'+'ht'](_0x2dd6e0,_0x2e15bf,_0x81d1ed['_direction'],_0x300830['_node']['getPositio'+'n'](),_0x300830['farClip']),_0x81d1ed['castShadow'+'s']){const _0x4eeeb3=_0x81d1ed['getRenderD'+'ata'](_0x300830,0x73a+-0x1*-0x229b+-0x1*0x29d5),_0x2f07bf=_0x81d1ed['_getUnifor'+'mBiasValue'+'s'](_0x4eeeb3);this['lightShado'+'wMapId'][_0x2e15bf]['setValue'](_0x4eeeb3['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x2e15bf]['setValue'](_0x4eeeb3['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x2e15bf]['setValue'](_0x81d1ed['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x2e15bf]['setValue'](_0x81d1ed['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x2e15bf]['setValue'](_0x81d1ed['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x2e15bf]['setValue'](0x2b3*0xb+-0x1731+-0x67f*0x1-_0x81d1ed['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x2e15bf]['setValue'](_0x81d1ed['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x2e15bf]['setValue'](_0x81d1ed['_softShado'+'wParams']),_0x4eeeb3['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x2e15bf]['setValue'](_0x81d1ed['penumbraSi'+'ze']/_0x4eeeb3['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x4eeeb3['projection'+'Compensati'+'on']);const _0x31cfea=_0x81d1ed['_shadowCam'+'eraParams'];_0x31cfea['length']=-0x14*-0x86+0xd3*0x1+0xb47*-0x1,_0x31cfea[0x1357+-0xe09+-0x54e]=-0x6a4+0x5c*0x4f+0x4*-0x570,_0x31cfea[-0x13aa+0xbfa+-0x1*-0x7b1]=_0x4eeeb3['shadowCame'+'ra']['_farClip'],_0x31cfea[-0x5*-0x6b7+0x10ab+-0x191e*0x2]=_0x4eeeb3['shadowCame'+'ra']['_nearClip'],_0x31cfea[-0x2176+-0x1991+0x3b0a]=-0x16b1+-0x1fb1+0x42f*0xd,this['lightCamer'+'aParamsId'][_0x2e15bf]['setValue'](_0x31cfea);const _0x2f7ed9=_0x81d1ed['_shadowRen'+'derParams'];_0x2f7ed9['length']=0x1358+0x89+-0x69f*0x3,_0x2f7ed9[-0x2*0xaa9+-0x6a2+0x2*0xdfa]=_0x81d1ed['_shadowRes'+'olution'],_0x2f7ed9[0x1f70+-0x1d87+-0x1e8]=_0x2f07bf['normalBias'],_0x2f7ed9[-0x145d+0x436+0x1*0x1029]=_0x2f07bf['bias'],_0x2f7ed9[-0x7a6+-0x1fba+-0x2763*-0x1]=0x1922*-0x1+0x211a+-0x7f8,this['lightShado'+'wParamsId'][_0x2e15bf]['setValue'](_0x2f7ed9);}_0x2e15bf++;}return _0x2e15bf;}['setLTCPosi'+'tionalLigh'+'t'](_0x199a89,_0x4d8d6f){const _0x2d2128=_0x199a89['transformV'+'ector'](new D(-(-0x1f*0x3f+-0x6ff+0xea0+0.5),-0x219+0x1048+-0xe2f,0x14f0+0x26b*-0x1+-0x1285));this['lightWidth'][_0x4d8d6f][-0x366+-0x1c29+0x1f8f]=_0x2d2128['x'],this['lightWidth'][_0x4d8d6f][0x24a+0x157f*0x1+0x2f9*-0x8]=_0x2d2128['y'],this['lightWidth'][_0x4d8d6f][-0x652*0x1+0x1*0x86e+-0x21a*0x1]=_0x2d2128['z'],this['lightWidth'+'Id'][_0x4d8d6f]['setValue'](this['lightWidth'][_0x4d8d6f]);const _0x217daa=_0x199a89['transformV'+'ector'](new D(0x36a*0x3+0x1*0x1d10+-0x2*0x13a7,0xa12*-0x1+0x24fe+-0x4*0x6bb,0x2*-0xdc1+0xd95+0xded*0x1+0.5));this['lightHeigh'+'t'][_0x4d8d6f][-0xb26*0x3+-0x2033+0x41a5]=_0x217daa['x'],this['lightHeigh'+'t'][_0x4d8d6f][-0x8e1+0xbc*-0x2e+0x1*0x2aaa]=_0x217daa['y'],this['lightHeigh'+'t'][_0x4d8d6f][-0x1*-0x185d+-0x1c3a+-0x3df*-0x1]=_0x217daa['z'],this['lightHeigh'+'tId'][_0x4d8d6f]['setValue'](this['lightHeigh'+'t'][_0x4d8d6f]);}['dispatchOm'+'niLight'](_0xdf8b2f,_0x1e2260,_0x30a288){const _0xae98a7=_0x1e2260['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x30a288]||this['_resolveLi'+'ght'](_0xdf8b2f,_0x30a288),this['lightRadiu'+'sId'][_0x30a288]['setValue'](_0x1e2260['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x30a288]['setValue'](_0x1e2260['_colorLine'+'ar']),_0xae98a7['getTransla'+'tion'](_0x1e2260['_position']),this['lightPos'][_0x30a288][-0x1283+0x219d+-0xf1a]=_0x1e2260['_position']['x'],this['lightPos'][_0x30a288][-0x7f7*-0x3+0x11db+-0x1*0x29bf]=_0x1e2260['_position']['y'],this['lightPos'][_0x30a288][0x7*0x4e9+-0x4*0x373+-0x1491]=_0x1e2260['_position']['z'],this['lightPosId'][_0x30a288]['setValue'](this['lightPos'][_0x30a288]),_0x1e2260['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0xae98a7,_0x30a288),_0x1e2260['castShadow'+'s']){const _0x406510=_0x1e2260['getRenderD'+'ata'](null,-0x11f+0x203f+-0x3*0xa60);this['lightShado'+'wMapId'][_0x30a288]['setValue'](_0x406510['shadowBuff'+'er']);const _0x1a5a1b=_0x1e2260['_getUnifor'+'mBiasValue'+'s'](_0x406510),_0x2186a1=_0x1e2260['_shadowRen'+'derParams'];_0x2186a1['length']=-0x68*-0x40+-0x54a*-0x3+-0x29da,_0x2186a1[-0x87*0x25+-0x5*0x342+0x23cd]=_0x1e2260['_shadowRes'+'olution'],_0x2186a1[-0x31e+-0x30b*-0x5+0x306*-0x4]=_0x1a5a1b['normalBias'],_0x2186a1[-0x6ec+-0x190e+0x2e*0xb2]=_0x1a5a1b['bias'],_0x2186a1[-0x23a7+0x32d+0x207d*0x1]=(-0x2390+-0x138a+0x371b*0x1)/_0x1e2260['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x30a288]['setValue'](_0x2186a1),this['lightShado'+'wIntensity'][_0x30a288]['setValue'](_0x1e2260['shadowInte'+'nsity']);const _0x5e3ec1=_0x1e2260['penumbraSi'+'ze']/_0x406510['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x30a288]['setValue'](_0x5e3ec1);const _0x1e92a4=_0x1e2260['_shadowCam'+'eraParams'];_0x1e92a4['length']=-0x1575+-0x2281+-0x2*-0x1bfd,_0x1e92a4[0x1b*-0x139+-0x2306*0x1+0x4409]=0x13f0+-0x1eab*-0x1+-0x1*0x329b,_0x1e92a4[-0xb3a+0x1779+0x1*-0xc3e]=_0x406510['shadowCame'+'ra']['_farClip'],_0x1e92a4[0x2*-0x599+-0x1656+0x9*0x3ba]=_0x406510['shadowCame'+'ra']['_nearClip'],_0x1e92a4[-0x1*0xd1d+-0x152b+-0x224b*-0x1]=0x2*0x74f+0x10fc+-0x5*0x652,this['lightCamer'+'aParamsId'][_0x30a288]['setValue'](_0x1e92a4);}_0x1e2260['_cookie']&&(this['lightCooki'+'eId'][_0x30a288]['setValue'](_0x1e2260['_cookie']),this['lightShado'+'wMatrixId'][_0x30a288]['setValue'](_0xae98a7['data']),this['lightCooki'+'eIntId'][_0x30a288]['setValue'](_0x1e2260['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x5d3f87,_0x2a9e64,_0xe38afa){const _0x43a024=_0x2a9e64['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0xe38afa]||this['_resolveLi'+'ght'](_0x5d3f87,_0xe38afa),this['lightInAng'+'leId'][_0xe38afa]['setValue'](_0x2a9e64['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0xe38afa]['setValue'](_0x2a9e64['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0xe38afa]['setValue'](_0x2a9e64['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0xe38afa]['setValue'](_0x2a9e64['_colorLine'+'ar']),_0x43a024['getTransla'+'tion'](_0x2a9e64['_position']),this['lightPos'][_0xe38afa][0x1*0x21ce+0x15ef+-0x37bd]=_0x2a9e64['_position']['x'],this['lightPos'][_0xe38afa][-0x1*0x4eb+-0x1b93+0x207f]=_0x2a9e64['_position']['y'],this['lightPos'][_0xe38afa][-0x662+-0x3e*0x9+-0x1*-0x892]=_0x2a9e64['_position']['z'],this['lightPosId'][_0xe38afa]['setValue'](this['lightPos'][_0xe38afa]),_0x2a9e64['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x43a024,_0xe38afa),_0x43a024['getY'](_0x2a9e64['_direction'])['mulScalar'](-(0x1d*-0x55+0x2d5+0x6cd)),_0x2a9e64['_direction']['normalize'](),this['lightDir'][_0xe38afa][-0x7*-0x581+-0x220*0x4+-0x1e07]=_0x2a9e64['_direction']['x'],this['lightDir'][_0xe38afa][0x11ea+0x210+-0x1*0x13f9]=_0x2a9e64['_direction']['y'],this['lightDir'][_0xe38afa][-0x442+-0x1733+0x1b77]=_0x2a9e64['_direction']['z'],this['lightDirId'][_0xe38afa]['setValue'](this['lightDir'][_0xe38afa]),_0x2a9e64['castShadow'+'s']){const _0x18affd=_0x2a9e64['getRenderD'+'ata'](null,0x3*-0x94c+0x2263+-0x1*0x67f);this['lightShado'+'wMapId'][_0xe38afa]['setValue'](_0x18affd['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0xe38afa]['setValue'](_0x18affd['shadowMatr'+'ix']['data']);const _0x37b093=_0x2a9e64['_getUnifor'+'mBiasValue'+'s'](_0x18affd),_0x267b3c=_0x2a9e64['_shadowRen'+'derParams'];_0x267b3c['length']=0x2469+0x42d*0x3+0x7c*-0x65,_0x267b3c[0xb8c*0x1+0x1ebb+-0x2a47]=_0x2a9e64['_shadowRes'+'olution'],_0x267b3c[-0x751+0x13dd*-0x1+-0x1b2f*-0x1]=_0x37b093['normalBias'],_0x267b3c[-0x1a47+0x196e+0xdb]=_0x37b093['bias'],_0x267b3c[0x1*-0x39+0x223c+0x4*-0x880]=(-0x5*0x54b+-0x2*-0xb+0x1a62)/_0x2a9e64['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0xe38afa]['setValue'](_0x267b3c),this['lightShado'+'wIntensity'][_0xe38afa]['setValue'](_0x2a9e64['shadowInte'+'nsity']);const _0x1e675d=_0x2a9e64['penumbraSi'+'ze']/_0x18affd['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x2f6f9e=_0x18affd['shadowCame'+'ra']['_fov']*Math['PI']/(-0x245*-0xa+0x2*-0xd86+0x50e),_0x2b2654=(-0x1e8b*0x1+-0x1424+0x32b0)/Math['tan'](_0x2f6f9e/(-0xff*0x1d+-0x93d+0xcb6*0x3));this['lightShado'+'wSearchAre'+'aId'][_0xe38afa]['setValue'](_0x1e675d*_0x2b2654);const _0x206e50=_0x2a9e64['_shadowCam'+'eraParams'];_0x206e50['length']=0x7*0x200+0x262b+-0x3427,_0x206e50[-0x1*-0x156b+0x118+-0x71*0x33]=0x25eb+-0x74b*-0x1+-0x2d36,_0x206e50[-0x19a9+-0x19ce+0x3378]=_0x18affd['shadowCame'+'ra']['_farClip'],_0x206e50[-0x1d71*-0x1+0x5dd*-0x1+-0x1792]=_0x18affd['shadowCame'+'ra']['_nearClip'],_0x206e50[0xf3a+0x2e*0x1d+-0x146d]=-0x1fe*0x7+0xd49*0x1+0xa9,this['lightCamer'+'aParamsId'][_0xe38afa]['setValue'](_0x206e50);}if(_0x2a9e64['_cookie']){if(!_0x2a9e64['castShadow'+'s']){const _0xa7d7e7=Wn['evalSpotCo'+'okieMatrix'](_0x2a9e64);this['lightShado'+'wMatrixId'][_0xe38afa]['setValue'](_0xa7d7e7['data']);}this['lightCooki'+'eId'][_0xe38afa]['setValue'](_0x2a9e64['_cookie']),this['lightCooki'+'eIntId'][_0xe38afa]['setValue'](_0x2a9e64['cookieInte'+'nsity']),_0x2a9e64['_cookieTra'+'nsform']&&(_0x2a9e64['_cookieTra'+'nsformUnif'+'orm'][-0x1d88+0xad6+-0x1*-0x12b2]=_0x2a9e64['_cookieTra'+'nsform']['x'],_0x2a9e64['_cookieTra'+'nsformUnif'+'orm'][-0x536+-0xc9e+-0x391*-0x5]=_0x2a9e64['_cookieTra'+'nsform']['y'],_0x2a9e64['_cookieTra'+'nsformUnif'+'orm'][-0x1772+0xa*0x3+0x1*0x1756]=_0x2a9e64['_cookieTra'+'nsform']['z'],_0x2a9e64['_cookieTra'+'nsformUnif'+'orm'][0x24ef+-0x1*-0xb+0x24f7*-0x1]=_0x2a9e64['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0xe38afa]['setValue'](_0x2a9e64['_cookieTra'+'nsformUnif'+'orm']),_0x2a9e64['_cookieOff'+'setUniform'][-0x19e1+0x3b7*0x9+0x1*-0x78e]=_0x2a9e64['_cookieOff'+'set']['x'],_0x2a9e64['_cookieOff'+'setUniform'][0x10ee+0x5b0*0x1+-0x1*0x169d]=_0x2a9e64['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0xe38afa]['setValue'](_0x2a9e64['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0xc69773,_0x5121a4,_0x5e025f){let _0x3fcb8b=_0x5e025f;const _0x494e9e=this['device']['scope'],_0x25891b=_0xc69773[Ke],_0x2e16ba=_0x25891b['length'];for(let _0x593bb7=0xcb1+0x8dd+0x3e*-0x59;_0x593bb7<_0x2e16ba;_0x593bb7++){const _0x2d281e=_0x25891b[_0x593bb7];_0x2d281e['mask']&_0x5121a4&&(this['dispatchOm'+'niLight'](_0x494e9e,_0x2d281e,_0x3fcb8b),_0x3fcb8b++);}const _0x26743f=_0xc69773[Ze],_0x379445=_0x26743f['length'];for(let _0x5116d4=0x1ca+0x229b+0xb*-0x34f;_0x5116d4<_0x379445;_0x5116d4++){const _0x13cb21=_0x26743f[_0x5116d4];_0x13cb21['mask']&_0x5121a4&&(this['dispatchSp'+'otLight'](_0x494e9e,_0x13cb21,_0x3fcb8b),_0x3fcb8b++);}}['renderForw'+'ardPrepare'+'Materials'](_0x3c4f87,_0x1a36d8,_0x15c069,_0x5659fd,_0x3df1fb,_0xd17be9){const _0x13f80e=_0x3c4f87['fogParams']??this['scene']['fog'],_0xbc0ef3=_0x3c4f87['shaderPara'+'ms'];_0xbc0ef3['fog']=_0x13f80e['type'],_0xbc0ef3['srgbRender'+'Target']=(_0x1a36d8==null?void(0x1ff3+0x1496+-0x3489):_0x1a36d8['isColorBuf'+'ferSrgb'](0x33b*-0x4+0x1*0x19cd+0x1d7*-0x7))??!(0x4*0x8bd+-0x6c9+-0x1c2a);const _0x2adada=(_0x14ee49,_0x3ae6b4,_0xe90d64,_0xb3d9f8)=>{Nr['drawCalls']['push'](_0x14ee49),Nr['shaderInst'+'ances']['push'](_0x3ae6b4),Nr['isNewMater'+'ial']['push'](_0xe90d64),Nr['lightMaskC'+'hanged']['push'](_0xb3d9f8);};Nr['clear']();const _0x9861c3=this['device'],_0xcf551b=this['scene'],_0x3c0dd3=_0xcf551b['clusteredL'+'ightingEna'+'bled'],_0x11eb59=(_0x3df1fb==null?void(0x1*0x1a3f+-0x2157+0x718):_0x3df1fb['getLightHa'+'sh'](_0x3c0dd3))??-0x5bf+0xc6d*0x1+-0x6ae;let _0x29ed2d=null,_0x179b27,_0x331922;const _0x34416c=_0x15c069['length'];for(let _0x472b75=-0x25a4+0xc07+-0x1*-0x199d;_0x472b75<_0x34416c;_0x472b75++){const _0x3b7bc7=_0x15c069[_0x472b75];if(_0x3c4f87===Ni['skipRender'+'Camera']){if(Ni['_skipRende'+'rCounter']>=Ni['skipRender'+'After'])continue;Ni['_skipRende'+'rCounter']++;}if(_0x3df1fb){if(_0x3df1fb['_skipRende'+'rCounter']>=_0x3df1fb['skipRender'+'After'])continue;_0x3df1fb['_skipRende'+'rCounter']++;}const _0xf5377a=_0x3b7bc7['instancing'+'Data'];if(_0xf5377a&&_0xf5377a['count']<=0x16d*-0x1+-0x20ae+0x221b)continue;_0x3b7bc7['ensureMate'+'rial'](_0x9861c3);const _0x49ccdf=_0x3b7bc7['material'],_0xbf1085=_0x3b7bc7['_shaderDef'+'s'],_0x26446e=_0x3b7bc7['mask'];_0x49ccdf&&_0x49ccdf===_0x29ed2d&&_0xbf1085!==_0x179b27&&(_0x29ed2d=null),_0x49ccdf!==_0x29ed2d&&(this['_materialS'+'witches']++,_0x49ccdf['_scene']=_0xcf551b,_0x49ccdf['dirty']&&(Q['pushGpuMar'+'ker'](_0x9861c3,'Node:\x20'+_0x3b7bc7['node']['name']+(',\x20Material'+':\x20')+_0x49ccdf['name']),_0x49ccdf['updateUnif'+'orms'](_0x9861c3,_0xcf551b),_0x49ccdf['dirty']=!(-0x1d9d+0xbee+-0x8d8*-0x2),Q['popGpuMark'+'er'](_0x9861c3)));const _0x153d1d=_0x3b7bc7['getShaderI'+'nstance'](_0xd17be9,_0x11eb59,_0xcf551b,_0xbc0ef3,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x5659fd);_0x2adada(_0x3b7bc7,_0x153d1d,_0x49ccdf!==_0x29ed2d,!_0x29ed2d||_0x26446e!==_0x331922),_0x29ed2d=_0x49ccdf,_0x179b27=_0xbf1085,_0x331922=_0x26446e;}return Nr;}['renderForw'+'ardInterna'+'l'](_0x90f54a,_0x9e5249,_0x4b04f7,_0x8dd7ee,_0x29cb92,_0x40ddc8,_0x59f8ad){var _0x302ace,_0x7643df;const _0x2a1dac=this['device'],_0x4ec583=this['scene'],_0x119bb5=0x33f*0x9+-0x1e54+0x11e<<_0x8dd7ee,_0x142540=_0x40ddc8?-(-0x242b+-0x204b+-0x1*-0x4477):0x1036+-0x2235+0x1200*0x1,_0x11bba5=_0x4ec583['clusteredL'+'ightingEna'+'bled'],_0xf90eee=(_0x302ace=_0x90f54a['xr'])!=null&&_0x302ace['session']&&_0x90f54a['xr']['views']['list']['length']?_0x90f54a['xr']['views']['list']:null,_0x4d48f2=_0x9e5249['drawCalls']['length'];for(let _0x5cdcf9=-0x4*0x98c+0x3d*-0x37+0x1119*0x3;_0x5cdcf9<_0x4d48f2;_0x5cdcf9++){const _0x15544b=_0x9e5249['drawCalls'][_0x5cdcf9],_0x2d84f0=_0x9e5249['isNewMater'+'ial'][_0x5cdcf9],_0x830a9=_0x9e5249['lightMaskC'+'hanged'][_0x5cdcf9],_0xcbee76=_0x9e5249['shaderInst'+'ances'][_0x5cdcf9],_0x519b39=_0x15544b['material'],_0x1a14d1=_0x15544b['mask'];if(_0xcbee76['shader']['failed'])continue;if(_0x2d84f0){if(_0x2a1dac['setShader'](_0xcbee76['shader'],!(0x185*-0x15+0x613*-0x2+0x178*0x1e)),_0x519b39['setParamet'+'ers'](_0x2a1dac),_0x830a9){const _0x22e67b=this['dispatchDi'+'rectLights'](_0x4b04f7[ve],_0x1a14d1,_0x90f54a);_0x11bba5||this['dispatchLo'+'calLights'](_0x4b04f7,_0x1a14d1,_0x22e67b);}this['alphaTestI'+'d']['setValue'](_0x519b39['alphaTest']),_0x2a1dac['setBlendSt'+'ate'](_0x519b39['blendState']),_0x2a1dac['setDepthSt'+'ate'](_0x519b39['depthState']),_0x2a1dac['setAlphaTo'+'Coverage'](_0x519b39['alphaToCov'+'erage']);}Q['pushGpuMar'+'ker'](_0x2a1dac,'Node:\x20'+_0x15544b['node']['name']+(',\x20Material'+':\x20')+_0x519b39['name']),this['setupCullM'+'ode'](_0x90f54a['_cullFaces'],_0x142540,_0x15544b);const _0x959a96=_0x15544b['stencilFro'+'nt']??_0x519b39['stencilFro'+'nt'],_0x484a7d=_0x15544b['stencilBac'+'k']??_0x519b39['stencilBac'+'k'];_0x2a1dac['setStencil'+'State'](_0x959a96,_0x484a7d),_0x15544b['setParamet'+'ers'](_0x2a1dac,_0x119bb5),_0x2a1dac['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0x15544b['id']);const _0x2c96ae=_0x15544b['mesh'];this['setVertexB'+'uffers'](_0x2a1dac,_0x2c96ae),this['setMorphin'+'g'](_0x2a1dac,_0x15544b['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x2a1dac,_0x15544b);const _0x2adcf9=_0x15544b['instancing'+'Data'];_0x2adcf9&&_0x2a1dac['setVertexB'+'uffer'](_0x2adcf9['vertexBuff'+'er']),this['setMeshIns'+'tanceMatri'+'ces'](_0x15544b,!(0x13d6+0x3df*-0x8+0xb22)),this['setupMeshU'+'niformBuff'+'ers'](_0xcbee76);const _0x41f071=_0x15544b['renderStyl'+'e'],_0x109c77=_0x2c96ae['indexBuffe'+'r'][_0x41f071];_0x29cb92==null||_0x29cb92(_0x15544b,_0x5cdcf9);const _0x4b2c29=(_0x7643df=_0x15544b['indirectDa'+'ta'])==null?void(-0x559*-0x3+-0x19c7+0x1*0x9bc):_0x7643df['get'](_0x90f54a);if(_0xf90eee)for(let _0x438d1=0xd*-0x2a7+0xab9+-0x2*-0xbe1;_0x438d1<_0xf90eee['length'];_0x438d1++){const _0x477462=_0xf90eee[_0x438d1];if(_0x2a1dac['setViewpor'+'t'](_0x477462['viewport']['x'],_0x477462['viewport']['y'],_0x477462['viewport']['z'],_0x477462['viewport']['w']),_0x2a1dac['supportsUn'+'iformBuffe'+'rs']){const _0x5299ae=_0x59f8ad[_0x438d1];_0x2a1dac['setBindGro'+'up'](rl,_0x5299ae);}else this['setupViewU'+'niforms'](_0x477462,_0x438d1);const _0x1b5f6e=_0x438d1===-0x146b+-0x10a0+0x250b,_0x5d4bc9=_0x438d1===_0xf90eee['length']-(-0x6*-0x64d+-0x3*-0x13a+-0x297b);_0x2a1dac['draw'](_0x2c96ae['primitive'][_0x41f071],_0x109c77,_0x2adcf9==null?void(-0x30e+0xad5+-0x7c7):_0x2adcf9['count'],_0x4b2c29,_0x1b5f6e,_0x5d4bc9),this['_forwardDr'+'awCalls']++,_0x15544b['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;}else _0x2a1dac['draw'](_0x2c96ae['primitive'][_0x41f071],_0x109c77,_0x2adcf9==null?void(0x576+-0x2dc+0x6*-0x6f):_0x2adcf9['count'],_0x4b2c29),this['_forwardDr'+'awCalls']++,_0x15544b['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;_0x5cdcf9<_0x4d48f2-(-0x113f+-0x699+0x21*0xb9)&&!_0x9e5249['isNewMater'+'ial'][_0x5cdcf9+(-0x7d3+0x590*-0x4+0x1e14)]&&_0x519b39['setParamet'+'ers'](_0x2a1dac,_0x15544b['parameters']),Q['popGpuMark'+'er'](_0x2a1dac);}}['renderForw'+'ard'](_0x464357,_0x39dd81,_0x12f4bb,_0x1023d3,_0x107577,_0x40ef76,_0x6b1059,_0x1925f6,_0x389191){const _0x573e6f=de(),_0x24ef4e=this['renderForw'+'ardPrepare'+'Materials'](_0x464357,_0x39dd81,_0x12f4bb,_0x1023d3,_0x6b1059,_0x107577);this['renderForw'+'ardInterna'+'l'](_0x464357,_0x24ef4e,_0x1023d3,_0x107577,_0x40ef76,_0x1925f6,_0x389191),Nr['clear'](),this['_forwardTi'+'me']+=de()-_0x573e6f;}['renderForw'+'ardLayer'](_0x1a9880,_0x1682aa,_0x53f953,_0x37157a,_0x39e4b6,_0x313b91,_0x2c3c95={}){const {scene:_0x47daa9,device:_0x5c7446}=this,_0xc722a7=_0x47daa9['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x1a9880,_0x1682aa);let _0x3d6699,_0x195369;if(_0x53f953){const _0x15b87f=de();_0x53f953['sortVisibl'+'e'](_0x1a9880,_0x37157a),this['_sortTime']+=de()-_0x15b87f;const _0x232dbf=_0x53f953['getCulledI'+'nstances'](_0x1a9880);_0x3d6699=_0x37157a?_0x232dbf['transparen'+'t']:_0x232dbf['opaque'],_0x47daa9['immediate']['onPreRende'+'rLayer'](_0x53f953,_0x3d6699,_0x37157a),_0x53f953['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x47daa9['ambientLig'+'ht'],_0x53f953['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x195369=_0x53f953['splitLight'+'s'];}else _0x3d6699=_0x2c3c95['meshInstan'+'ces'],_0x195369=_0x2c3c95['splitLight'+'s']??Qb;if(w['assert'](_0x3d6699,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0xc722a7){const _0x38184a=_0x2c3c95['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x38184a['activate'](),_0x53f953&&!this['clustersDe'+'bugRendere'+'d']&&_0x47daa9['lighting']['debugLayer']===_0x53f953['id']&&(this['clustersDe'+'bugRendere'+'d']=!(-0x1*-0x2431+-0x189*0xc+-0x1*0x11c5),hu['render'](_0x38184a,this['scene']));}_0x47daa9['_activeCam'+'era']=_0x1a9880;const _0x533e78=_0x1a9880['fogParams']??this['scene']['fog'];this['setFogCons'+'tants'](_0x533e78);const _0x2ebeeb=this['setCameraU'+'niforms'](_0x1a9880,_0x1682aa);_0x5c7446['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x313b91,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x2ebeeb);const _0x49a9f9=_0x2c3c95['clearColor']??!(0x49*-0x79+-0x7*-0x3dd+0x777),_0x54790d=_0x2c3c95['clearDepth']??!(0x501+-0x25*0x19+-0x163),_0x3aabea=_0x2c3c95['clearStenc'+'il']??!(0x1d98*0x1+0x4*-0x10c+0x1*-0x1967);(_0x49a9f9||_0x54790d||_0x3aabea)&&this['clear'](_0x1a9880,_0x49a9f9,_0x54790d,_0x3aabea);const _0x274593=!!(_0x1a9880['_flipFaces']^(_0x1682aa==null?void(-0x255c+0x1*-0x1471+-0x39cd*-0x1):_0x1682aa['flipY'])),_0x3f03a1=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x1a9880,_0x1682aa,_0x3d6699,_0x195369,_0x39e4b6,null,_0x53f953,_0x274593,_0x313b91),_0x53f953&&(_0x53f953['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x3f03a1);}['setFogCons'+'tants'](_0x221340){if(_0x221340['type']!==Kn){or['linear'](_0x221340['color']);const _0x2adb00=this['fogColor'];_0x2adb00[-0x12*-0x1d3+0x99b*-0x4+0x596]=or['r'],_0x2adb00[0xa84+0xcb6+-0x1739]=or['g'],_0x2adb00[0xfb0+0x86d*-0x4+-0x1206*-0x1]=or['b'],this['fogColorId']['setValue'](_0x2adb00),_0x221340['type']===Iw?(this['fogStartId']['setValue'](_0x221340['start']),this['fogEndId']['setValue'](_0x221340['end'])):this['fogDensity'+'Id']['setValue'](_0x221340['density']);}}['setSceneCo'+'nstants'](){const _0x31c80f=this['scene'];this['dispatchGl'+'obalLights'](_0x31c80f);const _0x17d4fb=this['device'];this['_screenSiz'+'e'][0x9b+-0x1*-0x855+-0x2*0x478]=_0x17d4fb['width'],this['_screenSiz'+'e'][0x2*0xcfb+-0x6d7+-0x98f*0x2]=_0x17d4fb['height'],this['_screenSiz'+'e'][0x34d*0x1+-0x1cfd*0x1+0x19b2]=(0xb0a+-0x7*0x292+0x6f5)/_0x17d4fb['width'],this['_screenSiz'+'e'][0x629*0x5+0x1553+-0x115f*0x3]=(0x1*-0x1f5b+0x53e*-0x1+0x249a)/_0x17d4fb['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x364a14,_0xb2ca6a){const _0x549fc2=this['scene'];if(_0x364a14['reset'](),_0x549fc2['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x21198d,cookiesEnabled:_0x527405}=_0x549fc2['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x364a14,_0x21198d,_0x527405,this['lights'],this['localLight'+'s']),_0x364a14['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x364a14,this['localLight'+'s']);let _0x270c55=-0x13ae+0x749+0xc65,_0x44235e=!(-0xa7*-0x18+-0x1b77+0xbcf),_0x45ff76=null;const _0x56057d=_0xb2ca6a['_renderAct'+'ions'];for(let _0x5773d0=_0x270c55;_0x5773d0<_0x56057d['length'];_0x5773d0++){const _0x478411=_0x56057d[_0x5773d0],{layer:_0x34299b,camera:_0x4fe3a6}=_0x478411;if(_0x478411['useCameraP'+'asses'])w['call'](()=>{_0x4fe3a6['postEffect'+'s']['effects']['length']>0xd2f+0x208e+0x3*-0xf3f&&w['warnOnce']('Camera\x20\x27'+_0x4fe3a6['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x4fe3a6['camera']['renderPass'+'es']['forEach'](_0x4f7f43=>{_0x364a14['addRenderP'+'ass'](_0x4f7f43);});else{const _0xb55ee2=_0x34299b['id']===ps,_0x944268=_0xb55ee2&&(_0x4fe3a6['renderScen'+'eColorMap']||_0x4fe3a6['renderScen'+'eDepthMap']);_0x44235e&&(_0x44235e=!(-0x2403*-0x1+0x124d+0x364f*-0x1),_0x270c55=_0x5773d0,_0x45ff76=_0x478411['renderTarg'+'et']);const _0x248a0b=_0x56057d[_0x5773d0+(-0x20e9+-0x1*0x20d3+0x41bd)],_0x1af86c=(_0x248a0b?!_0x248a0b['useCameraP'+'asses']&&_0x248a0b['layer']['id']===ps:!(0x10f*-0x9+-0x1*0xf4f+0x1*0x18d7))&&(_0x4fe3a6['renderScen'+'eColorMap']||_0x4fe3a6['renderScen'+'eDepthMap']),_0x1dee15=_0x248a0b?_0x248a0b['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0x248a0b['camera']['camera']):!(-0x3*0xbb6+0xf*-0x26e+0x4795);if(!_0x248a0b||_0x248a0b['renderTarg'+'et']!==_0x45ff76||_0x1dee15||_0x1af86c||_0x944268){if(_0xb55ee2&&_0x270c55===_0x5773d0||this['addMainRen'+'derPass'](_0x364a14,_0xb2ca6a,_0x45ff76,_0x270c55,_0x5773d0),_0xb55ee2){if(_0x4fe3a6['renderScen'+'eColorMap']){const _0x55a4fe=_0x4fe3a6['camera']['renderPass'+'ColorGrab'];_0x55a4fe['source']=_0x4fe3a6['renderTarg'+'et'],_0x364a14['addRenderP'+'ass'](_0x55a4fe);}_0x4fe3a6['renderScen'+'eDepthMap']&&_0x364a14['addRenderP'+'ass'](_0x4fe3a6['camera']['renderPass'+'DepthGrab']);}if(_0x478411['triggerPos'+'tprocess']&&(_0x4fe3a6!=null&&_0x4fe3a6['onPostproc'+'essing'])){const _0x316605=new Zb(this['device'],this,_0x478411);_0x364a14['addRenderP'+'ass'](_0x316605);}_0x44235e=!(-0x13*0x13+-0x1*-0x7e5+-0x67c);}}}}['addMainRen'+'derPass'](_0x68f8ec,_0x2208bf,_0x149bf6,_0x4ea894,_0x48508d){const _0x4faffd=new Kb(this['device'],_0x2208bf,this['scene'],this);_0x4faffd['init'](_0x149bf6);const _0x5a4f8e=_0x2208bf['_renderAct'+'ions'];for(let _0x3b1627=_0x4ea894;_0x3b1627<=_0x48508d;_0x3b1627++)_0x4faffd['addRenderA'+'ction'](_0x5a4f8e[_0x3b1627]);_0x68f8ec['addRenderP'+'ass'](_0x4faffd);}['update'](_0x362110){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x362110),this['collectLig'+'hts'](_0x362110),this['beginFrame'](_0x362110),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x362110),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};h(Ni,'skipRender'+'Camera',null),h(Ni,'_skipRende'+'rCounter',-0x13a1+0x2*-0x3f+-0x12f*-0x11),h(Ni,'skipRender'+'After',0x127e+-0x17a3+0x3*0x1b7);let fl=Ni,uf=0x1a8c+-0x1c87+0x1fb;const co=[],hc=new Set();function tA(_0x2b8c08,_0x2dca78){return _0x2b8c08['drawOrder']-_0x2dca78['drawOrder'];}function sA(_0x2604e8,_0x537c4d){const _0x5935c6=_0x2604e8['_sortKeyFo'+'rward'],_0x287305=_0x537c4d['_sortKeyFo'+'rward'];return _0x5935c6===_0x287305?_0x537c4d['mesh']['id']-_0x2604e8['mesh']['id']:_0x287305-_0x5935c6;}function iA(_0x4b17e9,_0x414fe3){return _0x414fe3['_sortKeyDy'+'namic']-_0x4b17e9['_sortKeyDy'+'namic'];}function rA(_0x41ee1a,_0x411ddd){return _0x41ee1a['_sortKeyDy'+'namic']-_0x411ddd['_sortKeyDy'+'namic'];}const aA=[null,tA,sA,iA,rA];class nA{constructor(){h(this,'opaque',[]),h(this,'transparen'+'t',[]);}}class Ot{constructor(_0x5a8c20={}){h(this,'meshInstan'+'ces',[]),h(this,'meshInstan'+'cesSet',new Set()),h(this,'shadowCast'+'ers',[]),h(this,'shadowCast'+'ersSet',new Set()),h(this,'_visibleIn'+'stances',new WeakMap()),h(this,'_lights',[]),h(this,'_lightsSet',new Set()),h(this,'_clustered'+'LightsSet',new Set()),h(this,'_splitLigh'+'ts',[[],[],[]]),h(this,'_splitLigh'+'tsDirty',!(0x1899+-0x22f0+0xa57*0x1)),h(this,'requiresLi'+'ghtCube',!(-0xd*-0xe9+0x1*0x165c+-0x223*0x10)),h(this,'cameras',[]),h(this,'camerasSet',new Set()),h(this,'_dirtyComp'+'osition',!(0x1394+0xd3*-0x9+-0xc28)),(_0x5a8c20['id']!==void(0x1b3f+-0x1f7d+0x43e)?(this['id']=_0x5a8c20['id'],uf=Math['max'](this['id']+(-0x3a1*-0x1+-0x18ee*0x1+0x154e),uf)):this['id']=uf++,this['name']=_0x5a8c20['name'],this['_enabled']=_0x5a8c20['enabled']??!(0xfdd+-0x8fb+0x2*-0x371),this['_refCounte'+'r']=this['_enabled']?-0x3*-0xc2e+0x584+-0x5*0x869:0x2fb+-0x26*-0xb1+0x1*-0x1d41,this['opaqueSort'+'Mode']=_0x5a8c20['opaqueSort'+'Mode']??Yw,this['transparen'+'tSortMode']=_0x5a8c20['transparen'+'tSortMode']??m_,_0x5a8c20['renderTarg'+'et']&&(this['renderTarg'+'et']=_0x5a8c20['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0x5a8c20['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0x5a8c20['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0x5a8c20['clearStenc'+'ilBuffer'],this['onEnable']=_0x5a8c20['onEnable'],this['onDisable']=_0x5a8c20['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=-0xa3*0x35+-0x1*-0x13a+0x2085,this['_lightHash'+'Dirty']=!(-0x223d+0x805*-0x1+0x2a43),this['_lightIdHa'+'sh']=-0x40*0x2c+0x2233+-0x1733,this['_lightIdHa'+'shDirty']=!(0x859*0x4+0x1*0x27e+-0x23e1),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=-0x741+0x20b1+-0x1970,this['_renderTim'+'e']=-0x120c+0x13e2+-0x1d6,this['_forwardDr'+'awCalls']=0x214e+-0x1*-0x8cd+-0x2a1b*0x1,this['_shadowDra'+'wCalls']=0xdf+-0x24e*0x1+0x16f,this['_shaderVer'+'sion']=-(-0x1*-0x1a99+0x1166+-0x2bfe));}set['enabled'](_0x1b7388){_0x1b7388!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(-0x16de+-0x40f*-0x2+0xec0),this['_enabled']=_0x1b7388,_0x1b7388?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x5b547b){this['_clearColo'+'rBuffer']=_0x5b547b,this['_dirtyComp'+'osition']=!(0x11*0xb5+-0x22bb+0x16b6*0x1);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0x5621b7){this['_clearDept'+'hBuffer']=_0x5621b7,this['_dirtyComp'+'osition']=!(-0x26f9+-0x2706+0x4dff*0x1);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x540d79){this['_clearSten'+'cilBuffer']=_0x540d79,this['_dirtyComp'+'osition']=!(-0x843+-0x1b30+0x2373);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x12f3+-0x26d*-0x6+-0x19*-0x2d;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===-0x7eb+-0x1878+0x2063&&(this['_enabled']=!(0x77e+-0x20c8+0xa6*0x27),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===0x1bdb+-0x43*0x30+0x67*-0x26)this['_enabled']=!(-0x146*-0x4+-0x18a6+0x138f),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===-0x2*-0x50b+0x4*-0x51e+0x376*0x3){w['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0xe9fc97,_0x5dd240){const _0x1fd208=this['meshInstan'+'ces'],_0x515d1f=this['meshInstan'+'cesSet'];for(let _0x16ea1d=0x3f*-0x16+-0x1*-0xbf1+0x1*-0x687;_0x16ea1d<_0xe9fc97['length'];_0x16ea1d++){const _0x1e3672=_0xe9fc97[_0x16ea1d];_0x515d1f['has'](_0x1e3672)||(_0x1fd208['push'](_0x1e3672),_0x515d1f['add'](_0x1e3672),hc['add'](_0x1e3672['material']));}if(_0x5dd240||this['addShadowC'+'asters'](_0xe9fc97),hc['size']>0xa1d+-0x3*0x905+0x879*0x2){const _0x38be52=this['_shaderVer'+'sion'];hc['forEach'](_0x2ceb11=>{_0x38be52>=-0xdab+0x53*0x1+-0x38*-0x3d&&_0x2ceb11['_shaderVer'+'sion']!==_0x38be52&&(_0x2ceb11['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant']&&_0x2ceb11['clearVaria'+'nts'](),_0x2ceb11['_shaderVer'+'sion']=_0x38be52);}),hc['clear']();}}['removeMesh'+'Instances'](_0x26c234,_0x3d91f6){const _0x1a082d=this['meshInstan'+'ces'],_0x11e999=this['meshInstan'+'cesSet'];for(let _0x1b22e8=0x1e2+-0x1*-0x26e1+-0x28c3;_0x1b22e8<_0x26c234['length'];_0x1b22e8++){const _0x140371=_0x26c234[_0x1b22e8];if(_0x11e999['has'](_0x140371)){_0x11e999['delete'](_0x140371);const _0x237719=_0x1a082d['indexOf'](_0x140371);_0x237719>=0x2205+0x101c+-0x3221&&_0x1a082d['splice'](_0x237719,-0x29e+-0x1ad+0x1*0x44c);}}_0x3d91f6||this['removeShad'+'owCasters'](_0x26c234);}['addShadowC'+'asters'](_0x2a8246){const _0x31d2a2=this['shadowCast'+'ers'],_0x2a0898=this['shadowCast'+'ersSet'];for(let _0x57c386=0xd9+0x9b7+-0xa90;_0x57c386<_0x2a8246['length'];_0x57c386++){const _0x1084ed=_0x2a8246[_0x57c386];_0x1084ed['castShadow']&&!_0x2a0898['has'](_0x1084ed)&&(_0x2a0898['add'](_0x1084ed),_0x31d2a2['push'](_0x1084ed));}}['removeShad'+'owCasters'](_0x57c5bb){const _0x299e96=this['shadowCast'+'ers'],_0x283037=this['shadowCast'+'ersSet'];for(let _0x3c033b=0x1d1*0x5+-0x22a5+0x1990;_0x3c033b<_0x57c5bb['length'];_0x3c033b++){const _0x628414=_0x57c5bb[_0x3c033b];if(_0x283037['has'](_0x628414)){_0x283037['delete'](_0x628414);const _0x43b8d0=_0x299e96['indexOf'](_0x628414);_0x43b8d0>=0x3*-0x475+-0x58d*-0x5+-0x20e*0x7&&_0x299e96['splice'](_0x43b8d0,0x1*-0x207b+0x1522+0x1*0xb5a);}}}['clearMeshI'+'nstances'](_0x24fe64=!(-0x43*0x1d+-0x10ac+0x1844)){this['meshInstan'+'ces']['length']=-0x631+0x25a7+-0x1f76*0x1,this['meshInstan'+'cesSet']['clear'](),_0x24fe64||(this['shadowCast'+'ers']['length']=0x1dc7+0x1862+0x2f*-0x127,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(-0x8*-0x3f6+0x32+0x173*-0x16),this['_lightIdHa'+'shDirty']=!(0x218*-0xa+0x138+0x13b8),this['_splitLigh'+'tsDirty']=!(-0x113+0x1bd*-0x1+-0x10*-0x2d);}['hasLight'](_0x13928a){return this['_lightsSet']['has'](_0x13928a);}['addLight'](_0x35cd6f){const _0x44c46a=_0x35cd6f['light'];this['_lightsSet']['has'](_0x44c46a)||(this['_lightsSet']['add'](_0x44c46a),this['_lights']['push'](_0x44c46a),this['markLights'+'Dirty']()),_0x44c46a['type']!==ve&&this['_clustered'+'LightsSet']['add'](_0x44c46a);}['removeLigh'+'t'](_0x18afb1){const _0x338703=_0x18afb1['light'];this['_lightsSet']['has'](_0x338703)&&(this['_lightsSet']['delete'](_0x338703),this['_lights']['splice'](this['_lights']['indexOf'](_0x338703),0x94f+-0x59*-0x4c+-0x23ba),this['markLights'+'Dirty']()),_0x338703['type']!==ve&&this['_clustered'+'LightsSet']['delete'](_0x338703);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x10f255=>_0x10f255['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0x1b6+0x11*-0x173+0x47*0x5f,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(0x1f41+-0xe9e+-0x10a2);const _0x3f442a=this['_splitLigh'+'ts'];for(let _0x436968=0x534+0xf1*0x5+0x9e9*-0x1;_0x436968<_0x3f442a['length'];_0x436968++)_0x3f442a[_0x436968]['length']=-0x2f4+-0x13c+0x430;const _0x4b143d=this['_lights'];for(let _0x375804=0x15c+0x1983+-0x1adf;_0x375804<_0x4b143d['length'];_0x375804++){const _0x5486f4=_0x4b143d[_0x375804];_0x5486f4['enabled']&&_0x3f442a[_0x5486f4['_type']]['push'](_0x5486f4);}for(let _0x345d32=-0x1*0x25a8+0x1*-0x21a7+0x474f;_0x345d32<_0x3f442a['length'];_0x345d32++)_0x3f442a[_0x345d32]['sort']((_0x12f7b6,_0x24eb61)=>_0x12f7b6['key']-_0x24eb61['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x11b4c7,_0x2817eb,_0x1dd3f0){let _0x50ae36=0x79e+0x6a3*0x2+-0x14e4;const _0x168619=this['_lights'];for(let _0x589e8e=-0xb36*-0x2+-0x1304+0x4*-0xda;_0x589e8e<_0x168619['length'];_0x589e8e++){const _0x18b4b6=_0x168619[_0x589e8e]['type']!==ve;(_0x11b4c7&&_0x18b4b6||_0x2817eb&&!_0x18b4b6)&&co['push'](_0x1dd3f0?_0x168619[_0x589e8e]['id']:_0x168619[_0x589e8e]['key']);}return co['length']>-0x11e5+-0x12f1+0x24d6&&(co['sort'](),_0x50ae36=By(co),co['length']=0x2*0xb79+0x1*-0xfeb+-0x707*0x1),_0x50ae36;}['getLightHa'+'sh'](_0x123183){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(0xec0+-0x1518+-0x1*-0x659),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x123183,!(0x15*0xf9+-0x23ad*-0x1+-0x381a*0x1),!(-0xe*0x163+0x2*0xda1+-0x7d7*0x1))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(-0x79a+0x1*-0xa79+0x1214),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(-0xd8c*-0x1+0x1f33+-0x2cbf),!(0x1*0x15da+-0x1*-0x4d9+-0x1ab2),!(0x1431*-0x1+0x620+0xe11))),this['_lightIdHa'+'sh'];}['addCamera'](_0x53daf3){this['camerasSet']['has'](_0x53daf3['camera'])||(this['camerasSet']['add'](_0x53daf3['camera']),this['cameras']['push'](_0x53daf3),this['_dirtyComp'+'osition']=!(0x6f7*0x5+-0x12e*-0x2+-0x39*0xa7));}['removeCame'+'ra'](_0x4e435c){if(this['camerasSet']['has'](_0x4e435c['camera'])){this['camerasSet']['delete'](_0x4e435c['camera']);const _0x2a5656=this['cameras']['indexOf'](_0x4e435c);this['cameras']['splice'](_0x2a5656,0x1*0x1d21+0x69d*0x5+-0x57*0xb7),this['_dirtyComp'+'osition']=!(0x1964+0xa*0x101+0x2*-0x11b7);}}['clearCamer'+'as'](){this['cameras']['length']=0x1*-0x509+-0x6d*0x3b+0x1e28,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(-0x16b7+-0x4*0x3ee+0x266f);}['_calculate'+'SortDistan'+'ces'](_0x14be90,_0x12a84d,_0x288216){const _0x109249=_0x14be90['length'],{x:_0x358e8a,y:_0x370ae3,z:_0x5557e7}=_0x12a84d,{x:_0x1afa2d,y:_0x103760,z:_0xb0dc94}=_0x288216;for(let _0x2bd668=0x27*0x7d+-0xcc2+-0x649;_0x2bd668<_0x109249;_0x2bd668++){const _0x857b98=_0x14be90[_0x2bd668];let _0xc03099;if(_0x857b98['calculateS'+'ortDistanc'+'e'])_0xc03099=_0x857b98['calculateS'+'ortDistanc'+'e'](_0x857b98,_0x12a84d,_0x288216);else{const _0x466da4=_0x857b98['aabb']['center'];_0xc03099=(_0x466da4['x']-_0x358e8a)*_0x1afa2d+(_0x466da4['y']-_0x370ae3)*_0x103760+(_0x466da4['z']-_0x5557e7)*_0xb0dc94;}const _0x114e6c=_0x857b98['_drawBucke'+'t']*(-0x30962932+0x22e2d9*-0x295+0xc644ad7f*0x1);_0x857b98['_sortKeyDy'+'namic']=_0x114e6c+_0xc03099;}}['getCulledI'+'nstances'](_0x44b9b2){let _0x1043be=this['_visibleIn'+'stances']['get'](_0x44b9b2);return _0x1043be||(_0x1043be=new nA(),this['_visibleIn'+'stances']['set'](_0x44b9b2,_0x1043be)),_0x1043be;}['sortVisibl'+'e'](_0x7b699d,_0x5002e3){const _0x5dc1db=_0x5002e3?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x5dc1db===Yc)return;const _0x21e153=this['getCulledI'+'nstances'](_0x7b699d),_0x36c3b5=_0x5002e3?_0x21e153['transparen'+'t']:_0x21e153['opaque'],_0x1635be=_0x7b699d['node'];if(_0x5dc1db===Zw){const _0x46f9e7=_0x1635be['getPositio'+'n'](),_0x1a6dfc=_0x1635be['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x36c3b5,_0x36c3b5['length'],_0x46f9e7,_0x1a6dfc),this['customSort'+'Callback']&&_0x36c3b5['sort'](this['customSort'+'Callback']);}else{if(_0x5dc1db===m_||_0x5dc1db===Kw){const _0xd20335=_0x1635be['getPositio'+'n'](),_0x1fbbf1=_0x1635be['forward'];this['_calculate'+'SortDistan'+'ces'](_0x36c3b5,_0xd20335,_0x1fbbf1);}_0x36c3b5['sort'](aA[_0x5dc1db]);}}}const oA=(_0x436b5c,_0x4dd490)=>_0x436b5c['priority']-_0x4dd490['priority'],ul=_0x3f96a2=>_0x3f96a2['sort'](oA);class du extends me{constructor(_0x4332c8='Untitled'){super(),h(this,'layerList',[]),h(this,'layerIdMap',new Map()),h(this,'layerNameM'+'ap',new Map()),h(this,'layerOpaqu'+'eIndexMap',new Map()),h(this,'layerTrans'+'parentInde'+'xMap',new Map()),h(this,'subLayerLi'+'st',[]),h(this,'subLayerEn'+'abled',[]),h(this,'cameras',[]),h(this,'_renderAct'+'ions',[]),h(this,'_dirty',!(-0x1c1*0x13+-0x1c4*0xe+-0x5*-0xb9c)),(this['name']=_0x4332c8,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x28a741=>_0x28a741['destroy']()),this['_renderAct'+'ions']['length']=-0x996+-0x4*0x404+0x1*0x19a6;}['markDirty'](){this['_dirty']=!(-0x563*-0x1+-0x135+0x1*-0x42e);}['_update'](){const _0x5a8709=this['layerList']['length'];if(!this['_dirty']){for(let _0x128d6f=0xe6f+0xa*-0x212+-0x645*-0x1;_0x128d6f<_0x5a8709;_0x128d6f++)if(this['layerList'][_0x128d6f]['_dirtyComp'+'osition']){this['_dirty']=!(-0x1f*-0x72+0x1141*0x1+0x1f0f*-0x1);break;}}if(this['_dirty']){this['_dirty']=!(-0x9f*0xa+-0x4fe+0x1*0xb35),this['cameras']['length']=-0x7c2*-0x1+-0x9ff*-0x1+0x2d*-0x65;for(let _0x3a8109=0xfc0+0xa7d+0x1*-0x1a3d;_0x3a8109<_0x5a8709;_0x3a8109++){const _0x369523=this['layerList'][_0x3a8109];_0x369523['_dirtyComp'+'osition']=!(0xfb2+0x67*-0xb+0x67*-0x1c);for(let _0xd0b155=0xb8*0x8+0x20d5+-0x77*0x53;_0xd0b155<_0x369523['cameras']['length'];_0xd0b155++){const _0x2dae5e=_0x369523['cameras'][_0xd0b155];this['cameras']['indexOf'](_0x2dae5e)<0x2360+-0x1*-0x614+0x4*-0xa5d&&this['cameras']['push'](_0x2dae5e);}}this['cameras']['length']>-0x111*0x16+0x694+0x10e3&&ul(this['cameras']);let _0x448014=0x2419+-0x2640+-0x1d*-0x13;this['destroyRen'+'derActions']();for(let _0x4fe5f2=-0x1a2f*0x1+-0x64*0x1+-0x1*-0x1a93;_0x4fe5f2<this['cameras']['length'];_0x4fe5f2++){const _0xcaf1d3=this['cameras'][_0x4fe5f2];if(_0xcaf1d3['camera']['renderPass'+'es']['length']>0x84f+-0x21e0+-0x23*-0xbb){this['addDummyRe'+'nderAction'](_0x448014,_0xcaf1d3),_0x448014++;continue;}let _0x51edd7=!(-0x2*0x1006+-0x4*0x669+-0x47*-0xd0);const _0x196bd0=_0x448014;let _0x2cde54=null,_0x2b964c=!(-0xb*0x151+-0x218f+-0x1*-0x300b);for(let _0xaf4f32=-0x19db+0x142f*0x1+0x5ac;_0xaf4f32<_0x5a8709;_0xaf4f32++){const _0xc6996d=this['layerList'][_0xaf4f32];if(_0xc6996d['enabled']&&this['subLayerEn'+'abled'][_0xaf4f32]&&_0xc6996d['cameras']['length']>-0xe45+-0x2402+0x3d*0xd3&&_0xcaf1d3['layers']['indexOf'](_0xc6996d['id'])>=0xbe2+-0x1094*0x1+0x259*0x2){!_0x2b964c&&_0xc6996d['id']===_0xcaf1d3['disablePos'+'tEffectsLa'+'yer']&&(_0x2b964c=!(-0x283*0x8+0x11*0x1de+-0xba6),_0x2cde54&&(_0x2cde54['triggerPos'+'tprocess']=!(0xc40+0x262e+-0x326e)));const _0x583c2b=this['subLayerLi'+'st'][_0xaf4f32];_0x2cde54=this['addRenderA'+'ction'](_0x448014,_0xc6996d,_0x583c2b,_0xcaf1d3,_0x51edd7,_0x2b964c),_0x448014++,_0x51edd7=!(-0x1*0xde+0x4b5+-0x3d6);}}_0x196bd0<_0x448014&&(_0x2cde54['lastCamera'+'Use']=!(-0x1d*0x7+0x4*-0x179+0x1*0x6af)),!_0x2b964c&&_0x2cde54&&(_0x2cde54['triggerPos'+'tprocess']=!(0x43*0x64+0x3*0x162+-0x1e52)),_0xcaf1d3['renderTarg'+'et']&&_0xcaf1d3['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x196bd0-(-0x1cab+0x2ee+0x19be),_0xcaf1d3);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x33784d){w['assert'](this['_renderAct'+'ions']['length']===_0x33784d);const _0xc74cc1=new Pv();return this['_renderAct'+'ions']['push'](_0xc74cc1),_0xc74cc1;}['addDummyRe'+'nderAction'](_0x48e60b,_0x4cef80){const _0x31d3db=this['getNextRen'+'derAction'](_0x48e60b);_0x31d3db['camera']=_0x4cef80,_0x31d3db['useCameraP'+'asses']=!(-0x1*0x215e+0x3f*0x35+0x1*0x1453);}['addRenderA'+'ction'](_0x59b425,_0x54ccd9,_0x5dd293,_0x26860b,_0x4ba486,_0x3e2402){let _0x416c8d=_0x54ccd9['id']!==ps?_0x26860b['renderTarg'+'et']:null,_0x1a61b2=!(-0xfdc+-0x4c9*-0x6+-0xd*0xfd);const _0x373db2=this['_renderAct'+'ions'];for(let _0x245b60=_0x59b425-(-0x2369+-0xdf*0x1a+0xe84*0x4);_0x245b60>=-0x77c*-0x1+-0x1277+-0xafb*-0x1;_0x245b60--)if(_0x373db2[_0x245b60]['camera']===_0x26860b&&_0x373db2[_0x245b60]['renderTarg'+'et']===_0x416c8d){_0x1a61b2=!(-0x1b2f+-0xbd6*-0x1+0xf59);break;}_0x3e2402&&_0x26860b['postEffect'+'sEnabled']&&(_0x416c8d=null);const _0x4a7364=this['getNextRen'+'derAction'](_0x59b425);_0x4a7364['triggerPos'+'tprocess']=!(-0x1*-0xb36+-0xb01+-0x34),_0x4a7364['layer']=_0x54ccd9,_0x4a7364['transparen'+'t']=_0x5dd293,_0x4a7364['camera']=_0x26860b,_0x4a7364['renderTarg'+'et']=_0x416c8d,_0x4a7364['firstCamer'+'aUse']=_0x4ba486,_0x4a7364['lastCamera'+'Use']=!(-0xbec+0x1fb5+-0x13c8);const _0x3e63b2=_0x4ba486||!_0x1a61b2,_0x4b3788=_0x54ccd9['clearColor'+'Buffer']||_0x54ccd9['clearDepth'+'Buffer']||_0x54ccd9['clearStenc'+'ilBuffer'];return(_0x3e63b2||_0x4b3788)&&_0x4a7364['setupClear'+'s'](_0x3e63b2?_0x26860b:void(0x15c6+0x1edf+-0x34a5*0x1),_0x54ccd9),_0x4a7364;}['propagateR'+'enderTarge'+'t'](_0xeb5d87,_0x1cbc17){for(let _0x55b593=_0xeb5d87;_0x55b593>=-0x102e+-0x14ef*0x1+0x251d;_0x55b593--){const _0x4de6c4=this['_renderAct'+'ions'][_0x55b593],_0x56d118=_0x4de6c4['layer'];if(_0x4de6c4['renderTarg'+'et']&&_0x56d118['id']!==ps)break;if(_0x56d118['id']===ps)continue;if(_0x4de6c4['useCameraP'+'asses'])break;const _0x4d147d=_0x4de6c4==null?void(-0x9d5*0x1+0x6ba+-0x35*-0xf):_0x4de6c4['camera']['camera'];if(_0x4d147d&&(!_0x1cbc17['camera']['rect']['equals'](_0x4d147d['rect'])||!_0x1cbc17['camera']['scissorRec'+'t']['equals'](_0x4d147d['scissorRec'+'t'])))break;_0x4de6c4['renderTarg'+'et']=_0x1cbc17['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(mi['get'](Vl)){w['trace'](Vl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0x189c62=-0x157*0x1d+-0x3*0xb20+0x1*0x483b;_0x189c62<this['_renderAct'+'ions']['length'];_0x189c62++){const _0x433d3c=this['_renderAct'+'ions'][_0x189c62],_0x40e167=_0x433d3c['camera'];if(_0x433d3c['useCameraP'+'asses'])w['trace'](Vl,_0x189c62+('CustomPass'+'es\x20Cam:\x20')+(_0x40e167?_0x40e167['entity']['name']:'-'));else{const _0x4960fe=_0x433d3c['layer'],_0xb2e2bc=_0x4960fe['enabled']&&this['isEnabled'](_0x4960fe,_0x433d3c['transparen'+'t']),_0x522f68=(_0x433d3c['clearColor']?'Color\x20':'.....\x20')+(_0x433d3c['clearDepth']?'Depth\x20':'.....\x20')+(_0x433d3c['clearStenc'+'il']?'Stencil':'.......');w['trace'](Vl,_0x189c62+('\x20Cam:\x20'+(_0x40e167?_0x40e167['entity']['name']:'-'))['padEnd'](-0x1a0f+0x1*-0x40f+0x1e34,'\x20')+('\x20Lay:\x20'+_0x4960fe['name'])['padEnd'](0x4e*-0x2a+-0x4*-0x815+-0x1372,'\x20')+(_0x433d3c['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0xb2e2bc?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x433d3c['renderTarg'+'et']?_0x433d3c['renderTarg'+'et']['name']:'-'))['padEnd'](-0x1*0x4f1+0x22ef*0x1+-0x1de0,'\x20')+'\x20Clear:\x20'+_0x522f68+(_0x433d3c['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x433d3c['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x433d3c['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x426b5f){const _0x209fbd=this['layerIdMap']['get'](_0x426b5f['id'])===_0x426b5f;return w['assert'](!_0x209fbd,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x426b5f['name']),_0x209fbd;}['_isSublaye'+'rAdded'](_0x22f117,_0x14c250){return(_0x14c250?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0x22f117)!==void(0x6b4+0xb6d*0x1+-0x1221)?(w['error']('Sublayer\x20'+_0x22f117['name']+(',\x20transpar'+'ent:\x20')+_0x14c250+('\x20is\x20alread'+'y\x20added.')),!(0x1b6a*0x1+0x1*-0x2bd+-0x18ad)):!(-0x35*0x6f+-0x6e9*0x1+-0x1de5*-0x1);}['push'](_0x21060c){this['_isLayerAd'+'ded'](_0x21060c)||(this['layerList']['push'](_0x21060c),this['layerList']['push'](_0x21060c),this['_opaqueOrd'+'er'][_0x21060c['id']]=this['subLayerLi'+'st']['push'](!(-0xa*0x37+-0x25f5+0x22*0x12e))-(-0xf*-0xe9+0x1*0x1c71+-0x2a17),this['_transpare'+'ntOrder'][_0x21060c['id']]=this['subLayerLi'+'st']['push'](!(0x409*0x1+-0xe0*0xe+0x837*0x1))-(0xa*0x244+-0xc09*0x1+-0xa9e),this['subLayerEn'+'abled']['push'](!(0x1862+-0x1e3e+0x177*0x4)),this['subLayerEn'+'abled']['push'](!(0x1*-0x973+0x1c5c+0x67*-0x2f)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1fb4+-0x83f*-0x1+0x1775),this['fire']('add',_0x21060c));}['insert'](_0xe66a1b,_0x4eb9a4){if(this['_isLayerAd'+'ded'](_0xe66a1b))return;this['layerList']['splice'](_0x4eb9a4,-0x1928+-0x33*0x31+0x22eb,_0xe66a1b,_0xe66a1b),this['subLayerLi'+'st']['splice'](_0x4eb9a4,0x21dc+-0x517+-0x1cc5,!(-0xdd8+-0x2282+0x305b),!(-0x1ae4+0x1589+0x55b));const _0x14b1a8=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x4eb9a4,_0x14b1a8-(-0x40*0x4+-0x19*-0x95+-0xd8c)),this['_updateTra'+'nsparentOr'+'der'](_0x4eb9a4,_0x14b1a8-(0xc02+0x1*-0xaed+-0x114)),this['subLayerEn'+'abled']['splice'](_0x4eb9a4,0x14c9+0xf36+-0x23ff,!(-0xf37+-0x3*0x6f8+0x241f),!(0x3a*-0x86+0x2178+-0x31c)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x7*0x4e9+0x230a+-0x4569),this['fire']('add',_0xe66a1b);}['remove'](_0x4b9852){let _0x21ec1b=this['layerList']['indexOf'](_0x4b9852);for(delete this['_opaqueOrd'+'er'][_0x21ec1b],delete this['_transpare'+'ntOrder'][_0x21ec1b];_0x21ec1b>=-0x119b*-0x2+-0x1177+-0x7*0x289;)this['layerList']['splice'](_0x21ec1b,-0x7b*0x4c+-0x4*-0xb5+0x21b1),this['subLayerLi'+'st']['splice'](_0x21ec1b,0x7a*0x1e+-0x5be+0xb*-0xc7),this['subLayerEn'+'abled']['splice'](_0x21ec1b,-0x1*-0x2363+0x1297*-0x2+0xe6*0x2),_0x21ec1b=this['layerList']['indexOf'](_0x4b9852),this['_dirty']=!(-0x24b4+0x7*0x10e+0x1d52),this['fire']('remove',_0x4b9852);const _0x12fc91=this['layerList']['length'];this['_updateOpa'+'queOrder'](0x1*-0x92f+-0xb1e+0x144d,_0x12fc91-(-0x824*-0x1+0x1f75+-0x5a8*0x7)),this['_updateTra'+'nsparentOr'+'der'](-0x17f*0x13+-0xa4e+0x26bb,_0x12fc91-(-0x22ab*0x1+-0x171c+0x39c8)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x74d8d7){this['_isSublaye'+'rAdded'](_0x74d8d7,!(0x1d57+0x6ed+-0x2443))||(this['layerList']['push'](_0x74d8d7),this['_opaqueOrd'+'er'][_0x74d8d7['id']]=this['subLayerLi'+'st']['push'](!(-0x188f*0x1+-0xbca+-0x42*-0x8d))-(-0x21*-0xc2+0xde9+-0x125*0x22),this['subLayerEn'+'abled']['push'](!(0x1*-0x1b50+0x4f7*-0x3+0x2a35)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x66+0x59d*0x1+-0x537),this['fire']('add',_0x74d8d7));}['insertOpaq'+'ue'](_0x311d1b,_0x3d2c2e){if(this['_isSublaye'+'rAdded'](_0x311d1b,!(-0x228e+-0x1*-0x22b1+-0x22)))return;this['layerList']['splice'](_0x3d2c2e,-0x5cf*-0x3+-0x14a6+0x339,_0x311d1b),this['subLayerLi'+'st']['splice'](_0x3d2c2e,-0x57*-0x59+0x169d+-0x34dc,!(-0x1*0x1b19+-0x1805+0x331f));const _0x5364a2=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x3d2c2e,_0x5364a2-(0x16a5+0x145*0x17+-0x33d7)),this['subLayerEn'+'abled']['splice'](_0x3d2c2e,0x7*-0x4e1+-0x18cd+0xc4*0x4d,!(0x554+-0x1d7*-0x1+-0x72b*0x1)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x12e6+0xe90+-0x2176),this['fire']('add',_0x311d1b);}['removeOpaq'+'ue'](_0x27f469){for(let _0x20d79b=0x21e*0x7+-0x1fde*0x1+0x110c,_0x197041=this['layerList']['length'];_0x20d79b<_0x197041;_0x20d79b++)if(this['layerList'][_0x20d79b]===_0x27f469&&!this['subLayerLi'+'st'][_0x20d79b]){this['layerList']['splice'](_0x20d79b,0x20ae+0xd5d+-0x53*0x8e),this['subLayerLi'+'st']['splice'](_0x20d79b,0x3b*-0xd+0x1d*-0x11b+0x1*0x230f),_0x197041--,this['_updateOpa'+'queOrder'](_0x20d79b,_0x197041-(-0x23b4+-0x96*0x2b+0x3ce7)),this['subLayerEn'+'abled']['splice'](_0x20d79b,-0x1*0xc31+0x1c*-0xd3+-0x2*-0x11a3),this['_dirty']=!(-0x1565+0x1f33+-0x9ce),this['layerList']['indexOf'](_0x27f469)<-0x831*-0x3+0x83*-0x32+0x103&&this['fire']('remove',_0x27f469);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x5d0464){this['_isSublaye'+'rAdded'](_0x5d0464,!(-0x11*0xc7+0x1231*0x2+-0x172b))||(this['layerList']['push'](_0x5d0464),this['_transpare'+'ntOrder'][_0x5d0464['id']]=this['subLayerLi'+'st']['push'](!(-0x974+-0x2169+0x2add))-(-0x1ea8+-0xe5*0x5+0x3*0xbb6),this['subLayerEn'+'abled']['push'](!(0x2488+0x1b24+-0x3fac)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x1*0xa59+-0x116d+0xed*0x1e),this['fire']('add',_0x5d0464));}['insertTran'+'sparent'](_0x3a94f8,_0x280863){if(this['_isSublaye'+'rAdded'](_0x3a94f8,!(0x1979+-0x131d+0x4a*-0x16)))return;this['layerList']['splice'](_0x280863,0x1c00+-0x2*-0xcaf+0x26d*-0x16,_0x3a94f8),this['subLayerLi'+'st']['splice'](_0x280863,-0x4*-0x4fd+0xa*0x2dd+-0x3096,!(0x47e*0x8+0x10*0x48+-0x2870));const _0x5aad68=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x280863,_0x5aad68-(-0x1c9d*0x1+0x47d*-0x3+0x51*0x85)),this['subLayerEn'+'abled']['splice'](_0x280863,0x1*0x18ca+0xc4e+-0x2518,!(0x116c+-0x4e+0x7*-0x272)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0x5f*-0x31+0xa49*0x3+-0x310a),this['fire']('add',_0x3a94f8);}['removeTran'+'sparent'](_0x4f3f58){for(let _0x409846=0x12c1+0x1*-0x1363+-0x9*-0x12,_0x1678e2=this['layerList']['length'];_0x409846<_0x1678e2;_0x409846++)if(this['layerList'][_0x409846]===_0x4f3f58&&this['subLayerLi'+'st'][_0x409846]){this['layerList']['splice'](_0x409846,-0x2b3*-0x1+0x222+-0x4d4),this['subLayerLi'+'st']['splice'](_0x409846,-0x1*-0x6fd+0xe0e+-0xa85*0x2),_0x1678e2--,this['_updateTra'+'nsparentOr'+'der'](_0x409846,_0x1678e2-(0x1df*-0x10+0xf*-0x4d+0x2274)),this['subLayerEn'+'abled']['splice'](_0x409846,0x1*-0x120a+0x1325+-0x5e*0x3),this['_dirty']=!(-0x1267+-0x1a2+0x1409),this['layerList']['indexOf'](_0x4f3f58)<-0x11*0x15a+0xc4d+0xaad&&this['fire']('remove',_0x4f3f58);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x12805f){return this['layerOpaqu'+'eIndexMap']['get'](_0x12805f)??-(-0x25f7+-0x6*-0x58f+0x49e*0x1);}['getTranspa'+'rentIndex'](_0x355b89){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x355b89)??-(-0x1fbf+0x13d3+0xbed);}['isEnabled'](_0x1a9fd7,_0x590ea){if(_0x1a9fd7['enabled']){const _0x4d8929=_0x590ea?this['getTranspa'+'rentIndex'](_0x1a9fd7):this['getOpaqueI'+'ndex'](_0x1a9fd7);if(_0x4d8929>=-0x16be+-0x3*-0x879+-0x1*0x2ad)return this['subLayerEn'+'abled'][_0x4d8929];}return!(-0x1*0x228d+0x1000+-0xa*-0x1db);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0xe95004=-0xbcf+-0x2*0xf35+-0x1*-0x2a39;_0xe95004<this['layerList']['length'];_0xe95004++){const _0x56e365=this['layerList'][_0xe95004];this['layerIdMap']['set'](_0x56e365['id'],_0x56e365),this['layerNameM'+'ap']['set'](_0x56e365['name'],_0x56e365),(this['subLayerLi'+'st'][_0xe95004]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x56e365,_0xe95004);}}['getLayerBy'+'Id'](_0x4ecf5d){return this['layerIdMap']['get'](_0x4ecf5d)??null;}['getLayerBy'+'Name'](_0x3b82ee){return this['layerNameM'+'ap']['get'](_0x3b82ee)??null;}['_updateOpa'+'queOrder'](_0x5b30d6,_0x94428d){for(let _0x214c29=_0x5b30d6;_0x214c29<=_0x94428d;_0x214c29++)this['subLayerLi'+'st'][_0x214c29]===!(-0x21b7*-0x1+-0x727+0xd*-0x20b)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x214c29]['id']]=_0x214c29);}['_updateTra'+'nsparentOr'+'der'](_0x99856d,_0x165833){for(let _0x3bc1a2=_0x99856d;_0x3bc1a2<=_0x165833;_0x3bc1a2++)this['subLayerLi'+'st'][_0x3bc1a2]===!(-0x10bf+-0x64a+0x1709)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x3bc1a2]['id']]=_0x3bc1a2);}['_sortLayer'+'sDescendin'+'g'](_0x227066,_0x357dce,_0x256451){let _0x20c2bf=-(-0xa1f*0x1+-0x1872+0x2292*0x1),_0x2ff91a=-(0x4d4*0x8+-0x5*-0x6ad+-0x4800);for(let _0x2dbb74=0x353*-0x2+-0x1*-0x1c8f+-0x15e9,_0x166d55=_0x227066['length'];_0x2dbb74<_0x166d55;_0x2dbb74++){const _0x5c3ed3=_0x227066[_0x2dbb74];_0x256451['hasOwnProp'+'erty'](_0x5c3ed3)&&(_0x20c2bf=Math['max'](_0x20c2bf,_0x256451[_0x5c3ed3]));}for(let _0x5c7477=0x379*0x2+0x545*0x5+-0x9*0x3b3,_0x7ad3a8=_0x357dce['length'];_0x5c7477<_0x7ad3a8;_0x5c7477++){const _0x22191e=_0x357dce[_0x5c7477];_0x256451['hasOwnProp'+'erty'](_0x22191e)&&(_0x2ff91a=Math['max'](_0x2ff91a,_0x256451[_0x22191e]));}return _0x20c2bf===-(0x16e*-0x8+-0x287*-0x2+0x221*0x3)&&_0x2ff91a!==-(-0xe3b+0x176f+-0x5*0x1d7)?-0x931*-0x2+0x5d8*-0x4+0x4ff:_0x2ff91a===-(0x2bb+0x5f*-0x6+0x2*-0x40)&&_0x20c2bf!==-(0x4*-0x952+0x18fe+0xc4b)?-(0x1*-0xc5f+-0x2*-0xef7+-0x118e):_0x2ff91a-_0x20c2bf;}['sortTransp'+'arentLayer'+'s'](_0x50dc0d,_0x7acf1d){return this['_sortLayer'+'sDescendin'+'g'](_0x50dc0d,_0x7acf1d,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x3bdd07,_0x21c72d){return this['_sortLayer'+'sDescendin'+'g'](_0x3bdd07,_0x21c72d,this['_opaqueOrd'+'er']);}}const dc=new D(),wi={'bias':0x0,'normalBias':0x0},ho=new ie(),pf={'r':0x0,'g':0x1,'b':0x2,'a':0x3},fu={'directional':ve,'omni':Ke,'point':Ke,'spot':Ze},lA=[[new re(0x8bc+0x242a*-0x1+0x2*0xdb7,0xec0+0x27*0x53+-0x1b65,-0x29*0xa8+0xbce*0x1+0xf1b,0xbcf+-0x167*-0x10+0x5b5*-0x6)],[new re(-0xfd5+-0xc*-0x78+0xa35,0x3fb+-0x15*-0x102+-0x1925,-0x1849*-0x1+-0x8d9+0x7b8*-0x2+0.5,-0x20a2+0x7b1*0x2+0x1140+0.5),new re(-0x1b9c+-0x51*-0x15+0x14f7,0xe8+-0x5de+0x4f6+0.5,0x1b*-0xb1+-0xa7*-0x2e+-0xb57*0x1+0.5,0x11f+0x18e2+-0x15*0x13d+0.5)],[new re(-0x800+0x3*0x77d+0x17*-0xa1,-0x11*0x82+0xc0+0x2*0x3f1,-0x76*-0x44+0x10b2*-0x1+0x4b*-0x32+0.5,0x23*0xd3+-0x1d80+0xa7+0.5),new re(0xbfc+0x1350+-0x1f4c,-0x13bb+0x2*-0x789+0x22cd+0.5,0x1*-0x268a+0x1*0x94f+0x1d3b+0.5,-0xeb2+-0x33c+0x11ee+0.5),new re(-0xf*-0x112+0xa1a+0x3*-0x8b8+0.5,0x1*0x6ec+0xf86+-0x1672,-0x10a0+-0x277*0xb+0x2bbd*0x1+0.5,-0x2235+-0x1*-0x1183+-0x10b2*-0x1+0.5)],[new re(0x1097+-0x180a+0x773,-0x1*0x1832+0x1*-0x1ea1+-0x7d5*-0x7,-0x1578+0x2*-0x1352+0x3c1c+0.5,0xddf+0x199f+-0x277e+0.5),new re(0xe35*-0x1+-0xaed+0x1922,0x21c1+-0x29*0xe2+0x271+0.5,0x1166+0x120a*0x2+-0x357a+0.5,0xe2f+-0x2100+-0x1*-0x12d1+0.5),new re(0x2133+-0xa1*-0x2+0x2275*-0x1+0.5,-0x1*0x2273+-0x1*0x2667+0x48da,0x11*0x4b+-0x13*-0xd+0x5f2*-0x1+0.5,-0x172b*0x1+0x1c2*-0xa+0x28bf+0.5),new re(-0x141e+-0x23eb+0x13*0x2f3+0.5,0x2*0x316+-0x64e+-0x1*-0x22+0.5,-0x43*0x27+0x22f8+-0x18c3+0.5,-0x53*-0x1d+-0x1e89+0x1522+0.5)]],cA={'rrr':0x1,'ggg':0x2,'bbb':0x4,'aaa':0x8,'rgb':0x7};let hA=0x1*-0x78b+-0x2*-0xb66+0xb*-0x163;class dA{constructor(_0x3aa9ca,_0x15d281,_0x20607d){this['light']=_0x20607d,this['camera']=_0x3aa9ca,this['shadowCame'+'ra']=Cv['createShad'+'owCamera'](_0x20607d['_shadowTyp'+'e'],_0x20607d['_type'],_0x15d281),this['shadowMatr'+'ix']=new te(),this['shadowView'+'port']=new re(0x16*0x146+0x3*-0x8d9+0x179*-0x1,-0x138b+-0x220a+0x3595,0x1d1b+0x2415*-0x1+-0x1*-0x6fb,-0x2de+-0x14c0+0x179f),this['shadowScis'+'sor']=new re(-0x6*0x495+-0xf14+0x2a92,0x2*-0x9d0+0x5*0x7+0x67f*0x3,-0x15*0x2+0x15e*-0xf+-0x14ad*-0x1,0x2343+0x6*-0x259+-0x152c),this['projection'+'Compensati'+'on']=0xd*0x2bd+-0x1*-0x1a88+-0x1*0x3e21,this['face']=_0x15d281,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x5a2516=>{_0x5a2516['defaultUni'+'formBuffer']['destroy'](),_0x5a2516['destroy']();}),this['viewBindGr'+'oups']['length']=-0x67*-0x25+0x1113+-0x1ff6*0x1;}get['shadowBuff'+'er'](){const _0x140305=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x140305?this['light']['_isPcf']?_0x140305['depthBuffe'+'r']:_0x140305['colorBuffe'+'r']:null;}}class pl{constructor(_0x3c4a87,_0x2838bc){h(this,'layers',new Set()),h(this,'clusteredL'+'ighting'),h(this,'shadowDept'+'hState',Yt['DEFAULT']['clone']()),h(this,'clusteredF'+'lags',-0x1ff6+0x131*0x1e+-0x3c8),h(this,'clusteredD'+'ata',new Uint32Array(0x1ff7+-0x16d4+-0x920)),h(this,'clusteredD'+'ata16',new Uint16Array(this['clusteredD'+'ata']['buffer'])),h(this,'_evtDevice'+'Restored',null),(this['device']=_0x3c4a87,this['clusteredL'+'ighting']=_0x2838bc,this['id']=hA++,this['_evtDevice'+'Restored']=_0x3c4a87['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this),this['_type']=ve,this['_color']=new ie(0x20*-0x87+-0xc40+-0x2*-0xe90+0.8,-0x872+-0xd7+0x949*0x1+0.8,-0xcc8+-0xd3e+-0x2*-0xd03+0.8),this['_intensity']=0x359*0x3+-0x47f*-0x2+-0x1308,this['_affectSpe'+'cularity']=!(-0x1*0x1661+-0x447*0x2+0x1eef),this['_luminance']=-0x6b*0x4d+-0xba5+-0x33*-0xdc,this['_castShado'+'ws']=!(0x1*0x132d+-0x2*-0xf67+-0x1*0x31fa),this['_enabled']=!(0x1dd8+-0x5fc+-0x17db),this['_mask']=Ss,this['isStatic']=!(0xc06+-0x202*-0x10+0x1*-0x2c25),this['key']=-0x3e*0x4a+0x1d78+-0x2e3*0x4,this['bakeDir']=!(-0x20fb+-0x13*-0x13e+0x961),this['bakeNumSam'+'ples']=-0x2373+-0x1e57+-0x41cb*-0x1,this['bakeArea']=0xd11*-0x1+0x1*-0x1241+0x1f52,this['attenuatio'+'nStart']=-0x115b+-0x19d1+0x2*0x159b,this['attenuatio'+'nEnd']=-0x2382+0x12f4+-0x1*-0x1098,this['_falloffMo'+'de']=Qp,this['_shadowTyp'+'e']=$s,this['_vsmBlurSi'+'ze']=0x1d*-0x79+0xd0a+0xe*0xd,this['vsmBlurMod'+'e']=em,this['vsmBias']=(0x947+0x2345+0x4*-0xb23+0.01)*(0x2257+0x4*-0x8e9+0x14d+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=-0x936+-0x2*0xbc4+0x20bf,this['_cookieFal'+'loff']=!(0x158d+0xcde+-0x226b),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(-0xb*-0x1da+-0x1166+0x12*-0x2a),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(0xa77+0x4cd*0x1+-0xf42),this['_cookieTra'+'nsformSet']=!(0x1*-0x60a+0xa1*-0x35+0x118*0x24),this['_cookieOff'+'setSet']=!(0x224b+0x31e*0x8+0x2a*-0x169),this['_innerCone'+'Angle']=0x2*0x78d+0x35*-0x9+-0xd15,this['_outerCone'+'Angle']=0xe3*-0x7+0x10*-0x2c+0x922,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=-0xa0c+0x1a*0x15a+-0x3*0x85d,this['_cascadeBl'+'end']=0x1883+-0xd1*0x2b+0xe2*0xc,this['cascadeDis'+'tribution']=-0x10f9+0x1f8c+-0x1*0xe93+0.5,this['_shape']=Ys,this['_colorLine'+'ar']=new Float32Array(0x4*-0x1fd+0xf0c+0x1*-0x715),this['_updateLin'+'earColor'](),this['_position']=new D(0x157+0x2501+-0x132c*0x2,-0x13c7+-0x1*-0x8aa+0xb1d,0x1*-0xec3+-0x215*0x12+0x343d),this['_direction']=new D(0x1cb7+0x234c+-0x4003,-0x186+0x45*-0x21+0x3*0x379,-0x10db+0x6fd+-0x4ef*-0x2),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(-0xdab+0x28e*0xa+-0xb2d)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(0x7d9+-0x8cc*-0x1+-0x10a5*0x1),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=0x3*0x405+-0x902+0x3*-0xf7,this['_shadowRes'+'olution']=-0x1*0x15d7+0xbf0+0xde7*0x1,this['_shadowBia'+'s']=-(0x2684+-0x419*-0x1+-0x2a9d+0.0005),this['_shadowInt'+'ensity']=0x2*0xdd9+-0xff8+-0xbb9,this['_normalOff'+'setBias']=0x1*0x1dff+-0x7*0x447+-0xe,this['shadowUpda'+'teMode']=lm,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(-0x1a*0x53+0x2*-0xa08+0x1*0x1c7f),this['_isPcf']=!(-0x191*-0xb+0x1*0x14af+-0x25ea),this['_softShado'+'wParams']=new Float32Array(-0x18fc+0x19f6+-0xf6),this['shadowSamp'+'les']=-0x99a+-0xbdd*0x2+0x2*0x10b2,this['shadowBloc'+'kerSamples']=0x1*0x110d+0xf49+-0x2046,this['penumbraSi'+'ze']=0x29*0xed+0x1a9+-0x1*0x279d,this['penumbraFa'+'lloff']=-0x1*-0x24ee+-0x34*-0x89+-0x40c1,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(-0xafd+0x3*-0x451+-0x1*-0x17f1),this['atlasVersi'+'on']=0x1a23+0x1*0x1283+-0x2ca6,this['atlasSlotI'+'ndex']=0xe0c+0xc63+-0x43*0x65,this['atlasSlotU'+'pdated']=!(0xe*-0x2a6+0x12be*-0x1+-0x1cd*-0x1f),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(-0x1bf*-0x5+-0x369+-0x551),this['maxScreenS'+'ize']=0x13bd+0x954+-0x1d11,this['_updateSha'+'dowBias']());}['destroy'](){var _0x5df116;(_0x5df116=this['_evtDevice'+'Restored'])==null||_0x5df116['off'](),this['_evtDevice'+'Restored']=null,this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['onDeviceRe'+'stored'](){this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr);}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x3a340c=-0x59*0x4f+-0x199*-0x3+0x16ac;_0x3a340c<this['_renderDat'+'a']['length'];_0x3a340c++)this['_renderDat'+'a'][_0x3a340c]['destroy']();this['_renderDat'+'a']['length']=0x5c9*-0x1+-0x1788+-0x1*-0x1d51;}}['addLayer'](_0xe7d42a){this['layers']['add'](_0xe7d42a);}['removeLaye'+'r'](_0x246e5d){this['layers']['delete'](_0x246e5d);}set['shadowSamp'+'les'](_0x4885d5){this['_softShado'+'wParams'][-0x1*0x80e+0xad9*-0x1+0x3*0x64d]=_0x4885d5;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][0x15d0+-0x9*0x276+0x2b*0x2];}set['shadowBloc'+'kerSamples'](_0x17793c){this['_softShado'+'wParams'][-0xa0b+0x1099+-0x22f*0x3]=_0x17793c;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][0x31*0x2f+-0x213+0x6eb*-0x1];}set['shadowBias'](_0x58302c){this['_shadowBia'+'s']!==_0x58302c&&(this['_shadowBia'+'s']=_0x58302c,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x4e5b1c){(!this['cascades']||this['numCascade'+'s']!==_0x4e5b1c)&&(this['cascades']=lA[_0x4e5b1c-(0xa5*0xe+0x259*-0x3+0x16*-0x17)],this['_shadowMat'+'rixPalette']=new Float32Array(0x20ca+0x67*0x1b+-0x2b67),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(-0x1e*-0x96+0x1d1a*0x1+-0x2eaa),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x129fe4){this['_cascadeBl'+'end']!==_0x129fe4&&(this['_cascadeBl'+'end']=_0x129fe4,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x2bd844){this['_shadowMap']!==_0x2bd844&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x2bd844);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x2ac37e){this['_mask']!==_0x2ac37e&&(this['_mask']=_0x2ac37e,this['updateKey'](),this['updateClus'+'teredFlags']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0xe2a6e2=this['_type'];return _0xe2a6e2===ve?this['numCascade'+'s']:_0xe2a6e2===Ke?-0x1382+-0xba7+0x1*0x1f2f:-0x3*-0xcef+-0x1806+0x1f*-0x7a;}set['type'](_0x3c38b7){if(this['_type']===_0x3c38b7)return;this['_type']=_0x3c38b7,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x29e747=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0x29e747;}get['type'](){return this['_type'];}set['shape'](_0x3d9b04){if(this['_shape']===_0x3d9b04)return;this['_shape']=_0x3d9b04,this['_destroySh'+'adowMap'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x1bc484=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x1bc484;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x21d340){this['_usePhysic'+'alUnits']!==_0x21d340&&(this['_usePhysic'+'alUnits']=_0x21d340,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x454cd1){if(this['_shadowTyp'+'e']===_0x454cd1)return;let _0x4371bc=qi['get'](_0x454cd1);_0x4371bc||(_0x454cd1=$s);const _0x292459=this['device'];_0x454cd1===al&&!_0x292459['textureFlo'+'atRenderab'+'le']&&!_0x292459['textureHal'+'fFloatRend'+'erable']&&(_0x454cd1=$s),this['_type']===Ke&&_0x454cd1!==tv&&_0x454cd1!==$s&&_0x454cd1!==sv&&_0x454cd1!==iv&&_0x454cd1!==al&&(_0x454cd1=$s),_0x454cd1===Jp&&(!_0x292459['textureFlo'+'atRenderab'+'le']||!_0x292459['textureFlo'+'atFilterab'+'le'])&&(_0x454cd1=au),_0x454cd1===au&&!_0x292459['textureHal'+'fFloatRend'+'erable']&&(_0x454cd1=$s),_0x4371bc=qi['get'](_0x454cd1),this['_isVsm']=(_0x4371bc==null?void(-0x1769+-0xa0d+0x2176):_0x4371bc['vsm'])??!(-0xc5*-0x29+-0x9ca+0x45a*-0x5),this['_isPcf']=(_0x4371bc==null?void(-0x2055+-0xdeb*0x1+0x2e4*0x10):_0x4371bc['pcf'])??!(-0x5c8*-0x6+0x15e4+0x1*-0x3893),this['_shadowTyp'+'e']=_0x454cd1,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x452406){this['_enabled']!==_0x452406&&(this['_enabled']=_0x452406,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x3ad768){this['_castShado'+'ws']!==_0x3ad768&&(this['_castShado'+'ws']=_0x3ad768,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==fi&&this['_mask']!==-0x1c62+0x14ab+0x7b7;}set['shadowInte'+'nsity'](_0x83938b){this['_shadowInt'+'ensity']!==_0x83938b&&(this['_shadowInt'+'ensity']=_0x83938b,this['updateKey']());}get['shadowInte'+'nsity'](){return this['_shadowInt'+'ensity'];}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===fi;}set['shadowReso'+'lution'](_0x158468){this['_shadowRes'+'olution']!==_0x158468&&(this['_type']===Ke?_0x158468=Math['min'](_0x158468,this['device']['maxCubeMap'+'Size']):_0x158468=Math['min'](_0x158468,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x158468,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0x1b89d1){this['_vsmBlurSi'+'ze']!==_0x1b89d1&&(_0x1b89d1%(0x1*0x1fa2+-0xab8*-0x1+-0x2a58)===0x22e+0x6ec+-0xa*0xe9&&_0x1b89d1++,this['_vsmBlurSi'+'ze']=_0x1b89d1);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x357e73){if(this['_normalOff'+'setBias']!==_0x357e73){const _0x984168=!this['_normalOff'+'setBias']&&_0x357e73||this['_normalOff'+'setBias']&&!_0x357e73;this['_normalOff'+'setBias']=_0x357e73,_0x984168&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x2512db){this['_falloffMo'+'de']!==_0x2512db&&(this['_falloffMo'+'de']=_0x2512db,this['updateKey'](),this['updateClus'+'teredFlags']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0xbbced5){this['_innerCone'+'Angle']!==_0xbbced5&&(this['_innerCone'+'Angle']=_0xbbced5,this['_innerCone'+'AngleCos']=Math['cos'](_0xbbced5*Math['PI']/(0x24a*-0x7+0x79d*0x1+0x91d)),this['updateClus'+'terData'](!(-0x49*0x3+0x1*-0xf92+-0x2bd*-0x6),!(-0x39*0x9d+0x19b7*-0x1+0x3cac)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0x56d730){this['_outerCone'+'Angle']!==_0x56d730&&(this['_outerCone'+'Angle']=_0x56d730,this['_updateOut'+'erAngle'](_0x56d730),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x358ad3){this['_penumbraS'+'ize']=_0x358ad3,this['_softShado'+'wParams'][-0x2*-0x102b+-0x17d4+-0x88*0x10]=_0x358ad3;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x2d4305){this['_softShado'+'wParams'][-0x97e+0x621*0x1+0x360]=_0x2d4305;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][-0x134f+-0x1827+0x2b79];}['_updateOut'+'erAngle'](_0x192983){const _0x43d858=_0x192983*Math['PI']/(-0xa*0xd+-0xe5a+0x3*0x530);this['_outerCone'+'AngleCos']=Math['cos'](_0x43d858),this['_outerCone'+'AngleSin']=Math['sin'](_0x43d858),this['updateClus'+'terData'](!(-0x2b*-0x6b+0x747+0x193f*-0x1),!(-0x1*-0x1b58+-0xdbb+-0xd9d));}set['intensity'](_0x6e1a51){this['_intensity']!==_0x6e1a51&&(this['_intensity']=_0x6e1a51,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x508765){this['_type']===ve&&(this['_affectSpe'+'cularity']=_0x508765,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x55b8a3){this['_luminance']!==_0x55b8a3&&(this['_luminance']=_0x55b8a3,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new te()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new re(0xa41+0x19d5+-0x2416,-0x7cf*0x1+-0x16a2+0x1e71,-0x371*0x5+0x23c+-0x4fe*-0x3,-0x80b+0x624+-0x1e8*-0x1)),this['_atlasView'+'port'];}set['cookie'](_0x2e2b4b){this['_cookie']!==_0x2e2b4b&&(this['_cookie']=_0x2e2b4b,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x192fdf){this['_cookieFal'+'loff']!==_0x192fdf&&(this['_cookieFal'+'loff']=_0x192fdf,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x430061){if(this['_cookieCha'+'nnel']!==_0x430061){if(_0x430061['length']<-0x1cc4+0x1*0x10e5+-0x5f1*-0x2){const _0x140784=_0x430061['charAt'](_0x430061['length']-(0x2061*0x1+0x182a+-0x388a)),_0x59fe48=0x1023+0x1*0x4ba+-0x14da-_0x430061['length'];for(let _0x31f91a=0x88a+0x28*-0x1+-0x862*0x1;_0x31f91a<_0x59fe48;_0x31f91a++)_0x430061+=_0x140784;}this['_cookieCha'+'nnel']=_0x430061,this['updateKey'](),this['updateClus'+'teredFlags']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x3330d2){this['_cookieTra'+'nsform']!==_0x3330d2&&(this['_cookieTra'+'nsform']=_0x3330d2,this['_cookieTra'+'nsformSet']=!!_0x3330d2,_0x3330d2&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new J(),this['_cookieOff'+'setSet']=!(0x2038+-0x25d9*-0x1+0x2*-0x2308)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x1de873){if(this['_cookieOff'+'set']===_0x1de873)return;!!(this['_cookieTra'+'nsformSet']||_0x1de873)&&!_0x1de873&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](0x7c6+-0x1200+0xa3a,0x549+0x1e5a+-0x23a3):this['_cookieOff'+'set']=_0x1de873,this['_cookieOff'+'setSet']=!!_0x1de873,_0x1de873&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new re(0x104+-0x8*-0x416+-0x1*0x21b3,0x25*0x103+0x49d*-0x1+-0x20d1,0xa9*-0x32+-0xec0+0x2fc2,0x1532+-0x18a7+-0x375*-0x1),this['_cookieTra'+'nsformSet']=!(0x121f*-0x1+0x141+-0x269*-0x7)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===ve&&this['_enabled'],this['maxScreenS'+'ize']=-0x3*0x867+-0x16d*-0xa+0xaf3*0x1,this['atlasViewp'+'ortAllocat'+'ed']=!(0x1210+-0xa13+-0x7fc),this['atlasSlotU'+'pdated']=!(0x3*-0x4d1+0x20b1+-0x123d*0x1);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr),this['shadowUpda'+'teOverride'+'s']){for(let _0x2bb235=0x1f73+-0x2*-0x134d+-0xe3*0x4f;_0x2bb235<this['shadowUpda'+'teOverride'+'s']['length'];_0x2bb235++)this['shadowUpda'+'teOverride'+'s'][_0x2bb235]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x2bb235]=xr);}}['getRenderD'+'ata'](_0x1aa2f4,_0x432f61){for(let _0x155f9d=0x7*0x2e0+0xc05+-0x2025;_0x155f9d<this['_renderDat'+'a']['length'];_0x155f9d++){const _0x22786c=this['_renderDat'+'a'][_0x155f9d];if(_0x22786c['camera']===_0x1aa2f4&&_0x22786c['face']===_0x432f61)return _0x22786c;}const _0x34883b=new dA(_0x1aa2f4,_0x432f61,this);return this['_renderDat'+'a']['push'](_0x34883b),_0x34883b;}['clone'](){const _0x2b5fbd=new pl(this['device'],this['clusteredL'+'ighting']);return _0x2b5fbd['type']=this['_type'],_0x2b5fbd['setColor'](this['_color']),_0x2b5fbd['intensity']=this['_intensity'],_0x2b5fbd['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x2b5fbd['luminance']=this['_luminance'],_0x2b5fbd['castShadow'+'s']=this['castShadow'+'s'],_0x2b5fbd['_enabled']=this['_enabled'],_0x2b5fbd['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x2b5fbd['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x2b5fbd['falloffMod'+'e']=this['_falloffMo'+'de'],_0x2b5fbd['shadowType']=this['_shadowTyp'+'e'],_0x2b5fbd['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x2b5fbd['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x2b5fbd['vsmBias']=this['vsmBias'],_0x2b5fbd['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x2b5fbd['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x2b5fbd['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x2b5fbd['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x2b5fbd['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x2b5fbd['numCascade'+'s']=this['numCascade'+'s'],_0x2b5fbd['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x2b5fbd['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x2b5fbd['shape']=this['_shape'],_0x2b5fbd['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x2b5fbd['shadowBias']=this['shadowBias'],_0x2b5fbd['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x2b5fbd['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x2b5fbd['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x2b5fbd['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x2b5fbd['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x2b5fbd['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x2b5fbd['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x2b5fbd['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x2b5fbd;}static['getLightUn'+'itConversi'+'on'](_0x201f3f,_0x162cc7=Math['PI']/(-0x1*-0x234d+0x13*-0x129+-0x46a*0x3),_0x4a56fd=0xa0a*0x3+0x2*-0x102a+0x236){switch(_0x201f3f){case Ze:{const _0x284ee6=Math['cos'](_0x162cc7),_0x20f849=Math['cos'](_0x4a56fd);return(0x11+0x11*-0xdf+0xec0)*Math['PI']*(0x6a*0xd+0x676+-0xbd7-_0x20f849+(_0x20f849-_0x284ee6)/(0x2*0x1237+0x2a6*0x6+-0x3450));}case Ke:return(-0x1e67*-0x1+0x8*-0x490+0x61d)*Math['PI'];case ve:return 0x1c86+0x1768+-0x33ed;}}['_getUnifor'+'mBiasValue'+'s'](_0x40656b){const _0x159ce5=_0x40656b['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Ke:wi['bias']=this['shadowBias'],wi['normalBias']=this['_normalOff'+'setBias'];break;case Ze:this['_isVsm']?wi['bias']=-(-0xf5f+-0x1a47+0x1*0x29a6+0.00001)*(0x114e+0x1*0x1d54+-0x2*0x1747):wi['bias']=this['shadowBias']*(-0x1*-0x1622+0x23ce+0x2e*-0x142),wi['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0x2*0x84e+0x11c9*-0x2+0xf*0x37b)):this['_normalOff'+'setBias'];break;case ve:this['_isVsm']?wi['bias']=-(0xce3+-0x1643+0x960+0.00001)*(-0x257b+0x1800+-0x1*-0xd8f):wi['bias']=this['shadowBias']/_0x159ce5*(0x838+-0x2*-0x52+-0x878*0x1),wi['normalBias']=this['_isVsm']?this['vsmBias']/(_0x159ce5/(0x152e*-0x1+-0x1c4f+-0xc61*-0x4)):this['_normalOff'+'setBias'];break;}return wi;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x25d4d3){if(this['_type']===Ze){const _0x589c2e=this['attenuatio'+'nEnd'],_0xbbcb81=this['_outerCone'+'Angle'],_0x466962=this['_outerCone'+'AngleCos'],_0x3aa38f=this['_node'];dc['copy'](_0x3aa38f['up']),_0xbbcb81>-0x1827+0x2691+-0xe3d?(_0x25d4d3['radius']=_0x589c2e*this['_outerCone'+'AngleSin'],dc['mulScalar'](-_0x589c2e*_0x466962)):(_0x25d4d3['radius']=_0x589c2e/((0x123a+0x1*-0x1ec9+-0xc91*-0x1)*_0x466962),dc['mulScalar'](-_0x25d4d3['radius'])),_0x25d4d3['center']['add2'](_0x3aa38f['getPositio'+'n'](),dc);}else this['_type']===Ke&&(_0x25d4d3['center']=this['_node']['getPositio'+'n'](),_0x25d4d3['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x1ed801){if(this['_type']===Ze){const _0x96dffa=this['attenuatio'+'nEnd'],_0xcf030b=this['_outerCone'+'Angle'],_0x1884d4=this['_node'],_0x1c2911=Math['abs'](Math['sin'](_0xcf030b*Y['DEG_TO_RAD'])*_0x96dffa);_0x1ed801['center']['set'](0x2418+-0x2b3+-0x1*0x2165,-_0x96dffa*(0x1*-0x26b9+-0x73*0x8+-0xe1b*-0x3+0.5),-0x1b96+-0xb*-0x18b+-0xa9d*-0x1),_0x1ed801['halfExtent'+'s']['set'](_0x1c2911,_0x96dffa*(-0x198b+0x2*-0x3a9+0x20dd+0.5),_0x1c2911),_0x1ed801['setFromTra'+'nsformedAa'+'bb'](_0x1ed801,_0x1884d4['getWorldTr'+'ansform'](),!(-0x1a88+0x369+0x3*0x7b5));}else this['_type']===Ke&&(_0x1ed801['center']['copy'](this['_node']['getPositio'+'n']()),_0x1ed801['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Ke&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=-0x4af+-0x33*0xa1+0x1261*0x2,this['shadowDept'+'hState']['depthBiasS'+'lope']=0x20*0xcd+-0x1*-0xceb+-0x21*0x12b;else{const _0x251033=this['shadowBias']*-(-0x1*-0xa03+0x1cc7+-0x13*0x1d6);this['shadowDept'+'hState']['depthBias']=_0x251033,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x251033;}}['_updateLin'+'earColor'](){let _0x52a2b0=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x52a2b0=this['_luminance']/pl['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*Y['DEG_TO_RAD'],this['_innerCone'+'Angle']*Y['DEG_TO_RAD']));const _0x31be34=this['_color'],_0x50fc96=this['_colorLine'+'ar'];_0x52a2b0>=0x2*0xe90+0x125a+-0x3*0xfd3?ho['linear'](_0x31be34)['mulScalar'](_0x52a2b0):ho['copy'](_0x31be34)['mulScalar'](_0x52a2b0)['linear'](),_0x50fc96[0x8ec+0xd9+-0x29*0x3d]=ho['r'],_0x50fc96[0x2367+0x4e7*-0x6+-0x5fc]=ho['g'],_0x50fc96[-0x201d*0x1+-0x1ebf+0x3ede]=ho['b'],this['updateClus'+'terData'](!(0x2606+0x2020+0x1*-0x4626));}['setColor'](){arguments['length']===-0x125c+-0x128d+0x13b*0x1e?this['_color']['set'](arguments[0x75+-0x1d6f+0x1cfa]['r'],arguments[-0x3*-0xb8d+-0x9fa+0x1*-0x18ad]['g'],arguments[0x112c+-0x5a7*0x1+-0x3*0x3d7]['b']):arguments['length']===-0x22f8+-0x8cc+0x2bc7&&this['_color']['set'](arguments[0x1*-0x1d9+-0xa11+-0x131*-0xa],arguments[-0x124*0x17+0x45*-0x17+-0x2*-0x1038],arguments[0x1a5a+-0x7fd+-0x125b]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x28611e=>{_0x28611e['hasLight'](this)&&_0x28611e['markLights'+'Dirty']();});}['updateKey'](){let _0x17526f=this['_type']<<-0x1*-0x1b4+0x20c8+-0x4e9*0x7|this['_shadowTyp'+'e']<<-0x1909+0x1031+0x2fb*0x3|this['_falloffMo'+'de']<<0x2*-0xb89+0x2*-0x7f2+0x270d|(this['_normalOff'+'setBias']!==-0x42*0x2d+-0x46+0xbe0?-0x9f5+-0x7b*0x27+0x1cb3:0x248a+0x1e4e+-0x42d8)<<-0x832*0x2+0x2*-0xe1d+0x2cb4|(this['_cookie']?0x6f*-0x29+-0x56*0x4d+0x12e*0x25:-0x1fed+0x4f7+0x1af6)<<0x1e3d+0x9*0x44e+-0x2*0x2273|(this['_cookieFal'+'loff']?-0x9*-0x225+-0x132b+-0x1*0x21:0x35*0x39+-0x8e*-0x1+-0xc5b)<<0x79*-0x4f+-0x2*0xee4+-0x4333*-0x1|pf[this['_cookieCha'+'nnel']['charAt'](0x113+-0x1*0x22a+0x3*0x5d)]<<0x123*-0x5+0x2*-0x73c+0x1439|(this['_cookieTra'+'nsform']?0x1eac*-0x1+-0x1*-0x935+0x1578:0x12ad+-0x1042*0x2+-0x3*-0x49d)<<0x15e9+0x11ed+-0xb*0x39e|this['_shape']<<0x1*-0x2303+0x5*-0x735+0x4716|(this['numCascade'+'s']>-0x607*0x2+-0x15e8+0x21f6?0x1360+0x1*-0x1c22+0x8c3:-0x28d*0x2+0x2063+-0x37*0x7f)<<-0x1d60+0x327*0x7+0x758|(this['_cascadeBl'+'end']>-0x1790+-0xb*-0x2d2+-0x776?-0x2*-0x9a8+0x1*0x15ad+-0x28fc:0xe37+0x2*0x205+-0x1241)<<-0x501+0xc7f*-0x2+0x1e07|(this['affectSpec'+'ularity']?-0xee3*-0x1+0xb*-0x33b+0x11*0x137:-0x133*-0x3+-0x6*-0x4d1+-0x207f)<<0x1da7*-0x1+-0x26bd+0x446b|this['mask']<<0x1797+0x36d*-0xb+0xe1e|(this['_castShado'+'ws']?-0x2*-0xcb9+-0x59d*-0x2+-0x24ab:0x1d*0x124+-0x1d2d+0x9*-0x6f)<<0x46f+0xcbf*0x1+-0x5*0x36f;this['_cookieCha'+'nnel']['length']===-0x1c58+0x1d59+-0xfe&&(_0x17526f|=pf[this['_cookieCha'+'nnel']['charAt'](0x18cc+-0x2331+0xa66)]<<0x23a9+0x8c6+0x133*-0x25,_0x17526f|=pf[this['_cookieCha'+'nnel']['charAt'](0x214c+0x6*-0x56+-0x1f46)]<<0x8f6+-0xf*-0xc8+-0x14*0x108),_0x17526f!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x17526f;}['updateClus'+'teredFlags'](){const _0x5cba86=!!(this['mask']&Ss),_0x131527=!!(this['mask']&di);this['clusteredF'+'lags']=(this['type']===Ze?-0x26ab+0xfde+0x16ce:0x15*0xa9+0x1*-0x46a+0x29*-0x3b)<<0x1*0x131+-0x49b+-0x1c4*-0x2|(this['_shape']&-0xeb1+-0x33*-0xa7+0x2a7*-0x7)<<-0xb*0xc7+0xd41+0x4*-0x126|(this['_falloffMo'+'de']&-0xce5+0x1ff*-0x5+0x16e1)<<-0x1e4+0x5b6+0x1*-0x3b7|(cA[this['_cookieCha'+'nnel']]??0x16d9*0x1+0x8d4*0x4+-0x3a29)<<0x1fcf+-0x484+-0x1b34|(_0x5cba86?0x1542+-0x5c9+-0xf78:0x45f*-0x7+-0x1d43*-0x1+0x156)<<-0xf3e*-0x1+0x24fc+0x1*-0x3424|(_0x131527?-0xf*0x5+-0xecf+-0x1*-0xf1b:-0x2269+0x1*0x2285+-0x1c)<<0x1ebc+0x11*-0x9f+0x506*-0x4;}['getCluster'+'edFlags'](_0xadd443,_0xb9acd4){return this['clusteredF'+'lags']|((_0xadd443?Math['floor'](this['shadowInte'+'nsity']*(0xf20+0x1b64*-0x1+0x1e5*0x7)):-0x2ab+0xa2d*0x1+0x1*-0x782)&-0x14ac+-0x1*0x2be+-0x1*-0x1869)<<0x109b+0x256+0x1*-0x12f1|((_0xb9acd4?Math['floor'](this['cookieInte'+'nsity']*(0x1d92+-0x74a+0x1549*-0x1)):0x18c9+-0x5*-0x35b+-0x5f0*0x7)&-0x4ea+-0x26e9*0x1+0x1669*0x2)<<0x10cc+-0x3*0x699+0x307*0x1;}['updateClus'+'terData'](_0x196ac3,_0x21676b){const {clusteredData16:_0x33939b}=this,_0x25bea0=Mn['float2Half'];_0x196ac3&&(_0x33939b[-0x149+-0x5*-0x1c6+-0x287*0x3]=_0x25bea0(Y['clamp'](this['_colorLine'+'ar'][-0x13*-0x106+-0x1bbd+-0xb*-0xc1]/$c,-0xb2+-0x1adf+0x1b91,0x23*0x8ff+0xb85a+-0xf357)),_0x33939b[-0x24e1*0x1+0x23*0x12+0x226c*0x1]=_0x25bea0(Y['clamp'](this['_colorLine'+'ar'][0x26c9*-0x1+-0x59c+0x1*0x2c66]/$c,-0x2*-0x104e+0x1f*0x77+-0x2f05*0x1,0xa5*0x90+0xa5e*0x1a+-0x6a7c)),_0x33939b[-0x3*-0x286+0xb87*-0x1+-0x91*-0x7]=_0x25bea0(Y['clamp'](this['_colorLine'+'ar'][0x1ba4+-0x6ee+-0x2*0xa5a]/$c,0x253f+0x2489+-0x49c8,0x1896c+0x1*0xda6a+0xe*-0x196d))),_0x21676b&&(_0x33939b[-0x1e*0xe5+0x8df+-0x1*-0x11fb]=_0x25bea0(this['_innerCone'+'AngleCos']),_0x33939b[-0x2*-0x1077+-0x8b2+-0x1837]=_0x25bea0(this['_outerCone'+'AngleCos']));}}class Mv{constructor(_0x53a5fd,_0x2af67c,_0x26cdc9){h(this,'_areaLight'+'sEnabled',!(0xe1a+-0x116+0x1*-0xd03)),h(this,'_cells',new D(0xde3*-0x2+0x4a9+-0x1727*-0x1,-0x1*-0x130a+-0x14c8+0x1*0x1c1,-0x22b*0x8+0x1f88+0xe26*-0x1)),h(this,'_maxLights'+'PerCell',-0x1*-0x1f9d+-0x10c*-0x12+-0x3176),h(this,'_shadowsEn'+'abled',!(0x221a+-0x1747*-0x1+-0x3961)),h(this,'_shadowTyp'+'e',$s),h(this,'_shadowAtl'+'asResoluti'+'on',-0x26bc+-0x92d+-0x37e9*-0x1),h(this,'_cookiesEn'+'abled',!(-0x86*0x42+0x6c8+0x1bc5)),h(this,'_cookieAtl'+'asResoluti'+'on',-0x1*0xb2e+-0xf1*0x9+-0x1ba7*-0x1),h(this,'debugLayer'),h(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x53a5fd,this['_maxTextur'+'eSize']=_0x2af67c,this['_dirtyLigh'+'tsFnc']=_0x26cdc9);}['applySetti'+'ngs'](_0x172097){this['shadowsEna'+'bled']=_0x172097['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x172097['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x172097['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x172097['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x172097['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x172097['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x172097['lightingSh'+'adowType']??this['shadowType'],_0x172097['lightingCe'+'lls']&&(this['cells']=new D(_0x172097['lightingCe'+'lls']));}set['cells'](_0x3d44f4){this['_cells']['copy'](_0x3d44f4);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x25b837){this['_maxLights'+'PerCell']=Y['clamp'](_0x25b837,0x5e*-0xe+0x14ad+-0xf88,0xdae*0x1+-0x686+-0x629);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x33145a){this['_cookieAtl'+'asResoluti'+'on']=Y['clamp'](_0x33145a,-0x1079+-0x59*0x2d+0x203e,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x203bd0){this['_shadowAtl'+'asResoluti'+'on']=Y['clamp'](_0x203bd0,-0x1ef7+-0x1852+0x3769,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x4e97c5){this['_shadowTyp'+'e']!==_0x4e97c5&&(this['_shadowTyp'+'e']=_0x4e97c5,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0xd9715c){this['_cookiesEn'+'abled']!==_0xd9715c&&(this['_cookiesEn'+'abled']=_0xd9715c,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x586904){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x586904&&(this['_areaLight'+'sEnabled']=_0x586904,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x15f614){this['_shadowsEn'+'abled']!==_0x15f614&&(this['_shadowsEn'+'abled']=_0x15f614,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}class xa{constructor(_0x363c23){this['morph']=_0x363c23,_0x363c23['incRefCoun'+'t'](),this['device']=_0x363c23['device'];const _0x66e1e0=_0x363c23['_targets']['length'];this['shader']=this['_createSha'+'der'](_0x66e1e0),this['_weights']=[],this['_weightMap']=new Map();for(let _0x5807fc=0x1851+0x1c03*-0x1+0x3b2;_0x5807fc<_0x363c23['_targets']['length'];_0x5807fc++){const _0x3f5deb=_0x363c23['_targets'][_0x5807fc];_0x3f5deb['name']&&this['_weightMap']['set'](_0x3f5deb['name'],_0x5807fc),this['setWeight'](_0x5807fc,_0x3f5deb['defaultWei'+'ght']);}this['_shaderMor'+'phWeights']=new Float32Array(_0x66e1e0),this['_shaderMor'+'phIndex']=new Uint32Array(_0x66e1e0);const _0xa5c7aa=(_0x152fc1,_0x4a0b41)=>(this[_0x4a0b41]=_0x363c23['_createTex'+'ture'](_0x152fc1,_0x363c23['_renderTex'+'tureFormat']),new gt({'colorBuffer':this[_0x4a0b41],'depth':!(-0x124a+-0x1*-0x337+-0x182*-0xa)}));_0x363c23['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0xa5c7aa('MorphRTPos','texturePos'+'itions')),_0x363c23['morphNorma'+'ls']&&(this['rtNormals']=_0xa5c7aa('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x363c23['morphTextu'+'reWidth'],_0x363c23['morphTextu'+'reHeight']]);const _0x5d890e=_0x363c23['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x5d890e['x']*(0x1426+0x4*0x1db+-0xdc7*0x2),_0x5d890e['y']*(0x1*0x1496+0x1dfb+-0x328d),_0x5d890e['z']*(0x950+-0x4e9+-0x463)]);const _0x2100c1=_0x363c23['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x2100c1['x']*(-0x652+-0x10a6+0x16fa*0x1),_0x2100c1['y']*(-0x1*-0x25+0x1*0x87e+-0x8a1),_0x2100c1['z']*(-0x1*0xe81+-0xd*-0x259+0x801*-0x2)]),this['_aabbNrmSi'+'ze']=new Float32Array([0x1*0x984+-0x11*0x5+0x1d*-0x51,-0xde*0x5+0x1*0x119b+0x61*-0x23,-0x1a4c+-0x19a9*0x1+0x33f7*0x1]),this['_aabbNrmMi'+'n']=new Float32Array([-(-0x41c*-0x9+0xfa3+-0x349e),-(-0x11a3+-0x11b*-0x7+-0x3*-0x34d),-(-0x1051+0xbf*0x14+-0x2*-0xb3)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin'),this['morphTextu'+'reId']=this['device']['scope']['resolve']('morphTextu'+'re'),this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['morphIndex']=this['device']['scope']['resolve']('morphIndex'+'[0]'),this['countId']=this['device']['scope']['resolve']('count'),this['zeroTextur'+'es']=!(0x9*-0x364+0x13d*0x1c+-0x1*0x427);}['destroy'](){var _0x32da4c,_0xcbaff4,_0x8283d,_0x5b7b7b;this['shader']=null;const _0x78ae84=this['morph'];_0x78ae84&&(this['morph']=null,_0x78ae84['decRefCoun'+'t'](),_0x78ae84['refCount']<-0x11d1+-0x1*-0x23d5+0x35*-0x57&&_0x78ae84['destroy']()),(_0x32da4c=this['rtPosition'+'s'])==null||_0x32da4c['destroy'](),this['rtPosition'+'s']=null,(_0xcbaff4=this['texturePos'+'itions'])==null||_0xcbaff4['destroy'](),this['texturePos'+'itions']=null,(_0x8283d=this['rtNormals'])==null||_0x8283d['destroy'](),this['rtNormals']=null,(_0x5b7b7b=this['textureNor'+'mals'])==null||_0x5b7b7b['destroy'](),this['textureNor'+'mals']=null;}['clone'](){return new xa(this['morph']);}['_getWeight'+'Index'](_0x49e94f){if(typeof _0x49e94f=='string'){const _0x4a5a1d=this['_weightMap']['get'](_0x49e94f);return _0x4a5a1d===void(0x11*0x1f6+-0xfb0+-0x11a6)&&w['errorOnce']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x49e94f+'.'),_0x4a5a1d;}return _0x49e94f;}['getWeight'](_0x328da9){const _0x4a192a=this['_getWeight'+'Index'](_0x328da9);return this['_weights'][_0x4a192a];}['setWeight'](_0x44d2ca,_0x505683){const _0x51ad82=this['_getWeight'+'Index'](_0x44d2ca);w['assert'](_0x51ad82>=0x264b+0x2077+0xbcb*-0x6&&_0x51ad82<this['morph']['_targets']['length']),this['_weights'][_0x51ad82]=_0x505683,this['_dirty']=!(0x1*-0x24e6+0xac7+0x2e7*0x9);}['_createSha'+'der'](_0x32af75){const _0x28b898=new Map();_0x28b898['set']('{MORPH_TEX'+'TURE_MAX_C'+'OUNT}',_0x32af75),this['morph']['intRenderF'+'ormat']&&_0x28b898['set']('MORPH_INT','');const _0xde6fe1=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';return $t['createShad'+'er'](this['device'],{'uniqueName':'TextureMor'+'phShader_'+_0x32af75+'-'+(this['morph']['intRenderF'+'ormat']?'int':'float'),'attributes':{'vertex_position':Me},'vertexChunk':'morphVS','fragmentChunk':'morphPS','fragmentDefines':_0x28b898,'fragmentOutputTypes':[_0xde6fe1]});}['_updateTex'+'tureRender'+'Target'](_0x4fa437,_0x4d04a8,_0x220ba7){const {morph:_0x74fe39,device:_0x1a61cf}=this;this['setAabbUni'+'forms'](_0x220ba7),this['morphTextu'+'reId']['setValue'](_0x220ba7?_0x74fe39['targetsTex'+'turePositi'+'ons']:_0x74fe39['targetsTex'+'tureNormal'+'s']),_0x1a61cf['setBlendSt'+'ate'](pt['NOBLEND']),this['countId']['setValue'](_0x4d04a8),this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),this['morphIndex']['setValue'](this['_shaderMor'+'phIndex']),Ar(_0x1a61cf,_0x4fa437,this['shader']);}['_updateTex'+'tureMorph'](_0x37a0fb){const _0x2ad385=this['device'];Q['pushGpuMar'+'ker'](_0x2ad385,'MorphUpdat'+'e'),(_0x37a0fb>-0x244d*-0x1+0x2543+-0x4990||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],_0x37a0fb,!(0x20f7+-0x2*0x60+-0x2037)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],_0x37a0fb,!(-0x1ae7+0x3f5*-0x2+0x22d2)),this['zeroTextur'+'es']=_0x37a0fb===-0xb1b*0x1+-0x6c*0x6+0xda3),Q['popGpuMark'+'er'](_0x2ad385);}['setAabbUni'+'forms'](_0x63a642=!(-0x5e4+-0x3d9*-0x2+-0x1ce)){this['aabbSizeId']['setValue'](_0x63a642?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x63a642?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x24af87){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(0x251*0x5+0xa*0x1d9+-0x1e0e);const _0x4b413b=this['morph']['_targets'],_0x1a8681=0x1*0x3fa+0x1ac7+-0x1ec1+0.00001,_0x5e4d7c=this['_shaderMor'+'phWeights'],_0x4cf210=this['_shaderMor'+'phIndex'];let _0x26bb32=0xa*0x3b9+-0x7a5*-0x1+-0x2cdf;for(let _0x7201d6=0x7*-0x1de+0xce*0x9+0x5d4;_0x7201d6<_0x4b413b['length'];_0x7201d6++)Math['abs'](this['getWeight'](_0x7201d6))>_0x1a8681&&(_0x5e4d7c[_0x26bb32]=this['getWeight'](_0x7201d6),_0x4cf210[_0x26bb32]=_0x7201d6,_0x26bb32++);this['_updateTex'+'tureMorph'](_0x26bb32);}}class sr{constructor(){h(this,'graph',null),h(this,'meshInstan'+'ces',[]),h(this,'skinInstan'+'ces',[]),h(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=-0x1c48+0x123b+-0x1*-0xa0d,this['_immutable']=!(-0x2*0x557+0x1*-0x7fe+0x12ad*0x1));}['getGraph'](){return this['graph'];}['setGraph'](_0x288ff4){this['graph']=_0x288ff4;}['getCameras'](){return this['cameras'];}['setCameras'](_0x34a4a2){this['cameras']=_0x34a4a2;}['getLights'](){return this['lights'];}['setLights'](_0x413c7c){this['lights']=_0x413c7c;}['getMateria'+'ls'](){const _0x552e81=[];for(let _0x10062d=0x386*0x7+-0xa54+-0xe56;_0x10062d<this['meshInstan'+'ces']['length'];_0x10062d++){const _0x425035=this['meshInstan'+'ces'][_0x10062d];_0x552e81['indexOf'](_0x425035['material'])===-(-0x1352*0x1+-0x1fd*-0x1+-0x7*-0x27a)&&_0x552e81['push'](_0x425035['material']);}return _0x552e81;}['clone'](){const _0x5b7555=[],_0x59d129=[],_0x2b5e74=function(_0x2e5c01){const _0x49b4ce=_0x2e5c01['clone']();_0x5b7555['push'](_0x2e5c01),_0x59d129['push'](_0x49b4ce);for(let _0x53d0c2=-0x1f2*0x4+0x8*-0x2f3+-0xfb*-0x20;_0x53d0c2<_0x2e5c01['_children']['length'];_0x53d0c2++)_0x49b4ce['addChild'](_0x2b5e74(_0x2e5c01['_children'][_0x53d0c2]));return _0x49b4ce;},_0x116d03=_0x2b5e74(this['graph']),_0x17b543=[],_0x4bbb03=[],_0x28a1e4=[];for(let _0x5db14b=0x1*-0x228+0xed*0x1a+-0x15ea;_0x5db14b<this['skinInstan'+'ces']['length'];_0x5db14b++){const _0x557e18=this['skinInstan'+'ces'][_0x5db14b]['skin'],_0x52a9bf=new Ol(_0x557e18),_0x3ee141=[];for(let _0x3959fa=0x16e5+-0x28*0x43+-0xc6d;_0x3959fa<_0x557e18['boneNames']['length'];_0x3959fa++){const _0x4639f7=_0x557e18['boneNames'][_0x3959fa],_0x30c7a2=_0x116d03['findByName'](_0x4639f7);_0x3ee141['push'](_0x30c7a2);}_0x52a9bf['bones']=_0x3ee141,_0x4bbb03['push'](_0x52a9bf);}for(let _0x4515f9=0x512+-0x85a+-0x69*-0x8;_0x4515f9<this['morphInsta'+'nces']['length'];_0x4515f9++){const _0x36c76c=this['morphInsta'+'nces'][_0x4515f9]['morph'],_0x5ecd8a=new xa(_0x36c76c);_0x28a1e4['push'](_0x5ecd8a);}for(let _0x1f00ee=0xee6+-0x16ab+-0x297*-0x3;_0x1f00ee<this['meshInstan'+'ces']['length'];_0x1f00ee++){const _0xd16602=this['meshInstan'+'ces'][_0x1f00ee],_0x382fef=_0x5b7555['indexOf'](_0xd16602['node']),_0x5344c5=new He(_0xd16602['mesh'],_0xd16602['material'],_0x59d129[_0x382fef]);if(_0xd16602['skinInstan'+'ce']){const _0x338732=this['skinInstan'+'ces']['indexOf'](_0xd16602['skinInstan'+'ce']);_0x5344c5['skinInstan'+'ce']=_0x4bbb03[_0x338732];}if(_0xd16602['morphInsta'+'nce']){const _0x22baaa=this['morphInsta'+'nces']['indexOf'](_0xd16602['morphInsta'+'nce']);_0x5344c5['morphInsta'+'nce']=_0x28a1e4[_0x22baaa];}_0x17b543['push'](_0x5344c5);}const _0x571555=new sr();return _0x571555['graph']=_0x116d03,_0x571555['meshInstan'+'ces']=_0x17b543,_0x571555['skinInstan'+'ces']=_0x4bbb03,_0x571555['morphInsta'+'nces']=_0x28a1e4,_0x571555['getGraph']()['syncHierar'+'chy'](),_0x571555;}['destroy'](){const _0x6d11d1=this['meshInstan'+'ces'];for(let _0x4aada1=-0x95a+0x1*-0x19d3+0x709*0x5;_0x4aada1<_0x6d11d1['length'];_0x4aada1++)_0x6d11d1[_0x4aada1]['destroy']();this['meshInstan'+'ces']['length']=-0xce4+0xa72+0x272;}['generateWi'+'reframe'](){He['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],$r);}}class mm extends wd{constructor(_0x2184f3,_0x5618b2,{preferHighPrecision:_0x3cd5e6=!(0x19df+-0x25da+0xbfc)}={}){super(),h(this,'_aabb'),h(this,'preferHigh'+'Precision'),(w['assert'](_0x5618b2,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x5618b2);const _0x1e6a09=_0x5618b2;this['preferHigh'+'Precision']=_0x3cd5e6,w['assert'](_0x2184f3['every'](_0x511a1d=>!_0x511a1d['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x2184f3['slice']();const _0x4a6995=_0x1e6a09['textureHal'+'fFloatRend'+'erable']?nt:void(-0x197b+0x3*-0x837+0x3220),_0x1371f6=_0x1e6a09['textureFlo'+'atRenderab'+'le']?Xt:void(0x22*-0x71+0x1f64+-0x1062);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x1371f6??_0x4a6995:_0x4a6995??_0x1371f6,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??nd,this['intRenderF'+'ormat']=dn(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Xt:nt,this['_init'](),this['_updateMor'+'phFlags']();}['destroy'](){var _0x5cabe6,_0x1e099f,_0x12871e;(_0x5cabe6=this['vertexBuff'+'erIds'])==null||_0x5cabe6['destroy'](),this['vertexBuff'+'erIds']=null,(_0x1e099f=this['targetsTex'+'turePositi'+'ons'])==null||_0x1e099f['destroy'](),this['targetsTex'+'turePositi'+'ons']=null,(_0x12871e=this['targetsTex'+'tureNormal'+'s'])==null||_0x12871e['destroy'](),this['targetsTex'+'tureNormal'+'s']=null;}get['aabb'](){if(!this['_aabb']){const _0x1696f7=new D(),_0xf9feb4=new D();for(let _0x477a5c=-0x4a1*-0x2+-0x1*0x16fc+0x1f6*0x7;_0x477a5c<this['_targets']['length'];_0x477a5c++){const _0x4c58ec=this['_targets'][_0x477a5c]['aabb'];_0x1696f7['min'](_0x4c58ec['getMin']()),_0xf9feb4['max'](_0x4c58ec['getMax']());}this['_aabb']=new De(),this['_aabb']['setMinMax'](_0x1696f7,_0xf9feb4);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x1cf699=0x1*-0x16d4+-0x1b0d*0x1+-0x1*-0x31e1;_0x1cf699<this['_targets']['length'];_0x1cf699++)this['_targets'][_0x1cf699]['_postInit']();}['_findSpars'+'eSet'](_0x19230f,_0x61fd70,_0x39a834){let _0x2e1e74=0x64a+0x1fc5+-0x2*0x1307;const _0xa8a899=_0x19230f[-0xa1f+0x134a+0x92b*-0x1]['length'];for(let _0x1b2792=-0x24c8+-0xcdf+0x31a7;_0x1b2792<_0xa8a899;_0x1b2792+=-0x739*0x1+0x71+0x6cb){let _0x3e556f=!(-0x7f5+-0x3*0x363+0x121f);for(let _0x398f89=-0x55e+-0x922+0xe80;_0x398f89<_0x19230f['length'];_0x398f89++){const _0xd3f6af=_0x19230f[_0x398f89];if(_0xd3f6af[_0x1b2792]!==-0x2*-0xe30+0x67*-0x4+-0x1ac4||_0xd3f6af[_0x1b2792+(-0x1c98+-0xcc9*0x3+0x42f4)]!==0x10e7+-0x1a1+-0xf46*0x1||_0xd3f6af[_0x1b2792+(0x1*0x5ab+-0xa*0x230+0x1037)]!==-0xbe3+-0x1b61+0x2744){_0x3e556f=!(0x1ff3*-0x1+0x1535+-0x226*-0x5);break;}}_0x3e556f?(_0x61fd70['push'](_0x2e1e74),_0x39a834['push'](_0x1b2792/(0x12b*-0x17+-0x1*0x26e5+-0x71*-0x95)),_0x2e1e74++):_0x61fd70['push'](-0x1b*0x101+-0x1582*0x1+0x309d);}return _0x2e1e74;}['_initTextu'+'reBased'](){const _0x5bb5e7=[],_0x4780cc=[],_0x234a71=this['_targets'];for(let _0x1b43bf=-0x1a*-0xc7+-0x386*0x1+-0x10b0;_0x1b43bf<_0x234a71['length'];_0x1b43bf++){const _0x21a6b3=_0x234a71[_0x1b43bf];_0x21a6b3['options']['deltaPosit'+'ions']&&(_0x5bb5e7['push'](_0x21a6b3['options']['deltaPosit'+'ions']),_0x4780cc['push'](!(0x14dc+0xb05+0x1fe1*-0x1))),_0x21a6b3['options']['deltaNorma'+'ls']&&(_0x5bb5e7['push'](_0x21a6b3['options']['deltaNorma'+'ls']),_0x4780cc['push'](!(0xdba*0x2+0x79f*-0x2+-0x19*0x7d)));}const _0x7f9086=[],_0x1be18c=[],_0x447199=this['_findSpars'+'eSet'](_0x5bb5e7,_0x7f9086,_0x1be18c),_0x2156e2=this['device']['maxTexture'+'Size'];let _0x3478d2=Math['ceil'](Math['sqrt'](_0x447199));_0x3478d2=Math['min'](_0x3478d2,_0x2156e2);const _0x4a68ab=Math['ceil'](_0x447199/_0x3478d2);if(_0x4a68ab>_0x2156e2){w['warnOnce']('Morph\x20targ'+'et\x20data\x20is'+'\x20too\x20large'+'\x20to\x20fit\x20in'+'to\x20a\x20textu'+'re\x20array.\x20'+'Required\x20t'+'exture\x20siz'+'e:\x20'+_0x3478d2+'x'+_0x4a68ab+(',\x20max\x20text'+'ure\x20size:\x20')+_0x2156e2+'x'+_0x2156e2+'.');return;}this['morphTextu'+'reWidth']=_0x3478d2,this['morphTextu'+'reHeight']=_0x4a68ab;let _0x48d1ba=!(0x2373+0x1b58+0x156*-0x2f);const _0x567cf0=Mn['float2Half'];this['_textureFo'+'rmat']===nt&&(_0x48d1ba=!(0x1a*-0x173+-0x1*-0x148f+0x111f));const _0x2c9a68=[],_0x8f6a0d=[],_0x4459f7=_0x3478d2*_0x4a68ab*(-0x1a9+0x19e*0x11+-0x19d1);for(let _0x318c07=0x19f*-0x13+-0x65*0x3f+0x8*0x6f5;_0x318c07<_0x5bb5e7['length'];_0x318c07++){const _0x29b162=_0x5bb5e7[_0x318c07],_0x365d8e=this['_textureFo'+'rmat']===nt?new Uint16Array(_0x4459f7):new Float32Array(_0x4459f7);if((_0x4780cc[_0x318c07]?_0x2c9a68:_0x8f6a0d)['push'](_0x365d8e),_0x48d1ba)for(let _0x449358=0x1eb0+-0xb*-0x299+-0x3b43;_0x449358<_0x1be18c['length'];_0x449358++){const _0x1ad35e=_0x1be18c[_0x449358]*(-0x1*-0x1961+-0x242e*-0x1+-0x3d8c),_0x4f7848=_0x449358*(-0x2458+-0x5*0x67+0x265f)+(0x799+-0x503+-0x292);_0x365d8e[_0x4f7848]=_0x567cf0(_0x29b162[_0x1ad35e]),_0x365d8e[_0x4f7848+(0x1441+0x1008+-0x9*0x408)]=_0x567cf0(_0x29b162[_0x1ad35e+(0x913+0x2b0+-0xbc2)]),_0x365d8e[_0x4f7848+(-0x1a8f+0x7*0x2+0x1a83*0x1)]=_0x567cf0(_0x29b162[_0x1ad35e+(-0x117*0x15+0x11*0x29+0x142c)]);}else for(let _0x54152b=-0x1*0x577+0x1263+-0x33b*0x4;_0x54152b<_0x1be18c['length'];_0x54152b++){const _0x1a0171=_0x1be18c[_0x54152b]*(-0x49f*0x5+0xd36+-0x27a*-0x4),_0x314995=_0x54152b*(0x56c+-0x1ffd+0x5*0x551)+(0x1330+-0x1416+0x6*0x27);_0x365d8e[_0x314995]=_0x29b162[_0x1a0171],_0x365d8e[_0x314995+(-0x40*-0x2e+0x3*-0xbd9+0x180c*0x1)]=_0x29b162[_0x1a0171+(-0x226d+0x202e+0x240)],_0x365d8e[_0x314995+(-0x2037+-0x3aa*0x1+-0x1*-0x23e3)]=_0x29b162[_0x1a0171+(0x24c2+-0x1d61+-0x75f)];}}_0x2c9a68['length']>-0x19bf+0x1*0x2233+0x43a*-0x2&&(this['targetsTex'+'turePositi'+'ons']=this['_createTex'+'ture']('MorphPosit'+'ionsTextur'+'e',this['_textureFo'+'rmat'],_0x234a71['length'],[_0x2c9a68]),this['targetsTex'+'turePositi'+'ons']['upload']()),_0x8f6a0d['length']>0x17*-0xdc+0x87e*-0x1+0x1c42&&(this['targetsTex'+'tureNormal'+'s']=this['_createTex'+'ture']('MorphNorma'+'lsTexture',this['_textureFo'+'rmat'],_0x234a71['length'],[_0x8f6a0d]),this['targetsTex'+'tureNormal'+'s']['upload']());const _0x2de346=[{'semantic':Ln,'components':0x1,'type':el,'asInt':!(0x213*0x3+-0x1858+0x121f)}];return this['vertexBuff'+'erIds']=new Is(this['device'],new kt(this['device'],_0x2de346,_0x7f9086['length']),_0x7f9086['length'],{'data':new Uint32Array(_0x7f9086)}),!(0x11*0x43+-0x10cb+0x9e*0x14);}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(-0x1ac*0xd+-0x25e7+0x3ba4),this['_morphNorm'+'als']=!(0xc0b+-0x92c+-0x2de);for(let _0x1c8fd2=0x207d+0x213d+0x20dd*-0x2;_0x1c8fd2<this['_targets']['length'];_0x1c8fd2++){const _0xc3d8b8=this['_targets'][_0x1c8fd2];_0xc3d8b8['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0x25f*-0x6+-0x1a9e+0xf4*0xd)),_0xc3d8b8['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(-0x11f7+0x1*-0x2191+0x3388));}}['_createTex'+'ture'](_0xca73b6,_0x1f83f3,_0x1fd64a,_0x2eac3f){return new _e(this['device'],{'levels':_0x2eac3f,'arrayLength':_0x1fd64a,'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x1f83f3,'cubemap':!(0x1f*-0xa+0x2b*0x93+0x259*-0xa),'mipmaps':!(-0x1d72+0x34*-0x5e+0x308b),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0xca73b6});}}class Md{constructor(_0x53a4cb){h(this,'used',!(-0x1*-0x1083+-0x89+-0xff9)),(w['assert'](arguments['length']===0x95a+0x25*0xa7+-0x217c*0x1),this['options']=_0x53a4cb,this['_name']=_0x53a4cb['name'],this['_defaultWe'+'ight']=_0x53a4cb['defaultWei'+'ght']||0x179f*0x1+-0x1*0x7c+0x1723*-0x1,this['_aabb']=_0x53a4cb['aabb'],this['deltaPosit'+'ions']=_0x53a4cb['deltaPosit'+'ions'],this['morphPosit'+'ions']=!!_0x53a4cb['deltaPosit'+'ions'],this['morphNorma'+'ls']=!!_0x53a4cb['deltaNorma'+'ls']);}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new De(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}['clone'](){return w['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Md(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(0xe47+0x382*-0xb+0x184f);}}let Ei,Z_=0x1*-0x1745+-0x868*-0x1+0x15a*0xb;const ce=0x65*-0x6+0x5*-0x489+0x5*0x503,mf=new te(),_f=new te(),ti=new D(),tt=new D(),Ns=new D(),Na=new D(),ns=new D(),_t=new D(),ka=new D(),Ua=new D(),fo=new D(),Q_=new D(),zt=new D(),fc=new D(),kr=new D();function pn(_0x1ec7d8){return _0x1ec7d8-Math['floor'](_0x1ec7d8);}function fA(_0x114ea2){return Math['max'](Math['min'](_0x114ea2,-0x1723+0x15ad+0x177),-0x11f*0xa+-0x3*0x79a+0x2204);}function gf(_0x5d31e3,_0xfaa7e4){return _0x5d31e3-_0xfaa7e4*Math['floor'](_0x5d31e3/_0xfaa7e4);}function uA(_0x25e121){let _0x589264=pn(_0x25e121),_0x180b67=pn((-0x101e+0x1*0x20e+0xf0f)*_0x25e121),_0x4c3f83=pn((-0xddc6+-0x17f*0x12a+0x3999d)*_0x25e121),_0xc30bbc=pn((0x10c416be*0x1+0x69b1829+-0xdcce7e8)*_0x25e121);return _0x589264-=_0x180b67/(0x1ca0+-0xf2*-0x1a+0xa71*-0x5),_0x180b67-=_0x4c3f83/(-0x11a5*0x1+-0x7*-0x20+0x1*0x11c4),_0x4c3f83-=_0xc30bbc/(-0x22*-0x4d+0x6dd+-0x338*0x5),_0xc30bbc-=_0xc30bbc/(0x719+0x1*0x1bc9+-0x21e3),[_0x589264,_0x180b67,_0x4c3f83,_0xc30bbc];}function uc(_0x502c69){let _0x745735=pn(_0x502c69),_0x3133c0=pn((-0x1113+0x18d7+-0x6c5)*_0x502c69);return _0x745735-=_0x3133c0/(-0x1d18+-0x1931+0x1d*0x1e8),_0x3133c0-=_0x3133c0/(0x130f+-0x1ec5*0x1+0xcb5),[_0x745735,_0x3133c0];}class pA{constructor(_0x58cc49){this['_emitter']=_0x58cc49;}['calcSpawnP'+'osition'](_0x3609be,_0x203aa0,_0x48abc4,_0x3c8c6c,_0x464f93){const _0xc74db=this['_emitter'],_0x480145=Math['random'](),_0x1d3c09=Math['random'](),_0x3dcd5a=Math['random'](),_0x787079=Math['random']();if(_0xc74db['useCpu']&&(_0x3609be[_0x464f93*ce+(0x3d*0x6+0x879+-0x9e7)+_0xc74db['numParticl'+'esPot']*(-0xd*-0x2e7+-0x13bf+-0x11fa)*ce]=_0x480145,_0x3609be[_0x464f93*ce+(0x4d9+-0x15*0x1d7+0x1*0x21cb)+_0xc74db['numParticl'+'esPot']*(-0x1*-0x221f+0x47*0x38+-0x31a5)*ce]=_0x1d3c09,_0x3609be[_0x464f93*ce+(-0x1*-0x20a1+-0x1945*0x1+-0x75a)+_0xc74db['numParticl'+'esPot']*(0x2*-0x123c+0x1b85*0x1+0x8f5)*ce]=_0x3dcd5a),tt['x']=_0x480145-(-0x3f4+0x2176+-0x6*0x4eb+0.5),tt['y']=_0x1d3c09-(-0x1*0x343+0x18fe+-0x1*0x15bb+0.5),tt['z']=_0x3dcd5a-(-0xb5c+0x136e+0x2*-0x409+0.5),_0xc74db['emitterSha'+'pe']===ai){const _0xaa9172=Math['max'](Math['abs'](tt['x']),Math['max'](Math['abs'](tt['y']),Math['abs'](tt['z']))),_0x49674c=_0xaa9172+(-0x1805+0x77*-0x49+0x39f4+0.5-_0xaa9172)*_0x48abc4[0x1*0x15a9+0x1297*-0x1+-0x312],_0x1c00f5=_0xaa9172+(0xc*0x8f+-0x1*-0x1a26+0x1d*-0x122+0.5-_0xaa9172)*_0x48abc4[0x7ca+-0x1*0x153d+0xd74],_0x4d11f9=_0xaa9172+(0x21e6+0x386+-0x77c*0x5+0.5-_0xaa9172)*_0x48abc4[-0x23+-0x5c*-0x4b+0x1*-0x1acf];tt['x']=_0x49674c*(_0xaa9172===Math['abs'](tt['x'])?Math['sign'](tt['x']):(-0x1d80+0x1a6e+0x1*0x314)*tt['x']),tt['y']=_0x1c00f5*(_0xaa9172===Math['abs'](tt['y'])?Math['sign'](tt['y']):(-0x55+0x1a05+0xcd7*-0x2)*tt['y']),tt['z']=_0x4d11f9*(_0xaa9172===Math['abs'](tt['z'])?Math['sign'](tt['z']):(0x1595+-0x27*0x33+0x2*-0x6e7)*tt['z']),_0xc74db['localSpace']?ti['copy'](_0x203aa0['transformP'+'oint'](tt)):ti['copy'](_0x3c8c6c)['add'](_0x203aa0['transformP'+'oint'](tt));}else{tt['normalize']();const _0x5c513b=_0xc74db['emitterRad'+'ius']===-0x2f*-0x17+0x1eb*0x1+0x4*-0x189?0x753+0x272*0x9+0x3*-0x9c7:_0xc74db['emitterRad'+'iusInner']/_0xc74db['emitterRad'+'ius'],_0x543aee=_0x787079*(-0x768+-0x17f*-0xc+-0xa8b-_0x5c513b)+_0x5c513b;_0xc74db['localSpace']?ti['copy'](tt['mulScalar'](_0x543aee*_0xc74db['emitterRad'+'ius'])):ti['copy'](_0x3c8c6c)['add'](tt['mulScalar'](_0x543aee*_0xc74db['emitterRad'+'ius']));}let _0xafca1b=-Y['lerp'](_0xc74db['rate'],_0xc74db['rate2'],_0x480145)*_0x464f93;if(_0xc74db['pack8']){const _0x550bd1=(ti['x']-_0xc74db['worldBound'+'s']['center']['x'])/_0xc74db['worldBound'+'sSize']['x']+(-0x1c62+-0x2209+0x3e6b*0x1+0.5),_0x39458c=(ti['y']-_0xc74db['worldBound'+'s']['center']['y'])/_0xc74db['worldBound'+'sSize']['y']+(0x1d20+-0x1b8f+-0x191+0.5),_0xa5b8b0=(ti['z']-_0xc74db['worldBound'+'s']['center']['z'])/_0xc74db['worldBound'+'sSize']['z']+(-0x20db+0xea1*-0x1+-0xbdf*-0x4+0.5);let _0x41d6d8=Y['lerp'](_0xc74db['startAngle']*Y['DEG_TO_RAD'],_0xc74db['startAngle'+'2']*Y['DEG_TO_RAD'],_0x480145);_0x41d6d8=_0x41d6d8%(Math['PI']*(-0x4ec+0x1dce+-0x18e0))/(Math['PI']*(-0x2473+0x1f7d+-0x4f8*-0x1));const _0x1107d9=uc(_0x550bd1);_0x3609be[_0x464f93*ce]=_0x1107d9[0x1633+-0x15c*-0x12+-0x2eab],_0x3609be[_0x464f93*ce+(-0x2659*0x1+-0x1ad8+0x4132)]=_0x1107d9[-0x1af4+0x6d9*0x1+0x141c];const _0x4d5469=uc(_0x39458c);_0x3609be[_0x464f93*ce+(-0x1276+0x2*0x95+0x5*0x376)]=_0x4d5469[-0x253*0x1+0x1c09+-0x3*0x892],_0x3609be[_0x464f93*ce+(0x35c*0x2+0x1bb*-0x2+0x3*-0x115)]=_0x4d5469[-0x5*0x6+-0x26e*-0x9+0x1*-0x15bf];const _0x3455b4=uc(_0xa5b8b0);_0x3609be[_0x464f93*ce+(-0x1c6d+-0x1389+0x2ff6)+_0xc74db['numParticl'+'esPot']*ce]=_0x3455b4[-0xe4e+0x2b*0x82+-0x8*0xf1],_0x3609be[_0x464f93*ce+(0x5*0x509+-0x1*0xb7e+0x67*-0x22)+_0xc74db['numParticl'+'esPot']*ce]=_0x3455b4[0x1d2a+-0x935+-0x13f4];const _0x384d60=uc(_0x41d6d8);_0x3609be[_0x464f93*ce+(-0x1bf3+0x43*0x2b+0x2*0x85a)+_0xc74db['numParticl'+'esPot']*ce]=_0x384d60[0x1*-0x1186+-0xed+0x1*0x1273],_0x3609be[_0x464f93*ce+(0x1f74+0x14fd+0x2*-0x1a37)+_0xc74db['numParticl'+'esPot']*ce]=_0x384d60[0x9f*-0x2f+-0x1835+-0x3*-0x11cd];const _0x425263=-0x12fe+-0xc4a*0x2+0x73*0x61;_0x3609be[_0x464f93*ce+(-0x89*-0x2+0x7*0x6d+-0x40a)+_0xc74db['numParticl'+'esPot']*ce*(0x1c6c+-0xd03+-0xf67)]=_0x425263;const _0x4dc09f=Math['max'](_0xc74db['lifetime'],(_0xc74db['numParticl'+'es']-(0xd01+0x1f39+-0x2c39))*Math['max'](_0xc74db['rate'],_0xc74db['rate2'])),_0x575962=_0xc74db['lifetime']+(-0x1035+-0x1b5c+0x35a*0xd);_0xafca1b=(_0xafca1b+_0x4dc09f)/(_0x4dc09f+_0x575962);const _0xe0d7e9=uA(_0xafca1b);_0x3609be[_0x464f93*ce+(-0x9*0x249+-0x713+0x3a*0x7a)+_0xc74db['numParticl'+'esPot']*ce*(0x2*0x112e+0x139*0x19+-0xe*0x4a3)]=_0xe0d7e9[0x1a3d+-0x745+0x8*-0x25f],_0x3609be[_0x464f93*ce+(0x7a5+-0x15fe+0xb*0x14e)+_0xc74db['numParticl'+'esPot']*ce*(0xd07+0xc11+-0x1915)]=_0xe0d7e9[-0xee+0x41*-0x8+0x2f7],_0x3609be[_0x464f93*ce+(-0x1*-0x1328+-0x437*-0x8+-0x34de)+_0xc74db['numParticl'+'esPot']*ce*(-0x5e4+-0xe5*-0x14+-0xbfd)]=_0xe0d7e9[-0x1d5+-0x45*0x15+0x78*0x10],_0x3609be[_0x464f93*ce+(0x3*-0x1e7+-0xd0f*0x1+0x12c7)+_0xc74db['numParticl'+'esPot']*ce*(0x24bb+0x25a3+-0x4a5b)]=_0xe0d7e9[0x2467*0x1+-0x5*0x232+-0x196a];}else _0x3609be[_0x464f93*ce]=ti['x'],_0x3609be[_0x464f93*ce+(-0x161*0x3+-0x22d*0x5+-0x1*-0xf05)]=ti['y'],_0x3609be[_0x464f93*ce+(0x180d+0x16ed+-0x2ef8)]=ti['z'],_0x3609be[_0x464f93*ce+(0x344*-0x9+0x1735+0x632)]=Y['lerp'](_0xc74db['startAngle']*Y['DEG_TO_RAD'],_0xc74db['startAngle'+'2']*Y['DEG_TO_RAD'],_0x480145),_0x3609be[_0x464f93*ce+(0x2650*0x1+-0x8ab+0x2*-0xed1)+_0xc74db['numParticl'+'esPot']*ce]=_0xafca1b;}['update'](_0xc106e,_0xc9a35f,_0x25f345,_0x3d144c,_0x12aa70,_0x18de51,_0x1fdfdf,_0x52cf13){let _0xc03275,_0x541bbd,_0x1ee418;const _0x5c66c3=this['_emitter'];if(_0x5c66c3['meshInstan'+'ce']['node']){const _0x3c5fff=_0x5c66c3['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x3bb2b0=-0x5f*-0x60+-0x1f97+0x1*-0x409;_0x3bb2b0<-0x1017+-0x1f25+0x2f48;_0x3bb2b0++)mf['data'][_0x3bb2b0]=_0x3c5fff['data'][_0x3bb2b0];_f['copy'](mf),_f['invert'](),Ei=_0x5c66c3['meshInstan'+'ce']['node']['localScale'],Z_=Math['max'](Math['max'](Ei['x'],Ei['y']),Ei['z']);}_0x18de51=_0x5c66c3['meshInstan'+'ce']['node']===null||_0x5c66c3['localSpace']?D['ZERO']:_0x5c66c3['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x422971=_0x5c66c3['camera']?_0x5c66c3['camera']['_node']['getPositio'+'n']():D['ZERO'],_0x4144d2=_0x5c66c3['useMesh']?0x11c2+0x2014+-0x31c5:-0x1feb+-0x1ca*0x13+-0x2*-0x20fc;let _0x5bfdb4,_0x15880f,_0x3777ff,_0xd2e3a3,_0x185557,_0x5411b9,_0x2b64ba,_0x567d49,_0x1bc139;const _0x54567b=_0x5c66c3['precision']-(0x111*-0x2+-0x2570+0x2793);for(let _0x20643f=-0xd6*0x14+0x22a*-0x11+0x3582;_0x20643f<_0x5c66c3['numParticl'+'es'];_0x20643f++){const _0x2d738b=Math['floor'](_0x5c66c3['vbCPU'][_0x20643f*_0x5c66c3['numParticl'+'eVerts']*(_0x5c66c3['useMesh']?0xfb2+-0x14d5*-0x1+-0x2481:0xb7*0x1f+0x1*-0x14dc+0x2f*-0x7)+(0x1e74+-0xb3c+-0x3*0x667)]),_0x49ef3f=_0x25f345[_0x2d738b*ce+(0x17a8+-0xe2c*-0x1+-0x6*0x64e)+_0x5c66c3['numParticl'+'esPot']*(0x30c+-0x7f*-0x25+-0x1565*0x1)*ce];Ns['x']=_0x49ef3f,Ns['y']=_0x25f345[_0x2d738b*ce+(-0x1f67+-0x414+0x2f5*0xc)+_0x5c66c3['numParticl'+'esPot']*(-0x1573+-0x687+0x1bfc)*ce],Ns['z']=_0x25f345[_0x2d738b*ce+(0x66d+0xebe+0x1*-0x1529)+_0x5c66c3['numParticl'+'esPot']*(0x3*-0xb0b+-0x26ab+0x47ce)*ce];const _0x3f3ca1=_0x5c66c3['rate']+(_0x5c66c3['rate2']-_0x5c66c3['rate'])*_0x49ef3f,_0x115d5e=_0x5c66c3['lifetime'];let _0x259da1=_0x25f345[_0x2d738b*ce+(0xc10+0x74c+0x3*-0x673)+_0x5c66c3['numParticl'+'esPot']*ce]+_0x1fdfdf;const _0x8938=fA(_0x259da1/_0x115d5e);let _0x1de862=-0xb99+-0x7*-0x287+-0x618,_0x4b9e89=-0x202*0x1+0x2*-0x20e+0x61e;const _0x5d1ef1=0x2*0x773+0x233d+-0x55*0x97;(_0x259da1-_0x1fdfdf<=-0x8c0+0xac9*0x1+-0x209||_0x259da1>=_0x115d5e)&&this['calcSpawnP'+'osition'](_0x25f345,_0x3d144c,_0x12aa70,_0x18de51,_0x2d738b);let _0x52b557=_0x259da1>0x29*-0x9+-0x12aa+-0x1*-0x141b&&_0x259da1<_0x115d5e;_0x52b557&&(_0x1ee418=_0x8938*_0x54567b,_0x5bfdb4=Math['floor'](_0x1ee418),_0x15880f=Math['ceil'](_0x1ee418),_0x1ee418%=0x1373*-0x1+-0x966+0x1cda,_0xc03275=_0x5c66c3['qRotSpeed'][_0x5bfdb4],_0x541bbd=_0x5c66c3['qRotSpeed'][_0x15880f],_0x3777ff=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_0xc03275=_0x5c66c3['qRotSpeed2'][_0x5bfdb4],_0x541bbd=_0x5c66c3['qRotSpeed2'][_0x15880f],_0xd2e3a3=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_0xc03275=_0x5c66c3['qScale'][_0x5bfdb4],_0x541bbd=_0x5c66c3['qScale'][_0x15880f],_0x1de862=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_0xc03275=_0x5c66c3['qScale2'][_0x5bfdb4],_0x541bbd=_0x5c66c3['qScale2'][_0x15880f],_0x185557=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_0xc03275=_0x5c66c3['qAlpha'][_0x5bfdb4],_0x541bbd=_0x5c66c3['qAlpha'][_0x15880f],_0x5411b9=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_0xc03275=_0x5c66c3['qAlpha2'][_0x5bfdb4],_0x541bbd=_0x5c66c3['qAlpha2'][_0x15880f],_0x2b64ba=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_0xc03275=_0x5c66c3['qRadialSpe'+'ed'][_0x5bfdb4],_0x541bbd=_0x5c66c3['qRadialSpe'+'ed'][_0x15880f],_0x567d49=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_0xc03275=_0x5c66c3['qRadialSpe'+'ed2'][_0x5bfdb4],_0x541bbd=_0x5c66c3['qRadialSpe'+'ed2'][_0x15880f],_0x1bc139=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_0x567d49+=(_0x1bc139-_0x567d49)*(_0x49ef3f*(-0x514*0x6+0x896*0x4+-0x37c)%(-0x236b*-0x1+0x1dd8+-0x1*0x4142)),Na['x']=_0x25f345[_0x2d738b*ce],Na['y']=_0x25f345[_0x2d738b*ce+(-0x1aea+-0xc41*0x1+0x272c)],Na['z']=_0x25f345[_0x2d738b*ce+(0x1*-0x20c8+-0x2f*-0x8f+0x689)],_0x5c66c3['localSpace']?fo['copy'](Na):fo['copy'](Na)['sub'](_0x18de51),fo['normalize']()['mulScalar'](_0x567d49),_0x5bfdb4*=0x290*0xb+0x3cd*0x7+0x6d9*-0x8,_0x15880f*=0xe*0x229+0x2479+-0x42b4,_0xc03275=_0x5c66c3['qLocalVelo'+'city'][_0x5bfdb4],_0x541bbd=_0x5c66c3['qLocalVelo'+'city'][_0x15880f],_t['x']=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_0xc03275=_0x5c66c3['qLocalVelo'+'city'][_0x5bfdb4+(-0x6f5*0x1+-0x14df+0x1bd5)],_0x541bbd=_0x5c66c3['qLocalVelo'+'city'][_0x15880f+(-0xa*0x2b6+0x1*0x1518+0x605)],_t['y']=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_0xc03275=_0x5c66c3['qLocalVelo'+'city'][_0x5bfdb4+(0x9f5*-0x1+0x1a80+-0x1089)],_0x541bbd=_0x5c66c3['qLocalVelo'+'city'][_0x15880f+(0x1622+-0x1*0x167b+0x1*0x5b)],_t['z']=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_0xc03275=_0x5c66c3['qLocalVelo'+'city2'][_0x5bfdb4],_0x541bbd=_0x5c66c3['qLocalVelo'+'city2'][_0x15880f],Ua['x']=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_0xc03275=_0x5c66c3['qLocalVelo'+'city2'][_0x5bfdb4+(-0xae0+-0x1*-0x1b15+0x81a*-0x2)],_0x541bbd=_0x5c66c3['qLocalVelo'+'city2'][_0x15880f+(0x73f+0x105e+-0x179c)],Ua['y']=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_0xc03275=_0x5c66c3['qLocalVelo'+'city2'][_0x5bfdb4+(0x3e*0x86+0xd10+0x2d82*-0x1)],_0x541bbd=_0x5c66c3['qLocalVelo'+'city2'][_0x15880f+(-0x92f*-0x2+-0x67f+-0x1*0xbdd)],Ua['z']=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_0xc03275=_0x5c66c3['qVelocity'][_0x5bfdb4],_0x541bbd=_0x5c66c3['qVelocity'][_0x15880f],ns['x']=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_0xc03275=_0x5c66c3['qVelocity'][_0x5bfdb4+(-0x192e+0x1*0x19d0+-0xa1)],_0x541bbd=_0x5c66c3['qVelocity'][_0x15880f+(0x14e5+0xa3*-0x3+-0x12fb*0x1)],ns['y']=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_0xc03275=_0x5c66c3['qVelocity'][_0x5bfdb4+(-0x4ac+-0x245d+0x290b)],_0x541bbd=_0x5c66c3['qVelocity'][_0x15880f+(0x85*-0x27+-0x10a7+0x24ec)],ns['z']=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_0xc03275=_0x5c66c3['qVelocity2'][_0x5bfdb4],_0x541bbd=_0x5c66c3['qVelocity2'][_0x15880f],ka['x']=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_0xc03275=_0x5c66c3['qVelocity2'][_0x5bfdb4+(0x1*0x14e3+0x25*-0x109+0x116b)],_0x541bbd=_0x5c66c3['qVelocity2'][_0x15880f+(-0x2159+-0xc5*-0x11+0x1*0x1445)],ka['y']=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_0xc03275=_0x5c66c3['qVelocity2'][_0x5bfdb4+(-0x8a3+0x3f8+0x4ad)],_0x541bbd=_0x5c66c3['qVelocity2'][_0x15880f+(-0x18*-0x2b+-0x2451+0x204b)],ka['z']=_0xc03275+(_0x541bbd-_0xc03275)*_0x1ee418,_t['x']+=(Ua['x']-_t['x'])*Ns['x'],_t['y']+=(Ua['y']-_t['y'])*Ns['y'],_t['z']+=(Ua['z']-_t['z'])*Ns['z'],_0x5c66c3['initialVel'+'ocity']>0x17b7+0x366+-0xb*0x277&&(_0x5c66c3['emitterSha'+'pe']===zw?(tt['copy'](Ns)['mulScalar'](0x1*0x22fd+0x1*0xa97+-0x2d92)['sub'](D['ONE'])['normalize'](),_t['add'](tt['mulScalar'](_0x5c66c3['initialVel'+'ocity']))):_t['add'](D['FORWARD']['mulScalar'](_0x5c66c3['initialVel'+'ocity']))),ns['x']+=(ka['x']-ns['x'])*Ns['x'],ns['y']+=(ka['y']-ns['y'])*Ns['y'],ns['z']+=(ka['z']-ns['z'])*Ns['z'],_0x3777ff+=(_0xd2e3a3-_0x3777ff)*Ns['y'],_0x1de862=(_0x1de862+(_0x185557-_0x1de862)*(_0x49ef3f*(0x355*-0x7+-0x4ec*0xa+0x6f9b)%(-0x2699*-0x1+0x2*-0xcd8+-0xce8)))*Z_,_0x4b9e89=(_0x2b64ba-_0x5411b9)*(_0x49ef3f*(0x2449+0xcb9*0x2+-0x39d3)%(-0x12ad+0x1515+-0x267*0x1)),_0x5c66c3['meshInstan'+'ce']['node']&&(_0x5c66c3['localSpace']?(_t['x']/=Ei['x'],_t['y']/=Ei['y'],_t['z']/=Ei['z']):mf['transformP'+'oint'](_t,_t)),_0x5c66c3['localSpace']?(_f['transformP'+'oint'](ns,ns),_t['add'](ns)['add'](fo)):(_t['add'](ns['mul'](Ei)),_t['add'](fo['mul'](Ei))),fc['copy'](_t),Q_['copy'](Na)['add'](_t['mulScalar'](_0x1fdfdf)),zt['copy'](Q_),_0x25f345[_0x2d738b*ce]=zt['x'],_0x25f345[_0x2d738b*ce+(-0x63f*0x1+0x1de1*0x1+-0x17a1)]=zt['y'],_0x25f345[_0x2d738b*ce+(0x89b+-0x6*-0x359+-0x1caf)]=zt['z'],_0x25f345[_0x2d738b*ce+(0x407*-0x5+-0x18b6*0x1+0x2cdc)]+=_0x3777ff*_0x1fdfdf,_0x5c66c3['wrap']&&_0x5c66c3['wrapBounds']&&(_0x5c66c3['localSpace']||zt['sub'](_0x18de51),zt['x']=gf(zt['x'],_0x5c66c3['wrapBounds']['x'])-_0x5c66c3['wrapBounds']['x']*(0x4bf+0xa7d+-0x4*0x3cf+0.5),zt['y']=gf(zt['y'],_0x5c66c3['wrapBounds']['y'])-_0x5c66c3['wrapBounds']['y']*(-0x20e4+-0x1a*0x11f+-0x6*-0xa57+0.5),zt['z']=gf(zt['z'],_0x5c66c3['wrapBounds']['z'])-_0x5c66c3['wrapBounds']['z']*(-0x1*-0xb22+0x592*-0x3+0x594+0.5),_0x5c66c3['localSpace']||zt['add'](_0x18de51)),_0x5c66c3['sort']>0x1b5e+0x1bd1+0x33*-0x115&&(_0x5c66c3['sort']===0xcca*0x1+-0x25af+-0x2*-0xc73?(kr['copy'](zt)['sub'](_0x422971),_0x5c66c3['particleDi'+'stance'][_0x2d738b]=-(kr['x']*kr['x']+kr['y']*kr['y']+kr['z']*kr['z'])):_0x5c66c3['sort']===-0x89e+0x1*0xd8d+-0x4ed?_0x5c66c3['particleDi'+'stance'][_0x2d738b]=_0x259da1:_0x5c66c3['sort']===-0x877+-0x44d*-0x1+-0x1*-0x42d&&(_0x5c66c3['particleDi'+'stance'][_0x2d738b]=-_0x259da1))),_0x52cf13?_0x259da1<-0x3b*-0xa4+-0xca2+0x2*-0xc95&&(_0x25f345[_0x2d738b*ce+(0x2649*0x1+0x65d+-0x2ca3)+_0x5c66c3['numParticl'+'esPot']*(-0xf3e*-0x2+0xac*0x1d+-0x31f6)*ce]=-(-0xb5b+0x21b9*-0x1+0x1*0x2d15)):(_0x259da1>=_0x115d5e&&(_0x259da1-=Math['max'](_0x115d5e,(_0x5c66c3['numParticl'+'es']-(-0x67*0x48+0x6a9+0x1650))*_0x3f3ca1),_0x25f345[_0x2d738b*ce+(0x1*0x1cd1+-0x99b+-0x1333)+_0x5c66c3['numParticl'+'esPot']*(-0x1eec+-0x914+0x2802)*ce]=_0x5c66c3['loop']?-0x1204*-0x1+-0x1*0x2493+0x1290:-(-0x16c7+-0x19b6+0x307e)),_0x259da1<0x1dd4*0x1+0xb9d+-0x2971&&_0x5c66c3['loop']&&(_0x25f345[_0x2d738b*ce+(-0x10*0xb1+-0x1*-0x22a3+-0x1790)+_0x5c66c3['numParticl'+'esPot']*(0x61*-0x29+0x379*-0x1+0x1304)*ce]=0x170f*-0x1+0x3*-0xbe0+0x1390*0x3)),_0x25f345[_0x2d738b*ce+(0x16e*0x13+-0x4a*-0x7a+-0x3e6b*0x1)+_0x5c66c3['numParticl'+'esPot']*(0x1*-0x12bf+0x30*0xcb+-0x134f)*ce]<-0x1955+0x1ad+0x2f5*0x8&&(_0x52b557=!(-0x1c09+-0xe7d*0x1+0x2a87)),_0x25f345[_0x2d738b*ce+(0x2*-0x5bb+0x89+0xaf0)+_0x5c66c3['numParticl'+'esPot']*ce]=_0x259da1;for(let _0x1b3da0=-0x7*0x583+-0x184b+0x3ee0;_0x1b3da0<_0x5c66c3['numParticl'+'eVerts'];_0x1b3da0++){const _0x26faf2=(_0x20643f*_0x5c66c3['numParticl'+'eVerts']+_0x1b3da0)*(_0x5c66c3['useMesh']?0x265+-0xd6a+0x1*0xb0b:-0x1135*-0x1+-0x345*0xa+0xf81*0x1);let _0x57f202=_0x5c66c3['vbCPU'][_0x26faf2],_0x2bee64=_0x5c66c3['vbCPU'][_0x26faf2+(-0x1*0x18d+0x1*-0x2615+-0x27a3*-0x1)],_0x50e253=_0x5c66c3['vbCPU'][_0x26faf2+(-0x446+-0x253e+0x2986*0x1)];_0x52b557||(_0x57f202=_0x2bee64=_0x50e253=-0xfdc+-0x1d11+0x1*0x2ced);const _0x1c2a0d=_0x20643f*_0x5c66c3['numParticl'+'eVerts']*_0x4144d2+_0x1b3da0*_0x4144d2;_0xc106e[_0x1c2a0d]=zt['x'],_0xc106e[_0x1c2a0d+(-0x177b+-0xc*-0xa+-0x1eb*-0xc)]=zt['y'],_0xc106e[_0x1c2a0d+(0x11d5+-0x256+-0xf7d)]=zt['z'],_0xc106e[_0x1c2a0d+(-0x184a+-0x39f*0x1+-0x2*-0xdf6)]=_0x8938,_0xc106e[_0x1c2a0d+(-0x1fa+0x76+0x188)]=_0x5c66c3['alignToMot'+'ion']?_0x5d1ef1:_0x25f345[_0x2d738b*ce+(-0xf*-0x121+-0xc*0x2e3+0x11b8)],_0xc106e[_0x1c2a0d+(-0x2*-0x1ee+0x17e*0xc+-0x15bf)]=_0x1de862,_0xc106e[_0x1c2a0d+(-0x1cf0*-0x1+0x2a0*-0xa+-0x2aa)]=_0x4b9e89,_0xc106e[_0x1c2a0d+(-0x1c00+-0x48f*0x3+0x29b4)]=fc['x'],_0xc106e[_0x1c2a0d+(-0x8*0x3fc+-0x66e+0x7*0x57a)]=_0x57f202,_0xc106e[_0x1c2a0d+(0x52c*0x1+-0x1572+0xa7*0x19)]=_0x2bee64,_0xc106e[_0x1c2a0d+(0x1af7+0x1fb+-0x1ce8)]=_0x50e253,_0xc106e[_0x1c2a0d+(-0x8a7+-0x905+0x11b7)]=fc['y'],_0xc106e[_0x1c2a0d+(-0x13f2+0x1ddf+-0x9e1)]=_0x2d738b,_0xc106e[_0x1c2a0d+(-0x1d35+-0x10ab+0xf4f*0x3)]=fc['z'],_0xc106e[_0x1c2a0d+(0x1c7+-0xe55+0xc9c)]=_0x5c66c3['vbCPU'][_0x26faf2+(0x2328+-0x5*0x72a+0xad)],_0x5c66c3['useMesh']&&(_0xc106e[_0x1c2a0d+(-0x3*-0x318+0xf2d+-0x1866)]=_0x5c66c3['vbCPU'][_0x26faf2+(-0x3a*0x22+0x111*0x1+0x6a7)],_0xc106e[_0x1c2a0d+(-0x1ec7+0xbd7+0x1300)]=_0x5c66c3['vbCPU'][_0x26faf2+(-0x1242+0x210d+-0xec6)]);}}if(_0x5c66c3['sort']>nu&&_0x5c66c3['camera']){const _0x4fafe6=_0x5c66c3['useMesh']?0x384+0x95b+0xb*-0x12b:-0xef0+-0xda7+0x989*0x3,_0x561e9a=_0x5c66c3['particleDi'+'stance'];for(let _0x8802d8=-0x474+0x251c+-0x20a8;_0x8802d8<_0x5c66c3['numParticl'+'es'];_0x8802d8++)_0xc9a35f[_0x8802d8][0xc*0x31b+-0x39a+-0x21aa]=_0x8802d8,_0xc9a35f[_0x8802d8][0xa10+-0x1*0x2ad+-0x762]=_0x561e9a[Math['floor'](_0x5c66c3['vbCPU'][_0x8802d8*_0x5c66c3['numParticl'+'eVerts']*_0x4fafe6+(-0x1*-0x1896+-0x115b+0x9a*-0xc)])];_0x5c66c3['vbOld']['set'](_0x5c66c3['vbCPU']),_0xc9a35f['sort']((_0x425be0,_0x2ad296)=>_0x425be0[-0xf8b+-0x185b+-0x46f*-0x9]-_0x2ad296[-0x10c6+0x21d0+-0x1109]);for(let _0x3fb235=0x1577+0x17*-0x161+-0x20*-0x52;_0x3fb235<_0x5c66c3['numParticl'+'es'];_0x3fb235++){const _0x141f4a=_0xc9a35f[_0x3fb235][0x1d11+-0x11c2*0x1+-0xb4f]*_0x5c66c3['numParticl'+'eVerts']*_0x4fafe6,_0x558201=_0x3fb235*_0x5c66c3['numParticl'+'eVerts']*_0x4fafe6;for(let _0x16f70b=-0x1ec*0x1+0xbb*-0x8+0x47*0x1c;_0x16f70b<_0x5c66c3['numParticl'+'eVerts']*_0x4fafe6;_0x16f70b++)_0x5c66c3['vbCPU'][_0x558201+_0x16f70b]=_0x5c66c3['vbOld'][_0x141f4a+_0x16f70b];}}}}const J_=new _i(),eg=new _i(),tg=new _i();class mA{constructor(_0x2d6d72,_0x2d5573){this['_emitter']=_0x2d6d72,this['frameRando'+'mUniform']=new Float32Array(0x27*0x75+-0x16bb+0x4eb),this['emitterPos'+'Uniform']=new Float32Array(0x1975+0x1cbc+0x1*-0x362e),this['emitterSca'+'leUniform']=new Float32Array([-0x9ab+0x265+0x747,-0x1*0x58d+0x1f5+-0x399*-0x1,-0x1cd5+0x1c1*0x14+0x31f*-0x2]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0x747+0x266b+-0x5*0x923),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(-0x19*-0xf1+0x10e8+-0x12*0x23f),this['inBoundsSi'+'zeUniform']=new Float32Array(0x1*0x142f+0x13*0x204+-0x3a78),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(-0xba3+-0x1*-0x1655+-0xaaf),this['constantPa'+'rticleTexI'+'N']=_0x2d5573['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x2d5573['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x2d5573['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x2d5573['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x2d5573['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x2d5573['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x2d5573['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x2d5573['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x2d5573['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x2d5573['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x2d5573['scope']['resolve']('delta'),this['constantRa'+'te']=_0x2d5573['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x2d5573['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x2d5573['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x2d5573['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x2d5573['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x2d5573['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x2d5573['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x2d5573['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x2d5573['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x2d5573['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x2d5573['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x2d5573['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x2d5573['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x2d5573['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x2d5573['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x2d5573['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x2d5573['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x2d5573['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x2d5573['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x2d5573['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x2d5573['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x2d5573['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x2d5573['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x2d5573['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x2d5573['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x2d5573['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][0x6b*-0x2+-0x262a+0x2700]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][0x1*0x1a19+0x7*0x257+-0x2a79]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][0x517*-0x7+-0x2*0x215+0x27cd]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][-0x1b5*-0x10+0x38e*-0x1+-0xbe1*0x2]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0xc31+0x22d8+-0x16a6]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][0x1cb6+-0x883+0x1*-0x1431]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0x2a*-0x49+-0x2431+0x1*0x1837]=Math['random'](),this['frameRando'+'mUniform'][0x1*-0x2426+0x2dd+-0x2*-0x10a5]=Math['random'](),this['frameRando'+'mUniform'][-0x5f*0x16+-0x1f9d*-0x1+-0x1771*0x1]=Math['random']();}['update'](_0x2a14bd,_0x52350d,_0x9373af,_0x54f77f,_0xdba1f0){Q['pushGpuMar'+'ker'](_0x2a14bd,'ParticleGP'+'U');const _0x588ac6=this['_emitter'];_0x2a14bd['setBlendSt'+'ate'](pt['NOBLEND']),_0x2a14bd['setDepthSt'+'ate'](Yt['NODEPTH']),_0x2a14bd['setCullMod'+'e'](bt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((0x2*-0x39a+0xa7a+-0x9*0x5d)/_0x588ac6['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x588ac6['precision']),this['constantNu'+'mParticles']['setValue'](_0x588ac6['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x588ac6['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x588ac6['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x588ac6['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x588ac6['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x588ac6['internalTe'+'x3']);const _0x14aba9=_0x588ac6['meshInstan'+'ce']['node'],_0x3ec5c4=_0x14aba9===null?D['ONE']:_0x14aba9['localScale'];if(_0x588ac6['pack8']){this['worldBound'+'sMulUnifor'+'m'][-0x1d64+0x1b3c+0x6*0x5c]=_0x588ac6['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][0x7*0x4b2+0xbfc+0xef3*-0x3]=_0x588ac6['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][0x196*-0x13+-0x3*-0xfb+0x1b33]=_0x588ac6['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][-0x119*-0x1a+0xec9*0x2+-0x2*0x1d0e]=_0x588ac6['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][-0x1ba+0xfa8+-0xded]=_0x588ac6['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][0xbd4+0x513*0x7+-0x2f57*0x1]=_0x588ac6['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x23d855=_0x588ac6['maxVel']*Math['max'](Math['max'](_0x3ec5c4['x'],_0x3ec5c4['y']),_0x3ec5c4['z']);_0x23d855=Math['max'](_0x23d855,0x490+-0xb3+-0x34*0x13),this['constantMa'+'xVel']['setValue'](_0x23d855);}const _0x37a7cf=_0x14aba9===null||_0x588ac6['localSpace']?D['ZERO']:_0x14aba9['getPositio'+'n'](),_0x4a468f=_0x14aba9===null?te['IDENTITY']:_0x14aba9['getWorldTr'+'ansform']();_0x588ac6['emitterSha'+'pe']===ai?(J_['setFromMat'+'4'](_0x52350d),this['constantSp'+'awnBounds']['setValue'](J_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x9373af)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x588ac6['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x588ac6['emitterRad'+'ius']===-0x1*0x267d+0x28b+0x23f2?-0xeba+0x469*0x1+0x8b*0x13:_0x588ac6['emitterRad'+'iusInner']/_0x588ac6['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x588ac6['initialVel'+'ocity']),eg['setFromMat'+'4'](_0x4a468f),tg['invertMat4'](_0x4a468f),this['emitterPos'+'Uniform'][-0x4b*0x2+-0x3*-0x745+-0x1539]=_0x37a7cf['x'],this['emitterPos'+'Uniform'][-0x9*0x201+-0x13*-0xca+0x30c]=_0x37a7cf['y'],this['emitterPos'+'Uniform'][-0x1*0x3d3+0x2*-0xb26+0x1a21]=_0x37a7cf['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x54f77f),this['constantRa'+'te']['setValue'](_0x588ac6['rate']),this['constantRa'+'teDiv']['setValue'](_0x588ac6['rate2']-_0x588ac6['rate']),this['constantSt'+'artAngle']['setValue'](_0x588ac6['startAngle']*Y['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x588ac6['startAngle'+'2']*Y['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x588ac6['seed']),this['constantLi'+'fetime']['setValue'](_0x588ac6['lifetime']),this['emitterSca'+'leUniform'][0x559*0x1+-0x17fc+0x1*0x12a3]=_0x3ec5c4['x'],this['emitterSca'+'leUniform'][0x7b3+0x2af*0x4+-0x126e]=_0x3ec5c4['y'],this['emitterSca'+'leUniform'][0x22*0x3e+0x16b1+-0x1eeb]=_0x3ec5c4['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](eg['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](tg['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x588ac6['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x588ac6['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x588ac6['rotSpeedUM'+'ax'][0x1*-0x13a9+0x1a1a+-0x671]);let _0x4b44c7=_0x588ac6['swapTex']?_0x588ac6['particleTe'+'xOUT']:_0x588ac6['particleTe'+'xIN'];_0x4b44c7=_0x588ac6['beenReset']?_0x588ac6['particleTe'+'xStart']:_0x4b44c7;const _0x226075=_0x588ac6['swapTex']?_0x588ac6['particleTe'+'xIN']:_0x588ac6['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x4b44c7),Ar(_0x2a14bd,_0x588ac6['swapTex']?_0x588ac6['rtParticle'+'TexIN']:_0x588ac6['rtParticle'+'TexOUT'],_0xdba1f0?_0x588ac6['shaderPart'+'icleUpdate'+'OnStop']:_0x588ac6['loop']?_0x588ac6['shaderPart'+'icleUpdate'+'Respawn']:_0x588ac6['shaderPart'+'icleUpdate'+'NoRespawn']),_0x588ac6['material']['setParamet'+'er']('particleTe'+'xOUT',_0x4b44c7),_0x588ac6['material']['setParamet'+'er']('particleTe'+'xIN',_0x226075),_0x588ac6['beenReset']=!(-0x4*-0x6c4+-0x3ce+-0x1741),_0x588ac6['swapTex']=!_0x588ac6['swapTex'],_0x588ac6['prevWorldB'+'oundsSize']['copy'](_0x588ac6['worldBound'+'sSize']),_0x588ac6['prevWorldB'+'oundsCente'+'r']['copy'](_0x588ac6['worldBound'+'s']['center']),_0x588ac6['pack8']&&this['_setInputB'+'ounds'](),Q['popGpuMark'+'er'](_0x2a14bd);}}const sg=['NONE','VERTEX','MAP'];class _A extends ya{['generateKe'+'y'](_0x19505f){let _0x29ef13='particle_'+ya['definesHas'+'h'](_0x19505f['defines'])+'_';for(const _0x368cf2 in _0x19505f)_0x19505f['hasOwnProp'+'erty'](_0x368cf2)&&(_0x29ef13+=_0x19505f[_0x368cf2]);return _0x29ef13;}['createVert'+'exDefines'](_0x5f591e,_0x1126b7){const _0x40a6f0=new Map(_0x5f591e['defines']);return _0x5f591e['mesh']&&_0x40a6f0['set']('USE_MESH',''),_0x5f591e['meshUv']&&_0x40a6f0['set']('USE_MESH_U'+'V',''),_0x5f591e['localSpace']&&_0x40a6f0['set']('LOCAL_SPAC'+'E',''),_0x5f591e['screenSpac'+'e']&&_0x40a6f0['set']('SCREEN_SPA'+'CE',''),_0x5f591e['animTex']&&_0x40a6f0['set']('ANIMTEX',''),_0x5f591e['soft']>-0x4*-0x2bd+-0x66*-0x35+-0x2012&&_0x40a6f0['set']('SOFT',''),_0x5f591e['stretch']>-0x55d+-0x5*-0x301+-0x9a8&&_0x40a6f0['set']('STRETCH',''),_0x5f591e['customFace']&&_0x40a6f0['set']('CUSTOM_FAC'+'E',''),_0x5f591e['pack8']&&_0x40a6f0['set']('PACK8',''),_0x5f591e['localSpace']&&_0x40a6f0['set']('LOCAL_SPAC'+'E',''),_0x5f591e['animTexLoo'+'p']&&_0x40a6f0['set']('ANIMTEX_LO'+'OP',''),_0x5f591e['wrap']&&_0x40a6f0['set']('WRAP',''),_0x5f591e['alignToMot'+'ion']&&_0x40a6f0['set']('ALIGN_TO_M'+'OTION',''),_0x40a6f0['set']('NORMAL',sg[_0x5f591e['normal']]),_0x1126b7['particle_v'+'ertexData']=Me,_0x5f591e['mesh']&&_0x5f591e['meshUv']&&(_0x1126b7['particle_u'+'v']=is),_0x5f591e['useCpu']&&(_0x1126b7['particle_v'+'ertexData2']=uh,_0x1126b7['particle_v'+'ertexData3']=Ap,_0x1126b7['particle_v'+'ertexData4']=Cp,_0x1126b7['particle_v'+'ertexData5']=Pp),_0x40a6f0;}['createFrag'+'mentDefine'+'s'](_0x57a353){const _0x4a4dee=new Map(_0x57a353['defines']);return _0x57a353['soft']>0x1fa1+-0x1f57+-0x1*0x4a&&_0x4a4dee['set']('SOFT',''),_0x57a353['halflamber'+'t']&&_0x4a4dee['set']('HALF_LAMBE'+'RT',''),_0x4a4dee['set']('NORMAL',sg[_0x57a353['normal']]),_0x4a4dee['set']('BLEND',Yy[_0x57a353['blend']]),_0x4a4dee;}['createShad'+'erDefiniti'+'on'](_0x19cb75,_0x136c00){const _0x54e139=_0x19cb75['isWebGPU']?it:Fe,_0x1403f0=Pe['get'](_0x19cb75,_0x54e139),_0x128c00={},_0x2e6f4e=this['createVert'+'exDefines'](_0x136c00,_0x128c00),_0x208c4f=this['createFrag'+'mentDefine'+'s'](_0x136c00),_0x32d08b='PARTICLE_'+(_0x136c00['useCpu']?'CPU':'GPU')+'\x0a';_0x2e6f4e['set'](_0x32d08b,''),_0x208c4f['set'](_0x32d08b,'');const _0xf6643e=new Map(_0x1403f0);return Jt['createDefi'+'nition'](_0x19cb75,{'name':'ParticleSh'+'ader','shaderLanguage':_0x54e139,'attributes':_0x128c00,'vertexCode':_0x1403f0['get']('particle_s'+'haderVS'),'fragmentCode':_0x1403f0['get']('particle_s'+'haderPS'),'fragmentDefines':_0x208c4f,'fragmentIncludes':_0xf6643e,'vertexIncludes':_0xf6643e,'vertexDefines':_0x2e6f4e});}}const gA=new _A();class SA extends tr{constructor(_0x2b5ad3){super(),h(this,'emitter',null),(this['emitter']=_0x2b5ad3,w['assert'](_0x2b5ad3));}['getShaderV'+'ariant'](_0xc76af){const {device:_0x4e1022,scene:_0x516141,cameraShaderParams:_0x3de0b0,objDefs:_0x17a6db}=_0xc76af,{emitter:_0x2440b7}=this,_0x71c0dc={'defines':$t['getCoreDef'+'ines'](this,_0xc76af),'pass':Aa,'useCpu':this['emitter']['useCpu'],'normal':_0x2440b7['lighting']?_0x2440b7['normalMap']!==null?-0x1d66+-0xd*0xb2+0x2672:-0x14dc+-0x433*0x1+-0x4*-0x644:-0x1*-0x188f+-0x4*0x2fa+-0xca7,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'meshUv':_0x17a6db&nm,'gamma':(_0x3de0b0==null?void(-0x2201*0x1+0x1*0x691+-0x2*-0xdb8):_0x3de0b0['shaderOutp'+'utGamma'])??Ll,'toneMap':(_0x3de0b0==null?void(-0x49*-0x29+-0x2046+0x1495):_0x3de0b0['toneMappin'+'g'])??sm,'fog':_0x516141&&!this['emitter']['noFog']?_0x516141['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x2440b7['inTools']?!(0x16cc+0x1f28+-0x7b5*0x7):this['emitter']['screenSpac'+'e'],'blend':this['emitter']['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==yh},_0x807717=new Ad(_0xc76af['viewUnifor'+'mFormat'],_0xc76af['viewBindGr'+'oupFormat'],_0xc76af['vertexForm'+'at']),_0x1d15c6=Hn(_0x4e1022);return _0x1d15c6['register']('particle',gA),_0x1d15c6['getProgram']('particle',_0x71c0dc,_0x807717,this['userId']);}}const ig=[[-(0x124c+-0x4*-0x23d+-0x1b3f),-(0x5b*0x6+0x253d+0x2*-0x13af)],[-0x1*0x26a+-0x912+0xb7d,-(-0x832*-0x2+-0x1*-0xf4f+-0x1fb2)],[0xe9a+-0x251e+0x1685,0xb96*0x2+-0xe83+0x22a*-0x4],[-(0x56*0x4+-0xb99*-0x3+-0x2422),0x2*0xf06+-0xc5d+-0x3e*0x49]];function xs(_0x145bbc,_0x535909,_0x2ce6c5,_0x5e99a0,_0x31a50d=Xt,_0x379478,_0xb83156){let _0x3e1278=Te;_0xb83156&&(_0x31a50d===Ne||_0x31a50d===_s)&&(_0x3e1278=vt);const _0x1d0b25=new _e(_0x145bbc,{'width':_0x535909,'height':_0x2ce6c5,'format':_0x31a50d,'cubemap':!(0xb80+-0x2467+0x18e8),'mipmaps':!(-0x18e4+0x5ae+0x1*0x1337),'minFilter':_0x3e1278,'magFilter':_0x3e1278,'addressU':ue,'addressV':ue,'name':'ParticleSy'+'stemTextur'+'e'}),_0x5daa82=_0x1d0b25['lock']();if(_0x31a50d===Ne||_0x31a50d===_s){const _0x32cf71=new Uint8Array(_0x5e99a0['length']);for(let _0x4c7b8f=-0x1739+-0x8f6+-0x1*-0x202f;_0x4c7b8f<_0x5e99a0['length'];_0x4c7b8f++)_0x32cf71[_0x4c7b8f]=_0x5e99a0[_0x4c7b8f]*_0x379478*(0x5*-0x1fa+0x2*0x4b3+-0x17b*-0x1);_0x5e99a0=_0x32cf71;}return _0x5daa82['set'](_0x5e99a0),_0x1d0b25['unlock'](),_0x1d0b25;}function rg(_0x526060){return Math['max'](Math['min'](_0x526060,0xf7f+-0x1*-0x1ea1+-0x2e1f*0x1),-0x1a68+0x17ee*-0x1+0x3256);}const ag=new qs([-0x7a5+0x1*0x977+-0x1d2,-0x2*-0x3ae+-0x1855+0x18b*0xb,0xe95+0x12c1*-0x1+0x42d,-0x18ae+0x1*0x25f9+-0xd4b]),ng=new qs([0x1f5*0x10+-0x1af*0x11+0xd*-0x35,0x17e1*0x1+0x276+0x2*-0xd2b,-0xf7*0x1a+0xfee+0x929,-0x28*-0x77+-0x1ef1+0x5d*0x22]),og=new na([0x1*-0x331+0x8b9+-0x588,0x2007+-0x116d+0x2*-0x74d,-0x125*0x1a+-0x1f72+0x3*0x1467,-0x10fd+0xcf*0x22+-0xa81*0x1],[0x1*-0x1df5+-0x1*0x109f+0x2e94,-0x1111+-0x1ef3+0x7*0x6dc,0x1*0x97d+-0x1362+0x9e6,0x16e4+-0x638+-0x10ac],[-0x371*0x1+0x28c*0xe+0xabd*-0x3,0xcd*0xb+-0x207c+0x17ad*0x1,0x2d0+-0x11b9*-0x2+-0x2641,-0x5e*-0xb+0x1599+0x19a3*-0x1]),yA=new na([-0xa04*0x3+-0x1cda+-0x2ce*-0x15,0x15f5+-0x2305+-0xd11*-0x1,0x1*-0x1675+-0x1c2c+0x1951*0x2,-0x3b*-0x65+0x1*0xe17+-0x5*0x779],[0x2*0xddb+-0x1*0x751+-0x1465,-0x220e+-0x137a+0x3589,0x8b*-0x1+0xef4+-0xe68,0x8ce+-0xee1+0x614],[-0x1c5*0x11+-0x21f0+0x4005,-0xe5*0x1f+0x2*0x3f5+0x13d2,0x4*-0x313+0x2190+-0x1543,0xc0d*-0x2+-0x9a3*0x3+0x3504]);let bi=-0x3fe+-0x14ce*-0x1+0x10ce*-0x1;const pc=-0xadd+-0x1*-0xbc3+-0xe2,Ai=new Float32Array(0xa53+-0x1ee2+0x1492),Ur=new te(),lg=new D(),mc=new D(),_c=new D();let uu,Zc;function he(_0x53dc39,_0x15ff50){Zc[_0x53dc39]!==void(0x1f38+-0x12e7+-0x3*0x41b)&&Zc[_0x53dc39]!==null?uu[_0x53dc39]=Zc[_0x53dc39]:uu[_0x53dc39]=_0x15ff50;}function Dv(_0x3ff350,_0x13f371,_0x110b22){return(_0x3ff350*(0x209b+0x1*-0x277+-0x1d25)<<-0x1*0x34f+-0x1*-0x21b3+-0x1e54|_0x13f371*(0x25*-0xe+-0xce0*0x3+0x1*0x29a5)<<-0x1ec5*-0x1+-0xb*0x2a6+-0x1*0x19b|_0x110b22*(0x1*0x1ee4+0x17c9+0x35ae*-0x1))/(0x6*0x5+-0xc87*-0x1+-0xca4<<0x1*0x1e1d+0xe8*0xf+-0x2b9d);}function cg(_0x26ce80,_0x2424c2){const _0x28257e=_0x26ce80['length']/(-0x1*-0x1495+0x19b6+-0x2e48*0x1),_0x4f7ea3=new Array(_0x28257e*(-0x2012+0x193*-0xf+0x37b3));for(let _0x3d8b69=0xf5f+-0x6*0x16b+-0x6dd;_0x3d8b69<_0x28257e;_0x3d8b69++)_0x4f7ea3[_0x3d8b69*(0x641*-0x5+-0x152e+0xb*0x4c5)]=_0x26ce80[_0x3d8b69*(0x1*-0x423+-0x455*0x9+0x2b23)],_0x4f7ea3[_0x3d8b69*(-0x6b4+0x366+0x352)+(0x1970+-0x88f*0x1+0x50*-0x36)]=_0x26ce80[_0x3d8b69*(-0x1b31+-0x3*0x11b+0x1e85)+(-0x1997+-0xa4e+-0xa*-0x397)],_0x4f7ea3[_0x3d8b69*(0x53*0x7+-0xcd8+-0x1*-0xa97)+(-0x25af+0x1b97+0xa1a)]=_0x26ce80[_0x3d8b69*(-0x25b5+0x1f*-0x5+-0x1*-0x2653)+(-0x20db+-0x18df+0x39bc)],_0x4f7ea3[_0x3d8b69*(-0x1*-0x1cb7+-0x15ba+-0x77*0xf)+(-0x1b31+-0x1586+-0x30ba*-0x1)]=Dv(_0x2424c2[_0x3d8b69*(-0x101e*0x1+0xb5f*0x3+-0x11fc)],_0x2424c2[_0x3d8b69*(-0x246+-0x4*-0x877+0x89*-0x3b)+(-0x10*0xe+0x2b9+0x8*-0x3b)],_0x2424c2[_0x3d8b69*(0x44*0x4d+0x1d16+-0x3187)+(-0x3*0xc09+0x2f6*-0x3+0x1*0x2cff)]);return _0x4f7ea3;}function vA(_0x5779f2,_0x4d96e0){const _0x263a22=new Array(_0x4d96e0['length']*(0x78b*-0x5+0x515*0x5+0xc52));for(let _0x3f8cd1=0x9d0+-0x5*-0x386+0x2*-0xdb7;_0x3f8cd1<_0x4d96e0['length'];_0x3f8cd1++)_0x263a22[_0x3f8cd1*(0x82*-0x2d+-0x1dcc+0x15*0x282)]=_0x5779f2[_0x3f8cd1*(0x8fa+-0x1bda+0x1*0x12e3)],_0x263a22[_0x3f8cd1*(-0x15f0+-0xb54+-0x14*-0x1aa)+(-0x27*0x4d+-0x86e+0x142a)]=_0x5779f2[_0x3f8cd1*(0x197c+0x4e2+-0x1e5b)+(-0x11f*0x22+-0x1a0+0x27bf)],_0x263a22[_0x3f8cd1*(0x3*0xf3+0xa8d+-0xd62)+(-0x667+-0x1*0x160a+0x1*0x1c73)]=_0x5779f2[_0x3f8cd1*(-0x2*-0x1e7+0x1*-0x2487+0x20bc)+(0x806*-0x4+0x1307*-0x1+0x3*0x110b)],_0x263a22[_0x3f8cd1*(-0x2*-0xdd3+-0x2*0x78c+-0xc8a)+(-0x2661+0x26c1*0x1+-0x5d)]=_0x4d96e0[_0x3f8cd1];return _0x263a22;}function xA(_0x5293b3,_0x46d100,_0x2d55f1,_0x386231,_0x22eca3){const _0x372dc7=new Array(_0x5293b3['length']*(-0x182a+0x36a*0x2+0x115a));for(let _0x228680=0x8cc+0x113d*0x1+0x1*-0x1a09;_0x228680<_0x5293b3['length'];_0x228680++)_0x372dc7[_0x228680*(0x2e*-0xa3+-0xf5*0x26+0x41ac)]=_0x5293b3[_0x228680],_0x372dc7[_0x228680*(-0x780+-0x12f+0x8b3*0x1)+(-0x269e+0x223*0xd+0x56c*0x2)]=_0x46d100[_0x228680],_0x372dc7[_0x228680*(0x1*-0x2063+0x21*0x2b+0x1adc)+(0x14c9+-0x3*-0x4e8+0xe9*-0x27)]=0x226b+0x1da3*-0x1+0x66*-0xc,_0x372dc7[_0x228680*(0x112c*-0x1+-0x27a+0x13aa)+(-0x4a*-0x4f+-0x1534+-0x19f)]=Dv(_0x2d55f1[_0x228680],_0x386231[_0x228680],_0x22eca3[_0x228680]);return _0x372dc7;}function TA(_0x37e6b2,_0xa6eb4c){const _0x36f436=new Array(_0x37e6b2['length']*(-0x8*-0x301+-0x38*-0x51+0x1*-0x29bc));for(let _0x1e96db=0xbfe+0x907*0x1+-0x1505;_0x1e96db<_0x37e6b2['length'];_0x1e96db++)_0x36f436[_0x1e96db*(0x772+-0x871+0x103)]=_0x37e6b2[_0x1e96db],_0x36f436[_0x1e96db*(-0x927+-0x2338+0x2c63*0x1)+(-0x25*0xc5+-0x1*-0xf4f+-0x1*-0xd2b)]=_0xa6eb4c[_0x1e96db],_0x36f436[_0x1e96db*(-0x43*0x49+-0x92*-0x7+0x3*0x50b)+(-0x3a6*-0x7+-0x6*-0x1ed+-0x2516)]=-0x22*0xe1+0x142a+0x9b8,_0x36f436[_0x1e96db*(-0x1d*0xd3+-0x68a+0x1e75)+(-0x17b5+-0x15bb+-0x41*-0xb3)]=0x1*-0x2479+-0x1d11+0x418a;return _0x36f436;}function wA(_0x1cb6ec){const _0x24d4ed=Math['max'](_0x1cb6ec['rate'],_0x1cb6ec['rate2'])*_0x1cb6ec['numParticl'+'es']+_0x1cb6ec['lifetime'];return Date['now']()+_0x24d4ed*(0xea2+-0xf7f+0x6f*0xb);}function EA(_0x3bd69c,_0x1161f9){const _0x527658=new Float32Array(_0x3bd69c['length']);for(let _0x1ee6a8=0x13bb*-0x1+0x1*0x1c35+-0x87a;_0x1ee6a8<_0x3bd69c['length'];_0x1ee6a8++)_0x527658[_0x1ee6a8]=_0x3bd69c[_0x1ee6a8]-_0x1161f9[_0x1ee6a8];return _0x527658;}function Xr(_0x1149d7,_0x3621d4){const _0x2390ff=_0x3621d4['length'],_0x77fc4=_0x1149d7['length']/_0x2390ff;for(let _0x4fc72c=-0x1d27+-0x2*-0xeb7+-0x47;_0x4fc72c<_0x77fc4;_0x4fc72c++)for(let _0x2856ec=0x4*0x493+-0xa70+-0x7dc;_0x2856ec<_0x2390ff;_0x2856ec++){const _0x397fa7=Math['abs'](_0x1149d7[_0x4fc72c*_0x2390ff+_0x2856ec]);_0x3621d4[_0x2856ec]=Math['max'](_0x3621d4[_0x2856ec],_0x397fa7);}}function bA(_0x13a909,_0x5b68b2){const _0x196fc6=_0x5b68b2['length'],_0x3665bf=_0x13a909['length']/_0x196fc6;for(let _0x18b1e8=0x29*-0x1a+-0x92*-0x13+-0x4*0x1ab;_0x18b1e8<_0x3665bf;_0x18b1e8++)for(let _0x3db304=0x2*0xd+-0x1*0x1ee+0x2*0xea;_0x3db304<_0x196fc6;_0x3db304++)_0x13a909[_0x18b1e8*_0x196fc6+_0x3db304]/=_0x5b68b2[_0x3db304]===-0xdc1+-0x1*0x7de+0x1b*0xcd?0x191c*0x1+-0x12df*0x1+-0x85*0xc:_0x5b68b2[_0x3db304],_0x13a909[_0x18b1e8*_0x196fc6+_0x3db304]*=-0x2a8+-0x2*-0x87c+0x8*-0x1ca+0.5,_0x13a909[_0x18b1e8*_0x196fc6+_0x3db304]+=0xc*-0x1d+-0x2ba*-0x8+0xbb*-0x1c+0.5;}function Br(_0x551e56,_0x3dc4be,_0x21bb87){const _0x5348ce=EA(_0x3dc4be,_0x551e56);return Xr(_0x5348ce,_0x21bb87),bA(_0x5348ce,_0x21bb87),_0x5348ce;}const AA=new Kt();class CA{constructor(_0x209585,_0x2c9fce){h(this,'material',null),h(this,'internalTe'+'x0',null),h(this,'internalTe'+'x1',null),h(this,'internalTe'+'x2',null),h(this,'colorParam',null),this['graphicsDe'+'vice']=_0x209585;const _0x4a778b=_0x209585,_0x120c29=0x266*-0x2+-0x547*-0x7+-0x2005*0x1;this['precision']=_0x120c29,this['_addTimeTi'+'me']=0x2198+-0x1985*0x1+-0x813,uu=this,Zc=_0x2c9fce,he('numParticl'+'es',0x10a9+0x2403+-0x61*0x8b),this['numParticl'+'es']>_0x209585['maxTexture'+'Size']&&(w['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x209585['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x209585['maxTexture'+'Size']),he('rate',-0x43*-0x3+0xb28+-0xbf0),he('rate2',this['rate']),he('lifetime',0x2*0x2ba+0xb7b*0x2+0x12d*-0x18),he('emitterExt'+'ents',new D(0x363*-0x5+0x114b+0x4*-0x17,0x1d7b+0x886+0x1a7*-0x17,0xa4+0x1a63+-0x275*0xb)),he('emitterExt'+'entsInner',new D(0x155c+0x11e1+-0x5*0x7d9,0x11a1+0x32*0x36+0x1*-0x1c2d,-0x1001+0x947+0x6ba)),he('emitterRad'+'ius',0x1b34+0x24a5*-0x1+0x971),he('emitterRad'+'iusInner',-0xec6+-0x4ae+0x1374),he('emitterSha'+'pe',ai),he('initialVel'+'ocity',-0xc18*0x1+0x40a*0x1+0x1*0x80f),he('wrap',!(-0x1f33+0x3*0x55b+0x9b*0x19)),he('localSpace',!(-0x10d3+0x3*0x94e+0x6*-0x1d9)),he('screenSpac'+'e',!(-0x63e+-0x405+0xa44)),he('wrapBounds',null),he('colorMap',this['defaultPar'+'amTexture']),he('normalMap',null),he('loop',!(-0x5ed+-0xc07*-0x1+0x8e*-0xb)),he('preWarm',!(0x677*0x3+-0x3fc+-0x1d*0x88)),he('sort',nu),he('mode',rv),he('scene',null),he('lighting',!(0x2342*0x1+-0x2249*-0x1+-0x7ba*0x9)),he('halfLamber'+'t',!(-0x6f*-0x33+0x265*0x9+-0x2ba9)),he('intensity',-0x2557+0x6d5+0x49*0x6b),he('stretch',-0x210a+-0x16*-0xe9+0xd04),he('alignToMot'+'ion',!(-0x93*-0x41+0x1079*-0x2+-0x5*0xe0)),he('depthSofte'+'ning',0xcf0+0x3*-0xc98+0x4*0x636),he('mesh',null),he('particleNo'+'rmal',new D(-0xb1+-0x10*0x239+-0x1*-0x2441,-0x1d*0x23+0x126c+-0xe74,-0x1*0x26a7+-0x2*-0x1105+0x49d*0x1)),he('orientatio'+'n',yh),he('depthWrite',!(-0xf7e+0x1d3*0x7+0x2ba)),he('noFog',!(0x1ff8*0x1+0x5*-0x53f+-0x5bc)),he('blendType',Zs),he('node',null),he('startAngle',-0x23*0x4f+0x311*-0x4+-0x5*-0x49d),he('startAngle'+'2',this['startAngle']),he('animTilesX',0x5*-0x521+0x1e3e+-0x6*0xc4),he('animTilesY',0x19*-0x143+0x1d31+0x25b),he('animStartF'+'rame',-0x786+0xb01+-0x37b),he('animNumFra'+'mes',-0xc61+0x1*0x1d85+-0x1*0x1123),he('animNumAni'+'mations',0x6a*-0x10+0x163+0x53e),he('animIndex',-0x1d7+0x25eb*0x1+-0x2414),he('randomizeA'+'nimIndex',!(-0x65+-0x12*-0x1e2+-0x595*0x6)),he('animSpeed',-0x466*0x1+0xa21*-0x2+0x18a9),he('animLoop',!(0x10ae+0x43b+-0x14e9)),this['_gpuUpdate'+'r']=new mA(this,_0x4a778b),this['_cpuUpdate'+'r']=new pA(this),this['emitterPos'+'Uniform']=new Float32Array(-0x2662+0x1*-0x1c9+0x1417*0x2),this['wrapBounds'+'Uniform']=new Float32Array(-0x2*0xb78+-0x17fc+0x3*0xfa5),this['emitterSca'+'leUniform']=new Float32Array([-0x1a*0x29+-0xb3*-0x10+-0x705*0x1,-0x3f1*0x1+0x1cd0+-0x2*0xc6f,0x723*-0x1+0x598+-0xb*-0x24]),he('colorGraph',yA),he('colorGraph'+'2',this['colorGraph']),he('scaleGraph',ng),he('scaleGraph'+'2',this['scaleGraph']),he('alphaGraph',ng),he('alphaGraph'+'2',this['alphaGraph']),he('localVeloc'+'ityGraph',og),he('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),he('velocityGr'+'aph',og),he('velocityGr'+'aph2',this['velocityGr'+'aph']),he('rotationSp'+'eedGraph',ag),he('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),he('radialSpee'+'dGraph',ag),he('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(-0x17c3*-0x1+-0x1937+0x176),this['animParams']=new Float32Array(-0x4*0x31+-0x1b35+0x1bfd),this['animIndexP'+'arams']=new Float32Array(0x7*-0x587+0x21bd+-0x7f*-0xa),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(0x1607+0x1f6*0xa+0x29a2*-0x1),this['useMesh']=!(0x269+-0x244+-0x25*0x1),this['useCpu']=!_0x209585['supportsGp'+'uParticles'],this['pack8']=!(-0x556*0x3+-0x4*0x151+0x1546),this['localBound'+'s']=new De(),this['worldBound'+'sNoTrail']=new De(),this['worldBound'+'sTrail']=[new De(),new De()],this['worldBound'+'s']=new De(),this['worldBound'+'sSize']=new D(),this['prevWorldB'+'oundsSize']=new D(),this['prevWorldB'+'oundsCente'+'r']=new D(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new D(),this['worldBound'+'sAdd']=new D(),this['timeToSwit'+'chBounds']=-0x151d+0x1e6e+-0x951,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=-0xc58+0x83c*0x4+-0x1498,this['numParticl'+'eIndices']=-0x1b0e+0x1d87+-0x279,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=-0x1*0x13c3+-0xa50+0x1*0x1e13,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(-0x1*0x1d3e+-0x752+0xb*0x353)/(-0x1de2+0x1*-0x166a+0x3488),this['maxSubStep'+'s']=-0x1*0x8aa+0x1*-0xa5+-0x959*-0x1,this['simTime']=-0x8*0x22d+-0x209+0x1371,this['simTimeTot'+'al']=0x774+-0x169a+0xf26,this['beenReset']=!(0x146e+-0x397+-0x10d6),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return w['assert'](this['graphicsDe'+'vice']),AA['get'](this['graphicsDe'+'vice'],()=>{const _0x4d9190=new Float32Array(0x4fd*-0x1+0x4cd*-0x2+0x1297);for(let _0x25bfcf=-0x2*0xf1+0x157*-0x12+0x20*0xd0;_0x25bfcf<0x878+0xb*-0x181+0x823;_0x25bfcf++)for(let _0x4f09b8=0xa55+-0x3*-0xb6f+-0x2*0x1651;_0x4f09b8<0x1053+0x625+0x4*-0x59a;_0x4f09b8++){const _0x3b3d15=_0x4f09b8+(-0x14da+0x248b*-0x1+0x1322*0x3)-(-0x17c4+-0x6e*0x29+0xba*0x39+0.5),_0x1042c3=_0x25bfcf+(-0x3*0x188+-0x1253*-0x1+-0xdba)-(-0x1e3c+0x62*-0x35+0x328e+0.5),_0x2b9d83=rg(0x113*0x13+-0x1397+-0x13*0xb-rg(Math['sqrt'](_0x3b3d15*_0x3b3d15+_0x1042c3*_0x1042c3)/(-0x219+-0x13f9*0x1+-0xb11*-0x2))-(-0x179b+-0x85a*-0x2+0x6e7+0.5)),_0x956f0e=_0x25bfcf*(-0x28*0x59+0x1*-0x277+0x106f)+_0x4f09b8;_0x4d9190[_0x956f0e*(-0x1c6c*-0x1+-0x1ce8+0x80)]=-0xd*-0x287+-0x3*0x9c3+-0x391,_0x4d9190[_0x956f0e*(-0x12c6+-0x1d*0xa6+0x2598)+(0x11c9*-0x2+0x2*-0xef+0x3*0xc7b)]=0x26*0x1d+0xccd+-0x111a,_0x4d9190[_0x956f0e*(-0x11b*0x1+-0xd1*0x7+0x6d6*0x1)+(-0xd*0x207+-0xc9d*0x1+0x26fa)]=0x2298+0x9db+0x1639*-0x2,_0x4d9190[_0x956f0e*(-0x25a3+-0x69d+-0x1622*-0x2)+(0x12df+0x17*0x179+-0x1*0x34bb)]=_0x2b9d83;}const _0x2619ca=xs(this['graphicsDe'+'vice'],0x16bf+0x66*0x37+-0x2c99,0x59*0x11+0x16a+-0x743,_0x4d9190,_s,-0x1877+0x223+0x1655,!(0xefc*0x1+0x424+-0x264*0x8));return _0x2619ca['minFilter']=vt,_0x2619ca['magFilter']=vt,_0x2619ca;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(0x1d*-0x91+-0x9e4+0x8c6*0x3)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0x3f2*-0x1+-0x2*0xf10+0x2213)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(-0x1*0xf1+0x7*0x531+0x11*-0x215)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(0x2359*0x1+0xaac*0x1+0x49a*-0xa)),this['worldBound'+'sAdd']['x']+=-0xb5*-0x29+-0x26c9*-0x1+0x21e3*-0x2+0.5,this['worldBound'+'sAdd']['y']+=0x4f*-0x5+-0x1123+0x12ae+0.5,this['worldBound'+'sAdd']['z']+=-0x7a9+0xb7f+-0x3d6+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x1aa0b5=!(0x23d9+0x237e+-0x4756);this['emitterSha'+'pe']===ai?_0x1aa0b5=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x1aa0b5=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x1aa0b5&&this['calculateL'+'ocalBounds']();}const _0x266f61=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x266f61),this['worldBound'+'sTrail'][-0x1489+0x21e0+-0xd57]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][0x7*0x8e+0x81c+-0xbfd]['add'](this['worldBound'+'sNoTrail']);const _0x2e79c4=this['simTimeTot'+'al'];_0x2e79c4>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][-0x29*0x3a+0x2688+-0x18a*0x13]['copy'](this['worldBound'+'sTrail'][-0x2db*-0x5+0x1e32+0x2c78*-0x1]),this['worldBound'+'sTrail'][-0x1ce7+0x6ad*-0x2+-0x2*-0x1521]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x2e79c4+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x17*-0x190+-0x1f16*-0x1+-0x175*0x2e]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x2238+0x24d*-0xb+0x1*-0x8e7),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x266f61),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x266f61)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=0x8*0x3e5+-0x2386*0x1+0x45f-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x1*-0x1021+0x20*-0x8e+0x19f]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x115*-0x1+0x1fcc+-0x10*0x20e]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x1d2e+0x2459+0x1*-0x72b]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x18a9*0x1+0x9*-0x2af+-0x80),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=-0x14eb+-0x1*-0x1cde+-0x37*0x25,this['timeToSwit'+'chBounds']=-0x16fd+-0x1*-0x11b+-0x1*-0x15e2);}['calculateL'+'ocalBounds'](){let _0x2167a4=Number['MAX_VALUE'],_0x261077=Number['MAX_VALUE'],_0xb41dc4=Number['MAX_VALUE'],_0x261497=-Number['MAX_VALUE'],_0x3c19bf=-Number['MAX_VALUE'],_0x1316c6=-Number['MAX_VALUE'],_0x58ce0d=-0x1048+-0x908+0x5*0x510,_0x2af212=0x15d8+-0x1*0x1a23+0x44b;const _0x432089=this['lifetime']/this['precision'],_0xf81599=[this['qVelocity'],this['qVelocity2']],_0x1af72e=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x46a0f1=[-0x579*0x1+-0xa5b+0xfd4,-0x863*0x3+-0xfa8+0x28d1],_0x1863ea=[0x3be*-0x3+0x13e3+-0x8a9,-0x4d*-0x43+-0xe9*0x1+-0x1*0x133e],_0x3f2360=[0x237e+-0x7*0x527+0x3*0x31,-0xc6a+0x22f3+-0x1689],_0x169ba6=[-0x1bb*0x3+0x2060+-0x1b2f,-0xc52+-0x201c+0x2c6e],_0x44d6d7=[0x63a*-0x1+-0x1*0xf31+0x156b*0x1,0x1*-0x266f+-0x2e0*-0xd+0x10f];let _0x5be41b,_0x52eaec,_0x4c3776;for(let _0x32a979=-0x1a*0xd+-0x4d+-0x1*-0x19f;_0x32a979<this['precision']+(-0x2*-0x48b+0x5a7+-0x4*0x3af);_0x32a979++){const _0x7cdb3d=Math['min'](_0x32a979,this['precision']-(-0x225+0x39*0x37+-0xa19));for(let _0x4e8180=0x13c6+-0x177b+0x3b5;_0x4e8180<-0x7*0x21+0x1a0b+-0x1922*0x1;_0x4e8180++)_0x5be41b=_0x1af72e[_0x4e8180][_0x7cdb3d*(0x4fe+0x12b2+-0x17ad)+(0x6*-0x36a+-0x4e*-0x39+0x31e)]*_0x432089+_0x46a0f1[_0x4e8180],_0x52eaec=_0x1af72e[_0x4e8180][_0x7cdb3d*(-0xfca+-0xa*0x3df+0x3683)+(0x1413+0x14b0+-0x28c2)]*_0x432089+_0x1863ea[_0x4e8180],_0x4c3776=_0x1af72e[_0x4e8180][_0x7cdb3d*(-0x1*-0x1e29+0x23b3+-0x9*0x751)+(0x5*0x16f+0x3*-0x8f+-0x57c)]*_0x432089+_0x3f2360[_0x4e8180],_0x2167a4=Math['min'](_0x5be41b,_0x2167a4),_0x261077=Math['min'](_0x52eaec,_0x261077),_0xb41dc4=Math['min'](_0x4c3776,_0xb41dc4),_0x261497=Math['max'](_0x5be41b,_0x261497),_0x3c19bf=Math['max'](_0x52eaec,_0x3c19bf),_0x1316c6=Math['max'](_0x4c3776,_0x1316c6),_0x46a0f1[_0x4e8180]=_0x5be41b,_0x1863ea[_0x4e8180]=_0x52eaec,_0x3f2360[_0x4e8180]=_0x4c3776;for(let _0x30164f=-0x3ce+-0x1*-0x130f+-0x30d*0x5;_0x30164f<0x1*0xab6+-0x6*-0x239+-0x180a;_0x30164f++)_0x44d6d7[_0x30164f]+=_0x432089*Math['sqrt'](_0xf81599[_0x30164f][_0x7cdb3d*(0x1*-0x6b+-0x140+0xd7*0x2)+(0x1*0xed5+0x1456+-0x232b)]*_0xf81599[_0x30164f][_0x7cdb3d*(-0x620+0x1a21+0x6*-0x355)+(0x76*0x7+0x1*-0x2411+0x20d7)]+_0xf81599[_0x30164f][_0x7cdb3d*(-0x26b1+-0x2*0x117+0x28e2)+(-0x1504+-0xd42*-0x1+-0x1*-0x7c3)]*_0xf81599[_0x30164f][_0x7cdb3d*(-0x633+-0x1d12+0x2348)+(0x86c+0x59d*0x3+-0x1942)]+_0xf81599[_0x30164f][_0x7cdb3d*(-0x4c1+0xe53*0x1+-0x98f)+(-0x2*-0x12cb+-0x1*-0x265b+-0x4bef)]*_0xf81599[_0x30164f][_0x7cdb3d*(0xe*-0x12+-0x1e21+0x1f2*0x10)+(-0x1d9c+0x1ead+0x1*-0x10f)]);_0x169ba6[0x14*0x131+0x162+-0x1936]+=this['qRadialSpe'+'ed'][_0x7cdb3d]*_0x432089,_0x169ba6[0x11e0+0x2177+-0x2*0x19ab]+=this['qRadialSpe'+'ed2'][_0x7cdb3d]*_0x432089,_0x58ce0d=Math['max'](_0x58ce0d,Math['max'](Math['abs'](_0x169ba6[0x1810+0x5*-0x512+-0x2*-0xa5]),Math['abs'](_0x169ba6[0x63+-0x431+-0xd*-0x4b]))),_0x2af212=Math['max'](_0x2af212,this['qScale'][_0x7cdb3d]);}this['emitterSha'+'pe']===ai?(_0x5be41b=this['emitterExt'+'ents']['x']*(0x1*0x2417+0x20b7+-0x44ce+0.5),_0x52eaec=this['emitterExt'+'ents']['y']*(-0x3f4+0x4f1+-0xfd*0x1+0.5),_0x4c3776=this['emitterExt'+'ents']['z']*(-0x22fc+0x2*0x1249+-0x196+0.5)):(_0x5be41b=this['emitterRad'+'ius'],_0x52eaec=this['emitterRad'+'ius'],_0x4c3776=this['emitterRad'+'ius']);const _0x2dff1a=Math['max'](_0x44d6d7[0x1491+0x1c42+-0x30d3*0x1],_0x44d6d7[-0x12ac+-0x3*-0x250+0xbbd]);mc['x']=_0x2167a4-_0x2af212-_0x5be41b-_0x58ce0d-_0x2dff1a,mc['y']=_0x261077-_0x2af212-_0x52eaec-_0x58ce0d-_0x2dff1a,mc['z']=_0xb41dc4-_0x2af212-_0x4c3776-_0x58ce0d-_0x2dff1a,_c['x']=_0x261497+_0x2af212+_0x5be41b+_0x58ce0d+_0x2dff1a,_c['y']=_0x3c19bf+_0x2af212+_0x52eaec+_0x58ce0d+_0x2dff1a,_c['z']=_0x1316c6+_0x2af212+_0x4c3776+_0x58ce0d+_0x2dff1a,this['localBound'+'s']['setMinMax'](mc,_c);}['rebuild'](){const _0x168da4=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===ai?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>nu||_0x168da4['maxVertexT'+'extures']<=-0x266c*0x1+0x15e6+0x1087||_0x168da4['fragmentUn'+'iformsCoun'+'t']<-0x1*0x101a+-0x566*0x5+0x248*0x13||_0x168da4['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x168da4['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],bi=this['useCpu']||this['pack8']?0x1807*-0x1+0x15f7+-0x85*-0x4:0x13*-0x107+-0x2d4+0x61*0x3b,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=Y['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x10d6+0x18f3+0x81d*-0x1]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][-0x6ad+-0x41b+0xac9]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x8b8+-0x22d8+0x2b92),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x20d018=0x3d0+0x25aa+-0x297a;_0x20d018<this['numParticl'+'es'];_0x20d018++)this['vbToSort'][_0x20d018]=[0xfc4+-0x143*0x7+-0x47*0x19,-0x5*0x17e+0x18c9+-0x1153];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*bi*pc);const _0x47edfc=this['node']===null||this['localSpace']?D['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===ai&&(this['node']===null||this['localSpace']?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['spawnBound'+'s']):Ur['setTRS'](D['ZERO'],this['node']['getRotatio'+'n'](),lg['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),Ai[-0xe5*-0x2+-0x18fe+0x1734]=this['emitterExt'+'ents']['x']!==0x4e+0xf7e+0x6*-0x2a2?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:-0x2b*-0xad+-0x1ac0+-0x1*0x24f,Ai[0x21*-0x5d+0x2351+-0x355*0x7]=this['emitterExt'+'ents']['y']!==-0xdf0+0x4*-0x6fd+0x29e4*0x1?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x117e+0x1*-0x17c3+0x1*0x2941,Ai[-0x1db9+-0x1*0x1b73+0x392e]=this['emitterExt'+'ents']['z']!==0x3*0x2ff+0x22b+-0xb28?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x181b+0x3*0x454+0xb1f);for(let _0x5d3280=-0x1*-0xf76+-0x10f*-0x2+-0x1194;_0x5d3280<this['numParticl'+'es'];_0x5d3280++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Ur,Ai,_0x47edfc,_0x5d3280),this['useCpu']&&(this['particleTe'+'x'][_0x5d3280*pc+(0x2f2*-0xd+0x1*0x176c+0xee1)+this['numParticl'+'esPot']*(0xd6*0xd+0x6b5+0x5db*-0x3)*pc]=0x19aa+-0x1e78+-0x4cf*-0x1);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*bi*pc);for(let _0x2d6f98=-0x2*0x74f+-0xd2f+0x287*0xb;_0x2d6f98<this['particleTe'+'xStart']['length'];_0x2d6f98++)this['particleTe'+'xStart'][_0x2d6f98]=this['particleTe'+'x'][_0x2d6f98];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=xs(_0x168da4,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,0x2394+0x210d+0x90*-0x7a,!(0x5*0x248+-0x1*-0x16bd+0xe6*-0x26)),this['particleTe'+'xOUT']=xs(_0x168da4,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,0x18ee+-0x1e89+0x59c,!(-0x25af+-0x20+0x12e8*0x2)),this['particleTe'+'xStart']=xs(_0x168da4,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'],Ne,0xb66*0x1+0x113e*0x1+-0x1ca3,!(-0x1a11+0x5*0x22f+0x1af*0x9))):(this['particleTe'+'xIN']=xs(_0x168da4,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xOUT']=xs(_0x168da4,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xStart']=xs(_0x168da4,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new gt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(0x67f+0x1*-0xbe4+-0x566*-0x1)}),this['rtParticle'+'TexOUT']=new gt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(-0x1853+0x304*0x7+0x338)}),this['swapTex']=!(0x11*-0xb3+0x3*0xbf+0x9a7));const _0x289f4e=new Map();this['localSpace']&&_0x289f4e['set']('LOCAL_SPAC'+'E',''),this['pack8']&&_0x289f4e['set']('PACK8',''),this['emitterSha'+'pe']===ai&&_0x289f4e['set']('EMITTERSHA'+'PE_BOX','');const _0x281e92='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'],_0x1cdd3c=Pe['get'](_0x168da4,_0x168da4['isWebGPU']?it:Fe),_0x1be6d4=new Map(_0x1cdd3c),_0x34043c={'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'particle_s'+'imulationP'+'S','fragmentDefines':_0x289f4e,'fragmentIncludes':_0x1be6d4};_0x34043c['uniqueName']='ParticleUp'+'dateRespaw'+'n-'+_0x281e92,_0x289f4e['set']('RESPAWN',''),this['shaderPart'+'icleUpdate'+'Respawn']=$t['createShad'+'er'](_0x168da4,_0x34043c),_0x289f4e['delete']('RESPAWN'),_0x34043c['uniqueName']='ParticleUp'+'dateNoResp'+'awn-'+_0x281e92,_0x289f4e['set']('NO_RESPAWN',''),this['shaderPart'+'icleUpdate'+'NoRespawn']=$t['createShad'+'er'](_0x168da4,_0x34043c),_0x289f4e['delete']('NO_RESPAWN'),_0x34043c['uniqueName']='ParticleUp'+'dateStop-'+_0x281e92,_0x289f4e['set']('ON_STOP',''),this['shaderPart'+'icleUpdate'+'OnStop']=$t['createShad'+'er'](_0x168da4,_0x34043c),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:-0x2702*-0x1+0x1b4a+-0x4248,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][0x1*0x269b+-0x943+0x756*-0x4]['numIndices']:0x3*0x5e5+-0x19c*-0x1+0x1345*-0x1,this['_allocate'](this['numParticl'+'es']);const _0x2e1f4e=new Ge(_0x168da4);_0x2e1f4e['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x2e1f4e['indexBuffe'+'r'][0x43c+-0x268c+0x2250]=this['indexBuffe'+'r'],_0x2e1f4e['primitive'][-0x13bb+-0x1a31+0x1*0x2dec]['type']=js,_0x2e1f4e['primitive'][-0x222d+-0x319*0xa+0x4127]['base']=0x1a8e+-0x51b*0x1+0x1*-0x1573,_0x2e1f4e['primitive'][0x13*0x59+0xb24+-0x11bf]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x2e1f4e['primitive'][0xbd2+0x140*0x1d+-0x3012]['indexed']=!(-0x1*-0x97a+-0x1390+0x50b*0x2),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x227aed=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(-0x1954+-0x1219+0x2b6d);this['meshInstan'+'ce']=new He(_0x2e1f4e,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(0x84*-0x3+0x278+-0xeb),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(-0x1*-0xa4e+-0xbee*-0x2+-0x222a),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(-0x774*-0x3+-0xc43*0x1+-0xa18),this['meshInstan'+'ce']['visible']=_0x227aed,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](0x6a8+-0x9f5+0x41*0xd,!(-0xad9+-0xdb1*-0x1+-0x2d7)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=0x47*-0x47+0x5*-0x39b+-0x25b9*-0x1&&(this['animTilesX']>-0x2*0xc44+0x24fb+0x9*-0x162||this['animTilesY']>0x19f*-0x14+0x8b1*0x1+-0x1f*-0xc4)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x42600e=this['precision'],_0x5d801b=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x42600e),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x42600e),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x42600e,-0xd89+0x61+0xd28,0x1b04+-0x1b9d+0x9a),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x42600e),this['qScale']=this['scaleGraph']['quantize'](_0x42600e),this['qAlpha']=this['alphaGraph']['quantize'](_0x42600e),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x42600e),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x42600e),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x42600e),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x42600e,-0x23d4+0x1aaa+0x30e*0x3,0x13*-0x18a+0x1f8c+-0x1f*0x13),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x42600e),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x42600e),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x42600e),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x42600e);for(let _0x45a719=-0x188*0xd+-0x1*0x757+0x5d*0x4b;_0x45a719<_0x42600e;_0x45a719++)this['qRotSpeed'][_0x45a719]*=Y['DEG_TO_RAD'],this['qRotSpeed2'][_0x45a719]*=Y['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(-0xceb*-0x1+0x81b+-0x1503),this['velocityUM'+'ax']=new Float32Array(0x148f+0x1*0x917+-0x1da3),this['colorUMax']=new Float32Array(-0x1bd8+0x2d9*0x7+0x7ec),this['rotSpeedUM'+'ax']=[-0x3fb*-0x9+-0x973+-0x1a60],this['scaleUMax']=[-0x577*0x3+0x1aaf+-0xa4a],this['alphaUMax']=[0xd44+-0x1d*-0x118+-0x2cfc],this['radialSpee'+'dUMax']=[-0x2bd*0x7+-0x1e24+0x314f],this['qLocalVelo'+'cityDiv']=Br(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Br(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Br(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Br(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Br(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Br(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Br(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x2a0686=[0x881*-0x4+0x1a8a+0x77a,-0x2682+-0xa1a+0x309c,0x1*-0x1a95+-0x287*-0x1+0x2*0xc07];Xr(this['qVelocity'],_0x2a0686);const _0x48c6b1=[-0x7*0x3ba+0x4*0x8ac+-0x89a,-0x657+-0x12a*-0x21+0x33*-0xa1,0x9bb+0x1287+-0x1c42];Xr(this['qVelocity2'],_0x48c6b1);const _0x3a10f6=[-0xe4e*0x2+0x107*-0x9+0x25db,-0x1b73+0x6*-0x113+0x21e5,0x269e+0x3d7+-0x2a75];Xr(this['qLocalVelo'+'city'],_0x3a10f6);const _0x30103e=[-0xfdc*-0x1+-0x1ad2+-0x57b*-0x2,-0x185*-0xb+-0x42*0x3d+0x17*-0xb,-0x729+0x2*0xf71+0x17b9*-0x1];Xr(this['qLocalVelo'+'city2'],_0x30103e);const _0x54382a=[-0x1*-0x1d7d+-0x2*0x867+-0x1*0xcaf];Xr(this['qRadialSpe'+'ed'],_0x54382a);const _0x556d74=[-0x1df+-0x3d*0x20+0x97f];Xr(this['qRadialSpe'+'ed2'],_0x556d74);let _0x36d5ea=Math['max'](_0x2a0686[-0x123*0x7+-0x2f*0x65+0x1a80],_0x48c6b1[0x2f4+0x2*0xe61+-0x1fb6]);_0x36d5ea=Math['max'](_0x36d5ea,_0x2a0686[-0x10a*0x15+-0x1db5+0x8*0x671]),_0x36d5ea=Math['max'](_0x36d5ea,_0x48c6b1[-0x1bd6+0xb*0x160+0xcb7]),_0x36d5ea=Math['max'](_0x36d5ea,_0x2a0686[0x14ba+0x25d*0x2+-0x1972]),_0x36d5ea=Math['max'](_0x36d5ea,_0x48c6b1[-0x13*-0x5e+-0x1d*-0x3+-0x74f]);let _0x1d133=Math['max'](_0x3a10f6[0x2*-0xd1e+-0x39b*0x1+0x1*0x1dd7],_0x30103e[0x177e+0x296*-0x7+-0x564]);_0x1d133=Math['max'](_0x1d133,_0x3a10f6[0x189b*-0x1+-0x12aa+0x2b46]),_0x1d133=Math['max'](_0x1d133,_0x30103e[0xcc0+0x4*0x466+0x3*-0xa1d]),_0x1d133=Math['max'](_0x1d133,_0x3a10f6[0x16fb+-0x2*0x72b+-0x8a3*0x1]),_0x1d133=Math['max'](_0x1d133,_0x30103e[0xc84*0x2+-0x987+-0x1*0xf7f]);const _0x27331c=Math['max'](_0x54382a[-0x64*0x49+-0x5*0x684+-0x22*-0x1cc],_0x556d74[0x16fc*-0x1+-0xe8e+0x12c5*0x2]);this['maxVel']=_0x36d5ea+_0x1d133+_0x27331c;}this['useCpu']||(this['internalTe'+'x0']=xs(_0x5d801b,_0x42600e,-0x7*0x4e5+-0x1345+0x3589,cg(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=xs(_0x5d801b,_0x42600e,0x1*-0x1d89+0x9fb+-0x685*-0x3,cg(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=xs(_0x5d801b,_0x42600e,0x26*-0x20+0x1*-0x283+0x744,xA(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=xs(_0x5d801b,_0x42600e,0x1d69+0x1*-0x137+-0x1c31,TA(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=xs(_0x5d801b,_0x42600e,0x201f+-0xed7*-0x2+-0x3dcc,vA(this['qColor'],this['qAlpha']),_s,-0x377*0x1+0x55a+-0x1e2,!(0x1*-0xe4e+-0xa1*-0x2e+-0xd*0x120));}['_setMateri'+'alTextures'](){this['colorMap']&&(w['call'](()=>{py(this['colorMap']['format'])&&w['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x45260d=new SA(this);return _0x45260d['name']='EmitterMat'+'erial:'+this['node']['name'],_0x45260d['cull']=bt,_0x45260d['alphaWrite']=!(0x8*-0x1ee+0x17c*-0xd+-0x1*-0x22bd),_0x45260d['blendType']=this['blendType'],_0x45260d['depthWrite']=this['depthWrite'],_0x45260d;}['resetMater'+'ial'](){const _0x383011=this['material'];_0x383011['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x383011['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x383011['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x383011['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x383011['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x383011['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x383011['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x383011['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x383011['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x383011['setParamet'+'er']('colorParam',this['colorParam']),_0x383011['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x383011['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x383011['setParamet'+'er']('lifetime',this['lifetime']),_0x383011['setParamet'+'er']('rate',this['rate']),_0x383011['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x383011['setParamet'+'er']('seed',this['seed']),_0x383011['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][-0x1*-0x15c7+0x2*0xcfa+-0x1*0x2fbb]),_0x383011['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][-0x7*-0x4ab+0x24a*-0xb+-0x77f]),_0x383011['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][-0x5d1*0x3+-0xc1b+0x1a*0x123]),_0x383011['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x383011['setParamet'+'er']('graphSampl'+'eSize',(-0x985*0x2+-0x4f*-0x65+-0xc20)/this['precision']),_0x383011['setParamet'+'er']('emitterSca'+'le',new Float32Array([0x1d*0x18+0xc9*0x1b+-0x17ea,-0x1813*0x1+0x1ced+-0x49*0x11,0x16f*0x14+-0x1133+-0xb78])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x383011['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x383011['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x383011['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0x1b15+0x223d+-0x3d52]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][-0x21c8+0x1191*0x2+-0x159]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0x1eb3+0x16eb+0x2*0x3e5]=this['wrapBounds']['z'],_0x383011['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>0x6ad*0x2+-0x1*0xa11+0x349*-0x1&&_0x383011['setParamet'+'er']('softening',(-0x1*-0x19ac+-0x1af8+-0x25*-0x9)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(-0x8*0x487+0x38*-0xac+0x4a3c))),this['stretch']>0x886*-0x3+0x1028+0x96a*0x1&&(_0x383011['cull']=bt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x7dcbf4,_0x394ea2;if(this['orientatio'+'n']===yh)_0x7dcbf4=new Float32Array([0x29*0x14+0xc*-0x54+0xbd,0xbe7*-0x2+0x230e+-0xb40,-0x3b*0x1f+-0x1*-0xe8f+-0x76a]),_0x394ea2=new Float32Array([-0x1630+-0x2400+0xc4*0x4c,-0x73a+-0x1caa+0x23e4,0x1*-0x24b+-0x236a+-0x3*-0xc92]);else{let _0x5aa0e2;this['orientatio'+'n']===Vw?_0x5aa0e2=this['particleNo'+'rmal']['normalize']():_0x5aa0e2=(this['node']===null?te['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x9ccbcf=new D(-0x546+0x18*0x146+-0x1949,0xae0+-0x104e+-0x8b*-0xa,-0x173+-0xf*-0x1e7+-0x1b16*0x1);Math['abs'](_0x9ccbcf['dot'](_0x5aa0e2))===0x2c*-0x1a+0xe53+0xc2*-0xd&&_0x9ccbcf['set'](0x44b*-0x3+-0x1*-0xfbc+0x2b*-0x11,0x1*0xe3d+0xdb4+0x137*-0x17,-0xc*0x10+-0x19*0xfd+0x1976);const _0x47e8e3=new D()['cross'](_0x5aa0e2,_0x9ccbcf)['normalize']();_0x9ccbcf['cross'](_0x47e8e3,_0x5aa0e2)['normalize'](),_0x7dcbf4=new Float32Array([_0x9ccbcf['x'],_0x9ccbcf['y'],_0x9ccbcf['z']]),_0x394ea2=new Float32Array([_0x47e8e3['x'],_0x47e8e3['y'],_0x47e8e3['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x7dcbf4),this['material']['setParamet'+'er']('faceBinorm',_0x394ea2);}['getVertexI'+'nfo'](){const _0x46d8e8=[];return this['useCpu']?_0x46d8e8['push']({'semantic':Jf,'components':0x4,'type':Ve},{'semantic':uh,'components':0x4,'type':Ve},{'semantic':Ap,'components':0x4,'type':Ve},{'semantic':Cp,'components':0x1,'type':Ve},{'semantic':Pp,'components':this['useMesh']?0x1a*-0xe3+-0x1cd5+0x33e7:-0x1aa5+-0x38e*-0xa+-0x8e5,'type':Ve}):(_0x46d8e8['push']({'semantic':Jf,'components':0x4,'type':Ve}),this['useMesh']&&_0x46d8e8['push']({'semantic':uh,'components':0x2,'type':Ve})),_0x46d8e8;}['_allocate'](_0x5baee6){const _0x21eab9=_0x5baee6*this['numParticl'+'eVerts'],_0x18b3c8=_0x5baee6*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(0x2358+-0x12ab+-0x10ad)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x21eab9){const _0x325f30=this['getVertexI'+'nfo'](),_0x1faaf4=new kt(this['graphicsDe'+'vice'],_0x325f30);this['vertexBuff'+'er']=new Is(this['graphicsDe'+'vice'],_0x1faaf4,_0x21eab9,{'usage':lh}),this['indexBuffe'+'r']=new br(this['graphicsDe'+'vice'],wr,_0x18b3c8);const _0x3477dd=new Float32Array(this['vertexBuff'+'er']['lock']());let _0x465144,_0x5cb0ea,_0x5d95af;if(this['useMesh']){_0x465144=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x5cb0ea=_0x465144['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x491e83=-0x33*-0xa3+-0x7*0x225+0x2e9*-0x6;_0x491e83<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x491e83++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x491e83]['name']===is){_0x5d95af=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x491e83]['offset']/(-0x21d7+0x1d*-0x10b+0x155e*0x3);break;}}for(let _0x290747=0x9+-0x263b+0x1319*0x2;_0x290747<_0x21eab9;_0x290747++){const _0x33418f=Math['floor'](_0x290747/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x5657de=_0x290747%this['numParticl'+'eVerts'];_0x3477dd[_0x290747*(-0x1b25+-0x5f*-0x11+0x14dc)]=_0x465144[_0x5657de*_0x5cb0ea],_0x3477dd[_0x290747*(-0x35a+0x4c5+-0x1*0x165)+(0x1*-0x551+0xd21*-0x1+0x1273)]=_0x465144[_0x5657de*_0x5cb0ea+(-0x1ed5+0x6*-0x50b+-0x4*-0xf46)],_0x3477dd[_0x290747*(0xfae+-0x1c78+0xcd0)+(-0x1c*0x123+-0xeef*0x2+0x3db4)]=_0x465144[_0x5657de*_0x5cb0ea+(-0xbb2+0x26fb+-0x1b47)],_0x3477dd[_0x290747*(0x1e40+-0x322+-0x1b18)+(-0x3*0xad+0x1f12+-0x1d08)]=_0x33418f,_0x3477dd[_0x290747*(-0x1a00+0x22a8+-0x8a2)+(-0x5c*0x25+0xa1*0x20+0x6d*-0x10)]=_0x465144[_0x5657de*_0x5cb0ea+_0x5d95af+(0x815*0x1+0xc4a+0x2e9*-0x7)],_0x3477dd[_0x290747*(-0x10d*-0x5+0x1ea8+-0x23e3)+(0xbe0+0x1e41*-0x1+-0x1e*-0x9d)]=-0x17cb+-0x2565*-0x1+-0x3b*0x3b-_0x465144[_0x5657de*_0x5cb0ea+_0x5d95af+(-0x2328*-0x1+-0x2241*0x1+0x2*-0x73)];}else{const _0x372638=_0x290747%(-0x85*-0x1a+0x1*-0xb0e+-0xd*0x30);_0x3477dd[_0x290747*(0x60a*-0x5+0x13e2+0x2*0x52a)]=ig[_0x372638][-0x25e+-0x7*0x4a2+-0x1166*-0x2],_0x3477dd[_0x290747*(-0x1a85+0xdb4+-0x9*-0x16d)+(-0x5*-0x482+0x93*-0x3d+0xc7e)]=ig[_0x372638][-0x2*0x6e7+-0x13bc+0x218b],_0x3477dd[_0x290747*(0x2536+-0x1*-0x1c32+-0x4164*0x1)+(-0x1f1+-0x18d0+0x1ac3)]=0x65*-0x11+-0x67d+0xd32,_0x3477dd[_0x290747*(0x186a+-0x17bf+-0xa7)+(-0xb7b+-0x1055*0x1+0x1bd3)]=_0x33418f;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x3477dd),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x374b79=-0x893+0x527*-0x5+-0xa*-0x36f;const _0x435b9e=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x27d1f8=this['mesh']['indexBuffe'+'r'][0x1*0x1f6d+0x1*0x927+-0x2894];_0x465144=new Sh[_0x27d1f8['format']](_0x27d1f8['lock']());}for(let _0x31a2ef=0x1*-0x8b7+0x12e*-0x2+0xb13;_0x31a2ef<_0x5baee6;_0x31a2ef++)if(this['useMesh']){for(let _0x4e18fa=-0x1dbd+-0x241c+0x41d9;_0x4e18fa<this['numParticl'+'eIndices'];_0x4e18fa++)_0x435b9e[_0x31a2ef*this['numParticl'+'eIndices']+_0x4e18fa]=_0x465144[_0x4e18fa]+_0x31a2ef*this['numParticl'+'eVerts'];}else{const _0x35d354=_0x31a2ef*(-0x25c4+0x55d*0x7+0x3d*0x1);_0x435b9e[_0x374b79++]=_0x35d354,_0x435b9e[_0x374b79++]=_0x35d354+(-0x1281+0x1*-0x2206+-0x29*-0x148),_0x435b9e[_0x374b79++]=_0x35d354+(-0x679+0x210+0x46b),_0x435b9e[_0x374b79++]=_0x35d354,_0x435b9e[_0x374b79++]=_0x35d354+(0x11*0xca+-0x2490+-0x1728*-0x1),_0x435b9e[_0x374b79++]=_0x35d354+(-0x1*0x13ff+-0xbda+0x1fdc);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][0x195b+0x4*-0x55d+-0x3e7]['unlock']();}}['reset'](){if(this['beenReset']=!(0x484+-0xedc+0xa58),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x3c94bd=0x1*-0x1957+-0xa81*-0x1+0xed6;_0x3c94bd<this['particleTe'+'xStart']['length'];_0x3c94bd++)this['particleTe'+'x'][_0x3c94bd]=this['particleTe'+'xStart'][_0x3c94bd];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x2ec17a=this['loop'];this['loop']=!(-0xace+0x128d*0x1+-0x7bf),this['addTime'](0x1*-0x26cf+-0x69f+0x2d6e,!(0x200d+-0x322*-0x8+-0x14*0x2db)),this['loop']=_0x2ec17a,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x3a4ae8){const _0x43227e=_0x3a4ae8/this['lifetime'],_0x821bea=Math['min'](Math['floor'](_0x43227e*this['precision']),this['precision']),_0x483910=_0x3a4ae8/_0x821bea;for(let _0x5c7fad=0x14e9+0xc0a*0x3+-0xd*0x463;_0x5c7fad<_0x821bea;_0x5c7fad++)this['addTime'](_0x483910,!(-0x7*-0x3eb+0x259e+-0x410a));}['resetTime'](){this['endTime']=wA(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x1d01fa,_0x38cf41){const _0x576ed1=this['graphicsDe'+'vice'],_0x4a979a=de();if(this['simTimeTot'+'al']+=_0x1d01fa,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0xd16b1c=this['animTilesP'+'arams'];_0xd16b1c[-0x12bf*0x1+0x2f*-0x43+0xf86*0x2]=(-0x26ad+-0x1138*0x2+0x491e)/this['animTilesX'],_0xd16b1c[-0x1*0x25b7+-0x1*-0x1896+-0xd22*-0x1]=(0x2610+0xbb*0x9+-0x2ca2)/this['animTilesY'];const _0x20f718=this['animParams'];_0x20f718[0x70+-0x2351+0x1*0x22e1]=this['animStartF'+'rame'],_0x20f718[-0x1*0x1a08+-0x1*-0x7b9+0x1250]=this['animNumFra'+'mes']*this['animSpeed'],_0x20f718[0x1eaf+0x1b41*0x1+-0xa*0x5cb]=this['animNumFra'+'mes']-(-0x133c+-0xc46+0x1f83),_0x20f718[0x39f*-0xa+-0x1e2a+-0x67*-0xa5]=this['animNumAni'+'mations']-(-0x1*0x41b+0x3*-0x577+-0xb5*-0x1d);const _0xb7c5e2=this['animIndexP'+'arams'];_0xb7c5e2[-0x28*-0x17+-0x1c*-0x95+-0x26*0x86]=this['animIndex'],_0xb7c5e2[-0x62d*-0x1+0x24cb+-0x2af7]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===ai&&(Ai[-0x4*0x340+-0x1bf*-0x5+0x445*0x1]=this['emitterExt'+'ents']['x']!==-0x1*0x60d+-0x19e5+0xae*0x2f?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x135e+-0x125+-0x1239,Ai[0x2336+-0x19*0x161+-0xbc]=this['emitterExt'+'ents']['y']!==-0x185b+-0x6a4+0x1eff?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x145e+0x1118+0x1*0x346,Ai[-0x109e+-0x176d+-0x1*-0x280d]=this['emitterExt'+'ents']['z']!==0x1809+0x1*0x9dc+-0x21e5*0x1?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x1*-0x372+0x1296+-0xf24,this['meshInstan'+'ce']['node']===null?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['emitterExt'+'ents']):Ur['setTRS'](D['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),lg['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x239a27;const _0x286271=this['meshInstan'+'ce']['node']===null?D['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][-0x6f5+-0x237f+-0x26*-0x11e]=_0x286271['x'],this['emitterSca'+'leUniform'][-0x257e+-0x3e1*-0x3+-0xcee*-0x2]=_0x286271['y'],this['emitterSca'+'leUniform'][-0x3f6+-0xac9+0x1*0xec1]=_0x286271['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x239a27=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][0x191c+-0x17e*0x1+-0x179e]=_0x239a27['x'],this['emitterPos'+'Uniform'][0x84f*-0x1+-0x397*0x3+0x1315]=_0x239a27['y'],this['emitterPos'+'Uniform'][-0x6f*0x4d+0x1b8f+0x1*0x5d6]=_0x239a27['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x576ed1,Ur,Ai,_0x1d01fa,_0x38cf41);else{const _0x1e6b68=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x1e6b68,this['vbToSort'],this['particleTe'+'x'],Ur,Ai,_0x239a27,_0x1d01fa,_0x38cf41);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(0x45e+0x13fb+-0x4c*0x52)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=de()-_0x4a979a;}['_destroyRe'+'sources'](){var _0x38d8f9,_0x27d0b7,_0x1c4633,_0x2d0a50,_0x256b4f,_0x2e83f5,_0x1e1eab,_0x29dcb7,_0x1c7868,_0x348f95,_0x315f1c,_0x196965;(_0x38d8f9=this['particleTe'+'xIN'])==null||_0x38d8f9['destroy'](),this['particleTe'+'xIN']=null,(_0x27d0b7=this['particleTe'+'xOUT'])==null||_0x27d0b7['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x1c4633=this['rtParticle'+'TexIN'])==null||_0x1c4633['destroy'](),this['rtParticle'+'TexIN']=null,(_0x2d0a50=this['rtParticle'+'TexOUT'])==null||_0x2d0a50['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x256b4f=this['internalTe'+'x0'])==null||_0x256b4f['destroy'](),this['internalTe'+'x0']=null,(_0x2e83f5=this['internalTe'+'x1'])==null||_0x2e83f5['destroy'](),this['internalTe'+'x1']=null,(_0x1e1eab=this['internalTe'+'x2'])==null||_0x1e1eab['destroy'](),this['internalTe'+'x2']=null,(_0x29dcb7=this['internalTe'+'x3'])==null||_0x29dcb7['destroy'](),this['internalTe'+'x3']=null,(_0x1c7868=this['colorParam'])==null||_0x1c7868['destroy'](),this['colorParam']=null,(_0x348f95=this['vertexBuff'+'er'])==null||_0x348f95['destroy'](),this['vertexBuff'+'er']=void(-0x865+-0x18ea+-0x214f*-0x1),(_0x315f1c=this['indexBuffe'+'r'])==null||_0x315f1c['destroy'](),this['indexBuffe'+'r']=void(0x16dd+0x9*-0x449+-0x2*-0x7da),(_0x196965=this['material'])==null||_0x196965['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class PA extends ya{['generateKe'+'y'](_0x49e757){var _0x32f662;const _0x5b486d=_0x49e757['shaderDesc'],_0xe9b5ff=_0x5b486d['vertexGLSL']?hi(_0x5b486d['vertexGLSL']):0xa49+-0x13d*0x1f+0x16*0x147,_0x47a008=_0x5b486d['fragmentGL'+'SL']?hi(_0x5b486d['fragmentGL'+'SL']):0x5ee+-0x79*-0x17+-0x10cd,_0x466d7a=_0x5b486d['vertexWGSL']?hi(_0x5b486d['vertexWGSL']):-0x21c3+-0x167a+0x383d,_0xfd49dc=_0x5b486d['fragmentWG'+'SL']?hi(_0x5b486d['fragmentWG'+'SL']):0x5f*0x47+-0x2267*-0x1+-0x18*0x288,_0x25ab26=ya['definesHas'+'h'](_0x49e757['defines']),_0x1b744d=((_0x32f662=_0x49e757['shaderChun'+'ks'])==null?void(0xa2*0x11+0x23*0x2+0x8*-0x161):_0x32f662['key'])??'';let _0x2e420f=_0x5b486d['uniqueName']+'_'+_0x25ab26+'_'+_0xe9b5ff+'_'+_0x47a008+'_'+_0x466d7a+'_'+_0xfd49dc+'_'+_0x1b744d;return _0x49e757['skin']&&(_0x2e420f+='_skin'),_0x49e757['useInstanc'+'ing']&&(_0x2e420f+='_inst'),_0x49e757['useMorphPo'+'sition']&&(_0x2e420f+='_morphp'),_0x49e757['useMorphNo'+'rmal']&&(_0x2e420f+='_morphn'),_0x49e757['useMorphTe'+'xtureBased'+'Int']&&(_0x2e420f+='_morphi'),_0x2e420f;}['createAttr'+'ibutesDefi'+'nition'](_0x372e62,_0x2d8aab){const _0x9f969d=_0x2d8aab['shaderDesc']['attributes'],_0x28068c=_0x9f969d?{..._0x9f969d}:void(-0x2f2+0x9eb+-0x69*0x11);_0x2d8aab['skin']&&(_0x28068c['vertex_bon'+'eWeights']=gi,_0x28068c['vertex_bon'+'eIndices']=us),(_0x2d8aab['useMorphPo'+'sition']||_0x2d8aab['useMorphNo'+'rmal'])&&(_0x28068c['morph_vert'+'ex_id']=Ln),_0x372e62['attributes']=_0x28068c;}['createVert'+'exDefiniti'+'on'](_0x45695d,_0x480bc6,_0xbd86b7,_0x5afc9d){const _0xbdb513=_0x480bc6['shaderDesc'],_0x5875e6=new Map(_0xbd86b7);_0x5875e6['set']('transformI'+'nstancingV'+'S','');const _0x8faf2d=new Map(_0x480bc6['defines']);_0x480bc6['skin']&&_0x8faf2d['set']('SKIN',!(0x12b2+0x1*-0x1f01+0xc4f)),_0x480bc6['useInstanc'+'ing']&&_0x8faf2d['set']('INSTANCING',!(-0x1be+-0x1bb*0x7+0xddb)),(_0x480bc6['useMorphPo'+'sition']||_0x480bc6['useMorphNo'+'rmal'])&&(_0x8faf2d['set']('MORPHING',!(-0x1*0x1741+-0x4*-0x35c+0x9d1*0x1)),_0x480bc6['useMorphTe'+'xtureBased'+'Int']&&_0x8faf2d['set']('MORPHING_I'+'NT',!(0xc7+-0x1*-0x145d+-0xb*0x1ec)),_0x480bc6['useMorphPo'+'sition']&&_0x8faf2d['set']('MORPHING_P'+'OSITION',!(0x19b*0x6+-0x7f*-0x17+-0x150b*0x1)),_0x480bc6['useMorphNo'+'rmal']&&_0x8faf2d['set']('MORPHING_N'+'ORMAL',!(0x1*0x2682+0x13ac+-0x3a2e))),_0x45695d['vertexCode']=_0x5afc9d?_0xbdb513['vertexWGSL']:_0xbdb513['vertexGLSL'],_0x45695d['vertexIncl'+'udes']=_0x5875e6,_0x45695d['vertexDefi'+'nes']=_0x8faf2d;}['createFrag'+'mentDefini'+'tion'](_0x2eed9b,_0x34105e,_0x1c67c6,_0x47305d){const _0x186418=_0x34105e['shaderDesc'],_0x1ff633=new Map(_0x1c67c6),_0x15ae4f=new Map(_0x34105e['defines']);_0x2eed9b['fragmentCo'+'de']=_0x47305d?_0x186418['fragmentWG'+'SL']:_0x186418['fragmentGL'+'SL'],_0x2eed9b['fragmentIn'+'cludes']=_0x1ff633,_0x2eed9b['fragmentDe'+'fines']=_0x15ae4f;}['createShad'+'erDefiniti'+'on'](_0xeb5b70,_0x16a16f){var _0x7d78d;const _0x5ad15a=_0x16a16f['shaderDesc'],_0x3bfa05=_0xeb5b70['isWebGPU']&&!!_0x5ad15a['vertexWGSL']&&!!_0x5ad15a['fragmentWG'+'SL']&&(((_0x7d78d=_0x16a16f['shaderChun'+'ks'])==null?void(-0x3*0xc83+-0x7b2+0x2d3b):_0x7d78d['useWGSL'])??!(0x2329*-0x1+0xf1b+0x11*0x12e)),_0x82e9c9={'name':'ShaderMate'+'rial-'+_0x5ad15a['uniqueName'],'shaderLanguage':_0x3bfa05?it:Fe,'fragmentOutputTypes':_0x5ad15a['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x5ad15a['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x5ad15a['meshBindGr'+'oupFormat']},_0x5df82b=_0x3bfa05?it:Fe,_0x5aecb3=bh['merge'](Pe['get'](_0xeb5b70,_0x5df82b),_0x16a16f['shaderChun'+'ks'][_0x5df82b]);return this['createAttr'+'ibutesDefi'+'nition'](_0x82e9c9,_0x16a16f),this['createVert'+'exDefiniti'+'on'](_0x82e9c9,_0x16a16f,_0x5aecb3,_0x3bfa05),this['createFrag'+'mentDefini'+'tion'](_0x82e9c9,_0x16a16f,_0x5aecb3,_0x3bfa05),Jt['createDefi'+'nition'](_0xeb5b70,_0x82e9c9);}}const MA=new PA();class Xn extends tr{constructor(_0xadffe4){super(),h(this,'_shaderDes'+'c'),this['shaderDesc']=_0xadffe4;}set['shaderDesc'](_0xc3f983){if(this['_shaderDes'+'c']=void(-0x12eb+-0x267f+0x396a),_0xc3f983&&(this['_shaderDes'+'c']={'uniqueName':_0xc3f983['uniqueName'],'attributes':_0xc3f983['attributes'],'fragmentOutputTypes':_0xc3f983['fragmentOu'+'tputTypes'],'vertexGLSL':_0xc3f983['vertexGLSL'],'fragmentGLSL':_0xc3f983['fragmentGL'+'SL'],'vertexWGSL':_0xc3f983['vertexWGSL'],'fragmentWGSL':_0xc3f983['fragmentWG'+'SL']},_0xc3f983['vertexCode']||_0xc3f983['fragmentCo'+'de']||_0xc3f983['shaderLang'+'uage'])){w['deprecated']('ShaderMate'+'rial\x20['+_0xc3f983['uniqueName']+(']:\x20vertexC'+'ode,\x20fragm'+'entCode\x20an'+'d\x20shaderLa'+'nguage\x20pro'+'perties\x20of'+'\x20ShaderDes'+'c\x20is\x20depre'+'cated.\x20Use'+'\x20vertexGLS'+'L,\x20fragmen'+'tGLSL,\x20ver'+'texWGSL\x20or'+'\x20fragmentW'+'GSL\x20instea'+'d.'));const _0x41e36c=_0xc3f983['shaderLang'+'uage']??Fe;_0x41e36c===Fe?(this['_shaderDes'+'c']['vertexGLSL']=_0xc3f983['vertexCode'],this['_shaderDes'+'c']['fragmentGL'+'SL']=_0xc3f983['fragmentCo'+'de']):_0x41e36c===it&&(this['_shaderDes'+'c']['vertexWGSL']=_0xc3f983['vertexCode'],this['_shaderDes'+'c']['fragmentWG'+'SL']=_0xc3f983['fragmentCo'+'de']);}this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0x4cf12f){return super['copy'](_0x4cf12f),this['shaderDesc']=_0x4cf12f['shaderDesc'],this;}['getShaderV'+'ariant'](_0x1d9685){const {objDefs:_0xa54fb4}=_0x1d9685,_0x11b296={'defines':$t['getCoreDef'+'ines'](this,_0x1d9685),'skin':(_0xa54fb4&nl)!==0x178*-0x13+0xfa1+0xc47,'useInstancing':(_0xa54fb4&ol)!==-0x20b6+-0x1d16+-0xa*-0x62e,'useMorphPosition':(_0xa54fb4&ll)!==0x2fd*-0x3+-0xddf*0x2+-0x24b5*-0x1,'useMorphNormal':(_0xa54fb4&cl)!==-0x1*-0x1fd3+-0x486+-0x1b4d,'useMorphTextureBasedInt':(_0xa54fb4&hl)!==0x21aa+-0x1229+-0xf81,'pass':_0x1d9685['pass'],'gamma':_0x1d9685['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x1d9685['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x1d9685['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'shaderChunks':this['shaderChun'+'ks']},_0x190df2=new Ad(_0x1d9685['viewUnifor'+'mFormat'],_0x1d9685['viewBindGr'+'oupFormat'],_0x1d9685['vertexForm'+'at']),_0x3eab0b=Hn(_0x1d9685['device']);return _0x3eab0b['register']('shader-mat'+'erial',MA),_0x3eab0b['getProgram']('shader-mat'+'erial',_0x11b296,_0x190df2,this['userId']);}}const Iv=(_0x26d07b,_0xd25035)=>{const _0x11bda8=_0xd25035['length']/(0x922+0x3bf*-0x1+-0x560),_0x368871=_0x26d07b['length']/(0x349+0xb*0x29+0x509*-0x1),_0x555773=new D(),_0x23172b=new D(),_0x3a70fc=new D(),_0x3ae440=new D(),_0xaee1a8=new D(),_0x4db2e7=new D(),_0x562df3=[];for(let _0x56eaec=0xbc0+-0x1e04+0x2*0x922;_0x56eaec<_0x26d07b['length'];_0x56eaec++)_0x562df3[_0x56eaec]=0x127b+0x6c3*0x1+-0x193e;for(let _0x56b5cd=0x18e9*-0x1+-0x1934+0x1*0x321d;_0x56b5cd<_0x11bda8;_0x56b5cd++){const _0x112562=_0xd25035[_0x56b5cd*(0xadd+-0xf84+0x4aa)],_0x2a18a4=_0xd25035[_0x56b5cd*(-0x148a+0x5*-0x6d7+-0xdb0*-0x4)+(-0x13ff+0x3*-0x683+0x2789)],_0x13a94e=_0xd25035[_0x56b5cd*(-0x1*0x21fa+0x949*-0x2+0x348f)+(0x5c2+0xc1*0x27+-0x1*0x2327)];_0x555773['set'](_0x26d07b[_0x112562*(0x319+-0x2639+0x2323)],_0x26d07b[_0x112562*(0xa9*-0x1+0x3*-0x313+0x9e5)+(-0x8f6+0xe*-0x3a+0xc23*0x1)],_0x26d07b[_0x112562*(-0x1cef+-0x109c+0x2d8e)+(0xee8+0x1be2+-0x2ac8)]),_0x23172b['set'](_0x26d07b[_0x2a18a4*(0x95b+0x1*0x270b+0x3*-0x1021)],_0x26d07b[_0x2a18a4*(-0x1*0x210e+-0x1fc2+-0x40d3*-0x1)+(-0x1c*0x11e+-0x1*0x1cb2+-0x5*-0xbff)],_0x26d07b[_0x2a18a4*(-0x890+0x3*-0x301+0x1196)+(-0xc0c+-0x755+-0x1*-0x1363)]),_0x3a70fc['set'](_0x26d07b[_0x13a94e*(0x1704+0x1b4+-0x18b5)],_0x26d07b[_0x13a94e*(0x5e*0x30+-0xc18+0x585*-0x1)+(-0xaae*0x1+-0x4*0x901+0xf*0x31d)],_0x26d07b[_0x13a94e*(0x22e8+0xbc*-0x13+-0x14f1)+(-0x65d*0x4+0x116*-0xe+0x6c7*0x6)]),_0x3ae440['sub2'](_0x23172b,_0x555773),_0xaee1a8['sub2'](_0x3a70fc,_0x555773),_0x4db2e7['cross'](_0x3ae440,_0xaee1a8)['normalize'](),_0x562df3[_0x112562*(0x366*-0xb+0x357+0x1107*0x2)]+=_0x4db2e7['x'],_0x562df3[_0x112562*(0x9d*0x2f+-0x2*0x5ad+-0x1*0x1176)+(-0x1*0x1ce9+0x5*-0x7c5+0x13*0x391)]+=_0x4db2e7['y'],_0x562df3[_0x112562*(-0x7b6+-0x93e+0x10f7)+(0x1eee+0xf0c+-0x2df8)]+=_0x4db2e7['z'],_0x562df3[_0x2a18a4*(0x732+0x1*-0x227+-0x508)]+=_0x4db2e7['x'],_0x562df3[_0x2a18a4*(0x5*0xe5+-0x90a*0x2+0xd9e)+(0x2*0xe25+0xf7c+0x4dd*-0x9)]+=_0x4db2e7['y'],_0x562df3[_0x2a18a4*(-0x12ca+0x6f0+0xbdd*0x1)+(-0x2433+-0x150b+-0x728*-0x8)]+=_0x4db2e7['z'],_0x562df3[_0x13a94e*(0x2081+0xdfe+0x77*-0x64)]+=_0x4db2e7['x'],_0x562df3[_0x13a94e*(0x1*-0x240b+0x2399*-0x1+0x53*0xdd)+(0x25ee+0x1*-0x2001+-0x4*0x17b)]+=_0x4db2e7['y'],_0x562df3[_0x13a94e*(-0x1*-0xb73+0x1c84+-0x1*0x27f4)+(-0x2*0x48f+-0x1cd7+0x25f7)]+=_0x4db2e7['z'];}for(let _0x18d44c=0x14b*-0x2+0x1*-0x1bc5+0x1e5b;_0x18d44c<_0x368871;_0x18d44c++){const _0x41778a=_0x562df3[_0x18d44c*(-0x77*0x48+0x1060+0x111b)],_0x5939b9=_0x562df3[_0x18d44c*(-0x1ff7+-0x1*-0x1402+0xbf8)+(-0x10b*0x11+-0x1ccf+-0x94f*-0x5)],_0xb1cd0=_0x562df3[_0x18d44c*(0x21c*-0x1+-0x15*0x56+0x92d)+(-0x8bf*-0x1+-0x1*-0x2ae+-0xb6b)],_0xa28d12=(0x22dd+-0xc6b+0x3*-0x77b)/Math['sqrt'](_0x41778a*_0x41778a+_0x5939b9*_0x5939b9+_0xb1cd0*_0xb1cd0);_0x562df3[_0x18d44c*(-0x5b6+0x479*-0x6+0x208f)]*=_0xa28d12,_0x562df3[_0x18d44c*(0x16de+-0x1237+-0x4a4)+(0x159c+0x168e+-0x2c29)]*=_0xa28d12,_0x562df3[_0x18d44c*(-0x16a1+0x1601+0xa3*0x1)+(0x24b*0x1+0x1061*-0x1+0x1*0xe18)]*=_0xa28d12;}return _0x562df3;},Mr=(_0x425733,_0x5858c5,_0x4e579a,_0x2ddb03)=>{const _0x267940=_0x2ddb03['length']/(0x10fb+-0x1abd+0x9c5),_0x422b87=_0x425733['length']/(0x16d6+0x1443+-0x2b16),_0x3ed356=new D(),_0xf50586=new D(),_0x3d4495=new D(),_0xad1f6d=new J(),_0x4029d7=new J(),_0x5d0bc3=new J(),_0x31a6af=new D(),_0x2aa3db=new D(),_0x78d245=new Float32Array(_0x422b87*(0x1039*-0x1+-0x1b9f+0x2bdb)),_0x43188e=new Float32Array(_0x422b87*(-0x16f*-0x1+0x1d57+-0x1ec3)),_0x593a33=[];for(let _0x1e0c07=0x69*-0x16+0x1026+-0x2*0x390;_0x1e0c07<_0x267940;_0x1e0c07++){const _0x5247ad=_0x2ddb03[_0x1e0c07*(-0x2331+0xcbd*0x2+0x9ba)],_0x549dc7=_0x2ddb03[_0x1e0c07*(-0x2534+0x3*0x21f+0x1eda)+(-0x377*0x7+-0x1b01+-0x1*-0x3343)],_0x9f14=_0x2ddb03[_0x1e0c07*(-0xccd+0x1c7*0xa+0x1*-0x4f6)+(-0x1add+-0x93*0x20+0x2d3f*0x1)];_0x3ed356['set'](_0x425733[_0x5247ad*(0x1183+-0x91*-0x42+-0x36e2)],_0x425733[_0x5247ad*(0x2434+0x199*0xb+-0x35c4*0x1)+(-0x1b0d+0x13b2*-0x1+0x2ec0)],_0x425733[_0x5247ad*(-0x16f3+0xac9+0xc2d)+(0x256a+0x1*0xc65+-0x31cd)]),_0xf50586['set'](_0x425733[_0x549dc7*(0x1*-0x248c+0x17ca+-0x1*-0xcc5)],_0x425733[_0x549dc7*(-0x12*-0x125+-0x1b36+-0x69f*-0x1)+(0x72f+-0x3*-0x178+-0xb96)],_0x425733[_0x549dc7*(0xd71+-0x827*-0x1+0x451*-0x5)+(0x1084+0x2514+0x2d2*-0x13)]),_0x3d4495['set'](_0x425733[_0x9f14*(0x24b0+0x2*-0x1056+0x29*-0x19)],_0x425733[_0x9f14*(0xd68+-0x1*-0x952+-0x16b7*0x1)+(-0x9d*-0x11+-0x1*-0x863+-0x9*0x217)],_0x425733[_0x9f14*(-0x1561+-0x9*-0xc+0x14f8)+(0x1*0x89b+0x19*-0x35+-0x36c)]),_0xad1f6d['set'](_0x4e579a[_0x5247ad*(-0x2*-0xfc6+0x8a9+-0x2833)],_0x4e579a[_0x5247ad*(-0x2204+-0x165d+-0xb47*-0x5)+(-0x129d+-0x2554+0x37f2)]),_0x4029d7['set'](_0x4e579a[_0x549dc7*(0x101*-0x25+0x2072+0x4b5)],_0x4e579a[_0x549dc7*(-0x7a7+-0x1*-0x1013+-0x435*0x2)+(0x1466+-0x1ffd+-0x2*-0x5cc)]),_0x5d0bc3['set'](_0x4e579a[_0x9f14*(-0x9e6+-0x1*0x2134+0x2b1c)],_0x4e579a[_0x9f14*(-0x160f*-0x1+-0x12c*0x1b+0x997)+(0x1*-0x1c2b+0xe2f*-0x1+0x7*0x60d)]);const _0x3db839=_0xf50586['x']-_0x3ed356['x'],_0x57bac4=_0x3d4495['x']-_0x3ed356['x'],_0x5abb50=_0xf50586['y']-_0x3ed356['y'],_0x14d9bb=_0x3d4495['y']-_0x3ed356['y'],_0xcc9e44=_0xf50586['z']-_0x3ed356['z'],_0x4946d8=_0x3d4495['z']-_0x3ed356['z'],_0x1c6fa6=_0x4029d7['x']-_0xad1f6d['x'],_0x3d70fd=_0x5d0bc3['x']-_0xad1f6d['x'],_0x20e473=_0x4029d7['y']-_0xad1f6d['y'],_0xe7cfa5=_0x5d0bc3['y']-_0xad1f6d['y'],_0x44ef67=_0x1c6fa6*_0xe7cfa5-_0x3d70fd*_0x20e473;if(_0x44ef67===-0x1b2a+0x1c38+0xa*-0x1b)_0x31a6af['set'](-0x487*-0x7+0x1745+0x1e*-0x1d5,0x1*0xceb+0x82f+-0x1519,0x17b0+0xb85*-0x3+0xadf),_0x2aa3db['set'](-0x7b8+0x421+-0xa*-0x5c,-0xa7*0x21+-0x1*0x196b+0x2ef2,-0x310*-0x2+-0x22a+0x1*-0x3f6);else{const _0x4023af=(-0x3*0x89b+-0x24dd+0x3eaf)/_0x44ef67;_0x31a6af['set']((_0xe7cfa5*_0x3db839-_0x20e473*_0x57bac4)*_0x4023af,(_0xe7cfa5*_0x5abb50-_0x20e473*_0x14d9bb)*_0x4023af,(_0xe7cfa5*_0xcc9e44-_0x20e473*_0x4946d8)*_0x4023af),_0x2aa3db['set']((_0x1c6fa6*_0x57bac4-_0x3d70fd*_0x3db839)*_0x4023af,(_0x1c6fa6*_0x14d9bb-_0x3d70fd*_0x5abb50)*_0x4023af,(_0x1c6fa6*_0x4946d8-_0x3d70fd*_0xcc9e44)*_0x4023af);}_0x78d245[_0x5247ad*(-0x1*-0x9d6+0x253e+-0x1*0x2f11)+(0x9c1*0x2+-0x15ae+-0x22c*-0x1)]+=_0x31a6af['x'],_0x78d245[_0x5247ad*(0xdc7*0x1+-0x19c3+0xbff)+(-0x1b*0x109+-0x2634+-0x49*-0xe8)]+=_0x31a6af['y'],_0x78d245[_0x5247ad*(0x1d24+-0x186d+0x1*-0x4b4)+(0xb41+-0x1*0x486+-0x6b9)]+=_0x31a6af['z'],_0x78d245[_0x549dc7*(-0x1f12+0x473*-0x5+0x1aaa*0x2)+(-0x61*0xd+0x212c+-0x1c3f)]+=_0x31a6af['x'],_0x78d245[_0x549dc7*(-0xeef+0x2314+-0x1422)+(-0x1*-0x641+0x225a+-0x289a)]+=_0x31a6af['y'],_0x78d245[_0x549dc7*(-0x2423*-0x1+0x1a*-0x81+-0x7*0x34a)+(0x449+-0x25b0+-0x3*-0xb23)]+=_0x31a6af['z'],_0x78d245[_0x9f14*(-0x1193*0x1+-0x166*0x11+0x295c)+(0x1fb+-0x2*-0xd26+-0x13*0x17d)]+=_0x31a6af['x'],_0x78d245[_0x9f14*(0xe9e*0x2+-0x1f60+-0x1d*-0x13)+(0x20d1+0x203f+0x1*-0x410f)]+=_0x31a6af['y'],_0x78d245[_0x9f14*(0x177b+0x697*-0x1+-0x1*0x10e1)+(-0x17b*0x9+0x65d+0x6f8)]+=_0x31a6af['z'],_0x43188e[_0x5247ad*(-0x4*0x7a6+-0x1*0x12af+0x314a)+(0x1af3+-0x7*-0x586+-0x419d)]+=_0x2aa3db['x'],_0x43188e[_0x5247ad*(-0x2e*-0x15+0x350+0x1*-0x713)+(0x1a9+0x20c5*0x1+0x1*-0x226d)]+=_0x2aa3db['y'],_0x43188e[_0x5247ad*(0x8f9+0x1c0*0xd+-0x1fb6)+(0x2*-0xac4+0x1*-0x641+0x1bcb)]+=_0x2aa3db['z'],_0x43188e[_0x549dc7*(-0x204f+0x43c+0x1c16)+(0x1370+0x2*-0x40f+0x6*-0x1e3)]+=_0x2aa3db['x'],_0x43188e[_0x549dc7*(-0x4*-0x56+-0x1294+0x1*0x113f)+(0x1aee+0x140*-0x19+0x9*0x7b)]+=_0x2aa3db['y'],_0x43188e[_0x549dc7*(-0x2031+0x2*0x6fb+-0xa*-0x1d3)+(-0xc70+0x75*0x4+0xa9e)]+=_0x2aa3db['z'],_0x43188e[_0x9f14*(0x21d3+0x35*-0x2f+-0x1815)+(-0x7*0x23d+-0x202e+0x3*0xff3)]+=_0x2aa3db['x'],_0x43188e[_0x9f14*(-0x2*0x101f+-0x70*-0x26+0x1*0xfa1)+(0xc15+-0x1cbe+-0x12*-0xed)]+=_0x2aa3db['y'],_0x43188e[_0x9f14*(0xc29+0x9*-0x2b7+0xc49*0x1)+(0xea+0xfc0+0x10a8*-0x1)]+=_0x2aa3db['z'];}const _0xc3b601=new D(),_0x3d4502=new D(),_0x10428a=new D(),_0x760571=new D();for(let _0x401844=0x1*-0x23ff+0x1*-0x1000+0x33ff;_0x401844<_0x422b87;_0x401844++){_0x10428a['set'](_0x5858c5[_0x401844*(-0x88e+-0x19c5+0x2256)],_0x5858c5[_0x401844*(0xd29*0x1+-0xc5a+0xcc*-0x1)+(0x1379+-0xb22+-0x856)],_0x5858c5[_0x401844*(-0x352+-0x5*0x332+-0x134f*-0x1)+(-0x1736+0x26e7+-0xfaf)]),_0xc3b601['set'](_0x78d245[_0x401844*(0x97*0x27+-0x3c5+-0x1339)],_0x78d245[_0x401844*(0xa8f+0xe5*0x1+-0xb71)+(0x182*-0x7+-0x3d7*-0x5+-0x8a4)],_0x78d245[_0x401844*(0xd7a+0x3*0x9a6+0x15*-0x205)+(-0x19dc+0xd*-0x241+0x372b)]),_0x3d4502['set'](_0x43188e[_0x401844*(0x242d+0x6a1*-0x4+-0x9a6)],_0x43188e[_0x401844*(-0xadd+-0x1035+0x1b15)+(-0x944+-0x1e*0x13e+0x2e89)],_0x43188e[_0x401844*(-0x737*-0x2+0x26db+-0x6*0x8e1)+(-0x2054+-0x23a+0x2290)]);const _0x1eba11=_0x10428a['dot'](_0xc3b601);_0x760571['copy'](_0x10428a)['mulScalar'](_0x1eba11),_0x760571['sub2'](_0xc3b601,_0x760571)['normalize'](),_0x593a33[_0x401844*(0x8dc+-0x1a74+0x119c)]=_0x760571['x'],_0x593a33[_0x401844*(0x1*0x149f+0x923*0x2+-0x26e1)+(-0x1d95*-0x1+-0x1*0x38f+-0x1a05*0x1)]=_0x760571['y'],_0x593a33[_0x401844*(0x13*-0xb+-0x23b*-0xa+-0xef*0x17)+(-0x869*-0x1+-0x2af*-0x6+-0x29*0x99)]=_0x760571['z'],_0x760571['cross'](_0x10428a,_0xc3b601),_0x593a33[_0x401844*(-0xa*0x12a+-0x55*0x2a+-0xe2*-0x1d)+(-0x179b+-0xa15+0x21b3*0x1)]=_0x760571['dot'](_0x3d4502)<-0x4*-0x599+0x1af*-0x13+-0xd*-0xbd?-(-0x1c1*-0xd+-0x2*0x721+-0x88a):-0x1*-0x38f+0x1e3c+-0x5*0x6c2;}return _0x593a33;};class Ta{constructor(){h(this,'positions'),h(this,'normals'),h(this,'colors'),h(this,'uvs'),h(this,'uvs1'),h(this,'blendIndic'+'es'),h(this,'blendWeigh'+'ts'),h(this,'tangents'),h(this,'indices');}['calculateN'+'ormals'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=Iv(this['positions'],this['indices']);}['calculateT'+'angents'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),w['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const pu=(0x2679+0x43*0x8a+-0x4a93)/(0x1d27+0x114b+-0x2e32*0x1),hg=0x2*-0xd07+-0x1afa+0x3509-pu*(-0x102f+-0x94d*0x1+0x1a*0xfb);class mu extends Ta{constructor(_0x595b34={}){super();const _0x1d8cf1=_0x595b34['halfExtent'+'s']??new D(0x8dd+0x1d0f+-0x25ec+0.5,0x1650+0x19f*0x8+-0x2348+0.5,0x24+0x25c4*-0x1+0x25a0+0.5),_0x1ab684=_0x595b34['widthSegme'+'nts']??-0x25*-0xdf+-0x17*-0x42+-0x3*0xcb8,_0x1412b5=_0x595b34['lengthSegm'+'ents']??-0x26c7+-0x2*0x560+0x3188,_0x3c317a=_0x595b34['heightSegm'+'ents']??-0x21fc+-0xf16+0x3113,_0x33a386=_0x595b34['yOffset']??0x16ca+-0x2*-0xa60+0x2b8a*-0x1,_0x140f93=-_0x1d8cf1['y']+_0x33a386,_0x2e3ecb=_0x1d8cf1['y']+_0x33a386,_0x3979d2=[new D(-_0x1d8cf1['x'],_0x140f93,_0x1d8cf1['z']),new D(_0x1d8cf1['x'],_0x140f93,_0x1d8cf1['z']),new D(_0x1d8cf1['x'],_0x2e3ecb,_0x1d8cf1['z']),new D(-_0x1d8cf1['x'],_0x2e3ecb,_0x1d8cf1['z']),new D(_0x1d8cf1['x'],_0x140f93,-_0x1d8cf1['z']),new D(-_0x1d8cf1['x'],_0x140f93,-_0x1d8cf1['z']),new D(-_0x1d8cf1['x'],_0x2e3ecb,-_0x1d8cf1['z']),new D(_0x1d8cf1['x'],_0x2e3ecb,-_0x1d8cf1['z'])],_0x46c8bd=[[-0x11d3*-0x2+-0x1df2+0x92*-0xa,-0x22eb+-0x43*-0x6+-0x58f*-0x6,-0x17a3+0x1f53+0x1*-0x7ad],[-0x12d4+-0x2516*-0x1+-0x91f*0x2,0x1aaa*0x1+-0x2235+0x790,0x4f*0x1+-0x232d+0x22e5],[0x5*-0x236+-0x26c1+-0x38f*-0xe,-0x1*0x1b64+0x110+0x1a56*0x1,0x2049+0x6*-0x613+0x42f],[0x1789+-0x1f1d+0x795,0x2*-0xf51+0xa7*0x7+0x1a11*0x1,0x1591*0x1+-0x54b+0x1*-0x1042],[-0x1225+-0xf0d+-0xb11*-0x3,-0x275*0x1+0x1172+-0xef9,-0x1*-0x454+0x69c+-0xaee],[-0x6d8+-0x1*0x657+0xd34,0xa57*0x1+-0x18*0x6+0x1*-0x9c7,-0x5*-0x3e1+0x2f7+0x2*-0xb2b]],_0x227542=[[0x53*-0x36+-0xf5a+0x2bd*0xc,-0xe81+-0x2286+0x3107,0x52f*0x4+0x4*-0x1c7+-0xd9f],[0x24c4+-0xd*-0x1fd+-0x3e9d,0x164b+-0x457*0x7+0x816,-(0x202+-0x6f0+0x1a5*0x3)],[0x201f+-0x1147*0x1+-0xed8,-0x8ef*-0x2+0x269a+0x811*-0x7,0x1*0x7a5+0x2*-0xb3e+0x83*0x1d],[-0x2501*0x1+-0xd2b+0x322c,-(0x1*0x1635+0x11*-0x20a+0x27e*0x5),0x1599+-0xa1*-0x31+-0x1a35*0x2],[-0x1713+-0xc37+0x234b,-0x243*0x7+-0x12b6+0x228b*0x1,0x1ba7+0xc30+0x1*-0x27d7],[-(-0x28+0x2*-0x9e2+-0x1*-0x13ed),0x2f*-0x8f+-0xca5+0x26e6,0x867*0x2+-0x5ad+-0x197*0x7]],_0x396b5b={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x50e49e=[],_0x439a22=[],_0x259359=[],_0x422613=[];let _0x420ee6=-0x609+0x3b8*-0x8+0x23c9;const _0x4807ef=(_0x328653,_0x435376,_0x192306)=>{const _0x44bc1a=new D(),_0x186741=new D(),_0x3d1548=new D(),_0x5883d2=new D();for(let _0x1e7bbf=-0x1f92+0x407*-0x4+0x2fae;_0x1e7bbf<=_0x435376;_0x1e7bbf++)for(let _0x32dbb5=-0x12d0+0x2*-0x112d+0x352a*0x1;_0x32dbb5<=_0x192306;_0x32dbb5++){_0x44bc1a['lerp'](_0x3979d2[_0x46c8bd[_0x328653][-0x2c5*-0xa+-0x6*-0x129+0x1154*-0x2]],_0x3979d2[_0x46c8bd[_0x328653][0x1573+-0x1d73+0x801]],_0x1e7bbf/_0x435376),_0x186741['lerp'](_0x3979d2[_0x46c8bd[_0x328653][-0x3bd+-0x38*-0x1+-0x385*-0x1]],_0x3979d2[_0x46c8bd[_0x328653][-0x1a30+0x22d5+0x43*-0x21]],_0x32dbb5/_0x192306),_0x3d1548['sub2'](_0x186741,_0x3979d2[_0x46c8bd[_0x328653][-0x8b*0x3b+-0xd3*-0x17+-0x174*-0x9]]),_0x5883d2['add2'](_0x44bc1a,_0x3d1548);let _0x2be194=_0x1e7bbf/_0x435376,_0x4c75fe=_0x32dbb5/_0x192306;_0x50e49e['push'](_0x5883d2['x'],_0x5883d2['y'],_0x5883d2['z']),_0x439a22['push'](_0x227542[_0x328653][-0x1*0x1dcb+-0xdb3+0x2b7e],_0x227542[_0x328653][-0x188+0x1*-0xdfd+-0x2*-0x7c3],_0x227542[_0x328653][-0x183c+0xa6*0x29+-0x18*0x19]),_0x259359['push'](_0x2be194,0x1f4*-0x14+-0x1af3*0x1+0x4204-_0x4c75fe),_0x2be194=_0x2be194*hg+pu,_0x4c75fe=_0x4c75fe*hg+pu,_0x2be194/=0x5dc+0xcc4+0x3b9*-0x5,_0x4c75fe/=0x1489+0xb81+0x3*-0xaad,_0x2be194+=_0x328653%(0x1485+0x137*-0x1b+0x419*0x3)/(-0x703*0x5+-0x1ebb+0x41cd),_0x4c75fe+=Math['floor'](_0x328653/(-0x2129*-0x1+-0x1*-0x833+-0x2959))/(-0x202d+-0x2a+-0x1*-0x205a),_0x1e7bbf<_0x435376&&_0x32dbb5<_0x192306&&(_0x422613['push'](_0x420ee6+_0x192306+(0x1aa9+-0x334+-0x1774),_0x420ee6+(0x6bc+0x1376*0x1+0x2e9*-0x9),_0x420ee6),_0x422613['push'](_0x420ee6+_0x192306+(0x4*-0x89b+0x1f30+-0x33d*-0x1),_0x420ee6+_0x192306+(0x7*0xdf+0x1ba3+0x6*-0x59f),_0x420ee6+(0x63*-0x5+0x644+-0x4*0x115))),_0x420ee6++;}};_0x4807ef(_0x396b5b['FRONT'],_0x1ab684,_0x3c317a),_0x4807ef(_0x396b5b['BACK'],_0x1ab684,_0x3c317a),_0x4807ef(_0x396b5b['TOP'],_0x1ab684,_0x1412b5),_0x4807ef(_0x396b5b['BOTTOM'],_0x1ab684,_0x1412b5),_0x4807ef(_0x396b5b['RIGHT'],_0x1412b5,_0x3c317a),_0x4807ef(_0x396b5b['LEFT'],_0x1412b5,_0x3c317a),this['positions']=_0x50e49e,this['normals']=_0x439a22,this['uvs']=_0x259359,this['uvs1']=_0x259359,this['indices']=_0x422613,_0x595b34['calculateT'+'angents']&&(this['tangents']=Mr(_0x50e49e,_0x439a22,_0x259359,_0x422613));}}class _m extends Ta{constructor(_0x2c9c73={}){super();const _0x2d365b=_0x2c9c73['radius']??0x20a0+0x11eb+-0x328b+0.5,_0xcb1c48=_0x2c9c73['latitudeBa'+'nds']??0x1*0x1178+0x8*-0x31d+0x780,_0x105329=_0x2c9c73['longitudeB'+'ands']??0x18*-0xe3+0x5*0x66e+0xace*-0x1,_0x49b8f2=[],_0xf730e1=[],_0x106cbe=[],_0x49001f=[];for(let _0x4d150e=-0x11*0xa2+-0x2419*-0x1+0x1*-0x1957;_0x4d150e<=_0xcb1c48;_0x4d150e++){const _0x4802b9=_0x4d150e*Math['PI']/_0xcb1c48,_0x2efe78=Math['sin'](_0x4802b9),_0x1a720a=Math['cos'](_0x4802b9);for(let _0x27e2cf=-0x1df0+-0x359*-0x3+0xb*0x1cf;_0x27e2cf<=_0x105329;_0x27e2cf++){const _0x4dc66a=_0x27e2cf*(0x3*0x115+-0x20c3+0x1d86*0x1)*Math['PI']/_0x105329-Math['PI']/(0x12cc+0x1103+-0x23cd),_0x3e54bb=Math['sin'](_0x4dc66a),_0x57db48=Math['cos'](_0x4dc66a)*_0x2efe78,_0x3c02ba=_0x1a720a,_0x4cfc3c=_0x3e54bb*_0x2efe78,_0x4c29c7=0x1*0x2056+0x15f6+-0x364b-_0x27e2cf/_0x105329,_0x3432b5=-0x13*-0x7f+0x2341+-0x2cad*0x1-_0x4d150e/_0xcb1c48;_0x49b8f2['push'](_0x57db48*_0x2d365b,_0x3c02ba*_0x2d365b,_0x4cfc3c*_0x2d365b),_0xf730e1['push'](_0x57db48,_0x3c02ba,_0x4cfc3c),_0x106cbe['push'](_0x4c29c7,0x1898*-0x1+-0x13f9+0x2c92-_0x3432b5);}}for(let _0x45c733=0x92*-0x31+-0x214a+-0x1*-0x3d3c;_0x45c733<_0xcb1c48;++_0x45c733)for(let _0x338ac2=-0xb5d*-0x2+-0x1*-0x792+-0x793*0x4;_0x338ac2<_0x105329;++_0x338ac2){const _0x5d939a=_0x45c733*(_0x105329+(-0x2*-0x815+0x2382+-0x33ab))+_0x338ac2,_0x32922f=_0x5d939a+_0x105329+(0xdb+0x551*0x4+-0x161e);_0x49001f['push'](_0x5d939a+(-0x1*0x32b+-0xa*-0x24+-0x71*-0x4),_0x32922f,_0x5d939a),_0x49001f['push'](_0x5d939a+(-0x12ce+0x132d+-0x1*0x5e),_0x32922f+(0x279*-0x8+-0x1d4*-0x10+-0x1*0x977),_0x32922f);}this['positions']=_0x49b8f2,this['normals']=_0xf730e1,this['uvs']=_0x106cbe,this['uvs1']=_0x106cbe,this['indices']=_0x49001f,_0x2c9c73['calculateT'+'angents']&&(this['tangents']=Mr(_0x49b8f2,_0xf730e1,_0x106cbe,_0x49001f));}}class DA extends _m{constructor(_0x553e3f={}){const _0xc45b9=_0x553e3f['latitudeBa'+'nds']??0x1*-0x815+-0x1cb8*-0x1+0x17*-0xe5,_0x7ed84c=_0x553e3f['longitudeB'+'ands']??-0x5*0x4d9+0x2f*-0x81+-0x2*-0x17fe;super({'radius':0.5,'latitudeBands':_0xc45b9,'longitudeBands':_0x7ed84c});const _0xb56a6=-0x12d6+0x1535*-0x1+0x280b+0.1,_0x354aab=0x225*-0x7+-0x7e1*0x2+-0x1ec5*-0x1+0.95,_0x28e5ac=_0x354aab*_0x354aab,_0x36199b=this['positions'];for(let _0x1240e2=0x7ca*0x3+0x2576+0x11*-0x394;_0x1240e2<_0x36199b['length'];_0x1240e2+=-0x1d6b*-0x1+-0x1da6+-0x3e*-0x1){const _0x9b4aff=_0x36199b[_0x1240e2]/(0x1bb*0x1+-0x2516+0x235b+0.5);let _0x21b326=_0x36199b[_0x1240e2+(-0x2710+-0x71*-0x9+0x2318)]/(0x195a+-0xac3+-0xe97+0.5);const _0x2c5f6c=_0x36199b[_0x1240e2+(-0x4*-0x175+0xa5d+-0x102f)]/(-0x135*-0xc+0x9f*-0x38+0x144c+0.5);_0x21b326<-0x1f9b+0xc*0x19a+0xc63&&(_0x21b326*=-0x4d4+0x31*-0x51+0x1455+0.3,_0x9b4aff*_0x9b4aff+_0x2c5f6c*_0x2c5f6c<_0x28e5ac&&(_0x21b326=-_0xb56a6)),_0x21b326+=_0xb56a6,_0x21b326*=0x1e2d*0x1+0x257e+0x11*-0x3fb+0.5,_0x36199b[_0x1240e2+(0x210a+-0x2a4+-0xfb*0x1f)]=_0x21b326;}}}class zo{static['create'](_0x47aa1b,_0x1274f1){switch(_0x1274f1){case Qw:return zo['box'](_0x47aa1b);case Jw:return zo['dome'](_0x47aa1b);}return w['assert'](_0x1274f1===Bo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x1274f1),zo['infinite'](_0x47aa1b);}static['infinite'](_0x40041e){return Ge['fromGeomet'+'ry'](_0x40041e,new mu(_0x40041e));}static['box'](_0x539bff){return Ge['fromGeomet'+'ry'](_0x539bff,new mu({'yOffset':0.5}));}static['dome'](_0x144c31){const _0x5026bd=new DA({'latitudeBands':0x32,'longitudeBands':0x32});return _0x5026bd['normals']=void(-0x1*0x17b+0x1dbf+0x96c*-0x3),_0x5026bd['uvs']=void(0x3*-0x628+0x98*0x3+0x10b0),Ge['fromGeomet'+'ry'](_0x144c31,_0x5026bd);}}class IA{constructor(_0x31bcb2,_0x556fc1,_0x2926bc,_0x8d750,_0x428915){h(this,'meshInstan'+'ce',null),h(this,'_depthWrit'+'e',!(0x14a6+0x1232+-0x1*0x26d7));const _0xd60552=new Xn({'uniqueName':'SkyMateria'+'l','vertexGLSL':Pe['get'](_0x31bcb2,Fe)['get']('skyboxVS'),'fragmentGLSL':Pe['get'](_0x31bcb2,Fe)['get']('skyboxPS'),'vertexWGSL':Pe['get'](_0x31bcb2,it)['get']('skyboxVS'),'fragmentWGSL':Pe['get'](_0x31bcb2,it)['get']('skyboxPS'),'attributes':{'aPosition':Me}});_0xd60552['setDefine']('{SKYBOX_DE'+'CODE_FNC}',Tr['decodeFunc'](_0x8d750['encoding'])),_0x428915!==Bo&&_0xd60552['setDefine']('SKYMESH',''),_0x8d750['cubemap']&&_0xd60552['setDefine']('SKY_CUBEMA'+'P',''),_0xd60552['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x556fc1['skyboxHigh'+'lightMulti'+'plier']),_0x8d750['cubemap']?_0xd60552['setParamet'+'er']('texture_cu'+'beMap',_0x8d750):(_0xd60552['setParamet'+'er']('texture_en'+'vAtlas',_0x8d750),_0xd60552['setParamet'+'er']('mipLevel',_0x556fc1['skyboxMip'])),_0xd60552['cull']=Fo,_0xd60552['depthWrite']=this['_depthWrit'+'e'];const _0x4309fd=_0x556fc1['layers']['getLayerBy'+'Id'](Kp);if(_0x4309fd){const _0x186195=zo['create'](_0x31bcb2,_0x428915),_0x3bafbc=new He(_0x186195,_0xd60552,_0x2926bc);this['meshInstan'+'ce']=_0x3bafbc,_0x3bafbc['cull']=!(-0x1b8*-0x14+-0xf9*0x9+0x199e*-0x1),_0x3bafbc['pick']=!(-0x1b10+-0x1e0e+-0x1*-0x391f),_0x4309fd['addMeshIns'+'tances']([_0x3bafbc]),this['skyLayer']=_0x4309fd;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}set['depthWrite'](_0x482dea){this['_depthWrit'+'e']=_0x482dea,this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']['depthWrite']=_0x482dea);}get['depthWrite'](){return this['_depthWrit'+'e'];}}class LA{constructor(_0x48ce7a){h(this,'_type',Bo),h(this,'_center',new D(-0x43*-0x69+0x8bb+-0x609*0x6,-0x4*0x521+-0x7bc+0x1c41,-0x35*-0x1f+0x1ce*0x15+-0x5*0x8dd)),h(this,'skyMesh',null),h(this,'_depthWrit'+'e',!(0x153+-0xba5*0x1+0x371*0x3)),h(this,'node',new Ie('SkyMeshNod'+'e')),(this['device']=_0x48ce7a['device'],this['scene']=_0x48ce7a,this['center']=new D(-0x1d47+-0xde7*0x1+0x2b2e,0x1340+0x1420+-0x275f,-0x9c6+-0x1*-0x19d6+0x1*-0x1010),this['centerArra'+'y']=new Float32Array(-0x1*-0x23b7+-0x77*0x1d+-0x1*0x1639),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x2842b9){this['type']=_0x2842b9['skyType']??Bo,this['node']['setLocalPo'+'sition'](new D(_0x2842b9['skyMeshPos'+'ition']??[-0x1cf0+-0x2182+0x3e72*0x1,0x17bd+0x125+-0x18e2,0x863*-0x2+0x145f+-0x133*0x3])),this['node']['setLocalEu'+'lerAngles'](new D(_0x2842b9['skyMeshRot'+'ation']??[-0x22a*-0xf+0x4*-0x53f+-0xb7a,-0x1c8e+-0x1fb2+0x10*0x3c4,-0x1a87+-0x5*0x373+0x2bc6])),this['node']['setLocalSc'+'ale'](new D(_0x2842b9['skyMeshSca'+'le']??[-0x2*0xe2b+-0xe95*0x1+0x29*0x10c,-0x2*-0xe9f+0x2515+0x28d*-0x1a,-0x8*0x4a3+-0x26*-0x2b+0x3*0xa3d])),_0x2842b9['skyCenter']&&(this['_center']=new D(_0x2842b9['skyCenter']));}set['type'](_0x5c75c5){this['_type']!==_0x5c75c5&&(this['_type']=_0x5c75c5,this['scene']['updateShad'+'ers']=!(0x4e*0x6d+0x1*0x22e1+-0x4417*0x1),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x56eab6){this['_center']['copy'](_0x56eab6);}get['center'](){return this['_center'];}set['depthWrite'](_0x5c5ba6){this['_depthWrit'+'e']!==_0x5c5ba6&&(this['_depthWrit'+'e']=_0x5c5ba6,this['skyMesh']&&(this['skyMesh']['depthWrite']=_0x5c5ba6));}get['depthWrite'](){return this['_depthWrit'+'e'];}['updateSkyM'+'esh'](){const _0x21869f=this['scene']['_getSkybox'+'Tex']();_0x21869f&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new IA(this['device'],this['scene'],this['node'],_0x21869f,this['type']),this['skyMesh']['depthWrite']=this['_depthWrit'+'e'],this['scene']['fire']('set:skybox',_0x21869f));}['resetSkyMe'+'sh'](){var _0x50ab91;(_0x50ab91=this['skyMesh'])==null||_0x50ab91['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==Bo){const {center:_0x3115e4,centerArray:_0x2c38e2}=this,_0x17dcee=new D();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x3115e4,_0x17dcee),_0x2c38e2[-0x1af+0xd8b*0x1+-0xbdc]=_0x17dcee['x'],_0x2c38e2[0x5*0x81+0x1*-0xfaa+-0x693*-0x2]=_0x17dcee['y'],_0x2c38e2[-0x1629+0x8*0x35e+-0x4c5]=_0x17dcee['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x2c38e2);}}}const Ch=new Ie();Ch['worldTrans'+'form']=te['IDENTITY'],Ch['_dirtyWorl'+'d']=Ch['_dirtyNorm'+'al']=!(-0x12fd+-0x2649+0x3947);class RA{constructor(_0x44b84e,_0x6c1a14,_0x5427df){this['material']=_0x6c1a14,this['layer']=_0x5427df,this['positions']=[],this['colors']=[],this['mesh']=new Ge(_0x44b84e),this['meshInstan'+'ce']=null;}['addLines'](_0x182a77,_0x4c1e31){const _0x398a7b=this['positions'],_0x4f1a2=_0x182a77['length'];for(let _0x3ce6a3=0x1*0xa6e+-0xe4e+0x3e0;_0x3ce6a3<_0x4f1a2;_0x3ce6a3++){const _0x182e21=_0x182a77[_0x3ce6a3];_0x398a7b['push'](_0x182e21['x'],_0x182e21['y'],_0x182e21['z']);}const _0x2be887=this['colors'];if(_0x4c1e31['length'])for(let _0xc89eb1=-0x1985+-0xc5d+0x25e2;_0xc89eb1<_0x4f1a2;_0xc89eb1++){const _0x3bf43e=_0x4c1e31[_0xc89eb1];_0x2be887['push'](_0x3bf43e['r'],_0x3bf43e['g'],_0x3bf43e['b'],_0x3bf43e['a']);}else{for(let _0x500aca=0xdce*0x1+-0x39*-0x39+-0x1a7f;_0x500aca<_0x4f1a2;_0x500aca++)_0x2be887['push'](_0x4c1e31['r'],_0x4c1e31['g'],_0x4c1e31['b'],_0x4c1e31['a']);}}['addLinesAr'+'rays'](_0x58a0a9,_0x5a28ce){const _0x525159=this['positions'];for(let _0x56c153=-0xa3f+-0x1fb5*-0x1+0x52*-0x43;_0x56c153<_0x58a0a9['length'];_0x56c153+=-0x4a*-0x1+-0x418*0x2+-0x2a3*-0x3)_0x525159['push'](_0x58a0a9[_0x56c153],_0x58a0a9[_0x56c153+(0x15*0x175+0x31*0x61+-0x347*0xf)],_0x58a0a9[_0x56c153+(-0x983+0x2*-0x196+-0x43b*-0x3)]);const _0x1ed75a=this['colors'];if(_0x5a28ce['length']){for(let _0x1a39e9=0x4f*-0x47+-0x2567+-0x1a*-0x248;_0x1a39e9<_0x5a28ce['length'];_0x1a39e9+=0x189c+0xf91*0x1+-0x2829)_0x1ed75a['push'](_0x5a28ce[_0x1a39e9],_0x5a28ce[_0x1a39e9+(-0x2249*-0x1+0xb29*-0x3+-0x29*0x5)],_0x5a28ce[_0x1a39e9+(0x6d8*-0x2+-0x1898+-0x2*-0x1325)],_0x5a28ce[_0x1a39e9+(0xf95*-0x1+-0x64*-0x33+-0x454)]);}else{const _0xc9237f=_0x58a0a9['length']/(-0x1*-0x9ad+0x24c6*-0x1+0x1b1c);for(let _0x1072aa=0x2383+-0x7*0x452+-0x1*0x545;_0x1072aa<_0xc9237f;_0x1072aa++)_0x1ed75a['push'](_0x5a28ce['r'],_0x5a28ce['g'],_0x5a28ce['b'],_0x5a28ce['a']);}}['onPreRende'+'r'](_0x4e5607,_0x57d3e0){this['positions']['length']>0xa4d+-0xad*-0x1d+-0x59*0x56&&this['material']['transparen'+'t']===_0x57d3e0&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](hd,!(0x6*-0x452+-0x1cd0+0x36bd)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new He(this['mesh'],this['material'],Ch)),_0x4e5607['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=0x1*0x2424+-0x1c0c+0x94*-0xe,this['colors']['length']=0x265c+-0x1093+-0x15c9;}}class OA{constructor(_0x2eac30){this['device']=_0x2eac30,this['map']=new Map();}['getBatch'](_0x347f8d,_0x449429){let _0x4bc461=this['map']['get'](_0x347f8d);return _0x4bc461||(_0x4bc461=new RA(this['device'],_0x347f8d,_0x449429),this['map']['set'](_0x347f8d,_0x4bc461)),_0x4bc461;}['onPreRende'+'r'](_0x47a1e8,_0x20cc7a){this['map']['forEach'](_0x17e5a7=>{_0x17e5a7['onPreRende'+'r'](_0x47a1e8,_0x20cc7a);});}['clear'](){this['map']['forEach'](_0x38a2a8=>_0x38a2a8['clear']());}}const Ts=[],Ba=new D();class FA{constructor(_0x309e30){h(this,'shaderDesc'+'s',new Map()),(this['device']=_0x309e30,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x4d7de5){const _0x3cc572=new Xn({'uniqueName':'ImmediateL'+'ine','vertexGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'ineVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'inePS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'ineVS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'inePS'),'attributes':{'vertex_position':Me,'vertex_color':Wt}});return _0x3cc572['blendType']=Zs,_0x3cc572['depthTest']=_0x4d7de5,_0x3cc572['update'](),_0x3cc572;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(-0x296+0xb06*-0x2+-0x3*-0x836))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(-0x1*0xed0+0x1585+0x3*-0x23c))),this['_materialN'+'oDepth'];}['getBatch'](_0x26cb75,_0x2f2cae){let _0x3292db=this['batchesMap']['get'](_0x26cb75);_0x3292db||(_0x3292db=new OA(this['device']),this['batchesMap']['set'](_0x26cb75,_0x3292db)),this['allBatches']['add'](_0x3292db);const _0x485163=_0x2f2cae?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x3292db['getBatch'](_0x485163,_0x26cb75);}['getShaderD'+'esc'](_0xbbf1be,_0x158ec8,_0x3ced72){return this['shaderDesc'+'s']['has'](_0xbbf1be)||this['shaderDesc'+'s']['set'](_0xbbf1be,{'uniqueName':'DebugShade'+'r:'+_0xbbf1be,'vertexGLSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ve'+'c2\x20uv0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uv0\x20=\x20ve'+'rtex_posit'+'ion.xy\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20','vertexWGSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20@ver'+'tex\x20fn\x20ver'+'texMain(in'+'put:\x20Verte'+'xInput)\x20->'+'\x20VertexOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20un'+'iform.matr'+'ix_model\x20*'+'\x20vec4f(inp'+'ut.vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.uv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20+\x20vec2f'+'(0.5);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20','fragmentGLSL':_0x158ec8,'fragmentWGSL':_0x3ced72,'attributes':{'vertex_position':Me}}),this['shaderDesc'+'s']['get'](_0xbbf1be);}['getTexture'+'ShaderDesc'](_0x42e6d7){const _0x4a1c8c=Tr['decodeFunc'](_0x42e6d7);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x42e6d7,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x4a1c8c+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20colorMa'+'pSampler:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20@fragment'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output:\x20Fr'+'agmentOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20sample'+'dTex\x20=\x20tex'+'tureSample'+'(colorMap,'+'\x20colorMapS'+'ampler,\x20in'+'put.uv0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'linearColo'+'r:\x20vec3f\x20='+'\x20'+_0x4a1c8c+('(sampledTe'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(gammaCorr'+'ectOutput('+'linearColo'+'r),\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<uff>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20@'+'fragment\x20f'+'n\x20fragment'+'Main(input'+'\x20:\x20Fragmen'+'tInput)\x20->'+'\x20FragmentO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'nput.uv0\x20*'+'\x20vec2f(tex'+'tureDimens'+'ions(color'+'Map,\x200)));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20fetchedCo'+'lor\x20:\x20vec4'+'f\x20=\x20textur'+'eLoad(colo'+'rMap,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(fetchedCo'+'lor.xyz,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20void\x20main'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x20getLi'+'nearScreen'+'Depth(getI'+'mageEffect'+'UV(uv0))\x20*'+'\x20camera_pa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(vec3(de'+'pth)),\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20u'+'v0:\x20vec2f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20@fragme'+'nt\x20fn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20depth'+':\x20f32\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(inpu'+'t.uv0))\x20*\x20'+'uniform.ca'+'mera_param'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(vec3f(dep'+'th)),\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ge(this['device']),this['quadMesh']['setPositio'+'ns']([-(-0x1721+-0x209a+-0xb*-0x511+0.5),-(-0x1d03+-0x1*-0x511+0x17f2+0.5),-0x26fe+-0x1*0x696+0x4*0xb65,0x1993+0x16+0x19a9*-0x1+0.5,-(0x162*0x5+-0x1079*-0x1+-0x1763*0x1+0.5),-0x5*-0x2c9+-0x2365+0x4*0x55e,-(-0x348+-0x8ae*-0x1+-0x566+0.5),0x35*0x86+0x39e+-0x1f5c+0.5,0x1*0x15e3+-0x164f+0x6c,0x1*0x21da+-0x1956+-0x884+0.5,-0x3d*-0xd+0xd40+-0x117*0xf+0.5,-0x40f*-0x7+-0x1*0x1ef7+-0x6*-0x6d]),this['quadMesh']['update'](Er)),this['quadMesh'];}['drawMesh'](_0x3fef3f,_0x243bda,_0x35dddf,_0x5c94d,_0x495270){if(!_0x5c94d){const _0xa05ee4=this['getGraphNo'+'de'](_0x243bda);_0x5c94d=new He(_0x35dddf,_0x3fef3f,_0xa05ee4);}let _0x39906b=this['layerMeshI'+'nstances']['get'](_0x495270);_0x39906b||(_0x39906b=[],this['layerMeshI'+'nstances']['set'](_0x495270,_0x39906b)),_0x39906b['push'](_0x5c94d);}['drawWireAl'+'ignedBox'](_0x518cdd,_0x4c2a19,_0x58f129,_0x3ad6e5,_0x45d697,_0xa3ce57){if(_0xa3ce57){const _0x4e0e80=(_0x22c87f,_0x772182,_0x2f1cc9)=>{Ba['set'](_0x22c87f,_0x772182,_0x2f1cc9),_0xa3ce57['transformP'+'oint'](Ba,Ba),Ts['push'](Ba['x'],Ba['y'],Ba['z']);};_0x4e0e80(_0x518cdd['x'],_0x518cdd['y'],_0x518cdd['z']),_0x4e0e80(_0x518cdd['x'],_0x4c2a19['y'],_0x518cdd['z']),_0x4e0e80(_0x518cdd['x'],_0x4c2a19['y'],_0x518cdd['z']),_0x4e0e80(_0x4c2a19['x'],_0x4c2a19['y'],_0x518cdd['z']),_0x4e0e80(_0x4c2a19['x'],_0x4c2a19['y'],_0x518cdd['z']),_0x4e0e80(_0x4c2a19['x'],_0x518cdd['y'],_0x518cdd['z']),_0x4e0e80(_0x4c2a19['x'],_0x518cdd['y'],_0x518cdd['z']),_0x4e0e80(_0x518cdd['x'],_0x518cdd['y'],_0x518cdd['z']),_0x4e0e80(_0x518cdd['x'],_0x518cdd['y'],_0x4c2a19['z']),_0x4e0e80(_0x518cdd['x'],_0x4c2a19['y'],_0x4c2a19['z']),_0x4e0e80(_0x518cdd['x'],_0x4c2a19['y'],_0x4c2a19['z']),_0x4e0e80(_0x4c2a19['x'],_0x4c2a19['y'],_0x4c2a19['z']),_0x4e0e80(_0x4c2a19['x'],_0x4c2a19['y'],_0x4c2a19['z']),_0x4e0e80(_0x4c2a19['x'],_0x518cdd['y'],_0x4c2a19['z']),_0x4e0e80(_0x4c2a19['x'],_0x518cdd['y'],_0x4c2a19['z']),_0x4e0e80(_0x518cdd['x'],_0x518cdd['y'],_0x4c2a19['z']),_0x4e0e80(_0x518cdd['x'],_0x518cdd['y'],_0x518cdd['z']),_0x4e0e80(_0x518cdd['x'],_0x518cdd['y'],_0x4c2a19['z']),_0x4e0e80(_0x518cdd['x'],_0x4c2a19['y'],_0x518cdd['z']),_0x4e0e80(_0x518cdd['x'],_0x4c2a19['y'],_0x4c2a19['z']),_0x4e0e80(_0x4c2a19['x'],_0x4c2a19['y'],_0x518cdd['z']),_0x4e0e80(_0x4c2a19['x'],_0x4c2a19['y'],_0x4c2a19['z']),_0x4e0e80(_0x4c2a19['x'],_0x518cdd['y'],_0x518cdd['z']),_0x4e0e80(_0x4c2a19['x'],_0x518cdd['y'],_0x4c2a19['z']);}else Ts['push'](_0x518cdd['x'],_0x518cdd['y'],_0x518cdd['z'],_0x518cdd['x'],_0x4c2a19['y'],_0x518cdd['z'],_0x518cdd['x'],_0x4c2a19['y'],_0x518cdd['z'],_0x4c2a19['x'],_0x4c2a19['y'],_0x518cdd['z'],_0x4c2a19['x'],_0x4c2a19['y'],_0x518cdd['z'],_0x4c2a19['x'],_0x518cdd['y'],_0x518cdd['z'],_0x4c2a19['x'],_0x518cdd['y'],_0x518cdd['z'],_0x518cdd['x'],_0x518cdd['y'],_0x518cdd['z'],_0x518cdd['x'],_0x518cdd['y'],_0x4c2a19['z'],_0x518cdd['x'],_0x4c2a19['y'],_0x4c2a19['z'],_0x518cdd['x'],_0x4c2a19['y'],_0x4c2a19['z'],_0x4c2a19['x'],_0x4c2a19['y'],_0x4c2a19['z'],_0x4c2a19['x'],_0x4c2a19['y'],_0x4c2a19['z'],_0x4c2a19['x'],_0x518cdd['y'],_0x4c2a19['z'],_0x4c2a19['x'],_0x518cdd['y'],_0x4c2a19['z'],_0x518cdd['x'],_0x518cdd['y'],_0x4c2a19['z'],_0x518cdd['x'],_0x518cdd['y'],_0x518cdd['z'],_0x518cdd['x'],_0x518cdd['y'],_0x4c2a19['z'],_0x518cdd['x'],_0x4c2a19['y'],_0x518cdd['z'],_0x518cdd['x'],_0x4c2a19['y'],_0x4c2a19['z'],_0x4c2a19['x'],_0x4c2a19['y'],_0x518cdd['z'],_0x4c2a19['x'],_0x4c2a19['y'],_0x4c2a19['z'],_0x4c2a19['x'],_0x518cdd['y'],_0x518cdd['z'],_0x4c2a19['x'],_0x518cdd['y'],_0x4c2a19['z']);this['getBatch'](_0x45d697,_0x3ad6e5)['addLinesAr'+'rays'](Ts,_0x58f129),Ts['length']=-0x239b+0x135b+0x1040;}['drawWireSp'+'here'](_0x56476a,_0x403a8b,_0x31742a,_0x41f481,_0x52ac51,_0x551f8a){const _0x2245b3=(0x1*0x2063+-0x1*0x161d+-0x1b6*0x6)*Math['PI']/_0x41f481;let _0x24f92a=0x172f+-0x2208+0xad9;for(let _0x66b735=0x2096+-0x1be6+-0x4b0;_0x66b735<_0x41f481;_0x66b735++){const _0x8e55ee=Math['sin'](_0x24f92a),_0x84134=Math['cos'](_0x24f92a);_0x24f92a+=_0x2245b3;const _0x594be8=Math['sin'](_0x24f92a),_0x2b9a4a=Math['cos'](_0x24f92a);Ts['push'](_0x56476a['x']+_0x403a8b*_0x8e55ee,_0x56476a['y'],_0x56476a['z']+_0x403a8b*_0x84134),Ts['push'](_0x56476a['x']+_0x403a8b*_0x594be8,_0x56476a['y'],_0x56476a['z']+_0x403a8b*_0x2b9a4a),Ts['push'](_0x56476a['x']+_0x403a8b*_0x8e55ee,_0x56476a['y']+_0x403a8b*_0x84134,_0x56476a['z']),Ts['push'](_0x56476a['x']+_0x403a8b*_0x594be8,_0x56476a['y']+_0x403a8b*_0x2b9a4a,_0x56476a['z']),Ts['push'](_0x56476a['x'],_0x56476a['y']+_0x403a8b*_0x8e55ee,_0x56476a['z']+_0x403a8b*_0x84134),Ts['push'](_0x56476a['x'],_0x56476a['y']+_0x403a8b*_0x594be8,_0x56476a['z']+_0x403a8b*_0x2b9a4a);}this['getBatch'](_0x551f8a,_0x52ac51)['addLinesAr'+'rays'](Ts,_0x31742a),Ts['length']=0x24c5+0x8e*-0x2+0xbe3*-0x3;}['getGraphNo'+'de'](_0x40d758){const _0x457fd9=new Ie('ImmediateD'+'ebug');return _0x457fd9['worldTrans'+'form']=_0x40d758,_0x457fd9['_dirtyWorl'+'d']=_0x457fd9['_dirtyNorm'+'al']=!(0x205a+-0x1*0xf91+-0x10c8),_0x457fd9;}['onPreRende'+'rLayer'](_0x3bebfc,_0x137f12,_0x3a46a3){if(this['batchesMap']['forEach']((_0x2f3fcf,_0x44761b)=>{_0x44761b===_0x3bebfc&&_0x2f3fcf['onPreRende'+'r'](_0x137f12,_0x3a46a3);}),!this['updatedLay'+'ers']['has'](_0x3bebfc)){this['updatedLay'+'ers']['add'](_0x3bebfc);const _0x2d161e=this['layerMeshI'+'nstances']['get'](_0x3bebfc);if(_0x2d161e){for(let _0x416d43=-0x4*0x392+-0x6c4+-0x382*-0x6;_0x416d43<_0x2d161e['length'];_0x416d43++)_0x137f12['push'](_0x2d161e[_0x416d43]);_0x2d161e['length']=-0x8ce+-0x9c4+0x1292;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x498e9f=>_0x498e9f['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class NA{constructor(){h(this,'type',Kn),h(this,'color',new ie(-0x1*-0x791+0x220c+-0x299d,0x61*-0xf+-0x1*-0x2453+-0xd4*0x25,0x262b+0x29*0x19+0x1516*-0x2)),h(this,'density',0x41f+0x18+-0x437),h(this,'start',0x1*0xa94+-0x1f4b*-0x1+-0x29de),h(this,'end',-0x1830+-0x5c8+0x21e0);}}class Et extends me{constructor(_0x593e93){super(),h(this,'ambientBak'+'e',!(0x1*-0xa05+-0x249*0x11+-0x1*-0x30df)),h(this,'ambientBak'+'eOcclusion'+'Brightness',-0x12fb+-0xab*-0x1f+-0x1ba*0x1),h(this,'ambientBak'+'eOcclusion'+'Contrast',0x992+-0x1b69+0x1*0x11d7),h(this,'ambientLig'+'ht',new ie(0x1192+0x1e7+-0x1379,0x1d65+0x23c5*0x1+-0x412a,0x24*-0x82+-0x1de8+-0x10*-0x303)),h(this,'ambientLum'+'inance',-0x67f+-0x1699+0x1d18),h(this,'exposure',0x1d47+-0x1914+0x219*-0x2),h(this,'lightmapSi'+'zeMultipli'+'er',0x1e48+-0x2634+0x7ed),h(this,'lightmapMa'+'xResolutio'+'n',0xd*-0x89+0x56e+-0x987*-0x1),h(this,'lightmapMo'+'de',jc),h(this,'lightmapFi'+'lterEnable'+'d',!(0xd38+-0x145*0x3+-0x968)),h(this,'lightmapHD'+'R',!(0xea*-0x1+-0x1ae5+0x37a*0x8)),h(this,'root',null),h(this,'physicalUn'+'its',!(0x2b*0xa7+0x2013+-0x3c1f*0x1)),h(this,'_envAtlas',null),h(this,'_skyboxCub'+'eMap',null),h(this,'_fogParams',new NA()),h(this,'forcePassT'+'hroughSpec'+'ular',!(0x417*0x5+0x9ea+0x86*-0x3a)),(w['assert'](_0x593e93,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x593e93,this['_gravity']=new D(-0x212e+0x1*-0x2b3+0x23e1*0x1,-(0x68f+0x1df9+-0x1*0x247f+0.8000000000000007),-0x18d*0xf+0x1*0x1e17+-0x4c*0x17),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=-0x5*-0x35+0x56*0x2b+0x1*-0xf7a,this['_skyboxLum'+'inance']=-0xa6*0x1f+-0xcc7+0x20e1,this['_skyboxMip']=-0x696+0x21a4+-0x1b0e,this['_skyboxHig'+'hlightMult'+'iplier']=-0x3*0xcf1+0x1*-0x44f+0x2b23,this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x1f8e+-0xa81*-0x2+0xa8d),this['_skyboxRot'+'ation']=new le(),this['_skyboxRot'+'ationMat3']=new _i(),this['_skyboxRot'+'ationMat4']=new te(),this['_ambientBa'+'keNumSampl'+'es']=0x1*0x1f91+0x1479+-0x4d*0xad,this['_ambientBa'+'keSpherePa'+'rt']=0x17c0+0x88c+0x2*-0x1026+0.4,this['_lightmapF'+'ilterRange']=-0x2043*-0x1+0x1a6*-0xb+-0xe17,this['_lightmapF'+'ilterSmoot'+'hness']=-0xf*0x1f5+-0x6*0x369+-0x6d*-0x75+0.2,this['_clustered'+'LightingEn'+'abled']=!(0x3f*0x39+-0x11*0x12b+0x5d4),this['_lightingP'+'arams']=new Mv(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(0x289+0x3*-0x111+0xaa);}),this['_sky']=new LA(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0x1fb8+0x11*0xd+-0x3*-0xa49),this['_shaderVer'+'sion']=0x5*-0x16d+0x123d+-0xb1c,this['immediate']=new FA(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](Zp);}set['ambientBak'+'eNumSample'+'s'](_0x4c537b){this['_ambientBa'+'keNumSampl'+'es']=Y['clamp'](Math['floor'](_0x4c537b),-0x102a+-0x1d8*-0x7+0xa7*0x5,-0x1206*0x2+0x2*-0xd1d+0x1517*0x3);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x286e40){this['_ambientBa'+'keSpherePa'+'rt']=Y['clamp'](_0x286e40,-0x1*0x11fd+0x1a04+-0x2ad*0x3+0.001,-0x171c+-0x2393+0x3ab0);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x2c6c29){if(this['device']['isWebGPU']&&!_0x2c6c29){w['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x2c6c29){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x2c6c29;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x379f0c){_0x379f0c!==this['_envAtlas']&&(this['_envAtlas']=_0x379f0c,_0x379f0c&&(_0x379f0c['addressU']=ue,_0x379f0c['addressV']=ue,_0x379f0c['minFilter']=vt,_0x379f0c['magFilter']=vt,_0x379f0c['mipmaps']=!(0x1683+-0x1*-0x1edf+-0x3561)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x367c35){const _0x11b54f=this['_layers'];this['_layers']=_0x367c35,this['fire']('set:layers',_0x11b54f,_0x367c35);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x513403){this['_lightmapF'+'ilterRange']=Math['max'](_0x513403,-0x496*0x4+-0x6*-0x167+0x9ee+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x51786a){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x51786a,0x10c1+0x7a*0x16+0x16f*-0x13+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x5243ae){_0x5243ae=_0x5243ae||[];const _0x15932e=this['_prefilter'+'edCubemaps'];(_0x15932e['length']!==_0x5243ae['length']||_0x15932e['some']((_0x314383,_0xdcba54)=>_0x314383!==_0x5243ae[_0xdcba54]))&&(_0x5243ae['length']===0x10cf+-0x1003+-0x63*0x2&&_0x5243ae['every'](_0x55a11c=>!!_0x55a11c)?(this['_internalE'+'nvAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x5243ae,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x5243ae['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x53fb06){_0x53fb06!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x53fb06,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x3f6443){_0x3f6443!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x3f6443,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x5b9f69){_0x5b9f69!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x5b9f69,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x4a53c5){_0x4a53c5!==this['_skyboxMip']&&(this['_skyboxMip']=_0x4a53c5,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x3484ab){_0x3484ab!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x3484ab,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x2fb933){if(!this['_skyboxRot'+'ation']['equals'](_0x2fb933)){const _0x11bfa2=_0x2fb933['equals'](le['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x2fb933),_0x11bfa2?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](D['ZERO'],_0x2fb933,D['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x11bfa2&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(0x239*-0x1+0x841+-0x608),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x2b585d,_0x21edd8,_0x295075=ie['WHITE'],_0x115863=!(-0x197e+-0x20b*-0xb+0x305),_0x43a1b0=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x43a1b0,_0x115863)['addLines']([_0x2b585d,_0x21edd8],[_0x295075,_0x295075]);}['drawLines'](_0x32e88c,_0x3177c0,_0x5c44eb=!(-0xd*-0x1ea+0x1431*0x1+-0x2d13),_0xf5ad84=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0xf5ad84,_0x5c44eb)['addLines'](_0x32e88c,_0x3177c0);}['drawLineAr'+'rays'](_0x331f9f,_0x4016d6,_0x7d0434=!(-0x1168+0x592+0x3*0x3f2),_0x482c37=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x482c37,_0x7d0434)['addLinesAr'+'rays'](_0x331f9f,_0x4016d6);}['applySetti'+'ngs'](_0x46ba26){const _0x5c023c=_0x46ba26['physics'],_0x37ac85=_0x46ba26['render'];this['_gravity']['set'](_0x5c023c['gravity'][0x2*0xa66+-0x1b3f+0x7f*0xd],_0x5c023c['gravity'][-0x176b*0x1+0x1*-0x8d+0x17f9],_0x5c023c['gravity'][-0x601*0x1+-0x26a5+0x595*0x8]),this['ambientLig'+'ht']['set'](_0x37ac85['global_amb'+'ient'][0x1b86+0x5*-0x6e5+0x6f3],_0x37ac85['global_amb'+'ient'][-0xcdb*0x1+-0x203f*0x1+0x2d1b],_0x37ac85['global_amb'+'ient'][0x1d64+-0xe5*-0x1f+-0x391d]),this['ambientLum'+'inance']=_0x37ac85['ambientLum'+'inance'],this['fog']['type']=_0x37ac85['fog'],this['fog']['color']['set'](_0x37ac85['fog_color'][0x210d+0x1*0x1de1+0x219*-0x1e],_0x37ac85['fog_color'][0x1*0x25a9+0x506*-0x5+-0x282*0x5],_0x37ac85['fog_color'][-0x13e2+-0x1581+-0x1*-0x2965]),this['fog']['start']=_0x37ac85['fog_start'],this['fog']['end']=_0x37ac85['fog_end'],this['fog']['density']=_0x37ac85['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x37ac85['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x37ac85['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x37ac85['lightmapMo'+'de'],this['exposure']=_0x37ac85['exposure'],this['_skyboxInt'+'ensity']=_0x37ac85['skyboxInte'+'nsity']??-0x12b3+-0x16d4+-0x8*-0x531,this['_skyboxLum'+'inance']=_0x37ac85['skyboxLumi'+'nance']??-0x194f+0x90bd+-0x294e,this['_skyboxMip']=_0x37ac85['skyboxMip']??0x5ef*-0x2+-0x1*-0xb19+-0xc5*-0x1,_0x37ac85['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new le()['setFromEul'+'erAngles'](_0x37ac85['skyboxRota'+'tion'][-0xfac+0xab1+0xff*0x5],_0x37ac85['skyboxRota'+'tion'][-0x2c*0x45+-0x825+-0xa01*-0x2],_0x37ac85['skyboxRota'+'tion'][-0xee2+0x24e0+-0x86*0x2a])),this['sky']['applySetti'+'ngs'](_0x37ac85),this['clusteredL'+'ightingEna'+'bled']=_0x37ac85['clusteredL'+'ightingEna'+'bled']??!(0x1fd*0x7+-0x1aef+0x21*0x65),this['lighting']['applySetti'+'ngs'](_0x37ac85),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x571abb=>{_0x37ac85['hasOwnProp'+'erty'](_0x571abb)&&(this[_0x571abb]=_0x37ac85[_0x571abb]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x33eac9=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x33eac9[[-0x9ba+-0x657+0x1011,0x38f+-0x2a0+0x1*-0xee,0xa21*-0x3+0x792+0x16d4,0x267b*0x1+-0x1d46+-0x1*0x931,-0x4a3*0x3+-0xa30*-0x1+0x3be,0x2*-0xe31+0xeba+0xdae*0x1][this['_skyboxMip']]]||this['_envAtlas']||_0x33eac9[0x1e17+-0x115+0x4f*-0x5e]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x33eac9[0x17e5+0x3d7*0x7+-0x32c6]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x17fb+0x597*-0x6+0x1f*0x1db);}['setSkybox'](_0x51f585){_0x51f585?(this['skybox']=_0x51f585[0x224b+-0xe70+-0x13db]||null,_0x51f585[0x2*0x54a+-0x270e*0x1+-0x17*-0x13d]&&!_0x51f585[-0x858+0x2*0xd21+-0x11e9]['cubemap']?this['envAtlas']=_0x51f585[-0xd21+-0x1*-0xef+0xc33]:this['prefiltere'+'dCubemaps']=_0x51f585['slice'](0x6d*-0x13+-0x6e5+0xefd)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Ne;}}h(Et,'EVENT_SETL'+'AYERS','set:layers'),h(Et,'EVENT_SETS'+'KYBOX','set:skybox'),h(Et,'EVENT_PRER'+'ENDER','prerender'),h(Et,'EVENT_POST'+'RENDER','postrender'),h(Et,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),h(Et,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),h(Et,'EVENT_PREC'+'ULL','precull'),h(Et,'EVENT_POST'+'CULL','postcull');class Lv{constructor(_0x15dd39,_0x357b0f,_0x566b67){this['device']=_0x15dd39,this['inverseBin'+'dPose']=_0x357b0f,this['boneNames']=_0x566b67;}}const kA=[-0xf7*0x9+-0x1*0x16eb+0x1f9a,-0x1b29+-0x2174+0x3c9d,0x1370+0x1c7a+-0x2fe9,-0x17*0x143+0x2702+-0x9fd,0x1*0x1d0a+-0x1371+0x333*-0x3,0x870+-0x17*0x2a+0x4a9*-0x1,0x29*0xd+-0x139*-0x13+-0x9*0x2d0,0x1646+-0x7*-0x4c1+-0x378d,-0x215e+0x26c+0x1ef3,-0x10a0+-0x9*-0x27d+-0x5c5,0x3*-0xf2+0x5*-0x46c+-0x3e*-0x67,-0xc*-0x29+-0x18fb+0x1710],UA=[0x1aef+0x1e2f*-0x1+-0x8*-0x68,0x1bc3*0x1+0x2499+0x405b*-0x1,-0x42c*-0x1+0x15d8+0x3b7*-0x7,0x15d*-0x10+-0xd*0x243+0x3339,-0x3*0x521+0x1*0x1633+-0x6cd,-0x207b+-0xe77+-0x65*-0x77];class BA extends me{constructor(_0x1b5643,_0x54e7b6){super(),this['_device']=_0x1b5643,this['_pixelsPer'+'Unit']=_0x54e7b6&&_0x54e7b6['pixelsPerU'+'nit']!==void(0x1f7d*-0x1+0x1*0x1fc7+0x25*-0x2)?_0x54e7b6['pixelsPerU'+'nit']:0xe7*-0x5+0xdb*-0x11+0x11f*0x11,this['_renderMod'+'e']=_0x54e7b6&&_0x54e7b6['renderMode']!==void(-0xba4+0x18f5+-0xd51)?_0x54e7b6['renderMode']:ci,this['_atlas']=_0x54e7b6&&_0x54e7b6['atlas']!==void(-0x328*-0x5+-0x41+-0x52d*0x3)?_0x54e7b6['atlas']:null,this['_frameKeys']=_0x54e7b6&&_0x54e7b6['frameKeys']!==void(0x778+-0x13*-0x1b2+-0x27ae)?_0x54e7b6['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(0x1127*0x1+-0x511*-0x2+0x1b48*-0x1),this['_meshesDir'+'ty']=!(0x8*0x161+-0x4*-0x313+-0x1753),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x17745b){this['_frameKeys']=_0x17745b,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x2b*0x10+-0x1663+0x1*0x13b3):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x17745b);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x2414f8){_0x2414f8!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x2414f8,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1*-0x7e1+0x9*-0x425+0x1*0x1d6c):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x2414f8));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x57c7a3){this['_pixelsPer'+'Unit']!==_0x57c7a3&&(this['_pixelsPer'+'Unit']=_0x57c7a3,this['fire']('set:pixels'+'PerUnit',_0x57c7a3),this['_atlas']&&this['_frameKeys']&&this['renderMode']===ci&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x65*0x1+0x1*0xc62+0x1*-0xcc7):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x560dd1){if(this['_renderMod'+'e']===_0x560dd1)return;const _0x37340b=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x560dd1,this['fire']('set:render'+'Mode',_0x560dd1),(_0x37340b===ci||_0x560dd1===ci)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x13cf+-0x8*-0x2f+0x1257):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x270699=this['_meshes']['length'];for(let _0x36012c=-0x69*0x2f+0x8d*-0x23+-0xe*-0x2c1;_0x36012c<_0x270699;_0x36012c++){const _0x193a28=this['_meshes'][_0x36012c];_0x193a28&&_0x193a28['destroy']();}const _0x83a441=this['_frameKeys']['length'];this['_meshes']=new Array(_0x83a441);const _0x3783a9=this['renderMode']===Pt||this['_renderMod'+'e']===Mt?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x572495=-0x17af+0x810+0x81*0x1f;_0x572495<_0x83a441;_0x572495++){const _0x161889=this['_atlas']['frames'][this['_frameKeys'][_0x572495]];this['_meshes'][_0x572495]=_0x161889?_0x3783a9['call'](this,_0x161889):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x36a35b){const _0x3ff72f=_0x36a35b['rect'],_0x116b6b=this['_atlas']['texture']['width'],_0x465b14=this['_atlas']['texture']['height'],_0x32738d=_0x3ff72f['z']/this['_pixelsPer'+'Unit'],_0x9fbf08=_0x3ff72f['w']/this['_pixelsPer'+'Unit'],_0x347cb0=_0x36a35b['pivot']['x'],_0x265897=_0x36a35b['pivot']['y'],_0x40e7f8=[-_0x347cb0*_0x32738d,-_0x265897*_0x9fbf08,-0x44+-0x4a0+0x4e4,(-0x1f25+0x1*-0x12eb+0x3211*0x1-_0x347cb0)*_0x32738d,-_0x265897*_0x9fbf08,0x1a*0x170+-0xef0*-0x1+-0x3450,(0x1*0x16b3+-0xa*0x2b3+0x44c-_0x347cb0)*_0x32738d,(0x1*0x86e+0x2296+-0x2b03-_0x265897)*_0x9fbf08,0x10*0x7a+0x21cf+-0x296f,-_0x347cb0*_0x32738d,(0x5*0x31c+-0xba6+0x1*-0x3e5-_0x265897)*_0x9fbf08,0xa6+-0x1079*-0x1+-0x111f],_0x203783=_0x3ff72f['x']/_0x116b6b,_0x1c0d83=-0x109b+-0x1f58+0x2ff4-_0x3ff72f['y']/_0x465b14,_0x4a73f7=(_0x3ff72f['x']+_0x3ff72f['z'])/_0x116b6b,_0x102a07=-0x12*-0x14c+0xeec+-0x5*0x7a7-(_0x3ff72f['y']+_0x3ff72f['w'])/_0x465b14,_0x34e66d=[_0x203783,_0x1c0d83,_0x4a73f7,_0x1c0d83,_0x4a73f7,_0x102a07,_0x203783,_0x102a07],_0x1f7c50=new Ta();return _0x1f7c50['positions']=_0x40e7f8,_0x1f7c50['normals']=kA,_0x1f7c50['uvs']=_0x34e66d,_0x1f7c50['indices']=UA,Ge['fromGeomet'+'ry'](this['_device'],_0x1f7c50);}['_create9Sl'+'iceMesh'](){const _0x33df48=J['ONE'],_0x912442=-0x1ea4+-0x169f+0x6*0x8e1,_0x4c05c2=0x2557+-0xf70+-0x6*0x3a6,_0x110d33=[],_0x5488a0=[],_0x1333df=[],_0x92da3b=[];let _0x1fceff=0xe19+0x1*0x2443+0x325c*-0x1;for(let _0x34668e=-0x19ae+-0x7*-0x464+-0x2*0x287;_0x34668e<=_0x912442;_0x34668e++){const _0xdfc5ee=_0x34668e===-0x1893+0x6cd+-0xaf*-0x1a||_0x34668e===_0x912442?-0x2f3*-0x3+0x1*0x217d+-0x2*0x152b:0x2361+-0x1*-0x2447+-0x583*0xd;for(let _0x24b453=-0x2a9*-0x6+0xd*-0x1dd+0xf*0x8d;_0x24b453<=_0x4c05c2;_0x24b453++){const _0x221aa2=-_0x33df48['x']+(-0x1191+-0x1*0x729+0x2*0xc5e)*_0x33df48['x']*(_0x34668e<=0x4ec+0xf30+-0x141b?0x15*-0x1d2+0x1*0x2273+0x3c7:-0x20c2+-0x394*-0x1+0x1d31)/_0x912442,_0x4a6718=-0x13cf+0x32e*0xc+-0x1259,_0x30c3b7=-(-_0x33df48['y']+(0x20c4+0x2*-0x209+-0x1cb0)*_0x33df48['y']*(_0x24b453<=0x7*-0x1cd+-0x13*-0x10+0xb6c?-0x5fa+-0x3*-0xa7+0x405:-0x21ba+0x47*0x56+-0x9e3*-0x1)/_0x4c05c2),_0x417d37=_0x24b453===0x11e1*0x2+0x266*0xc+-0x408a||_0x24b453===_0x4c05c2?-0x32*0x71+0x1*0x19cb+-0x3b9:0x4b4+-0x2113+0x1c60;_0x110d33['push'](-_0x221aa2,_0x4a6718,_0x30c3b7),_0x5488a0['push'](0x16cb+-0x6*0x2ef+-0x1*0x531,0x1f8*0x9+0xe5*-0x29+0x12f6,0x1f04+-0x72a+-0x17da),_0x1333df['push'](_0xdfc5ee,_0x417d37),_0x34668e<_0x912442&&_0x24b453<_0x4c05c2&&(_0x92da3b['push'](_0x1fceff+_0x4c05c2+(-0x1af8+-0x1*-0x1027+0xad2),_0x1fceff+(0xa04+0x1c4c+0x264f*-0x1),_0x1fceff),_0x92da3b['push'](_0x1fceff+_0x4c05c2+(0x26a0+0x206c+-0x470b),_0x1fceff+_0x4c05c2+(-0x1*0x210e+0x5*-0x621+0x3fb5),_0x1fceff+(0xb3*-0x13+-0x3b0+0x10fa))),_0x1fceff++;}}const _0x933f3c=new Ta();return _0x933f3c['positions']=_0x110d33,_0x933f3c['normals']=_0x5488a0,_0x933f3c['uvs']=_0x1333df,_0x933f3c['indices']=_0x92da3b,Ge['fromGeomet'+'ry'](this['_device'],_0x933f3c);}['_onSetFram'+'es'](_0x3b69fc){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x3ca+-0x2*-0x83b+-0xcac):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x5d84ff,_0x4d4678){const _0x1b0391=this['_frameKeys']['indexOf'](_0x5d84ff);_0x1b0391<-0x427*0x2+0xd*0xad+-0x7b||(_0x4d4678?this['renderMode']===ci&&(this['_meshes'][_0x1b0391]=this['_createSim'+'pleMesh'](_0x4d4678)):this['_meshes'][_0x1b0391]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x218b99){const _0x37cd73=this['_frameKeys']['indexOf'](_0x218b99);_0x37cd73<0x5*-0x7c2+-0x1d*-0xa+0x4b5*0x8||(this['_meshes'][_0x37cd73]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(-0x1060+-0x2581+0x35e1),this['_meshesDir'+'ty']=!(-0x204e+-0x15*-0xbb+0x10f8);}['endUpdate'](){this['_updatingP'+'roperties']=!(-0x743*-0x5+-0xa1+-0x23ad*0x1),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0xc46+0xe46+-0x1a8b);}['destroy'](){for(const _0x5ce735 of this['_meshes'])_0x5ce735&&_0x5ce735['destroy']();this['_meshes']['length']=-0x2498+-0x2*0x11d4+0x2*0x2420;}}class zA extends me{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x300511){this['_texture']=_0x300511,this['fire']('set:textur'+'e',_0x300511);}get['texture'](){return this['_texture'];}set['frames'](_0x169a9c){this['_frames']=_0x169a9c,this['fire']('set:frames',_0x169a9c);}get['frames'](){return this['_frames'];}['setFrame'](_0x38cc84,_0x11ff97){let _0x31582d=this['_frames'][_0x38cc84];_0x31582d?(_0x31582d['rect']['copy'](_0x11ff97['rect']),_0x31582d['pivot']['copy'](_0x11ff97['pivot']),_0x31582d['border']['copy'](_0x11ff97['border'])):(_0x31582d={'rect':_0x11ff97['rect']['clone'](),'pivot':_0x11ff97['pivot']['clone'](),'border':_0x11ff97['border']['clone']()},this['_frames'][_0x38cc84]=_0x31582d),this['fire']('set:frame',_0x38cc84['toString'](),_0x31582d);}['removeFram'+'e'](_0x1c1d43){const _0x71c58b=this['_frames'][_0x1c1d43];_0x71c58b&&(delete this['_frames'][_0x1c1d43],this['fire']('remove:fra'+'me',_0x1c1d43['toString'](),_0x71c58b));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class dg{constructor(_0x5587e3,_0x4b9e6c,_0x773073,_0x3b48dd){this['time']=_0x5587e3,this['position']=_0x4b9e6c,this['rotation']=_0x773073,this['scale']=_0x3b48dd;}}class fg{constructor(){this['_name']='',this['_keys']=[];}}class ug{constructor(){h(this,'name',''),h(this,'duration',-0xc75+-0x26e2+0x3357),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x2142d1){return this['_nodeDict'][_0x2142d1];}['addNode'](_0x25c7a7){this['_nodes']['push'](_0x25c7a7),this['_nodeDict'][_0x25c7a7['_name']]=_0x25c7a7;}get['nodes'](){return this['_nodes'];}}class VA{constructor(){this['_written']=!(-0x6b*0x2e+0x51f*-0x6+0x31f5),this['_name']='',this['_keyFrames']=[],this['_quat']=new le(),this['_pos']=new D(),this['_scale']=new D(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x29d0b0){this['_targetNod'+'e']=_0x29d0b0;}}class Sf{constructor(_0xbec0ac){h(this,'looping',!(0x61d*-0x1+0x161*0x1+0x4bc)),(this['_animation']=null,this['_time']=0xf29+-0x25*-0xe8+-0x30b1,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x214e15=_0x1ced5d=>{const _0x2d6ceb=new VA();_0x2d6ceb['_name']=_0x1ced5d['name'],this['_interpola'+'tedKeys']['push'](_0x2d6ceb),this['_interpola'+'tedKeyDict'][_0x1ced5d['name']]=_0x2d6ceb,this['_currKeyIn'+'dices'][_0x1ced5d['name']]=-0xcc5+0xad0+0xa7*0x3;for(let _0x28eee7=0xa4+0xb41*-0x1+0xa9d;_0x28eee7<_0x1ced5d['_children']['length'];_0x28eee7++)_0x214e15(_0x1ced5d['_children'][_0x28eee7]);};_0x214e15(_0xbec0ac);}set['animation'](_0x13e6d5){this['_animation']=_0x13e6d5,this['currentTim'+'e']=-0x21ea+0x23da+-0x1f0;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x4b7368){this['_time']=_0x4b7368;const _0x35e4c1=this['_interpola'+'tedKeys']['length'];for(let _0x43aac9=-0x1756+-0x13c6*0x1+0x2b1c;_0x43aac9<_0x35e4c1;_0x43aac9++){const _0x4f0ad3=this['_interpola'+'tedKeys'][_0x43aac9]['_name'];this['_currKeyIn'+'dices'][_0x4f0ad3]=-0x2*-0x12ec+0x2*-0x132b+-0x7e*-0x1;}this['addTime'](-0xe20*-0x2+0x1b9e+-0x37de),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x4170cf){if(this['_animation']!==null){const _0x30640a=this['_animation']['_nodes'],_0x455e3e=this['_animation']['duration'];if(this['_time']===_0x455e3e&&!this['looping'])return;if(this['_time']+=_0x4170cf,this['_time']>_0x455e3e){this['_time']=this['looping']?0x100+-0x116b+0x106b:_0x455e3e;for(let _0x361d61=-0x1*-0x1ab2+-0x134f+-0x763;_0x361d61<_0x30640a['length'];_0x361d61++){const _0x4df4de=_0x30640a[_0x361d61]['_name'];this['_currKeyIn'+'dices'][_0x4df4de]=-0x5ff*0x5+-0x1115+0x2*0x1788;}}else{if(this['_time']<0x6*0x25f+-0x2*-0xf09+-0x2c4c){this['_time']=this['looping']?_0x455e3e:-0xda2+-0x129*-0x1f+-0x1655;for(let _0x4261ed=0x1c20+0x16f4+-0xcc5*0x4;_0x4261ed<_0x30640a['length'];_0x4261ed++){const _0x328a9f=_0x30640a[_0x4261ed],_0x2c2bd1=_0x328a9f['_name'];this['_currKeyIn'+'dices'][_0x2c2bd1]=_0x328a9f['_keys']['length']-(-0x13ed*0x1+-0x1081+0x2470);}}}const _0x119b08=_0x4170cf>=-0x4*-0x19c+-0x1606+0x7*0x23a?-0x1b1*0xc+0x21f9+-0xdac:-(-0x9b6+-0x7*0x4b1+0x2a8e);for(let _0x49519d=0x649*0x1+0xea2+-0x14eb;_0x49519d<_0x30640a['length'];_0x49519d++){const _0x3b24fc=_0x30640a[_0x49519d],_0x44a5d0=_0x3b24fc['_name'],_0x17b163=_0x3b24fc['_keys'],_0x2e1cc3=this['_interpola'+'tedKeyDict'][_0x44a5d0];if(_0x2e1cc3===void(-0x1e4b+-0x12be*-0x2+-0x1*0x731)){w['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x44a5d0);continue;}let _0x52630a=!(-0x1c7e+0x48c*0x2+0x1*0x1367);if(_0x17b163['length']!==0x59*-0x5c+0x2407+-0x40a)for(let _0x428500=this['_currKeyIn'+'dices'][_0x44a5d0];_0x428500<_0x17b163['length']-(0x1d1*0x13+-0x1*-0x156a+-0x37ec)&&_0x428500>=0xc2d+0x25ab*-0x1+0x197e;_0x428500+=_0x119b08){const _0x572cb1=_0x17b163[_0x428500],_0x205693=_0x17b163[_0x428500+(0x5a7+0xb1*0xa+-0xc90)];if(_0x572cb1['time']<=this['_time']&&_0x205693['time']>=this['_time']){const _0x1b54e3=(this['_time']-_0x572cb1['time'])/(_0x205693['time']-_0x572cb1['time']);_0x2e1cc3['_pos']['lerp'](_0x572cb1['position'],_0x205693['position'],_0x1b54e3),_0x2e1cc3['_quat']['slerp'](_0x572cb1['rotation'],_0x205693['rotation'],_0x1b54e3),_0x2e1cc3['_scale']['lerp'](_0x572cb1['scale'],_0x205693['scale'],_0x1b54e3),_0x2e1cc3['_written']=!(-0x1a*0x17b+0x65*-0xd+-0xd*-0x35b),this['_currKeyIn'+'dices'][_0x44a5d0]=_0x428500,_0x52630a=!(0x24e6+0xc*-0xab+-0x2*0xe71);break;}}(_0x17b163['length']===0xada+0x25ab*0x1+0x2d*-0x114||!_0x52630a&&this['_time']===0x146b*0x1+0x120d+-0x2678&&this['looping'])&&(_0x2e1cc3['_pos']['copy'](_0x17b163[0x265c+0x293*0xd+-0x2a9*0x1b]['position']),_0x2e1cc3['_quat']['copy'](_0x17b163[0x581*-0x5+0x1277*0x1+0x13*0x7a]['rotation']),_0x2e1cc3['_scale']['copy'](_0x17b163[0xc9d*0x1+-0x9*0xe5+-0x490]['scale']),_0x2e1cc3['_written']=!(0x1a77+0x1c0a+-0x3681));}}}['blend'](_0xfc8ed6,_0x134033,_0x56e6d1){const _0x55355c=this['_interpola'+'tedKeys']['length'];for(let _0x5832ba=0x26f8+-0x1ef7+-0x801;_0x5832ba<_0x55355c;_0x5832ba++){const _0x1c2db9=_0xfc8ed6['_interpola'+'tedKeys'][_0x5832ba],_0x3b19c3=_0x134033['_interpola'+'tedKeys'][_0x5832ba],_0xe43d59=this['_interpola'+'tedKeys'][_0x5832ba];_0x1c2db9['_written']&&_0x3b19c3['_written']?(_0xe43d59['_quat']['slerp'](_0x1c2db9['_quat'],_0x134033['_interpola'+'tedKeys'][_0x5832ba]['_quat'],_0x56e6d1),_0xe43d59['_pos']['lerp'](_0x1c2db9['_pos'],_0x134033['_interpola'+'tedKeys'][_0x5832ba]['_pos'],_0x56e6d1),_0xe43d59['_scale']['lerp'](_0x1c2db9['_scale'],_0x3b19c3['_scale'],_0x56e6d1),_0xe43d59['_written']=!(0x2466+0xfb6*0x1+-0x73*0x74)):_0x1c2db9['_written']?(_0xe43d59['_quat']['copy'](_0x1c2db9['_quat']),_0xe43d59['_pos']['copy'](_0x1c2db9['_pos']),_0xe43d59['_scale']['copy'](_0x1c2db9['_scale']),_0xe43d59['_written']=!(0x982+-0x11*-0x1d+-0xb6f)):_0x3b19c3['_written']&&(_0xe43d59['_quat']['copy'](_0x3b19c3['_quat']),_0xe43d59['_pos']['copy'](_0x3b19c3['_pos']),_0xe43d59['_scale']['copy'](_0x3b19c3['_scale']),_0xe43d59['_written']=!(-0x63a*-0x3+-0x1146+-0x5*0x48));}}['setGraph'](_0xf02a6d){if(this['graph']=_0xf02a6d,_0xf02a6d)for(let _0x51ea76=-0x1*-0xded+-0x8ac+0x541*-0x1;_0x51ea76<this['_interpola'+'tedKeys']['length'];_0x51ea76++){const _0x4edcf0=this['_interpola'+'tedKeys'][_0x51ea76],_0x10a250=_0xf02a6d['findByName'](_0x4edcf0['_name']);this['_interpola'+'tedKeys'][_0x51ea76]['setTarget'](_0x10a250);}else{for(let _0x5416fa=0x427*-0x1+-0x1b3c+0x1f63;_0x5416fa<this['_interpola'+'tedKeys']['length'];_0x5416fa++)this['_interpola'+'tedKeys'][_0x5416fa]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x424d3c=-0x1a30+0x1*0xbed+0xe43;_0x424d3c<this['_interpola'+'tedKeys']['length'];_0x424d3c++){const _0xe93fa9=this['_interpola'+'tedKeys'][_0x424d3c];if(_0xe93fa9['_written']){const _0x334e70=_0xe93fa9['getTarget']();_0x334e70['localPosit'+'ion']['copy'](_0xe93fa9['_pos']),_0x334e70['localRotat'+'ion']['copy'](_0xe93fa9['_quat']),_0x334e70['localScale']['copy'](_0xe93fa9['_scale']),_0x334e70['_dirtyLoca'+'l']||_0x334e70['_dirtifyLo'+'cal'](),_0xe93fa9['_written']=!(-0x2bc*0x9+-0x3c2*-0x4+0x995);}}}}const zs=(-0xd*-0x1d+0x1ccb+-0x1e40)/(-0x1*-0xc56+0x106b+-0x1*0x1c81),si=0x2b6*-0xa+-0x375+0x1e92-zs*(0x30d+-0x23b8+0x20ad);class gm extends Ta{constructor(_0x8c14f3,_0x4b42a1,_0x774531,_0x4615a0,_0x495d1a,_0x2480e4){super();const _0x4c893d=new D(),_0x380584=new D(),_0x5a1b1c=new D(),_0xa41e3a=new D(),_0x1bcfa1=new D(),_0x51c11e=new D(),_0x4dfc3a=[],_0x2620c8=[],_0x44b05d=[],_0x3c1756=[],_0x4f115d=[];let _0x3871f4;if(_0x774531>-0x1a28+0x1*0x2352+-0x17*0x66){for(let _0x46ccd3=-0x173f+0xf8e+0x7b1;_0x46ccd3<=_0x4615a0;_0x46ccd3++)for(let _0x3b43e0=0x150b+0x17cd+0xe*-0x334;_0x3b43e0<=_0x495d1a;_0x3b43e0++){const _0x1ab162=_0x3b43e0/_0x495d1a*(-0xf3+-0x18f4*0x1+-0xb*-0x25b)*Math['PI']-Math['PI'],_0x1c957c=Math['sin'](_0x1ab162),_0x8e75fd=Math['cos'](_0x1ab162);_0x1bcfa1['set'](_0x1c957c*_0x8c14f3,-_0x774531/(-0x1e23+-0x58a*0x1+0x23af),_0x8e75fd*_0x8c14f3),_0xa41e3a['set'](_0x1c957c*_0x4b42a1,_0x774531/(0x4f5+0xb5b+-0x104e),_0x8e75fd*_0x4b42a1),_0x4c893d['lerp'](_0x1bcfa1,_0xa41e3a,_0x46ccd3/_0x4615a0),_0x380584['sub2'](_0xa41e3a,_0x1bcfa1)['normalize'](),_0x51c11e['set'](_0x8e75fd,-0xae8*-0x1+0x1221+-0x1d09,-_0x1c957c),_0x5a1b1c['cross'](_0x51c11e,_0x380584)['normalize'](),_0x4dfc3a['push'](_0x4c893d['x'],_0x4c893d['y'],_0x4c893d['z']),_0x2620c8['push'](_0x5a1b1c['x'],_0x5a1b1c['y'],_0x5a1b1c['z']);let _0x5f3660=_0x3b43e0/_0x495d1a,_0x457757=_0x46ccd3/_0x4615a0;_0x44b05d['push'](_0x5f3660,-0x18ec+-0x5*-0x33b+0x8c6-_0x457757);const _0x13ba38=_0x457757;if(_0x457757=_0x5f3660,_0x5f3660=_0x13ba38,_0x5f3660=_0x5f3660*si+zs,_0x457757=_0x457757*si+zs,_0x5f3660/=-0x139d*-0x1+-0x1609+-0x26f*-0x1,_0x3c1756['push'](_0x5f3660,-0x205f*0x1+-0x3e9*-0x7+-0xb7*-0x7-_0x457757),_0x46ccd3<_0x4615a0&&_0x3b43e0<_0x495d1a){const _0x2d025a=_0x46ccd3*(_0x495d1a+(0x1*0x1c4b+-0x1e7c*-0x1+-0x3ac6))+_0x3b43e0,_0x17b859=_0x46ccd3*(_0x495d1a+(0x3cd*0x7+-0x1ee0+-0x223*-0x2))+(_0x3b43e0+(-0x24b7+-0xbf1+-0x1*-0x30a9)),_0x1673a2=(_0x46ccd3+(0x8*0x2d9+0x2547+-0x1e07*0x2))*(_0x495d1a+(-0x1304*-0x1+-0xa*-0x34a+-0x114d*0x3))+_0x3b43e0,_0x112712=(_0x46ccd3+(0x1*0x1c8c+0x1bdd+-0x3868))*(_0x495d1a+(-0x200f+-0x1e*0x113+-0x4f2*-0xd))+(_0x3b43e0+(-0x22c3+-0x1*-0x24da+-0xb2*0x3));_0x4f115d['push'](_0x2d025a,_0x17b859,_0x1673a2),_0x4f115d['push'](_0x17b859,_0x112712,_0x1673a2);}}}if(_0x2480e4){const _0x38be23=Math['floor'](_0x495d1a/(-0x2b2+0x49a+-0x1e6)),_0x56048f=_0x495d1a,_0x265ab=_0x774531/(0x5b3*0x1+0x22e1+-0x2892);for(let _0x2811fc=-0x1d*0x135+-0x1428+0x3729;_0x2811fc<=_0x38be23;_0x2811fc++){const _0x52f332=_0x2811fc*Math['PI']*(-0x1*0xe84+-0x1497+0x231b+0.5)/_0x38be23,_0x3eeed6=Math['sin'](_0x52f332),_0x1039e0=Math['cos'](_0x52f332);for(let _0x138c76=-0x949*-0x1+-0x583+0x8a*-0x7;_0x138c76<=_0x56048f;_0x138c76++){const _0x57ff31=_0x138c76*(-0x12*-0x1e8+0x1953+-0x2b*0x163)*Math['PI']/_0x56048f-Math['PI']/(-0xc*0x257+-0x218d+-0x3da3*-0x1),_0x4a0350=Math['sin'](_0x57ff31),_0x473295=Math['cos'](_0x57ff31)*_0x3eeed6,_0x1f95b0=_0x1039e0,_0x1bda27=_0x4a0350*_0x3eeed6;let _0x932671=0x498+0xe2+-0x579-_0x138c76/_0x56048f,_0x4aa67b=0x1*-0x1a77+-0x26cf+0x11*0x3d7-_0x2811fc/_0x38be23;_0x4dfc3a['push'](_0x473295*_0x4b42a1,_0x1f95b0*_0x4b42a1+_0x265ab,_0x1bda27*_0x4b42a1),_0x2620c8['push'](_0x473295,_0x1f95b0,_0x1bda27),_0x44b05d['push'](_0x932671,0xa81*-0x1+0x1e97+-0x1415-_0x4aa67b),_0x932671=_0x932671*si+zs,_0x4aa67b=_0x4aa67b*si+zs,_0x932671/=-0x1cf*0x8+-0x1d2c+-0xe8d*-0x3,_0x4aa67b/=0x22d*-0x7+-0x5*-0x28f+0x273,_0x932671+=(0x1862+-0x84*0x3d+0x713)/(0x1*0xef+-0x4*0xbf+0x210),_0x3c1756['push'](_0x932671,-0xbe3+-0x1038+0x1c1c-_0x4aa67b);}}_0x3871f4=(_0x4615a0+(-0x2b*-0xe3+0xf68+-0x3*0x11d8))*(_0x495d1a+(-0x414+-0x3db+-0x7f*-0x10));for(let _0x294b79=0x65e+-0x1*0x1b6b+0x150d;_0x294b79<_0x38be23;++_0x294b79)for(let _0xa95d72=-0x1*-0x2171+0x1525+0x2*-0x1b4b;_0xa95d72<_0x56048f;++_0xa95d72){const _0x4e8d51=_0x294b79*(_0x56048f+(-0x1*-0x8ef+-0x17*0x49+-0x25f))+_0xa95d72,_0x3b3ed4=_0x4e8d51+_0x56048f+(-0x45c+0x354*0x8+-0x8b*0x29);_0x4f115d['push'](_0x3871f4+_0x4e8d51+(-0x1eed+-0x1e4f+0x101*0x3d),_0x3871f4+_0x3b3ed4,_0x3871f4+_0x4e8d51),_0x4f115d['push'](_0x3871f4+_0x4e8d51+(0x4*0x756+0x1adb+-0x1c19*0x2),_0x3871f4+_0x3b3ed4+(0x55*0x5f+0xce*-0x22+-0x42e),_0x3871f4+_0x3b3ed4);}for(let _0x3d5116=-0x1*-0x1e49+-0x2366+0x51d;_0x3d5116<=_0x38be23;_0x3d5116++){const _0x201048=Math['PI']*(-0x3*-0x32+0xd*-0x8b+0x679+0.5)+_0x3d5116*Math['PI']*(0x3c4+0x4ab*0x7+0x1*-0x2471+0.5)/_0x38be23,_0x285027=Math['sin'](_0x201048),_0xaa91ae=Math['cos'](_0x201048);for(let _0x32dd42=-0x2261*0x1+-0x1*0x1daa+0x400b;_0x32dd42<=_0x56048f;_0x32dd42++){const _0x1756e8=_0x32dd42*(0x266b+-0x3*-0x5d9+-0x37f4)*Math['PI']/_0x56048f-Math['PI']/(0x5a6+0x1995+0x1*-0x1f39),_0x4ce3e4=Math['sin'](_0x1756e8),_0x4a8acf=Math['cos'](_0x1756e8)*_0x285027,_0x20def4=_0xaa91ae,_0x457b85=_0x4ce3e4*_0x285027;let _0x22f3bb=-0x49d*-0x6+0x13ae*-0x1+-0x59*0x17-_0x32dd42/_0x56048f,_0x13a43d=-0x12*-0x14b+0x1b75+-0x97*0x56-_0x3d5116/_0x38be23;_0x4dfc3a['push'](_0x4a8acf*_0x4b42a1,_0x20def4*_0x4b42a1-_0x265ab,_0x457b85*_0x4b42a1),_0x2620c8['push'](_0x4a8acf,_0x20def4,_0x457b85),_0x44b05d['push'](_0x22f3bb,0x12db+-0x1*0x2462+0x1188-_0x13a43d),_0x22f3bb=_0x22f3bb*si+zs,_0x13a43d=_0x13a43d*si+zs,_0x22f3bb/=0x17bb+0x68c+-0x1e44,_0x13a43d/=-0x22a0+0x2498+-0x1f5,_0x22f3bb+=(0xa3c+0xd*-0x45+-0x6b9)/(0x26d3+-0x7ab*0x2+-0x177a*0x1),_0x3c1756['push'](_0x22f3bb,-0x18a9+0x664*0x6+-0xdae-_0x13a43d);}}_0x3871f4=(_0x4615a0+(-0x1bb7+-0x1*-0x10db+0xadd))*(_0x495d1a+(0x1092+0xbf6+-0x1c87))+(_0x56048f+(0x109*0x1+0x1a0c+-0x1b14))*(_0x38be23+(0x10*-0x1e7+-0x16e5*-0x1+-0x1c*-0x45));for(let _0x37b291=-0xd32+-0x1875+0x1cb*0x15;_0x37b291<_0x38be23;++_0x37b291)for(let _0x2fa72a=0x959+-0x726*-0x2+-0x1*0x17a5;_0x2fa72a<_0x56048f;++_0x2fa72a){const _0x497355=_0x37b291*(_0x56048f+(-0x7*0x65+-0x2496+0xdb*0x2e))+_0x2fa72a,_0x30461c=_0x497355+_0x56048f+(-0x99a+0x1e6f+-0x14d4);_0x4f115d['push'](_0x3871f4+_0x497355+(0x248c+-0x4*0x232+-0x17*0x135),_0x3871f4+_0x30461c,_0x3871f4+_0x497355),_0x4f115d['push'](_0x3871f4+_0x497355+(-0x1*0xad9+0x1*-0x1fb7+-0x281*-0x11),_0x3871f4+_0x30461c+(-0x204f+-0x7*0x4f+0x2279),_0x3871f4+_0x30461c);}}else{if(_0x3871f4=(_0x4615a0+(0x18*0x6+-0x4*0x445+-0x1085*-0x1))*(_0x495d1a+(0x1d51+-0x2082+0x332)),_0x8c14f3>-0x1755+0x7b*0x27+0x498)for(let _0x52cb39=-0x1918+0x1eb0+-0x598;_0x52cb39<_0x495d1a;_0x52cb39++){const _0x563c80=_0x52cb39/_0x495d1a*(0x96e*0x2+-0xce3+-0x5f7)*Math['PI'],_0x3f5c1e=Math['sin'](_0x563c80),_0x3e4ec5=-_0x774531/(0x9f8+-0x993*0x3+0x3*0x641),_0x272f00=Math['cos'](_0x563c80);let _0x4f03c7=0x146f+0x1c6b+-0x29*0x131-(_0x3f5c1e+(-0x4*-0x1+0x1d8f+-0x1d92))/(-0x11*-0x17b+0x243d+-0x3d66),_0x151612=(_0x272f00+(-0xaa8+-0x21d2+0x2c7b))/(-0x12*0x1ed+0x1f0b+0x3a1*0x1);_0x4dfc3a['push'](_0x3f5c1e*_0x8c14f3,_0x3e4ec5,_0x272f00*_0x8c14f3),_0x2620c8['push'](0x1245+0x75d+-0x1*0x19a2,-(0x7*0x7a+-0x2da*0x1+-0x1*0x7b),0x136c+0x3a*0x4+0x2*-0xa2a),_0x44b05d['push'](_0x4f03c7,0xf72+0x15*0xc9+-0x86*0x3d-_0x151612),_0x4f03c7=_0x4f03c7*si+zs,_0x151612=_0x151612*si+zs,_0x4f03c7/=0x18ac+0x32b*-0x2+-0x1253,_0x151612/=-0x6f6+0x1f2a+-0x1831,_0x4f03c7+=(-0x9a4*-0x1+-0x2643+0x10*0x1ca)/(-0x7c*-0x1f+-0xd39+0x1*-0x1c8),_0x3c1756['push'](_0x4f03c7,0x1*0x2277+0x385*-0x5+-0x10dd-_0x151612),_0x52cb39>-0x20cb+0xf20*0x1+0x5e4*0x3&&_0x4f115d['push'](_0x3871f4,_0x3871f4+_0x52cb39,_0x3871f4+_0x52cb39-(-0x1*0x26d2+-0x1*-0x995+0x1d3e*0x1));}if(_0x3871f4+=_0x495d1a,_0x4b42a1>-0x32*-0xb5+0x7*0x399+-0x3c89)for(let _0x56c9ed=-0x39d*0x3+-0x199+0xc70;_0x56c9ed<_0x495d1a;_0x56c9ed++){const _0x3768bd=_0x56c9ed/_0x495d1a*(0x1*-0x200f+-0x14e+-0x215f*-0x1)*Math['PI'],_0x2d0907=Math['sin'](_0x3768bd),_0x3f6a42=_0x774531/(-0x31c*0x1+-0x2080+-0x11cf*-0x2),_0x7bbb6b=Math['cos'](_0x3768bd);let _0x35c315=0x124f+0x5*0x26b+0x1*-0x1e65-(_0x2d0907+(0x515*0x4+0x1e82+-0x32d5))/(-0x1f*-0xb+0x8*-0x101+-0x1*-0x6b5),_0x39645d=(_0x7bbb6b+(-0x207*0x1+-0x1240+-0x1*-0x1448))/(-0x5*0x69b+-0x2e4+0x23ed);_0x4dfc3a['push'](_0x2d0907*_0x4b42a1,_0x3f6a42,_0x7bbb6b*_0x4b42a1),_0x2620c8['push'](-0x42*-0x2e+-0x11b6+-0x2ed*-0x2,0x22a5+0x23a5+-0x4649,0x1b4d+0x125e+0x513*-0x9),_0x44b05d['push'](_0x35c315,-0x1ec+0x1d*-0x29+0x692-_0x39645d),_0x35c315=_0x35c315*si+zs,_0x39645d=_0x39645d*si+zs,_0x35c315/=-0x1de*-0x3+0xa*0x275+0x1e29*-0x1,_0x39645d/=-0x2203+0x2ba*0xb+0x408,_0x35c315+=(0x1929+0x161c+0x6d*-0x6f)/(-0x1a3*-0x11+-0x1a9c+-0x134),_0x3c1756['push'](_0x35c315,-0x5*-0x795+-0x9*-0x3dc+0x1*-0x48a4-_0x39645d),_0x56c9ed>-0x3*-0x239+0x145c+-0x1b06&&_0x4f115d['push'](_0x3871f4,_0x3871f4+_0x56c9ed-(0x1*0x201d+0xb15+0x1*-0x2b31),_0x3871f4+_0x56c9ed);}}this['positions']=_0x4dfc3a,this['normals']=_0x2620c8,this['uvs']=_0x44b05d,this['uvs1']=_0x3c1756,this['indices']=_0x4f115d;}}class GA extends gm{constructor(_0x31cc9b={}){const _0x40850b=_0x31cc9b['radius']??0xb3*-0xb+0x10d3+0x922*-0x1+0.3,_0x16ee43=_0x31cc9b['height']??-0x4*0x48b+-0x1*0xf7f+-0x2*-0x10d6,_0x327574=_0x31cc9b['heightSegm'+'ents']??0xf*-0x94+-0x1a64+0x2311*0x1,_0x40528e=_0x31cc9b['sides']??-0x1e61+0xe1d+-0x8*-0x20b;super(_0x40850b,_0x40850b,_0x16ee43-(0x24ae+0x2374+-0x2*0x2410)*_0x40850b,_0x327574,_0x40528e,!(0x6d*-0x7+-0x3b*0x81+0x20b6)),_0x31cc9b['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class HA extends gm{constructor(_0x12ecb6={}){const _0x1e4224=_0x12ecb6['baseRadius']??-0x2*0xe83+0x2279+-0x3*0x1d1+0.5,_0x57297b=_0x12ecb6['peakRadius']??-0x1*-0x98a+-0x5d1+0x3b9*-0x1,_0x321a8f=_0x12ecb6['height']??0x5*0x309+-0x2*-0x9b9+-0x229e,_0x277873=_0x12ecb6['heightSegm'+'ents']??0x8d4*-0x1+-0x3*0x358+0x12e1,_0x298fd2=_0x12ecb6['capSegment'+'s']??-0xe*0x1ec+0x1a2+0x1958;super(_0x1e4224,_0x57297b,_0x321a8f,_0x277873,_0x298fd2,!(0x4d5*0x7+-0x404+-0x1dce)),_0x12ecb6['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class WA extends gm{constructor(_0x7150ba={}){const _0x434b30=_0x7150ba['radius']??0x1*0x199+-0x1f*-0xc2+-0x1917+0.5,_0x46c069=_0x7150ba['height']??0x5c2+-0x12e0+-0x1*-0xd1f,_0x521b50=_0x7150ba['heightSegm'+'ents']??0xa27*-0x3+-0x1*-0x1412+-0x3*-0x378,_0x5662f1=_0x7150ba['capSegment'+'s']??0x85e+-0x22e*-0xd+-0x24a0;super(_0x434b30,_0x434b30,_0x46c069,_0x521b50,_0x5662f1,!(-0x1*-0x20b6+-0xe49+-0x126c)),_0x7150ba['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class $A extends Ta{constructor(_0xa9b4bb={}){super();const _0x1fd0cf=_0xa9b4bb['halfExtent'+'s']??new J(0x266f+-0x927+-0x1d48+0.5,-0x1ed0+0x75b+0x4b1*0x5+0.5),_0x43ad57=_0xa9b4bb['widthSegme'+'nts']??-0x16e5+0xbf*0x2e+0x2da*-0x4,_0x28645c=_0xa9b4bb['lengthSegm'+'ents']??0x1*0x736+0x8df+-0x1010,_0x2eb485=[],_0x54e04a=[],_0x538842=[],_0x5c85d0=[];let _0x147db3=-0x9*-0x3d1+0x2451+-0xc9*0x5a;for(let _0x3c76e2=0x1*-0x2299+-0x1*0x16d3+0x396c;_0x3c76e2<=_0x43ad57;_0x3c76e2++)for(let _0x4f1375=0x1b2c+-0x14ab+0x681*-0x1;_0x4f1375<=_0x28645c;_0x4f1375++){const _0x5632b3=-_0x1fd0cf['x']+(-0x1d5c+0x83*0x27+0x969)*_0x1fd0cf['x']*_0x3c76e2/_0x43ad57,_0x47c11b=-0x14bd+0x61*-0x29+-0x1223*-0x2,_0x569161=-(-_0x1fd0cf['y']+(0x82b+0xf41+0x2*-0xbb5)*_0x1fd0cf['y']*_0x4f1375/_0x28645c),_0x5942ef=_0x3c76e2/_0x43ad57,_0x250c53=_0x4f1375/_0x28645c;_0x2eb485['push'](_0x5632b3,_0x47c11b,_0x569161),_0x54e04a['push'](-0xb*0x141+-0x5d7+0x13a2*0x1,-0x19dd+0x10*0x211+-0x732,-0x1*-0x1105+-0x1628+0x523),_0x538842['push'](_0x5942ef,0x265d+0x2555+-0x4bb1-_0x250c53),_0x3c76e2<_0x43ad57&&_0x4f1375<_0x28645c&&(_0x5c85d0['push'](_0x147db3+_0x28645c+(0x193a*0x1+0x8f6+-0x222f),_0x147db3+(-0x19*0x39+0xe8e+-0x14*0x73),_0x147db3),_0x5c85d0['push'](_0x147db3+_0x28645c+(-0xb3+0x1e3+-0x12f),_0x147db3+_0x28645c+(-0x1c99+-0x1*-0x1f00+-0x265),_0x147db3+(-0x2*-0xc6f+-0x8aa+-0x1033))),_0x147db3++;}this['positions']=_0x2eb485,this['normals']=_0x54e04a,this['uvs']=_0x538842,this['uvs1']=_0x538842,this['indices']=_0x5c85d0,_0xa9b4bb['calculateT'+'angents']&&(this['tangents']=Mr(_0x2eb485,_0x54e04a,_0x538842,_0x5c85d0));}}class XA extends Ta{constructor(_0x33336d={}){super();const _0x96a91=_0x33336d['tubeRadius']??0x1d72+0xea0+-0x2c12+0.2,_0x18d928=_0x33336d['ringRadius']??0x1aad+-0x1bc*0x8+-0xccd*0x1+0.3,_0x5c4655=(_0x33336d['sectorAngl'+'e']??-0x1*-0x1bfb+-0xe16+-0xc7d)*Y['DEG_TO_RAD'],_0x425205=_0x33336d['segments']??0x24c5+-0xd1a*-0x1+-0x31c1,_0x8692bf=_0x33336d['sides']??-0x1c55+-0x21d0+0x11*0x3a9,_0x590fec=[],_0x21aae1=[],_0x5eae15=[],_0x4a81ac=[];for(let _0x487557=0x18*0x16a+0x4*-0x581+0xe*-0xda;_0x487557<=_0x8692bf;_0x487557++)for(let _0x40a756=0xc68*-0x2+-0x9a*-0x2e+-0x2*0x16e;_0x40a756<=_0x425205;_0x40a756++){const _0x511435=Math['cos'](_0x5c4655*_0x40a756/_0x425205)*(_0x18d928+_0x96a91*Math['cos']((-0x252d+0x2043+0x4ec)*Math['PI']*_0x487557/_0x8692bf)),_0x492ae5=Math['sin']((0x2240+0x1b57+0xf*-0x41b)*Math['PI']*_0x487557/_0x8692bf)*_0x96a91,_0x38fe51=Math['sin'](_0x5c4655*_0x40a756/_0x425205)*(_0x18d928+_0x96a91*Math['cos']((0x11*0x1b4+-0x782*-0x3+0xc*-0x44a)*Math['PI']*_0x487557/_0x8692bf)),_0x4e12f6=Math['cos'](_0x5c4655*_0x40a756/_0x425205)*Math['cos']((-0x23b*-0xd+-0x23*-0xdd+0x24*-0x1a5)*Math['PI']*_0x487557/_0x8692bf),_0x505205=Math['sin']((-0x5fa+0x1*0x8a4+-0x22*0x14)*Math['PI']*_0x487557/_0x8692bf),_0x12c880=Math['sin'](_0x5c4655*_0x40a756/_0x425205)*Math['cos']((0x137c+-0x1*-0x1709+-0x2a83)*Math['PI']*_0x487557/_0x8692bf),_0x5a76e2=_0x487557/_0x8692bf,_0x5ad2ae=0x10bf*-0x1+0x1*-0x235c+0x341c-_0x40a756/_0x425205;if(_0x590fec['push'](_0x511435,_0x492ae5,_0x38fe51),_0x21aae1['push'](_0x4e12f6,_0x505205,_0x12c880),_0x5eae15['push'](_0x5a76e2,0xf9a+0x1a0c+-0x7*0x5f3-_0x5ad2ae),_0x487557<_0x8692bf&&_0x40a756<_0x425205){const _0x399897=_0x487557*(_0x425205+(-0xf91*0x2+0xb5*0x1d+0xaa2))+_0x40a756,_0x533ddc=(_0x487557+(-0x242e+-0x91*-0x9+0x1f16))*(_0x425205+(0x7ae+0x1b81+-0x232e))+_0x40a756,_0xa5f559=_0x487557*(_0x425205+(-0x7b*-0x30+0x1ff7+-0x3706))+(_0x40a756+(-0x89+-0x3*0xc73+-0x25e3*-0x1)),_0x48d718=(_0x487557+(-0x3ec*-0x1+-0x1*0x7eb+0x400))*(_0x425205+(0xb*-0x22f+0x87e*-0x2+0x2902))+(_0x40a756+(0x18cb*0x1+0x8e5+-0x21af));_0x4a81ac['push'](_0x399897,_0x533ddc,_0xa5f559),_0x4a81ac['push'](_0x533ddc,_0x48d718,_0xa5f559);}}this['positions']=_0x590fec,this['normals']=_0x21aae1,this['uvs']=_0x5eae15,this['uvs1']=_0x5eae15,this['indices']=_0x4a81ac,_0x33336d['calculateT'+'angents']&&(this['tangents']=Mr(_0x590fec,_0x21aae1,_0x5eae15,_0x4a81ac));}}class qA{constructor(_0x5c72b0,_0x5ca2a0){h(this,'processedC'+'ache',new Map()),h(this,'definition'+'sCache',new Map()),h(this,'_generator'+'s',new Map()),(this['_device']=_0x5c72b0,this['_isClearin'+'gCache']=!(-0x91*0x40+0x26e6+-0x2a5*0x1),this['_precached']=!(-0x1677+-0x2f5*0xd+-0x1*-0x3ce9),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new dl(),this['_defaultSt'+'dMatOption'+'Min']=new dl());const _0x5036ea=new vv();_0x5ca2a0['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x5036ea,_0x5ca2a0,null,[],Aa,null),_0x5ca2a0['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x5ca2a0,null,cm,null),_0x5c72b0['on']('destroy:sh'+'ader',_0x214040=>{this['removeFrom'+'Cache'](_0x214040);});}['destroy'](){this['clearCache']();}['register'](_0x3454ce,_0x317e7e){this['_generator'+'s']['has'](_0x3454ce)||this['_generator'+'s']['set'](_0x3454ce,_0x317e7e);}['unregister'](_0x277da2){this['_generator'+'s']['has'](_0x277da2)&&this['_generator'+'s']['delete'](_0x277da2);}['isRegister'+'ed'](_0x21fb2e){return this['_generator'+'s']['has'](_0x21fb2e);}['generateSh'+'aderDefini'+'tion'](_0x456d46,_0x39b0a5,_0x352e32,_0x1e7b23){var _0x5f50c4,_0x2a65e3;let _0x517e63=this['definition'+'sCache']['get'](_0x352e32);if(!_0x517e63){let _0x37c1b0;(_0x5f50c4=_0x1e7b23['litOptions'])!=null&&_0x5f50c4['lights']&&(_0x37c1b0=_0x1e7b23['litOptions']['lights'],_0x1e7b23['litOptions']['lights']=_0x37c1b0['map'](_0x143d0d=>{const _0x46541b=_0x143d0d['clone']?_0x143d0d['clone']():_0x143d0d;return _0x46541b['key']=_0x143d0d['key'],_0x46541b;})),this['storeNewPr'+'ogram'](_0x39b0a5,_0x1e7b23),(_0x2a65e3=_0x1e7b23['litOptions'])!=null&&_0x2a65e3['lights']&&(_0x1e7b23['litOptions']['lights']=_0x37c1b0),this['_precached']&&w['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x39b0a5+'\x20key\x20'+_0x352e32+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x2403e8=this['_device'];_0x517e63=_0x456d46['createShad'+'erDefiniti'+'on'](_0x2403e8,_0x1e7b23),_0x517e63['name']=_0x517e63['name']??(_0x1e7b23['pass']?_0x39b0a5+'-pass:'+_0x1e7b23['pass']:_0x39b0a5),this['definition'+'sCache']['set'](_0x352e32,_0x517e63);}return _0x517e63;}['getCachedS'+'hader'](_0x2f674a){return this['processedC'+'ache']['get'](_0x2f674a);}['setCachedS'+'hader'](_0x1c1ce6,_0x18df9d){this['processedC'+'ache']['set'](_0x1c1ce6,_0x18df9d);}['getProgram'](_0x4be655,_0x283575,_0x231401,_0x90f896){const _0x1cefe0=this['_generator'+'s']['get'](_0x4be655);if(!_0x1cefe0)return w['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x4be655),null;const _0x4be61f=_0x1cefe0['generateKe'+'y'](_0x283575),_0x2348c3=hi(_0x4be61f),_0x244137=_0x231401['generateKe'+'y'](this['_device']),_0x5918fa=hi(_0x244137),_0xa49fd=_0x2348c3+'#'+_0x5918fa;let _0x508709=this['getCachedS'+'hader'](_0xa49fd);if(!_0x508709){const _0x21d798=this['generateSh'+'aderDefini'+'tion'](_0x1cefe0,_0x4be655,_0x2348c3,_0x283575);w['assert'](_0x21d798);let _0x46e20b='',_0x252d4e;_0x283575['pass']!==void(-0x129b+0x1*0x74b+0xb50)&&(_0x252d4e=Si['get'](this['_device'])['getByIndex'](_0x283575['pass']),_0x46e20b='-'+_0x252d4e['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x90f896,'shaderPassInfo':_0x252d4e,'definition':_0x21d798});const _0x7ba42d={'name':''+_0x21d798['name']+_0x46e20b+'-proc','attributes':_0x21d798['attributes'],'vshader':_0x21d798['vshader'],'vincludes':_0x21d798['vincludes'],'fincludes':_0x21d798['fincludes'],'fshader':_0x21d798['fshader'],'processingOptions':_0x231401,'shaderLanguage':_0x21d798['shaderLang'+'uage'],'meshUniformBufferFormat':_0x21d798['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x21d798['meshBindGr'+'oupFormat']};_0x508709=new qy(this['_device'],_0x7ba42d),w['call'](()=>{_0x508709['_generatio'+'nKey']=_0x4be61f,_0x508709['_processin'+'gKey']=_0x244137;}),this['setCachedS'+'hader'](_0xa49fd,_0x508709);}return _0x508709;}['storeNewPr'+'ogram'](_0x49b467,_0x320230){let _0x1e7459={};if(_0x49b467==='standard'){const _0x44ef4b=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x320230['pass']);for(const _0x4fcb35 in _0x320230)(_0x320230['hasOwnProp'+'erty'](_0x4fcb35)&&_0x44ef4b[_0x4fcb35]!==_0x320230[_0x4fcb35]||_0x4fcb35==='pass')&&(_0x1e7459[_0x4fcb35]=_0x320230[_0x4fcb35]);for(const _0x490dce in _0x320230['litOptions'])_0x1e7459[_0x490dce]=_0x320230['litOptions'][_0x490dce];}else _0x1e7459=_0x320230;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x49b467,'options':_0x1e7459}));}['dumpProgra'+'ms'](){let _0x566127='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x566127+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][-0x610*-0x4+0x394*-0x1+-0x14ac]&&(_0x566127+='\x0a\x09'+this['_programsC'+'ollection'][0x39*0x1d+0x172d+-0x1da2]);for(let _0x23fa63=0x16c2+-0xb94+-0xb2d*0x1;_0x23fa63<this['_programsC'+'ollection']['length'];++_0x23fa63)_0x566127+=',\x0a\x09'+this['_programsC'+'ollection'][_0x23fa63];_0x566127+='\x0a];\x0a',_0x566127+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x566127+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+hn+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+$S+'\x22)\x0a',_0x566127+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x466120=document['createElem'+'ent']('a');_0x466120['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x566127)),_0x466120['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x466120['style']['display']='none',document['body']['appendChil'+'d'](_0x466120),_0x466120['click'](),document['body']['removeChil'+'d'](_0x466120);}['clearCache'](){this['_isClearin'+'gCache']=!(-0x8c5*-0x1+-0x148f+0x3*0x3ee),this['processedC'+'ache']['forEach'](_0x2294ef=>{_0x2294ef['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(-0x25f5+0x34+0x25c2);}['removeFrom'+'Cache'](_0x317832){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x3ca475,_0x45c977)=>{_0x317832===_0x3ca475&&this['processedC'+'ache']['delete'](_0x45c977);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0xec8064){const _0x161f22=Si['get'](this['_device'])['getByIndex'](_0xec8064);return _0xec8064===Zn||_0xec8064===Rl||_0x161f22['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x3a6ad8){if(_0x3a6ad8){const _0x1dd6a7=new Array(_0x3a6ad8['length']);for(let _0x14ef47=0x2584+0x17c9+-0x3*0x146f;_0x14ef47<_0x3a6ad8['length'];_0x14ef47++){if(_0x3a6ad8[_0x14ef47]['name']==='standard'){const _0x521476=_0x3a6ad8[_0x14ef47]['options'],_0x4ffdee=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x521476['pass']);for(const _0x1643fc in _0x4ffdee)_0x4ffdee['hasOwnProp'+'erty'](_0x1643fc)&&_0x521476[_0x1643fc]===void(0x1*-0x36+-0x7d5+0x80b)&&(_0x521476[_0x1643fc]=_0x4ffdee[_0x1643fc]);}_0x1dd6a7[_0x14ef47]=this['getProgram'](_0x3a6ad8[_0x14ef47]['name'],_0x3a6ad8[_0x14ef47]['options']);}}this['_precached']=!(-0x2632+-0x26ec+0x4d1e);}}async function jA(){const _0x21db01=new Float32Array(0xc40*0x2+-0xf5e+-0x921),_0x2dd625=new Int32Array(_0x21db01['buffer']);let _0x804335=-0x1659+0x3fa+-0x1*-0x125f,_0xdc8b9d={};self['onmessage']=async _0x31170f=>{const {data:_0x5a0184}=_0x31170f;switch(_0x5a0184['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x5f01b4(_0x5a0184['properties'],_0x5a0184['timeIndex'],_0x5a0184['timeOption']);break;case'releaseSeq'+'Data':_0x3552ab(_0x5a0184['index']);break;case'releaseAll'+'SeqData':_0x7fd148();break;case'destroyWor'+'ker':_0x12e84f();break;}};class _0x53040a{constructor(_0x3e7927=-0x1c79+-0xf0c+0x2b85,_0x25f9d6=-0x74e+0x1e1+0x1cf*0x3,_0x49d060=0xdc+-0x4b0+0x31*0x14,_0x3eeda2=-0x43*-0x32+0x22a1+-0x18a*0x1f){this['x']=_0x3e7927,this['y']=_0x25f9d6,this['z']=_0x49d060,this['w']=_0x3eeda2;}['set'](_0xa5b7cb,_0x590c40,_0x287c88,_0x69db03){return this['x']=_0xa5b7cb,this['y']=_0x590c40,this['z']=_0x287c88,this['w']=_0x69db03,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x42fbab=this){let _0x4b07fe=_0x42fbab['length']();return _0x4b07fe===-0x7cc+-0x1b79+0x2345?(this['x']=this['y']=this['z']=0x1bea+-0x9*0x29d+0x5*-0xe1,this['w']=0x1a90+-0x1*-0x2336+0x3dc5*-0x1):(_0x4b07fe=(0x1998+-0x9ad+0xfea*-0x1)/_0x4b07fe,this['x']=_0x42fbab['x']*_0x4b07fe,this['y']=_0x42fbab['y']*_0x4b07fe,this['z']=_0x42fbab['z']*_0x4b07fe,this['w']=_0x42fbab['w']*_0x4b07fe),this;}['mulScalar'](_0x3cf2e7,_0x410f54=this){return this['x']=_0x410f54['x']*_0x3cf2e7,this['y']=_0x410f54['y']*_0x3cf2e7,this['z']=_0x410f54['z']*_0x3cf2e7,this['w']=_0x410f54['w']*_0x3cf2e7,this;}}const _0x23a4e1=_0x4219c2=>{_0x21db01[0x149+0x7*0x3ab+-0x1af6]=_0x4219c2;const _0x2da5a8=_0x2dd625[-0xa2b*-0x1+0x1a3c+-0x1*0x2467];let _0x125bae=_0x2da5a8>>-0xb58+0x8c9*-0x1+0x1431*0x1&-0x43e9*-0x2+-0x3*0xa61+0x1751,_0x4c11be=_0x2da5a8>>0x3b*0x9e+-0x26b+0x1*-0x21f3&0xe04+-0x98c+0x387;const _0x8a6da6=_0x2da5a8>>0x12a9+0x49*0x39+-0x22d3&0xce3*0x1+0x7*-0xe+-0xb82;return _0x8a6da6<0x1*-0xdc7+-0xc38+-0x3e*-0x6d?_0x125bae:_0x8a6da6>0x1*0x1989+0x2a4*-0x4+0xe6b*-0x1?(_0x125bae|=-0x2*0x51dd+-0x1*-0x5b48+0xc472,_0x125bae|=(_0x8a6da6===0xc80+0x164+-0xce5?0x4*0x6a+-0x3*-0x9e2+0xfa7*-0x2:-0x2*0x5b+0x2dd*-0x3+0x94e)&&_0x2da5a8&-0xd0126*-0x1+-0x6521f5+0x6c1067*0x2,_0x125bae):_0x8a6da6<-0x1*0x2361+0xddb*-0x1+0x9d*0x51?(_0x4c11be|=-0xd44+0xc2d+0x917,_0x125bae|=(_0x4c11be>>-0xec8+0x48f+0xaab*0x1-_0x8a6da6)+(_0x4c11be>>0x1d*-0x115+-0x1a*-0x29+-0x6*-0x49c-_0x8a6da6&-0x6*-0x90+-0x1afe+0x179f),_0x125bae):(_0x125bae|=_0x8a6da6-(-0x20f*-0xf+-0x28*-0x1f+-0x2349*0x1)<<0x1bae+0x1a3e+0x6*-0x8fb|_0x4c11be>>0x1a4+-0xe02+0xc5f,_0x125bae+=_0x4c11be&-0x7ca+-0x287*-0x4+-0x251,_0x125bae);},_0x4dfba7=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0xa319ba=0x1*0x136b+0x24b5+-0xe08*0x4;_0xa319ba<-0x2486+0x760+0x1d53;++_0xa319ba)if(!_0xdc8b9d['f_rest_'+_0xa319ba])return _0xa319ba;return-0x31*-0x13+-0x786+0x14*0x34;})())]??0x159d+-0x1*-0x1fd8+-0x3575),_0x5f01b4=(_0x34757c,_0x38c1a0,_0x5ad255)=>{const _0x1dd311=!!_0x34757c['time_index'];_0x1dd311||(_0x34757c['time_index']=new Float32Array(0x1*-0x15bb+0x945+0x13f*0xa)),_0x804335+=_0x34757c['x']['length']??-0x2*-0x641+0x2*0xfd9+-0x2c34;const _0x1e8f1f=Object['keys'](_0x34757c);for(let _0x5ea123=0x6*-0x361+-0x1e*-0xe8+0x5*-0x162;_0x5ea123<_0x1e8f1f['length'];_0x5ea123++){const _0x17356e=_0x1e8f1f[_0x5ea123],_0x5a2966=_0x34757c[_0x17356e],_0x1f980b=_0xdc8b9d[_0x17356e]??new Float32Array(-0x41b*0x5+0x190b+-0x11*0x44);if(!_0x1dd311&&_0x17356e==='time_index'){const _0xa6cff7=new Float32Array(_0x804335);_0xa6cff7['fill'](_0x38c1a0),_0xa6cff7['set'](_0x1f980b,0x2480+0x1ab9*0x1+0x19f*-0x27),_0xdc8b9d[_0x17356e]=_0xa6cff7;}else{if(!_0x1dd311&&_0x5a2966&&_0x17356e==='t'){const _0x5c8c58=new Float32Array(_0x804335);if(_0x5c8c58['set'](_0x1f980b,-0x1f3b+-0x1297*-0x2+-0x5f3),_0x5ad255){for(let _0x2fe2cf=_0x1f980b['length'];_0x2fe2cf<_0x804335;_0x2fe2cf++)_0x5a2966[_0x2fe2cf-_0x1f980b['length']]>-(0x6cd*-0x1+-0xf77+0x1649)?_0x5c8c58[_0x2fe2cf]=_0x5a2966[_0x2fe2cf-_0x1f980b['length']]+_0x5ad255[(0x44a+0xa37*0x1+-0xe7f)*_0x38c1a0]:_0x5c8c58[_0x2fe2cf]=_0x5a2966[_0x2fe2cf-_0x1f980b['length']];}_0xdc8b9d[_0x17356e]=_0x5c8c58;}else{if(_0x5a2966){const _0x10e577=new Float32Array(_0x804335);_0x10e577['set'](_0x1f980b,0x475*0x3+-0xf9+-0xc66),_0x10e577['set'](_0x5a2966,_0x1f980b['length']),_0xdc8b9d[_0x17356e]=_0x10e577;}}}}const _0x5a3d77={};Object['keys'](_0xdc8b9d)['forEach'](_0x23b889=>{_0x5a3d77[_0x23b889]=new Float32Array(_0xdc8b9d[_0x23b889]['buffer']['slice']());});const _0x330393=Object['keys'](_0x5a3d77)['map'](_0xad23ba=>_0x5a3d77[_0xad23ba]['buffer']),_0x374010=_0x475f46(),_0x5d720f=Object['keys'](_0x374010)['map'](_0x187687=>_0x374010[_0x187687]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x5a3d77,'transformData':_0x374010},_0x330393['concat'](_0x5d720f));},_0x475f46=()=>{const _0x307352=_0xdc8b9d['x']['length'],_0x5c1098=_0xdc8b9d['x'],_0x1b699b=_0xdc8b9d['y'],_0x541464=_0xdc8b9d['z'],_0x21839a=_0xdc8b9d['scale_0'],_0x56b012=_0xdc8b9d['scale_1'],_0x1b881a=_0xdc8b9d['scale_2'],_0x2bae60=_0xdc8b9d['rot_1'],_0x1c4c75=_0xdc8b9d['rot_2'],_0x494c1a=_0xdc8b9d['rot_3'],_0x11cc60=_0xdc8b9d['rot_0'],_0x4fb3db=_0xdc8b9d['motion_0'],_0x120c59=_0xdc8b9d['motion_1'],_0x2ca1e5=_0xdc8b9d['motion_2'],_0x3b656b=_0xdc8b9d['t'],_0x1664e8=_0xdc8b9d['t_scale'],_0x523326=_0xdc8b9d['time_index'],_0x262d1e=_0xdc8b9d['f_dc_0'],_0x55d7c7=_0xdc8b9d['f_dc_1'],_0x25f382=_0xdc8b9d['f_dc_2'],_0xb7f9df=_0xdc8b9d['opacity'],_0x36c165=(_0x3b656b==null?void(0x25*0x7+0x1*-0x1265+-0x1162*-0x1):_0x3b656b['length'])>0x991+-0x607*-0x1+-0xf98,_0x3058eb=new Float32Array(_0x307352*(0x1b04+-0xd98+-0xd69)),_0x50b111=new Float32Array(_0x307352*(0xb7a+0x2454+-0x2fcb)),_0x37156c=new Uint16Array(_0x307352*(-0x1*-0x135+0x17d3+-0x1905)),_0x5640f3=new Float32Array(_0x307352*(0x1b9d+-0x25bd+0xa23));let _0x1dfa22=null,_0x3f81ce=null,_0x1d2d93=null,_0x4fe697=null;_0x36c165&&(_0x1dfa22=new Float32Array(_0x307352*(0x3e1*0x9+0xe3f*0x1+-0x223*0x17)),_0x3f81ce=new Float32Array(_0x307352*(-0x95*-0x2f+-0xb*-0xf+-0x1*0x1bfd)),_0x1d2d93=new Float32Array(_0x307352*(-0x1*0x26cd+-0x1af6+0x41c6)),_0x4fe697=new Float32Array(_0x307352));const _0x53880b=new _0x53040a(0x1*-0x16d5+-0x1*-0x142f+0x2a6,0x2a1*0x4+0xf1b+-0x199f*0x1,-0x523*-0x7+0x5*0x53+-0x4a*0x82,0x7*0x110+-0x537*-0x1+-0x1*0xca7);let _0x5cb974=0xa95+-0x4*-0x7e2+-0x1*0x2a1d,_0xf9d2=-0x19d1+0x5*-0x1d2+0x22eb,_0x12b469=-0x372+0x3*-0x8eb+0x1e33,_0x36a2c5=0x2*-0x106e+-0x17d5+0x38b1,_0x24025a=-0xce3*0x1+0xab*-0x2f+0x2*0x1624,_0x558881=-0xe4c+0x1*0x76e+0x36f*0x2,_0x5577ca=!(-0x3*0x19f+0x130b+-0x1*0xe2e);const _0x3ec509=new Float32Array(-0x18b9*-0x1+0x7*0x194+-0x23c2),_0x1f2eb5=new Float32Array(-0xed*0x5+-0x182e+-0x1cd2*-0x1),_0x4d5133=new Uint16Array(_0x307352*(0xd7b+0x1897+0x260e*-0x1)),_0x13236=0x2454+-0x19c0+0x4*-0x2a5+0.28209479177387814;for(let _0x22d61a=-0x1a8e+-0x6dd*-0x4+-0xe6;_0x22d61a<_0x307352;++_0x22d61a){const _0x27a27d=_0x262d1e[_0x22d61a]*_0x13236+(0x4e*-0x65+0x3*-0x256+-0x18*-0x193+0.5),_0x36cc9e=_0x55d7c7[_0x22d61a]*_0x13236+(0x1*-0x2708+0x25f4*0x1+0x45*0x4+0.5),_0x44ead7=_0x25f382[_0x22d61a]*_0x13236+(0x35*-0xa9+-0x65*-0x4c+0x501*0x1+0.5),_0x55b038=_0xb7f9df[_0x22d61a];_0x4d5133[_0x22d61a*(-0x1*-0x2441+0x2*-0x2d6+0x1e91*-0x1)+(0x379*0x7+-0xb79+-0xcd6)]=_0x23a4e1(_0x27a27d),_0x4d5133[_0x22d61a*(-0x1436+-0x1*-0x6d9+-0x2ad*-0x5)+(0x11fa+-0x8f*-0x16+-0x1e43)]=_0x23a4e1(_0x36cc9e),_0x4d5133[_0x22d61a*(-0x1*0x25ec+0x1286+-0x47*-0x46)+(-0xb71*0x1+0xde1+-0x1*0x26e)]=_0x23a4e1(_0x44ead7),_0x4d5133[_0x22d61a*(-0x1522+0x1*0x248f+-0x5*0x315)+(0x483+-0x27*-0xb1+-0x1f77)]=_0x23a4e1(_0x55b038);const _0x51ad49=_0x5c1098[_0x22d61a],_0x691e7b=_0x1b699b[_0x22d61a],_0x4d231d=_0x541464[_0x22d61a],_0x27601d=Math['max'](_0x21839a[_0x22d61a],_0x56b012[_0x22d61a],_0x1b881a[_0x22d61a]);if(isFinite(_0x51ad49)&&isFinite(_0x691e7b)&&isFinite(_0x4d231d)&&isFinite(_0x27601d)){const _0x4a00cc=(-0xd15+0x3cd+0x94a)*Math['exp'](_0x27601d);_0x5577ca?(_0x5577ca=!(-0x2484+0xe78+0x469*0x5),_0x5cb974=_0x51ad49-_0x4a00cc,_0xf9d2=_0x691e7b-_0x4a00cc,_0x12b469=_0x4d231d-_0x4a00cc,_0x36a2c5=_0x51ad49+_0x4a00cc,_0x24025a=_0x691e7b+_0x4a00cc,_0x558881=_0x4d231d+_0x4a00cc):(_0x5cb974=Math['min'](_0x5cb974,_0x51ad49-_0x4a00cc),_0xf9d2=Math['min'](_0xf9d2,_0x691e7b-_0x4a00cc),_0x12b469=Math['min'](_0x12b469,_0x4d231d-_0x4a00cc),_0x36a2c5=Math['max'](_0x36a2c5,_0x51ad49+_0x4a00cc),_0x24025a=Math['max'](_0x24025a,_0x691e7b+_0x4a00cc),_0x558881=Math['max'](_0x558881,_0x4d231d+_0x4a00cc));}_0x53880b['set'](_0x2bae60[_0x22d61a],_0x1c4c75[_0x22d61a],_0x494c1a[_0x22d61a],_0x11cc60[_0x22d61a]),_0x53880b['normalize'](),_0x53880b['w']<0x204d+-0x133*-0x18+0x1*-0x3d15&&_0x53880b['mulScalar'](-(0x20fb+0x1*-0x48f+-0x1c6b)),_0x50b111[_0x22d61a*(0x12*0x145+-0x1*0x1d3b+0x1*0x664)+(-0x10bd+-0x2355+-0xa6a*-0x5)]=_0x5c1098[_0x22d61a],_0x50b111[_0x22d61a*(0xe36*-0x1+0x2b1*0x2+0x8d7)+(0x2641+0x306*0x9+0x156*-0x31)]=_0x1b699b[_0x22d61a],_0x50b111[_0x22d61a*(0x3b*0xa7+-0x1*0x229c+-0x3de)+(0x13ae*0x1+-0x24e6+0x113a)]=_0x541464[_0x22d61a],_0x3058eb[_0x22d61a*(-0x2*-0x17e+0xa1b*-0x3+0x1*0x1b58)+(0x51c+0x41a+-0x936)]=_0x5c1098[_0x22d61a],_0x3058eb[_0x22d61a*(0x5*0x3b6+-0x26*-0xce+-0x311f)+(0x1147*0x2+-0x33d+-0x1f50)]=_0x1b699b[_0x22d61a],_0x3058eb[_0x22d61a*(-0x34d*0x9+0x2308+-0x2a8*0x2)+(-0x129b*0x1+0x6*0x11c+0xbf5*0x1)]=_0x541464[_0x22d61a],_0x37156c[_0x22d61a*(0x581+0x13*0x4a+-0x4c*0x25)+(-0xc9*0x5+0x21*0xb1+0xba*-0x1a)]=_0x23a4e1(Math['exp'](_0x21839a[_0x22d61a])),_0x37156c[_0x22d61a*(-0x1*-0xdfd+0x1*-0x925+-0x4d5)+(-0x1*-0x1cde+0x265d+-0x433a)]=_0x23a4e1(Math['exp'](_0x56b012[_0x22d61a])),_0x37156c[_0x22d61a*(0x12ff+0x1d97+-0x3093)+(-0x2*0x24d+0xd1+0x3cb)]=_0x23a4e1(Math['exp'](_0x1b881a[_0x22d61a])),_0x5640f3[_0x22d61a*(-0x5c7+-0x4d2+-0x2*-0x54e)+(0x2bf+-0x1990+0x16d1)]=_0x53880b['x'],_0x5640f3[_0x22d61a*(0x1d85+0x2253+0xd*-0x4e9)+(-0x416+-0x2122*-0x1+-0x1d0b)]=_0x53880b['y'],_0x5640f3[_0x22d61a*(0x27*0x43+-0x1134+0x702)+(0x3d1*0x1+0x10b+-0x4da*0x1)]=_0x53880b['z'],_0x36c165&&_0x1dfa22&&_0x3f81ce&&_0x1d2d93&&_0x4fe697&&(_0x1dfa22[_0x22d61a*(0x16b4+-0x15cf+-0xe2)+(0x1ea+0x3f1*0x2+-0x9cc)]=_0x4fb3db[_0x22d61a],_0x1dfa22[_0x22d61a*(-0xb*-0x187+0x9*-0x3e5+0xb*0x1a9)+(0x1d7e+-0xecc*0x1+-0xeb1)]=_0x120c59[_0x22d61a],_0x1dfa22[_0x22d61a*(-0x425*-0x2+-0x1846*-0x1+-0x208d)+(-0x1*-0x7a3+0x1*-0x709+0x1*-0x98)]=_0x2ca1e5[_0x22d61a],_0x1d2d93[_0x22d61a*(0xf26+-0x20f6+0x11d3)+(0xe23+-0x1*-0x21b8+-0x2fdb)]=_0x4fb3db[_0x22d61a],_0x1d2d93[_0x22d61a*(0x1c7*-0x7+0x8f5+0x5*0xb3)+(-0x100*0x18+0x910*-0x3+0x3331)]=_0x120c59[_0x22d61a],_0x1d2d93[_0x22d61a*(-0x1438+0x16ec+-0x1*0x2b1)+(0x1e0*0xd+0x129b+-0x2af9)]=_0x2ca1e5[_0x22d61a],_0x4fe697[_0x22d61a]=_0x1664e8?Math['exp'](_0x1664e8[_0x22d61a]):-0x223b+0x7ba+-0x17*-0x127,_0x3f81ce[_0x22d61a*(-0x2064+0xcc*-0x18+0x1*0x3387)+(0x1d*0x2f+-0x1ab6+-0xf*-0x16d)]=_0x3b656b?_0x3b656b[_0x22d61a]:-0x8b*-0x3b+-0x1b3*-0xe+-0x1f*0x1cd,_0x3f81ce[_0x22d61a*(0x19e*0x10+-0x1097+-0x946)+(-0x1*-0x4ef+0x6c+-0x55a)]=_0x4fe697[_0x22d61a]);}_0x5577ca||(_0x3ec509[-0xb7d+-0x3e*-0x8f+-0x19*0xed]=(_0x5cb974+_0x36a2c5)*(0x176e*0x1+0x1e6c+-0x35da+0.5),_0x3ec509[0x3*-0x337+0x931+-0x75*-0x1]=(_0xf9d2+_0x24025a)*(-0x22c4+0x24e*0xd+0x4ce+0.5),_0x3ec509[0x161e+-0x1e4b+0x82f]=(_0x12b469+_0x558881)*(-0x8ab+-0x18cf+-0x359*-0xa+0.5),_0x1f2eb5[-0x25e7+0x25af+0x38]=(_0x36a2c5-_0x5cb974)*(-0x259f*0x1+0x1a5c+0xb43+0.5),_0x1f2eb5[0x1070+0x1594+-0x2603]=(_0x24025a-_0xf9d2)*(-0xc7d+-0x2*0x1cf+0x85*0x1f+0.5),_0x1f2eb5[0x2256+-0x9c*0x2e+-0x64c]=(_0x558881-_0x12b469)*(0x1aea+0x2*-0xde1+0xd8+0.5));const _0x436d0d=_0x4073f4();let _0x193347={'dataColor':_0x4d5133,'center':_0x3ec509,'halfExtents':_0x1f2eb5,'dataCenters':_0x3058eb,'dataPosition':_0x50b111,'dataScale':_0x37156c,'dataRotation':_0x5640f3,..._0x436d0d};return _0x36c165&&(_0x193347={..._0x193347,'dataMotion':_0x1dfa22,'dataTime':_0x3f81ce,'motion':_0x1d2d93,'tScaleArray':_0x4fe697,'muT':new Float32Array(_0x3b656b),'timeIndex':new Float32Array(_0x523326)}),_0x193347;},_0x4e6d50=_0x38bccf=>{const _0x3e3949=[];for(let _0x3678bc=-0x164d+0x1b84+-0x5*0x10b;_0x3678bc<_0x38bccf;++_0x3678bc)_0x3e3949['push'](_0xdc8b9d['f_rest_'+_0x3678bc]);return _0x3e3949;},_0x4073f4=()=>{const _0x394a6f=_0x4dfba7();if(_0x394a6f<=-0x3*0x3fa+-0x24ca*-0x1+-0x18dc)return{};const _0x551004=_0xdc8b9d['x']['length'],_0x34f405=new Uint32Array(_0x551004*(-0x25aa+0x1b4f+0xa5f)),_0x2abc29=new Uint32Array(_0x551004*(0x3b*-0x8b+0x156b+0xaa2)),_0x45749f=new Uint32Array(_0x551004*(-0xba*0x4+0x22b6+-0x1fca)),_0x29d42b=new Uint32Array(_0x551004*(-0x21fb+0x199d+-0x1*-0x862)),_0x27aafc={0x1:0x3,0x2:0x8,0x3:0xf}[_0x394a6f],_0x419272=_0x4e6d50(_0x27aafc*(-0x1*0x2596+-0x164*0x16+0x3*0x16bb)),_0x23138c=-0x58*-0x60+-0x1d75+-0x4c*-0xf,_0x2a4933=0x110f+-0x1*-0x152f+-0x223f,_0x1ebfe1=new Float32Array(-0x75+-0x691+0x101*0x7),_0x2d5e89=new Uint32Array(_0x1ebfe1['buffer']),_0x469487=new Array(_0x27aafc*(0x20c*0xb+0x2292+-0x3913*0x1))['fill'](0x6e6*-0x1+-0x8af+0xf95);for(let _0x208521=0x2*-0x4a5+0x194d+-0x1003;_0x208521<_0x551004;++_0x208521){for(let _0x52fcac=-0x7*-0x1cd+0xa*-0xe2+-0x3c7;_0x52fcac<_0x27aafc;++_0x52fcac)_0x469487[_0x52fcac*(0xd*0x16+-0x1491+0x1376)]=_0x419272[_0x52fcac][_0x208521],_0x469487[_0x52fcac*(-0x12e7*0x1+0x58e+0x17c*0x9)+(0x1*0xc7a+-0x110*-0x21+-0x2f89)]=_0x419272[_0x52fcac+_0x27aafc][_0x208521],_0x469487[_0x52fcac*(-0x7b4+-0x10*-0x74+0x11*0x7)+(-0xdf*-0x16+-0x2*-0xab7+-0x2896)]=_0x419272[_0x52fcac+_0x27aafc*(0x1*-0xaed+0x47*-0x5e+-0x2501*-0x1)][_0x208521];let _0x46329f=_0x469487[-0x5b7+-0x3*0x29f+0xd94];for(let _0x5a1b04=0xcf6*-0x1+-0x598+0x128f;_0x5a1b04<_0x27aafc*(-0x1e9a*-0x1+-0x1*-0x1383+-0x321a);++_0x5a1b04)_0x46329f=Math['max'](_0x46329f,Math['abs'](_0x469487[_0x5a1b04]));if(_0x46329f!==-0x943*0x1+-0x5d0+-0xe3*-0x11){for(let _0x3d0a47=0x2381+-0x18d1+-0xab0;_0x3d0a47<_0x27aafc;++_0x3d0a47)_0x469487[_0x3d0a47*(-0x22af*-0x1+-0xbb5+-0x16f7)+(-0x16f3+-0x1c9c*-0x1+-0xa1*0x9)]=Math['max'](0x2*0xce7+0xca9+0x2677*-0x1,Math['min'](_0x23138c,Math['floor']((_0x469487[_0x3d0a47*(-0x17f*0x11+0x44b+0x1527)+(0x3*-0x593+0xa97+0x311*0x2)]/_0x46329f*(0x712+-0x44a+-0x2c8+0.5)+(-0x11*-0x100+0x1*-0x2406+0x1306*0x1+0.5))*_0x23138c+(-0xfb6*0x2+0x2367+0x3fb*-0x1+0.5)))),_0x469487[_0x3d0a47*(0x13ce+-0x1599*0x1+0x9a*0x3)+(-0x11+0x1*-0xb5d+0xb6f)]=Math['max'](0x14ce+-0x11c*0x1e+0xc7a,Math['min'](_0x2a4933,Math['floor']((_0x469487[_0x3d0a47*(-0x7*0x572+0x5*-0x2f7+0x34f4)+(0x25e6+0x1eb5+0x1*-0x449a)]/_0x46329f*(-0x123a*0x1+0xccd+0x56d*0x1+0.5)+(0x5fe+-0xa6*0x1+0x9*-0x98+0.5))*_0x2a4933+(-0x1*0xc36+-0x3*0x5bf+0x1d73+0.5)))),_0x469487[_0x3d0a47*(0x22c4+0x127a+0x1*-0x353b)+(-0xcbe+0x13*0x20a+-0x1*0x19fe)]=Math['max'](-0x1971+0x63b*-0x5+0x3898,Math['min'](_0x23138c,Math['floor']((_0x469487[_0x3d0a47*(-0x14b*0x1a+0xcc+-0x20d5*-0x1)+(0x55*0x5d+-0x7*-0xd3+-0xa*0x3aa)]/_0x46329f*(-0x16cb+0x2*-0x7d3+0x2671+0.5)+(-0x1669*0x1+0x4f5+0x1174+0.5))*_0x23138c+(-0x1b14+-0x859*-0x3+0x209+0.5))));_0x1ebfe1[0x1*0xe6e+0x57*-0x3e+0x6a4]=_0x46329f,_0x34f405[_0x208521*(-0x1d93+0x164d+0x74a)+(0xb41+-0x1cfe+-0xef*-0x13)]=_0x2d5e89[0x1e0*0x2+-0xc27+0x1*0x867],_0x34f405[_0x208521*(-0x1039+0x9a9*-0x3+0x2d38)+(-0x1*0x6dd+0x269*0x5+-0x52f)]=_0x469487[-0x2*-0xab0+0x114f+-0xce5*0x3]<<-0x1*-0x8f9+-0x1ef9*-0x1+-0x9d*0x41|_0x469487[-0x51*-0x40+0x490+-0x18cf]<<-0x29a*0xa+-0x8*-0x4ca+0x1*-0xc41|_0x469487[-0xa10+0x214+0x155*0x6],_0x34f405[_0x208521*(-0x10f6+0x10e5+-0x15*-0x1)+(-0x197d+0xe4*-0x9+0x1*0x2183)]=_0x469487[0x16f3+0x1c1*-0x6+-0xe3*0xe]<<0x2120+0x2027*-0x1+0x6*-0x26|_0x469487[0x6bd+0xde9+-0x14a2]<<-0x1134+-0x7*-0x355+-0x30a*0x2|_0x469487[-0x91*-0x1e+-0x1*0x13f7+0x2fe*0x1],_0x34f405[_0x208521*(-0x15dd+0x1fe3+-0xa02)+(-0x1*0x821+-0x49*0x9+0xab5*0x1)]=_0x469487[0x477*0x2+0x15fb*0x1+-0x1*0x1ee3]<<-0x1af2+-0x16*0x16c+0x3a4f|_0x469487[0x1b17+0x1abd+-0x35cd]<<-0x5*0x569+-0x1*0x25af+0x17*0x2d1|_0x469487[0x108e+-0x2*0x80f+-0x68],_0x394a6f>-0x2*0xa5d+-0x7*0x25f+0x2554&&(_0x2abc29[_0x208521*(-0x1c6a+-0x1*0x6b9+0x2327)+(-0x1ff2+0x106e*-0x1+0x3060)]=_0x469487[0x213*-0xd+-0x5*-0x6d3+0x1*-0x71f]<<-0x6f3*0x3+0x1d2a+-0x83c|_0x469487[-0x1ab+0x30*0x55+-0xe3b*0x1]<<-0x1*0xdab+-0x49f+0x1255|_0x469487[0x12b*0x4+-0x1*-0xd7d+-0x121e],_0x2abc29[_0x208521*(0x1*0x57b+0x16b+0x1*-0x6e2)+(-0x259d*-0x1+0x1*0xd1e+-0x32ba)]=_0x469487[-0xbca+-0xcec+-0x18c2*-0x1]<<0x86d+-0x77b+-0xdd|_0x469487[-0xf44+0x16a3+-0x752]<<0x1*-0x48b+-0x17*0x4f+0xbaf|_0x469487[-0xc2+0x2*-0x10a5+-0x2d*-0xc2],_0x2abc29[_0x208521*(0x1*0x12d5+-0x5*0x5ab+-0x35*-0x2e)+(0x709*0x2+-0x297*0x4+-0x6*0x9e)]=_0x469487[-0x18f9+0x6cf+0x1239]<<0x486+0x1bfc+-0x206d*0x1|_0x469487[0x327+0x140d+-0x1724]<<0x1*0xcb3+-0x1bc0+0xf18|_0x469487[-0x916*0x2+0x3e*-0x74+0x2e55],_0x2abc29[_0x208521*(0x18dc+-0x14f8+-0x20*0x1f)+(0x717+-0x5cc*0x6+0x1bb4)]=_0x469487[0x1*0x1103+-0x19*-0xfb+-0x2974]<<-0x5+0x139*0x1d+-0x235b|_0x469487[0x1*-0x8da+0x503+0x3ea]<<0x233+0xcfb*-0x1+0xad3|_0x469487[-0x12f7*-0x1+-0x21*0x11+-0x10b2],_0x394a6f>0x13*0x27+-0x1b8c+0x18a9?(_0x45749f[_0x208521*(0x1*0x11e7+-0x240a+0x1227)+(0x2*-0x70a+0x1*0x1ab9+0xd*-0xf9)]=_0x469487[0x14a0+-0x3b*-0x2b+0x1*-0x1e74]<<-0x6*-0x373+-0x7*-0xa7+-0x192e|_0x469487[0x501*-0x2+-0x24af+0x2ec7]<<0x2*-0x12f9+0x169e+-0x5*-0x313|_0x469487[-0x2342+0x201f+0x33a],_0x45749f[_0x208521*(0x16b4+-0x293+-0x141d)+(-0x2b*-0x83+0x1417+-0x86b*0x5)]=_0x469487[-0x35*0x26+0x1*0x531+-0x2c5*-0x1]<<-0x1*-0x182d+0x1401+-0x9f*0x47|_0x469487[-0x23f9*-0x1+-0x2*-0x2cf+-0x297e]<<0x2ea*-0xc+-0xa*0x313+0x41c1|_0x469487[-0x1*0x228d+0x12e9+0xfbe],_0x45749f[_0x208521*(0x3e4+-0x15a5+0x11c5)+(-0x1*0xc5+0x26c+-0x1a5)]=_0x469487[0x13f3+0x9c0+-0x1d98]<<-0x1*-0x58e+-0x21a2+0x1c29|_0x469487[0x1d45+-0x1*-0x226d+0x1fcb*-0x2]<<-0x3*-0x84d+0xa9c*0x1+0x8*-0x46f|_0x469487[-0x3d*0x59+-0xcb8*0x1+0x220a],_0x45749f[_0x208521*(0x21d*0x11+-0xae+-0x233b)+(0x1*0x21f1+0x10e0+-0x32ce)]=_0x469487[-0x8c9+-0x142+-0x33*-0x33]<<0x3d7*-0x3+-0x1*0x1dd1+0x1cd*0x17|_0x469487[-0x2*0x19c+0x3b*-0x8b+-0x11b0*-0x2]<<0x239c+0x3*0x4c1+0x1*-0x31d4|_0x469487[0x1315+0x7cb+-0x1ac0],_0x29d42b[_0x208521*(0x1009+-0x1c46+0x1*0xc41)+(-0x8d5*0x2+0x1*-0x2353+-0xa99*-0x5)]=_0x469487[-0x1fa6*-0x1+-0x1*-0x15b1+-0x3536]<<-0x74d+0x15b4+0x11a*-0xd|_0x469487[0xcc7+-0x2485+-0x4*-0x5f8]<<-0x1ddb*-0x1+0xb98+-0x2968|_0x469487[-0x59*0x6b+-0x35f*-0xa+0x3a0],_0x29d42b[_0x208521*(0x1c70+0x20d1+-0x3d3d)+(0x76c+0x3*-0xbef+-0xe*-0x207)]=_0x469487[0x1*0x18eb+-0x1769*0x1+-0x15e]<<-0x1e19+-0x21d+0x204b|_0x469487[0x6*-0x39e+-0x12*-0x5d+0xf4f]<<0x9*-0x23d+0x1f*-0x119+0x3637*0x1|_0x469487[0xc8*0x18+0x16cd*0x1+-0x1*0x2967],_0x29d42b[_0x208521*(-0x107f+0x8*-0xb5+0x162b)+(0x5b*-0x3d+-0x1*-0xa65+0xb4c)]=_0x469487[-0x14c3+0x5*-0xdf+0x1945]<<-0x167*0x16+0x7a*0x4+0x9ad*0x3|_0x469487[-0x13bf*-0x1+-0x1902+0x56b]<<-0x2*0x3c4+0xb27+0x1*-0x394|_0x469487[0x2116+-0x615+-0x6b6*0x4],_0x29d42b[_0x208521*(-0x805*0x1+0x1d*0x5+-0x778*-0x1)+(-0x4*-0x248+-0xe58+0x53b)]=_0x469487[0xdfc+0x16*-0x5b+0x30*-0x20]<<0x1*-0x84e+0x39*-0x76+0x22a9|_0x469487[0x1e5c+0x2399+-0x41ca]<<0x6d8*-0x1+-0xaba+0x1b*0xa7|_0x469487[0xa07+0x148*-0xd+0x1*0x6cd]):_0x45749f[_0x208521]=_0x469487[-0xcfd+0xb*-0x293+-0x32f*-0xd]<<0x3*0x7db+0x2520+-0x3c9c|_0x469487[-0x1af8+-0xacd+0x25db*0x1]<<0x2*0xd15+0x19b2+-0x33d1*0x1|_0x469487[0x503*-0x5+-0xd32+0x199*0x18]);}}return{'sh1to3Data':_0x34f405,'sh4to7Data':_0x2abc29,'sh8to11Data':_0x45749f,'sh12to15Data':_0x29d42b};},_0x3552ab=_0x2a63dc=>{if(!_0xdc8b9d['time_index'])return;const _0x428df0=_0xdc8b9d['time_index']['findIndex'](_0x3c9be6=>_0x3c9be6===_0x2a63dc);let _0x429041=_0xdc8b9d['time_index']['findIndex']((_0x3e2d9f,_0x3bbdb7)=>_0x3e2d9f!==_0x2a63dc&&_0x3bbdb7>_0x428df0);if(_0x429041===-(-0x6*0x11a+0x1b3d+0x37*-0x60)&&_0x428df0===-(-0x5c6*-0x1+-0x1df9*-0x1+0x16e*-0x19))return;_0x429041===-(-0x1e1e+0x5ab*-0x2+0x2975)&&_0x428df0!==-(-0x1f23+-0x1114+0x3038)&&(_0x429041=_0xdc8b9d['time_index']['length']),_0x804335-=_0x429041-_0x428df0;const _0x101bb6=Object['keys'](_0xdc8b9d);for(let _0x19d5ee=0x9f+-0x1dc5+-0xd*-0x23e;_0x19d5ee<_0x101bb6['length'];_0x19d5ee++){const _0x1d63b5=_0x101bb6[_0x19d5ee],_0x204637=_0xdc8b9d[_0x1d63b5];if(_0x204637){const _0x1ca8be=new Float32Array(_0x804335);_0x428df0>-0x1772+-0x26c7+0x3e39?(_0x1ca8be['set'](_0x204637['subarray'](0x1055+0x1fb8+-0x300d,_0x428df0),-0xc3+0x16*-0x73+0xaa5),_0x1ca8be['set'](_0x204637['subarray'](_0x429041),_0x428df0)):_0x1ca8be['set'](_0x204637['subarray'](_0x429041),-0x1caf+0x2d8+-0x52b*-0x5),_0xdc8b9d[_0x1d63b5]=_0x1ca8be;}}},_0x7fd148=()=>{const _0x20f49a=Object['keys'](_0xdc8b9d);for(let _0x5d4e94=-0x5*-0x5f2+-0x1b26+0x14*-0x21;_0x5d4e94<_0x20f49a['length'];_0x5d4e94++){const _0x3e7bea=_0x20f49a[_0x5d4e94];_0xdc8b9d[_0x3e7bea]&&(_0xdc8b9d[_0x3e7bea]=[]);}},_0x12e84f=()=>{_0xdc8b9d={},_0x804335=-0x14b0*-0x1+-0x1d89+0x8d9;};}class YA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+jA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x117de3,_0x2edbdd,_0x176986,_0x12fd3a=!(-0x263a+0xf1b+0x1720)){var _0x1416c2,_0x1bac1b;const _0x141afa={};return _0x117de3['elements'][-0xe67+-0x1dc3+0x1615*0x2]['properties']['forEach'](_0x5ac394=>{_0x141afa[_0x5ac394['name']]=_0x5ac394['storage'];}),_0x12fd3a?(_0x1416c2=this['worker'])==null||_0x1416c2['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x141afa,'timeIndex':_0x2edbdd,'timeOption':_0x176986},_0x117de3['elements'][-0x224*-0x9+0xe1f+-0x2163]['properties']['map'](_0xffd39e=>_0xffd39e['storage']['buffer'])):(_0x1bac1b=this['worker'])==null||_0x1bac1b['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x141afa,'timeIndex':_0x2edbdd,'timeOption':_0x176986}),new Promise(_0x537e0a=>{this['worker']['onmessage']=_0x5b5e45=>{if(!this['worker'])return;const {data:_0x3feda6}=_0x5b5e45;_0x3feda6['type']==='newAppendD'+'ata'&&_0x537e0a(_0x3feda6);};});}async['releaseSeq'+'Data'](_0x21bd7c){var _0x526bf0;(_0x526bf0=this['worker'])==null||_0x526bf0['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x21bd7c});}async['releaseAll'+'SeqData'](){var _0x2fb2d3;(_0x2fb2d3=this['worker'])==null||_0x2fb2d3['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x4f8106;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x4f8106=this['worker'])==null||_0x4f8106['terminate'](),this['worker']=null);}}const za=new te(),pg=new le(),yf=new De(),mg=new De(),KA=new ie(0xb56*0x1+0x628*0x1+-0x25*0x79,0x1efb+0xeb3+-0x2dad,0x48a*0x8+-0x1*-0x1ae9+-0x3*0x1513,-0x5*-0x22c+0x5*-0x50e+0xe6a+0.4),vf=-0x1020+-0xe36+-0xf2b*-0x2+0.28209479177387814,xf=-0x2ccda+-0x25*0xd12+0x7bdb4;let ZA=class{constructor(_0x5b42fa,_0x3fb082,_0x568368,_0x9d5380,_0x359862,_0x4f196a){const _0x3e88a0=_0x5b42fa['getProp']('x'),_0x2a3e80=_0x5b42fa['getProp']('y'),_0x45033a=_0x5b42fa['getProp']('z'),_0x3e2e97=_0x5b42fa['getProp']('rot_1'),_0x4cf098=_0x5b42fa['getProp']('rot_2'),_0x319ca9=_0x5b42fa['getProp']('rot_3'),_0x259ead=_0x5b42fa['getProp']('rot_0'),_0x20e04a=_0x5b42fa['getProp']('motion_0'),_0x274649=_0x5b42fa['getProp']('motion_1'),_0x29cc75=_0x5b42fa['getProp']('motion_2'),_0x5b71c6=_0x5b42fa['getProp']('scale_0'),_0x53ffca=_0x5b42fa['getProp']('scale_1'),_0x5bb334=_0x5b42fa['getProp']('scale_2'),_0x168d68=_0x5b42fa['getProp']('f_dc_0'),_0x1c6128=_0x5b42fa['getProp']('f_dc_1'),_0xca7a09=_0x5b42fa['getProp']('f_dc_2'),_0x13d904=_0x5b42fa['getProp']('opacity');this['read']=_0x1a8966=>{_0x3fb082&&(_0x3fb082['x']=_0x3e88a0[_0x1a8966],_0x3fb082['y']=_0x2a3e80[_0x1a8966],_0x3fb082['z']=_0x45033a[_0x1a8966]),_0x568368&&_0x568368['set'](_0x3e2e97[_0x1a8966],_0x4cf098[_0x1a8966],_0x319ca9[_0x1a8966],_0x259ead[_0x1a8966]),_0x9d5380&&_0x9d5380['set'](Math['exp'](_0x5b71c6[_0x1a8966]),Math['exp'](_0x53ffca[_0x1a8966]),Math['exp'](_0x5bb334[_0x1a8966])),_0x4f196a&&_0x20e04a&&_0x4f196a['set'](_0x20e04a[_0x1a8966],_0x274649[_0x1a8966],_0x29cc75[_0x1a8966]),_0x359862&&_0x359862['set'](0x62e+0x171*0x12+-0x1*0x2020+0.5+_0x168d68[_0x1a8966]*vf,0x2a*-0x62+-0x1a9*-0xb+-0x22f+0.5+_0x1c6128[_0x1a8966]*vf,-0x1d69+0x1d92*-0x1+-0x15*-0x2cf+0.5+_0xca7a09[_0x1a8966]*vf,_0x13d904[_0x1a8966]);};}};const _g=(_0x1e5201,_0x3eb57b,_0x51ae6b)=>{pg['set'](_0x51ae6b['x'],_0x51ae6b['y'],_0x51ae6b['z'],_0x51ae6b['w'])['normalize'](),_0x1e5201['setTRS'](_0x3eb57b,pg,D['ONE']);};class qn{constructor(_0xcdaee0,_0x46d978=[]){h(this,'elements'),h(this,'numSplats',0x14f3+-0xaf9+-0x9fa),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x1e6b3c;(_0x1e6b3c=this['dataWorker'])==null||_0x1e6b3c['destroy'](),this['dataWorker']=null;});var _0x9ca7aa,_0x47de2f,_0x4b9c4e;this['elements']=_0xcdaee0,this['numSplats']=((_0x9ca7aa=this['getElement']('vertex'))==null?void(-0x3a*-0x43+-0x97e+-0x5b0):_0x9ca7aa['count'])??-0xb3*0x2b+-0x268e+0x449f,this['comments']=_0x46d978,this['is4D']=!!((_0x4b9c4e=(_0x47de2f=this['getElement']('vertex'))==null?void(-0xe9c+0xa37+0x465):_0x47de2f['properties']['find'](_0x3a1e93=>_0x3a1e93['name']==='t'))!=null&&_0x4b9c4e['storage']);}async['appendGSpl'+'atData'](_0x1d17c1,_0x22e7af,_0x5805c7){var _0x1691ec;let _0x339ba1=-0x44*-0x3+0x1231*-0x2+0x2396;for(let _0x183251=-0x8ad*0x3+0x466*0x3+-0x3*-0x447;_0x183251<_0x5805c7['length']&&_0x22e7af>_0x5805c7[_0x183251];_0x183251+=-0x1f42+0x126*-0x17+0x39ae)_0x339ba1=_0x183251/(-0x832*-0x1+-0xfc+-0x734);console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData',_0x339ba1),this['dataWorker']||(this['dataWorker']=new YA(),await this['dataWorker']['appendGSpl'+'atData'](this,0x1948+0x59d*0x6+-0x3af6,_0x5805c7));const _0x50f5be=this['getElement']('vertex');_0x50f5be&&(_0x50f5be['count']=this['numSplats']);const _0x1fef35=await this['dataWorker']['appendGSpl'+'atData'](_0x1d17c1,_0x339ba1,_0x5805c7,!(-0x90+0x1ece+0xf1f*-0x2)),_0x2992d5=_0x1fef35['properties'],_0x5468f1=((_0x1691ec=this['getElement']('vertex'))==null?void(-0x413*0x1+0x265d+-0x21*0x10a):_0x1691ec['properties'])??[];for(const _0x4357a8 in _0x2992d5){const _0x1c8881=_0x5468f1['find'](_0x4c33a8=>_0x4c33a8['name']===_0x4357a8);_0x1c8881?_0x1c8881['storage']=_0x2992d5[_0x4357a8]:_0x5468f1['push']({'type':'float','name':_0x4357a8,'storage':_0x2992d5[_0x4357a8],'byteSize':0x4});}this['transformD'+'ata']=_0x1fef35['transformD'+'ata'],this['numSplats']=_0x2992d5['x']['length'],console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData\x20nu'+'mSplats',this['numSplats']);}async['releaseSeq'+'Data'](_0x563020){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20releaseSe'+'qData',_0x563020),this['dataWorker']['releaseSeq'+'Data'](_0x563020),this;}async['releaseAll'+'SeqData'](){var _0x438733;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20release\x20a'+'ll\x20SeqData'),(_0x438733=this['dataWorker'])==null||_0x438733['releaseAll'+'SeqData'](),this;}static['calcSplatA'+'abb'](_0x5ba4e0,_0xd2ba6b,_0x50f55a,_0x57cca7){_g(za,_0xd2ba6b,_0x50f55a),yf['center']['set'](-0x13*-0x6a+0x1*0xcd6+-0x14b4,-0xfec+-0xc1d*0x1+0x1c09,0x11bf+0x1a60+0x5*-0x8d3),yf['halfExtent'+'s']['set'](_0x57cca7['x']*(0x1925+-0x1*0x502+-0x1421*0x1),_0x57cca7['y']*(-0x1dbf+0x10*-0xa7+0x1*0x2831),_0x57cca7['z']*(-0x2508+0xb57+0x19b3)),_0x5ba4e0['setFromTra'+'nsformedAa'+'bb'](yf,za);}['getProp'](_0x44f68c,_0x44a7bb='vertex'){var _0x10df2d,_0x30f67c;return(_0x30f67c=(_0x10df2d=this['getElement'](_0x44a7bb))==null?void(-0xda9+-0xdf+0xe88):_0x10df2d['properties']['find'](_0x3627e1=>_0x3627e1['name']===_0x44f68c))==null?void(-0x75*0x2+0x3*-0xd0+0x35a):_0x30f67c['storage'];}['getElement'](_0x4340d4){return this['elements']['find'](_0x57a8e8=>_0x57a8e8['name']===_0x4340d4);}['addProp'](_0x3c3b3a,_0x247e6a){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x3c3b3a,'storage':_0x247e6a,'byteSize':0x4});}['createIter'](_0xdf8cee,_0xa1b0ec,_0x1b552b,_0x44be2e,_0x2fd2f){return new ZA(this,_0xdf8cee,_0xa1b0ec,_0x1b552b,_0x44be2e,_0x2fd2f);}async['calcAabbAs'+'ync'](_0x1b000e,_0x14ff2c){var _0x23d98b,_0x19b2cd;if((_0x23d98b=this['transformD'+'ata'])!=null&&_0x23d98b['center']&&((_0x19b2cd=this['transformD'+'ata'])!=null&&_0x19b2cd['halfExtent'+'s'])){_0x1b000e['center']['set'](this['transformD'+'ata']['center'][0x18a3+0x2536+-0x3dd9],this['transformD'+'ata']['center'][0x1ab5+-0x2310+-0xa*-0xd6],this['transformD'+'ata']['center'][0x87b+0x1f*0x1d+-0x34*0x3b]),_0x1b000e['halfExtent'+'s']['set'](this['transformD'+'ata']['halfExtent'+'s'][-0x1886+0x953*-0x2+0x2b2c],this['transformD'+'ata']['halfExtent'+'s'][0x1*-0xb19+0x446+0x6d4],this['transformD'+'ata']['halfExtent'+'s'][-0x4*0x829+0x19ef+0x6b7]);return;}const _0x53e74d=this['getProp']('x'),_0x1a3b4f=this['getProp']('y'),_0x51c8f3=this['getProp']('z'),_0x552482=this['getProp']('scale_0'),_0x2c2ccb=this['getProp']('scale_1'),_0x1bf080=this['getProp']('scale_2'),_0x1a3e07=await(_0x14ff2c==null?void(-0x29*0x7+0x91*-0x43+0x2712):_0x14ff2c['calcAabb'](this['numSplats'],_0x53e74d,_0x1a3b4f,_0x51c8f3,_0x552482,_0x2c2ccb,_0x1bf080));_0x1b000e['center']['set'](_0x1a3e07['center'][-0x1f74+0xd3*0x6+0x179*0x12],_0x1a3e07['center'][0x1b*-0xf1+0x16ce*-0x1+0x303a],_0x1a3e07['center'][-0x1*0x2335+-0x1a9b*-0x1+0x2*0x44e]),_0x1b000e['halfExtent'+'s']['set'](_0x1a3e07['halfExtent'+'s'][0x1*0x19f8+-0x1f84+0xa*0x8e],_0x1a3e07['halfExtent'+'s'][0x9a6+-0x2d7*-0x4+-0x1501],_0x1a3e07['halfExtent'+'s'][-0x2*-0xe75+-0x1*0x1b5a+0x18e*-0x1]);}['calcAabb'](_0x539133,_0x303171){let _0x2372fa,_0x485ec0,_0x30c597,_0x7b7786,_0x65bfd6,_0x1e5812,_0x178ca3=!(-0x16+0x21c2+0x4*-0x86b);const _0x431117=this['getProp']('x'),_0x2e67ac=this['getProp']('y'),_0x302abf=this['getProp']('z'),_0x85ccc6=this['getProp']('scale_0'),_0x215830=this['getProp']('scale_1'),_0x27a54d=this['getProp']('scale_2');for(let _0x1f3580=-0xf13+-0x1bb7+0x2aca;_0x1f3580<this['numSplats'];++_0x1f3580){if(_0x303171&&!_0x303171(_0x1f3580))continue;const _0x563abd=_0x431117[_0x1f3580],_0x3ae61c=_0x2e67ac[_0x1f3580],_0x562e4e=_0x302abf[_0x1f3580],_0x2dc3f4=Math['max'](_0x85ccc6[_0x1f3580],_0x215830[_0x1f3580],_0x27a54d[_0x1f3580]);if(!isFinite(_0x563abd)||!isFinite(_0x3ae61c)||!isFinite(_0x562e4e)||!isFinite(_0x2dc3f4))continue;const _0x52c780=(-0x16dc+0x15d+0x1581)*Math['exp'](_0x2dc3f4);_0x178ca3?(_0x178ca3=!(-0x16*-0x25+-0x1*-0x1bd9+-0x1f06),_0x2372fa=_0x563abd-_0x52c780,_0x485ec0=_0x3ae61c-_0x52c780,_0x30c597=_0x562e4e-_0x52c780,_0x7b7786=_0x563abd+_0x52c780,_0x65bfd6=_0x3ae61c+_0x52c780,_0x1e5812=_0x562e4e+_0x52c780):(_0x2372fa=Math['min'](_0x2372fa,_0x563abd-_0x52c780),_0x485ec0=Math['min'](_0x485ec0,_0x3ae61c-_0x52c780),_0x30c597=Math['min'](_0x30c597,_0x562e4e-_0x52c780),_0x7b7786=Math['max'](_0x7b7786,_0x563abd+_0x52c780),_0x65bfd6=Math['max'](_0x65bfd6,_0x3ae61c+_0x52c780),_0x1e5812=Math['max'](_0x1e5812,_0x562e4e+_0x52c780));}return _0x178ca3||(_0x539133['center']['set']((_0x2372fa+_0x7b7786)*(-0x1e07+0x225b+0x1*-0x454+0.5),(_0x485ec0+_0x65bfd6)*(0x7e6+0x1d87+-0x256d*0x1+0.5),(_0x30c597+_0x1e5812)*(0x1*-0x529+-0x1*-0x9bd+-0x494+0.5)),_0x539133['halfExtent'+'s']['set']((_0x7b7786-_0x2372fa)*(0x108+-0x1ab5+0x3ab*0x7+0.5),(_0x65bfd6-_0x485ec0)*(0x323+0x28c*-0x1+-0x97+0.5),(_0x1e5812-_0x30c597)*(-0x1ccf+0x6f3*-0x3+0x635*0x8+0.5))),!_0x178ca3;}['yieldToMai'+'n'](){var _0x42fbcf;return(_0x42fbcf=globalThis['scheduler'])!=null&&_0x42fbcf['yield']?globalThis['scheduler']['yield']():new Promise(_0x3ec327=>{setTimeout(_0x3ec327,0x1f0d+0xc93+-0x20*0x15d);});}['calcAabbEx'+'act'](_0x5976ae,_0x23d7fb){const _0x6e4309=new D(),_0x317ee3=new le(),_0x38ff5c=new D(),_0x40f21e=this['createIter'](_0x6e4309,_0x317ee3,_0x38ff5c);let _0x390ff4=!(-0xf47*0x1+-0x2b2+0x11f9);for(let _0x4c72a3=-0x2198+-0x1fda+0x4172;_0x4c72a3<this['numSplats'];++_0x4c72a3)_0x23d7fb&&!_0x23d7fb(_0x4c72a3)||(_0x40f21e['read'](_0x4c72a3),_0x390ff4?(_0x390ff4=!(0x3*-0x47b+0x1*-0x1e25+0x2b97),qn['calcSplatA'+'abb'](_0x5976ae,_0x6e4309,_0x317ee3,_0x38ff5c)):(qn['calcSplatA'+'abb'](mg,_0x6e4309,_0x317ee3,_0x38ff5c),_0x5976ae['add'](mg)));return!_0x390ff4;}async['getCenters'](_0x498018){const _0x2aa706=this['getProp']('x'),_0x1ec023=this['getProp']('y'),_0x15be1b=this['getProp']('z');for(let _0x3c6523=0x1f8a+-0x14de+0x2ab*-0x4;_0x3c6523<this['numSplats'];++_0x3c6523)_0x498018[_0x3c6523*(0x1b*-0x139+0x680*0x5+0x86)+(0x1*0x26d5+0xf75+-0x364a)]=_0x2aa706[_0x3c6523],_0x498018[_0x3c6523*(-0x25b4+0x208a+-0x5*-0x109)+(-0x3b7+-0xa85+0xe3d)]=_0x1ec023[_0x3c6523],_0x498018[_0x3c6523*(0x3da+-0x5*-0x71+0x9*-0xac)+(0x1*0xcb5+0x1327+-0x1fda)]=_0x15be1b[_0x3c6523],_0x3c6523%xf===0x163*-0x16+0x68*-0x27+0x2e5a&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x2edd08;if((_0x2edd08=this['transformD'+'ata'])!=null&&_0x2edd08['muT'])return this['transformD'+'ata']['muT'];const _0x2f9a78=this['getProp']('t');return _0x2f9a78?new Float32Array(_0x2f9a78):void(0x132*0x11+0x29*-0x9d+0xd*0x5f);}async['getTScale'](){const _0x212bfb=this['getProp']('t_scale');if(!_0x212bfb)return;const _0x4774ae=new Float32Array(this['numSplats']);for(let _0x5c2513=0xf61+0x154d*-0x1+0x5ec;_0x5c2513<this['numSplats'];++_0x5c2513)_0x4774ae[_0x5c2513]=Math['exp'](_0x212bfb[_0x5c2513]),_0x5c2513%xf===0x13*-0x11c+0x1322+0x53*0x6&&await this['yieldToMai'+'n']();return _0x4774ae;}async['getMotion'](_0x41a162){const _0xa8abac=this['getProp']('motion_0'),_0x271a4d=this['getProp']('motion_1'),_0x208ddf=this['getProp']('motion_2');if(!(!_0xa8abac||!_0x271a4d||!_0x208ddf)){for(let _0x100c5e=0x2077*0x1+-0xbdb+0x2*-0xa4e;_0x100c5e<this['numSplats'];++_0x100c5e)_0x41a162[_0x100c5e*(-0x1*0x1271+0x45*0x71+-0xc01)+(-0xdf*-0x7+-0x9e2+0x3c9)]=_0xa8abac[_0x100c5e],_0x41a162[_0x100c5e*(0x2413+-0x52*-0x25+-0x1*0x2fea)+(-0x1*0xde7+-0x985*0x1+0x176d)]=_0x271a4d[_0x100c5e],_0x41a162[_0x100c5e*(-0xe71*0x1+0x1ece+-0x2*0x82d)+(-0x359*0x9+-0x19db+0x37fe)]=_0x208ddf[_0x100c5e],_0x100c5e%xf===-0x36d*0x7+0x1*-0x28d+0x2*0xd44&&await this['yieldToMai'+'n']();}}['getTimeInd'+'ex'](){var _0x2dcf61;if((_0x2dcf61=this['transformD'+'ata'])!=null&&_0x2dcf61['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x6c9ad2=this['getProp']('time_index');if(_0x6c9ad2)return new Float32Array(_0x6c9ad2);}['calcFocalP'+'oint'](_0x23b20a,_0x5e17b5){const _0xb7a7ad=this['getProp']('x'),_0x3f5b1d=this['getProp']('y'),_0x43e278=this['getProp']('z'),_0x7f503c=this['getProp']('scale_0'),_0x1e1813=this['getProp']('scale_1'),_0x34bf8f=this['getProp']('scale_2');_0x23b20a['x']=0x150a*-0x1+0xc59+0x8b1,_0x23b20a['y']=-0x1*0x2373+0xd79+0x61*0x3a,_0x23b20a['z']=-0xfa3*0x1+-0x2065*0x1+0x3008;let _0x1b3a28=0xd0f+0x1*-0x665+0x6aa*-0x1;for(let _0x1cf875=0x57d*-0x1+-0x3a4*-0x8+-0x17a3;_0x1cf875<this['numSplats'];++_0x1cf875){if(_0x5e17b5&&!_0x5e17b5(_0x1cf875))continue;const _0x510a7f=_0xb7a7ad[_0x1cf875],_0x256e0c=_0x3f5b1d[_0x1cf875],_0x275470=_0x43e278[_0x1cf875];if(!isFinite(_0x510a7f)||!isFinite(_0x256e0c)||!isFinite(_0x275470))continue;const _0x2601c0=(0x3*0x691+0x156*0x1+0x1508*-0x1)/(0x2*-0x593+0x3*0x5fd+-0x6d0+Math['exp'](Math['max'](_0x7f503c[_0x1cf875],_0x1e1813[_0x1cf875],_0x34bf8f[_0x1cf875])));_0x23b20a['x']+=_0x510a7f*_0x2601c0,_0x23b20a['y']+=_0x256e0c*_0x2601c0,_0x23b20a['z']+=_0x275470*_0x2601c0,_0x1b3a28+=_0x2601c0;}_0x23b20a['mulScalar']((0xe4c+-0x25af*-0x1+-0x1*0x33fa)/_0x1b3a28);}['renderWire'+'frameBound'+'s'](_0x11c32b,_0x5bc120){const _0x1b27a0=new D(),_0x1d7c6d=new le(),_0x29cd13=new D(),_0x29209d=new D(),_0x58b2d5=new D(),_0x4ff2fb=this['createIter'](_0x1b27a0,_0x1d7c6d,_0x29cd13);for(let _0x157f70=-0xd2c+0x1e24*0x1+-0x10f8;_0x157f70<this['numSplats'];++_0x157f70)_0x4ff2fb['read'](_0x157f70),_g(za,_0x1b27a0,_0x1d7c6d),za['mul2'](_0x5bc120,za),_0x29209d['set'](_0x29cd13['x']*-(0x212+0x1*-0x88a+0x67a),_0x29cd13['y']*-(-0xa13*0x3+-0x16*-0x100+0x83b),_0x29cd13['z']*-(-0x164+-0x13c3*-0x1+-0x61f*0x3)),_0x58b2d5['set'](_0x29cd13['x']*(-0x3c1*0x5+-0x214a+-0x3411*-0x1),_0x29cd13['y']*(0x9*-0x139+0xada+0x29),_0x29cd13['z']*(0x12*-0xed+-0x139f+0x244b)),_0x11c32b['immediate']['drawWireAl'+'ignedBox'](_0x29209d,_0x58b2d5,KA,!(-0x93b+-0x773*0x5+0x2e7a),_0x11c32b['defaultDra'+'wLayer'],za);}get['isCompress'+'ed'](){return!(0x13*-0x106+0x20d7+-0xd64);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x123ad9=-0x1*-0x21f1+0xe3e*0x2+-0x3e6d*0x1;_0x123ad9<-0x1f33+0xa93+-0x19*-0xd5;++_0x123ad9)if(!this['getProp']('f_rest_'+_0x123ad9))return _0x123ad9;return-0x1*0x7a2+0x23aa+-0x1bdb*0x1;})())]??-0x54c+0xbd4+-0x688;}['calcMorton'+'Order'](){const _0x4ee33c=_0xfbfd91=>{let _0x2b53b2=_0xfbfd91[0x1e64+-0x128e+-0xf*0xca],_0x4807a9=_0xfbfd91[0x2d3*-0x3+0x420+0x3*0x173];for(let _0x145815=-0x5*0x769+0x4*-0x608+0x3d2e;_0x145815<_0xfbfd91['length'];_0x145815++)_0xfbfd91[_0x145815]<_0x2b53b2&&(_0x2b53b2=_0xfbfd91[_0x145815]),_0xfbfd91[_0x145815]>_0x4807a9&&(_0x4807a9=_0xfbfd91[_0x145815]);return{'min':_0x2b53b2,'max':_0x4807a9};},_0x143fe5=(_0x4ad63b,_0x77fdf9,_0x5e28d6)=>{const _0x1a1a50=_0x4ff0b4=>(_0x4ff0b4&=-0x1160*0x1+-0x106e*0x2+-0x1*-0x363b,_0x4ff0b4=(_0x4ff0b4^_0x4ff0b4<<-0x3b*-0xa7+-0xde4+-0x1889*0x1)&0x1*0x13361c201+-0x1fa6c707c+0x2396dd*0xcc2,_0x4ff0b4=(_0x4ff0b4^_0x4ff0b4<<0xc10+0x1388+-0x1f90)&0x170e388+-0x2381*0x1369+-0x23229*-0x1f0,_0x4ff0b4=(_0x4ff0b4^_0x4ff0b4<<0x1c8c+0x38*0x14+-0x1074*0x2)&-0x39d2fb+0x98*0x91fa4+-0x224c5a2,_0x4ff0b4=(_0x4ff0b4^_0x4ff0b4<<-0x5b*0x46+-0xf8d+0x2871)&0x6*0x1ff6810+0x7e8f881*-0x1+0x5111a6a,_0x4ff0b4);return(_0x1a1a50(_0x5e28d6)<<0x1*0x9e7+0xdc4+-0x17a9)+(_0x1a1a50(_0x77fdf9)<<0x11*-0x241+0xec5+0x178d*0x1)+_0x1a1a50(_0x4ad63b);},_0x5a1357=this['getProp']('x'),_0x3eea67=this['getProp']('y'),_0xe4f180=this['getProp']('z'),{min:_0x11c281,max:_0x4a938f}=_0x4ee33c(_0x5a1357),{min:_0x50a56b,max:_0x5125b0}=_0x4ee33c(_0x3eea67),{min:_0x131d25,max:_0x276b27}=_0x4ee33c(_0xe4f180),_0x2a88c0=_0x11c281===_0x4a938f?-0xd*-0x26b+-0x48a*-0x3+0x1*-0x2d0d:(-0x685+0x6*0x3b+-0x1*-0x923)/(_0x4a938f-_0x11c281),_0x2b8498=_0x50a56b===_0x5125b0?-0x195*-0x13+0xfeb+-0x2dfa:(0x1c4+0x1fd8+-0x1d9c)/(_0x5125b0-_0x50a56b),_0xfd5f12=_0x131d25===_0x276b27?-0x97*-0x35+0xa61+-0x29a4:(0x1*0x1819+-0x10f*-0x19+0x28*-0x12a)/(_0x276b27-_0x131d25),_0x5cd29b=new Map();for(let _0x5ddf02=-0x43e*0x6+0x1bd8+-0x6*0x66;_0x5ddf02<this['numSplats'];_0x5ddf02++){const _0x4dea3f=Math['min'](-0x13ce+-0x1*-0x552+-0x39*-0x53,Math['floor']((_0x5a1357[_0x5ddf02]-_0x11c281)*_0x2a88c0)),_0x51b32a=Math['min'](0x1c*-0xad+-0x49d*-0x1+-0x1aa*-0xb,Math['floor']((_0x3eea67[_0x5ddf02]-_0x50a56b)*_0x2b8498)),_0x22d7d3=Math['min'](-0x152f+-0x26e1+0x400f,Math['floor']((_0xe4f180[_0x5ddf02]-_0x131d25)*_0xfd5f12)),_0x178ef1=_0x143fe5(_0x4dea3f,_0x51b32a,_0x22d7d3),_0x2836da=_0x5cd29b['get'](_0x178ef1);_0x2836da?_0x2836da['push'](_0x5ddf02):_0x5cd29b['set'](_0x178ef1,[_0x5ddf02]);}const _0x1c581d=Array['from'](_0x5cd29b['keys']())['sort']((_0x31c2a1,_0x1df68d)=>_0x31c2a1-_0x1df68d),_0x4aad00=new Uint32Array(this['numSplats']);let _0x4178ae=-0x10a3*-0x2+0xc4*0x18+0x4b2*-0xb;for(let _0x41555d=0x1*-0x17c2+-0xd6d+-0xc65*-0x3;_0x41555d<_0x1c581d['length'];++_0x41555d){const _0x59498e=_0x5cd29b['get'](_0x1c581d[_0x41555d]);for(let _0x4437ca=-0x141d+0x23a7+-0x27*0x66;_0x4437ca<_0x59498e['length'];++_0x4437ca)_0x4aad00[_0x4178ae++]=_0x59498e[_0x4437ca];}return _0x4aad00;}['reorder'](_0x3caaca){const _0x3b4397=new Map(),_0x36a70b=_0x353566=>{if(_0x3b4397['has'](_0x353566)){const _0x59fe2d=_0x3b4397['get'](_0x353566);return _0x3b4397['delete'](_0x353566),_0x59fe2d;}return new ArrayBuffer(_0x353566);},_0x295847=_0x3de9a0=>{_0x3b4397['set'](_0x3de9a0['byteLength'],_0x3de9a0);},_0x156352=_0x4f8407=>{const _0x56eba2=new _0x4f8407['constructo'+'r'](_0x36a70b(_0x4f8407['byteLength']));for(let _0x256ffe=-0x1*-0x841+-0xce5*-0x1+-0x1526*0x1;_0x256ffe<_0x3caaca['length'];_0x256ffe++)_0x56eba2[_0x256ffe]=_0x4f8407[_0x3caaca[_0x256ffe]];return _0x295847(_0x4f8407['buffer']),_0x56eba2;};this['elements']['forEach'](_0x287af7=>{_0x287af7['properties']['forEach'](_0x26d2d5=>{_0x26d2d5['storage']&&(_0x26d2d5['storage']=_0x156352(_0x26d2d5['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}async function QA(){const _0x4014b5=new Float32Array(-0x1*-0x25dd+0x2e5*0x1+-0x28c1);new Int32Array(_0x4014b5['buffer']);let _0x3fc8ef=-0x9*0x457+0xec3*-0x1+-0x2*-0x1ae9,_0x29642a={};self['onmessage']=async _0x214f17=>{const {data:_0x293aaa}=_0x214f17;switch(_0x293aaa['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x13eebc(_0x293aaa['properties'],_0x293aaa['timeIndex'],_0x293aaa['timeOption']);break;case'releaseSeq'+'Data':_0x47999a(_0x293aaa['index']);break;case'releaseAll'+'SeqData':_0x550d39();break;case'destroyWor'+'ker':_0x4cfef2();break;}};const _0x10ae0e=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x9d8ff8=-0x1590+0x751*-0x1+0x1ce1;_0x9d8ff8<0x4*-0x70c+-0x245f+0x40bc;++_0x9d8ff8)if(!_0x29642a['f_rest_'+_0x9d8ff8])return _0x9d8ff8;return 0xd7d+0x1b69+0x2b7*-0xf;})())]??-0x5d7+-0x2e5+0x8bc),_0x13eebc=(_0x3ec303,_0x507ca9,_0x494198)=>{var _0x481058,_0x4ac627;_0x3fc8ef+=(((_0x481058=_0x3ec303['position'])==null?void(0x255c+-0x156f+-0xfed*0x1):_0x481058['length'])??-0x65b+-0x1*-0x10ab+-0xa50)/(0x69d*0x1+-0xfbb*0x1+0x921),console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20append'+'GSplatData'+'\x20numSplats',_0x3fc8ef,(((_0x4ac627=_0x3ec303['position'])==null?void(-0x1884+0x206b+-0x7e7):_0x4ac627['length'])??-0x6e6+-0x2305+0x93*0x49)/(-0x13*-0x199+-0x1*-0x166b+-0x34c3));const _0x244a9e=Object['keys'](_0x3ec303);for(let _0x1ee162=-0x1*-0x1466+-0x812+-0xc54;_0x1ee162<_0x244a9e['length'];_0x1ee162++){const _0x2210ae=_0x244a9e[_0x1ee162],_0x4609ef=_0x3ec303[_0x2210ae],_0x28929e=_0x29642a[_0x2210ae]??new Float32Array(-0x3*-0x43+-0x1576*-0x1+-0x43*0x55);if(_0x4609ef){let _0x2d390c=null;switch(_0x2210ae){case'position':_0x2d390c=new Float32Array(_0x3fc8ef*(0x239c+-0x11bb*0x1+-0x11de));break;case'color_opac'+'ity':_0x2d390c=new Uint16Array(_0x3fc8ef*(0x1*-0x71d+0x1c81+0x8*-0x2ac));break;case'scale':_0x2d390c=new Uint16Array(_0x3fc8ef*(0x1*0x1915+0x171f+-0x3031));break;case'motion':_0x2d390c=new Float32Array(_0x3fc8ef*(0x12a4+0x177b+-0x16*0x1ea));break;case'rotation':_0x2d390c=new Float32Array(_0x3fc8ef*(-0x25*-0xb5+-0x11d6+-0x1*0x850));break;default:_0x2d390c=new Float32Array(_0x3fc8ef);break;}_0x2d390c['set'](_0x28929e,0x1*-0x1357+0x250f+0xe*-0x144),_0x2d390c['set'](_0x4609ef,_0x28929e['length']),_0x29642a[_0x2210ae]=_0x2d390c;}}const _0x1ebb8a={};Object['keys'](_0x29642a)['forEach'](_0x10625d=>{_0x10625d==='scale'||_0x10625d==='color_opac'+'ity'?_0x1ebb8a[_0x10625d]=new Uint16Array(_0x29642a[_0x10625d]['buffer']['slice']()):_0x1ebb8a[_0x10625d]=new Float32Array(_0x29642a[_0x10625d]['buffer']['slice']());});const _0x9eb2f5=Object['keys'](_0x1ebb8a)['map'](_0x31e19a=>_0x1ebb8a[_0x31e19a]['buffer']),_0x59dc07=_0x8b4c48(),_0x4c4a05=Object['keys'](_0x59dc07)['map'](_0x3969b0=>_0x59dc07[_0x3969b0]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x1ebb8a,'transformData':_0x59dc07},_0x9eb2f5['concat'](_0x4c4a05));},_0x8b4c48=()=>{const _0x7ec1c5=_0x29642a['position']['length']/(0x17*0x149+0x329+-0x20b5),_0x6f0350=_0x29642a['position'],_0x4317de=_0x29642a['scale'],_0x2144b3=_0x29642a['rotation'],_0x219e78=_0x29642a['motion'],_0x4e85bc=_0x29642a['t'],_0x401bb1=_0x29642a['t_scale'],_0x48f54d=_0x29642a['time_index'],_0x42a0c5=_0x29642a['color_opac'+'ity'],_0x113569=(_0x4e85bc==null?void(-0x60*-0x14+-0x6d*-0x4+-0x934):_0x4e85bc['length'])>0x1*-0xcb+-0x25c8+0x2693;let _0x4b1cf2=null,_0x548c40=null,_0x309932=null,_0x2a9a4f=null;_0x113569&&(_0x548c40=new Float32Array(_0x7ec1c5*(-0x6d*0x4e+-0x1*0x83d+0x2976)),_0x2a9a4f=new Float32Array(_0x7ec1c5),_0x4b1cf2=new Float32Array(_0x219e78['buffer']['slice']()),_0x309932=new Float32Array(_0x219e78['buffer']['slice']()));const _0x9cce54=new Float32Array(_0x6f0350['buffer']['slice']()),_0xcc33d9=new Float32Array(_0x6f0350['buffer']['slice']()),_0x444a96=new Uint16Array(_0x42a0c5['buffer']['slice']()),_0x55c429=new Uint16Array(_0x4317de['buffer']['slice']()),_0x18ffc0=new Float32Array(_0x2144b3['buffer']['slice']());for(let _0x33f898=0x1*0x1279+-0x151*0xb+-0x3fe;_0x33f898<_0x7ec1c5;++_0x33f898)_0x113569&&_0x548c40&&_0x2a9a4f&&(_0x2a9a4f[_0x33f898]=_0x401bb1?Math['exp'](_0x401bb1[_0x33f898]):0x1e55+-0x13d3+-0x1*0xa82,_0x548c40[_0x33f898*(0x15d5+0x498+-0x1a6a)+(-0xe*-0x2ae+0x33*-0xb2+-0x20e)]=_0x4e85bc?_0x4e85bc[_0x33f898]:0xd34+-0x3f6+-0xb6*0xd,_0x548c40[_0x33f898*(0x6*-0x369+0x1867+-0x3ee)+(-0xdaa+0xc24+0x187*0x1)]=_0x2a9a4f[_0x33f898]);const _0x435b76=_0x208b4e();let _0x32172c={'dataColor':_0x444a96,'dataCenters':_0xcc33d9,'dataPosition':_0x9cce54,'dataScale':_0x55c429,'dataRotation':_0x18ffc0,..._0x435b76};return _0x113569&&(_0x32172c={..._0x32172c,'dataMotion':_0x4b1cf2,'dataTime':_0x548c40,'motion':_0x309932,'tScaleArray':_0x2a9a4f,'muT':new Float32Array(_0x4e85bc),'timeIndex':new Float32Array(_0x48f54d)}),_0x32172c;},_0x278a63=_0x1a98a7=>{const _0x4bc22f=[];for(let _0x363ef5=-0x837+-0x1a*0x7d+0x14e9;_0x363ef5<_0x1a98a7;++_0x363ef5)_0x4bc22f['push'](_0x29642a['f_rest_'+_0x363ef5]);return _0x4bc22f;},_0x208b4e=()=>{const _0x5790b2=_0x10ae0e();if(_0x5790b2<=-0xf58*0x1+-0xa51*0x3+0x2e4b)return{};const _0x1a80a8=_0x29642a['x']['length'],_0x12518d=new Uint32Array(_0x1a80a8*(0x1ed*0x10+-0xb56*-0x1+-0x2a22)),_0x26cd51=new Uint32Array(_0x1a80a8*(0x3e8*-0xa+-0x106*0xd+0x1176*0x3)),_0x42895f=new Uint32Array(_0x1a80a8*(-0x187a+0x1ae*-0x16+0x3d72)),_0x53ed83=new Uint32Array(_0x1a80a8*(0xae7*-0x1+-0x296+0xd81)),_0x4d0f00={0x1:0x3,0x2:0x8,0x3:0xf}[_0x5790b2],_0x42c355=_0x278a63(_0x4d0f00*(0x11f0*-0x1+-0x3aa+0x1*0x159d)),_0x130d6f=-0x10*0x89+-0x166d+0x26fc*0x1,_0x121ad4=-0x2*0x392+-0x423+0xf46,_0x5aa75f=new Float32Array(0xa*-0x58+-0x1*0x1dc1+0x1099*0x2),_0x5a98c8=new Uint32Array(_0x5aa75f['buffer']),_0x1792f9=new Array(_0x4d0f00*(-0x6a*0x35+-0x2d6*-0x5+0x7c7))['fill'](-0x196d+-0x5db*0x4+-0x131*-0x29);for(let _0x36bd7c=-0x1002+0x1d*0xe+-0x1*-0xe6c;_0x36bd7c<_0x1a80a8;++_0x36bd7c){for(let _0x32da78=0x26ce+0x1*-0x25e2+-0x1*0xec;_0x32da78<_0x4d0f00;++_0x32da78)_0x1792f9[_0x32da78*(0x25db*0x1+-0x1*-0x1fa9+-0x4581)]=_0x42c355[_0x32da78][_0x36bd7c],_0x1792f9[_0x32da78*(-0x269a*0x1+0x132b+0x1372)+(-0xc5*0x2f+-0x85c+0x2c88)]=_0x42c355[_0x32da78+_0x4d0f00][_0x36bd7c],_0x1792f9[_0x32da78*(0x1e39+-0x50*0x31+-0xee6)+(-0x4*0x7+-0x2*-0x11b7+-0x2350)]=_0x42c355[_0x32da78+_0x4d0f00*(-0x13e4*0x1+-0x12b9*0x1+0x269f)][_0x36bd7c];let _0x4bcd89=_0x1792f9[-0x2077+0xe90+0x11e7];for(let _0x4e061f=0x2ca+-0x16*-0x134+-0x1d41;_0x4e061f<_0x4d0f00*(0x132d+-0xc38+0x379*-0x2);++_0x4e061f)_0x4bcd89=Math['max'](_0x4bcd89,Math['abs'](_0x1792f9[_0x4e061f]));if(_0x4bcd89!==0x16d9+-0x757+-0xf82){for(let _0x27c3a3=-0xf43+0x187d+0x1*-0x93a;_0x27c3a3<_0x4d0f00;++_0x27c3a3)_0x1792f9[_0x27c3a3*(0x1e47*0x1+-0x1*-0x485+-0x22c9)+(-0x2199+0x1e2*0x2+-0x1dd5*-0x1)]=Math['max'](0x1*-0x9e3+-0x6fd+0x10e0,Math['min'](_0x130d6f,Math['floor']((_0x1792f9[_0x27c3a3*(0x22*-0xf7+-0xb5f*0x1+0x2c30)+(-0x268f+-0x2461+0x4af0)]/_0x4bcd89*(-0x2*-0x5e7+-0x20ed+0x151f+0.5)+(-0x1f52+0x13*0x182+-0x13*-0x24+0.5))*_0x130d6f+(0x2*-0xc95+0x13*0x17b+-0x2f7+0.5)))),_0x1792f9[_0x27c3a3*(0x1d3b+0x13cc+-0x3104)+(-0x2286+-0x12b*0x13+-0x42*-0xdc)]=Math['max'](-0x3e*-0x95+-0xc15+-0x1801,Math['min'](_0x121ad4,Math['floor']((_0x1792f9[_0x27c3a3*(0x18be+-0x6*-0x2b6+-0x28ff)+(0x161b+-0x211f*0x1+0xb05)]/_0x4bcd89*(0x1*0x1e83+0x4f5+-0x2378+0.5)+(0x5*0x31+-0xeef+0xdfa+0.5))*_0x121ad4+(-0xba3+0x16de+-0xb3b+0.5)))),_0x1792f9[_0x27c3a3*(-0x8*-0x15f+0x11d9+0x99a*-0x3)+(0x2361+-0x85*0x32+-0x965)]=Math['max'](0xdb1+-0x26b1+0x40*0x64,Math['min'](_0x130d6f,Math['floor']((_0x1792f9[_0x27c3a3*(-0x21cf+0x1*0x188b+-0x5*-0x1db)+(-0xe04+0x5*0x558+-0xcb2)]/_0x4bcd89*(-0x1042+0x2*0x99b+-0xbd*0x4+0.5)+(0x2eb+-0xa*0x2d8+0x1985+0.5))*_0x130d6f+(-0xfae+0xeda+0xd4+0.5))));_0x5aa75f[0x1*-0x25bb+0x1958+0x7*0x1c5]=_0x4bcd89,_0x12518d[_0x36bd7c*(0x1*0x2258+0x2381+0x65*-0xb1)+(0x194*-0x10+-0x607+0x1f47)]=_0x5a98c8[-0xd*0x289+0x2485+0x130*-0x3],_0x12518d[_0x36bd7c*(-0x56e*-0x7+-0x23fc+-0x202)+(-0x18*0x11a+-0x2b1*-0x1+0x17c0)]=_0x1792f9[0x1245+-0x2218*-0x1+-0x345d]<<-0x1*-0x24b+0x7ca+-0xa00|_0x1792f9[-0xc9+0x9d7+-0x90d]<<0xe*0x1c3+0x2656+-0x3ef5*0x1|_0x1792f9[-0x1*0x41f+0x1*-0x37d+0x79e],_0x12518d[_0x36bd7c*(0x1258+-0xe19+-0x43b)+(-0x2673+-0x925*-0x1+0x1d50)]=_0x1792f9[-0x677+0x2502+-0x2*0xf44]<<-0x4*0x948+0x887+0x1cae|_0x1792f9[-0x1866+-0xa51*-0x1+-0x9*-0x191]<<0xe9*0x9+-0x13b8+0xb92|_0x1792f9[-0x232f+0x1724+0xc10],_0x12518d[_0x36bd7c*(0xe4e+0x55a*-0x5+0xc78)+(-0x1eb5+-0x117*-0x1+0x1da1)]=_0x1792f9[0x2019+-0x1*0xec+-0x1f27]<<0x25ed+-0xaad*0x3+-0x5d1|_0x1792f9[0x22f8+0x26*-0x22+-0x1de5]<<0x8*0x1c5+-0xdfd*-0x1+-0x1c1a|_0x1792f9[-0x19fd+0x1*0x1d21+-0x31c*0x1],_0x5790b2>-0x7f*0xe+0x4ed+-0x7*-0x4a&&(_0x26cd51[_0x36bd7c*(-0x1c0c+0x65a*0x6+-0x506*0x2)+(0x682+0x15c1+-0x5a7*0x5)]=_0x1792f9[0x2*-0x116f+0xe6a+0x147d]<<0x221a+-0x71*-0xf+-0x28a4|_0x1792f9[-0xb*0x274+-0x1b8f+0x59*0x9d]<<0x1*-0x1c2b+0xd6+0x1b60|_0x1792f9[0x2306+0x12a9+-0x1*0x35a4],_0x26cd51[_0x36bd7c*(0x17fb+0x146e+-0x1*0x2c65)+(-0x7*-0x13b+-0xd17+0x47b)]=_0x1792f9[0x1c66+0x1*-0x10f3+-0x3*0x3cd]<<0x14e1+-0x4a+-0xd2*0x19|_0x1792f9[0x23dd*0x1+0x2e3*-0x7+0x31f*-0x5]<<0x1*-0x159b+0x1253*0x2+-0xf00|_0x1792f9[0x26aa+-0x515*0x1+-0x2187],_0x26cd51[_0x36bd7c*(-0x1364+-0x1cac+0x3014)+(0x738+0x11*-0x17b+0x11f5*0x1)]=_0x1792f9[0x1*0x2002+0x19c*0x17+0x141*-0x37]<<0x182*-0x13+-0x9e*0x1e+0x2f3f|_0x1792f9[0x4f7*0x1+0x10b*-0x4+-0xbb]<<-0x1263+0x29*-0x62+0x2220|_0x1792f9[-0x9cc+-0x65a+0x1037],_0x26cd51[_0x36bd7c*(0x127a+-0x1d6f*0x1+0xaf9)+(0x1305+-0x27*-0x29+0x1af*-0xf)]=_0x1792f9[0x16ea+-0x1*0x20f2+0x2*0x50d]<<0x127d+-0x1b35+0x3*0x2ef|_0x1792f9[-0xe4b+0x2618+-0xbdd*0x2]<<-0x19fd+-0x1*-0x11d5+-0x1*-0x833|_0x1792f9[0x268c+0x1d95+-0x440d*0x1],_0x5790b2>0xf14*0x1+-0x1bbc+-0x655*-0x2?(_0x42895f[_0x36bd7c*(-0x1980+0x211*-0x11+0x3ca5)+(-0xe11*-0x1+-0x1419+-0x4*-0x182)]=_0x1792f9[-0xb65*-0x2+0xa96+-0x214b*0x1]<<0x1a94+0x14de+-0x2f5d|_0x1792f9[-0x19df+-0x13*0x4a+0x1f73]<<-0x455*-0x4+0x72e+-0x1877|_0x1792f9[-0x9cb+0x15d9*0x1+-0xbf7],_0x42895f[_0x36bd7c*(-0x137f*0x2+0x1ec5+0x83d*0x1)+(-0x1ca5+-0x9e0+-0x2*-0x1343)]=_0x1792f9[-0x1*0x101f+-0x93+0x10ca]<<-0x15*-0x93+0x18db*0x1+-0x3*0xc47|_0x1792f9[-0x1ace+-0x4a*-0x33+-0xc29*-0x1]<<-0x4bb*0x5+0x1282+0x1*0x530|_0x1792f9[-0x1*0x1373+-0x1705+0x2*0x1549],_0x42895f[_0x36bd7c*(-0x1ddf*0x1+-0x38f*0x6+0x333d)+(0x785+-0x8e1*0x2+0xa3f)]=_0x1792f9[0x4*-0x822+0x14e5*-0x1+0x3588]<<0x1009*0x2+0xe77+-0x2e74|_0x1792f9[-0x1064+-0x25a0+0x3620]<<0x154c+0xe+-0x1*0x154f|_0x1792f9[0x4fa+0x72+0x9*-0x97],_0x42895f[_0x36bd7c*(0x196b+-0x6b*0x3+-0x1826*0x1)+(-0x16ce+-0x7*0x1af+-0x2b*-0xce)]=_0x1792f9[0x1*0x1edf+0xce*0xb+-0x1*0x279b]<<-0x1f19*0x1+-0x1c9d+0x3bcb|_0x1792f9[0x152a+-0x2047+0x4*0x2cf]<<-0x1c46+0x2360+-0x70f|_0x1792f9[-0x7*0x2b5+-0x1b7d+-0x1748*-0x2],_0x53ed83[_0x36bd7c*(0x10d4+-0x1*-0x14bf+-0x258f)+(0x366+-0x1fc3+0x1c5d)]=_0x1792f9[0x1*-0x2665+0xa99*0x3+0x6bb]<<-0x2f4+-0xa47*0x3+0x21de|_0x1792f9[0x1*0x119b+-0x1*-0x1dba+-0x119*0x2b]<<0x772+0x8*-0x274+0xc39|_0x1792f9[0xd5+-0xc*-0x1c8+0x19*-0xe2],_0x53ed83[_0x36bd7c*(-0x3b*-0x80+-0x392*-0x4+-0x2bc4)+(-0x229+-0x792+0x4*0x26f)]=_0x1792f9[-0x1*0x1391+-0xa4b+0x50*0x60]<<-0x2c7*0xa+-0xdc0+-0x1*-0x299b|_0x1792f9[-0x1e6f+-0x1*-0x2149+-0x2b5]<<-0x2*0x781+0x19ce+0x1*-0xac1|_0x1792f9[-0x1a38+-0x1172+-0x2bd*-0x10],_0x53ed83[_0x36bd7c*(-0xd*-0x1c9+-0x1906+-0x43*-0x7)+(0x1*-0x3f5+0xb3*-0x20+0x1a57*0x1)]=_0x1792f9[-0x1d6a+-0xaa*-0xe+-0x1445*-0x1]<<0x1614*-0x1+0x3a6*-0x2+-0x1d75*-0x1|_0x1792f9[-0x7b*0x3+0x29*0xd3+-0x2032]<<0xd2b*0x1+-0x2510+0x2fe*0x8|_0x1792f9[0x164b*0x1+0xc1*-0x6+-0x7*0x284],_0x53ed83[_0x36bd7c*(0xa24*-0x2+-0x25f2+0x3a3e)+(-0x5de*-0x5+0x1*0x24fb+0x2e*-0x171)]=_0x1792f9[0x1*-0x189b+-0x19b*-0x1+0x172a]<<-0x127+-0xf28+0x1064|_0x1792f9[-0x1c4d+-0x1*-0x2019+-0x1*0x3a1]<<-0x1d*-0x10f+0x2356+-0x41fe|_0x1792f9[0x11b7+0xe49+0x1c*-0x123]):_0x42895f[_0x36bd7c]=_0x1792f9[-0x2077+-0xe*0x2b3+-0x4656*-0x1]<<0x12c3+-0x1c2b*-0x1+-0x2ed9|_0x1792f9[-0x9*0x40f+-0xc7c+-0x3119*-0x1]<<0x35*0x37+0x19b1+-0x2509|_0x1792f9[0x8b7*-0x3+0x9d7+0x1065]);}}return{'sh1to3Data':_0x12518d,'sh4to7Data':_0x26cd51,'sh8to11Data':_0x42895f,'sh12to15Data':_0x53ed83};},_0x47999a=_0x374cb3=>{if(!_0x29642a['time_index'])return;const _0x15fa9e=_0x29642a['time_index']['findIndex'](_0x2a2227=>_0x2a2227===_0x374cb3);let _0x20f28b=_0x29642a['time_index']['findIndex']((_0x564d42,_0xacd87c)=>_0x564d42!==_0x374cb3&&_0xacd87c>_0x15fa9e);if(_0x20f28b===-(-0x222e*-0x1+-0x90a+-0x1923)&&_0x15fa9e===-(-0x670+0x6ed+-0x7c*0x1))return;_0x20f28b===-(-0xa52+-0x5c3+0x1016)&&_0x15fa9e!==-(0x25c0+0x3d8+-0x9*0x49f)&&(_0x20f28b=_0x29642a['time_index']['length']),_0x3fc8ef-=_0x20f28b-_0x15fa9e,console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20releas'+'eSeqData\x20n'+'umSplats',_0x3fc8ef,_0x20f28b-_0x15fa9e);const _0xd956a6=Object['keys'](_0x29642a);for(let _0xa1e743=0x1f*0x127+-0x141b+-0xf9e;_0xa1e743<_0xd956a6['length'];_0xa1e743++){const _0x44f6fa=_0xd956a6[_0xa1e743],_0x3897f1=_0x29642a[_0x44f6fa];if(_0x3897f1){let _0x5e267f=0x5b*0x47+0x1c07+0x11c1*-0x3;switch(_0x44f6fa){case'position':_0x5e267f=-0x1885+0x7*0x511+-0x1*0xaef;break;case'color_opac'+'ity':_0x5e267f=-0x38d+-0x1d79+0x1*0x210a;break;case'scale':_0x5e267f=0x1a19+-0x2a7+-0x176f;break;case'motion':_0x5e267f=0xb2f+-0x2f5*-0xa+-0x28be;break;case'rotation':_0x5e267f=0xb*-0xf+-0x143f*0x1+0x14e7;break;default:_0x5e267f=-0x1aff+-0x1*-0x1279+0x887;break;}const _0x663892=new Float32Array(_0x3fc8ef*_0x5e267f);_0x15fa9e>-0x1cd1*-0x1+-0x171*-0x4+-0x2295?(_0x663892['set'](_0x3897f1['subarray'](0x80e+0x35e*0x6+-0x1c42,_0x15fa9e*_0x5e267f),-0x1*0x1ac3+0x40e+0x1*0x16b5),_0x663892['set'](_0x3897f1['subarray'](_0x20f28b*_0x5e267f),_0x15fa9e*_0x5e267f)):_0x663892['set'](_0x3897f1['subarray'](_0x20f28b*_0x5e267f),0xb61+0x101a*0x1+-0x3ed*0x7),_0x29642a[_0x44f6fa]=_0x663892;}}},_0x550d39=()=>{const _0x39737c=Object['keys'](_0x29642a);for(let _0xcd8d18=-0x778+-0x16f*-0x1+0x609*0x1;_0xcd8d18<_0x39737c['length'];_0xcd8d18++){const _0x4d8c2c=_0x39737c[_0xcd8d18];_0x29642a[_0x4d8c2c]&&(_0x29642a[_0x4d8c2c]=[]);}},_0x4cfef2=()=>{_0x29642a={},_0x3fc8ef=0xce0+-0x11af+0x4cf;};}class JA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+QA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x177cbd,_0x15a771,_0x2c54e5,_0x324648=!(0x294+-0x1672+-0x13df*-0x1)){var _0x3a5c32,_0x3a33cc;const _0x5581aa={};return _0x177cbd['elements'][0x1645+-0x7f*-0x2d+0x8*-0x593]['properties']['forEach'](_0x273666=>{_0x5581aa[_0x273666['name']]=_0x273666['storage'];}),_0x324648?(_0x3a5c32=this['worker'])==null||_0x3a5c32['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x5581aa,'timeIndex':_0x15a771,'timeOption':_0x2c54e5},_0x177cbd['elements'][-0x1*-0x773+-0x1287+-0x2*-0x58a]['properties']['map'](_0x4dee70=>_0x4dee70['storage']['buffer'])):(_0x3a33cc=this['worker'])==null||_0x3a33cc['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x5581aa,'timeIndex':_0x15a771,'timeOption':_0x2c54e5}),new Promise(_0x1e32b6=>{this['worker']['onmessage']=_0x557b9b=>{if(!this['worker'])return;const {data:_0x270a6f}=_0x557b9b;_0x270a6f['type']==='newAppendD'+'ata'&&_0x1e32b6(_0x270a6f);};});}async['releaseSeq'+'Data'](_0x13600d){var _0x3eb2a3;(_0x3eb2a3=this['worker'])==null||_0x3eb2a3['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x13600d});}async['releaseAll'+'SeqData'](){var _0x1375c2;(_0x1375c2=this['worker'])==null||_0x1375c2['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x1e6fa1;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x1e6fa1=this['worker'])==null||_0x1e6fa1['terminate'](),this['worker']=null);}}const gc=new te(),gg=new le(),eC=new ie(0x3*-0x83f+0x4*-0x239+0x7*0x4ce,0xaae*0x2+-0x2603+0x34*0x52,-0x4f7+-0x1d38+-0x222f*-0x1,-0x91*-0x3b+-0xe21+-0x134a+0.4),Sg=0x37ce*-0x18+0x175f5+0xbf*0x925;class tC{constructor(_0x592492,_0x58fe49,_0x4b7a9c,_0x4b86c0,_0x3c9d4e,_0x1d48fb){const _0x2a70a0=_0x592492['getProp']('position'),_0x5006c3=_0x592492['getProp']('color_opac'+'ity'),_0x1293f7=_0x592492['getProp']('scale'),_0x56967a=_0x592492['getProp']('motion'),_0x2921c1=_0x592492['getProp']('rotation');this['read']=_0x262322=>{_0x58fe49&&_0x58fe49['set'](_0x2a70a0[_0x262322*(0x12*0x1bc+-0x17*0x30+-0x1cb*0xf)+(-0xb*-0x7a+-0x1639+0x10fb)],_0x2a70a0[_0x262322*(0x2*0x116d+0x1*0x1f5f+-0x4236)+(0x2*-0x6b9+0xc81+0x79*0x2)],_0x2a70a0[_0x262322*(0x21f1+0x138b+-0x1*0x3579)+(-0x7*0x463+-0x216e+0x4025)]),_0x4b7a9c&&_0x4b7a9c['set'](_0x2921c1[_0x262322*(0x3b*-0x95+0x19f4+0xa*0xd7)+(-0x19*-0x35+-0x1597*0x1+-0x1*-0x106a)],_0x2921c1[_0x262322*(0x282+0xc5f+-0xede)+(-0x1f62+0x1c*0xb6+0xb7b)],_0x2921c1[_0x262322*(0x1578+-0x17f*-0x8+-0xc7*0x2b)+(-0x1a*0xac+-0x6*-0x66a+-0x2*0xa81)]),_0x4b86c0&&_0x4b86c0['set'](_0x1293f7[_0x262322*(-0x8a7+-0xd*0x24b+0x2679)+(-0x705*0x5+-0x645+0x295e)],_0x1293f7[_0x262322*(-0x1cf*-0xd+0x2*0xbb9+-0x3*0xfa6)+(0x2217+0x1*0x156c+-0x3782)],_0x1293f7[_0x262322*(-0x184*-0x8+-0x1*0x4a2+0x5*-0x17f)+(0x1*0x1f7e+0x12a*0x8+-0x28cc)]),_0x1d48fb&&_0x56967a&&_0x1d48fb['set'](_0x56967a[_0x262322*(-0x1*0x21d7+-0x83e*-0x4+0xe2)+(0x10f7+-0x20b9*-0x1+0x109*-0x30)],_0x56967a[_0x262322*(-0x4c9+0x1*-0x2365+-0x1*-0x2831)+(0x2*0x133+-0x164*0x1+0x101*-0x1)],_0x56967a[_0x262322*(0xd*-0xa9+-0x452+0xcea)+(0x1*0x2dd+-0x108+-0x1*0x1d3)]),_0x3c9d4e&&_0x3c9d4e['set'](_0x5006c3[_0x262322*(-0x22d+0x4*0x147+-0x53*0x9)+(0x16ba+0x544*0x6+-0x3652)],_0x5006c3[_0x262322*(0x8a5+0x66+-0x907)+(0xeed+-0x746+-0x7a6)],_0x5006c3[_0x262322*(-0x34*0x6b+-0x883+0x1*0x1e43)+(0x15*0x1d5+-0x3ce*0x3+-0x1*0x1b0d)],_0x5006c3[_0x262322*(-0x1*-0x502+0x1450+0xca7*-0x2)+(0x8ec+-0x1*0x1f2f+0x1646)]);};}}const sC=(_0x118a91,_0x2ce4c4,_0x3314ee)=>{gg['set'](_0x3314ee['x'],_0x3314ee['y'],_0x3314ee['z'],_0x3314ee['w'])['normalize'](),_0x118a91['setTRS'](_0x2ce4c4,gg,D['ONE']);};class iC{constructor(_0x1a2594,_0x2dc367=[],_0x509f5a=[]){h(this,'elements'),h(this,'properties'),h(this,'numSplats',-0x4a3*0x4+0xac9+0x7c3),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x29d5b5;(_0x29d5b5=this['dataWorker'])==null||_0x29d5b5['destroy'](),this['dataWorker']=null;});var _0xb4cb6b,_0x40c612,_0x16d357;this['elements']=_0x1a2594,this['properties']=_0x509f5a,this['numSplats']=((_0xb4cb6b=this['getElement']('vertex'))==null?void(-0x16f9*0x1+-0xf17+-0x57*-0x70):_0xb4cb6b['count'])??-0x1d4*0x14+-0x2a*0x2a+0x2b74,this['comments']=_0x2dc367,this['is4D']=!!((_0x16d357=(_0x40c612=this['getElement']('vertex'))==null?void(0x1588+-0xa5d*-0x3+-0x349f):_0x40c612['properties']['find'](_0x2522c3=>_0x2522c3['name']==='t'))!=null&&_0x16d357['storage']);}async['appendGSpl'+'atData'](_0x83c07e,_0x298ad5,_0x57b474){var _0x492367;let _0x3bbc47=0x192e+0x10*0x133+0x6*-0x765;for(let _0x377a97=-0x264f+-0x1*0xce5+0x3334;_0x377a97<_0x57b474['length']&&_0x298ad5>_0x57b474[_0x377a97];_0x377a97+=-0x23e*0x1+-0x1d3c+0x1f7c)_0x3bbc47=_0x377a97/(0x2*-0x1016+0x194d*0x1+0x3*0x24b);this['dataWorker']||(this['dataWorker']=new JA(),await this['dataWorker']['appendGSpl'+'atData'](this,0x165b+-0x4*-0x5aa+0x45*-0xa7,_0x57b474));const _0x578c09=this['getElement']('vertex');_0x578c09&&(_0x578c09['count']=this['numSplats']);const _0xa831aa=await this['dataWorker']['appendGSpl'+'atData'](_0x83c07e,_0x3bbc47,_0x57b474,!(-0x1*0xf38+0x2511+-0x15d9)),_0x564892=_0xa831aa['properties'],_0x10fb85=((_0x492367=this['getElement']('vertex'))==null?void(-0x13a3+0x3e*-0x1a+-0x8a5*-0x3):_0x492367['properties'])??[];for(const _0x19867e in _0x564892){const _0x214a83=_0x10fb85['find'](_0x3c81c3=>_0x3c81c3['name']===_0x19867e);_0x214a83?_0x214a83['storage']=_0x564892[_0x19867e]:_0x10fb85['push']({'type':'float','name':_0x19867e,'storage':_0x564892[_0x19867e],'byteSize':0x4});}this['transformD'+'ata']=_0xa831aa['transformD'+'ata'],this['numSplats']=_0x564892['position']['length']/(-0x2037+0x4f*0x29+0x1393);}async['releaseSeq'+'Data'](_0x16361e){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'leaseSeqDa'+'ta',_0x16361e),this['dataWorker']['releaseSeq'+'Data'](_0x16361e),this;}async['releaseAll'+'SeqData'](){var _0x1bc8d0;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'lease\x20all\x20'+'SeqData'),(_0x1bc8d0=this['dataWorker'])==null||_0x1bc8d0['releaseAll'+'SeqData'](),this;}['getProp'](_0x382944,_0x4079f8='vertex'){var _0xed2e2a,_0x3749f3;return(_0x3749f3=(_0xed2e2a=this['getElement'](_0x4079f8))==null?void(-0x25d3+0xdf3+0x1*0x17e0):_0xed2e2a['properties']['find'](_0x4b9041=>_0x4b9041['name']===_0x382944))==null?void(-0x1b37+0x63c+0x14fb):_0x3749f3['storage'];}['getElement'](_0x2f3502){return this['elements']['find'](_0x259117=>_0x259117['name']===_0x2f3502);}['createIter'](_0x455dfd,_0x3fb5a1,_0x3d7baf,_0x1c882d,_0x1947d0){return new tC(this,_0x455dfd,_0x3fb5a1,_0x3d7baf,_0x1c882d,_0x1947d0);}['calcAabb'](_0x341733,_0x536103){let _0x1e2050=-0x1166+0x1231+-0xcb,_0x4f8ddf=0xf34+-0x4*0x2a0+0xe*-0x56,_0x4ec97f=0x341*-0x3+-0x265*-0x6+0x49b*-0x1,_0x3b7984=-0x1*0x118+0x99d+0x2d7*-0x3,_0x197396=-0x334+0xb21+-0x1*0x7ed,_0x32f79e=-0x16+0x65*0x12+-0x1c1*0x4,_0x2c4e28=!(-0x1c80+0x2bc+0x2*0xce2);const _0x492b2e=this['getProp']('position'),_0x185206=this['getProp']('scale');for(let _0x229779=0x3*0x7cf+0x2b7+-0x1a24;_0x229779<this['numSplats'];++_0x229779){if(_0x536103&&!_0x536103(_0x229779))continue;const _0x35fa31=_0x492b2e[_0x229779*(0xc65*-0x1+0x5*-0x89+0xf15)+(0x1735+-0x2297+0xb62)],_0x384346=_0x492b2e[_0x229779*(-0x1*0x17a5+0x1b16+0x2*-0x1b7)+(-0x2*0x106a+0x1*0x159b+0x2*0x59d)],_0x19cadf=_0x492b2e[_0x229779*(0x12af*-0x1+-0x1*-0x34a+-0x11*-0xe8)+(0x237a+-0x15af+-0xdc9)],_0x10eb79=Math['max'](_0x185206[_0x229779*(-0x1*0x2604+-0xb78*0x1+0x317f)+(-0x977+0xc52+-0x2db)],_0x185206[_0x229779*(0x3*0x7c9+-0x1*-0x24fa+-0x3c52)+(-0x381+0x2293*0x1+-0x1f11)],_0x185206[_0x229779*(0x1143+0x56*-0x2+-0x1094*0x1)+(-0xa68+0xd*-0x26b+0x3*0xdf3)]);if(!isFinite(_0x35fa31)||!isFinite(_0x384346)||!isFinite(_0x19cadf)||!isFinite(_0x10eb79))continue;const _0x1d6154=(-0x1020+0x2656+-0x1634)*Math['exp'](_0x10eb79);_0x2c4e28?(_0x2c4e28=!(-0x7*-0x54a+-0x5cb*0x3+-0x13a4*0x1),_0x1e2050=_0x35fa31-_0x1d6154,_0x4f8ddf=_0x384346-_0x1d6154,_0x4ec97f=_0x19cadf-_0x1d6154,_0x3b7984=_0x35fa31+_0x1d6154,_0x197396=_0x384346+_0x1d6154,_0x32f79e=_0x19cadf+_0x1d6154):(_0x1e2050=Math['min'](_0x1e2050,_0x35fa31-_0x1d6154),_0x4f8ddf=Math['min'](_0x4f8ddf,_0x384346-_0x1d6154),_0x4ec97f=Math['min'](_0x4ec97f,_0x19cadf-_0x1d6154),_0x3b7984=Math['max'](_0x3b7984,_0x35fa31+_0x1d6154),_0x197396=Math['max'](_0x197396,_0x384346+_0x1d6154),_0x32f79e=Math['max'](_0x32f79e,_0x19cadf+_0x1d6154));}return _0x2c4e28||(_0x341733['center']['set']((_0x1e2050+_0x3b7984)*(0x11f2+-0xf85+-0x45*0x9+0.5),(_0x4f8ddf+_0x197396)*(-0x1*-0x229c+-0x1451+-0x1*0xe4b+0.5),(_0x4ec97f+_0x32f79e)*(0x10f*-0x17+-0x81*-0xb+-0x2*-0x967+0.5)),_0x341733['halfExtent'+'s']['set']((_0x3b7984-_0x1e2050)*(-0xae*-0x2a+-0x1e94+0x208+0.5),(_0x197396-_0x4f8ddf)*(0xd76+0x1*0x2225+-0x2f9b*0x1+0.5),(_0x32f79e-_0x4ec97f)*(0x188e+-0x153b+-0x353+0.5))),!_0x2c4e28;}['yieldToMai'+'n'](){var _0x14ff08;return(_0x14ff08=globalThis['scheduler'])!=null&&_0x14ff08['yield']?globalThis['scheduler']['yield']():new Promise(_0x5a0e8a=>{setTimeout(_0x5a0e8a,-0x1bf4+0x5d*0x69+-0xa31);});}async['getCenters'](_0x122720){const _0x2fdc90=this['getProp']('x'),_0x2a17f4=this['getProp']('y'),_0x162cbd=this['getProp']('z');for(let _0x19b2bb=0x1*0x1403+0x84*-0x2f+-0x17*-0x2f;_0x19b2bb<this['numSplats'];++_0x19b2bb)_0x122720[_0x19b2bb*(-0x19*-0x12e+0x366+0x1bb*-0x13)+(-0xe48+0x13c7*-0x1+-0x1*-0x220f)]=_0x2fdc90[_0x19b2bb],_0x122720[_0x19b2bb*(0x9b8+0x2*0xbe3+-0x217b)+(-0x1*0x9fa+-0x1e3f+0x1*0x283a)]=_0x2a17f4[_0x19b2bb],_0x122720[_0x19b2bb*(-0x6f3+0x400*0x8+-0x5*0x502)+(0x2548+-0x23c9+-0x1*0x17d)]=_0x162cbd[_0x19b2bb],_0x19b2bb%Sg===0x567+0x1037*-0x1+0x2*0x568&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x479b2d;if((_0x479b2d=this['transformD'+'ata'])!=null&&_0x479b2d['muT'])return this['transformD'+'ata']['muT'];const _0x50219b=this['getProp']('t');return _0x50219b?new Float32Array(_0x50219b):void(-0x1f17*0x1+0x373+0x74*0x3d);}async['getTScale'](){const _0x58e98a=this['getProp']('t_scale');if(!_0x58e98a)return;const _0x35ae93=new Float32Array(this['numSplats']);for(let _0x25c08a=0xdb0*-0x1+0x65*0x1+0xd4b;_0x25c08a<this['numSplats'];++_0x25c08a)_0x35ae93[_0x25c08a]=Math['exp'](_0x58e98a[_0x25c08a]),_0x25c08a%Sg===0x4c7*0x5+0x2*0x131e+-0x3e1f&&await this['yieldToMai'+'n']();return _0x35ae93;}['getMotion'](_0x29ec76){const _0x472f41=this['getProp']('motion');_0x472f41&&new Float32Array(_0x472f41['buffer']['slice']());}['getTimeInd'+'ex'](){var _0x5d5799;if((_0x5d5799=this['transformD'+'ata'])!=null&&_0x5d5799['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0xbe361d=this['getProp']('time_index');if(_0xbe361d)return new Float32Array(_0xbe361d);}['calcFocalP'+'oint'](_0x21c156,_0x1eb519){const _0x1955e0=this['getProp']('position'),_0x4f657b=this['getProp']('scale');_0x21c156['x']=0x1068+0x1*-0x7a7+-0x8c1,_0x21c156['y']=0x2*-0xb57+-0x23c9+0x3a77,_0x21c156['z']=-0x2290+-0xc*-0x1f3+0xdc*0xd;let _0x5da3e3=0x5fc+-0x1c03+0x1*0x1607;for(let _0x4c8aa2=-0x7e5*-0x4+0x1b3d+-0x3ad1;_0x4c8aa2<this['numSplats'];++_0x4c8aa2){if(_0x1eb519&&!_0x1eb519(_0x4c8aa2))continue;const _0x32a784=_0x1955e0[_0x4c8aa2*(0x3f*-0x9a+0xf1*-0x1f+0x4318)+(-0x17e4+0x2415+-0xc31)],_0x51876a=_0x1955e0[_0x4c8aa2*(-0x2273+0x13a*-0x3+0x2624)+(-0x11e7*0x1+-0x111d+0x2305)],_0x2bf809=_0x1955e0[_0x4c8aa2*(-0xb16+0x237+0x8e2)+(0x1cc7+-0x108c+-0xc39)];if(!isFinite(_0x32a784)||!isFinite(_0x51876a)||!isFinite(_0x2bf809))continue;const _0x4022b1=(0x1*0x18e8+0xd3*-0x2f+0xfd*0xe)/(0x2452+-0x150b*-0x1+-0x395c+Math['max'](_0x4f657b[_0x4c8aa2*(-0x162f+0x2d*0x96+-0x42c)+(0x6*-0x353+-0x12f6+0x26e8)],_0x4f657b[_0x4c8aa2*(0x13*-0x1c1+-0x24a4+0xa9*0x6a)+(0x1d23+-0x239e+0x67c)],_0x4f657b[_0x4c8aa2*(-0x842*-0x1+0x1399+-0xc6*0x24)+(0x1c27*-0x1+0x2347*0x1+-0x71e)]));_0x21c156['x']+=_0x32a784*_0x4022b1,_0x21c156['y']+=_0x51876a*_0x4022b1,_0x21c156['z']+=_0x2bf809*_0x4022b1,_0x5da3e3+=_0x4022b1;}_0x21c156['mulScalar']((0x82*-0x33+-0x1d12+0x1253*0x3)/_0x5da3e3);}['renderWire'+'frameBound'+'s'](_0xc4727c,_0x40d0fd){const _0x44fe57=new D(),_0xbcd7cd=new le(),_0x4c8739=new D(),_0x565b92=new D(),_0x4b4cd7=new D(),_0x20c860=this['createIter'](_0x44fe57,_0xbcd7cd,_0x4c8739);for(let _0x13bf98=-0x1dda+-0xb*-0x89+0xf*0x199;_0x13bf98<this['numSplats'];++_0x13bf98)_0x20c860['read'](_0x13bf98),sC(gc,_0x44fe57,_0xbcd7cd),gc['mul2'](_0x40d0fd,gc),_0x565b92['set'](_0x4c8739['x']*-(-0x169f*-0x1+-0x52*-0x37+0x1*-0x283b),_0x4c8739['y']*-(-0x2*-0x125f+-0x1bb*0x1+-0x67*0x57),_0x4c8739['z']*-(-0x1ef7*-0x1+-0x1*0x233+-0x1cc2)),_0x4b4cd7['set'](_0x4c8739['x']*(0x1a07+0xa4f+-0x2454),_0x4c8739['y']*(-0x5c5+-0xae6+0x10ad),_0x4c8739['z']*(0x15e+-0x14be+-0x1*-0x1362)),_0xc4727c['immediate']['drawWireAl'+'ignedBox'](_0x565b92,_0x4b4cd7,eC,!(-0x1*0x73d+0x235*-0x10+0x2a8d*0x1),_0xc4727c['defaultDra'+'wLayer'],gc);}get['isCompress'+'ed'](){return!(-0x17a2+0x1e5c+0x1*-0x6b9);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x415371=0x3*-0x6c5+0x35*0x1d+0xe4e;_0x415371<-0xd6*0x2d+0x98a+0x3*0x96b;++_0x415371)if(!this['getProp']('f_rest_'+_0x415371))return _0x415371;return 0xd96+-0x2*-0x1f+-0xda7;})())]??0x9b+-0x36*0x40+0xce5;}['calcMorton'+'Order'](){const _0x566bc3=_0x589303=>{let _0x59d09c=_0x589303[0x4a9*-0x7+-0x242*-0x4+0x1797],_0x4dcbd2=_0x589303[-0x33d*0x7+0x1377+0x334];for(let _0x3c221f=0x21d*-0x2+0x1cf+0x26c;_0x3c221f<_0x589303['length'];_0x3c221f++)_0x589303[_0x3c221f]<_0x59d09c&&(_0x59d09c=_0x589303[_0x3c221f]),_0x589303[_0x3c221f]>_0x4dcbd2&&(_0x4dcbd2=_0x589303[_0x3c221f]);return{'min':_0x59d09c,'max':_0x4dcbd2};},_0x3005fc=(_0x38c49c,_0xb7e689,_0x1cf29f)=>{const _0x40d421=_0x2f54e9=>(_0x2f54e9&=-0x949+0xd69*0x2+-0xd8a,_0x2f54e9=(_0x2f54e9^_0x2f54e9<<-0x1dc7*-0x1+-0x3*-0xcf7+-0x449c)&-0x2ba789b5*0x2+0x1*-0x41082646+0x197573aaf,_0x2f54e9=(_0x2f54e9^_0x2f54e9<<0x1602+0xd12*0x1+-0x230c)&0x1*-0x2138219+0xb*0x12e75a+0x444814a,_0x2f54e9=(_0x2f54e9^_0x2f54e9<<0x7*-0x516+0x85f*-0x1+-0x1*-0x2bfd)&0x1*0x386b6ca+0x10*-0xc7e4d+0x9*0x898c1,_0x2f54e9=(_0x2f54e9^_0x2f54e9<<0x2*-0x113d+0x4*0x601+0x28*0x43)&0x1*-0x1152685+-0x121c3c9d+-0x2d*-0xa132f7,_0x2f54e9);return(_0x40d421(_0x1cf29f)<<0xf29*0x1+-0x1b13+0xbec)+(_0x40d421(_0xb7e689)<<-0x162b+-0xb3*0xc+0x8*0x3d2)+_0x40d421(_0x38c49c);},_0x391a8b=this['getProp']('x'),_0x1e4d69=this['getProp']('y'),_0x174c8d=this['getProp']('z'),{min:_0x2b39b4,max:_0x91b231}=_0x566bc3(_0x391a8b),{min:_0x11b3c0,max:_0x2c78f6}=_0x566bc3(_0x1e4d69),{min:_0x1b16b8,max:_0x206dbe}=_0x566bc3(_0x174c8d),_0x1733bc=_0x2b39b4===_0x91b231?0x7fe*-0x3+0x1b08+0x1*-0x30e:(0x290+0x18d0+-0x1760*0x1)/(_0x91b231-_0x2b39b4),_0xc97a64=_0x11b3c0===_0x2c78f6?-0x1*-0x1863+-0x6d*0x2e+-0x4cd*0x1:(-0x1060+0x933+-0xb2d*-0x1)/(_0x2c78f6-_0x11b3c0),_0x4dbcfd=_0x1b16b8===_0x206dbe?-0x2447+-0x1e1+0x2628:(-0x1*-0x479+0x3*-0x79d+0x165e)/(_0x206dbe-_0x1b16b8),_0x101a35=new Map();for(let _0x4750bc=-0x7bb+0xd61+0x6*-0xf1;_0x4750bc<this['numSplats'];_0x4750bc++){const _0x3b3ad8=Math['min'](0x264b+-0x2*0x3fa+-0x1a58,Math['floor']((_0x391a8b[_0x4750bc]-_0x2b39b4)*_0x1733bc)),_0x22b8be=Math['min'](-0x31*-0x6d+0x75d+-0x183b,Math['floor']((_0x1e4d69[_0x4750bc]-_0x11b3c0)*_0xc97a64)),_0x312127=Math['min'](0x1*0x5ff+0xed9+-0x10d9,Math['floor']((_0x174c8d[_0x4750bc]-_0x1b16b8)*_0x4dbcfd)),_0x5c3b9f=_0x3005fc(_0x3b3ad8,_0x22b8be,_0x312127),_0x825942=_0x101a35['get'](_0x5c3b9f);_0x825942?_0x825942['push'](_0x4750bc):_0x101a35['set'](_0x5c3b9f,[_0x4750bc]);}const _0x2ade77=Array['from'](_0x101a35['keys']())['sort']((_0x4e2de5,_0x45935d)=>_0x4e2de5-_0x45935d),_0x3817e4=new Uint32Array(this['numSplats']);let _0xb21958=-0x1bea+0x25*-0x43+0x2599;for(let _0xceb7e3=-0x25a*0x1+-0xd9a+0xff4;_0xceb7e3<_0x2ade77['length'];++_0xceb7e3){const _0x36250c=_0x101a35['get'](_0x2ade77[_0xceb7e3]);for(let _0x378607=0x1*-0x1af8+-0x22c6+0x3dbe;_0x378607<_0x36250c['length'];++_0x378607)_0x3817e4[_0xb21958++]=_0x36250c[_0x378607];}return _0x3817e4;}['reorder'](_0x1c0816){const _0x44b4cc=new Map(),_0x153979=_0x5f5cf0=>{if(_0x44b4cc['has'](_0x5f5cf0)){const _0x14eb68=_0x44b4cc['get'](_0x5f5cf0);return _0x44b4cc['delete'](_0x5f5cf0),_0x14eb68;}return new ArrayBuffer(_0x5f5cf0);},_0x136452=_0xe8b419=>{_0x44b4cc['set'](_0xe8b419['byteLength'],_0xe8b419);},_0x59b7d9=_0x1cb610=>{const _0x51b5fb=new _0x1cb610['constructo'+'r'](_0x153979(_0x1cb610['byteLength']));for(let _0x4e7482=-0xabd+-0x1d99*-0x1+-0x22*0x8e;_0x4e7482<_0x1c0816['length'];_0x4e7482++)_0x51b5fb[_0x4e7482]=_0x1cb610[_0x1c0816[_0x4e7482]];return _0x136452(_0x1cb610['buffer']),_0x51b5fb;};this['elements']['forEach'](_0x124cfc=>{_0x124cfc['properties']['forEach'](_0x5462b1=>{_0x5462b1['storage']&&(_0x5462b1['storage']=_0x59b7d9(_0x5462b1['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const rC='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20void\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.0,\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a',aC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'vec4\x20packR'+'gb(vec3\x20v)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uvec3\x20vb\x20'+'=\x20uvec3(cl'+'amp(v,\x20vec'+'3(0.0),\x20ve'+'c3(1.0))\x20*'+'\x20vec3(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uint\x20bits\x20'+'=\x20(vb.x\x20<<'+'\x2021)\x20|\x20(vb'+'.y\x20<<\x2010)\x20'+'|\x20vb.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4((u'+'vec4(bits)'+'\x20>>\x20uvec4('+'24,\x2016,\x208,'+'\x200))\x20&\x20uve'+'c4(0xff))\x20'+'/\x20vec4(255'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20vec3\x20dir'+';\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20sampler2'+'D\x20centroid'+'s;\x0a\x20\x20\x20\x20uni'+'form\x20mediu'+'mp\x20float\x20s'+'hN_mins;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20f'+'loat\x20shN_m'+'axs;\x0a\x0a\x20\x20\x20\x20'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ivec'+'2\x20uv\x20=\x20ive'+'c2(gl_Frag'+'Coord.xy)\x20'+'*\x20ivec2(SH'+'_COEFFS,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20mediump\x20v'+'ec3\x20coeffi'+'cients[SH_'+'COEFFS];\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(int\x20i\x20=\x20'+'0;\x20i\x20<\x20SH_'+'COEFFS;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20s\x20=\x20texe'+'lFetch(cen'+'troids,\x20iv'+'ec2(uv.x\x20+'+'\x20i,\x20uv.y),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20coefficie'+'nts[i]\x20=\x20m'+'ix(vec3(sh'+'N_mins),\x20v'+'ec3(shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20packRgb'+'(evalSH(co'+'efficients'+',\x20dir)\x20*\x200'+('.25\x20+\x200.5)'+';\x0a\x20\x20\x20\x20}\x0a'),nC='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput:\x20Vert'+'exInput)\x20-'+'>\x20VertexOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Ver'+'texOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a',oC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'fn\x20packRgb'+'(v:\x20vec3f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vb\x20=\x20v'+'ec3u(clamp'+'(v,\x20vec3f('+'0.0),\x20vec3'+'f(1.0))\x20*\x20'+'vec3f(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20bits\x20='+'\x20dot(vb,\x20v'+'ec3u(1\x20<<\x20'+'21,\x201\x20<<\x201'+'0,\x201));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(('+'vec4u(bits'+')\x20>>\x20vec4u'+'(24,\x2016,\x208'+',\x200))\x20&\x20ve'+'c4u(0xff))'+'\x20/\x20vec4f(2'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20un'+'iform\x20dir:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'shN_mins:\x20'+'f32;\x0a\x20\x20\x20\x20u'+'niform\x20shN'+'_maxs:\x20f32'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20centroids'+':\x20texture_'+'2d<f32>;\x0a\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input:'+'\x20FragmentI'+'nput)\x20->\x20F'+'ragmentOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20uv\x20=\x20'+'vec2i(inpu'+'t.position'+'.xy)\x20*\x20vec'+'2i(SH_COEF'+'FS,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'coefficien'+'ts:\x20array<'+'vec3f,\x20SH_'+'COEFFS>;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x200;\x20i\x20'+'<\x20SH_COEFF'+'S;\x20i++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s:\x20v'+'ec3f\x20=\x20tex'+'tureLoad(c'+'entroids,\x20'+'vec2i(uv.x'+'\x20+\x20i,\x20uv.y'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20coeffic'+'ients[i]\x20='+'\x20mix(vec3f'+'(uniform.s'+'hN_mins),\x20'+'vec3f(unif'+('orm.shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20packRgb'+'(evalSH(&c'+'oefficient'+'s,\x20uniform'+'.dir)\x20*\x200.'+'25\x20+\x200.5);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20}'+'\x0a'),lC='\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20sampler2D'+'\x20sh0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x20\x20\x20\x20u'+'niform\x20med'+'iump\x20sampl'+'er2D\x20sh_re'+'sult;\x0a\x0a\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20sh0_mi'+'ns;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20sh0_maxs;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20SH_C0\x20=\x20'+'0.28209479'+'177387814;'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'npack\x2011,\x20'+'11,\x2010\x20nor'+'malized\x20va'+'lue\x20from\x20r'+'gba8\x20textu'+'re\x20sample\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackRgb(v'+'ec4\x20v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uve'+'c4\x20uv\x20=\x20uv'+'ec4(v\x20*\x2025'+'5.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uint\x20b'+'its\x20=\x20(uv.'+'x\x20<<\x2024)\x20|'+'\x20(uv.y\x20<<\x20'+'16)\x20|\x20(uv.'+'z\x20<<\x208)\x20|\x20'+'uv.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uvec3\x20'+'vb\x20=\x20(uvec'+'3(bits)\x20>>'+'\x20uvec3(21,'+'\x2010,\x200))\x20&'+'\x20uvec3(0x7'+'ffu,\x200x7ff'+'u,\x200x3ffu)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3(vb)\x20/\x20ve'+'c3(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20baseSampl'+'e\x20=\x20mix(sh'+'0_mins,\x20sh'+'0_maxs,\x20te'+'xelFetch(s'+'h0,\x20source'+'.uv,\x200));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20resolve\x20'+'base\x20color'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4\x20base\x20='+'\x20vec4(vec3'+'(0.5)\x20+\x20ba'+'seSample.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'baseSample'+'.w)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'xtract\x20sph'+'erical\x20har'+'monics\x20pal'+'ette\x20index'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20label'+'Sample\x20=\x20i'+'vec2(texel'+'Fetch(sh_l'+'abels,\x20sou'+'rce.uv,\x200)'+'.xy\x20*\x20255.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20int\x20n\x20=\x20'+('labelSampl'+'e.x\x20+\x20labe'+'lSample.y\x20'+'*\x20256;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shSample\x20'+'=\x20texelFet'+'ch(sh_resu'+'lt,\x20ivec2('+'n\x20%\x2064,\x20n\x20'+'/\x2064),\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20sh\x20=\x20('+'unpackRgb('+'shSample)\x20'+'-\x20vec3(0.5'+'))\x20*\x204.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'(base.xyz\x20'+'+\x20sh,\x20base'+'.w);\x0a\x20\x20\x20\x20}'+'\x0a'),cC='\x0a\x20\x20\x20\x20var\x20s'+'h0:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'h_labels:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20sh_re'+'sult:\x20text'+'ure_2d<f32'+'>;\x0a\x0a\x20\x20\x20\x20un'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20sh0_m'+'axs:\x20vec4f'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20SH_C0:\x20'+'f32\x20=\x200.28'+'2094791773'+'87814;\x0a\x0a\x20\x20'+'\x20\x20//\x20unpac'+'k\x2011,\x2011,\x20'+'10\x20normali'+'zed\x20value\x20'+'from\x20rgba8'+'\x20texture\x20s'+'ample\x0a\x20\x20\x20\x20'+'fn\x20unpackR'+'gb(v:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20bits'+'\x20=\x20dot(vec'+'4u(v\x20*\x20255'+'.0),\x20vec4u'+'(1u\x20<<\x2024,'+'\x201u\x20<<\x2016,'+'\x201u\x20<<\x208,\x20'+'1u));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20vb'+'\x20=\x20(vec3u('+'bits)\x20>>\x20v'+'ec3u(21,\x201'+'0,\x200))\x20&\x20v'+'ec3u(0x7ff'+'u,\x200x7ffu,'+'\x200x3ffu);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec3f'+'(vb)\x20/\x20vec'+'3f(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20f'+'n\x20readColo'+'r(source:\x20'+'ptr<functi'+'on,\x20SplatS'+'ource>)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'baseSample'+':\x20vec4f\x20=\x20'+'mix(unifor'+'m.sh0_mins'+',\x20uniform.'+'sh0_maxs,\x20'+'textureLoa'+'d(sh0,\x20sou'+'rce.uv,\x200)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20base\x20'+'=\x20vec4f(ve'+'c3f(0.5)\x20+'+'\x20baseSampl'+'e.xyz\x20*\x20SH'+'_C0,\x201.0\x20/'+'\x20(1.0\x20+\x20ex'+'p(-baseSam'+'ple.w)));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20extract\x20'+'spherical\x20'+'harmonics\x20'+'palette\x20in'+'dex\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20labe'+'lSample:\x20v'+'ec2i\x20=\x20vec'+'2i(texture'+'Load(sh_la'+'bels,\x20sour'+'ce.uv,\x200).'+'xy\x20*\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20n\x20=\x20l'+('abelSample'+'.x\x20+\x20label'+'Sample.y\x20*'+'\x20256;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hSample:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(s'+'h_result,\x20'+'vec2i(n\x20%\x20'+'64,\x20n\x20/\x2064'+'),\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'h:\x20vec3f\x20='+'\x20(unpackRg'+'b(shSample'+')\x20-\x20vec3f('+'0.5))\x20*\x204.'+'0;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(base.'+'xyz\x20+\x20sh,\x20'+'base.w);\x0a\x20'+'\x20\x20\x20}\x0a'),hC=(_0x1fb013,_0x5d59fd)=>{for(const _0x1938ed in _0x5d59fd)_0x1fb013['resolve'](_0x1938ed)['setValue'](_0x5d59fd[_0x1938ed]);};class dC extends ys{constructor(){super(...arguments),h(this,'executeCal'+'lback',null);}['execute'](){var _0x1f4a93;(_0x1f4a93=this['executeCal'+'lback'])==null||_0x1f4a93['call'](this);}}const yg=new te(),uo=new D();class fC{constructor(_0x225499,_0x5d960c){h(this,'prevDir',new D()),h(this,'updateMode','enable'),(this['device']=_0x225499,this['gsplatInst'+'ance']=_0x5d960c);const {resource:_0x59fce8}=_0x5d960c,_0x4ed08d=new Map(Pe['get'](_0x225499,_0x225499['isWebGPU']?'wgsl':'glsl'));this['shader']=$t['createShad'+'er'](_0x225499,{'uniqueName':'gsplatReso'+'lveSH','vertexGLSL':rC,'fragmentGLSL':aC,'vertexWGSL':nC,'fragmentWGSL':oC,'vertexIncludes':_0x4ed08d,'fragmentIncludes':_0x4ed08d,'fragmentDefines':new Map([['SH_BANDS',_0x59fce8['gsplatData']['shBands']['toString']()]]),'attributes':{'vertex_position':Me}}),this['texture']=_0x59fce8['createText'+'ure']('centroids',Ne,new J(0x2202+-0x1*0x16f9+-0xac9,0x11cb+-0x842*-0x2+0x1e4f*-0x1)),this['renderTarg'+'et']=new gt({'colorBuffer':this['texture'],'depth':!(-0x1f*0xba+0x492+0x1*0x11f5)}),this['renderPass']=new dC(_0x225499),this['renderPass']['init'](this['renderTarg'+'et'],{}),this['renderPass']['colorOps']['clear']=!(-0x260e+0x1b8c*0x1+0xa82),this['quadRender']=new Ah(this['shader']);const {material:_0x5c0efc}=_0x5d960c;_0x5c0efc['setDefine']('SH_BANDS','0');const {shaderChunks:_0x16aa6c}=_0x5c0efc;_0x16aa6c['glsl']['set']('gsplatSogs'+'ColorVS',lC),_0x16aa6c['wgsl']['set']('gsplatSogs'+'ColorVS',cC),_0x5c0efc['update'](),_0x225499['scope']['resolve']('sh_result')['setValue'](this['texture']);}['destroy'](){const {gsplatInstance:_0x49f49f}=this,{material:_0x5bb5a8}=_0x49f49f;_0x5bb5a8['setDefine']('SH_BANDS',_0x49f49f['resource']['gsplatData']['shBands']['toString']());const {shaderChunks:_0x477446}=_0x5bb5a8;_0x477446['glsl']['delete']('gsplatSogs'+'ColorVS'),_0x477446['wgsl']['delete']('gsplatSogs'+'ColorVS'),_0x5bb5a8['update'](),this['quadRender']['destroy'](),this['renderPass']['destroy'](),this['renderTarg'+'et']['destroy'](),this['texture']['destroy'](),this['shader']['destroy']();}['render'](_0x5b483d,_0x40d57d){const {prevDir:_0x204e98,updateMode:_0x4d9e07}=this;if(_0x4d9e07==='disable'||(yg['invert'](_0x40d57d),yg['transformV'+'ector'](_0x5b483d['forward'],uo),uo['normalize'](),_0x4d9e07==='enable'&&uo['equalsAppr'+'ox'](_0x204e98,0x1607*-0x1+-0x2*-0x1a7+-0x12b9*-0x1+0.001)))return;_0x204e98['copy'](uo);const _0x32f30e=()=>{const {device:_0x4001c2}=this,{sh_centroids:_0x1ea6a8,meta:_0x3c9f96}=this['gsplatInst'+'ance']['resource']['gsplatData'];hC(_0x4001c2['scope'],{'dir':uo['toArray'](),'centroids':_0x1ea6a8,'shN_mins':_0x3c9f96['shN']['mins'],'shN_maxs':_0x3c9f96['shN']['maxs']}),_0x4001c2['setCullMod'+'e'](bt),_0x4001c2['setDepthSt'+'ate'](Yt['NODEPTH']),_0x4001c2['setStencil'+'State'](null,null),_0x4001c2['setBlendSt'+'ate'](pt['NOBLEND']),this['quadRender']['render']();};this['renderPass']['executeCal'+'lback']=_0x32f30e,this['renderPass']['render']();}}const uC='\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20means_l'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20means_'+'u;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20quats'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20scales'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20uint\x20n'+'umSplats;\x0a'+'\x0a\x20\x20\x20\x20uint\x20'+'packU32(ve'+'c4\x20v)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20uint(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u\x20|\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20uint('+'v.y\x20*\x20255.'+'0)\x20<<\x2016u\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uin'+'t(v.z\x20*\x2025'+'5.0)\x20<<\x208u'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(v.w\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20uv'+'ec4\x20packU3'+'2(vec4\x20a,\x20'+'vec4\x20b,\x20ve'+'c4\x20c,\x20vec4'+'\x20d)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uvec4(pac'+'kU32(a),\x20p'+'ackU32(b),'+'\x20packU32(c'+'),\x20packU32'+'(d));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20w\x20='+'\x20int(textu'+'reSize(mea'+'ns_l,\x200).x'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ivec2\x20uv\x20'+'=\x20ivec2(gl'+'_FragCoord'+'.xy);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(ui'+'nt(uv.x\x20+\x20'+'uv.y\x20*\x20w)\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansLSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_l,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansUSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_u,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20quatsSamp'+'le\x20=\x20texel'+'Fetch(quat'+'s,\x20uv,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20scales'+'Sample\x20=\x20t'+'exelFetch('+'scales,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shLabel'+'sSample\x20=\x20'+'texelFetch'+'(sh_labels'+',\x20uv,\x200).x'+('y;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20pcFragCo'+'lor0\x20=\x20pac'+'kU32(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansLS'+'ample,\x20shL'+'abelsSampl'+'e.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansUS'+'ample,\x20shL'+'abelsSampl'+'e.y),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(quatsSa'+'mple),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4(scales'+'Sample,\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20}\x0a'),pC='\x0a\x20\x20\x20\x20var\x20m'+'eans_l:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20means_u'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20qua'+'ts:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'cales:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sh_label'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20numSpla'+'ts:\x20u32;\x0a\x0a'+'\x20\x20\x20\x20fn\x20pac'+'kU32(v:\x20ve'+'c4<f32>)\x20-'+'>\x20u32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(u32(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(u3'+'2(v.y\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20\x20|\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(u32(v.z\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20u32(v.w'+'\x20*\x20255.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20packU'+'Vec32(a:\x20v'+'ec4<f32>,\x20'+'b:\x20vec4<f3'+'2>,\x20c:\x20vec'+'4<f32>,\x20d:'+'\x20vec4<f32>'+')\x20->\x20vec4<'+'u32>\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4<u32'+'>(packU32('+'a),\x20packU3'+'2(b),\x20pack'+'U32(c),\x20pa'+'ckU32(d));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20@fragmen'+'t\x0a\x20\x20\x20\x20fn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20w:\x20u32\x20'+'=\x20textureD'+'imensions('+'means_l,\x200'+').x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2<u32>'+'\x20=\x20vec2<u3'+'2>(pcPosit'+'ion.xy);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv.x\x20+\x20uv'+'.y\x20*\x20w\x20>=\x20'+'uniform.nu'+'mSplats)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20fetch\x20the'+'\x20source\x20in'+'dex\x20and\x20ca'+'lculate\x20so'+'urce\x20uv\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'meansLSamp'+'le:\x20vec3<f'+('32>\x20=\x20text'+'ureLoad(me'+'ans_l,\x20uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20meansUSam'+'ple:\x20vec3<'+'f32>\x20=\x20tex'+'tureLoad(m'+'eans_u,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20quatsSam'+'ple:\x20vec4<'+'f32>\x20=\x20tex'+'tureLoad(q'+'uats,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20scal'+'esSample:\x20'+'vec3<f32>\x20'+'=\x20textureL'+'oad(scales'+',\x20uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shLa'+'belsSample'+':\x20vec2<f32'+'>\x20=\x20textur'+'eLoad(sh_l'+'abels,\x20uv,'+'\x200).xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20packUVec'+'32(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansLSam'+'ple,\x20shLab'+'elsSample.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansUSam'+'ple,\x20shLab'+'elsSample.'+'y),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(quatsSamp'+'le),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4(scalesSa'+'mple,\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a'),An=0x119b*-0x2+-0x41*0x5a+0x3a10*0x1+0.28209479177387814,Ci=_0x2883bf=>_0x2883bf['read'](0x1ba7+0x4bc*-0x1+-0x16eb*0x1,0x4*-0x264+0x38d+0x603,_0x2883bf['width'],_0x2883bf['height'],{'mipLevel':0x0,'face':0x0,'immediate':!(-0x1e6d*-0x1+0x1*0xcf1+0xd*-0x356)}),mC=(_0x124747,_0x2273c7)=>{for(const _0x7ccba8 in _0x2273c7)_0x124747['resolve'](_0x7ccba8)['setValue'](_0x2273c7[_0x7ccba8]);};class _C{constructor(_0x24cab9,_0x1dde15,_0x2c324d,_0x1bca7c,_0x55fcf3,_0x295341){const _0x26a7c8=(_0x40b2e0,_0x2d5863,_0x5ab69d)=>_0x40b2e0*(0x12d2+0x20e5+-0x33b6-_0x5ab69d)+_0x2d5863*_0x5ab69d,{meta:_0x4d5181}=_0x24cab9,{means:_0x57111d,scales:_0x3e5f03,sh0:_0x534549,shN:_0x2a58c1}=_0x4d5181,_0xa8de5d=_0x1dde15&&_0x24cab9['means_l']['_levels'][-0x1d9a+0x63*0xd+0x1893],_0x574bb6=_0x1dde15&&_0x24cab9['means_u']['_levels'][-0x9ef*-0x1+0x1acf+-0x24be],_0xa7fa4a=_0x2c324d&&_0x24cab9['quats']['_levels'][0x2149*0x1+-0x10*-0x26f+-0x1813*0x3],_0x909703=_0x1bca7c&&_0x24cab9['scales']['_levels'][0x2404+-0x478+0xfc6*-0x2],_0x178347=_0x55fcf3&&_0x24cab9['sh0']['_levels'][-0x3*-0x83b+0x1246+-0x2af7],_0x1eab72=_0x295341&&_0x24cab9['sh_labels']['_levels'][-0xd49+0x14d*0x1+0x2ff*0x4],_0x27da9b=_0x295341&&_0x24cab9['sh_centroi'+'ds']['_levels'][-0x1c04+-0xc86+-0x2*-0x1445],_0x4e1d9b=(-0x2*0x1093+-0x16f8+0x3820)/Math['sqrt'](-0x71a+0x1*0x25d9+-0x1ebd);this['read']=_0x582647=>{if(_0x1dde15){const _0x55454a=_0x26a7c8(_0x57111d['mins'][0x1*0x2c+-0xf39+-0xf0d*-0x1],_0x57111d['maxs'][0x1b7*0x9+0x2700+-0x366f],((_0x574bb6[_0x582647*(0x5*-0x533+0x1d2*0x5+0x75*0x25)+(0x2687+0x1*0x170f+0x1ecb*-0x2)]<<0xf*0x14+0x86*-0x16+0x530*0x2)+_0xa8de5d[_0x582647*(0x4*0x217+0x1*-0x91d+-0xc5*-0x1)+(-0x71*-0x57+-0x16b3*-0x1+0xc6*-0x4f)])/(-0x6170+0x2*0x28ca+0x5*0x365f)),_0x4e0ff4=_0x26a7c8(_0x57111d['mins'][0x2673*0x1+0x1*-0x15e8+-0x2*0x845],_0x57111d['maxs'][0x1*0x1360+0xdf6+-0x4c3*0x7],((_0x574bb6[_0x582647*(-0xbc6*-0x1+0x17e8+0x37*-0xa6)+(0x21*-0xb5+-0xad*-0x13+0x1*0xa7f)]<<-0x49*0x6f+-0x2313+0x42c2*0x1)+_0xa8de5d[_0x582647*(0x9d1+0x1c4+-0xb91)+(0x4f7*0x1+0x587+-0xa7d)])/(0x118c*0x3+0x1ae7a+0x1*-0xe31f)),_0x4b8bd1=_0x26a7c8(_0x57111d['mins'][-0x1921*0x1+-0x24*-0xb1+0x3*0x15],_0x57111d['maxs'][-0xa1+-0x30*0xb1+0x7*0x4d5],((_0x574bb6[_0x582647*(0xb87*0x1+0x1ee6+0x15*-0x205)+(-0xf7a*-0x1+0xfa5+0x375*-0x9)]<<-0x94a+-0x1*0x2057+0x29a9)+_0xa8de5d[_0x582647*(0x9c+-0x222e+-0x1*-0x2196)+(-0x1aba+-0x112c+0x2be8)])/(-0x2*0x1dc0+-0x13340+0x26ebf));_0x1dde15['x']=Math['sign'](_0x55454a)*(Math['exp'](Math['abs'](_0x55454a))-(-0x25f3+0x1*0x1619+0xfdb)),_0x1dde15['y']=Math['sign'](_0x4e0ff4)*(Math['exp'](Math['abs'](_0x4e0ff4))-(-0x1*-0x2466+0x22e3+-0x4*0x11d2)),_0x1dde15['z']=Math['sign'](_0x4b8bd1)*(Math['exp'](Math['abs'](_0x4b8bd1))-(0x1*-0xb59+0x1c08+0x3d*-0x46));}if(_0x2c324d){const _0x1ece31=(_0xa7fa4a[_0x582647*(0xd0f+0x24*-0x7a+0x41d)+(0x11*-0x14b+0x1f32+0x1*-0x937)]/(-0xee7+0x229*0x1+0xdbd*0x1)-(0x1a3a+0x2202+-0x3c3c+0.5))*_0x4e1d9b,_0x119fdf=(_0xa7fa4a[_0x582647*(0x172c+-0x1b3e*0x1+-0x20b*-0x2)+(-0x2*0xc77+-0x5*0x328+0x28b7)]/(0x61*-0x15+0x1336+0x65*-0x1a)-(0x1136*-0x1+0x2*0xe9f+-0x4*0x302+0.5))*_0x4e1d9b,_0x3c9c11=(_0xa7fa4a[_0x582647*(-0x52d+0x3*0x115+0x1f2)+(-0x1c6c+-0x204e+0x3cbc)]/(-0x150d+0x12af*-0x1+0x28bb)-(0x914+0x36c+-0xc80+0.5))*_0x4e1d9b,_0x278f75=Math['sqrt'](Math['max'](0x1*0x3d+-0x16ea*0x1+-0x3*-0x78f,0x13f0+-0x1*0x553+0x3a7*-0x4-(_0x1ece31*_0x1ece31+_0x119fdf*_0x119fdf+_0x3c9c11*_0x3c9c11)));switch(_0xa7fa4a[_0x582647*(-0x2*0x1209+0x2bf*-0x9+-0x3ccd*-0x1)+(0x82a+-0x118e+-0x967*-0x1)]-(0x4*-0x5e1+0x12*-0x83+0x21b6)){case 0x354*-0x1+0xd2c+-0x9d8:_0x2c324d['set'](_0x1ece31,_0x119fdf,_0x3c9c11,_0x278f75);break;case-0x2e*-0x80+-0x8*0x365+0x429:_0x2c324d['set'](_0x278f75,_0x119fdf,_0x3c9c11,_0x1ece31);break;case 0x179f+-0x1c3e+0x4a1:_0x2c324d['set'](_0x119fdf,_0x278f75,_0x3c9c11,_0x1ece31);break;case-0x3e*-0x95+0x665+-0x2a78:_0x2c324d['set'](_0x119fdf,_0x3c9c11,_0x278f75,_0x1ece31);break;}}if(_0x1bca7c){const _0x1c1aa6=_0x26a7c8(_0x3e5f03['mins'][-0x11a8+0xdd*0x1d+-0x761],_0x3e5f03['maxs'][0xe*0x262+-0x1*0x24c5+0x369],_0x909703[_0x582647*(0x3*0x14d+-0x1*0x13d+-0x2a6)+(-0x7bc+-0x139e+0x1b5a*0x1)]/(0x7f6+-0x2361+0x1c6a*0x1)),_0x130ea7=_0x26a7c8(_0x3e5f03['mins'][0x660+0x3c5*-0x5+0xc7a*0x1],_0x3e5f03['maxs'][-0x221f*0x1+0x1fc7+-0x1*-0x259],_0x909703[_0x582647*(0x1*0x8e5+0xbd9+-0x14ba)+(0x25c+0x301*0xd+-0x2968)]/(0x5*-0x2d9+-0x1eab+0x2de7*0x1)),_0x46a496=_0x26a7c8(_0x3e5f03['mins'][0x2231*0x1+-0x1072+-0x11bd],_0x3e5f03['maxs'][-0x3*0x2f5+0x103b+0x2*-0x3ad],_0x909703[_0x582647*(0x2353*0x1+0x7a1+-0x2af0)+(-0x50b*0x2+-0x20*-0x47+0x138)]/(0xe*-0x134+0x293*0x4+0x78b));_0x1bca7c['set'](_0x1c1aa6,_0x130ea7,_0x46a496);}if(_0x55fcf3){const _0x2e437d=_0x26a7c8(_0x534549['mins'][0xa70*0x2+0x15e9+-0x4c1*0x9],_0x534549['maxs'][0x2f9*0x7+0x11*0xbd+-0x215c],_0x178347[_0x582647*(-0x3*-0x2d4+0x2ad*0x1+-0xb25)+(0x1*0x25bd+0x1f91+-0x1*0x454e)]/(-0xac1*0x1+0xce7*-0x1+0x18a7)),_0x4d131d=_0x26a7c8(_0x534549['mins'][-0x359*-0x7+-0x4cf*0x6+-0x1*-0x56c],_0x534549['maxs'][-0x1a5d+-0xf*0x23b+-0x13f1*-0x3],_0x178347[_0x582647*(-0xb9e+-0x151*-0x1a+-0x1698)+(0x2261+-0x726+-0x55*0x52)]/(0x18ee+-0x106c+0x281*-0x3)),_0x388faf=_0x26a7c8(_0x534549['mins'][0xb8*0x17+-0x24b8+0xa*0x205],_0x534549['maxs'][0x3*0x313+0x2*0x1381+-0x3039],_0x178347[_0x582647*(0x119b+0x2*0x1157+-0x3445)+(0x2c4+0xa6d+-0xd2f)]/(-0x873+0x1085+-0x713)),_0x3a0478=_0x26a7c8(_0x534549['mins'][-0x1cd6+-0xe75*-0x1+0x266*0x6],_0x534549['maxs'][-0x10f1+-0x2*-0x7e+0x49*0x38],_0x178347[_0x582647*(0xee4*0x1+0x17e1+-0x26c1)+(0x7c3*-0x2+-0x1d0+-0x1159*-0x1)]/(-0x1a*-0x16e+0xb*-0x10c+0x1*-0x18a9));_0x55fcf3['set'](0x2562+0x106d+-0x13*0x2d5+0.5+_0x2e437d*An,0x1cd6+-0x1*0x1e4d+0x7d*0x3+0.5+_0x4d131d*An,0x8a5+0x11da+-0x1a7f+0.5+_0x388faf*An,(-0x1*-0x8f9+0x233b+-0x2c33)/(0x6f8*-0x1+0xf11*-0x2+0x251b+Math['exp'](-_0x3a0478)));}if(_0x295341){const _0x3ec456=_0x1eab72[_0x582647*(0x8*0x17e+0x1f7d+-0x2b69*0x1)+(-0xc4*0x3+0x1*0x24e+-0x2*0x1)]+(_0x1eab72[_0x582647*(-0x114c+0x4d3*0x1+0xc7d)+(0x1378+-0x1405+0x8e)]<<-0x1555+-0x5*0x313+0x2*0x125e),_0x1b9121=_0x3ec456%(0x30f+0xe34+-0x1103)*(-0x6a4*-0x2+0x1570+-0x22a9),_0x42078e=Math['floor'](_0x3ec456/(-0x3e7+-0x18e*-0x16+-0x1e0d));for(let _0x527be9=-0x26ff+0x1d1d+-0xb*-0xe6;_0x527be9<-0x1*0x122b+0x2017*-0x1+0x3245;++_0x527be9)for(let _0x3fa72d=-0x1a53+-0x4*-0x2f5+0xe7f;_0x3fa72d<0x1b28+-0x1*0xde6+0x1f*-0x6d;++_0x3fa72d)_0x295341[_0x527be9*(0x228d+-0x1712+0xac*-0x11)+_0x3fa72d]=_0x26a7c8(_0x2a58c1['mins'],_0x2a58c1['maxs'],_0x27da9b[(_0x1b9121+_0x3fa72d)*(0x13*0x134+-0x3*-0x2fb+-0x1*0x1fc9)+_0x527be9+_0x42078e*_0x24cab9['sh_centroi'+'ds']['width']*(0x33*0x5e+0x5*-0x146+-0xc58)]/(-0xb*0x2a4+-0x14c3+0x32ce));}};}}class gC{constructor(){h(this,'meta'),h(this,'numSplats'),h(this,'means_l'),h(this,'means_u'),h(this,'quats'),h(this,'scales'),h(this,'sh0'),h(this,'sh_centroi'+'ds'),h(this,'sh_labels'),h(this,'packedText'+'ure');}['destroy'](){var _0x1dd223,_0x3c1a54,_0x47aea0,_0x27e4bb,_0xd87794,_0x4d8879,_0x1d949a,_0x3ce3b5;(_0x1dd223=this['means_l'])==null||_0x1dd223['destroy'](),(_0x3c1a54=this['means_u'])==null||_0x3c1a54['destroy'](),(_0x47aea0=this['quats'])==null||_0x47aea0['destroy'](),(_0x27e4bb=this['scales'])==null||_0x27e4bb['destroy'](),(_0xd87794=this['sh0'])==null||_0xd87794['destroy'](),(_0x4d8879=this['sh_centroi'+'ds'])==null||_0x4d8879['destroy'](),(_0x1d949a=this['sh_labels'])==null||_0x1d949a['destroy'](),(_0x3ce3b5=this['packedText'+'ure'])==null||_0x3ce3b5['destroy']();}['createIter'](_0x2836fb,_0x13a6c8,_0x47c7bc,_0x2e5921,_0x5a8509){return new _C(this,_0x2836fb,_0x13a6c8,_0x47c7bc,_0x2e5921,_0x5a8509);}['calcAabb'](_0x313739){const {mins:_0x55daa8,maxs:_0x350ccd}=this['meta']['means'],_0x158fab=_0x4db770=>Math['sign'](_0x4db770)*(Math['exp'](Math['abs'](_0x4db770))-(-0x1*-0xf35+0x11c7*-0x1+-0x1*-0x293));_0x313739['center']['set']((_0x158fab(_0x55daa8[0x1899*-0x1+0x189*-0x11+-0x10e6*-0x3])+_0x158fab(_0x350ccd[0x192e*0x1+0x17a9+-0x1*0x30d7]))*(0x20c0+-0x2f*0x59+-0x1069+0.5),(_0x158fab(_0x55daa8[-0x526*0x7+0x1e06+0x605])+_0x158fab(_0x350ccd[-0x226a+-0x24*-0x35+-0x1*-0x1af7]))*(0x128c*0x1+0x13eb+-0x2677+0.5),(_0x158fab(_0x55daa8[-0x6*0x111+-0x1*0x167+0x7cf])+_0x158fab(_0x350ccd[-0xabb+0x2096+-0x15d9]))*(0x182b+0x1*0x1640+-0x2e6b+0.5)),_0x313739['halfExtent'+'s']['set']((_0x158fab(_0x350ccd[0x1*-0x5e6+0x19d+0x449*0x1])-_0x158fab(_0x55daa8[0xeb8+0x557+-0x1*0x140f]))*(-0x166a+-0x413*-0x4+-0x9*-0xae+0.5),(_0x158fab(_0x350ccd[-0x10f7*-0x1+0x3*-0xae5+0xfb9])-_0x158fab(_0x55daa8[0x1*0x138c+0x29*-0x56+0xd3*-0x7]))*(-0x5*-0x9e+0x215e+-0x2474+0.5),(_0x158fab(_0x350ccd[0x1158+0x472*-0x3+-0x400])-_0x158fab(_0x55daa8[-0x23df+-0x397*0x9+0x10*0x443]))*(0x109a+0x1a14+-0x9*0x4be+0.5));}['getCenters'](_0xf25986){const {meta:_0x571150,means_l:_0x459125,means_u:_0xb9a7df,numSplats:_0x1d0179}=this,{means:_0x416e55}=_0x571150,_0x282126=new Uint32Array(_0xb9a7df['_levels'][0x327*-0x1+0x1bf7+-0x18d0]['buffer']),_0x484d81=new Uint32Array(_0x459125['_levels'][-0x2c9+0x1*0xab7+-0x7ee]['buffer']),_0x138339=_0x416e55['mins'][-0x1*0x314+-0x2211+0x25*0x101]/(0x10cfc+-0x88b*-0x33+-0xb*0x28ca),_0x5b6e88=_0x416e55['mins'][-0x699+-0x5ed+0xc87]/(0x98e1+0xeac2+0x1a54*-0x5),_0x2856bc=_0x416e55['mins'][-0x17c9+0xa3*-0x25+0x1d*0x1a2]/(-0x5*0xddb+-0x349*0x17+0x190d5),_0x264b81=_0x416e55['maxs'][-0x1cdc+-0xecd*-0x2+-0xbe]/(0x3e*-0x3d3+-0x16626+0x3533f),_0x46ca2e=_0x416e55['maxs'][-0x19f*-0x7+-0x1*0x14e9+0x991]/(-0x18a92+0x10999+0x180f8),_0x474d58=_0x416e55['maxs'][0x740+0x119*0x1b+-0x419*0x9]/(-0x20dc+0x5a2f*0x4+-0x47e1);for(let _0x2e7c45=-0x2b0*-0x6+-0x680*0x4+-0x2*-0x4f0;_0x2e7c45<_0x1d0179;_0x2e7c45++){const _0x302481=_0x2e7c45,_0x549279=_0x282126[_0x302481],_0x2bc564=_0x484d81[_0x302481],_0x159944=_0x549279<<-0x9c3+0xc2f+-0x264&0xe1bd+0x51e+0x1825|_0x2bc564&-0xf25+0x2429+-0x1405,_0x5d06ff=_0x549279&0x157c7+-0x3*0x2df9+-0x25*-0x154|_0x2bc564>>>-0x1554+0x2212+-0xcb6&-0x3*0xbe9+0x2349+-0x1*-0x171,_0x123edc=_0x549279>>>-0x1f50+0x21e3+-0x28b&0x14261+-0x795e+0x35fd|_0x2bc564>>>0x2047+0xaa4*-0x3+0x1*-0x4b&0x2b5+0x176+-0x32c,_0x930b15=_0x138339*(0x23*-0x3e6+-0x11*-0x1193+0x5dae*0x1-_0x159944)+_0x264b81*_0x159944,_0x7cb95b=_0x5b6e88*(0x15fe2*0x1+0x12949+0x1*-0x1892c-_0x5d06ff)+_0x46ca2e*_0x5d06ff,_0xd90c89=_0x2856bc*(-0x25cf+-0x251a+-0x8*-0x295d-_0x123edc)+_0x474d58*_0x123edc,_0x51a295=_0x930b15<0x1270+0x1e7e+-0x30ee?-_0x930b15:_0x930b15,_0x1d449f=_0x7cb95b<0x61*0x67+0xcb9*0x1+0x114*-0x30?-_0x7cb95b:_0x7cb95b,_0x2ed3f7=_0xd90c89<0x813*0x1+-0x6fd*0x3+0xce4?-_0xd90c89:_0xd90c89;_0xf25986[_0x2e7c45*(0x1*0x2ff+-0x16*-0x53+-0x25*0x46)]=(_0x930b15<0x260e+0x7*-0x3c1+-0x2d*0x43?-(-0x2533+0x26*0xaa+0xbf8*0x1):-0x1dd+0x1*-0x1e89+0x2067)*(Math['exp'](_0x51a295)-(-0x117d+-0x155c+0x26da)),_0xf25986[_0x2e7c45*(-0x1b7*-0x5+-0x11a8+0x918)+(0x1bc2+-0x333+-0x1*0x188e)]=(_0x7cb95b<-0xf93*-0x1+0x3*0x603+-0x59a*0x6?-(-0x880*-0x3+-0x260a+0xf7*0xd):-0x25d2+0x21eb+-0x28*-0x19)*(Math['exp'](_0x1d449f)-(0x1*-0x21d+0x2452+-0x2234)),_0xf25986[_0x2e7c45*(0x13*-0x100+-0x1*0x18f+-0x1*-0x1492)+(0x1e*-0xa0+-0xd2a*-0x1+-0x4*-0x166)]=(_0xd90c89<-0x1825+-0x888+0x20ad*0x1?-(0x2241+-0x9*-0x326+-0x3e96):-0x84*0x2+-0x5a*-0x46+-0x1793)*(Math['exp'](_0x2ed3f7)-(-0xef*-0x7+-0xd82*0x2+0x147c));}}['calcFocalP'+'oint'](_0x58c0e9,_0x29c795){_0x58c0e9['set'](0x1b3e+-0x4b1*-0x7+-0x3c15,0x21a*-0x4+0x1*-0x1775+-0xa9f*-0x3,-0x449+0xc91*0x2+-0x14d9);}get['isSogs'](){return!(-0x2*0x571+-0x1f*0xe7+0x26db);}get['shBands'](){var _0x1fb373;return{0xc0:0x1,0x200:0x2,0x3c0:0x3}[(_0x1fb373=this['sh_centroi'+'ds'])==null?void(-0xa*0x8c+0x716+-0x19e):_0x1fb373['width']]??-0x11*-0xf+0xcbd+0x6de*-0x2;}async['decompress'](){const _0x2619f8=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3'],{shBands:_0x5cc79e}=this,{means_l:_0x3d41f9,means_u:_0x33aafc,quats:_0x580b13,scales:_0x6cf8b7,sh0:_0x33a9e0,sh_labels:_0x41dfd3,sh_centroids:_0x37bffa}=this;if(_0x3d41f9['_levels'][0x1942+-0x1942+0x0]=await Ci(_0x3d41f9),_0x33aafc['_levels'][0x62*0x16+0x1ccf+-0x9*0x423]=await Ci(_0x33aafc),_0x580b13['_levels'][0x1*-0x1466+0x1631+0x33*-0x9]=await Ci(_0x580b13),_0x6cf8b7['_levels'][-0x1*-0x1898+0x4*-0x7ab+0x185*0x4]=await Ci(_0x6cf8b7),_0x33a9e0['_levels'][-0x2e*0x74+0x65b*0x2+0x822]=await Ci(_0x33a9e0),_0x5cc79e>-0x1*0x2492+0x7c*0x4+0x22a2){_0x41dfd3['_levels'][-0x1160*0x1+-0x16e2*-0x1+-0x582]=await Ci(_0x41dfd3),_0x37bffa['_levels'][-0x1669*-0x1+-0x6aa+-0x1*0xfbf]=await Ci(_0x37bffa);const _0x4c6e31=[];for(let _0x14d30f=-0x6*-0x5e3+0x1def+0xd0d*-0x5;_0x14d30f<0x17f5+-0xe*-0xf5+0x1297*-0x2;++_0x14d30f)_0x4c6e31['push']('f_rest_'+_0x14d30f);_0x2619f8['splice'](_0x2619f8['indexOf']('f_dc_0')+(0x181f+0xf41*-0x1+-0x1*0x8dd),-0x1b5e+0x23ad*0x1+-0x84f,..._0x4c6e31);}const _0x525c85={};_0x2619f8['forEach'](_0x3216e8=>{_0x525c85[_0x3216e8]=new Float32Array(this['numSplats']);});const _0x102b1f=new D(),_0x273fe3=new le(),_0x36d0c2=new D(),_0x368147=new re(),_0x1462eb=_0x5cc79e>-0x143*0x1d+-0x244f+0x48e6?new Float32Array(-0x419*0x7+0x3d*0x8e+-0x7*0xb6):null,_0x28d364=this['createIter'](_0x102b1f,_0x273fe3,_0x36d0c2,_0x368147,_0x1462eb);for(let _0x3d4d0e=-0x1d65*-0x1+0xb5*-0x18+-0xc6d*0x1;_0x3d4d0e<this['numSplats'];++_0x3d4d0e)if(_0x28d364['read'](_0x3d4d0e),_0x525c85['x'][_0x3d4d0e]=_0x102b1f['x'],_0x525c85['y'][_0x3d4d0e]=_0x102b1f['y'],_0x525c85['z'][_0x3d4d0e]=_0x102b1f['z'],_0x525c85['rot_1'][_0x3d4d0e]=_0x273fe3['x'],_0x525c85['rot_2'][_0x3d4d0e]=_0x273fe3['y'],_0x525c85['rot_3'][_0x3d4d0e]=_0x273fe3['z'],_0x525c85['rot_0'][_0x3d4d0e]=_0x273fe3['w'],_0x525c85['scale_0'][_0x3d4d0e]=_0x36d0c2['x'],_0x525c85['scale_1'][_0x3d4d0e]=_0x36d0c2['y'],_0x525c85['scale_2'][_0x3d4d0e]=_0x36d0c2['z'],_0x525c85['f_dc_0'][_0x3d4d0e]=(_0x368147['x']-(-0xed*0x17+-0x1*0x14ab+0x1*0x29f6+0.5))/An,_0x525c85['f_dc_1'][_0x3d4d0e]=(_0x368147['y']-(-0x2432+0x16*-0x74+-0x137*-0x26+0.5))/An,_0x525c85['f_dc_2'][_0x3d4d0e]=(_0x368147['z']-(-0x1*-0x262e+0x109b+-0x36c9+0.5))/An,_0x525c85['opacity'][_0x3d4d0e]=_0x368147['w']<=-0x2bb*0xb+0x1d3+0x1c36?-(-0x184*0x9+-0x1*-0x1c96+-0xeca):_0x368147['w']>=-0x4f*0xa+-0xc5a+-0xf71*-0x1?0xf5d+0x7e4*0x4+0x27*-0x133:-Math['log']((-0x1*0x1ccf+0x250c+-0x83c)/_0x368147['w']-(-0x26d5+-0x1b72+-0x65*-0xa8)),_0x1462eb){for(let _0x586d0a=0x16c*0xa+0x1*-0xbe1+0x257*-0x1;_0x586d0a<0x71*-0x53+0x2*0xd50+-0x2*-0x518;++_0x586d0a)_0x525c85['f_rest_'+_0x586d0a][_0x3d4d0e]=_0x1462eb[_0x586d0a];}return new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x2619f8['map'](_0x29c908=>({'name':_0x29c908,'type':'float','byteSize':0x4,'storage':_0x525c85[_0x29c908]}))}]);}['packGpuMem'+'ory'](){const {means_l:_0x24323f,means_u:_0x3a5893,quats:_0x3037d8,scales:_0x13a162,sh_labels:_0x4f76da,numSplats:_0x210808}=this,{device:_0x26de58}=_0x24323f,{scope:_0x5c1a24}=_0x26de58,_0x46a4c5=$t['createShad'+'er'](_0x26de58,{'uniqueName':'GsplatSogs'+'ReorderSha'+'der','attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentGLSL':uC,'fragmentWGSL':pC,'fragmentOutputTypes':['uvec4']}),_0x4293a3=new gt({'colorBuffer':this['packedText'+'ure'],'depth':!(-0x17d7+0x3c7*-0x1+-0x935*-0x3),'mipLevel':0x0});_0x26de58['setCullMod'+'e'](bt),_0x26de58['setBlendSt'+'ate'](pt['NOBLEND']),_0x26de58['setDepthSt'+'ate'](Yt['NODEPTH']),mC(_0x5c1a24,{'means_l':_0x24323f,'means_u':_0x3a5893,'quats':_0x3037d8,'scales':_0x13a162,'sh_labels':_0x4f76da??_0x24323f,'numSplats':_0x210808}),Ar(_0x26de58,_0x4293a3,_0x46a4c5),_0x4293a3['destroy'](),_0x46a4c5['destroy']();}async['prepareGpu'+'Data'](){const {device:_0x2cf84d,height:_0x3773f8,width:_0x386de8}=this['means_l'];this['means_l']['_levels'][0x9d*0x34+0xb41+-0x2b25]=await Ci(this['means_l']),this['means_u']['_levels'][-0x11c6+0xb4d+0x679*0x1]=await Ci(this['means_u']),this['packedText'+'ure']=new _e(_0x2cf84d,{'name':'sogsPacked'+'Texture','width':_0x386de8,'height':_0x3773f8,'format':Ue,'mipmaps':!(0x1afe+-0x7b1+-0xf7*0x14)}),_0x2cf84d['on']('devicerest'+'ored',()=>{this['packGpuMem'+'ory']();}),this['packGpuMem'+'ory']();}['reorderDat'+'a'](){return this['prepareGpu'+'Data']();}}async function SC(){let _0x5f40e8=null,_0x2c39d7=null,_0x66cf3=null,_0x91d228=null,_0x398b54=null,_0x87ca94=null,_0xd34e2=null,_0x576dfb=null,_0x321a7d=null,_0x516f44=null,_0x2e7134=null,_0x34b400=null,_0x4a9d3d=null,_0x4d0ccf=null,_0x10c8b7=null,_0x2e8165=null,_0x153cc4=null,_0x895215=null,_0x5ab384=null,_0x491144=null,_0xc4518f=null,_0x43f877=null,_0x3429f1=null,_0x35a776=null,_0x4d2d88=Float32Array['BYTES_PER_'+'ELEMENT'],_0xe34f7a=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x8bf7d8=-0xcce+-0x16dd+0x23ab,_0x2d26c8=!(-0x1cad+-0x2081+0x3d2e),_0x29ad44,_0x4ac144,_0x2278b5={'x':0x0,'y':0x0,'z':0x0},_0x10e316={'x':0x0,'y':0x0,'z':0x0},_0x47d797=!(0x805+-0x131*-0x19+-0x25ce),_0x5c789a=!(-0x24db+0xc80+0xd7*0x1d),_0x2d17a3=!(-0x2304+0x13b8+0x1*0xf4d),_0x2f0b4e=!(0x4eb*-0x1+-0x14e8+-0x13*-0x15c),_0x531ef9=-0x1*0xbc5+0x170+0x73*0x17,_0x4234d0=-0x681+0x1*-0x1898+0x1f19,_0x136cd8=!(-0x7*-0x371+-0x15ad+0x1*-0x269),_0x17c3a8=null,_0x2cd4c0=!(-0x226c+0x11c5*0x1+0x10a8),_0x578a13=0xd25+0x871*-0x3+0xc2e,_0x5ebd5e=0x1c77+-0x1d08+0x91,_0x23ced2={'x':0x0,'y':0x0,'z':0x0},_0x12649e={'x':0x0,'y':0x0,'z':0x0},_0x30d2bc,_0x1887a9;self['onmessage']=async _0x5d1100=>{const {data:_0x2f8b5a}=_0x5d1100;switch(_0x2f8b5a['type']){case'initWorker':await _0x4e4501(_0x2f8b5a['sortWasmUr'+'l']),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x8bf7d8=_0x2f8b5a['centers']['length']/(0xc53*0x3+-0x11fc+-0x12fa),_0x8bf7d8<=-0x4*0x4c7+-0x25ad+-0x1*-0x38c9||!_0x2c39d7)return;_0x35ac44(),_0x2d26c8=_0x2f8b5a['is4d'],_0x30d2bc=_0x2f8b5a['id'];const _0x1b5087=_0xcc6583(_0x8bf7d8);if(_0x85388d(_0x1b5087),_0x66cf3[0xc7e+0x791*0x3+-0x2331]=_0x23ced2['x'],_0x66cf3[-0x1957+-0xc35+0x1*0x258d]=_0x23ced2['y'],_0x66cf3[0x2589+0x43c*-0x5+-0x105b*0x1]=_0x23ced2['z'],_0x91d228[-0x49b+0x1e34+0x1*-0x1999]=_0x12649e['x'],_0x91d228[0x2*-0x12a6+0xa80+0x1acd*0x1]=_0x12649e['y'],_0x91d228[0x5f*-0xa+-0x1*0x191b+0x1cd3]=_0x12649e['z'],_0x87ca94&&_0x2f8b5a['centers']&&_0x87ca94['length']===_0x2f8b5a['centers']['length']){const _0x4c2818=new Float32Array(_0x2f8b5a['centers']);_0x87ca94['set'](_0x4c2818);}if(_0x576dfb&&_0x2f8b5a['timeIndex']&&_0x576dfb['length']===_0x2f8b5a['timeIndex']['length']){const _0x510d61=new Uint32Array(_0x2f8b5a['timeIndex']);_0x576dfb['set'](_0x510d61);}if(_0x2e7134&&_0x2f8b5a['motion']&&_0x2e7134['length']===_0x2f8b5a['motion']['length']){const _0x4ae723=new Float32Array(_0x2f8b5a['motion']);_0x2e7134['set'](_0x4ae723);}if(_0x2d26c8&&_0x321a7d&&_0x516f44&&_0x2f8b5a['muT']&&_0x2f8b5a['tScale']&&_0x321a7d['length']===_0x2f8b5a['muT']['length']&&_0x516f44['length']===_0x2f8b5a['tScale']['length']&&(_0x321a7d['set'](_0x2f8b5a['muT']),_0x516f44['set'](_0x2f8b5a['tScale'])),_0xd34e2){for(let _0x16a4ff=0x1a3e+0x15d7*0x1+-0xb*0x45f;_0x16a4ff<_0xd34e2['length'];++_0x16a4ff)_0xd34e2[_0x16a4ff]=_0x16a4ff;}_0x398b54&&_0x2f8b5a['timeOption']&&_0x398b54['set'](_0x2f8b5a['timeOption']),_0x5bdf0e(),_0x2cd4c0=!(-0x4c*0x10+0x110b*-0x1+0x15cb*0x1),_0x2d17a3=!(-0x1*-0x100f+0x16*-0x152+0x23*0x5f),_0x5d8cd6();break;case'setTime':_0x29ad44=_0x2f8b5a['time'],_0x5d8cd6();break;case'setUseTemp'+'oralSort':_0x47d797=_0x2f8b5a['useTempora'+'lSort'];break;case'setUseDyna'+'micSort':_0x5c789a=_0x2f8b5a['useDynamic'+'Sort'];break;case'sort':if(!_0x66cf3)return;_0x66cf3[0x180d*-0x1+-0x9af+0x11*0x1fc]=_0x2f8b5a['cameraPosi'+'tion']['x'],_0x66cf3[-0x138d+0x181c+-0x48e]=_0x2f8b5a['cameraPosi'+'tion']['y'],_0x66cf3[-0x6f3+0x1*0xbeb+-0x4f6]=_0x2f8b5a['cameraPosi'+'tion']['z'],_0x91d228[-0x2*-0x1087+-0x5d8+-0x36*0x81]=_0x2f8b5a['cameraDire'+'ction']['x'],_0x91d228[-0x8ce+0x3*-0x55d+0x1*0x18e6]=_0x2f8b5a['cameraDire'+'ction']['y'],_0x91d228[-0x1ade+0x1cd*-0x11+-0x397d*-0x1]=_0x2f8b5a['cameraDire'+'ction']['z'],_0x23ced2['x']=_0x2f8b5a['cameraPosi'+'tion']['x'],_0x23ced2['y']=_0x2f8b5a['cameraPosi'+'tion']['y'],_0x23ced2['z']=_0x2f8b5a['cameraPosi'+'tion']['z'],_0x12649e['x']=_0x2f8b5a['cameraDire'+'ction']['x'],_0x12649e['y']=_0x2f8b5a['cameraDire'+'ction']['y'],_0x12649e['z']=_0x2f8b5a['cameraDire'+'ction']['z'],_0x5d8cd6();break;}};const _0x35ac44=()=>{_0x4234d0=Math['max'](0x2514+0x49*0x45+-0x38b7,Math['min'](0xabe+0x1694+-0x25*0xe6,Math['round'](Math['log2'](_0x8bf7d8/(-0x1a66+0xa24+-0x1*-0x1046))))),_0x531ef9=(-0x1*0x1c2b+0x130+-0x3db*-0x7)**_0x4234d0+(0x2*0x9a+-0x1*-0x1c6a+-0x3*0x9df);},_0x85388d=_0x3c05cd=>{_0x34b400=-0x843+0x593+-0x158*-0x2,_0x4a9d3d=_0x34b400+_0x8bf7d8*_0x4d2d88*(-0xf7a+-0x1*-0x1f75+-0xff8),_0x895215=_0x4a9d3d+(0x11af+0xd*-0x2e7+0x1470)*_0x4d2d88*(-0x1*-0x283+-0xc44+0x341*0x3),_0x5ab384=_0x895215+_0x8bf7d8*_0xe34f7a,_0x491144=_0x5ab384+(0x17b8+0x7e2*0x1+0x1f97*-0x1)*_0x4d2d88,_0xc4518f=_0x491144+(0x1540+0xbb*-0x2f+-0x346*-0x4)*_0x4d2d88,_0x43f877=_0xc4518f+(0xab4+-0x3*-0x1d3+-0x102a)*_0x4d2d88,_0x3429f1=_0x43f877+(-0x2f1*0x1+-0x269*0x3+0x4f*0x21)*_0x4d2d88,_0x35a776=_0x3429f1+_0x8bf7d8*_0xe34f7a,_0x87ca94=new Float32Array(_0x3c05cd,_0x34b400,_0x8bf7d8*(-0xb71+-0x38*0x77+0x12be*0x2)),_0x398b54=new Float32Array(_0x3c05cd,_0x4a9d3d,0x1547+-0x185a+0x7*0x8d),_0xd34e2=new Uint32Array(_0x3c05cd,_0x895215,_0x8bf7d8),_0x66cf3=new Float32Array(_0x3c05cd,_0x5ab384,0x54e+-0xd29+0x7de),_0x91d228=new Float32Array(_0x3c05cd,_0x491144,-0x69b*-0x1+0x29*-0x67+0x9e7),_0x2d26c8&&(_0x2e8165=_0x35a776+_0x531ef9*_0xe34f7a,_0x153cc4=_0x2e8165+_0x8bf7d8*_0x4d2d88,_0x10c8b7=_0x153cc4+_0x8bf7d8*_0x4d2d88,_0x4d0ccf=_0x10c8b7+_0x8bf7d8*(-0xa*-0x1fb+0x1af3*0x1+0x2ebe*-0x1)*_0x4d2d88,_0x321a7d=new Float32Array(_0x3c05cd,_0x2e8165,_0x8bf7d8),_0x516f44=new Float32Array(_0x3c05cd,_0x153cc4,_0x8bf7d8),_0x2e7134=new Float32Array(_0x3c05cd,_0x10c8b7,_0x8bf7d8*(-0x2b2+0x220a+-0x1f55)),_0x576dfb=new Uint32Array(_0x3c05cd,_0x4d0ccf,_0x8bf7d8));},_0x4e4501=async _0x5c84eb=>{_0x578a13=-0x11ef+-0x775+0x1965;const _0x5b2906={'env':{'memory':new WebAssembly['Memory']({'initial':_0x578a13}),'pthread_self':function(){return-0x198d+-0xe3*0x1+-0x10*-0x1a7;},'emscripten_builtin_memalign':function(){return 0x2320+-0x2004+-0x2*0x18e;},'loggerVec3':(_0x654820,_0x207729,_0x1c856e,_0x5f05a8)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x654820+']\x200:'+_0x207729+'\x201:'+_0x1c856e+'\x202:'+_0x5f05a8);},'loggerFloat':(_0x7ba668,_0x3185c6)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x7ba668+']\x20a:'+_0x3185c6);},'loggerValue':(_0x2271ad,_0x19e8a3,_0x3474af,_0x24c650,_0x383ee6)=>{console['log']('C++\x20logger'+'Value\x20['+_0x2271ad+']\x20minDist:'+_0x19e8a3+'\x20maxDist:'+_0x3474af+'\x20range:'+_0x24c650+'\x20divider:'+_0x383ee6);},'loggerCamera':(_0x3ecfa4,_0x555694,_0x41e105,_0x284f37,_0x23a488,_0x52ce28,_0x11c800)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x3ecfa4+']\x20x:'+_0x555694+'\x20y:'+_0x41e105+'\x20z:'+_0x284f37+'\x20dx:'+_0x23a488+'\x20dy:'+_0x52ce28+'\x20dz:'+_0x11c800);},'loggerBound':(_0x4950bb,_0x197368,_0x3b284b,_0x170b36,_0x273d3c,_0x32e0be)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x4950bb+'\x20minY:'+_0x197368+'\x20minZ:'+_0x3b284b+'\x20maxX:'+_0x170b36+'\x20maxY:'+_0x273d3c+'\x20maxZ:'+_0x32e0be);},'loggerDebug':_0x54354a=>{console['log']('C++\x20logger'+'Debug\x20['+_0x54354a+']');}}};try{const _0x5f4abd=await(await fetch(_0x5c84eb))['arrayBuffe'+'r']();return _0x5f40e8=(await WebAssembly['instantiat'+'e'](_0x5f4abd,_0x5b2906))['instance'],_0x2c39d7=_0x5b2906['env']['memory'],_0x5f40e8;}catch(_0x336c56){throw console['error']('WASM'+':',_0x336c56),_0x336c56;}},_0x2d214a=_0x372657=>{if(_0x372657<=-0x4*-0x3a9+0x532+-0x13d6)return 0x4*0x364+0x1b1a+-0x28a9;let _0x3e209f=_0x372657*_0x4d2d88*(0x1*0x1307+-0x1*0x1472+0x16e);_0x3e209f+=_0x372657*_0xe34f7a,_0x3e209f+=(0x248c+-0x1*-0x78b+0x364*-0xd)*_0x4d2d88,_0x3e209f+=(0x331*-0x3+-0x8*0xdf+0x108e)*_0x4d2d88,_0x3e209f+=(0x17*-0xd+-0x117b*-0x1+-0x1*0x104d)*_0x4d2d88,_0x3e209f+=(0x197*0x6+-0x65*-0x4e+0x21f*-0x13)*_0x4d2d88,_0x3e209f+=_0x372657*_0x4d2d88,_0x3e209f+=_0x531ef9*_0xe34f7a,_0x3e209f+=(-0x905+-0x7*-0x7d+0xd*0x76)*_0x4d2d88*(-0x254+-0x1920+-0x57e*-0x5),_0x3e209f+=_0x372657*_0xe34f7a,_0x2d26c8&&(_0x3e209f+=_0x372657*_0x4d2d88,_0x3e209f+=_0x372657*_0x4d2d88,_0x3e209f+=_0x372657*_0x4d2d88*(-0x1b*-0x79+-0xf1*0x6+-0x71a));const _0x313bef=(0x3ab+0x7e0+-0xb4b)*(0x367*-0x1+0x1*0xd06+-0x59f);return Math['ceil'](_0x3e209f/_0x313bef);},_0xcc6583=_0x5bac5d=>{const _0x3c8b61=_0x2d214a(_0x5bac5d);return _0x3c8b61>_0x578a13?(_0x2c39d7['grow'](_0x3c8b61-_0x578a13),_0x578a13=_0x3c8b61):_0x2c39d7['grow'](0x3*0x293+-0x1a2*0xe+0xf23),_0x2c39d7['buffer'];},_0x5bdf0e=()=>{if(!_0x5f40e8)return;const {calcAABB:_0xa3a318}=_0x5f40e8['exports'];_0xa3a318(_0x34b400,_0xc4518f,_0x43f877,_0x8bf7d8);},_0x5d8cd6=()=>{_0x17c3a8&&clearTimeout(_0x17c3a8),_0x17c3a8=setTimeout(()=>{_0x17c3a8=null,_0x58fc7e();},0x2695+-0x1*0x122e+-0x1467);},_0x58fc7e=()=>{if(!_0x5f40e8||!_0x2cd4c0||_0xd34e2['length']!==_0x8bf7d8||_0x895215===null||_0x34b400===null||_0x5ab384===null||_0x491144===null||_0xc4518f===null||_0x43f877===null)return;const _0x4ca979=_0x66cf3[-0x9a4*-0x2+-0x21fa+0xeb2],_0x4da946=_0x66cf3[0x2fe*-0x6+-0x8b2+0x1aa7],_0x192b55=_0x66cf3[0x3d4+-0xb3f+0x1*0x76d],_0x556dfe=_0x91d228[-0xf02+0x22e6+-0x13e4],_0x30c753=_0x91d228[0x11*-0x1af+-0x1200+0x2ea0],_0x33a7e1=_0x91d228[-0x2*0x11e5+0x5f*0x67+0x9*-0x45],_0x17a73a=-0x1*0xe1b+-0x2*0x54a+0x18af+0.001;if(!_0x2d17a3&&Math['abs'](_0x4ca979-_0x2278b5['x'])<_0x17a73a&&Math['abs'](_0x4da946-_0x2278b5['y'])<_0x17a73a&&Math['abs'](_0x192b55-_0x2278b5['z'])<_0x17a73a&&Math['abs'](_0x556dfe-_0x10e316['x'])<_0x17a73a&&Math['abs'](_0x30c753-_0x10e316['y'])<_0x17a73a&&Math['abs'](_0x33a7e1-_0x10e316['z'])<_0x17a73a&&Math['abs'](_0x29ad44-_0x4ac144)<0x22c8*-0x1+0xfdf+0x12e9+0.01)return;if(_0x2f0b4e){_0x136cd8=!(0x2*0x3bf+-0xf2*-0x5+-0x5c*0x22);return;}_0x2f0b4e=!(0x366+-0x41*-0x8e+-0x2774),_0x2d17a3=!(0x1d25+-0x91c*-0x2+-0x2f5c),_0x4ac144=_0x29ad44,_0x2278b5['x']=_0x4ca979,_0x2278b5['y']=_0x4da946,_0x2278b5['z']=_0x192b55,_0x10e316['x']=_0x556dfe,_0x10e316['y']=_0x30c753,_0x10e316['z']=_0x33a7e1,_0x136cd8=!(-0xcb*0x27+-0x1aee+0x844*0x7);const {sortIndexes:_0x4b39fd}=_0x5f40e8['exports'];try{const _0x32c224=_0x4b39fd(_0x895215,_0x34b400,_0x10c8b7,_0x2e8165,_0x153cc4,_0x5ab384,_0x491144,_0xc4518f,_0x43f877,_0x3429f1,_0x35a776,_0x29ad44||0x1*0x1bfa+-0x3f*0x64+-0x35e,_0x47d797,_0x5c789a,_0x2d26c8,_0x8bf7d8,_0x531ef9,_0x4234d0,_0x4a9d3d,_0x4d0ccf),_0x598105=new Uint32Array(_0xd34e2);if(_0x32c224===0x3d*-0x5a+-0x7f5+0x1d67){debugger;console['log']('____\x20ENGIN'+'E','Indexes\x20co'+'unt\x20===\x20',_0x32c224);}const _0xab4223=_0x8bf7d8!==_0x5ebd5e||_0x1887a9!==_0x30d2bc;self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x32c224,'order':_0x598105,'isNewOrder':_0xab4223},[_0x598105['buffer']]),_0x5ebd5e=_0x8bf7d8,_0x1887a9=_0x30d2bc;}catch(_0x421dbf){console['error'](':',_0x421dbf),self['postMessag'+'e']({'type':'error','error':_0x421dbf['message']});}_0x2f0b4e=!(-0xb9c*0x3+0x859+0x1a7c),_0x136cd8&&_0x5d8cd6();};}class yC extends me{constructor(){super(),h(this,'worker',null),h(this,'numSplats',-0x1b4b+-0xf*0x61+0x1*0x20fa),h(this,'is4d',!(0x3ad*-0x8+0x1*0x138b+0x9dd)),h(this,'sortStartT'+'ime',0x773*-0x2+-0x5*-0x16f+0x7bb*0x1),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'data',{}),(this['orderTextu'+'re']=null,this['backOrderT'+'exture']=null,this['worker']=null,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+SC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x33bac1=>{var _0x2b0145;if(!this['worker'])return;const {data:_0x13ea00}=_0x33bac1;switch(_0x13ea00['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':_0x13ea00['order']&&(_0x13ea00['isNewOrder']&&(this['orderTextu'+'re']=this['backOrderT'+'exture']),(_0x2b0145=this['orderTextu'+'re'])==null||_0x2b0145['write'](0x66+0x822*0x1+-0xe*0x9c,-0xf4e+0xa1f+0x52f,this['orderTextu'+'re']['width'],this['orderTextu'+'re']['height']-(0xedc+-0x1*0x1aa+-0xd31*0x1),_0x13ea00['order']));let _0x1c00e9=0x1656+0x1e5e+-0x34b4*0x1;this['sortStartT'+'ime']!==-0x17*0x12b+0x18b0*0x1+-0x22d*-0x1&&(_0x1c00e9=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x33bac1['data']['count'],_0x1c00e9,_0x13ea00['isNewOrder']),this['sortStartT'+'ime']=-0x182a+-0x1*-0xb6b+0xcbf;break;case'error':console['error']('Worker:',_0x13ea00['error']),this['fire']('error',_0x13ea00['error']);break;}},this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':'https://ja'+'neychan.gi'+'thub.io/so'+'rter-trail'+'ing.wasm'});}['initData'](_0x1d00f5,_0x121b10,_0x11a028,_0x4cff75,_0x43ac17,_0x40e8bd,_0x5c5f67,_0x33fbc8){var _0x1da27f;this['is4d']=_0x33fbc8,this['numSplats']=_0x121b10['length']/(-0x1ddf+0x2403*0x1+-0x621),(!_0x5c5f67||_0x5c5f67['length']===-0x1*-0x923+-0x2*-0x11a9+0x1*-0x2c75)&&(_0x5c5f67=[-0x1693*0x1+-0x17*0xb0+0x2663,-0x1*0x5c9+-0xd38*0x1+0x133d]),this['orderTextu'+'re']||(this['orderTextu'+'re']=_0x1d00f5),this['backOrderT'+'exture']=_0x1d00f5;const _0x426b7a=new Date()['getTime']();(_0x1da27f=this['worker'])==null||_0x1da27f['postMessag'+'e']({'type':'initData','centers':_0x121b10,'muT':_0x11a028,'tScale':_0x4cff75,'motion':_0x43ac17,'timeIndex':_0x40e8bd,'timeOption':_0x5c5f67,'is4d':_0x33fbc8,'id':_0x426b7a});}['setCamera'](_0x8953d3,_0x1df424){this['worker']&&(!_0x8953d3||!_0x1df424||(this['data']['cameraPosi'+'tion']={'x':_0x8953d3['x'],'y':_0x8953d3['y'],'z':_0x8953d3['z']},this['data']['cameraDire'+'ction']={'x':_0x1df424['x'],'y':_0x1df424['y'],'z':_0x1df424['z']},this['sortStartT'+'ime']===-0x1bab*-0x1+-0x3*-0xfa+-0x1e99&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0x8953d3['x'],'y':_0x8953d3['y'],'z':_0x8953d3['z']},'cameraDirection':{'x':_0x1df424['x'],'y':_0x1df424['y'],'z':_0x1df424['z']}})));}['setCurrent'+'Time'](_0x4dc32f){this['worker']&&(this['data']['time']=_0x4dc32f,this['sortStartT'+'ime']===0x5*-0x281+-0x1a3c+0x1*0x26c1&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x4dc32f}));}['setUseTemp'+'oralSort'](_0x178311){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x178311});}['setUseDyna'+'micSort'](_0x19b031){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseDyna'+'micSort','useDynamicSort':_0x19b031});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const vC=new te(),Va=new D(),Ga=new D(),Sc=[0x327+-0x7e4+0x4bd*0x1,0x8f3*-0x4+0x194d+0xa7f];class xC{constructor(_0x201b52,_0x5e6d82={}){h(this,'resource'),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'_material'),h(this,'meshInstan'+'ce'),h(this,'options',{}),h(this,'sorter',null),h(this,'time',0x250+-0x3*-0x97+0x5f*-0xb),h(this,'lastCamera'+'Position',new D()),h(this,'lastCamera'+'Direction',new D()),h(this,'resolveSH',null),h(this,'cameras',[]),h(this,'forceUpDat'+'eSorterTim'+'e',(_0x4b38d2,_0x29da15=void(0x2212+-0x1b3a+-0x6d8))=>{(_0x29da15||_0x29da15===-0x155f+-0xb3*-0x3+0x1346)&&(this['material']['setParamet'+'er']('uTime',_0x29da15),this['updateTime'](_0x29da15)),this['sort'](_0x4b38d2);}),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x201b52['numSplats']),this['resource']=_0x201b52,this['orderTextu'+'re']=this['resource']['createText'+'ure']('splatOrder',Ki,this['resource']['evalTextur'+'eSize'](this['resource']['numSplats'])),this['backOrderT'+'exture']=null,_0x5e6d82['material']?(this['_material']=_0x5e6d82['material'],this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])):(this['_material']=new Xn({'uniqueName':'SplatMater'+'ial','vertexGLSL':'#include\x20\x22'+'gsplatVS\x22','fragmentGLSL':'#include\x20\x22'+'gsplatPS\x22','vertexWGSL':'#include\x20\x22'+'gsplatVS\x22','fragmentWGSL':'#include\x20\x22'+'gsplatPS\x22','attributes':{'vertex_position':Me,'vertex_id_attrib':ph}}),this['configureM'+'aterial'](this['_material']),this['_material']['update']()),this['meshInstan'+'ce']=new He(this['resource']['mesh'],this['_material']),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(0x1*0x123e+0x1350+-0x258e)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=0xf*0x14b+-0x56a+0x4a9*-0x3,this['sorter']=new yC(),this['sorter']['on']('initialize'+'d',()=>{var _0x43526b,_0x347e0e,_0x3ebf63,_0x172b1c,_0x2a0753,_0x4339e9,_0x1d9a75,_0x494c04,_0x9d140f,_0x173ad8,_0x2d5528;const _0x4b9641=new Float32Array(this['resource']['centers']['buffer']['slice']()),_0x599667=new Float32Array(((_0x347e0e=(_0x43526b=this['resource']['muT'])==null?void(-0x1d23+0x1*0x15b3+0x770):_0x43526b['buffer'])==null?void(0x2166+-0x8*0x496+0x34a):_0x347e0e['slice']())??new Float32Array()),_0x3aeb97=new Float32Array(((_0x172b1c=(_0x3ebf63=this['resource']['tScale'])==null?void(0x3e0+-0xb*-0x95+-0xa47):_0x3ebf63['buffer'])==null?void(0x3c5+-0x2*0x11e5+0x1*0x2005):_0x172b1c['slice']())??new Float32Array()),_0x2ff0e9=new Float32Array(((_0x4339e9=(_0x2a0753=this['resource']['motion'])==null?void(0xc9c+-0x26f5*-0x1+0x2b*-0x133):_0x2a0753['buffer'])==null?void(-0x6df+-0x4*-0x12e+-0x1*-0x227):_0x4339e9['slice']())??new Float32Array()),_0x2617e1=new Float32Array(((_0x494c04=(_0x1d9a75=this['resource']['timeIndex'])==null?void(0x6*0x14e+0x1e47*0x1+-0x1*0x261b):_0x1d9a75['buffer'])==null?void(0x34*-0x56+-0x1*0x23a3+0x351b):_0x494c04['slice']())??new Float32Array(-0x1*0x39e+0x1fd8+-0x1c3a)),_0x59abd7=new Float32Array(((_0x173ad8=(_0x9d140f=this['resource']['timeOption'])==null?void(-0xc37+0x45e*0x1+0x7d9):_0x9d140f['buffer'])==null?void(0xc5d+0x1f*-0xdf+0xea4):_0x173ad8['slice']())??new Float32Array());(_0x2d5528=this['sorter'])==null||_0x2d5528['initData'](this['orderTextu'+'re'],_0x4b9641,_0x599667,_0x3aeb97,_0x2ff0e9,_0x2617e1,_0x59abd7,this['resource']['is4D']);}),this['sorter']['on']('updated',async(_0x27fa3d,_0x84ca51,_0xfbacce)=>{var _0x47f528;this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x27fa3d/this['resource']['instanceSi'+'ze']),_0xfbacce&&this['backOrderT'+'exture']&&(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatInst'+'ance\x20updat'+'ed'),[this['orderTextu'+'re'],this['backOrderT'+'exture']]=[this['backOrderT'+'exture'],this['orderTextu'+'re']],await this['resource']['updateText'+'ure'](),this['resource']['configureM'+'aterial'](this['_material']),this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])),_0xfbacce&&((_0x47f528=this['resource'])==null||_0x47f528['fireAssets'+'ManagerTim'+'eIndex']()),this['material']['setParamet'+'er']('numSplats',_0x27fa3d);}),this['setHighQua'+'litySH'](_0x5e6d82['highQualit'+'ySH']??!(0x1*-0xecb+0x55*0x9+0xbcf)));}async['updateInst'+'anceData'](_0x445ba0){var _0x994636,_0x13f635;console['log']('____\x20ENGIN'+'E\x20IVAN','updateInst'+'anceData\x20A'+'SSETS\x20GSpl'+'atInstance',_0x445ba0['numSplats']),this['resource']=_0x445ba0;const _0x2c9254=this['resource']['evalTextur'+'eSize'](_0x445ba0['centers']['length']/(-0x885*-0x2+-0x10c*0x1d+0xd55*0x1));return(_0x994636=this['backOrderT'+'exture'])==null||_0x994636['destroy'](),this['backOrderT'+'exture']=this['resource']['createText'+'ure']('splatOrder'+'2',Ki,_0x2c9254),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(-0xd1*0x1b+-0x139*-0x15+-0x1f*0x1e)),(_0x13f635=this['sorter'])==null||_0x13f635['initData'](this['backOrderT'+'exture'],_0x445ba0['centers'],_0x445ba0['muT'],_0x445ba0['tScale'],_0x445ba0['motion'],_0x445ba0['timeIndex'],_0x445ba0['timeOption'],_0x445ba0['is4D']),new Promise(_0x4b7240=>{var _0x3f529f;const _0x4d5012=(_0xb108ba,_0x1fa17b,_0x3227d1)=>{var _0x42ab23;_0x3227d1&&((_0x42ab23=this['sorter'])==null||_0x42ab23['off']('updated',_0x4d5012),_0x4b7240(!(-0x3ff+-0x1ce8*0x1+0x20e7)));};(_0x3f529f=this['sorter'])==null||_0x3f529f['on']('updated',_0x4d5012);});}['destroy'](){var _0x2819c5,_0x25e63f,_0x34a1cd,_0x479e5e,_0x2e4064,_0x5bd9d2;(_0x2819c5=this['resolveSH'])==null||_0x2819c5['destroy'](),(_0x25e63f=this['material'])==null||_0x25e63f['destroy'](),(_0x34a1cd=this['meshInstan'+'ce'])==null||_0x34a1cd['destroy'](),(_0x479e5e=this['sorter'])==null||_0x479e5e['destroy'](),(_0x2e4064=this['orderTextu'+'re'])==null||_0x2e4064['destroy'](),(_0x5bd9d2=this['backOrderT'+'exture'])==null||_0x5bd9d2['destroy']();}set['material'](_0x225724){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.set\x20'+'material'),this['_material']!==_0x225724&&(this['_material']=_0x225724,this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x225724));}get['material'](){return this['_material'];}['configureM'+'aterial'](_0x4f815c,_0xb5ce9={}){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.conf'+'igureMater'+'ial'),this['resource']['configureM'+'aterial'](_0x4f815c),_0x4f815c['setParamet'+'er']('numSplats',0x1*0x877+-0xc22*-0x3+-0x8f9*0x5),_0x4f815c['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),_0x4f815c['setParamet'+'er']('alphaClip',-0xce4+0x6e0+0x604+0.3),_0x4f815c['setDefine']('DITHER_'+(_0xb5ce9['dither']?'BLUENOISE':'NONE'),''),_0x4f815c['cull']=bt,_0x4f815c['blendType']=_0xb5ce9['dither']?Cs:Zs,_0x4f815c['depthWrite']=!!_0xb5ce9['dither'];}['updateView'+'port'](_0x4028e8){var _0x5bdf82;const _0x46f0bc=_0x4028e8==null?void(0x11b3*-0x1+-0x9d*-0x3a+-0x11df):_0x4028e8['camera'],_0x505310=_0x46f0bc==null?void(0xd*-0x2c5+-0xb*-0x335+0xba):_0x46f0bc['renderTarg'+'et'],{width:_0x1cea9f,height:_0x2b47bc}=_0x505310??this['resource']['device'];Sc[0x1a85+-0x1cd2+0x1f*0x13]=_0x1cea9f,Sc[0x1edd+-0xbb*0x2b+-0x1*-0x8d]=_0x2b47bc;const _0x2d9542=(_0x5bdf82=_0x46f0bc==null?void(0x1833+0x1814+0x11*-0x2d7):_0x46f0bc['camera'])==null?void(-0x365*-0xb+0x1*-0xf20+-0x1*0x1637):_0x5bdf82['xr'];_0x2d9542!=null&&_0x2d9542['active']&&_0x2d9542['views']['list']['length']===-0x1*-0x16db+0xf71+-0x2f2*0xd&&(Sc[-0x121c+0x7fd+0xa1f]*=0x117b+-0x768+0xa13*-0x1+0.5),this['material']['setParamet'+'er']('viewport',Sc);}['sort'](_0x3632c4){if(this['sorter']){const _0x109bb9=_0x3632c4['getWorldTr'+'ansform']();_0x109bb9['getTransla'+'tion'](Va),_0x109bb9['getZ'](Ga);const _0x5663df=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x42963e=vC['invert'](_0x5663df);_0x42963e['transformP'+'oint'](Va,Va),_0x42963e['transformV'+'ector'](Ga,Ga),(!Va['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!Ga['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](Va),this['lastCamera'+'Direction']['copy'](Ga),this['sorter']['setCamera'](Va,Ga)),this['sorter']['setCurrent'+'Time'](this['time']);}this['updateView'+'port'](_0x3632c4);}['update'](){var _0x42380e;if(this['cameras']['length']>-0x1aad+0xfca+-0xae3*-0x1){const _0x3083f1=this['cameras'][-0x1b14+-0xeac+0x29c0];this['sort'](_0x3083f1['_node']),(_0x42380e=this['resolveSH'])==null||_0x42380e['render'](_0x3083f1['_node'],this['meshInstan'+'ce']['node']['getWorldTr'+'ansform']()),this['cameras']['length']=0x17c+-0x919*0x2+-0x2e*-0x5d;}}['setHighQua'+'litySH'](_0x1605f0){const {resource:_0x38e3ac}=this,{gsplatData:_0x241de9}=_0x38e3ac;_0x241de9 instanceof gC&&_0x241de9['shBands']>-0x517*-0x5+0x10b*-0x3+-0x1652&&_0x1605f0===!!this['resolveSH']&&(this['resolveSH']?(this['resolveSH']['destroy'](),this['resolveSH']=null):this['resolveSH']=new fC(_0x38e3ac['device'],this));}['updateTime'](_0x520346){this['time']=_0x520346;}}class Rv{constructor(_0x4eef25,_0x266fbc){h(this,'sceneInfo',{}),h(this,'isDestroye'+'d',!(-0x52c*0x4+0x2463+-0xfb3*0x1)),h(this,'device'),h(this,'gsplatData'),h(this,'centers'),h(this,'aabb'),h(this,'mesh'),h(this,'instanceIn'+'dices'),h(this,'gsplatInst'+'ance'),(this['device']=_0x4eef25,this['gsplatData']=_0x266fbc,this['isDestroye'+'d']=!(-0x1*-0x192d+0x3*0xa4c+-0x3810));const _0x3b7a24=0x18bd+0x3*-0x952+0x3b9*0x1,_0x35f52c=Math['ceil'](_0x266fbc['numSplats']/_0x3b7a24)*_0x3b7a24/_0x3b7a24,_0x347ad5=new Uint32Array(_0x35f52c);for(let _0x302eff=-0xa6f*0x1+-0x323+-0xd92*-0x1;_0x302eff<_0x35f52c;++_0x302eff)_0x347ad5[_0x302eff]=_0x302eff*_0x3b7a24;const _0x3e65e3=new kt(_0x4eef25,[{'semantic':ph,'components':0x1,'type':el,'asInt':!(-0x8*0x34d+0x1633*0x1+0x3*0x167)}]),_0xac1f99=new Float32Array((-0x5*0x521+-0x25a9+0x3f5a)*_0x3b7a24),_0x6abf2e=new Uint32Array((-0x803*0x3+0x347*-0x3+-0x21e4*-0x1)*_0x3b7a24);for(let _0x154fe3=-0x130c+-0x1cc8+-0x2*-0x17ea;_0x154fe3<_0x3b7a24;++_0x154fe3){_0xac1f99['set']([-(0x2243+0x7a+0x4c*-0x75),-(-0x1c*-0x8c+-0xee8+-0x67),_0x154fe3,0x2083+0x33b*0xb+-0x440b,-(-0x8*0x280+-0xcc*-0x1a+0x3*-0x3d),_0x154fe3,-0x5dd+0x1532+-0xf54,0x95c+0xe8e+-0x17e9,_0x154fe3,-(0xe5b+0x202a+-0x2e84),-0x1172+-0x1814*0x1+0x2987*0x1,_0x154fe3],_0x154fe3*(0x1c56+0x2*-0x277+-0x175c));const _0x9de04c=_0x154fe3*(0x1383+-0x20*0x20+-0xf7f*0x1);_0x6abf2e['set']([0x2*-0x4fc+0x22a9+-0x93*0x2b+_0x9de04c,0x20c4+-0x135*0x3+-0xa*0x2ea+_0x9de04c,0x64a+0x1ca2+-0xda*0x29+_0x9de04c,0x19*-0x1f+0xd88+0x1*-0xa81+_0x9de04c,-0x1990+0xc9c+-0x7*-0x1da+_0x9de04c,-0x5*0x6f3+-0xed6+0x3198+_0x9de04c],_0x154fe3*(-0x15e9+0x4e1*-0x7+-0x1*-0x3816));}this['mesh']=new Ge(_0x4eef25),this['mesh']['setPositio'+'ns'](_0xac1f99,0x1f18+0xe5b+-0xb5c*0x4),this['mesh']['setIndices'](_0x6abf2e),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),this['instanceIn'+'dices']=new Is(_0x4eef25,_0x3e65e3,_0x35f52c,{'usage':ms,'data':_0x347ad5['buffer']});}['updateData'](){var _0x534a14;const _0x4b5bab=this['gsplatData'];if(!_0x4b5bab)return;const _0xdd2658=0x1*0x202d+0x5ce+-0x257b,_0x5e3cce=Math['ceil'](_0x4b5bab['numSplats']/_0xdd2658)*_0xdd2658/_0xdd2658,_0x4ad108=new Uint32Array(_0x5e3cce);for(let _0x46f596=0xaff+-0x443+-0x1*0x6bc;_0x46f596<_0x5e3cce;++_0x46f596)_0x4ad108[_0x46f596]=_0x46f596*_0xdd2658;const _0x52ab7b=new kt(this['device'],[{'semantic':ph,'components':0x1,'type':el,'asInt':!(-0x583+-0x15e2*0x1+-0x1*-0x1b65)}]),_0x4377fb=new Float32Array((-0x11*-0x69+0x1*0x1609+-0x1cf6)*_0xdd2658),_0x3a5316=new Uint32Array((0x158f+0x167e+-0x2c07)*_0xdd2658);for(let _0x2562c0=-0x8a4+-0x297+-0x17*-0x7d;_0x2562c0<_0xdd2658;++_0x2562c0){_0x4377fb['set']([-(0x2a7+-0x1487+0xc7*0x17),-(-0x18a*0xa+-0x43f*0x7+0x2d1e),_0x2562c0,0x8fe+0x18a+-0x7*0x181,-(-0xa36*-0x1+0x18e*-0x3+0x1*-0x58b),_0x2562c0,-0x1*0x11c8+0x23fe+0x1*-0x1235,-0x112*-0x4+0x1d36+0x217d*-0x1,_0x2562c0,-(0x1a*0xc1+0xe1*-0x27+0xeae),-0x1eac+0x21b5*0x1+-0x308,_0x2562c0],_0x2562c0*(0x71*0x2e+-0x2148+0xd06));const _0x7e7bd7=_0x2562c0*(0x1406+0x90f*0x1+-0x1d11);_0x3a5316['set']([0x24dd+-0x1a8c+-0xa51+_0x7e7bd7,-0xcd7+-0x1d75*0x1+0x2a4d+_0x7e7bd7,-0x2*0x6e9+-0x18b4+0x2688+_0x7e7bd7,-0x3*-0x874+0x904+-0x2260+_0x7e7bd7,0xb57*0x1+0x1f47+-0x2a9c+_0x7e7bd7,-0x402*-0x8+0xa0+-0x20ad+_0x7e7bd7],_0x2562c0*(-0x1b5b+0x22e8+-0x1*0x787));}this['mesh']['setPositio'+'ns'](_0x4377fb,0x15a5+0x55d*0x2+-0x2*0x102e),this['mesh']['setIndices'](_0x3a5316),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),(_0x534a14=this['instanceIn'+'dices'])==null||_0x534a14['destroy'](),this['instanceIn'+'dices']=new Is(this['device'],_0x52ab7b,_0x5e3cce,{'usage':ms,'data':_0x4ad108['buffer']});}['updateText'+'ure'](){}['destroy'](){var _0x3e90ab,_0x1476a8,_0x514a22,_0x5379d9;(_0x3e90ab=this['mesh'])==null||_0x3e90ab['destroy'](),(_0x1476a8=this['instanceIn'+'dices'])==null||_0x1476a8['destroy'](),(_0x514a22=this['gsplatData'])==null||_0x514a22['destroy'](),this['gsplatData']=null,(_0x5379d9=this['gsplatInst'+'ance'])==null||_0x5379d9['destroy'](),this['gsplatInst'+'ance']=void(0x1*-0x4c5+0x10be+0xbf9*-0x1),this['isDestroye'+'d']=!(0x75*-0x3a+0xdf5+0xc8d),this['mesh']=null;}get['instanceSi'+'ze'](){return-0x3*-0x16b+0x184+-0x545*0x1;}get['numSplats'](){var _0x3086cb;return(_0x3086cb=this['gsplatData'])==null?void(0x6d0+0x398+-0x4a*0x24):_0x3086cb['numSplats'];}['setSceneIn'+'fo'](_0x1e7d16){}['configureM'+'aterial'](_0x548dc9){}['evalTextur'+'eSize'](_0x19af49){return J['ZERO'];}['appendGSpl'+'atResource'](_0x1159e8,_0x3c50d0,_0x418644,_0x5d07da,_0x4eedb3){}['fireAssets'+'ManagerTim'+'eIndex'](){}['createText'+'ure'](_0x3257dc,_0x1b03a9,_0x8b2e6f,_0x2ea2be){return new _e(this['device'],{'name':_0x3257dc,'width':_0x8b2e6f['x'],'height':_0x8b2e6f['y'],'format':_0x1b03a9,'cubemap':!(-0x3*-0x66f+0x1bcc+-0x178c*0x2),'mipmaps':!(-0x18a+-0x95*0x2+0x9*0x4d),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,..._0x2ea2be?{'levels':[_0x2ea2be]}:{}});}['instantiat'+'e'](){w['removed']('GSplatReso'+'urce.insta'+'ntiate\x20is\x20'+'removed.\x20U'+'se\x20gsplat\x20'+'component\x20'+'instead');}['createInst'+'ance'](_0xdd98e7,_0x1057a5){return this['gsplatInst'+'ance']=new xC(_0xdd98e7,_0x1057a5),this['gsplatInst'+'ance'];}}async function TC(){const _0x474dbd=new Float32Array(-0x1545+0x116e+-0x6*-0xa4),_0x53f7d5=new Int32Array(_0x474dbd['buffer']);let _0x3c4c96=null,_0x27fdec=null,_0xc58d3c=null,_0x42ccb0=null,_0x1eac96=null,_0x147784=null,_0xc8458d=null,_0x55181e=null;self['onmessage']=async _0x7e4cd=>{const {data:_0x3ed621}=_0x7e4cd;switch(_0x3ed621['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0xcf7412(_0x3ed621['numSplats'],_0x3ed621['shBands'],_0x3ed621['SHData']);break;case'updateColo'+'rData':_0x558a62(_0x3ed621['numSplats'],_0x3ed621['cr'],_0x3ed621['cg'],_0x3ed621['cb'],_0x3ed621['ca']);break;case'updateTran'+'sformData':_0x222fd8(_0x3ed621['numSplats'],_0x3ed621['is4D'],_0x3ed621['x'],_0x3ed621['y'],_0x3ed621['z'],_0x3ed621['rx'],_0x3ed621['ry'],_0x3ed621['rz'],_0x3ed621['rw'],_0x3ed621['mx'],_0x3ed621['my'],_0x3ed621['mz'],_0x3ed621['sx'],_0x3ed621['sy'],_0x3ed621['sz'],_0x3ed621['muT'],_0x3ed621['tScale']);break;case'calcAabb':_0x46fb2a(_0x3ed621['numSplats'],_0x3ed621['x'],_0x3ed621['y'],_0x3ed621['z'],_0x3ed621['sx'],_0x3ed621['sy'],_0x3ed621['sz']);break;case'destroyWor'+'ker':_0x4d256a();break;}};class _0x15533f{constructor(_0xdbd5cf=-0x10c0*0x2+-0x26d6+-0x2*-0x242b,_0x14b5b1=0x1c*-0x7c+0x23df+-0x164f,_0x44acf4=-0xbcb*0x1+0x2179*0x1+-0xad7*0x2,_0x309a0e=0x3d+-0x3ea*-0x7+-0x1ba2){this['x']=_0xdbd5cf,this['y']=_0x14b5b1,this['z']=_0x44acf4,this['w']=_0x309a0e;}['set'](_0x50acba,_0x279a13,_0x8fec5b,_0x3249ae){return this['x']=_0x50acba,this['y']=_0x279a13,this['z']=_0x8fec5b,this['w']=_0x3249ae,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x16bf55=this){let _0x1888bf=_0x16bf55['length']();return _0x1888bf===0x1e1d+-0x5*0x5a4+-0x1e9?(this['x']=this['y']=this['z']=0xd61+0x64*0x5b+0x9c9*-0x5,this['w']=-0x251*-0xd+-0x178d+-0x49*0x17):(_0x1888bf=(-0x2*0xd7c+0x2*-0x1a1+-0x47*-0x6d)/_0x1888bf,this['x']=_0x16bf55['x']*_0x1888bf,this['y']=_0x16bf55['y']*_0x1888bf,this['z']=_0x16bf55['z']*_0x1888bf,this['w']=_0x16bf55['w']*_0x1888bf),this;}['mulScalar'](_0x500984,_0x300965=this){return this['x']=_0x300965['x']*_0x500984,this['y']=_0x300965['y']*_0x500984,this['z']=_0x300965['z']*_0x500984,this['w']=_0x300965['w']*_0x500984,this;}}const _0x428f6c=_0xffc207=>{_0x474dbd[-0x1189+0x25a*0x2+-0x16d*-0x9]=_0xffc207;const _0x4d5de2=_0x53f7d5[0x259d*0x1+0x1805+0x3da2*-0x1];let _0x3a81dd=_0x4d5de2>>0x49*-0x71+0x1268*-0x1+0x32b1&-0xfd65+0x36d*0x8+0x161fd,_0x282bd9=_0x4d5de2>>-0x228c+-0x12fc+-0x1b*-0x1fc&-0x3*0xa59+0xc5*0x7+0x21a7;const _0xd5d6d2=_0x4d5de2>>0x252c+0xa2+-0x25b7&-0x1bb7+-0xd34*-0x2+0x24e;return _0xd5d6d2<-0x416+-0x1*0x17ff+-0x1c7c*-0x1?_0x3a81dd:_0xd5d6d2>-0x16f4+-0x838*-0x2+-0x712*-0x1?(_0x3a81dd|=0x103b+0x28b4+-0xb1*-0x61,_0x3a81dd|=(_0xd5d6d2===-0x18*-0x17f+0x1c*0xe4+-0x1*0x3bd9?-0x29d+-0x28c*0xe+0x61*0x65:0x2169+0xb*0x19b+-0x3311)&&_0x4d5de2&-0x85107a+0x7d2d93+0x2f23*0x2e2,_0x3a81dd):_0xd5d6d2<0x1ad5+0xce5*0x3+-0x4113*0x1?(_0x282bd9|=-0x2485+-0x1b06+-0xe4f*-0x5,_0x3a81dd|=(_0x282bd9>>0x16c1+-0x1466+-0x1e9-_0xd5d6d2)+(_0x282bd9>>0x2*-0xaa7+0x2*0x829+0x56d-_0xd5d6d2&-0x5b2+-0xef1+0x14a4*0x1),_0x3a81dd):(_0x3a81dd|=_0xd5d6d2-(0x3*0x9f7+0x35*-0x27+0xe*-0x187)<<-0x4*-0x45b+0x33*0x2d+-0x163*0x13|_0x282bd9>>0xc6b+-0x1e25*0x1+0x5e9*0x3,_0x3a81dd+=_0x282bd9&-0xc1*0x9+0x1c02+-0x2*0xa9c,_0x3a81dd);},_0x46fb2a=(_0xeaa313,_0x4189c0,_0x53a671,_0x5abf77,_0x2cb48c,_0x11e6de,_0x5e5d87)=>{let _0x24e7c7=0x246a+-0x1b40+-0x92a,_0xc5a0db=-0x672*0x3+0x192b+-0x5d5,_0x93a659=0x1b9+-0x2*0xed2+0x1beb,_0x9ae4e7=-0x342+-0x113*-0x1f+-0x1e0b,_0x230cc9=-0x14b*-0x16+0x173*0x4+-0x223e*0x1,_0x15a0e2=0x11*0x18b+-0x1*0x853+0x5f8*-0x3,_0x13161f=!(0x263f+-0x4b*-0x81+-0x4c0a);const _0x5ab865=new Float32Array(-0x617*-0x1+-0xd*0x3+0x25*-0x29),_0x28b625=new Float32Array(-0xaac*-0x1+-0x2*0x92a+-0x7ab*-0x1);for(let _0x5f32e7=0x10c*0x14+0x251b+-0x3a0b;_0x5f32e7<_0xeaa313;++_0x5f32e7){const _0x322c6a=_0x4189c0[_0x5f32e7],_0x295315=_0x53a671[_0x5f32e7],_0x563a6d=_0x5abf77[_0x5f32e7],_0x19e71a=Math['max'](_0x2cb48c[_0x5f32e7],_0x11e6de[_0x5f32e7],_0x5e5d87[_0x5f32e7]);if(!isFinite(_0x322c6a)||!isFinite(_0x295315)||!isFinite(_0x563a6d)||!isFinite(_0x19e71a))continue;const _0x2b119e=(-0x13d*-0x14+0xc5*0x25+-0x353b)*Math['exp'](_0x19e71a);_0x13161f?(_0x13161f=!(-0x209*-0x1+-0x26*-0xc9+-0x1fde),_0x24e7c7=_0x322c6a-_0x2b119e,_0xc5a0db=_0x295315-_0x2b119e,_0x93a659=_0x563a6d-_0x2b119e,_0x9ae4e7=_0x322c6a+_0x2b119e,_0x230cc9=_0x295315+_0x2b119e,_0x15a0e2=_0x563a6d+_0x2b119e):(_0x24e7c7=Math['min'](_0x24e7c7,_0x322c6a-_0x2b119e),_0xc5a0db=Math['min'](_0xc5a0db,_0x295315-_0x2b119e),_0x93a659=Math['min'](_0x93a659,_0x563a6d-_0x2b119e),_0x9ae4e7=Math['max'](_0x9ae4e7,_0x322c6a+_0x2b119e),_0x230cc9=Math['max'](_0x230cc9,_0x295315+_0x2b119e),_0x15a0e2=Math['max'](_0x15a0e2,_0x563a6d+_0x2b119e));}_0x13161f||(_0x5ab865[-0xd*0x1f4+-0x124c*0x1+-0x30*-0xe9]=(_0x24e7c7+_0x9ae4e7)*(-0x9c7+-0xc41+0x1608+0.5),_0x5ab865[0x1561+-0x10aa*-0x1+-0x260a]=(_0xc5a0db+_0x230cc9)*(0x5b+0x17e1+-0x183c+0.5),_0x5ab865[0x131*0x7+0x18dc+-0x125*0x1d]=(_0x93a659+_0x15a0e2)*(0x1*0x106f+0x9de+-0x1a4d+0.5),_0x28b625[0x892+-0x11c5+0x933]=(_0x9ae4e7-_0x24e7c7)*(0x1b7d+-0x29*-0x8b+-0xc7*0x40+0.5),_0x28b625[-0x2d*0x5+0xf5*-0x3+0x1*0x3c1]=(_0x230cc9-_0xc5a0db)*(-0x567*0x2+0x4*0x435+-0x1*0x606+0.5),_0x28b625[0xa69+-0x32*0x8+-0x8d7]=(_0x15a0e2-_0x93a659)*(0x41*-0x3d+-0x21f5+0x3172+0.5)),self['postMessag'+'e']({'type':'updatedAab'+'bData','center':_0x5ab865,'halfExtents':_0x28b625});},_0x222fd8=(_0x3a1c7e,_0x456c74,_0x280030,_0x35f945,_0x40db87,_0x5209eb,_0x158f4c,_0x3c6f59,_0x280f5b,_0x349989,_0x5ba7a7,_0x348ed4,_0x4a1e20,_0x771e10,_0x376bc0,_0x37f4d5,_0x49a71d)=>{_0x4d256a(),_0x3c4c96=new Float32Array(_0x3a1c7e*(-0x33a+-0x62c*0x2+0xf95)),_0x42ccb0=new Float32Array(_0x3a1c7e*(0x16e5+0x107b+-0x275d)),_0x147784=new Uint16Array(_0x3a1c7e*(0x1d*0x119+-0x29*-0xa1+-0x399b)),_0xc58d3c=new Float32Array(_0x3a1c7e*(0xd24+-0x1*0x2033+-0x1312*-0x1)),_0x456c74&&(_0x1eac96=new Float32Array(_0x3a1c7e*(-0x1a13+-0x24a3+-0x3eb9*-0x1)),_0x27fdec=new Float32Array(_0x3a1c7e*(0x8b5*-0x4+-0xe83*-0x2+0x5d1)),_0xc8458d=new Float32Array(_0x3a1c7e*(-0x102f+-0x220d+0x2a5*0x13)),_0x55181e=new Float32Array(_0x3a1c7e));const _0x622a8e=new _0x15533f(-0x1868*-0x1+-0xdb5+-0x53*0x21,0x1128+0x2b*-0xce+0x1172,-0x7c7*-0x5+-0x1e1*-0x11+0xc*-0x5e7,-0x1d7*0x9+-0x1485+0x2514);for(let _0x17500e=0x16c*0x6+-0x1*0x208a+0x1802;_0x17500e<_0x3a1c7e;_0x17500e++)_0x622a8e['set'](_0x5209eb[_0x17500e],_0x158f4c[_0x17500e],_0x3c6f59[_0x17500e],_0x280f5b[_0x17500e]),_0x622a8e['normalize'](),_0x622a8e['w']<0x23f7+-0x102c+-0x699*0x3&&_0x622a8e['mulScalar'](-(0xec*-0xb+-0xfb7+0x19dc)),_0x42ccb0[_0x17500e*(0x1d73*-0x1+-0xe*-0x114+0xe5e)+(-0x444+-0x781+-0x1*-0xbc5)]=_0x280030[_0x17500e],_0x42ccb0[_0x17500e*(0x2311+0x1aff+-0x3e0d)+(-0x921+0x41+0x8e1)]=_0x35f945[_0x17500e],_0x42ccb0[_0x17500e*(0xee8+-0x4d*-0x29+0x52*-0x55)+(0x1b8b+-0x12a4+-0x8e5)]=_0x40db87[_0x17500e],_0x3c4c96[_0x17500e*(0x16fb+0x648+-0x1d40)+(-0xa8f+-0x176c+0x21fb)]=_0x280030[_0x17500e],_0x3c4c96[_0x17500e*(0x1c13+-0x19bb+-0x1*0x255)+(-0x3*-0x647+-0xae*-0x38+-0x38e4)]=_0x35f945[_0x17500e],_0x3c4c96[_0x17500e*(-0x3d*0x46+0x1569+-0x4b8)+(0x2*-0x4e6+-0x21d5+-0x2ba3*-0x1)]=_0x40db87[_0x17500e],_0x147784[_0x17500e*(0x799*0x5+-0x1*-0x1eb7+-0x44b1)+(0x3c*-0x43+0xd8d+0x227)]=_0x428f6c(Math['exp'](_0x4a1e20[_0x17500e])),_0x147784[_0x17500e*(-0x1e90+-0x13d0+0x3263)+(0x8*-0x2bf+0x2*-0xb40+0x2c79)]=_0x428f6c(Math['exp'](_0x771e10[_0x17500e])),_0x147784[_0x17500e*(0xf*0x26d+0x81*-0x11+-0x3f*0x71)+(0x397+0x2c7*0x4+-0xeb1)]=_0x428f6c(Math['exp'](_0x376bc0[_0x17500e])),_0xc58d3c[_0x17500e*(-0x1a87+-0x1eff+0x3989)+(0x8fb+0x11c2+0xb9*-0x25)]=_0x622a8e['x'],_0xc58d3c[_0x17500e*(-0x148+-0x8e*-0x33+-0x1aff)+(-0x29*-0x61+-0x21c*-0x7+-0x793*0x4)]=_0x622a8e['y'],_0xc58d3c[_0x17500e*(0x24e2*0x1+0x903+-0x16f1*0x2)+(-0x105d+0x4e+0x1011)]=_0x622a8e['z'],_0x456c74&&_0x1eac96&&_0x27fdec&&(_0x1eac96[_0x17500e*(0x2*0x1307+0x2*0x6a2+-0x334f)+(-0x1398+-0x1df4+0x318c)]=_0x349989[_0x17500e],_0x1eac96[_0x17500e*(-0x1*0x124c+0x5fa+0xc55*0x1)+(0xc7b+-0x8f1+0x389*-0x1)]=_0x5ba7a7[_0x17500e],_0x1eac96[_0x17500e*(-0x1e4+0x1*0x96+0x151)+(0x1f*0x29+0x11c3*-0x2+0x1e91)]=_0x348ed4[_0x17500e],_0xc8458d[_0x17500e*(-0x235+-0xd99*0x1+0xfd1)+(0x11b+-0x5*-0x6aa+-0x4eb*0x7)]=_0x349989[_0x17500e],_0xc8458d[_0x17500e*(0x1*-0x2348+0x1*-0x6a6+0x29f1)+(-0x2661+0x2487*0x1+-0x5f*-0x5)]=_0x5ba7a7[_0x17500e],_0xc8458d[_0x17500e*(-0xac8+-0x1*0xc3e+0x1*0x1709)+(-0x1ac9+0x26c9+0x1*-0xbfe)]=_0x348ed4[_0x17500e],_0x55181e[_0x17500e]=_0x49a71d?Math['exp'](_0x49a71d[_0x17500e]):0x56f+0x251*-0x7+-0xb8*-0xf,_0x27fdec[_0x17500e*(-0x4d*0x2a+0x24a6*-0x1+0x314b)+(-0x3*-0x2f9+-0x8*-0x433+-0x2a83)]=_0x37f4d5?_0x37f4d5[_0x17500e]:-0x1923+0xdfb+-0x88*-0x15,_0x27fdec[_0x17500e*(0x3a5*-0x2+0x302+0x44b*0x1)+(-0x5d*0x2a+0x2640+0x1*-0x16fd)]=_0x55181e[_0x17500e]);const _0x2348e4=[_0x3c4c96['buffer'],_0x42ccb0['buffer'],_0x147784['buffer'],_0xc58d3c['buffer']];_0x456c74&&_0x2348e4['push'](_0x1eac96['buffer'],_0x27fdec['buffer'],_0xc8458d['buffer'],_0x55181e['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x3c4c96,'dataPosition':_0x42ccb0,'dataScale':_0x147784,'dataRotation':_0xc58d3c,'dataMotion':_0x1eac96,'dataTime':_0x27fdec,'motion':_0xc8458d,'tScaleArray':_0x55181e},_0x2348e4);},_0x558a62=(_0x5a02a0,_0x14bb31,_0x316698,_0xab17ec,_0x5bd26a)=>{const _0x2658ba=new Uint16Array(_0x5a02a0*(-0x183f+0x1b7*-0x7+0x2444)),_0x589908=0x2449+-0x9d8+-0x3c7*0x7+0.28209479177387814;for(let _0xa2646c=-0x8da+-0x1*-0x100a+-0x730;_0xa2646c<_0x5a02a0;++_0xa2646c){const _0x293837=_0x14bb31[_0xa2646c]*_0x589908+(-0x321*-0x6+-0x5f*-0x5a+-0x342c+0.5),_0x3a265f=_0x316698[_0xa2646c]*_0x589908+(0x1431+0x35*0x28+-0xc5*0x25+0.5),_0x35a98=_0xab17ec[_0xa2646c]*_0x589908+(0x2561+-0x20cb+-0x496+0.5),_0x34bc9a=_0x5bd26a[_0xa2646c];_0x2658ba[_0xa2646c*(0x38f*-0x1+-0x11d1+0x94*0x25)+(0x3ad+-0x6c3*0x4+0x175f*0x1)]=_0x428f6c(_0x293837),_0x2658ba[_0xa2646c*(0x10bb+0xeb9*-0x1+0xf*-0x22)+(-0x16e3+0x2441*0x1+0xb*-0x137)]=_0x428f6c(_0x3a265f),_0x2658ba[_0xa2646c*(-0x1d55+-0x4e9+-0x2*-0x1121)+(-0xd9+0x2*0xa9e+-0x25*0x8d)]=_0x428f6c(_0x35a98),_0x2658ba[_0xa2646c*(-0x1fc8+0x746*0x1+0x1886)+(-0x1039+0x29*-0x1d+0x1*0x14e1)]=_0x428f6c(_0x34bc9a);}self['postMessag'+'e']({'type':'updatedCol'+'orData','data':_0x2658ba});},_0xcf7412=(_0x412ed8,_0x5ae7aa,_0x551bc5)=>{const _0x54c311=new Uint32Array(_0x412ed8*(-0x67*0x55+0x16*-0x121+0x3b0d)),_0x22861b=new Uint32Array(_0x412ed8*(0x1*0x1792+0x13*0x146+0x2fc0*-0x1)),_0x31228c=new Uint32Array(_0x412ed8*(-0x1*-0x1d4b+-0x6*-0x4e+-0x1f1b)),_0x138cd2=new Uint32Array(_0x412ed8*(-0x2017+0x14*-0x71+-0x5d9*-0x7)),_0x1e2527={0x1:0x3,0x2:0x8,0x3:0xf}[_0x5ae7aa],_0x71a115=_0x551bc5,_0x29daf4=0x73e*-0x5+-0x603+0x3238,_0x1b9f9d=0x10c6+-0xeb1*0x1+0x1ea*0x1,_0x24f9c7=new Float32Array(-0x42*-0x47+0xe50+-0x209d),_0x5c3971=new Uint32Array(_0x24f9c7['buffer']),_0x5442a3=new Array(_0x1e2527*(-0x3c9+0x2f*-0x8a+0x1d22))['fill'](-0xfa0+-0xcda+0x5a*0x51);for(let _0x74c648=0x608+0x1014+-0x161c*0x1;_0x74c648<_0x412ed8;++_0x74c648){for(let _0x39d755=0xacc+0x2167+-0x2c33;_0x39d755<_0x1e2527;++_0x39d755)_0x5442a3[_0x39d755*(0x2*0x192+-0xb1a+0xd*0x9d)]=_0x71a115[_0x39d755][_0x74c648],_0x5442a3[_0x39d755*(0x81b*0x4+-0xc8e+-0x13db)+(-0xef*0x4+-0xc58*0x2+0x1c6d)]=_0x71a115[_0x39d755+_0x1e2527][_0x74c648],_0x5442a3[_0x39d755*(0x1f1c+-0x14e1+-0xa38)+(0x2533+-0x3*-0x4fd+-0x3428*0x1)]=_0x71a115[_0x39d755+_0x1e2527*(-0x23dd+-0x1*0x1691+0x3a70)][_0x74c648];let _0x377d74=_0x5442a3[-0x2f1*0x6+-0x1d05+-0x2eab*-0x1];for(let _0x3a5296=0x146b+0x1*0x1cb8+-0x3122;_0x3a5296<_0x1e2527*(0x1c9a+-0x4d7+0x10*-0x17c);++_0x3a5296)_0x377d74=Math['max'](_0x377d74,Math['abs'](_0x5442a3[_0x3a5296]));if(_0x377d74!==0x249e+-0x2429+-0x9*0xd){for(let _0x32764a=-0xf7c*0x2+-0x1*-0x1f1b+0x7*-0x5;_0x32764a<_0x1e2527;++_0x32764a)_0x5442a3[_0x32764a*(0x1*-0xccb+-0xc22*-0x2+0x2*-0x5bb)+(-0xb0*-0x1c+0x161a+-0x295a)]=Math['max'](-0x342+-0xc5c+0x1*0xf9e,Math['min'](_0x29daf4,Math['floor']((_0x5442a3[_0x32764a*(-0x8a*-0x1+0x82c*-0x1+0x7a5)+(0x81b*-0x1+0x15*-0x5a+0xf7d)]/_0x377d74*(0xa69+0x6*0x517+0x28f3*-0x1+0.5)+(-0x1c8a+0x200e+-0x2*0x1c2+0.5))*_0x29daf4+(-0x1813+0x2ac+0x1567+0.5)))),_0x5442a3[_0x32764a*(0x1*-0x4dd+0x25e9+0xb03*-0x3)+(0x737+0x1a*0x13c+-0x274e)]=Math['max'](-0x1*-0x146f+-0x3*-0x5d+-0x1d*0xbe,Math['min'](_0x1b9f9d,Math['floor']((_0x5442a3[_0x32764a*(0x1714+0x28f+-0x290*0xa)+(0x13b+-0xe*0x66+0x22d*0x2)]/_0x377d74*(0x1*0x7e1+-0x792*0x4+0x1667+0.5)+(-0x3af+-0x11*0x1bf+-0x10af*-0x2+0.5))*_0x1b9f9d+(-0x74*0x44+0x13*-0x2+0x1ef6+0.5)))),_0x5442a3[_0x32764a*(-0x1*-0x24f2+0xc1f+-0x105a*0x3)+(0x1*-0x28a+0x10c7+-0x1*0xe3b)]=Math['max'](-0x16a1+0x1*0x22cd+-0xc2c,Math['min'](_0x29daf4,Math['floor']((_0x5442a3[_0x32764a*(0x135+0xef9+-0x102b)+(0xc*-0xe1+0x46c+0xa*0x9d)]/_0x377d74*(-0x24f6+-0x6*-0x17f+-0x9*-0x31c+0.5)+(-0x2b*-0x9+-0x1*-0x2fe+-0x481+0.5))*_0x29daf4+(0x96e*0x3+-0x1573+-0x6d7+0.5))));_0x24f9c7[-0x1f8*0x8+0x5b9+0xa07]=_0x377d74,_0x54c311[_0x74c648*(0x26e7+-0x1*0x186a+-0xe79)+(-0xddf+0xfa5+0x2*-0xe3)]=_0x5c3971[0x13ac*0x1+-0x6e1+0x28f*-0x5],_0x54c311[_0x74c648*(0x9*0x29a+0xb54+0x4f6*-0x7)+(0x13cf+-0xd1*0xd+-0x931*0x1)]=_0x5442a3[0x6*0xd3+-0x2327+0x1e35]<<-0x1e6f+0x128a+0xbfa|_0x5442a3[-0xed1*0x2+-0x27f*-0x2+0x3*0x837]<<-0xeb7*-0x1+-0x3*-0x63f+-0x1*0x2169|_0x5442a3[0x1f4c+0x20f3+0x12b*-0x37],_0x54c311[_0x74c648*(-0xcc5+0x1e3d+-0x1174)+(0x1*0x17cb+-0x2f*-0x11+-0xd74*0x2)]=_0x5442a3[-0xd7*-0x14+-0x4a+0x67*-0x29]<<0x1*-0x3b+-0x5ad*-0x3+-0x10b7|_0x5442a3[0x37*-0xa7+-0x1*-0x1d0b+-0x36d*-0x2]<<-0x31*-0x33+0x48+-0xa00|_0x5442a3[0x224*-0x6+-0x2108+-0x1f*-0x17b],_0x54c311[_0x74c648*(0xab5+0x12ee*0x1+-0x1d9f)+(0xdb0+-0x38*-0x16+-0x127d)]=_0x5442a3[0x1*0x8aa+0x1*0x1d76+-0x1*0x261a]<<0x14ed+0x8*0x4db+-0x2*0x1dd8|_0x5442a3[-0x5b5*-0x2+-0xb9b+0x8*0x7]<<0x875+-0xe72+0x2*0x304|_0x5442a3[0xeb6+-0x83f*-0x3+-0x276b],_0x5ae7aa>-0x2509+0x177+0x2393&&(_0x22861b[_0x74c648*(0x1*-0x1e02+0x91*0x19+0xfdd)+(0x9*0x443+0x1*0xedb+-0x1a9b*0x2)]=_0x5442a3[-0xc72+-0x438+-0x11d*-0xf]<<0x1a*0x167+0x94f+-0x2db0|_0x5442a3[0x1597*0x1+-0x2236+0x1*0xca9]<<-0x1*-0x193b+0x1185+0x1d*-0x179|_0x5442a3[0xa1c+-0x2418+-0x1a07*-0x1],_0x22861b[_0x74c648*(-0x12a*-0x4+-0x14cb*0x1+0x1027)+(-0x24a1+0xe*0x245+0x4dc)]=_0x5442a3[-0x153b+0x16e0+-0x199]<<0x2235*-0x1+0xb*0x20+0x2fe*0xb|_0x5442a3[0x2*0x9+0x2592+-0x2597]<<0x2d*-0x9+-0x1*0x18f5+-0x5*-0x551|_0x5442a3[0x1*-0x2e1+0x3*-0xae7+0x23a4],_0x22861b[_0x74c648*(0x2162+-0x130c+-0xe52)+(0x232d*0x1+0x224f+-0x457a)]=_0x5442a3[0xa82+-0xcd0+0x25d]<<-0x983+0x1e9b+-0x21*0xa3|_0x5442a3[0x11cc+-0xe*-0x18b+-0x2756]<<-0x15d5*0x1+0x1d9b+0x7bb*-0x1|_0x5442a3[0xf5a+0x25c8+-0xb*0x4d3],_0x22861b[_0x74c648*(-0x6f*-0x2e+0xc3c*-0x1+0xc5*-0xa)+(-0x1057+0x245f+-0x1405)]=_0x5442a3[-0xab3+-0x7*0x41f+-0x279e*-0x1]<<-0x678+-0x2679+0x2d06|_0x5442a3[0x6d9+-0x1*-0x148e+-0x1b54]<<-0xb*0x97+0x3*-0x19+0x6d3|_0x5442a3[0x163c+0x35*0x67+0x1*-0x2b7b],_0x5ae7aa>0x1aea+0x14a*-0x1a+-0x3*-0x234?(_0x31228c[_0x74c648*(0xf0b+-0x2*-0x64b+-0x1b9d)+(-0x754+-0x2*-0xfa7+-0x7fe*0x3)]=_0x5442a3[0x20*-0x101+0x214a+-0x115*0x1]<<0x845+-0x840+0x10|_0x5442a3[0x615*0x5+-0x1fc4+-0x1*-0x171]<<-0x2*0xad9+-0x2058+0x3615|_0x5442a3[0x14d3+-0x2b*-0x7+-0x47*0x4f],_0x31228c[_0x74c648*(-0x2*0xc39+0x89f*-0x3+0x1*0x3253)+(0x19fd*0x1+0x2071*-0x1+0x675)]=_0x5442a3[0xff7+0x13*0x57+0x595*-0x4]<<-0x3a*0x26+-0x15*0x74+0x1235|_0x5442a3[0x14*-0xbc+-0x91c+0x17e5]<<0x4*-0x89f+-0xc*-0x236+0x7ff|_0x5442a3[0x7*-0x3f1+-0x6f1*0x4+-0x3775*-0x1],_0x31228c[_0x74c648*(-0x2230+0x14d*-0xe+0x346a)+(-0xfb4+0x82*0x46+-0x13d6)]=_0x5442a3[0xb46+0x1707+-0x2232]<<-0x2*-0x120e+-0x3*-0x66b+0x1d*-0x1e8|_0x5442a3[0xa8f+0x1323*0x2+-0x1*0x30b9]<<-0x5d*0x2a+0x17*0xd7+-0x404|_0x5442a3[0xd3b+-0xcd6*-0x1+-0x67d*0x4],_0x31228c[_0x74c648*(-0x252+0x1*0x542+0x22*-0x16)+(0x29*-0x3d+-0x173f+-0x5f*-0x59)]=_0x5442a3[-0x10a4+-0x45c+0xa8f*0x2]<<-0x380+0x62b+-0x2*0x14b|_0x5442a3[0x3*0x5bf+-0x579+-0xba5]<<-0x222c+-0x9f6+-0x2b*-0x107|_0x5442a3[-0x6*0x374+-0x4fd*0x4+-0xa33*-0x4],_0x138cd2[_0x74c648*(-0x1d7a+0x19b3+0x3cb)+(-0x65b+-0x2595+0x13*0x250)]=_0x5442a3[0xacf+0x1d1b+-0x27c9]<<0x8*-0x51+0x5*0x76b+0xb7e*-0x3|_0x5442a3[-0x8c1+0x70*-0x20+0x16e3]<<-0xbf*-0x1a+0x66e*-0x1+-0xced|_0x5442a3[0x13bf*-0x1+-0x2*-0xdb8+-0x78e],_0x138cd2[_0x74c648*(0x1896+0xe6f+0x7cd*-0x5)+(0x874+0x9*-0x362+0x15ff)]=_0x5442a3[-0x1903+-0x2691+0x3fb8]<<0x43*-0x78+-0x919+0x2896|_0x5442a3[-0x25*0x42+0x1120+-0x5*0x17d]<<-0x19b+-0x33*-0x3+0x10d*0x1|_0x5442a3[0x188*0x8+-0x6c7*0x2+-0xba*-0x2],_0x138cd2[_0x74c648*(-0x3*-0x137+-0x1e1f+0x1a7e)+(-0x1f3*-0x13+0x1*0x6cd+-0x3fc*0xb)]=_0x5442a3[0x1735+0x2344+-0x1d29*0x2]<<0x1170+0x11a2+-0x22fd|_0x5442a3[-0x1a0a+0x1*-0x20af+0x3ae1]<<0x20*-0x11b+0x353+-0x68*-0x4f|_0x5442a3[-0xa1c+0x1*-0xfe5+0x1a2a],_0x138cd2[_0x74c648*(-0x3d1*0x2+0x2365+-0x1bbf)+(-0xf61+0x21c+0xa*0x154)]=_0x5442a3[-0xa3*-0x21+0x2345+-0x381e]<<0x134f+0x1d2+0x1c1*-0xc|_0x5442a3[0x1*-0x210d+0x1a27+0x9*0xc9]<<-0x4*0xd+-0x23d8+0x2417|_0x5442a3[-0x2545+-0x1*-0x16eb+0xe86]):_0x31228c[_0x74c648]=_0x5442a3[0x18bf+-0x26b*-0x4+-0x2256]<<-0x5*-0x2b7+0x59+-0x3*0x49d|_0x5442a3[0x2e*0x19+0x1e4*0xc+0xc*-0x242]<<-0x10cf+0x1a93*0x1+0x13*-0x83|_0x5442a3[-0x21*0x67+0x1*0x2213+-0x14b5]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x54c311,'sh4to7Data':_0x22861b,'sh8to11Data':_0x31228c,'sh12to15Data':_0x138cd2}},[_0x54c311['buffer'],_0x22861b['buffer'],_0x31228c['buffer'],_0x138cd2['buffer']]);},_0x4d256a=()=>{_0x3c4c96=null,_0x27fdec=null,_0xc58d3c=null,_0x42ccb0=null,_0x1eac96=null,_0x147784=null,_0xc8458d=null,_0x55181e=null;};}let wC=class extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+TC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x29e6c6,_0x48ebb5,_0x4a54a5){_0x29e6c6['onmessage']=_0x4db278=>{if(!this['worker'])return;const {data:_0x33b4ce}=_0x4db278;if(_0x33b4ce['type']===_0x48ebb5)switch(_0x48ebb5){case'updatedSHD'+'ata1':_0x4a54a5(_0x33b4ce['data']);break;case'updatedCol'+'orData':_0x4a54a5(_0x33b4ce['data']);break;case'updatedTra'+'nsformData':_0x4a54a5(_0x33b4ce);break;case'updatedAab'+'bData':_0x4a54a5(_0x33b4ce);break;}};}['updateSHDa'+'ta1'](_0x3afed4,_0x25fbbd,_0xc9ba76){var _0x30655f;return(_0x30655f=this['worker'])==null||_0x30655f['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x3afed4,'shBands':_0x25fbbd,'SHData':_0xc9ba76}),new Promise(_0x46006d=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x28f4c7=>{_0x46006d(_0x28f4c7);});});}async['updateColo'+'rData'](_0x394d88,_0x512345,_0x112ec7,_0x350f33,_0x5ed3bd){var _0x31431c;return(_0x31431c=this['worker'])==null||_0x31431c['postMessag'+'e']({'type':'updateColo'+'rData','numSplats':_0x394d88,'cr':_0x512345,'cg':_0x112ec7,'cb':_0x350f33,'ca':_0x5ed3bd}),new Promise(_0x2161d1=>{this['workerMess'+'ageFn'](this['worker'],'updatedCol'+'orData',_0x3d75b0=>{_0x2161d1(_0x3d75b0);});});}async['calcAabb'](_0x5ecd5a,_0x497735,_0x3bd7b0,_0x1045a6,_0x90987a,_0x58f1ac,_0x5aee8d){var _0x1c4d1f;const _0xdc52ad=new Float32Array(_0x497735),_0x10c2aa=new Float32Array(_0x3bd7b0),_0x5523f1=new Float32Array(_0x1045a6),_0x360b62=new Float32Array(_0x90987a),_0x2a0215=new Float32Array(_0x58f1ac),_0x427a26=new Float32Array(_0x5aee8d);return(_0x1c4d1f=this['worker'])==null||_0x1c4d1f['postMessag'+'e']({'type':'calcAabb','numSplats':_0x5ecd5a,'x':_0xdc52ad,'y':_0x10c2aa,'z':_0x5523f1,'sx':_0x360b62,'sy':_0x2a0215,'sz':_0x427a26},[_0xdc52ad['buffer'],_0x10c2aa['buffer'],_0x5523f1['buffer'],_0x360b62['buffer'],_0x2a0215['buffer'],_0x427a26['buffer']]),new Promise(_0x235a01=>{this['workerMess'+'ageFn'](this['worker'],'updatedAab'+'bData',_0x462202=>{_0x235a01(_0x462202);});});}async['updateTran'+'sData'](_0x5b5fdd,_0x4e489d,_0x5dd488,_0x50fdd4,_0x3d13d2,_0xae40cb,_0x31c1f8,_0x4f224a,_0x4a07a0,_0x1cc279,_0x4c0d0f,_0x522ee3,_0x3a2bc0,_0x2ed29a,_0x414905,_0x8f77f,_0x236b89){var _0x3e0d4a;return(_0x3e0d4a=this['worker'])==null||_0x3e0d4a['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x5b5fdd,'is4D':_0x4e489d,'x':_0x5dd488,'y':_0x50fdd4,'z':_0x3d13d2,'rx':_0xae40cb,'ry':_0x31c1f8,'rz':_0x4f224a,'rw':_0x4a07a0,'mx':_0x1cc279,'my':_0x4c0d0f,'mz':_0x522ee3,'sx':_0x3a2bc0,'sy':_0x2ed29a,'sz':_0x414905,'muT':_0x8f77f,'tScale':_0x236b89}),new Promise(_0x382fa7=>{const _0x20e26d=_0x150812=>{_0x382fa7(_0x150812);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x20e26d);});}['destroy'](){var _0x2c2512;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x2c2512=this['worker'])==null||_0x2c2512['terminate'](),this['worker']=null);}};const vg=(_0x26529f,_0x43cd10)=>{const _0x10fd56=[];for(let _0x2de11e=-0x141b*-0x1+-0x1291*-0x1+-0x26ac;_0x2de11e<_0x43cd10;++_0x2de11e)_0x10fd56['push'](_0x26529f['getProp']('f_rest_'+_0x2de11e));return _0x10fd56;};class EC extends Rv{constructor(_0xf53c5d,_0x51bf40){console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),super(_0xf53c5d,_0x51bf40),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(0x1*-0x6fd+-0x2fc*0xb+0x2*0x13e9)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new wC(),this['assetsMana'+'gerLoadedT'+'ime']=-0x53f*-0x1+0x1141+-0x167b);}async['updateData'](){var _0x5222c1,_0x1eee38,_0x39f4cf,_0x2aea92,_0x382d2c,_0x33281d,_0x499d07,_0xd6b85e,_0xfe32de,_0x2528a7,_0x4f6246;console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Data'),await super['updateData']();const _0x203f1c=this['gsplatData'];if(!_0x203f1c)return;this['is4D']=_0x203f1c['is4D'];const _0x3706e9=await this['getTransfo'+'rmDataByWo'+'rker'](_0x203f1c);this['aabb']=new De(),await _0x203f1c['calcAabbAs'+'ync'](this['aabb'],this['updateData'+'Worker']),this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x3706e9['centers'],this['motion']=_0x3706e9['motion'],this['tScale']=_0x3706e9['tScaleArra'+'y'],this['muT']=await _0x203f1c['getMuT'](),this['timeIndex']=await _0x203f1c['getTimeInd'+'ex']();const _0xa491e5=this['evalTextur'+'eSize'](_0x203f1c['numSplats']);this['colorTextu'+'re']?((_0x5222c1=this['colorTextu'+'re2'])==null||_0x5222c1['destroy'](),(_0x1eee38=this['transformA'+'Texture2'])==null||_0x1eee38['destroy'](),(_0x39f4cf=this['transformB'+'Texture2'])==null||_0x39f4cf['destroy'](),(_0x2aea92=this['transformR'+'Texture2'])==null||_0x2aea92['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0xa491e5),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0xa491e5),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0xa491e5),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0xa491e5),this['is4D']&&((_0x382d2c=this['transformM'+'otionTextu'+'re2'])==null||_0x382d2c['destroy'](),(_0x33281d=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x33281d['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0xa491e5),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0xa491e5))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0xa491e5),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0xa491e5),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0xa491e5),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0xa491e5),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0xa491e5),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0xa491e5),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0xa491e5),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0xa491e5),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0xa491e5),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0xa491e5),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0xa491e5),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0xa491e5))),await this['updateColo'+'rData'](_0x203f1c),await this['updateTran'+'sformFromD'+'ata'](_0x3706e9),this['shBands']=_0x203f1c['shBands'],this['shBands']>-0x377*0x3+-0x1daf+0x2814&&(this['sh1to3Text'+'ure']?((_0x499d07=this['sh1to3Text'+'ure2'])==null||_0x499d07['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0xa491e5),this['shBands']>-0x7be+-0xbab+0x1f1*0xa&&((_0xd6b85e=this['sh4to7Text'+'ure2'])==null||_0xd6b85e['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0xa491e5),this['shBands']>0x227b+-0xd72*-0x2+0x2ab*-0x17?((_0xfe32de=this['sh8to11Tex'+'ture2'])==null||_0xfe32de['destroy'](),(_0x2528a7=this['sh12to15Te'+'xture2'])==null||_0x2528a7['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0xa491e5),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0xa491e5)):((_0x4f6246=this['sh8to11Tex'+'ture2'])==null||_0x4f6246['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0xa491e5)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0xa491e5),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0xa491e5),this['shBands']>-0x1232*0x2+0xa12*-0x3+-0x3eb*-0x11&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0xa491e5),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0xa491e5),this['shBands']>-0xc1f*-0x1+0x847*0x2+-0xb3*0x29?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0xa491e5),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0xa491e5),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0xa491e5),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0xa491e5)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0xa491e5),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0xa491e5)))),await this['updateSHDa'+'taByWorker'](_0x203f1c));}['updateText'+'ure'](){console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Texture'),!this['isDestroye'+'d']&&(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x450f1c){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x450f1c}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20releas'+'eSeqGSplat'+'\x20all'),this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x49a28e,_0x48967d,_0x5f27e4,_0x18741e,_0x49c834){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x49a28e,'timeOption':_0x48967d,'loadedTime':_0x5f27e4,'asset':_0x18741e,'events':_0x49c834}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(-0x2*0x3d9+-0x1*-0x1d87+-0x3*0x747);try{for(;this['appendQueu'+'e']['length']>0x1fc2+0x15f0+-0xae*0x4f;){const _0x2da563=this['appendQueu'+'e']['shift']();_0x2da563['type']==='append'?await this['processApp'+'endTask'](_0x2da563['data']):_0x2da563['type']==='release'&&await this['processRel'+'easeTask'](_0x2da563['data']);}}finally{this['isProcessi'+'ngQueue']=!(0xebd+-0x2ec+-0x30*0x3f);}}}async['processRel'+'easeTask'](_0x5c873c){const {index:_0x5d4fd9}=_0x5c873c;console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.relea'+'seGSplatRe'+'source',_0x5d4fd9),!this['isDestroye'+'d']&&await this['gsplatData']['releaseSeq'+'Data'](_0x5d4fd9);}async['processApp'+'endTask'](_0x4e0399){var _0x2d0b74;const {gsplatData:_0x25d2fe,timeOption:_0x1f3050,loadedTime:_0x3fa419,asset:_0x356705,events:_0x2bab86}=_0x4e0399;!this['gsplatData']||this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatRes'+'ource'),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x1f3050,await this['gsplatData']['appendGSpl'+'atData'](_0x25d2fe,_0x3fa419,_0x1f3050),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20gspla'+'tData.appe'+'ndGSplatDa'+'ta',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x1*0x1313+0x37*-0x4f+0x240e),_0x25d2fe['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x25d2fe['numSplats'])['toFixed'](-0x22c7+-0xac2+0x2d8c)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20this.'+'updateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x10b*-0x1c+0x1d5a+0x6*-0x6),_0x25d2fe['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),(_0x2d0b74=this['gsplatInst'+'ance'])==null||_0x2d0b74['updateInst'+'anceData'](this),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20updat'+'eInstanceD'+'ata',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x4f5*-0x4+0x1*0x2704+-0x132e),_0x25d2fe['numSplats']),this['asset']=_0x356705,this['assetsMana'+'gerLoadedT'+'ime']=_0x3fa419,this['events']=_0x2bab86);}['fireAssets'+'ManagerTim'+'eIndex'](){var _0x56322c;const _0x445808=this['assetsMana'+'gerLoadedT'+'ime'];console['log']('____\x20ENGIN'+'E\x20IVAN','fireAssets'+'ManagerTim'+'eIndex',_0x445808),(_0x56322c=this['asset'])==null||_0x56322c['fire']('setAssetsL'+'oaded',_0x445808);}['destroy'](){var _0x5bf90e,_0x1de7ff,_0x2148b1,_0x270561,_0x307f77,_0x23c41e,_0x14465d,_0x29686c,_0x3bc296,_0x34ec6b,_0x221f00,_0x558a51,_0x309e9,_0x1dc80c,_0x16b98c,_0x33f215,_0x3f0ff9,_0xd5dd61,_0x3d9fac,_0x2ff44b,_0x1ccb2f;(_0x5bf90e=this['updateData'+'Worker'])==null||_0x5bf90e['destroy'](),this['updateData'+'Worker']=void(-0x19f7+-0x1*-0x4a8+0x154f),(_0x1de7ff=this['colorTextu'+'re'])==null||_0x1de7ff['destroy'](),(_0x2148b1=this['transformA'+'Texture'])==null||_0x2148b1['destroy'](),(_0x270561=this['transformB'+'Texture'])==null||_0x270561['destroy'](),(_0x307f77=this['transformR'+'Texture'])==null||_0x307f77['destroy'](),(_0x23c41e=this['transformM'+'otionTextu'+'re'])==null||_0x23c41e['destroy'](),(_0x14465d=this['transformL'+'ifecycleTe'+'xture'])==null||_0x14465d['destroy'](),(_0x29686c=this['sh1to3Text'+'ure'])==null||_0x29686c['destroy'](),(_0x3bc296=this['sh4to7Text'+'ure'])==null||_0x3bc296['destroy'](),(_0x34ec6b=this['sh8to11Tex'+'ture'])==null||_0x34ec6b['destroy'](),(_0x221f00=this['sh12to15Te'+'xture'])==null||_0x221f00['destroy'](),(_0x558a51=this['colorTextu'+'re2'])==null||_0x558a51['destroy'](),(_0x309e9=this['transformA'+'Texture2'])==null||_0x309e9['destroy'](),(_0x1dc80c=this['transformB'+'Texture2'])==null||_0x1dc80c['destroy'](),(_0x16b98c=this['transformR'+'Texture2'])==null||_0x16b98c['destroy'](),(_0x33f215=this['transformM'+'otionTextu'+'re2'])==null||_0x33f215['destroy'](),(_0x3f0ff9=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x3f0ff9['destroy'](),(_0xd5dd61=this['sh1to3Text'+'ure2'])==null||_0xd5dd61['destroy'](),(_0x3d9fac=this['sh4to7Text'+'ure2'])==null||_0x3d9fac['destroy'](),(_0x2ff44b=this['sh8to11Tex'+'ture2'])==null||_0x2ff44b['destroy'](),(_0x1ccb2f=this['sh12to15Te'+'xture2'])==null||_0x1ccb2f['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x2b75d3){var _0x56d692,_0x5ee77c,_0x3f34f2,_0x3bfddb,_0x34417b,_0x23a7ad,_0x24e4cc,_0x53fe2d,_0x411b2a,_0x5523ba,_0x5adaf3,_0x149967,_0x258fb3;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0xeb42bb=((_0x56d692=_0x2b75d3['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(0x2ee+-0x1*0xf51+0x97*0x15):_0x56d692['data'])??-0x228b+-0x4cc+0x1*0x2757,_0x119ff8=((_0x5ee77c=_0x2b75d3['getParamet'+'er']('uSplatScal'+'e'))==null?void(0x1b37+-0x1d25+0x1ee):_0x5ee77c['data'])??-0x1943+0x2317+-0x9d3,_0x347b6f=((_0x3f34f2=_0x2b75d3['getParamet'+'er']('uSaturatio'+'n'))==null?void(0x1*0x10e8+-0x6*-0x312+-0x2354):_0x3f34f2['data'])??-0x8*0x29e+0xb21+-0x274*-0x4,_0x22c562=((_0x3bfddb=_0x2b75d3['getParamet'+'er']('uHueOffset'))==null?void(-0x1*-0x587+0x2*0x78c+-0x149f):_0x3bfddb['data'])??0x116b+0x1*-0xd21+0x6*-0xb7,_0x298bcb=((_0x34417b=_0x2b75d3['getParamet'+'er']('uInvertOpa'+'city'))==null?void(-0xeb7*-0x1+0x1ab7+0x296e*-0x1):_0x34417b['data'])??-0xf28*0x2+0x1696+0x7ba,_0x552fef=((_0x23a7ad=_0x2b75d3['getParamet'+'er']('uOpacity'))==null?void(-0x3*-0x9d9+-0x735+-0x1*0x1656):_0x23a7ad['data'])??-0x9e0+-0x10ee+-0x1*-0x1acf,_0x3d4aff=((_0x24e4cc=_0x2b75d3['getParamet'+'er']('clrOffset'))==null?void(-0x15e8*0x1+0xe75+-0x1*-0x773):_0x24e4cc['data'])??[0x124+0x6ab+0x7cf*-0x1,-0xe76+-0x1d3c+0x2bb2,0x2*0x47d+-0x12e2+0x9e8,-0x153d*0x1+0x26a9*0x1+-0x116b],_0x29c836=((_0x53fe2d=_0x2b75d3['getParamet'+'er']('clrScale'))==null?void(0x7d*0x7+0x1*-0x1205+0x1*0xe9a):_0x53fe2d['data'])??[0x1b6e*-0x1+-0x5a5+0x2*0x108a,-0x1502+0x1f79+-0xa76,0x651+0x176*0x13+0x2212*-0x1,0x2193+-0x16ab+-0xae7*0x1],_0x56c950=((_0x411b2a=_0x2b75d3['getParamet'+'er']('uShapeN'))==null?void(-0x1622+0xc8b*0x3+-0xf7f):_0x411b2a['data'])??0x3b*0x43+0x10e3+-0x2054,_0x1e0e3e=((_0x5523ba=_0x2b75d3['getParamet'+'er']('mode'))==null?void(-0xc72+-0x180e+0x2480):_0x5523ba['data'])??-0x2*-0x107f+0x36*0x3a+-0x2d3a,_0x3a69d3=((_0x5adaf3=_0x2b75d3['getParamet'+'er']('ringSize'))==null?void(0x1*0x148f+-0x29b*0x5+-0x788):_0x5adaf3['data'])??-0x17*-0x191+-0x1632+-0x1*0xdd5,_0x2a5e80=((_0x149967=_0x2b75d3['defines'])==null?void(0xf7b*0x2+-0xfb0*0x1+-0x11*0xe6):_0x149967['get']('uOpenAnim'))??'0',_0x145f3e=((_0x258fb3=_0x2b75d3['defines'])==null?void(0x2*0x8d4+0x226*-0xa+-0x2*-0x1ea):_0x258fb3['get']('uControlCo'+'lorMode'))??'0';_0x2b75d3['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x2b75d3['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x2b75d3['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x2b75d3['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x2b75d3['setParamet'+'er']('uSplatScal'+'e',_0x119ff8),_0x2b75d3['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0xeb42bb),_0x2b75d3['setParamet'+'er']('uSaturatio'+'n',_0x347b6f),_0x2b75d3['setParamet'+'er']('uHueOffset',_0x22c562),_0x2b75d3['setParamet'+'er']('uInvertOpa'+'city',_0x298bcb),_0x2b75d3['setParamet'+'er']('uOpacity',_0x552fef),_0x2b75d3['setParamet'+'er']('clrOffset',_0x3d4aff),_0x2b75d3['setParamet'+'er']('clrScale',_0x29c836),_0x2b75d3['setParamet'+'er']('uShapeN',_0x56c950),_0x2b75d3['setParamet'+'er']('mode',_0x1e0e3e),_0x2b75d3['setParamet'+'er']('ringSize',_0x3a69d3),_0x2b75d3['setParamet'+'er']('prerenderC'+'Time',0x161a+0x22*-0xfb+0xb3c),_0x2b75d3['setParamet'+'er']('renderSpac'+'e',0xc5b*-0x2+0x1931+-0x71),_0x2b75d3['setParamet'+'er']('endSpace',-0x110d*0x2+0x298+0x1f8c),_0x2b75d3['setDefine']('uOpenAnim',_0x2a5e80),_0x2b75d3['setDefine']('uControlCo'+'lorMode',_0x145f3e),this['transformM'+'otionTextu'+'re']&&_0x2b75d3['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x2b75d3['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x2b75d3['setDefine']('SH_BANDS',this['shBands']),_0x2b75d3['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x2b75d3['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x2b75d3['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x2b75d3['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x2b75d3['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x4468c7){const _0x589acb=Math['ceil'](Math['sqrt'](_0x4468c7)),_0x262959=Math['ceil'](_0x4468c7/_0x589acb);return new J(_0x589acb,_0x262959);}async['updateColo'+'rData'](_0x224844){var _0x3bbb05;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x3aef9c=this['colorTextu'+'re2'];if(!_0x3aef9c||this['isDestroye'+'d'])return;const _0x593242=_0x224844['getProp']('f_dc_0'),_0x227af8=_0x224844['getProp']('f_dc_1'),_0x54bfe9=_0x224844['getProp']('f_dc_2'),_0x148e2e=_0x224844['getProp']('opacity');let _0x226ab9=(_0x3bbb05=_0x224844['transformD'+'ata'])==null?void(-0x2306+0x1210+0x10f6):_0x3bbb05['dataColor'];_0x226ab9||(_0x226ab9=await this['updateData'+'Worker']['updateColo'+'rData'](_0x224844['numSplats'],_0x593242,_0x227af8,_0x54bfe9,_0x148e2e)),await this['idleUpdate'+'TexturePro'+'mise'](_0x3aef9c,_0x226ab9);}async['getTransfo'+'rmDataByWo'+'rker'](_0x2175b5){var _0x111caa;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x111caa=_0x2175b5['transformD'+'ata'])!=null&&_0x111caa['dataCenter'+'s'])return{'centers':_0x2175b5['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x2175b5['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x2175b5['transformD'+'ata']['dataScale'],'dataRotation':_0x2175b5['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x2175b5['transformD'+'ata']['dataMotion'],'dataTime':_0x2175b5['transformD'+'ata']['dataTime'],'motion':_0x2175b5['transformD'+'ata']['motion'],'tScaleArray':_0x2175b5['transformD'+'ata']['tScaleArra'+'y']};const _0x1c1477=_0x2175b5['getProp']('x'),_0xbfbc2f=_0x2175b5['getProp']('y'),_0x59032a=_0x2175b5['getProp']('z'),_0x487706=_0x2175b5['getProp']('rot_1'),_0x3269c6=_0x2175b5['getProp']('rot_2'),_0x233b22=_0x2175b5['getProp']('rot_3'),_0x584fa0=_0x2175b5['getProp']('rot_0'),_0x293323=_0x2175b5['getProp']('motion_0'),_0x484818=_0x2175b5['getProp']('motion_1'),_0x1a9572=_0x2175b5['getProp']('motion_2'),_0x6c3072=_0x2175b5['getProp']('scale_0'),_0x40cecd=_0x2175b5['getProp']('scale_1'),_0x3d6e5f=_0x2175b5['getProp']('scale_2'),_0x2b0bd7=_0x2175b5['getProp']('t'),_0x296947=_0x2175b5['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x2175b5['numSplats'],this['is4D'],_0x1c1477,_0xbfbc2f,_0x59032a,_0x487706,_0x3269c6,_0x233b22,_0x584fa0,_0x293323,_0x484818,_0x1a9572,_0x6c3072,_0x40cecd,_0x3d6e5f,_0x2b0bd7,_0x296947);}async['updateTran'+'sformFromD'+'ata'](_0x43a119){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x43a119['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x43a119['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x43a119['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x43a119['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x43a119['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x5b843e,_0x113766){if(!this['isDestroye'+'d'])return new Promise(_0x5af301=>{requestIdleCallback(()=>{const _0x254df7=_0x5b843e['lock']();_0x254df7==null||_0x254df7['set'](_0x113766),_0x5b843e['unlock'](),_0x5af301(!(-0x511*0x5+0x172d*-0x1+0x3082));},{'timeout':0x12c});});}async['updateTran'+'sformData'](_0x2490b5){var _0x3db58e,_0x497531,_0x459962,_0x14a7d4;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData'),this['isDestroye'+'d'])return;const _0x604963=Mn['float2Half'];if(!this['transformA'+'Texture'])return;const _0x15b029=this['transformA'+'Texture']['lock'](),_0x2e96fd=this['transformR'+'Texture']['lock'](),_0x24e38d=this['transformB'+'Texture']['lock'](),_0x3bbc82=(_0x3db58e=this['transformM'+'otionTextu'+'re'])==null?void(0x37*-0x8a+0xde7+0x8b*0x1d):_0x3db58e['lock'](),_0x1cc065=(_0x497531=this['transformL'+'ifecycleTe'+'xture'])==null?void(0x45f+-0x964*-0x2+-0x1727*0x1):_0x497531['lock'](),_0x527181=new D(),_0xe737a9=new le(),_0x2df6cb=new D(),_0x2e5f42=new D(),_0x517edb=_0x2490b5['createIter'](_0x527181,_0xe737a9,_0x2df6cb,null,_0x2e5f42),_0x1ae8aa=_0x2490b5['getProp']('t'),_0x2b601f=_0x2490b5['getProp']('t_scale');for(let _0x34aa0e=-0x13f2+-0xcc0+-0xa*-0x345;_0x34aa0e<_0x2490b5['numSplats'];_0x34aa0e++)_0x517edb['read'](_0x34aa0e),_0xe737a9['normalize'](),_0xe737a9['w']<-0x2*-0x1a+-0x2c*0x4f+0xd60*0x1&&_0xe737a9['mulScalar'](-(-0xf4d+0x224e+0x2*-0x980)),_0x15b029[_0x34aa0e*(-0x17*0xda+0xb4*-0xc+-0x1c09*-0x1)+(-0x21c7+-0x1*0x1243+0x340a)]=_0x527181['x'],_0x15b029[_0x34aa0e*(-0x759+-0xcba+0x1416)+(0x2620+0x2*0x12cf+-0x4bbd)]=_0x527181['y'],_0x15b029[_0x34aa0e*(0xa05+-0x579*0x1+-0x1b*0x2b)+(0x223*0x1+0x1aaa+-0x1b*0x111)]=_0x527181['z'],_0x24e38d[_0x34aa0e*(0x199d+0xee+-0x1a88)+(0xac6*0x3+-0xf31+0x5*-0x36d)]=_0x604963(_0x2df6cb['x']),_0x24e38d[_0x34aa0e*(0x1b07+0x25f3+-0x40f7)+(0x1479+0x489*0x3+0x1*-0x2213)]=_0x604963(_0x2df6cb['y']),_0x24e38d[_0x34aa0e*(0x1779*0x1+-0x3b7*0x1+-0x5*0x3f3)+(-0x1*-0x1664+-0x4d9+-0x1189*0x1)]=_0x604963(_0x2df6cb['z']),_0x2e96fd[_0x34aa0e*(0x3b*-0x7c+0xe81+0xe16)+(0x1*0xe54+0x26d4+-0x3528)]=_0xe737a9['x'],_0x2e96fd[_0x34aa0e*(-0x68f+-0x97*0x3b+0x77*0x59)+(0x266b+-0x2ba+-0x23b0)]=_0xe737a9['y'],_0x2e96fd[_0x34aa0e*(0x1*0x14a4+0x1*0x9e9+-0xa2e*0x3)+(0x1617+-0x130*-0x4+-0x1ad5)]=_0xe737a9['z'],this['is4D']&&_0x3bbc82&&_0x1cc065&&(_0x3bbc82[_0x34aa0e*(0x11*-0x115+0x6*-0x35b+0x268a)+(-0x472*0x7+0x1*-0x1dcb+0x3ce9)]=_0x2e5f42['x'],_0x3bbc82[_0x34aa0e*(-0x2479+-0x18ef+0x3*0x1479)+(-0x1c7*-0x6+-0x215b*-0x1+-0x2c04)]=_0x2e5f42['y'],_0x3bbc82[_0x34aa0e*(0xb0d+0x4cf*-0x4+-0x2*-0x419)+(-0x10*-0x20d+0x68f+0xd1f*-0x3)]=_0x2e5f42['z'],_0x1cc065[_0x34aa0e*(0xe*0x4d+-0x147+-0x2ec)+(0x1ba2+-0xe29+-0x1*0xd79)]=_0x1ae8aa?_0x1ae8aa[_0x34aa0e]:0x30d+0xfc6+-0x4f*0x3d,_0x1cc065[_0x34aa0e*(0x381*0x4+0x1c97*-0x1+0xe96)+(-0x3*0xcdd+-0xacf+0x3167)]=_0x2b601f?Math['exp'](_0x2b601f[_0x34aa0e]):0x3bb*0x1+-0x22e9+0x1*0x1f2e);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x459962=this['transformM'+'otionTextu'+'re'])==null||_0x459962['unlock'](),(_0x14a7d4=this['transformL'+'ifecycleTe'+'xture'])==null||_0x14a7d4['unlock']();}async['updateSHDa'+'ta'](_0x219069){var _0x5cd1bd,_0x517d4c,_0x277dc1,_0x19f294,_0x3651d7,_0x1f5e0d,_0x2a7fc2,_0x3f4355;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x5c5c73=(_0x5cd1bd=this['sh1to3Text'+'ure2'])==null?void(-0x1d04+-0x6*0x601+-0x4a*-0xe1):_0x5cd1bd['lock'](),_0x55563d=(_0x517d4c=this['sh4to7Text'+'ure2'])==null?void(0x1e2*-0x5+-0xa7f+0x13e9):_0x517d4c['lock'](),_0x5435e8=(_0x277dc1=this['sh8to11Tex'+'ture2'])==null?void(0x50c+-0x1a3*-0x1+-0x6af):_0x277dc1['lock'](),_0x305d5d=(_0x19f294=this['sh12to15Te'+'xture2'])==null?void(0x1606+-0x2c*-0x92+0x1*-0x2f1e):_0x19f294['lock'](),_0x24dbcd={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x259c59=vg(_0x219069,_0x24dbcd*(-0x16*-0x6b+-0x3d5+0x2*-0x2ad)),_0x2d905f=-0xd9*-0x1f+0x1d3f*0x1+-0x2f87,_0x1abc4e=0x1*-0xe3e+0xd3a*-0x1+0x1f77,_0x91f00f=new Float32Array(-0x1*0x14d+0x1*0x15a0+-0x6*0x363),_0xfca6f3=new Uint32Array(_0x91f00f['buffer']),_0x271856=new Array(_0x24dbcd*(0x1b2*0x1+0x1241+0x2c*-0x74))['fill'](0x2*-0xfef+0x5*-0x4e+0x2164);for(let _0xc5f9f3=-0x2555+-0x1fc7*0x1+0x451c;_0xc5f9f3<_0x219069['numSplats'];++_0xc5f9f3){for(let _0x467e35=-0x97a+0x21*0x4d+-0x73*0x1;_0x467e35<_0x24dbcd;++_0x467e35)_0x271856[_0x467e35*(-0x753+-0x459+0xbaf)]=_0x259c59[_0x467e35][_0xc5f9f3],_0x271856[_0x467e35*(0x179d+0x22c4+-0x3a5e)+(0x1fe2+-0xcc3+-0x131e*0x1)]=_0x259c59[_0x467e35+_0x24dbcd][_0xc5f9f3],_0x271856[_0x467e35*(0x1*0x187a+-0x1*0x1065+-0x812)+(-0x4cc+-0x21a6+-0x1*-0x2674)]=_0x259c59[_0x467e35+_0x24dbcd*(0x10c*-0xb+-0x24d*0x5+-0x189*-0xf)][_0xc5f9f3];let _0x514836=_0x271856[0x1516+-0x1e8c+0x976];for(let _0x1b4fac=-0xd57+0x47*0x6b+-0x1055;_0x1b4fac<_0x24dbcd*(-0x29*0x17+-0x7b0+0xb62);++_0x1b4fac)_0x514836=Math['max'](_0x514836,Math['abs'](_0x271856[_0x1b4fac]));if(_0x514836!==0x34*0x55+-0xbf9+-0x1*0x54b){for(let _0x5bfb75=-0x1d3c+-0x1bc5*0x1+-0x3901*-0x1;_0x5bfb75<_0x24dbcd;++_0x5bfb75)_0x271856[_0x5bfb75*(-0x19a8+0x1*0x1a8a+-0x1*0xdf)+(0x1f00+-0x1*-0x6f+0x1f6f*-0x1)]=Math['max'](-0x1*0x443+-0x20a1+-0x6*-0x626,Math['min'](_0x2d905f,Math['floor']((_0x271856[_0x5bfb75*(0xf2a+0x217b+0xf9*-0x32)+(-0x1ed*-0xe+-0x1*-0x238f+-0x3e85)]/_0x514836*(-0x15*0x9b+0x15e5*0x1+-0x92e+0.5)+(0x31*-0x8d+0x448*-0x2+0x238d+0.5))*_0x2d905f+(-0xbf7*-0x2+-0xee9+-0x1*0x905+0.5)))),_0x271856[_0x5bfb75*(0x5ea+-0x35*0x4d+0xa0a)+(0x1*0x15ff+-0x1f91+0x13*0x81)]=Math['max'](-0x13c*-0x1c+0x188c+-0x3b1c,Math['min'](_0x1abc4e,Math['floor']((_0x271856[_0x5bfb75*(-0x2338+-0x18c0+0x3bfb)+(0xbf*0x1+0xe17+-0xed5)]/_0x514836*(0x55e*0x7+0x257f+0x1*-0x4b11+0.5)+(-0x83*0x49+0x1c13+0x948+0.5))*_0x1abc4e+(0x1d3+-0x1b3*-0x14+0x59*-0x67+0.5)))),_0x271856[_0x5bfb75*(0x196+0x125+-0x2b8)+(-0x8ef*-0x3+-0x9f1+-0x10da)]=Math['max'](0x3*-0xc7e+-0x2009+0x4583,Math['min'](_0x2d905f,Math['floor']((_0x271856[_0x5bfb75*(0x26f6+-0xeef+-0x1d*0xd4)+(-0x776+-0x87a+-0x9d*-0x1a)]/_0x514836*(-0x1*0xcff+-0xc*0x148+0x1b*0x10d+0.5)+(-0x2c*-0x84+-0x112c+0x161*-0x4+0.5))*_0x2d905f+(-0x239a+0x1dc+0x21be+0.5))));_0x91f00f[-0x9f1+0x243e*-0x1+0x2e2f]=_0x514836,_0x5c5c73[_0xc5f9f3*(0x214*0x4+-0x3*0x32e+0x13e)+(-0x3*-0x73b+-0x18cb+-0x1*-0x31a)]=_0xfca6f3[0x1b0e+-0xad6+-0x1*0x1038],_0x5c5c73[_0xc5f9f3*(-0xdcc+0x1*-0x102+0xed2)+(0x170d+-0xf+-0x16fd)]=_0x271856[0x22*-0x22+0x1c66+-0x1*0x17e2]<<-0x593*0x4+-0xe3b+0x249c|_0x271856[0x8b*0x19+0xf7*-0xb+-0x2f5]<<0x1da0+-0xdad+0x4*-0x3fa|_0x271856[0xb96*-0x3+0x93b+0x1989],_0x5c5c73[_0xc5f9f3*(0x26c7+-0x1c15+0x557*-0x2)+(-0x2157*0x1+0xcd0+-0x7*-0x2ef)]=_0x271856[0x38f*-0x2+-0xa7d+0x2*0x8cf]<<-0x1*-0x180b+0x512+-0x1d08|_0x271856[-0x1*-0x2239+-0x38b+-0x1eaa]<<-0x13b1+-0x1*-0x9a3+-0xb*-0xeb|_0x271856[0x80*-0x4+-0xa1b*-0x3+-0x1c4c],_0x5c5c73[_0xc5f9f3*(0x3*0x1fe+-0x907*0x4+0x1e26)+(0x11ae+-0x214c*0x1+-0xfa1*-0x1)]=_0x271856[-0x4*0x8e0+-0x983*-0x1+-0x1*-0x1a03]<<0x1b1+0x696+-0x419*0x2|_0x271856[0x2*0x2f+0x166*-0xd+-0x1*-0x11d7]<<0x6*0x97+0x1*0x24d9+-0x142c*0x2|_0x271856[-0xf2*0xb+0x232*-0x3+0x1104],this['shBands']>0x1d*-0x67+0x425*-0x4+0x1c40&&(_0x55563d[_0xc5f9f3*(0x4*0x48+0x893+-0x9af)+(0xd*0x4a+-0xa7*-0x9+-0x9a1)]=_0x271856[-0xe6*-0x1d+0x17db+-0x31e0]<<0x24fa+0x5*0x795+0xef6*-0x5|_0x271856[-0x1*0x108+0x1802+-0x16f0]<<0x11*0x1c+-0x1c04+0x1a33*0x1|_0x271856[-0x10*-0xb+-0xd5f+0xcba],_0x55563d[_0xc5f9f3*(0xd8d+0x23*0x78+-0x1df1)+(0x1*0x8+-0x34c*0x7+0x170d)]=_0x271856[0x45f*0x3+-0x1*-0x9dc+-0x16ed]<<-0x1*-0x2217+-0xd79+-0x1489|_0x271856[0x16cc+0xef6+-0x25b5]<<-0x320+0x2*0x78f+-0xbf3|_0x271856[0x175e+-0x63*-0x3d+0x1*-0x2ee7],_0x55563d[_0xc5f9f3*(-0x195d+0x1*-0x13fc+0x93*0x4f)+(-0x3*-0xc19+-0xa*-0x219+-0x3943)]=_0x271856[0x5*-0x239+0x2*-0x92+0xc50]<<0x4cd*0x2+-0x15d*0x17+-0xd7*-0x1a|_0x271856[0x1*0x11a+0x962+0x4*-0x29b]<<-0x23b3+-0x32*-0x16+0x1f72|_0x271856[0x1*-0xbf6+0x1e10+-0x1209],_0x55563d[_0xc5f9f3*(-0x43a*-0x8+0x3*0x823+0x1367*-0x3)+(-0x3*0xa51+-0x1a*-0x8e+-0x49*-0x3a)]=_0x271856[0x1d*-0x23+-0x9d*0xd+-0xc02*-0x1]<<0x19b4+-0x24b5+0xb16|_0x271856[-0x4*-0x11b+-0x419+0x10*-0x4]<<-0x25f1+-0xc6f*-0x1+0x198d|_0x271856[0x1d25+-0x16c6*0x1+-0x64b],this['shBands']>-0x1*0x162a+-0x6b*0x17+0x1fc9?(_0x5435e8[_0xc5f9f3*(-0x18c3+-0x2*0x58f+0xbf7*0x3)+(-0x2*0xaf+-0x493*0x3+0xf17*0x1)]=_0x271856[0x111b*-0x2+0x39e+0x1ead]<<0x1*0x15f7+-0x1*-0x81e+0x1e00*-0x1|_0x271856[-0x1*-0x15e+0x1771*0x1+-0x18b9]<<0x3*0x575+-0x1442+0x1f7*0x2|_0x271856[0x264+-0x1f19+-0x61*-0x4c],_0x5435e8[_0xc5f9f3*(-0xc65*-0x1+-0x1*-0x200b+-0x4*0xb1b)+(0x1*-0xaa9+-0x2*0xaba+0x1*0x201e)]=_0x271856[-0x767+0x2295+-0x2*0xd8b]<<-0x1*-0x2411+-0x1*-0x7e9+-0x2be5|_0x271856[0x21f3*0x1+-0x920+-0x18ba]<<-0x1b6+0x16d8*0x1+-0x1517|_0x271856[-0x117e+-0x19e8+0x2b80],_0x5435e8[_0xc5f9f3*(0x173e+0x295*-0x7+-0x527)+(-0x1c9a+0x3*0xa11+-0x197)]=_0x271856[-0x2*0x11ab+-0x243c+0x3b*0x137]<<0x13d*-0x1+-0x262f+0x2781|_0x271856[0x2047*0x1+0x1af8+0x1*-0x3b23]<<-0x5ce+-0x5*-0x1d1+-0x33c|_0x271856[0x1c*0x161+0x17d5+-0x3e54],_0x5435e8[_0xc5f9f3*(0x8f7+0x12d+0x510*-0x2)+(0x2258+-0xdf5+-0x1460)]=_0x271856[-0x2327*0x1+-0x11f+-0x1232*-0x2]<<0x1d7a+-0x1cff+-0x66|_0x271856[-0x2573*0x1+0x8*0x3d9+0x2*0x365]<<0x1e8e+-0x7ae+0x23*-0xa7|_0x271856[-0x20ff*0x1+-0x177f+0x2*0x1c4f],_0x305d5d[_0xc5f9f3*(0x11b*0xa+-0x1*-0x1273+0x1d7d*-0x1)+(-0x1607+-0x34b*0x5+0x2*0x133f)]=_0x271856[0x2138+-0x1*0x1dc6+-0x11b*0x3]<<-0xb33+-0x3d*-0x7+0x99d|_0x271856[-0x8*0x13a+-0x1d11+0x1*0x2703]<<0x11f2+0x9a9*-0x2+0x16b|_0x271856[0xb59+-0x16ca*-0x1+-0x2200],_0x305d5d[_0xc5f9f3*(0x1*-0x1939+0x1660+-0x1*-0x2dd)+(-0x22be*-0x1+0x1a0e+-0x3ccb)]=_0x271856[0x444+-0x1d25+-0x3*-0x857]<<0x1253+-0x2*0x484+-0x936|_0x271856[0x254*0x4+-0xa7b+0x150]<<-0x1d91*-0x1+-0x7b3+-0x1*0x15d3|_0x271856[0x84e*0x4+0x7*0x24d+-0x312d*0x1],_0x305d5d[_0xc5f9f3*(0x8bf*-0x1+-0xbe6+0x7b*0x2b)+(-0x14b*-0x13+-0x1*-0x2033+-0x38c2)]=_0x271856[-0x30b+-0x943*-0x1+-0x611]<<-0x1*-0x8b3+-0x4*-0x799+-0x2702|_0x271856[0xf5f+-0x17de+-0x1bb*-0x5]<<-0x1*0x11cd+0x1*0x9e3+0x7f5|_0x271856[-0x4d7+0x3cb+0x135],_0x305d5d[_0xc5f9f3*(0x1*-0x998+-0x76*0x2a+0x9*0x338)+(0xa7b*-0x2+-0x1201+-0x26fa*-0x1)]=_0x271856[0x44c+0xc2c+0x2*-0x827]<<0xe4f+0x2*-0xcf7+0xbb4|_0x271856[-0xe19+0x1798+-0x954]<<0x68b+0x556+-0xbd6|_0x271856[-0xecb+-0xc00+0x1af7]):_0x5435e8[_0xc5f9f3]=_0x271856[-0xca4*-0x1+0xb94+0x1*-0x1823]<<0x2685+-0x1171*-0x1+-0x37e1|_0x271856[0x17c5+0x3*-0xa7b+0x7c2]<<0x1*-0x1139+0x10d0+0x74|_0x271856[-0x313+0x1*0xb5+0x25*0x11]);}}(_0x3651d7=this['sh1to3Text'+'ure2'])==null||_0x3651d7['unlock'](),(_0x1f5e0d=this['sh4to7Text'+'ure2'])==null||_0x1f5e0d['unlock'](),(_0x2a7fc2=this['sh8to11Tex'+'ture2'])==null||_0x2a7fc2['unlock'](),(_0x3f4355=this['sh12to15Te'+'xture2'])==null||_0x3f4355['unlock']();}async['updateSHDa'+'taByWorker'](_0x3cf102){var _0x5348d8,_0x1a3012,_0x1347c9,_0x5ab9b8,_0x1574b0;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x2ded2a={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x55ad77,_0x39026e,_0xaeff41,_0x37607c;if((_0x5348d8=_0x3cf102['transformD'+'ata'])!=null&&_0x5348d8['sh1to3Data'])_0x55ad77=(_0x1a3012=_0x3cf102['transformD'+'ata'])==null?void(-0x1*-0x917+-0x117c*-0x1+-0x1a93):_0x1a3012['sh1to3Data'],_0x39026e=(_0x1347c9=_0x3cf102['transformD'+'ata'])==null?void(0xe05+-0x1926+0xb21):_0x1347c9['sh4to7Data'],_0xaeff41=(_0x5ab9b8=_0x3cf102['transformD'+'ata'])==null?void(-0x1863+-0x1*0x19b9+0x321c):_0x5ab9b8['sh8to11Dat'+'a'],_0x37607c=(_0x1574b0=_0x3cf102['transformD'+'ata'])==null?void(-0x9b7+0x206b+-0x16b4):_0x1574b0['sh12to15Da'+'ta'];else{const _0x4785bd=vg(_0x3cf102,_0x2ded2a*(0x1a22+-0x1cd+-0xb*0x236)),_0x34997f=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x3cf102['numSplats'],this['shBands'],_0x4785bd);_0x55ad77=_0x34997f['sh1to3Data'],_0x39026e=_0x34997f['sh4to7Data'],_0xaeff41=_0x34997f['sh8to11Dat'+'a'],_0x37607c=_0x34997f['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x55ad77),this['shBands']>0x9aa*-0x1+-0xd56+0x1c5*0xd&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x39026e),this['shBands']>-0xe60+-0xd69*-0x1+0x53*0x3?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0xaeff41),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x37607c)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0xaeff41));}}async function bC(){const _0x59e328=new Float32Array(-0x1da5+-0x1*0xcb9+0x2a5f);new Int32Array(_0x59e328['buffer']);let _0x5b0ca2=null,_0x1dd7b2=null,_0x4c3b66=null,_0x2aacf5=null,_0x2fd5b6=null,_0x51e5fc=null,_0x24714d=null,_0x5c2186=null;self['onmessage']=async _0x658616=>{const {data:_0x216bcb}=_0x658616;switch(_0x216bcb['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x381732(_0x216bcb['numSplats'],_0x216bcb['shBands'],_0x216bcb['SHData']);break;case'updateTran'+'sformData':_0x13d3a5(_0x216bcb['numSplats'],_0x216bcb['is4D'],_0x216bcb['position'],_0x216bcb['rotation'],_0x216bcb['motion'],_0x216bcb['scale'],_0x216bcb['muT'],_0x216bcb['tScale']);break;case'destroyWor'+'ker':_0x24b86d();break;}};const _0x13d3a5=(_0x2e6ee9,_0x14e2d7,_0x589f96,_0x3f5ae3,_0x387afc,_0x826889,_0x34bd2d,_0x5c6bf1)=>{_0x24b86d(),_0x14e2d7&&(_0x1dd7b2=new Float32Array(_0x2e6ee9*(0x5*0x6b1+0x1562+-0x36d4)),_0x5c2186=new Float32Array(_0x2e6ee9),_0x2fd5b6=new Float32Array(_0x387afc['buffer']['slice']()),_0x24714d=new Float32Array(_0x387afc['buffer']['slice']())),_0x2aacf5=new Float32Array(_0x589f96['buffer']['slice']()),_0x5b0ca2=new Float32Array(_0x589f96['buffer']['slice']()),_0x51e5fc=new Uint16Array(_0x826889['buffer']['slice']()),_0x4c3b66=new Float32Array(_0x3f5ae3['buffer']['slice']());for(let _0x732732=-0xf7f+0x1e39+-0xeba;_0x732732<_0x2e6ee9;_0x732732++)_0x14e2d7&&_0x1dd7b2&&(_0x5c2186[_0x732732]=_0x5c6bf1?Math['exp'](_0x5c6bf1[_0x732732]):-0x2*-0xf9b+0x2*0x293+0xb3*-0x34,_0x1dd7b2[_0x732732*(-0x2d*-0xbd+-0x10e8+-0x2*0x827)+(0x2027+-0x1e5a+0x1cd*-0x1)]=_0x34bd2d?_0x34bd2d[_0x732732]:0x2*-0x1069+0x233c+-0x26a,_0x1dd7b2[_0x732732*(0x6e5+0x29*-0x6a+-0x22*-0x4c)+(0x104c+0x3*0x7f3+-0x2824)]=_0x5c2186[_0x732732]);const _0x3d4f7a=[_0x5b0ca2['buffer'],_0x2aacf5['buffer'],_0x51e5fc['buffer'],_0x4c3b66['buffer']];_0x14e2d7&&_0x3d4f7a['push'](_0x2fd5b6['buffer'],_0x1dd7b2['buffer'],_0x24714d['buffer'],_0x5c2186['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x5b0ca2,'dataPosition':_0x2aacf5,'dataScale':_0x51e5fc,'dataRotation':_0x4c3b66,'dataMotion':_0x2fd5b6,'dataTime':_0x1dd7b2,'motion':_0x24714d,'tScaleArray':_0x5c2186},_0x3d4f7a);},_0x381732=(_0x5744b7,_0x41803e,_0x5b4045)=>{const _0x1e7ad1=new Uint32Array(_0x5744b7*(-0x1664+-0x1*0x257f+0x5*0xbfb)),_0x245d60=new Uint32Array(_0x5744b7*(-0x598*-0x3+-0x87c*0x2+0x2*0x1a)),_0x53eea=new Uint32Array(_0x5744b7*(-0x3*-0x240+-0x19ea+0x132e)),_0x3f6536=new Uint32Array(_0x5744b7*(0x1bb*-0xf+0x8*0x46d+-0x96f)),_0x4e6c26={0x1:0x3,0x2:0x8,0x3:0xf}[_0x41803e],_0x267b2c=_0x5b4045,_0x1ccbbc=0x6*-0x220+0x252c+-0x5*0x349,_0x64f0ec=-0x1a06+-0x986+0x35*0xbf,_0x259e08=new Float32Array(0x1dd3+0x13f*-0x2+-0x1b54),_0x5ad0ad=new Uint32Array(_0x259e08['buffer']),_0xb7219b=new Array(_0x4e6c26*(0x1154*-0x2+-0x179f+-0x9*-0x67a))['fill'](0x122*0x3+0x1c2+-0x18*0x37);for(let _0x5195c7=0x1ef4+0x8ac+0x4*-0x9e8;_0x5195c7<_0x5744b7;++_0x5195c7){for(let _0x29bf19=-0xd+0x1179+-0x116c;_0x29bf19<_0x4e6c26;++_0x29bf19)_0xb7219b[_0x29bf19*(-0x1*0x18fd+-0x12d6+0x3e*0xb5)]=_0x267b2c[_0x29bf19][_0x5195c7],_0xb7219b[_0x29bf19*(0x100a+0x3*0x7e5+-0x27b6)+(0xcc1+-0xf*-0x131+-0x9*0x367)]=_0x267b2c[_0x29bf19+_0x4e6c26][_0x5195c7],_0xb7219b[_0x29bf19*(0x1779+0x86*-0xb+-0x11b4)+(-0xf60+0x1*0x145f+-0x4fd)]=_0x267b2c[_0x29bf19+_0x4e6c26*(-0x9*-0x399+0x842*-0x4+0xa9)][_0x5195c7];let _0x52944c=_0xb7219b[-0x1*-0x1dcf+0x14d1+0x20*-0x195];for(let _0x41c31c=-0x12bf*-0x1+-0x1f*-0x77+0xcf*-0x29;_0x41c31c<_0x4e6c26*(-0x890+-0x1f*0x119+0x2a9a);++_0x41c31c)_0x52944c=Math['max'](_0x52944c,Math['abs'](_0xb7219b[_0x41c31c]));if(_0x52944c!==0x453*0x3+0x3*-0x89b+0xc*0x112){for(let _0x426826=-0x23d5*0x1+0x36d*-0x6+0x3863;_0x426826<_0x4e6c26;++_0x426826)_0xb7219b[_0x426826*(-0x10*0x136+0x1bc9+0xa*-0xd7)+(0x21dd+-0x139*0x10+0xe4d*-0x1)]=Math['max'](-0x59*0x1b+-0x229+0x1*0xb8c,Math['min'](_0x1ccbbc,Math['floor']((_0xb7219b[_0x426826*(0x1ab3+-0x1*0x3e5+-0x16cb)+(-0x4e7*0x5+0x1*0x5b2+0x1*0x12d1)]/_0x52944c*(-0x16ae+-0x2089*0x1+-0xb0b*-0x5+0.5)+(-0x6*0x561+-0x1*-0xf2f+0x19*0xaf+0.5))*_0x1ccbbc+(0x83a+-0x1*-0x14b7+-0x1cf1+0.5)))),_0xb7219b[_0x426826*(0x190c+0x1468+-0x2d71*0x1)+(-0x26e+0x35*0x45+-0x4a*0x29)]=Math['max'](-0x6+0x814+0x1*-0x80e,Math['min'](_0x64f0ec,Math['floor']((_0xb7219b[_0x426826*(-0x1*0x26c9+-0x1*0x12b5+-0x15*-0x2bd)+(0x116*0x1+0x1b1c+0x407*-0x7)]/_0x52944c*(-0x231+0x13c7+-0x1196+0.5)+(0x6e4+0x1de1+-0x24c5+0.5))*_0x64f0ec+(-0xe7b+-0xc00+0x1a7b*0x1+0.5)))),_0xb7219b[_0x426826*(0x2647+-0x525*-0x1+-0x2b69)+(-0x1535*-0x1+0x1994+-0x2ec7)]=Math['max'](0x1851*-0x1+-0xac1*0x1+-0x43*-0x86,Math['min'](_0x1ccbbc,Math['floor']((_0xb7219b[_0x426826*(-0x243f+0x18b*0x7+0x85*0x31)+(-0x433+0x65f*-0x1+0xa94)]/_0x52944c*(0x1ef6*0x1+-0x220*-0x2+-0x2*0x119b+0.5)+(-0x3b8+0x1*0x11cd+0x203*-0x7+0.5))*_0x1ccbbc+(-0xc1d+0x1d69*0x1+0xa4*-0x1b+0.5))));_0x259e08[-0x1f7*-0x1+-0x19c*-0x3+-0x6cb*0x1]=_0x52944c,_0x1e7ad1[_0x5195c7*(0x5ed*-0x5+0x4e4+-0x18c1*-0x1)+(-0xb*0xdc+0x17bd+-0xe49)]=_0x5ad0ad[-0x7f2+0x1*0x1154+-0x962],_0x1e7ad1[_0x5195c7*(0x1a86+-0x1b8d+-0x59*-0x3)+(-0x3e6*0x5+-0x22*0x33+0x1a45)]=_0xb7219b[-0x22dd+-0x11c6+-0xa87*-0x5]<<0x182d+0x1*0xe20+-0x131c*0x2|_0xb7219b[-0x20df+0x2197+-0xb7]<<0x1ab1+0xc8c+-0x2732|_0xb7219b[0x716*0x3+-0x1cc7+0x787],_0x1e7ad1[_0x5195c7*(-0x1*0x224b+0x2*-0x10a9+-0x3*-0x168b)+(-0x1777*0x1+0x5*-0x1dd+0x6*0x577)]=_0xb7219b[-0x4f*0x11+0x22f0*0x1+0x1dae*-0x1]<<0x227*-0x2+0x3d*0x17+0x1c*-0xa|_0xb7219b[-0x4*0x496+0x2637+0x17*-0xdd]<<0x3*0xbcb+0x1*-0xc0e+-0x2e9*0x8|_0xb7219b[0x70*-0x7+-0x2*-0x261+0xd*-0x21],_0x1e7ad1[_0x5195c7*(0x7e4+-0xa36+0x256)+(-0x2b*-0x97+0x161b*-0x1+0x3*-0x115)]=_0xb7219b[0x9*-0x105+-0x1*-0xe89+-0x2ab*0x2]<<-0x1e7*-0xf+0x45a*-0x7+0x202|_0xb7219b[-0xd0*-0x1f+-0xc99+-0x18*0x86]<<0x12*0x20+-0x6*-0x29b+0x11d7*-0x1|_0xb7219b[0x2*-0xf67+0x4af+0x1a27],_0x41803e>-0x16bf+0x2*-0x29d+-0x2*-0xdfd&&(_0x245d60[_0x5195c7*(-0x1637+-0xf0a+0x2545)+(-0x20dc+0x1381+-0x107*-0xd)]=_0xb7219b[-0x1*-0x9dd+0x400+-0x4*0x375]<<0x213e+0x1af*0x17+0x6*-0xbfb|_0xb7219b[-0x1a41+-0x2042*-0x1+0x3*-0x1fd]<<0x1f3e+-0x11d6+-0x1*0xd5d|_0xb7219b[-0x12df*0x1+0xc1*0x4+0x16*0xb9],_0x245d60[_0x5195c7*(0x2343+-0xfea*-0x1+0x7*-0x74f)+(0x1352*-0x2+0x1ab*0x3+0x21a4)]=_0xb7219b[-0xeda+0x1201+-0x31b]<<0x267b+-0x57e+-0x20e8|_0xb7219b[-0xbf1+0xd*-0x24b+-0x9*-0x4a5]<<0xc7*0xc+0x3c1*0x1+-0xd0a|_0xb7219b[-0x1767+0x11f4+0x581],_0x245d60[_0x5195c7*(0x5*0x35f+0x46a+0x1541*-0x1)+(0x15a2+0x82e+-0x1dce)]=_0xb7219b[-0x1ecd*0x1+-0x603+0x24df]<<-0x22a*0x5+-0x1428+0x1*0x1f0f|_0xb7219b[-0x11e9+-0x2*0x44f+0x1a97]<<-0x3d9*0x9+-0x266*0x8+0x35dc|_0xb7219b[0x1337*0x1+-0x23af+0x1089],_0x245d60[_0x5195c7*(0x2688+-0x3d*0x1a+-0x2052)+(-0x432+-0x15dc+-0x1*-0x1a11)]=_0xb7219b[0x1c64+0x5*-0x781+0x933]<<-0x1df*-0x1+-0x1eee+0x1*0x1d24|_0xb7219b[0x32*-0xaf+-0x1*-0x11bd+0x1084]<<0x14cc+-0x1aab+0x5ea|_0xb7219b[0x26a+-0x7*0x89+-0x169*-0x1],_0x41803e>-0x1*0x1096+0x17a8+-0x710?(_0x53eea[_0x5195c7*(-0x31*-0x40+-0x1698+0xa5c)+(0x1005+0xc7b+-0x180*0x13)]=_0xb7219b[0x62c*-0x5+0x13*0x76+-0x3*-0x765]<<-0x1e*-0x11b+0x125f+-0x3374*0x1|_0xb7219b[-0x1*0x108b+-0x1320+0x23c1]<<-0xe2e+0x1*0x9cd+0x46c|_0xb7219b[-0x229b+-0xa3*-0x7+0x1e3d],_0x53eea[_0x5195c7*(-0x1*-0x1e4e+0x8c5*-0x3+-0x3fb*0x1)+(0x3*0x69+-0x2*-0xc41+-0x19bc)]=_0xb7219b[-0x14a5+-0x19d4+0x2e91]<<0x1414*0x1+-0x2d2*0x2+-0xe5b|_0xb7219b[-0x1c45+0x95*-0x19+-0x1*-0x2aeb]<<-0x1b88+0x698+-0x83*-0x29|_0xb7219b[-0x61*-0x67+-0x1caf+-0xa3e],_0x53eea[_0x5195c7*(0x17c1*-0x1+-0x1*0x2147+0x390c)+(0x1bf7+-0x408+-0x17ed)]=_0xb7219b[0x1*0x14d1+0x851*0x3+-0x2da9]<<-0x1*0x1d7d+0xc88*-0x3+0x432a|_0xb7219b[0x1b13+0xe1f+0x2*-0x148b]<<-0xd*-0x185+0x122e*0x1+0x25e4*-0x1|_0xb7219b[0x15e0+-0x9e2*-0x1+0x1fa5*-0x1],_0x53eea[_0x5195c7*(-0x1eac+0x1*0x1bc7+0x2e9)+(-0x812+-0x1869+0x207e)]=_0xb7219b[0x5e*0x1f+-0x12e9+0x7a5]<<0x1327*-0x1+-0xd*-0x6b+0x1*0xdcd|_0xb7219b[-0x17ee+0x1de0*-0x1+0x35ed]<<0x2160+0x173a+-0x1*0x388f|_0xb7219b[0x63e+0x93*0xf+0x1a3*-0x9],_0x3f6536[_0x5195c7*(0x1*-0x1088+-0x78a+-0x2*-0xc0b)+(0x957+-0x1f0*-0x6+-0x14f7)]=_0xb7219b[-0x1*-0x1a0f+0x24f2+-0x3ee0]<<0x1*0x1a29+-0x1f*0xd1+-0xc5|_0xb7219b[-0x2b2+0x142*-0xd+0x132e]<<0x1d79+0xf5*-0xd+-0x10fd|_0xb7219b[0xd83+0xc2b+-0x198b],_0x3f6536[_0x5195c7*(-0x108d+0x1ef3+0xe62*-0x1)+(-0x2126*-0x1+-0x1*-0x2017+-0x104f*0x4)]=_0xb7219b[-0x107f*-0x2+0xbdc+0x3b*-0xc2]<<-0x1d73+-0x14fb+0x3283|_0xb7219b[-0x1*-0x20e7+-0x2194+0xd2]<<0x24cc+0x1157+0x6c3*-0x8|_0xb7219b[0xbbd*0x2+0x3d*-0x82+0x7a6],_0x3f6536[_0x5195c7*(0x13*-0x2f+-0x22cf+-0x10*-0x265)+(0xc31+-0x2*0x42f+-0x3d1)]=_0xb7219b[-0x1*-0xe49+-0x1e02+-0x3f8*-0x4]<<0x1ee3*0x1+0x7*-0xf3+-0x1829*0x1|_0xb7219b[0x1671+-0x1*0x1db7+0x76e]<<0x262a+-0x1db8+-0x867|_0xb7219b[0x24b3+0xd8*-0x29+-0x1f2],_0x3f6536[_0x5195c7*(0x1554+-0x1*0x6f1+-0xe5f)+(-0xf25*-0x2+0x7*-0x29a+0x1*-0xc11)]=_0xb7219b[-0x244f+-0xbc9+0x3042]<<-0xb7+-0x1*-0x26fb+0x19*-0x187|_0xb7219b[-0x2*-0xddb+-0x2*0x79+0xb*-0x26b]<<-0x1*0x20f4+0x18cf+0x106*0x8|_0xb7219b[-0x1*0x651+0x683*-0x5+0x270c]):_0x53eea[_0x5195c7]=_0xb7219b[0x16*-0xc1+-0x10ba+0x2165]<<0x1f2b*-0x1+0x78+-0x2*-0xf64|_0xb7219b[-0xf09*-0x1+-0x1*0x10c1+0x1ce]<<0x1bf6+-0x141f+0x3e6*-0x2|_0xb7219b[0x11*-0x21f+-0x11a2+0x35c8]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x1e7ad1,'sh4to7Data':_0x245d60,'sh8to11Data':_0x53eea,'sh12to15Data':_0x3f6536}},[_0x1e7ad1['buffer'],_0x245d60['buffer'],_0x53eea['buffer'],_0x3f6536['buffer']]);},_0x24b86d=()=>{_0x5b0ca2=null,_0x1dd7b2=null,_0x4c3b66=null,_0x2aacf5=null,_0x2fd5b6=null,_0x51e5fc=null,_0x24714d=null,_0x5c2186=null;};}class AC extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+bC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x299e5e,_0x2d9da4,_0xf2ef59){_0x299e5e['onmessage']=_0x85c8a6=>{if(!this['worker'])return;const {data:_0x565c7f}=_0x85c8a6;if(_0x565c7f['type']===_0x2d9da4)switch(_0x2d9da4){case'updatedSHD'+'ata1':_0xf2ef59(_0x565c7f['data']);break;case'updatedCol'+'orData':_0xf2ef59(_0x565c7f['data']);break;case'updatedTra'+'nsformData':_0xf2ef59(_0x565c7f);break;}};}['updateSHDa'+'ta1'](_0x54132d,_0x2cda4a,_0x46f47c){var _0x350561;return(_0x350561=this['worker'])==null||_0x350561['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x54132d,'shBands':_0x2cda4a,'SHData':_0x46f47c}),new Promise(_0x3e7b99=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x5f1412=>{_0x3e7b99(_0x5f1412);});});}async['updateTran'+'sData'](_0x2dbc34,_0x56ddf2,_0x334af0,_0x5de0ab,_0x3ce46b,_0x2ee80b,_0x5be2de,_0x49e4aa){var _0x383b60;return(_0x383b60=this['worker'])==null||_0x383b60['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x2dbc34,'is4D':_0x56ddf2,'position':_0x334af0,'rotation':_0x5de0ab,'motion':_0x3ce46b,'scale':_0x2ee80b,'muT':_0x5be2de,'tScale':_0x49e4aa}),new Promise(_0x461013=>{const _0xe6e543=_0x213b2b=>{_0x461013(_0x213b2b);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0xe6e543);});}['destroy'](){var _0x58479e;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x58479e=this['worker'])==null||_0x58479e['terminate'](),this['worker']=null);}}const xg=(_0x5ac548,_0x1107f3)=>{const _0x37761f=[];for(let _0xd71250=0x2438+0x25*-0xb5+0x19*-0x67;_0xd71250<_0x1107f3;++_0xd71250)_0x37761f['push'](_0x5ac548['getProp']('f_rest_'+_0xd71250));return _0x37761f;};class CC extends Rv{constructor(_0x274b2e,_0x3f5648){super(_0x274b2e,_0x3f5648),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(-0xf*-0x1be+-0x4*0x184+-0x1411*0x1)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new AC(),this['assetsMana'+'gerLoadedT'+'ime']=0xa15+-0x153*-0x1+0xb63*-0x1);}['setSceneIn'+'fo'](_0x233e86){this['sceneInfo']['duration']=_0x233e86['duration'],this['sceneInfo']['fps']=_0x233e86['fps'],this['sceneInfo']['totalGauss'+'ians']=_0x233e86['totalGauss'+'ians'],this['sceneInfo']['globalBoun'+'dingBoxMin']=new D(_0x233e86['globalBoun'+'dingBox']['min'][-0x2572+-0x14f7+0x13*0x313],_0x233e86['globalBoun'+'dingBox']['min'][0x1178+-0x48c*0x5+0x545],_0x233e86['globalBoun'+'dingBox']['min'][0xda5+0x4f3+-0x1296*0x1]),this['sceneInfo']['globalBoun'+'dingBoxMax']=new D(_0x233e86['globalBoun'+'dingBox']['max'][-0x1080+-0x1a5c+0xd3*0x34],_0x233e86['globalBoun'+'dingBox']['max'][0x17ab+0x1d00+-0xe*0x3c3],_0x233e86['globalBoun'+'dingBox']['max'][-0x23c3+0x1f*0x56+0x195b*0x1]);const _0x5f5451=_0x233e86['globalBoun'+'dingBox']['min'][-0x7*0xad+-0x232d+0x27e8],_0x1a4889=_0x233e86['globalBoun'+'dingBox']['min'][-0x1f1b+0x1f66+-0x1*0x4a],_0x3b371f=_0x233e86['globalBoun'+'dingBox']['min'][0x13*-0xd1+0x2537+-0x15b2],_0x5c8a09=_0x233e86['globalBoun'+'dingBox']['max'][-0x6*-0x5e4+0x1ae0+-0x16a*0x2c],_0x4674df=_0x233e86['globalBoun'+'dingBox']['max'][-0x2042+-0x1*-0x21a3+0x8*-0x2c],_0x5aadbc=_0x233e86['globalBoun'+'dingBox']['max'][0x7*0x2c9+0xfc8+-0x2345],_0x3c08a2=new D((_0x5f5451+_0x5c8a09)*(-0x1122*0x1+0xb6f*-0x1+-0x1*-0x1c91+0.5),(_0x1a4889+_0x4674df)*(-0x200+-0xd42+0xf42+0.5),(_0x3b371f+_0x5aadbc)*(-0x2093*-0x1+0x266d+-0x4700+0.5)),_0x548fdb=new D((_0x5c8a09-_0x5f5451)*(-0x3*0x747+-0x1*-0x1511+0xc4+0.5),(_0x4674df-_0x1a4889)*(0xcb6*-0x1+-0x173b+0x23f1+0.5),(_0x5aadbc-_0x3b371f)*(-0x2300+0x955+0x19ab+0.5)),_0x379ee5=new De(_0x3c08a2,_0x548fdb);this['sceneInfo']['globalBoun'+'dingBox']=_0x379ee5,this['aabb']=_0x379ee5;}async['updateData'](){var _0x4044ba,_0x3314e9,_0x56ad4d,_0x36cf60,_0x503d3a,_0x413369,_0x1aa265,_0x4d658f,_0x2f2dfb,_0x2eda44,_0x245dda;await super['updateData']();const _0x47bde6=this['gsplatData'];if(!_0x47bde6)return;this['is4D']=_0x47bde6['is4D'];const _0x494787=await this['getTransfo'+'rmDataByWo'+'rker'](_0x47bde6);this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x494787['centers'],this['motion']=_0x494787['motion'],this['tScale']=_0x494787['tScaleArra'+'y'],this['muT']=await _0x47bde6['getMuT'](),this['timeIndex']=await _0x47bde6['getTimeInd'+'ex']();const _0xb1e887=this['evalTextur'+'eSize'](_0x47bde6['numSplats']);this['colorTextu'+'re']?((_0x4044ba=this['colorTextu'+'re2'])==null||_0x4044ba['destroy'](),(_0x3314e9=this['transformA'+'Texture2'])==null||_0x3314e9['destroy'](),(_0x56ad4d=this['transformB'+'Texture2'])==null||_0x56ad4d['destroy'](),(_0x36cf60=this['transformR'+'Texture2'])==null||_0x36cf60['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0xb1e887),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0xb1e887),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0xb1e887),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0xb1e887),this['is4D']&&((_0x503d3a=this['transformM'+'otionTextu'+'re2'])==null||_0x503d3a['destroy'](),(_0x413369=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x413369['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0xb1e887),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0xb1e887))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0xb1e887),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0xb1e887),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0xb1e887),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0xb1e887),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0xb1e887),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0xb1e887),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0xb1e887),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0xb1e887),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0xb1e887),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0xb1e887),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0xb1e887),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0xb1e887))),await this['updateColo'+'rData'](_0x47bde6),await this['updateTran'+'sformFromD'+'ata'](_0x494787),this['shBands']=_0x47bde6['shBands'],this['shBands']>0x23db*0x1+-0x443*0x7+0x2*-0x303&&(this['sh1to3Text'+'ure']?((_0x1aa265=this['sh1to3Text'+'ure2'])==null||_0x1aa265['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0xb1e887),this['shBands']>-0x20f3+-0x4b1+-0x17*-0x1a3&&((_0x4d658f=this['sh4to7Text'+'ure2'])==null||_0x4d658f['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0xb1e887),this['shBands']>0x223d+-0x258+-0x1fe3?((_0x2f2dfb=this['sh8to11Tex'+'ture2'])==null||_0x2f2dfb['destroy'](),(_0x2eda44=this['sh12to15Te'+'xture2'])==null||_0x2eda44['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0xb1e887),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0xb1e887)):((_0x245dda=this['sh8to11Tex'+'ture2'])==null||_0x245dda['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0xb1e887)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0xb1e887),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0xb1e887),this['shBands']>-0x63+-0x23e5*-0x1+0x2381*-0x1&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0xb1e887),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0xb1e887),this['shBands']>-0x4*-0xf2+0x23b*-0xf+0x1daf?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0xb1e887),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0xb1e887),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0xb1e887),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0xb1e887)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0xb1e887),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0xb1e887)))),await this['updateSHDa'+'taByWorker'](_0x47bde6));}['updateText'+'ure'](){this['isDestroye'+'d']||(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x270974){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x270974}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x5468c5,_0x663604,_0x318ce4,_0x41e6bf,_0x583237,_0x124a72){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x5468c5,'timeOption':_0x663604,'loadedTime':_0x318ce4,'asset':_0x41e6bf,'events':_0x583237,'seekCB':_0x124a72}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(-0x197b+0xb22+0xe59);try{for(;this['appendQueu'+'e']['length']>-0x24b2+0x4*0x68a+-0x13*-0x8e;){const _0x4fc378=this['appendQueu'+'e']['shift']();_0x4fc378['type']==='append'?await this['processApp'+'endTask'](_0x4fc378['data']):_0x4fc378['type']==='release'&&await this['processRel'+'easeTask'](_0x4fc378['data']);}}finally{this['isProcessi'+'ngQueue']=!(0x5f*-0x32+0x175a+0x4cb*-0x1);}}}async['processRel'+'easeTask'](_0x128d94){const {index:_0x40c732}=_0x128d94;this['isDestroye'+'d']||await this['gsplatData']['releaseSeq'+'Data'](_0x40c732);}async['processApp'+'endTask'](_0x4a713c){var _0x68ed07;const {gsplatData:_0x70d70a,timeOption:_0x2548e6,loadedTime:_0x29a65d,asset:_0x39b9a0,events:_0x1dbeb0,seekCB:_0x26fb4a}=_0x4a713c;!this['gsplatData']||this['isDestroye'+'d']||(globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x2548e6,this['asset']=_0x39b9a0,this['assetsMana'+'gerLoadedT'+'ime']=_0x29a65d,this['events']=_0x1dbeb0,await this['gsplatData']['appendGSpl'+'atData'](_0x70d70a,_0x29a65d,_0x2548e6),console['log']('loadTime__'+'__','gsplatDeco'+'dedResourc'+'e\x20gsplatDa'+'ta.appendG'+'SplatData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x1a*0x173+-0x1345+0x38f5),_0x70d70a['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x70d70a['numSplats'])['toFixed'](0x1c46+-0x1*-0x1dd1+-0x3a14)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20this.upd'+'ateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x13*-0x1d+-0x1*-0x1127+-0xefe*0x1),_0x70d70a['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await((_0x68ed07=this['gsplatInst'+'ance'])==null?void(0x1*0x39+-0x5*-0x557+-0x2*0xd76):_0x68ed07['updateInst'+'anceData'](this,_0x29a65d,_0x26fb4a)),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20updateIn'+'stanceData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x381*-0x2+-0x622*0x3+0xb66),_0x70d70a['numSplats']));}['fireAssets'+'ManagerTim'+'eIndex'](_0x2f719c,_0x4f254b){var _0x23d2ce;const _0x3a4b7e=_0x2f719c||this['assetsMana'+'gerLoadedT'+'ime'];(_0x23d2ce=this['asset'])==null||_0x23d2ce['fire']('setAssetsL'+'oaded',_0x3a4b7e,_0x4f254b);}['destroy'](){var _0x16e9e4,_0x566882,_0x3ab9fc,_0x3a4ea3,_0x43d369,_0x5e7e0f,_0xe42644,_0x1f6ce0,_0x298c6d,_0x5d82e0,_0x2d4173,_0xe79b2e,_0x167541,_0x166c17,_0x5f5976,_0x2612a3,_0x57482f,_0x36cbaf,_0x20c63f,_0x271334,_0x170587;(_0x16e9e4=this['updateData'+'Worker'])==null||_0x16e9e4['destroy'](),this['updateData'+'Worker']=void(0x191d+-0x1*-0x1c75+0x1ac9*-0x2),(_0x566882=this['colorTextu'+'re'])==null||_0x566882['destroy'](),(_0x3ab9fc=this['transformA'+'Texture'])==null||_0x3ab9fc['destroy'](),(_0x3a4ea3=this['transformB'+'Texture'])==null||_0x3a4ea3['destroy'](),(_0x43d369=this['transformR'+'Texture'])==null||_0x43d369['destroy'](),(_0x5e7e0f=this['transformM'+'otionTextu'+'re'])==null||_0x5e7e0f['destroy'](),(_0xe42644=this['transformL'+'ifecycleTe'+'xture'])==null||_0xe42644['destroy'](),(_0x1f6ce0=this['sh1to3Text'+'ure'])==null||_0x1f6ce0['destroy'](),(_0x298c6d=this['sh4to7Text'+'ure'])==null||_0x298c6d['destroy'](),(_0x5d82e0=this['sh8to11Tex'+'ture'])==null||_0x5d82e0['destroy'](),(_0x2d4173=this['sh12to15Te'+'xture'])==null||_0x2d4173['destroy'](),(_0xe79b2e=this['colorTextu'+'re2'])==null||_0xe79b2e['destroy'](),(_0x167541=this['transformA'+'Texture2'])==null||_0x167541['destroy'](),(_0x166c17=this['transformB'+'Texture2'])==null||_0x166c17['destroy'](),(_0x5f5976=this['transformR'+'Texture2'])==null||_0x5f5976['destroy'](),(_0x2612a3=this['transformM'+'otionTextu'+'re2'])==null||_0x2612a3['destroy'](),(_0x57482f=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x57482f['destroy'](),(_0x36cbaf=this['sh1to3Text'+'ure2'])==null||_0x36cbaf['destroy'](),(_0x20c63f=this['sh4to7Text'+'ure2'])==null||_0x20c63f['destroy'](),(_0x271334=this['sh8to11Tex'+'ture2'])==null||_0x271334['destroy'](),(_0x170587=this['sh12to15Te'+'xture2'])==null||_0x170587['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x4dbc00){var _0x175fac,_0x275745,_0x55cb0f,_0x47ffd3,_0x3f6ee4,_0x408516,_0x17492d,_0x31ce19,_0x481c7c,_0x141eba,_0x4db569,_0x35a58c,_0x588e9c;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x3cadb0=((_0x175fac=_0x4dbc00['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(0xf*0x197+0x18d*-0x3+-0x333*0x6):_0x175fac['data'])??-0x141b+0x16f2+-0x2d7,_0xfafa7=((_0x275745=_0x4dbc00['getParamet'+'er']('uSplatScal'+'e'))==null?void(-0xafa*-0x1+0x4f*0x22+-0x1578):_0x275745['data'])??0xab8+0x117c+-0x1c33,_0x5a2a07=((_0x55cb0f=_0x4dbc00['getParamet'+'er']('uSaturatio'+'n'))==null?void(0xabd+0x13e*0xd+0x1*-0x1ae3):_0x55cb0f['data'])??0x16e6+-0x1*0x263b+0x12e*0xd,_0x12650f=((_0x47ffd3=_0x4dbc00['getParamet'+'er']('uHueOffset'))==null?void(-0x2de+-0x243a+-0xc*-0x342):_0x47ffd3['data'])??-0xaf5*-0x3+0x1*0x96d+-0x1*0x2a4c,_0x2f2364=((_0x3f6ee4=_0x4dbc00['getParamet'+'er']('uInvertOpa'+'city'))==null?void(-0x7f4+0x51c*0x2+0x1*-0x244):_0x3f6ee4['data'])??-0xa7*0xa+0x2*0x1127+-0x1bc8,_0x7728f4=((_0x408516=_0x4dbc00['getParamet'+'er']('uOpacity'))==null?void(0x1*-0x31f+0x1628*0x1+-0x1309):_0x408516['data'])??-0x602*-0x3+0x278+-0x147d,_0x151033=((_0x17492d=_0x4dbc00['getParamet'+'er']('clrOffset'))==null?void(-0xbf7+0x1*-0x1cb+0xdc2):_0x17492d['data'])??[0x1cfb*-0x1+0x167*-0x14+0x3907,-0x7*0x26d+-0x1b4a+0x2c45,0x106a+0xfdf+-0xf*0x227,0x9a2+-0x2d5+-0xf*0x74],_0x10955e=((_0x31ce19=_0x4dbc00['getParamet'+'er']('clrScale'))==null?void(0xc3b+-0x13f*0x8+-0x3*0xc1):_0x31ce19['data'])??[0x94*-0x25+0xdac+0x293*0x3,-0x1702+-0x122*0x1d+-0x129f*-0x3,0x1d2+0x1fb4+0x1*-0x2185,-0x89b+-0x1b81+-0x739*-0x5],_0x1a675a=((_0x481c7c=_0x4dbc00['getParamet'+'er']('uShapeN'))==null?void(0x1583+-0x9b0+-0xbd3):_0x481c7c['data'])??-0x1*0x14c2+0x4c*0x59+-0x5aa,_0x4e00ca=((_0x141eba=_0x4dbc00['getParamet'+'er']('mode'))==null?void(0x1*-0x1336+0x1082+0x2b4):_0x141eba['data'])??0x10*0x80+0x13c0+-0x1bc0,_0x427e44=((_0x4db569=_0x4dbc00['getParamet'+'er']('ringSize'))==null?void(0x1*0x6ad+-0xa2e*-0x1+0x1*-0x10db):_0x4db569['data'])??0x2526+0x2fe*0x7+-0x3a18,_0x1a0ce2=((_0x35a58c=_0x4dbc00['defines'])==null?void(-0x2631+0x93c+0x1cf5):_0x35a58c['get']('uOpenAnim'))??'0',_0x3d3d95=((_0x588e9c=_0x4dbc00['defines'])==null?void(0x373+0xd5*0x25+-0x223c):_0x588e9c['get']('uControlCo'+'lorMode'))??'0';_0x4dbc00['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x4dbc00['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x4dbc00['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x4dbc00['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x4dbc00['setParamet'+'er']('uSplatScal'+'e',_0xfafa7),_0x4dbc00['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x3cadb0),_0x4dbc00['setParamet'+'er']('uSaturatio'+'n',_0x5a2a07),_0x4dbc00['setParamet'+'er']('uHueOffset',_0x12650f),_0x4dbc00['setParamet'+'er']('uInvertOpa'+'city',_0x2f2364),_0x4dbc00['setParamet'+'er']('uOpacity',_0x7728f4),_0x4dbc00['setParamet'+'er']('clrOffset',_0x151033),_0x4dbc00['setParamet'+'er']('clrScale',_0x10955e),_0x4dbc00['setParamet'+'er']('uShapeN',_0x1a675a),_0x4dbc00['setParamet'+'er']('mode',_0x4e00ca),_0x4dbc00['setParamet'+'er']('ringSize',_0x427e44),_0x4dbc00['setParamet'+'er']('prerenderC'+'Time',-0x1*0xfa7+0x27*0x5c+0x1a3),_0x4dbc00['setParamet'+'er']('renderSpac'+'e',0x5d9*0x6+-0x26f4+0x3e8),_0x4dbc00['setParamet'+'er']('endSpace',-0x13*0x1fd+-0xb*0x71+0x2aac),_0x4dbc00['setDefine']('uOpenAnim',_0x1a0ce2),_0x4dbc00['setDefine']('uControlCo'+'lorMode',_0x3d3d95),this['transformM'+'otionTextu'+'re']&&_0x4dbc00['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x4dbc00['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x4dbc00['setDefine']('SH_BANDS',this['shBands']),_0x4dbc00['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x4dbc00['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x4dbc00['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x4dbc00['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x4dbc00['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0xcddd2){const _0x3c63dc=Math['ceil'](Math['sqrt'](_0xcddd2)),_0x1a7eaa=Math['ceil'](_0xcddd2/_0x3c63dc);return new J(_0x3c63dc,_0x1a7eaa);}async['updateColo'+'rData'](_0x3f5b3d){var _0x4b5cb7;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0xadf96c=this['colorTextu'+'re2'];if(!_0xadf96c||this['isDestroye'+'d'])return;let _0x57d541=(_0x4b5cb7=_0x3f5b3d['transformD'+'ata'])==null?void(-0x2*-0x123a+-0x1258+-0x121c):_0x4b5cb7['dataColor'];if(!_0x57d541){const _0x400ece=_0x3f5b3d['getProp']('color_opac'+'ity');_0x57d541=new Uint16Array(_0x400ece['buffer']['slice']());}await this['idleUpdate'+'TexturePro'+'mise'](_0xadf96c,_0x57d541);}async['getTransfo'+'rmDataByWo'+'rker'](_0x5895ca){var _0x37270f;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x37270f=_0x5895ca['transformD'+'ata'])!=null&&_0x37270f['dataCenter'+'s'])return{'centers':_0x5895ca['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x5895ca['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x5895ca['transformD'+'ata']['dataScale'],'dataRotation':_0x5895ca['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x5895ca['transformD'+'ata']['dataMotion'],'dataTime':_0x5895ca['transformD'+'ata']['dataTime'],'motion':_0x5895ca['transformD'+'ata']['motion'],'tScaleArray':_0x5895ca['transformD'+'ata']['tScaleArra'+'y']};const _0x323e07=_0x5895ca['getProp']('position'),_0x5006f1=_0x5895ca['getProp']('motion'),_0x26a6cb=_0x5895ca['getProp']('rotation'),_0x7af0d0=_0x5895ca['getProp']('scale'),_0x309bad=_0x5895ca['getProp']('t'),_0x2044bd=_0x5895ca['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x5895ca['numSplats'],this['is4D'],_0x323e07,_0x26a6cb,_0x5006f1,_0x7af0d0,_0x309bad,_0x2044bd);}async['updateTran'+'sformFromD'+'ata'](_0x427839){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x427839['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x427839['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x427839['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x427839['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x427839['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0xe71c52,_0x34fa36){if(!this['isDestroye'+'d'])return new Promise(_0x46bb7c=>{requestIdleCallback(()=>{const _0x2bf2f6=_0xe71c52['lock']();_0x2bf2f6==null||_0x2bf2f6['set'](_0x34fa36),_0xe71c52['unlock'](),_0x46bb7c(!(0x1d38+0x13*0x115+-0x31c7));},{'timeout':0x12c});});}async['updateSHDa'+'ta'](_0x55855e){var _0x5839b4,_0x2200f8,_0x209728,_0x31bef4,_0x1228db,_0x1083a4,_0x442b1a,_0x34905d;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x5bd562=(_0x5839b4=this['sh1to3Text'+'ure2'])==null?void(-0x173c+-0xd5d+-0x1*-0x2499):_0x5839b4['lock'](),_0x4c8975=(_0x2200f8=this['sh4to7Text'+'ure2'])==null?void(0x55c+0x200f*0x1+-0x1f*0x135):_0x2200f8['lock'](),_0x1246f4=(_0x209728=this['sh8to11Tex'+'ture2'])==null?void(0x4cc*0x4+-0x838*0x4+0xdb0):_0x209728['lock'](),_0x2070f0=(_0x31bef4=this['sh12to15Te'+'xture2'])==null?void(0x2196+-0x226*-0x8+0x32c6*-0x1):_0x31bef4['lock'](),_0x1e80f6={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x538486=xg(_0x55855e,_0x1e80f6*(-0x270f+0x5ad+0x2165)),_0x5ec86b=0x5d7+0x25e+-0x36,_0x1304a4=-0x1*0x267b+-0xc1a+0xda5*0x4,_0xe1e469=new Float32Array(0x1*-0xbda+-0x1f*0xac+0x20af),_0x33f325=new Uint32Array(_0xe1e469['buffer']),_0x485b6f=new Array(_0x1e80f6*(-0x1439*-0x1+-0x1ce0+0x8aa))['fill'](-0x5*0x776+-0x9*-0x44f+-0x1d*0xd);for(let _0x22cd50=-0x179b+0x224e+-0xab3;_0x22cd50<_0x55855e['numSplats'];++_0x22cd50){for(let _0x7bf043=-0x10fc+-0x1cd*0x3+-0xb*-0x209;_0x7bf043<_0x1e80f6;++_0x7bf043)_0x485b6f[_0x7bf043*(-0x7*0x333+-0x2402+0x3a6a)]=_0x538486[_0x7bf043][_0x22cd50],_0x485b6f[_0x7bf043*(-0x1d*0xf7+-0x117f*-0x1+-0xa7f*-0x1)+(-0x1*0x2068+0x17a6+0x1*0x8c3)]=_0x538486[_0x7bf043+_0x1e80f6][_0x22cd50],_0x485b6f[_0x7bf043*(0x19a1+0x8eb*0x2+-0x2b74)+(0x1d4b+-0x1097+0x32*-0x41)]=_0x538486[_0x7bf043+_0x1e80f6*(0x1379*-0x1+-0xab5+0x1e30)][_0x22cd50];let _0x165bbf=_0x485b6f[-0x2257+0x1a11+-0x6*-0x161];for(let _0x568ad4=0x1855+-0xca*-0x2+0x67a*-0x4;_0x568ad4<_0x1e80f6*(0x6ee*-0x5+-0x182b+0x1*0x3ad4);++_0x568ad4)_0x165bbf=Math['max'](_0x165bbf,Math['abs'](_0x485b6f[_0x568ad4]));if(_0x165bbf!==-0x5*-0x1e5+0x1d1+-0xb4a){for(let _0x51945f=0x1c97+-0x99*-0x2b+-0x364a;_0x51945f<_0x1e80f6;++_0x51945f)_0x485b6f[_0x51945f*(-0x18eb+0xc67*-0x2+0x31bc)+(0x194*-0xb+0x21*0xe5+0x11b*-0xb)]=Math['max'](0x442+0x1510+-0x1952,Math['min'](_0x5ec86b,Math['floor']((_0x485b6f[_0x51945f*(0x5e7*-0x1+0x3e*-0x9f+-0x1*-0x2c6c)+(0x12b3+-0x94+-0x121f)]/_0x165bbf*(0x1c77+0x5ab*-0x4+-0x5cb*0x1+0.5)+(0x7*0x1a3+0x133*-0xd+0x422+0.5))*_0x5ec86b+(-0x2*-0x976+-0x2*0x9a5+0x2*0x2f+0.5)))),_0x485b6f[_0x51945f*(0x104f+0x1*-0x2149+-0x1*-0x10fd)+(0x1*-0x10ec+-0x2006*-0x1+0x1*-0xf19)]=Math['max'](0x1aac+0x1e3f+-0x38eb,Math['min'](_0x1304a4,Math['floor']((_0x485b6f[_0x51945f*(-0x1*0x57b+0x9a7+0x163*-0x3)+(-0x39*-0xa5+0x22e2+-0x479e)]/_0x165bbf*(-0x1*-0x18cb+0x4d8+-0x1b*0x119+0.5)+(0xe*-0x11b+-0x1c6a+-0x35*-0xd4+0.5))*_0x1304a4+(-0xeb1*0x1+0x1360+-0x1*0x4af+0.5)))),_0x485b6f[_0x51945f*(0x559*-0x1+-0x1133+0x15*0x113)+(0x11b7+0x1*0x963+-0x1b18)]=Math['max'](-0x756+0x1d3*-0x14+-0x4f*-0x8e,Math['min'](_0x5ec86b,Math['floor']((_0x485b6f[_0x51945f*(0x1f37*-0x1+-0x2*0x8e1+0x187e*0x2)+(0x20c6+0x24b3+-0x4577)]/_0x165bbf*(0x2df*-0xd+0x259d+-0x2*0x25+0.5)+(-0x131e+0x95+0x1289+0.5))*_0x5ec86b+(-0x1a8b*-0x1+-0xca6+0x1*-0xde5+0.5))));_0xe1e469[0x1aa0+-0xdd2*-0x1+0x1439*-0x2]=_0x165bbf,_0x5bd562[_0x22cd50*(-0x1a2d+0x1c+0x1a15)+(0x30e*-0x1+0x797*0x1+-0x3*0x183)]=_0x33f325[0x1b3f+0xe59+-0x2998],_0x5bd562[_0x22cd50*(0xf58+-0x1174+0x22*0x10)+(-0x9df+-0x1*0xfbd+-0x53*-0x4f)]=_0x485b6f[0x3*0x513+-0x1*-0x176+-0x1*0x10af]<<0x23dd*0x1+-0x4f+-0x3f1*0x9|_0x485b6f[-0x757*-0x1+0x2*-0x95+0x14*-0x4f]<<-0x23ab*-0x1+0x10fb+-0x349b*0x1|_0x485b6f[-0x2f*0x71+0x1544+-0x83*0x1],_0x5bd562[_0x22cd50*(0x95*-0x1+-0x1e4b+0x526*0x6)+(-0x13ef+0x152b+0x13a*-0x1)]=_0x485b6f[0x1*-0x2517+-0xaac+-0x2*-0x17e3]<<-0x10*-0x112+0x3*-0x65b+0x206|_0x485b6f[0x426+0x134+0x556*-0x1]<<-0x1621+-0x21d4+0x700*0x8|_0x485b6f[0x5ca+-0x1e9*0xf+-0x3a*-0x65],_0x5bd562[_0x22cd50*(-0x1*-0x247d+0x1*-0xf4f+0x6*-0x387)+(0x1d07*0x1+0x263f*0x1+-0x4343)]=_0x485b6f[0xdc1+-0x908+-0x1*0x4b3]<<0x1856+-0xd2f+-0x1a*0x6d|_0x485b6f[-0x3fb*-0x6+0xf95*0x2+0xb01*-0x5]<<0x38f*0x6+0x13*-0x123+-0x4a*-0x1|_0x485b6f[-0x15a3+0x1*0x1895+0x2*-0x175],this['shBands']>0x5ba*0x1+0x143*0x14+-0x1*0x1ef5&&(_0x4c8975[_0x22cd50*(-0x144a*-0x1+0x15f1+-0x2a37)+(-0xb7*-0x33+0x92*0x11+0x11*-0x2b7)]=_0x485b6f[0x1d8a*-0x1+-0x12b9*0x1+0x304c]<<-0x4*0x7d0+-0x2099+-0x62*-0xa7|_0x485b6f[-0x1dba*0x1+0x15e6+-0x3ef*-0x2]<<0x13a7+0xf79*0x1+-0x2315|_0x485b6f[0xaa1*0x2+0x193+-0x16ca],_0x4c8975[_0x22cd50*(0x43*0x4a+0x1d01+-0x1*0x305b)+(-0xa1d+-0x43*-0x1+0x9db)]=_0x485b6f[-0x194+0xd49+-0xba9]<<-0x1df8+-0xd7f+-0x2*-0x15c6|_0x485b6f[-0x3*0xec+0x230c+0xdf*-0x25]<<0x7ed+0xb*-0x135+0x565|_0x485b6f[-0xdfb*0x1+0x5*-0x66e+0x2e2f],_0x4c8975[_0x22cd50*(-0x41b+-0x118d+0x15ac)+(0x1*0x41f+-0x2419*0x1+-0xb2*-0x2e)]=_0x485b6f[0xc31+0x3a*-0x65+0x8*0x158]<<0x117e*0x2+0x6ae+0x2995*-0x1|_0x485b6f[-0x1e6f+0x180+0x1cff]<<0x2151*-0x1+-0x1f1b+0x4077|_0x485b6f[0x113*-0x3+0x2f1*0x1+0x59],_0x4c8975[_0x22cd50*(-0x7*0x4d5+0x134d+0xe8a*0x1)+(0x7cd*-0x5+0x40*0x4e+-0x4e1*-0x4)]=_0x485b6f[0xd86+0x1c3e+0x29b2*-0x1]<<-0x1124+0x13*-0x57+0x17ae|_0x485b6f[-0x2*-0xd2d+-0x6a0+0x2b*-0x75]<<-0x40a*-0x2+0x1346*0x1+-0x1b4f|_0x485b6f[0x1b7e+-0xc*-0xc1+-0x2*0x123b],this['shBands']>-0x26ce+-0x39b*0xa+0x4ade?(_0x1246f4[_0x22cd50*(-0x9*-0xd6+0xb09+-0x128b)+(0x133*-0x1a+0x16a*-0xf+-0x1a32*-0x2)]=_0x485b6f[-0x750+0x87*0x15+-0x3*0x13a]<<-0x30d+-0x2591+0x28b3|_0x485b6f[0x1104+-0x25f6+0x542*0x4]<<-0xab3+-0x1c8e+0x274c|_0x485b6f[-0x1316+-0x2173*-0x1+-0x196*0x9],_0x1246f4[_0x22cd50*(0x17*-0x10d+-0x2*0x129d+0x3d69)+(-0x581*0x2+-0xfc6+-0x1*-0x1ac9)]=_0x485b6f[0x22ac+0x24d1+-0x175*0x31]<<0x2594+0x24d2+0x5*-0xedd|_0x485b6f[0x2292+0x1a7a*0x1+-0x3cf3]<<-0x2358+0xb9b*-0x1+0x2efe|_0x485b6f[-0x7*0x4a4+0x2295+-0x1*0x1ff],_0x1246f4[_0x22cd50*(0xbd7*-0x2+-0x3d*0x11+-0x1*-0x1bbf)+(-0xde2+-0x5c6*0x6+0x1844*0x2)]=_0x485b6f[0x35b*-0x7+-0x224d+-0x1*-0x39e5]<<-0x1641+-0x1c5b+-0x13*-0x2ab|_0x485b6f[-0x1*0xa9+-0x240d+0x3*0xc46]<<0x203f+-0x6e1+0x3*-0x871|_0x485b6f[0xd3*0x1+-0x3d2+0x31c],_0x1246f4[_0x22cd50*(0x4cb*-0x4+0x1433+-0x103)+(0x14a1*-0x1+0x525+0xf7f)]=_0x485b6f[-0x1*0x22d4+-0x852+0x2b44]<<-0x627+0x2*0x12d4+-0x2*0xfb6|_0x485b6f[0x1c9b+0x241b+-0x1*0x4097]<<0x4cf*-0x6+0xe0b+0xeda|_0x485b6f[-0x18*-0x13d+-0xf*0x1c5+-0x30d*0x1],_0x2070f0[_0x22cd50*(-0x1*-0x22b9+-0x313+-0x1fa2)+(0xa6c+-0x1ea5+0x1439)]=_0x485b6f[-0x1ced+-0x1*0xb74+0x2882]<<-0x68f+-0x110*-0x11+-0xb6c|_0x485b6f[-0x757+0x16e9+-0xf70]<<-0x2528+0x18*-0x7b+0x30bb|_0x485b6f[0x180d*-0x1+-0x172e*-0x1+-0x102*-0x1],_0x2070f0[_0x22cd50*(-0x77*-0x5+-0x25*0x10d+0x2492)+(0x1bec+0x12ef+0x2eda*-0x1)]=_0x485b6f[0x136d*-0x1+-0x2621+0x23*0x1a6]<<-0x8f*0xc+0x1*0x13af+-0xce6|_0x485b6f[-0x1d53+-0xf5c*-0x1+0xe1c]<<0x20df+0x2*0xaf4+-0x36bc|_0x485b6f[-0x178b+0x2207+-0x2a*0x3f],_0x2070f0[_0x22cd50*(-0x1220+0x14f5+-0x2d1)+(0x3*0xc9+-0x5db*-0x6+-0x5*0x77f)]=_0x485b6f[-0x1*0x2487+-0x347*-0x1+0x2167]<<-0x1f6*-0xa+-0x1f55+0xbce|_0x485b6f[-0x652+0x187d*0x1+-0x1203]<<-0x3*-0x557+-0xd4b+-0x2af|_0x485b6f[-0x1767+0x3b*-0x53+0x2ab1],_0x2070f0[_0x22cd50*(0xec7+-0xacb+-0x3f8)+(-0x3*0x5de+0x1*0x212+0x17*0xad)]=_0x485b6f[0xa7*0x16+0x11b2+-0x1fe2]<<-0x168c+0x1f00+0x1*-0x85f|_0x485b6f[-0x1039+0xa93*-0x2+0x9b*0x3e]<<-0x20*-0x6d+0x3*-0x79b+0x93c|_0x485b6f[-0x5*0x9f+-0x1c68+0x1faf]):_0x1246f4[_0x22cd50]=_0x485b6f[-0x13fc+-0xc*0x12e+-0x2239*-0x1]<<0x7*-0x497+-0x1d*-0x119+0x61|_0x485b6f[-0x1351+0xec9+0x2*0x24f]<<0x1*0xc4b+-0x1a96+0xe56|_0x485b6f[-0x24de+-0xf24+0x1*0x3419]);}}(_0x1228db=this['sh1to3Text'+'ure2'])==null||_0x1228db['unlock'](),(_0x1083a4=this['sh4to7Text'+'ure2'])==null||_0x1083a4['unlock'](),(_0x442b1a=this['sh8to11Tex'+'ture2'])==null||_0x442b1a['unlock'](),(_0x34905d=this['sh12to15Te'+'xture2'])==null||_0x34905d['unlock']();}async['updateSHDa'+'taByWorker'](_0x1c7e50){var _0xdb96b7,_0x4d5760,_0x31cfb5,_0x1dd161,_0x5d419c;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x32ca4a={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x6c888f,_0x2771cf,_0x29b37b,_0x5ea78e;if((_0xdb96b7=_0x1c7e50['transformD'+'ata'])!=null&&_0xdb96b7['sh1to3Data'])_0x6c888f=(_0x4d5760=_0x1c7e50['transformD'+'ata'])==null?void(0xb5*0x34+-0xcd*0x14+-0x530*0x4):_0x4d5760['sh1to3Data'],_0x2771cf=(_0x31cfb5=_0x1c7e50['transformD'+'ata'])==null?void(-0x1124+0x21a0+-0x107c):_0x31cfb5['sh4to7Data'],_0x29b37b=(_0x1dd161=_0x1c7e50['transformD'+'ata'])==null?void(-0x1188+-0x2cf+0x1457):_0x1dd161['sh8to11Dat'+'a'],_0x5ea78e=(_0x5d419c=_0x1c7e50['transformD'+'ata'])==null?void(-0x10e0+0x1*-0xa07+0x1ae7):_0x5d419c['sh12to15Da'+'ta'];else{const _0x3bda95=xg(_0x1c7e50,_0x32ca4a*(0x1b2a+0x11e3*-0x1+-0x1*0x944)),_0x4805d2=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x1c7e50['numSplats'],this['shBands'],_0x3bda95);_0x6c888f=_0x4805d2['sh1to3Data'],_0x2771cf=_0x4805d2['sh4to7Data'],_0x29b37b=_0x4805d2['sh8to11Dat'+'a'],_0x5ea78e=_0x4805d2['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x6c888f),this['shBands']>-0xf3*0x9+-0x1*0x17fd+0x2089&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x2771cf),this['shBands']>-0x1beb*-0x1+0x1965+-0x354e?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x29b37b),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x5ea78e)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x29b37b));}}const PC='FILL_WINDO'+'W',Tg='KEEP_ASPEC'+'T',wg='AUTO',MC='FIXED';let Ov;function Ms(){return Ov;}function _u(_0x134a09){Ov=_0x134a09;}class DC{constructor(){h(this,'renderPass'+'es',[]),h(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x151736){w['assert'](_0x151736),_0x151736['frameUpdat'+'e']();const _0x34abd7=_0x151736['beforePass'+'es'];for(let _0x37e0a1=-0x2439+0x1880+0xbb9;_0x37e0a1<_0x34abd7['length'];_0x37e0a1++){const _0x7dc11b=_0x34abd7[_0x37e0a1];_0x7dc11b['enabled']&&this['addRenderP'+'ass'](_0x7dc11b);}_0x151736['enabled']&&this['renderPass'+'es']['push'](_0x151736);const _0x15c86d=_0x151736['afterPasse'+'s'];for(let _0x5bd238=0x6d4+-0x22d5*0x1+0x1c01*0x1;_0x5bd238<_0x15c86d['length'];_0x5bd238++){const _0x3986e4=_0x15c86d[_0x5bd238];_0x3986e4['enabled']&&this['addRenderP'+'ass'](_0x3986e4);}}['reset'](){this['renderPass'+'es']['length']=-0x8fd+-0x1418+0x5*0x5d1;}['compile'](){const _0x1bae50=this['renderTarg'+'etMap'],_0x2f0a6d=this['renderPass'+'es'];for(let _0x1875cc=-0x2279*0x1+0x1*0x2347+-0xce;_0x1875cc<_0x2f0a6d['length'];_0x1875cc++){const _0x227aa7=_0x2f0a6d[_0x1875cc],_0x3cb9ac=_0x227aa7['renderTarg'+'et'];if(_0x3cb9ac!==void(-0x142f*-0x1+0xb5*0x2b+-0x15e*0x25)){const _0x51f0d4=_0x1bae50['get'](_0x3cb9ac);if(_0x51f0d4){const _0x3c4119=_0x227aa7['colorArray'+'Ops']['length'];for(let _0x379dfb=-0x6*-0xb+-0x5*0x10+0xe;_0x379dfb<_0x3c4119;_0x379dfb++)_0x227aa7['colorArray'+'Ops'][_0x379dfb]['clear']||(_0x51f0d4['colorArray'+'Ops'][_0x379dfb]['store']=!(-0x2025+0xe*-0x10f+-0x445*-0xb));_0x227aa7['depthStenc'+'ilOps']['clearDepth']||(_0x51f0d4['depthStenc'+'ilOps']['storeDepth']=!(-0x21ac+0x141f+0x1*0xd8d)),_0x227aa7['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x51f0d4['depthStenc'+'ilOps']['storeStenc'+'il']=!(-0x183e+-0x8e0+0x211e));}_0x1bae50['set'](_0x3cb9ac,_0x227aa7);}}for(let _0x40c006=0x123*-0x9+-0xbff*0x1+0x163a;_0x40c006<_0x2f0a6d['length']-(0x12ac+0x1867*-0x1+0x5bc);_0x40c006++){const _0x43e274=_0x2f0a6d[_0x40c006],_0x5405aa=_0x43e274['renderTarg'+'et'],_0x2f9a25=_0x2f0a6d[_0x40c006+(-0x23c2+0xb44+0x187f)],_0x28c916=_0x2f9a25['renderTarg'+'et'];_0x5405aa!==_0x28c916||_0x5405aa===void(-0xa30*-0x2+-0x74f+-0xd11)||_0x2f9a25['depthStenc'+'ilOps']['clearDepth']||_0x2f9a25['depthStenc'+'ilOps']['clearStenc'+'il']||_0x2f9a25['colorArray'+'Ops']['some'](_0x4a3e04=>_0x4a3e04['clear'])||_0x43e274['afterPasse'+'s']['length']>-0xcb3*0x1+0x1453+-0x7a0||_0x2f9a25['beforePass'+'es']['length']>-0x267a+0x256a+-0x88*-0x2||(_0x43e274['_skipEnd']=!(0x1b59+-0x2*0x792+-0x19*0x7d),_0x2f9a25['_skipStart']=!(-0x2ff+0x4c*-0x15+0x93b));}let _0x14b7a4=null,_0x3868d6=null;for(let _0x47a86a=-0x2190+0x2c*-0x32+-0x1*-0x2a28;_0x47a86a<_0x2f0a6d['length'];_0x47a86a++){const _0x39542c=_0x2f0a6d[_0x47a86a],_0x51f3fc=_0x39542c['renderTarg'+'et'],_0x38e56c=_0x51f3fc==null?void(0x1*-0x2403+0xc17+-0x5fb*-0x4):_0x51f3fc['colorBuffe'+'r'];if(_0x38e56c!=null&&_0x38e56c['cubemap']){if(_0x14b7a4===_0x38e56c){const _0xe63f1b=_0x3868d6['colorArray'+'Ops']['length'];for(let _0x8f1942=-0x1*-0x395+0x212*0x11+0x9*-0x44f;_0x8f1942<_0xe63f1b;_0x8f1942++)_0x3868d6['colorArray'+'Ops'][_0x8f1942]['mipmaps']=!(0x16f*-0x1+-0x10a0+0x908*0x2);}_0x14b7a4=_0x51f3fc['colorBuffe'+'r'],_0x3868d6=_0x39542c;}else _0x39542c['requiresCu'+'bemaps']&&(_0x14b7a4=null,_0x3868d6=null);}_0x1bae50['clear']();}['render'](_0x117bb7){this['compile']();const _0x437d05=this['renderPass'+'es'];for(let _0x34fbb4=-0x2623+0x37*0x29+0x1d54;_0x34fbb4<_0x437d05['length'];_0x34fbb4++)_0x437d05[_0x34fbb4]['render']();}}class IC{constructor(_0x11a1ee,_0x2cc461){this['texture0']=_0x11a1ee,this['texture1']=_0x2cc461;}['destroy'](){var _0x17e76e,_0x1fc6a0;(_0x17e76e=this['texture0'])==null||_0x17e76e['destroy'](),(_0x1fc6a0=this['texture1'])==null||_0x1fc6a0['destroy']();}}const Eg=new Kt();class ia{static['createText'+'ure'](_0x2f2f66,_0x19e3e2,_0x3c1bff,_0x149601=''){return new _e(_0x2f2f66,{'name':'AreaLightL'+'UT'+_0x149601,'width':_0x3c1bff,'height':_0x3c1bff,'format':_0x19e3e2,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':vt,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(0x3aa+-0xa2*0x12+0x7bb)});}static['applyTextu'+'res'](_0x57f5af,_0x5dddcb,_0x4c4e2f){Eg['remove'](_0x57f5af),Eg['get'](_0x57f5af,()=>new IC(_0x5dddcb,_0x5dddcb===_0x4c4e2f?null:_0x4c4e2f)),_0x57f5af['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x5dddcb),_0x57f5af['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x4c4e2f);}static['createPlac'+'eholder'](_0x31b367){const _0x459c5d=ia['createText'+'ure'](_0x31b367,nt,0x12d2*-0x1+0x457*0x2+0xa26,'placeholde'+'r');_0x459c5d['lock']()['fill'](0x1826+-0x10d*-0xd+-0x25cf),_0x459c5d['unlock'](),ia['applyTextu'+'res'](_0x31b367,_0x459c5d,_0x459c5d);}static['set'](_0xca2798,_0x3d3985,_0x188a37){function _0x4e92f5(_0x50a896,_0x5755c0,_0x105ada){const _0x3b0a54=ia['createText'+'ure'](_0x50a896,_0x105ada,0x1*-0xc7f+-0x1*-0xf7+0xbc8);return _0x3b0a54['lock']()['set'](_0x5755c0),_0x3b0a54['unlock'](),_0x3b0a54;}function _0x403b69(_0x59b6af){const _0x3ee862=_0x59b6af['length'],_0x158681=new Uint16Array(_0x3ee862),_0x10648e=Mn['float2Half'];for(let _0x3e47b3=0x1*0x241+-0x1114+0x2f7*0x5;_0x3e47b3<_0x3ee862;_0x3e47b3++)_0x158681[_0x3e47b3]=_0x10648e(_0x59b6af[_0x3e47b3]);return _0x158681;}const _0x278147=_0x3d3985,_0x12098f=_0x188a37,_0x3e8d5b=_0x403b69(_0x278147),_0x3abe1c=_0x403b69(_0x12098f),_0x4fa1e9=_0x4e92f5(_0xca2798,_0x3e8d5b,nt),_0x3314c2=_0x4e92f5(_0xca2798,_0x3abe1c,nt);ia['applyTextu'+'res'](_0xca2798,_0x4fa1e9,_0x3314c2);}}const Ph='en-US',Mh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},Sm={};function Dr(_0x59afc7,_0x1bf5a6){for(let _0x3916b3=0x29*0x7f+0x1ece+-0x3325,_0x18fc0c=_0x59afc7['length'];_0x3916b3<_0x18fc0c;_0x3916b3++)Sm[_0x59afc7[_0x3916b3]]=_0x1bf5a6;}function Oi(_0xd20d63){const _0xcbec0c=_0xd20d63['indexOf']('-');return _0xcbec0c!==-(0x1863+0x1*-0x1663+-0x1ff)?_0xd20d63['substring'](0x1*-0x11dd+0x23*0x115+-0x1402,_0xcbec0c):_0xd20d63;}function LC(_0x204751,_0x50daa9){const _0x1b94e3=_0x204751['indexOf']('-');return _0x1b94e3!==-(0xdda+-0x4e*0x2+-0xd3d)?_0x50daa9+_0x204751['substring'](_0x1b94e3):_0x50daa9;}function Fv(_0x20f86a,_0x4c586a){if(_0x4c586a[_0x20f86a])return _0x20f86a;let _0x483788=Mh[_0x20f86a];if(_0x483788&&_0x4c586a[_0x483788])return _0x483788;const _0x266583=Oi(_0x20f86a);return _0x483788=Mh[_0x266583],_0x4c586a[_0x483788]?_0x483788:_0x4c586a[_0x266583]?_0x266583:Ph;}Dr(['ja','ko','th','vi','zh','id'],_0xf4e626=>-0xfc1+0x240*-0x4+0x18c1),Dr(['fa','hi'],_0x2bbc17=>_0x2bbc17>=-0x1*0x35+-0x24fc+-0x1*-0x2531&&_0x2bbc17<=0x1854+0x2b*-0xc6+0x8ef?0x4*0x8e2+-0x2519*-0x1+0x1*-0x48a1:-0x1*-0x210e+0xde6*0x1+-0x2ef3*0x1),Dr(['fr','pt'],_0x470444=>_0x470444>=0xaa4+0x1f01+-0x29a5&&_0x470444<-0x659*-0x5+-0x797*-0x5+0x173a*-0x3?0x8b*-0x13+-0xa8f+0x20*0xa7:0x109c+0x1c2d*0x1+0x1664*-0x2),Dr(['da'],_0x401524=>_0x401524===0x614*-0x6+0x3e8*0x6+-0x2f*-0x47||!Number['isInteger'](_0x401524)&&_0x401524>=-0x266b+-0xb65+-0x4*-0xc74&&_0x401524<=0x132d+0x25fc+-0x8*0x725?-0x27*-0x6b+-0x4*-0x81+-0x9*0x209:-0x1*0x10f3+-0x3*0x3a6+0x1be6),Dr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x50a5c5=>_0x50a5c5===0x2090+-0x4d6*0x6+-0x38b*0x1?-0x2097+0x567+0x1b30:-0x5*-0x247+-0x126e+-0x4*-0x1c3),Dr(['ru','uk'],_0x39322d=>{if(Number['isInteger'](_0x39322d)){const _0x557914=_0x39322d%(-0x530+0xc83*0x2+-0x13cc),_0x55843c=_0x39322d%(-0x50c*0x6+-0x107*-0x21+-0x33b);if(_0x557914===-0x8c0*-0x4+0x1f*-0x5+-0x2264&&_0x55843c!==0xfb8+0x22d6+-0x3283)return-0x1626+0x2655+0x565*-0x3;if(_0x557914>=0x445+-0x1650+-0x1*-0x120d&&_0x557914<=-0x18bf+-0xb40+0x15*0x1b7&&(_0x55843c<0x415+0x1*0x1245+-0x164e||_0x55843c>0x3f*-0x2b+-0x1b1f+0x3*0xc96))return-0x19f8+-0xc83*0x2+0x32ff*0x1;if(_0x557914===-0x1330+-0x142c+-0x4*-0x9d7||_0x557914>=-0x11be+-0x1e07*-0x1+-0x5*0x274&&_0x557914<=-0xe4c+0xdda+0x7b||_0x55843c>=-0x89*0x5+0x1ca6+-0x19ee&&_0x55843c<=0x1f9d+-0x5cb*-0x5+0x1e43*-0x2)return-0x1110+0x4*0x56d+-0x1*0x4a2;}return 0xc53+0x234b+-0x2f9b;}),Dr(['pl'],_0x4501ab=>{if(Number['isInteger'](_0x4501ab)){if(_0x4501ab===-0x3f*0x69+0x1c63+-0x28b*0x1)return-0xe69*0x1+0x4db+0x98e;const _0x57ce3a=_0x4501ab%(-0x1*0x907+-0x1677+0x3f1*0x8),_0x4762ed=_0x4501ab%(0x32b*0x7+-0x17*-0xe9+-0x2*0x155c);if(_0x57ce3a>=0x2337+-0x13c+-0x21f9&&_0x57ce3a<=0x1f1+-0x1*-0x13bc+0x5*-0x455&&(_0x4762ed<-0x1*-0x1555+0xb2f+-0x2078||_0x4762ed>0x1921*-0x1+-0x524+-0x1e53*-0x1))return 0x1*-0x18e9+-0xf5*-0x3+0x160b;if(_0x57ce3a>=-0x29*0x12+0x11*-0x1bf+0x2091&&_0x57ce3a<=0x353*0x3+-0x1*0x1945+0xf4d||_0x57ce3a>=-0x1816+-0x562+0x1d7d&&_0x57ce3a<=-0x1a7*-0x7+0x8f*0x2d+-0x7*0x53d||_0x4762ed>=-0x1*-0x1bd2+0x1a8+-0xeb7*0x2&&_0x4762ed<=0x12df+-0x1d91+0xac0)return-0xd*-0x2ef+-0xba6+-0x1a7b;}return 0x1092+0x1*-0xc1b+-0x474;}),Dr(['ar'],_0x55e9ab=>{if(_0x55e9ab===0x3*0x25d+-0x4e2+-0x235)return-0x1c8a+0x1206+-0x1*-0xa84;if(_0x55e9ab===0x453*-0x9+0x25f*-0x3+0x2e09)return 0x25d+0x209b+-0x22f7;if(_0x55e9ab===0x185e*-0x1+-0x1b7*0x2+0x1bce)return-0x2b7*-0x1+-0x8bd+0x608;if(Number['isInteger'](_0x55e9ab)){const _0x16c011=_0x55e9ab%(-0x10a5+0x92a+-0x193*-0x5);if(_0x16c011>=0x4c*-0x81+-0x805*-0x1+0x1e4a&&_0x16c011<=0x232e+-0x18aa*-0x1+-0x3bce)return 0x978+0x31d*0x1+-0xc92;if(_0x16c011>=-0x15e8*0x1+0xa75+0x1*0xb7e&&_0x16c011<=-0x1*-0xba7+-0x2378+0x1834)return-0x3ed+0x3*-0xc9+0x64c;}return 0x27e+-0x1*0x361+0x8*0x1d;});const RC=Sm[Oi(Ph)];function Tf(_0xab0b04){return Sm[_0xab0b04]||RC;}const jn=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class OC{constructor(_0x200c1d='',_0x147d84='',_0x452d5b=null,_0x2f3fc6=null,_0x290376=null,_0x5e3b3f=null){this['url']=_0x200c1d,this['filename']=_0x147d84,this['hash']=_0x452d5b,this['size']=_0x2f3fc6,this['opt']=_0x290376,this['contents']=_0x5e3b3f;}['equals'](_0x5ccd5c){return this['url']===_0x5ccd5c['url']&&this['filename']===_0x5ccd5c['filename']&&this['hash']===_0x5ccd5c['hash']&&this['size']===_0x5ccd5c['size']&&this['opt']===_0x5ccd5c['opt']&&this['contents']===_0x5ccd5c['contents'];}}let FC=-(-0xad2+0x387+0x74c);const NC={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},bg=['pvr','dxt','etc2','etc1','basis'];class pe extends me{constructor(_0x1c2d77,_0x37a5df,_0x58a378,_0xf1c3f2={},_0x3ce889={}){super(),h(this,'_file',null),h(this,'_i18n',{}),h(this,'_preload',!(0x1c6d+-0x17*0x19a+0x1*0x86a)),h(this,'_resources',[]),h(this,'id',FC--),h(this,'loaded',!(-0x2*0x355+-0x1*0x375+-0x18*-0x6c)),h(this,'loading',!(0x1e1f+-0x908+0x1*-0x1516)),h(this,'options',{}),h(this,'registry',null),h(this,'tags',new Oo(this)),h(this,'type'),h(this,'urlObject',null),(this['_name']=_0x1c2d77||'',this['type']=_0x37a5df,this['_data']=_0xf1c3f2||{},this['options']=_0x3ce889||{},_0x58a378&&(this['file']=_0x58a378));}set['name'](_0x4164d2){if(this['_name']===_0x4164d2)return;const _0x49fc6c=this['_name'];this['_name']=_0x4164d2,this['fire']('name',this,this['_name'],_0x49fc6c);}get['name'](){return this['_name'];}set['file'](_0x20b017){var _0x4805fb,_0x4e1b17;if(_0x20b017&&_0x20b017['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(0x316*0x2+-0x3*0x862+0x12fb)){const _0xc0898b=((_0x4e1b17=(_0x4805fb=this['registry'])==null?void(0x43e+-0x313*-0x9+-0x1fe9):_0x4805fb['_loader'])==null?void(-0x1*-0x1656+0x1cc1+0x1c3*-0x1d):_0x4e1b17['_app'])||Ms(),_0x43fd34=_0xc0898b==null?void(0x1f00+0xe99+-0x3*0xf33):_0xc0898b['graphicsDe'+'vice'];if(_0x43fd34)for(let _0x5bc285=-0x11*0x242+0x1*0x34a+0x2318,_0x4b6584=bg['length'];_0x5bc285<_0x4b6584;_0x5bc285++){const _0x2088fb=bg[_0x5bc285];if(_0x20b017['variants'][_0x2088fb]&&_0x43fd34[NC[_0x2088fb]]){_0x20b017=_0x20b017['variants'][_0x2088fb];break;}if(_0xc0898b['enableBund'+'les']){const _0x359836=_0xc0898b['bundles']['listBundle'+'sForAsset'](this);if(_0x359836&&_0x359836['find'](_0x1c48cd=>{var _0x4b59c7;return(_0x4b59c7=_0x1c48cd==null?void(0xb*-0x1cb+0x5*0xcc+0x1*0xfbd):_0x1c48cd['file'])==null?void(-0x1f*0x5f+0x215+0xc*0xc9):_0x4b59c7['variants'][_0x2088fb];}))break;}}}const _0x587504=this['_file'],_0x20870d=_0x20b017?new OC(_0x20b017['url'],_0x20b017['filename'],_0x20b017['hash'],_0x20b017['size'],_0x20b017['opt'],_0x20b017['contents']):null;(!!_0x20870d!=!!_0x587504||_0x20870d&&!_0x20870d['equals'](_0x587504))&&(this['_file']=_0x20870d,this['fire']('change',this,'file',_0x20870d,_0x587504),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x52afef){const _0x22cd34=this['_data'];this['_data']=_0x52afef,_0x52afef!==_0x22cd34&&(this['fire']('change',this,'data',_0x52afef,_0x22cd34),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x334bc4){const _0x5e3b62=this['_resources'][-0x1022+0x17a*-0x9+0x1d6c];this['_resources'][-0x1*-0x25ea+-0x1*-0x187f+-0x3e69]=_0x334bc4,this['fire']('change',this,'resource',_0x334bc4,_0x5e3b62);}get['resource'](){return this['_resources'][0xac9+-0x1046+0x119*0x5];}set['resources'](_0x1f4cd7){const _0x11fb5b=this['_resources'];this['_resources']=_0x1f4cd7,this['fire']('change',this,'resources',_0x1f4cd7,_0x11fb5b);}get['resources'](){return this['_resources'];}set['preload'](_0x1b497f){_0x1b497f=!!_0x1b497f,this['_preload']!==_0x1b497f&&(this['_preload']=_0x1b497f,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0xcd7beb){_0xcd7beb=!!_0xcd7beb,(!this['hasOwnProp'+'erty']('_loadFaces')||_0xcd7beb!==this['_loadFaces'])&&(this['_loadFaces']=_0xcd7beb,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x3bdcb6=this['file'];if(!_0x3bdcb6||!_0x3bdcb6['url'])return null;let _0x557c25=_0x3bdcb6['url'];if(this['registry']&&this['registry']['prefix']&&!jn['test'](_0x557c25)&&(_0x557c25=this['registry']['prefix']+_0x557c25),this['type']!=='script'&&_0x3bdcb6['hash']){const _0x3119e2=_0x557c25['indexOf']('?')!==-(0x10b5*-0x1+0x8ab+-0x80b*-0x1)?'&':'?';_0x557c25+=_0x3119e2+'t='+_0x3bdcb6['hash'];}return _0x557c25;}['getAbsolut'+'eUrl'](_0x44fb61){if(_0x44fb61['startsWith']('blob:')||_0x44fb61['startsWith']('data:'))return _0x44fb61;const _0x48ad31=xe['getDirecto'+'ry'](this['file']['url']);return xe['join'](_0x48ad31,_0x44fb61);}['getLocaliz'+'edAssetId'](_0x227022){return _0x227022=Fv(_0x227022,this['_i18n']),this['_i18n'][_0x227022]||null;}['addLocaliz'+'edAssetId'](_0x2dcb71,_0x41d32d){this['_i18n'][_0x2dcb71]=_0x41d32d,this['fire']('add:locali'+'zed',_0x2dcb71,_0x41d32d);}['removeLoca'+'lizedAsset'+'Id'](_0x3ce040){const _0x2ccfd1=this['_i18n'][_0x3ce040];_0x2ccfd1&&(delete this['_i18n'][_0x3ce040],this['fire']('remove:loc'+'alized',_0x3ce040,_0x2ccfd1));}['ready'](_0x2e0e29,_0x511124){_0x511124=_0x511124||this,this['loaded']?_0x2e0e29['call'](_0x511124,this):this['once']('load',_0x109eab=>{_0x2e0e29['call'](_0x511124,_0x109eab);});}['reload'](){this['loaded']&&(this['loaded']=!(0x1d03+-0x3*0x5c2+-0xbbc),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===-0x1ece+-0xe2a+0x2*0x167c)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x57a61b=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(-0x1*0x52a+0x1c8*0x5+-0x13f*0x3),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x3558c7=0xb8*-0x2f+0xe59+0x5*0x3e3;_0x3558c7<_0x57a61b['length'];++_0x3558c7){const _0x38b3c9=_0x57a61b[_0x3558c7];_0x38b3c9&&_0x38b3c9['destroy']&&_0x38b3c9['destroy']();}}static['fetchArray'+'Buffer'](_0x18e406,_0x41ddc3,_0x256728,_0x1acf03=-0x1*-0xbed+0xcfd+-0x18ea){var _0x4bdbbe;(_0x4bdbbe=_0x256728==null?void(-0x1cfd+0x24d9*0x1+-0x7dc):_0x256728['file'])!=null&&_0x4bdbbe['contents']?setTimeout(()=>{_0x41ddc3(null,_0x256728['file']['contents']);}):ot['get'](_0x18e406,{'cache':!(0xc4+0x1*-0x1071+0xfad),'responseType':'arraybuffe'+'r','retry':_0x1acf03>0xd36+-0x119a+-0x4*-0x119,'maxRetries':_0x1acf03},_0x41ddc3);}}h(pe,'EVENT_LOAD','load'),h(pe,'EVENT_UNLO'+'AD','unload'),h(pe,'EVENT_REMO'+'VE','remove'),h(pe,'EVENT_ERRO'+'R','error'),h(pe,'EVENT_CHAN'+'GE','change'),h(pe,'EVENT_PROG'+'RESS','progress'),h(pe,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),h(pe,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class kC{constructor(_0x174496=null){h(this,'_index',{}),h(this,'_key'),this['_key']=_0x174496;}['addItem'](_0x5cba75){const _0x48e5d7=_0x5cba75['tags']['_list'];for(const _0x1c561f of _0x48e5d7)this['add'](_0x1c561f,_0x5cba75);}['removeItem'](_0x26e47e){const _0x21868c=_0x26e47e['tags']['_list'];for(const _0x452506 of _0x21868c)this['remove'](_0x452506,_0x26e47e);}['add'](_0xd4e89c,_0x44cf13){this['_index'][_0xd4e89c]&&this['_index'][_0xd4e89c]['list']['indexOf'](_0x44cf13)!==-(0x6a*-0x3b+-0x1*-0x6df+0x464*0x4)||(this['_index'][_0xd4e89c]||(this['_index'][_0xd4e89c]={'list':[]},this['_key']&&(this['_index'][_0xd4e89c]['keys']={})),this['_index'][_0xd4e89c]['list']['push'](_0x44cf13),this['_key']&&(this['_index'][_0xd4e89c]['keys'][_0x44cf13[this['_key']]]=_0x44cf13));}['remove'](_0x5af540,_0xdaa28b){if(!this['_index'][_0x5af540]||this['_key']&&!this['_index'][_0x5af540]['keys'][_0xdaa28b[this['_key']]])return;const _0x4fa656=this['_index'][_0x5af540]['list']['indexOf'](_0xdaa28b);_0x4fa656!==-(-0x332*-0x5+-0xa*0x2f3+0xd85)&&(this['_index'][_0x5af540]['list']['splice'](_0x4fa656,-0x438*0x4+0x6*-0x4a4+0x2cb9),this['_key']&&delete this['_index'][_0x5af540]['keys'][_0xdaa28b[this['_key']]],this['_index'][_0x5af540]['list']['length']===-0xf3d+-0x239b+-0x2*-0x196c&&delete this['_index'][_0x5af540]);}['find'](_0x88f47d){const _0x53bbd8={},_0x26a43f=[];let _0x3b6d83,_0x4a1369,_0x4bc557,_0x502dbf,_0xfa5d81;const _0x296449=(_0x154f61,_0x5dd7af)=>this['_index'][_0x154f61]['list']['length']-this['_index'][_0x5dd7af]['list']['length'];for(let _0x25fef4=0x3bc+0x214+-0x6*0xf8;_0x25fef4<_0x88f47d['length'];_0x25fef4++){if(_0x4a1369=_0x88f47d[_0x25fef4],_0x4a1369 instanceof Array){if(_0x4a1369['length']===0x1*0x2605+-0x242*0x11+0x5d)continue;if(_0x4a1369['length']===0x1342+-0x1185+-0x6*0x4a)_0x4a1369=_0x4a1369[-0x24e2+0x1084+-0x4f*-0x42];else{_0xfa5d81=!(0x6*-0x1e8+0x18b5+-0xd44);for(let _0x19dad4=0xc*-0x60+0x2685+-0xb57*0x3;_0x19dad4<_0x4a1369['length'];_0x19dad4++)if(!this['_index'][_0x4a1369[_0x19dad4]]){_0xfa5d81=!(0x1c9c*0x1+0x1335*0x1+-0x2fd1);break;}if(_0xfa5d81)continue;_0x4bc557=_0x4a1369['slice'](-0x2357+0xe16+0x1541)['sort'](_0x296449),_0x502dbf=_0x4bc557['slice'](-0x556*-0x1+-0xe91+-0x18a*-0x6),_0x502dbf['length']===-0x4f3*-0x2+0x1f1e+-0x2903*0x1&&(_0x502dbf=_0x502dbf[0x439+-0x10e*-0x8+-0x1*0xca9]);for(let _0x5da3c2=-0x1ed5+-0x3cb*-0x1+-0xd85*-0x2;_0x5da3c2<this['_index'][_0x4bc557[0x1*0x1de3+-0x7*0x119+-0x3a*0x62]]['list']['length'];_0x5da3c2++)_0x3b6d83=this['_index'][_0x4bc557[0x2513+-0xaca+-0x1a49]]['list'][_0x5da3c2],(this['_key']?!_0x53bbd8[_0x3b6d83[this['_key']]]:_0x26a43f['indexOf'](_0x3b6d83)===-(-0xa6d+0x1*-0x268f+-0x30fd*-0x1))&&_0x3b6d83['tags']['has'](_0x502dbf)&&(this['_key']&&(_0x53bbd8[_0x3b6d83[this['_key']]]=!(-0x3*-0x51b+-0x14f5+-0x1*-0x5a4)),_0x26a43f['push'](_0x3b6d83));continue;}}if(_0x4a1369&&typeof _0x4a1369=='string'&&this['_index'][_0x4a1369]){for(let _0x9f0c72=-0xb3*0x35+0x121*-0x3+0x2872;_0x9f0c72<this['_index'][_0x4a1369]['list']['length'];_0x9f0c72++)_0x3b6d83=this['_index'][_0x4a1369]['list'][_0x9f0c72],this['_key']?_0x53bbd8[_0x3b6d83[this['_key']]]||(_0x53bbd8[_0x3b6d83[this['_key']]]=!(0x221a+-0x1b43*-0x1+-0x2ab*0x17),_0x26a43f['push'](_0x3b6d83)):_0x26a43f['indexOf'](_0x3b6d83)===-(-0x16bd+0xc29*0x3+-0xdbd*0x1)&&_0x26a43f['push'](_0x3b6d83);}}return _0x26a43f;}}class mn extends me{constructor(_0x156455){super(),h(this,'_assets',new Set()),h(this,'_loader'),h(this,'_idToAsset',new Map()),h(this,'_urlToAsse'+'t',new Map()),h(this,'_nameToAss'+'et',new Map()),h(this,'_tags',new kC('id')),h(this,'prefix',null),h(this,'bundles',null),this['_loader']=_0x156455;}['list'](_0x5a285c={}){const _0x16e3f2=Array['from'](this['_assets']);return _0x5a285c['preload']!==void(-0x7b9*-0x1+-0x10ed*-0x2+0x2993*-0x1)?_0x16e3f2['filter'](_0x2f0a38=>_0x2f0a38['preload']===_0x5a285c['preload']):_0x16e3f2;}['add'](_0x12b10e){var _0x5a2c36,_0xc2d543;this['_assets']['has'](_0x12b10e)||(this['_assets']['add'](_0x12b10e),this['_idToAsset']['set'](_0x12b10e['id'],_0x12b10e),(_0x5a2c36=_0x12b10e['file'])!=null&&_0x5a2c36['url']&&this['_urlToAsse'+'t']['set'](_0x12b10e['file']['url'],_0x12b10e),this['_nameToAss'+'et']['has'](_0x12b10e['name'])||this['_nameToAss'+'et']['set'](_0x12b10e['name'],new Set()),this['_nameToAss'+'et']['get'](_0x12b10e['name'])['add'](_0x12b10e),_0x12b10e['on']('name',this['_onNameCha'+'nge'],this),_0x12b10e['registry']=this,this['_tags']['addItem'](_0x12b10e),_0x12b10e['tags']['on']('add',this['_onTagAdd'],this),_0x12b10e['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x12b10e),this['fire']('add:'+_0x12b10e['id'],_0x12b10e),(_0xc2d543=_0x12b10e['file'])!=null&&_0xc2d543['url']&&this['fire']('add:url:'+_0x12b10e['file']['url'],_0x12b10e),_0x12b10e['preload']&&this['load'](_0x12b10e));}['remove'](_0x180a1b){var _0x2cae3a,_0xedf516;if(!this['_assets']['has'](_0x180a1b))return!(-0x49+0x16f*-0xb+-0x1*-0x100f);if(this['_assets']['delete'](_0x180a1b),this['_idToAsset']['delete'](_0x180a1b['id']),(_0x2cae3a=_0x180a1b['file'])!=null&&_0x2cae3a['url']&&this['_urlToAsse'+'t']['delete'](_0x180a1b['file']['url']),_0x180a1b['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x180a1b['name'])){const _0x4c251c=this['_nameToAss'+'et']['get'](_0x180a1b['name']);_0x4c251c['delete'](_0x180a1b),_0x4c251c['size']===0x41e+0x31*0x62+-0x16e0&&this['_nameToAss'+'et']['delete'](_0x180a1b['name']);}return this['_tags']['removeItem'](_0x180a1b),_0x180a1b['tags']['off']('add',this['_onTagAdd'],this),_0x180a1b['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x180a1b['fire']('remove',_0x180a1b),this['fire']('remove',_0x180a1b),this['fire']('remove:'+_0x180a1b['id'],_0x180a1b),(_0xedf516=_0x180a1b['file'])!=null&&_0xedf516['url']&&this['fire']('remove:url'+':'+_0x180a1b['file']['url'],_0x180a1b),!(0x1dcc+-0x1131+-0xc9b);}['get'](_0x2e7d25){return this['_idToAsset']['get'](Number(_0x2e7d25));}['getByUrl'](_0xfbe91f){return this['_urlToAsse'+'t']['get'](_0xfbe91f);}['load'](_0x1e1ab1,_0x3eb23d){if((_0x1e1ab1['loading']||_0x1e1ab1['loaded'])&&!(_0x3eb23d!=null&&_0x3eb23d['force']))return;const _0x5e67dc=_0x1e1ab1['file'],_0x55f87e=()=>{this['fire']('load',_0x1e1ab1),this['fire']('load:'+_0x1e1ab1['id'],_0x1e1ab1),_0x5e67dc&&_0x5e67dc['url']&&this['fire']('load:url:'+_0x5e67dc['url'],_0x1e1ab1),_0x1e1ab1['fire']('load',_0x1e1ab1);},_0x172fbc=_0x250874=>{if(_0x250874 instanceof Array?_0x1e1ab1['resources']=_0x250874:_0x1e1ab1['resource']=_0x250874,this['_loader']['patch'](_0x1e1ab1,this),_0x1e1ab1['type']==='bundle'){const _0x5f76b8=_0x1e1ab1['data']['assets'];for(let _0x10ef09=0x7*-0x148+0x2*0xde5+0x1b6*-0xb;_0x10ef09<_0x5f76b8['length'];_0x10ef09++){const _0x5dc1ff=this['_idToAsset']['get'](_0x5f76b8[_0x10ef09]);_0x5dc1ff&&!_0x5dc1ff['loaded']&&this['load'](_0x5dc1ff,{'force':!(-0x1*-0x181e+0x1b7c+0x1*-0x339a)});}_0x1e1ab1['resource']['loaded']?_0x55f87e():(this['fire']('load:start',_0x1e1ab1),this['fire']('load:start'+':'+_0x1e1ab1['id'],_0x1e1ab1),_0x5e67dc&&_0x5e67dc['url']&&this['fire']('load:start'+':url:'+_0x5e67dc['url'],_0x1e1ab1),_0x1e1ab1['fire']('load:start',_0x1e1ab1),_0x1e1ab1['resource']['on']('load',_0x55f87e));}else _0x55f87e();},_0x64a11e=(_0x22e9ec,_0x31811e,_0x599460)=>{if(_0x1e1ab1['loaded']=!(-0xc8f+0x1*-0x1391+0x1010*0x2),_0x1e1ab1['loading']=!(0x7*-0x44d+0x1d8e+0x47*0x2),_0x22e9ec)this['fire']('error',_0x22e9ec,_0x1e1ab1),this['fire']('error:'+_0x1e1ab1['id'],_0x22e9ec,_0x1e1ab1),_0x1e1ab1['fire']('error',_0x22e9ec,_0x1e1ab1);else{if(_0x1e1ab1['type']==='script'){const _0x15d974=this['_loader']['getHandler']('script');_0x15d974['_cache'][_0x1e1ab1['id']]&&_0x15d974['_cache'][_0x1e1ab1['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x15d974['_cache'][_0x1e1ab1['id']]),_0x15d974['_cache'][_0x1e1ab1['id']]=_0x599460;}_0x172fbc(_0x31811e);}};if(_0x5e67dc||_0x1e1ab1['type']==='cubemap'){this['fire']('load:start',_0x1e1ab1),this['fire']('load:'+_0x1e1ab1['id']+':start',_0x1e1ab1),_0x1e1ab1['loading']=!(0xe16+-0x899*-0x4+-0x307a);const _0x415767=_0x1e1ab1['getFileUrl']();if(_0x1e1ab1['type']==='bundle'){const _0x3b7364=_0x1e1ab1['data']['assets'];for(let _0x287861=0xd8+-0xf73+-0x1*-0xe9b;_0x287861<_0x3b7364['length'];_0x287861++){const _0x6ec93c=this['_idToAsset']['get'](_0x3b7364[_0x287861]);_0x6ec93c&&(_0x6ec93c['loaded']||_0x6ec93c['resource']||_0x6ec93c['loading']||(_0x6ec93c['loading']=!(0x16ee*-0x1+0x114*0x5+0x118a)));}}this['_loader']['load'](_0x415767,_0x1e1ab1['type'],_0x64a11e,_0x1e1ab1,_0x3eb23d);}else{const _0x208010=this['_loader']['open'](_0x1e1ab1['type'],_0x1e1ab1['data']);_0x1e1ab1['loaded']=!(-0x5b+0x1e35+-0xeed*0x2),_0x172fbc(_0x208010);}}['reloadInde'+'x'](_0x430152,_0x2152e1,_0x59c973){const _0x4f4bbe=(_0x2fe8f9,_0x22354c,_0x24b112)=>{_0x2152e1['loaded']=!(0x1b41+-0x1f10+0x3cf),_0x2152e1['loading']=!(0x637*-0x5+-0xa60+0x5ec*0x7);};return this['_loader']['load'](_0x430152,_0x2152e1['type'],_0x4f4bbe,_0x2152e1,_0x59c973),_0x2152e1;}['loadFromUr'+'l'](_0x156980,_0x126baf,_0x3c2759){this['loadFromUr'+'lAndFilena'+'me'](_0x156980,null,_0x126baf,_0x3c2759);}['loadFromUr'+'lAndFilena'+'me'](_0x1a2009,_0x446b60,_0x249362,_0x3587a2){const _0x557e9c=xe['getBasenam'+'e'](_0x446b60||_0x1a2009),_0x3a7976={'filename':_0x446b60||_0x557e9c,'url':_0x1a2009};let _0x59a4b8=this['getByUrl'](_0x1a2009);if(!_0x59a4b8)_0x59a4b8=new pe(_0x557e9c,_0x249362,_0x3a7976),this['add'](_0x59a4b8);else{if(_0x59a4b8['loaded']){_0x3587a2(_0x59a4b8['loadFromUr'+'lError']||null,_0x59a4b8);return;}}const _0x5d5bcc=_0x100dd5=>{_0x100dd5['once']('load',_0x1f9865=>{_0x249362==='material'?this['_loadTextu'+'res'](_0x1f9865,(_0x449e27,_0xfda9c8)=>{_0x3587a2(_0x449e27,_0x1f9865);}):_0x3587a2(null,_0x1f9865);}),_0x100dd5['once']('error',_0x1a8f8f=>{_0x1a8f8f&&(this['loadFromUr'+'lError']=_0x1a8f8f),_0x3587a2(_0x1a8f8f,_0x100dd5);}),this['load'](_0x100dd5);};_0x59a4b8['resource']?_0x3587a2(null,_0x59a4b8):_0x249362==='model'?this['_loadModel'](_0x59a4b8,_0x5d5bcc):_0x5d5bcc(_0x59a4b8);}['_loadModel'](_0x3cbb21,_0x5063c9){const _0x137ce2=_0x3cbb21['getFileUrl'](),_0x55aa54=xe['getExtensi'+'on'](_0x137ce2);if(_0x55aa54==='.json'||_0x55aa54==='.glb'){const _0x28d4bc=xe['getDirecto'+'ry'](_0x137ce2),_0x5e2503=xe['getBasenam'+'e'](_0x137ce2),_0x3c37ed=xe['join'](_0x28d4bc,_0x5e2503['replace'](_0x55aa54,'.mapping.j'+'son'));this['_loader']['load'](_0x3c37ed,'json',(_0x2d83a4,_0x24d6e2)=>{_0x2d83a4?(_0x3cbb21['data']={'mapping':[]},_0x5063c9(_0x3cbb21)):this['_loadMater'+'ials'](_0x3cbb21,_0x24d6e2,(_0xb2a8c6,_0x16c656)=>{_0x3cbb21['data']=_0x24d6e2,_0x5063c9(_0x3cbb21);});});}else _0x5063c9(_0x3cbb21);}['_loadMater'+'ials'](_0x58a3a8,_0x349886,_0x5c5f0a){const _0x5a4e84=[];let _0x2e56eb=0x41f*0x7+0x2379+-0x4052;const _0x4591ae=(_0xc418c7,_0x3448f3)=>{this['_loadTextu'+'res'](_0x3448f3,(_0x1a5cf0,_0x373727)=>{_0x5a4e84['push'](_0x3448f3),_0x5a4e84['length']===_0x2e56eb&&_0x5c5f0a(null,_0x5a4e84);});};for(let _0x5cb208=-0x84f*-0x4+-0xf80+-0xe3*0x14;_0x5cb208<_0x349886['mapping']['length'];_0x5cb208++){const _0x1b2522=_0x349886['mapping'][_0x5cb208]['path'];if(_0x1b2522){_0x2e56eb++;const _0xac16c7=_0x58a3a8['getAbsolut'+'eUrl'](_0x1b2522);this['loadFromUr'+'l'](_0xac16c7,'material',_0x4591ae);}}_0x2e56eb===0x1c2+0x3ac+-0x56e&&_0x5c5f0a(null,_0x5a4e84);}['_loadTextu'+'res'](_0x1d7c5d,_0x4aee54){const _0x5bf467=[];let _0x16adda=0x134+0xd3*0x5+-0x553;const _0x191f5c=_0x1d7c5d['data'];if(_0x191f5c['mappingFor'+'mat']!=='path'){w['warn']('Skipping:\x20'+_0x1d7c5d['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x4aee54(null,_0x5bf467);return;}const _0x282ce4=(_0x5101cb,_0x4d9338)=>{_0x5101cb&&console['error'](_0x5101cb),_0x5bf467['push'](_0x4d9338),_0x5bf467['length']===_0x16adda&&_0x4aee54(null,_0x5bf467);},_0x5f2cce=Cd;for(let _0x154773=0x11f6+0x25d0+0x79*-0x76;_0x154773<_0x5f2cce['length'];_0x154773++){const _0x11f86c=_0x191f5c[_0x5f2cce[_0x154773]];if(_0x11f86c&&typeof _0x11f86c=='string'){_0x16adda++;const _0x18bbb7=_0x1d7c5d['getAbsolut'+'eUrl'](_0x11f86c);this['loadFromUr'+'l'](_0x18bbb7,'texture',_0x282ce4);}}_0x16adda===-0x21d6+0x22e1*-0x1+0x44b7*0x1&&_0x4aee54(null,_0x5bf467);}['_onTagAdd'](_0x2634b4,_0x3484d5){this['_tags']['add'](_0x2634b4,_0x3484d5);}['_onTagRemo'+'ve'](_0x5e199d,_0x11de2c){this['_tags']['remove'](_0x5e199d,_0x11de2c);}['_onNameCha'+'nge'](_0x461836,_0x11b6ee,_0xa5521b){if(this['_nameToAss'+'et']['has'](_0xa5521b)){const _0x3caa8a=this['_nameToAss'+'et']['get'](_0xa5521b);_0x3caa8a['delete'](_0x461836),_0x3caa8a['size']===0x1a04+-0x2689+0xc85&&this['_nameToAss'+'et']['delete'](_0xa5521b);}this['_nameToAss'+'et']['has'](_0x461836['name'])||this['_nameToAss'+'et']['set'](_0x461836['name'],new Set()),this['_nameToAss'+'et']['get'](_0x461836['name'])['add'](_0x461836);}['findByTag'](..._0x4cad39){return this['_tags']['find'](_0x4cad39);}['filter'](_0x29edfa){return Array['from'](this['_assets'])['filter'](_0x2ca3a8=>_0x29edfa(_0x2ca3a8));}['find'](_0x1bceaa,_0x1b240e){const _0x59dfd7=this['_nameToAss'+'et']['get'](_0x1bceaa);if(!_0x59dfd7)return null;for(const _0x4d77d2 of _0x59dfd7)if(!_0x1b240e||_0x4d77d2['type']===_0x1b240e)return _0x4d77d2;return null;}['findAll'](_0xbf7c6f,_0x22f438){const _0x28381c=this['_nameToAss'+'et']['get'](_0xbf7c6f);if(!_0x28381c)return[];const _0xcb1381=Array['from'](_0x28381c);return _0x22f438?_0xcb1381['filter'](_0x5e4300=>_0x5e4300['type']===_0x22f438):_0xcb1381;}}h(mn,'EVENT_LOAD','load'),h(mn,'EVENT_ADD','add'),h(mn,'EVENT_REMO'+'VE','remove'),h(mn,'EVENT_ERRO'+'R','error');class UC{constructor(_0x2c306f){h(this,'_idToBundl'+'e',new Map()),h(this,'_assetToBu'+'ndles',new Map()),h(this,'_urlsToBun'+'dles',new Map()),h(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0x2c306f,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x5c914d){if(_0x5c914d['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x5c914d['id'],_0x5c914d),this['_assets']['on']('load:start'+':'+_0x5c914d['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x5c914d['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x5c914d['id'],this['_onBundleE'+'rror'],this);const _0x1918c5=_0x5c914d['data']['assets'];for(let _0x3aea92=0x1e13*-0x1+0x169*0x18+-0x3c5;_0x3aea92<_0x1918c5['length'];_0x3aea92++)this['_indexAsse'+'tInBundle'](_0x1918c5[_0x3aea92],_0x5c914d);}else this['_assetToBu'+'ndles']['has'](_0x5c914d['id'])&&this['_indexAsse'+'tFileUrls'](_0x5c914d);}['_unbindAss'+'etEvents'](_0x58f7b1){this['_assets']['off']('load:start'+':'+_0x58f7b1,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x58f7b1,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x58f7b1,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x4b17b1,_0x1c6518){let _0x1ec0db=this['_assetToBu'+'ndles']['get'](_0x4b17b1);_0x1ec0db||(_0x1ec0db=new Set(),this['_assetToBu'+'ndles']['set'](_0x4b17b1,_0x1ec0db)),_0x1ec0db['add'](_0x1c6518);const _0x8dffb2=this['_assets']['get'](_0x4b17b1);_0x8dffb2&&this['_indexAsse'+'tFileUrls'](_0x8dffb2);}['_indexAsse'+'tFileUrls'](_0x4456f6){const _0x32897f=this['_getAssetF'+'ileUrls'](_0x4456f6);if(_0x32897f)for(let _0x5816b5=-0x549+-0x1*-0xcb+0x32*0x17;_0x5816b5<_0x32897f['length'];_0x5816b5++){const _0x41c9ce=this['_assetToBu'+'ndles']['get'](_0x4456f6['id']);_0x41c9ce&&this['_urlsToBun'+'dles']['set'](_0x32897f[_0x5816b5],_0x41c9ce);}}['_getAssetF'+'ileUrls'](_0x11c795){let _0x46f474=_0x11c795['getFileUrl']();if(!_0x46f474)return null;_0x46f474=_0x46f474['split']('?')[0x14ff*0x1+-0x169f*-0x1+-0x1*0x2b9e];const _0x2fb020=[_0x46f474];if(_0x11c795['type']==='font'){const _0x5384c0=_0x11c795['data']['info']['maps']['length'];for(let _0x5c5284=-0x2595+-0x18d3+0x3e69;_0x5c5284<_0x5384c0;_0x5c5284++)_0x2fb020['push'](_0x46f474['replace']('.png',_0x5c5284+'.png'));}return _0x2fb020;}['_onAssetRe'+'move'](_0x2b0142){if(_0x2b0142['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x2b0142['id']),this['_unbindAss'+'etEvents'](_0x2b0142['id']);const _0x77a883=_0x2b0142['data']['assets'];for(let _0x1d9af6=0x16a8+0x4c+-0x16f4;_0x1d9af6<_0x77a883['length'];_0x1d9af6++){const _0x753b4e=this['_assetToBu'+'ndles']['get'](_0x77a883[_0x1d9af6]);if(_0x753b4e&&(_0x753b4e['delete'](_0x2b0142),_0x753b4e['size']===0x23ea+-0x9b0+0x2*-0xd1d)){this['_assetToBu'+'ndles']['delete'](_0x77a883[_0x1d9af6]);for(const [_0x5b191f,_0x55f202]of this['_urlsToBun'+'dles'])_0x55f202===_0x753b4e&&this['_urlsToBun'+'dles']['delete'](_0x5b191f);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x2b0142['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x2b0142['id']))return;this['_assetToBu'+'ndles']['delete'](_0x2b0142['id']);const _0x4d800f=this['_getAssetF'+'ileUrls'](_0x2b0142);if(!_0x4d800f)return;for(let _0x1a42b0=-0xd*0x185+-0x102*-0x1b+0x53*-0x17;_0x1a42b0<_0x4d800f['length'];_0x1a42b0++)this['_urlsToBun'+'dles']['delete'](_0x4d800f[_0x1a42b0]);}}['_onBundleL'+'oadStart'](_0x240118){_0x240118['resource']['on']('add',(_0x10bb82,_0x3c7ede)=>{const _0x1c667c=this['_fileReque'+'sts']['get'](_0x10bb82);if(_0x1c667c){for(let _0x1db013=-0x26b8+-0x16f8+0x54*0xbc;_0x1db013<_0x1c667c['length'];_0x1db013++)_0x1c667c[_0x1db013](null,_0x3c7ede);this['_fileReque'+'sts']['delete'](_0x10bb82);}});}['_onBundleL'+'oad'](_0x2d402e){if(!_0x2d402e['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x2d402e['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0xa72e44,_0x5c1e7b]of this['_fileReque'+'sts']){const _0x20282=this['_urlsToBun'+'dles']['get'](_0xa72e44);if(!_0x20282||!_0x20282['has'](_0x2d402e))continue;const _0x2e17b7=decodeURIComponent(_0xa72e44);let _0xba778f,_0x138729;if(_0x2d402e['resource']['has'](_0x2e17b7))_0x138729=_0x2d402e['resource']['get'](_0x2e17b7);else{if(_0x2d402e['resource']['loaded'])_0xba778f='Bundle\x20'+_0x2d402e['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0xa72e44;else continue;}for(let _0x54dc52=0x1786+-0x1324+0xb*-0x66;_0x54dc52<_0x5c1e7b['length'];_0x54dc52++)_0x5c1e7b[_0x54dc52](_0xba778f,_0xba778f||_0x138729);this['_fileReque'+'sts']['delete'](_0xa72e44);}}['_onBundleE'+'rror'](_0x13debb){for(const [_0x535813,_0x193018]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x535813)){for(let _0x2531b8=-0x8c6*-0x1+0x7b*0x20+-0x119*0x16;_0x2531b8<_0x193018['length'];_0x2531b8++)_0x193018[_0x2531b8](_0x13debb);this['_fileReque'+'sts']['delete'](_0x535813);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x1e03df){const _0x10801d=this['_urlsToBun'+'dles']['get'](_0x1e03df);if(!_0x10801d)return null;let _0x255b22=null;for(const _0x47db10 of _0x10801d){if(_0x47db10['loaded']&&_0x47db10['resource'])return _0x47db10;_0x47db10['loading']&&(_0x255b22=_0x47db10);}return _0x255b22;}['listBundle'+'sForAsset'](_0x5ba6e3){const _0x1c0344=this['_assetToBu'+'ndles']['get'](_0x5ba6e3['id']);return _0x1c0344?Array['from'](_0x1c0344):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x27fdcf){return this['_urlsToBun'+'dles']['has'](_0x27fdcf);}['urlIsLoade'+'dOrLoading'](_0x47bddd){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x47bddd);}['loadUrl'](_0x3fb359,_0x153d7e){const _0x429407=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x3fb359);if(!_0x429407){_0x153d7e('URL\x20'+_0x3fb359+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x429407['loaded']){const _0x542d3e=decodeURIComponent(_0x3fb359);if(_0x429407['resource']['has'](_0x542d3e)){_0x153d7e(null,_0x429407['resource']['get'](_0x542d3e));return;}else{if(_0x429407['resource']['loaded']){_0x153d7e('Bundle\x20'+_0x429407['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x3fb359);return;}}}let _0x5f1290=this['_fileReque'+'sts']['get'](_0x3fb359);_0x5f1290||(_0x5f1290=[],this['_fileReque'+'sts']['set'](_0x3fb359,_0x5f1290)),_0x5f1290['push'](_0x153d7e);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x24654d of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x24654d);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class BC extends me{constructor(){super(),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'joint'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'zone'),this['list']=[];}['add'](_0x4c0963){const _0x1d34fc=_0x4c0963['id'];if(this[_0x1d34fc])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x1d34fc+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x1d34fc]=_0x4c0963,this['list']['push'](_0x4c0963);}['remove'](_0x4bab8e){const _0x70f81c=_0x4bab8e['id'];if(!this[_0x70f81c])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0x70f81c+('\x27\x20register'+'ed'));delete this[_0x70f81c];const _0x503e80=this['list']['indexOf'](this[_0x70f81c]);_0x503e80!==-(0x1*-0x11d7+-0x4e3+-0x16bb*-0x1)&&this['list']['splice'](_0x503e80,-0x1eb1+-0x45c+0x230e);}['destroy'](){this['off']();for(let _0x208374=-0x1*-0x25ab+0x229d+-0x4848;_0x208374<this['list']['length'];_0x208374++)this['list'][_0x208374]['destroy']();}}class gu extends me{constructor(){super(...arguments),h(this,'_index',new Map()),h(this,'_loaded',!(0x2305+-0x8e1+-0x1a23));}['addFile'](_0x15e26a,_0x24fdec){this['_index']['has'](_0x15e26a)||(this['_index']['set'](_0x15e26a,_0x24fdec),this['fire']('add',_0x15e26a,_0x24fdec));}['has'](_0x5023aa){return this['_index']['has'](_0x5023aa);}['get'](_0x2f8757){return this['_index']['get'](_0x2f8757)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x550a4e){!_0x550a4e||this['_loaded']||(this['_loaded']=!(0x26*-0x72+0x775+-0x977*-0x1),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}h(gu,'EVENT_ADD','add'),h(gu,'EVENT_LOAD','load');class zC extends me{constructor(_0x24e2a7,_0x4deaae=''){super(),h(this,'headerSize',0x160b+0x1621+0x2*-0x1516),h(this,'paddingSiz'+'e',-0x187a+-0x3af*-0x4+0xbbe),h(this,'bytesRead',-0x229+-0x2*0xe95+-0xb*-0x2d9),h(this,'bytesRecei'+'ved',0x638+0xc5d*0x3+-0x2b4f),h(this,'headerRead',!(0x167c+0x12a8+-0x2923)),h(this,'reader',null),h(this,'data',new Uint8Array(-0x59*-0x1+0xb*0x157+-0xf16)),h(this,'decoder',null),h(this,'prefix',''),h(this,'fileName',''),h(this,'fileSize',0x27*0x21+0x6a*-0x49+0x1933),h(this,'fileType',''),h(this,'ustarForma'+'t',''),(this['prefix']=_0x4deaae||'',this['reader']=_0x24e2a7['body']['getReader'](),this['reader']['read']()['then'](_0x6353aa=>{this['pump'](_0x6353aa['done'],_0x6353aa['value']);})['catch'](_0x48e019=>{this['fire']('error',_0x48e019);}));}['pump'](_0xfaa169,_0xa9a80c){if(_0xfaa169)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0xa9a80c['byteLength'];const _0x30c490=new Uint8Array(this['data']['length']+_0xa9a80c['length']);for(_0x30c490['set'](this['data']),_0x30c490['set'](_0xa9a80c,this['data']['length']),this['data']=_0x30c490;this['readFile'](););return this['reader']['read']()['then'](_0x14c5d0=>{this['pump'](_0x14c5d0['done'],_0x14c5d0['value']);})['catch'](_0x182eff=>{this['fire']('error',_0x182eff);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(0x4*0x95+0x242*-0xa+0x1440);const _0x1d7c96=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x4e3826=this['decoder']['decode'](_0x1d7c96);if(this['fileName']=_0x4e3826['substring'](-0xaff*0x1+-0x1c26+-0x2725*-0x1,0x1a69+-0x1*0xcc2+-0x2a7*0x5)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x4e3826['substring'](0x1*0x253d+0x373+0x2834*-0x1,0x1a90+-0x1090+0x6*-0x194),0x2244+-0x2429+0x1ed),this['fileType']=_0x4e3826['substring'](0x1a5e+0x1a5e+-0x3420,-0xccf*0x2+0x12ff+0x73c),this['ustarForma'+'t']=_0x4e3826['substring'](-0x1a*-0x122+0x1*-0x1e79+0x4a*0x7,0x6*-0x581+-0x1feb+0x41f8),this['ustarForma'+'t']['indexOf']('ustar')!==-(0x120b+-0x2*-0x633+-0x1e70)){const _0x1448b8=_0x4e3826['substring'](-0x229f+-0x3*-0xceb+-0x2c9,0x162d+-0xbe*0x31+0x1025*0x1)['replace'](/\0/g,'');_0x1448b8['length']>0x1*0x1b9f+-0x3b3*0x9+0x1e4*0x3&&(this['fileName']=_0x1448b8['trim']()+this['fileName']['trim']());}this['bytesRead']+=-0x2*-0xeeb+0x6*-0x608+0x85a;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0xb29+0x240d+-0x2f35);if(this['fileType']===''||this['fileType']==='0'){const _0x215e66=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x59c173={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0x215e66};this['fire']('file',_0x59c173);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(-0xc41*0x1+0x2034+-0x3*0x6a6);const _0x23c9f8=this['bytesRead']%this['paddingSiz'+'e'];return _0x23c9f8!==0x2*-0x9c8+0x2*-0x951+0x2632&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x23c9f8),!(-0x1c*0x2f+0x26+-0x47*-0x12);}return!(0xb*-0x1c9+0x95*-0x11+-0x1*-0x1d89);}}class Qe{constructor(_0x347cc6,_0xaacd14){h(this,'handlerTyp'+'e',''),h(this,'_app'),h(this,'_maxRetrie'+'s',0x149d*0x1+-0x1faf*0x1+0xb12),(this['_app']=_0x347cc6,this['handlerTyp'+'e']=_0xaacd14);}set['maxRetries'](_0x33f6f1){this['_maxRetrie'+'s']=_0x33f6f1;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x117527,_0x5d6c32,_0x9d7073){}['open'](_0x18c128,_0x579e41,_0x55eab6){return _0x579e41;}['patch'](_0xed964c,_0x3adb85){}}class VC extends Qe{constructor(_0x2706b7){super(_0x2706b7,'bundle'),this['_assets']=_0x2706b7['assets'];}['_fetchRetr'+'ies'](_0x40e994,_0x4594e1,_0x3a1178=-0x2b*0xb+-0x22e2+-0x24bb*-0x1){return new Promise((_0x457a60,_0x273ecb)=>{const _0x38cd15=()=>{fetch(_0x40e994,_0x4594e1)['then'](_0x457a60)['catch'](_0x5043ce=>{_0x3a1178++,_0x3a1178<this['maxRetries']?(w['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x3a1178),_0x38cd15()):_0x273ecb(_0x5043ce);});};_0x38cd15();});}['load'](_0x5c701f,_0x1553b8){typeof _0x5c701f=='string'&&(_0x5c701f={'load':_0x5c701f,'original':_0x5c701f}),this['_fetchRetr'+'ies'](_0x5c701f['load'],{'mode':'cors'},this['maxRetries'])['then'](_0x569645=>{const _0x7e7f04=new gu();_0x1553b8(null,_0x7e7f04);const _0x58c68a=new zC(_0x569645,this['_assets']['prefix']);_0x58c68a['on']('file',_0x4ce678=>{_0x7e7f04['addFile'](_0x4ce678['name'],_0x4ce678['data']);}),_0x58c68a['on']('done',()=>{_0x7e7f04['loaded']=!(0x1*-0x1b3b+0x3ed*0x3+-0x3dd*-0x4);}),_0x58c68a['on']('error',_0x1dc3a2=>{w['error'](_0x1dc3a2),_0x1553b8(_0x1dc3a2);});})['catch'](_0x33d25f=>{w['error'](_0x33d25f),_0x1553b8(_0x33d25f);});}['open'](_0x56c0c2,_0x678d57){return _0x678d57;}}class Cn{constructor(_0x55a155){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x55a155;}['addHandler'](_0x3a190f,_0x4d9499){this['_handlers'][_0x3a190f]=_0x4d9499,_0x4d9499['_loader']=this;}['removeHand'+'ler'](_0x25a237){delete this['_handlers'][_0x25a237];}['getHandler'](_0x17b05f){return this['_handlers'][_0x17b05f];}static['makeKey'](_0x4da826,_0x980202){return _0x4da826+'-'+_0x980202;}['load'](_0x345c7b,_0x1f4cff,_0x1aff39,_0x250233,_0x5b4b50){var _0x3fc9a5;const _0x4b1930=this['_handlers'][_0x1f4cff];if(!_0x4b1930){const _0x5cab58='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x1f4cff+('\x27\x20when\x20loa'+'ding\x20[')+_0x345c7b+']';w['errorOnce'](_0x5cab58),_0x1aff39(_0x5cab58);return;}if(!_0x345c7b){this['_loadNull'](_0x4b1930,_0x1aff39,_0x250233);return;}const _0x4c87c8=Cn['makeKey'](_0x345c7b,_0x1f4cff);if(this['_requests'][_0x4c87c8])this['_requests'][_0x4c87c8]['push'](_0x1aff39);else{this['_requests'][_0x4c87c8]=[_0x1aff39];const _0x4e68bf=this,_0x676071=function(_0x56e9b4,_0x3a7b4b){if(_0x56e9b4){_0x4e68bf['_onFailure'](_0x4c87c8,_0x56e9b4);return;}if(_0x3a7b4b['load']instanceof DataView){if(_0x4b1930['openBinary']){if(!_0x4e68bf['_requests'][_0x4c87c8])return;try{const _0x5e6163=_0x4b1930['openBinary'](_0x3a7b4b['load']);_0x4e68bf['_onSuccess'](_0x4c87c8,_0x5e6163);}catch(_0x207072){_0x4e68bf['_onFailure'](_0x4c87c8,_0x207072);}return;}_0x3a7b4b['load']=URL['createObje'+'ctURL'](new Blob([_0x3a7b4b['load']])),_0x250233&&(_0x250233['urlObject']&&URL['revokeObje'+'ctURL'](_0x250233['urlObject']),_0x250233['urlObject']=_0x3a7b4b['load']);}_0x4b1930['load'](_0x3a7b4b,(_0x509c30,_0x300d55,_0x2c7e6d)=>{if(_0x4e68bf['_requests'][_0x4c87c8]){if(_0x509c30){_0x4e68bf['_onFailure'](_0x4c87c8,_0x509c30);return;}try{_0x4e68bf['_onSuccess'](_0x4c87c8,_0x4b1930['open'](_0x3a7b4b['original'],_0x300d55,_0x250233),_0x2c7e6d);}catch(_0x375b85){_0x4e68bf['_onFailure'](_0x4c87c8,_0x375b85);}}},_0x250233);},_0x3f8f78=_0x345c7b['split']('?')[-0x2038+-0xa3f*0x3+0x3ef5];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x3f8f78)&&!(_0x5b4b50&&_0x5b4b50['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x3f8f78)){const _0x38dd31=this['_app']['bundles']['listBundle'+'sForAsset'](_0x250233);let _0x140a58;_0x5b4b50&&_0x5b4b50['bundlesFil'+'ter']&&(_0x140a58=_0x5b4b50['bundlesFil'+'ter'](_0x38dd31)),_0x140a58||(_0x38dd31==null||_0x38dd31['sort']((_0x5a6780,_0x5dfcd2)=>_0x5a6780['file']['size']-_0x5dfcd2['file']['size']),_0x140a58=_0x38dd31==null?void(-0x2f*0x17+-0x19*0x8b+0x43*0x44):_0x38dd31[-0x1bd8+0x2af*-0x2+0x2136]),_0x140a58&&((_0x3fc9a5=this['_app']['assets'])==null||_0x3fc9a5['load'](_0x140a58));}this['_app']['bundles']['loadUrl'](_0x3f8f78,(_0xbcf83e,_0x48c736)=>{_0x676071(_0xbcf83e,{'load':_0x48c736,'original':_0x3f8f78});});}else _0x676071(null,{'load':_0x345c7b,'original':_0x250233&&_0x250233['file']['filename']||_0x345c7b});}}['_loadNull'](_0x132648,_0x2d8817,_0x96c343){const _0xdc1a1e=function(_0x3bbe0b,_0x543c75,_0x47a05f){if(_0x3bbe0b)_0x2d8817(_0x3bbe0b);else try{_0x2d8817(null,_0x132648['open'](null,_0x543c75,_0x96c343),_0x47a05f);}catch(_0x2b2d1d){_0x2d8817(_0x2b2d1d);}};_0x132648['load'](null,_0xdc1a1e,_0x96c343);}['_onSuccess'](_0x4e5fc1,_0xee240f,_0x35530f){for(let _0x392390=-0x1e6f+-0x17e0+0x364f;_0x392390<this['_requests'][_0x4e5fc1]['length'];_0x392390++)this['_requests'][_0x4e5fc1][_0x392390](null,_0xee240f,_0x35530f);delete this['_requests'][_0x4e5fc1];}['_onFailure'](_0x378953,_0x17bffb){if(console['error'](_0x17bffb),this['_requests'][_0x378953]){for(let _0x446d3b=-0xe*0x1f8+-0x2059+0x7*0x88f;_0x446d3b<this['_requests'][_0x378953]['length'];_0x446d3b++)this['_requests'][_0x378953][_0x446d3b](_0x17bffb);delete this['_requests'][_0x378953];}}['open'](_0x5eb25f,_0xaa4c7){const _0x2a1ab6=this['_handlers'][_0x5eb25f];return _0x2a1ab6?_0x2a1ab6['open'](null,_0xaa4c7):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x5eb25f),_0xaa4c7);}['patch'](_0x3c07cf,_0x2debe1){const _0x4d9785=this['_handlers'][_0x3c07cf['type']];if(!_0x4d9785){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x3c07cf['type']);return;}_0x4d9785['patch']&&_0x4d9785['patch'](_0x3c07cf,_0x2debe1);}['clearCache'](_0x5b2723,_0x2140f6){const _0x43c7c6=Cn['makeKey'](_0x5b2723,_0x2140f6);delete this['_cache'][_0x43c7c6];}['getFromCac'+'he'](_0x503c5b,_0x13ea02){const _0x4cc997=Cn['makeKey'](_0x503c5b,_0x13ea02);if(this['_cache'][_0x4cc997])return this['_cache'][_0x4cc997];}['enableRetr'+'y'](_0x3ff0e4=-0x1238+-0x258+0x1495){_0x3ff0e4=Math['max'](-0x3*-0xb9d+0x1*-0x249e+0x1c7,_0x3ff0e4)||0x1733+0x34b*-0x3+0x6a9*-0x2;for(const _0x545a26 in this['_handlers'])this['_handlers'][_0x545a26]['maxRetries']=_0x3ff0e4;}['disableRet'+'ry'](){for(const _0x2c2e85 in this['_handlers'])this['_handlers'][_0x2c2e85]['maxRetries']=0x2114+-0x2c7*0x3+0xb5*-0x23;}['destroyReq'+'uests'](){this['_requests']={};}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class GC{['_validate'](_0x1ef929){if(!_0x1ef929['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x1ef929['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x1ef929['header']['version']!==-0x1b4d+0x51*-0x1e+0x24cc)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x1ef929['data']){if(!Array['isArray'](_0x1ef929['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0xde4f0f=0x10c9+-0x247*-0x11+-0x1bc*0x20,_0x9c930a=_0x1ef929['data']['length'];_0xde4f0f<_0x9c930a;_0xde4f0f++){const _0xb80126=_0x1ef929['data'][_0xde4f0f];if(!_0xb80126['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0xde4f0f+('].info\x22\x20fi'+'eld'));if(!_0xb80126['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0xde4f0f+('].info.loc'+'ale\x22\x20field'));if(typeof _0xb80126['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0xde4f0f+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0xb80126['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0xde4f0f+('].messages'+'\x22\x20field'));}}['parse'](_0x18a2a1){return this['_validate'](_0x18a2a1),_0x18a2a1['data'];}}const Gh=class Gh extends me{constructor(_0x513f5e){super(),this['locale']=Ph,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0x513f5e,this['_assets']=[],this['_parser']=new GC();}set['assets'](_0x3de99f){const _0x270971={};for(let _0x527a4d=-0xc6*0x9+0xa05+-0x30f,_0x7d7ec=_0x3de99f['length'];_0x527a4d<_0x7d7ec;_0x527a4d++){const _0x383cde=_0x3de99f[_0x527a4d]instanceof pe?_0x3de99f[_0x527a4d]['id']:_0x3de99f[_0x527a4d];_0x270971[_0x383cde]=!(-0xed*0x9+-0x714+-0x315*-0x5);}let _0x34d1e0=this['_assets']['length'];for(;_0x34d1e0--;){const _0x37f9d5=this['_assets'][_0x34d1e0];if(!_0x270971[_0x37f9d5]){this['_app']['assets']['off']('add:'+_0x37f9d5,this['_onAssetAd'+'d'],this);const _0x21dc98=this['_app']['assets']['get'](_0x37f9d5);_0x21dc98&&this['_onAssetRe'+'move'](_0x21dc98),this['_assets']['splice'](_0x34d1e0,-0x1*0x382+0x1*-0x1e4d+0x2*0x10e8);}}for(const _0x3bca7e in _0x270971){const _0x13de2e=parseInt(_0x3bca7e,0x1f6f+-0xff*0xb+-0x1470);if(this['_assets']['indexOf'](_0x13de2e)!==-(0x127f+0xb*-0x30a+0xef0))continue;this['_assets']['push'](_0x13de2e);const _0x466a5d=this['_app']['assets']['get'](_0x13de2e);_0x466a5d?this['_onAssetAd'+'d'](_0x466a5d):this['_app']['assets']['once']('add:'+_0x13de2e,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x4349b4){if(this['_locale']===_0x4349b4)return;let _0xdf9a30=Oi(_0x4349b4);if(_0xdf9a30==='in'&&(_0xdf9a30='id',_0x4349b4=LC(_0x4349b4,_0xdf9a30),this['_locale']===_0x4349b4))return;const _0x27eb40=this['_locale'];this['_locale']=_0x4349b4,this['_lang']=_0xdf9a30,this['_pluralFn']=Tf(this['_lang']),this['fire'](Gh['EVENT_CHAN'+'GE'],_0x4349b4,_0x27eb40);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x510488,_0x139f3f){return Fv(_0x510488,_0x139f3f);}['findAvaila'+'bleLocale'](_0x5a5f54){if(this['_translati'+'ons'][_0x5a5f54])return _0x5a5f54;const _0x4b378a=Oi(_0x5a5f54);return this['_findFallb'+'ackLocale'](_0x5a5f54,_0x4b378a);}['getText'](_0x4125b9,_0xf0f257){let _0xcc7c63=_0x4125b9,_0x4663ea;_0xf0f257||(_0xf0f257=this['_locale'],_0x4663ea=this['_lang']);let _0x529f9e=this['_translati'+'ons'][_0xf0f257];return _0x529f9e||(_0x4663ea||(_0x4663ea=Oi(_0xf0f257)),_0xf0f257=this['_findFallb'+'ackLocale'](_0xf0f257,_0x4663ea),_0x529f9e=this['_translati'+'ons'][_0xf0f257]),_0x529f9e&&_0x529f9e['hasOwnProp'+'erty'](_0x4125b9)&&(_0xcc7c63=_0x529f9e[_0x4125b9],Array['isArray'](_0xcc7c63)&&(_0xcc7c63=_0xcc7c63[0x16f*0x1a+0x800+-0x2d46]),_0xcc7c63==null&&(_0xcc7c63=_0x4125b9)),_0xcc7c63;}['getPluralT'+'ext'](_0x5d0cd9,_0x2970f0,_0x470e20){let _0x53e564=_0x5d0cd9,_0x3a8ec1,_0x5c73d0;_0x470e20?(_0x3a8ec1=Oi(_0x470e20),_0x5c73d0=Tf(_0x3a8ec1)):(_0x470e20=this['_locale'],_0x3a8ec1=this['_lang'],_0x5c73d0=this['_pluralFn']);let _0x171dc7=this['_translati'+'ons'][_0x470e20];if(_0x171dc7||(_0x470e20=this['_findFallb'+'ackLocale'](_0x470e20,_0x3a8ec1),_0x3a8ec1=Oi(_0x470e20),_0x5c73d0=Tf(_0x3a8ec1),_0x171dc7=this['_translati'+'ons'][_0x470e20]),_0x171dc7&&_0x171dc7[_0x5d0cd9]&&_0x5c73d0){const _0x542e14=_0x5c73d0(_0x2970f0);_0x53e564=_0x171dc7[_0x5d0cd9][_0x542e14],_0x53e564==null&&(_0x53e564=_0x5d0cd9);}return _0x53e564;}['addData'](_0x2efacf){let _0x372ed1;try{_0x372ed1=this['_parser']['parse'](_0x2efacf);}catch(_0x347fb7){console['error'](_0x347fb7);return;}for(let _0x50ec47=0x637*0x2+-0xb31+-0x13d,_0x5d14a2=_0x372ed1['length'];_0x50ec47<_0x5d14a2;_0x50ec47++){const _0xc69769=_0x372ed1[_0x50ec47],_0x12f336=_0xc69769['info']['locale'],_0x2c4527=_0xc69769['messages'];if(!this['_translati'+'ons'][_0x12f336]){this['_translati'+'ons'][_0x12f336]={};const _0x132fb5=Oi(_0x12f336);this['_available'+'Langs'][_0x132fb5]||(this['_available'+'Langs'][_0x132fb5]=_0x12f336);}Object['assign'](this['_translati'+'ons'][_0x12f336],_0x2c4527),this['fire']('data:add',_0x12f336,_0x2c4527);}}['removeData'](_0x3af359){let _0x84e8a0;try{_0x84e8a0=this['_parser']['parse'](_0x3af359);}catch(_0x113afd){console['error'](_0x113afd);return;}for(let _0x5b8c15=0x1b59+-0x1*0x1c05+0xac,_0x2bb8f9=_0x84e8a0['length'];_0x5b8c15<_0x2bb8f9;_0x5b8c15++){const _0x68108e=_0x84e8a0[_0x5b8c15],_0x32f4bd=_0x68108e['info']['locale'],_0xae6632=this['_translati'+'ons'][_0x32f4bd];if(!_0xae6632)continue;const _0xca37fc=_0x68108e['messages'];for(const _0x4cb1d7 in _0xca37fc)delete _0xae6632[_0x4cb1d7];Object['keys'](_0xae6632)['length']===-0x1*0x59e+0x266*0x4+0x1fd*-0x2&&(delete this['_translati'+'ons'][_0x32f4bd],delete this['_available'+'Langs'][Oi(_0x32f4bd)]),this['fire']('data:remov'+'e',_0x32f4bd,_0xca37fc);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x2f6cce,_0x475e02){let _0x2632be=Mh[_0x2f6cce];return _0x2632be&&this['_translati'+'ons'][_0x2632be]||(_0x2632be=Mh[_0x475e02],_0x2632be&&this['_translati'+'ons'][_0x2632be])||(_0x2632be=this['_available'+'Langs'][_0x475e02],_0x2632be&&this['_translati'+'ons'][_0x2632be])?_0x2632be:Ph;}['_onAssetAd'+'d'](_0x3eb2b4){_0x3eb2b4['on']('load',this['_onAssetLo'+'ad'],this),_0x3eb2b4['on']('change',this['_onAssetCh'+'ange'],this),_0x3eb2b4['on']('remove',this['_onAssetRe'+'move'],this),_0x3eb2b4['on']('unload',this['_onAssetUn'+'load'],this),_0x3eb2b4['resource']&&this['_onAssetLo'+'ad'](_0x3eb2b4);}['_onAssetLo'+'ad'](_0x266cc2){this['addData'](_0x266cc2['resource']);}['_onAssetCh'+'ange'](_0x334985){_0x334985['resource']&&this['addData'](_0x334985['resource']);}['_onAssetRe'+'move'](_0xd05eb5){_0xd05eb5['off']('load',this['_onAssetLo'+'ad'],this),_0xd05eb5['off']('change',this['_onAssetCh'+'ange'],this),_0xd05eb5['off']('remove',this['_onAssetRe'+'move'],this),_0xd05eb5['off']('unload',this['_onAssetUn'+'load'],this),_0xd05eb5['resource']&&this['removeData'](_0xd05eb5['resource']),this['_app']['assets']['once']('add:'+_0xd05eb5['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x134a89){_0x134a89['resource']&&this['removeData'](_0x134a89['resource']);}};h(Gh,'EVENT_CHAN'+'GE','change');let wa=Gh;class HC extends me{constructor(_0x1f1afc){super(),h(this,'_scripts',{}),h(this,'_list',[]),h(this,'_scriptSch'+'emas',new Map()),this['app']=_0x1f1afc;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x1969e9,_0x441b47){_0x441b47&&this['_scriptSch'+'emas']['set'](_0x1969e9,_0x441b47);}['getSchema'](_0xc1f53b){return this['_scriptSch'+'emas']['get'](_0xc1f53b);}['add'](_0x505ca0){const _0x1835ea=_0x505ca0['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x1835ea)?(setTimeout(()=>{if(_0x505ca0['prototype']['swap']){const _0xfcdca0=this['_scripts'][_0x1835ea],_0x35bfd5=this['_list']['indexOf'](_0xfcdca0);this['_list'][_0x35bfd5]=_0x505ca0,this['_scripts'][_0x1835ea]=_0x505ca0,this['fire']('swap',_0x1835ea,_0x505ca0),this['fire']('swap:'+_0x1835ea,_0x505ca0);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x1835ea+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(0x1b73*0x1+0xe2b*0x1+0x299d*-0x1)):(this['_scripts'][_0x1835ea]=_0x505ca0,this['_list']['push'](_0x505ca0),this['fire']('add',_0x1835ea,_0x505ca0),this['fire']('add:'+_0x1835ea,_0x505ca0),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x1835ea)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0xc87be8=this['app']['systems']['script']['_component'+'s'];let _0x523d7b;const _0x27f233=[],_0x6713c6=[];for(_0xc87be8['loopIndex']=0x1*0x12c5+0x3ff*-0x1+-0x7a*0x1f;_0xc87be8['loopIndex']<_0xc87be8['length'];_0xc87be8['loopIndex']++){const _0x52fdb4=_0xc87be8['items'][_0xc87be8['loopIndex']];if(_0x52fdb4['_scriptsIn'+'dex'][_0x1835ea]&&_0x52fdb4['_scriptsIn'+'dex'][_0x1835ea]['awaiting']){_0x52fdb4['_scriptsDa'+'ta']&&_0x52fdb4['_scriptsDa'+'ta'][_0x1835ea]&&(_0x523d7b=_0x52fdb4['_scriptsDa'+'ta'][_0x1835ea]['attributes']);const _0x4f8bcc=_0x52fdb4['create'](_0x1835ea,{'preloading':!(0x11c3+-0x691+-0x599*0x2),'ind':_0x52fdb4['_scriptsIn'+'dex'][_0x1835ea]['ind'],'attributes':_0x523d7b});_0x4f8bcc&&_0x27f233['push'](_0x4f8bcc);for(const _0x13d1ff of _0x52fdb4['scripts'])_0x52fdb4['initialize'+'Attributes'](_0x13d1ff);}}for(let _0x2911a3=0x5c7*-0x1+-0x1*0x1e4f+0x2416;_0x2911a3<_0x27f233['length'];_0x2911a3++)_0x27f233[_0x2911a3]['enabled']&&(_0x27f233[_0x2911a3]['_initializ'+'ed']=!(0x101*-0x1+-0x8eb+0xa*0xfe),_0x6713c6['push'](_0x27f233[_0x2911a3]),_0x27f233[_0x2911a3]['initialize']&&_0x27f233[_0x2911a3]['initialize']());for(let _0x4f9640=0x2*0xa48+0x1ed5+-0x3365;_0x4f9640<_0x6713c6['length'];_0x4f9640++)!_0x6713c6[_0x4f9640]['enabled']||_0x6713c6[_0x4f9640]['_postIniti'+'alized']||(_0x6713c6[_0x4f9640]['_postIniti'+'alized']=!(0x1*0x2443+-0x1c92+0x1*-0x7b1),_0x6713c6[_0x4f9640]['postInitia'+'lize']&&_0x6713c6[_0x4f9640]['postInitia'+'lize']());}),!(0x1*-0xc26+-0x89*0x7+-0xfe5*-0x1));}['remove'](_0x5b60d8){let _0x45656d=_0x5b60d8,_0x1be829=_0x5b60d8;if(typeof _0x1be829!='string'?_0x1be829=_0x45656d['__name']:_0x45656d=this['get'](_0x1be829),this['get'](_0x1be829)!==_0x45656d)return!(0x16d7*-0x1+0x1ede+-0x806);delete this['_scripts'][_0x1be829];const _0x565fb9=this['_list']['indexOf'](_0x45656d);return this['_list']['splice'](_0x565fb9,0x8a9*0x1+0x19*0xfa+-0x2112),this['fire']('remove',_0x1be829,_0x45656d),this['fire']('remove:'+_0x1be829,_0x45656d),!(-0x15b2+0x5*0x623+0x27*-0x3b);}['get'](_0x3d8d41){return this['_scripts'][_0x3d8d41]||null;}['has'](_0x140107){if(typeof _0x140107=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x140107);if(!_0x140107)return!(-0x8a5+0xfba+-0x714);const _0x532ca3=_0x140107['__name'];return this['_scripts'][_0x532ca3]===_0x140107;}['list'](){return this['_list'];}}const WC=(_0x466535,_0x2c81d5)=>_0x466535['constructo'+'r']['order']-_0x2c81d5['constructo'+'r']['order'],$C=_0x84c3bc=>_0x84c3bc['sort'](WC),po=[],Nv=[],XC=()=>Nv['pop']()??[],Ag=_0x3cf0ef=>{_0x3cf0ef['length']=0x215f+0x2*0xcbd+-0x3ad9,Nv['push'](_0x3cf0ef);},Hh=class Hh extends Ie{constructor(_0x3d78f7,_0x1cc1b0=Ms()){super(_0x3d78f7),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'gsplat'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'c',{}),h(this,'_app'),h(this,'_destroyin'+'g',!(0xda1+0x156b*0x1+-0x230b)),h(this,'_guid',null),h(this,'_template',!(0x1*0x1535+-0x1bdc+0x6a8)),(w['assert'](_0x1cc1b0,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x1cc1b0);}['addCompone'+'nt'](_0x5d0a40,_0x1244f0){const _0xd77f3f=this['_app']['systems'][_0x5d0a40];return _0xd77f3f?this['c'][_0x5d0a40]?(w['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x5d0a40+('\x27\x20componen'+'t')),null):_0xd77f3f['addCompone'+'nt'](this,_0x1244f0):(w['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x5d0a40+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x5bf4b5){const _0x361f95=this['_app']['systems'][_0x5bf4b5];if(!_0x361f95){w['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x5bf4b5+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x5bf4b5]){w['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x5bf4b5+('\x27\x20componen'+'t'));return;}_0x361f95['removeComp'+'onent'](this);}['findCompon'+'ent'](_0xbe10b9){const _0x4ace68=this['findOne'](_0x4c7cf2=>{var _0x3cbf93;return(_0x3cbf93=_0x4c7cf2['c'])==null?void(-0xb3d+0x8d*-0x44+-0x1*-0x30b1):_0x3cbf93[_0xbe10b9];});return _0x4ace68&&_0x4ace68['c'][_0xbe10b9];}['findCompon'+'ents'](_0x18a383){return this['find'](_0x54a741=>{var _0x4429cb;return(_0x4429cb=_0x54a741['c'])==null?void(-0xdef+0x9a1+0x13*0x3a):_0x4429cb[_0x18a383];})['map'](_0x198614=>_0x198614['c'][_0x18a383]);}['findScript'](_0x3389eb){const _0x1ab459=this['findOne'](_0x2c8f95=>{var _0x176dfa,_0x586c94;return(_0x586c94=(_0x176dfa=_0x2c8f95['c'])==null?void(-0x1d1*0x13+-0x618*-0x1+-0x123*-0x19):_0x176dfa['script'])==null?void(-0x29*-0x57+-0x25d4+0x17e5):_0x586c94['has'](_0x3389eb);});return _0x1ab459==null?void(-0x1451+0xf1+0x1*0x1360):_0x1ab459['c']['script']['get'](_0x3389eb);}['findScript'+'s'](_0x5b6c25){return this['find'](_0x4161aa=>{var _0x361239,_0x4d145f;return(_0x4d145f=(_0x361239=_0x4161aa['c'])==null?void(0x1481+-0x1fa1+0xb20):_0x361239['script'])==null?void(0x19cb+-0x21ae+0x7e3):_0x4d145f['has'](_0x5b6c25);})['map'](_0x57da9c=>_0x57da9c['c']['script']['get'](_0x5b6c25));}['getGuid'](){return this['_guid']||this['setGuid'](Q0['create']()),this['_guid'];}['setGuid'](_0x170176){const _0x24355c=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x24355c[this['_guid']],this['_guid']=_0x170176,_0x24355c[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x51b668,_0x50302a){let _0x12169a=!(0x1347+-0x4ca+0x12*-0xce);_0x51b668===this&&po['length']===0x168d+0x421*0x1+0xd57*-0x2&&(_0x12169a=!(0x257b+-0x2127+-0x4*0x115)),_0x51b668['_beingEnab'+'led']=!(-0x1*-0x758+0x200a+-0x2762),_0x51b668['_onHierarc'+'hyStateCha'+'nged'](_0x50302a),_0x51b668['_onHierarc'+'hyStatePos'+'tChanged']&&po['push'](_0x51b668);const _0x515511=_0x51b668['_children'];for(let _0x591f6a=0x2*-0xbdf+0x199*-0x5+0x1fbb,_0xfe5989=_0x515511['length'];_0x591f6a<_0xfe5989;_0x591f6a++)_0x515511[_0x591f6a]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x515511[_0x591f6a],_0x50302a);if(_0x51b668['_beingEnab'+'led']=!(-0x59*0x68+0x1172+0x12b7),_0x12169a){for(let _0x10d8be=0x653*0x6+0x419*0x1+0x2a0b*-0x1;_0x10d8be<po['length'];_0x10d8be++)po[_0x10d8be]['_onHierarc'+'hyStatePos'+'tChanged']();po['length']=0x22fb+-0x7c+-0x227f;}}['_onHierarc'+'hyStateCha'+'nged'](_0x243992){super['_onHierarc'+'hyStateCha'+'nged'](_0x243992);const _0x257260=this['_getSorted'+'Components']();for(let _0x13b9d1=0x1*-0x139b+-0x25*0xc9+-0xad*-0x48;_0x13b9d1<_0x257260['length'];_0x13b9d1++){const _0x230975=_0x257260[_0x13b9d1];_0x230975['enabled']&&(_0x243992?_0x230975['onEnable']():_0x230975['onDisable']());}Ag(_0x257260);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x298c61=this['_getSorted'+'Components']();for(let _0x1c67f7=-0x110a+0x1*0x1034+0x6b*0x2;_0x1c67f7<_0x298c61['length'];_0x1c67f7++)_0x298c61[_0x1c67f7]['onPostStat'+'eChange']();Ag(_0x298c61);}['findByGuid'](_0x1dd4c6){if(this['_guid']===_0x1dd4c6)return this;const _0x4fb2bf=this['_app']['_entityInd'+'ex'][_0x1dd4c6];return _0x4fb2bf&&(_0x4fb2bf===this||_0x4fb2bf['isDescenda'+'ntOf'](this))?_0x4fb2bf:null;}['destroy'](){this['_destroyin'+'g']=!(-0x1260+0x1e6d+-0xc0d);for(const _0x349955 in this['c'])this['c'][_0x349955]['enabled']=!(0x2*-0x827+-0x2163*0x1+0x31b2);for(const _0x1560d7 in this['c'])this['c'][_0x1560d7]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(-0x683*-0x3+-0x1*-0x1f6f+-0x32f7);}['clone'](){const _0x4127ce={},_0x265f6e=this['_cloneRecu'+'rsively'](_0x4127ce);return _0x4127ce[this['getGuid']()]=_0x265f6e,kv(this,this,_0x265f6e,_0x4127ce),_0x265f6e;}['_getSorted'+'Components'](){const _0x42aa20=this['c'],_0x41485f=XC();let _0x1dd3c5=0x1eef+0x9b2+-0x28a1;for(const _0x239596 in _0x42aa20)if(_0x42aa20['hasOwnProp'+'erty'](_0x239596)){const _0xf3ad25=_0x42aa20[_0x239596];_0x1dd3c5|=_0xf3ad25['constructo'+'r']['order']!==-0x23ea+-0x408*-0x3+-0x1*-0x17d2,_0x41485f['push'](_0xf3ad25);}return _0x1dd3c5&&_0x41485f['length']>-0x2*-0xfe9+-0x2428+0x457&&$C(_0x41485f),_0x41485f;}['_cloneRecu'+'rsively'](_0xec0fa0){const _0x1957e3=new this['constructo'+'r'](void(0x1*0x21cb+0xa1a*0x1+-0x2be5),this['_app']);super['_cloneInte'+'rnal'](_0x1957e3);for(const _0x54fad3 in this['c'])this['c'][_0x54fad3]['system']['cloneCompo'+'nent'](this,_0x1957e3);for(let _0x115a6d=-0x9c1+-0x104+-0x3*-0x397;_0x115a6d<this['_children']['length'];_0x115a6d++){const _0x10ea5f=this['_children'][_0x115a6d];if(_0x10ea5f instanceof Hh){const _0x291d3c=_0x10ea5f['_cloneRecu'+'rsively'](_0xec0fa0);_0x1957e3['addChild'](_0x291d3c),_0xec0fa0[_0x10ea5f['getGuid']()]=_0x291d3c;}}return _0x1957e3;}};h(Hh,'EVENT_DEST'+'ROY','destroy');let lt=Hh;function kv(_0x1c574d,_0x204689,_0x526023,_0x472d13){if(_0x204689 instanceof lt){const _0xa8465a=_0x204689['c'];for(const _0x318247 in _0xa8465a){const _0x5d90a9=_0xa8465a[_0x318247],_0x4a0697=_0x5d90a9['system']['getPropert'+'iesOfType']('entity');for(let _0x2d6e1b=0x21d*0x5+-0xb26+0x95,_0x4fb7f5=_0x4a0697['length'];_0x2d6e1b<_0x4fb7f5;_0x2d6e1b++){const _0x5de57b=_0x4a0697[_0x2d6e1b]['name'],_0x22c53a=_0x5d90a9[_0x5de57b];if(!!_0x1c574d['findByGuid'](_0x22c53a)){const _0x471aad=_0x472d13[_0x22c53a]['getGuid']();_0x471aad?_0x526023['c'][_0x318247][_0x5de57b]=_0x471aad:w['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0xa8465a['script']&&_0x526023['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xa8465a['script'],_0x472d13),_0xa8465a['render']&&_0x526023['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xa8465a['render'],_0x472d13),_0xa8465a['button']&&_0x526023['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xa8465a['button'],_0x472d13),_0xa8465a['scrollview']&&_0x526023['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xa8465a['scrollview'],_0x472d13),_0xa8465a['scrollbar']&&_0x526023['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xa8465a['scrollbar'],_0x472d13),_0xa8465a['anim']&&_0x526023['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0xa8465a['anim'],_0x472d13);const _0xf520de=_0x204689['children']['filter'](_0x199014=>_0x199014 instanceof lt),_0x44f3d7=_0x526023['children']['filter'](_0x5bf2a8=>_0x5bf2a8 instanceof lt);for(let _0x2aaf7d=-0x1ba7+-0x8*0x207+-0x2bdf*-0x1,_0x1aa63b=_0xf520de['length'];_0x2aaf7d<_0x1aa63b;_0x2aaf7d++)kv(_0x1c574d,_0xf520de[_0x2aaf7d],_0x44f3d7[_0x2aaf7d],_0x472d13);}}class Cg{constructor(_0x296339,_0x809d23){h(this,'name'),h(this,'url'),h(this,'data',null),h(this,'_loading',!(0x1adf+0x5*0x4e4+-0x3352)),h(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x296339,this['url']=_0x809d23);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class qC{constructor(_0x44a6de){h(this,'_app'),h(this,'_list',[]),h(this,'_index',{}),h(this,'_urlIndex',{}),this['_app']=_0x44a6de;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x4822c1,_0x6e5505){if(this['_index']['hasOwnProp'+'erty'](_0x4822c1))return w['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x4822c1),!(-0x1*0x231+0x26cf+-0x249d);const _0x5b56c4=new Cg(_0x4822c1,_0x6e5505),_0xa2f515=this['_list']['push'](_0x5b56c4);return this['_index'][_0x5b56c4['name']]=_0xa2f515-(-0x4a*-0x62+0xdf*0x1+0xe99*-0x2),this['_urlIndex'][_0x5b56c4['url']]=_0xa2f515-(-0x2e*0x9d+-0x85a+0x2491),!(0xec2+0x455*-0x1+0x11*-0x9d);}['find'](_0x1e1021){return this['_index']['hasOwnProp'+'erty'](_0x1e1021)?this['_list'][this['_index'][_0x1e1021]]:null;}['findByUrl'](_0x2416e3){return this['_urlIndex']['hasOwnProp'+'erty'](_0x2416e3)?this['_list'][this['_urlIndex'][_0x2416e3]]:null;}['remove'](_0x2f7a41){if(this['_index']['hasOwnProp'+'erty'](_0x2f7a41)){const _0x476c72=this['_index'][_0x2f7a41];let _0x3f3880=this['_list'][_0x476c72];delete this['_urlIndex'][_0x3f3880['url']],delete this['_index'][_0x2f7a41],this['_list']['splice'](_0x476c72,-0x277+0x14d2+-0x9*0x20a);for(let _0x15347b=-0x4b5*-0x1+0x676+-0xb2b;_0x15347b<this['_list']['length'];_0x15347b++)_0x3f3880=this['_list'][_0x15347b],this['_index'][_0x3f3880['name']]=_0x15347b,this['_urlIndex'][_0x3f3880['url']]=_0x15347b;}}['_loadScene'+'Data'](_0x4c0b2b,_0x54d454,_0x47ff5e){const _0x22cc43=this['_app'];let _0x59e376=_0x4c0b2b;if(typeof _0x4c0b2b=='string'&&(_0x4c0b2b=this['findByUrl'](_0x59e376)||this['find'](_0x59e376)||new Cg('Untitled',_0x59e376)),_0x59e376=_0x4c0b2b['url'],!_0x59e376){_0x47ff5e('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x4c0b2b['loaded']){_0x47ff5e(null,_0x4c0b2b);return;}_0x22cc43['assets']&&_0x22cc43['assets']['prefix']&&!jn['test'](_0x59e376)&&(_0x59e376=xe['join'](_0x22cc43['assets']['prefix'],_0x59e376)),_0x4c0b2b['_onLoadedC'+'allbacks']['push'](_0x47ff5e),_0x4c0b2b['_loading']||_0x22cc43['loader']['getHandler']('hierarchy')['load'](_0x59e376,(_0x4dadfd,_0x558fdf)=>{_0x4c0b2b['data']=_0x558fdf,_0x4c0b2b['_loading']=!(-0x29*-0xe3+-0x1333*0x1+-0x1127);for(let _0x333add=0x16*-0x7+-0x154c+0x15e6;_0x333add<_0x4c0b2b['_onLoadedC'+'allbacks']['length'];_0x333add++)_0x4c0b2b['_onLoadedC'+'allbacks'][_0x333add](_0x4dadfd,_0x4c0b2b);_0x54d454||(_0x4c0b2b['data']=null),_0x4c0b2b['_onLoadedC'+'allbacks']['length']=0x10c2+-0x1*0x9ca+-0x6f8;}),_0x4c0b2b['_loading']=!(0x2000+-0x346*-0x8+-0x8*0x746);}['loadSceneD'+'ata'](_0x202e6c,_0x5c6297){this['_loadScene'+'Data'](_0x202e6c,!(0x36+-0x1*-0x92+-0xc8),_0x5c6297);}['unloadScen'+'eData'](_0x5ea977){typeof _0x5ea977=='string'&&(_0x5ea977=this['findByUrl'](_0x5ea977)),_0x5ea977&&(_0x5ea977['data']=null);}['_loadScene'+'Hierarchy'](_0x1132b3,_0x37249a,_0x5405c8){this['_loadScene'+'Data'](_0x1132b3,!(-0x49c+-0x1a80+0x1f1d),(_0x5683df,_0x515b2e)=>{if(_0x5683df){_0x5405c8&&_0x5405c8(_0x5683df);return;}_0x37249a&&_0x37249a(_0x515b2e);const _0x359dde=this['_app'],_0x3546f0=()=>{const _0x3db728=_0x359dde['loader']['getHandler']('hierarchy');_0x359dde['systems']['script']['preloading']=!(0x8c*0x1f+0x1*0x2647+-0x373b);const _0x27a6fd=_0x3db728['open'](_0x515b2e['url'],_0x515b2e['data']);_0x359dde['systems']['script']['preloading']=!(0xfc3*-0x1+-0x1*-0x5d+0xf67),_0x359dde['loader']['clearCache'](_0x515b2e['url'],'hierarchy'),_0x359dde['root']['addChild'](_0x27a6fd),_0x359dde['systems']['fire']('initialize',_0x27a6fd),_0x359dde['systems']['fire']('postInitia'+'lize',_0x27a6fd),_0x359dde['systems']['fire']('postPostIn'+'itialize',_0x27a6fd),_0x5405c8&&_0x5405c8(null,_0x27a6fd);};_0x359dde['_preloadSc'+'ripts'](_0x515b2e['data'],_0x3546f0);});}['loadSceneH'+'ierarchy'](_0xbd194b,_0x17d8de){this['_loadScene'+'Hierarchy'](_0xbd194b,null,_0x17d8de);}['loadSceneS'+'ettings'](_0x117ec4,_0x3de845){this['_loadScene'+'Data'](_0x117ec4,!(0x2*-0xdb7+0xca*-0x21+0x3579),(_0x26e479,_0x1c9400)=>{_0x26e479?_0x3de845&&_0x3de845(_0x26e479):(this['_app']['applyScene'+'Settings'](_0x1c9400['data']['settings']),_0x3de845&&_0x3de845(null));});}['changeScen'+'e'](_0x15494b,_0x7ba4a0){const _0x34bdd2=this['_app'],_0x93b71e=_0x540b29=>{const {children:_0x4231be}=_0x34bdd2['root'];for(;_0x4231be['length'];)_0x4231be[-0x1bb0+-0x899+0x7*0x52f]['destroy']();_0x34bdd2['applyScene'+'Settings'](_0x540b29['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x15494b,_0x93b71e,_0x7ba4a0);}['loadScene'](_0x47a31e,_0x45dc86){const _0x4702c4=this['_app'],_0x494845=_0x4702c4['loader']['getHandler']('scene');_0x4702c4['assets']&&_0x4702c4['assets']['prefix']&&!jn['test'](_0x47a31e)&&(_0x47a31e=xe['join'](_0x4702c4['assets']['prefix'],_0x47a31e)),_0x494845['load'](_0x47a31e,(_0x4241ab,_0x3b6a46)=>{if(_0x4241ab)_0x45dc86&&_0x45dc86(_0x4241ab);else{const _0x3c7f7d=()=>{_0x4702c4['systems']['script']['preloading']=!(0x45*-0x78+0x103f+0x1019);const _0x42be70=_0x494845['open'](_0x47a31e,_0x3b6a46),_0x62fdb6=this['findByUrl'](_0x47a31e);_0x62fdb6&&!_0x62fdb6['loaded']&&(_0x62fdb6['data']=_0x3b6a46),_0x4702c4['systems']['script']['preloading']=!(-0x2*-0xeb9+-0x8*-0x2c5+-0x1*0x3399),_0x4702c4['loader']['clearCache'](_0x47a31e,'scene'),_0x4702c4['loader']['patch']({'resource':_0x42be70,'type':'scene'},_0x4702c4['assets']),_0x4702c4['root']['addChild'](_0x42be70['root']),_0x4702c4['systems']['rigidbody']&&typeof Ammo<'u'&&_0x4702c4['systems']['rigidbody']['gravity']['set'](_0x42be70['_gravity']['x'],_0x42be70['_gravity']['y'],_0x42be70['_gravity']['z']),_0x45dc86&&_0x45dc86(null,_0x42be70);};_0x4702c4['_preloadSc'+'ripts'](_0x3b6a46,_0x3c7f7d);}});}}class jC{constructor(_0x532c71){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x532c71['_shaderSta'+'ts'],this['vram']=_0x532c71['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return Ms()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x36618e;return(_0x36618e=Ms()['lightmappe'+'r'])==null?void(-0x1*-0xed6+-0x1087+0x1*0x1b1):_0x36618e['stats'];}get['batcher'](){const _0x1ca81e=Ms()['_batcher'];return _0x1ca81e?_0x1ca81e['_stats']:null;}}const YC='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',KC='\x0a\x0a#ifdef\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+'\x20AMBIENTSH'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20am'+'bientSH[9]'+';\x0a#endif\x0a\x0a'+'#if\x20LIT_AM'+'BIENT_SOUR'+'CE\x20==\x20ENVA'+'LATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fndef\x20ENV_'+'ATLAS\x0a\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_envAtlas'+';\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'AMBIENTSH\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20c'+'olor\x20=\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[0'+']\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[1]\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[2'+']\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[3]\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[4]\x20*\x20'+'n.x\x20*\x20n.z\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[5]\x20*\x20n'+'.z\x20*\x20n.y\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[6]\x20*\x20n.'+'y\x20*\x20n.x\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[7]\x20*\x20(3.'+'0\x20*\x20n.z\x20*\x20'+'n.z\x20-\x201.0)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[8]\x20*\x20'+'(n.x\x20*\x20n.x'+'\x20-\x20n.y\x20*\x20n'+'.y);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20processEn'+'vironment('+'max(color,'+'\x20vec3(0.0)'+'));\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_A'+'MBIENT_SOU'+'RCE\x20==\x20ENV'+'ALATLAS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dir\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+('28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw\x20=\x20tex'+'ture2D(tex'+'ture_envAt'+'las,\x20uv);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20linear\x20'+'=\x20{ambient'+'Decode}(ra'+'w);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'CONSTANT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20light'+'_globalAmb'+'ient;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),ZC='\x0a\x0a#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opyIntensi'+'ty;\x0a\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20material_'+'anisotropy'+'Rotation;\x0a'+'#endif\x0a\x0avo'+'id\x20getAnis'+'otropy()\x20{'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x200'+'.0;\x0a\x20\x20\x20\x20dA'+'nisotropyR'+'otation\x20=\x20'+'vec2(1.0,\x20'+'0.0);\x0a\x0a#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20m'+'aterial_an'+'isotropyIn'+'tensity;\x0a\x20'+'\x20\x20\x20dAnisot'+'ropyRotati'+'on\x20=\x20mater'+'ial_anisot'+'ropyRotati'+'on;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_ANI'+'SOTROPY_TE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropyTex\x20='+'\x20texture2D'+'Bias({STD_'+'ANISOTROPY'+'_TEXTURE_N'+'AME},\x20{STD'+'_ANISOTROP'+'Y_TEXTURE_'+'UV},\x20textu'+'reBias).rg'+'b;\x0a\x20\x20\x20\x20dAn'+'isotropy\x20*'+'=\x20anisotro'+'pyTex.b;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20a'+'nisotropyR'+'otationFro'+'mTex\x20=\x20ani'+'sotropyTex'+'.rg\x20*\x202.0\x20'+'-\x20vec2(1.0'+');\x0a\x20\x20\x20\x20mat'+'2\x20rotation'+'Matrix\x20=\x20m'+'at2(dAniso'+'tropyRotat'+'ion.x,\x20dAn'+'isotropyRo'+'tation.y,\x20'+'-dAnisotro'+'pyRotation'+'.y,\x20dAniso'+'tropyRotat'+'ion.x);\x0a\x20\x20'+'\x20\x20dAnisotr'+'opyRotatio'+'n\x20=\x20rotati'+'onMatrix\x20*'+'\x20anisotrop'+'yRotationF'+'romTex;\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20dA'+'nisotropy\x20'+'=\x20clamp(dA'+'nisotropy,'+'\x200.0,\x201.0)'+';\x0a}\x0a',QC='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_aoInten'+'sity;\x0a#end'+'if\x0a\x0a#ifdef'+'\x20STD_AODET'+'AIL_TEXTUR'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22deta'+'ilModesPS\x22'+'\x0a#endif\x0a\x0av'+'oid\x20getAO('+')\x20{\x0a\x20\x20\x20\x20dA'+'o\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'aoBase\x20=\x20t'+'exture2DBi'+'as({STD_AO'+'_TEXTURE_N'+'AME},\x20{STD'+'_AO_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_AO_TE'+'XTURE_CHAN'+'NEL};\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20aoDetail\x20'+'=\x20texture2'+'DBias({STD'+'_AODETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'AODETAIL_T'+'EXTURE_UV}'+',\x20textureB'+'ias).{STD_'+'AODETAIL_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'oBase\x20=\x20de'+'tailMode_{'+'STD_AODETA'+'IL_DETAILM'+'ODE}(vec3('+'aoBase),\x20v'+'ec3(aoDeta'+'il)).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_AO_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(STD_A'+'O_TEXTURE)'+'\x20||\x20define'+'d(STD_AO_V'+'ERTEX)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAo\x20='+'\x20mix(1.0,\x20'+'dAo,\x20mater'+'ial_aoInte'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',JC='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',e1='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0av'+'oid\x20occlud'+'eSpecular('+'float\x20glos'+'s,\x20float\x20a'+'o,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir)\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'AO\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_OCCLUDE_'+'SPECULAR_F'+'LOAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20specOcc'+'\x20=\x20mix(1.0'+',\x20ao,\x20mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20specOc'+'c\x20=\x20ao;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_OCC'+'LUDE_SPECU'+'LAR\x20==\x20GLO'+'SSDEPENDEN'+'T\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20approx'+'imated\x20spe'+'cular\x20occl'+'usion\x20from'+'\x20AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20http:'+'//research'+'.tri-ace.c'+'om/Data/ce'+'dec2011_Re'+'altimePBR_'+'Implementa'+'tion_e.ppt'+'x\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01\x20'+'*\x20specPow)'+'\x20-\x201.0\x20+\x20a'+'o);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20sp'+'ecOcc,\x20mat'+'erial_occl'+'udeSpecula'+'rIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20*=\x20specO'+'cc;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sReflecti'+'on\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a'),t1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001\x20'+'?\x20(1.0/255'+'.0)\x20:\x200.0)'+';\x0a\x20\x20\x20\x20}\x0a',s1='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'ambientBak'+'eOcclusion'+'Contrast\x20+'+'\x201.0,\x200.0)'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'vec3(ambie'+'ntBakeOccl'+'usionBrigh'+'tness);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20sa'+'turate(dDi'+'ffuseLight'+');\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20dAmbie'+'ntLight;\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHTM'+'AP_RGBM\x0a\x20\x20'+'\x20\x20//\x20encod'+'e\x20to\x20RGBM\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20dDiffus'+'eLight;\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor.rgb\x20='+'\x20pow(gl_Fr'+'agColor.rg'+'b,\x20vec3(0.'+'5));\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20/=\x208'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.a\x20=\x20clamp'+'(\x20max(\x20max'+'(\x20gl_FragC'+'olor.r,\x20gl'+'_FragColor'+'.g\x20),\x20max('+'\x20gl_FragCo'+'lor.b,\x201.0'+'\x20/\x20255.0\x20)'+'\x20),\x200.0,1.'+'0\x20);\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.a\x20=\x20ceil'+'(gl_FragCo'+'lor.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20/=\x20gl'+'_FragColor'+'.a;\x0a#else\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(dDiffu'+'seLight,\x201'+'.0);\x0a#endi'+'f\x0a',i1='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',r1='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',a1='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',n1='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',o1='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20weigh'+'t[{SAMPLES'+'}];\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20m'+'oments\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vUv0\x20-'+'\x20pixelOffs'+'et\x20*\x20(floa'+'t({SAMPLES'+'})\x20*\x200.5);'+'\x0a\x20\x20\x20\x20for\x20('+'int\x20i\x20=\x200;'+'\x20i\x20<\x20{SAMP'+'LES};\x20i++)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20c\x20=\x20'+'texture2D('+'source,\x20uv'+'\x20+\x20pixelOf'+'fset\x20*\x20flo'+'at(i));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20GAUSS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20moments\x20'+'+=\x20c.xyz\x20*'+'\x20weight[i]'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'ments\x20+=\x20c'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20*=\x201.0\x20/'+'\x20float({SA'+'MPLES});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(momen'+'ts.x,\x20mome'+'nts.y,\x20mom'+'ents.z,\x201.'+'0);\x0a}\x0a',l1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oat;\x0a\x0avoid'+'\x20getClearC'+'oat()\x20{\x0a\x20\x20'+'\x20\x20ccSpecul'+'arity\x20=\x20ma'+'terial_cle'+'arCoat;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_CLEARC'+'OAT_TEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias({ST'+'D_CLEARCOA'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_CL'+'EARCOAT_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20*=\x20satu'+'rate(vVert'+'exColor.{S'+'TD_CLEARCO'+'AT_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',c1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oatGloss;\x0a'+'\x0avoid\x20getC'+'learCoatGl'+'ossiness()'+'\x20{\x0a\x20\x20\x20\x20ccG'+'lossiness\x20'+'=\x20material'+'_clearCoat'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_CLEAR'+'COATGLOSS_'+'TEXTURE_NA'+'ME},\x20{STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_CLEAR'+'COATGLOSS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_CLEAR'+'COATGLOSS_'+'INVERT\x0a\x20\x20\x20'+'\x20ccGlossin'+'ess\x20=\x201.0\x20'+'-\x20ccGlossi'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',h1='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0aunif'+'orm\x20float\x20'+'material_c'+'learCoatBu'+'mpiness;\x0a#'+'endif\x0a\x0avoi'+'d\x20getClear'+'CoatNormal'+'()\x20{\x0a#ifde'+'f\x20STD_CLEA'+'RCOATNORMA'+'L_TEXTURE\x0a'+'\x20\x20\x20\x20vec3\x20n'+'ormalMap\x20='+'\x20{STD_CLEA'+'RCOATNORMA'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_UV}'+',\x20textureB'+'ias));\x0a\x20\x20\x20'+'\x20normalMap'+'\x20=\x20mix(vec'+'3(0.0,\x200.0'+',\x201.0),\x20no'+'rmalMap,\x20m'+'aterial_cl'+'earCoatBum'+'piness);\x0a\x20'+'\x20\x20\x20ccNorma'+'lW\x20=\x20norma'+'lize(dTBN\x20'+'*\x20normalMa'+'p);\x0a#else\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20dVer'+'texNormalW'+';\x0a#endif\x0a}'+'\x0a',d1='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.x\x20=\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20t'+'ileOffset.'+'y\x20=\x20dir.z\x20'+'<\x200.0\x20?\x201.'+'0\x20:\x200.0;\x0a\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if(vAbs.y'+'\x20>=\x20vAbs.x'+')\x20{\x20\x20//\x20to'+'p\x20index\x202,'+'\x20bottom\x20in'+'dex\x203\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.y\x20<\x200.0\x20?'+'\x203.0\x20:\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x,\x20dir.y\x20'+'<\x200.0\x20?\x20-d'+'ir.z\x20:\x20dir'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.x\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.y\x20=\x20dir.'+'y\x20<\x200.0\x20?\x20'+'1.0\x20:\x200.0;'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'\x20=\x200.5\x20/\x20v'+'Abs.x;\x0a\x20\x20\x20'+('\x20\x20\x20\x20\x20uv\x20=\x20'+'vec2(dir.x'+'\x20<\x200.0\x20?\x20d'+'ir.z\x20:\x20-di'+'r.z,\x20-dir.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20uv'+'\x20*\x20ma\x20+\x200.'+'5;\x0a}\x0a\x0a//\x20c'+'onverts\x20un'+'normalized'+'\x20direction'+'\x20vector\x20to'+'\x20a\x20texture'+'\x20coordinat'+'e\x20for\x20a\x20cu'+'bemap\x20face'+'\x20stored\x20wi'+'thin\x20textu'+'re\x20atlas\x20d'+'escribed\x20b'+'y\x20the\x20view'+'port\x0avec2\x20'+'getCubemap'+'AtlasCoord'+'inates(con'+'st\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+'dgePixels,'+'\x20float\x20sha'+'dowTexture'+'Resolution'+',\x20const\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20faceIndex'+';\x0a\x20\x20\x20\x20vec2'+'\x20tileOffse'+'t;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapFac'+'eCoordinat'+'es(dir,\x20fa'+'ceIndex,\x20t'+'ileOffset)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'move\x20uv\x20co'+'ordinates\x20'+'inwards\x20in'+'side\x20to\x20co'+'mpensate\x20f'+'or\x20larger\x20'+'fov\x20when\x20r'+'endering\x20s'+'hadow\x20into'+'\x20atlas\x0a\x20\x20\x20'+'\x20float\x20atl'+'asFaceSize'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20tileSi'+'ze\x20=\x20shado'+'wTextureRe'+'solution\x20*'+'\x20atlasFace'+'Size;\x0a\x20\x20\x20\x20'+'float\x20offs'+'et\x20=\x20shado'+'wEdgePixel'+'s\x20/\x20tileSi'+'ze;\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv\x20*\x20ve'+'c2(1.0\x20-\x20o'+'ffset\x20*\x202.'+'0)\x20+\x20vec2('+'offset\x20*\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20*'+'=\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20fac'+'e\x20of\x20the\x20a')+('tlas\x20(3x3\x20'+'grid)\x0a\x20\x20\x20\x20'+'uv\x20+=\x20tile'+'Offset\x20*\x20a'+'tlasFaceSi'+'ze;\x0a\x0a\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nto\x20the\x20at'+'las\x20viewpo'+'rt\x0a\x20\x20\x20\x20uv\x20'+'+=\x20omniAtl'+'asViewport'+'.xy;\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a'),f1='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20vec4\x20co'+'okieChanne'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20mix(vec4'+'(1.0),\x20tex'+'ture2DLod('+'tex,\x20uv,\x200'+'.0),\x20inten'+'sity);\x0a\x20\x20\x20'+'\x20bool\x20isRg'+'b\x20=\x20dot(co'+'okieChanne'+'l.rgb,\x20vec'+'3(1.0))\x20=='+'\x203.0;\x0a\x20\x20\x20\x20'+'return\x20isR'+'gb\x20?\x20pixel'+'.rgb\x20:\x20vec'+'3(dot(pixe'+'l,\x20cookieC'+'hannel));\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0ave'+'c3\x20getCook'+'ie2DCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20mat4\x20'+'transform,'+'\x20vec3\x20worl'+'dPosition,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieC'+'hannel)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20p'+'rojPos\x20=\x20t'+'ransform\x20*'+'\x20vec4(worl'+'dPosition,'+'\x201.0);\x0a\x20\x20\x20'+'\x20return\x20_g'+'etCookieCl'+'ustered(TE'+'XTURE_PASS'+'(tex),\x20pro'+'jPos.xy\x20/\x20'+'projPos.w,'+'\x20intensity'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20vec4\x20coo'+'kieChannel'+',\x20float\x20sh'+'adowTextur'+'eResolutio'+'n,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20omniAtla'+'sViewport)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+('tureResolu'+'tion,\x20dir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getCoo'+'kieCluster'+'ed(TEXTURE'+'_PASS(tex)'+',\x20uv,\x20inte'+'nsity,\x20coo'+'kieChannel'+');\x0a}\x0a'),u1='\x0a\x0avec3\x20_ge'+'tShadowCoo'+'rdPerspZbu'+'ffer(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20wP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20shado'+'wMatrix\x20*\x20'+'vec4(wPos,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'yz\x20/=\x20proj'+'Pos.w;\x0a\x20\x20\x20'+'\x20return\x20pr'+'ojPos.xyz;'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20bias\x20i'+'s\x20already\x20'+'applied\x20on'+'\x20render\x0a}\x0a'+'\x0avec3\x20getS'+'hadowCoord'+'PerspZbuff'+'erNormalOf'+'fset(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20wPo'+'s\x20=\x20vPosit'+'ionW\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm,\x20vec3'+'\x20normal)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20distScale'+'\x20=\x20length('+'lightDir);'+'\x0a\x20\x20\x20\x20vec3\x20'+'wPos\x20=\x20vPo'+'sitionW\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x20/'+'/0.02\x0a\x20\x20\x20\x20'+'vec3\x20dir\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0afloa'+'t\x20getShado'+'wOmniClust'+'eredPCF1(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20omniAtla'+'sViewport,'+'\x20float\x20sha'+'dowEdgePix'+'els,\x20vec3\x20'+'lightDir)\x20'+'{\x0a\x0a\x20\x20\x20\x20flo'+'at\x20shadowT'+('extureReso'+'lution\x20=\x20s'+'hadowParam'+'s.x;\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+'lution,\x20li'+'ghtDir);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'shadowZ\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(uv,\x20sha'+'dowZ));\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF3'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF3'+'x3(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF5'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s')+('hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF5'+'x5(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a/'+'/\x20Clustere'+'d\x20Spot\x20Sam'+'pling\x20usin'+'g\x20atlas\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF1)\x0a\x0afl'+'oat\x20getSha'+'dowSpotClu'+'steredPCF1'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSha'+'dow(shadow'+'Map,\x20shado'+'wCoord);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x0af'+'loat\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF3x3'+'(SHADOWMAP'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a}\x0a\x0a#'+'endif\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x0afloa'+'t\x20getShado'+'wSpotClust'+'eredPCF5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC')+('oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a}'+'\x0a#endif\x0a'),p1='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20clu'+'sterWorldT'+'exture;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20lightsTe'+'xture;\x0a\x0a#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x20\x20\x20\x20//\x20TO'+'DO:\x20when\x20V'+'SM\x20shadow\x20'+'is\x20support'+'ed,\x20it\x20nee'+'ds\x20to\x20use\x20'+'sampler2D\x20'+'in\x20webgl2\x0a'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'DShadow\x20sh'+'adowAtlasT'+'exture;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20CLUSTER'+'_COOKIES\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20cookieAtl'+'asTexture;'+'\x0a#endif\x0a\x0au'+'niform\x20int'+'\x20clusterMa'+'xCells;\x0a\x0a/'+'/\x201.0\x20if\x20c'+'lustered\x20l'+'ighting\x20ca'+'n\x20be\x20skipp'+'ed\x20(0\x20ligh'+'ts\x20in\x20the\x20'+'clusters)\x0a'+'uniform\x20fl'+'oat\x20cluste'+'rSkip;\x0a\x0aun'+'iform\x20vec3'+'\x20clusterCe'+'llsCountBy'+'BoundsSize'+';\x0auniform\x20'+'vec3\x20clust'+'erTextureS'+'ize;\x0aunifo'+'rm\x20vec3\x20cl'+'usterBound'+'sMin;\x0aunif'+'orm\x20vec3\x20c'+'lusterBoun'+'dsDelta;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsDot;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsMax;\x0au'+'niform\x20vec'+'2\x20shadowAt'+'lasParams;'+'\x0a\x0a//\x20struc'+'ture\x20stori'+'ng\x20light\x20p'+'roperties\x20'+'of\x20a\x20clust'+'ered\x20light'+'\x0a//\x20it\x27s\x20s'+('orted\x20to\x20h'+'ave\x20all\x20ve'+'ctors\x20alig'+'ned\x20to\x204\x20f'+'loats\x20to\x20l'+'imit\x20paddi'+'ng\x0astruct\x20'+'ClusterLig'+'htData\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x2032b'+'it\x20of\x20flag'+'s\x0a\x20\x20\x20\x20uint'+'\x20flags;\x0a\x0a\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20siz'+'es\x20/\x20orien'+'tation\x0a\x20\x20\x20'+'\x20vec3\x20half'+'Width;\x0a\x0a\x20\x20'+'\x20\x20bool\x20isS'+'pot;\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20sizes\x20'+'/\x20orientat'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20halfHei'+'ght;\x0a\x0a\x20\x20\x20\x20'+'//\x20light\x20i'+'ndex\x0a\x20\x20\x20\x20i'+'nt\x20lightIn'+'dex;\x0a\x0a\x20\x20\x20\x20'+'//\x20world\x20s'+'pace\x20posit'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20positio'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20uint\x20sha'+'pe;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20direct'+'ion\x20(spot\x20'+'light\x20only'+')\x0a\x20\x20\x20\x20vec3'+'\x20direction'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20foll'+'ow\x20mode\x0a\x20\x20'+'\x20\x20bool\x20fal'+'loffModeLi'+'near;\x0a\x0a\x20\x20\x20'+'\x20//\x20color\x0a'+'\x20\x20\x20\x20vec3\x20c'+'olor;\x0a\x0a\x20\x20\x20'+'\x20//\x200.0\x20if'+'\x20the\x20light'+'\x20doesn\x27t\x20c'+'ast\x20shadow'+'s\x0a\x20\x20\x20\x20floa'+'t\x20shadowIn'+'tensity;\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20vec3\x20om'+'niAtlasVie'+'wport;\x0a\x0a\x20\x20'+'\x20\x20//\x20range'+'\x20of\x20the\x20li'+'ght\x0a\x20\x20\x20\x20fl'+'oat\x20range;'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'hannel\x20mas'+'k\x20-\x20one\x20of'+'\x20the\x20chann'+'els\x20has\x201,'+'\x20the\x20other'+'s\x20are\x200\x0a\x20\x20'+'\x20\x20vec4\x20coo'+'kieChannel'+'Mask;\x0a\x0a\x20\x20\x20'+'\x20//\x20compre'+'ssed\x20biase'+'s,\x20two\x20haf'+'-floats\x20st'+'ored\x20in\x20a\x20'+'float\x0a\x20\x20\x20\x20'+'float\x20bias'+'esData;\x0a\x0a\x20')+('\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20f'+'loat\x20angle'+'sData;\x0a\x0a\x20\x20'+'\x20\x20//\x20spot\x20'+'light\x20inne'+'r\x20and\x20oute'+'r\x20angle\x20co'+'sine\x0a\x20\x20\x20\x20f'+'loat\x20inner'+'ConeAngleC'+'os;\x0a\x20\x20\x20\x20fl'+'oat\x20outerC'+'oneAngleCo'+'s;\x0a\x0a\x20\x20\x20\x20//'+'\x20intensity'+'\x20of\x20the\x20co'+'okie\x0a\x20\x20\x20\x20f'+'loat\x20cooki'+'eIntensity'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20//flo'+'at\x20mask;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Dynamic;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Lightmappe'+'d;\x0a};\x0a\x0a//\x20'+'Note:\x20on\x20s'+'ome\x20device'+'s\x20(tested\x20'+'on\x20Pixel\x203'+'A\x20XL),\x20thi'+'s\x20matrix\x20w'+'hen\x20stored'+'\x20inside\x20th'+'e\x20light\x20st'+'ruct\x20has\x20l'+'ower\x20preci'+'sion\x20compa'+'red\x20to\x0a//\x20'+'when\x20store'+'d\x20outside,'+'\x20so\x20we\x20sto'+'re\x20it\x20outs'+'ide\x20to\x20avo'+'id\x20spot\x20sh'+'adow\x20flick'+'ering.\x20Thi'+'s\x20might\x20ne'+'ed\x20to\x20be\x20d'+'one\x20to\x20oth'+'er\x20/\x20all\x20m'+'embers\x0a//\x20'+'of\x20the\x20str'+'ucture\x20if\x20'+'further\x20si'+'milar\x20issu'+'es\x20are\x20obs'+'erved.\x0a\x0a//'+'\x20shadow\x20(s'+'pot\x20light\x20'+'only)\x20/\x20co'+'okie\x20proje'+'ction\x20matr'+'ix\x0amat4\x20li'+'ghtProject'+'ionMatrix;'+'\x0a\x0avec4\x20sam'+'pleLightTe'+'xtureF(con'+'st\x20Cluster'+'LightData\x20'+'clusterLig'+'htData,\x20in'+'t\x20index)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(lightsT'+'exture,\x20iv'+'ec2(index,'+'\x20clusterLi'+'ghtData.li'+'ghtIndex),'+'\x200);\x0a}\x0a\x0avo'+'id\x20decodeC'+'lusterLigh')+('tCore(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20flo'+'at\x20lightIn'+'dex)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20index\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.li'+'ghtIndex\x20='+'\x20int(light'+'Index);\x0a\x0a\x20'+'\x20\x20\x20//\x20samp'+'le\x20data\x20en'+'coding\x20hal'+'f-float\x20va'+'lues\x20into\x20'+'32bit\x20uint'+'s\x0a\x20\x20\x20\x20vec4'+'\x20halfData\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_COL'+'OR_ANGLES_'+'BIAS});\x0a\x0a\x20'+'\x20\x20\x20//\x20stor'+'e\x20floats\x20w'+'e\x20decode\x20l'+'ater\x20as\x20ne'+'eded\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.angl'+'esData\x20=\x20h'+'alfData.z;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.biasesDa'+'ta\x20=\x20halfD'+'ata.w;\x0a\x0a\x20\x20'+'\x20\x20//\x20decom'+'press\x20colo'+'r\x20half-flo'+'ats\x0a\x20\x20\x20\x20ve'+'c2\x20colorRG'+'\x20=\x20unpackH'+'alf2x16(fl'+'oatBitsToU'+'int(halfDa'+'ta.x));\x0a\x20\x20'+'\x20\x20vec2\x20col'+'orB_\x20=\x20unp'+'ackHalf2x1'+'6(floatBit'+'sToUint(ha'+'lfData.y))'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.color\x20='+'\x20vec3(colo'+'rRG,\x20color'+'B_.x)\x20*\x20{L'+'IGHT_COLOR'+'_DIVIDER};'+'\x0a\x0a\x20\x20\x20\x20//\x20p'+'osition\x20an'+'d\x20range,\x20f'+'ull\x20floats'+'\x0a\x20\x20\x20\x20vec4\x20'+'lightPosRa'+'nge\x20=\x20samp'+'leLightTex'+'tureF(clus'+'terLightDa'+'ta,\x20{CLUST'+'ER_TEXTURE'+'_POSITION_'+'RANGE});\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'position\x20='+'\x20lightPosR'+'ange.xyz;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.range\x20=\x20l'+'ightPosRan'+'ge.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20d'+'irection\x20&'+'\x20flags\x20dat'+'a\x0a\x20\x20\x20\x20vec4'+'\x20lightDir_'+'Flags\x20=\x20sa'+'mpleLightT'+'extureF(cl')+('usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_DIRECTI'+'ON_FLAGS})'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20direction'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.directio'+'n\x20=\x20lightD'+'ir_Flags.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x2032bit\x20fl'+'ags\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20floatBi'+'tsToUint(l'+'ightDir_Fl'+'ags.w);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sSpot\x20=\x20(c'+'lusterLigh'+'tData.flag'+'s\x20&\x20(1u\x20<<'+'\x2030u))\x20!=\x20'+'0u;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.shape'+'\x20=\x20(cluste'+'rLightData'+'.flags\x20>>\x20'+'28u)\x20&\x200x3'+'u;\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.fallof'+'fModeLinea'+'r\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2027u'+'))\x20==\x200u;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.shadowInt'+'ensity\x20=\x20f'+'loat((clus'+'terLightDa'+'ta.flags\x20>'+'>\x200u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eIntensity'+'\x20=\x20float(('+'clusterLig'+'htData.fla'+'gs\x20>>\x208u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sDynamic\x20='+'\x20(clusterL'+'ightData.f'+'lags\x20&\x20(1u'+'\x20<<\x2022u))\x20'+'!=\x200u;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.is'+'Lightmappe'+'d\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2021u'+'))\x20!=\x200u;\x0a'+'}\x0a\x0avoid\x20de'+'codeCluste'+'rLightSpot'+'(inout\x20Clu'+'sterLightD'+'ata\x20cluste'+'rLightData'+')\x20{\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20cos\x20ang'+'les\x0a\x20\x20\x20\x20ve'+'c2\x20angles\x20'+'=\x20unpackHa'+'lf2x16(flo'+'atBitsToUi'+'nt(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight')+('Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20{CLUSTER'+'_TEXTURE_P'+'ROJ_MAT_0}'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_AREA_DA'+'TA_WIDTH})'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20{C'+'LUSTER_TEX'+'TURE_AREA_'+'DATA_HEIGH'+'T}).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20{CL'+'USTER_TEXT'+'URE_PROJ_M'+'AT_0});\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_PRO'+'J_MAT_1});'+'\x0a\x20\x20\x20\x20vec4\x20'+'m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20{CLUSTE'+'R_TEXTURE_'+'PROJ_MAT_2'+'});\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight')+('Data,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'2\x20biases\x20='+'\x20unpackHal'+'f2x16(floa'+'tBitsToUin'+'t(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20extra'+'ct\x20channel'+'\x20mask\x20from'+'\x20flags\x0a\x20\x20\x20'+'\x20uint\x20cook'+'ieFlags\x20=\x20'+'(clusterLi'+'ghtData.fl'+'ags\x20>>\x2023u'+')\x20&\x200x0Fu;'+'\x20\x20//\x204bits'+',\x20each\x20bit'+'\x20enables\x20a'+'\x20channel\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'cookieChan'+'nelMask\x20=\x20'+'vec4(uvec4'+'(cookieFla'+'gs)\x20&\x20uvec'+'4(1u,\x202u,\x20'+'4u,\x208u));\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.cookieCha'+'nnelMask\x20='+'\x20step(1.0,'+'\x20clusterLi'+'ghtData.co'+'okieChanne'+'lMask);\x20\x20/'+'/\x20Normaliz'+'e\x20to\x200.0\x20o'+'r\x201.0\x0a}\x0a\x0av'+'oid\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20Cluster'+'LightData\x20'+'light,\x20\x0a\x20\x20'+'\x20\x20vec3\x20wor'+'ldNormal,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'viewDir,\x20\x0a'+'\x20\x20\x20\x20vec3\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20')+('\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20vec'+'3(1.0);\x0a\x20\x20'+'\x20\x20float\x20di'+'ffuseAtten'+'uation\x20=\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20fallof'+'fAttenuati'+'on\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20omn'+'i\x20part\x20of\x20'+'the\x20light\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ightDirW\x20='+'\x20evalOmniL'+'ight(light'+'.position)'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'ormW\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20')+('else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20=\x20get'+'FalloffLin'+'ear(light.'+'range,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20getFa'+'lloffInvSq'+'uared(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_AREALIGH'+'TS\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shape\x20!='+'\x20{LIGHTSHA'+'PE_PUNCTUA'+'L})\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20hand'+'le\x20light\x20s'+'hape\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getRec'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirW,\x20lig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'DISK})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getD'+'iskLightDi'+'ffuse(worl'+'dNormal,\x20v'+'iewDir,\x20li'+'ghtDirW,\x20l'+'ightDirNor'+'mW)\x20*\x2016.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20g'+'etLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+');\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spot'+'\x20light\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20lightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_COOK'+'IES)\x20||\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x20/\x20cookie\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shadowIn'+'tensity\x20>\x20'+'0.0\x20||\x20lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'ared\x20shado'+'w\x20/\x20cookie'+'\x20data\x20depe'+'nds\x20on\x20lig'+'ht\x20type\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightOmniAt'+'lasViewpor'+'t(light);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowAtlasPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowEdge'+'Pixels\x20=\x20s'+'hadowAtlas'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_COOKIES\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'cookie\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightCook'+'ieData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.isSp'+'ot)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookie2'+'DClustered'+'(TEXTURE_P'+'ASS(cookie'+'AtlasTextu'+'re),\x20light'+'Projection'+'Matrix,\x20vP'+'ositionW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20cookieAt'+'tenuation\x20'+'=\x20getCooki'+'eCubeClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightDirW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask,\x20sh'+'adowTextur'+'eResolutio'+'n,\x20shadowE'+'dgePixels,'+'\x20light.omn'+'iAtlasView'+'port);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20shadow\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shadow'+'Intensity\x20'+'>\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d')+('ecodeClust'+'erLightSha'+'dowData(li'+'ght);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20shadowPa'+'rams\x20=\x20vec'+'4(shadowTe'+'xtureResol'+'ution,\x20lig'+'ht.shadowN'+'ormalBias,'+'\x20light.sha'+'dowBias,\x201'+'.0\x20/\x20light'+'.range);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'isSpot)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ot\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat'+'rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F1)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CF1(SHADOW'+'MAP_PASS(s'+'hadowAtlas'+'Texture),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20de'+'fined(CLUS'+'TER_SHADOW'+'_TYPE_PCF3'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_PASS(sha'+'dowAtlasTe'+'xture),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#elif\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF5('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owCoord,\x20s'+'hadowParam')+('s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCSS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCSS(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20m'+'ix(1.0,\x20sh'+'adow,\x20ligh'+'t.shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20om'+'ni\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20d'+'ir\x20=\x20norma'+'lOffsetPoi'+'ntShadow(s'+'hadowParam'+'s,\x20light.p'+'osition,\x20l'+'ightDirW,\x20'+'lightDirNo'+'rmW,\x20geome'+'tricNormal'+');\x20\x20//\x20nor'+'malBias\x20ad'+'justed\x20for'+'\x20distance\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F1(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF3)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF3(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,')+('\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wOmniClust'+'eredPCF5(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20*=\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20areaDi'+'ffuse\x20=\x20(d'+'iffuseAtte'+'nuation\x20*\x20'+'falloffAtt'+'enuation)\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaDiffuse\x20'+'=\x20mix(area'+'Diffuse,\x20v'+'ec3(0),\x20dL'+'TCSpecFres'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20dif'+'fuse\x20-\x20it\x20'+'does\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20')+('into\x20specu'+'lar\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20a'+'reaDiffuse'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20specular'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20areaLig'+'htSpecular'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'RECT})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecular\x20=\x20g'+'etRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20area'+'LightSpecu'+'lar\x20=\x20getD'+'iskLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x20//\x20sp'+'here\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getSp'+'hereLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp'+'ecFres\x20*\x20a'+'reaLightSp'+'ecular\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x20clear'+'\x20coat\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20areaLigh'+'tSpecularC')+('C;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shape\x20'+'==\x20{LIGHTS'+'HAPE_RECT}'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getRectLig'+'htSpecular'+'(clearcoat'+'_worldNorm'+'al,\x20viewDi'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(light'+'.shape\x20==\x20'+'{LIGHTSHAP'+'E_DISK})\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'arCC\x20=\x20get'+'DiskLightS'+'pecular(cl'+'earcoat_wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x20'+'//\x20sphere\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'rCC\x20=\x20getS'+'phereLight'+'Specular(c'+'learcoat_w'+'orldNormal'+',\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20ccLTCS'+'pecFres\x20*\x20'+'areaLightS'+'pecularCC\x20'+'*\x20falloffA'+'ttenuation'+'\x20*\x20light.c'+'olor\x20\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20{\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'unctualDif'+'fuse\x20=\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'CLUSTER_AR'+'EALIGHTS)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20punctual')+('Diffuse\x20=\x20'+'mix(punctu'+'alDiffuse,'+'\x20vec3(0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20punctu'+'alDiffuse;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20and\x20cle'+'ar\x20coat\x20ar'+'e\x20material'+'\x20settings\x20'+'and\x20get\x20in'+'cluded\x20by\x20'+'a\x20define\x20b'+'ased\x20on\x20th'+'e\x20material'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20halfD'+'ir\x20=\x20norma'+'lize(-ligh'+'tDirNormW\x20'+'+\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htSpecular'+'(halfDir,\x20'+'reflection'+'Dir,\x20world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'halfDir,\x20c'+'learcoatRe'+'flectionDi'+'r,\x20clearco'+'at_worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'clearcoat_'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20g'+'etFresnelC'+'C(dot(view'+'Dir,\x20halfD'+'ir));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20getLi'+'ghtSpecula'+'r(halfDir,'+'\x20clearcoat'+'Reflection'+'Dir,\x20clear'+'coat_world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec')+('ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNormW,'+'\x20sheen_glo'+'ss)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20Wri'+'te\x20to\x20glob'+'al\x20attenua'+'tion\x20value'+'s\x20(for\x20lig'+'htmapper)\x0a'+'\x20\x20\x20\x20dAtten'+'\x20=\x20falloff'+'Attenuatio'+'n;\x0a\x20\x20\x20\x20dLi'+'ghtDirNorm'+'W\x20=\x20lightD'+'irNormW;\x0a}'+'\x0a\x0avoid\x20eva'+'luateClust'+'erLight(\x0a\x20'+'\x20\x20\x20float\x20l'+'ightIndex,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20worldNorm'+'al,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20viewDi'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20reflect'+'ionDir,\x20\x0a#'+'if\x20defined'+'(LIT_CLEAR'+'COAT)\x0a\x20\x20\x20\x20'+'vec3\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'float\x20glos'+'s,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20vec3\x20geom'+'etricNorma'+'l,\x20\x0a\x20\x20\x20\x20ma'+'t3\x20tbn,\x20\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20ve'+'c3\x20clearco'+'at_worldNo'+'rmal,\x0a\x20\x20\x20\x20'+'float\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20flo'+'at\x20sheen_g'+'loss,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escence_in'+'tensity\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'decode\x20cor'+'e\x20light\x20da'+'ta\x20from\x20te'+'xtures\x0a\x20\x20\x20'+'\x20ClusterLi'+'ghtData\x20cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(cluster'+'LightData,'+'\x20lightInde'+'x);\x0a\x0a\x20\x20\x20\x20/'+'/\x20evaluate'+'\x20light\x20if\x20'+'it\x20uses\x20ac'+'cepted\x20lig'+'ht\x20mask\x0a\x20\x20'+'\x20\x20#ifdef\x20C')+('LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20bool\x20'+'acceptLigh'+'tMask\x20=\x20cl'+'usterLight'+'Data.isDyn'+'amic;\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bool\x20a'+'cceptLight'+'Mask\x20=\x20clu'+'sterLightD'+'ata.isLigh'+'tmapped;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20if\x20(a'+'cceptLight'+'Mask)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a#end')+('if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l'+'ightCellIn')+('dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20r'+'ed\x20channel'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20l'+'ightIndex\x20'+'=\x20texelFet'+'ch(cluster'+'WorldTextu'+'re,\x20ivec2('+'int(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20clusterV'+'),\x200).x;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'tIndex\x20<=\x20'+'0.0)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20break;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20evaluateC'+'lusterLigh'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightIndex\x20'+'*\x20255.0,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel,\x0a#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cl'+'earcoat_gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sheen_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),m1='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion)\x20*\x20cl'+'earcoatSpe'+'cularity;\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20r'+'et;\x0a}\x0a',_1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}\x0a',g1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}\x0a',S1='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}\x0a',y1='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),v1='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20envBoxM'+'in;\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20envBoxMax'+';\x0a#endif\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_CUB'+'EMAP_PROJE'+'CTION\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20c'+'ubeMapRota'+'te(nrdir);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20LIT_CUBEM'+'AP_PROJECT'+'ION\x20==\x20BOX'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'nrdir\x20=\x20cu'+'beMapRotat'+'e(nrdir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20rbmax\x20'+'=\x20(envBoxM'+'ax\x20-\x20vPosi'+'tionW)\x20/\x20n'+'rdir;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20rbmin'+'max\x20=\x20mix('+'rbmin,\x20rbm'+'ax,\x20vec3(g'+'reaterThan'+'(nrdir,\x20ve'+'c3(0.0))))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20fa\x20='+'\x20min(min(r'+'bminmax.x,'+'\x20rbminmax.'+'y),\x20rbminm'+'ax.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20posonbox\x20'+'=\x20vPositio'+'nW\x20+\x20nrdir'+'\x20*\x20fa;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envBoxPos\x20'+'=\x20(envBoxM'+'in\x20+\x20envBo'+'xMax)\x20*\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20no'+'rmalize(po'+'sonbox\x20-\x20e'+'nvBoxPos);'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',x1='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',T1='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',w1='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',E1='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'Z(vec4\x20nma'+'p)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20nmap'+'.xyz\x20*\x202.0'+'\x20-\x201.0;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'(vec4\x20nmap'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20normal;'+'\x0a\x20\x20\x20\x20norma'+'l.xy\x20=\x20nma'+'p.wy\x20*\x202.0'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20normal.z'+'\x20=\x20sqrt(1.'+'0\x20-\x20clamp('+'dot(normal'+'.xy,\x20norma'+'l.xy),\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20return\x20'+'normal;\x0a}\x0a'+'\x0a#endif\x0a',b1='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0avec3\x20'+'detailMode'+'_mul(vec3\x20'+'c1,\x20vec3\x20c'+'2)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20c1\x20*'+'\x20c2;\x0a}\x0a\x0ave'+'c3\x20detailM'+'ode_add(ve'+'c3\x20c1,\x20vec'+'3\x20c2)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'1\x20+\x20c2;\x0a}\x0a'+'\x0a//\x20https:'+'//en.wikip'+'edia.org/w'+'iki/Blend_'+'modes#Scre'+'en\x0avec3\x20de'+'tailMode_s'+'creen(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x201.0'+'\x20-\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2);\x0a}\x0a\x0a/'+'/\x20https://'+'en.wikiped'+'ia.org/wik'+'i/Blend_mo'+'des#Overla'+'y\x0avec3\x20det'+'ailMode_ov'+'erlay(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(1.0\x20-\x202.0'+'\x20*\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2),\x202.0\x20'+'*\x20c1\x20*\x20c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a\x0a'+'#endif\x0a',A1='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0a#ifdef\x20'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'detailMode'+'sPS\x22\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_DIFFUS'+'E_TEXTURE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20albedoT'+'exture\x20=\x20{'+'STD_DIFFUS'+'E_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_DIF'+'FUSE_TEXTU'+'RE_NAME},\x20'+'{STD_DIFFU'+'SE_TEXTURE'+'_UV},\x20text'+'ureBias)).'+'{STD_DIFFU'+'SE_TEXTURE'+'_CHANNEL};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSEDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'albedoDeta'+'il\x20=\x20{STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_DECODE}('+'texture2DB'+'ias({STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'DETAIL_TEX'+'TURE_UV},\x20'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20*=\x20albe'+'doTexture;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSE_VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAlbedo\x20*'+'=\x20gammaCor'+'rectInput('+'saturate(v'+'VertexColo'+'r.{STD_DIF'+'FUSE_VERTE'+'X_CHANNEL}'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',C1='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_TEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20{STD_EMIS'+'SIVE_TEXTU'+'RE_DECODE}'+'(texture2D'+'Bias({STD_'+'EMISSIVE_T'+'EXTURE_NAM'+'E},\x20{STD_E'+'MISSIVE_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'EMISSIVE_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_EMISSI'+'VE_VERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.{ST'+'D_EMISSIVE'+'_VERTEX_CH'+'ANNEL}));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',P1='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),M1='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',D1='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20floa'+'t\x20atlasSiz'+'e\x20=\x20512.0;'+'\x0aconst\x20flo'+'at\x20seamSiz'+'e\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0avec2\x20ma'+'pUv(vec2\x20u'+'v,\x20vec4\x20re'+'ct)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(mix(rect'+'.x\x20+\x20seamS'+'ize,\x20rect.'+'x\x20+\x20rect.z'+'\x20-\x20seamSiz'+'e,\x20uv.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mix('+'rect.y\x20+\x20s'+'eamSize,\x20r'+'ect.y\x20+\x20re'+'ct.w\x20-\x20sea'+'mSize,\x20uv.'+'y));\x0a}\x0a\x0a//'+'\x20map\x20a\x20nor'+'malized\x20eq'+'uirect\x20UV\x20'+'and\x20roughn'+'ess\x20level\x20'+'to\x20the\x20cor'+'rect\x20atlas'+'\x20rect.\x0avec'+'2\x20mapRough'+'nessUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'0,\x201.0\x20-\x20t'+',\x20t,\x20t\x20*\x200'+'.5));\x0a}\x0a\x0a/'+'/\x20map\x20shin'+'y\x20level\x20UV'+'\x0avec2\x20mapS'+'hinyUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'1.0\x20-\x20t,\x201'+'.0\x20-\x20t,\x20t,'+'\x20t\x20*\x200.5))'+';\x0a}\x0a\x0a#endi'+'f\x0a',I1='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20float\x20sky'+'boxIntensi'+'ty;\x0a#endif'+'\x0a\x0avec3\x20pro'+'cessEnviro'+'nment(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20skybo'+'xIntensity'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',L1='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(satura'+'te(1.0\x20-\x20s'+'quare(sqrD'+'ist\x20*\x20squa'+'re(invRadi'+'us))));\x0a}\x0a'+'\x0afloat\x20get'+'FalloffInv'+'Squared(fl'+'oat\x20lightR'+'adius,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20sqrDis'+'t\x20=\x20dot(li'+'ghtDir,\x20li'+'ghtDir);\x0a\x20'+'\x20\x20\x20float\x20f'+'alloff\x20=\x201'+'.0\x20/\x20(sqrD'+'ist\x20+\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20invRadiu'+'s\x20=\x201.0\x20/\x20'+'lightRadiu'+'s;\x0a\x0a\x20\x20\x20\x20fa'+'lloff\x20*=\x201'+'6.0;\x0a\x20\x20\x20\x20f'+'alloff\x20*=\x20'+'square(sat'+'urate(1.0\x20'+'-\x20square(s'+'qrDist\x20*\x20s'+'quare(invR'+'adius))));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20falloff'+';\x0a}\x0a',R1='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',O1='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0av'+'ec4\x20float2'+'vec4(float'+'\x20value)\x20{\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(CAPS'+'_TEXTURE_F'+'LOAT_RENDE'+'RABLE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4(val'+'ue,\x201.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20float'+'2uint(valu'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0a#e'+'ndif\x20//\x20FL'+'OAT_AS_UIN'+'T\x0a',F1='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',N1='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20saturate'+'(cosTheta)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20satu'+'rate(cosTh'+'eta),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',k1='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x200.5;\x0a}\x0a',U1='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',B1='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_GLO'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_GLOSS_'+'TEXTURE\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20*=\x20tex'+'ture2DBias'+'({STD_GLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_GLOSS_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_G'+'LOSS_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_INVE'+'RT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x201.0\x20-\x20dGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20+='+'\x200.0000001'+';\x0a}\x0a',z1='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20#'+'if\x20WEBGPU\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ce'+'nterProj.z'+'\x20=\x20clamp(c'+'enterProj.'+'z,\x200,\x20abs('+'centerProj'+'.w));\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20center'+'Proj.z\x20=\x20c'+'lamp(cente'+'rProj.z,\x20-'+'abs(center'+'Proj.w),\x20a'+'bs(centerP'+'roj.w));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20cente'+'r.view\x20=\x20c'+'enterView.'+'xyz\x20/\x20cent'+'erView.w;\x0a'+'\x20\x20\x20\x20center'+'.proj\x20=\x20ce'+'nterProj;\x0a'+'\x20\x20\x20\x20center'+'.projMat00'+'\x20=\x20matrix_'+'projection'+'[0][0];\x0a\x20\x20'+'\x20\x20center.m'+'odelView\x20='+'\x20modelView'+';\x0a\x20\x20\x20\x20retu'+'rn\x20true;\x0a}'+'\x0a',V1='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0a//\x20:\x200'+'.0\x20~\x201.0\x20'+'\x0afl'+'oat\x20comput'+'eAlpha(flo'+'at\x20muT,\x20fl'+'oat\x20uTime,'+'\x20float\x20uFa'+'deSpeed,\x20f'+'loat\x20life)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20age\x20=\x20('+'uTime\x20-\x20mu'+'T)\x20*\x202.0;\x20'+'//\x20'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'muT\x20>\x20uTim'+'e)\x20return\x20'+'0.0;\x0a\x0a\x20\x20\x20\x20'+'//\x20---\x20'+'\x20life\x20'+'---\x0a\x20\x20\x20\x20fl'+'oat\x20linear'+'Fade\x20=\x201.0'+'\x20-\x20age\x20/\x20l'+'ife;\x0a\x20\x20\x20\x20/'+'/\x20---\x20'+'\x20uFadeS'+'peed\x20---\x0a\x20'+'\x20\x20\x20float\x20e'+'xpFade\x20=\x20e'+'xp(-age\x20*\x20'+'uFadeSpeed'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20cl'+'amp(linear'+'Fade,\x200.0,'+'\x201.0);\x20\x0a\x20\x20'+'\x20\x20return\x20c'+'lamp(expFa'+'de,\x200.0,\x201'+'.0);\x0a}\x0a\x0a\x0av'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20uTime,\x20'+'bool\x20plusA'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'color\x20=\x20te'+'xelFetch(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a\x20\x20\x20\x20'+'#ifdef\x20IS_'+'4D\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20tDat'+'a\x20=\x20texelF'+'etch(trans'+'formLifecy'+'cle,\x20sourc'+'e.uv,\x200).x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20muT'+'\x20=\x20tData.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20saveA'+'\x20=\x20pointCl'+'oudModeEna'+'bled\x20==\x201\x20'+'?\x201.0\x20:\x20co'+'lor.a;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20alpha\x20=\x20s'+'aveA;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(uOp'+'enAnim\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20alp'+'ha\x20=\x20alpha'+'\x20*\x20(muT\x20-\x20'+'uTime\x20+\x200.'+'05);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20age\x20=\x20u'+'Time\x20-\x20muT'+';\x20\x20\x20\x20//\x20'+'\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20uFad'+'eSpeed\x20=\x202'+('.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20life\x20=\x200'+'.1;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20alph'+'a\x20=\x20comput'+'eAlpha(muT'+',\x20uTime,\x20u'+'FadeSpeed,'+'\x20life);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'alpha\x20*=\x20a'+'lpha;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor.a\x20=\x20p'+'lusA\x20?\x20alp'+'ha\x20:\x20saveA'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20ret'+'urn\x20color;'+'\x0a}\x0a\x0a'),G1='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ement\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20aaF'+'actor;\x20//\x20'+'for\x20scenes'+'\x20generated'+'\x20with\x20anti'+'aliasing\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20vec2\x20'+'v;\x0a\x20\x20\x20\x20flo'+'at\x20dlen;\x0a\x20'+'\x20\x20\x20vec2\x20cS'+'ize;\x0a\x20\x20\x20\x20v'+'ec2\x20cUV;\x0a}'+';\x0a\x0a#includ'+'e\x20\x22gsplatE'+'valSHVS\x22\x0a#'+'include\x20\x22g'+'splatQuatT'+'oMat3VS\x22\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+('D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_COEFFS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x20='+'=\x20true\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22gsplatSog'+'sDataVS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSo'+'gsSHVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0avoi'+'d\x20clipCorn'+'er(inout\x20S'+'platCorner'+'\x20corner,\x20f'+'loat\x20alpha'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20clip\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20255.'+'0\x20/\x20alpha)'+')\x20/\x202.0);\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20*='+'\x20clip;\x0a\x20\x20\x20'+'\x20corner.uv'+'\x20*=\x20clip;\x0a'+'}\x0a'),H1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{')+('\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec'+'3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat')+('a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex'+'ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu')+('nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),W1='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),$1='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20S'+'H_COEFFS\x203'+'\x0a\x20\x20\x20\x20#elif'+'\x20SH_BANDS\x20'+'==\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20SH_COEFFS'+'\x208\x0a\x20\x20\x20\x20#el'+'if\x20SH_BAND'+'S\x20==\x203\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20SH_COEF'+'FS\x2015\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20SH_COEFF'+'S\x200\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x200\x0a\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20SH_C1\x20'+'=\x200.488602'+'5119029199'+'f;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x201\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20f'+'loat\x20SH_C2'+'_0\x20=\x201.092'+'5484305920'+'792f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'2_1\x20=\x20-1.0'+'9254843059'+'20792f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C2_2\x20=\x200.'+'3153915652'+'5252005f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C2_3\x20=\x20'+'-1.0925484'+'305920792f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'const\x20floa'+'t\x20SH_C2_4\x20'+'=\x200.546274'+'2152960396'+'f;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x202\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'3_0\x20=\x20-0.5'+'9004358992'+'66435f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_1\x20=\x202.'+'8906114426'+'40554f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_2\x20=\x20-0'+'.457045799'+'4644658f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C3_3\x20=\x20'+'0.37317633'+'25901154f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20float'+'\x20SH_C3_4\x20='+'\x20-0.457045'+'7994644658'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_5'+'\x20=\x201.44530'+'5721320277'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_6'+'\x20=\x20-0.5900'+'4358992664'+'35f;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+('ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'\x20\x20\x20\x20vec3\x20e'+'valSH(in\x20v'+'ec3\x20sh[SH_'+'COEFFS],\x20i'+'n\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20dir.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20y\x20=\x20dir'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201st\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20resul'+'t\x20=\x20SH_C1\x20'+'*\x20(-sh[0]\x20'+'*\x20y\x20+\x20sh[1'+']\x20*\x20z\x20-\x20sh'+'[2]\x20*\x20x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x201\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x202nd\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xx\x20=\x20x\x20*\x20x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'zz\x20=\x20z\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yz\x20=\x20y\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xz\x20=\x20x\x20*\x20z'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[3]\x20*\x20('+'SH_C2_0\x20*\x20'+'xy)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[4]\x20*\x20'+'(SH_C2_1\x20*'+'\x20yz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[5]\x20*'+'\x20(SH_C2_2\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x20xx\x20-\x20y'+'y))\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[6]\x20*\x20'+'(SH_C2_3\x20*'+'\x20xz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20*'+'\x20(SH_C2_4\x20'+'*\x20(xx\x20-\x20yy'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'+=\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20')+('xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20#endif\x0a'),X1='\x0amat3\x20quat'+'ToMat3(vec'+'4\x20R)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20R2\x20='+'\x20R\x20+\x20R;\x0a\x20\x20'+'\x20\x20float\x20X\x20'+'=\x20R2.x\x20*\x20R'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20Y\x20\x20=\x20R2'+'.y\x20*\x20R;\x0a\x20\x20'+'\x20\x20vec4\x20Z\x20\x20'+'=\x20R2.z\x20*\x20R'+';\x0a\x20\x20\x20\x20floa'+'t\x20W\x20=\x20R2.w'+'\x20*\x20R.w;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x201.0\x20-\x20'+'Z.z\x20-\x20W,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20Y.z\x20+\x20X'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20Y.z\x20-\x20X,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x201.'+'0\x20-\x20Y.y\x20-\x20'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20+\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20Y.w\x20+\x20Z.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20-\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',q1='\x0auniform\x20m'+'ediump\x20sam'+'pler2D\x20sh0'+';\x0a\x0auniform'+'\x20vec4\x20sh0_'+'mins;\x0aunif'+'orm\x20vec4\x20s'+'h0_maxs;\x0a\x0a'+'float\x20SH_C'+'0\x20=\x200.2820'+'9479177387'+'814;\x0a\x0avec4'+'\x20readColor'+'(in\x20SplatS'+'ource\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20clr\x20='+'\x20mix(sh0_m'+'ins,\x20sh0_m'+'axs,\x20texel'+'Fetch(sh0,'+'\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(vec3(0.'+'5)\x20+\x20clr.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'clr.w)));\x0a'+'}\x0a',j1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0a\x0auniform\x20'+'vec3\x20means'+'_mins;\x0auni'+'form\x20vec3\x20'+'means_maxs'+';\x0a\x0auniform'+'\x20vec3\x20scal'+'es_mins;\x0au'+'niform\x20vec'+'3\x20scales_m'+'axs;\x0a\x0avec4'+'\x20unpackU32'+'(uint\x20v)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((v\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((v\x20>>'+'\x2016u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float((v'+'\x20>>\x208u)\x20&\x20'+'0xFFu)\x20/\x202'+'55.0,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float('+'v\x20&\x200xFFu)'+'\x20/\x20255.0\x0a\x20'+'\x20\x20\x20);\x0a}\x0a\x0au'+'vec4\x20packe'+'dSample;\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20th'+'e\x20packed\x20t'+'exture\x20sam'+'ple\x0a\x20\x20\x20\x20pa'+'ckedSample'+'\x20=\x20texelFe'+'tch(packed'+'Texture,\x20s'+'ource.uv,\x20'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20l\x20=\x20un'+'packU32(pa'+'ckedSample'+'.x).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20u\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20n\x20=\x20(l\x20*'+'\x20255.0\x20+\x20u'+'\x20*\x20255.0\x20*'+'\x20256.0)\x20/\x20'+'65535.0;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20mix(mean'+'s_mins,\x20me'+'ans_maxs,\x20'+'n);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20sign'+'(v)\x20*\x20(exp'+'(abs(v))\x20-'+'\x201.0);\x0a}\x0a\x0a'+'const\x20floa'+'t\x20norm\x20=\x202'+'.0\x20/\x20sqrt('+'2.0);\x0a\x0a//\x20'+'sample\x20cov'+'ariance\x20ve'+'ctors\x0avoid'+'\x20readCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'qdata\x20=\x20un'+'packU32(pa'+'ckedSample'+'.z);\x0a\x20\x20\x20\x20v'+'ec3\x20sdata\x20'+('=\x20unpackU3'+'2(packedSa'+'mple.w).xy'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20abc\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20f'+'loat\x20d\x20=\x20s'+'qrt(max(0.'+'0,\x201.0\x20-\x20d'+'ot(abc,\x20ab'+'c)));\x0a\x0a\x20\x20\x20'+'\x20uint\x20mode'+'\x20=\x20uint(qd'+'ata.w\x20*\x2025'+'5.0\x20+\x200.5)'+'\x20-\x20252u;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20q'+'uat\x20=\x20(mod'+'e\x20==\x200u)\x20?'+'\x20vec4(d,\x20a'+'bc)\x20:\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20((mode\x20='+'=\x201u)\x20?\x20ve'+'c4(abc.x,\x20'+'d,\x20abc.yz)'+'\x20:\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'(mode\x20==\x202'+'u)\x20?\x20vec4('+'abc.xy,\x20d,'+'\x20abc.z)\x20:\x20'+'vec4(abc,\x20'+'d)));\x0a\x0a\x20\x20\x20'+'\x20mat3\x20rot\x20'+'=\x20quatToMa'+'t3(quat);\x0a'+'\x20\x20\x20\x20vec3\x20s'+'cale\x20=\x20exp'+'(mix(scale'+'s_mins,\x20sc'+'ales_maxs,'+'\x20sdata));\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a'),Y1='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20sh_ce'+'ntroids;\x0a\x0a'+'uniform\x20fl'+'oat\x20shN_mi'+'ns;\x0aunifor'+'m\x20float\x20sh'+'N_maxs;\x0a\x0a/'+'/\x20To\x20suppo'+'rt\x20each\x20SH'+'\x20degree,\x20r'+'eadSHData\x20'+'is\x20overloa'+'ded\x20based\x20'+'on\x20the\x20SH\x20'+'vector\x20dep'+'th\x20\x0a\x0avoid\x20'+'readSHData'+'(in\x20SplatS'+'ource\x20sour'+'ce,\x20out\x20ve'+'c3\x20sh[SH_C'+'OEFFS],\x20ou'+'t\x20float\x20sc'+'ale)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'ivec2\x20t\x20=\x20'+'ivec2(pack'+'edSample.x'+'\x20&\x20255u,\x20p'+'ackedSampl'+'e.y\x20&\x20255u'+');\x0a\x20\x20\x20\x20int'+'\x20n\x20=\x20t.x\x20+'+'\x20t.y\x20*\x20256'+';\x0a\x20\x20\x20\x20int\x20'+'u\x20=\x20(n\x20%\x206'+'4)\x20*\x20SH_CO'+'EFFS;\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20n\x20'+'/\x2064;\x0a\x0a\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20offset'+'\x20into\x20the\x20'+'centroids\x20'+'texture\x20an'+'d\x20read\x20con'+'secutive\x20t'+'exels\x0a\x20\x20\x20\x20'+'for\x20(int\x20i'+'\x20=\x200;\x20i\x20<\x20'+'SH_COEFFS;'+'\x20i++)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[i'+']\x20=\x20mix(ve'+'c3(shN_min'+'s),\x20vec3(s'+'hN_maxs),\x20'+'texelFetch'+'(sh_centro'+'ids,\x20ivec2'+'(u\x20+\x20i,\x20v)'+',\x200).xyz);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20scale\x20=\x20'+'1.0;\x0a}\x0a',K1='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0auniform\x20'+'float\x20rend'+'erSpace;\x0au'+'niform\x20flo'+'at\x20endSpac'+'e;\x0auniform'+'\x20int\x20uShap'+'eN;\x0a\x0a//\x20ca'+'lculate\x20th'+'e\x20clip-spa'+'ce\x20offset\x20'+'from\x20the\x20c'+'enter\x20for\x20'+'this\x20gauss'+'ian\x0abool\x20i'+'nitCorner('+'SplatSourc'+'e\x20source,\x20'+'SplatCente'+'r\x20center,\x20'+'out\x20SplatC'+'orner\x20corn'+'er,\x20int\x20po'+'intCloudMo'+'deEnabled)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'get\x20covari'+'ance\x0a\x20\x20\x20\x20v'+'ec3\x20covA,\x20'+'covB;\x0a\x20\x20\x20\x20'+'readCovari'+'ance(sourc'+'e,\x20covA,\x20c'+'ovB);\x0a\x0a\x20\x20\x20'+'\x20mat3\x20Vrk\x20'+'=\x20mat3(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.x,\x20covA.y'+',\x20covA.z,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.y,\x20covB'+'.x,\x20covB.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'covA.z,\x20co'+'vB.y,\x20covB'+'.z\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20focal\x20=\x20v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'v\x20=\x20camera'+'_params.w\x20'+'==\x201.0\x20?\x20v'+'ec3(0.0,\x200'+'.0,\x201.0)\x20:'+'\x20center.vi'+'ew.xyz;\x0a\x20\x20'+'\x20\x20float\x20J1'+'\x20=\x20focal\x20/'+'\x20v.z;\x0a\x20\x20\x20\x20'+'vec2\x20J2\x20=\x20'+'-J1\x20/\x20v.z\x20'+'*\x20v.xy;\x0a\x20\x20'+'\x20\x20mat3\x20J\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20J1,\x200'+'.0,\x20J2.x,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x200.'+'0,\x20J1,\x20J2.'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.0,\x200.0,'+'\x200.0\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20mat'+'3\x20W\x20=\x20tran'+'spose(mat3'+'(center.mo'+'delView));'+'\x0a\x20\x20\x20\x20mat3\x20'+'T\x20=\x20W\x20*\x20J;'+'\x0a\x20\x20\x20\x20mat3\x20'+'cov\x20=\x20tran'+'spose(T)\x20*'+('\x20Vrk\x20*\x20T;\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'calculate\x20'+'AA\x20factor\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20detOri'+'g\x20=\x20cov[0]'+'[0]\x20*\x20cov['+'1][1]\x20-\x20co'+'v[0][1]\x20*\x20'+'cov[0][1];'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20detBl'+'ur\x20=\x20(cov['+'0][0]\x20+\x200.'+'3)\x20*\x20(cov['+'1][1]\x20+\x200.'+'3)\x20-\x20cov[0'+'][1]\x20*\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20corn'+'er.aaFacto'+'r\x20=\x20sqrt(m'+'ax(detOrig'+'\x20/\x20detBlur'+',\x200.0));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20diagonal1'+'\x20=\x20cov[0]['+'0]\x20+\x200.3;\x0a'+'\x20\x20\x20\x20float\x20'+'offDiagona'+'l\x20=\x20cov[0]'+'[1];\x0a\x20\x20\x20\x20f'+'loat\x20diago'+'nal2\x20=\x20cov'+'[1][1]\x20+\x200'+'.3;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mid\x20='+'\x200.5\x20*\x20(di'+'agonal1\x20+\x20'+'diagonal2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20radius\x20='+'\x20length(ve'+'c2((diagon'+'al1\x20-\x20diag'+'onal2)\x20/\x202'+'.0,\x20offDia'+'gonal));\x0a\x20'+'\x20\x20\x20float\x20l'+'ambda1\x20=\x20m'+'id\x20+\x20radiu'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20lambda2'+'\x20=\x20max(mid'+'\x20-\x20radius,'+'\x200.1);\x0a\x20\x20\x20'+'\x20if\x20(point'+'CloudModeE'+'nabled\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20l'+'ambda1\x20=\x20l'+'ambda2\x20=\x202'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Us'+'e\x20the\x20smal'+'ler\x20viewpo'+'rt\x20dimensi'+'on\x20to\x20limi'+'t\x20the\x20kern'+'el\x20size\x20re'+'lative\x20to\x20'+'the\x20screen'+'\x20resolutio'+'n.\x0a\x20\x20\x20\x20flo'+'at\x20vmin\x20=\x20'+'min(1024.0'+',\x20min(view'+'port.x,\x20vi'+'ewport.y))'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20l1\x20=\x202.'+'0\x20*\x20min(sq'+'rt(2.0\x20*\x20l'+'ambda1),\x20v'+'min);\x0a\x20\x20\x20\x20'+'float\x20l2\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda2)'+',\x20vmin);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20')+('\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec2\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'viewport;\x0a'+'\x0a\x20\x20\x20\x20//\x20cu'+'ll\x20against'+'\x20frustum\x20x'+'/y\x20axes\x0a\x20\x20'+'\x20\x20if\x20(any('+'greaterTha'+'n(abs(cent'+'er.proj.xy'+')\x20-\x20vec2(m'+'ax(l1,\x20l2)'+')\x20*\x20c,\x20cen'+'ter.proj.w'+'w)))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20false;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec2\x20diago'+'nalVector\x20'+'=\x20normaliz'+'e(vec2(off'+'Diagonal,\x20'+'lambda1\x20-\x20'+'diagonal1)'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20bool\x20inRe'+'nderSpace\x20'+'=\x20(center.'+'view.x\x20>=\x20'+'-renderSpa'+'ce\x20&&\x20cent'+'er.view.x\x20'+'<=\x20renderS'+'pace)\x20&&\x20('+'center.vie'+'w.y\x20>=\x20-re'+'nderSpace\x20'+'&&\x20center.'+'view.y\x20<=\x20'+'renderSpac'+'e);\x0a\x20\x20\x20\x20bo'+'ol\x20openRen'+'derAnim\x20=\x20'+'renderSpac'+'e\x20<\x20endSpa'+'ce;\x0a\x20\x20\x20\x20bo'+'ol\x20inRende'+'r\x20=\x20render'+'Space\x20>=\x20e'+'ndSpace\x20||'+'\x20inRenderS'+'pace\x20||\x20po'+'intCloudMo'+'deEnabled\x20'+'==\x201;\x0a\x20\x20\x20\x20'+'if(!openRe'+'nderAnim\x20&'+'&\x20uSplatSc'+'ale\x20>\x200.0\x20'+'&&\x20uSplatS'+'cale\x20<=\x205.'+'0){\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale\x20=\x20'+'uSplatScal'+'e;\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(in'+'Render){\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(openR'+'enderAnim)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'scale\x20=\x20in'+'RenderSpac'+'e\x20?\x20uSplat'+'Scale\x20:\x200.'+'1;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20vec2\x20v1'+'\x20=\x20scale\x20*'+'\x20l1\x20*\x20diag'+'onalVector'+';\x0a\x20\x20\x20\x20vec2'+'\x20v2\x20=\x20scal'+'e\x20*\x20l2\x20*\x20v'+'ec2(diagon'+'alVector.y'+',\x20-diagona'+'lVector.x)')+(';\x0a\x0a\x20\x20\x20\x20cor'+'ner.offset'+'\x20=\x20(source'+'.cornerUV.'+'x\x20*\x20v1\x20+\x20s'+'ource.corn'+'erUV.y\x20*\x20v'+'2)\x20*\x20c;\x0a\x20\x20'+'\x20\x20//\x20corne'+'r.uv\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20if\x20(uSh'+'apeN\x20<\x203)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'corner.uv\x20'+'=\x20source.c'+'ornerUV;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'corner.cSi'+'ze\x20=\x20(v1\x20+'+'\x20v2)\x20*\x20c;\x0a'+'\x20\x20\x20\x20corner'+'.cUV\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),Z1='\x0a\x0auniform\x20'+'highp\x20samp'+'ler2D\x20tran'+'sformA;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20transfor'+'mB;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformR;\x0a'+'\x0a#ifdef\x20IS'+'_4D\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformMot'+'ion;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformLi'+'fecycle;\x0a#'+'endif\x0a\x0a//\x20'+'work\x20value'+'s\x0a//\x20uint\x20'+'tAw;\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20retu'+'rn\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a}\x0a\x0ama'+'t3\x20quatToM'+'at3v2(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.w;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(vec3\x20pack'+'ed)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(packed.x'+'yz,\x20sqrt(m'+'ax(0.0,\x201.'+'0\x20-\x20dot(pa'+'cked,\x20pack'+'ed))));\x0a}\x0a'+'\x0a//\x20sample'+'\x20covarianc'+'e\x20vectors\x0a'+'void\x20readC'+'ovariance('+'in\x20SplatSo'+'urce\x20sourc'+'e,\x20out\x20vec'+'3\x20covA,\x20ou'+'t\x20vec3\x20cov'+'B)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3v'+'2(unpackRo'+'tation(tR)'+');\x0a\x20\x20\x20\x20vec'+'3\x20scale\x20=\x20'+'tB.xyz;\x0a\x0a\x20'+'\x20\x20\x20//\x20M\x20=\x20'+'S\x20*\x20R\x0a\x20\x20\x20\x20'+'mat3\x20M\x20=\x20t'+'ranspose(m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.x'+'\x20*\x20rot[0],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.y\x20*\x20r'+'ot[1],\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.z\x20*\x20rot[2'+']\x0a\x20\x20\x20\x20));\x0a'+'\x0a\x20\x20\x20\x20covA\x20'+'=\x20vec3(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20covB\x20=\x20'+'vec3(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a\x0a'+'//\x20sample\x20'+'4D\x20covaria'+'nce\x20vector'+'s\x0avoid\x20rea'+'dFTGSCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB,ou'+'t\x20vec4\x20cov'+'ariance4D)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tB\x20=\x20tex'+'elFetch(tr'+'ansformB,\x20'+'source.uv,')+('\x200);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20tR\x20=\x20'+'texelFetch'+'(transform'+'R,\x20source.'+'uv,\x200).xyz'+';\x0a\x20\x20\x20\x20mat3'+'\x20rot\x20=\x20qua'+'tToMat3v2('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormLifecyc'+'le,\x20source'+'.uv,\x200).xy'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'muT\x20=\x20tDat'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20t'+'Scale\x20=\x20tD'+'ata.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20margi'+'nal\x20=\x20comp'+'uteMargina'+'lT(time,\x20m'+'uT,\x20tScale'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20re'+'turn\x20margi'+'nal;\x0a}\x0a\x0ave'+'c3\x20readCen'+'ter4D(Spla'+'tSource\x20so'+'urce,\x20floa'+'t\x20time)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20if(m'+'uT\x20>\x20-5.0)'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20movin'+'gSpeed\x20=\x20t')+('exelFetch('+'transformM'+'otion,\x20sou'+'rce.uv,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'platOffset'+'\x20=\x20movingS'+'peed\x20*\x20(ti'+'me\x20-\x20muT);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'platCenter'+'\x20+=\x20splatO'+'ffset;\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20spla'+'tCenter;\x0a}'+'\x0a'),Q1='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',J1='\x0auniform\x20i'+'nt\x20mode;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x200:\x20c'+'enters,\x201:'+'\x20rings\x0auni'+'form\x20float'+'\x20ringSize;'+'\x0auniform\x20i'+'nt\x20uShapeN'+';\x0a\x0a#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bay'+'erPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'opacityDit'+'herPS\x22\x0a\x20\x20\x20'+'\x20varying\x20f'+'loat\x20id;\x0a#'+'endif\x0a\x0a#if'+'def\x20PICK_P'+'ASS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pi'+'ckPS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20alphaC'+'lip;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20vLinearDe'+'pth;\x0a\x20\x20\x20\x20#'+'include\x20\x22f'+'loatAsUint'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20Fast\x20'+'approximat'+'e\x20e^x\x20base'+'d\x20on\x20https'+'://nic.sch'+'raudolph.o'+'rg/pubs/Sc'+'hraudolph9'+'9.pdf\x0acons'+'t\x20float\x20\x20E'+'XP_A\x20\x20\x20\x20\x20\x20'+'=\x2012102203'+'.0;\x20\x20\x20//\x20'+'\x202^23\x20/\x20ln'+'(2)\x0aconst\x20'+'int\x20\x20\x20\x20EXP'+'_BC_RMS\x20=\x20'+'1064866808'+';\x20\x20\x20//\x20(12'+'7\x20<<\x2023)\x20-'+'\x2060801\x20*\x208'+'\x0afloat\x20fas'+'tExp(float'+'\x20x)\x20{\x0a\x20\x20\x20\x20'+'int\x20i\x20=\x20in'+'t(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20in'+'tBitsToFlo'+'at(i);\x0a}\x0a\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianU'+'V;\x0avarying'+'\x20mediump\x20v'+'ec4\x20gaussi'+'anColor;\x0av'+'arying\x20med'+'iump\x20vec2\x20'+'gaussianSi'+'ze;\x0avaryin'+'g\x20mediump\x20'+'vec2\x20gauss'+'ianCUV;\x0ava'+'rying\x20medi'+'ump\x20float\x20'+'saveMargin'+'al;\x0a\x0a//\x20'+'\x20p\x20\x20N'+'\x20\x0a//\x20p:'+'\x20\x20(UV\x20'+')\x0a//'+'\x20N:\x20\x0a//\x20'+'r:\x20'+('1\x0a/'+'/\x20center:\x20'+'\x0abool\x20'+'insideRegu'+'larPolygon'+'(vec2\x20p,\x20i'+'nt\x20N,\x20floa'+'t\x20r,\x20vec2\x20'+'center)\x20{\x0a'+'\x20\x20\x20\x20//\x20'+'\x0a\x20'+'\x20\x20\x20vec2\x20d\x20'+'=\x20p\x20-\x20cent'+'er;\x0a\x20\x20\x20\x20fl'+'oat\x20theta\x20'+'=\x20atan(d.y'+',\x20d.x);\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20flo'+'at\x20len\x20=\x20l'+'ength(d);\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20float'+'\x20anglePerS'+'ide\x20=\x202.0\x20'+'*\x203.141592'+'65\x20/\x20float'+'(N);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x200\x20~'+'\x20anglePerS'+'ide\x20\x0a\x20\x20\x20'+'\x20float\x20loc'+'alAngle\x20=\x20'+'mod(theta,'+'\x20anglePerS'+'ide);\x0a\x0a\x20\x20\x20'+'\x20//\x20'+'\x20'+'N\x20\x0a\x20\x20'+'\x20\x20float\x20ma'+'xR\x20=\x20r\x20*\x20c'+'os(anglePe'+'rSide\x20/\x202.'+'0)\x20/\x20cos(l'+'ocalAngle\x20'+'-\x20anglePer'+'Side\x20/\x202.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20len\x20<'+'=\x20maxR;\x0a}\x0a'+'\x0a//\x20'+'N\x20soft\x20'+'mask\x0afloat'+'\x20polygonSo'+'ftMask(vec'+'2\x20p,\x20int\x20N'+',\x20float\x20ra'+'dius,\x20floa'+'t\x20edgeSoft'+'ness)\x20{\x0a\x20\x20'+'\x20\x20float\x20an'+'gle\x20=\x20atan'+'(p.y,\x20p.x)'+';\x0a\x20\x20\x20\x20floa'+'t\x20sector\x20='+'\x206.2831853'+'\x20/\x20float(N'+');\x20\x20//\x20'+'\x0a\x20\x20\x20\x20//'+'\x20\x20['+'-sector/2,'+'\x20sector/2]'+'\x0a\x20\x20\x20\x20float'+'\x20halfSecto'+'r\x20=\x20sector'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20float\x20lo'+'calAngle\x20='+'\x20mod(angle'+'\x20+\x20halfSec'+'tor,\x20secto'+'r)\x20-\x20halfS'+'ector;\x0a\x0a\x20\x20'+'\x20\x20//\x20'+'\x0a'+'\x20\x20\x20\x20float\x20'+'boundary\x20='+'\x20radius\x20*\x20'+'cos(halfSe'+'ctor)\x20/\x20co'+'s(localAng'+'le);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20=\x20'+'\x0a\x20\x20\x20\x20'+'float\x20dist'+'\x20=\x20boundar'+'y\x20-\x20length'+'(p);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20smoot')+('hstep\x20'+'\x20(edgeSof'+'tness\x20'+')\x0a\x20\x20\x20\x20'+'float\x20alph'+'a\x20=\x20smooth'+'step(0.0,\x20'+'edgeSoftne'+'ss,\x20dist);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20alpha;\x20'+'//\x200~1\x0a}\x0a\x0a'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20mediump\x20'+'float\x20A\x20=\x20'+'dot(gaussi'+'anUV,\x20gaus'+'sianUV);\x0a\x20'+'\x20\x20\x20if\x20(A\x20>'+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'valuate\x20al'+'pha\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20alpha\x20=\x20'+'fastExp(-A'+'\x20*\x204.0)\x20*\x20'+'gaussianCo'+'lor.a;\x0a\x20\x20\x20'+'\x20//\x20TODO\x20u'+'ShapeN\x20alp'+'ha\x0a\x20\x20\x20\x20//\x20'+'float\x20dx\x20='+'\x20abs(gauss'+'ianCUV.x)\x20'+'/\x20gaussian'+'Size.x;\x0a\x20\x20'+'\x20\x20//\x20float'+'\x20dy\x20=\x20abs('+'gaussianCU'+'V.y)\x20/\x20gau'+'ssianSize.'+'y;\x0a\x20\x20\x20\x20//\x20'+'float\x20B\x20=\x20'+'max(dx,\x20dy'+');\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20'+'\x0a\x20\x20\x20\x20//\x20'+'mediump\x20fl'+'oat\x20alpha\x20'+'=\x20exp(-pow'+'(B,\x202.0)\x20*'+'\x204.0)\x20*\x20ga'+'ussianColo'+'r.a;\x0a\x0a\x20\x20\x20\x20'+'bool\x20openR'+'ingMode\x20=\x20'+'ringSize\x20>'+'\x200.0\x20&&\x20mo'+'de\x20==\x201;\x20/'+'/\x20&&\x20uCont'+'rolMode\x20=='+'\x201;\x20\x0a\x20\x20\x20\x20i'+'f\x20(openRin'+'gMode\x20&&\x20s'+'aveMargina'+'l\x20>=\x200.05)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(A\x20<\x201'+'.0\x20-\x20ringS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'lpha\x20=\x20max'+'(0.05,\x20alp'+'ha);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alpha\x20'+'=\x200.6;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20bool\x20ope'+'nShapeMode'+'\x20=\x20uShapeN'+'\x20>\x202;\x20//\x20&'+'&\x20uControl'+'Mode\x20==\x201;'+'\x0a\x20\x20\x20\x20if\x20(o'+'penShapeMo'+'de)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20gaussi'+'anCUV\x20*\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20rad'+'ius\x20=\x201.0;')+('\x20//\x201.0\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20edgeSoft'+'ness\x20=\x200.0'+'5;\x20//\x200.05'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v\x20*=\x201.0;/'+'/0.9;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20c'+'enter\x20=\x20ve'+'c2(0.0,\x200.'+'0);\x20\x20\x20//\x20'+''+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20alpha\x20'+'=\x20polygonS'+'oftMask(uv'+',\x20uShapeN,'+'\x20radius,\x20e'+'dgeSoftnes'+'s);\x20//\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(!insideR'+'egularPoly'+'gon(uv,\x20uS'+'hapeN,\x20rad'+'ius,\x20cente'+'r))\x20{\x20//'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20defined(S'+'HADOW_PASS'+')\x20||\x20defin'+'ed(PICK_PA'+'SS)\x20||\x20def'+'ined(PREPA'+'SS_PASS)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20a'+'lphaClip)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'getPickOut'+'put();\x0a\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'ADOW_PASS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(0'+'.0,\x200.0,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#elif'+'\x20PREPASS_P'+'ASS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2vec4(v'+'LinearDept'+'h);\x0a\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x201.0\x20/'+'\x20255.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20DI'+'THER_NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(alph'+'a,\x20id\x20*\x200.'+'013);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'gaussianCo'+'lor.xyz,\x20a'+'lpha);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),eP='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),tP='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',sP='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0aunifor'+'m\x20float\x20pr'+'erenderCTi'+'me;\x0aunifor'+'m\x20float\x20uS'+'aturation;'+'\x20//\x200.0-2.'+'01.0\x20'+'\x0auniform'+'\x20float\x20uHu'+'eOffset;\x20\x20'+'//\x20'+'360'+'\x0auniform\x20v'+'ec3\x20clrOff'+'set;\x0aunifo'+'rm\x20vec4\x20cl'+'rScale;\x0aun'+'iform\x20floa'+'t\x20uOpacity'+';\x0auniform\x20'+'int\x20uInver'+'tOpacity;\x0a'+'\x0avarying\x20m'+'ediump\x20vec'+'2\x20gaussian'+'UV;\x0avaryin'+'g\x20mediump\x20'+'vec4\x20gauss'+'ianColor;\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianS'+'ize;\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianCUV;\x0av'+'arying\x20med'+'iump\x20float'+'\x20saveMargi'+'nal;\x0a\x0a//\x20='+'====\x20\x20H'+'SV/RGB\x20\x20'+'=====\x0ahigh'+'p\x20vec3\x20rgb'+'2hsv(highp'+'\x20vec3\x20c)\x20{'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20cMa'+'x\x20=\x20max(ma'+'x(c.r,\x20c.g'+'),\x20c.b);\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20cMin\x20'+'=\x20min(min('+'c.r,\x20c.g),'+'\x20c.b);\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20delta\x20='+'\x20cMax\x20-\x20cM'+'in\x20+\x201e-10'+';\x20//\x200\x0a'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20h\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'if\x20(delta\x20'+'>\x201e-6)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(cMax\x20==\x20'+'c.r)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20=\x20mod((c.'+'g\x20-\x20c.b)\x20/'+'\x20delta,\x206.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(cMax\x20=='+'\x20c.g)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.b\x20-'+'\x20c.r)\x20/\x20de'+'lta\x20+\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.r\x20-'+'\x20c.g)\x20/\x20de'+'lta\x20+\x204.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20/=\x206.0;\x20/'+'/\x20\x20[0,1]'+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(h\x20<\x200.0'+')\x20h\x20+=\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20s\x20=\x20('+'cMax\x20<\x201e-'+'6)\x20?\x200.0\x20:'+'\x20delta\x20/\x20c'+'Max;\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20v\x20=\x20cMax;'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec3(h,\x20'+'s,\x20v);\x0a}\x0a\x0a'+'highp\x20vec3'+'\x20hsv2rgb(h'+'ighp\x20vec3\x20'+'c)\x20{\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20h\x20=\x20c.x\x20*'+'\x206.0;\x20//\x200'+'-6\x0a\x20\x20\x20\x20hig'+'hp\x20float\x20s'+'\x20=\x20c.y;\x0a\x20\x20'+'\x20\x20highp\x20fl'+'oat\x20v\x20=\x20c.'+'z;\x0a\x0a\x20\x20\x20\x20hi'+'ghp\x20int\x20i\x20'+'=\x20int(floo'+'r(h));\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20f\x20=\x20h\x20-'+'\x20float(i);'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20p\x20='+'\x20v\x20*\x20(1.0\x20'+'-\x20s);\x0a\x20\x20\x20\x20'+'highp\x20floa'+'t\x20q\x20=\x20v\x20*\x20'+'(1.0\x20-\x20s\x20*'+'\x20f);\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20t\x20=\x20v\x20*\x20('+'1.0\x20-\x20s\x20*\x20'+'(1.0\x20-\x20f))'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(i\x20==\x200)\x20r'+'eturn\x20vec3'+'(v,\x20t,\x20p);'+'\x0a\x20\x20\x20\x20else\x20'+'if\x20(i\x20==\x201'+')\x20return\x20v'+'ec3(q,\x20v,\x20'+'p);\x0a\x20\x20\x20\x20el'+'se\x20if\x20(i\x20='+'=\x202)\x20retur'+'n\x20vec3(p,\x20'+'v,\x20t);\x0a\x20\x20\x20'+'\x20else\x20if\x20('+'i\x20==\x203)\x20re'+'turn\x20vec3('+'p,\x20q,\x20v);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(i\x20==\x204)'+'\x20return\x20ve'+'c3(t,\x20p,\x20v'+');\x0a\x20\x20\x20\x20els'+'e\x20return\x20v'+'ec3(v,\x20p,\x20'+'q);\x20//\x20i=='+'5\x0a}\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0a#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20varying\x20'+'float\x20vLin'+'earDepth;\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20')+('=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20saveMargi'+'nal\x20=\x20getM'+'arginalT(s'+'ource,\x20uTi'+'me);\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'marginal\x20='+'\x20uOpenAnim'+'\x20==\x201\x20?\x201.'+'0\x20:\x20saveMa'+'rginal;\x0a\x20\x20'+'\x20\x20if\x20(marg'+'inal\x20<\x200.0'+'5)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20dis'+'cardVec;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20modelCent'+'er;\x0a\x20\x20\x20\x20bo'+'ol\x20isCente'+'r4D\x20=\x20save'+'Marginal\x20>'+'=\x200.05;\x0a\x20\x20'+'\x20\x20if\x20(isCe'+'nter4D)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'delCenter\x20'+'=\x20readCent'+'er4D(sourc'+'e,\x20uTime);'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20modelCen'+'ter\x20=\x20read'+'Center(sou'+'rce);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20Spl'+'atCenter\x20c'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'center))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return;'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20int\x20'+'showCloud\x20'+'=\x20pointClo'+'udModeEnab'+'led;\x0a\x20\x20\x20\x20i'+'f\x20(prerend'+'erCTime\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(prer'+'enderCTime'+'\x20>=\x201.0\x20&&'+'\x20prerender'+'CTime\x20<\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20showClo'+'ud\x20=\x201;\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(prerend'+'erCTime\x20>='+'\x202.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20proje'+'ct\x20center\x20'+'to\x20screen\x20'+'space\x0a\x20\x20\x20\x20'+'SplatCorne'+'r\x20corner;\x0a'+'\x20\x20\x20\x20if\x20(!i'+'nitCorner('+'source,\x20ce'+'nter,\x20corn'+'er,\x20showCl'+'oud))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20')+('discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20vec'+'4\x20clr\x20=\x20re'+'adColor(so'+'urce,\x20uTim'+'e,\x20!isCent'+'er4D,\x20poin'+'tCloudMode'+'Enabled);\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'apply\x20AA\x20c'+'ompensatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.a\x20*=\x20c'+'orner.aaFa'+'ctor;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20if(margi'+'nal\x20>\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.w\x20*=\x20'+'marginal;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20\x0a\x20'+'\x20\x20\x20if\x20(uCo'+'ntrolColor'+'Mode\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'tint/brigh'+'tness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr\x20=\x20'+'clr\x20*\x20clrS'+'cale\x20+\x20vec'+'4(clrOffse'+'t,\x200.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(uInvertO'+'pacity\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20clr'+'.a\x20=\x201.0\x20-'+'\x20clr.a;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20don\x27t\x20'+'allow\x20out-'+'of-range\x20a'+'lpha\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20clr\x20=\x20c'+'lamp(clr,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20spheri'+'cal\x20harmon'+'ics\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20the\x20'+'model-spac'+'e\x20view\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20norm'+'alize(cent'+'er.view\x20*\x20'+'mat3(cente'+'r.modelVie'+'w));\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20rea'+'d\x20sh\x20coeff'+'icients\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sh[SH_COE'+'FFS];\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20readS'+'HData(sour'+'ce,\x20sh,\x20sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.x'+'yz\x20+=\x20eval'+'SH(sh,\x20dir'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(co'+'rner,\x20clr.'+'w);\x0a\x0a\x20\x20\x20\x20/')+('/\x20pointClo'+'udMode\x0a\x20\x20\x20'+'\x20//\x20if\x20(po'+'intCloudMo'+'deEnabled\x20'+'==\x201)\x20{\x0a\x20\x20'+'\x20\x20//\x20\x20\x20\x20\x20c'+'lr.a\x20=\x201.0'+';\x0a\x20\x20\x20\x20//\x20}'+'\x0a\x20\x20\x20\x20highp'+'\x20vec3\x20colo'+'r\x20=\x20max(cl'+'r.xyz,\x200.0'+');\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20\x0a'+'\x20\x20\x20\x20if\x20(uC'+'ontrolColo'+'rMode\x20==\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20\x20HSV'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'ighp\x20vec3\x20'+'hsv\x20=\x20rgb2'+'hsv(color)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20hsv.'+'y\x20*=\x20uSatu'+'ration;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20hsv.x\x20=\x20f'+'ract(hsv.x'+'\x20+\x20uHueOff'+'set\x20/\x20360.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20\x20RGB'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor\x20=\x20hsv'+'2rgb(hsv);'+'\x20\x20\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wri'+'te\x20output\x0a'+'\x20\x20\x20\x20gl_Pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4(cor'+'ner.offset'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20gaussia'+'nUV\x20=\x20corn'+'er.uv;\x0a\x20\x20\x20'+'\x20gaussianC'+'UV\x20=\x20corne'+'r.cUV;\x0a\x20\x20\x20'+'\x20gaussianS'+'ize\x20=\x20corn'+'er.cSize;\x0a'+'\x20\x20\x20\x20gaussi'+'anColor\x20=\x20'+'vec4(prepa'+'reOutputFr'+'omGamma(co'+'lor),\x20clr.'+'w);\x0a\x20\x20\x20\x20ga'+'ussianColo'+'r\x20=\x20clamp('+'gaussianCo'+'lor,\x200.0,\x20'+'1.0);\x0a\x0a\x20\x20\x20'+'\x20#ifndef\x20D'+'ITHER_NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'d\x20=\x20float('+'source.id)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vLin'+'earDepth\x20='+'\x20-center.v'+'iew.z;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),iP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'aPosition;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x0a\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(aPos'+'ition,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20getImage'+'EffectUV(('+'aPosition.'+'xy\x20+\x201.0)\x20'+'*\x200.5);\x0a\x20\x20'+'\x20\x20}\x0a',rP='\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a',aP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec4\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec4\x20vert'+'ex_color;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20v'+'oid\x20main(v'+'oid)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20=\x20vertex_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20matrix_'+'model\x20*\x20ve'+'rtex_posit'+'ion;\x0a\x20\x20\x20\x20}'+'\x0a',nP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0afloat\x20i'+'ridescence'+'_iorToFres'+'nel(float\x20'+'transmitte'+'dIor,\x20floa'+'t\x20incident'+'Ior)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'incidentIo'+'r)\x20/\x20(tran'+'smittedIor'+'\x20+\x20inciden'+'tIor),\x202.0'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_iorToFr'+'esnel(vec3'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20vec3(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3(incid'+'entIor)),\x20'+'vec3(2.0))'+';\x0a}\x0a\x0avec3\x20'+'iridescenc'+'e_fresnelT'+'oIor(vec3\x20'+'f0)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20sqrtF'+'0\x20=\x20sqrt(f'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20(vec3'+'(1.0)\x20+\x20sq'+'rtF0)\x20/\x20(v'+'ec3(1.0)\x20-'+'\x20sqrtF0);\x0a'+'}\x0a\x0avec3\x20ir'+'idescence_'+'sensitivit'+'y(float\x20op'+'d,\x20vec3\x20sh'+'ift)\x20{\x0a\x20\x20\x20'+'\x20float\x20PI\x20'+'=\x203.141592'+'653589793;'+'\x0a\x20\x20\x20\x20float'+'\x20phase\x20=\x202'+'.0\x20*\x20PI\x20*\x20'+'opd\x20*\x201.0e'+'-9;\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20v'+'al\x20=\x20vec3('+'5.4856e-13'+',\x204.4201e-'+'13,\x205.2481'+'e-13);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20pos\x20=\x20ve'+'c3(1.6810e'+'+06,\x201.795'+'3e+06,\x202.2'+'084e+06);\x0a'+'\x20\x20\x20\x20const\x20'+'vec3\x20var\x20='+'\x20vec3(4.32'+'78e+09,\x209.'+'3046e+09,\x20'+'6.6121e+09'+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20xyz\x20=\x20v'+'al\x20*\x20sqrt('+'2.0\x20*\x20PI\x20*'+'\x20var)\x20*\x20co'+'s(pos\x20*\x20ph'+'ase\x20+\x20shif'+'t)\x20*\x20exp(-'+'pow(phase,'+'\x202.0)\x20*\x20va'+'r);\x0a\x20\x20\x20\x20xy'+'z.x\x20+=\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+('cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20/=\x20vec3(1'+'.0685e-07)'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20mat3\x20XY'+'Z_TO_REC70'+'9\x20=\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x203.'+'2404542,\x20-'+'0.9692660,'+'\x20\x200.055643'+'4,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-1.5371385'+',\x20\x201.87601'+'08,\x20-0.204'+'0259,\x0a\x20\x20\x20\x20'+'\x20\x20\x20-0.4985'+'314,\x20\x200.04'+'15560,\x20\x201.'+'0572252\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'return\x20XYZ'+'_TO_REC709'+'\x20*\x20xyz;\x0a}\x0a'+'\x0afloat\x20iri'+'descence_f'+'resnel(flo'+'at\x20cosThet'+'a,\x20float\x20f'+'0)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20x\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x2\x20=\x20x\x20*'+'\x20x;\x0a\x20\x20\x20\x20fl'+'oat\x20x5\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x20\x0a\x0av'+'ec3\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'vec3\x20f0)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20clamp'+'(1.0\x20-\x20cos'+'Theta,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20float\x20x2'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'x5\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x20\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(vec3'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0avec3\x20calc'+'Iridescenc'+'e(float\x20ou'+'tsideIor,\x20'+'float\x20cosT'+'heta,\x20vec3'+'\x20base_f0,\x20'+'float\x20irid'+'escenceThi'+'ckness)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceIor\x20'+'=\x20mix(outs'+'ideIor,\x20ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20float'+'\x20sinTheta2'+'Sq\x20=\x20pow(o'+'utsideIor\x20'+'/\x20iridesce')+('nceIor,\x202.'+'0)\x20*\x20(1.0\x20'+'-\x20pow(cosT'+'heta,\x202.0)'+');\x0a\x20\x20\x20\x20flo'+'at\x20cosThet'+'a2Sq\x20=\x201.0'+'\x20-\x20sinThet'+'a2Sq;\x0a\x0a\x20\x20\x20'+'\x20if\x20(cosTh'+'eta2Sq\x20<\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec3(1.0)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20c'+'osTheta2\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20r0\x20=\x20irid'+'escence_io'+'rToFresnel'+'(iridescen'+'ceIor,\x20out'+'sideIor);\x0a'+'\x20\x20\x20\x20float\x20'+'r12\x20=\x20irid'+'escence_fr'+'esnel(cosT'+'heta,\x20r0);'+'\x0a\x20\x20\x20\x20float'+'\x20r21\x20=\x20r12'+';\x0a\x20\x20\x20\x20floa'+'t\x20t121\x20=\x201'+'.0\x20-\x20r12;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20phi12\x20=\x20i'+'ridescence'+'Ior\x20<\x20outs'+'ideIor\x20?\x20P'+'I\x20:\x200.0;\x0a\x20'+'\x20\x20\x20float\x20p'+'hi21\x20=\x20PI\x20'+'-\x20phi12;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20b'+'aseIor\x20=\x20i'+'ridescence'+'_fresnelTo'+'Ior(base_f'+'0\x20+\x20vec3(0'+'.0001));\x0a\x20'+'\x20\x20\x20vec3\x20r1'+'\x20=\x20iridesc'+'ence_iorTo'+'Fresnel(ba'+'seIor,\x20iri'+'descenceIo'+'r);\x0a\x20\x20\x20\x20ve'+'c3\x20r23\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta2,\x20'+'r1);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20phi23'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20if'+'\x20(baseIor['+'0]\x20<\x20iride'+'scenceIor)'+'\x20phi23[0]\x20'+'=\x20PI;\x0a\x20\x20\x20\x20'+'if\x20(baseIo'+'r[1]\x20<\x20iri'+'descenceIo'+'r)\x20phi23[1'+']\x20=\x20PI;\x0a\x20\x20'+'\x20\x20if\x20(base'+'Ior[2]\x20<\x20i'+'ridescence'+'Ior)\x20phi23'+'[2]\x20=\x20PI;\x0a'+'\x20\x20\x20\x20float\x20'+'opd\x20=\x202.0\x20'+'*\x20iridesce'+'nceIor\x20*\x20i'+'ridescence'+'Thickness\x20'+'*\x20cosTheta'+'2;\x0a\x20\x20\x20\x20vec'+'3\x20phi\x20=\x20ve'+'c3(phi21)\x20'+'+\x20phi23;\x20\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123Sq\x20=\x20c'+'lamp(r12\x20*'+'\x20r23,\x201e-5'+',\x200.9999);'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123\x20=\x20sqr')+('t(r123Sq);'+'\x0a\x20\x20\x20\x20vec3\x20'+'rs\x20=\x20pow(t'+'121,\x202.0)\x20'+'*\x20r23\x20/\x20(1'+'.0\x20-\x20r123S'+'q);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20c0\x20=\x20r'+'12\x20+\x20rs;\x0a\x20'+'\x20\x20\x20vec3\x20i\x20'+'=\x20c0;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cm\x20='+'\x20rs\x20-\x20t121'+';\x0a\x20\x20\x20\x20for\x20'+'(int\x20m\x20=\x201'+';\x20m\x20<=\x202;\x20'+'m++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20cm\x20*='+'\x20r123;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'sm\x20=\x202.0\x20*'+'\x20iridescen'+'ce_sensiti'+'vity(float'+'(m)\x20*\x20opd,'+'\x20float(m)\x20'+'*\x20phi);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20i\x20+='+'\x20cm\x20*\x20sm;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20max'+'(i,\x20vec3(0'+'.0));\x0a}\x0a\x0av'+'ec3\x20getIri'+'descence(f'+'loat\x20cosTh'+'eta,\x20vec3\x20'+'specularit'+'y,\x20float\x20i'+'ridescence'+'Thickness)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),oP='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_irid'+'escence;\x0a#'+'endif\x0a\x0avoi'+'d\x20getIride'+'scence()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_IRID'+'ESCENCE_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20iridescen'+'ce\x20*=\x20mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20textur'+'e2DBias({S'+'TD_IRIDESC'+'ENCE_TEXTU'+'RE_NAME},\x20'+'{STD_IRIDE'+'SCENCE_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCE_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scence\x20=\x20i'+'ridescence'+';\x20\x0a}\x0a',lP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_iridesc'+'enceThickn'+'essMin;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'end\x20=\x20text'+'ure2DBias('+'{STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE_NAME},'+'\x20{STD_IRID'+'ESCENCETHI'+'CKNESS_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCET'+'HICKNESS_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20iridescen'+'ceThicknes'+'s\x20=\x20mix(ma'+'terial_iri'+'descenceTh'+'icknessMin'+',\x20material'+'_iridescen'+'ceThicknes'+'sMax,\x20blen'+'d);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',cP='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'fractionIn'+'dex;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tIor()\x20{\x0a#'+'ifdef\x20STD_'+'IOR_CONSTA'+'NT\x0a\x20\x20\x20\x20dIo'+'r\x20=\x20materi'+'al_refract'+'ionIndex;\x0a'+'#else\x0a\x20\x20\x20\x20'+'dIor\x20=\x201.0'+'\x20/\x201.5;\x0a#e'+'ndif\x0a}\x0a',hP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20light{i}_'+'color;\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec3\x20light'+'{i}_direct'+'ion;\x0a\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20LIT_CODE'+'_LIGHTS_PO'+'INT\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20point\x20l'+'ights\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_pos'+'ition;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_ra'+'dius;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20SPOT\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20spot\x20ligh'+'ts\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20l'+'ight{i}_di'+'rection;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20light'+'{i}_innerC'+'oneAngle;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_outer'+'ConeAngle;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'3\x20light{i}'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20vec3\x20lig'+'ht{i}_half'+'Width;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_hal'+'fHeight;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'FALLOFF\x20=='+'\x20LINEAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+('T_CODE_FAL'+'LOFF_LINEA'+'R\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20linear\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}FALLOFF\x20'+'==\x20INVERSE'+'SQUARED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ca'+'sting\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'CASTSHADOW'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20light{'+'i}_shadowM'+'atrix;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_sh'+'adowIntens'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec4\x20ligh'+'t{i}_shado'+'wParams;\x20/'+'/\x20width,\x20h'+'eight,\x20bia'+'s,\x20radius\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_s'+'hadowSearc'+'hArea;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20light{i}'+'_cameraPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_sof'+'tShadowPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20direction'+'al\x20(cascad'+'ed)\x20shadow'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrixPa'+'lette[4];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec4\x20light'+'{i}_shadow'+'CascadeDis'+'tances;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20in'+'t\x20light{i}'+'_shadowCas')+('cadeCount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_shad'+'owCascadeB'+'lend;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'SHADOW_PCF'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2DShado'+'w\x20light{i}'+'_shadowMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_shadowM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'okie\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIGHT{i}C'+'OOKIE)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_COOKIE\x20'+'//\x20include'+'\x20functiona'+'lity\x20for\x20c'+'ookies\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20light{i'+'}_cookie;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_cooki'+'eIntensity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d'+'efined(LIG'+'HT{i}CASTS'+'HADOW)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20ligh'+'t{i}_shado'+'wMatrix;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20SPOT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20lig')+('ht{i}_cook'+'ie;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_c'+'ookieInten'+'sity;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIGHT{i}C'+'ASTSHADOW)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'light{i}_s'+'hadowMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIGH'+'T{i}COOKIE'+'_TRANSFORM'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20light{i}_'+'cookieMatr'+'ix;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c2\x20light{i'+'}_cookieOf'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),dP='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',fP='\x0avec3\x20eval'+'OmniLight('+'vec3\x20light'+'PosW)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'PositionW\x20'+'-\x20lightPos'+'W;\x0a}\x0a',uP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',pP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0avoid\x20e'+'valuateLig'+'ht{i}(\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20iridesc'+'enceFresne'+'l\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20color\x0a\x20\x20\x20'+'\x20vec3\x20ligh'+'tColor\x20=\x20l'+'ight{i}_co'+'lor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x20&&\x20!defi'+'ned(LIT_SH'+'ADOW_CATCH'+'ER)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20return\x20if'+'\x20the\x20light'+'\x20color\x20is\x20'+'black\x20(use'+'d\x20by\x20shado'+'w\x20catcher\x20'+'-\x20this\x20way'+'\x20this\x20ligh'+'t\x20is\x20very\x20'+'cheap)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(a'+'ll(equal(l'+'ightColor,'+'\x20vec3(0.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20dir'+'ectional\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light{i}_'+'direction;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20omn'+'i\x20or\x20spot\x20'+'light\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtDirW\x20=\x20'+'evalOmniLi'+'ght(light{'+'i}_positio'+'n);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightDi'+'rNormW\x20=\x20n'+'ormalize(l'+'ightDirW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20cookie\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'COOKIE)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_FALLOF'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_TRANSF'+'ORM\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2DXform('+('light{i}_c'+'ookie,\x20lig'+'ht{i}_shad'+'owMatrix,\x20'+'light{i}_c'+'ookieInten'+'sity,\x20ligh'+'t{i}_cooki'+'eMatrix,\x20l'+'ight{i}_co'+'okieOffset'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2D(light'+'{i}_cookie'+',\x20light{i}'+'_shadowMat'+'rix,\x20light'+'{i}_cookie'+'Intensity)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}COOKIE_TR'+'ANSFORM\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'Cookie2DCl'+'ipXform(li'+'ght{i}_coo'+'kie,\x20light'+'{i}_shadow'+'Matrix,\x20li'+'ght{i}_coo'+'kieIntensi'+'ty,\x20light{'+'i}_cookieM'+'atrix,\x20lig'+'ht{i}_cook'+'ieOffset).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20cookieAtt'+'enuation\x20='+'\x20getCookie'+'2DClip(lig'+'ht{i}_cook'+'ie,\x20light{'+'i}_shadowM'+'atrix,\x20lig'+'ht{i}_cook'+'ieIntensit'+'y).{LIGHT{'+'i}COOKIE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20OMNI\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'CookieCube'+'(light{i}_'+'cookie,\x20li'+'ght{i}_sha')+('dowMatrix,'+'\x20light{i}_'+'cookieInte'+'nsity).{LI'+'GHT{i}COOK'+'IE_CHANNEL'+'};\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'ltiply\x20lig'+'ht\x20color\x20b'+'y\x20the\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lig'+'htColor\x20*='+'\x20cookieAtt'+'enuation;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20di'+'stance\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20==\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}FAL'+'LOFF\x20==\x20LI'+'NEAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Linear(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20=\x20g'+'etFalloffI'+'nvSquared('+'light{i}_r'+'adius,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20non'+'\x20punctual\x20'+'lights\x20onl'+'y\x20gets\x20the'+'\x20range\x20win'+'dow\x20here\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Window(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20angle\x20'+'falloff\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20SPOT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20!de'+'fined(LIGH'+'T{i}COOKIE'+')\x20||\x20defin'+'ed(LIGHT{i'+'}COOKIE_FA'+'LLOFF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dAtten\x20'+'*=\x20getSpot'+'Effect(lig'+'ht{i}_dire'+'ction,\x20lig'+'ht{i}_inne'+'rConeAngle'+',\x20light{i}'+'_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20if\x20(dA'+'tten\x20<\x200.0')+('0001)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20are'+'a\x20light\x20va'+'lues\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcR'+'ectLightVa'+'lues(light'+'{i}_positi'+'on,\x20light{'+'i}_halfWid'+'th,\x20light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20calcDi'+'skLightVal'+'ues(light{'+'i}_positio'+'n,\x20light{i'+'}_halfWidt'+'h,\x20light{i'+'}_halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcS'+'phereLight'+'Values(lig'+'ht{i}_posi'+'tion,\x20ligh'+'t{i}_halfW'+'idth,\x20ligh'+'t{i}_halfH'+'eight);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'lighting\x20-'+'\x20LTC\x20light'+'s\x20do\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20'+'into\x20atten'+'uation\x20tha'+'t\x20affects\x20'+'specular\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20atten'+'Diffuse\x20-\x20'+'separate\x20d'+'iffuse\x20att'+'enuation\x20f'+'or\x20non-pun'+'ctual\x20ligh'+'t\x20sources\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20NB:\x20'+'A\x20better\x20a'+'pproximati'+'on\x20perhaps'+'\x20using\x20wra'+'p\x20lighting'+'\x20could\x20be\x20'+'implemente'+'d\x20here\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20atten'+'Diffuse\x20=\x20'+'getLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dL'+'ightDirNor'+'mW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x2016.0\x20i'+'s\x20a\x20consta'+'nt\x20that\x20is'+'\x20in\x20getFal'+'loffInvSqu'+'ared()\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20==\x20'+'RECT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getRectL'+'ightDiffus'+'e(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20lightD'+'irW,\x20dLigh'+'tDirNormW)'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20attenDiff'+'use\x20=\x20getD'+'iskLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20li'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getSpher'+'eLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20ligh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20one\x20'+'parameter\x20'+'is\x20unused\x20'+'for\x20punctu'+'al\x20lights\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20*=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20vec3('+'0.0),\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20apply\x20th'+'e\x20shadow\x20a'+'ttenuation'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'CASTSHADOW'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadow{i'+'}(vec3(0.0'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adow{i}(li'+'ghtDirW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20App')+('ly\x20shadow\x20'+'intensity\x20'+'to\x20the\x20sha'+'dow\x20value\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20=\x20mix'+'(1.0,\x20shad'+'ow,\x20light{'+'i}_shadowI'+'ntensity);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20*=\x20'+'shadow;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_SHADOW_'+'CATCHER)\x20&'+'&\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20accum'+'ulate\x20shad'+'ows\x20for\x20di'+'rectional\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ShadowCatc'+'her\x20*=\x20sha'+'dow;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20-\x20they\x20do'+'\x20not\x20mix\x20d'+'iffuse\x20lig'+'hting\x20into'+'\x20specular\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20('+'(attenDiff'+'use\x20*\x20dAtt'+'en)\x20*\x20ligh'+'tColor)\x20*\x20'+'(1.0\x20-\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(atte'+'nDiffuse\x20*'+'\x20dAtten)\x20*'+'\x20lightColo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20punctua'+'l\x20light\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(AR'+'EA_LIGHTS)'+'\x20&&\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(dAtt'+'en\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20litA'+'rgs_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20spec'+'ular\x20light'+'ing\x0a\x20\x20\x20\x20#i'+'fdef\x20LIGHT')+('{i}AFFECT_'+'SPECULARIT'+'Y\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x20//\x20area\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccSpecula'+'rLight\x20+=\x20'+'ccLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_clear'+'coat_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20ccLTC'+'SpecFres\x20*'+'\x20getDiskLi'+'ghtSpecula'+'r(litArgs_'+'clearcoat_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ge'+'tSphereLig'+'htSpecular'+'(litArgs_c'+'learcoat_w'+'orldNormal'+',\x20dViewDir'+'W)\x20*\x20dAtte'+'n\x20*\x20lightC'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20dLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp')+('ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20SPHERE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20d'+'LTCSpecFre'+'s\x20*\x20getSph'+'ereLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20punctual'+'\x20light\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20is\x20fres'+'nel\x20needed'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20LI'+'T_FRESNEL_'+'MODEL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'GHT{i}FRES'+'NEL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20hal'+'fDirW\x20=\x20no'+'rmalize(-d'+'LightDirNo'+'rmW\x20+\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20if\x20LTC\x20'+'lights\x20are'+'\x20present,\x20'+'specular\x20m'+'ust\x20be\x20acc'+'umulated\x20w'+'ith\x20specul'+'arity\x20(spe'+'cularity\x20i'+'s\x20pre\x20mult'+'iplied\x20by\x20'+'punctual\x20l'+'ight\x20fresn'+'el)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtspecula'+'rCC\x20=\x20getL'+'ightSpecul'+'ar(halfDir'+'W,\x20ccReflD'+'irW,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_clearcoat'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tspecularC'+'C\x20*=\x20getFr'+'esnelCC(do'+'t(dViewDir'+'W,\x20halfDir'+'W));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20lightsp'+'ecularCC;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20lightSpec'+'ular\x20=\x20get'+'LightSpecu'+'lar(halfDi'+'rW,\x20dReflD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightSpecu'+'lar\x20*=\x20get'+'Fresnel(do'+'t(dViewDir'+'W,\x20halfDir'+'W),\x20litArg'+'s_gloss,\x20l'+'itArgs_spe'+'cularity,\x20'+'iridescenc'+'eFresnel,\x20'+'litArgs_ir'+'idescence_'+'intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20*=\x20g'+'etFresnel('+'dot(dViewD'+'irW,\x20halfD'+'irW),\x20litA'+'rgs_gloss,'+'\x20litArgs_s')+('pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20lightSp'+'ecular\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20+=\x20light'+'Specular;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a#en'+'dif\x0a'),mP='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20vec3\x20'+'getShadowS'+'ampleCoord'+'{i}(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'urfacePosi'+'tion\x20=\x20wor'+'ldPosition'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT{i}_SHA'+'DOW_SAMPLE'+'_POINT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20len'+'gth(lightD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightDir'+'\x20=\x20surface'+'Position\x20-'+'\x20lightPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_S'+'OURCE_ZBUF'+'FER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+('NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20distScal'+'e\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20abs'+'(dot(vPosi'+'tionW\x20-\x20li'+'ghtPos,\x20li'+'ghtDirNorm'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20posi'+'tionInShad'+'owSpace\x20=\x20'+'shadowTran'+'sform\x20*\x20ve'+'c4(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM'+'PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.')+('w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20posit'+'ionInShado'+'wSpace.xy\x20'+'/=\x20positio'+'nInShadowS'+'pace.w;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20po'+'sitionInSh'+'adowSpace.'+'z\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20thi'+'s\x20is\x20curre'+'ntly\x20unuse'+'d\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SHADOW_SA'+'MPLE_Z_BIA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20positionI'+'nShadowSpa'+'ce.z\x20+=\x20ge'+'tShadowBia'+'s(shadowPa'+'rams.x,\x20sh'+'adowParams'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20positi'+'onInShadow'+'Space.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20surfaceP'+'osition;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'evaluation'+'\x20function\x0a'+'\x20\x20\x20\x20float\x20'+'getShadow{'+'i}(vec3\x20li'+'ghtDirW)\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20shado'+'w\x20cascades'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_CASCADES'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20sel'+'ect\x20shadow'+'\x20cascade\x20m'+'atrix\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'t\x20cascadeI'+'ndex\x20=\x20get'+'ShadowCasc'+'adeIndex(l'+'ight{i}_sh'+'adowCascad'+'eDistances'+',\x20light{i}'+'_shadowCas'+'cadeCount)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'_SHADOW_CA'+'SCADE_BLEN'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'scadeIndex'+'\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex'+',\x20light{i}'+'_shadowCas'+'cadeDistan'+'ces,\x20light')+('{i}_shadow'+'CascadeCou'+'nt,\x20light{'+'i}_shadowC'+'ascadeBlen'+'d);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mat4'+'\x20shadowMat'+'rix\x20=\x20ligh'+'t{i}_shado'+'wMatrixPal'+'ette[casca'+'deIndex];\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t4\x20shadowM'+'atrix\x20=\x20li'+'ght{i}_sha'+'dowMatrix;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20DIRE'+'CTIONAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20light'+'\x20does\x20not\x20'+'have\x20a\x20pos'+'ition\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20light'+'{i}_shadow'+'Params,\x20vP'+'ositionW,\x20'+'vec3(0.0),'+'\x20lightDirW'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20shad'+'owCoord\x20=\x20'+'getShadowS'+'ampleCoord'+'{i}(shadow'+'Matrix,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20vPosition'+'W,\x20light{i'+'}_position'+',\x20lightDir'+'W,\x20dLightD'+'irNormW,\x20d'+'VertexNorm'+'alW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Fade\x20di'+'rectional\x20'+'shadow\x20at\x20'+'the\x20far\x20di'+'stance\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadowCoord'+'\x20=\x20fadeSha'+'dow(shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owCascadeD'+'istances);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20--'+'---\x20sample'+'\x20the\x20shado'+'w\x20-----\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x20/'+'/\x20-----\x20di'+'rectional\x20'+'light\x20----')+('-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wVSM16(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x205'+'.54);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20VSM_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowVSM32('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x2015.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCS'+'S_32F\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sh'+'adowSearch'+'Area\x20=\x20vec'+'2(length(l'+'ight{i}_ha'+'lfWidth),\x20'+'length(lig'+'ht{i}_half'+'Height))\x20*'+'\x20light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCSS(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20light{i}_'+'cameraPara'+'ms,\x20shadow'+'SearchArea'+',\x20lightDir'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20light{i}'+'_softShado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF1_16'+'F\x20||\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'1_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF3'+'_16F\x20||\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCF3x3(SH'+'ADOWMAP_PA'+'SS(light{i'+'}_shadowMa'+'p),\x20shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF5_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF5_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(SHADOWMAP'+'_PASS(ligh'+'t{i}_shado'+'wMap),\x20sha'+'dowCoord,\x20'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20S'+'POT\x20//\x20---'+'--\x20spot\x20li'+'ght\x20-----\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20V'+'SM_16F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potVSM16(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x205.54,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowSpo')+('tVSM32(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x201'+'5.0,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20shad'+'owSearchAr'+'ea\x20=\x20vec2('+'length(lig'+'ht{i}_half'+'Width),\x20le'+'ngth(light'+'{i}_halfHe'+'ight))\x20*\x20l'+'ight{i}_sh'+'adowSearch'+'Area;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(lig'+'ht{i}_shad'+'owSearchAr'+'ea);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotPCSS('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x20light{i}'+'_cameraPar'+'ams,\x20shado'+'wSearchAre'+'a,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF1_1'+'6F\x20||\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA')+('DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F5_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_PASS(l'+'ight{i}_sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20light{i'+'}_shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x20//\x20'+'-----\x20omni'+'\x20light\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCSS_32F'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P'+'UNCTUAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(len'+'gth(light{'+'i}_halfWid'+'th),\x20lengt'+'h(light{i}'+'_halfHeigh'+'t))\x20*\x20ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2(light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20shadowSe'+'archArea,\x20'+'lightDirW)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_')+('32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF3_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF3_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowOmniPC'+'F3x3(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),_P='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20areaLight'+'sLutTex2;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCSSPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22shadow'+'SoftPS\x22\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(SH'+'ADOW_KIND_'+'VSM)\x0a\x20\x20\x20\x20#'+'include\x20\x22s'+('hadowEVSMP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_LINEA'+'R\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fall'+'offLinearP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22fal'+'loffInvSqu'+'aredPS\x22\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20LIT_COD'+'E_LIGHTS_P'+'OINT\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'ightDirPoi'+'ntPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22spot'+'PS\x22\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_CODE_CO'+'OKIE\x0a\x20\x20\x20\x20#'+'include\x20\x22c'+'ookiePS\x22\x0a#'+'endif\x0a\x0a//\x20'+'clustered\x20'+'lighting\x0a#'+'ifdef\x20LIT_'+'CLUSTERED_'+'LIGHTS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22clustered'+'LightPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHT_'+'COUNT\x20>\x200\x0a'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20genera'+'te\x20shadow\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionSha'+'dowPS,\x20LIG'+'HT_COUNT\x22\x0a'+'\x0a\x20\x20\x20\x20//\x20LO'+'OP\x20-\x20gener'+'ate\x20light\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionLig'+'htPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a'),gP='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'rectional\x20'+'lightmap\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x20&'+'&\x20defined('+'LIT_DIR_LI'+'GHTMAP)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dot(dir,\x20'+'dir)\x20<\x200.0'+'001)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'lightmap;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20vligh'+'t\x20=\x20satura'+'te(dot(dir'+',\x20-vertexN'+'ormal));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fli'+'ght\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20nl'+'ight\x20=\x20(fl'+'ight\x20/\x20max'+'(vlight,\x200'+'.01))\x20*\x200.'+'5;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p\x20*\x20nlight'+'\x20*\x202.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20half'+'Dir\x20=\x20norm'+'alize(-dir'+'\x20+\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'specularLi'+'ght\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20getFre'+'snel(dot(v'+'iewDir,\x20ha'+'lfDir),\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceInt'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20non-dire'+'ctional\x20li'+'ghtmap\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),SP='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'vec3\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_d'+'irLightMap'+';\x0a#endif\x0a\x0a'+'void\x20getLi'+'ghtMap()\x20{'+'\x0a\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_LIGHT'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dLi'+'ghtmap\x20*=\x20'+'{STD_LIGHT'+'_TEXTURE_D'+'ECODE}(tex'+'ture2DBias'+'({STD_LIGH'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'LIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_LIGHTM'+'AP_DIR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dir\x20=\x20'+'texture2DB'+'ias(textur'+'e_dirLight'+'Map,\x20{STD_'+'LIGHT_TEXT'+'URE_UV},\x20t'+'extureBias'+').xyz\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dir'+'Dot\x20=\x20dot('+'dir,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightm'+'apDir\x20=\x20(d'+'irDot\x20>\x200.'+'001)\x20?\x20dir'+'\x20/\x20sqrt(di'+'rDot)\x20:\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_LIGHT_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_LIGHT_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a',yP='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20alp'+'haRoughnes'+'s\x20=\x20roughn'+'ess\x20*\x20roug'+'hness;\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'dAnisotrop'+'y;\x0a\x20\x20\x20\x20vec'+'2\x20directio'+'n\x20=\x20dAniso'+'tropyRotat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'float\x20at\x20='+'\x20mix(alpha'+'Roughness,'+'\x201.0,\x20anis'+'otropy\x20*\x20a'+'nisotropy)'+';\x0a\x20\x20\x20\x20floa'+'t\x20ab\x20=\x20cla'+'mp(alphaRo'+'ughness,\x200'+'.001,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20anisotro'+'picT\x20=\x20nor'+'malize(tbn'+'\x20*\x20vec3(di'+'rection,\x200'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicB\x20=\x20'+'normalize('+'cross(tbn['+'2],\x20anisot'+'ropicT));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20NoH\x20=\x20dot'+'(worldNorm'+'al,\x20h);\x0a\x20\x20'+'\x20\x20float\x20To'+'H\x20=\x20dot(an'+'isotropicT'+',\x20h);\x0a\x20\x20\x20\x20'+'float\x20BoH\x20'+'=\x20dot(anis'+'otropicB,\x20'+'h);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20a2\x20=\x20'+'at\x20*\x20ab;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20vec3(ab\x20'+'*\x20ToH,\x20at\x20'+'*\x20BoH,\x20a2\x20'+'*\x20NoH);\x0a\x20\x20'+'\x20\x20float\x20v2'+'\x20=\x20dot(v,\x20'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20w2\x20=\x20a'+'2\x20/\x20v2;\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'ToV\x20=\x20dot('+'anisotropi'+'cT,\x20viewDi'+'r);\x0a\x20\x20\x20\x20fl'+'oat\x20BoV\x20=\x20'+'dot(anisot'+'ropicB,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20float\x20To'+'L\x20=\x20dot(an'+'isotropicT'+(',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20Bo'+'L\x20=\x20dot(an'+'isotropicB'+',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20No'+'V\x20=\x20dot(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20float'+'\x20NoL\x20=\x20dot'+'(worldNorm'+'al,\x20-light'+'DirNorm);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20lambdaV\x20='+'\x20NoL\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToV,\x20a'+'b\x20*\x20BoV,\x20N'+'oV));\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daL\x20=\x20NoV\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oL,\x20ab\x20*\x20B'+'oL,\x20NoL));'+'\x0a\x20\x20\x20\x20float'+'\x20G\x20=\x200.5\x20/'+'\x20(lambdaV\x20'+'+\x20lambdaL)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20D\x20*\x20G;'+'\x0a}\x0a\x0afloat\x20'+'getLightSp'+'ecular(vec'+'3\x20h,\x20vec3\x20'+'reflDir,\x20v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'float\x20glos'+'s,\x20mat3\x20tb'+'n)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'LightSpecu'+'lar(gloss,'+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20h,\x20ligh'+'tDirNorm,\x20'+'tbn);\x0a}\x0a'),vP='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',xP='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20PI\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',TP='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'hWithParam'+'s(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec4\x20ca'+'mera_param'+'s;\x20//\x20x:\x201'+'\x20/\x20camera_'+'far,\x20\x20\x20\x20\x20\x20'+'y:\x20camera_'+'far,\x20\x20\x20\x20\x20z'+':\x20camera_n'+'ear,\x20\x20\x20\x20\x20\x20'+'\x20\x20w:\x20is_or'+'tho\x0a#endif'+'\x0a\x0afloat\x20li'+'nearizeDep'+'th(float\x20z'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20linea'+'rizeDepthW'+'ithParams('+'z,\x20camera_'+'params);\x0a}'+'\x0a#endif\x0a',wP='\x0avoid\x20eval'+'uateBacken'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'SSAO\x20durin'+'g\x20lighting'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_SSAO'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ao\x20'+'*=\x20texture'+'2DLod(ssao'+'Texture,\x20g'+'l_FragCoor'+'d.xy\x20*\x20ssa'+'oTextureSi'+'zeInv,\x200.0'+').r;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20transf'+'orm\x20tangen'+'t\x20space\x20no'+'rmals\x20to\x20w'+'orld\x20space'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_NEED'+'S_NORMAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etReflDir('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20litArgs_'+'gloss,\x20dTB'+'N);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W\x20=\x20normal'+'ize(-refle'+'ct(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR_OR'+'_REFLECTIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20f'+'0\x20=\x201.0\x20/\x20'+'litArgs_io'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20f0\x20=\x20'+'(f0\x20-\x201.0)'+'\x20/\x20(f0\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20f0\x20'+'*=\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+('ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'mbient\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20addAmbie'+'nt(litArgs'+'_worldNorm'+'al);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20dDiffuse'+'Light\x20*\x20(1'+'.0\x20-\x20litAr'+'gs_specula'+'rity);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20move\x20a'+'mbient\x20col'+'or\x20out\x20of\x20'+'diffuse\x20(u'+'sed\x20by\x20Lig'+'htmapper,\x20'+'to\x20multipl'+'y\x20ambient\x20'+'color\x20by\x20a'+'ccumulated'+'\x20AO)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SEPARA'+'TE_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dA'+'mbientLigh'+'t\x20=\x20dDiffu'+'seLight;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_O'+'LD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20*=\x20mate'+'rial_ambie'+'nt;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OCCLUD'+'E_DIRECT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20occludeDi'+'ffuse(litA'+'rgs_ao);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTMAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'dLightMap('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_lightmap'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dViewDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dRef'+'lDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dTBN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTING\x20'+'||\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tionCC(ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_glo'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_FRESNE'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccFresne'+'l\x20=\x20getFre'+'snelCC(dot'+'(dViewDirW'+',\x20litArgs_'+'clearcoat_'+'worldNorma'+'l));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccRef'+'lection\x20*='+'\x20ccFresnel'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20*=\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'addReflect'+'ionSheen(l'+'itArgs_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20litArgs_s'+'heen_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Fr')+('esnel\x20has\x20'+'to\x20be\x20appl'+'ied\x20to\x20ref'+'lections\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tion(dRefl'+'DirW,\x20litA'+'rgs_gloss)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_FRES'+'NEL_MODEL\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dRe'+'flection.r'+'gb\x20*=\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.rgb\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n.rgb\x20*=\x20l'+'itArgs_spe'+'cularityFa'+'ctor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20ARE'+'A_LIGHTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20has\x20to\x20'+'be\x20accumul'+'ated\x20diffe'+'rently\x20if\x20'+'we\x20want\x20ar'+'ea\x20lights\x20'+'to\x20look\x20co'+'rrect\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dS'+'pecularLig'+'ht\x20*=\x20litA'+'rgs_specul'+'arity;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'valuate\x20ma'+'terial\x20bas'+'ed\x20area\x20li'+'ghts\x20data,')+('\x20shared\x20by'+'\x20all\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcLTC'+'LightValue'+'s(litArgs_'+'gloss,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_gl'+'oss,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20LOOP\x20-\x20e'+'valuate\x20al'+'l\x20non-clus'+'tered\x20ligh'+'ts\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT_COUNT\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tEvaluatio'+'nPS,\x20LIGHT'+'_COUNT\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clust'+'ered\x20light'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addClust'+'eredLights'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dReflDi'+'rW,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_CLEA'+'RCOAT)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20litAr'+'gs_specula'+'rity,\x20dVer'+'texNormalW'+',\x20dTBN,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_gloss,'+'\x20litArgs_s'+'heen_gloss'+',\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20AR'+'EA_LIGHTS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x20=\x20ve'+'c3(1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'thickness,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_albe'+'do,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_t'+'ransmissio'+'n,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_disp'+'ersion\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_iridesc'+'ence_inten'+'sity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20ambient'+'\x20occlusion'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_OC')+('CLUDE_DIRE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20occlu'+'deDiffuse('+'litArgs_ao'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIT_OCCLU'+'DE_SPECULA'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeS'+'pecular(li'+'tArgs_glos'+'s,\x20litArgs'+'_ao,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULARIT'+'Y_FACTOR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20litAr'+'gs_specula'+'rityFactor'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIT_OPACI'+'TY_FADES_S'+'PECULAR)\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIT_BLEN'+'D_TYPE\x20==\x20'+'NORMAL\x20||\x20'+'LIT_BLEND_'+'TYPE\x20==\x20PR'+'EMULTIPLIE'+'D\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20specLum\x20='+'\x20dot((dSpe'+'cularLight'+'\x20+\x20dReflec'+'tion.rgb\x20*'+'\x20dReflecti'+'on.a),\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecLum\x20+=\x20'+'dot(ccSpec'+'ularLight\x20'+'*\x20litArgs_'+'clearcoat_'+'specularit'+'y\x20+\x20ccRefl'+'ection\x20*\x20l'+'itArgs_cle'+'arcoat_spe'+'cularity,\x20'+'vec3(\x200.21'+'26,\x200.7152'+',\x200.0722\x20)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_opacity\x20'+'=\x20clamp(li'+'tArgs_opac'+'ity\x20+\x20gamm'+'aCorrectIn'+'put(specLu'+'m),\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;\x0a\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nd\x20chunks\x20'+'-\x20when\x20bak'+'ing\x20lightm'+'ap\x0a\x20\x20\x20\x20#if'+'def\x20LIT_LI')+('GHTMAP_BAK'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22bak'+'eLmEndPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_LIGHTM'+'AP_BAKING_'+'DIR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22bake'+'DirLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20en'+'d\x20chunks\x20-'+'\x20in\x20all\x20ot'+'her\x20cases\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22en'+'dPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22outputA'+'lphaPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_MSDF\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20applyMs'+'df(gl_Frag'+'Color);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22output'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22de'+'bugOutputP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HADOW_CATC'+'HER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20when\x20the'+'\x20shadow\x20ca'+'tcher\x20is\x20e'+'nabled\x20-\x20a'+'ccumulated'+'\x20shadows\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20=\x20vec3'+'(dShadowCa'+'tcher);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a'),EP='\x0a\x0a//\x20globa'+'ls\x0avec3\x20sR'+'eflection;'+'\x0avec3\x20dVer'+'texNormalW'+';\x0avec3\x20dTa'+'ngentW;\x0ave'+'c3\x20dBinorm'+'alW;\x0avec3\x20'+'dViewDirW;'+'\x0avec3\x20dRef'+'lDirW;\x0avec'+'3\x20ccReflDi'+'rW;\x0a\x0a//\x20Pe'+'r-light\x20te'+'mporaries\x0a'+'vec3\x20dLigh'+'tDirNormW;'+'\x0afloat\x20dAt'+'ten;\x0a\x0a//\x20O'+'utputs\x0amat'+'3\x20dTBN;\x0ave'+'c4\x20dReflec'+'tion;\x0avec3'+'\x20dDiffuseL'+'ight;\x0avec3'+'\x20dSpecular'+'Light;\x0aflo'+'at\x20ccFresn'+'el;\x0avec3\x20c'+'cReflectio'+'n;\x0avec3\x20cc'+'SpecularLi'+'ght;\x0afloat'+'\x20ccSpecula'+'rityNoFres'+';\x0avec3\x20sSp'+'ecularLigh'+'t;\x0a\x0a//\x20FRA'+'GMENT\x20SHAD'+'ER\x20INPUTS:'+'\x20UNIFORMS\x0a'+'\x0a#ifdef\x20LI'+'T_DISPERSI'+'ON\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'dispersion'+';\x0a#endif\x0a\x0a'+'#ifndef\x20LI'+'T_OPACITY_'+'FADES_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_alphaFad'+'e;\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_SSAO\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20unif'+'orm\x20vec2\x20s'+'saoTexture'+'SizeInv;\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20a'+'nd\x20shadowi'+'ng\x20declara'+'tions\x0a\x0a#if'+'def\x20LIT_SH'+'ADOW_CATCH'+'ER\x0a\x20\x20\x20\x20//\x20'+'a\x20variable'+'\x20to\x20accumu'+'late\x20shado'+'ws\x20for\x20sha'+'dow\x20catche'+'r\x20material'+'s\x0a\x20\x20\x20\x20floa'+'t\x20dShadowC'+'atcher\x20=\x201'+'.0;\x0a#endif'+'\x0a\x0a//\x20LOOP\x20'+'-\x20uniform\x20'+'declaratio'+'ns\x20for\x20all'+'\x20non-clust'+'ered\x20light'+'s\x0a#if\x20LIGH'+'T_COUNT\x20>\x20'+'0\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDeclarati'+'onPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+('\x20#if\x20LIT_F'+'RESNEL_MOD'+'EL\x20==\x20NONE'+'\x20&&\x20!defin'+'ed(LIT_REF'+'LECTIONS)\x20'+'&&\x20!define'+'d(LIT_DIFF'+'USE_MAP)\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a//\x20lightm'+'ap\x20baking\x0a'+'#ifdef\x20STD'+'_LIGHTMAP_'+'DIR\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20bakeDir;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_L'+'IGHTMAP_BA'+'KING_ADD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20ambie'+'ntBakeOccl'+'usionContr'+'ast;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20ambient'+'BakeOcclus'+'ionBrightn'+'ess;\x0a#endi'+'f\x0a'),bP='\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4(0'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ccS'+'pecularLig'+'ht\x20=\x20vec3('+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'NONE_SLICE'+'_MODE\x20==\x20S'+'LICED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22startN'+'ineSlicedP'+'S\x22\x0a\x20\x20\x20\x20#el'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20TILE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'startNineS'+'licedTiled'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_NEEDS_NOR'+'MAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW\x20=\x20n'+'ormalize(v'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'TANGENTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_HEI'+'GHTS)\x20||\x20d'+'efined(LIT'+'_USE_NORMA'+'LS)\x20||\x20def'+'ined(LIT_U'+'SE_CLEARCO'+'AT_NORMALS'+')\x20||\x20defin'+'ed(LIT_GGX'+'_SPECULAR)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dTa'+'ngentW\x20=\x20v'+'TangentW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dBin'+'ormalW\x20=\x20v'+'BinormalW;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20getVie'+'wDir();\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_TB'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_TWO_S'+'IDED_LIGHT'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'handleTwoS'+'idedLighti'+'ng();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20i'+'nvoke\x20fron'+'tend\x20funct'+'ions\x0a\x20\x20\x20\x20e'+'valuateFro'+'ntend();\x0a\x0a'+('\x20\x20\x20\x20#inclu'+'de\x20\x22debugP'+'rocessFron'+'tendPS\x22\x0a\x0a\x20'+'\x20\x20\x20evaluat'+'eBackend()'+';\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a'),AP='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20vec3\x20mate'+'rial_ambie'+'nt;\x0a\x0a#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTING\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightSp'+'ecularAnis'+'oGGXPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightS'+'pecularBli'+'nnPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'combinePS\x22'+'\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tmapAddPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'ADD_AMBIEN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ambi'+'entPS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIT_MSDF'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22msdfP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'include\x20\x22v'+'iewDirPS\x22\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flDirAniso'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a//\x20li'+'ghting\x20fun'+'ctionality')+('\x0a#include\x20'+'\x22lightingP'+'S\x22\x0a\x0a'),CP='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',PP='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',MP='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec4\x20ve'+'rtex_color'+';\x0a#endif\x0a\x0a'+'#ifdef\x20NIN'+'ESLICED\x0a\x0a\x20'+'\x20\x20\x20varying'+'\x20vec2\x20vMas'+'k;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'vTiledUv;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20v'+'ec2\x20outerS'+'cale;\x0a\x20\x20\x20\x20'+'uniform\x20me'+'diump\x20vec4'+'\x20atlasRect'+';\x0a\x0a#endif\x0a'+'\x0avec3\x20dPos'+'itionW;\x0ama'+'t4\x20dModelM'+'atrix;\x0a\x0a#i'+'nclude\x20\x22tr'+'ansformCor'+'eVS\x22\x0a\x0a#ifd'+'ef\x20UV0\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'c2\x20vertex_'+'texCoord1;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22uv1VS'+'\x22\x0a#endif\x0a\x0a'+'\x0a#ifdef\x20LI'+'NEAR_DEPTH'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20#d'+'efine\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'transformV'+'S\x22\x0a\x0a#ifdef'+'\x20NORMALS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22normalC'+'oreVS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22normalVS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20TANG'+'ENTS\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_tangent;\x0a'+'#endif\x0a\x0a//'+'\x20expand\x20un'+'iforms\x20for'+'\x20uv\x20transf'+'orms\x0a#incl'+'ude\x20\x22uvTra'+'nsformUnif'+'ormsPS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'#ifdef\x20MSD'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22msdf'+'VS\x22\x0a#endif'+'\x0a\x0a#include'+'\x20\x20\x22litUser'+'CodeVS\x22\x0a\x0av'+'oid\x20main(v'+'oid)\x20{\x0a\x0a\x20\x20'+'\x20\x20#include'+('\x20\x22litUserM'+'ainStartVS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'default\x20po'+'int\x20size\x20t'+'o\x201\x20in\x20cas'+'e\x20the\x20shad'+'er\x20is\x20used'+'\x20with\x20poin'+'ts\x0a\x20\x20\x20\x20gl_'+'PointSize\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20getP'+'osition();'+'\x0a\x20\x20\x20\x20vPosi'+'tionW\x20=\x20ge'+'tWorldPosi'+'tion();\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'NORMALS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vNor'+'malW\x20=\x20get'+'Normal();\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20TANGENT'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vTangentW\x20'+'=\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vBi'+'normalW\x20=\x20'+'cross(vNor'+'malW,\x20vTan'+'gentW)\x20*\x20v'+'ertex_tang'+'ent.w;\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(GGX_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3(0,\x201'+',\x200));\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV0\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv0'+'\x20=\x20getUv0('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20UV'+'0_UNMODIFI'+'ED\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv1\x20=\x20ge'+'tUv1();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20UV1_UNM'+'ODIFIED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vUv1\x20=\x20uv1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20expa'+'nd\x20code\x20fo'+'r\x20uv\x20trans'+'forms\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'uvTransfor'+'mVS,\x20UV_TR'+'ANSFORMS_C'+'OUNT\x22\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20VE'+'RTEX_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition')+(',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vPosi'+'tionW,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'SDF\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20unpackMs'+'dfParams()'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tUserMainE'+'ndVS\x22\x0a}\x0a'),DP='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20g'+'etPickOutp'+'ut();\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'REPASS_PAS'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20float'+'2vec4(vLin'+'earDepth);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a',IP='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LP='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20te'+'xtureBias\x20'+'=\x20-1000.0;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20texture'+'Bias;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litShade'+'rArgsPS\x22\x0a',RP='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20vec3\x20v'+'iew_positi'+'on;\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20light_ra'+'dius;\x0a#end'+'if\x0a\x0a#if\x20SH'+'ADOW_TYPE\x20'+'==\x20PCSS_32'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22line'+'arizeDepth'+'PS\x22\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'evaluateFr'+'ontend();\x0a'+'\x0a\x20\x20\x20\x20//\x20us'+'ing\x20non-st'+'andard\x20dep'+'th,\x20i.e\x20gl'+'_FragCoord'+'.z\x0a\x20\x20\x20\x20#if'+'def\x20PERSPE'+'CTIVE_DEPT'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20gl_Fra'+'gCoord.z;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SHADOW_'+'TYPE\x20==\x20PC'+'SS_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot/omn'+'i\x20shadows\x20'+'currently\x20'+'use\x20linear'+'\x20depth.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20TODO:\x20u'+'se\x20perspec'+'tive\x20depth'+'\x20for\x20spot/'+'omni\x20the\x20s'+'ame\x20way\x20as'+'\x20direction'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT_TYPE\x20'+'!=\x20DIRECTI'+'ONAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20depth\x20=\x20l'+'inearizeDe'+'pthWithPar'+'ams(depth,'+'\x20camera_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20min(di'+'stance(vie'+'w_position'+',\x20vPositio'+'nW)\x20/\x20ligh'+'t_radius,\x20'+'0.99999);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20MODI'+'FIED_DEPTH'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20VSM_'+'16F\x20||\x20SHA'+'DOW_TYPE\x20='+'=\x20VSM_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20exponen'+'t\x20=\x2015.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+('t\x20exponent'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20depth\x20=\x20'+'2.0\x20*\x20dept'+'h\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dep'+'th\x20=\x20\x20exp('+'exponent\x20*'+'\x20depth);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(dep'+'th,\x20depth*'+'depth,\x201.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'SHADOW_TYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'tore\x20depth'+'\x20into\x20R32\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.r\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ODIFIED_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20If\x20we\x20e'+'nd\x20up\x20usin'+'g\x20modified'+'\x20depth,\x20it'+'\x20needs\x20to\x20'+'be\x20explici'+'tly\x20writte'+'n\x20to\x20gl_Fr'+'agDepth\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20just\x20the\x20'+'simplest\x20c'+'ode,\x20color'+'\x20is\x20not\x20wr'+'itten\x20anyw'+'ay\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'}\x0a'),OP='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20vec2'+'\x20ccLTCUV;\x0a'+'#endif\x0a\x0ave'+'c2\x20getLTCL'+'ightUV(flo'+'at\x20gloss,\x20'+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x0a{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20max('+'(1.0\x20-\x20glo'+'ss)\x20*\x20(1.0'+'\x20-\x20gloss),'+'\x200.001);\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Uv(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'roughness\x20'+');\x0a}\x0a\x0a//\x20u'+'sed\x20for\x20en'+'ergy\x20conse'+'rvation\x20an'+'d\x20to\x20modul'+'ate\x20specul'+'ar\x0avec3\x20dL'+'TCSpecFres'+';\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20vec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0a\x0avec3\x20'+'getLTCLigh')+('tSpecFres('+'vec2\x20uv,\x20v'+'ec3\x20specul'+'arity)\x0a{\x0a\x20'+'\x20\x20\x20vec4\x20t2'+'\x20=\x20texture'+'2DLod(area'+'LightsLutT'+'ex2,\x20uv,\x200'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20spec'+'ularity\x20*\x20'+'t2.x\x20+\x20(\x20v'+'ec3(\x201.0\x20)'+'\x20-\x20specula'+'rity)\x20*\x20t2'+'.y;\x0a}\x0a\x0avoi'+'d\x20calcLTCL'+'ightValues'+'(float\x20glo'+'ss,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20speculari'+'ty,\x20float\x20'+'clearcoatG'+'loss,\x20vec3'+'\x20clearcoat'+'WorldNorma'+'l,\x20float\x20c'+'learcoatSp'+'ecularity)'+'\x0a{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x20\x0a\x0a#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20cc'+'LTCUV\x20=\x20ge'+'tLTCLightU'+'V(clearcoa'+'tGloss,\x20cl'+'earcoatWor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20ccLTCS'+'pecFres\x20=\x20'+'getLTCLigh'+'tSpecFres('+'ccLTCUV,\x20v'+'ec3(clearc'+'oatSpecula'+'rity));\x0a#e'+'ndif\x0a}\x0a\x0avo'+'id\x20calcRec'+'tLightValu'+'es(vec3\x20li'+'ghtPos,\x20ve'+'c3\x20halfWid'+'th,\x20vec3\x20h'+'alfHeight)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0avoid\x20c'+'alcDiskLig'+'htValues(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight)\x20{\x0a\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0av'+'oid\x20calcSp'+'hereLightV'+'alues(vec3'+'\x20lightPos,'+'\x20vec3\x20half'+'Width,\x20vec'+'3\x20halfHeig'+'ht)\x20{\x0a\x20\x20\x20\x20')+('dLTCCoords'+'\x20=\x20getSphe'+'reLightCoo'+'rds(lightP'+'os,\x20halfWi'+'dth,\x20halfH'+'eight);\x0a}\x0a'+'\x0a//\x20An\x20ext'+'ended\x20vers'+'ion\x20of\x20the'+'\x20implement'+'ation\x20from'+'\x20\x22How\x20to\x20s'+'olve\x20a\x20cub'+'ic\x20equatio'+'n,\x20revisit'+'ed\x22\x0a//\x20htt'+'p://moment'+'singraphic'+'s.de/?p=10'+'5\x0avec3\x20Sol'+'veCubic(ve'+'c4\x20Coeffic'+'ient)\x0a{\x0a\x20\x20'+'\x20\x20float\x20pi'+'\x20=\x203.14159'+';\x0a\x20\x20\x20\x20//\x20N'+'ormalize\x20t'+'he\x20polynom'+'ial\x0a\x20\x20\x20\x20Co'+'efficient.'+'xyz\x20/=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20//\x20D'+'ivide\x20midd'+'le\x20coeffic'+'ients\x20by\x20t'+'hree\x0a\x20\x20\x20\x20C'+'oefficient'+'.yz\x20/=\x203.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20A\x20=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20floa'+'t\x20B\x20=\x20Coef'+'ficient.z;'+'\x0a\x20\x20\x20\x20float'+'\x20C\x20=\x20Coeff'+'icient.y;\x0a'+'\x20\x20\x20\x20float\x20'+'D\x20=\x20Coeffi'+'cient.x;\x0a\x0a'+'\x20\x20\x20\x20//\x20Com'+'pute\x20the\x20H'+'essian\x20and'+'\x20the\x20discr'+'iminant\x0a\x20\x20'+'\x20\x20vec3\x20Del'+'ta\x20=\x20vec3('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-'+'Coefficien'+'t.z\x20*\x20Coef'+'ficient.z\x20'+'+\x20Coeffici'+'ent.y,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20-Coef'+'ficient.y\x20'+'*\x20Coeffici'+'ent.z\x20+\x20Co'+'efficient.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dot(vec2('+'Coefficien'+'t.z,\x20-Coef'+'ficient.y)'+',\x20Coeffici'+'ent.xy)\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'float\x20Disc'+'riminant\x20='+'\x20dot(vec2('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xlc'+',\x20xsc;\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20A\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20C_a\x20=\x20De'+'lta.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20D_a\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(sqr'+'t(Discrimi'+'nant),\x20-D_'+'a)\x20/\x203.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_1a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20x_3'+'a\x20=\x202.0\x20*\x20'+'sqrt(-C_a)'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20((x_1a'+'\x20+\x20x_3a)\x20>'+'\x202.0\x20*\x20B)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xl\x20=\x20x_1'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'\x20=\x20x_3a;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'c\x20=\x20vec2(x'+'l\x20-\x20B,\x20A);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20D\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_d'+'\x20=\x20D;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_d\x20=\x20Delt'+'a.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_d\x20=\x20-D\x20*\x20'+'Delta.y\x20+\x20'+'2.0\x20*\x20C\x20*\x20'+'Delta.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20Take\x20the\x20'+'cubic\x20root'+'\x20of\x20a\x20norm'+'alized\x20com'+'plex\x20numbe'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20Thet'+'a\x20=\x20atan(D'+'\x20*\x20sqrt(Di'+'scriminant'+'),\x20-D_d)\x20/'+'\x203.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_1d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_3d\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_d)\x20*\x20c'+'os(Theta\x20+'+'\x20(2.0\x20/\x203.'+'0)\x20*\x20pi);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20xs;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(x_1d\x20+\x20x_'+'3d\x20<\x202.0\x20*'+'\x20C)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xs\x20='+'\x20x_1d;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xs\x20=\x20x_3'+'d;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20xsc\x20=\x20ve'+'c2(-D,\x20xs\x20'+'+\x20C);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20flo'+'at\x20E\x20=\x20\x20xl'+'c.y\x20*\x20xsc.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20F\x20=\x20-xl'+'c.x\x20*\x20xsc.'+'y\x20-\x20xlc.y\x20')+('*\x20xsc.x;\x0a\x20'+'\x20\x20\x20float\x20G'+'\x20=\x20\x20xlc.x\x20'+'*\x20xsc.x;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20x'+'mc\x20=\x20vec2('+'C\x20*\x20F\x20-\x20B\x20'+'*\x20G,\x20-B\x20*\x20'+'F\x20+\x20C\x20*\x20E)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20Root\x20=\x20v'+'ec3(xsc.x\x20'+'/\x20xsc.y,\x20x'+'mc.x\x20/\x20xmc'+'.y,\x20xlc.x\x20'+'/\x20xlc.y);\x0a'+'\x0a\x20\x20\x20\x20if\x20(R'+'oot.x\x20<\x20Ro'+'ot.y\x20&&\x20Ro'+'ot.x\x20<\x20Roo'+'t.z)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root.xy'+'z\x20=\x20Root.y'+'xz;\x0a\x20\x20\x20\x20el'+'se\x20if\x20(Roo'+'t.z\x20<\x20Root'+'.x\x20&&\x20Root'+'.z\x20<\x20Root.'+'y)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.xzy'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20Root;\x0a'+'}\x0a\x0afloat\x20L'+'TC_Evaluat'+'eDisk(vec3'+'\x20N,\x20vec3\x20V'+',\x20vec3\x20P,\x20'+'mat3\x20Minv,'+'\x20Coords\x20po'+'ints)\x0a{\x0a\x20\x20'+'\x20\x20//\x20const'+'ruct\x20ortho'+'normal\x20bas'+'is\x20around\x20'+'N\x0a\x20\x20\x20\x20vec3'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'vec3\x20T2\x20=\x20'+'cross(N,\x20T'+'1);\x0a\x0a\x20\x20\x20\x20/'+'/\x20rotate\x20a'+'rea\x20light\x20'+'in\x20(T1,\x20T2'+',\x20N)\x20basis'+'\x0a\x20\x20\x20\x20//mat'+'3\x20R\x20=\x20tran'+'spose(mat3'+'(T1,\x20T2,\x20N'+'));\x0a\x20\x20\x20\x20ma'+'t3\x20R\x20=\x20tra'+'nsposeMat3'+'(\x20mat3(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'polygon\x20(a'+'llocate\x205\x20'+'vertices\x20f'+'or\x20clippin'+'g)\x0a\x20\x20\x20\x20vec'+'3\x20L_[\x203\x20];'+'\x0a\x20\x20\x20\x20L_[\x200'+'\x20]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[\x20'+'1\x20]\x20=\x20R\x20*\x20'+'(\x20points.c'+'oord1\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20L_['+'\x202\x20]\x20=\x20R\x20*'+'\x20(\x20points.'+'coord2\x20-\x20P'+'\x20);\x0a\x0a\x20\x20\x20\x20/'+'/\x20init\x20ell'+'ipse\x0a\x20\x20\x20\x20v'+'ec3\x20C\x20\x20=\x200'+'.5\x20*\x20(L_[0'+']\x20+\x20L_[2])'+';\x0a\x20\x20\x20\x20vec3'+'\x20V1\x20=\x200.5\x20'+'*\x20(L_[1]\x20-'+'\x20L_[2]);\x0a\x20'+'\x20\x20\x20vec3\x20V2'+'\x20=\x200.5\x20*\x20('+'L_[1]\x20-\x20L_'+'[0]);\x0a\x0a\x20\x20\x20'+'\x20C\x20\x20=\x20Minv')+('\x20*\x20C;\x0a\x20\x20\x20\x20'+'V1\x20=\x20Minv\x20'+'*\x20V1;\x0a\x20\x20\x20\x20'+'V2\x20=\x20Minv\x20'+'*\x20V2;\x0a\x0a\x20\x20\x20'+'\x20//if(dot('+'cross(V1,\x20'+'V2),\x20C)\x20>\x20'+'0.0)\x0a\x20\x20\x20\x20/'+'/\x20\x20\x20\x20retur'+'n\x200.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20compu'+'te\x20eigenve'+'ctors\x20of\x20e'+'llipse\x0a\x20\x20\x20'+'\x20float\x20a,\x20'+'b;\x0a\x20\x20\x20\x20flo'+'at\x20d11\x20=\x20d'+'ot(V1,\x20V1)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d22\x20=\x20do'+'t(V2,\x20V2);'+'\x0a\x20\x20\x20\x20float'+'\x20d12\x20=\x20dot'+'(V1,\x20V2);\x0a'+'\x20\x20\x20\x20if\x20(ab'+'s(d12)\x20/\x20s'+'qrt(d11\x20*\x20'+'d22)\x20>\x200.0'+'001)\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20tr\x20=\x20'+'d11\x20+\x20d22;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20det\x20='+'\x20-d12\x20*\x20d1'+'2\x20+\x20d11\x20*\x20'+'d22;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20use'+'\x20sqrt\x20matr'+'ix\x20to\x20solv'+'e\x20for\x20eige'+'nvalues\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20det\x20'+'=\x20sqrt(det'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20u\x20='+'\x200.5\x20*\x20sqr'+'t(tr\x20-\x202.0'+'\x20*\x20det);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20v\x20=\x200.5'+'\x20*\x20sqrt(tr'+'\x20+\x202.0\x20*\x20d'+'et);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20e'+'_max\x20=\x20(u\x20'+'+\x20v)\x20*\x20(u\x20'+'+\x20v);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_min\x20=\x20(u'+'\x20-\x20v)\x20*\x20(u'+'\x20-\x20v);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20V1_,\x20V2_;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(d11\x20>\x20'+'d22)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20V2_\x20'+'=\x20d12\x20*\x20V1'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12*V2'+'\x20+\x20(e_max\x20'+'-\x20d22)*V1;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20V2_\x20=\x20d'+'12*V2\x20+\x20(e'+'_min\x20-\x20d22'+')*V1;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20e_max'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'b\x20=\x201.0\x20/\x20'+'e_min;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V1\x20=\x20'+'normalize('+'V1_);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20V2\x20=\x20n'+'ormalize(V'+'2_);\x0a\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20dot(V1'+',\x20V1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20b\x20=\x201'+'.0\x20/\x20dot(V'+'2,\x20V2);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20*'+'=\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20*=\x20sqrt('+'b);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'V3\x20=\x20norma'+'lize(cross'+'(V1,\x20V2));'+'\x0a\x20\x20\x20\x20if\x20(d'+'ot(C,\x20V3)\x20'+'<\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V3\x20*='+'\x20-1.0;\x0a\x0a\x20\x20'+'\x20\x20float\x20L\x20'+'\x20=\x20dot(V3,'+'\x20C);\x0a\x20\x20\x20\x20f'+'loat\x20x0\x20=\x20'+'dot(V1,\x20C)'+'\x20/\x20L;\x0a\x20\x20\x20\x20'+'float\x20y0\x20='+'\x20dot(V2,\x20C'+')\x20/\x20L;\x0a\x0a\x20\x20'+'\x20\x20float\x20E1'+'\x20=\x20inverse'+'sqrt(a);\x0a\x20'+'\x20\x20\x20float\x20E'+'2\x20=\x20invers'+'esqrt(b);\x0a'+'\x0a\x20\x20\x20\x20a\x20*=\x20'+'L\x20*\x20L;\x0a\x20\x20\x20'+'\x20b\x20*=\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20c0\x20=\x20a'+'\x20*\x20b;\x0a\x20\x20\x20\x20'+'float\x20c1\x20='+'\x20a\x20*\x20b\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0\x20+\x20y0\x20*'+'\x20y0)\x20-\x20a\x20-'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20c2\x20=\x201'+'.0\x20-\x20a\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0)\x20-\x20b\x20*'+'\x20(1.0\x20+\x20y0'+'\x20*\x20y0);\x0a\x20\x20'+'\x20\x20float\x20c3'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ro'+'ots\x20=\x20Solv'+'eCubic(vec'+'4(c0,\x20c1,\x20'+'c2,\x20c3));\x0a'+'\x20\x20\x20\x20float\x20'+'e1\x20=\x20roots'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20e2\x20=\x20r'+'oots.y;\x0a\x20\x20'+'\x20\x20float\x20e3'+'\x20=\x20roots.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20avgDir\x20='+'\x20vec3(a\x20*\x20'+'x0\x20/\x20(a\x20-\x20'+'e2),\x20b\x20*\x20y'+'0\x20/\x20(b\x20-\x20e'+'2),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'rotate\x20=\x20m'+'at3(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20L1\x20=\x20sqrt'+'(-e2\x20/\x20e3)'+';\x0a\x20\x20\x20\x20floa'+'t\x20L2\x20=\x20sqr'+'t(-e2\x20/\x20e1'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20formFa'+'ctor\x20=\x20max'+'(0.0,\x20L1\x20*'+'\x20L2\x20*\x20inve')+('rsesqrt((1'+'.0\x20+\x20L1\x20*\x20'+'L1)\x20*\x20(1.0'+'\x20+\x20L2\x20*\x20L2'+')));\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20const\x20'+'float\x20LUT_'+'SIZE\x20=\x2064.'+'0;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_SCALE\x20='+'\x20(\x20LUT_SIZ'+'E\x20-\x201.0\x20)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20float\x20LU'+'T_BIAS\x20=\x200'+'.5\x20/\x20LUT_S'+'IZE;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20tab'+'ulated\x20hor'+'izon-clipp'+'ed\x20sphere\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vec2(a'+'vgDir.z\x20*\x20'+'0.5\x20+\x200.5,'+'\x20formFacto'+'r);\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv*LUT_'+'SCALE\x20+\x20LU'+'T_BIAS;\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'cale\x20=\x20tex'+'ture2DLod('+'areaLights'+'LutTex2,\x20u'+'v,\x200.0).w;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20formFac'+'tor*scale;'+'\x0a}\x0a\x0a//\x20LTC'+'_EvaluateD'+'isk\x20in\x20som'+'e\x20rare\x20cas'+'es\x20generea'+'tes\x20NaN\x20va'+'lues\x20in\x20a\x20'+'or\x20b,\x20just'+'\x20before\x20\x27f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x27\x0a//'+'\x20Get\x20rid\x20o'+'f\x20those\x20Na'+'n\x20values\x20b'+'efore\x20they'+'\x20propagate'+'\x20further,\x20'+'as\x20in\x20case'+'\x20of\x20bloom\x20'+'/\x20DOF\x20blur'+'s\x20they\x0a//\x20'+'propagate\x20'+'to\x20large\x20a'+'reas.\x20I\x20di'+'dn\x27t\x20find\x20'+'the\x20actual'+'\x20reason\x20wh'+'ere\x20those\x20'+'come\x20from,'+'\x20so\x20that\x20i'+'s\x20still\x20TO'+'DO.\x0a//\x20Not'+'e\x20that\x20onl'+'y\x20disk/sph'+'ere\x20lights'+'\x20are\x20causi'+'ng\x20it,\x20so\x20'+'only\x20handl'+'e\x20those.\x0af'+'loat\x20FixNa'+'n(float\x20va'+'lue)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'value\x20!=\x20v'+'alue\x20?\x200.0'+'\x20:\x20value;\x20'+'\x20//\x20isnan\x20'+'does\x20not\x20t'+'ranspile\x20c'+'orrectly,\x20'+'use\x20a\x20work'+'around\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20isnan(va'+'lue)\x20?\x200.0'+'\x20:\x20value;\x0a')+('\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afloat\x20'+'getRectLig'+'htDiffuse('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm)\x20{\x0a\x20\x20'+'\x20\x20return\x20L'+'TC_Evaluat'+'eRect(\x20wor'+'ldNormal,\x20'+'viewDir,\x20v'+'PositionW,'+'\x20mat3(\x201.0'+'\x20),\x20dLTCCo'+'ords\x20);\x0a}\x0a'+'\x0afloat\x20get'+'DiskLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20FixN'+'an(LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mat3('+'\x201.0\x20),\x20dL'+'TCCoords\x20)'+');\x0a}\x0a\x0afloa'+'t\x20getSpher'+'eLightDiff'+'use(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm)\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20float\x20fa'+'lloff\x20=\x20dS'+'phereRadiu'+'s\x20/\x20(dot(l'+'ightDir,\x20l'+'ightDir)\x20+'+'\x20dSphereRa'+'dius);\x0a\x20\x20\x20'+'\x20return\x20Fi'+'xNan(getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNorm)\x20*\x20f'+'alloff);\x0a}'+'\x0a\x0amat3\x20get'+'LTCLightIn'+'vMat(vec2\x20'+'uv)\x0a{\x0a\x20\x20\x20\x20'+'vec4\x20t1\x20=\x20'+'texture2DL'+'od(areaLig'+'htsLutTex1'+',\x20uv,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3(\x20t1.x,\x20'+'0,\x20t1.y\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3(\x20\x20\x20\x200,'+'\x201,\x20\x20\x20\x200\x20)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3(\x20t1.z'+',\x200,\x20t1.w\x20'+')\x0a\x20\x20\x20\x20);\x0a}'+'\x0a\x0afloat\x20ca'+'lcRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir')+(',\x20vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20mat'+'3\x20mInv\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afl'+'oat\x20getRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'calcRectLi'+'ghtSpecula'+'r(worldNor'+'mal,\x20viewD'+'ir,\x20dLTCUV'+');\x0a}\x0a\x0afloa'+'t\x20calcDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20mInv'+'\x20=\x20getLTCL'+'ightInvMat'+'(uv);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'Inv,\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a\x0a'+'float\x20getS'+'phereLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a'),FP='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_metaln'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tMetalness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20metal'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20materi'+'al_metalne'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_METAL'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_METAL'+'NESS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_META'+'LNESS_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_VERTEX\x0a\x20\x20'+'\x20\x20metalnes'+'s\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_METALNES'+'S_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dMet'+'alness\x20=\x20m'+'etalness;\x0a'+'}\x0a',NP='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifndef'+'\x20LIT_MSDF_'+'TEXT_ATTRI'+'BUTE\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20shadow_co'+'lor;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20shadow_o'+'ffset;\x0a#el'+'se\x0a\x20\x20\x20\x20var'+'ying\x20vec4\x20'+'outline_co'+'lor;\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20outline'+'_thickness'+';\x0a\x20\x20\x20\x20vary'+'ing\x20vec4\x20s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'shadow_off'+'set;\x0a#endi'+'f\x0a\x0avec4\x20ap'+'plyMsdf(ve'+'c4\x20color)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Convert\x20to'+'\x20linear\x20sp'+'ace\x20before'+'\x20processin'+'g\x0a\x20\x20\x20\x20//\x20T'+'ODO:\x20ideal'+'ly\x20this\x20wo'+'uld\x20receiv'+'e\x20the\x20colo'+'r\x20in\x20linea'+'r\x20space,\x20b'+'ut\x20that\x20wo'+'uld\x20requir'+'e\x20larger\x20c'+'hanges\x0a\x20\x20\x20'+('\x20//\x20on\x20the'+'\x20engine\x20si'+'de,\x20with\x20t'+'he\x20way\x20pre'+'multiplied'+'\x20alpha\x20is\x20'+'handled\x20as'+'\x20well.\x0a\x20\x20\x20'+'\x20color.rgb'+'\x20=\x20gammaCo'+'rrectInput'+'(color.rgb'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20sample\x20th'+'e\x20field\x0a\x20\x20'+'\x20\x20vec3\x20tsa'+'mple\x20=\x20tex'+'ture2D(tex'+'ture_msdfM'+'ap,\x20vUv0).'+'rgb;\x0a\x20\x20\x20\x20v'+'ec2\x20uvShdw'+'\x20=\x20vUv0\x20-\x20'+'shadow_off'+'set;\x0a\x20\x20\x20\x20v'+'ec3\x20ssampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20uvShdw).r'+'gb;\x0a\x0a\x20\x20\x20\x20/'+'/\x20get\x20the\x20'+'signed\x20dis'+'tance\x20valu'+'e\x0a\x20\x20\x20\x20floa'+'t\x20sigDist\x20'+'=\x20median(t'+'sample.r,\x20'+'tsample.g,'+'\x20tsample.b'+');\x0a\x20\x20\x20\x20flo'+'at\x20sigDist'+'Shdw\x20=\x20med'+'ian(ssampl'+'e.r,\x20ssamp'+'le.g,\x20ssam'+'ple.b);\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20limi'+'t\x20-\x20smalle'+'r\x20value\x20ma'+'kes\x20for\x20sh'+'arper\x20but\x20'+'more\x20alias'+'ed\x20text,\x20e'+'specially\x20'+'on\x20angles\x0a'+'\x20\x20\x20\x20//\x20too'+'\x20large\x20val'+'ue\x20(0.5)\x20c'+'reates\x20a\x20d'+'ark\x20glow\x20a'+'round\x20the\x20'+'letters\x0a\x20\x20'+'\x20\x20float\x20sm'+'oothingMax'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20vec'+'2\x20w\x20=\x20fwid'+'th(vUv0);\x0a'+'\x20\x20\x20\x20float\x20'+'smoothing\x20'+'=\x20clamp(w.'+'x\x20*\x20font_t'+'extureWidt'+'h\x20/\x20font_p'+'xrange,\x200.'+'0,\x20smoothi'+'ngMax);\x0a\x0a\x20'+'\x20\x20\x20float\x20m'+'apMin\x20=\x200.'+'05;\x0a\x20\x20\x20\x20fl'+'oat\x20mapMax'+'\x20=\x20clamp(1'+'.0\x20-\x20font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20float\x20')+('sigDistInn'+'er\x20=\x20map(m'+'apMin,\x20map'+'Max,\x20sigDi'+'st);\x0a\x20\x20\x20\x20f'+'loat\x20sigDi'+'stOutline\x20'+'=\x20map(mapM'+'in,\x20mapMax'+',\x20sigDist\x20'+'+\x20outline_'+'thickness)'+';\x0a\x20\x20\x20\x20sigD'+'istShdw\x20=\x20'+'map(mapMin'+',\x20mapMax,\x20'+'sigDistShd'+'w\x20+\x20outlin'+'e_thicknes'+'s);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20cente'+'r\x20=\x200.5;\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20smoo'+'thing\x20and\x20'+'use\x20to\x20gen'+'erate\x20opac'+'ity\x0a\x20\x20\x20\x20fl'+'oat\x20inside'+'\x20=\x20smooths'+'tep(center'+'-smoothing'+',\x20center+s'+'moothing,\x20'+'sigDistInn'+'er);\x0a\x20\x20\x20\x20f'+'loat\x20outli'+'ne\x20=\x20smoot'+'hstep(cent'+'er-smoothi'+'ng,\x20center'+'+smoothing'+',\x20sigDistO'+'utline);\x0a\x20'+'\x20\x20\x20float\x20s'+'hadow\x20=\x20sm'+'oothstep(c'+'enter-smoo'+'thing,\x20cen'+'ter+smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20vec4\x20t'+'color\x20=\x20(o'+'utline\x20>\x20i'+'nside)\x20?\x20o'+'utline\x20*\x20v'+'ec4(outlin'+'e_color.a\x20'+'*\x20outline_'+'color.rgb,'+'\x20outline_c'+'olor.a)\x20:\x20'+'vec4(0.0);'+'\x0a\x20\x20\x20\x20tcolo'+'r\x20=\x20mix(tc'+'olor,\x20colo'+'r,\x20inside)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20scolor\x20='+'\x20(shadow\x20>'+'\x20outline)\x20'+'?\x20shadow\x20*'+'\x20vec4(shad'+'ow_color.a'+'\x20*\x20shadow_'+'color.rgb,'+'\x20shadow_co'+'lor.a)\x20:\x20t'+'color;\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(scolor'+',\x20tcolor,\x20'+'outline);\x0a'+'\x0a\x20\x20\x20\x20//\x20Co'+'nvert\x20back'+'\x20to\x20gamma\x20'+'space\x20befo'+'re\x20returni'+'ng\x0a\x20\x20\x20\x20tco'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctOutput(t'+'color.rgb)'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20return\x20tc'+'olor;\x0a}\x0a'),kP='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',UP='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20vec2\x20u'+'v0;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2DArra'+'y\x20morphTex'+'ture;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r[{MORPH_T'+'EXTURE_MAX'+'_COUNT}];\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20ui'+'nt\x20morphIn'+'dex[{MORPH'+'_TEXTURE_M'+'AX_COUNT}]'+';\x0a\x20\x20\x20\x20unif'+'orm\x20int\x20co'+'unt;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PH_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20aa'+'bbSize;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20highp\x20vec'+'3\x20color\x20=\x20'+'vec3(0,\x200,'+'\x200);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'pixelCoord'+'s\x20=\x20ivec2('+'uv0\x20*\x20vec2'+'(textureSi'+'ze(morphTe'+'xture,\x200).'+'xy));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20count;\x20'+'i++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20textur'+'eIndex\x20=\x20m'+'orphIndex['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20delta\x20=\x20t'+'exelFetch('+'morphTextu'+'re,\x20ivec3('+'pixelCoord'+'s,\x20int(tex'+'tureIndex)'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20+'+'=\x20morphFac'+'tor[i]\x20*\x20d'+'elta;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20MORPH_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20color\x20'+'=\x20(color\x20-'+'\x20aabbMin)\x20'+'/\x20aabbSize'+'\x20*\x2065535.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20u'+'vec4(color'+',\x201u);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(color,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a',BP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a',zP='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',VP='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',GP='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0a\x0a#ifdef\x20M'+'ORPHING_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20morphNor'+'malTex;\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'morphNorma'+'lTex;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0avec3\x20'+'getLocalNo'+'rmal(vec3\x20'+'vertexNorm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lNormal\x20=\x20'+'vertex_nor'+'mal;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_NORM'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphNormal'+'\x20=\x20vec3(te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz)\x20/'+'\x2065535.0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphNo'+'rmal\x20=\x20tex'+'elFetch(mo'+'rphNormalT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20localNor'+'mal\x20+=\x20mor'+'phNormal;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20localN'+'ormal;\x0a}\x0a\x0a'+'#if\x20define'+'d(SKIN)\x20||'+'\x20defined(B'+'ATCH)\x0a\x20\x20\x20\x20'+'mat3\x20getNo'+'rmalMatrix'+'(mat4\x20mode'+'lMatrix)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mat3'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20ma'+'t3\x20getNorm'+'alMatrix(m'+'at4\x20modelM'+'atrix)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20mat3(m'+'odelMatrix'+'[0].xyz,\x20m'+('odelMatrix'+'[1].xyz,\x20m'+'odelMatrix'+'[2].xyz);\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20mat3'+'\x20getNormal'+'Matrix(mat'+'4\x20modelMat'+'rix)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_n'+'ormal;\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'),HP='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_bumpin'+'ess;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_NORMAL'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20bl'+'endNormals'+'(vec3\x20n1,\x20'+'vec3\x20n2)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20https://'+'blog.selfs'+'hadow.com/'+'publicatio'+'ns/blendin'+'g-in-detai'+'l/#detail-'+'oriented\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20n1\x20'+'+=\x20vec3(0,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20n2\x20*'+'=\x20vec3(-1,'+'\x20-1,\x201);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20getNorm'+'al()\x20{\x0a#if'+'def\x20STD_NO'+'RMAL_TEXTU'+'RE\x0a\x20\x20\x20\x20vec'+'3\x20normalMa'+'p\x20=\x20{STD_N'+'ORMAL_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_NORMAL_TE'+'XTURE_NAME'+'},\x20{STD_NO'+'RMAL_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+');\x0a\x20\x20\x20\x20nor'+'malMap\x20=\x20m'+'ix(vec3(0.'+'0,\x200.0,\x201.'+'0),\x20normal'+'Map,\x20mater'+'ial_bumpin'+'ess);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMALDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20norm'+'alDetailMa'+'p\x20=\x20{STD_N'+'ORMALDETAI'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_NOR'+'MALDETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'NORMALDETA'+'IL_TEXTURE'+'_UV},\x20text'+'ureBias));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20blend'+'Normals(no'+'rmalMap,\x20n'+('ormalDetai'+'lMap);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20normalMap'+');\x0a#else\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20dVerte'+'xNormalW;\x0a'+'#endif\x0a}\x0a'),WP='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_OPACITY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20dAlpha\x20*='+'\x20texture2D'+'Bias({STD_'+'OPACITY_TE'+'XTURE_NAME'+'},\x20{STD_OP'+'ACITY_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20*=\x20c'+'lamp(vVert'+'exColor.{S'+'TD_OPACITY'+'_VERTEX_CH'+'ANNEL},\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',$P='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20vec4\x20b'+'lueNoiseJi'+'tter;\x0a\x0a#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BLUENOI'+'SE\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blueN'+'oiseTex32;'+'\x0a#endif\x0a\x0av'+'oid\x20opacit'+'yDither(fl'+'oat\x20alpha,'+'\x20float\x20id)'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BAYER8\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20bayer8('+'floor(mod('+'gl_FragCoo'+'rd.xy\x20+\x20bl'+'ueNoiseJit'+'ter.xy\x20+\x20i'+'d,\x208.0)))\x20'+'/\x2064.0;\x0a\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20==\x20'+'IGNNOISE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20based\x20'+'on\x20https:/'+'/www.iryok'+'u.com/next'+'-generatio'+'n-post-pro'+'cessing-in'+'-call-of-d'+'uty-advanc'+'ed-warfare'+'/\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'agic\x20=\x20vec'+'3(0.067110'+'56,\x200.0058'+'3715,\x2052.9'+'829189);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20fract'+'(magic.z\x20*'+'\x20fract(dot'+'(gl_FragCo'+'ord.xy\x20+\x20b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id,\x20magic.'+'xy)));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20convert\x20'+'the\x20noise\x20'+'to\x20linear\x20'+'space,\x20as\x20'+'that\x20is\x20sp'+'ecified\x20in'+('\x20sRGB\x20spac'+'e\x20(stores\x20'+'perceptual'+'\x20values)\x0a\x20'+'\x20\x20\x20noise\x20='+'\x20pow(noise'+',\x202.2);\x0a\x0a\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x20noise'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a}'+'\x0a'),XP='\x0a',qP='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20litArgs_'+'opacity;\x0a\x0a'+'#elif\x20LIT_'+'BLEND_TYPE'+'\x20==\x20PREMUL'+'TIPLIED\x0a\x0a\x20'+'\x20\x20\x20gl_Frag'+'Color.rgb\x20'+'*=\x20litArgs'+'_opacity;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.a\x20='+'\x20litArgs_o'+'pacity;\x0a\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x201.0'+';\x0a\x0a#endif\x0a',jP='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',YP='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEEN_'+'TEXTURE\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20{STD'+'_SHEEN_TEX'+'TURE_DECOD'+'E}(texture'+'2DBias({ST'+'D_SHEEN_TE'+'XTURE_NAME'+'},\x20{STD_SH'+'EEN_TEXTUR'+'E_UV},\x20tex'+'tureBias))'+'.{STD_SHEE'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_VERTEX\x0a'+'\x20\x20\x20\x20sheenC'+'olor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sSpec'+'ularity\x20=\x20'+'sheenColor'+';\x0a}\x0a',KP='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20*'+'=\x20texture2'+'DBias({STD'+'_SHEENGLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_SHEENGLO'+'SS_TEXTURE'+'_UV},\x20text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20*='+'\x20saturate('+'vVertexCol'+'or.{STD_SH'+'EENGLOSS_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_INVER'+'T\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x201.0\x20-\x20'+'sheenGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20sGlossi'+'ness\x20=\x20she'+'enGlossine'+'ss\x20+\x200.000'+'0001;\x0a}\x0a',ZP='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_H'+'EIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20he'+'ight\x20=\x20hei'+'ght\x20*\x20para'+'llaxScale\x20'+'-\x20parallax'+'Scale\x20*\x200.'+'5;\x0a\x20\x20\x20\x20vec'+'3\x20viewDirT'+'\x20=\x20dViewDi'+'rW\x20*\x20dTBN;'+'\x0a\x0a\x20\x20\x20\x20view'+'DirT.z\x20+=\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',QP='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20co'+'nst\x20uvec4\x20'+'shifts\x20=\x20u'+'vec4(16,\x208'+',\x200,\x2024);\x0a'+'\x20\x20\x20\x20uvec4\x20'+'col\x20=\x20(uve'+'c4(meshIns'+'tanceId)\x20>'+'>\x20shifts)\x20'+'&\x20uvec4(0x'+'ff);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'(col)\x20*\x20in'+'v;\x0a}\x0a',JP='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',e2='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x0a\x20\x20\x20\x20'+'vec2\x20direc'+'tion\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicT\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3(directi'+'on,\x200.0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cB\x20=\x20norma'+'lize(cross'+'(tbn[2],\x20a'+'nisotropic'+'T));\x0a\x0a\x20\x20\x20\x20'+'float\x20anis'+'otropy\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20vec3'+'\x20anisotrop'+'icDirectio'+'n\x20=\x20anisot'+'ropicB;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicTa'+'ngent\x20=\x20cr'+'oss(anisot'+'ropicDirec'+'tion,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicNorm'+'al\x20=\x20cross'+'(anisotrop'+'icTangent,'+'\x20anisotrop'+'icDirectio'+'n);\x0a\x20\x20\x20\x20fl'+'oat\x20bendFa'+'ctor\x20=\x201.0'+'\x20-\x20anisotr'+'opy\x20*\x20(1.0'+'\x20-\x20roughne'+'ss);\x0a\x20\x20\x20\x20f'+'loat\x20bendF'+'actor4\x20=\x20b'+'endFactor\x20'+'*\x20bendFact'+'or\x20*\x20bendF'+'actor\x20*\x20be'+'ndFactor;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'entNormal\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}\x0a',t2='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',s2='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20{re'+'flectionDe'+'code}(text'+'ureCube(te'+'xture_cube'+'Map,\x20looku'+'pVec));\x0a}\x0a'+'\x0avoid\x20addR'+'eflection('+'vec3\x20reflD'+'ir,\x20float\x20'+'gloss)\x20{\x20\x20'+'\x20\x0a\x20\x20\x20\x20dRef'+'lection\x20+='+'\x20vec4(calc'+'Reflection'+'(reflDir,\x20'+'gloss),\x20ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',i2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_envAtlas;'+'\x0a#endif\x0aun'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'flectivity'+';\x0a\x0avec3\x20ca'+'lcReflecti'+'on(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20cub'+'eMapProjec'+'t(reflDir)'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'Uv(dir);\x0a\x0a'+'\x20\x20\x20\x20//\x20cal'+'culate\x20rou'+'ghness\x20lev'+'el\x0a\x20\x20\x20\x20flo'+'at\x20level\x20='+'\x20saturate('+'1.0\x20-\x20glos'+'s)\x20*\x205.0;\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel\x20=\x20f'+'loor(level'+');\x0a\x20\x20\x20\x20flo'+'at\x20flevel\x20'+'=\x20level\x20-\x20'+'ilevel;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'arp\x20=\x20{ref'+'lectionCub'+'emapDecode'+'}(textureC'+'ube(textur'+'e_cubeMap,'+'\x20dir));\x0a\x20\x20'+'\x20\x20vec3\x20rou'+'ghA\x20=\x20{ref'+'lectionDec'+'ode}(textu'+'re2D(textu'+'re_envAtla'+'s,\x20mapRoug'+'hnessUv(uv'+',\x20ilevel))'+');\x0a\x20\x20\x20\x20vec'+'3\x20roughB\x20='+'\x20{reflecti'+'onDecode}('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',r2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_env'+'Atlas;\x0a#en'+'dif\x0aunifor'+'m\x20float\x20ma'+'terial_ref'+'lectivity;'+'\x0a\x0a//\x20calcu'+'late\x20mip\x20l'+'evel\x20for\x20s'+'hiny\x20refle'+'ction\x20give'+'n\x20equirect'+'\x20coords\x20uv'+'.\x0afloat\x20sh'+'inyMipLeve'+'l(vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20dx\x20=\x20dFd'+'x(uv);\x0a\x20\x20\x20'+'\x20vec2\x20dy\x20='+'\x20dFdy(uv);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20s'+'econd\x20dF\x20a'+'t\x20180\x20degr'+'ees\x0a\x20\x20\x20\x20ve'+'c2\x20uv2\x20=\x20v'+'ec2(fract('+'uv.x\x20+\x200.5'+'),\x20uv.y);\x0a'+'\x20\x20\x20\x20vec2\x20d'+'x2\x20=\x20dFdx('+'uv2);\x0a\x20\x20\x20\x20'+'vec2\x20dy2\x20='+'\x20dFdy(uv2)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'min\x20of\x20bot'+'h\x20sets\x20of\x20'+'dF\x20to\x20hand'+'le\x20discont'+'inuity\x20at\x20'+'the\x20azim\x20e'+'dge\x0a\x20\x20\x20\x20fl'+'oat\x20maxd\x20='+'\x20min(max(d'+'ot(dx,\x20dx)'+',\x20dot(dy,\x20'+'dy)),\x20max('+'dot(dx2,\x20d'+'x2),\x20dot(d'+'y2,\x20dy2)))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'0.5\x20*\x20log2'+'(maxd)\x20-\x201'+'.0\x20+\x20textu'+'reBias,\x200.'+'0,\x205.0);\x0a}'+'\x0a\x0avec3\x20cal'+'cReflectio'+'n(vec3\x20ref'+'lDir,\x20floa'+'t\x20gloss)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3(-1.'+'0,\x201.0,\x201.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20to'+'SphericalU'+'v(dir);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20roug'+'hness\x20leve'+'l\x0a\x20\x20\x20\x20floa'+'t\x20level\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20float\x20i'+'level\x20=\x20fl'+'oor(level)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'accessing\x20'+'the\x20shiny\x20'+'(top\x20level'+')\x20reflecti'+'on\x20-\x20perfo'+'rm\x20manual\x20'+'mipmap\x20loo'+'kup\x0a\x20\x20\x20\x20fl'+('oat\x20level2'+'\x20=\x20shinyMi'+'pLevel(uv\x20'+'*\x20atlasSiz'+'e);\x0a\x20\x20\x20\x20fl'+'oat\x20ilevel'+'2\x20=\x20floor('+'level2);\x0a\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v0,\x20uv1;\x0a\x20'+'\x20\x20\x20float\x20w'+'eight;\x0a\x20\x20\x20'+'\x20if\x20(ileve'+'l\x20==\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20mapS'+'hinyUv(uv,'+'\x20ilevel2);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v1\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x20level2\x20'+'-\x20ilevel2;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20acces'+'sing\x20rough'+'\x20reflectio'+'n\x20-\x20just\x20s'+'ample\x20the\x20'+'same\x20part\x20'+'twice\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'uv1\x20=\x20mapR'+'oughnessUv'+'(uv,\x20ileve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20weight\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'3\x20linearA\x20'+'=\x20{reflect'+'ionDecode}'+'(texture2D'+'(texture_e'+'nvAtlas,\x20u'+'v0));\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'rB\x20=\x20{refl'+'ectionDeco'+'de}(textur'+'e2D(textur'+'e_envAtlas'+',\x20uv1));\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near0\x20=\x20mi'+'x(linearA,'+'\x20linearB,\x20'+'weight);\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near1\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(line'+'ar0,\x20linea'+'r1,\x20level\x20'+'-\x20ilevel))'+';\x0a}\x0a\x0avoid\x20'+'addReflect'+'ion(vec3\x20r'+'eflDir,\x20fl'+'oat\x20gloss)'+'\x20{\x20\x20\x20\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20+=\x20vec4('+'calcReflec'+'tion(reflD'+'ir,\x20gloss)'+',\x20material'+'_reflectiv'+'ity);\x0a}\x0a'),a2='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'uniform\x20sa'+'mpler2D\x20te'+'xture_sphe'+'reMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20reflDir'+'V\x20=\x20(mat3('+'matrix_vie'+'w)\x20*\x20reflD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20m\x20=\x20'+'2.0\x20*\x20sqrt'+'(dot(reflD'+'irV.xy,\x20re'+'flDirV.xy)'+'\x20+\x20(reflDi'+'rV.z\x20+\x201.0'+')\x20*\x20(reflD'+'irV.z\x20+\x201.'+'0));\x0a\x20\x20\x20\x20v'+'ec2\x20sphere'+'MapUv\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(texture2'+'D(texture_'+'sphereMap,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0av'+'oid\x20addRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x20\x20\x20\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20+=\x20v'+'ec4(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20mate'+'rial_refle'+'ctivity);\x0a'+'}\x0a',n2='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',o2='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',l2='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bas'+'ed\x20on\x20the\x20'+'dispersion'+'\x20material\x20'+'property,\x20'+'calculate\x20'+'modified\x20r'+'efraction\x20'+'index\x20valu'+'es\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20for\x20R\x20'+'and\x20B\x20chan'+'nels\x20and\x20e'+'valuate\x20th'+'e\x20refracti'+'on\x20color\x20f'+'or\x20them.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20halfSpr'+'ead\x20=\x20(1.0'+'\x20/\x20refract'+'ionIndex\x20-')+('\x201.0)\x20*\x200.'+'025\x20*\x20disp'+'ersion;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20refract'+'ionIndexR\x20'+'=\x20refracti'+'onIndex\x20-\x20'+'halfSpread'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'refraction'+'Vector\x20=\x20n'+'ormalize(r'+'efract(-vi'+'ewDir,\x20wor'+'ldNormal,\x20'+'refraction'+'IndexR))\x20*'+'\x20scale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'action.r\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'xR).r;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20refracti'+'onIndexB\x20='+'\x20refractio'+'nIndex\x20+\x20h'+'alfSpread;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efractionV'+'ector\x20=\x20no'+'rmalize(re'+'fract(-vie'+'wDir,\x20worl'+'dNormal,\x20r'+'efractionI'+'ndexB))\x20*\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ction.b\x20=\x20'+'evalRefrac'+'tionColor('+'refraction'+'Vector,\x20gl'+'oss,\x20refra'+'ctionIndex'+'B).b;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Trans'+'mittance\x20i'+'s\x20our\x20fina'+'l\x20refracti'+'on\x20color\x0a\x20'+'\x20\x20\x20vec3\x20tr'+'ansmittanc'+'e;\x0a\x20\x20\x20\x20if\x20'+'(material_'+'invAttenua'+'tionDistan'+'ce\x20!=\x200.0)'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'attenuatio'+'n\x20=\x20-log(m'+'aterial_at'+'tenuation)'+'\x20*\x20materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans'+'mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20vec3'+'\x20fresnel\x20='+'\x20vec3(1.0)'+'\x20-\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot(')+('viewDir,\x20w'+'orldNormal'+'),\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20ref'+'raction\x20*\x20'+'transmitta'+'nce\x20*\x20fres'+'nel,\x20trans'+'mission);\x0a'+'}\x0a'),c2='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0a//\x20sourc'+'e\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20so'+'urceCube;\x0a'+'#else\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20so'+'urceTex;\x0a#'+'endif\x0a\x0a#if'+'def\x20USE_SA'+'MPLES_TEX\x0a'+'\x20\x20\x20\x20//\x20sam'+'ples\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20sam'+'plesTex;\x0a\x20'+'\x20\x20\x20uniform'+'\x20vec2\x20samp'+'lesTexInve'+'rseSize;\x0a#'+'endif\x0a\x0a//\x20'+'params:\x0a//'+'\x20x\x20-\x20targe'+'t\x20cubemap\x20'+'face\x200..6\x0a'+'//\x20y\x20-\x20tar'+'get\x20image\x20'+'total\x20pixe'+'ls\x0a//\x20z\x20-\x20'+'source\x20cub'+'emap\x20size\x0a'+'uniform\x20ve'+'c3\x20params;'+'\x0a\x0afloat\x20ta'+'rgetFace()'+'\x20{\x20return\x20'+'params.x;\x20'+'}\x0afloat\x20ta'+'rgetTotalP'+'ixels()\x20{\x20'+'return\x20par'+'ams.y;\x20}\x0af'+'loat\x20sourc'+'eTotalPixe'+'ls()\x20{\x20ret'+'urn\x20params'+'.z;\x20}\x0a\x0aflo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0a#i'+'nclude\x20\x22de'+'codePS\x22\x0a#i'+'nclude\x20\x22en'+'codePS\x22\x0a\x0a/'+'/--\x20suppor'+'ted\x20projec'+'tions\x0a\x0avec'+'3\x20modifySe'+'ams(vec3\x20d'+'ir,\x20float\x20'+'scale)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20ad'+'ir\x20=\x20abs(d'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20M\x20=\x20m'+'ax(max(adi'+'r.x,\x20adir.'+'y),\x20adir.z'+');\x0a\x20\x20\x20\x20ret'+'urn\x20dir\x20/\x20'+'M\x20*\x20vec3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.x\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20adir.y\x20'+'==\x20M\x20?\x201.0'+'\x20:\x20scale,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.z\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+('\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec3\x20f'+'romSpheric'+'al(vec2\x20uv'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec3('+'cos(uv.y)\x20'+'*\x20sin(uv.x'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'in(uv.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cos('+'uv.y)\x20*\x20co'+'s(uv.x));\x0a'+'}\x0a\x0avec3\x20ge'+'tDirection'+'Equirect()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20fromSp'+'herical((v'+'ec2(vUv0.x'+',\x201.0\x20-\x20vU'+'v0.y)\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20vec2(PI,\x20'+'PI\x20*\x200.5))'+';\x0a}\x0a\x0a//\x20oc'+'tahedral\x20c'+'ode,\x20based'+'\x20on\x20https:'+'//jcgt.org'+'/published'+'/0003/02/0'+'1/\x0a//\x20\x22Sur'+'vey\x20of\x20Eff'+'icient\x20Rep'+'resentatio'+'ns\x20for\x20Ind'+'ependent\x20U'+'nit\x20Vector'+'s\x22\x20by\x20Cigo'+'lle,\x20Donow'+',\x20Evangela'+'kos,\x20Mara,'+'\x20McGuire,\x20'+'Meyer\x0a\x0aflo'+'at\x20signNot'+'Zero(float'+'\x20k){\x0a\x20\x20\x20\x20r'+'eturn(k\x20>='+'\x200.0)\x20?\x201.'+'0\x20:\x20-1.0;\x0a'+'}\x0a\x0avec2\x20si'+'gnNotZero('+'vec2\x20v)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec2(sign'+'NotZero(v.'+'x),\x20signNo'+'tZero(v.y)'+');\x0a}\x0a\x0a//\x20R'+'eturns\x20a\x20u'+'nit\x20vector'+'.\x20Argument'+'\x20o\x20is\x20an\x20o'+'ctahedral\x20'+'vector\x20pac'+'ked\x20via\x20oc'+'tEncode,\x20o'+'n\x20the\x20[-1,'+'\x20+1]\x20squar'+'e\x0avec3\x20oct'+'Decode(vec'+'2\x20o)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20v\x20=\x20'+'vec3(o.x,\x20'+'1.0\x20-\x20abs('+'o.x)\x20-\x20abs'+'(o.y),\x20o.y'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20v.xz\x20=\x20('+'1.0\x20-\x20abs('+'v.zx))\x20*\x20s'+'ignNotZero'+'(v.xz);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lize(v);\x0a}'+'\x0a\x0avec3\x20get'+'DirectionO'+'ctahedral('+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20octDe'+'code(vec2(')+('vUv0.x,\x201.'+'0\x20-\x20vUv0.y'+')\x20*\x202.0\x20-\x20'+'1.0);\x0a}\x0a\x0a/'+'/\x20Assumes\x20'+'that\x20v\x20is\x20'+'a\x20unit\x20vec'+'tor.\x20The\x20r'+'esult\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'on\x20the\x20[-1'+',\x20+1]\x20squa'+'re\x0avec2\x20oc'+'tEncode(in'+'\x20vec3\x20v)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20vec2'+'\x20result\x20=\x20'+'v.xz\x20*\x20(1.'+'0\x20/\x20l1norm'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20result\x20='+'\x20(1.0\x20-\x20ab'+'s(result.y'+'x))\x20*\x20sign'+'NotZero(re'+'sult.xy);\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20res'+'ult;\x0a}\x0a\x0a//'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'///////\x0a\x0a#'+'ifdef\x20CUBE'+'MAP_SOURCE'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleCube'+'map(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureCu'+'be(sourceC'+'ube,\x20modif'+'ySeams(dir'+',\x201.0));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eCubemap(v'+'ec2\x20sph)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leCubemap('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleCubemap'+'(vec3\x20dir,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCubeLod(s'+'ourceCube,'+'\x20modifySea'+'ms(dir,\x201.'+'0),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleCub'+'emap(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleCubema'+'p(fromSphe'+'rical(sph)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eEquirect('+'vec2\x20sph)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'sph\x20/\x20vec2'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleEqu'+'irect(toSp'+'herical(di'+'r));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleEqu'+'irect(vec2'+'\x20sph,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20sph\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2DLo'+'d(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20sampleEq'+'uirect(toS'+'pherical(d'+'ir),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20o'+'ctEncode(d'+'ir)\x20*\x200.5\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Octahedral'+'(vec2\x20sph)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20octEn'+'code(dir)\x20'+'*\x200.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20te'+'xture2DLod'+'(sourceTex'+',\x20vec2(uv.'+'x,\x201.0\x20-\x20u'+'v.y),\x20mipL'+'evel);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20sampleO'+'ctahedral('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph),\x20')+('mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0avec3'+'\x20getDirect'+'ionCubemap'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20st\x20=\x20v'+'Uv0\x20*\x202.0\x20'+'-\x201.0;\x0a\x20\x20\x20'+'\x20float\x20fac'+'e\x20=\x20target'+'Face();\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ve'+'c;\x0a\x20\x20\x20\x20if\x20'+'(face\x20==\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(1,\x20-s'+'t.y,\x20-st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3(-1,\x20-st.'+'y,\x20st.x);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x202.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x201,\x20st'+'.y);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x203.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'-1,\x20-st.y)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(fac'+'e\x20==\x204.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec\x20=\x20vec3'+'(st.x,\x20-st'+'.y,\x201);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'-st.x,\x20-st'+'.y,\x20-1);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(mod'+'ifySeams(v'+'ec,\x201.0));'+'\x0a}\x0a\x0amat3\x20m'+'atrixFromV'+'ector(vec3'+'\x20n)\x20{\x20//\x20f'+'risvad\x0a\x20\x20\x20'+'\x20float\x20a\x20='+'\x201.0\x20/\x20(1.'+'0\x20+\x20n.z);\x0a'+'\x20\x20\x20\x20float\x20'+'b\x20=\x20-n.x\x20*'+'\x20n.y\x20*\x20a;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'1\x20=\x20vec3(1'+'.0\x20-\x20n.x\x20*'+'\x20n.x\x20*\x20a,\x20'+'b,\x20-n.x);\x0a'+'\x20\x20\x20\x20vec3\x20b'+'2\x20=\x20vec3(b'+',\x201.0\x20-\x20n.'+'y\x20*\x20n.y\x20*\x20'+'a,\x20-n.y);\x0a'+'\x20\x20\x20\x20return'+'\x20mat3(b1,\x20'+'b2,\x20n);\x0a}\x0a'+'\x0amat3\x20matr'+'ixFromVect'+'orSlow(vec'+'3\x20n)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20up\x20='+'\x20(1.0\x20-\x20ab'+'s(n.y)\x20<=\x20'+'0.0000001)'+'\x20?\x20vec3(0.'+'0,\x200.0,\x20n.'+'y\x20>\x200.0\x20?\x20'+'1.0\x20:\x20-1.0'+')\x20:\x20vec3(0'+'.0,\x201.0,\x200'+'.0);\x0a\x20\x20\x20\x20v'+'ec3\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20vec'+'3\x20y\x20=\x20cros')+('s(n,\x20x);\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(x,\x20y,'+'\x20n);\x0a}\x0a\x0ave'+'c4\x20reproje'+'ct()\x20{\x0a\x20\x20\x20'+'\x20if\x20({NUM_'+'SAMPLES}\x20<'+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20si'+'ngle\x20sampl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20{EN'+'CODE_FUNC}'+'({DECODE_F'+'UNC}({SOUR'+'CE_FUNC}({'+'TARGET_FUN'+'C}())));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multi\x20s'+'ample\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20t'+'\x20=\x20{TARGET'+'_FUNC}();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tu\x20=\x20dF'+'dx(t);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'tv\x20=\x20dFdy('+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(float\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'++u)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'v\x20=\x200.0;\x20v'+'\x20<\x20{NUM_SA'+'MPLES_SQRT'+'};\x20++v)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20{DEC'+'ODE_FUNC}('+'{SOURCE_FU'+'NC}(normal'+'ize(t\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20tu'+'\x20*\x20(u\x20/\x20{N'+'UM_SAMPLES'+'_SQRT}\x20-\x200'+'.5)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20tv\x20*'+'\x20(v\x20/\x20{NUM'+'_SAMPLES_S'+'QRT}\x20-\x200.5'+'))));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20({'+'NUM_SAMPLE'+'S_SQRT}\x20*\x20'+'{NUM_SAMPL'+'ES_SQRT}))'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0avec4\x20unpa'+'ckFloat\x20=\x20'+'vec4(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20void\x20'+'unpackSamp'+'le(int\x20i,\x20'+'out\x20vec3\x20L'+',\x20out\x20floa')+('t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x20(float(i'+'\x20*\x204)\x20+\x200.'+'5)\x20*\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x20(f'+'loor(u)\x20+\x20'+'0.5)\x20*\x20sam'+'plesTexInv'+'erseSize.y'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20raw;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.x\x20=\x20dot'+'(texture2D'+'(samplesTe'+'x,\x20vec2(u,'+'\x20v)),\x20unpa'+'ckFloat);\x20'+'u\x20+=\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'texture2D('+'samplesTex'+',\x20vec2(u,\x20'+'v)),\x20unpac'+'kFloat);\x20u'+'\x20+=\x20sample'+'sTexInvers'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.z\x20=\x20dot(t'+'exture2D(s'+'amplesTex,'+'\x20vec2(u,\x20v'+')),\x20unpack'+'Float);\x20u\x20'+'+=\x20samples'+'TexInverse'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20raw.'+'w\x20=\x20dot(te'+'xture2D(sa'+'mplesTex,\x20'+'vec2(u,\x20v)'+'),\x20unpackF'+'loat);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20L.xy'+'z\x20=\x20raw.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mipLeve'+'l\x20=\x20raw.w\x20'+'*\x208.0;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20convolve\x20'+'an\x20environ'+'ment\x20given'+'\x20pre-gener'+'ated\x20sampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamples()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L')+(',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level))\x20*\x20'+'L.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tot'+'alWeight\x20+'+'=\x20L.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20{ENCODE'+'_FUNC}(res'+'ult\x20/\x20tota'+'lWeight);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20unweig'+'hted\x20versi'+'on\x20of\x20pref'+'ilterSampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamplesUn'+'weighted()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20fl'+'oat({NUM_S'+'AMPLES}));'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20{PROCESS'+'_FUNC}();\x0a'+'}\x0a'),h2='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0auniform'+'\x20vec4\x20uvMo'+'d;\x0avarying'+'\x20vec2\x20vUv0'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(vertex_po'+'sition.xy\x20'+'*\x200.5\x20+\x200.'+'5)\x20*\x20uvMod'+'.xy\x20+\x20uvMo'+'d.zw);\x0a}\x0a',d2='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SCREENS'+'IZE\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#ifndef'+'\x20CAMERAPLA'+'NES\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20camera'+'_params;\x20/'+'/\x20x:\x201\x20/\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20\x20y:\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20z:\x20ca'+'mera_near,'+'\x20\x20\x20\x20\x20\x20\x20\x20w:'+'\x20is_ortho\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20lineariz'+'eDepth(flo'+'at\x20z)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'camera_par'+'ams.w\x20==\x200'+'.0)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(camera'+'_params.z\x20'+'*\x20camera_p'+'arams.y)\x20/'+'\x20(camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(camer'+'a_params.z'+'\x20-\x20camera_'+'params.y))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20camera'+'_params.z\x20'+'+\x20z\x20*\x20(cam'+'era_params'+'.y\x20-\x20camer'+'a_params.z'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0aflo'+'at\x20delinea'+'rizeDepth('+'float\x20line'+'arDepth)\x20{'+'\x0a\x20\x20\x20\x20if\x20(c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'(camera_pa'+'rams.y\x20*\x20('+'camera_par'+'ams.z\x20-\x20li'+'nearDepth)'+')\x20/\x20(linea'+'rDepth\x20*\x20('+'camera_par'+'ams.z\x20-\x20ca'+'mera_param'+'s.y));\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(line'+'arDepth\x20-\x20'+'camera_par'+'ams.z)\x20/\x20('+('camera_par'+'ams.y\x20-\x20ca'+'mera_param'+'s.z);\x0a\x20\x20\x20\x20'+'}\x0a}\x0a\x0a//\x20Re'+'trieves\x20re'+'ndered\x20lin'+'ear\x20camera'+'\x20depth\x20by\x20'+'UV\x0afloat\x20g'+'etLinearSc'+'reenDepth('+'vec2\x20uv)\x20{'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SCENE_DE'+'PTHMAP_LIN'+'EAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_FLOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2D(u'+'SceneDepth'+'Map,\x20uv).r'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20textu'+'reSize\x20=\x20t'+'extureSize'+'(uSceneDep'+'thMap,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20t'+'exel\x20=\x20ive'+'c2(uv\x20*\x20ve'+'c2(texture'+'Size));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20data\x20'+'=\x20texelFet'+'ch(uSceneD'+'epthMap,\x20t'+'exel,\x200);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(data.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(uint(d'+'ata.g\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20|\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.b\x20*\x20255.'+'0)\x20<<\x208u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(data.a\x20'+'*\x20255.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uintBitsTo'+'Float(intB'+'its);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20line'+'arizeDepth'+'(texture2D'+'(uSceneDep'+'thMap,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20float\x20'+'getLinearS'+'creenDepth'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20uv'+'\x20=\x20gl_Frag'+'Coord.xy\x20*'+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afloat\x20'+'getLinearD'+'epth(vec3\x20'+'pos)\x20{\x0a\x20\x20\x20'+'\x20return\x20-('+'matrix_vie'+'w\x20*\x20vec4(p'+'os,\x201.0)).'+'z;\x0a}\x0a'),f2='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avec3\x20'+'fadeShadow'+'(vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'CascadeDis'+'tances)\x20{\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20if\x20th'+'e\x20pixel\x20is'+'\x20past\x20the\x20'+'shadow\x20dis'+'tance,\x20rem'+'ove\x20shadow'+'\x0a\x20\x20\x20\x20//\x20th'+'is\x20enforce'+'s\x20straight'+'\x20line\x20inst'+'ead\x20of\x20cor'+'ner\x20of\x20sha'+'dow\x20which\x20'+'moves\x20when'+'\x20camera\x20ro'+'tates\x20\x20\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x20\x20'+'\x20\x20if\x20(dept'+'h\x20>\x20shadow'+'CascadeDis'+'tances.w)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'shadowCoor'+'d.z\x20=\x20-999'+'9999.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20shad'+'owCoord;\x0a}'+'\x0a'),u2='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+('\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a\x0a//\x20'+'------\x20VSM'+'\x2016\x20------'+'\x0a\x0afloat\x20VS'+'M16(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec2\x20'+'texCoords,'+'\x20float\x20res'+'olution,\x20f'+'loat\x20Z,\x20fl'+'oat\x20vsmBia'+'s,\x20float\x20e'+'xponent)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'moments\x20=\x20'+'texture2DL'+'od(tex,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM16('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM16(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM16(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20VSM16('+'TEXTURE_PA'+'SS(shadowM'+'ap),\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----')+('--\x0a\x0afloat\x20'+'VSM32(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20texCoord'+'s,\x20float\x20r'+'esolution,'+'\x20float\x20Z,\x20'+'float\x20vsmB'+'ias,\x20float'+'\x20exponent)'+'\x20{\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20CAPS_'+'TEXTURE_FL'+'OAT_FILTER'+'ABLE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2DLod'+'(tex,\x20texC'+'oords,\x200.0'+').xyz;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ma'+'nual\x20bilin'+'ear\x20filter'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pi'+'xelSize\x20=\x20'+'1.0\x20/\x20reso'+'lution;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20texC'+'oords\x20-=\x20v'+'ec2(pixelS'+'ize);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'00\x20=\x20textu'+'re2DLod(te'+'x,\x20texCoor'+'ds,\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20s10'+'\x20=\x20texture'+'2DLod(tex,'+'\x20texCoords'+'\x20+\x20vec2(pi'+'xelSize,\x200'+'),\x200.0).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20s01\x20'+'=\x20texture2'+'DLod(tex,\x20'+'texCoords\x20'+'+\x20vec2(0,\x20'+'pixelSize)'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20s11\x20='+'\x20texture2D'+'Lod(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20fr\x20=\x20frac'+'t(texCoord'+'s\x20*\x20resolu'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'h0\x20=\x20mix(s'+'00,\x20s10,\x20f'+'r.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20h'+'1\x20=\x20mix(s0'+'1,\x20s11,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20mi'+'x(h0,\x20h1,\x20'+'fr.y);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM32('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM32(T')+('EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM32(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20Z\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd.xy,\x20sha'+'dowParams.'+'x,\x20Z,\x20shad'+'owParams.y'+',\x20exponent'+');\x0a}\x0a'),p2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20textur'+'eShadow(sh'+'adowMap,\x20s'+'hadowCoord'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wSpotPCF1x'+'1(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSh'+'adow(shado'+'wMap,\x20shad'+'owCoord);\x0a'+'}\x0a\x0a//\x20----'+'-\x20Omni\x20Sam'+'pling\x20----'+'-\x0a\x0a#ifndef'+'\x20WEBGPU\x0a\x0af'+'loat\x20getSh'+'adowOmniPC'+'F1x1(sampl'+'erCubeShad'+'ow\x20shadowM'+'ap,\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20return'+'\x20texture(s'+'hadowMap,\x20'+'vec4(light'+'Dir,\x20shado'+'wZ));\x0a}\x0a\x0a#'+'endif\x0a',m2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x20\x0a\x20\x20'+'\x20\x20base_uv\x20'+'-=\x20vec2(0.'+'5);\x0a\x20\x20\x20\x20ba'+'se_uv\x20*=\x20s'+'hadowMapSi'+'zeInv;\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'uw0\x20=\x20(3.0'+'\x20-\x202.0\x20*\x20s'+');\x0a\x20\x20\x20\x20flo'+'at\x20uw1\x20=\x20('+'1.0\x20+\x202.0\x20'+'*\x20s);\x0a\x0a\x20\x20\x20'+'\x20float\x20u0\x20'+'=\x20(2.0\x20-\x20s'+')\x20/\x20uw0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20f'+'loat\x20u1\x20=\x20'+'s\x20/\x20uw1\x20+\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(3.0\x20-\x202'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20t)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20v0\x20=\x20(2'+'.0\x20-\x20t)\x20/\x20'+'vw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20v1\x20=\x20t\x20/\x20'+'vw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20u0\x20='+'\x20u0\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v0\x20=\x20v0\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u1\x20=\x20'+'u1\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'1\x20=\x20v1\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+('sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw0\x20*\x20v'+'w1\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u0,\x20v'+'1,\x20z));\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w1\x20*\x20vw1\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u1,\x20v1,\x20z'+'));\x0a\x0a\x20\x20\x20\x20s'+'um\x20*=\x201.0f'+'\x20/\x2016.0;\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF3x3('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'3x3(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0a//\x20-----'+'\x20Omni\x20Samp'+'ling\x20-----'+'\x0a\x0a#ifndef\x20'+'WEBGPU\x0a\x0afl'+'oat\x20getSha'+'dowOmniPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict')+('\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wOmniPCF3x'+'3(samplerC'+'ubeShadow\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowOmniP'+'CF3x3(shad'+'owMap,\x20sha'+'dowParams,'+'\x20lightDir)'+';\x0a}\x0a\x0a#endi'+'f\x0a'),_2='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20saturate'+'(sum);\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF5x5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F5x5(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado')+('wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF5'+'x5(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'),g2='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epthWithPa'+'rams(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20const\x20f'+'loat\x20PI\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa')+('dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam'+'pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec')+('4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow'+'Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowOm'+'niPCSS(sam'+'plerCube\x20s'+'hadowMap,\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'4\x20cameraPa'+'rams,\x20vec2'+'\x20shadowSea'+'rchArea,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SCube(shad'+'owMap,\x20sha'+'dowParams,'+'\x20shadowCoo'+'rd,\x20camera'+'Params,\x20sh'+'adowSearch'+'Area.x,\x20li'+'ghtDir);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'float\x20getS'+'hadowSpotP'+'CSS(TEXTUR'+'E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SS(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20cameraPar'+'ams,\x20shado'+'wSearchAre'+'a);\x0a}\x0a\x0a'),S2='\x0a\x0ahighp\x20fl'+'oat\x20fractS'+'inRand(con'+'st\x20in\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x20\x20\x20'+'\x20const\x20hig'+'hp\x20float\x20a'+'\x20=\x2012.9898'+',\x20b\x20=\x2078.2'+'33,\x20c\x20=\x2043'+'758.5453;\x0a'+'\x20\x20\x20\x20highp\x20'+'float\x20dt\x20='+'\x20dot(uv.xy'+',\x20vec2(a,\x20'+'b)),\x20sn\x20=\x20'+'mod(dt,\x20PI'+');\x0a\x20\x20\x20\x20ret'+'urn\x20fract('+'sin(sn)\x20*\x20'+'c);\x0a}\x0a\x0a//\x20'+'struct\x20to\x20'+'hold\x20preco'+'mputed\x20con'+'stants\x20and'+'\x20current\x20s'+'tate\x0astruc'+'t\x20VogelDis'+'kData\x20{\x0a\x20\x20'+'\x20\x20float\x20in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20initial'+'Angle;\x0a\x20\x20\x20'+'\x20float\x20cur'+'rentPointI'+'d;\x0a};\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'void\x20prepa'+'reDiskCons'+'tants(out\x20'+'VogelDiskD'+'ata\x20data,\x20'+'int\x20sample'+'Count,\x20flo'+'at\x20randomS'+'eed)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20pi2\x20=\x206'+'.283185307'+'18;\x0a\x20\x20\x20\x20da'+'ta.invNumS'+'amples\x20=\x201'+'.0\x20/\x20float'+'(sampleCou'+'nt);\x0a\x20\x20\x20\x20d'+'ata.initia'+'lAngle\x20=\x20r'+'andomSeed\x20'+'*\x20pi2;\x0a\x20\x20\x20'+'\x20data.curr'+'entPointId'+'\x20=\x200.0;\x0a}\x0a'+'\x0a\x0avec2\x20gen'+'erateDiskS'+'ample(inou'+'t\x20VogelDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'GOLDEN_ANG'+'LE\x20=\x202.399'+'963;\x0a\x20\x20\x20\x20f'+'loat\x20r\x20=\x20s'+'qrt((data.'+'currentPoi'+'ntId\x20+\x200.5'+')\x20*\x20data.i'+'nvNumSampl'+'es);\x0a\x20\x20\x20\x20f'+'loat\x20theta'+'\x20=\x20data.cu'+'rrentPoint'+'Id\x20*\x20GOLDE'+'N_ANGLE\x20+\x20'+'data.initi'+'alAngle;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20o'+'ffset\x20=\x20ve'+('c2(cos(the'+'ta),\x20sin(t'+'heta))\x20*\x20p'+'ow(r,\x201.33'+');\x0a\x0a\x20\x20\x20\x20da'+'ta.current'+'PointId\x20+='+'\x201.0;\x0a\x20\x20\x20\x20'+'return\x20off'+'set;\x0a}\x0a\x0avo'+'id\x20PCSSFin'+'dBlocker(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20out\x20'+'float\x20avgB'+'lockerDept'+'h,\x20out\x20int'+'\x20numBlocke'+'rs,\x0a\x20\x20\x20\x20ve'+'c2\x20shadowC'+'oords,\x20flo'+'at\x20z,\x20int\x20'+'shadowBloc'+'kerSamples'+',\x20float\x20pe'+'numbraSize'+',\x20float\x20in'+'vShadowMap'+'Size,\x20floa'+'t\x20randomSe'+'ed)\x20{\x0a\x0a\x20\x20\x20'+'\x20VogelDisk'+'Data\x20diskD'+'ata;\x0a\x20\x20\x20\x20p'+'repareDisk'+'Constants('+'diskData,\x20'+'shadowBloc'+'kerSamples'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'float\x20sear'+'chWidth\x20=\x20'+'penumbraSi'+'ze\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x20\x20\x20\x20flo'+'at\x20blocker'+'Sum\x20=\x200.0;'+'\x0a\x20\x20\x20\x20numBl'+'ockers\x20=\x200'+';\x0a\x0a\x20\x20\x20\x20for'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowBlocker'+'Samples;\x20+'+'+i\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'diskUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20sampleUV'+'\x20=\x20shadowC'+'oords\x20+\x20di'+'skUV\x20*\x20sea'+'rchWidth;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'MapDepth\x20='+'\x20texture2D'+'Lod(shadow'+'Map,\x20sampl'+'eUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(\x20shad'+'owMapDepth'+'\x20<\x20z\x20)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20blockerSu'+'m\x20+=\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers++;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20av'+'gBlockerDe'+'pth\x20=\x20bloc'+'kerSum\x20/\x20f'+'loat(numBl'+'ockers);\x0a}'+'\x0a\x0afloat\x20PC'+'SSFilter(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20uv,\x20float')+('\x20receiverD'+'epth,\x20int\x20'+'shadowSamp'+'les,\x20float'+'\x20filterRad'+'ius,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'VogelDiskD'+'ata\x20diskDa'+'ta;\x0a\x20\x20\x20\x20pr'+'epareDiskC'+'onstants(d'+'iskData,\x20s'+'hadowSampl'+'es,\x20random'+'Seed);\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20shadowS'+'amples;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20of'+'fsetUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x20text'+'ure2DLod(s'+'hadowMap,\x20'+'uv\x20+\x20offse'+'tUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sum\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20retu'+'rn\x20sum\x20/\x20f'+'loat(shado'+'wSamples);'+'\x0a}\x0a\x0afloat\x20'+'getPenumbr'+'a(float\x20db'+'locker,\x20fl'+'oat\x20drecei'+'ver,\x20float'+'\x20penumbraS'+'ize,\x20float'+'\x20penumbraF'+'alloff)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'dist\x20=\x20dre'+'ceiver\x20-\x20d'+'blocker;\x0a\x20'+'\x20\x20\x20float\x20p'+'enumbra\x20=\x20'+'1.0\x20-\x20pow('+'1.0\x20-\x20dist'+',\x20penumbra'+'Falloff);\x0a'+'\x20\x20\x20\x20return'+'\x20penumbra\x20'+'*\x20penumbra'+'Size;\x0a}\x0a\x0af'+'loat\x20PCSSD'+'irectional'+'(TEXTURE_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20vec4'+'\x20softShado'+'wParams)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20receiver'+'Depth\x20=\x20sh'+'adowCoords'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20random'+'Seed\x20=\x20fra'+'ctSinRand('+'gl_FragCoo'+'rd.xy);\x0a\x20\x20'+'\x20\x20int\x20shad'+'owSamples\x20'+'=\x20int(soft'+'ShadowPara'+'ms.x);\x0a\x20\x20\x20'+'\x20int\x20shado'+'wBlockerSa'+'mples\x20=\x20in'+'t(softShad')+('owParams.y'+');\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'aSize\x20=\x20so'+'ftShadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20float\x20pe'+'numbraFall'+'off\x20=\x20soft'+'ShadowPara'+'ms.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20normal'+'ized\x20inver'+'se\x20shadow\x20'+'map\x20size\x20t'+'o\x20preserve'+'\x20the\x20shado'+'w\x20softness'+'\x20regardles'+'s\x20of\x20the\x20s'+'hadow\x20reso'+'lution\x0a\x20\x20\x20'+'\x20int\x20shado'+'wMapSize\x20='+'\x20textureSi'+'ze(shadowM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20float\x20'+'invShadowM'+'apSize\x20=\x201'+'.0\x20/\x20float'+'(shadowMap'+'Size);\x0a\x20\x20\x20'+'\x20invShadow'+'MapSize\x20*='+'\x20float(sha'+'dowMapSize'+')\x20/\x202048.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'a;\x0a\x0a\x20\x20\x20\x20//'+'\x20contact\x20h'+'ardening\x20p'+'ath\x0a\x20\x20\x20\x20if'+'\x20(shadowBl'+'ockerSampl'+'es\x20>\x200)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20find\x20ave'+'rage\x20block'+'er\x20depth\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20avgBloc'+'kerDepth\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20nu'+'mBlockers\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20avgBlo'+'ckerDepth,'+'\x20numBlocke'+'rs,\x20shadow'+'Coords.xy,'+'\x20receiverD'+'epth,\x20shad'+'owBlockerS'+'amples,\x20pe'+'numbraSize'+',\x20invShado'+'wMapSize,\x20'+'randomSeed'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20out\x20when\x20'+'no\x20blocker'+'s\x20are\x20pres'+'ent\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(numB'+'lockers\x20<\x20'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x201.0f;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'penumbra\x20s'+'ize\x20is\x20bas'+'ed\x20on\x20the\x20'+'blocker\x20de'+'pth\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20penumbra'+'\x20=\x20getPenu'+'mbra(avgBl'+'ockerDepth'+',\x20shadowCo'+'ords.z,\x20pe'+'numbraSize'+',\x20penumbra')+('Falloff);\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'tant\x20filte'+'r\x20size,\x20no'+'\x20contact\x20h'+'ardening\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pen'+'umbra\x20=\x20pe'+'numbraSize'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ilterRadiu'+'s\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoords'+'.xy,\x20recei'+'verDepth,\x20'+'shadowSamp'+'les,\x20filte'+'rRadius,\x20r'+'andomSeed)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSSDirecti'+'onal(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20cameraP'+'arams,\x20sof'+'tShadowPar'+'ams);\x0a}\x0a\x0a'),y2='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0a\x0a'+'mat4\x20getBo'+'neMatrix(c'+'onst\x20in\x20fl'+'oat\x20indexF'+'loat)\x20{\x0a\x0a\x20'+'\x20\x20\x20int\x20wid'+'th\x20=\x20textu'+'reSize(tex'+'ture_poseM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20int\x20in'+'dex\x20=\x20int('+'indexFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x20\x20\x20\x20int'+'\x20iy\x20=\x20inde'+'x\x20/\x20width;'+'\x0a\x20\x20\x20\x20int\x20i'+'x\x20=\x20index\x20'+'%\x20width;\x0a\x0a'+'\x20\x20\x20\x20//\x20rea'+'d\x20elements'+'\x20of\x204x3\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20v1\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x200,'+'\x20iy),\x200);\x0a'+'\x20\x20\x20\x20vec4\x20v'+'2\x20=\x20texelF'+'etch(textu'+'re_poseMap'+',\x20ivec2(ix'+'\x20+\x201,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20v'+'ec4\x20v3\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x202,'+'\x20iy),\x200);\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',v2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0a\x0avoid\x20'+'getBoneMat'+'rix(const\x20'+'in\x20int\x20wid'+'th,\x20const\x20'+'in\x20int\x20ind'+'ex,\x20out\x20ve'+'c4\x20v1,\x20out'+'\x20vec4\x20v2,\x20'+'out\x20vec4\x20v'+'3)\x20{\x0a\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20in'+'dex\x20/\x20widt'+'h;\x0a\x20\x20\x20\x20int'+'\x20u\x20=\x20index'+'\x20%\x20width;\x0a'+'\x0a\x20\x20\x20\x20v1\x20=\x20'+'texelFetch'+'(texture_p'+'oseMap,\x20iv'+'ec2(u\x20+\x200,'+'\x20v),\x200);\x0a\x20'+'\x20\x20\x20v2\x20=\x20te'+'xelFetch(t'+'exture_pos'+'eMap,\x20ivec'+'2(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20v3\x20=\x20texe'+'lFetch(tex'+'ture_poseM'+'ap,\x20ivec2('+'u\x20+\x202,\x20v),'+'\x200);\x0a}\x0a\x0ama'+'t4\x20getSkin'+'Matrix(con'+'st\x20in\x20vec4'+'\x20indicesFl'+'oat,\x20const'+'\x20in\x20vec4\x20w'+'eights)\x20{\x0a'+'\x0a\x20\x20\x20\x20int\x20w'+'idth\x20=\x20tex'+'tureSize(t'+'exture_pos'+'eMap,\x200).x'+';\x0a\x20\x20\x20\x20ivec'+'4\x20indices\x20'+'=\x20ivec4(in'+'dicesFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20get\x204\x20bon'+'e\x20matrices'+'\x0a\x20\x20\x20\x20vec4\x20'+'a1,\x20a2,\x20a3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.x,\x20a1'+',\x20a2,\x20a3);'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20b1,\x20b2,\x20b'+'3;\x0a\x20\x20\x20\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y,\x20b'+'1,\x20b2,\x20b3)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20c1,\x20c2,\x20'+'c3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.z,\x20'+'c1,\x20c2,\x20c3'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20d1,\x20d2,'+'\x20d3;\x0a\x20\x20\x20\x20g'+'etBoneMatr'+'ix(width,\x20'+'indices.w,'+'\x20d1,\x20d2,\x20d'+'3);\x0a\x0a\x20\x20\x20\x20/'+'/\x20multiply'+'\x20them\x20by\x20w'+'eights\x20and'+'\x20add\x20up\x20to'+'\x20get\x20final'+'\x204x3\x20matri'+('x\x0a\x20\x20\x20\x20vec4'+'\x20v1\x20=\x20a1\x20*'+'\x20weights.x'+'\x20+\x20b1\x20*\x20we'+'ights.y\x20+\x20'+'c1\x20*\x20weigh'+'ts.z\x20+\x20d1\x20'+'*\x20weights.'+'w;\x0a\x20\x20\x20\x20vec'+'4\x20v2\x20=\x20a2\x20'+'*\x20weights.'+'x\x20+\x20b2\x20*\x20w'+'eights.y\x20+'+'\x20c2\x20*\x20weig'+'hts.z\x20+\x20d2'+'\x20*\x20weights'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20v3\x20=\x20a3'+'\x20*\x20weights'+'.x\x20+\x20b3\x20*\x20'+'weights.y\x20'+'+\x20c3\x20*\x20wei'+'ghts.z\x20+\x20d'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20add\x20up\x20'+'weights\x0a\x20\x20'+'\x20\x20float\x20on'+'e\x20=\x20dot(we'+'ights,\x20vec'+'4(1.0));\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.x'+',\x20v2.x,\x20v3'+'.x,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.y,'+'\x20v2.y,\x20v3.'+'y,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.z,\x20'+'v2.z,\x20v3.z'+',\x200,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20v1.w,\x20v'+'2.w,\x20v3.w,'+'\x20one\x0a\x20\x20\x20\x20)'+';\x0a}\x0a'),x2='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20float\x20v'+'LinearDept'+'h;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22floatAsUi'+'ntPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec3\x20vView'+'Dir;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20skyboxH'+'ighlightMu'+'ltiplier;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SKY_CUBE'+'MAP\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20texture'+'_cubeMap;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec3\x20v'+'WorldPos;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20project'+'edSkydomeC'+'enter;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#el'+'se\x20//\x20env-'+'atlas\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22spher'+'icalPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22envA'+'tlasPS\x22\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mipLe'+'vel;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20linear\x20d'+'epth\x20durin'+'g\x20prepass\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20flo'+'at2vec4(vL'+'inearDepth'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SK'+'Y_CUBEMAP\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SKYMES'+'H\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+('\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envDir\x20=\x20n'+'ormalize(v'+'WorldPos\x20-'+'\x20projected'+'SkydomeCen'+'ter);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20env'+'Dir\x20*\x20cube'+'MapRotatio'+'nMatrix;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20vViewD'+'ir;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir.x'+'\x20*=\x20-1.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20linear\x20=\x20'+'{SKYBOX_DE'+'CODE_FNC}('+'textureCub'+'e(texture_'+'cubeMap,\x20d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20vVie'+'wDir\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20toSph'+'ericalUv(n'+'ormalize(d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20mipLev'+'el)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20our\x20HDR'+'\x20encodes\x20v'+'alues\x20up\x20t'+'o\x2064,\x20so\x20a'+'llow\x20extra'+'\x20brightnes'+'s\x20for\x20the\x20'+'clipped\x20va'+'lues\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(any(great'+'erThanEqua'+'l(linear,\x20'+'vec3(64.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20skyboxHi'+'ghlightMul'+'tiplier;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(toneM'+'ap(process'+'Environmen'+'t(linear))'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20}'+'\x0a'),T2='\x0aattribute'+'\x20vec4\x20aPos'+'ition;\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tionSkybox'+';\x0auniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x0av'+'arying\x20vec'+'3\x20vViewDir'+';\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20//\x20'+'when\x20skydo'+'me\x20renders'+'\x20depth\x20dur'+'ing\x20prepas'+'s,\x20generat'+'e\x20linear\x20d'+'epth\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20vLinear'+'Depth;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20SKYMESH\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec3\x20vW'+'orldPos;\x0a#'+'endif\x0a\x0avoi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'mat4\x20view\x20'+'=\x20matrix_v'+'iew;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'MESH\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec4\x20w'+'orldPos\x20=\x20'+'matrix_mod'+'el\x20*\x20aPosi'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vWorld'+'Pos\x20=\x20worl'+'dPos.xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20PREPASS'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20linear\x20de'+'pth\x20from\x20t'+'he\x20worldPo'+'sition,\x20se'+'e\x20getLinea'+'rDepth\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vWorl'+'dPos,\x201.0)'+').z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20(view\x20*\x20'+'aPosition)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vViewDir\x20='+'\x20aPosition'+'.xyz\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20//\x20for\x20in'+'finite\x20sky'+'box,\x20use\x20n'+'egative\x20gl'+'_Position.'+'w\x20to\x20get\x20p'+'ositive\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vLinear'+'Depth\x20=\x20-g'+'l_Position'+'.w;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20Fo'+'rce\x20skybox'+'\x20to\x20far\x20Z,'+'\x20regardles'+'s\x20of\x20the\x20c'+'lip\x20planes'+'\x20on\x20the\x20ca'+'mera\x0a\x20\x20\x20\x20/'+'/\x20Subtract'+'\x20a\x20tiny\x20fu'+'dge\x20factor'+'\x20to\x20ensure'+'\x20floating\x20'+'point\x20erro'+'rs\x20don\x27t\x0a\x20'+'\x20\x20\x20//\x20stil'+'l\x20push\x20pix'+'els\x20beyond'+'\x20far\x20Z.\x20Se'+'e:\x0a\x20\x20\x20\x20//\x20'+'https://co'+'mmunity.kh'+'ronos.org/'+'t/skybox-p'+'roblem/618'+'57\x0a\x0a\x20\x20\x20\x20gl'+'_Position.'+'z\x20=\x20gl_Pos'+'ition.w\x20-\x20'+'1.0e-7;\x0a}\x0a'),w2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0auniform\x20v'+'ec3\x20materi'+'al_specula'+'r;\x0a#endif\x0a'+'\x0avoid\x20getS'+'pecularity'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20specul'+'arColor\x20=\x20'+'vec3(1,1,1'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20specularC'+'olor\x20*=\x20ma'+'terial_spe'+'cular;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'AR_TEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_SPECULAR_'+'TEXTURE_NA'+'ME},\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20textureB'+'ias)).{STD'+'_SPECULAR_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SPECU'+'LAR_VERTEX'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_S'+'PECULAR_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20spe'+'cularColor'+';\x0a}\x0a',E2='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'2\x20toSpheri'+'calUv(vec3'+'\x20dir)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PI\x20=\x203'+'.141592653'+'589793;\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20toSpheri'+'cal(dir)\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+';\x0a}\x0a',b2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_specula'+'rityFactor'+';\x0a#endif\x0a\x0a'+'void\x20getSp'+'ecularityF'+'actor()\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'specularit'+'yFactor\x20=\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULARI'+'TYFACTOR_C'+'ONSTANT\x0a\x20\x20'+'\x20\x20specular'+'ityFactor\x20'+'*=\x20materia'+'l_specular'+'ityFactor;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20t'+'exture2DBi'+'as({STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE_NAME},'+'\x20{STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_VERT'+'EX\x0a\x20\x20\x20\x20spe'+'cularityFa'+'ctor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SPECU'+'LARITYFACT'+'OR_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dSp'+'ecularityF'+'actor\x20=\x20sp'+'ecularityF'+'actor;\x0a}\x0a',A2='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',C2='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2(vUv0.'+'x,\x201.0\x20-\x20v'+'Uv0.y);\x0a',P2='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',M2='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20float\x20dAl'+'pha\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_o'+'pacityMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20global'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dAlbe'+'do;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dSpeculari'+'ty\x20=\x20vec3('+'0.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dGlossines'+'s\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20dT'+'ransmissio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dThicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SC'+'ENE_COLOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'uSceneColo'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SCREEN_SI'+'ZE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20uS'+'creenSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_TRAN'+'SFORMS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20matrix_v'+'iewProject'+'ion;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_mod'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20parallax\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20dUv'+'Offset;\x0a\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_he'+'ightMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20diffu'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20tex'+'ture_diffu'+'seMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_diffuseDe'+'tailMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_normal'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'NORMALDETA'+'IL_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_no'+'rmalDetail'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20refracti'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_THICKNES'+'S_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_thi'+'cknessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_REFRA'+'CTION_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_refractio'+'nMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20iridesc'+'ence\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_IRIDES'+'CENCE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20dIride'+'scence;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dIri'+'descenceTh')+('ickness;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_irides'+'cenceThick'+'nessMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_iridesce'+'nceMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20ccNorm'+'alW;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dAnisotro'+'py;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20&\x20glossin'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_OR_REFLE'+'CTION\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20sheen\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20sGloss'+'iness;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SHEEN'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_sheenM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_sh'+'eenGlossMa')+('p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20metalness'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dMet'+'alness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dIor;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_met'+'alnessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20dSpecula'+'rityFactor'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_speculari'+'tyFactorMa'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20specular\x20'+'color\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_specula'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20gloss\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_gl'+'ossMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dAo'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_aoM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_aoDeta'+'ilMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dEmis'+'sion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_EMISS'+'IVE_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_e'+'missiveMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'learcoat\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'EARCOAT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatG'+'lossMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'NORMAL_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_clea'+'rCoatNorma'+'lMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'anisotropy'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde')+('f\x20STD_ANIS'+'OTROPY_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_anis'+'otropyMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dLightma'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_LIGH'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_lightMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20front\x20'+'end\x20output'+'s\x20to\x20lit\x20s'+'hader\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'litShaderC'+'orePS\x22\x0a'),D2='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20voi'+'d\x20getSpecu'+'larity()\x20{'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20vec'+'3(1);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20g'+'loss\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22glo'+'ssPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20ao\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'aoPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'emissivePS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO')+('AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22clear'+'CoatPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatG'+'lossPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatN'+'ormalPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20anis'+'otropy\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ani'+'sotropyPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(STD'+'_LIGHTMAP)'+'\x20||\x20define'+'d(STD_LIGH'+'T_VERTEX_C'+'OLOR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20void\x20eval'+'uateFronte'+'nd()\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIT'+'_BLEND_TYP'+'E\x20!=\x20NONE\x20'+'||\x20defined'+'(LIT_ALPHA'+'_TEST)\x20||\x20'+'defined(LI'+'T_ALPHA_TO'+'_COVERAGE)'+'\x20||\x20STD_OP'+'ACITY_DITH'+'ER\x20!=\x20NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getOpac'+'ity();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_ALPH'+'A_TEST)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alphaT'+'est(dAlpha'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(dAlp'+'ha,\x200.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'opacity\x20=\x20'+'dAlpha;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20pa'+'rallax\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'HEIGHT_MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Parallax()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Albedo();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20d'+'Albedo;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20normal'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getNorm'+'al();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'worldNorma'+'l\x20=\x20dNorma'+'lW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_REFRACT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getRefract'+'ion();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_transmiss'+'ion\x20=\x20dTra'+'nsmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tThickness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_th'+'ickness\x20=\x20'+'dThickness'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_d'+'ispersion\x20'+'=\x20material'+'_dispersio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20iridescen'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_IRID'+'ESCENCE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getIri'+'descence()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tIridescen'+'ceThicknes'+'s();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_i'+'ridescence'+'_intensity'+'\x20=\x20dIrides'+'cence;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_iridescen'+'ce_thickne'+'ss\x20=\x20dIrid'+'escenceThi'+'ckness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('//\x20specula'+'rity\x20&\x20glo'+'ssiness\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR_'+'OR_REFLECT'+'ION\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getShee'+'n();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_sheen_s'+'pecularity'+'\x20=\x20sSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'SheenGloss'+'iness();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_she'+'en_gloss\x20='+'\x20sGlossine'+'ss;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20met'+'alness\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getMet'+'alness();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_me'+'talness\x20=\x20'+'dMetalness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getIor()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior\x20=\x20dIor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20specu'+'larity\x20fac'+'tor\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rityFactor'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ityFactor\x20'+'=\x20dSpecula'+'rityFactor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20gloss'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rity();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20dSpe'+'cularity;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss\x20'+'=\x20dGlossin')+('ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getAO'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ao'+'\x20=\x20dAo;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getEmi'+'ssion();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_e'+'mission\x20=\x20'+'dEmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cle'+'arcoat\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getC'+'learCoat()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tClearCoat'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getClearCo'+'atNormal()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20=\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_g'+'loss\x20=\x20ccG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_clear'+'coat_world'+'Normal\x20=\x20c'+'cNormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20aniso'+'tropy\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x20&&\x20def'+'ined(LIT_L'+'IGHTING)\x20&'+'&\x20defined('+'LIT_GGX_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getAni'+'sotropy();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20ligh'+'tmap\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(S'+'TD_LIGHTMA'+'P)\x20||\x20defi'+'ned(STD_LI'+'GHT_VERTEX'+'_COLOR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htMap();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_lightma'+'p\x20=\x20dLight'+'map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_lightm'+'apDir\x20=\x20dL'+'ightmapDir'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a'),I2='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20tbnBasis'+';\x0a#endif\x0a\x0a'+'void\x20getTB'+'N(vec3\x20tan'+'gent,\x20vec3'+'\x20binormal,'+'\x20vec3\x20norm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TB'+'N_TANGENTS'+'\x20//\x20tangen'+'ts\x20/\x20binor'+'mals\x20based'+'\x20TBN\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(tang'+'ent),\x20norm'+'alize(bino'+'rmal),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(TBN_'+'DERIVATIVE'+'S)\x20//\x20deri'+'vatives\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20{li'+'ghtingUv};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20get\x20edg'+'e\x20vectors\x20'+'of\x20the\x20pix'+'el\x20triangl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dp1\x20='+'\x20dFdx(\x20vPo'+'sitionW\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dp2\x20=\x20'+'dFdy(\x20vPos'+'itionW\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20duv2\x20'+'=\x20dFdy(\x20uv'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20solv'+'e\x20the\x20line'+'ar\x20system\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20dp2perp'+'\x20=\x20cross(\x20'+'dp2,\x20norma'+'l\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dp'+'1perp\x20=\x20cr'+'oss(\x20norma'+'l,\x20dp1\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+'dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+('ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'nom\x20=\x20max('+'\x20dot(T,T),'+'\x20dot(B,B)\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20inv'+'max\x20=\x20(den'+'om\x20==\x200.0)'+'\x20?\x200.0\x20:\x20t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20object'+'\x20space\x20TBN'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20B\x20=\x20c'+'ross(norma'+'l,\x20vObject'+'SpaceUpW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20T\x20=\x20cr'+'oss(normal'+',\x20B);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(d'+'ot(B,B)==0'+'.0)\x20//\x20dea'+'l\x20with\x20cas'+'e\x20when\x20vOb'+'jectSpaceU'+'pW\x20normal\x20'+'are\x20parall'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20major=max'+'(max(norma'+'l.x,\x20norma'+'l.y),\x20norm'+'al.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(normal'+'.x\x20==\x20majo'+'r)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20B\x20=\x20cro'+'ss(normal,'+'\x20vec3(0,1,'+'0));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20T\x20=\x20cross'+'(normal,\x20B'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x20if\x20(no'+'rmal.y\x20==\x20'+'major)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B\x20='+'\x20cross(nor'+'mal,\x20vec3('+'0,0,1));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20if'+'\x20(normal.z'+'\x20==\x20major)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20B\x20=\x20cross'+'(normal,\x20v'+'ec3(1,0,0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(T),\x20'+'normalize('+'B),\x20normal'+'ize(normal'+'));\x0a\x0a\x20\x20\x20\x20#')+'endif\x0a}\x0a',L2='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_thickn'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tThickness'+'()\x20{\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_THICKNE'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dThi'+'ckness\x20*=\x20'+'material_t'+'hickness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_THI'+'CKNESS_TEX'+'TURE\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20texture'+'2DBias({ST'+'D_THICKNES'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_THICKNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_TH'+'ICKNESS_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',R2='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',O2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',F2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',N2='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',k2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',U2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',B2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',z2='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',V2='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sc'+'reenPos\x20=\x20'+'vec4(verte'+'x_texCoord'+'1.xy\x20*\x202.0'+'\x20-\x201.0,\x200.'+'5,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20WEBGPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20SCREENSP'+'ACE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.y\x20*='+'\x20projectio'+'nFlipY;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PIX'+'ELSNAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20snap\x20ver'+'tex\x20to\x20a\x20p'+'ixel\x20bound'+'ary\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x200.5'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.xy\x20*=\x20uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'ScreenSize'+'.zw;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x202.'+'0)\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}')+('\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),G2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifdef\x20MORP'+'HING\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20morph_te'+'x_params;\x0a'+'\x20\x20\x20\x20attrib'+'ute\x20uint\x20m'+'orph_verte'+'x_id;\x0a\x0a\x20\x20\x20'+'\x20ivec2\x20get'+'TextureMor'+'phCoords()'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20turn\x20'+'morph_vert'+'ex_id\x20into'+'\x20int\x20grid\x20'+'coordinate'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ivec2\x20text'+'ureSize\x20=\x20'+'ivec2(morp'+'h_tex_para'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20mor'+'phGridV\x20=\x20'+'int(morph_'+'vertex_id)'+'\x20/\x20texture'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'morphGridU'+'\x20=\x20int(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20flipY\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20morphGrid'+'V\x20=\x20textur'+'eSize.y\x20-\x20'+'morphGridV'+'\x20-\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ivec'+'2(morphGri'+'dU,\x20morphG'+'ridV);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec3\x20aabb'+'Size;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'usampler2D'+'\x20morphPosi'+'tionTex;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20highp\x20s'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a#ifdef\x20de'+'fined(BATC'+'H)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ski'+'nBatchVS\x22\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getBon'+'eMatrix(ve'+'rtex_boneI'+'ndices);\x0a\x20'+'\x20\x20\x20}\x0a\x0a#eli'+'f\x20defined('+'SKIN)\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20get'+'SkinMatrix'+'(vertex_bo'+'neIndices,'+'\x20vertex_bo'+'neWeights)'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'elif\x20defin'+'ed(INSTANC'+'ING)\x0a\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'transformI'+'nstancingV'+'S\x22\x0a\x0a#else\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20matrix'+'_model;\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tLocalPosi'+'tion(vec3\x20'+'vertexPosi'+'tion)\x20{\x0a\x0a\x20'+'\x20\x20\x20vec3\x20lo'+'calPos\x20=\x20v'+'ertexPosit'+'ion;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'morphUV\x20=\x20'+'getTexture'+'MorphCoord'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPHING_'+'INT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20vec3(tex'+'elFetch(mo'+'rphPositio'+'nTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x20aabbSize'+'\x20+\x20aabbMin'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphPo'+'s\x20=\x20texelF'+'etch(morph'+'PositionTe'+'x,\x20ivec2(m'+'orphUV),\x200'+').xyz;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20localPos\x20'+'+=\x20morphPo'+'s;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20loc'+'alPos;\x0a}\x0a\x0a'),H2='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',W2='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_refr'+'action;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getRefrac'+'tion()\x20{\x0a\x20'+'\x20\x20\x20float\x20r'+'efraction\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_RE'+'FRACTION_T'+'EXTURE\x0a\x20\x20\x20'+'\x20refractio'+'n\x20*=\x20textu'+'re2DBias({'+'STD_REFRAC'+'TION_TEXTU'+'RE_NAME},\x20'+'{STD_REFRA'+'CTION_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_REF'+'RACTION_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_VERTEX'+'\x0a\x20\x20\x20\x20refra'+'ction\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_REFR'+'ACTION_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dTransmis'+'sion\x20=\x20ref'+'raction;\x0a}'+'\x0a',$2='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',X2='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20vec2\x20ge'+'tUv0()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20ver'+'tex_positi'+'on.xz;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20o'+'ffset\x20inne'+'r\x20vertices'+'\x20inside\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20('+'original\x20v'+'ertices\x20mu'+'st\x20be\x20in\x20['+'-1;1]\x20rang'+'e)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20n'+'egativeUni'+'tOffset\x20=\x20'+'clamp(-ver'+'tex_positi'+'on.xz,\x20vec'+'2(0.0),\x20ve'+'c2(1.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20-0.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20atlasRe'+'ct.zw\x20+\x20at'+'lasRect.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uv;\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20vec2'+'\x20getUv0()\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a',q2='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',j2='\x0avUV{TRANS'+'FORM_UV_{i'+'}}_{TRANSF'+'ORM_ID_{i}'+'}\x20=\x20vec2(\x0a'+'\x20\x20\x20\x20dot(ve'+'c3(uv{TRAN'+'SFORM_UV_{'+'i}},\x201),\x20{'+'TRANSFORM_'+'NAME_{i}}0'+'),\x0a\x20\x20\x20\x20dot'+'(vec3(uv{T'+'RANSFORM_U'+'V_{i}},\x201)'+',\x20{TRANSFO'+'RM_NAME_{i'+'}}1)\x0a);\x0a',Y2='\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}0;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}1;'+'\x0a',K2='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',Z2={'alphaTestPS':YC,'ambientPS':KC,'anisotropyPS':ZC,'aoPS':QC,'aoDiffuseOccPS':JC,'aoSpecOccPS':e1,'bakeDirLmEndPS':t1,'bakeLmEndPS':s1,'basePS':i1,'baseNineSlicedPS':r1,'baseNineSlicedTiledPS':a1,'bayerPS':n1,'blurVSMPS':o1,'clearCoatPS':l1,'clearCoatGlossPS':c1,'clearCoatNormalPS':h1,'clusteredLightCookiesPS':f1,'clusteredLightShadowsPS':u1,'clusteredLightUtilsPS':d1,'clusteredLightPS':p1,'combinePS':m1,'cookieBlit2DPS':_1,'cookieBlitCubePS':g1,'cookieBlitVS':S1,'cookiePS':y1,'cubeMapProjectPS':v1,'cubeMapRotatePS':x1,'debugOutputPS':T1,'debugProcessFrontendPS':w1,'detailModesPS':b1,'diffusePS':A1,'decodePS':E1,'emissivePS':C1,'encodePS':P1,'endPS':M1,'envAtlasPS':D1,'envProcPS':I1,'falloffInvSquaredPS':L1,'falloffLinearPS':R1,'floatAsUintPS':O1,'fogPS':F1,'fresnelSchlickPS':N1,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':k1,'gammaPS':U1,'gles3PS':Vy,'gles3VS':Gy,'glossPS':B1,'gsplatCenterVS':z1,'gsplatCornerVS':K1,'gsplatColorVS':V1,'gsplatCommonVS':G1,'gsplatCompressedDataVS':H1,'gsplatCompressedSHVS':W1,'gsplatEvalSHVS':$1,'gsplatQuatToMat3VS':X1,'gsplatSogsColorVS':q1,'gsplatSogsDataVS':j1,'gsplatSogsSHVS':Y1,'gsplatDataVS':Z1,'gsplatOutputVS':Q1,'gsplatPS':J1,'gsplatSHVS':eP,'gsplatSourceVS':tP,'gsplatVS':sP,'quadVS':iP,'immediateLinePS':rP,'immediateLineVS':aP,'iridescenceDiffractionPS':nP,'iridescencePS':oP,'iridescenceThicknessPS':lP,'iorPS':cP,'lightDeclarationPS':hP,'lightDiffuseLambertPS':dP,'lightDirPointPS':fP,'lightEvaluationPS':uP,'lightFunctionLightPS':pP,'lightFunctionShadowPS':mP,'lightingPS':_P,'lightmapAddPS':gP,'lightmapPS':SP,'lightSpecularAnisoGGXPS':yP,'lightSpecularBlinnPS':vP,'lightSheenPS':xP,'linearizeDepthPS':TP,'litForwardBackendPS':wP,'litForwardDeclarationPS':EP,'litForwardMainPS':bP,'litForwardPostCodePS':AP,'litForwardPreCodePS':CP,'litMainPS':PP,'litMainVS':MP,'litOtherMainPS':DP,'litShaderArgsPS':IP,'litShaderCorePS':LP,'litShadowMainPS':RP,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':OP,'metalnessPS':FP,'metalnessModulatePS':kP,'morphPS':UP,'morphVS':BP,'msdfPS':NP,'msdfVS':zP,'normalVS':VP,'normalCoreVS':GP,'normalMapPS':HP,'opacityPS':WP,'opacityDitherPS':$P,'outputPS':XP,'outputAlphaPS':qP,'outputTex2DPS':jP,'sheenPS':YP,'sheenGlossPS':KP,'parallaxPS':ZP,'pickPS':QP,'reflDirPS':JP,'reflDirAnisoPS':e2,'reflectionCCPS':t2,'reflectionCubePS':s2,'reflectionEnvHQPS':i2,'reflectionEnvPS':r2,'reflectionSpherePS':a2,'reflectionSheenPS':n2,'refractionCubePS':o2,'refractionDynamicPS':l2,'reprojectPS':c2,'reprojectVS':h2,'screenDepthPS':d2,'shadowCascadesPS':f2,'shadowEVSMPS':u2,'shadowPCF1PS':p2,'shadowPCF3PS':m2,'shadowPCF5PS':_2,'shadowPCSSPS':g2,'shadowSoftPS':S2,'skinBatchVS':y2,'skinVS':v2,'skyboxPS':x2,'skyboxVS':T2,'specularPS':w2,'sphericalPS':E2,'specularityFactorPS':b2,'spotPS':A2,'startNineSlicedPS':C2,'startNineSlicedTiledPS':P2,'stdDeclarationPS':M2,'stdFrontEndPS':D2,'TBNPS':I2,'thicknessPS':L2,'tonemappingPS':R2,'tonemappingAcesPS':O2,'tonemappingAces2PS':F2,'tonemappingFilmicPS':N2,'tonemappingHejlPS':k2,'tonemappingLinearPS':U2,'tonemappingNeutralPS':B2,'tonemappingNonePS':z2,'transformVS':V2,'transformCoreVS':G2,'transformInstancingVS':H2,'transmissionPS':W2,'twoSidedLightingPS':$2,'uv0VS':X2,'uv1VS':q2,'uvTransformVS':j2,'uvTransformUniformsPS':Y2,'viewDirPS':K2,'webgpuPS':Hy,'webgpuVS':Wy},Q2='\x0auniform\x20a'+'lpha_ref:\x20'+'f32;\x0a\x0afn\x20a'+'lphaTest(a'+':\x20f32)\x20{\x0a\x20'+'\x20\x20\x20if\x20(a\x20<'+'\x20uniform.a'+'lpha_ref)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',J2='\x0a\x0a#if\x20LIT_'+'AMBIENT_SO'+'URCE\x20==\x20AM'+'BIENTSH\x0a\x20\x20'+'\x20\x20uniform\x20'+'ambientSH:'+'\x20array<vec'+'3f,\x209>;\x0a#e'+'ndif\x0a\x0a#if\x20'+'LIT_AMBIEN'+'T_SOURCE\x20='+'=\x20ENVALATL'+'AS\x0a\x20\x20\x20\x20#in'+'clude\x20\x22env'+'AtlasPS\x22\x0a\x0a'+'\x20\x20\x20\x20#ifnde'+'f\x20ENV_ATLA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_en'+'vAtlas:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_envAt'+'lasSampler'+':\x20sampler;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'fn\x20addAmbi'+'ent(worldN'+'ormal:\x20vec'+'3f)\x20{\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20A'+'MBIENTSH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20n:\x20vec3f'+'\x20=\x20cubeMap'+'Rotate(wor'+'ldNormal);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20color:\x20'+'vec3f\x20=\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[0]'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[1]\x20*\x20n.'+'x\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm.ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form.ambie'+'ntSH[3]\x20*\x20'+'n.z\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform.ambi'+'entSH[4]\x20*'+'\x20n.x\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[5]\x20*\x20n.'+'z\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform.'+'ambientSH['+'6]\x20*\x20n.y\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform.amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[8]'+'\x20*\x20(n.x\x20*\x20'+'n.x\x20-\x20n.y\x20'+'*\x20n.y);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20proces'+'sEnvironme'+'nt(max(col'+'or,\x20vec3f('+'0.0)));\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+('\x20ENVALATLA'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3f(-1.0,\x201'+'.0,\x201.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20mapUv'+'(toSpheric'+'alUv(dir),'+'\x20vec4f(128'+'.0,\x20256.0\x20'+'+\x20128.0,\x206'+'4.0,\x2032.0)'+'\x20/\x20atlasSi'+'ze);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20ra'+'w:\x20vec4f\x20='+'\x20textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20uv'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20linea'+'r:\x20vec3f\x20='+'\x20{ambientD'+'ecode}(raw'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(lin'+'ear);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20C'+'ONSTANT\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20unifor'+'m.light_gl'+'obalAmbien'+'t;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),eM='\x0a#ifdef\x20LI'+'T_GGX_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_anis'+'otropyInte'+'nsity:\x20f32'+';\x0a\x20\x20\x20\x20unif'+'orm\x20materi'+'al_anisotr'+'opyRotatio'+'n:\x20vec2f;\x0a'+'#endif\x0a\x0afn'+'\x20getAnisot'+'ropy()\x20{\x0a\x20'+'\x20\x20\x20dAnisot'+'ropy\x20=\x200.0'+';\x0a\x20\x20\x20\x20dAni'+'sotropyRot'+'ation\x20=\x20ve'+'c2f(1.0,\x200'+'.0);\x0a\x0a#ifd'+'ef\x20LIT_GGX'+'_SPECULAR\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20=\x20un'+'iform.mate'+'rial_aniso'+'tropyInten'+'sity;\x0a\x20\x20\x20\x20'+'dAnisotrop'+'yRotation\x20'+'=\x20uniform.'+'material_a'+'nisotropyR'+'otation;\x0a#'+'endif\x0a\x0a#if'+'def\x20STD_AN'+'ISOTROPY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyTex:\x20'+'vec3f\x20=\x20te'+'xtureSampl'+'eBias({STD'+'_ANISOTROP'+'Y_TEXTURE_'+'NAME},\x20{ST'+'D_ANISOTRO'+'PY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'ANISOTROPY'+'_TEXTURE_U'+'V},\x20unifor'+'m.textureB'+'ias).rgb;\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20*=\x20a'+'nisotropyT'+'ex.b;\x0a\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyRotat'+'ionFromTex'+':\x20vec2f\x20=\x20'+'anisotropy'+'Tex.rg\x20*\x202'+'.0\x20-\x20vec2f'+'(1.0);\x0a\x20\x20\x20'+'\x20let\x20rotat'+'ionMatrix:'+'\x20mat2x2f\x20='+'\x20mat2x2f(d'+'Anisotropy'+'Rotation.x'+',\x20dAnisotr'+'opyRotatio'+'n.y,\x20-dAni'+'sotropyRot'+'ation.y,\x20d'+'Anisotropy'+'Rotation.x'+');\x0a\x20\x20\x20\x20dAn'+'isotropyRo'+'tation\x20=\x20r'+'otationMat'+'rix\x20*\x20anis'+'otropyRota'+'tionFromTe'+'x;\x0a#endif\x0a'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20c'+'lamp(dAnis'+'otropy,\x200.'+'0,\x201.0);\x0a}'+'\x0a',tM='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_aoI'+'ntensity:\x20'+'f32;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_AODETA'+'IL_TEXTURE'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22detai'+'lModesPS\x22\x0a'+'#endif\x0a\x0afn'+'\x20getAO()\x20{'+'\x0a\x20\x20\x20\x20dAo\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20aoBas'+'e:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_AO_TEXTU'+'RE_NAME},\x20'+'{STD_AO_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AO_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_AO_'+'TEXTURE_CH'+'ANNEL};\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_AO'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20aoDetail:'+'\x20f32\x20=\x20tex'+'tureSample'+'Bias({STD_'+'AODETAIL_T'+'EXTURE_NAM'+'E},\x20{STD_A'+'ODETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AODET'+'AIL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_AODETAI'+'L_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20aoBase\x20='+'\x20detailMod'+'e_{STD_AOD'+'ETAIL_DETA'+'ILMODE}(ve'+'c3f(aoBase'+'),\x20vec3f(a'+'oDetail)).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dAo'+'\x20=\x20dAo\x20*\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20=\x20dA'+'o\x20*\x20satura'+'te(vVertex'+'Color.{STD'+'_AO_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'STD_AO_TEX'+'TURE)\x20||\x20d'+'efined(STD'+'_AO_VERTEX'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'uniform.ma'+'terial_aoI'+'ntensity);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',sM='\x0afn\x20occlud'+'eDiffuse(a'+'o:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20ao;\x0a'+'}\x0a',iM='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'aterial_oc'+'cludeSpecu'+'larIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0afn'+'\x20occludeSp'+'ecular(glo'+'ss:\x20f32,\x20a'+'o:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f)\x20{\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20==\x20A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_OCCLUDE_S'+'PECULAR_FL'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'specOcc:\x20f'+'32\x20=\x20mix(1'+'.0,\x20ao,\x20un'+'iform.mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specOcc:'+'\x20f32\x20=\x20ao;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'GLOSSDEPEN'+'DENT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'roximated\x20'+'specular\x20o'+'cclusion\x20f'+'rom\x20AO\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ht'+'tp://resea'+'rch.tri-ac'+'e.com/Data'+'/cedec2011'+'_RealtimeP'+'BR_Impleme'+'ntation_e.'+'pptx\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20spe'+'cPow:\x20f32\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20specOc'+'c:\x20f32\x20=\x20s'+'aturate(po'+'w(dot(worl'+'dNormal,\x20v'+'iewDir)\x20+\x20'+'ao,\x200.01\x20*'+'\x20specPow)\x20'+'-\x201.0\x20+\x20ao'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_OCCLUDE'+'_SPECULAR_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecOcc\x20=\x20mi'+'x(1.0,\x20spe'+'cOcc,\x20unif'+'orm.materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20*\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20dRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'*\x20specOcc;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sReflec'+'tion\x20=\x20sRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a'),rM='\x0a\x20\x20\x20\x20let\x20d'+'irLm\x20=\x20tex'+'tureSample'+'(texture_d'+'irLightMap'+',\x20texture_'+'dirLightMa'+'pSampler,\x20'+'vUv1);\x0a\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.bakeDi'+'r\x20>\x200.5)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(dAtten\x20'+'>\x200.00001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'npacked_di'+'r\x20=\x20dirLm.'+'xyz\x20*\x202.0\x20'+'-\x20vec3f(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x20clamp'+'(dAtten,\x200'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20comb'+'ined_dir\x20='+'\x20dLightDir'+'NormW.xyz\x20'+'*\x20dAtten\x20+'+'\x20unpacked_'+'dir\x20*\x20dirL'+'m.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20finalRgb\x20'+'=\x20normaliz'+'e(combined'+'_dir)\x20*\x200.'+'5\x20+\x20vec3f('+'0.5);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20finalA\x20='+'\x20max(dirLm'+'.w\x20+\x20dAtte'+'n,\x201.0\x20/\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalRgb,\x20'+'finalA);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20dirLm;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20alpha'+'_min\x20=\x20sel'+'ect(0.0,\x201'+'.0\x20/\x20255.0'+',\x20dAtten\x20>'+'\x200.00001);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20finalA\x20'+'=\x20max(dirL'+'m.w,\x20alpha'+'_min);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(dirL'+'m.rgb,\x20fin'+'alA);\x0a\x20\x20\x20\x20'+'}\x0a',aM='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'uniform.am'+'bientBakeO'+'cclusionCo'+'ntrast\x20+\x201'+'.0,\x200.0))\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20vec3f(u'+'niform.amb'+'ientBakeOc'+'clusionBri'+'ghtness);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'saturate3('+'dDiffuseLi'+'ght);\x0a\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20=\x20dDif'+'fuseLight\x20'+'*\x20dAmbient'+'Light;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIGHTMAP'+'_RGBM\x0a\x20\x20\x20\x20'+'//\x20encode\x20'+'to\x20RGBM\x0a\x20\x20'+'\x20\x20var\x20temp'+'_color_rgb'+'m\x20=\x20vec4f('+'dDiffuseLi'+'ght,\x201.0);'+'\x0a\x20\x20\x20\x20temp_'+'color_rgbm'+'\x20=\x20vec4f(p'+'ow(temp_co'+'lor_rgbm.r'+'gb,\x20vec3f('+'0.5)),\x20tem'+'p_color_rg'+'bm.a);\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+'color_rgbm'+'.rgb\x20/\x208.0'+',\x20temp_col'+'or_rgbm.a)'+';\x0a\x20\x20\x20\x20let\x20'+'max_g_b\x20=\x20'+'max(temp_c'+'olor_rgbm.'+'g,\x20max(tem'+'p_color_rg'+'bm.b,\x201.0\x20'+'/\x20255.0));'+'\x0a\x20\x20\x20\x20let\x20m'+'ax_rgb\x20=\x20m'+'ax(temp_co'+'lor_rgbm.r'+',\x20max_g_b)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20ceil'+'(temp_colo'+'r_rgbm.a\x20*'+'\x20255.0)\x20/\x20'+'255.0;\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+('color_rgbm'+'.rgb\x20/\x20tem'+'p_color_rg'+'bm.a,\x20temp'+'_color_rgb'+'m.a);\x0a\x20\x20\x20\x20'+'output.col'+'or\x20=\x20temp_'+'color_rgbm'+';\x0a#else\x0a\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20vec'+'4f(dDiffus'+'eLight,\x201.'+'0);\x0a#endif'+'\x0a'),nM='\x0auniform\x20v'+'iew_positi'+'on:\x20vec3f;'+'\x0a\x0auniform\x20'+'light_glob'+'alAmbient:'+'\x20vec3f;\x0a\x0af'+'n\x20square(x'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20x*x'+';\x0a}\x0a\x0afn\x20sa'+'turate(x:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0afn'+'\x20saturate3'+'(x:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3f(0.'+'0),\x20vec3f('+'1.0));\x0a}\x0a',oM='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'Mask:\x20vec2'+'f;\x0avarying'+'\x20vTiledUv:'+'\x20vec2f;\x0a\x0au'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0auni'+'form\x20outer'+'Scale:\x20vec'+'2f;\x0aunifor'+'m\x20atlasRec'+'t:\x20vec4f;\x0a'+'\x0avar<priva'+'te>\x20nineSl'+'icedUv:\x20ve'+'c2f;\x0a',lM='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vMask:\x20v'+'ec2f;\x0avary'+'ing\x20vTiled'+'Uv:\x20vec2f;'+'\x0a\x0auniform\x20'+'innerOffse'+'t:\x20vec4f;\x0a'+'uniform\x20ou'+'terScale:\x20'+'vec2f;\x0auni'+'form\x20atlas'+'Rect:\x20vec4'+'f;\x0a\x0avar<pr'+'ivate>\x20nin'+'eSlicedUv:'+'\x20vec2f;\x0a',cM='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afn\x20bay'+'er2(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(2.0\x20*'+'\x20p.y\x20+\x20p.x'+'\x20+\x201.0)\x20%\x20'+'4.0;\x0a}\x0a\x0a//'+'\x204x4\x20matri'+'x,\x20p\x20-\x20pix'+'el\x20coordin'+'ate\x0afn\x20bay'+'er4(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20p1:\x20vec2f'+'\x20=\x20p\x20%\x20vec'+'2f(2.0);\x0a\x20'+'\x20\x20\x20let\x20p2:'+'\x20vec2f\x20=\x20f'+'loor(0.5\x20*'+'\x20(p\x20%\x20vec2'+'f(4.0)));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afn\x20bayer8'+'(p:\x20vec2f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20p1'+':\x20vec2f\x20=\x20'+'p\x20%\x20vec2f('+'2.0);\x0a\x20\x20\x20\x20'+'let\x20p2:\x20ve'+'c2f\x20=\x20floo'+'r(0.5\x20*\x20(p'+'\x20%\x20vec2f(4'+'.0)));\x0a\x20\x20\x20'+'\x20let\x20p4:\x20v'+'ec2f\x20=\x20flo'+'or(0.25\x20*\x20'+'(p\x20%\x20vec2f'+'(8.0)));\x0a\x20'+'\x20\x20\x20return\x20'+'4.0\x20*\x20(4.0'+'\x20*\x20bayer2('+'p1)\x20+\x20baye'+'r2(p2))\x20+\x20'+'bayer2(p4)'+';\x0a}\x0a',hM='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20sou'+'rce:\x20textu'+'re_2d<f32>'+';\x0avar\x20sour'+'ceSampler:'+'\x20sampler;\x0a'+'\x0a#ifdef\x20GA'+'USS\x0a\x20\x20\x20\x20un'+'iform\x20weig'+'ht:\x20array<'+'f32,\x20{SAMP'+'LES}>;\x0a#en'+'dif\x0aunifor'+'m\x20pixelOff'+'set:\x20vec2f'+';\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20var'+'\x20moments:\x20'+'vec3f\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20let\x20uv'+':\x20vec2f\x20=\x20'+'input.vUv0'+'\x20-\x20uniform'+'.pixelOffs'+'et\x20*\x20(f32('+'{SAMPLES})'+'\x20*\x200.5);\x0a\x0a'+'\x20\x20\x20\x20for\x20(v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20{'+'SAMPLES};\x20'+'i\x20=\x20i\x20+\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20c:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'source,\x20so'+'urceSample'+'r,\x20uv\x20+\x20un'+'iform.pixe'+'lOffset\x20*\x20'+'f32(i));\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20moments'+'\x20=\x20moments'+'\x20+\x20c.xyz\x20*'+'\x20uniform.w'+'eight[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20=\x20moment'+'s\x20+\x20c.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'oments\x20=\x20m'+'oments\x20*\x20('+'1.0\x20/\x20f32('+'{SAMPLES})'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'moments,\x201'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a',dM='\x0auniform\x20m'+'aterial_cl'+'earCoat:\x20f'+'32;\x0a\x0afn\x20ge'+'tClearCoat'+'()\x20{\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20=\x20unifo'+'rm.materia'+'l_clearCoa'+'t;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_C'+'LEARCOAT_T'+'EXTURE\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20=\x20ccS'+'pecularity'+'\x20*\x20texture'+'SampleBias'+'({STD_CLEA'+'RCOAT_TEXT'+'URE_NAME},'+'\x20{STD_CLEA'+'RCOAT_TEXT'+'URE_NAME}S'+'ampler,\x20{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_CLE'+'ARCOAT_VER'+'TEX\x0a\x20\x20\x20\x20cc'+'Specularit'+'y\x20=\x20ccSpec'+'ularity\x20*\x20'+'saturate(v'+'VertexColo'+'r.{STD_CLE'+'ARCOAT_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a',fM='\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_clearCoa'+'tGloss:\x20f3'+'2;\x0a\x0afn\x20get'+'ClearCoatG'+'lossiness('+')\x20{\x0a\x20\x20\x20\x20cc'+'Glossiness'+'\x20=\x20uniform'+'.material_'+'clearCoatG'+'loss;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE_NAME}'+',\x20{STD_CLE'+'ARCOATGLOS'+'S_TEXTURE_'+'NAME}Sampl'+'er,\x20{STD_C'+'LEARCOATGL'+'OSS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_CLEA'+'RCOATGLOSS'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_INVERT\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20=\x201.0'+'\x20-\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20ccGloss'+'iness\x20+=\x200'+'.0000001;\x0a'+'}\x0a',uM='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_cle'+'arCoatBump'+'iness:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getClea'+'rCoatNorma'+'l()\x20{\x0a#ifd'+'ef\x20STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'\x0a\x20\x20\x20\x20var\x20n'+'ormalMap:\x20'+'vec3f\x20=\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_DEC'+'ODE}(textu'+'reSampleBi'+'as({STD_CL'+'EARCOATNOR'+'MAL_TEXTUR'+'E_NAME},\x20{'+'STD_CLEARC'+'OATNORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias));\x0a\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20mix(v'+'ec3f(0.0,\x20'+'0.0,\x201.0),'+'\x20normalMap'+',\x20uniform.'+'material_c'+'learCoatBu'+'mpiness);\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20norm'+'alize(dTBN'+'\x20*\x20normalM'+'ap);\x0a#else'+'\x0a\x20\x20\x20\x20ccNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a',pM='\x0astruct\x20Fa'+'ceCoords\x20{'+'\x0a\x20\x20\x20\x20uv:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Or'+'iginal\x20ret'+'urn\x20value\x0a'+'\x20\x20\x20\x20faceIn'+'dex:\x20f32,\x20'+'\x20\x20\x20//\x20Was\x20'+'out\x20parame'+'ter\x0a\x20\x20\x20\x20ti'+'leOffset:\x20'+'vec2f,\x20//\x20'+'Was\x20out\x20pa'+'rameter\x0a}\x0a'+'\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0afn\x20getC'+'ubemapFace'+'Coordinate'+'s(dir:\x20vec'+'3f)\x20->\x20Fac'+'eCoords\x20{\x0a'+'\x20\x20\x20\x20var\x20fa'+'ceIndex:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20tileOffs'+'et:\x20vec2f;'+'\x0a\x20\x20\x20\x20var\x20u'+'v:\x20vec2f;\x20'+'//\x20This\x20is'+'\x20the\x20face\x20'+'UV\x20[0..1]\x0a'+'\x20\x20\x20\x20let\x20vA'+'bs:\x20vec3f\x20'+'=\x20abs(dir)'+';\x0a\x20\x20\x20\x20var\x20'+'ma:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20if\x20(vA'+'bs.z\x20>=\x20vA'+'bs.x\x20&&\x20vA'+'bs.z\x20>=\x20vA'+'bs.y)\x20{\x20\x20\x20'+'//\x20front\x20/'+'\x20back\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20i'+'s_neg_z\x20=\x20'+'dir.z\x20<\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20faceIndex'+'\x20=\x20select('+'4.0,\x205.0,\x20'+'is_neg_z);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'a\x20=\x200.5\x20/\x20'+'vAbs.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv\x20='+'\x20vec2f(sel'+'ect(dir.x,'+'\x20-dir.x,\x20i'+'s_neg_z),\x20'+'-dir.y);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20til'+'eOffset\x20=\x20'+'vec2f(2.0,'+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_z));\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(vAbs'+'.y\x20>=\x20vAbs'+'.x)\x20{\x20\x20//\x20'+'top\x20index\x20'+'2,\x20bottom\x20'+'index\x203\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20is_neg_y\x20'+'=\x20dir.y\x20<\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20selec'+('t(2.0,\x203.0'+',\x20is_neg_y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2f(d'+'ir.x,\x20sele'+'ct(dir.z,\x20'+'-dir.z,\x20is'+'_neg_y));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ti'+'leOffset\x20='+'\x20vec2f(1.0'+',\x20select(0'+'.0,\x201.0,\x20i'+'s_neg_y));'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20is_'+'neg_x\x20=\x20di'+'r.x\x20<\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'aceIndex\x20='+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_x);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2f(selec'+'t(-dir.z,\x20'+'dir.z,\x20is_'+'neg_x),\x20-d'+'ir.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset\x20=\x20ve'+'c2f(0.0,\x20s'+'elect(0.0,'+'\x201.0,\x20is_n'+'eg_x));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv\x20*\x20m'+'a\x20+\x200.5;\x0a\x20'+'\x20\x20\x20return\x20'+'FaceCoords'+'(uv,\x20faceI'+'ndex,\x20tile'+'Offset);\x0a}'+'\x0a\x0a//\x20conve'+'rts\x20unnorm'+'alized\x20dir'+'ection\x20vec'+'tor\x20to\x20a\x20t'+'exture\x20coo'+'rdinate\x20fo'+'r\x20a\x20cubema'+'p\x20face\x20sto'+'red\x20within'+'\x20texture\x20a'+'tlas\x20descr'+'ibed\x20by\x20th'+'e\x20viewport'+'\x0afn\x20getCub'+'emapAtlasC'+'oordinates'+'(omniAtlas'+'Viewport:\x20'+'vec3f,\x20sha'+'dowEdgePix'+'els:\x20f32,\x20'+'shadowText'+'ureResolut'+'ion:\x20f32,\x20'+'dir:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20faceData'+':\x20FaceCoor'+'ds\x20=\x20getCu'+'bemapFaceC'+'oordinates'+'(dir);\x0a\x20\x20\x20'+'\x20var\x20uv:\x20v'+'ec2f\x20=\x20fac'+'eData.uv;\x0a'+'\x20\x20\x20\x20let\x20ti'+'leOffset:\x20'+'vec2f\x20=\x20fa'+'ceData.til'+'eOffset;\x0a\x0a'+'\x20\x20\x20\x20//\x20mov'+'e\x20uv\x20coord'+'inates\x20inw'+'ards\x20insid'+'e\x20to\x20compe'+'nsate\x20for\x20')+('larger\x20fov'+'\x20when\x20rend'+'ering\x20shad'+'ow\x20into\x20at'+'las\x0a\x20\x20\x20\x20le'+'t\x20atlasFac'+'eSize:\x20f32'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20le'+'t\x20tileSize'+':\x20f32\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20var\x20off'+'set:\x20f32\x20='+'\x20shadowEdg'+'ePixels\x20/\x20'+'tileSize;\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20*\x20(1.0\x20-'+'\x20offset\x20*\x20'+'2.0)\x20+\x20off'+'set;\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20='+'\x20uv\x20*\x20atla'+'sFaceSize;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x20into'+'\x20face\x20of\x20t'+'he\x20atlas\x20('+'3x3\x20grid)\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20+\x20tileOf'+'fset\x20*\x20atl'+'asFaceSize'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'offset\x20int'+'o\x20the\x20atla'+'s\x20viewport'+'\x0a\x20\x20\x20\x20uv\x20=\x20'+'uv\x20+\x20omniA'+'tlasViewpo'+'rt.xy;\x0a\x0a\x20\x20'+'\x20\x20return\x20u'+'v;\x0a}\x0a'),mM='\x0afn\x20_getCo'+'okieCluste'+'red(tex:\x20t'+'exture_2d<'+'f32>,\x20texS'+'ampler:\x20sa'+'mpler,\x20uv:'+'\x20vec2f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20pixel'+':\x20vec4f\x20=\x20'+'mix(vec4f('+'1.0),\x20text'+'ureSampleL'+'evel(tex,\x20'+'texSampler'+',\x20uv,\x200.0)'+',\x20intensit'+'y);\x0a\x20\x20\x20\x20le'+'t\x20isRgb:\x20b'+'ool\x20=\x20dot('+'cookieChan'+'nel.rgb,\x20v'+'ec3f(1.0))'+'\x20==\x203.0;\x0a\x20'+'\x20\x20\x20return\x20'+'select(vec'+'3f(dot(pix'+'el,\x20cookie'+'Channel)),'+'\x20pixel.rgb'+',\x20isRgb);\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0afn'+'\x20getCookie'+'2DClustere'+'d(tex:\x20tex'+'ture_2d<f3'+'2>,\x20texSam'+'pler:\x20samp'+'ler,\x20trans'+'form:\x20mat4'+'x4f,\x20world'+'Position:\x20'+'vec3f,\x20int'+'ensity:\x20f3'+'2,\x20cookieC'+'hannel:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20projPo'+'s:\x20vec4f\x20='+'\x20transform'+'\x20*\x20vec4f(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(tex,\x20texS'+'ampler,\x20pr'+'ojPos.xy\x20/'+'\x20projPos.w'+',\x20intensit'+'y,\x20cookieC'+'hannel);\x0a}'+'\x0a\x0a//\x20getCo'+'okie\x20for\x20c'+'lustered\x20o'+'mni\x20light\x20'+'with\x20the\x20c'+'ookie\x20text'+'ure\x20being\x20'+'stored\x20in\x20'+'the\x20cookie'+'\x20atlas\x0afn\x20'+'getCookieC'+'ubeCluster'+'ed(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20dir:'+'\x20vec3f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f,\x20shad'+'owTextureR'+'esolution:'+'\x20f32,\x20shad'+('owEdgePixe'+'ls:\x20f32,\x20o'+'mniAtlasVi'+'ewport:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20dir);'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getCook'+'ieClustere'+'d(tex,\x20tex'+'Sampler,\x20u'+'v,\x20intensi'+'ty,\x20cookie'+'Channel);\x0a'+'}\x0a'),_M='\x0a\x0afn\x20_getS'+'hadowCoord'+'PerspZbuff'+'er(shadowM'+'atrix:\x20mat'+'4x4f,\x20shad'+'owParams:\x20'+'vec4f,\x20wPo'+'s:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20p'+'rojPos\x20=\x20s'+'hadowMatri'+'x\x20*\x20vec4f('+'wPos,\x201.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20projPos'+'.xyz\x20/\x20pro'+'jPos.w;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0afn'+'\x20getShadow'+'CoordPersp'+'ZbufferNor'+'malOffset('+'shadowMatr'+'ix:\x20mat4x4'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20normal'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20wP'+'os:\x20vec3f\x20'+'=\x20vPositio'+'nW\x20+\x20norma'+'l\x20*\x20shadow'+'Params.y;\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wCoordPers'+'pZbuffer(s'+'hadowMatri'+'x,\x20shadowP'+'arams,\x20wPo'+'s);\x0a}\x0a\x0afn\x20'+'normalOffs'+'etPointSha'+'dow(shadow'+'Params:\x20ve'+'c4f,\x20light'+'Pos:\x20vec3f'+',\x20lightDir'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'normal:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20let\x20wPo'+'s:\x20vec3f\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y\x20*\x20'+'clamp(1.0\x20'+'-\x20dot(norm'+'al,\x20-light'+'DirNorm),\x20'+'0.0,\x201.0)\x20'+'*\x20distScal'+'e;\x20//0.02\x0a'+'\x20\x20\x20\x20let\x20di'+'r:\x20vec3f\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0a\x20\x20\x20\x20'+'fn\x20getShad'+'owOmniClus'+'teredPCF1('+'shadowMap:'+'\x20texture_d'+'epth_2d,\x20s'+'hadowMapSa'+'mpler:\x20sam'+'pler_compa'+'rison,\x20sha'+'dowParams:'+('\x20vec4f,\x20om'+'niAtlasVie'+'wport:\x20vec'+'3f,\x20shadow'+'EdgePixels'+':\x20f32,\x20lig'+'htDir:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shad'+'owTextureR'+'esolution:'+'\x20f32\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowZ:\x20f'+'32\x20=\x20lengt'+'h(lightDir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv,'+'\x20shadowZ);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'wOmniClust'+'eredPCF3(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owParams:\x20'+'vec4f,\x20omn'+'iAtlasView'+'port:\x20vec3'+'f,\x20shadowE'+'dgePixels:'+'\x20f32,\x20ligh'+'tDir:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wTextureRe'+'solution:\x20'+'f32\x20=\x20shad'+'owParams.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20light'+'Dir);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadowZ:\x20f3'+'2\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w\x20+\x20'+'shadowPara'+'ms.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowCoord:'+'\x20vec3f\x20=\x20v'+'ec3f(uv,\x20s'+'hadowZ);\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF3x3('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowOmn'+'iClustered'+'PCF5(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20omniAtl'+'asViewport'+':\x20vec3f,\x20s'+'hadowEdgeP'+'ixels:\x20f32'+',\x20lightDir'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadowTex'+'tureResolu'+'tion:\x20f32\x20'+'=\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'uv:\x20vec2f\x20'+'=\x20getCubem'+'apAtlasCoo'+'rdinates(o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20shad'+'owTextureR'+'esolution,'+'\x20lightDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20vec3f'+'(uv,\x20shado'+'wZ);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CF5x5(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'#endif\x0a\x0a//'+'\x20Clustered'+'\x20Spot\x20Samp'+'ling\x20using'+'\x20atlas\x0a\x0a#i'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF1)\x0a\x0a\x20\x20\x20'+'\x20fn\x20getSha'+'dowSpotClu'+'steredPCF1'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu')+('rn\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Coord.z);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0a\x20\x20'+'\x20\x20fn\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'3x3(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF5)\x0a\x0a\x20'+'\x20\x20\x20fn\x20getS'+'hadowSpotC'+'lusteredPC'+'F5(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),gM='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0avar\x20clu'+'sterWorldT'+'exture:\x20te'+'xture_2d<f'+'32>;\x0avar\x20l'+'ightsTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x0a#ifdef\x20C'+'LUSTER_SHA'+'DOWS\x0a\x20\x20\x20\x20/'+'/\x20TODO:\x20wh'+'en\x20VSM\x20sha'+'dow\x20is\x20sup'+'ported,\x20it'+'\x20needs\x20to\x20'+'use\x20sample'+'r2D\x20in\x20web'+'gl2\x0a\x20\x20\x20\x20va'+'r\x20shadowAt'+'lasTexture'+':\x20texture_'+'depth_2d;\x0a'+'\x20\x20\x20\x20var\x20sh'+'adowAtlasT'+'extureSamp'+'ler:\x20sampl'+'er_compari'+'son;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'var\x20cookie'+'AtlasTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20c'+'ookieAtlas'+'TextureSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0auniform'+'\x20clusterMa'+'xCells:\x20i3'+'2;\x0a\x0a//\x201.0'+'\x20if\x20cluste'+'red\x20lighti'+'ng\x20can\x20be\x20'+'skipped\x20(0'+'\x20lights\x20in'+'\x20the\x20clust'+'ers)\x0aunifo'+'rm\x20cluster'+'Skip:\x20f32;'+'\x0a\x0auniform\x20'+'clusterCel'+'lsCountByB'+'oundsSize:'+'\x20vec3f;\x0aun'+'iform\x20clus'+'terTexture'+'Size:\x20vec3'+'f;\x0auniform'+'\x20clusterBo'+'undsMin:\x20v'+'ec3f;\x0aunif'+'orm\x20cluste'+'rBoundsDel'+'ta:\x20vec3f;'+'\x0auniform\x20c'+'lusterCell'+'sDot:\x20vec3'+'f;\x0auniform'+'\x20clusterCe'+'llsMax:\x20ve'+('c3f;\x0aunifo'+'rm\x20shadowA'+'tlasParams'+':\x20vec2f;\x0a\x0a'+'//\x20structu'+'re\x20storing'+'\x20light\x20pro'+'perties\x20of'+'\x20a\x20cluster'+'ed\x20light\x0a/'+'/\x20it\x27s\x20sor'+'ted\x20to\x20hav'+'e\x20all\x20vect'+'ors\x20aligne'+'d\x20to\x204\x20flo'+'ats\x20to\x20lim'+'it\x20padding'+'\x0astruct\x20Cl'+'usterLight'+'Data\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x2032bit'+'\x20of\x20flags\x0a'+'\x20\x20\x20\x20flags:'+'\x20u32,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfWidth:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20isSpot:\x20'+'bool,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfHeight:'+'\x20vec3f,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20index\x0a\x20\x20'+'\x20\x20lightInd'+'ex:\x20i32,\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x0a\x20\x20'+'\x20\x20position'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20sh'+'ape:\x20u32,\x0a'+'\x0a\x20\x20\x20\x20//\x20wo'+'rld\x20space\x20'+'direction\x20'+'(spot\x20ligh'+'t\x20only)\x0a\x20\x20'+'\x20\x20directio'+'n:\x20vec3f,\x0a'+'\x0a\x20\x20\x20\x20//\x20li'+'ght\x20follow'+'\x20mode\x0a\x20\x20\x20\x20'+'falloffMod'+'eLinear:\x20b'+'ool,\x0a\x0a\x20\x20\x20\x20'+'//\x20color\x0a\x20'+'\x20\x20\x20color:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20//\x200.0\x20i'+'f\x20the\x20ligh'+'t\x20doesn\x27t\x20'+'cast\x20shado'+'ws\x0a\x20\x20\x20\x20sha'+'dowIntensi'+'ty:\x20f32,\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20omniAtl'+'asViewport'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'range:\x20f32'+',\x0a\x0a\x20\x20\x20\x20//\x20'+'channel\x20ma'+'sk\x20-\x20one\x20o'+'f\x20the\x20chan'+'nels\x20has\x201'+',\x20the\x20othe')+('rs\x20are\x200\x0a\x20'+'\x20\x20\x20cookieC'+'hannelMask'+':\x20vec4f,\x0a\x0a'+'\x20\x20\x20\x20//\x20com'+'pressed\x20bi'+'ases,\x20two\x20'+'haf-floats'+'\x20stored\x20in'+'\x20a\x20float\x0a\x20'+'\x20\x20\x20biasesD'+'ata:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20bias\x20'+'values\x0a\x20\x20\x20'+'\x20shadowBia'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20shadowNo'+'rmalBias:\x20'+'f32,\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20a'+'nglesData:'+'\x20f32,\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20inner'+'\x20and\x20outer'+'\x20angle\x20cos'+'ine\x0a\x20\x20\x20\x20in'+'nerConeAng'+'leCos:\x20f32'+',\x0a\x20\x20\x20\x20oute'+'rConeAngle'+'Cos:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'tensity\x20of'+'\x20the\x20cooki'+'e\x0a\x20\x20\x20\x20cook'+'ieIntensit'+'y:\x20f32,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20mask\x0a\x20\x20\x20'+'\x20//float\x20m'+'ask;\x0a\x20\x20\x20\x20i'+'sDynamic:\x20'+'bool,\x0a\x20\x20\x20\x20'+'isLightmap'+'ped:\x20bool\x0a'+'}\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0av'+'ar<private'+'>\x20lightPro'+'jectionMat'+'rix:\x20mat4x'+'4f;\x0a\x0afn\x20sa'+'mpleLightT'+'extureF(li'+'ghtIndex:\x20'+'i32,\x20index'+':\x20i32)\x20->\x20')+('vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureLoad'+'(lightsTex'+'ture,\x20vec2'+'<i32>(inde'+'x,\x20lightIn'+'dex),\x200);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightCore(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>,\x20'+'lightIndex'+':\x20f32)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20index\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'lightIndex'+'\x20=\x20i32(lig'+'htIndex);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20data\x20'+'encoding\x20h'+'alf-float\x20'+'values\x20int'+'o\x2032bit\x20ui'+'nts\x0a\x20\x20\x20\x20le'+'t\x20halfData'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_COLO'+'R_ANGLES_B'+'IAS});\x0a\x0a\x20\x20'+'\x20\x20//\x20store'+'\x20floats\x20we'+'\x20decode\x20la'+'ter\x20as\x20nee'+'ded\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.angle'+'sData\x20=\x20ha'+'lfData.z;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.biasesDat'+'a\x20=\x20halfDa'+'ta.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20decomp'+'ress\x20color'+'\x20half-floa'+'ts\x0a\x20\x20\x20\x20let'+'\x20colorRG:\x20'+'vec2f\x20=\x20un'+'pack2x16fl'+'oat(bitcas'+'t<u32>(hal'+'fData.x));'+'\x0a\x20\x20\x20\x20let\x20c'+'olorB_:\x20ve'+'c2f\x20=\x20unpa'+'ck2x16floa'+'t(bitcast<'+'u32>(halfD'+'ata.y));\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'color\x20=\x20ve'+'c3f(colorR'+'G,\x20colorB_'+'.x)\x20*\x20{LIG'+'HT_COLOR_D'+'IVIDER};\x0a\x0a'+'\x20\x20\x20\x20//\x20pos'+'ition\x20and\x20'+'range,\x20ful'+'l\x20floats\x0a\x20'+'\x20\x20\x20let\x20lig'+'htPosRange'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_POSI'+'TION_RANGE'+'});\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.posit')+('ion\x20=\x20ligh'+'tPosRange.'+'xyz;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.rang'+'e\x20=\x20lightP'+'osRange.w;'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'pot\x20direct'+'ion\x20&\x20flag'+'s\x20data\x0a\x20\x20\x20'+'\x20let\x20light'+'Dir_Flags:'+'\x20vec4f\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData.ligh'+'tIndex,\x20{C'+'LUSTER_TEX'+'TURE_DIREC'+'TION_FLAGS'+'});\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20directi'+'on\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.direct'+'ion\x20=\x20ligh'+'tDir_Flags'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x2032bit\x20'+'flags\x0a\x20\x20\x20\x20'+'let\x20flags_'+'uint:\x20u32\x20'+'=\x20bitcast<'+'u32>(light'+'Dir_Flags.'+'w);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20flags_u'+'int;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.isSp'+'ot\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2030u)'+')\x20!=\x200u;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'shape\x20=\x20(f'+'lags_uint\x20'+'>>\x2028u)\x20&\x20'+'0x3u;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.fal'+'loffModeLi'+'near\x20=\x20(fl'+'ags_uint\x20&'+'\x20(1u\x20<<\x2027'+'u))\x20==\x200u;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.shadowIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x200'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x208'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.isDynami'+'c\x20=\x20(flags'+'_uint\x20&\x20(1'+'u\x20<<\x2022u))'+'\x20!=\x200u;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sLightmapp'+'ed\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2021u)'+')\x20!=\x200u;\x0a}'+'\x0a\x0afn\x20decod'+'eClusterLi'+'ghtSpot(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{')+('\x0a\x20\x20\x20\x20//\x20sp'+'ot\x20light\x20c'+'os\x20angles\x0a'+'\x20\x20\x20\x20let\x20an'+'gles:\x20vec2'+'f\x20=\x20unpack'+'2x16float('+'bitcast<u3'+'2>(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'OmniAtlasV'+'iewport(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.omniAtla'+'sViewport\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData.l'+'ightIndex,'+'\x20{CLUSTER_'+'TEXTURE_PR'+'OJ_MAT_0})'+'.xyz;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'AreaData(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>)\x20'+'{\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.halfWid'+'th\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a.lightInd'+'ex,\x20{CLUST'+'ER_TEXTURE'+'_AREA_DATA'+'_WIDTH}).x'+'yz;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.halfH'+'eight\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data.light'+'Index,\x20{CL'+'USTER_TEXT'+'URE_AREA_D'+'ATA_HEIGHT'+'}).xyz;\x0a}\x0a'+'\x0afn\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(cluster'+'LightData:'+'\x20ptr<funct'+'ion,\x20Clust'+'erLightDat'+'a>)\x20{\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'matrix\x0a\x20\x20\x20'+'\x20let\x20m0:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_0});\x0a\x20\x20\x20'+'\x20let\x20m1:\x20v')+('ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_1});\x0a\x20\x20\x20'+'\x20let\x20m2:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_2});\x0a\x20\x20\x20'+'\x20let\x20m3:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4x'+'4f(m0,\x20m1,'+'\x20m2,\x20m3);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightShadow'+'Data(clust'+'erLightDat'+'a:\x20ptr<fun'+'ction,\x20Clu'+'sterLightD'+'ata>)\x20{\x0a\x20\x20'+'\x20\x20//\x20shado'+'w\x20biases\x0a\x20'+'\x20\x20\x20let\x20bia'+'ses:\x20vec2f'+'\x20=\x20unpack2'+'x16float(b'+'itcast<u32'+'>(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'fn\x20decodeC'+'lusterLigh'+'tCookieDat'+'a(clusterL'+'ightData:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20extract'+'\x20channel\x20m'+'ask\x20from\x20f'+'lags\x0a\x20\x20\x20\x20l'+'et\x20cookieF'+'lags:\x20u32\x20'+'=\x20(cluster'+'LightData.'+'flags\x20>>\x202'+'3u)\x20&\x200x0F'+'u;\x20\x20//\x204bi'+'ts,\x20each\x20b'+'it\x20enables'+'\x20a\x20channel'+'\x0a\x20\x20\x20\x20let\x20m'+'ask_uvec:\x20'+'vec4<u32>\x20'+'=\x20vec4<u32'+'>(cookieFl'+'ags)\x20&\x20vec'+'4<u32>(1u,'+'\x202u,\x204u,\x208'+'u);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eChannelMa'+'sk\x20=\x20step('+'vec4f(1.0)')+(',\x20vec4f(ma'+'sk_uvec));'+'\x20//\x20Normal'+'ize\x20to\x200.0'+'\x20or\x201.0\x0a}\x0a'+'\x0afn\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20light:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>,\x0a\x20\x20\x20\x20wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20reflectio'+'nDir:\x20vec3'+'f,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20clearc'+'oatReflect'+'ionDir:\x20ve'+'c3f,\x0a#endi'+'f\x0a\x20\x20\x20\x20glos'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20specular'+'ity:\x20vec3f'+',\x0a\x20\x20\x20\x20geom'+'etricNorma'+'l:\x20vec3f,\x0a'+'\x20\x20\x20\x20tbn:\x20m'+'at3x3f,\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a#e'+'ndif\x0a\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20clearco'+'at_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20s'+'heen_gloss'+':\x20f32,\x0a\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty:\x20f32\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ve'+'c3f(1.0);\x0a'+'\x20\x20\x20\x20var\x20di'+'ffuseAtten'+'uation:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20var\x20fal'+'loffAttenu'+'ation:\x20f32'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20omni\x20'+'part\x20of\x20th'+'e\x20light\x0a\x20\x20'+'\x20\x20let\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(l'+'ight.posit'+'ion);\x0a\x20\x20\x20\x20'+'let\x20lightD'+'irNormW:\x20v'+'ec3f\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20')+('handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffL'+'inear(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20='+'\x20getFallof'+'fInvSquare'+'d(light.ra'+'nge,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20if'+'\x20(falloffA'+'ttenuation'+'\x20>\x200.00001'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_AR'+'EALIGHTS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20!=\x20{LI'+'GHTSHAPE_P'+'UNCTUAL})\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20='+'=\x20{LIGHTSH'+'APE_RECT})'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getRectLig'+'htDiffuse('+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'W,\x20lightDi'+'rNormW)\x20*\x20'+'16.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20diffuseAt'+'tenuation\x20'+'=\x20getDiskL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x20/'+'/\x20sphere\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getS'+'phereLight'+'Diffuse(wo'+'rldNormal,'+'\x20viewDir,\x20'+'lightDirW,'+'\x20lightDirN'+'ormW)\x20*\x2016'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNormW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.is'+'Spot)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'decodeClus'+'terLightSp'+'ot(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getSp'+'otEffect(l'+'ight.direc'+'tion,\x20ligh'+'t.innerCon'+'eAngleCos,'+'\x20light.out'+'erConeAngl'+'eCos,\x20ligh'+'tDirNormW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_COOKIES)\x20'+'||\x20defined'+'(CLUSTER_S'+'HADOWS)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'hadow\x20/\x20co')+('okie\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'dowIntensi'+'ty\x20>\x200.0\x20|'+'|\x20light.co'+'okieIntens'+'ity\x20>\x200.0)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20shared\x20'+'shadow\x20/\x20c'+'ookie\x20data'+'\x20depends\x20o'+'n\x20light\x20ty'+'pe\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.i'+'sSpot)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ecodeClust'+'erLightPro'+'jectionMat'+'rixData(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightO'+'mniAtlasVi'+'ewport(lig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'TextureRes'+'olution:\x20f'+'32\x20=\x20unifo'+'rm.shadowA'+'tlasParams'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'EdgePixels'+':\x20f32\x20=\x20un'+'iform.shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'cookieInte'+'nsity\x20>\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(light)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'!!!!!!!!!!'+'!\x20TEXTURE_'+'PASS\x20likel'+'y\x20needs\x20sa'+'mpler.\x20Ass'+'uming\x20cook'+'ieAtlasTex'+'tureSample'+'r\x20exists.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(cooki'+'eAtlasText'+'ure,\x20cooki'+'eAtlasText'+'ureSampler'+',\x20lightPro'+'jectionMat'+'rix,\x20vPosi'+'tionW,\x20lig')+('ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20!!!!!!!!'+'!!!\x20TEXTUR'+'E_PASS\x20lik'+'ely\x20needs\x20'+'sampler.\x20A'+'ssuming\x20co'+'okieAtlasT'+'extureSamp'+'ler\x20exists'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cook'+'ieAttenuat'+'ion\x20=\x20getC'+'ookieCubeC'+'lustered(c'+'ookieAtlas'+'Texture,\x20c'+'ookieAtlas'+'TextureSam'+'pler,\x20ligh'+'tDirW,\x20lig'+'ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask,\x20shado'+'wTextureRe'+'solution,\x20'+'shadowEdge'+'Pixels,\x20li'+'ght.omniAt'+'lasViewpor'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20CLUSTER_'+'SHADOWS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(light'+'.shadowInt'+'ensity\x20>\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightShadow'+'Data(light'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowParams'+':\x20vec4f\x20=\x20'+'vec4f(shad'+'owTextureR'+'esolution,'+'\x20light.sha'+'dowNormalB'+'ias,\x20light'+'.shadowBia'+'s,\x201.0\x20/\x20l'+'ight.range'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20shadowCo'+'ord:\x20vec3f'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat')+('rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20!!!!!'+'!!!!!!\x20SHA'+'DOWMAP_PAS'+'S\x20needs\x20te'+'xture\x20and\x20'+'sampler_co'+'mparison.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20!!!'+'!!!!!!!!\x20S'+'hadow\x20func'+'tions\x20need'+'\x20update\x20fo'+'r\x20WGSL\x20tex'+'tureSample'+'Compare\x20et'+'c.\x20Assumin'+'g\x20these\x20ar'+'e\x20handled\x20'+'in\x20include'+'s.\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'SpotCluste'+'redPCF1(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadow:\x20f32'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF3('+'shadowAtla'+'sTexture,\x20'+'shadowAtla'+'sTextureSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadow:\x20f'+'32\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'5(shadowAt'+'lasTexture'+',\x20shadowAt'+'lasTexture'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCSS)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l')+('et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CSS(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20mix('+'1.0,\x20shado'+'w,\x20light.s'+'hadowInten'+'sity);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20omni\x20'+'shadow\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalOffset'+'PointShado'+'w(shadowPa'+'rams,\x20ligh'+'t.position'+',\x20lightDir'+'W,\x20lightDi'+'rNormW,\x20ge'+'ometricNor'+'mal);\x20\x20//\x20'+'normalBias'+'\x20adjusted\x20'+'for\x20distan'+'ce\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20!!!!!!!!!'+'!!\x20SHADOWM'+'AP_PASS\x20ne'+'eds\x20textur'+'e\x20and\x20samp'+'ler_compar'+'ison.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20!!!!!!!'+'!!!!\x20Shado'+'w\x20function'+'s\x20need\x20upd'+'ate\x20for\x20WG'+'SL\x20texture'+'SampleComp'+'are\x20etc.\x20A'+'ssuming\x20th'+'ese\x20are\x20ha'+'ndled\x20in\x20i'+'ncludes.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowOmni'+'ClusteredP'+'CF1(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowPar'+'ams,\x20light'+'.omniAtlas'+'Viewport,\x20'+'shadowEdge'+'Pixels,\x20di'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20getSha'+'dowOmniClu'+'steredPCF3'+'(shadowAtl'+'asTexture,'+'\x20shadowAtl'+'asTextureS'+'ampler,\x20sh'+'adowParams'+',\x20light.om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'OmniCluste'+'redPCF5(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20areaDif'+'fuse:\x20vec3'+'f\x20=\x20(diffu'+'seAttenuat'+'ion\x20*\x20fall'+'offAttenua'+'tion)\x20*\x20li')+('ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaDi'+'ffuse\x20=\x20mi'+'x(areaDiff'+'use,\x20vec3f'+'(0.0),\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20diff'+'use\x20-\x20it\x20d'+'oes\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20areaDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20areaL'+'ightSpecul'+'ar:\x20f32;\x20/'+'/\x20Use\x20var\x20'+'because\x20as'+'signed\x20in\x20'+'if/else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_RECT'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getRe'+'ctLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(ligh'+'t.shape\x20=='+'\x20{LIGHTSHA'+'PE_DISK})\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getDiskL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x20//\x20sphere'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'Specular\x20='+'\x20getSphere'+'LightSpecu')+('lar(worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20dLTC'+'SpecFres\x20*'+'\x20areaLight'+'Specular\x20*'+'\x20falloffAt'+'tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sp'+'ecular\x20cle'+'ar\x20coat\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20areaLigh'+'tSpecularC'+'C:\x20f32;\x20//'+'\x20Use\x20var\x20b'+'ecause\x20ass'+'igned\x20in\x20i'+'f/else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20==\x20{LI'+'GHTSHAPE_R'+'ECT})\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getRec'+'tLightSpec'+'ular(clear'+'coat_world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecularCC\x20='+'\x20getDiskLi'+'ghtSpecula'+'r(clearcoa'+'t_worldNor'+'mal,\x20viewD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20{\x20//\x20sph'+'ere\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getSphereL'+'ightSpecul'+'ar(clearco'+'at_worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'cSpecularL'+'ight\x20=\x20ccS'+'pecularLig'+'ht\x20+\x20ccLTC'+'SpecFres\x20*'+'\x20areaLight'+'SpecularCC'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20\x20*\x20c'+'ookieAtten')+('uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20punctual'+'\x20light\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20p'+'unctualDif'+'fuse:\x20vec3'+'f\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_AREAL'+'IGHTS)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'unctualDif'+'fuse\x20=\x20mix'+'(punctualD'+'iffuse,\x20ve'+'c3f(0.0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20dDiffus'+'eLight\x20+\x20p'+'unctualDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Dir:\x20vec3f'+'\x20=\x20normali'+'ze(-lightD'+'irNormW\x20+\x20'+'viewDir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR_FRESN'+'EL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20=\x20'+'dSpecularL'+'ight\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD')+('ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20halfD'+'ir),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'=\x20ccSpecul'+'arLight\x20+\x20'+'getLightSp'+'ecular(hal'+'fDir,\x20clea'+'rcoatRefle'+'ctionDir,\x20'+'clearcoat_'+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'NormW,\x20cle'+'arcoat_glo'+'ss,\x20tbn)\x20*'+'\x20falloffAt')+('tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion\x20*\x20getF'+'resnelCC(d'+'ot(viewDir'+',\x20halfDir)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20='+'\x20ccSpecula'+'rLight\x20+\x20g'+'etLightSpe'+'cular(half'+'Dir,\x20clear'+'coatReflec'+'tionDir,\x20c'+'learcoat_w'+'orldNormal'+',\x20viewDir,'+'\x20lightDirN'+'ormW,\x20clea'+'rcoat_glos'+'s,\x20tbn)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'+\x20getLight'+'SpecularSh'+'een(halfDi'+'r,\x20worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'sheen_glos'+'s)\x20*\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20'+'cookieAtte'+'nuation;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20Writ'+'e\x20to\x20globa'+'l\x20attenuat'+'ion\x20values'+'\x20(for\x20ligh'+'tmapper)\x0a\x20'+'\x20\x20\x20dAtten\x20'+'=\x20falloffA'+'ttenuation'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20lightDi'+'rNormW;\x0a}\x0a'+'\x0a\x0afn\x20evalu'+'ateCluster'+'Light(\x0a\x20\x20\x20'+'\x20lightInde'+'x:\x20f32,\x0a\x20\x20'+'\x20\x20worldNor'+'mal:\x20vec3f'+',\x0a\x20\x20\x20\x20view'+'Dir:\x20vec3f'+',\x0a\x20\x20\x20\x20refl'+'ectionDir:'+'\x20vec3f,\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20c'+'learcoatRe'+'flectionDi'+'r:\x20vec3f,\x0a'+'#endif\x0a\x20\x20\x20')+('\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20geometric'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20t'+'bn:\x20mat3x3'+'f,\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20clearc'+'oat_worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20cl'+'earcoat_gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20sheen_'+'gloss:\x20f32'+',\x0a\x20\x20\x20\x20irid'+'escence_in'+'tensity:\x20f'+'32\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr'+'om\x20texture'+'s\x0a\x20\x20\x20\x20var\x20'+'clusterLig'+'htData:\x20Cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(&cluste'+'rLightData'+',\x20lightInd'+'ex);\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20light\x20if'+'\x20it\x20uses\x20a'+'ccepted\x20li'+'ght\x20mask\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'acceptLigh'+'tMask:\x20boo'+'l\x20=\x20cluste'+'rLightData'+'.isDynamic'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20accept'+'LightMask:'+'\x20bool\x20=\x20cl'+'usterLight'+'Data.isLig'+'htmapped;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'acceptLigh'+'tMask)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20eva'+'luateLight'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20&clust'+'erLightDat'+'a,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'viewDir,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20reflectio'+'nDir,\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20geometri'+'cNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20tbn,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE')+('NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'sheen_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a\x0a\x0afn'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20world'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20v'+'iewDir:\x20ve'+'c3f,\x0a\x20\x20\x20\x20r'+'eflectionD'+'ir:\x20vec3f,'+'\x0a#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20clearcoa'+'tReflectio'+'nDir:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'specularit'+'y:\x20vec3f,\x0a'+'\x20\x20\x20\x20geomet'+'ricNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20tbn:\x20mat'+'3x3f,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a#end'+'if\x0a\x20\x20\x20\x20cle'+'arcoat_wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20clearcoat'+'_gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20she'+'en_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20i'+'ridescence'+'_intensity'+':\x20f32\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20sk'+'ip\x20lights\x20'+'if\x20no\x20ligh'+'ts\x20at\x20all\x0a'+'\x20\x20\x20\x20if\x20(un'+'iform.clus'+'terSkip\x20>\x20'+'0.5)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x20to'+'\x203d\x20intege'+'r\x20cell\x20cor'+'dinates\x20in'+'\x20the\x20clust'+'er\x20structu'+'re\x0a\x20\x20\x20\x20let'+'\x20cellCoord'+'s:\x20vec3f\x20='+'\x20floor((vP'+'ositionW\x20-'+'\x20uniform.c'+'lusterBoun'+'dsMin)\x20*\x20u'+'niform.clu'+'sterCellsC'+'ountByBoun'+'dsSize);\x0a\x0a'+'\x20\x20\x20\x20//\x20no\x20'+'lighting\x20w'+'hen\x20cell\x20c'+'oordinate\x20'+'is\x20out\x20of\x20'+'range\x0a\x20\x20\x20\x20'+'if\x20(!(any('+'cellCoords')+('\x20<\x20vec3f(0'+'.0))\x20||\x20an'+'y(cellCoor'+'ds\x20>=\x20unif'+'orm.cluste'+'rCellsMax)'+'))\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cel'+'l\x20index\x20(m'+'apping\x20fro'+'m\x203d\x20cell\x20'+'coordinate'+'s\x20to\x20linea'+'r\x20memory)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20cellInde'+'x:\x20f32\x20=\x20d'+'ot(uniform'+'.clusterCe'+'llsDot,\x20ce'+'llCoords);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20convert'+'\x20cell\x20inde'+'x\x20to\x20uv\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20clusterV'+':\x20f32\x20=\x20fl'+'oor(cellIn'+'dex\x20*\x20unif'+'orm.cluste'+'rTextureSi'+'ze.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20c'+'lusterU:\x20f'+'32\x20=\x20cellI'+'ndex\x20-\x20(cl'+'usterV\x20*\x20u'+'niform.clu'+'sterTextur'+'eSize.x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20loop\x20ove'+'r\x20maximum\x20'+'number\x20of\x20'+'light\x20cell'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(var\x20l'+'ightCellIn'+'dex:\x20i32\x20='+'\x200;\x20lightC'+'ellIndex\x20<'+'\x20uniform.c'+'lusterMaxC'+'ells;\x20ligh'+'tCellIndex'+'\x20=\x20lightCe'+'llIndex\x20+\x20'+'1)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20using\x20a\x20s'+'ingle\x20chan'+'nel\x20textur'+'e\x20with\x20dat'+'a\x20in\x20red\x20c'+'hannel\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20lightIn'+'dexPacked:'+'\x20f32\x20=\x20tex'+'tureLoad(c'+'lusterWorl'+'dTexture,\x20'+'vec2<i32>('+'i32(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20i32(clus'+'terV)),\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(lightInde'+'xPacked\x20<='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20break;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndexPack'+'ed\x20*\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20vie'+'wDir,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'eometricNo'+'rmal,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20clearc'+'oat_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a}'),SM='\x0afn\x20combin'+'eColor(alb'+'edo:\x20vec3f'+',\x20sheenSpe'+'cularity:\x20'+'vec3f,\x20cle'+'arcoatSpec'+'ularity:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20ret:\x20ve'+'c3f\x20=\x20vec3'+'f(0.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ret\x20=\x20'+'ret\x20+\x20((dD'+'iffuseLigh'+'t\x20-\x20unifor'+'m.light_gl'+'obalAmbien'+'t)\x20*\x20albed'+'o\x20+\x20unifor'+'m.material'+'_ambient\x20*'+'\x20uniform.l'+'ight_globa'+'lAmbient);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(albedo\x20*'+'\x20dDiffuseL'+'ight);\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_OLD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20dSpecular'+'Light;\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(dReflect'+'ion.rgb\x20*\x20'+'dReflectio'+'n.a);\x0a\x20\x20\x20\x20'+'#endif\x20//\x20'+'LIT_REFLEC'+'TIONS\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'sheenScali'+'ng:\x20f32\x20=\x20'+'1.0\x20-\x20max('+'max(sheenS'+'pecularity'+'.r,\x20sheenS'+'pecularity'+'.g),\x20sheen'+'Specularit'+'y.b)\x20*\x200.1'+'57;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20sheenS'+'caling\x20+\x20('+'sSpecularL'+'ight\x20+\x20sRe'+'flection.r'+'gb)\x20*\x20shee'+'nSpeculari'+'ty;\x0a\x20\x20\x20\x20#e'+'ndif\x20//\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20clear'+'CoatScalin'+'g:\x20f32\x20=\x201'+'.0\x20-\x20ccFre'+'snel\x20*\x20cle'+'arcoatSpec'+'ularity;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'\x20=\x20ret\x20*\x20c'+'learCoatSc'+'aling\x20+\x20(c'+'cSpecularL'+'ight\x20+\x20ccR'+'eflection)'+('\x20*\x20clearco'+'atSpecular'+'ity;\x0a\x20\x20\x20\x20#'+'endif\x20//\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20re'+'turn\x20ret;\x0a'+'}\x0a'),yM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x0a\x20\x20\x20\x20'+'var\x20blitTe'+'xture:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20blitText'+'ureSampler'+'\x20:\x20sampler'+';\x0a\x0a\x20\x20\x20\x20@fr'+'agment\x0a\x20\x20\x20'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20t'+'extureSamp'+'le(blitTex'+'ture,\x20blit'+'TextureSam'+'pler,\x20inpu'+'t.uv0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20}\x0a',vM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20u'+'niform\x20inv'+'ViewProj:\x20'+'mat4x4<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'re:\x20textur'+'e_cube<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'reSampler\x20'+':\x20sampler;'+'\x0a\x0a\x20\x20\x20\x20@fra'+'gment\x0a\x20\x20\x20\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20pro'+'jPos\x20=\x20vec'+'4f(input.u'+'v0\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20w'+'orldPos\x20=\x20'+'uniform.in'+'vViewProj\x20'+'*\x20projPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20textur'+'eSample(bl'+'itTexture,'+'\x20blitTextu'+'reSampler,'+'\x20worldPos.'+'xyz);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20}\x0a',xM='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.uv0.y'+'\x20=\x201.0\x20-\x20o'+'utput.uv0.'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',TM='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMin:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMax:\x20v'+'ec3f;\x0a#end'+'if\x0a\x0afn\x20cub'+'eMapProjec'+'t(nrdir:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20cubeMapR'+'otate(nrdi'+'r);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIT_CU'+'BEMAP_PROJ'+'ECTION\x20==\x20'+'BOX\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20nrd'+'ir_rotated'+':\x20vec3f\x20=\x20'+'cubeMapRot'+'ate(nrdir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20rbmax'+':\x20vec3f\x20=\x20'+'(uniform.e'+'nvBoxMax\x20-'+'\x20vPosition'+'W)\x20/\x20nrdir'+'_rotated;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20rbmin:\x20v'+'ec3f\x20=\x20(un'+'iform.envB'+'oxMin\x20-\x20vP'+'ositionW)\x20'+'/\x20nrdir_ro'+'tated;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'rbminmax:\x20'+'vec3f\x20=\x20se'+'lect(rbmin'+',\x20rbmax,\x20n'+'rdir_rotat'+'ed\x20>\x20vec3f'+'(0.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'fa:\x20f32\x20=\x20'+'min(min(rb'+'minmax.x,\x20'+'rbminmax.y'+'),\x20rbminma'+'x.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20p'+'osonbox:\x20v'+'ec3f\x20=\x20vPo'+'sitionW\x20+\x20'+'nrdir_rota'+'ted\x20*\x20fa;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20envBoxPo'+'s:\x20vec3f\x20='+'\x20(uniform.'+'envBoxMin\x20'+'+\x20uniform.'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20normali'+'ze(posonbo'+'x\x20-\x20envBox'+'Pos);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',wM='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20cubeMap'+'RotationMa'+'trix:\x20mat3'+'x3f;\x0a#endi'+'f\x0a\x0afn\x20cube'+'MapRotate('+'refDir:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a#ifd'+'ef\x20CUBEMAP'+'_ROTATION\x0a'+'\x20\x20\x20\x20return'+'\x20refDir\x20*\x20'+'uniform.cu'+'beMapRotat'+'ionMatrix;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir;\x0a#end'+'if\x0a}\x0a',EM='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0aoutp'+'ut.color\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0aoutput.co'+'lor\x20=\x20vec4'+'f(litArgs_'+'albedo\x20,\x201'+'.0);\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'DEBUG_WORL'+'D_NORMAL_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(litAr'+'gs_worldNo'+'rmal\x20*\x200.5'+'\x20+\x200.5,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_OPACI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_opacity'+')\x20,\x201.0);\x0a'+'#endif\x0a\x0a#i'+'fdef\x20DEBUG'+'_SPECULARI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(l'+'itArgs_spe'+'cularity,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_GLO'+'SS_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_gloss)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_M'+'ETALNESS_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(vec3f'+'(litArgs_m'+'etalness)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_A'+'O_PASS\x0aout'+'put.color\x20'+'=\x20vec4f(ve'+'c3f(litArg'+'s_ao)\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_EMISS'+'ION_PASS\x0ao'+'utput.colo'+'r\x20=\x20vec4f('+'gammaCorre'+'ctOutput(l'+'itArgs_emi'+'ssion),\x201.'+'0);\x0a#endif'+'\x0a',bM='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0a\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20v'+'ec3f(0.5);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0a#ifdef\x20VA'+'RYING_VUV0'+'\x0a\x20\x20\x20\x20litAr'+'gs_albedo\x20'+'=\x20vec3f(vU'+'v0,\x200.0);\x0a'+'#else\x0a\x20\x20\x20\x20'+'litArgs_al'+'bedo\x20=\x20vec'+'3f(0.0);\x0a#'+'endif\x0a#end'+'if\x0a',AM='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0afn\x20de'+'codeLinear'+'(raw:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20raw.r'+'gb;\x0a}\x0a\x0afn\x20'+'decodeGamm'+'aFloat(raw'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20pow'+'(raw,\x202.2)'+';\x0a}\x0a\x0afn\x20de'+'codeGamma3'+'(raw:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(r'+'aw,\x20vec3f('+'2.2));\x0a}\x0a\x0a'+'fn\x20decodeG'+'amma(raw:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow(raw.xyz'+',\x20vec3f(2.'+'2));\x0a}\x0a\x0afn'+'\x20decodeRGB'+'M(raw:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20color\x20='+'\x20(8.0\x20*\x20ra'+'w.a)\x20*\x20raw'+'.rgb;\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0afn\x20de'+'codeRGBP(r'+'aw:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20ra'+'w.rgb\x20*\x20(-'+'raw.a\x20*\x207.'+'0\x20+\x208.0);\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0af'+'n\x20decodeRG'+'BE(raw:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(vec3f('+'0.0),\x20raw.'+'xyz\x20*\x20pow('+'2.0,\x20raw.w'+'\x20*\x20255.0\x20-'+'\x20128.0),\x20r'+'aw.a\x20!=\x200.'+'0);\x0a}\x0a\x0afn\x20'+'passThroug'+'h(raw:\x20vec'+'4f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw;'+'\x0a}\x0a\x0afn\x20unp'+'ackNormalX'+'YZ(nmap:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20nm'+'ap.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'}\x0a\x0afn\x20unpa'+'ckNormalXY'+'(nmap:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20xy\x20=\x20nm'+'ap.wy\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'vec3f(xy,\x20'+'sqrt(1.0\x20-'+'\x20clamp(dot'+'(xy,\x20xy),\x20'+'0.0,\x201.0))'+');\x0a}\x0a\x0a#end'+'if\x0a',CM='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0afn\x20de'+'tailMode_m'+'ul(c1:\x20vec'+'3f,\x20c2:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20c1\x20'+'*\x20c2;\x0a}\x0a\x0af'+'n\x20detailMo'+'de_add(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20c1\x20+\x20c2;\x0a'+'}\x0a\x0a//\x20http'+'s://en.wik'+'ipedia.org'+'/wiki/Blen'+'d_modes#Sc'+'reen\x0afn\x20de'+'tailMode_s'+'creen(c1:\x20'+'vec3f,\x20c2:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'1.0\x20-\x20(1.0'+'\x20-\x20c1)*(1.'+'0\x20-\x20c2);\x0a}'+'\x0a\x0a//\x20https'+'://en.wiki'+'pedia.org/'+'wiki/Blend'+'_modes#Ove'+'rlay\x0afn\x20de'+'tailMode_o'+'verlay(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20mix(1.0\x20-'+'\x202.0\x20*\x20(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0\x20*\x20c1\x20*'+'\x20c2,\x20step('+'c1,\x20vec3f('+'0.5)));\x0a}\x0a'+'\x0afn\x20detail'+'Mode_min(c'+'1:\x20vec3f,\x20'+'c2:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20min(c1,'+'\x20c2);\x0a}\x0a\x0af'+'n\x20detailMo'+'de_max(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(c1,\x20c'+'2);\x0a}\x0a\x0a#en'+'dif\x0a',PM='\x0auniform\x20m'+'aterial_di'+'ffuse:\x20vec'+'3f;\x0a\x0a#ifde'+'f\x20STD_DIFF'+'USEDETAIL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22detailMo'+'desPS\x22\x0a#en'+'dif\x0a\x0afn\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20unif'+'orm.materi'+'al_diffuse'+'.rgb;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoText'+'ure:\x20vec3f'+'\x20=\x20{STD_DI'+'FFUSE_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_DIFFU'+'SE_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'_TEXTURE_N'+'AME}Sample'+'r,\x20{STD_DI'+'FFUSE_TEXT'+'URE_UV},\x20u'+'niform.tex'+'tureBias))'+'.{STD_DIFF'+'USE_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoDeta'+'il:\x20vec3f\x20'+'=\x20{STD_DIF'+'FUSEDETAIL'+'_TEXTURE_D'+'ECODE}(tex'+'tureSample'+'Bias({STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_NAME},\x20{'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_DIFFU'+'SEDETAIL_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20=\x20dAlbe'+'do\x20*\x20albed'+'oTexture;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_DIF'+'FUSE_VERTE'+'X\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAlbedo\x20=\x20'+'dAlbedo\x20*\x20'+'gammaCorre'+'ctInputVec'+'3(saturate'+'3(vVertexC'+'olor.{STD_'+('DIFFUSE_VE'+'RTEX_CHANN'+'EL}));\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),MM='\x0auniform\x20m'+'aterial_em'+'issive:\x20ve'+'c3f;\x0aunifo'+'rm\x20materia'+'l_emissive'+'Intensity:'+'\x20f32;\x0a\x0afn\x20'+'getEmissio'+'n()\x20{\x0a\x20\x20\x20\x20'+'dEmission\x20'+'=\x20uniform.'+'material_e'+'missive\x20*\x20'+'uniform.ma'+'terial_emi'+'ssiveInten'+'sity;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_EMISSIVE'+'_TEXTURE\x0a\x20'+'\x20\x20\x20dEmissi'+'on\x20*=\x20{STD'+'_EMISSIVE_'+'TEXTURE_DE'+'CODE}(text'+'ureSampleB'+'ias({STD_E'+'MISSIVE_TE'+'XTURE_NAME'+'},\x20{STD_EM'+'ISSIVE_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_EMISSI'+'VE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias)).{S'+'TD_EMISSIV'+'E_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_VERT'+'EX\x0a\x20\x20\x20\x20dEm'+'ission\x20=\x20d'+'Emission\x20*'+'\x20gammaCorr'+'ectInputVe'+'c3(saturat'+'e3(vVertex'+'Color.{STD'+'_EMISSIVE_'+'VERTEX_CHA'+'NNEL}));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',DM='\x0afn\x20encode'+'Linear(sou'+'rce:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'source,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeGamm'+'a(source:\x20'+'vec3f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4f(pow(s'+'ource\x20+\x20ve'+'c3f(0.0000'+'001),\x20vec3'+'f(1.0\x20/\x202.'+'2)),\x201.0);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBM(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+'r\x20color:\x20v'+'ec3f\x20=\x20pow'+'(source,\x20v'+'ec3f(0.5))'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x201.0\x20/'+'\x208.0;\x0a\x0a\x20\x20\x20'+'\x20var\x20a:\x20f3'+'2\x20=\x20satura'+'te(max(max'+'(color.r,\x20'+'color.g),\x20'+'max(color.'+'b,\x201.0\x20/\x202'+'55.0)));\x0a\x20'+'\x20\x20\x20a\x20=\x20cei'+'l(a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20col'+'or\x20/=\x20a;\x0a\x20'+'\x20\x20\x20return\x20'+'vec4f(colo'+'r,\x20a);\x0a}\x0a\x0a'+'fn\x20encodeR'+'GBP(source'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20//\x20con'+'vert\x20incom'+'ing\x20linear'+'\x20to\x20gamma('+'ish)\x0a\x20\x20\x20\x20v'+'ar\x20gamma:\x20'+'vec3f\x20=\x20po'+'w(source,\x20'+'vec3f(0.5)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20the\x20maxim'+'um\x20compone'+'nt\x20clamped'+'\x20to\x201..8\x0a\x20'+'\x20\x20\x20var\x20max'+'Val:\x20f32\x20='+'\x20min(8.0,\x20'+'max(1.0,\x20m'+'ax(gamma.x'+',\x20max(gamm'+'a.y,\x20gamma'+'.z))));\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20stor'+'age\x20factor'+'\x0a\x20\x20\x20\x20var\x20v'+':\x20f32\x20=\x201.'+'0\x20-\x20((maxV'+'al\x20-\x201.0)\x20'+'/\x207.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20roun'+'d\x20the\x20valu'+'e\x20for\x20stor'+'age\x20in\x208bi'+'t\x20channel\x0a'+'\x20\x20\x20\x20v\x20=\x20ce'+'il(v\x20*\x20255'+'.0)\x20/\x20255.'+'0;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(gamma\x20/\x20('+'-v\x20*\x207.0\x20+'+'\x208.0),\x20v);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBE(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+('r\x20maxVal:\x20'+'f32\x20=\x20max('+'source.x,\x20'+'max(source'+'.y,\x20source'+'.z));\x0a\x20\x20\x20\x20'+'if\x20(maxVal'+'\x20<\x201e-32)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+':\x20f32\x20=\x20ce'+'il(log2(ma'+'xVal));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(s'+'ource\x20/\x20po'+'w(2.0,\x20e),'+'\x20(e\x20+\x20128.'+'0)\x20/\x20255.0'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a'),IM='\x0a\x20\x20\x20\x20var\x20f'+'inalRgb:\x20v'+'ec3f\x20=\x20com'+'bineColor('+'litArgs_al'+'bedo,\x20litA'+'rgs_sheen_'+'specularit'+'y,\x20litArgs'+'_clearcoat'+'_speculari'+'ty);\x0a\x0a\x20\x20\x20\x20'+'finalRgb\x20='+'\x20finalRgb\x20'+'+\x20litArgs_'+'emission;\x0a'+'\x20\x20\x20\x20finalR'+'gb\x20=\x20addFo'+'g(finalRgb'+');\x0a\x20\x20\x20\x20fin'+'alRgb\x20=\x20to'+'neMap(fina'+'lRgb);\x0a\x20\x20\x20'+'\x20finalRgb\x20'+'=\x20gammaCor'+'rectOutput'+'(finalRgb)'+';\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(fin'+'alRgb,\x20out'+'put.color.'+'a);\x0a',LM='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20atla'+'sSize\x20:\x20f3'+'2\x20=\x20512.0;'+'\x0aconst\x20sea'+'mSize\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0afn\x20mapU'+'v(uv\x20:\x20vec'+'2f,\x20rect\x20:'+'\x20vec4f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec2f(mix('+'rect.x\x20+\x20s'+'eamSize,\x20r'+'ect.x\x20+\x20re'+'ct.z\x20-\x20sea'+'mSize,\x20uv.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20mix(rect.'+'y\x20+\x20seamSi'+'ze,\x20rect.y'+'\x20+\x20rect.w\x20'+'-\x20seamSize'+',\x20uv.y));\x0a'+'}\x0a\x0a//\x20map\x20'+'a\x20normaliz'+'ed\x20equirec'+'t\x20UV\x20and\x20r'+'oughness\x20l'+'evel\x20to\x20th'+'e\x20correct\x20'+'atlas\x20rect'+'.\x0afn\x20mapRo'+'ughnessUv('+'uv\x20:\x20vec2f'+',\x20level\x20:\x20'+'f32)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20t\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'exp2(level'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mapUv('+'uv,\x20vec4f('+'0.0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0afn\x20mapS'+'hinyUv(uv\x20'+':\x20vec2f,\x20l'+'evel\x20:\x20f32'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20t\x20:\x20f32\x20='+'\x201.0\x20/\x20exp'+'2(level);\x0a'+'\x20\x20\x20\x20return'+'\x20mapUv(uv,'+'\x20vec4f(1.0'+'\x20-\x20t,\x201.0\x20'+'-\x20t,\x20t,\x20t\x20'+'*\x200.5));\x0a}'+'\x0a\x0a#endif\x0a',RM='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20skyboxInt'+'ensity\x20:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20proce'+'ssEnvironm'+'ent(color\x20'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20unifo'+'rm.skyboxI'+'ntensity;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',OM='\x0afn\x20getFal'+'loffWindow'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20sqrDist'+':\x20f32\x20=\x20do'+'t(lightDir'+',\x20lightDir'+');\x0a\x20\x20\x20\x20let'+'\x20invRadius'+':\x20f32\x20=\x201.'+'0\x20/\x20lightR'+'adius;\x0a\x20\x20\x20'+'\x20return\x20sq'+'uare(satur'+'ate(1.0\x20-\x20'+'square(sqr'+'Dist\x20*\x20squ'+'are(invRad'+'ius))));\x0a}'+'\x0a\x0afn\x20getFa'+'lloffInvSq'+'uared(ligh'+'tRadius:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20sq'+'rDist:\x20f32'+'\x20=\x20dot(lig'+'htDir,\x20lig'+'htDir);\x0a\x20\x20'+'\x20\x20var\x20fall'+'off:\x20f32\x20='+'\x201.0\x20/\x20(sq'+'rDist\x20+\x201.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20invRadiu'+'s:\x20f32\x20=\x201'+'.0\x20/\x20light'+'Radius;\x0a\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x20square('+'saturate(1'+'.0\x20-\x20squar'+'e(sqrDist\x20'+'*\x20square(i'+'nvRadius))'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20fall'+'off;\x0a}\x0a',FM='\x0afn\x20getFal'+'loffLinear'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20length(l'+'ightDir);\x0a'+'\x20\x20\x20\x20return'+'\x20max(((lig'+'htRadius\x20-'+'\x20d)\x20/\x20ligh'+'tRadius),\x20'+'0.0);\x0a}\x0a',NM='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x20re'+'presentati'+'on\x20(0.0-1.'+'0\x20range)\x0af'+'n\x20float2ui'+'nt(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20intBit'+'s\x20=\x20bitcas'+'t<u32>(val'+'ue);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20f32((intB'+'its\x20>>\x2024u'+')\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((intBi'+'ts\x20>>\x2016u)'+'\x20&\x200xffu),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((intBit'+'s\x20>>\x208u)\x20&'+'\x200xffu),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20f32'+'(intBits\x20&'+'\x200xffu)\x0a\x20\x20'+'\x20\x20)\x20/\x20255.'+'0;\x0a}\x0a\x0a//\x20d'+'ecode\x20RGBA'+'8\x20value\x20to'+'\x20float\x0afn\x20'+'uint2float'+'(value:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20rgba_u32'+'\x20=\x20vec4<u3'+'2>(value\x20*'+'\x20255.0);\x0a\x20'+'\x20\x20\x20let\x20int'+'Bits:\x20u32\x20'+'=\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'r\x20<<\x2024u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'g\x20<<\x2016u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'b\x20<<\x208u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20rgba_u32.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20bitcas'+'t<f32>(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0af'+'n\x20float2ve'+'c4(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CAPS_TEX'+'TURE_FLOAT'+'_RENDERABL'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(value,'+'\x201.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20float2ui'+'nt(value);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#endi'+'f\x20//\x20FLOAT'+'_AS_UINT\x0a',kM='\x0a\x0avar<priv'+'ate>\x20dBlen'+'dModeFogFa'+'ctor\x20:\x20f32'+'\x20=\x201.0;\x0a\x0a#'+'if\x20(FOG\x20!='+'\x20NONE)\x0a\x20\x20\x20'+'\x20uniform\x20f'+'og_color\x20:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20fog_sta'+'rt\x20:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20fog_'+'end\x20:\x20f32;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20fog'+'_density\x20:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afn\x20ge'+'tFogFactor'+'()\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20depth\x20=\x20p'+'cPosition.'+'z\x20/\x20pcPosi'+'tion.w;\x0a\x0a\x20'+'\x20\x20\x20var\x20fog'+'Factor\x20:\x20f'+'32\x20=\x200.0;\x0a'+'\x0a\x20\x20\x20\x20#if\x20('+'FOG\x20==\x20LIN'+'EAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20(unif'+'orm.fog_en'+'d\x20-\x20depth)'+'\x20/\x20(unifor'+'m.fog_end\x20'+'-\x20uniform.'+'fog_start)'+';\x0a\x20\x20\x20\x20#eli'+'f\x20(FOG\x20==\x20'+'EXP)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20exp(-'+'depth\x20*\x20un'+'iform.fog_'+'density);\x0a'+'\x20\x20\x20\x20#elif\x20'+'(FOG\x20==\x20EX'+'P2)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fogFacto'+'r\x20=\x20exp(-d'+'epth\x20*\x20dep'+'th\x20*\x20unifo'+'rm.fog_den'+'sity\x20*\x20uni'+'form.fog_d'+'ensity);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(fo'+'gFactor,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0afn\x20addF'+'og(color\x20:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'uniform.fo'+'g_color\x20*\x20'+'dBlendMode'+'FogFactor,'+'\x20color,\x20ge'+'tFogFactor'+'());\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'color;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',UM='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0afn'+'\x20getFresne'+'l(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20cosTheta:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y:\x20f32\x0a\x20\x20\x20'+'\x20#endif\x0a)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20f'+'resnel:\x20f3'+'2\x20=\x20pow(1.'+'0\x20-\x20satura'+'te(cosThet'+'a),\x205.0);\x0a'+'\x20\x20\x20\x20let\x20gl'+'ossSq:\x20f32'+'\x20=\x20gloss\x20*'+'\x20gloss;\x0a\x20\x20'+'\x20\x20let\x20ret:'+'\x20vec3f\x20=\x20s'+'pecularity'+'\x20+\x20(max(ve'+'c3f(glossS'+'q),\x20specul'+'arity)\x20-\x20s'+'pecularity'+')\x20*\x20fresne'+'l;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20mix(ret,'+'\x20iridescen'+'ceFresnel,'+'\x20iridescen'+'ceIntensit'+'y);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20r'+'et;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0afn'+'\x20getFresne'+'lCC(cosThe'+'ta:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20fres'+'nel:\x20f32\x20='+'\x20pow(1.0\x20-'+'\x20saturate('+'cosTheta),'+'\x205.0);\x0a\x20\x20\x20'+'\x20return\x200.'+'04\x20+\x20(1.0\x20'+'-\x200.04)\x20*\x20'+'fresnel;\x0a}',BM='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x0avary'+'ing\x20vUv0:\x20'+'vec2f;\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4f(inpu'+'t.vertex_p'+'osition,\x200'+'.5,\x201.0);\x0a'+'\x20\x20\x20\x20output'+'.vUv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x20vec2f(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',zM='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInput(c'+'olor:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGammaFloa'+'t(color);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20fn\x20gammaC'+'orrectInpu'+'tVec3(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20deco'+'deGamma3(c'+'olor);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInputVe'+'c4(color:\x20'+'vec4f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(d'+'ecodeGamma'+'3(color.xy'+'z),\x20color.'+'w);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Output(col'+'or:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20pow'+'(color\x20+\x200'+'.0000001,\x20'+'vec3f(1.0\x20'+'/\x202.2));\x0a\x20'+'\x20\x20\x20}\x0a\x0a#els'+'e\x20//\x20NONE\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Input(colo'+'r:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20gammaCo'+'rrectInput'+'Vec3(color'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20gamm'+'aCorrectIn'+'putVec4(co'+'lor:\x20vec4f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20g'+'ammaCorrec'+'tOutput(co'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a',VM='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_gl'+'oss:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getGlossi'+'ness()\x20{\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_GL'+'OSS_CONSTA'+'NT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20unifo'+'rm.materia'+'l_gloss;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_GLOS'+'S_TEXTURE\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x20dG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_GLOSS'+'_TEXTURE_N'+'AME},\x20{STD'+'_GLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_GLOSS_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_GLOSS_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_I'+'NVERT\x0a\x20\x20\x20\x20'+'dGlossines'+'s\x20=\x201.0\x20-\x20'+'dGlossines'+'s;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20d'+'Glossiness'+'\x20=\x20dGlossi'+'ness\x20+\x200.0'+'000001;\x0a}\x0a',GM='\x0auniform\x20m'+'atrix_mode'+'l:\x20mat4x4f'+';\x0auniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0auniform\x20'+'matrix_pro'+'jection:\x20m'+'at4x4f;\x0a\x0a/'+'/\x20project\x20'+'the\x20model\x20'+'space\x20gaus'+'sian\x20cente'+'r\x20to\x20view\x20'+'and\x20clip\x20s'+'pace\x0afn\x20in'+'itCenter(m'+'odelCenter'+':\x20vec3f,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>)\x20->\x20bo'+'ol\x20{\x0a\x20\x20\x20\x20l'+'et\x20modelVi'+'ew:\x20mat4x4'+'f\x20=\x20unifor'+'m.matrix_v'+'iew\x20*\x20unif'+'orm.matrix'+'_model;\x0a\x20\x20'+'\x20\x20let\x20cent'+'erView:\x20ve'+'c4f\x20=\x20mode'+'lView\x20*\x20ve'+'c4f(modelC'+'enter,\x201.0'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20if\x20splat\x20'+'is\x20behind\x20'+'the\x20camera'+'\x0a\x20\x20\x20\x20if\x20(c'+'enterView.'+'z\x20>\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20ce'+'nterProj:\x20'+'vec4f\x20=\x20un'+'iform.matr'+'ix_project'+'ion\x20*\x20cent'+'erView;\x0a\x0a\x20'+'\x20\x20\x20//\x20ensu'+'re\x20gaussia'+'ns\x20are\x20not'+'\x20clipped\x20b'+'y\x20camera\x20n'+'ear\x20and\x20fa'+'r\x0a\x20\x20\x20\x20cent'+'erProj.z\x20='+'\x20clamp(cen'+'terProj.z,'+'\x200.0,\x20abs('+'centerProj'+'.w));\x0a\x0a\x20\x20\x20'+'\x20center.vi'+'ew\x20=\x20cente'+'rView.xyz\x20'+'/\x20centerVi'+'ew.w;\x0a\x20\x20\x20\x20'+'center.pro'+'j\x20=\x20center'+'Proj;\x0a\x20\x20\x20\x20'+'center.pro'+'jMat00\x20=\x20u'+'niform.mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',HM='\x0a\x0avar\x20spla'+'tColor:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20r'+'eadColor(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20tex'+'tureLoad(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a}\x0a',WM='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20order:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20id:\x20u3'+'2,\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'uv:\x20vec2<i'+'32>,\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20corn'+'erUV:\x20vec2'+'f,\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a}\x0a\x0a'+'//\x20stores\x20'+'the\x20camera'+'\x20and\x20clip\x20'+'space\x20posi'+'tion\x20of\x20th'+'e\x20gaussian'+'\x20center\x0ast'+'ruct\x20Splat'+'Center\x20{\x0a\x20'+'\x20\x20\x20view:\x20v'+'ec3f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20vi'+'ew\x20space\x0a\x20'+'\x20\x20\x20proj:\x20v'+'ec4f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20cl'+'ip\x20space\x0a\x20'+'\x20\x20\x20modelVi'+'ew:\x20mat4x4'+'f,\x20\x20\x20//\x20mo'+'del-view\x20m'+'atrix\x0a\x20\x20\x20\x20'+'projMat00:'+'\x20f32,\x20\x20\x20\x20\x20'+'\x20\x20//\x20eleme'+'mt\x20[0][0]\x20'+'of\x20the\x20pro'+'jection\x20ma'+'trix\x0a}\x0a\x0a//'+'\x20stores\x20th'+'e\x20offset\x20f'+'rom\x20center'+'\x20for\x20the\x20c'+'urrent\x20gau'+'ssian\x0astru'+'ct\x20SplatCo'+'rner\x20{\x0a\x20\x20\x20'+'\x20offset:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20corn'+'er\x20offset\x20'+'from\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'uv:\x20vec2f,'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20aaFactor:'+'\x20f32,\x20//\x20f'+'or\x20scenes\x20'+'generated\x20'+'with\x20antia'+'liasing\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0a#include'+'\x20\x22gsplatEv'+'alSHVS\x22\x0a#i'+'nclude\x20\x22gs'+'platQuatTo'+'Mat3VS\x22\x0a\x0a#'+'if\x20GSPLAT_'+'COMPRESSED'+'_DATA\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatComp'+'ressedData'+'VS\x22\x0a\x20\x20\x20\x20#i'+('f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsDataVS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tSogsColor'+'VS\x22\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsSHVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#else\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatData'+'VS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22gs'+'platColorV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0afn\x20'+'clipCorner'+'(corner:\x20p'+'tr<functio'+'n,\x20SplatCo'+'rner>,\x20alp'+'ha:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'lip:\x20f32\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20(255'+'.0\x20*\x20alpha'+')))\x20/\x202.0)'+';\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20corner.o'+'ffset\x20*\x20cl'+'ip;\x0a\x20\x20\x20\x20co'+'rner.uv\x20=\x20'+'corner.uv\x20'+'*\x20clip;\x0a}\x0a'+'\x0a'),$M='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0avar'+'\x20chunkText'+'ure:\x20textu'+'re_2d<f32>'+';\x0a\x0a//\x20work'+'\x20values\x0ava'+'r<private>'+'\x20chunkData'+'A:\x20vec4f;\x20'+'\x20\x20\x20//\x20x:\x20m'+'in_x,\x20y:\x20m'+'in_y,\x20z:\x20m'+'in_z,\x20w:\x20m'+'ax_x\x0avar<p'+'rivate>\x20ch'+'unkDataB:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20max_'+'y,\x20y:\x20max_'+'z,\x20z:\x20scal'+'e_min_x,\x20w'+':\x20scale_mi'+'n_y\x0avar<pr'+'ivate>\x20chu'+'nkDataC:\x20v'+'ec4f;\x20\x20\x20\x20/'+'/\x20x:\x20scale'+'_min_z,\x20y:'+'\x20scale_max'+'_x,\x20z:\x20sca'+'le_max_y,\x20'+'w:\x20scale_m'+'ax_z\x0avar<p'+'rivate>\x20ch'+'unkDataD:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20min_'+'r,\x20y:\x20min_'+'g,\x20z:\x20min_'+'b,\x20w:\x20max_'+'r\x0avar<priv'+'ate>\x20chunk'+'DataE:\x20vec'+'4f;\x20\x20\x20\x20//\x20'+'x:\x20max_g,\x20'+'y:\x20max_b,\x20'+'z:\x20unused,'+'\x20w:\x20unused'+'\x0avar<priva'+'te>\x20packed'+'Data:\x20vec4'+'u;\x20\x20\x20\x20//\x20x'+':\x20position'+'\x20bits,\x20y:\x20'+'rotation\x20b'+'its,\x20z:\x20sc'+'ale\x20bits,\x20'+'w:\x20color\x20b'+'its\x0a\x0afn\x20un'+'pack111011'+'(bits:\x20u32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(vec3f'+'((vec3<u32'+'>(bits)\x20>>'+'\x20vec3<u32>'+'(21u,\x2011u,'+'\x200u))\x20&\x20ve'+'c3<u32>(0x'+'7ffu,\x200x3f'+'fu,\x200x7ffu'+')))\x20/\x20vec3'+'f(2047.0,\x20'+'1023.0,\x2020'+'47.0);\x0a}\x0a\x0a'+'fn\x20unpack8'+'888(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20f32((bit'+'s\x20>>\x2024u)\x20'+'&\x200xffu),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((bits\x20>>'+'\x2016u)\x20&\x200x'+'ffu),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20f32((b'+'its\x20>>\x208u)'+'\x20\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(bits\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20&\x200'+'xffu)\x0a\x20\x20\x20\x20'+')\x20/\x20255.0;'+('\x0a}\x0a\x0aconst\x20'+'norm_const'+':\x20f32\x20=\x201.'+'0\x20/\x20(sqrt('+'2.0)\x20*\x200.5'+');\x0a\x0afn\x20unp'+'ackRotatio'+'n(bits:\x20u3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x20(f32'+'((bits\x20>>\x20'+'20u)\x20&\x200x3'+'ffu)\x20/\x20102'+'3.0\x20-\x200.5)'+'\x20*\x20norm_co'+'nst;\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20(f3'+'2((bits\x20>>'+'\x2010u)\x20&\x200x'+'3ffu)\x20/\x2010'+'23.0\x20-\x200.5'+')\x20*\x20norm_c'+'onst;\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20(f'+'32(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+'_const;\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'sqrt(1.0\x20-'+'\x20(a\x20*\x20a\x20+\x20'+'b\x20*\x20b\x20+\x20c\x20'+'*\x20c));\x0a\x0a\x20\x20'+'\x20\x20let\x20mode'+'\x20=\x20bits\x20>>'+'\x2030u;\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x200u)\x20{\x20re'+'turn\x20vec4f'+'(m,\x20a,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20m,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x202u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20b,\x20m,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(a,\x20b,\x20c'+',\x20m);\x0a}\x0a\x0a/'+'/\x20read\x20cen'+'ter\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex_siz'+'e_u\x20=\x20text'+'ureDimensi'+'ons(chunkT'+'exture,\x200)'+';\x0a\x20\x20\x20\x20let\x20'+'w:\x20u32\x20=\x20t'+'ex_size_u.'+'x\x20/\x205u;\x0a\x20\x20'+'\x20\x20let\x20chun'+'kId:\x20u32\x20='+'\x20source.id'+'\x20/\x20256u;\x0a\x20'+'\x20\x20\x20let\x20chu'+'nkUV:\x20vec2'+'<i32>\x20=\x20ve'+'c2<i32>(i3'+'2((chunkId'+'\x20%\x20w)\x20*\x205u'+'),\x20i32(chu'+'nkId\x20/\x20w))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'read\x20chunk'+'\x20and\x20packe'+'d\x20compress'+'ed\x20data\x0a\x20\x20'+'\x20\x20chunkDat'+'aA\x20=\x20textu'+'reLoad(chu'+'nkTexture,'+'\x20chunkUV\x20+'+'\x20vec2<i32>'+'(0,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataB\x20=\x20t'+'extureLoad')+('(chunkText'+'ure,\x20chunk'+'UV\x20+\x20vec2<'+'i32>(1,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataC'+'\x20=\x20texture'+'Load(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20v'+'ec2<i32>(2'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataD\x20=\x20tex'+'tureLoad(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20vec2<i3'+'2>(3,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataE\x20='+'\x20textureLo'+'ad(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20vec'+'2<i32>(4,\x20'+'0),\x200);\x0a\x20\x20'+'\x20\x20packedDa'+'ta\x20=\x20textu'+'reLoad(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(chunkDa'+'taA.xyz,\x20v'+'ec3f(chunk'+'DataA.w,\x20c'+'hunkDataB.'+'xy),\x20unpac'+'k111011(pa'+'ckedData.x'+'));\x0a}\x0a\x0afn\x20'+'readColor('+'source:\x20pt'+'r<function'+',\x20SplatSou'+'rce>)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20let\x20r\x20=\x20u'+'npack8888('+'packedData'+'.w);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(mix(chun'+'kDataD.xyz'+',\x20vec3f(ch'+'unkDataD.w'+',\x20chunkDat'+'aE.xy),\x20r.'+'rgb),\x20r.w)'+';\x0a}\x0a\x0afn\x20ge'+'tRotation('+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20unpack'+'Rotation(p'+'ackedData.'+'y);\x0a}\x0a\x0afn\x20'+'getScale()'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20exp(mix'+'(vec3f(chu'+'nkDataB.zw'+',\x20chunkDat'+'aC.x),\x20chu'+'nkDataC.yz'+'w,\x20unpack1'+'11011(pack'+'edData.z))'+');\x0a}\x0a\x0a//\x20g'+'iven\x20a\x20rot'+'ation\x20matr'+'ix\x20and\x20sca'+'le\x20vector,'+'\x20compute\x203'+'d\x20covarian'+'ce\x20A\x20and\x20B'+'\x0afn\x20readCo'+'variance(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>,\x20covA_'+'ptr:\x20ptr<f'+'unction,\x20v'+'ec3f>,\x20cov'+'B_ptr:\x20ptr'+'<function,')+('\x20vec3f>)\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'ot\x20=\x20quatT'+'oMat3(getR'+'otation())'+';\x0a\x20\x20\x20\x20let\x20'+'scale\x20=\x20ge'+'tScale();\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20let\x20M\x20=\x20'+'transpose('+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.x\x20*\x20rot'+'[0],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.y'+'\x20*\x20rot[1],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.z\x20*\x20r'+'ot[2]\x0a\x20\x20\x20\x20'+'));\x0a\x0a\x20\x20\x20\x20*'+'covA_ptr\x20='+'\x20vec3f(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20*covB_p'+'tr\x20=\x20vec3f'+'(dot(M[1],'+'\x20M[1]),\x20do'+'t(M[1],\x20M['+'2]),\x20dot(M'+'[2],\x20M[2])'+');\x0a}\x0a'),XM='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0av'+'ar\x20shTextu'+'re0:\x20textu'+'re_2d<u32>'+';\x0avar\x20shTe'+'xture1:\x20te'+'xture_2d<u'+'32>;\x0avar\x20s'+'hTexture2:'+'\x20texture_2'+'d<u32>;\x0a\x0af'+'n\x20unpack88'+'88s(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20unpack'+'ed_u\x20=\x20(ve'+'c4<u32>(bi'+'ts)\x20>>\x20vec'+'4<u32>(0u,'+'\x208u,\x2016u,\x20'+'24u))\x20&\x20ve'+'c4<u32>(0x'+'ffu);\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(unpacke'+'d_u)\x20*\x20(8.'+'0\x20/\x20255.0)'+'\x20-\x204.0;\x0a}\x0a'+'\x0afn\x20readSH'+'Data(sourc'+'e:\x20ptr<fun'+'ction,\x20Spl'+'atSource>,'+'\x20sh:\x20ptr<f'+'unction,\x20a'+'rray<vec3f'+',\x2015>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20read\x20t'+'he\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20let\x20shD'+'ata0:\x20vec4'+'<u32>\x20=\x20te'+'xtureLoad('+'shTexture0'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20let\x20shDat'+'a1:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(sh'+'Texture1,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20shData2'+':\x20vec4<u32'+'>\x20=\x20textur'+'eLoad(shTe'+'xture2,\x20so'+'urce.uv,\x200'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20r0\x20=\x20unp'+'ack8888s(s'+'hData0.x);'+'\x0a\x20\x20\x20\x20let\x20r'+'1\x20=\x20unpack'+'8888s(shDa'+'ta0.y);\x0a\x20\x20'+'\x20\x20let\x20r2\x20='+'\x20unpack888'+'8s(shData0'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20r3\x20=\x20un'+'pack8888s('+'shData0.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20g0\x20=\x20unpa'+'ck8888s(sh'+'Data1.x);\x0a'+'\x20\x20\x20\x20let\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20let\x20g2\x20=\x20'+'unpack8888'+'s(shData1.'+'z);\x0a\x20\x20\x20\x20le'+'t\x20g3\x20=\x20unp'+'ack8888s(s'+'hData1.w);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'b0\x20=\x20unpac'+'k8888s(shD'+'ata2.x);\x0a\x20'+'\x20\x20\x20let\x20b1\x20'+('=\x20unpack88'+'88s(shData'+'2.y);\x0a\x20\x20\x20\x20'+'let\x20b2\x20=\x20u'+'npack8888s'+'(shData2.z'+');\x0a\x20\x20\x20\x20let'+'\x20b3\x20=\x20unpa'+'ck8888s(sh'+'Data2.w);\x0a'+'\x0a\x20\x20\x20\x20sh[0]'+'\x20=\x20\x20vec3f('+'r0.x,\x20g0.x'+',\x20b0.x);\x0a\x20'+'\x20\x20\x20sh[1]\x20='+'\x20\x20vec3f(r0'+'.y,\x20g0.y,\x20'+'b0.y);\x0a\x20\x20\x20'+'\x20sh[2]\x20=\x20\x20'+'vec3f(r0.z'+',\x20g0.z,\x20b0'+'.z);\x0a\x20\x20\x20\x20s'+'h[3]\x20=\x20\x20ve'+'c3f(r0.w,\x20'+'g0.w,\x20b0.w'+');\x0a\x20\x20\x20\x20sh['+'4]\x20=\x20\x20vec3'+'f(r1.x,\x20g1'+'.x,\x20b1.x);'+'\x0a\x20\x20\x20\x20sh[5]'+'\x20=\x20\x20vec3f('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3f(r1'+'.z,\x20g1.z,\x20'+'b1.z);\x0a\x20\x20\x20'+'\x20sh[7]\x20=\x20\x20'+'vec3f(r1.w'+',\x20g1.w,\x20b1'+'.w);\x0a\x20\x20\x20\x20s'+'h[8]\x20=\x20\x20ve'+'c3f(r2.x,\x20'+'g2.x,\x20b2.x'+');\x0a\x20\x20\x20\x20sh['+'9]\x20=\x20\x20vec3'+'f(r2.y,\x20g2'+'.y,\x20b2.y);'+'\x0a\x20\x20\x20\x20sh[10'+']\x20=\x20vec3f('+'r2.z,\x20g2.z'+',\x20b2.z);\x0a\x20'+'\x20\x20\x20sh[11]\x20'+'=\x20vec3f(r2'+'.w,\x20g2.w,\x20'+'b2.w);\x0a\x20\x20\x20'+'\x20sh[12]\x20=\x20'+'vec3f(r3.x'+',\x20g3.x,\x20b3'+'.x);\x0a\x20\x20\x20\x20s'+'h[13]\x20=\x20ve'+'c3f(r3.y,\x20'+'g3.y,\x20b3.y'+');\x0a\x20\x20\x20\x20sh['+'14]\x20=\x20vec3'+'f(r3.z,\x20g3'+'.z,\x20b3.z);'+'\x0a\x0a\x20\x20\x20\x20*sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),qM='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'COEFFS:\x20i3'+'2\x20=\x203;\x0a\x20\x20\x20'+'\x20#elif\x20SH_'+'BANDS\x20==\x202'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20SH_CO'+'EFFS:\x20i32\x20'+'=\x208;\x0a\x20\x20\x20\x20#'+'elif\x20SH_BA'+'NDS\x20==\x203\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20con'+'st\x20SH_COEF'+'FS:\x20i32\x20=\x20'+'15;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20const\x20SH'+'_COEFFS:\x20i'+'32\x20=\x200;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20SH'+'_BANDS\x20>\x200'+'\x0a\x0a\x20\x20\x20\x20cons'+'t\x20SH_C1:\x20f'+'32\x20=\x200.488'+'6025119029'+'199;\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x201\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20const'+'\x20SH_C2_0:\x20'+'f32\x20=\x201.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_1:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_2:\x20f'+'32\x20=\x200.315'+'3915652525'+'2005;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_3:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_4:\x20f'+'32\x20=\x200.546'+'2742152960'+'396;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SH_BA'+'NDS\x20>\x202\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_0:'+'\x20f32\x20=\x20-0.'+'5900435899'+'266435;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_1:'+'\x20f32\x20=\x202.8'+'9061144264'+'0554;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_2:\x20f'+'32\x20=\x20-0.45'+'7045799464'+'4658;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_3:\x20f'+'32\x20=\x200.373'+'1763325901'+'154;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_4:\x20f3'+'2\x20=\x20-0.457'+'0457994644'+'658;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_5:\x20f3'+'2\x20=\x201.4453'+'0572132027'+'7;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'C3_6:\x20f32\x20'+'=\x20-0.59004'+'3589926643'+'5;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20see\x20http'+'s://github'+'.com/graph'+'deco-inria'+('/gaussian-'+'splatting/'+'blob/main/'+'utils/sh_u'+'tils.py\x0a\x20\x20'+'\x20\x20fn\x20evalS'+'H(sh:\x20ptr<'+'function,\x20'+'array<vec3'+'f,\x20SH_COEF'+'FS>>,\x20dir:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x\x20=\x20dir.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20y\x20=\x20di'+'r.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20z\x20='+'\x20dir.z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'1st\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20result\x20'+'=\x20SH_C1\x20*\x20'+'(-sh[0]\x20*\x20'+'y\x20+\x20sh[1]\x20'+'*\x20z\x20-\x20sh[2'+']\x20*\x20x);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x201\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x202'+'nd\x20degree\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xx\x20='+'\x20x\x20*\x20x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20yy\x20=\x20y'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20yz'+'\x20=\x20y\x20*\x20z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xz\x20='+'\x20x\x20*\x20z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'result\x20+\x20('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'3]\x20*\x20(SH_C'+'2_0\x20*\x20xy)\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[4]\x20*\x20(SH_'+'C2_1\x20*\x20yz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[5]\x20*\x20(SH'+'_C2_2\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[6]\x20*\x20(SH_'+'C2_3\x20*\x20xz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[7]\x20*\x20(SH'+'_C2_4\x20*\x20(x'+'x\x20-\x20yy))\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'=\x20result\x20+'+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20re'+'sult;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20#end'+'if\x0a'),jM='\x0afn\x20quatTo'+'Mat3(R:\x20ve'+'c4<f32>)\x20-'+'>\x20mat3x3<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'let\x20R2:\x20ve'+'c4<f32>\x20=\x20'+'R\x20+\x20R;\x0a\x20\x20\x20'+'\x20let\x20X:\x20f3'+'2\x20\x20\x20\x20\x20\x20\x20=\x20'+'R2.x\x20*\x20R.w'+';\x0a\x20\x20\x20\x20let\x20'+'Y:\x20vec4<f3'+'2>\x20=\x20R2.y\x20'+'*\x20R;\x0a\x20\x20\x20\x20l'+'et\x20Z:\x20vec4'+'<f32>\x20=\x20R2'+'.z\x20*\x20R;\x0a\x20\x20'+'\x20\x20let\x20W:\x20f'+'32\x20\x20\x20\x20\x20\x20\x20='+'\x20R2.w\x20*\x20R.'+'w;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20mat3x'+'3<f32>(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Z.z\x20-\x20W,'+'\x20\x20Y.z\x20+\x20X,'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.z\x20-'+'\x20X,\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x20Y.y'+'\x20-\x20W,\x20Z.w\x20'+'+\x20Y.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.w\x20+'+'\x20Z.x,\x20\x20\x20\x20\x20'+'\x20Z.w\x20-\x20Y.x'+',\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',YM='\x0avar\x20sh0:\x20'+'texture_2d'+'<f32>;\x0a\x0aun'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0auniform'+'\x20sh0_maxs:'+'\x20vec4f;\x0a\x0ac'+'onst\x20SH_C0'+':\x20f32\x20=\x200.'+'2820947917'+'7387814;\x0a\x0a'+'fn\x20readCol'+'or(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20let\x20cl'+'r:\x20vec4f\x20='+'\x20mix(unifo'+'rm.sh0_min'+'s,\x20uniform'+'.sh0_maxs,'+'\x20textureLo'+'ad(sh0,\x20so'+'urce.uv,\x200'+'));\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(vec3f(0.5'+')\x20+\x20clr.xy'+'z\x20*\x20SH_C0,'+'\x201.0\x20/\x20(1.'+'0\x20+\x20exp(-c'+'lr.w)));\x0a}'+'\x0a',KM='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0a\x0aun'+'iform\x20mean'+'s_mins:\x20ve'+'c3f;\x0aunifo'+'rm\x20means_m'+'axs:\x20vec3f'+';\x0a\x0auniform'+'\x20scales_mi'+'ns:\x20vec3f;'+'\x0auniform\x20s'+'cales_maxs'+':\x20vec3f;\x0a\x0a'+'fn\x20unpackU'+'32(u:\x20u32)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20vec4f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((u\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((u\x20>>\x201'+'6u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((u\x20>>\x20'+'8u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(u\x20&\x200x'+'FFu)\x20/\x20255'+'.0\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avar<pri'+'vate>\x20pack'+'edSample:\x20'+'vec4<u32>;'+'\x0a\x0a//\x20read\x20'+'the\x20model-'+'space\x20cent'+'er\x20of\x20the\x20'+'gaussian\x0af'+'n\x20readCent'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec3f\x20{\x0a'+'\x0a\x20\x20\x20\x20packe'+'dSample\x20=\x20'+'textureLoa'+'d(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20l:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.x).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20u:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20n:\x20vec3f\x20'+'=\x20(l\x20*\x20255'+'.0\x20+\x20u\x20*\x202'+'55.0\x20*\x20256'+'.0)\x20/\x206553'+'5.0;\x0a\x20\x20\x20\x20l'+'et\x20v:\x20vec3'+'f\x20=\x20mix(un'+'iform.mean'+'s_mins,\x20un'+'iform.mean'+'s_maxs,\x20n)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20sign(v'+')\x20*\x20(exp(a'+'bs(v))\x20-\x201'+'.0);\x0a}\x0a\x0aco'+'nst\x20norm:\x20'+'f32\x20=\x202.0\x20'+'/\x20sqrt(2.0'+');\x0a\x0a//\x20sam'+'ple\x20covari'+'ance\x20vecto'+'rs\x0afn\x20read'+'Covariance'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>,\x20cov'+'A_ptr:\x20ptr'+'<function,'+'\x20vec3f>,\x20c'+('ovB_ptr:\x20p'+'tr<functio'+'n,\x20vec3f>)'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20qdata:\x20ve'+'c4f\x20=\x20unpa'+'ckU32(pack'+'edSample.z'+');\x0a\x20\x20\x20\x20let'+'\x20sdata:\x20ve'+'c3f\x20=\x20unpa'+'ckU32(pack'+'edSample.w'+').xyz;\x0a\x0a\x20\x20'+'\x20\x20let\x20abc:'+'\x20vec3f\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(abc,'+'\x20abc)));\x0a\x0a'+'\x20\x20\x20\x20let\x20mo'+'de:\x20u32\x20=\x20'+'u32(qdata.'+'w\x20*\x20255.0\x20'+'+\x200.5)\x20-\x202'+'52u;\x0a\x0a\x20\x20\x20\x20'+'var\x20quat:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20if\x20(mode\x20'+'==\x200u)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20qua'+'t\x20=\x20vec4f('+'d,\x20abc);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20quat'+'\x20=\x20vec4f(a'+'bc.x,\x20d,\x20a'+'bc.y,\x20abc.'+'z);\x0a\x20\x20\x20\x20}\x20'+'else\x20if\x20(m'+'ode\x20==\x202u)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20quat\x20=\x20ve'+'c4f(abc.x,'+'\x20abc.y,\x20d,'+'\x20abc.z);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'quat\x20=\x20vec'+'4f(abc.x,\x20'+'abc.y,\x20abc'+'.z,\x20d);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x0a\x20\x20\x20\x20'+'let\x20rot:\x20m'+'at3x3f\x20=\x20q'+'uatToMat3('+'quat);\x0a\x20\x20\x20'+'\x20let\x20scale'+':\x20vec3f\x20=\x20'+'exp(mix(un'+'iform.scal'+'es_mins,\x20u'+'niform.sca'+'les_maxs,\x20'+'sdata));\x0a\x0a'+'\x20\x20\x20\x20//\x20M\x20='+'\x20S\x20*\x20R\x0a\x20\x20\x20'+'\x20let\x20M:\x20ma'+'t3x3f\x20=\x20tr'+'anspose(ma'+'t3x3f(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20*co'+'vA_ptr\x20=\x20v'+'ec3f(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20*covB_ptr'+'\x20=\x20vec3f(d'+'ot(M[1],\x20M'+'[1]),\x20dot('+'M[1],\x20M[2]'+'),\x20dot(M[2'+'],\x20M[2]));')+'\x0a}\x0a',ZM='\x0avar\x20sh_ce'+'ntroids:\x20t'+'exture_2d<'+'f32>;\x0a\x0auni'+'form\x20shN_m'+'ins:\x20f32;\x0a'+'uniform\x20sh'+'N_maxs:\x20f3'+'2;\x0a\x0afn\x20rea'+'dSHData(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>,\x20sh:\x20pt'+'r<function'+',\x20array<ve'+'c3f,\x20SH_CO'+'EFFS>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'let\x20t:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'32(packedS'+'ample.x\x20&\x20'+'255u),\x20i32'+'(packedSam'+'ple.y\x20&\x2025'+'5u));\x0a\x20\x20\x20\x20'+'let\x20n:\x20i32'+'\x20=\x20t.x\x20+\x20t'+'.y\x20*\x20256;\x0a'+'\x20\x20\x20\x20let\x20u:'+'\x20i32\x20=\x20(n\x20'+'%\x2064)\x20*\x20SH'+'_COEFFS;\x0a\x20'+'\x20\x20\x20let\x20v:\x20'+'i32\x20=\x20n\x20/\x20'+'64;\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20offset\x20i'+'nto\x20the\x20ce'+'ntroids\x20te'+'xture\x20and\x20'+'read\x20conse'+'cutive\x20tex'+'els\x0a\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'i32\x20=\x200;\x20i'+'\x20<\x20SH_COEF'+'FS;\x20i\x20=\x20i\x20'+'+\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[i]'+'\x20=\x20mix(vec'+'3f(uniform'+'.shN_mins)'+',\x20vec3f(un'+'iform.shN_'+'maxs),\x20tex'+'tureLoad(s'+'h_centroid'+'s,\x20vec2<i3'+'2>(u\x20+\x20i,\x20'+'v),\x200).xyz'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20*scale'+'\x20=\x201.0;\x0a}\x0a',QM='\x0auniform\x20v'+'iewport:\x20v'+'ec2f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20view'+'port\x20dimen'+'sions\x0aunif'+'orm\x20camera'+'_params:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201\x20/\x20far,\x20'+'far,\x20near,'+'\x20isOrtho\x0a\x0a'+'//\x20calcula'+'te\x20the\x20cli'+'p-space\x20of'+'fset\x20from\x20'+'the\x20center'+'\x20for\x20this\x20'+'gaussian\x0af'+'n\x20initCorn'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>,\x20corne'+'r:\x20ptr<fun'+'ction,\x20Spl'+'atCorner>)'+'\x20->\x20bool\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20var'+'\x20covA:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20covB:\x20ve'+'c3f;\x0a\x20\x20\x20\x20r'+'eadCovaria'+'nce(source'+',\x20&covA,\x20&'+'covB);\x0a\x0a\x20\x20'+'\x20\x20let\x20Vrk\x20'+'=\x20mat3x3f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(covA.'+'x,\x20covA.y,'+'\x20covA.z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(covA.y'+',\x20covB.x,\x20'+'covB.y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(covA.z,'+'\x20covB.y,\x20c'+'ovB.z)\x0a\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20l'+'et\x20focal\x20='+'\x20uniform.v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20let\x20v'+'\x20=\x20select('+'center.vie'+'w.xyz,\x20vec'+'3f(0.0,\x200.'+'0,\x201.0),\x20u'+'niform.cam'+'era_params'+'.w\x20==\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'J1\x20=\x20focal'+'\x20/\x20v.z;\x0a\x20\x20'+'\x20\x20let\x20J2\x20='+'\x20-J1\x20/\x20v.z'+'\x20*\x20v.xy;\x0a\x20'+'\x20\x20\x20let\x20J\x20='+'\x20mat3x3f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(J1,\x200.'+'0,\x20J2.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x20J'+'1,\x20J2.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x200'+'.0,\x200.0)\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20W\x20=\x20t'+'ranspose(m'+'at3x3f(cen'+'ter.modelV'+'iew[0].xyz'+',\x20center.m'+'odelView[1'+'].xyz,\x20cen'+('ter.modelV'+'iew[2].xyz'+'));\x0a\x20\x20\x20\x20le'+'t\x20T\x20=\x20W\x20*\x20'+'J;\x0a\x20\x20\x20\x20let'+'\x20cov\x20=\x20tra'+'nspose(T)\x20'+'*\x20Vrk\x20*\x20T;'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'GSPLAT_AA\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20calculate'+'\x20AA\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20detOrig'+'\x20=\x20cov[0]['+'0]\x20*\x20cov[1'+'][1]\x20-\x20cov'+'[0][1]\x20*\x20c'+'ov[1][0];\x20'+'//\x20Using\x20['+'0][1]\x20*\x20[1'+'][0]\x20as\x20ma'+'trix\x20might'+'\x20not\x20be\x20pe'+'rfectly\x20sy'+'mmetric\x20nu'+'merically\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20detBlur\x20'+'=\x20(cov[0]['+'0]\x20+\x200.3)\x20'+'*\x20(cov[1]['+'1]\x20+\x200.3)\x20'+'-\x20cov[0][1'+']\x20*\x20cov[1]'+'[0];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20corner.'+'aaFactor\x20='+'\x20sqrt(detO'+'rig\x20/\x20detB'+'lur);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal1\x20=\x20co'+'v[0][0]\x20+\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20offDiag'+'onal\x20=\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal2\x20=\x20co'+'v[1][1]\x20+\x20'+'0.3;\x0a\x0a\x20\x20\x20\x20'+'let\x20mid\x20=\x20'+'0.5\x20*\x20(dia'+'gonal1\x20+\x20d'+'iagonal2);'+'\x0a\x20\x20\x20\x20let\x20r'+'adius\x20=\x20le'+'ngth(vec2f'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20let\x20lambd'+'a1\x20=\x20mid\x20+'+'\x20radius;\x0a\x20'+'\x20\x20\x20let\x20lam'+'bda2\x20=\x20max'+'(mid\x20-\x20rad'+'ius,\x200.1);'+'\x0a\x0a\x20\x20\x20\x20//\x20U'+'se\x20the\x20sma'+'ller\x20viewp'+'ort\x20dimens'+'ion\x20to\x20lim'+'it\x20the\x20ker'+'nel\x20size\x20r'+'elative\x20to'+'\x20the\x20scree'+'n\x20resoluti'+'on.\x0a\x20\x20\x20\x20le'+'t\x20vmin\x20=\x20m'+'in(1024.0,'+'\x20min(unifo'+'rm.viewpor'+'t.x,\x20unifo'+'rm.viewpor'+'t.y));\x0a\x0a\x20\x20'+'\x20\x20let\x20l1\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda1)'+',\x20vmin);\x0a\x20'+'\x20\x20\x20let\x20l2\x20'+'=\x202.0\x20*\x20mi'+'n(sqrt(2.0'+'\x20*\x20lambda2')+('),\x20vmin);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly-out\x20ga'+'ussians\x20sm'+'aller\x20than'+'\x202\x20pixels\x0a'+'\x20\x20\x20\x20if\x20(l1'+'\x20<\x202.0\x20&&\x20'+'l2\x20<\x202.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20fal'+'se;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'uniform.vi'+'ewport;\x0a\x0a\x20'+'\x20\x20\x20//\x20cull'+'\x20against\x20f'+'rustum\x20x/y'+'\x20axes\x0a\x20\x20\x20\x20'+'if\x20(any((a'+'bs(center.'+'proj.xy)\x20-'+'\x20vec2f(max'+'(l1,\x20l2))\x20'+'*\x20c)\x20>\x20cen'+'ter.proj.w'+'w))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20diagona'+'lVector\x20=\x20'+'normalize('+'vec2f(offD'+'iagonal,\x20l'+'ambda1\x20-\x20d'+'iagonal1))'+';\x0a\x20\x20\x20\x20let\x20'+'v1\x20=\x20l1\x20*\x20'+'diagonalVe'+'ctor;\x0a\x20\x20\x20\x20'+'let\x20v2\x20=\x20l'+'2\x20*\x20vec2f('+'diagonalVe'+'ctor.y,\x20-d'+'iagonalVec'+'tor.x);\x20//'+'\x20Swizzle\x0a\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20=\x20'+'(source.co'+'rnerUV.x\x20*'+'\x20v1\x20+\x20sour'+'ce.cornerU'+'V.y\x20*\x20v2)\x20'+'*\x20c;\x0a\x20\x20\x20\x20c'+'orner.uv\x20='+'\x20source.co'+'rnerUV;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),JM='\x0avar\x20trans'+'formA:\x20tex'+'ture_2d<u3'+'2>;\x0avar\x20tr'+'ansformB:\x20'+'texture_2d'+'<f32>;\x0a\x0a//'+'\x20work\x20valu'+'es\x0avar<pri'+'vate>\x20tAw:'+'\x20u32;\x0a\x0a//\x20'+'read\x20the\x20m'+'odel-space'+'\x20center\x20of'+'\x20the\x20gauss'+'ian\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20let\x20'+'tA:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20t'+'Aw\x20=\x20tA.w;'+'\x0a\x20\x20\x20\x20retur'+'n\x20bitcast<'+'vec3f>(tA.'+'xyz);\x0a}\x0a\x0af'+'n\x20unpackRo'+'tation(pac'+'ked:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'packed.xyz'+',\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(pack'+'ed,\x20packed'+'))));\x0a}\x0a\x0a/'+'/\x20sample\x20c'+'ovariance\x20'+'vectors\x0afn'+'\x20readCovar'+'iance(sour'+'ce:\x20ptr<fu'+'nction,\x20Sp'+'latSource>'+',\x20covA_ptr'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20covB_p'+'tr:\x20ptr<fu'+'nction,\x20ve'+'c3f>)\x20{\x0a\x20\x20'+'\x20\x20let\x20tB:\x20'+'vec4f\x20=\x20te'+'xtureLoad('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20let\x20rot:'+'\x20mat3x3f\x20='+'\x20quatToMat'+'3(unpackRo'+'tation(vec'+'3f(unpack2'+'x16float(b'+'itcast<u32'+'>(tAw)),\x20t'+'B.w)).wxyz'+');\x0a\x20\x20\x20\x20let'+'\x20scale:\x20ve'+'c3f\x20=\x20tB.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x20M\x20=\x20S\x20*\x20'+'R\x0a\x20\x20\x20\x20let\x20'+'M\x20=\x20transp'+'ose(mat3x3'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20*covA_p'+'tr\x20=\x20vec3f'+'(dot(M[0],'+'\x20M[0]),\x20do'+('t(M[0],\x20M['+'1]),\x20dot(M'+'[0],\x20M[2])'+');\x0a\x20\x20\x20\x20*co'+'vB_ptr\x20=\x20v'+'ec3f(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a'),eD='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0afn\x20'+'prepareOut'+'putFromGam'+'ma(gammaCo'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20TONEMAP\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20G'+'AMMA\x20==\x20NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nvert\x20to\x20l'+'inear\x20spac'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20decodeGam'+'ma3(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20gamma\x20'+'space\x20colo'+'r\x20directly'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'gammaColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ap'+'ply\x20tonema'+'pping\x20in\x20l'+'inear\x20spac'+'e\x20and\x20outp'+'ut\x20to\x20line'+'ar\x20or\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20gam'+'ma\x20(which\x20'+'is\x20handled'+'\x20by\x20gammaC'+'orrectOutp'+'ut)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaCorrec'+'tOutput(to'+'neMap(deco'+'deGamma3(g'+'ammaColor)'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',tD='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20PICK_PAS'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22pick'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_PASS)\x20||\x20'+'defined(PI'+'CK_PASS)\x20|'+'|\x20defined('+'PREPASS_PA'+'SS)\x0a\x20\x20\x20\x20un'+'iform\x20alph'+'aClip:\x20f32'+';\x0a#endif\x0a\x0a'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vLinearD'+'epth:\x20f32;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22float'+'AsUintPS\x22\x0a'+'#endif\x0a\x0a//'+'\x20Fast\x20appr'+'oximate\x20e^'+'x\x20based\x20on'+'\x20https://n'+'ic.schraud'+'olph.org/p'+'ubs/Schrau'+'dolph99.pd'+'f\x0aconst\x20EX'+'P_A:\x20f32\x20\x20'+'\x20\x20\x20\x20=\x201210'+'2203.0;\x20\x20\x20'+'//\x20\x202^23\x20'+'/\x20ln(2)\x0aco'+'nst\x20EXP_BC'+'_RMS:\x20i32\x20'+'=\x2010648668'+'08;\x20\x20\x20//\x20('+'127\x20<<\x2023)'+'\x20-\x2060801\x20*'+'\x208\x0afn\x20fast'+'Exp(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20var\x20i'+':\x20i32\x20=\x20i3'+'2(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20bi'+'tcast<f32>'+'(i);\x0a}\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x0a\x20\x20\x20'+'\x20let\x20A:\x20f3'+'2\x20=\x20dot(ga'+'ussianUV,\x20'+'gaussianUV'+');\x0a\x20\x20\x20\x20if\x20'+'(A\x20>\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20alpha'+'\x0a\x20\x20\x20\x20var\x20a'+'lpha:\x20f32\x20'+'=\x20fastExp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+('Color.a;\x0a\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(al'+'pha\x20<\x20unif'+'orm.alphaC'+'lip)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20PI'+'CK_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20getPickO'+'utput();\x0a\x0a'+'\x20\x20\x20\x20#elif\x20'+'SHADOW_PAS'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(0.0,\x200.0'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20PREPAS'+'S_PASS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20float2vec'+'4(vLinearD'+'epth);\x0a\x0a\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20('+'1.0\x20/\x20255.'+'0))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20opaci'+'tyDither(&'+'alpha,\x20id\x20'+'*\x200.013);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(input'+'.gaussianC'+'olor.xyz,\x20'+'alpha);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'),sD='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0afn\x20unpack'+'111011s(bi'+'ts:\x20u32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20(vec3f((v'+'ec3<u32>(b'+'its)\x20>>\x20ve'+'c3<u32>(21'+'u,\x2011u,\x200u'+'))\x20&\x20vec3<'+'u32>(0x7ff'+'u,\x200x3ffu,'+'\x200x7ffu))\x20'+'/\x20vec3f(20'+'47.0,\x201023'+'.0,\x202047.0'+'))\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0as'+'truct\x20Scal'+'eAndSH\x20{\x0a\x20'+'\x20\x20\x20scale:\x20'+'f32,\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f\x0a};\x0a\x0a'+'//\x20fetch\x20q'+'uantized\x20s'+'pherical\x20h'+'armonic\x20co'+'efficients'+'\x0afn\x20fetchS'+'cale(t_in:'+'\x20vec4<u32>'+')\x20->\x20Scale'+'AndSH\x20{\x0a\x20\x20'+'\x20\x20var\x20resu'+'lt:\x20ScaleA'+'ndSH;\x0a\x20\x20\x20\x20'+'result.sca'+'le\x20=\x20bitca'+'st<f32>(t_'+'in.x);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20unpack11'+'1011s(t_in'+'.y);\x0a\x20\x20\x20\x20r'+'esult.b\x20=\x20'+'unpack1110'+'11s(t_in.z'+');\x0a\x20\x20\x20\x20res'+'ult.c\x20=\x20un'+'pack111011'+'s(t_in.w);'+'\x0a\x20\x20\x20\x20retur'+'n\x20result;\x0a'+'}\x0a\x0astruct\x20'+'SH\x20{\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20d:\x20vec3f\x0a'+'};\x0a\x0a//\x20fet'+'ch\x20quantiz'+'ed\x20spheric'+'al\x20harmoni'+'c\x20coeffici'+'ents\x0afn\x20fe'+'tch4(t_in:'+'\x20vec4<u32>'+')\x20->\x20SH\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'sult:\x20SH;\x0a'+'\x20\x20\x20\x20result'+'.a\x20=\x20unpac'+'k111011s(t'+'_in.x);\x0a\x20\x20'+'\x20\x20result.b'+'\x20=\x20unpack1'+'11011s(t_i'+'n.y);\x0a\x20\x20\x20\x20'+'result.c\x20='+'\x20unpack111'+'011s(t_in.'+'z);\x0a\x20\x20\x20\x20re'+'sult.d\x20=\x20u'+'npack11101'+'1s(t_in.w)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20result;'+'\x0a}\x0a\x0afn\x20fet'+'ch1(t_in:\x20'+'u32)\x20->\x20ve'+('c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20unp'+'ack111011s'+'(t_in);\x0a}\x0a'+'\x0a#if\x20SH_BA'+'NDS\x20==\x201\x0a\x20'+'\x20\x20\x20var\x20spl'+'atSH_1to3:'+'\x20texture_2'+'d<u32>;\x0a\x0a\x20'+'\x20\x20\x20fn\x20read'+'SHData(sou'+'rce:\x20ptr<f'+'unction,\x20S'+'platSource'+'>,\x20sh:\x20ptr'+'<function,'+'\x20array<vec'+'3f,\x203>>,\x20s'+'cale:\x20ptr<'+'function,\x20'+'f32>)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'result\x20=\x20f'+'etchScale('+'textureLoa'+'d(splatSH_'+'1to3,\x20sour'+'ce.uv,\x200))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'*scale\x20=\x20r'+'esult.scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[0]\x20=\x20r'+'esult.a;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'1]\x20=\x20resul'+'t.b;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[2]\x20='+'\x20result.c;'+'\x0a\x20\x20\x20\x20}\x0a#el'+'if\x20SH_BAND'+'S\x20==\x202\x0a\x20\x20\x20'+'\x20var\x20splat'+'SH_1to3:\x20t'+'exture_2d<'+'u32>;\x0a\x20\x20\x20\x20'+'var\x20splatS'+'H_4to7:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_8to11:\x20te'+'xture_2d<u'+'32>;\x0a\x0a\x20\x20\x20\x20'+'fn\x20readSHD'+'ata(source'+':\x20ptr<func'+'tion,\x20Spla'+'tSource>,\x20'+'sh:\x20ptr<fu'+'nction,\x20ar'+'ray<vec3f,'+'\x208>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se')+('cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20='+'\x20fetch1(te'+'xtureLoad('+'splatSH_8t'+'o11,\x20sourc'+'e.uv,\x200).x'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_1to3:\x20tex'+'ture_2d<u3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20splatSH_'+'4to7:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_8'+'to11:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_1'+'2to15:\x20tex'+'ture_2d<u3'+'2>;\x0a\x0a\x20\x20\x20\x20f'+'n\x20readSHDa'+'ta(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20s'+'h:\x20ptr<fun'+'ction,\x20arr'+'ay<vec3f,\x20'+'15>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se'+'cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20thi'+'rd:\x20SH\x20=\x20f'+'etch4(text'+'ureLoad(sp'+'latSH_8to1'+'1,\x20source.'+'uv,\x200));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'7]\x20=\x20third'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20=\x20'+'third.b;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'9]\x20=\x20third'+'.c;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[10]\x20='+'\x20third.d;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20fourth:'+'\x20SH\x20=\x20fetc'+'h4(texture'+'Load(splat'+'SH_12to15,')+('\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[11'+']\x20=\x20fourth'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[12]\x20='+'\x20fourth.b;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[13]\x20=\x20fo'+'urth.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20=\x20fourt'+'h.d;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a\x0a#'+'endif\x0a'),iD='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c3f;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20xy:\x20'+'cornerUV,\x20'+'z:\x20render\x20'+'order\x20offs'+'et\x0aattribu'+'te\x20vertex_'+'id_attrib:'+'\x20u32;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'nder\x20order'+'\x20base\x0a\x0auni'+'form\x20numSp'+'lats:\x20u32;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20total\x20nu'+'mber\x20of\x20sp'+'lats\x0avar\x20s'+'platOrder:'+'\x20texture_2'+'d<u32>;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'per-splat\x20'+'index\x20to\x20s'+'ource\x20gaus'+'sian\x0a\x0a//\x20i'+'nitialize\x20'+'the\x20splat\x20'+'source\x20str'+'ucture\x0afn\x20'+'initSource'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20let\x20w:\x20u3'+'2\x20=\x20textur'+'eDimension'+'s(splatOrd'+'er,\x200).x;\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20u3'+'2(vertex_p'+'osition.z)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'return\x20if\x20'+'out\x20of\x20ran'+'ge\x20(since\x20'+'the\x20last\x20b'+'lock\x20of\x20sp'+'lats\x20may\x20b'+'e\x20partiall'+'y\x20full)\x0a\x20\x20'+'\x20\x20if\x20(sour'+'ce.order\x20>'+'=\x20uniform.'+'numSplats)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20fa'+'lse;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'orderUV\x20=\x20'+'vec2i(vec2'+'u(source.o'+'rder\x20%\x20w,\x20'+'source.ord'+'er\x20/\x20w));\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20splat\x20i'+'d\x0a\x20\x20\x20\x20sour'+'ce.id\x20=\x20te'+'xtureLoad('+'splatOrder'+',\x20orderUV,'+'\x200).r;\x0a\x0a\x20\x20'+'\x20\x20//\x20map\x20i'+'d\x20to\x20uv\x0a\x20\x20'+'\x20\x20source.u'+'v\x20=\x20vec2i('+'vec2u(sour'+'ce.id\x20%\x20w,'+'\x20source.id'+'\x20/\x20w));\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+('turn\x20true;'+'\x0a}\x0a'),rD='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a#ifn'+'def\x20DITHER'+'_NONE\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0aconst'+'\x20discardVe'+'c:\x20vec4f\x20='+'\x20vec4f(0.0'+',\x200.0,\x202.0'+',\x201.0);\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20varying'+'\x20vLinearDe'+'pth:\x20f32;\x0a'+'#endif\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20gaussian\x20'+'details\x0a\x20\x20'+'\x20\x20var\x20sour'+'ce:\x20SplatS'+'ource;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Source(&so'+'urce))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.positi'+'on\x20=\x20disca'+'rdVec;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20let\x20model'+'Center:\x20ve'+'c3f\x20=\x20read'+'Center(&so'+'urce);\x0a\x0a\x20\x20'+'\x20\x20var\x20cent'+'er:\x20SplatC'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'&center))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20di'+'scardVec;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20pro'+'ject\x20cente'+'r\x20to\x20scree'+'n\x20space\x0a\x20\x20'+'\x20\x20var\x20corn'+'er:\x20SplatC'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(&so'+'urce,\x20&cen'+'ter,\x20&corn'+'er))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20clr:\x20vec4'+'f\x20=\x20readCo'+'lor(&sourc'+'e);\x0a\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'AA\x20compens'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr.a\x20'+('=\x20clr.a\x20*\x20'+'corner.aaF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20spher'+'ical\x20harmo'+'nics\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cal'+'culate\x20the'+'\x20model-spa'+'ce\x20view\x20di'+'rection\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'modelView3'+'x3\x20=\x20mat3x'+'3f(center.'+'modelView['+'0].xyz,\x20ce'+'nter.model'+'View[1].xy'+'z,\x20center.'+'modelView['+'2].xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dir\x20=\x20nor'+'malize(mod'+'elView3x3\x20'+'*\x20center.v'+'iew);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20sh:\x20array'+'<vec3f,\x20SH'+'_COEFFS>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20scale:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20readSHDa'+'ta(&source'+',\x20&sh,\x20&sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr\x20='+'\x20vec4f(clr'+'.xyz\x20+\x20eva'+'lSH(&sh,\x20d'+'ir)\x20*\x20scal'+'e,\x20clr.a);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(&c'+'orner,\x20clr'+'.w);\x0a\x0a\x20\x20\x20\x20'+'//\x20write\x20o'+'utput\x0a\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4f(co'+'rner.offse'+'t,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20ou'+'tput.gauss'+'ianUV\x20=\x20co'+'rner.uv;\x0a\x20'+'\x20\x20\x20output.'+'gaussianCo'+'lor\x20=\x20vec4'+'f(prepareO'+'utputFromG'+'amma(max(c'+'lr.xyz,\x20ve'+'c3f(0.0)))'+',\x20clr.w);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'id\x20=\x20f32(s'+'ource.id);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vLinearD'+'epth\x20=\x20-ce'+'nter.view.'+'z;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),aD='\x0a\x20\x20\x20\x20attri'+'bute\x20aPosi'+'tion:\x20vec2'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20uv0:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20@vertex\x20f'+'n\x20vertexMa'+'in(input:\x20'+'VertexInpu'+'t)\x20->\x20Vert'+'exOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20vec4f(inp'+'ut.aPositi'+'on,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'uv0\x20=\x20getI'+'mageEffect'+'UV((input.'+'aPosition\x20'+'+\x201.0)\x20*\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a',nD='\x0a//\x20Indire'+'ct\x20indexed'+'\x20draw\x20call'+'\x20parameter'+'s\x0astruct\x20D'+'rawIndexed'+'IndirectAr'+'gs\x20{\x0a\x20\x20\x20\x20i'+'ndexCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Numb'+'er\x20of\x20indi'+'ces\x20to\x20dra'+'w\x0a\x20\x20\x20\x20inst'+'anceCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20instanc'+'es\x20to\x20draw'+'\x0a\x20\x20\x20\x20first'+'Index:\x20u32'+',\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Index\x20of'+'\x20the\x20first'+'\x20index\x20in\x20'+'the\x20index\x20'+'buffer\x0a\x20\x20\x20'+'\x20baseVerte'+'x:\x20i32,\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Of'+'fset\x20added'+'\x20to\x20each\x20i'+'ndex\x20befor'+'e\x20fetching'+'\x20vertex\x0a\x20\x20'+'\x20\x20firstIns'+'tance:\x20u32'+'\x20\x20\x20\x20\x20\x20//\x20F'+'irst\x20insta'+'nce\x20ID\x0a};\x0a'+'\x0a//\x20Indire'+'ct\x20non-ind'+'exed\x20draw\x20'+'call\x20param'+'eters\x0astru'+'ct\x20DrawInd'+'irectArgs\x20'+'{\x0a\x20\x20\x20\x20vert'+'exCount:\x20u'+'32,\x20\x20\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20vertice'+'s\x20to\x20draw\x0a'+'\x20\x20\x20\x20instan'+'ceCount:\x20u'+'32,\x20\x20\x20\x20\x20//'+'\x20Number\x20of'+'\x20instances'+'\x20to\x20draw\x0a\x20'+'\x20\x20\x20firstVe'+'rtex:\x20u32,'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Index\x20of\x20t'+'he\x20first\x20v'+'ertex\x0a\x20\x20\x20\x20'+'firstInsta'+'nce:\x20u32,\x20'+'\x20\x20\x20\x20//\x20Fir'+'st\x20instanc'+'e\x20ID\x0a\x20\x20\x20\x20_'+'pad:\x20u32\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Padd'+'ing\x20to\x20mat'+'ch\x20indexed'+'\x20size\x20(unu'+'sed)\x0a};\x0a',oD='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gamma'+'PS\x22\x0a\x20\x20\x20\x20va'+'rying\x20colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(decodeGam'+'ma3(input.'+'color.rgb)'+'),\x20input.c'+'olor.a);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a',lD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20matr'+'ix_model:\x20'+'mat4x4f;\x0a\x20'+'\x20\x20\x20uniform'+'\x20matrix_vi'+'ewProjecti'+'on:\x20mat4x4'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output\x20:\x20V'+'ertexOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20inpu'+'t.vertex_c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20unifor'+'m.matrix_m'+'odel\x20*\x20inp'+'ut.vertex_'+'position;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',cD='\x0auniform\x20m'+'aterial_ir'+'idescenceR'+'efractionI'+'ndex:\x20f32;'+'\x0a\x0afn\x20iride'+'scence_ior'+'ToFresnelS'+'calar(tran'+'smittedIor'+':\x20f32,\x20inc'+'identIor:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(('+'transmitte'+'dIor\x20-\x20inc'+'identIor)\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'incidentIo'+'r),\x202.0);\x0a'+'}\x0a\x0afn\x20irid'+'escence_io'+'rToFresnel'+'Vec3(trans'+'mittedIor:'+'\x20vec3f,\x20in'+'cidentIor:'+'\x20f32)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'vec3f(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3f(inci'+'dentIor)),'+'\x20vec3f(2.0'+'));\x0a}\x0a\x0afn\x20'+'iridescenc'+'e_fresnelT'+'oIor(f0:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20sqrtF'+'0:\x20vec3f\x20='+'\x20sqrt(f0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20(vec3f(1'+'.0)\x20+\x20sqrt'+'F0)\x20/\x20(vec'+'3f(1.0)\x20-\x20'+'sqrtF0);\x0a}'+'\x0a\x0aconst\x20XY'+'Z_TO_REC70'+'9:\x20mat3x3f'+'\x20=\x20mat3x3f'+'(\x0a\x20\x20\x20\x20vec3'+'f(3.240454'+'2,\x20-1.5371'+'385,\x20-0.49'+'85314),\x0a\x20\x20'+'\x20\x20vec3f(-0'+'.9692660,\x20'+'\x201.8760108'+',\x20\x200.04155'+'60),\x0a\x20\x20\x20\x20v'+'ec3f(0.055'+'6434,\x20-0.2'+'040259,\x20\x201'+'.0572252)\x0a'+');\x0a\x0afn\x20iri'+'descence_s'+'ensitivity'+'(opd:\x20f32,'+'\x20shift:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x20\x20\x20\x20let'+'\x20phase:\x20f3'+'2\x20=\x202.0\x20*\x20'+'PI\x20*\x20opd\x20*'+'\x201.0e-9;\x0a\x20'+'\x20\x20\x20const\x20v'+'al:\x20vec3f\x20'+'=\x20vec3f(5.'+'4856e-13,\x20'+'4.4201e-13'+',\x205.2481e-'+'13);\x0a\x20\x20\x20\x20c'+'onst\x20pos:\x20'+'vec3f\x20=\x20ve'+'c3f(1.6810'+'e+06,\x201.79'+('53e+06,\x202.'+'2084e+06);'+'\x0a\x20\x20\x20\x20const'+'\x20var_:\x20vec'+'3f\x20=\x20vec3f'+'(4.3278e+0'+'9,\x209.3046e'+'+09,\x206.612'+'1e+09);\x0a\x0a\x20'+'\x20\x20\x20var\x20xyz'+':\x20vec3f\x20=\x20'+'val\x20*\x20sqrt'+'(2.0\x20*\x20PI\x20'+'*\x20var_)\x20*\x20'+'cos(pos\x20*\x20'+'phase\x20+\x20sh'+'ift)\x20*\x20exp'+'(-pow(phas'+'e,\x202.0)\x20*\x20'+'var_);\x0a\x20\x20\x20'+'\x20xyz.x\x20=\x20x'+'yz.x\x20+\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+'cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20=\x20xyz\x20/\x20v'+'ec3f(1.068'+'5e-07);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'XYZ_TO_REC'+'709\x20*\x20xyz;'+'\x0a}\x0a\x0afn\x20iri'+'descence_f'+'resnelScal'+'ar(cosThet'+'a:\x20f32,\x20f0'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20x:\x20f32'+'\x20=\x20clamp(1'+'.0\x20-\x20cosTh'+'eta,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'let\x20x2:\x20f3'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20let\x20x'+'5:\x20f32\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0afn'+'\x20iridescen'+'ce_fresnel'+'Vec3(cosTh'+'eta:\x20f32,\x20'+'f0:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'x:\x20f32\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'x2:\x20f32\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20let\x20x5:\x20f'+'32\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x0a\x20\x20'+'\x20\x20return\x20f'+'0\x20+\x20(vec3f'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0afn\x20calcIr'+'idescence('+'outsideIor'+':\x20f32,\x20cos'+'Theta:\x20f32'+',\x20base_f0:'+'\x20vec3f,\x20ir'+'idescenceT'+'hickness:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0a\x20\x20\x20\x20le'+'t\x20iridesce'+'nceIor:\x20f3'+'2\x20=\x20mix(ou')+('tsideIor,\x20'+'uniform.ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20let\x20s'+'inTheta2Sq'+':\x20f32\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c'+'osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2Sq:\x20f32'+'\x20=\x201.0\x20-\x20s'+'inTheta2Sq'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(cosTheta2'+'Sq\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3f(1.0);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2:\x20f32\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20let\x20r'+'0:\x20f32\x20=\x20i'+'ridescence'+'_iorToFres'+'nelScalar('+'iridescenc'+'eIor,\x20outs'+'ideIor);\x0a\x20'+'\x20\x20\x20let\x20r12'+':\x20f32\x20=\x20ir'+'idescence_'+'fresnelSca'+'lar(cosThe'+'ta,\x20r0);\x0a\x20'+'\x20\x20\x20let\x20r21'+':\x20f32\x20=\x20r1'+'2;\x0a\x20\x20\x20\x20let'+'\x20t121:\x20f32'+'\x20=\x201.0\x20-\x20r'+'12;\x0a\x0a\x20\x20\x20\x20l'+'et\x20phi12:\x20'+'f32\x20=\x20sele'+'ct(0.0,\x20PI'+',\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor)'+';\x0a\x20\x20\x20\x20let\x20'+'phi21:\x20f32'+'\x20=\x20PI\x20-\x20ph'+'i12;\x0a\x0a\x20\x20\x20\x20'+'let\x20baseIo'+'r:\x20vec3f\x20='+'\x20iridescen'+'ce_fresnel'+'ToIor(base'+'_f0\x20+\x20vec3'+'f(0.0001))'+';\x0a\x20\x20\x20\x20let\x20'+'r1:\x20vec3f\x20'+'=\x20iridesce'+'nce_iorToF'+'resnelVec3'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20let\x20r23:\x20'+'vec3f\x20=\x20ir'+'idescence_'+'fresnelVec'+'3(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20let\x20phi'+'23:\x20vec3f\x20'+'=\x20select(v'+'ec3f(0.0),'+'\x20vec3f(PI)'+',\x20baseIor\x20'+'<\x20vec3f(ir'+'idescenceI'+'or));\x0a\x20\x20\x20\x20'+'let\x20opd:\x20f'+'32\x20=\x202.0\x20*'+'\x20iridescen'+'ceIor\x20*\x20ir'+'idescenceT')+('hickness\x20*'+'\x20cosTheta2'+';\x0a\x20\x20\x20\x20let\x20'+'phi:\x20vec3f'+'\x20=\x20vec3f(p'+'hi21)\x20+\x20ph'+'i23;\x20//\x20Pr'+'omote\x20scal'+'ar\x20phi21\x20t'+'o\x20vec3f\x0a\x0a\x20'+'\x20\x20\x20let\x20r12'+'3Sq:\x20vec3f'+'\x20=\x20clamp(v'+'ec3f(r12)\x20'+'*\x20r23,\x20vec'+'3f(1e-5),\x20'+'vec3f(0.99'+'99));\x0a\x20\x20\x20\x20'+'let\x20r123:\x20'+'vec3f\x20=\x20sq'+'rt(r123Sq)'+';\x0a\x20\x20\x20\x20let\x20'+'rs:\x20vec3f\x20'+'=\x20pow(vec3'+'f(t121),\x20v'+'ec3f(2.0))'+'\x20*\x20r23\x20/\x20('+'vec3f(1.0)'+'\x20-\x20r123Sq)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20c0:\x20vec3f'+'\x20=\x20vec3f(r'+'12)\x20+\x20rs;\x0a'+'\x20\x20\x20\x20var\x20i_'+'irid:\x20vec3'+'f\x20=\x20c0;\x0a\x0a\x20'+'\x20\x20\x20var\x20cm:'+'\x20vec3f\x20=\x20r'+'s\x20-\x20vec3f('+'t121);\x0a\x0a\x20\x20'+'\x20\x20cm\x20=\x20cm\x20'+'*\x20r123;\x0a\x20\x20'+'\x20\x20let\x20sm1:'+'\x20vec3f\x20=\x202'+'.0\x20*\x20iride'+'scence_sen'+'sitivity(1'+'.0\x20*\x20opd,\x20'+'1.0\x20*\x20phi)'+';\x0a\x20\x20\x20\x20i_ir'+'id\x20=\x20i_iri'+'d\x20+\x20cm\x20*\x20s'+'m1;\x0a\x0a\x20\x20\x20\x20c'+'m\x20=\x20cm\x20*\x20r'+'123;\x0a\x20\x20\x20\x20l'+'et\x20sm2:\x20ve'+'c3f\x20=\x202.0\x20'+'*\x20iridesce'+'nce_sensit'+'ivity(2.0\x20'+'*\x20opd,\x202.0'+'\x20*\x20phi);\x0a\x20'+'\x20\x20\x20i_irid\x20'+'=\x20i_irid\x20+'+'\x20cm\x20*\x20sm2;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20max(i_i'+'rid,\x20vec3f'+'(0.0));\x0a}\x0a'+'\x0afn\x20getIri'+'descenceDi'+'ffraction('+'cosTheta:\x20'+'f32,\x20specu'+'larity:\x20ve'+'c3f,\x20iride'+'scenceThic'+'kness:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),hD='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_irides'+'cence:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getIrid'+'escence()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'iridescenc'+'e\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_CON'+'STANT\x0a\x20\x20\x20\x20'+'iridescenc'+'e\x20=\x20irides'+'cence\x20*\x20un'+'iform.mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20=\x20iridesc'+'ence\x20*\x20tex'+'tureSample'+'Bias({STD_'+'IRIDESCENC'+'E_TEXTURE_'+'NAME},\x20{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_CHANNEL}'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dI'+'ridescence'+'\x20=\x20iridesc'+'ence;\x20\x0a}\x0a',dD='\x0auniform\x20m'+'aterial_ir'+'idescenceT'+'hicknessMa'+'x:\x20f32;\x0a\x0a#'+'ifdef\x20STD_'+'IRIDESCENC'+'ETHICKNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20uniform'+'\x20material_'+'iridescenc'+'eThickness'+'Min:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20blen'+'d:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_IRIDESCE'+'NCETHICKNE'+'SS_TEXTURE'+'_NAME},\x20{S'+'TD_IRIDESC'+'ENCETHICKN'+'ESS_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20iridesce'+'nceThickne'+'ss:\x20f32\x20=\x20'+'mix(unifor'+'m.material'+'_iridescen'+'ceThicknes'+'sMin,\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax,\x20bl'+'end);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceT'+'hickness:\x20'+'f32\x20=\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scenceThic'+'kness\x20=\x20ir'+'idescenceT'+'hickness;\x20'+'\x0a}\x0a',fD='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_refr'+'actionInde'+'x:\x20f32;\x0a#e'+'ndif\x0a\x0afn\x20g'+'etIor()\x20{\x0a'+'#ifdef\x20STD'+'_IOR_CONST'+'ANT\x0a\x20\x20\x20\x20dI'+'or\x20=\x20unifo'+'rm.materia'+'l_refracti'+'onIndex;\x0a#'+'else\x0a\x20\x20\x20\x20d'+'Ior\x20=\x201.0\x20'+'/\x201.5;\x0a#en'+'dif\x0a}\x0a',uD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_color'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_direction'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_POINT\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20poi'+'nt\x20lights\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20lig'+'ht{i}_posi'+'tion:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ra'+'dius:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'SPOT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_SPOT\x20//\x20'+'include\x20fu'+'nctionalit'+'y\x20for\x20spot'+'\x20lights\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_di'+'rection:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_inner'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_outer'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_FALLOFF_'+'SQUARED\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20inv'+'erse\x20squar'+'ed\x20falloff'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_position:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ha'+'lfWidth:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_halfHeigh'+'t:\x20vec3f;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}FALLOFF\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_LINE'+'AR\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20linear\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}FALLOFF'+'\x20==\x20INVERS'+'ESQUARED\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_SQUA'+'RED\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20inverse'+'\x20squared\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20shadow\x20c'+'asting\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowMatri'+'x:\x20mat4x4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20li'+'ght{i}_sha'+'dowIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'{i}_shadow'+'Params:\x20ve'+'c4f;\x20//\x20wi'+'dth,\x20heigh'+'t,\x20bias,\x20r'+'adius\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowSearc'+'hArea:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_cameraPar'+'ams:\x20vec4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'oftShadowP'+'arams:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'directiona'+'l\x20(cascade'+'d)\x20shadows'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20light{i}_'+'shadowMatr'+'ixPalette:'+'\x20array<mat'+'4x4f,\x204>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deDistance'+'s:\x20vec4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deCount:\x20i'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20light{'+'i}_shadowC'+'ascadeBlen'+'d:\x20f32;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20N'+'OT\x20SUPPORT'+'ED\x0a/*\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIG'+'HT{i}SHADO'+'W_PCF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMap:\x20tex'+'ture_depth'+'_2d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'{i}_shadow'+'MapSampler'+':\x20sampler_'+'comparison'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'light{i}_s'+'hadowMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMapSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIGHT{i}CO'+'OKIE)\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_COOKIE\x20/'+'/\x20include\x20'+'functional'+'ity\x20for\x20co'+'okies\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20OMNI\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20NOT\x20SUPP'+'ORTED\x0a/*\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'plerCube\x20l'+'ight{i}_co'+'okie;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un')+('iform\x20floa'+'t\x20light{i}'+'_cookieInt'+'ensity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20!defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20light{i}'+'_shadowMat'+'rix;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20NO'+'T\x20SUPPORTE'+'D\x0a/*\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_cookie;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_cook'+'ieIntensit'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20!'+'defined(LI'+'GHT{i}CAST'+'SHADOW)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrix;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}COOKIE_TR'+'ANSFORM)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_coo'+'kieMatrix;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'light{i}_c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a*/\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),pD='\x0afn\x20getLig'+'htDiffuse('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',mD='\x0afn\x20evalOm'+'niLight(li'+'ghtPosW:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a}\x0a',_D='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',gD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0afn\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x20\x20\x20'+'\x20//\x20light\x20'+'color\x0a\x20\x20\x20\x20'+'var\x20lightC'+'olor:\x20vec3'+'f\x20=\x20unifor'+'m.light{i}'+'_color;\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20!d'+'efined(LIT'+'_SHADOW_CA'+'TCHER)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ea'+'rly\x20return'+'\x20if\x20the\x20li'+'ght\x20color\x20'+'is\x20black\x20('+'used\x20by\x20sh'+'adow\x20catch'+'er\x20-\x20this\x20'+'way\x20this\x20l'+'ight\x20is\x20ve'+'ry\x20cheap)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(all(ligh'+'tColor\x20==\x20'+'vec3f(0.0,'+'\x200.0,\x200.0)'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20DIRECTION'+'AL\x20//\x20dire'+'ctional\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightD'+'irNormW\x20=\x20'+'uniform.li'+'ght{i}_dir'+'ection;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20omni\x20o'+'r\x20spot\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(u'+'niform.lig'+'ht{i}_posi'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tDirNormW\x20'+'=\x20normaliz'+'e(lightDir'+'W);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIGHT'+'{i}COOKIE)'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20SPOT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_FAL'+'LOFF\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+('eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DXform(u'+'niform.lig'+'ht{i}_cook'+'ie,\x20unifor'+'m.light{i}'+'_shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_cookieIn'+'tensity,\x20u'+'niform.lig'+'ht{i}_cook'+'ieMatrix,\x20'+'uniform.li'+'ght{i}_coo'+'kieOffset)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookie2D('+'uniform.li'+'ght{i}_coo'+'kie,\x20unifo'+'rm.light{i'+'}_shadowMa'+'trix,\x20unif'+'orm.light{'+'i}_cookieI'+'ntensity).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClipXfo'+'rm(uniform'+'.light{i}_'+'cookie,\x20un'+'iform.ligh'+'t{i}_shado'+'wMatrix,\x20u'+'niform.lig'+'ht{i}_cook'+'ieIntensit'+'y,\x20uniform'+'.light{i}_'+'cookieMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieOff'+'set).{LIGH'+'T{i}COOKIE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClip(un'+'iform.ligh'+'t{i}_cooki'+'e,\x20uniform'+'.light{i}_'+'shadowMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieInt'+'ensity).{L'+'IGHT{i}COO'+'KIE_CHANNE'+'L};\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookieCub'+'e(uniform.'+'light{i}_c'+'ookie,\x20uni'+'form.light'+'{i}_shadow'+'Matrix,\x20un'+'iform.ligh'+'t{i}_cooki'+'eIntensity'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multipl'+'y\x20light\x20co'+'lor\x20by\x20the'+'\x20cookie\x20at'+'tenuation\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightCol'+'or\x20=\x20light'+'Color\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dista'+'nce\x20fallof'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20PUNCTUAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}FALLOF'+'F\x20==\x20LINEA'+'R\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20=\x20get'+'FalloffLin'+'ear(unifor'+'m.light{i}'+'_radius,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20getFal'+'loffInvSqu'+'ared(unifo'+'rm.light{i'+'}_radius,\x20'+'lightDirW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'non\x20punctu'+'al\x20lights\x20'+'only\x20gets\x20'+'the\x20range\x20'+'window\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'uniform.li'+'ght{i}_rad'+'ius,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20angle'+'\x20falloff\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20SPO'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d')+('efined(LIG'+'HT{i}COOKI'+'E)\x20||\x20defi'+'ned(LIGHT{'+'i}COOKIE_F'+'ALLOFF)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20dAtten\x20'+'*\x20getSpotE'+'ffect(unif'+'orm.light{'+'i}_directi'+'on,\x20unifor'+'m.light{i}'+'_innerCone'+'Angle,\x20uni'+'form.light'+'{i}_outerC'+'oneAngle,\x20'+'dLightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20if\x20'+'(dAtten\x20<\x20'+'0.00001)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20evaluate\x20'+'area\x20light'+'\x20values\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20RECT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcRectLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20calcDiskL'+'ightValues'+'(uniform.l'+'ight{i}_po'+'sition,\x20un'+'iform.ligh'+'t{i}_halfW'+'idth,\x20unif'+'orm.light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20SPH'+'ERE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20calc'+'SphereLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20dif'+'fuse\x20light'+'ing\x20-\x20LTC\x20'+'lights\x20do\x20'+'not\x20mix\x20di'+'ffuse\x20ligh'+'ting\x20into\x20'+'attenuatio'+'n\x20that\x20aff'+'ects\x20specu'+'lar\x0a\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P')+('UNCTUAL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'attenDiffu'+'se\x20-\x20separ'+'ate\x20diffus'+'e\x20attenuat'+'ion\x20for\x20no'+'n-punctual'+'\x20light\x20sou'+'rces\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20NB:\x20A\x20bet'+'ter\x20approx'+'imation\x20pe'+'rhaps\x20usin'+'g\x20wrap\x20lig'+'hting\x20coul'+'d\x20be\x20imple'+'mented\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20at'+'tenDiffuse'+':\x20f32\x20=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x2016.0\x20is\x20'+'a\x20constant'+'\x20that\x20is\x20i'+'n\x20getFallo'+'ffInvSquar'+'ed()\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20attenDi'+'ffuse:\x20f32'+'\x20=\x20getRect'+'LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20light'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20DISK\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'attenDiffu'+'se:\x20f32\x20=\x20'+'getDiskLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20lightDir'+'W,\x20dLightD'+'irNormW)\x20*'+'\x2016.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20LIGHT'+'{i}SHAPE\x20='+'=\x20SPHERE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20a'+'ttenDiffus'+'e:\x20f32\x20=\x20g'+'etSphereLi'+'ghtDiffuse'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20lightDi'+'rW,\x20dLight'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20one\x20par'+'ameter\x20is\x20'+'unused\x20for')+('\x20punctual\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20dAtten'+'\x20*\x20getLigh'+'tDiffuse(l'+'itArgs_wor'+'ldNormal,\x20'+'vec3(0.0),'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20the\x20sha'+'dow\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}CASTS'+'HADOW\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20shadow:'+'\x20f32\x20=\x20get'+'Shadow{i}('+'vec3(0.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20shadow:\x20'+'f32\x20=\x20getS'+'hadow{i}(l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Ap'+'ply\x20shadow'+'\x20intensity'+'\x20to\x20the\x20sh'+'adow\x20value'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadow\x20=\x20mi'+'x(1.0,\x20sha'+'dow,\x20unifo'+'rm.light{i'+'}_shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20dA'+'tten\x20*\x20sha'+'dow;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SHADOW_CAT'+'CHER)\x20&&\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20accumula'+'te\x20shadows'+'\x20for\x20direc'+'tional\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSha'+'dowCatcher'+'\x20=\x20dShadow'+'Catcher\x20*\x20'+'shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20-\x20they'+'\x20do\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((('+'attenDiffu'+'se\x20*\x20dAtte'+'n)\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20dLTC'+'SpecFres))')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'((attenDif'+'fuse\x20*\x20dAt'+'ten)\x20*\x20lig'+'htColor);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(AREA_'+'LIGHTS)\x20&&'+'\x20defined(L'+'IT_SPECULA'+'R)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((d'+'Atten\x20*\x20li'+'ghtColor)\x20'+'*\x20(1.0\x20-\x20l'+'itArgs_spe'+'cularity))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'(dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20spe'+'cular\x20ligh'+'ting\x0a\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}AFFECT'+'_SPECULARI'+'TY\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20==\x20REC'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getRe'+'ctLightSpe'+'cular(litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20dVi'+'ewDirW)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20ccSpec'+'ularLight\x20'+'+\x20(ccLTCSp'+'ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20SPHER'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_clea'+'rcoat_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20=\x20dS'+'pecularLig'+'ht\x20+\x20(dLTC'+'SpecFres\x20*'+'\x20getRectLi'+'ghtSpecula'+'r(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20(dLT'+'CSpecFres\x20'+'*\x20getDiskL'+'ightSpecul'+'ar(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW)\x20*\x20dAt'+'ten\x20*\x20ligh'+'tColor);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'=\x20dSpecula'+'rLight\x20+\x20('+'dLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20//\x20punctu'+'al\x20light\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20is\x20fr'+'esnel\x20need'+'ed\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC')+('TIONAL\x20&&\x20'+'LIT_FRESNE'+'L_MODEL\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ha'+'lfDirW:\x20ve'+'c3f\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20if\x20LTC\x20li'+'ghts\x20are\x20p'+'resent,\x20sp'+'ecular\x20mus'+'t\x20be\x20accum'+'ulated\x20wit'+'h\x20specular'+'ity\x20(specu'+'larity\x20is\x20'+'pre\x20multip'+'lied\x20by\x20pu'+'nctual\x20lig'+'ht\x20fresnel'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'specularCC'+':\x20vec3f\x20=\x20'+'getLightSp'+'ecular(hal'+'fDirW,\x20ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20dLightDir'+'NormW,\x20lit'+'Args_clear'+'coat_gloss'+',\x20dTBN)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightspecu'+'larCC\x20=\x20li'+'ghtspecula'+'rCC\x20*\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20halfDi'+'rW));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20=\x20ccSpecu'+'larLight\x20+'+'\x20lightspec'+'ularCC;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sSpecul'+'arLight\x20=\x20'+'sSpecularL'+'ight\x20+\x20(ge'+'tLightSpec'+'ularSheen('+'halfDirW,\x20'+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi')+('rNormW,\x20li'+'tArgs_shee'+'n_gloss)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tSpecular:'+'\x20vec3f\x20=\x20g'+'etLightSpe'+'cular(half'+'DirW,\x20dRef'+'lDirW,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20d'+'LightDirNo'+'rmW,\x20litAr'+'gs_gloss,\x20'+'dTBN)\x20*\x20dA'+'tten\x20*\x20lig'+'htColor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'FRESNEL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20=\x20li'+'ghtSpecula'+'r\x20*\x20getFre'+'snel(dot(d'+'ViewDirW,\x20'+'halfDirW),'+'\x20litArgs_g'+'loss,\x20litA'+'rgs_specul'+'arity,\x20iri'+'descenceFr'+'esnel,\x20lit'+'Args_iride'+'scence_int'+'ensity);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightSpecul'+'ar\x20=\x20light'+'Specular\x20*'+'\x20getFresne'+'l(dot(dVie'+'wDirW,\x20hal'+'fDirW),\x20li'+'tArgs_glos'+'s,\x20litArgs'+'_speculari'+'ty);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20light'+'Specular\x20='+'\x20lightSpec'+'ular\x20*\x20lit'+'Args_specu'+'larity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20+\x20li'+'ghtSpecula'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'#endif\x0a'),SD='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowSam'+'pleCoord{i'+'}(shadowTr'+'ansform:\x20m'+'at4x4f,\x20sh'+'adowParams'+':\x20vec4f,\x20w'+'orldPositi'+'on:\x20vec3f,'+'\x20lightPos:'+'\x20vec3f,\x20li'+'ghtDir:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'lightDirNo'+'rm:\x20vec3f,'+'\x20normal:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'surfacePos'+'ition\x20=\x20wo'+'rldPositio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_POINT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(*l'+'ightDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y\x20*\x20cl'+'amp(1.0\x20-\x20'+'dot(normal'+',\x20-lightDi'+'rNorm),\x200.'+'0,\x201.0)\x20*\x20'+'distScale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20*li'+'ghtDir\x20=\x20s'+'urfacePosi'+'tion\x20-\x20lig'+'htPos;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'*lightDir;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}_SHADOW_'+'SAMPLE_NOR'+'MAL_OFFSET'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_SAMP'+'LE_ORTHO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dis'+'tScale:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20distSca'+'le:\x20f32\x20=\x20'+'abs(dot(vP'+'ositionW\x20-'+'\x20lightPos,'+'\x20lightDirN'+'orm));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Use'+'\x20var\x20for\x20m'+'odificatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20po'+'sitionInSh'+'adowSpace:'+'\x20vec4f\x20=\x20s'+'hadowTrans'+'form\x20*\x20vec'+'4f(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM')+('PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20=\x20pos'+'itionInSha'+'dowSpace.x'+'yz\x20/\x20posit'+'ionInShado'+'wSpace.w;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.xy\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/\x20posi'+'tionInShad'+'owSpace.w;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20positionI'+'nShadowSpa'+'ce.z\x20=\x20len'+'gth(*light'+'Dir)\x20*\x20sha'+'dowParams.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20this\x20is\x20c'+'urrently\x20u'+'nused\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_Z'+'_BIAS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20posit'+'ionInShado'+'wSpace.z\x20+'+'=\x20getShado'+'wBias(shad'+'owParams.x'+',\x20shadowPa'+'rams.z);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sur'+'facePositi'+'on;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20evalu'+'ation\x20func'+'tion\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'w{i}(light'+'DirW_in:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20s'+'hadow\x20casc'+'ades\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_CASC'+'ADES\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20select\x20sh'+'adow\x20casca'+'de\x20matrix\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20casc'+'adeIndex:\x20'+'i32\x20=\x20getS'+'hadowCasca'+'deIndex(un'+'iform.ligh'+'t{i}_shado'+'wCascadeDi'+'stances,\x20u'+'niform.lig'+'ht{i}_shad')+('owCascadeC'+'ount);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_CASCADE'+'_BLEND\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20cascade'+'Index\x20=\x20di'+'therShadow'+'CascadeInd'+'ex(cascade'+'Index,\x20uni'+'form.light'+'{i}_shadow'+'CascadeDis'+'tances,\x20un'+'iform.ligh'+'t{i}_shado'+'wCascadeCo'+'unt,\x20unifo'+'rm.light{i'+'}_shadowCa'+'scadeBlend'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowMatri'+'x:\x20mat4x4f'+'\x20=\x20uniform'+'.light{i}_'+'shadowMatr'+'ixPalette['+'cascadeInd'+'ex];\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20sha'+'dowMatrix:'+'\x20mat4x4f\x20='+'\x20uniform.l'+'ight{i}_sh'+'adowMatrix'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20lightDirA'+'rg\x20=\x20light'+'DirW_in;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20direc'+'tional\x20lig'+'ht\x20does\x20no'+'t\x20have\x20a\x20p'+'osition\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20getSh'+'adowSample'+'Coord{i}(s'+'hadowMatri'+'x,\x20uniform'+'.light{i}_'+'shadowPara'+'ms,\x20vPosit'+'ionW,\x20vec3'+'f(0.0),\x20&l'+'ightDirArg'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owCoord:\x20v'+'ec3f\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_shadowPa'+'rams,\x20vPos'+'itionW,\x20un'+'iform.ligh'+'t{i}_posit'+'ion,\x20&ligh'+'tDirArg,\x20d'+'LightDirNo'+'rmW,\x20dVert'+'exNormalW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('#endif\x0a\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Fade\x20direc'+'tional\x20sha'+'dow\x20at\x20the'+'\x20far\x20dista'+'nce\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'owCoord\x20=\x20'+'fadeShadow'+'(shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowCas'+'cadeDistan'+'ces);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20-----\x20s'+'ample\x20the\x20'+'shadow\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20---'+'--\x20directi'+'onal\x20light'+'\x20-----\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20VSM_'+'16F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowVSM1'+'6(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s,\x205.54);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20VS'+'M_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowVS'+'M32(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x2015.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2f(lengt'+'h(uniform.'+'light{i}_h'+'alfWidth),'+'\x20length(un'+'iform.ligh'+'t{i}_halfH'+'eight))\x20*\x20'+'uniform.li'+'ght{i}_sha'+'dowSearchA'+'rea;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCSS(ligh'+'t{i}_shado'+'wMap,\x20ligh'+'t{i}_shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20unif'+'orm.light{'+'i}_shadowP'+'arams,\x20uni'+'form.light'+'{i}_camera'+'Params,\x20sh'+'adowSearch'+'Area,\x20ligh'+'tDirW_in);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CSS(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x20unifo'+'rm.light{i'+'}_cameraPa'+'rams,\x20unif'+'orm.light{'+'i}_softSha'+'dowParams,'+'\x20lightDirW'+'_in);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF1_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF1x1('+'light{i}_s'+'hadowMap,\x20'+'light{i}_s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'uniform.li'+'ght{i}_sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_16F\x20|'+'|\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF3_3'+'2F\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowPCF3x'+'3(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_16F'+'\x20||\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF5')+('_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x20//\x20-'+'----\x20spot\x20'+'light\x20----'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM16'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x205.54,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM32'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x2015.0,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20!=\x20PU'+'NCTUAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f\x20=\x20vec'+'2f(length('+'uniform.li'+'ght{i}_hal'+'fWidth),\x20l'+'ength(unif'+'orm.light{'+'i}_halfHei'+'ght))\x20*\x20un'+'iform.ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowSearc'+'hArea:\x20vec')+('2f\x20=\x20vec2f'+'(uniform.l'+'ight{i}_sh'+'adowSearch'+'Area);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCSS'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x20uniform.'+'light{i}_c'+'ameraParam'+'s,\x20shadowS'+'earchArea,'+'\x20lightDirW'+'_in);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'16F\x20||\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF1_32F\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF1x1'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'5_16F\x20||\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF5_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCF5'+'x5(light{i'+'}_shadowMa'+'p,\x20light{i'+'}_shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20uniform'+'.light{i}_'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20')+('\x20\x20\x20#endif\x0a'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x20//\x20--'+'---\x20omni\x20l'+'ight\x20-----'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f;\x20//\x20U'+'se\x20var\x20bec'+'ause\x20assig'+'ned\x20in\x20if/'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owSearchAr'+'ea:\x20vec2f\x20'+'=\x20vec2f(le'+'ngth(unifo'+'rm.light{i'+'}_halfWidt'+'h),\x20length'+'(uniform.l'+'ight{i}_ha'+'lfHeight))'+'\x20*\x20uniform'+'.light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'SearchArea'+':\x20vec2f\x20=\x20'+'vec2f(unif'+'orm.light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20un'+'iform.ligh'+'t{i}_camer'+'aParams,\x20s'+'hadowSearc'+'hArea,\x20lig'+'htDirW_in)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in')+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),yD='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'var\x20areaLi'+'ghtsLutTex'+'1:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20areaLight'+'sLutTex2:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20areaL'+'ightsLutTe'+'x2Sampler:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'omni\x20/\x20spo'+'t\x20PCSS\x20is\x20'+('not\x20suppor'+'ted\x20on\x20Web'+'GPU\x20curren'+'tly,\x20as\x20th'+'is\x20is\x20only'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0a\x20\x20\x20\x20'+'//\x20#includ'+'e\x20\x22shadowP'+'CSSPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22shadowSof'+'tPS\x22\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(SHADO'+'W_KIND_VSM'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owEVSMPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22falloff'+'LinearPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_SQUARED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fallof'+'fInvSquare'+'dPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_CODE_L'+'IGHTS_POIN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDirPointP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22spotPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'CODE_COOKI'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22cook'+'iePS\x22\x0a#end'+'if\x0a\x0a//\x20clu'+'stered\x20lig'+'hting\x0a#ifd'+'ef\x20LIT_CLU'+'STERED_LIG'+'HTS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22cl'+'usteredLig'+'htPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIGHT_COU'+'NT\x20>\x200\x0a\x20\x20\x20'+'\x20//\x20LOOP\x20-'+'\x20generate\x20'+'shadow\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionShadow'+'PS,\x20LIGHT_'+'COUNT\x22\x0a\x0a\x20\x20'+'\x20\x20//\x20LOOP\x20'+'-\x20generate'+'\x20light\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionLightP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a'),vD='\x0afn\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20lightmap:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20dir:\x20vec'+'3f,\x0a\x20\x20\x20\x20wo'+'rldNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20viewDir:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20reflecti'+'onDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20ve'+'rtexNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20tbn:\x20ma'+'t3x3f\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20iridesce'+'nceIntensi'+'ty:\x20f32\x0a#e'+'ndif\x0a)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x20&&'+'\x20defined(L'+'IT_DIR_LIG'+'HTMAP)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'dot(dir,\x20d'+'ir)\x20<\x200.00'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20dD'+'iffuseLigh'+'t\x20+\x20lightm'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20vli'+'ght:\x20f32\x20='+'\x20saturate('+'dot(dir,\x20-'+'vertexNorm'+'al));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20flight:\x20'+'f32\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20nlig'+'ht:\x20f32\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20=\x20dDiff'+'useLight\x20+'+'\x20lightmap\x20'+'*\x20nlight\x20*'+'\x202.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20halfDir'+':\x20vec3f\x20=\x20'+'normalize('+'-dir\x20+\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20specula'+'rLight:\x20ve'+'c3f\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+('_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'=\x20specular'+'Light\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(d'+'ot(viewDir'+',\x20halfDir)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20,\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20specularL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'non-direct'+'ional\x20ligh'+'tmap\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20+\x20ligh'+'tmap;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),xD='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'var<privat'+'e>\x20dLightm'+'apDir:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'dirLightMa'+'p:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_dirL'+'ightMapSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0afn\x20getL'+'ightMap()\x20'+'{\x0a\x0a\x20\x20\x20\x20dLi'+'ghtmap\x20=\x20v'+'ec3f(1.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_TEXTURE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Lightmap\x20='+'\x20dLightmap'+'\x20*\x20{STD_LI'+'GHT_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_LIGHT_T'+'EXTURE_NAM'+'E},\x20{STD_L'+'IGHT_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+')).{STD_LI'+'GHT_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_LIGHTMAP'+'_DIR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20dir:\x20vec3'+'f\x20=\x20textur'+'eSampleBia'+'s(texture_'+'dirLightMa'+'p,\x20texture'+'_dirLightM'+'apSampler,'+'\x20{STD_LIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).xyz\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20d'+'irDot\x20=\x20do'+'t(dir,\x20dir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tmapDir\x20=\x20'+'select(vec'+'3(0.0),\x20di'+'r\x20/\x20sqrt(d'+'irDot),\x20di'+'rDot\x20>\x200.0'+'01);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dL'+'ightmap\x20=\x20'+'dLightmap\x20'+'*\x20saturate'+'(vVertexCo'+'lor.{STD_L'+'IGHT_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',TD='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'fn\x20calcLig'+'htSpecular'+'(gloss:\x20f3'+'2,\x20worldNo'+'rmal:\x20vec3'+'f,\x20viewDir'+':\x20vec3f,\x20h'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'tbn:\x20mat3x'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20PI:\x20f32\x20='+'\x203.1415926'+'53589793;\x0a'+'\x20\x20\x20\x20let\x20ro'+'ughness:\x20f'+'32\x20=\x20max(('+'1.0\x20-\x20glos'+'s)\x20*\x20(1.0\x20'+'-\x20gloss),\x20'+'0.001);\x0a\x20\x20'+'\x20\x20let\x20alph'+'aRoughness'+':\x20f32\x20=\x20ro'+'ughness\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20let\x20a'+'nisotropy:'+'\x20f32\x20=\x20dAn'+'isotropy;\x0a'+'\x20\x20\x20\x20let\x20di'+'rection:\x20v'+'ec2f\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x0a\x20'+'\x20\x20\x20let\x20at:'+'\x20f32\x20=\x20mix'+'(alphaRoug'+'hness,\x201.0'+',\x20anisotro'+'py\x20*\x20aniso'+'tropy);\x0a\x20\x20'+'\x20\x20let\x20ab:\x20'+'f32\x20=\x20clam'+'p(alphaRou'+'ghness,\x200.'+'001,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20NoH:\x20f32\x20'+'=\x20dot(worl'+'dNormal,\x20h'+');\x0a\x20\x20\x20\x20let'+'\x20ToH:\x20f32\x20'+'=\x20dot(anis'+'otropicT,\x20'+'h);\x0a\x20\x20\x20\x20le'+'t\x20BoH:\x20f32'+'\x20=\x20dot(ani'+'sotropicB,'+'\x20h);\x0a\x0a\x20\x20\x20\x20'+'let\x20a2:\x20f3'+'2\x20=\x20at\x20*\x20a'+'b;\x0a\x20\x20\x20\x20let'+'\x20v:\x20vec3f\x20'+'=\x20vec3f(ab'+'\x20*\x20ToH,\x20at'+'\x20*\x20BoH,\x20a2'+'\x20*\x20NoH);\x0a\x20'+'\x20\x20\x20let\x20v2:'+'\x20f32\x20=\x20dot'+'(v,\x20v);\x0a\x20\x20'+'\x20\x20let\x20w2:\x20'+'f32\x20=\x20a2\x20/'+'\x20v2;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20let\x20To'+'V:\x20f32\x20=\x20d'+'ot(anisotr'+'opicT,\x20vie'+('wDir);\x0a\x20\x20\x20'+'\x20let\x20BoV:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20viewDi'+'r);\x0a\x20\x20\x20\x20le'+'t\x20ToL:\x20f32'+'\x20=\x20dot(ani'+'sotropicT,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20let\x20BoL:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20let\x20No'+'V:\x20f32\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'let\x20NoL:\x20f'+'32\x20=\x20dot(w'+'orldNormal'+',\x20-lightDi'+'rNorm);\x0a\x0a\x20'+'\x20\x20\x20let\x20lam'+'bdaV:\x20f32\x20'+'=\x20NoL\x20*\x20le'+'ngth(vec3f'+'(at\x20*\x20ToV,'+'\x20ab\x20*\x20BoV,'+'\x20NoV));\x0a\x20\x20'+'\x20\x20let\x20lamb'+'daL:\x20f32\x20='+'\x20NoV\x20*\x20len'+'gth(vec3f('+'at\x20*\x20ToL,\x20'+'ab\x20*\x20BoL,\x20'+'NoL));\x0a\x20\x20\x20'+'\x20let\x20G:\x20f3'+'2\x20=\x200.5\x20/\x20'+'(lambdaV\x20+'+'\x20lambdaL);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20D\x20*\x20G;\x0a'+'}\x0a\x0afn\x20getL'+'ightSpecul'+'ar(h:\x20vec3'+'f,\x20reflDir'+':\x20vec3f,\x20w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'DirNorm:\x20v'+'ec3f,\x20glos'+'s:\x20f32,\x20tb'+'n:\x20mat3x3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20calcLigh'+'tSpecular('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir,\x20h'+',\x20lightDir'+'Norm,\x20tbn)'+';\x0a}\x0a'),wD='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afn\x20c'+'alcLightSp'+'ecular(glo'+'ss:\x20f32,\x20w'+'orldNormal'+':\x20vec3f,\x20h'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20nh:\x20'+'f32\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'specPow:\x20f'+'32\x20=\x20exp2('+'gloss\x20*\x2011'+'.0);\x20//\x20gl'+'ossiness\x20i'+'s\x20linear,\x20'+'power\x20is\x20n'+'ot;\x200\x20-\x2020'+'48\x0a\x0a\x20\x20\x20\x20//'+'\x20Hack:\x20On\x20'+'Mac\x20OS\x20X,\x20'+'calling\x20po'+'w\x20with\x20zer'+'o\x20for\x20the\x20'+'exponent\x20g'+'enerates\x20h'+'ideous\x20art'+'ifacts\x20so\x20'+'bias\x20up\x20a\x20'+'little\x0a\x20\x20\x20'+'\x20specPow\x20='+'\x20max(specP'+'ow,\x200.0001'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20pow(n'+'h,\x20specPow'+')\x20*\x20(specP'+'ow\x20+\x202.0)\x20'+'/\x208.0;\x0a}\x0a\x0a'+'fn\x20getLigh'+'tSpecular('+'h:\x20vec3f,\x20'+'reflDir:\x20v'+'ec3f,\x20worl'+'dNormal:\x20v'+'ec3f,\x20view'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20tbn:\x20'+'mat3x3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',ED='\x0a\x0afn\x20sheen'+'D(normal:\x20'+'vec3f,\x20h:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'PI:\x20f32\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20let\x20inv'+'R:\x20f32\x20=\x201'+'.0\x20/\x20(roug'+'hness\x20*\x20ro'+'ughness);\x0a'+'\x20\x20\x20\x20var\x20co'+'s2h:\x20f32\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20=\x20c'+'os2h\x20*\x20cos'+'2h;\x0a\x20\x20\x20\x20le'+'t\x20sin2h:\x20f'+'32\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'fn\x20sheenV('+'normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20light:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20max(dot'+'(normal,\x20v'+'iewDir),\x200'+'.000001);\x0a'+'\x20\x20\x20\x20let\x20No'+'L:\x20f32\x20=\x20m'+'ax(dot(nor'+'mal,\x20light'+'),\x200.00000'+'1);\x0a\x20\x20\x20\x20re'+'turn\x201.0\x20/'+'\x20(4.0\x20*\x20(N'+'oL\x20+\x20NoV\x20-'+'\x20NoL\x20*\x20NoV'+'));\x0a}\x0a\x0afn\x20'+'getLightSp'+'ecularShee'+'n(h:\x20vec3f'+',\x20worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f,\x20li'+'ghtDirNorm'+':\x20vec3f,\x20s'+'heenGloss:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20let\x20V:\x20f'+'32\x20=\x20sheen'+'V(worldNor'+'mal,\x20viewD'+'ir,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20return'+'\x20D\x20*\x20V;\x0a}',bD='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afn\x20linear'+'izeDepthWi'+'thParams(z'+':\x20f32,\x20cam'+'eraParams:'+'\x20vec4f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'aParams.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(came'+'raParams.z'+'\x20*\x20cameraP'+'arams.y)\x20/'+'\x20(cameraPa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'Params.z\x20-'+'\x20cameraPar'+'ams.y));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20cam'+'eraParams.'+'z\x20+\x20z\x20*\x20(c'+'ameraParam'+'s.y\x20-\x20came'+'raParams.z'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0a#ifndef\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20#de'+'fine\x20CAMER'+'APLANES\x0a\x20\x20'+'\x20\x20uniform\x20'+'camera_par'+'ams:\x20vec4f'+';\x20\x20\x20//\x20x:\x20'+'1\x20/\x20camera'+'_far,\x20\x20\x20\x20\x20'+'\x20y:\x20camera'+'_far,\x20\x20\x20\x20\x20'+'z:\x20camera_'+'near,\x20\x20\x20\x20\x20'+'\x20\x20\x20w:\x20is_o'+'rtho\x0a#endi'+'f\x0a\x0afn\x20line'+'arizeDepth'+'(z:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pthWithPar'+'ams(z,\x20uni'+'form.camer'+'a_params);'+'\x0a}\x0a#endif\x20'+'//\x20LINEARI'+'ZE_DEPTH\x0a',AD='\x0afn\x20evalua'+'teBackend('+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'//\x20apply\x20S'+'SAO\x20during'+'\x20lighting\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SSAO\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ao\x20='+'\x20litArgs_a'+'o\x20*\x20textur'+'eSampleLev'+'el(ssaoTex'+'ture,\x20ssao'+'TextureSam'+'pler,\x20pcPo'+'sition.xy\x20'+'*\x20uniform.'+'ssaoTextur'+'eSizeInv,\x20'+'0.0).r;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nsform\x20tan'+'gent\x20space'+'\x20normals\x20t'+'o\x20world\x20sp'+'ace\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_N'+'EEDS_NORMA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getReflD'+'ir(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_gloss,\x20'+'dTBN);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'f0:\x20f32\x20=\x20'+'1.0\x20/\x20litA'+'rgs_ior;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20f0\x20=\x20(f0\x20'+'-\x201.0)\x20/\x20('+'f0\x20+\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20f0\x20=\x20f0'+'\x20*\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+('ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceF'+'resnel:\x20ve'+'c3f\x20=\x20getI'+'ridescence'+'Diffractio'+'n(saturate'+'(dot(dView'+'DirW,\x20litA'+'rgs_worldN'+'ormal)),\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_ir'+'idescence_'+'thickness)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20ambi'+'ent\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddAmbient('+'litArgs_wo'+'rldNormal)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20move\x20ambi'+'ent\x20color\x20'+'out\x20of\x20dif'+'fuse\x20(used'+'\x20by\x20Lightm'+'apper,\x20to\x20'+'multiply\x20a'+'mbient\x20col'+'or\x20by\x20accu'+'mulated\x20AO'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SEPARATE_'+'AMBIENT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20dAmbie'+'ntLight:\x20v'+'ec3f\x20=\x20dDi'+'ffuseLight'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20unif'+'orm.materi'+'al_ambient'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20LI'+'T_OCCLUDE_'+'DIRECT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeDiff'+'use(litArg'+'s_ao);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTMAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20litArgs_l'+'ightmap,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmapDi'+'r,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dViewDirW,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dReflD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'BN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_irides'+'cence_inte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTING\x20||'+'\x20LIT_REFLE'+'CTIONS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddReflecti'+'onCC(ccRef'+'lDirW,\x20lit'+'Args_clear'+'coat_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'ccFresnel\x20'+'=\x20getFresn'+'elCC(dot(d'+'ViewDirW,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccRefle'+'ction\x20=\x20cc'+'Reflection'+'\x20*\x20ccFresn'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccFr'+'esnel\x20=\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'ection\x20=\x20c'+'cReflectio'+'n\x20*\x20litArg'+'s_specular'+'ityFactor;')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20addR'+'eflectionS'+'heen(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_sheen'+'_gloss);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20Fresne'+'l\x20has\x20to\x20b'+'e\x20applied\x20'+'to\x20reflect'+'ions\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'Reflection'+'(dReflDirW'+',\x20litArgs_'+'gloss);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_FRESNEL_'+'MODEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'dReflectio'+'n.rgb\x20*\x20li'+'tArgs_spec'+'ularity,\x20d'+'Reflection'+'.a);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve')+('c4f(dRefle'+'ction.rgb\x20'+'*\x20litArgs_'+'specularit'+'yFactor,\x20d'+'Reflection'+'.a);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20AREA'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20*'+'\x20litArgs_s'+'pecularity'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20evalua'+'te\x20materia'+'l\x20based\x20ar'+'ea\x20lights\x20'+'data,\x20shar'+'ed\x20by\x20all\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcLTCLight'+'Values(lit'+'Args_gloss'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20litArg'+'s_specular'+'ity,\x20litAr'+'gs_clearco'+'at_gloss,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20evalua'+'te\x20all\x20non'+'-clustered'+'\x20lights\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22lightEval'+'uationPS,\x20'+'LIGHT_COUN'+'T\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'USTERED_LI'+'GHTS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'ClusteredL'+'ights(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_CLEARCOAT'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20ccRe'+'flDirW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'litArgs_sp'+'ecularity,'+'\x20dVertexNo'+'rmalW,\x20dTB'+'N,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_sheen_'+'gloss,\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20AREA_LI'+'GHTS\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x20has'+'\x20to\x20be\x20acc'+'umulated\x20d'+'ifferently'+'\x20if\x20we\x20wan'+'t\x20area\x20lig'+'hts\x20to\x20loo'+'k\x20correct\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_clearc'+'oat_specul'+'arity\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20vec3(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addRefra'+'ction(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dViewDirW'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_specu'+'larity,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr')+('gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_tran'+'smission,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_ior,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_dispers'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'ambient\x20oc'+'clusion\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_OCCLU'+'DE_DIRECT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeD'+'iffuse(lit'+'Args_ao);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeSpec'+'ular(litAr'+'gs_gloss,\x20'+'litArgs_ao'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20*\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20!defi'+'ned(LIT_OP'+'ACITY_FADE'+'S_SPECULAR'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'==\x20NORMAL\x20'+'||\x20LIT_BLE'+'ND_TYPE\x20=='+'\x20PREMULTIP'+'LIED\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specLum:'+'\x20f32\x20=\x20dot'+'((dSpecula'+'rLight\x20+\x20d'+'Reflection'+'.rgb\x20*\x20dRe'+'flection.a'+'),\x20vec3f(\x20'+'0.2126,\x200.'+'7152,\x200.07'+'22\x20));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'Lum\x20=\x20spec'+'Lum\x20+\x20dot('+'ccSpecular'+'Light\x20*\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20+\x20'+'ccReflecti'+'on\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity,\x20vec3'+'f(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20c'+'lamp(litAr'+'gs_opacity'+'\x20+\x20gammaCo'+'rrectInput'+'(specLum),'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_opaci'+'ty\x20=\x20litAr'+'gs_opacity'+'\x20*\x20uniform'+'.material_'+'alphaFade;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20end\x20chunk'+'s\x20-\x20when\x20b'+'aking\x20ligh'+'tmap\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTMAP_B'+'AKING\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_COLOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22b'+'akeLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_LIGH'+'TMAP_BAKIN'+'G_DIR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22ba'+'keDirLmEnd'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'end\x20chunks'+'\x20-\x20in\x20all\x20'+'other\x20case'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'endPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22outpu'+'tAlphaPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_MSD'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20apply'+'Msdf(outpu'+'t.color);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22outp'+'utPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'debugOutpu'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHADOW_CA'+'TCHER\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20when\x20t'+'he\x20shadow\x20'+'catcher\x20is'+'\x20enabled\x20-'+'\x20accumulat'+'ed\x20shadows')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'vec3f(dSha'+'dowCatcher'+'),\x20output.'+'color.a);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),CD='\x0a\x0a//\x20globa'+'ls\x0avar<pri'+'vate>\x20sRef'+'lection:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'VertexNorm'+'alW:\x20vec3f'+';\x0avar<priv'+'ate>\x20dTang'+'entW:\x20vec3'+'f;\x0avar<pri'+'vate>\x20dBin'+'ormalW:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dV'+'iewDirW:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'ReflDirW:\x20'+'vec3f;\x0avar'+'<private>\x20'+'ccReflDirW'+':\x20vec3f;\x0a\x0a'+'//\x20Per-lig'+'ht\x20tempora'+'ries\x0avar<p'+'rivate>\x20dL'+'ightDirNor'+'mW:\x20vec3f;'+'\x0avar<priva'+'te>\x20dAtten'+':\x20f32;\x0a\x0a//'+'\x20Outputs\x0av'+'ar<private'+'>\x20dTBN:\x20ma'+'t3x3f;\x0avar'+'<private>\x20'+'dReflectio'+'n:\x20vec4f;\x0a'+'var<privat'+'e>\x20dDiffus'+'eLight:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccFres'+'nel:\x20f32;\x0a'+'var<privat'+'e>\x20ccRefle'+'ction:\x20vec'+'3f;\x0avar<pr'+'ivate>\x20ccS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccSpec'+'ularityNoF'+'res:\x20f32;\x0a'+'var<privat'+'e>\x20sSpecul'+'arLight:\x20v'+'ec3f;\x0a\x0a//\x20'+'FRAGMENT\x20S'+'HADER\x20INPU'+'TS:\x20UNIFOR'+'MS\x0a\x0a#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_dis'+'persion:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_al'+'phaFade:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_SSAO\x0a\x20\x20'+'\x20\x20var\x20ssao'+'Texture\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20ssaoT'+'extureSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20u'+'niform\x20ssa'+'oTextureSi'+'zeInv:\x20vec'+'2f;\x0a#endif'+'\x0a\x0a//\x20light'+'ing\x20and\x20sh'+'adowing\x20de'+('clarations'+'\x0a\x0a#ifdef\x20L'+'IT_SHADOW_'+'CATCHER\x0a\x20\x20'+'\x20\x20//\x20a\x20var'+'iable\x20to\x20a'+'ccumulate\x20'+'shadows\x20fo'+'r\x20shadow\x20c'+'atcher\x20mat'+'erials\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dShado'+'wCatcher:\x20'+'f32\x20=\x201.0;'+'\x0a#endif\x0a\x0a/'+'/\x20LOOP\x20-\x20u'+'niform\x20dec'+'larations\x20'+'for\x20all\x20no'+'n-clustere'+'d\x20lights\x0a#'+'if\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightDe'+'clarationP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'f\x20LIT_FRES'+'NEL_MODEL\x20'+'==\x20NONE\x20&&'+'\x20!defined('+'LIT_REFLEC'+'TIONS)\x20&&\x20'+'!defined(L'+'IT_DIFFUSE'+'_MAP)\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_OLD'+'_AMBIENT\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0a//'+'\x20lightmap\x20'+'baking\x0a#if'+'def\x20STD_LI'+'GHTMAP_DIR'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20bakeDir'+':\x20f32;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_ADD_AMBIE'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20ambie'+'ntBakeOccl'+'usionContr'+'ast:\x20f32;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20ambientB'+'akeOcclusi'+'onBrightne'+'ss:\x20f32;\x0a#'+'endif\x0a'),PD='\x0a\x0a@fragmen'+'t\x0afn\x20fragm'+'entMain(in'+'put:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ccSpecular'+'Light\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'Reflection'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_N'+'ONE_SLICE_'+'MODE\x20==\x20SL'+'ICED\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22startNi'+'neSlicedPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20LIT_NONE'+'_SLICE_MOD'+'E\x20==\x20TILED'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'tartNineSl'+'icedTiledP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'NEEDS_NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dVertexNo'+'rmalW\x20=\x20no'+'rmalize(vN'+'ormalW);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_T'+'ANGENTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_HEIG'+'HTS)\x20||\x20de'+'fined(LIT_'+'USE_NORMAL'+'S)\x20||\x20defi'+'ned(LIT_US'+'E_CLEARCOA'+'T_NORMALS)'+'\x20||\x20define'+'d(LIT_GGX_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dTan'+'gentW\x20=\x20vT'+'angentW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dBino'+'rmalW\x20=\x20vB'+'inormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20getView'+'Dir();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_TBN'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getTBN('+'dTangentW,'+'\x20dBinormal'+'W,\x20dVertex'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'andleTwoSi'+'dedLightin'+'g();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+('\x0a\x20\x20\x20\x20//\x20in'+'voke\x20front'+'end\x20functi'+'ons\x0a\x20\x20\x20\x20ev'+'aluateFron'+'tend();\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22debugPr'+'ocessFront'+'endPS\x22\x0a\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput\x20='+'\x20evaluateB'+'ackend();\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainEndP'+'S\x22\x0a\x0a\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a}\x0a'),MD='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20material_'+'ambient:\x20v'+'ec3f;\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_LIGHTING'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22light'+'SpecularAn'+'isoGGXPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tSpecularB'+'linnPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0a#include'+'\x20\x22combineP'+'S\x22\x0a\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapAddP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22am'+'bientPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_MS'+'DF\x0a\x20\x20\x20\x20#in'+'clude\x20\x22msd'+'fPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22viewDirPS'+'\x22\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_GGX_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirAni'+'soPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22reflDirP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20f'+'unctionali')+('ty\x0a#includ'+'e\x20\x22lightin'+'gPS\x22\x0a\x0a'),DD='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',ID='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',LD='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a#endif'+'\x0a\x0a#ifdef\x20N'+'INESLICED\x0a'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vMask:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20varying\x20v'+'TiledUv:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dMaskG'+'lobal:\x20vec'+'2f;\x0a\x20\x20\x20\x20va'+'r<private>'+'\x20dTiledUvG'+'lobal:\x20vec'+'2f;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'uterScale:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'atlasRect:'+'\x20vec4f;\x0a\x0a#'+'endif\x0a\x0avar'+'<private>\x20'+'dPositionW'+':\x20vec3f;\x0av'+'ar<private'+'>\x20dModelMa'+'trix:\x20mat4'+'x4f;\x0a\x0a#inc'+'lude\x20\x22tran'+'sformCoreV'+'S\x22\x0a\x0a#ifdef'+'\x20UV0\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ertex_texC'+'oord0:\x20vec'+'2f;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'rtex_texCo'+'ord1:\x20vec2'+'f;\x0a\x20\x20\x20\x20#in'+'clude\x20\x22uv1'+'VS\x22\x0a#endif'+'\x0a\x0a\x0a#ifdef\x20'+'LINEAR_DEP'+'TH\x0a\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'#define\x20VI'+'EWMATRIX\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22tran'+'sformVS\x22\x0a\x0a'+'#ifdef\x20NOR'+'MALS\x0a\x20\x20\x20\x20#'+'include\x20\x22n'+'ormalCoreV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malVS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20TANGENTS'+'\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_tangent:'+'\x20vec4f;\x0a#e'+'ndif\x0a\x0a//\x20e'+'xpand\x20unif'+'orms\x20for\x20u'+'v\x20transfor'+'ms\x0a#includ'+'e\x20\x22uvTrans'+'formUnifor'+'msPS,\x20UV_T'+'RANSFORMS_'+('COUNT\x22\x0a\x0a#i'+'fdef\x20MSDF\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22msdfVS'+'\x22\x0a#endif\x0a\x0a'+'#include\x20\x20'+'\x22litUserCo'+'deVS\x22\x0a\x0a@ve'+'rtex\x0afn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'MainStartV'+'S\x22\x0a\x0a\x20\x20\x20\x20va'+'r\x20output\x20:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20get'+'Position()'+';\x0a\x20\x20\x20\x20outp'+'ut.vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20NO'+'RMALS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vNormalW\x20'+'=\x20getNorma'+'l();\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TA'+'NGENTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vTangent'+'W\x20=\x20normal'+'ize(dNorma'+'lMatrix\x20*\x20'+'vertex_tan'+'gent.xyz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vBin'+'ormalW\x20=\x20c'+'ross(outpu'+'t.vNormalW'+',\x20output.v'+'TangentW)\x20'+'*\x20vertex_t'+'angent.w;\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(GG'+'X_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20UV0'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f\x20=\x20getU'+'v0();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20UV0_UNMOD'+'IFIED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20uv1:\x20vec2'+'f\x20=\x20getUv1'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20U'+'V1_UNMODIF'+'IED\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.vUv1\x20=\x20'+'uv1;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'xpand\x20code'+'\x20for\x20uv\x20tr'+'ansforms\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22uvTrans')+('formVS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20VERTEX_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition'+',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-(uniform'+'.matrix_vi'+'ew\x20*\x20vec4f'+'(output.vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MSDF\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unpac'+'kMsdfParam'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.outline_c'+'olor\x20=\x20dOu'+'tlineColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.out'+'line_thick'+'ness\x20=\x20dOu'+'tlineThick'+'ness;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.shadow_co'+'lor\x20=\x20dSha'+'dowColor;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.shado'+'w_offset\x20='+'\x20dShadowOf'+'fset;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vMask'+'\x20=\x20dMaskGl'+'obal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vTiledUv\x20'+'=\x20dTiledUv'+'Global;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndVS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),RD='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20evaluateF'+'rontend();'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20getP'+'ickOutput('+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20float2ve'+'c4(vLinear'+'Depth);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndPS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',OD='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avar<priva'+'te>\x20litArg'+'s_albedo:\x20'+'vec3f;\x0a\x0a//'+'\x20Transpare'+'ncy\x0avar<pr'+'ivate>\x20lit'+'Args_opaci'+'ty:\x20f32;\x0a\x0a'+'//\x20Emissio'+'n\x20color\x0ava'+'r<private>'+'\x20litArgs_e'+'mission:\x20v'+'ec3f;\x0a\x0a//\x20'+'Normal\x20dir'+'ection\x20in\x20'+'world\x20spac'+'e\x0avar<priv'+'ate>\x20litAr'+'gs_worldNo'+'rmal:\x20vec3'+'f;\x0a\x0a//\x20Amb'+'ient\x20occlu'+'sion\x20amoun'+'t,\x20range\x20['+'0..1]\x0avar<'+'private>\x20l'+'itArgs_ao:'+'\x20f32;\x0a\x0a//\x20'+'Light\x20map\x20'+'color\x0avar<'+'private>\x20l'+'itArgs_lig'+'htmap:\x20vec'+'3f;\x0a\x0a//\x20Li'+'ght\x20map\x20di'+'rection\x0ava'+'r<private>'+'\x20litArgs_l'+'ightmapDir'+':\x20vec3f;\x0a\x0a'+'//\x20Surface'+'\x20metalness'+'\x20factor,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_metalne'+'ss:\x20f32;\x0a\x0a'+'//\x20The\x20f0\x20'+'specularit'+'y\x20factor\x0av'+'ar<private'+'>\x20litArgs_'+'specularit'+'y:\x20vec3f;\x0a'+'\x0a//\x20Specul'+'arity\x20inte'+'nsity\x20fact'+'or,\x20range\x20'+'[0..1]\x0avar'+'<private>\x20'+'litArgs_sp'+'ecularityF'+'actor:\x20f32'+';\x0a\x0a//\x20The\x20'+'microfacet'+'\x20glossines'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0avar<pri'+'vate>\x20litA'+'rgs_gloss:'+'\x20f32;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_sheen'+'_gloss:\x20f3'+'2;\x0a\x0a//\x20The'+'\x20color\x20of\x20'+'the\x20f0\x20spe'+'cularity\x20f'+'actor\x20for\x20'+'the\x20sheen\x20'+'layer\x0avar<'+'private>\x20l'+'itArgs_she'+'en_specula'+'rity:\x20vec3'+'f;\x0a\x0a//\x20Tra'+'nsmission\x20'+'factor\x20(re'+('fraction),'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_trans'+'mission:\x20f'+'32;\x0a\x0a//\x20Un'+'iform\x20thic'+'kness\x20of\x20m'+'edium,\x20use'+'d\x20by\x20trans'+'mission,\x20r'+'ange\x20[0..i'+'nf]\x0avar<pr'+'ivate>\x20lit'+'Args_thick'+'ness:\x20f32;'+'\x0a\x0a//\x20Index'+'\x20of\x20refrac'+'tion\x0avar<p'+'rivate>\x20li'+'tArgs_ior:'+'\x20f32;\x0a\x0a//\x20'+'Dispersion'+',\x20range\x20[0'+'..1]\x20typic'+'ally,\x20but\x20'+'can\x20be\x20hig'+'her\x0avar<pr'+'ivate>\x20lit'+'Args_dispe'+'rsion:\x20f32'+';\x0a\x0a//\x20Irid'+'escence\x20ef'+'fect\x20inten'+'sity,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'iridescenc'+'e_intensit'+'y:\x20f32;\x0a\x0a/'+'/\x20Thicknes'+'s\x20of\x20the\x20i'+'ridescent\x20'+'microfilm\x20'+'layer,\x20val'+'ue\x20is\x20in\x20n'+'anometers,'+'\x20range\x20[0.'+'.1000]\x0avar'+'<private>\x20'+'litArgs_ir'+'idescence_'+'thickness:'+'\x20f32;\x0a\x0a//\x20'+'The\x20normal'+'\x20used\x20for\x20'+'the\x20clearc'+'oat\x20layer\x0a'+'var<privat'+'e>\x20litArgs'+'_clearcoat'+'_worldNorm'+'al:\x20vec3f;'+'\x0a\x0a//\x20Inten'+'sity\x20of\x20th'+'e\x20clearcoa'+'t\x20layer,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_clearco'+'at_specula'+'rity:\x20f32;'+'\x0a\x0a//\x20Gloss'+'iness\x20of\x20c'+'learcoat\x20l'+'ayer,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'clearcoat_'+'gloss:\x20f32'+';\x0a\x0a'),FD='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20t'+'extureBias'+':\x20f32\x20=\x20-1'+'000.0;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20texture'+'Bias:\x20f32;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ShaderArgs'+'PS\x22\x0a',ND='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20view_p'+'osition:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20li'+'ght_radius'+':\x20f32;\x0a#en'+'dif\x0a\x0a#if\x20S'+'HADOW_TYPE'+'\x20==\x20PCSS_3'+'2F\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lin'+'earizeDept'+'hPS\x22\x0a#endi'+'f\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serMainSta'+'rtPS\x22\x0a\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20/'+'/\x20using\x20no'+'n-standard'+'\x20depth,\x20i.'+'e\x20gl_FragC'+'oord.z\x0a\x20\x20\x20'+'\x20#ifdef\x20PE'+'RSPECTIVE_'+'DEPTH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20de'+'pth:\x20f32\x20='+'\x20input.pos'+'ition.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20PCS'+'S_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot/omni'+'\x20shadows\x20c'+'urrently\x20u'+'se\x20linear\x20'+'depth.\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20TODO:\x20us'+'e\x20perspect'+'ive\x20depth\x20'+'for\x20spot/o'+'mni\x20the\x20sa'+'me\x20way\x20as\x20'+'directiona'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT_TYPE\x20!'+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'depth\x20=\x20li'+'nearizeDep'+'thWithPara'+'ms(depth,\x20'+'camera_par'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20depth:\x20'+'f32\x20=\x20min('+'distance(u'+'niform.vie'+'w_position'+',\x20input.vP'+'ositionW)\x20'+'/\x20uniform.'+'light_radi'+'us,\x200.9999'+'9);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'MODIFIED_D'+'EPTH\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SHADO'+'W_TYPE\x20==\x20'+'VSM_16F\x20||'+'\x20SHADOW_TY'+('PE\x20==\x20VSM_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20SHAD'+'OW_TYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20expon'+'ent:\x20f32\x20='+'\x2015.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20exp'+'onent:\x20f32'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dep'+'th_vsm\x20=\x202'+'.0\x20*\x20depth'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dept'+'h_vsm\x20=\x20ex'+'p(exponent'+'\x20*\x20depth_v'+'sm);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(depth_'+'vsm,\x20depth'+'_vsm\x20*\x20dep'+'th_vsm,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20PCSS'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(de'+'pth,\x200.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MODIFI'+'ED_DEPTH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20If'+'\x20we\x20end\x20up'+'\x20using\x20mod'+'ified\x20dept'+'h,\x20it\x20need'+'s\x20to\x20be\x20ex'+'plicitly\x20w'+'ritten\x20to\x20'+'gl_FragDep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.frag'+'Depth\x20=\x20de'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'just\x20the\x20s'+'implest\x20co'+'de,\x20color\x20'+'is\x20not\x20wri'+'tten\x20anywa'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),kD='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0afn\x20'+'LTC_Uv(N:\x20'+'vec3f,\x20V:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20co'+'nst\x20LUT_SI'+'ZE:\x20f32\x20=\x20'+'64.0;\x0a\x20\x20\x20\x20'+'const\x20LUT_'+'SCALE:\x20f32'+'\x20=\x20(LUT_SI'+'ZE\x20-\x201.0)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_BIAS'+':\x20f32\x20=\x200.'+'5\x20/\x20LUT_SI'+'ZE;\x0a\x20\x20\x20\x20le'+'t\x20dotNV:\x20f'+'32\x20=\x20satur'+'ate(dot(\x20N'+',\x20V\x20));\x0a\x20\x20'+'\x20\x20//\x20textu'+'re\x20paramet'+'erized\x20by\x20'+'sqrt(\x20GGX\x20'+'alpha\x20)\x20an'+'d\x20sqrt(\x201\x20'+'-\x20cos(\x20the'+'ta\x20)\x20)\x0a\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20vec'+'2f(\x20roughn'+'ess,\x20sqrt('+'\x201.0\x20-\x20dot'+'NV\x20)\x20);\x0a\x20\x20'+'\x20\x20return\x20u'+'v\x20*\x20LUT_SC'+'ALE\x20+\x20LUT_'+'BIAS;\x0a}\x0a\x0af'+'n\x20LTC_Clip'+'pedSphereF'+'ormFactor('+'\x20f:\x20vec3f\x20'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20//\x20Re'+'al-Time\x20Ar'+'ea\x20Lightin'+'g:\x20a\x20Journ'+'ey\x20from\x20Re'+'search\x20to\x20'+'Production'+'\x20(p.102)\x0a\x20'+'\x20\x20\x20//\x20An\x20a'+'pproximati'+'on\x20of\x20the\x20'+'form\x20facto'+'r\x20of\x20a\x20hor'+'izon-clipp'+'ed\x20rectang'+'le.\x0a\x20\x20\x20\x20le'+'t\x20l:\x20f32\x20='+'\x20length(\x20f'+'\x20);\x0a\x20\x20\x20\x20re'+'turn\x20max(\x20'+'(\x20l\x20*\x20l\x20+\x20'+'f.z\x20)\x20/\x20(\x20'+'l\x20+\x201.0\x20),'+'\x200.0\x20);\x0a}\x0a'+'\x0afn\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'v1:\x20vec3f,'+'\x20v2:\x20vec3f'+'\x20)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20x:\x20f32\x20='+'\x20dot(\x20v1,\x20'+'v2\x20);\x0a\x20\x20\x20\x20'+'let\x20y:\x20f32'+('\x20=\x20abs(\x20x\x20'+');\x0a\x20\x20\x20\x20//\x20'+'rational\x20p'+'olynomial\x20'+'approximat'+'ion\x20to\x20the'+'ta\x20/\x20sin(\x20'+'theta\x20)\x20/\x20'+'2PI\x0a\x20\x20\x20\x20le'+'t\x20a:\x20f32\x20='+'\x200.8543985'+'\x20+\x20(\x200.496'+'5155\x20+\x200.0'+'145206\x20*\x20y'+'\x20)\x20*\x20y;\x0a\x20\x20'+'\x20\x20let\x20b:\x20f'+'32\x20=\x203.417'+'5940\x20+\x20(\x204'+'.1616724\x20+'+'\x20y\x20)\x20*\x20y;\x0a'+'\x20\x20\x20\x20let\x20v:'+'\x20f32\x20=\x20a\x20/'+'\x20b;\x0a\x20\x20\x20\x20le'+'t\x20inv_sqrt'+'_term\x20=\x20in'+'verseSqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7f\x20)\x20);\x0a'+'\x20\x20\x20\x20let\x20th'+'eta_sinthe'+'ta:\x20f32\x20=\x20'+'select(\x20(0'+'.5\x20*\x20inv_s'+'qrt_term\x20-'+'\x20v),\x20v,\x20x\x20'+'>\x200.0\x20);\x0a\x20'+'\x20\x20\x20return\x20'+'cross(\x20v1,'+'\x20v2\x20)\x20*\x20th'+'eta_sinthe'+'ta;\x0a}\x0a\x0astr'+'uct\x20Coords'+'\x20{\x0a\x20\x20\x20\x20coo'+'rd0:\x20vec3f'+',\x0a\x20\x20\x20\x20coor'+'d1:\x20vec3f,'+'\x0a\x20\x20\x20\x20coord'+'2:\x20vec3f,\x0a'+'\x20\x20\x20\x20coord3'+':\x20vec3f,\x0a}'+'\x0a\x0afn\x20LTC_E'+'valuateRec'+'t(\x20N:\x20vec3'+'f,\x20V:\x20vec3'+'f,\x20P:\x20vec3'+'f,\x20mInv:\x20m'+'at3x3f,\x20re'+'ctCoords:\x20'+'Coords)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20//\x20bail\x20i'+'f\x20point\x20is'+'\x20on\x20back\x20s'+'ide\x20of\x20pla'+'ne\x20of\x20ligh'+'t\x0a\x20\x20\x20\x20//\x20a'+'ssumes\x20ccw'+'\x20winding\x20o'+'rder\x20of\x20li'+'ght\x20vertic'+'es\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec3f'+'\x20=\x20rectCoo'+'rds.coord1'+'\x20-\x20rectCoo'+'rds.coord0'+';\x0a\x20\x20\x20\x20let\x20'+'v2:\x20vec3f\x20'+'=\x20rectCoor'+'ds.coord3\x20'+'-\x20rectCoor'+'ds.coord0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'lightNorma'+'l:\x20vec3f\x20='+'\x20cross(\x20v1'+',\x20v2\x20);\x0a\x20\x20'+'\x20\x20let\x20fact'+'or:\x20f32\x20=\x20'+'sign(-dot('+'\x20lightNorm'+'al,\x20P\x20-\x20re'+'ctCoords.c'+'oord0\x20));\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'nstruct\x20or'+'thonormal\x20'+'basis\x20arou'+'nd\x20N\x0a\x20\x20\x20\x20l')+('et\x20T1:\x20vec'+'3f\x20=\x20norma'+'lize(\x20V\x20-\x20'+'N\x20*\x20dot(\x20V'+',\x20N\x20)\x20);\x0a\x20'+'\x20\x20\x20let\x20T2:'+'\x20vec3f\x20=\x20f'+'actor\x20*\x20cr'+'oss(\x20N,\x20T1'+'\x20);\x20//\x20neg'+'ated\x20from\x20'+'paper;\x20pos'+'sibly\x20due\x20'+'to\x20a\x20diffe'+'rent\x20hande'+'dness\x20of\x20w'+'orld\x20coord'+'inate\x20syst'+'em\x0a\x20\x20\x20\x20//\x20'+'compute\x20tr'+'ansform\x0a\x20\x20'+'\x20\x20let\x20mat:'+'\x20mat3x3f\x20='+'\x20mInv\x20*\x20tr'+'anspose(\x20m'+'at3x3f(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'transform\x20'+'rect\x0a\x20\x20\x20\x20v'+'ar\x20coords:'+'\x20array<vec'+'3f,\x204>;\x0a\x20\x20'+'\x20\x20coords[0'+']\x20=\x20mat\x20*\x20'+'(\x20rectCoor'+'ds.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20coords[1]'+'\x20=\x20mat\x20*\x20('+'\x20rectCoord'+'s.coord1\x20-'+'\x20P\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20mat\x20*\x20(\x20'+'rectCoords'+'.coord2\x20-\x20'+'P\x20);\x0a\x20\x20\x20\x20c'+'oords[3]\x20='+'\x20mat\x20*\x20(\x20r'+'ectCoords.'+'coord3\x20-\x20P'+'\x20);\x0a\x20\x20\x20\x20//'+'\x20project\x20r'+'ect\x20onto\x20s'+'phere\x0a\x20\x20\x20\x20'+'coords[0]\x20'+'=\x20normaliz'+'e(\x20coords['+'0]\x20);\x0a\x20\x20\x20\x20'+'coords[1]\x20'+'=\x20normaliz'+'e(\x20coords['+'1]\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20normaliz'+'e(\x20coords['+'2]\x20);\x0a\x20\x20\x20\x20'+'coords[3]\x20'+'=\x20normaliz'+'e(\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20vector\x20'+'form\x20facto'+'r\x0a\x20\x20\x20\x20var\x20'+'vectorForm'+'Factor:\x20ve'+'c3f\x20=\x20vec3'+'f(\x200.0\x20);\x0a'+'\x20\x20\x20\x20vector'+'FormFactor'+'\x20=\x20vectorF'+'ormFactor\x20'+'+\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[0],\x20c'+'oords[1]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20=\x20vecto'+'rFormFacto'+'r\x20+\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'coords[1],'+'\x20coords[2]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa')+('ctor\x20=\x20vec'+'torFormFac'+'tor\x20+\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[2'+'],\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20=\x20v'+'ectorFormF'+'actor\x20+\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[3],\x20coord'+'s[0]\x20);\x0a\x20\x20'+'\x20\x20//\x20adjus'+'t\x20for\x20hori'+'zon\x20clippi'+'ng\x0a\x20\x20\x20\x20let'+'\x20result:\x20f'+'32\x20=\x20LTC_C'+'lippedSphe'+'reFormFact'+'or(\x20vector'+'FormFactor'+'\x20);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20resu'+'lt;\x0a}\x0a\x0avar'+'<private>\x20'+'dLTCCoords'+':\x20Coords;\x0a'+'fn\x20getLTCL'+'ightCoords'+'(lightPos:'+'\x20vec3f,\x20ha'+'lfWidth:\x20v'+'ec3f,\x20half'+'Height:\x20ve'+'c3f)\x20->\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20var\x20coord'+'s:\x20Coords;'+'\x0a\x20\x20\x20\x20coord'+'s.coord0\x20='+'\x20lightPos\x20'+'+\x20halfWidt'+'h\x20-\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd1\x20=\x20ligh'+'tPos\x20-\x20hal'+'fWidth\x20-\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20coord'+'s.coord2\x20='+'\x20lightPos\x20'+'-\x20halfWidt'+'h\x20+\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd3\x20=\x20ligh'+'tPos\x20+\x20hal'+'fWidth\x20+\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20retur'+'n\x20coords;\x0a'+'}\x0a\x0avar<pri'+'vate>\x20dSph'+'ereRadius:'+'\x20f32;\x0afn\x20g'+'etSphereLi'+'ghtCoords('+'lightPos:\x20'+'vec3f,\x20hal'+'fWidth:\x20ve'+'c3f,\x20halfH'+'eight:\x20vec'+'3f)\x20->\x20Coo'+'rds\x20{\x0a\x20\x20\x20\x20'+'//\x20used\x20fo'+'r\x20simple\x20s'+'phere\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20//\x20als'+'o,\x20the\x20cod'+'e\x20only\x20han'+'dles\x20a\x20sph'+'erical\x20lig'+'ht,\x20it\x20can'+'not\x20be\x20non'+'-uniformly'+'\x20scaled\x20in'+'\x20world\x20spa'+'ce,\x20and\x20so'+'\x20we\x20enforc'+'e\x20it\x20here\x0a'+'\x20\x20\x20\x20dSpher'+'eRadius\x20=\x20')+('max(length'+'(halfWidth'+'),\x20length('+'halfHeight'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20Billboar'+'d\x20the\x202d\x20l'+'ight\x20quad\x20'+'to\x20reflect'+'ion\x20vector'+',\x20as\x20it\x27s\x20'+'used\x20for\x20s'+'pecular.\x20T'+'his\x20allows'+'\x20us\x20to\x20use'+'\x20disk\x20math'+'\x20for\x20the\x20s'+'phere.\x0a\x20\x20\x20'+'\x20let\x20f:\x20ve'+'c3f\x20=\x20refl'+'ect(normal'+'ize(lightP'+'os\x20-\x20unifo'+'rm.view_po'+'sition),\x20v'+'NormalW);\x0a'+'\x20\x20\x20\x20let\x20w:'+'\x20vec3f\x20=\x20n'+'ormalize(c'+'ross(f,\x20ha'+'lfHeight))'+';\x0a\x20\x20\x20\x20let\x20'+'h:\x20vec3f\x20='+'\x20normalize'+'(cross(f,\x20'+'w));\x0a\x0a\x20\x20\x20\x20'+'return\x20get'+'LTCLightCo'+'ords(light'+'Pos,\x20w\x20*\x20d'+'SphereRadi'+'us,\x20h\x20*\x20dS'+'phereRadiu'+'s);\x0a}\x0a\x0a//\x20'+'used\x20for\x20L'+'TC\x20LUT\x20tex'+'ture\x20looku'+'p\x0avar<priv'+'ate>\x20dLTCU'+'V:\x20vec2f;\x0a'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20var<p'+'rivate>\x20cc'+'LTCUV:\x20vec'+'2f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightUV(g'+'loss:\x20f32,'+'\x20worldNorm'+'al:\x20vec3f,'+'\x20viewDir:\x20'+'vec3f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20roug'+'hness:\x20f32'+'\x20=\x20max((1.'+'0\x20-\x20gloss)'+'\x20*\x20(1.0\x20-\x20'+'gloss),\x200.'+'001);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_Uv(\x20world'+'Normal,\x20vi'+'ewDir,\x20rou'+'ghness\x20);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20energ'+'y\x20conserva'+'tion\x20and\x20t'+'o\x20modulate'+'\x20specular\x0a'+'var<privat'+'e>\x20dLTCSpe'+'cFres:\x20vec'+'3f;\x0a#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20v'+'ar<private'+'>\x20ccLTCSpe'+'cFres:\x20vec'+'3f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightSpec'+'Fres(uv:\x20v'+'ec2f,\x20spec'+'ularity:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20t2:\x20v')+('ec4f\x20=\x20tex'+'tureSample'+'Level(area'+'LightsLutT'+'ex2,\x20areaL'+'ightsLutTe'+'x2Sampler,'+'\x20uv,\x200.0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20specular'+'ity\x20*\x20t2.x'+'\x20+\x20(\x20vec3f'+'(\x201.0\x20)\x20-\x20'+'specularit'+'y)\x20*\x20t2.y;'+'\x0a}\x0a\x0afn\x20cal'+'cLTCLightV'+'alues(glos'+'s:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f,\x20specul'+'arity:\x20vec'+'3f,\x20clearc'+'oatGloss:\x20'+'f32,\x20clear'+'coatWorldN'+'ormal:\x20vec'+'3f,\x20clearc'+'oatSpecula'+'rity:\x20f32)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'UV\x20=\x20getLT'+'CLightUV(c'+'learcoatGl'+'oss,\x20clear'+'coatWorldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'SpecFres\x20='+'\x20getLTCLig'+'htSpecFres'+'(ccLTCUV,\x20'+'vec3f(clea'+'rcoatSpecu'+'larity));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0afn\x20cal'+'cDiskLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20cal'+'cRectLight'+'Values(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0afn\x20calc'+'SphereLigh'+'tValues(li'+'ghtPos:\x20ve'+'c3f,\x20halfW'+'idth:\x20vec3'+'f,\x20halfHei')+('ght:\x20vec3f'+')\x20{\x0a\x20\x20\x20\x20dL'+'TCCoords\x20='+'\x20getSphere'+'LightCoord'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0a\x0a/'+'/\x20An\x20exten'+'ded\x20versio'+'n\x20of\x20the\x20i'+'mplementat'+'ion\x20from\x20\x22'+'How\x20to\x20sol'+'ve\x20a\x20cubic'+'\x20equation,'+'\x20revisited'+'\x22\x0a//\x20http:'+'//momentsi'+'ngraphics.'+'de/?p=105\x0a'+'fn\x20SolveCu'+'bic(Coeffi'+'cient_in:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20pi:\x20'+'f32\x20=\x203.14'+'159;\x0a\x20\x20\x20\x20v'+'ar\x20Coeffic'+'ient\x20=\x20Coe'+'fficient_i'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t\x20=\x20vec4f('+'Coefficien'+'t.xyz\x20/\x20Co'+'efficient.'+'w,\x20Coeffic'+'ient.w);\x0a\x0a'+'\x20\x20\x20\x20//\x20Div'+'ide\x20middle'+'\x20coefficie'+'nts\x20by\x20thr'+'ee\x0a\x20\x20\x20\x20let'+'\x20new_yz:\x20v'+'ec2f\x20=\x20Coe'+'fficient.y'+'z\x20/\x203.0;\x0a\x20'+'\x20\x20\x20Coeffic'+'ient\x20=\x20vec'+'4f(Coeffic'+'ient.x,\x20ne'+'w_yz.x,\x20ne'+'w_yz.y,\x20Co'+'efficient.'+'w);\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20let\x20A:\x20'+'f32\x20=\x20Coef'+'ficient.w;'+'\x0a\x20\x20\x20\x20let\x20B'+':\x20f32\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20let'+'\x20C:\x20f32\x20=\x20'+'Coefficien'+'t.y;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20Coeffici'+'ent.x;\x0a\x0a\x20\x20'+'\x20\x20//\x20Compu'+'te\x20the\x20Hes'+'sian\x20and\x20t'+'he\x20discrim'+'inant\x0a\x20\x20\x20\x20'+'let\x20Delta:'+'\x20vec3f\x20=\x20v'+'ec3f(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20-Coeff'+'icient.z\x20*'+'\x20Coefficie'+'nt.z\x20+\x20Coe'+'fficient.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'-Coefficie'+'nt.y\x20*\x20Coe'+'fficient.z'+'\x20+\x20Coeffic'+'ient.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'vec2f(Coef'+'ficient.z,'+'\x20-Coeffici'+'ent.y),\x20Co'+'efficient.'+'xy)\x0a\x20\x20\x20\x20);')+('\x0a\x0a\x20\x20\x20\x20let\x20'+'Discrimina'+'nt:\x20f32\x20=\x20'+'dot(vec2f('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20var\x20xlc:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20var\x20xsc:'+'\x20vec2f;\x0a\x0a\x20'+'\x20\x20\x20//\x20Algo'+'rithm\x20A\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20A_a:'+'\x20f32\x20=\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_a:\x20f'+'32\x20=\x20Delta'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_a:'+'\x20f32\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20Theta:\x20f'+'32\x20=\x20atan2'+'(sqrt(Disc'+'riminant),'+'\x20-D_a)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sqr'+'t_neg_Ca\x20='+'\x20sqrt(-C_a'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20x_1a:'+'\x20f32\x20=\x202.0'+'\x20*\x20sqrt_ne'+'g_Ca\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x_3a:\x20f32'+'\x20=\x202.0\x20*\x20s'+'qrt_neg_Ca'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20xl:'+'\x20f32\x20=\x20sel'+'ect(x_3a,\x20'+'x_1a,\x20(x_1'+'a\x20+\x20x_3a)\x20'+'>\x202.0\x20*\x20B)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xlc\x20=\x20vec2'+'f(xl\x20-\x20B,\x20'+'A);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Al'+'gorithm\x20D\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20A_'+'d:\x20f32\x20=\x20D'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_d:\x20f'+'32\x20=\x20Delta'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_d:'+'\x20f32\x20=\x20-D\x20'+'*\x20Delta.y\x20'+'+\x202.0\x20*\x20C\x20'+'*\x20Delta.z;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Take\x20th'+'e\x20cubic\x20ro'+'ot\x20of\x20a\x20no'+'rmalized\x20c'+'omplex\x20num'+'ber\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20Thet'+'a:\x20f32\x20=\x20a'+'tan2(D\x20*\x20s'+'qrt(Discri'+'minant),\x20-'+'D_d)\x20/\x203.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20sqrt_'+'neg_Cd\x20=\x20s'+'qrt(-C_d);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20x_1d:\x20f'+'32\x20=\x202.0\x20*')+('\x20sqrt_neg_'+'Cd\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20x'+'_3d:\x20f32\x20='+'\x202.0\x20*\x20sqr'+'t_neg_Cd\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20xs:\x20f'+'32\x20=\x20selec'+'t(x_3d,\x20x_'+'1d,\x20x_1d\x20+'+'\x20x_3d\x20<\x202.'+'0\x20*\x20C);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xsc\x20'+'=\x20vec2f(-D'+',\x20xs\x20+\x20C);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20let\x20E:\x20f'+'32\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20let\x20F'+':\x20f32\x20=\x20-x'+'lc.x\x20*\x20xsc'+'.y\x20-\x20xlc.y'+'\x20*\x20xsc.x;\x0a'+'\x20\x20\x20\x20let\x20G:'+'\x20f32\x20=\x20\x20xl'+'c.x\x20*\x20xsc.'+'x;\x0a\x0a\x20\x20\x20\x20le'+'t\x20xmc:\x20vec'+'2f\x20=\x20vec2f'+'(C\x20*\x20F\x20-\x20B'+'\x20*\x20G,\x20-B\x20*'+'\x20F\x20+\x20C\x20*\x20E'+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20Root:\x20ve'+'c3f\x20=\x20vec3'+'f(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root\x20=\x20'+'Root.yxz;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root\x20=\x20Ro'+'ot.xzy;\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20Root;'+'\x0a}\x0a\x0afn\x20LTC'+'_EvaluateD'+'isk(N:\x20vec'+'3f,\x20V:\x20vec'+'3f,\x20P:\x20vec'+'3f,\x20Minv:\x20'+'mat3x3f,\x20p'+'oints:\x20Coo'+'rds)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20let\x20T1:\x20'+'vec3f\x20=\x20no'+'rmalize(V\x20'+'-\x20N\x20*\x20dot('+'V,\x20N));\x0a\x20\x20'+'\x20\x20let\x20T2:\x20'+'vec3f\x20=\x20cr'+'oss(N,\x20T1)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'rotate\x20are'+'a\x20light\x20in'+'\x20(T1,\x20T2,\x20'+'N)\x20basis\x0a\x20'+'\x20\x20\x20let\x20R:\x20'+'mat3x3f\x20=\x20'+'transpose('+'\x20mat3x3f(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20polygon\x20'+'(allocate\x20'+'5\x20vertices'+'\x20for\x20clipp')+('ing\x0a\x20\x20\x20\x20va'+'r\x20L_:\x20arra'+'y<vec3f,\x203'+'>;\x0a\x20\x20\x20\x20L_['+'0]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[1'+']\x20=\x20R\x20*\x20(\x20'+'points.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20L_[2]'+'\x20=\x20R\x20*\x20(\x20p'+'oints.coor'+'d2\x20-\x20P\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'it\x20ellipse'+'\x0a\x20\x20\x20\x20let\x20C'+':\x20vec3f\x20\x20='+'\x200.5\x20*\x20(L_'+'[0]\x20+\x20L_[2'+']);\x0a\x20\x20\x20\x20va'+'r\x20V1:\x20vec3'+'f\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[2]);\x0a\x20\x20\x20'+'\x20var\x20V2:\x20v'+'ec3f\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[0]);\x0a'+'\x0a\x20\x20\x20\x20let\x20C'+'_Minv:\x20vec'+'3f\x20\x20=\x20Minv'+'\x20*\x20C;\x0a\x20\x20\x20\x20'+'let\x20V1_Min'+'v:\x20vec3f\x20='+'\x20Minv\x20*\x20V1'+';\x0a\x20\x20\x20\x20let\x20'+'V2_Minv:\x20v'+'ec3f\x20=\x20Min'+'v\x20*\x20V2;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20var\x20a:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20b:\x20f32;\x0a'+'\x20\x20\x20\x20let\x20d1'+'1:\x20f32\x20=\x20d'+'ot(V1_Minv'+',\x20V1_Minv)'+';\x0a\x20\x20\x20\x20let\x20'+'d22:\x20f32\x20='+'\x20dot(V2_Mi'+'nv,\x20V2_Min'+'v);\x0a\x20\x20\x20\x20le'+'t\x20d12:\x20f32'+'\x20=\x20dot(V1_'+'Minv,\x20V2_M'+'inv);\x0a\x20\x20\x20\x20'+'if\x20(abs(d1'+'2)\x20/\x20sqrt('+'d11\x20*\x20d22)'+'\x20>\x200.0001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20tr:\x20f'+'32\x20=\x20d11\x20+'+'\x20d22;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'t_inner:\x20f'+'32\x20=\x20-d12\x20'+'*\x20d12\x20+\x20d1'+'1\x20*\x20d22;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20det:\x20f32\x20'+'=\x20sqrt(det'+'_inner);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20u:\x20f32\x20=\x20'+'0.5\x20*\x20sqrt'+'(tr\x20-\x202.0\x20'+'*\x20det);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'v:\x20f32\x20=\x200'+'.5\x20*\x20sqrt('+'tr\x20+\x202.0\x20*'+'\x20det);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20e'+'_max:\x20f32\x20'+'=\x20(u\x20+\x20v)\x20'+'*\x20(u\x20+\x20v);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20e_min:\x20'+'f32\x20=\x20(u\x20-'+'\x20v)\x20*\x20(u\x20-'+'\x20v);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20V1'+'_:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va')+('r\x20V2_:\x20vec'+'3f;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(d11'+'\x20>\x20d22)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V1_\x20=\x20d1'+'2\x20*\x20V1_Min'+'v\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2_Minv;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20V2_\x20=\x20d12'+'\x20*\x20V1_Minv'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2_Minv;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12*V2_'+'Minv\x20+\x20(e_'+'max\x20-\x20d22)'+'*V1_Minv;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V2_\x20=\x20d1'+'2*V2_Minv\x20'+'+\x20(e_min\x20-'+'\x20d22)*V1_M'+'inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20e_max;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20b'+'\x20=\x201.0\x20/\x20e'+'_min;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20V1\x20=\x20n'+'ormalize(V'+'1_);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20V2\x20=\x20no'+'rmalize(V2'+'_);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1_Minv,\x20V1'+'_Minv);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2_Minv,\x20V'+'2_Minv);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'=\x20V1_Minv\x20'+'*\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20=\x20V2_Min'+'v\x20*\x20sqrt(b'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20V3'+':\x20vec3f\x20=\x20'+'normalize('+'cross(V1,\x20'+'V2));\x0a\x20\x20\x20\x20'+'if\x20(dot(C_'+'Minv,\x20V3)\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V3\x20'+'=\x20V3\x20*\x20-1.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20let\x20L:'+'\x20f32\x20\x20=\x20do'+'t(V3,\x20C_Mi'+'nv);\x0a\x20\x20\x20\x20l'+'et\x20x0:\x20f32'+'\x20=\x20dot(V1,'+'\x20C_Minv)\x20/'+'\x20L;\x0a\x20\x20\x20\x20le'+'t\x20y0:\x20f32\x20'+'=\x20dot(V2,\x20'+'C_Minv)\x20/\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20E1:\x20f32\x20'+'=\x20inverseS'+'qrt(a);\x0a\x20\x20'+'\x20\x20let\x20E2:\x20'+'f32\x20=\x20inve'+'rseSqrt(b)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20a_scaled\x20'+'=\x20a\x20*\x20L\x20*\x20'+'L;\x0a\x20\x20\x20\x20let'+'\x20b_scaled\x20'+'=\x20b\x20*\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20c0:\x20f32\x20'+'=\x20a_scaled'+'\x20*\x20b_scale'+'d;\x0a\x20\x20\x20\x20let'+'\x20c1:\x20f32\x20='+'\x20a_scaled\x20'+'*\x20b_scaled')+('\x20*\x20(1.0\x20+\x20'+'x0\x20*\x20x0\x20+\x20'+'y0\x20*\x20y0)\x20-'+'\x20a_scaled\x20'+'-\x20b_scaled'+';\x0a\x20\x20\x20\x20let\x20'+'c2:\x20f32\x20=\x20'+'1.0\x20-\x20a_sc'+'aled\x20*\x20(1.'+'0\x20+\x20x0\x20*\x20x'+'0)\x20-\x20b_sca'+'led\x20*\x20(1.0'+'\x20+\x20y0\x20*\x20y0'+');\x0a\x20\x20\x20\x20let'+'\x20c3:\x20f32\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20let\x20roots'+':\x20vec3f\x20=\x20'+'SolveCubic'+'(vec4f(c0,'+'\x20c1,\x20c2,\x20c'+'3));\x0a\x20\x20\x20\x20l'+'et\x20e1:\x20f32'+'\x20=\x20roots.x'+';\x0a\x20\x20\x20\x20let\x20'+'e2:\x20f32\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20let\x20e3:'+'\x20f32\x20=\x20roo'+'ts.z;\x0a\x0a\x20\x20\x20'+'\x20var\x20avgDi'+'r:\x20vec3f\x20='+'\x20vec3f(a_s'+'caled\x20*\x20x0'+'\x20/\x20(a_scal'+'ed\x20-\x20e2),\x20'+'b_scaled\x20*'+'\x20y0\x20/\x20(b_s'+'caled\x20-\x20e2'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20let\x20ro'+'tate:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20let\x20L'+'1:\x20f32\x20=\x20s'+'qrt(-e2\x20/\x20'+'e3);\x0a\x20\x20\x20\x20l'+'et\x20L2:\x20f32'+'\x20=\x20sqrt(-e'+'2\x20/\x20e1);\x0a\x0a'+'\x20\x20\x20\x20let\x20fo'+'rmFactor:\x20'+'f32\x20=\x20max('+'0.0,\x20L1\x20*\x20'+'L2\x20*\x20inver'+'seSqrt((1.'+'0\x20+\x20L1\x20*\x20L'+'1)\x20*\x20(1.0\x20'+'+\x20L2\x20*\x20L2)'+'));\x0a\x0a\x20\x20\x20\x20c'+'onst\x20LUT_S'+'IZE_disk:\x20'+'f32\x20=\x2064.0'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_SCAL'+'E_disk:\x20f3'+'2\x20=\x20(\x20LUT_'+'SIZE_disk\x20'+'-\x201.0\x20)\x20/\x20'+'LUT_SIZE_d'+'isk;\x0a\x20\x20\x20\x20c'+'onst\x20LUT_B'+'IAS_disk:\x20'+'f32\x20=\x200.5\x20'+'/\x20LUT_SIZE'+'_disk;\x0a\x0a\x20\x20'+'\x20\x20//\x20use\x20t'+'abulated\x20h'+'orizon-cli'+'pped\x20spher'+'e\x0a\x20\x20\x20\x20var\x20'+'uv:\x20vec2f\x20'+'=\x20vec2f(av'+'gDir.z\x20*\x200'+'.5\x20+\x200.5,\x20'+'formFactor'+');\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20LUT'+'_SCALE_dis'+'k\x20+\x20LUT_BI'+'AS_disk;\x0a\x0a'+'\x20\x20\x20\x20let\x20sc')+('ale:\x20f32\x20='+'\x20textureSa'+'mpleLevel('+'areaLights'+'LutTex2,\x20a'+'reaLightsL'+'utTex2Samp'+'ler,\x20uv,\x200'+'.0).w;\x0a\x0a\x20\x20'+'\x20\x20return\x20f'+'ormFactor\x20'+'*\x20scale;\x0a}'+'\x0a\x0a//\x20LTC_E'+'valuateDis'+'k\x20in\x20some\x20'+'rare\x20cases'+'\x20genereate'+'s\x20NaN\x20valu'+'es\x20in\x20a\x20or'+'\x20b,\x20just\x20b'+'efore\x20\x27flo'+'at\x20c0\x20=\x20a\x20'+'*\x20b;\x27\x0a//\x20G'+'et\x20rid\x20of\x20'+'those\x20Nan\x20'+'values\x20bef'+'ore\x20they\x20p'+'ropagate\x20f'+'urther,\x20as'+'\x20in\x20case\x20o'+'f\x20bloom\x20/\x20'+'DOF\x20blurs\x20'+'they\x0a//\x20pr'+'opagate\x20to'+'\x20large\x20are'+'as.\x20I\x20didn'+'\x27t\x20find\x20th'+'e\x20actual\x20r'+'eason\x20wher'+'e\x20those\x20co'+'me\x20from,\x20s'+'o\x20that\x20is\x20'+'still\x20TODO'+'.\x0a//\x20Note\x20'+'that\x20only\x20'+'disk/spher'+'e\x20lights\x20a'+'re\x20causing'+'\x20it,\x20so\x20on'+'ly\x20handle\x20'+'those.\x0afn\x20'+'FixNan(val'+'ue:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20v'+'alue\x20!=\x20va'+'lue\x20check\x20'+'for\x20NaN\x20as'+'\x20isnan()\x20i'+'s\x20not\x20avai'+'lable\x20in\x20W'+'GSL\x0a\x20\x20\x20\x20re'+'turn\x20selec'+'t(value,\x200'+'.0,\x20value\x20'+'!=\x20value);'+'\x0a}\x0a\x0afn\x20get'+'RectLightD'+'iffuse(wor'+'ldNormal:\x20'+'vec3f,\x20vie'+'wDir:\x20vec3'+'f,\x20lightDi'+'r:\x20vec3f,\x20'+'lightDirNo'+'rm:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20id'+'entityMat\x20'+'=\x20mat3x3f('+'vec3f(1.0,'+'\x200.0,\x200.0)'+',\x20vec3f(0.'+'0,\x201.0,\x200.'+'0),\x20vec3f('+'0.0,\x200.0,\x20'+'1.0));\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'identityMa'+'t,\x20dLTCCoo'+'rds\x20);\x0a}\x0a\x0a'+'fn\x20getDisk'+'LightDiffu'+'se(worldNo'+'rmal:\x20vec3')+('f,\x20viewDir'+':\x20vec3f,\x20l'+'ightDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20identi'+'tyMat\x20=\x20ma'+'t3x3f(vec3'+'f(1.0,\x200.0'+',\x200.0),\x20ve'+'c3f(0.0,\x201'+'.0,\x200.0),\x20'+'vec3f(0.0,'+'\x200.0,\x201.0)'+');\x0a\x20\x20\x20\x20ret'+'urn\x20FixNan'+'(LTC_Evalu'+'ateDisk(\x20w'+'orldNormal'+',\x20viewDir,'+'\x20vPosition'+'W,\x20identit'+'yMat,\x20dLTC'+'Coords\x20));'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tDiffuse(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20let\x20fall'+'off:\x20f32\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20FixNan(ge'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNorm)\x20'+'*\x20falloff)'+';\x0a}\x0a\x0afn\x20ge'+'tLTCLightI'+'nvMat(uv:\x20'+'vec2f)\x20->\x20'+'mat3x3f\x20{\x0a'+'\x20\x20\x20\x20let\x20t1'+':\x20vec4f\x20=\x20'+'textureSam'+'pleLevel(a'+'reaLightsL'+'utTex1,\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er,\x20uv,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(\x20'+'t1.x,\x200.0,'+'\x20t1.y\x20),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(\x200.0,\x201'+'.0,\x200.0\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(\x20t1.z'+',\x200.0,\x20t1.'+'w\x20)\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight')+('InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getRectLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20cal'+'cDiskLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getDiskLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcDiskLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tSpecular('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'DiskLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir,\x20'+'dLTCUV);\x0a}'+'\x0a'),UD='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_me'+'talness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getMe'+'talness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'metalness:'+'\x20f32\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20metal'+'ness\x20=\x20met'+'alness\x20*\x20u'+'niform.mat'+'erial_meta'+'lness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'metalness\x20'+'=\x20metalnes'+'s\x20*\x20textur'+'eSampleBia'+'s({STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+',\x20{STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_METALN'+'ESS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_METALNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_VE'+'RTEX\x0a\x20\x20\x20\x20m'+'etalness\x20='+'\x20metalness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'METALNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dMetal'+'ness\x20=\x20met'+'alness;\x0a}\x0a',BD='\x0avar\x20textu'+'re_msdfMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20texture'+'_msdfMapSa'+'mpler:\x20sam'+'pler;\x0a\x0afn\x20'+'median(r:\x20'+'f32,\x20g:\x20f3'+'2,\x20b:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(min(r'+',\x20g),\x20min('+'max(r,\x20g),'+'\x20b));\x0a}\x0a\x0af'+'n\x20map(min:'+'\x20f32,\x20max:'+'\x20f32,\x20v:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(v\x20-\x20m'+'in)\x20/\x20(max'+'\x20-\x20min);\x0a}'+'\x0a\x0auniform\x20'+'font_sdfIn'+'tensity:\x20f'+'32;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20font_px'+'range:\x20f32'+';\x20\x20\x20\x20\x20\x20//\x20'+'the\x20number'+'\x20of\x20pixels'+'\x20between\x20i'+'nside\x20and\x20'+'outside\x20th'+'e\x20font\x20in\x20'+'SDF\x0aunifor'+'m\x20font_tex'+'tureWidth:'+'\x20f32;\x20//\x20t'+'he\x20width\x20o'+'f\x20the\x20text'+'ure\x20atlas\x0a'+'\x0a#ifndef\x20L'+'IT_MSDF_TE'+'XT_ATTRIBU'+'TE\x0a\x20\x20\x20\x20uni'+'form\x20outli'+'ne_color:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'utline_thi'+'ckness:\x20f3'+'2;\x0a\x20\x20\x20\x20uni'+'form\x20shado'+'w_color:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'uniform\x20sh'+'adow_offse'+'t:\x20vec2f;\x0a'+'#else\x0a\x20\x20\x20\x20'+'varying\x20ou'+'tline_colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20outline_'+'thickness:'+'\x20f32;\x0a\x20\x20\x20\x20'+'varying\x20sh'+'adow_color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20varying'+'\x20shadow_of'+'fset:\x20vec2'+'f;\x0a#endif\x0a'+'\x0afn\x20applyM'+'sdf(color_'+'in:\x20vec4f)'+'\x20->\x20vec4f\x20'+'{\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_M'+'SDF_TEXT_A'+'TTRIBUTE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20uniform.'+'outline_co'+'lor;\x0a\x20\x20\x20\x20\x20'+('\x20\x20\x20var\x20out'+'line_thick'+'nessValue\x20'+'=\x20uniform.'+'outline_th'+'ickness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_co'+'lorValue\x20='+'\x20uniform.s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_offsetVa'+'lue\x20=\x20unif'+'orm.shadow'+'_offset;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utline_thi'+'cknessValu'+'e\x20=\x20outlin'+'e_thicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_colorVal'+'ue\x20=\x20shado'+'w_color;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_of'+'fsetValue\x20'+'=\x20shadow_o'+'ffset;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20Conv'+'ert\x20to\x20lin'+'ear\x20space\x20'+'before\x20pro'+'cessing\x0a\x20\x20'+'\x20\x20//\x20TODO:'+'\x20ideally\x20t'+'his\x20would\x20'+'receive\x20th'+'e\x20color\x20in'+'\x20linear\x20sp'+'ace,\x20but\x20t'+'hat\x20would\x20'+'require\x20la'+'rger\x20chang'+'es\x0a\x20\x20\x20\x20//\x20'+'on\x20the\x20eng'+'ine\x20side,\x20'+'with\x20the\x20w'+'ay\x20premult'+'iplied\x20alp'+'ha\x20is\x20hand'+'led\x20as\x20wel'+'l.\x0a\x20\x20\x20\x20var'+'\x20color\x20=\x20v'+'ec4f(gamma'+'CorrectInp'+'utVec3(col'+'or_in.rgb)'+',\x20color_in'+'.a);\x0a\x0a\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20field\x0a'+'\x20\x20\x20\x20let\x20ts'+'ample:\x20vec'+'3f\x20=\x20textu'+'reSample(t'+'exture_msd'+'fMap,\x20text'+'ure_msdfMa'+'pSampler,\x20'+'vUv0).rgb;'+'\x0a\x20\x20\x20\x20let\x20u'+'vShdw:\x20vec'+'2f\x20=\x20vUv0\x20'+'-\x20shadow_o'+'ffsetValue'+';\x0a\x20\x20\x20\x20let\x20'+'ssample:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'(texture_m'+'sdfMap,\x20te'+'xture_msdf'+'MapSampler'+',\x20uvShdw).'+'rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20get\x20the'+'\x20signed\x20di'+'stance\x20val'+'ue\x0a\x20\x20\x20\x20let')+('\x20sigDist:\x20'+'f32\x20=\x20medi'+'an(tsample'+'.r,\x20tsampl'+'e.g,\x20tsamp'+'le.b);\x0a\x20\x20\x20'+'\x20var\x20sigDi'+'stShdw:\x20f3'+'2\x20=\x20median'+'(ssample.r'+',\x20ssample.'+'g,\x20ssample'+'.b);\x0a\x0a\x20\x20\x20\x20'+'//\x20smoothi'+'ng\x20limit\x20-'+'\x20smaller\x20v'+'alue\x20makes'+'\x20for\x20sharp'+'er\x20but\x20mor'+'e\x20aliased\x20'+'text,\x20espe'+'cially\x20on\x20'+'angles\x0a\x20\x20\x20'+'\x20//\x20too\x20la'+'rge\x20value\x20'+'(0.5)\x20crea'+'tes\x20a\x20dark'+'\x20glow\x20arou'+'nd\x20the\x20let'+'ters\x0a\x20\x20\x20\x20l'+'et\x20smoothi'+'ngMax:\x20f32'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20let'+'\x20w:\x20vec2f\x20'+'=\x20abs(dpdx'+'(vUv0))\x20+\x20'+'abs(dpdy(v'+'Uv0));\x0a\x20\x20\x20'+'\x20let\x20smoot'+'hing:\x20f32\x20'+'=\x20clamp(w.'+'x\x20*\x20unifor'+'m.font_tex'+'tureWidth\x20'+'/\x20uniform.'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20l'+'et\x20mapMin:'+'\x20f32\x20=\x200.0'+'5;\x0a\x20\x20\x20\x20let'+'\x20mapMax:\x20f'+'32\x20=\x20clamp'+'(1.0\x20-\x20uni'+'form.font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20let\x20si'+'gDistInner'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist);\x0a\x20\x20'+'\x20\x20let\x20sigD'+'istOutline'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'knessValue'+');\x0a\x20\x20\x20\x20sig'+'DistShdw\x20='+'\x20map(mapMi'+'n,\x20mapMax,'+'\x20sigDistSh'+'dw\x20+\x20outli'+'ne_thickne'+'ssValue);\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'enter:\x20f32'+'\x20=\x200.5;\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20smoot'+'hing\x20and\x20u'+'se\x20to\x20gene')+('rate\x20opaci'+'ty\x0a\x20\x20\x20\x20let'+'\x20inside:\x20f'+'32\x20=\x20smoot'+'hstep(cent'+'er\x20-\x20smoot'+'hing,\x20cent'+'er\x20+\x20smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20let\x20o'+'utline:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stOutline)'+';\x0a\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20let\x20tc'+'olor_outli'+'ne:\x20vec4f\x20'+'=\x20outline\x20'+'*\x20vec4f(ou'+'tline_colo'+'rValue.a\x20*'+'\x20outline_c'+'olorValue.'+'rgb,\x20outli'+'ne_colorVa'+'lue.a);\x0a\x20\x20'+'\x20\x20var\x20tcol'+'or:\x20vec4f\x20'+'=\x20select(v'+'ec4f(0.0),'+'\x20tcolor_ou'+'tline,\x20out'+'line\x20>\x20ins'+'ide);\x0a\x20\x20\x20\x20'+'tcolor\x20=\x20m'+'ix(tcolor,'+'\x20color,\x20in'+'side);\x0a\x0a\x20\x20'+'\x20\x20let\x20scol'+'or_shadow:'+'\x20vec4f\x20=\x20s'+'hadow\x20*\x20ve'+'c4f(shadow'+'_colorValu'+'e.a\x20*\x20shad'+'ow_colorVa'+'lue.rgb,\x20s'+'hadow_colo'+'rValue.a);'+'\x0a\x20\x20\x20\x20let\x20s'+'color:\x20vec'+'4f\x20=\x20selec'+'t(tcolor,\x20'+'scolor_sha'+'dow,\x20shado'+'w\x20>\x20outlin'+'e);\x0a\x20\x20\x20\x20tc'+'olor\x20=\x20mix'+'(scolor,\x20t'+'color,\x20out'+'line);\x0a\x0a\x20\x20'+'\x20\x20//\x20Conve'+'rt\x20back\x20to'+'\x20gamma\x20spa'+'ce\x20before\x20'+'returning\x0a'+'\x20\x20\x20\x20tcolor'+'\x20=\x20vec4f(g'+'ammaCorrec'+'tOutput(tc'+'olor.rgb),'+'\x20tcolor.a)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),zD='\x0a\x0afn\x20getSp'+'ecularModu'+'late(specu'+'larity:\x20ve'+'c3f,\x20albed'+'o:\x20vec3f,\x20'+'metalness:'+'\x20f32,\x20f0:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20dielec'+'tricF0:\x20ve'+'c3f\x20=\x20f0\x20*'+'\x20speculari'+'ty;\x0a\x20\x20\x20\x20re'+'turn\x20mix(d'+'ielectricF'+'0,\x20albedo,'+'\x20metalness'+');\x0a}\x0a\x0afn\x20g'+'etAlbedoMo'+'dulate(alb'+'edo:\x20vec3f'+',\x20metalnes'+'s:\x20f32)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'albedo\x20*\x20('+'1.0\x20-\x20meta'+'lness);\x0a}\x0a',VD='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var\x20morph'+'Texture:\x20t'+'exture_2d_'+'array<f32>'+';\x0a\x20\x20\x20\x20unif'+'orm\x20morphF'+'actor:\x20arr'+'ay<f32,\x20{M'+'ORPH_TEXTU'+'RE_MAX_COU'+'NT}>;\x0a\x20\x20\x20\x20'+'uniform\x20mo'+'rphIndex:\x20'+'array<u32,'+'\x20{MORPH_TE'+'XTURE_MAX_'+'COUNT}>;\x0a\x20'+'\x20\x20\x20uniform'+'\x20count:\x20u3'+'2;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x0a\x20\x20'+'\x20\x20fn\x20fragm'+'entMain(in'+'put\x20:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20color\x20='+'\x20vec3f(0,\x20'+'0,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20t'+'extureDims'+'\x20=\x20texture'+'Dimensions'+'(morphText'+'ure);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20pi'+'xelCoords\x20'+'=\x20vec2i(in'+'put.uv0\x20*\x20'+'vec2f(text'+'ureDims));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'u32\x20=\x200;\x20i'+'\x20<\x20uniform'+'.count;\x20i\x20'+'=\x20i\x20+\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'tureIndex:'+'\x20u32\x20=\x20uni'+'form.morph'+'Index[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20delta\x20'+'=\x20textureL'+'oad(morphT'+'exture,\x20pi'+'xelCoords,'+'\x20textureIn'+'dex,\x200).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20+=\x20unifor'+'m.morphFac'+'tor[i].ele'+'ment\x20*\x20del'+'ta;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'color,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',GD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',HD='\x0aattribute'+'\x20vertex_ou'+'tlineParam'+'eters:\x20vec'+'3f;\x0aattrib'+'ute\x20vertex'+'_shadowPar'+'ameters:\x20v'+'ec3f;\x0a\x0avar'+'ying\x20outli'+'ne_color:\x20'+'vec4f;\x0avar'+'ying\x20outli'+'ne_thickne'+'ss:\x20f32;\x0av'+'arying\x20sha'+'dow_color:'+'\x20vec4f;\x0ava'+'rying\x20shad'+'ow_offset:'+'\x20vec2f;\x0a\x0av'+'ar<private'+'>\x20dOutline'+'Color:\x20vec'+'4f;\x0avar<pr'+'ivate>\x20dOu'+'tlineThick'+'ness:\x20f32;'+'\x0avar<priva'+'te>\x20dShado'+'wColor:\x20ve'+'c4f;\x0avar<p'+'rivate>\x20dS'+'hadowOffse'+'t:\x20vec2f;\x0a'+'\x0afn\x20unpack'+'MsdfParams'+'()\x20{\x0a\x20\x20\x20\x20l'+'et\x20little:'+'\x20vec3f\x20=\x20v'+'ertex_outl'+'ineParamet'+'ers\x20%\x20vec3'+'f(256.0);\x0a'+'\x20\x20\x20\x20let\x20bi'+'g:\x20vec3f\x20='+'\x20(vertex_o'+'utlinePara'+'meters\x20-\x20l'+'ittle)\x20/\x202'+'56.0;\x0a\x0a\x20\x20\x20'+'\x20dOutlineC'+'olor\x20=\x20vec'+'4f(little.'+'x,\x20big.x,\x20'+'little.y,\x20'+'big.y)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20//\x20_outli'+'neThicknes'+'sScale\x20==='+'\x200.2\x0a\x20\x20\x20\x20d'+'OutlineThi'+'ckness\x20=\x20l'+'ittle.z\x20/\x20'+'255.0\x20*\x200.'+'2;\x0a\x0a\x20\x20\x20\x20le'+'t\x20little_s'+'hadow\x20=\x20ve'+'rtex_shado'+'wParameter'+'s\x20%\x20vec3f('+'256.0);\x0a\x20\x20'+'\x20\x20let\x20big_'+'shadow\x20=\x20('+'vertex_sha'+'dowParamet'+'ers\x20-\x20litt'+'le_shadow)'+'\x20/\x20256.0;\x0a'+'\x0a\x20\x20\x20\x20dShad'+'owColor\x20=\x20'+'vec4f(litt'+'le_shadow.'+'x,\x20big_sha'+'dow.x,\x20lit'+'tle_shadow'+'.y,\x20big_sh'+'adow.y)\x20/\x20'+'255.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+('ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20dShad'+'owOffset\x20='+'\x20(vec2f(li'+'ttle_shado'+'w.z,\x20big_s'+'hadow.z)\x20/'+'\x20127.0\x20-\x201'+'.0)\x20*\x200.00'+'5;\x0a}\x0a'),WD='\x0avar<priva'+'te>\x20dNorma'+'lMatrix:\x20m'+'at3x3f;\x0a\x0af'+'n\x20getNorma'+'l()\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20d'+'NormalMatr'+'ix\x20=\x20getNo'+'rmalMatrix'+'(dModelMat'+'rix);\x0a\x20\x20\x20\x20'+'let\x20localN'+'ormal:\x20vec'+'3f\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}',$D='\x0a\x0aattribut'+'e\x20vertex_n'+'ormal:\x20vec'+'3f;\x0a\x0aunifo'+'rm\x20matrix_'+'normal:\x20ma'+'t3x3f;\x0a\x0a#i'+'fdef\x20MORPH'+'ING_NORMAL'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MORPHING'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20mor'+'phNormalTe'+'x:\x20texture'+'_2d<u32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphNor'+'malTexSamp'+'ler:\x20sampl'+'er;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hNormalTex'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20morphNorm'+'alTexSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0afn\x20getLo'+'calNormal('+'vertexNorm'+'al:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20localNorm'+'al:\x20vec3f\x20'+'=\x20vertexNo'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20mor'+'phUV:\x20vec2'+'i\x20=\x20getTex'+'tureMorphC'+'oords();\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_INT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20morphN'+'ormalInt:\x20'+'vec4u\x20=\x20te'+'xtureLoad('+'morphNorma'+'lTex,\x20morp'+'hUV,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20morph'+'NormalF:\x20v'+'ec3f\x20=\x20vec'+'3f(morphNo'+'rmalInt.xy'+'z)\x20/\x2065535'+'.0\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormalF;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'morphNorma'+'l:\x20vec3f\x20='+'\x20textureLo'+'ad(morphNo'+'rmalTex,\x20m'+'orphUV,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormal;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20lo'+'calNormal;'+'\x0a}\x0a\x0a#if\x20de'+'fined(SKIN'+')\x20||\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20fn\x20get'+('NormalMatr'+'ix(modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ma'+'t3x3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3x3f'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20fn'+'\x20getNormal'+'Matrix(mod'+'elMatrix:\x20'+'mat4x4f)\x20-'+'>\x20mat3x3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20mat'+'3x3f(model'+'Matrix[0].'+'xyz,\x20model'+'Matrix[1].'+'xyz,\x20model'+'Matrix[2].'+'xyz);\x0a\x20\x20\x20\x20'+'}\x0a#else\x0a\x20\x20'+'\x20\x20fn\x20getNo'+'rmalMatrix'+'(modelMatr'+'ix:\x20mat4x4'+'f)\x20->\x20mat3'+'x3f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),XD='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_bu'+'mpiness:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20un'+'iform\x20mate'+'rial_norma'+'lDetailMap'+'Bumpiness:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20fn\x20bl'+'endNormals'+'(inN1:\x20vec'+'3f,\x20inN2:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'n1:\x20vec3f\x20'+'=\x20inN1\x20+\x20v'+'ec3f(0.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20n2:\x20vec'+'3f\x20=\x20inN2\x20'+'*\x20vec3f(-1'+'.0,\x20-1.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20n1\x20*\x20dot('+'n1,\x20n2)\x20/\x20'+'n1.z\x20-\x20n2;'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0afn\x20ge'+'tNormal()\x20'+'{\x0a#ifdef\x20S'+'TD_NORMAL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20var\x20norm'+'alMap:\x20vec'+'3f\x20=\x20{STD_'+'NORMAL_TEX'+'TURE_DECOD'+'E}(texture'+'SampleBias'+'({STD_NORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_NORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_NOR'+'MAL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias));\x0a'+'\x20\x20\x20\x20normal'+'Map\x20=\x20mix('+'vec3f(0.0,'+'\x200.0,\x201.0)'+',\x20normalMa'+'p,\x20uniform'+'.material_'+'bumpiness)'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_NO'+'RMALDETAIL'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20normalDet'+'ailMap:\x20ve'+'c3f\x20=\x20{STD'+'_NORMALDET'+'AIL_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE_NAME},'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_NAM'+'E}Sampler,'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_UV}'+(',\x20uniform.'+'textureBia'+'s));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalD'+'etailMap\x20='+'\x20mix(vec3f'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malDetailM'+'ap,\x20unifor'+'m.material'+'_normalDet'+'ailMapBump'+'iness);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20norm'+'alMap\x20=\x20bl'+'endNormals'+'(normalMap'+',\x20normalDe'+'tailMap);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20nor'+'malize(dTB'+'N\x20*\x20normal'+'Map);\x0a#els'+'e\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a'),qD='\x0auniform\x20m'+'aterial_op'+'acity:\x20f32'+';\x0a\x0afn\x20getO'+'pacity()\x20{'+'\x0a\x20\x20\x20\x20dAlph'+'a\x20=\x20unifor'+'m.material'+'_opacity;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E\x0a\x20\x20\x20\x20dAlp'+'ha\x20=\x20dAlph'+'a\x20*\x20textur'+'eSampleBia'+'s({STD_OPA'+'CITY_TEXTU'+'RE_NAME},\x20'+'{STD_OPACI'+'TY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'OPACITY_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20=\x20dA'+'lpha\x20*\x20cla'+'mp(vVertex'+'Color.{STD'+'_OPACITY_V'+'ERTEX_CHAN'+'NEL},\x200.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',jD='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20blueNo'+'iseJitter:'+'\x20vec4f;\x0a\x0a#'+'if\x20STD_OPA'+'CITY_DITHE'+'R\x20==\x20BLUEN'+'OISE\x0a\x20\x20\x20\x20v'+'ar\x20blueNoi'+'seTex32\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20blueN'+'oiseTex32S'+'ampler\x20:\x20s'+'ampler;\x0a#e'+'ndif\x0a\x0afn\x20o'+'pacityDith'+'er(alpha:\x20'+'f32,\x20id:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'#if\x20STD_OP'+'ACITY_DITH'+'ER\x20==\x20BAYE'+'R8\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20nois'+'e:\x20f32\x20=\x20b'+'ayer8(floo'+'r((pcPosit'+'ion.xy\x20+\x20u'+'niform.blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+')\x20%\x20vec2f('+'8.0)))\x20/\x206'+'4.0;\x0a\x0a\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20=='+'\x20BLUENOISE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uv\x20'+'=\x20fract(pc'+'Position.x'+'y\x20/\x2032.0\x20+'+'\x20uniform.b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20noise:\x20f3'+'2\x20=\x20textur'+'eSampleLev'+'el(blueNoi'+'seTex32,\x20b'+'lueNoiseTe'+'x32Sampler'+',\x20uv,\x200.0)'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20IGNNOI'+'SE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ba'+'sed\x20on\x20htt'+'ps://www.i'+'ryoku.com/'+'next-gener'+'ation-post'+'-processin'+'g-in-call-'+'of-duty-ad'+'vanced-war'+'fare/\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20magic\x20=\x20'+'vec3f(0.06'+'711056,\x200.'+'00583715,\x20'+'52.9829189'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'oise:\x20f32\x20'+'=\x20fract(ma'+'gic.z\x20*\x20fr'+'act(dot(pc'+'Position.x'+'y\x20+\x20unifor'+'m.blueNois'+'eJitter.xy'+'\x20+\x20id,\x20mag'+('ic.xy)));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20conve'+'rt\x20the\x20noi'+'se\x20to\x20line'+'ar\x20space,\x20'+'as\x20that\x20is'+'\x20specified'+'\x20in\x20sRGB\x20s'+'pace\x20(stor'+'es\x20percept'+'ual\x20values'+')\x0a\x20\x20\x20\x20nois'+'e\x20=\x20pow(no'+'ise,\x202.2);'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'alpha\x20<\x20no'+'ise)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),YD='\x0a',KD='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(outp'+'ut.color.r'+'gb,\x20litArg'+'s_opacity)'+';\x0a\x0a#elif\x20L'+'IT_BLEND_T'+'YPE\x20==\x20PRE'+'MULTIPLIED'+'\x0a\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(out'+'put.color.'+'rgb\x20*\x20litA'+'rgs_opacit'+'y,\x20litArgs'+'_opacity);'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(output'+'.color.rgb'+',\x201.0);\x0a\x0a#'+'endif\x0a',ZD='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0avar\x20sour'+'ce:\x20textur'+'e_2d<f32>;'+'\x0avar\x20sourc'+'eSampler:\x20'+'sampler;\x0a\x0a'+'@fragment\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'textureSam'+'ple(source'+',\x20sourceSa'+'mpler,\x20inp'+'ut.vUv0);\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'+'\x0a',QD='\x0a\x0auniform\x20'+'material_s'+'heen:\x20vec3'+'f;\x0a\x0afn\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20var\x20sh'+'eenColor\x20='+'\x20uniform.m'+'aterial_sh'+'een;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_TEX'+'TURE\x0a\x20\x20\x20\x20s'+'heenColor\x20'+'=\x20sheenCol'+'or\x20*\x20{STD_'+'SHEEN_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SHEEN'+'_TEXTURE_N'+'AME},\x20{STD'+'_SHEEN_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEEN_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as)).{STD_'+'SHEEN_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_VER'+'TEX\x0a\x20\x20\x20\x20sh'+'eenColor\x20='+'\x20sheenColo'+'r\x20*\x20satura'+'te3(vVerte'+'xColor.{ST'+'D_SHEEN_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20sSpecula'+'rity\x20=\x20she'+'enColor;\x0a}'+'\x0a',JD='\x0auniform\x20m'+'aterial_sh'+'eenGloss:\x20'+'f32;\x0a\x0afn\x20g'+'etSheenGlo'+'ssiness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'sheenGloss'+'iness\x20=\x20un'+'iform.mate'+'rial_sheen'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SHEENGL'+'OSS_TEXTUR'+'E\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_SHEEN'+'GLOSS_TEXT'+'URE_NAME},'+'\x20{STD_SHEE'+'NGLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_UV},\x20un'+'iform.text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20=\x20'+'sheenGloss'+'iness\x20*\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'GLOSS_VERT'+'EX_CHANNEL'+'});\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEENGLOS'+'S_INVERT\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20='+'\x201.0\x20-\x20she'+'enGlossine'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'+\x200.000000'+'1;\x0a}\x0a',eI='\x0auniform\x20m'+'aterial_he'+'ightMapFac'+'tor:\x20f32;\x0a'+'\x0afn\x20getPar'+'allax()\x20{\x0a'+'\x20\x20\x20\x20var\x20pa'+'rallaxScal'+'e\x20=\x20unifor'+'m.material'+'_heightMap'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20var\x20hei'+'ght:\x20f32\x20='+'\x20textureSa'+'mpleBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_HEIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_HEIGHT_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'height\x20=\x20h'+'eight\x20*\x20pa'+'rallaxScal'+'e\x20-\x20parall'+'axScale\x20*\x20'+'0.5;\x0a\x20\x20\x20\x20v'+'ar\x20viewDir'+'T:\x20vec3f\x20='+'\x20dViewDirW'+'\x20*\x20dTBN;\x0a\x0a'+'\x20\x20\x20\x20viewDi'+'rT.z\x20=\x20vie'+'wDirT.z\x20+\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',tI='\x0auniform\x20m'+'eshInstanc'+'eId:\x20u32;\x0a'+'\x0afn\x20getPic'+'kOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20let\x20i'+'nv:\x20vec4f\x20'+'=\x20vec4f(1.'+'0\x20/\x20255.0)'+';\x0a\x20\x20\x20\x20let\x20'+'shifts:\x20ve'+'c4u\x20=\x20vec4'+'u(16u,\x208u,'+'\x200u,\x2024u);'+'\x0a\x20\x20\x20\x20let\x20c'+'ol:\x20vec4u\x20'+'=\x20(vec4u(u'+'niform.mes'+'hInstanceI'+'d)\x20>>\x20shif'+'ts)\x20&\x20vec4'+'u(0xffu);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4f(col'+')\x20*\x20inv;\x0a}',sI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20dReflDi'+'rW\x20=\x20norma'+'lize(-refl'+'ect(viewDi'+'r,\x20worldNo'+'rmal));\x0a}\x0a',iI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20rou'+'ghness:\x20f3'+'2\x20=\x20sqrt(1'+'.0\x20-\x20min(g'+'loss,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20directio'+'n:\x20vec2f\x20='+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20anisotrop'+'y:\x20f32\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cDirection'+':\x20vec3f\x20=\x20'+'anisotropi'+'cB;\x0a\x20\x20\x20\x20le'+'t\x20anisotro'+'picTangent'+':\x20vec3f\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20let\x20anis'+'otropicNor'+'mal:\x20vec3f'+'\x20=\x20cross(a'+'nisotropic'+'Tangent,\x20a'+'nisotropic'+'Direction)'+';\x0a\x20\x20\x20\x20let\x20'+'bendFactor'+':\x20f32\x20=\x201.'+'0\x20-\x20anisot'+'ropy\x20*\x20(1.'+'0\x20-\x20roughn'+'ess);\x0a\x20\x20\x20\x20'+'let\x20bendFa'+'ctor4:\x20f32'+'\x20=\x20bendFac'+'tor\x20*\x20bend'+'Factor\x20*\x20b'+'endFactor\x20'+'*\x20bendFact'+'or;\x0a\x20\x20\x20\x20le'+'t\x20bentNorm'+'al:\x20vec3f\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}',rI='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0afn\x20addRe'+'flectionCC'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20ccRef'+'lection\x20=\x20'+'ccReflecti'+'on\x20+\x20calcR'+'eflection('+'reflDir,\x20g'+'loss);\x0a}\x0a#'+'endif\x0a',aI='\x0avar\x20textu'+'re_cubeMap'+':\x20texture_'+'cube<f32>;'+'\x0avar\x20textu'+'re_cubeMap'+'Sampler:\x20s'+'ampler;\x0aun'+'iform\x20mate'+'rial_refle'+'ctivity:\x20f'+'32;\x0a\x0afn\x20ca'+'lcReflecti'+'on(reflDir'+':\x20vec3f,\x20g'+'loss:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'lookupVec:'+'\x20vec3f\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r);\x0a\x20\x20\x20\x20lo'+'okupVec.x\x20'+'=\x20lookupVe'+'c.x\x20*\x20-1.0'+';\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_cubeMa'+'p,\x20texture'+'_cubeMapSa'+'mpler,\x20loo'+'kupVec));\x0a'+'}\x0a\x0afn\x20addR'+'eflection('+'reflDir:\x20v'+'ec3f,\x20glos'+'s:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20dR'+'eflection\x20'+'+\x20vec4f(ca'+'lcReflecti'+'on(reflDir'+',\x20gloss),\x20'+'uniform.ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',nI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20var\x20t'+'exture_env'+'Atlas:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'envAtlasSa'+'mpler:\x20sam'+'pler;\x0a#end'+'if\x0a\x0avar\x20te'+'xture_cube'+'Map:\x20textu'+'re_cube<f3'+'2>;\x0avar\x20te'+'xture_cube'+'MapSampler'+':\x20sampler;'+'\x0auniform\x20m'+'aterial_re'+'flectivity'+':\x20f32;\x0a\x0afn'+'\x20calcRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20dir:\x20ve'+'c3f\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20toSph'+'ericalUv(d'+'ir);\x0a\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20roughne'+'ss\x20level\x0a\x20'+'\x20\x20\x20let\x20lev'+'el:\x20f32\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20let\x20ile'+'vel:\x20f32\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20l'+'et\x20flevel:'+'\x20f32\x20=\x20lev'+'el\x20-\x20ileve'+'l;\x0a\x0a\x20\x20\x20\x20le'+'t\x20sharp:\x20v'+'ec3f\x20=\x20{re'+'flectionCu'+'bemapDecod'+'e}(texture'+'Sample(tex'+'ture_cubeM'+'ap,\x20textur'+'e_cubeMapS'+'ampler,\x20di'+'r));\x0a\x20\x20\x20\x20l'+'et\x20roughA:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+')));\x0a\x20\x20\x20\x20l'+'et\x20roughB:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(shar'+'p,\x20mix(rou'+('ghA,\x20rough'+'B,\x20flevel)'+',\x20min(leve'+'l,\x201.0)));'+'\x0a}\x0a\x0afn\x20add'+'Reflection'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20=\x20d'+'Reflection'+'\x20+\x20vec4f(c'+'alcReflect'+'ion(reflDi'+'r,\x20gloss),'+'\x20uniform.m'+'aterial_re'+'flectivity'+');\x0a}\x0a'),oI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_envA'+'tlasSample'+'r:\x20sampler'+';\x0a#endif\x0au'+'niform\x20mat'+'erial_refl'+'ectivity:\x20'+'f32;\x0a\x0a//\x20c'+'alculate\x20m'+'ip\x20level\x20f'+'or\x20shiny\x20r'+'eflection\x20'+'given\x20equi'+'rect\x20coord'+'s\x20uv.\x0afn\x20s'+'hinyMipLev'+'el(uv:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20dx:\x20vec2f'+'\x20=\x20dpdx(uv'+');\x0a\x20\x20\x20\x20let'+'\x20dy:\x20vec2f'+'\x20=\x20dpdy(uv'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20second\x20dF'+'\x20at\x20180\x20de'+'grees\x0a\x20\x20\x20\x20'+'let\x20uv2:\x20v'+'ec2f\x20=\x20vec'+'2f(fract(u'+'v.x\x20+\x200.5)'+',\x20uv.y);\x0a\x20'+'\x20\x20\x20let\x20dx2'+':\x20vec2f\x20=\x20'+'dpdx(uv2);'+'\x0a\x20\x20\x20\x20let\x20d'+'y2:\x20vec2f\x20'+'=\x20dpdy(uv2'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20min\x20of\x20bo'+'th\x20sets\x20of'+'\x20dF\x20to\x20han'+'dle\x20discon'+'tinuity\x20at'+'\x20the\x20azim\x20'+'edge\x0a\x20\x20\x20\x20l'+'et\x20maxd:\x20f'+'32\x20=\x20min(m'+'ax(dot(dx,'+'\x20dx),\x20dot('+'dy,\x20dy)),\x20'+'max(dot(dx'+'2,\x20dx2),\x20d'+'ot(dy2,\x20dy'+'2)));\x0a\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(0.5\x20*\x20'+'log2(maxd)'+'\x20-\x201.0\x20+\x20u'+'niform.tex'+'tureBias,\x20'+'0.0,\x205.0);'+'\x0a}\x0a\x0afn\x20cal'+'cReflectio'+'n(reflDir:'+'\x20vec3f,\x20gl'+'oss:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20d'+'ir:\x20vec3f\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3f(-1.0,\x20'+'1.0,\x201.0);'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20l'+'et\x20level:\x20'+'f32\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20l'+('et\x20ilevel:'+'\x20f32\x20=\x20flo'+'or(level);'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ccessing\x20t'+'he\x20shiny\x20('+'top\x20level)'+'\x20reflectio'+'n\x20-\x20perfor'+'m\x20manual\x20m'+'ipmap\x20look'+'up\x0a\x20\x20\x20\x20let'+'\x20level2:\x20f'+'32\x20=\x20shiny'+'MipLevel(u'+'v\x20*\x20atlasS'+'ize);\x0a\x20\x20\x20\x20'+'let\x20ilevel'+'2:\x20f32\x20=\x20f'+'loor(level'+'2);\x0a\x0a\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20uv1:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20weight:'+'\x20f32;\x0a\x20\x20\x20\x20'+'if\x20(ilevel'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'1\x20=\x20mapShi'+'nyUv(uv,\x20i'+'level2\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20weight\x20'+'=\x20level2\x20-'+'\x20ilevel2;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20access'+'ing\x20rough\x20'+'reflection'+'\x20-\x20just\x20sa'+'mple\x20the\x20s'+'ame\x20part\x20t'+'wice\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv0\x20=\x20m'+'apRoughnes'+'sUv(uv,\x20il'+'evel);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20linearA'+':\x20vec3f\x20=\x20'+'{reflectio'+'nDecode}(t'+'extureSamp'+'le(texture'+'_envAtlas,'+'\x20texture_e'+'nvAtlasSam'+'pler,\x20uv0)'+');\x0a\x20\x20\x20\x20let'+'\x20linearB:\x20'+'vec3f\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'tureSample'+'(texture_e'+'nvAtlas,\x20t'+'exture_env'+'AtlasSampl'+'er,\x20uv1));'+'\x0a\x20\x20\x20\x20let\x20l'+'inear0:\x20ve'+'c3f\x20=\x20mix('+'linearA,\x20l'+'inearB,\x20we'+'ight);\x0a\x20\x20\x20'+'\x20let\x20linea'+'r1:\x20vec3f\x20'+'=\x20{reflect'+'ionDecode}'+'(textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r')+('eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0afn'+'\x20addReflec'+'tion(reflD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20=\x20dReflec'+'tion\x20+\x20vec'+'4f(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20unifo'+'rm.materia'+'l_reflecti'+'vity);\x0a}\x0a'),lI='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a#en'+'dif\x0a\x0avar\x20t'+'exture_sph'+'ereMap:\x20te'+'xture_2d<f'+'32>;\x0avar\x20t'+'exture_sph'+'ereMapSamp'+'ler:\x20sampl'+'er;\x0aunifor'+'m\x20material'+'_reflectiv'+'ity:\x20f32;\x0a'+'\x0afn\x20calcRe'+'flection(r'+'eflDir:\x20ve'+'c3f,\x20gloss'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20view'+'RotationMa'+'trix\x20=\x20mat'+'3x3f(unifo'+'rm.matrix_'+'view[0].xy'+'z,\x20uniform'+'.matrix_vi'+'ew[1].xyz,'+'\x20uniform.m'+'atrix_view'+'[2].xyz);\x0a'+'\x20\x20\x20\x20let\x20re'+'flDirV:\x20ve'+'c3f\x20=\x20view'+'RotationMa'+'trix\x20*\x20ref'+'lDir;\x0a\x0a\x20\x20\x20'+'\x20let\x20m:\x20f3'+'2\x20=\x202.0\x20*\x20'+'sqrt(dot(r'+'eflDirV.xy'+',\x20reflDirV'+'.xy)\x20+\x20(re'+'flDirV.z\x20+'+'\x201.0)\x20*\x20(r'+'eflDirV.z\x20'+'+\x201.0));\x0a\x20'+'\x20\x20\x20let\x20sph'+'ereMapUv:\x20'+'vec2f\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_sphere'+'Map,\x20textu'+'re_sphereM'+'apSampler,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0af'+'n\x20addRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20dRefle'+'ction\x20+\x20ve'+'c4f(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20unif'+'orm.materi'+'al_reflect'+'ivity);\x0a}\x0a',cI='\x0a\x0afn\x20addRe'+'flectionSh'+'een(worldN'+'ormal:\x20vec'+'3f,\x20viewDi'+'r:\x20vec3f,\x20'+'gloss:\x20f32'+')\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20dot(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20let\x20al'+'phaG:\x20f32\x20'+'=\x20gloss\x20*\x20'+'gloss;\x0a\x0a\x20\x20'+'\x20\x20//\x20Avoid'+'\x20using\x20a\x20L'+'UT\x20and\x20app'+'roximate\x20t'+'he\x20values\x20'+'analytical'+'ly\x0a\x20\x20\x20\x20let'+'\x20a:\x20f32\x20=\x20'+'select(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20-339.2\x20*'+'\x20alphaG\x20+\x20'+'161.4\x20*\x20gl'+'oss\x20-\x2025.9'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gloss\x20<\x200.'+'25\x0a\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20let\x20b:'+'\x20f32\x20=\x20sel'+'ect(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.97\x20*\x20'+'alphaG\x20-\x203'+'.27\x20*\x20glos'+'s\x20+\x200.72,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x2044'+'.0\x20*\x20alpha'+'G\x20-\x2023.7\x20*'+'\x20gloss\x20+\x203'+'.26,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss\x20<'+'\x200.25\x0a\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20let'+'\x20dg_add:\x20f'+'32\x20=\x20selec'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.1\x20*\x20(\x20g'+'loss\x20-\x200.2'+'5\x20),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x200.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s\x20<\x200.25\x0a\x20'+'\x20\x20\x20);\x0a\x20\x20\x20\x20'+'let\x20dg:\x20f3'+'2\x20=\x20exp(\x20a'+'\x20*\x20NoV\x20+\x20b'+'\x20)\x20+\x20dg_ad'+'d;\x0a\x20\x20\x20\x20sRe'+'flection\x20='+'\x20sReflecti'+'on\x20+\x20(calc'+'Reflection'+'(worldNorm'+'al,\x200.0)\x20*'+'\x20saturate('+'dg));\x0a}',hI='\x0afn\x20refrac'+'t2(viewVec'+':\x20vec3f,\x20n'+'ormal:\x20vec'+'3f,\x20IOR:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20vn:\x20f32'+'\x20=\x20dot(vie'+'wVec,\x20norm'+'al);\x0a\x20\x20\x20\x20l'+'et\x20k:\x20f32\x20'+'=\x201.0\x20-\x20IO'+'R\x20*\x20IOR\x20*\x20'+'(1.0\x20-\x20vn\x20'+'*\x20vn);\x0a\x20\x20\x20'+'\x20let\x20refrV'+'ec:\x20vec3f\x20'+'=\x20IOR\x20*\x20vi'+'ewVec\x20-\x20(I'+'OR\x20*\x20vn\x20+\x20'+'sqrt(k))\x20*'+'\x20normal;\x0a\x20'+'\x20\x20\x20return\x20'+'refrVec;\x0a}'+'\x0a\x0afn\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20vi'+'ewDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20th'+'ickness:\x20f'+'32,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20al'+'bedo:\x20vec3'+'f,\x0a\x20\x20\x20\x20tra'+'nsmission:'+'\x20f32,\x0a\x20\x20\x20\x20'+'refraction'+'Index:\x20f32'+',\x0a\x20\x20\x20\x20disp'+'ersion:\x20f3'+'2\x0a#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20,\x20iri'+'descenceFr'+'esnel:\x20vec'+'3f,\x0a\x20\x20\x20\x20ir'+'idescenceI'+'ntensity:\x20'+'f32\x0a#endif'+'\x0a)\x20{\x0a\x20\x20\x20\x20/'+'/\x20use\x20same'+'\x20reflectio'+'n\x20code\x20wit'+'h\x20refracti'+'on\x20vector\x0a'+'\x20\x20\x20\x20let\x20tm'+'pRefl:\x20vec'+'4f\x20=\x20dRefl'+'ection;\x0a\x20\x20'+'\x20\x20let\x20refl'+'ectionDir:'+'\x20vec3f\x20=\x20r'+'efract2(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndex);\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(0.0);\x0a\x20'+'\x20\x20\x20addRefl'+'ection(ref'+'lectionDir'+',\x20gloss);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'mix(dDiffu'+'seLight,\x20d'+'Reflection'+'.rgb\x20*\x20alb'+'edo,\x20trans'+'mission);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20tm'+'pRefl;\x0a}\x0a',dI='\x0auniform\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+':\x20f32;\x0auni'+'form\x20mater'+'ial_attenu'+'ation:\x20vec'+'3f;\x0a\x0afn\x20ev'+'alRefracti'+'onColor(re'+'fractionVe'+'ctor:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20refra'+'ctionIndex'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20The\x20'+'refraction'+'\x20point\x20is\x20'+'the\x20entry\x20'+'point\x20+\x20ve'+'ctor\x20to\x20ex'+'it\x20point\x0a\x20'+'\x20\x20\x20let\x20poi'+'ntOfRefrac'+'tion:\x20vec4'+'f\x20=\x20vec4f('+'vPositionW'+'\x20+\x20refract'+'ionVector,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20//\x20Proje'+'ct\x20to\x20text'+'ure\x20space\x20'+'so\x20we\x20can\x20'+'sample\x20it\x0a'+'\x20\x20\x20\x20let\x20pr'+'ojectionPo'+'int:\x20vec4f'+'\x20=\x20uniform'+'.matrix_vi'+'ewProjecti'+'on\x20*\x20point'+'OfRefracti'+'on;\x0a\x0a\x20\x20\x20\x20/'+'/\x20use\x20buil'+'t-in\x20getGr'+'abScreenPo'+'s\x20function'+'\x20to\x20conver'+'t\x20screen\x20p'+'osition\x20to'+'\x20grab\x20text'+'ure\x20uv\x20coo'+'rds\x0a\x20\x20\x20\x20le'+'t\x20uv:\x20vec2'+'f\x20=\x20getGra'+'bScreenPos'+'(projectio'+'nPoint);\x0a\x0a'+'\x20\x20\x20\x20//\x20Use'+'\x20IOR\x20and\x20r'+'oughness\x20t'+'o\x20select\x20m'+'ip\x0a\x20\x20\x20\x20let'+'\x20iorToRoug'+'hness:\x20f32'+'\x20=\x20(1.0\x20-\x20'+'gloss)\x20*\x20c'+'lamp((1.0\x20'+'/\x20refracti'+'onIndex)\x20*'+'\x202.0\x20-\x202.0'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20let'+'\x20refractio'+'nLod:\x20f32\x20'+'=\x20log2(uni'+'form.uScre'+'enSize.x)\x20'+'*\x20iorToRou'+'ghness;\x0a\x20\x20'+'\x20\x20let\x20refr'+'action:\x20ve'+'c3f\x20=\x20text'+'ureSampleL'+'evel(uScen'+'eColorMap,'+'\x20uSceneCol'+'orMapSampl'+'er,\x20uv,\x20re'+'fractionLo'+'d).rgb;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'refraction'+';\x0a}\x0a\x0afn\x20ad'+'dRefractio'+'n(\x0a\x20\x20\x20\x20wor'+('ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20thickness'+':\x20f32,\x0a\x20\x20\x20'+'\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20albedo:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'transmissi'+'on:\x20f32,\x0a\x20'+'\x20\x20\x20refract'+'ionIndex:\x20'+'f32,\x0a\x20\x20\x20\x20d'+'ispersion:'+'\x20f32,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'iridescenc'+'eIntensity'+':\x20f32\x0a#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20Extra'+'ct\x20scale\x20f'+'rom\x20the\x20mo'+'del\x20transf'+'orm\x0a\x20\x20\x20\x20va'+'r\x20modelSca'+'le:\x20vec3f;'+'\x0a\x20\x20\x20\x20model'+'Scale.x\x20=\x20'+'length(uni'+'form.matri'+'x_model[0]'+'.xyz);\x0a\x20\x20\x20'+'\x20modelScal'+'e.y\x20=\x20leng'+'th(uniform'+'.matrix_mo'+'del[1].xyz'+');\x0a\x20\x20\x20\x20mod'+'elScale.z\x20'+'=\x20length(u'+'niform.mat'+'rix_model['+'2].xyz);\x0a\x0a'+'\x20\x20\x20\x20//\x20Cal'+'culate\x20the'+'\x20refractio'+'n\x20vector,\x20'+'scaled\x20by\x20'+'the\x20thickn'+'ess\x20and\x20sc'+'ale\x20of\x20the'+'\x20object\x0a\x20\x20'+'\x20\x20let\x20scal'+'e:\x20vec3f\x20='+'\x20thickness'+'\x20*\x20modelSc'+'ale;\x0a\x20\x20\x20\x20v'+'ar\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndex))'+'\x20*\x20scale;\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'x);\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20the\x20dispe'+'rsion\x20mate'+'rial\x20prope'+'rty,\x20calcu'+'late\x20modif'+'ied\x20refrac'+'tion\x20index'+'\x20values\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20f'+'or\x20R\x20and\x20B'+'\x20channels\x20')+('and\x20evalua'+'te\x20the\x20ref'+'raction\x20co'+'lor\x20for\x20th'+'em.\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Spread:\x20f3'+'2\x20=\x20(1.0\x20/'+'\x20refractio'+'nIndex\x20-\x201'+'.0)\x20*\x200.02'+'5\x20*\x20disper'+'sion;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20r'+'efractionI'+'ndexR:\x20f32'+'\x20=\x20refract'+'ionIndex\x20-'+'\x20halfSprea'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'nVector\x20=\x20'+'normalize('+'refract(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndexR))\x20'+'*\x20scale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ref'+'raction.r\x20'+'=\x20evalRefr'+'actionColo'+'r(refracti'+'onVector,\x20'+'gloss,\x20ref'+'ractionInd'+'exR).r;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20refractio'+'nIndexB:\x20f'+'32\x20=\x20refra'+'ctionIndex'+'\x20+\x20halfSpr'+'ead;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndexB)'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efraction.'+'b\x20=\x20evalRe'+'fractionCo'+'lor(refrac'+'tionVector'+',\x20gloss,\x20r'+'efractionI'+'ndexB).b;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20T'+'ransmittan'+'ce\x20is\x20our\x20'+'final\x20refr'+'action\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20transmitt'+'ance:\x20vec3'+'f;\x0a\x20\x20\x20\x20if\x20'+'(uniform.m'+'aterial_in'+'vAttenuati'+'onDistance'+'\x20!=\x200.0)\x0a\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20att'+'enuation:\x20'+'vec3f\x20=\x20-l'+'og(uniform'+'.material_'+'attenuatio'+'n)\x20*\x20unifo'+'rm.materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans')+('mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20let\x20'+'fresnel:\x20v'+'ec3f\x20=\x20vec'+'3f(1.0)\x20-\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20world'+'Normal),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scenceInte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20mix(dDif'+'fuseLight,'+'\x20refractio'+'n\x20*\x20transm'+'ittance\x20*\x20'+'fresnel,\x20t'+'ransmissio'+'n);\x0a}\x0a'),fI='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0a#ifdef'+'\x20CUBEMAP_S'+'OURCE\x0a\x20\x20\x20\x20'+'var\x20source'+'Cube:\x20text'+'ure_cube<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20sourceC'+'ubeSampler'+'\x20:\x20sampler'+';\x0a#else\x0a\x20\x20'+'\x20\x20var\x20sour'+'ceTex:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sourceTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20//\x20sa'+'mples\x0a\x20\x20\x20\x20'+'var\x20sample'+'sTex:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20samplesTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplesT'+'exInverseS'+'ize:\x20vec2f'+';\x0a#endif\x0a\x0a'+'//\x20params:'+'\x0a//\x20x\x20-\x20ta'+'rget\x20cubem'+'ap\x20face\x200.'+'.6\x0a//\x20y\x20-\x20'+'target\x20ima'+'ge\x20total\x20p'+'ixels\x0a//\x20z'+'\x20-\x20source\x20'+'cubemap\x20si'+'ze\x0auniform'+'\x20params:\x20v'+'ec3f;\x0a\x0afn\x20'+'targetFace'+'()\x20->\x20f32\x20'+'{\x20return\x20u'+'niform.par'+'ams.x;\x20}\x0af'+'n\x20targetTo'+'talPixels('+')\x20->\x20f32\x20{'+'\x20return\x20un'+'iform.para'+'ms.y;\x20}\x0afn'+'\x20sourceTot'+'alPixels()'+'\x20->\x20f32\x20{\x20'+'return\x20uni'+'form.param'+'s.z;\x20}\x0a\x0aco'+'nst\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22enc'+'odePS\x22\x0a\x0a//'+'--\x20support'+'ed\x20project'+'ions\x0a\x0afn\x20m'+'odifySeams'+'(dir:\x20vec3'+'f,\x20scale:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20adir\x20='+'\x20abs(dir);'+'\x0a\x20\x20\x20\x20let\x20M'+'\x20=\x20max(max'+'(adir.x,\x20a'+'dir.y),\x20ad'+'ir.z);\x0a\x20\x20\x20'+'\x20return\x20di'+'r\x20/\x20M\x20*\x20ve'+'c3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20select('+('scale,\x201.0'+',\x20adir.x\x20='+'=\x20M),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20select'+'(scale,\x201.'+'0,\x20adir.y\x20'+'==\x20M),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20selec'+'t(scale,\x201'+'.0,\x20adir.z'+'\x20==\x20M)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0afn\x20'+'toSpherica'+'l(dir:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20l'+'et\x20nonZero'+'XZ\x20=\x20any(d'+'ir.xz\x20!=\x20v'+'ec2f(0.0,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2f(select'+'(0.0,\x20atan'+'2(dir.x,\x20d'+'ir.z),\x20non'+'ZeroXZ),\x20a'+'sin(dir.y)'+');\x0a}\x0a\x0afn\x20f'+'romSpheric'+'al(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20vec3'+'f(cos(uv.y'+')\x20*\x20sin(uv'+'.x),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sin(uv.y)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'s(uv.y)\x20*\x20'+'cos(uv.x))'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Equirect(u'+'v:\x20vec2f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20fromSphe'+'rical((vec'+'2f(uv.x,\x201'+'.0\x20-\x20uv.y)'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20vec2'+'f(PI,\x20PI\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20octahe'+'dral\x20code,'+'\x20based\x20on\x20'+'https://jc'+'gt.org/pub'+'lished/000'+'3/02/01/\x0a/'+'/\x20\x22Survey\x20'+'of\x20Efficie'+'nt\x20Represe'+'ntations\x20f'+'or\x20Indepen'+'dent\x20Unit\x20'+'Vectors\x22\x20b'+'y\x20Cigolle,'+'\x20Donow,\x20Ev'+'angelakos,'+'\x20Mara,\x20McG'+'uire,\x20Meye'+'r\x0a\x0afn\x20sign'+'NotZero(k:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20sele'+'ct(-1.0,\x201'+'.0,\x20k\x20>=\x200'+'.0);\x0a}\x0a\x0afn'+'\x20signNotZe'+'roVec2(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2f(signN'+'otZero(v.x'+'),\x20signNot'+'Zero(v.y))'+';\x0a}\x0a\x0a//\x20Re'+'turns\x20a\x20un'+'it\x20vector.'+'\x20Argument\x20'+'o\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20pack')+('ed\x20via\x20oct'+'Encode,\x20on'+'\x20the\x20[-1,\x20'+'+1]\x20square'+'\x0afn\x20octDec'+'ode(o:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20v\x20=\x20vec'+'3f(o.x,\x201.'+'0\x20-\x20abs(o.'+'x)\x20-\x20abs(o'+'.y),\x20o.y);'+'\x0a\x20\x20\x20\x20if\x20(v'+'.y\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20temp:\x20'+'vec2f\x20=\x20(1'+'.0\x20-\x20abs(v'+'.zx))\x20*\x20si'+'gnNotZeroV'+'ec2(v.xz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'\x20=\x20vec3f(t'+'emp.x,\x20v.y'+',\x20temp.y);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Octahedral'+'(uv:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20octDec'+'ode(vec2f('+'uv.x,\x201.0\x20'+'-\x20uv.y)\x20*\x20'+'2.0\x20-\x201.0)'+';\x0a}\x0a\x0a//\x20As'+'sumes\x20that'+'\x20v\x20is\x20a\x20un'+'it\x20vector.'+'\x20The\x20resul'+'t\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20on\x20t'+'he\x20[-1,\x20+1'+']\x20square\x0af'+'n\x20octEncod'+'e(v:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20var\x20'+'result\x20=\x20v'+'.xz\x20*\x20(1.0'+'\x20/\x20l1norm)'+';\x0a\x20\x20\x20\x20if\x20('+'v.y\x20<\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'(1.0\x20-\x20abs'+'(result.yx'+'))\x20*\x20signN'+'otZeroVec2'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20fn'+'\x20sampleCub'+'emapDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'sourceCube'+',\x20sourceCu'+'beSampler,'+'\x20modifySea'+'ms(dir,\x201.'+'0));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleCubem'+'apSph(sph:')+('\x20vec2f)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20sample'+'CubemapDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leCubemapD'+'irLod(dir:'+'\x20vec3f,\x20mi'+'pLevel:\x20f3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leLevel(so'+'urceCube,\x20'+'sourceCube'+'Sampler,\x20m'+'odifySeams'+'(dir,\x201.0)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleCubemap'+'SphLod(sph'+':\x20vec2f,\x20m'+'ipLevel:\x20f'+'32)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'sampleCube'+'mapDirLod('+'fromSpheri'+'cal(sph),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a#el'+'se\x0a\x0a\x20\x20\x20\x20fn'+'\x20sampleEqu'+'irectSph(s'+'ph:\x20vec2f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv\x20=\x20s'+'ph\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'(sourceTex'+',\x20sourceTe'+'xSampler,\x20'+'vec2f(uv.x'+',\x201.0\x20-\x20uv'+'.y));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20fn\x20'+'sampleEqui'+'rectDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'Sph(toSphe'+'rical(dir)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleEquirec'+'tSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20uv'+'\x20=\x20sph\x20/\x20v'+'ec2f(PI\x20*\x20'+'2.0,\x20PI)\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleLevel('+'sourceTex,'+'\x20sourceTex'+'Sampler,\x20v'+'ec2f(uv.x,'+'\x201.0\x20-\x20uv.'+'y),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleEquir'+'ectDirLod('+'dir:\x20vec3f'+',\x20mipLevel'+':\x20f32)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleE')+('quirectSph'+'Lod(toSphe'+'rical(dir)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleOctahed'+'ralDir(dir'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20=\x20oct'+'Encode(dir'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'textureSam'+'ple(source'+'Tex,\x20sourc'+'eTexSample'+'r,\x20vec2f(u'+'v.x,\x201.0\x20-'+'\x20uv.y));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20sampleO'+'ctahedralS'+'ph(sph:\x20ve'+'c2f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leOctahedr'+'alDirLod(d'+'ir:\x20vec3f,'+'\x20mipLevel:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'Level(sour'+'ceTex,\x20sou'+'rceTexSamp'+'ler,\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20sampl'+'eOctahedra'+'lSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'Lod(fromSp'+'herical(sp'+'h),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a\x0a'+'fn\x20getDire'+'ctionCubem'+'ap(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20st\x20=\x20uv'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20le'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20vec:\x20vec'+'3f;\x0a\x20\x20\x20\x20if'+'\x20(face\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(1,\x20'+'-st.y,\x20-st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3f(-1,\x20-'+'st.y,\x20st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x202.0)')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3f(st.x,\x201'+',\x20st.y);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(face\x20='+'=\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'\x20=\x20vec3f(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(st.'+'x,\x20-st.y,\x20'+'1);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(-st'+'.x,\x20-st.y,'+'\x20-1);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20normal'+'ize(modify'+'Seams(vec,'+'\x201.0));\x0a}\x0a'+'\x0afn\x20matrix'+'FromVector'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20-n.'+'x\x20*\x20n.y\x20*\x20'+'a;\x0a\x20\x20\x20\x20let'+'\x20b1\x20=\x20vec3'+'f(1.0\x20-\x20n.'+'x\x20*\x20n.x\x20*\x20'+'a,\x20b,\x20-n.x'+');\x0a\x20\x20\x20\x20let'+'\x20b2\x20=\x20vec3'+'f(b,\x201.0\x20-'+'\x20n.y\x20*\x20n.y'+'\x20*\x20a,\x20-n.y'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mat3x3'+'f(b1,\x20b2,\x20'+'n);\x0a}\x0a\x0afn\x20'+'matrixFrom'+'VectorSlow'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20up\x20=\x20sel'+'ect(vec3f('+'0.0,\x200.0,\x20'+'select(-1.'+'0,\x201.0,\x20n.'+'y\x20>\x200.0)),'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'),\x20abs(n.y'+')\x20>\x200.0000'+'001);\x0a\x20\x20\x20\x20'+'let\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20let'+'\x20y\x20=\x20cross'+'(n,\x20x);\x0a\x20\x20'+'\x20\x20return\x20m'+'at3x3f(x,\x20'+'y,\x20n);\x0a}\x0a\x0a'+'fn\x20reproje'+'ct(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20i'+'f\x20({NUM_SA'+'MPLES}\x20<=\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20sing'+'le\x20sample\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}({'+'DECODE_FUN'+'C}({SOURCE'+'_FUNC}Dir('+'{TARGET_FU'+'NC}(uv))))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mult'+'i\x20sample\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20t\x20=\x20{TARG')+('ET_FUNC}(u'+'v);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20tu\x20='+'\x20dpdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20tv\x20=\x20dpd'+'y(t);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'u\x20+=\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20for\x20(v'+'ar\x20v\x20=\x200.0'+';\x20v\x20<\x20{NUM'+'_SAMPLES_S'+'QRT};\x20v\x20+='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}Dir(norma'+'lize(t\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'u\x20*\x20(u\x20/\x20{'+'NUM_SAMPLE'+'S_SQRT}\x20-\x20'+'0.5)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tv\x20'+'*\x20(v\x20/\x20{NU'+'M_SAMPLES_'+'SQRT}\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20{ENC'+'ODE_FUNC}('+'result\x20/\x20('+'{NUM_SAMPL'+'ES_SQRT}\x20*'+'\x20{NUM_SAMP'+'LES_SQRT})'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0aconst\x20un'+'packFloat:'+'\x20vec4f\x20=\x20v'+'ec4f(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20fn\x20un'+'packSample'+'(i:\x20i32,\x20L'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20mipLev'+'el:\x20ptr<fu'+'nction,\x20f3'+'2>)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20u\x20'+'=\x20(f32(i\x20*'+'\x204)\x20+\x200.5)'+'\x20*\x20uniform'+'.samplesTe'+'xInverseSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20v\x20'+'=\x20(floor(u'+')\x20+\x200.5)\x20*'+'\x20uniform.s'+'amplesTexI'+'nverseSize'+'.y;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20raw'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.x\x20=\x20dot(t'+'extureSamp')+('le(samples'+'Tex,\x20sampl'+'esTexSampl'+'er,\x20vec2f('+'u,\x20v)),\x20un'+'packFloat)'+';\x20u\x20+=\x20uni'+'form.sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'textureSam'+'ple(sample'+'sTex,\x20samp'+'lesTexSamp'+'ler,\x20vec2f'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20un'+'iform.samp'+'lesTexInve'+'rseSize.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.z\x20=\x20dot'+'(textureSa'+'mple(sampl'+'esTex,\x20sam'+'plesTexSam'+'pler,\x20vec2'+'f(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20u'+'niform.sam'+'plesTexInv'+'erseSize.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'raw.w\x20=\x20do'+'t(textureS'+'ample(samp'+'lesTex,\x20sa'+'mplesTexSa'+'mpler,\x20vec'+'2f(u,\x20v)),'+'\x20unpackFlo'+'at);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20*L\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*m'+'ipLevel\x20=\x20'+'raw.w\x20*\x208.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20con'+'volve\x20an\x20e'+'nvironment'+'\x20given\x20pre'+'-generated'+'\x20samples\x0a\x20'+'\x20\x20\x20fn\x20pref'+'ilterSampl'+'es(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'truct\x20vect'+'or\x20space\x20g'+'iven\x20targe'+'t\x20directio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vecSpa'+'ce\x20=\x20matri'+'xFromVecto'+'rSlow({TAR'+'GET_FUNC}('+'uv));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20L'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20mipLevel:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(var\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20i\x20+=\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unpa'+'ckSample(i'+',\x20&L,\x20&mip'+'Level);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'result\x20+=\x20'+'{DECODE_FU')+('NC}({SOURC'+'E_FUNC}Dir'+'Lod(vecSpa'+'ce\x20*\x20L,\x20mi'+'pLevel))\x20*'+'\x20L.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20to'+'talWeight\x20'+'+=\x20L.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20{ENCOD'+'E_FUNC}(re'+'sult\x20/\x20tot'+'alWeight);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20unwei'+'ghted\x20vers'+'ion\x20of\x20pre'+'filterSamp'+'les\x0a\x20\x20\x20\x20fn'+'\x20prefilter'+'SamplesUnw'+'eighted(uv'+':\x20vec2f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20construct'+'\x20vector\x20sp'+'ace\x20given\x20'+'target\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20v'+'ecSpace\x20=\x20'+'matrixFrom'+'VectorSlow'+'({TARGET_F'+'UNC}(uv));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20L:\x20vec'+'3f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20mipL'+'evel:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20result'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(va'+'r\x20i\x20=\x200;\x20i'+'\x20<\x20{NUM_SA'+'MPLES};\x20i\x20'+'+=\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'unpackSamp'+'le(i,\x20&L,\x20'+'&mipLevel)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}DirLod(ve'+'cSpace\x20*\x20L'+',\x20mipLevel'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'{ENCODE_FU'+'NC}(result'+'\x20/\x20f32({NU'+'M_SAMPLES}'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20{P'+'ROCESS_FUN'+'C}(input.v'+'Uv0);\x0a\x20\x20\x20\x20'+'return\x20out'+'put;\x0a}\x0a'),uI='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0aunifo'+'rm\x20uvMod:\x20'+'vec4f;\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0a\x0a@'+'vertex\x0afn\x20'+'vertexMain'+'(input:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20var\x20outpu'+'t:\x20VertexO'+'utput;\x0a\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(input.v'+'ertex_posi'+'tion,\x200.5,'+'\x201.0);\x0a\x20\x20o'+'utput.vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(input.ver'+'tex_positi'+'on\x20*\x200.5\x20+'+'\x20vec2f(0.5'+',\x200.5))\x20*\x20'+'uniform.uv'+'Mod.xy\x20+\x20u'+'niform.uvM'+'od.zw);\x0a\x20\x20'+'return\x20out'+'put;\x0a}\x0a',pI='\x0a\x0avar\x20uSce'+'neDepthMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20uSceneD'+'epthMapSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifn'+'def\x20SCREEN'+'SIZE\x0a\x20\x20\x20\x20#'+'define\x20SCR'+'EENSIZE\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20#define\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20unifor'+'m\x20matrix_v'+'iew:\x20mat4x'+'4f;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20CAM'+'ERAPLANES\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20CAME'+'RAPLANES\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20camer'+'a_params:\x20'+'vec4f;\x20//\x20'+'x:\x201\x20/\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20\x20y:\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20z:\x20came'+'ra_near,\x20\x20'+'\x20\x20\x20\x20\x20\x20w:\x20i'+'s_ortho\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20fn\x20lin'+'earizeDept'+'h(z:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uniform.c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x20//\x20Pe'+'rspective\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20('+'uniform.ca'+'mera_param'+'s.z\x20*\x20unif'+'orm.camera'+'_params.y)'+'\x20/\x20(unifor'+'m.camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.z\x20-'+'\x20uniform.c'+'amera_para'+'ms.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20unifor'+'m.camera_p'+'arams.z\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'+'\x0afn\x20deline'+'arizeDepth'+'(linearDep'+'th:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.camera'+'_params.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(unif'+'orm.camera'+('_params.y\x20'+'*\x20(uniform'+'.camera_pa'+'rams.z\x20-\x20l'+'inearDepth'+'))\x20/\x20(line'+'arDepth\x20*\x20'+'(uniform.c'+'amera_para'+'ms.z\x20-\x20uni'+'form.camer'+'a_params.y'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(linearD'+'epth\x20-\x20uni'+'form.camer'+'a_params.z'+')\x20/\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20by'+'\x20UV\x0afn\x20get'+'LinearScre'+'enDepth(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_LINEAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SCEN'+'E_DEPTHMAP'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'uSceneDept'+'hMap,\x20uSce'+'neDepthMap'+'Sampler,\x20u'+'v).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20tex'+'tureSize\x20='+'\x20textureDi'+'mensions(u'+'SceneDepth'+'Map,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20texel'+':\x20vec2i\x20=\x20'+'vec2i(uv\x20*'+'\x20vec2f(tex'+'tureSize))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta:\x20vec4f\x20'+'=\x20textureL'+'oad(uScene'+'DepthMap,\x20'+'texel,\x200);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta_u32:\x20ve'+'c4u\x20=\x20vec4'+'u(data\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20intBits'+':\x20u32\x20=\x20(d'+'ata_u32.r\x20'+'<<\x2024u)\x20|\x20'+'(data_u32.'+'g\x20<<\x2016u)\x20'+'|\x20(data_u3'+'2.b\x20<<\x208u)'+'\x20|\x20data_u3'+'2.a;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20bitca'+'st<f32>(in'+'tBits);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pth(textur'+'eSample(uS'+'ceneDepthM')+('ap,\x20uScene'+'DepthMapSa'+'mpler,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20fn\x20get'+'LinearScre'+'enDepthFra'+'g()\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20pcP'+'osition.xy'+'\x20*\x20uniform'+'.uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afn\x20get'+'LinearDept'+'h(pos:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(unif'+'orm.matrix'+'_view\x20*\x20ve'+'c4f(pos,\x201'+'.0)).z;\x0a}\x0a'),mI='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x0afn'+'\x20getShadow'+'CascadeInd'+'ex(shadowC'+'ascadeDist'+'ances:\x20vec'+'4f,\x20shadow'+'CascadeCou'+'nt:\x20i32)\x20-'+'>\x20i32\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20dept'+'h\x20in\x200\x20..\x20'+'far\x20plane\x20'+'range\x0a\x20\x20\x20\x20'+'let\x20depth:'+'\x20f32\x20=\x201.0'+'\x20/\x20pcPosit'+'ion.w;\x0a\x0a\x20\x20'+'\x20\x20//\x201.0\x20i'+'f\x20depth\x20>='+'\x20distance,'+'\x200.0\x20other'+'wise\x0a\x20\x20\x20\x20l'+'et\x20compari'+'sons:\x20vec4'+'f\x20=\x20step(s'+'hadowCasca'+'deDistance'+'s,\x20vec4f(d'+'epth));\x0a\x0a\x20'+'\x20\x20\x20//\x20sum\x20'+'is\x20the\x20ind'+'ex\x0a\x20\x20\x20\x20let'+'\x20cascadeIn'+'dex:\x20i32\x20='+'\x20i32(dot(c'+'omparisons'+',\x20vec4f(1.'+'0)));\x0a\x0a\x20\x20\x20'+'\x20//\x20limit\x20'+'to\x20actual\x20'+'number\x20of\x20'+'used\x20casca'+'des\x0a\x20\x20\x20\x20re'+'turn\x20min(c'+'ascadeInde'+'x,\x20shadowC'+'ascadeCoun'+'t\x20-\x201);\x0a}\x0a'+'\x0a//\x20functi'+'on\x20which\x20m'+'odifies\x20ca'+'scade\x20inde'+'x\x20to\x20dithe'+'r\x20between\x20'+'cascades\x0af'+'n\x20ditherSh'+'adowCascad'+'eIndex(cas'+'cadeIndex_'+'in:\x20i32,\x20s'+'hadowCasca'+'deDistance'+'s:\x20vec4f,\x20'+'shadowCasc'+'adeCount:\x20'+'i32,\x20blend'+'Factor:\x20f3'+'2)\x20->\x20i32\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Use\x20var\x20as'+'\x20cascadeIn'+'dex\x20might\x20'+'be\x20modifie'+'d\x0a\x20\x20\x20\x20var\x20'+'cascadeInd'+'ex:\x20i32\x20=\x20'+'cascadeInd'+'ex_in;\x0a\x20\x20\x20'+'\x20if\x20(casca'+'deIndex\x20<\x20'+'shadowCasc'+'adeCount\x20-'+'\x201)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20cu'+'rrentRange'+'End:\x20f32\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+('\x20transitio'+'nStart:\x20f3'+'2\x20=\x20blendF'+'actor\x20*\x20cu'+'rrentRange'+'End;\x20//\x20St'+'art\x20overla'+'p\x20factor\x20a'+'way\x20from\x20t'+'he\x20end\x20dis'+'tance\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(depth\x20'+'>\x20transiti'+'onStart)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20a\x20tr'+'ansition\x20f'+'actor\x20(0.0'+'\x20to\x201.0)\x20w'+'ithin\x20the\x20'+'overlap\x20ra'+'nge\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'transition'+'Factor:\x20f3'+'2\x20=\x20smooth'+'step(trans'+'itionStart'+',\x20currentR'+'angeEnd,\x20d'+'epth);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Add\x20pse'+'udo-random'+'\x20dithering'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20TODO'+':\x20replace\x20'+'by\x20user\x20se'+'lectable\x20d'+'ithering\x20m'+'ethod\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20dither:\x20'+'f32\x20=\x20frac'+'t(sin(dot('+'pcPosition'+'.xy,\x20vec2f'+'(12.9898,\x20'+'78.233)))\x20'+'*\x2043758.54'+'53);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dither\x20<\x20'+'transition'+'Factor)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20casc'+'adeIndex\x20='+'\x20cascadeIn'+'dex\x20+\x201;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20cascadeIn'+'dex;\x0a}\x0a\x0afn'+'\x20fadeShado'+'w(shadowCo'+'ord_in:\x20ve'+'c3f,\x20shado'+'wCascadeDi'+'stances:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20//\x20if\x20the'+'\x20pixel\x20is\x20'+'past\x20the\x20s'+'hadow\x20dist'+'ance,\x20remo'+'ve\x20shadow\x0a'+'\x20\x20\x20\x20//\x20thi'+'s\x20enforces'+'\x20straight\x20'+'line\x20inste'+'ad\x20of\x20corn'+'er\x20of\x20shad'+'ow\x20which\x20m'+'oves\x20when\x20'+'camera\x20rot'+'ates\x0a\x20\x20\x20\x20v'+'ar\x20shadowC'+'oord:\x20vec3'+'f\x20=\x20shadow')+('Coord_in;\x0a'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x20\x20\x20\x20if\x20(d'+'epth\x20>\x20sha'+'dowCascade'+'Distances.'+'w)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20shadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'hadowCoord'+';\x0a}\x0a'),_I='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afn\x20linste'+'p(a:\x20f32,\x20'+'b:\x20f32,\x20v:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20/'+'/\x20WGSL\x20sat'+'urate\x20->\x20c'+'lamp\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p((v\x20-\x20a)\x20'+'/\x20(b\x20-\x20a),'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0afn\x20re'+'duceLightB'+'leeding(pM'+'ax:\x20f32,\x20a'+'mount:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'fn\x20chebysh'+'evUpperBou'+'nd(moments'+':\x20vec2f,\x20m'+'ean:\x20f32,\x20'+'minVarianc'+'e:\x20f32,\x20li'+'ghtBleedin'+'gReduction'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'//\x20Compute'+'\x20variance\x0a'+'\x20\x20\x20\x20var\x20va'+'riance:\x20f3'+'2\x20=\x20moment'+'s.y\x20-\x20(mom'+'ents.x\x20*\x20m'+'oments.x);'+'\x0a\x20\x20\x20\x20varia'+'nce\x20=\x20max('+'variance,\x20'+'minVarianc'+'e);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'probabilis'+'tic\x20upper\x20'+'bound\x0a\x20\x20\x20\x20'+'let\x20d:\x20f32'+'\x20=\x20mean\x20-\x20'+'moments.x;'+'\x0a\x20\x20\x20\x20var\x20p'+'Max:\x20f32\x20='+'\x20variance\x20'+'/\x20(varianc'+'e\x20+\x20(d\x20*\x20d'+'));\x0a\x0a\x20\x20\x20\x20p'+'Max\x20=\x20redu'+'ceLightBle'+'eding(pMax'+',\x20lightBle'+'edingReduc'+'tion);\x0a\x0a\x20\x20'+'\x20\x20//\x20One-t'+'ailed\x20Cheb'+'yshev\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(pMax,\x20'+'1.0,\x20mean\x20'+'<=\x20moments'+'.x);\x0a}\x0a\x0afn'+'\x20calculate'+'EVSM(momen'+'ts_in:\x20vec'+'3f,\x20Z_in:\x20'+'f32,\x20vsmBi'+'as:\x20f32,\x20e'+'xponent:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20Z:\x20f32\x20=\x20'+'2.0\x20*\x20Z_in'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20let\x20warp'+'edDepth:\x20f'+'32\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20l'+('et\x20moments'+':\x20vec2f\x20=\x20'+'moments_in'+'.xy\x20+\x20vec2'+'f(warpedDe'+'pth,\x20warpe'+'dDepth*war'+'pedDepth)\x20'+'*\x20(1.0\x20-\x20m'+'oments_in.'+'z);\x0a\x0a\x20\x20\x20\x20l'+'et\x20VSMBias'+':\x20f32\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20let\x20d'+'epthScale:'+'\x20f32\x20=\x20VSM'+'Bias\x20*\x20exp'+'onent\x20*\x20wa'+'rpedDepth;'+'\x0a\x20\x20\x20\x20let\x20m'+'inVariance'+'1:\x20f32\x20=\x20d'+'epthScale\x20'+'*\x20depthSca'+'le;\x0a\x20\x20\x20\x20re'+'turn\x20cheby'+'shevUpperB'+'ound(momen'+'ts,\x20warped'+'Depth,\x20min'+'Variance1,'+'\x200.1);\x0a}\x0a/'+'/\x20------\x20V'+'SM\x2016\x20----'+'--\x0a\x0afn\x20VSM'+'16(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords:\x20vec'+'2f,\x20resolu'+'tion:\x20f32,'+'\x20Z:\x20f32,\x20v'+'smBias:\x20f3'+'2,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20let\x20momen'+'ts:\x20vec3f\x20'+'=\x20textureS'+'ampleLevel'+'(tex,\x20texS'+'ampler,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'n\x20getShado'+'wVSM16(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M16(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord.xy,\x20s'+'hadowParam'+'s.x,\x20shado'+'wCoord.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotVSM1'+'6(shadowMa'+'p:\x20texture'+'_2d<f32>,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler,\x20sha'+'dowCoord:\x20'+'vec3f,\x20sha')+('dowParams:'+'\x20vec4f,\x20ex'+'ponent:\x20f3'+'2,\x20lightDi'+'r:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20Z:\x20'+'f32\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20V'+'SM16(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20Z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----'+'--\x0a\x0afn\x20VSM'+'32(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords_in:\x20'+'vec2f,\x20res'+'olution:\x20f'+'32,\x20Z:\x20f32'+',\x20vsmBias:'+'\x20f32,\x20expo'+'nent:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20CAPS_TEX'+'TURE_FLOAT'+'_FILTERABL'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20moment'+'s:\x20vec3f\x20='+'\x20textureSa'+'mpleLevel('+'tex,\x20texSa'+'mpler,\x20tex'+'Coords_in,'+'\x200.0).xyz;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20manual\x20b'+'ilinear\x20fi'+'ltering\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'pixelSize\x20'+':\x20f32\x20=\x201.'+'0\x20/\x20resolu'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20te'+'xCoords:\x20v'+'ec2f\x20=\x20tex'+'Coords_in\x20'+'-\x20vec2f(pi'+'xelSize);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20s00:\x20vec'+'3f\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20texCoords'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20s10:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20texCoor'+'ds\x20+\x20vec2f'+'(pixelSize'+',\x200.0),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'s01:\x20vec3f'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'exCoords\x20+'+'\x20vec2f(0.0'+',\x20pixelSiz'+'e),\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s11:')+('\x20vec3f\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20texCo'+'ords\x20+\x20vec'+'2f(pixelSi'+'ze),\x200.0).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fr:'+'\x20vec2f\x20=\x20f'+'ract(texCo'+'ords\x20*\x20res'+'olution);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20h0:\x20vec3'+'f\x20=\x20mix(s0'+'0,\x20s10,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20h1:'+'\x20vec3f\x20=\x20m'+'ix(s01,\x20s1'+'1,\x20fr.x);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20moments:'+'\x20vec3f\x20=\x20m'+'ix(h0,\x20h1,'+'\x20fr.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owVSM32(sh'+'adowMap:\x20t'+'exture_2d<'+'f32>,\x20shad'+'owMapSampl'+'er:\x20sample'+'r,\x20shadowC'+'oord:\x20vec3'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20expone'+'nt:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20V'+'SM32(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afn\x20getSha'+'dowSpotVSM'+'32(shadowM'+'ap:\x20textur'+'e_2d<f32>,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20e'+'xponent:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20Z:'+'\x20f32\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20Z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a'),gI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afn\x20getS'+'hadowPCF1x'+'1(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowCoo'+'rd.z);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotPCF1'+'x1(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20shad'+'owCoord.xy'+',\x20shadowCo'+'ord.z);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a//\x20Not\x20su'+'pported\x20on'+'\x20WebGPU\x20de'+'vice\x0a//\x20fn'+'\x20getShadow'+'OmniPCF1x1'+'(shadowMap'+':\x20texture_'+'depth_cube'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f,'+'\x20lightDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a//\x20'+'\x20\x20\x20\x20let\x20sh'+'adowZ:\x20f32'+'\x20=\x20length('+'lightDir)\x20'+'*\x20shadowPa'+'rams.w\x20+\x20s'+'hadowParam'+'s.z;\x0a//\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20lightD'+'ir,\x20shadow'+'Z);\x0a//\x20}\x0a',SI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0afn\x20_getS'+'hadowPCF3x'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20sum:\x20f3'+'2\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20let\x20uw'+'0:\x20f32\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20s);\x0a\x20\x20\x20\x20'+'let\x20uw1:\x20f'+'32\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20s)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20u0_offset'+':\x20f32\x20=\x20(2'+'.0\x20-\x20s)\x20/\x20'+'uw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20let\x20u'+'1_offset:\x20'+'f32\x20=\x20s\x20/\x20'+'uw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'vw0:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20let\x20vw1:'+'\x20f32\x20=\x20(1.'+'0\x20+\x202.0\x20*\x20'+'t);\x0a\x0a\x20\x20\x20\x20l'+'et\x20v0_offs'+'et:\x20f32\x20=\x20'+'(2.0\x20-\x20t)\x20'+'/\x20vw0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20let'+'\x20v1_offset'+':\x20f32\x20=\x20t\x20'+'/\x20vw1\x20+\x201.'+'0;\x0a\x0a\x20\x20\x20\x20le'+'t\x20u0:\x20f32\x20'+'=\x20u0_offse'+'t\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20v0:\x20f32\x20'+'=\x20v0_offse'+'t\x20*\x20shadow'+('MapSizeInv'+'\x20+\x20base_uv'+'.y;\x0a\x0a\x20\x20\x20\x20l'+'et\x20u1:\x20f32'+'\x20=\x20u1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20l'+'et\x20v1:\x20f32'+'\x20=\x20v1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'sum\x20=\x20sum\x20'+'+\x20uw0\x20*\x20vw'+'0\x20*\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20v'+'ec2f(u0,\x20v'+'0),\x20z);\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw1\x20*\x20'+'vw0\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u1,'+'\x20v0),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw0\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'0,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u1,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20*'+'\x20(1.0\x20/\x2016'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20sum;'+'\x0a}\x0a\x0afn\x20get'+'ShadowPCF3'+'x3(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wPCF3x3(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0afn\x20getSh'+'adowSpotPC'+'F3x3(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3(')+('shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams.xyz);'+'\x0a}\x0a\x0a//\x20---'+'--\x20Omni\x20Sa'+'mpling\x20---'+'--\x0a\x0a//\x20Not'+'\x20currently'+'\x20supported'+'\x20on\x20WebGPU'+'\x20device\x0a//'+'\x20fn\x20getSha'+'dowOmniPCF'+'3x3(shadow'+'Map:\x20textu'+'re_depth_c'+'ube,\x20shado'+'wMapSample'+'r:\x20sampler'+'_compariso'+'n,\x20shadowP'+'arams:\x20vec'+'4f,\x20dir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a//\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a//\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(dir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x0a//'+'\x20\x20\x20\x20\x20//\x20of'+'fset\x0a//\x20\x20\x20'+'\x20\x20let\x20texS'+'ize_i\x20=\x20te'+'xtureDimen'+'sions(shad'+'owMap,\x200);'+'\x0a//\x20\x20\x20\x20\x20le'+'t\x20z:\x20f32\x20='+'\x201.0\x20/\x20f32'+'(texSize_i'+'.x);\x0a//\x20\x20\x20'+'\x20\x20let\x20tc:\x20'+'vec3f\x20=\x20no'+'rmalize(di'+'r);\x0a\x0a//\x20\x20\x20'+'\x20\x20//\x20avera'+'ge\x204\x20sampl'+'es\x20-\x20not\x20a'+'\x20strict\x203x'+'3\x20PCF\x20but\x20'+'that\x27s\x20tri'+'cky\x20with\x20c'+'ubemaps\x0a//'+'\x20\x20\x20\x20\x20var\x20s'+'hadows:\x20ve'+'c4f;\x0a//\x20\x20\x20'+'\x20\x20shadows.'+'x\x20=\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20t'+'c\x20+\x20vec3f('+'\x20z,\x20\x20z,\x20\x20z'+'),\x20shadowZ'+');\x0a//\x20\x20\x20\x20\x20'+'shadows.y\x20'+'=\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20tc\x20'+'+\x20vec3f(-z'+',\x20-z,\x20\x20z),'+'\x20shadowZ);'+'\x0a//\x20\x20\x20\x20\x20sh'+'adows.z\x20=\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20tc\x20+\x20'+'vec3f(-z,\x20'+'\x20z,\x20-z),\x20s'+'hadowZ);\x0a/')+('/\x20\x20\x20\x20\x20shad'+'ows.w\x20=\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20tc\x20+\x20ve'+'c3f(\x20z,\x20-z'+',\x20-z),\x20sha'+'dowZ);\x0a\x0a//'+'\x20\x20\x20\x20\x20retur'+'n\x20dot(shad'+'ows,\x20vec4f'+'(0.25));\x0a/'+'/\x20}\x0a\x0a//\x20fn'+'\x20getShadow'+'OmniPCF3x3'+'_Wrapper(s'+'hadowMap:\x20'+'texture_de'+'pth_cube,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a//\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCF3x3(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowParams'+',\x20lightDir'+');\x0a//\x20}\x0a'),yI='\x0a//\x20http:/'+'/the-witne'+'ss.net/new'+'s/2013/09/'+'shadow-map'+'ping-summa'+'ry-part-1/'+'\x0afn\x20_getSh'+'adowPCF5x5'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20l'+'et\x20uw0:\x20f3'+'2\x20=\x20(4.0\x20-'+'\x203.0\x20*\x20s);'+'\x0a\x20\x20\x20\x20let\x20u'+'w1:\x20f32\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20l'+'et\x20uw2:\x20f3'+'2\x20=\x20(1.0\x20+'+'\x203.0\x20*\x20s);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'u0_offset:'+'\x20f32\x20=\x20(3.'+'0\x20-\x202.0\x20*\x20'+'s)\x20/\x20uw0\x20-'+'\x202.0;\x0a\x20\x20\x20\x20'+'let\x20u1_off'+'set:\x20f32\x20='+'\x20(3.0\x20+\x20s)'+'\x20/\x20uw1;\x0a\x20\x20'+'\x20\x20let\x20u2_o'+'ffset:\x20f32'+'\x20=\x20s\x20/\x20uw2'+'\x20+\x202.0;\x0a\x0a\x20'+'\x20\x20\x20let\x20vw0'+':\x20f32\x20=\x20(4'+'.0\x20-\x203.0\x20*'+'\x20t);\x0a\x20\x20\x20\x20l'+'et\x20vw1:\x20f3'+'2\x20=\x207.0;\x0a\x20'+'\x20\x20\x20let\x20vw2'+':\x20f32\x20=\x20(1'+'.0\x20+\x203.0\x20*'+'\x20t);\x0a\x0a\x20\x20\x20\x20'+'let\x20v0_off'+'set:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t)\x20/\x20v'+'w0\x20-\x202.0;\x0a'+'\x20\x20\x20\x20let\x20v1'+'_offset:\x20f'+'32\x20=\x20(3.0\x20'+('+\x20t)\x20/\x20vw1'+';\x0a\x20\x20\x20\x20let\x20'+'v2_offset:'+'\x20f32\x20=\x20t\x20/'+'\x20vw2\x20+\x202.0'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20sum:\x20f32\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20let\x20u0:\x20'+'f32\x20=\x20u0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.x;\x0a\x20\x20'+'\x20\x20let\x20v0:\x20'+'f32\x20=\x20v0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20u1:'+'\x20f32\x20=\x20u1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.x;\x0a\x20'+'\x20\x20\x20let\x20v1:'+'\x20f32\x20=\x20v1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20let\x20u2'+':\x20f32\x20=\x20u2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.x;\x0a'+'\x20\x20\x20\x20let\x20v2'+':\x20f32\x20=\x20v2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20sum\x20='+'\x20sum\x20+\x20uw0'+'\x20*\x20vw0\x20*\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20vec2f('+'u0,\x20v0),\x20z'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20sum\x20+\x20u'+'w1\x20*\x20vw0\x20*'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20vec2'+'f(u1,\x20v0),'+'\x20z);\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw2\x20*\x20vw0'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u2,\x20v0'+'),\x20z);\x0a\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw0\x20*\x20'+'vw1\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u0,'+'\x20v1),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'1,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'2\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare')+('Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u2,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw0\x20*\x20vw2'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u0,\x20v2'+'),\x20z);\x0a\x20\x20\x20'+'\x20sum\x20=\x20sum'+'\x20+\x20uw1\x20*\x20v'+'w2\x20*\x20textu'+'reSampleCo'+'mpareLevel'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'vec2f(u1,\x20'+'v2),\x20z);\x0a\x20'+'\x20\x20\x20sum\x20=\x20s'+'um\x20+\x20uw2\x20*'+'\x20vw2\x20*\x20tex'+'tureSample'+'CompareLev'+'el(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20vec2f(u2'+',\x20v2),\x20z);'+'\x0a\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20*\x20(1'+'.0\x20/\x20144.0'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afn'+'\x20getShadow'+'PCF5x5(sha'+'dowMap:\x20te'+'xture_dept'+'h_2d,\x20shad'+'owMapSampl'+'er:\x20sample'+'r_comparis'+'on,\x20shadow'+'Coord:\x20vec'+'3f,\x20shadow'+'Params:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20_getS'+'hadowPCF5x'+'5(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params.xyz'+');\x0a}\x0a\x0afn\x20g'+'etShadowSp'+'otPCF5x5(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owCoord:\x20v'+'ec3f,\x20shad'+'owParams:\x20'+'vec4f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20_ge'+'tShadowPCF'+'5x5(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a'),vI='\x0a\x0afn\x20fract'+'SinRand(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20PI:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20a:\x20f32\x20'+'=\x2012.9898;'+'\x20let\x20b:\x20f3'+'2\x20=\x2078.233'+';\x20let\x20c:\x20f'+'32\x20=\x2043758'+'.5453;\x0a\x20\x20\x20'+'\x20let\x20dt:\x20f'+'32\x20=\x20dot(u'+'v.xy,\x20vec2'+'f(a,\x20b));\x0a'+'\x20\x20\x20\x20let\x20sn'+':\x20f32\x20=\x20dt'+'\x20%\x20PI;\x0a\x20\x20\x20'+'\x20return\x20fr'+'act(sin(sn'+')\x20*\x20c);\x0a}\x0a'+'\x0a//\x20struct'+'\x20to\x20hold\x20p'+'recomputed'+'\x20constants'+'\x20and\x20curre'+'nt\x20state\x0as'+'truct\x20Voge'+'lDiskData\x20'+'{\x0a\x20\x20\x20\x20invN'+'umSamples:'+'\x20f32,\x0a\x20\x20\x20\x20'+'initialAng'+'le:\x20f32,\x0a\x20'+'\x20\x20\x20current'+'PointId:\x20f'+'32,\x0a}\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'fn\x20prepare'+'DiskConsta'+'nts(data:\x20'+'ptr<functi'+'on,\x20VogelD'+'iskData>,\x20'+'sampleCoun'+'t:\x20i32,\x20ra'+'ndomSeed:\x20'+'f32)\x20{\x0a\x20\x20\x20'+'\x20let\x20pi2:\x20'+'f32\x20=\x206.28'+'318530718;'+'\x0a\x20\x20\x20\x20data.'+'invNumSamp'+'les\x20=\x201.0\x20'+'/\x20f32(samp'+'leCount);\x0a'+'\x20\x20\x20\x20data.i'+'nitialAngl'+'e\x20=\x20random'+'Seed\x20*\x20pi2'+';\x0a\x20\x20\x20\x20data'+'.currentPo'+'intId\x20=\x200.'+'0;\x0a}\x0a\x0a\x0afn\x20'+'generateDi'+'skSample(d'+'ata:\x20ptr<f'+'unction,\x20V'+'ogelDiskDa'+'ta>)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20GOLDEN'+'_ANGLE:\x20f3'+'2\x20=\x202.3999'+'63;\x0a\x20\x20\x20\x20le'+'t\x20r:\x20f32\x20='+'\x20sqrt((dat'+'a.currentP'+'ointId\x20+\x200'+'.5)\x20*\x20data'+'.invNumSam'+'ples);\x0a\x20\x20\x20'+'\x20let\x20theta'+':\x20f32\x20=\x20da'+'ta.current'+'PointId\x20*\x20'+'GOLDEN_ANG'+'LE\x20+\x20data.'+'initialAng'+('le;\x0a\x0a\x20\x20\x20\x20l'+'et\x20offset:'+'\x20vec2f\x20=\x20v'+'ec2f(cos(t'+'heta),\x20sin'+'(theta))\x20*'+'\x20pow(r,\x201.'+'33);\x0a\x0a\x20\x20\x20\x20'+'data.curre'+'ntPointId\x20'+'=\x20data.cur'+'rentPointI'+'d\x20+\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'offset;\x0a}\x0a'+'\x0afn\x20PCSSFi'+'ndBlocker('+'shadowMap:'+'\x20texture_2'+'d<f32>,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler,\x20avgBl'+'ockerDepth'+':\x20ptr<func'+'tion,\x20f32>'+',\x20numBlock'+'ers:\x20ptr<f'+'unction,\x20i'+'32>,\x0a\x20\x20\x20\x20s'+'hadowCoord'+'s:\x20vec2f,\x20'+'z:\x20f32,\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32,\x20penum'+'braSize:\x20f'+'32,\x20invSha'+'dowMapSize'+':\x20f32,\x20ran'+'domSeed:\x20f'+'32)\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20diskD'+'ata:\x20Vogel'+'DiskData;\x0a'+'\x20\x20\x20\x20prepar'+'eDiskConst'+'ants(&disk'+'Data,\x20shad'+'owBlockerS'+'amples,\x20ra'+'ndomSeed);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'searchWidt'+'h:\x20f32\x20=\x20p'+'enumbraSiz'+'e\x20*\x20invSha'+'dowMapSize'+';\x0a\x20\x20\x20\x20var\x20'+'blockerSum'+':\x20f32\x20=\x200.'+'0;\x0a\x20\x20\x20\x20var'+'\x20numBlocke'+'rs_local:\x20'+'i32\x20=\x200;\x0a\x0a'+'\x20\x20\x20\x20for(\x20v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20s'+'hadowBlock'+'erSamples;'+'\x20i\x20=\x20i\x20+\x201'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20dis'+'kUV:\x20vec2f'+'\x20=\x20generat'+'eDiskSampl'+'e(&diskDat'+'a);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20samp'+'leUV:\x20vec2'+'f\x20=\x20shadow'+'Coords\x20+\x20d'+'iskUV\x20*\x20se'+'archWidth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadowM'+'apDepth:\x20f'+'32\x20=\x20textu'+'reSampleLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20sampleU'+'V,\x200.0).r;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(\x20shadow'+'MapDepth\x20<'+'\x20z\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20b'+'lockerSum\x20')+('=\x20blockerS'+'um\x20+\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers_local'+'\x20=\x20numBloc'+'kers_local'+'\x20+\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20*avg'+'BlockerDep'+'th\x20=\x20block'+'erSum\x20/\x20f3'+'2(numBlock'+'ers_local)'+';\x0a\x20\x20\x20\x20*num'+'Blockers\x20='+'\x20numBlocke'+'rs_local;\x0a'+'}\x0a\x0afn\x20PCSS'+'Filter(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20uv:\x20vec2'+'f,\x20receive'+'rDepth:\x20f3'+'2,\x20shadowS'+'amples:\x20i3'+'2,\x20filterR'+'adius:\x20f32'+',\x20randomSe'+'ed:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20var\x20dis'+'kData:\x20Vog'+'elDiskData'+';\x0a\x20\x20\x20\x20prep'+'areDiskCon'+'stants(&di'+'skData,\x20sh'+'adowSample'+'s,\x20randomS'+'eed);\x0a\x0a\x20\x20\x20'+'\x20var\x20sum:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20for\x20('+'var\x20i:\x20i32'+'\x20=\x200;\x20i\x20<\x20'+'shadowSamp'+'les;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'offsetUV:\x20'+'vec2f\x20=\x20ge'+'nerateDisk'+'Sample(&di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dept'+'h:\x20f32\x20=\x20t'+'extureSamp'+'leLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv\x20'+'+\x20offsetUV'+',\x200.0).r;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20su'+'m\x20=\x20sum\x20+\x20'+'step(recei'+'verDepth,\x20'+'depth);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20sum\x20/'+'\x20f32(shado'+'wSamples);'+'\x0a}\x0a\x0afn\x20get'+'Penumbra(d'+'blocker:\x20f'+'32,\x20drecei'+'ver:\x20f32,\x20'+'penumbraSi'+'ze:\x20f32,\x20p'+'enumbraFal'+'loff:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20di'+'st:\x20f32\x20=\x20'+'dreceiver\x20'+'-\x20dblocker'+';\x0a\x20\x20\x20\x20let\x20'+'penumbra:\x20'+'f32\x20=\x201.0\x20'+'-\x20pow(1.0\x20'+'-\x20dist,\x20pe')+('numbraFall'+'off);\x0a\x20\x20\x20\x20'+'return\x20pen'+'umbra\x20*\x20pe'+'numbraSize'+';\x0a}\x0a\x0afn\x20PC'+'SSDirectio'+'nal(shadow'+'Map:\x20textu'+'re_2d<f32>'+',\x20shadowMa'+'pSampler:\x20'+'sampler,\x20s'+'hadowCoord'+'s:\x20vec3f,\x20'+'cameraPara'+'ms:\x20vec4f,'+'\x20softShado'+'wParams:\x20v'+'ec4f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'let\x20receiv'+'erDepth:\x20f'+'32\x20=\x20shado'+'wCoords.z;'+'\x0a\x20\x20\x20\x20let\x20r'+'andomSeed:'+'\x20f32\x20=\x20fra'+'ctSinRand('+'pcPosition'+'.xy);\x0a\x20\x20\x20\x20'+'let\x20shadow'+'Samples:\x20i'+'32\x20=\x20i32(s'+'oftShadowP'+'arams.x);\x0a'+'\x20\x20\x20\x20let\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32\x20=\x20i32('+'softShadow'+'Params.y);'+'\x0a\x20\x20\x20\x20let\x20p'+'enumbraSiz'+'e:\x20f32\x20=\x20s'+'oftShadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20let\x20pen'+'umbraFallo'+'ff:\x20f32\x20=\x20'+'softShadow'+'Params.w;\x0a'+'\x0a\x20\x20\x20\x20let\x20s'+'hadowMapSi'+'ze:\x20i32\x20=\x20'+'i32(textur'+'eDimension'+'s(shadowMa'+'p,\x200).x);\x0a'+'\x20\x20\x20\x20var\x20in'+'vShadowMap'+'Size:\x20f32\x20'+'=\x201.0\x20/\x20f3'+'2(shadowMa'+'pSize);\x0a\x20\x20'+'\x20\x20invShado'+'wMapSize\x20='+'\x20invShadow'+'MapSize\x20*\x20'+'(f32(shado'+'wMapSize)\x20'+'/\x202048.0);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'penumbra:\x20'+'f32;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20avgBloc'+'kerDepth:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20numBloc'+'kers:\x20i32\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20&a'+'vgBlockerD'+'epth,\x20&num')+('Blockers,\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowBl'+'ockerSampl'+'es,\x20penumb'+'raSize,\x20in'+'vShadowMap'+'Size,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20when\x20no\x20b'+'lockers\x20ar'+'e\x20present\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(numBlock'+'ers\x20<\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20pen'+'umbra\x20size'+'\x20is\x20based\x20'+'on\x20the\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'getPenumbr'+'a(avgBlock'+'erDepth,\x20s'+'hadowCoord'+'s.z,\x20penum'+'braSize,\x20p'+'enumbraFal'+'loff);\x0a\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20constan'+'t\x20filter\x20s'+'ize,\x20no\x20co'+'ntact\x20hard'+'ening\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20penum'+'braSize;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20filter'+'Radius:\x20f3'+'2\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ords.xy,\x20r'+'eceiverDep'+'th,\x20shadow'+'Samples,\x20f'+'ilterRadiu'+'s,\x20randomS'+'eed);\x0a}\x0a\x0af'+'n\x20getShado'+'wPCSS(shad'+'owMap:\x20tex'+'ture_2d<f3'+'2>,\x20shadow'+'MapSampler'+':\x20sampler,'+'\x20shadowCoo'+'rd:\x20vec3f,'+'\x20shadowPar'+'ams:\x20vec4f'+',\x20cameraPa'+'rams:\x20vec4'+'f,\x20softSha'+'dowParams:'+'\x20vec4f,\x20li'+'ghtDir:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x20//\x20lig'+'htDir\x20unus'+'ed?\x20Kept\x20p'+'aram.\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SDirection'+'al(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP')+'arams);\x0a}\x0a',xI='\x0aattribute'+'\x20vertex_bo'+'neIndices:'+'\x20f32;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20g'+'etBoneMatr'+'ix(indexFl'+'oat:\x20f32)\x20'+'->\x20mat4x4f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20width\x20=\x20'+'i32(textur'+'eDimension'+'s(texture_'+'poseMap).x'+');\x0a\x20\x20\x20\x20let'+'\x20index:\x20i3'+'2\x20=\x20i32(in'+'dexFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x20\x20\x20\x20let\x20i'+'y:\x20i32\x20=\x20i'+'ndex\x20/\x20wid'+'th;\x0a\x20\x20\x20\x20le'+'t\x20ix:\x20i32\x20'+'=\x20index\x20%\x20'+'width;\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'elements\x20o'+'f\x204x3\x20matr'+'ix\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec4f'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(ix'+'\x20+\x200,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20v2:\x20vec'+'4f\x20=\x20textu'+'reLoad(tex'+'ture_poseM'+'ap,\x20vec2i('+'ix\x20+\x201,\x20iy'+'),\x200);\x0a\x20\x20\x20'+'\x20let\x20v3:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(ix\x20+\x202,\x20'+'iy),\x200);\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4x4f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.x,\x20v2.x,'+'\x20v3.x,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.y,\x20v2.y,\x20'+'v3.y,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'z,\x20v2.z,\x20v'+'3.z,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.w'+',\x20v2.w,\x20v3'+'.w,\x201.0\x0a\x20\x20'+'\x20\x20);\x0a}\x0a',TI='\x0a\x0aattribut'+'e\x20vertex_b'+'oneWeights'+':\x20vec4f;\x0aa'+'ttribute\x20v'+'ertex_bone'+'Indices:\x20v'+'ec4f;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0astru'+'ct\x20BoneMat'+'rix\x20{\x0a\x20\x20\x20\x20'+'v1:\x20vec4f,'+'\x0a\x20\x20\x20\x20v2:\x20v'+'ec4f,\x0a\x20\x20\x20\x20'+'v3:\x20vec4f,'+'\x0a}\x0a\x0afn\x20get'+'BoneMatrix'+'(width:\x20i3'+'2,\x20index:\x20'+'i32)\x20->\x20Bo'+'neMatrix\x20{'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'v\x20=\x20index\x20'+'/\x20width;\x0a\x20'+'\x20\x20\x20let\x20u\x20='+'\x20index\x20%\x20w'+'idth;\x0a\x0a\x20\x20\x20'+'\x20var\x20resul'+'t:\x20BoneMat'+'rix;\x0a\x20\x20\x20\x20r'+'esult.v1\x20='+'\x20textureLo'+'ad(texture'+'_poseMap,\x20'+'vec2i(u\x20+\x20'+'0,\x20v),\x200);'+'\x0a\x20\x20\x20\x20resul'+'t.v2\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20result.v3'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(u\x20'+'+\x202,\x20v),\x200'+');\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0afn\x20ge'+'tSkinMatri'+'x(indicesF'+'loat:\x20vec4'+'f,\x20weights'+':\x20vec4f)\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20width\x20=\x20i'+'32(texture'+'Dimensions'+'(texture_p'+'oseMap).x)'+';\x0a\x20\x20\x20\x20var\x20'+'indices\x20=\x20'+'vec4i(indi'+'cesFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'boneA\x20=\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.x);'+'\x0a\x20\x20\x20\x20let\x20b'+'oneB\x20=\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y);\x0a'+'\x20\x20\x20\x20let\x20bo'+'neC\x20=\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.z);\x0a\x20'+'\x20\x20\x20let\x20bon'+'eD\x20=\x20getBo'+'neMatrix(w'+'idth,\x20indi'+'ces.w);\x0a\x0a\x20'+'\x20\x20\x20//\x20...\x20'+'rest\x20of\x20ge'+'tSkinMatri'+'x\x20remains\x20'+'the\x20same\x20.'+'..\x0a\x20\x20\x20\x20let'+'\x20v1\x20=\x20bone'+'A.v1\x20*\x20wei'+('ghts.x\x20+\x20b'+'oneB.v1\x20*\x20'+'weights.y\x20'+'+\x20boneC.v1'+'\x20*\x20weights'+'.z\x20+\x20boneD'+'.v1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20let\x20v2\x20=\x20'+'boneA.v2\x20*'+'\x20weights.x'+'\x20+\x20boneB.v'+'2\x20*\x20weight'+'s.y\x20+\x20bone'+'C.v2\x20*\x20wei'+'ghts.z\x20+\x20b'+'oneD.v2\x20*\x20'+'weights.w;'+'\x0a\x20\x20\x20\x20let\x20v'+'3\x20=\x20boneA.'+'v3\x20*\x20weigh'+'ts.x\x20+\x20bon'+'eB.v3\x20*\x20we'+'ights.y\x20+\x20'+'boneC.v3\x20*'+'\x20weights.z'+'\x20+\x20boneD.v'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'let\x20one\x20=\x20'+'dot(weight'+'s,\x20vec4f(1'+'.0,\x201.0,\x201'+'.0,\x201.0));'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'ranspose\x20t'+'o\x204x4\x20matr'+'ix\x0a\x20\x20\x20\x20ret'+'urn\x20mat4x4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20v1.x,\x20v2.'+'x,\x20v3.x,\x200'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.y,\x20v2.y'+',\x20v3.y,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.z,\x20v2.z,'+'\x20v3.z,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.w,\x20v2.w,\x20'+'v3.w,\x20one\x0a'+'\x20\x20\x20\x20);\x0a}\x0a'),wI='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vLinear'+'Depth:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'floatAsUin'+'tPS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20Varyin'+'g\x20and\x20unif'+'orm\x20declar'+'ations\x0a\x20\x20\x20'+'\x20varying\x20v'+'ViewDir\x20:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20uniform\x20s'+'kyboxHighl'+'ightMultip'+'lier\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20SKY_CU'+'BEMAP\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cub'+'eMap\x20:\x20tex'+'ture_cube<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_cube'+'Map_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vWo'+'rldPos\x20:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20p'+'rojectedSk'+'ydomeCente'+'r\x20:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'env-atlas\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'phericalPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'envAtlasPS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_envAtlas_'+'sampler\x20:\x20'+'sampler;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20mipL'+'evel\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20@'+'fragment\x0a\x20'+'\x20\x20\x20fn\x20frag'+'mentMain(i'+'nput\x20:\x20Fra'+'gmentInput'+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20PREPA'+('SS_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20output'+'\x20linear\x20de'+'pth\x20during'+'\x20prepass\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20floa'+'t2vec4(vLi'+'nearDepth)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20linear'+'\x20:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20dir\x20'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KY_CUBEMAP'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+'\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+'nvDir\x20:\x20ve'+'c3f\x20=\x20norm'+'alize(inpu'+'t.vWorldPo'+'s\x20-\x20unifor'+'m.projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'\x20=\x20envDir\x20'+'*\x20uniform.'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir\x20='+'\x20input.vVi'+'ewDir;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'.x\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'tureSample'+'(texture_c'+'ubeMap,\x20te'+'xture_cube'+'Map_sample'+'r,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20env-atla'+'s\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ir\x20=\x20input'+'.vViewDir\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv\x20:\x20'+'vec2f\x20=\x20to'+'SphericalU'+'v(normaliz'+'e(dir));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20linea'+'r\x20=\x20{SKYBO'+'X_DECODE_F'+'NC}(textur'+'eSample(te'+'xture_envA'+'tlas,\x20text'+'ure_envAtl'+'as_sampler'+',\x20mapRough'+'nessUv(uv,')+('\x20uniform.m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ou'+'r\x20HDR\x20enco'+'des\x20values'+'\x20up\x20to\x2064,'+'\x20so\x20allow\x20'+'extra\x20brig'+'htness\x20for'+'\x20the\x20clipp'+'ed\x20values\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(any('+'linear\x20>=\x20'+'vec3f(64.0'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20uniform.'+'skyboxHigh'+'lightMulti'+'plier;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),EI='\x0a\x20\x20\x20\x20//\x20At'+'tribute\x0a\x20\x20'+'\x20\x20attribut'+'e\x20aPositio'+'n\x20:\x20vec4f;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20matrix'+'_view\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20uniform\x20m'+'atrix_proj'+'ectionSkyb'+'ox\x20:\x20mat4x'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vViewDir'+'\x20:\x20vec3f;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PREPASS_'+'PASS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20when'+'\x20skydome\x20r'+'enders\x20dep'+'th\x20during\x20'+'prepass,\x20g'+'enerate\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vLi'+'nearDepth:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vWorldP'+'os\x20:\x20vec3f'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input\x20'+':\x20VertexIn'+'put)\x20->\x20Ve'+'rtexOutput'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut\x20:\x20Verte'+'xOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20view\x20:\x20ma'+'t4x4f\x20=\x20un'+'iform.matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'worldPos\x20:'+'\x20vec4f\x20=\x20u'+'niform.mat'+'rix_model\x20'+'*\x20input.aP'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vW'+'orldPos\x20=\x20'+'worldPos.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'inear\x20dept'+'h\x20from\x20the'+'\x20worldPosi'+'tion,\x20see\x20'+'getLinearD'+'epth\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vL'+'inearDepth'+'\x20=\x20-(unifo'+('rm.matrix_'+'view\x20*\x20vec'+'4f(worldPo'+'s.xyz,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[0]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[1]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[2]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20uniform.m'+'atrix_proj'+'ectionSkyb'+'ox\x20*\x20(view'+'\x20*\x20input.a'+'Position);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'vViewDir\x20='+'\x20input.aPo'+'sition.xyz'+'\x20*\x20uniform'+'.cubeMapRo'+'tationMatr'+'ix;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20for\x20'+'infinite\x20s'+'kybox,\x20use'+'\x20negative\x20'+'gl_Positio'+'n.w\x20to\x20get'+'\x20positive\x20'+'linear\x20dep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-pcPositi'+'on.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Force\x20sk'+'ybox\x20to\x20fa'+'r\x20Z,\x20regar'+'dless\x20of\x20t'+'he\x20clip\x20pl'+'anes\x20on\x20th'+'e\x20camera\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Subtract\x20a'+'\x20tiny\x20fudg'+'e\x20factor\x20t'+'o\x20ensure\x20f'+'loating\x20po'+'int\x20errors'+'\x20don\x27t\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20st'+'ill\x20push\x20p'+'ixels\x20beyo'+'nd\x20far\x20Z.\x20'+'See:\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20http'+'s://commun'+'ity.khrono'+'s.org/t/sk'+'ybox-probl'+'em/61857\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.posit'+'ion.z\x20=\x20ou'+'tput.posit'+'ion.w\x20-\x201.'+'0e-7;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),bI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_specular'+':\x20vec3f;\x0a#'+'endif\x0a\x0afn\x20'+'getSpecula'+'rity()\x20{\x0a\x20'+'\x20\x20\x20var\x20spe'+'cularColor'+'\x20=\x20vec3f(1'+'.0,\x201.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'CONSTANT\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20unifo'+'rm.materia'+'l_specular'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_TE'+'XTURE\x0a\x20\x20\x20\x20'+'specularCo'+'lor\x20=\x20spec'+'ularColor\x20'+'*\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SPECU'+'LAR_TEXTUR'+'E_NAME},\x20{'+'STD_SPECUL'+'AR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_S'+'PECULAR_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SPECULA'+'R_VERTEX\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20satur'+'ate3(vVert'+'exColor.{S'+'TD_SPECULA'+'R_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dSpe'+'cularity\x20='+'\x20specularC'+'olor;\x0a}\x0a',AI='\x0a\x0afn\x20toSph'+'erical(dir'+':\x20vec3f)\x20-'+'>\x20vec2f\x20{\x0a'+'\x20\x20\x20\x20let\x20an'+'gle_xz\x20=\x20s'+'elect(0.0,'+'\x20atan2(dir'+'.x,\x20dir.z)'+',\x20any(dir.'+'xz\x20!=\x20vec2'+'f(0.0)));\x0a'+'\x20\x20\x20\x20return'+'\x20vec2f(ang'+'le_xz,\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0afn\x20toS'+'phericalUv'+'(dir\x20:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20c'+'onst\x20PI\x20:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20uv\x20:\x20ve'+'c2f\x20=\x20toSp'+'herical(di'+'r)\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x20vec'+'2f(0.5,\x200.'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y);\x0a'+'}\x0a',CI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'\x20\x20\x20\x20unifor'+'m\x20material'+'_speculari'+'tyFactor:\x20'+'f32;\x0a#endi'+'f\x0a\x0afn\x20getS'+'pecularity'+'Factor()\x20{'+'\x0a\x20\x20\x20\x20var\x20s'+'pecularity'+'Factor\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20speculari'+'tyFactor\x20='+'\x20speculari'+'tyFactor\x20*'+'\x20uniform.m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'ARITYFACTO'+'R_TEXTURE\x0a'+'\x20\x20\x20\x20specul'+'arityFacto'+'r\x20=\x20specul'+'arityFacto'+'r\x20*\x20textur'+'eSampleBia'+'s({STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_NAME},\x20'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_VE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_SPEC'+'ULARITYFAC'+'TOR_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dS'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor;\x0a}\x0a',PI='\x0afn\x20getSpo'+'tEffect(li'+'ghtSpotDir'+':\x20vec3f,\x20l'+'ightInnerC'+'oneAngle:\x20'+'f32,\x20light'+'OuterConeA'+'ngle:\x20f32,'+'\x20lightDirN'+'orm:\x20vec3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'osAngle:\x20f'+'32\x20=\x20dot(l'+'ightDirNor'+'m,\x20lightSp'+'otDir);\x0a\x20\x20'+'\x20\x20return\x20s'+'moothstep('+'lightOuter'+'ConeAngle,'+'\x20lightInne'+'rConeAngle'+',\x20cosAngle'+');\x0a}',MI='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2f(vUv0'+'.x,\x201.0\x20-\x20'+'vUv0.y);\x0a',DI='\x0a\x20\x20\x20\x20let\x20t'+'ileMask:\x20v'+'ec2f\x20=\x20ste'+'p(vMask,\x20v'+'ec2f(0.999'+'99));\x0a\x20\x20\x20\x20'+'let\x20tileSi'+'ze:\x20vec2f\x20'+'=\x200.5\x20*\x20(i'+'nnerOffset'+'.xy\x20+\x20inne'+'rOffset.zw'+');\x0a\x20\x20\x20\x20let'+'\x20tileScale'+':\x20vec2f\x20=\x20'+'vec2f(1.0)'+'\x20/\x20(vec2f('+'1.0)\x20-\x20til'+'eSize);\x0a\x20\x20'+'\x20\x20var\x20clam'+'pedUv:\x20vec'+'2f\x20=\x20mix(i'+'nnerOffset'+'.xy\x20*\x200.5,'+'\x20vec2f(1.0'+')\x20-\x20innerO'+'ffset.zw\x20*'+'\x200.5,\x20frac'+'t((vTiledU'+'v\x20-\x20tileSi'+'ze)\x20*\x20tile'+'Scale));\x0a\x20'+'\x20\x20\x20clamped'+'Uv\x20=\x20clamp'+'edUv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x20\x20\x20\x20'+'var\x20nineSl'+'icedUv:\x20ve'+'c2f\x20=\x20vUv0'+'\x20*\x20tileMas'+'k\x20+\x20clampe'+'dUv\x20*\x20(vec'+'2f(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x0a',II='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dAlpha'+':\x20f32\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20//'+'\x20all\x20passe'+'s\x20handle\x20o'+'pacity\x0a\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'!=\x20NONE\x20||'+'\x20defined(L'+'IT_ALPHA_T'+'EST)\x20||\x20de'+'fined(LIT_'+'ALPHA_TO_C'+'OVERAGE)\x20|'+'|\x20STD_OPAC'+'ITY_DITHER'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_OP'+'ACITY_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_opa'+'cityMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_opacityMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20globals'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dAlbedo:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'NormalW:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dSp'+'ecularity:'+'\x20vec3f\x20=\x20v'+'ec3f(0.0,\x20'+'0.0,\x200.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dGlossin'+'ess:\x20f32\x20='+'\x200.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_REFR'+'ACTION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dTransmi'+'ssion:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dTh'+'ickness:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'CENE_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SCREE'+'N_SIZE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20uSc'+'reenSize:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+('f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_TRANSFOR'+'MS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20ma'+'trix_viewP'+'rojection:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20matri'+'x_model:\x20m'+'at4x4f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20paral'+'lax\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_HEIGHT_'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'UvOffset:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'DIFFUSE_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_heightM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'heightMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'diffuseMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_diffus'+'eMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSEDETAI'+'L_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20norma'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_NORMAL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_normalMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20#ifdef'+'\x20STD_NORMA'+'LDETAIL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalDetai'+'lMap\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_no'+'rmalDetail'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_T'+'HICKNESS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'thicknessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_thic'+'knessMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_REFRACTIO'+'N_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_refract'+'ionMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'refraction'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20i'+'ridescence'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dIr'+'idescence:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20dIridesce'+'nceThickne'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'iridescenc'+'eThickness'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_iridescen'+'ceThicknes'+'sMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur')+('e_iridesce'+'nceMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_irides'+'cenceMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20ccSp'+'ecularity:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20ccGlossin'+'ess:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20ccNor'+'malW:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dAni'+'sotropy:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'Anisotropy'+'Rotation:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'arity\x20&\x20gl'+'ossiness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20she'+'en\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sSpecular'+'ity:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sGlossine'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'HEENGLOSS_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_s'+'heenGlossM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_sheenG'+'lossMapSam'+'pler\x20:\x20sam'+'pler;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_MET'+'ALNESS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dMet'+'alness:\x20f3'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dIor:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'metalnessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_metaln'+'essMapSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'rity\x20facto'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var<privat'+'e>\x20dSpecul'+'arityFacto'+'r:\x20f32;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rityFactor'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_specu'+'larityFact'+'orMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_SPECULAR'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_')+('specularMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20gloss\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_glossMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_glo'+'ssMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dAo:\x20f32;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_aoMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_AODETAIL_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoDet'+'ailMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_aoDeta'+'ilMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dEmission'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_EM'+'ISSIVE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_em'+'issiveMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_emissiv'+'eMapSample'+'r\x20:\x20sample')+('r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatG'+'lossMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_clear'+'CoatGlossM'+'apSampler\x20'+':\x20sampler;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_clearC'+'oatNormalM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatN'+'ormalMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20anisotr'+'opy\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_A'+'NISOTROPY_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aniso'+'tropyMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_anis'+'otropyMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20lightm'+'ap\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(STD_LIG'+'HTMAP)\x20||\x20')+('defined(ST'+'D_LIGHT_VE'+'RTEX_COLOR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dLi'+'ghtmap:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_LI'+'GHT_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_l'+'ightMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_light'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20front'+'\x20end\x20outpu'+'ts\x20to\x20lit\x20'+'shader\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22litShader'+'CorePS\x22\x0a'),LI='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fn\x20'+'getSpecula'+'rity()\x20{\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20vec3f'+'(1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'gloss\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22gl'+'ossPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22aoPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20emissi'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22emissiveP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clear'+'coat\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20')+('LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22clea'+'rCoatPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'GlossPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'NormalPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ani'+'sotropy\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x20&&\x20defin'+'ed(LIT_LIG'+'HTING)\x20&&\x20'+'defined(LI'+'T_GGX_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22an'+'isotropyPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(ST'+'D_LIGHTMAP'+')\x20||\x20defin'+'ed(STD_LIG'+'HT_VERTEX_'+'COLOR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22l'+'ightmapPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20fn\x20evalu'+'ateFronten'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20al'+'l\x20passes\x20h'+'andle\x20opac'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIT_'+'BLEND_TYPE'+'\x20!=\x20NONE\x20|'+'|\x20defined('+'LIT_ALPHA_'+'TEST)\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x20'+'||\x20STD_OPA'+'CITY_DITHE'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getOpaci'+'ty();\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_ALPHA'+'_TEST)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20alphaTe'+'st(dAlpha)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20opacityDi'+'ther(dAlph'+'a,\x200.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20d'+'Alpha;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20par')+('allax\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getP'+'arallax();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getA'+'lbedo();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_a'+'lbedo\x20=\x20dA'+'lbedo;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20normal\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getNorma'+'l();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_w'+'orldNormal'+'\x20=\x20dNormal'+'W;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'fraction\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etRefracti'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'transmissi'+'on\x20=\x20dTran'+'smission;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Thickness('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness\x20=\x20d'+'Thickness;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_D'+'ISPERSION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_di'+'spersion\x20='+'\x20uniform.m'+'aterial_di'+'spersion;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_IRIDESC'+'ENCE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getIrides'+'cence();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getIr'+'idescenceT'+'hickness()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x20=\x20'+'dIridescen'+'ce;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specularit'+'y\x20&\x20glossi'+'ness\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20sheen\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSheen()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'sheen_spec'+'ularity\x20=\x20'+'sSpeculari'+'ty;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getShe'+'enGlossine'+'ss();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_sheen_'+'gloss\x20=\x20sG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getMetaln'+'ess();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_metal'+'ness\x20=\x20dMe'+'talness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etIor();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+'\x20=\x20dIor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'ity\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULARITY_'+'FACTOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'yFactor();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'Factor\x20=\x20d'+'Specularit'+'yFactor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20gloss\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'y();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20dSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs')+('_gloss\x20=\x20d'+'Glossiness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ao\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getAO();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_ao\x20=\x20'+'dAo;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getEmissi'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_emis'+'sion\x20=\x20dEm'+'ission;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getClea'+'rCoat();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getCl'+'earCoatGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'ClearCoatN'+'ormal();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20=\x20ccS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_glos'+'s\x20=\x20ccGlos'+'siness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal\x20=\x20ccNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20anisotro'+'py\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getAnisot'+'ropy();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightM'+'ap();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmap\x20='+'\x20dLightmap'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_')+('LIGHTMAP_D'+'IR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmapD'+'ir\x20=\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a'),RI='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20tbnB'+'asis:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getTBN(t'+'angent:\x20ve'+'c3f,\x20binor'+'mal:\x20vec3f'+',\x20normal:\x20'+'vec3f)\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20TBN_TANGE'+'NTS\x20//\x20tan'+'gents\x20/\x20bi'+'normals\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dTB'+'N\x20=\x20mat3x3'+'f(normaliz'+'e(tangent)'+',\x20normaliz'+'e(binormal'+'),\x20normali'+'ze(normal)'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20define'+'d(TBN_DERI'+'VATIVES)\x20/'+'/\x20derivati'+'ves\x20based\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2f\x20=\x20{'+'lightingUv'+'};\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dp1:'+'\x20vec3f\x20=\x20d'+'pdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dp2:\x20vec3'+'f\x20=\x20dpdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20duv1'+':\x20vec2f\x20=\x20'+'dpdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20duv2:\x20'+'vec2f\x20=\x20dp'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20solve\x20th'+'e\x20linear\x20s'+'ystem\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20dp'+'2perp:\x20vec'+'3f\x20=\x20cross'+'(\x20dp2,\x20nor'+'mal\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20d'+'p1perp:\x20ve'+'c3f\x20=\x20cros'+'s(\x20normal,'+'\x20dp1\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'T:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.x\x20+\x20'+'dp1perp\x20*\x20'+'duv2.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'B:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+('dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+'ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20deno'+'m:\x20f32\x20=\x20m'+'ax(\x20dot(T,'+'\x20T),\x20dot(B'+',\x20B)\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'invmax:\x20f3'+'2\x20=\x20select'+'(uniform.t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20),\x200.0,\x20'+'denom\x20==\x200'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3x3f(T\x20'+'*\x20invmax,\x20'+'-B\x20*\x20invma'+'x,\x20normal\x20'+');\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20obj'+'ect\x20space\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20B:\x20'+'vec3f\x20=\x20cr'+'oss(normal'+',\x20vObjectS'+'paceUpW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20T:\x20vec3f'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dot(B,'+'B)\x20==\x200.0)'+'\x20//\x20deal\x20w'+'ith\x20case\x20w'+'hen\x20vObjec'+'tSpaceUpW\x20'+'normal\x20are'+'\x20parallel\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20majo'+'r:\x20f32\x20=\x20m'+'ax(max(nor'+'mal.x,\x20nor'+'mal.y),\x20no'+'rmal.z);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20B\x20=\x20c'+'ross(norma'+'l,\x20vec3f(0'+'.0,\x201.0,\x200'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x20if\x20(n'+'ormal.y\x20=='+'\x20major)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20B\x20'+'=\x20cross(no'+'rmal,\x20vec3'+'f(0.0,\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20//'+'\x20removed\x20\x22'+'if\x20(normal'+'.z\x20==\x20majo'+'r)\x22\x20assumi'+'ng\x20it\x27s\x20th'+'e\x20only\x20rem'+'aining\x20cas'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20B\x20=\x20cros'+'s(normal,\x20'+'vec3f(1.0,'+'\x200.0,\x200.0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3x3f(n'+'ormalize(T'+'),\x20normali'+'ze(B),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a}'),OI='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_th'+'ickness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getTh'+'ickness()\x20'+'{\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'THICKNESS_'+'CONSTANT\x0a\x20'+'\x20\x20\x20dThickn'+'ess\x20=\x20dThi'+'ckness\x20*\x20u'+'niform.mat'+'erial_thic'+'kness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_THICKN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x20d'+'Thickness\x20'+'*\x20textureS'+'ampleBias('+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_THICKNESS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_THIC'+'KNESS_VERT'+'EX\x0a\x20\x20\x20\x20dTh'+'ickness\x20=\x20'+'dThickness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',FI='\x0a#if\x20(TONE'+'MAP\x20==\x20NON'+'E)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingNo'+'nePS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20FILMIC\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingFilmi'+'cPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22tonemap'+'pingLinear'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20HEJL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gHejlPS\x22\x0a#'+'elif\x20TONEM'+'AP\x20==\x20ACES'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingAces'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20ACES2\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngAces2PS\x22'+'\x0a#elif\x20TON'+'EMAP\x20==\x20NE'+'UTRAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gNeutralPS'+'\x22\x0a#endif\x0a',NI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20t'+'A:\x20f32\x20=\x202'+'.51;\x0a\x20\x20\x20\x20l'+'et\x20tB:\x20f32'+'\x20=\x200.03;\x0a\x20'+'\x20\x20\x20let\x20tC:'+'\x20f32\x20=\x202.4'+'3;\x0a\x20\x20\x20\x20let'+'\x20tD:\x20f32\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20let\x20tE:\x20f'+'32\x20=\x200.14;'+'\x0a\x20\x20\x20\x20let\x20x'+':\x20vec3f\x20=\x20'+'color\x20*\x20un'+'iform.expo'+'sure;\x0a\x20\x20\x20\x20'+'return\x20(x\x20'+'*\x20(tA\x20*\x20x\x20'+'+\x20tB))\x20/\x20('+'x\x20*\x20(tC\x20*\x20'+'x\x20+\x20tD)\x20+\x20'+'tE);\x0a}\x0a',kI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0a//\x20AC'+'ES\x20approxi'+'mation\x20by\x20'+'Stephen\x20Hi'+'ll\x0a\x0a//\x20sRG'+'B\x20=>\x20XYZ\x20='+'>\x20D65_2_D6'+'0\x20=>\x20AP1\x20='+'>\x20RRT_SAT\x0a'+'const\x20ACES'+'InputMat:\x20'+'mat3x3f\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20vec3f(0'+'.59719,\x200.'+'35458,\x200.0'+'4823),\x0a\x20\x20\x20'+'\x20vec3f(0.0'+'7600,\x200.90'+'834,\x200.015'+'66),\x0a\x20\x20\x20\x20v'+'ec3f(0.028'+'40,\x200.1338'+'3,\x200.83777'+')\x0a);\x0a\x0a//\x20O'+'DT_SAT\x20=>\x20'+'XYZ\x20=>\x20D60'+'_2_D65\x20=>\x20'+'sRGB\x0aconst'+'\x20ACESOutpu'+'tMat:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20v'+'ec3f(\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367),\x0a\x20\x20\x20\x20'+'vec3f(-0.1'+'0208,\x20\x201.1'+'0813,\x20-0.0'+'0605),\x0a\x20\x20\x20'+'\x20vec3f(-0.'+'00327,\x20-0.'+'07276,\x20\x201.'+'07602)\x0a);\x0a'+'\x0afn\x20RRTAnd'+'ODTFit(v:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20a:\x20v'+'ec3f\x20=\x20v\x20*'+'\x20(v\x20+\x20vec3'+'f(0.024578'+'6))\x20-\x20vec3'+'f(0.000090'+'537);\x0a\x20\x20\x20\x20'+'let\x20b:\x20vec'+'3f\x20=\x20v\x20*\x20('+'vec3f(0.98'+'3729)\x20*\x20v\x20'+'+\x20vec3f(0.'+'4329510))\x20'+'+\x20vec3f(0.'+'238081);\x0a\x20'+'\x20\x20\x20return\x20'+'a\x20/\x20b;\x0a}\x0a\x0a'+'fn\x20toneMap'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'var\x20c:\x20vec'+'3f\x20=\x20color'+'\x20*\x20(unifor'+'m.exposure'+'\x20/\x200.6);\x0a\x20'+'\x20\x20\x20c\x20=\x20c\x20*'+'\x20ACESInput'+'Mat;\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20R'+'RT\x20and\x20ODT'+'\x0a\x20\x20\x20\x20c\x20=\x20R'+'RTAndODTFi'+'t(c);\x0a\x20\x20\x20\x20'+'c\x20=\x20c\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(c,\x20vec'+'3f(0.0),\x20v'+'ec3f(1.0))'+';\x0a}\x0a',UI='\x0aconst\x20A:\x20'+'f32\x20=\x200.15'+';\x0aconst\x20B:'+'\x20f32\x20=\x200.5'+'0;\x0aconst\x20C'+':\x20f32\x20=\x200.'+'10;\x0aconst\x20'+'D:\x20f32\x20=\x200'+'.20;\x0aconst'+'\x20E:\x20f32\x20=\x20'+'0.02;\x0acons'+'t\x20F:\x20f32\x20='+'\x200.30;\x0acon'+'st\x20W:\x20f32\x20'+'=\x2011.2;\x0a\x0au'+'niform\x20exp'+'osure:\x20f32'+';\x0a\x0afn\x20unch'+'arted2Tone'+'map(x:\x20vec'+'3f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20((x\x20'+'*\x20(A\x20*\x20x\x20+'+'\x20C\x20*\x20B)\x20+\x20'+'D\x20*\x20E)\x20/\x20('+'x\x20*\x20(A\x20*\x20x'+'\x20+\x20B)\x20+\x20D\x20'+'*\x20F))\x20-\x20ve'+'c3f(E\x20/\x20F)'+';\x0a}\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20c'+':\x20vec3f\x20=\x20'+'uncharted2'+'Tonemap(co'+'lor\x20*\x20unif'+'orm.exposu'+'re);\x0a\x20\x20\x20\x20l'+'et\x20whiteSc'+'ale:\x20vec3f'+'\x20=\x20vec3f(1'+'.0)\x20/\x20unch'+'arted2Tone'+'map(vec3f('+'W,\x20W,\x20W));'+'\x0a\x20\x20\x20\x20c\x20*=\x20'+'whiteScale'+';\x0a\x20\x20\x20\x20retu'+'rn\x20c;\x0a}\x0a',BI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20A'+':\x20f32\x20=\x200.'+'22;\x0a\x20\x20\x20\x20le'+'t\x20B:\x20f32\x20='+'\x200.3;\x0a\x20\x20\x20\x20'+'let\x20C:\x20f32'+'\x20=\x200.1;\x0a\x20\x20'+'\x20\x20let\x20D:\x20f'+'32\x20=\x200.2;\x0a'+'\x20\x20\x20\x20let\x20E:'+'\x20f32\x20=\x200.0'+'1;\x0a\x20\x20\x20\x20let'+'\x20F:\x20f32\x20=\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20Scl:\x20f3'+'2\x20=\x201.25;\x0a'+'\x0a\x20\x20\x20\x20let\x20a'+'djusted_co'+'lor\x20=\x20colo'+'r\x20*\x20unifor'+'m.exposure'+';\x0a\x20\x20\x20\x20let\x20'+'h\x20=\x20max(ve'+'c3f(0.0),\x20'+'adjusted_c'+'olor\x20-\x20vec'+'3f(0.004))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20(h\x20*\x20('+'(Scl\x20*\x20A)\x20'+'*\x20h\x20+\x20Scl\x20'+'*\x20vec3f(C\x20'+'*\x20B))\x20+\x20Sc'+'l\x20*\x20vec3f('+'D\x20*\x20E))\x20/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(h\x20*\x20(A\x20*'+'\x20h\x20+\x20vec3f'+'(B))\x20+\x20vec'+'3f(D\x20*\x20F))'+'\x20-\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20Scl\x20*\x20'+'vec3f(E\x20/\x20'+'F);\x0a}\x0a',zI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'uniform.ex'+'posure;\x0a}\x0a',VI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(col:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20var\x20col'+'or\x20=\x20col\x20*'+'\x20uniform.e'+'xposure;\x0a\x0a'+'\x20\x20\x20\x20let\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20let\x20des'+'aturation\x20'+'=\x200.15;\x0a\x0a\x20'+'\x20\x20\x20let\x20x\x20='+'\x20min(color'+'.r,\x20min(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20let\x20offs'+'et\x20=\x20selec'+'t(0.04,\x20x\x20'+'-\x206.25\x20*\x20x'+'\x20*\x20x,\x20x\x20<\x20'+'0.08);\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'vec3f(offs'+'et);\x0a\x0a\x20\x20\x20\x20'+'let\x20peak\x20='+'\x20max(color'+'.r,\x20max(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20if\x20(peak'+'\x20<\x20startCo'+'mpression)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'d\x20=\x201.0\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20let\x20newP'+'eak\x20=\x201.0\x20'+'-\x20d\x20*\x20d\x20/\x20'+'(peak\x20+\x20d\x20'+'-\x20startCom'+'pression);'+'\x0a\x20\x20\x20\x20color'+'\x20*=\x20newPea'+'k\x20/\x20peak;\x0a'+'\x0a\x20\x20\x20\x20let\x20g'+'\x20=\x201.0\x20-\x201'+'.0\x20/\x20(desa'+'turation\x20*'+'\x20(peak\x20-\x20n'+'ewPeak)\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ve'+'c3f(newPea'+'k),\x20vec3f('+'g));\x0a}\x0a',GI='\x0afn\x20toneMa'+'p(color:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a}\x0a',HI='\x0a#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20SCREE'+'NSPACE\x0a\x20\x20\x20'+'\x20uniform\x20p'+'rojectionF'+'lipY:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20evalWorl'+'dPosition('+'vertexPosi'+'tion:\x20vec3'+'f,\x20modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ve'+'c4f\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20local'+'Pos:\x20vec3f'+'\x20=\x20getLoca'+'lPosition('+'vertexPosi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20outer\x20and'+'\x20inner\x20ver'+'tices\x20are\x20'+'at\x20the\x20sam'+'e\x20position'+',\x20scale\x20bo'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20local'+'PosXZ:\x20vec'+'2f\x20=\x20local'+'Pos.xz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20loca'+'lPosXZ\x20=\x20l'+'ocalPosXZ\x20'+'*\x20uniform.'+'outerScale'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20offset'+'\x20inner\x20ver'+'tices\x20insi'+'de\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20(origi'+'nal\x20vertic'+'es\x20must\x20be'+'\x20in\x20[-1;1]'+'\x20range)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'positiveUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(vertex'+'Position.x'+'z,\x20vec2f(0'+'.0),\x20vec2f'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(-verte'+'xPosition.'+'xz,\x20vec2f('+'0.0),\x20vec2'+'f(1.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20loc'+'alPosXZ\x20=\x20'+'localPosXZ'+'\x20+\x20(-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy\x20+'+'\x20negativeU'+'nitOffset\x20'+'*\x20uniform.'+'innerOffse'+'t.zw)\x20*\x20ve'+'rtex_texCo'+'ord0.xy;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'iledUvGlob'+'al\x20=\x20(loca'+'lPosXZ\x20-\x20u'+'niform.out'+'erScale\x20+\x20'+'uniform.in'+'nerOffset.'+'xy)\x20*\x20-0.5'+'\x20+\x201.0;\x20//'+'\x20uv\x20=\x20loca'+'l\x20pos\x20-\x20in'+('ner\x20corner'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPosXZ'+'\x20=\x20localPo'+'sXZ\x20*\x20-0.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20='+'\x20vec3f(loc'+'alPosXZ.x,'+'\x20localPosX'+'Z.y,\x20local'+'Pos.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20var\x20po'+'sW:\x20vec4f\x20'+'=\x20modelMat'+'rix\x20*\x20vec4'+'f(localPos'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'posW\x20=\x20vec'+'4f(posW.xy'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20posW'+';\x0a}\x0a\x0afn\x20ge'+'tPosition('+')\x20->\x20vec4f'+'\x20{\x0a\x0a\x20\x20\x20\x20dM'+'odelMatrix'+'\x20=\x20getMode'+'lMatrix();'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'posW:\x20vec4'+'f\x20=\x20evalWo'+'rldPositio'+'n(vertex_p'+'osition.xy'+'z,\x20dModelM'+'atrix);\x0a\x20\x20'+'\x20\x20dPositio'+'nW\x20=\x20posW.'+'xyz;\x0a\x0a\x20\x20\x20\x20'+'var\x20screen'+'Pos:\x20vec4f'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20UV1LAYO'+'UT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20vec4f(v'+'ertex_texC'+'oord1.xy\x20*'+'\x202.0\x20-\x201.0'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SCR'+'EENSPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20posW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20unif'+'orm.projec'+'tionFlipY;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos\x20=\x20u'+'niform.mat'+'rix_viewPr'+'ojection\x20*'+'\x20posW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20snap\x20ve'+'rtex\x20to\x20a\x20'+'pixel\x20boun'+'dary\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x200.'+'5)\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20screenPo'+'s.xy\x20*=\x20un'+'iforms.uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'niforms.uS'+'creenSize.'+'zw;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x202.0'+')\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20scr'+'eenPos;\x0a}\x0a'+'\x0afn\x20getWor'+'ldPosition'+'()\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20dPosi'+'tionW;\x0a}\x0a'),WI='\x0a\x0a\x20\x20\x20\x20attr'+'ibute\x20vert'+'ex_positio'+'n:\x20vec4f;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'rix_model:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20morph_te'+'x_params:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20attri'+'bute\x20morph'+'_vertex_id'+':\x20u32;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etTextureM'+'orphCoords'+'()\x20->\x20vec2'+'i\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'turn\x20morph'+'_vertex_id'+'\x20into\x20int\x20'+'grid\x20coord'+'inates\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'Size:\x20vec2'+'i\x20=\x20vec2i('+'uniform.mo'+'rph_tex_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphGr'+'idV:\x20i32\x20='+'\x20i32(morph'+'_vertex_id'+')\x20/\x20textur'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20morph'+'GridU:\x20i32'+'\x20=\x20i32(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'rphGridV\x20='+'\x20textureSi'+'ze.y\x20-\x20mor'+'phGridV\x20-\x20'+'1;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec2i(mo'+'rphGridU,\x20'+'morphGridV'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_PO'+'SITION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20aabbSiz'+'e:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20aabbMi'+'n:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'morphPosit'+'ionTex:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'sitionTex:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+('if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inBatchVS\x22'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fn\x20getMode'+'lMatrix()\x20'+'->\x20mat4x4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(SKIN'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etModelMat'+'rix()\x20->\x20m'+'at4x4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20un'+'iform.matr'+'ix_model\x20*'+'\x20getSkinMa'+'trix(verte'+'x_boneIndi'+'ces,\x20verte'+'x_boneWeig'+'hts);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(INSTA'+'NCING)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22tran'+'sformInsta'+'ncingVS\x22\x0a\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'n\x20getModel'+'Matrix()\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'fn\x20getLoca'+'lPosition('+'vertexPosi'+'tion:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20loc'+'alPos:\x20vec'+'3f\x20=\x20verte'+'xPosition;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphUV:'+'\x20vec2i\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MORPHI'+'NG_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Use\x20'+'textureLoa'+'d\x20instead\x20'+'of\x20texelFe'+'tch.\x20Coord'+'inates\x20mus'+'t\x20be\x20integ'+'er\x20type\x20(v'+'ec2i).\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20WGSL'+'\x20requires\x20'+'explicit\x20t'+'ype\x20conver'+'sion\x20for\x20v'+'ectors.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Div'+'ision\x20by\x20f'+'loat\x20liter')+('al\x20ensures'+'\x20floating\x20'+'point\x20divi'+'sion.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hPos:\x20vec3'+'f\x20=\x20vec3f('+'textureLoa'+'d(morphPos'+'itionTex,\x20'+'morphUV,\x200'+').xyz)\x20/\x206'+'5535.0\x20*\x20u'+'niform.aab'+'bSize\x20+\x20un'+'iform.aabb'+'Min;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Use\x20text'+'ureLoad\x20in'+'stead\x20of\x20t'+'exelFetch.'+'\x20Coordinat'+'es\x20must\x20be'+'\x20integer\x20t'+'ype\x20(vec2i'+').\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'s:\x20vec3f\x20='+'\x20textureLo'+'ad(morphPo'+'sitionTex,'+'\x20morphUV,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20+'+'=\x20morphPos'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20localP'+'os;\x0a\x20\x20\x20\x20}\x0a'),$I='\x0a\x0aattribut'+'e\x20instance'+'_line1:\x20ve'+'c4f;\x0aattri'+'bute\x20insta'+'nce_line2:'+'\x20vec4f;\x0aat'+'tribute\x20in'+'stance_lin'+'e3:\x20vec4f;'+'\x0aattribute'+'\x20instance_'+'line4:\x20vec'+'4f;\x0a\x0afn\x20ge'+'tModelMatr'+'ix()\x20->\x20ma'+'t4x4f\x20{\x0a\x20\x20'+'\x20\x20return\x20u'+'niform.mat'+'rix_model\x20'+'*\x20mat4x4f('+'instance_l'+'ine1,\x20inst'+'ance_line2'+',\x20instance'+'_line3,\x20in'+'stance_lin'+'e4);\x0a}\x0a',XI='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_refrac'+'tion:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getRefra'+'ction()\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction:\x20'+'f32\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20refractio'+'n\x20=\x20unifor'+'m.material'+'_refractio'+'n;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'REFRACTION'+'_TEXTURE\x0a\x20'+'\x20\x20\x20refract'+'ion\x20=\x20refr'+'action\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_REFRACTI'+'ON_TEXTURE'+'_NAME},\x20{S'+'TD_REFRACT'+'ION_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_REFRACTIO'+'N_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_REFRACTIO'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_VE'+'RTEX\x0a\x20\x20\x20\x20r'+'efraction\x20'+'=\x20refracti'+'on\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_REFRACTI'+'ON_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dTr'+'ansmission'+'\x20=\x20refract'+'ion;\x0a}\x0a',qI='\x0auniform\x20t'+'woSidedLig'+'htingNegSc'+'aleFactor:'+'\x20f32;\x0a\x0afn\x20'+'handleTwoS'+'idedLighti'+'ng()\x20{\x0a\x20\x20\x20'+'\x20dTBN[2]\x20='+'\x20dTBN[2]\x20*'+'\x20select(-u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20p'+'cFrontFaci'+'ng);\x0a}\x0a',jI='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20fn\x20getU'+'v0()\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20uv'+'\x20=\x20vertex_'+'position.x'+'z;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20offse'+'t\x20inner\x20ve'+'rtices\x20ins'+'ide\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2f(0'+'.0,\x200.0),\x20'+'vec2f(1.0,'+'\x201.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset\x20='+'\x20clamp(-ve'+'rtex_posit'+'ion.xz,\x20ve'+'c2f(0.0,\x200'+'.0),\x20vec2f'+'(1.0,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uv\x20=\x20uv\x20'+'+\x20((-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy)\x20'+'+\x20(negativ'+'eUnitOffse'+'t\x20*\x20unifor'+'m.innerOff'+'set.zw))\x20*'+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x20ve'+'c2f(0.5,\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20uniform'+'.atlasRect'+'.zw\x20+\x20unif'+'orm.atlasR'+'ect.xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dMa'+'skGlobal\x20='+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20uv'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20fn'+'\x20getUv0()\x20'+'->\x20vec2f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a',YI='\x0afn\x20getUv1'+'()\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20verte'+'x_texCoord'+'1;\x0a}\x0a',KI='\x0aoutput.vU'+'V{TRANSFOR'+'M_UV_{i}}_'+'{TRANSFORM'+'_ID_{i}}\x20='+'\x20vec2f(\x0a\x20\x20'+'\x20\x20dot(vec3'+'f(uv{TRANS'+'FORM_UV_{i'+'}},\x201),\x20un'+'iform.{TRA'+'NSFORM_NAM'+'E_{i}}0),\x0a'+'\x20\x20\x20\x20dot(ve'+'c3f(uv{TRA'+'NSFORM_UV_'+'{i}},\x201),\x20'+'uniform.{T'+'RANSFORM_N'+'AME_{i}}1)'+'\x0a);\x0a',ZI='\x0a\x20\x20\x20\x20unifo'+'rm\x20{TRANSF'+'ORM_NAME_{'+'i}}0:\x20vec3'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20{TRAN'+'SFORM_NAME'+'_{i}}1:\x20ve'+'c3f;\x0a',QI='\x0afn\x20getVie'+'wDir()\x20{\x0a\x20'+'\x20\x20\x20dViewDi'+'rW\x20=\x20norma'+'lize(unifo'+'rm.view_po'+'sition\x20-\x20v'+'PositionW)'+';\x0a}\x0a',JI={'alphaTestPS':Q2,'ambientPS':J2,'anisotropyPS':eM,'aoPS':tM,'aoDiffuseOccPS':sM,'aoSpecOccPS':iM,'bakeDirLmEndPS':rM,'bakeLmEndPS':aM,'basePS':nM,'baseNineSlicedPS':oM,'baseNineSlicedTiledPS':lM,'bayerPS':cM,'blurVSMPS':hM,'clearCoatPS':dM,'clearCoatGlossPS':fM,'clearCoatNormalPS':uM,'clusteredLightCookiesPS':mM,'clusteredLightShadowsPS':_M,'clusteredLightUtilsPS':pM,'clusteredLightPS':gM,'combinePS':SM,'cookieBlit2DPS':yM,'cookieBlitCubePS':vM,'cookieBlitVS':xM,'cubeMapProjectPS':TM,'cubeMapRotatePS':wM,'debugOutputPS':EM,'debugProcessFrontendPS':bM,'detailModesPS':CM,'diffusePS':PM,'decodePS':AM,'emissivePS':MM,'encodePS':DM,'endPS':IM,'envAtlasPS':LM,'envProcPS':RM,'falloffInvSquaredPS':OM,'falloffLinearPS':FM,'floatAsUintPS':NM,'fogPS':kM,'fresnelSchlickPS':UM,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':BM,'gammaPS':zM,'glossPS':VM,'gsplatCenterVS':GM,'gsplatCornerVS':QM,'gsplatColorVS':HM,'gsplatCommonVS':WM,'gsplatCompressedDataVS':$M,'gsplatCompressedSHVS':XM,'gsplatEvalSHVS':qM,'gsplatQuatToMat3VS':jM,'gsplatSogsColorVS':YM,'gsplatSogsDataVS':KM,'gsplatSogsSHVS':ZM,'gsplatDataVS':JM,'gsplatOutputVS':eD,'gsplatPS':tD,'gsplatSHVS':sD,'gsplatSourceVS':iD,'gsplatVS':rD,'quadVS':aD,'indirectCoreCS':nD,'immediateLinePS':oD,'immediateLineVS':lD,'iridescenceDiffractionPS':cD,'iridescencePS':hD,'iridescenceThicknessPS':dD,'iorPS':fD,'lightDeclarationPS':uD,'lightDiffuseLambertPS':pD,'lightDirPointPS':mD,'lightEvaluationPS':_D,'lightFunctionLightPS':gD,'lightFunctionShadowPS':SD,'lightingPS':yD,'lightmapAddPS':vD,'lightmapPS':xD,'lightSpecularAnisoGGXPS':TD,'lightSpecularBlinnPS':wD,'lightSheenPS':ED,'linearizeDepthPS':bD,'litForwardBackendPS':AD,'litForwardDeclarationPS':CD,'litForwardMainPS':PD,'litForwardPostCodePS':MD,'litForwardPreCodePS':DD,'litMainPS':ID,'litMainVS':LD,'litOtherMainPS':RD,'litShaderArgsPS':OD,'litShaderCorePS':FD,'litShadowMainPS':ND,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':kD,'metalnessPS':UD,'metalnessModulatePS':zD,'morphPS':VD,'morphVS':GD,'msdfPS':BD,'msdfVS':HD,'normalVS':WD,'normalCoreVS':$D,'normalMapPS':XD,'opacityPS':qD,'opacityDitherPS':jD,'outputPS':YD,'outputAlphaPS':KD,'outputTex2DPS':ZD,'sheenPS':QD,'sheenGlossPS':JD,'parallaxPS':eI,'pickPS':tI,'reflDirPS':sI,'reflDirAnisoPS':iI,'reflectionCCPS':rI,'reflectionCubePS':aI,'reflectionEnvHQPS':nI,'reflectionEnvPS':oI,'reflectionSpherePS':lI,'reflectionSheenPS':cI,'refractionCubePS':hI,'refractionDynamicPS':dI,'reprojectPS':fI,'reprojectVS':uI,'screenDepthPS':pI,'shadowCascadesPS':mI,'shadowEVSMPS':_I,'shadowPCF1PS':gI,'shadowPCF3PS':SI,'shadowPCF5PS':yI,'shadowSoftPS':vI,'skinBatchVS':xI,'skinVS':TI,'skyboxPS':wI,'skyboxVS':EI,'specularPS':bI,'sphericalPS':AI,'specularityFactorPS':CI,'spotPS':PI,'startNineSlicedPS':MI,'startNineSlicedTiledPS':DI,'stdDeclarationPS':II,'stdFrontEndPS':LI,'TBNPS':RI,'thicknessPS':OI,'tonemappingPS':FI,'tonemappingAcesPS':NI,'tonemappingAces2PS':kI,'tonemappingFilmicPS':UI,'tonemappingHejlPS':BI,'tonemappingLinearPS':zI,'tonemappingNeutralPS':VI,'tonemappingNonePS':GI,'transformVS':HI,'transformCoreVS':WI,'transformInstancingVS':$I,'transmissionPS':XI,'twoSidedLightingPS':qI,'uv0VS':jI,'uv1VS':YI,'uvTransformVS':KI,'uvTransformUniformsPS':ZI,'viewDirPS':QI,'webgpuPS':$y,'webgpuVS':Xy},ea=class ea extends me{constructor(_0x3634ca){super(),h(this,'_batcher',null),h(this,'_destroyRe'+'quested',!(-0xe0c+0x1*0x25f1+-0x17e4)),h(this,'_inFrameUp'+'date',!(-0x27*0x8b+-0xc1c+0x214a*0x1)),h(this,'_libraries'+'Loaded',!(-0x142c+0x191*0x11+-0x674)),h(this,'_fillMode',Tg),h(this,'_resolutio'+'nMode',MC),h(this,'_allowResi'+'ze',!(-0x11e8+0x1*0x1370+-0x188)),h(this,'_skyboxAss'+'et',null),h(this,'_soundMana'+'ger'),h(this,'_visibilit'+'yChangeHan'+'dler'),h(this,'_entityInd'+'ex',{}),h(this,'_inTools',!(0x8e0+0x210a*-0x1+0x182b)),h(this,'_scriptPre'+'fix',''),h(this,'_time',-0x139f*0x1+0x18*0x57+0x24b*0x5),h(this,'enableBund'+'les',typeof TextDecoder<'u'),h(this,'frameReque'+'stId'),h(this,'timeScale',-0xeb0+-0xb5*-0x17+0x1*-0x192),h(this,'maxDeltaTi'+'me',-0x16*-0x187+-0x685*0x2+-0x8*0x292+0.1),h(this,'frame',-0x74*-0x23+-0x1488+0x4ac),h(this,'frameGraph',new DC()),h(this,'renderer'),h(this,'scriptsOrd'+'er',[]),h(this,'stats'),h(this,'autoRender',!(0x578+0x6da+-0x2*0x629)),h(this,'renderNext'+'Frame',!(-0x1d5*-0x1+-0x3*-0x185+0x663*-0x1)),h(this,'graphicsDe'+'vice'),h(this,'root'),h(this,'scene'),h(this,'lightmappe'+'r',null),h(this,'loader',new Cn(this)),h(this,'assets'),h(this,'bundles'),h(this,'scenes',new qC(this)),h(this,'scripts',new HC(this)),h(this,'systems',new BC()),h(this,'i18n',new wa(this)),h(this,'keyboard',null),h(this,'mouse',null),h(this,'touch',null),h(this,'gamepads',null),h(this,'elementInp'+'ut',null),h(this,'xr',null),((hn==null?void(0x4*-0x58f+-0xd53*-0x2+-0x46a):hn['indexOf']('$'))<-0x13c6+0xe7d+0x549&&w['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+hn+'\x20'+$S),ea['_applicati'+'ons'][_0x3634ca['id']]=this,_u(this),this['root']=new lt(),this['root']['_enabledIn'+'Hierarchy']=!(0x229f*-0x1+0x1ad9+0x7c6));}['init'](_0x5b59c6){const {assetPrefix:_0x2cb25e,batchManager:_0x1029c8,componentSystems:_0x1a0b26,elementInput:_0x5cb27a,gamepads:_0x7ab700,graphicsDevice:_0x333f35,keyboard:_0x453097,lightmapper:_0x5ac121,mouse:_0x37e701,resourceHandlers:_0x3c482,scriptsOrder:_0x54b360,scriptPrefix:_0x7efd11,soundManager:_0x445be2,touch:_0x24cb1d,xr:_0x1dd42f}=_0x5b59c6;w['assert'](_0x333f35,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x333f35,Pe['get'](_0x333f35,Fe)['add'](Z2),Pe['get'](_0x333f35,it)['add'](JI),this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new jC(_0x333f35),this['_soundMana'+'ger']=_0x445be2,this['scene']=new Et(_0x333f35),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new mn(this['loader']),_0x2cb25e&&(this['assets']['prefix']=_0x2cb25e),this['bundles']=new UC(this['assets']),this['scriptsOrd'+'er']=_0x54b360||[],this['defaultLay'+'erWorld']=new Ot({'name':'World','id':er}),this['defaultLay'+'erDepth']=new Ot({'name':'Depth','id':ps,'enabled':!(-0xd*-0x151+0x27b+-0x1397),'opaqueSortMode':Yc}),this['defaultLay'+'erSkybox']=new Ot({'name':'Skybox','id':Kp,'opaqueSortMode':Yc}),this['defaultLay'+'erUi']=new Ot({'name':'UI','id':Il,'transparentSortMode':jw}),this['defaultLay'+'erImmediat'+'e']=new Ot({'name':'Immediate','id':Zp,'opaqueSortMode':Yc});const _0x3d8e64=new du('default');_0x3d8e64['pushOpaque'](this['defaultLay'+'erWorld']),_0x3d8e64['pushOpaque'](this['defaultLay'+'erDepth']),_0x3d8e64['pushOpaque'](this['defaultLay'+'erSkybox']),_0x3d8e64['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x3d8e64['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x3d8e64['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x3d8e64['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x3d8e64,ia['createPlac'+'eholder'](_0x333f35),this['renderer']=new fl(_0x333f35),this['renderer']['scene']=this['scene'],_0x5ac121&&(this['lightmappe'+'r']=new _0x5ac121(_0x333f35,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x1029c8&&(this['_batcher']=new _0x1029c8(_0x333f35,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x453097||null,this['mouse']=_0x37e701||null,this['touch']=_0x24cb1d||null,this['gamepads']=_0x7ab700||null,_0x5cb27a&&(this['elementInp'+'ut']=_0x5cb27a,this['elementInp'+'ut']['app']=this),this['xr']=_0x1dd42f?new _0x1dd42f(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x7efd11||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new VC(this)),_0x3c482['forEach'](_0x115c50=>{const _0x5123a9=new _0x115c50(this);this['loader']['addHandler'](_0x5123a9['handlerTyp'+'e'],_0x5123a9);}),_0x1a0b26['forEach'](_0x1748b5=>{this['systems']['add'](new _0x1748b5(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(-0xbc4+-0xddc+0x19a0)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x156e+-0x18fb*-0x1+-0x2e68))):document['mozHidden']!==void(-0x26ea+0x734*-0x1+-0x170f*-0x2)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1b79*-0x1+-0x1*0x1ee3+0x3a5d))):document['msHidden']!==void(-0xb7*-0x10+-0x1*-0x264b+0x1d*-0x1b7)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x21c+-0x1*-0x4a9+-0x146*0x2))):document['webkitHidd'+'en']!==void(-0x583+-0x7a0+-0xb1*-0x13)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(0x7*-0x1c1+-0x1929+0x2571)))),this['tick']=eL(this);}static['getApplica'+'tion'](_0x25ba7){return _0x25ba7?ea['_applicati'+'ons'][_0x25ba7]:Ms();}['_initDefau'+'ltMaterial'](){const _0xd77443=new Ut();_0xd77443['name']='Default\x20Ma'+'terial',xE(this['graphicsDe'+'vice'],_0xd77443);}['_initProgr'+'amLibrary'](){const _0x2599ce=new qA(this['graphicsDe'+'vice'],new Ut());cE(this['graphicsDe'+'vice'],_0x2599ce);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return w['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x37130c,_0x14cb08){ot['get'](_0x37130c,(_0x154163,_0x246956)=>{if(_0x154163){_0x14cb08(_0x154163);return;}const _0x496c3f=_0x246956['applicatio'+'n_properti'+'es'],_0xfa4a47=_0x246956['scenes'],_0x4fb800=_0x246956['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x496c3f,_0x551378=>{this['_parseScen'+'es'](_0xfa4a47),this['_parseAsse'+'ts'](_0x4fb800),_0x14cb08(_0x551378||null);});});}['preload'](_0x1d9cdd){this['fire']('preload:st'+'art');const _0x31fc29=this['assets']['list']({'preload':!(-0x1*0x8c3+-0x1903+0x21c6)});if(_0x31fc29['length']===0x1*0x3b+0x87f+-0x8ba){this['fire']('preload:en'+'d'),_0x1d9cdd();return;}let _0x3cc877=-0x132f+-0x197*-0x5+0xb3c;const _0x1c15ff=()=>{_0x3cc877++,this['fire']('preload:pr'+'ogress',_0x3cc877/_0x31fc29['length']),_0x3cc877===_0x31fc29['length']&&(this['fire']('preload:en'+'d'),_0x1d9cdd());};_0x31fc29['forEach'](_0x3d35a4=>{_0x3d35a4['loaded']?_0x1c15ff():(_0x3d35a4['once']('load',_0x1c15ff),_0x3d35a4['once']('error',_0x1c15ff),this['assets']['load'](_0x3d35a4));});}['_preloadSc'+'ripts'](_0x58d5c3,_0x517136){_0x517136();}['_parseAppl'+'icationPro'+'perties'](_0x2b6ec0,_0x273468){if(typeof _0x2b6ec0['maxAssetRe'+'tries']=='number'&&_0x2b6ec0['maxAssetRe'+'tries']>-0x1872+0x304+0x156e&&this['loader']['enableRetr'+'y'](_0x2b6ec0['maxAssetRe'+'tries']),_0x2b6ec0['useDeviceP'+'ixelRatio']||(_0x2b6ec0['useDeviceP'+'ixelRatio']=_0x2b6ec0['use_device'+'_pixel_rat'+'io']),_0x2b6ec0['resolution'+'Mode']||(_0x2b6ec0['resolution'+'Mode']=_0x2b6ec0['resolution'+'_mode']),_0x2b6ec0['fillMode']||(_0x2b6ec0['fillMode']=_0x2b6ec0['fill_mode']),this['_width']=_0x2b6ec0['width'],this['_height']=_0x2b6ec0['height'],_0x2b6ec0['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x2b6ec0['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x2b6ec0['fillMode'],this['_width'],this['_height']),_0x2b6ec0['layers']&&_0x2b6ec0['layerOrder']){const _0x3c0ca8=new du('applicatio'+'n'),_0x360450={};for(const _0x41fe4a in _0x2b6ec0['layers']){const _0xcc83af=_0x2b6ec0['layers'][_0x41fe4a];_0xcc83af['id']=parseInt(_0x41fe4a,0x8ff+-0x17*0x18b+0x3*0x8d8),_0xcc83af['enabled']=_0xcc83af['id']!==ps,_0x360450[_0x41fe4a]=new Ot(_0xcc83af);}for(let _0x953d31=-0xcf5+0x934+0x3c1,_0x28a5bf=_0x2b6ec0['layerOrder']['length'];_0x953d31<_0x28a5bf;_0x953d31++){const _0x4d66eb=_0x2b6ec0['layerOrder'][_0x953d31],_0x25807f=_0x360450[_0x4d66eb['layer']];_0x25807f&&(_0x4d66eb['transparen'+'t']?_0x3c0ca8['pushTransp'+'arent'](_0x25807f):_0x3c0ca8['pushOpaque'](_0x25807f),_0x3c0ca8['subLayerEn'+'abled'][_0x953d31]=_0x4d66eb['enabled']);}this['scene']['layers']=_0x3c0ca8;}if(_0x2b6ec0['batchGroup'+'s']){const _0x1a9920=this['batcher'];if(_0x1a9920)for(let _0x1bb811=-0x29d+-0x4d*-0x2d+0xaec*-0x1,_0x3b1fae=_0x2b6ec0['batchGroup'+'s']['length'];_0x1bb811<_0x3b1fae;_0x1bb811++){const _0x1fcb5c=_0x2b6ec0['batchGroup'+'s'][_0x1bb811];_0x1a9920['addGroup'](_0x1fcb5c['name'],_0x1fcb5c['dynamic'],_0x1fcb5c['maxAabbSiz'+'e'],_0x1fcb5c['id'],_0x1fcb5c['layers']);}}_0x2b6ec0['i18nAssets']&&(this['i18n']['assets']=_0x2b6ec0['i18nAssets']),this['_loadLibra'+'ries'](_0x2b6ec0['libraries'],_0x273468);}['_loadLibra'+'ries'](_0x50a4b0,_0x398fe8){const _0xc58a55=_0x50a4b0['length'];let _0x2bef03=_0xc58a55;const _0x2c4250=/^https?:\/\//;if(_0xc58a55){const _0x4cc9f9=(_0x125075,_0x558166)=>{_0x2bef03--,_0x125075?_0x398fe8(_0x125075):_0x2bef03===0x1d3d*-0x1+0xe*-0xad+0x26b3&&(this['onLibrarie'+'sLoaded'](),_0x398fe8(null));};for(let _0x168ab5=-0x1*0x870+-0x29*0xc0+0x8*0x4e6;_0x168ab5<_0xc58a55;++_0x168ab5){let _0x4999e2=_0x50a4b0[_0x168ab5];!_0x2c4250['test'](_0x4999e2['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x4999e2=xe['join'](this['_scriptPre'+'fix'],_0x4999e2)),this['loader']['load'](_0x4999e2,'script',_0x4cc9f9);}}else this['onLibrarie'+'sLoaded'](),_0x398fe8(null);}['_parseScen'+'es'](_0x30dbd0){if(_0x30dbd0){for(let _0x5d7023=-0x25fc+0x34b+0x22b1;_0x5d7023<_0x30dbd0['length'];_0x5d7023++)this['scenes']['add'](_0x30dbd0[_0x5d7023]['name'],_0x30dbd0[_0x5d7023]['url']);}}['_parseAsse'+'ts'](_0x32f03f){const _0x1b7000=[],_0x2ee3ce={},_0x31538f={};for(let _0x47a887=0x1e80+-0xf82+-0x65*0x26;_0x47a887<this['scriptsOrd'+'er']['length'];_0x47a887++){const _0x8ef1a5=this['scriptsOrd'+'er'][_0x47a887];_0x32f03f[_0x8ef1a5]&&(_0x2ee3ce[_0x8ef1a5]=!(-0x1cd*0xd+-0x48+0x17b1),_0x1b7000['push'](_0x32f03f[_0x8ef1a5]));}if(this['enableBund'+'les']){for(const _0x18ee1c in _0x32f03f)_0x32f03f[_0x18ee1c]['type']==='bundle'&&(_0x31538f[_0x18ee1c]=!(0xc7*0x1f+0x1*-0x1c63+-0x3d*-0x12),_0x1b7000['push'](_0x32f03f[_0x18ee1c]));}for(const _0x2534c8 in _0x32f03f)_0x2ee3ce[_0x2534c8]||_0x31538f[_0x2534c8]||_0x1b7000['push'](_0x32f03f[_0x2534c8]);for(let _0x459d28=0x2025+-0x259*0x3+-0x191a;_0x459d28<_0x1b7000['length'];_0x459d28++){const _0x3bea33=_0x1b7000[_0x459d28],_0x40863b=new pe(_0x3bea33['name'],_0x3bea33['type'],_0x3bea33['file'],_0x3bea33['data']);if(_0x40863b['id']=parseInt(_0x3bea33['id'],0x10e4*0x2+-0x7f*-0x1b+-0x2f23),_0x40863b['preload']=_0x3bea33['preload']?_0x3bea33['preload']:!(0x9a2+-0xccd*0x3+0x1cc6),_0x40863b['loaded']=_0x3bea33['type']==='script'&&_0x3bea33['data']&&_0x3bea33['data']['loadingTyp'+'e']>0x10ab*0x1+0x31*-0xbf+-0x4*-0x4f9,_0x40863b['tags']['add'](_0x3bea33['tags']),_0x3bea33['i18n']){for(const _0x1a4c31 in _0x3bea33['i18n'])_0x40863b['addLocaliz'+'edAssetId'](_0x1a4c31,_0x3bea33['i18n'][_0x1a4c31]);}this['assets']['add'](_0x40863b);}}['start'](){w['call'](()=>{w['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(0x13c8+-0x587+0x1*-0xe41);}),this['frame']=0x1*0x1c3+0x13ad*0x1+0x1c*-0xc4,this['fire']('start',{'timestamp':de(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x2c34f6){this['controller']&&this['controller']['update'](_0x2c34f6),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x5de6a9){this['frame']++,this['graphicsDe'+'vice']['update'](),this['stats']['frame']['updateStar'+'t']=de(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x5de6a9),this['systems']['fire']('animationU'+'pdate',_0x5de6a9),this['systems']['fire']('postUpdate',_0x5de6a9),this['fire']('update',_0x5de6a9),this['inputUpdat'+'e'](_0x5de6a9),this['stats']['frame']['updateTime']=de()-this['stats']['frame']['updateStar'+'t'];}['render'](){this['updateCanv'+'asSize'](),this['graphicsDe'+'vice']['frameStart'](),this['stats']['frame']['renderStar'+'t']=de(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),fl['_skipRende'+'rCounter']=0xf78+0xa7c+0x97*-0x2c,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=de()-this['stats']['frame']['renderStar'+'t'],this['graphicsDe'+'vice']['frameEnd']();}['renderComp'+'osition'](_0x89a03f){Q['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x89a03f),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x89a03f),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0xf3a4a,_0x37ca0c,_0x3b5df8){const _0x183811=this['stats']['frame'];_0x183811['dt']=_0x37ca0c,_0x183811['ms']=_0x3b5df8,_0xf3a4a>_0x183811['_timeToCou'+'ntFrames']?(_0x183811['fps']=_0x183811['_fpsAccum'],_0x183811['_fpsAccum']=0x1820+0x154b+-0x2d6b,_0x183811['_timeToCou'+'ntFrames']=_0xf3a4a+(0x752*-0x5+-0xe3b*0x1+-0xad*-0x51)):_0x183811['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=-0xd*-0x167+-0x1*-0x377+-0x1*0x15b2;}['_fillFrame'+'Stats'](){let _0x20068f=this['stats']['frame'];_0x20068f['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x20068f['materials']=this['renderer']['_materialS'+'witches'],_0x20068f['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x20068f['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x20068f['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x20068f['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x20068f['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0xfd926d=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x20068f['triangles']=_0xfd926d[js]/(0x62*0x5f+-0x3*-0x449+-0x3136)+Math['max'](_0xfd926d[Er]-(-0x54b+-0x209*-0xd+-0x1528),-0x139c+0x1d*-0xc4+0x29d0)+Math['max'](_0xfd926d[oa]-(-0x1*0x439+0xae8+-0x1*0x6ad),-0x1f36+-0x1338+-0x50b*-0xa),_0x20068f['cullTime']=this['renderer']['_cullTime'],_0x20068f['sortTime']=this['renderer']['_sortTime'],_0x20068f['skinTime']=this['renderer']['_skinTime'],_0x20068f['morphTime']=this['renderer']['_morphTime'],_0x20068f['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x20068f['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x20068f['otherPrimi'+'tives']=0x17f0+0x1b17+-0x3307;for(let _0x3a6279=0xa95+0x3ec*0x1+-0xe81;_0x3a6279<_0xfd926d['length'];_0x3a6279++)_0x3a6279<js&&(_0x20068f['otherPrimi'+'tives']+=_0xfd926d[_0x3a6279]),_0xfd926d[_0x3a6279]=0x1ab7+-0x1fe1*-0x1+-0x14*0x2ee;this['renderer']['_camerasRe'+'ndered']=0x810+0xca*-0x2b+-0xe*-0x1d9,this['renderer']['_materialS'+'witches']=0x5*0x37c+0x401+0x449*-0x5,this['renderer']['_shadowMap'+'Updates']=0x14bc+-0x4c3*0x3+-0x673,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=0x4f7*-0x1+0x15f8+0x5ab*-0x3,this['renderer']['_cullTime']=0x109*0x1c+0x3*0x490+-0x2aac,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=0x1343+-0xb19+-0x26*0x37,this['renderer']['_lightClus'+'tersTime']=0x1*-0x10e2+-0x16be+0x27a0,this['renderer']['_sortTime']=0x1aa0+0x1b8f+-0x362f,this['renderer']['_skinTime']=-0x14d8+-0x49d*-0x3+0x701,this['renderer']['_morphTime']=-0x1173+-0x18b9*-0x1+-0x746,this['renderer']['_shadowMap'+'Time']=0x1*0x1da5+-0x1750+0x1*-0x655,this['renderer']['_depthMapT'+'ime']=-0x1571*0x1+0x2384+-0xe13,this['renderer']['_forwardTi'+'me']=0x207c+-0x5bf+0x5*-0x559,_0x20068f=this['stats']['drawCalls'],_0x20068f['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x20068f['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x20068f['depth']=-0x9d9*-0x1+-0x2*0x12d2+0x1bcb,_0x20068f['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x20068f['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x20068f['immediate']=-0x737+-0x11b*-0x4+0x2cb,_0x20068f['instanced']=-0x4*0x945+-0x6f7*0x1+0x2c0b,_0x20068f['removedByI'+'nstancing']=-0x9*-0x89+-0x1620+0x114f*0x1,_0x20068f['misc']=_0x20068f['total']-(_0x20068f['forward']+_0x20068f['shadow']),this['renderer']['_depthDraw'+'Calls']=0xd*0x2d9+0x394+0x1*-0x2899,this['renderer']['_shadowDra'+'wCalls']=0x1924+-0x2*-0xc4a+-0x31b8,this['renderer']['_forwardDr'+'awCalls']=-0x17e*-0x3+-0x135b+0xee1,this['renderer']['_numDrawCa'+'llsCulled']=-0x11d5+-0xd*0x56+0x1633,this['renderer']['_skinDrawC'+'alls']=0x6b7*0x3+0x587*-0x5+-0x89*-0xe,this['renderer']['_immediate'+'Rendered']=0xe87*0x1+0x119c+-0x2023,this['renderer']['_instanced'+'DrawCalls']=-0x1*0xb5c+0x4db*0x3+0x1*-0x335,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x20068f=this['stats']['particles'],_0x20068f['updatesPer'+'Frame']=_0x20068f['_updatesPe'+'rFrame'],_0x20068f['frameTime']=_0x20068f['_frameTime'],_0x20068f['_updatesPe'+'rFrame']=-0x67a+0xc74+-0x5fa,_0x20068f['_frameTime']=0x16aa+0x1726+-0x2dd0;}['setCanvasF'+'illMode'](_0x35af2d,_0x3ae67f,_0x7f9a0b){this['_fillMode']=_0x35af2d,this['resizeCanv'+'as'](_0x3ae67f,_0x7f9a0b);}['setCanvasR'+'esolution'](_0x57a6c6,_0x30775a,_0x4b4477){this['_resolutio'+'nMode']=_0x57a6c6,_0x57a6c6===wg&&_0x30775a===void(0x2233+0x10f5+-0xcca*0x4)&&(_0x30775a=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x4b4477=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x30775a,_0x4b4477);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x50bac1,_0x2ff75d){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x227cc2=window['innerWidth'],_0x5a14ef=window['innerHeigh'+'t'];if(this['_fillMode']===Tg){const _0x581874=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x2fe4e1=_0x227cc2/_0x5a14ef;_0x581874>_0x2fe4e1?(_0x50bac1=_0x227cc2,_0x2ff75d=_0x50bac1/_0x581874):(_0x2ff75d=_0x5a14ef,_0x50bac1=_0x2ff75d*_0x581874);}else this['_fillMode']===PC&&(_0x50bac1=_0x227cc2,_0x2ff75d=_0x5a14ef);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x50bac1+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x2ff75d+'px',this['updateCanv'+'asSize'](),{'width':_0x50bac1,'height':_0x2ff75d};}['updateCanv'+'asSize'](){var _0xfa21ef;if(!(!this['_allowResi'+'ze']||(_0xfa21ef=this['xr'])!=null&&_0xfa21ef['active'])&&this['_resolutio'+'nMode']===wg){const _0x522e61=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x522e61['clientWidt'+'h'],_0x522e61['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(-0x1b5*0xa+0xc*0x14b+-0x1*-0x18e),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x4e688b){let _0x8ecd6b;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0xc8b0fa,_0x1201f9,_0x11b051]=_0x4e688b['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0xc8b0fa,_0x1201f9,_0x11b051);}this['scene']['applySetti'+'ngs'](_0x4e688b),_0x4e688b['render']['hasOwnProp'+'erty']('skybox')&&(_0x4e688b['render']['skybox']?(_0x8ecd6b=this['assets']['get'](_0x4e688b['render']['skybox']),_0x8ecd6b?this['setSkybox'](_0x8ecd6b):this['assets']['once']('add:'+_0x4e688b['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x5907d5,_0x5e7bd0){_0x5907d5&&_0x5e7bd0?ia['set'](this['graphicsDe'+'vice'],_0x5907d5,_0x5e7bd0):w['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x1373de){if(_0x1373de!==this['_skyboxAss'+'et']){const _0x56847b=()=>{this['setSkybox'](null);},_0x2acb12=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0x2acb12,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x56847b,this),this['_skyboxAss'+'et']['off']('change',_0x2acb12,this)),this['_skyboxAss'+'et']=_0x1373de,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0x2acb12,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x56847b,this),this['_skyboxAss'+'et']['on']('change',_0x2acb12,this),this['scene']['skyboxMip']===-0x21f3+-0x1f9+0x13*0x1e4&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(0x2621+0x2*0xe3c+-0x3*0x1633)),this['assets']['load'](this['_skyboxAss'+'et'])),_0x2acb12();}}['_firstBake'](){var _0x53d892;(_0x53d892=this['lightmappe'+'r'])==null||_0x53d892['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x22e81b;(_0x22e81b=this['batcher'])==null||_0x22e81b['generate']();}['_processTi'+'mestamp'](_0x3dcc91){return _0x3dcc91;}['drawLine'](_0x51f522,_0x1acf7e,_0x188c09,_0x31faa9,_0x4e103e){this['scene']['drawLine'](_0x51f522,_0x1acf7e,_0x188c09,_0x31faa9,_0x4e103e);}['drawLines'](_0x1a8a20,_0x36b0cc,_0x55e364=!(0x1247*0x2+-0xd52+-0x4*0x5cf),_0xcfb38b=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x1a8a20,_0x36b0cc,_0x55e364,_0xcfb38b);}['drawLineAr'+'rays'](_0x12ec97,_0x51200d,_0x5da48f=!(0x124b+0x3ea*0x5+-0x25dd),_0x1c7a89=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x12ec97,_0x51200d,_0x5da48f,_0x1c7a89);}['drawWireSp'+'here'](_0x2445a2,_0xf53d3,_0x113e72=ie['WHITE'],_0x4d0ac7=0x162+0x1*-0x185b+0x119*0x15,_0x362b82=!(-0x97*0x35+-0x19b9+0x1c*0x209),_0x532f5c=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x2445a2,_0xf53d3,_0x113e72,_0x4d0ac7,_0x362b82,_0x532f5c);}['drawWireAl'+'ignedBox'](_0x19c3d3,_0x1f4107,_0x1c148b=ie['WHITE'],_0xd55a48=!(-0xc61+-0x17cf+0x2430),_0x459444=this['scene']['defaultDra'+'wLayer'],_0xb6930f){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x19c3d3,_0x1f4107,_0x1c148b,_0xd55a48,_0x459444,_0xb6930f);}['drawMeshIn'+'stance'](_0x3a3e2c,_0x8f044b=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x3a3e2c,_0x8f044b);}['drawMesh'](_0x485d2a,_0x1929c6,_0x45809c,_0x3b5329=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x1929c6,_0x45809c,_0x485d2a,null,_0x3b5329);}['drawQuad'](_0x14ff15,_0x65317f,_0x3f1d5b=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x65317f,_0x14ff15,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x3f1d5b);}['drawTextur'+'e'](_0x22b8df,_0x3bb9e4,_0x1d2998,_0x2ad293,_0x1d8669,_0x19d7c8,_0x48ee52=this['scene']['defaultDra'+'wLayer'],_0x41ea13=!(0x1a13+0xac3+-0x24d6)){if(_0x41ea13===!(0x6*0x1eb+-0x3a9*0x5+0x3a*0x1e)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x2a25ba=new te();_0x2a25ba['setTRS'](new D(_0x22b8df,_0x3bb9e4,0x1b67*-0x1+0x48d*0x7+0x26*-0x1e),le['IDENTITY'],new D(_0x1d2998,-_0x2ad293,-0x250f*-0x1+0x22*0xe5+-0x17*0x2ef)),_0x19d7c8||(_0x19d7c8=new Xn(),_0x19d7c8['cull']=bt,_0x19d7c8['setParamet'+'er']('colorMap',_0x1d8669),_0x19d7c8['shaderDesc']=_0x41ea13?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x1d8669['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0x19d7c8['update']()),this['drawQuad'](_0x2a25ba,_0x19d7c8,_0x48ee52);}['drawDepthT'+'exture'](_0x51d8eb,_0x391629,_0x397408,_0x427218,_0x33cf48=this['scene']['defaultDra'+'wLayer']){const _0x282cd2=new Xn();_0x282cd2['cull']=bt,_0x282cd2['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x282cd2['update'](),this['drawTextur'+'e'](_0x51d8eb,_0x391629,_0x397408,_0x427218,null,_0x282cd2,_0x33cf48);}['destroy'](){var _0x1cdd5d,_0x2f68bb,_0x2e6419,_0x1942bf;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(-0x5e6+0x1c87+-0x3*0x78b);return;}const _0x2dd38a=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0xb5d+-0x157d+0xa21*0x1)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x1d10+-0x821*0x4+0x375)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x2600+0x19dc+0xc25*0x1)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x1*-0x160f+0xaa*0x3+-0x1b*0xe4))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0x5b9e47=this['assets']['list']();for(let _0x1118f=0xb4+0xf37+-0xfeb;_0x1118f<_0x5b9e47['length'];_0x1118f++)_0x5b9e47[_0x1118f]['unload'](),_0x5b9e47[_0x1118f]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x33f0fb=this['loader']['getHandler']('script');_0x33f0fb==null||_0x33f0fb['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x1cdd5d=this['lightmappe'+'r'])==null||_0x1cdd5d['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x2f68bb=this['xr'])==null||_0x2f68bb['end'](),(_0x2e6419=this['xr'])==null||_0x2e6419['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x1942bf=this['_soundMana'+'ger'])==null||_0x1942bf['destroy'](),this['_soundMana'+'ger']=null,ea['_applicati'+'ons'][_0x2dd38a]=null,Ms()===this&&_u(null),ea['cancelTick'](this);}static['cancelTick'](_0x2deb57){_0x2deb57['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x2deb57['frameReque'+'stId']),_0x2deb57['frameReque'+'stId']=void(0xd79*0x2+0x263+0x3*-0x9c7));}['getEntityF'+'romIndex'](_0x24d3bd){return this['_entityInd'+'ex'][_0x24d3bd];}['_registerS'+'ceneImmedi'+'ate'](_0x504d4c){this['on']('postrender',_0x504d4c['immediate']['onPostRend'+'er'],_0x504d4c['immediate']);}};h(ea,'_applicati'+'ons',{});let Ks=ea;const eL=function(_0x2febe7){const _0x486ab9=_0x2febe7;return function(_0x5bb2b0,_0x25e52a){var _0x5de82b,_0x2743e5,_0x301a0b,_0xa50b6b;if(!_0x486ab9['graphicsDe'+'vice'])return;_0x486ab9['frameReque'+'stId']&&((_0x2743e5=(_0x5de82b=_0x486ab9['xr'])==null?void(-0x407*0x5+-0xbd2+0x65*0x51):_0x5de82b['session'])==null||_0x2743e5['cancelAnim'+'ationFrame'](_0x486ab9['frameReque'+'stId']),cancelAnimationFrame(_0x486ab9['frameReque'+'stId']),_0x486ab9['frameReque'+'stId']=null),_0x486ab9['_inFrameUp'+'date']=!(-0xb45+-0x1*0x3e6+-0xb*-0x161),_u(_0x486ab9);const _0x2e180a=_0x486ab9['_processTi'+'mestamp'](_0x5bb2b0)||de(),_0x1df7ae=_0x2e180a-(_0x486ab9['_time']||_0x2e180a);let _0x2803a5=_0x1df7ae/(-0x3d3*0x5+0x164a+0x1b*0x7);if(_0x2803a5=Y['clamp'](_0x2803a5,0x1757+-0x504+-0x1253*0x1,_0x486ab9['maxDeltaTi'+'me']),_0x2803a5*=_0x486ab9['timeScale'],_0x486ab9['_time']=_0x2e180a,(_0x301a0b=_0x486ab9['xr'])!=null&&_0x301a0b['session']?_0x486ab9['frameReque'+'stId']=_0x486ab9['xr']['session']['requestAni'+'mationFram'+'e'](_0x486ab9['tick']):_0x486ab9['frameReque'+'stId']=Ae['browser']||Ae['worker']?requestAnimationFrame(_0x486ab9['tick']):null,_0x486ab9['graphicsDe'+'vice']['contextLos'+'t'])return;_0x486ab9['_fillFrame'+'StatsBasic'](_0x2e180a,_0x2803a5,_0x1df7ae),_0x486ab9['_fillFrame'+'Stats'](),_0x486ab9['fire']('frameupdat'+'e',_0x1df7ae);let _0x1aaea0=!(0xd5b*0x2+0x1*0x493+-0xd*0x268);_0x25e52a?(_0x1aaea0=!((_0xa50b6b=_0x486ab9['xr'])!=null&&_0xa50b6b['update'](_0x25e52a)),_0x486ab9['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x25e52a['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x486ab9['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,!_0x1aaea0&&!_0x486ab9['stopSort']&&(w['trace'](W0,'----\x20Frame'+'\x20'+_0x486ab9['frame']),w['trace'](Ld,'--\x20UpdateS'+'tart\x20'+de()['toFixed'](-0x1ee0+0x1*0x1e63+0x1*0x7f)+'ms'),_0x486ab9['update'](_0x2803a5),_0x486ab9['fire']('framerende'+'r'),(_0x486ab9['autoRender']||_0x486ab9['renderNext'+'Frame'])&&(w['trace'](Ld,'--\x20RenderS'+'tart\x20'+de()['toFixed'](0x128*-0x17+0x11b6+0x8e4)+'ms'),_0x486ab9['render'](),_0x486ab9['renderNext'+'Frame']=!(0x8e7*0x2+0x5b8+-0x1785),w['trace'](Ld,'--\x20RenderE'+'nd\x20'+de()['toFixed'](-0xd0*0x1f+0xe*0xce+0xdee)+'ms')),_0x486ab9['fire']('frameend')),_0x486ab9['_inFrameUp'+'date']=!(0x24ee+-0xd70+-0x177d),_0x486ab9['_destroyRe'+'quested']&&_0x486ab9['destroy']();};};class tL{constructor(){h(this,'elementInp'+'ut'),h(this,'keyboard'),h(this,'mouse'),h(this,'touch'),h(this,'gamepads'),h(this,'scriptPref'+'ix'),h(this,'assetPrefi'+'x'),h(this,'scriptsOrd'+'er'),h(this,'soundManag'+'er'),h(this,'graphicsDe'+'vice'),h(this,'lightmappe'+'r'),h(this,'batchManag'+'er'),h(this,'xr'),h(this,'componentS'+'ystems',[]),h(this,'resourceHa'+'ndlers',[]);}}const mo=new sp();class Uv{constructor(_0x25c086,_0x4b7dec,_0xcb0fdb){this['scene']=_0x25c086,this['light']=_0x4b7dec,this['store'](),_0x4b7dec['numCascade'+'s']=-0x21bc+-0xaaf+-0x4*-0xb1b,this['scene']['clusteredL'+'ightingEna'+'bled']&&!_0xcb0fdb['shadowsEna'+'bled']&&(_0x4b7dec['castShadow'+'s']=!(-0x82*0x34+-0x218e+0x3bf7)),_0x4b7dec['type']!==ve&&(_0x4b7dec['_node']['getWorldTr'+'ansform'](),_0x4b7dec['getBoundin'+'gSphere'](mo),this['lightBound'+'s']=new De(),this['lightBound'+'s']['center']['copy'](mo['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](mo['radius'],mo['radius'],mo['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x470dfb=this['light'];_0x470dfb['mask']=this['mask'],_0x470dfb['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x470dfb['enabled']=this['enabled'],_0x470dfb['intensity']=this['intensity'],_0x470dfb['_node']['setLocalRo'+'tation'](this['rotation']),_0x470dfb['numCascade'+'s']=this['numCascade'+'s'],_0x470dfb['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(0x1d3c+0x1d8d*-0x1+0x51),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x5b7d36){const _0x4ea652=this['light'];_0x4ea652['enabled']=!(0x142d+0xe5*-0x1+0x15*-0xeb),_0x4ea652['shadowMap']&&(_0x4ea652['shadowMap']['cached']&&_0x5b7d36['add'](_0x4ea652,_0x4ea652['shadowMap']),_0x4ea652['shadowMap']=null);}}const yc=new J();class sL extends Uv{constructor(_0x546e57,_0x347882){super(_0x546e57['scene'],_0x347882,_0x546e57['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===ve?this['light']['bakeNumSam'+'ples']:-0xb69+-0x1*0x1627+0x295*0xd;}['prepareVir'+'tualLight'](_0x214f5c,_0x41d9e0){const _0x206a0f=this['light'];if(_0x206a0f['_node']['setLocalRo'+'tation'](this['rotation']),_0x214f5c>-0x1287+0x215*0x9+-0x36){const _0x418830=_0x206a0f['bakeArea'];Nl['circlePoin'+'tDetermini'+'stic'](yc,_0x214f5c,_0x41d9e0),yc['mulScalar'](_0x418830*(0x17b*-0xd+-0x1*0x16a6+0xd*0x339+0.5)),_0x206a0f['_node']['rotateLoca'+'l'](yc['x'],0x9b7*-0x3+0xacf+0x1256*0x1,yc['y']);}_0x206a0f['_node']['getWorldTr'+'ansform']();const _0x591486=0x2*0x9ef+-0x1df1+-0x1d*-0x59+0.20000000000000018,_0x29a3e9=Math['pow'](this['intensity'],_0x591486);_0x206a0f['intensity']=Math['pow'](_0x29a3e9/_0x41d9e0,(0x1317+0x1c5d+-0x2f73)/_0x591486);}}const Pg=new D();class Mg extends Uv{constructor(_0x117dab){const _0x2479e2=_0x117dab['scene'],_0x3d8678=new lt('AmbientLig'+'ht');_0x3d8678['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(0x1ea2+0x194c+-0x37ee*0x1),'affectLightmapped':!(0x248*-0xd+0x266b+-0x8c2),'bake':!(-0x163e+0x1*-0x2018+0x3656),'bakeNumSamples':_0x2479e2['ambientBak'+'eNumSample'+'s'],'castShadows':!(0x1ca*-0xb+-0x8fb+0x1ca9*0x1),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':$s,'color':ie['WHITE'],'intensity':0x1,'bakeDir':!(0x470+0xa87+-0xef6)}),super(_0x2479e2,_0x3d8678['light']['light'],_0x117dab['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x283f1d,_0x509ba1){Nl['spherePoin'+'tDetermini'+'stic'](Pg,_0x283f1d,_0x509ba1,0x1abd+-0x7c*-0x8+-0x1cd*0x11,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](Pg['mulScalar'](-(0xec0+0x1cd2+-0x24b*0x13))),this['light']['_node']['rotateLoca'+'l'](0x6a4+0x1ac*0xc+-0x2*0xd2d,0x15a*-0x18+-0xec1+0x2f31,0xa94+-0x17e*0x1+-0x916);const _0x18ac7c=0x9*-0x2fe+0x6f4+0x13fc*0x1+0.20000000000000018,_0x1c80c6=(-0x12be+-0x22*0x9e+0x13de*0x2)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x913144=Math['pow'](_0x1c80c6,_0x18ac7c);this['light']['intensity']=Math['pow'](_0x913144/_0x509ba1,(-0x1*0xcf+0x4eb*-0x2+0x1d*0x5e)/_0x18ac7c);}}class vc{constructor(_0x45c38f,_0x1bc30f=null){this['node']=_0x45c38f,this['component']=_0x45c38f['render']||_0x45c38f['model'],_0x1bc30f=_0x1bc30f||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x1bc30f,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const iL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0aunifor'+'m\x20sampler2'+'D\x20source;\x0a'+'uniform\x20ve'+'c2\x20pixelOf'+'fset;\x0aunif'+'orm\x20vec2\x20s'+'igmas;\x0auni'+'form\x20float'+'\x20bZnorm;\x0au'+'niform\x20flo'+'at\x20kernel['+'{MSIZE}];\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20ve'+'c4\x20pixel\x20='+'\x20texture2D'+'Lod(source'+',\x20vUv0,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20lightmap'+'\x20specific\x20'+'optimizati'+'on\x20-\x20skip\x20'+'pixels\x20tha'+'t\x20were\x20not'+'\x20baked\x0a\x20\x20\x20'+'\x20//\x20this\x20a'+'lso\x20allows'+'\x20dilate\x20fi'+'lter\x20that\x20'+'work\x20on\x20th'+'e\x20output\x20o'+'f\x20this\x20to\x20'+'work\x20corre'+'ctly,\x20as\x20i'+'t\x20depends\x20'+'on\x20.a\x20bein'+'g\x20zero\x0a\x20\x20\x20'+'\x20//\x20to\x20dil'+'ate,\x20which'+'\x20the\x20follo'+'wing\x20blur\x20'+'filter\x20wou'+'ld\x20otherwi'+'se\x20modify\x0a')+('\x20\x20\x20\x20if\x20(!i'+'sUsed(pixe'+'l))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20p'+'ixel;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20sigma\x20-'+'\x20controls\x20'+'blurriness'+'\x20based\x20on\x20'+'a\x20pixel\x20di'+'stance\x0a\x20\x20\x20'+'\x20float\x20sig'+'ma\x20=\x20sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'float\x20bSig'+'ma\x20=\x20sigma'+'s.y;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20pixel'+'Hdr\x20=\x20deco'+'de(pixel);'+'\x0a\x20\x20\x20\x20vec3\x20'+'accumulate'+'dHdr\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20float\x20ac'+'cumulatedF'+'actor\x20=\x200.'+'000001;\x20\x20/'+'/\x20avoid\x20di'+'vision\x20by\x20'+'zero\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20ou'+'t\x20the\x20texe'+'ls\x0a\x20\x20\x20\x20con'+'st\x20int\x20kSi'+'ze\x20=\x20({MSI'+'ZE}\x20-\x201)\x20/'+'\x202;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x20-kSize;\x20i'+'\x20<=\x20kSize;'+'\x20++i)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20j\x20=\x20-'+'kSize;\x20j\x20<'+'=\x20kSize;\x20+'+'+j)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sample'+'\x20the\x20pixel'+'\x20with\x20offs'+'et\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'coord\x20=\x20vU'+'v0\x20+\x20vec2('+'float(i),\x20'+'float(j))\x20'+'*\x20pixelOff'+'set;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20pix\x20=\x20te'+'xture2DLod'+'(source,\x20c'+'oord,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x20-\x20o'+'nly\x20use\x20ba'+'ked\x20pixels'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isU'+'sed(pix))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20hdr\x20=\x20d'+'ecode(pix)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20bilatera'+'l\x20factors\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20factor\x20='+'\x20kernel[kS'+'ize\x20+\x20j]\x20*'+'\x20kernel[kS')+('ize\x20+\x20i];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fact'+'or\x20*=\x20norm'+'pdf3(hdr\x20-'+'\x20pixelHdr,'+'\x20bSigma)\x20*'+'\x20bZnorm;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ccumulate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20accu'+'mulatedHdr'+'\x20+=\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20+=\x20facto'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20finalHD'+'R\x20=\x20accumu'+'latedHdr\x20/'+'\x20accumulat'+'edFactor;\x0a'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(finalHDR,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'encodeRGBM'+'(finalHDR)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a'),rL='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',aL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afn'+'\x20normpdf3('+'v:\x20vec3f,\x20'+'sigma:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x200.39894\x20'+'*\x20exp(-0.5'+'\x20*\x20dot(v,\x20'+'v)\x20/\x20(sigm'+'a\x20*\x20sigma)'+')\x20/\x20sigma;'+'\x0a}\x0a\x0afn\x20dec'+'odeRGBM(rg'+'bm:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20(8'+'.0\x20*\x20rgbm.'+'a)\x20*\x20rgbm.'+'rgb;\x0a\x20\x20\x20\x20r'+'eturn\x20colo'+'r\x20*\x20color;'+'\x0a}\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeRGBM'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'var\x20encode'+'d:\x20vec4f;\x0a'+'\x20\x20\x20\x20let\x20rg'+'b_processe'+('d\x20=\x20pow(co'+'lor.rgb,\x20v'+'ec3f(0.5))'+'\x20*\x20(1.0\x20/\x20'+'8.0);\x0a\x20\x20\x20\x20'+'encoded\x20=\x20'+'vec4f(rgb_'+'processed,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20let\x20max_'+'g_b\x20=\x20max('+'\x20encoded.g'+',\x20max(\x20enc'+'oded.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20);\x0a\x20\x20\x20\x20l'+'et\x20max_rgb'+'\x20=\x20max(\x20en'+'coded.r,\x20m'+'ax_g_b\x20);\x0a'+'\x20\x20\x20\x20encode'+'d.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20enco'+'ded.a\x20=\x20ce'+'il(encoded'+'.a\x20*\x20255.0'+')\x20/\x20255.0;'+'\x0a\x0a\x20\x20\x20\x20enco'+'ded\x20=\x20vec4'+'f(encoded.'+'rgb\x20/\x20enco'+'ded.a,\x20enc'+'oded.a);\x0a\x20'+'\x20\x20\x20return\x20'+'encoded;\x0a}'+'\x0a\x0afn\x20decod'+'e(pixel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20pixel.'+'rgb;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'decodeRGBM'+'(pixel);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a\x0afn\x20isUs'+'ed(pixel:\x20'+'vec4f)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0ava'+'r\x20source:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20sourceSam'+'pler:\x20samp'+'ler;\x0aunifo'+'rm\x20kernel:'+'\x20array<f32'+',\x20{MSIZE}>'+';\x0auniform\x20'+'pixelOffse'+'t:\x20vec2f;\x0a'+'uniform\x20si'+'gmas:\x20vec2'+'f;\x0auniform'+'\x20bZnorm:\x20f'+'32;\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20pixel\x20'+'=\x20textureS'+'ampleLevel'+'(source,\x20s'+'ourceSampl'+'er,\x20input.')+('vUv0,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'lightmap\x20s'+'pecific\x20op'+'timization'+'\x20-\x20skip\x20pi'+'xels\x20that\x20'+'were\x20not\x20b'+'aked\x0a\x20\x20\x20\x20/'+'/\x20this\x20als'+'o\x20allows\x20d'+'ilate\x20filt'+'er\x20that\x20wo'+'rk\x20on\x20the\x20'+'output\x20of\x20'+'this\x20to\x20wo'+'rk\x20correct'+'ly,\x20as\x20it\x20'+'depends\x20on'+'\x20.a\x20being\x20'+'zero\x0a\x20\x20\x20\x20/'+'/\x20to\x20dilat'+'e,\x20which\x20t'+'he\x20followi'+'ng\x20blur\x20fi'+'lter\x20would'+'\x20otherwise'+'\x20modify\x0a\x20\x20'+'\x20\x20if\x20(!isU'+'sed(pixel)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20pix'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20range\x20sig'+'ma\x20-\x20contr'+'ols\x20blurri'+'ness\x20based'+'\x20on\x20a\x20pixe'+'l\x20distance'+'\x0a\x20\x20\x20\x20let\x20s'+'igma\x20=\x20uni'+'form.sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'let\x20bSigma'+'\x20=\x20uniform'+'.sigmas.y;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'pixelHdr\x20='+'\x20decode(pi'+'xel);\x0a\x20\x20\x20\x20'+'var\x20accumu'+'latedHdr\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20var'+'\x20accumulat'+'edFactor\x20='+'\x200.000001;'+'\x20\x20//\x20avoid'+'\x20division\x20'+'by\x20zero\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20out\x20the\x20t'+'exels\x0a\x20\x20\x20\x20'+'const\x20kSiz'+'e\x20=\x20({MSIZ'+'E}\x20-\x201)\x20/\x20'+'2;\x0a\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x20-kSiz'+'e;\x20i\x20<=\x20kS'+'ize;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(var\x20j:\x20i3'+'2\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20j\x20=\x20j\x20'+'+\x201)\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20pixel\x20'+'with\x20offse'+'t\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20co'+'ord\x20=\x20inpu'+'t.vUv0\x20+\x20v'+'ec2f(f32(i')+('),\x20f32(j))'+'\x20*\x20uniform'+'.pixelOffs'+'et;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'pix\x20=\x20text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20co'+'ord,\x200.0);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x20-\x20on'+'ly\x20use\x20bak'+'ed\x20pixels\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isUs'+'ed(pix))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20hdr\x20=\x20dec'+'ode(pix);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'bilateral\x20'+'factors\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20fa'+'ctor\x20=\x20uni'+'form.kerne'+'l[u32(kSiz'+'e\x20+\x20j)].el'+'ement\x20*\x20un'+'iform.kern'+'el[u32(kSi'+'ze\x20+\x20i)].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20factor'+'\x20=\x20factor\x20'+'*\x20normpdf3'+'(hdr\x20-\x20pix'+'elHdr,\x20bSi'+'gma)\x20*\x20uni'+'form.bZnor'+'m;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20accumul'+'ate\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'accumulate'+'dHdr\x20=\x20acc'+'umulatedHd'+'r\x20+\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20=\x20accumu'+'latedFacto'+'r\x20+\x20factor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20let'+'\x20finalHDR\x20'+'=\x20accumula'+'tedHdr\x20/\x20a'+'ccumulated'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20#if\x20HDR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalHDR,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20e'+'ncodeRGBM('+'finalHDR);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),nL='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0avar\x20so'+'urce:\x20text'+'ure_2d<f32'+'>;\x0avar\x20sou'+'rceSampler'+':\x20sampler;'+'\x0auniform\x20p'+'ixelOffset'+':\x20vec2f;\x0a\x0a'+'fn\x20isUsed('+'pixel:\x20vec'+'4f)\x20->\x20boo'+'l\x20{\x0a\x20\x20\x20\x20#i'+'fdef\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0a@fr'+'agment\x0afn\x20'+'fragmentMa'+'in(input:\x20'+'FragmentIn'+'put)\x20->\x20Fr'+'agmentOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20c:\x20vec4'+'f\x20=\x20textur'+'eSampleLev'+'el(source,'+'\x20sourceSam'+'pler,\x20inpu'+'t.vUv0,\x200.'+'0);\x0a\x20\x20\x20\x20c\x20'+'=\x20select(t'+'extureSamp'+'leLevel(so'+'urce,\x20sour'+'ceSampler,'+'\x20input.vUv'+'0\x20-\x20unifor'+'m.pixelOff'+'set,\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20-un'+'iform.pixe'+'lOffset.y)'+',\x200.0),\x20c,'+'\x20isUsed(c)'+');\x0a\x20\x20\x20\x20c\x20='+'\x20select(te'+'xtureSampl'+'eLevel(sou'+'rce,\x20sourc'+'eSampler,\x20'+'input.vUv0'+'\x20+\x20vec2f(u'+'niform.pix'+'elOffset.x'+',\x20-uniform'+'.pixelOffs'+'et.y),\x200.0'+'),\x20c,\x20isUs'+'ed(c));\x0a\x20\x20'+'\x20\x20c\x20=\x20sele'+'ct(texture'+'SampleLeve'+'l(source,\x20'+'sourceSamp'+'ler,\x20input'+'.vUv0\x20+\x20ve'+'c2f(-unifo'+'rm.pixelOf'+'fset.x,\x200.'+'0),\x200.0),\x20'+'c,\x20isUsed('+'c));\x0a\x20\x20\x20\x20c'+'\x20=\x20select('+'textureSam'+'pleLevel(s'+'ource,\x20sou'+'rceSampler'+',\x20input.vU'+'v0\x20+\x20vec2f'+'(uniform.p'+('ixelOffset'+'.x,\x200.0),\x20'+'0.0),\x20c,\x20i'+'sUsed(c));'+'\x0a\x20\x20\x20\x20c\x20=\x20s'+'elect(text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20in'+'put.vUv0\x20+'+'\x20vec2f(-un'+'iform.pixe'+'lOffset.x,'+'\x20uniform.p'+'ixelOffset'+'.y),\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20uni'+'form.pixel'+'Offset.y),'+'\x200.0),\x20c,\x20'+'isUsed(c))'+';\x0a\x20\x20\x20\x20c\x20=\x20'+'select(tex'+'tureSample'+'Level(sour'+'ce,\x20source'+'Sampler,\x20i'+'nput.vUv0\x20'+'+\x20uniform.'+'pixelOffse'+'t,\x200.0),\x20c'+',\x20isUsed(c'+'));\x0a\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20FragmentO'+'utput;\x0a\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20c;\x0a\x20'+'\x20\x20\x20return\x20'+'output;\x0a}\x0a'),Dg=0x5e4*-0x2+0x6d0+0x507,oL={'glslBilateralDeNoisePS':iL,'glslDilatePS':rL},lL={'wgslBilateralDeNoisePS':aL,'wgslDilatePS':nL};class cL{constructor(_0x160cd4){h(this,'shaderDila'+'te',[]),h(this,'shaderDeno'+'ise',[]),(this['device']=_0x160cd4,Pe['get'](this['device'],Fe)['add'](oL),Pe['get'](this['device'],it)['add'](lL),this['constantTe'+'xSource']=_0x160cd4['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x160cd4['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(-0x299*0xb+-0x8*-0x201+0x1b*0x77),this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null);}['setSourceT'+'exture'](_0x377a60){this['constantTe'+'xSource']['setValue'](_0x377a60);}['prepare'](_0x171aa1,_0x46ddd4){this['pixelOffse'+'t'][0x29*0xd6+0xea2+-0x9c8*0x5]=(0x1d91+-0x1233+-0xb5d)/_0x171aa1,this['pixelOffse'+'t'][-0x5fb*0x1+-0x1ffa+0x1*0x25f6]=(0x1*0xd13+-0x3*0x7e1+0x21d*0x5)/_0x46ddd4,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x1c06ea,_0x4da90b,_0x22e592){const _0x262ce2=_0x22e592?-0x1d7f+-0x156c+-0xa5*-0x4f:-0x1*0x1e6c+-0x137*-0x1+0x1d36;if(!this['shaderDeno'+'ise'][_0x262ce2]){const _0x456b4b=new Map();_0x456b4b['set']('{MSIZE}',-0x16da+-0xc9+0x17b2),_0x22e592&&_0x456b4b['set']('HDR',''),this['shaderDeno'+'ise'][_0x262ce2]=$t['createShad'+'er'](this['device'],{'uniqueName':'lmBilatera'+'lDeNoise-'+(_0x22e592?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('glslBilate'+'ralDeNoise'+'PS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('wgslBilate'+'ralDeNoise'+'PS'),'fragmentDefines':_0x456b4b}),this['sigmas']=new Float32Array(-0x23ec+0x1b14+0x46d*0x2),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][-0x1b1*0xb+-0x8b4+0x1b4f]=_0x1c06ea,this['sigmas'][0x3b3*0xa+0x1fbe+-0x44bb]=_0x4da90b,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x1c06ea,_0x4da90b);}['getDenoise'](_0x5451fd){const _0x14a765=_0x5451fd?0x1401+0x1b*-0x11d+0xa0e:0x110c+0xb*0x95+-0x2*0xbb9;return this['shaderDeno'+'ise'][_0x14a765];}['getDilate'](_0x2cbf3d,_0x5349e1){const _0x9a072e=_0x5349e1?0xb0*-0x1f+0x1d45+0x15*-0x61:0x1d2d+-0xb5*0x7+-0x1839;if(!this['shaderDila'+'te'][_0x9a072e]){const _0x44dfe5=_0x5349e1?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x9a072e]=$t['createShad'+'er'](_0x2cbf3d,{'uniqueName':'lmDilate-'+(_0x5349e1?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':_0x44dfe5+Pe['get'](this['device'],Fe)['get']('glslDilate'+'PS'),'fragmentWGSL':_0x44dfe5+Pe['get'](this['device'],it)['get']('wgslDilate'+'PS')});}return this['shaderDila'+'te'][_0x9a072e];}['evaluateDe'+'noiseUnifo'+'rms'](_0x133128,_0x51048e){function _0x3af9da(_0x5d93c4,_0x3b2b80){return(-0x1*0xfbc+-0x8f3+0x59*0x47+0.39894)*Math['exp'](-(0x211*0x1+-0xc1b+0xa0a+0.5)*_0x5d93c4*_0x5d93c4/(_0x3b2b80*_0x3b2b80))/_0x3b2b80;}this['kernel']=this['kernel']||new Float32Array(Dg);const _0x152f28=this['kernel'],_0x32ea40=Math['floor']((Dg-(0x16*-0x107+-0x1073*-0x2+-0xa4b))/(-0x7d+-0xa43*-0x1+-0x9c4));for(let _0x15d3c0=-0x162*0x15+-0x11*0x1d8+-0x1e31*-0x2;_0x15d3c0<=_0x32ea40;++_0x15d3c0){const _0x4ac3ce=_0x3af9da(_0x15d3c0,_0x133128);_0x152f28[_0x32ea40+_0x15d3c0]=_0x4ac3ce,_0x152f28[_0x32ea40-_0x15d3c0]=_0x4ac3ce;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x28ccc6=(0x106*-0x19+-0x1cd6+0x1*0x366d)/_0x3af9da(-0x97b+0xe4d+0x4d2*-0x1,_0x51048e);this['bZnorm']['setValue'](_0x28ccc6);}}class hL extends ys{constructor(_0x5521f6,_0x4f4855,_0xe99547,_0x2a77d2,_0x125ca4,_0x2a567d){super(_0x5521f6),h(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x4f4855,this['camera']=_0xe99547,this['worldClust'+'ers']=_0x2a77d2,this['receivers']=_0x125ca4,this['lightArray']=_0x2a567d);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x1fd57d=>{_0x1fd57d['defaultUni'+'formBuffer']['destroy'](),_0x1fd57d['destroy']();}),this['viewBindGr'+'oups']['length']=0x1edd*-0x1+0x9*-0x3b7+-0x5*-0xcdc;}['execute'](){const _0x9c5917=this['device'];Q['pushGpuMar'+'ker'](_0x9c5917,'Lightmappe'+'r');const {renderer:_0xb1ff75,camera:_0x28f518,receivers:_0x468ac2,renderTarget:_0x1fb114,worldClusters:_0x587358,lightArray:_0x1ac46d}=this;_0xb1ff75['renderForw'+'ardLayer'](_0x28f518,_0x1fb114,null,void(-0xf5b+0x103*-0x3+-0x1*-0x1264),Aa,this['viewBindGr'+'oups'],{'meshInstances':_0x468ac2,'splitLights':_0x1ac46d,'lightClusters':_0x587358}),Q['popGpuMark'+'er'](_0x9c5917);}}const dL=-0x209e+0x10*-0x266+0x4efe,fL=-0x1*-0x602+0x205*-0x12+0x796*0x4,uL=-0x1ca+0x55*0x1d+-0x7d6,xc=new D();class pL{constructor(_0x4fe0d1,_0x13cafb,_0x1521b0,_0x2c89dc,_0x482508){this['device']=_0x4fe0d1,this['root']=_0x13cafb,this['scene']=_0x1521b0,this['renderer']=_0x2c89dc,this['assets']=_0x482508,this['shadowMapC'+'ache']=_0x2c89dc['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(-0x1*0x15a1+-0x165b+0x1*0x2bfd),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new ie(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x461ca3;zi['decRef'](this['blackTex']),this['blackTex']=null,zi['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x461ca3=this['camera'])==null||_0x461ca3['destroy'](),this['camera']=null;}['initBake'](_0x1bef66){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Ne,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(-0xab4+-0x8cc+-0x20*-0x9c),this['lightmapFi'+'lters']=new cL(_0x1bef66),this['constantBa'+'keDir']=_0x1bef66['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new _e(this['device'],{'width':0x4,'height':0x4,'format':Ne,'type':Zi,'name':'lightmapBl'+'ack'}),zi['incRef'](this['blackTex']);const _0x563bc3=new Fl();_0x563bc3['clearColor']['set'](0x1179+0x1e00+-0x1*0x2f79,0x52d*-0x5+0x2*0x41c+0x11a9,-0xf85+0x22cd+-0x1348,0x115+0x119b+0x10*-0x12b),_0x563bc3['clearColor'+'Buffer']=!(-0x2ab*-0x2+-0x241d+0x1ec7),_0x563bc3['clearDepth'+'Buffer']=!(0x76+-0x2*0xf53+0x1e31),_0x563bc3['clearStenc'+'ilBuffer']=!(0x2*-0x86d+-0x15d6+-0x587*-0x7),_0x563bc3['frustumCul'+'ling']=!(0x6d*-0x2+-0x81f+0x2fe*0x3),_0x563bc3['projection']=En,_0x563bc3['aspectRati'+'o']=-0x1*-0x187c+-0x19*-0x113+-0x2*0x19ab,_0x563bc3['node']=new Ie(),this['camera']=_0x563bc3,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=Ll,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=sm;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x47e997=new Mv(_0x1bef66['supportsAr'+'eaLights'],_0x1bef66['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x47e997;const _0x53f27a=this['scene']['lighting'];_0x47e997['shadowsEna'+'bled']=_0x53f27a['shadowsEna'+'bled'],_0x47e997['shadowAtla'+'sResolutio'+'n']=_0x53f27a['shadowAtla'+'sResolutio'+'n'],_0x47e997['cookiesEna'+'bled']=_0x53f27a['cookiesEna'+'bled'],_0x47e997['cookieAtla'+'sResolutio'+'n']=_0x53f27a['cookieAtla'+'sResolutio'+'n'],_0x47e997['areaLights'+'Enabled']=_0x53f27a['areaLights'+'Enabled'],_0x47e997['cells']=new D(-0x115a+0x1909+-0x7ac,-0x1b9+0xb67+-0x9ab,0x21d*0x3+-0x611*-0x1+0xa7*-0x13),_0x47e997['maxLightsP'+'erCell']=-0xfa0+0x1*0x547+-0xa5d*-0x1,this['worldClust'+'ers']=new cu(_0x1bef66),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x85ba10){this['materials']=[];function _0x51b904(_0x279e87){zi['decRef'](_0x279e87['colorBuffe'+'r']),_0x279e87['destroy']();}this['renderTarg'+'ets']['forEach'](_0x1c0930=>{_0x51b904(_0x1c0930);}),this['renderTarg'+'ets']['clear'](),_0x85ba10['forEach'](_0x1e756d=>{_0x1e756d['renderTarg'+'ets']['forEach'](_0x3b62b2=>{_0x51b904(_0x3b62b2);}),_0x1e756d['renderTarg'+'ets']['length']=0x5*0x49+-0x1a28+0x18bb;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x26ae58,_0x45f52e,_0xa56163){const _0x3fbd88=new Ut();return _0x3fbd88['name']='lmMaterial'+'-pass:'+_0x45f52e+'-ambient:'+_0xa56163,_0x3fbd88['setDefine']('UV1LAYOUT',''),_0x3fbd88['setDefine']('LIT_LIGHTM'+'AP_BAKING',''),_0x45f52e===fL?(_0x3fbd88['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'COLOR',''),_0xa56163?_0x3fbd88['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'ADD_AMBIEN'+'T',''):_0x3fbd88['ambient']=new ie(0x5cb*-0x6+-0x2f*-0x39+-0x184b*-0x1,0x1e9*-0xb+-0x17f*-0x2+-0x1205*-0x1,-0x13a+0x239*0xb+-0x1739),this['bakeHDR']||_0x3fbd88['setDefine']('LIGHTMAP_R'+'GBM',''),_0x3fbd88['lightMap']=this['blackTex']):(_0x3fbd88['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'DIR',''),_0x3fbd88['setDefine']('STD_LIGHTM'+'AP_DIR','')),_0x3fbd88['cull']=bt,_0x3fbd88['forceUv1']=!(-0xc90+-0x1*0x1b55+0x27e5),_0x3fbd88['update'](),_0x3fbd88;}['createMate'+'rials'](_0x43010f,_0x238d0b,_0x181359){for(let _0x4e2480=-0x950+-0x1*-0xcd+0x883;_0x4e2480<_0x181359;_0x4e2480++)this['passMateri'+'als'][_0x4e2480]||(this['passMateri'+'als'][_0x4e2480]=this['createMate'+'rialForPas'+'s'](_0x238d0b,_0x4e2480,!(0x18f0+0x162f+0x25*-0x146)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x238d0b,-0x2406+0x3*-0x9ad+0x410d,!(0xc68+-0x14bf+-0x3d*-0x23)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x25f748){return _0x25f748['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x164c+-0x65d+-0xfef),_0x25f748['litOptions']['separateAm'+'bient']=!(0x2db*-0xb+0x12*0xc5+0x118f),_0x25f748;});}['createText'+'ure'](_0x38b765,_0x2aa50e){return new _e(this['device'],{'profilerHint':vy,'width':_0x38b765,'height':_0x38b765,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(0x9b3+-0x3d2*0x1+-0x5e0),'type':this['bakeHDR']?Ds:Zi,'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x2aa50e});}['collectMod'+'els'](_0x2fd1d4,_0x37c006,_0x5b0a3e){var _0x268610,_0xde5332,_0x4e1b23;if(!_0x2fd1d4['enabled'])return;let _0x31abf5;if((_0x268610=_0x2fd1d4['model'])!=null&&_0x268610['model']&&((_0xde5332=_0x2fd1d4['model'])!=null&&_0xde5332['enabled'])&&(_0x5b0a3e&&_0x5b0a3e['push'](new vc(_0x2fd1d4)),_0x2fd1d4['model']['lightmappe'+'d']&&_0x37c006&&(_0x31abf5=_0x2fd1d4['model']['model']['meshInstan'+'ces'])),(_0x4e1b23=_0x2fd1d4['render'])!=null&&_0x4e1b23['enabled']&&(_0x5b0a3e&&_0x5b0a3e['push'](new vc(_0x2fd1d4)),_0x2fd1d4['render']['lightmappe'+'d']&&_0x37c006&&(_0x31abf5=_0x2fd1d4['render']['meshInstan'+'ces'])),_0x31abf5){let _0x23c221=!(-0x19*-0x1+-0x1*0x29+0x10);for(let _0x3c0207=0x1850+0x17df+0x1*-0x302f;_0x3c0207<_0x31abf5['length'];_0x3c0207++)if(!_0x31abf5[_0x3c0207]['mesh']['vertexBuff'+'er']['format']['hasUv1']){w['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x2fd1d4['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x23c221=!(0x1129*-0x1+0xf5*0x1b+0x1*-0x8ad);break;}if(_0x23c221){const _0x3f2b66=[];for(let _0x3fef2e=0x1a0a+-0x21e7+-0x7dd*-0x1;_0x3fef2e<_0x31abf5['length'];_0x3fef2e++){const _0x454303=_0x31abf5[_0x3fef2e]['mesh'];this['_tempSet']['has'](_0x454303)?_0x37c006['push'](new vc(_0x2fd1d4,[_0x31abf5[_0x3fef2e]])):_0x3f2b66['push'](_0x31abf5[_0x3fef2e]),this['_tempSet']['add'](_0x454303);}this['_tempSet']['clear'](),_0x3f2b66['length']>0x7*-0x171+-0x3ee*-0x1+0x629&&_0x37c006['push'](new vc(_0x2fd1d4,_0x3f2b66));}}for(let _0x1c2d27=-0x242c+-0xb97+0x2fc3;_0x1c2d27<_0x2fd1d4['_children']['length'];_0x1c2d27++)this['collectMod'+'els'](_0x2fd1d4['_children'][_0x1c2d27],_0x37c006,_0x5b0a3e);}['prepareSha'+'dowCasters'](_0x5c2dc0){const _0x1e584b=[];for(let _0x5daeed=0x1db9*0x1+-0x5ed+0x4*-0x5f3;_0x5daeed<_0x5c2dc0['length'];_0x5daeed++){const _0x45acfb=_0x5c2dc0[_0x5daeed]['component'];if(_0x45acfb['castShadow'+'s']=_0x45acfb['castShadow'+'sLightmap'],_0x45acfb['castShadow'+'sLightmap']){const _0xf88fc5=_0x5c2dc0[_0x5daeed]['meshInstan'+'ces'];for(let _0x26ccd8=0x1fe*-0x1+0x24fd+-0x11*0x20f;_0x26ccd8<_0xf88fc5['length'];_0x26ccd8++)_0xf88fc5[_0x26ccd8]['visibleThi'+'sFrame']=!(-0x1cd6+0x5d5+-0x1c5*-0xd),_0x1e584b['push'](_0xf88fc5[_0x26ccd8]);}}return _0x1e584b;}['updateTran'+'sforms'](_0x5b3e1e){for(let _0x1d6cb2=-0x1b4f+0x1bd5+-0x86;_0x1d6cb2<_0x5b3e1e['length'];_0x1d6cb2++){const _0x43ac95=_0x5b3e1e[_0x1d6cb2]['meshInstan'+'ces'];for(let _0x4e139f=0x41f*0x1+-0x2235+0x2*0xf0b;_0x4e139f<_0x43ac95['length'];_0x4e139f++)_0x43ac95[_0x4e139f]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x5a617d){let _0x260f83;const _0x905837=this['scene']['lightmapSi'+'zeMultipli'+'er']||0x1e1a+0xac5*0x3+-0x3e59*0x1,_0x118e53=xc;let _0x3dba54,_0x237f5b;_0x5a617d['model']?(_0x237f5b=_0x5a617d['model']['lightmapSi'+'zeMultipli'+'er'],_0x5a617d['model']['asset']?(_0x260f83=this['assets']['get'](_0x5a617d['model']['asset'])['data'],_0x260f83['area']&&(_0x3dba54=_0x260f83['area'])):_0x5a617d['model']['_area']&&(_0x260f83=_0x5a617d['model'],_0x260f83['_area']&&(_0x3dba54=_0x260f83['_area']))):_0x5a617d['render']&&(_0x237f5b=_0x5a617d['render']['lightmapSi'+'zeMultipli'+'er'],_0x5a617d['render']['type']!=='asset'&&_0x5a617d['render']['_area']&&(_0x260f83=_0x5a617d['render'],_0x260f83['_area']&&(_0x3dba54=_0x260f83['_area'])));const _0x2f53d6={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0x3dba54&&(_0x2f53d6['x']=_0x3dba54['x'],_0x2f53d6['y']=_0x3dba54['y'],_0x2f53d6['z']=_0x3dba54['z'],_0x2f53d6['uv']=_0x3dba54['uv']);const _0x193662=_0x237f5b||0x5*0x2a1+0x1*-0x633+-0x6f1;_0x2f53d6['x']*=_0x193662,_0x2f53d6['y']*=_0x193662,_0x2f53d6['z']*=_0x193662;const _0x53e6da=_0x5a617d['render']||_0x5a617d['model'],_0x289577=this['computeNod'+'eBounds'](_0x53e6da['meshInstan'+'ces']);_0x118e53['copy'](_0x289577['halfExtent'+'s']);let _0x1412b3=_0x2f53d6['x']*_0x118e53['y']*_0x118e53['z']+_0x2f53d6['y']*_0x118e53['x']*_0x118e53['z']+_0x2f53d6['z']*_0x118e53['x']*_0x118e53['y'];return _0x1412b3/=_0x2f53d6['uv'],_0x1412b3=Math['sqrt'](_0x1412b3),Math['min'](Y['nextPowerO'+'fTwo'](_0x1412b3*_0x905837),this['scene']['lightmapMa'+'xResolutio'+'n']||dL);}['setLightma'+'pping'](_0x4011d2,_0x223e42,_0x1152fd,_0x193318){for(let _0x3dcea1=-0x24fb+-0x360+0x285b;_0x3dcea1<_0x4011d2['length'];_0x3dcea1++){const _0x7246aa=_0x4011d2[_0x3dcea1],_0x116742=_0x7246aa['meshInstan'+'ces'];for(let _0x5c9020=0x13d*-0x3+-0x283*0x2+-0x1*-0x8bd;_0x5c9020<_0x116742['length'];_0x5c9020++){const _0x288ee3=_0x116742[_0x5c9020];if(_0x288ee3['setLightma'+'pped'](_0x223e42),_0x223e42){_0x193318&&(_0x288ee3['_shaderDef'+'s']|=_0x193318),_0x288ee3['mask']=di;for(let _0xc55e78=0x393+0x5*-0x152+-0x9b*-0x5;_0xc55e78<_0x1152fd;_0xc55e78++){const _0x147d1a=_0x7246aa['renderTarg'+'ets'][_0xc55e78]['colorBuffe'+'r'];_0x147d1a['minFilter']=vt,_0x147d1a['magFilter']=vt,_0x288ee3['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0xc55e78],_0x147d1a);}}}}}['bake'](_0x589aa1,_0x3ae305=jc){const _0x30ad62=this['device'],_0x1232b6=de();this['scene']['_updateSky'+'Mesh'](),_0x30ad62['fire']('lightmappe'+'r:start',{'timestamp':_0x1232b6,'target':this}),this['stats']['renderPass'+'es']=-0x1c0b+0x2*-0x557+0x1af*0x17,this['stats']['shadowMapT'+'ime']=0x75*0x48+-0x23f3+-0x29*-0x13,this['stats']['forwardTim'+'e']=0x10*0xba+-0x3*-0x293+-0x1359;const _0x36639d=_0x30ad62['_shaderSta'+'ts']['linked'],_0x4b26d8=_0x30ad62['_renderTar'+'getCreatio'+'nTime'],_0x150a86=_0x30ad62['_shaderSta'+'ts']['compileTim'+'e'],_0x5e56e5=[],_0x27afa5=[];if(_0x589aa1){for(let _0x4f76a5=0xe39+0x1d12+-0x2b4b;_0x4f76a5<_0x589aa1['length'];_0x4f76a5++)this['collectMod'+'els'](_0x589aa1[_0x4f76a5],_0x5e56e5,null);this['collectMod'+'els'](this['root'],null,_0x27afa5);}else this['collectMod'+'els'](this['root'],_0x5e56e5,_0x27afa5);if(Q['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x5e56e5['length']>0xccb+-0x1ec2+-0x49*-0x3f){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x23b8bb=_0x3ae305===jc?-0x48c*-0x5+0xdf9*0x1+-0x24b3:0x44d+0x4*-0x15b+0x120;this['setLightma'+'pping'](_0x5e56e5,!(0x571*0x1+-0x1669+-0x1*-0x10f9),_0x23b8bb),this['initBake'](_0x30ad62),this['bakeIntern'+'al'](_0x23b8bb,_0x5e56e5,_0x27afa5);let _0x4de94a=ou;_0x3ae305===jc&&(_0x4de94a|=uv),this['scene']['ambientBak'+'e']&&(_0x4de94a|=pv),this['setLightma'+'pping'](_0x5e56e5,!(0x250f+-0x3*-0x375+-0x1a*0x1d3),_0x23b8bb,_0x4de94a),this['finishBake'](_0x5e56e5);}Q['popGpuMark'+'er'](this['device']);const _0x578e37=de();this['stats']['totalRende'+'rTime']=_0x578e37-_0x1232b6,this['stats']['shadersLin'+'ked']=_0x30ad62['_shaderSta'+'ts']['linked']-_0x36639d,this['stats']['compileTim'+'e']=_0x30ad62['_shaderSta'+'ts']['compileTim'+'e']-_0x150a86,this['stats']['fboTime']=_0x30ad62['_renderTar'+'getCreatio'+'nTime']-_0x4b26d8,this['stats']['lightmapCo'+'unt']=_0x5e56e5['length'],_0x30ad62['fire']('lightmappe'+'r:end',{'timestamp':_0x578e37,'target':this});}['allocateTe'+'xtures'](_0x5bbb64,_0x1a141b){for(let _0x3572c5=-0x39*-0x53+-0x142e+0x1b3;_0x3572c5<_0x5bbb64['length'];_0x3572c5++){const _0x5a87f7=_0x5bbb64[_0x3572c5],_0x2f2d2c=this['calculateL'+'ightmapSiz'+'e'](_0x5a87f7['node']);for(let _0x19a54c=0x138e+0x199b+0x1*-0x2d29;_0x19a54c<_0x1a141b;_0x19a54c++){const _0x3551e8=this['createText'+'ure'](_0x2f2d2c,'lightmappe'+'r_lightmap'+'_'+_0x3572c5);zi['incRef'](_0x3551e8),_0x5a87f7['renderTarg'+'ets'][_0x19a54c]=new gt({'colorBuffer':_0x3551e8,'depth':!(-0x13e3+0x7*-0x146+-0x1cce*-0x1)});}if(!this['renderTarg'+'ets']['has'](_0x2f2d2c)){const _0x26a486=this['createText'+'ure'](_0x2f2d2c,'lightmappe'+'r_temp_lig'+'htmap_'+_0x2f2d2c);zi['incRef'](_0x26a486),this['renderTarg'+'ets']['set'](_0x2f2d2c,new gt({'colorBuffer':_0x26a486,'depth':!(-0x2199+0x147c+0xd1e)}));}}}['prepareLig'+'htsToBake'](_0x453bde,_0x1cb455){if(this['scene']['ambientBak'+'e']){const _0x14f56f=new Mg(this);_0x1cb455['push'](_0x14f56f);}const _0x32f747=this['renderer']['lights'];for(let _0x3c050e=0x17a+0x922+-0xa9c;_0x3c050e<_0x32f747['length'];_0x3c050e++){const _0x59aa26=_0x32f747[_0x3c050e],_0x6ce8f6=new sL(this,_0x59aa26);_0x453bde['push'](_0x6ce8f6),_0x59aa26['enabled']&&(_0x59aa26['mask']&fi)!==-0x1*-0x8c8+0x17*-0x167+0x1779&&(_0x59aa26['mask']=fi|di|Ss,_0x59aa26['shadowUpda'+'teMode']=_0x59aa26['type']===ve?lm:xr,_0x1cb455['push'](_0x6ce8f6));}_0x1cb455['sort']();}['restoreLig'+'hts'](_0x58cbb5){for(let _0x53282d=0x1543+-0x1bc2+0x67f;_0x53282d<_0x58cbb5['length'];_0x53282d++)_0x58cbb5[_0x53282d]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](0x97*0x5+0x8a+-0x37d,0x1*-0xfe+-0x1*-0x1df9+-0x1cfb,-0x3*0x2a1+0x2ce+-0x1*-0x515),this['renderer']['setSceneCo'+'nstants'](),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Contrast')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Contrast']),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Brightness')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Brightness']);}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x121781){const _0xfe9e52=new De();if(_0x121781['length']>-0x9b1+-0x1407*-0x1+-0xa56){_0xfe9e52['copy'](_0x121781[-0x1aad+-0x2ba*-0x8+0x4dd]['aabb']);for(let _0x1f287e=-0x20e9+0x1e13+0x2d7;_0x1f287e<_0x121781['length'];_0x1f287e++)_0xfe9e52['add'](_0x121781[_0x1f287e]['aabb']);}return _0xfe9e52;}['computeNod'+'esBounds'](_0x21ca35){for(let _0xcefc54=-0x3ef*0x1+-0x25b2*0x1+0x29a1;_0xcefc54<_0x21ca35['length'];_0xcefc54++){const _0x441226=_0x21ca35[_0xcefc54]['meshInstan'+'ces'];_0x21ca35[_0xcefc54]['bounds']=this['computeNod'+'eBounds'](_0x441226);}}['computeBou'+'nds'](_0x54e0e0){const _0x3a5703=new De();for(let _0x13e0c4=-0x1*-0x1d8a+0x15c6+-0x4*0xcd4;_0x13e0c4<_0x54e0e0['length'];_0x13e0c4++){_0x3a5703['copy'](_0x54e0e0[-0x16de+-0x1*0x15ff+-0x1*-0x2cdd]['aabb']);for(let _0x354ace=0x23*0x92+0xa3*0x34+-0x4d3*0xb;_0x354ace<_0x54e0e0['length'];_0x354ace++)_0x3a5703['add'](_0x54e0e0[_0x354ace]['aabb']);}return _0x3a5703;}['backupMate'+'rials'](_0x48b6d4){for(let _0x23a6f5=0x20e8+0x7ee+-0x28d6;_0x23a6f5<_0x48b6d4['length'];_0x23a6f5++)this['materials'][_0x23a6f5]=_0x48b6d4[_0x23a6f5]['material'];}['restoreMat'+'erials'](_0x5a527a){for(let _0x2db2d5=0x506*-0x2+0x216a+-0x175e;_0x2db2d5<_0x5a527a['length'];_0x2db2d5++)_0x5a527a[_0x2db2d5]['material']=this['materials'][_0x2db2d5];}['lightCamer'+'aPrepare'](_0x94a122,_0x5502f7){const _0x3a40d3=_0x5502f7['light'];let _0x25fe82;return _0x3a40d3['type']===Ze&&(_0x25fe82=_0x3a40d3['getRenderD'+'ata'](null,-0x1*-0x2a+0x1191+0x33*-0x59)['shadowCame'+'ra'],_0x25fe82['_node']['setPositio'+'n'](_0x3a40d3['_node']['getPositio'+'n']()),_0x25fe82['_node']['setRotatio'+'n'](_0x3a40d3['_node']['getRotatio'+'n']()),_0x25fe82['_node']['rotateLoca'+'l'](-(-0x204d*0x1+0x10ac+-0x1*-0xffb),-0xb*0x27a+0x5*0x240+0xffe,-0x1c85+0xf*-0x1e7+0x390e),_0x25fe82['projection']=ni,_0x25fe82['nearClip']=_0x3a40d3['attenuatio'+'nEnd']/(-0x1c6c+-0x350+-0x2*-0x11d2),_0x25fe82['farClip']=_0x3a40d3['attenuatio'+'nEnd'],_0x25fe82['aspectRati'+'o']=-0x236e*-0x1+-0xe4*0x9+-0x923*0x3,_0x25fe82['fov']=_0x3a40d3['_outerCone'+'Angle']*(0x1bbc+-0x937*0x4+0xa7*0xe),this['renderer']['updateCame'+'raFrustum'](_0x25fe82)),_0x25fe82;}['lightCamer'+'aPrepareAn'+'dCull'](_0x249412,_0x2a4b30,_0x47b910,_0x3014c6){const _0x2d65e5=_0x249412['light'];let _0x134ddb=!(0x3d*-0x6e+-0x24f2+0x1f94*0x2);if(_0x2d65e5['type']===ve){xc['copy'](_0x3014c6['center']),xc['y']+=_0x3014c6['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](xc),this['camera']['node']['setEulerAn'+'gles'](-(0x1a0b+-0x189a+-0x117),0x1253+-0x140*0x13+0x56d,0xbe3+0x24e9+-0x30cc),this['camera']['nearClip']=-0x1*-0xe9b+-0x377*-0x1+0x606*-0x3,this['camera']['farClip']=_0x3014c6['halfExtent'+'s']['y']*(0x47*-0x1c+0x2*-0x313+-0x9*-0x18c);const _0x5d656f=Math['max'](_0x3014c6['halfExtent'+'s']['x'],_0x3014c6['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x5d656f;}else _0x249412['lightBound'+'s']['intersects'](_0x2a4b30['bounds'])||(_0x134ddb=!(0x1ad1*-0x1+-0x112a+0x2bfc));if(_0x2d65e5['type']===Ze){let _0x175129=!(0x13f7*0x1+0x2663*-0x1+0x126d);const _0x44fb3d=_0x2a4b30['meshInstan'+'ces'];for(let _0x4d51e8=-0x1b65+-0x5c9*-0x2+0xfd3;_0x4d51e8<_0x44fb3d['length'];_0x4d51e8++)if(_0x44fb3d[_0x4d51e8]['_isVisible'](_0x47b910)){_0x175129=!(-0x185*-0xb+-0xa22+-0x151*0x5);break;}_0x175129||(_0x134ddb=!(-0x1aee+-0x3*-0xc5+0x628*0x4));}return _0x134ddb;}['setupLight'+'Array'](_0x1d9c4f,_0x5321dd){_0x1d9c4f[ve]['length']=0x46d*0x7+-0x8*-0x4e1+-0x1*0x4603,_0x1d9c4f[Ke]['length']=-0x20fa+-0x2085+0x747*0x9,_0x1d9c4f[Ze]['length']=-0x2390+-0xca1+0x3031,_0x1d9c4f[_0x5321dd['type']][0x3*0x2fb+-0x23c2+0x1*0x1ad1]=_0x5321dd,_0x5321dd['visibleThi'+'sFrame']=!(0x300+-0x5e0+0x2e0);}['renderShad'+'owMap'](_0xbf088b,_0x5af909,_0x44a9ff,_0x34db76){const _0x4d550f=_0x34db76['light'],_0x71c1d9=this['scene']['clusteredL'+'ightingEna'+'bled'],_0xaa4914=_0x4d550f['castShadow'+'s']&&(!_0x71c1d9||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x5af909&&_0xaa4914){if(!_0x4d550f['shadowMap']&&!_0x71c1d9&&(_0x4d550f['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x4d550f)),_0x4d550f['type']===ve){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x4d550f,_0xbf088b,this['camera'],_0x44a9ff);const _0x4bbb6c=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x4d550f,this['camera']);_0x4bbb6c==null||_0x4bbb6c['render']();}else{if(this['device']['isWebGPU'])return w['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(-0x96*-0x20+-0x256d*0x1+0x12ad);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x4d550f,_0xbf088b,_0x44a9ff),this['renderer']['shadowRend'+'erer']['render'](_0x4d550f,this['camera'],!(0x16a*-0x6+-0x2c3+0xb40));}}return!(0x1*-0xba7+0x882+-0x17*-0x23);}['postproces'+'sTextures'](_0x5e6a01,_0x91f430,_0x42a0af){const _0x557bbf=this['lightmapFi'+'lters']['getDilate'](_0x5e6a01,this['bakeHDR']);let _0xb0d331;const _0x559cec=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x559cec&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0xb0d331=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x5e6a01['setBlendSt'+'ate'](pt['NOBLEND']),_0x5e6a01['setDepthSt'+'ate'](Yt['NODEPTH']),_0x5e6a01['setStencil'+'State'](null,null);for(let _0x22d188=-0xa*0x1c8+-0x6ee*-0x4+-0x9e8;_0x22d188<_0x91f430['length'];_0x22d188++){const _0x2ccebb=_0x91f430[_0x22d188];Q['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x22d188);for(let _0x4703bf=-0x535*-0x1+-0xe9*0x1+-0x44c;_0x4703bf<_0x42a0af;_0x4703bf++){const _0x292397=_0x2ccebb['renderTarg'+'ets'][_0x4703bf],_0x577a31=_0x292397['colorBuffe'+'r'],_0x20b0ec=this['renderTarg'+'ets']['get'](_0x577a31['width']),_0x5f2592=_0x20b0ec['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x577a31['width'],_0x577a31['height']);for(let _0x56866d=-0x13c3+-0x1faf*-0x1+-0x2fb*0x4;_0x56866d<0x119*0x21+0x10eb+0x3d*-0xdf;_0x56866d++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x577a31),Ar(_0x5e6a01,_0x20b0ec,_0x559cec&&_0x4703bf===-0xca*0x23+0x427+0x1777&&_0x56866d===0x10*-0x38+-0x7*-0x5+0x35d?_0xb0d331:_0x557bbf),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x5f2592),Ar(_0x5e6a01,_0x292397,_0x557bbf);}Q['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x55889b,_0x485b13,_0x16249c){const _0x4c7ff7=this['scene'],_0x53b282=_0x4c7ff7['layers'],_0xaaae63=this['device'],_0x3096b5=_0x4c7ff7['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0xaaae63,_0x4c7ff7,_0x55889b),this['setupScene'](),_0x53b282['_update'](),this['computeNod'+'esBounds'](_0x485b13),this['allocateTe'+'xtures'](_0x485b13,_0x55889b),this['renderer']['collectLig'+'hts'](_0x53b282);const _0x4a2c1a=[],_0x3c374b=[];this['prepareLig'+'htsToBake'](_0x4a2c1a,_0x3c374b),this['updateTran'+'sforms'](_0x16249c);const _0x3e4d3d=this['prepareSha'+'dowCasters'](_0x16249c);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x3e4d3d),this['renderer']['gpuUpdate'](_0x3e4d3d);const _0x16b994=this['computeBou'+'nds'](_0x3e4d3d);let _0x313137,_0x213269,_0x2ec815,_0x4fe5db;for(_0x313137=-0x2409+0x24db+-0xd2;_0x313137<_0x485b13['length'];_0x313137++)for(_0x2ec815=_0x485b13[_0x313137]['meshInstan'+'ces'],_0x213269=0x1b27*-0x1+-0xe9*0x29+0x4078;_0x213269<_0x2ec815['length'];_0x213269++)_0x4fe5db=_0x2ec815[_0x213269],_0x4fe5db['setLightma'+'pped'](!(-0x1d14+0x17*-0x47+0x2376)),_0x4fe5db['mask']=fi,_0x4fe5db['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][-0xea2+-0x736+0xaec*0x2],this['blackTex']),_0x4fe5db['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][-0xd25+-0x265d+0x3383],this['blackTex']);for(_0x213269=0x1a59+0x5d5+0x55d*-0x6;_0x213269<_0x3c374b['length'];_0x213269++)_0x3c374b[_0x213269]['light']['enabled']=!(-0x1e7*0x8+0x8f2+0x647);const _0x4d3a11=[[],[],[]];let _0x4321d7,_0x4a0ea5,_0x5258a0=!(-0x1*-0x7cf+0x5fc+0x161*-0xa);for(_0x313137=0x1466+-0x1df+0x117*-0x11;_0x313137<_0x3c374b['length'];_0x313137++){const _0x2b00d6=_0x3c374b[_0x313137],_0x198f3d=_0x2b00d6 instanceof Mg,_0x1f1ea7=_0x2b00d6['light']['type']===ve;let _0x48ee7a=_0x2b00d6['numVirtual'+'Lights'];_0x55889b>0x25b6+0x584+0x2b39*-0x1&&_0x48ee7a>0x16ca+-0x169+0x1560*-0x1&&_0x2b00d6['light']['bakeDir']&&(_0x48ee7a=0x1f4*0xd+0x8a*-0x29+0x1d*-0x1d,w['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0x5b2e14=-0x930+-0x1255+0x1b85;_0x5b2e14<_0x48ee7a;_0x5b2e14++){Q['pushGpuMar'+'ker'](_0xaaae63,'Light:'+_0x2b00d6['light']['_node']['name']+':'+_0x5b2e14),_0x48ee7a>-0x518+-0x1*-0x5c+0x4bd&&_0x2b00d6['prepareVir'+'tualLight'](_0x5b2e14,_0x48ee7a),_0x2b00d6['startBake']();let _0x4e50a2=!(0xf29*0x2+-0x1906+-0x54b);const _0x4aed31=this['lightCamer'+'aPrepare'](_0xaaae63,_0x2b00d6);for(_0x4a0ea5=-0x7d0*-0x2+0x1674+-0x2614*0x1;_0x4a0ea5<_0x485b13['length'];_0x4a0ea5++){const _0x2c3663=_0x485b13[_0x4a0ea5];if(_0x2ec815=_0x2c3663['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x2b00d6,_0x2c3663,_0x4aed31,_0x16b994))continue;this['setupLight'+'Array'](_0x4d3a11,_0x2b00d6['light']);const _0x2a9e03=_0x1f1ea7?[]:[_0x2b00d6['light']];for(_0x3096b5&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x2a9e03,this['lightingPa'+'rams']),_0x4e50a2=this['renderShad'+'owMap'](_0x53b282,_0x4e50a2,_0x3e4d3d,_0x2b00d6),_0x3096b5&&this['worldClust'+'ers']['update'](_0x2a9e03,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0x2ec815),_0x4321d7=0x1646+-0x3*0x72f+-0x5*0x25;_0x4321d7<_0x55889b&&!(_0x4321d7>0x289+-0x16a9*0x1+0x1420&&_0x5b2e14>-0xa84*0x1+-0x7*-0x2bb+-0x899||_0x198f3d&&_0x4321d7>-0x1a95+-0x179b*0x1+-0x2c*-0x124);_0x4321d7++){Q['pushGpuMar'+'ker'](_0xaaae63,'LMPass:'+_0x4321d7);const _0x1b6283=_0x2c3663['renderTarg'+'ets'][_0x4321d7],_0x319ad0=_0x2c3663['renderTarg'+'ets'][_0x4321d7]['colorBuffe'+'r']['width'],_0x3883d0=this['renderTarg'+'ets']['get'](_0x319ad0),_0x206f55=_0x3883d0['colorBuffe'+'r'];_0x4321d7===0x20b*-0x6+0xead+0x26b*-0x1?_0x5258a0=_0x4c7ff7['updateShad'+'ers']:_0x5258a0&&(_0x4c7ff7['updateShad'+'ers']=!(-0x1*0x224e+0x78d+-0x2f9*-0x9));let _0x17c5b0=this['passMateri'+'als'][_0x4321d7];for(_0x198f3d&&_0x5b2e14+(-0x1a85+-0x960+0x23e6*0x1)===_0x48ee7a&&_0x4321d7===-0x5ab*-0x3+-0x17f2+0x6f1&&(_0x17c5b0=this['ambientAOM'+'aterial']),_0x213269=-0x207*0x1+-0x232b+0x2532;_0x213269<_0x2ec815['length'];_0x213269++)_0x2ec815[_0x213269]['material']=_0x17c5b0;if(this['renderer']['updateShad'+'ers'](_0x2ec815),_0x4321d7===uL&&this['constantBa'+'keDir']['setValue'](_0x2b00d6['light']['bakeDir']?0x14*-0x13c+-0x1*0xc85+-0x1*-0x2536:0x23ca+-0x22*0x6a+-0x15b6),_0xaaae63['isWebGPU']){const _0x31d841=new hL(_0xaaae63,this['renderer'],this['camera'],_0x3096b5?this['worldClust'+'ers']:null,_0x2ec815,_0x4d3a11);_0x31d841['init'](_0x3883d0),_0x31d841['render'](),_0x31d841['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x3883d0,!(-0x1651+-0x1575+0x2*0x15e3)),_0x3096b5&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=-0x1a9*0x7+-0x23a8+-0x1*-0x2f47,this['renderer']['_shadowMap'+'Time']=0x91f+-0x5*-0x5b7+-0x25b2,this['renderer']['renderForw'+'ard'](this['camera'],_0x3883d0,_0x2ec815,_0x4d3a11,Aa),_0xaaae63['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x2c3663['renderTarg'+'ets'][_0x4321d7]=_0x3883d0,this['renderTarg'+'ets']['set'](_0x319ad0,_0x1b6283),_0x213269=0x35*-0x37+0x2*0xa07+-0x8ab;_0x213269<_0x2ec815['length'];_0x213269++)_0x4fe5db=_0x2ec815[_0x213269],_0x4fe5db['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x4321d7],_0x206f55),_0x4fe5db['_shaderDef'+'s']|=ou;Q['popGpuMark'+'er'](_0xaaae63);}this['restoreMat'+'erials'](_0x2ec815);}_0x2b00d6['endBake'](this['shadowMapC'+'ache']),Q['popGpuMark'+'er'](_0xaaae63);}}for(this['postproces'+'sTextures'](_0xaaae63,_0x485b13,_0x55889b),_0x4a0ea5=-0x3bb*0x8+-0x9ce*0x1+0x27a6;_0x4a0ea5<_0x16249c['length'];_0x4a0ea5++)_0x16249c[_0x4a0ea5]['restore']();this['restoreLig'+'hts'](_0x4a2c1a),this['restoreSce'+'ne'](),_0x3096b5||this['shadowMapC'+'ache']['clear']();}}const Wh=class Wh extends me{constructor(_0x1fc55b,_0x58fe6b){super(),h(this,'system'),h(this,'entity'),(this['system']=_0x1fc55b,this['entity']=_0x58fe6b,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x4286fe,_0x57a811,_0x400ed6){this['fire']('set_'+_0x4286fe,_0x4286fe,_0x57a811,_0x400ed6);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x2f120a,_0x894c26){_0x894c26['forEach'](_0x2a5596=>{const _0x4f55ef=typeof _0x2a5596=='object'?_0x2a5596['name']:_0x2a5596;Object['defineProp'+'erty'](_0x2f120a,_0x4f55ef,{'get':function(){return this['data'][_0x4f55ef];},'set':function(_0x21f01d){const _0x32e8d7=this['data'],_0x415e72=_0x32e8d7[_0x4f55ef];_0x32e8d7[_0x4f55ef]=_0x21f01d,this['fire']('set',_0x4f55ef,_0x415e72,_0x21f01d);},'configurable':!(-0x69*-0x5+0x387*0x2+-0x91b)});}),_0x2f120a['_accessors'+'Built']=!(0x31*0x71+0x98+-0x1*0x1639);}['buildAcces'+'sors'](_0x603338){Wh['_buildAcce'+'ssors'](this,_0x603338);}['onSetEnabl'+'ed'](_0x2d593f,_0x57583b,_0x26df84){_0x57583b!==_0x26df84&&this['entity']['enabled']&&(_0x26df84?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x27d582=this['system']['store'][this['entity']['getGuid']()];return _0x27d582?_0x27d582['data']:null;}set['enabled'](_0x5d5708){}get['enabled'](){return!(-0x60e+-0x2596+0x2ba4);}};h(Wh,'order',-0x1035+0xa5f+0x5d6);let we=Wh;class ct extends me{constructor(_0xd6f919){super(),this['app']=_0xd6f919,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x267b6a,_0x3e3ed5={}){const _0xcdbd55=new this['ComponentT'+'ype'](this,_0x267b6a),_0x4ff074=new this['DataType']();return this['store'][_0x267b6a['getGuid']()]={'entity':_0x267b6a,'data':_0x4ff074},_0x267b6a[this['id']]=_0xcdbd55,_0x267b6a['c'][this['id']]=_0xcdbd55,this['initialize'+'ComponentD'+'ata'](_0xcdbd55,_0x3e3ed5,[]),this['fire']('add',_0x267b6a,_0xcdbd55),_0xcdbd55;}['removeComp'+'onent'](_0x21b83f){const _0x37a7f0=this['id'],_0x3b8497=this['store'][_0x21b83f['getGuid']()],_0x3867bb=_0x21b83f['c'][_0x37a7f0];_0x3867bb['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x21b83f,_0x3867bb),delete this['store'][_0x21b83f['getGuid']()],_0x21b83f[_0x37a7f0]=void(-0x15f*0x12+0x1090+0x81e*0x1),delete _0x21b83f['c'][_0x37a7f0],this['fire']('remove',_0x21b83f,_0x3b8497['data']);}['cloneCompo'+'nent'](_0x557a6e,_0x3dffa0){const _0x22a40f=this['store'][_0x557a6e['getGuid']()];return this['addCompone'+'nt'](_0x3dffa0,_0x22a40f['data']);}['initialize'+'ComponentD'+'ata'](_0x340762,_0x2c16bc={},_0x3e8179){for(let _0x4b7e4f=-0x9bb+-0x21f2+0x2bad,_0x136566=_0x3e8179['length'];_0x4b7e4f<_0x136566;_0x4b7e4f++){const _0x2ba770=_0x3e8179[_0x4b7e4f];let _0x17539e,_0x5f4b79;typeof _0x2ba770=='object'?(_0x17539e=_0x2ba770['name'],_0x5f4b79=_0x2ba770['type']):(_0x17539e=_0x2ba770,_0x5f4b79=void(-0x2*-0x461+-0x35b+-0x1cd*0x3));let _0x3a9173=_0x2c16bc[_0x17539e];_0x3a9173!==void(0x6d9*-0x1+0x1455+-0xd7c)?(_0x5f4b79!==void(0x25f5+0x18b2*0x1+-0x3ea7)&&(_0x3a9173=mL(_0x3a9173,_0x5f4b79)),_0x340762[_0x17539e]=_0x3a9173):_0x340762[_0x17539e]=_0x340762['data'][_0x17539e];}_0x340762['enabled']&&_0x340762['entity']['enabled']&&_0x340762['onEnable']();}['getPropert'+'iesOfType'](_0x26eded){const _0x4b8446=[];return(this['schema']||[])['forEach'](_0x4f2211=>{_0x4f2211&&typeof _0x4f2211=='object'&&_0x4f2211['type']===_0x26eded&&_0x4b8446['push'](_0x4f2211);}),_0x4b8446;}['destroy'](){this['off']();}}function mL(_0x378166,_0x527b81){if(!_0x378166)return _0x378166;switch(_0x527b81){case'rgb':return _0x378166 instanceof ie?_0x378166['clone']():new ie(_0x378166[-0x1d7c+-0xb39+0x28b5*0x1],_0x378166[-0x13c2*-0x1+0x6c3+-0x6a1*0x4],_0x378166[-0x4a3+-0x35c+0x1*0x801]);case'rgba':return _0x378166 instanceof ie?_0x378166['clone']():new ie(_0x378166[0x1f21*0x1+-0x211+-0x1d10],_0x378166[-0x1141+-0xc0*0x1e+0x27c2],_0x378166[0x1e71*0x1+0x1c*0x4a+-0x2687],_0x378166[0x3e8+-0x1633+0x124e]);case'vec2':return _0x378166 instanceof J?_0x378166['clone']():new J(_0x378166[-0x13*0x1ed+0xe47+0x1650],_0x378166[-0x1*0x1bf+-0x1423+0x15e3]);case'vec3':return _0x378166 instanceof D?_0x378166['clone']():new D(_0x378166[-0xc*-0x202+0x5*0x49+-0x1*0x1985],_0x378166[0x2138+-0xe*0x8+0x20c7*-0x1],_0x378166[-0x23b8+-0x4cf*-0x3+0x13*0x11f]);case'vec4':return _0x378166 instanceof re?_0x378166['clone']():new re(_0x378166[0x6*-0x170+-0x9c7*0x1+0x1267],_0x378166[0x203e+0x267f+-0x46bc],_0x378166[0x1f8a+-0x6a*-0xb+-0x2416],_0x378166[-0x9*-0x433+0xa49*-0x2+-0x1136]);case'boolean':case'number':case'string':return _0x378166;case'entity':return _0x378166;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x527b81);}}const Bv=-0x17*0xb9+0x2061+-0xfc2,Su=-0x159c+0x15*0x194+-0xe3*0xd,yu=0x739+-0x1bc5+-0x148e*-0x1;class _L{constructor(){this['_left']=(0x10e2+0x14eb+-0x25cc)/(-0x115b+-0x10b4+0x220f),this['_right']=-(-0x1*0x209b+0x1*0x102b+0x17*0xb7)/(-0x26e6+0x502+0x12*0x1e2),this['_len']=-0x2e7*0xb+0x14e*0x1+0x1e9f,this['_recip']=0x2659*0x1+-0x1c14+-0xa45,this['_p0']=0x172f+-0x1*-0x2176+0x355*-0x11,this['_p1']=-0x264+-0xb8*0x13+0x100c,this['_t']=0x1*0x33a+-0x2019+-0x1cdf*-0x1,this['_hermite']={'valid':!(0x137e+0xcda+0x2057*-0x1),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x3f963e,_0x232866){if(_0x3f963e<this['_left']||_0x3f963e>=this['_right']){const _0x5b9e7a=_0x232866['length'];if(!_0x5b9e7a)this['_left']=-(-0x1e2*-0x5+0x1*-0x233a+-0x3*-0x89b)/(-0xc9*0x2c+-0x221*-0x1+-0x2b*-0xc1),this['_right']=(-0x895*-0x4+0x8d*-0x23+-0xf0c)/(0x4*0x182+-0x1*0x144a+0xe42),this['_len']=0x1c76+-0x15c1+0x6b5*-0x1,this['_recip']=0x2106*-0x1+-0x258d*0x1+0x4693,this['_p0']=this['_p1']=0x1cc6+-0x3dc+-0x84e*0x3;else{if(_0x3f963e<_0x232866[0xeb9+-0x1a45+-0x2*-0x5c6])this['_left']=-(0x771+0x1*-0x2f9+-0x477)/(-0xdea*0x1+-0x1*0x1c2f+-0x2a19*-0x1),this['_right']=_0x232866[-0xd15+0xe7b+-0x166],this['_len']=0x2*-0x79f+0x1*-0x23bf+0x2af*0x13,this['_recip']=0x1449+-0xd*0x8d+0x54*-0x28,this['_p0']=this['_p1']=-0xad*-0x2+0x2*-0x7ff+-0x1*-0xea4;else{if(_0x3f963e>=_0x232866[_0x5b9e7a-(-0x138a+-0x2510+0x389b)])this['_left']=_0x232866[_0x5b9e7a-(-0x31*0x79+-0x1e39*0x1+0x3563)],this['_right']=(-0x17*-0x89+-0x1*-0x51b+0x1169*-0x1)/(-0xc11*0x3+0x1*0xdb5+-0x1*-0x167e),this['_len']=0x14e5+0x135f+-0x2844,this['_recip']=0xfa*-0x25+0xd*-0x15a+0x35b4,this['_p0']=this['_p1']=_0x5b9e7a-(0x12*-0x1f+0xcca*-0x3+-0x1*-0x288d);else{const _0xad4767=this['_findKey'](_0x3f963e,_0x232866);this['_left']=_0x232866[_0xad4767],this['_right']=_0x232866[_0xad4767+(-0x2cf*-0x1+-0x2536+0x1*0x2268)],this['_len']=this['_right']-this['_left'];const _0x307bea=(0x164b*-0x1+-0x45*-0x8b+-0xf2b)/this['_len'];this['_recip']=isFinite(_0x307bea)?_0x307bea:0x2203*0x1+0x766*0x1+0x1*-0x2969,this['_p0']=_0xad4767,this['_p1']=_0xad4767+(-0xf8f+-0x36b+0x12fb);}}}}this['_t']=this['_recip']===0x1*0x63d+0xa57*-0x2+-0x1*-0xe71?0x1a9d+0x21bf+-0x3c5c:(_0x3f963e-this['_left'])*this['_recip'],this['_hermite']['valid']=!(0x23c1+0x3b*-0x97+-0xf3);}['_findKey'](_0x33c2f5,_0x56908a){let _0x377315=0x2d*0x8d+0x2098+-0x25*0x18d;for(;_0x33c2f5>=_0x56908a[_0x377315+(-0x8bc*0x3+-0x65*-0x25+0xb9c)];)_0x377315++;return _0x377315;}['eval'](_0x16bca0,_0x190065,_0x39bbee){const _0x58cb1a=_0x39bbee['_data'],_0x37254b=_0x39bbee['_component'+'s'],_0x7b3d5=this['_p0']*_0x37254b;if(_0x190065===Bv){for(let _0x2e9111=-0x619+-0x11f9+0x2*0xc09;_0x2e9111<_0x37254b;++_0x2e9111)_0x16bca0[_0x2e9111]=_0x58cb1a[_0x7b3d5+_0x2e9111];}else{const _0x2eec3e=this['_t'],_0x35a09d=this['_p1']*_0x37254b;switch(_0x190065){case Su:for(let _0xf79afd=0x893+-0x1*-0x2e7+-0x2*0x5bd;_0xf79afd<_0x37254b;++_0xf79afd)_0x16bca0[_0xf79afd]=Y['lerp'](_0x58cb1a[_0x7b3d5+_0xf79afd],_0x58cb1a[_0x35a09d+_0xf79afd],_0x2eec3e);break;case yu:{const _0x15644d=this['_hermite'];if(!_0x15644d['valid']){const _0x4030ae=_0x2eec3e*_0x2eec3e,_0x53a151=_0x2eec3e+_0x2eec3e,_0x46ef37=-0x1e9*0x3+0x1ec7+-0x190b-_0x2eec3e,_0x42883e=_0x46ef37*_0x46ef37;_0x15644d['valid']=!(0x2662+0xd1+-0x7d7*0x5),_0x15644d['p0']=(-0x263d*0x1+-0x15d+-0x1*-0x279b+_0x53a151)*_0x42883e,_0x15644d['m0']=_0x2eec3e*_0x42883e,_0x15644d['p1']=_0x4030ae*(-0x1a5*-0x4+0x1bfa+-0x228b-_0x53a151),_0x15644d['m1']=_0x4030ae*(_0x2eec3e-(0xde5*0x1+0x1e16+-0x1*0x2bfa));}const _0x554d72=(this['_p0']*(0x1f1d+0x1fa9+0x1*-0x3ec3)+(-0x1e72+-0xed7+0x2d4a))*_0x37254b,_0x3b57e9=(this['_p0']*(-0x14cf+0x26eb*0x1+-0x71*0x29)+(0xf6e+0xf71+0x1edd*-0x1))*_0x37254b,_0x531703=(this['_p1']*(-0x85*0x46+-0x113a+0x1*0x359b)+(0xd7*-0x25+-0x8d4*-0x4+-0x43c))*_0x37254b,_0x23e8fb=(this['_p1']*(0xc42+-0x1267+0x628)+(-0xede*0x2+0xd70*-0x2+0x1*0x389c))*_0x37254b;for(let _0x2d002b=0x21b6+0x2f*-0x43+-0x1569;_0x2d002b<_0x37254b;++_0x2d002b)_0x16bca0[_0x2d002b]=_0x15644d['p0']*_0x58cb1a[_0x554d72+_0x2d002b]+_0x15644d['m0']*_0x58cb1a[_0x3b57e9+_0x2d002b]*this['_len']+_0x15644d['p1']*_0x58cb1a[_0x531703+_0x2d002b]+_0x15644d['m1']*_0x58cb1a[_0x23e8fb+_0x2d002b]*this['_len'];break;}}}}}class Ig{constructor(_0x59f20c){this['_name']=_0x59f20c['name']+'Snapshot',this['_time']=-(0x1d09+0x1ed9+-0x1*0x3be1),this['_cache']=[],this['_results']=[];for(let _0x1467f7=-0x212a+0x12ee+0xe3c;_0x1467f7<_0x59f20c['_inputs']['length'];++_0x1467f7)this['_cache'][_0x1467f7]=new _L();const _0x40d04e=_0x59f20c['_curves'],_0xc9ce6f=_0x59f20c['_outputs'];for(let _0x5f21a7=0xf*0x1bb+-0xf*-0x21d+-0x39a8;_0x5f21a7<_0x40d04e['length'];++_0x5f21a7){const _0x4ae049=_0x40d04e[_0x5f21a7],_0x435f4e=_0xc9ce6f[_0x4ae049['_output']],_0x11e749=[];for(let _0x30a3df=0x12d9+0x277*-0xd+0xd32;_0x30a3df<_0x435f4e['_component'+'s'];++_0x30a3df)_0x11e749[_0x30a3df]=0x12b0+-0x1*0x1975+0x1*0x6c5;this['_results'][_0x5f21a7]=_0x11e749;}}}const qo=class qo{constructor(_0x146e9d,_0x2bd04a,_0x428eb3,_0x175f9f,_0x154861,_0x3aec26){this['_name']=_0x146e9d['name'],this['_track']=_0x146e9d,this['_snapshot']=new Ig(_0x146e9d),this['_playing']=_0x175f9f,this['_time']=_0x2bd04a,this['_speed']=_0x428eb3,this['_loop']=_0x154861,this['_blendWeig'+'ht']=-0x1584+-0x15b1*-0x1+0x16*-0x2,this['_blendOrde'+'r']=-0x4cd*0x8+-0xab9+0x3121,this['_eventHand'+'ler']=_0x3aec26,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0xf4dfa3){this['_name']=_0xf4dfa3;}get['name'](){return this['_name'];}set['track'](_0x49e162){this['_track']=_0x49e162,this['_snapshot']=new Ig(_0x49e162);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x289871){this['_time']=_0x289871,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x4b1118){const _0x4805f1=Math['sign'](_0x4b1118)!==Math['sign'](this['_speed']);this['_speed']=_0x4b1118,_0x4805f1&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x2169ad){this['_loop']=_0x2169ad;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x4eae67){this['_blendWeig'+'ht']=_0x4eae67;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x58955e){this['_blendOrde'+'r']=_0x58955e;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x21d867){this['_eventCurs'+'or']=_0x21d867;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?-0x8d8+-0x13*-0x13a+-0xe76:this['_track']['events']['length']-(0x20d6+-0x72c+-0x19a9*0x1);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<0x73*-0x30+0x17b9*0x1+-0x229;}['nextEventA'+'headOfTime'](_0x53d826){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x53d826:this['nextEvent']['time']>=_0x53d826:!(0x1174+-0x2*-0x100b+-0x3189*0x1);}['nextEventB'+'ehindTime'](_0x2ae191){return this['nextEvent']?_0x2ae191===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x2ae191:this['nextEvent']['time']<=_0x2ae191:this['isReverse']?this['nextEvent']['time']>_0x2ae191:this['nextEvent']['time']<_0x2ae191:!(0x1*0x25e7+0xe4e+0x404*-0xd);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(-0x1f61*0x1+0x1141+0xe21):-0x288+-0x3b9+0x641;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(0x8a1+-0x703*-0x5+0x2baf*-0x1):-0x1*-0xeb8+0x184a+0x5*-0x7cd,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=0xc37+-0xd49*0x1+0x89*0x2:this['_eventCurs'+'or']<-0x1749*0x1+-0x69d*-0x3+0x372&&(this['_eventCurs'+'or']=this['track']['events']['length']-(-0xa88+-0xdd7+-0x3c*-0x68));}['clipFrameT'+'ime'](_0x48a8b2){const _0xa7cad8=qo['eventFrame'];_0xa7cad8['start']=-0x15*-0xfb+0x15b5+0xa93*-0x4,_0xa7cad8['end']=_0x48a8b2,_0xa7cad8['residual']=0x3*-0xcb0+0x17a5+-0x1*-0xe6b,this['isReverse']?_0x48a8b2<0x91+-0x9*-0x3e4+0x2395*-0x1&&(_0xa7cad8['start']=this['track']['duration'],_0xa7cad8['end']=-0x171*0x19+-0xf6+0x15*0x1c3,_0xa7cad8['residual']=_0x48a8b2+this['track']['duration']):_0x48a8b2>this['track']['duration']&&(_0xa7cad8['start']=-0x256+0x2*-0x10c5+0x47c*0x8,_0xa7cad8['end']=this['track']['duration'],_0xa7cad8['residual']=_0x48a8b2-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x46637b,_0x4204b6){return this['nextEventA'+'headOfTime'](_0x46637b)&&this['nextEventB'+'ehindTime'](_0x4204b6)?(this['fireNextEv'+'ent'](),!(-0x13fb+-0x17cd*0x1+0x2bc8)):!(0x4a*-0x23+-0x9*0x51+0xcf8);}['activeEven'+'tsForFrame'](_0xa88eae,_0x4f2155){const _0x423e79=qo['eventFrame'];this['clipFrameT'+'ime'](_0x4f2155);const _0x257513=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0xa88eae,_0x423e79['end'])&&_0x257513!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x423e79['residual'])>-0x1872+-0x2*0x81a+-0x56*-0x79&&this['activeEven'+'tsForFrame'](_0x423e79['start'],_0x423e79['residual']);}['progressFo'+'rTime'](_0x619a25){return _0x619a25*this['_speed']/this['_track']['duration'];}['_update'](_0x167654){if(this['_playing']){let _0x5a5f88=this['_time'];const _0x12b411=this['_track']['duration'],_0xb06753=this['_speed'],_0x15aa3f=this['_loop'];this['_track']['events']['length']>0x1*0x1ec8+-0x2fe*0x2+-0x18cc&&_0x12b411>-0xd*-0x1bf+0x1956+-0x3009&&this['activeEven'+'tsForFrame'](_0x5a5f88,_0x5a5f88+_0xb06753*_0x167654),_0x5a5f88+=_0xb06753*_0x167654,_0xb06753>=-0x1995+0xb65+0xe30?_0x5a5f88>_0x12b411&&(_0x15aa3f?_0x5a5f88=_0x5a5f88%_0x12b411||0x1*-0xd74+-0x21*-0x7+0xc8d:(_0x5a5f88=this['_track']['duration'],this['pause']())):_0x5a5f88<-0x1*-0x116+-0xc7*-0x2f+-0x259f&&(_0x15aa3f?_0x5a5f88=_0x12b411+(_0x5a5f88%_0x12b411||0x860+0x49*-0x80+0xb4*0x28):(_0x5a5f88=-0x25b8+-0x515*0x1+0x2acd,this['pause']())),this['_time']=_0x5a5f88;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(-0x845+0x9*0x2c7+-0x10ba),this['_time']=-0xe13*0x1+0x5af+0x864;}['stop'](){this['_playing']=!(0x1a*-0x59+0x2c5*0xa+0xbf*-0x19),this['_time']=-0x2173*0x1+0x26*0x2e+-0x1a9f*-0x1;}['pause'](){this['_playing']=!(0x1*0x140d+0x1d99+-0x31a5);}['resume'](){this['_playing']=!(0x1*-0xf43+0x3b*-0x2b+0x192c);}['reset'](){this['_time']=-0x133*0x3+-0x193*0x12+-0x5*-0x663;}};h(qo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Dh=qo;const zv='NONE',gL='PREV_STATE',SL='NEXT_STATE',yL='PREV_STATE'+'_NEXT_STAT'+'E',vL='NEXT_STATE'+'_PREV_STAT'+'E',xL='GREATER_TH'+'AN',TL='LESS_THAN',wL='GREATER_TH'+'AN_EQUAL_T'+'O',EL='LESS_THAN_'+'EQUAL_TO',bL='EQUAL_TO',AL='NOT_EQUAL_'+'TO',Lg='INTEGER',Rg='FLOAT',Og='BOOLEAN',Qc='TRIGGER',CL='1D',PL='2D_DIRECTI'+'ONAL',ML='2D_CARTESI'+'AN',DL='DIRECT',Co='START',vu='END',qr='ANY',Ih=[Co,vu,qr],Vv='OVERWRITE',IL='ADDITIVE';class Ht{static['dot'](_0x23efd6,_0x51eb51){const _0x37c2cd=_0x23efd6['length'];let _0x22ed4f=0x7eb*0x4+0x61*-0x20+0x9c6*-0x2;for(let _0x5defcf=-0x1e17+0x2242+-0x42b;_0x5defcf<_0x37c2cd;++_0x5defcf)_0x22ed4f+=_0x23efd6[_0x5defcf]*_0x51eb51[_0x5defcf];return _0x22ed4f;}static['normalize'](_0x2105de){let _0x489357=Ht['dot'](_0x2105de,_0x2105de);if(_0x489357>0x40f*-0x2+-0x1*0xb23+0x1f*0x9f){_0x489357=(0x26c6+0x20e3*-0x1+-0x5e2)/Math['sqrt'](_0x489357);const _0x45d5e6=_0x2105de['length'];for(let _0x18c15e=-0xc6*0x2a+-0x4*-0xb2+0x4*0x76d;_0x18c15e<_0x45d5e6;++_0x18c15e)_0x2105de[_0x18c15e]*=_0x489357;}}static['set'](_0x283a45,_0x44a764,_0x2670d2){const _0x4f4e87=_0x283a45['length'];if(_0x2670d2==='quaternion'){let _0x405441=Ht['dot'](_0x44a764,_0x44a764);_0x405441>-0x836+-0x14c8+0x1cfe&&(_0x405441=(0x87e*0x3+0x14*0x18e+-0x3891)/Math['sqrt'](_0x405441));for(let _0x38d02c=-0x1*-0x1be5+0x1d0e+-0xef*0x3d;_0x38d02c<_0x4f4e87;++_0x38d02c)_0x283a45[_0x38d02c]=_0x44a764[_0x38d02c]*_0x405441;}else{for(let _0x519300=-0x1e2f+0x589*0x2+0x131d;_0x519300<_0x4f4e87;++_0x519300)_0x283a45[_0x519300]=_0x44a764[_0x519300];}}static['blendVec'](_0x57be6c,_0x2b8a19,_0x21e8ee,_0x2d498c){const _0xe6c818=_0x2d498c?0x1a*0xad+0x1*0x58+-0x11e9:0x80f*-0x3+-0x6*0x13e+0x1fa2-_0x21e8ee,_0x32f429=_0x57be6c['length'];for(let _0x47f57a=0x1*0x14cf+-0xe12*-0x1+-0x22e1;_0x47f57a<_0x32f429;++_0x47f57a)_0x57be6c[_0x47f57a]=_0x57be6c[_0x47f57a]*_0xe6c818+_0x2b8a19[_0x47f57a]*_0x21e8ee;}static['blendQuat'](_0x5c6167,_0x1f9f6a,_0x5d5dd2,_0xbd367f){const _0x593731=_0x5c6167['length'],_0x7faafc=_0xbd367f?-0x2379+0x9*0x139+-0x7*-0x37f:0x437+0x45a+-0x890-_0x5d5dd2;Ht['dot'](_0x5c6167,_0x1f9f6a)<0x4*0x25f+-0xfe1+0x665&&(_0x5d5dd2=-_0x5d5dd2);for(let _0x5cef57=0x1*-0x1db+0xad8+-0x8fd;_0x5cef57<_0x593731;++_0x5cef57)_0x5c6167[_0x5cef57]=_0x5c6167[_0x5cef57]*_0x7faafc+_0x1f9f6a[_0x5cef57]*_0x5d5dd2;_0xbd367f||Ht['normalize'](_0x5c6167);}static['blend'](_0x4dc4f9,_0x1e8743,_0x269f80,_0x35c07e,_0x405bfa){_0x35c07e==='quaternion'?Ht['blendQuat'](_0x4dc4f9,_0x1e8743,_0x269f80,_0x405bfa):Ht['blendVec'](_0x4dc4f9,_0x1e8743,_0x269f80,_0x405bfa);}static['stableSort'](_0x227a14,_0x5f2d99){const _0x3a9d6f=_0x227a14['length'];for(let _0x3b68eb=-0xdd*0x18+0x2*0x6da+0x2*0x382;_0x3b68eb<_0x3a9d6f-(0x2dd+-0x1340+-0x4*-0x419);++_0x3b68eb)for(let _0x13e039=_0x3b68eb+(-0xd26*0x1+0x131f+-0x5f8);_0x13e039<_0x3a9d6f;++_0x13e039)if(_0x5f2d99(_0x227a14[_0x13e039],_0x227a14[_0x3b68eb])){const _0x56b738=_0x227a14[_0x3b68eb];_0x227a14[_0x3b68eb]=_0x227a14[_0x13e039],_0x227a14[_0x13e039]=_0x56b738;}}}const st=class st{constructor(_0x26c6bb,_0x3d7a4f){this['_component']=_0x26c6bb,this['mask']=new Int8Array(_0x26c6bb['layers']['length']),this['weights']=new Float32Array(_0x26c6bb['layers']['length']),this['totalWeigh'+'t']=0x33*-0xc2+0x5e4+-0x2*-0x1061,this['counter']=-0x1e0b+0x17*-0x107+0x6*0x8f2,this['layerCount'+'er']=-0x8*0x490+0x1adf+0x9a1,this['valueType']=_0x3d7a4f,this['dirty']=!(-0x26f6+0x22f7*0x1+-0x155*-0x3),this['value']=_0x3d7a4f===st['TYPE_QUAT']?[-0x239*0x4+0xd6b+0x1*-0x487,-0xba8+-0x5*0x271+0x17dd,0x62b*-0x1+-0x2f*0xb8+0x15*0x1e7,0x307+-0x36b*-0x5+-0x141d]:[-0x2695*-0x1+0x23*0x5d+-0xc4*0x43,0xb74+0xf3e+0x192*-0x11,0x53*0x47+0x1e7f+-0x3584],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0xb2cc7){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===0x265+-0x1*0xb29+0x8c4||!this['mask'][_0xb2cc7]?-0x27*0x67+-0x1ab6+0x2a67:this['_normalize'+'Weights']?this['weights'][_0xb2cc7]/this['totalWeigh'+'t']:Y['clamp'](this['weights'][_0xb2cc7],0x1085+0x156b+0x2*-0x12f8,0x1dec+0x195d+0x74*-0x7a);}['_layerBlen'+'dType'](_0x590ff3){return this['_component']['layers'][_0x590ff3]['blendType'];}['setMask'](_0xe54f11,_0x133242){this['mask'][_0xe54f11]=_0x133242,this['_normalize'+'Weights']&&(this['_component']['layers'][_0xe54f11]['blendType']===Vv&&(this['mask']=this['mask']['fill'](0x238d+-0x138a+-0x1003*0x1,0xd9c+0x167*0x3+-0x11d1,_0xe54f11)),this['dirty']=!(-0x92*-0x11+-0x12a5+0x4f*0x1d));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=-0x2444+-0xbb*-0xd+0x1ac5;for(let _0x3ba06a=0x1d04+-0x7a9+-0x155b;_0x3ba06a<this['weights']['length'];_0x3ba06a++)this['weights'][_0x3ba06a]=this['_component']['layers'][_0x3ba06a]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x3ba06a]*this['weights'][_0x3ba06a];this['dirty']=!(0x1cc7+0x1bd6+-0x389c);}['updateValu'+'e'](_0x8436a4,_0x82271e){if(this['counter']===-0x1c1*-0x5+-0x1877+0xfb2&&(Ht['set'](this['value'],st['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Ht['blend'](this['value'],this['baseValue'],0xe9b+-0xad*0x13+-0x29*0xb,this['valueType'])),!(!this['mask'][_0x8436a4]||this['getWeight'](_0x8436a4)===0x15*0xe+0x25b8+0x18e*-0x19)){if(this['_layerBlen'+'dType'](_0x8436a4)===IL&&!this['_normalize'+'Weights']){if(this['valueType']===st['TYPE_QUAT']){const _0x184158=st['q1']['set'](this['value'][-0x5*0x71+-0x3ab*0x4+0x95*0x1d],this['value'][-0x2588+0x299*-0x1+0x2822],this['value'][0x1b46+-0x852+0x1*-0x12f2],this['value'][-0x796*-0x5+-0x26*-0x4+-0x2683]),_0xca0e14=st['q2']['set'](this['baseValue'][-0x255a+0x71*0x10+0x1e4a],this['baseValue'][-0x3*0x7d3+-0xe3+0x185d],this['baseValue'][0x1*-0x139+0x16be+-0x1583],this['baseValue'][0xe46+0x13*-0xe2+0x283]),_0x3d762c=st['q3']['set'](_0x82271e[-0x177+0x2*0x1283+-0x238f],_0x82271e[0x15b*0x3+-0x1*-0x7a1+0x49*-0x29],_0x82271e[0x3*-0x58f+0x89*0x4+-0x4d9*-0x3],_0x82271e[-0x269a+-0x1a1*0xe+0x3d6b]),_0x401310=_0xca0e14['invert']()['mul'](_0x3d762c);_0x401310['slerp'](le['IDENTITY'],_0x401310,this['getWeight'](_0x8436a4)),_0x184158['mul'](_0x401310),st['quatArr'][-0x3e*-0x87+0x246e+-0x4520]=_0x184158['x'],st['quatArr'][-0x4a6+-0xc6c+0x1113]=_0x184158['y'],st['quatArr'][-0x1f*0x6f+-0x1a4*-0xe+0x1*-0x985]=_0x184158['z'],st['quatArr'][0x16*-0x3a+-0x185c+0x1d5b]=_0x184158['w'],Ht['set'](this['value'],st['quatArr'],this['valueType']);}else st['vecArr'][-0x28*-0xd5+-0x2*0x19a+0xb*-0x2bc]=_0x82271e[-0x56*-0x31+0x25df+-0x3655]-this['baseValue'][0x25a1+-0x127a+-0x1327],st['vecArr'][-0x141f+0x22fd+-0xedd]=_0x82271e[0x9b5+0x2*-0xc8b+-0x7b1*-0x2]-this['baseValue'][0xc8c+-0x2356+0x16cb*0x1],st['vecArr'][-0x1c1b+0x1c9+0x1a54]=_0x82271e[-0x8*0x28d+-0x24d2+0x393c]-this['baseValue'][-0x1*-0x1c12+0x13e+-0x1d4e*0x1],Ht['blend'](this['value'],st['vecArr'],this['getWeight'](_0x8436a4),this['valueType'],!(0x2082+0x10f*-0x12+-0xd74));}else Ht['blend'](this['value'],_0x82271e,this['getWeight'](_0x8436a4),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};h(st,'TYPE_QUAT','quaternion'),h(st,'TYPE_VEC3','vector3'),h(st,'q1',new le()),h(st,'q2',new le()),h(st,'q3',new le()),h(st,'quatArr',[0x1c57+-0x22b0+0x659,-0xd65+-0x1087+0x5fc*0x5,-0x4d9+0x1b3d*0x1+-0x1664,-0x1fcc+0x1b9*-0x5+0x1*0x286a]),h(st,'vecArr',[0x7d*0x49+0x1*-0x24bb+0x1*0x116,0x10*-0x125+-0x1*-0x121a+0x36,-0x129e+0x1313+-0x75]),h(st,'IDENTITY_Q'+'UAT_ARR',[0x18b*-0x3+-0xb1a+0xfbb,-0x30*0x46+0xe89*0x1+-0x169,0x145c+0xcf6+-0x2152,-0x10a0+-0x2634+0x36d5]);let Vo=st;class Gv{constructor(_0x393ba2){this['_binder']=_0x393ba2,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x4533ec){const _0x283dee=this['_targets'],_0x4a78c7=this['_binder'],_0x381ae0=_0x4533ec['track']['curves'],_0x10c92a=_0x4533ec['snapshot'],_0xde145f=[],_0x1e2782=[];for(let _0x1d3aa8=-0x239d+-0x21c3+0x4560;_0x1d3aa8<_0x381ae0['length'];++_0x1d3aa8){const _0x650905=_0x381ae0[_0x1d3aa8]['paths'];for(let _0x46e7a7=-0x12af+-0xc*0x19f+0x2623;_0x46e7a7<_0x650905['length'];++_0x46e7a7){const _0x322702=_0x650905[_0x46e7a7],_0x42853f=_0x4a78c7['resolve'](_0x322702);let _0x430c92=_0x283dee[_0x42853f&&_0x42853f['targetPath']||null];if(!_0x430c92&&_0x42853f){_0x430c92={'target':_0x42853f,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x1d44a6=0x35*0x39+0x1*0x2417+0x265*-0x14;_0x1d44a6<_0x430c92['target']['components'];++_0x1d44a6)_0x430c92['value']['push'](-0x2093+0x1*0x1007+0x108c);if(_0x283dee[_0x42853f['targetPath']]=_0x430c92,_0x4a78c7['animCompon'+'ent']){if(!_0x4a78c7['animCompon'+'ent']['targets'][_0x42853f['targetPath']]){let _0x277551;_0x42853f['targetPath']['substring'](_0x42853f['targetPath']['length']-(-0x11f9+0x1ebb*-0x1+0x30c1*0x1))==='localRotat'+'ion'?_0x277551=Vo['TYPE_QUAT']:_0x277551=Vo['TYPE_VEC3'],_0x4a78c7['animCompon'+'ent']['targets'][_0x42853f['targetPath']]=new Vo(_0x4a78c7['animCompon'+'ent'],_0x277551);}_0x4a78c7['animCompon'+'ent']['targets'][_0x42853f['targetPath']]['layerCount'+'er']++,_0x4a78c7['animCompon'+'ent']['targets'][_0x42853f['targetPath']]['setMask'](_0x4a78c7['layerIndex'],-0x8*0xc2+0x1*-0x1a41+0x2052);}}_0x430c92&&(_0x430c92['curves']++,_0xde145f['push'](_0x10c92a['_results'][_0x1d3aa8]),_0x1e2782['push'](_0x430c92));}}this['_clips']['push'](_0x4533ec),this['_inputs']['push'](_0xde145f),this['_outputs']['push'](_0x1e2782);}['removeClip'](_0x2a6d13){const _0x13ee0e=this['_targets'],_0x216462=this['_binder'],_0xb7befd=this['_clips'],_0x216097=_0xb7befd[_0x2a6d13]['track']['curves'];for(let _0x4d1f0b=0x151*0x19+0x19a5+-0x5*0xbb6;_0x4d1f0b<_0x216097['length'];++_0x4d1f0b){const _0x3b0a8e=_0x216097[_0x4d1f0b]['paths'];for(let _0x4b2d25=-0xd73+-0x6f3*-0x1+0x680;_0x4b2d25<_0x3b0a8e['length'];++_0x4b2d25){const _0x357079=_0x3b0a8e[_0x4b2d25],_0x1dd573=this['_binder']['resolve'](_0x357079);_0x1dd573&&(_0x1dd573['curves']--,_0x1dd573['curves']===0x21b9+-0x1*0xa49+-0x3e8*0x6&&(_0x216462['unresolve'](_0x357079),delete _0x13ee0e[_0x1dd573['targetPath']],_0x216462['animCompon'+'ent']&&_0x216462['animCompon'+'ent']['targets'][_0x1dd573['targetPath']]['layerCount'+'er']--));}}_0xb7befd['splice'](_0x2a6d13,0x16b2+-0x61*-0x24+-0x83*0x47),this['_inputs']['splice'](_0x2a6d13,0x4*-0x170+-0x1957*-0x1+-0x6d*0x2e),this['_outputs']['splice'](_0x2a6d13,-0x6f3*-0x1+-0xf6*-0x7+-0xdac);}['removeClip'+'s'](){for(;this['_clips']['length']>0x8*-0xb3+0x14*-0x1af+0x1c*0x167;)this['removeClip'](0x1553+-0x1f06+0xd*0xbf);}['updateClip'+'Track'](_0xc77358,_0x179a31){this['_clips']['forEach'](_0x25d05c=>{_0x25d05c['name']['includes'](_0xc77358)&&(_0x25d05c['track']=_0x179a31);}),this['rebind']();}['findClip'](_0x3512d3){const _0x21bc22=this['_clips'];for(let _0x18a23b=0x61*-0x1+0x5c8+-0x567;_0x18a23b<_0x21bc22['length'];++_0x18a23b){const _0x1fc2a2=_0x21bc22[_0x18a23b];if(_0x1fc2a2['name']===_0x3512d3)return _0x1fc2a2;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0x467637=[...this['clips']];this['removeClip'+'s'](),_0x467637['forEach'](_0x300168=>{this['addClip'](_0x300168);});}['assignMask'](_0x44e77b){return this['_binder']['assignMask'](_0x44e77b);}['update'](_0xcaf7d8,_0x28df25=!(0xc27+0x231a*0x1+-0x2f41)){const _0x3ebbf7=this['_clips'],_0x1cb68b=_0x3ebbf7['map']((_0x33a21e,_0x459c37)=>_0x459c37);Ht['stableSort'](_0x1cb68b,(_0x545369,_0x13aac3)=>_0x3ebbf7[_0x545369]['blendOrder']<_0x3ebbf7[_0x13aac3]['blendOrder']);for(let _0x312018=0x1*-0x1c1+-0x1ce*0x7+0x7f*0x1d;_0x312018<_0x1cb68b['length'];++_0x312018){const _0x102166=_0x1cb68b[_0x312018],_0x42244a=_0x3ebbf7[_0x102166],_0x4a3d4d=this['_inputs'][_0x102166],_0x7dedc0=this['_outputs'][_0x102166],_0x208e5e=_0x42244a['blendWeigh'+'t'];if(_0x208e5e>-0x2669+-0x155b+0x3bc4&&_0x42244a['_update'](_0xcaf7d8),!_0x28df25)break;let _0x2fc45b,_0x25fffb,_0x13f294;if(_0x208e5e>=-0x36f*-0x6+-0x7eb*0x3+0x328){for(let _0x5624d0=0xff7*0x2+-0xb93+0x3*-0x6c9;_0x5624d0<_0x4a3d4d['length'];++_0x5624d0)_0x2fc45b=_0x4a3d4d[_0x5624d0],_0x25fffb=_0x7dedc0[_0x5624d0],_0x13f294=_0x25fffb['value'],Ht['set'](_0x13f294,_0x2fc45b,_0x25fffb['target']['type']),_0x25fffb['blendCount'+'er']++;}else{if(_0x208e5e>-0x15*-0x4+0x248e+-0x24e2){for(let _0x1c771a=-0x177+0x1*-0x1cda+-0x255*-0xd;_0x1c771a<_0x4a3d4d['length'];++_0x1c771a)_0x2fc45b=_0x4a3d4d[_0x1c771a],_0x25fffb=_0x7dedc0[_0x1c771a],_0x13f294=_0x25fffb['value'],_0x25fffb['blendCount'+'er']===0x1f08+0x29a+0x3*-0xb36?Ht['set'](_0x13f294,_0x2fc45b,_0x25fffb['target']['type']):Ht['blend'](_0x13f294,_0x2fc45b,_0x208e5e,_0x25fffb['target']['type']),_0x25fffb['blendCount'+'er']++;}}}const _0x1d7cce=this['_targets'],_0x51034b=this['_binder'];for(const _0x239558 in _0x1d7cce)if(_0x1d7cce['hasOwnProp'+'erty'](_0x239558)){const _0x4e2cb0=_0x1d7cce[_0x239558];if(_0x51034b['animCompon'+'ent']&&_0x4e2cb0['target']['isTransfor'+'m']){const _0x5bcb26=_0x51034b['animCompon'+'ent']['targets'][_0x239558];_0x5bcb26['counter']===_0x5bcb26['layerCount'+'er']&&(_0x5bcb26['counter']=-0x1*0xd5b+-0x1448+0x21a3),_0x5bcb26['path']||(_0x5bcb26['path']=_0x239558,_0x5bcb26['baseValue']=_0x4e2cb0['target']['get'](),_0x5bcb26['setter']=_0x4e2cb0['target']['set']),_0x5bcb26['updateValu'+'e'](_0x51034b['layerIndex'],_0x4e2cb0['value']),_0x5bcb26['counter']++;}else _0x4e2cb0['target']['set'](_0x4e2cb0['value']);_0x4e2cb0['blendCount'+'er']=0x22e2+-0x4f0+-0x1df2;}this['_binder']['update'](_0xcaf7d8);}}class Hv{constructor(_0x2660db){this['_events']=[..._0x2660db],this['_events']['sort']((_0x5bd106,_0x415fb9)=>_0x5bd106['time']-_0x415fb9['time']);}get['events'](){return this['_events'];}}const $h=class $h{constructor(_0x5ab770,_0x252150,_0x259bf1,_0x4318d8,_0x597798,_0x4c219e=new Hv([])){this['_name']=_0x5ab770,this['_duration']=_0x252150,this['_inputs']=_0x259bf1,this['_outputs']=_0x4318d8,this['_curves']=_0x597798,this['_animEvent'+'s']=_0x4c219e;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x234782){this['_animEvent'+'s']=_0x234782;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0x3e29d2,_0x5a9f16){_0x5a9f16['_time']=_0x3e29d2;const _0x4a4773=this['_inputs'],_0x16f525=this['_outputs'],_0x4d0ffb=this['_curves'],_0xa4ce96=_0x5a9f16['_cache'],_0x4171b1=_0x5a9f16['_results'];for(let _0x53ec0c=0xe7*-0x24+-0x143e+-0x1a5d*-0x2;_0x53ec0c<_0x4a4773['length'];++_0x53ec0c)_0xa4ce96[_0x53ec0c]['update'](_0x3e29d2,_0x4a4773[_0x53ec0c]['_data']);for(let _0x181878=-0x1*0x1fc0+0x1c9c+0x1*0x324;_0x181878<_0x4d0ffb['length'];++_0x181878){const _0x491d00=_0x4d0ffb[_0x181878],_0x1e27ef=_0x16f525[_0x491d00['_output']],_0x527d78=_0x4171b1[_0x181878];_0xa4ce96[_0x491d00['_input']]['eval'](_0x527d78,_0x491d00['_interpola'+'tion'],_0x1e27ef);}}};h($h,'EMPTY',Object['freeze'](new $h('empty',Number['MAX_VALUE'],[],[],[])));let Qi=$h;class ra{static['joinPath'](_0x421fd2,_0x5176b6){_0x5176b6=_0x5176b6||'.';const _0x38589a=function(_0x4a49da){return _0x4a49da['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x5176b6,'g'),'\x5c'+_0x5176b6);};return _0x421fd2['map'](_0x38589a)['join'](_0x5176b6);}static['splitPath'](_0x2a675a,_0xb92c5c){_0xb92c5c=_0xb92c5c||'.';const _0x429805=[];let _0x534dec='',_0x28c453=-0x2363+-0x7*-0x240+0x13a3;for(;_0x28c453<_0x2a675a['length'];){let _0x3a2325=_0x2a675a[_0x28c453++];_0x3a2325==='\x5c'&&_0x28c453<_0x2a675a['length']?(_0x3a2325=_0x2a675a[_0x28c453++],_0x3a2325==='\x5c'||_0x3a2325===_0xb92c5c?_0x534dec+=_0x3a2325:_0x534dec+='\x5c'+_0x3a2325):_0x3a2325===_0xb92c5c?(_0x429805['push'](_0x534dec),_0x534dec=''):_0x534dec+=_0x3a2325;}return _0x534dec['length']>-0xa15+0x24*0x43+-0xa9*-0x1&&_0x429805['push'](_0x534dec),_0x429805;}static['encode'](_0x4107b5,_0x364768,_0x3fe04a){return(Array['isArray'](_0x4107b5)?_0x4107b5['join']('/'):_0x4107b5)+'/'+_0x364768+'/'+(Array['isArray'](_0x3fe04a)?_0x3fe04a['join']('/'):_0x3fe04a);}['resolve'](_0x412534){return null;}['unresolve'](_0x5a6629){}['update'](_0x120b32){}}class xu{constructor(_0x258fd5,_0x2bdb06,_0x51ec82,_0x129d1d){_0x258fd5['set']?(this['_set']=_0x258fd5['set'],this['_get']=_0x258fd5['get']):this['_set']=_0x258fd5,this['_type']=_0x2bdb06,this['_component'+'s']=_0x51ec82,this['_targetPat'+'h']=_0x129d1d,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0xb16+0x74*0x3b+0x1*-0x25c5))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x254d+0x4*-0x76+-0x4*0x8da))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x7f*0x28+-0x1*0x1ae3+0x715))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Sr{constructor(_0x2cab1b){h(this,'_isPathInM'+'ask',(_0x4ac6d6,_0x20d65e)=>{const _0x5111a0=this['_mask'][_0x4ac6d6];if(_0x5111a0){if(_0x5111a0['children']||_0x20d65e&&_0x5111a0['value']!==!(0x10*-0xc+0x2*-0x1c1+0x443))return!(0x4c7*0x1+-0xc67+0x4*0x1e8);}else return!(0x7d*0x1a+-0xee*0x11+0x31d);return!(0x2*0xc8e+0x20a6+-0x39c1*0x1);});if(this['graph']=_0x2cab1b,!_0x2cab1b)return;this['_mask']=null;const _0x1427b5={},_0x391bee=function(_0x26673e){_0x1427b5[_0x26673e['name']]=_0x26673e;for(let _0x86fc3b=-0x80d+-0x1*-0xed5+0xf8*-0x7;_0x86fc3b<_0x26673e['children']['length'];++_0x86fc3b)_0x391bee(_0x26673e['children'][_0x86fc3b]);};_0x391bee(_0x2cab1b),this['nodes']=_0x1427b5,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x5b92e4=function(_0x185a7e){let _0x16786f=_0x185a7e;for(;_0x16786f&&!(_0x16786f instanceof lt);)_0x16786f=_0x16786f['parent'];let _0x152ba1;return _0x16786f&&(_0x16786f['render']?_0x152ba1=_0x16786f['render']['meshInstan'+'ces']:_0x16786f['model']&&(_0x152ba1=_0x16786f['model']['meshInstan'+'ces'])),_0x152ba1;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x5457e8){const _0x45c5a9=_0x5457e8['localPosit'+'ion'],_0x7eaae4=function(_0xef41f4){_0x45c5a9['set'](..._0xef41f4);};return Sr['createAnim'+'Target'](_0x7eaae4,'vector',0xbc0+-0x46c*-0x1+-0x1*0x1029,_0x5457e8,'localPosit'+'ion');},'localRotation':function(_0x40bc08){const _0x447789=_0x40bc08['localRotat'+'ion'],_0x19fc2c=function(_0x46600d){_0x447789['set'](..._0x46600d);};return Sr['createAnim'+'Target'](_0x19fc2c,'quaternion',0xaf8+0x1eb+-0xcdf,_0x40bc08,'localRotat'+'ion');},'localScale':function(_0x23e780){const _0xeb4918=_0x23e780['localScale'],_0x484f12=function(_0x5d624d){_0xeb4918['set'](..._0x5d624d);};return Sr['createAnim'+'Target'](_0x484f12,'vector',-0x1214*-0x1+-0x18d5+-0x4*-0x1b1,_0x23e780,'localScale');},'weight':function(_0x5789ad,_0x5e91f0){_0x5e91f0['indexOf']('name.')===-0x1a81+-0xf94+-0x15*-0x201?_0x5e91f0=_0x5e91f0['replace']('name.',''):_0x5e91f0=Number(_0x5e91f0);const _0x48cc8e=_0x5b92e4(_0x5789ad);let _0x52eb2c;if(_0x48cc8e){for(let _0x4ab865=-0x17*-0x175+0x34c+0x15d*-0x1b;_0x4ab865<_0x48cc8e['length'];++_0x4ab865)if(_0x48cc8e[_0x4ab865]['node']['name']===_0x5789ad['name']&&_0x48cc8e[_0x4ab865]['morphInsta'+'nce']){const _0xdfa10f=_0x48cc8e[_0x4ab865]['morphInsta'+'nce'],_0x5a0efb=_0xcd113f=>{_0xdfa10f['setWeight'](_0x5e91f0,_0xcd113f[0x15b2+0x1*0x2404+-0x39b6]);};_0x52eb2c||(_0x52eb2c=[]),_0x52eb2c['push'](_0x5a0efb);}}if(_0x52eb2c){const _0x31ce55=_0xd6faf4=>{for(let _0x179b0c=-0x2229+0x3b+0x21ee;_0x179b0c<_0x52eb2c['length'];++_0x179b0c)_0x52eb2c[_0x179b0c](_0xd6faf4);};return Sr['createAnim'+'Target'](_0x31ce55,'number',-0x54*0x19+-0x1*-0x1e17+-0x15e2,_0x5789ad,'weight.'+_0x5e91f0);}return null;},'materialTexture':(_0x569524,_0x3f8a87)=>{const _0x194ea5=_0x5b92e4(_0x569524);if(_0x194ea5){let _0x484b5b;for(let _0x426eb4=0x748+-0xbfc*-0x1+0x4*-0x4d1;_0x426eb4<_0x194ea5['length'];++_0x426eb4)if(_0x194ea5[_0x426eb4]['node']['name']===_0x569524['name']){_0x484b5b=_0x194ea5[_0x426eb4];break;}if(_0x484b5b){const _0x328802=_0x2d34f6=>{const _0x38babf=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x2d34f6[0x5bc+-0x26*-0x56+-0x1280]);_0x38babf&&_0x38babf['resource']&&_0x38babf['type']==='texture'&&(_0x484b5b['material'][_0x3f8a87]=_0x38babf['resource'],_0x484b5b['material']['update']());};return Sr['createAnim'+'Target'](_0x328802,'vector',-0x20f6+0x3e1+0x1d16,_0x569524,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x3fc3bc){if(!this['_mask'])return!(0x1*0x14b+-0x1249+0x10fe);const _0x3d6ae3=[_0x3fc3bc['entityPath'][-0xf0d+0x139*-0x1d+0x3282],this['graph']['name']];for(let _0x28939e=-0xb*0xe9+-0x2a8+0x1*0xcab;_0x28939e<_0x3d6ae3['length'];++_0x28939e){let _0x4ea47b=_0x3d6ae3[_0x28939e];if(this['_isPathInM'+'ask'](_0x4ea47b,_0x3fc3bc['entityPath']['length']===-0x1*-0x172c+0xc8+-0x17f3))return!(0x6*0x60b+0x1199*0x1+-0x35db);for(let _0x3030fa=0xe1f+-0x653*0x2+-0x178;_0x3030fa<_0x3fc3bc['entityPath']['length'];_0x3030fa++)if(_0x4ea47b+='/'+_0x3fc3bc['entityPath'][_0x3030fa],this['_isPathInM'+'ask'](_0x4ea47b,_0x3030fa===_0x3fc3bc['entityPath']['length']-(0x2180+0x68*-0x20+-0x147f)))return!(0x2f2*-0xc+-0x1242+-0x2*-0x1acd);}return!(0x45*-0x29+-0xcbf+-0x3*-0x7ef);}['findNode'](_0x1dff64){if(!this['_isPathAct'+'ive'](_0x1dff64))return null;let _0x5c10d2;if(this['graph']&&(_0x5c10d2=this['graph']['findByPath'](_0x1dff64['entityPath']),_0x5c10d2||(_0x5c10d2=this['graph']['findByPath'](_0x1dff64['entityPath']['slice'](0x22ec+-0x4*-0x8be+-0x45e3)))),!_0x5c10d2){_0x5c10d2=this['nodes'][_0x1dff64['entityPath'][_0x1dff64['entityPath']['length']-(0x5*-0x24b+0x1be2+-0x106a)]||''];const _0x75a145=ra['encode'](_0x1dff64['entityPath'][_0x1dff64['entityPath']['length']-(-0x1*0x22a9+0xbda+0x16d0)]||'','graph',_0x1dff64['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x75a145]===-0xa7b+-0x178+-0x9*-0x154&&w['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x75a145+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x75a145])?this['visitedFal'+'lbackGraph'+'Paths'][_0x75a145]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x75a145]=0x15b*-0x4+-0x1*-0x248c+-0x2*0xf90;}return _0x5c10d2;}static['createAnim'+'Target'](_0x154f38,_0x327667,_0x30bd49,_0x4dee77,_0x1c47aa,_0x4a5643){const _0x68f291=ra['encode'](_0x4dee77['path'],_0x4a5643||'entity',_0x1c47aa);return new xu(_0x154f38,_0x327667,_0x30bd49,_0x68f291);}['resolve'](_0x8c86d5){const _0x34b3b4=ra['encode'](_0x8c86d5['entityPath'],_0x8c86d5['component'],_0x8c86d5['propertyPa'+'th']);let _0x2f77e8=this['targetCach'+'e'][_0x34b3b4];if(_0x2f77e8)return _0x2f77e8;const _0x38a54c=this['findNode'](_0x8c86d5);if(!_0x38a54c)return null;const _0x11e7ab=this['handlers'][_0x8c86d5['propertyPa'+'th']];return!_0x11e7ab||(_0x2f77e8=_0x11e7ab(_0x38a54c),!_0x2f77e8)?null:(this['targetCach'+'e'][_0x34b3b4]=_0x2f77e8,this['nodeCounts'][_0x38a54c['path']]?this['nodeCounts'][_0x38a54c['path']]++:(this['activeNode'+'s']['push'](_0x38a54c),this['nodeCounts'][_0x38a54c['path']]=-0x173+0x18d4+0x5d8*-0x4),_0x2f77e8);}['unresolve'](_0x3f0b85){if(_0x3f0b85['component']!=='graph')return;const _0x5e254e=this['nodes'][_0x3f0b85['entityPath'][_0x3f0b85['entityPath']['length']-(0x4df+0x8f*-0x1b+-0x20b*-0x5)]||''];if(this['nodeCounts'][_0x5e254e['path']]--,this['nodeCounts'][_0x5e254e['path']]===-0x1*-0x884+0x16d5+-0x1f59){const _0xcd61c8=this['activeNode'+'s'],_0x591705=_0xcd61c8['indexOf'](_0x5e254e['node']),_0x36dc93=_0xcd61c8['length'];_0x591705<_0x36dc93-(0xaed+0x6e0+-0x2*0x8e6)&&(_0xcd61c8[_0x591705]=_0xcd61c8[_0x36dc93-(-0x5df+-0x1757+0x1d37)]),_0xcd61c8['pop']();}}['update'](_0x1553f2){const _0xedc807=this['activeNode'+'s'];for(let _0x451b4e=-0xeb2*0x2+0x17e7+-0x1*-0x57d;_0x451b4e<_0xedc807['length'];++_0x451b4e)_0xedc807[_0x451b4e]['_dirtifyLo'+'cal']();}['assignMask'](_0x5d0dd9){return _0x5d0dd9!==this['_mask']?(this['_mask']=_0x5d0dd9,!(0x1*0x230d+0x78+-0x2385)):!(0x42d*-0x1+0xbf1+-0x7c3);}}class Wv extends we{constructor(){super(...arguments),h(this,'_animation'+'s',{}),h(this,'_assets',[]),h(this,'_loop',!(-0x5c3+0xd68+0x1*-0x7a5)),h(this,'animEvalua'+'tor',null),h(this,'model',null),h(this,'skeleton',null),h(this,'fromSkel',null),h(this,'toSkel',null),h(this,'animations'+'Index',{}),h(this,'prevAnim',null),h(this,'currAnim',null),h(this,'blend',0x1aac+-0x1039+-0xa73),h(this,'blending',!(0x24e1+0x1867+0x1*-0x3d47)),h(this,'blendSpeed',-0x13*-0x74+0x17cb+-0x2067),h(this,'activate',!(0x1e77*0x1+0x166*-0x1+-0x1d11)),h(this,'speed',-0x2223+0x49*-0xa+-0x766*-0x5);}set['animations'](_0x33e96d){this['_animation'+'s']=_0x33e96d,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x52fdfa){const _0x75944f=this['_assets'];if(_0x75944f&&_0x75944f['length']){for(let _0x3b2847=0xc41*0x1+0x3ef+-0x1030;_0x3b2847<_0x75944f['length'];_0x3b2847++)if(_0x75944f[_0x3b2847]){const _0x279fd6=this['system']['app']['assets']['get'](_0x75944f[_0x3b2847]);if(_0x279fd6){_0x279fd6['off']('change',this['onAssetCha'+'nged'],this),_0x279fd6['off']('remove',this['onAssetRem'+'oved'],this);const _0x428c55=this['animations'+'Index'][_0x279fd6['id']];this['currAnim']===_0x428c55&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x428c55],delete this['animations'+'Index'][_0x279fd6['id']];}}}this['_assets']=_0x52fdfa;const _0xdfaaf9=_0x52fdfa['map'](_0x59c7c3=>_0x59c7c3 instanceof pe?_0x59c7c3['id']:_0x59c7c3);this['loadAnimat'+'ionAssets'](_0xdfaaf9);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0xdbebb0){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0xdbebb0,this['skeleton']['addTime'](-0x1*0x1eaf+0x3*0x7+-0x1*-0x1e9a),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x2322c0=this['animEvalua'+'tor']['clips'];for(let _0x2d9055=0xc1*0x17+0x4ae+-0x1605;_0x2d9055<_0x2322c0['length'];++_0x2d9055)_0x2322c0[_0x2d9055]['time']=_0xdbebb0;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x140c04=this['animEvalua'+'tor']['clips'];if(_0x140c04['length']>0x221e*0x1+0x49*-0x23+-0x1823)return _0x140c04[_0x140c04['length']-(-0xf*0xe5+-0x159+0xc7*0x13)]['time'];}return 0x1*-0xcb5+-0x2e*0x8d+0x260b;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(w['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),-0x1*0x1cf+0x223a*-0x1+0x2409);}set['loop'](_0x37a796){if(this['_loop']=_0x37a796,this['skeleton']&&(this['skeleton']['looping']=_0x37a796),this['animEvalua'+'tor']){for(let _0xb3234b=-0xb47+0xab7*0x2+0x1*-0xa27;_0xb3234b<this['animEvalua'+'tor']['clips']['length'];++_0xb3234b)this['animEvalua'+'tor']['clips'][_0xb3234b]['loop']=_0x37a796;}}get['loop'](){return this['_loop'];}['play'](_0x345491,_0x12afc8=-0x62*-0x2a+-0x14c8+0x4b4){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x345491]){w['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x345491+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x345491,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x464f8f=this['animations'][this['prevAnim']],_0x1e0fb6=this['animations'][this['currAnim']];if(this['blending']=_0x12afc8>-0xcfc*0x2+-0xb83+0x257b&&!!this['prevAnim'],this['blending']&&(this['blend']=-0x5*0x3b7+0x1209+0x17*0x6,this['blendSpeed']=(-0x1*-0x7c0+0x242c+-0x2beb)/_0x12afc8),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x464f8f,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x1e0fb6):this['skeleton']['animation']=_0x1e0fb6),this['animEvalua'+'tor']){const _0x510993=this['animEvalua'+'tor'];if(this['blending']){for(;_0x510993['clips']['length']>0x170+-0x25*-0x44+-0x3c1*0x3;)_0x510993['removeClip'](0x1cbc+0x350*0x7+-0xcfb*0x4);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x5920c8=new Dh(this['animations'][this['currAnim']],0x3c7*-0x1+0x1*-0x13f1+0x17b8,0x25*0x10b+0x119b+-0x7*0x807,!(0x1cb9+-0x1561+-0xa*0xbc),this['loop']);_0x5920c8['name']=this['currAnim'],_0x5920c8['blendWeigh'+'t']=this['blending']?0x1d*0xcb+0x1c3*0xf+-0x316c:-0x20b1*-0x1+-0x1bdd+-0x4d3,_0x5920c8['reset'](),this['animEvalua'+'tor']['addClip'](_0x5920c8);}}this['playing']=!(0x2184+-0x1684+-0xb00);}}['getAnimati'+'on'](_0x3fab0e){return this['animations'][_0x3fab0e];}['setModel'](_0x47fc85){_0x47fc85!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x47fc85,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x1b6eb6=this['entity']['model'];if(_0x1b6eb6){const _0x590277=_0x1b6eb6['model'];_0x590277&&_0x590277!==this['model']&&this['setModel'](_0x590277);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x38ad63=Object['keys'](this['_animation'+'s']);_0x38ad63['length']>-0xaa3*-0x1+0x1*0x371+0x385*-0x4&&this['play'](_0x38ad63[-0x1*-0x189b+-0x2*-0x8c2+-0x107*0x29]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x4e6607=this['model'],_0x901fa4=this['animations'];let _0x2780f5=!(0x915+-0x174b*-0x1+0x205f*-0x1),_0x227aad=!(-0x84e+-0x1*0x8d8+-0x1*-0x1127);for(const _0x123373 in _0x901fa4)_0x901fa4['hasOwnProp'+'erty'](_0x123373)&&(_0x901fa4[_0x123373]['constructo'+'r']===Qi?_0x227aad=!(-0xbfc+0x164f+-0xa53):_0x2780f5=!(-0x2126+0x5*0x565+-0x3*-0x20f));const _0x5760ba=_0x4e6607['getGraph']();_0x2780f5?(this['fromSkel']=new Sf(_0x5760ba),this['toSkel']=new Sf(_0x5760ba),this['skeleton']=new Sf(_0x5760ba),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x5760ba)):_0x227aad&&(this['animEvalua'+'tor']=new Gv(new Sr(this['entity'])));}['loadAnimat'+'ionAssets'](_0xe86d1d){if(!_0xe86d1d||!_0xe86d1d['length'])return;const _0x1fbc7b=this['system']['app']['assets'],_0xf01fe4=_0x280666=>{if(_0x280666['resources']['length']>-0x2*0x827+0x2095*0x1+-0x1046){for(let _0x200a8e=0x315+-0x2184+-0x93*-0x35;_0x200a8e<_0x280666['resources']['length'];_0x200a8e++)this['animations'][_0x280666['resources'][_0x200a8e]['name']]=_0x280666['resources'][_0x200a8e],this['animations'+'Index'][_0x280666['id']]=_0x280666['resources'][_0x200a8e]['name'];}else this['animations'][_0x280666['name']]=_0x280666['resource'],this['animations'+'Index'][_0x280666['id']]=_0x280666['name'];this['animations']=this['animations'];},_0x4eb521=_0x424eff=>{_0x424eff['off']('change',this['onAssetCha'+'nged'],this),_0x424eff['on']('change',this['onAssetCha'+'nged'],this),_0x424eff['off']('remove',this['onAssetRem'+'oved'],this),_0x424eff['on']('remove',this['onAssetRem'+'oved'],this),_0x424eff['resource']?_0xf01fe4(_0x424eff):(_0x424eff['once']('load',_0xf01fe4,this),this['enabled']&&this['entity']['enabled']&&_0x1fbc7b['load'](_0x424eff));};for(let _0x137a97=0x95c+-0x1b37+0x7*0x28d,_0x551118=_0xe86d1d['length'];_0x137a97<_0x551118;_0x137a97++){const _0x4efe22=_0x1fbc7b['get'](_0xe86d1d[_0x137a97]);_0x4efe22?_0x4eb521(_0x4efe22):_0x1fbc7b['on']('add:'+_0xe86d1d[_0x137a97],_0x4eb521);}}['onAssetCha'+'nged'](_0x364266,_0x272ed6,_0x476e60,_0x53a5d2){if(_0x272ed6==='resource'||_0x272ed6==='resources'){if(_0x272ed6==='resources'&&_0x476e60&&_0x476e60['length']===0xd*0x21+0x66b*0x5+-0x1*0x21c4&&(_0x476e60=null),_0x476e60){let _0x5c4ae0=!(-0x1c9c+-0x1b31+0x37ce);if(_0x476e60['length']>-0xa9b+-0x19c9+0x2465){if(_0x53a5d2&&_0x53a5d2['length']>0x15a0+-0x1046*0x1+-0x559){for(let _0x2c5e13=-0x1e2a+0x80f+-0x1*-0x161b;_0x2c5e13<_0x53a5d2['length'];_0x2c5e13++)delete this['animations'][_0x53a5d2[_0x2c5e13]['name']];}else delete this['animations'][_0x364266['name']];_0x5c4ae0=!(-0xa*0x21c+-0x33+0x154c);for(let _0x419a8f=-0x4e1*0x1+-0x1fc*-0x8+0x233*-0x5;_0x419a8f<_0x476e60['length'];_0x419a8f++)this['animations'][_0x476e60[_0x419a8f]['name']]=_0x476e60[_0x419a8f],!_0x5c4ae0&&this['currAnim']===_0x476e60[_0x419a8f]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x5c4ae0=!(0x1f*-0x3b+0x7cc*-0x5+-0x31*-0xf1),this['play'](_0x476e60[_0x419a8f]['name']));_0x5c4ae0||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x53a5d2&&_0x53a5d2['length']>0xe30+0x37+-0xe66){for(let _0x1e3da3=0x11d9+-0xc*-0x289+-0x3045;_0x1e3da3<_0x53a5d2['length'];_0x1e3da3++)delete this['animations'][_0x53a5d2[_0x1e3da3]['name']];}this['animations'][_0x364266['name']]=_0x476e60[-0x1d2+-0xf7*-0x17+-0x145f]||_0x476e60,_0x5c4ae0=!(0x2*0x332+0x1c65+-0x22c8),this['currAnim']===_0x364266['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x5c4ae0=!(-0x240a+0x1*0x334+-0x6*-0x579),this['play'](_0x364266['name'])),_0x5c4ae0||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x364266['id']]=_0x364266['name'];}else{if(_0x53a5d2['length']>0x5a7+0x1979+0x1*-0x1f1f){for(let _0xcdbb79=-0x76*-0x23+-0x324+-0xcfe;_0xcdbb79<_0x53a5d2['length'];_0xcdbb79++)delete this['animations'][_0x53a5d2[_0xcdbb79]['name']],this['currAnim']===_0x53a5d2[_0xcdbb79]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x364266['name']],this['currAnim']===_0x364266['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x364266['id']];}}}['onAssetRem'+'oved'](_0x3fec42){if(_0x3fec42['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x3fec42['resources']['length']>0x1163+0x182*-0x7+0x6d4*-0x1){for(let _0x28a108=-0x6b8+-0x443+0xafb;_0x28a108<_0x3fec42['resources']['length'];_0x28a108++)delete this['animations'][_0x3fec42['resources'][_0x28a108]['name']],this['currAnim']===_0x3fec42['resources'][_0x28a108]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x3fec42['name']],this['currAnim']===_0x3fec42['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x3fec42['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(-0x38f+0x19dc+-0x164c),this['skeleton']&&(this['skeleton']['currentTim'+'e']=0x17e3+0x67c*-0x1+-0x1167,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x14a2da=0x2*0x1179+-0x682+-0x1c70;_0x14a2da<this['animEvalua'+'tor']['clips']['length'];++_0x14a2da)this['animEvalua'+'tor']['clips'][_0x14a2da]['stop']();this['animEvalua'+'tor']['update'](-0x2352+0x3*-0x136+0x26f4),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x190cd7=this['assets'],_0x9dc0bc=this['system']['app']['assets'];if(_0x190cd7)for(let _0x3c7374=0x1709+-0xd0d+-0x9fc,_0x5d8124=_0x190cd7['length'];_0x3c7374<_0x5d8124;_0x3c7374++){let _0x4413f7=_0x190cd7[_0x3c7374];_0x4413f7 instanceof pe||(_0x4413f7=_0x9dc0bc['get'](_0x4413f7)),_0x4413f7&&!_0x4413f7['resource']&&_0x9dc0bc['load'](_0x4413f7);}if(this['activate']&&!this['currAnim']){const _0x43b0bb=Object['keys'](this['animations']);_0x43b0bb['length']>-0x36*0x76+0x7a4+0x1140&&this['play'](_0x43b0bb[-0x43*-0x81+0x1fd*0x2+-0x25bd]);}}['onBeforeRe'+'move'](){for(let _0x37b6cf=-0x1*-0x1af9+-0xe9e+-0xc5b;_0x37b6cf<this['assets']['length'];_0x37b6cf++){let _0x199edb=this['assets'][_0x37b6cf];typeof _0x199edb=='number'&&(_0x199edb=this['system']['app']['assets']['get'](_0x199edb)),_0x199edb&&(_0x199edb['off']('change',this['onAssetCha'+'nged'],this),_0x199edb['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x230314){if(this['blending']&&(this['blend']+=_0x230314*this['blendSpeed'],this['blend']>=-0x8*0x27+-0x1b76+-0x7*-0x419&&(this['blend']=-0x9aa+0x757*0x2+-0x1*0x503)),this['playing']){const _0x4170f9=this['skeleton'];if(_0x4170f9!==null&&this['model']!==null){if(this['blending'])_0x4170f9['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x3d496f=_0x230314*this['speed'];_0x4170f9['addTime'](_0x3d496f),this['speed']>-0x1a81*0x1+-0x1134+0x2bb5&&_0x4170f9['_time']===_0x4170f9['animation']['duration']&&!this['loop']?this['playing']=!(0x82+-0x2*-0x957+0x1*-0x132f):this['speed']<-0x2bd*0x9+-0x1d83+0x3628&&_0x4170f9['_time']===0x1fc0+-0x1a46+-0x57a&&!this['loop']&&(this['playing']=!(0x9f*0x23+0x16e6+-0x2ca2));}this['blending']&&this['blend']===-0x6*0x5b4+0x3d0+0x1e69&&(_0x4170f9['animation']=this['toSkel']['animation']),_0x4170f9['updateGrap'+'h']();}}const _0x886861=this['animEvalua'+'tor'];if(_0x886861){for(let _0x245d53=-0x1d*0x13e+-0x220e+0x230a*0x2;_0x245d53<_0x886861['clips']['length'];++_0x245d53){const _0x1babf7=_0x886861['clips'][_0x245d53];_0x1babf7['speed']=this['speed'],this['playing']?_0x1babf7['resume']():_0x1babf7['pause']();}this['blending']&&_0x886861['clips']['length']>-0x1*-0x757+0x1*0x1127+-0x187d&&(_0x886861['clips'][0xd1d+0x6c9+0x1*-0x13e5]['blendWeigh'+'t']=this['blend']),_0x886861['update'](_0x230314);}this['blending']&&this['blend']===0x1706+-0x617+-0x10ee&&(this['blending']=!(0x447*-0x6+-0xd86+0x4f*0x7f));}}class LL{constructor(){this['enabled']=!(-0x1583+-0x1a9e+0x3021);}}const Tu=['enabled'];class RL extends ct{constructor(_0x4121ee){super(_0x4121ee),this['id']='animation',this['ComponentT'+'ype']=Wv,this['DataType']=LL,this['schema']=Tu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x39ebf2,_0x254bca,_0x3a47dd){_0x3a47dd=['activate','enabled','loop','speed','assets'];for(const _0x4030ea of _0x3a47dd)_0x254bca['hasOwnProp'+'erty'](_0x4030ea)&&(_0x39ebf2[_0x4030ea]=_0x254bca[_0x4030ea]);super['initialize'+'ComponentD'+'ata'](_0x39ebf2,_0x254bca,Tu);}['cloneCompo'+'nent'](_0x3ea641,_0x324387){this['addCompone'+'nt'](_0x324387,{}),_0x324387['animation']['assets']=_0x3ea641['animation']['assets']['slice'](),_0x324387['animation']['speed']=_0x3ea641['animation']['speed'],_0x324387['animation']['loop']=_0x3ea641['animation']['loop'],_0x324387['animation']['activate']=_0x3ea641['animation']['activate'],_0x324387['animation']['enabled']=_0x3ea641['animation']['enabled'];const _0x47c16b={},_0x269d7c=_0x3ea641['animation']['animations'];for(const _0x3b7272 in _0x269d7c)_0x269d7c['hasOwnProp'+'erty'](_0x3b7272)&&(_0x47c16b[_0x3b7272]=_0x269d7c[_0x3b7272]);_0x324387['animation']['animations']=_0x47c16b;const _0x401bd3={},_0x133a58=_0x3ea641['animation']['animations'+'Index'];for(const _0x5cb4b0 in _0x133a58)_0x133a58['hasOwnProp'+'erty'](_0x5cb4b0)&&(_0x401bd3[_0x5cb4b0]=_0x133a58[_0x5cb4b0]);return _0x324387['animation']['animations'+'Index']=_0x401bd3,_0x324387['animation'];}['onBeforeRe'+'move'](_0x21fd05,_0x1b5342){_0x1b5342['onBeforeRe'+'move']();}['onUpdate'](_0x4da09c){const _0x105ca2=this['store'];for(const _0x3a8f13 in _0x105ca2)if(_0x105ca2['hasOwnProp'+'erty'](_0x3a8f13)){const _0x1cb27f=_0x105ca2[_0x3a8f13];_0x1cb27f['data']['enabled']&&_0x1cb27f['entity']['enabled']&&_0x1cb27f['entity']['animation']['update'](_0x4da09c);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Wv['prototype'],Tu);class ml{constructor(_0x4b2cb7,_0x325cc3,_0x1d04bb,_0x584d7a,_0x387119=0x4*0x287+-0x16b1+0xc96){this['_state']=_0x4b2cb7,this['_parent']=_0x325cc3,this['_name']=_0x1d04bb,Array['isArray'](_0x584d7a)?(this['_point']=new J(_0x584d7a[-0x89b+0x1a61+0x28a*-0x7],_0x584d7a[-0x1edd+0x1341+-0x3df*-0x3]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x584d7a,this['_pointLeng'+'th']=_0x584d7a),this['_speed']=_0x387119,this['_weightedS'+'peed']=-0x422+-0x53*0x62+0x1d*0x13d,this['_weight']=-0x2154+0x36c+0x24d*0xd,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x650adf){this['_weight']=_0x650adf;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x5155d8=this['_state']['totalWeigh'+'t'];return _0x5155d8===0x10*-0x13a+0x1e72+-0xad2?0x11a0+0x5fc*0x3+-0x2394:this['weight']/_0x5155d8;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0xe2b11d){this['_weightedS'+'peed']=_0xe2b11d;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0xc44a18){this['_animTrack']=_0xc44a18;}get['animTrack'](){return this['_animTrack'];}}class Jn extends ml{constructor(_0x5ce474,_0x13efa6,_0x43b3b1,_0xc01397,_0x25c0c2,_0x4eeeab,_0x1831ad,_0x123c89,_0x2b02f5){super(_0x5ce474,_0x13efa6,_0x43b3b1,_0xc01397),this['_parameter'+'s']=_0x25c0c2,this['_parameter'+'Values']=new Array(_0x25c0c2['length']),this['_children']=[],this['_findParam'+'eter']=_0x2b02f5,this['_syncAnima'+'tions']=_0x1831ad!==!(-0x2af*0x3+-0x245+0xa53),this['_pointCach'+'e']={};for(let _0x3be4b5=-0x5*-0x697+0x139*-0x1f+0x4*0x13d;_0x3be4b5<_0x4eeeab['length'];_0x3be4b5++){const _0x417b87=_0x4eeeab[_0x3be4b5];_0x417b87['children']?this['_children']['push'](_0x123c89(_0x417b87['type'],_0x5ce474,this,_0x417b87['name'],-0x11f9+-0xfaa*-0x2+0xd5a*-0x1,_0x417b87['parameter']?[_0x417b87['parameter']]:_0x417b87['parameters'],_0x417b87['children'],_0x417b87['syncAnimat'+'ions'],_0x123c89,_0x2b02f5)):this['_children']['push'](new ml(_0x5ce474,this,_0x417b87['name'],_0x417b87['point'],_0x417b87['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x305e96){for(let _0x24f32a=-0x1*-0x10c1+-0x1*0x14ea+0x429;_0x24f32a<this['_children']['length'];_0x24f32a++)if(this['_children'][_0x24f32a]['name']===_0x305e96)return this['_children'][_0x24f32a];return null;}['updatePara'+'meterValue'+'s'](){let _0x64548f=!(-0xed*-0xd+-0x3*-0xc37+-0x30ae);for(let _0x78afe3=0xfa2+-0x1cf0+0xd4e;_0x78afe3<this['_parameter'+'Values']['length'];_0x78afe3++){const _0xbeae9c=this['_findParam'+'eter'](this['_parameter'+'s'][_0x78afe3])['value'];this['_parameter'+'Values'][_0x78afe3]!==_0xbeae9c&&(this['_parameter'+'Values'][_0x78afe3]=_0xbeae9c,_0x64548f=!(0x15ef+0x1*-0x10ff+-0x4ef*0x1));}return _0x64548f;}['getNodeWei'+'ghtedDurat'+'ion'](_0x4260f8){return this['_children'][_0x4260f8]['animTrack']['duration']/this['_children'][_0x4260f8]['speedMulti'+'plier']*this['_children'][_0x4260f8]['weight'];}['getNodeCou'+'nt'](){let _0xdbc830=0x247+-0x1308+-0x1*-0x10c1;for(let _0x56fa5f=0x513+-0x1449+0x76*0x21;_0x56fa5f<this['_children']['length'];_0x56fa5f++)this['_children'][_0x56fa5f]['constructo'+'r']===Jn?_0xdbc830+=this['_children'][_0x56fa5f]['getNodeCou'+'nt']():_0xdbc830++;return _0xdbc830;}}class OL extends Jn{constructor(_0x1f5905,_0x7114b5,_0x1a8d93,_0x244bcc,_0x549058,_0x924011,_0x5cea8f,_0x3b68ee,_0x4799ef){_0x924011['sort']((_0x4096b1,_0x39d4c6)=>_0x4096b1['point']-_0x39d4c6['point']),super(_0x1f5905,_0x7114b5,_0x1a8d93,_0x244bcc,_0x549058,_0x924011,_0x5cea8f,_0x3b68ee,_0x4799ef);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0xb4ac67=0xc22*0x1+-0x62f+-0x5f3;this['_children'][0xae*-0xf+0x662*0x5+-0x1*0x15b8]['weight']=0x8*0x377+-0x3*0x65d+-0x8a1;for(let _0x4e22af=0x1683*0x1+-0x19*0xc7+0x2*-0x18a;_0x4e22af<this['_children']['length'];_0x4e22af++){const _0x333017=this['_children'][_0x4e22af];if(_0x4e22af!==this['_children']['length']-(-0x905+-0x4ae+0x6da*0x2)){const _0x2a2d0b=this['_children'][_0x4e22af+(0x10cf+-0x3*0x3d7+0x1c3*-0x3)];if(_0x333017['point']===_0x2a2d0b['point'])_0x333017['weight']=-0x807+0x3d*0x20+0x67+0.5,_0x2a2d0b['weight']=-0x1191+-0x2*0xb65+0x285b+0.5;else{if(Y['between'](this['_parameter'+'Values'][0x180+0x343*-0x5+0xecf],_0x333017['point'],_0x2a2d0b['point'],!(-0x3*0x339+-0x1*-0xd3+0x1*0x8d8))){const _0x326ca0=Math['abs'](_0x333017['point']-_0x2a2d0b['point']),_0x39d5e3=Math['abs'](_0x333017['point']-this['_parameter'+'Values'][0x1923+0x1ba9+-0x34cc]),_0x44f7e6=(_0x326ca0-_0x39d5e3)/_0x326ca0;_0x333017['weight']=_0x44f7e6,_0x2a2d0b['weight']=0x16cc+-0x25*0x66+0x2af*-0x3-_0x44f7e6;}else _0x2a2d0b['weight']=0xb*0x2b7+0x62*0x4+-0x1f65;}}this['_syncAnima'+'tions']&&(_0xb4ac67+=_0x333017['animTrack']['duration']/_0x333017['absoluteSp'+'eed']*_0x333017['weight']);}if(this['_syncAnima'+'tions'])for(let _0x588381=0x13bb+-0x99c+-0x1*0xa1f;_0x588381<this['_children']['length'];_0x588381++){const _0x1c986b=this['_children'][_0x588381];_0x1c986b['weightedSp'+'eed']=_0x1c986b['animTrack']['duration']/_0x1c986b['absoluteSp'+'eed']/_0xb4ac67;}}}const ki=class ki extends Jn{['pointDista'+'nceCache'](_0x43c3a6,_0x2cfb01){const _0x478a29=''+_0x43c3a6+_0x2cfb01;return this['_pointCach'+'e'][_0x478a29]||(this['_pointCach'+'e'][_0x478a29]=this['_children'][_0x2cfb01]['point']['clone']()['sub'](this['_children'][_0x43c3a6]['point'])),this['_pointCach'+'e'][_0x478a29];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0xb7dc86,_0x5e5cc7;ki['_p']['set'](...this['_parameter'+'Values']),_0xb7dc86=-0xa7c+-0x412*0x4+0x6b1*0x4,_0x5e5cc7=-0x58f*0x6+0x536+0x1*0x1c24;for(let _0x2422f9=-0x19b3*0x1+0x667*0x3+-0x22a*-0x3;_0x2422f9<this['_children']['length'];_0x2422f9++){const _0x5c7fc3=this['_children'][_0x2422f9],_0x20c2b6=_0x5c7fc3['point'];ki['_pip']['set'](ki['_p']['x'],ki['_p']['y'])['sub'](_0x20c2b6);let _0x3ae040=Number['MAX_VALUE'];for(let _0x1fcc22=-0x530+0x179a+-0x126a;_0x1fcc22<this['_children']['length'];_0x1fcc22++){if(_0x2422f9===_0x1fcc22)continue;const _0x22cb10=this['pointDista'+'nceCache'](_0x2422f9,_0x1fcc22),_0x4df813=Y['clamp'](-0x23d5+0x82*0x25+0x110c-ki['_pip']['dot'](_0x22cb10)/_0x22cb10['lengthSq'](),0x22*0x11+0x4d0+-0x712,-0x1e2+0x92b*-0x3+0x1*0x1d64);_0x4df813<_0x3ae040&&(_0x3ae040=_0x4df813);}_0x5c7fc3['weight']=_0x3ae040,_0xb7dc86+=_0x3ae040,this['_syncAnima'+'tions']&&(_0x5e5cc7+=_0x5c7fc3['animTrack']['duration']/_0x5c7fc3['absoluteSp'+'eed']*_0x5c7fc3['weight']);}for(let _0x4d1801=0x1680+0x23a3+0x79*-0x7b;_0x4d1801<this['_children']['length'];_0x4d1801++){const _0x408d3b=this['_children'][_0x4d1801];_0x408d3b['weight']=_0x408d3b['_weight']/_0xb7dc86,this['_syncAnima'+'tions']&&(_0x408d3b['weightedSp'+'eed']=_0x408d3b['animTrack']['duration']/_0x408d3b['absoluteSp'+'eed']/_0x5e5cc7);}}};h(ki,'_p',new J()),h(ki,'_pip',new J());let wu=ki;const Ui=class Ui extends Jn{['pointCache'](_0xac25f1,_0x496c44){const _0x2a0ac7=''+_0xac25f1+_0x496c44;return this['_pointCach'+'e'][_0x2a0ac7]||(this['_pointCach'+'e'][_0x2a0ac7]=new J((this['_children'][_0x496c44]['pointLengt'+'h']-this['_children'][_0xac25f1]['pointLengt'+'h'])/((this['_children'][_0x496c44]['pointLengt'+'h']+this['_children'][_0xac25f1]['pointLengt'+'h'])/(0x211d+-0x1fc+-0x1f1f*0x1)),J['angleRad'](this['_children'][_0xac25f1]['point'],this['_children'][_0x496c44]['point'])*(-0x3*-0x219+-0x10*0x61+0x13*-0x3))),this['_pointCach'+'e'][_0x2a0ac7];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x2e6ba9,_0x488d8d;Ui['_p']['set'](...this['_parameter'+'Values']);const _0x33d2c8=Ui['_p']['length']();_0x2e6ba9=-0x83*-0x29+-0x1f3d*0x1+0xd*0xca,_0x488d8d=-0x2*-0x1021+-0x15cf+-0x6b*0x19;for(let _0xbe4252=-0xa1b+0x823*-0x1+0xa*0x1d3;_0xbe4252<this['_children']['length'];_0xbe4252++){const _0x40b08f=this['_children'][_0xbe4252],_0x371382=_0x40b08f['point'],_0x3285d0=_0x40b08f['pointLengt'+'h'];let _0x5d252a=Number['MAX_VALUE'];for(let _0x17d07e=-0x1901+-0x13*0x1f5+0x1f18*0x2;_0x17d07e<this['_children']['length'];_0x17d07e++){if(_0xbe4252===_0x17d07e)continue;const _0x41a755=this['pointCache'](_0xbe4252,_0x17d07e),_0x504ebb=this['_children'][_0x17d07e]['pointLengt'+'h'];Ui['_pip']['set']((_0x33d2c8-_0x3285d0)/((_0x504ebb+_0x3285d0)/(-0xc91*-0x1+0x12b*0x8+-0x15e7)),J['angleRad'](_0x371382,Ui['_p'])*(0x15e0+-0x2*0x8fb+-0x3e8*0x1));const _0x4a9fe3=Y['clamp'](-0x4ad+0x29d+-0x1*-0x211-Math['abs'](Ui['_pip']['dot'](_0x41a755)/_0x41a755['lengthSq']()),-0x1c*0x80+0x8f4*-0x1+-0xe2*-0x1a,-0x2242+-0x5*-0x4d5+-0x6*-0x1af);_0x4a9fe3<_0x5d252a&&(_0x5d252a=_0x4a9fe3);}_0x40b08f['weight']=_0x5d252a,_0x2e6ba9+=_0x5d252a,this['_syncAnima'+'tions']&&(_0x488d8d+=_0x40b08f['animTrack']['duration']/_0x40b08f['absoluteSp'+'eed']*_0x40b08f['weight']);}for(let _0x287d2d=-0xf7a+-0x1*0x8f3+0x186d;_0x287d2d<this['_children']['length'];_0x287d2d++){const _0x45d0d1=this['_children'][_0x287d2d];if(_0x45d0d1['weight']=_0x45d0d1['_weight']/_0x2e6ba9,this['_syncAnima'+'tions']){const _0x4b90a9=_0x45d0d1['animTrack']['duration']/_0x488d8d*_0x2e6ba9;_0x45d0d1['weightedSp'+'eed']=_0x45d0d1['absoluteSp'+'eed']*_0x4b90a9;}}}};h(Ui,'_p',new J()),h(Ui,'_pip',new J());let Eu=Ui;class FL extends Jn{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x3914dc=0xade+0x1*-0x109d+-0x1*-0x5bf,_0x3e439c=0x1eff+0x1*0x22f9+0x4*-0x107e;for(let _0xd0d415=0x1755+0x1e*-0x8f+-0x33*0x21;_0xd0d415<this['_children']['length'];_0xd0d415++)if(_0x3914dc+=Math['max'](this['_parameter'+'Values'][_0xd0d415],0xb35+0x2*0x4d2+-0x1*0x14d9),this['_syncAnima'+'tions']){const _0x594681=this['_children'][_0xd0d415];_0x3e439c+=_0x594681['animTrack']['duration']/_0x594681['absoluteSp'+'eed']*_0x594681['weight'];}for(let _0x55ba23=-0x7*-0x1d2+0x1*0xcc1+-0x197f;_0x55ba23<this['_children']['length'];_0x55ba23++){const _0x25d80e=this['_children'][_0x55ba23],_0x5ba67e=Math['max'](this['_parameter'+'Values'][_0x55ba23],-0x18c1+-0x54b*0x4+0x2ded);_0x3914dc?(_0x25d80e['weight']=_0x5ba67e/_0x3914dc,this['_syncAnima'+'tions']&&(_0x25d80e['weightedSp'+'eed']=_0x25d80e['animTrack']['duration']/_0x25d80e['absoluteSp'+'eed']/_0x3e439c)):(_0x25d80e['weight']=-0x225c+0x1567*-0x1+-0x37c3*-0x1,this['_syncAnima'+'tions']&&(_0x25d80e['weightedSp'+'eed']=0x13e7*0x1+-0x1*0x1f49+0xb62));}}}class Fg{constructor(_0x3e99ff,_0x5ad9cd,_0x1a72f0=0x1*0x1ff1+0x6da*-0x1+0x1ee*-0xd,_0x5de519=!(0x31d*0x9+-0x1*-0x11cd+-0x187*0x1e),_0x3dda6c){h(this,'_animation'+'s',{}),h(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x3e99ff,this['_name']=_0x5ad9cd,this['_speed']=_0x1a72f0,this['_loop']=_0x5de519,this['_hasAnimat'+'ions']=!(-0x559+-0x766+0xcc0),_0x3dda6c?this['_blendTree']=this['_createTre'+'e'](_0x3dda6c['type'],this,null,_0x5ad9cd,0x4c*-0x61+-0xd59+-0xd*-0x33e,_0x3dda6c['parameter']?[_0x3dda6c['parameter']]:_0x3dda6c['parameters'],_0x3dda6c['children'],_0x3dda6c['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new ml(this,null,_0x5ad9cd,0x241f+0x17ad+-0x3bcb,_0x1a72f0));}['_createTre'+'e'](_0x4df4b6,_0x764672,_0x2d806c,_0x2dd7d6,_0x566024,_0x207930,_0x110528,_0x30a8d0,_0x53fa9c,_0x3db572){switch(_0x4df4b6){case CL:return new OL(_0x764672,_0x2d806c,_0x2dd7d6,_0x566024,_0x207930,_0x110528,_0x30a8d0,_0x53fa9c,_0x3db572);case ML:return new wu(_0x764672,_0x2d806c,_0x2dd7d6,_0x566024,_0x207930,_0x110528,_0x30a8d0,_0x53fa9c,_0x3db572);case PL:return new Eu(_0x764672,_0x2d806c,_0x2dd7d6,_0x566024,_0x207930,_0x110528,_0x30a8d0,_0x53fa9c,_0x3db572);case DL:return new FL(_0x764672,_0x2d806c,_0x2dd7d6,_0x566024,_0x207930,_0x110528,_0x30a8d0,_0x53fa9c,_0x3db572);}w['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x4df4b6);}['_getNodeFr'+'omPath'](_0xe2de62){let _0x285c32=this['_blendTree'];for(let _0x53e64a=-0x1b8f+-0x1*-0x15e1+0x5af;_0x53e64a<_0xe2de62['length'];_0x53e64a++)_0x285c32=_0x285c32['getChild'](_0xe2de62[_0x53e64a]);return _0x285c32;}['addAnimati'+'on'](_0x592921,_0x2b678f){const _0x4e55bc=_0x592921['join']('.'),_0x4ae130=this['_animation'+'List']['findIndex'](_0x459d0b=>_0x459d0b['path']===_0x4e55bc);if(_0x4ae130>=0x3df*0x3+-0x2214*-0x1+-0x22d*0x15)this['_animation'+'List'][_0x4ae130]['animTrack']=_0x2b678f;else{const _0x475f1b=this['_getNodeFr'+'omPath'](_0x592921);_0x475f1b['animTrack']=_0x2b678f,this['_animation'+'List']['push'](_0x475f1b);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>0x4*0x2f5+-0x2*-0x503+-0x1*0x15da&&this['_animation'+'List']['every'](_0x10e656=>_0x10e656['animTrack']&&_0x10e656['animTrack']!==Qi['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x14f006){this['_animation'+'List']=_0x14f006,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0xa6baf2){this['_speed']=_0xa6baf2;}get['speed'](){return this['_speed'];}set['loop'](_0xcd75f3){this['_loop']=_0xcd75f3;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===ml?-0x3ca*0x4+-0x1c3f+0x2b68:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return Ih['indexOf'](this['name'])!==-(-0x20b0*-0x1+0x260e+-0x46bd)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>0x1936+-0xb*0x32+0x1ec*-0xc){const _0x519cc3=this['name']+'.'+this['animations'][0x60c+0x23ad*0x1+-0x29b9*0x1]['animTrack']['name'],_0x1f5bb8=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x519cc3);if(_0x1f5bb8)return _0x1f5bb8['loop'];}return!(0xd6f+0x3a*0x89+-0x2c78);}get['totalWeigh'+'t'](){let _0x372f3a=0x1089+0x1cec+-0xf27*0x3;for(let _0x30532f=-0x1f12+-0x47*-0x44+-0x6*-0x209;_0x30532f<this['animations']['length'];_0x30532f++)_0x372f3a+=this['animations'][_0x30532f]['weight'];return _0x372f3a;}get['timelineDu'+'ration'](){let _0xef0387=-0xd50+-0x2cd+0x101d;for(let _0x561937=0x1b6b+0x2465*0x1+-0x3fd0;_0x561937<this['animations']['length'];_0x561937++){const _0x2066c5=this['animations'][_0x561937];_0x2066c5['animTrack']['duration']>_0xef0387&&(_0xef0387=_0x2066c5['animTrack']['duration']);}return _0xef0387;}}class Lh{constructor({from:_0x27ae74,to:_0x282017,time:_0x5e7a7d=-0x58*-0x4a+0xe3b+-0x27ab,priority:_0x3f6018=0x9*0x1f7+-0x189*0x7+-0x6f0,conditions:_0x168429=[],exitTime:_0x6a7b87=null,transitionOffset:_0x34a763=null,interruptionSource:_0x35913c=zv}){this['_from']=_0x27ae74,this['_to']=_0x282017,this['_time']=_0x5e7a7d,this['_priority']=_0x3f6018,this['_condition'+'s']=_0x168429,this['_exitTime']=_0x6a7b87,this['_transitio'+'nOffset']=_0x34a763,this['_interrupt'+'ionSource']=_0x35913c;}get['from'](){return this['_from'];}set['to'](_0x2d68ec){this['_to']=_0x2d68ec;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class NL{constructor(_0x11f6df,_0x2a1826,_0x8a9438,_0x9ac42e,_0x38eaf6,_0x1d3874,_0xef2d02){h(this,'_states',{}),h(this,'_stateName'+'s',[]),h(this,'_findTrans'+'itionsFrom'+'StateCache',{}),h(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),h(this,'_previousS'+'tateName',null),h(this,'_activeSta'+'teName',Co),h(this,'_activeSta'+'teDuration',0x950+-0x5*0x39f+0x8cb),h(this,'_activeSta'+'teDuration'+'Dirty',!(0x7b+-0x1b6f+0x1af4)),h(this,'_playing',!(0x1ef5*-0x1+0x22a+-0x26*-0xc2)),h(this,'_activate'),h(this,'_transitio'+'ns'),h(this,'_currTrans'+'itionTime',-0x1bb*0xd+-0x197d+-0x3f*-0xc3),h(this,'_totalTran'+'sitionTime',-0x191f+-0x23e4+0x11c*0x37),h(this,'_isTransit'+'ioning',!(0x1b37+-0x1*0x19f7+0x13f*-0x1)),h(this,'_transitio'+'nInterrupt'+'ionSource',zv),h(this,'_transitio'+'nPreviousS'+'tates',[]),h(this,'_timeInSta'+'te',-0x75a+-0x1*-0xa0c+-0x2b2),h(this,'_timeInSta'+'teBefore',0x7be*0x5+0x16d9+-0x3d8f),h(this,'findParame'+'ter',_0x2ea2a7=>this['_findParam'+'eter'](_0x2ea2a7)),(this['_animEvalu'+'ator']=_0x11f6df,this['_eventHand'+'ler']=_0x38eaf6,this['_findParam'+'eter']=_0x1d3874,this['_consumeTr'+'igger']=_0xef2d02);for(let _0xe1571=-0x1*0x229d+-0x1*0x1ef2+0x1*0x418f;_0xe1571<_0x2a1826['length'];_0xe1571++)this['_states'][_0x2a1826[_0xe1571]['name']]=new Fg(this,_0x2a1826[_0xe1571]['name'],_0x2a1826[_0xe1571]['speed'],_0x2a1826[_0xe1571]['loop'],_0x2a1826[_0xe1571]['blendTree']),this['_stateName'+'s']['push'](_0x2a1826[_0xe1571]['name']);this['_transitio'+'ns']=_0x8a9438['map'](_0x23b484=>new Lh({..._0x23b484})),this['_activate']=_0x9ac42e;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x411ff5){this['_activeSta'+'teName']=_0x411ff5;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x544ffe){this['_previousS'+'tateName']=_0x544ffe;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x282728=!(0x7b7+0x207f*0x1+-0x2*0x141b);for(let _0x2c85f4=0x179d+-0x4bd+-0x20*0x97;_0x2c85f4<this['_stateName'+'s']['length'];_0x2c85f4++)this['_states'][this['_stateName'+'s'][_0x2c85f4]]['playable']||(_0x282728=!(0x1d3*-0x13+-0x13*-0xfd+0xfe3));return _0x282728;}set['playing'](_0x1a38a5){this['_playing']=_0x1a38a5;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x3a8097=0x788+0x2378+-0x8*0x560;for(let _0x33815a=0x253a+0x57*-0x27+-0x17f9;_0x33815a<this['activeStat'+'eAnimation'+'s']['length'];_0x33815a++){const _0x28f2f8=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x33815a]['name']);_0x28f2f8&&(_0x3a8097=Math['max'](_0x3a8097,_0x28f2f8['track']['duration']));}this['_activeSta'+'teDuration']=_0x3a8097,this['_activeSta'+'teDuration'+'Dirty']=!(0x66+0x1257*-0x2+0x52f*0x7);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x45c328){this['_timeInSta'+'teBefore']=_0x45c328,this['_timeInSta'+'te']=_0x45c328;for(let _0x25caf2=-0x79*0x27+0x2036+-0xdc7;_0x25caf2<this['activeStat'+'eAnimation'+'s']['length'];_0x25caf2++){const _0x3d130d=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x25caf2]['name']);_0x3d130d&&(_0x3d130d['time']=_0x45c328);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x2a366b){return this['_animEvalu'+'ator']['assignMask'](_0x2a366b);}['_findState'](_0x3bb772){return this['_states'][_0x3bb772];}['_getActive'+'StateProgr'+'essForTime'](_0x3f3f9d){if(this['activeStat'+'eName']===Co||this['activeStat'+'eName']===vu||this['activeStat'+'eName']===qr)return-0x807+-0x1f7e+-0x1*-0x2786;const _0x1ab2fe=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][0xf4b+-0x1648+0x6fd*0x1]['name']);return _0x1ab2fe?_0x1ab2fe['progressFo'+'rTime'](_0x3f3f9d):null;}['_findTrans'+'itionsFrom'+'State'](_0x53657e){let _0x2ee771=this['_findTrans'+'itionsFrom'+'StateCache'][_0x53657e];return _0x2ee771||(_0x2ee771=this['_transitio'+'ns']['filter'](_0x361e9c=>_0x361e9c['from']===_0x53657e),ul(_0x2ee771),this['_findTrans'+'itionsFrom'+'StateCache'][_0x53657e]=_0x2ee771),_0x2ee771;}['_findTrans'+'itionsBetw'+'eenStates'](_0x2b3a7a,_0x5e07c6){let _0x181527=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x2b3a7a+'->'+_0x5e07c6];return _0x181527||(_0x181527=this['_transitio'+'ns']['filter'](_0x22588f=>_0x22588f['from']===_0x2b3a7a&&_0x22588f['to']===_0x5e07c6),ul(_0x181527),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x2b3a7a+'->'+_0x5e07c6]=_0x181527),_0x181527;}['_transitio'+'nHasCondit'+'ionsMet'](_0x13c136){const _0x383181=_0x13c136['conditions'];for(let _0x286943=0x22d+-0xa66*-0x2+-0x16f9;_0x286943<_0x383181['length'];_0x286943++){const _0x4209f5=_0x383181[_0x286943],_0x3a9070=this['_findParam'+'eter'](_0x4209f5['parameterN'+'ame']);switch(_0x4209f5['predicate']){case xL:if(!(_0x3a9070['value']>_0x4209f5['value']))return!(0x2407+0x1bcd+0x3fd3*-0x1);break;case TL:if(!(_0x3a9070['value']<_0x4209f5['value']))return!(-0x61c+-0x1935+0x1f52);break;case wL:if(!(_0x3a9070['value']>=_0x4209f5['value']))return!(-0x4*-0xfa+0x361+-0x3a4*0x2);break;case EL:if(!(_0x3a9070['value']<=_0x4209f5['value']))return!(-0x23b4+0xc29*-0x2+0x3c07);break;case bL:if(_0x3a9070['value']!==_0x4209f5['value'])return!(-0x69b+0xb99*-0x3+0x2967);break;case AL:if(_0x3a9070['value']===_0x4209f5['value'])return!(-0x2*-0xea3+-0x1251*0x1+-0xaf4);break;}}return!(0x0+0x3*-0x209+-0x209*-0x3);}['_findTrans'+'ition'](_0x3a6dee,_0xfe63e5){let _0x36b0b0=[];if(_0x3a6dee&&_0xfe63e5)_0x36b0b0=_0x36b0b0['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x3a6dee,_0xfe63e5));else{if(!this['_isTransit'+'ioning'])_0x36b0b0=_0x36b0b0['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x36b0b0=_0x36b0b0['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case gL:_0x36b0b0=_0x36b0b0['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x36b0b0=_0x36b0b0['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case SL:_0x36b0b0=_0x36b0b0['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x36b0b0=_0x36b0b0['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case yL:_0x36b0b0=_0x36b0b0['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x36b0b0=_0x36b0b0['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x36b0b0=_0x36b0b0['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case vL:_0x36b0b0=_0x36b0b0['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x36b0b0=_0x36b0b0['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x36b0b0=_0x36b0b0['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;}}if(_0x36b0b0=_0x36b0b0['filter'](_0x544775=>{if(_0x544775['to']===this['activeStat'+'eName'])return!(0x2143+0x489*0x3+-0x2edd);if(_0x544775['hasExitTim'+'e']){let _0x3c703a=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x18013f=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0x544775['exitTime']<0x1e08+0x784+-0x258b&&this['activeStat'+'e']['loop']&&(_0x3c703a-=Math['floor'](_0x3c703a),_0x18013f-=Math['floor'](_0x18013f)),_0x18013f===_0x3c703a){if(_0x18013f!==_0x544775['exitTime'])return null;}else{if(!(_0x544775['exitTime']>_0x3c703a&&_0x544775['exitTime']<=_0x18013f))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0x544775);}),_0x36b0b0['length']>0x2423+-0x72e*-0x1+0x1*-0x2b51){const _0x120841=_0x36b0b0[0x1c00+-0x6*0x389+0x4f*-0x16];if(_0x120841['to']===vu){const _0x2e9e4b=this['_findTrans'+'itionsFrom'+'State'](Co)[0x1b*-0xca+0x2e2+-0x3*-0x624];_0x120841['to']=_0x2e9e4b['to'];}return _0x120841;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x5189cc){let _0x5be2a2,_0x29a79c,_0x1a4e32;this['previousSt'+'ate']=_0x5189cc['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x5189cc['to'],this['_activeSta'+'teDuration'+'Dirty']=!(-0x18c0+-0x23ae+-0x1*-0x3c6e);for(let _0x2fc045=0x6d*-0x10+-0x1e1c+0x24ec;_0x2fc045<_0x5189cc['conditions']['length'];_0x2fc045++){const _0x1bd84d=_0x5189cc['conditions'][_0x2fc045];this['_findParam'+'eter'](_0x1bd84d['parameterN'+'ame'])['type']===Qc&&this['_consumeTr'+'igger'](_0x1bd84d['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0xbd9983=Math['min'](this['_totalTran'+'sitionTime']!==0xe*0x287+-0x1*-0x23e7+0x229*-0x21?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0x21ea+-0x5c9+-0x30*0x96,0x5ca+-0xc5+-0x504);for(let _0x14355f=0x1742+-0x1fc1+-0x3*-0x2d5;_0x14355f<this['_transitio'+'nPreviousS'+'tates']['length'];_0x14355f++){this['_isTransit'+'ioning']?_0x14355f!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x18d0+-0xcd*-0xf+-0x24d2)?this['_transitio'+'nPreviousS'+'tates'][_0x14355f]['weight']*=0x15fb+0x4b3*-0x1+0x1*-0x1147-_0xbd9983:this['_transitio'+'nPreviousS'+'tates'][_0x14355f]['weight']=_0xbd9983:this['_transitio'+'nPreviousS'+'tates'][_0x14355f]['weight']=0x87f+-0x44*-0x29+-0x1362*0x1,_0x5be2a2=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x14355f]['name']);for(let _0x37fb5b=0x2382+-0x2263*0x1+-0x11f;_0x37fb5b<_0x5be2a2['animations']['length'];_0x37fb5b++)_0x29a79c=_0x5be2a2['animations'][_0x37fb5b],_0x1a4e32=this['_animEvalu'+'ator']['findClip'](_0x29a79c['name']+'.previous.'+_0x14355f),_0x1a4e32||(_0x1a4e32=this['_animEvalu'+'ator']['findClip'](_0x29a79c['name']),_0x1a4e32['name']=_0x29a79c['name']+'.previous.'+_0x14355f),_0x14355f!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x41*-0x4a+-0xb*-0x1fa+-0x2f3)&&_0x1a4e32['pause']();}}this['_isTransit'+'ioning']=!(-0x8*-0x1a7+0x4*-0x62b+0x2dd*0x4),this['_totalTran'+'sitionTime']=_0x5189cc['time'],this['_currTrans'+'itionTime']=0x21f8+-0x2595+0xb9*0x5,this['_transitio'+'nInterrupt'+'ionSource']=_0x5189cc['interrupti'+'onSource'];const _0x3f52ae=this['activeStat'+'e'],_0x5be8b3=_0x5189cc['transition'+'Offset']&&_0x5189cc['transition'+'Offset']>-0xc*0x187+0x2*0x4ae+-0x2*-0x47c&&_0x5189cc['transition'+'Offset']<0x4*0x61f+-0x949*-0x1+-0x1*0x21c4;let _0x1f29dc=-0x233f+0x190*0x14+0x3*0x155,_0x9a9cb8=0x17b+-0x15*0xf1+0x124a;if(_0x5be8b3){const _0x12e12b=_0x3f52ae['timelineDu'+'ration']*_0x5189cc['transition'+'Offset'];_0x1f29dc=_0x12e12b,_0x9a9cb8=_0x12e12b;}this['_timeInSta'+'te']=_0x1f29dc,this['_timeInSta'+'teBefore']=_0x9a9cb8;for(let _0x4b776e=-0x192d+0x1cf0+-0x141*0x3;_0x4b776e<_0x3f52ae['animations']['length'];_0x4b776e++){if(_0x1a4e32=this['_animEvalu'+'ator']['findClip'](_0x3f52ae['animations'][_0x4b776e]['name']),_0x1a4e32)_0x1a4e32['reset']();else{const _0x2b258e=Number['isFinite'](_0x3f52ae['animations'][_0x4b776e]['speed'])?_0x3f52ae['animations'][_0x4b776e]['speed']:_0x3f52ae['speed'];_0x1a4e32=new Dh(_0x3f52ae['animations'][_0x4b776e]['animTrack'],this['_timeInSta'+'te'],_0x2b258e,!(-0x2*0xc0e+0x1192*-0x1+-0x2*-0x14d7),_0x3f52ae['loop'],this['_eventHand'+'ler']),_0x1a4e32['name']=_0x3f52ae['animations'][_0x4b776e]['name'],this['_animEvalu'+'ator']['addClip'](_0x1a4e32);}if(_0x5189cc['time']>-0x911+0x199*-0x8+0x15d9?_0x1a4e32['blendWeigh'+'t']=0x4b2+-0xab*0x3a+-0x220c*-0x1:_0x1a4e32['blendWeigh'+'t']=_0x3f52ae['animations'][_0x4b776e]['normalized'+'Weight'],_0x1a4e32['play'](),_0x5be8b3)_0x1a4e32['time']=_0x3f52ae['timelineDu'+'ration']*_0x5189cc['transition'+'Offset'];else{const _0x121074=_0x3f52ae['speed']>=-0x1dec+-0x268e+0x447a?-0x32*0x7d+0x1b5*-0x3+0x1d89:this['activeStat'+'eDuration'];_0x1a4e32['time']=_0x121074;}}}['_transitio'+'nToState'](_0x16e4c8){if(!this['_findState'](_0x16e4c8))return;let _0x1043dc=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x16e4c8);_0x1043dc||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x1043dc=new Lh({'from':null,'to':_0x16e4c8})),this['updateStat'+'eFromTrans'+'ition'](_0x1043dc);}['assignAnim'+'ation'](_0x507b77,_0xce8b11,_0x37d50f,_0x4b31a6){const _0x3ab548=_0x507b77['split']('.');let _0x2b4347=this['_findState'](_0x3ab548[0x89d+0x268f+-0x2f2c]);_0x2b4347||(_0x2b4347=new Fg(this,_0x3ab548[-0x96b+-0x1781+0x20ec],_0x37d50f),this['_states'][_0x3ab548[-0x2320+-0xe*-0x16+0x21ec]]=_0x2b4347,this['_stateName'+'s']['push'](_0x3ab548[0x4e5+0x8ca+-0xdaf])),_0x2b4347['addAnimati'+'on'](_0x3ab548,_0xce8b11),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x2b4347['name'],_0xce8b11),_0x37d50f!==void(0x2576+-0xb0f*0x1+-0x1a67)&&(_0x2b4347['speed']=_0x37d50f),_0x4b31a6!==void(-0x71f+0x3*-0xa4+0x90b)&&(_0x2b4347['loop']=_0x4b31a6),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(-0x4f*0x37+0x7*-0x15d+0xd42*0x2);}['removeNode'+'Animations'](_0x242d8d){if(Ih['indexOf'](_0x242d8d)!==-(-0x209e+0x255f+-0x98*0x8))return!(-0x139*0x8+0x21d3+0x180a*-0x1);const _0x3db169=this['_findState'](_0x242d8d);return _0x3db169?(_0x3db169['animations']=[],!(0x70*-0x2+-0x13df+0x2f*0x71)):(w['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x242d8d),!(-0x16cd+-0x6ac+0x1d7a));}['play'](_0x340130){_0x340130&&this['_transitio'+'nToState'](_0x340130),this['_playing']=!(0x2b*-0x3b+0x13cc+-0x9e3);}['pause'](){this['_playing']=!(0x1*0x685+-0xa25+0x3a1);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=Co,this['_playing']=!(-0xc44+0xd7c+-0x137*0x1),this['_currTrans'+'itionTime']=0x4c2*0x7+-0x147*-0x3+-0x2522,this['_totalTran'+'sitionTime']=-0x4a*0x15+0x1e90+-0x1*0x187d,this['_isTransit'+'ioning']=!(0x65c+-0x193c+0x12e1),this['_timeInSta'+'te']=-0x178c+-0xe79+0x2605,this['_timeInSta'+'teBefore']=-0x18dd+0x5bc+0x1321,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0x25fc42){if(!this['_playing'])return;let _0x195f21,_0x2ca18a,_0x42ebfc;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0x25fc42*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0x25fc42=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0x1588e3=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0x1588e3&&this['updateStat'+'eFromTrans'+'ition'](_0x1588e3),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0x25fc42,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x23e397=this['_totalTran'+'sitionTime']!==0x10f7+-0x1*-0x20ed+-0x31e4?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x91*-0x3a+0x1e80*0x1+-0x3f59*0x1;for(let _0x201f03=-0x82d+0xcd1+0x129*-0x4;_0x201f03<this['_transitio'+'nPreviousS'+'tates']['length'];_0x201f03++){_0x195f21=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x201f03]['name']);const _0x355f40=this['_transitio'+'nPreviousS'+'tates'][_0x201f03]['weight'];for(let _0x501674=0x372*0x3+0x411+-0x4cd*0x3;_0x501674<_0x195f21['animations']['length'];_0x501674++)_0x2ca18a=_0x195f21['animations'][_0x501674],_0x42ebfc=this['_animEvalu'+'ator']['findClip'](_0x2ca18a['name']+'.previous.'+_0x201f03),_0x42ebfc&&(_0x42ebfc['blendWeigh'+'t']=(-0x21de+-0x3*-0x791+-0x5*-0x23c-_0x23e397)*_0x2ca18a['normalized'+'Weight']*_0x355f40);}_0x195f21=this['activeStat'+'e'];for(let _0x590e78=0x1*0x1ade+-0x656*-0x1+-0x44*0x7d;_0x590e78<_0x195f21['animations']['length'];_0x590e78++)_0x2ca18a=_0x195f21['animations'][_0x590e78],this['_animEvalu'+'ator']['findClip'](_0x2ca18a['name'])['blendWeigh'+'t']=_0x23e397*_0x2ca18a['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(-0x1*-0x7fb+0xcbb*-0x3+0x1e37);const _0xf56af9=this['activeStat'+'eAnimation'+'s']['length'],_0x52f9dc=this['_animEvalu'+'ator']['clips']['length'];for(let _0x2e15a5=0x245e+0xaec+0x2*-0x17a5;_0x2e15a5<_0x52f9dc-_0xf56af9;_0x2e15a5++)this['_animEvalu'+'ator']['removeClip'](0x52*0x7+0x244c+-0x268a);this['_transitio'+'nPreviousS'+'tates']=[],_0x195f21=this['activeStat'+'e'];for(let _0x5ab482=-0x1*-0x25be+0x1a82+0x1010*-0x4;_0x5ab482<_0x195f21['animations']['length'];_0x5ab482++)_0x2ca18a=_0x195f21['animations'][_0x5ab482],_0x42ebfc=this['_animEvalu'+'ator']['findClip'](_0x2ca18a['name']),_0x42ebfc&&(_0x42ebfc['blendWeigh'+'t']=_0x2ca18a['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==ml){_0x195f21=this['activeStat'+'e'];for(let _0x429f2b=-0x793*-0x4+-0x943*-0x3+-0x1*0x3a15;_0x429f2b<_0x195f21['animations']['length'];_0x429f2b++)_0x2ca18a=_0x195f21['animations'][_0x429f2b],_0x42ebfc=this['_animEvalu'+'ator']['findClip'](_0x2ca18a['name']),_0x42ebfc&&(_0x42ebfc['blendWeigh'+'t']=_0x2ca18a['normalized'+'Weight'],_0x2ca18a['parent']['syncAnimat'+'ions']&&(_0x42ebfc['speed']=_0x2ca18a['speed']));}}this['_animEvalu'+'ator']['update'](_0x25fc42,this['activeStat'+'e']['hasAnimati'+'ons']);}}const wf=new J(),Tc=new D(),_o=new re(),go=new ie(),So=new le();class Fi extends Sr{constructor(_0x48d783,_0x8228eb,_0x31803c,_0x491408,_0x563665){super(_0x8228eb),this['animCompon'+'ent']=_0x48d783,this['_mask']=_0x491408,this['layerName']=_0x31803c,this['layerIndex']=_0x563665;}static['_packFloat'](_0x5c14a2){return _0x5c14a2[0x7*0x441+0x5*-0x8f+-0x1afc];}static['_packBoole'+'an'](_0x11db7b){return!!_0x11db7b[0x9ca+0x1e*-0xe6+-0x112a*-0x1];}static['_packVec2'](_0x18ff5f){return wf['x']=_0x18ff5f[0xc2*-0x8+-0xe1d*-0x2+0x1*-0x162a],wf['y']=_0x18ff5f[-0x1faf+0x10bb*-0x2+0x4126],wf;}static['_packVec3'](_0x4f13cf){return Tc['x']=_0x4f13cf[-0x4d*-0xd+-0x89+-0x360],Tc['y']=_0x4f13cf[0xd08+0x2531+-0x3238],Tc['z']=_0x4f13cf[-0xed*-0x18+-0x1*0x1ca3+0x66d],Tc;}static['_packVec4'](_0x1e2742){return _o['x']=_0x1e2742[-0x11ac+0x3*-0x3f3+0x1d85],_o['y']=_0x1e2742[0x6b9*0x1+-0x2663*-0x1+0x9*-0x503],_o['z']=_0x1e2742[0xb93*0x1+-0xa52*0x1+-0x13f],_o['w']=_0x1e2742[-0x911*-0x3+0x657+-0x2187*0x1],_o;}static['_packColor'](_0x51c8c5){return go['r']=_0x51c8c5[-0xffb+0x373*0x2+0x915],go['g']=_0x51c8c5[-0x3*0x9e6+-0x1c75+-0xe8a*-0x4],go['b']=_0x51c8c5[0x351*0x9+-0x2b*0x64+-0xd0b],go['a']=_0x51c8c5[-0x818+0x85d*0x2+-0x89f],go;}static['_packQuat'](_0x3702b7){return So['x']=_0x3702b7[0x1aa0+-0x19*0x33+-0x15a5],So['y']=_0x3702b7[0x708+0xb5*-0x25+0x1322],So['z']=_0x3702b7[0xda1+0x25*0xbf+-0x293a],So['w']=_0x3702b7[-0x15ce+0x5*-0x39d+0x27e2],So;}['resolve'](_0x1c38ef){const _0x423b59=ra['encode'](_0x1c38ef['entityPath'],_0x1c38ef['component'],_0x1c38ef['propertyPa'+'th']);let _0x116139=this['targetCach'+'e'][_0x423b59];if(_0x116139)return _0x116139;let _0x4a96b9,_0x2c767f,_0x40465b;switch(_0x1c38ef['component']){case'entity':_0x4a96b9=this['_getEntity'+'FromHierar'+'chy'](_0x1c38ef['entityPath']),_0x40465b=ra['encode'](_0x4a96b9['path'],'entity',_0x1c38ef['propertyPa'+'th']),_0x2c767f=_0x4a96b9;break;case'graph':if(_0x2c767f=this['findNode'](_0x1c38ef),!_0x2c767f)return null;_0x40465b=ra['encode'](_0x2c767f['path'],'graph',_0x1c38ef['propertyPa'+'th']);break;default:if(_0x4a96b9=this['_getEntity'+'FromHierar'+'chy'](_0x1c38ef['entityPath']),_0x2c767f=_0x4a96b9['findCompon'+'ent'](_0x1c38ef['component']),!_0x2c767f)return null;_0x40465b=ra['encode'](_0x4a96b9['path'],_0x1c38ef['component'],_0x1c38ef['propertyPa'+'th']);break;}return _0x116139=this['_createAni'+'mTargetFor'+'Property'](_0x2c767f,_0x1c38ef['propertyPa'+'th'],_0x40465b),this['targetCach'+'e'][_0x423b59]=_0x116139,_0x116139;}['update'](_0x60cc6f){const _0x58896f=this['activeNode'+'s'];if(_0x58896f){for(let _0x419259=-0x6*-0x261+0x1a8+-0xfee;_0x419259<_0x58896f['length'];_0x419259++)_0x58896f[_0x419259]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x58f694){if(!this['animCompon'+'ent']['entity']['name']===_0x58f694[-0xe3*-0x3+-0x1b*-0x43+-0x9ba*0x1])return null;const _0x893abd=this['animCompon'+'ent']['entity'];return _0x58f694['length']===0x1d9*-0x8+-0x1*0x73+0xf3c?_0x893abd:_0x893abd['_parent']['findByPath'](_0x58f694);}['_resolvePa'+'th'](_0x477bf7,_0x509ab7,_0x52b189){const _0x1c4ea0=_0x509ab7['length']-(_0x52b189?0x2*-0x15+0xdd*-0x25+0x201b:-0xb3e+-0x262c*-0x1+-0x1aed);for(let _0x142456=0x94d*-0x1+-0xecb+0x1818;_0x142456<_0x1c4ea0;_0x142456++)_0x477bf7=_0x477bf7[_0x509ab7[_0x142456]];return _0x477bf7;}['_setter'](_0x2f501b,_0x40ffee,_0x1e9381){const _0x3d8e98=this['_resolvePa'+'th'](_0x2f501b,_0x40ffee),_0x363709=_0x40ffee[_0x40ffee['length']-(-0x599*-0x4+-0x8*-0xf5+-0x1e0b*0x1)],_0x400817='set'+_0x363709['substring'](-0xea+0xe17+0x1*-0xd2d,-0x21d4+0x22e8+-0xb*0x19)['toUpperCas'+'e']()+_0x363709['substring'](-0x20ff*0x1+-0x20f6+0x41f6);if(_0x3d8e98[_0x400817]){let _0x7e164=_0x3d8e98['get'+_0x363709['substring'](-0x2*-0xace+-0x95c+-0xc40,-0x9*0xfb+0x1223+-0x94f)['toUpperCas'+'e']()+_0x363709['substring'](0x613+-0x4*0x8f+0x2*-0x1eb)]['bind'](_0x3d8e98)();_0x7e164=[_0x7e164['x'],_0x7e164['y'],_0x7e164['z'],_0x7e164['w']];const _0x3aaba3=_0x3d8e98[_0x400817]['bind'](_0x3d8e98);return{'set':_0x2456a6=>{_0x3aaba3(_0x1e9381(_0x2456a6));},'get':()=>_0x7e164};}const _0x102ddc=_0x3d8e98[_0x363709];if(typeof _0x102ddc=='object'&&_0x102ddc['hasOwnProp'+'erty']('copy'))return function(_0x160ede){_0x102ddc['copy'](_0x1e9381(_0x160ede));};if([J,D,re,ie,le]['indexOf'](_0x3d8e98['constructo'+'r'])!==-(0xe09+-0x167*-0x19+-0x3117)&&_0x40ffee['length']>-0xa59+0x156b*0x1+-0xb11){const _0x34d14e=_0x40ffee['length']>0x127e+-0x7c4*-0x4+-0x318c?this['_resolvePa'+'th'](_0x2f501b,_0x40ffee['slice'](-0x1*0x1a1+-0x1e*0x13a+0x266d,-(-0x1da8+0x1bfe+0x1ab))):_0x2f501b,_0x45752d=_0x40ffee[_0x40ffee['length']-(-0xd66*0x1+0x1f7*0x1+0x1d*0x65)];return function(_0x26e292){_0x3d8e98[_0x363709]=_0x1e9381(_0x26e292),_0x34d14e[_0x45752d]=_0x3d8e98;};}return function(_0x4d2872){_0x3d8e98[_0x363709]=_0x1e9381(_0x4d2872);};}['_createAni'+'mTargetFor'+'Property'](_0x43867e,_0xd7717b,_0x3a6dec){if(this['handlers']&&_0xd7717b[0x1fc7+0xf17*0x1+-0x2ede]['startsWith']('weight.'))return this['handlers']['weight'](_0x43867e,_0xd7717b[-0x25*-0xa7+0xd3f+-0x2562]['replace']('weight.',''));if(this['handlers']&&_0xd7717b[-0x1d9*0x2+-0x251f+0xd9b*0x3]==='material'&&_0xd7717b['length']===-0x2230+0x1f7f+0x2b3){const _0x3da18f=_0xd7717b[-0xa45*-0x3+0x1*0xc47+-0x2b15];if(_0x3da18f['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x43867e,_0x3da18f);}const _0xf13f35=this['_resolvePa'+'th'](_0x43867e,_0xd7717b,!(0x653+0x8*0x2dd+0x7*-0x42d));if(typeof _0xf13f35>'u')return null;let _0x1bf7dd,_0x179ff4,_0x1a0b16;if(typeof _0xf13f35=='number')_0x1bf7dd=this['_setter'](_0x43867e,_0xd7717b,Fi['_packFloat']),_0x179ff4='vector',_0x1a0b16=0x48d*0x2+-0x1*0x1d58+-0x1*-0x143f;else{if(typeof _0xf13f35=='boolean')_0x1bf7dd=this['_setter'](_0x43867e,_0xd7717b,Fi['_packBoole'+'an']),_0x179ff4='vector',_0x1a0b16=0x124a+-0x2075+0xe2c;else{if(typeof _0xf13f35=='object')switch(_0xf13f35['constructo'+'r']){case J:_0x1bf7dd=this['_setter'](_0x43867e,_0xd7717b,Fi['_packVec2']),_0x179ff4='vector',_0x1a0b16=-0x26ff+0x157*0x5+0x204e;break;case D:_0x1bf7dd=this['_setter'](_0x43867e,_0xd7717b,Fi['_packVec3']),_0x179ff4='vector',_0x1a0b16=0x1*0x2a5+0x2*0xd69+-0x1d74;break;case re:_0x1bf7dd=this['_setter'](_0x43867e,_0xd7717b,Fi['_packVec4']),_0x179ff4='vector',_0x1a0b16=0x1*-0x14ed+-0x1*0x2293+0x44*0xd1;break;case ie:_0x1bf7dd=this['_setter'](_0x43867e,_0xd7717b,Fi['_packColor']),_0x179ff4='vector',_0x1a0b16=-0x990+-0x83*-0x28+0xa4*-0x11;break;case le:_0x1bf7dd=this['_setter'](_0x43867e,_0xd7717b,Fi['_packQuat']),_0x179ff4='quaternion',_0x1a0b16=0x1133+0xf5a+0x2089*-0x1;break;default:return null;}}}return _0xd7717b['indexOf']('material')!==-(0x2ac+-0x13e*-0xd+-0x1*0x12d1)?new xu(_0x46ed5f=>{_0x1bf7dd(_0x46ed5f),_0x43867e['material']['update']();},_0x179ff4,_0x1a0b16,_0x3a6dec):new xu(_0x1bf7dd,_0x179ff4,_0x1a0b16,_0x3a6dec);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0x32939e={},_0xfa685b=function(_0x2af9b0){_0x32939e[_0x2af9b0['name']]=_0x2af9b0;for(let _0x483d72=-0x21f3+0x3b5+0x1e3e;_0x483d72<_0x2af9b0['children']['length'];++_0x483d72)_0xfa685b(_0x2af9b0['children'][_0x483d72]);};_0xfa685b(this['graph']),this['nodes']=_0x32939e;}}class kL{constructor(_0x531fb1,_0x566bca,_0x364c16,_0x5c3a89=-0x58f*0x6+0x6d9*0x3+-0xa4*-0x14,_0x53dde3=Vv){h(this,'_name'),h(this,'_controlle'+'r'),h(this,'_component'),h(this,'_weight'),h(this,'_blendType'),h(this,'_mask',null),h(this,'_blendTime',-0x2ec+-0x92b*0x1+0xc17),h(this,'_blendTime'+'Elapsed',-0x65*0x13+-0x88c+0x3*0x559),h(this,'_startingW'+'eight',0x957+-0x10e1+-0x2*-0x3c5),h(this,'_targetWei'+'ght',0x1*-0x2031+-0x143f+-0x8*-0x68e),(this['_name']=_0x531fb1,this['_controlle'+'r']=_0x566bca,this['_component']=_0x364c16,this['_weight']=_0x5c3a89,this['_blendType']=_0x53dde3);}get['name'](){return this['_name'];}set['playing'](_0x10f2e7){this['_controlle'+'r']['playing']=_0x10f2e7;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x3e1f37){const _0x2467c4=this['_controlle'+'r'],_0x1e0ddb=_0x2467c4['playing'];_0x2467c4['playing']=!(0x3f*-0x49+0x1*0x101e+0x1d9),_0x2467c4['activeStat'+'eCurrentTi'+'me']=_0x3e1f37,_0x1e0ddb||_0x2467c4['update'](-0x16*0xb7+-0x1a1c+-0xee*-0x2d),_0x2467c4['playing']=_0x1e0ddb;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x574219){this['_weight']=_0x574219,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x8e0458){_0x8e0458!==this['_blendType']&&(this['_blendType']=_0x8e0458,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x256427){this['_controlle'+'r']['assignMask'](_0x256427)&&this['_component']['rebind'](),this['_mask']=_0x256427;}get['mask'](){return this['_mask'];}['play'](_0x34e0ec){this['_controlle'+'r']['play'](_0x34e0ec);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x2a595b){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=Y['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x2a595b):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=0x2407+0x19c4+-0x3dcb,this['_blendTime'+'Elapsed']=-0x71+-0x158f*0x1+0x1600,this['_startingW'+'eight']=0x67*0x19+-0x162d*-0x1+-0x4*0x80f,this['_targetWei'+'ght']=0x8*0xc5+0xbb9+-0xc7*0x17)),this['_controlle'+'r']['update'](_0x2a595b);}['blendToWei'+'ght'](_0x49f8a6,_0x51d7ad){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x49f8a6,this['_blendTime']=Math['max'](0x16b2+-0x26f+-0x1443,_0x51d7ad),this['_blendTime'+'Elapsed']=0x46d*-0x3+-0x3e*0x4a+0x1*0x1f33;}['assignAnim'+'ation'](_0x89c685,_0x464c6a,_0x270f49,_0x1747a0){if(!(_0x464c6a instanceof Qi)){w['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x89c685,_0x464c6a,_0x270f49,_0x1747a0),this['_controlle'+'r']['_transitio'+'ns']['length']===0x98c+-0x17e0+0x1c*0x83&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Lh({'from':'START','to':_0x89c685})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(-0xd*-0x2f5+-0x460*-0x8+-0x3*0x187b));}['removeNode'+'Animations'](_0x1a6568){this['_controlle'+'r']['removeNode'+'Animations'](_0x1a6568)&&(this['_component']['playing']=!(-0x5c4*-0x1+-0x905+0x342));}['getAnimati'+'onAsset'](_0x43cf45){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x43cf45];}['transition'](_0x31801e,_0x112841=-0x49b*0x7+0x2ed*-0x5+0x2ede,_0x319415=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Lh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x31801e,'time':_0x112841,'transitionOffset':_0x319415}));}}class Jc{constructor(_0x5d8bfe){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x5d8bfe['layers']))this['_layers']=_0x5d8bfe['layers'];else for(const _0x24c0ac in _0x5d8bfe['layers']){const _0x54a8e4=_0x5d8bfe['layers'][_0x24c0ac],_0x58524b={'name':_0x54a8e4['name'],'blendType':_0x54a8e4['blendType'],'weight':_0x54a8e4['weight'],'states':[],'transitions':[]};for(let _0x5caa6e=-0x1e5e+-0x61*-0x26+-0x2*-0x7fc;_0x5caa6e<_0x54a8e4['states']['length'];_0x5caa6e++)_0x58524b['states']['push'](_0x5d8bfe['states'][_0x54a8e4['states'][_0x5caa6e]]);for(let _0x5ec2df=-0xe5*0x5+-0x3*0x921+0xfee*0x2;_0x5ec2df<_0x54a8e4['transition'+'s']['length'];_0x5ec2df++){const _0x56c5a2=_0x5d8bfe['transition'+'s'][_0x54a8e4['transition'+'s'][_0x5ec2df]];if(_0x56c5a2['conditions']&&!Array['isArray'](_0x56c5a2['conditions'])){const _0x24ff3f=Object['keys'](_0x56c5a2['conditions']),_0x979f5d=[];for(let _0x45d8bb=0x1*0xa3d+-0xf4e+0x511*0x1;_0x45d8bb<_0x24ff3f['length'];_0x45d8bb++){const _0x285b6e=_0x56c5a2['conditions'][_0x24ff3f[_0x45d8bb]];_0x285b6e['parameterN'+'ame']&&_0x979f5d['push'](_0x285b6e);}_0x56c5a2['conditions']=_0x979f5d;}Number['isInteger'](_0x56c5a2['from'])&&(_0x56c5a2['from']=_0x5d8bfe['states'][_0x56c5a2['from']]['name']),Number['isInteger'](_0x56c5a2['to'])&&(_0x56c5a2['to']=_0x5d8bfe['states'][_0x56c5a2['to']]['name']),_0x58524b['transition'+'s']['push'](_0x56c5a2);}this['_layers']['push'](_0x58524b);}for(const _0x49c512 in _0x5d8bfe['parameters']){const _0x584e3e=_0x5d8bfe['parameters'][_0x49c512];this['_parameter'+'s'][_0x584e3e['name']]={'type':_0x584e3e['type'],'value':_0x584e3e['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class $v extends we{constructor(){super(...arguments),h(this,'_stateGrap'+'hAsset',null),h(this,'_animation'+'Assets',{}),h(this,'_speed',-0x1*0x945+0xbdc+0x14b*-0x2),h(this,'_activate',!(0x1895+-0x1*-0x6f1+0xa82*-0x3)),h(this,'_playing',!(0x2321+0x821*0x3+-0xbe7*0x5)),h(this,'_rootBone',null),h(this,'_stateGrap'+'h',null),h(this,'_layers',[]),h(this,'_layerIndi'+'ces',{}),h(this,'_parameter'+'s',{}),h(this,'_targets',{}),h(this,'_consumedT'+'riggers',new Set()),h(this,'_normalize'+'Weights',!(-0x1203+-0x6*0x674+0x38bc)),h(this,'findParame'+'ter',_0x242af5=>this['_parameter'+'s'][_0x242af5]),h(this,'consumeTri'+'gger',_0x5d228a=>{this['_consumedT'+'riggers']['add'](_0x5d228a);});}set['stateGraph'+'Asset'](_0x4f29f9){if(_0x4f29f9===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x1a3b6c,_0x2c8cf9;_0x4f29f9 instanceof pe?(_0x1a3b6c=_0x4f29f9['id'],_0x2c8cf9=this['system']['app']['assets']['get'](_0x1a3b6c),_0x2c8cf9||(this['system']['app']['assets']['add'](_0x4f29f9),_0x2c8cf9=this['system']['app']['assets']['get'](_0x1a3b6c))):(_0x1a3b6c=_0x4f29f9,_0x2c8cf9=this['system']['app']['assets']['get'](_0x1a3b6c)),!(!_0x2c8cf9||this['_stateGrap'+'hAsset']===_0x1a3b6c)&&(_0x2c8cf9['resource']?(this['_stateGrap'+'h']=_0x2c8cf9['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x2c8cf9['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x2c8cf9['once']('load',_0x1d91f8=>{this['_stateGrap'+'h']=_0x1d91f8['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x2c8cf9['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x2c8cf9)),this['_stateGrap'+'hAsset']=_0x1a3b6c);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x32f8cd){this['_normalize'+'Weights']=_0x32f8cd,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x2755be){this['_animation'+'Assets']=_0x2755be,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x46c516){this['_speed']=_0x46c516;}get['speed'](){return this['_speed'];}set['activate'](_0x12134d){this['_activate']=_0x12134d;}get['activate'](){return this['_activate'];}set['playing'](_0x24ea8f){this['_playing']=_0x24ea8f;}get['playing'](){return this['_playing'];}set['rootBone'](_0x59ab8f){if(typeof _0x59ab8f=='string'){const _0x2f2539=this['entity']['root']['findByGuid'](_0x59ab8f);w['assert'](_0x2f2539,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x59ab8f+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x2f2539;}else _0x59ab8f instanceof lt?this['_rootBone']=_0x59ab8f:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x5c9161){this['_stateGrap'+'h']=_0x5c9161;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x570e3d){this['_layerIndi'+'ces']=_0x570e3d;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x5b8130){this['_parameter'+'s']=_0x5b8130;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x4e2750){this['_targets']=_0x4e2750;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x46adaf=-0x3*-0x3b7+-0x2056+0x1531;_0x46adaf<this['_layers']['length'];_0x46adaf++)if(!this['_layers'][_0x46adaf]['playable'])return!(0x376*-0x7+-0x1364+-0xd*-0x35b);return!(-0x1a8+0x26d6+-0x1297*0x2);}get['baseLayer'](){return this['_layers']['length']>0x4*0x272+-0x6b*0x2f+0x9dd?this['_layers'][-0xba7+-0x6a6*0x2+0x18f3]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x37af29){const _0xaa08ba=this['animationA'+'ssets'],_0x22ab62=this['layers']['map'](_0x5c8a30=>_0x5c8a30['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new Jc(_0x37af29['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0xaa08ba,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x1a4eed,_0x3cb506)=>{_0x1a4eed['mask']=_0x22ab62[_0x3cb506];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x32f299=Object['values'](this['_targets']);for(let _0x10b1c2=-0x1081+0x1804+-0x281*0x3;_0x10b1c2<_0x32f299['length'];_0x10b1c2++)_0x32f299[_0x10b1c2]['dirty']=!(0x24da+0x22f4+-0x47ce);}['_addLayer']({name:_0x315237,states:_0x2f5deb,transitions:_0x4b41be,weight:_0x295373,mask:_0x562649,blendType:_0x204f78}){let _0x129268;this['rootBone']?_0x129268=this['rootBone']:_0x129268=this['entity'];const _0xb33dcc=this['_layers']['length'],_0x472e21=new Fi(this,_0x129268,_0x315237,_0x562649,_0xb33dcc),_0x5c8e9f=new Gv(_0x472e21),_0x44e889=new NL(_0x5c8e9f,_0x2f5deb,_0x4b41be,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new kL(_0x315237,_0x44e889,this,_0x295373,_0x204f78)),this['_layerIndi'+'ces'][_0x315237]=_0xb33dcc,this['_layers'][_0xb33dcc];}['addLayer'](_0x99cc59,_0x1517e1,_0x1f5ac6,_0x196fd6){const _0x28bba5=this['findAnimat'+'ionLayer'](_0x99cc59);if(_0x28bba5)return _0x28bba5;const _0x20daa1=[{'name':'START','speed':0x1}],_0x30c637=[];return this['_addLayer']({'name':_0x99cc59,'states':_0x20daa1,'transitions':_0x30c637,'weight':_0x1517e1,'mask':_0x1f5ac6,'blendType':_0x196fd6});}['_assignPar'+'ameters'](_0x17fc32){this['_parameter'+'s']={};const _0x2f1bc6=Object['keys'](_0x17fc32['parameters']);for(let _0x572c3d=-0x67a+0x12*-0xa3+0x11f0;_0x572c3d<_0x2f1bc6['length'];_0x572c3d++){const _0x4e8230=_0x2f1bc6[_0x572c3d];this['_parameter'+'s'][_0x4e8230]={'type':_0x17fc32['parameters'][_0x4e8230]['type'],'value':_0x17fc32['parameters'][_0x4e8230]['value']};}}['loadStateG'+'raph'](_0x1be9e6){this['_stateGrap'+'h']=_0x1be9e6,this['_assignPar'+'ameters'](_0x1be9e6),this['_layers']=[];let _0x16b990=!(-0x24d*0x4+0x1*-0x427+0xd5c);for(let _0xe1eeae=0x1*-0x1c61+0x1*-0xe6e+-0x27*-0x119;_0xe1eeae<_0x1be9e6['layers']['length'];_0xe1eeae++){const _0x4eec77=_0x1be9e6['layers'][_0xe1eeae];this['_addLayer']({..._0x4eec77}),_0x4eec77['states']['some'](_0xbb8129=>_0xbb8129['blendTree'])&&(_0x16b990=!(-0x2e1*-0xd+0x106+-0x2673));}_0x16b990||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x16da9f=0x158a+-0x209*-0x12+-0x36c*0x11;_0x16da9f<this['_layers']['length'];_0x16da9f++){const _0x3d4806=this['_layers'][_0x16da9f],_0x451336=_0x3d4806['name'];for(let _0x333724=-0x1*0x647+0x11f*0x8+0x35*-0xd;_0x333724<_0x3d4806['states']['length'];_0x333724++){const _0x427e5c=_0x3d4806['states'][_0x333724];if(Ih['indexOf'](_0x427e5c)===-(-0x20*-0x86+0x24c2+-0x3581*0x1)){const _0x102b9d=_0x451336+':'+_0x427e5c;this['_animation'+'Assets'][_0x102b9d]||(this['_animation'+'Assets'][_0x102b9d]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x5b9a6e=0x12*0xe8+-0x25f5+0x15a5;_0x5b9a6e<this['_layers']['length'];_0x5b9a6e++){const _0x241a5c=this['_layers'][_0x5b9a6e];for(let _0xcb3ee3=-0x13*-0xd9+-0xfd4+-0x47;_0xcb3ee3<_0x241a5c['states']['length'];_0xcb3ee3++){const _0xc5ded6=_0x241a5c['states'][_0xcb3ee3];if(Ih['indexOf'](_0xc5ded6)!==-(-0xc2f+-0x2065*-0x1+-0x1435))continue;const _0x5e0f2c=this['_animation'+'Assets'][_0x241a5c['name']+':'+_0xc5ded6];if(!_0x5e0f2c||!_0x5e0f2c['asset']){this['findAnimat'+'ionLayer'](_0x241a5c['name'])['assignAnim'+'ation'](_0xc5ded6,Qi['EMPTY']);continue;}const _0x55a07d=_0x5e0f2c['asset'],_0x3eb0ee=this['system']['app']['assets']['get'](_0x55a07d);_0x3eb0ee&&(_0x3eb0ee['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x241a5c['name'],_0xc5ded6,_0x3eb0ee):(_0x3eb0ee['once']('load',function(_0x695c5a,_0x430f64){return function(_0x68ebb6){this['onAnimatio'+'nAssetLoad'+'ed'](_0x695c5a,_0x430f64,_0x68ebb6);}['bind'](this);}['bind'](this)(_0x241a5c['name'],_0xc5ded6)),this['system']['app']['assets']['load'](_0x3eb0ee)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x1db38b,_0x26966f,_0xa50c8c){this['findAnimat'+'ionLayer'](_0x1db38b)['assignAnim'+'ation'](_0x26966f,_0xa50c8c['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0xfb8+-0xc8*-0x9+0x19*0x59),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0xe252fd=0x1b2b+-0x1b7f*-0x1+0x2*-0x1b55;_0xe252fd<this['_layers']['length'];_0xe252fd++){const _0x29c4d0=this['_layers'][_0xe252fd]['playing'];this['_layers'][_0xe252fd]['reset'](),this['_layers'][_0xe252fd]['playing']=_0x29c4d0;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x2b27bc=>{this['_targets'][_0x2b27bc]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x2af8d3=0xff1+-0x7d*-0x26+-0x1*0x227f;_0x2af8d3<this['_layers']['length'];_0x2af8d3++)this['_layers'][_0x2af8d3]['rebind']();}['findAnimat'+'ionLayer'](_0x59deed){const _0x669831=this['_layerIndi'+'ces'][_0x59deed];return this['_layers'][_0x669831]||null;}['addAnimati'+'onState'](_0x6dc700,_0x2acb20,_0x3a9b4d=-0x9f4+0x1*0x24c7+-0x1ad2,_0x319d17=!(0x1203+0x1*-0x133f+-0x1*-0x13c),_0x41108c='Base'){var _0x229a84;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new Jc({'layers':[{'name':_0x41108c,'states':[{'name':'START','speed':0x1},{'name':_0x6dc700,'speed':_0x3a9b4d,'loop':_0x319d17,'defaultState':!(-0x2*0xdc7+0x511+0x167d)}],'transitions':[{'from':'START','to':_0x6dc700}]}],'parameters':{}}));const _0x40c313=this['findAnimat'+'ionLayer'](_0x41108c);_0x40c313?_0x40c313['assignAnim'+'ation'](_0x6dc700,_0x2acb20,_0x3a9b4d,_0x319d17):(_0x229a84=this['addLayer'](_0x41108c))==null||_0x229a84['assignAnim'+'ation'](_0x6dc700,_0x2acb20,_0x3a9b4d,_0x319d17);}['assignAnim'+'ation'](_0xc0e64a,_0x11f071,_0x34afcc,_0x134f2d=0x174d*0x1+0xd3*-0x26+-0x4f*-0x1a,_0x19c09c=!(0x9*0xd9+-0x95*0x3d+0x1be0)){if(!this['_stateGrap'+'h']&&_0xc0e64a['indexOf']('.')===-(0x6*0x650+-0x18cc+-0xd13)){this['loadStateG'+'raph'](new Jc({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0xc0e64a,'speed':_0x134f2d,'loop':_0x19c09c,'defaultState':!(0x180f+0x1dd4+-0x35e3)}],'transitions':[{'from':'START','to':_0xc0e64a}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0xc0e64a,_0x11f071);return;}const _0x25d108=_0x34afcc?this['findAnimat'+'ionLayer'](_0x34afcc):this['baseLayer'];if(!_0x25d108){w['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x25d108['assignAnim'+'ation'](_0xc0e64a,_0x11f071,_0x134f2d,_0x19c09c);}['removeNode'+'Animations'](_0x270604,_0x559a2b){const _0x4238f1=_0x559a2b?this['findAnimat'+'ionLayer'](_0x559a2b):this['baseLayer'];if(!_0x4238f1){w['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x4238f1['removeNode'+'Animations'](_0x270604);}['getParamet'+'erValue'](_0x19dc97,_0x2f23cf){const _0xe58799=this['_parameter'+'s'][_0x19dc97];if(_0xe58799&&_0xe58799['type']===_0x2f23cf)return _0xe58799['value'];w['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x19dc97+('\x22\x20of\x20type\x20'+'\x22')+_0x2f23cf+'\x22');}['setParamet'+'erValue'](_0x44d775,_0x484df9,_0x511b5c){const _0x5ac333=this['_parameter'+'s'][_0x44d775];if(_0x5ac333&&_0x5ac333['type']===_0x484df9){_0x5ac333['value']=_0x511b5c;return;}w['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x44d775+('\x22\x20of\x20type\x20'+'\x22')+_0x484df9+'\x22');}['getFloat'](_0x119ea9){return this['getParamet'+'erValue'](_0x119ea9,Rg);}['setFloat'](_0x12d97e,_0xb488da){this['setParamet'+'erValue'](_0x12d97e,Rg,_0xb488da);}['getInteger'](_0x57bd2c){return this['getParamet'+'erValue'](_0x57bd2c,Lg);}['setInteger'](_0x177ac6,_0x53b092){typeof _0x53b092=='number'&&_0x53b092%(-0x124c+-0x9*-0x11f+-0x41b*-0x2)===-0x1364+-0x897+0x1bfb?this['setParamet'+'erValue'](_0x177ac6,Lg,_0x53b092):w['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x177ac6,_0x53b092);}['getBoolean'](_0x29cd76){return this['getParamet'+'erValue'](_0x29cd76,Og);}['setBoolean'](_0x4d23ef,_0x2a9b66){this['setParamet'+'erValue'](_0x4d23ef,Og,!!_0x2a9b66);}['getTrigger'](_0x1f0e21){return this['getParamet'+'erValue'](_0x1f0e21,Qc);}['setTrigger'](_0x1550f5,_0x58d6af=!(-0xe26+0xc9d*0x1+0x18a)){this['setParamet'+'erValue'](_0x1550f5,Qc,!(0x2*0xba7+0x18cc+0x2f*-0x106)),_0x58d6af&&this['_consumedT'+'riggers']['add'](_0x1550f5);}['resetTrigg'+'er'](_0x5788cb){this['setParamet'+'erValue'](_0x5788cb,Qc,!(0x20e*0xb+0x1101+-0x279a));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x5b6e95){for(let _0x2f779f=-0xdb2*0x1+-0x22*0xf3+0x4*0xb7e;_0x2f779f<this['layers']['length'];_0x2f779f++)this['layers'][_0x2f779f]['update'](_0x5b6e95*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x322d6c=>{this['parameters'][_0x322d6c]['value']=!(0x1*-0x6df+-0x1fb+-0x1*-0x8db);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x497624,_0x232d10){_0x497624['rootBone']&&_0x232d10[_0x497624['rootBone']['getGuid']()]?this['rootBone']=_0x232d10[_0x497624['rootBone']['getGuid']()]:this['rebind']();}}class UL{constructor(){this['enabled']=!(0xf08+0x35*0x9+-0x10e5);}}const bu=['enabled'];class BL extends ct{constructor(_0x2a0ef1){super(_0x2a0ef1),this['id']='anim',this['ComponentT'+'ype']=$v,this['DataType']=UL,this['schema']=bu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x209519,_0x7939e0,_0x31c488){super['initialize'+'ComponentD'+'ata'](_0x209519,_0x7939e0,bu);const _0x5b09b7=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x7939e0)['forEach'](_0xf47654=>{_0x5b09b7['includes'](_0xf47654)||(_0x209519[_0xf47654]=_0x7939e0[_0xf47654]);}),_0x7939e0['stateGraph']&&(_0x209519['stateGraph']=_0x7939e0['stateGraph'],_0x209519['loadStateG'+'raph'](_0x209519['stateGraph'])),_0x7939e0['layers']&&_0x7939e0['layers']['forEach']((_0x565a59,_0x467cf9)=>{_0x565a59['_controlle'+'r']['states']['forEach'](_0xc2929a=>{_0x565a59['_controlle'+'r']['_states'][_0xc2929a]['_animation'+'List']['forEach'](_0x40d2fa=>{if(!_0x40d2fa['animTrack']||_0x40d2fa['animTrack']===Qi['EMPTY']){const _0x151b9b=this['app']['assets']['get'](_0x565a59['_component']['_animation'+'Assets'][_0x565a59['name']+':'+_0x40d2fa['name']]['asset']);_0x151b9b&&!_0x151b9b['loaded']&&_0x151b9b['once']('load',()=>{_0x209519['layers'][_0x467cf9]['assignAnim'+'ation'](_0x40d2fa['name'],_0x151b9b['resource']);});}else _0x209519['layers'][_0x467cf9]['assignAnim'+'ation'](_0x40d2fa['name'],_0x40d2fa['animTrack']);});});}),_0x7939e0['animationA'+'ssets']&&(_0x209519['animationA'+'ssets']=Object['assign'](_0x209519['animationA'+'ssets'],_0x7939e0['animationA'+'ssets'])),_0x7939e0['masks']&&Object['keys'](_0x7939e0['masks'])['forEach'](_0x359d62=>{if(_0x209519['layers'][_0x359d62]){const _0x1cd13b=_0x7939e0['masks'][_0x359d62]['mask'],_0x1dba3e={};Object['keys'](_0x1cd13b)['forEach'](_0x1f6e0b=>{_0x1dba3e[decodeURI(_0x1f6e0b)]=_0x1cd13b[_0x1f6e0b];}),_0x209519['layers'][_0x359d62]['mask']=_0x1dba3e;}});}['onAnimatio'+'nUpdate'](_0x4d6f2c){const _0x5244e9=this['store'];for(const _0x2be0c3 in _0x5244e9)if(_0x5244e9['hasOwnProp'+'erty'](_0x2be0c3)){const _0x420562=_0x5244e9[_0x2be0c3]['entity']['anim'];_0x420562['data']['enabled']&&_0x420562['entity']['enabled']&&_0x420562['playing']&&_0x420562['update'](_0x4d6f2c);}}['cloneCompo'+'nent'](_0x986200,_0x454f92){let _0x37b091;(!_0x986200['anim']['rootBone']||_0x986200['anim']['rootBone']===_0x986200)&&(_0x37b091={},_0x986200['anim']['layers']['forEach']((_0x5dbf6e,_0x4823eb)=>{if(_0x5dbf6e['mask']){const _0x28ec28={};Object['keys'](_0x5dbf6e['mask'])['forEach'](_0xe837be=>{const _0x81655=_0xe837be['split']('/');_0x81655['shift']();const _0x5bd014=[_0x454f92['name'],..._0x81655]['join']('/');_0x28ec28[_0x5bd014]=_0x5dbf6e['mask'][_0xe837be];}),_0x37b091[_0x4823eb]={'mask':_0x28ec28};}}));const _0x59b2ec={'enabled':_0x986200['anim']['enabled'],'stateGraphAsset':_0x986200['anim']['stateGraph'+'Asset'],'animationAssets':_0x986200['anim']['animationA'+'ssets'],'speed':_0x986200['anim']['speed'],'activate':_0x986200['anim']['activate'],'playing':_0x986200['anim']['playing'],'rootBone':_0x986200['anim']['rootBone'],'stateGraph':_0x986200['anim']['stateGraph'],'layers':_0x986200['anim']['layers'],'layerIndices':_0x986200['anim']['layerIndic'+'es'],'parameters':_0x986200['anim']['parameters'],'normalizeWeights':_0x986200['anim']['normalizeW'+'eights'],'masks':_0x37b091};return this['addCompone'+'nt'](_0x454f92,_0x59b2ec);}['onBeforeRe'+'move'](_0x420ad3,_0x26acc2){_0x26acc2['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}we['_buildAcce'+'ssors']($v['prototype'],bu);class Xv extends we{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x51798b=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x51798b);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class zL{constructor(){this['enabled']=!(-0x177+0x19db+-0x1864);}}const qv=['enabled'];class VL extends ct{constructor(_0xd33c1){super(_0xd33c1),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Xv,this['DataType']=zL,this['schema']=qv,this['manager']=_0xd33c1['soundManag'+'er'],w['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x9fdeb5,_0x45f70b,_0x3ee653){_0x3ee653=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x9fdeb5,_0x45f70b,_0x3ee653);}['onUpdate'](_0x1c4ef9){if(this['current']){const _0x2fcdab=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0x2fcdab);const _0x543444=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x543444);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Xv['prototype'],qv);const Au=0x2320+-0x3*-0x337+-0x2cc5,Ng=-0x9d4+0xee+0x8e7*0x1,eh='group',Cu='image',jv='text',th='stretch',GL='contain',HL='cover',ft={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},kl={};kl[ft['DEFAULT']]='_defaultTi'+'nt',kl[ft['HOVER']]='hoverTint',kl[ft['PRESSED']]='pressedTin'+'t',kl[ft['INACTIVE']]='inactiveTi'+'nt';const Ul={};Ul[ft['DEFAULT']]='_defaultSp'+'riteAsset',Ul[ft['HOVER']]='hoverSprit'+'eAsset',Ul[ft['PRESSED']]='pressedSpr'+'iteAsset',Ul[ft['INACTIVE']]='inactiveSp'+'riteAsset';const Bl={};Bl[ft['DEFAULT']]='_defaultSp'+'riteFrame',Bl[ft['HOVER']]='hoverSprit'+'eFrame',Bl[ft['PRESSED']]='pressedSpr'+'iteFrame',Bl[ft['INACTIVE']]='inactiveSp'+'riteFrame';class It extends we{constructor(_0x3517e9,_0xc250e){super(_0x3517e9,_0xc250e),h(this,'_visualSta'+'te',ft['DEFAULT']),h(this,'_isHoverin'+'g',!(-0x263*-0xd+0x87b+-0x2781)),h(this,'_hoveringC'+'ounter',0xc4b*0x1+-0x3*-0x6c5+-0x209a),h(this,'_isPressed',!(0x11f0+0x8fa*-0x4+0x11f9)),h(this,'_defaultTi'+'nt',new ie(0x19e8+0x10*0x8e+-0x22c7,-0x5e3+-0xf*-0x274+-0x1ee8,0x44f*0x7+-0x19*-0x151+-0x3f11,0x1*0x1f0d+-0x6f1+0x181b*-0x1)),h(this,'_defaultSp'+'riteAsset',null),h(this,'_defaultSp'+'riteFrame',-0x1*-0xc15+0x1*-0x1fc9+0xc2*0x1a),h(this,'_imageEnti'+'ty',null),h(this,'_evtElemen'+'tAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),h(this,'_evtImageE'+'ntityEleme'+'ntColor',null),h(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=ft['DEFAULT'],this['_isHoverin'+'g']=!(0x9*-0x5d+0x1*0xa49+-0x703),this['_hoveringC'+'ounter']=0x1eec+0x2*-0x233+-0x1a86,this['_isPressed']=!(0x10e4+0x2220+-0x3303),this['_defaultTi'+'nt']=new ie(-0x1e8a+0x2663+-0x7d8,-0x1632+-0xd02+0x2335,0x1b*0xe5+0x139*0xd+-0x280b*0x1,-0xcc8+0x335*-0x3+0x1668),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=-0x16af*-0x1+-0x3*0x5a8+-0x5b7,this['_toggleLif'+'ecycleList'+'eners']('on',_0x3517e9));}get['data'](){const _0x5b1297=this['system']['store'][this['entity']['getGuid']()];return _0x5b1297?_0x5b1297['data']:null;}set['enabled'](_0x30a9c0){this['_setValue']('enabled',_0x30a9c0);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x4efdbd){this['_setValue']('active',_0x4efdbd);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x106c3a){if(this['_imageEnti'+'ty']!==_0x106c3a){const _0x53216d=typeof _0x106c3a=='string';if(this['_imageEnti'+'ty']&&_0x53216d&&this['_imageEnti'+'ty']['getGuid']()===_0x106c3a)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x106c3a instanceof Ie?this['_imageEnti'+'ty']=_0x106c3a:_0x53216d?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x106c3a)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x53216d&&_0x106c3a&&(this['data']['imageEntit'+'y']=_0x106c3a);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x530774){this['_setValue']('hitPadding',_0x530774);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0xc199cc){this['_setValue']('transition'+'Mode',_0xc199cc);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x137496){this['_setValue']('hoverTint',_0x137496);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x1e2bc6){this['_setValue']('pressedTin'+'t',_0x1e2bc6);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0x448396){this['_setValue']('inactiveTi'+'nt',_0x448396);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0xac8999){this['_setValue']('fadeDurati'+'on',_0xac8999);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x1aa7ee){this['_setValue']('hoverSprit'+'eAsset',_0x1aa7ee);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x2d6033){this['_setValue']('hoverSprit'+'eFrame',_0x2d6033);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0xb8d08f){this['_setValue']('pressedSpr'+'iteAsset',_0xb8d08f);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x5e3a0b){this['_setValue']('pressedSpr'+'iteFrame',_0x5e3a0b);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0x43b8c3){this['_setValue']('inactiveSp'+'riteAsset',_0x43b8c3);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0x2981e2){this['_setValue']('inactiveSp'+'riteFrame',_0x2981e2);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x23411b,_0x312cb5){const _0x1ab82d=this['data'],_0x456e0a=_0x1ab82d[_0x23411b];_0x1ab82d[_0x23411b]=_0x312cb5,this['fire']('set',_0x23411b,_0x456e0a,_0x312cb5);}['_toggleLif'+'ecycleList'+'eners'](_0x86afd8,_0x96ed11){var _0x536551;this[_0x86afd8]('set_active',this['_onSetActi'+'ve'],this),this[_0x86afd8]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x86afd8]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x86afd8]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x86afd8]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x86afd8]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x86afd8]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x86afd8]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x86afd8]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x86afd8]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x86afd8]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x86afd8==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x536551=this['_evtElemen'+'tAdd'])==null||_0x536551['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x31a19b,_0x52bc50,_0x2fa545){_0x52bc50!==_0x2fa545&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x2cbe01,_0x4b196b,_0x45efb9){_0x4b196b!==_0x45efb9&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x4b196b),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x45bbf9,_0x846a7c,_0x1a97f7){_0x846a7c!==_0x1a97f7&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x5f3243,_0x3b8ada;(_0x5f3243=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x5f3243['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x3b8ada=this['_imageEnti'+'ty'])!=null&&_0x3b8ada['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x2c5fc4=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x2c5fc4['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x2c5fc4['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x2c5fc4['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x2c5fc4['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x2c5fc4['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x2f1f8d,_0x4a915b,_0x24b86c,_0x20889f,_0x2ed456;(_0x2f1f8d=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x2f1f8d['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x4a915b=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x4a915b['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x24b86c=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x24b86c['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x20889f=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x20889f['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x2ed456=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x2ed456['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x431e38){if(this['entity']['element']){const _0x171ae3=_0x431e38==='on';if(_0x171ae3&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x431e38]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x431e38]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x431e38]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x431e38]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x431e38]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x431e38]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x431e38]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x431e38]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x431e38]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x431e38]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x431e38]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x431e38]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x431e38]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x431e38]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x171ae3;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x251ea7;const _0x36aa82=(_0x251ea7=this['_imageEnti'+'ty'])==null?void(0x745+-0x1e97+0x1752):_0x251ea7['element'];!_0x36aa82||_0x36aa82['type']===eh||(this['_storeDefa'+'ultColor'](_0x36aa82['color']),this['_storeDefa'+'ultOpacity'](_0x36aa82['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x36aa82['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x36aa82['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x3e3832){this['_defaultTi'+'nt']['r']=_0x3e3832['r'],this['_defaultTi'+'nt']['g']=_0x3e3832['g'],this['_defaultTi'+'nt']['b']=_0x3e3832['b'];}['_storeDefa'+'ultOpacity'](_0x76786e){this['_defaultTi'+'nt']['a']=_0x76786e;}['_storeDefa'+'ultSpriteA'+'sset'](_0x1748a1){this['_defaultSp'+'riteAsset']=_0x1748a1;}['_storeDefa'+'ultSpriteF'+'rame'](_0x4150f1){this['_defaultSp'+'riteFrame']=_0x4150f1;}['_onSetColo'+'r'](_0x18e822){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x18e822),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x3ad540){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x3ad540),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x4a1f3a){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x4a1f3a),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x1d4918){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x1d4918),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x2859e6){this['_isHoverin'+'g']=!(-0x147*0xf+-0x1345*0x1+-0x266e*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x2859e6);}['_onMouseLe'+'ave'](_0x5ca4d0){this['_isHoverin'+'g']=!(-0x253+-0x24de+0x2732),this['_isPressed']=!(0x566*0x2+0x222c+-0x2cf7),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x5ca4d0);}['_onMouseDo'+'wn'](_0x1b9868){this['_isPressed']=!(-0x158c+-0x251*0x2+0x1a2e),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x1b9868);}['_onMouseUp'](_0x418fae){this['_isPressed']=!(-0xbaa+-0x310+-0x4e9*-0x3),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x418fae);}['_onTouchSt'+'art'](_0x4303b8){this['_isPressed']=!(0x3*0x8f5+0x1*-0x10b1+-0x517*0x2),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x4303b8);}['_onTouchEn'+'d'](_0xb66682){_0xb66682['event']['preventDef'+'ault'](),this['_isPressed']=!(-0x13*-0x86+-0x1e57+0x2ea*0x7),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0xb66682);}['_onTouchLe'+'ave'](_0x768280){this['_isPressed']=!(-0x546+-0x98a+0xed1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x768280);}['_onTouchCa'+'ncel'](_0x1f2400){this['_isPressed']=!(-0x159f+-0x265b+-0xb9*-0x53),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x1f2400);}['_onSelectS'+'tart'](_0x4cd336){this['_isPressed']=!(-0x14d*-0x9+-0x13*0x1d3+0x16f4),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0x4cd336);}['_onSelectE'+'nd'](_0x5154f0){this['_isPressed']=!(0x189*-0x1+-0x1*-0x136b+0x11e1*-0x1),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x5154f0);}['_onSelectE'+'nter'](_0x517a30){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===0x6b8+0x4a8*0x7+-0x274f&&(this['_isHoverin'+'g']=!(-0x5*0x367+-0x17e6+0x1*0x28e9),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x517a30);}['_onSelectL'+'eave'](_0x386ea5){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===-0x26e8+-0x1302+0x39ea&&(this['_isHoverin'+'g']=!(0x2277+-0x2*0x325+-0x1c2c),this['_isPressed']=!(-0xd*0x29+0x243a+0x14*-0x1b5),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x386ea5);}['_onClick'](_0x310080){this['_fireIfAct'+'ive']('click',_0x310080);}['_fireIfAct'+'ive'](_0x237583,_0x5af1f0){this['data']['active']&&this['fire'](_0x237583,_0x5af1f0);}['_updateVis'+'ualState'](_0x45f423){const _0xbd0c6f=this['_visualSta'+'te'],_0x3a4604=this['_determine'+'VisualStat'+'e']();if((_0xbd0c6f!==_0x3a4604||_0x45f423)&&this['enabled'])switch(this['_visualSta'+'te']=_0x3a4604,_0xbd0c6f===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0xbd0c6f===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x3a4604===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x3a4604===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case Au:{const _0x429d68=kl[this['_visualSta'+'te']],_0x3ea097=this[_0x429d68];this['_applyTint'](_0x3ea097);break;}case Ng:{const _0x294bdf=Ul[this['_visualSta'+'te']],_0x4da027=Bl[this['_visualSta'+'te']],_0x7fc45=this[_0x294bdf],_0x2fef99=this[_0x4da027];this['_applySpri'+'te'](_0x7fc45,_0x2fef99);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(-0xb*0x293+-0x2c2*0x1+0x1f13));}['_resetToDe'+'faultVisua'+'lState'](_0x43472a){var _0xde41c8;if((_0xde41c8=this['_imageEnti'+'ty'])!=null&&_0xde41c8['element'])switch(_0x43472a){case Au:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case Ng:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return ft['PRESSED'];if(this['_isHoverin'+'g'])return ft['HOVER'];}else return ft['INACTIVE'];return ft['DEFAULT'];}['_applySpri'+'te'](_0x245e8c,_0x3f9041){var _0x2b368a;const _0x203f91=(_0x2b368a=this['_imageEnti'+'ty'])==null?void(-0x1896+0x3cc+0x14ca):_0x2b368a['element'];_0x203f91&&(_0x3f9041=_0x3f9041||-0x2f3*0x2+0x1af*0x13+-0x1a17,this['_isApplyin'+'gSprite']=!(0x8a7+-0x8a5+0x2*-0x1),_0x203f91['spriteAsse'+'t']!==_0x245e8c&&(_0x203f91['spriteAsse'+'t']=_0x245e8c),_0x203f91['spriteFram'+'e']!==_0x3f9041&&(_0x203f91['spriteFram'+'e']=_0x3f9041),this['_isApplyin'+'gSprite']=!(0xaf1+0x2*-0xc9c+0xe48));}['_applyTint'](_0x4c9cc){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===-0x23cf+-0x2494*-0x1+-0xc5*0x1?this['_applyTint'+'Immediatel'+'y'](_0x4c9cc):this['_applyTint'+'WithTween'](_0x4c9cc);}['_applyTint'+'Immediatel'+'y'](_0x2fa0d4){var _0x30af23;const _0x172b01=(_0x30af23=this['_imageEnti'+'ty'])==null?void(0x1e6f+-0x13c8+-0xaa7):_0x30af23['element'];if(!_0x2fa0d4||!_0x172b01||_0x172b01['type']===eh)return;const _0x3a6c63=kg(_0x2fa0d4);this['_isApplyin'+'gTint']=!(-0x19b8+0x6*0x2d4+0x1c*0x50),_0x3a6c63['equals'](_0x172b01['color'])||(_0x172b01['color']=_0x3a6c63),_0x172b01['opacity']!==_0x2fa0d4['a']&&(_0x172b01['opacity']=_0x2fa0d4['a']),this['_isApplyin'+'gTint']=!(0x25e+0x1903+-0x1b60);}['_applyTint'+'WithTween'](_0x3ee168){var _0x11314e;const _0x35ce7c=(_0x11314e=this['_imageEnti'+'ty'])==null?void(-0x24c7+-0x20+0x2f*0xc9):_0x11314e['element'];if(!_0x3ee168||!_0x35ce7c||_0x35ce7c['type']===eh)return;const _0x3a0aaf=kg(_0x3ee168),_0x22f8af=_0x35ce7c['color'],_0x31f12e=_0x35ce7c['opacity'];_0x3a0aaf['equals'](_0x22f8af)&&_0x3ee168['a']===_0x31f12e||(this['_tweenInfo']={'startTime':de(),'from':new ie(_0x22f8af['r'],_0x22f8af['g'],_0x22f8af['b'],_0x31f12e),'to':_0x3ee168['clone'](),'lerpColor':new ie()});}['_updateTin'+'tTween'](){const _0x5d4448=de()-this['_tweenInfo']['startTime'];let _0x230c14=this['fadeDurati'+'on']===0x2*-0x4eb+-0x1b05*0x1+-0xb9*-0x33?-0x1*-0x189b+0x2bb*0xb+-0x36a3:_0x5d4448/this['fadeDurati'+'on'];if(_0x230c14=Y['clamp'](_0x230c14,0x1f2+-0x161*0x13+-0x377*-0x7,-0x1*0x2e4+0x2a*-0xe4+0x284d),Math['abs'](_0x230c14-(-0x1241*-0x2+-0x20e3+-0x39e))>-0x1735+-0x14ed+0x2c22+0.00001){const _0x53c8cf=this['_tweenInfo']['lerpColor'];_0x53c8cf['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x230c14),this['_applyTint'+'Immediatel'+'y'](new ie(_0x53c8cf['r'],_0x53c8cf['g'],_0x53c8cf['b'],_0x53c8cf['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(-0x11e6+-0xfe5+0x26a*0xe),this['_hoveringC'+'ounter']=0x67*0x47+0xba7*-0x3+0x664,this['_isPressed']=!(0x6a1*-0x1+0x1*-0x9e1+-0x1*-0x1083),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x4e379b,_0x211971){_0x4e379b['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x211971[_0x4e379b['imageEntit'+'y']['getGuid']()]);}}h(It,'EVENT_MOUS'+'EDOWN','mousedown'),h(It,'EVENT_MOUS'+'EUP','mouseup'),h(It,'EVENT_MOUS'+'EENTER','mouseenter'),h(It,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(It,'EVENT_CLIC'+'K','click'),h(It,'EVENT_TOUC'+'HSTART','touchstart'),h(It,'EVENT_TOUC'+'HEND','touchend'),h(It,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),h(It,'EVENT_TOUC'+'HLEAVE','touchleave'),h(It,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(It,'EVENT_SELE'+'CTEND','selectend'),h(It,'EVENT_SELE'+'CTENTER','selectente'+'r'),h(It,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),h(It,'EVENT_HOVE'+'RSTART','hoverstart'),h(It,'EVENT_HOVE'+'REND','hoverend'),h(It,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),h(It,'EVENT_PRES'+'SEDEND','pressedend');function kg(_0x5304c2){return new ie(_0x5304c2['r'],_0x5304c2['g'],_0x5304c2['b']);}class WL{constructor(){this['enabled']=!(-0x30*-0xb1+-0x1*0x1159+-0x32b*0x5),this['active']=!(-0xf*-0x16+0x1027+-0x1171),this['imageEntit'+'y']=null,this['hitPadding']=new re(),this['transition'+'Mode']=Au,this['hoverTint']=new ie(0x1bf*0x9+-0x9*-0x5+-0xfe4+0.75,0x1*-0x1355+0x1519+-0x1c4+0.75,0x2*0x1001+-0x2*0xbf8+-0x812*0x1+0.75),this['pressedTin'+'t']=new ie(0x227a+-0x1*-0x1ad1+-0x3d4b+0.5,0x212e+-0x815*-0x2+-0x18ac*0x2+0.5,0x19f+0x59*0x4a+-0x1b59+0.5),this['inactiveTi'+'nt']=new ie(-0x74*0x21+0xdf6*-0x1+-0xe75*-0x2+0.25,-0x1650+-0x22bc+0x390c+0.25,-0x1544+-0x251d+-0x1ab*-0x23+0.25),this['fadeDurati'+'on']=-0x7f*-0xe+0x1aa4+-0x2196,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=-0x1a83+-0x1*0x10e1+0x2b64,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=0x2f6*-0x8+0x101+0x1*0x16af,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=-0x2*-0xff4+-0x1575+-0xa73;}}const Ug=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class $L extends ct{constructor(_0x24efca){super(_0x24efca),this['id']='button',this['ComponentT'+'ype']=It,this['DataType']=WL,this['schema']=Ug,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x365d3c,_0x18406a,_0x26e84d){_0x365d3c['imageEntit'+'y']=_0x18406a['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x365d3c,_0x18406a,Ug);}['onUpdate'](_0x4ffceb){const _0x2a4cd3=this['store'];for(const _0x7c473e in _0x2a4cd3){const _0x83a025=_0x2a4cd3[_0x7c473e]['entity'],_0x2d80e4=_0x83a025['button'];_0x2d80e4['enabled']&&_0x83a025['enabled']&&_0x2d80e4['onUpdate']();}}['_onRemoveC'+'omponent'](_0x475040,_0x436325){_0x436325['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const Bg=new D(),zg=new le();class rn extends we{constructor(_0x30af96,_0x329820){super(_0x30af96,_0x329820),h(this,'_compoundP'+'arent',null),h(this,'_hasOffset',!(0xa6f*0x1+-0x1*0x1b98+-0x1*-0x112a)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0x4681f1=this['system']['store'][this['entity']['getGuid']()];return _0x4681f1?_0x4681f1['data']:null;}set['enabled'](_0x59a386){this['_setValue']('enabled',_0x59a386);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x34bf9a){this['_setValue']('type',_0x34bf9a);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x2aa597){this['_setValue']('halfExtent'+'s',_0x2aa597);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x4761fc){this['_setValue']('linearOffs'+'et',_0x4761fc);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x30b864){this['_setValue']('angularOff'+'set',_0x30b864);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0x1aca27){this['_setValue']('radius',_0x1aca27);}get['radius'](){return this['data']['radius'];}set['axis'](_0x3ff077){this['_setValue']('axis',_0x3ff077);}get['axis'](){return this['data']['axis'];}set['height'](_0x2d0113){this['_setValue']('height',_0x2d0113);}get['height'](){return this['data']['height'];}set['asset'](_0x503f83){this['_setValue']('asset',_0x503f83);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x4f9162){this['_setValue']('renderAsse'+'t',_0x4f9162);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x2d6dd8){this['_setValue']('convexHull',_0x2d6dd8);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x4cb05e){this['_setValue']('shape',_0x4cb05e);}get['shape'](){return this['data']['shape'];}set['model'](_0x2b76cb){this['_setValue']('model',_0x2b76cb);}get['model'](){return this['data']['model'];}set['render'](_0x3d7066){this['_setValue']('render',_0x3d7066);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0x5ab27d){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0x5ab27d);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x32b588,_0x4af86c){const _0x46b207=this['data'],_0x32fca1=_0x46b207[_0x32b588];_0x46b207[_0x32b588]=_0x4af86c,this['fire']('set',_0x32b588,_0x32fca1,_0x4af86c);}['onSetType'](_0x5d00c2,_0x4ff71c,_0x5a7517){_0x4ff71c!==_0x5a7517&&this['system']['changeType'](this,_0x4ff71c,_0x5a7517);}['onSetHalfE'+'xtents'](_0x5a36d6,_0x1a86da,_0x532118){const _0x2f992f=this['data']['type'];this['data']['initialize'+'d']&&_0x2f992f==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x478b04,_0x47349e,_0x382480){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](D['ZERO'])||!this['data']['angularOff'+'set']['equals'](le['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x1788d5,_0x1b91e3,_0x2b1e67){const _0x10ed2e=this['data']['type'];this['data']['initialize'+'d']&&(_0x10ed2e==='sphere'||_0x10ed2e==='capsule'||_0x10ed2e==='cylinder'||_0x10ed2e==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0x448735,_0x52918c,_0x23bb55){const _0x2c3966=this['data']['type'];this['data']['initialize'+'d']&&(_0x2c3966==='capsule'||_0x2c3966==='cylinder'||_0x2c3966==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x4b1ea7,_0x2fe610,_0x335f65){const _0x161df2=this['data']['type'];this['data']['initialize'+'d']&&(_0x161df2==='capsule'||_0x161df2==='cylinder'||_0x161df2==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x30e757,_0x45569e,_0x2e3e3c){const _0x2508e9=this['system']['app']['assets'];if(_0x45569e){const _0x185248=_0x2508e9['get'](_0x45569e);_0x185248&&_0x185248['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x2e3e3c){_0x2e3e3c instanceof pe&&(this['data']['asset']=_0x2e3e3c['id']);const _0x1eeabc=_0x2508e9['get'](this['data']['asset']);_0x1eeabc&&(_0x1eeabc['off']('remove',this['onAssetRem'+'oved'],this),_0x1eeabc['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x2e3e3c||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x2031ef,_0x1ebc81,_0x56d8ce){const _0x5b1502=this['system']['app']['assets'];if(_0x1ebc81){const _0x436170=_0x5b1502['get'](_0x1ebc81);_0x436170&&_0x436170['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x56d8ce){_0x56d8ce instanceof pe&&(this['data']['renderAsse'+'t']=_0x56d8ce['id']);const _0x427512=_0x5b1502['get'](this['data']['renderAsse'+'t']);_0x427512&&(_0x427512['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x427512['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x56d8ce||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x542a4b,_0x24d277,_0x45bc7d){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x199dff,_0x2d7c61,_0xb8178c){this['onSetModel'](_0x199dff,_0x2d7c61,_0xb8178c);}['onAssetRem'+'oved'](_0x135ecb){_0x135ecb['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x135ecb['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x3a55be){_0x3a55be['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x3a55be['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x10d367){const _0x34d558=this['data']['shape'],_0x4ea3ce=_0x34d558['getNumChil'+'dShapes']();for(let _0x3a411f=0xdfc+0x74+0x150*-0xb;_0x3a411f<_0x4ea3ce;_0x3a411f++){const _0x8af02b=_0x34d558['getChildSh'+'ape'](_0x3a411f);if(Ammo['getPointer'](_0x8af02b)===Ammo['getPointer'](_0x10d367))return _0x3a411f;}return null;}['_onInsert'](_0x57d9b4){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x3e35fc=this['entity']['parent'];for(;_0x3e35fc;){if(_0x3e35fc['collision']&&_0x3e35fc['collision']['type']==='compound'){_0x3e35fc['collision']['shape']['getNumChil'+'dShapes']()===0x197d+-0x3*-0xabd+-0x39b4?this['system']['recreatePh'+'ysicalShap'+'es'](_0x3e35fc['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x3e35fc=_0x3e35fc['parent'];}}}}}['_updateCom'+'pound'](){const _0x239dda=this['entity'];if(_0x239dda['_dirtyWorl'+'d']){let _0x516a7d=_0x239dda['_dirtyLoca'+'l'],_0x7771c=_0x239dda;for(;_0x7771c&&!_0x516a7d&&!(_0x7771c['collision']&&_0x7771c['collision']===this['_compoundP'+'arent']);)_0x7771c['_dirtyLoca'+'l']&&(_0x516a7d=!(0x22f3+-0x5*-0x2e3+-0x3162)),_0x7771c=_0x7771c['parent'];if(_0x516a7d){_0x239dda['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x239dda);const _0x38f4f0=this['_compoundP'+'arent']['entity']['rigidbody'];_0x38f4f0&&_0x38f4f0['activate']();}}}['getShapePo'+'sition'](){const _0x3804fe=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0x2532c7=this['entity']['getRotatio'+'n'](),_0x1f7c2c=this['data']['linearOffs'+'et'];return zg['copy'](_0x2532c7)['transformV'+'ector'](_0x1f7c2c,Bg),Bg['add'](_0x3804fe);}return _0x3804fe;}['getShapeRo'+'tation'](){const _0x35be60=this['entity']['getRotatio'+'n']();return this['_hasOffset']?zg['copy'](_0x35be60)['mul'](this['data']['angularOff'+'set']):_0x35be60;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x38a646=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x38a646&&(!_0x38a646['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x14c0+0x204e+-0x350e)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x170754=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x170754,this['data']['shape']),Ammo['destroy'](_0x170754),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}h(rn,'EVENT_CONT'+'ACT','contact'),h(rn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(rn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(rn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(rn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class XL{constructor(){this['enabled']=!(-0x1b6a+-0xe*-0x203+0x30*-0x4),this['type']='box',this['halfExtent'+'s']=new D(-0x2e+0x5*-0x29+0xfb+0.5,-0x10*-0x4+0x27*0x44+0x1c*-0x61+0.5,-0x20b6+-0x1ccf+-0x3d85*-0x1+0.5),this['linearOffs'+'et']=new D(),this['angularOff'+'set']=new le(),this['radius']=-0x7*-0x1e2+0x2351*-0x1+0x1623+0.5,this['axis']=-0x2*0x478+0xec8+-0x5d7,this['height']=0xf2*0xb+-0x2*-0x169+-0xd36,this['convexHull']=!(0xb*-0xe2+0xc95*0x2+-0x317*0x5),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(0x14*-0x125+0x336+-0x1*-0x13ae),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(0x2*-0x637+0x112a+-0x1*0x4bb);}}const yo='static',ks='dynamic',Ha='kinematic',qL=-0x1*0x139f+-0x207*-0xd+-0x7*0xf6,Po=0xd11+0x16f0+-0x23fd,Pu=-0xa8*-0x7+0x22f1+-0x2788,Vg=-0xb*0x11c+-0x1*-0x26e5+-0x1aad,Yv=-0x22f0+0x18a+0x216b,jL=-0x781*-0x4+0x762+0x1*-0x2565,Gg=0x419+-0x2*0xce8+0x15b9,YL=0x1*0x3f3+-0x6*0x22d+-0x1d3*-0x5,Hg=0x1*0x637+0x189f+-0x1ec6,Wg=-0x6ff*-0x38+0x2ae4*0x8+0x3*-0x9fa3,Mu=-0xa*0xcb3+0x177+0x24*0xa99;let Us,zr,Wa;class Kv{constructor(_0x3b067e,_0x340479,_0x2efd0a){this['entity']=_0x340479['entity'],this['component']=_0x340479,this['app']=_0x3b067e,typeof Ammo<'u'&&!Us&&(Us=new Ammo['btVector3'](),zr=new Ammo['btQuaterni'+'on'](),Wa=new Ammo['btTransfor'+'m']()),this['initialize'](_0x2efd0a);}['initialize'](_0x210209){const _0x172a1e=this['entity'],_0x39a29e=_0x210209['shape'];if(_0x39a29e&&typeof Ammo<'u'){_0x172a1e['trigger']&&_0x172a1e['trigger']['destroy']();const _0x49509f=0x2*0xce9+-0x12b9*-0x2+-0x3f43,_0x66198a=this['component'];if(_0x66198a){const _0xec6f92=_0x66198a['getShapePo'+'sition'](),_0x2971c7=_0x66198a['getShapeRo'+'tation']();Us['setValue'](_0xec6f92['x'],_0xec6f92['y'],_0xec6f92['z']),zr['setValue'](_0x2971c7['x'],_0x2971c7['y'],_0x2971c7['z'],_0x2971c7['w']);}else{const _0xf92fe2=_0x172a1e['getPositio'+'n'](),_0x574495=_0x172a1e['getRotatio'+'n']();Us['setValue'](_0xf92fe2['x'],_0xf92fe2['y'],_0xf92fe2['z']),zr['setValue'](_0x574495['x'],_0x574495['y'],_0x574495['z'],_0x574495['w']);}Wa['setOrigin'](Us),Wa['setRotatio'+'n'](zr);const _0x186397=this['app']['systems']['rigidbody']['createBody'](_0x49509f,_0x39a29e,Wa);_0x186397['setRestitu'+'tion'](0xf9d+0x1cc3+0x470*-0xa),_0x186397['setFrictio'+'n'](-0x2*-0x121e+0x1c6e*0x1+-0x6*0xac7),_0x186397['setDamping'](-0x1ec6+-0x756*-0x3+0x22*0x42,0x1*0x1e3e+0x1f6a+0x2*-0x1ed4),Us['setValue'](-0x2286+-0x1*0x3b9+0x263f,0x8ef+-0x6c+-0x1*0x883,-0x15c6+-0x4*0x52+0x170e),_0x186397['setLinearF'+'actor'](Us),_0x186397['setAngular'+'Factor'](Us),_0x186397['setCollisi'+'onFlags'](_0x186397['getCollisi'+'onFlags']()|Po),_0x186397['entity']=_0x172a1e,this['body']=_0x186397,this['component']['enabled']&&_0x172a1e['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x152ef9){const _0x58b666=this['component'];if(_0x58b666){const _0x3a7fcb=_0x58b666['getShapePo'+'sition'](),_0x2ff4ed=_0x58b666['getShapeRo'+'tation']();Us['setValue'](_0x3a7fcb['x'],_0x3a7fcb['y'],_0x3a7fcb['z']),zr['setValue'](_0x2ff4ed['x'],_0x2ff4ed['y'],_0x2ff4ed['z'],_0x2ff4ed['w']);}else{const _0x1045c3=this['entity']['getPositio'+'n'](),_0x55b515=this['entity']['getRotatio'+'n']();Us['setValue'](_0x1045c3['x'],_0x1045c3['y'],_0x1045c3['z']),zr['setValue'](_0x55b515['x'],_0x55b515['y'],_0x55b515['z'],_0x55b515['w']);}_0x152ef9['setOrigin'](Us),_0x152ef9['setRotatio'+'n'](zr);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Wa);const _0x4d374d=this['body'];_0x4d374d['setWorldTr'+'ansform'](Wa),_0x4d374d['activate']();}['enable'](){const _0xd9851d=this['body'];if(!_0xd9851d)return;const _0x3e607f=this['app']['systems']['rigidbody'];_0x3e607f['_triggers']['indexOf'](this)<-0x2102*-0x1+0x2576+-0x386*0x14&&(_0x3e607f['addBody'](_0xd9851d,Hg,Mu^Hg),_0x3e607f['_triggers']['push'](this)),_0xd9851d['forceActiv'+'ationState'](Pu),this['updateTran'+'sform']();}['disable'](){const _0x15fef9=this['body'];if(!_0x15fef9)return;const _0x2fe3b0=this['app']['systems']['rigidbody'],_0x5d3595=_0x2fe3b0['_triggers']['indexOf'](this);_0x5d3595>-(-0x884+-0x1f73+0x27f8*0x1)&&(_0x2fe3b0['removeBody'](_0x15fef9),_0x2fe3b0['_triggers']['splice'](_0x5d3595,0x1cca+-0xc07+0x1ad*-0xa)),_0x15fef9['forceActiv'+'ationState'](Yv);}}const wc=new te(),KL=new D(),ZL=new D(),Vr=new le(),$g=new Ie(),QL=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class Ca{constructor(_0x2fb27b){this['system']=_0x2fb27b;}['beforeInit'+'ialize'](_0x142ef2,_0xa0a627){_0xa0a627['shape']=null,_0xa0a627['model']=new sr(),_0xa0a627['model']['graph']=new Ie();}['afterIniti'+'alize'](_0x5b53bf,_0x5eaaac){this['recreatePh'+'ysicalShap'+'es'](_0x5b53bf),_0x5b53bf['data']['initialize'+'d']=!(0x20a4+0x370+-0x2414);}['reset'](_0x3ba745,_0x261c2c){this['beforeInit'+'ialize'](_0x3ba745,_0x261c2c),this['afterIniti'+'alize'](_0x3ba745,_0x261c2c);}['recreatePh'+'ysicalShap'+'es'](_0x1e554c){const _0x5afd04=_0x1e554c['entity'],_0x41e771=_0x1e554c['data'];if(typeof Ammo<'u'){_0x5afd04['trigger']&&(_0x5afd04['trigger']['destroy'](),delete _0x5afd04['trigger']),_0x41e771['shape']&&(_0x1e554c['_compoundP'+'arent']&&(_0x1e554c!==_0x1e554c['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x1e554c['_compoundP'+'arent'],_0x41e771['shape']),_0x1e554c['_compoundP'+'arent']['entity']['rigidbody']&&_0x1e554c['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x41e771)),_0x41e771['shape']=this['createPhys'+'icalShape'](_0x1e554c['entity'],_0x41e771);const _0x4852ac=!_0x1e554c['_compoundP'+'arent'];if(_0x41e771['type']==='compound'&&(!_0x1e554c['_compoundP'+'arent']||_0x1e554c===_0x1e554c['_compoundP'+'arent']))_0x1e554c['_compoundP'+'arent']=_0x1e554c,_0x5afd04['forEach'](this['_addEachDe'+'scendant'],_0x1e554c);else{if(_0x41e771['type']!=='compound'&&!_0x1e554c['rigidbody']){_0x1e554c['_compoundP'+'arent']=null;let _0x55d1a0=_0x5afd04['parent'];for(;_0x55d1a0;){if(_0x55d1a0['collision']&&_0x55d1a0['collision']['type']==='compound'){_0x1e554c['_compoundP'+'arent']=_0x55d1a0['collision'];break;}_0x55d1a0=_0x55d1a0['parent'];}}}_0x1e554c['_compoundP'+'arent']&&_0x1e554c!==_0x1e554c['_compoundP'+'arent']&&(_0x4852ac&&_0x1e554c['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===0x5*0x1a9+-0x10*0xb3+-0x2e3*-0x1?this['system']['recreatePh'+'ysicalShap'+'es'](_0x1e554c['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x5afd04,!(-0xb54*-0x1+-0x7cc+-0x388)),_0x1e554c['_compoundP'+'arent']['entity']['rigidbody']&&_0x1e554c['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x5afd04['rigidbody']?(_0x5afd04['rigidbody']['disableSim'+'ulation'](),_0x5afd04['rigidbody']['createBody'](),_0x5afd04['enabled']&&_0x5afd04['rigidbody']['enabled']&&_0x5afd04['rigidbody']['enableSimu'+'lation']()):_0x1e554c['_compoundP'+'arent']||(_0x5afd04['trigger']?_0x5afd04['trigger']['initialize'](_0x41e771):_0x5afd04['trigger']=new Kv(this['system']['app'],_0x1e554c,_0x41e771));}}['createPhys'+'icalShape'](_0x44117b,_0x22c0c7){}['updateTran'+'sform'](_0x30dc70,_0x2003bc,_0x206e17,_0x251157){_0x30dc70['entity']['trigger']&&_0x30dc70['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x1d189b){_0x1d189b['shape']&&(Ammo['destroy'](_0x1d189b['shape']),_0x1d189b['shape']=null);}['beforeRemo'+'ve'](_0x18c2af,_0x2563b4){_0x2563b4['data']['shape']&&(_0x2563b4['_compoundP'+'arent']&&!_0x2563b4['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x2563b4['_compoundP'+'arent'],_0x2563b4['data']['shape']),_0x2563b4['_compoundP'+'arent']['entity']['rigidbody']&&_0x2563b4['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x2563b4['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x2563b4['data']));}['remove'](_0x420383,_0x149191){_0x420383['rigidbody']&&_0x420383['rigidbody']['body']&&_0x420383['rigidbody']['disableSim'+'ulation'](),_0x420383['trigger']&&(_0x420383['trigger']['destroy'](),delete _0x420383['trigger']);}['clone'](_0x3238b6,_0x1522f8){const _0x16a21a=this['system']['store'][_0x3238b6['getGuid']()],_0x4c3c47={'enabled':_0x16a21a['data']['enabled'],'type':_0x16a21a['data']['type'],'halfExtents':[_0x16a21a['data']['halfExtent'+'s']['x'],_0x16a21a['data']['halfExtent'+'s']['y'],_0x16a21a['data']['halfExtent'+'s']['z']],'linearOffset':[_0x16a21a['data']['linearOffs'+'et']['x'],_0x16a21a['data']['linearOffs'+'et']['y'],_0x16a21a['data']['linearOffs'+'et']['z']],'angularOffset':[_0x16a21a['data']['angularOff'+'set']['x'],_0x16a21a['data']['angularOff'+'set']['y'],_0x16a21a['data']['angularOff'+'set']['z'],_0x16a21a['data']['angularOff'+'set']['w']],'radius':_0x16a21a['data']['radius'],'axis':_0x16a21a['data']['axis'],'height':_0x16a21a['data']['height'],'convexHull':_0x16a21a['data']['convexHull'],'asset':_0x16a21a['data']['asset'],'renderAsset':_0x16a21a['data']['renderAsse'+'t'],'model':_0x16a21a['data']['model'],'render':_0x16a21a['data']['render'],'checkVertexDuplicates':_0x16a21a['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x1522f8,_0x4c3c47);}}class JL extends Ca{['createPhys'+'icalShape'](_0x17f7e9,_0x3a1da8){if(typeof Ammo<'u'){const _0x57012b=_0x3a1da8['halfExtent'+'s'],_0x39a2a6=new Ammo['btVector3'](_0x57012b?_0x57012b['x']:-0xf29*0x1+0x26f4+-0x17cb+0.5,_0x57012b?_0x57012b['y']:-0xaf3*-0x1+0x1432+-0x1f25+0.5,_0x57012b?_0x57012b['z']:-0x1098+0x2*0xa2a+0x1*-0x3bc+0.5),_0xa4ecba=new Ammo['btBoxShape'](_0x39a2a6);return Ammo['destroy'](_0x39a2a6),_0xa4ecba;}}}class eR extends Ca{['createPhys'+'icalShape'](_0x143925,_0x5c8fe2){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x5c8fe2['radius']);}}class tR extends Ca{['createPhys'+'icalShape'](_0x5d67a4,_0x42bee5){const _0x1451a3=_0x42bee5['axis']??-0x445*0x4+-0x235e+-0x1d*-0x1cf,_0x2fd47a=_0x42bee5['radius']??-0x3e*-0x45+0x2119+-0x31cf+0.5,_0x44bddd=Math['max']((_0x42bee5['height']??0x35c+-0x1*-0x16c3+-0xbf*0x23)-(0x1*-0x1a99+-0x12c4+0x2d5f)*_0x2fd47a,-0x397+-0x243+-0x5da*-0x1);let _0x7e181=null;if(typeof Ammo<'u')switch(_0x1451a3){case 0x7be*-0x2+-0x1119+0x2095:_0x7e181=new Ammo['btCapsuleS'+'hapeX'](_0x2fd47a,_0x44bddd);break;case 0x1*-0x1016+-0x416+-0x5*-0x409:_0x7e181=new Ammo['btCapsuleS'+'hape'](_0x2fd47a,_0x44bddd);break;case 0x196c+0x2*-0x1b4+-0x1602:_0x7e181=new Ammo['btCapsuleS'+'hapeZ'](_0x2fd47a,_0x44bddd);break;}return _0x7e181;}}class sR extends Ca{['createPhys'+'icalShape'](_0x5d171d,_0x2dad53){const _0x4b071a=_0x2dad53['axis']??0x761*0x2+-0x497*-0x6+-0x2a4b,_0x5a44f2=_0x2dad53['radius']??0x14ea+-0x4*0x4f4+0x1*-0x11a+0.5,_0x10deb4=_0x2dad53['height']??-0x294+-0x1ce*-0x13+-0x1fb5;let _0x12c1b1=null,_0x41bbce=null;if(typeof Ammo<'u')switch(_0x4b071a){case 0x9a8+-0x86d+-0x13b:_0x12c1b1=new Ammo['btVector3'](_0x10deb4*(-0x1b5*0xb+0x6e5+0xbe2+0.5),_0x5a44f2,_0x5a44f2),_0x41bbce=new Ammo['btCylinder'+'ShapeX'](_0x12c1b1);break;case-0x1a5*-0x1+0x6b5*0x4+-0x1c78:_0x12c1b1=new Ammo['btVector3'](_0x5a44f2,_0x10deb4*(-0x1*-0x18eb+-0xaa7+-0xe44+0.5),_0x5a44f2),_0x41bbce=new Ammo['btCylinder'+'Shape'](_0x12c1b1);break;case 0x7*-0x35+0xd55*-0x2+-0x17*-0x139:_0x12c1b1=new Ammo['btVector3'](_0x5a44f2,_0x5a44f2,_0x10deb4*(0xae9+0x8dc+-0x13c5*0x1+0.5)),_0x41bbce=new Ammo['btCylinder'+'ShapeZ'](_0x12c1b1);break;}return _0x12c1b1&&Ammo['destroy'](_0x12c1b1),_0x41bbce;}}class iR extends Ca{['createPhys'+'icalShape'](_0x206939,_0x1d2a03){const _0x4159e0=_0x1d2a03['axis']??0xc*0x118+0x1*-0xe0+-0xc3f,_0x27513b=_0x1d2a03['radius']??0x207a+-0x2e4*-0xd+0x3*-0x175a+0.5,_0x2da19f=_0x1d2a03['height']??-0x265b+-0x2176+0x47d2;let _0x31a943=null;if(typeof Ammo<'u')switch(_0x4159e0){case 0xa*-0x151+-0xe9c+0x5a*0x4f:_0x31a943=new Ammo['btConeShap'+'eX'](_0x27513b,_0x2da19f);break;case 0x1a9*-0x14+-0x296*-0x1+0x1e9f:_0x31a943=new Ammo['btConeShap'+'e'](_0x27513b,_0x2da19f);break;case-0x78f+0x16d7+-0xf46:_0x31a943=new Ammo['btConeShap'+'eZ'](_0x27513b,_0x2da19f);break;}return _0x31a943;}}class rR extends Ca{['beforeInit'+'ialize'](_0x15b021,_0x49f64b){}['createAmmo'+'Hull'](_0x1428db,_0x4fdada,_0x582fab,_0x9a677f){const _0x1433f5=new Ammo['btConvexHu'+'llShape'](),_0x495eee=new Ammo['btVector3'](),_0x640817=[];_0x1428db['getPositio'+'ns'](_0x640817);for(let _0x68684e=-0xdce+-0x13ec+0x21ba;_0x68684e<_0x640817['length'];_0x68684e+=0x1*-0x590+0x3*-0xbc+-0xb5*-0xb)_0x495eee['setValue'](_0x640817[_0x68684e]*_0x9a677f['x'],_0x640817[_0x68684e+(0x9*-0x35f+-0x1ba2+0x39fa)]*_0x9a677f['y'],_0x640817[_0x68684e+(-0x1*0x9e2+-0x232f+-0x2d13*-0x1)]*_0x9a677f['z']),_0x1433f5['addPoint'](_0x495eee,!(0x2033*0x1+0x968+-0x1aa*0x19));Ammo['destroy'](_0x495eee),_0x1433f5['recalcLoca'+'lAabb'](),_0x1433f5['setMargin'](0x1174+0xdc6+0x23b*-0xe+0.01);const _0x3286ea=this['system']['_getNodeTr'+'ansform'](_0x4fdada);_0x582fab['addChildSh'+'ape'](_0x3286ea,_0x1433f5),Ammo['destroy'](_0x3286ea);}['createAmmo'+'Mesh'](_0x4275bf,_0x2ae3a2,_0x2931de,_0x5af128,_0x52aad4=!(0x11ef+0x16e*0x2+0x1*-0x14cb)){const _0x2babd7=this['system'];let _0x5ec5d6;if(_0x2babd7['_triMeshCa'+'che'][_0x4275bf['id']])_0x5ec5d6=_0x2babd7['_triMeshCa'+'che'][_0x4275bf['id']];else{const _0x1c7896=_0x4275bf['vertexBuff'+'er'],_0x66b666=_0x1c7896['getFormat']();let _0x5ecdc3,_0x389424;for(let _0x15fcb2=-0x1590+-0x14ae+0x2a3e;_0x15fcb2<_0x66b666['elements']['length'];_0x15fcb2++){const _0x2a7b40=_0x66b666['elements'][_0x15fcb2];if(_0x2a7b40['name']===Me){_0x389424=new Float32Array(_0x1c7896['lock'](),_0x2a7b40['offset']),_0x5ecdc3=_0x2a7b40['stride']/(-0x1*0x175d+0x3b*-0x25+0x1fe8);break;}}const _0x235ea7=[];_0x4275bf['getIndices'](_0x235ea7);const _0x451643=_0x4275bf['primitive'][0x6c3+0xbaa+-0x126d*0x1]['count']/(0x263c*-0x1+-0x1a78+0x1*0x40b7),_0xac92db=new Ammo['btVector3']();let _0x573669,_0x3ee906,_0x8641b9;const _0x4aa6a4=_0x4275bf['primitive'][0x107d+0xb37+-0x9*0x314]['base'];_0x5ec5d6=new Ammo['btTriangle'+'Mesh'](),_0x2babd7['_triMeshCa'+'che'][_0x4275bf['id']]=_0x5ec5d6;const _0x1d61e0=new Map();w['assert'](typeof _0x5ec5d6['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x206c6d=_0x5ec5d6['getIndexed'+'MeshArray']();_0x206c6d['at'](-0x5*-0x1bd+0x6*0x389+-0x1de7)['m_numTrian'+'gles']=_0x451643;const _0x22fac0=_0x5af128?_0x5af128['x']:-0xda5*-0x1+0x1*-0x15ad+0x809*0x1,_0x5342ff=_0x5af128?_0x5af128['y']:-0x20e2+-0xe2d+0x18*0x1f6,_0x4f2d9d=_0x5af128?_0x5af128['z']:-0xf34+0x17e*0x1+-0x1*-0xdb7,_0x47c3f6=_0x20470f=>{const _0x788c1d=_0x389424[_0x20470f*_0x5ecdc3]*_0x22fac0,_0x3766c8=_0x389424[_0x20470f*_0x5ecdc3+(-0x1194+-0xc6f*0x1+0x1e04)]*_0x5342ff,_0x5c84d7=_0x389424[_0x20470f*_0x5ecdc3+(-0x108+-0x2b7*-0x6+-0x20*0x7a)]*_0x4f2d9d;let _0xa71767;if(_0x52aad4){const _0x308b76=_0x788c1d+':'+_0x3766c8+':'+_0x5c84d7;if(_0xa71767=_0x1d61e0['get'](_0x308b76),_0xa71767!==void(0x422+0xc36+-0x4*0x416))return _0xa71767;_0xac92db['setValue'](_0x788c1d,_0x3766c8,_0x5c84d7),_0xa71767=_0x5ec5d6['findOrAddV'+'ertex'](_0xac92db,!(-0xdc0+-0x2f9*-0x1+0xac8)),_0x1d61e0['set'](_0x308b76,_0xa71767);}else _0xac92db['setValue'](_0x788c1d,_0x3766c8,_0x5c84d7),_0xa71767=_0x5ec5d6['findOrAddV'+'ertex'](_0xac92db,!(-0x2236+0x2*0x901+0x1035));return _0xa71767;};for(let _0x48c63f=-0x6*-0x3c7+0x8*0x20a+-0x26fa;_0x48c63f<_0x451643;_0x48c63f++)_0x573669=_0x47c3f6(_0x235ea7[_0x4aa6a4+_0x48c63f*(0x79*-0x1d+0xaf*-0x7+0x1281)]),_0x3ee906=_0x47c3f6(_0x235ea7[_0x4aa6a4+_0x48c63f*(0x1*0x485+0x1e3+-0x665)+(-0x212e+0xa3*-0x1f+0x34ec)]),_0x8641b9=_0x47c3f6(_0x235ea7[_0x4aa6a4+_0x48c63f*(0x566+-0x5b0*-0x1+-0x51*0x23)+(0x18bd+0x1*-0x1097+-0x2*0x412)]),_0x5ec5d6['addIndex'](_0x573669),_0x5ec5d6['addIndex'](_0x3ee906),_0x5ec5d6['addIndex'](_0x8641b9);Ammo['destroy'](_0xac92db);}const _0x24cfd3=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x5ec5d6,!(-0x45b*0x2+-0xb*-0x12d+-0x439));if(!_0x5af128){const _0x4de230=_0x2babd7['_getNodeSc'+'aling'](_0x2ae3a2);_0x24cfd3['setLocalSc'+'aling'](_0x4de230),Ammo['destroy'](_0x4de230);}const _0x11436b=_0x2babd7['_getNodeTr'+'ansform'](_0x2ae3a2);_0x2931de['addChildSh'+'ape'](_0x11436b,_0x24cfd3),Ammo['destroy'](_0x11436b);}['createPhys'+'icalShape'](_0x120745,_0x17ca6d){if(!(typeof Ammo>'u')&&(_0x17ca6d['model']||_0x17ca6d['render'])){const _0x548e7a=new Ammo['btCompound'+'Shape'](),_0x2fd100=_0x120745['getWorldTr'+'ansform']()['getScale']();if(_0x17ca6d['render']){const _0x1adb13=_0x17ca6d['render']['meshes'];for(let _0x5bec0f=0x38*-0x8b+0x529*0x2+-0x1416*-0x1;_0x5bec0f<_0x1adb13['length'];_0x5bec0f++)_0x17ca6d['convexHull']?this['createAmmo'+'Hull'](_0x1adb13[_0x5bec0f],$g,_0x548e7a,_0x2fd100):this['createAmmo'+'Mesh'](_0x1adb13[_0x5bec0f],$g,_0x548e7a,_0x2fd100,_0x17ca6d['checkVerte'+'xDuplicate'+'s']);}else{if(_0x17ca6d['model']){const _0x39097a=_0x17ca6d['model']['meshInstan'+'ces'];for(let _0x456c9b=0x1dd9+0x2dd*0xa+-0x551*0xb;_0x456c9b<_0x39097a['length'];_0x456c9b++)this['createAmmo'+'Mesh'](_0x39097a[_0x456c9b]['mesh'],_0x39097a[_0x456c9b]['node'],_0x548e7a,null,_0x17ca6d['checkVerte'+'xDuplicate'+'s']);const _0x53c88c=new Ammo['btVector3'](_0x2fd100['x'],_0x2fd100['y'],_0x2fd100['z']);_0x548e7a['setLocalSc'+'aling'](_0x53c88c),Ammo['destroy'](_0x53c88c);}}return _0x548e7a;}}['recreatePh'+'ysicalShap'+'es'](_0x3c1b06){const _0xb47f06=_0x3c1b06['data'];if((_0xb47f06['renderAsse'+'t']||_0xb47f06['asset'])&&_0x3c1b06['enabled']&&_0x3c1b06['entity']['enabled']){this['loadAsset'](_0x3c1b06,_0xb47f06['renderAsse'+'t']||_0xb47f06['asset'],_0xb47f06['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x3c1b06);}['loadAsset'](_0x79558c,_0x343038,_0x3980ce){const _0x335978=_0x79558c['data'],_0x3aabd8=this['system']['app']['assets'],_0x571cc9=_0x335978[_0x3980ce],_0x96948c=_0x2ad11c=>{_0x335978[_0x3980ce]===_0x571cc9&&(_0x335978[_0x3980ce]=_0x2ad11c['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0x79558c));},_0x491cc3=_0x54326c=>{_0x54326c['ready'](_0x1980cf=>{if(_0x1980cf['data']['containerA'+'sset']){const _0x24a633=_0x3aabd8['get'](_0x1980cf['data']['containerA'+'sset']);_0x24a633['loaded']?_0x96948c(_0x1980cf):(_0x24a633['ready'](()=>{_0x96948c(_0x1980cf);}),_0x3aabd8['load'](_0x24a633));}else _0x96948c(_0x1980cf);}),_0x3aabd8['load'](_0x54326c);},_0x18f4d3=_0x3aabd8['get'](_0x343038);_0x18f4d3?_0x491cc3(_0x18f4d3):_0x3aabd8['once']('add:'+_0x343038,_0x491cc3);}['doRecreate'+'PhysicalSh'+'ape'](_0x5f0e7e){const _0x1bc5d3=_0x5f0e7e['entity'],_0x55b1f9=_0x5f0e7e['data'];_0x55b1f9['model']||_0x55b1f9['render']?(this['destroySha'+'pe'](_0x55b1f9),_0x55b1f9['shape']=this['createPhys'+'icalShape'](_0x1bc5d3,_0x55b1f9),_0x1bc5d3['rigidbody']?(_0x1bc5d3['rigidbody']['disableSim'+'ulation'](),_0x1bc5d3['rigidbody']['createBody'](),_0x1bc5d3['enabled']&&_0x1bc5d3['rigidbody']['enabled']&&_0x1bc5d3['rigidbody']['enableSimu'+'lation']()):_0x1bc5d3['trigger']?_0x1bc5d3['trigger']['initialize'](_0x55b1f9):_0x1bc5d3['trigger']=new Kv(this['system']['app'],_0x5f0e7e,_0x55b1f9)):(this['beforeRemo'+'ve'](_0x1bc5d3,_0x5f0e7e),this['remove'](_0x1bc5d3,_0x55b1f9));}['updateTran'+'sform'](_0x5d85d7,_0x212950,_0x401661,_0x2c0045){if(_0x5d85d7['shape']){const _0x1b0c04=_0x5d85d7['entity']['getWorldTr'+'ansform']()['getScale'](),_0x5e6a2d=_0x5d85d7['shape']['getLocalSc'+'aling']();(_0x1b0c04['x']!==_0x5e6a2d['x']()||_0x1b0c04['y']!==_0x5e6a2d['y']()||_0x1b0c04['z']!==_0x5e6a2d['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x5d85d7);}super['updateTran'+'sform'](_0x5d85d7,_0x212950,_0x401661,_0x2c0045);}['destroySha'+'pe'](_0x7cfde0){if(!_0x7cfde0['shape'])return;const _0x1c4097=_0x7cfde0['shape']['getNumChil'+'dShapes']();for(let _0x57d519=-0xe*-0xb5+-0x8*-0x2da+-0x20b6;_0x57d519<_0x1c4097;_0x57d519++){const _0x1269f3=_0x7cfde0['shape']['getChildSh'+'ape'](_0x57d519);Ammo['destroy'](_0x1269f3);}Ammo['destroy'](_0x7cfde0['shape']),_0x7cfde0['shape']=null;}}class aR extends Ca{['createPhys'+'icalShape'](_0x4ba696,_0x36196b){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x4bfbdb){!_0x4bfbdb['collision']||_0x4bfbdb['rigidbody']||(_0x4bfbdb['collision']['_compoundP'+'arent']=this,_0x4bfbdb!==this['entity']&&_0x4bfbdb['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x4bfbdb['collision']));}['_updateEac'+'hDescendan'+'t'](_0x563818){_0x563818['collision']&&_0x563818['collision']['_compoundP'+'arent']===this&&(_0x563818['collision']['_compoundP'+'arent']=null,_0x563818!==this['entity']&&!_0x563818['rigidbody']&&_0x563818['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x563818['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x3763be){!_0x3763be['collision']||_0x3763be['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x3763be,!(-0x169a+0x12f5+0x3a6));}}class nR extends ct{constructor(_0x5885e2){super(_0x5885e2),this['id']='collision',this['ComponentT'+'ype']=rn,this['DataType']=XL,this['schema']=QL,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x1f8e8e,_0x208d5c,_0x5f207a){_0x5f207a=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x4d5d10={};for(let _0x3a1ce8=0x1553+0xb*0xbe+-0x1*0x1d7d,_0x23f8a1=_0x5f207a['length'];_0x3a1ce8<_0x23f8a1;_0x3a1ce8++){const _0x16d875=_0x5f207a[_0x3a1ce8];_0x4d5d10[_0x16d875]=_0x208d5c[_0x16d875];}let _0x23ca9d;if(_0x208d5c['hasOwnProp'+'erty']('asset')?(_0x23ca9d=_0x5f207a['indexOf']('model'),_0x23ca9d!==-(-0x1ab+0x1ce0+-0x1b34)&&_0x5f207a['splice'](_0x23ca9d,0x7*-0x358+-0x5*-0xa7+0x1426),_0x23ca9d=_0x5f207a['indexOf']('render'),_0x23ca9d!==-(-0x175*0xc+-0x52*0x16+0xb*0x23b)&&_0x5f207a['splice'](_0x23ca9d,-0xb*0x41+-0x218c+0x2458)):_0x208d5c['hasOwnProp'+'erty']('model')&&(_0x23ca9d=_0x5f207a['indexOf']('asset'),_0x23ca9d!==-(0xfe0+-0x1983+0x9a4)&&_0x5f207a['splice'](_0x23ca9d,0xca4*-0x2+-0xedf+-0x1414*-0x2)),_0x4d5d10['type']||(_0x4d5d10['type']=_0x1f8e8e['data']['type']),_0x1f8e8e['data']['type']=_0x4d5d10['type'],Array['isArray'](_0x4d5d10['halfExtent'+'s'])&&(_0x4d5d10['halfExtent'+'s']=new D(_0x4d5d10['halfExtent'+'s'])),Array['isArray'](_0x4d5d10['linearOffs'+'et'])&&(_0x4d5d10['linearOffs'+'et']=new D(_0x4d5d10['linearOffs'+'et'])),Array['isArray'](_0x4d5d10['angularOff'+'set'])){const _0x5c24eb=_0x4d5d10['angularOff'+'set'];_0x5c24eb['length']===-0x1*-0xaa2+-0x17e9*0x1+0xd4a?_0x4d5d10['angularOff'+'set']=new le()['setFromEul'+'erAngles'](_0x5c24eb[-0x257+0x10f*-0x7+0x9c0],_0x5c24eb[-0x14d1+0x56b+-0x1*-0xf67],_0x5c24eb[-0x4ff+-0x91+0x592]):_0x4d5d10['angularOff'+'set']=new le(_0x4d5d10['angularOff'+'set']);}const _0x5a2aeb=this['_createImp'+'lementatio'+'n'](_0x4d5d10['type']);_0x5a2aeb['beforeInit'+'ialize'](_0x1f8e8e,_0x4d5d10),super['initialize'+'ComponentD'+'ata'](_0x1f8e8e,_0x4d5d10,_0x5f207a),_0x5a2aeb['afterIniti'+'alize'](_0x1f8e8e,_0x4d5d10);}['_createImp'+'lementatio'+'n'](_0x3a46e0){if(this['implementa'+'tions'][_0x3a46e0]===void(-0x1*-0xa63+-0x1*-0x21e2+-0x2c45*0x1)){let _0x20ac7c;switch(_0x3a46e0){case'box':_0x20ac7c=new JL(this);break;case'sphere':_0x20ac7c=new eR(this);break;case'capsule':_0x20ac7c=new tR(this);break;case'cylinder':_0x20ac7c=new sR(this);break;case'cone':_0x20ac7c=new iR(this);break;case'mesh':_0x20ac7c=new rR(this);break;case'compound':_0x20ac7c=new aR(this);break;default:w['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x3a46e0);}this['implementa'+'tions'][_0x3a46e0]=_0x20ac7c;}return this['implementa'+'tions'][_0x3a46e0];}['_getImplem'+'entation'](_0x5c79f7){return this['implementa'+'tions'][_0x5c79f7['collision']['data']['type']];}['cloneCompo'+'nent'](_0x3ad95b,_0x1b6ada){return this['_getImplem'+'entation'](_0x3ad95b)['clone'](_0x3ad95b,_0x1b6ada);}['onBeforeRe'+'move'](_0xef0fc9,_0x5ea02b){this['implementa'+'tions'][_0x5ea02b['data']['type']]['beforeRemo'+'ve'](_0xef0fc9,_0x5ea02b),_0x5ea02b['onBeforeRe'+'move']();}['onRemove'](_0x2823e8,_0x21d4b5){this['implementa'+'tions'][_0x21d4b5['type']]['remove'](_0x2823e8,_0x21d4b5);}['updateComp'+'oundChildT'+'ransform'](_0x31e838,_0x4a06fb){const _0x296fec=_0x31e838['collision']['_compoundP'+'arent'];if(_0x296fec!==_0x31e838['collision']&&_0x31e838['enabled']&&_0x31e838['collision']['enabled']&&(_0x31e838['_dirtyLoca'+'l']||_0x4a06fb)){const _0x188378=this['_getNodeTr'+'ansform'](_0x31e838,_0x296fec['entity']),_0x405612=_0x296fec['getCompoun'+'dChildShap'+'eIndex'](_0x31e838['collision']['shape']);_0x405612===null?_0x296fec['shape']['addChildSh'+'ape'](_0x188378,_0x31e838['collision']['data']['shape']):_0x296fec['shape']['updateChil'+'dTransform'](_0x405612,_0x188378,!(0x1*-0x2485+-0x1b1b*0x1+0x10*0x3fa)),Ammo['destroy'](_0x188378);}}['_removeCom'+'poundChild'](_0x4c8820,_0x3dfacd){if(_0x4c8820['shape']['getNumChil'+'dShapes']()!==0xc90+0x17*0x6+-0x4e*0x2b){if(_0x4c8820['shape']['removeChil'+'dShape'])_0x4c8820['shape']['removeChil'+'dShape'](_0x3dfacd);else{const _0x51297e=_0x4c8820['getCompoun'+'dChildShap'+'eIndex'](_0x3dfacd);_0x51297e!==null&&_0x4c8820['shape']['removeChil'+'dShapeByIn'+'dex'](_0x51297e);}}}['onTransfor'+'mChanged'](_0x3511bf,_0x4e0f23,_0x3a5d68,_0x92c904){this['implementa'+'tions'][_0x3511bf['data']['type']]['updateTran'+'sform'](_0x3511bf,_0x4e0f23,_0x3a5d68,_0x92c904);}['changeType'](_0xea0043,_0x3f196a,_0x122afb){this['implementa'+'tions'][_0x3f196a]['beforeRemo'+'ve'](_0xea0043['entity'],_0xea0043),this['implementa'+'tions'][_0x3f196a]['remove'](_0xea0043['entity'],_0xea0043['data']),this['_createImp'+'lementatio'+'n'](_0x122afb)['reset'](_0xea0043,_0xea0043['data']);}['recreatePh'+'ysicalShap'+'es'](_0x5f3755){this['implementa'+'tions'][_0x5f3755['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x5f3755);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x308466,_0x47569e){if(_0x308466===_0x47569e){const _0x47d5ff=_0x308466['getWorldTr'+'ansform']()['getScale']();wc['setScale'](_0x47d5ff['x'],_0x47d5ff['y'],_0x47d5ff['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x308466['parent'],_0x47569e),wc['mul'](_0x308466['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x50d206){const _0x18f26c=_0x50d206['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x18f26c['x'],_0x18f26c['y'],_0x18f26c['z']);}['_getNodeTr'+'ansform'](_0x12a71e,_0x10ad99){let _0x480bd8,_0x1fb49f;_0x10ad99?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x12a71e,_0x10ad99),_0x480bd8=KL,_0x1fb49f=Vr,wc['getTransla'+'tion'](_0x480bd8),_0x1fb49f['setFromMat'+'4'](wc)):(_0x480bd8=_0x12a71e['getPositio'+'n'](),_0x1fb49f=_0x12a71e['getRotatio'+'n']());const _0x4b1927=new Ammo['btQuaterni'+'on'](),_0x5a787c=new Ammo['btTransfor'+'m']();_0x5a787c['setIdentit'+'y']();const _0x6158dc=_0x5a787c['getOrigin'](),_0x520ee4=_0x12a71e['collision'];if(_0x520ee4&&_0x520ee4['_hasOffset']){const _0x21e4a4=_0x520ee4['data']['linearOffs'+'et'],_0xe51889=_0x520ee4['data']['angularOff'+'set'],_0x3d939b=ZL;Vr['copy'](_0x1fb49f)['transformV'+'ector'](_0x21e4a4,_0x3d939b),_0x3d939b['add'](_0x480bd8),Vr['copy'](_0x1fb49f)['mul'](_0xe51889),_0x6158dc['setValue'](_0x3d939b['x'],_0x3d939b['y'],_0x3d939b['z']),_0x4b1927['setValue'](Vr['x'],Vr['y'],Vr['z'],Vr['w']);}else _0x6158dc['setValue'](_0x480bd8['x'],_0x480bd8['y'],_0x480bd8['z']),_0x4b1927['setValue'](_0x1fb49f['x'],_0x1fb49f['y'],_0x1fb49f['z'],_0x1fb49f['w']);return _0x5a787c['setRotatio'+'n'](_0x4b1927),Ammo['destroy'](_0x4b1927),_0x5a787c;}['destroy'](){for(const _0xa0a5c5 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0xa0a5c5]);this['_triMeshCa'+'che']=null,super['destroy']();}}const Ec=new ie(),oR=new Kt();class lR{constructor(_0x57db75,_0x2d2210,_0x1665f8){this['_entity']=_0x57db75,this['_element']=_0x57db75['element'],this['model']=new sr(),this['node']=new Ie(),this['model']['graph']=this['node'],this['mesh']=_0x2d2210,this['meshInstan'+'ce']=new He(this['mesh'],_0x1665f8,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x57db75['name'],this['meshInstan'+'ce']['castShadow']=!(-0xc89*0x1+0xb42+0x4*0x52),this['meshInstan'+'ce']['receiveSha'+'dow']=!(-0x1ae2+-0x1f*-0xe3+0x4d*-0x2),this['_meshDirty']=!(-0xa7*0x2+0x1*0x2ed+-0x19e),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0xfe9287,_0xa6552f;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0xfe9287=this['meshInstan'+'ce'])==null||_0xfe9287['destroy'](),this['meshInstan'+'ce']=null,(_0xa6552f=this['unmaskMesh'+'Instance'])==null||_0xa6552f['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x38653a){this['meshInstan'+'ce']&&(this['mesh']=_0x38653a,this['meshInstan'+'ce']['mesh']=_0x38653a,this['meshInstan'+'ce']['visible']=!!_0x38653a,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x38653a),this['forceUpdat'+'eAabb']());}['setMask'](_0x46a9d7){var _0x2983da;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x46a9d7){this['unmaskMesh'+'Instance']=new He(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(0xcd*0x1+0x1cb1+-0x1d7d),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(-0xa66+-0x62b*0x2+-0x1*-0x16bd),this['unmaskMesh'+'Instance']['pick']=!(0x21fe+-0x14cd+-0xd30),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x587dc5 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x587dc5,this['meshInstan'+'ce']['parameters'][_0x587dc5]['data']);}else{const _0x55c75f=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x55c75f>=-0x1190+0x2051*0x1+-0x3*0x4eb&&this['model']['meshInstan'+'ces']['splice'](_0x55c75f,-0x1*0x9a9+0x1a46+-0x84e*0x2);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x46a9d7||((_0x2983da=this['unmaskMesh'+'Instance'])==null||_0x2983da['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x39ca77){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x39ca77,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x39ca77));}['setParamet'+'er'](_0xd2e45c,_0x19040c){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0xd2e45c,_0x19040c),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0xd2e45c,_0x19040c));}['deletePara'+'meter'](_0x3a9921){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x3a9921),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x3a9921));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0x58b866=function(_0x40102c){let _0x409c41;const _0x25d9c1=_0x40102c['children'],_0x2cb67f=_0x25d9c1['length'];if(_0x2cb67f){for(let _0x507311=-0x2*0x10a3+-0x1af9+0x3c3f;_0x507311<_0x2cb67f;_0x507311++)_0x25d9c1[_0x507311]['element']&&(_0x409c41=_0x25d9c1[_0x507311]);if(!_0x409c41)return null;const _0x41d09b=_0x58b866(_0x409c41);return _0x41d09b||_0x409c41;}return null;};if(this['unmaskMesh'+'Instance']){const _0x57e830=_0x58b866(this['_entity']);_0x57e830&&_0x57e830['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x57e830['element']['drawOrder']+_0x57e830['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),w['trace'](Vs,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x507457){this['meshInstan'+'ce']&&(w['trace'](Vs,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x507457),this['meshInstan'+'ce']['drawOrder']=_0x507457);}['setCull'](_0x13e239){if(!this['meshInstan'+'ce'])return;const _0x1b38ec=this['_element'];let _0x3433ac=null;_0x13e239&&_0x1b38ec['_isScreenS'+'pace']()&&(_0x3433ac=function(_0x364ded){return _0x1b38ec['isVisibleF'+'orCamera'](_0x364ded);}),this['meshInstan'+'ce']['cull']=_0x13e239,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x3433ac,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x13e239,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x3433ac);}['setScreenS'+'pace'](_0x690ff1){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x690ff1,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x690ff1));}['setLayer'](_0x1d56a1){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x1d56a1,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x1d56a1));}['forceUpdat'+'eAabb'](_0x5a75c0){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(0x2ad+-0xd83*-0x2+-0x1db2),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(-0x1dde*-0x1+-0x2e3*0x2+0x1817*-0x1)));}['setAabbFun'+'c'](_0x3c27ad){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x3c27ad,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x3c27ad));}}class cR{constructor(_0x28e6e9){h(this,'_evtSetMes'+'hes',null),(this['_element']=_0x28e6e9,this['_entity']=_0x28e6e9['entity'],this['_system']=_0x28e6e9['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=0x9c5+-0x1ccb+-0x1306*-0x1,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(-0x18df*-0x1+0x1*0x3d+-0x191b),this['_rect']=new re(-0xfc4+0x2*0xeb9+-0x67*0x22,-0x1901+-0x4c9*-0x5+0x45*0x4,0x1e8+-0xacf+0x8e8,0x2493+-0x1833+-0xc5f),this['_mask']=!(0x4*0x832+0x2333+-0x43fa),this['_maskRef']=0xfe5*0x1+-0x1*-0x329+-0x130e,this['_outerScal'+'e']=new J(),this['_outerScal'+'eUniform']=new Float32Array(0xa97+-0xfc9+0x4a*0x12),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(0xce+-0x77f*0x1+0x6b5),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(0x1fa0+0xf3+-0x208f),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new lR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new ie(0x1d*0x29+0x1*-0x607+-0x5*-0x47,-0x103*0x5+0x20fc*0x1+-0x1bec,-0xb9b+-0x851*0x4+0x59c*0x8,0x3*-0x4d9+-0x3*0xc97+0x3451),this['_colorUnif'+'orm']=new Float32Array([-0xa7b*0x2+-0x1*0x1fbe+0x34b5,-0x25ad*0x1+0x1*-0x12f3+0x38a1,0x61*-0x2d+-0x1*0x2309+0x3417]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',0xcb7+0x73+0x463*-0x3),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x34c2c8){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x595ca2){this['_updateMat'+'erial'](_0x595ca2);}['_onScreenC'+'hange'](_0x2c1bd6,_0x3b8263){_0x2c1bd6?this['_updateMat'+'erial'](_0x2c1bd6['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x421+0x1656+-0x1a76));}['_onDrawOrd'+'erChange'](_0x387477){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x387477),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(0xa*-0x1ed+0x1b9f+-0x217*0x4);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt);}['_updateMat'+'erial'](_0x17908e){const _0x1e3519=!!this['_mask'],_0x3fe9e4=!!(this['sprite']&&this['sprite']['renderMode']===Pt),_0x14139a=!!(this['sprite']&&this['sprite']['renderMode']===Mt);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x17908e,_0x1e3519,_0x3fe9e4,_0x14139a)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x17908e),this['_renderabl'+'e']['setLayer'](_0x17908e?Ow:Ky));}['_createMes'+'h'](){const _0x37807a=this['_element'],_0x449388=_0x37807a['calculated'+'Width'],_0x4bb6b7=_0x37807a['calculated'+'Height'],_0x23843d=this['_rect'],_0x798519=this['_system']['app']['graphicsDe'+'vice'],_0x571b0c=new Float32Array([_0x449388,-0x1*-0xe99+0x206d+-0x1cf*0x1a,0x19cd+-0x4*-0x649+-0x32f1,0x5*0x123+-0x1*0x449+-0x166,-0x1431*0x1+-0x1c16+0x2d7*0x11,0x197d+-0x1*-0x7e3+0x1*-0x215f,_0x23843d['x']+_0x23843d['z'],0x1895+-0xfc6+0x142*-0x7-_0x23843d['y'],_0x449388,_0x4bb6b7,-0x200a*-0x1+-0x1319*0x1+-0xcf1,-0x2*0xfc1+0x143*0x9+-0x1d5*-0xb,-0x857+0x112*0x5+0x3*0xff,0x1ef*0x7+-0x21d9+0x1451,_0x23843d['x']+_0x23843d['z'],-0x120e*-0x2+0x11*-0xf+-0x141*0x1c-(_0x23843d['y']+_0x23843d['w']),-0x3*0x347+-0x17*0xf1+0x1f7c,-0xb*-0x2f1+0xd1*-0x2+-0x5*0x625,-0x1*-0x157d+0x15b+-0x16d8,0xb*-0x21d+-0xd*-0x18d+0x316,-0x262e+-0x220a+0x4838,0x1ca7+0x29*0x53+0x29f1*-0x1,_0x23843d['x'],-0x25c8+-0x1408+0x39d1-_0x23843d['y'],-0x275*0xa+0x167f+0xb1*0x3,_0x4bb6b7,-0xd*0x2b+0xf70+-0xd41,0xc7e+-0xd*0x267+0x12bd,-0xeaf+-0xc*-0x11c+-0x27*-0x9,0x91*0x3a+-0x1*-0x168+-0x2241,_0x23843d['x'],0x8d5+0x1*-0x1b53+0x127f-(_0x23843d['y']+_0x23843d['w'])]),_0x14cdbe=oR['get'](_0x798519,()=>new kt(_0x798519,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':gs,'components':0x3,'type':Ve},{'semantic':is,'components':0x2,'type':Ve}])),_0x1e706c=new Is(_0x798519,_0x14cdbe,-0x2175+0x2435*0x1+-0xa*0x46,{'data':_0x571b0c['buffer']}),_0xb53309=new Ge(_0x798519);return _0xb53309['vertexBuff'+'er']=_0x1e706c,_0xb53309['primitive'][0x25d+0x165b+-0xc5c*0x2]['type']=Er,_0xb53309['primitive'][0x1462+0xd7e+-0x10f*0x20]['base']=0x1*0x116f+-0x110b*0x2+0x10a7,_0xb53309['primitive'][0x143b*-0x1+-0xe4b+0x2286]['count']=-0xd20+-0x871*-0x1+0x191*0x3,_0xb53309['primitive'][-0x1acb+-0x24ac+0xb*0x5c5]['indexed']=!(0x17f*-0x17+0x5*-0x658+0x4222),_0xb53309['aabb']['setMinMax'](D['ZERO'],new D(_0x449388,_0x4bb6b7,0x2627+0xf93*0x1+-0x35ba)),this['_updateMes'+'h'](_0xb53309),_0xb53309;}['_updateMes'+'h'](_0x441af6){const _0x277205=this['_element'];let _0x2e2bca=_0x277205['calculated'+'Width'],_0x948a7e=_0x277205['calculated'+'Height'];if(_0x277205['fitMode']!==th&&this['_targetAsp'+'ectRatio']>0x24ee+-0x219f+-0x34f){const _0x13495c=_0x277205['calculated'+'Width']/_0x277205['calculated'+'Height'];_0x277205['fitMode']===GL&&_0x13495c>this['_targetAsp'+'ectRatio']||_0x277205['fitMode']===HL&&_0x13495c<this['_targetAsp'+'ectRatio']?_0x2e2bca=_0x277205['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x948a7e=_0x277205['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x31a1a5=_0x277205['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x31a1a5),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){const _0x493b0d=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x2e5917=(-0x6cd+-0x1acd+-0x6*-0x59a)/_0x493b0d['rect']['z'],_0x41f00c=(-0xb*-0x174+-0xb*0x191+0x141)/_0x493b0d['rect']['w'];this['_innerOffs'+'et']['set'](_0x493b0d['border']['x']*_0x2e5917,_0x493b0d['border']['y']*_0x41f00c,_0x493b0d['border']['z']*_0x2e5917,_0x493b0d['border']['w']*_0x41f00c);const _0x39da49=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x493b0d['rect']['x']/_0x39da49['width'],_0x493b0d['rect']['y']/_0x39da49['height'],_0x493b0d['rect']['z']/_0x39da49['width'],_0x493b0d['rect']['w']/_0x39da49['height']);const _0x3a2051=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x4467ce=_0x493b0d['rect']['z']/_0x3a2051,_0x430e91=_0x493b0d['rect']['w']/_0x3a2051;this['_outerScal'+'e']['set'](Math['max'](_0x2e2bca,this['_innerOffs'+'et']['x']*_0x4467ce),Math['max'](_0x948a7e,this['_innerOffs'+'et']['y']*_0x430e91));let _0x49f300=_0x4467ce,_0x130b69=_0x430e91;this['_outerScal'+'e']['x']/=_0x4467ce,this['_outerScal'+'e']['y']/=_0x430e91,_0x49f300*=Y['clamp'](_0x2e2bca/(this['_innerOffs'+'et']['x']*_0x4467ce),-0xd9c*-0x1+0x1729+-0x24c5+0.0001,-0xb73+0xf5d*0x1+0xb*-0x5b),_0x130b69*=Y['clamp'](_0x948a7e/(this['_innerOffs'+'et']['y']*_0x430e91),0x2bd*0x1+0x23f+0x27e*-0x2+0.0001,-0x2667+0x1426+-0x52*-0x39),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][0x3*0x71a+0x1b7*0x15+-0x3951]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0xb50+-0xcf6+-0x8d*-0x3]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x3c*0x6c+0x251*0x5+0x1*0xdbd]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x23ec+-0x5*0x101+-0x1*0x1ee4]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][0x263b+-0x275+-0x23c6]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][0x49b*0x3+0x224f+0x301f*-0x1]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x1*0x1439+-0x177*-0x6+-0x1ef*0xf]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x1a26+0x1508+-0x2f2b]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][0x26a1+-0x1*0x18e5+-0xdbc]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x1b99+-0x2a*-0x53+0xdfc]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0x49f300,_0x130b69,-0x2*0xb11+-0x1799+-0x4*-0xb6f),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((0x1*0x1db6+0xd6d+-0x2b23+0.5-_0x277205['pivot']['x'])*_0x2e2bca,(0x1e18+0x1*0x407+0x6d3*-0x5+0.5-_0x277205['pivot']['y'])*_0x948a7e,-0x1*0x1c3d+-0x372+0x1faf*0x1));}else{const _0x90074f=_0x441af6['vertexBuff'+'er'],_0x1f51f0=new Float32Array(_0x90074f['lock']()),_0x12ee48=_0x277205['pivot']['x'],_0x4e8a41=_0x277205['pivot']['y'];_0x1f51f0[-0x20*-0xbf+0x92c+-0x210c]=_0x2e2bca-_0x12ee48*_0x2e2bca,_0x1f51f0[0x2*0x6a3+-0xe96+0x151]=0x216d+0x201*-0x9+-0xf64-_0x4e8a41*_0x948a7e,_0x1f51f0[-0x17b4+0x1388+0x434]=_0x2e2bca-_0x12ee48*_0x2e2bca,_0x1f51f0[0x6e7*0x2+-0xcc1+0x14*-0xd]=_0x948a7e-_0x4e8a41*_0x948a7e,_0x1f51f0[0x10*0x72+-0x14ae+-0x2*-0x6cf]=0x1*0x2105+0x1f5a+-0x405f-_0x12ee48*_0x2e2bca,_0x1f51f0[0x15bb*-0x1+0x3d2*0x9+-0x3*0x432]=-0x1fc8+-0xc*-0x114+0x12d8-_0x4e8a41*_0x948a7e,_0x1f51f0[0xcaf+-0x29d+-0x9fa]=-0x16c+-0x65b+-0x7c7*-0x1-_0x12ee48*_0x2e2bca,_0x1f51f0[-0xe92+-0xd*-0x251+-0x6*0x293]=_0x948a7e-_0x4e8a41*_0x948a7e;let _0x142a76=-0x2122+0x10ab+-0x20f*-0x8,_0x3836df=0x1cd3*0x1+0x1ad7+-0x37a9,_0x119fdd=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x536a62=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x536a62&&(_0x119fdd=_0x536a62['rect'],_0x142a76=this['_sprite']['atlas']['texture']['width'],_0x3836df=this['_sprite']['atlas']['texture']['height']);}_0x1f51f0[-0x22a3+-0x1ed*-0x11+0x1ec]=(_0x119fdd['x']+_0x119fdd['z'])/_0x142a76,_0x1f51f0[-0x2344+-0x178+0x24c3]=0x1*0x18a+0x172a+-0x18b3-_0x119fdd['y']/_0x3836df,_0x1f51f0[-0x95*0x43+-0x1*-0x5f3+-0x26*-0xdf]=(_0x119fdd['x']+_0x119fdd['z'])/_0x142a76,_0x1f51f0[0x5d8+-0x1e24+0x185b]=0x2*-0xc9d+-0x209d+0x4d2*0xc-(_0x119fdd['y']+_0x119fdd['w'])/_0x3836df,_0x1f51f0[0x21d7*0x1+-0x1f*0x31+-0x1bd2*0x1]=_0x119fdd['x']/_0x142a76,_0x1f51f0[-0xd5e+0x1*-0x4fe+0x1273]=-0x2*-0x12a9+-0xdf6+0x7c9*-0x3-_0x119fdd['y']/_0x3836df,_0x1f51f0[0x59*0x33+0x1043+-0x21e0]=_0x119fdd['x']/_0x142a76,_0x1f51f0[0x792*-0x2+0x4a8+0xa9b]=0x18*-0x125+-0x159c+0x3115-(_0x119fdd['y']+_0x119fdd['w'])/_0x3836df,_0x90074f['unlock']();const _0x15f340=new D(0x1*0x1972+0xa*-0x207+-0x1*0x52c-_0x12ee48*_0x2e2bca,0x1348+0x216c+-0x34b4-_0x4e8a41*_0x948a7e,0x1947+-0x1de6*-0x1+-0x372d),_0x29bce7=new D(_0x2e2bca-_0x12ee48*_0x2e2bca,_0x948a7e-_0x4e8a41*_0x948a7e,0x2622+-0x67*0x5f+-0x1*-0x17);_0x441af6['aabb']['setMinMax'](_0x15f340,_0x29bce7),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](-0x185e+-0x95f*-0x1+0xf00,0x1a0c+-0x16bc+0x34f*-0x1,0xc4b*0x1+-0x7fa*-0x2+-0xf1*0x1e),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](0xb*-0x35e+-0x327*-0x1+0x5*0x6c7,0x17ef+0x3*0x773+-0x5c9*0x8,0x11c*-0x1f+0xf2e+0x2*0x99b),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(0x6a1+0xda1+-0x1441*0x1);}['_updateSpr'+'ite'](){let _0x8297=!(-0x5*0x563+0x10cf+0xa21),_0x45623f=null;if(this['_targetAsp'+'ectRatio']=-(-0x1652+0x11c*-0x1+0x176f),this['_sprite']&&this['_sprite']['atlas']){_0x45623f=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x8297=this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt;const _0x443fc2=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x443fc2==null?void(-0x11*-0x1a7+-0x2434+0x81d):_0x443fc2['rect']['w'])>-0x3*-0x327+0x1*-0x2506+0x1b91&&(this['_targetAsp'+'ectRatio']=_0x443fc2['rect']['z']/_0x443fc2['rect']['w']);}this['mesh']=_0x8297?_0x45623f:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x128d+0x1eef+-0x13d*0xa):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x1f4a54){return _0x1f4a54['center']['set'](0xbc3*0x3+-0xb5d*0x1+-0x17ec,-0x3*0x7a2+0x197f+-0x299,0x25fe+0x14ec+0x1d75*-0x2),_0x1f4a54['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0xaf5+0x19a2+-0x1d*0x143+0.5),this['_outerScal'+'e']['y']*(-0xdc7+0x4*-0x14d+0x12fb+0.5),-0x135*-0x3+-0x10b8+-0x7*-0x1df+0.001),_0x1f4a54['setFromTra'+'nsformedAa'+'bb'](_0x1f4a54,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x1f4a54;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0x196d3f=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x196d3f),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0xe006be){this['material']=_0xe006be['resource'];}['_onMateria'+'lAdded'](_0x268f6c){this['_system']['app']['assets']['off']('add:'+_0x268f6c['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x268f6c['id']&&this['_bindMater'+'ialAsset'](_0x268f6c);}['_bindMater'+'ialAsset'](_0x3b65cb){this['_entity']['enabled']&&(_0x3b65cb['on']('load',this['_onMateria'+'lLoad'],this),_0x3b65cb['on']('change',this['_onMateria'+'lChange'],this),_0x3b65cb['on']('remove',this['_onMateria'+'lRemove'],this),_0x3b65cb['resource']?this['_onMateria'+'lLoad'](_0x3b65cb):this['_system']['app']['assets']['load'](_0x3b65cb));}['_unbindMat'+'erialAsset'](_0x56652a){_0x56652a['off']('load',this['_onMateria'+'lLoad'],this),_0x56652a['off']('change',this['_onMateria'+'lChange'],this),_0x56652a['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0xf9078e){this['_system']['app']['assets']['off']('add:'+_0xf9078e['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0xf9078e['id']&&this['_bindTextu'+'reAsset'](_0xf9078e);}['_bindTextu'+'reAsset'](_0x157060){this['_entity']['enabled']&&(_0x157060['on']('load',this['_onTexture'+'Load'],this),_0x157060['on']('change',this['_onTexture'+'Change'],this),_0x157060['on']('remove',this['_onTexture'+'Remove'],this),_0x157060['resource']?this['_onTexture'+'Load'](_0x157060):this['_system']['app']['assets']['load'](_0x157060));}['_unbindTex'+'tureAsset'](_0x1bbde8){_0x1bbde8['off']('load',this['_onTexture'+'Load'],this),_0x1bbde8['off']('change',this['_onTexture'+'Change'],this),_0x1bbde8['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x1d4fad){this['texture']=_0x1d4fad['resource'];}['_onTexture'+'Change'](_0x1fd126){}['_onTexture'+'Remove'](_0x54864a){}['_onSpriteA'+'ssetAdded'](_0x11459b){this['_system']['app']['assets']['off']('add:'+_0x11459b['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x11459b['id']&&this['_bindSprit'+'eAsset'](_0x11459b);}['_bindSprit'+'eAsset'](_0x2dafb3){this['_entity']['enabled']&&(_0x2dafb3['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x2dafb3['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x2dafb3['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x2dafb3['resource']?this['_onSpriteA'+'ssetLoad'](_0x2dafb3):this['_system']['app']['assets']['load'](_0x2dafb3));}['_unbindSpr'+'iteAsset'](_0x53b0f7){_0x53b0f7['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x53b0f7['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x53b0f7['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x53b0f7['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x53b0f7['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x55a779){if(!_0x55a779||!_0x55a779['resource'])this['sprite']=null;else{if(_0x55a779['resource']['atlas'])this['sprite']=_0x55a779['resource'];else{const _0x3d19bc=_0x55a779['data']['textureAtl'+'asAsset'];if(_0x3d19bc){const _0x460eed=this['_system']['app']['assets'];_0x460eed['off']('load:'+_0x3d19bc,this['_onTexture'+'AtlasLoad'],this),_0x460eed['once']('load:'+_0x3d19bc,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x300465){this['_onSpriteA'+'ssetLoad'](_0x300465);}['_onSpriteA'+'ssetRemove'](_0xfe418){}['_bindSprit'+'e'](_0x91742e){this['_evtSetMes'+'hes']=_0x91742e['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0x91742e['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x91742e['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x91742e['atlas']&&_0x91742e['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x2ff2be){var _0x33b010;(_0x33b010=this['_evtSetMes'+'hes'])==null||_0x33b010['off'](),this['_evtSetMes'+'hes']=null,_0x2ff2be['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x2ff2be['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x2ff2be['atlas']&&_0x2ff2be['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],0xbc0+0x202d+-0x2bed,this['_sprite']['frameKeys']['length']-(-0x9*0x3fa+0x9ca+0x1a01*0x1))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==ci&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x1d9869){const _0x428203=this['_spriteAss'+'et'];_0x428203 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x428203):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x428203));}['onEnable'](){if(this['_materialA'+'sset']){const _0x370cce=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x370cce&&_0x370cce['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x370cce);}if(this['_textureAs'+'set']){const _0x3234c6=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x3234c6&&_0x3234c6['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x3234c6);}if(this['_spriteAss'+'et']){const _0x4b7dcc=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x4b7dcc&&_0x4b7dcc['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x4b7dcc);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x32547b){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x32547b,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x32547b;let _0x27ff01=-0x2454+-0xacc*-0x1+-0x158*-0x13;if(this['_element']['maskedBy']&&(_0x27ff01=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0xb84660=new pi({'ref':_0x27ff01+(-0x13*-0x57+0x39*0xa3+-0x2abf),'func':dh,'zpass':Bx});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0xb84660,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0xb84660;}}['_updateRen'+'derableEmi'+'ssive'](){Ec['linear'](this['_color']),this['_colorUnif'+'orm'][0x7*0x568+0x22a3+0x5*-0xe7f]=Ec['r'],this['_colorUnif'+'orm'][0x1a2e+0x11a3+-0x2bd0]=Ec['g'],this['_colorUnif'+'orm'][0x111*0x1+0x3b*-0xa7+0x256e]=Ec['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x48b379){this['_color']===_0x48b379&&w['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x5f5d1f,g:_0xa1bea4,b:_0x1a00f7}=_0x48b379;(this['_color']['r']!==_0x5f5d1f||this['_color']['g']!==_0xa1bea4||this['_color']['b']!==_0x1a00f7)&&(this['_color']['r']=_0x5f5d1f,this['_color']['g']=_0xa1bea4,this['_color']['b']=_0x1a00f7,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x284c69){_0x284c69!==this['_color']['a']&&(this['_color']['a']=_0x284c69,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x284c69)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x284c69);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x14848e){this['_rect']===_0x14848e&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x333399,_0x389978,_0x5574b3,_0x10d87b;_0x14848e instanceof re?(_0x333399=_0x14848e['x'],_0x389978=_0x14848e['y'],_0x5574b3=_0x14848e['z'],_0x10d87b=_0x14848e['w']):(_0x333399=_0x14848e[0x1a88+-0x1513+-0x575],_0x389978=_0x14848e[0x147+-0x25f2+0x2*0x1256],_0x5574b3=_0x14848e[0x1077+-0x2650+0xf*0x175],_0x10d87b=_0x14848e[0xd*-0xd4+0x2678+-0x1bb1]),!(_0x333399===this['_rect']['x']&&_0x389978===this['_rect']['y']&&_0x5574b3===this['_rect']['z']&&_0x10d87b===this['_rect']['w'])&&(this['_rect']['set'](_0x333399,_0x389978,_0x5574b3,_0x10d87b),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x2287*-0x1+0x11cb+-0x3452):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x462278=this['_system']['app']['assets'];_0x462278['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x17b390=_0x462278['get'](this['_materialA'+'sset']);_0x17b390&&(_0x17b390['off']('load',this['_onMateria'+'lLoad'],this),_0x17b390['off']('change',this['_onMateria'+'lChange'],this),_0x17b390['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0xad2008){if(this['_material']!==_0xad2008){if(!_0xad2008){const _0x25c8bd=this['_element']['_isScreenS'+'pace']();this['mask']?_0xad2008=_0x25c8bd?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0xad2008=_0x25c8bd?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0xad2008,this['_materialA'+'sset']){const _0x4c5390=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x4c5390||_0x4c5390['resource']!==_0xad2008)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0xad2008&&(this['_renderabl'+'e']['setMateria'+'l'](_0xad2008),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0xc8e5b8){const _0x25d697=this['_system']['app']['assets'];let _0x7b95bc=_0xc8e5b8;if(_0xc8e5b8 instanceof pe&&(_0x7b95bc=_0xc8e5b8['id']),this['_materialA'+'sset']!==_0x7b95bc){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x7b95bc,this['_materialA'+'sset']){const _0xa2e579=_0x25d697['get'](this['_materialA'+'sset']);_0xa2e579?this['_bindMater'+'ialAsset'](_0xa2e579):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x7b95bc,_0x25d697['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x7b95bc;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0x21a792){if(this['_texture']!==_0x21a792){if(this['_textureAs'+'set']){const _0x26620e=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x26620e&&_0x26620e['resource']!==_0x21a792&&(this['textureAss'+'et']=null);}if(this['_texture']=_0x21a792,_0x21a792){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x26bff3=this['_texture']['width']/this['_texture']['height'];_0x26bff3!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x26bff3,this['_element']['fitMode']!==th&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(0x3f*0x89+0x12a8+0x1*-0x345e),this['_element']['fitMode']!==th&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x2aafe9){const _0x321460=this['_system']['app']['assets'];let _0x344ab5=_0x2aafe9;if(_0x2aafe9 instanceof pe&&(_0x344ab5=_0x2aafe9['id']),this['_textureAs'+'set']!==_0x344ab5){if(this['_textureAs'+'set']){_0x321460['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x101cc7=_0x321460['get'](this['_textureAs'+'set']);_0x101cc7&&(_0x101cc7['off']('load',this['_onTexture'+'Load'],this),_0x101cc7['off']('change',this['_onTexture'+'Change'],this),_0x101cc7['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x344ab5,this['_textureAs'+'set']){const _0x37eb09=_0x321460['get'](this['_textureAs'+'set']);_0x37eb09?this['_bindTextu'+'reAsset'](_0x37eb09):(this['texture']=null,_0x321460['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0xf9f1f8){const _0x2ee869=this['_system']['app']['assets'];let _0x4b69e0=_0xf9f1f8;if(_0xf9f1f8 instanceof pe&&(_0x4b69e0=_0xf9f1f8['id']),this['_spriteAss'+'et']!==_0x4b69e0){if(this['_spriteAss'+'et']){_0x2ee869['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x29a698=_0x2ee869['get'](this['_spriteAss'+'et']);_0x29a698&&this['_unbindSpr'+'iteAsset'](_0x29a698);}if(this['_spriteAss'+'et']=_0x4b69e0,this['_spriteAss'+'et']){const _0xff0d9=_0x2ee869['get'](this['_spriteAss'+'et']);_0xff0d9?this['_bindSprit'+'eAsset'](_0xff0d9):(this['sprite']=null,_0x2ee869['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x4b69e0);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x434045){if(this['_sprite']!==_0x434045){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x5e55fa=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x5e55fa&&_0x5e55fa['resource']!==_0x434045&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x434045,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],0x25b7+-0x4*-0xa7+-0x2853,this['_sprite']['frameKeys']['length']-(0x1*-0x26f1+-0x3*0xb23+0x485b))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x3aadbe){const _0x3d12d1=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=Y['clamp'](_0x3aadbe,0x799+0x252b+0x2*-0x1662,this['_sprite']['frameKeys']['length']-(-0xaea+0x1c8+-0x1*-0x923)):this['_spriteFra'+'me']=_0x3aadbe,this['_spriteFra'+'me']!==_0x3d12d1&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x3aadbe);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x85141a){this['_renderabl'+'e']['setMesh'](_0x85141a),this['_defaultMe'+'sh']===_0x85141a?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x5b8c99){this['_mask']!==_0x5b8c99&&(this['_mask']=_0x5b8c99,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0xd8cde4){this['_pixelsPer'+'Unit']!==_0xd8cde4&&(this['_pixelsPer'+'Unit']=_0xd8cde4,this['_sprite']&&(this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class hR extends me{constructor(_0x2aa645){super(),this['_app']=_0x2aa645,_0x2aa645['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['_autoLoad']=!(-0x1b0c+-0x45a+-0x1*-0x1f67),this['_disableLo'+'calization']=!(-0x1*0x2649+0x2*-0xbd2+0x3dee),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x3ca5ae){const _0x51a1c2=_0x3ca5ae instanceof pe?_0x3ca5ae['id']:_0x3ca5ae;this['_defaultAs'+'set']!==_0x51a1c2&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x51a1c2,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x429420){const _0x1911fa=_0x429420 instanceof pe?_0x429420['id']:_0x429420;this['_localized'+'Asset']!==_0x1911fa&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0x1911fa,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x759527){this['_autoLoad']!==_0x759527&&(this['_autoLoad']=_0x759527,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x1502c){this['_disableLo'+'calization']!==_0x1502c&&(this['_disableLo'+'calization']=_0x1502c,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x3b1c22=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x3b1c22?this['_onDefault'+'AssetAdd'](_0x3b1c22):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x1a90ba=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x1a90ba&&(_0x1a90ba['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x1a90ba['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x1a90ba['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x25011d){this['_defaultAs'+'set']===_0x25011d['id']&&(_0x25011d['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x25011d['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x25011d['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x56a945){this['_defaultAs'+'set']===_0x56a945['id']&&(_0x56a945['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x56a945['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0xb5f08f=this['_app']['assets']['get'](this['_localized'+'Asset']);_0xb5f08f&&(_0xb5f08f['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0xb5f08f['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0xb5f08f['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0xb5f08f['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0xb5f08f):this['_app']['assets']['load'](_0xb5f08f));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x56705d=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x56705d&&(_0x56705d['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x56705d['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x56705d['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x5ba9e1){this['_localized'+'Asset']===_0x5ba9e1['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x4fa306){this['fire']('load',_0x4fa306);}['_onLocaliz'+'edAssetCha'+'nge'](_0x41bfc5,_0x47d3c6,_0x1eb6cd,_0xe1bc9f){this['fire']('change',_0x41bfc5,_0x47d3c6,_0x1eb6cd,_0xe1bc9f);}['_onLocaliz'+'edAssetRem'+'ove'](_0x19c6d8){this['_localized'+'Asset']===_0x19c6d8['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x19c6d8);}['_onLocaleA'+'dd'](_0x52f68e,_0x4929f2){this['_app']['i18n']['locale']===_0x52f68e&&this['_onSetLoca'+'le'](_0x52f68e);}['_onLocaleR'+'emove'](_0x285658,_0x265a13){this['_app']['i18n']['locale']===_0x285658&&this['_onSetLoca'+'le'](_0x285658);}['_onSetLoca'+'le'](_0x25e260){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x2e5cc1=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x2e5cc1||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x3aba47=_0x2e5cc1['getLocaliz'+'edAssetId'](_0x25e260);if(!_0x3aba47){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x3aba47;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['off']();}}const Rh='msdf',dR='bitmap',Mo=0x19*0x57+-0x2*0x1ee+-0x4a3,an=0x9d*0x9+0x32*-0x9d+-0x57*-0x4a,Du=-0x4e7+-0x24a*0x7+0x14ef,Zv=0x1245+0x1fe4+-0x3226,Iu=-0x26d8+-0x107b*-0x1+0x1*0x1661,Lu=-0xa73+0x1*0x1d87+-0x130f,Ru=0x2*-0x78b+0x2*0x80e+-0x100,Ou=0x269+0x12f5*-0x2+0x2388,Xg=-0x10a1*-0x1+0x1074+0x1*-0x210d,fR='\x20\x09\x0a\x0d\x0b\x0c',uR=/[\w|/]/;class pR{constructor(_0x4f0b5d){this['_symbols']=_0x4f0b5d,this['_index']=0x1*-0x2527+0x5ad*-0x6+0x4735,this['_last']=-0x2*0xa6f+0xb8a+0x954,this['_cur']=this['_symbols']['length']>0x1*-0x196a+0xb5*-0x1c+0x2d36?this['_symbols'][0x33*0x86+0xce*0x2b+-0x3d4c]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x3d9505=this['_read']();for(;_0x3d9505===Xg;)_0x3d9505=this['_read']();return _0x3d9505!==Mo&&_0x3d9505!==an&&(this['_last']=this['_index']),_0x3d9505;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x194d4b=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x2097ec=this['read'](),_0x7692c7='';for(;_0x7692c7+=(_0x7692c7['length']>0xc5*-0x3+0x1109+0x1d*-0x82?'\x0a':'')+_0x194d4b[_0x2097ec]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x2097ec===Mo||_0x2097ec===an);)_0x2097ec=this['read']();return _0x7692c7;}['_read'](){return this['_buf']=[],this['_eof']()?Mo:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>0x9b0+0x3fb+-0xdab?Du:Mo;case'[':return this['_mode']='tag',this['_buf']['length']>-0x4b8+-0x2392+0x284a*0x1?Du:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',an;case'[':return this['_store'](),Zv;case']':return this['_store'](),this['_mode']='text',Iu;case'=':return this['_store'](),Lu;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',an);}}['_whitespac'+'e'](){for(this['_store']();fR['indexOf'](this['_cur'])!==-(-0x3e*-0x10+0x57*0x2b+-0x127c);)this['_store']();return Xg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',an;case'\x22':return this['_next'](),Ru;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return Ou;}['_isIdentif'+'ierSymbol'](_0x1a11a8){return _0x1a11a8['length']===-0x210c+0x167e*-0x1+0x378b&&_0x1a11a8['match'](uR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0xf28843){this['_buf']['push'](_0xf28843);}}class mR{constructor(_0x4a2dd1){this['_scanner']=new pR(_0x4a2dd1),this['_error']=null;}['parse'](_0x4c3f08,_0x5b58bc){for(;;)switch(this['_scanner']['read']()){case Mo:return!(0x1548+0x6ef*-0x2+-0x92*0xd);case an:return!(-0xd8d+0x1*0x494+0x2fe*0x3);case Du:Array['prototype']['push']['apply'](_0x4c3f08,this['_scanner']['buf']());break;case Zv:if(!this['_parseTag'](_0x4c3f08,_0x5b58bc))return!(0x12f7+-0x1*0x78a+-0xb6c);break;default:return!(-0x193a+-0x24df*0x1+0x3e1a);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0x12f227,_0x226e28){let _0x40ab22=this['_scanner']['read']();if(_0x40ab22!==Ou)return this['_error']='expected\x20i'+'dentifier',!(-0x1eb6+-0x70c*0x4+0x3ae7);const _0x947f9c=this['_scanner']['buf']()['join']('');if(_0x947f9c[0x1307+-0x2*-0x4e1+0x1*-0x1cc9]==='/'){for(let _0x59722f=_0x226e28['length']-(0x1ea5+-0x823+-0x1681);_0x59722f>=-0x1ad+0x46+0x167;--_0x59722f)if(_0x947f9c==='/'+_0x226e28[_0x59722f]['name']&&_0x226e28[_0x59722f]['end']===null)return _0x226e28[_0x59722f]['end']=_0x12f227['length'],_0x40ab22=this['_scanner']['read'](),_0x40ab22!==Iu?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(0x2f9*0x6+-0x43*-0x95+-0x38d4)):!(0x661*0x3+-0x57*0x58+-0x1*-0xac5);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(0x228d*0x1+0x22c0+-0x454c);}const _0x4d1cb7={'name':_0x947f9c,'value':null,'attributes':{},'start':_0x12f227['length'],'end':null};if(_0x40ab22=this['_scanner']['read'](),_0x40ab22===Lu){if(_0x40ab22=this['_scanner']['read'](),_0x40ab22!==Ru)return this['_error']='expected\x20s'+'tring',!(-0x2517+0x28b*-0x9+0xb9*0x53);_0x4d1cb7['value']=this['_scanner']['buf']()['join'](''),_0x40ab22=this['_scanner']['read']();}for(;;){switch(_0x40ab22){case Iu:return _0x226e28['push'](_0x4d1cb7),!(-0x2a1*-0x9+-0x62*-0xe+-0x13*0x187);case Ou:{const _0x325919=this['_scanner']['buf']()['join']('');if(_0x40ab22=this['_scanner']['read'](),_0x40ab22!==Lu)return this['_error']='expected\x20e'+'quals',!(-0x234+-0xfae+-0x1*-0x11e3);if(_0x40ab22=this['_scanner']['read'](),_0x40ab22!==Ru)return this['_error']='expected\x20s'+'tring',!(-0x1709+0xb30+-0x29*-0x4a);const _0x2569ac=this['_scanner']['buf']()['join']('');_0x4d1cb7['attributes'][_0x325919]=_0x2569ac;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(-0x1a81+0x1906+0x17c);}_0x40ab22=this['_scanner']['read']();}}}function Qv(_0x4faf85,_0x1f17a2){for(const _0x2c8d95 in _0x1f17a2){if(!_0x1f17a2['hasOwnProp'+'erty'](_0x2c8d95))continue;const _0x9fc5f3=_0x1f17a2[_0x2c8d95];_0x9fc5f3 instanceof Object?(_0x4faf85['hasOwnProp'+'erty'](_0x2c8d95)||(_0x4faf85[_0x2c8d95]={}),Qv(_0x4faf85[_0x2c8d95],_0x1f17a2[_0x2c8d95])):_0x4faf85[_0x2c8d95]=_0x9fc5f3;}}function _R(_0x1f5415){if(_0x1f5415['length']===0x153c+-0x1*-0x1082+-0x25be)return null;const _0x444f91={};for(let _0x2c0456=-0x1*0x574+-0x8c2+-0x1*-0xe36;_0x2c0456<_0x1f5415['length'];++_0x2c0456){const _0x105fe2=_0x1f5415[_0x2c0456],_0x52e11b={};_0x52e11b[_0x105fe2['name']]={'value':_0x105fe2['value'],'attributes':_0x105fe2['attributes']},Qv(_0x444f91,_0x52e11b);}return _0x444f91;}function gR(_0x1b452e,_0x2dcab2){if(_0x1b452e['length']===-0x1184+0x1258+-0xd4)return null;const _0x53cb7a={};for(let _0x134453=0x246f+-0x1d1c+-0x753;_0x134453<_0x1b452e['length'];++_0x134453){const _0x355658=_0x1b452e[_0x134453];_0x53cb7a['hasOwnProp'+'erty'](_0x355658['start'])?_0x53cb7a[_0x355658['start']]['open']===null?_0x53cb7a[_0x355658['start']]['open']=[_0x355658]:_0x53cb7a[_0x355658['start']]['open']['push'](_0x355658):_0x53cb7a[_0x355658['start']]={'open':[_0x355658],'close':null},_0x53cb7a['hasOwnProp'+'erty'](_0x355658['end'])?_0x53cb7a[_0x355658['end']]['close']===null?_0x53cb7a[_0x355658['end']]['close']=[_0x355658]:_0x53cb7a[_0x355658['end']]['close']['push'](_0x355658):_0x53cb7a[_0x355658['end']]={'open':null,'close':[_0x355658]};}let _0x5c734a=[];function _0x5f3cff(_0x48c94e){_0x5c734a=_0x5c734a['filter'](_0x442ef7=>_0x48c94e['find'](_0x4e476a=>_0x4e476a===_0x442ef7)===void(-0x43*0x9+-0x1f7+0x452));}function _0x4a6167(_0x1305b5){for(let _0x22eac6=0xbaa+-0x225d+0x16b3;_0x22eac6<_0x1305b5['length'];++_0x22eac6)_0x5c734a['push'](_0x1305b5[_0x22eac6]);}const _0x518008=Object['keys'](_0x53cb7a)['sort']((_0x530db3,_0xcefcba)=>_0x530db3-_0xcefcba),_0xa59672=[];for(let _0x3301da=0x95*-0xe+-0xce8+0x150e*0x1;_0x3301da<_0x518008['length'];++_0x3301da){const _0x5d7ffd=_0x53cb7a[_0x518008[_0x3301da]];_0x5d7ffd['close']!==null&&_0x5f3cff(_0x5d7ffd['close']),_0x5d7ffd['open']!==null&&_0x4a6167(_0x5d7ffd['open']),_0xa59672['push']({'start':_0x518008[_0x3301da],'tags':_R(_0x5c734a)});}const _0x10e46e=[];let _0x4312dd=null;for(let _0x54f14e=-0x3*0x21+-0x1543+-0x146*-0x11;_0x54f14e<_0xa59672['length'];++_0x54f14e){const _0x553ba9=_0xa59672[_0x54f14e];for(;_0x10e46e['length']<_0x553ba9['start'];)_0x10e46e['push'](_0x4312dd?_0x4312dd['tags']:null);_0x4312dd=_0x553ba9;}for(;_0x10e46e['length']<_0x2dcab2;)_0x10e46e['push'](null);return _0x10e46e;}function SR(_0x4bf2e6){const _0x9649f4=new mR(_0x4bf2e6),_0x484503=[],_0x2e3736=[];if(!_0x9649f4['parse'](_0x484503,_0x2e3736))return console['warn'](_0x9649f4['error']()),{'symbols':_0x4bf2e6,'tags':null};const _0x42ddd8=_0x2e3736['find'](_0x1d189e=>_0x1d189e['end']===null);if(_0x42ddd8)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x42ddd8['name']+'\x27'),{'symbols':_0x4bf2e6,'tags':null};const _0x59733b=gR(_0x2e3736,_0x484503['length']);return{'symbols':_0x484503,'tags':_0x59733b};}class yR{static['evaluate'](_0x5b9baf){return SR(_0x5b9baf);}}class vR{constructor(){this['count']=0x1*0x623+-0x231+0x1f9*-0x2,this['quad']=0x1a*0xe9+0x2*0x779+0x7*-0x584,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function xR(_0x14e226,_0xda14b0){const _0x1e7d24=new Ge(_0x14e226);return _0x1e7d24['setPositio'+'ns'](_0xda14b0['positions']),_0x1e7d24['setNormals'](_0xda14b0['normals']),_0x1e7d24['setColors3'+'2'](_0xda14b0['colors']),_0x1e7d24['setUvs'](0x12e6+0x3*0xd3+-0x155f,_0xda14b0['uvs']),_0x1e7d24['setIndices'](_0xda14b0['indices']),_0x1e7d24['setVertexS'+'tream'](Ko,_0xda14b0['outlines'],0x4*-0x6e9+-0x1499+0x3040,void(0x4ef*-0x1+-0x1e0a+0x7*0x4ff),Ve,!(0x2500+-0x2199+-0x366)),_0x1e7d24['setVertexS'+'tream'](Zo,_0xda14b0['shadows'],0x3f*-0x58+0xa9*-0xd+0x79*0x40,void(0x17ed+0x1ebe+-0x36ab),Ve,!(0x1785+0xfd*-0x1d+0x525)),_0x1e7d24['update'](),_0x1e7d24;}const qg=/^[\r\n]$/,TR=/^[ \t]$/,jg=/^[ \t\-]|\u200b$/,wR=/^[a-z0-9]$/i,Yg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,ER=/^[]$/,bR=['','','','','','','','','','','','',''],AR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},Kg=new ie(),CR=new J(),We=new ie();class PR{constructor(_0x524e13){this['_element']=_0x524e13,this['_system']=_0x524e13['system'],this['_entity']=_0x524e13['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new hR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(-0x73*0x8+0x9*0x3a1+-0x1*0x1d11),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new ie(0x1*-0x575+-0x13*0x119+-0x1*-0x1a51,0xe26+-0x1*-0x230+-0x1*0x1055,-0x1739+-0x1d9f*-0x1+-0x665,-0x1cf9*0x1+0x26d*-0x3+0x2441),this['_colorUnif'+'orm']=new Float32Array(0xc7*-0x17+0x11e5+-0x1),this['_spacing']=0x97+-0x20e7*0x1+0x2051,this['_fontSize']=-0x7bc+-0x3*0x7d1+0x7*0x479,this['_fontMinY']=0x6*-0x41f+0x1819+0xa1,this['_fontMaxY']=0xf*0x295+0x3a0+-0x2a5b,this['_originalF'+'ontSize']=-0x6c8+0xd4*-0x11+0x14fc,this['_maxFontSi'+'ze']=0x7e*-0x3f+0x251b+-0x5f9,this['_minFontSi'+'ze']=0x5*0x65c+-0x18cc+-0x4*0x1be,this['_autoFitWi'+'dth']=!(-0x1358+-0x1*-0x15f7+-0x5*0x86),this['_autoFitHe'+'ight']=!(-0x18*-0x2a+-0x4*0x5ba+-0x3*-0x653),this['_maxLines']=-(0xd7c+-0x2*0x2d1+-0x7d9),this['_lineHeigh'+'t']=0x36d*-0x7+0x1a21*-0x1+0x323c,this['_scaledLin'+'eHeight']=-0x1*-0x181a+-0x1adb*0x1+0x2e1,this['_wrapLines']=!(-0x41d+-0x1*-0x11cf+-0x2bd*0x5),this['_drawOrder']=-0x225c+-0x1177+0x33d3,this['_alignment']=new J(-0x2*-0x1279+0x10ab*0x2+0x1192*-0x4+0.5,0x5*0x41b+-0x1ed6*-0x1+-0x5b5*0x9+0.5),this['_autoWidth']=!(0x175d+-0x358+-0x1405),this['_autoHeigh'+'t']=!(-0x843+-0x196e+0x23f*0xf),this['width']=-0x68a+0x2388*0x1+0x9aa*-0x3,this['height']=0x6*0x557+0x1*0x197e+-0x3988,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(-0x1*0x26b5+0x3da+0x22db*0x1),this['_aabb']=new De(),this['_noResize']=!(0x1*0xfe9+-0x1*-0x2182+-0x316a),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(-0x1*-0x1653+0x1a3a+-0x4*0xc23),this['_unicodeCo'+'nverter']=!(-0x899+0x1*-0x1759+0x1ff3),this['_rtl']=!(-0x23e0+-0x1*0x2681+0x4a62),this['_outlineCo'+'lor']=new ie(0x44b+0x23f*0xf+0x4*-0x97f,-0x262d+0x3*-0x419+-0x5f*-0x88,-0x16*0x94+0x148e+-0x7d6,-0x5be+0x2300+0x1*-0x1d41),this['_outlineCo'+'lorUniform']=new Float32Array(0x2143+0x13c9*0x1+-0x3508),this['_outlineTh'+'icknessSca'+'le']=0x3b3+-0x19aa+0x15f7+0.2,this['_outlineTh'+'ickness']=0x2f*0x21+0xe*-0x26f+0x1c03,this['_shadowCol'+'or']=new ie(0x1ce8+-0x7a2*0x1+0x30a*-0x7,0x201f*0x1+-0x11c1+-0xe5e,-0xc86*-0x2+-0x65*-0x4+-0x1aa0,-0x36*0x22+-0x1aab*0x1+0x21d8),this['_shadowCol'+'orUniform']=new Float32Array(-0x1*0x119a+0x54b+0xc53),this['_shadowOff'+'setScale']=-0x1f9d+0x1118*-0x2+0x41cd+0.005,this['_shadowOff'+'set']=new J(-0x2578*0x1+0x6a6+-0x315*-0xa,0x8dc+-0x4ed+-0x13*0x35),this['_shadowOff'+'setUniform']=new Float32Array(-0x1e88+-0xe1e+0x1654*0x2),this['_enableMar'+'kup']=!(0x5d3*0x3+-0x1c8b*-0x1+-0x1*0x2e03),this['_onScreenC'+'hange'](this['_element']['screen']),_0x524e13['on']('resize',this['_onParentR'+'esize'],this),_0x524e13['on']('set:screen',this['_onScreenC'+'hange'],this),_0x524e13['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x524e13['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x524e13['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=-0x1c6+-0x7b4+0x4bd*0x2,this['_rangeEnd']=0x18c4+-0x1e4c+0x2*0x2c4;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x2c406b,_0x4d7754){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x525207){_0x525207?this['_updateMat'+'erial'](_0x525207['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0xf1c+0x2*-0x29f+-0x3*-0x6c9));}['_onScreenS'+'paceChange'](_0x9bd046){this['_updateMat'+'erial'](_0x9bd046);}['_onDrawOrd'+'erChange'](_0x42c61c){if(this['_drawOrder']=_0x42c61c,this['_model']){for(let _0x58e7b3=-0x293*0x1+-0x1474+0x1707,_0x2c560f=this['_model']['meshInstan'+'ces']['length'];_0x58e7b3<_0x2c560f;_0x58e7b3++)this['_model']['meshInstan'+'ces'][_0x58e7b3]['drawOrder']=_0x42c61c;}}['_onPivotCh'+'ange'](_0xcd4598){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x98a7a8){if(this['_i18nKey']){if(this['fontAsset']){const _0x43090b=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x43090b||!_0x43090b['resource']||_0x43090b['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x3fd79f,_0x2bf193){this['_i18nKey']&&_0x2bf193[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x217464){if(this['unicodeCon'+'verter']){const _0x3fe6ca=this['_system']['getUnicode'+'Converter']();_0x3fe6ca?_0x217464=_0x3fe6ca(_0x217464):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x217464&&(this['_font']&&this['_updateTex'+'t'](_0x217464),this['_text']=_0x217464);}['_updateTex'+'t'](_0x5ed54e){let _0x5542ba;if(_0x5ed54e===void(-0x1*0x6b9+0x208e+-0x19d5)&&(_0x5ed54e=this['_text']),this['_symbols']=Hc['getSymbols'](_0x5ed54e['normalize']?_0x5ed54e['normalize']('NFC'):_0x5ed54e),this['_symbols']['length']===-0x1*0x867+0x1*0x1285+-0x2*0x50f&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x4bd7ca=yR['evaluate'](this['_symbols']);this['_symbols']=_0x4bd7ca['symbols'],_0x5542ba=_0x4bd7ca['tags']||[];}if(this['_rtlReorde'+'r']){const _0x41a05e=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x41a05e){const _0x15dcb3=_0x41a05e(this['_symbols']);this['_rtl']=_0x15dcb3['rtl'],this['_symbols']=_0x15dcb3['mapping']['map'](function(_0x47417c){return this['_symbols'][_0x47417c];},this),_0x5542ba&&(_0x5542ba=_0x15dcb3['mapping']['map'](_0xb535ea=>_0x5542ba[_0xb535ea]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(-0x1d61*0x1+-0x1b4b+0x38ad*0x1);const _0x183cd9=(_0x421619,_0x4520e8)=>_0x421619['toString'](!(-0xf16+0x1016+0x1*-0x100))['toLowerCas'+'e']()+':'+_0x4520e8['toFixed'](0x2451+0x1*0x15a3+0x2*-0x1cf9),_0x2f213e=(_0x44d3e7,_0x24c435)=>_0x44d3e7['toString'](!(-0x1*0x156+-0x216d+-0x329*-0xb))['toLowerCas'+'e']()+':'+_0x24c435['x']['toFixed'](-0x1*-0x242e+0x6ad*0x3+-0x1*0x3833)+':'+_0x24c435['y']['toFixed'](-0x258c+0x274+0x1*0x231a);if(_0x5542ba){const _0x2155e4={},_0x1da85b={},_0x5b37ea={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(-0x6f8+-0x19d*0x11+-0x2f3*-0xc)),Math['round'](this['_color']['g']*(0x1*0x1ae0+0x4*-0x373+0x1*-0xc15)),Math['round'](this['_color']['b']*(0x14ea+-0x1*0x1ac3+0x36c*0x2))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(0x24d6+-0x1*-0x82f+-0x2c06)),Math['round'](this['_outlineCo'+'lor']['g']*(0x5*-0x384+0x4a7*-0x2+0x225*0xd)),Math['round'](this['_outlineCo'+'lor']['b']*(-0x770+-0xeba+-0x34f*-0x7)),Math['round'](this['_outlineCo'+'lor']['a']*(-0x2*0xdd+0x1f1*0x13+0x2*-0x1115)),Math['round'](this['_outlineTh'+'ickness']*(0x438+-0x944+0x60b))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(0x1098+-0xe28+-0x171)),Math['round'](this['_shadowCol'+'or']['g']*(0x109d+-0x16d+-0x7*0x207)),Math['round'](this['_shadowCol'+'or']['b']*(0x1*0x1613+-0xfd*0x5+-0x1023)),Math['round'](this['_shadowCol'+'or']['a']*(-0xead+-0x1de6+0x2d92)),Math['round'](this['_shadowOff'+'set']['x']*(0x1*-0x1d7+0x940+-0x6ea)),Math['round'](this['_shadowOff'+'set']['y']*(0xebc+0x12f6+0x2133*-0x1))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x2155e4[this['_color']['toString'](!(-0x56*-0x11+-0x9*-0xe5+0x6e1*-0x2))['toLowerCas'+'e']()]=0x16f5+-0x2*0x3da+0xf41*-0x1,_0x1da85b[_0x183cd9(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=0x83*-0x25+0xfea+0x305*0x1,_0x5b37ea[_0x2f213e(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=0x1088+0x4dc*-0x8+0x1658;for(let _0x1b5fbc=-0x1d35+0x1050*-0x1+0x2d85,_0x286655=this['_symbols']['length'];_0x1b5fbc<_0x286655;++_0x1b5fbc){const _0xa877c9=_0x5542ba[_0x1b5fbc];let _0x31bf92=0x1e69+-0x3*0x56b+-0x4*0x38a;if(_0xa877c9&&_0xa877c9['color']&&_0xa877c9['color']['value']){const _0xb6ee08=_0xa877c9['color']['value'];if(_0xb6ee08['length']===-0x1233+0x193f*-0x1+-0x167*-0x1f&&_0xb6ee08[-0x2*0x1307+0x1e95*-0x1+-0x44a3*-0x1]==='#'){const _0xa4a48=_0xb6ee08['substring'](-0x331+0xe*0x7f+-0x3c0)['toLowerCas'+'e']();_0x2155e4['hasOwnProp'+'erty'](_0xa4a48)?_0x31bf92=_0x2155e4[_0xa4a48]:/^[0-9a-f]{6}$/['test'](_0xa4a48)&&(_0x31bf92=this['_colorPale'+'tte']['length']/(-0x1*-0x191+-0x212e+0x1fa0),_0x2155e4[_0xa4a48]=_0x31bf92,this['_colorPale'+'tte']['push'](parseInt(_0xa4a48['substring'](-0x1*0xd30+0xc8d+0xa3,0x96*0x3d+-0x1d7d+-0x1*0x63f),0x408*-0x1+0x7b5+0xb9*-0x5)),this['_colorPale'+'tte']['push'](parseInt(_0xa4a48['substring'](0x173*0xb+-0x28e+-0xd61,0x11bc*-0x1+-0x17b*-0x1a+-0x14be),-0x23*0xfd+0x5*0x6bd+0xf6)),this['_colorPale'+'tte']['push'](parseInt(_0xa4a48['substring'](0xf46+0xc70+-0x1bb2,-0xc95*-0x1+0x6*0x303+-0x1ea1),-0x4fd*-0x7+0x6b*-0x3d+0x1*-0x95c)));}}this['_symbolCol'+'ors']['push'](_0x31bf92);let _0x20a2ee=-0x149a+0x11e*0x1b+-0x24*0x44;if(_0xa877c9&&_0xa877c9['outline']&&(_0xa877c9['outline']['attributes']['color']||_0xa877c9['outline']['attributes']['thickness'])){let _0x9cf56c=_0xa877c9['outline']['attributes']['color']?Kg['fromString'](_0xa877c9['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0x40b764=Number(_0xa877c9['outline']['attributes']['thickness']);(Number['isNaN'](_0x9cf56c['r'])||Number['isNaN'](_0x9cf56c['g'])||Number['isNaN'](_0x9cf56c['b'])||Number['isNaN'](_0x9cf56c['a']))&&(_0x9cf56c=this['_outlineCo'+'lor']),Number['isNaN'](_0x40b764)&&(_0x40b764=this['_outlineTh'+'ickness']);const _0x39b94c=_0x183cd9(_0x9cf56c,_0x40b764);_0x1da85b['hasOwnProp'+'erty'](_0x39b94c)?_0x20a2ee=_0x1da85b[_0x39b94c]:(_0x20a2ee=this['_outlinePa'+'lette']['length']/(0x1*0x35f+0x1*0xfe+0x22c*-0x2),_0x1da85b[_0x39b94c]=_0x20a2ee,this['_outlinePa'+'lette']['push'](Math['round'](_0x9cf56c['r']*(-0x7*0x39+-0x23d7*-0x1+0x2149*-0x1)),Math['round'](_0x9cf56c['g']*(0x5ea+0x265b+-0x2b46)),Math['round'](_0x9cf56c['b']*(0x2282+0x1fee*0x1+-0x4171)),Math['round'](_0x9cf56c['a']*(-0x1*0x1d8+0xd*0x2a5+-0x1f8a)),Math['round'](_0x40b764*(-0x1*-0x169d+0x22af+0x384d*-0x1))));}this['_symbolOut'+'lineParams']['push'](_0x20a2ee);let _0x3c9a7c=-0x32*-0xaa+0x13d3+-0x3507;if(_0xa877c9&&_0xa877c9['shadow']&&(_0xa877c9['shadow']['attributes']['color']||_0xa877c9['shadow']['attributes']['offset']||_0xa877c9['shadow']['attributes']['offsetX']||_0xa877c9['shadow']['attributes']['offsetY'])){let _0x894c1b=_0xa877c9['shadow']['attributes']['color']?Kg['fromString'](_0xa877c9['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x580e7d=Number(_0xa877c9['shadow']['attributes']['offset']),_0xa5d9f5=Number(_0xa877c9['shadow']['attributes']['offsetX']),_0x5c10e2=Number(_0xa877c9['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x894c1b['r'])||Number['isNaN'](_0x894c1b['g'])||Number['isNaN'](_0x894c1b['b'])||Number['isNaN'](_0x894c1b['a']))&&(_0x894c1b=this['_shadowCol'+'or']);const _0x8743bc=CR['set'](Number['isNaN'](_0xa5d9f5)?Number['isNaN'](_0x580e7d)?this['_shadowOff'+'set']['x']:_0x580e7d:_0xa5d9f5,Number['isNaN'](_0x5c10e2)?Number['isNaN'](_0x580e7d)?this['_shadowOff'+'set']['y']:_0x580e7d:_0x5c10e2),_0x48aff4=_0x2f213e(_0x894c1b,_0x8743bc);_0x5b37ea['hasOwnProp'+'erty'](_0x48aff4)?_0x3c9a7c=_0x5b37ea[_0x48aff4]:(_0x3c9a7c=this['_shadowPal'+'ette']['length']/(0x692+0x1329*-0x1+-0xc9d*-0x1),_0x5b37ea[_0x48aff4]=_0x3c9a7c,this['_shadowPal'+'ette']['push'](Math['round'](_0x894c1b['r']*(-0x17be+0x1347+-0x1d2*-0x3)),Math['round'](_0x894c1b['g']*(-0xb50+0x52*-0x3a+0x1ee3*0x1)),Math['round'](_0x894c1b['b']*(0x128a+0x679+-0x1804)),Math['round'](_0x894c1b['a']*(-0x3*-0xc73+-0x1bdc+-0x2*0x43f)),Math['round'](_0x8743bc['x']*(0x3*0xc75+0x1c5f+-0x413f)),Math['round'](_0x8743bc['y']*(0x2699+0x22f3+-0x1*0x490d))));}this['_symbolSha'+'dowParams']['push'](_0x3c9a7c);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x45549c=this['_calculate'+'CharsPerTe'+'xture']();let _0x477f3b=!(0x2b*0x3e+0xdf2+-0xd7*0x1d);const _0x27a138=this['_element'],_0x7c9875=_0x27a138['_isScreenS'+'pace'](),_0x19864e=_0x27a138['_isScreenC'+'ulled'](),_0x242eae=function(_0x1bfc4e){return _0x27a138['isVisibleF'+'orCamera'](_0x1bfc4e);};for(let _0x437ef7=0xa*-0x37a+0x65*-0x57+-0x301*-0x17,_0x2e8807=this['_meshInfo']['length'];_0x437ef7<_0x2e8807;_0x437ef7++){const _0x1dafd8=_0x45549c[_0x437ef7]||0x9b7+-0x8d8+-0xdf,_0x28f76d=this['_meshInfo'][_0x437ef7];if(_0x28f76d['count']!==_0x1dafd8){if(_0x477f3b||(_0x27a138['removeMode'+'lFromLayer'+'s'](this['_model']),_0x477f3b=!(-0xc6*-0x18+-0x1d45+0xab5)),_0x28f76d['count']=_0x1dafd8,_0x28f76d['positions']['length']=_0x28f76d['normals']['length']=_0x1dafd8*(0x27*0x91+-0x1*0x2513+0xeff)*(0x1025*-0x1+-0x1011+0x203a),_0x28f76d['indices']['length']=_0x1dafd8*(-0xf0e*0x2+-0x1b7d*0x1+0x399c)*(-0x479*0x8+-0xca1+0x306b),_0x28f76d['uvs']['length']=_0x1dafd8*(0x1c2e+0x1c01+-0x382d)*(0x12d*0x4+-0x9d*0x35+0x1bd1),_0x28f76d['colors']['length']=_0x1dafd8*(0x1ce1+0x1*0x2039+-0x3d16)*(-0x256e+-0x12ae+0x3820),_0x28f76d['outlines']['length']=_0x1dafd8*(0x3*-0xed+-0xffb*-0x1+-0x4*0x34c)*(-0x21*-0x105+0x1546+-0x36e8),_0x28f76d['shadows']['length']=_0x1dafd8*(-0x24b*0x10+-0x151*-0x11+-0x13*-0xc1)*(0x1*-0x4e2+-0x1*-0x15c1+0xd*-0x14c),_0x28f76d['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x28f76d['meshInstan'+'ce']),_0x1dafd8===-0x1*0x2006+0x1*-0x197+-0x6b9*-0x5){_0x28f76d['meshInstan'+'ce']=null;continue;}for(let _0x535e92=0x6e*0x23+-0x1e88+0xf7e;_0x535e92<_0x1dafd8;_0x535e92++)_0x28f76d['indices'][_0x535e92*(0x216+-0x1e38+0x1c25)*(0x127+-0x1a7*-0x9+-0x802*0x2)+(-0x2e*-0x6a+-0x51e+0xdee*-0x1)]=_0x535e92*(0x23b4+-0x12e2*-0x1+-0x3692),_0x28f76d['indices'][_0x535e92*(-0x17f9+-0xba4+0x23a0)*(-0x758+0x35*-0x85+-0x27*-0xe5)+(-0x133f+-0x136d+0x26ad)]=_0x535e92*(0x26fb+-0x3e5*0x1+0x2*-0x1189)+(-0x297+0x1a1a+-0x1782),_0x28f76d['indices'][_0x535e92*(0x5*0x20b+0x9d2+-0x1406)*(0x20c5+-0x217f+-0x2f*-0x4)+(-0x26b0+-0x191+0x2843)]=_0x535e92*(0x133e+-0x1770+0x436)+(0x1525*-0x1+-0x22*0x121+-0x1dc5*-0x2),_0x28f76d['indices'][_0x535e92*(-0x377*0x1+-0x7*-0x1b7+-0x3b*0x25)*(0x2*-0x116f+0x65c+0x2*0xe42)+(-0x50b*0x3+-0x72*0x17+0x1962)]=_0x535e92*(-0x1*0x2092+0x1*0x455+0x1c41)+(0x1558+-0x146*0x1+0x10*-0x141),_0x28f76d['indices'][_0x535e92*(-0x8*-0x37+0x800+-0x9b5)*(-0x69d*0x1+0x3*-0xbf6+-0x5d*-0x75)+(-0x1a*0xe8+0x1c90+-0xb*0x74)]=_0x535e92*(-0x1fd2*-0x1+0x20b2+0x10*-0x408)+(0x9d+0x14ec+0xac3*-0x2),_0x28f76d['indices'][_0x535e92*(0x1556+-0x17f3*-0x1+-0x2d46)*(-0x777+0x1c7c*0x1+-0xb*0x1e9)+(-0x19b*-0x4+-0x204a+-0x8a1*-0x3)]=_0x535e92*(0x2193+0x31*-0x25+-0x1a7a)+(0x1e1e+-0xfc4*0x2+0x16b),_0x28f76d['normals'][_0x535e92*(0x1cd8+-0x133d+0x997*-0x1)*(0x1ae8+0x86*-0x1d+-0xbb7)+(-0x1991+-0x1*0x14d0+0x2e61)]=-0xe2*-0xd+0x1*-0x1fdd+-0x1463*-0x1,_0x28f76d['normals'][_0x535e92*(0x1721+-0x23d*0xb+0x182)*(0x245c+-0x40f*-0x1+-0x2868)+(-0x2ef*0x5+-0x2547+0x33f3)]=-0x12*-0x181+-0x12a9+-0x869,_0x28f76d['normals'][_0x535e92*(0x13a9+0x22dd+0x1b41*-0x2)*(0x2625+0x14d4+-0x1*0x3af6)+(-0xdd5*-0x1+-0x1181+0x3ae)]=-(-0x2573+-0x5*-0x2b+-0x2d1*-0xd),_0x28f76d['normals'][_0x535e92*(-0x1863+-0x250d*-0x1+-0x653*0x2)*(0x20f*0x3+-0x744*-0x3+0x952*-0x3)+(0x869*-0x1+0x1452+0x2*-0x5f3)]=-0xef*-0x16+-0x1d14+-0x1*-0x88a,_0x28f76d['normals'][_0x535e92*(0x1*0x142b+0x1*0x1471+-0x2898)*(0x269*0xa+0x20de+-0x38f5*0x1)+(0x1*0x57a+-0x2*0xfb7+0x19f8)]=-0x443*0x4+-0x2*0x849+0x219e*0x1,_0x28f76d['normals'][_0x535e92*(-0x1*0xbe3+0x1*0x2665+0x1*-0x1a7e)*(-0x2*0x5a8+0x13d*-0xa+-0x77*-0x33)+(-0x1de5+-0xdea+0x2bd4)]=-(0x2f3+-0x1b91+0x3*0x835),_0x28f76d['normals'][_0x535e92*(-0x666+-0x7a*0xb+0xba8)*(-0x7af+0x37c*-0x1+0xb2e)+(-0xf6f*-0x1+0xdb1+0x2e9*-0xa)]=-0x154d+0x19c4+-0x7f*0x9,_0x28f76d['normals'][_0x535e92*(-0x3*0x9fd+-0x20b0+0x3eab)*(0xc88+0x1996+-0x261b)+(-0x1*-0xdf8+-0x183e*0x1+0x3*0x36f)]=0x4f9*-0x1+0xe61*0x2+-0x17c9,_0x28f76d['normals'][_0x535e92*(0x16d3+0x17f2+-0x2ec1)*(0x1c2a+0x1c*-0x87+-0x17*0x95)+(0x25cb+0xf58+-0x5*0xa9f)]=-(-0xb*0x2bf+-0x269+0x1*0x209f),_0x28f76d['normals'][_0x535e92*(-0x427*0x8+0x789*-0x5+0x46e9*0x1)*(-0xad6+-0x21b*0x11+0x2ea4)+(0x373*0x1+-0x1*0x25c6+-0x2*-0x112e)]=-0x96*0x10+-0x22e4+0x2c44,_0x28f76d['normals'][_0x535e92*(-0x1*-0x1877+0x13e7+-0x2c5a)*(-0x1*0x8ab+0x52*-0xe+0x1*0xd2a)+(0x38*0x26+-0x52e+-0x2c*0x12)]=-0x23*0x35+-0x1*0xa49+0x1188*0x1,_0x28f76d['normals'][_0x535e92*(0x1f*0x61+0x716*-0x1+-0x4a5)*(0x11ec+-0x26*0xa3+0x649)+(0xc53+0x1*0x17b5+-0x23fd)]=-(0x4*0x53e+0x1*0x73+-0x156a);const _0x41eed3=xR(this['_system']['app']['graphicsDe'+'vice'],_0x28f76d),_0x30a80b=new He(_0x41eed3,this['_material'],this['_node']);if(_0x30a80b['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x30a80b['castShadow']=!(0x2632+-0x10*0x1ff+-0x641*0x1),_0x30a80b['receiveSha'+'dow']=!(0x5e*0x21+-0x13b3+0x1*0x796),_0x30a80b['cull']=!_0x7c9875,_0x30a80b['screenSpac'+'e']=_0x7c9875,_0x30a80b['drawOrder']=this['_drawOrder'],_0x19864e&&(_0x30a80b['cull']=!(0x1555+-0x2037+0x571*0x2),_0x30a80b['isVisibleF'+'unc']=_0x242eae),this['_setTextur'+'eParams'](_0x30a80b,this['_font']['textures'][_0x437ef7]),_0x30a80b['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x30a80b['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x30a80b['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x30a80b['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x30a80b['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x437ef7]['width']),_0x30a80b['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x30a80b['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x30a80b['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][0x19f9+0x379*0x8+-0x35c1]=0x22d+0x1598*0x1+-0x17c5,this['_shadowOff'+'setUniform'][-0xcf7*-0x1+0xa8*0x36+-0x3066]=-0xa41*-0x2+0x5*0x622+-0x332c;else{const _0x13d9ad=-this['_font']['data']['info']['maps'][_0x437ef7]['width']/this['_font']['data']['info']['maps'][_0x437ef7]['height'];this['_shadowOff'+'setUniform'][0x2243+-0xa*-0x2cf+-0x3e59]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x1*0x205e+-0x593+0x3*0xca6]=_0x13d9ad*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x30a80b['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x28f76d['meshInstan'+'ce']=_0x30a80b,this['_model']['meshInstan'+'ces']['push'](_0x30a80b);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x477f3b&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=0x15fc+-0x9c1+0x65*-0x1f,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x124af7){_0x124af7['destroy']();const _0x159cdb=this['_model']['meshInstan'+'ces']['indexOf'](_0x124af7);_0x159cdb!==-(0x7d3+-0x4ba+-0x12*0x2c)&&this['_model']['meshInstan'+'ces']['splice'](_0x159cdb,0x1*0xe3a+-0x1b81+0xd48);}['_setMateri'+'al'](_0x1eaef0){if(this['_material']=_0x1eaef0,this['_model'])for(let _0x1d5fcc=-0x1*0x239d+0x16c8+-0x447*-0x3,_0x385b79=this['_model']['meshInstan'+'ces']['length'];_0x1d5fcc<_0x385b79;_0x1d5fcc++){const _0x2061d7=this['_model']['meshInstan'+'ces'][_0x1d5fcc];_0x2061d7['material']=_0x1eaef0;}}['_updateMat'+'erial'](_0x28b836){const _0x21cba5=this['_element'],_0x3b909d=_0x21cba5['_isScreenC'+'ulled'](),_0x1f8293=function(_0x39d0a6){return _0x21cba5['isVisibleF'+'orCamera'](_0x39d0a6);},_0x279516=this['_font']&&this['_font']['type']===Rh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x28b836,_0x279516,this['_enableMar'+'kup']),this['_model'])for(let _0x140680=0x21d*-0x1+0xe*0x4f+-0x1*0x235,_0x7b5539=this['_model']['meshInstan'+'ces']['length'];_0x140680<_0x7b5539;_0x140680++){const _0x1d4cde=this['_model']['meshInstan'+'ces'][_0x140680];_0x1d4cde['cull']=!_0x28b836,_0x1d4cde['material']=this['_material'],_0x1d4cde['screenSpac'+'e']=_0x28b836,_0x3b909d?(_0x1d4cde['cull']=!(-0x1*0xda2+0x1d39*0x1+-0x1*0xf97),_0x1d4cde['isVisibleF'+'unc']=_0x1f8293):_0x1d4cde['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][0x5*-0x10+0x3a5*-0x1+0x3f5]=0x2312+-0x1e30+-0x4e1*0x1,this['_colorUnif'+'orm'][-0x41a*-0x5+-0x1770+0x1*0x2ef]=-0x4*-0x5bf+-0x5c1+-0x113a,this['_colorUnif'+'orm'][-0x1959+0x156f+0x3ec]=0x1b7*-0x4+-0xb3b+-0x1*-0x1218):(We['linear'](this['_color']),this['_colorUnif'+'orm'][-0x234d+-0x5*0x346+-0x3*-0x1139]=We['r'],this['_colorUnif'+'orm'][0x6*0x574+0x1f36+0xf*-0x443]=We['g'],this['_colorUnif'+'orm'][-0xc23+0x25f8+-0x19d3]=We['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][0x1827+0xc98+0x24bf*-0x1]=0xe2+-0x814*-0x3+-0x191e,this['_outlineCo'+'lorUniform'][0x3*0xa31+-0x1d9a+-0x3e*0x4]=0x882+0xbf7+-0x1479,this['_outlineCo'+'lorUniform'][0x1*-0x11bd+-0x1f*-0x1d+0xe3c]=0x5e+0x1*-0x14+0x4a*-0x1,this['_outlineCo'+'lorUniform'][-0xc67+0x1a5*0x3+-0x1*-0x77b]=0x17dd+0x1625+0x1*-0x2e01):(We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x16a+-0x9b5+0xb1f]=We['r'],this['_outlineCo'+'lorUniform'][-0x184d*0x1+0x1*0x2c1+0x158d]=We['g'],this['_outlineCo'+'lorUniform'][-0x5*0x4a3+-0x2bc*-0xb+0x6e3*-0x1]=We['b'],this['_outlineCo'+'lorUniform'][-0xb39+0x1*0x5da+-0x2b1*-0x2]=We['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][-0x1c56+-0x17bc+0x3412]=0x97b*-0x1+0x1*-0x84b+0x11c6,this['_shadowCol'+'orUniform'][0x95f+0x1c*-0x149+0x1a9e]=-0xcb9+0x1*-0x269b+-0x124*-0x2d,this['_shadowCol'+'orUniform'][-0x395+-0x2176+0x250d]=0x1a30+0x1*-0x1851+-0x1df*0x1,this['_shadowCol'+'orUniform'][0x1*-0x1105+0x16f*-0x1+0x1277*0x1]=0x22b7*0x1+0x21c1+-0x38*0x139):(We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][-0x166*0x10+0x187+0x1*0x14d9]=We['r'],this['_shadowCol'+'orUniform'][0x210e+0xf95*0x1+-0x30a2]=We['g'],this['_shadowCol'+'orUniform'][0x232c+-0x78*0x18+-0x17ea]=We['b'],this['_shadowCol'+'orUniform'][-0x14*0xe8+0x9f*-0x2d+0x2e16]=We['a']);}['_isWordBou'+'ndary'](_0x3184d4){return jg['test'](_0x3184d4);}['_isValidNe'+'xtChar'](_0x36217a){return _0x36217a!==null&&!ER['test'](_0x36217a);}['_isNextCJK'+'Boundary'](_0x5f2946,_0x35804e){return Yg['test'](_0x5f2946)&&(jg['test'](_0x35804e)||wR['test'](_0x35804e));}['_isNextCJK'+'WholeWord'](_0x2cf60e){return Yg['test'](_0x2cf60e);}['_updateMes'+'hes'](){const _0x123af9=this['_font']['data'],_0x2f1bb9=this,_0x33c5de=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x308c3f=this['_maxFontSi'+'ze'],_0x2f01ca=this['_shouldAut'+'oFit']();_0x2f01ca&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x528036=-0x125e+-0x29*-0x1d+0xdd9,_0x4907b3=this['_symbols']['length'];let _0x371f73=0x2e4+-0x1a49*-0x1+-0x1d2d,_0x9821aa=0x10a2+0x1553+-0x25f5,_0x1bbbbd=-0x109+-0xfbd*-0x1+-0xeb4,_0x412cd7=-0xca5+0x1ba4*-0x1+0x2849*0x1,_0x4ee4e7=0x1354+-0x2*-0x34+-0x13bb,_0x508be3=0x3e*0xf+-0x1e5*-0xd+-0x1c43,_0x4b8823=-0x1df6+0x2*0x25+-0x4f2*-0x6,_0x5afa32=0x13fd+-0x3c9*-0x1+-0x17c6,_0x163b7c=0x1ca6+0x2163+-0x3e09,_0x2fb005=-0x1961+-0x6b*0x8+0x1cb9,_0x5bb481=0x4*0x3e+-0x1*-0xf09+-0x11*0xf1;const _0x14f919=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=0x1842+0x6d8+-0xf8d*0x2+0.0001;let _0xc110fe=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0x14f919||!this['_wrapLines'])&&(_0xc110fe=Number['POSITIVE_I'+'NFINITY']);let _0x578ae2=-0x17bc+0x37*-0x76+0x3116,_0x4d9c2a=0xe5f*0x1+-0x1719+-0x45d*-0x2,_0x29af2b,_0x3cc20b,_0x3237aa,_0x1ba08c;function _0x3be85d(_0x4c60f1,_0x2642c6,_0x2d2c65){_0x2f1bb9['_lineWidth'+'s']['push'](Math['abs'](_0x2d2c65));const _0x4348b6=_0x5afa32>_0x2642c6?_0x2642c6+(0x18*0xc4+-0xc69+-0x2*0x2fb):_0x5afa32,_0x2277ff=_0x5afa32>_0x2642c6?_0x5afa32+(0x1891+0x83*0xd+-0x1f37):_0x2642c6,_0x3bd6fa=_0x4c60f1['slice'](_0x4348b6,_0x2277ff);if(_0x5bb481){let _0x20d500=_0x3bd6fa['length'];for(;_0x20d500--&&_0x5bb481>0x733*0x5+0x1146+-0xd*0x419;)qg['test'](_0x3bd6fa[_0x20d500])&&(_0x3bd6fa['splice'](_0x20d500,-0x10c4+-0x1a5f+-0x1592*-0x2),_0x5bb481--);}_0x2f1bb9['_lineConte'+'nts']['push'](_0x3bd6fa['join']('')),_0x371f73=-0x4f*-0x1f+-0x1fbc+-0x46f*-0x5,_0x9821aa-=_0x2f1bb9['_scaledLin'+'eHeight'],_0x4ee4e7++,_0x163b7c=-0x3e0+-0x64d*0x6+0x29ae,_0x2fb005=0x3*0xcb3+-0x567+-0x5a*0x5d,_0x5bb481=0x4f2*-0x1+0x19*-0xbc+0x13a*0x13,_0x508be3=0x453+0x1d6d+0x8*-0x438,_0x5afa32=_0x2642c6;}let _0xb1c6c4=!(-0x1fe1+0xb04+0x14dd);for(;_0xb1c6c4;){_0xb1c6c4=!(-0x1*-0x595+0x4a2*0x2+-0xed8),_0x2f01ca?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||0x547+0x4dd+0xec*-0xb+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0x22f5+0x1*0x1639+-0xd*0x466,this['height']=-0x23be+-0x244a+0x4808,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x371f73=-0x1*-0xe71+-0x18e5+-0x2*-0x53a,_0x9821aa=0x399*-0x3+0x3*-0xc4e+-0x3*-0xfe7,_0x1bbbbd=0x8e9*-0x3+-0x15*-0x1c5+-0xa6e,_0x412cd7=0x493+-0x7ce*0x1+0x33b*0x1,_0x4ee4e7=-0x1dd9+0xa*-0x10b+0x2848,_0x508be3=-0x6a3+0x1*-0x1d87+0x1215*0x2,_0x4b8823=0x2*-0x1271+0x15*-0x6+-0x5c*-0x68,_0x5afa32=0x1f59+0x16d5+-0x362e,_0x163b7c=0x5af+0x14f1+-0x8e*0x30,_0x2fb005=-0x1*-0x1a9b+0x129a+-0x2d35*0x1,_0x5bb481=0x8f1+-0xaeb+0x1fa;const _0x5bad48=this['_fontSize']/_0x528036;_0x578ae2=this['_fontMinY']*_0x5bad48,_0x4d9c2a=this['_fontMaxY']*_0x5bad48;for(let _0x2dc761=0x11e8*0x1+-0xd*0xf3+-0x591;_0x2dc761<this['_meshInfo']['length'];_0x2dc761++)this['_meshInfo'][_0x2dc761]['quad']=-0x847+0x806+0x41,this['_meshInfo'][_0x2dc761]['lines']={};let _0x55ea07=0x19a5+-0x5*-0x5bd+-0x3557,_0x32be4b=0x1ec6+0x14e2+0x63*-0x83,_0xce2db8=0xaa0+-0x5e+0x943*-0x1,_0x497c90=-0x3*-0x577+0x1afe+-0x2a64+(-0x25c4+-0x20b3+0x4776)*(-0x27*-0x79+0x1*0x503+-0x152*0x11),_0xdac477=-0x15ba+-0x1cdc+0x3395+(-0x885+-0x3c1*0x1+0xd45)*(-0x9b+0x1*0x653+0x2*-0x25c),_0x43444e=-0xf*0x1ec+-0x34*0x21+-0x3*-0xbd8,_0x4ab896=0x2180+0x79*-0x1+-0x2008+(-0x24e+-0x5e*0x38+-0x95*-0x29)*(0x15*0x9d+-0x2*-0x6a5+-0x192b),_0x28090e=0xd48*-0x1+-0x9*0x1a3+-0xe81*-0x2+(-0x7cd*0x3+-0xe0f+0x2675)*(-0x2564+-0xb3c+0x31a0),_0x3e1959=0x20c5+0xbea+-0x7*0x650+(0x7*0x518+0x103e+0x1*-0x3367)*(-0x92*0x2e+-0x2373+-0x3eaf*-0x1);for(let _0x171316=-0x1797+0x1814+0x1*-0x7d;_0x171316<_0x4907b3;_0x171316++){if(_0x29af2b=this['_symbols'][_0x171316],_0x1ba08c=_0x171316+(-0x1*0x11a7+-0x1*0x1ab+0x1353)>=_0x4907b3?null:this['_symbols'][_0x171316+(-0x12a3*-0x1+-0x391+-0x1d*0x85)],qg['test'](_0x29af2b)){_0x5bb481++,(!this['_wrapLines']||this['_maxLines']<-0x1e*-0xcc+-0x293*0x1+-0x1555||_0x4ee4e7<this['_maxLines'])&&(_0x3be85d(this['_symbols'],_0x171316,_0x412cd7),_0x4b8823=_0x171316+(-0xfd3*0x1+-0x429*-0x1+0xbab),_0x5afa32=_0x171316+(-0xb28+-0x1922+0x244b));continue;}let _0x1a7e1c=0x1a*0x130+0x81*0x7+-0x2267,_0x4f710a=0x2*-0x7ba+-0x7b*-0xf+-0x1*-0x83f,_0x108842=-0x7c8+0x222e+-0x1a66*0x1,_0x343b2d=-0xc*-0x18d+-0x1beb+0x8*0x12a,_0x64886f,_0x18474f;if(_0x3cc20b=_0x123af9['chars'][_0x29af2b],!_0x3cc20b){if(bR['indexOf'](_0x29af2b)!==-(0x22*-0x13+-0x1887+0x1b0e))_0x3cc20b=AR;else{if(_0x123af9['chars']['\x20'])_0x3cc20b=_0x123af9['chars']['\x20'];else for(const _0x4f47bb in _0x123af9['chars']){_0x3cc20b=_0x123af9['chars'][_0x4f47bb];break;}_0x123af9['missingCha'+'rs']||(_0x123af9['missingCha'+'rs']=new Set()),_0x123af9['missingCha'+'rs']['has'](_0x29af2b)||(console['warn']('Character\x20'+'\x27'+_0x29af2b+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x123af9['info']['face']),_0x123af9['missingCha'+'rs']['add'](_0x29af2b));}}if(_0x3cc20b){let _0x5b3331=-0x16e8+-0xd*-0x223+-0x4df;if(_0x2fb005>-0xfb9+0xcf9+0x2c0){const _0x276fae=this['_font']['data']['kerning'];if(_0x276fae){const _0x2c1635=_0x276fae[Hc['getCodePoi'+'nt'](this['_symbols'][_0x171316-(-0x8a+0x22d9+-0x224e)])||-0x1f2c+-0xec7+0x2df3];_0x2c1635&&(_0x5b3331=_0x2c1635[Hc['getCodePoi'+'nt'](this['_symbols'][_0x171316])||-0x11*-0xcd+-0x489+-0x914]||-0x2573+0x1551+-0x24e*-0x7);}}_0x64886f=_0x3cc20b['scale']||0x20db+-0x1fa3+-0x137,_0x18474f=(_0x3cc20b['width']+_0x3cc20b['height'])/(0x3*-0x647+0x2500+-0x1229),_0x343b2d=_0x5bad48*_0x18474f/_0x64886f,_0x108842=(_0x3cc20b['xadvance']+_0x5b3331)*_0x5bad48,_0x1a7e1c=(_0x3cc20b['xoffset']-_0x5b3331)*_0x5bad48,_0x4f710a=_0x3cc20b['yoffset']*_0x5bad48;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x29af2b+'\x27');const _0x3ff7e0=TR['test'](_0x29af2b),_0x59b790=_0x3cc20b&&_0x3cc20b['map']||-0x137e+-0x1*0x8dd+0x11*0x1ab,_0x45936a=-this['_font']['data']['info']['maps'][_0x59b790]['width']/this['_font']['data']['info']['maps'][_0x59b790]['height'],_0x5d1132=this['_meshInfo'][_0x59b790],_0x481e03=_0x371f73+this['_spacing']*_0x108842;if(_0x481e03>_0xc110fe&&_0x2fb005>-0xb71+0x1b34+-0xfc3&&!_0x3ff7e0&&(this['_maxLines']<0xe09*-0x1+-0x25a3+0x33ac||_0x4ee4e7<this['_maxLines'])){if(_0x163b7c===0x1*0x153e+-0x1*0x327+-0x1a5*0xb)_0x4b8823=_0x171316,_0x3be85d(this['_symbols'],_0x171316,_0x412cd7);else{const _0x52b52a=Math['max'](_0x171316-_0x4b8823,-0x6a*-0x40+-0x1*0x2f+-0x1a51);if(this['_meshInfo']['length']<=0x1*0x765+0x1912+-0x2076)_0x5d1132['lines'][_0x4ee4e7-(-0x12d1*0x1+-0x1*0x1f49+0x321b)]-=_0x52b52a,_0x5d1132['quad']-=_0x52b52a;else{const _0x43e839=_0x4b8823,_0xe39a73=_0x171316;for(let _0x58f89c=_0x43e839;_0x58f89c<_0xe39a73;_0x58f89c++){const _0x32ad9f=this['_symbols'][_0x58f89c],_0xf6e782=_0x123af9['chars'][_0x32ad9f],_0x523a40=this['_meshInfo'][_0xf6e782&&_0xf6e782['map']||0x1d94+0x238e+-0x4a7*0xe];_0x523a40['lines'][_0x4ee4e7-(0x81+-0x1*0x125e+0x11de)]-=-0x24f2+-0xfd1*0x1+-0x2c*-0x133,_0x523a40['quad']-=-0x11*0x129+-0xf8*0xc+-0x1*-0x1f5a;}}_0x171316-=_0x52b52a+(0x37*-0x1c+0xd*0x263+-0x1902),_0x3be85d(this['_symbols'],_0x4b8823,_0x508be3);continue;}}_0x3237aa=_0x5d1132['quad'],_0x5d1132['lines'][_0x4ee4e7-(0x22c4+0x1*-0xf67+-0x135c)]=_0x3237aa;let _0x3f49d6=_0x371f73-_0x1a7e1c,_0x91d2f7=_0x3f49d6+_0x343b2d;const _0x253b6d=_0x9821aa-_0x4f710a,_0x5b78d7=_0x253b6d+_0x343b2d;if(this['_rtl']){const _0x36ee25=_0x343b2d-_0x1a7e1c-this['_spacing']*_0x108842-_0x1a7e1c;_0x3f49d6-=_0x36ee25,_0x91d2f7-=_0x36ee25;}_0x5d1132['positions'][_0x3237aa*(-0x1*-0x2035+-0x1c76+0x3bb*-0x1)*(0x12f3+0xd*0x218+-0x2e28)+(0xcc*0x6+0x13*-0x161+0x156b)]=_0x3f49d6,_0x5d1132['positions'][_0x3237aa*(-0xaf9*-0x3+-0xd6b+-0x137c)*(-0x1f2c+0x3*-0x1f+0x1f8c)+(0xbbc*-0x1+0x413*-0x8+0x2c55)]=_0x253b6d,_0x5d1132['positions'][_0x3237aa*(-0x45b*0x1+0x18a0+-0x1441*0x1)*(0x24ae*-0x1+-0x2c2+0x2773*0x1)+(-0x7b1+0x1f51+-0x179e)]=_0x1bbbbd,_0x5d1132['positions'][_0x3237aa*(-0x1961+0x17bc+0x1a9)*(-0x62*-0x4d+0xe*0x172+-0x1091*0x3)+(0xf68*0x1+0x1cb6+0x2c1b*-0x1)]=_0x91d2f7,_0x5d1132['positions'][_0x3237aa*(0xba*-0x16+-0x2652+0x332*0x11)*(-0x122e+-0x3d1*-0x8+-0xc57)+(-0x14b9*-0x1+-0xd20+-0x3*0x287)]=_0x253b6d,_0x5d1132['positions'][_0x3237aa*(0x1*0x2335+-0x2*-0x42e+-0x1*0x2b8d)*(-0xc99+0x18a8+-0x202*0x6)+(-0x49+0x16ea+0xb4e*-0x2)]=_0x1bbbbd,_0x5d1132['positions'][_0x3237aa*(-0x245c+-0x5*-0x79d+-0x1b1)*(0x194+-0x1ed9*0x1+-0x752*-0x4)+(-0x173*-0x9+0x1a51+-0x2756)]=_0x91d2f7,_0x5d1132['positions'][_0x3237aa*(-0x2683+0x3af+0x28*0xdf)*(-0x1*-0x185c+-0x1*0x1497+-0x4a*0xd)+(0x6d3*-0x3+0x1*-0x20ae+-0x2*-0x1a97)]=_0x5b78d7,_0x5d1132['positions'][_0x3237aa*(-0x1127+0x13cd+0x1*-0x2a2)*(-0xb3f*0x1+0x6*0x5a8+-0x16ae)+(-0xde*-0xc+-0x1613+0xbb3)]=_0x1bbbbd,_0x5d1132['positions'][_0x3237aa*(-0x11c*0x1+0x268*0x5+-0xae8)*(0x4cb*-0x1+0x1d75*0x1+0x18a7*-0x1)+(0x10bd+-0x17b7+0x703)]=_0x3f49d6,_0x5d1132['positions'][_0x3237aa*(0x1*-0x53e+-0x1ba7+0x20e9)*(-0x7f*0x35+0x16e9+-0xb*-0x4f)+(-0x269+-0x17bf+0x7*0x3be)]=_0x5b78d7,_0x5d1132['positions'][_0x3237aa*(-0x2189+0x427+0x1d66)*(0x1110+0x8e5+-0x52*0x51)+(0x1429+-0x5*-0x378+-0x2576)]=_0x1bbbbd,this['width']=Math['max'](this['width'],_0x481e03);let _0x514a48;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x514a48=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||-0x18b0+0x16bd+0x1f3+0.0001)),_0x514a48=Y['clamp'](_0x514a48,_0x33c5de,_0x308c3f),_0x514a48!==this['_element']['fontSize'])){this['_fontSize']=_0x514a48,_0xb1c6c4=!(-0x2452+-0x25*0x61+0x3257);break;}if(this['height']=Math['max'](this['height'],_0x4d9c2a-(_0x9821aa+_0x578ae2)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x514a48=Y['clamp'](this['_fontSize']-(0x2*0x5bd+0x3*0x2eb+-0x143a),_0x33c5de,_0x308c3f),_0x514a48!==this['_element']['fontSize'])){this['_fontSize']=_0x514a48,_0xb1c6c4=!(-0x1c69+0x180+0x1ae9);break;}_0x371f73+=this['_spacing']*_0x108842,_0x3ff7e0||(_0x412cd7=_0x371f73),(this['_isWordBou'+'ndary'](_0x29af2b)||this['_isValidNe'+'xtChar'](_0x1ba08c)&&(this['_isNextCJK'+'Boundary'](_0x29af2b,_0x1ba08c)||this['_isNextCJK'+'WholeWord'](_0x1ba08c)))&&(_0x163b7c++,_0x508be3=_0x412cd7,_0x4b8823=_0x171316+(-0x1a9a+0x21ff+-0x764)),_0x2fb005++;const _0x10a237=this['_getUv'](_0x29af2b);if(_0x5d1132['uvs'][_0x3237aa*(0x1*0x863+0x13d8+-0x1c37)*(0x1837+0xbc1+0x11fb*-0x2)+(0x15a1+0x4b2*0x7+0x1*-0x367f)]=_0x10a237[-0x1694+0x36e+-0x6*-0x331],_0x5d1132['uvs'][_0x3237aa*(-0x6*-0x83+-0x625+0x317)*(-0x37e*-0x7+0x1*-0x200f+0x1*0x79f)+(-0xdb+-0x1a7b*-0x1+-0x199f)]=-0x3*0x739+-0xf2c+0x24d8-_0x10a237[-0x2*0x4d6+-0x607+0xfb4],_0x5d1132['uvs'][_0x3237aa*(0x32d*-0x8+-0x4d*-0x69+-0x629)*(0xcef*0x3+-0x18b+-0x2540)+(0x1df2*0x1+0xf*-0x15a+-0x1*0x9aa)]=_0x10a237[0x2*-0xfeb+-0x131d+0x32f5],_0x5d1132['uvs'][_0x3237aa*(-0x1e2d+-0x1*-0xb39+-0x25f*-0x8)*(-0xc07*0x1+0x26d*0x1+-0x4ce*-0x2)+(0x24a7+0x407+-0x1*0x28ab)]=0x988+-0x1895+0x52*0x2f-_0x10a237[0x44*-0x4f+-0x1948+0x67*0x73],_0x5d1132['uvs'][_0x3237aa*(0x8b*0x45+0x3*0x665+-0x38a2)*(0x1*-0x2291+-0x1320+0x35b3)+(0xd0a+-0x2e*0x89+-0x6a*-0x1c)]=_0x10a237[0x160+-0x1dd8+-0x1b*-0x10e],_0x5d1132['uvs'][_0x3237aa*(0x931+-0x1b8c+0x125f)*(-0x2246+0x20f2*0x1+0x156)+(0xe*-0x2a5+0x449*-0x3+-0x2*-0x18f3)]=-0x99*0x9+0xe70+-0x90e-_0x10a237[-0x1bde+-0x1d8b+0x3*0x1324],_0x5d1132['uvs'][_0x3237aa*(0x1*0x9fb+0x9*-0x457+0x1d18)*(-0x35d+-0x27a*-0xb+-0x17df)+(-0x2c9*0x9+0x1*-0x4ce+0x1*0x1de5)]=_0x10a237[-0x8b1+-0x1*0x689+0xf3a*0x1],_0x5d1132['uvs'][_0x3237aa*(-0x911+0x31*-0xb9+0x2c7e)*(-0xbc+0x97d+-0x8bf)+(-0x1*0x659+-0x21d0+0x1418*0x2)]=-0x2371+0x65e*-0x1+0x29d0-_0x10a237[0x168d+0x1733*0x1+-0x2dbd],this['_symbolCol'+'ors']){const _0x4ad822=this['_symbolCol'+'ors'][_0x171316]*(0xa07*0x1+-0x1b86+0x1182);_0x55ea07=this['_colorPale'+'tte'][_0x4ad822],_0x32be4b=this['_colorPale'+'tte'][_0x4ad822+(-0xe75*0x1+0x1f8b+-0x1115)],_0xce2db8=this['_colorPale'+'tte'][_0x4ad822+(-0x1*-0xc35+-0x5a8*-0x1+0x28d*-0x7)];}if(_0x5d1132['colors'][_0x3237aa*(0x16e2+-0xcc9+0x1d*-0x59)*(0x2*-0x3+-0x152b+-0x3d*-0x59)+(0xd18+-0xefe+-0x2*-0xf3)]=_0x55ea07,_0x5d1132['colors'][_0x3237aa*(-0x8*0x9c+-0x685*0x1+0xb69)*(0x1*0xe43+0x1d3c+-0x1*0x2b7b)+(0x5*-0x16f+0x102b*-0x1+-0x5*-0x4ab)]=_0x32be4b,_0x5d1132['colors'][_0x3237aa*(0x2220+-0x29*-0x4b+-0x2e1f)*(0x7*-0x1af+0x2318*-0x1+-0x23*-0x157)+(-0x469*-0x2+0x22*-0xa2+-0xc*-0x10f)]=_0xce2db8,_0x5d1132['colors'][_0x3237aa*(0x122e+-0x2f*0x1f+0x1f*-0x67)*(-0x3*0xd03+0x1251+-0x52f*-0x4)+(0x245d*-0x1+-0x9f6+0x12*0x293)]=0x92d+0x1*0x2137+-0x2965,_0x5d1132['colors'][_0x3237aa*(0x8*-0x31c+-0xecb*0x2+0x367a)*(-0x21c+-0x19ba+0x1bda)+(-0x675+-0x1d3*-0xf+-0x14e4)]=_0x55ea07,_0x5d1132['colors'][_0x3237aa*(0x11*0x85+0xaf4*0x3+-0x2f*0xe3)*(0x775+0x9c5+-0x1136)+(-0x71*0x5+0x12ed*0x1+0x39*-0x4b)]=_0x32be4b,_0x5d1132['colors'][_0x3237aa*(-0x1*0xdb2+-0x9*-0x227+-0x9*0xa1)*(0x23d3+-0x1a5d+0x972*-0x1)+(-0x691+0xb3+0x5e4)]=_0xce2db8,_0x5d1132['colors'][_0x3237aa*(-0x39*-0x82+0x649*-0x4+-0x3ca)*(0x266b+0x18*-0x3e+0x9*-0x39f)+(-0x1*-0xff4+-0x1*0x19c+-0xe51)]=-0x1*0x10f1+0x2*0x53f+-0x772*-0x1,_0x5d1132['colors'][_0x3237aa*(-0x583*-0x2+-0x1e97+0x1395)*(-0x4*-0x283+-0x2*-0x541+-0x148a)+(0xb35+-0x1a84+0xf57)]=_0x55ea07,_0x5d1132['colors'][_0x3237aa*(0x967+0x1ba9+-0x250c)*(-0x2055+0xad*0xa+0x1997*0x1)+(-0x1b7a*0x1+0x1592+0xd*0x75)]=_0x32be4b,_0x5d1132['colors'][_0x3237aa*(0x2390+0x1b7*-0x7+0x15*-0x11f)*(-0xab5+0x466*-0x1+0x229*0x7)+(-0x2b*0x43+0x3a*0x82+0x1*-0x1229)]=_0xce2db8,_0x5d1132['colors'][_0x3237aa*(-0x20*-0x122+-0x1b59+-0x145*0x7)*(0x1244+0x13bc+-0x25fc)+(0xb17+-0x3b*0x2+-0xa96)]=0x749*-0x4+-0xcb*0x5+0x221a,_0x5d1132['colors'][_0x3237aa*(0x257e+-0xc12+0x1*-0x1968)*(-0x2*0xb27+-0x2*0x9d+-0x1*-0x178c)+(0x1c4b+-0x461+-0x17de)]=_0x55ea07,_0x5d1132['colors'][_0x3237aa*(0x17*-0x113+0x1025+0x894)*(0xecc+-0x1f37+0x106f)+(-0x79*0x31+0x1736*-0x1+0x2e6c)]=_0x32be4b,_0x5d1132['colors'][_0x3237aa*(-0x71*0x23+-0x3*0x367+0x19ac)*(-0x4a*-0x17+0x1ddc+0x6*-0x615)+(-0x1*-0x21a6+0x1571+0x3709*-0x1)]=_0xce2db8,_0x5d1132['colors'][_0x3237aa*(0x4ed*-0x4+0x8*-0x2cd+0x2a20)*(0x6*-0x3d3+0x30c+0x9f5*0x2)+(0x802+0x1b05+-0x22f8)]=0x38*-0x42+-0xe6a+-0x1dd9*-0x1,this['_symbolOut'+'lineParams']){const _0x414fb9=this['_symbolOut'+'lineParams'][_0x171316]*(-0x1bb3*-0x1+0x1d96+-0xe51*0x4);_0x497c90=this['_outlinePa'+'lette'][_0x414fb9]+this['_outlinePa'+'lette'][_0x414fb9+(0x6dc+0x6b6*0x1+0x97*-0x17)]*(-0x1*-0x1d73+-0x1*-0x2477+-0x40ea),_0xdac477=this['_outlinePa'+'lette'][_0x414fb9+(-0x1429+0x23*-0x101+0x2*0x1ba7)]+this['_outlinePa'+'lette'][_0x414fb9+(-0x18fb+-0x6de+0x4*0x7f7)]*(0x28b*-0x9+0x11ec+0x5f7),_0x43444e=this['_outlinePa'+'lette'][_0x414fb9+(-0x10*-0x20c+0x3*0x656+-0x33be)];}if(_0x5d1132['outlines'][_0x3237aa*(-0xd*-0x20c+-0x24e5+-0x9*-0x125)*(-0x17*-0x11e+-0x1*-0x21a1+0xd*-0x490)+(0x1655+-0x19bf*-0x1+-0x3014)]=_0x497c90,_0x5d1132['outlines'][_0x3237aa*(-0x1*-0x2159+-0x1*0x1bc5+-0x1*0x590)*(0x25*0x9f+-0x2100+0xa08)+(0x185f*-0x1+0x739*-0x1+-0x1f99*-0x1)]=_0xdac477,_0x5d1132['outlines'][_0x3237aa*(0x1*0x1a21+-0x2*-0x8e9+0x17*-0x1e9)*(0x6ba+0x1d7e*-0x1+0x16c7)+(0x74*-0x8+0x277+-0x17*-0xd)]=_0x43444e,_0x5d1132['outlines'][_0x3237aa*(0x1*-0x17f1+-0x24c1+0x3cb6)*(-0x730+-0x559*0x7+0x1*0x2ca2)+(-0xf*0xdc+0x149f+0xd*-0x98)]=_0x497c90,_0x5d1132['outlines'][_0x3237aa*(-0x59*0x4+0x16dc+-0x1574)*(-0x69a+-0xa57*0x1+-0x1b2*-0xa)+(-0xd15+0xaaa+0x26f)]=_0xdac477,_0x5d1132['outlines'][_0x3237aa*(0x35*-0x7b+0xc*0x2a+0x1783)*(-0x24d4+0xe79+-0x165e*-0x1)+(0x61f*0x2+-0x975*-0x2+-0x1f23)]=_0x43444e,_0x5d1132['outlines'][_0x3237aa*(-0x1a7b+0x3d1+0x16ae)*(0x9*-0x409+0x81*-0x43+0x4617)+(0x1010+0x3*0xa08+0x1*-0x2e22)]=_0x497c90,_0x5d1132['outlines'][_0x3237aa*(0x60*0x11+-0x3*0x38b+-0x1*-0x445)*(-0x773*0x1+-0x2195+0x290b)+(-0x262c+-0x10*-0x12+0x1*0x2513)]=_0xdac477,_0x5d1132['outlines'][_0x3237aa*(0x333*0x2+0x21c1+-0x2823)*(-0x249e+0xf3f+0x1562)+(0x547*-0x4+0x100*0x7+0xe24)]=_0x43444e,_0x5d1132['outlines'][_0x3237aa*(-0x1885+0x1*-0xee2+0x276b*0x1)*(-0x198f+0xb1*0x1e+0x26a*0x2)+(-0x1*-0x2223+0x3*-0x1c6+-0x1cc8)]=_0x497c90,_0x5d1132['outlines'][_0x3237aa*(-0x25d8+-0x11ca+0x37a6)*(0xc2e*-0x2+0x2503+0x329*-0x4)+(0x665+0x4af*-0x5+-0x4*-0x444)]=_0xdac477,_0x5d1132['outlines'][_0x3237aa*(-0x71a+-0x1*-0x23d5+-0x1cb7*0x1)*(0x25a8+-0x3*-0x9b3+-0x42be)+(-0x17ee+0x2596+-0xd9d)]=_0x43444e,this['_symbolSha'+'dowParams']){const _0xa278d2=this['_symbolSha'+'dowParams'][_0x171316]*(-0x1f3*0x8+-0x1*0x1d7a+-0x8*-0x5a3);_0x4ab896=this['_shadowPal'+'ette'][_0xa278d2]+this['_shadowPal'+'ette'][_0xa278d2+(-0x1f45+0x1e3d*-0x1+0x3d83)]*(0x1*-0xf35+-0x1cac+-0x1*-0x2ce1),_0x28090e=this['_shadowPal'+'ette'][_0xa278d2+(-0x247b+-0xb9*-0x5+0x20e0)]+this['_shadowPal'+'ette'][_0xa278d2+(0x2d7+-0xfe6+0x689*0x2)]*(0x6*0x30f+0x20*-0x9c+0x226),_0x3e1959=this['_shadowPal'+'ette'][_0xa278d2+(0x24cb+-0xa*0x1e5+-0x11d5)]+(0x72*-0x35+-0x1*0x173+0xa*0x28e)+Math['round'](_0x45936a*this['_shadowPal'+'ette'][_0xa278d2+(0xbee+0x3*-0xce5+0x1ac6)]+(0x254c+0x258e+-0xeb*0x51))*(-0x1*0x25fb+0x2*0xae5+0x3*0x5bb);}_0x5d1132['shadows'][_0x3237aa*(0x2523+0x20*0x52+0x2f5f*-0x1)*(-0x21c1+0x2500+-0x33c)+(-0x11*0xeb+-0x77*0x1f+-0x1e04*-0x1)]=_0x4ab896,_0x5d1132['shadows'][_0x3237aa*(0x6*0x103+-0xdfa*-0x1+-0x1408)*(0x25a4+0x76*0x2+0x1*-0x268d)+(-0x10*-0x232+-0x18c1+-0xa5e)]=_0x28090e,_0x5d1132['shadows'][_0x3237aa*(0x2e9*0x9+0x2605+-0x4032)*(-0x1efe+-0x7*-0x542+-0x5cd)+(-0x24a5+0xb*0x166+-0xb*-0x1ef)]=_0x3e1959,_0x5d1132['shadows'][_0x3237aa*(0x2524+-0xb6+0x1*-0x246a)*(0x1*-0xccb+-0x26ac+0x337a)+(-0x1d*0x14b+0x29f+0x22e3)]=_0x4ab896,_0x5d1132['shadows'][_0x3237aa*(0x2*0x55e+-0x1e25*-0x1+-0xd9f*0x3)*(0x54+-0xc0e*-0x2+-0x186d)+(0x15ea+-0x1f8b+0x9a5)]=_0x28090e,_0x5d1132['shadows'][_0x3237aa*(0xa7*0x2b+0xecb+-0x2ad4)*(-0x2*0x88c+0x141*-0x18+0x119*0x2b)+(0x1*0x243b+-0x125+-0x2311)]=_0x3e1959,_0x5d1132['shadows'][_0x3237aa*(0x7ad*-0x5+0xafd+0x1b68)*(-0x1239+0x15b+-0x1d*-0x95)+(0x2*-0x6dd+-0x13e7*-0x1+-0x627)]=_0x4ab896,_0x5d1132['shadows'][_0x3237aa*(0x2496+0x1*0x1411+-0x38a3)*(-0x998+-0xdc5+-0x1*-0x1760)+(-0x1bfa+-0xf03+-0x1*-0x2b04)]=_0x28090e,_0x5d1132['shadows'][_0x3237aa*(-0x6*-0x593+0x3*0x276+-0x28d0)*(0xcda+0x17ee+0x24c5*-0x1)+(0x17da+-0x13f*0x4+-0x12d6)]=_0x3e1959,_0x5d1132['shadows'][_0x3237aa*(0x1763+0x39*-0x3f+-0x958)*(0x397+-0x5ee*0x4+0x1424)+(-0x1f60+-0x209*-0x1+0x5e*0x50)]=_0x4ab896,_0x5d1132['shadows'][_0x3237aa*(-0x22*-0x5c+-0xa19+0x7*-0x4d)*(-0x1bc7+0x2029+0x45f*-0x1)+(0x620+0xb*-0x5d+-0x217)]=_0x28090e,_0x5d1132['shadows'][_0x3237aa*(0x4*-0xcd+-0x1eab+0x6c7*0x5)*(-0x24fa+-0xb*-0x1a0+-0x1*-0x131d)+(0x21+0x15f7+-0x160d)]=_0x3e1959,_0x5d1132['quad']++;}_0xb1c6c4||_0x5afa32<_0x4907b3&&_0x3be85d(this['_symbols'],_0x4907b3,_0x371f73);}this['_noResize']=!(0x8*0x6+0x59e+-0x5ce),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(-0xa9e*0x2+0x1e4+0x1359);const _0x1cf984=this['_element']['pivot']['x'],_0x5961a2=this['_element']['pivot']['y'],_0x1097ca=this['_alignment']['x'],_0x29b439=this['_alignment']['y'];for(let _0x1c5295=0x22ff+-0x2310+-0x11*-0x1;_0x1c5295<this['_meshInfo']['length'];_0x1c5295++){if(this['_meshInfo'][_0x1c5295]['count']===0x3*-0x783+0x146*-0xe+0x285d*0x1)continue;let _0x976f2c=0x2*0x324+-0x1363+-0xb*-0x131;for(const _0xcadce4 in this['_meshInfo'][_0x1c5295]['lines']){const _0x111ea0=this['_meshInfo'][_0x1c5295]['lines'][_0xcadce4],_0xc3f8bf=this['_lineWidth'+'s'][parseInt(_0xcadce4,0x1f1e+0x13*-0x177+-0x1*0x33f)],_0x2f7412=-_0x1cf984*this['_element']['calculated'+'Width']+_0x1097ca*(this['_element']['calculated'+'Width']-_0xc3f8bf)*(this['_rtl']?-(-0x11*0x241+0xf*-0x21a+0x45d8):-0x140f+0x52*-0x2b+0x7a*0x47),_0x2d81ff=(-0x2c8+0x1792+0x1*-0x14c9-_0x5961a2)*this['_element']['calculated'+'Height']-_0x4d9c2a-(0x1827+0x1*0x1982+0x31a8*-0x1-_0x29b439)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x3d07c8=_0x976f2c;_0x3d07c8<=_0x111ea0;_0x3d07c8++)this['_meshInfo'][_0x1c5295]['positions'][_0x3d07c8*(-0xf42+0x1753+-0x80d)*(0x84e+0x44d+0x64c*-0x2)]+=_0x2f7412,this['_meshInfo'][_0x1c5295]['positions'][_0x3d07c8*(0x1*0x1bb+0x1738*-0x1+0x1581)*(-0x90f*-0x3+0x2474+-0x3be*0x11)+(-0x155f+0xae7+0xa7b)]+=_0x2f7412,this['_meshInfo'][_0x1c5295]['positions'][_0x3d07c8*(-0x2314+0x204e+-0x2*-0x165)*(0x194e+-0x335*0x2+-0x12e1)+(0x8bd*-0x1+0x2*0x259+0x411)]+=_0x2f7412,this['_meshInfo'][_0x1c5295]['positions'][_0x3d07c8*(0x24cf*0x1+-0x3*0x8d1+-0xa58)*(0xbbf+0x15ae+-0x216a)+(0x125b+-0xce6*-0x1+-0x1f38)]+=_0x2f7412,this['_meshInfo'][_0x1c5295]['positions'][_0x3d07c8*(-0x1*0x1742+-0x10da+0x2820)*(-0x476+0x488+-0x3*0x5)+(-0x14b5*0x1+0x3*-0x7f+0x1*0x1633)]+=_0x2d81ff,this['_meshInfo'][_0x1c5295]['positions'][_0x3d07c8*(-0x5*0x77c+-0x1ab0+0x4020)*(0x2461+0x1b3e+-0x3f9c)+(-0x1*0x258f+0x1529*-0x1+-0x4*-0xeaf)]+=_0x2d81ff,this['_meshInfo'][_0x1c5295]['positions'][_0x3d07c8*(-0x8fe+-0x12*-0x85+-0x58)*(-0x113c+-0x2684+0x19*0x23b)+(-0xfa+-0x202*0x9+0x1313)]+=_0x2d81ff,this['_meshInfo'][_0x1c5295]['positions'][_0x3d07c8*(0x615+0x641*-0x1+0x30)*(0x2209+0x496+-0x1*0x269c)+(-0x236c+0x1f7*0xe+0x7f4)]+=_0x2d81ff;if(this['_rtl'])for(let _0x55a71c=_0x976f2c;_0x55a71c<=_0x111ea0;_0x55a71c++){const _0x14d762=_0x55a71c*(-0x4*0x12c+0x1f19*0x1+-0x1a65)*(0x135e+0x6c5+0x1a2*-0x10);for(let _0x308284=0x1*-0x2487+0x196+0x22f1;_0x308284<0x4*0xda+0x895+0x5*-0x265;++_0x308284)this['_meshInfo'][_0x1c5295]['positions'][_0x14d762+_0x308284*(-0x106+0x164a+-0x1541)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x1c5295]['positions'][_0x14d762+_0x308284*(-0x171c+0x3d1+0x161*0xe)]+_0x2f7412*(-0x13a*-0x9+-0x2136+0x162e);const _0x1b1325=this['_meshInfo'][_0x1c5295]['positions'][_0x14d762+(0x25f1+0x1b2*-0x7+0xd08*-0x2)],_0x229792=this['_meshInfo'][_0x1c5295]['positions'][_0x14d762+(-0x3a6+0x61*-0x2f+-0x8d*-0x27)];this['_meshInfo'][_0x1c5295]['positions'][_0x14d762+(0x1*0x1e3d+-0x1*0x25fd+0x7c3)]=this['_meshInfo'][_0x1c5295]['positions'][_0x14d762+(-0x2b6*-0xe+0x3d*0x6d+0x5*-0xcc9)],this['_meshInfo'][_0x1c5295]['positions'][_0x14d762+(-0x2482+0x1*-0x2cf+0x2757)]=this['_meshInfo'][_0x1c5295]['positions'][_0x14d762+(0x1f8+-0x20df+0x90*0x37)],this['_meshInfo'][_0x1c5295]['positions'][_0x14d762+(0x178e+-0x1424+0x17*-0x26)]=_0x1b1325,this['_meshInfo'][_0x1c5295]['positions'][_0x14d762+(-0xb7*-0x3+0x263a+0x2*-0x142b)]=_0x229792;}_0x976f2c=_0x111ea0+(-0xf71+-0x1004+0x1f76);}const _0x13190d=this['_meshInfo'][_0x1c5295]['count']*(0x13b+0x1672+-0x17a9),_0x45770f=this['_meshInfo'][_0x1c5295]['quad']*(-0x7d0+0x922*-0x3+0x233a),_0x19198e=new Uo(this['_meshInfo'][_0x1c5295]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x254013=0x27*-0x6d+-0xa65+0x1b00;_0x254013<_0x13190d;_0x254013++)_0x254013>=_0x45770f?(_0x19198e['element'][Me]['set'](-0x1ab2+-0x3c5*-0x4+0x2*0x5cf,0x132d*0x1+-0x2051*-0x1+-0x337e,-0x7dc*-0x2+-0x90e*-0x2+-0x14*0x1b1),_0x19198e['element'][is]['set'](-0xf59*0x2+-0xd4*-0x3+0x2*0xe1b,0x374+-0x7*-0x25b+0x3fd*-0x5),_0x19198e['element'][Wt]['set'](0x2664+-0x1848+-0x81*0x1c,-0x1741+-0x48*-0x18+0x1081,0x1*0x162c+0x56e+-0x1*0x1b9a,-0x2112+-0x1e1+0x22f3),_0x19198e['element'][Ko]['set'](0x17e2+-0x14d7+-0x30b,0x1cc9+0x1*0x109f+-0x2d68,-0x16ac+-0x978+-0xb*-0x2ec,-0x295+0x3b3+-0xd*0x16),_0x19198e['element'][Zo]['set'](0x88*-0x2+0x85*0x15+-0x9d9,-0x59*0x50+-0x5*0x185+0x2369*0x1,-0x4bc+-0x18af*-0x1+-0x1*0x13f3,-0x2ce*-0x1+-0x1112+0xe44)):(_0x19198e['element'][Me]['set'](this['_meshInfo'][_0x1c5295]['positions'][_0x254013*(-0x109a+-0x2336+0x33d3*0x1)+(0x1e94+0x20a1*0x1+-0x3f35)],this['_meshInfo'][_0x1c5295]['positions'][_0x254013*(-0x1ebf+-0x1*-0x16df+0x7e3)+(-0x207f+-0x6c*-0x35+-0x512*-0x2)],this['_meshInfo'][_0x1c5295]['positions'][_0x254013*(0xfb8+0x18f8+-0x9*0x485)+(0x8*-0x326+-0x1*0x3ad+0x1cdf)]),_0x19198e['element'][is]['set'](this['_meshInfo'][_0x1c5295]['uvs'][_0x254013*(0x5d*-0x2d+-0x2285*-0x1+-0x1d1*0xa)+(0x63f*-0x4+0x1397+0x565)],this['_meshInfo'][_0x1c5295]['uvs'][_0x254013*(-0x13*0x107+0x1*0x118b+-0x1fc*-0x1)+(-0x4*-0x1cb+-0x5*0x791+0x1eaa)]),_0x19198e['element'][Wt]['set'](this['_meshInfo'][_0x1c5295]['colors'][_0x254013*(0x1169*-0x2+0x18e4+-0x13*-0x86)+(-0x5dd+0x1*-0x26ce+0x2cab)],this['_meshInfo'][_0x1c5295]['colors'][_0x254013*(0x322*0x2+-0x4*0x919+0x1e24*0x1)+(0x16d9+-0xfa9*-0x2+0x6*-0x907)],this['_meshInfo'][_0x1c5295]['colors'][_0x254013*(-0x1b36+-0x56f+0x3*0xae3)+(-0x17b7*-0x1+-0x6dd+-0x10d8)],this['_meshInfo'][_0x1c5295]['colors'][_0x254013*(-0xe8d*-0x1+-0x1*-0xf41+-0x1dca)+(-0x19aa+0x1e0b+-0x45e)]),_0x19198e['element'][Ko]['set'](this['_meshInfo'][_0x1c5295]['outlines'][_0x254013*(0x237b+-0xdf1*-0x1+-0x3169)+(-0x1763+0x67a+0x10e9)],this['_meshInfo'][_0x1c5295]['outlines'][_0x254013*(0x10b1*0x1+0x1c0+-0x126e*0x1)+(-0xad7+0x1ca*0x1+-0x2*-0x487)],this['_meshInfo'][_0x1c5295]['outlines'][_0x254013*(0x11f5+-0xd5a+-0x498)+(0x9*0x238+-0x1a35+-0x215*-0x3)]),_0x19198e['element'][Zo]['set'](this['_meshInfo'][_0x1c5295]['shadows'][_0x254013*(0x6da+0x973+-0x3*0x56e)+(-0xc2c+0xb0a+0x122)],this['_meshInfo'][_0x1c5295]['shadows'][_0x254013*(-0x3d9+-0xa9e+0xe7a)+(0x3*-0xa74+0x1d*-0x65+0x2ace)],this['_meshInfo'][_0x1c5295]['shadows'][_0x254013*(0x2*0xe12+-0x6d*0xe+-0x162b)+(0x20a2+0x29*-0x22+-0x1b2e)])),_0x19198e['next']();_0x19198e['end'](),this['_meshInfo'][_0x1c5295]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x1c5295]['positions']),this['_meshInfo'][_0x1c5295]['meshInstan'+'ce']['_aabbVer']=-(0x1*0x13+0xc29*-0x1+0xc17);}this['_aabbDirty']=!(0xd44+0x85*-0x2b+0x913);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x268949){this['font']!==_0x268949['resource']&&(this['font']=_0x268949['resource']);}['_onFontCha'+'nge'](_0x266d9f,_0x52be85,_0x1d5891,_0x12d4fb){if(_0x52be85==='data'){this['_font']['data']=_0x1d5891;const _0x3f867d=this['_font']['data']['info']['maps']['length'];for(let _0x43f34d=0xe6*0x15+-0x917+-0x9c7;_0x43f34d<_0x3f867d;_0x43f34d++){if(!this['_meshInfo'][_0x43f34d])continue;const _0x30142b=this['_meshInfo'][_0x43f34d]['meshInstan'+'ce'];_0x30142b&&(_0x30142b['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x30142b['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x30142b['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x43f34d]['width']));}}}['_onFontRem'+'ove'](_0x1e116f){}['_setTextur'+'eParams'](_0x545d5e,_0x2cd85a){this['_font']&&(this['_font']['type']===Rh?(_0x545d5e['deletePara'+'meter']('texture_em'+'issiveMap'),_0x545d5e['deletePara'+'meter']('texture_op'+'acityMap'),_0x545d5e['setParamet'+'er']('texture_ms'+'dfMap',_0x2cd85a)):this['_font']['type']===dR&&(_0x545d5e['deletePara'+'meter']('texture_ms'+'dfMap'),_0x545d5e['setParamet'+'er']('texture_em'+'issiveMap',_0x2cd85a),_0x545d5e['setParamet'+'er']('texture_op'+'acityMap',_0x2cd85a)));}['_getPxRang'+'e'](_0x54e45e){const _0x147330=Object['keys'](this['_font']['data']['chars']);for(let _0x468e17=0xcb5*0x1+-0x2394+0x16df;_0x468e17<_0x147330['length'];_0x468e17++){const _0x4eb3de=this['_font']['data']['chars'][_0x147330[_0x468e17]];if(_0x4eb3de['range'])return(_0x4eb3de['scale']||-0x1bbe+-0x1ab+0x1d6a)*_0x4eb3de['range'];}return 0x1cc0+0x21*0x70+-0x2b2e;}['_getUv'](_0xabdd7f){const _0x27f65a=this['_font']['data'];if(!_0x27f65a['chars'][_0xabdd7f])return _0x27f65a['chars']['\x20']?this['_getUv']('\x20'):[-0x1e3f+0x1ae*0x10+0x35f,0x1cd4+-0x14d1+0x803*-0x1,-0x14*0xf5+0x15d*0x9+0x6df,0x131a+0x24ba+-0x37d4];const _0x58e51a=_0x27f65a['chars'][_0xabdd7f]['map'],_0x272a24=_0x27f65a['info']['maps'][_0x58e51a]['width'],_0x277740=_0x27f65a['info']['maps'][_0x58e51a]['height'],_0x11a89b=_0x27f65a['chars'][_0xabdd7f]['x'],_0x5138e3=_0x27f65a['chars'][_0xabdd7f]['y'],_0x2b1d84=_0x11a89b,_0x446e0b=_0x5138e3,_0x4fab6d=_0x11a89b+_0x27f65a['chars'][_0xabdd7f]['width'],_0x36a86b=_0x5138e3-_0x27f65a['chars'][_0xabdd7f]['height'],_0x142881=-0x1c*-0x14f+-0x8*0x319+0x1*-0xbdb-_0x27f65a['chars'][_0xabdd7f]['height']/_0x277740;return[_0x2b1d84/_0x272a24,_0x142881-_0x446e0b/_0x277740,_0x4fab6d/_0x272a24,_0x142881-_0x36a86b/_0x277740];}['onEnable'](){this['_fontAsset']['autoLoad']=!(0xb2a+-0xe68+0x33e),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(0x1121+0x37*0x3c+-0x1e04),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x332ce3){if(this['_model']){const _0x2b21bd=this['_model']['meshInstan'+'ces'];for(let _0x8aaefd=0x2*-0x89e+0x16c4+0x3*-0x1d8;_0x8aaefd<_0x2b21bd['length'];_0x8aaefd++)_0x2b21bd[_0x8aaefd]['stencilFro'+'nt']=_0x332ce3,_0x2b21bd[_0x8aaefd]['stencilBac'+'k']=_0x332ce3;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x236781){const _0x3e6e6c={};_0x236781===void(0x1*-0x1c11+-0x1*0x2389+-0xe*-0x48b)&&(_0x236781=this['_symbols']['length']);for(let _0x41a0aa=-0x25de+0x567+0x1*0x2077,_0x1a40a3=_0x236781;_0x41a0aa<_0x1a40a3;_0x41a0aa++){const _0x1bab6e=this['_symbols'][_0x41a0aa];let _0x141758=this['_font']['data']['chars'][_0x1bab6e];_0x141758||(_0x141758=this['_font']['data']['chars']['\x20'],_0x141758||(_0x141758=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[0x58*-0x6f+0x180+0x24a8]]));const _0x366db1=_0x141758['map'];_0x3e6e6c[_0x366db1]?_0x3e6e6c[_0x366db1]++:_0x3e6e6c[_0x366db1]=0x1fb7+0x1099+-0x304f;}return _0x3e6e6c;}['_updateRen'+'derRange'](){const _0x38cf21=this['_rangeStar'+'t']===-0x4ab+-0x1235+0x30*0x7a?0xea8+0x1*0x1fa1+0x2e49*-0x1:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0x336f42=this['_rangeEnd']===-0x7a*-0x19+-0x7a5+-0x445?-0x1*-0x6ee+-0xf16+-0x3a*-0x24:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x4d666=-0x2c3+-0xda7+0x106a,_0x28c6f0=this['_meshInfo']['length'];_0x4d666<_0x28c6f0;_0x4d666++){const _0x3abe90=_0x38cf21[_0x4d666]||-0x15b6*-0x1+-0x213f*-0x1+-0x36f5,_0x1020c9=_0x336f42[_0x4d666]||0x717+0xa97+-0x49*0x3e,_0x4abc25=this['_meshInfo'][_0x4d666]['meshInstan'+'ce'];if(_0x4abc25){const _0x2974da=_0x4abc25['mesh'];_0x2974da&&(_0x2974da['primitive'][0x16a9+0x20df+-0x3788]['base']=_0x3abe90*(-0x3cd+-0x11e6+0x15b6)*(-0x323*0x3+0x58f*0x3+0x2*-0x3a1),_0x2974da['primitive'][0x1d2e+-0x259d+0x86f]['count']=(_0x1020c9-_0x3abe90)*(-0xa9b+0x1*-0x1e5f+0x28fd)*(-0x1af1*0x1+-0x67*-0x61+-0xc14));}}}set['text'](_0x5213c6){this['_i18nKey']=null;const _0x4ba1d2=_0x5213c6!=null&&_0x5213c6['toString']()||'';this['_setText'](_0x4ba1d2);}get['text'](){return this['_text'];}set['key'](_0x4d4760){const _0x54337b=_0x4d4760!==null?_0x4d4760['toString']():null;this['_i18nKey']!==_0x54337b&&(this['_i18nKey']=_0x54337b,_0x54337b?(this['_fontAsset']['disableLoc'+'alization']=!(-0xaf3+-0x117b*-0x1+0x1*-0x687),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(-0x1*-0x13af+0x9e*-0x3d+0x3*0x5fd));}get['key'](){return this['_i18nKey'];}set['color'](_0x2d0f1a){const _0x52f781=_0x2d0f1a['r'],_0x1156c6=_0x2d0f1a['g'],_0x128173=_0x2d0f1a['b'];if(this['_color']===_0x2d0f1a&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x52f781&&this['_color']['g']===_0x1156c6&&this['_color']['b']===_0x128173)&&(this['_color']['r']=_0x52f781,this['_color']['g']=_0x1156c6,this['_color']['b']=_0x128173,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_color']),this['_colorUnif'+'orm'][0x3df*0x1+0x25b3+-0x2992]=We['r'],this['_colorUnif'+'orm'][-0x1f08+0x2*-0x1b3+-0x29*-0xd7]=We['g'],this['_colorUnif'+'orm'][0x32b+0x9c7+0x90*-0x17]=We['b'];for(let _0x30859c=0x1*0x83b+-0xd81*0x1+0x2d*0x1e,_0x816e46=this['_model']['meshInstan'+'ces']['length'];_0x30859c<_0x816e46;_0x30859c++)this['_model']['meshInstan'+'ces'][_0x30859c]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x3a9f41){if(this['_color']['a']!==_0x3a9f41&&(this['_color']['a']=_0x3a9f41,this['_model'])){for(let _0x117be4=0x20a0+-0x24d9+0x2f*0x17,_0xfe104c=this['_model']['meshInstan'+'ces']['length'];_0x117be4<_0xfe104c;_0x117be4++)this['_model']['meshInstan'+'ces'][_0x117be4]['setParamet'+'er']('material_o'+'pacity',_0x3a9f41);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x3a9f41);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x2aefe5){const _0x329660=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x2aefe5,this['_scaledLin'+'eHeight']=_0x2aefe5,_0x329660!==_0x2aefe5&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x3f167c){const _0x43f18b=this['_wrapLines'];this['_wrapLines']=_0x3f167c,_0x43f18b!==_0x3f167c&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x1efdfe){const _0x2a41e6=this['_spacing'];this['_spacing']=_0x1efdfe,_0x2a41e6!==_0x1efdfe&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x26dad9){const _0x1f0527=this['_fontSize'];this['_fontSize']=_0x26dad9,this['_originalF'+'ontSize']=_0x26dad9,_0x1f0527!==_0x26dad9&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x82d6d1){this['_fontAsset']['defaultAss'+'et']=_0x82d6d1;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0x5578b9){let _0x2b8e3a;if(this['_font']&&(_0x2b8e3a=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0x5578b9,this['_fontMinY']=-0x1aec+-0xdf*-0x4+0xbb8*0x2,this['_fontMaxY']=0x1*0x547+-0x1*0x511+-0x36,!_0x5578b9)return;const _0x5327a7=this['_font']['data'];for(const _0x2b81d2 in _0x5327a7['chars']){const _0x2b1d34=_0x5327a7['chars'][_0x2b81d2];_0x2b1d34['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x2b1d34['bounds'][-0x1bb5+0x1b*0x159+0x1*-0x8ad]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x2b1d34['bounds'][-0x1*-0x2559+-0x12ab+-0x3*0x639]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0x5578b9['type']!==_0x2b8e3a){const _0x370919=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x370919);}for(let _0x58d405=0x1a43+-0x23fd+0x9ba,_0x3ea02c=this['_font']['textures']['length'];_0x58d405<_0x3ea02c;_0x58d405++)if(!this['_meshInfo'][_0x58d405])this['_meshInfo'][_0x58d405]=new vR();else{const _0x4ff5df=this['_meshInfo'][_0x58d405]['meshInstan'+'ce'];_0x4ff5df&&(_0x4ff5df['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x4ff5df['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x4ff5df['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x58d405]['width']),this['_setTextur'+'eParams'](_0x4ff5df,this['_font']['textures'][_0x58d405]));}let _0x3469e1=!(-0x1ee2+-0x1*0x464+0x2347);for(let _0x52d366=this['_font']['textures']['length'];_0x52d366<this['_meshInfo']['length'];_0x52d366++)this['_meshInfo'][_0x52d366]['meshInstan'+'ce']&&(_0x3469e1||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x3469e1=!(-0x7e6+-0xbe3+0x13c9)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x52d366]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x7ab2a1){_0x7ab2a1 instanceof J?this['_alignment']['set'](_0x7ab2a1['x'],_0x7ab2a1['y']):this['_alignment']['set'](_0x7ab2a1[0x8a*-0x13+0x577*0x4+0x5cf*-0x2],_0x7ab2a1[0x599*-0x2+0x2*-0xd54+0x25db]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x46815c){const _0x2fbc60=this['_autoWidth'];if(this['_autoWidth']=_0x46815c,_0x46815c&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0x1661+0x1240+-0x28a1+0.0001&&(this['_element']['width']=this['width']),_0x2fbc60!==_0x46815c){const _0x70e8fa=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x70e8fa!==this['_fontSize']&&(this['_fontSize']=_0x70e8fa,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x2e140c){const _0x3957be=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x2e140c,_0x2e140c&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0x31*-0x1+-0x2091+0x20c2+0.0001&&(this['_element']['height']=this['height']),_0x3957be!==_0x2e140c){const _0x59b8d1=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x59b8d1!==this['_fontSize']&&(this['_fontSize']=_0x59b8d1,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x4a10d3){this['_rtlReorde'+'r']!==_0x4a10d3&&(this['_rtlReorde'+'r']=_0x4a10d3,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0xffeb3c){this['_unicodeCo'+'nverter']!==_0xffeb3c&&(this['_unicodeCo'+'nverter']=_0xffeb3c,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x1278e2=!(0x1050+-0x2*-0x98c+-0x13*0x1dd);for(let _0x2c1a7e=-0x2a2*-0x2+0x5*-0x2ce+0x8c2;_0x2c1a7e<this['_meshInfo']['length'];_0x2c1a7e++)this['_meshInfo'][_0x2c1a7e]['meshInstan'+'ce']&&(_0x1278e2?this['_aabb']['add'](this['_meshInfo'][_0x2c1a7e]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x2c1a7e]['meshInstan'+'ce']['aabb']),_0x1278e2=!(0x1*0x1c1e+0x528+-0x2146)));this['_aabbDirty']=!(-0x13d1+-0x1*-0x5c+0x1376);}return this['_aabb'];}set['outlineCol'+'or'](_0x3385a4){const _0x1996f3=_0x3385a4 instanceof ie?_0x3385a4['r']:_0x3385a4[0x224+0x17c4+-0x1*0x19e8],_0x5d93ef=_0x3385a4 instanceof ie?_0x3385a4['g']:_0x3385a4[0x144a+0x299+0x16e2*-0x1],_0x53649f=_0x3385a4 instanceof ie?_0x3385a4['b']:_0x3385a4[0x3*-0x4cf+-0xd3*-0x2b+-0x1502],_0x5740d5=_0x3385a4 instanceof ie?_0x3385a4['a']:_0x3385a4[0xf53*-0x1+0x1e4a*-0x1+0x2da0];if(this['_outlineCo'+'lor']===_0x3385a4&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x1996f3&&this['_outlineCo'+'lor']['g']===_0x5d93ef&&this['_outlineCo'+'lor']['b']===_0x53649f&&this['_outlineCo'+'lor']['a']===_0x5740d5)&&(this['_outlineCo'+'lor']['r']=_0x1996f3,this['_outlineCo'+'lor']['g']=_0x5d93ef,this['_outlineCo'+'lor']['b']=_0x53649f,this['_outlineCo'+'lor']['a']=_0x5740d5,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x1*-0xcaa+0x240e+0x5d9*-0x4]=We['r'],this['_outlineCo'+'lorUniform'][-0x2662+0xcf5*0x2+-0x1*-0xc79]=We['g'],this['_outlineCo'+'lorUniform'][0x52*-0x6b+-0x769*0x3+0x187*0x25]=We['b'],this['_outlineCo'+'lorUniform'][-0x2558+0x192f*-0x1+-0xc82*-0x5]=We['a'];for(let _0x247750=0x6a*-0x1d+-0x18fd*0x1+0x24ff,_0x54d09d=this['_model']['meshInstan'+'ces']['length'];_0x247750<_0x54d09d;_0x247750++)this['_model']['meshInstan'+'ces'][_0x247750]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x40078d){const _0x245c1f=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x40078d,_0x245c1f!==_0x40078d&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x39e054=0xc74+-0x16a7+0xa33,_0xc9b167=this['_model']['meshInstan'+'ces']['length'];_0x39e054<_0xc9b167;_0x39e054++)this['_model']['meshInstan'+'ces'][_0x39e054]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x298297){const _0x40a4d9=_0x298297 instanceof ie?_0x298297['r']:_0x298297[0x1*0x3a9+0x249b+-0x2844],_0x4503cd=_0x298297 instanceof ie?_0x298297['g']:_0x298297[-0xc0+-0x1ced+0x1dae],_0x36cfc5=_0x298297 instanceof ie?_0x298297['b']:_0x298297[-0xb1f+-0x27d+0x245*0x6],_0x5f2ac7=_0x298297 instanceof ie?_0x298297['a']:_0x298297[0x136e+-0x1a03+0xd3*0x8];if(this['_shadowCol'+'or']===_0x298297&&w['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x40a4d9&&this['_shadowCol'+'or']['g']===_0x4503cd&&this['_shadowCol'+'or']['b']===_0x36cfc5&&this['_shadowCol'+'or']['a']===_0x5f2ac7)&&(this['_shadowCol'+'or']['r']=_0x40a4d9,this['_shadowCol'+'or']['g']=_0x4503cd,this['_shadowCol'+'or']['b']=_0x36cfc5,this['_shadowCol'+'or']['a']=_0x5f2ac7,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x528+-0x1b5*-0x2+-0x892]=We['r'],this['_shadowCol'+'orUniform'][-0xcc7+-0x1a53*-0x1+-0xd8b]=We['g'],this['_shadowCol'+'orUniform'][0x12c8+0x26*-0xc5+0xa78]=We['b'],this['_shadowCol'+'orUniform'][-0x58c+0x911*0x1+-0x382*0x1]=We['a'];for(let _0x3e85c7=0x1a88+0x3b9+0x60d*-0x5,_0xe02ee=this['_model']['meshInstan'+'ces']['length'];_0x3e85c7<_0xe02ee;_0x3e85c7++)this['_model']['meshInstan'+'ces'][_0x3e85c7]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x55ee60){const _0x23430c=_0x55ee60 instanceof J?_0x55ee60['x']:_0x55ee60[-0x1959+0x1*0xac6+0xe93],_0x1a6387=_0x55ee60 instanceof J?_0x55ee60['y']:_0x55ee60[-0x23f8+-0x7*0x15d+0x2d84];if(!(this['_shadowOff'+'set']['x']===_0x23430c&&this['_shadowOff'+'set']['y']===_0x1a6387)&&(this['_shadowOff'+'set']['set'](_0x23430c,_0x1a6387),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0xed3deb=0x175b+-0x1fe9+0x88e,_0x2a2f0c=this['_model']['meshInstan'+'ces']['length'];_0xed3deb<_0x2a2f0c;_0xed3deb++){const _0x2ee946=-this['_font']['data']['info']['maps'][_0xed3deb]['width']/this['_font']['data']['info']['maps'][_0xed3deb]['height'];this['_shadowOff'+'setUniform'][-0x4*0x1af+-0xb89+0x1245]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0x2277+-0xa5+-0x1*-0x231d]=_0x2ee946*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0xed3deb]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x5b76ab){this['_minFontSi'+'ze']!==_0x5b76ab&&(this['_minFontSi'+'ze']=_0x5b76ab,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x54b911){this['_maxFontSi'+'ze']!==_0x54b911&&(this['_maxFontSi'+'ze']=_0x54b911,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x5db0cc){this['_autoFitWi'+'dth']!==_0x5db0cc&&(this['_autoFitWi'+'dth']=_0x5db0cc,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x2fd8de){this['_autoFitHe'+'ight']!==_0x2fd8de&&(this['_autoFitHe'+'ight']=_0x2fd8de,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x4337f6){this['_maxLines']!==_0x4337f6&&(_0x4337f6===null&&this['_maxLines']===-(0x11*0x109+0x896*0x3+-0xb3*0x3e)||(this['_maxLines']=_0x4337f6===null?-(0x25*0x25+-0x8*-0x4+0x38*-0x19):_0x4337f6,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0x1fc89a){if(_0x1fc89a=!!_0x1fc89a,this['_enableMar'+'kup']===_0x1fc89a)return;this['_enableMar'+'kup']=_0x1fc89a,this['font']&&this['_updateTex'+'t']();const _0x23e1a5=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x23e1a5);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x43ebd6){return this['_colorPale'+'tte']['slice'](_0x43ebd6*(-0x28b*-0xf+0x292*0x3+-0x2dd8),_0x43ebd6*(0x463*-0x1+0x1094+-0xc2e)+(0x1*-0x1017+0x7*0x1ca+-0x1ca*-0x2));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x327b94){return this['_outlinePa'+'lette']['slice'](_0x327b94*(-0xbb*-0x25+-0x423*0x9+-0x1*-0xa39),_0x327b94*(0xead+-0x525+-0x983)+(-0xbf1+-0xb5*-0x17+-0x44d));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x462598){return this['_shadowPal'+'ette']['slice'](_0x462598*(-0x242+-0x1a0*0x6+-0x1c*-0x6e),_0x462598*(-0x2*-0x118d+0xbd2*0x3+-0x468a)+(0xa75+0x1*0x133e+0x6b*-0x47));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x44ffe0){_0x44ffe0=Math['max'](0x1b84+0x908+0x1*-0x248c,Math['min'](_0x44ffe0,this['_symbols']['length'])),_0x44ffe0!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x44ffe0,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x4670ff){_0x4670ff=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x4670ff,this['_symbols']['length'])),_0x4670ff!==this['_rangeEnd']&&(this['_rangeEnd']=_0x4670ff,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Ef=new D(),Zg=new te(),Pi=new D(),MR=new D(),ws=new te(),bc=new te(),Ac=new te(),$a=new te();class hs extends we{constructor(_0xc35f35,_0x21a583){super(_0xc35f35,_0x21a583),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(0x10d8+-0x236e+0x1297*0x1),this['_anchor']=new re(),this['_localAnch'+'or']=new re(),this['_pivot']=new J(),this['_width']=this['_calculate'+'dWidth']=0x1*0xb65+-0x204f*-0x1+-0x2b94,this['_height']=this['_calculate'+'dHeight']=-0xd4b*0x1+-0x16e3+-0x6*-0x60d,this['_margin']=new re(0x1a28+0x1aa+-0x1bd2,-0x18d3+0x110b+0xc*0xa6,-(-0xa*0x234+0x1*-0x1f09+-0x59*-0x99),-(0x2660+0x1*0x336+-0x2976)),this['_modelTran'+'sform']=new te(),this['_screenToW'+'orld']=new te(),this['_anchorTra'+'nsform']=new te(),this['_anchorDir'+'ty']=!(-0x23*0xb6+-0x217e+0x3a60),this['_parentWor'+'ldTransfor'+'m']=new te(),this['_screenTra'+'nsform']=new te(),this['_screenCor'+'ners']=[new D(),new D(),new D(),new D()],this['_canvasCor'+'ners']=[new J(),new J(),new J(),new J()],this['_worldCorn'+'ers']=[new D(),new D(),new D(),new D()],this['_cornersDi'+'rty']=!(-0x1f19+0x1add+0x43c),this['_canvasCor'+'nersDirty']=!(-0x36f*-0x5+0x4*-0x4e9+-0xd3*-0x3),this['_worldCorn'+'ersDirty']=!(0x1e8a+-0x192f+-0x1*0x55b),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=eh,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=-0x1455+0x1e63+0x4e*-0x21,this['_fitMode']=th,this['_useInput']=!(0x19b*0x13+-0x228+-0x1c58),this['_layers']=[Il],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0xcc9+0x8ce+-0x1596),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=0x18bf+-0x1*0x1c85+0x3c6,this['_maskOffse'+'t']=-0x29*-0x1c+-0xa34*0x3+0x1a20+0.5,this['_maskedBy']=null);}get['data'](){const _0x544fcd=this['system']['store'][this['entity']['getGuid']()];return _0x544fcd?_0x544fcd['data']:null;}set['enabled'](_0x23533f){const _0x871e7=this['data'],_0x46df74=_0x871e7['enabled'];_0x871e7['enabled']=_0x23533f,this['fire']('set','enabled',_0x46df74,_0x23533f);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>-0x13*-0x5+-0x3*0x27d+0x718+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>0x392+0xd4c+0x7f*-0x22+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x33940c){_0x33940c instanceof re?this['_anchor']['copy'](_0x33940c):this['_anchor']['set'](..._0x33940c),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(-0x25d3+-0x136a+0x393d),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x14b6df){var _0x5266ce,_0x38c452;this['_batchGrou'+'pId']!==_0x14b6df&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x3*0xbc9+-0x505+0x2860&&((_0x5266ce=this['system']['app']['batcher'])==null||_0x5266ce['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x14b6df>=-0x1*-0x6f2+0x1101+-0x1*0x17f3&&((_0x38c452=this['system']['app']['batcher'])==null||_0x38c452['insert'](St['ELEMENT'],_0x14b6df,this['entity'])),_0x14b6df<0xe97*0x1+-0x1e76+0xef*0x11&&this['_batchGrou'+'pId']>=-0x491*0x1+-0x1*-0xd81+-0x478*0x2&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x14b6df);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x2d21f5){this['_margin']['y']=_0x2d21f5;const _0x5d80b2=this['entity']['getLocalPo'+'sition'](),_0x209725=this['_absTop'],_0x54c9f1=this['_localAnch'+'or']['y']+_0x2d21f5;this['_setHeight'](_0x209725-_0x54c9f1),_0x5d80b2['y']=_0x2d21f5+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x5d80b2);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x5203fa){this['_setCalcul'+'atedWidth'](_0x5203fa,!(-0x221a+0x1a*0xad+0x1088));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x3a7006){this['_setCalcul'+'atedHeight'](_0x3a7006,!(-0x1969+0x1f*0xa4+0x58d));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x53b9f8=this['system']['app']['graphicsDe'+'vice'],_0x3e4408=this['screenCorn'+'ers'],_0x2044b0=_0x53b9f8['canvas']['clientWidt'+'h']/_0x53b9f8['width'],_0x929bde=_0x53b9f8['canvas']['clientHeig'+'ht']/_0x53b9f8['height'];for(let _0x5ad6f2=-0x141*-0x1f+-0xa73+0x1c6c*-0x1;_0x5ad6f2<0x5*-0xcd+0x576+-0x7b*0x3;_0x5ad6f2++)this['_canvasCor'+'ners'][_0x5ad6f2]['set'](_0x3e4408[_0x5ad6f2]['x']*_0x2044b0,(_0x53b9f8['height']-_0x3e4408[_0x5ad6f2]['y'])*_0x929bde);return this['_canvasCor'+'nersDirty']=!(0x43*-0x13+0x1669*-0x1+0x1b63),this['_canvasCor'+'ners'];}set['drawOrder'](_0x39648c){let _0x22bb74=-0x21f8+-0x12c6+0x34be;this['screen']&&(_0x22bb74=this['screen']['screen']['priority']),_0x39648c>0xec7a*0x17+0x3a1398+0xb0ad71&&(w['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x39648c=0x15f6ead*0x1+-0x1*0xa4e5c1+0x457713),this['_drawOrder']=(_0x22bb74<<0xcfa+0x2619*0x1+-0x32fb)+_0x39648c,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x132ce5){this['_height']=_0x132ce5,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x132ce5,!(0x7*-0x2b8+-0x2*0xf45+0x3192)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0x2ad9a5){if(this['_addedMode'+'ls']['length'])for(let _0x260f7b=0x29*0x40+-0x1982+-0x15*-0xba;_0x260f7b<this['_layers']['length'];_0x260f7b++){const _0x4fc3a8=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x260f7b]);if(_0x4fc3a8){for(let _0x5ad7b9=-0x230+-0x195b*-0x1+-0x172b;_0x5ad7b9<this['_addedMode'+'ls']['length'];_0x5ad7b9++)_0x4fc3a8['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x5ad7b9]['meshInstan'+'ces']);}}if(this['_layers']=_0x2ad9a5,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x1f7cc8=0x1d3f*-0x1+-0x2*-0x1197+0x31*-0x1f;_0x1f7cc8<this['_layers']['length'];_0x1f7cc8++){const _0x313c1f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x1f7cc8]);if(_0x313c1f){for(let _0x5f4131=0x51d+0x3*0xbff+-0x291a;_0x5f4131<this['_addedMode'+'ls']['length'];_0x5f4131++)_0x313c1f['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x5f4131]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x86db9d){this['_margin']['x']=_0x86db9d;const _0x567bfe=this['entity']['getLocalPo'+'sition'](),_0x5746b2=this['_absRight'],_0x566fd2=this['_localAnch'+'or']['x']+_0x86db9d;this['_setWidth'](_0x5746b2-_0x566fd2),_0x567bfe['x']=_0x86db9d+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x567bfe);}get['left'](){return this['_margin']['x'];}set['margin'](_0x1e345c){this['_margin']['copy'](_0x1e345c),this['_calculate'+'Size'](!(-0x7a7+-0x23d6+0x2b7d),!(-0x9a4*0x2+-0x15da+0xdb6*0x3)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x4fbc53){const {pivot:_0x7ee259,margin:_0x1f1671}=this,_0x1c1bc7=_0x7ee259['x'],_0x4ed984=_0x7ee259['y'];_0x4fbc53 instanceof J?_0x7ee259['copy'](_0x4fbc53):_0x7ee259['set'](..._0x4fbc53);const _0x3650c5=_0x1f1671['x']+_0x1f1671['z'],_0x540b70=_0x7ee259['x']-_0x1c1bc7;_0x1f1671['x']+=_0x3650c5*_0x540b70,_0x1f1671['z']-=_0x3650c5*_0x540b70;const _0x5596ab=_0x1f1671['y']+_0x1f1671['w'],_0x1ffb53=_0x7ee259['y']-_0x4ed984;_0x1f1671['y']+=_0x5596ab*_0x1ffb53,_0x1f1671['w']-=_0x5596ab*_0x1ffb53,this['_anchorDir'+'ty']=!(0x23b*-0x1+-0x3*0x697+0x58*0x40),this['_cornersDi'+'rty']=!(-0x27a+-0x7a*0x2d+0x2*0xbf6),this['_worldCorn'+'ersDirty']=!(-0x1294+-0x1*0x20ff+-0xa3*-0x51),this['_calculate'+'Size'](!(-0xe74+0x259b+-0x1726),!(0x43*-0x60+0x13c*-0x13+-0x1*-0x3095)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x7ee259);}get['pivot'](){return this['_pivot'];}set['right'](_0x54fb29){this['_margin']['z']=_0x54fb29;const _0x584442=this['entity']['getLocalPo'+'sition'](),_0x3e1a23=this['_absLeft'],_0x9f493e=this['_localAnch'+'or']['z']-_0x54fb29;this['_setWidth'](_0x9f493e-_0x3e1a23),_0x584442['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x54fb29-this['_calculate'+'dWidth']*(0x6a1*-0x1+-0x233*0x9+0x1a6d-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x584442);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x51448a=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][-0x1*-0x90a+-0x2*0xe69+-0x34c*-0x6];this['_screenCor'+'ners'][-0x1*0x1415+0x5*0x377+0x161*0x2]['set'](this['_absLeft'],this['_absBottom'],0x1*-0x1cbb+0x8ed+0x13ce),this['_screenCor'+'ners'][0x3a9*0x1+0x298+-0x640]['set'](this['_absRight'],this['_absBottom'],-0x10*0x229+-0x27*0x15+0x25c3),this['_screenCor'+'ners'][0x5c6+0x252b+-0x2aef]['set'](this['_absRight'],this['_absTop'],-0x1d7b+0x1b86+-0x1*-0x1f5),this['_screenCor'+'ners'][-0x190a+0x1cc0+-0x3b3]['set'](this['_absLeft'],this['_absTop'],-0x1743+-0x155f+0x2ca2);const _0x38bed1=this['screen']['screen']['screenSpac'+'e'];for(let _0x288a95=0xb*-0x172+-0x473+0x1459;_0x288a95<-0x180f+-0x19cd+0x31e0;_0x288a95++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x288a95],this['_screenCor'+'ners'][_0x288a95]),_0x38bed1&&this['_screenCor'+'ners'][_0x288a95]['mulScalar'](this['screen']['screen']['scale']),_0x51448a&&this['_screenCor'+'ners'][_0x288a95]['add'](_0x51448a);return this['_cornersDi'+'rty']=!(-0x1866+0x13e7+0x480),this['_canvasCor'+'nersDirty']=!(0x4a*0x85+-0x23e7+-0x28b),this['_worldCorn'+'ersDirty']=!(0x15c6+0x567*-0x1+-0x105f),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:-0x1967+0x3b5*-0x6+0x2fa5;}get['textHeight'](){return this['_text']?this['_text']['height']:-0xa5e*0x3+0xb75+0x13a5;}set['top'](_0x4fccd3){this['_margin']['w']=_0x4fccd3;const _0x18a655=this['entity']['getLocalPo'+'sition'](),_0x19b00d=this['_absBottom'],_0x4427c5=this['_localAnch'+'or']['w']-_0x4fccd3;this['_setHeight'](_0x4427c5-_0x19b00d),_0x18a655['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x4fccd3-this['_calculate'+'dHeight']*(-0xf67*0x1+-0xb*0x2f7+0x13*0x287-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x18a655);}get['top'](){return this['_margin']['w'];}set['type'](_0x3b422d){_0x3b422d!==this['_type']&&(this['_type']=_0x3b422d,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x3b422d===Cu?this['_image']=new cR(this):_0x3b422d===jv&&(this['_text']=new PR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x2365f1){this['_useInput']!==_0x2365f1&&(this['_useInput']=_0x2365f1,this['system']['app']['elementInp'+'ut']?_0x2365f1?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(-0xcae+-0x2673+0x1*0x3321)&&w['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x2365f1));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x44eee1){this['_fitMode']=_0x44eee1,this['_calculate'+'Size'](!(0x9ea+0x1e3f+0x2829*-0x1),!(0x1*-0x250c+0xb2*-0x17+-0x11ae*-0x3)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x22acf4){this['_width']=_0x22acf4,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x22acf4,!(-0x692+0x1d76+-0x5b9*0x4)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x492cdf=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){ws['copy'](this['screen']['screen']['_screenMat'+'rix']),ws['data'][0x17cd+0x44e+-0x1b*0x10a]=-ws['data'][0x11b3+-0x759+-0x3*0x36f],ws['mul2'](this['screen']['getWorldTr'+'ansform'](),ws);for(let _0xf5225f=0xaec+-0x1*-0xf33+-0x9*0x2e7;_0xf5225f<0x792+0x257*0xa+-0x1ef4;_0xf5225f++)ws['transformP'+'oint'](_0x492cdf[_0xf5225f],this['_worldCorn'+'ers'][_0xf5225f]);}}else{const _0x2be8e2=this['entity']['getLocalPo'+'sition']();ws['setTransla'+'te'](-_0x2be8e2['x'],-_0x2be8e2['y'],-_0x2be8e2['z']),bc['setTRS'](D['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x2be8e2['x'],_0x2be8e2['y'],_0x2be8e2['z']);const _0x1a281b=this['entity']['parent']?this['entity']['parent']:this['entity'];$a['copy'](_0x1a281b['getWorldTr'+'ansform']()),$a['mul'](Ac)['mul'](bc)['mul'](ws),Pi['set'](_0x2be8e2['x']-this['pivot']['x']*this['calculated'+'Width'],_0x2be8e2['y']-this['pivot']['y']*this['calculated'+'Height'],_0x2be8e2['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x1523+-0x152d+0x5*0x2]),Pi['set'](_0x2be8e2['x']+(-0x1ae1+-0xb7f+0x5*0x7ad-this['pivot']['x'])*this['calculated'+'Width'],_0x2be8e2['y']-this['pivot']['y']*this['calculated'+'Height'],_0x2be8e2['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x29c+-0xfb8*-0x1+0xd1b*-0x1]),Pi['set'](_0x2be8e2['x']+(-0x48*-0x1+-0xb3e*-0x1+-0xb85-this['pivot']['x'])*this['calculated'+'Width'],_0x2be8e2['y']+(0x13a5+-0x20eb+0x1*0xd47-this['pivot']['y'])*this['calculated'+'Height'],_0x2be8e2['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x141b*-0x1+0x62*0x13+0xcd7]),Pi['set'](_0x2be8e2['x']-this['pivot']['x']*this['calculated'+'Width'],_0x2be8e2['y']+(0x2a5+-0x1*-0x10bd+-0x1361-this['pivot']['y'])*this['calculated'+'Height'],_0x2be8e2['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x1f60*-0x1+-0x21e4+-0x3d7*-0x11]);}return this['_worldCorn'+'ersDirty']=!(-0x1b0a+0x1c0*0xa+-0x98b*-0x1),this['_worldCorn'+'ers'];}set['fontSize'](_0x3e42fb){this['_setValue']('fontSize',_0x3e42fb);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x3da65b){this['_setValue']('minFontSiz'+'e',_0x3da65b);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x494e03){this['_setValue']('maxFontSiz'+'e',_0x494e03);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x5aa24f){this['_setValue']('maxLines',_0x5aa24f);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x45cf63){this['_setValue']('autoFitWid'+'th',_0x45cf63);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x4bda1d){this['_setValue']('autoFitHei'+'ght',_0x4bda1d);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x40fb3c){this['_setValue']('color',_0x40fb3c);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x2c6284){this['_setValue']('font',_0x2c6284);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x5029db){this['_setValue']('fontAsset',_0x5029db);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x4ea955){this['_setValue']('spacing',_0x4ea955);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x434d38){this['_setValue']('lineHeight',_0x434d38);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x15e1aa){this['_setValue']('wrapLines',_0x15e1aa);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x399d7a){this['_setValue']('lines',_0x399d7a);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x1a154f){this['_setValue']('alignment',_0x1a154f);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x1236f4){this['_setValue']('autoWidth',_0x1236f4);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x562528){this['_setValue']('autoHeight',_0x562528);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0xf4b05){this['_setValue']('rtlReorder',_0xf4b05);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x31ad66){this['_setValue']('unicodeCon'+'verter',_0x31ad66);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x4ccb08){this['_setValue']('text',_0x4ccb08);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x3eb3f2){this['_setValue']('key',_0x3eb3f2);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0x27ddeb){this['_setValue']('texture',_0x27ddeb);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x47ec3a){this['_setValue']('textureAss'+'et',_0x47ec3a);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x41b8d6){this['_setValue']('material',_0x41b8d6);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x3d11f3){this['_setValue']('materialAs'+'set',_0x3d11f3);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x4dfb89){this['_setValue']('sprite',_0x4dfb89);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x63a9ec){this['_setValue']('spriteAsse'+'t',_0x63a9ec);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x397e3e){this['_setValue']('spriteFram'+'e',_0x397e3e);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0x34712f){this['_setValue']('pixelsPerU'+'nit',_0x34712f);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x55d2cb){this['_setValue']('opacity',_0x55d2cb);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x2a854a){this['_setValue']('rect',_0x2a854a);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x403343){this['_setValue']('mask',_0x403343);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x2e9659){this['_setValue']('outlineCol'+'or',_0x2e9659);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0x345735){this['_setValue']('outlineThi'+'ckness',_0x345735);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x239e17){this['_setValue']('shadowColo'+'r',_0x239e17);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x1f11d2){this['_setValue']('shadowOffs'+'et',_0x1f11d2);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x1a2408){this['_setValue']('enableMark'+'up',_0x1a2408);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x33260d){this['_setValue']('rangeStart',_0x33260d);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x35449b){this['_setValue']('rangeEnd',_0x35449b);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x498b84,_0x45de44){this['_text']?(this['_text'][_0x498b84]!==_0x45de44&&this['_dirtyBatc'+'h'](),this['_text'][_0x498b84]=_0x45de44):this['_image']&&(this['_image'][_0x498b84]!==_0x45de44&&this['_dirtyBatc'+'h'](),this['_image'][_0x498b84]=_0x45de44);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=lt['prototype']['_sync'],this['entity']['setPositio'+'n']=lt['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=lt['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x2e4030,_0x5c70c0,_0x3703ed){if(!this['element']['screen']){lt['prototype']['setPositio'+'n']['call'](this,_0x2e4030,_0x5c70c0,_0x3703ed);return;}_0x2e4030 instanceof D?Ef['copy'](_0x2e4030):Ef['set'](_0x2e4030,_0x5c70c0,_0x3703ed),this['getWorldTr'+'ansform'](),Zg['copy'](this['element']['_screenToW'+'orld'])['invert'](),Zg['transformP'+'oint'](Ef,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x59b673,_0x4f69b8,_0x4d4776){_0x59b673 instanceof D?this['localPosit'+'ion']['copy'](_0x59b673):this['localPosit'+'ion']['set'](_0x59b673,_0x4f69b8,_0x4d4776);const _0xfa4d26=this['element'],_0x3818a3=this['localPosit'+'ion'],_0x586464=_0xfa4d26['_pivot'];_0xfa4d26['_margin']['x']=_0x3818a3['x']-_0xfa4d26['_calculate'+'dWidth']*_0x586464['x'],_0xfa4d26['_margin']['z']=_0xfa4d26['_localAnch'+'or']['z']-_0xfa4d26['_localAnch'+'or']['x']-_0xfa4d26['_calculate'+'dWidth']-_0xfa4d26['_margin']['x'],_0xfa4d26['_margin']['y']=_0x3818a3['y']-_0xfa4d26['_calculate'+'dHeight']*_0x586464['y'],_0xfa4d26['_margin']['w']=_0xfa4d26['_localAnch'+'or']['w']-_0xfa4d26['_localAnch'+'or']['y']-_0xfa4d26['_calculate'+'dHeight']-_0xfa4d26['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x119d61=this['element'],_0x577271=_0x119d61['screen'];if(_0x577271){if(_0x119d61['_anchorDir'+'ty']){let _0x4ab6e1=0x1806+-0x188c+0x2*0x43,_0x49ec14=-0xee5+-0x1*-0xbc1+0x324,_0x49dc8c=0x13e5+0x5*-0x2b7+-0x2*0x329,_0xe63a60=0x89*-0x23+0xe99+0x423*0x1;if(this['_parent']&&this['_parent']['element'])_0x4ab6e1=this['_parent']['element']['calculated'+'Width'],_0x49ec14=this['_parent']['element']['calculated'+'Height'],_0x49dc8c=this['_parent']['element']['pivot']['x'],_0xe63a60=this['_parent']['element']['pivot']['y'];else{const _0x41ecc7=_0x577271['screen']['resolution'];_0x4ab6e1=_0x41ecc7['x']/_0x577271['screen']['scale'],_0x49ec14=_0x41ecc7['y']/_0x577271['screen']['scale'];}_0x119d61['_anchorTra'+'nsform']['setTransla'+'te'](_0x4ab6e1*(_0x119d61['anchor']['x']-_0x49dc8c),-(_0x49ec14*(_0xe63a60-_0x119d61['anchor']['y'])),-0x1*-0x88d+0x14*-0xfd+0x105*0xb),_0x119d61['_anchorDir'+'ty']=!(0xf5*0x26+0x1eb6+-0x7*0x995),_0x119d61['_calculate'+'LocalAncho'+'rs']();}_0x119d61['_sizeDirty']&&_0x119d61['_calculate'+'Size'](!(-0x1*0x1615+-0x2*-0x889+0x504),!(0x118+-0x733+0x61c));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x22ada0=this['localPosit'+'ion'],_0x31cd18=_0x119d61['_pivot'];_0x119d61['_margin']['x']=_0x22ada0['x']-_0x119d61['_calculate'+'dWidth']*_0x31cd18['x'],_0x119d61['_margin']['z']=_0x119d61['_localAnch'+'or']['z']-_0x119d61['_localAnch'+'or']['x']-_0x119d61['_calculate'+'dWidth']-_0x119d61['_margin']['x'],_0x119d61['_margin']['y']=_0x22ada0['y']-_0x119d61['_calculate'+'dHeight']*_0x31cd18['y'],_0x119d61['_margin']['w']=_0x119d61['_localAnch'+'or']['w']-_0x119d61['_localAnch'+'or']['y']-_0x119d61['_calculate'+'dHeight']-_0x119d61['_margin']['y'],this['_dirtyLoca'+'l']=!(-0x593*-0x3+0x2020+-0x209*0x18);}if(!_0x577271){this['_dirtyWorl'+'d']&&(_0x119d61['_cornersDi'+'rty']=!(-0x1f89+0x41a+0x1b6f),_0x119d61['_canvasCor'+'nersDirty']=!(0x1eef+0x5*-0x1bf+-0xcb*0x1c),_0x119d61['_worldCorn'+'ersDirty']=!(-0x6*0x27+-0x268f+0x2779)),lt['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x119d61['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x119d61['_anchorTra'+'nsform']):_0x119d61['_screenToW'+'orld']['copy'](_0x119d61['_anchorTra'+'nsform']),_0x119d61['_modelTran'+'sform']['mul2'](_0x119d61['_screenToW'+'orld'],this['localTrans'+'form']),_0x577271){_0x119d61['_screenToW'+'orld']['mul2'](_0x577271['screen']['_screenMat'+'rix'],_0x119d61['_screenToW'+'orld']),_0x577271['screen']['screenSpac'+'e']||_0x119d61['_screenToW'+'orld']['mul2'](_0x577271['worldTrans'+'form'],_0x119d61['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x119d61['_screenToW'+'orld'],this['localTrans'+'form']);const _0x42c8a7=_0x119d61['_parentWor'+'ldTransfor'+'m'];_0x42c8a7['setIdentit'+'y']();const _0x5bcf7a=this['_parent'];_0x5bcf7a&&_0x5bcf7a['element']&&_0x5bcf7a!==_0x577271&&(ws['setTRS'](D['ZERO'],_0x5bcf7a['getLocalRo'+'tation'](),_0x5bcf7a['getLocalSc'+'ale']()),_0x42c8a7['mul2'](_0x5bcf7a['element']['_parentWor'+'ldTransfor'+'m'],ws));const _0x528c1a=Pi;_0x528c1a['set'](0x163f+0x96c*-0x1+-0xcd3,0x1b4d+0xf*0x127+-0x2c96,this['localPosit'+'ion']['z']);const _0x2f8848=MR;_0x2f8848['set'](_0x119d61['_absLeft']+_0x119d61['_pivot']['x']*_0x119d61['calculated'+'Width'],_0x119d61['_absBottom']+_0x119d61['_pivot']['y']*_0x119d61['calculated'+'Height'],0x22ff+-0x61*-0x25+-0x1*0x3104),ws['setTransla'+'te'](-_0x2f8848['x'],-_0x2f8848['y'],-_0x2f8848['z']),bc['setTRS'](_0x528c1a,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x2f8848['x'],_0x2f8848['y'],_0x2f8848['z']),_0x119d61['_screenTra'+'nsform']['mul2'](_0x119d61['_parentWor'+'ldTransfor'+'m'],Ac)['mul'](bc)['mul'](ws),_0x119d61['_cornersDi'+'rty']=!(-0x18da+0x3b*0x1d+0x1*0x122b),_0x119d61['_canvasCor'+'nersDirty']=!(0x16c6+0xa6b+-0x2131),_0x119d61['_worldCorn'+'ersDirty']=!(0x1d3d+0x17ad+-0x34ea);}else this['worldTrans'+'form']['copy'](_0x119d61['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(-0x2506+0x2*-0x1055+0x45b1);}}['_onInsert'](_0x358421){const _0x9628da=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x9628da['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x171311=this['entity'];for(;_0x171311;){const _0x24e29e=_0x171311['parent'];if((_0x24e29e===null||_0x24e29e['screen'])&&_0x171311['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),w['trace'](Vs,'register\x20p'+'rerender'));const _0x30daab=this['system']['_prerender']['indexOf'](this['entity']);_0x30daab>=0xd*0x196+0x826+-0x1cc4&&this['system']['_prerender']['splice'](_0x30daab,0x7*-0x1d+0xe*0xd5+-0x6*0x1cf),this['system']['_prerender']['indexOf'](_0x171311)<-0x8eb+0x16a2+0x1*-0xdb7&&this['system']['_prerender']['push'](_0x171311),w['trace'](Vs,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x171311['name']);}_0x171311=_0x24e29e;}}['_onPrerend'+'er'](){for(let _0x19c930=0xd4c+-0xb6f+0x9f*-0x3;_0x19c930<this['system']['_prerender']['length'];_0x19c930++){const _0x25f540=this['system']['_prerender'][_0x19c930];w['trace'](Vs,'prerender\x20'+'from:\x20'+_0x25f540['name']),_0x25f540['element']&&_0x25f540['element']['syncMask'](-0x39*0x71+-0x17e+0x4*0x6aa);}this['system']['_prerender']['length']=-0x1c75+-0x1*-0x1399+0x8dc;}['_bindScree'+'n'](_0x3f5291){_0x3f5291['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0x11a76c){_0x11a76c['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x53be9e){this['screen']&&this['screen']!==_0x53be9e&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x3e47ab=this['screen'];this['screen']=_0x53be9e,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x3e47ab),this['_anchorDir'+'ty']=!(-0x1c2*-0xa+-0x2216+0x841*0x2);const _0x4e0e2b=this['entity']['children'];for(let _0x3d7247=-0xa*-0x3d7+-0x458+-0x220e,_0x4d37ad=_0x4e0e2b['length'];_0x3d7247<_0x4d37ad;_0x3d7247++)_0x4e0e2b[_0x3d7247]['element']&&_0x4e0e2b[_0x3d7247]['element']['_updateScr'+'een'](_0x53be9e);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x1c1be3){const _0x1fb156=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x1fb156['mask'],_0x1c1be3);}['_setMasked'+'By'](_0x3ae75c){const _0x59ac3d=this['_image']||this['_text'];if(_0x3ae75c){const _0x24323e=_0x3ae75c['element']['_image']['_maskRef'];w['trace'](Vs,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x24323e),_0x59ac3d==null||_0x59ac3d['_setStenci'+'l'](new pi({'ref':_0x24323e,'func':dh})),this['_maskedBy']=_0x3ae75c;}else w['trace'](Vs,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x59ac3d==null||_0x59ac3d['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x12bb32,_0x6052a5){var _0xd04cdb,_0x37f96f;if(_0x12bb32){if(this['_setMasked'+'By'](_0x12bb32),this['mask']){const _0x37dbd9=_0x12bb32['element']['_image']['_maskRef'],_0x478715=new pi({'ref':_0x37dbd9,'func':dh,'zpass':Ux});this['_image']['_setStenci'+'l'](_0x478715),this['_image']['_maskRef']=_0x6052a5,_0x6052a5++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x478715['ref']+(-0x143*-0x2+-0x8f*0x6+0x3*0x47))),w['trace'](Vs,'depth++\x20to'+':\x20',_0x6052a5),_0x12bb32=this['entity'];}const _0x3c7e25=this['entity']['children'];for(let _0x982d14=0x2*-0x116a+0x2d6*-0x2+0x2880,_0xb973ad=_0x3c7e25['length'];_0x982d14<_0xb973ad;_0x982d14++)(_0xd04cdb=_0x3c7e25[_0x982d14]['element'])==null||_0xd04cdb['_updateMas'+'k'](_0x12bb32,_0x6052a5);this['mask']&&_0x6052a5--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x476b72=new pi({'ref':_0x6052a5,'func':Wi,'zpass':kx});this['_image']['_setStenci'+'l'](_0x476b72),this['_image']['_maskRef']=_0x6052a5,_0x6052a5++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x476b72['ref']),w['trace'](Vs,'depth++\x20to'+':\x20',_0x6052a5),_0x12bb32=this['entity'];}const _0x3d6eb9=this['entity']['children'];for(let _0x11dc4d=0x1dde+-0x15e2*-0x1+-0x33c0,_0x549cb7=_0x3d6eb9['length'];_0x11dc4d<_0x549cb7;_0x11dc4d++)(_0x37f96f=_0x3d6eb9[_0x11dc4d]['element'])==null||_0x37f96f['_updateMas'+'k'](_0x12bb32,_0x6052a5);this['mask']&&_0x6052a5--;}}['_parseUpTo'+'Screen'](){const _0x1b6e86={'screen':null,'mask':null};let _0x1e5f41=this['entity']['_parent'];for(;_0x1e5f41&&!_0x1e5f41['screen'];)_0x1e5f41['element']&&_0x1e5f41['element']['mask']&&(_0x1b6e86['mask']||(_0x1b6e86['mask']=_0x1e5f41)),_0x1e5f41=_0x1e5f41['parent'];return _0x1e5f41&&_0x1e5f41['screen']&&(_0x1b6e86['screen']=_0x1e5f41),_0x1b6e86;}['_onScreenR'+'esize'](_0x583fe){this['_anchorDir'+'ty']=!(0x2095+0x1a4e+-0x3ae3),this['_cornersDi'+'rty']=!(-0x1d83+0x11*0x25+-0x2*-0xd87),this['_worldCorn'+'ersDirty']=!(-0x2c*-0x94+0x914*0x2+0x22e*-0x14),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x583fe);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0xcf5369=-0x165+-0x3d*-0x1+0x24*0x24,_0x3b29e1=0x50f+0x3c5+-0x4ec;const _0x150ae2=this['entity']['_parent'];if(_0x150ae2&&_0x150ae2['element'])_0xcf5369=_0x150ae2['element']['calculated'+'Width'],_0x3b29e1=_0x150ae2['element']['calculated'+'Height'];else{if(this['screen']){const _0x155f90=this['screen']['screen']['resolution'],_0x2145bb=this['screen']['screen']['scale'];_0xcf5369=_0x155f90['x']/_0x2145bb,_0x3b29e1=_0x155f90['y']/_0x2145bb;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0xcf5369,this['_anchor']['y']*_0x3b29e1,this['_anchor']['z']*_0xcf5369,this['_anchor']['w']*_0x3b29e1);}['getOffsetP'+'osition'](_0x42779c,_0x999d30){const _0x2f42fc=this['entity']['getLocalPo'+'sition']()['clone']();return _0x2f42fc['x']+=_0x42779c,_0x2f42fc['y']+=_0x999d30,this['_screenToW'+'orld']['transformP'+'oint'](_0x2f42fc,_0x2f42fc),_0x2f42fc;}['onLayersCh'+'anged'](_0x156e85,_0x1fc6f1){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x156e85['off']('add',this['onLayerAdd'+'ed'],this),_0x156e85['off']('remove',this['onLayerRem'+'oved'],this),_0x1fc6f1['on']('add',this['onLayerAdd'+'ed'],this),_0x1fc6f1['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x38453a){this['layers']['indexOf'](_0x38453a['id'])<0x38a+-0x3f*0x57+-0xb7*-0x19||(this['_image']?_0x38453a['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x38453a['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x49a741){this['layers']['indexOf'](_0x49a741['id'])<0x4ab*-0x8+-0xde7*0x2+-0x2*-0x2093||(this['_image']?_0x49a741['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x49a741['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0x452649;const _0x2d39a2=this['system']['app']['scene'],_0x37d796=_0x2d39a2['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x2d39a2['on']('set:layers',this['onLayersCh'+'anged'],this),_0x37d796&&(this['_evtLayerA'+'dded']=_0x37d796['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x37d796['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=0x187f*0x1+0xb*-0x2bd+0x24*0x28&&((_0x452649=this['system']['app']['batcher'])==null||_0x452649['insert'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x1c153a,_0x18b090,_0x4e052b,_0x348473;const _0x20bdc6=this['system']['app']['scene']['layers'];(_0x1c153a=this['_evtLayers'+'Changed'])==null||_0x1c153a['off'](),this['_evtLayers'+'Changed']=null,_0x20bdc6&&((_0x18b090=this['_evtLayerA'+'dded'])==null||_0x18b090['off'](),this['_evtLayerA'+'dded']=null,(_0x4e052b=this['_evtLayerR'+'emoved'])==null||_0x4e052b['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=-0x2220+-0x12ad*-0x1+0xf73&&((_0x348473=this['system']['app']['batcher'])==null||_0x348473['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x10ad27,_0x133b2f){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x1916ee=this['_absRight']-this['_absLeft'],_0x23badc=this['_absTop']-this['_absBottom'];_0x10ad27?this['_setWidth'](_0x1916ee):this['_setCalcul'+'atedWidth'](_0x1916ee,!(-0x23e3+0x44+0x23a0)),_0x133b2f?this['_setHeight'](_0x23badc):this['_setCalcul'+'atedHeight'](_0x23badc,!(-0xc8b+0x1063*0x1+-0x3d7));const _0x466ca2=this['entity']['getLocalPo'+'sition']();_0x466ca2['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0x466ca2['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x466ca2),this['_sizeDirty']=!(0xd51*0x1+0x58b*0x7+-0x341d);}['_setWidth'](_0xf1be56){this['_width']=_0xf1be56,this['_setCalcul'+'atedWidth'](_0xf1be56,!(0x3*-0x9f6+0x259d+-0x7ba)),this['fire']('set:width',this['_width']);}['_setHeight'](_0xc0ccd7){this['_height']=_0xc0ccd7,this['_setCalcul'+'atedHeight'](_0xc0ccd7,!(0x11d4*0x1+0x1755+-0x2928)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x486a7b,_0x454acc){if(!(Math['abs'](_0x486a7b-this['_calculate'+'dWidth'])<=-0xe9*0xd+-0x3*-0xa+0xbb7+0.0001)){if(this['_calculate'+'dWidth']=_0x486a7b,this['entity']['_dirtifyLo'+'cal'](),_0x454acc){const _0x41506b=this['entity']['getLocalPo'+'sition'](),_0x5e4b26=this['_pivot'];this['_margin']['x']=_0x41506b['x']-this['_calculate'+'dWidth']*_0x5e4b26['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x5c0d93,_0x3c513c){if(!(Math['abs'](_0x5c0d93-this['_calculate'+'dHeight'])<=-0x44a*0x1+-0x9f4+0xe3e+0.0001)){if(this['_calculate'+'dHeight']=_0x5c0d93,this['entity']['_dirtifyLo'+'cal'](),_0x3c513c){const _0x5f049d=this['entity']['getLocalPo'+'sition'](),_0x30d4df=this['_pivot'];this['_margin']['y']=_0x5f049d['y']-this['_calculate'+'dHeight']*_0x30d4df['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x838afa=this['entity']['_children'];for(let _0x5d3f1e=0x1*-0x6b+0x24a*0xa+-0x1679,_0x1572b=_0x838afa['length'];_0x5d3f1e<_0x1572b;_0x5d3f1e++)_0x838afa[_0x5d3f1e]['element']&&(_0x838afa[_0x5d3f1e]['element']['_anchorDir'+'ty']=!(0x3*-0x715+-0x1319+-0x50b*-0x8),_0x838afa[_0x5d3f1e]['element']['_sizeDirty']=!(0xaeb+0x1*0x2505+-0x2ff0));}['addModelTo'+'Layers'](_0x45f386){this['_addedMode'+'ls']['push'](_0x45f386);for(let _0x1a7bea=0x1e5e+0x5e+-0x1ebc;_0x1a7bea<this['layers']['length'];_0x1a7bea++){const _0x31d902=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x1a7bea]);_0x31d902&&_0x31d902['addMeshIns'+'tances'](_0x45f386['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x4a27f6){const _0x5a9c7f=this['_addedMode'+'ls']['indexOf'](_0x4a27f6);_0x5a9c7f>=-0xb4d+0x1*-0x9d3+0x1520&&this['_addedMode'+'ls']['splice'](_0x5a9c7f,0x159e+0x3ea+-0x1987);for(let _0x265c36=-0x2ba*-0x8+0x1c99+-0x59*0x91;_0x265c36<this['layers']['length'];_0x265c36++){const _0x27bfa4=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x265c36]);_0x27bfa4&&_0x27bfa4['removeMesh'+'Instances'](_0x4a27f6['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x5c8479=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x5c8479&&(this['_maskOffse'+'t']=-0x1*0x1549+-0x1817+0x2d60*0x1+0.5,this['_offsetRea'+'dAt']=_0x5c8479);const _0x412466=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=-0x24af+-0x43*0x8d+0x4996+0.001,_0x412466;}['isVisibleF'+'orCamera'](_0x568730){let _0x44595a,_0xa975d9,_0x4a28cf,_0x184057;if(this['maskedBy']){const _0x1f3ed2=this['maskedBy']['element']['screenCorn'+'ers'];_0x44595a=Math['min'](Math['min'](_0x1f3ed2[-0x1*0x803+0x53*0x33+-0x886]['x'],_0x1f3ed2[-0x1e7c+0x199d*-0x1+0x381a]['x']),Math['min'](_0x1f3ed2[-0x19*-0x138+-0xc6*-0x2d+-0x4144]['x'],_0x1f3ed2[-0x212d+0x1*-0xa1a+-0x6*-0x737]['x'])),_0xa975d9=Math['max'](Math['max'](_0x1f3ed2[-0x2ae*-0x5+-0xc*0x142+0xd9*0x2]['x'],_0x1f3ed2[-0x10aa+0x3*0x283+0x922]['x']),Math['max'](_0x1f3ed2[-0x2e+-0x17e9*-0x1+-0x17b9*0x1]['x'],_0x1f3ed2[0x5bc+0x1*0x1fab+-0x2564]['x'])),_0x184057=Math['min'](Math['min'](_0x1f3ed2[0xffb+0x144e+0x2449*-0x1]['y'],_0x1f3ed2[0x1a5e+0xba2+-0x25ff]['y']),Math['min'](_0x1f3ed2[0x24b*0x3+0x59f*0x1+0xc7e*-0x1]['y'],_0x1f3ed2[-0x1a8*0x2+0x4ee*0x5+-0x1553]['y'])),_0x4a28cf=Math['max'](Math['max'](_0x1f3ed2[-0x1*-0x43+-0xc5d+0xc1a]['y'],_0x1f3ed2[0x24fd+-0x2b1*-0xd+-0x14f*0x37]['y']),Math['max'](_0x1f3ed2[-0x47*0x29+-0xef*-0x5+-0x35b*-0x2]['y'],_0x1f3ed2[0x98e+0x8f2*-0x2+0x859]['y']));}else{const _0xa0fd75=this['system']['app']['graphicsDe'+'vice']['width'],_0x35c6de=this['system']['app']['graphicsDe'+'vice']['height'],_0x33991c=_0x568730['_rect']['z']*_0xa0fd75,_0x3d9095=_0x568730['_rect']['w']*_0x35c6de;_0x44595a=_0x568730['_rect']['x']*_0xa0fd75,_0xa975d9=_0x44595a+_0x33991c,_0x4a28cf=(0x13*0x69+-0x1*-0x3b3+-0xb7d-_0x568730['_rect']['y'])*_0x35c6de,_0x184057=_0x4a28cf-_0x3d9095;}const _0x2e0622=this['screenCorn'+'ers'],_0x3dee19=Math['min'](Math['min'](_0x2e0622[-0xb57+0x1819+-0xcc2]['x'],_0x2e0622[0xb41*-0x3+0x2519+-0x1*0x355]['x']),Math['min'](_0x2e0622[0xe*0x31+-0xfaa+-0x2*-0x67f]['x'],_0x2e0622[-0xa5d+-0x1f07+-0x2967*-0x1]['x'])),_0x59b31f=Math['max'](Math['max'](_0x2e0622[-0x16cd+0x3*0x479+0x962]['x'],_0x2e0622[-0x1343*0x1+-0x40e+-0x4aa*-0x5]['x']),Math['max'](_0x2e0622[-0xe7f+0x25cd*0x1+-0x47*0x54]['x'],_0x2e0622[0x10f4+-0x1*0x236+-0x1a3*0x9]['x'])),_0x5143c6=Math['min'](Math['min'](_0x2e0622[-0x1*0x2356+0x2ab+0x20ab]['y'],_0x2e0622[0x3*-0x1e7+0x1b21+-0x156b]['y']),Math['min'](_0x2e0622[-0x5bc+-0xeee+0x14ac]['y'],_0x2e0622[-0x285+0x2*-0x1343+0x290e]['y'])),_0x1e01cf=Math['max'](Math['max'](_0x2e0622[-0x230c+-0x1591*-0x1+0xd7b]['y'],_0x2e0622[-0x3b*0x41+-0x1*0x1c6b+0x2b67]['y']),Math['max'](_0x2e0622[-0x5cc+-0x10*-0x1+0x5be]['y'],_0x2e0622[0x14b+0xaf4*-0x1+0x4*0x26b]['y']));return!(_0x59b31f<_0x44595a||_0x3dee19>_0xa975d9||_0x5143c6>_0x4a28cf||_0x1e01cf<_0x184057);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(0x1*0x10a5+-0x1*-0xe0f+-0x1eb3);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0x5d*0x4+0x79*0x2d+-0x1*0x13d0);}['_dirtyBatc'+'h'](){var _0x12654d;this['batchGroup'+'Id']!==-(-0x6*-0x134+0x77*-0x30+0xf19)&&((_0x12654d=this['system']['app']['batcher'])==null||_0x12654d['markGroupD'+'irty'](this['batchGroup'+'Id']));}}h(hs,'EVENT_MOUS'+'EDOWN','mousedown'),h(hs,'EVENT_MOUS'+'EUP','mouseup'),h(hs,'EVENT_MOUS'+'EENTER','mouseenter'),h(hs,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(hs,'EVENT_MOUS'+'EMOVE','mousemove'),h(hs,'EVENT_MOUS'+'EWHEEL','mousewheel'),h(hs,'EVENT_CLIC'+'K','click'),h(hs,'EVENT_TOUC'+'HSTART','touchstart'),h(hs,'EVENT_TOUC'+'HEND','touchend'),h(hs,'EVENT_TOUC'+'HMOVE','touchmove'),h(hs,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');class DR{constructor(){this['enabled']=!(0x1*0x23ed+-0x1a43+-0x4d5*0x2);}}const IR=['enabled'];class LR extends ct{constructor(_0x1023cb){super(_0x1023cb),this['id']='element',this['ComponentT'+'ype']=hs,this['DataType']=DR,this['schema']=IR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new _e(_0x1023cb['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'element-sy'+'stem'});const _0x869401=this['_defaultTe'+'xture']['lock'](),_0x3f5325=new Uint8Array(-0x10b*0x17+0x220*0xc+0x1*-0x17f);_0x3f5325[0x215c+0x9*0x279+-0x17*0x26b]=-0x1*0x1b3b+-0x2*-0xe95+-0x3*0x50,_0x3f5325[-0x20b5+0xa34+-0x2b*-0x86]=0x238b+0x1bed+0x3e79*-0x1,_0x3f5325[-0x250d+-0xd2a+0x3239]=-0xeec+0x174+0x211*0x7,_0x3f5325[0x4ee+0x2217+0x2702*-0x1]=0x1eb+0x1*0x21e6+0x2*-0x1169,_0x869401['set'](_0x3f5325),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x437bb2,_0x5b20bc,_0x34aeb2){_0x437bb2['_beingInit'+'ialized']=!(0x1fd*0xd+0x24f8+-0x4d5*0xd),_0x5b20bc['anchor']!==void(0x2414+0x56d*0x4+0x1*-0x39c8)&&(_0x5b20bc['anchor']instanceof re?_0x437bb2['anchor']['copy'](_0x5b20bc['anchor']):_0x437bb2['anchor']['set'](_0x5b20bc['anchor'][-0x1ff6+0x1a72+-0x4*-0x161],_0x5b20bc['anchor'][0x1*-0x1c1+0x4c*-0x5c+-0x7a*-0x3d],_0x5b20bc['anchor'][0x1*-0x7c3+-0x959*-0x3+-0x1446],_0x5b20bc['anchor'][0x17f5+0x66e+-0x60*0x51])),_0x5b20bc['pivot']!==void(-0x2*0x18f+0x53*-0x17+-0xa93*-0x1)&&(_0x5b20bc['pivot']instanceof J?_0x437bb2['pivot']['copy'](_0x5b20bc['pivot']):_0x437bb2['pivot']['set'](_0x5b20bc['pivot'][-0x867+-0x17d9+0x4*0x810],_0x5b20bc['pivot'][-0x2304+-0x4*0x2d9+-0x2e69*-0x1]));const _0x3350ce=Math['abs'](_0x437bb2['anchor']['x']-_0x437bb2['anchor']['z'])>0x893+0x6d3+0x7b3*-0x2+0.001,_0x1cfbe8=Math['abs'](_0x437bb2['anchor']['y']-_0x437bb2['anchor']['w'])>0x4e1+-0x1*-0x79c+-0x8b*0x17+0.001;let _0x5b452b=!(-0x2cc*-0xc+-0x1ff2+-0x19d),_0xdf5f34;_0x5b20bc['margin']!==void(0x12ba+-0xafd+-0x7bd)&&(_0x5b20bc['margin']instanceof re?_0x437bb2['margin']['copy'](_0x5b20bc['margin']):_0x437bb2['_margin']['set'](_0x5b20bc['margin'][-0x6e5*-0x4+-0x20ab+0x517*0x1],_0x5b20bc['margin'][0x1bed+0x27*0xfb+-0x4229],_0x5b20bc['margin'][-0x1*0x10fd+0x8ad*-0x1+0x19ac],_0x5b20bc['margin'][0x23cf+0x25cb+-0x4997]),_0x5b452b=!(-0x23ca+0x2f9*0xb+0x317*0x1)),_0x5b20bc['left']!==void(-0x3*-0xbe1+-0x16*-0x107+-0x3a3d)&&(_0x437bb2['_margin']['x']=_0x5b20bc['left'],_0x5b452b=!(0x1eca*0x1+0x55b+-0x2425)),_0x5b20bc['bottom']!==void(0xc36+-0x1*-0x25eb+-0x3221)&&(_0x437bb2['_margin']['y']=_0x5b20bc['bottom'],_0x5b452b=!(0x24cd+0x1c55+0x6*-0xadb)),_0x5b20bc['right']!==void(-0x171*-0x19+0x24bf*0x1+-0x48c8)&&(_0x437bb2['_margin']['z']=_0x5b20bc['right'],_0x5b452b=!(0x1d93+-0x1*0x2432+-0x3*-0x235)),_0x5b20bc['top']!==void(-0x2265+0x1d39+-0x1*-0x52c)&&(_0x437bb2['_margin']['w']=_0x5b20bc['top'],_0x5b452b=!(0x6ec+-0x1*0x2ca+-0x422)),_0x5b452b&&(_0x437bb2['margin']=_0x437bb2['_margin']);let _0xd07ca0=!(0x2183*-0x1+0x1*0x1eef+-0x295*-0x1);_0x5b20bc['width']!==void(-0x23a2+-0x95c*-0x3+0x2*0x3c7)&&!_0x3350ce?_0x437bb2['width']=_0x5b20bc['width']:_0x3350ce&&(_0xd07ca0=!(-0x3b3+0xfb*0x1+0x2b8)),_0x5b20bc['height']!==void(-0x239e+0x1*0x471+0x1f2d)&&!_0x1cfbe8?_0x437bb2['height']=_0x5b20bc['height']:_0x1cfbe8&&(_0xd07ca0=!(-0x12e1+0x42e+0xeb3)),_0xd07ca0&&(_0x437bb2['anchor']=_0x437bb2['anchor']),_0x5b20bc['enabled']!==void(-0x2a6+-0x1432+0x16d8)&&(_0x437bb2['enabled']=_0x5b20bc['enabled']),_0x5b20bc['useInput']!==void(-0x1984*0x1+0x2f4*0x9+-0x4*0x44)&&(_0x437bb2['useInput']=_0x5b20bc['useInput']),_0x5b20bc['fitMode']!==void(-0x113e*0x1+0x1867+-0x2f*0x27)&&(_0x437bb2['fitMode']=_0x5b20bc['fitMode']),_0x437bb2['batchGroup'+'Id']=_0x5b20bc['batchGroup'+'Id']===void(-0xb3*0x32+-0x5cc+0x28c2)||_0x5b20bc['batchGroup'+'Id']===null?-(0x13ee+0x625+0x47*-0x5e):_0x5b20bc['batchGroup'+'Id'],_0x5b20bc['layers']&&Array['isArray'](_0x5b20bc['layers'])&&(_0x437bb2['layers']=_0x5b20bc['layers']['slice'](0x874+0x1264+-0x1ad8)),_0x5b20bc['type']!==void(0x56*-0x54+-0xa15+0x264d)&&(_0x437bb2['type']=_0x5b20bc['type']),_0x437bb2['type']===Cu?(_0x5b20bc['rect']!==void(-0x1*0x10d4+-0x31*-0x5b+0x97*-0x1)&&(_0x437bb2['rect']=_0x5b20bc['rect']),_0x5b20bc['color']!==void(0x16e0+0x34f*0xb+0x3b45*-0x1)&&(_0xdf5f34=_0x5b20bc['color'],_0xdf5f34 instanceof ie||(_0xdf5f34=new ie(_0x5b20bc['color'][0x18db+-0x2f3*-0x1+-0x1*0x1bce],_0x5b20bc['color'][0x1*-0xaa5+0x1f63*0x1+0x1*-0x14bd],_0x5b20bc['color'][-0x125*-0x19+-0x1*0xdcb+-0x4f0*0x3])),_0x437bb2['color']=_0xdf5f34),_0x5b20bc['opacity']!==void(-0x60b*0x4+-0x1*0x15c5+0x2df1)&&(_0x437bb2['opacity']=_0x5b20bc['opacity']),_0x5b20bc['textureAss'+'et']!==void(0xf89+-0x47*-0x2+-0x1017)&&(_0x437bb2['textureAss'+'et']=_0x5b20bc['textureAss'+'et']),_0x5b20bc['texture']&&(_0x437bb2['texture']=_0x5b20bc['texture']),_0x5b20bc['spriteAsse'+'t']!==void(-0xbc6*0x2+-0x2192+0x391e)&&(_0x437bb2['spriteAsse'+'t']=_0x5b20bc['spriteAsse'+'t']),_0x5b20bc['sprite']&&(_0x437bb2['sprite']=_0x5b20bc['sprite']),_0x5b20bc['spriteFram'+'e']!==void(0x1*-0x4db+-0x232c+0x2807)&&(_0x437bb2['spriteFram'+'e']=_0x5b20bc['spriteFram'+'e']),_0x5b20bc['pixelsPerU'+'nit']!==void(0x1f0b+0x1f82+0x43*-0xef)&&_0x5b20bc['pixelsPerU'+'nit']!==null&&(_0x437bb2['pixelsPerU'+'nit']=_0x5b20bc['pixelsPerU'+'nit']),_0x5b20bc['materialAs'+'set']!==void(-0xc2*-0x32+0x1*-0x566+-0x207e)&&(_0x437bb2['materialAs'+'set']=_0x5b20bc['materialAs'+'set']),_0x5b20bc['material']&&(_0x437bb2['material']=_0x5b20bc['material']),_0x5b20bc['mask']!==void(-0x1*-0x1023+0xd*0x1b+-0x2*0x8c1)&&(_0x437bb2['mask']=_0x5b20bc['mask'])):_0x437bb2['type']===jv&&(_0x5b20bc['autoWidth']!==void(0x24a4+-0xded+-0x16b7)&&(_0x437bb2['autoWidth']=_0x5b20bc['autoWidth']),_0x5b20bc['autoHeight']!==void(0x2685+-0xe12+0x1873*-0x1)&&(_0x437bb2['autoHeight']=_0x5b20bc['autoHeight']),_0x5b20bc['rtlReorder']!==void(0x1*-0x1945+0x61*0x3+0x1822)&&(_0x437bb2['rtlReorder']=_0x5b20bc['rtlReorder']),_0x5b20bc['unicodeCon'+'verter']!==void(0x878+0x23*0xe2+0x275e*-0x1)&&(_0x437bb2['unicodeCon'+'verter']=_0x5b20bc['unicodeCon'+'verter']),_0x5b20bc['text']!==null&&_0x5b20bc['text']!==void(-0xf+-0x14c6+-0x14d5*-0x1)?_0x437bb2['text']=_0x5b20bc['text']:_0x5b20bc['key']!==null&&_0x5b20bc['key']!==void(-0x141+-0x18f0+-0x53d*-0x5)&&(_0x437bb2['key']=_0x5b20bc['key']),_0x5b20bc['color']!==void(0xb0f*0x3+0x5a*0x9+-0x2457)&&(_0xdf5f34=_0x5b20bc['color'],_0xdf5f34 instanceof ie||(_0xdf5f34=new ie(_0xdf5f34[0x1*0x1e39+-0x5*-0x4a9+0x22*-0x193],_0xdf5f34[-0x1*-0x2+0xa1*-0x2f+-0x1*-0x1d8e],_0xdf5f34[0x9f2+0x5d3*-0x1+-0x27*0x1b])),_0x437bb2['color']=_0xdf5f34),_0x5b20bc['opacity']!==void(0x6af+-0x280+-0x7*0x99)&&(_0x437bb2['opacity']=_0x5b20bc['opacity']),_0x5b20bc['spacing']!==void(0x1*-0xb01+0x1*0x208f+-0x1*0x158e)&&(_0x437bb2['spacing']=_0x5b20bc['spacing']),_0x5b20bc['fontSize']!==void(-0x1a90+0x1d60+-0x2d0)&&(_0x437bb2['fontSize']=_0x5b20bc['fontSize'],_0x5b20bc['lineHeight']||(_0x437bb2['lineHeight']=_0x5b20bc['fontSize'])),_0x5b20bc['lineHeight']!==void(-0x114*0x3+0x2b7*-0x1+-0x1*-0x5f3)&&(_0x437bb2['lineHeight']=_0x5b20bc['lineHeight']),_0x5b20bc['maxLines']!==void(-0x21b5+-0xe3*0xb+-0x2*-0x15bb)&&(_0x437bb2['maxLines']=_0x5b20bc['maxLines']),_0x5b20bc['wrapLines']!==void(0x78d*-0x1+-0x133e*0x1+-0x1*-0x1acb)&&(_0x437bb2['wrapLines']=_0x5b20bc['wrapLines']),_0x5b20bc['minFontSiz'+'e']!==void(-0x44d*0x6+0x8*0x6e+0x165e)&&(_0x437bb2['minFontSiz'+'e']=_0x5b20bc['minFontSiz'+'e']),_0x5b20bc['maxFontSiz'+'e']!==void(-0x3*0x1cd+-0x137a+0x18e1)&&(_0x437bb2['maxFontSiz'+'e']=_0x5b20bc['maxFontSiz'+'e']),_0x5b20bc['autoFitWid'+'th']&&(_0x437bb2['autoFitWid'+'th']=_0x5b20bc['autoFitWid'+'th']),_0x5b20bc['autoFitHei'+'ght']&&(_0x437bb2['autoFitHei'+'ght']=_0x5b20bc['autoFitHei'+'ght']),_0x5b20bc['fontAsset']!==void(-0x3*0x4cc+0x5e0+0x1*0x884)&&(_0x437bb2['fontAsset']=_0x5b20bc['fontAsset']),_0x5b20bc['font']!==void(-0x8ad+0x292*0x8+-0xbe3)&&(_0x437bb2['font']=_0x5b20bc['font']),_0x5b20bc['alignment']!==void(-0x106d+0x3*0x2db+0x7dc)&&(_0x437bb2['alignment']=_0x5b20bc['alignment']),_0x5b20bc['outlineCol'+'or']!==void(-0x24b5+-0x11a2*0x1+0x3657)&&(_0x437bb2['outlineCol'+'or']=_0x5b20bc['outlineCol'+'or']),_0x5b20bc['outlineThi'+'ckness']!==void(-0x171a+-0x1*-0x289+0x1491)&&(_0x437bb2['outlineThi'+'ckness']=_0x5b20bc['outlineThi'+'ckness']),_0x5b20bc['shadowColo'+'r']!==void(-0x22da+-0x12*-0x4c+0x2*0xec1)&&(_0x437bb2['shadowColo'+'r']=_0x5b20bc['shadowColo'+'r']),_0x5b20bc['shadowOffs'+'et']!==void(0x1cea+0x31d*0x1+-0xaad*0x3)&&(_0x437bb2['shadowOffs'+'et']=_0x5b20bc['shadowOffs'+'et']),_0x5b20bc['enableMark'+'up']!==void(-0x59*0x70+0x1*0x63a+-0x4f*-0x6a)&&(_0x437bb2['enableMark'+'up']=_0x5b20bc['enableMark'+'up']));const _0x532409=_0x437bb2['_parseUpTo'+'Screen']();_0x532409['screen']&&_0x437bb2['_updateScr'+'een'](_0x532409['screen']),super['initialize'+'ComponentD'+'ata'](_0x437bb2,_0x5b20bc,_0x34aeb2),_0x437bb2['_beingInit'+'ialized']=!(0x26a4+-0x1*0x38c+0x2b3*-0xd),_0x437bb2['type']===Cu&&_0x437bb2['_image']['_meshDirty']&&_0x437bb2['_image']['_updateMes'+'h'](_0x437bb2['_image']['mesh']);}['onAddCompo'+'nent'](_0x42db1a,_0x4771d7){_0x42db1a['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x2d5eaf,_0x5e8183){_0x5e8183['onRemove']();}['cloneCompo'+'nent'](_0x3a7744,_0x1fee5a){const _0x2b715=_0x3a7744['element'],_0xa7498b={'enabled':_0x2b715['enabled'],'width':_0x2b715['width'],'height':_0x2b715['height'],'anchor':_0x2b715['anchor']['clone'](),'pivot':_0x2b715['pivot']['clone'](),'margin':_0x2b715['margin']['clone'](),'alignment':_0x2b715['alignment']&&_0x2b715['alignment']['clone']()||_0x2b715['alignment'],'autoWidth':_0x2b715['autoWidth'],'autoHeight':_0x2b715['autoHeight'],'type':_0x2b715['type'],'rect':_0x2b715['rect']&&_0x2b715['rect']['clone']()||_0x2b715['rect'],'rtlReorder':_0x2b715['rtlReorder'],'unicodeConverter':_0x2b715['unicodeCon'+'verter'],'materialAsset':_0x2b715['materialAs'+'set'],'material':_0x2b715['material'],'color':_0x2b715['color']&&_0x2b715['color']['clone']()||_0x2b715['color'],'opacity':_0x2b715['opacity'],'textureAsset':_0x2b715['textureAss'+'et'],'texture':_0x2b715['texture'],'spriteAsset':_0x2b715['spriteAsse'+'t'],'sprite':_0x2b715['sprite'],'spriteFrame':_0x2b715['spriteFram'+'e'],'pixelsPerUnit':_0x2b715['pixelsPerU'+'nit'],'spacing':_0x2b715['spacing'],'lineHeight':_0x2b715['lineHeight'],'wrapLines':_0x2b715['wrapLines'],'layers':_0x2b715['layers'],'fontSize':_0x2b715['fontSize'],'minFontSize':_0x2b715['minFontSiz'+'e'],'maxFontSize':_0x2b715['maxFontSiz'+'e'],'autoFitWidth':_0x2b715['autoFitWid'+'th'],'autoFitHeight':_0x2b715['autoFitHei'+'ght'],'maxLines':_0x2b715['maxLines'],'fontAsset':_0x2b715['fontAsset'],'font':_0x2b715['font'],'useInput':_0x2b715['useInput'],'fitMode':_0x2b715['fitMode'],'batchGroupId':_0x2b715['batchGroup'+'Id'],'mask':_0x2b715['mask'],'outlineColor':_0x2b715['outlineCol'+'or']&&_0x2b715['outlineCol'+'or']['clone']()||_0x2b715['outlineCol'+'or'],'outlineThickness':_0x2b715['outlineThi'+'ckness'],'shadowColor':_0x2b715['shadowColo'+'r']&&_0x2b715['shadowColo'+'r']['clone']()||_0x2b715['shadowColo'+'r'],'shadowOffset':_0x2b715['shadowOffs'+'et']&&_0x2b715['shadowOffs'+'et']['clone']()||_0x2b715['shadowOffs'+'et'],'enableMarkup':_0x2b715['enableMark'+'up']};return _0x2b715['key']!==void(-0x2ef*0xa+0x1013*0x2+-0x2d0)&&_0x2b715['key']!==null?_0xa7498b['key']=_0x2b715['key']:_0xa7498b['text']=_0x2b715['text'],this['addCompone'+'nt'](_0x1fee5a,_0xa7498b);}['getTextEle'+'mentMateri'+'al'](_0xb0ab6b,_0xf5fa88,_0x404b15){const _0x4d9dc9=(_0xb0ab6b&&-0x1186*0x1+-0x237c+-0x3503*-0x1)|(_0xf5fa88&&-0x2*-0xd46+-0x204b+-0x1eb*-0x3)|(_0x404b15&&-0x2dd+0x1d69+-0x1a88);let _0x24023a=this['_defaultTe'+'xtMaterial'+'s'][_0x4d9dc9];if(_0x24023a)return _0x24023a;let _0x1ec97e='TextMateri'+'al';return _0x24023a=new Ut(),_0xf5fa88?(_0x24023a['msdfMap']=this['_defaultTe'+'xture'],_0x24023a['msdfTextAt'+'tribute']=_0x404b15,_0x24023a['emissive']['set'](0x6cd*-0x2+-0x9fe+0x1799,0x1307+-0x1722+0x41c,0x21af+-0x15e7+-0xbc7)):(_0x1ec97e='Bitmap'+_0x1ec97e,_0x24023a['emissive']['set'](0x738+-0xa79+0x342,0x1*-0xc33+0x233f*-0x1+0x2f73,0x252*0x6+-0x253b+0x1750),_0x24023a['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x24023a['opacityMap']=this['_defaultTe'+'xture'],_0x24023a['opacityMap'+'Channel']='a'),_0xb0ab6b&&(_0x1ec97e='ScreenSpac'+'e'+_0x1ec97e,_0x24023a['depthTest']=!(-0x112+0xb56+-0x25*0x47)),_0x24023a['name']='default'+_0x1ec97e,_0x24023a['useLightin'+'g']=!(-0x1d02+-0x1421+0x25*0x154),_0x24023a['useTonemap']=!(-0x1*0x21d6+-0xda*-0x1f+-0x27b*-0x3),_0x24023a['useFog']=!(-0x1293+0x11*-0x1b2+-0x1*-0x2f66),_0x24023a['useSkybox']=!(-0x30d+-0x1acd+0x1ddb),_0x24023a['diffuse']['set'](-0x1a9d+-0x627+-0x6*-0x576,-0x23c2+-0x69a+0x2a5c,-0xd*0x2e7+0x298+0x2323),_0x24023a['opacity']=0x1*0x395+-0x60*-0x3b+-0x19b5+0.5,_0x24023a['blendType']=Gn,_0x24023a['depthWrite']=!(-0x12df+-0x18*0x1+-0x4be*-0x4),_0x24023a['emissiveVe'+'rtexColor']=!(0xc5f*-0x3+-0x5bd+0x2ada),_0x24023a['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x4d9dc9]=_0x24023a,_0x24023a;}['_createBas'+'eImageMate'+'rial'](){const _0x469e26=new Ut();return _0x469e26['diffuse']['set'](-0x955+0x3*0x755+-0xcaa,0x1*-0x1afb+-0x20e*-0x2+0x16df,-0x43*-0x2f+-0x1782+0xb35),_0x469e26['emissive']['set'](-0x229a*-0x1+0x1*0x40d+-0x26a6,0x252a+0x258e+-0x4ab7,-0x1*0x3cd+-0x381+0x1*0x74f),_0x469e26['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x469e26['opacityMap']=this['_defaultTe'+'xture'],_0x469e26['opacityMap'+'Channel']='a',_0x469e26['useLightin'+'g']=!(0x1013+0x6f5+-0x1707),_0x469e26['useTonemap']=!(-0x24c4+0x1d7f+-0x10a*-0x7),_0x469e26['useFog']=!(-0x1*-0x40+-0x2*0x152+0x265),_0x469e26['useSkybox']=!(0x1444+-0x3f5*0x2+0x1d*-0x6d),_0x469e26['blendType']=Gn,_0x469e26['depthWrite']=!(-0x27f*0xb+-0x271+-0x1*-0x1de7),_0x469e26;}['getImageEl'+'ementMater'+'ial'](_0x24b519,_0x500ee0,_0x47559,_0x3d28c3){return _0x24b519?_0x500ee0?_0x47559?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(-0x2537+0xf4e+0x15ea),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=-0x102+-0x1129*0x1+0x122c,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(-0x12e1+0x1d23+-0xa41),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(-0x1*0x266f+-0x1*-0x4cf+0x21a1),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(0xd19*0x1+-0x60f*-0x1+-0x1327),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(-0x2060+-0x101*0x25+0x4586),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0x3d28c3?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(0x106*-0x1f+0x212e+-0x173),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=0x136f+0x1bec+-0x2f5a,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(0x234c+-0x6ca+0x1*-0x1c81),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(-0xa*0x121+-0x1f*-0xb+0x9f6),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(0x1ad7*-0x1+0xe2*0x2c+-0xc*0x100),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(0x3*0xf3+0xde5*-0x1+-0x45*-0x29),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x9b9+-0x20d5+0x5*0x883),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=0x2*-0x51b+-0x1*0x1204+0x1c3b,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(0x123e+-0x2626+-0x1*-0x13e9),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(-0x1b*-0x10d+-0x20bf+-0x13*-0x3b),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(-0x929+0xfbf*0x2+-0x1654),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(-0x877+0x370+0x508),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x47559?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(-0x987*0x1+-0x24cb+-0x1*-0x2e53),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0x3d28c3?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(-0x1a31+-0xe6*-0x26+-0x7f2),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(0x3e9*-0x6+0x1*0x4e+0x1729),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x500ee0?_0x47559?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=0x3*0x5d+-0x1*-0x80d+-0x923,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(-0x2*0x8eb+0x2*-0xec4+0x1*0x2f5f),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(-0x1d59+0x264b+0x7*-0x147),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(-0x3*0xb7b+-0x4ac+0x271e),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(-0xe94*-0x1+-0xd2f*-0x2+0x2f*-0xdf),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0x3d28c3?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=0x39a*-0x1+-0x3*-0x815+-0xa52*0x2,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(-0x1*-0x1131+-0x1*0x31d+-0x4b1*0x3),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(-0x23d3+0x2106+0x167*0x2),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(-0x23eb+-0x29b*0xa+0x3dfa),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(0x266e+0x667*-0x6+-0x3),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=0x1*-0x1479+-0xb*0x121+0x20e5,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(0xaa9*0x1+0x8*0x252+-0x1d38),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(-0x25b6+-0xf97+0x2*0x1aa7),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(0x170f+0x18a*0xd+-0x6a*0x68),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(0x91d+0x333+-0xc4f),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x47559?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0x3d28c3?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x41bc11){this['_unicodeCo'+'nverter']=_0x41bc11;}['registerRt'+'lReorder'](_0x2e8136){this['_rtlReorde'+'r']=_0x2e8136;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Xa='free',qa='limited',ja='locked',RR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class ym extends we{constructor(_0x5ae231,_0x9e2f43){super(_0x5ae231,_0x9e2f43),w['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(0x1155+0x1e50+-0x2fa5),this['_linearMot'+'ionX']=ja,this['_linearLim'+'itsX']=new J(0xdaf+-0xb0f+-0x60*0x7,0x22dc*-0x1+-0x1b0c+0x3de8),this['_linearSpr'+'ingX']=!(0x523*-0x3+-0x2*-0x869+-0x168),this['_linearSti'+'ffnessX']=0x5*-0x3+0x29b*0xc+-0x1f35,this['_linearDam'+'pingX']=-0x697+0x1d22+-0x168a,this['_linearEqu'+'ilibriumX']=-0x53*0x44+-0x355*-0xb+-0xe9b,this['_linearMot'+'ionY']=ja,this['_linearLim'+'itsY']=new J(0x2*-0x694+-0x28*-0xe4+-0x1678,0x18b3+-0x1ec5+0x612),this['_linearSpr'+'ingY']=!(-0x25c6+-0x20cf+-0x2b7*-0x1a),this['_linearSti'+'ffnessY']=-0x1*0x2203+0xbff+-0xb02*-0x2,this['_linearDam'+'pingY']=0x1*-0x2047+0x1878+-0xfa*-0x8,this['_linearEqu'+'ilibriumY']=-0x2e*0xb3+0x1c2d+0x3fd,this['_linearMot'+'ionZ']=ja,this['_linearLim'+'itsZ']=new J(-0x2ff*-0x4+-0xe88+0x146*0x2,0x26db+-0x97*0x5+-0x23e8),this['_linearSpr'+'ingZ']=!(0x1094+-0xd*-0x2a2+-0x32cd),this['_linearSti'+'ffnessZ']=0x25cb+0x2670+-0x5*0xf3f,this['_linearDam'+'pingZ']=0x1048+-0x266f+0x1628,this['_linearEqu'+'ilibriumZ']=-0x1*0x14b6+0x22d1+-0x17*0x9d,this['_angularMo'+'tionX']=ja,this['_angularLi'+'mitsX']=new J(-0xeab+0x1ed*-0xc+-0x1*-0x25c7,0x804+0x22c*-0x11+0x1ce8),this['_angularSp'+'ringX']=!(0x2b*0x6d+0xe17+-0x2065*0x1),this['_angularSt'+'iffnessX']=0xc0d*-0x2+-0x32b*0xb+0x1*0x3af3,this['_angularDa'+'mpingX']=-0x32*-0x34+-0x7c5+-0x3d*0xa,this['_angularEq'+'uilibriumX']=0x7b*0x47+0x1773+-0x3990,this['_angularMo'+'tionY']=ja,this['_angularLi'+'mitsY']=new J(0x627+0xd09+-0x1330,0x1a47*0x1+-0x1*0x5f3+-0x1454),this['_angularSp'+'ringY']=!(0x2343*-0x1+-0x1b17+0x3e5b),this['_angularSt'+'iffnessY']=-0x1241+0x1fec+-0xdab,this['_angularDa'+'mpingY']=-0xf18+0x521+0x9f8,this['_angularEq'+'uilibriumY']=-0x116e+0x1e9d+0x4b*-0x2d,this['_angularMo'+'tionZ']=ja,this['_angularLi'+'mitsZ']=new J(0x8e*0x23+0xf77*0x2+-0x3258,-0x409*-0x4+0x21a+-0x91f*0x2),this['_angularSp'+'ringZ']=!(-0x11c*0xa+0x2092+-0x1*0x1579),this['_angularEq'+'uilibriumZ']=0x2605+-0x230f+-0x2f6*0x1,this['_angularDa'+'mpingZ']=0x2*-0x1265+-0x9be+0x2e89,this['_angularSt'+'iffnessZ']=-0xcea+0xc06+0xe4,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x354286){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x354286,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x3dbe33){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x3dbe33,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x275467){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x275467&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x275467),this['_breakForc'+'e']=_0x275467);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x2fb6ad){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x2fb6ad,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x39fd21){this['_angularLi'+'mitsX']['equals'](_0x39fd21)||(this['_angularLi'+'mitsX']['copy'](_0x39fd21),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x307361){this['_angularMo'+'tionX']!==_0x307361&&(this['_angularMo'+'tionX']=_0x307361,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x306a9f){this['_angularLi'+'mitsY']['equals'](_0x306a9f)||(this['_angularLi'+'mitsY']['copy'](_0x306a9f),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x46c646){this['_angularMo'+'tionY']!==_0x46c646&&(this['_angularMo'+'tionY']=_0x46c646,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0xcc99d2){this['_angularLi'+'mitsZ']['equals'](_0xcc99d2)||(this['_angularLi'+'mitsZ']['copy'](_0xcc99d2),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x4f1ec3){this['_angularMo'+'tionZ']!==_0x4f1ec3&&(this['_angularMo'+'tionZ']=_0x4f1ec3,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x57139a){this['_linearLim'+'itsX']['equals'](_0x57139a)||(this['_linearLim'+'itsX']['copy'](_0x57139a),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x5655f0){this['_linearMot'+'ionX']!==_0x5655f0&&(this['_linearMot'+'ionX']=_0x5655f0,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x100810){this['_linearLim'+'itsY']['equals'](_0x100810)||(this['_linearLim'+'itsY']['copy'](_0x100810),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0x91cb70){this['_linearMot'+'ionY']!==_0x91cb70&&(this['_linearMot'+'ionY']=_0x91cb70,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x7ca5f4){this['_linearLim'+'itsZ']['equals'](_0x7ca5f4)||(this['_linearLim'+'itsZ']['copy'](_0x7ca5f4),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x713ecc){this['_linearMot'+'ionZ']!==_0x713ecc&&(this['_linearMot'+'ionZ']=_0x713ecc,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x61adc3,_0x141147){const _0x139662=_0x61adc3['getTransla'+'tion'](),_0xbeed1c=new le();_0xbeed1c['setFromMat'+'4'](_0x61adc3);const _0x3903e1=new Ammo['btVector3'](_0x139662['x'],_0x139662['y'],_0x139662['z']),_0x517d12=new Ammo['btQuaterni'+'on'](_0xbeed1c['x'],_0xbeed1c['y'],_0xbeed1c['z'],_0xbeed1c['w']);_0x141147['setOrigin'](_0x3903e1),_0x141147['setRotatio'+'n'](_0x517d12),Ammo['destroy'](_0x3903e1),Ammo['destroy'](_0x517d12);}['_updateAng'+'ularLimits'](){const _0x2db5c9=this['_constrain'+'t'];if(_0x2db5c9){let _0x4d114e,_0x2d2b1d,_0x570362,_0x35a1dc,_0x50f935,_0x42bffa;this['_angularMo'+'tionX']===qa?(_0x4d114e=this['_angularLi'+'mitsX']['x']*Y['DEG_TO_RAD'],_0x35a1dc=this['_angularLi'+'mitsX']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionX']===Xa?(_0x4d114e=-0x2*0x2f9+0x14e4+-0x19*0x99,_0x35a1dc=0x1*-0x1ddb+-0x5a*-0x24+0x77*0x25):_0x4d114e=_0x35a1dc=0xca8+-0xed8+0x1c*0x14,this['_angularMo'+'tionY']===qa?(_0x2d2b1d=this['_angularLi'+'mitsY']['x']*Y['DEG_TO_RAD'],_0x50f935=this['_angularLi'+'mitsY']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionY']===Xa?(_0x2d2b1d=-0x2584*0x1+0x1677+0xf0e,_0x50f935=0x1*0x235e+0x13c8+0x1b93*-0x2):_0x2d2b1d=_0x50f935=-0x969*0x3+0xb12+0x1129,this['_angularMo'+'tionZ']===qa?(_0x570362=this['_angularLi'+'mitsZ']['x']*Y['DEG_TO_RAD'],_0x42bffa=this['_angularLi'+'mitsZ']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Xa?(_0x570362=-0x19fb+0x65*-0x55+0x3b85*0x1,_0x42bffa=0x1d06+-0xf07*-0x2+0x1d8a*-0x2):_0x570362=_0x42bffa=-0xc5*-0x9+0x11*-0x125+0xc88;const _0x2bd9e1=new Ammo['btVector3'](_0x4d114e,_0x2d2b1d,_0x570362);_0x2db5c9['setAngular'+'LowerLimit'](_0x2bd9e1),_0x2bd9e1['setValue'](_0x35a1dc,_0x50f935,_0x42bffa),_0x2db5c9['setAngular'+'UpperLimit'](_0x2bd9e1),Ammo['destroy'](_0x2bd9e1);}}['_updateLin'+'earLimits'](){const _0x5c5c52=this['_constrain'+'t'];if(_0x5c5c52){let _0x2e39b8,_0xf857a7,_0x4cbc99,_0x25db1b,_0x5eea71,_0x191efb;this['_linearMot'+'ionX']===qa?(_0x2e39b8=this['_linearLim'+'itsX']['x'],_0x25db1b=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Xa?(_0x2e39b8=-0x35*0x64+-0x127*0x19+0x3184,_0x25db1b=-0x1b20+-0x2*0x5d6+-0x26cc*-0x1):_0x2e39b8=_0x25db1b=0x113e+-0x493*0x6+0x51a*0x2,this['_linearMot'+'ionY']===qa?(_0xf857a7=this['_linearLim'+'itsY']['x'],_0x5eea71=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Xa?(_0xf857a7=0x1b53+0x1a7b+-0x35cd,_0x5eea71=-0x1f6b+-0xd0+-0x1*-0x203b):_0xf857a7=_0x5eea71=0x3*-0x9a5+-0xed9+0x18*0x1d3,this['_linearMot'+'ionZ']===qa?(_0x4cbc99=this['_linearLim'+'itsZ']['x'],_0x191efb=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Xa?(_0x4cbc99=0x21c+0x2109+-0x2324,_0x191efb=0x1*0x683+0x195b+-0x1fde):_0x4cbc99=_0x191efb=-0x1cb6+0x29*0xd+-0x1*-0x1aa1;const _0x5501e1=new Ammo['btVector3'](_0x2e39b8,_0xf857a7,_0x4cbc99);_0x5c5c52['setLinearL'+'owerLimit'](_0x5501e1),_0x5501e1['setValue'](_0x25db1b,_0x5eea71,_0x191efb),_0x5c5c52['setLinearU'+'pperLimit'](_0x5501e1),Ammo['destroy'](_0x5501e1);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x43eafc=new te(),_0x42d4b0=this['_entityA']['rigidbody']['body'];_0x42d4b0['activate']();const _0x2316cd=this['entity']['getWorldTr'+'ansform'](),_0x20fded=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x43eafc['mul2'](_0x20fded,_0x2316cd);const _0x5a9ee2=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x43eafc,_0x5a9ee2),this['_entityB']&&this['_entityB']['rigidbody']){const _0x5241e5=this['_entityB']['rigidbody']['body'];_0x5241e5['activate']();const _0x1413ca=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x43eafc['mul2'](_0x1413ca,_0x2316cd);const _0x27e2f6=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x43eafc,_0x27e2f6),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x42d4b0,_0x5241e5,_0x5a9ee2,_0x27e2f6,!this['_enableCol'+'lision']),Ammo['destroy'](_0x27e2f6);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0x42d4b0,_0x5a9ee2,!this['_enableCol'+'lision']);Ammo['destroy'](_0x5a9ee2);const _0x58424b=['X','Y','Z','X','Y','Z'];for(let _0xdeb41f=-0x3b*0x71+-0xb9d+0x1*0x25a8;_0xdeb41f<0x6*-0x35f+0x2ec+0x1154;_0xdeb41f++){const _0x270a15=_0xdeb41f<-0x2ca+0x1c6+0x107*0x1?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0xdeb41f,this[_0x270a15+'Spring'+_0x58424b[_0xdeb41f]]),this['_constrain'+'t']['setDamping'](_0xdeb41f,this[_0x270a15+'Damping'+_0x58424b[_0xdeb41f]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0xdeb41f,this[_0x270a15+('Equilibriu'+'m')+_0x58424b[_0xdeb41f]]),this['_constrain'+'t']['setStiffne'+'ss'](_0xdeb41f,this[_0x270a15+'Stiffness'+_0x58424b[_0xdeb41f]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x581bb0){for(const _0x46f8be of RR)_0x581bb0['hasOwnProp'+'erty'](_0x46f8be)&&(_0x581bb0[_0x46f8be]instanceof J?this['_'+_0x46f8be]['copy'](_0x581bb0[_0x46f8be]):this['_'+_0x46f8be]=_0x581bb0[_0x46f8be]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0xa7277c,_0x10d745,_0x22d8c0){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const OR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x4a1c95=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x480a94=>{['X','Y','Z']['forEach'](_0x15b1bf=>{const _0x45dfeb=_0x4a1c95+_0x480a94+_0x15b1bf,_0x11b761='_'+_0x45dfeb;let _0x52e43f=_0x4a1c95==='linear'?-0x1cdb+0x2482+-0x7a7*0x1:-0x13*-0x1b6+-0x1*0x43b+0x96c*-0x3;_0x15b1bf==='Y'&&(_0x52e43f+=0x180+-0x1ee7+0x1d68),_0x15b1bf==='Z'&&(_0x52e43f+=0x2645+0x1*0xb03+0x6a*-0x77),Object['defineProp'+'erty'](ym['prototype'],_0x45dfeb,{'get':function(){return this[_0x11b761];},'set':function(_0x3df6b7){this[_0x11b761]!==_0x3df6b7&&(this[_0x11b761]=_0x3df6b7,this['_constrain'+'t'][OR[_0x480a94]](_0x52e43f,_0x3df6b7));}});});});});class FR{constructor(){this['enabled']=!(0x1f37+-0x1*0x283+-0xa7*0x2c);}}const Fu=['enabled'];class NR extends ct{constructor(_0x375b69){super(_0x375b69),this['id']='joint',this['app']=_0x375b69,this['ComponentT'+'ype']=ym,this['DataType']=FR,this['schema']=Fu;}['initialize'+'ComponentD'+'ata'](_0x4839e1,_0x1e17ee,_0x34470a){_0x4839e1['initFromDa'+'ta'](_0x1e17ee),super['initialize'+'ComponentD'+'ata'](_0x4839e1,_0x1e17ee,Fu);}}we['_buildAcce'+'ssors'](ym['prototype'],Fu);class Jv extends we{constructor(){super(...arguments),h(this,'_minWidth',0x119+-0x2*-0xc05+0x41*-0x63),h(this,'_minHeight',-0x39e*-0x2+0x8ea+-0x1026),h(this,'_maxWidth',null),h(this,'_maxHeight',null),h(this,'_fitWidthP'+'roportion',0x43*0x61+-0xd35+-0xc2e),h(this,'_fitHeight'+'Proportion',0x1*-0x1d0e+-0x3*0x4f+0x1dfb),h(this,'_excludeFr'+'omLayout',!(-0xe*-0x269+0x834+-0x4a9*0x9));}set['minWidth'](_0x3a3348){_0x3a3348!==this['_minWidth']&&(this['_minWidth']=_0x3a3348,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x434116){_0x434116!==this['_minHeight']&&(this['_minHeight']=_0x434116,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0xcbde32){_0xcbde32!==this['_maxWidth']&&(this['_maxWidth']=_0xcbde32,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x32733e){_0x32733e!==this['_maxHeight']&&(this['_maxHeight']=_0x32733e,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x3793a4){_0x3793a4!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x3793a4,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x210f5){_0x210f5!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x210f5,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x15a289){_0x15a289!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x15a289,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class kR{constructor(){this['enabled']=!(0x3c5+0x1326+-0x16eb);}}const e0=['enabled'];class UR extends ct{constructor(_0x550d22){super(_0x550d22),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=Jv,this['DataType']=kR,this['schema']=e0;}['initialize'+'ComponentD'+'ata'](_0x179a13,_0x5bc91b,_0x27fedc){_0x5bc91b['enabled']!==void(-0xc12*-0x3+0xdbf+-0x31f5)&&(_0x179a13['enabled']=_0x5bc91b['enabled']),_0x5bc91b['minWidth']!==void(0x14ce+-0x1c02+0x734)&&(_0x179a13['minWidth']=_0x5bc91b['minWidth']),_0x5bc91b['minHeight']!==void(-0x265*-0xa+-0xf7e*0x2+-0x385*-0x2)&&(_0x179a13['minHeight']=_0x5bc91b['minHeight']),_0x5bc91b['maxWidth']!==void(0xcf4+0x24dc+-0x31d0)&&(_0x179a13['maxWidth']=_0x5bc91b['maxWidth']),_0x5bc91b['maxHeight']!==void(-0x151*-0x2+0x1739*-0x1+-0xfb*-0x15)&&(_0x179a13['maxHeight']=_0x5bc91b['maxHeight']),_0x5bc91b['fitWidthPr'+'oportion']!==void(0xafb+-0x599+-0x562)&&(_0x179a13['fitWidthPr'+'oportion']=_0x5bc91b['fitWidthPr'+'oportion']),_0x5bc91b['fitHeightP'+'roportion']!==void(0x1*0x227f+0x5b3*0x4+0x1319*-0x3)&&(_0x179a13['fitHeightP'+'roportion']=_0x5bc91b['fitHeightP'+'roportion']),_0x5bc91b['excludeFro'+'mLayout']!==void(-0x4a*0xb+-0x5*-0x7c7+-0x23b5)&&(_0x179a13['excludeFro'+'mLayout']=_0x5bc91b['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x179a13,_0x5bc91b,_0x27fedc);}['cloneCompo'+'nent'](_0x326cc9,_0x1fd133){const _0x16c75a=_0x326cc9['layoutchil'+'d'];return this['addCompone'+'nt'](_0x1fd133,{'enabled':_0x16c75a['enabled'],'minWidth':_0x16c75a['minWidth'],'minHeight':_0x16c75a['minHeight'],'maxWidth':_0x16c75a['maxWidth'],'maxHeight':_0x16c75a['maxHeight'],'fitWidthProportion':_0x16c75a['fitWidthPr'+'oportion'],'fitHeightProportion':_0x16c75a['fitHeightP'+'roportion'],'excludeFromLayout':_0x16c75a['excludeFro'+'mLayout']});}}we['_buildAcce'+'ssors'](Jv['prototype'],e0);const Nu=0x16*-0x9e+0x6*-0x2fb+-0xfbb*-0x2,BR=0x1b3*0xd+-0x82f+0xde7*-0x1,Qg=0x3*0x742+-0x2*-0xfc9+0x1aab*-0x2,zR=0xd*0x18e+0x7c0+0x9f*-0x2d,Oh={};Oh[Ce]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Oh[je]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const vm={};vm[Ce]=je,vm[je]=Ce;const VR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},os={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},ls=new J();function t0(_0x2bb95c){let _0x209f68;const _0xf56bf9=Oh[_0x2bb95c],_0x524f6b=Oh[vm[_0x2bb95c]];function _0x4a1611(_0x3cd5c7,_0x25b043){return-_0x25b043[_0xf56bf9['size']]*_0x3cd5c7['pivot'][_0xf56bf9['axis']];}function _0x49d99d(_0xeba81f,_0x104e26){return-_0x104e26[_0x524f6b['size']]*_0xeba81f['pivot'][_0x524f6b['axis']];}function _0x3c16a3(_0x1ff864,_0x5d8624){return _0x5d8624[_0xf56bf9['size']]*(0x1*0x927+0xde5+-0x170b-_0x1ff864['pivot'][_0xf56bf9['axis']]);}function _0x281e80(_0x4e4b7c,_0x30d1ee){_0x4e4b7c=_0x4e4b7c['filter'](_0x510de7),_0x209f68=_0x30d1ee,ls['x']=_0x209f68['containerS'+'ize']['x']-_0x209f68['padding']['x']-_0x209f68['padding']['z'],ls['y']=_0x209f68['containerS'+'ize']['y']-_0x209f68['padding']['y']-_0x209f68['padding']['w'],_0x2a795c(_0x4e4b7c);const _0x2d6737=_0x266730(_0x592ce6(_0x4e4b7c)),_0x4b3940=_0x83c548(_0x2d6737,_0x28f5c2(_0x2d6737)),_0x389842=_0x461fd0(_0x2d6737,_0x4b3940);return _0x461d46(_0x2d6737,_0x4b3940,_0x389842),_0x2a6321(_0x2d6737,_0x4b3940,_0x389842),_0x5e186a(_0x2d6737);}function _0x510de7(_0x345ad7){const _0x272575=_0x345ad7['entity']['layoutchil'+'d'];return!_0x272575||!_0x272575['enabled']||!_0x272575['excludeFro'+'mLayout'];}function _0x2a795c(_0x2f41f3){for(let _0x1da282=-0x1*-0x1c65+-0x26f6*-0x1+-0x435b;_0x1da282<_0x2f41f3['length'];++_0x1da282){const _0x38d727=_0x2f41f3[_0x1da282],_0x5ebf3b=_0x38d727['anchor'];(_0x5ebf3b['x']!==-0x61c+-0x7c3*-0x1+0x9*-0x2f||_0x5ebf3b['y']!==0x1f44+0x1a62+0x9d*-0x5e||_0x5ebf3b['z']!==-0x7*-0x34a+-0x2636+0xf30||_0x5ebf3b['w']!==0x1*0x80f+-0x2361+-0x2*-0xda9)&&(_0x38d727['anchor']=re['ZERO']);}}function _0x592ce6(_0x4a04a6){if(!_0x209f68['wrap'])return[_0x4a04a6];const _0x524859=[[]],_0x46c1f1=_0x116ad6(_0x4a04a6);let _0x476a65=-0x71b*0x4+-0x1*-0x21da+-0x56e;const _0x2ccf78=_0x209f68[_0xf56bf9['fitting']]===Qg;for(let _0x23d146=0x1491+-0x266f*-0x1+-0x3b00;_0x23d146<_0x4a04a6['length'];++_0x23d146){_0x524859[_0x524859['length']-(-0x4*-0x18a+0x24f4+-0x2b1b)]['length']>-0x19d7+-0xcd9*0x2+0x4f*0xa7&&(_0x476a65+=_0x209f68['spacing'][_0xf56bf9['axis']]);const _0x1ea073=_0x46c1f1[_0x23d146][_0xf56bf9['size']];_0x476a65+=_0x1ea073,!_0x2ccf78&&_0x476a65>ls[_0xf56bf9['axis']]&&_0x524859[_0x524859['length']-(-0x16bb+-0x1507+0x2bc3)]['length']!==-0xe4b+-0x18+0xe63&&(_0x476a65=_0x1ea073,_0x524859['push']([])),_0x524859[_0x524859['length']-(-0x8e2+0x4*-0x66d+0x2297)]['push'](_0x4a04a6[_0x23d146]),_0x2ccf78&&_0x476a65>ls[_0xf56bf9['axis']]&&_0x23d146!==_0x4a04a6['length']-(-0x3*-0x665+0x183e+0x7*-0x634)&&(_0x476a65=0x17c7+-0x1*0x256f+0xda8,_0x524859['push']([]));}return _0x524859;}function _0x266730(_0x490395){const _0x53d9d7=_0x209f68['orientatio'+'n']===Ce&&_0x209f68['reverseX']||_0x209f68['orientatio'+'n']===je&&_0x209f68['reverseY'],_0x280218=_0x209f68['orientatio'+'n']===Ce&&_0x209f68['reverseY']||_0x209f68['orientatio'+'n']===je&&_0x209f68['reverseX'];if(_0x53d9d7){for(let _0x3c0e92=0x1a8e+0x1be9+-0x3677;_0x3c0e92<_0x490395['length'];++_0x3c0e92)_0x53d9d7&&_0x490395[_0x3c0e92]['reverse']();}return _0x280218&&_0x490395['reverse'](),_0x490395;}function _0x28f5c2(_0x177fa1){const _0x11e641=[];for(let _0x25b560=-0x1*-0x19ac+0x4*0x31c+-0x261c;_0x25b560<_0x177fa1['length'];++_0x25b560){const _0x8f201a=_0x177fa1[_0x25b560],_0x4b979e=_0x116ad6(_0x8f201a),_0x142799=_0xa3a7e(_0x4b979e,_0xf56bf9),_0x44d157=_0x4dd42f(_0x209f68[_0xf56bf9['fitting']],_0x142799,ls[_0xf56bf9['axis']]);_0x44d157===os['APPLY_STRE'+'TCHING']?_0x3718af(_0x4b979e,_0x142799,_0xf56bf9):_0x44d157===os['APPLY_SHRI'+'NKING']&&_0x376bb4(_0x4b979e,_0x142799,_0xf56bf9),_0x11e641['push'](_0x4b979e);}return _0x11e641;}function _0x83c548(_0x316503,_0x4973c3){const _0x7e1ced=[],_0x455fda=[];for(let _0x37409a=-0x7d+0xca2+0xc25*-0x1;_0x37409a<_0x316503['length'];++_0x37409a){const _0xfeedc1=_0x316503[_0x37409a];_0xfeedc1['largestEle'+'ment']=null,_0xfeedc1['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x221658=-0x1973+0x12c9+0x6aa;_0x221658<_0xfeedc1['length'];++_0x221658){const _0x37afed=_0x4973c3[_0x37409a][_0x221658];_0x37afed[_0x524f6b['size']]>_0xfeedc1['largestSiz'+'e'][_0x524f6b['size']]&&(_0xfeedc1['largestEle'+'ment']=_0xfeedc1[_0x221658],_0xfeedc1['largestSiz'+'e']=_0x37afed);}_0x7e1ced['push'](_0xfeedc1['largestEle'+'ment']),_0x455fda['push'](_0xfeedc1['largestSiz'+'e']);}const _0x17fe07=_0xa3a7e(_0x455fda,_0x524f6b),_0x2b3f87=_0x4dd42f(_0x209f68[_0x524f6b['fitting']],_0x17fe07,ls[_0x524f6b['axis']]);_0x2b3f87===os['APPLY_STRE'+'TCHING']?_0x3718af(_0x455fda,_0x17fe07,_0x524f6b):_0x2b3f87===os['APPLY_SHRI'+'NKING']&&_0x376bb4(_0x455fda,_0x17fe07,_0x524f6b);for(let _0x3e733c=-0x1bb3+0xb*0x3a+0x1935;_0x3e733c<_0x316503['length'];++_0x3e733c){const _0x3e54f1=_0x316503[_0x3e733c];for(let _0x229693=0x1d7c+-0x863+-0x1eb*0xb;_0x229693<_0x3e54f1['length'];++_0x229693){const _0x44118b=_0x4973c3[_0x3e733c][_0x229693],_0x3e2ed0=_0x44118b[_0x524f6b['size']],_0x1ed4cb=_0x316503['length']===-0x70b*0x3+-0x1*-0x205+0x131d?ls[_0x524f6b['axis']]:_0x3e54f1['largestSiz'+'e'][_0x524f6b['size']],_0x297dcf=_0x4dd42f(_0x209f68[_0x524f6b['fitting']],_0x3e2ed0,_0x1ed4cb);_0x297dcf===os['APPLY_STRE'+'TCHING']?_0x44118b[_0x524f6b['size']]=Math['min'](_0x1ed4cb,_0x44118b[_0x524f6b['maxSize']]):_0x297dcf===os['APPLY_SHRI'+'NKING']&&(_0x44118b[_0x524f6b['size']]=Math['max'](_0x1ed4cb,_0x44118b[_0x524f6b['minSize']]));}}return _0x4973c3;}function _0x4dd42f(_0x4da162,_0x13fca5,_0x4dde4d){switch(_0x4da162){case Nu:return os['NONE'];case BR:return _0x13fca5<_0x4dde4d?os['APPLY_STRE'+'TCHING']:os['NONE'];case Qg:return _0x13fca5>=_0x4dde4d?os['APPLY_SHRI'+'NKING']:os['NONE'];case zR:return _0x13fca5<_0x4dde4d?os['APPLY_STRE'+'TCHING']:os['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x4da162);}}function _0xa3a7e(_0x1e25e3,_0x31cb61){const _0x6b46a8=_0x599e7b(_0x1e25e3,_0x31cb61['size']),_0x240171=(_0x1e25e3['length']-(-0x7*0x511+0x1*-0x55d+0x28d5))*_0x209f68['spacing'][_0x31cb61['axis']];return _0x6b46a8+_0x240171;}function _0x3718af(_0x3f72eb,_0x53ae91,_0x238cfe){const _0x141fdc=_0x1ebff1(_0x3f72eb,_0x238cfe['maxSize']),_0xc498=_0xc35f94(_0x3f72eb,_0x238cfe['fittingPro'+'portion']),_0x404157=_0x4f291b(_0xc498,_0x141fdc);let _0x24d0db=ls[_0x238cfe['axis']]-_0x53ae91;for(let _0x447e2a=0x2566+-0x15eb+-0x529*0x3;_0x447e2a<_0x3f72eb['length'];++_0x447e2a){const _0x1e7be7=_0x141fdc[_0x447e2a],_0x21cf72=_0x21fcd6(_0x1e7be7,_0x24d0db,_0xc498,_0x404157),_0x5b4a9f=_0x3f72eb[_0x1e7be7][_0x238cfe['size']]+_0x21cf72,_0x2386de=_0x3f72eb[_0x1e7be7][_0x238cfe['maxSize']],_0x3def46=Math['min'](_0x5b4a9f,_0x2386de);_0x3f72eb[_0x1e7be7][_0x238cfe['size']]=_0x3def46;const _0x353b11=Math['max'](_0x5b4a9f-_0x3def46,0x6*0x4e1+0xfd4+-0x2d1a),_0x11111e=_0x21cf72-_0x353b11;_0x24d0db-=_0x11111e;}}function _0x376bb4(_0x724d9,_0xebe544,_0xa86e54){const _0x5e2210=_0x1ebff1(_0x724d9,_0xa86e54['minSize'],!(0x2209*-0x1+-0x47a*0x1+-0x1*-0x2683)),_0x47a51e=_0xc35f94(_0x724d9,_0xa86e54['fittingPro'+'portion']),_0x1c6836=_0x3aa54c(_0x47a51e),_0x1ef737=_0x4f291b(_0x1c6836,_0x5e2210);let _0x489f71=_0xebe544-ls[_0xa86e54['axis']];for(let _0x3893d2=0x20b5*0x1+0x17a9+-0x385e;_0x3893d2<_0x724d9['length'];++_0x3893d2){const _0x5140b0=_0x5e2210[_0x3893d2],_0x3bab23=_0x21fcd6(_0x5140b0,_0x489f71,_0x1c6836,_0x1ef737),_0x339c96=_0x724d9[_0x5140b0][_0xa86e54['size']]-_0x3bab23,_0x1ad07a=_0x724d9[_0x5140b0][_0xa86e54['minSize']],_0xc69065=Math['max'](_0x339c96,_0x1ad07a);_0x724d9[_0x5140b0][_0xa86e54['size']]=_0xc69065;const _0x4e2f4d=Math['max'](_0xc69065-_0x339c96,-0x1236+0x1266+-0x30),_0x227831=_0x3bab23-_0x4e2f4d;_0x489f71-=_0x227831;}}function _0x21fcd6(_0x2c6e0e,_0x5e274f,_0x3d9925,_0x4996bd){const _0x3ac96e=_0x3d9925[_0x2c6e0e],_0x8137f2=_0x4996bd[_0x2c6e0e];return Math['abs'](_0x3ac96e)<0x888+0x24*0xd9+-0x270c+0.00001&&Math['abs'](_0x8137f2)<-0x81*-0x13+-0xe34+0x4a1+0.00001?_0x5e274f:_0x5e274f*_0x3ac96e/_0x8137f2;}function _0x461fd0(_0x59f0f3,_0x4bdb8f){const _0x23a4b7={};_0x23a4b7[_0xf56bf9['axis']]=0xf76+-0x23e4+0x146e,_0x23a4b7[_0x524f6b['axis']]=0x1564+-0x4a7+0x5*-0x359,_0x59f0f3[_0xf56bf9['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0xf4ae9=[];for(let _0x18f18a=-0x633+-0x1996+0x1fc9;_0x18f18a<_0x59f0f3['length'];++_0x18f18a){const _0x43f6bc=_0x59f0f3[_0x18f18a];if(_0x43f6bc['length']===0x985*-0x1+0x16e4+0x3*-0x475){_0xf4ae9['push']([]);continue;}const _0x4491d2=[],_0x173521=_0x4bdb8f[_0x18f18a];for(let _0x49b9ac=0xc4*0x24+0x6f0*0x2+-0x4e*0x88;_0x49b9ac<_0x43f6bc['length'];++_0x49b9ac){const _0x1b044a=_0x43f6bc[_0x49b9ac],_0x57e324=_0x173521[_0x49b9ac];_0x23a4b7[_0x524f6b['axis']]-=_0x49d99d(_0x1b044a,_0x57e324),_0x23a4b7[_0xf56bf9['axis']]-=_0x4a1611(_0x1b044a,_0x57e324),_0x4491d2[_0x49b9ac]={},_0x4491d2[_0x49b9ac][_0xf56bf9['axis']]=_0x23a4b7[_0xf56bf9['axis']],_0x4491d2[_0x49b9ac][_0x524f6b['axis']]=_0x23a4b7[_0x524f6b['axis']],_0x23a4b7[_0x524f6b['axis']]+=_0x49d99d(_0x1b044a,_0x57e324),_0x23a4b7[_0xf56bf9['axis']]+=_0x3c16a3(_0x1b044a,_0x57e324)+_0x209f68['spacing'][_0xf56bf9['axis']];}_0x43f6bc[_0xf56bf9['size']]=_0x23a4b7[_0xf56bf9['axis']]-_0x209f68['spacing'][_0xf56bf9['axis']],_0x43f6bc[_0x524f6b['size']]=_0x43f6bc['largestSiz'+'e'][_0x524f6b['size']],_0x59f0f3[_0xf56bf9['size']]=Math['max'](_0x59f0f3[_0xf56bf9['size']],_0x43f6bc[_0xf56bf9['size']]),_0x23a4b7[_0xf56bf9['axis']]=-0x857+-0x2406+0x2c5d,_0x23a4b7[_0x524f6b['axis']]+=_0x43f6bc[_0x524f6b['size']]+_0x209f68['spacing'][_0x524f6b['axis']],_0xf4ae9['push'](_0x4491d2);}return _0x59f0f3[_0x524f6b['size']]=_0x23a4b7[_0x524f6b['axis']]-_0x209f68['spacing'][_0x524f6b['axis']],_0xf4ae9;}function _0x461d46(_0x107a70,_0x25fc8c,_0x13b9a4){const _0x3eb540=_0x209f68['alignment'][_0xf56bf9['axis']],_0xc30930=_0x209f68['alignment'][_0x524f6b['axis']],_0x1c4dbb=_0x209f68['padding'][_0xf56bf9['axis']],_0x37658b=_0x209f68['padding'][_0x524f6b['axis']];for(let _0x4574b2=-0xf9*0xd+0x8d*0x5+0x9e4;_0x4574b2<_0x107a70['length'];++_0x4574b2){const _0x46c1ff=_0x107a70[_0x4574b2],_0x49f892=_0x25fc8c[_0x4574b2],_0x1a1195=_0x13b9a4[_0x4574b2],_0x48c6c2=(ls[_0xf56bf9['axis']]-_0x46c1ff[_0xf56bf9['size']])*_0x3eb540+_0x1c4dbb,_0x5d3d00=(ls[_0x524f6b['axis']]-_0x107a70[_0x524f6b['size']])*_0xc30930+_0x37658b;for(let _0xb9e90f=-0x1*-0xf1d+0x323+-0x2*0x920;_0xb9e90f<_0x46c1ff['length'];++_0xb9e90f){const _0x3e71ae=(_0x46c1ff[_0x524f6b['size']]-_0x49f892[_0xb9e90f][_0x524f6b['size']])*_0x209f68['alignment'][_0x524f6b['axis']];_0x1a1195[_0xb9e90f][_0xf56bf9['axis']]+=_0x48c6c2,_0x1a1195[_0xb9e90f][_0x524f6b['axis']]+=_0x5d3d00+_0x3e71ae;}}}function _0x2a6321(_0x4337c7,_0x188d50,_0x48d821){for(let _0x5e5299=0x6e1+0xe34+-0x1515;_0x5e5299<_0x4337c7['length'];++_0x5e5299){const _0x5c4693=_0x4337c7[_0x5e5299],_0x45685e=_0x188d50[_0x5e5299],_0x1efe5e=_0x48d821[_0x5e5299];for(let _0x266f6c=0x76d+-0xc5d+0x8*0x9e;_0x266f6c<_0x5c4693['length'];++_0x266f6c){const _0x2bb40e=_0x5c4693[_0x266f6c];_0x2bb40e[_0xf56bf9['calculated'+'Size']]=_0x45685e[_0x266f6c][_0xf56bf9['size']],_0x2bb40e[_0x524f6b['calculated'+'Size']]=_0x45685e[_0x266f6c][_0x524f6b['size']],_0x209f68['orientatio'+'n']===Ce?_0x2bb40e['entity']['setLocalPo'+'sition'](_0x1efe5e[_0x266f6c][_0xf56bf9['axis']],_0x1efe5e[_0x266f6c][_0x524f6b['axis']],_0x2bb40e['entity']['getLocalPo'+'sition']()['z']):_0x2bb40e['entity']['setLocalPo'+'sition'](_0x1efe5e[_0x266f6c][_0x524f6b['axis']],_0x1efe5e[_0x266f6c][_0xf56bf9['axis']],_0x2bb40e['entity']['getLocalPo'+'sition']()['z']);}}}function _0x5e186a(_0x4b5b1d){const _0x1f7364=_0x4b5b1d['width'],_0x4de265=_0x4b5b1d['height'],_0x5a567e=(ls['x']-_0x1f7364)*_0x209f68['alignment']['x']+_0x209f68['padding']['x'],_0x180422=(ls['y']-_0x4de265)*_0x209f68['alignment']['y']+_0x209f68['padding']['y'];return{'bounds':new re(_0x5a567e,_0x180422,_0x1f7364,_0x4de265)};}function _0x116ad6(_0x2549d9){const _0x215f85=[];for(let _0x47ea4b=-0x65*0x1f+0x4*0x19a+0x5d3;_0x47ea4b<_0x2549d9['length'];++_0x47ea4b){const _0x339de1=_0x2549d9[_0x47ea4b],_0x3ef037=Math['max'](_0xfd0643(_0x339de1,'minWidth'),-0xdfc+0xd*-0x1b7+-0x2447*-0x1),_0x357ef8=Math['max'](_0xfd0643(_0x339de1,'minHeight'),0xe9b*0x2+0x7a6*-0x2+-0xdea),_0x432a9b=Math['max'](_0xfd0643(_0x339de1,'maxWidth'),_0x3ef037),_0x338414=Math['max'](_0xfd0643(_0x339de1,'maxHeight'),_0x357ef8),_0x17018b=_0xa58ea4(_0xfd0643(_0x339de1,'width'),_0x3ef037,_0x432a9b),_0x1c9b4d=_0xa58ea4(_0xfd0643(_0x339de1,'height'),_0x357ef8,_0x338414),_0x310438=_0xfd0643(_0x339de1,'fitWidthPr'+'oportion'),_0x3d15dd=_0xfd0643(_0x339de1,'fitHeightP'+'roportion');_0x215f85['push']({'minWidth':_0x3ef037,'minHeight':_0x357ef8,'maxWidth':_0x432a9b,'maxHeight':_0x338414,'width':_0x17018b,'height':_0x1c9b4d,'fitWidthProportion':_0x310438,'fitHeightProportion':_0x3d15dd});}return _0x215f85;}function _0xfd0643(_0x22e98c,_0x56da2d){const _0x2666d4=_0x22e98c['entity']['layoutchil'+'d'];return _0x2666d4&&_0x2666d4['enabled']&&_0x2666d4[_0x56da2d]!==void(0x10f5+0x5d*0x3b+-0x2664)&&_0x2666d4[_0x56da2d]!==null?_0x2666d4[_0x56da2d]:_0x22e98c[_0x56da2d]!==void(-0x1*0x16f6+0x1*-0x28f+-0x2f*-0x8b)?_0x22e98c[_0x56da2d]:VR[_0x56da2d];}function _0xa58ea4(_0x1a260c,_0x2fed06,_0x5ec404){return Math['min'](Math['max'](_0x1a260c,_0x2fed06),_0x5ec404);}function _0x599e7b(_0x4426eb,_0x16afb6){return _0x4426eb['reduce']((_0x9c12f,_0x287c73)=>_0x9c12f+_0x287c73[_0x16afb6],0x1502*0x1+0x2605+-0x3b07);}function _0xc35f94(_0x5acde9,_0x520e37){const _0x26a301=_0x599e7b(_0x5acde9,_0x520e37),_0x163feb=[],_0x3a9c3b=_0x5acde9['length'];if(_0x26a301===-0x2263*0x1+0x1e49*-0x1+-0x2056*-0x2){for(let _0x36fce9=0x4*0x732+0x23a8+-0x10*0x407;_0x36fce9<_0x3a9c3b;++_0x36fce9)_0x163feb['push']((-0x3*0x119+-0x1*0x217c+-0x358*-0xb)/_0x3a9c3b);}else{for(let _0x1f7f39=0x193e+-0xaea+0x4*-0x395;_0x1f7f39<_0x3a9c3b;++_0x1f7f39)_0x163feb['push'](_0x5acde9[_0x1f7f39][_0x520e37]/_0x26a301);}return _0x163feb;}function _0x3aa54c(_0x442475){if(_0x442475['length']===-0x1ece+0xb*0x4f+0x1b6a*0x1)return[0x17eb+-0x1*0x17e9+-0x1*0x1];const _0x231b04=[],_0x66ac31=_0x442475['length'];for(let _0x48dc50=-0x2020+0x2ee+0x1d32;_0x48dc50<_0x66ac31;++_0x48dc50)_0x231b04['push']((-0x36*0x10+0xb4a+-0x7e9-_0x442475[_0x48dc50])/(_0x66ac31-(0x86e+0x74*0x49+-0x11*0x271)));return _0x231b04;}function _0x1ebff1(_0x585fd5,_0x40eac2,_0x661dd5){return _0x585fd5['forEach'](_0x14e231),_0x585fd5['slice']()['sort']((_0x9ef278,_0x32e9bc)=>_0x661dd5?_0x32e9bc[_0x40eac2]-_0x9ef278[_0x40eac2]:_0x9ef278[_0x40eac2]-_0x32e9bc[_0x40eac2])['map'](_0x1944c5);}function _0x14e231(_0x55faab,_0x171c57){_0x55faab['index']=_0x171c57;}function _0x1944c5(_0x39abad){return _0x39abad['index'];}function _0x4f291b(_0x54b688,_0x4b37c0){const _0x2bc096=[];_0x2bc096[_0x4b37c0[_0x54b688['length']-(0x1*0x1ceb+0x1282+-0x2f6c)]]=_0x54b688[_0x4b37c0[_0x54b688['length']-(-0x40*0x40+0x2474+0x1*-0x1473)]];for(let _0x464c02=_0x54b688['length']-(0xca8+0x1d11+-0xb5*0x3b);_0x464c02>=-0x1511+-0x1c9*-0x1+-0x269*-0x8;--_0x464c02)_0x2bc096[_0x4b37c0[_0x464c02]]=_0x2bc096[_0x4b37c0[_0x464c02+(-0xcb6+0x43*0x25+-0xc2*-0x4)]]+_0x54b688[_0x4b37c0[_0x464c02]];return _0x2bc096;}return _0x281e80;}const xm={};xm[Ce]=t0(Ce),xm[je]=t0(je);class GR{['calculateL'+'ayout'](_0x2f015a,_0x56bbc2){const _0x4e5dd1=xm[_0x56bbc2['orientatio'+'n']];if(_0x4e5dd1)return _0x4e5dd1(_0x2f015a,_0x56bbc2);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x56bbc2['orientatio'+'n']);}}function Jg(_0x3d1ab8){return _0x3d1ab8['element'];}function HR(_0x1fa412){return _0x1fa412['enabled']&&_0x1fa412['element']&&_0x1fa412['element']['enabled'];}class s0 extends we{constructor(_0x239ad1,_0x573ef6){super(_0x239ad1,_0x573ef6),h(this,'_orientati'+'on',Ce),h(this,'_reverseX',!(-0x187*0x3+0xf85+-0xaef*0x1)),h(this,'_reverseY',!(0xa2b+-0x1*0x25ab+0x6e*0x40)),h(this,'_alignment',new J(-0xf93+-0x2*0x3d0+0x1733,-0x1456+-0x44*-0x58+-0x309)),h(this,'_padding',new re()),h(this,'_spacing',new J()),h(this,'_widthFitt'+'ing',Nu),h(this,'_heightFit'+'ting',Nu),h(this,'_wrap',!(-0x1*-0x232f+-0x2534+0x206)),h(this,'_layoutCal'+'culator',new GR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x49121a=>{this['_listenFor'+'ReflowEven'+'ts'](_0x49121a,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),w['assert'](_0x239ad1['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x239ad1['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x239ad1['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),w['assert'](_0x239ad1['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x239ad1['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x239ad1['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x1ddb27){_0x1ddb27!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x1ddb27,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x4b5754){_0x4b5754!==this['_reverseX']&&(this['_reverseX']=_0x4b5754,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x56aa96){_0x56aa96!==this['_reverseY']&&(this['_reverseY']=_0x56aa96,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0xe7ece4){_0xe7ece4['equals'](this['_alignment'])||(this['_alignment']['copy'](_0xe7ece4),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x53b476){_0x53b476['equals'](this['_padding'])||(this['_padding']['copy'](_0x53b476),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x3b402c){_0x3b402c['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x3b402c),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0x3686a1){_0x3686a1!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0x3686a1,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x2a3966){_0x2a3966!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x2a3966,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x536520){_0x536520!==this['_wrap']&&(this['_wrap']=_0x536520,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x45ea10){return _0x45ea10===this['entity']||this['entity']['children']['indexOf'](_0x45ea10)!==-(-0x5*-0x533+-0x1d7a+0x37c);}['_listenFor'+'ReflowEven'+'ts'](_0x53dc14,_0x545efb){_0x53dc14['element']&&(_0x53dc14['element'][_0x545efb]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x53dc14['element'][_0x545efb]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x53dc14['element'][_0x545efb]('resize',this['_scheduleR'+'eflow'],this),_0x53dc14['element'][_0x545efb]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x53dc14['layoutchil'+'d']&&(_0x53dc14['layoutchil'+'d'][_0x545efb]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x53dc14['layoutchil'+'d'][_0x545efb]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x1b09f0){this['_isSelfOrC'+'hild'](_0x1b09f0)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x1b09f0,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x462e35){this['_isSelfOrC'+'hild'](_0x462e35)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x462e35,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x183f7e){this['_listenFor'+'ReflowEven'+'ts'](_0x183f7e,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x1cc480){this['_listenFor'+'ReflowEven'+'ts'](_0x1cc480,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0x3e3f86=Jg(this['entity']),_0x3542b1=this['entity']['children']['filter'](HR)['map'](Jg);if(!_0x3e3f86||_0x3542b1['length']===-0x533*0x1+0xb98+0x665*-0x1)return;const _0x1381a6=Math['max'](_0x3e3f86['calculated'+'Width'],-0xa*0x140+-0xa4a*-0x1+0x236),_0x3414a0=Math['max'](_0x3e3f86['calculated'+'Height'],-0x1257+0x283*-0x1+0x14da),_0x171ac3={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new J(_0x1381a6,_0x3414a0)};this['_isPerform'+'ingReflow']=!(0x21f2+-0x1041+-0x11b1*0x1);const _0x18228a=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x3542b1,_0x171ac3);this['_isPerform'+'ingReflow']=!(-0x1179*0x2+0x1d17+0x5dc),this['fire']('reflow',_0x18228a);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x2643bf=>{this['_listenFor'+'ReflowEven'+'ts'](_0x2643bf,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class WR{constructor(){this['enabled']=!(0x1020+0x4d+0x1*-0x106d);}}const i0=['enabled'],$R=0x1e04+-0x1577*0x1+-0x829;class XR extends ct{constructor(_0x1e21c8){super(_0x1e21c8),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=s0,this['DataType']=WR,this['schema']=i0,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x9d2b3f,_0x2c91f2,_0x4adb8f){_0x2c91f2['enabled']!==void(-0x1b22+-0xc69+-0x1*-0x278b)&&(_0x9d2b3f['enabled']=_0x2c91f2['enabled']),_0x2c91f2['orientatio'+'n']!==void(0x2488+-0x1ec1+-0x5c7)&&(_0x9d2b3f['orientatio'+'n']=_0x2c91f2['orientatio'+'n']),_0x2c91f2['reverseX']!==void(-0x3*-0x5cb+-0x6c3+-0x3*0x38a)&&(_0x9d2b3f['reverseX']=_0x2c91f2['reverseX']),_0x2c91f2['reverseY']!==void(0x1c*-0xbb+-0x1*0x1696+0x2b0a)&&(_0x9d2b3f['reverseY']=_0x2c91f2['reverseY']),_0x2c91f2['alignment']!==void(0xeb7*-0x1+-0x51a+-0x13d1*-0x1)&&(_0x9d2b3f['alignment']=Array['isArray'](_0x2c91f2['alignment'])?new J(_0x2c91f2['alignment']):_0x2c91f2['alignment']),_0x2c91f2['padding']!==void(-0x119a+0x198+0x3*0x556)&&(_0x9d2b3f['padding']=Array['isArray'](_0x2c91f2['padding'])?new re(_0x2c91f2['padding']):_0x2c91f2['padding']),_0x2c91f2['spacing']!==void(-0x7*-0x175+-0x1cf9+0x12c6)&&(_0x9d2b3f['spacing']=Array['isArray'](_0x2c91f2['spacing'])?new J(_0x2c91f2['spacing']):_0x2c91f2['spacing']),_0x2c91f2['widthFitti'+'ng']!==void(-0xb30+0x3a5+0x1*0x78b)&&(_0x9d2b3f['widthFitti'+'ng']=_0x2c91f2['widthFitti'+'ng']),_0x2c91f2['heightFitt'+'ing']!==void(0x2*0x1126+0xb48+-0x2d94)&&(_0x9d2b3f['heightFitt'+'ing']=_0x2c91f2['heightFitt'+'ing']),_0x2c91f2['wrap']!==void(-0x1b84+-0x1c4*-0x14+-0x1*0x7cc)&&(_0x9d2b3f['wrap']=_0x2c91f2['wrap']),super['initialize'+'ComponentD'+'ata'](_0x9d2b3f,_0x2c91f2,_0x4adb8f);}['cloneCompo'+'nent'](_0x56bea4,_0x1bfa69){const _0x54a1f1=_0x56bea4['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x1bfa69,{'enabled':_0x54a1f1['enabled'],'orientation':_0x54a1f1['orientatio'+'n'],'reverseX':_0x54a1f1['reverseX'],'reverseY':_0x54a1f1['reverseY'],'alignment':_0x54a1f1['alignment'],'padding':_0x54a1f1['padding'],'spacing':_0x54a1f1['spacing'],'widthFitting':_0x54a1f1['widthFitti'+'ng'],'heightFitting':_0x54a1f1['heightFitt'+'ing'],'wrap':_0x54a1f1['wrap']});}['scheduleRe'+'flow'](_0x2f4afd){this['_reflowQue'+'ue']['indexOf'](_0x2f4afd)===-(-0x5f9*0x3+-0x6*-0x66f+0x14ae*-0x1)&&this['_reflowQue'+'ue']['push'](_0x2f4afd);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===-0xd5+-0x1a*-0xf1+-0x17a5)return;let _0x4d3eea=-0x68d+-0x28c+0x919;for(;this['_reflowQue'+'ue']['length']>0x13*-0x1f5+0x1c19+0x916;){const _0xa5afcb=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=-0x83*-0x2e+-0x2500+0xd76,_0xa5afcb['sort']((_0x8073df,_0x250461)=>_0x8073df['entity']['graphDepth']-_0x250461['entity']['graphDepth']);for(let _0x29264a=0xe99+0x1b26+0x1*-0x29bf;_0x29264a<_0xa5afcb['length'];++_0x29264a)_0xa5afcb[_0x29264a]['reflow']();if(++_0x4d3eea>=$R){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x4b454e,_0x1e2ef9){_0x1e2ef9['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}we['_buildAcce'+'ssors'](s0['prototype'],i0);class qR{constructor(){h(this,'map',new Map());}['destroy'](_0x3ce4d7){this['map']['forEach'](_0x394726=>_0x394726['mesh']['destroy']());}}const jR=new Kt(),r0=(_0x23eded,_0x578447)=>{const _0x1d8a9d=jR['get'](_0x23eded,()=>new qR());let _0x54ea91=_0x1d8a9d['map']['get'](_0x578447);if(!_0x54ea91){let _0x16230a,_0x58cd5d;switch(_0x578447){case'box':_0x16230a=Ge['fromGeomet'+'ry'](_0x23eded,new mu()),_0x58cd5d={'x':0x2,'y':0x2,'z':0x2,'uv':(-0x265c+-0x1*0xbca+0x3228)/(-0x16ec+0x623*-0x3+0xc4*0x36)};break;case'capsule':_0x16230a=Ge['fromGeomet'+'ry'](_0x23eded,new GA({'radius':0.5,'height':0x2})),_0x58cd5d={'x':Math['PI']*(-0x10de*0x1+0x243d+-0x135d*0x1),'y':Math['PI'],'z':Math['PI']*(-0x135d*0x2+-0x2276+0x4932),'uv':(-0x1*-0x1372+0x22e8+0x3659*-0x1)/(0x2539+-0xa32+-0x214*0xd)+(0x22ea+0x2192+0x1*-0x447b)/(-0x40+0xed8+-0xe95)/(0x47a+-0x5ab*-0x3+0xc*-0x1ca)*(0x433*0x1+-0x6f4+-0x2c3*-0x1)};break;case'cone':_0x16230a=Ge['fromGeomet'+'ry'](_0x23eded,new HA({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x58cd5d={'x':2.54,'y':2.54,'z':2.54,'uv':(0x187d+0xb1b*0x1+-0xbdd*0x3)/(-0x1a7*-0xe+-0xe81+-0x89e)+(-0x203*0x1+0x1*-0x9b9+0x5*0x259)/(-0x219+-0x3*-0xa67+-0x1d19)/(0x1e71+0x2c*0x2b+-0x25d2)};break;case'cylinder':_0x16230a=Ge['fromGeomet'+'ry'](_0x23eded,new WA({'radius':0.5,'height':0x1})),_0x58cd5d={'x':Math['PI'],'y':(0x1bf2+0x1bca+0x1294*-0x3+0.79)*(-0xa13*0x1+0x8*-0x3d+0xbfd),'z':Math['PI'],'uv':(0x30+0x1538+0x1*-0x1567)/(0x15af+0x119*-0x1+-0x1493)+(-0xb*-0x265+0x204b+-0x3aa1)/(0x27*-0xe5+0x3*-0x47f+-0x3*-0x1021)/(0x8ff+-0x219c+0xc5*0x20)*(-0x4b1*0x1+0xbce+0x11*-0x6b)};break;case'plane':_0x16230a=Ge['fromGeomet'+'ry'](_0x23eded,new $A({'halfExtents':new J(-0x1*-0xfee+-0x2*-0xed4+0x185*-0x1e+0.5,-0x3*0x8e+0xd81*0x1+-0xbd7+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x58cd5d={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x16230a=Ge['fromGeomet'+'ry'](_0x23eded,new _m({'radius':0.5})),_0x58cd5d={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x16230a=Ge['fromGeomet'+'ry'](_0x23eded,new XA({'tubeRadius':0.2,'ringRadius':0.3})),_0x58cd5d={'x':Math['PI']*(-0x5e*-0x24+-0x31b+-0xa1d+0.5)*(-0x3ef*-0x5+0x5a5+0x3c*-0x6c+0.5)-Math['PI']*(-0x1622+-0x1*0x1602+0x2c24+0.1)*(0xea4+0x1*0x156a+-0x240e+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x578447);}_0x16230a['incRefCoun'+'t'](),_0x54ea91={'mesh':_0x16230a,'area':_0x58cd5d},_0x1d8a9d['map']['set'](_0x578447,_0x54ea91);}return _0x54ea91;};class Tm extends we{constructor(_0x169f22,_0x1f73db){super(_0x169f22,_0x1f73db),h(this,'_type','asset'),h(this,'_asset',null),h(this,'_model',null),h(this,'_mapping',{}),h(this,'_castShado'+'ws',!(0x1809+-0x1b60+0x13*0x2d)),h(this,'_receiveSh'+'adows',!(-0x1*-0x2020+0x125a+-0x1a*0x1f1)),h(this,'_materialA'+'sset',null),h(this,'_material'),h(this,'_castShado'+'wsLightmap',!(-0xf*0x10a+0x198b+-0x9f5)),h(this,'_lightmapp'+'ed',!(0xc*0x30e+0x13da+0x523*-0xb)),h(this,'_lightmapS'+'izeMultipl'+'ier',0x3d*-0x45+0xa9f+0x5d3),h(this,'isStatic',!(-0xc6b+-0x11f*-0x19+-0xf9b)),h(this,'_layers',[er]),h(this,'_batchGrou'+'pId',-(-0x10d+0x1*0x157f+0x1*-0x1471)),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_materialE'+'vents',null),h(this,'_clonedMod'+'el',!(-0x9fb+-0x829+0x1225)),h(this,'_batchGrou'+'p',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x169f22['defaultMat'+'erial'],_0x1f73db['on']('remove',this['onRemoveCh'+'ild'],this),_0x1f73db['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x1f73db['on']('insert',this['onInsertCh'+'ild'],this),_0x1f73db['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x5915f2){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x5915f2);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x132b8c){if(this['_customAab'+'b']=_0x132b8c,this['_model']){const _0x278222=this['_model']['meshInstan'+'ces'];if(_0x278222){for(let _0x66a8e5=0x1cbc+0xcb6+-0x2972*0x1;_0x66a8e5<_0x278222['length'];_0x66a8e5++)_0x278222[_0x66a8e5]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x5ee85c){if(this['_type']!==_0x5ee85c){if(this['_area']=null,this['_type']=_0x5ee85c,_0x5ee85c==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x192823=r0(this['system']['app']['graphicsDe'+'vice'],_0x5ee85c);this['_area']=_0x192823['area'];const _0x4373cf=_0x192823['mesh'],_0x48941e=new Ie(),_0x3f83c1=new sr();_0x3f83c1['graph']=_0x48941e,_0x3f83c1['meshInstan'+'ces']=[new He(_0x4373cf,this['_material'],_0x48941e)],this['model']=_0x3f83c1,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x128cd5){const _0x532c4b=this['system']['app']['assets'];let _0x3e26f0=_0x128cd5;if(_0x128cd5 instanceof pe&&(_0x3e26f0=_0x128cd5['id']),this['_asset']!==_0x3e26f0){if(this['_asset']){_0x532c4b['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x5032e3=_0x532c4b['get'](this['_asset']);_0x5032e3&&this['_unbindMod'+'elAsset'](_0x5032e3);}if(this['_asset']=_0x3e26f0,this['_asset']){const _0xaa64d5=_0x532c4b['get'](this['_asset']);_0xaa64d5?this['_bindModel'+'Asset'](_0xaa64d5):(this['model']=null,_0x532c4b['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x95e765){if(this['_model']!==_0x95e765){if(_0x95e765&&_0x95e765['_immutable']){w['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(0x3*0xb39+0xe45+-0x1*0x2fef),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(0x1a81*0x1+0x2579+-0x3ff9))),this['_model']=_0x95e765,this['_model']){this['_model']['_immutable']=!(0x111a+0x31*0x1d+0x3*-0x78d);const _0x34ba47=this['_model']['meshInstan'+'ces'];for(let _0x54189f=0x949*-0x1+-0x87*-0xb+0x37c;_0x54189f<_0x34ba47['length'];_0x54189f++)_0x34ba47[_0x54189f]['castShadow']=this['_castShado'+'ws'],_0x34ba47[_0x54189f]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x34ba47[_0x54189f]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x22146e){if(_0x22146e!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x22146e,this['_model'])){const _0x15d03e=this['_model']['meshInstan'+'ces'];for(let _0x3ea0f9=0x1a19+-0x990+0x3*-0x583;_0x3ea0f9<_0x15d03e['length'];_0x3ea0f9++)_0x15d03e[_0x3ea0f9]['setLightma'+'pped'](_0x22146e);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x49b842){if(this['_castShado'+'ws']===_0x49b842)return;const _0x254e09=this['_model'];if(_0x254e09){const _0x402576=this['layers'],_0x56c0d1=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x49b842)for(let _0x4581c5=-0x9*-0x44d+-0x11a5*-0x1+0x1c2d*-0x2;_0x4581c5<_0x402576['length'];_0x4581c5++){const _0xcc7b49=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4581c5]);_0xcc7b49&&_0xcc7b49['removeShad'+'owCasters'](_0x254e09['meshInstan'+'ces']);}const _0x509020=_0x254e09['meshInstan'+'ces'];for(let _0x4b17c1=-0x2b*-0x46+0x457*-0x7+-0x7*-0x2a9;_0x4b17c1<_0x509020['length'];_0x4b17c1++)_0x509020[_0x4b17c1]['castShadow']=_0x49b842;if(!this['_castShado'+'ws']&&_0x49b842)for(let _0x5b1448=0x3*-0xcf7+0x1*0x617+0x20ce;_0x5b1448<_0x402576['length'];_0x5b1448++){const _0xcfc2dd=_0x56c0d1['layers']['getLayerBy'+'Id'](_0x402576[_0x5b1448]);_0xcfc2dd&&_0xcfc2dd['addShadowC'+'asters'](_0x254e09['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x49b842;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x1c954e){if(this['_receiveSh'+'adows']!==_0x1c954e&&(this['_receiveSh'+'adows']=_0x1c954e,this['_model'])){const _0x1036b9=this['_model']['meshInstan'+'ces'];for(let _0x5f305b=-0xbf6*-0x1+0xc3a+-0x1830,_0x1f43f3=_0x1036b9['length'];_0x5f305b<_0x1f43f3;_0x5f305b++)_0x1036b9[_0x5f305b]['receiveSha'+'dow']=_0x1c954e;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x5b5f29){this['_castShado'+'wsLightmap']=_0x5b5f29;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x495795){this['_lightmapS'+'izeMultipl'+'ier']=_0x495795;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0xec588c){const _0x2fe18a=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x41c6cf=0xd3a+0x4b6+-0x7*0x290;_0x41c6cf<this['_layers']['length'];_0x41c6cf++){const _0x44b21e=_0x2fe18a['getLayerBy'+'Id'](this['_layers'][_0x41c6cf]);_0x44b21e&&_0x44b21e['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=0xcc3*0x3+0x2*0xb95+0x1*-0x3d73;for(let _0x489f2d=-0x16ba+-0x266e*-0x1+0x43*-0x3c;_0x489f2d<_0xec588c['length'];_0x489f2d++)this['_layers'][_0x489f2d]=_0xec588c[_0x489f2d];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x47902d=0x876+0x14c1+-0x1d37;_0x47902d<this['_layers']['length'];_0x47902d++){const _0x11514b=_0x2fe18a['getLayerBy'+'Id'](this['_layers'][_0x47902d]);_0x11514b&&_0x11514b['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0xc69819){var _0x224b05,_0x38751b;this['_batchGrou'+'pId']!==_0xc69819&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x13d3+0x49*-0x47+-0x2*-0x36&&((_0x224b05=this['system']['app']['batcher'])==null||_0x224b05['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0xc69819>=-0x43*-0x65+0x6c0+-0x212f&&((_0x38751b=this['system']['app']['batcher'])==null||_0x38751b['insert'](St['MODEL'],_0xc69819,this['entity'])),_0xc69819<-0x95f+0x1e56+-0x14f7*0x1&&this['_batchGrou'+'pId']>=0x49d+0xe1b+-0x12b8&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0xc69819);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x14ec46){let _0x159175=_0x14ec46;_0x14ec46 instanceof pe&&(_0x159175=_0x14ec46['id']);const _0x3c267c=this['system']['app']['assets'];if(_0x159175!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x3c267c['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x1bb021=_0x3c267c['get'](this['_materialA'+'sset']);_0x1bb021&&this['_unbindMat'+'erialAsset'](_0x1bb021);}if(this['_materialA'+'sset']=_0x159175,this['_materialA'+'sset']){const _0xa00f2e=_0x3c267c['get'](this['_materialA'+'sset']);_0xa00f2e?this['_bindMater'+'ialAsset'](_0xa00f2e):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x3c267c['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x89587b){this['_material']!==_0x89587b&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x89587b));}get['material'](){return this['_material'];}set['mapping'](_0x5c03ef){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x5c03ef||(_0x5c03ef={}),this['_mapping']=_0x5c03ef,!this['_model']))return;const _0x3210b8=this['_model']['meshInstan'+'ces'],_0x294b01=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x40f281=_0x294b01?_0x294b01['data']['mapping']:null;let _0x1c0ac3=null;for(let _0x8442a=-0x429*0x2+-0x2705+0x2f57,_0x3a8d67=_0x3210b8['length'];_0x8442a<_0x3a8d67;_0x8442a++)if(_0x5c03ef[_0x8442a]!==void(-0xcc5+0x23*-0xed+0x2d2c))_0x5c03ef[_0x8442a]?(_0x1c0ac3=this['system']['app']['assets']['get'](_0x5c03ef[_0x8442a]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x1c0ac3,_0x3210b8[_0x8442a],_0x8442a)):_0x3210b8[_0x8442a]['material']=this['system']['defaultMat'+'erial'];else{if(_0x40f281){if(_0x40f281[_0x8442a]&&(_0x40f281[_0x8442a]['material']||_0x40f281[_0x8442a]['path'])){if(_0x40f281[_0x8442a]['material']!==void(0x7*-0x35f+-0xec5+0xcca*0x3))_0x1c0ac3=this['system']['app']['assets']['get'](_0x40f281[_0x8442a]['material']);else{if(_0x40f281[_0x8442a]['path']!==void(0x13b7*0x1+0xf22+0x22d9*-0x1)){const _0x464064=this['_getMateri'+'alAssetUrl'](_0x40f281[_0x8442a]['path']);_0x464064&&(_0x1c0ac3=this['system']['app']['assets']['getByUrl'](_0x464064));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x1c0ac3,_0x3210b8[_0x8442a],_0x8442a);}else _0x3210b8[_0x8442a]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x111678=this['system']['app']['scene']['layers'];for(let _0x4d8a78=-0x705+0x9*-0x3af+0x282c;_0x4d8a78<this['_layers']['length'];_0x4d8a78++){const _0x225a7d=_0x111678['getLayerBy'+'Id'](this['_layers'][_0x4d8a78]);_0x225a7d&&_0x225a7d['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x4bdaf6=this['system']['app']['scene']['layers'];for(let _0xf47301=-0x1d73+-0x1a96+0x3809;_0xf47301<this['_layers']['length'];_0xf47301++){const _0x30ac25=_0x4bdaf6['getLayerBy'+'Id'](this['_layers'][_0xf47301]);_0x30ac25&&_0x30ac25['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x7a5c9b,_0x5ebe9b){this['addModelTo'+'Layers'](),_0x7a5c9b['off']('add',this['onLayerAdd'+'ed'],this),_0x7a5c9b['off']('remove',this['onLayerRem'+'oved'],this),_0x5ebe9b['on']('add',this['onLayerAdd'+'ed'],this),_0x5ebe9b['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x46d997){this['layers']['indexOf'](_0x46d997['id'])<-0xb3*0x20+0xd3*-0x2e+0x3c4a||_0x46d997['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x2bb0d2){this['layers']['indexOf'](_0x2bb0d2['id'])<-0x2b7*0x5+0x204+0xb8f||_0x2bb0d2['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x4e5130,_0x29062b,_0x493ccc,_0x2cb9af){const _0x19c7d0=_0x29062b+':'+_0x493ccc;this['system']['app']['assets']['on'](_0x19c7d0,_0x2cb9af,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x4e5130]||(this['_materialE'+'vents'][_0x4e5130]={}),this['_materialE'+'vents'][_0x4e5130][_0x19c7d0]={'id':_0x493ccc,'handler':_0x2cb9af};}['_unsetMate'+'rialEvents'](){const _0x2ecc6c=this['system']['app']['assets'],_0x4ea230=this['_materialE'+'vents'];if(_0x4ea230){for(let _0x49a85a=0x2561+0x2597+-0x4*0x12be,_0x611225=_0x4ea230['length'];_0x49a85a<_0x611225;_0x49a85a++){if(!_0x4ea230[_0x49a85a])continue;const _0x24cc1f=_0x4ea230[_0x49a85a];for(const _0x4c85d6 in _0x24cc1f)_0x2ecc6c['off'](_0x4c85d6,_0x24cc1f[_0x4c85d6]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x5086cd){let _0x4e754b=null;if(!isNaN(parseInt(_0x5086cd,0xbcb+-0x11b4+0x5f3*0x1)))_0x4e754b=this['system']['app']['assets']['get'](_0x5086cd);else{if(this['asset']){const _0x26ed28=this['_getMateri'+'alAssetUrl'](_0x5086cd);_0x26ed28&&(_0x4e754b=this['system']['app']['assets']['getByUrl'](_0x26ed28));}}return _0x4e754b;}['_getMateri'+'alAssetUrl'](_0x5c7b70){if(!this['asset'])return null;const _0x50a087=this['system']['app']['assets']['get'](this['asset']);return _0x50a087?_0x50a087['getAbsolut'+'eUrl'](_0x5c7b70):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x233810,_0x510d4,_0x5b6b88){const _0x1dcfb9=this['system']['app']['assets'];_0x233810&&(_0x233810['resource']?(_0x510d4['material']=_0x233810['resource'],this['_setMateri'+'alEvent'](_0x5b6b88,'remove',_0x233810['id'],function(){_0x510d4['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x5b6b88,'load',_0x233810['id'],function(_0x4fc08a){_0x510d4['material']=_0x4fc08a['resource'],this['_setMateri'+'alEvent'](_0x5b6b88,'remove',_0x233810['id'],function(){_0x510d4['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x1dcfb9['load'](_0x233810)));}['onEnable'](){var _0x5d3a13;const _0x58ee9a=this['system']['app'],_0x44a83f=_0x58ee9a['scene'],_0x2aad81=_0x44a83f==null?void(-0x7*-0x301+0x20d1+-0x35d8):_0x44a83f['layers'];this['_evtLayers'+'Changed']=_0x44a83f['on']('set:layers',this['onLayersCh'+'anged'],this),_0x2aad81&&(this['_evtLayerA'+'dded']=_0x2aad81['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x2aad81['on']('remove',this['onLayerRem'+'oved'],this));const _0x7ba51a=this['_type']==='asset';let _0x26dc64;if(this['_model']?this['addModelTo'+'Layers']():_0x7ba51a&&this['_asset']&&(_0x26dc64=_0x58ee9a['assets']['get'](this['_asset']),_0x26dc64&&_0x26dc64['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x26dc64)),this['_materialA'+'sset']&&(_0x26dc64=_0x58ee9a['assets']['get'](this['_materialA'+'sset']),_0x26dc64&&_0x26dc64['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x26dc64)),_0x7ba51a&&this['_mapping']){for(const _0x5c00f1 in this['_mapping'])this['_mapping'][_0x5c00f1]&&(_0x26dc64=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x5c00f1]),_0x26dc64&&!_0x26dc64['resource']&&_0x58ee9a['assets']['load'](_0x26dc64));}this['_batchGrou'+'pId']>=0x2*-0x8b5+-0x1fa0+0x310a&&((_0x5d3a13=_0x58ee9a['batcher'])==null||_0x5d3a13['insert'](St['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x252b7f,_0x320de9,_0x51eccb,_0x333a60;const _0x956716=this['system']['app'],_0x2abeae=_0x956716['scene']['layers'];(_0x252b7f=this['_evtLayers'+'Changed'])==null||_0x252b7f['off'](),this['_evtLayers'+'Changed']=null,_0x2abeae&&((_0x320de9=this['_evtLayerA'+'dded'])==null||_0x320de9['off'](),this['_evtLayerA'+'dded']=null,(_0x51eccb=this['_evtLayerR'+'emoved'])==null||_0x51eccb['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=-0x1*-0xaf3+0x1582*0x1+-0x2075&&((_0x333a60=_0x956716['batcher'])==null||_0x333a60['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x528a0c=this['_model']['meshInstan'+'ces'];for(let _0x569082=0xbdf+0x2652+0x3*-0x10bb,_0x2ae8f5=_0x528a0c['length'];_0x569082<_0x2ae8f5;_0x569082++)_0x528a0c[_0x569082]['visible']=!(0x9fa*0x1+-0x1*0x1d3+-0x7*0x12a);}}['show'](){if(this['_model']){const _0x33888b=this['_model']['meshInstan'+'ces'];for(let _0x5f9aaf=-0x1cca+-0x89*-0x2f+-0x1*-0x3a3,_0x2c9072=_0x33888b['length'];_0x5f9aaf<_0x2c9072;_0x5f9aaf++)_0x33888b[_0x5f9aaf]['visible']=!(-0x1cad+0x1179+0xb34);}}['_bindMater'+'ialAsset'](_0x4edf22){if(_0x4edf22['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x4edf22['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x4edf22['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x4edf22['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x4edf22['resource'])this['_onMateria'+'lAssetLoad'](_0x4edf22);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x4edf22);}}['_unbindMat'+'erialAsset'](_0x1e6972){_0x1e6972['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x1e6972['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x1e6972['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x1e6972['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x5e4921){this['system']['app']['assets']['off']('add:'+_0x5e4921['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x5e4921['id']&&this['_bindMater'+'ialAsset'](_0x5e4921);}['_onMateria'+'lAssetLoad'](_0x360b46){this['_setMateri'+'al'](_0x360b46['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x3d03e1){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x3cb05f){this['_onMateria'+'lAssetUnlo'+'ad'](_0x3cb05f);}['_onMateria'+'lAssetChan'+'ge'](_0x48100e){}['_bindModel'+'Asset'](_0x384b73){if(this['_unbindMod'+'elAsset'](_0x384b73),_0x384b73['on']('load',this['_onModelAs'+'setLoad'],this),_0x384b73['on']('unload',this['_onModelAs'+'setUnload'],this),_0x384b73['on']('change',this['_onModelAs'+'setChange'],this),_0x384b73['on']('remove',this['_onModelAs'+'setRemove'],this),_0x384b73['resource'])this['_onModelAs'+'setLoad'](_0x384b73);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x384b73);}}['_unbindMod'+'elAsset'](_0x51cc10){_0x51cc10['off']('load',this['_onModelAs'+'setLoad'],this),_0x51cc10['off']('unload',this['_onModelAs'+'setUnload'],this),_0x51cc10['off']('change',this['_onModelAs'+'setChange'],this),_0x51cc10['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x1199c7){this['system']['app']['assets']['off']('add:'+_0x1199c7['id'],this['_onModelAs'+'setAdded'],this),_0x1199c7['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x1199c7);}['_onModelAs'+'setLoad'](_0x3b73a7){this['model']=_0x3b73a7['resource']['clone'](),this['_clonedMod'+'el']=!(0xb9*-0x13+0x62c*0x2+0x5*0x47);}['_onModelAs'+'setUnload'](_0x10f48e){this['model']=null;}['_onModelAs'+'setChange'](_0x4d405e,_0x182bdd,_0x3cb739,_0x389a72){_0x182bdd==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x5c6aab){this['model']=null;}['_setMateri'+'al'](_0x4d40c3){if(this['_material']===_0x4d40c3)return;this['_material']=_0x4d40c3;const _0x5211e5=this['_model'];if(_0x5211e5&&this['_type']!=='asset'){const _0xae7eb1=_0x5211e5['meshInstan'+'ces'];for(let _0xac97dc=0xd3*0x16+0x1547+-0x2769,_0x4657a1=_0xae7eb1['length'];_0xac97dc<_0x4657a1;_0xac97dc++)_0xae7eb1[_0xac97dc]['material']=_0x4d40c3;}}}class YR{constructor(){this['enabled']=!(0xc7e+0x289+-0xf07);}}const a0=['enabled'];class KR extends ct{constructor(_0x319596){super(_0x319596),this['id']='model',this['ComponentT'+'ype']=Tm,this['DataType']=YR,this['schema']=a0,this['defaultMat'+'erial']=Qn(_0x319596['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x4093a7,_0x221413,_0x4fea78){_0x4fea78=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x221413['batchGroup'+'Id']===null||_0x221413['batchGroup'+'Id']===void(0x5d7+0x24d*-0xf+-0x1cac*-0x1))&&(_0x221413['batchGroup'+'Id']=-(-0x2229+0x1a4+0x2e*0xb5)),_0x221413['layers']&&_0x221413['layers']['length']&&(_0x221413['layers']=_0x221413['layers']['slice'](-0x1f2a+0x1*-0x181a+-0x624*-0x9));for(let _0x105808=-0x1495+0x79*-0x46+-0x1*-0x35ab;_0x105808<_0x4fea78['length'];_0x105808++)_0x221413['hasOwnProp'+'erty'](_0x4fea78[_0x105808])&&(_0x4093a7[_0x4fea78[_0x105808]]=_0x221413[_0x4fea78[_0x105808]]);_0x221413['aabbCenter']&&_0x221413['aabbHalfEx'+'tents']&&(_0x4093a7['customAabb']=new De(new D(_0x221413['aabbCenter']),new D(_0x221413['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x4093a7,_0x221413,['enabled']);}['cloneCompo'+'nent'](_0x595097,_0x2f399b){const _0x3e3252={'type':_0x595097['model']['type'],'asset':_0x595097['model']['asset'],'castShadows':_0x595097['model']['castShadow'+'s'],'receiveShadows':_0x595097['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x595097['model']['castShadow'+'sLightmap'],'lightmapped':_0x595097['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x595097['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x595097['model']['isStatic'],'enabled':_0x595097['model']['enabled'],'layers':_0x595097['model']['layers'],'batchGroupId':_0x595097['model']['batchGroup'+'Id'],'mapping':ah({},_0x595097['model']['mapping'])};let _0x21dfef=_0x595097['model']['materialAs'+'set'];!(_0x21dfef instanceof pe)&&_0x21dfef!=null&&(_0x21dfef=this['app']['assets']['get'](_0x21dfef));const _0x1d6634=_0x595097['model']['material'];(!_0x1d6634||_0x1d6634===this['defaultMat'+'erial']||!_0x21dfef||_0x1d6634===_0x21dfef['resource'])&&(_0x3e3252['materialAs'+'set']=_0x21dfef);const _0x47cd83=this['addCompone'+'nt'](_0x2f399b,_0x3e3252);if(_0x595097['model']['model']&&_0x595097['model']['type']==='asset'&&!_0x595097['model']['asset']&&(_0x47cd83['model']=_0x595097['model']['model']['clone'](),_0x47cd83['_clonedMod'+'el']=!(0x146*0x10+0x11d*-0x1d+0x1*0xbe9)),_0x3e3252['materialAs'+'set']||(_0x47cd83['material']=_0x1d6634),_0x595097['model']['model']){const _0x5b488a=_0x595097['model']['model']['meshInstan'+'ces'],_0x2b4e17=_0x47cd83['model']['meshInstan'+'ces'];for(let _0x1f33b6=-0x1*-0x12d1+-0x1100+0x5d*-0x5;_0x1f33b6<_0x5b488a['length'];_0x1f33b6++)_0x2b4e17[_0x1f33b6]['mask']=_0x5b488a[_0x1f33b6]['mask'],_0x2b4e17[_0x1f33b6]['material']=_0x5b488a[_0x1f33b6]['material'],_0x2b4e17[_0x1f33b6]['layer']=_0x5b488a[_0x1f33b6]['layer'],_0x2b4e17[_0x1f33b6]['receiveSha'+'dow']=_0x5b488a[_0x1f33b6]['receiveSha'+'dow'];}return _0x595097['model']['customAabb']&&(_0x47cd83['customAabb']=_0x595097['model']['customAabb']['clone']()),_0x47cd83;}['onRemove'](_0x526b70,_0x44abbf){_0x44abbf['onRemove']();}}we['_buildAcce'+'ssors'](Tm['prototype'],a0);const ZR=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],QR=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],JR=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Cc=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Ya;class e3 extends we{constructor(_0x25691b,_0x2a68ae){super(_0x25691b,_0x2a68ae),h(this,'_requested'+'Depth',!(-0x1e0d+-0x1cbb+0x95*0x65)),h(this,'_drawOrder',-0x463*0x7+-0x1118+0x2fcd),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),ZR['forEach'](_0x43c0ca=>{this['on']('set_'+_0x43c0ca,this['onSetSimpl'+'eProperty'],this);}),QR['forEach'](_0x55f67a=>{this['on']('set_'+_0x55f67a,this['onSetCompl'+'exProperty'],this);}),JR['forEach'](_0x1747cb=>{this['on']('set_'+_0x1747cb,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0x27e299=this['system']['store'][this['entity']['getGuid']()];return _0x27e299?_0x27e299['data']:null;}set['enabled'](_0x3e67ff){this['_setValue']('enabled',_0x3e67ff);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x1c0dd2){this['_setValue']('autoPlay',_0x1c0dd2);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x582356){this['_setValue']('numParticl'+'es',_0x582356);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0xb8bda6){this['_setValue']('lifetime',_0xb8bda6);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x1ea677){this['_setValue']('rate',_0x1ea677);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x1af043){this['_setValue']('rate2',_0x1af043);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0xc1fbb0){this['_setValue']('startAngle',_0xc1fbb0);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x227270){this['_setValue']('startAngle'+'2',_0x227270);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x28d6b9){this['_setValue']('loop',_0x28d6b9);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x1fb223){this['_setValue']('preWarm',_0x1fb223);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x3f8700){this['_setValue']('lighting',_0x3f8700);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x495faa){this['_setValue']('halfLamber'+'t',_0x495faa);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x2a4e17){this['_setValue']('intensity',_0x2a4e17);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0x3e7a79){this['_setValue']('depthWrite',_0x3e7a79);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0x371841){this['_setValue']('noFog',_0x371841);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x246ecd){this['_setValue']('depthSofte'+'ning',_0x246ecd);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x25e843){this['_setValue']('sort',_0x25e843);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x114d63){this['_setValue']('blendType',_0x114d63);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0x3cae55){this['_setValue']('stretch',_0x3cae55);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x5b8708){this['_setValue']('alignToMot'+'ion',_0x5b8708);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x2fb60b){this['_setValue']('emitterSha'+'pe',_0x2fb60b);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x70c249){this['_setValue']('emitterExt'+'ents',_0x70c249);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x9064c5){this['_setValue']('emitterExt'+'entsInner',_0x9064c5);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x4dbcd2){this['_setValue']('emitterRad'+'ius',_0x4dbcd2);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x39bec0){this['_setValue']('emitterRad'+'iusInner',_0x39bec0);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x373938){this['_setValue']('initialVel'+'ocity',_0x373938);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x12dd0b){this['_setValue']('wrap',_0x12dd0b);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x215d43){this['_setValue']('wrapBounds',_0x215d43);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x581a0e){this['_setValue']('localSpace',_0x581a0e);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0x2fb533){this['_setValue']('screenSpac'+'e',_0x2fb533);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x1fccfd){this['_setValue']('colorMapAs'+'set',_0x1fccfd);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x30bbe7){this['_setValue']('normalMapA'+'sset',_0x30bbe7);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x5bf82e){this['_setValue']('mesh',_0x5bf82e);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x48b9a7){this['_setValue']('meshAsset',_0x48b9a7);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x41defa){this['_setValue']('renderAsse'+'t',_0x41defa);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x51f2a1){this['_setValue']('orientatio'+'n',_0x51f2a1);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0x45bb69){this['_setValue']('particleNo'+'rmal',_0x45bb69);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0xdf32ed){this['_setValue']('localVeloc'+'ityGraph',_0xdf32ed);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x2a9c35){this['_setValue']('localVeloc'+'ityGraph2',_0x2a9c35);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x390e59){this['_setValue']('velocityGr'+'aph',_0x390e59);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x2cc61e){this['_setValue']('velocityGr'+'aph2',_0x2cc61e);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x431982){this['_setValue']('rotationSp'+'eedGraph',_0x431982);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x3a159b){this['_setValue']('rotationSp'+'eedGraph2',_0x3a159b);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x2b9253){this['_setValue']('radialSpee'+'dGraph',_0x2b9253);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x479da3){this['_setValue']('radialSpee'+'dGraph2',_0x479da3);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x49a45c){this['_setValue']('scaleGraph',_0x49a45c);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x4870d8){this['_setValue']('scaleGraph'+'2',_0x4870d8);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x33c688){this['_setValue']('colorGraph',_0x33c688);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x5ef0ce){this['_setValue']('colorGraph'+'2',_0x5ef0ce);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x4c2623){this['_setValue']('alphaGraph',_0x4c2623);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x4ee915){this['_setValue']('alphaGraph'+'2',_0x4ee915);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x352e26){this['_setValue']('colorMap',_0x352e26);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x5db824){this['_setValue']('normalMap',_0x5db824);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0xabef89){this['_setValue']('animTilesX',_0xabef89);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x57eaa9){this['_setValue']('animTilesY',_0x57eaa9);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x4c1601){this['_setValue']('animStartF'+'rame',_0x4c1601);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x17af52){this['_setValue']('animNumFra'+'mes',_0x17af52);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x4dfacf){this['_setValue']('animNumAni'+'mations',_0x4dfacf);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x138253){this['_setValue']('animIndex',_0x138253);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0x346851){this['_setValue']('randomizeA'+'nimIndex',_0x346851);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x94b411){this['_setValue']('animSpeed',_0x94b411);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x486268){this['_setValue']('animLoop',_0x486268);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x29a9bb){this['_setValue']('layers',_0x29a9bb);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x2e1a32){this['_drawOrder']=_0x2e1a32,this['emitter']&&(this['emitter']['drawOrder']=_0x2e1a32);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x4dc865,_0x2122e6){const _0x4d9248=this['data'],_0x2af4a5=_0x4d9248[_0x4dc865];_0x4d9248[_0x4dc865]=_0x2122e6,this['fire']('set',_0x4dc865,_0x2af4a5,_0x2122e6);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x13413e=-0xa2+0xa1*0x25+0x1*-0x16a3;_0x13413e<this['layers']['length'];_0x13413e++){const _0x539885=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x13413e]);_0x539885&&(_0x539885['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x539885);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0xa8b235=0x9af+0xcf4+0x16a3*-0x1;_0xa8b235<this['layers']['length'];_0xa8b235++){const _0x2a813b=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0xa8b235]);_0x2a813b&&_0x2a813b['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x39a93a,_0x346e44,_0x4db8ce){if(this['emitter']){for(let _0x5d6950=-0x21c5+-0x74e*-0x2+0x1329;_0x5d6950<_0x346e44['length'];_0x5d6950++){const _0x2578d=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x346e44[_0x5d6950]);_0x2578d&&_0x2578d['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x4cd9ff=0xa3a+-0x1*-0x8f9+-0x5*0x3d7;_0x4cd9ff<_0x4db8ce['length'];_0x4cd9ff++){const _0x41d7fc=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x4db8ce[_0x4cd9ff]);_0x41d7fc&&_0x41d7fc['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x2e2140,_0x16c3c8){this['addMeshIns'+'tanceToLay'+'ers'](),_0x2e2140['off']('add',this['onLayerAdd'+'ed'],this),_0x2e2140['off']('remove',this['onLayerRem'+'oved'],this),_0x16c3c8['on']('add',this['onLayerAdd'+'ed'],this),_0x16c3c8['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x565166){!this['emitter']||this['layers']['indexOf'](_0x565166['id'])<-0x2*0x894+-0x36*0x80+0x274*0x12||_0x565166['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x2d6da8){!this['emitter']||this['layers']['indexOf'](_0x2d6da8['id'])<0x16d4+-0x1f15*0x1+0x841||_0x2d6da8['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0x59c188){if(_0x59c188['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0x59c188['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x59c188['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x59c188['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0x59c188['resource'])this['_onColorMa'+'pAssetLoad'](_0x59c188);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x59c188);}}['_unbindCol'+'orMapAsset'](_0x4f3b99){_0x4f3b99['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x4f3b99['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x4f3b99['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x4f3b99['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x25e46f){this['colorMap']=_0x25e46f['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x26695b){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x32b1cd){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x32b1cd);}['_onColorMa'+'pAssetChan'+'ge'](_0x3c3f80){}['onSetColor'+'MapAsset'](_0x1e8a2e,_0x8b445a,_0x3a7632){const _0x273ce7=this['system']['app']['assets'];if(_0x8b445a){const _0x1ea213=_0x273ce7['get'](_0x8b445a);_0x1ea213&&this['_unbindCol'+'orMapAsset'](_0x1ea213);}if(_0x3a7632){_0x3a7632 instanceof pe&&(this['data']['colorMapAs'+'set']=_0x3a7632['id'],_0x3a7632=_0x3a7632['id']);const _0x244cbc=_0x273ce7['get'](_0x3a7632);_0x244cbc?this['_bindColor'+'MapAsset'](_0x244cbc):_0x273ce7['once']('add:'+_0x3a7632,_0x209320=>{this['_bindColor'+'MapAsset'](_0x209320);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x48dbf6){if(_0x48dbf6['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x48dbf6['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x48dbf6['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x48dbf6['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x48dbf6['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x48dbf6);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x48dbf6);}}['_unbindNor'+'malMapAsse'+'t'](_0x1ad411){_0x1ad411['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x1ad411['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x1ad411['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x1ad411['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x4d0210){this['normalMap']=_0x4d0210['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x18e1cd){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x1918d8){this['_onNormalM'+'apAssetUnl'+'oad'](_0x1918d8);}['_onNormalM'+'apAssetCha'+'nge'](_0x488e89){}['onSetNorma'+'lMapAsset'](_0x26c87d,_0x43c3d7,_0x281404){const _0x3be50a=this['system']['app']['assets'];if(_0x43c3d7){const _0x29f68d=_0x3be50a['get'](_0x43c3d7);_0x29f68d&&this['_unbindNor'+'malMapAsse'+'t'](_0x29f68d);}if(_0x281404){_0x281404 instanceof pe&&(this['data']['normalMapA'+'sset']=_0x281404['id'],_0x281404=_0x281404['id']);const _0xc8ca3a=_0x3be50a['get'](_0x281404);_0xc8ca3a?this['_bindNorma'+'lMapAsset'](_0xc8ca3a):_0x3be50a['once']('add:'+_0x281404,_0x3d1370=>{this['_bindNorma'+'lMapAsset'](_0x3d1370);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x3d4494){if(_0x3d4494['on']('load',this['_onMeshAss'+'etLoad'],this),_0x3d4494['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x3d4494['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x3d4494['on']('change',this['_onMeshAss'+'etChange'],this),_0x3d4494['resource'])this['_onMeshAss'+'etLoad'](_0x3d4494);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x3d4494);}}['_unbindMes'+'hAsset'](_0x3f6236){_0x3f6236['off']('load',this['_onMeshAss'+'etLoad'],this),_0x3f6236['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x3f6236['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x3f6236['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0xf18b38){this['_onMeshCha'+'nged'](_0xf18b38['resource']);}['_onMeshAss'+'etUnload'](_0x4584af){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0x4f7dfb){this['_onMeshAss'+'etUnload'](_0x4f7dfb);}['_onMeshAss'+'etChange'](_0x188074){}['onSetMeshA'+'sset'](_0x2c4084,_0x4b0c00,_0x3fe0ed){const _0x19b5fa=this['system']['app']['assets'];if(_0x4b0c00){const _0x4f8cdb=_0x19b5fa['get'](_0x4b0c00);_0x4f8cdb&&this['_unbindMes'+'hAsset'](_0x4f8cdb);}if(_0x3fe0ed){_0x3fe0ed instanceof pe&&(this['data']['meshAsset']=_0x3fe0ed['id'],_0x3fe0ed=_0x3fe0ed['id']);const _0x4c55bc=_0x19b5fa['get'](_0x3fe0ed);_0x4c55bc&&this['_bindMeshA'+'sset'](_0x4c55bc);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x148a1d,_0x5dde08,_0x7bb55){!_0x7bb55||_0x7bb55 instanceof pe||typeof _0x7bb55=='number'?this['meshAsset']=_0x7bb55:this['_onMeshCha'+'nged'](_0x7bb55);}['_onMeshCha'+'nged'](_0x2b4609){_0x2b4609&&!(_0x2b4609 instanceof Ge)&&(_0x2b4609['meshInstan'+'ces'][0x1410+-0x9b6+-0xa5a]?_0x2b4609=_0x2b4609['meshInstan'+'ces'][-0x1e78+0x3*0x309+0x3*0x71f]['mesh']:_0x2b4609=null),this['data']['mesh']=_0x2b4609,this['emitter']&&(this['emitter']['mesh']=_0x2b4609,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0xfbb225,_0x20bb6e,_0x306a33){const _0x2d4162=this['system']['app']['assets'];if(_0x20bb6e){const _0x599c43=_0x2d4162['get'](_0x20bb6e);_0x599c43&&this['_unbindRen'+'derAsset'](_0x599c43);}if(_0x306a33){_0x306a33 instanceof pe&&(this['data']['renderAsse'+'t']=_0x306a33['id'],_0x306a33=_0x306a33['id']);const _0x455e6a=_0x2d4162['get'](_0x306a33);_0x455e6a&&this['_bindRende'+'rAsset'](_0x455e6a);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x351fa4){if(_0x351fa4['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x351fa4['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x351fa4['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x351fa4['resource'])this['_onRenderA'+'ssetLoad'](_0x351fa4);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x351fa4);}}['_unbindRen'+'derAsset'](_0x1a67ce){var _0x468895;_0x1a67ce['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x1a67ce['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x1a67ce['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x468895=this['_evtSetMes'+'hes'])==null||_0x468895['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x1259a4){this['_onRenderC'+'hanged'](_0x1259a4['resource']);}['_onRenderA'+'ssetUnload'](_0x36136b){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x438905){this['_onRenderA'+'ssetUnload'](_0x438905);}['_onRenderC'+'hanged'](_0x184460){var _0x39698d;if(!_0x184460){this['_onMeshCha'+'nged'](null);return;}(_0x39698d=this['_evtSetMes'+'hes'])==null||_0x39698d['off'](),this['_evtSetMes'+'hes']=_0x184460['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x184460['meshes']&&this['_onRenderS'+'etMeshes'](_0x184460['meshes']);}['_onRenderS'+'etMeshes'](_0x4a7b6d){this['_onMeshCha'+'nged'](_0x4a7b6d&&_0x4a7b6d[-0x149d*-0x1+0x38b+-0x1828]);}['onSetLoop'](_0x4b3c86,_0x46da72,_0x35f782){this['emitter']&&(this['emitter'][_0x4b3c86]=_0x35f782,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0x29ee36,_0x3091f5,_0x1badf7){this['emitter']&&(this['emitter'][_0x29ee36]=_0x1badf7,this['emitter']['material']['blendType']=_0x1badf7,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Ya||(Ya=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps)),Ya&&(Ya['incrementC'+'ounter'](),this['_requested'+'Depth']=!(0x14*-0xce+0x255e+0x1546*-0x1)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Ya&&(Ya['decrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x169f*0x1+0x143f+0x261));}['onSetDepth'+'Softening'](_0x842386,_0x3dc8fc,_0x4a8b91){_0x3dc8fc!==_0x4a8b91&&(_0x4a8b91?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x842386]=_0x4a8b91)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x842386]=_0x4a8b91)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x49de08,_0x3d9c88,_0x5451f6){this['emitter']&&(this['emitter'][_0x49de08]=_0x5451f6,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x18803b,_0xf5aaca,_0x1cf8e7){this['emitter']&&(this['emitter'][_0x18803b]=_0x1cf8e7,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x560aac,_0x151477,_0x280d02){this['emitter']&&(this['emitter'][_0x560aac]=_0x280d02,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x55245a=this['system']['app']['scene'],_0x41282d=_0x55245a['layers'],_0x5b68db=this['data'];for(let _0x77b504=0x53d+-0xc13+0xe*0x7d,_0x4fec54=Cc['length'];_0x77b504<_0x4fec54;_0x77b504++){let _0xf0a75=_0x5b68db[Cc[_0x77b504]];if(_0xf0a75){if(!(_0xf0a75 instanceof pe)){if(parseInt(_0xf0a75,-0x1565+-0x1*-0x1f35+-0x9c6)>=0x5cd+0xc9*0x27+-0x309*0xc)_0xf0a75=this['system']['app']['assets']['get'](_0xf0a75);else continue;}_0xf0a75&&!_0xf0a75['resource']&&this['system']['app']['assets']['load'](_0xf0a75);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0x4dede2=_0x5b68db['mesh'];_0x4dede2 instanceof Ge||(_0x4dede2=null),this['emitter']=new CA(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x5b68db['numParticl'+'es'],'emitterExtents':_0x5b68db['emitterExt'+'ents'],'emitterExtentsInner':_0x5b68db['emitterExt'+'entsInner'],'emitterRadius':_0x5b68db['emitterRad'+'ius'],'emitterRadiusInner':_0x5b68db['emitterRad'+'iusInner'],'emitterShape':_0x5b68db['emitterSha'+'pe'],'initialVelocity':_0x5b68db['initialVel'+'ocity'],'wrap':_0x5b68db['wrap'],'localSpace':_0x5b68db['localSpace'],'screenSpace':_0x5b68db['screenSpac'+'e'],'wrapBounds':_0x5b68db['wrapBounds'],'lifetime':_0x5b68db['lifetime'],'rate':_0x5b68db['rate'],'rate2':_0x5b68db['rate2'],'orientation':_0x5b68db['orientatio'+'n'],'particleNormal':_0x5b68db['particleNo'+'rmal'],'animTilesX':_0x5b68db['animTilesX'],'animTilesY':_0x5b68db['animTilesY'],'animStartFrame':_0x5b68db['animStartF'+'rame'],'animNumFrames':_0x5b68db['animNumFra'+'mes'],'animNumAnimations':_0x5b68db['animNumAni'+'mations'],'animIndex':_0x5b68db['animIndex'],'randomizeAnimIndex':_0x5b68db['randomizeA'+'nimIndex'],'animSpeed':_0x5b68db['animSpeed'],'animLoop':_0x5b68db['animLoop'],'startAngle':_0x5b68db['startAngle'],'startAngle2':_0x5b68db['startAngle'+'2'],'scaleGraph':_0x5b68db['scaleGraph'],'scaleGraph2':_0x5b68db['scaleGraph'+'2'],'colorGraph':_0x5b68db['colorGraph'],'colorGraph2':_0x5b68db['colorGraph'+'2'],'alphaGraph':_0x5b68db['alphaGraph'],'alphaGraph2':_0x5b68db['alphaGraph'+'2'],'localVelocityGraph':_0x5b68db['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x5b68db['localVeloc'+'ityGraph2'],'velocityGraph':_0x5b68db['velocityGr'+'aph'],'velocityGraph2':_0x5b68db['velocityGr'+'aph2'],'rotationSpeedGraph':_0x5b68db['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x5b68db['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x5b68db['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x5b68db['radialSpee'+'dGraph2'],'colorMap':_0x5b68db['colorMap'],'normalMap':_0x5b68db['normalMap'],'loop':_0x5b68db['loop'],'preWarm':_0x5b68db['preWarm'],'sort':_0x5b68db['sort'],'stretch':_0x5b68db['stretch'],'alignToMotion':_0x5b68db['alignToMot'+'ion'],'lighting':_0x5b68db['lighting'],'halfLambert':_0x5b68db['halfLamber'+'t'],'intensity':_0x5b68db['intensity'],'depthSoftening':_0x5b68db['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0x4dede2,'depthWrite':_0x5b68db['depthWrite'],'noFog':_0x5b68db['noFog'],'node':this['entity'],'blendType':_0x5b68db['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x5b68db['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(0x96c+-0x13fc+0xa91));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x55245a['on']('set:layers',this['onLayersCh'+'anged'],this),_0x41282d&&(this['_evtLayerA'+'dded']=_0x41282d['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x41282d['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x5b68db['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x40aa2a,_0x3f306d,_0x58287b;const _0x30a4fa=this['system']['app']['scene']['layers'];(_0x40aa2a=this['_evtLayers'+'Changed'])==null||_0x40aa2a['off'](),this['_evtLayers'+'Changed']=null,_0x30a4fa&&((_0x3f306d=this['_evtLayerA'+'dded'])==null||_0x3f306d['off'](),this['_evtLayerA'+'dded']=null,(_0x58287b=this['_evtLayerR'+'emoved'])==null||_0x58287b['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(-0x170e+0x1e6+0x1529)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x1e7831=-0x2208*0x1+-0x1*-0x93b+0x18cd;_0x1e7831<Cc['length'];_0x1e7831++){const _0x1c484e=Cc[_0x1e7831];this['data'][_0x1c484e]&&(this[_0x1c484e]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(-0x1e1d+0x30c*0x9+0x2b2),this['emitter']['resetTime'](),this['emitter']['addTime'](0xe39+0x1*0x124a+-0x11f*0x1d,!(0x232*0x3+-0x1bb9+0x1523)));}['pause'](){this['data']['paused']=!(0x2ae+-0x749+0x1*0x49b);}['unpause'](){this['data']['paused']=!(-0x1a88+-0x1da2+0x382b);}['play'](){this['data']['paused']=!(-0x9cb+0x1bb*-0x2+-0xd42*-0x1),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(0x842+-0x191e+0x10dc),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(-0x1*-0x9de+0x1*0x20a1+-0x2a7e):this['emitter']&&this['emitter']['loop']?!(0x1c9d+-0xbf6+-0x10a7):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x191c0d}=this;_0x191c0d&&!_0x191c0d['inTools']&&(_0x191c0d['inTools']=!(-0x164*-0xc+-0x21cc+0x124*0xf),this['rebuild']());}['rebuild'](){const _0x1b5447=this['enabled'];this['enabled']=!(0x1ea0+-0x1e62*-0x1+-0x3d01),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0x1b5447;}}class t3{constructor(){this['numParticl'+'es']=0x19*-0x15f+-0x1fa*-0x11+0x2*0x57,this['rate']=0x1013+0x11b7*0x2+0x2*-0x19c0,this['rate2']=null,this['startAngle']=0x6*-0x387+-0xa55*0x3+0x3429,this['startAngle'+'2']=null,this['lifetime']=-0x1*0x2113+0x935*0x2+0xedb,this['emitterExt'+'ents']=new D(),this['emitterExt'+'entsInner']=new D(),this['emitterRad'+'ius']=-0x2477+-0x1*0x1c1+-0x1*-0x2638,this['emitterRad'+'iusInner']=0x22cc+-0x17ef+-0x1*0xadd,this['emitterSha'+'pe']=ai,this['initialVel'+'ocity']=0x4fd+0x2115*-0x1+0x1c18*0x1,this['wrap']=!(0x98b+-0x2707+0x1*0x1d7d),this['wrapBounds']=new D(),this['localSpace']=!(0x2683+-0x13f5+-0x128d),this['screenSpac'+'e']=!(0x199b*-0x1+0x26c7*-0x1+0x35*0x137),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(-0x7f3*-0x2+0xe6f+-0x1e55),this['preWarm']=!(0x78d*0x3+-0xbb7+-0xaef),this['sort']=0x11d1+0x5*0x6be+-0x3*0x112d,this['mode']=rv,this['scene']=null,this['lighting']=!(0x3*0x171+-0x1b55+-0x1703*-0x1),this['halfLamber'+'t']=!(0xeb8+-0x1f94+0x10dd*0x1),this['intensity']=0xbf2*-0x3+-0xdec+0x31c3,this['stretch']=0xfad+0xff1+-0x1f9e,this['alignToMot'+'ion']=!(-0x4*-0x832+0x20d8+-0x419f),this['depthSofte'+'ning']=0xbe1+0xd7f+-0x1960*0x1,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(-0x2231+0x29*0x61+0x12a9),this['noFog']=!(-0x3*0x7b7+0x2632+-0xf0c),this['orientatio'+'n']=yh,this['particleNo'+'rmal']=new D(-0x2068+-0x9*-0x2c1+-0x1*-0x79f,0x2192*0x1+0x18ab+-0x3a3c,0x3*-0xad9+-0x1*0x21b6+-0x7*-0x977),this['animTilesX']=-0x229b+-0x2*-0x27+0x224e,this['animTilesY']=0x22*-0x93+0x23fb+-0x1074,this['animStartF'+'rame']=0x2*-0x175+-0x7fd+0xae7*0x1,this['animNumFra'+'mes']=0x236*-0x8+-0x1*-0x21c1+0x404*-0x4,this['animNumAni'+'mations']=0x3*0x519+0x21d8+-0x3122,this['animIndex']=0x128*0x13+0x282*-0x9+0x9a,this['randomizeA'+'nimIndex']=!(-0x1c3e+0x2582+-0x943*0x1),this['animSpeed']=0x14c6*-0x1+-0x1*-0x1d9+0x12ee,this['animLoop']=!(-0x236f+-0x81*0x1+0x23f0),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Zs,this['enabled']=!(-0x1*0x1e7f+0x3*-0x17a+0x1*0x22ed),this['paused']=!(0x1a4f+0x1*-0x1186+0x2*-0x464),this['autoPlay']=!(0x1c3a*-0x1+0x295+0x19a5),this['layers']=[er];}}const s3='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0auniform\x20'+'float\x20soft'+'ening;\x0auni'+'form\x20float'+'\x20colorMult'+';\x0a\x0afloat\x20s'+'aturate(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex\x20\x20=\x20tex'+'ture2D(col'+'orMap,\x20vec'+'2(texCoord'+'sAlphaLife'+'.x,\x201.0\x20-\x20'+'texCoordsA'+'lphaLife.y'+'));\x0a\x20\x20\x20\x20ve'+'c4\x20ramp\x20=\x20'+'texture2D('+'colorParam'+',\x20vec2(tex'+'CoordsAlph'+'aLife.w,\x200'+'.0));\x0a\x20\x20\x20\x20'+'ramp.rgb\x20*'+'=\x20colorMul'+'t;\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20+=\x20te'+'xCoordsAlp'+'haLife.z;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'rgb\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'float\x20a\x20\x20='+'\x20tex.a\x20*\x20r'+'amp.a;\x0a',i3='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20meshLoca'+'lPos\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20vec2\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20nlife\x20='+'\x20clamp(inL'+'ife\x20/\x20part'+'icleLifeti'+'me,\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20param'+'Div;\x0a\x20\x20\x20\x20v'+'ec4\x20params'+'\x20=\x20tex1Dlo'+'d_lerp(TEX'+'TURE_PASS('+'internalTe'+'x2),\x20vec2('+'nlife,\x200),'+'\x20paramDiv)'+';\x0a\x20\x20\x20\x20floa'+'t\x20scale\x20=\x20'+'params.y;\x0a'+'\x20\x20\x20\x20float\x20'+'scaleDiv\x20='+'\x20paramDiv.'+'x;\x0a\x20\x20\x20\x20flo'+'at\x20alphaDi'+'v\x20=\x20paramD'+'iv.z;\x0a\x0a\x20\x20\x20'+'\x20scale\x20+=\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20scale'+'DivMult\x20*\x20'+'fract(rndF'+'actor*1000'+'0.0);\x0a\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(quadXY'+'\x20*\x20-0.5\x20+\x20'+'0.5,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'alphaDivMu'+'lt\x20*\x20fract'+'(rndFactor'+'*1000.0),\x20'+'nlife);\x0a#e'+'lse\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_uv,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePos\x20='+'\x20inPos;\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePosMo'+'ved\x20=\x20vec3'+'(0.0);\x0a\x0a\x20\x20'+'\x20\x20mat2\x20rot'+'Matrix;\x0a'),r3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',a3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',n3='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',o3='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',l3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y\x20*\x20('+'1.0\x20/\x20255.'+'0)\x20+\x20rg.x;'+'\x0a}\x0a\x0afloat\x20'+'decodeFloa'+'tRGBA(\x20vec'+'4\x20rgba\x20)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(rgba'+',\x20vec4(1.0'+',\x201.0\x20/\x2025'+'5.0,\x201.0\x20/'+'\x2065025.0,\x20'+'1.0\x20/\x201605'+'81375.0));'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+('rticles\x20-\x20'+'1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),c3='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',h3='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),d3='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',f3='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',u3='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',p3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',m3='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',_3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',g3='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',S3='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),y3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',v3='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',x3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',T3='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',w3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec2\x20pa'+'rticle_ver'+'texData5;\x0a'+'#else\x0a\x20\x20\x20\x20'+'attribute\x20'+'vec4\x20parti'+'cle_vertex'+'Data5;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifndef\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a#endif\x0a\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20lifetim'+'e;\x0auniform'+'\x20float\x20str'+'etch;\x0aunif'+'orm\x20float\x20'+'seed;\x0aunif'+'orm\x20vec3\x20w'+'rapBounds;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rScale;\x0aun'+('iform\x20vec3'+'\x20faceTange'+'nt;\x0aunifor'+'m\x20vec3\x20fac'+'eBinorm;\x0a\x0a'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex0'+';\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x1;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex2;\x0a#end'+'if\x0auniform'+'\x20vec3\x20emit'+'terPos;\x0a\x0av'+'arying\x20vec'+'4\x20texCoord'+'sAlphaLife'+';\x0a\x0avec2\x20ro'+'tate(vec2\x20'+'quadXY,\x20fl'+'oat\x20pRotat'+'ion,\x20out\x20m'+'at2\x20rotMat'+'rix)\x0a{\x0a\x20\x20\x20'+'\x20float\x20c\x20='+'\x20cos(pRota'+'tion);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20sin(pRota'+'tion);\x0a\x20\x20\x20'+'\x20//vec4\x20ro'+'tationMatr'+'ix\x20=\x20vec4('+'c,\x20-s,\x20s,\x20'+'c);\x0a\x0a\x20\x20\x20\x20m'+'at2\x20m\x20=\x20ma'+'t2(c,\x20-s,\x20'+'s,\x20c);\x0a\x20\x20\x20'+'\x20rotMatrix'+'\x20=\x20m;\x0a\x0a\x20\x20\x20'+'\x20return\x20m\x20'+'*\x20quadXY;\x0a'+'}\x0a\x0avec3\x20bi'+'llboard(ve'+'c3\x20Instanc'+'eCoords,\x20v'+'ec2\x20quadXY'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20return\x20p'+'os;\x0a}\x0a\x0avec'+'3\x20customFa'+'ce(vec3\x20In'+'stanceCoor'+'ds,\x20vec2\x20q'+'uadXY)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20po'+'s\x20=\x20faceTa'+'ngent\x20*\x20qu'+'adXY.x\x20+\x20f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avoid\x20main'+'(void)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20pa'+'rticlePos\x20'+'=\x20particle'+'_vertexDat'+'a.xyz;\x0a\x20\x20\x20'+'\x20vec3\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20vec3\x20vert'+'Pos\x20=\x20part'+'icle_verte'+'xData3.xyz'+';\x0a\x20\x20\x20\x20vec3'+'\x20inVel\x20=\x20v'+'ec3(partic'+'le_vertexD'+'ata2.w,\x20pa')+('rticle_ver'+'texData3.w'+',\x20particle'+'_vertexDat'+'a5.x);\x0a\x0a\x20\x20'+'\x20\x20float\x20id'+'\x20=\x20floor(p'+'article_ve'+'rtexData4)'+';\x0a\x20\x20\x20\x20floa'+'t\x20rndFacto'+'r\x20=\x20fract('+'sin(id\x20+\x201'+'.0\x20+\x20seed)'+');\x0a\x20\x20\x20\x20vec'+'3\x20rndFacto'+'r3\x20=\x20vec3('+'rndFactor,'+'\x20fract(rnd'+'Factor*10.'+'0),\x20fract('+'rndFactor*'+'100.0));\x0a\x0a'+'#ifdef\x20LOC'+'AL_SPACE\x0a\x20'+'\x20\x20\x20inVel\x20='+'\x20mat3(matr'+'ix_model)\x20'+'*\x20inVel;\x0a#'+'endif\x0a\x20\x20\x20\x20'+'vec2\x20veloc'+'ityV\x20=\x20nor'+'malize((ma'+'t3(matrix_'+'view)\x20*\x20in'+'Vel).xy);\x20'+'//\x20should\x20'+'be\x20removed'+'\x20by\x20compil'+'er\x20if\x20alig'+'n/stretch\x20'+'is\x20not\x20use'+'d\x0a\x0a\x20\x20\x20\x20vec'+'2\x20quadXY\x20='+'\x20vertPos.x'+'y;\x0a\x0a#ifdef'+'\x20USE_MESH\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe\x20=\x20vec4('+'particle_v'+'ertexData5'+'.zw,\x20parti'+'cle_vertex'+'Data2.z,\x20p'+'article_ve'+'rtexData.w'+');\x0a#else\x0a\x20'+'\x20\x20\x20texCoor'+'dsAlphaLif'+'e\x20=\x20vec4(q'+'uadXY\x20*\x20-0'+'.5\x20+\x200.5,\x20'+'particle_v'+'ertexData2'+'.z,\x20partic'+'le_vertexD'+'ata.w);\x0a#e'+'ndif\x0a\x20\x20\x20\x20m'+'at2\x20rotMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'float\x20inAn'+'gle\x20=\x20part'+'icle_verte'+'xData2.x;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20vec3\x20me'+'shLocalPos'+'\x20=\x20particl'+'e_vertexDa'+'ta3.xyz;\x0a'),E3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',b3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',A3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',C3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',P3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20vec3'+'\x20posNormal'+'\x20=\x20-normal'+'\x20*\x200.5\x20+\x200'+'.5;\x0a\x20\x20\x20\x20ne'+'gNormal\x20*='+'\x20negNormal'+';\x0a\x20\x20\x20\x20posN'+'ormal\x20*=\x20p'+'osNormal;\x0a',M3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a\x0a#i'+'f\x20defined('+'USE_MESH)\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(USE_'+'MESH_UV)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20particle'+'_uv;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mesh'+'\x20UV\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20par'+'ticle_uv\x20='+'\x20vec2(0.0,'+'\x200.0);\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+'Projection'+';\x0auniform\x20'+'mat4\x20matri'+'x_model;\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20numPart'+'iclesPot;\x0a'+'uniform\x20fl'+'oat\x20graphS'+'ampleSize;'+'\x0auniform\x20f'+'loat\x20graph'+'NumSamples'+';\x0auniform\x20'+'float\x20stre'+'tch;\x0aunifo'+'rm\x20vec3\x20wr'+'apBounds;\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Scale;\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0auniform\x20'+'vec3\x20faceT'+'angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0auniform'+'\x20float\x20rat'+'e;\x0auniform'+'\x20float\x20rat'+'eDiv;\x0aunif'+'orm\x20float\x20'+'lifetime;\x0a'+'uniform\x20fl'+'oat\x20deltaR'+'andomnessS'+'tatic;\x0auni'+'form\x20float'+'\x20scaleDivM'+'ult;\x0aunifo'+'rm\x20float\x20a'+'lphaDivMul'+'t;\x0auniform'+'\x20float\x20see'+'d;\x0auniform'+'\x20float\x20del'+'ta;\x0aunifor'+'m\x20sampler2'+'D\x20particle'+'TexOUT;\x0aun'+'iform\x20samp'+('ler2D\x20part'+'icleTexIN;'+'\x0a\x0a#ifdef\x20P'+'ARTICLE_GP'+'U\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x0;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex2;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0avarying\x20'+'vec4\x20texCo'+'ordsAlphaL'+'ife;\x0a\x0avec3'+'\x20inPos;\x0ave'+'c3\x20inVel;\x0a'+'float\x20inAn'+'gle;\x0abool\x20'+'inShow;\x0afl'+'oat\x20inLife'+';\x0a'),D3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',I3='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',L3='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',R3='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',O3='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',F3='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',N3='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan(veloci'+'tyV.x,\x20vel'+'ocityV.y);'+'\x0a\x0a',k3='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',U3='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec3\x20No'+'rmal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20lightCu'+'be[6];\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20float\x20vDe'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fogP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'f\x20NORMAL\x20='+'=\x20MAP\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20normalMa'+'p;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22p'+'articlePS\x22'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_softP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20normal\x20'+'=\x20Normal;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalMap'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20HALF_L'+'AMBERT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_ha'+'lflambertP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_la'+'mbertPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_lighting'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20BLEND\x20'+'==\x20NORMAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndNormalPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+('\x20ADDITIVE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndAddPS\x22\x0a\x20'+'\x20\x20\x20#elif\x20B'+'LEND\x20==\x20MU'+'LTIPLICATI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendMulti'+'plyPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endPS\x22\x0a'),B3='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20animTexTi'+'lesParams;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20animTexP'+'arams;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec2\x20an'+'imTexIndex'+'Params;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20NO'+'RMAL\x20==\x20MA'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20Normal'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20SOFT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20floa'+'t\x20vDepth;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_initVS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PA'+'CK8\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleInputR'+'gba8PS\x22\x20\x20\x20'+'\x20\x20//\x20why\x20a'+'re\x20these\x20P'+'S\x20and\x20not\x20'+'VS?\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x20'+'\x22particleI'+'nputFloatP'+'S\x22\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'OFT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22scre'+'enDepthPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleVS\x22\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20PARTICLE_'+'CPU\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22scr'+'eenDepthPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_cpuVS'+'\x22\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_local'+'ShiftVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20ANIMT'+'EX_LOOP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('#include\x20\x22'+'particleAn'+'imFrameLoo'+'pVS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particleA'+'nimFrameCl'+'ampVS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleAn'+'imTexVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20wr'+'ap\x20is\x20not\x20'+'used\x20on\x20CP'+'U,\x20it\x20was\x20'+'commented\x20'+'out.\x20TODO:'+'\x20investiga'+'te\x20why\x0a\x20\x20\x20'+'\x20#ifdef\x20PA'+'RTICLE_GPU'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20WRAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_wrapVS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20AL'+'IGN_TO_MOT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_pointAlon'+'gVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20US'+'E_MESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_meshVS'+'\x22\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20CUS'+'TOM_FACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'customFace'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_b'+'illboardVS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalVS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_TBNVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STRETCH\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_str'+'etchVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endVS\x22\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20PARTICLE'+'_CPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_cpu_endV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#')+('ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_so'+'ftVS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20}\x0a'),z3='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',V3='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',G3='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',H3='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',W3='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',$3={'particlePS':s3,'particleVS':i3,'particleAnimFrameClampVS':r3,'particleAnimFrameLoopVS':a3,'particleAnimTexVS':n3,'particleInputFloatPS':o3,'particleInputRgba8PS':l3,'particleOutputFloatPS':c3,'particleOutputRgba8PS':h3,'particleUpdaterAABBPS':d3,'particleUpdaterEndPS':f3,'particleUpdaterInitPS':u3,'particleUpdaterNoRespawnPS':p3,'particleUpdaterOnStopPS':m3,'particleUpdaterRespawnPS':_3,'particleUpdaterSpherePS':g3,'particleUpdaterStartPS':S3,'particle_billboardVS':y3,'particle_blendAddPS':v3,'particle_blendMultiplyPS':x3,'particle_blendNormalPS':T3,'particle_cpuVS':w3,'particle_cpu_endVS':E3,'particle_customFaceVS':b3,'particle_endPS':A3,'particle_endVS':C3,'particle_halflambertPS':P3,'particle_initVS':M3,'particle_lambertPS':D3,'particle_lightingPS':I3,'particle_localShiftVS':L3,'particle_meshVS':R3,'particle_normalVS':O3,'particle_normalMapPS':F3,'particle_pointAlongVS':N3,'particle_simulationPS':k3,'particle_shaderPS':U3,'particle_shaderVS':B3,'particle_softPS':z3,'particle_softVS':V3,'particle_stretchVS':G3,'particle_TBNVS':H3,'particle_wrapVS':W3},X3='\x0avarying\x20t'+'exCoordsAl'+'phaLife:\x20v'+'ec4f;\x0a\x0avar'+'\x20colorMap:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20colorMap'+'Sampler:\x20s'+'ampler;\x0ava'+'r\x20colorPar'+'am:\x20textur'+'e_2d<f32>;'+'\x0avar\x20color'+'ParamSampl'+'er:\x20sample'+'r;\x0a\x0aunifor'+'m\x20graphSam'+'pleSize:\x20f'+'32;\x0aunifor'+'m\x20graphNum'+'Samples:\x20f'+'32;\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0auniform'+'\x20softening'+':\x20f32;\x0auni'+'form\x20color'+'Mult:\x20f32;'+'\x0a\x0afn\x20satur'+'ate(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20tex:\x20v'+'ec4f\x20\x20=\x20te'+'xtureSampl'+'e(colorMap'+',\x20colorMap'+'Sampler,\x20v'+'ec2f(input'+'.texCoords'+'AlphaLife.'+'x,\x201.0\x20-\x20i'+'nput.texCo'+'ordsAlphaL'+'ife.y));\x0a\x20'+'\x20\x20\x20var\x20ram'+'p:\x20vec4f\x20='+'\x20textureSa'+'mple(color'+'Param,\x20col'+'orParamSam'+'pler,\x20vec2'+'f(input.te'+'xCoordsAlp'+'haLife.w,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20ramp\x20=\x20ve'+'c4f(ramp.r'+'gb\x20*\x20unifo'+'rm.colorMu'+'lt,\x20ramp.a'+');\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20=\x20ram'+'p.a\x20+\x20inpu'+'t.texCoord'+'sAlphaLife'+'.z;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20rgb:\x20ve'+'c3f\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'var\x20a:\x20f32'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',q3='\x0afn\x20unpack'+'3NFloats(s'+'rc:\x20f32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20r\x20'+'=\x20fract(sr'+'c);\x0a\x20\x20\x20\x20le'+'t\x20g\x20=\x20frac'+'t(src\x20*\x2025'+'6.0);\x0a\x20\x20\x20\x20'+'let\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3f(r,\x20'+'g,\x20b);\x0a}\x0a\x0a'+'fn\x20saturat'+'e(x:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0astruct\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20resu'+'lt:\x20vec4f,'+'\x0a\x20\x20\x20\x20unpac'+'ked:\x20vec3f'+'\x0a}\x0a\x0afn\x20tex'+'1Dlod_lerp'+'_simple(te'+'x:\x20texture'+'_2d<f32>,\x20'+'texSampler'+':\x20sampler,'+'\x20tc:\x20vec2f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20tc_next\x20='+'\x20tc\x20+\x20vec2'+'f(uniform.'+'graphSampl'+'eSize);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(\x20textur'+'eSample(te'+'x,\x20texSamp'+'ler,\x20tc),\x20'+'textureSam'+'ple(tex,\x20t'+'exSampler,'+'\x20tc_next),'+'\x20fract(tc.'+'x\x20*\x20unifor'+'m.graphNum'+'Samples)\x20)'+';\x0a}\x0a\x0afn\x20te'+'x1Dlod_ler'+'p_unpack(t'+'ex:\x20textur'+'e_2d<f32>,'+'\x20texSample'+'r:\x20sampler'+',\x20tc:\x20vec2'+'f)\x20->\x20TexL'+'erpUnpackR'+'esult\x20{\x0a\x20\x20'+'\x20\x20let\x20tc_n'+'ext\x20=\x20tc\x20+'+'\x20vec2f(uni'+'form.graph'+'SampleSize'+');\x0a\x20\x20\x20\x20let'+'\x20a\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20tc,\x200.0);'+'\x0a\x20\x20\x20\x20let\x20b'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'c_next,\x200.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20u'+'niform.gra'+'phNumSampl'+'es);\x0a\x20\x20\x20\x20l'+'et\x20unpacke'+'dA\x20=\x20unpac'+'k3NFloats('+'a.w);\x0a\x20\x20\x20\x20'+'let\x20unpack'+'edB\x20=\x20unpa'+'ck3NFloats'+'(b.w);\x0a\x20\x20\x20'+'\x20let\x20w_out'+('\x20=\x20mix(unp'+'ackedA,\x20un'+'packedB,\x20c'+');\x0a\x20\x20\x20\x20ret'+'urn\x20TexLer'+'pUnpackRes'+'ult(mix(a,'+'\x20b,\x20c),\x20w_'+'out);\x0a}\x0a\x0as'+'truct\x20Rota'+'teResult\x20{'+'\x0a\x20\x20\x20\x20rotat'+'edVec:\x20vec'+'2f,\x0a\x20\x20\x20\x20ma'+'trix:\x20mat2'+'x2f\x0a}\x0a\x0afn\x20'+'rotateWith'+'Matrix(qua'+'dXY:\x20vec2f'+',\x20pRotatio'+'n:\x20f32)\x20->'+'\x20RotateRes'+'ult\x20{\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20co'+'s(pRotatio'+'n);\x0a\x20\x20\x20\x20le'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x20\x20\x20\x20let\x20'+'m\x20=\x20mat2x2'+'f(vec2f(c,'+'\x20s),\x20vec2f'+'(-s,\x20c));\x0a'+'\x20\x20\x20\x20return'+'\x20RotateRes'+'ult(m\x20*\x20qu'+'adXY,\x20m);\x0a'+'}\x0a\x0afn\x20bill'+'board(Inst'+'anceCoords'+':\x20vec3f,\x20q'+'uadXY:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20pos:\x20ve'+'c3f;\x0a\x20\x20\x20\x20#'+'ifdef\x20SCRE'+'EN_SPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pos'+'\x20=\x20vec3f(-'+'1.0,\x200.0,\x20'+'0.0)\x20*\x20qua'+'dXY.x\x20+\x20ve'+'c3f(0.0,\x20-'+'1.0,\x200.0)\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20custom'+'Face(Insta'+'nceCoords:'+'\x20vec3f,\x20qu'+'adXY:\x20vec2'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20pos\x20=\x20un'+'iform.face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20uniform.f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20safeNo'+'rmalize(v:'+'\x20vec2f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20let\x20l\x20='+'\x20length(v)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20select('+'v,\x20v\x20/\x20l,\x20'+'l\x20>\x201e-06)'+';\x0a}\x0a\x0a@vert'+'ex\x0afn\x20vert'+'exMain(inp')+('ut:\x20Vertex'+'Input)\x20->\x20'+'VertexOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20meshLo'+'calPos_in\x20'+'=\x20input.pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20id\x20=\x20floo'+'r(input.pa'+'rticle_ver'+'texData.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20rndFactor'+'\x20=\x20fract(s'+'in(id\x20+\x201.'+'0\x20+\x20unifor'+'m.seed));\x0a'+'\x20\x20\x20\x20let\x20rn'+'dFactor3\x20='+'\x20vec3f(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20let\x20uv\x20=\x20'+'id\x20/\x20unifo'+'rm.numPart'+'iclesPot;\x0a'+'\x20\x20\x20\x20readIn'+'put(uv);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20model'+'Rotation\x20='+'\x20mat3x3f(u'+'niform.mat'+'rix_model['+'0].xyz,\x20un'+'iform.matr'+'ix_model[1'+'].xyz,\x20uni'+'form.matri'+'x_model[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20inVel'+'\x20=\x20modelRo'+'tation\x20*\x20i'+'nVel;\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20let\x20viewR'+'otation\x20=\x20'+'mat3x3f(un'+'iform.matr'+'ix_view[0]'+'.xyz,\x20unif'+'orm.matrix'+'_view[1].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[2].xyz'+');\x0a\x20\x20\x20\x20let'+'\x20velocityV'+'\x20=\x20safeNor'+'malize((vi'+'ewRotation'+'\x20*\x20inVel).'+'xy);\x0a\x0a\x20\x20\x20\x20'+'let\x20partic'+'leLifetime'+'\x20=\x20uniform'+'.lifetime;'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'meshLocalP'+'os\x20=\x20meshL'+'ocalPos_in'+';\x0a\x20\x20\x20\x20if\x20('+'inLife\x20<=\x20'+'0.0\x20||\x20inL'+'ife\x20>\x20part'+'icleLifeti'+'me\x20||\x20!inS'+'how)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mesh'+'LocalPos\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20let\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20let'+'\x20nlife\x20=\x20c')+('lamp(inLif'+'e\x20/\x20partic'+'leLifetime'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20lerp_res'+'ult\x20=\x20tex1'+'Dlod_lerp_'+'unpack(int'+'ernalTex2,'+'\x20internalT'+'ex2Sampler'+',\x20vec2f(nl'+'ife,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'params\x20=\x20l'+'erp_result'+'.result;\x0a\x20'+'\x20\x20\x20let\x20par'+'amDiv\x20=\x20le'+'rp_result.'+'unpacked;\x0a'+'\x0a\x20\x20\x20\x20var\x20s'+'cale\x20=\x20par'+'ams.y;\x0a\x20\x20\x20'+'\x20let\x20scale'+'Div\x20=\x20para'+'mDiv.x;\x0a\x20\x20'+'\x20\x20let\x20alph'+'aDiv\x20=\x20par'+'amDiv.z;\x0a\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20scale\x20+\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20unifo'+'rm.scaleDi'+'vMult\x20*\x20fr'+'act(rndFac'+'tor*10000.'+'0);\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.texCoords'+'AlphaLife\x20'+'=\x20vec4f(qu'+'adXY\x20*\x20-0.'+'5\x20+\x200.5,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20unifor'+'m.alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife\x20=\x20vec4'+'f(particle'+'_uv,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'uniform.al'+'phaDivMult'+'\x20*\x20fract(r'+'ndFactor*1'+'000.0),\x20nl'+'ife);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20var\x20part'+'iclePos\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20var\x20parti'+'clePosMove'+'d\x20=\x20vec3f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20var\x20rotMa'+'trix:\x20mat2'+'x2f;\x0a'),j3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20min('+'floor(inpu'+'t.texCoord'+'sAlphaLife'+'.w\x20*\x20unifo'+'rm.animTex'+'Params.y)\x20'+'+\x20uniform.'+'animTexPar'+'ams.x,\x20uni'+'form.animT'+'exParams.z'+');\x0a',Y3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20floo'+'r((output.'+'texCoordsA'+'lphaLife.w'+'\x20*\x20uniform'+'.animTexPa'+'rams.y\x20+\x20u'+'niform.ani'+'mTexParams'+'.x)\x20%\x20(uni'+'form.animT'+'exParams.z'+'\x20+\x201.0));\x20'+'\x20\x20\x20\x0a',K3='\x0a\x20\x20\x20\x20var\x20a'+'nimationIn'+'dex:\x20f32;\x0a'+'\x0a\x20\x20\x20\x20if\x20(u'+'niform.ani'+'mTexIndexP'+'arams.y\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20floor(('+'uniform.an'+'imTexParam'+'s.w\x20+\x201.0)'+'\x20*\x20rndFact'+'or3.z)\x20*\x20('+'uniform.an'+'imTexParam'+'s.z\x20+\x201.0)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20animati'+'onIndex\x20=\x20'+'uniform.an'+'imTexIndex'+'Params.x\x20*'+'\x20(uniform.'+'animTexPar'+'ams.z\x20+\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20var\x20a'+'tlasX:\x20f32'+'\x20=\x20(animat'+'ionIndex\x20+'+'\x20animFrame'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20atlasY:\x20'+'f32\x20=\x201.0\x20'+'-\x20floor(at'+'lasX\x20+\x201.0'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.y;\x0a\x20\x20\x20\x20at'+'lasX\x20=\x20fra'+'ct(atlasX)'+';\x20//\x20Reass'+'ign\x20atlasX'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'current_tc'+'al_xy\x20=\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.xy;\x0a\x20\x20'+'\x20\x20let\x20scal'+'ed_tcal_xy'+'\x20=\x20current'+'_tcal_xy\x20*'+'\x20uniform.a'+'nimTexTile'+'sParams.xy'+';\x0a\x20\x20\x20\x20let\x20'+'final_tcal'+'_xy\x20=\x20scal'+'ed_tcal_xy'+'\x20+\x20vec2f(a'+'tlasX,\x20atl'+'asY);\x0a\x20\x20\x20\x20'+'output.tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4f(final_'+'tcal_xy,\x20o'+'utput.texC'+'oordsAlpha'+'Life.z,\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.w);\x0a',Z3='\x0afn\x20readIn'+'put(uv:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex:\x20ve'+'c4f\x20=\x20text'+'ureSampleL'+'evel(parti'+'cleTexIN,\x20'+'particleTe'+'xINSampler'+',\x20vec2f(uv'+',\x200.25),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex2:\x20v'+'ec4f\x20=\x20tex'+'tureSample'+'Level(part'+'icleTexIN,'+'\x20particleT'+'exINSample'+'r,\x20vec2f(u'+'v,\x200.75),\x20'+'0.0);\x0a\x0a\x20\x20\x20'+'\x20inPos\x20=\x20t'+'ex.xyz;\x0a\x20\x20'+'\x20\x20inVel\x20=\x20'+'tex2.xyz;\x0a'+'\x20\x20\x20\x20inAngl'+'e\x20=\x20abs(te'+'x.w)\x20-\x20100'+'0.0;\x0a\x20\x20\x20\x20i'+'nShow\x20=\x20te'+'x.w\x20>=\x200.0'+';\x0a\x20\x20\x20\x20inLi'+'fe\x20=\x20tex2.'+'w;\x0a}\x0a',Q3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0ac'+'onst\x20PI2:\x20'+'f32\x20=\x206.28'+'3185307179'+'586;\x0a\x0aunif'+'orm\x20inBoun'+'dsSize:\x20ve'+'c3f;\x0aunifo'+'rm\x20inBound'+'sCenter:\x20v'+'ec3f;\x0a\x0auni'+'form\x20maxVe'+'l:\x20f32;\x0a\x0af'+'n\x20decodeFl'+'oatRG(rg:\x20'+'vec2f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20rg.'+'y\x20*\x20(1.0\x20/'+'\x20255.0)\x20+\x20'+'rg.x;\x0a}\x0a\x0af'+'n\x20decodeFl'+'oatRGBA(\x20r'+'gba:\x20vec4f'+'\x20)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(rgb'+'a,\x20vec4f(1'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x2065025.0'+',\x201.0\x20/\x2016'+'0581375.0)'+');\x0a}\x0a\x0afn\x20r'+'eadInput(u'+'v:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20let\x20te'+'x0\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.125),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex1\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.37'+'5),\x200.0);\x0a'+'\x20\x20\x20\x20let\x20te'+'x2\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.625),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex3\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.87'+'5),\x200.0);\x0a'+'\x0a\x20\x20\x20\x20inPos'+'\x20=\x20vec3f(d'+'ecodeFloat'+'RG(tex0.rg'+'),\x20decodeF'+'loatRG(tex'+'0.ba),\x20dec'+'odeFloatRG'+'(tex1.rg))'+';\x0a\x20\x20\x20\x20inPo'+'s\x20=\x20(inPos'+'\x20-\x20vec3f(0'+'.5))\x20*\x20uni'+'form.inBou'+'ndsSize\x20+\x20'+'uniform.in'+'BoundsCent'+'er;\x0a\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inVel\x20=\x20('+('inVel\x20-\x20ve'+'c3f(0.5))\x20'+'*\x20uniform.'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20let\x20l'+'ife_decode'+'d\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20let\x20maxNe'+'gLife\x20=\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20(uniform.'+'rate\x20+\x20uni'+'form.rateD'+'iv));\x0a\x20\x20\x20\x20'+'let\x20maxPos'+'Life\x20=\x20uni'+'form.lifet'+'ime\x20+\x201.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20life_d'+'ecoded\x20*\x20('+'maxNegLife'+'\x20+\x20maxPosL'+'ife)\x20-\x20max'+'NegLife;\x0a}'),J3='\x0afn\x20getOut'+'put()\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20if\x20(pcPos'+'ition.y\x20<\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4f(ou'+'tPos,\x20(out'+'Angle\x20+\x2010'+'00.0)\x20*\x20vi'+'sMode);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(outVel,\x20'+'outLife);\x0a'+'\x20\x20\x20\x20}\x0a}\x0a',eO='\x0auniform\x20o'+'utBoundsMu'+'l:\x20vec3f;\x0a'+'uniform\x20ou'+'tBoundsAdd'+':\x20vec3f;\x0a\x0a'+'fn\x20encodeF'+'loatRG(\x20v:'+'\x20f32\x20)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20var\x20enc:'+'\x20vec2f\x20=\x20v'+'ec2f(1.0,\x20'+'255.0)\x20*\x20v'+';\x0a\x20\x20\x20\x20enc\x20'+'=\x20fract(en'+'c);\x0a\x20\x20\x20\x20en'+'c\x20=\x20enc\x20-\x20'+'enc.yy\x20*\x20('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20enc;\x0a'+'}\x0a\x0afn\x20enco'+'deFloatRGB'+'A(\x20v:\x20f32\x20'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20factors\x20='+'\x20vec4f(1.0'+',\x20255.0,\x206'+'5025.0,\x2016'+'0581375.0)'+';\x0a\x20\x20\x20\x20var\x20'+'enc:\x20vec4f'+'\x20=\x20factors'+'\x20*\x20v;\x0a\x20\x20\x20\x20'+'enc\x20=\x20frac'+'t(enc);\x0a\x20\x20'+'\x20\x20enc\x20=\x20en'+'c\x20-\x20enc.yz'+'ww\x20*\x20vec4f'+'(1.0\x20/\x20255'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x20255.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'return\x20enc'+';\x0a}\x0a\x0afn\x20ge'+'tOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20outPo'+'s\x20=\x20outPos'+'\x20*\x20uniform'+'.outBounds'+'Mul\x20+\x20unif'+'orm.outBou'+'ndsAdd;\x0a\x20\x20'+'\x20\x20outAngle'+'\x20=\x20fract(o'+'utAngle\x20/\x20'+'PI2);\x0a\x0a\x20\x20\x20'+'\x20outVel\x20=\x20'+'(outVel\x20/\x20'+'uniform.ma'+'xVel)\x20+\x20ve'+'c3f(0.5);\x20'+'//\x20TODO:\x20m'+'ul\x0a\x0a\x20\x20\x20\x20le'+'t\x20maxNegLi'+'fe\x20=\x20max(u'+'niform.lif'+'etime,\x20(un'+'iform.numP'+'articles\x20-'+'\x201.0)\x20*\x20(u'+'niform.rat'+'e\x20+\x20unifor'+'m.rateDiv)'+');\x0a\x20\x20\x20\x20let'+'\x20maxPosLif'+'e\x20=\x20unifor'+'m.lifetime'+'\x20+\x201.0;\x0a\x20\x20'+'\x20\x20outLife\x20'+'=\x20(outLife'+'\x20+\x20maxNegL'+'ife)\x20/\x20(ma'+'xNegLife\x20+'+'\x20maxPosLif'+'e);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(pcPosit'+'ion.y\x20<\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'vec4f(enco'+'deFloatRG('+'outPos.x),'+'\x20encodeFlo'+'atRG(outPo'+'s.y));\x0a\x20\x20\x20'+('\x20}\x20else\x20if'+'\x20(pcPositi'+'on.y\x20<\x202.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(encod'+'eFloatRG(o'+'utPos.z),\x20'+'encodeFloa'+'tRG(outAng'+'le));\x0a\x20\x20\x20\x20'+'}\x20else\x20if\x20'+'(pcPositio'+'n.y\x20<\x203.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(outVel'+',\x20visMode\x20'+'*\x200.5\x20+\x200.'+'5);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20encodeFl'+'oatRGBA(ou'+'tLife);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),tO='\x0auniform\x20s'+'pawnBounds'+':\x20mat3x3f;'+'\x0auniform\x20s'+'pawnPosInn'+'erRatio:\x20v'+'ec3f;\x0a\x0afn\x20'+'calcSpawnP'+'osition(in'+'Bounds:\x20ve'+'c3f,\x20rndFa'+'ctor:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'pos\x20=\x20inBo'+'unds\x20-\x20vec'+'3f(0.5);\x0a\x0a'+'\x20\x20\x20\x20let\x20po'+'sAbs\x20=\x20abs'+'(pos);\x0a\x20\x20\x20'+'\x20let\x20maxCo'+'mp\x20=\x20max(p'+'osAbs.x,\x20m'+'ax(posAbs.'+'y,\x20posAbs.'+'z));\x0a\x20\x20\x20\x20l'+'et\x20maxPos\x20'+'=\x20vec3f(ma'+'xComp);\x0a\x0a\x20'+'\x20\x20\x20let\x20edg'+'e\x20=\x20maxPos'+'\x20+\x20(vec3f('+'0.5)\x20-\x20max'+'Pos)\x20*\x20uni'+'form.spawn'+'PosInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'pos.x\x20=\x20ed'+'ge.x\x20*\x20sel'+'ect(2.0\x20*\x20'+'pos.x,\x20sig'+'n(pos.x),\x20'+'maxPos.x\x20='+'=\x20posAbs.x'+');\x0a\x20\x20\x20\x20pos'+'.y\x20=\x20edge.'+'y\x20*\x20select'+'(2.0\x20*\x20pos'+'.y,\x20sign(p'+'os.y),\x20max'+'Pos.y\x20==\x20p'+'osAbs.y);\x0a'+'\x20\x20\x20\x20pos.z\x20'+'=\x20edge.z\x20*'+'\x20select(2.'+'0\x20*\x20pos.z,'+'\x20sign(pos.'+'z),\x20maxPos'+'.z\x20==\x20posA'+'bs.z);\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20uni'+'form.emitt'+'erPos\x20+\x20un'+'iform.spaw'+'nBounds\x20*\x20'+'pos;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uniform.sp'+'awnBounds\x20'+'*\x20pos;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20*localV'+'elocity\x20=\x20'+'*localVelo'+'city\x20-\x20vec'+'3f(0.0,\x200.'+'0,\x20uniform'+'.initialVe'+'locity);\x0a}'+'\x0a',sO='\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'getOutput('+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',iO='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20par'+'ticleTexIN'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20particl'+'eTexINSamp'+'ler:\x20sampl'+'er;\x0avar\x20in'+'ternalTex0'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0avar\x20int'+'ernalTex1:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20internal'+'Tex1Sample'+'r:\x20sampler'+';\x0avar\x20inte'+'rnalTex2:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20internalT'+'ex2Sampler'+':\x20sampler;'+'\x0avar\x20inter'+'nalTex3:\x20t'+'exture_2d<'+'f32>;\x0avar\x20'+'internalTe'+'x3Sampler:'+'\x20sampler;\x0a'+'\x0auniform\x20e'+'mitterMatr'+'ix:\x20mat3x3'+'f;\x0auniform'+'\x20emitterMa'+'trixInv:\x20m'+'at3x3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0a\x0aun'+'iform\x20emit'+'terPos:\x20ve'+'c3f;\x0aunifo'+'rm\x20frameRa'+'ndom:\x20vec3'+'f;\x0auniform'+'\x20localVelo'+'cityDivMul'+'t:\x20vec3f;\x0a'+'uniform\x20ve'+'locityDivM'+'ult:\x20vec3f'+';\x0auniform\x20'+'delta:\x20f32'+';\x0auniform\x20'+'rate:\x20f32;'+'\x0auniform\x20r'+'ateDiv:\x20f3'+'2;\x0auniform'+'\x20lifetime:'+'\x20f32;\x0aunif'+'orm\x20numPar'+'ticles:\x20f3'+'2;\x0auniform'+'\x20rotSpeedD'+'ivMult:\x20f3'+'2;\x0auniform'+'\x20radialSpe'+'edDivMult:'+'\x20f32;\x0aunif'+'orm\x20seed:\x20'+'f32;\x0aunifo'+'rm\x20startAn'+'gle:\x20f32;\x0a'+'uniform\x20st'+'artAngle2:'+'\x20f32;\x0aunif'+'orm\x20initia'+'lVelocity:'+'\x20f32;\x0a\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0a\x0ava'+'r<private>'+'\x20inPos:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20in'+'Vel:\x20vec3f'+';\x0avar<priv'+'ate>\x20inAng'+('le:\x20f32;\x0av'+'ar<private'+'>\x20inShow:\x20'+'bool;\x0avar<'+'private>\x20i'+'nLife:\x20f32'+';\x0avar<priv'+'ate>\x20visMo'+'de:\x20f32;\x0a\x0a'+'var<privat'+'e>\x20outPos:'+'\x20vec3f;\x0ava'+'r<private>'+'\x20outVel:\x20v'+'ec3f;\x0avar<'+'private>\x20o'+'utAngle:\x20f'+'32;\x0avar<pr'+'ivate>\x20out'+'Show:\x20bool'+';\x0avar<priv'+'ate>\x20outLi'+'fe:\x20f32;\x0a'),rO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tLife\x20=\x20ou'+'tLife\x20-\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20particleR'+'ate);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20visMod'+'e\x20=\x20-1.0;\x0a'+'\x20\x20\x20\x20}\x0a',aO='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20selec'+'t(visMode,'+'\x20-1.0,\x20out'+'Life\x20<\x200.0'+');\x0a',nO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20subtract'+'Amount\x20=\x20m'+'ax(uniform'+'.lifetime,'+'\x20(uniform.'+'numParticl'+'es\x20-\x201.0)\x20'+'*\x20particle'+'Rate);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outLi'+'fe\x20=\x20outLi'+'fe\x20-\x20subtr'+'actAmount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'isMode\x20=\x201'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20visMod'+'e\x20=\x20select'+'(visMode,\x20'+'1.0,\x20outLi'+'fe\x20<\x200.0);'+'\x0a',oO='\x0auniform\x20s'+'pawnBounds'+'Sphere:\x20f3'+'2;\x0auniform'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio:\x20'+'f32;\x0a\x0afn\x20c'+'alcSpawnPo'+'sition(inB'+'ounds:\x20vec'+'3f,\x20rndFac'+'tor:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'nd4:\x20f32\x20='+'\x20fract(rnd'+'Factor\x20*\x201'+'000.0);\x0a\x20\x20'+'\x20\x20let\x20norm'+':\x20vec3f\x20=\x20'+'normalize('+'inBounds.x'+'yz\x20-\x20vec3f'+'(0.5));\x0a\x20\x20'+'\x20\x20let\x20r:\x20f'+'32\x20=\x20rnd4\x20'+'*\x20(1.0\x20-\x20u'+'niform.spa'+'wnBoundsSp'+'hereInnerR'+'atio)\x20+\x20un'+'iform.spaw'+'nBoundsSph'+'ereInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20unifo'+'rm.emitter'+'Pos\x20+\x20norm'+'\x20*\x20r\x20*\x20uni'+'form.spawn'+'BoundsSphe'+'re;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20n'+'orm\x20*\x20r\x20*\x20'+'uniform.sp'+'awnBoundsS'+'phere;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20ini'+'tialVelOff'+'set:\x20vec3f'+'\x20=\x20normali'+'ze(inBound'+'s\x20-\x20vec3f('+'0.5))\x20*\x20un'+'iform.init'+'ialVelocit'+'y;\x0a\x20\x20\x20\x20*lo'+'calVelocit'+'y\x20=\x20*local'+'Velocity\x20+'+'\x20initialVe'+'lOffset;\x0a}'+'\x0a',lO='\x0afn\x20satura'+'te(x:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0afn\x20unp'+'ack3NFloat'+'s(src:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20r\x20=\x20fract'+'(src);\x0a\x20\x20\x20'+'\x20let\x20g\x20=\x20f'+'ract(src\x20*'+'\x20256.0);\x0a\x20'+'\x20\x20\x20let\x20b\x20='+'\x20fract(src'+'\x20*\x2065536.0'+');\x0a\x20\x20\x20\x20ret'+'urn\x20vec3f('+'r,\x20g,\x20b);\x0a'+'}\x0a\x0a//\x20Stru'+'ct\x20to\x20hand'+'le\x20multipl'+'e\x20return\x20v'+'alues\x20from'+'\x20tex1Dlod_'+'lerp\x0astruc'+'t\x20TexLerpU'+'npackResul'+'t\x20{\x0a\x20\x20\x20\x20re'+'sult:\x20vec3'+'f,\x0a\x20\x20\x20\x20unp'+'acked:\x20vec'+'3f\x0a}\x0a\x0afn\x20t'+'ex1Dlod_le'+'rp(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20tc:\x20'+'vec2f)\x20->\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'tc_next\x20=\x20'+'tc\x20+\x20vec2f'+'(uniform.g'+'raphSample'+'Size);\x0a\x20\x20\x20'+'\x20let\x20a\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20tc,\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20tc_next'+',\x200.0);\x0a\x20\x20'+'\x20\x20let\x20c\x20=\x20'+'fract(tc.x'+'\x20*\x20uniform'+'.graphNumS'+'amples);\x0a\x0a'+'\x20\x20\x20\x20let\x20un'+'packedA\x20=\x20'+'unpack3NFl'+'oats(a.w);'+'\x0a\x20\x20\x20\x20let\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20let\x20'+'w_out\x20=\x20mi'+'x(unpacked'+'A,\x20unpacke'+'dB,\x20c);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'TexLerpUnp'+'ackResult('+'mix(a.xyz,'+'\x20b.xyz,\x20c)'+',\x20w_out);\x0a'+'}\x0a\x0aconst\x20H'+'ASHSCALE4:'+'\x20vec4f\x20=\x20v'+'ec4f(1031.'+'0,\x200.1030,'+'\x200.0973,\x200'+'.1099);\x0afn'+'\x20hash41(p:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20var\x20p4\x20=\x20'+'fract(vec4'+'f(p)\x20*\x20HAS'+('HSCALE4);\x0a'+'\x20\x20\x20\x20p4\x20=\x20p'+'4\x20+\x20dot(p4'+',\x20p4.wzxy\x20'+'+\x2019.19);\x0a'+'\x20\x20\x20\x20return'+'\x20fract(vec'+'4f((p4.x\x20+'+'\x20p4.y)*p4.'+'z,\x20(p4.x\x20+'+'\x20p4.z)*p4.'+'y,\x20(p4.y\x20+'+'\x20p4.z)*p4.'+'w,\x20(p4.z\x20+'+'\x20p4.w)*p4.'+'x));\x0a}\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20if\x20(pc'+'Position.x'+'\x20>\x20uniform'+'.numPartic'+'les)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20re'+'adInput(in'+'put.vUv0.x'+');\x0a\x20\x20\x20\x20vis'+'Mode\x20=\x20sel'+'ect(-1.0,\x20'+'1.0,\x20inSho'+'w);\x0a\x0a\x20\x20\x20\x20l'+'et\x20rndFact'+'or\x20=\x20hash4'+'1(pcPositi'+'on.x\x20+\x20uni'+'form.seed)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20particleR'+'ate\x20=\x20unif'+'orm.rate\x20+'+'\x20uniform.r'+'ateDiv\x20*\x20r'+'ndFactor.x'+';\x0a\x0a\x20\x20\x20\x20out'+'Life\x20=\x20inL'+'ife\x20+\x20unif'+'orm.delta;'+'\x0a\x20\x20\x20\x20let\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20uniform'+'.lifetime,'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t0\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'0,\x20interna'+'lTex0Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20va'+'r\x20localVel'+'ocity\x20=\x20le'+'rpResult0.'+'result;\x0a\x20\x20'+'\x20\x20let\x20loca'+'lVelocityD'+'iv\x20=\x20lerpR'+'esult0.unp'+'acked;\x0a\x0a\x20\x20'+'\x20\x20let\x20lerp'+'Result1\x20=\x20'+'tex1Dlod_l'+'erp(intern'+'alTex1,\x20in'+'ternalTex1'+'Sampler,\x20v'+'ec2f(nlife'+',\x200.0));\x0a\x20'+'\x20\x20\x20var\x20vel'+'ocity\x20=\x20le'+'rpResult1.'+'result;\x0a\x20\x20'+'\x20\x20let\x20velo'+'cityDiv\x20=\x20'+'lerpResult')+('1.unpacked'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t2\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'2,\x20interna'+'lTex2Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20le'+'t\x20params\x20='+'\x20lerpResul'+'t2.result;'+'\x0a\x20\x20\x20\x20let\x20p'+'aramDiv\x20=\x20'+'lerpResult'+'2.unpacked'+';\x0a\x20\x20\x20\x20var\x20'+'rotSpeed\x20='+'\x20params.x;'+'\x0a\x20\x20\x20\x20let\x20r'+'otSpeedDiv'+'\x20=\x20paramDi'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'let\x20lerpRe'+'sult3\x20=\x20te'+'x1Dlod_ler'+'p(internal'+'Tex3,\x20inte'+'rnalTex3Sa'+'mpler,\x20vec'+'2f(nlife,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20let\x20radia'+'lParams\x20=\x20'+'lerpResult'+'3.result;\x0a'+'\x20\x20\x20\x20let\x20ra'+'dialParamD'+'iv\x20=\x20lerpR'+'esult3.unp'+'acked;\x0a\x20\x20\x20'+'\x20let\x20radia'+'lSpeed\x20=\x20r'+'adialParam'+'s.x;\x0a\x20\x20\x20\x20l'+'et\x20radialS'+'peedDiv\x20=\x20'+'radialPara'+'mDiv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20res'+'pawn\x20=\x20inL'+'ife\x20<=\x200.0'+'\x20||\x20outLif'+'e\x20>=\x20unifo'+'rm.lifetim'+'e;\x0a\x20\x20\x20\x20inP'+'os\x20=\x20selec'+'t(inPos,\x20c'+'alcSpawnPo'+'sition(rnd'+'Factor.xyz'+',\x20rndFacto'+'r.x),\x20resp'+'awn);\x0a\x20\x20\x20\x20'+'inAngle\x20=\x20'+'select(inA'+'ngle,\x20mix('+'uniform.st'+'artAngle,\x20'+'uniform.st'+'artAngle2,'+'\x20rndFactor'+'.x),\x20respa'+'wn);\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20radialVe'+'l:\x20vec3f\x20='+'\x20inPos\x20-\x20u'+'niform.emi'+'tterPos;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20radialVel'+':\x20vec3f\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20=\x20select'+'(vec3f(0.0'+'),\x20radialS'+'peed\x20*\x20nor'+'malize(rad'+'ialVel),\x20d'+'ot(radialV'+'el,\x20radial'+'Vel)\x20>\x201.0')+('E-8);\x0a\x20\x20\x20\x20'+'radialVel\x20'+'=\x20radialVe'+'l\x20+\x20(radia'+'lSpeedDiv\x20'+'*\x20vec3f(2.'+'0)\x20-\x20vec3f'+'(1.0))\x20*\x20u'+'niform.rad'+'ialSpeedDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20=\x20localV'+'elocity\x20+\x20'+'(localVelo'+'cityDiv\x20*\x20'+'vec3f(2.0)'+'\x20-\x20vec3f(1'+'.0))\x20*\x20uni'+'form.local'+'VelocityDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x20\x20\x20\x20vel'+'ocity\x20=\x20ve'+'locity\x20+\x20('+'velocityDi'+'v\x20*\x20vec3f('+'2.0)\x20-\x20vec'+'3f(1.0))\x20*'+'\x20uniform.v'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20rotS'+'peed\x20=\x20rot'+'Speed\x20+\x20(r'+'otSpeedDiv'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20unif'+'orm.rotSpe'+'edDivMult\x20'+'*\x20rndFacto'+'r.y;\x0a\x0a\x20\x20\x20\x20'+'addInitial'+'Velocity(&'+'localVeloc'+'ity,\x20rndFa'+'ctor.xyz);'+'\x0a\x0a\x20\x20\x20\x20#ifn'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20outVel'+'\x20=\x20uniform'+'.emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tVel\x20=\x20(lo'+'calVelocit'+'y\x20+\x20radial'+'Vel)\x20/\x20uni'+'form.emitt'+'erScale\x20+\x20'+'uniform.em'+'itterMatri'+'xInv\x20*\x20vel'+'ocity;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20outPos\x20'+'=\x20inPos\x20+\x20'+'outVel\x20*\x20u'+'niform.del'+'ta;\x0a\x20\x20\x20\x20ou'+'tAngle\x20=\x20i'+'nAngle\x20+\x20r'+'otSpeed\x20*\x20'+'uniform.de'+'lta;\x0a'),cO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20rotated'+'QuadXY);\x0a',hO='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20sa'+'turate(gam'+'maCorrectI'+'nput(max(a'+',\x200.0)));\x0a'+'\x20\x20\x20\x20if\x20((r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+')\x20<\x200.0000'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20}\x20\x20'+'\x20\x20\x0a',dO='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3f'+'(1.0),\x20rgb'+',\x20a);\x0a\x20\x20\x20\x20'+'if\x20((rgb.r'+'\x20+\x20rgb.g\x20+'+'\x20rgb.b)\x20>\x20'+'2.99)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a',fO='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20}\x0a',uO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20\x20'+'\x20//\x20XYZ\x20=\x20'+'world\x20pos,'+'\x20W\x20=\x20life\x0a'+'attribute\x20'+'particle_v'+'ertexData2'+':\x20vec4f;\x20\x20'+'//\x20X\x20=\x20ang'+'le,\x20Y\x20=\x20sc'+'ale,\x20Z\x20=\x20a'+'lpha,\x20W\x20=\x20'+'velocity.x'+'\x0aattribute'+'\x20particle_'+'vertexData'+'3:\x20vec4f;\x20'+'\x20//\x20XYZ\x20=\x20'+'particle\x20l'+'ocal\x20pos,\x20'+'W\x20=\x20veloci'+'ty.y\x0aattri'+'bute\x20parti'+'cle_vertex'+'Data4:\x20f32'+';\x20\x20\x20\x20//\x20pa'+'rticle\x20id\x0a'+'\x0a//\x20type\x20d'+'epends\x20on\x20'+'useMesh\x20pr'+'operty.\x20St'+'art\x20with\x20X'+'\x20=\x20velocit'+'y.z,\x20Y\x20=\x20p'+'article\x20ID'+'\x20and\x20for\x20m'+'esh\x20partic'+'les\x20procee'+'ds\x20with\x20Z\x20'+'=\x20mesh\x20UV.'+'x,\x20W\x20=\x20mes'+'h\x20UV.y\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_ver'+'texData5:\x20'+'vec2f;\x0a#el'+'se\x0a\x20\x20\x20\x20att'+'ribute\x20par'+'ticle_vert'+'exData5:\x20v'+'ec4f;\x0a#end'+'if\x0a\x0aunifor'+'m\x20matrix_v'+'iewProject'+'ion:\x20mat4x'+'4f;\x0aunifor'+'m\x20matrix_m'+'odel:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'trix_norma'+'l:\x20mat3x3f'+';\x0auniform\x20'+'matrix_vie'+'wInverse:\x20'+'mat4x4f;\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20lifet'+'ime:\x20f32;\x0a'+'uniform\x20st'+'retch:\x20f32'+';\x0auniform\x20'+'seed:\x20f32;'+'\x0auniform\x20w'+'rapBounds:'+'\x20vec3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0auni'+'form\x20faceT'+'angent:\x20ve'+'c3f;\x0aunifo'+'rm\x20faceBin'+'orm:\x20vec3f'+';\x0a\x0a#ifdef\x20'+('PARTICLE_G'+'PU\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex0:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x0Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex1'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex1S'+'ampler:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20var\x20inter'+'nalTex2:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex2Samp'+'ler:\x20sampl'+'er;\x0a#endif'+'\x0auniform\x20e'+'mitterPos:'+'\x20vec3f;\x0a\x0av'+'arying\x20tex'+'CoordsAlph'+'aLife:\x20vec'+'4f;\x0a\x0astruc'+'t\x20RotateRe'+'sult\x20{\x0a\x20\x20\x20'+'\x20rotatedVe'+'c:\x20vec2f,\x0a'+'\x20\x20\x20\x20matrix'+':\x20mat2x2f\x0a'+'}\x0a\x0afn\x20rota'+'teWithMatr'+'ix(quadXY:'+'\x20vec2f,\x20pR'+'otation:\x20f'+'32)\x20->\x20Rot'+'ateResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'c\x20=\x20cos(pR'+'otation);\x0a'+'\x20\x20\x20\x20let\x20s\x20'+'=\x20sin(pRot'+'ation);\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'mat2x2f(ve'+'c2f(c,\x20s),'+'\x20vec2f(-s,'+'\x20c));\x0a\x20\x20\x20\x20'+'return\x20Rot'+'ateResult('+'m\x20*\x20quadXY'+',\x20m);\x0a}\x0a\x0a\x0a'+'fn\x20billboa'+'rd(Instanc'+'eCoords:\x20v'+'ec3f,\x20quad'+'XY:\x20vec2f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20customF'+'ace(Instan'+'ceCoords:\x20'+'vec3f,\x20qua'+'dXY:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20pos\x20=\x20uni'+'form.faceT'+'angent\x20*\x20q'+'uadXY.x\x20+\x20'+'uniform.fa'+'ceBinorm\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20safeNor'+'malize(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20l\x20=\x20')+('length(v);'+'\x0a\x20\x20\x20\x20retur'+'n\x20select(v'+',\x20v\x20/\x20l,\x20l'+'\x20>\x201e-06);'+'\x0a}\x0a\x0a@verte'+'x\x0afn\x20verte'+'xMain(inpu'+'t:\x20VertexI'+'nput)\x20->\x20V'+'ertexOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'VertexOutp'+'ut;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20particl'+'ePos\x20=\x20inp'+'ut.particl'+'e_vertexDa'+'ta.xyz;\x0a\x20\x20'+'\x20\x20let\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20let\x20vertP'+'os\x20=\x20input'+'.particle_'+'vertexData'+'3.xyz;\x0a\x20\x20\x20'+'\x20var\x20inVel'+'\x20=\x20vec3f(i'+'nput.parti'+'cle_vertex'+'Data2.w,\x20i'+'nput.parti'+'cle_vertex'+'Data3.w,\x20i'+'nput.parti'+'cle_vertex'+'Data5.x);\x0a'+'\x0a\x20\x20\x20\x20let\x20i'+'d\x20=\x20floor('+'input.part'+'icle_verte'+'xData4);\x0a\x20'+'\x20\x20\x20let\x20rnd'+'Factor\x20=\x20f'+'ract(sin(i'+'d\x20+\x201.0\x20+\x20'+'uniform.se'+'ed));\x0a\x20\x20\x20\x20'+'let\x20rndFac'+'tor3\x20=\x20vec'+'3f(rndFact'+'or,\x20fract('+'rndFactor*'+'10.0),\x20fra'+'ct(rndFact'+'or*100.0))'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20mo'+'delRotatio'+'n\x20=\x20mat3x3'+'f(uniform.'+'matrix_mod'+'el[0].xyz,'+'\x20uniform.m'+'atrix_mode'+'l[1].xyz,\x20'+'uniform.ma'+'trix_model'+'[2].xyz);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'Vel\x20=\x20mode'+'lRotation\x20'+'*\x20inVel;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20let\x20ve'+'locityV\x20=\x20'+'safeNormal'+'ize((mat3x'+'3f(uniform'+'.matrix_vi'+'ew[0].xyz,'+'\x20uniform.m'+'atrix_view'+'[1].xyz,\x20u'+'niform.mat'+'rix_view[2'+'].xyz)\x20*\x20i'+'nVel).xy);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'quadXY\x20=\x20v'+'ertPos.xy;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20USE_MES'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.tex'+'CoordsAlph')+('aLife\x20=\x20ve'+'c4f(input.'+'particle_v'+'ertexData5'+'.zw,\x20input'+'.particle_'+'vertexData'+'2.z,\x20input'+'.particle_'+'vertexData'+'.w);\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'texCoordsA'+'lphaLife\x20='+'\x20vec4f(qua'+'dXY\x20*\x20-0.5'+'\x20+\x200.5,\x20in'+'put.partic'+'le_vertexD'+'ata2.z,\x20in'+'put.partic'+'le_vertexD'+'ata.w);\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20var\x20rot'+'Matrix:\x20ma'+'t2x2f;\x0a\x0a\x20\x20'+'\x20\x20var\x20inAn'+'gle\x20=\x20inpu'+'t.particle'+'_vertexDat'+'a2.x;\x0a\x20\x20\x20\x20'+'var\x20partic'+'lePosMoved'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20meshLoc'+'alPos\x20=\x20in'+'put.partic'+'le_vertexD'+'ata3.xyz;\x0a'),pO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20inp'+'ut.particl'+'e_vertexDa'+'ta2.y\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20localP'+'os\x20=\x20local'+'Pos\x20+\x20part'+'iclePos;\x0a\x0a'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20vec4f('+'localPos,\x20'+'1.0);\x0a',mO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20rotate'+'dQuadXY);\x0a',_O='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(rg'+'b,\x20a);\x0a\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a}\x0a',gO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20sca'+'le\x20*\x20unifo'+'rm.emitter'+'Scale;\x0a\x20\x20\x20'+'\x20localPos\x20'+'=\x20localPos'+'\x20+\x20particl'+'ePos;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'REEN_SPACE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(localPo'+'s.x,\x20local'+'Pos.y,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_v'+'iewProject'+'ion\x20*\x20vec4'+'f(localPos'+'.xyz,\x201.0)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a',SO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20no'+'rmal\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20var\x20posN'+'ormal:\x20vec'+'3f\x20=\x20-norm'+'al\x20*\x200.5\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'=\x20negNorma'+'l\x20*\x20negNor'+'mal;\x0a\x20\x20\x20\x20p'+'osNormal\x20='+'\x20posNormal'+'\x20*\x20posNorm'+'al;\x0a',yO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20/'+'/\x20XYZ\x20=\x20pa'+'rticle\x20pos'+'ition,\x20W\x20='+'\x20particle\x20'+'ID\x20+\x20rando'+'m\x20factor\x0a#'+'if\x20defined'+'(USE_MESH)'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(USE'+'_MESH_UV)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_uv:'+'\x20vec2f;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'esh\x20UV\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20pa'+'rticle_uv:'+'\x20vec2f\x20=\x20v'+'ec2f(0.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0aunifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0aunif'+'orm\x20matrix'+'_normal:\x20m'+'at3x3f;\x0aun'+'iform\x20matr'+'ix_viewInv'+'erse:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20numPa'+'rticlesPot'+':\x20f32;\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0auni'+'form\x20stret'+'ch:\x20f32;\x0au'+'niform\x20wra'+'pBounds:\x20v'+'ec3f;\x0aunif'+'orm\x20emitte'+'rScale:\x20ve'+'c3f;\x0aunifo'+'rm\x20emitter'+'Pos:\x20vec3f'+';\x0auniform\x20'+'faceTangen'+'t:\x20vec3f;\x0a'+'uniform\x20fa'+'ceBinorm:\x20'+'vec3f;\x0auni'+'form\x20rate:'+'\x20f32;\x0aunif'+'orm\x20rateDi'+'v:\x20f32;\x0aun'+'iform\x20life'+'time:\x20f32;'+'\x0auniform\x20d'+'eltaRandom'+'nessStatic'+':\x20f32;\x0auni'+'form\x20scale'+'DivMult:\x20f'+'32;\x0aunifor'+'m\x20alphaDiv'+'Mult:\x20f32;'+'\x0auniform\x20s'+'eed:\x20f32;\x0a'+'uniform\x20de'+'lta:\x20f32;\x0a'+'\x0avar\x20parti'+('cleTexOUT:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20particle'+'TexOUTSamp'+'ler:\x20sampl'+'er;\x0avar\x20pa'+'rticleTexI'+'N:\x20texture'+'_2d<f32>;\x0a'+'var\x20partic'+'leTexINSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex0:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex1:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x1Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex2'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex2S'+'ampler:\x20sa'+'mpler;\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0avarying'+'\x20texCoords'+'AlphaLife:'+'\x20vec4f;\x0a\x0av'+'ar<private'+'>\x20inPos:\x20v'+'ec3f;\x0avar<'+'private>\x20i'+'nVel:\x20vec3'+'f;\x0avar<pri'+'vate>\x20inAn'+'gle:\x20f32;\x0a'+'var<privat'+'e>\x20inShow:'+'\x20bool;\x0avar'+'<private>\x20'+'inLife:\x20f3'+'2;\x0a'),vO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20ma'+'x(normal,\x20'+'vec3(0.0))'+';\x0a\x20\x20\x20\x20var\x20'+'posNormal:'+'\x20vec3f\x20=\x20m'+'ax(-normal'+',\x20vec3(0.0'+'));\x0a',xO='\x0a\x20\x20\x20\x20let\x20l'+'ight:\x20vec3'+'f\x20=\x20negNor'+'mal.x\x20*\x20un'+'iform.ligh'+'tCube[0]\x20+'+'\x20posNormal'+'.x\x20*\x20unifo'+'rm.lightCu'+'be[1]\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20negNormal'+'.y\x20*\x20unifo'+'rm.lightCu'+'be[2]\x20+\x20po'+'sNormal.y\x20'+'*\x20uniform.'+'lightCube['+'3]\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ne'+'gNormal.z\x20'+'*\x20uniform.'+'lightCube['+'4]\x20+\x20posNo'+'rmal.z\x20*\x20u'+'niform.lig'+'htCube[5];'+'\x0a\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20li'+'ght;\x0a',TO='\x0aparticleP'+'os\x20=\x20(unif'+'orm.matrix'+'_model\x20*\x20v'+'ec4f(parti'+'clePos,\x201.'+'0)).xyz;\x0a',wO='\x0avar\x20local'+'Pos\x20=\x20mesh'+'LocalPos;\x0a'+'let\x20rotRes'+'ultXY\x20=\x20ro'+'tateWithMa'+'trix(local'+'Pos.xy,\x20in'+'Angle);\x0alo'+'calPos\x20=\x20v'+'ec3f(rotRe'+'sultXY.rot'+'atedVec,\x20l'+'ocalPos.z)'+';\x0arotMatri'+'x\x20=\x20rotRes'+'ultXY.matr'+'ix;\x0a\x0alet\x20r'+'otResultYZ'+'\x20=\x20rotateW'+'ithMatrix('+'localPos.y'+'z,\x20inAngle'+');\x0alocalPo'+'s\x20=\x20vec3f('+'localPos.x'+',\x20rotResul'+'tYZ.rotate'+'dVec);\x0arot'+'Matrix\x20=\x20r'+'otResultYZ'+'.matrix;\x0a\x0a'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',EO='\x0aoutput.No'+'rmal\x20=\x20nor'+'malize(loc'+'alPos\x20+\x20un'+'iform.matr'+'ix_viewInv'+'erse[2].xy'+'z);\x0a',bO='\x0a\x20\x20\x20\x20let\x20s'+'ampledNorm'+'al:\x20vec4f\x20'+'=\x20textureS'+'ample(norm'+'alMap,\x20nor'+'malMapSamp'+'ler,\x20vec2f'+'(input.tex'+'CoordsAlph'+'aLife.x,\x201'+'.0\x20-\x20input'+'.texCoords'+'AlphaLife.'+'y));\x0a\x20\x20\x20\x20l'+'et\x20normalM'+'ap:\x20vec3f\x20'+'=\x20normaliz'+'e(sampledN'+'ormal.xyz\x20'+'*\x202.0\x20-\x201.'+'0);\x0a\x0a\x20\x20\x20\x20l'+'et\x20Particl'+'eMat\x20=\x20mat'+'3x3<f32>(P'+'articleMat'+'0,\x20Particl'+'eMat1,\x20Par'+'ticleMat2)'+';\x0a\x20\x20\x20\x20let\x20'+'normal:\x20ve'+'c3f\x20=\x20Part'+'icleMat\x20*\x20'+'normalMap;'+'\x0a',AO='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan2(veloc'+'ityV.x,\x20ve'+'locityV.y)'+';\x0a',CO='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',PO='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20Normal:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20varying\x20'+'ParticleMa'+'t0:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Particle'+'Mat2:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'Cube:\x20arra'+'y<vec3f,\x206'+'>;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vDe'+'pth:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sc'+'reenDepthP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22fogPS\x22\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'ap:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'apSampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'iclePS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'VERTEX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'ormal:\x20vec'+'3f\x20=\x20Norma'+'l;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20MAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_normal'+'MapPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20!=\x20NON'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20HAL'+'F_LAMBERT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_halflambe'+'rtPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_lambertPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+('#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_light'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20BLE'+'ND\x20==\x20NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendNorma'+'lPS\x22\x0a\x20\x20\x20\x20#'+'elif\x20BLEND'+'\x20==\x20ADDITI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendAddPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+'\x20MULTIPLIC'+'ATIVE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_blendMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_endPS'+'\x22\x0a'),MO='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20anim'+'TexTilesPa'+'rams:\x20vec2'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20a'+'nimTexPara'+'ms:\x20vec4f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20ani'+'mTexIndexP'+'arams:\x20vec'+'2f;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20Partic'+'leMat0:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20Pa'+'rticleMat2'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20==\x20V'+'ERTEX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Normal:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vDepth:\x20f'+'32;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_in'+'itVS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20PACK8\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleIn'+'putRgba8PS'+'\x22\x20\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x20\x22parti'+'cleInputFl'+'oatPS\x22\x20\x20\x20\x20'+'//\x20why\x20are'+'\x20these\x20PS\x20'+'and\x20not\x20VS'+'?\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'screenDept'+'hPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'articleVS\x22'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x20//\x20PARTI'+'CLE_CPU\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SOFT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22screenDep'+'thPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_c'+'puVS\x22\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_l'+('ocalShiftV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20ANIM'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20A'+'NIMTEX_LOO'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimFram'+'eLoopVS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleAnimFra'+'meClampVS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimTexV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20wrap\x20is\x20'+'not\x20used\x20o'+'n\x20CPU,\x20it\x20'+'was\x20commen'+'ted\x20out.\x20T'+'ODO:\x20inves'+'tigate\x20why'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'WRAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_wrap'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ALIGN_TO'+'_MOTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_point'+'AlongVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20USE_MESH'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_me'+'shVS\x22\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CUSTOM_FA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_custom'+'FaceVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_billboa'+'rdVS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20VERTEX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_norma'+'lVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20NORMA'+'L\x20==\x20MAP\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_TBNV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STRE'+'TCH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_stretchVS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PART'+'ICLE_GPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_endV')+('S\x22\x0a\x20\x20\x20\x20#el'+'se\x20//\x20PART'+'ICLE_CPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_cpu_'+'endVS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softVS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),DO='\x0a\x20\x20\x20\x20var\x20d'+'epth:\x20f32\x20'+'=\x20getLinea'+'rScreenDep'+'thFrag();\x0a'+'\x20\x20\x20\x20var\x20pa'+'rticleDept'+'h:\x20f32\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20var\x20depth'+'Diff:\x20f32\x20'+'=\x20saturate'+'(abs(parti'+'cleDepth\x20-'+'\x20depth)\x20*\x20'+'uniform.so'+'ftening);\x0a'+'\x20\x20\x20\x20a\x20=\x20a\x20'+'*\x20depthDif'+'f;\x0a',IO='\x0a\x20\x20\x20\x20outpu'+'t.vDepth\x20='+'\x20getLinear'+'Depth(loca'+'lPos);\x0a',LO='\x0a\x20\x20\x20\x20let\x20m'+'oveDir:\x20ve'+'c3f\x20=\x20inVe'+'l\x20*\x20unifor'+'m.stretch;'+'\x0a\x20\x20\x20\x20var\x20p'+'osPrev:\x20ve'+'c3f\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20=\x20posPrev'+'\x20+\x20particl'+'ePosMoved;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'viewRotati'+'onTemp:\x20ma'+'t3x3f\x20=\x20ma'+'t3x3f(unif'+'orm.matrix'+'_view[0].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[1].xyz'+',\x20uniform.'+'matrix_vie'+'w[2].xyz);'+'\x0a\x20\x20\x20\x20let\x20c'+'enterToVer'+'texV:\x20vec2'+'f\x20=\x20normal'+'ize((viewR'+'otationTem'+'p\x20*\x20localP'+'os).xy);\x0a\x0a'+'\x20\x20\x20\x20let\x20in'+'terpolatio'+'n:\x20f32\x20=\x20d'+'ot(-veloci'+'tyV,\x20cente'+'rToVertexV'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x0a\x20\x20\x20\x20'+'particlePo'+'s\x20=\x20mix(pa'+'rticlePos,'+'\x20posPrev,\x20'+'interpolat'+'ion);\x0a',RO='\x0a\x20\x20\x20\x20let\x20r'+'ot3\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(r'+'otMatrix[0'+'][0],\x20rotM'+'atrix[1][0'+'],\x200.0),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(rotMatr'+'ix[0][1],\x20'+'rotMatrix['+'1][1],\x200.0'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3f(0.0'+',\x200.0,\x201.0'+')\x0a\x20\x20\x20\x20);\x0a\x0a'+'\x20\x20\x20\x20let\x20vi'+'ewBasis\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-un'+'iform.matr'+'ix_viewInv'+'erse[0].xy'+'z,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-uniform.'+'matrix_vie'+'wInverse[1'+'].xyz,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.matrix_'+'viewInvers'+'e[2].xyz\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20tempM'+'at\x20=\x20viewB'+'asis\x20*\x20rot'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20WGSL\x20does'+'\x20not\x20suppo'+'rt\x20matrix\x20'+'varyings,\x20'+'decompose\x20'+'it\x20to\x20vec3'+'s\x0a\x20\x20\x20\x20outp'+'ut.Particl'+'eMat0\x20=\x20te'+'mpMat[0];\x0a'+'\x20\x20\x20\x20output'+'.ParticleM'+'at1\x20=\x20temp'+'Mat[1];\x0a\x20\x20'+'\x20\x20output.P'+'articleMat'+'2\x20=\x20tempMa'+'t[2];\x0a',OO='\x0a\x20\x20\x20\x20let\x20o'+'rigParticl'+'ePos:\x20vec3'+'f\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20particleP'+'os\x20=\x20parti'+'clePos\x20-\x20u'+'niform.mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20=\x20(par'+'ticlePos\x20%'+'\x20uniform.w'+'rapBounds)'+'\x20-\x20uniform'+'.wrapBound'+'s\x20*\x200.5;\x0a\x20'+'\x20\x20\x20particl'+'ePos\x20=\x20par'+'ticlePos\x20+'+'\x20uniform.m'+'atrix_mode'+'l[3].xyz;\x0a'+'\x20\x20\x20\x20partic'+'lePosMoved'+'\x20=\x20particl'+'ePos\x20-\x20ori'+'gParticleP'+'os;\x0a',FO={'particlePS':X3,'particleVS':q3,'particleAnimFrameClampVS':j3,'particleAnimFrameLoopVS':Y3,'particleAnimTexVS':K3,'particleInputFloatPS':Z3,'particleInputRgba8PS':Q3,'particleOutputFloatPS':J3,'particleOutputRgba8PS':eO,'particleUpdaterAABBPS':tO,'particleUpdaterEndPS':sO,'particleUpdaterInitPS':iO,'particleUpdaterNoRespawnPS':rO,'particleUpdaterOnStopPS':aO,'particleUpdaterRespawnPS':nO,'particleUpdaterSpherePS':oO,'particleUpdaterStartPS':lO,'particle_billboardVS':cO,'particle_blendAddPS':hO,'particle_blendMultiplyPS':dO,'particle_blendNormalPS':fO,'particle_cpuVS':uO,'particle_cpu_endVS':pO,'particle_customFaceVS':mO,'particle_endPS':_O,'particle_endVS':gO,'particle_halflambertPS':SO,'particle_initVS':yO,'particle_lambertPS':vO,'particle_lightingPS':xO,'particle_localShiftVS':TO,'particle_meshVS':wO,'particle_normalVS':EO,'particle_normalMapPS':bO,'particle_pointAlongVS':AO,'particle_simulationPS':CO,'particle_shaderPS':PO,'particle_shaderVS':MO,'particle_softPS':DO,'particle_softVS':IO,'particle_stretchVS':LO,'particle_TBNVS':RO,'particle_wrapVS':OO},NO=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class kO extends ct{constructor(_0x34b3d2){super(_0x34b3d2),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=e3,this['DataType']=t3,this['schema']=NO,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this),Pe['get'](_0x34b3d2['graphicsDe'+'vice'],Fe)['add']($3),Pe['get'](_0x34b3d2['graphicsDe'+'vice'],it)['add'](FO);}['initialize'+'ComponentD'+'ata'](_0x52c777,_0x403f1c,_0x26bb19){const _0x1d73d1={};_0x26bb19=[];const _0x9c5737=this['propertyTy'+'pes'];(_0x403f1c['mesh']instanceof pe||typeof _0x403f1c['mesh']=='number')&&(_0x403f1c['meshAsset']=_0x403f1c['mesh'],delete _0x403f1c['mesh']);for(const _0x564f81 in _0x403f1c){if(_0x403f1c['hasOwnProp'+'erty'](_0x564f81)&&(_0x26bb19['push'](_0x564f81),_0x1d73d1[_0x564f81]=_0x403f1c[_0x564f81]),_0x9c5737[_0x564f81]==='vec3')Array['isArray'](_0x1d73d1[_0x564f81])&&(_0x1d73d1[_0x564f81]=new D(_0x1d73d1[_0x564f81][0x73c+-0x1af5+-0x231*-0x9],_0x1d73d1[_0x564f81][-0x3*0x5c5+-0x1807*0x1+-0x13*-0x22d],_0x1d73d1[_0x564f81][0xe11+-0x1b75+0xd66]));else{if(_0x9c5737[_0x564f81]==='curve'){if(!(_0x1d73d1[_0x564f81]instanceof qs)){const _0x358aef=_0x1d73d1[_0x564f81]['type'];_0x1d73d1[_0x564f81]=new qs(_0x1d73d1[_0x564f81]['keys']),_0x1d73d1[_0x564f81]['type']=_0x358aef;}}else{if(_0x9c5737[_0x564f81]==='curveset'&&!(_0x1d73d1[_0x564f81]instanceof na)){const _0xf21232=_0x1d73d1[_0x564f81]['type'];_0x1d73d1[_0x564f81]=new na(_0x1d73d1[_0x564f81]['keys']),_0x1d73d1[_0x564f81]['type']=_0xf21232;}}}_0x1d73d1['layers']&&Array['isArray'](_0x1d73d1['layers'])&&(_0x1d73d1['layers']=_0x1d73d1['layers']['slice'](0x26d1+0x127e+-0x11*0x35f));}super['initialize'+'ComponentD'+'ata'](_0x52c777,_0x1d73d1,_0x26bb19);}['cloneCompo'+'nent'](_0x5bdd65,_0x3ca6ae){const _0x45f59e=_0x5bdd65['particlesy'+'stem']['data'],_0x1a4eb8=this['schema'],_0x4b9fb8={};for(let _0x51f5a1=-0xf06+0x1d48+-0xe42,_0x29f24c=_0x1a4eb8['length'];_0x51f5a1<_0x29f24c;_0x51f5a1++){const _0x45605a=_0x1a4eb8[_0x51f5a1];let _0x3e3593=_0x45f59e[_0x45605a];_0x3e3593 instanceof D||_0x3e3593 instanceof qs||_0x3e3593 instanceof na?(_0x3e3593=_0x3e3593['clone'](),_0x4b9fb8[_0x45605a]=_0x3e3593):_0x45605a==='layers'?_0x4b9fb8['layers']=_0x45f59e['layers']['slice'](-0x1c9a+-0xd30+0x29ca):_0x3e3593!=null&&(_0x4b9fb8[_0x45605a]=_0x3e3593);}return this['addCompone'+'nt'](_0x3ca6ae,_0x4b9fb8);}['onUpdate'](_0x3db5fe){const _0x29cfb0=this['store'],_0x3d521f=this['app']['stats']['particles'],_0x535904=this['app']['scene']['layers'];for(let _0x1f039f=0x1*-0x1877+0x1*0x43c+-0x143b*-0x1;_0x1f039f<_0x535904['layerList']['length'];_0x1f039f++)_0x535904['layerList'][_0x1f039f]['requiresLi'+'ghtCube']=!(-0x1ea8+0x95c+0x1*0x154d);for(const _0x1631e9 in _0x29cfb0)if(_0x29cfb0['hasOwnProp'+'erty'](_0x1631e9)){const _0x147a21=_0x29cfb0[_0x1631e9],_0x1657f0=_0x147a21['entity'],_0x9241df=_0x147a21['data'];if(_0x9241df['enabled']&&_0x1657f0['enabled']){const _0xba3c56=_0x1657f0['particlesy'+'stem']['emitter'];if(!(_0xba3c56!=null&&_0xba3c56['meshInstan'+'ce']['visible']))continue;if(_0xba3c56['lighting']){const _0x2e0329=_0x9241df['layers'];for(let _0x2c85fa=-0x8d9+-0x1474+-0x1*-0x1d4d;_0x2c85fa<_0x2e0329['length'];_0x2c85fa++){const _0x41da9d=_0x535904['getLayerBy'+'Id'](_0x2e0329[_0x2c85fa]);_0x41da9d&&(_0x41da9d['requiresLi'+'ghtCube']=!(0x254a+-0x56a+0x6*-0x550));}}if(!_0x9241df['paused']){let _0x24f9d5=0x809+0x1cae*-0x1+0x14a5;if(_0xba3c56['simTime']+=_0x3db5fe,_0xba3c56['simTime']>=_0xba3c56['fixedTimeS'+'tep']&&(_0x24f9d5=Math['floor'](_0xba3c56['simTime']/_0xba3c56['fixedTimeS'+'tep']),_0xba3c56['simTime']-=_0x24f9d5*_0xba3c56['fixedTimeS'+'tep']),_0x24f9d5){_0x24f9d5=Math['min'](_0x24f9d5,_0xba3c56['maxSubStep'+'s']);for(let _0x53cd85=-0x3*-0x685+0x1b19+-0x2ea8;_0x53cd85<_0x24f9d5;_0x53cd85++)_0xba3c56['addTime'](_0xba3c56['fixedTimeS'+'tep'],!(-0x9dc+0x2da*-0xb+0x1*0x293b));_0x3d521f['_updatesPe'+'rFrame']+=_0x24f9d5,_0x3d521f['_frameTime']+=_0xba3c56['_addTimeTi'+'me'],_0xba3c56['_addTimeTi'+'me']=0x19c7*-0x1+-0x1d0d+0x36d4;}_0xba3c56['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x505a2b,_0x426590){_0x426590['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class UO extends wd{constructor(_0x16bd6d,_0x2b5ffc){super(),this['skin']=_0x16bd6d,this['skinInstan'+'ce']=_0x2b5ffc;}}const Gs=class Gs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),Gs['_skinInsta'+'nceCache']['forEach']((_0x420a8b,_0x367218)=>{console['log'](_0x367218['name']+':\x20Array('+_0x420a8b['length']+')');for(let _0x3bf627=-0x12f9+-0x1c6d+0x2f66;_0x3bf627<_0x420a8b['length'];_0x3bf627++)console['log']('\x20\x20'+_0x3bf627+(':\x20RefCount'+'\x20')+_0x420a8b[_0x3bf627]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x3c53f4,_0x5b8488,_0x1dc112){let _0x52d393=Gs['getCachedS'+'kinInstanc'+'e'](_0x3c53f4,_0x5b8488);return _0x52d393||(_0x52d393=new Ol(_0x3c53f4),_0x52d393['resolve'](_0x5b8488,_0x1dc112),Gs['addCachedS'+'kinInstanc'+'e'](_0x3c53f4,_0x5b8488,_0x52d393)),_0x52d393;}static['getCachedS'+'kinInstanc'+'e'](_0x532094,_0x3c0e42){let _0x175429=null;const _0xe48a4f=Gs['_skinInsta'+'nceCache']['get'](_0x3c0e42);if(_0xe48a4f){const _0x5cded0=_0xe48a4f['find'](_0x29c016=>_0x29c016['skin']===_0x532094);_0x5cded0&&(_0x5cded0['incRefCoun'+'t'](),_0x175429=_0x5cded0['skinInstan'+'ce']);}return _0x175429;}static['addCachedS'+'kinInstanc'+'e'](_0x275520,_0x32544f,_0x2cb695){let _0x266c8a=Gs['_skinInsta'+'nceCache']['get'](_0x32544f);_0x266c8a||(_0x266c8a=[],Gs['_skinInsta'+'nceCache']['set'](_0x32544f,_0x266c8a));let _0x3156b1=_0x266c8a['find'](_0x439830=>_0x439830['skin']===_0x275520);_0x3156b1||(_0x3156b1=new UO(_0x275520,_0x2cb695),_0x266c8a['push'](_0x3156b1)),_0x3156b1['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x2c42b0){if(_0x2c42b0){const _0x2058cd=_0x2c42b0['rootBone'];if(_0x2058cd){const _0x13179d=Gs['_skinInsta'+'nceCache']['get'](_0x2058cd);if(_0x13179d){const _0x805dae=_0x13179d['findIndex'](_0x465496=>_0x465496['skinInstan'+'ce']===_0x2c42b0);if(_0x805dae>=-0x4*0x2e7+-0xfde+0x1b7a){const _0x5b2946=_0x13179d[_0x805dae];_0x5b2946['decRefCoun'+'t'](),_0x5b2946['refCount']===-0x11b*-0x2+0x5*0xed+-0x6d7&&(_0x13179d['splice'](_0x805dae,0x35a+-0x1db3+-0x1*-0x1a5a),_0x13179d['length']||Gs['_skinInsta'+'nceCache']['delete'](_0x2058cd),_0x2c42b0&&(_0x2c42b0['destroy'](),_0x5b2946['skinInstan'+'ce']=null));}}}}}};h(Gs,'_skinInsta'+'nceCache',new Map());let _l=Gs;class gl{constructor(_0x5125c9,_0x2b366e,_0x5b0d4c,_0x431706,_0x23945e){h(this,'_evtLoadBy'+'Id',null),h(this,'_evtUnload'+'ById',null),h(this,'_evtAddByI'+'d',null),h(this,'_evtRemove'+'ById',null),h(this,'_evtLoadBy'+'Url',null),h(this,'_evtAddByU'+'rl',null),h(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x5125c9,this['parent']=_0x2b366e,this['_scope']=_0x23945e,this['_registry']=_0x5b0d4c,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x431706['load'],this['_onAssetAd'+'d']=_0x431706['add'],this['_onAssetRe'+'move']=_0x431706['remove'],this['_onAssetUn'+'load']=_0x431706['unload']);}set['id'](_0x683a6b){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x683a6b,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x439605){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x439605,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x44ca72,_0x30609a,_0xc2e291,_0x481386,_0x326e7d,_0x3455a8,_0x251f39;this['id']&&((_0x44ca72=this['_evtLoadBy'+'Id'])==null||_0x44ca72['off'](),this['_evtLoadBy'+'Id']=null,(_0x30609a=this['_evtAddByI'+'d'])==null||_0x30609a['off'](),this['_evtAddByI'+'d']=null,(_0xc2e291=this['_evtRemove'+'ById'])==null||_0xc2e291['off'](),this['_evtRemove'+'ById']=null,(_0x481386=this['_evtUnload'+'ById'])==null||_0x481386['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x326e7d=this['_evtLoadBy'+'Url'])==null||_0x326e7d['off'](),this['_evtLoadBy'+'Url']=null,(_0x3455a8=this['_evtAddByU'+'rl'])==null||_0x3455a8['off'](),this['_evtAddByU'+'rl']=null,(_0x251f39=this['_evtRemove'+'ByUrl'])==null||_0x251f39['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x1a47cf){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x1a47cf);}['_onAdd'](_0x5d968c){this['asset']=_0x5d968c,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x5d968c);}['_onRemove'](_0x3874e2){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x3874e2),this['asset']=null;}['_onUnload'](_0x45847d){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x45847d);}}class n0 extends we{constructor(_0x53cbaa,_0x38b678){super(_0x53cbaa,_0x38b678),h(this,'_type','asset'),h(this,'_castShado'+'ws',!(-0x1279+-0xa3*0x6+0x164b*0x1)),h(this,'_receiveSh'+'adows',!(0xfb5+0x28e*0xf+-0x3607)),h(this,'_castShado'+'wsLightmap',!(-0x144e+0x1*-0xa43+0x1e91)),h(this,'_lightmapp'+'ed',!(-0x1*0x2178+-0x127c+-0x33f5*-0x1)),h(this,'_lightmapS'+'izeMultipl'+'ier',-0x12c7*0x2+0x78b*-0x1+-0x168d*-0x2),h(this,'isStatic',!(0x1f44+0x26*0x6e+-0x2f97)),h(this,'_batchGrou'+'pId',-(0xa3*-0x22+-0xba3*-0x1+0xa04*0x1)),h(this,'_layers',[er]),h(this,'_renderSty'+'le',un),h(this,'_meshInsta'+'nces',[]),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_assetRefe'+'rence'),h(this,'_materialR'+'eferences',[]),h(this,'_material'),h(this,'_rootBone',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new gl('asset',this,_0x53cbaa['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x53cbaa['defaultMat'+'erial'],_0x38b678['on']('remove',this['onRemoveCh'+'ild'],this),_0x38b678['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x38b678['on']('insert',this['onInsertCh'+'ild'],this),_0x38b678['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0x3d6d4b){this['_renderSty'+'le']!==_0x3d6d4b&&(this['_renderSty'+'le']=_0x3d6d4b,He['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0x3d6d4b));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0xe13cb0){this['_customAab'+'b']=_0xe13cb0;const _0x310e9a=this['_meshInsta'+'nces'];if(_0x310e9a){for(let _0x40b266=0x256*0xa+0x1*-0x1be5+0x489*0x1;_0x40b266<_0x310e9a['length'];_0x40b266++)_0x310e9a[_0x40b266]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x2e810b){if(this['_type']!==_0x2e810b&&(this['_area']=null,this['_type']=_0x2e810b,this['destroyMes'+'hInstances'](),_0x2e810b!=='asset')){let _0x419f6a=this['_material'];(!_0x419f6a||_0x419f6a===this['system']['defaultMat'+'erial'])&&(_0x419f6a=this['_materialR'+'eferences'][-0x1223+-0x1f5*0x11+-0x23*-0x178]&&this['_materialR'+'eferences'][0x4e6+0xb*0x199+0x20b*-0xb]['asset']&&this['_materialR'+'eferences'][-0x1a96*0x1+0x1a81+0x15]['asset']['resource']);const _0x4bc7ea=r0(this['system']['app']['graphicsDe'+'vice'],_0x2e810b);this['_area']=_0x4bc7ea['area'],this['meshInstan'+'ces']=[new He(_0x4bc7ea['mesh'],_0x419f6a||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x366d20){if(w['assert'](Array['isArray'](_0x366d20),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x366d20,this['_meshInsta'+'nces']){const _0x2dc306=this['_meshInsta'+'nces'];for(let _0x22534a=0xd*-0x17+0x4e*-0x1+0x179;_0x22534a<_0x2dc306['length'];_0x22534a++)_0x2dc306[_0x22534a]['node']||(_0x2dc306[_0x22534a]['node']=this['entity']),_0x2dc306[_0x22534a]['castShadow']=this['_castShado'+'ws'],_0x2dc306[_0x22534a]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x2dc306[_0x22534a]['renderStyl'+'e']=this['_renderSty'+'le'],_0x2dc306[_0x22534a]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x2dc306[_0x22534a]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x595dca){if(_0x595dca!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x595dca;const _0x4e9939=this['_meshInsta'+'nces'];if(_0x4e9939){for(let _0x1df8ff=-0x35*-0x70+0x34*0x6a+-0x2cb8;_0x1df8ff<_0x4e9939['length'];_0x1df8ff++)_0x4e9939[_0x1df8ff]['setLightma'+'pped'](_0x595dca);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x39962d){if(this['_castShado'+'ws']!==_0x39962d){const _0x298d14=this['_meshInsta'+'nces'];if(_0x298d14){const _0xb1700f=this['layers'],_0x425fe6=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x39962d)for(let _0xd5b630=0x185b+-0x1679+0x2*-0xf1;_0xd5b630<_0xb1700f['length'];_0xd5b630++){const _0x4ee076=_0x425fe6['layers']['getLayerBy'+'Id'](this['layers'][_0xd5b630]);_0x4ee076&&_0x4ee076['removeShad'+'owCasters'](_0x298d14);}for(let _0x37ab9e=0xa*0xc8+0x13c*-0x13+0xfa4;_0x37ab9e<_0x298d14['length'];_0x37ab9e++)_0x298d14[_0x37ab9e]['castShadow']=_0x39962d;if(!this['_castShado'+'ws']&&_0x39962d)for(let _0x241fc7=-0x22fe+-0x21db*0x1+0x44d9;_0x241fc7<_0xb1700f['length'];_0x241fc7++){const _0x4a087b=_0x425fe6['layers']['getLayerBy'+'Id'](_0xb1700f[_0x241fc7]);_0x4a087b&&_0x4a087b['addShadowC'+'asters'](_0x298d14);}}this['_castShado'+'ws']=_0x39962d;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x14773d){if(this['_receiveSh'+'adows']!==_0x14773d){this['_receiveSh'+'adows']=_0x14773d;const _0x897ac7=this['_meshInsta'+'nces'];if(_0x897ac7){for(let _0x44cae5=0xd6b+-0xc55*0x2+0xb3f;_0x44cae5<_0x897ac7['length'];_0x44cae5++)_0x897ac7[_0x44cae5]['receiveSha'+'dow']=_0x14773d;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0xf5371f){this['_castShado'+'wsLightmap']=_0xf5371f;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x3cec01){this['_lightmapS'+'izeMultipl'+'ier']=_0x3cec01;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x181e81){const _0x996a1e=this['system']['app']['scene']['layers'];let _0x5f2caf;if(this['_meshInsta'+'nces']){for(let _0x2ad70b=0x1fcd+0x1*0x3a4+-0x2371;_0x2ad70b<this['_layers']['length'];_0x2ad70b++)_0x5f2caf=_0x996a1e['getLayerBy'+'Id'](this['_layers'][_0x2ad70b]),_0x5f2caf&&_0x5f2caf['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=-0x1*-0x34a+-0x1746+0x13fc;for(let _0x1c76bc=0x1*0x2174+-0x1c13+0x51*-0x11;_0x1c76bc<_0x181e81['length'];_0x1c76bc++)this['_layers'][_0x1c76bc]=_0x181e81[_0x1c76bc];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x3ccd42=0xc4e+-0xed2*-0x1+0xe*-0x1f0;_0x3ccd42<this['_layers']['length'];_0x3ccd42++)_0x5f2caf=_0x996a1e['getLayerBy'+'Id'](this['_layers'][_0x3ccd42]),_0x5f2caf&&_0x5f2caf['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x3ea354){var _0x545ec3,_0x3deb3b;this['_batchGrou'+'pId']!==_0x3ea354&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x3e6*0x2+0x1237+0x15*-0x7f&&((_0x545ec3=this['system']['app']['batcher'])==null||_0x545ec3['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x3ea354>=0xa89+-0x1*0x2c1+-0x7c8&&((_0x3deb3b=this['system']['app']['batcher'])==null||_0x3deb3b['insert'](St['RENDER'],_0x3ea354,this['entity'])),_0x3ea354<0x221a+-0x527*0x4+-0xd7e&&this['_batchGrou'+'pId']>=-0xae1*0x2+-0x416*-0x7+-0x6d8&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x3ea354);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x12d1b6){if(this['_material']!==_0x12d1b6&&(this['_material']=_0x12d1b6,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x1a1997=-0x2630*-0x1+-0x3bf*0x3+-0x1*0x1af3;_0x1a1997<this['_meshInsta'+'nces']['length'];_0x1a1997++)this['_meshInsta'+'nces'][_0x1a1997]['material']=_0x12d1b6;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x159db2=[]){if(this['_materialR'+'eferences']['length']>_0x159db2['length']){for(let _0x1aa74a=_0x159db2['length'];_0x1aa74a<this['_materialR'+'eferences']['length'];_0x1aa74a++)this['_materialR'+'eferences'][_0x1aa74a]['id']=null;this['_materialR'+'eferences']['length']=_0x159db2['length'];}for(let _0x4544e1=0xb70+-0x34*-0x63+-0x1f8c;_0x4544e1<_0x159db2['length'];_0x4544e1++)if(this['_materialR'+'eferences'][_0x4544e1]||this['_materialR'+'eferences']['push'](new gl(_0x4544e1,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x159db2[_0x4544e1]){const _0x51476a=_0x159db2[_0x4544e1]instanceof pe?_0x159db2[_0x4544e1]['id']:_0x159db2[_0x4544e1];this['_materialR'+'eferences'][_0x4544e1]['id']!==_0x51476a&&(this['_materialR'+'eferences'][_0x4544e1]['id']=_0x51476a),this['_materialR'+'eferences'][_0x4544e1]['asset']&&this['_onMateria'+'lAdded'](_0x4544e1,this,this['_materialR'+'eferences'][_0x4544e1]['asset']);}else this['_materialR'+'eferences'][_0x4544e1]['id']=null,this['_meshInsta'+'nces'][_0x4544e1]&&(this['_meshInsta'+'nces'][_0x4544e1]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x6cb730=>_0x6cb730['id']);}set['asset'](_0x2786d2){const _0x3ef066=_0x2786d2 instanceof pe?_0x2786d2['id']:_0x2786d2;this['_assetRefe'+'rence']['id']!==_0x3ef066&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x3ef066,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x5f4853){const _0x509735=_0x5f4853 instanceof pe?_0x5f4853['id']:_0x5f4853;this['_assetRefe'+'rence']['id']=_0x509735;}set['rootBone'](_0x701201){if(this['_rootBone']!==_0x701201){const _0x4c1a93=typeof _0x701201=='string';if(this['_rootBone']&&_0x4c1a93&&this['_rootBone']['getGuid']()===_0x701201)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x701201 instanceof Ie?this['_rootBone']=_0x701201:_0x4c1a93?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x701201)||null,this['_rootBone']||w['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x124bc0=this['_meshInsta'+'nces'];if(_0x124bc0){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x59f5eb=-0xa6e+0x1334+-0x8c6;_0x59f5eb<_0x124bc0['length'];_0x59f5eb++)_0x124bc0[_0x59f5eb]['destroy']();this['_meshInsta'+'nces']['length']=-0xb2e+0x2*0xf6d+-0x13ac;}}['addToLayer'+'s'](){const _0x37f841=this['system']['app']['scene']['layers'];for(let _0x48999a=0x38f+-0x5*0x5fb+0x1a58;_0x48999a<this['_layers']['length'];_0x48999a++){const _0x59a278=_0x37f841['getLayerBy'+'Id'](this['_layers'][_0x48999a]);_0x59a278&&_0x59a278['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x189868=this['system']['app']['scene']['layers'];for(let _0x5049e7=-0x1c3c+0x59*-0x5e+0x17*0x2a6;_0x5049e7<this['_layers']['length'];_0x5049e7++){const _0x872853=_0x189868['getLayerBy'+'Id'](this['_layers'][_0x5049e7]);_0x872853&&_0x872853['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x65ef7f=-0x1a8b+-0x4a+-0x1ad5*-0x1;_0x65ef7f<this['_materialR'+'eferences']['length'];_0x65ef7f++)this['_materialR'+'eferences'][_0x65ef7f]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x2484d0,_0x1b857f){this['addToLayer'+'s'](),_0x2484d0['off']('add',this['onLayerAdd'+'ed'],this),_0x2484d0['off']('remove',this['onLayerRem'+'oved'],this),_0x1b857f['on']('add',this['onLayerAdd'+'ed'],this),_0x1b857f['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x229064){this['layers']['indexOf'](_0x229064['id'])<-0x2304+-0x1f*-0xa3+0xf47||_0x229064['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x36295e){this['layers']['indexOf'](_0x36295e['id'])<0x1495+-0x1*-0x1d75+-0x16e*0x23||_0x36295e['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x429d33;const _0x5cf2d4=this['system']['app'],_0x46b27c=_0x5cf2d4['scene'],_0x479552=_0x46b27c['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x46b27c['on']('set:layers',this['onLayersCh'+'anged'],this),_0x479552&&(this['_evtLayerA'+'dded']=_0x479552['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x479552['on']('remove',this['onLayerRem'+'oved'],this));const _0xa71e8b=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0xa71e8b&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x1ad71e=0x1927+-0x1*0x66c+-0x12bb;_0x1ad71e<this['_materialR'+'eferences']['length'];_0x1ad71e++)this['_materialR'+'eferences'][_0x1ad71e]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x1ad71e]['asset']);this['_batchGrou'+'pId']>=0x5b0*0x1+-0x1a1b+-0x146b*-0x1&&((_0x429d33=_0x5cf2d4['batcher'])==null||_0x429d33['insert'](St['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x597c35,_0x2ee443,_0x3d17dd,_0x2fb079;const _0x2730fc=this['system']['app'],_0x5cd9c1=_0x2730fc['scene']['layers'];(_0x597c35=this['_evtLayers'+'Changed'])==null||_0x597c35['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x5cd9c1&&((_0x2ee443=this['_evtLayerA'+'dded'])==null||_0x2ee443['off'](),this['_evtLayerA'+'dded']=null,(_0x3d17dd=this['_evtLayerR'+'emoved'])==null||_0x3d17dd['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x2557+0x1*0x106f+-0x35c6&&((_0x2fb079=_0x2730fc['batcher'])==null||_0x2fb079['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x2bd3b5=-0xd0+0x74c+-0x67c;_0x2bd3b5<this['_meshInsta'+'nces']['length'];_0x2bd3b5++)this['_meshInsta'+'nces'][_0x2bd3b5]['visible']=!(-0x3b*-0x95+-0x9dc*0x1+-0x1e2*0xd);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x61138c=0x3*0x3ce+0x191*-0x1+0x1*-0x9d9;_0x61138c<this['_meshInsta'+'nces']['length'];_0x61138c++)this['_meshInsta'+'nces'][_0x61138c]['visible']=!(0x1c0c+-0x1f75*-0x1+-0x3b81);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x1cf752;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x35cae3=this['_assetRefe'+'rence']['asset']['resource'];(_0x1cf752=this['_evtSetMes'+'hes'])==null||_0x1cf752['off'](),this['_evtSetMes'+'hes']=_0x35cae3['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x35cae3['meshes']&&this['_onSetMesh'+'es'](_0x35cae3['meshes']);}}['_onSetMesh'+'es'](_0x291e74){this['_cloneMesh'+'es'](_0x291e74);}['_clearSkin'+'Instances'](){for(let _0x1da581=0x109b+0xc2e+-0x1cc9;_0x1da581<this['_meshInsta'+'nces']['length'];_0x1da581++){const _0x3e690a=this['_meshInsta'+'nces'][_0x1da581];_l['removeCach'+'edSkinInst'+'ance'](_0x3e690a['skinInstan'+'ce']),_0x3e690a['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof Ie)for(let _0x1251d8=0x1a92+-0x4*0x16c+0xf3*-0x16;_0x1251d8<this['_meshInsta'+'nces']['length'];_0x1251d8++){const _0x40e554=this['_meshInsta'+'nces'][_0x1251d8],_0x522e39=_0x40e554['mesh'];_0x522e39['skin']&&!_0x40e554['skinInstan'+'ce']&&(_0x40e554['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x522e39['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x5b8e84){if(_0x5b8e84&&_0x5b8e84['length']){const _0x191881=[];for(let _0x1ce110=-0x2255+0xfa3+0x12b2;_0x1ce110<_0x5b8e84['length'];_0x1ce110++){const _0x27aaa4=_0x5b8e84[_0x1ce110],_0x2dda63=this['_materialR'+'eferences'][_0x1ce110]&&this['_materialR'+'eferences'][_0x1ce110]['asset']&&this['_materialR'+'eferences'][_0x1ce110]['asset']['resource'],_0x5d3541=new He(_0x27aaa4,_0x2dda63||this['system']['defaultMat'+'erial'],this['entity']);_0x191881['push'](_0x5d3541),_0x27aaa4['morph']&&(_0x5d3541['morphInsta'+'nce']=new xa(_0x27aaa4['morph']));}this['meshInstan'+'ces']=_0x191881,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x150d19;(_0x150d19=this['_evtSetMes'+'hes'])==null||_0x150d19['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0xb7f3b3,_0x3b7e67,_0x23e411){_0x23e411['resource']?this['_onMateria'+'lLoad'](_0xb7f3b3,_0x3b7e67,_0x23e411):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x23e411);}['_updateMai'+'nMaterial'](_0xf885cb,_0x194092){_0xf885cb===-0x2*-0x40a+-0x4c8+0x34c*-0x1&&(this['material']=_0x194092);}['_onMateria'+'lLoad'](_0x51c638,_0x528afe,_0x162712){this['_meshInsta'+'nces'][_0x51c638]&&(this['_meshInsta'+'nces'][_0x51c638]['material']=_0x162712['resource']),this['_updateMai'+'nMaterial'](_0x51c638,_0x162712['resource']);}['_onMateria'+'lRemove'](_0x58e8e0,_0x2a262d,_0xa24296){this['_meshInsta'+'nces'][_0x58e8e0]&&(this['_meshInsta'+'nces'][_0x58e8e0]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x58e8e0,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x2ba300,_0x52f69c,_0x5370f5){this['_meshInsta'+'nces'][_0x2ba300]&&(this['_meshInsta'+'nces'][_0x2ba300]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x2ba300,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x260a98,_0x46e0c4){_0x260a98['rootBone']&&(this['rootBone']=_0x46e0c4[_0x260a98['rootBone']['getGuid']()]);}}class BO{constructor(){this['enabled']=!(-0x1b9f+0xeb3+-0x33b*-0x4);}}const ku=['enabled'],Gr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class zO extends ct{constructor(_0x26ce4f){super(_0x26ce4f),this['id']='render',this['ComponentT'+'ype']=n0,this['DataType']=BO,this['schema']=ku,this['defaultMat'+'erial']=Qn(_0x26ce4f['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x15618b,_0x378f0d,_0x2a5d0a){(_0x378f0d['batchGroup'+'Id']===null||_0x378f0d['batchGroup'+'Id']===void(0x1*-0x108b+-0x1ba8+-0x16d*-0x1f))&&(_0x378f0d['batchGroup'+'Id']=-(0x1bd5+-0x2581*0x1+0x1*0x9ad)),_0x378f0d['layers']&&_0x378f0d['layers']['length']&&(_0x378f0d['layers']=_0x378f0d['layers']['slice'](0x1946+-0x2c1+0x481*-0x5));for(let _0x288292=-0x170c+0x1*0x1b45+-0x439;_0x288292<Gr['length'];_0x288292++)_0x378f0d['hasOwnProp'+'erty'](Gr[_0x288292])&&(_0x15618b[Gr[_0x288292]]=_0x378f0d[Gr[_0x288292]]);_0x378f0d['aabbCenter']&&_0x378f0d['aabbHalfEx'+'tents']&&(_0x15618b['customAabb']=new De(new D(_0x378f0d['aabbCenter']),new D(_0x378f0d['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x15618b,_0x378f0d,ku);}['cloneCompo'+'nent'](_0x2fb8ff,_0x48a553){const _0x413741={};for(let _0x195fca=-0x156b+0x1e4f+-0x8e4;_0x195fca<Gr['length'];_0x195fca++)_0x413741[Gr[_0x195fca]]=_0x2fb8ff['render'][Gr[_0x195fca]];_0x413741['enabled']=_0x2fb8ff['render']['enabled'],delete _0x413741['meshInstan'+'ces'];const _0x56e4e5=this['addCompone'+'nt'](_0x48a553,_0x413741),_0x1ef90a=_0x2fb8ff['render']['meshInstan'+'ces'],_0x49e612=_0x1ef90a['map'](_0x5821cb=>_0x5821cb['mesh']);_0x56e4e5['_onSetMesh'+'es'](_0x49e612);for(let _0x15f141=-0xa88+-0x40*-0x8f+0xc9c*-0x2;_0x15f141<_0x1ef90a['length'];_0x15f141++)_0x56e4e5['meshInstan'+'ces'][_0x15f141]['material']=_0x1ef90a[_0x15f141]['material'];return _0x2fb8ff['render']['customAabb']&&(_0x56e4e5['customAabb']=_0x2fb8ff['render']['customAabb']['clone']()),_0x56e4e5;}['onRemove'](_0x3f5980,_0x170c07){_0x170c07['onRemove']();}}we['_buildAcce'+'ssors'](n0['prototype'],ku);class bf{constructor(_0x5ecc14,_0x3cf97a){h(this,'_construct'+'or'),h(this,'_pool',[]),h(this,'_count',0x24ef+0x1bef+-0x40de),(this['_construct'+'or']=_0x5ecc14,this['_resize'](_0x3cf97a));}['_resize'](_0x5c6362){if(_0x5c6362>this['_pool']['length']){for(let _0x6e71f2=this['_pool']['length'];_0x6e71f2<_0x5c6362;_0x6e71f2++)this['_pool'][_0x6e71f2]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(0x189f+-0x11cc+-0x15d*0x5)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=-0x18a8*0x1+0x1*-0xdff+0x1*0x26a7;}}let cs,Re,Bs,Ka;const VO=new le(),GO=new le(),Pc=new D();class bs extends we{constructor(){super(...arguments),h(this,'_angularDa'+'mping',0x493+-0x1390+-0x3*-0x4ff),h(this,'_angularFa'+'ctor',new D(-0x323+-0x7e2*0x3+0x8ee*0x3,-0x3d*0x63+0x610+-0x11*-0x108,0x1236+0x16e9+-0x291e)),h(this,'_angularVe'+'locity',new D()),h(this,'_body',null),h(this,'_friction',-0x17*0xe5+0x103a+0x3*0x173+0.5),h(this,'_group',Gg),h(this,'_linearDam'+'ping',0xae8*-0x2+-0x466+0x1a36),h(this,'_linearFac'+'tor',new D(-0xc7d+-0x6*0x4b1+0x28a4,-0x752+0x26e+0x4e5,0xcd*0x14+-0x24db+-0x5c*-0x3a)),h(this,'_linearVel'+'ocity',new D()),h(this,'_mask',Mu),h(this,'_mass',-0x12b+0x1268*-0x1+-0xe*-0x166),h(this,'_restituti'+'on',-0x2330+-0x1f*0x17+-0x1*-0x25f9),h(this,'_rollingFr'+'iction',0x12*0x17f+0x1*0x1cbe+-0x3fa*0xe),h(this,'_simulatio'+'nEnabled',!(-0x2*0x233+0x1*0x405+0x62)),h(this,'_type',yo);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(cs=new Ammo['btTransfor'+'m'](),Re=new Ammo['btVector3'](),Bs=new Ammo['btVector3'](),Ka=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](cs),Ammo['destroy'](Re),Ammo['destroy'](Bs),Ammo['destroy'](Ka),cs=null,Re=null,Bs=null,Ka=null;}set['angularDam'+'ping'](_0x1f7d5f){this['_angularDa'+'mping']!==_0x1f7d5f&&(this['_angularDa'+'mping']=_0x1f7d5f,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x1f7d5f));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0xfa0998){this['_angularFa'+'ctor']['equals'](_0xfa0998)||(this['_angularFa'+'ctor']['copy'](_0xfa0998),this['_body']&&this['_type']===ks&&(Re['setValue'](_0xfa0998['x'],_0xfa0998['y'],_0xfa0998['z']),this['_body']['setAngular'+'Factor'](Re)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x342064){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x342064['x'],_0x342064['y'],_0x342064['z']),this['_body']['setAngular'+'Velocity'](Re),this['_angularVe'+'locity']['copy'](_0x342064));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ks){const _0x318b51=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x318b51['x'](),_0x318b51['y'](),_0x318b51['z']());}return this['_angularVe'+'locity'];}set['body'](_0x45c929){this['_body']!==_0x45c929&&(this['_body']=_0x45c929,_0x45c929&&this['_simulatio'+'nEnabled']&&_0x45c929['activate']());}get['body'](){return this['_body'];}set['friction'](_0x2df896){this['_friction']!==_0x2df896&&(this['_friction']=_0x2df896,this['_body']&&this['_body']['setFrictio'+'n'](_0x2df896));}get['friction'](){return this['_friction'];}set['group'](_0x18760a){this['_group']!==_0x18760a&&(this['_group']=_0x18760a,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x1e2de1){this['_linearDam'+'ping']!==_0x1e2de1&&(this['_linearDam'+'ping']=_0x1e2de1,this['_body']&&this['_body']['setDamping'](_0x1e2de1,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x34e66e){this['_linearFac'+'tor']['equals'](_0x34e66e)||(this['_linearFac'+'tor']['copy'](_0x34e66e),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x34e66e['x'],_0x34e66e['y'],_0x34e66e['z']),this['_body']['setLinearF'+'actor'](Re)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x4e57f3){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x4e57f3['x'],_0x4e57f3['y'],_0x4e57f3['z']),this['_body']['setLinearV'+'elocity'](Re),this['_linearVel'+'ocity']['copy'](_0x4e57f3));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ks){const _0x13887b=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x13887b['x'](),_0x13887b['y'](),_0x13887b['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x482047){this['_mask']!==_0x482047&&(this['_mask']=_0x482047,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x14954a){if(this['_mass']!==_0x14954a&&(this['_mass']=_0x14954a,this['_body']&&this['_type']===ks)){const _0x116d93=this['enabled']&&this['entity']['enabled'];_0x116d93&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x14954a,Re),this['_body']['setMassPro'+'ps'](_0x14954a,Re),this['_body']['updateIner'+'tiaTensor'](),_0x116d93&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x3883a1){this['_restituti'+'on']!==_0x3883a1&&(this['_restituti'+'on']=_0x3883a1,this['_body']&&this['_body']['setRestitu'+'tion'](_0x3883a1));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x32d2b0){this['_rollingFr'+'iction']!==_0x32d2b0&&(this['_rollingFr'+'iction']=_0x32d2b0,this['_body']&&this['_body']['setRolling'+'Friction'](_0x32d2b0));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x419176){if(this['_type']!==_0x419176){switch(this['_type']=_0x419176,this['disableSim'+'ulation'](),_0x419176){case ks:this['_group']=jL,this['_mask']=Wg;break;case Ha:this['_group']=YL,this['_mask']=Wg;break;case yo:default:this['_group']=Gg,this['_mask']=Mu;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x2c2659=this['entity'];let _0x20a92e;if(_0x2c2659['collision']&&(_0x20a92e=_0x2c2659['collision']['shape'],_0x2c2659['trigger']&&(_0x2c2659['trigger']['destroy'](),delete _0x2c2659['trigger'])),_0x20a92e){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x5deebb=this['_type']===ks?this['_mass']:-0xee2+-0x745*-0x5+-0x1577;this['_getEntity'+'Transform'](cs);const _0x1e09e1=this['system']['createBody'](_0x5deebb,_0x20a92e,cs);if(_0x1e09e1['setRestitu'+'tion'](this['_restituti'+'on']),_0x1e09e1['setFrictio'+'n'](this['_friction']),_0x1e09e1['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x1e09e1['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ks){const _0x11e28f=this['_linearFac'+'tor'];Re['setValue'](_0x11e28f['x'],_0x11e28f['y'],_0x11e28f['z']),_0x1e09e1['setLinearF'+'actor'](Re);const _0x40c888=this['_angularFa'+'ctor'];Re['setValue'](_0x40c888['x'],_0x40c888['y'],_0x40c888['z']),_0x1e09e1['setAngular'+'Factor'](Re);}else this['_type']===Ha&&(_0x1e09e1['setCollisi'+'onFlags'](_0x1e09e1['getCollisi'+'onFlags']()|qL),_0x1e09e1['setActivat'+'ionState'](Vg));_0x1e09e1['entity']=_0x2c2659,this['body']=_0x1e09e1,this['enabled']&&_0x2c2659['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(0x2142+0x5*-0x381+-0xfbc);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0x7a0517=this['entity'];if(_0x7a0517['collision']&&_0x7a0517['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x194d87=this['_body'];if(_0x194d87){switch(this['system']['addBody'](_0x194d87,this['_group'],this['_mask']),this['_type']){case ks:this['system']['_dynamic']['push'](this),_0x194d87['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;case Ha:this['system']['_kinematic']['push'](this),_0x194d87['forceActiv'+'ationState'](Vg);break;case yo:_0x194d87['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;}_0x7a0517['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0x7a0517['collision']),_0x194d87['activate'](),this['_simulatio'+'nEnabled']=!(-0x103*0x6+0x30*0x3f+-0x5be*0x1);}}}['disableSim'+'ulation'](){const _0x216e79=this['_body'];if(_0x216e79&&this['_simulatio'+'nEnabled']){const _0x545e38=this['system'];let _0x114b1b=_0x545e38['_compounds']['indexOf'](this['entity']['collision']);_0x114b1b>-(0x6f0*0x4+0x1*-0x1137+0x2a2*-0x4)&&_0x545e38['_compounds']['splice'](_0x114b1b,-0x432+-0x672+-0x5*-0x221),_0x114b1b=_0x545e38['_dynamic']['indexOf'](this),_0x114b1b>-(0x14ac+-0x2693+-0x8*-0x23d)&&_0x545e38['_dynamic']['splice'](_0x114b1b,-0xb2*0x22+0x17ba+-0x1*0x15),_0x114b1b=_0x545e38['_kinematic']['indexOf'](this),_0x114b1b>-(0x7ad*0x5+0x3fe*-0x2+0x14*-0x185)&&_0x545e38['_kinematic']['splice'](_0x114b1b,-0x134e*-0x2+0x1*0x1def+-0x11b*0x3e),_0x545e38['removeBody'](_0x216e79),_0x216e79['forceActiv'+'ationState'](Yv),this['_simulatio'+'nEnabled']=!(-0xd*-0x18d+-0x133*-0x17+-0x1*0x2fbd);}}['applyForce'](_0x5c37a4,_0x5affd2,_0x2cb3f5,_0x1678fb,_0xd530f1,_0x1ba3c8){const _0x587a3e=this['_body'];_0x587a3e&&(_0x587a3e['activate'](),_0x5c37a4 instanceof D?Re['setValue'](_0x5c37a4['x'],_0x5c37a4['y'],_0x5c37a4['z']):Re['setValue'](_0x5c37a4,_0x5affd2,_0x2cb3f5),_0x5affd2 instanceof D?Bs['setValue'](_0x5affd2['x'],_0x5affd2['y'],_0x5affd2['z']):_0x1678fb!==void(0x28c+-0x1425+-0x55*-0x35)?Bs['setValue'](_0x1678fb,_0xd530f1,_0x1ba3c8):Bs['setValue'](-0x11a1+0x25c5+-0x1424,-0xa*0x36a+-0xe*-0xd3+0x169a,0x42d+-0x8*-0x47b+-0x1*0x2805),_0x587a3e['applyForce'](Re,Bs));}['applyTorqu'+'e'](_0x4eaa73,_0x247b22,_0x5c965e){const _0x357023=this['_body'];_0x357023&&(_0x357023['activate'](),_0x4eaa73 instanceof D?Re['setValue'](_0x4eaa73['x'],_0x4eaa73['y'],_0x4eaa73['z']):Re['setValue'](_0x4eaa73,_0x247b22,_0x5c965e),_0x357023['applyTorqu'+'e'](Re));}['applyImpul'+'se'](_0x410648,_0x41bde2,_0xc6c757,_0x3e0201,_0x3f67ab,_0x1665a7){const _0x59f7d8=this['_body'];_0x59f7d8&&(_0x59f7d8['activate'](),_0x410648 instanceof D?Re['setValue'](_0x410648['x'],_0x410648['y'],_0x410648['z']):Re['setValue'](_0x410648,_0x41bde2,_0xc6c757),_0x41bde2 instanceof D?Bs['setValue'](_0x41bde2['x'],_0x41bde2['y'],_0x41bde2['z']):_0x3e0201!==void(-0x4fd+-0x409*0x5+-0xc95*-0x2)?Bs['setValue'](_0x3e0201,_0x3f67ab,_0x1665a7):Bs['setValue'](0x8d*0x30+-0xb12*0x1+-0xf5e,-0x2088+0xe*-0x1e2+0x3ae4*0x1,0x8f+0x1*0x20fc+0x115*-0x1f),_0x59f7d8['applyImpul'+'se'](Re,Bs));}['applyTorqu'+'eImpulse'](_0x42cbaf,_0x7d66c,_0x1fe812){const _0x1610ee=this['_body'];_0x1610ee&&(_0x1610ee['activate'](),_0x42cbaf instanceof D?Re['setValue'](_0x42cbaf['x'],_0x42cbaf['y'],_0x42cbaf['z']):Re['setValue'](_0x42cbaf,_0x7d66c,_0x1fe812),_0x1610ee['applyTorqu'+'eImpulse'](Re));}['isStatic'](){return this['_type']===yo;}['isStaticOr'+'Kinematic'](){return this['_type']===yo||this['_type']===Ha;}['isKinemati'+'c'](){return this['_type']===Ha;}['_getEntity'+'Transform'](_0x5311e9){const _0x1cea69=this['entity'],_0x3516aa=_0x1cea69['collision'];if(_0x3516aa){const _0x427819=_0x3516aa['getShapePo'+'sition'](),_0x315166=_0x3516aa['getShapeRo'+'tation']();Re['setValue'](_0x427819['x'],_0x427819['y'],_0x427819['z']),Ka['setValue'](_0x315166['x'],_0x315166['y'],_0x315166['z'],_0x315166['w']);}else{const _0x3ecd7f=_0x1cea69['getPositio'+'n'](),_0x2cf0da=_0x1cea69['getRotatio'+'n']();Re['setValue'](_0x3ecd7f['x'],_0x3ecd7f['y'],_0x3ecd7f['z']),Ka['setValue'](_0x2cf0da['x'],_0x2cf0da['y'],_0x2cf0da['z'],_0x2cf0da['w']);}_0x5311e9['setOrigin'](Re),_0x5311e9['setRotatio'+'n'](Ka);}['syncEntity'+'ToBody'](){const _0x4e2c3c=this['_body'];if(_0x4e2c3c){if(this['_getEntity'+'Transform'](cs),_0x4e2c3c['setWorldTr'+'ansform'](cs),this['_type']===Ha){const _0x172cd2=_0x4e2c3c['getMotionS'+'tate']();_0x172cd2&&_0x172cd2['setWorldTr'+'ansform'](cs);}_0x4e2c3c['activate']();}}['_updateDyn'+'amic'](){const _0x1936c7=this['_body'];if(_0x1936c7['isActive']()){const _0x35a372=_0x1936c7['getMotionS'+'tate']();if(_0x35a372){const _0x14e91b=this['entity'];_0x35a372['getWorldTr'+'ansform'](cs);const _0x31056e=cs['getOrigin'](),_0x3761b9=cs['getRotatio'+'n'](),_0x153c65=_0x14e91b['collision'];if(_0x153c65&&_0x153c65['_hasOffset']){const _0x3b7507=_0x153c65['data']['linearOffs'+'et'],_0x2c3cb5=_0x153c65['data']['angularOff'+'set'],_0x40160c=GO['copy'](_0x2c3cb5)['invert'](),_0x45b805=VO['set'](_0x3761b9['x'](),_0x3761b9['y'](),_0x3761b9['z'](),_0x3761b9['w']())['mul'](_0x40160c);_0x45b805['transformV'+'ector'](_0x3b7507,Pc),_0x14e91b['setPositio'+'n'](_0x31056e['x']()-Pc['x'],_0x31056e['y']()-Pc['y'],_0x31056e['z']()-Pc['z']),_0x14e91b['setRotatio'+'n'](_0x45b805);}else _0x14e91b['setPositio'+'n'](_0x31056e['x'](),_0x31056e['y'](),_0x31056e['z']()),_0x14e91b['setRotatio'+'n'](_0x3761b9['x'](),_0x3761b9['y'](),_0x3761b9['z'](),_0x3761b9['w']());}}}['_updateKin'+'ematic'](){const _0x4b3e0e=this['_body']['getMotionS'+'tate']();_0x4b3e0e&&(this['_getEntity'+'Transform'](cs),_0x4b3e0e['setWorldTr'+'ansform'](cs));}['teleport'](_0x44e554,_0xef106,_0x57f51b,_0x53c44f,_0x423993,_0x5eb4fd){_0x44e554 instanceof D?this['entity']['setPositio'+'n'](_0x44e554):this['entity']['setPositio'+'n'](_0x44e554,_0xef106,_0x57f51b),_0xef106 instanceof le?this['entity']['setRotatio'+'n'](_0xef106):_0xef106 instanceof D?this['entity']['setEulerAn'+'gles'](_0xef106):_0x53c44f!==void(-0x1413+-0x1c8b+-0x6f2*-0x7)&&this['entity']['setEulerAn'+'gles'](_0x53c44f,_0x423993,_0x5eb4fd),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}h(bs,'EVENT_CONT'+'ACT','contact'),h(bs,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(bs,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(bs,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(bs,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),h(bs,'order',-(0x1fec+-0x23b*-0x1+-0x2226));class HO{constructor(){this['enabled']=!(-0x1390+-0x1e93*-0x1+-0x1*0xb03);}}let Mi,Di;class eS{constructor(_0x47fc07,_0x4d6e17,_0x20cea5,_0x208bd8){h(this,'entity'),h(this,'point'),h(this,'normal'),h(this,'hitFractio'+'n'),(this['entity']=_0x47fc07,this['point']=_0x4d6e17,this['normal']=_0x20cea5,this['hitFractio'+'n']=_0x208bd8);}}class WO{constructor(_0x211223,_0x14ca04,_0x4798f1){h(this,'a'),h(this,'b'),h(this,'impulse'),h(this,'localPoint'+'A'),h(this,'localPoint'+'B'),h(this,'pointA'),h(this,'pointB'),h(this,'normal'),arguments['length']!==-0x1620*-0x1+0x1*0x17bd+0xc7*-0x3b?(this['a']=_0x211223,this['b']=_0x14ca04,this['impulse']=_0x4798f1['impulse'],this['localPoint'+'A']=_0x4798f1['localPoint'],this['localPoint'+'B']=_0x4798f1['localPoint'+'Other'],this['pointA']=_0x4798f1['point'],this['pointB']=_0x4798f1['pointOther'],this['normal']=_0x4798f1['normal']):(this['a']=null,this['b']=null,this['impulse']=-0x33a*0x1+-0x1692+0x19cc,this['localPoint'+'A']=new D(),this['localPoint'+'B']=new D(),this['pointA']=new D(),this['pointB']=new D(),this['normal']=new D());}}class $O{constructor(_0x179fe3=new D(),_0x55d9d9=new D(),_0x2cd50a=new D(),_0xa48401=new D(),_0x12bc8e=new D(),_0x191ac5=-0x1*0x31f+-0x6e2*0x1+0xa01*0x1){h(this,'localPoint'),h(this,'localPoint'+'Other'),h(this,'point'),h(this,'pointOther'),h(this,'normal'),h(this,'impulse'),(this['localPoint']=_0x179fe3,this['localPoint'+'Other']=_0x55d9d9,this['point']=_0x2cd50a,this['pointOther']=_0xa48401,this['normal']=_0x12bc8e,this['impulse']=_0x191ac5);}}class XO{constructor(_0x579649,_0x459a43){h(this,'other'),h(this,'contacts'),(this['other']=_0x579649,this['contacts']=_0x459a43);}}const o0=['enabled'];class wm extends ct{constructor(_0x38ea9b){super(_0x38ea9b),h(this,'maxSubStep'+'s',-0x2006+0x1ca2*0x1+0x36e),h(this,'fixedTimeS'+'tep',(-0x4f9+-0x25e8+0x2ae2)/(0x7*0x4fd+0xe*-0x3f+-0x2d7*0xb)),h(this,'gravity',new D(-0xaad*-0x1+-0x346+0x17b*-0x5,-(0x2*-0x9df+0xc9b+0x3*0x264+0.8100000000000005),0x1c92+-0x1db8+0x6*0x31)),h(this,'_gravityFl'+'oat32',new Float32Array(-0x1592+0x11bf*-0x2+0x1*0x3913)),h(this,'_dynamic',[]),h(this,'_kinematic',[]),h(this,'_triggers',[]),h(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x38ea9b['stats']['frame'],this['ComponentT'+'ype']=bs,this['DataType']=HO,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=o0,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x45edc3=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x45edc3);}else w['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');Mi=new Ammo['btVector3'](),Di=new Ammo['btVector3'](),bs['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new bf($O,0x1*-0x2149+-0x18f*-0x14+0x2*0x10f),this['contactRes'+'ultPool']=new bf(XO,0x28*0x3e+0x2be*-0x9+0xeff),this['singleCont'+'actResultP'+'ool']=new bf(WO,-0x1d*-0x2+-0x21f+0x36*0x9),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x28dd30,_0x211406,_0x39ce66){const _0x49052f=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x56c739 of _0x49052f)if(_0x211406['hasOwnProp'+'erty'](_0x56c739)){const _0x1b6755=_0x211406[_0x56c739];Array['isArray'](_0x1b6755)?_0x28dd30[_0x56c739]=new D(_0x1b6755[0x442+-0xe77+0xd*0xc9],_0x1b6755[0x289*0x1+0x17f4+-0x1a7c],_0x1b6755[0x41d*0x3+0x258b*-0x1+0x1cd*0xe]):_0x28dd30[_0x56c739]=_0x1b6755;}super['initialize'+'ComponentD'+'ata'](_0x28dd30,_0x211406,['enabled']);}['cloneCompo'+'nent'](_0x1352b2,_0x12fc12){const _0x188669=_0x1352b2['rigidbody'],_0x3b22e4={'enabled':_0x188669['enabled'],'mass':_0x188669['mass'],'linearDamping':_0x188669['linearDamp'+'ing'],'angularDamping':_0x188669['angularDam'+'ping'],'linearFactor':[_0x188669['linearFact'+'or']['x'],_0x188669['linearFact'+'or']['y'],_0x188669['linearFact'+'or']['z']],'angularFactor':[_0x188669['angularFac'+'tor']['x'],_0x188669['angularFac'+'tor']['y'],_0x188669['angularFac'+'tor']['z']],'friction':_0x188669['friction'],'rollingFriction':_0x188669['rollingFri'+'ction'],'restitution':_0x188669['restitutio'+'n'],'type':_0x188669['type'],'group':_0x188669['group'],'mask':_0x188669['mask']};return this['addCompone'+'nt'](_0x12fc12,_0x3b22e4);}['onBeforeRe'+'move'](_0x430d46,_0x3c5434){_0x3c5434['enabled']&&(_0x3c5434['enabled']=!(-0x1aee+0x1*-0x1f73+0x3a62)),_0x3c5434['body']&&(this['destroyBod'+'y'](_0x3c5434['body']),_0x3c5434['body']=null);}['addBody'](_0x47c514,_0x1970b3,_0x5b8e22){_0x1970b3!==void(-0x2679+0x20af+-0x3*-0x1ee)&&_0x5b8e22!==void(-0x12e8+-0x1e86+0x316e)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x47c514,_0x1970b3,_0x5b8e22):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x47c514);}['removeBody'](_0x1f4c64){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x1f4c64);}['createBody'](_0x25eed1,_0x18263d,_0x34e111){const _0x353a29=new Ammo['btVector3'](-0x1335+-0x16*-0xd+0x1217,0x4*0x8f2+0x16d3*0x1+-0x3a9b,0x2549*0x1+-0x1a1e+-0x1*0xb2b);_0x25eed1!==-0x2165+0xd*-0xc3+0x2b4c&&_0x18263d['calculateL'+'ocalInerti'+'a'](_0x25eed1,_0x353a29);const _0x39d075=new Ammo['btDefaultM'+'otionState'](_0x34e111),_0x571609=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x25eed1,_0x39d075,_0x18263d,_0x353a29),_0x39b482=new Ammo['btRigidBod'+'y'](_0x571609);return Ammo['destroy'](_0x571609),Ammo['destroy'](_0x353a29),_0x39b482;}['destroyBod'+'y'](_0x4343b4){const _0x53c8da=_0x4343b4['getMotionS'+'tate']();_0x53c8da&&Ammo['destroy'](_0x53c8da),Ammo['destroy'](_0x4343b4);}['raycastFir'+'st'](_0x4085cf,_0x3f94fc,_0x50c6bc={}){if(_0x50c6bc['filterTags']||_0x50c6bc['filterCall'+'back'])return _0x50c6bc['sort']=!(0x50d*-0x2+-0x1cab+-0x19*-0x18d),this['raycastAll'](_0x4085cf,_0x3f94fc,_0x50c6bc)[0xef*-0x22+-0x1*0x12bd+0x327b]||null;let _0x277cdf=null;Mi['setValue'](_0x4085cf['x'],_0x4085cf['y'],_0x4085cf['z']),Di['setValue'](_0x3f94fc['x'],_0x3f94fc['y'],_0x3f94fc['z']);const _0x386ed4=new Ammo['ClosestRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x50c6bc['filterColl'+'isionGroup']=='number'&&_0x386ed4['set_m_coll'+'isionFilte'+'rGroup'](_0x50c6bc['filterColl'+'isionGroup']),typeof _0x50c6bc['filterColl'+'isionMask']=='number'&&_0x386ed4['set_m_coll'+'isionFilte'+'rMask'](_0x50c6bc['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x386ed4),_0x386ed4['hasHit']()){const _0x242020=_0x386ed4['get_m_coll'+'isionObjec'+'t'](),_0x54eade=Ammo['castObject'](_0x242020,Ammo['btRigidBod'+'y']);if(_0x54eade){const _0x4ad2bd=_0x386ed4['get_m_hitP'+'ointWorld'](),_0x42ee20=_0x386ed4['get_m_hitN'+'ormalWorld']();_0x277cdf=new eS(_0x54eade['entity'],new D(_0x4ad2bd['x'](),_0x4ad2bd['y'](),_0x4ad2bd['z']()),new D(_0x42ee20['x'](),_0x42ee20['y'](),_0x42ee20['z']()),_0x386ed4['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x386ed4),_0x277cdf;}['raycastAll'](_0x5c2558,_0x877d90,_0x1bcd71={}){w['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x47ec7b=[];Mi['setValue'](_0x5c2558['x'],_0x5c2558['y'],_0x5c2558['z']),Di['setValue'](_0x877d90['x'],_0x877d90['y'],_0x877d90['z']);const _0x1a2bd5=new Ammo['AllHitsRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x1bcd71['filterColl'+'isionGroup']=='number'&&_0x1a2bd5['set_m_coll'+'isionFilte'+'rGroup'](_0x1bcd71['filterColl'+'isionGroup']),typeof _0x1bcd71['filterColl'+'isionMask']=='number'&&_0x1a2bd5['set_m_coll'+'isionFilte'+'rMask'](_0x1bcd71['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x1a2bd5),_0x1a2bd5['hasHit']()){const _0x22199b=_0x1a2bd5['get_m_coll'+'isionObjec'+'ts'](),_0x58aac0=_0x1a2bd5['get_m_hitP'+'ointWorld'](),_0x454a67=_0x1a2bd5['get_m_hitN'+'ormalWorld'](),_0x218114=_0x1a2bd5['get_m_hitF'+'ractions'](),_0x9ce6a1=_0x22199b['size']();for(let _0x35b3b3=-0x2612+-0x834+0x2e46;_0x35b3b3<_0x9ce6a1;_0x35b3b3++){const _0xfdbaf=Ammo['castObject'](_0x22199b['at'](_0x35b3b3),Ammo['btRigidBod'+'y']);if(_0xfdbaf&&_0xfdbaf['entity']){if(_0x1bcd71['filterTags']&&!_0xfdbaf['entity']['tags']['has'](..._0x1bcd71['filterTags'])||_0x1bcd71['filterCall'+'back']&&!_0x1bcd71['filterCall'+'back'](_0xfdbaf['entity']))continue;const _0x1c4489=_0x58aac0['at'](_0x35b3b3),_0x2469ca=_0x454a67['at'](_0x35b3b3),_0x276567=new eS(_0xfdbaf['entity'],new D(_0x1c4489['x'](),_0x1c4489['y'](),_0x1c4489['z']()),new D(_0x2469ca['x'](),_0x2469ca['y'](),_0x2469ca['z']()),_0x218114['at'](_0x35b3b3));_0x47ec7b['push'](_0x276567);}}_0x1bcd71['sort']&&_0x47ec7b['sort']((_0x120848,_0x47b7c1)=>_0x120848['hitFractio'+'n']-_0x47b7c1['hitFractio'+'n']);}return Ammo['destroy'](_0x1a2bd5),_0x47ec7b;}['_storeColl'+'ision'](_0xf843e2,_0x10a623){let _0x1cdafd=!(-0x353+0x1964*-0x1+0x1cb8);const _0x174c4a=_0xf843e2['getGuid']();return this['collisions'][_0x174c4a]=this['collisions'][_0x174c4a]||{'others':[],'entity':_0xf843e2},this['collisions'][_0x174c4a]['others']['indexOf'](_0x10a623)<0x12ec+0xd70*-0x2+-0x1fd*-0x4&&(this['collisions'][_0x174c4a]['others']['push'](_0x10a623),_0x1cdafd=!(0x86d+0x24be*0x1+-0x175*0x1f)),this['frameColli'+'sions'][_0x174c4a]=this['frameColli'+'sions'][_0x174c4a]||{'others':[],'entity':_0xf843e2},this['frameColli'+'sions'][_0x174c4a]['others']['push'](_0x10a623),_0x1cdafd;}['_createCon'+'tactPointF'+'romAmmo'](_0x5edfee){const _0x473b3a=_0x5edfee['get_m_loca'+'lPointA'](),_0x323339=_0x5edfee['get_m_loca'+'lPointB'](),_0x563b6e=_0x5edfee['getPositio'+'nWorldOnA'](),_0x1bd2e7=_0x5edfee['getPositio'+'nWorldOnB'](),_0x1fd085=_0x5edfee['get_m_norm'+'alWorldOnB'](),_0x2d54c4=this['contactPoi'+'ntPool']['allocate']();return _0x2d54c4['localPoint']['set'](_0x473b3a['x'](),_0x473b3a['y'](),_0x473b3a['z']()),_0x2d54c4['localPoint'+'Other']['set'](_0x323339['x'](),_0x323339['y'](),_0x323339['z']()),_0x2d54c4['point']['set'](_0x563b6e['x'](),_0x563b6e['y'](),_0x563b6e['z']()),_0x2d54c4['pointOther']['set'](_0x1bd2e7['x'](),_0x1bd2e7['y'](),_0x1bd2e7['z']()),_0x2d54c4['normal']['set'](_0x1fd085['x'](),_0x1fd085['y'](),_0x1fd085['z']()),_0x2d54c4['impulse']=_0x5edfee['getApplied'+'Impulse'](),_0x2d54c4;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x273ac5){const _0x151e61=_0x273ac5['get_m_loca'+'lPointA'](),_0x590a20=_0x273ac5['get_m_loca'+'lPointB'](),_0x22a047=_0x273ac5['getPositio'+'nWorldOnA'](),_0x3d7314=_0x273ac5['getPositio'+'nWorldOnB'](),_0x585d4b=_0x273ac5['get_m_norm'+'alWorldOnB'](),_0x2af905=this['contactPoi'+'ntPool']['allocate']();return _0x2af905['localPoint'+'Other']['set'](_0x151e61['x'](),_0x151e61['y'](),_0x151e61['z']()),_0x2af905['localPoint']['set'](_0x590a20['x'](),_0x590a20['y'](),_0x590a20['z']()),_0x2af905['pointOther']['set'](_0x22a047['x'](),_0x22a047['y'](),_0x22a047['z']()),_0x2af905['point']['set'](_0x3d7314['x'](),_0x3d7314['y'](),_0x3d7314['z']()),_0x2af905['normal']['set'](_0x585d4b['x'](),_0x585d4b['y'](),_0x585d4b['z']()),_0x2af905['impulse']=_0x273ac5['getApplied'+'Impulse'](),_0x2af905;}['_createSin'+'gleContact'+'Result'](_0x1905c6,_0x5bc737,_0xbb2701){const _0x2da120=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x2da120['a']=_0x1905c6,_0x2da120['b']=_0x5bc737,_0x2da120['localPoint'+'A']=_0xbb2701['localPoint'],_0x2da120['localPoint'+'B']=_0xbb2701['localPoint'+'Other'],_0x2da120['pointA']=_0xbb2701['point'],_0x2da120['pointB']=_0xbb2701['pointOther'],_0x2da120['normal']=_0xbb2701['normal'],_0x2da120['impulse']=_0xbb2701['impulse'],_0x2da120;}['_createCon'+'tactResult'](_0x4ae966,_0x1c7e77){const _0x1e56f7=this['contactRes'+'ultPool']['allocate']();return _0x1e56f7['other']=_0x4ae966,_0x1e56f7['contacts']=_0x1c7e77,_0x1e56f7;}['_cleanOldC'+'ollisions'](){for(const _0x41ed50 in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x41ed50)){const _0x2875cf=this['frameColli'+'sions'][_0x41ed50],_0x3ed14f=this['collisions'][_0x41ed50],_0x477818=_0x3ed14f['entity'],_0xd5a485=_0x477818['collision'],_0x5a1a49=_0x477818['rigidbody'],_0x17d883=_0x3ed14f['others'];let _0x34da31=_0x17d883['length'];for(;_0x34da31--;){const _0x4bc8b1=_0x17d883[_0x34da31];(!_0x2875cf||_0x2875cf['others']['indexOf'](_0x4bc8b1)<0x7*-0x551+-0x2236+0x17cf*0x3)&&(_0x17d883['splice'](_0x34da31,0x3f*-0x8a+0x120c+0xfeb),_0x477818['trigger']?(_0xd5a485&&_0xd5a485['fire']('triggerlea'+'ve',_0x4bc8b1),_0x4bc8b1['rigidbody']&&_0x4bc8b1['rigidbody']['fire']('triggerlea'+'ve',_0x477818)):_0x4bc8b1['trigger']||(_0x5a1a49&&_0x5a1a49['fire']('collisione'+'nd',_0x4bc8b1),_0xd5a485&&_0xd5a485['fire']('collisione'+'nd',_0x4bc8b1)));}_0x17d883['length']===0x437*0x1+-0x2351+0x1f1a&&delete this['collisions'][_0x41ed50];}}['_hasContac'+'tEvent'](_0x1bed0b){const _0x47b53a=_0x1bed0b['collision'];if(_0x47b53a&&(_0x47b53a['hasEvent']('collisions'+'tart')||_0x47b53a['hasEvent']('collisione'+'nd')||_0x47b53a['hasEvent']('contact')))return!(-0x1a18+-0x177+0x583*0x5);const _0x311137=_0x1bed0b['rigidbody'];return _0x311137&&(_0x311137['hasEvent']('collisions'+'tart')||_0x311137['hasEvent']('collisione'+'nd')||_0x311137['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x3b1bed,_0x4e76f9){const _0x165db7=Ammo['wrapPointe'+'r'](_0x3b1bed,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x3a2863=_0x165db7['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0x1c23aa=-0x2*0x52a+0x5df+-0xa3*-0x7;_0x1c23aa<_0x3a2863;_0x1c23aa++){const _0x459e94=_0x165db7['getManifol'+'dByIndexIn'+'ternal'](_0x1c23aa),_0x3179d0=_0x459e94['getBody0'](),_0x847b1c=_0x459e94['getBody1'](),_0x4ed6ce=Ammo['castObject'](_0x3179d0,Ammo['btRigidBod'+'y']),_0x34de04=Ammo['castObject'](_0x847b1c,Ammo['btRigidBod'+'y']),_0x3feb1d=_0x4ed6ce['entity'],_0x372e4f=_0x34de04['entity'];if(!_0x3feb1d||!_0x372e4f)continue;const _0x2a8ed2=_0x4ed6ce['getCollisi'+'onFlags'](),_0x342272=_0x34de04['getCollisi'+'onFlags'](),_0x5d889f=_0x459e94['getNumCont'+'acts'](),_0x2b032e=[],_0x4e893d=[];let _0x59f046;if(_0x5d889f>0x12*0x1bb+-0x7cc*-0x3+-0x368a){if(_0x2a8ed2&Po||_0x342272&Po){const _0x44ea66=_0x3feb1d['collision']&&(_0x3feb1d['collision']['hasEvent']('triggerent'+'er')||_0x3feb1d['collision']['hasEvent']('triggerlea'+'ve')),_0x5c207b=_0x372e4f['collision']&&(_0x372e4f['collision']['hasEvent']('triggerent'+'er')||_0x372e4f['collision']['hasEvent']('triggerlea'+'ve')),_0x5eb8f8=_0x3feb1d['rigidbody']&&(_0x3feb1d['rigidbody']['hasEvent']('triggerent'+'er')||_0x3feb1d['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x2bf7d8=_0x372e4f['rigidbody']&&(_0x372e4f['rigidbody']['hasEvent']('triggerent'+'er')||_0x372e4f['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x44ea66&&(_0x59f046=this['_storeColl'+'ision'](_0x3feb1d,_0x372e4f),_0x59f046&&!(_0x342272&Po)&&_0x3feb1d['collision']['fire']('triggerent'+'er',_0x372e4f)),_0x5c207b&&(_0x59f046=this['_storeColl'+'ision'](_0x372e4f,_0x3feb1d),_0x59f046&&!(_0x2a8ed2&Po)&&_0x372e4f['collision']['fire']('triggerent'+'er',_0x3feb1d)),_0x5eb8f8&&(_0x59f046||(_0x59f046=this['_storeColl'+'ision'](_0x372e4f,_0x3feb1d)),_0x59f046&&_0x3feb1d['rigidbody']['fire']('triggerent'+'er',_0x372e4f)),_0x2bf7d8&&(_0x59f046||(_0x59f046=this['_storeColl'+'ision'](_0x3feb1d,_0x372e4f)),_0x59f046&&_0x372e4f['rigidbody']['fire']('triggerent'+'er',_0x3feb1d));}else{const _0x2e92d7=this['_hasContac'+'tEvent'](_0x3feb1d),_0xc9796e=this['_hasContac'+'tEvent'](_0x372e4f),_0x458570=this['hasEvent']('contact');if(_0x458570||_0x2e92d7||_0xc9796e){for(let _0x30306a=-0x1446+0xf9d*-0x1+0x23e3;_0x30306a<_0x5d889f;_0x30306a++){const _0x1c8546=_0x459e94['getContact'+'Point'](_0x30306a),_0x5b530a=this['_createCon'+'tactPointF'+'romAmmo'](_0x1c8546);if(_0x2e92d7||_0xc9796e){_0x2b032e['push'](_0x5b530a);const _0x201266=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x1c8546);_0x4e893d['push'](_0x201266);}if(_0x458570){const _0x229777=this['_createSin'+'gleContact'+'Result'](_0x3feb1d,_0x372e4f,_0x5b530a);this['fire']('contact',_0x229777);}}if(_0x2e92d7){const _0x7f396b=this['_createCon'+'tactResult'](_0x372e4f,_0x2b032e);_0x59f046=this['_storeColl'+'ision'](_0x3feb1d,_0x372e4f),_0x3feb1d['collision']&&(_0x3feb1d['collision']['fire']('contact',_0x7f396b),_0x59f046&&_0x3feb1d['collision']['fire']('collisions'+'tart',_0x7f396b)),_0x3feb1d['rigidbody']&&(_0x3feb1d['rigidbody']['fire']('contact',_0x7f396b),_0x59f046&&_0x3feb1d['rigidbody']['fire']('collisions'+'tart',_0x7f396b));}if(_0xc9796e){const _0x4cebc8=this['_createCon'+'tactResult'](_0x3feb1d,_0x4e893d);_0x59f046=this['_storeColl'+'ision'](_0x372e4f,_0x3feb1d),_0x372e4f['collision']&&(_0x372e4f['collision']['fire']('contact',_0x4cebc8),_0x59f046&&_0x372e4f['collision']['fire']('collisions'+'tart',_0x4cebc8)),_0x372e4f['rigidbody']&&(_0x372e4f['rigidbody']['fire']('contact',_0x4cebc8),_0x59f046&&_0x372e4f['rigidbody']['fire']('collisions'+'tart',_0x4cebc8));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x332733){let _0x54d3f1,_0x535498;this['_stats']['physicsSta'+'rt']=de(),this['_gravityFl'+'oat32'][0x4*0x1d0+0xdf6*0x2+-0x232c]=this['gravity']['x'],this['_gravityFl'+'oat32'][0x8d*-0x1e+-0x1*-0x15f7+-0x570]=this['gravity']['y'],this['_gravityFl'+'oat32'][0x1*-0x1a93+0x1102+0x993]=this['gravity']['z'];const _0x3f5cc6=this['dynamicsWo'+'rld']['getGravity']();(_0x3f5cc6['x']()!==this['_gravityFl'+'oat32'][-0xc8f+-0x1bfa+-0x481*-0x9]||_0x3f5cc6['y']()!==this['_gravityFl'+'oat32'][0x743+-0x2597+0x1e55]||_0x3f5cc6['z']()!==this['_gravityFl'+'oat32'][0xbc7+-0x4*0x76+0xe7*-0xb])&&(_0x3f5cc6['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x3f5cc6));const _0x55c95f=this['_triggers'];for(_0x54d3f1=-0x1*0xcc9+-0xe*-0x12b+0xb*-0x53,_0x535498=_0x55c95f['length'];_0x54d3f1<_0x535498;_0x54d3f1++)_0x55c95f[_0x54d3f1]['updateTran'+'sform']();const _0x24a46b=this['_compounds'];for(_0x54d3f1=-0x1394+-0x20f5+-0x3489*-0x1,_0x535498=_0x24a46b['length'];_0x54d3f1<_0x535498;_0x54d3f1++)_0x24a46b[_0x54d3f1]['_updateCom'+'pound']();const _0x3fbad2=this['_kinematic'];for(_0x54d3f1=-0x1ecd+-0x21dd+0x1f*0x216,_0x535498=_0x3fbad2['length'];_0x54d3f1<_0x535498;_0x54d3f1++)_0x3fbad2[_0x54d3f1]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x332733,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x3915ee=this['_dynamic'];for(_0x54d3f1=-0xac*0x2a+-0x5f4+0x222c,_0x535498=_0x3915ee['length'];_0x54d3f1<_0x535498;_0x54d3f1++)_0x3915ee[_0x54d3f1]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x332733),this['_stats']['physicsTim'+'e']=de()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](Mi),Ammo['destroy'](Di),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,Mi=null,Di=null,bs['onAppDestr'+'oy']());}}h(wm,'EVENT_CONT'+'ACT','contact'),we['_buildAcce'+'ssors'](bs['prototype'],o0);const Za='none',qO='blend',tS=new te();class l0 extends we{constructor(_0x487693,_0x1b66bc){super(_0x487693,_0x1b66bc),this['_resolutio'+'n']=new J(0x41*0x92+0x26*-0x106+-0x229*-0x2,0x1d*0x28+-0x29*0x1+-0x11*0x2f),this['_reference'+'Resolution']=new J(0x2534*0x1+0x1dcc+0x3*-0x1580,0x1*-0x231a+0xb*0x243+0xb79),this['_scaleMode']=Za,this['scale']=0x221d+0x25b6+-0x47d2,this['_scaleBlen'+'d']=0x2a4*0x5+0x6c1+-0x13f5+0.5,this['_priority']=-0xabd+-0x420+0xedd,this['_screenSpa'+'ce']=!(-0x3*-0x3ec+-0xad1+-0x1*0xf2),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new te(),this['_elements']=new Set(),_0x487693['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x413003,_0xc6a09e){var _0x2afac1;if(!(_0x413003 instanceof lt))return _0xc6a09e;if(_0x413003['element']){const _0x5842f6=_0x413003['element']['drawOrder'];_0x413003['element']['drawOrder']=_0xc6a09e++,_0x413003['element']['_batchGrou'+'pId']>=0x5f*-0x2f+-0x1*0x1d6e+0x39b*0xd&&_0x5842f6!==_0x413003['element']['drawOrder']&&((_0x2afac1=this['system']['app']['batcher'])==null||_0x2afac1['markGroupD'+'irty'](_0x413003['element']['_batchGrou'+'pId']));}_0x413003['particlesy'+'stem']&&(_0x413003['particlesy'+'stem']['drawOrder']=_0xc6a09e++);const _0x590601=_0x413003['children'];for(let _0x2d389d=0x3e7*0x9+0x6b+-0x238a;_0x2d389d<_0x590601['length'];_0x2d389d++)_0xc6a09e=this['_recurseDr'+'awOrderSyn'+'c'](_0x590601[_0x2d389d],_0xc6a09e);return _0xc6a09e;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],-0x1*0x2611+0xb15*0x2+0xfe8),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x37895d=this['_resolutio'+'n']['x']/this['scale'],_0x17ab42=this['_resolutio'+'n']['y']/this['scale'],_0x2e92e5=-0x2*-0x68b+0x190f*0x1+-0x2625,_0x232c12=_0x37895d,_0x5340de=-_0x17ab42;this['_screenMat'+'rix']['setOrtho'](_0x2e92e5,_0x232c12,_0x5340de,0x170e+-0x1ddc+0x6ce,0x182+-0x1b8e+0x27*0xab,-(-0x2d6+0x115b*0x1+-0xe84)),this['_screenSpa'+'ce']||(tS['setScale']((0x1e*-0x140+0x4cd+0x20b3+0.5)*_0x37895d,(-0x3*-0x571+-0x7ea*0x2+-0x7f+0.5)*_0x17ab42,-0x1d9d+-0x164b+0x33e9),this['_screenMat'+'rix']['mul2'](tS,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x32e308,_0x2f539e){const _0x33b8a8=Math['log2']((_0x32e308['x']||0x6c0+-0x1*0x409+0x2b6*-0x1)/_0x2f539e['x']),_0x49dee6=Math['log2']((_0x32e308['y']||0x84+-0x229c+0xcb*0x2b)/_0x2f539e['y']);return Math['pow'](-0x127a+0xdca+0x1*0x4b2,_0x33b8a8*(-0x122*0x1d+-0x2*0x12be+0x4657*0x1-this['_scaleBlen'+'d'])+_0x49dee6*this['_scaleBlen'+'d']);}['_onResize'](_0xda4b53,_0x54fd63){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0xda4b53,_0x54fd63),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0x2237f4){this['_elements']['add'](_0x2237f4);}['_unbindEle'+'ment'](_0x55f03e){this['_elements']['delete'](_0x55f03e);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x4c9470=>_0x4c9470['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x5e9800){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x5e9800['x'],_0x5e9800['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x1a1c24=>_0x1a1c24['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x1db3d9){this['_reference'+'Resolution']['set'](_0x1db3d9['x'],_0x1db3d9['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x41dc17=>_0x41dc17['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Za?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x134852){this['_screenSpa'+'ce']=_0x134852,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0xa44e19=>_0xa44e19['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x4d683a){_0x4d683a!==Za&&_0x4d683a!==qO&&(_0x4d683a=Za),!this['_screenSpa'+'ce']&&_0x4d683a!==Za&&(_0x4d683a=Za),this['_scaleMode']=_0x4d683a,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x3e8a64){this['_scaleBlen'+'d']=_0x3e8a64,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x3770d8=>_0x3770d8['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x3113bc){_0x3113bc>0xe*0xe9+0x1*-0xc07+-0x2*-0x24&&(w['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x3113bc+'\x20to\x20255'),_0x3113bc=-0x13ac+0x5*0x6b9+-0xcf2),this['_priority']!==_0x3113bc&&(this['_priority']=_0x3113bc,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class jO{constructor(){this['enabled']=!(0x1*0x1daf+0x116+0x1*-0x1ec5);}}const Uu=['enabled'];class YO extends ct{constructor(_0x51fb0e){super(_0x51fb0e),this['id']='screen',this['ComponentT'+'ype']=l0,this['DataType']=jO,this['schema']=Uu,this['windowReso'+'lution']=new J(),this['_drawOrder'+'SyncQueue']=new fx(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x4ade9c,_0x382613,_0x333ab4){_0x382613['priority']!==void(0x1076+0x1*0xa16+-0x1a8c)&&(_0x4ade9c['priority']=_0x382613['priority']),_0x382613['screenSpac'+'e']!==void(0x1b21*0x1+-0x6da+-0x1447)&&(_0x4ade9c['screenSpac'+'e']=_0x382613['screenSpac'+'e']),_0x4ade9c['cull']=_0x4ade9c['screenSpac'+'e'],_0x382613['scaleMode']!==void(0xd3a+-0x1*-0x2656+-0x3390)&&(_0x4ade9c['scaleMode']=_0x382613['scaleMode']),_0x382613['scaleBlend']!==void(0x13*-0xdd+-0x1*-0xff1+0x2*0x3b)&&(_0x4ade9c['scaleBlend']=_0x382613['scaleBlend']),_0x382613['resolution']!==void(-0x9ba*0x2+-0xebe+0x1*0x2232)&&(_0x382613['resolution']instanceof J?_0x4ade9c['_resolutio'+'n']['copy'](_0x382613['resolution']):_0x4ade9c['_resolutio'+'n']['set'](_0x382613['resolution'][-0x1*-0x1868+0x486+0x7*-0x422],_0x382613['resolution'][0x1*0x1ee5+0x5*-0x41b+0x7*-0x17b]),_0x4ade9c['resolution']=_0x4ade9c['_resolutio'+'n']),_0x382613['referenceR'+'esolution']!==void(0x214f+-0x13ba+0xb7*-0x13)&&(_0x382613['referenceR'+'esolution']instanceof J?_0x4ade9c['_reference'+'Resolution']['copy'](_0x382613['referenceR'+'esolution']):_0x4ade9c['_reference'+'Resolution']['set'](_0x382613['referenceR'+'esolution'][0x88f+-0x1450+-0x11*-0xb1],_0x382613['referenceR'+'esolution'][0x150f+0x1b33+-0xb*0x463]),_0x4ade9c['referenceR'+'esolution']=_0x4ade9c['_reference'+'Resolution']),_0x4ade9c['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x4ade9c,_0x382613,Uu);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x540bf5){const _0x345af7=this['store'];for(const _0x1df893 in _0x345af7)_0x345af7[_0x1df893]['entity']['screen']['update']&&_0x345af7[_0x1df893]['entity']['screen']['update'](_0x540bf5);}['_onResize'](_0x384382,_0x4e54b7){this['windowReso'+'lution']['x']=_0x384382,this['windowReso'+'lution']['y']=_0x4e54b7;}['cloneCompo'+'nent'](_0x286c10,_0x24286d){const _0x5a6f2c=_0x286c10['screen'];return this['addCompone'+'nt'](_0x24286d,{'enabled':_0x5a6f2c['enabled'],'screenSpace':_0x5a6f2c['screenSpac'+'e'],'scaleMode':_0x5a6f2c['scaleMode'],'resolution':_0x5a6f2c['resolution']['clone'](),'referenceResolution':_0x5a6f2c['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x377c7a,_0x3ff5cb){_0x3ff5cb['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x2c9462=this['_drawOrder'+'SyncQueue']['list']();for(let _0x59c20a=-0x1b88+-0xa8*-0xe+0x24b*0x8;_0x59c20a<_0x2c9462['length'];_0x59c20a++){const _0x4f280c=_0x2c9462[_0x59c20a];_0x4f280c['callback']['call'](_0x4f280c['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x337d2f,_0x52948f,_0x5cdee9){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x337d2f)||this['_drawOrder'+'SyncQueue']['push'](_0x337d2f,{'callback':_0x52948f,'scope':_0x5cdee9});}}we['_buildAcce'+'ssors'](l0['prototype'],Uu);const lr=new J(),sS=new D(),Hr=new Dn(),iS=new QS(),rS=new D(),vo=new D(),KO=new le(),ZO={'x':'y','y':'x'};class Go extends me{constructor(_0x567234,_0x1a6346){if(super(),!_0x567234||!(_0x567234 instanceof hs))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0x1a6346&&_0x1a6346!=='x'&&_0x1a6346!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0x1a6346);this['_element']=_0x567234,this['_app']=_0x567234['system']['app'],this['_axis']=_0x1a6346||null,this['_enabled']=!(-0x1902+-0x10bd*0x1+0x29bf),this['_dragScale']=new D(),this['_dragStart'+'MousePosit'+'ion']=new D(),this['_dragStart'+'HandlePosi'+'tion']=new D(),this['_deltaMous'+'ePosition']=new D(),this['_deltaHand'+'lePosition']=new D(),this['_isDraggin'+'g']=!(-0xf02+0x69d+0x32*0x2b),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0x546af3){this['_element'][_0x546af3]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x546af3]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0x546af3]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x3c953e){const _0x10beb4=_0x3c953e==='on';this['_hasDragLi'+'steners']&&_0x10beb4||(this['_app']['mouse']&&(this['_element'][_0x3c953e]('mousemove',this['_onMove'],this),this['_element'][_0x3c953e]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),Ae['touch']&&(this['_element'][_0x3c953e]('touchmove',this['_onMove'],this),this['_element'][_0x3c953e]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x3c953e]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x3c953e]('selectmove',this['_onMove'],this),this['_element'][_0x3c953e]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x10beb4);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x5d0d82){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x5d0d82['camera'],this['_calculate'+'DragScale']();const _0x303088=this['_screenToL'+'ocal'](_0x5d0d82);_0x303088&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0x15c6+-0x4cd*0x7+0x3761),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x303088),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(0xe46+0x2658+-0x349d),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x492523){return _0x492523['inputSourc'+'e']?Hr['set'](_0x492523['inputSourc'+'e']['getOrigin'](),_0x492523['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x492523),this['_chooseRay'+'OriginAndD'+'irection']()),rS['copy'](this['_element']['entity']['forward'])['mulScalar'](-(0x1b*0x67+-0x1f*0x2b+0x5a7*-0x1)),iS['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),rS),iS['intersects'+'Ray'](Hr,vo)?(KO['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](vo,vo),vo['mul'](this['_dragScale']),vo):null;}['_determine'+'InputPosit'+'ion'](_0x4da167){const _0x183b02=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x4da167['x']<'u'&&typeof _0x4da167['y']<'u'?(lr['x']=_0x4da167['x']*_0x183b02,lr['y']=_0x4da167['y']*_0x183b02):_0x4da167['changedTou'+'ches']?(lr['x']=_0x4da167['changedTou'+'ches'][-0x3*0x323+-0x1efd+0x2866]['x']*_0x183b02,lr['y']=_0x4da167['changedTou'+'ches'][0x1*-0x1fb3+0x267a+0x15b*-0x5]['y']*_0x183b02):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Hr['origin']['set'](lr['x'],-lr['y'],0x1eb9+-0x2c*-0x30+-0x26f9),Hr['direction']['copy'](D['FORWARD'])):(sS['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](lr['x'],lr['y'],0xcd+0x4*0x6+-0xe4)),Hr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Hr['direction']['copy'](sS)['sub'](Hr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x23ce42=this['_element']['entity']['parent'];const _0x3f66ff=this['_element']['screen']&&this['_element']['screen']['screen'],_0x445a3d=_0x3f66ff&&_0x3f66ff['screenSpac'+'e'],_0x5261e9=_0x445a3d?_0x3f66ff['scale']:-0x25c6+0x38+0x258f,_0x1798fa=this['_dragScale'];for(_0x1798fa['set'](_0x5261e9,_0x5261e9,_0x5261e9);_0x23ce42&&(_0x1798fa['mul'](_0x23ce42['getLocalSc'+'ale']()),_0x23ce42=_0x23ce42['parent'],!(_0x445a3d&&_0x23ce42['screen'])););_0x1798fa['x']=(0x9*0x301+0x2*-0x1213+-0x1*-0x91e)/_0x1798fa['x'],_0x1798fa['y']=(0x46*0x49+-0xc22+-0x7d3)/_0x1798fa['y'],_0x1798fa['z']=0x5*0x34a+-0x2011+-0xf9f*-0x1;}['_onMove'](_0x299eaa){const {_element:_0x470c74,_deltaMousePosition:_0xb10dc,_deltaHandlePosition:_0x9ef765,_axis:_0x4b8f3d}=this;if(_0x470c74&&this['_isDraggin'+'g']&&this['enabled']&&_0x470c74['enabled']&&_0x470c74['entity']['enabled']){const _0x32fc89=this['_screenToL'+'ocal'](_0x299eaa);if(_0x32fc89){if(_0xb10dc['sub2'](_0x32fc89,this['_dragStart'+'MousePosit'+'ion']),_0x9ef765['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0xb10dc),_0x4b8f3d){const _0x30ba55=_0x470c74['entity']['getLocalPo'+'sition'](),_0x3517a1=ZO[_0x4b8f3d];_0x9ef765[_0x3517a1]=_0x30ba55[_0x3517a1];}_0x470c74['entity']['setLocalPo'+'sition'](_0x9ef765),this['fire']('drag:move',_0x9ef765);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x3403ad){this['_enabled']=_0x3403ad;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}h(Go,'EVENT_DRAG'+'START','drag:start'),h(Go,'EVENT_DRAG'+'END','drag:end'),h(Go,'EVENT_DRAG'+'MOVE','drag:move');const QO=0xef0+0x1660+0x3*-0xc70,aS=0x1ac+-0x6d*-0x17+-0xb76,JO=0x527+0xf87+-0x14ac,eF=0x607*-0x5+0x131b+0xb08,tF=-0x3b*0x4d+0x269*-0x1+0x1429,xo=new J();class c0 extends we{constructor(_0x2b2529,_0x37b234){super(_0x2b2529,_0x37b234),h(this,'_viewportE'+'ntity',null),h(this,'_contentEn'+'tity',null),h(this,'_horizonta'+'lScrollbar'+'Entity',null),h(this,'_verticalS'+'crollbarEn'+'tity',null),h(this,'_evtElemen'+'tRemove',null),h(this,'_evtViewpo'+'rtElementR'+'emove',null),h(this,'_evtViewpo'+'rtResize',null),h(this,'_evtConten'+'tEntityEle'+'mentAdd',null),h(this,'_evtConten'+'tElementRe'+'move',null),h(this,'_evtConten'+'tResize',null),h(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),h(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),h(this,'_evtHorizo'+'ntalScroll'+'barValue',null),h(this,'_evtVertic'+'alScrollba'+'rAdd',null),h(this,'_evtVertic'+'alScrollba'+'rRemove',null),h(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_scroll']=new J(),this['_velocity']=new D(),this['_dragStart'+'Position']=new D(),this['_disabledC'+'ontentInpu'+'t']=!(-0x930+0x102*0xd+0x3e9*-0x1),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x2babde=this['system']['store'][this['entity']['getGuid']()];return _0x2babde?_0x2babde['data']:null;}set['enabled'](_0x399779){this['_setValue']('enabled',_0x399779);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x1b1e5a){this['_setValue']('horizontal',_0x1b1e5a);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x36eb4e){this['_setValue']('vertical',_0x36eb4e);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x24f6a8){this['_setValue']('scrollMode',_0x24f6a8);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x1349cb){this['_setValue']('bounceAmou'+'nt',_0x1349cb);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x544999){this['_setValue']('friction',_0x544999);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x184fa6){this['_setValue']('dragThresh'+'old',_0x184fa6);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x213c56){this['_setValue']('useMouseWh'+'eel',_0x213c56);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x2dd5b5){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x2dd5b5);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x210963){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x210963);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x5bf1ed){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x5bf1ed);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x23fd61){if(this['_viewportE'+'ntity']===_0x23fd61)return;const _0x38cc40=typeof _0x23fd61=='string';this['_viewportE'+'ntity']&&_0x38cc40&&this['_viewportE'+'ntity']['getGuid']()===_0x23fd61||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x23fd61 instanceof Ie?this['_viewportE'+'ntity']=_0x23fd61:_0x38cc40?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x23fd61)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x38cc40&&_0x23fd61&&(this['data']['viewportEn'+'tity']=_0x23fd61));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x52c6c1){if(this['_contentEn'+'tity']===_0x52c6c1)return;const _0x510ff4=typeof _0x52c6c1=='string';this['_contentEn'+'tity']&&_0x510ff4&&this['_contentEn'+'tity']['getGuid']()===_0x52c6c1||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x52c6c1 instanceof Ie?this['_contentEn'+'tity']=_0x52c6c1:_0x510ff4?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x52c6c1)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x510ff4&&_0x52c6c1&&(this['data']['contentEnt'+'ity']=_0x52c6c1));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x2eef8f){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x2eef8f)return;const _0x57a5c0=typeof _0x2eef8f=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0x57a5c0&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x2eef8f||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x2eef8f instanceof Ie?this['_horizonta'+'lScrollbar'+'Entity']=_0x2eef8f:_0x57a5c0?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x2eef8f)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][Ce]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0x57a5c0&&_0x2eef8f&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x2eef8f));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x3dd406){if(this['_verticalS'+'crollbarEn'+'tity']===_0x3dd406)return;const _0x2788ea=typeof _0x3dd406=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0x2788ea&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x3dd406||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x3dd406 instanceof Ie?this['_verticalS'+'crollbarEn'+'tity']=_0x3dd406:_0x2788ea?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x3dd406)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][je]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0x2788ea&&_0x3dd406&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x3dd406));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x3e391f){this['_onSetScro'+'ll'](_0x3e391f['x'],_0x3e391f['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x54b819,_0x4391ef){const _0x477bac=this['data'],_0x3b71c2=_0x477bac[_0x54b819];_0x477bac[_0x54b819]=_0x4391ef,this['fire']('set',_0x54b819,_0x3b71c2,_0x4391ef);}['_toggleLif'+'ecycleList'+'eners'](_0x5c2829){this[_0x5c2829]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x5c2829]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x5c2829]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x238b5b){if(this['entity']['element']){if(_0x238b5b==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x238b5b]('resize',this['_syncAll'],this),this['entity']['element'][_0x238b5b]('mousewheel',this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x238b5b==='on';}}['_onElement'+'ComponentA'+'dd'](_0x1c4609){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x34af03){var _0x2220fc;(_0x2220fc=this['_evtElemen'+'tRemove'])==null||_0x2220fc['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x5e2ca3,_0x48f2b1;(_0x5e2ca3=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x5e2ca3['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x48f2b1=this['_viewportE'+'ntity'])!=null&&_0x48f2b1['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x1f2620=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x1f2620['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x1f2620['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x3c3c83,_0x2959de;(_0x3c3c83=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x3c3c83['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x2959de=this['_evtViewpo'+'rtResize'])==null||_0x2959de['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x3de72e,_0x5ac4fb;(_0x3de72e=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x3de72e['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x5ac4fb=this['_contentEn'+'tity'])!=null&&_0x5ac4fb['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0x29661d=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0x29661d['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0x29661d['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0x149892,_0x386975;(_0x149892=this['_evtConten'+'tElementRe'+'move'])==null||_0x149892['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x386975=this['_evtConten'+'tResize'])==null||_0x386975['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new Go(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x34f983){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(-0x59a+0xb73*-0x1+-0x9*-0x1e5),this['_setScroll'+'FromConten'+'tPosition'](_0x34f983),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x34f983),!this['_disabledC'+'ontentInpu'+'t'])){const _0x20b20a=_0x34f983['x']-this['_dragStart'+'Position']['x'],_0x2ccc1e=_0x34f983['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x20b20a)>this['dragThresh'+'old']||Math['abs'](_0x2ccc1e)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x27961b;(_0x27961b=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x27961b['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x587120;(_0x587120=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x587120['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x3ae354){!this['_scrollbar'+'UpdateFlag'+'s'][Ce]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x3ae354,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x37746d){!this['_scrollbar'+'UpdateFlag'+'s'][je]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x37746d);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x3bf94;const _0xbc8458=(_0x3bf94=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(0x139f+0x1db6*0x1+-0x1*0x3155):_0x3bf94['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0xbc8458['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0xbc8458['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarPositi'+'on'](Ce);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x2ae665;const _0x553ed8=(_0x2ae665=this['_verticalS'+'crollbarEn'+'tity'])==null?void(0x13d0*-0x1+0x1904+-0x4a*0x12):_0x2ae665['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x553ed8['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x553ed8['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](je),this['_syncScrol'+'lbarPositi'+'on'](je);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x31a57b,_0x1024ca;(_0x31a57b=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x31a57b['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x1024ca=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x1024ca['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0xb16278,_0x38f67a;(_0xb16278=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0xb16278['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x38f67a=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x38f67a['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](Ce);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](je);}['_onSetScro'+'ll'](_0x2fa8b3,_0x3ba3e0,_0x415554){_0x415554!==!(-0xbd*0x8+-0xfcd+0x15b6*0x1)&&this['_velocity']['set'](0x159b+-0x1*-0x21d+-0x17b8,0x16b+0x1f63*0x1+0x143*-0x1a,-0xa2*-0x31+-0x221*-0x3+-0xc77*0x3);const _0x289d67=this['_updateAxi'+'s'](_0x2fa8b3,'x',Ce),_0x18437c=this['_updateAxi'+'s'](_0x3ba3e0,'y',je);(_0x289d67||_0x18437c)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x21613c,_0x595b32,_0x1b57b3){const _0x4b6a31=_0x21613c!==null&&Math['abs'](_0x21613c-this['_scroll'][_0x595b32])>0x1303+-0x26f4+0x13f1+0.00001;return(_0x4b6a31||this['_isDraggin'+'g']()||_0x21613c===0xa90+0x1425+0x1eb5*-0x1)&&(this['_scroll'][_0x595b32]=this['_determine'+'NewScrollV'+'alue'](_0x21613c,_0x595b32,_0x1b57b3),this['_syncConte'+'ntPosition'](_0x1b57b3),this['_syncScrol'+'lbarPositi'+'on'](_0x1b57b3)),_0x4b6a31;}['_determine'+'NewScrollV'+'alue'](_0x2c9dcb,_0x5bf008,_0x512d10){if(!this['_getScroll'+'ingEnabled'](_0x512d10))return this['_scroll'][_0x5bf008];switch(this['scrollMode']){case QO:return Y['clamp'](_0x2c9dcb,0x6*-0x4c1+0xcca+0xfbc,this['_getMaxScr'+'ollValue'](_0x512d10));case aS:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x2c9dcb,_0x5bf008,_0x512d10),_0x2c9dcb;case JO:return _0x2c9dcb;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x2c9dcb;}}['_syncAll'](){this['_syncConte'+'ntPosition'](Ce),this['_syncConte'+'ntPosition'](je),this['_syncScrol'+'lbarPositi'+'on'](Ce),this['_syncScrol'+'lbarPositi'+'on'](je),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je);}['_syncConte'+'ntPosition'](_0x4bb48f){if(!this['_contentEn'+'tity'])return;const _0x43b10f=this['_getAxis'](_0x4bb48f),_0x30f6b2=this['_getSign'](_0x4bb48f),_0x1da94c=this['_prevConte'+'ntSizes'][_0x4bb48f],_0x29bed9=this['_getConten'+'tSize'](_0x4bb48f);if(_0x1da94c!==null&&Math['abs'](_0x1da94c-_0x29bed9)>0x1f42+0x12*-0x22+0x5c6*-0x5+0.0001){const _0x2b30c3=this['_getMaxOff'+'set'](_0x4bb48f,_0x1da94c),_0x41ee94=this['_getMaxOff'+'set'](_0x4bb48f,_0x29bed9);_0x41ee94===0x7a*-0x25+0x2*-0x1fc+-0x9e*-0x23?this['_scroll'][_0x43b10f]=0xa8e+0x426+-0xeb3:this['_scroll'][_0x43b10f]=Y['clamp'](this['_scroll'][_0x43b10f]*_0x2b30c3/_0x41ee94,0x16f9+0x16ed+-0x2de6,0x1477+0x28c*-0x7+-0x2a2);}const _0x19d7e8=this['_scroll'][_0x43b10f]*this['_getMaxOff'+'set'](_0x4bb48f),_0x1dd191=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x1dd191[_0x43b10f]=_0x19d7e8*_0x30f6b2,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x1dd191),this['_prevConte'+'ntSizes'][_0x4bb48f]=_0x29bed9;}['_syncScrol'+'lbarPositi'+'on'](_0x237a0c){const _0x1febf3=this['_scrollbar'+'Entities'][_0x237a0c];if(!(_0x1febf3!=null&&_0x1febf3['scrollbar']))return;const _0x2d8d12=this['_getAxis'](_0x237a0c);this['_scrollbar'+'UpdateFlag'+'s'][_0x237a0c]=!(-0x1*-0x1de7+-0x189c+-0x54b),_0x1febf3['scrollbar']['value']=this['_scroll'][_0x2d8d12],_0x1febf3['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x2d8d12,_0x237a0c),this['_scrollbar'+'UpdateFlag'+'s'][_0x237a0c]=!(0xa46+-0x193d+0x4*0x3be);}['_syncScrol'+'lbarEnable'+'dState'](_0x51c58a){const _0xcedceb=this['_scrollbar'+'Entities'][_0x51c58a];if(!_0xcedceb)return;const _0xf52fef=this['_getScroll'+'ingEnabled'](_0x51c58a),_0x18f9ff=this['_getScroll'+'barVisibil'+'ity'](_0x51c58a);switch(_0x18f9ff){case eF:_0xcedceb['enabled']=_0xf52fef;return;case tF:_0xcedceb['enabled']=_0xf52fef&&this['_contentIs'+'LargerThan'+'Viewport'](_0x51c58a);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0x18f9ff),_0xcedceb['enabled']=_0xf52fef;}}['_contentIs'+'LargerThan'+'Viewport'](_0x2e6612){return this['_getConten'+'tSize'](_0x2e6612)>this['_getViewpo'+'rtSize'](_0x2e6612);}['_contentPo'+'sitionToSc'+'rollValue'](_0xba75f5){const _0x395933=this['_getMaxOff'+'set'](Ce),_0x24d772=this['_getMaxOff'+'set'](je);return _0x395933===0xda*0x19+-0x2249+0xcff?xo['x']=-0xb79+0x14e*0x2+-0x8dd*-0x1:xo['x']=_0xba75f5['x']/_0x395933,_0x24d772===0x240d+0x1d91+-0x419e?xo['y']=-0x2*0xef+-0x49*0xe+-0x3c*-0x19:xo['y']=_0xba75f5['y']/-_0x24d772,xo;}['_getMaxOff'+'set'](_0x253e79,_0xb5e749){_0xb5e749=_0xb5e749===void(-0x1*-0x152b+0x1d5*-0x3+-0x3eb*0x4)?this['_getConten'+'tSize'](_0x253e79):_0xb5e749;const _0x2d8cee=this['_getViewpo'+'rtSize'](_0x253e79);return _0xb5e749<_0x2d8cee?-this['_getViewpo'+'rtSize'](_0x253e79):_0x2d8cee-_0xb5e749;}['_getMaxScr'+'ollValue'](_0x3f5557){return this['_contentIs'+'LargerThan'+'Viewport'](_0x3f5557)?-0x1*-0x19ab+0xbf2+0x259c*-0x1:-0x1d5+0x23*0xd7+-0x1b90;}['_getScroll'+'barHandleS'+'ize'](_0x491cf8,_0x4999a6){const _0x112528=this['_getViewpo'+'rtSize'](_0x4999a6),_0x10a746=this['_getConten'+'tSize'](_0x4999a6);if(Math['abs'](_0x10a746)<-0x2d7+0x258a+-0x3f*0x8d+0.001)return 0x164*-0x4+-0x807+0x3*0x488;const _0x35c65d=Math['min'](_0x112528/_0x10a746,-0xf92+-0x5*0x13d+0x15c4),_0xe2e6fd=this['_toOversho'+'ot'](this['_scroll'][_0x491cf8],_0x4999a6);return _0xe2e6fd===0x8*-0x40+-0x4d0*-0x6+-0x1ae0?_0x35c65d:_0x35c65d/(-0x14ad+0x186c+-0x3be+Math['abs'](_0xe2e6fd));}['_getViewpo'+'rtSize'](_0x290112){return this['_getSize'](_0x290112,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x17d666){return this['_getSize'](_0x17d666,this['_contentEn'+'tity']);}['_getSize'](_0x3e208e,_0x37116b){return _0x37116b!=null&&_0x37116b['element']?_0x37116b['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x3e208e)]:-0xfa3+0x218d+0x2*-0x8f5;}['_getScroll'+'ingEnabled'](_0x161916){if(_0x161916===Ce)return this['horizontal'];if(_0x161916===je)return this['vertical'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x161916);}['_getScroll'+'barVisibil'+'ity'](_0x4aee06){if(_0x4aee06===Ce)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x4aee06===je)return this['verticalSc'+'rollbarVis'+'ibility'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x4aee06);}['_getSign'](_0xefcef2){return _0xefcef2===Ce?-0x22ba+-0x1*-0x5f+0x225c:-(-0x6ac+-0x701*0x3+0x1bb0*0x1);}['_getAxis'](_0x57f067){return _0x57f067===Ce?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x22b4de){return _0x22b4de===Ce?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===aS&&(this['_hasOversh'+'oot']('x',Ce)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',Ce),this['_hasOversh'+'oot']('y',je)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',je)),Math['abs'](this['_velocity']['x'])>0x41+0xb96*0x1+0x7*-0x1b1+0.0001||Math['abs'](this['_velocity']['y'])>0x1897+-0x23f+-0x41*0x58+0.0001){const _0x3527ac=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x3527ac['x']+=this['_velocity']['x'],_0x3527ac['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x3527ac),this['_setScroll'+'FromConten'+'tPosition'](_0x3527ac);}this['_velocity']['x']*=-0x1323+-0x679*0x1+0x199d-this['friction'],this['_velocity']['y']*=0x2a8+0x2*0xb80+-0x19a7-this['friction'];}}['_hasOversh'+'oot'](_0x1e8db6,_0x3de37a){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0x1e8db6],_0x3de37a))>-0x2*0x211+-0x1f*0x79+0x12c9+0.001;}['_toOversho'+'ot'](_0x427294,_0x27dacc){const _0x3cbdb0=this['_getMaxScr'+'ollValue'](_0x27dacc);return _0x427294<0xcc3*-0x1+-0x707*0x1+0x12a*0x11?_0x427294:_0x427294>_0x3cbdb0?_0x427294-_0x3cbdb0:-0x23*0x10d+-0x2073+-0x229d*-0x2;}['_setVeloci'+'tyFromOver'+'shoot'](_0x2d2c95,_0x407a1d,_0x1db030){const _0x3f9526=this['_toOversho'+'ot'](_0x2d2c95,_0x1db030)*this['_getMaxOff'+'set'](_0x1db030)*this['_getSign'](_0x1db030);Math['abs'](_0x3f9526)>-0x18e+-0x4*-0x2c5+-0x986&&(this['_velocity'][_0x407a1d]=-_0x3f9526/(this['bounceAmou'+'nt']*(-0x4d*0x1a+-0x17f*-0x10+-0xfec)+(0x24a5*-0x1+-0x3d*0x76+-0x2062*-0x2)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x3c6407){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0x3c6407,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0x3c6407)):(this['_velocity']['set'](0x1*-0x241c+-0x179*-0xf+0xe05,0x1*0x5a5+-0x11*0x22+-0x363,-0x1e24+0x1*0x1f51+-0x12d),this['_prevConte'+'ntDragPosi'+'tion']=_0x3c6407['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0xa66849){let _0x2bbf66=this['_contentPo'+'sitionToSc'+'rollValue'](_0xa66849);this['_isDraggin'+'g']()&&(_0x2bbf66=this['_applyScro'+'llValueTen'+'sion'](_0x2bbf66)),this['_onSetScro'+'ll'](_0x2bbf66['x'],_0x2bbf66['y'],!(0x1751+0x1519*-0x1+-0x237*0x1));}['_applyScro'+'llValueTen'+'sion'](_0x34580e){let _0x45f840=this['_getMaxScr'+'ollValue'](Ce),_0x359070=this['_toOversho'+'ot'](_0x34580e['x'],Ce);return _0x359070>0x1*0x3d5+0x955+-0xd2a?_0x34580e['x']=_0x45f840+(0x29*0x69+-0x1d3f+-0x3*-0x425)*Math['log10'](0x1028+-0x167*0x1a+0x6c5*0x3+_0x359070):_0x359070<0x17a6+0xe8*-0xe+-0xaf6&&(_0x34580e['x']=-(0x4db*0x1+0x1*0x5f8+0x5*-0x22a)*Math['log10'](-0x6f7+-0xe9a+0x1592-_0x359070)),_0x45f840=this['_getMaxScr'+'ollValue'](je),_0x359070=this['_toOversho'+'ot'](_0x34580e['y'],je),_0x359070>-0x61*-0x65+0xedf+-0x3524?_0x34580e['y']=_0x45f840+(0x411+0x253c+-0x294c)*Math['log10'](-0x142c+0x2b*-0x4f+-0x2*-0x10b9+_0x359070):_0x359070<-0xb7e*-0x2+-0x172a+0x2e&&(_0x34580e['y']=-(-0xa6b+-0x63d+0x355*0x5)*Math['log10'](-0x2549+0x19f9+-0x1*-0xb51-_0x359070)),_0x34580e;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x1dd513){var _0x5dda18,_0x3eb36d;(_0x5dda18=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x5dda18['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x1dd513),(_0x3eb36d=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0x3eb36d['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x1dd513);}['_setConten'+'tDraggingE'+'nabled'](_0x1a4e66){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x1a4e66);}['_onMouseWh'+'eel'](_0x5edfb5){var _0x1fb336;if(!this['useMouseWh'+'eel']||!((_0x1fb336=this['_contentEn'+'tity'])!=null&&_0x1fb336['element']))return;const _0x42b243=_0x5edfb5['event'],_0x2cc057=_0x42b243['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x1a6a3f=_0x42b243['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x1f1bcb=Y['clamp'](this['_scroll']['x']+_0x2cc057,-0xc96+0xd*-0x18a+0x2098,this['_getMaxScr'+'ollValue'](Ce)),_0x4e6691=Y['clamp'](this['_scroll']['y']+_0x1a6a3f,-0x7d3*0x2+-0x5*-0x50+0xe16,this['_getMaxScr'+'ollValue'](je));this['scroll']=new J(_0x1f1bcb,_0x4e6691);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x35a8ae=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x35a8ae['element']&&(_0x35a8ae['element']['useInput']=!(-0x39*-0x4b+-0x5*-0x14b+-0x172a));}this['_disabledC'+'ontentInpu'+'t']=!(-0x1bdb+-0xe91+0x1*0x2a6d);}['_disableCo'+'ntentInput'](){const _0x240fb2=_0x3c8aa4=>{_0x3c8aa4['element']&&_0x3c8aa4['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x3c8aa4),_0x3c8aa4['element']['useInput']=!(0x27*-0xd9+-0x157a+-0x219*-0x1a));const _0x30a1b2=_0x3c8aa4['children'];for(let _0x4f0df4=-0x9c9+-0x2270+0x2c39,_0x422562=_0x30a1b2['length'];_0x4f0df4<_0x422562;_0x4f0df4++)_0x240fb2(_0x30a1b2[_0x4f0df4]);};if(this['_contentEn'+'tity']){const _0x3614b7=this['_contentEn'+'tity']['children'];for(let _0x19376e=0x1*-0x1d1a+0x1f70+-0x256,_0x319cf8=_0x3614b7['length'];_0x19376e<_0x319cf8;_0x19376e++)_0x240fb2(_0x3614b7[_0x19376e]);}this['_disabledC'+'ontentInpu'+'t']=!(0xe*0x1a+-0x1ed*-0xa+-0x14ae);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0xf*0x3f+0xa1*-0x27+-0x2*-0xa6b)),this['_setConten'+'tDraggingE'+'nabled'](!(0x1*-0x82b+-0x85*0x15+-0x3*-0x65c)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x1593+0x16b4+-0x120)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x15a9+0x3bf*0x9+-0x269*0x5));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x14c356,_0x497984){_0x14c356['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x497984[_0x14c356['viewportEn'+'tity']['getGuid']()]),_0x14c356['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x497984[_0x14c356['contentEnt'+'ity']['getGuid']()]),_0x14c356['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x497984[_0x14c356['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x14c356['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x497984[_0x14c356['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}h(c0,'EVENT_SETS'+'CROLL','set:scroll');const sF=0x2405*-0x1+0x3*-0x642+0x36d5;class iF{constructor(){h(this,'enabled',!(-0x1*-0x25e5+0x686*0x5+-0x4683)),h(this,'horizontal'),h(this,'vertical'),h(this,'scrollMode'),h(this,'bounceAmou'+'nt'),h(this,'friction'),h(this,'dragThresh'+'old',sF),h(this,'useMouseWh'+'eel',!(0x50b*0x2+-0x9d3*-0x2+-0x16*0x15a)),h(this,'mouseWheel'+'Sensitivit'+'y',new J(-0xcff+0x11c8*0x1+-0x4c8,0x1*0x1d4b+0x21d*0x5+-0x27db)),h(this,'horizontal'+'ScrollbarV'+'isibility',0x1*-0x1ffb+-0x1*-0x15ff+-0x24*-0x47),h(this,'verticalSc'+'rollbarVis'+'ibility',-0x15bd+-0x1696+0x2c53),h(this,'viewportEn'+'tity',null),h(this,'contentEnt'+'ity',null),h(this,'horizontal'+'ScrollbarE'+'ntity',null),h(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const nS=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],rF=0x2*-0x2a9+0x103f*-0x1+-0x159b*-0x1;class aF extends ct{constructor(_0x5274ae){super(_0x5274ae),this['id']='scrollview',this['ComponentT'+'ype']=c0,this['DataType']=iF,this['schema']=nS,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x4a566b,_0x2529cb,_0x36543d){_0x2529cb['dragThresh'+'old']===void(-0x7d1+-0xb77*-0x1+-0x3a6)&&(_0x2529cb['dragThresh'+'old']=rF),_0x2529cb['useMouseWh'+'eel']===void(0x1*-0x2605+-0x1*-0x1d7e+0x887)&&(_0x2529cb['useMouseWh'+'eel']=!(-0x5*0x5b1+0x23fa+-0x785)),_0x2529cb['mouseWheel'+'Sensitivit'+'y']===void(-0x7b9*-0x3+0x9*0x389+0x45*-0xcc)&&(_0x2529cb['mouseWheel'+'Sensitivit'+'y']=new J(0x19cc+-0x178f+-0x23c,-0x7*0x185+-0x196b+0x240f)),super['initialize'+'ComponentD'+'ata'](_0x4a566b,_0x2529cb,nS),_0x4a566b['viewportEn'+'tity']=_0x2529cb['viewportEn'+'tity'],_0x4a566b['contentEnt'+'ity']=_0x2529cb['contentEnt'+'ity'],_0x4a566b['horizontal'+'ScrollbarE'+'ntity']=_0x2529cb['horizontal'+'ScrollbarE'+'ntity'],_0x4a566b['verticalSc'+'rollbarEnt'+'ity']=_0x2529cb['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x5611e0){const _0xfbddf5=this['store'];for(const _0x2ebbdb in _0xfbddf5){const _0x574b1a=_0xfbddf5[_0x2ebbdb]['entity'],_0x521617=_0x574b1a['scrollview'];_0x521617['enabled']&&_0x574b1a['enabled']&&_0x521617['onUpdate']();}}['_onRemoveC'+'omponent'](_0x1eafc6,_0x4e623a){_0x4e623a['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class h0 extends we{constructor(_0x9b8c78,_0x13e3dc){super(_0x9b8c78,_0x13e3dc),h(this,'_handleEnt'+'ity',null),h(this,'_evtHandle'+'EntityElem'+'entAdd',null),h(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x370b20=this['system']['store'][this['entity']['getGuid']()];return _0x370b20?_0x370b20['data']:null;}set['enabled'](_0x3f9615){this['_setValue']('enabled',_0x3f9615);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x5501f5){this['_setValue']('orientatio'+'n',_0x5501f5);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x4df79a){this['_setValue']('value',_0x4df79a);}get['value'](){return this['data']['value'];}set['handleSize'](_0x96017e){this['_setValue']('handleSize',_0x96017e);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x4479f9){if(this['_handleEnt'+'ity']===_0x4479f9)return;const _0x50f5e9=typeof _0x4479f9=='string';this['_handleEnt'+'ity']&&_0x50f5e9&&this['_handleEnt'+'ity']['getGuid']()===_0x4479f9||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x4479f9 instanceof Ie?this['_handleEnt'+'ity']=_0x4479f9:_0x50f5e9?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x4479f9)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x50f5e9&&_0x4479f9&&(this['data']['handleEnti'+'ty']=_0x4479f9));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x2021bb,_0x133d2d){const _0x44a4ce=this['data'],_0x1b42e5=_0x44a4ce[_0x2021bb];_0x44a4ce[_0x2021bb]=_0x133d2d,this['fire']('set',_0x2021bb,_0x1b42e5,_0x133d2d);}['_toggleLif'+'ecycleList'+'eners'](_0x4f37b7){this[_0x4f37b7]('set_value',this['_onSetValu'+'e'],this),this[_0x4f37b7]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x4f37b7]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0xad2bc0,_0x297625;(_0xad2bc0=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0xad2bc0['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x297625=this['_handleEnt'+'ity'])!=null&&_0x297625['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x3b03e3=this['_handleEnt'+'ity']['element'],_0x1560d1=this['_evtHandle'+'EntityChan'+'ges'];_0x1560d1['push'](_0x3b03e3['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x1560d1['push'](_0x3b03e3['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x1560d1['push'](_0x3b03e3['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x1560d1['push'](_0x3b03e3['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x45070c=-0xb97+-0x1970+-0x1*-0x2507;_0x45070c<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x45070c++)this['_evtHandle'+'EntityChan'+'ges'][_0x45070c]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=-0x267b+0x2*-0xbdd+0x31*0x145;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new Go(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x2c5a00){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x2c5a00[this['_getAxis']()]));}['_onSetValu'+'e'](_0x5def2b,_0x232c9a,_0x5c26e2){Math['abs'](_0x5c26e2-_0x232c9a)>0xb5*0x7+0x106b+0x446*-0x5+0.00001&&(this['data']['value']=Y['clamp'](_0x5c26e2,0x1*-0x1346+0x228a+-0xf44,0x1*0x1154+0x1008+0x1*-0x215b),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x2cf54e,_0x25903c,_0x2851c9){Math['abs'](_0x2851c9-_0x25903c)>-0x7*0x206+0x713*-0x3+-0x1*-0x2363+0.00001&&(this['data']['handleSize']=Y['clamp'](_0x2851c9,0x14d+0x1946*-0x1+0x143*0x13,-0x520+0xf*0x13c+-0xd63),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x1fe6d2,_0x592f65,_0x2a2477){var _0x43d776;_0x2a2477!==_0x592f65&&((_0x43d776=this['_handleEnt'+'ity'])!=null&&_0x43d776['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=0x287*-0x4+0x2*-0x911+0xf*0x1e2);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x4b68a1=this['_handleEnt'+'ity'],_0x29e571=_0x4b68a1==null?void(0x8b*-0x8+-0x1163+-0x15bb*-0x1):_0x4b68a1['element'];if(_0x4b68a1){const _0x4ff72a=_0x4b68a1['getLocalPo'+'sition']();_0x4ff72a[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x4b68a1['setLocalPo'+'sition'](_0x4ff72a);}_0x29e571&&(_0x29e571[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x5b9ee7){return _0x5b9ee7*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x408d27){return _0x408d27*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),-0x1*-0x64d+-0x1a33+0x13e6+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===Ce?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:-0x1322*0x1+0x4cf+0xe53;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===Ce?-0x26c5*0x1+0x313*0x8+0x14a*0xb:-(-0x1527+-0x203a+0x3562);}['_getAxis'](){return this['orientatio'+'n']===Ce?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===Ce?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===Ce?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x2f59b0){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x2f59b0);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x3bd*-0x1+0x123+0x9*0x4a));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x2*-0xcbe+0x1aab+-0x12e));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x224e18,_0x487748){_0x224e18['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0x487748[_0x224e18['handleEnti'+'ty']['getGuid']()]);}}h(h0,'EVENT_SETV'+'ALUE','set:value');class nF{constructor(){h(this,'enabled',!(0x1*-0x220d+0x7*0x471+0x2*0x17b)),h(this,'orientatio'+'n',Ce),h(this,'value',-0xb*0x16a+-0x1976+0x2904),h(this,'handleSize',0x1305+-0x115b*0x1+-0x1*0x1aa),h(this,'handleEnti'+'ty',null);}}const oS=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class oF extends ct{constructor(_0x29efba){super(_0x29efba),this['id']='scrollbar',this['ComponentT'+'ype']=h0,this['DataType']=nF,this['schema']=oS,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x532ae4,_0x445add,_0x1bf4cd){super['initialize'+'ComponentD'+'ata'](_0x532ae4,_0x445add,oS),_0x532ae4['handleEnti'+'ty']=_0x445add['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x192821){_0x192821['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x2f294,_0x3226cf){_0x3226cf['onRemove']();}}const lF={'volume':0x0,'pitch':0x0,'loop':!(-0x1*-0x40f+0x16*0x91+0x97*-0x1c),'startTime':0x0,'duration':0x0,'position':new D(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class Gi extends me{constructor(_0x32e06c,_0x3677c0='Untitled',_0x1bdc39={}){super(),h(this,'name'),h(this,'instances',[]),(this['_component']=_0x32e06c,this['_assets']=_0x32e06c['system']['app']['assets'],this['_manager']=_0x32e06c['system']['manager'],this['name']=_0x3677c0,this['_volume']=_0x1bdc39['volume']!==void(-0x963*-0x3+0x17e1+-0x340a)?Y['clamp'](Number(_0x1bdc39['volume'])||-0x2388*-0x1+-0xd*-0x256+-0x41e6,0x10af+-0x542*-0x4+0x1*-0x25b7,0x29*-0xeb+0x1*0x1f02+-0x11b*-0x6):-0x877*0x2+-0x124c+0x1d*0x137,this['_pitch']=_0x1bdc39['pitch']!==void(-0x25bc+0x4ac*0x5+0xe60)?Math['max'](0x474+0x7*-0x1db+0x889+0.01,Number(_0x1bdc39['pitch'])||0x1*-0x15bf+-0x1b02+-0x6f7*-0x7):-0xa*-0x1bd+0x17f7+-0x2958,this['_loop']=!!(_0x1bdc39['loop']!==void(-0x1483*0x1+0x1cb2*-0x1+0x3135)&&_0x1bdc39['loop']),this['_duration']=_0x1bdc39['duration']>0x613+0x7db*-0x1+0x26*0xc?_0x1bdc39['duration']:null,this['_startTime']=Math['max'](0x16a5*-0x1+-0xc74+-0xf*-0x257,Number(_0x1bdc39['startTime'])||0x1bb4+-0x4e0+-0x16d4),this['_overlap']=!!_0x1bdc39['overlap'],this['_autoPlay']=!!_0x1bdc39['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x1bdc39['asset'],this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x35817b){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){w['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x595783=_0x35817b;if(_0x595783||(_0x595783=this['_createIns'+'tance'](),this['instances']['push'](_0x595783)),this['isLoaded'])_0x595783['play']();else{const _0x12b511=function(_0x2bab1f){const _0x219c6c=_0x595783['_playWhenL'+'oaded'];_0x595783['sound']=_0x2bab1f,_0x219c6c&&_0x595783['play']();};this['off']('load',_0x12b511),this['once']('load',_0x12b511),this['load']();}return _0x595783;}['pause'](){let _0x697322=!(-0x7a2*-0x3+0x466+-0x1b4b);const _0x348846=this['instances'];for(let _0x392e09=-0xd34+0x3*0xabe+-0x1306,_0x5cee78=_0x348846['length'];_0x392e09<_0x5cee78;_0x392e09++)_0x348846[_0x392e09]['pause']()&&(_0x697322=!(0x5*0x6b9+-0x7db*0x3+-0xa0c));return _0x697322;}['resume'](){let _0x30296b=!(0x1e01*-0x1+0x1979+0x489);const _0x98ca04=this['instances'];for(let _0x30b0aa=-0xcb+0x1431+-0x17e*0xd,_0x436835=_0x98ca04['length'];_0x30b0aa<_0x436835;_0x30b0aa++)_0x98ca04[_0x30b0aa]['resume']()&&(_0x30296b=!(0x1*0x82f+-0x1c86+0x1457));return _0x30296b;}['stop'](){let _0x1d4846=!(0x758*-0x1+-0x6c4+0xe1d);const _0x3c757a=this['instances'];let _0x4fb61a=_0x3c757a['length'];for(;_0x4fb61a--;)_0x3c757a[_0x4fb61a]['stop'](),_0x1d4846=!(-0x43*-0x2e+-0x1*0xb71+-0x3*0x33);return _0x3c757a['length']=0x1a60+-0x17b7+0xe3*-0x3,_0x1d4846;}['load'](){if(!this['_hasAsset']())return;const _0x118ec7=this['_assets']['get'](this['_asset']);if(!_0x118ec7){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x118ec7['off']('remove',this['_onAssetRe'+'moved'],this),_0x118ec7['on']('remove',this['_onAssetRe'+'moved'],this),!_0x118ec7['resource']){_0x118ec7['off']('load',this['_onAssetLo'+'ad'],this),_0x118ec7['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x118ec7);return;}this['fire']('load',_0x118ec7['resource']);}['setExterna'+'lNodes'](_0x428969,_0x109599){if(!_0x428969){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x109599||(_0x109599=_0x428969),this['_firstNode']=_0x428969,this['_lastNode']=_0x109599,!this['_overlap']){const _0x2224d9=this['instances'];for(let _0x4751bf=-0xfbb+-0x26aa+0x19*0x22d,_0x4e4886=_0x2224d9['length'];_0x4751bf<_0x4e4886;_0x4751bf++)_0x2224d9[_0x4751bf]['setExterna'+'lNodes'](_0x428969,_0x109599);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0xcec3f7=this['instances'];for(let _0x1f3dee=-0x1196*-0x2+0x16e2+0x1d07*-0x2,_0x1caf13=_0xcec3f7['length'];_0x1f3dee<_0x1caf13;_0x1f3dee++)_0xcec3f7[_0x1f3dee]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0x2c9c0d=null;const _0x3c67aa=this['_component'];let _0xc60d43=null;if(this['_hasAsset']()){const _0x4dee4a=this['_assets']['get'](this['_asset']);_0x4dee4a&&(_0xc60d43=_0x4dee4a['resource']);}const _0x4d64a3=lF;return _0x4d64a3['volume']=this['_volume']*_0x3c67aa['volume'],_0x4d64a3['pitch']=this['_pitch']*_0x3c67aa['pitch'],_0x4d64a3['loop']=this['_loop'],_0x4d64a3['startTime']=this['_startTime'],_0x4d64a3['duration']=this['_duration'],_0x4d64a3['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x4d64a3['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x4d64a3['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x4d64a3['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x4d64a3['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x3c67aa['positional']?(_0x4d64a3['position']['copy'](_0x3c67aa['entity']['getPositio'+'n']()),_0x4d64a3['maxDistanc'+'e']=_0x3c67aa['maxDistanc'+'e'],_0x4d64a3['refDistanc'+'e']=_0x3c67aa['refDistanc'+'e'],_0x4d64a3['rollOffFac'+'tor']=_0x3c67aa['rollOffFac'+'tor'],_0x4d64a3['distanceMo'+'del']=_0x3c67aa['distanceMo'+'del'],_0x2c9c0d=new sn(this['_manager'],_0xc60d43,_0x4d64a3)):_0x2c9c0d=new As(this['_manager'],_0xc60d43,_0x4d64a3),this['_firstNode']&&_0x2c9c0d['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0x2c9c0d;}['_onInstanc'+'ePlay'](_0x4aab08){this['fire']('play',_0x4aab08),this['_component']['fire']('play',this,_0x4aab08);}['_onInstanc'+'ePause'](_0x5d43fc){this['fire']('pause',_0x5d43fc),this['_component']['fire']('pause',this,_0x5d43fc);}['_onInstanc'+'eResume'](_0x875fa2){this['fire']('resume',_0x875fa2),this['_component']['fire']('resume',this,_0x875fa2);}['_onInstanc'+'eStop'](_0x10ec9d){const _0x4a2aff=this['instances']['indexOf'](_0x10ec9d);_0x4a2aff!==-(0x210e+0x15dd+-0x2*0x1b75)&&this['instances']['splice'](_0x4a2aff,-0x8c3*-0x2+-0x71*0x16+-0x7cf*0x1),this['fire']('stop',_0x10ec9d),this['_component']['fire']('stop',this,_0x10ec9d);}['_onInstanc'+'eEnd'](_0x511e14){const _0x59f38e=this['instances']['indexOf'](_0x511e14);_0x59f38e!==-(-0x18fb*0x1+-0x10*0x191+0x320c*0x1)&&this['instances']['splice'](_0x59f38e,0x2*0x194+-0x7c3+-0xa*-0x76),this['fire']('end',_0x511e14),this['_component']['fire']('end',this,_0x511e14);}['_onAssetAd'+'d'](_0x591c88){this['load']();}['_onAssetLo'+'ad'](_0x37ed25){this['load']();}['_onAssetRe'+'moved'](_0x3453ed){_0x3453ed['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x3453ed['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x658c19){const _0x181585=this['instances'];for(let _0x5a5dfc=0xd3f+0x1*-0x96d+-0x3d2,_0x9281a5=_0x181585['length'];_0x5a5dfc<_0x9281a5;_0x5a5dfc++)_0x181585[_0x5a5dfc]['position']=_0x658c19;}set['asset'](_0x5a3af8){const _0x2a9757=this['_asset'];if(_0x2a9757){this['_assets']['off']('add:'+_0x2a9757,this['_onAssetAd'+'d'],this);const _0x22a364=this['_assets']['get'](_0x2a9757);_0x22a364&&_0x22a364['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x5a3af8,this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x8245a8){this['_autoPlay']=!!_0x8245a8;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x235c40){if(this['_duration']=Math['max'](-0x1714+0x56a+0x11aa,Number(_0x235c40)||0x1*-0xc3a+-0x7de+0x283*0x8)||null,!this['_overlap']){const _0x1eab59=this['instances'];for(let _0x343614=-0x2283+0x1*-0x1ed5+-0x18*-0x2b9,_0x41c071=_0x1eab59['length'];_0x343614<_0x41c071;_0x343614++)_0x1eab59[_0x343614]['duration']=this['_duration'];}}get['duration'](){let _0xdc9b82=0x509*0x7+-0x47*0x59+-0xa90;if(this['_hasAsset']()){const _0x5f1670=this['_assets']['get'](this['_asset']);_0xdc9b82=_0x5f1670!=null&&_0x5f1670['resource']?_0x5f1670['resource']['duration']:0x233f+-0x21*-0x1f+-0x273e;}return this['_duration']!=null?this['_duration']%(_0xdc9b82||-0x21ce+-0xc85+-0x251*-0x14):_0xdc9b82;}get['isLoaded'](){if(this['_hasAsset']()){const _0x3e537f=this['_assets']['get'](this['_asset']);if(_0x3e537f)return!!_0x3e537f['resource'];}return!(-0xa18+0x1*-0xa26+0x143f);}get['isPaused'](){const _0x2d7667=this['instances'],_0xa6c1a=_0x2d7667['length'];if(_0xa6c1a===-0x1*-0x131a+0x19fe+-0x2d18)return!(0x24d5+0x2453+0x1*-0x4927);for(let _0x487a55=0xae4+0x245*-0x1+0x1*-0x89f;_0x487a55<_0xa6c1a;_0x487a55++)if(!_0x2d7667[_0x487a55]['isPaused'])return!(-0x9b0+-0x322+0xcd3);return!(-0x2d7+0x1*0x92b+-0x654);}get['isPlaying'](){const _0x237cee=this['instances'];for(let _0x4c3b72=-0x22d9+0x62*0x4+0xb1b*0x3,_0x46a1f1=_0x237cee['length'];_0x4c3b72<_0x46a1f1;_0x4c3b72++)if(_0x237cee[_0x4c3b72]['isPlaying'])return!(-0x1*0x2027+-0x1ddd+0x3e04);return!(-0xd*0x1e1+0x2*-0x643+-0x4*-0x93d);}get['isStopped'](){const _0x2b7b5f=this['instances'];for(let _0x5398d5=0xd44*0x1+-0x2*-0x527+0x2*-0xbc9,_0x3356e0=_0x2b7b5f['length'];_0x5398d5<_0x3356e0;_0x5398d5++)if(!_0x2b7b5f[_0x5398d5]['isStopped'])return!(0xb07+0x24c9+-0x1*0x2fcf);return!(-0x22f1+-0x11b0+0x34a1);}set['loop'](_0x61cfe9){this['_loop']=!!_0x61cfe9;const _0x23c905=this['instances'];for(let _0x58a250=-0x81c*0x3+-0x3*-0xb8d+-0xa53,_0x3f9ff5=_0x23c905['length'];_0x58a250<_0x3f9ff5;_0x58a250++)_0x23c905[_0x58a250]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0xd629fa){this['_overlap']=!!_0xd629fa;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x34bf40){if(this['_pitch']=Math['max'](Number(_0x34bf40)||-0x261a+-0x22a7+-0x48c1*-0x1,0xf67+0x3e5*0x2+-0x1731+0.01),!this['_overlap']){const _0x5d3be7=this['instances'];for(let _0x10e450=-0x20*0x3d+0x215*-0x7+-0x1*-0x1633,_0x29858d=_0x5d3be7['length'];_0x10e450<_0x29858d;_0x10e450++)_0x5d3be7[_0x10e450]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x39b184){if(this['_startTime']=Math['max'](-0x1*0x1883+-0x1*0xe4a+0x26cd,Number(_0x39b184)||0x1*-0x1105+-0x2495+0x3*0x11de),!this['_overlap']){const _0x8f4e64=this['instances'];for(let _0x4a0ca1=-0x1a2+0xd19+0x5*-0x24b,_0x152138=_0x8f4e64['length'];_0x4a0ca1<_0x152138;_0x4a0ca1++)_0x8f4e64[_0x4a0ca1]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0xc847f7){if(this['_volume']=Y['clamp'](Number(_0xc847f7)||-0x12*0x11+0x17ef+-0x16bd*0x1,-0x1ea2+-0x1de2+0x3c84,-0x9*-0x17b+-0x178f+0xa3d),!this['_overlap']){const _0x38b922=this['instances'];for(let _0x5e84cb=0x4*0x291+0xe0*0x2b+0x2*-0x17f2,_0x19af01=_0x38b922['length'];_0x5e84cb<_0x19af01;_0x5e84cb++)_0x38b922[_0x5e84cb]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}h(Gi,'EVENT_PLAY','play'),h(Gi,'EVENT_PAUS'+'E','pause'),h(Gi,'EVENT_RESU'+'ME','resume'),h(Gi,'EVENT_STOP','stop'),h(Gi,'EVENT_END','end'),h(Gi,'EVENT_LOAD','load');class Kr extends we{constructor(){super(...arguments),h(this,'_volume',-0x1b32*-0x1+-0x81e+-0x1313),h(this,'_pitch',0x2175+0x25d6+-0x474a),h(this,'_positiona'+'l',!(0x3*0xdb+0x125d*-0x1+0xfcc)),h(this,'_refDistan'+'ce',-0x227+0x1f11*-0x1+0x2139),h(this,'_maxDistan'+'ce',-0xc9*-0x1c+-0x4c47+0x5d5b),h(this,'_rollOffFa'+'ctor',0x2b*0xa1+0x1a96+-0x35a0),h(this,'_distanceM'+'odel',Vp),h(this,'_slots',{}),h(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x10c270,_0x2b66c0,_0x297ed0){const _0x30f6ff=this['_slots'];for(const _0x2918d3 in _0x30f6ff){const _0x6f2f5a=_0x30f6ff[_0x2918d3];if(!_0x6f2f5a['overlap']){const _0x256fbf=_0x6f2f5a['instances'];for(let _0x266ea7=0x146b+0x2495+-0xc0*0x4c,_0x168688=_0x256fbf['length'];_0x266ea7<_0x168688;_0x266ea7++)_0x256fbf[_0x266ea7][_0x10c270]=_0x297ed0?_0x6f2f5a[_0x10c270]*_0x2b66c0:_0x2b66c0;}}}set['distanceMo'+'del'](_0x35f542){this['_distanceM'+'odel']=_0x35f542,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x35f542,!(0x2*-0x5d4+-0x880+0xd*0x18d));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x3f057b){this['_maxDistan'+'ce']=_0x3f057b,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x3f057b,!(0xa57+0x1*-0x166+-0x8f0));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x572d99){this['_refDistan'+'ce']=_0x572d99,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x572d99,!(-0xa14+-0xef*-0x1f+-0x12dc));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x2ce487){this['_rollOffFa'+'ctor']=_0x2ce487,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x2ce487,!(-0x1f09+0xb*-0x11f+0x1*0x2b5f));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x3601f4){this['_pitch']=_0x3601f4,this['_updateSou'+'ndInstance'+'s']('pitch',_0x3601f4,!(0x508+-0x2*0x117c+-0x2*-0xef8));}get['pitch'](){return this['_pitch'];}set['volume'](_0x5e3517){this['_volume']=_0x5e3517,this['_updateSou'+'ndInstance'+'s']('volume',_0x5e3517,!(-0x2*-0x12a5+0xfdf*0x1+-0x1*0x3529));}get['volume'](){return this['_volume'];}set['positional'](_0x5d313c){this['_positiona'+'l']=_0x5d313c;const _0x2f0351=this['_slots'];for(const _0x56c2d8 in _0x2f0351){const _0x247a07=_0x2f0351[_0x56c2d8];if(!_0x247a07['overlap']){const _0x19bea3=_0x247a07['instances'],_0xae37be=_0x19bea3['length'];for(let _0x532ce4=_0xae37be-(0x5*0x1b1+0x13aa+0x76*-0x3d);_0x532ce4>=-0x48d+-0x2*-0xaa9+0x10c5*-0x1;_0x532ce4--){const _0x573d13=_0x19bea3[_0x532ce4]['isPlaying']||_0x19bea3[_0x532ce4]['isSuspende'+'d'],_0x1df038=_0x19bea3[_0x532ce4]['currentTim'+'e'];_0x573d13&&_0x19bea3[_0x532ce4]['stop']();const _0x112696=_0x247a07['_createIns'+'tance']();_0x573d13&&(_0x112696['play'](),_0x112696['currentTim'+'e']=_0x1df038),_0x19bea3['push'](_0x112696);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x381bf0){const _0x5c0c3b=this['_slots'];if(_0x5c0c3b){for(const _0x4737ea in _0x5c0c3b)_0x5c0c3b[_0x4737ea]['stop']();}const _0x39f4b5={};for(const _0x5cc8c7 in _0x381bf0)_0x381bf0[_0x5cc8c7]instanceof Gi?_0x39f4b5[_0x381bf0[_0x5cc8c7]['name']]=_0x381bf0[_0x5cc8c7]:_0x381bf0[_0x5cc8c7]['name']&&(_0x39f4b5[_0x381bf0[_0x5cc8c7]['name']]=new Gi(this,_0x381bf0[_0x5cc8c7]['name'],_0x381bf0[_0x5cc8c7]));this['_slots']=_0x39f4b5,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x47546d=this['_slots'],_0x367a1e=this['_playingBe'+'foreDisabl'+'e'];for(const _0x261b03 in _0x47546d){const _0x3f03bb=_0x47546d[_0x261b03];_0x3f03bb['autoPlay']&&_0x3f03bb['isStopped']?_0x3f03bb['play']():_0x367a1e[_0x261b03]?_0x3f03bb['resume']():_0x3f03bb['isLoaded']||_0x3f03bb['load']();}}['onDisable'](){const _0x357ece=this['_slots'],_0x46945c={};for(const _0x94b6e1 in _0x357ece)_0x357ece[_0x94b6e1]['overlap']||_0x357ece[_0x94b6e1]['isPlaying']&&(_0x357ece[_0x94b6e1]['pause'](),_0x46945c[_0x94b6e1]=!(0x15b7+0x100b+-0x12e1*0x2));this['_playingBe'+'foreDisabl'+'e']=_0x46945c;}['onRemove'](){this['off']();}['addSlot'](_0x3ea807,_0x436f0a){const _0x212cac=this['_slots'];if(_0x212cac[_0x3ea807])return w['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x3ea807+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x49bd6c=new Gi(this,_0x3ea807,_0x436f0a);return _0x212cac[_0x3ea807]=_0x49bd6c,_0x49bd6c['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x49bd6c['play'](),_0x49bd6c;}['removeSlot'](_0x4eca36){const _0x11ce0d=this['_slots'];_0x11ce0d[_0x4eca36]&&(_0x11ce0d[_0x4eca36]['stop'](),delete _0x11ce0d[_0x4eca36]);}['slot'](_0x4211e4){return this['_slots'][_0x4211e4];}['_getSlotPr'+'operty'](_0x14d7fa,_0x43ebfa){if(!this['enabled']||!this['entity']['enabled'])return;const _0x5999d5=this['_slots'][_0x14d7fa];if(!_0x5999d5){w['warn']('Trying\x20to\x20'+'get\x20'+_0x43ebfa+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x14d7fa+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x5999d5[_0x43ebfa];}['isPlaying'](_0x2130f7){return this['_getSlotPr'+'operty'](_0x2130f7,'isPlaying')||!(0xa*-0x2af+0x1*-0x1eee+0x39c5*0x1);}['isLoaded'](_0x411087){return this['_getSlotPr'+'operty'](_0x411087,'isLoaded')||!(-0x1eca+0x3b*0x7f+0x186);}['isPaused'](_0x33a998){return this['_getSlotPr'+'operty'](_0x33a998,'isPaused')||!(-0x5*0x167+-0x3*0x258+0xe0c);}['isStopped'](_0x55baa2){return this['_getSlotPr'+'operty'](_0x55baa2,'isStopped')||!(-0x1764+-0x223f+0x39a4);}['play'](_0x16ff59){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x538ce4=this['_slots'][_0x16ff59];return _0x538ce4?_0x538ce4['play']():(w['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x16ff59+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x6e5ab7){const _0x47bbdd=this['_slots'];if(_0x6e5ab7){const _0x38a273=_0x47bbdd[_0x6e5ab7];if(!_0x38a273){w['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x6e5ab7+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x38a273['pause']();}else{for(const _0x574fe8 in _0x47bbdd)_0x47bbdd[_0x574fe8]['pause']();}}['resume'](_0x446f18){const _0x11243c=this['_slots'];if(_0x446f18){const _0x32e3ac=_0x11243c[_0x446f18];if(!_0x32e3ac){w['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x446f18+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x32e3ac['isPaused']&&_0x32e3ac['resume']();}else{for(const _0x46d73b in _0x11243c)_0x11243c[_0x46d73b]['resume']();}}['stop'](_0x45d22c){const _0x87d8d8=this['_slots'];if(_0x45d22c){const _0x190af1=_0x87d8d8[_0x45d22c];if(!_0x190af1){w['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x45d22c+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x190af1['stop']();}else{for(const _0x3acfd3 in _0x87d8d8)_0x87d8d8[_0x3acfd3]['stop']();}}}h(Kr,'EVENT_PLAY','play'),h(Kr,'EVENT_PAUS'+'E','pause'),h(Kr,'EVENT_RESU'+'ME','resume'),h(Kr,'EVENT_STOP','stop'),h(Kr,'EVENT_END','end');class cF{constructor(){this['enabled']=!(-0x185*-0x16+0x1ab*-0x5+-0x1917);}}const d0=['enabled'];class hF extends ct{constructor(_0x345337){super(_0x345337),this['id']='sound',this['ComponentT'+'ype']=Kr,this['DataType']=cF,this['schema']=d0,this['manager']=_0x345337['soundManag'+'er'],w['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x506d13){this['manager']['volume']=_0x506d13;}get['volume'](){return this['manager']['volume'];}get['context'](){return Dl()?this['manager']['context']:(w['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x3122e6,_0x311055,_0x3284bd){_0x3284bd=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x4b3c70=0x2306+0x639+-0x293f;_0x4b3c70<_0x3284bd['length'];_0x4b3c70++)_0x311055['hasOwnProp'+'erty'](_0x3284bd[_0x4b3c70])&&(_0x3122e6[_0x3284bd[_0x4b3c70]]=_0x311055[_0x3284bd[_0x4b3c70]]);super['initialize'+'ComponentD'+'ata'](_0x3122e6,_0x311055,['enabled']);}['cloneCompo'+'nent'](_0x1f279b,_0x1dbfc8){const _0x38e00d=_0x1f279b['sound'],_0x2c478c=_0x38e00d['slots'],_0x1d0db7={};for(const _0x80171c in _0x2c478c){const _0xffe385=_0x2c478c[_0x80171c];_0x1d0db7[_0x80171c]={'name':_0xffe385['name'],'volume':_0xffe385['volume'],'pitch':_0xffe385['pitch'],'loop':_0xffe385['loop'],'duration':_0xffe385['duration'],'startTime':_0xffe385['startTime'],'overlap':_0xffe385['overlap'],'autoPlay':_0xffe385['autoPlay'],'asset':_0xffe385['asset']};}const _0x4a71d5={'distanceModel':_0x38e00d['distanceMo'+'del'],'enabled':_0x38e00d['enabled'],'maxDistance':_0x38e00d['maxDistanc'+'e'],'pitch':_0x38e00d['pitch'],'positional':_0x38e00d['positional'],'refDistance':_0x38e00d['refDistanc'+'e'],'rollOffFactor':_0x38e00d['rollOffFac'+'tor'],'slots':_0x1d0db7,'volume':_0x38e00d['volume']};return this['addCompone'+'nt'](_0x1dbfc8,_0x4a71d5);}['onUpdate'](_0x1b251e){const _0x19aa16=this['store'];for(const _0x22277d in _0x19aa16)if(_0x19aa16['hasOwnProp'+'erty'](_0x22277d)){const _0x503dfd=_0x19aa16[_0x22277d]['entity'];if(_0x503dfd['enabled']){const _0x2dcf93=_0x503dfd['sound'];if(_0x2dcf93['enabled']&&_0x2dcf93['positional']){const _0x2ba9da=_0x503dfd['getPositio'+'n'](),_0x4c991c=_0x2dcf93['slots'];for(const _0x18aef4 in _0x4c991c)_0x4c991c[_0x18aef4]['updatePosi'+'tion'](_0x2ba9da);}}}}['onBeforeRe'+'move'](_0x10a0e9,_0x3d3a7c){const _0x22c429=_0x3d3a7c['slots'];for(const _0x18b294 in _0x22c429)_0x22c429[_0x18b294]['overlap']||_0x22c429[_0x18b294]['stop']();_0x3d3a7c['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Kr['prototype'],d0);const lS='simple',cS='animated';class Hi extends me{constructor(_0x1e46be,_0x3ca39a){super(),h(this,'_evtSetMes'+'hes',null),(this['_component']=_0x1e46be,this['_frame']=0x1*0x2d5+-0xd*0x12b+0xc5a,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x3ca39a['spriteAsse'+'t'],this['name']=_0x3ca39a['name'],this['fps']=_0x3ca39a['fps']||-0x3fb+-0x1cfa+0x8f*0x3b,this['loop']=_0x3ca39a['loop']||!(-0x185*-0xd+-0x1*-0x54d+-0x190d),this['_playing']=!(-0x1b0e+-0x26b0+0x41bf),this['_paused']=!(0xdbe+0x193a+-0x26f7),this['_time']=-0x10f3*0x2+0x1a27+0x7bf);}get['duration'](){if(this['_sprite']){const _0x3595bb=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x3595bb);}return-0x22f7+0x542+0x1db5;}set['frame'](_0x18378c){this['_setFrame'](_0x18378c);const _0x51525c=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x51525c);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x21767c){var _0x56c645;if(this['_sprite']&&((_0x56c645=this['_evtSetMes'+'hes'])==null||_0x56c645['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x21767c,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x182176;!_0x21767c||!_0x21767c['atlas']?(_0x182176=this['_component']['_meshInsta'+'nce'],_0x182176&&(_0x182176['deletePara'+'meter']('texture_em'+'issiveMap'),_0x182176['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x21767c['atlas']['texture']&&(_0x182176=this['_component']['_meshInsta'+'nce'],_0x182176&&(_0x182176['setParamet'+'er']('texture_em'+'issiveMap',_0x21767c['atlas']['texture']),_0x182176['setParamet'+'er']('texture_op'+'acityMap',_0x21767c['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x691bc0){const _0x3195c7=this['_component']['system']['app']['assets'];let _0x18004c=_0x691bc0;if(_0x691bc0 instanceof pe&&(_0x18004c=_0x691bc0['id']),this['_spriteAss'+'et']!==_0x18004c){if(this['_spriteAss'+'et']){const _0x148abe=_0x3195c7['get'](this['_spriteAss'+'et']);_0x148abe&&this['_unbindSpr'+'iteAsset'](_0x148abe);}if(this['_spriteAss'+'et']=_0x18004c,this['_spriteAss'+'et']){const _0x96fd05=_0x3195c7['get'](this['_spriteAss'+'et']);_0x96fd05?this['_bindSprit'+'eAsset'](_0x96fd05):(this['sprite']=null,_0x3195c7['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x1966e9){this['_setTime'](_0x1966e9),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(0x6cb+-0xdbf*-0x1+-0x1*0x1489),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x475+0xca*-0x2f+0x20a1;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x578900){this['_component']['system']['app']['assets']['off']('add:'+_0x578900['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x578900['id']&&this['_bindSprit'+'eAsset'](_0x578900);}['_bindSprit'+'eAsset'](_0x44d50c){_0x44d50c['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x44d50c['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x44d50c['resource']?this['_onSpriteA'+'ssetLoad'](_0x44d50c):this['_component']['system']['app']['assets']['load'](_0x44d50c);}['_unbindSpr'+'iteAsset'](_0x4c1436){_0x4c1436&&(_0x4c1436['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x4c1436['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x4c1436['resource']&&!_0x4c1436['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x4c1436['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0xb602e0){if(!_0xb602e0['resource'])this['sprite']=null;else{if(_0xb602e0['resource']['atlas'])this['sprite']=_0xb602e0['resource'];else{const _0x2cc10f=_0xb602e0['data']['textureAtl'+'asAsset'],_0x50eccf=this['_component']['system']['app']['assets'];_0x50eccf['off']('load:'+_0x2cc10f,this['_onTexture'+'AtlasLoad'],this),_0x50eccf['once']('load:'+_0x2cc10f,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x409117){const _0x129f31=this['_spriteAss'+'et'];_0x129f31 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x129f31):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x129f31));}['_onSpriteA'+'ssetRemove'](_0x48c7fe){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==ci&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x13b699){if(this['fps']===0x1ec6+-0x1fd5+0x10f||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x544ef4=this['fps']<0x45*-0x5b+0x1*-0x1613+0x2e9a?-(-0x5f0+0xb*0x123+-0x10*0x69):-0xb34+-0x13*-0x143+-0xcc4,_0x2f07a4=this['_time']+_0x13b699*this['_component']['speed']*_0x544ef4,_0x373bc0=this['duration'],_0x32a5cc=_0x2f07a4>_0x373bc0||_0x2f07a4<0x1*0x709+-0x156b+-0x731*-0x2;this['_setTime'](_0x2f07a4);let _0x491bf7=this['frame'];this['_sprite']?_0x491bf7=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x373bc0):_0x491bf7=0x3*-0x1c+0x17*-0xef+0x1*0x15cd,_0x491bf7!==this['_frame']&&this['_setFrame'](_0x491bf7),_0x32a5cc&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(-0x411*0x7+-0x25*-0x17+-0x1*-0x1925),this['_paused']=!(0x3df*0x3+0x208f+-0x2c2b),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x4bce06){this['_time']=_0x4bce06;const _0x147a14=this['duration'];this['_time']<0x3*0x7db+-0x1*0x1be6+0x1*0x455?this['loop']?this['_time']=this['_time']%_0x147a14+_0x147a14:this['_time']=0x5*-0x1d2+0x3*-0x9fd+0x2711:this['_time']>_0x147a14&&(this['loop']?this['_time']%=_0x147a14:this['_time']=_0x147a14);}['_setFrame'](_0x294205){this['_sprite']?this['_frame']=Y['clamp'](_0x294205,-0x2*0xac5+-0x1c59+-0x10a1*-0x3,this['_sprite']['frameKeys']['length']-(0x6*0x347+0x68*0x40+-0x2da9)):this['_frame']=_0x294205,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x1c16b9=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x1c16b9['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(0xf6b*-0x1+0x94*-0x38+0x2fcb),this['_paused']=!(-0x19*-0x31+-0x1d0e+0x1846),this['frame']=0x25*-0x13+0x20b1+-0x1df2,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(0x1*0x1ae3+0x1*0x1c3a+-0x371d*0x1),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(0x359+0x5*0x30f+-0x12a3*0x1),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(-0x1408+-0x136b+0x2*0x13ba),this['_paused']=!(0x1d2a*0x1+-0x1a63+-0x163*0x2),this['_time']=0x1fb8+-0xbc5+0x13f3*-0x1,this['frame']=-0x1*0x1b85+-0x1bc9+0x374e,this['fire']('stop'),this['_component']['fire']('stop',this));}}h(Hi,'EVENT_PLAY','play'),h(Hi,'EVENT_PAUS'+'E','pause'),h(Hi,'EVENT_RESU'+'ME','resume'),h(Hi,'EVENT_STOP','stop'),h(Hi,'EVENT_END','end'),h(Hi,'EVENT_LOOP','loop');const hS='texture_em'+'issiveMap',dS='texture_op'+'acityMap',fS='material_e'+'missive',uS='material_o'+'pacity',dF='innerOffse'+'t',fF='outerScale',uF='atlasRect';class ur extends we{constructor(_0x2fdca5,_0x35f265){super(_0x2fdca5,_0x35f265),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_type']=lS,this['_material']=_0x2fdca5['defaultMat'+'erial'],this['_color']=new ie(0x275+0x1*0x851+-0xac5*0x1,0x1*0x1085+0xb9e+-0x1c22,0x10f3+0x466*-0x5+0x50c,0x2d7*0x7+0x183b+-0x2c1b),this['_colorUnif'+'orm']=new Float32Array(-0xf91+0x51f+0xa75*0x1),this['_speed']=-0x3cb*0x1+-0xad*0xe+0x1*0xd42,this['_flipX']=!(0x1f0a+-0x142+0x21*-0xe7),this['_flipY']=!(-0x17d0*0x1+0x3f2+0x13df),this['_width']=0x485*0x5+-0x1ecc+0x2bc*0x3,this['_height']=-0x1159+-0xac1+-0x1c1b*-0x1,this['_drawOrder']=-0x1301+0x1cf1*-0x1+0x2ff2,this['_layers']=[er],this['_outerScal'+'e']=new J(0x11a9+0xaa9*0x2+-0x1*0x26fa,0x2134+0x6e1+-0x2814),this['_outerScal'+'eUniform']=new Float32Array(0x1*0xd3b+-0x4*0x52c+0x777),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(-0x1a9e+0x2b*0xb5+0x5*-0xc1),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(0x869*-0x1+0x1d3a+0x5*-0x429),this['_batchGrou'+'pId']=-(0x2321+-0x1*0x21d7+0x149*-0x1),this['_batchGrou'+'p']=null,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0x35f265['addChild'](this['_model']['graph']),this['_model']['_entity']=_0x35f265,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(0x503*0x1+0x1db1+-0x4f5*0x7),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new Hi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0x1f11+0x24b0+-0x59e),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0x388ef3){this['_type']!==_0x388ef3&&(this['_type']=_0x388ef3,this['_type']===lS?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===cS&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x4210fd){this['_currentCl'+'ip']['frame']=_0x4210fd;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0x4b879a){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0x4b879a;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x15317e){this['_currentCl'+'ip']['sprite']=_0x15317e;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x3c9ff5){this['_material']=_0x3c9ff5,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x3c9ff5);}get['material'](){return this['_material'];}set['color'](_0x6a4be7){this['_color']['r']=_0x6a4be7['r'],this['_color']['g']=_0x6a4be7['g'],this['_color']['b']=_0x6a4be7['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][0x22af*-0x1+-0xa9*-0x4+0x200b]=this['_color']['r'],this['_colorUnif'+'orm'][-0x1*0x247+-0x1afb*-0x1+-0x18b3*0x1]=this['_color']['g'],this['_colorUnif'+'orm'][0x1*0x1b4c+0x20c0+-0x3c0a]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x30a7b5){this['_color']['a']=_0x30a7b5,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](uS,_0x30a7b5);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x4d8503){if(!_0x4d8503){for(const _0x398403 in this['_clips'])this['removeClip'](_0x398403);return;}for(const _0x2a5b9c in this['_clips']){let _0x1fee73=!(-0x105a+-0xc4b+0x1ca6);for(const _0x16941a in _0x4d8503)if(_0x4d8503[_0x16941a]['name']===_0x2a5b9c){_0x1fee73=!(-0x1821+-0x1e57+0x3678*0x1),this['_clips'][_0x2a5b9c]['fps']=_0x4d8503[_0x16941a]['fps'],this['_clips'][_0x2a5b9c]['loop']=_0x4d8503[_0x16941a]['loop'],_0x4d8503[_0x16941a]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x2a5b9c]['sprite']=_0x4d8503[_0x16941a]['sprite']:_0x4d8503[_0x16941a]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x2a5b9c]['spriteAsse'+'t']=_0x4d8503[_0x16941a]['spriteAsse'+'t']);break;}_0x1fee73||this['removeClip'](_0x2a5b9c);}for(const _0x29fdff in _0x4d8503)this['_clips'][_0x4d8503[_0x29fdff]['name']]||this['addClip'](_0x4d8503[_0x29fdff]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x1f5ff4){this['_speed']=_0x1f5ff4;}get['speed'](){return this['_speed'];}set['flipX'](_0x35c6f6){this['_flipX']!==_0x35c6f6&&(this['_flipX']=_0x35c6f6,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x4ebe04){this['_flipY']!==_0x4ebe04&&(this['_flipY']=_0x4ebe04,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x29bdf0){_0x29bdf0!==this['_width']&&(this['_width']=_0x29bdf0,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x328b17){_0x328b17!==this['_height']&&(this['_height']=_0x328b17,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0xaa5c1f){var _0x47a021,_0x220b5d;if(this['_batchGrou'+'pId']===_0xaa5c1f)return;const _0xf1f3c3=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0xaa5c1f,this['entity']['enabled']&&_0xf1f3c3>=0x35a+0x1d9f+-0x20f9*0x1&&((_0x47a021=this['system']['app']['batcher'])==null||_0x47a021['remove'](St['SPRITE'],_0xf1f3c3,this['entity'])),this['entity']['enabled']&&_0xaa5c1f>=0x1a0+-0x264*0x1+0xc4?(_0x220b5d=this['system']['app']['batcher'])==null||_0x220b5d['insert'](St['SPRITE'],_0xaa5c1f,this['entity']):_0xf1f3c3>=0x7f*0x35+-0x509+-0x1542&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x318505){this['_autoPlayC'+'lip']=_0x318505 instanceof Hi?_0x318505['name']:_0x318505,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x17dd5a){this['_drawOrder']=_0x17dd5a,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x17dd5a);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x458588){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x458588,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x5abaee;const _0x19be8c=this['system']['app'],_0x5ef914=_0x19be8c['scene'],_0x5c7052=_0x5ef914['layers'];this['_evtLayers'+'Changed']=_0x5ef914['on']('set:layers',this['_onLayersC'+'hanged'],this),_0x5c7052&&(this['_evtLayerA'+'dded']=_0x5c7052['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0x5c7052['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=-0x102a+-0x8b2+0x18dc&&((_0x5abaee=_0x19be8c['batcher'])==null||_0x5abaee['insert'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x245669,_0x193857,_0x591195,_0x42381d;const _0x4ca470=this['system']['app'],_0x32c955=_0x4ca470['scene']['layers'];(_0x245669=this['_evtLayers'+'Changed'])==null||_0x245669['off'](),this['_evtLayers'+'Changed']=null,_0x32c955&&((_0x193857=this['_evtLayerA'+'dded'])==null||_0x193857['off'](),this['_evtLayerA'+'dded']=null,(_0x591195=this['_evtLayerR'+'emoved'])==null||_0x591195['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=0x2*-0x27+0x231e+0x4*-0x8b4&&((_0x42381d=_0x4ca470['batcher'])==null||_0x42381d['remove'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x5e2db0;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0xf7fcb in this['_clips'])this['_clips'][_0xf7fcb]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x5e2db0=this['_node'])==null||_0x5e2db0['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x96706e=[this['_meshInsta'+'nce']];for(let _0x35c1d1=0x2330+-0x20*0x41+0x1b1*-0x10,_0x582896=this['_layers']['length'];_0x35c1d1<_0x582896;_0x35c1d1++){const _0xe6da5f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x35c1d1]);_0xe6da5f&&_0xe6da5f['addMeshIns'+'tances'](_0x96706e);}this['_addedMode'+'l']=!(-0x1232+0x24dc+-0x12aa*0x1);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x54a758=[this['_meshInsta'+'nce']];for(let _0x58084a=0xa0*0x13+0x240+-0xe20,_0x7db245=this['_layers']['length'];_0x58084a<_0x7db245;_0x58084a++){const _0x36b601=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x58084a]);_0x36b601&&_0x36b601['removeMesh'+'Instances'](_0x54a758);}this['_addedMode'+'l']=!(0x23f6+0x1d73+0x16c*-0x2e);}['_showFrame'](_0x1696b6){if(!this['sprite'])return;const _0x190c2c=this['sprite']['meshes'][_0x1696b6];if(!_0x190c2c){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(0x26c3+-0x443+-0x227f));return;}let _0x5ed3c0;if(this['sprite']['renderMode']===Pt?_0x5ed3c0=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Mt?_0x5ed3c0=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x5ed3c0=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new He(_0x190c2c,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(0x1610+0x5e*0x3b+-0x2bb9),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(-0x1cd9*0x1+-0x1*-0x22f+0x1aab),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][0x1b70+-0x4e*-0x5f+-0x3862]=this['_color']['r'],this['_colorUnif'+'orm'][0x2c4+-0x10c7*-0x2+-0x2451]=this['_color']['g'],this['_colorUnif'+'orm'][-0x1dd8+-0x4aa*-0x3+0xfdc]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](uS,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x5ed3c0&&(this['_meshInsta'+'nce']['material']=_0x5ed3c0),this['_meshInsta'+'nce']['mesh']!==_0x190c2c&&(this['_meshInsta'+'nce']['mesh']=_0x190c2c,this['_meshInsta'+'nce']['visible']=!(0xa83+-0x13c*0x19+0x1459*0x1),this['_meshInsta'+'nce']['_aabbVer']=-(-0x1f90+-0xcfb*-0x1+0x3d*0x4e)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](hS,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](dS,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](hS),this['_meshInsta'+'nce']['deletePara'+'meter'](dS)),this['sprite']['atlas']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x19a050=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x1696b6]];if(_0x19a050){const _0x613226=(0x2035+0x20fc+-0x412f)/_0x19a050['rect']['z'],_0xa53bbd=(-0x2165*0x1+-0x1*-0x1c1f+-0x68*-0xd)/_0x19a050['rect']['w'];this['_innerOffs'+'et']['set'](_0x19a050['border']['x']*_0x613226,_0x19a050['border']['y']*_0xa53bbd,_0x19a050['border']['z']*_0x613226,_0x19a050['border']['w']*_0xa53bbd);const _0x4b2f7b=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x19a050['rect']['x']/_0x4b2f7b['width'],_0x19a050['rect']['y']/_0x4b2f7b['height'],_0x19a050['rect']['z']/_0x4b2f7b['width'],_0x19a050['rect']['w']/_0x4b2f7b['height']);}else this['_innerOffs'+'et']['set'](0x1*0x1093+0x1c41*0x1+0x2*-0x166a,0x9b3*0x3+0x10d+-0x1e26,0x17*0xe9+0x4*0x1e7+-0x1c8b,0x355*-0x5+0x1e21+-0xd78);this['_innerOffs'+'etUniform'][-0x2547*0x1+0x11c*0x15+0xdfb]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x229d*-0x1+0x8*-0x221+0x33a6]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x2572+-0x26b*-0x2+0x2*0x104f]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][-0x46*-0x21+-0x248*0xf+-0x1*-0x1935]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](dF,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x2172+-0xef9+-0x25*-0x14f]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x1*0x620+-0x1084+-0x11*-0x155]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x1724+0x1a6*0x1+0x1580]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0xc17*-0x2+0x3*0x6b5+-0x2c4a]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](uF,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x117789=this['flipX']?-(0x35*-0x4+0xa32+-0x95d):-0x11f2+-0x312*-0x9+0x43*-0x25,_0x13b8c8=this['flipY']?-(0x1595+-0x1cbb+0x727):-0x4fb*0x1+-0x24c+-0x2*-0x3a4,_0xcd1717=0x8*-0x409+-0x51*-0x55+0x7*0xc5,_0x3a374f=-0x6d1*-0x5+0xd*0x171+0x1*-0x34d2;if(this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){let _0x2cd3d5=-0x6*0x106+-0x2163+-0xb*-0x398,_0x49cc0f=0x8*-0x3e1+0x12a*0x5+0x1937;if(this['sprite']['atlas']){const _0x51a42c=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x51a42c&&(_0x2cd3d5=_0x51a42c['rect']['z'],_0x49cc0f=_0x51a42c['rect']['w'],_0xcd1717=(-0x2*0x3e5+-0x41b+-0x3f7*-0x3+0.5-_0x51a42c['pivot']['x'])*this['_width'],_0x3a374f=(0x7*0x107+0x5*-0x185+0x68+0.5-_0x51a42c['pivot']['y'])*this['_height']);}const _0x2e411f=_0x2cd3d5/this['sprite']['pixelsPerU'+'nit'],_0x2efa5b=_0x49cc0f/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x2e411f),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0x2efa5b)),_0x117789*=_0x2e411f,_0x13b8c8*=_0x2efa5b,this['_outerScal'+'e']['x']/=_0x2e411f,this['_outerScal'+'e']['y']/=_0x2efa5b,_0x117789*=Y['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x2e411f),0x93a*-0x3+0x218*0x12+0x7a*-0x15+0.0001,0x1*0xf89+0x40*-0x50+-0x58*-0xd),_0x13b8c8*=Y['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0x2efa5b),-0x3d5+-0x6*-0x50b+-0x1a6d+0.0001,0x32d+0x800+-0xb2c),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][0x147d*-0x1+0x2534+-0x10b7]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x1*0x1b9d+0x1eca+-0x4*0xcb]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](fF,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x117789,_0x13b8c8,-0x7eb*-0x1+-0x11d*-0x1a+-0x24dc),this['_node']['setLocalPo'+'sition'](_0xcd1717,_0x3a374f,-0x1*0x1b85+0x5b*0x24+0xeb9);}['_updateAab'+'b'](_0x3ed329){return _0x3ed329['center']['set'](0x159*-0x7+0x1523+-0x1ac*0x7,0x568*-0x1+0x1*0x1813+-0x213*0x9,0x9db+0x218*0xd+-0x2513),_0x3ed329['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0x152e+-0x12e+-0x27c*-0x9+0.5),this['_outerScal'+'e']['y']*(-0x3a0+-0x11c2*0x1+-0x30e*-0x7+0.5),-0xbfe*-0x1+-0x1f*0xaf+-0x311*-0x3+0.001),_0x3ed329['setFromTra'+'nsformedAa'+'bb'](_0x3ed329,this['_node']['getWorldTr'+'ansform']()),_0x3ed329;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==cS)return;const _0xe926c6=this['_clips'][this['_autoPlayC'+'lip']];_0xe926c6&&!_0xe926c6['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0xe926c6['name']);}['_onLayersC'+'hanged'](_0x35ff0f,_0x2296cc){_0x35ff0f['off']('add',this['onLayerAdd'+'ed'],this),_0x35ff0f['off']('remove',this['onLayerRem'+'oved'],this),_0x2296cc['on']('add',this['onLayerAdd'+'ed'],this),_0x2296cc['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x544e41){this['layers']['indexOf'](_0x544e41['id'])<-0xf+-0x311+0x320*0x1||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x544e41['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0x56bda3){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0x56bda3['id'])<0x1770+0x2213+-0x3983||_0x56bda3['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x58e337=-0x1bd*-0x5+0x666+-0xf17;_0x58e337<this['layers']['length'];_0x58e337++){const _0x4447d3=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x58e337]);_0x4447d3&&_0x4447d3['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x4cc9cc){const _0xdbde69=new Hi(this,{'name':_0x4cc9cc['name'],'fps':_0x4cc9cc['fps'],'loop':_0x4cc9cc['loop'],'spriteAsset':_0x4cc9cc['spriteAsse'+'t']});return this['_clips'][_0x4cc9cc['name']]=_0xdbde69,_0xdbde69['name']&&_0xdbde69['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0xdbde69;}['removeClip'](_0x5cfa5c){delete this['_clips'][_0x5cfa5c];}['clip'](_0x4516dc){return this['_clips'][_0x4516dc];}['play'](_0x4a4981){const _0x3d359f=this['_clips'][_0x4a4981],_0x3d523f=this['_currentCl'+'ip'];return _0x3d523f&&_0x3d523f!==_0x3d359f&&(_0x3d523f['_playing']=!(-0x1*0x1af8+0x33e+0x17bb)),this['_currentCl'+'ip']=_0x3d359f,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x3d359f,this['_currentCl'+'ip']['play']()):w['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x4a4981+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x3d359f;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}h(ur,'EVENT_PLAY','play'),h(ur,'EVENT_PAUS'+'E','pause'),h(ur,'EVENT_RESU'+'ME','resume'),h(ur,'EVENT_STOP','stop'),h(ur,'EVENT_END','end'),h(ur,'EVENT_LOOP','loop');class pF{constructor(){this['enabled']=!(0xc5f*0x1+0x99+-0x1*0xcf8);}}const f0=['enabled'];class mF extends ct{constructor(_0x3b154c){super(_0x3b154c),this['id']='sprite',this['ComponentT'+'ype']=ur,this['DataType']=pF,this['schema']=f0,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0x51cac6){this['_defaultMa'+'terial']=_0x51cac6;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x4546a5=new _e(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'sprite'}),_0x36379b=new Uint8Array(_0x4546a5['lock']());_0x36379b[0x9d5+0x7*-0x31f+-0xc04*-0x1]=_0x36379b[-0x2443+0x1443+-0xf1*-0x11]=_0x36379b[-0x1*0x1157+-0xf43+0x209c]=_0x36379b[-0x16e9+-0x136+0x1*0x1822]=0x2165+0x13e2+0x3448*-0x1,_0x4546a5['unlock']();const _0x4a3fe3=new Ut();_0x4a3fe3['diffuse']['set'](0xa*-0x1df+-0x221a+0x34d*0x10,0x1a7c+-0x1631+-0x44b,-0x1a66+0xc7+0x199f),_0x4a3fe3['emissive']['set'](-0xa*-0x373+0xaa0+-0x2d1d,-0x139*-0x4+-0x16*0xc1+0xbb3,-0xc4f*0x2+0x2*0x973+0x5b9),_0x4a3fe3['emissiveMa'+'p']=_0x4546a5,_0x4a3fe3['opacityMap']=_0x4546a5,_0x4a3fe3['opacityMap'+'Channel']='a',_0x4a3fe3['useLightin'+'g']=!(-0x177e*-0x1+-0x134f*0x2+0xf21),_0x4a3fe3['useTonemap']=!(0x22ca+0x1736+-0x39ff),_0x4a3fe3['useFog']=!(-0x17bc+0x1b33+0x1bb*-0x2),_0x4a3fe3['useSkybox']=!(-0x2b*0x1+-0x691+0x17*0x4b),_0x4a3fe3['blendType']=Gn,_0x4a3fe3['depthWrite']=!(-0x1435+0xe95+0xb*0x83),_0x4a3fe3['pixelSnap']=!(-0xadc+-0x11*0x56+0x1093),_0x4a3fe3['cull']=bt,_0x4a3fe3['update'](),this['_defaultTe'+'xture']=_0x4546a5,this['_defaultMa'+'terial']=_0x4a3fe3;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x478e64){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x478e64;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x5ecf5c=this['defaultMat'+'erial']['clone']();_0x5ecf5c['nineSliced'+'Mode']=Pt,_0x5ecf5c['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x5ecf5c;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0xc2d64f){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0xc2d64f;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x43c03b=this['defaultMat'+'erial']['clone']();_0x43c03b['nineSliced'+'Mode']=Mt,_0x43c03b['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x43c03b;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0x22d38e,_0xdc53c9,_0x253315){if(_0xdc53c9['enabled']!==void(-0x1*-0x1e89+-0x181c+0x1*-0x66d)&&(_0x22d38e['enabled']=_0xdc53c9['enabled']),_0x22d38e['type']=_0xdc53c9['type'],_0xdc53c9['layers']&&Array['isArray'](_0xdc53c9['layers'])&&(_0x22d38e['layers']=_0xdc53c9['layers']['slice'](-0x1298+-0xb0d+-0x1*-0x1da5)),_0xdc53c9['drawOrder']!==void(0x1c*0x13e+-0x243b+0x173)&&(_0x22d38e['drawOrder']=_0xdc53c9['drawOrder']),_0xdc53c9['color']!==void(-0x267f+0x147c+-0x1*-0x1203)&&(_0xdc53c9['color']instanceof ie?_0x22d38e['color']['set'](_0xdc53c9['color']['r'],_0xdc53c9['color']['g'],_0xdc53c9['color']['b'],_0xdc53c9['opacity']??0x26a2+0x1*0x5cc+-0x3*0xecf):_0x22d38e['color']['set'](_0xdc53c9['color'][-0x10*0x10d+0x75*0x21+-0x1bb*-0x1],_0xdc53c9['color'][-0x1642+0x2d5+0x9b7*0x2],_0xdc53c9['color'][-0x798+0x10*0x20+0x59a],_0xdc53c9['opacity']??0x85*0x18+0x1106*0x1+-0x1d7d),_0x22d38e['color']=_0x22d38e['color']),_0xdc53c9['opacity']!==void(0x877+-0x1d5c+0x14e5)&&(_0x22d38e['opacity']=_0xdc53c9['opacity']),_0xdc53c9['flipX']!==void(0x1d88+-0x5*-0x1a7+-0x285*0xf)&&(_0x22d38e['flipX']=_0xdc53c9['flipX']),_0xdc53c9['flipY']!==void(0x2479+0x264a+-0x4ac3)&&(_0x22d38e['flipY']=_0xdc53c9['flipY']),_0xdc53c9['width']!==void(0x765+-0x30a*-0x1+-0xa6f)&&(_0x22d38e['width']=_0xdc53c9['width']),_0xdc53c9['height']!==void(-0x1*0x11b7+-0x3*0x9ff+-0x2fb4*-0x1)&&(_0x22d38e['height']=_0xdc53c9['height']),_0xdc53c9['spriteAsse'+'t']!==void(-0x230f*-0x1+-0xc55+-0x16ba)&&(_0x22d38e['spriteAsse'+'t']=_0xdc53c9['spriteAsse'+'t']),_0xdc53c9['sprite']&&(_0x22d38e['sprite']=_0xdc53c9['sprite']),_0xdc53c9['frame']!==void(0x1731+-0xbf+0x1*-0x1672)&&(_0x22d38e['frame']=_0xdc53c9['frame']),_0xdc53c9['clips']){for(const _0x1d477a in _0xdc53c9['clips'])_0x22d38e['addClip'](_0xdc53c9['clips'][_0x1d477a]);}_0xdc53c9['speed']!==void(0x94f*0x1+0x25c3+0x1*-0x2f12)&&(_0x22d38e['speed']=_0xdc53c9['speed']),_0xdc53c9['autoPlayCl'+'ip']&&(_0x22d38e['autoPlayCl'+'ip']=_0xdc53c9['autoPlayCl'+'ip']),_0x22d38e['batchGroup'+'Id']=_0xdc53c9['batchGroup'+'Id']===void(0x2398+0x4*0x977+-0x4974)||_0xdc53c9['batchGroup'+'Id']===null?-(0xc*-0xb2+-0xe2*0x2b+0x2e4f):_0xdc53c9['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0x22d38e,_0xdc53c9,_0x253315);}['cloneCompo'+'nent'](_0x1beca0,_0x2d6f24){const _0x5894c6=_0x1beca0['sprite'];return this['addCompone'+'nt'](_0x2d6f24,{'enabled':_0x5894c6['enabled'],'type':_0x5894c6['type'],'spriteAsset':_0x5894c6['spriteAsse'+'t'],'sprite':_0x5894c6['sprite'],'width':_0x5894c6['width'],'height':_0x5894c6['height'],'frame':_0x5894c6['frame'],'color':_0x5894c6['color']['clone'](),'opacity':_0x5894c6['opacity'],'flipX':_0x5894c6['flipX'],'flipY':_0x5894c6['flipY'],'speed':_0x5894c6['speed'],'clips':_0x5894c6['clips'],'autoPlayClip':_0x5894c6['autoPlayCl'+'ip'],'batchGroupId':_0x5894c6['batchGroup'+'Id'],'drawOrder':_0x5894c6['drawOrder'],'layers':_0x5894c6['layers']['slice'](-0x2*-0xc+0x5*0x623+-0x1ec7)});}['onUpdate'](_0x56c173){const _0x4fa800=this['store'];for(const _0x4bad2b in _0x4fa800)if(_0x4fa800['hasOwnProp'+'erty'](_0x4bad2b)){const _0x211fab=_0x4fa800[_0x4bad2b];if(_0x211fab['data']['enabled']&&_0x211fab['entity']['enabled']){const _0x5438a0=_0x211fab['entity']['sprite'];_0x5438a0['_currentCl'+'ip']&&_0x5438a0['_currentCl'+'ip']['_update'](_0x56c173);}}}['onBeforeRe'+'move'](_0x5f27e0,_0x2ffe3b){_0x2ffe3b['onDestroy']();}}we['_buildAcce'+'ssors'](ur['prototype'],f0);class _n extends we{constructor(_0x1a1dd4,_0x2cf911){super(_0x1a1dd4,_0x2cf911),this['_oldState']=!(0x1081+-0x2c2*-0xd+-0x345b),this['_size']=new D(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x25deb8){_0x25deb8 instanceof D?this['_size']['copy'](_0x25deb8):_0x25deb8 instanceof Array&&_0x25deb8['length']>=-0xcd*-0x30+-0x72d+-0x1f40&&this['size']['set'](_0x25deb8[-0x1*0x612+-0x3e4+0xff*0xa],_0x25deb8[-0x1*0x12c1+0x9f3+-0xcd*-0xb],_0x25deb8[0x1b5*-0x13+0x1d5d+0x2*0x18a]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x37b91f,_0xc294e0,_0x4d2b24){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x1833d4=this['enabled']&&this['entity']['enabled'];_0x1833d4!==this['_oldState']&&(this['_oldState']=_0x1833d4,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}h(_n,'EVENT_ENAB'+'LE','enable'),h(_n,'EVENT_DISA'+'BLE','disable'),h(_n,'EVENT_STAT'+'E','state'),h(_n,'EVENT_REMO'+'VE','remove');class _F{constructor(){this['enabled']=!(0x1e2*-0x7+-0x29c+0x56*0x2f);}}const u0=['enabled'];class gF extends ct{constructor(_0x265f3c){super(_0x265f3c),this['id']='zone',this['ComponentT'+'ype']=_n,this['DataType']=_F,this['schema']=u0,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x1dc5fc,_0x3bf543,_0x10722c){_0x1dc5fc['enabled']=_0x3bf543['hasOwnProp'+'erty']('enabled')?!!_0x3bf543['enabled']:!(0x10*-0xdd+0x10f*0x17+-0x1f*0x57),_0x3bf543['size']&&(_0x3bf543['size']instanceof D?_0x1dc5fc['size']['copy'](_0x3bf543['size']):_0x3bf543['size']instanceof Array&&_0x3bf543['size']['length']>=0x214c*0x1+0x8e4*0x3+-0x3bf5&&_0x1dc5fc['size']['set'](_0x3bf543['size'][-0x262*0x2+-0x88*0xd+0x14c*0x9],_0x3bf543['size'][-0x2*0x37c+0x1108+-0x5*0x203],_0x3bf543['size'][0x1*-0x26b9+0x3b5*0x6+0x107d]));}['cloneCompo'+'nent'](_0x2a6c4a,_0x28b7d0){const _0xabc81e={'enabled':_0x2a6c4a['zone']['enabled'],'size':_0x2a6c4a['zone']['size']};return this['addCompone'+'nt'](_0x28b7d0,_0xabc81e);}['_onBeforeR'+'emove'](_0x4aa8b1,_0x115e25){_0x115e25['_onBeforeR'+'emove']();}}we['_buildAcce'+'ssors'](_n['prototype'],u0);class SF{constructor(_0x254a2a,_0x47189b){this['effect']=_0x254a2a,this['inputTarge'+'t']=_0x47189b,this['outputTarg'+'et']=null,this['name']=_0x254a2a['constructo'+'r']['name'];}}class yF{constructor(_0x1bd03b,_0x52082){this['app']=_0x1bd03b,this['camera']=_0x52082,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(-0xf17+0x8fd+-0x1*-0x61b),this['depthTarge'+'t']=null,_0x52082['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x52580b,_0x121928){const _0x5bbfc5=this['camera']['rect'],_0x346b3b=this['destinatio'+'nRenderTar'+'get'],_0x50225e=this['app']['graphicsDe'+'vice'],_0x10ab05=Math['floor'](_0x5bbfc5['z']*((_0x346b3b==null?void(0x65*-0x1d+0x1*-0x1bd9+0x274a*0x1):_0x346b3b['width'])??_0x50225e['width'])),_0x474dcb=Math['floor'](_0x5bbfc5['w']*((_0x346b3b==null?void(-0x1a49+0x2fe*0xc+-0x99f):_0x346b3b['height'])??_0x50225e['height']));return new _e(_0x50225e,{'name':_0x121928,'format':_0x52580b,'width':_0x10ab05,'height':_0x474dcb,'mipmaps':!(-0x1636*-0x1+-0x23f2+0xdbd),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});}['_createOff'+'screenTarg'+'et'](_0x500af1,_0x3ec6fa){const _0x5c96f3=this['app']['graphicsDe'+'vice'],_0x1ad58c=(this['destinatio'+'nRenderTar'+'get']??_0x5c96f3['backBuffer'])['isColorBuf'+'ferSrgb'](0x14ab+0x3*-0x26f+-0xd5e),_0x4ee82a=(_0x3ec6fa&&_0x5c96f3['getRendera'+'bleHdrForm'+'at']([nt,Xt],!(-0x3*0xb3a+0x12*0x1bf+0x240)))??(_0x1ad58c?_s:Ne),_0x4b64f7=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x52abba=this['_allocateC'+'olorBuffer'](_0x4ee82a,_0x4b64f7);return new gt({'colorBuffer':_0x52abba,'depth':_0x500af1,'stencil':_0x500af1&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x500af1?_0x5c96f3['samples']:0xf2*0x1f+0x1*-0x101f+-0xd2e});}['_resizeOff'+'screenTarg'+'et'](_0xeda9a7){const _0x2f371b=_0xeda9a7['colorBuffe'+'r']['format'],_0x1879c8=_0xeda9a7['colorBuffe'+'r']['name'];_0xeda9a7['destroyFra'+'meBuffers'](),_0xeda9a7['destroyTex'+'tureBuffer'+'s'](),_0xeda9a7['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x2f371b,_0x1879c8),_0xeda9a7['_colorBuff'+'ers']=[_0xeda9a7['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x189c79){_0x189c79['destroyTex'+'tureBuffer'+'s'](),_0x189c79['destroy']();}['addEffect'](_0x3f29a8){const _0xafce5b=this['effects'],_0x212169=_0xafce5b['length']===0x1*-0x1933+0xdff*-0x2+-0x59*-0x99,_0x403ca6=this['_createOff'+'screenTarg'+'et'](_0x212169,_0x3f29a8['hdr']),_0x54facc=new SF(_0x3f29a8,_0x403ca6);_0xafce5b['push'](_0x54facc),this['_sourceTar'+'get']=_0x54facc['inputTarge'+'t'],_0xafce5b['length']>-0x1*-0x1d6+-0x1868+-0x1*-0x1693&&(_0xafce5b[_0xafce5b['length']-(0x7ae*-0x1+0x1de1*0x1+0x1*-0x1631)]['outputTarg'+'et']=_0x54facc['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x3f29a8,_0x3f29a8['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(0x162a+0x5*-0x70e+-0x347*-0x4);}['removeEffe'+'ct'](_0x4b7b5d){let _0x467c7d=-(-0x175*0xf+-0x23*-0xdb+-0x815);for(let _0x35aace=0x1*0x236b+0x6f7+-0x2a62,_0x590c3f=this['effects']['length'];_0x35aace<_0x590c3f;_0x35aace++)if(this['effects'][_0x35aace]['effect']===_0x4b7b5d){_0x467c7d=_0x35aace;break;}_0x467c7d>=0xaa+-0x1e3d+-0x43*-0x71&&(_0x467c7d>0x1090+-0x9d*0x1+-0xff3?this['effects'][_0x467c7d-(-0x26c+-0x1356+0x1*0x15c3)]['outputTarg'+'et']=_0x467c7d+(0x735+0x1323+-0x265*0xb)<this['effects']['length']?this['effects'][_0x467c7d+(0x1*0x793+-0x120*-0x13+-0x1cf2)]['inputTarge'+'t']:null:this['effects']['length']>-0x98f*-0x4+0x6*0x615+-0x4ab9&&(this['effects'][-0x1522*-0x1+-0xda*-0x8+0x1*-0x1bf1]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][0x1*0xbd1+-0x125b*0x2+0x18e6]['inputTarge'+'t']),this['effects'][-0x1*0x6cb+0xd5*0x5+0xe1*0x3]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(0x1bd0+0x2575+-0x31*0x155),this['effects'][0x59b+-0x32*-0xa+-0x78e]['hdr']),this['_sourceTar'+'get']=this['effects'][-0x17*0xcb+0x25a6+-0x1368]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][-0x11*0x20e+-0x1*0x19df+0x3cce]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x467c7d]['inputTarge'+'t']),this['effects']['splice'](_0x467c7d,-0xf76+0xdd9*0x1+-0x2e*-0x9)),this['enabled']&&_0x4b7b5d['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===-0x1*-0x21b3+-0x1f*0x91+-0x1*0x1024&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x3943de=-0x1e59*0x1+0x1*-0x14c5+-0x2d7*-0x12,_0x193f9d=this['effects']['length'];_0x3943de<_0x193f9d;_0x3943de++){const _0x3184c4=this['effects'][_0x3943de]['effect'];this['_newPostEf'+'fect']!==_0x3184c4&&_0x3184c4['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x3b819f=-0xab3+-0x1fa7+-0x152d*-0x2,_0x4ca45a=this['effects']['length'];_0x3b819f<_0x4ca45a;_0x3b819f++)this['effects'][_0x3b819f]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0x2c9332=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x2c9332&&(_0x2c9332['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x1726+0x17*-0x87+0x1*-0xb05)));}['_releaseDe'+'pthMap'](){const _0x294ce7=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x294ce7&&(_0x294ce7['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(-0xb61+0x768+0x3fa)));}['destroy'](){for(let _0x48ab71=-0x2c9*-0x9+0x827*0x2+0x26f*-0x11,_0x43e9dd=this['effects']['length'];_0x48ab71<_0x43e9dd;_0x48ab71++)this['effects'][_0x48ab71]['inputTarge'+'t']['destroy']();this['effects']['length']=-0xd92+0x1c5d+0x1*-0xecb,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(-0x2297+0x2*-0xa77+-0x3785*-0x1),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][0x17cd+-0x2*-0x108a+0x38e1*-0x1]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x397509=null;const _0x496e77=this['effects']['length'];if(_0x496e77)for(let _0x422e18=-0x253e+0xb28+0x1a16;_0x422e18<_0x496e77;_0x422e18++){const _0x2a9849=this['effects'][_0x422e18];let _0x5a0644=_0x2a9849['outputTarg'+'et'];_0x422e18===_0x496e77-(-0x211d+-0xf6*-0x6+0x12*0x185)&&(_0x397509=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x5a0644=this['destinatio'+'nRenderTar'+'get'])),Q['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x2a9849['name']),_0x2a9849['effect']['render'](_0x2a9849['inputTarge'+'t'],_0x5a0644,_0x397509),Q['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(-0xcb3+-0x1b5a+0x280e),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x4db037,_0x521fb2){const _0x15fe09=this['camera']['rect'],_0x573545=this['destinatio'+'nRenderTar'+'get'];_0x4db037=(_0x573545==null?void(-0x2cd+-0x1951+0x1c1e):_0x573545['width'])??_0x4db037,_0x521fb2=(_0x573545==null?void(0x1308+0x9*0x446+0x1*-0x397e):_0x573545['height'])??_0x521fb2,this['camera']['camera']['aspectRati'+'o']=_0x4db037*_0x15fe09['z']/(_0x521fb2*_0x15fe09['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x1934c3=this['app']['graphicsDe'+'vice'],_0x5bd36a=this['destinatio'+'nRenderTar'+'get'],_0x316f08=(_0x5bd36a==null?void(0x1d4+0xc34+0x4*-0x382):_0x5bd36a['width'])??_0x1934c3['width'],_0x364e8e=(_0x5bd36a==null?void(0xf66+0x2464+0x2*-0x19e5):_0x5bd36a['height'])??_0x1934c3['height'],_0x4e5d62=this['camera']['rect'],_0x456b9f=Math['floor'](_0x4e5d62['z']*_0x316f08),_0x55058f=Math['floor'](_0x4e5d62['w']*_0x364e8e),_0x57ae5f=this['effects'];for(let _0x53a81a=0x1e5b+-0x160+-0x1cfb,_0x20c61e=_0x57ae5f['length'];_0x53a81a<_0x20c61e;_0x53a81a++){const _0x3c57c9=_0x57ae5f[_0x53a81a];(_0x3c57c9['inputTarge'+'t']['width']!==_0x456b9f||_0x3c57c9['inputTarge'+'t']['height']!==_0x55058f)&&this['_resizeOff'+'screenTarg'+'et'](_0x3c57c9['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x100ef6,_0x43281a,_0x2aed71){this['enabled']&&this['resizeRend'+'erTargets']();}}class Ir extends we{constructor(_0x17fda0,_0x47bbfc){super(_0x17fda0,_0x47bbfc),h(this,'onPostproc'+'essing',null),h(this,'_renderSce'+'neDepthMap',0x1ea+-0x11*0x245+0x9*0x413),h(this,'_renderSce'+'neColorMap',-0x615+0x3*0x482+0x27b*-0x3),h(this,'_sceneDept'+'hMapReques'+'ted',!(-0x2175+-0xa*0xc2+0x290a)),h(this,'_sceneColo'+'rMapReques'+'ted',!(0x40f+0x991+0x1*-0xd9f)),h(this,'_priority',-0x1ea4+-0xdd+-0x5*-0x64d),h(this,'_disablePo'+'stEffectsL'+'ayer',Il),h(this,'_camera',new Fl()),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0x47bbfc,this['_postEffec'+'ts']=new yF(_0x17fda0['app'],this));}['setShaderP'+'ass'](_0x58497a){const _0x5dc28a=Si['get'](this['system']['app']['graphicsDe'+'vice']),_0x4f3770=_0x58497a?_0x5dc28a['allocate'](_0x58497a,{'isForward':!(0x504+-0x24fd+0x1*0x1ff9)}):null;return this['_camera']['shaderPass'+'Info']=_0x4f3770,_0x4f3770['index'];}['getShaderP'+'ass'](){var _0x1eafa1;return(_0x1eafa1=this['_camera']['shaderPass'+'Info'])==null?void(-0x2*-0x67a+0x1c1c+-0x4*0xa44):_0x1eafa1['name'];}set['renderPass'+'es'](_0x5ec32b){this['_camera']['renderPass'+'es']=_0x5ec32b||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(-0x2bd*0x1+-0x2177+-0x1*-0x2434);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x258d68){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x258d68;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0x1ae939){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0x1ae939;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x3a4e6c){this['_camera']['fogParams']=_0x3a4e6c;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x3d89ca){this['_camera']['aperture']=_0x3d89ca;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x107ae3){this['_camera']['aspectRati'+'o']=_0x107ae3;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x452421){this['_camera']['aspectRati'+'oMode']=_0x452421;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x577843){this['_camera']['calculateP'+'rojection']=_0x577843;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x2c12ce){this['_camera']['calculateT'+'ransform']=_0x2c12ce;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x54886d){this['_camera']['clearColor']=_0x54886d;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x233ad5){this['_camera']['clearColor'+'Buffer']=_0x233ad5,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x1050f0){this['_camera']['clearDepth'+'Buffer']=_0x1050f0,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x9118a1){this['_camera']['clearStenc'+'ilBuffer']=_0x9118a1,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x289040){this['_camera']['cullFaces']=_0x289040;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x1ed491){this['_disablePo'+'stEffectsL'+'ayer']=_0x1ed491,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x1c28fb){this['_camera']['farClip']=_0x1c28fb;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x312a8b){this['_camera']['flipFaces']=_0x312a8b;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x5e4cb9){this['_camera']['fov']=_0x5e4cb9;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x214099){this['_camera']['frustumCul'+'ling']=_0x214099;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x7e5011){this['_camera']['horizontal'+'Fov']=_0x7e5011;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x33c7f6){const _0x3df838=this['_camera']['layers'],_0x341d41=this['system']['app']['scene'];_0x3df838['forEach'](_0x2db70c=>{const _0x46ef2e=_0x341d41['layers']['getLayerBy'+'Id'](_0x2db70c);_0x46ef2e==null||_0x46ef2e['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x33c7f6,this['enabled']&&this['entity']['enabled']&&_0x33c7f6['forEach'](_0x44d59b=>{const _0x531c2f=_0x341d41['layers']['getLayerBy'+'Id'](_0x44d59b);_0x531c2f==null||_0x531c2f['addCamera'](this);}),this['fire']('set:layers');}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x497ac5){this['_camera']['jitter']=_0x497ac5;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x2ec4de){this['_camera']['nearClip']=_0x2ec4de;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x3a85e9){this['_camera']['orthoHeigh'+'t']=_0x3a85e9;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0xe7a575){this['_priority']=_0xe7a575,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x1e5a96){this['_camera']['projection']=_0x1e5a96;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x2e6220){this['_camera']['rect']=_0x2e6220,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x41e148){_0x41e148&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(-0x19cb*0x1+0x1bd9+-0x20e)),this['_sceneColo'+'rMapReques'+'ted']=!(-0x1116+0x3*-0x389+0x1bb1)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(0x1603+0xb95+-0x2197)),this['_sceneColo'+'rMapReques'+'ted']=!(0x2*-0x115f+-0x2627*0x1+-0x2473*-0x2));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>-0x8a1+0x1*-0x2176+-0x5*-0x86b;}set['renderScen'+'eDepthMap'](_0x219a9e){_0x219a9e&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0x222a+0x211e+-0x4348)),this['_sceneDept'+'hMapReques'+'ted']=!(0x168b*-0x1+-0x1ac6+0x1f9*0x19)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(0x1*-0x18d7+-0x26c9*-0x1+-0xdf1)),this['_sceneDept'+'hMapReques'+'ted']=!(0x1*0xf1+-0xba0+0x390*0x3));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x213a+-0x120c+-0xf2e;}set['renderTarg'+'et'](_0x7b2e2c){w['call'](()=>{this['_camera']['renderPass'+'es']['length']>-0x111d*0x2+-0x2384*0x1+0x9e*0x71&&w['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x7b2e2c,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0xee08a0){this['_camera']['scissorRec'+'t']=_0xee08a0;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x23478d){this['_camera']['sensitivit'+'y']=_0x23478d;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x3bdf46){this['_camera']['shutter']=_0x3bdf46;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x5de1f8){if(this['layers']['find'](_0x7340c1=>_0x7340c1===ps)){const _0x2fbac4=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x5de1f8?_0x2fbac4==null||_0x2fbac4['incrementC'+'ounter']():_0x2fbac4==null||_0x2fbac4['decrementC'+'ounter']();}else{if(_0x5de1f8)return!(0x1064+0x767+-0x17ca);}return!(-0x1242+0x2*-0x665+0x1f0c);}['requestSce'+'neColorMap'](_0x38dc3c){this['_renderSce'+'neColorMap']+=_0x38dc3c?0xa*-0x37d+-0x2475*0x1+-0xbe4*-0x6:-(0x134c+0x1*-0x544+-0xe07),w['assert'](this['_renderSce'+'neColorMap']>=0x2468+-0x7af+-0x1cb9),this['_enableDep'+'thLayer'](_0x38dc3c)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']),this['system']['app']['scene']['layers']['markDirty']();}['requestSce'+'neDepthMap'](_0x1171ff){this['_renderSce'+'neDepthMap']+=_0x1171ff?0x2*-0xe0a+-0x2a4*0x4+0x26a5:-(0x2*-0x82c+-0xe4*-0x26+-0x117f),w['assert'](this['_renderSce'+'neDepthMap']>=-0x1*0x107b+0x120f+-0x194),this['_enableDep'+'thLayer'](_0x1171ff)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']),this['system']['app']['scene']['layers']['markDirty']();}['dirtyLayer'+'Compositio'+'nCameras'](){const _0xd8ba4c=this['system']['app']['scene']['layers'];_0xd8ba4c['_dirty']=!(0x1b05*0x1+-0x710+0x3*-0x6a7);}['screenToWo'+'rld'](_0xfe10c0,_0x1e2f90,_0x471662,_0x565bfc){const _0x5f0dc6=this['system']['app']['graphicsDe'+'vice'],{width:_0x66331f,height:_0x24612b}=_0x5f0dc6['clientRect'];return this['_camera']['screenToWo'+'rld'](_0xfe10c0,_0x1e2f90,_0x471662,_0x66331f,_0x24612b,_0x565bfc);}['worldToScr'+'een'](_0x28fbd4,_0x472ed1){const _0x36567a=this['system']['app']['graphicsDe'+'vice'],{width:_0x54005e,height:_0x405349}=_0x36567a['clientRect'];return this['_camera']['worldToScr'+'een'](_0x28fbd4,_0x54005e,_0x405349,_0x472ed1);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(0x1679+-0x8*-0x356+0x5*-0x9d5),this['_camera']['_viewProjM'+'atDirty']=!(-0x1174*-0x1+-0x1*0x1215+0xa1*0x1);}['addCameraT'+'oLayers'](){const _0x3b1240=this['layers'];for(let _0x5e40f7=-0x17f7+-0x12fb+-0x17*-0x1de;_0x5e40f7<_0x3b1240['length'];_0x5e40f7++){const _0x331f05=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x3b1240[_0x5e40f7]);_0x331f05&&_0x331f05['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x4bfffa=this['layers'];for(let _0x3864d0=-0x1e1c+0x5*-0x29+0x1ee9;_0x3864d0<_0x4bfffa['length'];_0x3864d0++){const _0x19af5f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x4bfffa[_0x3864d0]);_0x19af5f&&_0x19af5f['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x2c4485,_0x4d6a11){this['addCameraT'+'oLayers'](),_0x2c4485['off']('add',this['onLayerAdd'+'ed'],this),_0x2c4485['off']('remove',this['onLayerRem'+'oved'],this),_0x4d6a11['on']('add',this['onLayerAdd'+'ed'],this),_0x4d6a11['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x45b245){this['layers']['indexOf'](_0x45b245['id'])<0x3d*0x7+0x123d+0x62*-0x34||_0x45b245['addCamera'](this);}['onLayerRem'+'oved'](_0x4e4156){this['layers']['indexOf'](_0x4e4156['id'])<-0x4*-0x99a+-0x1ac7+0xe5*-0xd||_0x4e4156['removeCame'+'ra'](this);}['onEnable'](){var _0x242fb2,_0x4ee781,_0x3dba16;const _0x114d25=this['system']['app']['scene'],_0x3fd59b=_0x114d25['layers'];this['system']['addCamera'](this),(_0x242fb2=this['_evtLayers'+'Changed'])==null||_0x242fb2['off'](),this['_evtLayers'+'Changed']=_0x114d25['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3fd59b&&((_0x4ee781=this['_evtLayerA'+'dded'])==null||_0x4ee781['off'](),this['_evtLayerA'+'dded']=_0x3fd59b['on']('add',this['onLayerAdd'+'ed'],this),(_0x3dba16=this['_evtLayerR'+'emoved'])==null||_0x3dba16['off'](),this['_evtLayerR'+'emoved']=_0x3fd59b['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0xc8ba64,_0x3b3370,_0x298b2a;const _0x2a4481=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0xc8ba64=this['_evtLayers'+'Changed'])==null||_0xc8ba64['off'](),this['_evtLayers'+'Changed']=null,_0x2a4481&&((_0x3b3370=this['_evtLayerA'+'dded'])==null||_0x3b3370['off'](),this['_evtLayerA'+'dded']=null,(_0x298b2a=this['_evtLayerR'+'emoved'])==null||_0x298b2a['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x42d69f){const _0x184e51=this['system']['app']['graphicsDe'+'vice'],_0x3a873a=_0x42d69f?_0x42d69f['width']:_0x184e51['width'],_0x542033=_0x42d69f?_0x42d69f['height']:_0x184e51['height'];return _0x3a873a*this['rect']['z']/(_0x542033*this['rect']['w']);}['frameUpdat'+'e'](_0x97b7ff){this['aspectRati'+'oMode']===hm&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x97b7ff));}['startXr'](_0x4c20da,_0x2e48c2,_0x1f72a2){this['system']['app']['xr']['start'](this,_0x4c20da,_0x2e48c2,_0x1f72a2);}['endXr'](_0x1acbce){if(!this['_camera']['xr']){_0x1acbce&&_0x1acbce(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x1acbce);}['copy'](_0x22a671){this['aperture']=_0x22a671['aperture'],this['aspectRati'+'o']=_0x22a671['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x22a671['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x22a671['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x22a671['calculateT'+'ransform'],this['clearColor']=_0x22a671['clearColor'],this['clearColor'+'Buffer']=_0x22a671['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x22a671['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x22a671['clearStenc'+'ilBuffer'],this['cullFaces']=_0x22a671['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x22a671['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x22a671['farClip'],this['flipFaces']=_0x22a671['flipFaces'],this['fov']=_0x22a671['fov'],this['frustumCul'+'ling']=_0x22a671['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x22a671['horizontal'+'Fov'],this['layers']=_0x22a671['layers'],this['nearClip']=_0x22a671['nearClip'],this['orthoHeigh'+'t']=_0x22a671['orthoHeigh'+'t'],this['priority']=_0x22a671['priority'],this['projection']=_0x22a671['projection'],this['rect']=_0x22a671['rect'],this['renderTarg'+'et']=_0x22a671['renderTarg'+'et'],this['scissorRec'+'t']=_0x22a671['scissorRec'+'t'],this['sensitivit'+'y']=_0x22a671['sensitivit'+'y'],this['shutter']=_0x22a671['shutter'];}}class vF{constructor(){this['enabled']=!(0x1*0x8b7+0x5b8+-0xe6f);}}const p0=['enabled'];class xF extends ct{constructor(_0x333cb5){super(_0x333cb5),h(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=Ir,this['DataType']=vF,this['schema']=p0,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x3c9ab4,_0x4db02f,_0x9a76b7){_0x9a76b7=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fog','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x56b63e=0x2704+-0x3ba*0x7+0x677*-0x2;_0x56b63e<_0x9a76b7['length'];_0x56b63e++){const _0x2e81d3=_0x9a76b7[_0x56b63e];if(_0x4db02f['hasOwnProp'+'erty'](_0x2e81d3)){const _0x556386=_0x4db02f[_0x2e81d3];switch(_0x2e81d3){case'rect':case'scissorRec'+'t':Array['isArray'](_0x556386)?_0x3c9ab4[_0x2e81d3]=new re(_0x556386[-0x8d7+0x1ed9+0x139*-0x12],_0x556386[0x2*-0x144+-0x805+-0xa8e*-0x1],_0x556386[-0x1*-0x23d5+-0x33a*-0x3+0x3*-0xf2b],_0x556386[-0x2203*0x1+-0x1a78*-0x1+0x3c7*0x2]):_0x3c9ab4[_0x2e81d3]=_0x556386;break;case'clearColor':Array['isArray'](_0x556386)?_0x3c9ab4[_0x2e81d3]=new ie(_0x556386[-0xd11*-0x1+0x17de+-0x9b*0x3d],_0x556386[-0x1ded+-0xb66*-0x2+-0xa6*-0xb],_0x556386[-0x6da+0x4bd+0x1*0x21f],_0x556386[0x545*-0x7+-0xad*-0x27+0xa8b*0x1]):_0x3c9ab4[_0x2e81d3]=_0x556386;break;default:_0x3c9ab4[_0x2e81d3]=_0x556386;break;}}}super['initialize'+'ComponentD'+'ata'](_0x3c9ab4,_0x4db02f,['enabled']);}['cloneCompo'+'nent'](_0x29a53a,_0x16cc91){const _0x3f2d7a=_0x29a53a['camera'];return this['addCompone'+'nt'](_0x16cc91,{'aspectRatio':_0x3f2d7a['aspectRati'+'o'],'aspectRatioMode':_0x3f2d7a['aspectRati'+'oMode'],'calculateProjection':_0x3f2d7a['calculateP'+'rojection'],'calculateTransform':_0x3f2d7a['calculateT'+'ransform'],'clearColor':_0x3f2d7a['clearColor'],'clearColorBuffer':_0x3f2d7a['clearColor'+'Buffer'],'clearDepthBuffer':_0x3f2d7a['clearDepth'+'Buffer'],'clearStencilBuffer':_0x3f2d7a['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x3f2d7a['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x3f2d7a['renderScen'+'eColorMap'],'cullFaces':_0x3f2d7a['cullFaces'],'enabled':_0x3f2d7a['enabled'],'farClip':_0x3f2d7a['farClip'],'flipFaces':_0x3f2d7a['flipFaces'],'fov':_0x3f2d7a['fov'],'frustumCulling':_0x3f2d7a['frustumCul'+'ling'],'horizontalFov':_0x3f2d7a['horizontal'+'Fov'],'layers':_0x3f2d7a['layers'],'renderTarget':_0x3f2d7a['renderTarg'+'et'],'nearClip':_0x3f2d7a['nearClip'],'orthoHeight':_0x3f2d7a['orthoHeigh'+'t'],'projection':_0x3f2d7a['projection'],'priority':_0x3f2d7a['priority'],'rect':_0x3f2d7a['rect'],'scissorRect':_0x3f2d7a['scissorRec'+'t'],'aperture':_0x3f2d7a['aperture'],'sensitivity':_0x3f2d7a['sensitivit'+'y'],'shutter':_0x3f2d7a['shutter'],'gammaCorrection':_0x3f2d7a['gammaCorre'+'ction'],'toneMapping':_0x3f2d7a['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x4f4093,_0x5bb8b0){this['removeCame'+'ra'](_0x5bb8b0),_0x5bb8b0['onRemove']();}['onAppPrere'+'nder'](){for(let _0x4ce067=0x13d6+-0x6d*0x25+0x5*-0xd1,_0x59c77b=this['cameras']['length'];_0x4ce067<_0x59c77b;_0x4ce067++)this['cameras'][_0x4ce067]['onAppPrere'+'nder']();}['addCamera'](_0x23510a){this['cameras']['push'](_0x23510a),ul(this['cameras']);}['removeCame'+'ra'](_0x4b3a58){const _0x5f3800=this['cameras']['indexOf'](_0x4b3a58);_0x5f3800>=-0x1381+0x24b0+-0x1*0x112f&&(this['cameras']['splice'](_0x5f3800,-0x1c5*0xf+0x24cf+-0x47*0x25),ul(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}we['_buildAcce'+'ssors'](Ir['prototype'],p0);class m0{constructor(){h(this,'enabled',!(-0x1*-0xe4d+-0x448*0x1+-0xa05)),h(this,'light'),h(this,'type','directiona'+'l'),h(this,'color',new ie(-0x50*-0x25+-0x1b34+0xfa5,0x5d3+0x21c5+-0x2797,-0x569+-0x2555+0x2abf*0x1)),h(this,'intensity',0x3*0x478+0x279*0xb+-0x289a),h(this,'luminance',-0x1d3a+-0x463+0x219d),h(this,'shape',Ys),h(this,'affectSpec'+'ularity',!(-0xb9d*-0x2+0xc+0xba3*-0x2)),h(this,'castShadow'+'s',!(-0x2545+0xd4*0x3+0x1165*0x2)),h(this,'shadowDist'+'ance',0xe*0x187+0x1d*-0xff+-0x25*-0x35),h(this,'shadowInte'+'nsity',0x2*-0x4ae+0x78f*-0x3+-0x6*-0x557),h(this,'shadowReso'+'lution',-0x1706+0x1c7b+0x175*-0x1),h(this,'shadowBias',0x130a+-0x2389+-0x67*-0x29+0.05),h(this,'numCascade'+'s',0x2211+-0x24a1+0x291),h(this,'cascadeBle'+'nd',-0x33a+0x5*-0x1d3+0xc59),h(this,'bakeNumSam'+'ples',0x16fe+-0x216c+0x1*0xa6f),h(this,'bakeArea',0x1f67+0x112f+0x566*-0x9),h(this,'cascadeDis'+'tribution',-0x1*0xc9+-0x491*-0x7+-0x1f2e+0.5),h(this,'normalOffs'+'etBias',-0x396+0xd8*0x5+-0xa2),h(this,'range',0x970+0x147b+0x1*-0x1de1),h(this,'innerConeA'+'ngle',0xc2*0x32+0x2d7*0x7+-0x399d),h(this,'outerConeA'+'ngle',-0x11fb+0x7cf*-0x1+-0x17*-0x121),h(this,'falloffMod'+'e',Qp),h(this,'shadowType',$s),h(this,'vsmBlurSiz'+'e',0x2131+0x1c1f+-0x3d45),h(this,'vsmBlurMod'+'e',em),h(this,'vsmBias',(-0x2*-0x1082+0x7a2+-0x28a6+0.01)*(-0x1f70+-0x421+0x1*0x2391+0.25)),h(this,'cookieAsse'+'t',null),h(this,'cookie',null),h(this,'cookieInte'+'nsity',0x236f*0x1+0x156a+-0x38d8),h(this,'cookieFall'+'off',!(-0x1*-0x24a+0x2151*-0x1+0x1f07)),h(this,'cookieChan'+'nel','rgb'),h(this,'cookieAngl'+'e',-0x4*0x457+0xc86+0x4d6),h(this,'cookieScal'+'e',null),h(this,'cookieOffs'+'et',null),h(this,'shadowUpda'+'teMode',lm),h(this,'mask',0x2*0x660+0x16f7+0x23b6*-0x1),h(this,'affectDyna'+'mic',!(0x8fd+-0x4*-0x626+-0x1*0x2195)),h(this,'affectLigh'+'tmapped',!(-0x1d1c+0x19ee*-0x1+0xe7*0x3d)),h(this,'bake',!(0x1ff8+0xd*-0x4f+-0x1bf4)),h(this,'bakeDir',!(0x3a*0x9d+0xa3b+0x2dcd*-0x1)),h(this,'isStatic',!(-0x1*0x1827+-0x1d*-0x21+0x146b)),h(this,'layers',[er]),h(this,'penumbraSi'+'ze',-0x1de+-0xb7f+-0xd5e*-0x1),h(this,'penumbraFa'+'lloff',0xcc3+-0x26c1+0x19ff),h(this,'shadowSamp'+'les',0x33c+-0x11*-0x1a9+-0x8d*0x39),h(this,'shadowBloc'+'kerSamples',0x6f1*0x4+-0x2179+0xd3*0x7);}}const Ho=Object['keys'](new m0());class TF extends we{constructor(){super(...arguments),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_cookieAss'+'et',null),h(this,'_cookieAss'+'etId',null),h(this,'_cookieAss'+'etAdd',!(-0x1bd8+0x2*0xeaa+-0x1*0x17b)),h(this,'_cookieMat'+'rix',null);}get['data'](){const _0xd58785=this['system']['store'][this['entity']['getGuid']()];return _0xd58785?_0xd58785['data']:null;}set['enabled'](_0xc780f2){this['_setValue']('enabled',_0xc780f2,function(_0x3313c1,_0x1697ca){this['onSetEnabl'+'ed'](null,_0x1697ca,_0x3313c1);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x4d258b){this['_setValue']('light',_0x4d258b);}get['light'](){return this['data']['light'];}set['type'](_0x301e16){this['_setValue']('type',_0x301e16,function(_0x10dade,_0x4436d7){this['system']['changeType'](this,_0x4436d7,_0x10dade),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x303af9){this['_setValue']('color',_0x303af9,function(_0x48f5ed,_0x373893){this['light']['setColor'](_0x48f5ed);},!(0xd*-0x289+-0x1fb7+-0x1*-0x40ac));}get['color'](){return this['data']['color'];}set['intensity'](_0x55460f){this['_setValue']('intensity',_0x55460f,function(_0x2ba632,_0x2922e3){this['light']['intensity']=_0x2ba632;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0xd27277){this['_setValue']('luminance',_0xd27277,function(_0x42335c,_0x230126){this['light']['luminance']=_0x42335c;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x9d569e){this['_setValue']('shape',_0x9d569e,function(_0xb89634,_0x59a477){this['light']['shape']=_0xb89634;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x1e56ad){this['_setValue']('affectSpec'+'ularity',_0x1e56ad,function(_0x219c3e,_0x25a008){this['light']['affectSpec'+'ularity']=_0x219c3e;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x5d5263){this['_setValue']('castShadow'+'s',_0x5d5263,function(_0x4c81d9,_0x57b023){this['light']['castShadow'+'s']=_0x4c81d9;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x20f721){this['_setValue']('shadowDist'+'ance',_0x20f721,function(_0x42a5e7,_0x224ac8){this['light']['shadowDist'+'ance']=_0x42a5e7;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x365b61){this['_setValue']('shadowInte'+'nsity',_0x365b61,function(_0xe9f4bd,_0x412b4f){this['light']['shadowInte'+'nsity']=_0xe9f4bd;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x5f3163){this['_setValue']('shadowReso'+'lution',_0x5f3163,function(_0x3b82f5,_0x2213fa){this['light']['shadowReso'+'lution']=_0x3b82f5;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x2f1a6c){this['_setValue']('shadowBias',_0x2f1a6c,function(_0x23a284,_0x362dde){this['light']['shadowBias']=-(0x485*-0x5+-0x20d6+0x269*0x17+0.01)*Y['clamp'](_0x23a284,-0x934+0x202d+0x16f9*-0x1,-0x399*-0x9+-0x2*0x503+0x1*-0x165a);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x5a6353){this['_setValue']('numCascade'+'s',_0x5a6353,function(_0xfe69d9,_0x1d3dcf){this['light']['numCascade'+'s']=Y['clamp'](Math['floor'](_0xfe69d9),-0xdba*-0x1+-0x889*0x1+0x8*-0xa6,-0xedd+-0x86e+-0xd*-0x1cb);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x4034c9){this['_setValue']('cascadeBle'+'nd',_0x4034c9,function(_0x15bd0b,_0x2ffd51){this['light']['cascadeBle'+'nd']=Y['clamp'](_0x15bd0b,0x14c4+-0x4e*-0x6a+-0x3510,0x228d+0x1*-0xbcb+-0x16c1*0x1);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x229ab8){this['_setValue']('bakeNumSam'+'ples',_0x229ab8,function(_0x475d71,_0x48a114){this['light']['bakeNumSam'+'ples']=Y['clamp'](Math['floor'](_0x475d71),-0x25a0*-0x1+-0x54f*-0x7+-0x4ac8,0x355+0x3f*0x71+-0x1e25*0x1);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0xbf9485){this['_setValue']('bakeArea',_0xbf9485,function(_0x2d173d,_0x2d47cc){this['light']['bakeArea']=Y['clamp'](_0x2d173d,0x213a+0x3*0x5ac+0x191f*-0x2,-0x1666+0x2662+-0xf48);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x466cfb){this['_setValue']('cascadeDis'+'tribution',_0x466cfb,function(_0x1b0fa4,_0x43d152){this['light']['cascadeDis'+'tribution']=Y['clamp'](_0x1b0fa4,-0x14*-0x5b+0x12c3+-0x19df,0x1*-0x1689+-0x26d6+0x3d60);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x57a17f){this['_setValue']('normalOffs'+'etBias',_0x57a17f,function(_0x2340d2,_0x4bbf93){this['light']['normalOffs'+'etBias']=Y['clamp'](_0x2340d2,0xbea+0x1ebc+-0x2aa6,0x22*0x76+-0x2278+0x12cd);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x368b29){this['_setValue']('range',_0x368b29,function(_0x157cc3,_0x599c69){this['light']['attenuatio'+'nEnd']=_0x157cc3;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x440007){this['_setValue']('innerConeA'+'ngle',_0x440007,function(_0x3c464f,_0x150fa3){this['light']['innerConeA'+'ngle']=_0x3c464f;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x7034d5){this['_setValue']('outerConeA'+'ngle',_0x7034d5,function(_0x165ce2,_0x410f32){this['light']['outerConeA'+'ngle']=_0x165ce2;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0xc69540){this['_setValue']('falloffMod'+'e',_0xc69540,function(_0x3e0794,_0x5a3eb3){this['light']['falloffMod'+'e']=_0x3e0794;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x4c2063){this['_setValue']('shadowType',_0x4c2063,function(_0x24de81,_0x5cd6a8){this['light']['shadowType']=_0x24de81;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0xd3191f){this['_setValue']('vsmBlurSiz'+'e',_0xd3191f,function(_0x312e6d,_0x5102a7){this['light']['vsmBlurSiz'+'e']=_0x312e6d;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0x53b85d){this['_setValue']('vsmBlurMod'+'e',_0x53b85d,function(_0x416fb5,_0x497784){this['light']['vsmBlurMod'+'e']=_0x416fb5;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0x373451){this['_setValue']('vsmBias',_0x373451,function(_0x4227d6,_0x359ba3){this['light']['vsmBias']=Y['clamp'](_0x4227d6,0x25a6+0xf88+-0x352e,0x24+0xe1+-0x104);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x11f237){this['_setValue']('cookieAsse'+'t',_0x11f237,function(_0x45ae2e,_0x5f23af){if(!(this['_cookieAss'+'etId']&&(_0x45ae2e instanceof pe&&_0x45ae2e['id']===this['_cookieAss'+'etId']||_0x45ae2e===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x45ae2e instanceof pe)this['data']['cookieAsse'+'t']=_0x45ae2e['id'],this['_cookieAss'+'etId']=_0x45ae2e['id'],this['onCookieAs'+'setAdd'](_0x45ae2e);else{if(typeof _0x45ae2e=='number'){this['_cookieAss'+'etId']=_0x45ae2e;const _0x1dc997=this['system']['app']['assets']['get'](_0x45ae2e);_0x1dc997?this['onCookieAs'+'setAdd'](_0x1dc997):(this['_cookieAss'+'etAdd']=!(-0x1576+0x1299+0x2dd),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x1b2035){this['_setValue']('cookie',_0x1b2035,function(_0x583bf4,_0xf29193){this['light']['cookie']=_0x583bf4;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x5c5300){this['_setValue']('cookieInte'+'nsity',_0x5c5300,function(_0x25d6c3,_0x4d8783){this['light']['cookieInte'+'nsity']=Y['clamp'](_0x25d6c3,0x150d+-0x2*-0x190+-0x182d,-0x8d*0x31+-0x11fb*-0x2+0x52*-0x1c);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x1b22e7){this['_setValue']('cookieFall'+'off',_0x1b22e7,function(_0x2846bb,_0x48b569){this['light']['cookieFall'+'off']=_0x2846bb;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x3e3ccd){this['_setValue']('cookieChan'+'nel',_0x3e3ccd,function(_0x3aa4da,_0x514800){this['light']['cookieChan'+'nel']=_0x3aa4da;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x287ad2){this['_setValue']('cookieAngl'+'e',_0x287ad2,function(_0x43a6c0,_0x3511c8){if(_0x43a6c0!==-0x4d*0x7+0x2*-0x56+0x2c7||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());let _0x48dd63=0x1*0x1bc1+0x108d+-0x407*0xb,_0x28b468=-0x2*-0x824+-0xef*0x29+0x1600;this['cookieScal'+'e']&&(_0x48dd63=this['cookieScal'+'e']['x'],_0x28b468=this['cookieScal'+'e']['y']);const _0xfbd179=Math['cos'](_0x43a6c0*Y['DEG_TO_RAD']),_0x454063=Math['sin'](_0x43a6c0*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0xfbd179/_0x48dd63,-_0x454063/_0x48dd63,_0x454063/_0x28b468,_0xfbd179/_0x28b468),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x237c75){this['_setValue']('cookieScal'+'e',_0x237c75,function(_0x472527,_0x5312a5){if(_0x472527!==null||this['cookieAngl'+'e']!==-0x1*-0x435+-0x1*0x2513+-0x20de*-0x1){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());const _0x24d3e8=_0x472527['x'],_0x52a99d=_0x472527['y'],_0x29eabb=Math['cos'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']),_0x1d62c9=Math['sin'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x29eabb/_0x24d3e8,-_0x1d62c9/_0x24d3e8,_0x1d62c9/_0x52a99d,_0x29eabb/_0x52a99d),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(-0x3*-0x541+-0x1*0x1067+0xa4));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x5918ec){this['_setValue']('cookieOffs'+'et',_0x5918ec,function(_0xa914bb,_0x1ff941){this['light']['cookieOffs'+'et']=_0xa914bb;},!(0x231f+0x9ad+-0x2ccc));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x4e12b0){this['_setValue']('shadowUpda'+'teMode',_0x4e12b0,function(_0x2114f3,_0x4103ca){this['light']['shadowUpda'+'teMode']=_0x2114f3;},!(-0x1cc6+-0x26bb+-0x623*-0xb));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x12ce2){this['_setValue']('mask',_0x12ce2,function(_0x15f246,_0x270f13){this['light']['mask']=_0x15f246;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x3689fe){this['_setValue']('affectDyna'+'mic',_0x3689fe,function(_0x2a0249,_0x40eca7){_0x2a0249?this['light']['mask']|=Ss:this['light']['mask']&=~Ss,this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x14b2ca){this['_setValue']('affectLigh'+'tmapped',_0x14b2ca,function(_0x2e5458,_0x21d243){_0x2e5458?(this['light']['mask']|=di,this['bake']&&(this['light']['mask']&=~fi)):(this['light']['mask']&=~di,this['bake']&&(this['light']['mask']|=fi));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x5c7c98){this['_setValue']('bake',_0x5c7c98,function(_0x72571d,_0x282232){_0x72571d?(this['light']['mask']|=fi,this['affectLigh'+'tmapped']&&(this['light']['mask']&=~di)):(this['light']['mask']&=~fi,this['affectLigh'+'tmapped']&&(this['light']['mask']|=di)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x66e62f){this['_setValue']('bakeDir',_0x66e62f,function(_0xa7ccc9,_0x5f42d7){this['light']['bakeDir']=_0xa7ccc9;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x23a9ac){this['_setValue']('isStatic',_0x23a9ac,function(_0x303764,_0x5d704b){this['light']['isStatic']=_0x303764;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x2e9787){this['_setValue']('layers',_0x2e9787,function(_0xe4f2ec,_0x4bee45){for(let _0x3fa79e=-0x6dd+0x13bf+-0xce2;_0x3fa79e<_0x4bee45['length'];_0x3fa79e++){const _0x21dd12=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x4bee45[_0x3fa79e]);_0x21dd12&&(_0x21dd12['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x21dd12));}for(let _0x1920b1=-0xf4*-0x1d+-0x25d0+0xa2c;_0x1920b1<_0xe4f2ec['length'];_0x1920b1++){const _0x2b22b0=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0xe4f2ec[_0x1920b1]);_0x2b22b0&&this['enabled']&&this['entity']['enabled']&&(_0x2b22b0['addLight'](this),this['light']['addLayer'](_0x2b22b0));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x58c066){this['light']['shadowUpda'+'teOverride'+'s']=_0x58c066;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x34dbc8){this['light']['shadowSamp'+'les']=_0x34dbc8;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x1064b6){this['light']['shadowBloc'+'kerSamples']=_0x1064b6;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x4d51b8){this['light']['penumbraSi'+'ze']=_0x4d51b8;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x119bae){this['light']['penumbraFa'+'lloff']=_0x119bae;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x23901a,_0x54f8de,_0x369a10,_0x409080){const _0x961377=this['data'],_0x202865=_0x961377[_0x23901a];!_0x409080&&_0x202865===_0x54f8de||(_0x961377[_0x23901a]=_0x54f8de,_0x369a10&&_0x369a10['call'](this,_0x54f8de,_0x202865));}['addLightTo'+'Layers'](){for(let _0x4b1cce=0x1*-0x595+0xd0+0x197*0x3;_0x4b1cce<this['layers']['length'];_0x4b1cce++){const _0x3e9bc0=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4b1cce]);_0x3e9bc0&&(_0x3e9bc0['addLight'](this),this['light']['addLayer'](_0x3e9bc0));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x11032a=0x65b*0x5+0x56*0x5+-0x2175;_0x11032a<this['layers']['length'];_0x11032a++){const _0x4cc7c0=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x11032a]);_0x4cc7c0&&(_0x4cc7c0['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x4cc7c0));}}['onLayersCh'+'anged'](_0x3cc67d,_0x1fa5d9){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0x3cc67d['off']('add',this['onLayerAdd'+'ed'],this),_0x3cc67d['off']('remove',this['onLayerRem'+'oved'],this),_0x1fa5d9['on']('add',this['onLayerAdd'+'ed'],this),_0x1fa5d9['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x53479e){this['layers']['indexOf'](_0x53479e['id'])>=-0x1231+-0x214c+0x10d*0x31&&this['enabled']&&this['entity']['enabled']&&(_0x53479e['addLight'](this),this['light']['addLayer'](_0x53479e));}['onLayerRem'+'oved'](_0x51a5d2){this['layers']['indexOf'](_0x51a5d2['id'])>=-0x3*0xc5f+0x475+-0xd1*-0x28&&(_0x51a5d2['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x51a5d2));}['refreshPro'+'perties'](){for(let _0x57852c=-0x1fea+-0x818+-0x2*-0x1401;_0x57852c<Ho['length'];_0x57852c++){const _0x4724ed=Ho[_0x57852c];this[_0x4724ed]=this[_0x4724ed];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x131e9e=!(0xe6d+-0x4bc*0x2+-0x4f4);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(-0xfba+0x4d*0x4+0xe86),_0x131e9e=!(0xb*0x1c+0x9*0x33b+-0x1e47)),(!this['_cookieAss'+'et']['resource']||_0x131e9e)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x5eb4d1){this['_cookieAss'+'etId']===_0x5eb4d1['id']&&(this['_cookieAss'+'et']=_0x5eb4d1,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(-0x5b8+-0x1480+0x1a39)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x654b4d=this['system']['app']['scene'],_0x35f991=_0x654b4d['layers'];this['light']['enabled']=!(-0x2209*0x1+0x26a+0x1f9f),this['_evtLayers'+'Changed']=_0x654b4d['on']('set:layers',this['onLayersCh'+'anged'],this),_0x35f991&&(this['_evtLayerA'+'dded']=_0x35f991['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x35f991['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x44fbff,_0xb2d294,_0x16c819;const _0xc6a4d3=this['system']['app']['scene']['layers'];this['light']['enabled']=!(-0x31*0x1c+-0x1a*-0x8b+0x3*-0x2eb),(_0x44fbff=this['_evtLayers'+'Changed'])==null||_0x44fbff['off'](),this['_evtLayers'+'Changed']=null,_0xc6a4d3&&((_0xb2d294=this['_evtLayerA'+'dded'])==null||_0xb2d294['off'](),this['_evtLayerA'+'dded']=null,(_0x16c819=this['_evtLayerR'+'emoved'])==null||_0x16c819['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class wF extends ct{constructor(_0x58ef97){super(_0x58ef97),this['id']='light',this['ComponentT'+'ype']=TF,this['DataType']=m0,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x560ca6,_0x41d4bb){const _0x2998e0={..._0x41d4bb};_0x2998e0['type']||(_0x2998e0['type']=_0x560ca6['data']['type']),_0x560ca6['data']['type']=_0x2998e0['type'],_0x2998e0['layers']&&Array['isArray'](_0x2998e0['layers'])&&(_0x2998e0['layers']=_0x2998e0['layers']['slice'](0x254b+0x25c+0x1*-0x27a7)),_0x2998e0['color']&&Array['isArray'](_0x2998e0['color'])&&(_0x2998e0['color']=new ie(_0x2998e0['color'][-0x24ba+-0xccb*0x2+0x3e50],_0x2998e0['color'][0xb00+0x153b+-0x203a],_0x2998e0['color'][-0x839*-0x1+-0x7aa+0x3*-0x2f])),_0x2998e0['cookieOffs'+'et']&&_0x2998e0['cookieOffs'+'et']instanceof Array&&(_0x2998e0['cookieOffs'+'et']=new J(_0x2998e0['cookieOffs'+'et'][0x2ea+0x234*0x1+-0x51e*0x1],_0x2998e0['cookieOffs'+'et'][-0x1621+-0x1*-0x193a+-0x18c*0x2])),_0x2998e0['cookieScal'+'e']&&_0x2998e0['cookieScal'+'e']instanceof Array&&(_0x2998e0['cookieScal'+'e']=new J(_0x2998e0['cookieScal'+'e'][0x8f*0x22+-0x21b7*-0x1+-0x34b5],_0x2998e0['cookieScal'+'e'][0x1c67*0x1+0x33b*-0xa+0x3e8])),_0x2998e0['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x2998e0['enabled']=_0x2998e0['enable']),_0x2998e0['shape']||(_0x2998e0['shape']=Ys);const _0x1a07f2=new pl(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x1a07f2['type']=fu[_0x2998e0['type']],_0x1a07f2['_node']=_0x560ca6['entity'],_0x560ca6['data']['light']=_0x1a07f2,super['initialize'+'ComponentD'+'ata'](_0x560ca6,_0x2998e0,Ho);}['_onRemoveC'+'omponent'](_0x5a15d3,_0x352b78){_0x352b78['onRemove']();}['cloneCompo'+'nent'](_0x4c0224,_0x131f2b){const _0x3f7135=_0x4c0224['light'],_0x1e36da=[];let _0x5ccbc2;for(let _0x197733=-0x4*0x33+0x1*0x21eb+-0x211f;_0x197733<Ho['length'];_0x197733++)_0x5ccbc2=Ho[_0x197733],_0x5ccbc2!=='light'&&(_0x3f7135[_0x5ccbc2]&&_0x3f7135[_0x5ccbc2]['clone']?_0x1e36da[_0x5ccbc2]=_0x3f7135[_0x5ccbc2]['clone']():_0x1e36da[_0x5ccbc2]=_0x3f7135[_0x5ccbc2]);return this['addCompone'+'nt'](_0x131f2b,_0x1e36da);}['changeType'](_0x1c59fa,_0x1814d5,_0x423b06){_0x1814d5!==_0x423b06&&(_0x1c59fa['light']['type']=fu[_0x423b06]);}}const EF=['x','y','z','w'],bF=[void(-0xa73+0x11b3+0x74*-0x10),void(0x1*0xefd+-0x23bb+-0x127*-0x12),J,D,re];function Yn(_0x13b60d,_0x3b0f64,_0x248b8d,_0x119f83){switch(_0x3b0f64['type']){case'boolean':return!!_0x248b8d;case'number':if(typeof _0x248b8d=='number')return _0x248b8d;if(typeof _0x248b8d=='string'){const _0xd7f880=parseInt(_0x248b8d,0x5b*0x3b+-0xda3*-0x2+-0x3035);return isNaN(_0xd7f880)?null:_0xd7f880;}else{if(typeof _0x248b8d=='boolean')return-0x4*0xca+-0x1d92+0x76*0x47+_0x248b8d;}return null;case'json':{const _0x278ff9={};if(Array['isArray'](_0x3b0f64['schema'])){(!_0x248b8d||typeof _0x248b8d!='object')&&(_0x248b8d={});for(let _0x202966=0x2*-0x34+-0x95*-0xd+-0x729;_0x202966<_0x3b0f64['schema']['length'];_0x202966++){const _0x2bfb88=_0x3b0f64['schema'][_0x202966];if(_0x2bfb88['name']){if(_0x2bfb88['array']){_0x278ff9[_0x2bfb88['name']]=[];const _0x2a98b0=Array['isArray'](_0x248b8d[_0x2bfb88['name']])?_0x248b8d[_0x2bfb88['name']]:[];for(let _0x544b60=-0x1*0x221b+0xb+0x884*0x4;_0x544b60<_0x2a98b0['length'];_0x544b60++)_0x278ff9[_0x2bfb88['name']]['push'](Yn(_0x13b60d,_0x2bfb88,_0x2a98b0[_0x544b60]));}else{const _0xf46ea8=_0x248b8d['hasOwnProp'+'erty'](_0x2bfb88['name'])?_0x248b8d[_0x2bfb88['name']]:_0x2bfb88['default'];_0x278ff9[_0x2bfb88['name']]=Yn(_0x13b60d,_0x2bfb88,_0xf46ea8);}}}}return _0x278ff9;}case'asset':return _0x248b8d instanceof pe?_0x248b8d:typeof _0x248b8d=='number'?_0x13b60d['assets']['get'](_0x248b8d)||null:typeof _0x248b8d=='string'&&_0x13b60d['assets']['get'](parseInt(_0x248b8d,0x1147+0x1457+-0x2594))||null;case'entity':return _0x248b8d instanceof Ie?_0x248b8d:typeof _0x248b8d=='string'?_0x13b60d['getEntityF'+'romIndex'](_0x248b8d):null;case'rgb':case'rgba':if(_0x248b8d instanceof ie)return _0x119f83 instanceof ie?(_0x119f83['copy'](_0x248b8d),_0x119f83):_0x248b8d['clone']();if(_0x248b8d instanceof Array&&_0x248b8d['length']>=0x2546+-0x412+0x125*-0x1d&&_0x248b8d['length']<=-0x292*0xf+0x1b9+0x24d9){for(let _0xc61650=0x2b5*-0xb+0xa*0xe2+0x1*0x14f3;_0xc61650<_0x248b8d['length'];_0xc61650++)if(typeof _0x248b8d[_0xc61650]!='number')return null;return _0x119f83||(_0x119f83=new ie()),_0x119f83['r']=_0x248b8d[-0xd1*-0x26+-0x1094+-0xe72],_0x119f83['g']=_0x248b8d[-0x283*0xd+0x1*0x99e+-0x7ae*-0x3],_0x119f83['b']=_0x248b8d[-0x23d3+-0xcb9+0x16*0x235],_0x119f83['a']=_0x248b8d['length']===0x41d+-0x14e+-0x2cc?-0xbf*-0x8+-0x1073*-0x2+-0x26dd:_0x248b8d[0xc*-0xfc+0xc29+-0x56*0x1],_0x119f83;}else{if(typeof _0x248b8d=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x248b8d))return _0x119f83||(_0x119f83=new ie()),_0x119f83['fromString'](_0x248b8d),_0x119f83;}return null;case'vec2':case'vec3':case'vec4':{const _0x34a442=parseInt(_0x3b0f64['type']['slice'](-0x18f7+0x3f2*-0x1+0x1cec),0x1a30+0x95b*-0x3+0x1*0x1eb),_0x306901=bF[_0x34a442];if(_0x248b8d instanceof _0x306901)return _0x119f83 instanceof _0x306901?(_0x119f83['copy'](_0x248b8d),_0x119f83):_0x248b8d['clone']();if(_0x248b8d instanceof Array&&_0x248b8d['length']===_0x34a442){for(let _0x4a98fc=0x1*0x49+-0x5*-0x35+-0x2*0xa9;_0x4a98fc<_0x248b8d['length'];_0x4a98fc++)if(typeof _0x248b8d[_0x4a98fc]!='number')return null;_0x119f83||(_0x119f83=new _0x306901());for(let _0x24f258=-0x3c8+-0x111d+0x14e5*0x1;_0x24f258<_0x34a442;_0x24f258++)_0x119f83[EF[_0x24f258]]=_0x248b8d[_0x24f258];return _0x119f83;}return null;}case'curve':if(_0x248b8d){let _0x57759e;if(_0x248b8d instanceof qs||_0x248b8d instanceof na)_0x57759e=_0x248b8d['clone']();else{const _0x32352f=_0x248b8d['keys'][-0x23e3+0x2*-0x11a5+0x13*0x3bf]instanceof Array?na:qs;_0x57759e=new _0x32352f(_0x248b8d['keys']),_0x57759e['type']=_0x248b8d['type'];}return _0x57759e;}break;}return _0x248b8d;}function _0(_0xcc61ae,_0x347429,_0x17625f,_0x440c12){return _0x347429['array']?_0x17625f['map']((_0x260d17,_0x385bd0)=>Yn(_0xcc61ae,_0x347429,_0x260d17,_0x440c12?_0x440c12[_0x385bd0]:null)):Yn(_0xcc61ae,_0x347429,_0x17625f,_0x440c12);}function g0(_0x61b62f,_0x4e14d7,_0x1345b5,_0x18dcc2){if(_0x1345b5)for(const _0x16c6bb in _0x4e14d7){const _0x5560f1=_0x4e14d7[_0x16c6bb],_0x4578e3=_0x1345b5[_0x16c6bb];_0x4578e3!==void(0x10b5+-0x2600+0x154b)&&(_0x18dcc2[_0x16c6bb]=_0(_0x61b62f,_0x5560f1,_0x4578e3,_0x18dcc2[_0x16c6bb]));}}const yn=class yn{constructor(_0x21c580){this['scriptType']=_0x21c580,this['index']={};}['add'](_0x599325,_0x395c48){if(this['index'][_0x599325]){w['warn']('attribute\x20'+'\x27'+_0x599325+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(yn['reservedNa'+'mes']['has'](_0x599325)){w['warn']('attribute\x20'+'\x27'+_0x599325+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x599325]=_0x395c48,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x599325,{'get':function(){return this['__attribut'+'es'][_0x599325];},'set':function(_0x15f798){const _0x33af0d='attr',_0x20ceb6='attr:'+_0x599325,_0x343c2a=this['__attribut'+'es'][_0x599325];let _0x6c3f67=_0x343c2a;if(_0x343c2a&&_0x395c48['type']!=='json'&&_0x395c48['type']!=='entity'&&_0x343c2a['clone']&&(this['hasEvent'](_0x33af0d)||this['hasEvent'](_0x20ceb6))&&(_0x6c3f67=_0x343c2a['clone']()),_0x395c48['array']){if(this['__attribut'+'es'][_0x599325]=[],_0x15f798){for(let _0x57da4a=-0x3*-0x99e+0x5f*-0x41+-0x4bb,_0x1f1e44=_0x15f798['length'];_0x57da4a<_0x1f1e44;_0x57da4a++)this['__attribut'+'es'][_0x599325]['push'](Yn(this['app'],_0x395c48,_0x15f798[_0x57da4a],_0x343c2a?_0x343c2a[_0x57da4a]:null));}}else this['__attribut'+'es'][_0x599325]=Yn(this['app'],_0x395c48,_0x15f798,_0x343c2a);this['fire'](_0x33af0d,_0x599325,this['__attribut'+'es'][_0x599325],_0x6c3f67),this['fire'](_0x20ceb6,this['__attribut'+'es'][_0x599325],_0x6c3f67);}});}['remove'](_0x42ad4d){return this['index'][_0x42ad4d]?(delete this['index'][_0x42ad4d],delete this['scriptType']['prototype'][_0x42ad4d],!(0x15*-0x8+0x1*0x6d9+-0x631)):!(0x6d3*-0x2+0xa20+-0x81*-0x7);}['has'](_0x3a263c){return!!this['index'][_0x3a263c];}['get'](_0x3f7201){return this['index'][_0x3f7201]||null;}};h(yn,'assignAttr'+'ibutesToSc'+'ript',g0),h(yn,'attributeT'+'oValue',_0),h(yn,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Sl=yn;const Bu='initialize',zu='postInitia'+'lize',AF='update',CF='postUpdate',PF='swap';class ts extends me{constructor(_0x505f48){super(),h(this,'app'),h(this,'entity'),h(this,'_enabled'),h(this,'_enabledOl'+'d'),h(this,'_initializ'+'ed'),h(this,'_postIniti'+'alized'),h(this,'__destroye'+'d'),h(this,'__scriptTy'+'pe'),h(this,'__executio'+'nOrder'),this['initScript'](_0x505f48);}set['enabled'](_0x5ba509){this['_enabled']=!!_0x5ba509,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0xa7+-0x1645+-0x2*-0xacf),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,Bu)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(0x1d40+-0x2*-0xe53+-0x1*0x39e6),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,zu)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x3efe04){const _0x391a01=this['constructo'+'r'];w['assert'](_0x3efe04&&_0x3efe04['app']&&_0x3efe04['entity'],'script\x20['+_0x391a01['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x3efe04['app'],this['entity']=_0x3efe04['entity'],this['_enabled']=typeof _0x3efe04['enabled']=='boolean'?_0x3efe04['enabled']:!(0x1623+-0x2f1+-0x1332),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(0x7*-0x4db+-0x13d1+0xac3*0x5),this['__scriptTy'+'pe']=_0x391a01,this['__executio'+'nOrder']=-(-0x2696+-0xaa5+0x313c);}static get['scriptName'](){return this['__name'];}}h(ts,'EVENT_ENAB'+'LE','enable'),h(ts,'EVENT_DISA'+'BLE','disable'),h(ts,'EVENT_STAT'+'E','state'),h(ts,'EVENT_DEST'+'ROY','destroy'),h(ts,'EVENT_ATTR','attr'),h(ts,'EVENT_ERRO'+'R','error'),h(ts,'__name',null),h(ts,'__getScrip'+'tName',S0);const MF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function S0(_0x591bf3){if(typeof _0x591bf3!='function')return;if(_0x591bf3['scriptName'])return _0x591bf3['scriptName'];if('name'in Function['prototype'])return _0x591bf3['name'];if(_0x591bf3===Function||_0x591bf3===Function['prototype']['constructo'+'r'])return'Function';const _0x8809b1=(''+_0x591bf3)['match'](MF);return _0x8809b1?_0x8809b1[-0x13f3+0x5b*0x63+-0xf3d]:void(-0xb46+0x110b*0x2+-0x16d0);}class Wo extends ts{constructor(_0x5e27c8){super(_0x5e27c8),h(this,'__attribut'+'es'),h(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x5e27c8);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Sl(this)),this['__attribut'+'es'];}['initScript'](_0x42ee79){ts['prototype']['initScript']['call'](this,_0x42ee79),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x42ee79['attributes']||{};}['initScript'+'Type'](_0x1e69f1){this['initScript'](_0x1e69f1);}['__initiali'+'zeAttribut'+'es'](_0x311a92){if(!(!_0x311a92&&!this['__attribut'+'esRaw'])){for(const _0x1a4bcc in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x1a4bcc)?this[_0x1a4bcc]=this['__attribut'+'esRaw'][_0x1a4bcc]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x1a4bcc)||(this['__scriptTy'+'pe']['attributes']['index'][_0x1a4bcc]['hasOwnProp'+'erty']('default')?this[_0x1a4bcc]=this['__scriptTy'+'pe']['attributes']['index'][_0x1a4bcc]['default']:this[_0x1a4bcc]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x2b8d40){for(const _0x7e84e0 in _0x2b8d40)_0x2b8d40['hasOwnProp'+'erty'](_0x7e84e0)&&(this['prototype'][_0x7e84e0]=_0x2b8d40[_0x7e84e0]);}}const DF=_0x9019a4=>_0x9019a4[0xd*-0x2bb+-0x40*-0x31+0x173f]['toLowerCas'+'e']()+_0x9019a4['substring'](0x265e+-0xb+-0x2652);class Ii extends we{constructor(_0x11d0d2,_0x4e5bad){super(_0x11d0d2,_0x4e5bad),h(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new oh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new oh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(-0x1e7e+-0x1bd1+0x3a50),this['_scriptsDa'+'ta']=null,this['_oldState']=!(0x139*-0x9+-0x924+0xbf*0x1b),this['_enabled']=!(0x14f1+0x1780+-0x2c71),this['_beingEnab'+'led']=!(0xa9b+-0x4*-0x7fd+0x2*-0x1547),this['_isLooping'+'ThroughScr'+'ipts']=!(0x7*0x42c+0x1bd1+0xa4*-0x59),this['_execution'+'Order']=-(0x1e83+-0x150b+0x1*-0x977),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x3c0de1){this['_scriptsDa'+'ta']=_0x3c0de1;for(const _0x565f05 in _0x3c0de1){if(!_0x3c0de1['hasOwnProp'+'erty'](_0x565f05))continue;const _0x4dd5c5=this['_scriptsIn'+'dex'][_0x565f05];if(_0x4dd5c5){if(typeof _0x3c0de1[_0x565f05]['enabled']=='boolean'&&(_0x4dd5c5['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x4dd5c5);}),_0x4dd5c5['enabled']=!!_0x3c0de1[_0x565f05]['enabled']),typeof _0x3c0de1[_0x565f05]['attributes']=='object'){for(const _0x131ca2 in _0x3c0de1[_0x565f05]['attributes'])if(!Sl['reservedNa'+'mes']['has'](_0x131ca2)){if(!_0x4dd5c5['__attribut'+'es']['hasOwnProp'+'erty'](_0x131ca2)){const _0x422d48=this['system']['app']['scripts']['get'](_0x565f05);_0x422d48&&_0x422d48['attributes']['add'](_0x131ca2,{});}_0x4dd5c5[_0x131ca2]=_0x3c0de1[_0x565f05]['attributes'][_0x131ca2];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x3fbe74){const _0x236ce8=this['_enabled'];this['_enabled']=_0x3fbe74,this['fire']('set','enabled',_0x236ce8,_0x3fbe74);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(0x221*-0x9+-0x248+0x1571),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(-0xa1*0xb+0x1254+0x1*-0xb68);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x23c19f=this['_beginLoop'+'ing']();for(let _0x4ec2cb=0x1*0x1083+0xc7a+-0x1cfd*0x1,_0x20fbd3=this['scripts']['length'];_0x4ec2cb<_0x20fbd3;_0x4ec2cb++){const _0x5e60dd=this['scripts'][_0x4ec2cb];_0x5e60dd['_initializ'+'ed']&&!_0x5e60dd['_postIniti'+'alized']&&_0x5e60dd['enabled']&&(_0x5e60dd['_postIniti'+'alized']=!(-0x7*-0x2c9+-0x350*0xb+0x10f1*0x1),_0x5e60dd['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x5e60dd,zu));}this['_endLoopin'+'g'](_0x23c19f);}['_beginLoop'+'ing'](){const _0x3a2c57=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(0x137d*0x1+0x9e9*-0x1+-0x994),_0x3a2c57;}['_endLoopin'+'g'](_0xb14934){this['_isLooping'+'ThroughScr'+'ipts']=_0xb14934,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x5be5fd,_0x55037a,_0x530000){this['_beingEnab'+'led']=!(-0x259a+-0x6f0+0x2c8a),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(-0xaad+-0x1617+0x1*0x20c5);}['_checkStat'+'e'](){const _0x9abf84=this['enabled']&&this['entity']['enabled'];if(_0x9abf84===this['_oldState'])return;this['_oldState']=_0x9abf84,this['fire'](_0x9abf84?'enable':'disable'),this['fire']('state',_0x9abf84),_0x9abf84?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x57ffed=this['_beginLoop'+'ing']();for(let _0x2e91c6=-0x1e33*-0x1+0x153*-0x1b+0x58e,_0x4286ea=this['scripts']['length'];_0x2e91c6<_0x4286ea;_0x2e91c6++){const _0x4024de=this['scripts'][_0x2e91c6];_0x4024de['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x4024de);}),_0x4024de['enabled']=_0x4024de['_enabled'];}this['_endLoopin'+'g'](_0x57ffed);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x10e5a5=this['_beginLoop'+'ing']();for(let _0x57d72a=-0x8b8+0x3*-0xcf1+0x2f8b;_0x57d72a<this['scripts']['length'];_0x57d72a++){const _0x494011=this['scripts'][_0x57d72a];_0x494011&&this['destroy'](_0x494011['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x10e5a5);}['_removeDes'+'troyedScri'+'pts'](){const _0x34eaa2=this['_destroyed'+'Scripts']['length'];if(_0x34eaa2){for(let _0x3a978b=-0x1399+0x1f3+0x11a6;_0x3a978b<_0x34eaa2;_0x3a978b++){const _0x1447ce=this['_destroyed'+'Scripts'][_0x3a978b];this['_removeScr'+'iptInstanc'+'e'](_0x1447ce);}this['_destroyed'+'Scripts']['length']=0xb6*-0x16+0x1*-0x14d4+0x2478,this['_resetExec'+'utionOrder'](-0x16ec+-0x1514+0x1*0x2c00,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x2483a6=0x31f+-0x1ed4+0x1bb5,_0x5f2b68=this['scripts']['length'];_0x2483a6<_0x5f2b68;_0x2483a6++){const _0x3f3d0d=this['scripts'][_0x2483a6];this['initialize'+'Attributes'](_0x3f3d0d);}}['initialize'+'Attributes'](_0x152cc8){var _0x5032c6;if(_0x152cc8 instanceof Wo)_0x152cc8['__initiali'+'zeAttribut'+'es']();else{const _0x4c5fa3=_0x152cc8['__scriptTy'+'pe']['__name'],_0x26bf40=this['_attribute'+'DataMap']['get'](_0x4c5fa3);if(!_0x26bf40)return;const _0x153de7=(_0x5032c6=this['system']['app']['scripts'])==null?void(0x1641+0x1ad3+0x82e*-0x6):_0x5032c6['getSchema'](_0x4c5fa3);_0x153de7||w['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x4c5fa3+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),g0(this['system']['app'],_0x153de7['attributes'],_0x26bf40,_0x152cc8);}}['_scriptMet'+'hod'](_0x5b07a0,_0x43f748,_0x447a02){try{_0x5b07a0[_0x43f748](_0x447a02);}catch(_0x371a4b){_0x5b07a0['enabled']=!(0x2643*-0x1+0x1*0x389+0x22bb),_0x5b07a0['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x43f748+'\x22\x20for\x20\x22'+_0x5b07a0['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x371a4b),console['error'](_0x371a4b)),_0x5b07a0['fire']('error',_0x371a4b,_0x43f748),this['fire']('error',_0x5b07a0,_0x371a4b,_0x43f748);}}['_onInitial'+'ize'](){const _0x7fb302=this['_scripts'],_0x4df346=this['_beginLoop'+'ing']();for(let _0x412714=0x1*-0xca1+-0xa67*0x1+-0x43*-0x58,_0x4d4eef=_0x7fb302['length'];_0x412714<_0x4d4eef;_0x412714++){const _0x4390a4=_0x7fb302[_0x412714];!_0x4390a4['_initializ'+'ed']&&_0x4390a4['enabled']&&(_0x4390a4['_initializ'+'ed']=!(-0x1*-0x12b5+0x1d9+-0x148e*0x1),_0x4390a4['initialize']&&this['_scriptMet'+'hod'](_0x4390a4,Bu));}this['_endLoopin'+'g'](_0x4df346);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x522dce){const _0x7bab09=this['_updateLis'+'t'];if(!_0x7bab09['length'])return;const _0x455df4=this['_beginLoop'+'ing']();for(_0x7bab09['loopIndex']=0xb29*0x2+0xe10+-0x2462;_0x7bab09['loopIndex']<_0x7bab09['length'];_0x7bab09['loopIndex']++){const _0xce7315=_0x7bab09['items'][_0x7bab09['loopIndex']];_0xce7315['enabled']&&this['_scriptMet'+'hod'](_0xce7315,AF,_0x522dce);}this['_endLoopin'+'g'](_0x455df4);}['_onPostUpd'+'ate'](_0x5ed3b8){const _0xc1151c=this['_postUpdat'+'eList'];if(!_0xc1151c['length'])return;const _0x20071d=this['_beginLoop'+'ing']();for(_0xc1151c['loopIndex']=0xc36*0x2+0x8d0+-0x213c;_0xc1151c['loopIndex']<_0xc1151c['length'];_0xc1151c['loopIndex']++){const _0x30beb8=_0xc1151c['items'][_0xc1151c['loopIndex']];_0x30beb8['enabled']&&this['_scriptMet'+'hod'](_0x30beb8,CF,_0x5ed3b8);}this['_endLoopin'+'g'](_0x20071d);}['_insertScr'+'iptInstanc'+'e'](_0x434627,_0x202d61,_0x78540c){_0x202d61===-(0x1a8a+-0xea0+0x1*-0xbe9)?(this['_scripts']['push'](_0x434627),_0x434627['__executio'+'nOrder']=_0x78540c,_0x434627['update']&&this['_updateLis'+'t']['append'](_0x434627),_0x434627['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x434627)):(this['_scripts']['splice'](_0x202d61,-0x1*-0x17c5+-0x47*0x79+0x9ca,_0x434627),_0x434627['__executio'+'nOrder']=_0x202d61,this['_resetExec'+'utionOrder'](_0x202d61+(-0x10a6*0x2+0x3f3+0x1d5a),_0x78540c+(0x10ad+0x1ffb+-0x30a7)),_0x434627['update']&&this['_updateLis'+'t']['insert'](_0x434627),_0x434627['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x434627));}['_removeScr'+'iptInstanc'+'e'](_0x32805b){const _0x3ae280=this['_scripts']['indexOf'](_0x32805b);return _0x3ae280===-(0x6b9*0x5+0x2134+-0x42d0)||(this['_scripts']['splice'](_0x3ae280,0xded+0xbfd+-0x19e9),_0x32805b['update']&&this['_updateLis'+'t']['remove'](_0x32805b),_0x32805b['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x32805b)),_0x3ae280;}['_resetExec'+'utionOrder'](_0x358ddc,_0x2f12bf){for(let _0x3e11d6=_0x358ddc;_0x3e11d6<_0x2f12bf;_0x3e11d6++)this['_scripts'][_0x3e11d6]['__executio'+'nOrder']=_0x3e11d6;}['_resolveEn'+'tityScript'+'Attribute'](_0x48b02e,_0x20b1cf,_0x5b8834,_0x231a39,_0x4798b5,_0x1415ff){if(_0x48b02e['array']){const _0x819892=_0x5b8834['length'];if(!_0x819892)return;const _0x181dbe=_0x5b8834['slice']();for(let _0x5b674e=0x239e+-0x2291+-0x10d;_0x5b674e<_0x819892;_0x5b674e++){const _0x1de728=_0x181dbe[_0x5b674e]instanceof lt?_0x181dbe[_0x5b674e]['getGuid']():_0x181dbe[_0x5b674e];_0x1415ff[_0x1de728]&&(_0x181dbe[_0x5b674e]=_0x231a39?_0x1415ff[_0x1de728]['getGuid']():_0x1415ff[_0x1de728]);}_0x4798b5[_0x20b1cf]=_0x181dbe;}else{if(_0x5b8834 instanceof lt)_0x5b8834=_0x5b8834['getGuid']();else{if(typeof _0x5b8834!='string')return;}_0x1415ff[_0x5b8834]&&(_0x4798b5[_0x20b1cf]=_0x1415ff[_0x5b8834]);}}['has'](_0x499cac){if(typeof _0x499cac=='string')return!!this['_scriptsIn'+'dex'][_0x499cac];if(!_0x499cac)return!(-0x980+0x101+0x880);const _0x1eb552=_0x499cac,_0x1c06f6=_0x1eb552['__name'],_0x2d8111=this['_scriptsIn'+'dex'][_0x1c06f6];return(_0x2d8111&&_0x2d8111['instance'])instanceof _0x1eb552;}['get'](_0x53248d){if(typeof _0x53248d=='string'){const _0x3f16bb=this['_scriptsIn'+'dex'][_0x53248d];return _0x3f16bb?_0x3f16bb['instance']:null;}if(!_0x53248d)return null;const _0xc8e2e6=_0x53248d,_0x480f33=_0xc8e2e6['__name'],_0x34afe7=this['_scriptsIn'+'dex'][_0x480f33],_0x4ea9cf=_0x34afe7&&_0x34afe7['instance'];return _0x4ea9cf instanceof _0xc8e2e6?_0x4ea9cf:null;}['create'](_0x4b9c1d,_0x119fda={}){const _0x4004ed=this;let _0x2b3fcc=_0x4b9c1d,_0x1e9b28=_0x4b9c1d;if(typeof _0x2b3fcc=='string')_0x2b3fcc=this['system']['app']['scripts']['get'](_0x2b3fcc);else{if(_0x2b3fcc){const _0x5a9cb5=S0(_0x2b3fcc),_0x4c96fe=DF(_0x5a9cb5);!(_0x2b3fcc['prototype']instanceof Wo)&&!_0x2b3fcc['scriptName']&&w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x5a9cb5+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x5a9cb5+('.scriptNam'+'e\x20=\x20\x22')+_0x4c96fe+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.')),_0x2b3fcc['__name']??(_0x2b3fcc['__name']=_0x2b3fcc['scriptName']??_0x4c96fe),_0x1e9b28=_0x2b3fcc['__name'];}}if(_0x2b3fcc){if(!this['_scriptsIn'+'dex'][_0x1e9b28]||!this['_scriptsIn'+'dex'][_0x1e9b28]['instance']){const _0x3f7dd7=new _0x2b3fcc({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x119fda['hasOwnProp'+'erty']('enabled')?_0x119fda['enabled']:!(-0xb*-0x1b7+0x2282+-0x355f),'attributes':_0x119fda['attributes']||{}});_0x119fda['properties']&&typeof _0x119fda['properties']=='object'&&Object['assign'](_0x3f7dd7,_0x119fda['properties']),_0x3f7dd7 instanceof Wo||this['_attribute'+'DataMap']['set'](_0x1e9b28,_0x119fda['attributes']);const _0x524494=this['_scripts']['length'];let _0x5ee49b=-(0x647*0x5+-0xd*-0x2a1+0xd*-0x50b);return typeof _0x119fda['ind']=='number'&&_0x119fda['ind']!==-(0x1f83+0x1*-0x14b1+-0xad1)&&_0x524494>_0x119fda['ind']&&(_0x5ee49b=_0x119fda['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x3f7dd7,_0x5ee49b,_0x524494),this['_scriptsIn'+'dex'][_0x1e9b28]={'instance':_0x3f7dd7,'onSwap':function(){_0x4004ed['swap'](_0x1e9b28);}},this[_0x1e9b28]=_0x3f7dd7,_0x119fda['preloading']||this['initialize'+'Attributes'](_0x3f7dd7),this['fire']('create',_0x1e9b28,_0x3f7dd7),this['fire']('create:'+_0x1e9b28,_0x3f7dd7),this['system']['app']['scripts']['on']('swap:'+_0x1e9b28,this['_scriptsIn'+'dex'][_0x1e9b28]['onSwap']),_0x119fda['preloading']||(_0x3f7dd7['enabled']&&!_0x3f7dd7['_initializ'+'ed']&&(_0x3f7dd7['_initializ'+'ed']=!(0x1*0x1cca+0x1*-0x1d66+0x9c),_0x3f7dd7['initialize']&&this['_scriptMet'+'hod'](_0x3f7dd7,Bu)),_0x3f7dd7['enabled']&&!_0x3f7dd7['_postIniti'+'alized']&&(_0x3f7dd7['_postIniti'+'alized']=!(0x2228+-0xaa+-0x217e),_0x3f7dd7['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x3f7dd7,zu))),_0x3f7dd7;}w['warn']('script\x20\x27'+_0x1e9b28+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0x1e9b28]={'awaiting':!(-0x4f4*-0x1+0xaac+-0xfa0),'ind':this['_scripts']['length']},w['warn']('script\x20\x27'+_0x1e9b28+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x34d311){let _0x3cb2bd=_0x34d311,_0x2d58fa=_0x34d311;typeof _0x2d58fa=='string'?_0x2d58fa=this['system']['app']['scripts']['get'](_0x2d58fa):_0x2d58fa&&(_0x3cb2bd=_0x2d58fa['__name']);const _0x2acdf4=this['_scriptsIn'+'dex'][_0x3cb2bd];if(delete this['_scriptsIn'+'dex'][_0x3cb2bd],!_0x2acdf4)return!(0x3c*-0x15+-0x2443+0x2930);this['_attribute'+'DataMap']['delete'](_0x3cb2bd);const _0x1af22c=_0x2acdf4['instance'];if(_0x1af22c&&!_0x1af22c['_destroyed']){if(_0x1af22c['enabled']=!(-0x41c+-0x207b+-0x8*-0x493),_0x1af22c['_destroyed']=!(-0x193c+0x6c*-0x27+0x29b0),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x1af22c);else{const _0x30677d=this['_removeScr'+'iptInstanc'+'e'](_0x1af22c);_0x30677d>=-0x3d3+-0x116*0x17+0x1ccd&&this['_resetExec'+'utionOrder'](_0x30677d,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x3cb2bd,_0x2acdf4['onSwap']),delete this[_0x3cb2bd],this['fire']('destroy',_0x3cb2bd,_0x1af22c||null),this['fire']('destroy:'+_0x3cb2bd,_0x1af22c||null),_0x1af22c&&_0x1af22c['fire']('destroy'),!(-0x2*-0xc63+-0x2be*0xc+-0x15b*-0x6);}['swap'](_0x3a0528){let _0x4d5c8f=_0x3a0528,_0x4e3cca=_0x3a0528;typeof _0x4e3cca=='string'?_0x4e3cca=this['system']['app']['scripts']['get'](_0x4e3cca):_0x4e3cca&&(_0x4d5c8f=_0x4e3cca['__name']);const _0x1c3c87=this['_scriptsIn'+'dex'][_0x4d5c8f];if(!_0x1c3c87||!_0x1c3c87['instance'])return!(-0x13be+-0x1*-0x6f+-0x30*-0x67);const _0x375ed6=_0x1c3c87['instance'],_0x2e607e=this['_scripts']['indexOf'](_0x375ed6),_0x15b9bf=new _0x4e3cca({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x375ed6['enabled'],'attributes':_0x375ed6['__attribut'+'es']});return _0x15b9bf['swap']?(this['initialize'+'Attributes'](_0x15b9bf),this['_scripts'][_0x2e607e]=_0x15b9bf,this['_scriptsIn'+'dex'][_0x4d5c8f]['instance']=_0x15b9bf,this[_0x4d5c8f]=_0x15b9bf,_0x15b9bf['__executio'+'nOrder']=_0x2e607e,_0x375ed6['update']&&this['_updateLis'+'t']['remove'](_0x375ed6),_0x375ed6['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x375ed6),_0x15b9bf['update']&&this['_updateLis'+'t']['insert'](_0x15b9bf),_0x15b9bf['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x15b9bf),this['_scriptMet'+'hod'](_0x15b9bf,PF,_0x375ed6),this['fire']('swap',_0x4d5c8f,_0x15b9bf),this['fire']('swap:'+_0x4d5c8f,_0x15b9bf),!(0x5d5*-0x5+0x117e+0xbab)):!(0x1*-0x2618+0x53*-0x71+0x4abc);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x5c9bf1,_0x4c7b94){var _0x6df474,_0x1d5d23,_0x56e653;const _0x179b61=this['entity']['script'];for(const _0x24bef3 in _0x5c9bf1['_scriptsIn'+'dex']){const _0x5c9604=this['system']['app']['scripts']['get'](_0x24bef3);if(!_0x5c9604)continue;const _0x215841=_0x5c9bf1['_scriptsIn'+'dex'][_0x24bef3];if(!_0x215841||!_0x215841['instance'])continue;const _0x23c21f=_0x179b61[_0x24bef3]['__attribut'+'esRaw']??_0x179b61['_attribute'+'DataMap']['get'](_0x24bef3),_0x13a2b8=_0x179b61[_0x24bef3]['__attribut'+'es'];if(!_0x23c21f&&!_0x13a2b8)continue;const _0x429a3e=!!_0x23c21f,_0x28ef49=_0x215841['instance']['__attribut'+'es']??_0x179b61['_attribute'+'DataMap']['get'](_0x24bef3);for(const _0x521c73 in _0x28ef49){if(!_0x28ef49[_0x521c73])continue;const _0x203b54=((_0x6df474=_0x5c9604['attributes'])==null?void(0x6b0+0xabe+-0x116e):_0x6df474['get'](_0x521c73))??((_0x56e653=(_0x1d5d23=this['system']['app']['scripts']['getSchema'](_0x24bef3))==null?void(-0xf45*-0x1+-0x1dd4+0xe8f):_0x1d5d23['attributes'])==null?void(0xff3+0x1cee+0x1*-0x2ce1):_0x56e653[_0x521c73]);if(_0x203b54){if(_0x203b54['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x203b54,_0x521c73,_0x28ef49[_0x521c73],_0x429a3e,_0x23c21f||_0x13a2b8,_0x4c7b94);else{if(_0x203b54['type']==='json'&&Array['isArray'](_0x203b54['schema'])){const _0x3301a8=_0x28ef49[_0x521c73],_0x4efee9=_0x23c21f?_0x23c21f[_0x521c73]:_0x13a2b8[_0x521c73];for(let _0x3c7d9c=-0x1de7+0x3a2+-0x10d*-0x19;_0x3c7d9c<_0x203b54['schema']['length'];_0x3c7d9c++){const _0x3ae224=_0x203b54['schema'][_0x3c7d9c];if(_0x3ae224['type']==='entity'){if(_0x203b54['array']){for(let _0x6a243e=0x2*-0xebb+0x2603+-0x88d;_0x6a243e<_0x3301a8['length'];_0x6a243e++)this['_resolveEn'+'tityScript'+'Attribute'](_0x3ae224,_0x3ae224['name'],_0x3301a8[_0x6a243e][_0x3ae224['name']],_0x429a3e,_0x4efee9[_0x6a243e],_0x4c7b94);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x3ae224,_0x3ae224['name'],_0x3301a8[_0x3ae224['name']],_0x429a3e,_0x4efee9,_0x4c7b94);}}}}}}}}['move'](_0x3d449b,_0x201bfe){const _0x19e240=this['_scripts']['length'];if(_0x201bfe>=_0x19e240||_0x201bfe<-0x1537+-0x18c3*-0x1+-0xe3*0x4)return!(0x93b*0x2+-0x391+0xee4*-0x1);let _0x150f42=_0x3d449b,_0x512905=_0x3d449b;typeof _0x512905!='string'?_0x512905=_0x3d449b['__name']:_0x150f42=null;const _0xb7ca27=this['_scriptsIn'+'dex'][_0x512905];if(!_0xb7ca27||!_0xb7ca27['instance'])return!(-0x266a+-0x8bd*-0x1+0x1dae);const _0x10117d=_0xb7ca27['instance'];if(_0x150f42&&!(_0x10117d instanceof _0x150f42))return!(0x1902+0x24cb+-0xc5c*0x5);const _0x728e03=this['_scripts']['indexOf'](_0x10117d);return _0x728e03===-(0x109*0x19+0x56b*0x5+0x5b*-0x95)||_0x728e03===_0x201bfe?!(0x1282*0x2+0x1*-0x1936+-0xbcd):(this['_scripts']['splice'](_0x201bfe,0x1a*-0xfb+0x25*-0x65+0x2817,this['_scripts']['splice'](_0x728e03,0xe40+0x16ac+-0x24eb)[-0x3a5*0x1+-0xc89*0x2+-0x1cb7*-0x1]),this['_resetExec'+'utionOrder'](0x25c2+-0x182a+0x5*-0x2b8,_0x19e240),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x512905,_0x10117d,_0x201bfe,_0x728e03),this['fire']('move:'+_0x512905,_0x10117d,_0x201bfe,_0x728e03),!(0x986*0x2+-0xc41+-0x6cb));}}h(Ii,'EVENT_CREA'+'TE','create'),h(Ii,'EVENT_DEST'+'ROY','destroy'),h(Ii,'EVENT_ENAB'+'LE','enable'),h(Ii,'EVENT_DISA'+'BLE','disable'),h(Ii,'EVENT_REMO'+'VE','remove'),h(Ii,'EVENT_STAT'+'E','state'),h(Ii,'EVENT_MOVE','move'),h(Ii,'EVENT_ERRO'+'R','error');class IF{constructor(){this['enabled']=!(-0x21f2+-0xdb*-0xa+-0x1*-0x1964);}}const LF='_onInitial'+'izeAttribu'+'tes',RF='_onInitial'+'ize',OF='_onPostIni'+'tialize',FF='_onUpdate',NF='_onPostUpd'+'ate';let Mc=-0x129+0x12d9*-0x1+0x1402;class kF extends ct{constructor(_0x247628){super(_0x247628),this['id']='script',this['ComponentT'+'ype']=Ii,this['DataType']=IF,this['_component'+'s']=new oh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new oh({'sortBy':'_execution'+'Order'}),this['preloading']=!(-0xb04+0x2604+-0x1b00),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x434199,_0x349df2){if(_0x434199['_execution'+'Order']=Mc++,this['_component'+'s']['append'](_0x434199),Mc>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x434199['enabled']=_0x349df2['hasOwnProp'+'erty']('enabled')?!!_0x349df2['enabled']:!(-0x453+-0x1254+0x16a7),_0x434199['enabled']&&_0x434199['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x434199),_0x349df2['hasOwnProp'+'erty']('order')&&_0x349df2['hasOwnProp'+'erty']('scripts')){_0x434199['_scriptsDa'+'ta']=_0x349df2['scripts'];for(let _0x4b83d7=0x4*0x4c2+-0x11*-0x91+-0x1ca9;_0x4b83d7<_0x349df2['order']['length'];_0x4b83d7++)_0x434199['create'](_0x349df2['order'][_0x4b83d7],{'enabled':_0x349df2['scripts'][_0x349df2['order'][_0x4b83d7]]['enabled'],'attributes':_0x349df2['scripts'][_0x349df2['order'][_0x4b83d7]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x29d269,_0x44d70e){var _0xff837b;const _0x3bb646=[],_0x3a0f11={};for(let _0x3536e6=-0xdf*-0xa+-0x22bf+0x1a09;_0x3536e6<_0x29d269['script']['_scripts']['length'];_0x3536e6++){const _0x2ea9e8=_0x29d269['script']['_scripts'][_0x3536e6],_0x3b10bd=_0x2ea9e8['__scriptTy'+'pe']['__name'];_0x3bb646['push'](_0x3b10bd);const _0x27cf35=((_0xff837b=_0x29d269['script']['_attribute'+'DataMap'])==null?void(-0x23d0+-0x9bc+0x2d8c):_0xff837b['get'](_0x3b10bd))||{};for(const _0xdb2d64 in _0x2ea9e8['__attribut'+'es'])_0x27cf35[_0xdb2d64]=_0x2ea9e8['__attribut'+'es'][_0xdb2d64];_0x3a0f11[_0x3b10bd]={'enabled':_0x2ea9e8['_enabled'],'attributes':_0x27cf35};}for(const _0xf1d668 in _0x29d269['script']['_scriptsIn'+'dex'])_0xf1d668['awaiting']&&_0x3bb646['splice'](_0xf1d668['ind'],0x2404+0x1a99+0x75*-0x89,_0xf1d668);const _0x4cf659={'enabled':_0x29d269['script']['enabled'],'order':_0x3bb646,'scripts':_0x3a0f11};return this['addCompone'+'nt'](_0x44d70e,_0x4cf659);}['_resetExec'+'utionOrder'](){Mc=-0x4*-0x7cc+0xca2+0x2*-0x15e9;for(let _0x4dafc9=-0xa57*0x1+-0x15*0x8f+0x235*0xa,_0x55dbb1=this['_component'+'s']['length'];_0x4dafc9<_0x55dbb1;_0x4dafc9++)this['_component'+'s']['items'][_0x4dafc9]['_execution'+'Order']=Mc++;}['_callCompo'+'nentMethod'](_0x1563f0,_0x167e51,_0x2da38a){for(_0x1563f0['loopIndex']=-0x1*0x88e+-0x1169*-0x1+0x1*-0x8db;_0x1563f0['loopIndex']<_0x1563f0['length'];_0x1563f0['loopIndex']++)_0x1563f0['items'][_0x1563f0['loopIndex']][_0x167e51](_0x2da38a);}['_onInitial'+'ize'](){this['preloading']=!(0x11ce+0x1c99+-0x1*0x2e66),this['_callCompo'+'nentMethod'](this['_component'+'s'],LF),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],RF);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],OF);}['_onUpdate'](_0x489364){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],FF,_0x489364);}['_onPostUpd'+'ate'](_0x52fcc8){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],NF,_0x52fcc8);}['_addCompon'+'entToEnabl'+'ed'](_0x21df59){this['_enabledCo'+'mponents']['insert'](_0x21df59);}['_removeCom'+'ponentFrom'+'Enabled'](_0x4e6d8a){this['_enabledCo'+'mponents']['remove'](_0x4e6d8a);}['_onBeforeR'+'emove'](_0x3afa65,_0x5d9362){this['_component'+'s']['items']['indexOf'](_0x5d9362)>=0xb89*-0x2+0xd24*0x2+-0x336&&_0x5d9362['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x5d9362),this['_component'+'s']['remove'](_0x5d9362);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class y0 extends we{constructor(_0x56f405,_0x28fb60){super(_0x56f405,_0x28fb60),h(this,'_layers',[er]),h(this,'_instance',null),h(this,'_materialT'+'mp',null),h(this,'_highQuali'+'tySH',!(-0x24a8+-0x1354+-0x1bfe*-0x2)),h(this,'_customAab'+'b',null),h(this,'_assetRefe'+'rence'),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_castShado'+'ws',!(-0x47d*0x2+-0xc6b+0x1566)),(this['_assetRefe'+'rence']=new gl('asset',this,_0x56f405['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x28fb60['on']('remove',this['onRemoveCh'+'ild'],this),_0x28fb60['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x28fb60['on']('insert',this['onInsertCh'+'ild'],this),_0x28fb60['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x37c14e){var _0x30bf90,_0x1d0b9a;this['_customAab'+'b']=_0x37c14e,(_0x1d0b9a=(_0x30bf90=this['_instance'])==null?void(0x2378+-0x2*-0x123c+-0x47f0):_0x30bf90['meshInstan'+'ce'])==null||_0x1d0b9a['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x3ca2f1){if(this['destroyIns'+'tance'](),this['_instance']=_0x3ca2f1,this['_instance']){const _0x16b228=this['_instance']['meshInstan'+'ce'];_0x16b228['node']||(_0x16b228['node']=this['entity']),_0x16b228['castShadow']=this['_castShado'+'ws'],_0x16b228['setCustomA'+'abb'](this['_customAab'+'b']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['material'](_0xc004fd){this['_instance']?this['_instance']['material']=_0xc004fd:this['_materialT'+'mp']=_0xc004fd;}get['material'](){var _0x1402d2;return((_0x1402d2=this['_instance'])==null?void(0x1820+0x25c4*-0x1+0xda4):_0x1402d2['material'])??this['_materialT'+'mp']??null;}set['highQualit'+'ySH'](_0x2eaf88){_0x2eaf88!==this['_highQuali'+'tySH']&&(this['_highQuali'+'tySH']=_0x2eaf88,this['_instance']&&this['_instance']['setHighQua'+'litySH'](_0x2eaf88));}get['highQualit'+'ySH'](){return this['_highQuali'+'tySH'];}set['castShadow'+'s'](_0x421995){var _0x36b9d7;if(this['_castShado'+'ws']!==_0x421995){const _0x467b85=(_0x36b9d7=this['instance'])==null?void(-0x13bd+-0x1*-0xf3f+0x47e):_0x36b9d7['meshInstan'+'ce'];if(_0x467b85){const _0x1aac7c=this['layers'],_0x474ab5=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x421995)for(let _0x547a62=0x2c2*0x8+0x21d+0x3*-0x80f;_0x547a62<_0x1aac7c['length'];_0x547a62++){const _0x523c37=_0x474ab5['layers']['getLayerBy'+'Id'](this['layers'][_0x547a62]);_0x523c37&&_0x523c37['removeShad'+'owCasters']([_0x467b85]);}if(_0x467b85['castShadow']=_0x421995,!this['_castShado'+'ws']&&_0x421995)for(let _0x3cd0ca=-0x1095*-0x1+0x167a+-0x270f;_0x3cd0ca<_0x1aac7c['length'];_0x3cd0ca++){const _0x4f854d=_0x474ab5['layers']['getLayerBy'+'Id'](_0x1aac7c[_0x3cd0ca]);_0x4f854d&&_0x4f854d['addShadowC'+'asters']([_0x467b85]);}}this['_castShado'+'ws']=_0x421995;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['layers'](_0xf03c3){this['removeFrom'+'Layers'](),this['_layers']['length']=-0x1f*-0x86+-0x9*-0x206+-0x2270;for(let _0xdd4f7b=0x2f1*0xb+0x61a*0x1+-0x1*0x2675;_0xdd4f7b<_0xf03c3['length'];_0xdd4f7b++)this['_layers'][_0xdd4f7b]=_0xf03c3[_0xdd4f7b];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0xdcebb9){const _0x2d8466=_0xdcebb9 instanceof pe?_0xdcebb9['id']:_0xdcebb9;this['_assetRefe'+'rence']['id']!==_0x2d8466&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x2d8466,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['destroyIns'+'tance'](){var _0x4dd3eb;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x4dd3eb=this['_instance'])==null||_0x4dd3eb['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x4ed484,_0x25dda4;const _0x3e2eec=(_0x4ed484=this['instance'])==null?void(0x12c3*0x2+-0x17ce+0xdb8*-0x1):_0x4ed484['meshInstan'+'ce'];if(_0x3e2eec){const _0x16322a=this['system']['app']['scene']['layers'];for(let _0x429dc4=0x24cf+-0x7dd+0x5f*-0x4e;_0x429dc4<this['_layers']['length'];_0x429dc4++)(_0x25dda4=_0x16322a['getLayerBy'+'Id'](this['_layers'][_0x429dc4]))==null||_0x25dda4['addMeshIns'+'tances']([_0x3e2eec]);}}['removeFrom'+'Layers'](){var _0x42ca17,_0x33dcdd;const _0x58da7b=(_0x42ca17=this['instance'])==null?void(-0x1*-0xf1d+0xec0*0x1+0xb*-0x2b7):_0x42ca17['meshInstan'+'ce'];if(_0x58da7b){const _0x394f75=this['system']['app']['scene']['layers'];for(let _0x5aec45=-0x7c1*0x3+0x3*0xc9e+0xf*-0xf9;_0x5aec45<this['_layers']['length'];_0x5aec45++)(_0x33dcdd=_0x394f75['getLayerBy'+'Id'](this['_layers'][_0x5aec45]))==null||_0x33dcdd['removeMesh'+'Instances']([_0x58da7b]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x31c3f5,_0x4f2dc4){this['addToLayer'+'s'](),_0x31c3f5['off']('add',this['onLayerAdd'+'ed'],this),_0x31c3f5['off']('remove',this['onLayerRem'+'oved'],this),_0x4f2dc4['on']('add',this['onLayerAdd'+'ed'],this),_0x4f2dc4['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x4ef02d){this['layers']['indexOf'](_0x4ef02d['id'])<0x25c6+-0x262e+0x68||this['_instance']&&_0x4ef02d['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x419289){this['layers']['indexOf'](_0x419289['id'])<-0x926*0x3+0x34*-0x49+-0x305*-0xe||this['_instance']&&_0x419289['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x127aad=this['system']['app']['scene'],_0x4c3e9b=_0x127aad['layers'];this['_evtLayers'+'Changed']=_0x127aad['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4c3e9b&&(this['_evtLayerA'+'dded']=_0x4c3e9b['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4c3e9b['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x43f79d,_0x54d031,_0x3b62b0;const _0x4c2cc9=this['system']['app']['scene']['layers'];(_0x43f79d=this['_evtLayers'+'Changed'])==null||_0x43f79d['off'](),this['_evtLayers'+'Changed']=null,_0x4c2cc9&&((_0x54d031=this['_evtLayerA'+'dded'])==null||_0x54d031['off'](),this['_evtLayerA'+'dded']=null,(_0x3b62b0=this['_evtLayerR'+'emoved'])==null||_0x3b62b0['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0x2*-0x34d+-0x90f+0x276));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x24ab+0xbc6*0x3+0x17ff*-0x3));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x1830ea=this['_assetRefe'+'rence']['asset'];_0x1830ea&&(this['instance']=_0x1830ea['resource']['createInst'+'ance'](_0x1830ea['resource'],{'material':this['_materialT'+'mp'],'highQualitySH':this['_highQuali'+'tySH']}),this['_materialT'+'mp']=null,this['customAabb']=this['instance']['resource']['aabb']['clone']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class UF{constructor(){this['enabled']=!(0x153c+0x25a8+-0x3ae4);}}const Vu=['enabled'],To=['castShadow'+'s','material','highQualit'+'ySH','asset','layers'];class BF extends ct{constructor(_0x5d8796){super(_0x5d8796),this['id']='gsplat',this['ComponentT'+'ype']=y0,this['DataType']=UF,this['schema']=Vu,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x267c85,_0x5c7f09,_0x1059f2){_0x5c7f09['layers']&&_0x5c7f09['layers']['length']&&(_0x5c7f09['layers']=_0x5c7f09['layers']['slice'](-0x71a+0x1*0x1f29+-0x805*0x3));for(let _0x1b68a7=0x24dd+0x41c+-0x28f9;_0x1b68a7<To['length'];_0x1b68a7++)_0x5c7f09['hasOwnProp'+'erty'](To[_0x1b68a7])&&(_0x267c85[To[_0x1b68a7]]=_0x5c7f09[To[_0x1b68a7]]);_0x5c7f09['aabbCenter']&&_0x5c7f09['aabbHalfEx'+'tents']&&(_0x267c85['customAabb']=new De(new D(_0x5c7f09['aabbCenter']),new D(_0x5c7f09['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x267c85,_0x5c7f09,Vu);}['cloneCompo'+'nent'](_0x1816b4,_0x2cd14c){const _0x5f59c8=_0x1816b4['gsplat'],_0x44ea2d={};To['forEach'](_0x17967f=>{_0x17967f==='material'?_0x44ea2d[_0x17967f]=_0x5f59c8[_0x17967f]['clone']():_0x44ea2d[_0x17967f]=_0x5f59c8[_0x17967f];}),_0x44ea2d['enabled']=_0x5f59c8['enabled'];const _0xd6b641=this['addCompone'+'nt'](_0x2cd14c,_0x44ea2d);return _0x5f59c8['customAabb']&&(_0xd6b641['customAabb']=_0x5f59c8['customAabb']['clone']()),_0xd6b641;}['onRemove'](_0x5bf0b2,_0xde9fe5){_0xde9fe5['onRemove']();}}we['_buildAcce'+'ssors'](y0['prototype'],Vu);class Em extends me{constructor(){super(...arguments),h(this,'_meshes',null);}set['meshes'](_0x117856){this['decRefMesh'+'es'](),this['_meshes']=_0x117856,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x117856);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x5e819c;(_0x5e819c=this['_meshes'])==null||_0x5e819c['forEach']((_0x12b8a8,_0x29f8d8)=>{_0x12b8a8&&(_0x12b8a8['decRefCoun'+'t'](),_0x12b8a8['refCount']<0x521+-0xa3a*-0x3+-0x23ce&&(_0x12b8a8['destroy'](),this['_meshes'][_0x29f8d8]=null));});}['incRefMesh'+'es'](){var _0x1e870f;(_0x1e870f=this['_meshes'])==null||_0x1e870f['forEach'](_0x375216=>{_0x375216==null||_0x375216['incRefCoun'+'t']();});}}h(Em,'EVENT_SETM'+'ESHES','set:meshes');function sh(_0x15815d){const _0x3b7c33=this;if(!_0x3b7c33['resource'])return;const _0x1bb5aa=_0x15815d['resource'],_0x5d474c=_0x1bb5aa['renders']&&_0x1bb5aa['renders'][_0x3b7c33['data']['renderInde'+'x']];_0x5d474c&&(_0x3b7c33['resource']['meshes']=_0x5d474c['resource']['meshes']);}function pS(_0x4e1638){const _0x4a2064=this;_0x4a2064['registry']['off']('load:'+_0x4e1638['id'],sh,_0x4a2064),_0x4a2064['registry']['on']('load:'+_0x4e1638['id'],sh,_0x4a2064),_0x4a2064['registry']['off']('remove:'+_0x4e1638['id'],mS,_0x4a2064),_0x4a2064['registry']['once']('remove:'+_0x4e1638['id'],mS,_0x4a2064),_0x4e1638['resource']?sh['call'](_0x4a2064,_0x4e1638):_0x4a2064['registry']['load'](_0x4e1638);}function mS(_0x3066be){const _0x1cfaeb=this;_0x1cfaeb['registry']['off']('load:'+_0x3066be['id'],sh,_0x1cfaeb),_0x1cfaeb['resource']&&_0x1cfaeb['resource']['destroy']();}class zF extends Qe{constructor(_0x1c15a8){super(_0x1c15a8,'render'),this['_registry']=_0x1c15a8['assets'];}['open'](_0x20b40b,_0x81f715){return new Em();}['patch'](_0x5839a7,_0xe1baa3){if(!_0x5839a7['data']['containerA'+'sset'])return;const _0x587c9b=_0xe1baa3['get'](_0x5839a7['data']['containerA'+'sset']);if(!_0x587c9b){_0xe1baa3['once']('add:'+_0x5839a7['data']['containerA'+'sset'],pS,_0x5839a7);return;}pS['call'](_0x5839a7,_0x587c9b);}}class v0{constructor(_0x4cbe5d,_0x52fc78,_0x5c8312,_0x547f9e){this['_paths']=_0x4cbe5d,this['_input']=_0x52fc78,this['_output']=_0x5c8312,this['_interpola'+'tion']=_0x547f9e;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Fh{constructor(_0x5b5e70,_0x3cebb7){this['_component'+'s']=_0x5b5e70,this['_data']=_0x3cebb7;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function VF(_0x41c0b4,_0x380f3a){let _0xd29405;const _0x264292=(_0x20daab,_0x127948)=>{switch(_0x127948){case _0xd29405['DT_INT8']:return new Int8Array(_0x20daab['buffer'],_0x20daab['byteOffset'],_0x20daab['byteLength']);case _0xd29405['DT_INT16']:return new Int16Array(_0x20daab['buffer'],_0x20daab['byteOffset'],_0x20daab['byteLength']/(-0x20a4+-0xc01+0x2ca7));case _0xd29405['DT_INT32']:return new Int32Array(_0x20daab['buffer'],_0x20daab['byteOffset'],_0x20daab['byteLength']/(0x2*-0x6a3+0x53*0x2f+-0x1f3));case _0xd29405['DT_UINT8']:return new Uint8Array(_0x20daab['buffer'],_0x20daab['byteOffset'],_0x20daab['byteLength']);case _0xd29405['DT_UINT16']:return new Uint16Array(_0x20daab['buffer'],_0x20daab['byteOffset'],_0x20daab['byteLength']/(-0x191c+0x1cbd+-0x39f));case _0xd29405['DT_UINT32']:return new Uint32Array(_0x20daab['buffer'],_0x20daab['byteOffset'],_0x20daab['byteLength']/(-0xf71+-0xbc0+-0x7*-0x3e3));case _0xd29405['DT_FLOAT32']:return new Float32Array(_0x20daab['buffer'],_0x20daab['byteOffset'],_0x20daab['byteLength']/(-0x650+0x156*-0x19+0x27ba));}return null;},_0x409a6d=_0x2f91e1=>{switch(_0x2f91e1){case _0xd29405['DT_INT8']:return 0x1*-0x942+0x1798+-0xe55;case _0xd29405['DT_INT16']:return 0x1*0x10fd+-0xf60+-0x1*0x19b;case _0xd29405['DT_INT32']:return-0x6d*0xa+0x5*0x4af+-0x1325;case _0xd29405['DT_UINT8']:return-0x3ab+-0xaf4+0xea0;case _0xd29405['DT_UINT16']:return-0xfb*0x18+-0xea4+0x262e;case _0xd29405['DT_UINT32']:return-0x75c+-0xcd5+0x1*0x1435;case _0xd29405['DT_FLOAT32']:return-0xfe4+-0x1*-0x12ca+-0x2e2;}return 0x253*-0x2+0xab7+-0x610;},_0x3b9fc3=_0x28f24b=>_0x28f24b['num_compon'+'ents']()*_0x409a6d(_0x28f24b['data_type']()),_0x17313d={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x41847a=(_0xfdb66a,_0x22b8c1)=>{const _0x199ef8=(_0x26a557,_0x4f4eb8,_0xe2f1f9)=>{_0x26a557[0xb*0x359+0x3*0x5b4+-0x35ef]=_0x4f4eb8[-0xb0*0x24+-0x26d2+0x3f92]-_0xe2f1f9[0x1a7b+-0x7*-0x1c9+-0x26fa],_0x26a557[-0x1b08+0x7*-0x475+0x3a3c]=_0x4f4eb8[-0x217e+0x2*0x3c5+0x19f5]-_0xe2f1f9[0x6d4+0xee*-0x1d+0x1423],_0x26a557[-0x1*0x1ed7+-0x78d+-0x1*-0x2666]=_0x4f4eb8[0x14d1+-0x1*0x8bd+-0x1e*0x67]-_0xe2f1f9[-0x1cfd+0x16f*0x1+-0x93*-0x30];},_0x160722=(_0xb4e73d,_0x5c30eb,_0x19183b)=>{_0xb4e73d[0x4*-0x61+-0x1dad*0x1+0x1f31*0x1]=_0x5c30eb[-0x7*0x2df+-0x7d*-0x29+-0x1*-0x15]*_0x19183b[0x1b0d+-0x2*-0xab2+-0x3*0x1025]-_0x19183b[-0x3*-0x78b+-0x546+0x2*-0x8ad]*_0x5c30eb[0x22d8+0x115*0x1c+0x2a*-0x18d],_0xb4e73d[-0x255*-0x5+-0x181*0x4+-0x5a4]=_0x5c30eb[-0xa68+0x1*0xeb+0x97f]*_0x19183b[-0x833+0xca4+-0x471]-_0x19183b[-0x1bf*-0x7+-0x39*-0x87+-0x305*0xe]*_0x5c30eb[-0x9*0x18b+-0x1c85+0x2a68],_0xb4e73d[-0x1ed7*-0x1+0xe0c+0x1*-0x2ce1]=_0x5c30eb[-0x174a*0x1+0x1a47+-0xf*0x33]*_0x19183b[0x984+0xf51+0x1c*-0xe3]-_0x19183b[-0x22e1+-0x676+0x2957]*_0x5c30eb[0x1b64*-0x1+-0x74*0x39+0x3539];},_0x459e4a=(_0x465751,_0x2bb0d6)=>{const _0x524dda=_0x465751[_0x2bb0d6+(-0x18a5+0x16fc+-0x1*-0x1a9)],_0x94bb94=_0x465751[_0x2bb0d6+(0x6*0xd9+-0x2496+0x1f81)],_0x74f793=_0x465751[_0x2bb0d6+(0x202d*0x1+-0x1*0x22e7+0x2bc)],_0x491001=(0x5d*0x14+-0x2543+0x1e00)/Math['sqrt'](_0x524dda*_0x524dda+_0x94bb94*_0x94bb94+_0x74f793*_0x74f793);_0x465751[_0x2bb0d6+(-0x118e+-0x15a*-0x2+0xeda)]*=_0x491001,_0x465751[_0x2bb0d6+(-0x1996+-0x2560+0x3ef7)]*=_0x491001,_0x465751[_0x2bb0d6+(0x2088+0x8*-0x7f+-0x1c8e)]*=_0x491001;},_0x2cb575=(_0xae33c3,_0x38b915,_0x295502)=>{for(let _0x52a54d=-0x11e9+-0x8b*0x4+0x1415;_0x52a54d<-0x31d*-0x9+-0x837*0x1+0x233*-0x9;++_0x52a54d)_0xae33c3[_0x52a54d]=_0x38b915[_0x295502+_0x52a54d];},_0x1a752e=_0x22b8c1['length']/(0xb23+-0x6*-0x347+-0x7*0x466),_0x338b14=_0xfdb66a['length']/(-0x1186+0x5*0x5bd+-0xb28),_0x4b0fa2=new Float32Array(_0xfdb66a['length']),_0x3e288e=[0x109+0x1*0x259d+-0x66*0x61,-0x25ec+0x4+-0x2*-0x12f4,-0x37e+0x21ed+-0x1e6f],_0x4959d3=[0x1*0x2629+0x848+-0x2e71,-0x2*-0x53a+-0x1d80+-0x986*-0x2,-0x636+-0x163b+0x1c71],_0x3ebc5b=[-0x1e36+-0x1f46+0x3d7c,-0x15e0+-0x4d2*0x8+0x10*0x3c7,-0x1*-0x3b+0x429*-0x4+-0x1*-0x1069],_0x27303f=[-0x1e3b+-0x2367+0x41a2,-0x167*0x14+0x1052*-0x2+0x3cb0,-0x4*-0x4e1+-0x1*-0x10df+0x3*-0xc21],_0x1e93e7=[0x5*-0x6b6+0x1*0x157f+-0x157*-0x9,0x13*-0x1c7+0x3*0xccf+-0x4a8,0x9*-0x109+0x1cf*0xa+-0x5*0x1c1],_0x55f68f=[-0x1a7c+0xbf8+-0x742*-0x2,-0x811+-0x2*0x4c1+0x199*0xb,0x1c1*0x9+0x40c*-0x1+-0xbbd];for(let _0x1b9cc0=-0x1*0x1169+0x1575+-0x40c;_0x1b9cc0<_0x1a752e;++_0x1b9cc0){const _0x35d346=_0x22b8c1[_0x1b9cc0*(-0x1a00+0x20cb+-0x6c8)+(0x4*-0x655+0x5*0x104+0x1440)]*(-0xa83*0x2+0x1978+-0x46f),_0x1d593f=_0x22b8c1[_0x1b9cc0*(-0x5*0x593+-0x7*0x4a3+0x3c57)+(-0xfab*0x2+-0x1d05+0x3c5c)]*(0x499+0x17*-0xa9+0xa99),_0x1c2c6d=_0x22b8c1[_0x1b9cc0*(-0x1283+0x193c+-0x6b6*0x1)+(-0xd*-0xb3+0x2*-0x9cb+0x1*0xa81)]*(0x85b*-0x3+-0x109f*-0x2+-0xbe*0xb);_0x2cb575(_0x3e288e,_0xfdb66a,_0x35d346),_0x2cb575(_0x4959d3,_0xfdb66a,_0x1d593f),_0x2cb575(_0x3ebc5b,_0xfdb66a,_0x1c2c6d),_0x199ef8(_0x27303f,_0x4959d3,_0x3e288e),_0x199ef8(_0x1e93e7,_0x3ebc5b,_0x3e288e),_0x160722(_0x55f68f,_0x27303f,_0x1e93e7),_0x459e4a(_0x55f68f,-0xb17+0x1bd*0x14+0x1d*-0xd1);for(let _0x514586=0x1780+0x2*0xa30+-0x2be0;_0x514586<-0x1aa7+-0x25d3+0x1*0x407d;++_0x514586)_0x4b0fa2[_0x35d346+_0x514586]+=_0x55f68f[_0x514586],_0x4b0fa2[_0x1d593f+_0x514586]+=_0x55f68f[_0x514586],_0x4b0fa2[_0x1c2c6d+_0x514586]+=_0x55f68f[_0x514586];}for(let _0x4b71e6=0x1cdd*0x1+-0x2301+0x624;_0x4b71e6<_0x338b14;++_0x4b71e6)_0x459e4a(_0x4b0fa2,_0x4b71e6*(-0x2391+0xbb2+-0x17e2*-0x1));return new Uint8Array(_0x4b0fa2['buffer']);},_0x59d008=_0x50b291=>{const _0x9bf631={},_0x508c70=new _0xd29405['DecoderBuf'+'fer']();_0x508c70['Init'](_0x50b291,_0x50b291['length']);const _0xf86d20=new _0xd29405['Decoder']();if(_0xf86d20['GetEncoded'+'GeometryTy'+'pe'](_0x508c70)!==_0xd29405['TRIANGULAR'+'_MESH'])return _0x9bf631['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x9bf631;const _0x2c267a=new _0xd29405['Mesh'](),_0x436a23=_0xf86d20['DecodeBuff'+'erToMesh'](_0x508c70,_0x2c267a);if(!_0x436a23||!_0x436a23['ok']()||_0xd29405['getPointer'](_0x2c267a)===0x7a*-0x12+-0x12e+0x9c2)return _0x9bf631['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x9bf631;const _0x5b2070=_0x2c267a['num_faces']()*(0x1*-0x187f+0x14cf+0x3b3),_0x3c7ad4=_0x2c267a['num_points']()<=0x11263*-0x1+-0x5*0x1e1a+0x2a8e4,_0x4be932=_0x5b2070*(_0x3c7ad4?-0x3eb+0x2637+-0x224a:0x59e+0x1d1b+-0x22b5),_0x28df7d=_0xd29405['_malloc'](_0x4be932);_0x3c7ad4?(_0xf86d20['GetTriangl'+'esUInt16Ar'+'ray'](_0x2c267a,_0x4be932,_0x28df7d),_0x9bf631['indices']=new Uint16Array(_0xd29405['HEAPU16']['buffer'],_0x28df7d,_0x5b2070)['slice']()['buffer']):(_0xf86d20['GetTriangl'+'esUInt32Ar'+'ray'](_0x2c267a,_0x4be932,_0x28df7d),_0x9bf631['indices']=new Uint32Array(_0xd29405['HEAPU32']['buffer'],_0x28df7d,_0x5b2070)['slice']()['buffer']),_0xd29405['_free'](_0x28df7d);const _0x5bad8f=[];for(let _0x29c359=-0x7a3+0x1*-0x11db+0x197e;_0x29c359<_0x2c267a['num_attrib'+'utes']();++_0x29c359)_0x5bad8f['push'](_0xf86d20['GetAttribu'+'te'](_0x2c267a,_0x29c359));_0x5bad8f['sort']((_0x4369cd,_0x52b3ed)=>(_0x17313d[_0x4369cd['attribute_'+'type']()]??_0x17313d['length'])-(_0x17313d[_0x52b3ed['attribute_'+'type']()]??_0x17313d['length'])),_0x9bf631['attributes']=_0x5bad8f['map'](_0x52b700=>_0x52b700['unique_id']());let _0x4f4e6b=0x23be+0xd95+-0x3153;const _0x5a7532=_0x5bad8f['map'](_0x3e85ea=>{const _0x2dbc92=_0x4f4e6b;return _0x4f4e6b+=Math['ceil'](_0x3b9fc3(_0x3e85ea)/(-0x1378+0x5ee+0xd8e))*(0x1bf4+0x16a8+-0x3298),_0x2dbc92;}),_0x2567cb=_0x5bad8f['some'](_0x40465c=>_0x40465c['attribute_'+'type']()===0x239*0x9+-0x1f41+0xb41),_0x2aea39=_0x5a7532[0x1*0x25f9+-0x2121+0x19d*-0x3];if(!_0x2567cb){for(let _0x980695=0x5e*0xc+0x362*-0x1+-0x105;_0x980695<_0x5a7532['length'];++_0x980695)_0x5a7532[_0x980695]+=-0x19e*0x2+0x2455+0x1*-0x210d;_0x4f4e6b+=0x1c+-0x2*-0x53+-0xb6*0x1;}_0x9bf631['vertices']=new ArrayBuffer(_0x2c267a['num_points']()*_0x4f4e6b);const _0x1cd35e=new Uint8Array(_0x9bf631['vertices']);for(let _0x2bd996=-0xa7*-0x12+0x71*-0x8+0x41b*-0x2;_0x2bd996<_0x2c267a['num_attrib'+'utes']();++_0x2bd996){const _0x156ff3=_0x5bad8f[_0x2bd996],_0x470a02=_0x3b9fc3(_0x156ff3),_0x5a9e9d=_0x2c267a['num_points']()*_0x470a02,_0x27f391=_0xd29405['_malloc'](_0x5a9e9d);_0xf86d20['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x2c267a,_0x156ff3,_0x156ff3['data_type'](),_0x5a9e9d,_0x27f391);const _0x32c14b=new Uint8Array(_0xd29405['HEAPU8']['buffer'],_0x27f391,_0x5a9e9d);for(let _0xff07d4=-0x18d1+-0x1281*-0x1+-0x650*-0x1;_0xff07d4<_0x2c267a['num_points']();++_0xff07d4)for(let _0xc2ddcc=0xca3+-0x4d9+0x2*-0x3e5;_0xc2ddcc<_0x470a02;++_0xc2ddcc)_0x1cd35e[_0xff07d4*_0x4f4e6b+_0x5a7532[_0x2bd996]+_0xc2ddcc]=_0x32c14b[_0xff07d4*_0x470a02+_0xc2ddcc];if(!_0x2567cb&&_0x156ff3['attribute_'+'type']()===0x22de+-0x2*0x6ad+0x2*-0xac2){const _0x68c1c4=_0x41847a(_0x264292(_0x32c14b,_0x156ff3['data_type']()),_0x3c7ad4?new Uint16Array(_0x9bf631['indices']):new Uint32Array(_0x9bf631['indices']));for(let _0x59a47d=0x174a+-0xbb9+-0xb91;_0x59a47d<_0x2c267a['num_points']();++_0x59a47d)for(let _0x480a55=-0x7*0x3f9+-0x367*-0x2+-0x1*-0x1501;_0x480a55<-0x1d43+0x2*0x508+0xd*0x17b;++_0x480a55)_0x1cd35e[_0x59a47d*_0x4f4e6b+_0x2aea39+_0x480a55]=_0x68c1c4[_0x59a47d*(0x12e*0x16+-0x491+-0x1557)+_0x480a55];}_0xd29405['_free'](_0x27f391);}return _0xd29405['destroy'](_0x2c267a),_0xd29405['destroy'](_0xf86d20),_0xd29405['destroy'](_0x508c70),_0x9bf631;},_0x257e68=_0x2c7c86=>{const _0x5f2aa5=_0x59d008(new Uint8Array(_0x2c7c86['buffer']));self['postMessag'+'e']({'jobId':_0x2c7c86['jobId'],'error':_0x5f2aa5['error'],'indices':_0x5f2aa5['indices'],'vertices':_0x5f2aa5['vertices'],'attributes':_0x5f2aa5['attributes']},[_0x5f2aa5['indices'],_0x5f2aa5['vertices']]['filter'](_0x58c3a5=>_0x58c3a5!=null));},_0x5cdd1e=[];self['onmessage']=_0x839ce9=>{const _0x1ecef0=_0x839ce9['data'];switch(_0x1ecef0['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x3a0bb6,_0x356995)=>(WebAssembly['instantiat'+'e'](_0x1ecef0['module'],_0x3a0bb6)['then'](_0x2a562c=>_0x356995(_0x2a562c))['catch'](_0x42e66d=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x42e66d)),{})})['then'](_0x39eaa0=>{_0xd29405=_0x39eaa0,_0x5cdd1e['forEach'](_0x2a0602=>_0x257e68(_0x2a0602));});break;case'decodeMesh':_0xd29405?_0x257e68(_0x1ecef0):_0x5cdd1e['push'](_0x1ecef0);break;}};}const _S=0x1ae8+-0x26f+-0xc3b*0x2;class GF{constructor(){this['workers']=[[],[],[]],this['jobId']=0x1fac+0x21d*0xe+-0x2*0x1ea1,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x23eb20,_0x573636)=>{_0x23eb20['postMessag'+'e']({'type':'decodeMesh','jobId':_0x573636['jobId'],'buffer':_0x573636['buffer']},[_0x573636['buffer']]);};}['init'](_0x24ca0a){for(_0x24ca0a['forEach'](_0x1b4d5d=>{_0x1b4d5d['addEventLi'+'stener']('message',_0x183b78=>{const _0x983a75=_0x183b78['data'],_0x1b6b2d=this['jobCallbac'+'ks']['get'](_0x983a75['jobId']);if(_0x1b6b2d&&_0x1b6b2d(_0x983a75['error'],{'indices':_0x983a75['indices'],'vertices':_0x983a75['vertices'],'attributes':_0x983a75['attributes']}),this['jobCallbac'+'ks']['delete'](_0x983a75['jobId']),this['jobQueue']['length']>0xdb7+0x2*0x11de+0x3173*-0x1){const _0x53d7a1=this['jobQueue']['shift']();this['run'](_0x1b4d5d,_0x53d7a1);}else{const _0x1df203=this['workers'][-0x2398+-0x40*-0x10+0x1f9a]['indexOf'](_0x1b4d5d);if(_0x1df203!==-(0x16b4+-0xa*0x151+-0x989*0x1))this['workers'][0x25d7+0xc63+-0x3238]['splice'](_0x1df203,0xf20+-0x1eea+0xfcb),this['workers'][-0xa73*-0x2+-0x1b23+0x63e]['push'](_0x1b4d5d);else{const _0xfa523f=this['workers'][0x35*-0x53+-0x1bab+-0x2cdb*-0x1]['indexOf'](_0x1b4d5d);_0xfa523f!==-(-0xd81*-0x2+0x4*0x500+-0x2f01)?(this['workers'][0x74*0x22+0x27*0x8d+-0x24e2]['splice'](_0xfa523f,0x65*0x33+-0x5*-0x383+-0x25ad),this['workers'][0x1ac+0x4*-0x45a+0xfbc]['push'](_0x1b4d5d)):w['error']('logical\x20er'+'ror');}}});}),this['workers'][-0xe9*0x3+0x6b9+-0x3fe]=_0x24ca0a;this['jobQueue']['length']&&(this['workers'][-0x89*-0x3b+0x1ebf+-0x3e52*0x1]['length']||this['workers'][0x236f+0x16b0+-0x3a1e]['length']);){const _0x440231=this['jobQueue']['shift']();if(this['workers'][0xacf+0x19b*-0x1+-0x4c*0x1f]['length']>-0x8cd*0x1+-0x1c95+0x2562){const _0x196806=this['workers'][-0xe13+-0x23*0x29+0x13ae]['shift']();this['workers'][-0x6*0x527+-0x1b5*-0x11+0x1e6]['push'](_0x196806),this['run'](_0x196806,_0x440231);}else{const _0x15eaf0=this['workers'][-0x4b4+-0xc9d+0x1152]['shift']();this['workers'][-0xb65+0x2*0x833+-0x1*0x4ff]['push'](_0x15eaf0),this['run'](_0x15eaf0,_0x440231);}}}['enqueueJob'](_0x547a76,_0x4c1e01){const _0x1d14ab={'jobId':this['jobId']++,'buffer':_0x547a76};if(this['jobCallbac'+'ks']['set'](_0x1d14ab['jobId'],_0x4c1e01),this['workers'][-0x9c1+-0x9f7*-0x2+-0xa2d]['length']>-0x19b2+0xe2*0x19+0x3a0){const _0x2b602b=this['workers'][0x733+0x831*0x2+-0x1795]['shift']();this['workers'][0x5a8+-0x1065*0x1+0xfa*0xb]['push'](_0x2b602b),this['run'](_0x2b602b,_0x1d14ab);}else{if(this['workers'][0x1c97*-0x1+0xcf4*-0x2+0x3680]['length']>-0x235f+-0x1ce7+-0x26*-0x1b1){const _0x4431d1=this['workers'][0x509*-0x3+-0x5c5+0x5*0x42d]['shift']();this['workers'][0x2e6*-0xd+0x1c4f+0x157*0x7]['push'](_0x4431d1),this['run'](_0x4431d1,_0x1d14ab);}else this['jobQueue']['push'](_0x1d14ab);}}}const HF=_0x3a5fd7=>new Promise((_0x4f8b38,_0xc6a458)=>{const _0xa3a74e={'cache':!(-0x3*0xa5+-0x1ffd+0x21ec),'responseType':'text','retry':_S>-0x1d96+-0x182d+0x35c3,'maxRetries':_S};ot['get'](_0x3a5fd7,_0xa3a74e,(_0x4e4ccd,_0x50399a)=>{_0x4e4ccd?_0xc6a458(_0x4e4ccd):_0x4f8b38(_0x50399a);});}),WF=_0x1b00cb=>{const _0x479cd3=()=>fetch(_0x1b00cb)['then'](_0x55be73=>_0x55be73['arrayBuffe'+'r']())['then'](_0x34eff4=>WebAssembly['compile'](_0x34eff4)),_0x3cfbcd=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x1b00cb))['catch'](_0x15a832=>(w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x1b00cb+'\x20('+_0x15a832+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x479cd3()));return WebAssembly['compileStr'+'eaming']?_0x3cfbcd():_0x479cd3();},gS=-0x11+0x246b+-0x2459;let ih;const $F=_0x378daf=>{if(ih)return!(-0x1fc6+0x20e*-0xa+0x4a*0xb5);if(!_0x378daf){const _0x3a2cae=YS['getConfig']('DracoDecod'+'erModule');_0x3a2cae?_0x378daf={'jsUrl':_0x3a2cae['glueUrl'],'wasmUrl':_0x3a2cae['wasmUrl'],'numWorkers':_0x3a2cae['numWorkers']}:_0x378daf={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':gS};}return!_0x378daf['jsUrl']||!_0x378daf['wasmUrl']?!(0x8*0x3d1+-0x143d+-0xa4a):(ih=new GF(),Promise['all']([HF(_0x378daf['jsUrl']),WF(_0x378daf['wasmUrl'])])['then'](([_0x1c375a,_0x180979])=>{const _0x5f0d01=['/*\x20draco\x20*'+'/',_0x1c375a,'/*\x20worker\x20'+'*/','(\x0a'+VF['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0x358729=new Blob([_0x5f0d01],{'type':'applicatio'+'n/javascri'+'pt'}),_0x10fce9=URL['createObje'+'ctURL'](_0x358729),_0x24f669=Math['max'](0x2*-0xfbf+-0x1*-0x2608+-0x1*0x689,Math['min'](0x2333+0x2*-0xd64+0x45*-0x1f,_0x378daf['numWorkers']||gS)),_0x511eec=[];for(let _0x17152b=-0x1ae1+-0x1cff+-0x6fc*-0x8;_0x17152b<_0x24f669;++_0x17152b){const _0x52c8dc=new Worker(_0x10fce9);_0x52c8dc['postMessag'+'e']({'type':'init','module':_0x180979}),_0x511eec['push'](_0x52c8dc);}ih['init'](_0x511eec);}),!(-0x1*-0xf0b+0xa3*-0x31+0x1028));},XF=(_0x539ded,_0x1d0d82)=>$F()?(ih['enqueueJob'](_0x539ded,_0x1d0d82),!(0x1*0xc40+-0x1d*0x9b+0x54f)):!(-0xf79+0x7d*-0x13+-0x18c1*-0x1);class qF{constructor(){h(this,'gltf'),h(this,'nodes'),h(this,'scenes'),h(this,'animations'),h(this,'textures'),h(this,'materials'),h(this,'variants'),h(this,'meshVarian'+'ts'),h(this,'meshDefaul'+'tMaterials'),h(this,'renders'),h(this,'skins'),h(this,'lights'),h(this,'cameras'),h(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0xd1963c=>{_0xd1963c['meshes']=null;});}}const x0=_0x4c03af=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x4c03af),jF=_0x165c78=>_0x165c78['substring'](_0x165c78['indexOf'](':')+(0x53a+0xc98+-0x11d1),_0x165c78['indexOf'](';')),yl=_0x245784=>{switch(_0x245784){case'SCALAR':return 0xa8*0x12+-0xb5*-0x14+-0x1ff*0xd;case'VEC2':return-0x268c+-0x1cba+0x4348;case'VEC3':return 0x7c1+0x9ec+-0x11aa;case'VEC4':return-0x19e9+-0x26b0+0x93b*0x7;case'MAT2':return 0x1*0x21c4+0x12*-0x9+0x3ae*-0x9;case'MAT3':return 0xca*-0x20+0x6e0+0x1269*0x1;case'MAT4':return-0x40f*0x2+-0x1*-0x1d14+-0x14e6*0x1;default:return 0x1a1*-0x11+0x24a5*0x1+-0x8f1;}},Dd=_0x427a74=>{switch(_0x427a74){case 0x14df+0x1f1b+-0x1ffa:return dd;case 0x1620+0x1f5d+-0x217c:return la;case-0x1*0x242a+-0x9*0x202+-0x56*-0xdd:return fd;case 0xa*0x21d+0x399*-0x3+0x2*0x4d6:return Ml;case 0x158b*0x1+-0xe44+0x1*0xcbd:return Ty;case 0x1fbb+0x1*-0xb57+-0x5f:return el;case-0x1f52+0x1*0x2271+0x1*0x10e7:return Ve;default:return 0xca*0xd+-0x2*-0x18a+-0xd56;}},YF=_0x4abe1e=>{switch(_0x4abe1e){case 0xa*-0x1df+0x1*0x173d+0xf79:return-0x1*0x5d4+-0x144c+0x1*0x1a21;case 0x35*-0x97+0x85f+0x2ae5:return 0x4*-0x95+0x1f38+-0x1ce3;case-0x29f+-0x1139*0x1+-0x13ed*-0x2:return-0x59*0x9+-0x157*-0xa+-0xa43;case 0x197*-0x11+-0xb*0x39e+0x15b5*0x4:return-0x1193+0x144*-0x1d+0x3649;case 0xd*-0x1cd+-0xe75*-0x1+0x1cf8:return 0x21c6+0x8b4+-0x2a76;case-0x1*-0xabd+-0x1ed6+0x281e:return 0x189e+0x13b9*0x1+0x655*-0x7;case 0x146b+-0x269a+0x2635:return 0x15b*-0x11+-0xd*0x5b+0x1bae;default:return-0x83*0x41+-0x3*0x872+0x7*0x85f;}},KF=_0x5d5acf=>{switch(_0x5d5acf){case-0x1*-0x23cf+-0x31*-0x9e+-0x2e0d:return Int8Array;case-0x687+0x1cef+-0x5*0x7b:return Uint8Array;case-0x22e3+0x1630+0x1*0x20b5:return Int16Array;case-0xb*-0x31c+0x1d*-0x13e+0x15d5:return Uint16Array;case 0xd*-0x6d+-0x2*0x3f1+0x216f:return Int32Array;case-0x1b70+-0x255*0xf+0x149c*0x4:return Uint32Array;case 0x543+-0xce5*0x3+0x3572:return Float32Array;default:return null;}},Nh={'POSITION':Me,'NORMAL':gs,'TANGENT':yi,'COLOR_0':Wt,'JOINTS_0':us,'WEIGHTS_0':gi,'TEXCOORD_0':is,'TEXCOORD_1':ba,'TEXCOORD_2':wl,'TEXCOORD_3':El,'TEXCOORD_4':bl,'TEXCOORD_5':Al,'TEXCOORD_6':Cl,'TEXCOORD_7':Pl},SS={[Me]:-0x3*-0xb71+-0x135e*0x2+0x1*0x469,[gs]:0x165a+0x147*-0xd+-0x5be,[yi]:-0x2338+-0x71d*0x5+0x46cb,[Wt]:0x2db+-0x25bb+0x27*0xe5,[us]:0x1*0xd55+0x3*-0x309+-0x436*0x1,[gi]:-0x1708+0x70a+0x1003,[is]:0x24b6+-0x67c+-0x1e34,[ba]:-0x1*0xcb9+0x26d1*-0x1+0x3391,[wl]:-0x3*0x890+0x1ca6+0x5*-0x96,[El]:-0x18*-0x5c+0x168b+-0x31d*0xa,[bl]:-0x151f+-0x12c4+0x27ed,[Al]:-0x232e+0x2621*0x1+-0x2e8,[Cl]:-0x761*0x1+0x664*0x3+-0xbbf*0x1,[Pl]:-0x211*0x1+0x150f+0x1*-0x12f1},ZF=_0x567b7e=>{switch(_0x567b7e){case dd:return _0x433181=>Math['max'](_0x433181/(0x1f*-0xf1+-0x1189*-0x1+0xc25),-(0x9bd+0x2037+0x1*-0x29f3));case la:return _0x1f635a=>_0x1f635a/(0xaba+0x6d9*-0x1+-0x2e2);case fd:return _0x592279=>Math['max'](_0x592279/(-0xa90e+0x8675+0x16*0x764),-(0x4f6+0xdf5+-0x12ea));case Ml:return _0xb28048=>_0xb28048/(0xeebb+-0x180*0x34+-0x367*-0x1c);default:return _0x20017e=>_0x20017e;}},Gu=(_0x3d57a1,_0x26ca59,_0x31fa98)=>{const _0x22a933=ZF(_0x31fa98),_0x5f317e=_0x26ca59['length'];for(let _0x510b0a=0x22c5+-0x1*-0x4a8+-0x276d;_0x510b0a<_0x5f317e;++_0x510b0a)_0x3d57a1[_0x510b0a]=_0x22a933(_0x26ca59[_0x510b0a]);return _0x3d57a1;},ua=(_0x16f9c2,_0x577584,_0x1a64a1=!(0x26f4*-0x1+-0xea5+-0x3*-0x11de))=>{const _0x48118f=yl(_0x16f9c2['type']),_0x13c434=KF(_0x16f9c2['componentT'+'ype']);if(!_0x13c434)return null;let _0x18deae;if(_0x16f9c2['sparse']){const _0x2672f5=_0x16f9c2['sparse'],_0x40eaa5={'count':_0x2672f5['count'],'type':'SCALAR'},_0x5ea31c=ua(Object['assign'](_0x40eaa5,_0x2672f5['indices']),_0x577584,!(-0xd98+-0x2*0x854+0x1e40)),_0x4e6a6a={'count':_0x2672f5['count'],'type':_0x16f9c2['type'],'componentType':_0x16f9c2['componentT'+'ype']},_0x44ac2c=ua(Object['assign'](_0x4e6a6a,_0x2672f5['values']),_0x577584,!(0x2b*-0x99+0xa61*0x3+0x2*-0x2b8));if(_0x16f9c2['hasOwnProp'+'erty']('bufferView')){const _0x362453={'bufferView':_0x16f9c2['bufferView'],'byteOffset':_0x16f9c2['byteOffset'],'componentType':_0x16f9c2['componentT'+'ype'],'count':_0x16f9c2['count'],'type':_0x16f9c2['type']};_0x18deae=ua(_0x362453,_0x577584,!(0x10ec+0x126*-0x13+0x4e6))['slice']();}else _0x18deae=new _0x13c434(_0x16f9c2['count']*_0x48118f);for(let _0x5d5fca=-0x1*0x22fe+0x1*-0x25c1+0x48bf;_0x5d5fca<_0x2672f5['count'];++_0x5d5fca){const _0x5534ef=_0x5ea31c[_0x5d5fca];for(let _0x55215d=-0x3e*-0x11+0x1a19+-0x77*0x41;_0x55215d<_0x48118f;++_0x55215d)_0x18deae[_0x5534ef*_0x48118f+_0x55215d]=_0x44ac2c[_0x5d5fca*_0x48118f+_0x55215d];}}else{if(_0x16f9c2['hasOwnProp'+'erty']('bufferView')){const _0x40b610=_0x577584[_0x16f9c2['bufferView']];if(_0x1a64a1&&_0x40b610['hasOwnProp'+'erty']('byteStride')){const _0x55ccc8=_0x48118f*_0x13c434['BYTES_PER_'+'ELEMENT'],_0x3c6bc8=new ArrayBuffer(_0x16f9c2['count']*_0x55ccc8),_0x4ed674=new Uint8Array(_0x3c6bc8);let _0x5153a7=0xc54+-0x1*-0x210a+-0x2d5e;for(let _0x19d468=0x2*-0xeba+0x2*-0xb63+0x46*0xbf;_0x19d468<_0x16f9c2['count'];++_0x19d468){let _0x5e7045=(_0x16f9c2['byteOffset']||0x7f4*-0x2+0xf3*-0x27+-0x31d*-0x11)+_0x19d468*_0x40b610['byteStride'];for(let _0x67fec7=-0x13ad+0x1295+-0x14*-0xe;_0x67fec7<_0x55ccc8;++_0x67fec7)_0x4ed674[_0x5153a7++]=_0x40b610[_0x5e7045++];}_0x18deae=new _0x13c434(_0x3c6bc8);}else _0x18deae=new _0x13c434(_0x40b610['buffer'],_0x40b610['byteOffset']+(_0x16f9c2['byteOffset']||0x2519*-0x1+0x222e+0x3*0xf9),_0x16f9c2['count']*_0x48118f);}else _0x18deae=new _0x13c434(_0x16f9c2['count']*_0x48118f);}return _0x18deae;},Pn=(_0x5607eb,_0x4f84bb)=>{const _0x227c8e=ua(_0x5607eb,_0x4f84bb,!(-0x2*0x12af+0x10a8+-0x1e2*-0xb));if(_0x227c8e instanceof Float32Array||!_0x5607eb['normalized'])return _0x227c8e;const _0x37953d=new Float32Array(_0x227c8e['length']);return Gu(_0x37953d,_0x227c8e,Dd(_0x5607eb['componentT'+'ype'])),_0x37953d;},Hu=_0x505735=>{let _0x27a420=_0x505735['min'],_0x4d1c77=_0x505735['max'];if(!_0x27a420||!_0x4d1c77)return null;if(_0x505735['normalized']){const _0xdf0097=Dd(_0x505735['componentT'+'ype']);_0x27a420=Gu([],_0x27a420,_0xdf0097),_0x4d1c77=Gu([],_0x4d1c77,_0xdf0097);}return new De(new D((_0x4d1c77[-0x1*0x2312+0x1e06+-0x26*-0x22]+_0x27a420[0x2200+0xeea+0x2*-0x1875])*(0x1fd7+0x7*0x574+-0x4603+0.5),(_0x4d1c77[-0x10f*0x19+0x2*0xfcb+-0x5*0x106]+_0x27a420[-0x126a+-0x34*-0x41+0x1bd*0x3])*(-0x259d+0x4e4*0x1+-0x20b9*-0x1+0.5),(_0x4d1c77[0x2f*0xaf+-0x137d+-0x436*0x3]+_0x27a420[0xe*-0xc5+-0x2659+0x1*0x3121])*(0x1a37+-0x1067*-0x2+-0x209*0x1d+0.5)),new D((_0x4d1c77[0x3*-0x275+0x73a*-0x1+0x65*0x25]-_0x27a420[0x1d59+-0x8a2+-0x14b7])*(0x20d6+-0xe7*-0x9+-0x28f5+0.5),(_0x4d1c77[0x252e*0x1+0xd0a+-0x3237]-_0x27a420[0xf1e+0x15ee*-0x1+0x6d1])*(0xb17*0x2+0x7ac*0x1+-0x1dda+0.5),(_0x4d1c77[0x3*-0xa22+0x2403+-0x29*0x23]-_0x27a420[0x1*-0xbdb+-0x660+-0xcb*-0x17])*(-0x16*0x18d+0x1526+0xcf8+0.5)));},T0=_0x2020a7=>{if(!_0x2020a7['hasOwnProp'+'erty']('mode'))return js;switch(_0x2020a7['mode']){case-0x104*0x8+0x1931+-0x1111:return cd;case-0x75c+0x2*-0x9a2+0x1aa1*0x1:return hd;case-0xcff*0x2+-0x29*0xad+0x35b5:return _y;case 0x117*-0x7+-0x1e8*0xd+0x53*0x64:return gy;case 0x210f+-0x91e*-0x3+-0x1*0x3c65:return js;case 0x70b+-0x9a0+0x29a:return Er;case-0x101d+0xd6c+0x2b7:return oa;default:return js;}},QF=_0x42bfaf=>{const _0x57bf9d=new Uint16Array(_0x42bfaf);for(let _0x134058=0x2709*0x1+0x1137+-0x3840;_0x134058<_0x42bfaf;_0x134058++)_0x57bf9d[_0x134058]=_0x134058;return _0x57bf9d;},JF=(_0x430f72,_0x6e51f9)=>{const _0x3a192f=_0x430f72[Me];if(!_0x3a192f||_0x3a192f['components']!==0x208e+-0x70e*-0x4+-0x131*0x33)return;let _0x3c8e0b;if(_0x3a192f['size']!==_0x3a192f['stride']){const _0x213090=_0x3a192f['stride']/No[_0x3a192f['type']],_0x5cab95=new wn[_0x3a192f['type']](_0x3a192f['buffer'],_0x3a192f['offset'],_0x3a192f['count']*_0x213090);_0x3c8e0b=new wn[_0x3a192f['type']](_0x3a192f['count']*(-0xcca+0x1e51+0x2*-0x8c2));for(let _0x290a0a=0x1de7+0xb*-0x103+-0x12c6;_0x290a0a<_0x3a192f['count'];++_0x290a0a)_0x3c8e0b[_0x290a0a*(-0x1*-0x68e+0x1d4f+-0x23da)+(0x206a+0x8d2+-0x293c)]=_0x5cab95[_0x290a0a*_0x213090+(0x1*-0x1cf9+-0x193*0x16+0x13*0x359)],_0x3c8e0b[_0x290a0a*(-0x20f8+-0x217a+0x4275)+(-0x900+0x2*-0x101c+0x2939)]=_0x5cab95[_0x290a0a*_0x213090+(0x875*0x1+0x4*0x59f+-0x2*0xf78)],_0x3c8e0b[_0x290a0a*(0x40a*0x8+-0x1fe0+-0x6d)+(0x1*0x16f+0x2d*0x71+0x5*-0x442)]=_0x5cab95[_0x290a0a*_0x213090+(0x5*0x63a+-0x87c+-0x16a4)];}else _0x3c8e0b=new wn[_0x3a192f['type']](_0x3a192f['buffer'],_0x3a192f['offset'],_0x3a192f['count']*(0x75a+-0x259f+0x1e48));const _0x3ec52a=_0x3a192f['count'];_0x6e51f9||(_0x6e51f9=QF(_0x3ec52a));const _0x5e3f91=Iv(_0x3c8e0b,_0x6e51f9),_0x2de506=new Float32Array(_0x5e3f91['length']);_0x2de506['set'](_0x5e3f91),_0x430f72[gs]={'buffer':_0x2de506['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x3ec52a,'components':0x3,'type':Ve};},eN=_0x3839e2=>{const _0x50b975=_0x1628b4=>{const _0x37a606=[];for(let _0x101847=-0x2*0x134d+0x15*-0xd1+0x1*0x37bf;_0x101847<_0x1628b4['_levels']['length'];++_0x101847){let _0x32d3b6=[];if(_0x1628b4['cubemap']){for(let _0x33472a=-0x2*0xd67+0x4*-0x93d+0x3fc2;_0x33472a<-0x231a+0x1237+0x10e9;++_0x33472a)_0x32d3b6['push'](_0x1628b4['_levels'][_0x101847][_0x33472a]);}else _0x32d3b6=_0x1628b4['_levels'][_0x101847];_0x37a606['push'](_0x32d3b6);}return _0x37a606;},_0x16827a=new _e(_0x3839e2['device'],_0x3839e2);return _0x16827a['_levels']=_0x50b975(_0x3839e2),_0x16827a;},tN=_0x385c15=>{const _0x827130=new pe(_0x385c15['name']+'_clone',_0x385c15['type'],_0x385c15['file'],_0x385c15['data'],_0x385c15['options']);return _0x827130['loaded']=!(0x1*0xe63+0x1*-0x93f+0x2*-0x292),_0x827130['resource']=eN(_0x385c15['resource']),_0x385c15['registry']['add'](_0x827130),_0x827130;},sN=(_0x312ba4,_0x348961)=>{const _0x114695=_0x348961[Me];if(!_0x114695)return null;const _0x3c2f20=_0x114695['count'],_0x11a89d=[];for(const _0x4d3b84 in _0x348961)if(_0x348961['hasOwnProp'+'erty'](_0x4d3b84)){const _0x575181={'semantic':_0x4d3b84,'components':_0x348961[_0x4d3b84]['components'],'type':_0x348961[_0x4d3b84]['type'],'normalize':!!_0x348961[_0x4d3b84]['normalize']};kt['isElementV'+'alid'](_0x312ba4,_0x575181)||_0x575181['components']++,_0x11a89d['push'](_0x575181);}_0x11a89d['sort']((_0x311757,_0x347891)=>SS[_0x311757['semantic']]-SS[_0x347891['semantic']]);let _0x53c999,_0x5e5b1a,_0x3e8906,_0x5218d5,_0x34cb4b,_0x2c8650;const _0x41a6b3=new kt(_0x312ba4,_0x11a89d);let _0x210302=!(0x1568+-0x1c41*0x1+0x1*0x6d9);for(_0x53c999=0x2687*0x1+-0x1b5f+-0x8*0x165;_0x53c999<_0x41a6b3['elements']['length'];++_0x53c999)if(_0x34cb4b=_0x41a6b3['elements'][_0x53c999],_0x5218d5=_0x348961[_0x34cb4b['name']],_0x2c8650=_0x5218d5['offset']-_0x114695['offset'],_0x5218d5['buffer']!==_0x114695['buffer']||_0x5218d5['stride']!==_0x34cb4b['stride']||_0x5218d5['size']!==_0x34cb4b['size']||_0x2c8650!==_0x34cb4b['offset']){_0x210302=!(0x1d*0x135+0x1b99*-0x1+-0x767);break;}const _0x3d49c1=new Is(_0x312ba4,_0x41a6b3,_0x3c2f20),_0x3b491a=_0x3d49c1['lock'](),_0x8b7105=new Uint32Array(_0x3b491a);let _0x23ca7d;if(_0x210302)_0x23ca7d=new Uint32Array(_0x114695['buffer'],_0x114695['offset'],_0x3c2f20*_0x3d49c1['format']['size']/(0x25*-0x51+-0xb*-0x1fc+-0xa1b)),_0x8b7105['set'](_0x23ca7d);else{let _0x4ec1d9,_0x2d9497;for(_0x53c999=-0x1b7a*0x1+0x2c+0x1b4e;_0x53c999<_0x3d49c1['format']['elements']['length'];++_0x53c999){_0x34cb4b=_0x3d49c1['format']['elements'][_0x53c999],_0x4ec1d9=_0x34cb4b['stride']/(0x178+0x5*0x6a9+0x29*-0xd9),_0x5218d5=_0x348961[_0x34cb4b['name']],_0x2d9497=_0x5218d5['stride']/(0x2dd*-0xb+0x830+0x1753),_0x23ca7d=new Uint32Array(_0x5218d5['buffer'],_0x5218d5['offset'],(_0x5218d5['count']-(-0x34f*-0x2+-0xa*0x291+-0x130d*-0x1))*_0x2d9497+(_0x5218d5['size']+(0x35*-0x41+0x5*0x96+0xa8a))/(-0x2*-0x50e+0x667+-0x107f));let _0x1c4826=-0x1cdd+0x60+0x1c7d,_0x227b97=_0x34cb4b['offset']/(0x59b+0x1*0x1b41+-0x20d8);const _0x515d4e=Math['floor']((_0x5218d5['size']+(-0x3*-0x6e9+-0xa8d*0x3+0x3*0x3a5))/(-0xb2f+-0x42d+0x2*0x7b0));for(_0x5e5b1a=-0x52*0x7+0x17af+-0xb*0x1f3;_0x5e5b1a<_0x3c2f20;++_0x5e5b1a){for(_0x3e8906=-0x23bf+0x1b*0x55+0x1ac8;_0x3e8906<_0x515d4e;++_0x3e8906)_0x8b7105[_0x227b97+_0x3e8906]=_0x23ca7d[_0x1c4826+_0x3e8906];_0x1c4826+=_0x2d9497,_0x227b97+=_0x4ec1d9;}}}return _0x3d49c1['unlock'](),_0x3d49c1;},iN=(_0x3afe44,_0xa095d7,_0x46b543,_0x389ab2,_0x412dfe,_0x16fd90)=>{const _0x266de1={},_0x585d7a=[];for(const _0x2a70d6 in _0xa095d7)_0xa095d7['hasOwnProp'+'erty'](_0x2a70d6)&&Nh['hasOwnProp'+'erty'](_0x2a70d6)&&(_0x266de1[_0x2a70d6]=_0xa095d7[_0x2a70d6],_0x585d7a['push'](_0x2a70d6+':'+_0xa095d7[_0x2a70d6]));_0x585d7a['sort']();const _0xaf76fa=_0x585d7a['join']();let _0x3dcd0e=_0x16fd90[_0xaf76fa];if(!_0x3dcd0e){const _0x3f7a42={};for(const _0x3e6b3d in _0x266de1){const _0x176466=_0x389ab2[_0xa095d7[_0x3e6b3d]],_0xdabfbb=ua(_0x176466,_0x412dfe),_0x559481=_0x412dfe[_0x176466['bufferView']],_0x328884=Nh[_0x3e6b3d],_0x4f9b40=yl(_0x176466['type'])*YF(_0x176466['componentT'+'ype']),_0x12b7be=_0x559481&&_0x559481['hasOwnProp'+'erty']('byteStride')?_0x559481['byteStride']:_0x4f9b40;_0x3f7a42[_0x328884]={'buffer':_0xdabfbb['buffer'],'size':_0x4f9b40,'offset':_0xdabfbb['byteOffset'],'stride':_0x12b7be,'count':_0x176466['count'],'components':yl(_0x176466['type']),'type':Dd(_0x176466['componentT'+'ype']),'normalize':_0x176466['normalized']};}_0x3f7a42['hasOwnProp'+'erty'](gs)||JF(_0x3f7a42,_0x46b543),_0x3dcd0e=sN(_0x3afe44,_0x3f7a42),_0x16fd90[_0xaf76fa]=_0x3dcd0e;}return _0x3dcd0e;},rN=(_0x4d6c9e,_0x1852d4,_0x5b21c0,_0x44bf07,_0x2dd38d,_0x25d159)=>{let _0x3f2c5b,_0x2b821c,_0xd32c4f;const _0x5999ce=_0x1852d4['joints'],_0x315b8b=_0x5999ce['length'],_0x2e0bc6=[];if(_0x1852d4['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x32fe8e=_0x1852d4['inverseBin'+'dMatrices'],_0x229148=ua(_0x5b21c0[_0x32fe8e],_0x44bf07,!(-0x11d8+0x5a4+0xc34)),_0x4ea89e=[];for(_0x3f2c5b=-0x1*-0xf47+-0x1108+-0x1c1*-0x1;_0x3f2c5b<_0x315b8b;_0x3f2c5b++){for(_0x2b821c=0x6*-0x5a2+-0x1f9*0xd+0x1*0x3b71;_0x2b821c<-0x2*0x4ef+-0x8f*0x7+0xdd7;_0x2b821c++)_0x4ea89e[_0x2b821c]=_0x229148[_0x3f2c5b*(-0xa8+-0xe7f+0xf37)+_0x2b821c];_0xd32c4f=new te(),_0xd32c4f['set'](_0x4ea89e),_0x2e0bc6['push'](_0xd32c4f);}}else{for(_0x3f2c5b=-0x2218*0x1+0x1f85+-0x1*-0x293;_0x3f2c5b<_0x315b8b;_0x3f2c5b++)_0xd32c4f=new te(),_0x2e0bc6['push'](_0xd32c4f);}const _0x24deaa=[];for(_0x3f2c5b=-0xc*-0x14+-0x1ebd+0x1dcd;_0x3f2c5b<_0x315b8b;_0x3f2c5b++)_0x24deaa[_0x3f2c5b]=_0x2dd38d[_0x5999ce[_0x3f2c5b]]['name'];const _0xd188ec=_0x24deaa['join']('#');let _0x2843fd=_0x25d159['get'](_0xd188ec);return _0x2843fd||(_0x2843fd=new Lv(_0x4d6c9e,_0x2e0bc6,_0x24deaa),_0x25d159['set'](_0xd188ec,_0x2843fd)),_0x2843fd;},aN=(_0x3c7148,_0x1bbf18,_0x140154,_0x176b93,_0x5ce0af,_0x14bc93,_0x16e7f7)=>{var _0x1bb936;const _0x50469a=new Ge(_0x3c7148);_0x50469a['aabb']=Hu(_0x140154[_0x1bbf18['attributes']['POSITION']]);const _0x335ac1=[];for(const [_0x38b29d,_0x157539]of Object['entries'](_0x1bbf18['attributes'])){const _0x25dd2b=_0x140154[_0x157539],_0x1fc71c=Nh[_0x38b29d],_0x386662=Dd(_0x25dd2b['componentT'+'ype']);_0x335ac1['push']({'semantic':_0x1fc71c,'components':yl(_0x25dd2b['type']),'type':_0x386662,'normalize':_0x25dd2b['normalized']??(_0x1fc71c===Wt&&(_0x386662===la||_0x386662===Ml))});}if(_0x16e7f7['push'](new Promise((_0x5242c4,_0x1661c3)=>{const _0x59f51d=_0x1bbf18['extensions']['KHR_draco_'+'mesh_compr'+'ession'];XF(_0x176b93[_0x59f51d['bufferView']]['slice']()['buffer'],(_0x2c356c,_0x1f5e21)=>{var _0x5c72d4;if(_0x2c356c)console['log'](_0x2c356c),_0x1661c3(_0x2c356c);else{const _0x5f5849={};for(const [_0x5b187d,_0x3bc36a]of Object['entries'](_0x59f51d['attributes']))_0x5f5849[Nh[_0x5b187d]]=_0x1f5e21['attributes']['indexOf'](_0x3bc36a);_0x335ac1['sort']((_0x4f56de,_0x5458e0)=>_0x5f5849[_0x4f56de['semantic']]-_0x5f5849[_0x5458e0['semantic']]),(_0x5c72d4=_0x1bbf18['attributes'])!=null&&_0x5c72d4['NORMAL']||_0x335ac1['splice'](-0x201b+-0x1*0x25af+0x45cb,-0x742+-0x67*-0x37+-0xedf,{'semantic':'NORMAL','components':0x3,'type':Ve});const _0x25e10d=new kt(_0x3c7148,_0x335ac1),_0x239087=_0x1f5e21['vertices']['byteLength']/_0x25e10d['size'],_0x57f279=_0x239087<=-0x18ca2+0x4ed0*0x2+0x1ef01?Yi:wr,_0x39cbaf=_0x1f5e21['indices']['byteLength']/(_0x239087<=0x1ce6d+0x157e4*0x1+0x1d*-0x12fa?-0x722+-0xbf0+0x32e*0x6:-0x1b10+-0x703*0x2+0x291a);w['call'](()=>{_0x239087!==_0x140154[_0x1bbf18['attributes']['POSITION']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x39cbaf!==_0x140154[_0x1bbf18['indices']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0x40764f=new Is(_0x3c7148,_0x25e10d,_0x239087,{'data':_0x1f5e21['vertices']}),_0x2e9125=new br(_0x3c7148,_0x57f279,_0x39cbaf,ms,_0x1f5e21['indices']);_0x50469a['vertexBuff'+'er']=_0x40764f,_0x50469a['indexBuffe'+'r'][-0x7*0x332+0x2321+-0x1b*0x79]=_0x2e9125,_0x50469a['primitive'][0x4*0x1a5+0x19f2*-0x1+0x135e]['type']=T0(_0x1bbf18),_0x50469a['primitive'][0x4*-0x109+-0x5*-0x335+-0xbe5]['base']=0x1901+0x1af4*0x1+-0x33f5,_0x50469a['primitive'][-0x347*-0x5+-0x1bbc+0xb59]['count']=_0x2e9125?_0x39cbaf:_0x239087,_0x50469a['primitive'][-0x85c+0x13e*-0x17+0x24ee]['indexed']=!!_0x2e9125,_0x5242c4();}});})),(_0x1bb936=_0x1bbf18==null?void(0x1d*0x121+-0x209*0x7+0x93f*-0x2):_0x1bbf18['extensions'])!=null&&_0x1bb936['KHR_materi'+'als_varian'+'ts']){const _0x122953=_0x1bbf18['extensions']['KHR_materi'+'als_varian'+'ts'],_0x486053={};_0x122953['mappings']['forEach'](_0x41eb9b=>{_0x41eb9b['variants']['forEach'](_0x2f3548=>{_0x486053[_0x2f3548]=_0x41eb9b['material'];});}),_0x5ce0af[_0x50469a['id']]=_0x486053;}return _0x14bc93[_0x50469a['id']]=_0x1bbf18['material'],_0x50469a;},nN=(_0x5b3980,_0x14e0ec,_0x39a1d4,_0x345ac9,_0x2e7c21,_0x2e728e,_0x2dddb2,_0xceb2f9,_0x1fdc38)=>{const _0x3b6959=[];return _0x14e0ec['primitives']['forEach'](_0x17855e=>{var _0x591a58;if((_0x591a58=_0x17855e['extensions'])!=null&&_0x591a58['KHR_draco_'+'mesh_compr'+'ession'])_0x3b6959['push'](aN(_0x5b3980,_0x17855e,_0x39a1d4,_0x345ac9,_0x2e728e,_0x2dddb2,_0x1fdc38));else{let _0x5388f5=_0x17855e['hasOwnProp'+'erty']('indices')?ua(_0x39a1d4[_0x17855e['indices']],_0x345ac9,!(-0x1*0x17cb+-0x2*0x116+0x19f7)):null;const _0xca28b5=iN(_0x5b3980,_0x17855e['attributes'],_0x5388f5,_0x39a1d4,_0x345ac9,_0x2e7c21),_0x409e72=T0(_0x17855e),_0x341c50=new Ge(_0x5b3980);if(_0x341c50['vertexBuff'+'er']=_0xca28b5,_0x341c50['primitive'][-0x11*0xe3+0x1246+-0x333]['type']=_0x409e72,_0x341c50['primitive'][-0x131*-0x1b+-0x1*0x2295+0x26a]['base']=-0x1bcc+-0x7b5*0x5+0x4255,_0x341c50['primitive'][0x1e72+0x24ef+-0x4361]['indexed']=_0x5388f5!==null,_0x5388f5!==null){let _0x234c43;_0x5388f5 instanceof Uint8Array?_0x234c43=$f:_0x5388f5 instanceof Uint16Array?_0x234c43=Yi:_0x234c43=wr,_0x234c43===$f&&_0x5b3980['isWebGPU']&&(_0x234c43=Yi,_0x5388f5=new Uint16Array(_0x5388f5));const _0x77ba14=new br(_0x5b3980,_0x234c43,_0x5388f5['length'],ms,_0x5388f5);_0x341c50['indexBuffe'+'r'][-0x1586+-0x1*0xbb9+0x213f]=_0x77ba14,_0x341c50['primitive'][-0x1bea+-0x1*0x1ead+-0x3a97*-0x1]['count']=_0x5388f5['length'];}else _0x341c50['primitive'][-0x3e5*0x1+0x6f*-0x24+0x1381]['count']=_0xca28b5['numVertice'+'s'];if(_0x17855e['hasOwnProp'+'erty']('extensions')&&_0x17855e['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x57fdbc=_0x17855e['extensions']['KHR_materi'+'als_varian'+'ts'],_0x1262fc={};_0x57fdbc['mappings']['forEach'](_0x17a0a7=>{_0x17a0a7['variants']['forEach'](_0x2ac5de=>{_0x1262fc[_0x2ac5de]=_0x17a0a7['material'];});}),_0x2e728e[_0x341c50['id']]=_0x1262fc;}_0x2dddb2[_0x341c50['id']]=_0x17855e['material'];let _0x3090d4=_0x39a1d4[_0x17855e['attributes']['POSITION']];if(_0x341c50['aabb']=Hu(_0x3090d4),_0x17855e['hasOwnProp'+'erty']('targets')){const _0x3625f1=[];_0x17855e['targets']['forEach']((_0x395f96,_0xe28ed1)=>{const _0xa5bbf8={};_0x395f96['hasOwnProp'+'erty']('POSITION')&&(_0x3090d4=_0x39a1d4[_0x395f96['POSITION']],_0xa5bbf8['deltaPosit'+'ions']=Pn(_0x3090d4,_0x345ac9),_0xa5bbf8['aabb']=Hu(_0x3090d4)),_0x395f96['hasOwnProp'+'erty']('NORMAL')&&(_0x3090d4=_0x39a1d4[_0x395f96['NORMAL']],_0xa5bbf8['deltaNorma'+'ls']=Pn(_0x3090d4,_0x345ac9)),_0x14e0ec['hasOwnProp'+'erty']('extras')&&_0x14e0ec['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0xa5bbf8['name']=_0x14e0ec['extras']['targetName'+'s'][_0xe28ed1]:_0xa5bbf8['name']=_0xe28ed1['toString'](0x117f+-0x645+0x2cc*-0x4),_0x14e0ec['hasOwnProp'+'erty']('weights')&&(_0xa5bbf8['defaultWei'+'ght']=_0x14e0ec['weights'][_0xe28ed1]),_0xa5bbf8['preserveDa'+'ta']=_0xceb2f9['morphPrese'+'rveData'],_0x3625f1['push'](new Md(_0xa5bbf8));}),_0x341c50['morph']=new mm(_0x3625f1,_0x5b3980,{'preferHighPrecision':_0xceb2f9['morphPrefe'+'rHighPreci'+'sion']});}_0x3b6959['push'](_0x341c50);}}),_0x3b6959;},Dt=(_0x45325f,_0xd284f,_0xbb1631)=>{var _0x27d6eb;let _0x10c076;const _0x5cd295=_0x45325f['texCoord'];if(_0x5cd295){for(_0x10c076=-0x1229+-0xfa7*-0x1+0x282;_0x10c076<_0xbb1631['length'];++_0x10c076)_0xd284f[_0xbb1631[_0x10c076]+'MapUv']=_0x5cd295;}const _0x4f2f21=[0x1f*0x7f+-0x109c+0x23*0x9,-0x1047*-0x1+-0x11d1+0x18a],_0x48e6f9=[-0xf70+0x71*0x25+-0xe4,0x5*0x49d+0x1ffc+-0x370c],_0x43dcbd=(_0x27d6eb=_0x45325f['extensions'])==null?void(-0x1658+-0x3ac*0x3+-0x2*-0x10ae):_0x27d6eb['KHR_textur'+'e_transfor'+'m'];if(_0x43dcbd){const _0x1acf10=_0x43dcbd['offset']||_0x4f2f21,_0x14059d=_0x43dcbd['scale']||_0x48e6f9,_0x58c217=_0x43dcbd['rotation']?-_0x43dcbd['rotation']*Y['RAD_TO_DEG']:0x8*-0x106+0x2b6+-0x1*-0x57a,_0x109c94=new J(_0x14059d[-0x1c64+0x15c9+0x59*0x13],_0x14059d[-0x39e*-0x4+0x5c5+-0x143c]),_0xbbb222=new J(_0x1acf10[-0x4a7+0xa*0x3a0+-0x1f99],0x585*0x3+0x1*0x2141+-0x1*0x31cf-_0x14059d[-0x21*0x11f+-0x20*-0x5b+-0x10*-0x19a]-_0x1acf10[0x1225+0x8b8+-0x1adc]);for(_0x10c076=0x159f+0xb72*-0x2+0x41*0x5;_0x10c076<_0xbb1631['length'];++_0x10c076)_0xd284f[_0xbb1631[_0x10c076]+'MapTiling']=_0x109c94,_0xd284f[_0xbb1631[_0x10c076]+'MapOffset']=_0xbbb222,_0xd284f[_0xbb1631[_0x10c076]+('MapRotatio'+'n')]=_0x58c217;}},oN=(_0xffb797,_0x2fd443,_0x3c9673)=>{let _0x16b2a9,_0x49c9a7;if(_0xffb797['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x16b2a9=_0xffb797['diffuseFac'+'tor'],_0x2fd443['diffuse']['set'](Math['pow'](_0x16b2a9[-0x1*-0x49b+0x98+-0x79*0xb],(0x722+-0x23d1*-0x1+-0xef*0x2e)/(-0x2647+-0x74c+-0x683*-0x7+0.20000000000000018)),Math['pow'](_0x16b2a9[0x1f1*0x7+-0x1727*0x1+0x991],(0x24b*0xd+0x4c*0x83+-0x44b2*0x1)/(-0xa1b+-0x15*0x153+0x6*0x652+0.20000000000000018)),Math['pow'](_0x16b2a9[0x1*0x1f81+-0x1f49+-0x36],(0x97d+-0x2d5*-0x6+0x1a7a*-0x1)/(0x3*-0xcf7+0xb*-0x65+0x2b3e+0.20000000000000018))),_0x2fd443['opacity']=_0x16b2a9[0x1d1d*-0x1+-0x1*-0x7b3+0x156d]):(_0x2fd443['diffuse']['set'](-0x189*-0x11+-0x1*-0xadb+0x3*-0xc51,0x840+-0x11a7+-0x12d*-0x8,0x1e7*0x1+0x134c+-0x1532),_0x2fd443['opacity']=-0x43*-0x5f+-0x2406+-0x1*-0xb2a),_0xffb797['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x2e501d=_0xffb797['diffuseTex'+'ture'];_0x49c9a7=_0x3c9673[_0x2e501d['index']],_0x2fd443['diffuseMap']=_0x49c9a7,_0x2fd443['diffuseMap'+'Channel']='rgb',_0x2fd443['opacityMap']=_0x49c9a7,_0x2fd443['opacityMap'+'Channel']='a',Dt(_0x2e501d,_0x2fd443,['diffuse','opacity']);}if(_0x2fd443['useMetalne'+'ss']=!(0x120b+0x17e7+-0x29f1),_0xffb797['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x16b2a9=_0xffb797['specularFa'+'ctor'],_0x2fd443['specular']['set'](Math['pow'](_0x16b2a9[0x612+0x10df+-0x16f1],(-0xd6+0x89*0x2f+-0x1*0x1850)/(0x1095+0x1*-0x1d52+0x1*0xcbf+0.20000000000000018)),Math['pow'](_0x16b2a9[-0x9e*-0x29+-0x25eb+0xc9e],(-0x1a0f+0xacb+0xf45)/(0x147b+-0x4d6*-0x5+-0x2ca7+0.20000000000000018)),Math['pow'](_0x16b2a9[0x233*0x11+0x613+-0x6c*0x67],(0x2c1+0x1*0x18e1+-0x1ba1)/(0x1*0x172f+0x1986+-0x30b3+0.20000000000000018)))):_0x2fd443['specular']['set'](-0x57+0x280*0x1+-0xc*0x2e,-0x193f+-0x1*0x1c6+0x1b06,-0x1132*0x1+-0x5*0x3bf+0x7e*0x49),_0xffb797['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x2fd443['gloss']=_0xffb797['glossiness'+'Factor']:_0x2fd443['gloss']=0x2c4*0x2+-0x228*0x1+-0x35f,_0xffb797['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x4e552f=_0xffb797['specularGl'+'ossinessTe'+'xture'];_0x2fd443['specularMa'+'p']=_0x2fd443['glossMap']=_0x3c9673[_0x4e552f['index']],_0x2fd443['specularMa'+'pChannel']='rgb',_0x2fd443['glossMapCh'+'annel']='a',Dt(_0x4e552f,_0x2fd443,['gloss','metalness']);}},lN=(_0x1720d4,_0x1ac9ac,_0x5b9ecf)=>{if(_0x1720d4['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x1ac9ac['clearCoat']=_0x1720d4['clearcoatF'+'actor']*(0x12c3*0x2+0x1efa+0x80*-0x89+0.25):_0x1ac9ac['clearCoat']=-0x2620*0x1+-0x191b+0x3f3b*0x1,_0x1720d4['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0xdf01f3=_0x1720d4['clearcoatT'+'exture'];_0x1ac9ac['clearCoatM'+'ap']=_0x5b9ecf[_0xdf01f3['index']],_0x1ac9ac['clearCoatM'+'apChannel']='r',Dt(_0xdf01f3,_0x1ac9ac,['clearCoat']);}if(_0x1720d4['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x1ac9ac['clearCoatG'+'loss']=_0x1720d4['clearcoatR'+'oughnessFa'+'ctor']:_0x1ac9ac['clearCoatG'+'loss']=-0x1*0x959+0x21dc+0xfb*-0x19,_0x1720d4['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x57db03=_0x1720d4['clearcoatR'+'oughnessTe'+'xture'];_0x1ac9ac['clearCoatG'+'lossMap']=_0x5b9ecf[_0x57db03['index']],_0x1ac9ac['clearCoatG'+'lossMapCha'+'nnel']='g',Dt(_0x57db03,_0x1ac9ac,['clearCoatG'+'loss']);}if(_0x1720d4['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x3c20b5=_0x1720d4['clearcoatN'+'ormalTextu'+'re'];_0x1ac9ac['clearCoatN'+'ormalMap']=_0x5b9ecf[_0x3c20b5['index']],Dt(_0x3c20b5,_0x1ac9ac,['clearCoatN'+'ormal']),_0x3c20b5['hasOwnProp'+'erty']('scale')?_0x1ac9ac['clearCoatB'+'umpiness']=_0x3c20b5['scale']:_0x1ac9ac['clearCoatB'+'umpiness']=0x1341+-0x19*-0x3+-0x138b;}_0x1ac9ac['clearCoatG'+'lossInvert']=!(0x64b+0x175e*0x1+-0x1da9*0x1);},cN=(_0x5c5959,_0x5d29cf,_0x15f204)=>{_0x5d29cf['useLightin'+'g']=!(0x2a8+0xd*-0x1fd+0x1732),_0x5d29cf['emissive']['copy'](_0x5d29cf['diffuse']),_0x5d29cf['emissiveMa'+'p']=_0x5d29cf['diffuseMap'],_0x5d29cf['emissiveMa'+'pUv']=_0x5d29cf['diffuseMap'+'Uv'],_0x5d29cf['emissiveMa'+'pTiling']['copy'](_0x5d29cf['diffuseMap'+'Tiling']),_0x5d29cf['emissiveMa'+'pOffset']['copy'](_0x5d29cf['diffuseMap'+'Offset']),_0x5d29cf['emissiveMa'+'pRotation']=_0x5d29cf['diffuseMap'+'Rotation'],_0x5d29cf['emissiveMa'+'pChannel']=_0x5d29cf['diffuseMap'+'Channel'],_0x5d29cf['emissiveVe'+'rtexColor']=_0x5d29cf['diffuseVer'+'texColor'],_0x5d29cf['emissiveVe'+'rtexColorC'+'hannel']=_0x5d29cf['diffuseVer'+'texColorCh'+'annel'],_0x5d29cf['useLightin'+'g']=!(0x28a*-0xd+0xe59*0x1+0x1*0x12aa),_0x5d29cf['useSkybox']=!(0xed*-0xe+0x904+-0x3f3*-0x1),_0x5d29cf['diffuse']['set'](0x1a8e+0x9e*0x2+0x3*-0x943,0x1*-0x15d1+0x7f*-0x3a+0x3298,-0x20*-0x89+-0x636+-0xae9),_0x5d29cf['diffuseMap']=null,_0x5d29cf['diffuseVer'+'texColor']=!(-0x331+-0x2cf+-0x601*-0x1);},hN=(_0x3fb4fb,_0x599f5a,_0x46b419)=>{if(_0x599f5a['useMetalne'+'ssSpecular'+'Color']=!(0x5*0x52d+0x13*0x4+-0x1a2d),_0x3fb4fb['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0x599f5a['specularMa'+'p']=_0x46b419[_0x3fb4fb['specularCo'+'lorTexture']['index']],_0x599f5a['specularMa'+'pChannel']='rgb',Dt(_0x3fb4fb['specularCo'+'lorTexture'],_0x599f5a,['specular'])),_0x3fb4fb['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x2ffdcc=_0x3fb4fb['specularCo'+'lorFactor'];_0x599f5a['specular']['set'](Math['pow'](_0x2ffdcc[0xb1e*0x1+-0x186c+0xd4e],(-0xb*-0x23d+0x262e+-0x1f66*0x2)/(-0x19b6+0x11c2+-0x1*-0x7f6+0.20000000000000018)),Math['pow'](_0x2ffdcc[0x492+0x25a8+0x4b1*-0x9],(-0x12*0x146+-0xe7f+-0x256c*-0x1)/(0x40f*-0x6+0x2268+-0xa0c+0.20000000000000018)),Math['pow'](_0x2ffdcc[-0x1*-0x81b+0xbbd+-0x13d6],(0x20c6+0x97*-0x2+-0x1f97)/(-0xe2b+-0xd44+0x5*0x57d+0.20000000000000018)));}else _0x599f5a['specular']['set'](-0x4*0x747+-0x103+-0x788*-0x4,-0xfb6+0x2331+-0x137a,-0x19d4+0x295*-0xa+0x761*0x7);_0x3fb4fb['hasOwnProp'+'erty']('specularFa'+'ctor')?_0x599f5a['specularit'+'yFactor']=_0x3fb4fb['specularFa'+'ctor']:_0x599f5a['specularit'+'yFactor']=0xe23+0x1*-0x1e5b+0x1039,_0x3fb4fb['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0x599f5a['specularit'+'yFactorMap'+'Channel']='a',_0x599f5a['specularit'+'yFactorMap']=_0x46b419[_0x3fb4fb['specularTe'+'xture']['index']],Dt(_0x3fb4fb['specularTe'+'xture'],_0x599f5a,['specularit'+'yFactor']));},dN=(_0x15ae62,_0x5c2fb8,_0x4b05f1)=>{_0x15ae62['hasOwnProp'+'erty']('ior')&&(_0x5c2fb8['refraction'+'Index']=(0x173b*0x1+-0x77*-0x31+-0x1*0x2e01)/_0x15ae62['ior']);},fN=(_0x1b5589,_0x4b5c1f,_0x414dab)=>{_0x1b5589['hasOwnProp'+'erty']('dispersion')&&(_0x4b5c1f['dispersion']=_0x1b5589['dispersion']);},uN=(_0x406fbd,_0x55cd20,_0x2a514f)=>{_0x55cd20['blendType']=Zs,_0x55cd20['useDynamic'+'Refraction']=!(-0xd*-0x26e+0x67*0x55+0x5fb*-0xb),_0x406fbd['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x55cd20['refraction']=_0x406fbd['transmissi'+'onFactor']),_0x406fbd['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x55cd20['refraction'+'MapChannel']='r',_0x55cd20['refraction'+'Map']=_0x2a514f[_0x406fbd['transmissi'+'onTexture']['index']],Dt(_0x406fbd['transmissi'+'onTexture'],_0x55cd20,['refraction']));},pN=(_0x59ffb2,_0x2ff424,_0x1db4ba)=>{if(_0x2ff424['useSheen']=!(0x5cb+-0x1fc7+0x1*0x19fc),_0x59ffb2['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x1f5e5e=_0x59ffb2['sheenColor'+'Factor'];_0x2ff424['sheen']['set'](Math['pow'](_0x1f5e5e[0x2*0x62b+0x2*0x525+-0x1*0x16a0],(0x1ce1+0x42b*-0x1+-0x18b5)/(-0x4*-0x55+-0xec1*-0x1+-0x1013+0.20000000000000018)),Math['pow'](_0x1f5e5e[0x13c1+-0x5*-0x59f+-0x2fdb*0x1],(-0x7*0x6f+-0x111*-0x7+0xb*-0x67)/(-0x15f6+0x16*0xa7+-0xc3*-0xa+0.20000000000000018)),Math['pow'](_0x1f5e5e[0xdb*0x1f+0x1*0x1058+-0x2adb],(0x3*0x68+-0x457+0x320)/(0x2452+-0x8*0x209+-0x1408+0.20000000000000018)));}else _0x2ff424['sheen']['set'](0x1db7+0x1dcf+0x9*-0x69d,0x454+0x1160*0x2+-0x2713,-0x8af+-0x1b41+0x23f1);_0x59ffb2['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x2ff424['sheenMap']=_0x1db4ba[_0x59ffb2['sheenColor'+'Texture']['index']],Dt(_0x59ffb2['sheenColor'+'Texture'],_0x2ff424,['sheen'])),_0x2ff424['sheenGloss']=_0x59ffb2['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x59ffb2['sheenRough'+'nessFactor']:0x2309*0x1+-0xe6*0x1d+-0x8fb,_0x59ffb2['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x2ff424['sheenGloss'+'Map']=_0x1db4ba[_0x59ffb2['sheenRough'+'nessTextur'+'e']['index']],_0x2ff424['sheenGloss'+'MapChannel']='a',Dt(_0x59ffb2['sheenRough'+'nessTextur'+'e'],_0x2ff424,['sheenGloss'])),_0x2ff424['sheenGloss'+'Invert']=!(-0x219d*0x1+-0x11*0xbb+-0xf58*-0x3);},mN=(_0x2cbad1,_0x1035ef,_0x45fc7f)=>{if(_0x1035ef['blendType']=Zs,_0x1035ef['useDynamic'+'Refraction']=!(-0x109e+-0xcf*0x1d+-0x1*-0x2811),_0x2cbad1['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x1035ef['thickness']=_0x2cbad1['thicknessF'+'actor']),_0x2cbad1['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x1035ef['thicknessM'+'ap']=_0x45fc7f[_0x2cbad1['thicknessT'+'exture']['index']],_0x1035ef['thicknessM'+'apChannel']='g',Dt(_0x2cbad1['thicknessT'+'exture'],_0x1035ef,['thickness'])),_0x2cbad1['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x1035ef['attenuatio'+'nDistance']=_0x2cbad1['attenuatio'+'nDistance']),_0x2cbad1['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x4d3ea7=_0x2cbad1['attenuatio'+'nColor'];_0x1035ef['attenuatio'+'n']['set'](Math['pow'](_0x4d3ea7[-0xf*0xc5+0x4f0+0x69b*0x1],(-0x1e2d+-0x11*0x160+0x2*0x1ac7)/(0x3*-0x901+-0x1004+0x2b09+0.20000000000000018)),Math['pow'](_0x4d3ea7[0x193+-0x1f94+0x1e02],(0x7*0xb5+0x1*-0x1703+0x1*0x1211)/(0x2418+0xc60+-0x2*0x183b+0.20000000000000018)),Math['pow'](_0x4d3ea7[-0x3*0xc54+0x982+0x1*0x1b7c],(-0x1bbb+0x2421*-0x1+0x3fdd*0x1)/(0x3*-0x6f7+-0x13d1+0x28b8+0.20000000000000018)));}},_N=(_0x371ba9,_0x45211b,_0x2f4191)=>{_0x371ba9['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x45211b['emissiveIn'+'tensity']=_0x371ba9['emissiveSt'+'rength']);},gN=(_0x46140f,_0x5baf4d,_0x3e6cb0)=>{_0x5baf4d['useIridesc'+'ence']=!(0xc6a+-0x671*0x6+0x1a3c*0x1),_0x46140f['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x5baf4d['iridescenc'+'e']=_0x46140f['iridescenc'+'eFactor']),_0x46140f['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x5baf4d['iridescenc'+'eMapChanne'+'l']='r',_0x5baf4d['iridescenc'+'eMap']=_0x3e6cb0[_0x46140f['iridescenc'+'eTexture']['index']],Dt(_0x46140f['iridescenc'+'eTexture'],_0x5baf4d,['iridescenc'+'e'])),_0x46140f['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x5baf4d['iridescenc'+'eRefractio'+'nIndex']=_0x46140f['iridescenc'+'eIor']),_0x46140f['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x5baf4d['iridescenc'+'eThickness'+'Min']=_0x46140f['iridescenc'+'eThickness'+'Minimum']),_0x46140f['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x5baf4d['iridescenc'+'eThickness'+'Max']=_0x46140f['iridescenc'+'eThickness'+'Maximum']),_0x46140f['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x5baf4d['iridescenc'+'eThickness'+'MapChannel']='g',_0x5baf4d['iridescenc'+'eThickness'+'Map']=_0x3e6cb0[_0x46140f['iridescenc'+'eThickness'+'Texture']['index']],Dt(_0x46140f['iridescenc'+'eThickness'+'Texture'],_0x5baf4d,['iridescenc'+'eThickness']));},SN=(_0x54254e,_0x3eb8ff,_0xbce7ca)=>{if(_0x3eb8ff['enableGGXS'+'pecular']=!(0x72f+0x1873+-0x1fa2),_0x54254e['hasOwnProp'+'erty']('anisotropy'+'Strength')?_0x3eb8ff['anisotropy'+'Intensity']=_0x54254e['anisotropy'+'Strength']:_0x3eb8ff['anisotropy'+'Intensity']=0x3*0x224+-0xb1*-0x9+-0xca5,_0x54254e['hasOwnProp'+'erty']('anisotropy'+'Texture')){const _0x9edd8f=_0x54254e['anisotropy'+'Texture'];_0x3eb8ff['anisotropy'+'Map']=_0xbce7ca[_0x9edd8f['index']],Dt(_0x9edd8f,_0x3eb8ff,['anisotropy']);}_0x54254e['hasOwnProp'+'erty']('anisotropy'+'Rotation')?_0x3eb8ff['anisotropy'+'Rotation']=_0x54254e['anisotropy'+'Rotation']*Y['RAD_TO_DEG']:_0x3eb8ff['anisotropy'+'Rotation']=0xaa5+-0x24b*0xb+0xe94;},w0=(_0x43b7db,_0x32e6d2)=>{const _0xc21a0=new Ut();_0x43b7db['hasOwnProp'+'erty']('name')&&(_0xc21a0['name']=_0x43b7db['name']),_0xc21a0['occludeSpe'+'cular']=bd,_0xc21a0['diffuseVer'+'texColor']=!(0x163*-0x1b+0x1*0x20a1+0x4d0),_0xc21a0['specularTi'+'nt']=!(-0x1b7*0xa+-0x254a+0x68*0x86),_0xc21a0['specularVe'+'rtexColor']=!(0x23e3*-0x1+-0x6b9*-0x1+0x1d2a),_0xc21a0['specular']['set'](0xf91+0x9*0x309+-0x2ae1,-0xd5f+0x1ca*0xb+-0x64e,-0x955*-0x1+-0x222+0x399*-0x2),_0xc21a0['gloss']=-0xd1f+-0x24cd+-0x1*-0x31ed,_0xc21a0['glossInver'+'t']=!(0xa06+0x236a*0x1+-0x2d70),_0xc21a0['useMetalne'+'ss']=!(-0x24e4+-0xf55+0x1d*0x1cd);let _0x5d1e27,_0x41abe3;if(_0x43b7db['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x2ff46f=_0x43b7db['pbrMetalli'+'cRoughness'];if(_0x2ff46f['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0x5d1e27=_0x2ff46f['baseColorF'+'actor'],_0xc21a0['diffuse']['set'](Math['pow'](_0x5d1e27[-0x1b4d*-0x1+-0x1c0f*-0x1+-0x93a*0x6],(-0x251b+-0x1*0x181+0x269d)/(0x287+0x16a1+0x4a*-0x57+0.20000000000000018)),Math['pow'](_0x5d1e27[0x1*0x21b1+-0x43*-0x25+-0x3*0xe75],(0x795*0x2+-0x2330+0x1407*0x1)/(-0x2269+-0x3b*-0x8b+0x3d*0xa+0.20000000000000018)),Math['pow'](_0x5d1e27[-0xc19*0x1+0x7b5+-0x466*-0x1],(0x2290+0x2cd*0x8+0x38f7*-0x1)/(0x1*0x18fa+0x2*0x116d+-0x3bd2+0.20000000000000018))),_0xc21a0['opacity']=_0x5d1e27[0x30*-0x5+0x73*0x43+0xd*-0x23e]),_0x2ff46f['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x14c2fb=_0x2ff46f['baseColorT'+'exture'];_0x41abe3=_0x32e6d2[_0x14c2fb['index']],_0xc21a0['diffuseMap']=_0x41abe3,_0xc21a0['diffuseMap'+'Channel']='rgb',_0xc21a0['opacityMap']=_0x41abe3,_0xc21a0['opacityMap'+'Channel']='a',Dt(_0x14c2fb,_0xc21a0,['diffuse','opacity']);}if(_0x2ff46f['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0xc21a0['metalness']=_0x2ff46f['metallicFa'+'ctor']),_0x2ff46f['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0xc21a0['gloss']=_0x2ff46f['roughnessF'+'actor']),_0x2ff46f['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0xf2da05=_0x2ff46f['metallicRo'+'ughnessTex'+'ture'];_0xc21a0['metalnessM'+'ap']=_0xc21a0['glossMap']=_0x32e6d2[_0xf2da05['index']],_0xc21a0['metalnessM'+'apChannel']='b',_0xc21a0['glossMapCh'+'annel']='g',Dt(_0xf2da05,_0xc21a0,['gloss','metalness']);}}if(_0x43b7db['hasOwnProp'+'erty']('normalText'+'ure')){const _0x2f3ca3=_0x43b7db['normalText'+'ure'];_0xc21a0['normalMap']=_0x32e6d2[_0x2f3ca3['index']],Dt(_0x2f3ca3,_0xc21a0,['normal']),_0x2f3ca3['hasOwnProp'+'erty']('scale')&&(_0xc21a0['bumpiness']=_0x2f3ca3['scale']);}if(_0x43b7db['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x127738=_0x43b7db['occlusionT'+'exture'];_0xc21a0['aoMap']=_0x32e6d2[_0x127738['index']],_0xc21a0['aoMapChann'+'el']='r',Dt(_0x127738,_0xc21a0,['ao']);}if(_0x43b7db['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0x5d1e27=_0x43b7db['emissiveFa'+'ctor'],_0xc21a0['emissive']['set'](Math['pow'](_0x5d1e27[0x1312+0x959+0x123*-0x19],(0x1ba2+0x9ea+-0x258b)/(-0x2334+-0x14*-0x14+0x3b*0x92+0.20000000000000018)),Math['pow'](_0x5d1e27[0x155*0x11+0x27*-0x89+0x97*-0x3],(-0x15d7+-0x1229+0x2801)/(-0x10a9+-0x15*0x8f+-0xe33*-0x2+0.20000000000000018)),Math['pow'](_0x5d1e27[0x14b*-0x1a+0x2*-0x1277+-0x335*-0x16],(-0x1511+-0x25b7+-0x95*-0x65)/(0x1cf9+-0x1f19+-0xe*-0x27+0.20000000000000018)))),_0x43b7db['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x1e780f=_0x43b7db['emissiveTe'+'xture'];_0xc21a0['emissiveMa'+'p']=_0x32e6d2[_0x1e780f['index']],Dt(_0x1e780f,_0xc21a0,['emissive']);}if(_0x43b7db['hasOwnProp'+'erty']('alphaMode'))switch(_0x43b7db['alphaMode']){case'MASK':_0xc21a0['blendType']=Cs,_0x43b7db['hasOwnProp'+'erty']('alphaCutof'+'f')?_0xc21a0['alphaTest']=_0x43b7db['alphaCutof'+'f']:_0xc21a0['alphaTest']=0x2370+-0x1*-0x1a2d+-0x3d9d+0.5;break;case'BLEND':_0xc21a0['blendType']=Zs,_0xc21a0['depthWrite']=!(0x255+0x2558+-0x27ac);break;default:case'OPAQUE':_0xc21a0['blendType']=Cs;break;}else _0xc21a0['blendType']=Cs;_0x43b7db['hasOwnProp'+'erty']('doubleSide'+'d')?(_0xc21a0['twoSidedLi'+'ghting']=_0x43b7db['doubleSide'+'d'],_0xc21a0['cull']=_0x43b7db['doubleSide'+'d']?bt:pa):(_0xc21a0['twoSidedLi'+'ghting']=!(-0x21e9+-0x1158+0x3342),_0xc21a0['cull']=pa);const _0x55a982={'KHR_materials_clearcoat':lN,'KHR_materials_emissive_strength':_N,'KHR_materials_ior':dN,'KHR_materials_dispersion':fN,'KHR_materials_iridescence':gN,'KHR_materials_pbrSpecularGlossiness':oN,'KHR_materials_sheen':pN,'KHR_materials_specular':hN,'KHR_materials_transmission':uN,'KHR_materials_unlit':cN,'KHR_materials_volume':mN,'KHR_materials_anisotropy':SN};if(_0x43b7db['hasOwnProp'+'erty']('extensions'))for(const _0x19c789 in _0x43b7db['extensions']){const _0x52e8af=_0x55a982[_0x19c789];_0x52e8af!==void(-0x300*-0x3+-0x13ab+-0xaab*-0x1)&&_0x52e8af(_0x43b7db['extensions'][_0x19c789],_0xc21a0,_0x32e6d2);}return _0xc21a0['update'](),_0xc21a0;},yN=(_0x57d4c5,_0x27f3ea,_0x405dd3,_0x4cfe99,_0x5ee8be,_0x5df82c,_0x1549c1)=>{const _0x3fb188=_0x589fb3=>new Fh(yl(_0x589fb3['type']),Pn(_0x589fb3,_0x4cfe99)),_0x3da933={'STEP':Bv,'LINEAR':Su,'CUBICSPLINE':yu},_0x1d0968={},_0x24d410={},_0x1e9dca={};let _0x37c816=-0x1db2+-0x1*0x1a03+0x37b6,_0x401d44;for(_0x401d44=-0x237+0xd6f*0x1+-0x2ce*0x4;_0x401d44<_0x57d4c5['samplers']['length'];++_0x401d44){const _0x272a14=_0x57d4c5['samplers'][_0x401d44];_0x1d0968['hasOwnProp'+'erty'](_0x272a14['input'])||(_0x1d0968[_0x272a14['input']]=_0x3fb188(_0x405dd3[_0x272a14['input']])),_0x24d410['hasOwnProp'+'erty'](_0x272a14['output'])||(_0x24d410[_0x272a14['output']]=_0x3fb188(_0x405dd3[_0x272a14['output']]));const _0xdcaccf=_0x272a14['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x3da933['hasOwnProp'+'erty'](_0x272a14['interpolat'+'ion'])?_0x3da933[_0x272a14['interpolat'+'ion']]:Su,_0x21650a={'paths':[],'input':_0x272a14['input'],'output':_0x272a14['output'],'interpolation':_0xdcaccf};_0x1e9dca[_0x401d44]=_0x21650a;}const _0x5becd1=[],_0x4d8b13={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x4fc4db=_0x2582f0=>{const _0x45ae6b=[];for(;_0x2582f0;)_0x45ae6b['unshift'](_0x2582f0['name']),_0x2582f0=_0x2582f0['parent'];return _0x45ae6b;},_0x5be782=(_0x130600,_0x545804,_0xa7f470)=>{const _0x10d0a7=_0x24d410[_0x130600['output']];if(!_0x10d0a7){w['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0xa7f470+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x178d47;if(_0x5df82c&&_0x5df82c[_0x545804['mesh']]){const _0x37b506=_0x5df82c[_0x545804['mesh']];_0x37b506['hasOwnProp'+'erty']('extras')&&_0x37b506['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x178d47=_0x37b506['extras']['targetName'+'s']);}const _0x377c23=_0x10d0a7['data'],_0x34cf92=_0x377c23['length']/_0x1d0968[_0x130600['input']]['data']['length'],_0x941850=_0x377c23['length']/_0x34cf92,_0x17a37d=_0x941850*(0x2*-0x6e6+-0x2ce*-0x4+-0x8*-0x53),_0x20fdb6=new ArrayBuffer(_0x17a37d*_0x34cf92);for(let _0x20c761=-0x1e92+0x4c2*0x2+0x150e*0x1;_0x20c761<_0x34cf92;_0x20c761++){const _0x194d4d=new Float32Array(_0x20fdb6,_0x17a37d*_0x20c761,_0x941850);for(let _0x529092=-0x42b+-0xeb8+0x12e3;_0x529092<_0x941850;_0x529092++)_0x194d4d[_0x529092]=_0x377c23[_0x529092*_0x34cf92+_0x20c761];const _0xbeccdc=new Fh(0x126+-0xa*-0x63+-0x503,_0x194d4d),_0x2dacdf=_0x178d47!=null&&_0x178d47[_0x20c761]?'name.'+_0x178d47[_0x20c761]:_0x20c761;_0x24d410[-_0x37c816]=_0xbeccdc;const _0x106978={'paths':[{'entityPath':_0xa7f470,'component':'graph','propertyPath':['weight.'+_0x2dacdf]}],'input':_0x130600['input'],'output':-_0x37c816,'interpolation':_0x130600['interpolat'+'ion']};_0x37c816++,_0x1e9dca['morphCurve'+'-'+_0x401d44+'-'+_0x20c761]=_0x106978;}};for(_0x401d44=-0x886+0x159a+-0xd14;_0x401d44<_0x57d4c5['channels']['length'];++_0x401d44){const _0x54641e=_0x57d4c5['channels'][_0x401d44],_0x554d6d=_0x54641e['target'],_0x3c884c=_0x1e9dca[_0x54641e['sampler']],_0x5ff7c=_0x5ee8be[_0x554d6d['node']],_0x5e7ff9=_0x1549c1[_0x554d6d['node']],_0x357204=_0x4fc4db(_0x5ff7c);_0x554d6d['path']['startsWith']('weights')?(_0x5be782(_0x3c884c,_0x5e7ff9,_0x357204),_0x1e9dca[_0x54641e['sampler']]['morphCurve']=!(-0x21a3+0x1*-0x1e8e+0x4031)):_0x3c884c['paths']['push']({'entityPath':_0x357204,'component':'graph','propertyPath':[_0x4d8b13[_0x554d6d['path']]]});}const _0x39fc00=[],_0x5ad40e=[],_0x5cf7b5=[];for(const _0x183bbf in _0x1d0968)_0x39fc00['push'](_0x1d0968[_0x183bbf]),_0x1d0968[_0x183bbf]=_0x39fc00['length']-(-0x1d81+-0x77f*-0x1+-0xf5*-0x17);for(const _0x3cf432 in _0x24d410)_0x5ad40e['push'](_0x24d410[_0x3cf432]),_0x24d410[_0x3cf432]=_0x5ad40e['length']-(0x1*0x15df+0xfa3+-0x2581);for(const _0x476f7b in _0x1e9dca){const _0x388163=_0x1e9dca[_0x476f7b];_0x388163['morphCurve']||(_0x5cf7b5['push'](new v0(_0x388163['paths'],_0x1d0968[_0x388163['input']],_0x24d410[_0x388163['output']],_0x388163['interpolat'+'ion'])),_0x388163['paths']['length']>0x40d*-0x5+-0x1*0x1b3b+-0x3f5*-0xc&&_0x388163['paths'][0x7d4+0x3*0x395+-0x1293]['propertyPa'+'th'][0x456+-0x54d+-0x1*-0xf7]==='localRotat'+'ion'&&_0x388163['interpolat'+'ion']!==yu&&_0x5becd1['push'](_0x5cf7b5[_0x5cf7b5['length']-(0x1e7*-0xc+0x968+0xd6d*0x1)]['output']));}_0x5becd1['sort']();let _0x3b8619=null,_0x5d890f;for(_0x401d44=-0x2534*-0x1+0x504*-0x2+-0x94*0x2f;_0x401d44<_0x5becd1['length'];++_0x401d44){const _0x56e693=_0x5becd1[_0x401d44];if(_0x401d44===-0x236c+0x1221+0x114b||_0x56e693!==_0x3b8619){if(_0x5d890f=_0x5ad40e[_0x56e693],_0x5d890f['components']===0xdad+-0x5a9+-0x800){const _0x2b2116=_0x5d890f['data'],_0x22c4ef=_0x2b2116['length']-(-0x39*0x1f+-0x1702+0x1ded);for(let _0x38922d=-0x1dcb+-0x133*0x1+0x1efe;_0x38922d<_0x22c4ef;_0x38922d+=-0x42d*0x3+0xd4*-0x2e+0x32a3)_0x2b2116[_0x38922d+(0x1*-0x2689+0x1*0xfc6+0x1*0x16c3)]*_0x2b2116[_0x38922d+(0x12c6+0x1*0x95+-0x1357)]+_0x2b2116[_0x38922d+(0x1479+-0x2485*-0x1+0x655*-0x9)]*_0x2b2116[_0x38922d+(-0x3*-0x4d4+-0x69*0x13+-0x6ac)]+_0x2b2116[_0x38922d+(0x6c1+0x10d0+-0x178f)]*_0x2b2116[_0x38922d+(-0x13a9+0x9*-0xd5+0xbc*0x25)]+_0x2b2116[_0x38922d+(0x91*0x23+0xa5b*-0x1+-0x10d*0x9)]*_0x2b2116[_0x38922d+(-0xf9b*0x1+-0x12bb+0x225d)]<0x1909+-0x16a5+-0x264&&(_0x2b2116[_0x38922d+(-0x10a+-0x6*-0x36d+-0x3*0x680)]*=-(0x9a4*-0x1+-0x14f0+0x1e95),_0x2b2116[_0x38922d+(0x86e+0x1172*-0x1+0x101*0x9)]*=-(0x1efe+0x1179+-0x3076*0x1),_0x2b2116[_0x38922d+(-0xd*0xda+-0x185b+-0x19*-0x16b)]*=-(0x805*-0x1+0x232f+0x1*-0x1b29),_0x2b2116[_0x38922d+(0x196d*0x1+0x1*-0xce7+-0xc7f)]*=-(0x2242+-0x192e*-0x1+-0x3b6f));}_0x3b8619=_0x56e693;}}let _0x4d8db0=-0x2572+-0x1c87+-0x41f9*-0x1;for(_0x401d44=0x1c6e+0x14*0x130+0x342e*-0x1;_0x401d44<_0x39fc00['length'];_0x401d44++)_0x5d890f=_0x39fc00[_0x401d44]['_data'],_0x4d8db0=Math['max'](_0x4d8db0,_0x5d890f['length']===-0x793+0x15dd+0x725*-0x2?-0x1b10+0x2636+-0xb26:_0x5d890f[_0x5d890f['length']-(-0x168a+-0x16bd+0x33c*0xe)]);return new Qi(_0x57d4c5['hasOwnProp'+'erty']('name')?_0x57d4c5['name']:'animation_'+_0x27f3ea,_0x4d8db0,_0x39fc00,_0x5ad40e,_0x5cf7b5);},Dc=new te(),Qa=new D(),vN=(_0x4b29a7,_0x11797a,_0x37587c)=>{const _0xc7cb96=new Ie();if(_0x4b29a7['hasOwnProp'+'erty']('name')&&_0x4b29a7['name']['length']>0x2*0x3b9+-0x24b*-0x10+-0x2c22?_0xc7cb96['name']=_0x4b29a7['name']:_0xc7cb96['name']='node_'+_0x11797a,_0x4b29a7['hasOwnProp'+'erty']('matrix')&&(Dc['data']['set'](_0x4b29a7['matrix']),Dc['getTransla'+'tion'](Qa),_0xc7cb96['setLocalPo'+'sition'](Qa),Dc['getEulerAn'+'gles'](Qa),_0xc7cb96['setLocalEu'+'lerAngles'](Qa),Dc['getScale'](Qa),_0xc7cb96['setLocalSc'+'ale'](Qa)),_0x4b29a7['hasOwnProp'+'erty']('rotation')){const _0xb6c97c=_0x4b29a7['rotation'];_0xc7cb96['setLocalRo'+'tation'](_0xb6c97c[0x154a*0x1+0x6cd+-0x1c17],_0xb6c97c[-0xbc1+-0x1361*0x1+0x1f23*0x1],_0xb6c97c[0x125e+0x7*-0x12e+-0xa1a],_0xb6c97c[-0x8e1*-0x3+0xb89+-0x2629]);}if(_0x4b29a7['hasOwnProp'+'erty']('translatio'+'n')){const _0x2487c7=_0x4b29a7['translatio'+'n'];_0xc7cb96['setLocalPo'+'sition'](_0x2487c7[-0x25*-0x81+-0x2f*-0x73+-0x27c2],_0x2487c7[0x3*0x140+-0x1*0x1477+-0x1*-0x10b8],_0x2487c7[-0x1989+0xe6+0x18a5*0x1]);}if(_0x4b29a7['hasOwnProp'+'erty']('scale')){const _0x231c73=_0x4b29a7['scale'];_0xc7cb96['setLocalSc'+'ale'](_0x231c73[-0x9*-0x3a1+0x22d2+-0x437b*0x1],_0x231c73[0x195d*-0x1+0x23b8*-0x1+-0x45d*-0xe],_0x231c73[-0xb24+-0x11e2+-0x1*-0x1d08]);}return _0x4b29a7['hasOwnProp'+'erty']('extensions')&&_0x4b29a7['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x37587c['set'](_0x4b29a7,{'ext':_0x4b29a7['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0xc7cb96;},xN=(_0x4311b3,_0xfdedc)=>{const _0x3af232=_0x4311b3['type']==='orthograph'+'ic'?En:ni,_0x4a9e6a=_0x3af232===En?_0x4311b3['orthograph'+'ic']:_0x4311b3['perspectiv'+'e'],_0x84d615={'enabled':!(0x3*0x607+0xe*0x158+-0x24e4),'projection':_0x3af232,'nearClip':_0x4a9e6a['znear'],'aspectRatioMode':hm};_0x4a9e6a['zfar']&&(_0x84d615['farClip']=_0x4a9e6a['zfar']),_0x3af232===En?(_0x84d615['orthoHeigh'+'t']=(-0x9f5+-0x26d2+-0x1*-0x30c7+0.5)*_0x4a9e6a['ymag'],_0x4a9e6a['ymag']&&(_0x84d615['aspectRati'+'oMode']=lu,_0x84d615['aspectRati'+'o']=_0x4a9e6a['xmag']/_0x4a9e6a['ymag'])):(_0x84d615['fov']=_0x4a9e6a['yfov']*Y['RAD_TO_DEG'],_0x4a9e6a['aspectRati'+'o']&&(_0x84d615['aspectRati'+'oMode']=lu,_0x84d615['aspectRati'+'o']=_0x4a9e6a['aspectRati'+'o']));const _0x312d0e=new lt(_0x4311b3['name']);return _0x312d0e['addCompone'+'nt']('camera',_0x84d615),_0x312d0e;},TN=(_0x1dcc89,_0x4e1811)=>{const _0x50e97c={'enabled':!(0xd02+-0x15c1+0x70*0x14),'type':_0x1dcc89['type']==='point'?'omni':_0x1dcc89['type'],'color':_0x1dcc89['hasOwnProp'+'erty']('color')?new ie(_0x1dcc89['color']):ie['WHITE'],'range':_0x1dcc89['hasOwnProp'+'erty']('range')?_0x1dcc89['range']:0x7e5*-0x1+0x17*0x331+-0x3d*0x6f,'falloffMode':ev,'intensity':_0x1dcc89['hasOwnProp'+'erty']('intensity')?Y['clamp'](_0x1dcc89['intensity'],0x2*-0xa81+0xce9*-0x2+0x14d*0x24,-0xfac+-0x2b*0x5f+-0x1fa3*-0x1):0x1e5a+0x1*-0x10e7+-0xd72};_0x1dcc89['hasOwnProp'+'erty']('spot')&&(_0x50e97c['innerConeA'+'ngle']=_0x1dcc89['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x1dcc89['spot']['innerConeA'+'ngle']*Y['RAD_TO_DEG']:-0x257*0x10+0xae0+0x6a4*0x4,_0x50e97c['outerConeA'+'ngle']=_0x1dcc89['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x1dcc89['spot']['outerConeA'+'ngle']*Y['RAD_TO_DEG']:Math['PI']/(0x199*-0xd+0x641*0x6+-0x10bd)),_0x1dcc89['hasOwnProp'+'erty']('intensity')&&(_0x50e97c['luminance']=_0x1dcc89['intensity']*pl['getLightUn'+'itConversi'+'on'](fu[_0x50e97c['type']],_0x50e97c['outerConeA'+'ngle'],_0x50e97c['innerConeA'+'ngle']));const _0x3bc905=new lt(_0x4e1811['name']);return _0x3bc905['rotateLoca'+'l'](-0x235e+-0x8c+0x2444,0xcce+-0x23cc+0x16fe,-0x22cd+-0x115f*-0x2+0xf),_0x3bc905['addCompone'+'nt']('light',_0x50e97c),_0x3bc905;},wN=(_0x2a4c81,_0x180499,_0x1b248a,_0x3ef99d)=>{if(!_0x180499['hasOwnProp'+'erty']('skins')||_0x180499['skins']['length']===-0x195e+-0x1*0x24a9+0x3e07)return[];const _0x115861=new Map();return _0x180499['skins']['map'](_0x526cc6=>rN(_0x2a4c81,_0x526cc6,_0x180499['accessors'],_0x3ef99d,_0x1b248a,_0x115861));},EN=(_0x3ed525,_0x580756,_0x6aaefe,_0x5bb71a)=>{var _0x367ad4,_0x237952,_0x119756;const _0x3c91db={},_0x577ca7={},_0x11fa67={},_0x180735=[];return{'meshes':!_0x5bb71a['skipMeshes']&&((_0x367ad4=_0x580756==null?void(0xb*-0x359+-0x4c8+0x299b):_0x580756['meshes'])==null?void(-0xf62+-0x21af+0x3111):_0x367ad4['length'])&&((_0x237952=_0x580756==null?void(-0x5d9+-0xb*0x163+0xa8d*0x2):_0x580756['accessors'])==null?void(-0x23b3+-0x70c+0x2abf):_0x237952['length'])&&((_0x119756=_0x580756==null?void(-0x1*0x129d+0x12cf*0x2+-0x3cd*0x5):_0x580756['bufferView'+'s'])==null?void(-0xa3a+0x1344+-0x90a):_0x119756['length'])?_0x580756['meshes']['map'](_0x1338b2=>nN(_0x3ed525,_0x1338b2,_0x580756['accessors'],_0x6aaefe,_0x3c91db,_0x577ca7,_0x11fa67,_0x5bb71a,_0x180735)):[],'meshVariants':_0x577ca7,'meshDefaultMaterials':_0x11fa67,'promises':_0x180735};},bN=(_0x3f3a23,_0x4267f0,_0x39d804)=>{var _0x1cfe49,_0x4cb988,_0x170363;if(!_0x3f3a23['hasOwnProp'+'erty']('materials')||_0x3f3a23['materials']['length']===-0x1b3e+0x4*-0xae+-0x2*-0xefb)return[];const _0x4634aa=(_0x1cfe49=_0x39d804==null?void(-0x1368+-0x260a+0x3972):_0x39d804['material'])==null?void(-0x1b9f+-0x1685+0x3224):_0x1cfe49['preprocess'],_0x3806d3=((_0x4cb988=_0x39d804==null?void(-0xd17+-0x17f7+-0x132*-0x1f):_0x39d804['material'])==null?void(0x16d3*-0x1+-0xd27+0x23fa):_0x4cb988['process'])??w0,_0x17cdb0=(_0x170363=_0x39d804==null?void(0x2*0x2c5+-0xf6a+0x9e0):_0x39d804['material'])==null?void(-0xb2c+0x2*0x11d1+-0x1876):_0x170363['postproces'+'s'];return _0x3f3a23['materials']['map'](_0x1b5fe5=>{_0x4634aa&&_0x4634aa(_0x1b5fe5);const _0x6aa687=_0x3806d3(_0x1b5fe5,_0x4267f0);return _0x17cdb0&&_0x17cdb0(_0x1b5fe5,_0x6aa687),_0x6aa687;});},AN=_0x18ef22=>{if(!_0x18ef22['hasOwnProp'+'erty']('extensions')||!_0x18ef22['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x1cd672=_0x18ef22['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x5c3626={};for(let _0x2cd775=0x1*-0x977+0x17a1+-0xe2a;_0x2cd775<_0x1cd672['length'];_0x2cd775++)_0x5c3626[_0x1cd672[_0x2cd775]['name']]=_0x2cd775;return _0x5c3626;},CN=(_0x47201b,_0x3fcd2b,_0x2800b4,_0x23ae5f)=>{var _0x5f1f4f,_0x5e3fc1;if(!_0x47201b['hasOwnProp'+'erty']('animations')||_0x47201b['animations']['length']===0x5*0xde+-0xe9*0xa+-0x14*-0x3d)return[];const _0xb3da7f=(_0x5f1f4f=_0x23ae5f==null?void(0x21*-0x51+0xc86+-0x1*0x215):_0x23ae5f['animation'])==null?void(-0x6*-0x233+0x3d*0x8b+0xa7*-0x47):_0x5f1f4f['preprocess'],_0x23afa3=(_0x5e3fc1=_0x23ae5f==null?void(0x20c2+-0x59d*0x3+-0x32f*0x5):_0x23ae5f['animation'])==null?void(-0xc5b+-0x1339+0x1f94):_0x5e3fc1['postproces'+'s'];return _0x47201b['animations']['map']((_0x392c34,_0x1eb46a)=>{_0xb3da7f&&_0xb3da7f(_0x392c34);const _0x1d6716=yN(_0x392c34,_0x1eb46a,_0x47201b['accessors'],_0x2800b4,_0x3fcd2b,_0x47201b['meshes'],_0x47201b['nodes']);return _0x23afa3&&_0x23afa3(_0x392c34,_0x1d6716),_0x1d6716;});},PN=(_0x8e35e3,_0x317085,_0xa33b23,_0xea93ed)=>{const _0x52be74=_0x317085['accessors'];_0xa33b23['forEach']((_0x32ee2e,_0xd26ef4)=>{const _0x33ac94=_0x32ee2e['ext']['attributes'];let _0x3c6b0b;if(_0x33ac94['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x320353=_0x52be74[_0x33ac94['TRANSLATIO'+'N']];_0x3c6b0b=Pn(_0x320353,_0xea93ed);}let _0x1db297;if(_0x33ac94['hasOwnProp'+'erty']('ROTATION')){const _0xcc3b14=_0x52be74[_0x33ac94['ROTATION']];_0x1db297=Pn(_0xcc3b14,_0xea93ed);}let _0x27d654;if(_0x33ac94['hasOwnProp'+'erty']('SCALE')){const _0x1dbee2=_0x52be74[_0x33ac94['SCALE']];_0x27d654=Pn(_0x1dbee2,_0xea93ed);}const _0x38c0de=(_0x3c6b0b?_0x3c6b0b['length']/(-0x2*0xa1f+-0x2*-0x1069+-0xc91*0x1):-0x1adf*0x1+0x16eb*-0x1+-0x1*-0x31ca)||(_0x1db297?_0x1db297['length']/(-0x7c*0x41+-0x1*-0x20af+-0x65*0x3):0x3*-0xa14+-0x1a09+0x3845)||(_0x27d654?_0x27d654['length']/(0x2622+0xb4d+-0x316c):-0x1ad9+0x2*-0xff2+0x3abd);if(_0x38c0de){const _0x1b9269=new Float32Array(_0x38c0de*(0x1c76+0x1619+-0x327f*0x1)),_0x146ed8=new D(),_0x490685=new le(),_0x800e1e=new D(-0x10db+-0xa*-0x343+-0xfc2,0x1b98+-0x765+-0x1432,0xca*0x2+0x1be*-0xa+0xfd9),_0x16dfdd=new te();let _0x538a3e=0x6*-0x1c5+0x19d4+-0x79b*0x2;for(let _0x561128=-0x1d27+-0x15d1+-0x1*-0x32f8;_0x561128<_0x38c0de;_0x561128++){const _0x1274f7=_0x561128*(0x25a7+-0x1*-0x1c41+0x3*-0x15f7);if(_0x3c6b0b&&_0x146ed8['set'](_0x3c6b0b[_0x1274f7],_0x3c6b0b[_0x1274f7+(0x5db*0x1+-0x1703*-0x1+-0x1cdd)],_0x3c6b0b[_0x1274f7+(0x1108*-0x1+0x2*0x1280+-0x13f6)]),_0x1db297){const _0x12084a=_0x561128*(0x13b2*-0x1+0x2344+-0x16a*0xb);_0x490685['set'](_0x1db297[_0x12084a],_0x1db297[_0x12084a+(0x6dd*-0x1+-0x727*0x1+0xe05)],_0x1db297[_0x12084a+(0x1ffd*0x1+-0x2*-0xc31+0x385d*-0x1)],_0x1db297[_0x12084a+(0xf25+0x15b2+0x2*-0x126a)]);}_0x27d654&&_0x800e1e['set'](_0x27d654[_0x1274f7],_0x27d654[_0x1274f7+(-0x4*0x4d5+-0x1e8c+-0x71*-0x71)],_0x27d654[_0x1274f7+(0x20a6+-0x1*0xc9b+0x1*-0x1409)]),_0x16dfdd['setTRS'](_0x146ed8,_0x490685,_0x800e1e);for(let _0x2af479=-0x1ecb*-0x1+0xd*0x1f3+-0x3822;_0x2af479<0x1227+0x15d4+-0x27eb;_0x2af479++)_0x1b9269[_0x538a3e++]=_0x16dfdd['data'][_0x2af479];}_0x32ee2e['matrices']=_0x1b9269;}});},MN=(_0x242417,_0x132bcd,_0x11e28d)=>{var _0x2d243f,_0x20d951,_0x55367b;if(!_0x242417['hasOwnProp'+'erty']('nodes')||_0x242417['nodes']['length']===-0x6*-0x2b6+-0x211c+-0x188*-0xb)return[];const _0x52a2a4=(_0x2d243f=_0x132bcd==null?void(-0x2411*-0x1+0x4*0x8a5+-0x1*0x46a5):_0x132bcd['node'])==null?void(-0x2014+0x31*0x35+0x5*0x463):_0x2d243f['preprocess'],_0x18a00f=((_0x20d951=_0x132bcd==null?void(0x2403+0x8a7*0x1+-0x2caa):_0x132bcd['node'])==null?void(0xa11+-0xf1*-0x29+0x30aa*-0x1):_0x20d951['process'])??vN,_0x3027af=(_0x55367b=_0x132bcd==null?void(-0xff8+-0xe*-0xcf+0x4a6):_0x132bcd['node'])==null?void(-0x8*0x492+0x1*-0x1de3+0x4273):_0x55367b['postproces'+'s'],_0x53a1ac=_0x242417['nodes']['map']((_0x1d80b0,_0x5e7e34)=>{_0x52a2a4&&_0x52a2a4(_0x1d80b0);const _0x34a31b=_0x18a00f(_0x1d80b0,_0x5e7e34,_0x11e28d);return _0x3027af&&_0x3027af(_0x1d80b0,_0x34a31b),_0x34a31b;});for(let _0x3f0a64=0xf08+0x154a+0x1229*-0x2;_0x3f0a64<_0x242417['nodes']['length'];++_0x3f0a64){const _0x4c2ec8=_0x242417['nodes'][_0x3f0a64];if(_0x4c2ec8['hasOwnProp'+'erty']('children')){const _0x44c0b2=_0x53a1ac[_0x3f0a64],_0x2a86ff={};for(let _0xf99ddd=0x50*0x44+-0x20cb+-0xc5*-0xf;_0xf99ddd<_0x4c2ec8['children']['length'];++_0xf99ddd){const _0x5c7c50=_0x53a1ac[_0x4c2ec8['children'][_0xf99ddd]];_0x5c7c50['parent']||(_0x2a86ff['hasOwnProp'+'erty'](_0x5c7c50['name'])?_0x5c7c50['name']+=_0x2a86ff[_0x5c7c50['name']]++:_0x2a86ff[_0x5c7c50['name']]=0xacd+0x78d*-0x5+0x1af5,_0x44c0b2['addChild'](_0x5c7c50));}}}return _0x53a1ac;},DN=(_0x2b1834,_0x230983)=>{var _0x33345b;const _0x2ca4cf=[],_0x1a42d1=_0x2b1834['scenes']['length'];if(_0x1a42d1===-0x251*-0x2+-0x4*-0x2cf+-0xfdd&&((_0x33345b=_0x2b1834['scenes'][0x1dfa+-0x1*0x1ffb+-0x1b*-0x13]['nodes'])==null?void(0x1*0x182a+-0x2678+-0x727*-0x2):_0x33345b['length'])===0x157f*-0x1+0x1850+0x4*-0xb4){const _0x99fa02=_0x2b1834['scenes'][0x2133+0x2*-0x1219+0x2ff]['nodes'][-0xff8+-0xa8a+0x1a82];_0x2ca4cf['push'](_0x230983[_0x99fa02]);}else for(let _0x2a9db8=0x6b4+-0x1*0x97b+-0x2c7*-0x1;_0x2a9db8<_0x1a42d1;_0x2a9db8++){const _0x234977=_0x2b1834['scenes'][_0x2a9db8];if(_0x234977['nodes']){const _0x176123=new Ie(_0x234977['name']);for(let _0x33c797=-0x1de3+-0x26d0+0x44b3;_0x33c797<_0x234977['nodes']['length'];_0x33c797++){const _0x2fb50c=_0x230983[_0x234977['nodes'][_0x33c797]];_0x176123['addChild'](_0x2fb50c);}_0x2ca4cf['push'](_0x176123);}}return _0x2ca4cf;},IN=(_0x20ee88,_0x2eed50,_0x390a39)=>{var _0x269879,_0x3fa645,_0x27172b;let _0x5bade7=null;if(_0x20ee88['hasOwnProp'+'erty']('nodes')&&_0x20ee88['hasOwnProp'+'erty']('cameras')&&_0x20ee88['cameras']['length']>0x61f+0x2e*-0xd+-0x3c9){const _0x230ed9=(_0x269879=_0x390a39==null?void(-0x85a+0xff1+-0x797):_0x390a39['camera'])==null?void(-0x2*-0x21d+0x5*-0x3bf+0xe81):_0x269879['preprocess'],_0x4dea1e=((_0x3fa645=_0x390a39==null?void(-0x17*-0x16c+0x2*0x120+-0x22f4):_0x390a39['camera'])==null?void(-0x12fd+-0x212a+-0xd*-0x403):_0x3fa645['process'])??xN,_0x513feb=(_0x27172b=_0x390a39==null?void(-0x36d*0x3+0x1e4a*0x1+-0x1403):_0x390a39['camera'])==null?void(-0xba7*-0x1+-0x15aa+0xe9*0xb):_0x27172b['postproces'+'s'];_0x20ee88['nodes']['forEach']((_0x34b0e7,_0x19a9d8)=>{if(_0x34b0e7['hasOwnProp'+'erty']('camera')){const _0x1a307d=_0x20ee88['cameras'][_0x34b0e7['camera']];if(_0x1a307d){_0x230ed9&&_0x230ed9(_0x1a307d);const _0x2b5171=_0x4dea1e(_0x1a307d,_0x2eed50[_0x19a9d8]);_0x513feb&&_0x513feb(_0x1a307d,_0x2b5171),_0x2b5171&&(_0x5bade7||(_0x5bade7=new Map()),_0x5bade7['set'](_0x34b0e7,_0x2b5171));}}});}return _0x5bade7;},LN=(_0x5dd345,_0xda2297,_0x3db02c)=>{var _0x266966,_0x31a474,_0x48401b;let _0xb7667d=null;if(_0x5dd345['hasOwnProp'+'erty']('nodes')&&_0x5dd345['hasOwnProp'+'erty']('extensions')&&_0x5dd345['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x5dd345['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x69dab1=_0x5dd345['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x69dab1['length']){const _0x10e1f8=(_0x266966=_0x3db02c==null?void(0x1*0x529+-0x1059+-0xb3*-0x10):_0x3db02c['light'])==null?void(0x1457+-0x7*0x4f5+0xe5c):_0x266966['preprocess'],_0x547696=((_0x31a474=_0x3db02c==null?void(-0x2c1+-0x11bf+0x2*0xa40):_0x3db02c['light'])==null?void(-0x26b3+0x8ef+0x1fc*0xf):_0x31a474['process'])??TN,_0x76ebe8=(_0x48401b=_0x3db02c==null?void(0x1ec7+-0x2546+-0x67f*-0x1):_0x3db02c['light'])==null?void(0x16c3+-0xf04+0x1*-0x7bf):_0x48401b['postproces'+'s'];_0x5dd345['nodes']['forEach']((_0x4e8a7f,_0xf3969a)=>{if(_0x4e8a7f['hasOwnProp'+'erty']('extensions')&&_0x4e8a7f['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x4e8a7f['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x3f2515=_0x4e8a7f['extensions']['KHR_lights'+'_punctual']['light'],_0x32ceee=_0x69dab1[_0x3f2515];if(_0x32ceee){_0x10e1f8&&_0x10e1f8(_0x32ceee);const _0xc1768a=_0x547696(_0x32ceee,_0xda2297[_0xf3969a]);_0x76ebe8&&_0x76ebe8(_0x32ceee,_0xc1768a),_0xc1768a&&(_0xb7667d||(_0xb7667d=new Map()),_0xb7667d['set'](_0x4e8a7f,_0xc1768a));}}});}}return _0xb7667d;},RN=(_0x101c4a,_0x63cef0,_0x1e76e9)=>{_0x101c4a['nodes']['forEach'](_0x150a41=>{_0x150a41['hasOwnProp'+'erty']('mesh')&&_0x150a41['hasOwnProp'+'erty']('skin')&&_0x63cef0[_0x150a41['mesh']]['meshes']['forEach'](_0x36be3a=>{_0x36be3a['skin']=_0x1e76e9[_0x150a41['skin']];});});},ON=async(_0x2a7aa6,_0x3fb9f9,_0x183ca8,_0x4a8a44,_0x6fc4c1)=>{var _0x1520f8,_0x408e37;const _0x1365f6=(_0x1520f8=_0x6fc4c1==null?void(-0x542*-0x4+0x7cc*-0x2+-0x570):_0x6fc4c1['global'])==null?void(-0x1c9*-0x10+-0x1fd*-0x7+-0x2a7b):_0x1520f8['preprocess'],_0x2ea61f=(_0x408e37=_0x6fc4c1==null?void(0x884+0xeb6+-0x173a):_0x6fc4c1['global'])==null?void(-0x5*0x262+-0x593*0x1+0x117d):_0x408e37['postproces'+'s'];_0x1365f6&&_0x1365f6(_0x3fb9f9),_0x3fb9f9['asset']&&_0x3fb9f9['asset']['generator']==='PlayCanvas'&&w['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x13c0e6=new Map(),_0x511018=MN(_0x3fb9f9,_0x6fc4c1,_0x13c0e6),_0x2e4529=DN(_0x3fb9f9,_0x511018),_0x2d776b=LN(_0x3fb9f9,_0x511018,_0x6fc4c1),_0x5d6eb1=IN(_0x3fb9f9,_0x511018,_0x6fc4c1),_0xd44737=AN(_0x3fb9f9),_0x265fa0=await Promise['all'](_0x183ca8),{meshes:_0x4d658a,meshVariants:_0x3da968,meshDefaultMaterials:_0x3c9fa3,promises:_0x33897c}=EN(_0x2a7aa6,_0x3fb9f9,_0x265fa0,_0x6fc4c1),_0xca6b05=CN(_0x3fb9f9,_0x511018,_0x265fa0,_0x6fc4c1);PN(_0x2a7aa6,_0x3fb9f9,_0x13c0e6,_0x265fa0);const _0x293b26=await Promise['all'](_0x4a8a44),_0x45cc64=_0x293b26['map'](_0x29b90c=>_0x29b90c['resource']),_0xb08a68=bN(_0x3fb9f9,_0x45cc64,_0x6fc4c1),_0x1f49f2=wN(_0x2a7aa6,_0x3fb9f9,_0x511018,_0x265fa0),_0xedfe4=[];for(let _0x24e321=-0x1440+0x177c+0x24*-0x17;_0x24e321<_0x4d658a['length'];_0x24e321++)_0xedfe4[_0x24e321]=new Em(),_0xedfe4[_0x24e321]['meshes']=_0x4d658a[_0x24e321];RN(_0x3fb9f9,_0xedfe4,_0x1f49f2);const _0xef40ea=new qF();return _0xef40ea['gltf']=_0x3fb9f9,_0xef40ea['nodes']=_0x511018,_0xef40ea['scenes']=_0x2e4529,_0xef40ea['animations']=_0xca6b05,_0xef40ea['textures']=_0x293b26,_0xef40ea['materials']=_0xb08a68,_0xef40ea['variants']=_0xd44737,_0xef40ea['meshVarian'+'ts']=_0x3da968,_0xef40ea['meshDefaul'+'tMaterials']=_0x3c9fa3,_0xef40ea['renders']=_0xedfe4,_0xef40ea['skins']=_0x1f49f2,_0xef40ea['lights']=_0x2d776b,_0xef40ea['cameras']=_0x5d6eb1,_0xef40ea['nodeInstan'+'cingMap']=_0x13c0e6,_0x2ea61f&&_0x2ea61f(_0x3fb9f9,_0xef40ea),await Promise['all'](_0x33897c),_0xef40ea;},FN=(_0xf238c0,_0x51f5d5)=>{const _0x5a98be=(_0x1e80e7,_0xc481ff)=>{switch(_0x1e80e7){case 0x229+0x1de5+0x5f2:return Te;case 0x15b2+0x1*0x1d45+-0x229*0x6:return vt;case 0x1162+0xf8*-0x39+0x4cd6:return Kh;case 0x192b*0x1+0xd61+0x75:return Qh;case-0x10dd*-0x3+0x1266+-0x1dfb:return Zh;case 0x16f1+0x18c5*-0x1+0x28d7:return ma;default:return _0xc481ff;}},_0x316e3c=(_0x2b23e7,_0xb32814)=>{switch(_0x2b23e7){case-0x2f5a+-0x1*-0x50dd+0x5fac:return ue;case-0x5597+0x3be8+-0x1*-0x9d1f:return ip;case 0x27*-0x1+-0x13df*-0x2+0x1*0x16a:return yt;default:return _0xb32814;}};_0xf238c0&&(_0x51f5d5=_0x51f5d5??{},_0xf238c0['minFilter']=_0x5a98be(_0x51f5d5['minFilter'],ma),_0xf238c0['magFilter']=_0x5a98be(_0x51f5d5['magFilter'],vt),_0xf238c0['addressU']=_0x316e3c(_0x51f5d5['wrapS'],yt),_0xf238c0['addressV']=_0x316e3c(_0x51f5d5['wrapT'],yt));};let NN=-0x2e9*0x5+-0x2394+-0x1*-0x3221;const nn=_0x1e6fd1=>{var _0xd53b0f,_0x3ee0ac,_0x1d687b,_0x2d1ba6;return((_0x3ee0ac=(_0xd53b0f=_0x1e6fd1['extensions'])==null?void(0xab*0x7+-0x3*0xcae+0x215d):_0xd53b0f['KHR_textur'+'e_basisu'])==null?void(-0x1*0x1f4e+0x25e1+0x99*-0xb):_0x3ee0ac['source'])??((_0x2d1ba6=(_0x1d687b=_0x1e6fd1['extensions'])==null?void(-0xb*-0x17+0x7*-0x34e+0x1625):_0x1d687b['EXT_textur'+'e_webp'])==null?void(-0x1*0x263+0x26f*0x10+-0xc2f*0x3):_0x2d1ba6['source'])??_0x1e6fd1['source'];},kN=(_0x2a10f7,_0x4532ef,_0x162faa,_0x299841,_0x33fc18)=>{var _0x4efea5,_0xdd50e7,_0x56db7d;if(!_0x2a10f7['images']||_0x2a10f7['images']['length']===-0xb*-0x34a+0x1379+-0x128d*0x3)return[];const _0x486b10=(_0x4efea5=_0x33fc18==null?void(-0x3a9*0x2+-0x1c7f*0x1+-0x35*-0xad):_0x33fc18['image'])==null?void(-0x11aa+-0x1ffd+-0xdf*-0x39):_0x4efea5['preprocess'],_0x3a6a34=(_0xdd50e7=_0x33fc18==null?void(-0x1c*-0x116+-0x1d2e+-0x13a):_0x33fc18['image'])==null?void(-0x22c5+-0x844+-0x1df*-0x17):_0xdd50e7['processAsy'+'nc'],_0x59c65d=(_0x56db7d=_0x33fc18==null?void(0x6*0x354+-0x322+-0x10d6):_0x33fc18['image'])==null?void(0x1b53+-0x2*0x279+0x1661*-0x1):_0x56db7d['postproces'+'s'],_0xec619e={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x433f75=_0x590024=>{const _0x27a070=new Set();return _0x590024['hasOwnProp'+'erty']('materials')&&_0x590024['materials']['forEach'](_0xb0c41b=>{if(_0xb0c41b['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x550fc4=_0xb0c41b['pbrMetalli'+'cRoughness'];if(_0x550fc4['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x837050=_0x590024['textures'][_0x550fc4['baseColorT'+'exture']['index']];_0x27a070['add'](nn(_0x837050));}}if(_0xb0c41b['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x4b34e8=_0x590024['textures'][_0xb0c41b['emissiveTe'+'xture']['index']];_0x27a070['add'](nn(_0x4b34e8));}if(_0xb0c41b['hasOwnProp'+'erty']('extensions')){const _0x38dde4=_0xb0c41b['extensions']['KHR_materi'+'als_sheen'];if(_0x38dde4&&_0x38dde4['hasOwnProp'+'erty']('sheenColor'+'Texture')){const _0x464635=_0x590024['textures'][_0x38dde4['sheenColor'+'Texture']['index']];_0x27a070['add'](nn(_0x464635));}const _0x2201a3=_0xb0c41b['extensions']['KHR_materi'+'als_pbrSpe'+'cularGloss'+'iness'];if(_0x2201a3&&_0x2201a3['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x510a5e=_0x590024['textures'][_0x2201a3['specularGl'+'ossinessTe'+'xture']['index']];_0x27a070['add'](nn(_0x510a5e));}const _0xfd9774=_0xb0c41b['extensions']['KHR_materi'+'als_specul'+'ar'];if(_0xfd9774&&_0xfd9774['hasOwnProp'+'erty']('specularCo'+'lorTexture')){const _0x33c553=_0x590024['textures'][_0xfd9774['specularCo'+'lorTexture']['index']];_0x27a070['add'](nn(_0x33c553));}}}),_0x27a070;},_0x4c32f6=(_0x29dedf,_0x5f2158,_0x47fbd9,_0x345a08,_0x111ae8,_0x41d2ef)=>new Promise((_0x5678a9,_0x588b2d)=>{const _0x37ed92=_0x1ff206=>{const _0xd5e59f=(_0x29dedf['name']||'gltf-textu'+'re')+'-'+NN++,_0x56c8d9={'url':_0x5f2158||_0xd5e59f};if(_0x1ff206&&(_0x56c8d9['contents']=_0x1ff206['slice'](-0x1f0+-0x24a0+0x2690)['buffer']),_0x345a08){const _0x14a5ef=_0xec619e[_0x345a08];_0x14a5ef&&(_0x56c8d9['filename']=_0x56c8d9['url']+'.'+_0x14a5ef);}const _0x108915={'srgb':_0x41d2ef},_0x139e11=new pe(_0xd5e59f,'texture',_0x56c8d9,_0x108915,_0x111ae8);_0x139e11['on']('load',_0x2ff3fd=>_0x5678a9(_0x2ff3fd)),_0x139e11['on']('error',_0x535d57=>_0x588b2d(_0x535d57)),_0x299841['add'](_0x139e11),_0x299841['load'](_0x139e11);};_0x47fbd9?_0x47fbd9['then'](_0x56297a=>_0x37ed92(_0x56297a)):_0x37ed92(null);}),_0xb87346=_0x433f75(_0x2a10f7);return _0x2a10f7['images']['map']((_0x8c2411,_0x23b312)=>{_0x486b10&&_0x486b10(_0x8c2411);let _0x52c5d2;return _0x3a6a34?_0x52c5d2=new Promise((_0x4b8db3,_0x1df02b)=>{_0x3a6a34(_0x8c2411,(_0x5f59cc,_0x1376fb)=>{_0x5f59cc?_0x1df02b(_0x5f59cc):_0x4b8db3(_0x1376fb);});}):_0x52c5d2=new Promise(_0x3b7aac=>{_0x3b7aac(null);}),_0x52c5d2=_0x52c5d2['then'](_0x3bcf39=>{const _0x1e3dba=_0xb87346['has'](_0x23b312);return _0x3bcf39||(_0x8c2411['hasOwnProp'+'erty']('uri')?x0(_0x8c2411['uri'])?_0x4c32f6(_0x8c2411,_0x8c2411['uri'],null,jF(_0x8c2411['uri']),null,_0x1e3dba):_0x4c32f6(_0x8c2411,jn['test'](_0x8c2411['uri'])?_0x8c2411['uri']:xe['join'](_0x162faa,_0x8c2411['uri']),null,null,{'crossOrigin':'anonymous'},_0x1e3dba):_0x8c2411['hasOwnProp'+'erty']('bufferView')&&_0x8c2411['hasOwnProp'+'erty']('mimeType')?_0x4c32f6(_0x8c2411,null,_0x4532ef[_0x8c2411['bufferView']],_0x8c2411['mimeType'],null,_0x1e3dba):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x23b312)));}),_0x59c65d&&(_0x52c5d2=_0x52c5d2['then'](_0x5d646f=>(_0x59c65d(_0x8c2411,_0x5d646f),_0x5d646f))),_0x52c5d2;});},UN=(_0xc73469,_0x384c9f,_0x4f8822)=>{var _0x14da5a,_0x4e673b,_0x40b15f,_0x1edcf4,_0x56fa04;if(!((_0x14da5a=_0xc73469==null?void(0x1*-0xccf+0xc1c*0x2+0x17*-0x7f):_0xc73469['images'])!=null&&_0x14da5a['length'])||!((_0x4e673b=_0xc73469==null?void(-0x59a+0x2*0x121f+0xf52*-0x2):_0xc73469['textures'])!=null&&_0x4e673b['length']))return[];const _0x3c37d1=(_0x40b15f=_0x4f8822==null?void(0x1*-0x1a51+-0x154+0x1ba5):_0x4f8822['texture'])==null?void(0x29*-0x7e+-0x8*-0x49+0x11e6):_0x40b15f['preprocess'],_0xa0c636=(_0x1edcf4=_0x4f8822==null?void(-0xa5*0x1a+0x5f+0x1063):_0x4f8822['texture'])==null?void(-0x1b82+0x1*-0x13bd+0x2f3f):_0x1edcf4['processAsy'+'nc'],_0x1bf05d=(_0x56fa04=_0x4f8822==null?void(-0x2473*-0x1+-0x259c+-0x21*-0x9):_0x4f8822['texture'])==null?void(0xa51+0x353+-0xda4):_0x56fa04['postproces'+'s'],_0xfd273e=new Set();return _0xc73469['textures']['map'](_0x11f46a=>{_0x3c37d1&&_0x3c37d1(_0x11f46a);let _0x470ddb;return _0xa0c636?_0x470ddb=new Promise((_0x253f4b,_0x3c23dd)=>{_0xa0c636(_0x11f46a,_0xc73469['images'],(_0x59d95e,_0x2fde91)=>{_0x59d95e?_0x3c23dd(_0x59d95e):_0x253f4b(_0x2fde91);});}):_0x470ddb=new Promise(_0x2914d3=>{_0x2914d3(null);}),_0x470ddb=_0x470ddb['then'](_0x82ed8a=>{_0x82ed8a=_0x82ed8a??nn(_0x11f46a);const _0x3d523a=_0xfd273e['has'](_0x82ed8a);return _0xfd273e['add'](_0x82ed8a),_0x384c9f[_0x82ed8a]['then'](_0x529027=>{const _0x2cb819=_0x3d523a?tN(_0x529027):_0x529027;return FN(_0x2cb819['resource'],(_0xc73469['samplers']??[])[_0x11f46a['sampler']]),_0x2cb819;});}),_0x1bf05d&&(_0x470ddb=_0x470ddb['then'](_0x330c4b=>(_0x1bf05d(_0x11f46a,_0x330c4b),_0x330c4b))),_0x470ddb;});},BN=(_0x1c4bfa,_0x2861a4,_0xe101a3,_0x473388)=>{var _0x3c8942,_0x28b4a3,_0x2f4709;if(!_0x1c4bfa['buffers']||_0x1c4bfa['buffers']['length']===-0x1812+0x802+0x1010)return[];const _0x29ff3f=(_0x3c8942=_0x473388==null?void(0x2349+0x111f+-0x3468):_0x473388['buffer'])==null?void(-0x1bb*-0xd+0x1a26+-0x3*0x1037):_0x3c8942['preprocess'],_0x3cd2c5=(_0x28b4a3=_0x473388==null?void(-0xa8+0xa40+-0x266*0x4):_0x473388['buffer'])==null?void(-0x6b9*0x1+-0x2*-0x7d+0x1*0x5bf):_0x28b4a3['processAsy'+'nc'],_0x28ba8b=(_0x2f4709=_0x473388==null?void(0x3*-0x375+0x1b01+-0x851*0x2):_0x473388['buffer'])==null?void(-0x7fe+-0x211d+0x291b):_0x2f4709['postproces'+'s'];return _0x1c4bfa['buffers']['map']((_0xfe27b1,_0x2d2635)=>{_0x29ff3f&&_0x29ff3f(_0xfe27b1);let _0x4d63ac;return _0x3cd2c5?_0x4d63ac=new Promise((_0x26c7f5,_0x1b34b7)=>{_0x3cd2c5(_0xfe27b1,(_0x376b16,_0x22334c)=>{_0x376b16?_0x1b34b7(_0x376b16):_0x26c7f5(_0x22334c);});}):_0x4d63ac=new Promise(_0x4d0940=>{_0x4d0940(null);}),_0x4d63ac=_0x4d63ac['then'](_0x292be4=>{if(_0x292be4)return _0x292be4;if(_0xfe27b1['hasOwnProp'+'erty']('uri')){if(x0(_0xfe27b1['uri'])){const _0x1640b7=atob(_0xfe27b1['uri']['split'](',')[0x1fe+-0x1*-0x1cd3+-0x1ed0]),_0x59f333=new Uint8Array(_0x1640b7['length']);for(let _0x22bf35=0x4b8+0x7c3*-0x2+0xace;_0x22bf35<_0x1640b7['length'];_0x22bf35++)_0x59f333[_0x22bf35]=_0x1640b7['charCodeAt'](_0x22bf35);return _0x59f333;}return new Promise((_0x1d22f2,_0xda29)=>{ot['get'](jn['test'](_0xfe27b1['uri'])?_0xfe27b1['uri']:xe['join'](_0xe101a3,_0xfe27b1['uri']),{'cache':!(0x96d+-0x14b1+-0xb44*-0x1),'responseType':'arraybuffe'+'r','retry':!(0x918+0xd*-0x139+0xd*0x86)},(_0x4d4f92,_0x3f2332)=>{_0x4d4f92?_0xda29(_0x4d4f92):_0x1d22f2(new Uint8Array(_0x3f2332));});});}return _0x2861a4;}),_0x28ba8b&&(_0x4d63ac=_0x4d63ac['then'](_0x2c1475=>(_0x28ba8b(_0x1c4bfa['buffers'][_0x2d2635],_0x2c1475),_0x2c1475))),_0x4d63ac;});},zN=(_0x52b77a,_0x1f3cae)=>{const _0x3d7878=JSON['parse']((_0x379c05=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x379c05);let _0x4c7428='';for(let _0x90a3f=0x1c09*-0x1+0x626+0x15e3;_0x90a3f<_0x379c05['length'];_0x90a3f++)_0x4c7428+=String['fromCharCo'+'de'](_0x379c05[_0x90a3f]);return decodeURIComponent(escape(_0x4c7428));})(_0x52b77a));if(_0x3d7878['asset']&&_0x3d7878['asset']['version']&&parseFloat(_0x3d7878['asset']['version'])<-0x5*-0x58a+0xeef+-0x3*0xe35){_0x1f3cae('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x3d7878['asset']['version']+'\x27.');return;}_0x1f3cae(null,_0x3d7878);},VN=(_0x400232,_0x593b38)=>{const _0x3f6d7a=_0x400232 instanceof ArrayBuffer?new DataView(_0x400232):new DataView(_0x400232['buffer'],_0x400232['byteOffset'],_0x400232['byteLength']),_0x287766=_0x3f6d7a['getUint32'](-0x1f*-0x77+0x1b51+-0x29ba,!(-0x1653+0x386+0x1*0x12cd)),_0x4a70cf=_0x3f6d7a['getUint32'](-0x12db+-0x11c3+0x24a2,!(0x2*0xcfc+0x1*-0x24b+-0x17ad)),_0x1b5c4e=_0x3f6d7a['getUint32'](0x247c+-0x1*-0xf4c+-0x19e*0x20,!(-0xb*-0x200+0xcd3*-0x2+0x2*0x1d3));if(_0x287766!==-0x147eede4+0x57a99720+0xb6f7*0x46d){_0x593b38('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x287766['toString'](-0x20b*0xd+-0x9*-0x17f+-0x1*-0xd28));return;}if(_0x4a70cf!==0x3be*0x7+-0x1720+-0x310){_0x593b38('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x4a70cf);return;}if(_0x1b5c4e<=-0xd51+0x1*-0xb84+0x27*0xa3||_0x1b5c4e>_0x3f6d7a['byteLength']){_0x593b38('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x1b5c4e);return;}const _0x49a8f1=[];let _0x3de22e=-0x5e*-0x8+0x1*0x1d1b+-0x1*0x1fff;for(;_0x3de22e<_0x1b5c4e;){const _0x5f00d3=_0x3f6d7a['getUint32'](_0x3de22e,!(0x23b0+-0x5c3*-0x4+-0x3abc));_0x3de22e+_0x5f00d3+(0xeb3+0xde9+-0x1c94)>_0x3f6d7a['byteLength']&&_0x593b38('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x5f00d3);const _0x1a954d=_0x3f6d7a['getUint32'](_0x3de22e+(-0x19e9+0x2548+0x11*-0xab),!(-0x14cb+-0xc51+0x211c)),_0x39d14e=new Uint8Array(_0x3f6d7a['buffer'],_0x3f6d7a['byteOffset']+_0x3de22e+(-0x1*-0x2186+0x7*0x3d7+-0x3c5f),_0x5f00d3);_0x49a8f1['push']({'length':_0x5f00d3,'type':_0x1a954d,'data':_0x39d14e}),_0x3de22e+=_0x5f00d3+(0x7*0x407+0xffc+-0x1*0x2c25);}if(_0x49a8f1['length']!==0x19cd+-0x1*-0x2221+-0x211*0x1d&&_0x49a8f1['length']!==-0x7e*-0x27+0x24d+-0x157d){_0x593b38('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x49a8f1[-0x232f*0x1+-0x138c+0x36bb]['type']!==-0x8d12f3fa+-0x33a8d70c+0x10f0b1e50){_0x593b38('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x49a8f1[-0x360+0x13*0x155+-0x15ef*0x1]['type']['toString'](0x1*-0x14b9+0xbf*-0x22+0x2e27));return;}if(_0x49a8f1['length']>0x7e*0x6+-0x4*0x25+-0x25f&&_0x49a8f1[0x16f*-0x12+0x1*-0x1f75+0x3944]['type']!==-0x38581b+0x1*0x128a3d+0x741720){_0x593b38('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x49a8f1[0x754+0x1f26*0x1+-0xc9*0x31]['type']['toString'](0x1d2*0x13+0x17*0x153+0x455*-0xf));return;}_0x593b38(null,{'gltfChunk':_0x49a8f1[0x1b1a*-0x1+-0x1abb+0x35d5]['data'],'binaryChunk':_0x49a8f1['length']===0x195d*0x1+0x43*-0x60+0x3b*-0x1?_0x49a8f1[0x1d03*0x1+-0x219f+0x1*0x49d]['data']:null});},GN=(_0x2daf15,_0x3482a,_0x4ae662)=>{const _0x419bbe=()=>{const _0x42e907=new Uint8Array(_0x3482a);return _0x42e907[-0x27*0xd5+0xb7d+0x1*0x14f6]===0x206c+-0x1*-0x1bd2+-0x1*0x3bd7&&_0x42e907[-0x899+-0x1f1+0xa8b]===-0x1808+0x1*-0xa89+0x22fd&&_0x42e907[0xfbc+-0xca2+-0x318]===0x247*-0x4+-0x869+0x11d9&&_0x42e907[0x92*-0x4+-0x949+0xb94]===-0x25fd+-0x29*0x4c+0x326f;};_0x2daf15&&_0x2daf15['toLowerCas'+'e']()['endsWith']('.glb')||_0x419bbe()?VN(_0x3482a,_0x4ae662):_0x4ae662(null,{'gltfChunk':_0x3482a,'binaryChunk':null});},HN=(_0x214d58,_0x1d7917,_0x2cc110)=>{var _0x4f4697,_0x4805fd,_0x1abdf3,_0x5741f5;const _0x1ef8c7=[],_0x4e71da=(_0x4f4697=_0x2cc110==null?void(0x2014+0x2*0xfd6+-0x3fc0):_0x2cc110['bufferView'])==null?void(0x94e*-0x4+-0x26f7+0x4c2f):_0x4f4697['preprocess'],_0x410837=(_0x4805fd=_0x2cc110==null?void(0x50*-0x3b+0x4*0x80e+-0xdc8):_0x2cc110['bufferView'])==null?void(-0xa4*0x1b+0x4a*0x25+0x69a):_0x4805fd['processAsy'+'nc'],_0x24b9b4=(_0x1abdf3=_0x2cc110==null?void(-0x1d69+0xcf6+0x1073*0x1):_0x2cc110['bufferView'])==null?void(-0x3f1+0x197*-0x1+-0x588*-0x1):_0x1abdf3['postproces'+'s'];if(!((_0x5741f5=_0x214d58['bufferView'+'s'])!=null&&_0x5741f5['length']))return _0x1ef8c7;for(let _0x161cd3=0x22b7+-0x1*-0x2316+0x6b*-0xa7;_0x161cd3<_0x214d58['bufferView'+'s']['length'];++_0x161cd3){const _0x23a8e2=_0x214d58['bufferView'+'s'][_0x161cd3];_0x4e71da&&_0x4e71da(_0x23a8e2);let _0x5c6bea;_0x410837?_0x5c6bea=new Promise((_0x35d4f7,_0x2e4760)=>{_0x410837(_0x23a8e2,_0x1d7917,(_0x4acb4b,_0x431635)=>{_0x4acb4b?_0x2e4760(_0x4acb4b):_0x35d4f7(_0x431635);});}):_0x5c6bea=new Promise(_0x4e1ac2=>{_0x4e1ac2(null);}),_0x5c6bea=_0x5c6bea['then'](_0x568f88=>_0x568f88||_0x1d7917[_0x23a8e2['buffer']]['then'](_0xe58710=>new Uint8Array(_0xe58710['buffer'],_0xe58710['byteOffset']+(_0x23a8e2['byteOffset']||0x1fb+-0xefb+0x1a*0x80),_0x23a8e2['byteLength']))),_0x23a8e2['hasOwnProp'+'erty']('byteStride')&&(_0x5c6bea=_0x5c6bea['then'](_0x5ac9f7=>(_0x5ac9f7['byteStride']=_0x23a8e2['byteStride'],_0x5ac9f7))),_0x24b9b4&&(_0x5c6bea=_0x5c6bea['then'](_0x3138c4=>(_0x24b9b4(_0x23a8e2,_0x3138c4),_0x3138c4))),_0x1ef8c7['push'](_0x5c6bea);}return _0x1ef8c7;};class kh{static['parse'](_0x4b66d5,_0xcc6e50,_0x4a8d93,_0x580185,_0x514251,_0x1ff2fe,_0x268b38){GN(_0x4b66d5,_0x4a8d93,(_0x3d79bd,_0xaf2fab)=>{if(_0x3d79bd){_0x268b38(_0x3d79bd);return;}zN(_0xaf2fab['gltfChunk'],(_0x26dce4,_0x1cdac4)=>{if(_0x26dce4){_0x268b38(_0x26dce4);return;}const _0x125fb2=BN(_0x1cdac4,_0xaf2fab['binaryChun'+'k'],_0xcc6e50,_0x1ff2fe),_0x455c15=HN(_0x1cdac4,_0x125fb2,_0x1ff2fe),_0x3df2ac=kN(_0x1cdac4,_0x455c15,_0xcc6e50,_0x514251,_0x1ff2fe),_0x140250=UN(_0x1cdac4,_0x3df2ac,_0x1ff2fe);ON(_0x580185,_0x1cdac4,_0x455c15,_0x140250,_0x1ff2fe)['then'](_0x3aa06c=>_0x268b38(null,_0x3aa06c))['catch'](_0x223bb5=>_0x268b38(_0x223bb5));});});}static['createDefa'+'ultMateria'+'l'](){return w0({'name':'defaultGlb'+'Material'},[]);}}class WN extends Qe{constructor(_0x2a98dc){super(_0x2a98dc,'animation'),this['device']=_0x2a98dc['graphicsDe'+'vice'],this['assets']=_0x2a98dc['assets'];}['load'](_0x59ff6a,_0x13f8c5,_0x320652){typeof _0x59ff6a=='string'&&(_0x59ff6a={'load':_0x59ff6a,'original':_0x59ff6a});const _0x3c0161={'retry':this['maxRetries']>-0x224e+-0x36*0x49+-0xc6d*-0x4,'maxRetries':this['maxRetries']};(_0x59ff6a['load']['startsWith']('blob:')||_0x59ff6a['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x59ff6a['original'])['toLowerCas'+'e']()==='.glb'?_0x3c0161['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x3c0161['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x59ff6a['load'],_0x3c0161,(_0x29bf9a,_0x2fa1ef)=>{_0x29bf9a?_0x13f8c5('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x59ff6a['original']+'\x20['+_0x29bf9a+']'):xe['getExtensi'+'on'](_0x59ff6a['original'])['toLowerCas'+'e']()==='.glb'?kh['parse']('filename.g'+'lb','',_0x2fa1ef,this['device'],this['assets'],(_0x320652==null?void(-0x1*0xb88+0x14*-0x126+0x2280):_0x320652['options'])??{},(_0x21d101,_0x2c4674)=>{var _0x126ffa;if(_0x21d101)_0x13f8c5(_0x21d101);else{const _0x153a82=_0x2c4674['animations'];if((_0x126ffa=_0x320652==null?void(0x59*0x26+0x224b+-0x2f81):_0x320652['data'])!=null&&_0x126ffa['events']){for(let _0x111b93=-0x2*-0xf17+0x1d1*-0x15+0x7f7;_0x111b93<_0x153a82['length'];_0x111b93++)_0x153a82[_0x111b93]['events']=new Hv(Object['values'](_0x320652['data']['events']));}_0x2c4674['destroy'](),_0x13f8c5(null,_0x153a82);}}):_0x13f8c5(null,this['_parseAnim'+'ationV'+_0x2fa1ef['animation']['version']](_0x2fa1ef));});}['open'](_0x1a7d14,_0x401181,_0x27b71d){return _0x401181;}['_parseAnim'+'ationV3'](_0x49b39f){const _0x3004f5=_0x49b39f['animation'],_0x575fcc=new ug();_0x575fcc['name']=_0x3004f5['name'],_0x575fcc['duration']=_0x3004f5['duration'];for(let _0x1b2665=0x82e*0x3+0x13b9+-0x9*0x4eb;_0x1b2665<_0x3004f5['nodes']['length'];_0x1b2665++){const _0x28afb1=new fg(),_0x17eccd=_0x3004f5['nodes'][_0x1b2665];_0x28afb1['_name']=_0x17eccd['name'];for(let _0x4a97ef=-0x1*0xf17+-0xe47+0x1d5e;_0x4a97ef<_0x17eccd['keys']['length'];_0x4a97ef++){const _0x3763c5=_0x17eccd['keys'][_0x4a97ef],_0x280449=_0x3763c5['time'],_0x4141ae=_0x3763c5['pos'],_0x293b47=_0x3763c5['rot'],_0x2dafd3=_0x3763c5['scale'],_0x6c2427=new D(_0x4141ae[0x3*0x6f9+-0x1*0xe75+0x33b*-0x2],_0x4141ae[0x1ebe+-0x17e4+-0x6d9*0x1],_0x4141ae[-0xf82*0x2+-0x2aa+0xb*0x310]),_0x564bc3=new le()['setFromEul'+'erAngles'](_0x293b47[0x42*0x33+0x1046+-0x1d6c],_0x293b47[0x1*0x1a77+-0x22cb*-0x1+0x3d41*-0x1],_0x293b47[0xca6+-0x8e9*-0x1+0x3*-0x72f]),_0x3dc047=new D(_0x2dafd3[0x269*-0x3+-0x10e1+0x2*0xc0e],_0x2dafd3[-0x176+0xb25+0x3b*-0x2a],_0x2dafd3[-0x5b*0x56+-0xc95*-0x2+0x56a]),_0x58dee1=new dg(_0x280449,_0x6c2427,_0x564bc3,_0x3dc047);_0x28afb1['_keys']['push'](_0x58dee1);}_0x575fcc['addNode'](_0x28afb1);}return _0x575fcc;}['_parseAnim'+'ationV4'](_0x2def93){const _0x358979=_0x2def93['animation'],_0x54a42a=new ug();_0x54a42a['name']=_0x358979['name'],_0x54a42a['duration']=_0x358979['duration'];for(let _0x5254ce=0x213*0x6+0x1cb2+0xa49*-0x4;_0x5254ce<_0x358979['nodes']['length'];_0x5254ce++){const _0x3f2fc2=new fg(),_0x216c7a=_0x358979['nodes'][_0x5254ce];_0x3f2fc2['_name']=_0x216c7a['name'];const _0x4715e9=_0x216c7a['defaults']['p'],_0x4365d3=_0x216c7a['defaults']['r'],_0x32b52b=_0x216c7a['defaults']['s'];for(let _0x4155cc=0x88*-0x29+-0x2*-0x928+0x378;_0x4155cc<_0x216c7a['keys']['length'];_0x4155cc++){const _0x38243a=_0x216c7a['keys'][_0x4155cc],_0x83182e=_0x38243a['t'],_0x197866=_0x4715e9||_0x38243a['p'],_0x534738=_0x4365d3||_0x38243a['r'],_0x18c438=_0x32b52b||_0x38243a['s'],_0x13b4a8=new D(_0x197866[-0x1*-0xe21+0x1470+-0x2291],_0x197866[0x10e3+-0x1*0x767+0x1*-0x97b],_0x197866[-0x1fe2+0x149e+0x2*0x5a3]),_0x547a91=new le()['setFromEul'+'erAngles'](_0x534738[-0x1518+-0x1*0x1eb5+0x33cd],_0x534738[-0x548*0x3+0x7b*-0x43+0x300a],_0x534738[0x2fd+-0x125d*0x2+0x21bf]),_0x33bfbe=new D(_0x18c438[0x17e*0xe+0x1*-0x87f+-0xc65],_0x18c438[-0x1*0x1f63+0x2531+-0x5cd],_0x18c438[0x1ccd+0xd*0x173+0x367*-0xe]),_0x1fef91=new dg(_0x83182e,_0x13b4a8,_0x547a91,_0x33bfbe);_0x3f2fc2['_keys']['push'](_0x1fef91);}_0x54a42a['addNode'](_0x3f2fc2);}return _0x54a42a;}}class $N extends Qe{constructor(_0x4e185c){super(_0x4e185c,'animclip');}['load'](_0x4ecc93,_0x361f8b){typeof _0x4ecc93=='string'&&(_0x4ecc93={'load':_0x4ecc93,'original':_0x4ecc93});const _0x49c82b={'retry':this['maxRetries']>-0x1*-0x14be+-0x25*0x19+-0x1121,'maxRetries':this['maxRetries']};_0x4ecc93['load']['startsWith']('blob:')&&(_0x49c82b['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x4ecc93['load'],_0x49c82b,(_0x369d9b,_0x168b9c)=>{_0x369d9b?_0x361f8b('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x4ecc93['original']+'\x20['+_0x369d9b+']'):_0x361f8b(null,_0x168b9c);});}['open'](_0x3aceb2,_0x2a78ac){const _0x592ae1=_0x2a78ac['name'],_0x33989d=_0x2a78ac['duration'],_0x126a97=_0x2a78ac['inputs']['map'](_0x39d7e7=>new Fh(0xeec*0x2+0x202a+-0x3e01,_0x39d7e7)),_0x3815e3=_0x2a78ac['outputs']['map'](_0x35d340=>new Fh(_0x35d340['components'],_0x35d340['data'])),_0xda58ef=_0x2a78ac['curves']['map'](_0x500e07=>new v0([_0x500e07['path']],_0x500e07['inputIndex'],_0x500e07['outputInde'+'x'],_0x500e07['interpolat'+'ion']));return new Qi(_0x592ae1,_0x33989d,_0x126a97,_0x3815e3,_0xda58ef);}}class XN extends Qe{constructor(_0x7b9582){super(_0x7b9582,'animstateg'+'raph');}['load'](_0x8c042c,_0x27aac5){typeof _0x8c042c=='string'&&(_0x8c042c={'load':_0x8c042c,'original':_0x8c042c});const _0x1bbb01={'retry':this['maxRetries']>0xbda+0xa3+0x17*-0x8b,'maxRetries':this['maxRetries']};_0x8c042c['load']['startsWith']('blob:')&&(_0x1bbb01['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x8c042c['load'],_0x1bbb01,(_0x1f2ea5,_0x4a7e32)=>{_0x1f2ea5?_0x27aac5('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x8c042c['original']+'\x20['+_0x1f2ea5+']'):_0x27aac5(null,_0x4a7e32);});}['open'](_0x109717,_0x270ac3){return new Jc(_0x270ac3);}}const Af=(function(){if(typeof window>'u')return!(0x1447+0x64d+-0x1a93);const _0x5dff7c=window['navigator']['userAgent'],_0x5e54bd=_0x5dff7c['indexOf']('MSIE\x20');if(_0x5e54bd>0x3*-0xc4c+-0x1*-0x11ad+0x1*0x1337)return parseInt(_0x5dff7c['substring'](_0x5e54bd+(0x2*0xf8e+-0xe59*-0x1+-0x2d70),_0x5dff7c['indexOf']('.',_0x5e54bd)),0x219c+0x1a0f+-0xbed*0x5);if(_0x5dff7c['indexOf']('Trident/')>-0x1894+-0x35*-0x21+0x11bf){const _0x55d01f=_0x5dff7c['indexOf']('rv:');return parseInt(_0x5dff7c['substring'](_0x55d01f+(0xe*-0x1ab+-0x9*0x355+0x1aad*0x2),_0x5dff7c['indexOf']('.',_0x55d01f)),0x11*0x147+0x29b+-0x1848);}return!(-0x81*-0x13+0x27*0x31+-0x1109);}()),qN=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class jN extends Qe{constructor(_0x2f67c9){super(_0x2f67c9,'audio'),this['manager']=_0x2f67c9['soundManag'+'er'],w['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x193954){const _0x577eb5=xe['getExtensi'+'on'](_0x193954);return qN['indexOf'](_0x577eb5)>-(0x709+-0x1252+0xb4a)||_0x193954['startsWith']('blob:');}['load'](_0x4abaab,_0xb32baf){typeof _0x4abaab=='string'&&(_0x4abaab={'load':_0x4abaab,'original':_0x4abaab});const _0x2a503d=function(_0x316ac5){_0xb32baf(null,new Mw(_0x316ac5));},_0x2b3ffc=function(_0xf367d8){let _0x194d13='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x4abaab['original'];_0xf367d8&&(_0x194d13+=':\x20'+(_0xf367d8['message']||_0xf367d8)),console['warn'](_0x194d13),_0xb32baf(_0x194d13);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x4abaab['original'])){_0x2b3ffc('Audio\x20form'+'at\x20for\x20'+_0x4abaab['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x4abaab['load'],_0x2a503d,_0x2b3ffc);}else _0x2b3ffc(null);}['_createSou'+'nd'](_0x2b4a3f,_0x542a7b,_0x1ae1b0){if(Dl()){const _0x26fc41=this['manager'];if(!_0x26fc41['context']){_0x1ae1b0('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x425adc={'retry':this['maxRetries']>-0x129d+0x14e*-0x18+-0x1*-0x31ed,'maxRetries':this['maxRetries']};(_0x2b4a3f['startsWith']('blob:')||_0x2b4a3f['startsWith']('data:'))&&(_0x425adc['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),ot['get'](_0x2b4a3f,_0x425adc,(_0x3e0af7,_0x184b11)=>{if(_0x3e0af7){_0x1ae1b0(_0x3e0af7);return;}_0x26fc41['context']['decodeAudi'+'oData'](_0x184b11,_0x542a7b,_0x1ae1b0);});}else{let _0x3b232a=null;try{_0x3b232a=new Audio();}catch{_0x1ae1b0('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Af&&document['body']['appendChil'+'d'](_0x3b232a);const _0x19f3ae=function(){_0x3b232a['removeEven'+'tListener']('canplaythr'+'ough',_0x19f3ae),Af&&document['body']['removeChil'+'d'](_0x3b232a),_0x542a7b(_0x3b232a);};_0x3b232a['onerror']=function(){_0x3b232a['onerror']=null,Af&&document['body']['removeChil'+'d'](_0x3b232a),_0x1ae1b0();},_0x3b232a['addEventLi'+'stener']('canplaythr'+'ough',_0x19f3ae),_0x3b232a['src']=_0x2b4a3f;}}}class YN extends Qe{constructor(_0x3e3cea){super(_0x3e3cea,'binary');}['load'](_0x4c2d69,_0x66b574){typeof _0x4c2d69=='string'&&(_0x4c2d69={'load':_0x4c2d69,'original':_0x4c2d69}),ot['get'](_0x4c2d69['load'],{'responseType':Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0x2287+-0x10*0xf8+0x58f*0x9,'maxRetries':this['maxRetries']},(_0xd575be,_0x2b84db)=>{_0xd575be?_0x66b574('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x4c2d69['original']+'\x20['+_0xd575be+']'):_0x66b574(null,_0x2b84db);});}['openBinary'](_0x3b3bb1){return _0x3b3bb1['buffer'];}}class yr{constructor(_0x3d27d7,_0x21163d,_0x521b95,_0x2b668f){const _0x500896=function(_0x3e1932,_0x113093,_0x564c65){const _0x298519=yr['createAsse'+'t'](_0x21163d['name'],_0x3e1932,_0x113093,_0x564c65);return _0x521b95['add'](_0x298519),_0x298519;},_0x6322a2=[];for(let _0x5cb544=-0x64*-0x53+0x214d+0xd25*-0x5;_0x5cb544<_0x3d27d7['renders']['length'];++_0x5cb544)_0x6322a2['push'](_0x500896('render',_0x3d27d7['renders'][_0x5cb544],_0x5cb544));const _0x56f898=[];for(let _0x4a85a1=-0x11*-0x11a+0xad7+-0x1d91;_0x4a85a1<_0x3d27d7['materials']['length'];++_0x4a85a1)_0x56f898['push'](_0x500896('material',_0x3d27d7['materials'][_0x4a85a1],_0x4a85a1));const _0x25e276=[];for(let _0xd896fd=-0x518+0x3*0xba2+-0x1dce;_0xd896fd<_0x3d27d7['animations']['length'];++_0xd896fd)_0x25e276['push'](_0x500896('animation',_0x3d27d7['animations'][_0xd896fd],_0xd896fd));this['data']=_0x3d27d7,this['_model']=null,this['_assetName']=_0x21163d['name'],this['_assets']=_0x521b95,this['_defaultMa'+'terial']=_0x2b668f,this['renders']=_0x6322a2,this['materials']=_0x56f898,this['textures']=_0x3d27d7['textures'],this['animations']=_0x25e276;}get['model'](){if(!this['_model']){const _0x2ce7c8=yr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x22d097=yr['createAsse'+'t'](this['_assetName'],'model',_0x2ce7c8,-0x1798+0x2f*0x22+0x2*0x8ad);this['_assets']['add'](_0x22d097),this['_model']=_0x22d097;}return this['_model'];}static['createAsse'+'t'](_0x50d659,_0x17a52c,_0x326cda,_0x46fbdf){const _0x52ce4c=new pe(_0x50d659+'/'+_0x17a52c+'/'+_0x46fbdf,_0x17a52c,{'url':''});return _0x52ce4c['resource']=_0x326cda,_0x52ce4c['loaded']=!(-0xff5+-0xd*0x29+-0x905*-0x2),_0x52ce4c;}['instantiat'+'eModelEnti'+'ty'](_0x1f3f44){const _0x7eff11=new lt(void(0x1d77+-0x2495+0x38f*0x2),this['_assets']['_loader']['_app']);return _0x7eff11['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x1f3f44)),_0x7eff11;}['instantiat'+'eRenderEnt'+'ity'](_0x7267b6){const _0x236119=this['_defaultMa'+'terial'],_0xb9d3fc=[],_0x5b3552=function(_0xac2ddb,_0x5526ec,_0x2e12d6,_0x50c29a,_0x2f4a55,_0xde8867,_0x514fa3,_0x5585e3){const _0x3ceb09=_0x2f4a55[_0x2e12d6['id']],_0x48fd7c=_0x3ceb09===void(0x1377+0x1256+-0x25cd)?_0x236119:_0x50c29a[_0x3ceb09],_0x498432=new He(_0x2e12d6,_0x48fd7c);_0x2e12d6['morph']&&(_0x498432['morphInsta'+'nce']=new xa(_0x2e12d6['morph'])),_0x514fa3['hasOwnProp'+'erty']('skin')&&_0xb9d3fc['push']({'meshInstance':_0x498432,'rootBone':_0xac2ddb,'entity':_0x5526ec});const _0x3ff700=_0x5585e3['get'](_0x514fa3);if(_0x3ff700){const _0x443a9a=_0x3ff700['matrices'],_0x32cb65=kt['getDefault'+'Instancing'+'Format'](_0x2e12d6['device']),_0x176e11=new Is(_0x2e12d6['device'],_0x32cb65,_0x443a9a['length']/(0x1ac7+-0x1be*0x16+0xb9d),{'data':_0x443a9a});_0x498432['setInstanc'+'ing'](_0x176e11),_0x498432['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(-0x23d5+0x1*0x34b+0x208a);}return _0x498432;},_0x4f4de=(_0xeb4c21,_0x2a9ba1,_0x2869cc)=>{const _0x471cba=new lt(void(0x317*-0x4+-0x11a5+0x1e01),this['_assets']['_loader']['_app']);_0x2a9ba1['_cloneInte'+'rnal'](_0x471cba),_0xeb4c21||(_0xeb4c21=_0x471cba);let _0x255d3c=null,_0x4290df=null;for(let _0xd9f36c=0x5fe+0x6b9*0x4+-0x20e2;_0xd9f36c<_0x2869cc['nodes']['length'];_0xd9f36c++)if(_0x2869cc['nodes'][_0xd9f36c]===_0x2a9ba1){const _0x1c07d2=_0x2869cc['gltf']['nodes'][_0xd9f36c];if(_0x1c07d2['hasOwnProp'+'erty']('mesh')){const _0x35dc22=_0x2869cc['renders'][_0x1c07d2['mesh']]['meshes'];_0x4290df=this['renders'][_0x1c07d2['mesh']];for(let _0x4f211d=-0x2*0xd5+-0x14c9*0x1+0x1673;_0x4f211d<_0x35dc22['length'];_0x4f211d++){const _0x233ebb=_0x35dc22[_0x4f211d];if(_0x233ebb){const _0x351a30=_0x5b3552(_0xeb4c21,_0x471cba,_0x233ebb,_0x2869cc['materials'],_0x2869cc['meshDefaul'+'tMaterials'],_0x2869cc['skins'],_0x1c07d2,_0x2869cc['nodeInstan'+'cingMap']);_0x255d3c||(_0x255d3c=[]),_0x255d3c['push'](_0x351a30);}}}if(_0x2869cc['lights']){const _0x3c228d=_0x2869cc['lights']['get'](_0x1c07d2);_0x3c228d&&_0x471cba['addChild'](_0x3c228d['clone']());}if(_0x2869cc['cameras']){const _0x2ae60d=_0x2869cc['cameras']['get'](_0x1c07d2);_0x2ae60d&&_0x2ae60d['camera']['system']['cloneCompo'+'nent'](_0x2ae60d,_0x471cba);}}_0x255d3c&&(_0x471cba['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x255d3c},_0x7267b6)),_0x471cba['render']['assignAsse'+'t'](_0x4290df));const _0xc1d543=_0x2a9ba1['children'];for(let _0x538790=0x1435+-0x4*0x48d+0x13*-0x1b;_0x538790<_0xc1d543['length'];_0x538790++){const _0x17c691=_0x4f4de(_0xeb4c21,_0xc1d543[_0x538790],_0x2869cc);_0x471cba['addChild'](_0x17c691);}return _0x471cba;},_0x1c20d0=[];for(const _0x3f128b of this['data']['scenes'])_0x1c20d0['push'](_0x4f4de(null,_0x3f128b,this['data']));return _0xb9d3fc['forEach'](_0x40f102=>{_0x40f102['meshInstan'+'ce']['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x40f102['meshInstan'+'ce']['mesh']['skin'],_0x40f102['rootBone'],_0x40f102['entity']),_0x40f102['meshInstan'+'ce']['node']['render']['rootBone']=_0x40f102['rootBone'];}),yr['createScen'+'eHierarchy'](_0x1c20d0,lt);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x4e1725,_0x1b1509){const _0x4f0085=_0x1b1509?this['data']['variants'][_0x1b1509]:null;if(_0x4f0085===void(0x4*0x4b7+-0x7*-0x49f+0x3335*-0x1)){w['warn']('No\x20variant'+'\x20named\x20'+_0x1b1509+('\x20exists\x20in'+'\x20resource'));return;}const _0x3478ca=_0x4e1725['findCompon'+'ents']('render');for(let _0x3afd47=0xbb0+-0x705*0x3+-0x95f*-0x1;_0x3afd47<_0x3478ca['length'];_0x3afd47++){const _0x4fe548=_0x3478ca[_0x3afd47];this['_applyMate'+'rialVarian'+'t'](_0x4f0085,_0x4fe548['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x2583e4,_0x2f76db){const _0x627cb6=_0x2f76db?this['data']['variants'][_0x2f76db]:null;if(_0x627cb6===void(0x14f7+0xd77*-0x1+-0x780)){w['warn']('No\x20variant'+'\x20named\x20'+_0x2f76db+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x627cb6,_0x2583e4);}['_applyMate'+'rialVarian'+'t'](_0x537b33,_0x2c4b40){_0x2c4b40['forEach'](_0x1c8f76=>{if(_0x537b33===null)_0x1c8f76['material']=this['_defaultMa'+'terial'];else{const _0x21d7e7=this['data']['meshVarian'+'ts'][_0x1c8f76['mesh']['id']];_0x21d7e7&&(_0x1c8f76['material']=this['data']['materials'][_0x21d7e7[_0x537b33]]);}w['assert'](_0x1c8f76['material']);});}static['createScen'+'eHierarchy'](_0x2e7ee9,_0x416877){let _0x37328f=null;if(_0x2e7ee9['length']===0x229e+0x1*-0x1aa7+-0x7f6)_0x37328f=_0x2e7ee9[0x3df+-0xbb*-0x1d+-0x190e];else{_0x37328f=new _0x416877('SceneGroup');for(const _0x19add1 of _0x2e7ee9)_0x37328f['addChild'](_0x19add1);}return _0x37328f;}static['createMode'+'l'](_0x42eb1c,_0x3f881d){const _0x3c4fd8=function(_0x1529c5,_0x1951af,_0x5d6ff8,_0x28a258,_0x21d278,_0x3e73d8,_0x15c2e4){const _0x53ef5f=_0x42eb1c['meshDefaul'+'tMaterials'][_0x1951af['id']],_0x498b6c=_0x53ef5f===void(0x2ef+-0x1271*0x1+0xf82)?_0x3f881d:_0x21d278[_0x53ef5f],_0xe3f44c=new He(_0x1951af,_0x498b6c,_0x3e73d8);if(_0x1951af['morph']){const _0x1bd91f=new xa(_0x1951af['morph']);_0xe3f44c['morphInsta'+'nce']=_0x1bd91f,_0x1529c5['morphInsta'+'nces']['push'](_0x1bd91f);}if(_0x15c2e4['hasOwnProp'+'erty']('skin')){const _0x3ac9d3=_0x15c2e4['skin'],_0x11e007=_0x5d6ff8[_0x3ac9d3];_0x1951af['skin']=_0x11e007;const _0x5a38e9=_0x28a258[_0x3ac9d3];_0xe3f44c['skinInstan'+'ce']=_0x5a38e9,_0x1529c5['skinInstan'+'ces']['push'](_0x5a38e9);}_0x1529c5['meshInstan'+'ces']['push'](_0xe3f44c);},_0x5c4ff2=new sr(),_0x3e55d2=[];for(const _0x884963 of _0x42eb1c['skins']){const _0x3ee63e=new Ol(_0x884963);_0x3ee63e['bones']=_0x884963['bones'],_0x3e55d2['push'](_0x3ee63e);}_0x5c4ff2['graph']=yr['createScen'+'eHierarchy'](_0x42eb1c['scenes'],Ie);for(let _0x4885d6=-0x1f*-0xe7+0x5*-0x278+-0xfa1;_0x4885d6<_0x42eb1c['nodes']['length'];_0x4885d6++){const _0x507d6c=_0x42eb1c['nodes'][_0x4885d6];if(_0x507d6c['root']===_0x5c4ff2['graph']){const _0x134167=_0x42eb1c['gltf']['nodes'][_0x4885d6];if(_0x134167['hasOwnProp'+'erty']('mesh')){const _0x1fbe50=_0x42eb1c['renders'][_0x134167['mesh']]['meshes'];for(let _0x2aa7a4=0x1c84+-0xfd*0x19+0x145*-0x3;_0x2aa7a4<_0x1fbe50['length'];_0x2aa7a4++){const _0x297e85=_0x1fbe50[_0x2aa7a4];_0x297e85&&_0x3c4fd8(_0x5c4ff2,_0x297e85,_0x42eb1c['skins'],_0x3e55d2,_0x42eb1c['materials'],_0x507d6c,_0x134167);}}}}return _0x5c4ff2;}['destroy'](){const _0x4f34a7=this['_assets'],_0x5c0862=function(_0x2d6444){_0x4f34a7['remove'](_0x2d6444),_0x2d6444['unload']();},_0x7ac9ee=function(_0x4f1951){_0x4f1951['forEach'](_0x5cd58a=>{_0x5c0862(_0x5cd58a);});};this['animations']&&(_0x7ac9ee(this['animations']),this['animations']=null),this['textures']&&(_0x7ac9ee(this['textures']),this['textures']=null),this['materials']&&(_0x7ac9ee(this['materials']),this['materials']=null),this['renders']&&(_0x7ac9ee(this['renders']),this['renders']=null),this['_model']&&(_0x5c0862(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class KN{constructor(_0x4e0254,_0x439214,_0x460e84){this['_device']=_0x4e0254,this['_assets']=_0x439214,this['_defaultMa'+'terial']=kh['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x460e84;}['_getUrlWit'+'houtParams'](_0x25b7d3){return _0x25b7d3['indexOf']('?')>=-0x1957+0x897+-0x4*-0x430?_0x25b7d3['split']('?')[0xf89+-0xcb3*-0x1+-0x1c3c]:_0x25b7d3;}['load'](_0x2b5342,_0x44dd71,_0x47e1ec){pe['fetchArray'+'Buffer'](_0x2b5342['load'],(_0x183701,_0xfe821e)=>{_0x183701?_0x44dd71(_0x183701):kh['parse'](this['_getUrlWit'+'houtParams'](_0x2b5342['original']),xe['extractPat'+'h'](_0x2b5342['load']),_0xfe821e,this['_device'],_0x47e1ec['registry'],_0x47e1ec['options'],(_0x2ce9d0,_0x2547c7)=>{_0x2ce9d0?_0x44dd71(_0x2ce9d0):_0x44dd71(null,new yr(_0x2547c7,_0x47e1ec,this['_assets'],this['_defaultMa'+'terial']));});},_0x47e1ec,this['maxRetries']);}['open'](_0x49ee43,_0x3c9726,_0x3151a0){return _0x3c9726;}['patch'](_0x334ba5,_0x592124){}}class ZN extends Qe{constructor(_0x1c5242){super(_0x1c5242,'container'),this['glbContain'+'erParser']=new KN(_0x1c5242['graphicsDe'+'vice'],_0x1c5242['assets'],0x1*0x2097+-0x98*-0x13+-0x2bdf),this['parsers']={};}set['maxRetries'](_0x17fa85){this['glbContain'+'erParser']['maxRetries']=_0x17fa85;for(const _0x365eb1 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x365eb1)&&(this['parsers'][_0x365eb1]['maxRetries']=_0x17fa85);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x17bc91){return _0x17bc91['indexOf']('?')>=-0xe1d+0x2e5+0xb38?_0x17bc91['split']('?')[0x186e+-0x21e*0x3+0x59*-0x34]:_0x17bc91;}['_getParser'](_0x54517c){const _0xce828d=_0x54517c?xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x54517c))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0xce828d]||this['glbContain'+'erParser'];}['load'](_0x4cc9fc,_0x341b90,_0x3dcbca){typeof _0x4cc9fc=='string'&&(_0x4cc9fc={'load':_0x4cc9fc,'original':_0x4cc9fc}),this['_getParser'](_0x4cc9fc['original'])['load'](_0x4cc9fc,_0x341b90,_0x3dcbca);}['open'](_0x28e33d,_0x1ca9da,_0x4b762a){return this['_getParser'](_0x28e33d)['open'](_0x28e33d,_0x1ca9da,_0x4b762a);}}class QN extends Qe{constructor(_0x3a5d6c){super(_0x3a5d6c,'css'),h(this,'decoder',null);}['load'](_0x1df8e8,_0x242e2d){typeof _0x1df8e8=='string'&&(_0x1df8e8={'load':_0x1df8e8,'original':_0x1df8e8}),ot['get'](_0x1df8e8['load'],{'retry':this['maxRetries']>0x10fc+-0x1a38+0x4*0x24f,'maxRetries':this['maxRetries']},(_0x13c368,_0x2afe9a)=>{_0x13c368?_0x242e2d('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x1df8e8['original']+'\x20['+_0x13c368+']'):_0x242e2d(null,_0x2afe9a);});}['openBinary'](_0x423934){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x423934);}}class JN extends Qe{constructor(_0x3755f8){super(_0x3755f8,'cubemap'),this['_device']=_0x3755f8['graphicsDe'+'vice'],this['_registry']=_0x3755f8['assets'],this['_loader']=_0x3755f8['loader'];}['load'](_0x59baf6,_0x2b0139,_0x23a6f9){this['loadAssets'](_0x23a6f9,_0x2b0139);}['open'](_0x5cc26f,_0x5194cc,_0x4ecbcb){return _0x4ecbcb?_0x4ecbcb['resource']:null;}['patch'](_0x4c14ce,_0x31df2d){this['loadAssets'](_0x4c14ce,(_0x2d1ce4,_0x1dd389)=>{_0x2d1ce4&&(_0x31df2d['fire']('error',_0x4c14ce),_0x31df2d['fire']('error:'+_0x4c14ce['id'],_0x2d1ce4,_0x4c14ce),_0x4c14ce['fire']('error',_0x4c14ce));});}['getAssetId'+'s'](_0x250d42){const _0x5d45aa=[];if(_0x5d45aa[0x249a+-0x827*0x2+-0x144c]=_0x250d42['file'],(_0x250d42['loadFaces']||!_0x250d42['file'])&&_0x250d42['data']&&_0x250d42['data']['textures']){for(let _0x539fc2=-0xf33+-0x17*-0xc7+0x31*-0xe;_0x539fc2<-0x1*0xc1f+-0x15d+0xd82;++_0x539fc2)_0x5d45aa[_0x539fc2+(0x6*0x235+-0x1339+0x5fc)]=_0x250d42['data']['textures'][_0x539fc2];}else _0x5d45aa[0x244a+0x77f+-0x579*0x8]=_0x5d45aa[-0xec7+0x4*0x5cb+-0x863]=_0x5d45aa[-0x1070+-0x11e2+0x2255]=_0x5d45aa[0x1*-0x1c5e+0x2475+-0x813]=_0x5d45aa[0x2f*0x8b+0x16e*-0x17+0x762]=_0x5d45aa[-0xb2e+0x1b07*0x1+-0x1*0xfd3]=null;return _0x5d45aa;}['compareAss'+'etIds'](_0xf861f1,_0x3e863d){return _0xf861f1&&_0x3e863d?parseInt(_0xf861f1,-0x103d+0x2286+0x1b*-0xad)===_0xf861f1||typeof _0xf861f1=='string'?_0xf861f1===_0x3e863d:_0xf861f1['url']===_0x3e863d['url']:_0xf861f1!==null==(_0x3e863d!==null);}['update'](_0x2adfaa,_0x29627e,_0xd12f3c){const _0x4475a8=_0x2adfaa['data']||{},_0x1971b2=_0x2adfaa['_handlerSt'+'ate']['assets'],_0x4b3639=_0x2adfaa['_resources'];let _0x14c689,_0x1fd629,_0x1e1a83;const _0x503e3a=[null,null,null,null,null,null,null],_0x47507a=function(){return _0x4475a8['hasOwnProp'+'erty']('type')?_0x4475a8['type']:_0x4475a8['hasOwnProp'+'erty']('rgbm')?_0x4475a8['rgbm']?Zi:Ds:null;};if(!_0x2adfaa['loaded']||_0xd12f3c[0x34*0x43+-0x1*-0x100b+-0x1da7]!==_0x1971b2[-0x262f+-0xb20+-0x3cb*-0xd]){if(_0xd12f3c[-0xee*0x1+0x41*0x11+0x1*-0x363]){if(_0x14c689=_0xd12f3c[-0xa91+-0x2415+0x2ea6]['resource'],_0x14c689['cubemap']){for(_0x1e1a83=0x3*0x3ca+0x22b+-0xd89;_0x1e1a83<0xf*-0x162+0x81c*0x4+-0xbac;++_0x1e1a83)_0x503e3a[_0x1e1a83+(-0x105*-0x1+-0x186c+-0x2ed*-0x8)]=new _e(this['_device'],{'name':_0x2adfaa['name']+('_prelitCub'+'emap')+(_0x14c689['width']>>_0x1e1a83),'cubemap':!(0x181b+-0x1d9f+-0x1*-0x584),'type':_0x47507a()||_0x14c689['type'],'width':_0x14c689['width']>>_0x1e1a83,'height':_0x14c689['height']>>_0x1e1a83,'format':_0x14c689['format'],'levels':[_0x14c689['_levels'][_0x1e1a83]],'addressU':ue,'addressV':ue,'mipmaps':_0x1e1a83===-0x1ff3*-0x1+-0x92*0x29+-0x33*0x2b});}else _0x503e3a[-0x1b4*0x3+0x131a+0x1*-0xdfd]=_0x14c689;}}else _0x503e3a[0xab5*-0x3+0x1*0xb9d+0x1483]=_0x4b3639[0x454*0x7+0xf86*0x1+-0x2dd1]||null,_0x503e3a[-0x45d*0x2+0xcf*-0x1a+0x1dc2]=_0x4b3639[0x1bd5+0x29c*0xd+-0x1*0x3dbf]||null,_0x503e3a[-0x19ea+-0x7d*0x19+0x2622]=_0x4b3639[-0xa1d*-0x1+-0x923+0x13*-0xd]||null,_0x503e3a[-0x2*-0xec5+0x298*-0xc+0x5*0x52]=_0x4b3639[-0x132d+0x1*0xa7b+0x8b6]||null,_0x503e3a[-0x22*-0x25+-0xf25+-0x520*-0x2]=_0x4b3639[-0x1*0x23db+-0x1407+0x1*0x37e7]||null,_0x503e3a[-0xb*0x18f+0x6bb+0xa7*0x10]=_0x4b3639[0x8b7*0x2+0x724*0x4+-0x2df8]||null;const _0x26934c=_0xd12f3c['slice'](-0x2d+-0xb16+0x7*0x19c);if(!_0x2adfaa['loaded']||!this['cmpArrays'](_0x26934c,_0x1971b2['slice'](0x19ab+0x7e3*-0x1+-0x11c7))){if(_0x26934c['indexOf'](null)===-(-0x26a4+0x1*-0x23f9+0x4a9e)){const _0x22fbe2=_0x26934c['map'](_0x553356=>_0x553356['resource']),_0x3872cc=[];for(_0x1fd629=-0x7*-0x156+-0x38f+-0x5cb*0x1;_0x1fd629<_0x22fbe2[-0x121b+0x1e1d*-0x1+-0x2*-0x181c]['_levels']['length'];++_0x1fd629)_0x3872cc['push'](_0x22fbe2['map'](_0x2d5623=>_0x2d5623['_levels'][_0x1fd629]));const _0x512593=_0x22fbe2[-0x1114+0x2213+-0x10ff*0x1]['format'],_0x1bd611=new _e(this['_device'],{'name':_0x2adfaa['name']+'_faces','cubemap':!(-0x2*-0xf9d+-0x1944+-0x5f6),'type':_0x47507a()||_0x22fbe2[-0x2090+-0x29a+0x1*0x232a]['type'],'width':_0x22fbe2[-0x11c6+0x1*0xb4d+-0x679*-0x1]['width'],'height':_0x22fbe2[0x2*0xba2+0x178*0x7+-0x26*0xe2]['height'],'format':_0x512593===Cr?Ne:_0x512593,'mipmaps':_0x4475a8['mipmaps']??!(-0xd*-0x153+0x241c+0x11*-0x323),'levels':_0x3872cc,'minFilter':_0x4475a8['hasOwnProp'+'erty']('minFilter')?_0x4475a8['minFilter']:_0x22fbe2[-0x922*-0x1+0x1*-0x21d+0x3*-0x257]['minFilter'],'magFilter':_0x4475a8['hasOwnProp'+'erty']('magFilter')?_0x4475a8['magFilter']:_0x22fbe2[-0x1e9d+-0x7f5+-0x1*-0x2692]['magFilter'],'anisotropy':_0x4475a8['hasOwnProp'+'erty']('anisotropy')?_0x4475a8['anisotropy']:0x84f+0x1115+-0x1963,'addressU':ue,'addressV':ue});_0x503e3a[0x18df+-0x239e+0xabf]=_0x1bd611;}}else _0x503e3a[0x26*-0xbb+-0x1*0x266f+-0x1*-0x4231]=_0x4b3639[0x1*-0x5bf+-0x1daa+0x2369*0x1]||null;if(!this['cmpArrays'](_0x503e3a,_0x4b3639)){for(_0x2adfaa['resources']=_0x503e3a,_0x2adfaa['_handlerSt'+'ate']['assetIds']=_0x29627e,_0x2adfaa['_handlerSt'+'ate']['assets']=_0xd12f3c,_0x1e1a83=0x1564+0xf*0x3c+-0x18e8;_0x1e1a83<_0x4b3639['length'];++_0x1e1a83)_0x4b3639[_0x1e1a83]!==null&&_0x503e3a['indexOf'](_0x4b3639[_0x1e1a83])===-(0x2203*0x1+-0x1c75+-0x31*0x1d)&&_0x4b3639[_0x1e1a83]['destroy']();}for(_0x1e1a83=0x39*-0x59+-0x5a0+-0xa7*-0x27;_0x1e1a83<_0x1971b2['length'];++_0x1e1a83)_0x1971b2[_0x1e1a83]!==null&&_0xd12f3c['indexOf'](_0x1971b2[_0x1e1a83])===-(-0x3*-0x9d1+0xc3a+0x1*-0x29ac)&&_0x1971b2[_0x1e1a83]['unload']();}['cmpArrays'](_0x384c40,_0x140cbc){if(_0x384c40['length']!==_0x140cbc['length'])return!(-0x1*0x763+-0xb98+-0x12*-0x10e);for(let _0x148224=-0x53c+0x1b1f+-0x15e3;_0x148224<_0x384c40['length'];++_0x148224)if(_0x384c40[_0x148224]!==_0x140cbc[_0x148224])return!(0x177*-0x1+-0x1b2f*-0x1+0x1d*-0xe3);return!(0x110+0x2683*0x1+-0x399*0xb);}['resolveId'](_0x54d9e0){const _0x41bb94=parseInt(_0x54d9e0,0x2a2*-0x4+0x435+-0xb5*-0x9);return _0x41bb94===_0x54d9e0||_0x41bb94['toString']()===_0x54d9e0?_0x41bb94:_0x54d9e0;}['loadAssets'](_0x18e5a9,_0x273b9c){_0x18e5a9['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x18e5a9['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x198258=this,_0x4cb322=_0x198258['getAssetId'+'s'](_0x18e5a9),_0x29547b=[null,null,null,null,null,null,null],_0xbe6963=_0x18e5a9['_handlerSt'+'ate']['assetIds'],_0x2eb2f0=_0x18e5a9['_handlerSt'+'ate']['assets'],_0x51bbd8=_0x198258['_registry'];let _0x52baaf=-0x21e*0x1+0x10*0x26b+-0x248b;const _0x130923=function(_0x266e58,_0x2b8a92){_0x29547b[_0x266e58]=_0x2b8a92,_0x52baaf--,_0x52baaf===0xd3*-0x23+-0x785+-0xe*-0x299&&(_0x198258['update'](_0x18e5a9,_0x4cb322,_0x29547b),_0x273b9c(null,_0x18e5a9['resources']));},_0x574a13=function(_0x75437d,_0x560165,_0x47e980){_0x273b9c(_0x560165);},_0x3f9980=function(_0x4166e4,_0x14d822){_0x14d822['loaded']?_0x130923(_0x4166e4,_0x14d822):(_0x51bbd8['once']('load:'+_0x14d822['id'],_0x130923['bind'](_0x198258,_0x4166e4)),_0x51bbd8['once']('error:'+_0x14d822['id'],_0x574a13['bind'](_0x198258,_0x4166e4)),_0x14d822['loading']||_0x51bbd8['load'](_0x14d822));};let _0x27d58b;for(let _0x1cc627=-0x5*0x30d+-0x2548+0x3489;_0x1cc627<0x1ba0*0x1+0x1e56+-0x39ef*0x1;++_0x1cc627){const _0x491faf=this['resolveId'](_0x4cb322[_0x1cc627]);if(!_0x491faf)_0x130923(_0x1cc627,null);else{if(_0x198258['compareAss'+'etIds'](_0x491faf,_0xbe6963[_0x1cc627]))_0x3f9980(_0x1cc627,_0x2eb2f0[_0x1cc627]);else{if(parseInt(_0x491faf,0xa*-0x14e+-0x520+0x1236)===_0x491faf)_0x27d58b=_0x51bbd8['get'](_0x491faf),_0x27d58b?_0x3f9980(_0x1cc627,_0x27d58b):setTimeout(((_0x5299bc,_0x1ae846)=>{const _0x282b65=_0x51bbd8['get'](_0x1ae846);_0x282b65?_0x3f9980(_0x5299bc,_0x282b65):_0x574a13(_0x5299bc,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x1ae846);})['bind'](null,_0x1cc627,_0x491faf));else{const _0x59ec64=typeof _0x491faf=='string'?{'url':_0x491faf,'filename':_0x491faf}:_0x491faf,_0x100ecf=_0x59ec64['url']['search']('.dds')===-(0xfa2+-0x539+-0xa68)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(-0x66a*0x6+-0xcb1+0x332e*0x1)}:null;_0x27d58b=new pe(_0x18e5a9['name']+'_part_'+_0x1cc627,'texture',_0x59ec64,_0x100ecf),_0x51bbd8['add'](_0x27d58b),_0x3f9980(_0x1cc627,_0x27d58b);}}}}}}class ek extends Qe{constructor(_0x3c58c6){super(_0x3c58c6,'folder');}['load'](_0x2cfbeb,_0xa828e0){_0xa828e0(null,null);}}class yS{constructor(_0x151c67,_0x8f17fa){this['type']=_0x8f17fa&&_0x8f17fa['type']||Rh,this['em']=0x28*-0x43+-0xa45*0x1+0x14be,this['textures']=_0x151c67,this['intensity']=-0x1106+0x2*0x10f3+-0x10e0,this['_data']=null,this['data']=_0x8f17fa;}set['data'](_0x47f673){if(this['_data']=_0x47f673,!!_0x47f673&&(this['_data']['intensity']!==void(0x1ab5+-0x13*-0x1a9+-0x1*0x3a40)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<-0x1a23+0xf98+0x25*0x49)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x6bb55e in this['_data']['chars'])this['_data']['chars'][_0x6bb55e]['map']=0x16d4*-0x1+-0x2*-0xbf+0x1556;}}get['data'](){return this['_data'];}}function Cf(_0x38ecb1){return _0x38ecb1['version']<-0x8bf*0x1+-0x1238+0xd7d*0x2&&(_0x38ecb1['version']<0xa22*-0x2+-0xf0d+0x2353&&(_0x38ecb1['info']['maps']=_0x38ecb1['info']['maps']||[{'width':_0x38ecb1['info']['width'],'height':_0x38ecb1['info']['height']}]),_0x38ecb1['chars']=Object['keys'](_0x38ecb1['chars']||{})['reduce']((_0x386584,_0x3aff4f)=>{const _0x5cefa3=_0x38ecb1['chars'][_0x3aff4f],_0x820941=_0x5cefa3['letter']!==void(0x6a4+-0x1147+-0x185*-0x7)?_0x5cefa3['letter']:Hc['fromCodePo'+'int'](_0x3aff4f);return _0x38ecb1['version']<-0x719+-0x2*-0x9e0+-0x27*0x53&&(_0x5cefa3['map']=_0x5cefa3['map']||-0x1f14+0x254d*-0x1+-0x48f*-0xf),_0x386584[_0x820941]=_0x5cefa3,_0x386584;},{}),_0x38ecb1['version']=-0x1dfd+0x8*0x146+0x13d0),_0x38ecb1;}class tk extends Qe{constructor(_0x5aaa4d){super(_0x5aaa4d,'font'),this['_loader']=_0x5aaa4d['loader'],this['maxRetries']=-0xaaf+-0x1cac*-0x1+0xf*-0x133;}['load'](_0x121c30,_0x2b86d1,_0x51990f){typeof _0x121c30=='string'&&(_0x121c30={'load':_0x121c30,'original':_0x121c30});const _0xf0067d=this;xe['getExtensi'+'on'](_0x121c30['original'])==='.json'?ot['get'](_0x121c30['load'],{'retry':this['maxRetries']>-0x63*-0x30+-0x2b1+-0xfdf,'maxRetries':this['maxRetries']},(_0x301bcb,_0x58d569)=>{if(_0x301bcb)_0x2b86d1('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x121c30['original']+'\x20['+_0x301bcb+']');else{const _0x59b3f5=Cf(_0x58d569);_0xf0067d['_loadTextu'+'res'](_0x121c30['load']['replace']('.json','.png'),_0x59b3f5,(_0x3087ae,_0xadae45)=>{_0x3087ae?_0x2b86d1(_0x3087ae):_0x2b86d1(null,{'data':_0x59b3f5,'textures':_0xadae45});});}}):(_0x51990f&&_0x51990f['data']&&(_0x51990f['data']=Cf(_0x51990f['data'])),this['_loadTextu'+'res'](_0x121c30['load'],_0x51990f&&_0x51990f['data'],_0x2b86d1));}['_loadTextu'+'res'](_0x115f9d,_0x4ca5ca,_0x342777){const _0x531c1f=_0x4ca5ca['info']['maps']['length'];let _0x4d245c=-0x144a+0x1370+0x2*0x6d,_0x10f287=null;const _0x43d83c=new Array(_0x531c1f),_0x29981e=this['_loader'],_0x3f3b63=function(_0x123592){const _0x37ba69=function(_0x1e819b,_0x231e55){if(!_0x10f287){if(_0x1e819b){_0x10f287=_0x1e819b,_0x342777(_0x1e819b);return;}_0x231e55['upload'](),_0x43d83c[_0x123592]=_0x231e55,_0x4d245c++,_0x4d245c===_0x531c1f&&_0x342777(null,_0x43d83c);}};_0x123592===0xd8c+0x1*-0x376+-0xa16?_0x29981e['load'](_0x115f9d,'texture',_0x37ba69):_0x29981e['load'](_0x115f9d['replace']('.png',_0x123592+'.png'),'texture',_0x37ba69);};for(let _0x21bfd2=-0x1*0x7ab+-0x1*0x1293+0x2*0xd1f;_0x21bfd2<_0x531c1f;_0x21bfd2++)_0x3f3b63(_0x21bfd2);}['open'](_0x40f5b5,_0x2d068b,_0x17b25c){let _0x1a81c8;return _0x2d068b['textures']?_0x1a81c8=new yS(_0x2d068b['textures'],_0x2d068b['data']):_0x1a81c8=new yS(_0x2d068b,null),_0x1a81c8;}['patch'](_0x230cba,_0x490f75){const _0x4fbe25=_0x230cba['resource'];!_0x4fbe25['data']&&_0x230cba['data']?_0x4fbe25['data']=_0x230cba['data']:!_0x230cba['data']&&_0x4fbe25['data']&&(_0x230cba['data']=_0x4fbe25['data']),_0x230cba['data']&&(_0x230cba['data']=Cf(_0x230cba['data']));}}async function sk(){const _0x3c98a2=-0xc5e+0x107+0x1*0xb57+0.28209479177387814;class _0x3b6539{constructor(_0x4e9d9b,_0x1fbfe3,_0x331327){this['x']=_0x4e9d9b,this['y']=_0x1fbfe3,this['z']=_0x331327;}}class _0x250930{constructor(_0x24b6fd,_0x438c66,_0x4743e7,_0x20b9c0){this['x']=_0x24b6fd,this['y']=_0x438c66,this['z']=_0x4743e7,this['w']=_0x20b9c0;}}class _0x2c2b4a{constructor(_0x1347e7,_0x3e89b8,_0x6baaa7,_0xc26b6f){this['x']=_0x1347e7,this['y']=_0x3e89b8,this['z']=_0x6baaa7,this['w']=_0xc26b6f;}['set'](_0x44a46a,_0x30202a,_0x34e921,_0x2fd75d){this['x']=_0x44a46a,this['y']=_0x30202a,this['z']=_0x34e921,this['w']=_0x2fd75d;}}class _0x42eef1{constructor(_0x2d0eaf,_0x43dc47,_0x5e6f10,_0xa8bb63,_0x4c5a76,_0x5cbc0b,_0x2d7163,_0x235ffd,_0x5b16e7,_0x36ea38,_0x4b453a,_0x4d527f,_0x425858,_0x27404c){const _0xa6e282=(_0x303fb7,_0x6c33ef)=>{const _0x33292e=(-0xad1+0x1be4+-0x1112<<_0x6c33ef)-(-0x39*0x39+-0x1a*-0x86+-0xea);return(_0x303fb7&_0x33292e)/_0x33292e;},_0x20b696=(_0x7d5311,_0xf3cace)=>{_0x7d5311['x']=_0xa6e282(_0xf3cace>>>0x2014+0x15e8+-0x35e7*0x1,0x2555+-0x4d*-0x2+-0x25e4),_0x7d5311['y']=_0xa6e282(_0xf3cace>>>0x547+0x21f7+-0xf*0x29d,0x1*-0x18ec+-0x4f*-0x63+0x1dd*-0x3),_0x7d5311['z']=_0xa6e282(_0xf3cace,-0x13a0+-0x534+0x18df);},_0x5923db=(_0x40a316,_0x7d10ce)=>{_0x40a316['x']=_0xa6e282(_0x7d10ce>>>-0x7f*0x5+-0x12b3*-0x2+-0x22d3,-0xa84+0x111c+-0x690),_0x40a316['y']=_0xa6e282(_0x7d10ce>>>-0x253b+-0x1f*-0x61+0x2*0xcc6,-0x1*0x635+0x3c5+0x278),_0x40a316['z']=_0xa6e282(_0x7d10ce>>>-0x1af8+-0xc1e+0x271e,-0x439*0x1+-0x1b56+-0x1*-0x1f97),_0x40a316['w']=_0xa6e282(_0x7d10ce,0x15af+0x13c3+-0x296a);},_0x3f7fe4=(_0x77f4ff,_0x3c73c5)=>{const _0x3ed8ba=(0x2*0x800+-0x1e20*0x1+-0x1*-0xe21)/(Math['sqrt'](-0x1*-0x21+-0x1*-0xd1d+-0xd3c)*(-0xac+0x12f+-0x83*0x1+0.5)),_0x362a76=(_0xa6e282(_0x3c73c5>>>-0x2*0xe95+-0x1648+0x3386,0x1e98+-0xb4a*-0x1+-0x29d8)-(-0x1fdc*0x1+0x425*-0x5+0x3495+0.5))*_0x3ed8ba,_0x3809b7=(_0xa6e282(_0x3c73c5>>>0x89e+0x4*-0x179+0x10*-0x2b,-0x25fa*-0x1+-0x1b3f+0x11*-0xa1)-(-0x1de1+0x17da+0x607*0x1+0.5))*_0x3ed8ba,_0x42ab06=(_0xa6e282(_0x3c73c5,-0x4*-0x251+0x2*-0x10a3+0x4*0x603)-(0x245+-0xd*0xdf+0x90e+0.5))*_0x3ed8ba,_0x2ed202=Math['sqrt'](0x1fee+0x30b*0x7+0x1a9d*-0x2-(_0x362a76*_0x362a76+_0x3809b7*_0x3809b7+_0x42ab06*_0x42ab06));switch(_0x3c73c5>>>0xf6b+-0x7b*0x2a+0x4e1){case 0x20b4+-0x11*0x95+-0x16cf:_0x77f4ff['set'](_0x362a76,_0x3809b7,_0x42ab06,_0x2ed202);break;case 0x9e5+0x374+-0xd58:_0x77f4ff['set'](_0x2ed202,_0x3809b7,_0x42ab06,_0x362a76);break;case-0x2*0xcf4+0x519+0x14d1:_0x77f4ff['set'](_0x3809b7,_0x2ed202,_0x42ab06,_0x362a76);break;case-0x25e9+-0x2*0x2a7+0x2b3a:_0x77f4ff['set'](_0x3809b7,_0x42ab06,_0x2ed202,_0x362a76);break;}},_0x5504a7=(_0x527312,_0x415007,_0x5aeb7f)=>_0x527312*(-0x1c3e+-0x179*0x15+0x3b2c-_0x5aeb7f)+_0x415007*_0x5aeb7f,_0x13e65e=[-0x1*0x1981+-0x1321+0x2ca5,0xfc7+0xd3a*-0x2+0xab5*0x1,-0x11c*0xb+0x43*-0x5f+-0x318*-0xc][_0x2d7163-(-0x1*0x1323+0x1cf2+-0x9ce)],_0x467308=0xd3b+0x3*0x4f7+0xb*-0x28e;this['read']=_0x32fc8e=>{const _0x53bb73=Math['floor'](_0x32fc8e/(-0x1e34+-0x19f6+-0x1b*-0x21e))*_0x43dc47;if(_0x235ffd&&(_0x20b696(_0x235ffd,_0x5e6f10[_0x32fc8e*_0x467308+(-0x1571+-0x3e6+0x1957)]),_0x235ffd['x']=_0x5504a7(_0x2d0eaf[_0x53bb73+(0x2*-0x3c5+0x1809+-0x107f)],_0x2d0eaf[_0x53bb73+(-0xa7*-0x3b+-0x2164+0x3e*-0x15)],_0x235ffd['x']),_0x235ffd['y']=_0x5504a7(_0x2d0eaf[_0x53bb73+(0x1271*-0x1+-0xa76+0x1ce8)],_0x2d0eaf[_0x53bb73+(0x282*-0x2+0x2*0x61f+-0x736)],_0x235ffd['y']),_0x235ffd['z']=_0x5504a7(_0x2d0eaf[_0x53bb73+(-0x62c+-0x1b*-0x7a+-0x6b0)],_0x2d0eaf[_0x53bb73+(-0x1b28*0x1+0x1e6b+-0x33e)],_0x235ffd['z'])),_0x5b16e7&&_0x3f7fe4(_0x5b16e7,_0x5e6f10[_0x32fc8e*_0x467308+(0x1c6f+0x3ae*-0x6+-0x65a)]),_0x36ea38&&(_0x20b696(_0x36ea38,_0x5e6f10[_0x32fc8e*_0x467308+(0x28*-0xec+-0x1632+0x3b14)]),_0x36ea38['x']=_0x5504a7(_0x2d0eaf[_0x53bb73+(-0x241*-0x1+-0x79+-0x1c2)],_0x2d0eaf[_0x53bb73+(0x2694+0x11f0+-0x387b)],_0x36ea38['x']),_0x36ea38['y']=_0x5504a7(_0x2d0eaf[_0x53bb73+(0x1867*-0x1+0x193b+0xcd*-0x1)],_0x2d0eaf[_0x53bb73+(-0x16db+-0x1*-0x1015+0x6d0)],_0x36ea38['y']),_0x36ea38['z']=_0x5504a7(_0x2d0eaf[_0x53bb73+(0x116a+0x13bc+-0x251e)],_0x2d0eaf[_0x53bb73+(0x2*-0xa81+-0xfbb*-0x1+0xe3*0x6)],_0x36ea38['z'])),_0x4b453a&&(_0x5923db(_0x4b453a,_0x5e6f10[_0x32fc8e*_0x467308+(0xa3*-0x2b+-0x6b9+0x221d)]),_0x43dc47>0x1350+0x1d3*-0xe+-0x323*-0x2&&(_0x4b453a['x']=_0x5504a7(_0x2d0eaf[_0x53bb73+(0xc*-0x2e3+0x2612+-0x362)],_0x2d0eaf[_0x53bb73+(0x37f*-0x2+0x136d*-0x1+-0xd3d*-0x2)],_0x4b453a['x']),_0x4b453a['y']=_0x5504a7(_0x2d0eaf[_0x53bb73+(-0x18db+0x74*-0x30+0x2ea8)],_0x2d0eaf[_0x53bb73+(0xd80+0xab*0x2+-0xec6)],_0x4b453a['y']),_0x4b453a['z']=_0x5504a7(_0x2d0eaf[_0x53bb73+(-0x23fe+0x1*0x225b+0x1b1)],_0x2d0eaf[_0x53bb73+(-0x1*-0xac7+-0x1fd6+0x1520)],_0x4b453a['z']))),_0x4d527f&&(_0x20b696(_0x4d527f,_0x5e6f10[_0x32fc8e*_0x467308+(-0x797+-0xd76+-0x1511*-0x1)]),_0x4d527f['x']=_0x5504a7(_0x2d0eaf[_0x53bb73+(-0x1604*0x1+0x3b4+0x1262*0x1)],_0x2d0eaf[_0x53bb73+(0x21aa+-0xae2*0x1+-0x16b3)],_0x4d527f['x']),_0x4d527f['y']=_0x5504a7(_0x2d0eaf[_0x53bb73+(0x1040+0x192*0x2+-0x1351)],_0x2d0eaf[_0x53bb73+(-0x24e0+0x3*0x59c+0xa11*0x2)],_0x4d527f['y']),_0x4d527f['z']=_0x5504a7(_0x2d0eaf[_0x53bb73+(-0x1cee+0xb53+0x11af)],_0x2d0eaf[_0x53bb73+(0xead+0x1e45+-0x2cdb)],_0x4d527f['z'])),_0x425858&&(_0x20b696(_0x425858,_0x5e6f10[_0x32fc8e*_0x467308+(0x2*-0x12fd+-0x26f4+-0x4cf3*-0x1)]),_0x425858['x']=_0x5504a7(_0x2d0eaf[_0x53bb73+(0x4*-0x691+-0x1f7b*-0x1+0x45*-0x13)],_0x2d0eaf[_0x53bb73+(-0x779*-0x1+0x28*0x25+0x1a5*-0x8)],_0x425858['x']),_0x425858['y']=_0x5504a7(_0x2d0eaf[_0x53bb73+(0x3f5+-0x7*0x50c+0x1f79)],_0x2d0eaf[_0x53bb73+(-0x26b7+-0x1867*-0x1+0xe6b)],_0x425858['y'])),_0x27404c&&_0x2d7163>-0x1*0x10d7+-0x5a7+0x167e){const _0x5256e4=[_0xa8bb63,_0x4c5a76,_0x5cbc0b];for(let _0x259cb7=0xa7*-0x29+-0x1a0f+0x34ce;_0x259cb7<-0x2*0x1133+-0x224f+-0xc*-0x5ba;++_0x259cb7)for(let _0x2f0956=-0x4cd*0x2+-0x157d*-0x1+0xbe3*-0x1;_0x2f0956<0xb5*-0x29+0x213a+0x5*-0xd6;++_0x2f0956)_0x27404c[_0x259cb7*(-0x1e57*0x1+0x129d*-0x1+0x1*0x3103)+_0x2f0956]=_0x2f0956<_0x13e65e?_0x5256e4[_0x259cb7][_0x32fc8e*(-0x1*0xf3+0x702+0x133*-0x5)+_0x2f0956]*((0xac0+-0x1*-0x92f+-0x3fb*0x5)/(0x4d*0x58+-0x14*-0x10f+0x1*-0x2ea5))-(-0x2687*-0x1+0xf8a+0x1*-0x360d):0x7*0x14b+0x695*0x5+-0x29f6;}};}}self['onmessage']=async _0x226c3f=>{const {data:_0x19f7ca}=_0x226c3f;switch(_0x19f7ca['type']){case'initWorker':break;case'decompress':_0x4078ed(_0x19f7ca['numSplats'],_0x19f7ca['chunkData'],_0x19f7ca['chunkSize'],_0x19f7ca['vertexData'],_0x19f7ca['shData0'],_0x19f7ca['shData1'],_0x19f7ca['shData2'],_0x19f7ca['shBands']);break;}};const _0x4078ed=(_0x22d099,_0x4da726,_0x5fd82a,_0x3bfe43,_0x32a988,_0x4d06d8,_0x3d4838,_0x511f3e)=>{const _0x2e6d9c=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x511f3e>0x4fd+-0xefe+0xa01){const _0x524837=[];for(let _0x297c5d=-0x83*-0x43+-0x1*0xfb3+-0x1296;_0x297c5d<-0x222f*-0x1+-0x13f4+-0xe0e;++_0x297c5d)_0x524837['push']('f_rest_'+_0x297c5d);_0x2e6d9c['splice'](_0x2e6d9c['indexOf']('f_dc_0')+(0x1dc*-0xa+0x65*-0x12+0x19b3),-0x1a4c+0x1901+0x14b,..._0x524837);}const _0x357102={};_0x2e6d9c['forEach'](_0x4dda0b=>{_0x357102[_0x4dda0b]=new Float32Array(_0x22d099);});const _0x188903=new _0x3b6539(),_0x355fe1=new _0x2c2b4a(),_0x542ae0=new _0x3b6539(),_0x2864b4=new _0x250930(),_0x287f14=new _0x3b6539(),_0x77d5ea=new _0x3b6539(),_0x178f5a=_0x511f3e>0x1b76+-0x1*-0x1ed9+0x1*-0x3a4f?new Float32Array(-0x1a8f*0x1+0x10cc+-0x6a*-0x18):null,_0x343b02=new _0x42eef1(_0x4da726,_0x5fd82a,_0x3bfe43,_0x32a988,_0x4d06d8,_0x3d4838,_0x511f3e,_0x188903,_0x355fe1,_0x542ae0,_0x2864b4,_0x287f14,_0x77d5ea,_0x178f5a);for(let _0x31c5f7=-0x18b6+-0x2*0x8fe+0x1*0x2ab2;_0x31c5f7<_0x22d099;++_0x31c5f7)if(_0x343b02['read'](_0x31c5f7),_0x357102['x'][_0x31c5f7]=_0x188903['x'],_0x357102['y'][_0x31c5f7]=_0x188903['y'],_0x357102['z'][_0x31c5f7]=_0x188903['z'],_0x357102['rot_1'][_0x31c5f7]=_0x355fe1['x'],_0x357102['rot_2'][_0x31c5f7]=_0x355fe1['y'],_0x357102['rot_3'][_0x31c5f7]=_0x355fe1['z'],_0x357102['rot_0'][_0x31c5f7]=_0x355fe1['w'],_0x357102['scale_0'][_0x31c5f7]=_0x542ae0['x'],_0x357102['scale_1'][_0x31c5f7]=_0x542ae0['y'],_0x357102['scale_2'][_0x31c5f7]=_0x542ae0['z'],_0x357102['motion_0'][_0x31c5f7]=_0x287f14['x'],_0x357102['motion_1'][_0x31c5f7]=_0x287f14['y'],_0x357102['motion_2'][_0x31c5f7]=_0x287f14['z'],_0x357102['t_scale'][_0x31c5f7]=_0x77d5ea['x'],_0x357102['t'][_0x31c5f7]=_0x77d5ea['y'],_0x357102['f_dc_0'][_0x31c5f7]=(_0x2864b4['x']-(-0x4a9*-0x5+-0x3*-0xb5+-0x196c+0.5))/_0x3c98a2,_0x357102['f_dc_1'][_0x31c5f7]=(_0x2864b4['y']-(0x69+-0x1c8c+0x1c23+0.5))/_0x3c98a2,_0x357102['f_dc_2'][_0x31c5f7]=(_0x2864b4['z']-(0x1*-0x24e2+0x5b6*0x5+0x854+0.5))/_0x3c98a2,_0x357102['opacity'][_0x31c5f7]=_0x2864b4['w']<=-0x6*0x4ea+0x1909+0x473*0x1?-(0x3ec+-0x175*0xb+0xc43):_0x2864b4['w']>=-0x1902+0x1d7c+-0x479?-0x141*-0xd+0x4*-0x6da+0xb43:-Math['log']((0x2213+0xaa0+-0x1*0x2cb2)/_0x2864b4['w']-(0x1305+-0x4e*0x2b+-0x2f5*0x2)),_0x178f5a){for(let _0x55935e=0x12de+-0xd*-0xce+-0x755*0x4;_0x55935e<0x2*-0x60a+0x1b82+-0xf41;++_0x55935e)_0x357102['f_rest_'+_0x55935e][_0x31c5f7]=_0x178f5a[_0x55935e];}let _0xf75cc5={'x':_0x357102['x'],'y':_0x357102['y'],'z':_0x357102['z'],'rot_1':_0x357102['rot_1'],'rot_2':_0x357102['rot_2'],'rot_3':_0x357102['rot_3'],'rot_0':_0x357102['rot_0'],'scale_0':_0x357102['scale_0'],'scale_1':_0x357102['scale_1'],'scale_2':_0x357102['scale_2'],'motion_0':_0x357102['motion_0'],'motion_1':_0x357102['motion_1'],'motion_2':_0x357102['motion_2'],'t_scale':_0x357102['t_scale'],'t':_0x357102['t'],'f_dc_0':_0x357102['f_dc_0'],'f_dc_1':_0x357102['f_dc_1'],'f_dc_2':_0x357102['f_dc_2'],'opacity':_0x357102['opacity']};_0x178f5a&&(_0xf75cc5={..._0xf75cc5,'f_rest_0':_0x357102['f_rest_0'],'f_rest_1':_0x357102['f_rest_1'],'f_rest_2':_0x357102['f_rest_2'],'f_rest_3':_0x357102['f_rest_3'],'f_rest_4':_0x357102['f_rest_4'],'f_rest_5':_0x357102['f_rest_5'],'f_rest_6':_0x357102['f_rest_6'],'f_rest_7':_0x357102['f_rest_7'],'f_rest_8':_0x357102['f_rest_8'],'f_rest_9':_0x357102['f_rest_9'],'f_rest_10':_0x357102['f_rest_10'],'f_rest_11':_0x357102['f_rest_11'],'f_rest_12':_0x357102['f_rest_12'],'f_rest_13':_0x357102['f_rest_13'],'f_rest_14':_0x357102['f_rest_14'],'f_rest_15':_0x357102['f_rest_15'],'f_rest_16':_0x357102['f_rest_16'],'f_rest_17':_0x357102['f_rest_17'],'f_rest_18':_0x357102['f_rest_18'],'f_rest_19':_0x357102['f_rest_19'],'f_rest_20':_0x357102['f_rest_20'],'f_rest_21':_0x357102['f_rest_21'],'f_rest_22':_0x357102['f_rest_22'],'f_rest_23':_0x357102['f_rest_23'],'f_rest_24':_0x357102['f_rest_24'],'f_rest_25':_0x357102['f_rest_25'],'f_rest_26':_0x357102['f_rest_26'],'f_rest_27':_0x357102['f_rest_27'],'f_rest_28':_0x357102['f_rest_28'],'f_rest_29':_0x357102['f_rest_29'],'f_rest_30':_0x357102['f_rest_30'],'f_rest_31':_0x357102['f_rest_31'],'f_rest_32':_0x357102['f_rest_32'],'f_rest_33':_0x357102['f_rest_33'],'f_rest_34':_0x357102['f_rest_34'],'f_rest_35':_0x357102['f_rest_35'],'f_rest_36':_0x357102['f_rest_36'],'f_rest_37':_0x357102['f_rest_37'],'f_rest_38':_0x357102['f_rest_38'],'f_rest_39':_0x357102['f_rest_39'],'f_rest_40':_0x357102['f_rest_40'],'f_rest_41':_0x357102['f_rest_41'],'f_rest_42':_0x357102['f_rest_42'],'f_rest_43':_0x357102['f_rest_43'],'f_rest_44':_0x357102['f_rest_44']});const _0x245c42=Object['values'](_0xf75cc5)['map'](_0x3d4bb0=>_0x3d4bb0['buffer']);self['postMessag'+'e']({'type':'decompress'+'ed','data':_0xf75cc5},_0x245c42);};}class ik extends me{constructor(){super(),h(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+sk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x23e75f=>{if(!this['worker'])return;const {data:_0x22ef97}=_0x23e75f;switch(_0x22ef97['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x22ef97['data']);break;}};}['decompress'](_0x4b5ccc,_0x2f23d9,_0xc8d6a4,_0x19d591,_0x2ecd85,_0x5bbc85,_0x434c6f,_0x52ef0c){const _0x1e0f70=[_0x2f23d9['buffer'],_0x19d591['buffer']];_0x2ecd85&&_0x1e0f70['push'](_0x2ecd85['buffer']),_0x5bbc85&&_0x1e0f70['push'](_0x5bbc85['buffer']),_0x434c6f&&_0x1e0f70['push'](_0x434c6f['buffer']),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x4b5ccc,'chunkData':_0x2f23d9,'chunkSize':_0xc8d6a4,'vertexData':_0x19d591,'shData0':_0x2ecd85,'shData1':_0x5bbc85,'shData2':_0x434c6f,'shBands':_0x52ef0c},_0x1e0f70);}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class rk{constructor(_0x4e3949,_0x3221ca,_0x1e5a6b,_0x13f9b0,_0x5f5711,_0x2edf45,_0x1fd7b2,_0x328144){const _0x514f3b=(_0x1f4775,_0x10157b)=>{const _0x2fe23f=(0x88d*-0x2+0x139*-0x1d+0x3490<<_0x10157b)-(0x665*-0x3+0x577+-0x3*-0x493);return(_0x1f4775&_0x2fe23f)/_0x2fe23f;},_0x255b2f=(_0x102aa0,_0x1e2404)=>{_0x102aa0['x']=_0x514f3b(_0x1e2404>>>0x1a10+-0xc37+0xdc4*-0x1,0x328+-0xbd7+0x8ba),_0x102aa0['y']=_0x514f3b(_0x1e2404>>>-0x260+-0x1*-0x16ba+-0x144f,-0x1c*-0xce+-0x170e+0x90),_0x102aa0['z']=_0x514f3b(_0x1e2404,0x2c*0x76+0x1d*0x1+-0xa2d*0x2);},_0x516ce7=(_0x52e0d7,_0x123b13)=>{_0x52e0d7['x']=_0x514f3b(_0x123b13>>>0x1c64+0x10b7+-0x2d03,-0x2ef*0x2+-0x1c01+-0x315*-0xb),_0x52e0d7['y']=_0x514f3b(_0x123b13>>>0x1*-0x1255+-0x1d82+0x2fe7*0x1,0x1*-0x1d3f+0x1b58+-0xf*-0x21),_0x52e0d7['z']=_0x514f3b(_0x123b13>>>-0x19e3+0x1aff+-0x6*0x2e,-0x5*-0x5ab+-0x710*0x5+-0xa3*-0xb),_0x52e0d7['w']=_0x514f3b(_0x123b13,-0x10ba+-0xaf9*0x1+0x1bbb);},_0x3ad6df=(_0x46e356,_0x57e5db)=>{const _0x85a657=(0x731*0x1+0x121b+-0x194b)/(Math['sqrt'](-0x1*-0x2375+0x5ba*-0x5+-0x6d1)*(-0x1*0x3d+0x24ff*-0x1+0x253c+0.5)),_0x5490a5=(_0x514f3b(_0x57e5db>>>0x5*-0x3fd+-0x167e+0x1*0x2a83,-0x3a9+0x4b*0x29+-0x850)-(-0xb1f+0x1ce3+-0x11c4+0.5))*_0x85a657,_0x5cf6e7=(_0x514f3b(_0x57e5db>>>0xc7c+0x1ab2+-0x2724,0x1529*-0x1+-0x80*-0x42+-0xbcd)-(-0x959*0x2+0x462+0x10*0xe5+0.5))*_0x85a657,_0x158a14=(_0x514f3b(_0x57e5db,0x1935+-0x2e*-0x17+-0x1d4d*0x1)-(-0xaff*-0x2+-0x21d2+0xbd4+0.5))*_0x85a657,_0xc65e71=Math['sqrt'](0x1*0x643+-0x18ef+0x12ad-(_0x5490a5*_0x5490a5+_0x5cf6e7*_0x5cf6e7+_0x158a14*_0x158a14));switch(_0x57e5db>>>0x77*0x23+-0x677*0x3+0x33e){case 0x4d1+-0x3d2*-0x3+0x9*-0x1cf:_0x46e356['set'](_0x5490a5,_0x5cf6e7,_0x158a14,_0xc65e71);break;case 0xc6+-0x427+-0x1b1*-0x2:_0x46e356['set'](_0xc65e71,_0x5cf6e7,_0x158a14,_0x5490a5);break;case-0x15e3+-0x24f7+0xeb7*0x4:_0x46e356['set'](_0x5cf6e7,_0xc65e71,_0x158a14,_0x5490a5);break;case-0x100b+-0x1bbe+0x2bcc:_0x46e356['set'](_0x5cf6e7,_0x158a14,_0xc65e71,_0x5490a5);break;}},_0x23292b=(_0x289cd8,_0x14712c,_0x35d700)=>_0x289cd8*(0x1459*-0x1+-0xa2f+0x1*0x1e89-_0x35d700)+_0x14712c*_0x35d700,{chunkData:_0x60c8dc,chunkSize:_0x550020,vertexData:_0x3c521e,shData0:_0x329168,shData1:_0x3ea54c,shData2:_0x2ed915,shBands:_0x4c9a81}=_0x4e3949,_0x111888=[-0x2454+0x1*-0xbaf+0x3006,0x18de+-0xb94+-0xd42,0x9e0*0x2+-0x1*-0x627+0x33b*-0x8][_0x4c9a81-(-0x11*-0x10f+-0x16*0x13f+0x96c)],_0x345496=-0x1af*0xc+0x36e*0x8+-0x2*0x39b;this['read']=_0x15192b=>{const _0xb78a6a=Math['floor'](_0x15192b/(-0x37*0x9a+0xd6*0x15+-0x2*-0x844))*_0x550020;if(_0x3221ca&&(_0x255b2f(_0x3221ca,_0x3c521e[_0x15192b*_0x345496+(-0xe1e+0x1e25+0xb*-0x175)]),_0x3221ca['x']=_0x23292b(_0x60c8dc[_0xb78a6a+(-0x7c*-0x25+0x989+-0x927*0x3)],_0x60c8dc[_0xb78a6a+(0x1ee5*0x1+-0x20f7+0x1*0x215)],_0x3221ca['x']),_0x3221ca['y']=_0x23292b(_0x60c8dc[_0xb78a6a+(-0x45a+0xbd3*0x3+-0x2*0xf8f)],_0x60c8dc[_0xb78a6a+(0x1171+-0x3*0x565+-0x9f*0x2)],_0x3221ca['y']),_0x3221ca['z']=_0x23292b(_0x60c8dc[_0xb78a6a+(0x9c*0x2b+0x1b1c+-0x354e)],_0x60c8dc[_0xb78a6a+(-0x1642+0x18*0x112+-0x369)],_0x3221ca['z'])),_0x1e5a6b&&_0x3ad6df(_0x1e5a6b,_0x3c521e[_0x15192b*_0x345496+(0x45*0x5+-0x1bcb*0x1+0x1a73)]),_0x13f9b0&&(_0x255b2f(_0x13f9b0,_0x3c521e[_0x15192b*_0x345496+(-0x23ae+0x18b8+0x6*0x1d4)]),_0x13f9b0['x']=_0x23292b(_0x60c8dc[_0xb78a6a+(-0x369*0x8+0x1*0xf05+0x11*0xb9)],_0x60c8dc[_0xb78a6a+(-0xd37+0x93*0x11+0x37d)],_0x13f9b0['x']),_0x13f9b0['y']=_0x23292b(_0x60c8dc[_0xb78a6a+(-0x1c*-0x15e+-0xaea+-0x1b57)],_0x60c8dc[_0xb78a6a+(-0x2481+-0x1*0xaa1+0xbcb*0x4)],_0x13f9b0['y']),_0x13f9b0['z']=_0x23292b(_0x60c8dc[_0xb78a6a+(0x18cc+0x415+-0x1cd9)],_0x60c8dc[_0xb78a6a+(-0x1*-0xee9+0x1*0x3e1+0x1*-0x12bf)],_0x13f9b0['z'])),_0x5f5711&&(_0x516ce7(_0x5f5711,_0x3c521e[_0x15192b*_0x345496+(-0x21d6+-0x1ee8+-0x89*-0x79)]),_0x550020>-0x16f*-0x19+-0x1d25+-0x6a6&&(_0x5f5711['x']=_0x23292b(_0x60c8dc[_0xb78a6a+(0xdb*-0x2a+0x1*0x1bbf+0x83b)],_0x60c8dc[_0xb78a6a+(-0x373+-0x16d4*-0x1+0x1352*-0x1)],_0x5f5711['x']),_0x5f5711['y']=_0x23292b(_0x60c8dc[_0xb78a6a+(0x18fa+-0x1*0x27f+0x77a*-0x3)],_0x60c8dc[_0xb78a6a+(0x26ab+-0x7*0x59+-0x242c)],_0x5f5711['y']),_0x5f5711['z']=_0x23292b(_0x60c8dc[_0xb78a6a+(0x6b1+-0x119c+0xaf9)],_0x60c8dc[_0xb78a6a+(0x4f*-0x49+-0xecf+-0x19*-0x17f)],_0x5f5711['z']))),_0x2edf45&&(_0x255b2f(_0x2edf45,_0x3c521e[_0x15192b*_0x345496+(-0x5*0x57b+0xc1*0x26+-0x3*0x69)]),_0x2edf45['x']=_0x23292b(_0x60c8dc[_0xb78a6a+(-0x22*0x19+-0x4e2+-0x1*-0x846)],_0x60c8dc[_0xb78a6a+(-0x23c1+-0x618+-0x29ee*-0x1)],_0x2edf45['x']),_0x2edf45['y']=_0x23292b(_0x60c8dc[_0xb78a6a+(-0x2*0x11eb+-0x1*0x1499+-0x96b*-0x6)],_0x60c8dc[_0xb78a6a+(-0x1c7*-0x7+-0x1*-0x17b9+-0x2414)],_0x2edf45['y']),_0x2edf45['z']=_0x23292b(_0x60c8dc[_0xb78a6a+(-0x25e8+-0x151*0x8+0x3084)],_0x60c8dc[_0xb78a6a+(0x1*0x1785+-0x1d*-0x76+0x13a*-0x1e)],_0x2edf45['z'])),_0x1fd7b2&&(_0x255b2f(_0x1fd7b2,_0x3c521e[_0x15192b*_0x345496+(-0xbf6*-0x2+0x3*0xa16+0x1*-0x3629)]),_0x1fd7b2['x']=_0x23292b(_0x60c8dc[_0xb78a6a+(0x6c2+0x21b*0x3+-0xcfb)],_0x60c8dc[_0xb78a6a+(-0x3*0x212+0x1de2+-0x1793)],_0x1fd7b2['x']),_0x1fd7b2['y']=_0x23292b(_0x60c8dc[_0xb78a6a+(0x71e+0x144d*-0x1+0xd49)],_0x60c8dc[_0xb78a6a+(-0x14c2+0x21e+0x1*0x12bf)],_0x1fd7b2['y'])),_0x328144&&_0x4c9a81>0x1cb+0xc2c+0x1*-0xdf7){const _0x33ed9f=[_0x329168,_0x3ea54c,_0x2ed915];for(let _0x1c6b38=-0x1f*-0x31+0x86c+-0xe5b;_0x1c6b38<-0x1*-0x134a+0x1103*-0x1+0x5*-0x74;++_0x1c6b38)for(let _0x17be53=0x2*0x11c8+-0xe9e*-0x1+0x2*-0x1917;_0x17be53<-0x66*-0x2+0xc76*0x2+-0x1*0x19a9;++_0x17be53)_0x328144[_0x1c6b38*(-0x12b+-0x167c+0x17b6)+_0x17be53]=_0x17be53<_0x111888?_0x33ed9f[_0x1c6b38][_0x15192b*(-0x25ea+-0x1599+0x3b93)+_0x17be53]*((-0x1e37+0x52f*-0x2+0x289d)/(-0xbe4+-0xad*0xd+0x15ac))-(0x626+0x1248+-0x186a):0x179a+0x1556+0x4*-0xb3c;}};}}class ak{constructor(){h(this,'numSplats'),h(this,'comments'),h(this,'chunkData'),h(this,'vertexData'),h(this,'is4D'),h(this,'shData0'),h(this,'shData1'),h(this,'shData2'),h(this,'shBands');}['createIter'](_0x3f85ce,_0x5c02cb,_0x5eefab,_0x1b9a45,_0x4d663c,_0x1ac31e,_0x2e4b13){return new rk(this,_0x3f85ce,_0x5c02cb,_0x5eefab,_0x1b9a45,_0x4d663c,_0x1ac31e,_0x2e4b13);}['calcAabb'](_0x453968){const {chunkData:_0x30c7c2,numChunks:_0xaf3923,chunkSize:_0x4c02e9}=this;let _0x470170=Math['exp'](Math['max'](_0x30c7c2[-0x159c+-0x204d+0x35f2],_0x30c7c2[-0x697+0x2f*0xc4+-0x1d5b],_0x30c7c2[0x81e+-0x1*0x2f9+-0x28d*0x2])),_0x66fe29=_0x30c7c2[0x22de+0x1*-0x2029+0x63*-0x7]-_0x470170,_0x540d95=_0x30c7c2[-0x1ed9+-0x972+0x284c]-_0x470170,_0x50c56b=_0x30c7c2[0xecb+0xcc7+-0x1b90]-_0x470170,_0x1d5a81=_0x30c7c2[0x1c40+0x2*-0x462+0x5*-0x3e5]+_0x470170,_0x48dbb9=_0x30c7c2[0x2*-0x787+0x1*-0x696+0x54*0x42]+_0x470170,_0x2e47a5=_0x30c7c2[-0x2*-0x11ab+0xe63+0x1*-0x31b4]+_0x470170;for(let _0x1d7341=0x10*-0x13b+-0x1*0x5+-0x1d*-0xae;_0x1d7341<_0xaf3923;++_0x1d7341){const _0x1e50fb=_0x1d7341*_0x4c02e9;_0x470170=Math['exp'](Math['max'](_0x30c7c2[_0x1e50fb+(0x18c7+0xa67*0x3+-0x37f3)],_0x30c7c2[_0x1e50fb+(0x18c0+0x1*0x10df+-0x2995)],_0x30c7c2[_0x1e50fb+(-0x51*0x61+0x1*0x1771+0x74b)])),_0x66fe29=Math['min'](_0x66fe29,_0x30c7c2[_0x1e50fb+(-0x27*0xe2+-0x1*-0x1ec1+0x3ad*0x1)]-_0x470170),_0x540d95=Math['min'](_0x540d95,_0x30c7c2[_0x1e50fb+(0x1e1+-0x3*0xb2b+0x1fa1)]-_0x470170),_0x50c56b=Math['min'](_0x50c56b,_0x30c7c2[_0x1e50fb+(0x1903+0x285+-0x1b86)]-_0x470170),_0x1d5a81=Math['max'](_0x1d5a81,_0x30c7c2[_0x1e50fb+(-0xbdd+0x14c0+-0x8e0)]+_0x470170),_0x48dbb9=Math['max'](_0x48dbb9,_0x30c7c2[_0x1e50fb+(-0x1c0e+0xd2b+0xee7)]+_0x470170),_0x2e47a5=Math['max'](_0x2e47a5,_0x30c7c2[_0x1e50fb+(-0x24bd+-0x1e33+0x42f5)]+_0x470170);}return _0x453968['center']['set']((_0x66fe29+_0x1d5a81)*(-0x162e+-0x1ee9+0x3517+0.5),(_0x540d95+_0x48dbb9)*(-0x8d3+-0x2240+0x2b13+0.5),(_0x50c56b+_0x2e47a5)*(-0x1fd4+-0x5ab*-0x1+0x1a29+0.5)),_0x453968['halfExtent'+'s']['set']((_0x1d5a81-_0x66fe29)*(-0x1*0x1717+-0xa7*-0x1+0x1670+0.5),(_0x48dbb9-_0x540d95)*(-0x364+-0x1a01+0x1d65+0.5),(_0x2e47a5-_0x50c56b)*(-0x2699+0x5b7+-0x17*-0x16e+0.5)),!(-0x1b86+-0xf5a+0xc4*0x38);}['getCenters'](_0x47a419){const {vertexData:_0x1d2649,chunkData:_0x5ecb3f,numChunks:_0x39abaf,chunkSize:_0x1316a2}=this;let _0x20079a,_0x2fec40,_0x458b18,_0x325f68,_0x31d42d,_0x19a803;for(let _0x4098d5=0x33a*-0x8+-0x2580+-0x1fa8*-0x2;_0x4098d5<_0x39abaf;++_0x4098d5){const _0x5b1ece=_0x4098d5*_0x1316a2;_0x20079a=_0x5ecb3f[_0x5b1ece+(-0x34c*-0x1+0x4*-0x529+0x1158)],_0x2fec40=_0x5ecb3f[_0x5b1ece+(0x4*0x3fa+-0x1351+0x17*0x26)],_0x458b18=_0x5ecb3f[_0x5b1ece+(0x1026+0x16d+0x1191*-0x1)],_0x325f68=_0x5ecb3f[_0x5b1ece+(0x1bed+-0xd*0x1+0x1bdd*-0x1)],_0x31d42d=_0x5ecb3f[_0x5b1ece+(-0x2*0x2ed+-0x115*0x17+0x1ec1)],_0x19a803=_0x5ecb3f[_0x5b1ece+(-0xf78+-0xb*-0x1e5+-0x1*0x55a)];const _0x426021=Math['min'](this['numSplats'],(_0x4098d5+(0x80*0x11+-0x8*0x9f+-0x387))*(0x17f2+-0xa40+0x82*-0x19));for(let _0x59e040=_0x4098d5*(-0xb7d+0x18fd*0x1+-0xc80);_0x59e040<_0x426021;++_0x59e040){const _0x5c77e8=_0x1d2649[_0x59e040*(0x1ee5+0xbb*-0x29+-0xee)],_0x3aed01=(_0x5c77e8>>>0x2*0x1043+-0x126c+0x25*-0x61)/(-0x5*-0x2fb+-0x91e+0x2*0x11b),_0x321fd9=(_0x5c77e8>>>-0x142d+-0x255b+-0x1331*-0x3&-0x31d*0xb+-0x2*0xba7+0x3d8c)/(0x1627+0x52d*0x2+-0x29*0xb2),_0x1eaa80=(_0x5c77e8&-0x1e1+0x4dc+-0x1*-0x504)/(-0x14f*0x16+0xf9f+-0x3*-0x70e);_0x47a419[_0x59e040*(0x18*0x3d+0x22d9+-0x288e)+(0x259e+-0x391*0x7+-0x1*0xca7)]=(-0x1339+0x1150*-0x2+-0x1aed*-0x2-_0x3aed01)*_0x20079a+_0x3aed01*_0x325f68,_0x47a419[_0x59e040*(0x21e5+0x7*0x11c+-0x6f1*0x6)+(-0x1*0xdfa+0x1ff8+-0x11fd)]=(-0x11c9*0x2+-0x2349+0x46dc-_0x321fd9)*_0x2fec40+_0x321fd9*_0x31d42d,_0x47a419[_0x59e040*(-0x1fac+-0x14bf+0x346e)+(0x1d7e+0x652*-0x2+-0x62*0x2c)]=(-0x12*-0x36+-0x22*0x89+0xe67-_0x1eaa80)*_0x458b18+_0x1eaa80*_0x19a803;}}}['getChunks'](_0x239e12){const {chunkData:_0x37777f,numChunks:_0x1e7d33,chunkSize:_0x2b2007}=this;let _0x378d99,_0x40166e,_0x556229,_0x35419c,_0x5ead4e,_0x37a9ab;for(let _0x21f2a7=0x6+-0x1211+0x95*0x1f;_0x21f2a7<_0x1e7d33;++_0x21f2a7){const _0x2974ba=_0x21f2a7*_0x2b2007;_0x378d99=_0x37777f[_0x2974ba+(0x9*0x34+-0x1e6d+-0x1*-0x1c99)],_0x40166e=_0x37777f[_0x2974ba+(0x13f1+0x1fc+-0x7a*0x2e)],_0x556229=_0x37777f[_0x2974ba+(0x1d*-0xe+0x352+-0x1ba*0x1)],_0x35419c=_0x37777f[_0x2974ba+(0x6d*-0x10+0x200b+0x1*-0x1938)],_0x5ead4e=_0x37777f[_0x2974ba+(0x1d*-0x80+0xcfe*0x1+0x186)],_0x37a9ab=_0x37777f[_0x2974ba+(-0x163a+-0x1f43+0x11d6*0x3)],_0x239e12[_0x21f2a7*(0x1*0x13ff+0x1528*-0x1+0x12f)+(-0xbf9+-0x32*-0x4b+-0x2ad*0x1)]=_0x378d99,_0x239e12[_0x21f2a7*(-0x1f*0xf7+0x1baa+0x245)+(0x12*-0xd9+-0xd*0x234+-0x1*-0x2be7)]=_0x40166e,_0x239e12[_0x21f2a7*(0x35*0x83+0xb15+-0x262e)+(0x26c6+0x240f*-0x1+0x2b5*-0x1)]=_0x556229,_0x239e12[_0x21f2a7*(-0x1*0xe4e+-0x1*0x1245+0x2099)+(-0x479*-0x5+0x3*-0x4c7+0x805*-0x1)]=_0x35419c,_0x239e12[_0x21f2a7*(-0x3d1*0x3+0xe9*-0x27+-0x48*-0xa7)+(-0xb28+-0x96d+-0x1499*-0x1)]=_0x5ead4e,_0x239e12[_0x21f2a7*(-0x1fb4+0x143*-0x1+0x20fd)+(0xbef+-0x34e+-0x89c)]=_0x37a9ab;}}['calcFocalP'+'oint'](_0x4129a2){const {chunkData:_0x5728e6,numChunks:_0x4ac689,chunkSize:_0x338c78}=this;_0x4129a2['x']=-0xa8+0x2*-0x172+-0xe3*-0x4,_0x4129a2['y']=0x6*-0x41f+0x3a6*-0x3+0x2f9*0xc,_0x4129a2['z']=-0x1a35*0x1+-0x1*0x26+0x1a5b;for(let _0xe6b896=0x2*0xe2+-0x1*0x16d3+0x150f;_0xe6b896<_0x4ac689;++_0xe6b896){const _0x33dad9=_0xe6b896*_0x338c78;_0x4129a2['x']+=_0x5728e6[_0x33dad9+(0xd4e+0xa60+-0x17ae)]+_0x5728e6[_0x33dad9+(0xcd4+0x1118*0x2+-0x2f01)],_0x4129a2['y']+=_0x5728e6[_0x33dad9+(-0x2d1+-0x40f*0x9+0x2759)]+_0x5728e6[_0x33dad9+(-0x2d2*-0x4+0x756*0x1+-0x129a)],_0x4129a2['z']+=_0x5728e6[_0x33dad9+(0x3*-0xcdb+-0x3d6+0x2a69)]+_0x5728e6[_0x33dad9+(0x3d0*0x9+0x1*0x268e+-0x48d9)];}_0x4129a2['mulScalar']((-0x34b*0x4+0x8f1+-0x43b*-0x1+0.5)/_0x4ac689);}get['isCompress'+'ed'](){return!(-0x617+-0x8c5+0x4*0x3b7);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0xc9e*0x1+-0x1218+0x29*0xc6));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}async['decompress'](){const _0x3cad71=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0x344ded}=this;if(_0x344ded>-0x1*0x2273+-0xb8e*0x3+0x451d){const _0x1c724b=[];for(let _0x221bde=0x8*-0x50+-0xa88+0xd08;_0x221bde<-0x1cb2+-0x159b+-0x3e2*-0xd;++_0x221bde)_0x1c724b['push']('f_rest_'+_0x221bde);_0x3cad71['splice'](_0x3cad71['indexOf']('f_dc_0')+(-0x2*0xc3d+0x1f98+0x71d*-0x1),-0x9*0x263+-0xfe9*-0x2+-0xa57,..._0x1c724b);}const _0xbf4bd9=new ik();return _0xbf4bd9['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData0'],this['shData1'],this['shData2'],this['shBands']),new Promise((_0x549358,_0x44d50b)=>{_0xbf4bd9['on']('decompress'+'ed',_0x2cd243=>{_0xbf4bd9['destroy'](),_0x549358(new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x3cad71['map'](_0x16000b=>({'type':'float','name':_0x16000b,'storage':_0x2cd243[_0x16000b],'byteSize':0x4}))}],this['comments']));});});}}async function nk(){const _0x3e28b2='super4d-ca'+'che-v1',_0x29a4f2={'maxAge':0x9a7ec800,'maxSize':0x280000000},_0x210440=new Uint8Array([0x1abe+-0x1dca*0x1+0x37c,-0xd8a+-0x14f7+0x22ed*0x1,0x1268+-0x16e3+-0x13d*-0x4,-0x1bdf+-0x1*-0x146f+-0x3bd*-0x2]),_0x106965=new Uint8Array([-0x1476+-0xeb*0x18+0x1544*0x2,-0x1ac0+-0x1c06+0x372b,0x100b+-0x12a*-0x10+0x223d*-0x1,0x4e3*-0x7+-0x236+-0x1*-0x24cf,0x5*-0x147+-0x1f*0x114+0x282e,-0x9*-0x317+-0x1*0x57a+-0x1*0x15ed,-0x2158+-0x1c65*-0x1+-0x4*-0x156,0x23e+-0x29*0xb3+-0x49*-0x5e,-0x22ea+0x5b5+0x1d99,-0x1*-0x167+0x14b0+-0x15b2,-0xec*0x8+0x7*-0x2f5+0x1*0x1c85,0x1fcb+-0x11e9+-0xdd8]),_0x41a026=-0x18d+-0x2*0x8ed+0x1367+0.28209479177387814,_0x361927=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class _0xa20503{constructor(_0x1300e6={}){this['options']={..._0x29a4f2,..._0x1300e6},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=0xa*-0x385+-0x63b+0x296d,this['initialize'+'d']=!(0x18c9+0x1365+-0x2c2d);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x3e28b2);const _0x308fc4=await this['cache']['keys'](),_0x19aa35=[];for(const _0x2d0fd3 of _0x308fc4){const _0x2d3959=_0x2d0fd3['url'],_0x5ee59e=await this['cache']['match'](_0x2d3959);if(_0x5ee59e){const _0x4b840c=(await _0x5ee59e['blob']())['size'],_0x3c30ec=_0x5ee59e['headers']['get']('x-cache-ti'+'me');_0x3c30ec&&_0x19aa35['push']({'url':_0x2d3959,'size':_0x4b840c,'cacheTime':parseInt(_0x3c30ec)});}}_0x19aa35['sort']((_0x42363c,_0x1c84d6)=>_0x42363c['cacheTime']-_0x1c84d6['cacheTime']);for(const _0x26b81b of _0x19aa35)this['cacheSizes']['set'](_0x26b81b['url'],_0x26b81b['size']),this['currentSiz'+'e']+=_0x26b81b['size'],this['lruList']['push'](_0x26b81b['url']);}catch(_0x4b4d96){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x4b4d96);}this['initialize'+'d']=!(0x1e89*-0x1+0x1b93+0x17b*0x2);}}async['get'](_0x3ae720){if(await this['init'](),!this['cache'])return null;try{const _0x4695e0=await this['cache']['match'](_0x3ae720);if(!_0x4695e0)return null;const _0x1d0c60=_0x4695e0['headers']['get']('x-cache-ti'+'me');return _0x1d0c60&&Date['now']()-parseInt(_0x1d0c60)>this['options']['maxAge']?(await this['delete'](_0x3ae720),null):(this['updateLRU'](_0x3ae720),_0x4695e0);}catch{return null;}}async['set'](_0x266179,_0x50e74c){if(!(!this['cache']||_0x266179['startsWith']('blob:')))try{const _0x28bb82=_0x50e74c['clone'](),_0x53f968=await _0x28bb82['blob'](),_0x54f79e=_0x53f968['size'];this['currentSiz'+'e']+_0x54f79e>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x54f79e);const _0x3da3ad=new Headers(_0x28bb82['headers']);_0x3da3ad['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x186042=new Response(_0x53f968,{'status':_0x28bb82['status'],'statusText':_0x28bb82['statusText'],'headers':_0x3da3ad});await this['cache']['put'](_0x266179,_0x186042),this['cacheSizes']['set'](_0x266179,_0x54f79e),this['currentSiz'+'e']+=_0x54f79e,this['updateLRU'](_0x266179);}catch(_0x2f2db6){console['error']('Cache\x20set\x20'+'error:',_0x2f2db6);}}['updateLRU'](_0x2abfe4){const _0x235bb7=this['lruList']['indexOf'](_0x2abfe4);_0x235bb7>-(0x1e08*-0x1+-0xcfe*-0x3+-0x8f1)&&this['lruList']['splice'](_0x235bb7,-0x1*-0x2425+-0x1*-0x1f63+0x1*-0x4387),this['lruList']['push'](_0x2abfe4);}async['cleanupSpa'+'ce'](_0x2eba0c){const _0x3ccdcf=this['options']['maxSize']*(0xb91+-0xa09*-0x1+-0x159a+0.9);if(!(this['currentSiz'+'e']<=_0x3ccdcf))for(;this['lruList']['length']>-0x3b6+0x1*0x40e+-0x58&&this['currentSiz'+'e']>_0x3ccdcf;){const _0x34e46c=this['lruList']['shift']();_0x34e46c&&await this['delete'](_0x34e46c);}}async['delete'](_0x10604b){if(this['cache'])try{await this['cache']['delete'](_0x10604b);const _0x220739=this['cacheSizes']['get'](_0x10604b)||-0x20d7+0x209*0x1+0x1ece;this['currentSiz'+'e']-=_0x220739,this['cacheSizes']['delete'](_0x10604b);const _0x9ecd7a=this['lruList']['indexOf'](_0x10604b);_0x9ecd7a>-(-0x1d21+0xfb5*0x1+-0x1*-0xd6d)&&this['lruList']['splice'](_0x9ecd7a,-0x1*-0x22de+0x5*-0xed+0xa14*-0x3);}catch(_0x3fd4e2){console['error']('Cache\x20dele'+'te\x20error:',_0x3fd4e2);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x19f270=>Promise['all'](_0x19f270['map'](_0x2e262d=>{var _0x47732f;return(_0x47732f=this['cache'])==null?void(0xbb3+-0x1afd*-0x1+0x26b0*-0x1):_0x47732f['delete'](_0x2e262d);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0xe*-0x10c+0x25f7*-0x1+0x349f;}catch(_0x9cd29a){console['error']('Cache\x20clea'+'r\x20error:',_0x9cd29a);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x95*-0x1+-0x15d3+0x1668;}}class _0x37e83d{constructor(_0x11abf4=[],_0x4dd29e={}){this['cacheManag'+'er']=new _0xa20503(_0x4dd29e['cache']),this['retryCount']=_0x4dd29e['retryCount']||-0x19c6+0x2d7*0x1+0x16f2,this['retryDelay']=_0x4dd29e['retryDelay']||0x1488+-0x248c+0x28*0x73,this['maxConcurr'+'ency']=_0x4dd29e['maxConcurr'+'ency']||0xe5e+0x681+-0x14dd,this['downloadQu'+'eue']=_0x11abf4,this['isProcessi'+'ngDownload'+'Queue']=!(-0x779+-0xb4e+0x12c8),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0x23b5+-0x20d7+0x4*0x1123);this['downloadQu'+'eue']['length']>0x15fb+-0x1*0x1748+0x14d;)try{const _0xc42c87=this['downloadQu'+'eue']['splice'](0x139a+0x81*-0x49+0x112f,this['maxConcurr'+'ency'])['map'](_0x5ae0be=>{if(!this['pendingRes'+'ponses']['has'](_0x5ae0be)){const _0x52f3e0=this['download'](_0x5ae0be);return this['pendingRes'+'ponses']['set'](_0x5ae0be,_0x52f3e0),_0x52f3e0['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x5ae0be);});}return Promise['resolve']();});await Promise['all'](_0xc42c87);}catch(_0x2f7fd6){console['error']('Download\x20e'+'rror:',_0x2f7fd6);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(-0xff*-0x11+0x5c6+0x4*-0x5ad);}}}async['fetch'](_0x32d3bd,_0x202271={}){if(this['pendingRes'+'ponses']['has'](_0x32d3bd))return this['pendingRes'+'ponses']['get'](_0x32d3bd);const {forceRefresh:_0xfaf0e=!(0x1a*-0xe3+0x1aab*-0x1+0x86*0x5f),..._0x9ceb76}=_0x202271;this['pendingRes'+'ponses']['set'](_0x32d3bd,this['download'](_0x32d3bd,_0x9ceb76));const _0x548c68=await this['pendingRes'+'ponses']['get'](_0x32d3bd);return this['pendingRes'+'ponses']['delete'](_0x32d3bd),_0x548c68;}async['download'](_0x2951bc,_0x317f60={}){var _0x2ddeb7;await((_0x2ddeb7=this['cacheManag'+'er'])==null?void(0x24ab+0xbf1*0x2+-0x3c8d):_0x2ddeb7['init']());const {forceRefresh:_0x54390e=!(-0x114+0x313+-0x1fe),..._0x52f8de}=_0x317f60;_0x54390e&&await this['cacheManag'+'er']['delete'](_0x2951bc);const _0x1be684=await this['cacheManag'+'er']['get'](_0x2951bc);if(_0x1be684)return _0x1be684;let _0x370b3f;for(let _0x57fb1c=-0x3*-0x7c2+0x16b0+-0x2df6;_0x57fb1c<this['retryCount'];_0x57fb1c++)try{const _0x4299ca=await fetch(_0x2951bc,_0x52f8de);if(!_0x4299ca['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x4299ca['status']);return await this['cacheManag'+'er']['set'](_0x2951bc,_0x4299ca),_0x4299ca;}catch(_0x4e2ae7){console['error']('Download\x20e'+'rror:',_0x4e2ae7),_0x370b3f=_0x4e2ae7,_0x57fb1c<this['retryCount']-(-0x1b55+0x89e*-0x4+0x3dce)&&await new Promise(_0x1533df=>setTimeout(_0x1533df,this['retryDelay']*(_0x57fb1c+(-0x1d7d+0x1*-0x1a3+-0x1f21*-0x1))));}throw _0x370b3f;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){this['cacheManag'+'er']['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(-0xade+0x24a+0x1*0x895),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x2c045c{constructor(){this['numSplats']=0x21c1+-0x7*-0x447+-0x3fb2,this['comments']=[],this['chunkData']=new Float32Array(0x1*-0x4ff+-0x2544+0x2a43*0x1),this['vertexData']=new Uint32Array(0x51*0x3+0x803*0x1+-0x8f6),this['is4D']=!(-0x3*0x973+0x22f7+-0x2*0x34f),this['shBands']=-0x19*0xb9+0x2f5*-0x1+-0x8a*-0x27,this['shData0']=new Uint8Array(0x8dc+0x1a58+-0x2ef*0xc),this['shData1']=new Uint8Array(-0x1541+0xd18*-0x1+0x2259),this['shData2']=new Uint8Array(0x1665+-0x1d55*-0x1+-0x33ba),this['elements']=[],this['isCompress'+'ed']=!(-0x15b4+0x2*-0xa6f+-0x1*-0x2a92);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0x1f7b+0xd4*0x2+-0x2023));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}}class _0x47fd08{constructor(_0x39b4f4,_0xd6ac57=[]){this['elements']=_0x39b4f4,this['comments']=_0xd6ac57,this['isCompress'+'ed']=!(-0x2379+0x1829+0xb51);}}class _0x18d4d7{constructor(_0x35bc4d,_0x3941d0){this['reader']=_0x35bc4d,this['progressFu'+'nc']=_0x3941d0,this['head']=0x26ed+0x10b1+-0x12*0x317,this['tail']=-0x173*-0xb+0x20a0+-0x3091;}async['read'](){var _0x23d958;const {value:_0x543208,done:_0x3a7823}=await this['reader']['read']();if(_0x3a7823)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x543208),(_0x23d958=this['progressFu'+'nc'])==null||_0x23d958['call'](this,_0x543208['byteLength']);}['push'](_0x4347d4){if(!this['data'])this['data']=_0x4347d4,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x4347d4['length'];else{const _0x127986=this['tail']-this['head'],_0x4a7ae7=_0x127986+_0x4347d4['length'];if(this['data']['length']>=_0x4a7ae7)this['head']>0x3d*-0x67+-0x418*0x2+-0x85*-0x3f?(this['data']['copyWithin'](-0x191f+0x77e+0x1*0x11a1,this['head'],this['tail']),this['data']['set'](_0x4347d4,_0x127986),this['head']=-0x21c1*0x1+-0x246*-0xc+-0x1*-0x679,this['tail']=_0x4a7ae7):(this['data']['set'](_0x4347d4,this['tail']),this['tail']+=_0x4347d4['length']);else{const _0x5677a9=new Uint8Array(_0x4a7ae7);this['head']>-0x1*-0x419+0x1*0x279+-0x692||this['tail']<this['data']['length']?_0x5677a9['set'](this['data']['subarray'](this['head'],this['tail']),0x13d7+-0xa55*0x1+0x2*-0x4c1):_0x5677a9['set'](this['data'],-0x65d*-0x1+0x24a8+-0x3*0xe57),_0x5677a9['set'](_0x4347d4,_0x127986),this['data']=_0x5677a9,this['view']=new DataView(this['data']['buffer']),this['head']=-0xb3*0x5+-0x1e71*-0x1+0x1af2*-0x1,this['tail']=_0x4a7ae7;}}}['compact'](){this['head']>0x24a7+0x2*-0xb+-0x2491&&(this['data']['copyWithin'](0x105e+-0x1ac4+0x533*0x2,this['head'],this['tail']),this['tail']-=this['head'],this['head']=-0x1003*-0x1+0x1*-0x1f21+0xf1e);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0xe80f8f=this['view']['getInt8'](this['head']);return this['head']++,_0xe80f8f;}['getUint8'](){const _0xebf9ad=this['view']['getUint8'](this['head']);return this['head']++,_0xebf9ad;}['getInt16'](){const _0x1fa7e2=this['view']['getInt16'](this['head'],!(0x1632+0x54c*0x4+-0x2b62));return this['head']+=0x754*-0x2+0x1a6a+-0xbc0,_0x1fa7e2;}['getUint16'](){const _0x14b755=this['view']['getUint16'](this['head'],!(0x18e5+-0x1ba3+0x36*0xd));return this['head']+=0x1547*0x1+0x3*0x346+-0x1f17,_0x14b755;}['getInt32'](){const _0x5b67ca=this['view']['getInt32'](this['head'],!(-0x8d*-0x19+0x191*0xb+-0x20*0xf8));return this['head']+=-0xaba+-0x305*0x1+0xdc3,_0x5b67ca;}['getUint32'](){const _0x497e4f=this['view']['getUint32'](this['head'],!(-0x1d1a+0x21eb+-0x4d1));return this['head']+=-0x802*-0x2+0x34a*0x7+-0x2706,_0x497e4f;}['getFloat32'](){const _0x10db4b=this['view']['getFloat32'](this['head'],!(0xdda+-0x5f8*0x5+-0x17*-0xb2));return this['head']+=-0xd4f*0x2+0xd*-0x1b9+-0x475*-0xb,_0x10db4b;}['getFloat64'](){const _0x20148b=this['view']['getFloat64'](this['head'],!(0x2*-0xcb9+-0x1ceb*0x1+0x365d));return this['head']+=0x184b+0x9e6+-0x2229,_0x20148b;}}class _0x46ebdd{constructor(_0x171e13,_0x3a7cd4,_0x38a9dc){this['x']=_0x171e13,this['y']=_0x3a7cd4,this['z']=_0x38a9dc;}}class _0x3be830{constructor(_0x33591f,_0x1b81a0,_0x2eb8c1,_0x540213){this['x']=_0x33591f,this['y']=_0x1b81a0,this['z']=_0x2eb8c1,this['w']=_0x540213;}}class _0x1d8f1e{constructor(_0x4b568e,_0x363521,_0x487131,_0x1d8f8a){this['x']=_0x4b568e,this['y']=_0x363521,this['z']=_0x487131,this['w']=_0x1d8f8a;}['set'](_0x397063,_0x5ed8ac,_0x28d161,_0x4cdabd){this['x']=_0x397063,this['y']=_0x5ed8ac,this['z']=_0x28d161,this['w']=_0x4cdabd;}}class _0xef87d1{constructor(_0x431ff7,_0x40b3ca,_0x5d3fef,_0xb7dc7f,_0x2be4c7,_0x39eaca,_0x3506be,_0x37ef8c,_0x4c9419,_0x56d154,_0x382787,_0x5086f1,_0x36cdee,_0x30be49){const _0x31b153=(_0x41e4c1,_0x95c3e4)=>{const _0x3b27d8=(0x1ace+0x2171+-0x3c3e<<_0x95c3e4)-(-0x26f0+-0x128f*-0x1+-0x2*-0xa31);return(_0x41e4c1&_0x3b27d8)/_0x3b27d8;},_0x59c92b=(_0x41e19b,_0x3aa341)=>{_0x41e19b['x']=_0x31b153(_0x3aa341>>>0x435+-0x4d7*-0x1+-0x8f7,-0x1b06+-0x1609+-0x9d2*-0x5),_0x41e19b['y']=_0x31b153(_0x3aa341>>>-0x103c+-0xb*0x109+0x2*0xdd5,0x1*-0x4ab+-0x191*-0x13+0x6*-0x42d),_0x41e19b['z']=_0x31b153(_0x3aa341,0x26e8+0x287+-0x6*0x6e6);},_0x5f2f8c=(_0x2b7af0,_0x59eeca)=>{_0x2b7af0['x']=_0x31b153(_0x59eeca>>>-0xcd4+0x6*0x41f+-0xbce,-0x8cb+-0x18ae+0x2181),_0x2b7af0['y']=_0x31b153(_0x59eeca>>>0x1*-0x183+0x1d0+0x3d*-0x1,-0x15a1+0xb*0x377+0x4*-0x41d),_0x2b7af0['z']=_0x31b153(_0x59eeca>>>-0x6ab+-0x2de*-0x4+-0x4c5,-0x1*-0x15d9+0x940+0x21*-0xf1),_0x2b7af0['w']=_0x31b153(_0x59eeca,-0x5*0x1c3+-0x1*-0x8ea+0x13*-0x1);},_0x4a0325=(_0x540a9c,_0x1e8306)=>{const _0x1da8e6=(-0xa*-0x6a+0x25a1+0x3*-0xdec)/(Math['sqrt'](0xa3*-0x2b+-0xbd8+-0x53*-0x79)*(-0x135a+-0x7*-0x9d+-0x1*-0xf0f+0.5)),_0x591a15=(_0x31b153(_0x1e8306>>>0x21f3+0x22e9+-0x238*0x1f,0x22d5+0x197b+-0x3c46)-(0x1c74+0x1*-0x24b+-0x1a29+0.5))*_0x1da8e6,_0x2162ef=(_0x31b153(_0x1e8306>>>0x31*0x11+-0xe3b+0xb04,-0x1535*0x1+0x2a9+-0x27*-0x7a)-(-0x10*-0x53+0x111e*-0x1+0x1*0xbee+0.5))*_0x1da8e6,_0x48b6ac=(_0x31b153(_0x1e8306,-0xebe+0x310+0x5dc*0x2)-(0x17da+0x5*0x9b+0x3d7*-0x7+0.5))*_0x1da8e6,_0x333955=Math['sqrt'](-0x10bd+0x1925+-0x867-(_0x591a15*_0x591a15+_0x2162ef*_0x2162ef+_0x48b6ac*_0x48b6ac));switch(_0x1e8306>>>0x623*-0x1+0x72b+-0xea){case 0x247d+0x1db7+-0x1*0x4234:_0x540a9c['set'](_0x591a15,_0x2162ef,_0x48b6ac,_0x333955);break;case 0x10b6+0x7a*-0x8+-0xce5:_0x540a9c['set'](_0x333955,_0x2162ef,_0x48b6ac,_0x591a15);break;case 0x2f6*0x6+0x19*0xf1+-0x294b:_0x540a9c['set'](_0x2162ef,_0x333955,_0x48b6ac,_0x591a15);break;case 0x290*-0xe+-0x148a+0x87*0x6b:_0x540a9c['set'](_0x2162ef,_0x48b6ac,_0x333955,_0x591a15);break;}},_0x159942=(_0x5281ad,_0x17c812,_0x5ddce2)=>_0x5281ad*(-0x2277*-0x1+0x113*0x3+0x1*-0x25af-_0x5ddce2)+_0x17c812*_0x5ddce2,_0x36b176=[0xb03*0x2+-0x11ca+-0x1*0x439,0x3*0x2c8+-0x40+-0x810,-0x1023+0x137*0x7+0x7b1][_0x3506be-(-0x3*-0x81a+0x1837*-0x1+-0x16)],_0xbeb279=-0x95*-0x30+0x16da+-0x1962*0x2;this['read']=_0x2a5e93=>{const _0x1d6316=Math['floor'](_0x2a5e93/(-0x34a+-0xc48+0x1092))*_0x40b3ca;if(_0x37ef8c&&(_0x59c92b(_0x37ef8c,_0x5d3fef[_0x2a5e93*_0xbeb279+(0x25fb+-0x213e+0x4bd*-0x1)]),_0x37ef8c['x']=_0x159942(_0x431ff7[_0x1d6316+(-0x1*-0x10d8+0xa*0x10+0x8bc*-0x2)],_0x431ff7[_0x1d6316+(0xb3*0x26+-0x1364+-0x1*0x72b)],_0x37ef8c['x']),_0x37ef8c['y']=_0x159942(_0x431ff7[_0x1d6316+(0x19ee*0x1+-0x224a+0x85d)],_0x431ff7[_0x1d6316+(0xa37+-0x680+-0x3b3)],_0x37ef8c['y']),_0x37ef8c['z']=_0x159942(_0x431ff7[_0x1d6316+(-0xb8d*0x3+0x5*-0x32e+0x328f)],_0x431ff7[_0x1d6316+(-0x162a+0x6*0x317+0x3a5*0x1)],_0x37ef8c['z'])),_0x4c9419&&_0x4a0325(_0x4c9419,_0x5d3fef[_0x2a5e93*_0xbeb279+(0x1ed3+0x1*-0xdc9+-0x1109)]),_0x56d154&&(_0x59c92b(_0x56d154,_0x5d3fef[_0x2a5e93*_0xbeb279+(-0xaad+-0x25*-0x60+-0x331*0x1)]),_0x56d154['x']=_0x159942(_0x431ff7[_0x1d6316+(0x218*0x5+0x14f4+-0x2*0xfb3)],_0x431ff7[_0x1d6316+(-0x1*0xbce+0x1567+-0x198*0x6)],_0x56d154['x']),_0x56d154['y']=_0x159942(_0x431ff7[_0x1d6316+(0x43a*-0x7+-0x16cc+0x3469)],_0x431ff7[_0x1d6316+(-0x89*-0x45+0x1*0x751+-0x161a*0x2)],_0x56d154['y']),_0x56d154['z']=_0x159942(_0x431ff7[_0x1d6316+(-0x1010+0x7*-0xf9+0x16e7)],_0x431ff7[_0x1d6316+(0x509*-0x1+-0x621*-0x2+0x397*-0x2)],_0x56d154['z'])),_0x382787&&(_0x5f2f8c(_0x382787,_0x5d3fef[_0x2a5e93*_0xbeb279+(-0x9*0xde+-0x6*-0x20c+-0x9*0x7f)]),_0x40b3ca>-0x2e8+0x30*-0xb5+0x1272*0x2&&(_0x382787['x']=_0x159942(_0x431ff7[_0x1d6316+(0x59e*0x5+-0x7*-0x3e5+0x21*-0x1ad)],_0x431ff7[_0x1d6316+(-0x1805+0x2116+-0x902)],_0x382787['x']),_0x382787['y']=_0x159942(_0x431ff7[_0x1d6316+(-0x3*0xba1+-0x1*-0x1f8+0x41f*0x8)],_0x431ff7[_0x1d6316+(-0x15d0+-0xd46+0x2326)],_0x382787['y']),_0x382787['z']=_0x159942(_0x431ff7[_0x1d6316+(-0x1773+-0xaf1*0x1+0x1139*0x2)],_0x431ff7[_0x1d6316+(-0x2*0xb9f+-0x1edc+0x1*0x362b)],_0x382787['z']))),_0x5086f1&&(_0x59c92b(_0x5086f1,_0x5d3fef[_0x2a5e93*_0xbeb279+(-0x23ab+0x333+0x207c)]),_0x5086f1['x']=_0x159942(_0x431ff7[_0x1d6316+(-0x8*-0xb2+0x2313+0x1*-0x2891)],_0x431ff7[_0x1d6316+(-0x233d+0x9ab+0x19a7)],_0x5086f1['x']),_0x5086f1['y']=_0x159942(_0x431ff7[_0x1d6316+(0x2d*-0x4f+-0x6*-0x1cf+0x31c)],_0x431ff7[_0x1d6316+(-0x1d*-0x129+0x653*0x6+-0xa37*0x7)],_0x5086f1['y']),_0x5086f1['z']=_0x159942(_0x431ff7[_0x1d6316+(-0x9*-0x72+-0xef*-0xe+0x40*-0x44)],_0x431ff7[_0x1d6316+(-0x82*0xd+0x928+-0x1*0x277)],_0x5086f1['z'])),_0x36cdee&&(_0x59c92b(_0x36cdee,_0x5d3fef[_0x2a5e93*_0xbeb279+(-0x17d*0xa+-0x874+-0x175b*-0x1)]),_0x36cdee['x']=_0x159942(_0x431ff7[_0x1d6316+(-0x206b+0x247a+-0x3f7)],_0x431ff7[_0x1d6316+(-0x1*-0x164b+0x2655+-0x3c87)],_0x36cdee['x']),_0x36cdee['y']=_0x159942(_0x431ff7[_0x1d6316+(0x8*0x169+0x157a+0x8*-0x415)],_0x431ff7[_0x1d6316+(-0x5*0x179+-0x1e38+0x30*0xc9)],_0x36cdee['y'])),_0x30be49&&_0x3506be>0x1b8b+-0x283*-0xf+-0x4138){const _0xd696e1=[_0xb7dc7f,_0x2be4c7,_0x39eaca];for(let _0x1593c9=0x1*0x3d2+-0x1341+-0xf6f*-0x1;_0x1593c9<0x21b2+-0x1*0x25e5+-0x21b*-0x2;++_0x1593c9)for(let _0x308f90=-0x167*0xa+0xade+0x328;_0x308f90<0xb*-0x60+-0x1195+0x4*0x571;++_0x308f90)_0x30be49[_0x1593c9*(-0x3*0x38f+0x1*0xbdd+-0x121)+_0x308f90]=_0x308f90<_0x36b176?_0xd696e1[_0x1593c9][_0x2a5e93*(0x42*-0x4c+0x4ca+-0xad*-0x16)+_0x308f90]*((-0x2342+0x2a7+-0xf*-0x22d)/(-0x1fb8+-0x11*0x236+0x464d))-(-0xa*0x356+0x25b6+0x22b*-0x2):0x2c*0x3d+0x358+-0x3b*0x3c;}};}}self['onmessage']=async _0x4e9627=>{var _0x250627,_0x46ee12,_0x533ae4;const {data:_0x1161f5}=_0x4e9627;switch(_0x1161f5['type']){case'initWorker':globalThis['loadUrlLis'+'t']=_0x1161f5['loadUrlLis'+'t'],globalThis['fetchWorke'+'r']=new _0x37e83d(globalThis['loadUrlLis'+'t']);break;case'destroyWor'+'ker':(_0x250627=globalThis['fetchWorke'+'r'])==null||_0x250627['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['loadUrlLis'+'t']=[];break;case'loadPly':const {url:_0x3223c9,decompress:_0x5a1e1d}=_0x1161f5;try{globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x37e83d(globalThis['loadUrlLis'+'t']));const _0x5d4765=await globalThis['fetchWorke'+'r']['fetch'](_0x3223c9);if(!_0x5d4765||!_0x5d4765['body'])self['postMessag'+'e']({'type':'error','data':'Error\x20load'+'ing\x20resour'+'ce','url':_0x3223c9});else{const _0x4933bc=parseInt(_0x5d4765['headers']['get']('content-le'+'ngth')??'0',-0x16eb*-0x1+-0x17fe+0x1*0x11d);self['postMessag'+'e']({'type':'totalLengt'+'h','totalLength':_0x4933bc,'bytes':0x0,'url':_0x3223c9});let _0x28f76a=await _0x3f2d01(_0x5d4765['body']['getReader'](),_0x4efb15=>{self['postMessag'+'e']({'type':'progress','bytes':_0x4efb15,'totalLength':_0x4933bc,'url':_0x3223c9});});if(_0x5a1e1d&&_0x28f76a['isCompress'+'ed']){const _0x1d8859=_0x5b6dc8(_0x28f76a),_0x1de327=(_0x46ee12=_0x1d8859==null?void(0x12f1+0x257f+-0x3870):_0x1d8859['elements'][-0x1*0x1bf1+-0x148+0x1d39])==null?void(0xb97+0x7*0x8e+-0xf79):_0x46ee12['properties']['map'](_0xb8bdea=>_0xb8bdea['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x1d8859,'url':_0x3223c9},_0x1de327);}else{if(_0x28f76a['isCompress'+'ed']){const _0x9b66a0=['chunkData','vertexData'];_0x28f76a['shData0']&&_0x9b66a0['push']('shData0','shData1','shData2');const _0x3b8556=_0x9b66a0['map'](_0x2facef=>{var _0xcf12c3;return(_0xcf12c3=_0x28f76a[_0x2facef])==null?void(0x1a71*0x1+0x82d+0x229e*-0x1):_0xcf12c3['buffer'];});self['postMessag'+'e']({'type':'splatData','data':_0x28f76a,'url':_0x3223c9},_0x3b8556);}else{_0x28f76a=_0x14f48d(_0x28f76a);const _0x228ff8=(_0x533ae4=_0x28f76a==null?void(0x1*0x267b+-0x146c+0x45*-0x43):_0x28f76a['elements'][-0x5*-0x2ab+-0x1464+-0x70d*-0x1])==null?void(0x205a+0x1d97+-0x3df1):_0x533ae4['properties']['map'](_0x14f192=>_0x14f192['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x28f76a,'url':_0x3223c9},_0x228ff8);}}}}catch(_0x20986d){self['postMessag'+'e']({'type':'error','data':_0x20986d['message'],'url':_0x3223c9});}break;}};const _0x14f48d=_0x92dd70=>{var _0x272101;const _0x43a702=(_0x272101=_0x92dd70==null?void(0xbbd+0xd*0x17f+0x1f30*-0x1):_0x92dd70['elements'][0x126*0x12+0xaa6+-0x1f52])==null?void(-0x1850+0x212e+0x1c6*-0x5):_0x272101['properties']['find'](_0x4f7a12=>_0x4f7a12['name']==='opacity');if(_0x43a702){for(let _0x345136=-0x4*-0x39c+0x2bf*0xe+-0x34e2;_0x345136<_0x43a702['storage']['length'];_0x345136++)_0x43a702['storage'][_0x345136]=(-0x2*0x4dd+-0x1d4d+0x2708)/(0xde6+0x2076+-0x2e5b+Math['exp'](-_0x43a702['storage'][_0x345136]));}return _0x92dd70;},_0x48c3f1=_0x5702fc=>{const _0xad1189=[],_0x1f61f2=[];let _0x389def;for(let _0x38e7f0=-0x10dd*0x1+-0x7b9*0x4+0x2fc2;_0x38e7f0<_0x5702fc['length'];++_0x38e7f0){const _0x435081=_0x5702fc[_0x38e7f0]['split']('\x20');switch(_0x435081[0x2354+-0x2257+-0xfd]){case'comment':_0x1f61f2['push'](_0x435081['slice'](0x9b*0x1+-0x24cf+0x2435)['join']('\x20'));break;case'format':_0x389def=_0x435081[-0x175*0x16+-0x150d+0x351c];break;case'element':_0xad1189['push']({'name':_0x435081[0x10b6+-0x2232+0x117d],'count':parseInt(_0x435081[0x1ea*-0x7+-0x1d3f+0x3d*0xb3],0xf74+0x5c6*0x1+-0xa98*0x2),'properties':[]});break;case'property':{if(!_0x361927['has'](_0x435081[0xc7+-0x24*-0xaf+0x9*-0x2d2]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x435081[-0xd73+0x1b2b+-0xdb7]+('\x27\x20in\x20ply\x20h'+'eader'));_0xad1189[_0xad1189['length']-(0x26cb+-0x11*0x3d+-0x22bd)]['properties']['push']({'type':_0x435081[-0x53*-0x64+-0x4*-0x551+0x5f7*-0x9],'name':_0x435081[0xe*-0x1b5+-0x17*0x37+-0xd3*-0x23],'storage':null,'byteSize':_0x361927['get'](_0x435081[-0x23c4+-0x222b*-0x1+0x19a])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x435081[-0x74f*-0x2+0x1c2b+-0x2ac9]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0xad1189,'format':_0x389def,'comments':_0x1f61f2};},_0x20083a=_0x16e36f=>{const _0xff384e=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0x294d4a=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x5545fd=new Array(0x1*-0x16a3+0x27+0x16a9)['fill']('')['map']((_0x238f96,_0x48a438)=>'f_rest_'+_0x48a438),_0x4d5113=()=>_0x16e36f[0xfe8+0x446+-0xe*0x171]['name']==='chunk'&&_0x16e36f[-0x50b+0x8*0x4d2+-0x2185]['properties']['every']((_0x483f8c,_0x4cc99f)=>_0x483f8c['name']===_0xff384e[_0x4cc99f]&&_0x483f8c['type']==='float')&&_0x16e36f[-0x1*0xbe6+-0x1bc7*-0x1+-0xfe0]['name']==='vertex'&&_0x16e36f[0x2143+0xd8c*-0x2+-0x20e*0x3]['properties']['every']((_0x253fa9,_0x333304)=>_0x253fa9['name']===_0x294d4a[_0x333304]&&_0x253fa9['type']==='uint'),_0x1873d9=()=>_0x16e36f[0x121f+-0x7c0+-0xa5d]['name']==='sh'&&[0x703+-0x1*0x1223+0xb29,-0x2486+0x1a0*0x8+0x2*0xbcf,-0x25f9+0x14e0+0x1146]['indexOf'](_0x16e36f[-0x217+0x1078+-0xe5f]['properties']['length'])!==-(-0x10d2*-0x2+-0x1*-0x20ed+-0x4290)&&_0x16e36f[-0x3*-0x4fd+-0x9d4+-0x521]['properties']['every']((_0x149070,_0x398b86)=>_0x149070['name']===_0x5545fd[_0x398b86]&&_0x149070['type']==='uchar');return _0x16e36f['length']===0x1*-0x1c6d+-0x1ecf+0x3b3e&&_0x4d5113()||_0x16e36f['length']===0x2048*-0x1+-0x1*0x926+0x2971&&_0x4d5113()&&_0x1873d9();},_0x3cda71=_0x30be3b=>_0x30be3b['length']===-0x2*0x35+-0x2275+0x3e0*0x9&&_0x30be3b[-0x1*0xba9+0x106+-0x1*-0xaa3]['name']==='vertex'&&_0x30be3b[0x619+-0x1*-0xc22+-0x167*0xd]['properties']['every'](_0x581d62=>_0x581d62['type']==='float'),_0x364028=async(_0x40f56e,_0x228413,_0x45a7f2)=>{const _0x25185d=new _0x2c045c();_0x25185d['comments']=_0x45a7f2;const _0x2c8542=_0x228413[-0xdf3*0x2+-0xf3b+0x2b21]['count'],_0x18c8f8=_0x228413[-0x17*-0xf1+0x25a5+-0x3b4c]['properties']['length'],_0x49c8ed=_0x228413[0x1*0x1a6f+0xb2a+0xc88*-0x3]['count'],_0x40ca2d=_0x228413[0x2*0x25f+0xbdf*0x3+-0x142d*0x2]['properties']['some'](_0x3cc140=>_0x3cc140['name']==='packed_tim'+'e'),_0x24e9e0=(_0x694d09=>{const _0x519bfd=Math['ceil'](Math['sqrt'](_0x694d09)),_0x1d6313=Math['ceil'](_0x694d09/_0x519bfd);return _0x519bfd*_0x1d6313;})(_0x49c8ed);_0x25185d['numSplats']=_0x49c8ed,_0x25185d['is4D']=_0x40ca2d,_0x25185d['chunkData']=new Float32Array(_0x2c8542*_0x18c8f8),_0x25185d['vertexData']=new Uint32Array(_0x24e9e0*(0xbc+0x1c53+-0x1d09));const _0x459e84=async(_0x2f1887,_0x3c014e)=>{const _0x3f87e1=new Uint8Array(_0x2f1887);let _0x4e9f10=0x1*0xa79+0x1961*-0x1+0xee8;for(;_0x4e9f10<_0x3c014e;){for(;_0x40f56e['remaining']===0x2013+0x3*0x570+0x3063*-0x1;)await _0x40f56e['read']();const _0x949a28=Math['min'](_0x3c014e-_0x4e9f10,_0x40f56e['remaining']),_0x5c5c4c=_0x40f56e['data'];for(let _0xd5d40e=0x163f+-0x1451+0xd*-0x26;_0xd5d40e<_0x949a28;++_0xd5d40e)_0x3f87e1[_0x4e9f10++]=_0x5c5c4c[_0x40f56e['head']++];}};if(await _0x459e84(_0x25185d['chunkData']['buffer'],_0x2c8542*_0x18c8f8*(-0x1*0x217+-0x8*0x1c9+0x1*0x1063)),await _0x459e84(_0x25185d['vertexData']['buffer'],_0x49c8ed*(0xc26*0x3+-0x20cc*0x1+0x74*-0x8)*(0x8e*-0x1+0x163*-0xe+0x9fe*0x2)),_0x228413['length']===-0x1ca+0x4c1+-0x2f4){const _0x9f71db=_0x24e9e0*(-0x1*-0x20e7+0xbcd*0x1+-0x2ca4),_0x27b38=new Uint8Array(_0x9f71db),_0x59e26f=new Uint8Array(_0x9f71db),_0x2d9373=new Uint8Array(_0x9f71db),_0x432112=0x1d*0x65+-0xf75*0x2+0x1779,_0x1a09bf=_0x228413[-0x15dc+0x2*0x959+0x32c*0x1]['properties']['length']/(-0x2601+0x1016+0x15ee),_0x583e1c=new Uint8Array(_0x432112*_0x1a09bf*(-0x1cf5+-0x582*0x2+0x27fc));for(let _0x2f148f=-0x1e0*-0x1+-0x1*-0x971+0x1*-0xb51;_0x2f148f<_0x25185d['numSplats'];_0x2f148f+=_0x432112){const _0x120c46=Math['min'](_0x432112,_0x25185d['numSplats']-_0x2f148f);await _0x459e84(_0x583e1c['buffer'],_0x120c46*_0x1a09bf*(0x7*0x214+-0x1*-0x25b8+-0x3441));for(let _0x348524=-0x1bac+-0x2248+-0xf4*-0x41;_0x348524<_0x120c46;++_0x348524)for(let _0x385ab9=-0x266c+0x6*0x17f+0x1d72;_0x385ab9<0x20a4*0x1+-0xdf*-0x10+-0x2e85;++_0x385ab9){const _0x3dc82c=(_0x2f148f+_0x348524)*(-0x293*0x5+0xb51+0x9*0x2e)+_0x385ab9;_0x385ab9<_0x1a09bf?(_0x27b38[_0x3dc82c]=_0x583e1c[(_0x348524*(0x391+-0x2211+0x1e83)+(0xc4e+-0x8ad*-0x4+-0x2f02))*_0x1a09bf+_0x385ab9],_0x59e26f[_0x3dc82c]=_0x583e1c[(_0x348524*(0x1b81*0x1+-0xbd8+0xfa6*-0x1)+(-0x427*-0x1+0x1*0x2f5+-0x71b))*_0x1a09bf+_0x385ab9],_0x2d9373[_0x3dc82c]=_0x583e1c[(_0x348524*(-0x1c8a+0xaff*0x1+0x118e)+(-0x1e1d+0xe03*0x1+0x407*0x4))*_0x1a09bf+_0x385ab9]):(_0x27b38[_0x3dc82c]=-0x83*-0x17+-0x370+0x3b*-0x22,_0x59e26f[_0x3dc82c]=-0x1f12+0x3*-0x33d+0x2948,_0x2d9373[_0x3dc82c]=0x26cf+-0x1*0xe3+0x2e1*-0xd);}}_0x25185d['shData0']=_0x27b38,_0x25185d['shData1']=_0x59e26f,_0x25185d['shData2']=_0x2d9373,_0x25185d['shBands']={0x3:0x1,0x8:0x2,0xf:0x3}[_0x1a09bf];}else _0x25185d['shBands']=0x84c+-0x2*0x403+-0x46;return _0x25185d;},_0xac5ac9=async(_0xddcc31,_0x22cf8f,_0x2a8014)=>{const _0x357962=_0x22cf8f[-0x12f+0x15f9+-0x14ca],_0x129045=_0x357962['properties'],_0x5c5f1f=_0x129045['length'],_0x42f4b5=_0x129045['map'](_0x43e760=>_0x43e760['storage']),_0x4a3f68=_0x129045['reduce']((_0x45e71d,_0x553950)=>_0x45e71d+_0x553950['byteSize'],0x2c2*0x7+0x121b+0x2569*-0x1);let _0x208b80=-0x19ab+-0x1881+0x1ee*0x1a,_0x954a76;const _0x31109a=()=>{const _0x5a97ef=_0xddcc31['data']['buffer'];(_0x954a76==null?void(-0xaa6+-0xff3+0x1a99*0x1):_0x954a76['buffer'])!==_0x5a97ef&&(_0x954a76=new Float32Array(_0x5a97ef,0x26e0*-0x1+-0x20c3+0x47a3,_0x5a97ef['byteLength']/(-0x1c95+0x2*-0x824+0x2ce1)));};for(_0x31109a();_0x208b80<_0x357962['count'];){for(;_0xddcc31['remaining']<_0x4a3f68;)await _0xddcc31['read'](),_0x31109a();const _0x40ea83=Math['min'](_0x357962['count']-_0x208b80,Math['floor'](_0xddcc31['remaining']/_0x4a3f68));for(let _0x38a017=-0x1fad+0x23c2+-0x415;_0x38a017<_0x5c5f1f;++_0x38a017){const _0x361201=_0x42f4b5[_0x38a017];for(let _0x59b8a0=0x964+-0x1*0x214f+-0x17eb*-0x1;_0x59b8a0<_0x40ea83;++_0x59b8a0)_0x361201[_0x59b8a0+_0x208b80]=_0x954a76[_0x59b8a0*_0x5c5f1f+_0x38a017];}_0x208b80+=_0x40ea83,_0xddcc31['head']+=_0x40ea83*_0x4a3f68;}return new _0x47fd08(_0x22cf8f,_0x2a8014);},_0x5de80c=async(_0xa7cf84,_0x54a2bd,_0x4a2665)=>{for(let _0x101f95=0x1cd5+-0x1*-0x7a7+-0x247c;_0x101f95<_0x54a2bd['length'];++_0x101f95){const _0x3be085=_0x54a2bd[_0x101f95],_0x20623b=_0x3be085['properties']['reduce']((_0xfab90,_0xb6900a)=>_0xfab90+_0xb6900a['byteSize'],-0x11a8+0x109+0x109f),_0x157eca=_0x3be085['properties']['map'](_0x3af6dc=>{if(_0x3af6dc['storage'])switch(_0x3af6dc['type']){case'char':return(_0x5d41cf,_0x567a6f)=>{_0x3af6dc['storage'][_0x567a6f]=_0x5d41cf['getInt8']();};case'uchar':return(_0xa35f64,_0x301e00)=>{_0x3af6dc['storage'][_0x301e00]=_0xa35f64['getUint8']();};case'short':return(_0x585f2f,_0x569646)=>{_0x3af6dc['storage'][_0x569646]=_0x585f2f['getInt16']();};case'ushort':return(_0x4718e2,_0x17719a)=>{_0x3af6dc['storage'][_0x17719a]=_0x4718e2['getUint16']();};case'int':return(_0x34fd12,_0x141ed4)=>{_0x3af6dc['storage'][_0x141ed4]=_0x34fd12['getInt32']();};case'uint':return(_0x5d65f2,_0x365ab5)=>{_0x3af6dc['storage'][_0x365ab5]=_0x5d65f2['getUint32']();};case'float':return(_0x2bbd50,_0xd52e4d)=>{_0x3af6dc['storage'][_0xd52e4d]=_0x2bbd50['getFloat32']();};case'double':return(_0x53d53c,_0x999157)=>{_0x3af6dc['storage'][_0x999157]=_0x53d53c['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x3af6dc['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x5c6c64=>{_0x5c6c64['head']+=_0x3af6dc['byteSize'];};});let _0x38cd93=-0x23db*-0x1+0x165e*0x1+-0x37*0x10f;for(;_0x38cd93<_0x3be085['count'];){for(;_0xa7cf84['remaining']<_0x20623b;)await _0xa7cf84['read']();const _0x40fe2b=Math['min'](_0x3be085['count']-_0x38cd93,Math['floor'](_0xa7cf84['remaining']/_0x20623b));for(let _0x309172=0x25f*-0xf+0x206b*-0x1+0x10ff*0x4;_0x309172<_0x40fe2b;++_0x309172){for(let _0x58b708=-0x1a74+0xfce+0xaa6;_0x58b708<_0x3be085['properties']['length'];++_0x58b708)_0x157eca[_0x58b708](_0xa7cf84,_0x38cd93);_0x38cd93++;}}}return new _0x47fd08(_0x54a2bd,_0x4a2665);},_0x3f2d01=async(_0x2dfb74,_0x5c822d=null)=>{const _0x237c2a=(_0x28d9f9,_0x3206d0)=>{const _0x5c3dda=_0x28d9f9['length']-_0x3206d0['length'];let _0x3038f3,_0x47512a;for(_0x3038f3=-0x1*0x846+-0x1*-0xb3f+-0x2f9;_0x3038f3<=_0x5c3dda;++_0x3038f3){for(_0x47512a=0x6c3+-0x6f6+0x33;_0x47512a<_0x3206d0['length']&&_0x28d9f9[_0x3038f3+_0x47512a]===_0x3206d0[_0x47512a];++_0x47512a);if(_0x47512a===_0x3206d0['length'])return _0x3038f3;}return-(-0x1e87*0x1+0x1953*-0x1+-0x37db*-0x1);},_0x278431=(_0x1827d3,_0x12a364)=>{if(_0x1827d3['length']<_0x12a364['length'])return!(-0x2687+0x8bf*0x2+0x150a);for(let _0x93b92d=0x25ca+-0x8*0x4b5+-0x22;_0x93b92d<_0x12a364['length'];++_0x93b92d)if(_0x1827d3[_0x93b92d]!==_0x12a364[_0x93b92d])return!(-0x23bf+0x1*-0x1c59+0x4019);return!(-0x4*-0x5a6+0x2443*0x1+-0x3adb);},_0xcd19e3=new _0x18d4d7(_0x2dfb74,_0x5c822d);let _0xbf95e9;for(;;){if(await _0xcd19e3['read'](),_0xcd19e3['tail']>=_0x210440['length']&&!_0x278431(_0xcd19e3['data'],_0x210440))throw new Error('Invalid\x20pl'+'y\x20header');if(_0xbf95e9=_0x237c2a(_0xcd19e3['data'],_0x106965),_0xbf95e9!==-(-0x1cf3+0x724+0x8*0x2ba))break;}const _0x54c21e=new TextDecoder('ascii')['decode'](_0xcd19e3['data']['subarray'](-0x783+-0x3*0x99a+0x2451,_0xbf95e9))['split']('\x0a'),{elements:_0x530adf,format:_0x146a29,comments:_0x301ce5}=_0x48c3f1(_0x54c21e);if(_0x146a29!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0xcd19e3['head']=_0xbf95e9+_0x106965['length'],_0xcd19e3['compact'](),await((async()=>_0x20083a(_0x530adf)?await _0x364028(_0xcd19e3,_0x530adf,_0x301ce5):(_0x530adf['forEach'](_0x5bae6a=>{_0x5bae6a['properties']['forEach'](_0x207071=>{const _0x5dd027=_0x361927['get'](_0x207071['type']);if(_0x5dd027){const _0x46959d=new _0x5dd027(_0x5bae6a['count']);_0x207071['storage']=_0x46959d;}});}),_0x3cda71(_0x530adf)?await _0xac5ac9(_0xcd19e3,_0x530adf,_0x301ce5):await _0x5de80c(_0xcd19e3,_0x530adf,_0x301ce5)))());},_0x5b6dc8=_0x3fb4f2=>{const {numSplats:_0x48ed73,chunkData:_0x482c01,chunkSize:_0x41711a,vertexData:_0x4cdcf0,shData0:_0x3ecdb8,shData1:_0x2b1d9a,shData2:_0x59571a,shBands:_0x22f10f,comments:_0x5ca540,is4D:_0x3a8330}=_0x3fb4f2,_0x6215b3=['x','y','z','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','f_dc_0','f_dc_1','f_dc_2','opacity'];if(_0x3a8330&&_0x6215b3['push']('t','t_scale','motion_0','motion_1','motion_2'),_0x22f10f>0x716+0x461+-0xb77){const _0x307d2f=[];for(let _0xcd6cc0=0x19*-0xf7+0x42b+-0x1*-0x13f4;_0xcd6cc0<0x958+-0x1549+-0x205*-0x6;++_0xcd6cc0)_0x307d2f['push']('f_rest_'+_0xcd6cc0);_0x6215b3['splice'](_0x6215b3['indexOf']('f_dc_0')+(0x3*-0xb45+-0x1b2+0x2382),-0x188f+0x1*-0xd3d+0x25cc,..._0x307d2f);}const _0x234a91={};_0x6215b3['forEach'](_0x1dd4bb=>{_0x234a91[_0x1dd4bb]=new Float32Array(_0x48ed73);});const _0x2f88d2=new _0x46ebdd(),_0x1d5f66=new _0x1d8f1e(),_0x1bbb04=new _0x46ebdd(),_0x197c85=new _0x3be830(),_0x49f2e=new _0x46ebdd(),_0x4f6fc6=new _0x46ebdd(),_0xe5cd6e=_0x22f10f>-0x2361+-0x5db*-0x1+0x2*0xec3?new Float32Array(-0x1*0x1f41+0x17*0x129+0x4bf):null,_0x13b8b6=new _0xef87d1(_0x482c01,_0x41711a,_0x4cdcf0,_0x3ecdb8,_0x2b1d9a,_0x59571a,_0x22f10f,_0x2f88d2,_0x1d5f66,_0x1bbb04,_0x197c85,_0x49f2e,_0x4f6fc6,_0xe5cd6e);for(let _0x495b30=0x1d7d+0x2b*-0x95+-0x476;_0x495b30<_0x48ed73;++_0x495b30){_0x13b8b6['read'](_0x495b30),_0x234a91['x'][_0x495b30]=_0x2f88d2['x'],_0x234a91['y'][_0x495b30]=_0x2f88d2['y'],_0x234a91['z'][_0x495b30]=_0x2f88d2['z'],_0x234a91['rot_1'][_0x495b30]=_0x1d5f66['x'],_0x234a91['rot_2'][_0x495b30]=_0x1d5f66['y'],_0x234a91['rot_3'][_0x495b30]=_0x1d5f66['z'],_0x234a91['rot_0'][_0x495b30]=_0x1d5f66['w'],_0x234a91['scale_0'][_0x495b30]=_0x1bbb04['x'],_0x234a91['scale_1'][_0x495b30]=_0x1bbb04['y'],_0x234a91['scale_2'][_0x495b30]=_0x1bbb04['z'],_0x234a91['motion_0'][_0x495b30]=_0x49f2e['x'],_0x234a91['motion_1'][_0x495b30]=_0x49f2e['y'],_0x234a91['motion_2'][_0x495b30]=_0x49f2e['z'],_0x234a91['t_scale'][_0x495b30]=_0x4f6fc6['x'],_0x234a91['t'][_0x495b30]=_0x4f6fc6['y'],_0x234a91['f_dc_0'][_0x495b30]=(_0x197c85['x']-(-0x2245+-0x3*-0x94f+0x658+0.5))/_0x41a026,_0x234a91['f_dc_1'][_0x495b30]=(_0x197c85['y']-(0x576+0xb98+0x4a*-0x3b+0.5))/_0x41a026,_0x234a91['f_dc_2'][_0x495b30]=(_0x197c85['z']-(-0xe9c+-0x88*0x26+0x22cc+0.5))/_0x41a026;const _0x19cb0d=_0x197c85['w']<=0x1cf8+0x90a+-0x2602?-(0x14a7+-0x1c9f*0x1+0x820):_0x197c85['w']>=-0x1dcf+-0xfd7*-0x1+-0x7*-0x1ff?0x21de+-0x89f*-0x2+-0x32f4:-Math['log']((0x2706*0x1+0x1*0xdf9+-0x34fe)/_0x197c85['w']-(-0x1*0x22d3+-0x2126+0x43fa));if(_0x234a91['opacity'][_0x495b30]=(0xa6c+0x32b*-0x9+0x608*0x3)/(0x2c8*-0x1+-0x2dd*0x1+-0x2d3*-0x2+Math['exp'](-_0x19cb0d)),_0xe5cd6e){for(let _0x19c009=0x2684+-0x1332+-0x1352;_0x19c009<-0x1468+0x1782+0x6b*-0x7;++_0x19c009)_0x234a91['f_rest_'+_0x19c009][_0x495b30]=_0xe5cd6e[_0x19c009];}}const _0x18008a=[{'count':_0x48ed73,'name':'vertex','properties':_0x6215b3['map'](_0x4d5a1a=>({'byteSize':0x4,'name':_0x4d5a1a,'type':'float','storage':_0x234a91[_0x4d5a1a]}))}];return new _0x47fd08(_0x18008a,_0x5ca540);};}class ok extends me{constructor(_0x2c0a5e){super(),h(this,'worker'),h(this,'loadUrlLis'+'t'),(this['loadUrlLis'+'t']=_0x2c0a5e,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+nk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','loadUrlList':this['loadUrlLis'+'t']});}['loadPly'](_0x2230ff,_0x4cbb15,_0x3db73a=(_0x526e1f,_0x193dd2)=>{},_0x30459f=(_0x514a8b,_0x3aeb60,_0x50bf5b)=>{},_0x2a1d51=(_0x8e61ae,_0x36a578)=>{}){var _0x259374;return(_0x259374=this['worker'])==null||_0x259374['postMessag'+'e']({'type':'loadPly','url':_0x2230ff,'decompress':_0x4cbb15}),new Promise((_0x14aab7,_0x4878c4)=>{if(!this['worker']){_0x4878c4(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x34699d=>{if(!this['worker'])return;const {data:_0x305644}=_0x34699d;if(_0x2230ff===_0x305644['url'])switch(_0x305644['type']){case'totalLengt'+'h':_0x3db73a==null||_0x3db73a(_0x305644['totalLengt'+'h'],_0x305644['url']);break;case'progress':_0x30459f==null||_0x30459f(_0x305644['bytes'],_0x305644['totalLengt'+'h'],_0x305644['url']);break;case'splatData':_0x14aab7(_0x305644['data']);break;case'error':_0x2a1d51==null||_0x2a1d51(_0x305644['data'],_0x305644['url']);break;}};});}['destroy'](){this['loadUrl']='',this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(-0x1373+0x9e6+0x98d));}}class lk{constructor(_0x40a31d,_0x44e1ab){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'readWorker'),(console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','Register\x20P'+'lyParser.c'+'onstructor'),this['app']=_0x40a31d,this['maxRetries']=_0x44e1ab,this['urlList']=[],this['gsplatReso'+'urce']=null,this['readWorker']=null,this['totalRecei'+'ved']=-0x2437+-0x1*-0x1723+0x68a*0x2);}async['load'](_0x3cc998,_0x38e0d4,_0x449151){var _0x28c4c2,_0x39ffcd,_0xadeebd;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','PlyParser.'+'load'),this['urlList']=[],_0x3cc998['load']['includes'](',')?this['urlList']=_0x3cc998['load']['split'](','):this['urlList']['push'](_0x3cc998['load']);const _0x557be6=_0x449151['data']['createTime']!==((_0x39ffcd=(_0x28c4c2=this['onlyOneAss'+'et'])==null?void(0x916+0x53*-0x3b+0xa0b):_0x28c4c2['data'])==null?void(0xc89+-0x20fe+0x1475):_0x39ffcd['createTime']);(!this['readWorker']||_0x557be6)&&((_0xadeebd=this['readWorker'])==null||_0xadeebd['destroy'](),this['readWorker']=new ok(this['urlList']));const _0x585387=_0x449151['data']['loadIndex']>=-0x1*-0xb47+0xffd+-0x1b44?_0x449151['data']['loadIndex']:0x1819+0x1a71*0x1+-0x328a,_0x5872b6=_0x449151['data']['loadMode']==='all'?this['urlList']['length']-_0x585387:_0x585387+(0x4ae+0x20ff+-0x25ac*0x1),_0x1c4f15=_0x449151['data']['timeOption'],_0x263dd3=_0x449151['data']['events'];for(let _0x288c1a=_0x585387;_0x288c1a<_0x5872b6;_0x288c1a++)await this['loadGsplat'+'Data'](this['urlList'],_0x38e0d4,_0x449151,_0x288c1a,_0x1c4f15,_0x263dd3,_0x5872b6);_0x263dd3['fire']('loadAllAss'+'etsDone');}async['loadGsplat'+'Data'](_0x11101a,_0x29094a,_0x3245c5,_0x190d20,_0x1a0e51,_0x45de5a,_0x3b120b){var _0x8d6069,_0x10e4c1,_0x5144ee;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','loadGsplat'+'Data',_0x11101a[_0x190d20]['trim'](),_0x190d20);const _0x37b62c=_0x1a0e51[(0x2f9*0x9+0x9d5*-0x3+0x2c*0x10)*_0x190d20]+_0x1a0e51[(0x1*-0x2096+-0x1fa5+0x73*0x8f)*_0x190d20+(0xf43*-0x1+-0x1e5d+-0x2da1*-0x1)],_0x339667=_0x11101a[_0x190d20]['trim']();globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('loadTime','=========='+'=========='+'=========='+'=========='+'=========='+'====='),console['log']('loadTime','start\x20load'+'\x20ply\x20data',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(-0x4*-0x231+0x2439+-0x1975))['toFixed'](-0xac5+0x1f6a+-0x14a3));try{const _0x2f85b4=await((_0x8d6069=this['readWorker'])==null?void(0xac2+0x20e7+0x1*-0x2ba9):_0x8d6069['loadPly'](_0x339667,_0x3245c5['data']['decompress'],()=>{this['totalRecei'+'ved']=0x2089+0x1616+-0x1235*0x3;},(_0x5dd5aa,_0x18c36f)=>{this['totalRecei'+'ved']+=_0x5dd5aa,_0x3245c5&&_0x45de5a['fire']('progress',_0x18c36f*_0x190d20/_0x3b120b+this['totalRecei'+'ved']/_0x3b120b,_0x18c36f);},(_0x826909,_0x410641)=>{debugger;console['warn']('ERROE\x20Load'+'\x20Ply',_0x410641,_0x826909);}));let _0x2202c8;console['log']('loadTime','load\x20ply\x20d'+'ata\x20done',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(0x56a+-0x1*-0x1213+-0x3f5))['toFixed'](0x714+-0x79a*0x1+0x88*0x1)),_0x2f85b4['isCompress'+'ed']?(_0x2202c8=new ak(),_0x2202c8['comments']=_0x2f85b4['comments'],_0x2202c8['numSplats']=_0x2f85b4['numSplats'],_0x2202c8['is4D']=_0x2f85b4['is4D'],_0x2202c8['chunkData']=_0x2f85b4['chunkData'],_0x2202c8['vertexData']=_0x2f85b4['vertexData'],_0x2202c8['shData0']=_0x2f85b4['shData0'],_0x2202c8['shData1']=_0x2f85b4['shData1'],_0x2202c8['shData2']=_0x2f85b4['shData2'],_0x2202c8['shBands']=_0x2f85b4['shBands']):_0x2202c8=new qn(_0x2f85b4['elements'],_0x2f85b4['comments']),_0x3245c5['fire']('load:data',_0x2202c8),_0x2202c8['isCompress'+'ed']||_0x3245c5['data']['reorder'];const _0x1fc24d=_0x3245c5['data']['createTime']!==((_0x5144ee=(_0x10e4c1=this['onlyOneAss'+'et'])==null?void(0xa*-0x10+-0x1dc*-0x6+-0xa88):_0x10e4c1['data'])==null?void(-0x17ca+0x1*-0xc3d+0x2407*0x1):_0x5144ee['createTime']);this['gsplatReso'+'urce']&&!_0x1fc24d?this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x2202c8['isCompress'+'ed']?await _0x2202c8['decompress']():_0x2202c8,_0x1a0e51,_0x37b62c,_0x3245c5,_0x45de5a):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new EC(this['app']['graphicsDe'+'vice'],_0x2202c8['isCompress'+'ed']?await _0x2202c8['decompress']():_0x2202c8),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x1a0e51,this['onlyOneAss'+'et']=_0x3245c5),_0x29094a(null,this['gsplatReso'+'urce']);}catch(_0x172b50){_0x29094a(_0x172b50,null);}}['open'](_0x18f0ea,_0x395adb){return _0x395adb;}}async function ck(){const _0xe92cda='super4d-ca'+'che-v1',_0x3b3d8d={'maxAge':0x202fbf000,'maxSize':0x280000000},_0x5de180=0x1*0xcbf+-0x975+0x1a5*-0x2+0.28209479177387814;class _0x663cb6{constructor(_0x53bf65={}){this['options']={..._0x3b3d8d,..._0x53bf65},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=-0x4cd*-0x2+0x1*-0x2291+0x1*0x18f7,this['initialize'+'d']=!(0x13f8+-0x16b7*0x1+-0x58*-0x8);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0xe92cda);const _0x59d401=await this['cache']['keys'](),_0x16c045=[];for(const _0x5a4fdc of _0x59d401){const _0x4e4fc4=_0x5a4fdc['url'],_0x30acf1=await this['cache']['match'](_0x4e4fc4);if(_0x30acf1){const _0x4aac98=(await _0x30acf1['blob']())['size'],_0x4be917=_0x30acf1['headers']['get']('x-cache-ti'+'me');_0x4be917&&_0x16c045['push']({'url':_0x4e4fc4,'size':_0x4aac98,'cacheTime':parseInt(_0x4be917)});}}_0x16c045['sort']((_0x3a3d83,_0x30a71c)=>_0x3a3d83['cacheTime']-_0x30a71c['cacheTime']);for(const _0x1edfc7 of _0x16c045)this['cacheSizes']['set'](_0x1edfc7['url'],_0x1edfc7['size']),this['currentSiz'+'e']+=_0x1edfc7['size'],this['lruList']['push'](_0x1edfc7['url']);}catch(_0x5555fa){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x5555fa);}this['initialize'+'d']=!(0x1*0x134a+-0x26c5*-0x1+-0x3a0f);}}async['get'](_0x5b41ad){if(await this['init'](),!this['cache'])return null;try{const _0x4558d2=await this['cache']['match'](_0x5b41ad);if(!_0x4558d2)return null;const _0x118869=_0x4558d2['headers']['get']('x-cache-ti'+'me');return _0x118869&&Date['now']()-parseInt(_0x118869)>this['options']['maxAge']?(await this['delete'](_0x5b41ad),null):(this['updateLRU'](_0x5b41ad),_0x4558d2);}catch{return null;}}async['set'](_0x3e3350,_0x3af8a7){if(!(!this['cache']||_0x3e3350['startsWith']('blob:')))try{const _0x51f844=_0x3af8a7['clone'](),_0xe36e5d=await _0x51f844['blob'](),_0x35fd12=_0xe36e5d['size'];this['currentSiz'+'e']+_0x35fd12>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x35fd12);const _0x4d87dc=new Headers(_0x51f844['headers']);_0x4d87dc['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x47dffb=new Response(_0xe36e5d,{'status':_0x51f844['status'],'statusText':_0x51f844['statusText'],'headers':_0x4d87dc});await this['cache']['put'](_0x3e3350,_0x47dffb),this['cacheSizes']['set'](_0x3e3350,_0x35fd12),this['currentSiz'+'e']+=_0x35fd12,this['updateLRU'](_0x3e3350);}catch(_0xbae9ea){console['error']('Cache\x20set\x20'+'error:',_0xbae9ea);}}['updateLRU'](_0x4e2dee){const _0x571c11=this['lruList']['indexOf'](_0x4e2dee);_0x571c11>-(0x1401+-0x26d1+0x12d1*0x1)&&this['lruList']['splice'](_0x571c11,0xab3+0x181d+-0x1d5*0x13),this['lruList']['push'](_0x4e2dee);}async['cleanupSpa'+'ce'](_0x364981){const _0x3610ed=this['options']['maxSize']*(0xa21*0x3+-0x1*0x7a5+0xb5f*-0x2+0.9);if(!(this['currentSiz'+'e']<=_0x3610ed))for(;this['lruList']['length']>0x4f*0x1a+0x1c2c+0x29*-0xe2&&this['currentSiz'+'e']>_0x3610ed;){const _0x2158d4=this['lruList']['shift']();_0x2158d4&&await this['delete'](_0x2158d4);}}async['delete'](_0x349f62){if(this['cache'])try{await this['cache']['delete'](_0x349f62);const _0x24511d=this['cacheSizes']['get'](_0x349f62)||-0x948+0xa*0x322+-0x160c;this['currentSiz'+'e']-=_0x24511d,this['cacheSizes']['delete'](_0x349f62);const _0x12a443=this['lruList']['indexOf'](_0x349f62);_0x12a443>-(0x3d1*0x2+-0x18cd*-0x1+-0x1037*0x2)&&this['lruList']['splice'](_0x12a443,-0x8c8+0x23fc+-0xd3*0x21);}catch(_0x3f58f8){console['error']('Cache\x20dele'+'te\x20error:',_0x3f58f8);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x5d47bc=>Promise['all'](_0x5d47bc['map'](_0x15f6f2=>{var _0x1abe1a;return(_0x1abe1a=this['cache'])==null?void(-0x4a9*-0x1+0x841+-0x39*0x3a):_0x1abe1a['delete'](_0x15f6f2);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x1*0x22d4+0x1f1+-0x1*-0x20e3;}catch(_0x32c531){console['error']('Cache\x20clea'+'r\x20error:',_0x32c531);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x86b+0x49*0x1c+0x25*0x3;}}class _0x10c98e{constructor(_0x64650f=[],_0x3d3fb4={}){this['cacheManag'+'er']=new _0x663cb6(_0x3d3fb4['cache']),this['retryCount']=_0x3d3fb4['retryCount']||-0x1048+-0x1014+0x205f,this['retryDelay']=_0x3d3fb4['retryDelay']||0xf56+-0x211d+0x13bb,this['maxConcurr'+'ency']=_0x3d3fb4['maxConcurr'+'ency']||-0x131b+-0x256a+-0x12d9*-0x3,this['downloadQu'+'eue']=_0x64650f,this['isProcessi'+'ngDownload'+'Queue']=!(-0x25d6+0x116*-0xd+0x33f5),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0xa4b+0x3*-0x873+0x1*0x23a4);this['downloadQu'+'eue']['length']>-0x1*-0x263d+-0x1*-0x1ac4+-0x4101;)try{const _0x179684=this['downloadQu'+'eue']['splice'](-0x187+0x90a+-0x783,this['maxConcurr'+'ency'])['map'](_0x526b9d=>{if(!this['pendingRes'+'ponses']['has'](_0x526b9d)){const _0x3fc09b=this['download'](_0x526b9d);return this['pendingRes'+'ponses']['set'](_0x526b9d,_0x3fc09b),_0x3fc09b['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x526b9d);});}return Promise['resolve']();});await Promise['all'](_0x179684);}catch(_0x13a095){console['error']('Download\x20e'+'rror:',_0x13a095);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(0xb*0x1be+0x1fca*0x1+-0x32f3);}}}async['fetch'](_0x3e5c96,_0x1a22aa={}){if(this['pendingRes'+'ponses']['has'](_0x3e5c96))return this['pendingRes'+'ponses']['get'](_0x3e5c96);const {forceRefresh:_0x1f0bf0=!(-0x41d+-0x1105*0x2+-0x4*-0x98a),..._0x2cf5e7}=_0x1a22aa;this['pendingRes'+'ponses']['set'](_0x3e5c96,this['download'](_0x3e5c96,_0x2cf5e7));const _0x149992=await this['pendingRes'+'ponses']['get'](_0x3e5c96);return this['pendingRes'+'ponses']['delete'](_0x3e5c96),_0x149992;}async['download'](_0x1ed313,_0x4f2c21={}){var _0x265008;await((_0x265008=this['cacheManag'+'er'])==null?void(0x1382+0x2*0x491+0x27*-0xbc):_0x265008['init']());const {forceRefresh:_0x466ed3=!(0x9e6+0x15e6*0x1+0x3*-0xa99),..._0x2e49a9}=_0x4f2c21;_0x466ed3&&await this['cacheManag'+'er']['delete'](_0x1ed313);const _0x126661=await this['cacheManag'+'er']['get'](_0x1ed313);if(_0x126661)return _0x126661;let _0x136700;for(let _0x219398=0x110a+-0x1ad4+0x9ca;_0x219398<this['retryCount'];_0x219398++)try{const _0x1afcd5=await fetch(_0x1ed313,_0x2e49a9);if(!_0x1afcd5['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x1afcd5['status']);return await this['cacheManag'+'er']['set'](_0x1ed313,_0x1afcd5),_0x1afcd5;}catch(_0x519412){console['error']('Download\x20e'+'rror:',_0x519412),_0x136700=_0x519412,_0x219398<this['retryCount']-(-0x7*-0xf+-0x1e15+0x1dad)&&await new Promise(_0xe29300=>setTimeout(_0xe29300,this['retryDelay']*(_0x219398+(-0x1ad2*0x1+-0x1704+-0x109d*-0x3))));}throw _0x136700;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){var _0x442de1;(_0x442de1=this['cacheManag'+'er'])==null||_0x442de1['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0x4d*-0x3b+-0x2462+-0x1*-0x3622),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x5642db{constructor(_0x14c610,_0xcdfdc4=[]){this['elements']=_0x14c610,this['comments']=_0xcdfdc4,this['isCompress'+'ed']=!(0x1*0xb87+-0x539*0x2+-0x114);}}class _0x4f32c1{constructor(_0x44d572){this['url']=_0x44d572;}async['readFragme'+'nt'](){globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x10c98e(globalThis['downloadQu'+'eueUrlList']));const _0x97d4c3=await globalThis['fetchWorke'+'r']['fetch'](this['url']);if(!_0x97d4c3['ok'])throw new Error('Failed\x20to\x20'+'fetch\x20'+this['url']+':\x20'+_0x97d4c3['statusText']);const _0x34d443=await _0x97d4c3['arrayBuffe'+'r'](),_0x440c5=new Uint8Array(_0x34d443);let _0x268381=-0x622+0x8b1+0x28f*-0x1,{size:_0x339e6b,type:_0x2ac875}=this['_readBoxHe'+'ader'](_0x440c5,_0x268381);if(_0x2ac875!=='moof')throw new Error('Not\x20a\x20moof');_0x268381+=-0x491+0x377*0x1+0x122;const _0xc9ebf8=_0x268381+_0x339e6b-(0x94f*-0x1+0x13f8+0xaa1*-0x1);let _0x5a3f1c=null;for(;_0x268381<_0xc9ebf8;){const {size:_0x5bbe07,type:_0x5c4341}=this['_readBoxHe'+'ader'](_0x440c5,_0x268381);_0x268381+=0x1d3*-0x5+0xf*-0x70+0xfb7;const _0xfd958b=_0x440c5['slice'](_0x268381,_0x268381+_0x5bbe07-(0x17b7+-0x20a*0x1+0x3*-0x737));_0x268381+=_0x5bbe07-(-0x14b3*-0x1+0x1a80+0xa1*-0x4b),_0x5c4341==='emsg'&&(_0x5a3f1c=this['_parseEmsg'](_0xfd958b));}if(!_0x5a3f1c)throw new Error('Incomplete'+'\x20moof');const {size:_0x227059,type:_0x5732c6}=this['_readBoxHe'+'ader'](_0x440c5,_0x268381);if(_0x5732c6!=='mdat')throw new Error('Expected\x20m'+'dat\x20box\x20af'+'ter\x20moof');_0x268381+=0x2*0x35c+0x267d+-0x1*0x2d2d;const _0x5cbea0=_0x440c5['slice'](_0x268381,_0x268381+(_0x227059-(-0x2*0x100f+-0x440+-0xc22*-0x3)));return{'metadata':_0x5a3f1c,'segmentData':_0x5cbea0};}['_readBoxHe'+'ader'](_0x57c681,_0x20a6df){if(_0x20a6df+(0x3e6+0x2367+-0x3*0xd17)>_0x57c681['length'])throw new Error('EOF');const _0x8e1b6e=_0x57c681[_0x20a6df]<<0x2e2*0x1+0x225f+0x97*-0x3f|_0x57c681[_0x20a6df+(0x12e5+-0x25b6+-0x16*-0xdb)]<<-0x4*-0x5d4+0xc87*-0x2+0x1ce|_0x57c681[_0x20a6df+(0x865+-0x16e4+-0x1*-0xe81)]<<-0x145*0x3+0x143*-0x1+0x2*0x28d|_0x57c681[_0x20a6df+(0x1b8a+-0x1935+-0x252)],_0x20137f=String['fromCharCo'+'de'](_0x57c681[_0x20a6df+(0x1d7d*0x1+-0x12ab+-0xace)],_0x57c681[_0x20a6df+(0xcd*0x3+-0xeb8+0xc56)],_0x57c681[_0x20a6df+(0x24e7+-0x2531+-0x10*-0x5)],_0x57c681[_0x20a6df+(-0x52*0x76+0x1424+0x11af)]);return{'size':_0x8e1b6e,'type':_0x20137f};}['_parseEmsg'](_0x64bd72){let _0x274395=0x3*0x75b+-0x24ac+-0xe9b*-0x1;_0x274395=_0x64bd72['indexOf'](-0x17f6+-0x2706+0x3a*0x116,_0x274395)+(-0x67b+-0x5*-0x43f+-0x2f3*0x5),_0x274395=_0x64bd72['indexOf'](0x23f3+0xe3*0x9+-0x2bee,_0x274395)+(0x96e+-0x12a5+-0x76*-0x14),_0x274395+=0x1b*-0x3f+0x65*-0x55+0x283e;const _0x5ac027=_0x64bd72['slice'](_0x274395);return globalThis['CBOR']['decode'](_0x5ac027);}}class _0x49c836{constructor(_0xc2340b=0x1b11+0x1f*0x8+-0x1c09,_0x53dd66=-0x4*0x7db+-0x7f4+0x2760,_0x3e8147=-0x2c*-0x79+-0xb*0x2df+0xac9,_0x51c8c6=-0x1313*0x1+0x17af+-0x49b){this['x']=_0xc2340b,this['y']=_0x53dd66,this['z']=_0x3e8147,this['w']=_0x51c8c6;}['set'](_0xe2c591,_0x1dd97d,_0x1c82b4,_0x101ddd){return this['x']=_0xe2c591,this['y']=_0x1dd97d,this['z']=_0x1c82b4,this['w']=_0x101ddd,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x38565c=this){let _0x106198=_0x38565c['length']();return _0x106198===0x7a3+0x19ab*0x1+-0x214e?(this['x']=this['y']=this['z']=0xd67+0x20a*0x8+-0x1db7,this['w']=-0x827*-0x4+0x2b*-0x47+-0x14ae):(_0x106198=(-0x76*-0x1+0x212a+-0x219f)/_0x106198,this['x']=_0x38565c['x']*_0x106198,this['y']=_0x38565c['y']*_0x106198,this['z']=_0x38565c['z']*_0x106198,this['w']=_0x38565c['w']*_0x106198),this;}['mulScalar'](_0xaa5768,_0x53e5b3=this){return this['x']=_0x53e5b3['x']*_0xaa5768,this['y']=_0x53e5b3['y']*_0xaa5768,this['z']=_0x53e5b3['z']*_0xaa5768,this['w']=_0x53e5b3['w']*_0xaa5768,this;}}self['onmessage']=async _0x4e7cb5=>{var _0x38b9a3,_0x36c005;const {data:_0x262965}=_0x4e7cb5;switch(_0x262965['type']){case'initWorker':importScripts(_0x262965['cborXUrl']);break;case'destroyWor'+'ker':_0x2bdc13();break;case'loadGsdMan'+'ifest':const {manifestUrl:_0x1002d6,loadRepresentation:_0x242627}=_0x262965,_0x2c9a9f=await _0x415c41(_0x1002d6,_0x242627);globalThis['manifestUr'+'l']=_0x1002d6,globalThis['manifest']=_0x2c9a9f,globalThis['resentatio'+'n']=_0x2c9a9f['representa'+'tion'],globalThis['downloadQu'+'eueUrlList']=_0x16e114(),globalThis['fetchWorke'+'r']=new _0x10c98e(globalThis['downloadQu'+'eueUrlList']),self['postMessag'+'e']({'type':'onloadMani'+'fest','data':_0x2c9a9f,'url':_0x1002d6,'representation':_0x242627});break;case'loadGsdSeg'+'ments':try{const _0x51fe18=_0x30c2dc(globalThis['manifest'],globalThis['resentatio'+'n']),_0x478b88=await _0x9385a8(globalThis['manifest'],_0x51fe18),_0x408914=(_0x38b9a3=_0x478b88==null?void(-0x1*-0xc91+0x48f+-0x1120):_0x478b88['elements'][0x1*-0x1d37+0x93e+0x13f9])==null?void(0x648+-0x1cee+0x16a6):_0x38b9a3['properties']['map'](_0x538479=>_0x538479['storage']['buffer']);self['postMessag'+'e']({'type':'loadGsdSeg'+'mentsDone','data':_0x478b88,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x408914);}catch(_0x36ede4){console['error']('Error\x20load'+'ing\x20GSD:',_0x36ede4),self['postMessag'+'e']({'type':'error','data':_0x36ede4['message'],'url':globalThis['manifestUr'+'l']});}break;case'loadTimeli'+'neIndexSeg'+'ments':const {timelineIndexs:_0x41c53b}=_0x262965;try{const _0x3f97a5=_0x30c2dc(globalThis['manifest'],globalThis['resentatio'+'n']),_0x58c7cc=await _0x5043cd(globalThis['manifest'],_0x3f97a5,_0x41c53b),_0x334b15=(_0x36c005=_0x58c7cc==null?void(0x1d78+0xf*0x17f+-0x33e9):_0x58c7cc['elements'][-0x1f*0x120+-0xdb0+0x3090])==null?void(-0x56*-0x2b+-0x1*-0x1603+-0x2475):_0x36c005['properties']['map'](_0x3edee2=>_0x3edee2['storage']['buffer']);self['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'mentsDone','data':_0x58c7cc,'timelineIndexs':_0x41c53b,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x334b15);}catch(_0x5126f3){console['error']('Error\x20load'+'ing\x20GSD:',_0x5126f3),self['postMessag'+'e']({'type':'error','data':_0x5126f3['message'],'url':globalThis['manifestUr'+'l']});}break;}};const _0x2bdc13=()=>{var _0x120c47;globalThis['manifestUr'+'l']=null,globalThis['manifest']=null,globalThis['resentatio'+'n']=null,(_0x120c47=globalThis['fetchWorke'+'r'])==null||_0x120c47['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['downloadQu'+'eueUrlList']=[],globalThis['loadedSegm'+'ents']=[],globalThis['currentLoa'+'dSg']=null;},_0x16e114=()=>{const _0x5d8088=new Set(),_0x150c85=_0x30c2dc(globalThis['manifest'],globalThis['resentatio'+'n']),_0x4c836a=globalThis['manifest']['baseUrl'],_0x346435=_0x150c85['segmentTem'+'plate'][-0x1*-0x1e9d+-0x1*0xb29+-0x1374];for(const _0x587cba of _0x346435['segmentTim'+'eline'])for(const _0x2637f7 of _0x587cba['nl']){const _0x3109ec=''+_0x4c836a+_0x346435['media']['replace']('$SegGroupI'+'ndex$',String(_0x587cba['sg']))['replace']('$NodeIndex'+'$',String(_0x2637f7));_0x5d8088['add'](_0x3109ec);}return Array['from'](_0x5d8088);},_0x415c41=async(_0x50a720,_0x5c0f30)=>{const _0x164f53=await(await fetch(_0x50a720))['text'](),_0x545136=JSON['parse'](_0x164f53);_0x545136['baseUrl']=_0x50a720['replace'](/\/[^\/]*$/,'/');const {schemas:_0x10a29a,gsiUrl:_0x351513,repId:_0x18ffc7}=await _0x572f1e(_0x545136,_0x5c0f30);return _0x545136['schemas']=_0x10a29a,_0x545136['gsiUrl']=_0x351513,_0x545136['representa'+'tion']=_0x18ffc7,_0x545136;},_0x572f1e=async(_0x4075f1,_0x12c04a)=>{let _0x1cd08b=null,_0x54bfb1=null;for(const _0x592f22 of _0x4075f1['adaptation'+'Sets'])if(_0x592f22['contentTyp'+'e']==='4dgs'){_0x54bfb1=_0x592f22;for(const _0x5d3193 of _0x592f22['representa'+'tions'])if(_0x5d3193['id']===_0x12c04a){_0x1cd08b=_0x5d3193;break;}break;}_0x1cd08b||(_0x1cd08b=_0x54bfb1['representa'+'tions'][0x1*0xd2b+-0x4d2+0x1*-0x859],console['warn']('Representa'+'tion\x20\x27'+_0x12c04a+('\x27\x20not\x20foun'+'d,\x20use\x20the'+'\x20first\x20rep'+'resentatio'+'n\x20instead')));const _0x44dcc6=_0x1cd08b['id'],_0xa2f53e=_0x4075f1['baseUrl']+_0x44dcc6+('/init.gsi.'+'json'),_0x4cb340=await(await fetch(_0xa2f53e))['text'](),_0x504866=JSON['parse'](_0x4cb340),_0x1da456={};return _0x1da456[_0x44dcc6]=_0x504866,{'schemas':_0x1da456,'gsiUrl':_0xa2f53e,'repId':_0x44dcc6};},_0x30c2dc=(_0x154b14,_0x30a621='high-quant'+'ized')=>{let _0x35ba02=null;for(const _0x2e07e8 of _0x154b14['adaptation'+'Sets'])if(_0x2e07e8['contentTyp'+'e']==='4dgs'){for(const _0x2d1795 of _0x2e07e8['representa'+'tions'])if(_0x2d1795['id']===_0x30a621){_0x35ba02=_0x2d1795;break;}break;}if(!_0x35ba02)throw new Error('Representa'+'tion\x20\x27'+_0x30a621+('\x27\x20not\x20foun'+'d'));return _0x35ba02;},_0x9385a8=async(_0x44aa01,_0x476e83)=>{const _0x2d8fba=_0x476e83['id'],_0x497695=_0x44aa01['schemas'][_0x2d8fba]['attributes'],_0x1c8a17=_0x476e83['segmentTem'+'plate'][-0x7*0x512+0x608*-0x3+0x13*0x2d2];globalThis['loadedSegm'+'ents']=[];const _0x356d94=[],_0x31b35a=[];for(const _0xc3f69d of _0x1c8a17['segmentTim'+'eline'])for(const _0x3cd18e of _0xc3f69d['nl']){if(globalThis['loadedSegm'+'ents']['includes'](_0xc3f69d['sg']+'_'+_0x3cd18e))continue;globalThis['loadedSegm'+'ents']['push'](_0xc3f69d['sg']+'_'+_0x3cd18e);const _0x1cd8b6=await _0x1faf17(_0x44aa01,_0x476e83,_0x497695,_0xc3f69d['sg'],_0x3cd18e);_0x31b35a['push'](_0x1cd8b6['decoded']),_0x356d94['push'](_0x1cd8b6['metadata']);}return _0x20de17(_0x31b35a,_0x497695,_0x44aa01['comments']);},_0x5043cd=async(_0x4dd677,_0xf15703,_0x3e5818)=>{if(!_0x3e5818||_0x3e5818['length']===-0x9f3+0x1c3a+-0x1247)return{'decoded':[],'metadata':[]};const _0x1ac2e8=_0xf15703['id'],_0x369be2=_0x4dd677['schemas'][_0x1ac2e8]['attributes'],_0x21ddc1=_0xf15703['segmentTem'+'plate'][0x9d*-0x35+-0x1a6d+0x3aee];globalThis['loadedSegm'+'ents']||(globalThis['loadedSegm'+'ents']=[]);const _0x48b6e8=_0x21ddc1['segmentTim'+'eline'][_0x3e5818[-0x1c*0xa7+-0x10*-0x117+0x35*0x4]];globalThis['currentLoa'+'dSg']!==_0x48b6e8['sg']&&(globalThis['loadedSegm'+'ents']=globalThis['loadedSegm'+'ents']['filter'](_0xd8581d=>!_0xd8581d['startsWith'](globalThis['currentLoa'+'dSg'])),globalThis['currentLoa'+'dSg']=_0x48b6e8['sg']);let _0xf9f059;const _0x1ca39b=[];for(const _0x4a480d of _0x3e5818){_0xf9f059=_0x21ddc1['segmentTim'+'eline'][_0x4a480d];for(const _0x234320 of _0xf9f059['nl'])globalThis['loadedSegm'+'ents']['includes'](_0xf9f059['sg']+'_'+_0x234320)||(globalThis['loadedSegm'+'ents']['push'](_0xf9f059['sg']+'_'+_0x234320),_0x1ca39b['push'](_0x234320));}const _0x58eb7=await _0x1faf17(_0x4dd677,_0xf15703,_0x369be2,_0xf9f059['sg'],_0x1ca39b);_0x58eb7['metadata'];const _0x4bbaab=_0x58eb7['decoded'];return _0x20de17(_0x4bbaab,_0x369be2,_0x4dd677['comments']);},_0x1faf17=async(_0x558d22,_0x4fe2b3,_0x456289,_0x1ab81c,_0xf77e70)=>{const _0x32a1fc=_0x558d22['baseUrl'],_0x2f04c4=_0x4fe2b3['segmentTem'+'plate'][-0x1*-0x1d29+0x1dc7+-0x3af0]['media'],_0x2c2ab9=_0xf77e70['map'](_0x54e1ae=>''+_0x32a1fc+_0x2f04c4['replace']('$SegGroupI'+'ndex$',String(_0x1ab81c))['replace']('$NodeIndex'+'$',String(_0x54e1ae))),_0x561322=await Promise['all'](_0x2c2ab9['map'](async _0x38a3bc=>{const _0x21401c=await _0x57041a(_0x38a3bc),_0x48ac74=_0x21401c['metadata'],_0x4afbbf=_0x21401c['segmentDat'+'a'],_0x17ac76=_0x48ac74['gaussianCo'+'unt'];console['log']('loadSegmen'+'t\x20'+_0x38a3bc),console['log']('loadSegmen'+'t\x20timeStar'+'t:',_0x48ac74['timeStart'],'segment\x20ti'+'meEnd:',_0x48ac74['timeEnd'],'segment\x20ga'+'ussianCoun'+'t:',_0x17ac76);let _0xb5c33a;if(_0x4fe2b3['id']['includes']('quantized')){const _0x178597=_0x48ac74['chunk_boun'+'ds'];_0xb5c33a=_0x427607(_0x4afbbf,_0x17ac76,_0x456289,_0x1ab81c,_0x178597);}else _0xb5c33a=_0x59a90e(_0x4afbbf,_0x17ac76,_0x456289,_0x1ab81c);return{'decoded':_0xb5c33a,'metadata':_0x48ac74};})),_0x33a8fa=_0x561322['map'](_0x198ef1=>_0x198ef1['decoded']),_0x22fd07=_0x561322['map'](_0xae870f=>_0xae870f['metadata']);return{'decoded':_0x33a8fa,'metadata':_0x22fd07};},_0x20de17=(_0x68d9fd,_0x1303fa,_0x47e0a5)=>{if(_0x68d9fd['length']===-0x26a6+-0x1b6f+0x4215)return new _0x5642db([{'name':'vertex','count':0x0,'properties':[{'name':'position','type':'float','storage':new Float32Array(0xe72+0xef*-0x16+-0x4*-0x186),'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':new Uint16Array(-0x1*0x1ac8+-0x10aa+0x2b72),'byteSize':0x2},{'name':'t','type':'float','storage':new Float32Array(-0x1a0d+0x1*0x7d6+0x1237),'byteSize':0x4},{'name':'t_scale','type':'float','storage':new Float32Array(0x9f6+0x1c8c+0x3*-0xcd6),'byteSize':0x4},{'name':'cutoff','type':'float','storage':new Float32Array(0x229*-0x7+-0x2c*0x1+0x57*0x2d),'byteSize':0x4},{'name':'motion','type':'float','storage':new Float32Array(0x5*0x6e2+-0x631*-0x5+-0x415f),'byteSize':0x4},{'name':'rotation','type':'float','storage':new Float32Array(0x2*-0x1385+0x2*0x1357+0x5c),'byteSize':0x4},{'name':'scale','type':'uint16','storage':new Uint16Array(0x1edd*-0x1+0x5e7*0x3+0x4*0x34a),'byteSize':0x2},{'name':'time_index','type':'float','storage':new Float32Array(0x74*-0x1+0x5d3+-0x55f),'byteSize':0x4}]}],_0x47e0a5);const _0x1ec0be=_0x543741(_0x68d9fd),[_0x505fa5,_0x42176a,_0x5977c0]=_0x359946(_0x1ec0be['lifecycle'],0x1662+-0x156a+0x23*-0x7,Float32Array),_0x5d0295=_0x1ec0be['time_index'],_0x13d98e=_0x1303fa['find'](_0xa6bc9c=>_0xa6bc9c['name']==='feature_re'+'st'),_0x533ef6=[];if(_0x13d98e&&_0x1ec0be['feature_re'+'st']){const _0x5c73ab=_0x13d98e['dataType']['split'](',')[0x1d*0x154+0x10f*0x23+0x3*-0x1930]['trim']()['replace']('>',''),_0x5dbfed=_0x359946(_0x1ec0be['feature_re'+'st'],0x1d9d+0x3b9+-0x13*0x1c1,Float32Array);for(const _0x7eacf5 of _0x5dbfed){const _0x222972=_0x359946(_0x7eacf5,_0x5c73ab/(-0x1ef3+0x1*-0x1067+0x2f5d),Float32Array);for(let _0x4ae23d=0x11a7+-0x17a0+0x5f9;_0x4ae23d<_0x222972['length'];_0x4ae23d++)_0x533ef6['push']({'name':'f_rest_'+_0x4ae23d,'type':'float','storage':_0x222972[_0x4ae23d],'byteSize':0x4});}}return new _0x5642db([{'name':'vertex','count':_0x1ec0be['position']['length']/(-0xb0d+-0x92*-0x32+0x1*-0x1174),'properties':[{'name':'position','type':'float','storage':_0x1ec0be['position'],'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':_0x1ec0be['color_opac'+'ity'],'byteSize':0x2},{'name':'t','type':'float','storage':_0x42176a,'byteSize':0x4},{'name':'t_scale','type':'float','storage':_0x505fa5,'byteSize':0x4},{'name':'cutoff','type':'float','storage':_0x5977c0,'byteSize':0x4},{'name':'motion','type':'float','storage':_0x1ec0be['motion'],'byteSize':0x4},{'name':'rotation','type':'float','storage':_0x1ec0be['rotation'],'byteSize':0x4},{'name':'scale','type':'uint16','storage':_0x1ec0be['scale'],'byteSize':0x2},{'name':'time_index','type':'float','storage':_0x5d0295,'byteSize':0x4},..._0x533ef6]}],_0x47e0a5);},_0x359946=(_0x303a89,_0x62bc25,_0x4d6255)=>{const _0x18662a=new Array(_0x62bc25),_0x483d97=Math['floor'](_0x303a89['length']/_0x62bc25),_0x4af67a=_0x303a89['length']%_0x62bc25;for(let _0x7b7a4d=-0x1*0x15f7+0x17fc+-0x205;_0x7b7a4d<_0x62bc25;_0x7b7a4d++){const _0x28932a=_0x7b7a4d<_0x4af67a?_0x483d97+(-0x245f+0x19f4+0xa6c):_0x483d97;_0x18662a[_0x7b7a4d]=new _0x4d6255(_0x28932a);}for(let _0x459a0d=0x1bbe+-0x2089+-0x4cb*-0x1;_0x459a0d<_0x303a89['length'];_0x459a0d++){const _0x454b0a=_0x459a0d%_0x62bc25,_0x2914f7=Math['floor'](_0x459a0d/_0x62bc25);_0x18662a[_0x454b0a][_0x2914f7]=_0x303a89[_0x459a0d];}return _0x18662a;},_0x57041a=async _0xb67915=>{const _0x406afc=new _0x4f32c1(_0xb67915),{metadata:_0x45ec7d,segmentData:_0x32951e}=await _0x406afc['readFragme'+'nt']();return{'metadata':_0x45ec7d,'segmentData':_0x32951e};},_0x2aa96f=(_0x441287,_0xda7258)=>{let _0x5902e8,_0x38d06b,_0x228101=-(-0x63*-0x3+-0x14*-0x66+-0x920);if(_0x441287['encoding']){const _0x427297=_0x441287['encoding']['storageTyp'+'e'];if(_0x427297==='uint32')_0x38d06b=Uint32Array,_0x5902e8=Uint32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x427297['startsWith']('array<ucha'+'r')){_0x38d06b=Uint8Array;const _0x3254c3=_0x427297['split'](',')[-0x55*-0x57+0x17f*-0x11+0x373*-0x1]['trim']()['replace']('>','');_0x228101=parseInt(_0x3254c3),_0x5902e8=_0x228101*Uint8Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20storage\x20'+'type:\x20'+_0x427297);}}else{if(_0x38d06b=Float32Array,_0x441287['dataType']==='vec3f')_0x5902e8=(0x30e+0x1ea5+-0x21b0)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x441287['dataType']==='vec4f')_0x5902e8=(-0x53*0x6d+-0x204e+0x43a9*0x1)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x441287['dataType']==='vec2f')_0x5902e8=(0x1de5+0x43*-0x5+-0xe4a*0x2)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x441287['dataType']['startsWith']('array<floa'+'t')){const _0x22eeff=_0x441287['dataType']['split'](',')[-0x7ee+-0x1e29+-0x4*-0x986]['trim']()['replace']('>','');_0x228101=parseInt(_0x22eeff),_0x5902e8=_0x228101*Float32Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x441287['dataType']);}}}}return{'dataSize':_0xda7258*_0x5902e8,'datatype':_0x38d06b,'arraySize':_0x228101};},_0x1bef71=(_0x55b6e8,_0x3c6b66)=>{const _0x4746cf=(0x21f*0x11+0xbe2+-0x1a*0x1d8<<_0x3c6b66)-(-0xaa1+-0x1ff9+0x2a9b);return(_0x55b6e8&_0x4746cf)/_0x4746cf;},_0x533025=_0x8f51dd=>{const _0x5e3572=new Float32Array(_0x8f51dd['length']*(-0x1*-0x1709+0xa7*0x1+0x13f*-0x13));for(let _0x4dc005=0x1*-0x24af+0x141+-0x11b7*-0x2;_0x4dc005<_0x8f51dd['length'];_0x4dc005++)_0x5e3572[_0x4dc005*(-0x143*0xd+0x1a8c+-0x1*0xa22)]=_0x1bef71(_0x8f51dd[_0x4dc005]>>>-0xeab+0xe9c+0x12*0x2,-0x4cb*-0x3+0x2472+-0x208*0x19),_0x5e3572[_0x4dc005*(-0x17be+0x239+0x1588)+(-0x21d7+-0x2341*-0x1+-0x169)]=_0x1bef71(_0x8f51dd[_0x4dc005]>>>-0x14fd+-0xc17+0x211f,-0xa5*0x39+0xe4f*0x1+-0x2cf*-0x8),_0x5e3572[_0x4dc005*(-0x2489*-0x1+0xb95+-0x3*0x1009)+(-0x6*-0x3cb+0x9ba+0x1*-0x207a)]=_0x1bef71(_0x8f51dd[_0x4dc005],-0x76b+0x17f*-0x1+0x8f5);return _0x5e3572;},_0xa6736=_0x5d6c21=>{const _0x3ef4da=new Float32Array(_0x5d6c21['length']*(-0x272+0xc41+0x9cb*-0x1));for(let _0x209eb6=0x1acb+0x85*0xd+-0x218c;_0x209eb6<_0x5d6c21['length'];_0x209eb6++)_0x3ef4da[_0x209eb6*(0x2c2*0x9+-0x436+-0x1498)]=_0x1bef71(_0x5d6c21[_0x209eb6]>>>-0x966+-0x6e4+0x576*0x3,0x936+-0x1*0xbf9+0x37*0xd),_0x3ef4da[_0x209eb6*(-0x544+0x111e+0x1*-0xbd6)+(-0xc1*0xd+-0x732+0x1100)]=_0x1bef71(_0x5d6c21[_0x209eb6]>>>-0x616*0x6+-0x2*-0x731+0x1632,0x4f2*0x3+0x1e7*-0x2+-0xb00),_0x3ef4da[_0x209eb6*(0x1*-0x1c2d+0x59f+0x1692)+(-0x18e9+0x114*0x18+0x31*-0x5)]=_0x1bef71(_0x5d6c21[_0x209eb6]>>>-0x1740+-0x1*-0x2263+0xb1b*-0x1,-0x15a8+0xbc2+0x9ee),_0x3ef4da[_0x209eb6*(-0x1*0xaf3+0x38f*0x2+0x3d9)+(0x4*-0xb5+-0x336*0xc+0x7*0x5e9)]=_0x1bef71(_0x5d6c21[_0x209eb6],-0xd0a*-0x1+0xcb*-0x1c+0x6b*0x16);return _0x3ef4da;},_0x244bc3=_0x4c4bfb=>{const _0x3655f6=new Float32Array(_0x4c4bfb['length']*(-0x934+0xd*0x1e9+-0x1*0xf9e)),_0x452ab8=(-0xf65+-0x257*0x7+0x65b*0x5)/(Math['sqrt'](-0x10*-0x6d+0xa17+-0x10e5)*(-0xb34*0x2+0x4*-0xf8+0x1a48+0.5));for(let _0x39f2f8=-0xd*0x25+-0x7cc+0x9ad;_0x39f2f8<_0x4c4bfb['length'];_0x39f2f8++){const _0x3260fc=(_0x1bef71(_0x4c4bfb[_0x39f2f8]>>>-0x21f0+0xe71*-0x1+0x3075,-0xefb+0x83e+0x5*0x15b)-(-0x933*0x3+-0x783+0x231c+0.5))*_0x452ab8,_0x4b2a87=(_0x1bef71(_0x4c4bfb[_0x39f2f8]>>>-0x1*0x1bab+0x1bc4+-0x3*0x5,-0x2*0x9a+0x1f14+-0x1dd6)-(-0x123*0x1b+0x1*-0x1274+0x3125+0.5))*_0x452ab8,_0x236502=(_0x1bef71(_0x4c4bfb[_0x39f2f8],-0x1559+-0x22*0xf2+0x3587)-(0x26ec+-0x9ef+-0x1cfd+0.5))*_0x452ab8,_0x14d604=Math['sqrt'](-0x8a*0x39+0xad9+0x1fd*0xa-(_0x3260fc*_0x3260fc+_0x4b2a87*_0x4b2a87+_0x236502*_0x236502));let _0x229c7e=-0x1cf1+0x14c3+0x82e,_0xf0f62c=0x18ea+-0x3fa*-0x9+-0x206*0x1e,_0x3546cd=0x1b84+0x20c2+0x2*-0x1e23,_0x1bb920=-0x1b71+0x63b+0x2*0xa9b;switch(_0x4c4bfb[_0x39f2f8]>>>0x4c*0x2a+0xf2e*0x2+0xb*-0x3e2){case 0x115c+0x20f7+0x1*-0x3253:_0x229c7e=_0x14d604,_0xf0f62c=_0x3260fc,_0x3546cd=_0x4b2a87,_0x1bb920=_0x236502;break;case 0x14e+0x3*0x1df+-0x6ea:_0x229c7e=_0x14d604,_0xf0f62c=_0x4b2a87,_0x3546cd=_0x236502,_0x1bb920=_0x3260fc;break;case-0xb1c+0x761+0x3bd:_0x229c7e=_0x4b2a87,_0xf0f62c=_0x14d604,_0x3546cd=_0x236502,_0x1bb920=_0x3260fc;break;case-0x8ae+0x189*0x2+0x59f*0x1:_0x229c7e=_0x4b2a87,_0xf0f62c=_0x236502,_0x3546cd=_0x14d604,_0x1bb920=_0x3260fc;break;}const _0x21fd7a=_0x216f40(_0x229c7e,_0xf0f62c,_0x3546cd,_0x1bb920);_0x3655f6[_0x39f2f8*(-0x1f42+-0x29*0x10+0x21d5)]=_0x21fd7a['x'],_0x3655f6[_0x39f2f8*(0x30*-0x9b+0x1*-0x1d8b+0x3a9e)+(0x3*0x39f+0xbed+0x1*-0x16c9)]=_0x21fd7a['y'],_0x3655f6[_0x39f2f8*(0xb99+0x93e*0x4+-0x308e)+(0x8*0x47a+-0x535+-0x1e99)]=_0x21fd7a['z'];}return _0x3655f6;},_0x10f375=(_0x735dd3,_0x59fb24,_0x264588)=>{const _0x54061b=_0x264588-_0x59fb24,_0x1123ca=new Float32Array(_0x735dd3['length']);for(let _0x24e595=0xc5+0x16ac+0x161*-0x11;_0x24e595<_0x735dd3['length'];_0x24e595++)_0x1123ca[_0x24e595]=_0x735dd3[_0x24e595]/(0x1230+-0x19c2+0x891)*_0x54061b+_0x59fb24;return _0x1123ca;},_0x1f5575=new Float32Array(-0x1*-0xc41+-0x713*0x1+-0x52d),_0x5ad3e6=new Int32Array(_0x1f5575['buffer']),_0x2c357e=_0x56898a=>{_0x1f5575[0x1177*0x1+-0x1*0x259a+0x407*0x5]=_0x56898a;const _0x20f5ea=_0x5ad3e6[0x1a4+-0x25cf*-0x1+-0x2773];let _0x305226=_0x20f5ea>>-0x2*0x112f+0x7*-0x2e1+-0x9d*-0x59&0xe941+0x6371*0x2+-0x13023,_0x3ca430=_0x20f5ea>>-0x21f5+0x2605+0x202*-0x2&-0x5*-0x21d+-0x2*0x17b+0x64;const _0x3d80d4=_0x20f5ea>>0xaf4+0x187+-0xc64&0x171c+0xef*-0x1f+0x6d4;return _0x3d80d4<0x116*0xd+-0x5*0x7c6+0x1927?_0x305226:_0x3d80d4>-0x83*0x19+0xa81*-0x3+0x77a*0x6?(_0x305226|=0x67f*0x4+-0x748a+0xd68e*0x1,_0x305226|=(_0x3d80d4===0x2125+0x2*0xb14+-0x364e?0x1dc0+0x1af0+-0x38b0:-0x2*0x1342+0xbad+0x2*0xd6c)&&_0x20f5ea&-0x5041fc+0x7c8527+0x53bcd4,_0x305226):_0x3d80d4<0x122a+0x1566*-0x1+0x3ad?(_0x3ca430|=-0xac7*-0x1+-0x2555+0x2*0x1147,_0x305226|=(_0x3ca430>>0x9df*-0x1+0x17*0xce+-0x831-_0x3d80d4)+(_0x3ca430>>-0x15eb+-0x139a+0x106*0x29-_0x3d80d4&-0x3b*-0x5e+-0x190e+0x365),_0x305226):(_0x305226|=_0x3d80d4-(-0x1*-0x227f+-0x29*-0x5a+-0x3079)<<-0x97*0x7+-0x1fb0+0x23db|_0x3ca430>>-0x1*0x222a+-0x12a*-0x9+0x17b1,_0x305226+=_0x3ca430&0x8*0x124+-0x2*0xaad+0xc3b,_0x305226);},_0x2b4ef5=_0x4318c1=>{const _0x43d12c=new Uint16Array(_0x4318c1['length']);for(let _0x1c10b8=0x4*0x842+0x417*-0x5+0x1*-0xc95;_0x1c10b8<_0x4318c1['length']/(-0x36a*0x5+-0xc20*0x2+0x2956);++_0x1c10b8)_0x43d12c[_0x1c10b8*(-0x1*0x1c03+-0x1*-0x20ba+0x3*-0x191)]=_0x2c357e(_0x4318c1[_0x1c10b8*(0x1f*0x63+0x1c0f+0x7*-0x5b8)]*_0x5de180+(0x11*-0x1cf+-0x6*0x342+0x67*0x7d+0.5)),_0x43d12c[_0x1c10b8*(-0x1c13+-0x1bc5+0x37dc)+(0x626+-0xa7b+-0xb9*-0x6)]=_0x2c357e(_0x4318c1[_0x1c10b8*(-0x1*0x1a14+0x10bb+0x95d)+(0x3*-0x5ab+0x1*0x33e+0xdc4)]*_0x5de180+(-0x1*-0xb3d+-0x110e+0x5d1+0.5)),_0x43d12c[_0x1c10b8*(-0x1c12+0xe*0xb6+0x1222)+(-0x1dc2+0x133e+-0xa86*-0x1)]=_0x2c357e(_0x4318c1[_0x1c10b8*(-0x19e*-0xb+-0x1160+-0x66)+(0xd72+0x231c+-0x308c*0x1)]*_0x5de180+(0x21a*-0x4+-0x1d96+0x25fe+0.5)),_0x43d12c[_0x1c10b8*(-0x7fb*0x1+0x26ba+-0x1*0x1ebb)+(-0x1d73+0x2*-0x9e4+0x313e)]=_0x2c357e(_0x4318c1[_0x1c10b8*(-0x3*0x261+-0x22*0x6d+0x15a1)+(0x191b*-0x1+-0x256f+0x3e8d)]);return _0x43d12c;},_0x1360fa=new _0x49c836(0x12f1+0xe*0x26e+-0x34f5,0x444+-0x2*-0xcf1+-0x1e26,0x15b6+-0x1c2+-0x13f4,0x3d4+0x16be+-0xd49*0x2),_0x216f40=(_0x41226f,_0x3902af,_0x26d8bd,_0x4667c1)=>(_0x1360fa['set'](_0x3902af,_0x26d8bd,_0x4667c1,_0x41226f),_0x1360fa['normalize'](),_0x1360fa['w']<0x6*-0x4af+0x261f+-0x357*0x3&&_0x1360fa['mulScalar'](-(-0x5*-0x557+-0x25fe+0xb4c)),_0x1360fa);function _0x427607(_0x927e92,_0x210da6,_0x1dd273,_0xf60171,_0x2bab37){const _0x4ee8cc=_0x2bab37[Object['keys'](_0x2bab37)[-0x45e+-0x2cf*0x7+0x1807]]['length'],_0x1b34a2=0x124d*0x2+-0x17a7+-0xbf3;let _0x2a8a3e=[],_0xa94be7=_0x210da6;for(let _0x22c9b5=-0x4a9+-0x1*0x1307+0x17b0;_0x22c9b5<_0x4ee8cc;_0x22c9b5++){const _0x4bc75e=Math['min'](_0x1b34a2,_0xa94be7);_0x2a8a3e['push'](_0x4bc75e),_0xa94be7-=_0x4bc75e;}let _0x297c87=0x1*-0x1cca+-0x2d8+0x1fa2,_0x16357c={};for(let _0x584de4 of _0x1dd273){const _0x14b59d=_0x584de4['name'],{dataSize:_0xd9011e,datatype:_0x35de89}=_0x2aa96f(_0x584de4,_0x210da6);let _0x43edaa=_0x927e92['buffer']['slice'](_0x297c87,_0x297c87+_0xd9011e),_0x566743=new _0x35de89(_0x43edaa);_0x16357c[_0x14b59d]=_0x566743,_0x297c87+=_0xd9011e;}let _0x1c7345=[],_0xb49423=0x1525+0x80*-0x2f+0x9*0x43;for(let _0x1c4824=-0x228c+-0xa39+0x2cc5;_0x1c4824<_0x4ee8cc;_0x1c4824++){const _0x1828af=_0x33b6f2(_0x16357c,_0x2bab37,_0x1c4824,_0x2a8a3e,_0xb49423,_0x1dd273),_0x4ec722=_0x1828af['chunkDecom'+'pressed'];_0x1c7345['push'](_0x4ec722),_0xb49423=_0x1828af['chunkStart'+'Idx'];}let _0x151219={};for(let _0x3beaaa of Object['keys'](_0x1c7345[-0x13*-0x69+-0x136f+0xba4])){let _0x14ecf0=0x1ae9+0x1*-0x89e+-0x124b;for(let _0xca68ae=-0xe9*0x1+-0x2534+0x261d;_0xca68ae<_0x1c7345['length'];_0xca68ae++)_0x14ecf0+=_0x1c7345[_0xca68ae][_0x3beaaa]['length'];_0x3beaaa==='color_opac'+'ity'||_0x3beaaa==='scale'?_0x151219[_0x3beaaa]=new Uint16Array(_0x14ecf0):_0x151219[_0x3beaaa]=new Float32Array(_0x14ecf0);let _0x47a2c2=0x2412+0x1884+-0x6*0xa19;for(let _0xd4d6a=-0x345+0x1*-0x523+0x868;_0xd4d6a<_0x1c7345['length'];_0xd4d6a++)_0x151219[_0x3beaaa]['set'](_0x1c7345[_0xd4d6a][_0x3beaaa],_0x47a2c2),_0x47a2c2+=_0x1c7345[_0xd4d6a][_0x3beaaa]['length'];}return _0x1dd273['some'](_0x13c77f=>_0x13c77f['name']==='feature_re'+'st')&&(_0x151219['feature_re'+'st']=_0x4fda57(_0x16357c,_0x1dd273)),_0x151219['time_index']=new Float32Array(_0x210da6),_0x151219['time_index']['fill'](_0xf60171-(0x119b*0x2+-0x1*-0x1334+-0x3669)),_0x151219;}const _0x33b6f2=(_0x40449e,_0x17c50f,_0x50c7d,_0x3a02db,_0x2c3912,_0x15f55c)=>{const _0x52eae3=_0x3a02db[_0x50c7d],_0x27fdb7=_0x2c3912+_0x52eae3,_0x386404=(_0xf0cb67,_0x35f5bf,_0x137966)=>_0xf0cb67*(-0x5*-0xc1+-0x2ea+-0xda-_0x137966)+_0x35f5bf*_0x137966;let _0x3bcd43={};for(let _0xe1abfe of _0x15f55c){const _0xa469=_0xe1abfe['name'],_0x49ae8c=_0xe1abfe['encoding']['codec'],_0x518c6a=_0x40449e[_0xa469]['slice'](_0x2c3912,_0x27fdb7);if(_0x49ae8c==='pack_11_10'+'_11'){if(_0xa469==='scale'){const _0x33c7c2=_0x17c50f['min_scales'][_0x50c7d],_0x195a68=_0x17c50f['max_scales'][_0x50c7d],_0x26335d=_0x533025(_0x518c6a),_0x335ce9=_0x26335d['length'],_0x553cf7=new Uint16Array(_0x335ce9);for(let _0xe68919=0xafc+-0x1*0x77b+-0x17*0x27;_0xe68919<_0x335ce9;_0xe68919++)_0x553cf7[_0xe68919]=_0x2c357e(Math['exp'](_0x386404(_0x33c7c2[_0xe68919%(-0xb64+0x15c6+-0xa5f)],_0x195a68[_0xe68919%(-0x2*-0x251+0x2162+-0x2601)],_0x26335d[_0xe68919])));_0x3bcd43[_0xa469]=_0x553cf7;}else{const _0x22f3d2=_0x533025(_0x518c6a);let _0x236861,_0x2828c0;if(_0xa469==='position')_0x236861=_0x17c50f['min_means'][_0x50c7d],_0x2828c0=_0x17c50f['max_means'][_0x50c7d];else{if(_0xa469==='motion')_0x236861=_0x17c50f['min_motion'][_0x50c7d],_0x2828c0=_0x17c50f['max_motion'][_0x50c7d];else{if(_0xa469==='lifecycle'){const _0x5f3d76=_0x17c50f['min_t_scal'+'e'][_0x50c7d],_0x341921=_0x17c50f['max_t_scal'+'e'][_0x50c7d],_0x612db7=_0x17c50f['min_time'][_0x50c7d],_0x277572=_0x17c50f['max_time'][_0x50c7d],_0x145164=_0x17c50f['min_cutoff'][_0x50c7d],_0x1a5775=_0x17c50f['max_cutoff'][_0x50c7d];_0x236861=[_0x5f3d76[0x161c+-0x19d1*0x1+-0x1*-0x3b5],_0x612db7[0x159b+-0x1a2e+0x493],_0x145164[0x34a*-0x3+0x1371+-0x1*0x993]],_0x2828c0=[_0x341921[0x279*-0x2+-0x841*0x1+0x1f*0x6d],_0x277572[0xaa*-0x3a+-0xaef+0x3173],_0x1a5775[0x22a1+0x1d75+-0xd*0x4ee]];}else throw new Error('Unknown\x20at'+'tribute\x20fo'+'r\x20pack_11_'+'10_11:\x20'+_0xa469);}}for(let _0x39ee99=0x18eb+0x37*0xe+-0x1bed;_0x39ee99<_0x22f3d2['length'];_0x39ee99++)_0x22f3d2[_0x39ee99]=_0x386404(_0x236861[_0x39ee99%(-0x1d0*0x11+0x214d+-0x27a*0x1)],_0x2828c0[_0x39ee99%(0x1*0xeeb+0x4*0x1e7+-0xb*0x20c)],_0x22f3d2[_0x39ee99]);_0x3bcd43[_0xa469]=_0x22f3d2;}}else{if(_0x49ae8c==='pack_8888'){let _0x49b8ce=_0xa6736(_0x518c6a);const _0x537b97=_0x17c50f['min_colors'][_0x50c7d],_0x5b1837=_0x17c50f['max_colors'][_0x50c7d],_0x467f8c=new Uint16Array(_0x49b8ce['length']);for(let _0x532c35=-0x2199+0xa9f*-0x2+0x36d7;_0x532c35<_0x49b8ce['length'];_0x532c35++){const _0x538d98=_0x532c35*(-0x1*0x254+-0xd*-0x101+-0x1*0xab5);_0x467f8c[_0x538d98]=_0x2c357e(_0x386404(_0x537b97[-0xc03*0x2+0xbc9+0x1*0xc3d],_0x5b1837[0x2*0xf1a+0x41f+-0x2253],_0x49b8ce[_0x538d98])),_0x467f8c[_0x538d98+(0x47*0x4f+-0x1*-0x1c3d+-0x3225)]=_0x2c357e(_0x386404(_0x537b97[-0x246b+-0x38c+0x27f8],_0x5b1837[-0x2*0x94f+0x1516+-0x1*0x277],_0x49b8ce[_0x538d98+(-0x1*-0x2cb+0x234+-0x9*0x8e)])),_0x467f8c[_0x538d98+(0x5*-0x218+-0xfa1+0x1a1b)]=_0x2c357e(_0x386404(_0x537b97[-0x1163+0x21ee*0x1+-0x1089],_0x5b1837[-0x1*-0x13d5+-0x6d*0x51+0x2*0x755],_0x49b8ce[_0x538d98+(-0x1466+-0x1b7e+-0x2*-0x17f3)])),_0x467f8c[_0x538d98+(0x1181*-0x2+0x890+0x1a75)]=_0x2c357e(_0x49b8ce[_0x538d98+(0x1*-0x1b69+-0x3*0x211+0x219f)]);}_0x3bcd43[_0xa469]=_0x467f8c;}else{if(_0x49ae8c==='pack_rotat'+'ion_32'){const _0x4e96c6=_0x244bc3(_0x518c6a);_0x3bcd43[_0xa469]=_0x4e96c6;}else{if(_0x49ae8c==='range_quan'+'t_u8'){if(_0xa469==='feature_re'+'st')continue;throw new Error('Unknown\x20co'+'dec:\x20'+_0x49ae8c);}}}}}return{'chunkDecompressed':_0x3bcd43,'chunkStartIdx':_0x27fdb7};},_0x4fda57=(_0x5f1eee,_0x5e4b21)=>{const _0x16d158='feature_re'+'st',_0x3e5d74=_0x5e4b21['find'](_0x149c95=>_0x149c95['name']===_0x16d158);let _0x34bc80;const _0x43fa44=_0x3e5d74['encoding']['codec'],_0x15d35b=_0x5f1eee[_0x16d158];if(_0x43fa44==='range_quan'+'t_u8'){const [_0x110e59,_0x19f5ea]=_0x3e5d74['encoding']['range'];_0x34bc80=_0x10f375(_0x15d35b,_0x110e59,_0x19f5ea);}else throw new Error('Unknown\x20co'+'dec:\x20'+_0x43fa44);return _0x34bc80;},_0x59a90e=(_0x408474,_0x50fb94,_0x439e7c,_0xce6584)=>{let _0x2d9b0a=0x11*0x16e+-0x40a*0x6+-0x12;const _0x3f9b95={};for(const _0x1cc0bb of _0x439e7c){const {dataSize:_0x58699c}=_0x2aa96f(_0x1cc0bb,_0x50fb94);if(['vec3f','vec4f','vec2f']['includes'](_0x1cc0bb['dataType']))_0x3f9b95[_0x1cc0bb['name']]=new Float32Array(_0x408474['buffer']['slice'](_0x2d9b0a,_0x2d9b0a+_0x58699c));else{if(_0x1cc0bb['dataType']['startsWith']('array<floa'+'t'))_0x3f9b95[_0x1cc0bb['name']]=new Float32Array(_0x408474['buffer']['slice'](_0x2d9b0a,_0x2d9b0a+_0x58699c));else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x1cc0bb['dataType']);}_0x2d9b0a+=_0x58699c;}const _0x457e9b=new Uint16Array(_0x3f9b95['scale']['length']);for(let _0x35dc35=0xaae*0x1+0x8*-0x5f+-0x7b6;_0x35dc35<_0x3f9b95['scale']['length'];_0x35dc35++)_0x457e9b[_0x35dc35]=_0x2c357e(Math['exp'](_0x3f9b95['scale'][_0x35dc35]));_0x3f9b95['scale']=_0x457e9b;const _0x5ddd8a=_0x3f9b95['rotation']['length']/(-0x149d*-0x1+-0x966+-0xb33),_0x92a7e8=new Float32Array(_0x5ddd8a*(-0x36e+0x3*0x49e+0x1*-0xa69));for(let _0x336368=0xfd9*0x2+-0x1a98+-0x51a;_0x336368<_0x5ddd8a;_0x336368++){const _0x25d089=_0x216f40(_0x3f9b95['rotation'][_0x336368*(0x2269+-0x1*0x208f+-0x1d6)],_0x3f9b95['rotation'][_0x336368*(-0x1*0x15e9+0x89*0x5+0x1340)+(0x448+-0x1*0x5e3+-0xce*-0x2)],_0x3f9b95['rotation'][_0x336368*(0x2a*0x33+-0x1*0x20ed+-0x1*-0x1893)+(-0xef3*0x1+-0xa*-0x164+0x10d)],_0x3f9b95['rotation'][_0x336368*(0x1fa6*0x1+0xd*-0x163+0x1b*-0x81)+(-0x1*-0x3fd+-0x1*0xde0+0x9e6)]);_0x92a7e8[_0x336368*(-0x3b1+-0x1*0x1178+0x152c)]=_0x25d089['x'],_0x92a7e8[_0x336368*(-0x1db1+-0x5b2+0x2366)+(-0x17ac+-0x2467+0x3c14)]=_0x25d089['y'],_0x92a7e8[_0x336368*(0x2535+0x19fb+-0x3f2d)+(0x38d*-0x2+0x3d*-0x7+0x8c7)]=_0x25d089['z'];}return _0x3f9b95['rotation']=_0x92a7e8,_0x3f9b95['color_opac'+'ity']=_0x2b4ef5(_0x3f9b95['color_opac'+'ity']),_0x3f9b95['time_index']=new Float32Array(_0x50fb94),_0x3f9b95['time_index']['fill'](_0xce6584-(-0x266e+-0x229*-0x1+0x1*0x2446)),_0x3f9b95;},_0x543741=(_0x22c31c,_0x18544f)=>{const _0x21fd64={};if(_0x22c31c['length']===0x22aa+0xa3*-0xd+-0xd31*0x2)return _0x22c31c[-0x1204+-0x2*0x1093+0xb1*0x4a];for(const _0x135e82 of Object['keys'](_0x22c31c[0x2e1+0x1465+0x3*-0x7c2]))if(_0x22c31c[-0x1*-0x41f+-0x580+-0x161*-0x1][_0x135e82]instanceof Float32Array||_0x22c31c[-0x4ef*0x3+-0x5*0x16f+0x128*0x13][_0x135e82]instanceof Uint16Array){const _0x403ebf=_0x22c31c['reduce']((_0x2d77b7,_0x312f9a)=>_0x2d77b7+_0x312f9a[_0x135e82]['length'],-0x1*0x1681+-0xaa2+0x1*0x2123);let _0x916081;_0x22c31c[0x3*-0x3e3+0x21e1+-0x1638][_0x135e82]instanceof Uint16Array?_0x916081=new Uint16Array(_0x403ebf):_0x916081=new Float32Array(_0x403ebf);let _0x4ce74c=0x1cfa+-0x1641+-0x6b9;for(const _0x96719d of _0x22c31c)_0x916081['set'](_0x96719d[_0x135e82],_0x4ce74c),_0x4ce74c+=_0x96719d[_0x135e82]['length'];_0x21fd64[_0x135e82]=_0x916081;}else Array['isArray'](_0x22c31c[-0xcb5*0x1+-0x1fb7+0x2c6c][_0x135e82])?_0x21fd64[_0x135e82]=_0x22c31c['flatMap'](_0x498c98=>Array['from'](_0x498c98[_0x135e82])):_0x21fd64[_0x135e82]=_0x22c31c['map'](_0x4ddc25=>_0x4ddc25[_0x135e82])['flat']();return _0x21fd64;};}class hk extends me{constructor(_0x21b0bc){super(),h(this,'manifestUr'+'l'),h(this,'worker'),(this['manifestUr'+'l']=_0x21b0bc,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+ck['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','cborXUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/cbor-x@1'+'.6.0.min.j'+'s'});}['loadGsdMan'+'ifest'](_0x4764e6){var _0x3ddbad;return(_0x3ddbad=this['worker'])==null||_0x3ddbad['postMessag'+'e']({'type':'loadGsdMan'+'ifest','manifestUrl':this['manifestUr'+'l'],'loadRepresentation':_0x4764e6}),new Promise((_0x229a16,_0x4a3f0a)=>{if(!this['worker']){_0x4a3f0a(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x2dfb4f=>{if(!this['worker'])return;const {data:_0x2bf53c}=_0x2dfb4f;if(this['manifestUr'+'l']===_0x2bf53c['url'])switch(_0x2bf53c['type']){case'onloadMani'+'fest':_0x229a16({'manifest':_0x2bf53c['data'],'url':_0x2bf53c['url'],'representation':_0x2bf53c['representa'+'tion']});break;case'error':_0x4a3f0a(_0x2bf53c['data']);break;}};});}['loadGsdSeg'+'ments'](_0x21a031,_0xd47d95){var _0x39f05d;return(_0x39f05d=this['worker'])==null||_0x39f05d['postMessag'+'e']({'type':'loadGsdSeg'+'ments'}),new Promise((_0x46a3ee,_0x1c5951)=>{if(!this['worker']){_0x1c5951(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x465bf3=>{if(!this['worker'])return;const {data:_0x1809b6}=_0x465bf3;if(this['manifestUr'+'l']===_0x1809b6['url'])switch(_0x1809b6['type']){case'progress':_0x21a031==null||_0x21a031(_0x1809b6['bytes'],_0x1809b6['totalLengt'+'h'],_0x1809b6['url']);break;case'loadGsdSeg'+'mentsDone':_0x46a3ee(_0x1809b6['data']);break;case'error':_0xd47d95==null||_0xd47d95(_0x1809b6['data'],_0x1809b6['url']);break;}};});}['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x52c014,_0x1175e6,_0x46e487){var _0x5d6c84;return(_0x5d6c84=this['worker'])==null||_0x5d6c84['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'ments','timelineIndexs':_0x52c014}),new Promise((_0x278047,_0x12c1a6)=>{if(!this['worker']){_0x12c1a6(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x3faa8c=>{if(!this['worker'])return;const {data:_0x481bac}=_0x3faa8c;if(this['manifestUr'+'l']===_0x481bac['url'])switch(_0x481bac['type']){case'progress':_0x1175e6==null||_0x1175e6(_0x481bac['bytes'],_0x481bac['totalLengt'+'h'],_0x481bac['url']);break;case'loadTimeli'+'neIndexSeg'+'mentsDone':_0x278047(_0x481bac);break;case'error':_0x46e487==null||_0x46e487(_0x481bac['data'],_0x481bac['url']);break;}};});}['destroy'](){this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(-0x12a*0x9+0x758+0x322));}}const Xh=class Xh{constructor(_0x21d1e2,_0x573f9e,_0x12b347){h(this,'lastLoadIn'+'dex',0x962+0x1ab7+-0x2419*0x1),h(this,'gsdAssetPa'+'rser'),(this['manifest']=_0x21d1e2,this['representa'+'tion']=_0x573f9e,this['gsdAssetPa'+'rser']=_0x12b347,this['segmentTim'+'elines']=this['getSegment'+'Timeline'](_0x21d1e2,_0x573f9e));}['getSegment'+'Timeline'](_0xe2fd14,_0x58e46a){let _0x526156=null;for(const _0x297e39 of _0xe2fd14['adaptation'+'Sets'])if(_0x297e39['contentTyp'+'e']==='4dgs'){for(const _0x333d2b of _0x297e39['representa'+'tions'])if(_0x333d2b['id']===_0x58e46a){_0x526156=_0x333d2b;break;}break;}if(!_0x526156)throw new Error('Representa'+'tion\x20\x27'+_0x58e46a+('\x27\x20not\x20foun'+'d'));return _0x526156['segmentTem'+'plate'][-0xf09+-0xc4f+0x1b58]['segmentTim'+'eline'];}['onTimeChan'+'ged'](_0x106d16){const _0x48f5a9=this['findSegmen'+'tTimeline'](_0x106d16);if(!_0x48f5a9)return;const _0x24a213=_0x48f5a9['timelineIn'+'dex']<this['segmentTim'+'elines']['length']-(0x9*-0xf3+-0x1cfe+0x258a)?_0x48f5a9['timelineIn'+'dex']+(-0x3*-0x3a1+-0x356*0x1+0x15*-0x5c):0xec*-0x26+-0x1*0x25a6+-0x15*-0x376;this['lastLoadIn'+'dex']!==_0x24a213&&(this['lastLoadIn'+'dex']=_0x24a213,this['loadNextSe'+'gment'](_0x24a213));}async['loadNextSe'+'gment'](_0x1c54b1){const _0xa3945d=[];for(let _0x4c7214=-0x1382+-0xe13*-0x1+0xd*0x6b;_0x4c7214<Xh['CACHE_COUN'+'T'];_0x4c7214++)_0xa3945d['push']((_0x1c54b1+_0x4c7214)%this['segmentTim'+'elines']['length']);const _0x108a72=_0xa3945d[_0xa3945d['length']-(-0x2*-0x835+0x5b0+-0x1*0x1619)],_0xf89ce6=this['segmentTim'+'elines'][_0x108a72]['t']+this['segmentTim'+'elines'][_0x108a72]['d'];this['gsdAssetPa'+'rser']['appendload'+'DataTask'](_0xa3945d,_0xf89ce6);}['findSegmen'+'tTimeline'](_0x3c3164){let _0x4e3cae=-0x171e+0x1386+0x398,_0x247460=this['segmentTim'+'elines']['length']-(-0x25d8+-0x34*0x53+0x36b5);for(;_0x4e3cae<=_0x247460;){const _0x66a2c8=_0x4e3cae+_0x247460>>-0x2ff*-0x1+0x522+0x41*-0x20,{t:_0x1b7e20,d:_0xdd912a}=this['segmentTim'+'elines'][_0x66a2c8];if(_0x3c3164<_0x1b7e20)_0x247460=_0x66a2c8-(0x1*0x25c+-0x2045+0x1dea);else{if(_0x3c3164>=_0x1b7e20+_0xdd912a)_0x4e3cae=_0x66a2c8+(-0x1af*0x13+0x9*-0x149+0x2b8f);else return{'timeline':this['segmentTim'+'elines'][_0x66a2c8],'timelineIndex':_0x66a2c8};}}return null;}};h(Xh,'CACHE_COUN'+'T',0x17c9+-0x694*0x5+0x921);let Wu=Xh;class dk{constructor(_0x374246,_0x4b8c46){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'manifest'),h(this,'schedule'),h(this,'readWorker'),h(this,'loadDataTa'+'skQueue',[]),h(this,'isProcessi'+'ngLoadTask'+'Queue',!(0x29*0x97+-0x1d3a+0x11*0x4c)),(console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','Register\x20G'+'sdParser.c'+'onstructor'),this['app']=_0x374246,this['maxRetries']=_0x4b8c46,this['urlList']=[],this['gsplatReso'+'urce']=null,this['totalRecei'+'ved']=0x1*0x102b+0x9*-0x227+-0x14*-0x29,this['manifest']={});}async['load'](_0x144bed,_0x10cf4b,_0x369b95){console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','GsdParser.'+'load',_0x144bed['load']);const _0x4efe6c=_0x369b95['data']['events'];this['events']=_0x4efe6c,this['asset']=_0x369b95,this['callback']=_0x10cf4b,this['timeOption']=_0x369b95['data']['timeOption'];let _0x325abe=_0x369b95['data']['representa'+'tion']||'high-raw';this['readWorker']=new hk(_0x144bed['load']);const _0x1d2b33=await this['readWorker']['loadGsdMan'+'ifest'](_0x325abe);this['manifest']=_0x1d2b33['manifest'],_0x325abe=_0x1d2b33['manifest']['representa'+'tion']||_0x325abe,this['schedule']=new Wu(this['manifest'],_0x325abe,this),this['totalRecei'+'vedCount']=-0x1*-0x667+0x1fc+-0x863;const _0xe1e4a3=this['getSegment'+'Timeline'](this['manifest'],_0x325abe),_0x400ea7=_0xe1e4a3[0x36*-0x81+-0x124a+0x2d80]['t']+_0xe1e4a3[0x15b5+0x774+-0x1d29]['d'];this['appendload'+'DataTask']([0xfe9+0x1ab6+0x2a9f*-0x1,0x2237+-0x1aff+-0x737],_0x400ea7),_0x4efe6c['on']('timeChange'+'d',_0x55e977=>{var _0x51fb6a;(_0x51fb6a=this['schedule'])==null||_0x51fb6a['onTimeChan'+'ged'](_0x55e977);});}['getSegment'+'Timeline'](_0x321387,_0x2a2134){let _0x57dfea=null;for(const _0x3d6998 of _0x321387['adaptation'+'Sets'])if(_0x3d6998['contentTyp'+'e']==='4dgs'){for(const _0x24a111 of _0x3d6998['representa'+'tions'])if(_0x24a111['id']===_0x2a2134){_0x57dfea=_0x24a111;break;}break;}if(!_0x57dfea)throw new Error('Representa'+'tion\x20\x27'+_0x2a2134+('\x27\x20not\x20foun'+'d'));return _0x57dfea['segmentTem'+'plate'][0x70f+-0x1a4a+0x133b*0x1]['segmentTim'+'eline'];}['appendload'+'DataTask'](_0x1a0420,_0x12da5d){this['loadDataTa'+'skQueue']['push']({'segmentIndexs':_0x1a0420,'loadedTime':_0x12da5d}),this['isProcessi'+'ngLoadTask'+'Queue']||Promise['resolve']()['then'](()=>this['processLoa'+'dQueue']());}async['processLoa'+'dQueue'](){if(!this['isProcessi'+'ngLoadTask'+'Queue']){this['isProcessi'+'ngLoadTask'+'Queue']=!(0x124*-0x2+0x1*-0x9f1+0xc39);try{for(;this['loadDataTa'+'skQueue']['length']>0x1a30*-0x1+0xd84+-0x2*-0x656;){const _0x3583f0=this['loadDataTa'+'skQueue']['shift']();await this['loadGsplat'+'Data'](_0x3583f0);}}finally{this['isProcessi'+'ngLoadTask'+'Queue']=!(0x24cc+-0x1850+0x1*-0xc7b);}}}async['loadGsplat'+'Data'](_0xd697fe){var _0x135399,_0x4229ad;const {segmentIndexs:_0xa5477a,loadedTime:_0x51c42e}=_0xd697fe,_0x501334=this['events'],_0x1298f7=this['asset'],_0x31ecc8=this['callback'],_0x411aa6=this['timeOption'];globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('____loadTi'+'me','gsd\x20======'+'=========='+'=========='+'=========='+'=========='+'========='),console['log']('____loadTi'+'me','gsd\x20start\x20'+'loadGsplat'+'Data',_0xa5477a,(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](-0x1*0x169+0x5ad*0x2+0x1*-0x9ef));try{const _0x3a190e=await this['readWorker']['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0xa5477a,(_0x115838,_0x4b91c1)=>{this['totalRecei'+'ved']+=_0x115838,_0x1298f7&&_0x501334['fire']('progress',this['totalRecei'+'ved'],_0x4b91c1);},(_0x384310,_0x150c48)=>{debugger;console['warn']('ERROE\x20Load'+'\x20GSD',_0x150c48,_0x384310);});console['log']('____loadTi'+'me','gsd\x20end\x20lo'+'adGsplatDa'+'ta',(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](0x2306+-0x200d+-0x2f7),_0x3a190e['data']['elements'][0x1214+-0x767*0x3+0x421]['count'],((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/_0x3a190e['data']['elements'][0x2*-0x5ec+-0x1*-0x12d1+-0x6f9]['count']*(-0x9d6+-0x44b9+0x759f*0x1))['toFixed'](-0x519+0xefe+-0x1*0x9e3));const _0x45311c=_0x3a190e['data'];if(_0x45311c['elements'][0x2*0xeb9+0x13e2+-0x3154]['count']===-0xb*-0x213+-0xbb5*0x1+-0x3b4*0x3)return;this['totalRecei'+'vedCount']+=_0x45311c['elements'][-0xfe5+0xc2f*0x3+-0x14a8]['count'];const _0x17ebb7=new iC(_0x45311c['elements'],_0x45311c['comments']);_0x1298f7['fire']('load:data',_0x17ebb7);const _0x29b88e=_0x1298f7['data']['createTime']!==((_0x4229ad=(_0x135399=this['onlyOneAss'+'et'])==null?void(0x54f+-0x12ee+0xd9f):_0x135399['data'])==null?void(-0x5f*0x53+0x3*0xb07+-0x248):_0x4229ad['createTime']);this['gsplatReso'+'urce']&&!_0x29b88e?(console['log']('____\x20ENGIN'+'E\x20IVAN','appendGSpl'+'atDecodedR'+'esource'),this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x17ebb7,_0x411aa6,_0x51c42e,_0x1298f7)):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'DecodedRes'+'ource'),this['gsplatReso'+'urce']=new CC(this['app']['graphicsDe'+'vice'],_0x17ebb7),this['gsplatReso'+'urce']['setSceneIn'+'fo'](this['manifest']['sceneInfo']),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x411aa6,this['onlyOneAss'+'et']=_0x1298f7,_0x31ecc8&&_0x31ecc8(null,this['gsplatReso'+'urce']),_0x501334['fire']('loadAllAss'+'etsDone'));}catch(_0x7f0777){console['error']('loadGsplat'+'Data','error',_0x7f0777),_0x31ecc8&&_0x31ecc8(_0x7f0777,null);}}['open'](_0x4aa6d5,_0x490b2b){return _0x490b2b;}}class fk extends Qe{constructor(_0x19adb1){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x19adb1,'gsplat'),this['parsers']={'ply':new lk(_0x19adb1,0x26ba*0x1+0x15b5+-0x3c6c),'json':new dk(_0x19adb1,0x493*-0x7+-0x13*0x1c9+0x41f3)};}['_getUrlWit'+'houtParams'](_0x5e4089){return _0x5e4089['indexOf']('?')>=0x1*0x1f3b+-0x8fb+-0x1640?_0x5e4089['split']('?')[-0x63a+-0x18b1+-0x62f*-0x5]:_0x5e4089;}['_getParser'](_0x2cdcf4){const _0x1179fa=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x2cdcf4))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x1179fa]||this['parsers']['ply'];}['load'](_0x51340f,_0x464fac,_0x219f7d){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x51340f=='string'&&(_0x51340f={'load':_0x51340f,'original':_0x51340f}),this['_getParser'](_0x51340f['original'])['load'](_0x51340f,_0x464fac,_0x219f7d);}['open'](_0x98b8c,_0x162b74,_0xd37aab){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),_0x162b74;}}class $u{static['setCompres'+'sedPRS'](_0x245c2b,_0x2a90fa,_0x1ab371){const _0x3a2e30=_0x1ab371['singleVecs'];let _0x547b7d,_0x5d9be6;const _0x404bfa=_0x2a90fa['___1'];_0x404bfa||(_0x547b7d=_0x1ab371['tripleVecs'],_0x5d9be6=_0x2a90fa['___2']);let _0x60dacb=_0x404bfa?_0x404bfa[-0x195a+-0x1*-0x619+0x1341]:_0x547b7d[_0x5d9be6];_0x245c2b['setLocalPo'+'sition'](_0x3a2e30[_0x60dacb],_0x3a2e30[_0x60dacb+(-0xb81+0x1*-0xeb3+0x1*0x1a35)],_0x3a2e30[_0x60dacb+(-0x6*-0x2b3+-0x1*-0x25bf+-0x35ef*0x1)]),_0x60dacb=_0x404bfa?_0x404bfa[0x191e+0x24*0x3b+-0x3*0xb23]:_0x547b7d[_0x5d9be6+(0x11*-0x24+-0x1d95+0x1*0x1ffa)],_0x245c2b['setLocalEu'+'lerAngles'](_0x3a2e30[_0x60dacb],_0x3a2e30[_0x60dacb+(0x22ac+0xa31+-0x20a*0x16)],_0x3a2e30[_0x60dacb+(-0x1344+-0x246+0x158c)]),_0x60dacb=_0x404bfa?_0x404bfa[0x1359+-0x1fc4+-0x1*-0xc6d]:_0x547b7d[_0x5d9be6+(0x1957+-0x2*-0xa96+-0x94d*0x5)],_0x245c2b['setLocalSc'+'ale'](_0x3a2e30[_0x60dacb],_0x3a2e30[_0x60dacb+(-0x14fc+-0x12e7*-0x2+-0x7b*0x23)],_0x3a2e30[_0x60dacb+(-0x7*0x227+-0x13d*0xd+0x63c*0x5)]);}static['oneCharToK'+'ey'](_0xcc45b3,_0x426f59){const _0x2efd71=_0xcc45b3['charCodeAt'](0x1126+0x2*0x106a+-0x2*0x18fd)-_0x426f59['fieldFirst'+'Code'];return _0x426f59['fieldArray'][_0x2efd71];}static['multCharTo'+'Key'](_0x49761c,_0x2d6019){let _0x1c1518=0x7e8+0x11a+-0x902;for(let _0x151acb=0x3ee*-0x2+0x2ca*-0xd+0x2c1e;_0x151acb<_0x49761c['length'];_0x151acb++)_0x1c1518=_0x1c1518*_0x2d6019['fieldCodeB'+'ase']+_0x49761c['charCodeAt'](_0x151acb)-_0x2d6019['fieldFirst'+'Code'];return _0x2d6019['fieldArray'][_0x1c1518];}}class Uh{constructor(_0x10d678,_0x584100){this['_node']=_0x10d678,this['_data']=_0x584100;}['run'](){const _0x3c57a4=Object['prototype']['toString']['call'](this['_node']);return _0x3c57a4==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x3c57a4==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x341b2a){let _0x259622=_0x341b2a;const _0x306349=_0x341b2a['length'];_0x306349===0x326*0x2+-0xb92*-0x3+0x1*-0x2901?_0x259622=$u['oneCharToK'+'ey'](_0x341b2a,this['_data']):_0x306349===0x1b41+-0x245c+0x91d&&(_0x259622=$u['multCharTo'+'Key'](_0x341b2a,this['_data'])),this['_result'][_0x259622]=new Uh(this['_node'][_0x341b2a],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x258377){const _0x1bae88=new Uh(_0x258377,this['_data'])['run']();this['_result']['push'](_0x1bae88);}}class bm{constructor(_0x2861b1,_0x336f29){this['_app']=_0x2861b1,this['_isTemplat'+'e']=_0x336f29;}['parse'](_0x56ccc5){const _0x1be8f7={};let _0x546770=null;const _0xaa1be6=_0x56ccc5['compressed'+'Format'];_0xaa1be6&&!_0x56ccc5['entDecompr'+'essed']&&(_0x56ccc5['entDecompr'+'essed']=!(-0x1859+0x1590+-0x17*-0x1f),_0x56ccc5['entities']=new Uh(_0x56ccc5['entities'],_0xaa1be6)['run']());for(const _0x583f45 in _0x56ccc5['entities']){const _0x5e39c2=_0x56ccc5['entities'][_0x583f45],_0x3ca732=this['_createEnt'+'ity'](_0x5e39c2,_0xaa1be6);_0x1be8f7[_0x583f45]=_0x3ca732,_0x5e39c2['parent']===null&&(_0x546770=_0x3ca732);}for(const _0x5a4ccf in _0x56ccc5['entities']){const _0x2ae915=_0x1be8f7[_0x5a4ccf],_0x356ea1=_0x56ccc5['entities'][_0x5a4ccf]['children'],_0x1b2345=_0x356ea1['length'];for(let _0x3834b1=-0x1c2f+-0x128d+0x2ebc;_0x3834b1<_0x1b2345;_0x3834b1++){const _0x1d6e52=_0x1be8f7[_0x356ea1[_0x3834b1]];_0x1d6e52&&_0x2ae915['addChild'](_0x1d6e52);}}return this['_openCompo'+'nentData'](_0x546770,_0x56ccc5['entities']),_0x546770;}['_createEnt'+'ity'](_0x48248c,_0x441fd4){const _0x8278b0=new lt(_0x48248c['name'],this['_app']);if(_0x8278b0['setGuid'](_0x48248c['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x8278b0,_0x48248c,_0x441fd4),_0x8278b0['_enabled']=_0x48248c['enabled']??!(-0x1*-0x5e5+-0x2*0xab2+0xf7f),this['_isTemplat'+'e']?_0x8278b0['_template']=!(-0x1767+-0x2d*0x33+0x205e):_0x8278b0['_enabledIn'+'Hierarchy']=_0x8278b0['_enabled'],_0x8278b0['template']=_0x48248c['template'],_0x48248c['tags']){for(let _0x491d24=0xfa3+0x38f+0xea*-0x15;_0x491d24<_0x48248c['tags']['length'];_0x491d24++)_0x8278b0['tags']['add'](_0x48248c['tags'][_0x491d24]);}return _0x8278b0;}['_setPosRot'+'Scale'](_0x4693bb,_0x3fbb2b,_0x10ea90){if(_0x10ea90)$u['setCompres'+'sedPRS'](_0x4693bb,_0x3fbb2b,_0x10ea90);else{const _0x2633d1=_0x3fbb2b['position'],_0x36f460=_0x3fbb2b['rotation'],_0x170a43=_0x3fbb2b['scale'];_0x4693bb['setLocalPo'+'sition'](_0x2633d1[-0x1*0x455+0x1976+-0x1521],_0x2633d1[-0x25d2+0x217f+0x454],_0x2633d1[0x101d+0x1e+-0x1039]),_0x4693bb['setLocalEu'+'lerAngles'](_0x36f460[0x20b+-0x1625+-0x3e*-0x53],_0x36f460[0x2b7*0x5+0x2089*0x1+-0x2e1b],_0x36f460[-0x1b08+0xc*0x2b6+-0x2*0x2bf]),_0x4693bb['setLocalSc'+'ale'](_0x170a43[0x269f+0xb*-0x21+-0x2534],_0x170a43[0x3a7+0x7*-0x349+0x1359],_0x170a43[-0x1d76+-0x326+0x209e]);}}['_openCompo'+'nentData'](_0x40d515,_0x5ae3fd){const _0x5e9f99=this['_app']['systems']['list'];let _0x3e3dc9=_0x5e9f99['length'];const _0x2f91e7=_0x5ae3fd[_0x40d515['getGuid']()];for(let _0x475353=0x16*-0xc2+-0x157b+0x1*0x2627;_0x475353<_0x3e3dc9;_0x475353++){const _0x55abfc=_0x5e9f99[_0x475353],_0x49307a=_0x2f91e7['components'][_0x55abfc['id']];_0x49307a&&_0x55abfc['addCompone'+'nt'](_0x40d515,_0x49307a);}_0x3e3dc9=_0x2f91e7['children']['length'];const _0x24f18f=_0x40d515['_children'];for(let _0x1bcf74=0x17c3+-0x99f+-0xe24;_0x1bcf74<_0x3e3dc9;_0x1bcf74++)_0x24f18f[_0x1bcf74]?_0x24f18f[_0x1bcf74]=this['_openCompo'+'nentData'](_0x24f18f[_0x1bcf74],_0x5ae3fd):w['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x40d515['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x40d515;}}class E0{static['load'](_0x8148a8,_0x2b8037,_0x48ab78){typeof _0x8148a8=='string'&&(_0x8148a8={'load':_0x8148a8,'original':_0x8148a8}),ot['get'](_0x8148a8['load'],{'retry':_0x2b8037>-0x29*0xdd+-0x1*-0x1c4b+0x71a,'maxRetries':_0x2b8037},(_0x1b950e,_0x29f1ed)=>{if(!_0x1b950e)_0x48ab78(_0x1b950e,_0x29f1ed);else{let _0x59dbba='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x8148a8['original'];_0x1b950e['message']?(_0x59dbba+=':\x20'+_0x1b950e['message'],_0x1b950e['stack']&&(_0x59dbba+='\x0a'+_0x1b950e['stack'])):_0x59dbba+=':\x20'+_0x1b950e,_0x48ab78(_0x59dbba);}});}}class uk extends Qe{constructor(_0x1407e8){super(_0x1407e8,'hierarchy');}['load'](_0x51c358,_0x2483ca){E0['load'](_0x51c358,this['maxRetries'],_0x2483ca);}['open'](_0x1d41ea,_0x33be01){this['_app']['systems']['script']['preloading']=!(-0xfb+0x1742+-0x1647);const _0x3a1df0=new bm(this['_app'],!(0x1183+0x25b3+0x7e3*-0x7))['parse'](_0x33be01);return this['_app']['systems']['script']['preloading']=!(0x279*0x7+0x119*0x22+0x260*-0x17),_0x3a1df0;}}class pk extends Qe{constructor(_0x31a24e){super(_0x31a24e,'html'),h(this,'decoder',null);}['load'](_0x361185,_0x33ff18){typeof _0x361185=='string'&&(_0x361185={'load':_0x361185,'original':_0x361185}),ot['get'](_0x361185['load'],{'retry':this['maxRetries']>0x1be+-0x1*-0x228f+-0x244d,'maxRetries':this['maxRetries']},(_0x10fa65,_0x28fda3)=>{_0x10fa65?_0x33ff18('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x361185['original']+'\x20['+_0x10fa65+']'):_0x33ff18(null,_0x28fda3);});}['openBinary'](_0x5b91af){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x5b91af);}}class mk extends Qe{constructor(_0x372ac4){super(_0x372ac4,'json'),h(this,'decoder',null);}['load'](_0x1cb007,_0x1541d9){typeof _0x1cb007=='string'&&(_0x1cb007={'load':_0x1cb007,'original':_0x1cb007});const _0x2ec215={'retry':this['maxRetries']>-0x96b+-0x1e9f+0x32*0xcd,'maxRetries':this['maxRetries']};_0x1cb007['load']['startsWith']('blob:')&&(_0x2ec215['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x1cb007['load'],_0x2ec215,(_0x3759ec,_0x11cadd)=>{_0x3759ec?_0x1541d9('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x1cb007['original']+'\x20['+_0x3759ec+']'):_0x1541d9(null,_0x11cadd);});}['openBinary'](_0x39066b){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x39066b));}}class _k{constructor(){this['removeInva'+'lid']=!(-0xfb0*0x1+-0x25bd+0x1*0x356d),this['valid']=!(0x9c8*0x1+0x37f+-0xd47),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([lv,bd,cv]),'cull':this['_createEnu'+'mValidator']([bt,pa,Fo,Ax]),'blendType':this['_createEnu'+'mValidator']([Gp,Hp,Zs,Cs,Gn,Wp,Ed,$p,Xp,qp,jp]),'depthFunc':this['_createEnu'+'mValidator']([Cx,hh,dh,Wf,Px,Mx,Dx,Wi])};}['setInvalid'](_0x1f11a2,_0x7b496d){this['valid']=!(-0xb92*0x3+-0x20*-0x61+0x1697),w['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x1f11a2,_0x7b496d[_0x1f11a2]),this['removeInva'+'lid']&&delete _0x7b496d[_0x1f11a2];}['validate'](_0x35e8ef){const _0x24a48a=$n,_0x237518=gb,_0x1c5cee=_0x35e8ef['mappingFor'+'mat']==='path';for(const _0x28f210 in _0x35e8ef){const _0x4e952b=_0x24a48a[_0x28f210];if(!_0x4e952b){_0x237518[_0x28f210]?delete _0x35e8ef[_0x28f210]:(w['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x28f210),this['valid']=!(-0x23b5+-0x84d+0x2c03));continue;}if(_0x4e952b['startsWith']('enum')){const _0x1cc52e=_0x4e952b['split'](':')[-0x22d*0xa+0x184f*0x1+-0x28c];this['enumValida'+'tors'][_0x1cc52e]&&(this['enumValida'+'tors'][_0x1cc52e](_0x35e8ef[_0x28f210])||this['setInvalid'](_0x28f210,_0x35e8ef));}else{if(_0x4e952b==='number')typeof _0x35e8ef[_0x28f210]!='number'&&this['setInvalid'](_0x28f210,_0x35e8ef);else{if(_0x4e952b==='boolean')typeof _0x35e8ef[_0x28f210]!='boolean'&&this['setInvalid'](_0x28f210,_0x35e8ef);else{if(_0x4e952b==='string')typeof _0x35e8ef[_0x28f210]!='string'&&this['setInvalid'](_0x28f210,_0x35e8ef);else{if(_0x4e952b==='vec2')_0x35e8ef[_0x28f210]instanceof Array&&_0x35e8ef[_0x28f210]['length']===-0x1*0xe85+-0x3*0x29f+0x1664||this['setInvalid'](_0x28f210,_0x35e8ef);else{if(_0x4e952b==='rgb')_0x35e8ef[_0x28f210]instanceof Array&&_0x35e8ef[_0x28f210]['length']===-0x191c+-0x2067+0x3986||this['setInvalid'](_0x28f210,_0x35e8ef);else{if(_0x4e952b==='texture')_0x1c5cee?typeof _0x35e8ef[_0x28f210]=='string'||_0x35e8ef[_0x28f210]===null||_0x35e8ef[_0x28f210]instanceof _e||this['setInvalid'](_0x28f210,_0x35e8ef):typeof _0x35e8ef[_0x28f210]=='number'||_0x35e8ef[_0x28f210]===null||_0x35e8ef[_0x28f210]instanceof _e||this['setInvalid'](_0x28f210,_0x35e8ef);else{if(_0x4e952b==='boundingbo'+'x')_0x35e8ef[_0x28f210]['center']&&_0x35e8ef[_0x28f210]['center']instanceof Array&&_0x35e8ef[_0x28f210]['center']['length']===-0x17df+0xd14*0x2+0x246*-0x1||this['setInvalid'](_0x28f210,_0x35e8ef),_0x35e8ef[_0x28f210]['halfExtent'+'s']&&_0x35e8ef[_0x28f210]['halfExtent'+'s']instanceof Array&&_0x35e8ef[_0x28f210]['halfExtent'+'s']['length']===0x2df*0x7+-0x2294+0xe7e||this['setInvalid'](_0x28f210,_0x35e8ef);else{if(_0x4e952b==='cubemap')typeof _0x35e8ef[_0x28f210]=='number'||_0x35e8ef[_0x28f210]===null||_0x35e8ef[_0x28f210]===void(0x3c*0x5e+-0x643*-0x1+-0x1c4b*0x1)||_0x35e8ef[_0x28f210]instanceof _e&&_0x35e8ef[_0x28f210]['cubemap']||this['setInvalid'](_0x28f210,_0x35e8ef);else{if(_0x4e952b==='chunks'){const _0x43ad3a=Object['keys'](_0x35e8ef[_0x28f210]);for(let _0x341161=-0x1a84+-0x123e+0x2cc2;_0x341161<_0x43ad3a['length'];_0x341161++)typeof _0x35e8ef[_0x28f210][_0x43ad3a[_0x341161]]!='string'&&this['setInvalid'](_0x43ad3a[_0x341161],_0x35e8ef[_0x28f210]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x4e952b);}}}}}}}}}}return _0x35e8ef['validated']=!(0x1d5f*-0x1+0x763+-0x324*-0x7),this['valid'];}['_createEnu'+'mValidator'](_0x424ca6){return function(_0x11cb18){return _0x424ca6['indexOf'](_0x11cb18)>=0x135*-0xf+-0x1120+-0x1d*-0x137;};}}class gk{constructor(){this['_validator']=null;}['parse'](_0xdc92db){const _0x3ff7d0=this['migrate'](_0xdc92db),_0x116e9c=this['_validate'](_0x3ff7d0),_0x409409=new Ut();return this['initialize'](_0x409409,_0x116e9c),_0x409409;}['initialize'](_0x2e6f62,_0x42b6e4){if(_0x42b6e4['validated']||(_0x42b6e4=this['_validate'](_0x42b6e4)),_0x42b6e4['chunks']&&_0x42b6e4['chunks']&&Object['keys'](_0x42b6e4['chunks'])['length']>0x7*-0x24b+0x4*0x39f+0x191){const _0x9ad9b1=_0x2e6f62['shaderChun'+'ks']['glsl'];Object['entries'](_0x42b6e4['chunks'])['forEach'](([_0x4b5121,_0x341165])=>_0x9ad9b1['set'](_0x4b5121,_0x341165));}for(const _0x218743 in _0x42b6e4){const _0x4190ca=$n[_0x218743],_0x4edd87=_0x42b6e4[_0x218743];if(_0x4190ca==='vec2')_0x2e6f62[_0x218743]=new J(_0x4edd87[0x170c+-0xf47*-0x2+0x1acd*-0x2],_0x4edd87[-0x1dc5+0x1*-0x1a7b+0x3841]);else{if(_0x4190ca==='rgb')_0x2e6f62[_0x218743]=new ie(_0x4edd87[-0xbb*0x9+-0xa61*0x1+-0x23*-0x7c],_0x4edd87[0x153a+-0xf4b+-0x5ee],_0x4edd87[0x1bf+-0x23a8+0x21eb]);else{if(_0x4190ca==='texture')_0x4edd87 instanceof _e?_0x2e6f62[_0x218743]=_0x4edd87:_0x2e6f62[_0x218743]instanceof _e&&typeof _0x4edd87=='number'&&_0x4edd87>-0x3*-0x2ab+-0x53*0x37+-0x9d4*-0x1||(_0x2e6f62[_0x218743]=null);else{if(_0x4190ca==='cubemap')_0x4edd87 instanceof _e?_0x2e6f62[_0x218743]=_0x4edd87:_0x2e6f62[_0x218743]instanceof _e&&typeof _0x4edd87=='number'&&_0x4edd87>-0x1*-0xda3+0xca8+-0x1a4b||(_0x2e6f62[_0x218743]=null),_0x218743==='cubeMap'&&!_0x4edd87&&(_0x2e6f62['prefiltere'+'dCubemaps']=null);else{if(_0x4190ca==='boundingbo'+'x'){const _0x37261a=new D(_0x4edd87['center'][0x1*0x867+-0xd4a+0x4e3],_0x4edd87['center'][-0x1181*-0x1+-0x23ef*0x1+0x126f],_0x4edd87['center'][-0x4ff*-0x7+0x1*-0x7ad+0xda5*-0x2]),_0x34e2bd=new D(_0x4edd87['halfExtent'+'s'][-0x2e*0x89+0xd73+-0x3*-0x3b9],_0x4edd87['halfExtent'+'s'][0x1ab5+-0x2513+-0x213*-0x5],_0x4edd87['halfExtent'+'s'][-0x1*0x47+-0x2f*0xc3+-0x12a*-0x1f]);_0x2e6f62[_0x218743]=new De(_0x37261a,_0x34e2bd);}else _0x2e6f62[_0x218743]=_0x42b6e4[_0x218743];}}}}}_0x2e6f62['update']();}['migrate'](_0x529dda){_0x529dda['shader']&&delete _0x529dda['shader'],_0x529dda['mapping_fo'+'rmat']&&(_0x529dda['mappingFor'+'mat']=_0x529dda['mapping_fo'+'rmat'],delete _0x529dda['mapping_fo'+'rmat']);let _0x1b7aa9;const _0x15db6d=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x1b7aa9=0x5e0+-0xd12+0x732;_0x1b7aa9<_0x15db6d['length'];_0x1b7aa9++){const _0x328009=_0x15db6d[_0x1b7aa9][-0x2ad+-0x1f3e+-0x21eb*-0x1],_0x2dd7c3=_0x15db6d[_0x1b7aa9][-0x1d58+0x2026+0x3*-0xef];_0x529dda[_0x328009]!==void(0xeee+-0x160f+-0x1*-0x721)&&(_0x529dda[_0x2dd7c3]===void(0xffd+0x10f1+-0x20ee)&&(_0x529dda[_0x2dd7c3]=_0x529dda[_0x328009]),delete _0x529dda[_0x328009]);}const _0x3259ec=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x1b7aa9=-0x13bb*-0x1+-0x4*-0x106+-0x17d3;_0x1b7aa9<_0x3259ec['length'];_0x1b7aa9++){const _0x2fa51d=_0x3259ec[_0x1b7aa9];_0x529dda['hasOwnProp'+'erty'](_0x2fa51d)&&delete _0x529dda[_0x2fa51d];}return _0x529dda;}['_validate'](_0x29b31e){return _0x29b31e['validated']||(this['_validator']||(this['_validator']=new _k()),this['_validator']['validate'](_0x29b31e)),_0x29b31e;}}const Sk={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black','anisotropyMap':'black'};class yk extends Qe{constructor(_0x274543){super(_0x274543,'material'),this['_assets']=_0x274543['assets'],this['_device']=_0x274543['graphicsDe'+'vice'],this['_parser']=new gk();}['load'](_0x3efbdf,_0x78bfd8){typeof _0x3efbdf=='string'&&(_0x3efbdf={'load':_0x3efbdf,'original':_0x3efbdf}),ot['get'](_0x3efbdf['load'],{'retry':this['maxRetries']>-0x138b+-0x4f*-0x9+0x94*0x1d,'maxRetries':this['maxRetries']},(_0x2bc939,_0x4ac13d)=>{_0x2bc939?_0x78bfd8&&_0x78bfd8('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x3efbdf['original']+'\x20['+_0x2bc939+']'):_0x78bfd8&&(_0x4ac13d['_engine']=!(0x4*0x4d0+-0x1*0x13df+0x9f),_0x78bfd8(null,_0x4ac13d));});}['open'](_0x49065b,_0x2a4d7d){const _0x2a2a7b=this['_parser']['parse'](_0x2a4d7d);return _0x2a4d7d['_engine']&&(_0x2a2a7b['_data']=_0x2a4d7d,delete _0x2a4d7d['_engine']),_0x2a2a7b;}['patch'](_0x2f1bc,_0x4874fd){_0x2f1bc['resource']['_data']&&(_0x2f1bc['_data']=_0x2f1bc['resource']['_data'],delete _0x2f1bc['resource']['_data']),_0x2f1bc['data']['name']=_0x2f1bc['name'],_0x2f1bc['resource']['name']=_0x2f1bc['name'],this['_bindAndAs'+'signAssets'](_0x2f1bc,_0x4874fd),_0x2f1bc['off']('unload',this['_onAssetUn'+'load'],this),_0x2f1bc['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x279590){delete _0x279590['data']['parameters'],delete _0x279590['data']['chunks'],delete _0x279590['data']['name'];}['_assignTex'+'ture'](_0x119550,_0x312f92,_0xb2d042){_0x312f92['resource'][_0x119550]=_0xb2d042;}['_getPlaceh'+'olderTextu'+'re'](_0x164ee5){const _0xf0de03=Sk[_0x164ee5];return w['assert'](_0xf0de03,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x164ee5),fa(this['_device'],_0xf0de03);}['_assignPla'+'ceholderTe'+'xture'](_0x48bc22,_0x6db632){_0x6db632['resource'][_0x48bc22]=this['_getPlaceh'+'olderTextu'+'re'](_0x48bc22);}['_onTexture'+'Load'](_0x4b4feb,_0x5bce5e,_0x407bb5){this['_assignTex'+'ture'](_0x4b4feb,_0x5bce5e,_0x407bb5['resource']),_0x5bce5e['resource']['update']();}['_onTexture'+'Add'](_0x2c7f05,_0x585213,_0x3329e9){this['_assets']['load'](_0x3329e9);}['_onTexture'+'RemoveOrUn'+'load'](_0x30cfa6,_0x15ef19,_0x29e221){const _0x102f65=_0x15ef19['resource'];_0x102f65&&_0x15ef19['resource'][_0x30cfa6]===_0x29e221['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x30cfa6,_0x15ef19),_0x102f65['update']());}['_assignCub'+'emap'](_0x3f80b0,_0x344b5b,_0x5227d6){if(_0x344b5b['resource'][_0x3f80b0]=_0x5227d6[-0x1add+-0x378+-0x5*-0x611],_0x3f80b0==='cubeMap'){const _0x555199=_0x5227d6['slice'](0x86*0x37+0x2001+-0xfb*0x3e);_0x555199['every'](_0x26bb29=>_0x26bb29)?_0x344b5b['resource']['prefiltere'+'dCubemaps']=_0x555199:_0x555199[-0x5a6+-0x1385+0x192b]&&(_0x344b5b['resource']['envAtlas']=_0x555199[-0x1*-0x8e+0x61*-0x13+-0x6a5*-0x1]);}}['_onCubemap'+'Load'](_0x580a45,_0x44d15a,_0x35cfd7){this['_assignCub'+'emap'](_0x580a45,_0x44d15a,_0x35cfd7['resources']),this['_parser']['initialize'](_0x44d15a['resource'],_0x44d15a['data']);}['_onCubemap'+'Add'](_0x2e24f8,_0x154d6b,_0xd6340f){this['_assets']['load'](_0xd6340f);}['_onCubemap'+'RemoveOrUn'+'load'](_0x2cff45,_0x15ddc1,_0x2872e5){const _0x5d380d=_0x15ddc1['resource'];_0x15ddc1['data']['prefiltere'+'dCubeMap12'+'8']===_0x2872e5['resources'][-0x2*-0x1339+-0x1*-0x1311+-0x3982]&&(this['_assignCub'+'emap'](_0x2cff45,_0x15ddc1,[null,null,null,null,null,null,null]),_0x5d380d['update']());}['_bindAndAs'+'signAssets'](_0x3b5bf0,_0x5cc570){const _0x372a0c=this['_parser']['migrate'](_0x3b5bf0['data']),_0x488d30=_0x3b5bf0['resource'],_0x13e3d0=_0x372a0c['mappingFor'+'mat']==='path',_0x3277fd=Cd;let _0x10a456,_0x281084,_0x5ae39a;for(_0x10a456=-0x7*-0xd7+-0x138+-0x4a9*0x1;_0x10a456<_0x3277fd['length'];_0x10a456++){_0x281084=_0x3277fd[_0x10a456],_0x5ae39a=_0x488d30['_assetRefe'+'rences'][_0x281084];const _0x4a0af5=_0x372a0c[_0x281084],_0x12d6d0=_0x488d30[_0x281084],_0x58f276=_0x12d6d0===this['_getPlaceh'+'olderTextu'+'re'](_0x281084),_0x47fec5=_0x372a0c['validated'];_0x4a0af5&&(!_0x12d6d0||!_0x47fec5||_0x58f276)?(_0x5ae39a||(_0x5ae39a=new gl(_0x281084,_0x3b5bf0,_0x5cc570,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x488d30['_assetRefe'+'rences'][_0x281084]=_0x5ae39a),_0x13e3d0?_0x5ae39a['url']=_0x3b5bf0['getAbsolut'+'eUrl'](_0x4a0af5):_0x5ae39a['id']=_0x4a0af5,_0x5ae39a['asset']&&(_0x5ae39a['asset']['resource']?this['_assignTex'+'ture'](_0x281084,_0x3b5bf0,_0x5ae39a['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x281084,_0x3b5bf0),_0x5cc570['load'](_0x5ae39a['asset']))):_0x5ae39a&&(_0x13e3d0?_0x5ae39a['url']=null:_0x5ae39a['id']=null);}const _0x369da1=fm;for(_0x10a456=-0xb73*-0x1+0x751+0x12c4*-0x1;_0x10a456<_0x369da1['length'];_0x10a456++)_0x281084=_0x369da1[_0x10a456],_0x5ae39a=_0x488d30['_assetRefe'+'rences'][_0x281084],_0x372a0c[_0x281084]&&!_0x3b5bf0['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x5ae39a||(_0x5ae39a=new gl(_0x281084,_0x3b5bf0,_0x5cc570,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x488d30['_assetRefe'+'rences'][_0x281084]=_0x5ae39a),_0x13e3d0?_0x5ae39a['url']=_0x372a0c[_0x281084]:_0x5ae39a['id']=_0x372a0c[_0x281084],_0x5ae39a['asset']&&(_0x5ae39a['asset']['loaded']&&this['_assignCub'+'emap'](_0x281084,_0x3b5bf0,_0x5ae39a['asset']['resources']),_0x5cc570['load'](_0x5ae39a['asset'])));this['_parser']['initialize'](_0x488d30,_0x372a0c);}}class vk{constructor(_0x1f9e02){this['_device']=_0x1f9e02['device'],this['_defaultMa'+'terial']=_0x1f9e02['defaultMat'+'erial'],this['_assets']=_0x1f9e02['assets'];}['parse'](_0x3a4db8,_0xeb033b,_0x122950){kh['parse']('filename.g'+'lb','',_0x3a4db8,this['_device'],this['_assets'],(_0x122950==null?void(0x97f+-0x7b*0x9+-0x296*0x2):_0x122950['options'])??{},(_0xb218dc,_0x23e804)=>{if(_0xb218dc)_0xeb033b(_0xb218dc);else{const _0x3d164c=yr['createMode'+'l'](_0x23e804,this['_defaultMa'+'terial']);_0x23e804['destroy'](),_0xeb033b(null,_0x3d164c);}});}}const xk={'points':cd,'lines':hd,'lineloop':_y,'linestrip':gy,'triangles':js,'trianglestrip':Er,'trianglefan':oa},Tk={'int8':dd,'uint8':la,'int16':fd,'uint16':Ml,'int32':Ty,'uint32':el,'float32':Ve};class wk{constructor(_0x359ae2){this['_device']=_0x359ae2['device'],this['_defaultMa'+'terial']=_0x359ae2['defaultMat'+'erial'];}['parse'](_0xcc748a,_0x1ab1fc){const _0x16b49c=_0xcc748a['model'];if(!_0x16b49c){_0x1ab1fc(null,null);return;}if(_0x16b49c['version']<=0xa52+-0x10c*-0x3+-0xd75){_0x1ab1fc('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x23ca43=this['_parseNode'+'s'](_0xcc748a),_0x342b86=this['_parseSkin'+'s'](_0xcc748a,_0x23ca43),_0x1a22b4=this['_parseVert'+'exBuffers'](_0xcc748a),_0x1f35b6=this['_parseInde'+'xBuffers'](_0xcc748a,_0x1a22b4),_0x1c9432=this['_parseMorp'+'hs'](_0xcc748a,_0x23ca43,_0x1a22b4),_0x90b826=this['_parseMesh'+'es'](_0xcc748a,_0x342b86['skins'],_0x1c9432['morphs'],_0x1a22b4,_0x1f35b6['buffer'],_0x1f35b6['data']),_0xff34f8=this['_parseMesh'+'Instances'](_0xcc748a,_0x23ca43,_0x90b826,_0x342b86['skins'],_0x342b86['instances'],_0x1c9432['morphs'],_0x1c9432['instances']),_0x10d564=new sr();_0x10d564['graph']=_0x23ca43[0x1*0x847+-0x209f*0x1+0x1858],_0x10d564['meshInstan'+'ces']=_0xff34f8,_0x10d564['skinInstan'+'ces']=_0x342b86['instances'],_0x10d564['morphInsta'+'nces']=_0x1c9432['instances'],_0x10d564['getGraph']()['syncHierar'+'chy'](),_0x1ab1fc(null,_0x10d564);}['_parseNode'+'s'](_0x521d2c){const _0x33a9b3=_0x521d2c['model'],_0x33d529=[];let _0x214895;for(_0x214895=-0xc4b*0x1+-0x1*-0x16eb+-0xaa0;_0x214895<_0x33a9b3['nodes']['length'];_0x214895++){const _0x5ba393=_0x33a9b3['nodes'][_0x214895],_0x32ba45=new Ie(_0x5ba393['name']);_0x32ba45['setLocalPo'+'sition'](_0x5ba393['position'][-0x1e15*0x1+-0x53f*0x1+0x286*0xe],_0x5ba393['position'][-0x2534*-0x1+-0x1156+-0x153*0xf],_0x5ba393['position'][-0x23af*0x1+0x493*-0x3+0xe6*0x37]),_0x32ba45['setLocalEu'+'lerAngles'](_0x5ba393['rotation'][-0xa*-0x18b+-0x4*0x67a+-0x6*-0x1bf],_0x5ba393['rotation'][-0x1*-0x142f+0x1*-0xdad+-0x681],_0x5ba393['rotation'][0x8ff+-0x216d*-0x1+-0x2a6a]),_0x32ba45['setLocalSc'+'ale'](_0x5ba393['scale'][-0xb2f*-0x1+0x3f3+-0xf22],_0x5ba393['scale'][0x2e4+0x1563+-0x1846],_0x5ba393['scale'][0x1*-0x13e3+0x345*0x2+0xd*0x107]),_0x32ba45['scaleCompe'+'nsation']=!!_0x5ba393['scaleCompe'+'nsation'],_0x33d529['push'](_0x32ba45);}for(_0x214895=-0xcb4*-0x3+0x1675+-0x3c90;_0x214895<_0x33a9b3['parents']['length'];_0x214895++)_0x33d529[_0x33a9b3['parents'][_0x214895]]['addChild'](_0x33d529[_0x214895]);return _0x33d529;}['_parseSkin'+'s'](_0x226daa,_0x54715c){const _0x2eaf67=_0x226daa['model'],_0x497622=[],_0x103ffa=[];let _0x57bad9,_0x38d05d;for(_0x57bad9=-0x3a1*-0x4+-0x1a52*-0x1+-0x28d6;_0x57bad9<_0x2eaf67['skins']['length'];_0x57bad9++){const _0x236599=_0x2eaf67['skins'][_0x57bad9],_0x395f62=[];for(_0x38d05d=0x10*0x26e+-0x1334+-0x13ac;_0x38d05d<_0x236599['inverseBin'+'dMatrices']['length'];_0x38d05d++){const _0x1ac8c8=_0x236599['inverseBin'+'dMatrices'][_0x38d05d];_0x395f62[_0x38d05d]=new te()['set'](_0x1ac8c8);}const _0x8e7b29=new Lv(this['_device'],_0x395f62,_0x236599['boneNames']);_0x497622['push'](_0x8e7b29);const _0x42a84b=new Ol(_0x8e7b29),_0x1deaa5=[];for(_0x38d05d=0x166f+0x2b*-0x62+-0x5f9;_0x38d05d<_0x8e7b29['boneNames']['length'];_0x38d05d++){const _0x4e6350=_0x8e7b29['boneNames'][_0x38d05d],_0x192ca1=_0x54715c[0x17b*-0x1+-0x1fd5+-0x42a*-0x8]['findByName'](_0x4e6350);_0x1deaa5['push'](_0x192ca1);}_0x42a84b['bones']=_0x1deaa5,_0x103ffa['push'](_0x42a84b);}return{'skins':_0x497622,'instances':_0x103ffa};}['_getMorphV'+'ertexCount'](_0x363dd8,_0x4e6de7,_0x1d116f){for(let _0x406735=0x2246+0x36*0x67+-0x3800;_0x406735<_0x363dd8['meshes']['length'];_0x406735++){const _0x539552=_0x363dd8['meshes'][_0x406735];if(_0x539552['morph']===_0x4e6de7)return _0x1d116f[_0x539552['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x23d4a3,_0x4fb580,_0x4c5d0d){const _0x4d7948=_0x23d4a3['model'],_0x182c43=[],_0x1ffd18=[];let _0x4fc87c,_0x17b393,_0x183be7,_0x419876,_0x3ab59e,_0x18c9f7;if(_0x4d7948['morphs']){const _0x5dc239=function(_0x1f505d,_0x124a05,_0x4a6c12){const _0x56cc88=new Float32Array(_0x4a6c12*(0x307+0x156d+0x1871*-0x1));for(let _0x3e3eb8=-0x3*0x1f+-0x27a*-0x2+-0x497;_0x3e3eb8<_0x124a05['length'];_0x3e3eb8++){const _0x41c078=_0x124a05[_0x3e3eb8]*(0x3*0x9e4+0x10e3+-0x2e8c);_0x56cc88[_0x41c078]=_0x1f505d[_0x3e3eb8*(-0x227b+-0x1437+0x36b5)],_0x56cc88[_0x41c078+(-0x2414+0x61*0x1b+-0x44f*-0x6)]=_0x1f505d[_0x3e3eb8*(-0x11af+0x241e+-0x9*0x20c)+(0xd*0x256+-0x31a*-0x3+0x3*-0xd39)],_0x56cc88[_0x41c078+(0x10c5*0x2+-0x2244+0x4*0x2f)]=_0x1f505d[_0x3e3eb8*(0x36b+0x15*0x43+-0x8e7)+(-0x2283+0x1*0x1c5+0x20c0)];}return _0x56cc88;};for(_0x4fc87c=-0x25ef+-0x1499+0x1d44*0x2;_0x4fc87c<_0x4d7948['morphs']['length'];_0x4fc87c++){for(_0x419876=_0x4d7948['morphs'][_0x4fc87c]['targets'],_0x18c9f7=[],_0x183be7=this['_getMorphV'+'ertexCount'](_0x4d7948,_0x4fc87c,_0x4c5d0d),_0x17b393=-0x1f52+-0x161*0x19+0x41cb;_0x17b393<_0x419876['length'];_0x17b393++){const _0xe98c2e=_0x419876[_0x17b393]['aabb'],_0x49a425=_0xe98c2e['min'],_0xce4caa=_0xe98c2e['max'],_0x521cb5=new De(new D((_0xce4caa[-0x3d*-0x2f+0xb57+0xa*-0x241]+_0x49a425[0x5c*-0x8+-0x12e*0x18+0x1f30])*(-0x303+0x1b0d+-0x180a+0.5),(_0xce4caa[-0x67b+-0x83b*-0x2+-0x9fa]+_0x49a425[0x3*-0x7ac+-0x1fec+0x36f1])*(0x170e+0x25*0x10d+-0x15*0x2f3+0.5),(_0xce4caa[0xf*-0x205+0x1190+0xcbd]+_0x49a425[-0x12d+0x1bfb+-0x1acc])*(0x113d+-0x1*0x2621+0x14e4+0.5)),new D((_0xce4caa[-0x18b1+0x1*-0x1f+0x18d0]-_0x49a425[0x714+0x18*-0xf9+0x1044])*(-0x5*-0x64d+-0xb17+0x86*-0x27+0.5),(_0xce4caa[-0x1*-0x2363+0x1594*-0x1+-0xba*0x13]-_0x49a425[-0xeaa+0x2*0x1d4+0xb03])*(-0x4*0x3a4+0x579*0x6+-0x1246+0.5),(_0xce4caa[0x9d*0x2e+0x1*0x1705+0x1*-0x3339]-_0x49a425[0xf0d*0x2+-0x6d*-0x46+-0x3be6])*(0x1f7c+-0xe9*-0x1+0x1*-0x2065+0.5))),_0x58989e=_0x419876[_0x17b393]['indices'];let _0x15b2eb=_0x419876[_0x17b393]['deltaPosit'+'ions'],_0x3cd8a7=_0x419876[_0x17b393]['deltaNorma'+'ls'];_0x58989e&&(_0x15b2eb=_0x5dc239(_0x15b2eb,_0x58989e,_0x183be7),_0x3cd8a7=_0x5dc239(_0x3cd8a7,_0x58989e,_0x183be7)),_0x3ab59e=new Md({'deltaPositions':_0x15b2eb,'deltaNormals':_0x3cd8a7,'name':_0x419876[_0x17b393]['name'],'aabb':_0x521cb5}),_0x18c9f7['push'](_0x3ab59e);}const _0xdddcd1=new mm(_0x18c9f7,this['_device']);_0x182c43['push'](_0xdddcd1);const _0x571f01=new xa(_0xdddcd1);_0x1ffd18['push'](_0x571f01);}}return{'morphs':_0x182c43,'instances':_0x1ffd18};}['_parseVert'+'exBuffers'](_0x1b4f46){const _0x27849c=_0x1b4f46['model'],_0x3ea28b=[],_0x2d396f={'position':Me,'normal':gs,'tangent':yi,'blendWeight':gi,'blendIndices':us,'color':Wt,'texCoord0':is,'texCoord1':ba,'texCoord2':wl,'texCoord3':El,'texCoord4':bl,'texCoord5':Al,'texCoord6':Cl,'texCoord7':Pl};for(let _0x4c321f=0x1aad+-0x17*0x116+-0x1b3;_0x4c321f<_0x27849c['vertices']['length'];_0x4c321f++){const _0x33ba76=_0x27849c['vertices'][_0x4c321f],_0x37df3c=[];for(const _0x15c31c in _0x33ba76){const _0xc63766=_0x33ba76[_0x15c31c];_0x37df3c['push']({'semantic':_0x2d396f[_0x15c31c],'components':_0xc63766['components'],'type':Tk[_0xc63766['type']],'normalize':_0x2d396f[_0x15c31c]===Wt});}const _0x50be28=new kt(this['_device'],_0x37df3c),_0x7d09dd=_0x33ba76['position']['data']['length']/_0x33ba76['position']['components'],_0x520b69=new Is(this['_device'],_0x50be28,_0x7d09dd),_0x1997a4=new Uo(_0x520b69);for(let _0x1a957b=-0x767+0xb*0x345+-0x1c90;_0x1a957b<_0x7d09dd;_0x1a957b++){for(const _0x45acf1 in _0x33ba76){const _0x13084e=_0x33ba76[_0x45acf1];switch(_0x13084e['components']){case 0xe3*-0xf+0x162c+-0x8de:_0x1997a4['element'][_0x2d396f[_0x45acf1]]['set'](_0x13084e['data'][_0x1a957b]);break;case 0x5*0x617+-0x2283+0x2*0x209:_0x1997a4['element'][_0x2d396f[_0x45acf1]]['set'](_0x13084e['data'][_0x1a957b*(0x67+-0xc98*0x2+0x18cb)],0x5*-0xcb+0x62*0xf+-0x1c6-_0x13084e['data'][_0x1a957b*(0x1897*0x1+0x73d+-0x1fd2)+(-0x998*-0x1+0x1*0x26d3+-0x1835*0x2)]);break;case-0x1213+-0x19ef+0x2c05:_0x1997a4['element'][_0x2d396f[_0x45acf1]]['set'](_0x13084e['data'][_0x1a957b*(-0x1a1+-0x1*0xc9a+0xe3e*0x1)],_0x13084e['data'][_0x1a957b*(-0x42*0x4c+-0x1c99+-0x269*-0x14)+(-0x1007*0x1+0x17*0x1+0xff1)],_0x13084e['data'][_0x1a957b*(0x1f90+-0x1cfd*-0x1+-0x3c8a)+(-0x6d9*-0x1+-0x5*-0x455+-0xe4*0x20)]);break;case-0x1c*0x9f+-0x1*0xa4d+0x1bb5*0x1:_0x1997a4['element'][_0x2d396f[_0x45acf1]]['set'](_0x13084e['data'][_0x1a957b*(-0x17e3+0x1e12+-0x62b)],_0x13084e['data'][_0x1a957b*(-0x19a9+-0x136*0x5+0x1fbb)+(-0x24be+0xeb1+-0xb07*-0x2)],_0x13084e['data'][_0x1a957b*(0x2552*0x1+0x735+-0x2c83)+(-0x1*-0x184a+0x95*0x34+0x1b46*-0x2)],_0x13084e['data'][_0x1a957b*(-0x1561+0x1aa8+-0x3*0x1c1)+(0x26e3+0x135f+-0x3a3f)]);break;}}_0x1997a4['next']();}_0x1997a4['end'](),_0x3ea28b['push'](_0x520b69);}return _0x3ea28b;}['_parseInde'+'xBuffers'](_0x433450,_0x4b70bf){const _0x5482a0=_0x433450['model'];let _0x104aed=null,_0x3671cd=null,_0x3dbbe4,_0x15b7a3=-0x1a22+-0x1a66+0x3488;for(_0x3dbbe4=-0x2*0x766+0x234c+-0x1480;_0x3dbbe4<_0x5482a0['meshes']['length'];_0x3dbbe4++){const _0x1d310a=_0x5482a0['meshes'][_0x3dbbe4];_0x1d310a['indices']!==void(0x1f64+0x1*0x1b5a+-0x67*0x92)&&(_0x15b7a3+=_0x1d310a['indices']['length']);}let _0x1ec6b0=-0x18c9+0x1dcd+0x282*-0x2;for(_0x3dbbe4=0xb6b+-0x5*0x5ff+0x1290;_0x3dbbe4<_0x4b70bf['length'];_0x3dbbe4++)_0x1ec6b0=Math['max'](_0x1ec6b0,_0x4b70bf[_0x3dbbe4]['numVertice'+'s']);return _0x15b7a3>-0x3*-0xb60+0x4f*0x4+0x2*-0x11ae&&(_0x1ec6b0>0x2982+-0x4f6e+0x15*0xdff?(_0x104aed=new br(this['_device'],wr,_0x15b7a3),_0x3671cd=new Uint32Array(_0x104aed['lock']())):(_0x104aed=new br(this['_device'],Yi,_0x15b7a3),_0x3671cd=new Uint16Array(_0x104aed['lock']()))),{'buffer':_0x104aed,'data':_0x3671cd};}['_parseMesh'+'es'](_0x569397,_0x198a2d,_0x305828,_0x1d23bb,_0x2ce34d,_0x4abdfd){const _0x33d325=_0x569397['model'],_0x42279f=[];let _0x5287ff=0x122c*-0x2+0x6*0x24+-0x20*-0x11c;for(let _0xacc563=-0x1d8+-0xc62+-0xe3a*-0x1;_0xacc563<_0x33d325['meshes']['length'];_0xacc563++){const _0x4b3b58=_0x33d325['meshes'][_0xacc563],_0x49023f=_0x4b3b58['aabb'],_0x42c9f6=_0x49023f['min'],_0xd6afef=_0x49023f['max'],_0x11890c=new De(new D((_0xd6afef[0x281+-0xc16+0xdf*0xb]+_0x42c9f6[0x70b+0x2*0xb4e+-0x1da7*0x1])*(0x9dc*-0x2+0xc82+0x39b*0x2+0.5),(_0xd6afef[-0x13fa+-0x233a+-0x15*-0x2a1]+_0x42c9f6[0x15b3+0x277+-0x1829])*(-0x3e*0x2d+0x19*-0x6c+0x1572+0.5),(_0xd6afef[-0x16f0+0x1bc6+-0x4d4]+_0x42c9f6[0x9b5+-0x3f+-0x974])*(0x100b+0x14e1*0x1+-0x93b*0x4+0.5)),new D((_0xd6afef[0x30f+-0xf22*-0x1+-0x1231]-_0x42c9f6[-0x11*-0x203+0x2*0x36e+-0x17*0x1c9])*(-0x3ef+-0x2707*0x1+0x2af6+0.5),(_0xd6afef[-0x1016+0x17e+-0x65*-0x25]-_0x42c9f6[-0x5*0x4c5+0x3*0x3fb+0xbe9*0x1])*(-0x1b61+0x20bb+-0x2*0x2ad+0.5),(_0xd6afef[-0x1*-0xf4+-0xbc5*0x1+0xad3]-_0x42c9f6[0x11*0xb+0x3*0x928+0x1c31*-0x1])*(-0x16aa*0x1+0x1*0xb1d+0xb8d*0x1+0.5))),_0xe2c481=_0x4b3b58['indices']!==void(0xdb4+0xb3c+-0x6*0x428),_0x3ffecf=new Ge(this['_device']);_0x3ffecf['vertexBuff'+'er']=_0x1d23bb[_0x4b3b58['vertices']],_0x3ffecf['indexBuffe'+'r'][-0x3*0xbb4+0x1*-0x33b+-0x5*-0x7ab]=_0xe2c481?_0x2ce34d:null,_0x3ffecf['primitive'][-0x19c6+0x17*0x16e+0x38e*-0x2]['type']=xk[_0x4b3b58['type']],_0x3ffecf['primitive'][0x12*0x1fb+-0xa5b*0x3+-0x495]['base']=_0xe2c481?_0x4b3b58['base']+_0x5287ff:_0x4b3b58['base'],_0x3ffecf['primitive'][0x19*0x43+-0x13a6+-0xd1b*-0x1]['count']=_0x4b3b58['count'],_0x3ffecf['primitive'][0x14*-0x11c+-0xcd3*-0x1+-0x8d*-0x11]['indexed']=_0xe2c481,_0x3ffecf['skin']=_0x4b3b58['skin']!==void(-0x205f+0x1d0d+-0x19*-0x22)?_0x198a2d[_0x4b3b58['skin']]:null,_0x3ffecf['morph']=_0x4b3b58['morph']!==void(-0x95a+0xcb9+-0x35f)?_0x305828[_0x4b3b58['morph']]:null,_0x3ffecf['aabb']=_0x11890c,_0xe2c481&&(_0x4abdfd['set'](_0x4b3b58['indices'],_0x5287ff),_0x5287ff+=_0x4b3b58['indices']['length']),_0x42279f['push'](_0x3ffecf);}return _0x2ce34d!==null&&_0x2ce34d['unlock'](),_0x42279f;}['_parseMesh'+'Instances'](_0x29dd9d,_0x257fa9,_0x129d0d,_0x511fe9,_0x35f9ec,_0x2f259b,_0x1de73a){const _0x1c7d56=_0x29dd9d['model'],_0x58bd89=[];let _0x13abf7;for(_0x13abf7=0x1e95+0x2*0x12f2+-0x4479*0x1;_0x13abf7<_0x1c7d56['meshInstan'+'ces']['length'];_0x13abf7++){const _0x4ba5b5=_0x1c7d56['meshInstan'+'ces'][_0x13abf7],_0x3ed08b=_0x257fa9[_0x4ba5b5['node']],_0x638d79=_0x129d0d[_0x4ba5b5['mesh']],_0x6e68cd=new He(_0x638d79,this['_defaultMa'+'terial'],_0x3ed08b);if(_0x638d79['skin']){const _0x440f10=_0x511fe9['indexOf'](_0x638d79['skin']);if(_0x440f10===-(-0x2*0x66c+0xe6*-0x6+0x123d))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x6e68cd['skinInstan'+'ce']=_0x35f9ec[_0x440f10];}if(_0x638d79['morph']){const _0x1390ac=_0x2f259b['indexOf'](_0x638d79['morph']);if(_0x1390ac===-(-0x1b1*-0x2+-0x17d7*-0x1+-0x68*0x43))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x6e68cd['morphInsta'+'nce']=_0x1de73a[_0x1390ac];}_0x58bd89['push'](_0x6e68cd);}return _0x58bd89;}}class Ek extends Qe{constructor(_0x24178e){super(_0x24178e,'model'),this['_parsers']=[],this['device']=_0x24178e['graphicsDe'+'vice'],this['assets']=_0x24178e['assets'],this['defaultMat'+'erial']=Qn(this['device']),this['addParser'](new wk(this),(_0x89eb98,_0x4c1f19)=>xe['getExtensi'+'on'](_0x89eb98)==='.json'),this['addParser'](new vk(this),(_0x38b0db,_0x19b1b6)=>xe['getExtensi'+'on'](_0x38b0db)==='.glb');}['load'](_0x30a33f,_0x3e72ff,_0x2eb76e){typeof _0x30a33f=='string'&&(_0x30a33f={'load':_0x30a33f,'original':_0x30a33f});const _0x6b1178={'retry':this['maxRetries']>0xe49+-0xb2f*-0x1+-0x1978,'maxRetries':this['maxRetries']};(_0x30a33f['load']['startsWith']('blob:')||_0x30a33f['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x30a33f['original'])['toLowerCas'+'e']()==='.glb'?_0x6b1178['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x6b1178['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x30a33f['load'],_0x6b1178,(_0x571012,_0x2cd185)=>{if(_0x3e72ff){if(_0x571012)_0x3e72ff('Error\x20load'+'ing\x20model:'+'\x20'+_0x30a33f['original']+'\x20['+_0x571012+']');else{for(let _0x429d55=-0x1d09+0x21*-0x2b+0x2294;_0x429d55<this['_parsers']['length'];_0x429d55++){const _0x4e7190=this['_parsers'][_0x429d55];if(_0x4e7190['decider'](_0x30a33f['original'],_0x2cd185)){_0x4e7190['parser']['parse'](_0x2cd185,(_0x314cbf,_0x3a53b7)=>{_0x314cbf?_0x3e72ff(_0x314cbf):_0x3e72ff(null,_0x3a53b7);},_0x2eb76e);return;}}_0x3e72ff('No\x20parsers'+'\x20found');}}});}['open'](_0x1a9165,_0x432b53){return _0x432b53;}['patch'](_0x1c6c46,_0x593414){if(!_0x1c6c46['resource'])return;const _0x234df0=_0x1c6c46['data'],_0x30cf61=this;_0x1c6c46['resource']['meshInstan'+'ces']['forEach']((_0x1fb5d,_0x1b115e)=>{if(_0x234df0['mapping']){const _0x39f93c=function(_0x167a9c){_0x167a9c['resource']?_0x1fb5d['material']=_0x167a9c['resource']:(_0x167a9c['once']('load',_0x39f93c),_0x593414['load'](_0x167a9c)),_0x167a9c['once']('remove',_0x1850c6=>{_0x1fb5d['material']===_0x1850c6['resource']&&(_0x1fb5d['material']=_0x30cf61['defaultMat'+'erial']);});};if(!_0x234df0['mapping'][_0x1b115e]){_0x1fb5d['material']=_0x30cf61['defaultMat'+'erial'];return;}const _0x2d0002=_0x234df0['mapping'][_0x1b115e]['material'],_0x30d4fe=_0x234df0['mapping'][_0x1b115e]['path'];let _0x355ed3;if(_0x2d0002!==void(0x252b*-0x1+-0xf*-0x173+-0xa*-0x18b))_0x2d0002?(_0x355ed3=_0x593414['get'](_0x2d0002),_0x355ed3?_0x39f93c(_0x355ed3):_0x593414['once']('add:'+_0x2d0002,_0x39f93c)):_0x1fb5d['material']=_0x30cf61['defaultMat'+'erial'];else{if(_0x30d4fe){const _0x18fbf7=_0x1c6c46['getAbsolut'+'eUrl'](_0x234df0['mapping'][_0x1b115e]['path']);_0x355ed3=_0x593414['getByUrl'](_0x18fbf7),_0x355ed3?_0x39f93c(_0x355ed3):_0x593414['once']('add:url:'+_0x18fbf7,_0x39f93c);}}}});}['addParser'](_0x1cf8fb,_0x4a8b7f){this['_parsers']['push']({'parser':_0x1cf8fb,'decider':_0x4a8b7f});}}class bk extends Qe{constructor(_0x570b4){super(_0x570b4,'scene');}['load'](_0x108d27,_0x55d23c){E0['load'](_0x108d27,this['maxRetries'],_0x55d23c);}['open'](_0x3d7824,_0x422a54){this['_app']['systems']['script']['preloading']=!(0x2*-0x119f+0x1c55*-0x1+-0x69*-0x9b);const _0x5937c0=new bm(this['_app'],!(0x1d4b+-0x4fd*-0x6+-0x3b38))['parse'](_0x422a54),_0x294b0a=this['_app']['scene'];return _0x294b0a['root']=_0x5937c0,this['_app']['applyScene'+'Settings'](_0x422a54['settings']),this['_app']['systems']['script']['preloading']=!(-0x1*0x2170+0x38*0x22+0x1a01),_0x294b0a;}}const qh=class qh{static['push'](_0x3d55dd){qh['_types']['push'](_0x3d55dd);}};h(qh,'_types',[]);let aa=qh;const Ak=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),Ck={};Sl['reservedNa'+'mes']['forEach']((_0x25984e,_0x4cf616,_0x7d7fa)=>{Ck[_0x25984e]=-0x31*0x28+0x1*0x4d9+0x2d0;});function Pk(_0x295d8a,_0x309ab8,_0x2410c5){if(typeof _0x295d8a!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x295d8a+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x295d8a['prototype']instanceof ts))throw new Error('script\x20cla'+'ss:\x20\x27'+Wo['__getScrip'+'tName'](_0x295d8a)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x309ab8=_0x309ab8||_0x295d8a['__name']||Wo['__getScrip'+'tName'](_0x295d8a),Ak['has'](_0x309ab8))throw new Error('script\x20nam'+'e:\x20\x27'+_0x309ab8+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x295d8a['__name']=_0x309ab8,Ks['getApplica'+'tion']()['scripts']['add'](_0x295d8a),aa['push'](_0x295d8a);}const Mk=_0x5c0ddf=>_0x5c0ddf[0xf28+-0x9be+-0x56a]['toLowerCas'+'e']()+_0x5c0ddf['substring'](0x289*0x5+0x6*-0x155+-0x4ae);class Dk extends Qe{constructor(_0x5849d0){super(_0x5849d0,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0x211268 in this['_cache']){const _0x2f6ebb=this['_cache'][_0x211268],_0x30d58d=_0x2f6ebb['parentNode'];_0x30d58d&&_0x30d58d['removeChil'+'d'](_0x2f6ebb);}this['_cache']={};}['load'](_0x27a0c0,_0x59541d){typeof _0x27a0c0=='string'&&(_0x27a0c0={'load':_0x27a0c0,'original':_0x27a0c0});const _0x20aaea=this;this['_app'];const _0x143ee6=(_0x27a0c0['load'],(_0x5a1cba,_0x8078f4,_0x10aa1a)=>{if(_0x5a1cba)_0x59541d(_0x5a1cba);else{const _0x573dfb={};for(let _0x36f09b=0x51*-0x51+0x1005+0xc*0xcd;_0x36f09b<aa['_types']['length'];_0x36f09b++)_0x573dfb[aa['_types'][_0x36f09b]['name']]=aa['_types'][_0x36f09b];aa['_types']['length']=-0x2201+-0x1dbe+0x3fbf*0x1,_0x59541d(null,_0x573dfb,_0x10aa1a);const _0x1d583d=_0x8078f4['split']('&hash=')[0x7*-0x1b4+-0x2*-0xfd9+-0x13c6];delete _0x20aaea['_loader']['_cache'][Cn['makeKey'](_0x1d583d,'script')];}}),[_0x2adc03]=_0x27a0c0['load']['split']('?');_0x2adc03['endsWith']('.mjs')?this['_loadModul'+'e'](_0x2adc03,_0x143ee6):this['_loadScrip'+'t'](_0x27a0c0['load'],_0x143ee6);}['open'](_0x28d646,_0x2b0f6d){return _0x2b0f6d;}['patch'](_0x28daac,_0x4eecbc){}['_loadScrip'+'t'](_0x39417d,_0x31abee){const _0x28d595=document['head'],_0x32c5b0=document['createElem'+'ent']('script');this['_cache'][_0x39417d]=_0x32c5b0,_0x32c5b0['async']=!(-0x5b3+0x95*0x4+-0x60*-0x9),_0x32c5b0['addEventLi'+'stener']('error',_0x5b4073=>{_0x31abee('Script:\x20'+_0x5b4073['target']['src']+('\x20failed\x20to'+'\x20load'));},!(0x5*-0x1ea+-0xf75+-0x1*-0x1908));let _0x43a026=!(0x1044+0x23cf*0x1+-0x3412);_0x32c5b0['onload']=_0x32c5b0['onreadysta'+'techange']=function(){!_0x43a026&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x43a026=!(0x103e+0x1*0x643+-0x1681),_0x31abee(null,_0x39417d,_0x32c5b0));},_0x32c5b0['src']=_0x39417d,_0x28d595['appendChil'+'d'](_0x32c5b0);}['_loadModul'+'e'](_0x1dfa6b,_0x2e41b9){const _0x4e9048=Ae['browser']&&window['location']['origin']!=='null'?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x4deaba=new URL(_0x1dfa6b,_0x4e9048);import(_0x4deaba['toString']())['then'](_0x522b65=>{var _0xe60181,_0x335dfd;const _0x29ac41=_0x4deaba['pathname']['split']('/')['pop'](),_0x38354b=(_0x335dfd=(_0xe60181=this['_app']['assets']['find'](_0x29ac41,'script'))==null?void(-0x14c6+-0x1268*-0x1+-0xca*-0x3):_0xe60181['data'])==null?void(-0x3*0x2a7+0x12bb*-0x2+0x2d6b):_0x335dfd['scripts'];for(const _0x3bc8a3 in _0x522b65){const _0x33fce5=_0x522b65[_0x3bc8a3];if(_0x33fce5['prototype']instanceof ts){const _0x5de8f0=Mk(_0x33fce5['name']);_0x33fce5['scriptName']||w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x33fce5['name']+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x33fce5['name']+('.scriptNam'+'e\x20=\x20\x22')+_0x5de8f0+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.'));const _0x495357=_0x33fce5['scriptName']??_0x5de8f0;Pk(_0x33fce5,_0x495357),_0x38354b&&this['_app']['scripts']['addSchema'](_0x495357,_0x38354b[_0x495357]);}}_0x2e41b9(null,_0x1dfa6b,null);})['catch'](_0x23e0b6=>{_0x2e41b9(_0x23e0b6);});}}class Ik extends Qe{constructor(_0xb75b95){super(_0xb75b95,'shader'),h(this,'decoder',null);}['load'](_0x478fdf,_0x598648){typeof _0x478fdf=='string'&&(_0x478fdf={'load':_0x478fdf,'original':_0x478fdf}),ot['get'](_0x478fdf['load'],{'retry':this['maxRetries']>0x129f*-0x1+0x1894+-0x5f5,'maxRetries':this['maxRetries']},(_0x4d97a2,_0x1c572a)=>{_0x4d97a2?_0x598648('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x478fdf['original']+'\x20['+_0x4d97a2+']'):_0x598648(null,_0x1c572a);});}['openBinary'](_0xda4aff){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0xda4aff);}}function Pf(_0x3df7fc){const _0x1f129b=this;_0x1f129b['resource']&&(_0x1f129b['resource']['atlas']=_0x3df7fc['resource']);}function Mf(_0xbec015){this['registry']['load'](_0xbec015);}class Lk extends Qe{constructor(_0x1f127e){super(_0x1f127e,'sprite'),this['_assets']=_0x1f127e['assets'],this['_device']=_0x1f127e['graphicsDe'+'vice'];}['load'](_0x255c3b,_0x13d776){typeof _0x255c3b=='string'&&(_0x255c3b={'load':_0x255c3b,'original':_0x255c3b}),xe['getExtensi'+'on'](_0x255c3b['original'])==='.json'&&ot['get'](_0x255c3b['load'],{'retry':this['maxRetries']>0x9*0xb9+-0x262c+0x1*0x1fab,'maxRetries':this['maxRetries']},(_0x201529,_0x5cb8c7)=>{_0x201529?_0x13d776(_0x201529):_0x13d776(null,_0x5cb8c7);});}['open'](_0x2112a3,_0x2cd995){const _0x2fe0c0=new BA(this['_device']);return _0x2112a3&&(_0x2fe0c0['__data']=_0x2cd995),_0x2fe0c0;}['patch'](_0x32db22,_0xf09e57){const _0x3b0c08=_0x32db22['resource'];if(_0x3b0c08['__data']&&(_0x32db22['data']['pixelsPerU'+'nit']=_0x3b0c08['__data']['pixelsPerU'+'nit'],_0x32db22['data']['renderMode']=_0x3b0c08['__data']['renderMode'],_0x32db22['data']['frameKeys']=_0x3b0c08['__data']['frameKeys'],_0x3b0c08['__data']['textureAtl'+'asAsset'])){const _0x411696=_0xf09e57['getByUrl'](_0x3b0c08['__data']['textureAtl'+'asAsset']);_0x411696?_0x32db22['data']['textureAtl'+'asAsset']=_0x411696['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x3b0c08['__data']['textureAtl'+'asAsset']);}_0x3b0c08['startUpdat'+'e'](),_0x3b0c08['renderMode']=_0x32db22['data']['renderMode'],_0x3b0c08['pixelsPerU'+'nit']=_0x32db22['data']['pixelsPerU'+'nit'],_0x3b0c08['frameKeys']=_0x32db22['data']['frameKeys'],this['_updateAtl'+'as'](_0x32db22),_0x3b0c08['endUpdate'](),_0x32db22['off']('change',this['_onAssetCh'+'ange'],this),_0x32db22['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x106004){const _0x3f53e4=_0x106004['resource'];if(!_0x106004['data']['textureAtl'+'asAsset']){_0x3f53e4['atlas']=null;return;}this['_assets']['off']('load:'+_0x106004['data']['textureAtl'+'asAsset'],Pf,_0x106004),this['_assets']['on']('load:'+_0x106004['data']['textureAtl'+'asAsset'],Pf,_0x106004);const _0x42e450=this['_assets']['get'](_0x106004['data']['textureAtl'+'asAsset']);_0x42e450&&_0x42e450['resource']?_0x3f53e4['atlas']=_0x42e450['resource']:_0x42e450?this['_assets']['load'](_0x42e450):(this['_assets']['off']('add:'+_0x106004['data']['textureAtl'+'asAsset'],Mf,_0x106004),this['_assets']['on']('add:'+_0x106004['data']['textureAtl'+'asAsset'],Mf,_0x106004));}['_onAssetCh'+'ange'](_0x13fe37,_0x3716fa,_0x401ce5,_0x20fbd0){_0x3716fa==='data'&&_0x401ce5&&_0x401ce5['textureAtl'+'asAsset']&&_0x20fbd0&&_0x401ce5['textureAtl'+'asAsset']!==_0x20fbd0['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x20fbd0['textureAtl'+'asAsset'],Pf,_0x13fe37),this['_assets']['off']('add:'+_0x20fbd0['textureAtl'+'asAsset'],Mf,_0x13fe37));}}class vS{constructor(_0x2725d8,_0x4a629f){h(this,'_app'),h(this,'_data'),h(this,'_templateR'+'oot',null),(this['_app']=_0x2725d8,this['_data']=_0x4a629f);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x252a53=new bm(this['_app'],!(0x9*0x52+-0x118*0x1d+0x1cd6));this['_templateR'+'oot']=_0x252a53['parse'](this['_data']);}}class Rk extends Qe{constructor(_0x1c74a2){super(_0x1c74a2,'template'),h(this,'decoder',null);}['load'](_0x3ef629,_0x328509){typeof _0x3ef629=='string'&&(_0x3ef629={'load':_0x3ef629,'original':_0x3ef629});const _0x2bbdd7={'retry':this['maxRetries']>0xa4+-0x1e5*-0x7+-0xde7*0x1,'maxRetries':this['maxRetries']};ot['get'](_0x3ef629['load'],_0x2bbdd7,(_0x14e166,_0x2dbcf7)=>{_0x14e166?_0x328509('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x3ef629['original']):_0x328509(_0x14e166,_0x2dbcf7);});}['open'](_0x4dda41,_0x11ed5f){return new vS(this['_app'],_0x11ed5f);}['openBinary'](_0x330eb2){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new vS(this['_app'],JSON['parse'](this['decoder']['decode'](_0x330eb2)));}}class Ok extends Qe{constructor(_0x2a50a4){super(_0x2a50a4,'text'),h(this,'decoder',null);}['load'](_0x5ed2c2,_0x113e19){typeof _0x5ed2c2=='string'&&(_0x5ed2c2={'load':_0x5ed2c2,'original':_0x5ed2c2}),ot['get'](_0x5ed2c2['load'],{'retry':this['maxRetries']>-0xa9d+-0x67*0x16+0x1377,'maxRetries':this['maxRetries']},(_0x1e2792,_0x2f3d78)=>{_0x1e2792?_0x113e19('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x5ed2c2['original']+'\x20['+_0x1e2792+']'):_0x113e19(null,_0x2f3d78);});}['openBinary'](_0x180302){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x180302);}}const Ic={'repeat':yt,'clamp':ue,'mirror':ip},Lc={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},Fk=/^data\.frames\.(\d+)$/;class Nk extends Qe{constructor(_0xce5714){super(_0xce5714,'textureatl'+'as'),this['_loader']=_0xce5714['loader'];}['load'](_0x1ec45c,_0x5b581e){typeof _0x1ec45c=='string'&&(_0x1ec45c={'load':_0x1ec45c,'original':_0x1ec45c});const _0x310ce3=this,_0x4329ea=this['_loader']['getHandler']('texture');xe['getExtensi'+'on'](_0x1ec45c['original'])==='.json'?ot['get'](_0x1ec45c['load'],{'retry':this['maxRetries']>-0x1e0+0x1e1f*-0x1+0x1*0x1fff,'maxRetries':this['maxRetries']},(_0x3cf8e7,_0xa8b620)=>{if(_0x3cf8e7)_0x5b581e(_0x3cf8e7);else{const _0x5a9d24=_0x1ec45c['original']['replace']('.json','.png');_0x310ce3['_loader']['load'](_0x5a9d24,'texture',(_0x596b9a,_0x11170d)=>{_0x596b9a?_0x5b581e(_0x596b9a):_0x5b581e(null,{'data':_0xa8b620,'texture':_0x11170d});});}}):_0x4329ea['load'](_0x1ec45c,_0x5b581e);}['open'](_0x1d67c9,_0x34c134,_0x2c585d){const _0x360e86=new zA();if(_0x34c134['texture']&&_0x34c134['data'])_0x360e86['texture']=_0x34c134['texture'],_0x360e86['__data']=_0x34c134['data'];else{const _0x5232e8=this['_loader']['getHandler']('texture')['open'](_0x1d67c9,_0x34c134,_0x2c585d);if(!_0x5232e8)return null;_0x360e86['texture']=_0x5232e8;}return _0x360e86;}['patch'](_0x5bf77e,_0xa63d15){if(!_0x5bf77e['resource'])return;_0x5bf77e['resource']['__data']&&(_0x5bf77e['resource']['__data']['minfilter']!==void(0x973*-0x2+0x1*0xfd1+0x315)&&(_0x5bf77e['data']['minfilter']=_0x5bf77e['resource']['__data']['minfilter']),_0x5bf77e['resource']['__data']['magfilter']!==void(-0x2*0x1215+0x16b3+-0x17f*-0x9)&&(_0x5bf77e['data']['magfilter']=_0x5bf77e['resource']['__data']['magfilter']),_0x5bf77e['resource']['__data']['addressu']!==void(-0x1642+0x154a+0xf8)&&(_0x5bf77e['data']['addressu']=_0x5bf77e['resource']['__data']['addressu']),_0x5bf77e['resource']['__data']['addressv']!==void(-0x1e5b*0x1+-0x10e1*-0x1+0xd7a)&&(_0x5bf77e['data']['addressv']=_0x5bf77e['resource']['__data']['addressv']),_0x5bf77e['resource']['__data']['mipmaps']!==void(0xce*-0x2+-0xa38+-0x5ea*-0x2)&&(_0x5bf77e['data']['mipmaps']=_0x5bf77e['resource']['__data']['mipmaps']),_0x5bf77e['resource']['__data']['anisotropy']!==void(0x1f56*-0x1+-0x5c*0x4+0x2*0x1063)&&(_0x5bf77e['data']['anisotropy']=_0x5bf77e['resource']['__data']['anisotropy']),_0x5bf77e['resource']['__data']['rgbm']!==void(0x4*-0x37d+0xff*-0x3+-0x10f1*-0x1)&&(_0x5bf77e['data']['rgbm']=!!_0x5bf77e['resource']['__data']['rgbm']),_0x5bf77e['data']['frames']=_0x5bf77e['resource']['__data']['frames'],delete _0x5bf77e['resource']['__data']);const _0x47adef=_0x5bf77e['resource']['texture'];if(_0x47adef&&(_0x47adef['name']=_0x5bf77e['name'],_0x5bf77e['data']['hasOwnProp'+'erty']('minfilter')&&_0x47adef['minFilter']!==Lc[_0x5bf77e['data']['minfilter']]&&(_0x47adef['minFilter']=Lc[_0x5bf77e['data']['minfilter']]),_0x5bf77e['data']['hasOwnProp'+'erty']('magfilter')&&_0x47adef['magFilter']!==Lc[_0x5bf77e['data']['magfilter']]&&(_0x47adef['magFilter']=Lc[_0x5bf77e['data']['magfilter']]),_0x5bf77e['data']['hasOwnProp'+'erty']('addressu')&&_0x47adef['addressU']!==Ic[_0x5bf77e['data']['addressu']]&&(_0x47adef['addressU']=Ic[_0x5bf77e['data']['addressu']]),_0x5bf77e['data']['hasOwnProp'+'erty']('addressv')&&_0x47adef['addressV']!==Ic[_0x5bf77e['data']['addressv']]&&(_0x47adef['addressV']=Ic[_0x5bf77e['data']['addressv']]),_0x5bf77e['data']['hasOwnProp'+'erty']('mipmaps')&&_0x47adef['mipmaps']!==_0x5bf77e['data']['mipmaps']&&(_0x47adef['mipmaps']=_0x5bf77e['data']['mipmaps']),_0x5bf77e['data']['hasOwnProp'+'erty']('anisotropy')&&_0x47adef['anisotropy']!==_0x5bf77e['data']['anisotropy']&&(_0x47adef['anisotropy']=_0x5bf77e['data']['anisotropy']),_0x5bf77e['data']['hasOwnProp'+'erty']('rgbm'))){const _0x45066b=_0x5bf77e['data']['rgbm']?Zi:Ds;_0x47adef['type']!==_0x45066b&&(_0x47adef['type']=_0x45066b);}_0x5bf77e['resource']['texture']=_0x47adef;const _0x1d950e={};for(const _0x329cc0 in _0x5bf77e['data']['frames']){const _0x5638e9=_0x5bf77e['data']['frames'][_0x329cc0];_0x1d950e[_0x329cc0]={'rect':new re(_0x5638e9['rect']),'pivot':new J(_0x5638e9['pivot']),'border':new re(_0x5638e9['border'])};}_0x5bf77e['resource']['frames']=_0x1d950e,_0x5bf77e['off']('change',this['_onAssetCh'+'ange'],this),_0x5bf77e['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x32b2f8,_0x24137a,_0x40614e){let _0x1f042b;if(_0x24137a==='data'||_0x24137a==='data.frame'+'s'){const _0x3fa17f={};for(const _0x4b03db in _0x40614e['frames'])_0x1f042b=_0x40614e['frames'][_0x4b03db],_0x3fa17f[_0x4b03db]={'rect':new re(_0x1f042b['rect']),'pivot':new J(_0x1f042b['pivot']),'border':new re(_0x1f042b['border'])};_0x32b2f8['resource']['frames']=_0x3fa17f;}else{const _0x5af0c3=_0x24137a['match'](Fk);if(_0x5af0c3){const _0x33628d=_0x5af0c3[-0x2038+-0x2*-0xaf7+0xa4b];_0x40614e?(_0x32b2f8['resource']['frames'][_0x33628d]?(_0x1f042b=_0x32b2f8['resource']['frames'][_0x33628d],_0x1f042b['rect']['set'](_0x40614e['rect'][0x254+-0x19a1+0x174d],_0x40614e['rect'][0x19d3+0x13d*0x1d+0x1*-0x3dbb],_0x40614e['rect'][0x1e6e+0xe*-0x12a+-0xe20],_0x40614e['rect'][0x1e14*-0x1+-0x2*-0xe97+0xe9]),_0x1f042b['pivot']['set'](_0x40614e['pivot'][0x3b*0x2e+-0x726+-0x374],_0x40614e['pivot'][-0xa00+0x9*-0x53+0xcec]),_0x1f042b['border']['set'](_0x40614e['border'][-0x2076+0x3c0*-0x9+-0xf*-0x46a],_0x40614e['border'][-0x483*-0x8+-0x111d+0x2b6*-0x7],_0x40614e['border'][0x1b69*-0x1+0x1eb2+-0x347*0x1],_0x40614e['border'][-0x21d5*0x1+-0x1403+0x35db])):_0x32b2f8['resource']['frames'][_0x33628d]={'rect':new re(_0x40614e['rect']),'pivot':new J(_0x40614e['pivot']),'border':new re(_0x40614e['border'])},_0x32b2f8['resource']['fire']('set:frame',_0x33628d,_0x32b2f8['resource']['frames'][_0x33628d])):_0x32b2f8['resource']['frames'][_0x33628d]&&(delete _0x32b2f8['resource']['frames'][_0x33628d],_0x32b2f8['resource']['fire']('remove:fra'+'me',_0x33628d));}}}}function kk(){const _0xb4cba={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x3ca944={'astc':_0xb4cba['cTFASTC_4x'+'4'],'dxt':_0xb4cba['cTFBC1'],'etc1':_0xb4cba['cTFETC1'],'etc2':_0xb4cba['cTFETC1'],'pvr':_0xb4cba['cTFPVRTC1_'+'4_RGB'],'atc':_0xb4cba['cTFATC_RGB'],'none':_0xb4cba['cTFRGB565']},_0x1d63ce={'astc':_0xb4cba['cTFASTC_4x'+'4'],'dxt':_0xb4cba['cTFBC3'],'etc1':_0xb4cba['cTFRGBA444'+'4'],'etc2':_0xb4cba['cTFETC2'],'pvr':_0xb4cba['cTFPVRTC1_'+'4_RGBA'],'atc':_0xb4cba['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0xb4cba['cTFRGBA444'+'4']},_0x27ad28={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x1c93cd=(_0x4b4154,_0x553272)=>{switch(_0x4b4154){case _0xb4cba['cTFETC1']:return _0x553272['formats']['etc2']?_0x27ad28['ETC2_RGB']:_0x27ad28['ETC1'];case _0xb4cba['cTFETC2']:return _0x27ad28['ETC2_RGBA'];case _0xb4cba['cTFBC1']:return _0x27ad28['DXT1'];case _0xb4cba['cTFBC3']:return _0x27ad28['DXT5'];case _0xb4cba['cTFPVRTC1_'+'4_RGB']:return _0x27ad28['PVRTC_4BPP'+'_RGB_1'];case _0xb4cba['cTFPVRTC1_'+'4_RGBA']:return _0x27ad28['PVRTC_4BPP'+'_RGBA_1'];case _0xb4cba['cTFASTC_4x'+'4']:return _0x27ad28['ASTC_4x4'];case _0xb4cba['cTFATC_RGB']:return _0x27ad28['ATC_RGB'];case _0xb4cba['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x27ad28['ATC_RGBA'];case _0xb4cba['cTFRGBA32']:return _0x27ad28['R8_G8_B8_A'+'8'];case _0xb4cba['cTFRGB565']:return _0x27ad28['R5_G6_B5'];case _0xb4cba['cTFRGBA444'+'4']:return _0x27ad28['R4_G4_B4_A'+'4'];}},_0x3cc0eb=_0x6bad4d=>{const _0xf88ee0=function(_0x4f9eea,_0x197ccd){const _0x44661d=_0x4f9eea*(0xfdc+-0x924+-0x6b8+0.00784313725490196)-(-0x1e23+-0x5*-0x345+0xdcb),_0x11d0eb=_0x197ccd*((-0x1*0x260f+-0x31*0xb5+0x2*0x245b)/(0x16e2*0x1+-0x2681+0x109e))-(0x1*0x17e3+0x3*-0x1e+-0x1788),_0x3db5c9=Math['sqrt'](-0x21bb+0xfb0+-0xb*-0x1a4-Math['min'](0xc71+0x246+-0x7*0x21a,_0x44661d*_0x44661d+_0x11d0eb*_0x11d0eb));return Math['max'](-0x1*0x2267+-0x18ae+0x3b15,Math['min'](-0x2c*-0xa2+0x2222*0x1+-0x43*0xe9,Math['floor']((_0x3db5c9+(-0x25f*0x7+0x23a8+0x2*-0x987))*(-0x1116+0x1*0x1302+0xf6*-0x2+0.5)*(-0x1371+-0x9*0x17+0x153f))));};for(let _0x20abf5=0x1255+0x1*-0x218a+0xf35*0x1;_0x20abf5<_0x6bad4d['length'];_0x20abf5+=0x2621+-0x1119*0x1+-0x1504){const _0x4a9cc5=_0x6bad4d[_0x20abf5+(-0x2162+-0x60*-0x53+0x245*0x1)],_0x421635=_0x6bad4d[_0x20abf5+(-0x35*0xb5+-0x69f*0x2+0x2*0x195c)];_0x6bad4d[_0x20abf5+(-0x10d5*0x2+0x3*0x73e+0xbf0)]=_0x4a9cc5,_0x6bad4d[_0x20abf5+(0xe5*-0x1a+0xbe*0xa+-0x2a4*-0x6)]=_0xf88ee0(_0x4a9cc5,_0x421635),_0x6bad4d[_0x20abf5+(0x1*0x2141+-0xa94+-0x16aa)]=0x139+0x3*-0x6af+0x1d*0xaf;}return _0x6bad4d;},_0x3e8cae=_0x5cdc28=>{const _0x54e41d=new Uint16Array(_0x5cdc28['length']/(0x1686+-0x214c+0x1*0xaca));for(let _0x36f940=0x498+-0x1*-0x2361+0x1*-0x27f9;_0x36f940<_0x5cdc28['length'];_0x36f940+=-0xa2d+-0x17fa+0x222b){const _0x1be45=_0x5cdc28[_0x36f940+(0x779+-0x24ae+0x1d35*0x1)],_0x1684bd=_0x5cdc28[_0x36f940+(-0x91f+-0x1393+0x1cb3*0x1)],_0x390e84=_0x5cdc28[_0x36f940+(-0xb24*-0x2+0x1aa6+-0x4*0xc3b)];_0x54e41d[_0x36f940/(0x1b23+-0x2b1+0xc37*-0x2)]=(_0x1be45&0x2*0x1e7+0x2653+-0x2929)<<0xc8b*0x3+-0xa*0x1be+-0x142d|(_0x1684bd&0x18ee+0x16b7+0x955*-0x5)<<-0x41*-0x65+0x1948+-0x32ea|_0x390e84>>0xdc1+-0x166*-0x5+-0x14bc;}return _0x54e41d;},_0x3d8393=(_0x13d1b4,_0x501ce5)=>(_0x13d1b4&_0x13d1b4-(-0x8*0x3eb+-0x75d+-0x26b6*-0x1))===0x1*0x962+-0x4*0x364+0xd6*0x5&&(_0x501ce5&_0x501ce5-(0x7*0x48b+0x1041+-0x300d))===0xcc+0x2075+-0x2141,_0x420c4a=()=>typeof performance<'u'?performance['now']():0x182b+-0x773*-0x1+-0x13*0x1aa;let _0x2b694a,_0x20567b,_0x4cd424;const _0x337870=(_0x210500,_0x1d7c86,_0x4ea32d)=>{if(_0x4ea32d){if(_0x210500['formats']['astc'])return'astc';}else{if(_0x1d7c86){if(_0x210500['formats']['etc2'])return'etc2';}else{if(_0x210500['formats']['etc2'])return'etc2';if(_0x210500['formats']['etc1'])return'etc1';}}return(_0x255c90=>{for(let _0x5143bb=0xaa3+0x1*-0xbcd+-0x1*-0x12a;_0x5143bb<_0x255c90['length'];++_0x5143bb){const _0x592605=_0x255c90[_0x5143bb];if(_0x210500['formats'][_0x592605])return _0x592605;}return'none';})(_0x1d7c86?_0x4cd424:_0x20567b);},_0x498347=(_0x5e2153,_0x2c5ee3,_0xa76462)=>{switch(_0xa76462){case _0xb4cba['cTFETC1']:case _0xb4cba['cTFETC2']:return!(-0x153e*0x1+0x1*-0x1a3f+0x2f7d);case _0xb4cba['cTFBC1']:case _0xb4cba['cTFBC3']:return(_0x5e2153&-0x791+-0x342*0x4+0x149c)===-0x1569*0x1+0x31+0x8*0x2a7&&(_0x2c5ee3&-0x13f4+-0x2236+0x362d)===-0x1034+0x5*0xb8+-0x2*-0x64e;case _0xb4cba['cTFPVRTC1_'+'4_RGB']:case _0xb4cba['cTFPVRTC1_'+'4_RGBA']:return _0x3d8393(_0x5e2153,_0x2c5ee3);case _0xb4cba['cTFASTC_4x'+'4']:return!(0x1098+0x17b1*-0x1+0x4f*0x17);case _0xb4cba['cTFATC_RGB']:case _0xb4cba['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(0x1*-0xfa6+0x2*0xd8b+-0xb70);}return!(0x198+-0x158d+0x13f6);},_0x21dde9=(_0x2442bc,_0x463ad5,_0x4fc4dc)=>{if(!_0x2b694a['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x30c602=_0x420c4a(),_0xc9a585=new _0x2b694a['KTX2File'](new Uint8Array(_0x463ad5)),_0x55d21a=_0xc9a585['getWidth'](),_0x23cdf5=_0xc9a585['getHeight'](),_0x3be304=_0xc9a585['getLevels'](),_0x120d60=!!_0xc9a585['getHasAlph'+'a'](),_0x3e936e=_0xc9a585['isUASTC']&&_0xc9a585['isUASTC']();if(!_0x55d21a||!_0x23cdf5||!_0x3be304)throw _0xc9a585['close'](),_0xc9a585['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x2442bc+'\x20width='+_0x55d21a+'\x20height='+_0x23cdf5+'\x20levels='+_0x3be304);const _0x324600=_0x337870(_0x4fc4dc['deviceDeta'+'ils'],_0x120d60,_0x3e936e),_0x4b5ca6=!!_0x4fc4dc['isGGGR']&&_0x324600==='pvr';let _0x19f222;if(_0x4b5ca6?_0x19f222=_0xb4cba['cTFRGBA32']:(_0x19f222=_0x120d60?_0x1d63ce[_0x324600]:_0x3ca944[_0x324600],_0x498347(_0x55d21a,_0x23cdf5,_0x19f222)||(_0x19f222=_0x120d60?_0xb4cba['cTFRGBA32']:_0xb4cba['cTFRGB565'])),!_0xc9a585['startTrans'+'coding']())throw _0xc9a585['close'](),_0xc9a585['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x2442bc);let _0x176e64;const _0x390d8d=[];for(let _0x3779d8=0x24ff+-0x385*-0x5+0x4*-0xda6;_0x3779d8<_0x3be304;++_0x3779d8){const _0x231f1b=_0xc9a585['getImageTr'+'anscodedSi'+'zeInBytes'](_0x3779d8,0xe5f+0x9*-0x38b+0x1184,-0x3*0x752+0x4b3*0x1+0x1143,_0x19f222),_0x51a571=new Uint8Array(_0x231f1b);if(!_0xc9a585['transcodeI'+'mage'](_0x51a571,_0x3779d8,-0xd66+0x1d7*-0x11+0x2cad,-0xd54+0x19c1+-0xc6d,_0x19f222,-0x24b9*-0x1+0x20a3+0x2e*-0x182,-(-0x1*-0xf95+0x2d*0x61+-0x20a1),-(0x4*-0x96b+-0x2*-0x11a4+0x265)))throw _0xc9a585['close'](),_0xc9a585['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x2442bc);const _0xb7c1ed=_0x19f222===_0xb4cba['cTFRGB565']||_0x19f222===_0xb4cba['cTFRGBA444'+'4'];_0x390d8d['push'](_0xb7c1ed?new Uint16Array(_0x51a571['buffer']):_0x51a571);}if(_0xc9a585['close'](),_0xc9a585['delete'](),_0x4b5ca6){for(_0x19f222=_0xb4cba['cTFRGB565'],_0x176e64=0x647*0x6+0x1*0x2652+-0x25fe*0x2;_0x176e64<_0x390d8d['length'];++_0x176e64)_0x390d8d[_0x176e64]=_0x3e8cae(_0x3cc0eb(_0x390d8d[_0x176e64]));}return{'format':_0x1c93cd(_0x19f222,_0x4fc4dc['deviceDeta'+'ils']),'width':_0x55d21a,'height':_0x23cdf5,'levels':_0x390d8d,'cubemap':!(0x9*-0x41+-0x1e4+0x42e),'transcodeTime':_0x420c4a()-_0x30c602,'url':_0x2442bc,'unswizzledGGGR':_0x4b5ca6};},_0x16af3d=(_0x4471cc,_0x58c742,_0x259d1f)=>{const _0x138fcc=_0x420c4a(),_0x504217=new _0x2b694a['BasisFile'](new Uint8Array(_0x58c742)),_0x1d8bf0=_0x504217['getImageWi'+'dth'](-0xdb6+0x2b*0xa3+-0x1*0xdab,0x1134*-0x1+-0xa37*-0x1+0x6fd),_0x413427=_0x504217['getImageHe'+'ight'](-0x265b+0x2*-0xbb4+0x3dc3,0xd7a+0x16dd+-0x1bb*0x15),_0x187d62=_0x504217['getNumImag'+'es'](),_0xe2d5ba=_0x504217['getNumLeve'+'ls'](-0x3f*0x8d+-0xaed+0x8*0x5b4),_0x2f58b4=!!_0x504217['getHasAlph'+'a'](),_0x54c864=_0x504217['isUASTC']&&_0x504217['isUASTC']();if(!_0x1d8bf0||!_0x413427||!_0x187d62||!_0xe2d5ba)throw _0x504217['close'](),_0x504217['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x4471cc+'\x20width='+_0x1d8bf0+'\x20height='+_0x413427+'\x20images='+_0x187d62+'\x20levels='+_0xe2d5ba);const _0x1c41a2=_0x337870(_0x259d1f['deviceDeta'+'ils'],_0x2f58b4,_0x54c864),_0xab399=!!_0x259d1f['isGGGR']&&_0x1c41a2==='pvr';let _0x33d404;if(_0xab399?_0x33d404=_0xb4cba['cTFRGBA32']:(_0x33d404=_0x2f58b4?_0x1d63ce[_0x1c41a2]:_0x3ca944[_0x1c41a2],_0x498347(_0x1d8bf0,_0x413427,_0x33d404)||(_0x33d404=_0x2f58b4?_0xb4cba['cTFRGBA32']:_0xb4cba['cTFRGB565'])),!_0x504217['startTrans'+'coding']())throw _0x504217['close'](),_0x504217['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x4471cc);let _0x2bdcab;const _0x1f0e7b=[];for(let _0x288d26=0x4d7+0x32*-0x3b+0x6af;_0x288d26<_0xe2d5ba;++_0x288d26){const _0x4e3002=_0x504217['getImageTr'+'anscodedSi'+'zeInBytes'](-0x12fc+0xb5*0x27+-0x897,_0x288d26,_0x33d404),_0x5139f3=new Uint8Array(_0x4e3002);if(!_0x504217['transcodeI'+'mage'](_0x5139f3,0x609+-0x1d8e+0x1785,_0x288d26,_0x33d404,0x1fe+-0x1*-0x1337+0x59*-0x3d,-0x5*-0x3bf+-0x1a3b+0x780)){if(_0x288d26===_0xe2d5ba-(0x9f2+-0x1025*-0x1+-0x1a16)&&_0x4e3002===_0x1f0e7b[_0x288d26-(0x6*0x2d6+-0xd48*0x1+0x1*-0x3bb)]['buffer']['byteLength'])_0x5139f3['set'](new Uint8Array(_0x1f0e7b[_0x288d26-(-0x12d9+-0xbe7+0x1ec1)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x4471cc);else throw _0x504217['close'](),_0x504217['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x4471cc);}const _0x380399=_0x33d404===_0xb4cba['cTFRGB565']||_0x33d404===_0xb4cba['cTFRGBA444'+'4'];_0x1f0e7b['push'](_0x380399?new Uint16Array(_0x5139f3['buffer']):_0x5139f3);}if(_0x504217['close'](),_0x504217['delete'](),_0xab399){for(_0x33d404=_0xb4cba['cTFRGB565'],_0x2bdcab=0x25fb+-0xae7+-0x6c5*0x4;_0x2bdcab<_0x1f0e7b['length'];++_0x2bdcab)_0x1f0e7b[_0x2bdcab]=_0x3e8cae(_0x3cc0eb(_0x1f0e7b[_0x2bdcab]));}return{'format':_0x1c93cd(_0x33d404,_0x259d1f['deviceDeta'+'ils']),'width':_0x1d8bf0,'height':_0x413427,'levels':_0x1f0e7b,'cubemap':!(-0x11c*-0x22+-0x12fe+0x12b9*-0x1),'transcodeTime':_0x420c4a()-_0x138fcc,'url':_0x4471cc,'unswizzledGGGR':_0xab399};},_0x1bf609=(_0x5b9d27,_0x2fdad6,_0xf6183f)=>_0xf6183f['isKTX2']?_0x21dde9(_0x5b9d27,_0x2fdad6,_0xf6183f):_0x16af3d(_0x5b9d27,_0x2fdad6,_0xf6183f),_0x4d080f=(_0x874976,_0x4c8b42,_0x56b303)=>{try{const _0x40af13=_0x1bf609(_0x874976,_0x4c8b42,_0x56b303);_0x40af13['levels']=_0x40af13['levels']['map'](_0x99e411=>_0x99e411['buffer']),self['postMessag'+'e']({'url':_0x874976,'data':_0x40af13},_0x40af13['levels']);}catch(_0x474b61){self['postMessag'+'e']({'url':_0x874976,'err':_0x474b61},null);}},_0x36446f=(_0xd8ee7a,_0x16aa05)=>{const _0xe90f9b=(_0x785318,_0x3a25e2)=>(WebAssembly['instantiat'+'e'](_0xd8ee7a['module'],_0x785318)['then'](_0x597378=>{_0x3a25e2(_0x597378);})['catch'](_0x113f4b=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x113f4b);}),{});self['BASIS'](_0xd8ee7a['module']?{'instantiateWasm':_0xe90f9b}:null)['then'](_0xf80405=>{_0xf80405['initialize'+'Basis'](),_0x2b694a=_0xf80405,_0x20567b=_0xd8ee7a['rgbPriorit'+'y'],_0x4cd424=_0xd8ee7a['rgbaPriori'+'ty'],_0x16aa05(null);});},_0xac315e=[];self['onmessage']=_0x2e2579=>{const _0x2d3f2c=_0x2e2579['data'];switch(_0x2d3f2c['type']){case'init':_0x36446f(_0x2d3f2c['config'],()=>{for(let _0x3aa8cf=-0x3*-0x837+-0x154a+-0x35b;_0x3aa8cf<_0xac315e['length'];++_0x3aa8cf)_0x4d080f(_0xac315e[_0x3aa8cf]['url'],_0xac315e[_0x3aa8cf]['data'],_0xac315e[_0x3aa8cf]['options']);_0xac315e['length']=-0x2061+0x69*0x31+-0x83*-0x18;});break;case'transcode':_0x2b694a?_0x4d080f(_0x2d3f2c['url'],_0x2d3f2c['data'],_0x2d3f2c['options']):_0xac315e['push'](_0x2d3f2c);break;}};}const Uk=_0x4b4d34=>({'astc':!!_0x4b4d34['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x4b4d34['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x4b4d34['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x4b4d34['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x4b4d34['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x4b4d34['extCompres'+'sedTexture'+'PVRTC']}),Bk=(_0x3e56c4,_0x52d6a2)=>{const _0x1231d5=_0xf5da7b=>{const _0x68595=['/*\x20basis\x20*'+'/',_0xf5da7b,'','('+kk['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x68595],{'type':'applicatio'+'n/javascri'+'pt'});},_0x3703b4=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x17ed86=new WebAssembly['Module'](Uint8Array['of'](0x1b95+0x2*0x11a1+-0x3ed7*0x1,0xef7*0x1+-0x663+-0x833,0x135d+0xdd7*-0x1+-0x513,-0x1*-0x957+-0xf0e+0x1*0x624,-0x186d+-0x1f3*0xd+0x31c5,0x1*0x1afb+-0x2389+0x88e,-0x11c8+0xa3*0x18+0x280,-0x4a*-0x82+0x1*0x19b5+-0x3b9*0x11));if(_0x17ed86 instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x17ed86)instanceof WebAssembly['Instance'];}}catch{}return!(0x1064*0x1+-0x10d5*0x1+0x2*0x39);},_0x47a055=(_0x2b8096,_0x3f933a)=>{_0x52d6a2(null,{'workerUrl':URL['createObje'+'ctURL'](_0x1231d5(_0x2b8096)),'module':_0x3f933a,'rgbPriority':_0x3e56c4['rgbPriorit'+'y'],'rgbaPriority':_0x3e56c4['rgbaPriori'+'ty']});},_0x17047e={'cache':!(0x109e+0xc0*0x33+-0x36de),'responseType':'text','retry':_0x3e56c4['maxRetries']>-0x1d*-0x3+-0x1b2a+0x1ad3,'maxRetries':_0x3e56c4['maxRetries']};if(_0x3e56c4['glueUrl']&&_0x3e56c4['wasmUrl']&&_0x3703b4()){let _0x39027f=null,_0x185924=null;ot['get'](_0x3e56c4['glueUrl'],_0x17047e,(_0x5112a3,_0x35252a)=>{_0x5112a3?_0x52d6a2(_0x5112a3):_0x185924?_0x47a055(_0x35252a,_0x185924):_0x39027f=_0x35252a;});const _0x5b796f=fetch(_0x3e56c4['wasmUrl']),_0x4e98f3=()=>{_0x5b796f['then'](_0x7ddac2=>_0x7ddac2['arrayBuffe'+'r']())['then'](_0x33b733=>WebAssembly['compile'](_0x33b733))['then'](_0x132358=>{_0x39027f?_0x47a055(_0x39027f,_0x132358):_0x185924=_0x132358;})['catch'](_0x1bc898=>{_0x52d6a2(_0x1bc898,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x5b796f)['then'](_0x5f2aa2=>{_0x39027f?_0x47a055(_0x39027f,_0x5f2aa2):_0x185924=_0x5f2aa2;})['catch'](_0x21c0d7=>{w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x3e56c4['wasmUrl']+'\x20('+_0x21c0d7+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x4e98f3();}):_0x4e98f3();}else ot['get'](_0x3e56c4['fallbackUr'+'l'],_0x17047e,(_0xb50e52,_0x2fabee)=>{_0xb50e52?_0x52d6a2(_0xb50e52,null):_0x47a055(_0x2fabee,null);});};class zk{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0xf55ee,_0x1b9ec3,_0x4a67f1,_0x420a4e){if(this['callbacks']['hasOwnProp'+'erty'](_0xf55ee))this['callbacks'][_0xf55ee]['push'](_0x4a67f1);else{this['callbacks'][_0xf55ee]=[_0x4a67f1];const _0x22a44a={'url':_0xf55ee,'data':_0x1b9ec3,'options':_0x420a4e};this['clients']['length']>-0x309*0x3+-0x1*-0x5a1+0x59*0xa?this['clients']['shift']()['run'](_0x22a44a):this['queue']['push'](_0x22a44a);}}['enqueueCli'+'ent'](_0x2b9bf9){this['queue']['length']>-0x1*0x173+0x1*0x100a+-0xe97?_0x2b9bf9['run'](this['queue']['shift']()):this['clients']['push'](_0x2b9bf9);}['handleResp'+'onse'](_0x38ab5a,_0x2f5498,_0x55ee44){const _0x47335f=this['callbacks'][_0x38ab5a];if(_0x2f5498){for(let _0x33045c=-0x14f5*-0x1+0x7be*-0x3+0x245;_0x33045c<_0x47335f['length'];++_0x33045c)_0x47335f[_0x33045c](_0x2f5498);}else{_0x55ee44['format']===Jh||_0x55ee44['format']===ed?_0x55ee44['levels']=_0x55ee44['levels']['map'](_0x57f4c4=>new Uint16Array(_0x57f4c4)):_0x55ee44['levels']=_0x55ee44['levels']['map'](_0x22dc5b=>new Uint8Array(_0x22dc5b));for(let _0xdbe9fa=-0x7e7*-0x2+-0x1*0x257e+0x15b0;_0xdbe9fa<_0x47335f['length'];++_0xdbe9fa)_0x47335f[_0xdbe9fa](null,_0x55ee44);}delete this['callbacks'][_0x38ab5a];}}class Vk{constructor(_0x3ad9fa,_0x47611c,_0x1d610d){this['queue']=_0x3ad9fa,this['worker']=new Worker(_0x47611c['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x21ee2d=>{const _0x4e9a83=_0x21ee2d['data'];this['queue']['handleResp'+'onse'](_0x4e9a83['url'],_0x4e9a83['err'],_0x4e9a83['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x47611c}),this['eager']=_0x1d610d;}['run'](_0x30b9bb){const _0x227520=[];_0x30b9bb['data']instanceof ArrayBuffer&&_0x227520['push'](_0x30b9bb['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x30b9bb['url'],'format':_0x30b9bb['format'],'data':_0x30b9bb['data'],'options':_0x30b9bb['options']},_0x227520),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const Gk=0x47*-0x6f+0x1f*-0xbf+0x35eb*0x1,Hk=['etc2','etc1','astc','dxt','pvr','atc'],Wk=['astc','dxt','etc2','pvr','atc'],$k=0x1422+0x1929+-0x2d46,Xu=new zk();let xS=null,qu=!(-0x303*-0x1+-0x1*-0x17c7+-0x1*0x1ac9);function Xk(_0x70f6d5){if(!qu){if(!_0x70f6d5)_0x70f6d5=xS||{};else{if(_0x70f6d5['lazyInit']){xS=_0x70f6d5;return;}}if(!_0x70f6d5['glueUrl']||!_0x70f6d5['wasmUrl']||!_0x70f6d5['fallbackUr'+'l']){const _0x5871ac=YS['getConfig']('BASIS');_0x5871ac&&(_0x70f6d5={'glueUrl':_0x5871ac['glueUrl'],'wasmUrl':_0x5871ac['wasmUrl'],'fallbackUrl':_0x5871ac['fallbackUr'+'l'],'numWorkers':_0x5871ac['numWorkers']});}if(_0x70f6d5['glueUrl']||_0x70f6d5['wasmUrl']||_0x70f6d5['fallbackUr'+'l']){qu=!(0xf*0x110+0x9*0x299+-0xb7*0x37);const _0x8a3769=Math['max'](-0x575+0x1bbf+-0x1649,Math['min'](0x132b*0x1+0x219b+0xd*-0x40e,_0x70f6d5['numWorkers']||Gk)),_0x992dd4=_0x70f6d5['numWorkers']===0x44*-0x43+0x5ae+0xc1f||(_0x70f6d5['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x70f6d5['eagerWorke'+'rs']:!(0xf97+-0x8c1+-0x6d6));_0x70f6d5['rgbPriorit'+'y']=_0x70f6d5['rgbPriorit'+'y']||Hk,_0x70f6d5['rgbaPriori'+'ty']=_0x70f6d5['rgbaPriori'+'ty']||Wk,_0x70f6d5['maxRetries']=_0x70f6d5['hasOwnProp'+'erty']('maxRetries')?_0x70f6d5['maxRetries']:$k,Bk(_0x70f6d5,(_0x1de3e4,_0x1cfa06)=>{if(_0x1de3e4)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x1de3e4);else{for(let _0x41c904=-0x571+-0x21a3+0x1*0x2714;_0x41c904<_0x8a3769;++_0x41c904)Xu['enqueueCli'+'ent'](new Vk(Xu,_0x1cfa06,_0x992dd4));}});}}}let Df=null;function b0(_0x5f272a,_0x5a0d1a,_0x48fc8e,_0x367156,_0x393256){return Xk(),Df||(Df={'formats':Uk(_0x5f272a)}),Xu['enqueueJob'](_0x5a0d1a,_0x48fc8e,_0x367156,{'deviceDetails':Df,'isGGGR':!!(_0x393256!=null&&_0x393256['isGGGR']),'isKTX2':!!(_0x393256!=null&&_0x393256['isKTX2'])}),qu;}class eo{['load'](_0x2eddab,_0x359f3a,_0x4f2bfc){throw new Error('not\x20implem'+'ented');}['open'](_0x54e08b,_0xa70a39,_0x57e3b6){throw new Error('not\x20implem'+'ented');}}class qk extends eo{constructor(_0x5e9345,_0x4128fb){super(),this['device']=_0x4128fb,this['maxRetries']=-0x17*-0x12f+-0x23b0+0x877;}['load'](_0x1d6445,_0x4bdb12,_0x25a7b5){const _0x26dea4=this['device'],_0x2ee9b6=_0x3461db=>{var _0x10abee,_0x5aaf42,_0x5ef75c;b0(_0x26dea4,_0x1d6445['load'],_0x3461db,_0x4bdb12,{'isGGGR':(((_0x5ef75c=(_0x5aaf42=(_0x10abee=_0x25a7b5==null?void(-0x11ef*-0x1+0x4*0x62b+-0x1*0x2a9b):_0x25a7b5['file'])==null?void(-0x1692+-0x1*0x1e7+0x1879):_0x10abee['variants'])==null?void(-0x9*-0x207+-0x1f3d+-0xcfe*-0x1):_0x5aaf42['basis'])==null?void(-0x1016+-0xcb1*0x2+0x2978):_0x5ef75c['opt'])&0x1e4+0x1*0x108e+-0x126a)!==-0x1dcd+-0x1da5+0x3b72})||_0x4bdb12('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x25a7b5['name']+']('+_0x25a7b5['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};pe['fetchArray'+'Buffer'](_0x1d6445['load'],(_0x5c444f,_0x5af83b)=>{_0x5c444f?_0x4bdb12(_0x5c444f):_0x2ee9b6(_0x5af83b);},_0x25a7b5,this['maxRetries']);}['open'](_0xa62f9a,_0x450950,_0xc5d803,_0x5b36bf={}){const _0x4ad07e=_0x5b36bf['srgb']?ld(_0x450950['format']):_0x450950['format'],_0x5dc518=new _e(_0xc5d803,{'name':_0xa62f9a,'profilerHint':Pr,'addressU':_0x450950['cubemap']?ue:yt,'addressV':_0x450950['cubemap']?ue:yt,'width':_0x450950['width'],'height':_0x450950['height'],'format':_0x4ad07e,'cubemap':_0x450950['cubemap'],'levels':_0x450950['levels'],..._0x5b36bf});return _0x5dc518['upload'](),_0x5dc518;}}const A0=new Uint8Array([0x1e30+-0x21a*-0xb+-0x13*0x2c7,0x1913+-0x6a6+-0x121d*0x1,0x1584+0xc41+-0x2177,0x81*-0xb+0x217*-0xe+0x2314,-0x827+-0x1*0x1df9+0x151*0x1d,0x86+0x751+-0x7cd,0xd*-0x166+0x1a48+-0x800,-0x168+0x104+0x1*0x6e,-0x2673+0x2ab*-0x1+0x291e,-0x17b2+-0x1683+0x2e35,-0x1e70+-0x153d+0x33ad,-0x2*0x428+-0x26c4*-0x1+0xb5*-0x2b,-0x1a67*0x1+-0xbdd*0x1+0x268d,0xc77*-0x3+-0x4*-0x684+0x3*0x3df,0x4*0x376+0x2451+-0x31e5,0x74e*0x1+-0x2*0x27f+0x11*-0x1e,0x1570+0xbbc+-0x182*0x16,0x515*-0x4+0xdf6*0x1+0x65e,0x4*0x21f+0xc42*-0x3+0x66*0x47,0x1bd3+-0x101*-0x9+-0x75f*0x5,0x19c3+0x7d*-0x25+0x3d9*-0x2,0x2421*-0x1+-0x176c*0x1+0x5*0xbe9,-0x6be+-0x39*-0x9f+-0x1ca9,-0x367*-0x1+0x321+-0x3*0x22d,0x1d*-0x53+0x1*0x359+0x616,0x18ad+0x1968+-0x48d*0xb,0x1295+-0x18cc*-0x1+0x5*-0x8ad,-0x974+-0x1492+0x356*0x9,0x1933+-0xf0a+0x33*-0x33,0xb9a*0x3+0x201f*0x1+-0x42ce,-0x1aaa+0x5*-0x52f+0x34aa,0x1d9d+0x530+0x2209*-0x1,0x27e+-0x252e*0x1+0x2339,0x5*-0xcb+-0x5*-0x5ea+0x159*-0x13,0x1*0x269+-0xdc8+0xb5f,0x523+0x2420+0x5e5*-0x7,0x1*0x1359+-0x1*-0xd03+-0x204f,0x10*0x236+0x895*-0x1+-0x1a82*0x1,-0x170b*0x1+-0x1*-0x18a7+-0x158,0x19e9+0x1639+0x67*-0x77,-0x23d2+0x24dc+-0xb6,-0x78e+-0x23d8+0x2bde,-0x1*-0x382+-0x2*0x1c3+0x2*0x6f,0x1cce+0x263e+-0x42a9,0x1193+-0x1ddf+0xcb0,-0x31a*-0x2+0x9ee+-0x136*0xd,-0x260b+0x1b1*0xf+0xd0e,-0x114+0x1*0x1da5+-0x1bdb,-0xe26+-0xc34+-0x1*-0x1a61,0x1022+-0x1*0x892+-0x790,-0xa*-0x202+-0x2676+0x16a*0xd,-0x496+-0x1671+0xdb0*0x2,-0xab*0x26+-0x697+-0x665*-0x5,0xc52+-0xf*-0x173+-0x439*0x8,-0x219b*-0x1+-0x1*-0x551+0x26a9*-0x1,0x76e+0xc7*0x7+-0x22*0x5d,-0x6*-0x3e9+0x3cd*-0xa+0x790*0x2,-0x12c0+0x147*0x3+0xfd8,-0x75b*-0x1+0x536*-0x5+-0x12b3*-0x1,0x1ff4+0x114b*0x1+-0x313f,-0xbd9*0x3+-0xb*0x253+-0x1e8e*-0x2,-0x12*-0x18e+-0x2*-0x945+-0x2e86,0x4*0x409+0x9c6+-0x19a1,0x1*-0x123+0x29*-0x1+-0x191*-0x1,-0x218*-0x10+-0x7*-0x67+-0x2403,-0x104e+0x2*0xe45+-0x1*0xbf8,0x1d90*0x1+-0x2*0x129d+-0x3*-0x2c8,0x1f13+-0x2610+0x73f,0x1*-0xd28+0x1825*-0x1+0x25ad,0x13*-0xfb+0x1a1d+-0x6fa]),C0=(_0x2c6129,_0x248f6b)=>{const _0x416893=new _e(_0x2c6129,{'width':0x1,'height':0x1,'format':Ne,'mipmaps':!(-0xce5*0x1+-0x4ff*0x2+0x16e4),'levels':[_0x248f6b]}),_0x2ff44a=new gt({'colorBuffer':_0x416893,'depth':!(0x8b*0x30+0x1bc+-0x1bcb)});_0x2c6129['setFramebu'+'ffer'](_0x2ff44a['impl']['_glFrameBu'+'ffer']),_0x2c6129['initRender'+'Target'](_0x2ff44a);const _0x7a2203=new Uint8ClampedArray(0x182a+0x233b+-0x13cb*0x3);return _0x2c6129['gl']['readPixels'](0x38*0x7a+-0x20e8+0xc7*0x8,-0x63*0x3a+-0x21b5*0x1+-0x3823*-0x1,-0x127d*0x1+-0x185*-0x16+-0xef0,-0xbba+-0x71*0x2d+-0x2a2*-0xc,_0x2c6129['gl']['RGBA'],_0x2c6129['gl']['UNSIGNED_B'+'YTE'],_0x7a2203),_0x2ff44a['destroy'](),_0x416893['destroy'](),_0x7a2203[-0x7*-0x1b1+0x1404+-0x23*0xe9]===0x21f*-0x12+0x9e5+0x2*0xe25&&_0x7a2203[0x8bc+-0xff2+-0x1*-0x737]===0x2*0x287+-0x443*-0x3+0x53*-0x37&&_0x7a2203[0xed1+0xddd+-0x1cac]===0xd27+-0x65f*0x5+0x3*0x63d&&_0x7a2203[0x2430+-0x1b3d+-0xd*0xb0]===-0x43*-0x89+-0x6*-0x3a9+-0x1*0x3992;},jk=_0x2e1a50=>createImageBitmap(new Blob([A0],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x82015e=>C0(_0x2e1a50,_0x82015e))['catch'](_0x5a982a=>!(-0x2*-0x5c5+0x15ca*-0x1+0xa41)),Yk=_0x82177b=>new Promise((_0x14945c,_0x315431)=>{const _0x5e37fc=new Image();_0x5e37fc['src']=URL['createObje'+'ctURL'](new Blob([A0])),_0x5e37fc['onload']=()=>{_0x14945c(C0(_0x82177b,_0x5e37fc));};});class Kk{static['run'](_0x85c1d1){jk(_0x85c1d1)['then'](_0x5c5b7f=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x5c5b7f);}),Yk(_0x85c1d1)['then'](_0xd44a51=>{console['log']('imgElement'+'IsCorrect='+_0xd44a51);});}}class Zk extends eo{constructor(_0x3b5a28,_0x59f1ac){super(),this['crossOrigi'+'n']=_0x3b5a28['prefix']?'anonymous':null,this['maxRetries']=0x68d+0x5*0x713+-0x29ec,this['device']=_0x59f1ac,mi['get']('IMG_ALPHA_'+'TEST')&&Kk['run'](this['device']);}['load'](_0x38bf40,_0x3c2e6d,_0x28fae5){var _0x50ded0;const _0x3f1f01=!!((_0x50ded0=_0x28fae5==null?void(0x208a+0x204d+-0x40d7):_0x28fae5['file'])!=null&&_0x50ded0['contents']);if(_0x3f1f01){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x28fae5['file']['contents']]),_0x3c2e6d);return;}_0x38bf40={'load':URL['createObje'+'ctURL'](new Blob([_0x28fae5['file']['contents']])),'original':_0x38bf40['original']};}const _0x160ec0=(_0x212240,_0x43a2b3)=>{_0x3f1f01&&URL['revokeObje'+'ctURL'](_0x38bf40['load']),_0x3c2e6d(_0x212240,_0x43a2b3);};let _0x46a688;_0x28fae5&&_0x28fae5['options']&&_0x28fae5['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x46a688=_0x28fae5['options']['crossOrigi'+'n']:jn['test'](_0x38bf40['load'])&&(_0x46a688=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x38bf40['load'],_0x38bf40['original'],_0x46a688,_0x160ec0,_0x28fae5):this['_loadImage'](_0x38bf40['load'],_0x38bf40['original'],_0x46a688,_0x160ec0);}['open'](_0x4fb39c,_0xcb5b3d,_0x56f0b0,_0x3fc626={}){const _0x45f5d6=new _e(_0x56f0b0,{'name':_0x4fb39c,'profilerHint':Pr,'width':_0xcb5b3d['width'],'height':_0xcb5b3d['height'],'format':_0x3fc626['srgb']?_s:Ne,..._0x3fc626});return _0x45f5d6['setSource'](_0xcb5b3d),_0x45f5d6;}['_loadImage'](_0x1f1975,_0x5433a2,_0x2b7cd6,_0x252142){const _0x2ca2a5=new Image();_0x2b7cd6&&(_0x2ca2a5['crossOrigi'+'n']=_0x2b7cd6);let _0x3873c0=-0x2ca+0x1254+0x7c5*-0x2;const _0x2d0445=this['maxRetries'];let _0x30fbc2;_0x2ca2a5['onload']=function(){_0x252142(null,_0x2ca2a5);},_0x2ca2a5['onerror']=function(){if(!_0x30fbc2){if(_0x2d0445>0x2319+-0x3ad*0x1+-0x2*0xfb6&&++_0x3873c0<=_0x2d0445){const _0x951f4d=Math['pow'](-0x1a1f+-0x3*0x7a4+0x310d,_0x3873c0)*(-0x50*0x9+-0x243*0x3+0x9fd);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x5433a2+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x951f4d+'ms...');const _0x1ae672=_0x1f1975['indexOf']('?')>=0x24ff+0x5*0x323+-0x34ae?'&':'?';_0x30fbc2=setTimeout(()=>{_0x2ca2a5['src']=_0x1f1975+_0x1ae672+'retry='+Date['now'](),_0x30fbc2=null;},_0x951f4d);}else _0x252142('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x5433a2+'\x27');}},_0x2ca2a5['src']=_0x1f1975;}['_loadImage'+'Bitmap'](_0x131351,_0x5577e9,_0x98ebae,_0x149ec7,_0x48188c){const _0x1c4c7e={'cache':!(-0x26aa+0xbb7+0x1af3),'responseType':'blob','retry':this['maxRetries']>-0x293+-0xbe8+0xe7b,'maxRetries':this['maxRetries'],'progress':_0x48188c};ot['get'](_0x131351,_0x1c4c7e,(_0x51d91d,_0x26da8f)=>{_0x51d91d?_0x149ec7(_0x51d91d):this['_loadImage'+'BitmapFrom'+'Blob'](_0x26da8f,_0x149ec7);});}['_loadImage'+'BitmapFrom'+'Blob'](_0x3f6300,_0x3f5463){createImageBitmap(_0x3f6300,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x2feaa5=>_0x3f5463(null,_0x2feaa5))['catch'](_0x24ac15=>_0x3f5463(_0x24ac15));}}const If=[0x1*-0x808279ed+0x547423a9+0x8462a1ef,-0xe3690cba+-0x53*-0x106a4e9+0x14972c64f,0xaf*-0x9fedd+-0x23efe75+0x132e4195],Qk={0x83f0:td,0x83f2:op,0x83f3:vl,0x8d64:id,0x9274:cp,0x9278:hp,0x8c00:rd,0x8c01:xl,0x8c02:ad,0x8c03:Tl,0x8051:Cr,0x8058:Ne,0x8c41:lp,0x8c43:_s,0x8c3a:In,0x881b:ui,0x881a:nt};function Jk(_0x3d6119,_0x4386f1,_0x31321c,_0x39018e){return _0x3d6119===In?new Uint32Array(_0x4386f1,_0x31321c,_0x39018e/(0x253a+0x7c5+0x8ff*-0x5)):new Uint8Array(_0x4386f1,_0x31321c,_0x39018e);}class eU extends eo{constructor(_0x21df9b){super(),this['maxRetries']=-0x1079+-0x1fd+-0x11*-0x116;}['load'](_0x1c2849,_0x3c7a65,_0x1b0e0a){pe['fetchArray'+'Buffer'](_0x1c2849['load'],_0x3c7a65,_0x1b0e0a,this['maxRetries']);}['open'](_0x1662d1,_0x3bf34e,_0x58bfeb,_0x192d59={}){const _0x1bbe04=this['parse'](_0x3bf34e);if(!_0x1bbe04)return null;const _0x222059=_0x192d59['srgb']?ld(_0x1bbe04['format']):_0x1bbe04['format'],_0x1c2186=new _e(_0x58bfeb,{'name':_0x1662d1,'profilerHint':Pr,'addressU':_0x1bbe04['cubemap']?ue:yt,'addressV':_0x1bbe04['cubemap']?ue:yt,'width':_0x1bbe04['width'],'height':_0x1bbe04['height'],'format':_0x222059,'cubemap':_0x1bbe04['cubemap'],'levels':_0x1bbe04['levels'],..._0x192d59});return _0x1c2186['upload'](),_0x1c2186;}['parse'](_0x5f135e){const _0x2f3357=new Uint32Array(_0x5f135e);if(If[-0x68d+-0x2491+0x2b1e*0x1]!==_0x2f3357[0x2*-0x124f+-0x1*0x1693+-0x1*-0x3b31]||If[-0x526*-0x7+-0x637*0x2+-0x179b]!==_0x2f3357[0x1*0x1fa1+0x2*-0xd5a+-0x4ec]||If[-0x1c4b+-0x224*-0x6+0xf75]!==_0x2f3357[-0x2*-0x124d+-0x537*0x1+-0x1d*0x115])return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x58c282={'endianness':_0x2f3357[-0xe*-0x1f2+0xc2f*0x1+-0x1a*0x184],'glType':_0x2f3357[0x2*0x2db+0xb*0x17+-0x6af],'glTypeSize':_0x2f3357[0xe89+0x637+-0x14bb*0x1],'glFormat':_0x2f3357[-0x96*0x1b+0x163*-0x9+0x1c53],'glInternalFormat':_0x2f3357[-0x7*0x38f+-0x74b+0x203b],'glBaseInternalFormat':_0x2f3357[0xc62*-0x2+-0x11d9+0x4bd*0x9],'pixelWidth':_0x2f3357[0x4c3+-0x16d1+0x1217],'pixelHeight':_0x2f3357[-0x9*-0x35f+0x13*-0x125+-0x1*0x88e],'pixelDepth':_0x2f3357[0xb3*-0x1a+0x1a*-0x59+-0x7*-0x3e5],'numberOfArrayElements':_0x2f3357[0xc92+0x1*-0x115a+0x6*0xce],'numberOfFaces':_0x2f3357[-0x7*-0x20e+0x1b20+-0x1*0x2975],'numberOfMipmapLevels':_0x2f3357[0x1978+0x1852*-0x1+0x46*-0x4],'bytesOfKeyValueData':_0x2f3357[0x7*0xa2+-0x1*-0x296+-0x89*0xd]};if(_0x58c282['pixelDepth']>-0xce*0x26+0x1606+0x88f)return w['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x58c282['numberOfAr'+'rayElement'+'s']!==0x355*0x2+0x193a+-0x1fe4)return w['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x42453f=Qk[_0x58c282['glInternal'+'Format']];if(_0x42453f===void(0x9c7+0x92a+0x175*-0xd))return w['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x58c282['glInternal'+'Format']),null;let _0x303029=-0x62f*0x5+-0xd1*0x23+0x3b8e+_0x58c282['bytesOfKey'+'ValueData']/(0x263*-0x2+-0x2547+-0x59*-0x79);const _0x5f23d8=_0x58c282['numberOfFa'+'ces']>-0x34*0x2+0x9f5*0x3+0x4e9*-0x6,_0x434bdf=[];for(let _0xe88773=0xb55+-0xdf*0xb+-0x2*0xe0;_0xe88773<(_0x58c282['numberOfMi'+'pmapLevels']||-0x17*-0x2f+0x4*0x743+-0x2144);_0xe88773++){const _0x4eb5b2=_0x2f3357[_0x303029++];_0x5f23d8&&_0x434bdf['push']([]);const _0x33aa2e=_0x5f23d8?_0x434bdf[_0xe88773]:_0x434bdf;for(let _0x38d12b=-0x1530+0x11cb*0x2+-0xe66*0x1;_0x38d12b<(_0x5f23d8?-0x1d3*-0x4+0x27*0x7f+-0x1a9f:-0xb*0xeb+0x20dc+-0x16c2);++_0x38d12b)_0x33aa2e['push'](Jk(_0x42453f,_0x5f135e,_0x303029*(-0x1598*0x1+0x1b77+0x5db*-0x1),_0x4eb5b2)),_0x303029+=_0x4eb5b2+(0x986+0x1a89*0x1+-0x240c)>>-0x2*0x69e+0x795+-0x7*-0xcf;}return{'format':_0x42453f,'width':_0x58c282['pixelWidth'],'height':_0x58c282['pixelHeigh'+'t'],'levels':_0x434bdf,'cubemap':_0x5f23d8};}}const tU={'KHR_DF_MODEL_UASTC':0xa6};class sU extends eo{constructor(_0x5a6c14,_0x411e27){super(),this['maxRetries']=0x13a2+0x3a0+-0x2*0xba1,this['device']=_0x411e27;}['load'](_0x2ef549,_0x135d7f,_0x4e51a9){pe['fetchArray'+'Buffer'](_0x2ef549['load'],(_0x1d7fe3,_0x455beb)=>{_0x1d7fe3?_0x135d7f(_0x1d7fe3,_0x455beb):this['parse'](_0x455beb,_0x2ef549,_0x135d7f,_0x4e51a9);},_0x4e51a9,this['maxRetries']);}['open'](_0x348dfb,_0x2ab5cc,_0x4a402f,_0x1707d6={}){const _0x4510d8=_0x1707d6['srgb']?ld(_0x2ab5cc['format']):_0x2ab5cc['format'],_0x423a1e=new _e(_0x4a402f,{'name':_0x348dfb,'profilerHint':Pr,'addressU':_0x2ab5cc['cubemap']?ue:yt,'addressV':_0x2ab5cc['cubemap']?ue:yt,'width':_0x2ab5cc['width'],'height':_0x2ab5cc['height'],'format':_0x4510d8,'cubemap':_0x2ab5cc['cubemap'],'levels':_0x2ab5cc['levels'],..._0x1707d6});return _0x423a1e['upload'](),_0x423a1e;}['parse'](_0x349275,_0x5a1508,_0x2d69dc,_0x1397ee){var _0x412a71,_0x3d15b4,_0xde5d23;const _0xda6a63=new KS(_0x349275),_0x3461ac=[_0xda6a63['readU32be'](),_0xda6a63['readU32be'](),_0xda6a63['readU32be']()];if(_0x3461ac[0x1ab*-0x1+-0x11d4+0x137f]!==0x24*-0x8569ebe+-0x8add287c+0x26256cf8c||_0x3461ac[-0xfc6+0x4b*0x83+-0x107*0x16]!==0xf90*-0x2f7d+-0x1fb4*-0x14e3b+-0x64eec71||_0x3461ac[0x26*0xf9+0x1470+-0x3964]!==0x102ddd5*-0xf+-0x3abb1a0+0x1fe0cb25)return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x5e7b6e={'vkFormat':_0xda6a63['readU32'](),'typeSize':_0xda6a63['readU32'](),'pixelWidth':_0xda6a63['readU32'](),'pixelHeight':_0xda6a63['readU32'](),'pixelDepth':_0xda6a63['readU32'](),'layerCount':_0xda6a63['readU32'](),'faceCount':_0xda6a63['readU32'](),'levelCount':_0xda6a63['readU32'](),'supercompressionScheme':_0xda6a63['readU32']()},_0x24fcdb={'dfdByteOffset':_0xda6a63['readU32'](),'dfdByteLength':_0xda6a63['readU32'](),'kvdByteOffset':_0xda6a63['readU32'](),'kvdByteLength':_0xda6a63['readU32'](),'sgdByteOffset':_0xda6a63['readU64'](),'sgdByteLength':_0xda6a63['readU64']()},_0x2dac96=[];for(let _0x20ae36=-0x12d*0x1+-0x3*-0x95a+-0x1ae1;_0x20ae36<Math['max'](-0x1a0d+-0xf0c+0x291a*0x1,_0x5e7b6e['levelCount']);++_0x20ae36)_0x2dac96['push']({'byteOffset':_0xda6a63['readU64'](),'byteLength':_0xda6a63['readU64'](),'uncompressedByteLength':_0xda6a63['readU64']()});if(_0xda6a63['readU32']()!==_0x24fcdb['kvdByteOff'+'set']-_0x24fcdb['dfdByteOff'+'set'])return w['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0xda6a63['skip'](0x2*-0x588+-0x256c+-0xcf*-0x3c);const _0x39ecf2=_0xda6a63['readU8']();_0xda6a63['skip'](_0x24fcdb['dfdByteLen'+'gth']-(0xab0+0x41*0x7f+-0x2ae6)),_0xda6a63['skip'](_0x24fcdb['kvdByteLen'+'gth']),_0x5e7b6e['supercompr'+'essionSche'+'me']===-0x1b91+0x228a+0xdf*-0x8||_0x39ecf2===tU['KHR_DF_MOD'+'EL_UASTC']?b0(this['device'],_0x5a1508['load'],_0x349275,_0x2d69dc,{'isGGGR':(((_0xde5d23=(_0x3d15b4=(_0x412a71=_0x1397ee==null?void(0x1b28+0x18ab*0x1+-0x33d3*0x1):_0x1397ee['file'])==null?void(-0x1f*-0x6d+0x254*-0x4+-0xc7*0x5):_0x412a71['variants'])==null?void(-0x1494+0x6*-0x377+-0x1*-0x295e):_0x3d15b4['basis'])==null?void(0x10*-0x261+0xe41*0x1+0x17cf):_0xde5d23['opt'])&-0x1*0x7c1+0x3*-0x1e9+0xd84)!==-0x2e*-0xb1+0x1eda+0x3ea8*-0x1,'isKTX2':!(-0xc08+0xef*-0x13+0x1dc5)})||_0x2d69dc('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x1397ee['name']+']('+_0x1397ee['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0x2d69dc('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class iU extends eo{constructor(_0x560b33){super(),this['maxRetries']=-0x1d08+0x1*-0x1192+0x2e9a;}['load'](_0xd67044,_0x5ba60e,_0x23ded4){pe['fetchArray'+'Buffer'](_0xd67044['load'],_0x5ba60e,_0x23ded4,this['maxRetries']);}['open'](_0x960d37,_0x7597b,_0x28bc60,_0x419509={}){const _0x3dcc7b=new Uint32Array(_0x7597b,0x1*0x1553+0xa4b+-0x1f9e,-0x1*0xb0f+-0xe60+0x198f),_0x428b1a=_0x3dcc7b[0x985*-0x1+-0xba*0x1f+0x200f],_0x2c0b9d=_0x3dcc7b[-0x1*-0x1999+0x1*0x177b+0x35*-0xed],_0x2a74cf=Math['max'](_0x3dcc7b[-0x510+0x1cd*0xa+0xceb*-0x1],-0x5*0x385+-0x24e*0x8+0x2*0x1205),_0x387439=_0x3dcc7b[0x771+0x7*-0xef+-0xd4]===-0x1d2*-0x3+-0x1*0x2638+0x20c6,_0x2d5ad6=_0x3dcc7b[-0x17d3+0x1f4d*-0x1+0x3735],_0x440a4a=_0x3dcc7b[0x4f*-0x45+0x8*-0x16a+0x20b1*0x1],_0x550715=_0x3dcc7b[0xea7*-0x2+-0x1762+0x34cc]===0x1ab30+0x5892+0x1a2d*-0xa,_0x45a14d=-0x58c707b+-0x3fcd8cc1+0x76ae5580,_0x430759=-0xa2df8c6*0x3+-0x43ef0c06+0x4*0x25f353a7,_0x12980e=0x93f*0x3+0x31*-0x23+0x1*-0x1499,_0xe2bb06=-0x4fc*-0x5+-0x3f*0x65+0x63,_0x296350=-0x4df3*0x13d05+-0x2a9d*-0x19675+-0x9*-0x8ae79eb,_0x16095d=-0x84f665*-0xa4+-0x58669ab+-0x1e743cb9,_0x2d262c=-0xbcd884f*-0x5+0x146f6633*-0x1+0xa9feef8,_0x42c9f3=-0x13340f*0x35b+0x1*0x1aa32ba1+0x56ffb704,_0x592d20=0x5fca27a4+0xaf810f0*-0x6+0x19a3431*0xc;let _0x362531=!(0x17*-0x1ac+0x213c+0x539),_0xebec33=!(-0x1867+0xe9*0xe+0xbaa),_0x5b08f3=!(-0x7b*-0x3d+-0x464*-0x4+-0x2ede),_0x137cc0=!(-0x2*-0xe7c+-0x1*-0x26ab+-0x43a2*0x1),_0xf6c34d=null,_0x5e079b=-0x47d*-0x3+-0x2033+0x12bd,_0x1e51a9;if(_0x387439?_0x2d5ad6===_0x45a14d?(_0xf6c34d=td,_0x362531=!(-0x1095*-0x2+-0x104e+-0x10dc)):_0x2d5ad6===_0x430759?(_0xf6c34d=vl,_0x362531=!(0x74*-0x4+-0xe39*0x1+0x1009*0x1)):_0x2d5ad6===_0x12980e?(_0xf6c34d=nt,_0x5e079b=-0x2614*0x1+-0xaed+0x3103):_0x2d5ad6===_0xe2bb06?(_0xf6c34d=Xt,_0x5e079b=-0x26f3+-0x3*0x84e+0x3fe1):_0x2d5ad6===_0x296350?(_0xf6c34d=id,_0x362531=!(0x24a2+0x22d4+-0x4776),_0xebec33=!(0x1774+-0x6ce*0x3+-0x30a)):_0x2d5ad6===_0x16095d||_0x2d5ad6===_0x2d262c?(_0xf6c34d=_0x2d5ad6===_0x16095d?xl:Tl,_0x362531=!(0x1*-0x1829+0x68*0x26+-0x1d*-0x4d),_0x5b08f3=!(0xf78+-0x209*0x1+-0xd6f)):(_0x2d5ad6===_0x42c9f3||_0x2d5ad6===_0x592d20)&&(_0xf6c34d=_0x2d5ad6===_0x42c9f3?rd:ad,_0x362531=!(-0x1ccf+-0x116+0x3*0x9f7),_0x137cc0=!(-0x1a87+0x1f*-0x7f+-0x37e*-0xc)):_0x440a4a===-0x6*0x473+-0xce1+0x27b3&&(_0xf6c34d=Ne),!_0xf6c34d)return w['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x960d37+'.'),_0x1e51a9=new _e(_0x28bc60,{'width':0x4,'height':0x4,'format':Cr,'name':'dds-legacy'+'-empty'}),_0x1e51a9;_0x1e51a9=new _e(_0x28bc60,{'name':_0x960d37,'profilerHint':Pr,'addressU':_0x550715?ue:yt,'addressV':_0x550715?ue:yt,'width':_0x428b1a,'height':_0x2c0b9d,'format':_0xf6c34d,'cubemap':_0x550715,'mipmaps':_0x2a74cf>0x1*0x346+0x826+-0xb6b,..._0x419509});let _0xc2c72c=0xee1+-0x1a6e+0xc0d;const _0x3c093d=_0x550715?0x1aa*-0xd+-0x2423+0x541*0xb:-0x12e9+0x1b14+0xbe*-0xb;let _0x24349d;const _0x1e82d6=-0x180d+-0x3c+0x184d,_0x4a1111=-0x337+-0x112*-0x1+-0x1*-0x229,_0x17d57d=_0x2d5ad6===_0x45a14d?-0xa28*-0x2+0x12a*0xf+0x25be*-0x1:-0x4*-0x64d+0xbd5+0x277*-0xf;let _0x5a667c,_0x43bc37,_0x288225;for(let _0x2c1f7c=0x1*0x1c1f+0xf4e+-0x2b6d*0x1;_0x2c1f7c<_0x3c093d;_0x2c1f7c++){let _0x4ce241=_0x428b1a,_0x560e9e=_0x2c0b9d;for(let _0x105710=0x4e9*0x7+-0x35*0xc+-0x38b*0x9;_0x105710<_0x2a74cf;_0x105710++){_0x362531?_0xebec33?_0x24349d=Math['floor']((_0x4ce241+(-0x285+0x1948+-0x16c0))/(0x521+-0x1*0x595+0x5*0x18))*Math['floor']((_0x560e9e+(-0xb89*0x1+-0x13*-0xdd+0x1*-0x4db))/(0x181*-0x14+-0xa*0x2bb+0x1322*0x3))*(0x1384*0x2+-0x26db+-0x25):_0x5b08f3?_0x24349d=Math['max'](_0x4ce241,0x6a4+0x1d08+-0x239c)*Math['max'](_0x560e9e,-0x5*0x5ca+-0x1*-0x1e9+0x1b11)/(0x19fc+0x40f+-0x1e07):_0x137cc0?_0x24349d=Math['max'](_0x4ce241,0x86b*-0x2+0x162+0xf7c)*Math['max'](_0x560e9e,0x6dc*-0x2+-0x67*0x47+-0xe1b*-0x3)/(0x18e7+-0x14d5+0xd0*-0x5):(_0x5a667c=Math['floor']((_0x4ce241+_0x1e82d6-(-0x20*-0x55+0x1176+-0x1c15))/_0x1e82d6),_0x43bc37=Math['floor']((_0x560e9e+_0x4a1111-(0x611*0x5+0x26bb+-0x450f))/_0x4a1111),_0x288225=_0x5a667c*_0x43bc37,_0x24349d=_0x288225*_0x17d57d):_0x24349d=_0x4ce241*_0x560e9e*(-0x427+-0x1ed+0x3c*0x1a);const _0x1dec08=_0xf6c34d===Xt?new Float32Array(_0x7597b,_0xc2c72c,_0x24349d):_0xf6c34d===nt?new Uint16Array(_0x7597b,_0xc2c72c,_0x24349d):new Uint8Array(_0x7597b,_0xc2c72c,_0x24349d);_0x550715?(_0x1e51a9['_levels'][_0x105710]||(_0x1e51a9['_levels'][_0x105710]=[]),_0x1e51a9['_levels'][_0x105710][_0x2c1f7c]=_0x1dec08):_0x1e51a9['_levels'][_0x105710]=_0x1dec08,_0xc2c72c+=_0x24349d*_0x5e079b,_0x4ce241=Math['max'](_0x4ce241*(0x20c6+-0x921+0x1*-0x17a5+0.5),-0x1845+0xb16+0xd30),_0x560e9e=Math['max'](_0x560e9e*(0x28*0xd9+0x4*-0x8c3+0x124+0.5),0x1*-0x581+-0x6*0x153+0xd74);}}return _0x1e51a9['upload'](),_0x1e51a9;}}class rU extends eo{constructor(_0x46effb){super(),this['maxRetries']=0x1b56+0x20ca+-0x3c20;}['load'](_0x20acdf,_0x5dba0f,_0x4c4a3f){pe['fetchArray'+'Buffer'](_0x20acdf['load'],_0x5dba0f,_0x4c4a3f,this['maxRetries']),_0x4c4a3f['data']&&!_0x4c4a3f['data']['type']&&(_0x4c4a3f['data']['type']=mh);}['open'](_0x452552,_0x21e7ea,_0x456f61,_0x5697a1={}){const _0x481507=this['parse'](_0x21e7ea);if(!_0x481507)return null;const _0x40ed68=new _e(_0x456f61,{'name':_0x452552,'profilerHint':Pr,'addressU':yt,'addressV':ue,'minFilter':Te,'magFilter':Te,'width':_0x481507['width'],'height':_0x481507['height'],'levels':_0x481507['levels'],'format':Ne,'type':mh,'mipmaps':!(0x1839+0x4ab+-0x1ce3),..._0x5697a1});return _0x40ed68['upload'](),_0x40ed68;}['parse'](_0x10ec13){const _0x41ad61=new KS(_0x10ec13);if(!_0x41ad61['readLine']()['startsWith']('#?RADIANCE'))return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x5d5905={};for(;;){const _0x30ca2d=_0x41ad61['readLine']();if(_0x30ca2d['length']===0x2*0xa49+0x0+-0x1492)break;{const _0x2aee21=_0x30ca2d['split']('=');_0x2aee21['length']===-0x5fb*0x3+-0x68a+-0x187d*-0x1&&(_0x5d5905[_0x2aee21[-0x17ad*0x1+0x24a6+0x171*-0x9]]=_0x2aee21[-0x2ef*0x1+-0x18e8+-0x12*-0x18c]);}}if(!_0x5d5905['hasOwnProp'+'erty']('FORMAT'))return w['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x55de8d=_0x41ad61['readLine']()['split']('\x20');if(_0x55de8d['length']!==-0x1*-0x47+0x1c75+-0x1cb8)return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0xdb48f0=parseInt(_0x55de8d[0x8*-0x4cf+0x12a9+0x9e8*0x2],0x1bba+-0xc9*0x2a+0x54a*0x1),_0x493abc=parseInt(_0x55de8d[0xa*-0x236+-0x1008*0x2+-0x362f*-0x1],-0x1*0x1985+-0x1509+-0x3e2*-0xc),_0x5e25cd=this['_readPixel'+'s'](_0x41ad61,_0x493abc,_0xdb48f0,_0x55de8d[-0x1adc+-0x1*0x1ef1+0x39cd]==='-Y');return _0x5e25cd?{'width':_0x493abc,'height':_0xdb48f0,'levels':[_0x5e25cd]}:null;}['_readPixel'+'s'](_0x85dbd2,_0x39b043,_0x59ec7c,_0xd1d1d4){if(_0x39b043<0x8b*-0x39+-0x8*0x2fe+0x36eb||_0x39b043>0x737*0xa+0x689f*-0x1+0x62c*0x1a)return this['_readPixel'+'sFlat'](_0x85dbd2,_0x39b043,_0x59ec7c);const _0xcc012c=[-0xac*0x8+0x23d8+-0x138*0x19,0x74d+0x74*0x1d+-0x1471*0x1,-0x88f*0x4+-0xd4c+0x3f6*0xc,-0x24a4*0x1+-0x47f*0x1+-0x1*-0x2923];if(_0x85dbd2['readArray'](_0xcc012c),_0xcc012c[0x4*-0x15f+-0x23f*-0x1+0x33d]!==0x1*0xec3+0x1a1a+-0x1*0x28db||_0xcc012c[-0x1227+-0x8bd*-0x3+0x80f*-0x1]!==-0x1ec+0x1*-0x1b1d+0x1d0b||(_0xcc012c[0x4e*-0xe+-0x49+0x48f]&-0x19dc+-0x9*0x397+-0x17*-0x28d)!==0xeb3+0x3b*0x2c+-0x18d7)return _0x85dbd2['skip'](-(-0x11bd+0x1*-0xb07+0x1cc8)),this['_readPixel'+'sFlat'](_0x85dbd2,_0x39b043,_0x59ec7c);const _0xe09d87=new ArrayBuffer(_0x39b043*_0x59ec7c*(0x2*0xe6e+0x13d8+-0x30b0)),_0x3c10d4=new Uint8Array(_0xe09d87);let _0x2b91b3=_0xd1d1d4?-0x3ce*-0x7+0x2385*-0x1+-0xd*-0xaf:_0x39b043*(-0x6da+0x1*-0xe48+0x1526)*(_0x59ec7c-(-0x26b1+-0x1446+0x3af8)),_0xf95f51,_0x3908bc,_0x55d320,_0x17457f,_0x51414e,_0x23f878;for(_0x3908bc=0xa39*0x1+-0xe1b*-0x1+-0x1854;_0x3908bc<_0x59ec7c;++_0x3908bc){if(_0x3908bc&&_0x85dbd2['readArray'](_0xcc012c),(_0xcc012c[-0x13bd+-0x10fb+0x24ba]<<0xf3*0x1f+0x4*0x8ad+-0x1*0x4019)+_0xcc012c[-0x496+-0x26+0x4bf]!==_0x39b043)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x17457f=-0x215b+0x11c2*-0x1+0x331d;_0x17457f<0x16af+0xd72+-0xd7*0x2b;++_0x17457f)for(_0xf95f51=0x135f+-0xb*-0x8b+-0x1958;_0xf95f51<_0x39b043;)if(_0x51414e=_0x85dbd2['readU8'](),_0x51414e>-0x1157+-0x2599+0x377*0x10){if(_0x51414e-=0x1c2d+0x722+0x22cf*-0x1,_0xf95f51+_0x51414e>_0x39b043)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x23f878=_0x85dbd2['readU8'](),_0x55d320=-0x1b9f+-0x20fb+0x3c9a;_0x55d320<_0x51414e;++_0x55d320)_0x3c10d4[_0x2b91b3+_0x17457f+(0x827*-0x1+-0x1760+0x1a9*0x13)*_0xf95f51++]=_0x23f878;}else{if(_0x51414e===0x1cbc*-0x1+0xbd4*0x2+0x514||_0xf95f51+_0x51414e>_0x39b043)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x55d320=-0xbf9+0xf2+-0xb07*-0x1;_0x55d320<_0x51414e;++_0x55d320)_0x3c10d4[_0x2b91b3+_0x17457f+(0xd1c+-0x2*-0xbea+0x116*-0x22)*_0xf95f51++]=_0x85dbd2['readU8']();}_0x2b91b3+=_0x39b043*(-0x1b62*0x1+-0x2f5*0x4+-0x273a*-0x1)*(_0xd1d1d4?0x6ee*0x2+-0x2c5+0x6*-0x1d9:-(0x1f4b+0x47*-0x49+0x101*-0xb));}return _0x3c10d4;}['_readPixel'+'sFlat'](_0xea014e,_0x153728,_0x2c7c59){return _0xea014e['remainingB'+'ytes']===_0x153728*_0x2c7c59*(0x1a2b+0xbbe+-0x25e5)?new Uint8Array(_0xea014e['arraybuffe'+'r'],_0xea014e['offset']):null;}}const TS={'repeat':yt,'clamp':ue,'mirror':ip},wS={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},aU={'default':Ds,'rgbm':Zi,'rgbe':mh,'rgbp':Qo,'swizzleGGGR':Jo},nU=function(_0x5c1e6d){const _0x138b38=Xi['calcMipLev'+'elsCount'](_0x5c1e6d['_width'],_0x5c1e6d['_height']),_0x214236=function(_0x1d11cf){return _0x1d11cf instanceof HTMLCanvasElement||_0x1d11cf instanceof HTMLImageElement||_0x1d11cf instanceof HTMLVideoElement;};if(!(_0x5c1e6d['_format']===Ne||_0x5c1e6d['_format']===Xt)||_0x5c1e6d['_volume']||_0x5c1e6d['_compresse'+'d']||_0x5c1e6d['_levels']['length']===-0xd3*0x17+0x1*0x15b9+-0x7*0x65||_0x5c1e6d['_levels']['length']===_0x138b38||_0x214236(_0x5c1e6d['_cubemap']?_0x5c1e6d['_levels'][-0x15f8+0x12e0+-0x6*-0x84][0x5*-0x752+-0x80*-0x3d+0x61a]:_0x5c1e6d['_levels'][-0x652*0x1+0x11*0x1fc+-0x1b6a]))return;const _0x3092b5=function(_0x37da70,_0x48058b,_0x9cee80){const _0x2fe88c=Math['max'](0xb26*-0x1+-0x12df*0x2+0x1*0x30e5,_0x37da70>>-0x1305*-0x1+0x1*0x232f+-0x3633),_0xb2b76d=Math['max'](0x7b2+-0xb27+0x376,_0x48058b>>-0x989+-0xbd+0xa47),_0x2a6dba=new _0x9cee80['constructo'+'r'](_0x2fe88c*_0xb2b76d*(-0x2406+0x29*-0x26+0x20*0x151)),_0x3b110b=Math['floor'](_0x37da70/_0x2fe88c),_0x915d63=Math['floor'](_0x48058b/_0xb2b76d),_0xce6916=_0x3b110b*_0x915d63;for(let _0x358a2d=-0x25c9+0x1*0x2428+0x1a1;_0x358a2d<_0xb2b76d;++_0x358a2d)for(let _0x4147de=0x3*0x1e3+0x183e+-0x1de7;_0x4147de<_0x2fe88c;++_0x4147de)for(let _0x421b1a=-0xb04+-0x1ca8+-0x2*-0x13d6;_0x421b1a<0x116a+-0x2ef+0x7*-0x211;++_0x421b1a){let _0x488daf=0x2f*-0x5d+0xeda+0x239;for(let _0x1a22be=0x1f04*0x1+0x225+-0xd*0x28d;_0x1a22be<_0x915d63;++_0x1a22be)for(let _0x10f3af=0x1*0x899+0xf*-0x22c+-0x17fb*-0x1;_0x10f3af<_0x3b110b;++_0x10f3af)_0x488daf+=_0x9cee80[(_0x4147de*_0x3b110b+_0x10f3af+(_0x358a2d*_0x915d63+_0x1a22be)*_0x37da70)*(0x3b1+0x2*0xb3e+0x1*-0x1a29)+_0x421b1a];_0x2a6dba[(_0x4147de+_0x358a2d*_0x2fe88c)*(-0x2e*0x75+-0x1881+0x2d8b)+_0x421b1a]=_0x488daf/_0xce6916;}return _0x2a6dba;};for(let _0x32c8fb=_0x5c1e6d['_levels']['length'];_0x32c8fb<_0x138b38;++_0x32c8fb){const _0x34774a=Math['max'](0x101b+-0x1438*0x1+0x41e,_0x5c1e6d['_width']>>_0x32c8fb-(-0x1002*0x2+-0x1cd2+0x3cd7)),_0x28d777=Math['max'](0x20c3+0xd*-0x2b4+0x262,_0x5c1e6d['_height']>>_0x32c8fb-(-0x145*0xd+-0x246a+0xc*0x469));if(_0x5c1e6d['_cubemap']){const _0x380d9a=[];for(let _0x3dbf9e=-0xfea+0xbdb+0x40f;_0x3dbf9e<0x158*0x17+0x2*-0xfb1+-0x40*-0x2;++_0x3dbf9e)_0x380d9a['push'](_0x3092b5(_0x34774a,_0x28d777,_0x5c1e6d['_levels'][_0x32c8fb-(-0x10e2+0x1f6b+0x3e*-0x3c)][_0x3dbf9e]));_0x5c1e6d['_levels']['push'](_0x380d9a);}else _0x5c1e6d['_levels']['push'](_0x3092b5(_0x34774a,_0x28d777,_0x5c1e6d['_levels'][_0x32c8fb-(0xecb*-0x1+0x2479*-0x1+0x3345)]));}_0x5c1e6d['_levelsUpd'+'ated']=_0x5c1e6d['_cubemap']?[[!(-0xfa1+0x79+0x308*0x5),!(-0x2*0xcca+-0x1774+0x3108),!(0x1c33*-0x1+-0x6c9+0x22fc),!(0x21*0x55+0x1793+-0x2288),!(-0x36*0x39+-0x77e+0x1384),!(0x75f+0x3*0x94d+-0x2346)]]:[!(-0x6f7+0x6*0x4d+0x529)];};class oU extends Qe{constructor(_0x2991c9){super(_0x2991c9,'texture');const _0x25111a=_0x2991c9['assets'],_0x1fb2f8=_0x2991c9['graphicsDe'+'vice'];this['_device']=_0x1fb2f8,this['_assets']=_0x25111a,this['imgParser']=new Zk(_0x25111a,_0x1fb2f8),this['parsers']={'dds':new iU(_0x25111a),'ktx':new eU(_0x25111a),'ktx2':new sU(_0x25111a,_0x1fb2f8),'basis':new qk(_0x25111a,_0x1fb2f8),'hdr':new rU(_0x25111a)};}set['crossOrigi'+'n'](_0x122956){this['imgParser']['crossOrigi'+'n']=_0x122956;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x33596e){this['imgParser']['maxRetries']=_0x33596e;for(const _0x11afdb in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x11afdb)&&(this['parsers'][_0x11afdb]['maxRetries']=_0x33596e);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x1816ea){return _0x1816ea['indexOf']('?')>=0x3*0x12+-0x25a0+0x256a?_0x1816ea['split']('?')[-0x19ba*0x1+0xe5*0x1f+0xab*-0x3]:_0x1816ea;}['_getParser'](_0x6e896f){const _0x1f4d15=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x6e896f))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x1f4d15]||this['imgParser'];}['_getTextur'+'eOptions'](_0x265511){var _0x98f4a8;const _0x3d388e={'profilerHint':Pr};if(_0x265511){((_0x98f4a8=_0x265511['name'])==null?void(-0x1*-0xc56+0x54b*0x2+-0xc*0x1e9):_0x98f4a8['length'])>-0x3*-0xcf2+-0x1*0x1003+-0x16d3&&(_0x3d388e['name']=_0x265511['name']);const _0x595f9e=_0x265511['data'];_0x595f9e['hasOwnProp'+'erty']('minfilter')&&(_0x3d388e['minFilter']=wS[_0x595f9e['minfilter']]),_0x595f9e['hasOwnProp'+'erty']('magfilter')&&(_0x3d388e['magFilter']=wS[_0x595f9e['magfilter']]),_0x595f9e['hasOwnProp'+'erty']('addressu')&&(_0x3d388e['addressU']=TS[_0x595f9e['addressu']]),_0x595f9e['hasOwnProp'+'erty']('addressv')&&(_0x3d388e['addressV']=TS[_0x595f9e['addressv']]),_0x595f9e['hasOwnProp'+'erty']('mipmaps')&&(_0x3d388e['mipmaps']=_0x595f9e['mipmaps']),_0x595f9e['hasOwnProp'+'erty']('anisotropy')&&(_0x3d388e['anisotropy']=_0x595f9e['anisotropy']),_0x595f9e['hasOwnProp'+'erty']('flipY')&&(_0x3d388e['flipY']=!!_0x595f9e['flipY']),_0x595f9e['hasOwnProp'+'erty']('srgb')&&(_0x3d388e['srgb']=!!_0x595f9e['srgb']),_0x3d388e['type']=Ds,_0x595f9e['hasOwnProp'+'erty']('type')?_0x3d388e['type']=aU[_0x595f9e['type']]:_0x595f9e['hasOwnProp'+'erty']('rgbm')&&_0x595f9e['rgbm']?_0x3d388e['type']=Zi:_0x265511['file']&&(_0x265511['file']['opt']&0x47b*-0x5+0x24cc+-0xe5d)!==0x371*-0x5+0xdd1+0x364&&(_0x3d388e['type']=Jo);}return _0x3d388e;}['load'](_0x105708,_0x3403cb,_0x432056){typeof _0x105708=='string'&&(_0x105708={'load':_0x105708,'original':_0x105708}),this['_getParser'](_0x105708['original'])['load'](_0x105708,_0x3403cb,_0x432056);}['open'](_0x2b00de,_0x94c007,_0x216789){if(!_0x2b00de)return;const _0x492c73=this['_getTextur'+'eOptions'](_0x216789);let _0x5687bc=this['_getParser'](_0x2b00de)['open'](_0x2b00de,_0x94c007,this['_device'],_0x492c73);return _0x5687bc===null?_0x5687bc=new _e(this['_device'],{'width':0x4,'height':0x4,'format':Cr}):(nU(_0x5687bc),_0x94c007['unswizzled'+'GGGR']&&(_0x216789['file']['variants']['basis']['opt']&=-(-0xc12+-0x15b*0x7+0x1598))),_0x5687bc;}['patch'](_0x3a5bb1,_0x4c9cce){const _0x53e554=_0x3a5bb1['resource'];if(!_0x53e554)return;const _0x50f8a0=this['_getTextur'+'eOptions'](_0x3a5bb1);for(const _0x36ddcf of Object['keys'](_0x50f8a0))_0x53e554[_0x36ddcf]=_0x50f8a0[_0x36ddcf];}}const lU='inline',cU='immersive-'+'vr',$o='immersive-'+'ar',ES='viewer',hU='left',dU='cpu-optimi'+'zed',P0='gpu-optimi'+'zed',M0='luminance-'+'alpha',D0='unsigned-s'+'hort',I0='float32';class fU{constructor(_0x2fd02c){h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRDOMOverl'+'ayState']),h(this,'_root',null),this['_manager']=_0x2fd02c;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x251fa3){!this['_supported']||this['_manager']['active']||(this['_root']=_0x251fa3);}get['root'](){return this['_root'];}}const Rc=[],bS=[];class ju extends me{constructor(_0x3a1337,_0x3228b2,_0x2ab569,_0x47637b=null){super(),h(this,'manager'),h(this,'_xrHitTest'+'Source'),h(this,'_transient'),h(this,'_inputSour'+'ce'),(this['manager']=_0x3a1337,this['_xrHitTest'+'Source']=_0x3228b2,this['_transient']=_0x2ab569,this['_inputSour'+'ce']=_0x47637b);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0x3701af=this['manager']['hitTest']['sources'],_0x2ab155=_0x3701af['indexOf'](this);_0x2ab155!==-(-0x1751+-0x1f91+0x36e3)&&_0x3701af['splice'](_0x2ab155,0x1b5f+0x1*-0x74b+-0x1413*0x1),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x49538f){if(this['_transient']){const _0xfa747b=_0x49538f['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x54da86=0x1a6f+-0x15f7+-0x478;_0x54da86<_0xfa747b['length'];_0x54da86++){const _0x52998e=_0xfa747b[_0x54da86];if(!_0x52998e['results']['length'])continue;let _0x1ba95b;_0x52998e['inputSourc'+'e']&&(_0x1ba95b=this['manager']['input']['_getByInpu'+'tSource'](_0x52998e['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x52998e['results'],_0x1ba95b);}}else{const _0x2ed7fe=_0x49538f['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x2ed7fe['length'])return;this['updateHitR'+'esults'](_0x2ed7fe);}}['updateHitR'+'esults'](_0x2ef34e,_0x296f65){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x296f65)return;const _0x5b25b4=Rc['pop']()??new D();_0x296f65?_0x5b25b4['copy'](_0x296f65['getOrigin']()):_0x5b25b4['copy'](this['manager']['camera']['getPositio'+'n']());let _0x1e0270=(0x407*0x9+-0xe7a+-0x15c4)/(0x326+-0x1d35*0x1+0x1a0f),_0x1e32df=null;const _0xa140e=Rc['pop']()??new D(),_0x22b87c=bS['pop']()??new le();for(let _0x5af895=0x1*0x20b+-0x35f*0x8+0x18ed;_0x5af895<_0x2ef34e['length'];_0x5af895++){const _0x36b333=_0x2ef34e[_0x5af895]['getPose'](this['manager']['_reference'+'Space']),_0x47f93c=_0x5b25b4['distance'](_0x36b333['transform']['position']);_0x47f93c>=_0x1e0270||(_0x1e0270=_0x47f93c,_0x1e32df=_0x2ef34e[_0x5af895],_0xa140e['copy'](_0x36b333['transform']['position']),_0x22b87c['copy'](_0x36b333['transform']['orientatio'+'n']));}this['fire']('result',_0xa140e,_0x22b87c,_0x296f65||this['_inputSour'+'ce'],_0x1e32df),this['manager']['hitTest']['fire']('result',this,_0xa140e,_0x22b87c,_0x296f65||this['_inputSour'+'ce'],_0x1e32df),Rc['push'](_0x5b25b4),Rc['push'](_0xa140e),bS['push'](_0x22b87c);}}h(ju,'EVENT_REMO'+'VE','remove'),h(ju,'EVENT_RESU'+'LT','result');class jr extends me{constructor(_0x2de1fc){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),h(this,'_available',!(-0x14c*0x1b+-0x391+0x2696)),h(this,'_checkingA'+'vailabilit'+'y',!(0x1*-0xf13+-0x1a96+-0x29aa*-0x1)),h(this,'sources',[]),(this['manager']=_0x2de1fc,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x501030=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(0x1d9+0x1a5c+-0x1*0x1c34);if(!_0x501030)return;this['_available']=_0x501030,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(-0x1f*-0xb5+-0x11a6+0x1*-0x445),this['manager']['session']['requestRef'+'erenceSpac'+'e'](ES)['then'](_0x1d8bac=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x1d8bac})['then'](_0x182e25=>{_0x182e25['cancel'](),this['manager']['active']&&(this['_available']=!(0xa*0x1be+0x14ff+0x7*-0x57d),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x166a+0x252f+0x8*-0x773);for(let _0xcfe4ae=0x1785+-0x1*0xd72+-0x1*0xa13;_0xcfe4ae<this['sources']['length'];_0xcfe4ae++)this['sources'][_0xcfe4ae]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x78cdb6={}){var _0x34c1f8,_0x5c465b;if(!this['_supported']){(_0x34c1f8=_0x78cdb6['callback'])==null||_0x34c1f8['call'](_0x78cdb6,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x5c465b=_0x78cdb6['callback'])==null||_0x5c465b['call'](_0x78cdb6,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x78cdb6['profile']&&!_0x78cdb6['spaceType']&&(_0x78cdb6['spaceType']=ES);let _0x593839;const _0x967af0=_0x78cdb6['offsetRay'];if(_0x967af0){const _0x23583b=new DOMPoint(_0x967af0['origin']['x'],_0x967af0['origin']['y'],_0x967af0['origin']['z'],-0x1d94+-0x192e*-0x1+0x31*0x17),_0x3fda30=new DOMPoint(_0x967af0['direction']['x'],_0x967af0['direction']['y'],_0x967af0['direction']['z'],0x1465*0x1+0x2*0x994+-0x278d);_0x593839=new XRRay(_0x23583b,_0x3fda30);}const _0x3732a7=_0x78cdb6['callback'];_0x78cdb6['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x78cdb6['spaceType'])['then'](_0x371e25=>{if(!this['manager']['session']){const _0x7fdea4=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x3732a7&&_0x3732a7(_0x7fdea4),this['fire']('error',_0x7fdea4);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x371e25,'entityTypes':_0x78cdb6['entityType'+'s']||void(-0x1*0x1c73+-0x157*0x5+-0x2326*-0x1),'offsetRay':_0x593839})['then'](_0x3a933b=>{this['_onHitTest'+'Source'](_0x3a933b,!(0x4e+-0x8b*0x1f+0x5c*0x2e),_0x78cdb6['inputSourc'+'e'],_0x3732a7);})['catch'](_0xab8cc0=>{_0x3732a7&&_0x3732a7(_0xab8cc0),this['fire']('error',_0xab8cc0);});})['catch'](_0x44f76e=>{_0x3732a7&&_0x3732a7(_0x44f76e),this['fire']('error',_0x44f76e);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x78cdb6['profile'],'entityTypes':_0x78cdb6['entityType'+'s']||void(0x6d*-0x59+-0xd54*-0x2+-0x19b*-0x7),'offsetRay':_0x593839})['then'](_0x5c6206=>{this['_onHitTest'+'Source'](_0x5c6206,!(-0x23e9+-0x1666+0x3a4f),_0x78cdb6['inputSourc'+'e'],_0x3732a7);})['catch'](_0x29afbd=>{_0x3732a7&&_0x3732a7(_0x29afbd),this['fire']('error',_0x29afbd);});}['_onHitTest'+'Source'](_0x8aa3b,_0x5d670b,_0x161f3a,_0x9fa074){if(!this['manager']['session']){_0x8aa3b['cancel']();const _0x4c1f62=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x9fa074&&_0x9fa074(_0x4c1f62),this['fire']('error',_0x4c1f62);return;}const _0x3ebc99=new ju(this['manager'],_0x8aa3b,_0x5d670b,_0x161f3a??null);this['sources']['push'](_0x3ebc99),_0x9fa074&&_0x9fa074(null,_0x3ebc99),this['fire']('add',_0x3ebc99);}['update'](_0x22d224){if(this['_available']){for(let _0x4ff555=0x13c3*-0x1+0x7a*-0x3+0x43d*0x5;_0x4ff555<this['sources']['length'];_0x4ff555++)this['sources'][_0x4ff555]['update'](_0x22d224);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}h(jr,'EVENT_AVAI'+'LABLE','available'),h(jr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(jr,'EVENT_ADD','add'),h(jr,'EVENT_REMO'+'VE','remove'),h(jr,'EVENT_RESU'+'LT','result'),h(jr,'EVENT_ERRO'+'R','error');class Yu extends me{constructor(_0x5bc145,_0x44e8e2){super(),h(this,'_image'),h(this,'_width'),h(this,'_bitmap',null),h(this,'_measuredW'+'idth',0x18a+-0x1f61+-0x1*-0x1dd7),h(this,'_trackable',!(0x1*0x2055+0xf*-0x21+-0x1*0x1e65)),h(this,'_tracking',!(0xac1+0x6b0+-0x1170)),h(this,'_emulated',!(0x1a66+-0x3c*-0xd+0x1*-0x1d71)),h(this,'_pose',null),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_image']=_0x5bc145,this['_width']=_0x44e8e2);}get['image'](){return this['_image'];}set['width'](_0x1a6bf8){this['_width']=_0x1a6bf8;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x483ff6=>(this['_bitmap']=_0x483ff6,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}h(Yu,'EVENT_TRAC'+'KED','tracked'),h(Yu,'EVENT_UNTR'+'ACKED','untracked');class L0 extends me{constructor(_0x5cc6e9){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),h(this,'_available',!(-0x16f*-0xb+-0x9a5+-0x61f*0x1)),h(this,'_images',[]),(this['_manager']=_0x5cc6e9,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x38d8e0,_0xc6d154){if(!this['_supported']||this['_manager']['active'])return null;const _0x4133ff=new Yu(_0x38d8e0,_0xc6d154);return this['_images']['push'](_0x4133ff),_0x4133ff;}['remove'](_0x2ddf2a){if(this['_manager']['active'])return;const _0xce7097=this['_images']['indexOf'](_0x2ddf2a);_0xce7097!==-(-0x1c60+0x808+0x1459)&&(_0x2ddf2a['destroy'](),this['_images']['splice'](_0xce7097,0x14d8+-0x240*0x4+0x7*-0x1b1));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0xea215c=>{this['_available']=!(0x156f+0x1*0x2545+-0x3ab4);for(let _0xf45841=-0x4a1+-0x5e*-0x40+-0x12df*0x1;_0xf45841<_0xea215c['length'];_0xf45841++)this['_images'][_0xf45841]['_trackable']=_0xea215c[_0xf45841]==='trackable';})['catch'](_0x49e624=>{this['_available']=!(0x1e21+-0x1663+0x1*-0x7bd),this['fire']('error',_0x49e624);});}['_onSession'+'End'](){this['_available']=!(-0x169+0x21a0+0xe*-0x24d);for(let _0x2fee06=-0x7*-0x1bb+0x3d*0x6d+0x4e*-0x7d;_0x2fee06<this['_images']['length'];_0x2fee06++){const _0x5f50f6=this['_images'][_0x2fee06];_0x5f50f6['_pose']=null,_0x5f50f6['_measuredW'+'idth']=-0x1d84+0x1261+0xb23,_0x5f50f6['_tracking']&&(_0x5f50f6['_tracking']=!(-0x61f*0x2+0x8*0x38f+-0x1039*0x1),_0x5f50f6['fire']('untracked'));}}['prepareIma'+'ges'](_0x471258){this['_images']['length']?Promise['all'](this['_images']['map'](_0x56f525=>_0x56f525['prepare']()))['then'](_0x28b164=>{_0x471258(null,_0x28b164);})['catch'](_0x20be81=>{_0x471258(_0x20be81,null);}):_0x471258(null,null);}['update'](_0x568345){if(!this['_available'])return;const _0x104964=_0x568345['getImageTr'+'ackingResu'+'lts'](),_0x3a69ce={};for(let _0x4a9078=-0x245c+-0x99f+0x2dfb;_0x4a9078<_0x104964['length'];_0x4a9078++){_0x3a69ce[_0x104964[_0x4a9078]['index']]=_0x104964[_0x4a9078];const _0x22aeb3=this['_images'][_0x104964[_0x4a9078]['index']];_0x22aeb3['_emulated']=_0x104964[_0x4a9078]['trackingSt'+'ate']==='emulated',_0x22aeb3['_measuredW'+'idth']=_0x104964[_0x4a9078]['measuredWi'+'dthInMeter'+'s'],_0x22aeb3['_pose']=_0x568345['getPose'](_0x104964[_0x4a9078]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x14925e=0x19c9+-0x135f+-0x66a;_0x14925e<this['_images']['length'];_0x14925e++)this['_images'][_0x14925e]['_tracking']&&!_0x3a69ce[_0x14925e]?(this['_images'][_0x14925e]['_tracking']=!(0xb9d+-0x176d*0x1+0xbd1),this['_images'][_0x14925e]['fire']('untracked')):!this['_images'][_0x14925e]['_tracking']&&_0x3a69ce[_0x14925e]&&(this['_images'][_0x14925e]['_tracking']=!(-0x26ba+0x1ee6+0x7d4),this['_images'][_0x14925e]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}h(L0,'EVENT_ERRO'+'R','error');class uU{constructor(_0x2043fe,_0x9276d7){h(this,'_index'),h(this,'_hand'),h(this,'_joints',[]),h(this,'_tip',null),(this['_index']=_0x2043fe,this['_hand']=_0x9276d7,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const AS=Ae['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],R0={};for(let l=0x7*-0x4d5+0x4*0x5ea+0xa2b;l<AS['length'];l++)R0[AS[l]]=!(0x156c+-0x1e51+-0x2f7*-0x3);class CS{constructor(_0x4c9bac,_0xa8c873,_0x34ec90,_0x5c7345=null){h(this,'_index'),h(this,'_id'),h(this,'_hand'),h(this,'_finger'),h(this,'_wrist'),h(this,'_tip'),h(this,'_radius',null),h(this,'_localTran'+'sform',new te()),h(this,'_worldTran'+'sform',new te()),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_dirtyLoca'+'l',!(0x25b4+0xc5a+-0x320e)),(this['_index']=_0x4c9bac,this['_id']=_0xa8c873,this['_hand']=_0x34ec90,this['_finger']=_0x5c7345,this['_wrist']=_0xa8c873==='wrist',this['_tip']=this['_finger']&&!!R0[_0xa8c873]);}['update'](_0x4a7c55){this['_dirtyLoca'+'l']=!(-0x1e5d*0x1+-0x184c+0x36a9),this['_radius']=_0x4a7c55['radius'],this['_localPosi'+'tion']['copy'](_0x4a7c55['transform']['position']),this['_localRota'+'tion']['copy'](_0x4a7c55['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x25b*-0x1+0xf67*-0x2+-0xe3a*-0x2),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0xd90bba=this['_hand']['_manager']['camera']['parent'];_0xd90bba?this['_worldTran'+'sform']['mul2'](_0xd90bba['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||-0x16b7*-0x1+0x36*-0xa+-0x149b+0.005;}}let rh=[];const Wr=new D(),Oc=new D(),PS=new D();Ae['browser']&&window['XRHand']&&(rh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Ku extends me{constructor(_0x6e35fc){super(),h(this,'_manager'),h(this,'_inputSour'+'ce'),h(this,'_tracking',!(-0x2611+-0x128b+0x389d)),h(this,'_fingers',[]),h(this,'_joints',[]),h(this,'_jointsByI'+'d',{}),h(this,'_tips',[]),h(this,'_wrist',null);const _0x47fb7e=_0x6e35fc['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0x6e35fc['_manager'],this['_inputSour'+'ce']=_0x6e35fc,_0x47fb7e['get']('wrist')){const _0x497949=new CS(0xcd*0xd+-0x3fb+-0x2*0x337,'wrist',this,null);this['_wrist']=_0x497949,this['_joints']['push'](_0x497949),this['_jointsByI'+'d']['wrist']=_0x497949;}for(let _0x1910ec=0x17d7+0xde5*0x2+-0x33a1;_0x1910ec<rh['length'];_0x1910ec++){const _0x174460=new uU(_0x1910ec,this);for(let _0x108989=0x3*0x419+-0x2*-0x42d+-0x14a5;_0x108989<rh[_0x1910ec]['length'];_0x108989++){const _0x53e8d3=rh[_0x1910ec][_0x108989];if(!_0x47fb7e['get'](_0x53e8d3))continue;const _0x8f0b9a=new CS(_0x108989,_0x53e8d3,this,_0x174460);this['_joints']['push'](_0x8f0b9a),this['_jointsByI'+'d'][_0x53e8d3]=_0x8f0b9a,_0x8f0b9a['tip']&&(this['_tips']['push'](_0x8f0b9a),_0x174460['_tip']=_0x8f0b9a),_0x174460['_joints']['push'](_0x8f0b9a);}}}['update'](_0xc2c2c3){const _0x35fee7=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x12d34f=0x204a+0x1d84+0x6de*-0x9;_0x12d34f<this['_joints']['length'];_0x12d34f++){const _0x3273f5=this['_joints'][_0x12d34f],_0x4b79e4=_0x35fee7['hand']['get'](_0x3273f5['_id']);if(_0x4b79e4){let _0x59e265;if(_0xc2c2c3['session']['visibility'+'State']!=='hidden'&&(_0x59e265=_0xc2c2c3['getJointPo'+'se'](_0x4b79e4,this['_manager']['_reference'+'Space'])),_0x59e265)_0x3273f5['update'](_0x59e265),_0x3273f5['wrist']&&!this['_tracking']&&(this['_tracking']=!(-0xc*0x71+-0x748+-0xa1*-0x14),this['fire']('tracking'));else{if(_0x3273f5['wrist']){this['_tracking']&&(this['_tracking']=!(0x1f42+0x9e3+-0x2924),this['fire']('trackinglo'+'st'));break;}}}}const _0x513471=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x28ba79=this['_jointsByI'+'d']['thumb-tip'],_0x5149d0=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x5080f1=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x2e38e0=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0xf7f4a1=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x513471&&_0x28ba79&&_0x5149d0&&_0x5080f1&&_0x2e38e0&&_0xf7f4a1){this['_inputSour'+'ce']['_dirtyRay']=!(0xbc+-0x6c5+-0x1*-0x609),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x28ba79['_localPosi'+'tion'],_0x5080f1['_localPosi'+'tion'],-0x1f40+0x7f0+0xba8*0x2+0.5);let _0x273265=_0x513471,_0x59577f=_0xf7f4a1;if(this['_inputSour'+'ce']['handedness']===hU){const _0x3fbd4c=_0x273265;_0x273265=_0x59577f,_0x59577f=_0x3fbd4c;}Wr['sub2'](_0x273265['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Oc['sub2'](_0x59577f['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),PS['cross'](Wr,Oc)['normalize'](),Wr['lerp'](_0x5149d0['_localPosi'+'tion'],_0x2e38e0['_localPosi'+'tion'],-0xe*0x7+-0x2622+0x2684+0.5),Wr['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](PS,Wr,-0x17ef+0x83a*-0x2+0x7*0x5c5+0.5)['normalize']();}this['_fingerIsC'+'losed'](0x21cd+0x59d*-0x3+-0x10f5)&&this['_fingerIsC'+'losed'](-0xdc*-0x6+0x461*-0x6+0x1520)&&this['_fingerIsC'+'losed'](-0x153b+-0x2014+0x3552)&&this['_fingerIsC'+'losed'](0x1d3+-0x17ea+-0x161b*-0x1)?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0x2aa*-0x5+0x2*0xc76+-0x263e),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(0x1*0x18b5+-0x3*0x287+-0x111f),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingerIsC'+'losed'](_0x232f54){const _0x1d572d=this['_fingers'][_0x232f54];return Wr['sub2'](_0x1d572d['joints'][0x1e2a*-0x1+-0x11*-0x176+0x554]['_localPosi'+'tion'],_0x1d572d['joints'][-0x482*0x1+-0x1c43*0x1+0x20c6]['_localPosi'+'tion'])['normalize'](),Oc['sub2'](_0x1d572d['joints'][-0x1062+-0x1356+0x23ba]['_localPosi'+'tion'],_0x1d572d['joints'][0x2301*-0x1+0x36*-0x1f+0x298e]['_localPosi'+'tion'])['normalize'](),Wr['dot'](Oc)<-(-0xa7*0x7+-0x81*0x19+0x112a+0.8);}['getJointBy'+'Id'](_0x35feeb){return this['_jointsByI'+'d'][_0x35feeb]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}h(Ku,'EVENT_TRAC'+'KING','tracking'),h(Ku,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const MS=new D(),DS=new le();let pU=0xfbf+0x1395+-0x50c*0x7;class Qt extends me{constructor(_0x25057d,_0x3e2565){super(),h(this,'_id'),h(this,'_manager'),h(this,'_xrInputSo'+'urce'),h(this,'_ray',new Dn()),h(this,'_rayLocal',new Dn()),h(this,'_grip',!(0x450*0x2+0x1*0xefd+-0x5e7*0x4)),h(this,'_hand',null),h(this,'_velocitie'+'sAvailable',!(0xbe6+-0x1e05+0x1220)),h(this,'_velocitie'+'sTimestamp',de()),h(this,'_localTran'+'sform',null),h(this,'_worldTran'+'sform',null),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_localPosi'+'tion',null),h(this,'_localPosi'+'tionLast',null),h(this,'_localRota'+'tion',null),h(this,'_linearVel'+'ocity',null),h(this,'_dirtyLoca'+'l',!(0x125c+-0x1*-0x754+0x66c*-0x4)),h(this,'_dirtyRay',!(0x2*-0x117f+0x25*0x3e+0x5*0x535)),h(this,'_selecting',!(-0xde7*0x1+0x38*-0x3d+0xda0*0x2)),h(this,'_squeezing',!(-0x3*0x955+0x5*0x1ef+0x1255)),h(this,'_elementIn'+'put',!(0x1ae0+0xeab+-0x298b)),h(this,'_elementEn'+'tity',null),h(this,'_hitTestSo'+'urces',[]),(this['_id']=++pU,this['_manager']=_0x25057d,this['_xrInputSo'+'urce']=_0x3e2565,_0x3e2565['hand']&&(this['_hand']=new Ku(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x44367a){this['_elementIn'+'put']!==_0x44367a&&(this['_elementIn'+'put']=_0x44367a,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0x4f1ec9){if(this['_hand'])this['_hand']['update'](_0x4f1ec9);else{const _0xc574db=this['_xrInputSo'+'urce']['gripSpace'];if(_0xc574db){const _0x55e939=_0x4f1ec9['getPose'](_0xc574db,this['_manager']['_reference'+'Space']);if(_0x55e939){this['_grip']||(this['_grip']=!(-0xeee+0x760*0x2+0x2e),this['_localTran'+'sform']=new te(),this['_worldTran'+'sform']=new te(),this['_localPosi'+'tionLast']=new D(),this['_localPosi'+'tion']=new D(),this['_localRota'+'tion']=new le(),this['_linearVel'+'ocity']=new D());const _0xd466da=de(),_0x106cce=(_0xd466da-this['_velocitie'+'sTimestamp'])/(-0x442+0x3f*-0x7c+0x26ae*0x1);this['_velocitie'+'sTimestamp']=_0xd466da,this['_dirtyLoca'+'l']=!(-0x8*0x413+-0xa0*0x39+0x4438),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x55e939['transform']['position']),this['_localRota'+'tion']['copy'](_0x55e939['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(-0x246*-0x7+-0x3*-0x4bd+-0x1e21),this['_manager']['input']['velocities'+'Supported']&&_0x55e939['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x55e939['linearVelo'+'city']):_0x106cce>-0x9*-0x3c7+-0x1849+-0x9b6&&(MS['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x106cce),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],MS,-0x13c0+0x1f8d+-0xbcd*0x1+0.15));}else this['_velocitie'+'sAvailable']=!(0x18e2+0x20f6+-0x39d7);}const _0x5a8862=_0x4f1ec9['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x5a8862&&(this['_dirtyRay']=!(-0xb*0x2a1+-0x597*-0x5+0xf8),this['_rayLocal']['origin']['copy'](_0x5a8862['transform']['position']),this['_rayLocal']['direction']['set'](0x2*-0x283+0x2414+-0x4b*0x6a,0x13f1+-0x2*0xacc+0x1a7,-(-0x11d7+-0x1918+0x2af0)),DS['copy'](_0x5a8862['transform']['orientatio'+'n']),DS['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(-0x1861*-0x1+0x64a+-0x1eaa),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x4523e0=this['_manager']['camera']['parent'];_0x4523e0?this['_worldTran'+'sform']['mul2'](_0x4523e0['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x5a5a2a=this['_dirtyRay'];if(this['_dirtyRay']=!(0x18b4+0x25b5+0x1f34*-0x2),this['_manager']['camera']['parent']){const _0x3544c3=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x3544c3['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x3544c3),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x5a5a2a&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x1224bb={}){_0x1224bb['inputSourc'+'e']=this,_0x1224bb['profile']=this['_xrInputSo'+'urce']['profiles'][-0x1*-0xd85+-0x7*0x420+0x1*0xf5b];const _0x482409=_0x1224bb['callback'];_0x1224bb['callback']=(_0x153ea4,_0x3f40ed)=>{_0x3f40ed&&this['onHitTestS'+'ourceAdd'](_0x3f40ed),_0x482409&&_0x482409(_0x153ea4,_0x3f40ed);},this['_manager']['hitTest']['start'](_0x1224bb);}['onHitTestS'+'ourceAdd'](_0x25f326){this['_hitTestSo'+'urces']['push'](_0x25f326),this['fire']('hittest:ad'+'d',_0x25f326),_0x25f326['on']('result',(_0x2a2378,_0x397bbb,_0x506621,_0x44c6f5)=>{_0x506621===this&&this['fire']('hittest:re'+'sult',_0x25f326,_0x2a2378,_0x397bbb,_0x44c6f5);}),_0x25f326['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x25f326),this['fire']('hittest:re'+'move',_0x25f326);});}['onHitTestS'+'ourceRemov'+'e'](_0x54cffa){const _0x16e541=this['_hitTestSo'+'urces']['indexOf'](_0x54cffa);_0x16e541!==-(0x11b*-0x17+-0x1184+0x2af2)&&this['_hitTestSo'+'urces']['splice'](_0x16e541,0x2e9*0x9+0x7*-0xa9+-0x1591);}}h(Qt,'EVENT_REMO'+'VE','remove'),h(Qt,'EVENT_SELE'+'CT','select'),h(Qt,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Qt,'EVENT_SELE'+'CTEND','selectend'),h(Qt,'EVENT_SQUE'+'EZE','squeeze'),h(Qt,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Qt,'EVENT_SQUE'+'EZEEND','squeezeend'),h(Qt,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),h(Qt,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),h(Qt,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class Li extends me{constructor(_0x393d19){var _0x3a8ad1,_0xb26f63;super(),h(this,'manager'),h(this,'_inputSour'+'ces',[]),h(this,'_onInputSo'+'urcesChang'+'eEvt'),h(this,'velocities'+'Supported',!(-0x1ce+-0x2de+0xab*0x7)),(this['manager']=_0x393d19,this['velocities'+'Supported']=!!(Ae['browser']&&((_0xb26f63=(_0x3a8ad1=window['XRPose'])==null?void(-0x491*-0x4+0x86*0x12+-0x1bb*0x10):_0x3a8ad1['prototype'])!=null&&_0xb26f63['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x516478=>{this['_onInputSo'+'urcesChang'+'e'](_0x516478);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x3d5dfa=this['manager']['session'];_0x3d5dfa['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x3d5dfa['addEventLi'+'stener']('select',_0x42953=>{const _0x39eb4c=this['_getByInpu'+'tSource'](_0x42953['inputSourc'+'e']);_0x39eb4c['update'](_0x42953['frame']),_0x39eb4c['fire']('select',_0x42953),this['fire']('select',_0x39eb4c,_0x42953);}),_0x3d5dfa['addEventLi'+'stener']('selectstar'+'t',_0x5ceed3=>{const _0x24b8e9=this['_getByInpu'+'tSource'](_0x5ceed3['inputSourc'+'e']);_0x24b8e9['_selecting']||(_0x24b8e9['update'](_0x5ceed3['frame']),_0x24b8e9['_selecting']=!(0x14d0+-0x13c0+-0x110),_0x24b8e9['fire']('selectstar'+'t',_0x5ceed3),this['fire']('selectstar'+'t',_0x24b8e9,_0x5ceed3));}),_0x3d5dfa['addEventLi'+'stener']('selectend',_0x1a5ac1=>{const _0x3a3457=this['_getByInpu'+'tSource'](_0x1a5ac1['inputSourc'+'e']);_0x3a3457['update'](_0x1a5ac1['frame']),_0x3a3457['_selecting']=!(0xd01+-0x335*0x5+0x309),_0x3a3457['fire']('selectend',_0x1a5ac1),this['fire']('selectend',_0x3a3457,_0x1a5ac1);}),_0x3d5dfa['addEventLi'+'stener']('squeeze',_0x54178a=>{const _0x37e11a=this['_getByInpu'+'tSource'](_0x54178a['inputSourc'+'e']);_0x37e11a['update'](_0x54178a['frame']),_0x37e11a['fire']('squeeze',_0x54178a),this['fire']('squeeze',_0x37e11a,_0x54178a);}),_0x3d5dfa['addEventLi'+'stener']('squeezesta'+'rt',_0x2b2607=>{const _0x37ebb3=this['_getByInpu'+'tSource'](_0x2b2607['inputSourc'+'e']);_0x37ebb3['update'](_0x2b2607['frame']),_0x37ebb3['_squeezing']=!(-0xe71+-0x13e9+0x2*0x112d),_0x37ebb3['fire']('squeezesta'+'rt',_0x2b2607),this['fire']('squeezesta'+'rt',_0x37ebb3,_0x2b2607);}),_0x3d5dfa['addEventLi'+'stener']('squeezeend',_0xc62c04=>{const _0xe5dcbd=this['_getByInpu'+'tSource'](_0xc62c04['inputSourc'+'e']);_0xe5dcbd['update'](_0xc62c04['frame']),_0xe5dcbd['_squeezing']=!(-0x1eb0+-0x1952+-0xd*-0x44f),_0xe5dcbd['fire']('squeezeend',_0xc62c04),this['fire']('squeezeend',_0xe5dcbd,_0xc62c04);});const _0x4f0e8d=_0x3d5dfa['inputSourc'+'es'];for(let _0x3c45e8=-0x18fd+-0xa*-0x132+0x47*0x2f;_0x3c45e8<_0x4f0e8d['length'];_0x3c45e8++)this['_addInputS'+'ource'](_0x4f0e8d[_0x3c45e8]);}['_onSession'+'End'](){let _0x15ffc7=this['_inputSour'+'ces']['length'];for(;_0x15ffc7--;){const _0x15343d=this['_inputSour'+'ces'][_0x15ffc7];this['_inputSour'+'ces']['splice'](_0x15ffc7,0x1326*-0x1+-0x1ede+-0xd*-0x3d9),_0x15343d['fire']('remove'),this['fire']('remove',_0x15343d);}this['fire']('removeall'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x48fa87){for(let _0x4283aa=0xa46+-0x15a4+-0x5*-0x246;_0x4283aa<_0x48fa87['removed']['length'];_0x4283aa++)this['_removeInp'+'utSource'](_0x48fa87['removed'][_0x4283aa]);for(let _0x2858f3=-0xc41*-0x1+0x1b2*-0x11+0x1091;_0x2858f3<_0x48fa87['added']['length'];_0x2858f3++)this['_addInputS'+'ource'](_0x48fa87['added'][_0x2858f3]);}['_getByInpu'+'tSource'](_0xfd34d5){for(let _0x46cd46=0x3*-0x98e+-0xacc+0x2776;_0x46cd46<this['_inputSour'+'ces']['length'];_0x46cd46++)if(this['_inputSour'+'ces'][_0x46cd46]['inputSourc'+'e']===_0xfd34d5)return this['_inputSour'+'ces'][_0x46cd46];return null;}['_removeApp'+'Entity'](_0x445b44){const _0x16c074=this['manager']['app']['root']['findByName']('Armature_'+_0x445b44);_0x16c074&&this['manager']['app']['root']['removeChil'+'d'](_0x16c074);}['_addInputS'+'ource'](_0x252611){if(this['_removeApp'+'Entity'](_0x252611['handedness']),this['_getByInpu'+'tSource'](_0x252611))return;const _0x52604d=new Qt(this['manager'],_0x252611);this['_inputSour'+'ces']['push'](_0x52604d),this['fire']('add',_0x52604d);}['_removeInp'+'utSource'](_0x13573d){for(let _0x5a4691=-0x1*-0x2336+0x1*0x26d5+-0xdf*0x55;_0x5a4691<this['_inputSour'+'ces']['length'];_0x5a4691++){if(this['_inputSour'+'ces'][_0x5a4691]['inputSourc'+'e']!==_0x13573d)continue;const _0x31e091=this['_inputSour'+'ces'][_0x5a4691];this['_inputSour'+'ces']['splice'](_0x5a4691,-0x2*-0xd2e+0x1a5d+0x3c4*-0xe);let _0x7c768b=_0x31e091['hitTestSou'+'rces']['length'];for(;_0x7c768b--;)_0x31e091['hitTestSou'+'rces'][_0x7c768b]['remove']();this['_removeApp'+'Entity'](_0x31e091['handedness']),_0x31e091['fire']('remove'),this['fire']('remove',_0x31e091);return;}}['update'](_0x46a1ba){for(let _0x47b05f=0x3*-0x34c+-0x1507+0x1eeb;_0x47b05f<this['_inputSour'+'ces']['length'];_0x47b05f++)this['_inputSour'+'ces'][_0x47b05f]['update'](_0x46a1ba);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}h(Li,'EVENT_ADD','add'),h(Li,'EVENT_REMO'+'VE','remove'),h(Li,'EVENT_SELE'+'CT','select'),h(Li,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Li,'EVENT_SELE'+'CTEND','selectend'),h(Li,'EVENT_SQUE'+'EZE','squeeze'),h(Li,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Li,'EVENT_SQUE'+'EZEEND','squeezeend');const Ja=new D(),IS=new D(),Lf=new te(),LS=new te();class Zu extends me{constructor(_0x3d2e14){super(),h(this,'_manager'),h(this,'_supported',!(0x17f6*0x1+0x27*0x8f+-0x2dbe)),h(this,'_available',!(-0x13f2+-0x517*-0x1+0x4f4*0x3)),h(this,'_lightProb'+'eRequested',!(0x1365+-0x2*-0x7ba+-0x2*0x116c)),h(this,'_lightProb'+'e',null),h(this,'_intensity',0x18*0xb+-0x2605*0x1+0x24fd*0x1),h(this,'_rotation',new le()),h(this,'_color',new ie()),h(this,'_spherical'+'Harmonics',new Float32Array(-0x1d15+-0x23dd+0x1ab*0x27)),(this['_manager']=_0x3d2e14,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(-0xa13*0x1+0xf28+-0x515));}['_onSession'+'End'](){this['_supported']=!(0x1573*0x1+-0xb*-0x316+-0x3764),this['_available']=!(0xc95*-0x3+-0x1*-0x7f1+0xd*0x24b),this['_lightProb'+'eRequested']=!(-0x1aa*-0xd+0x127c+-0x281d*0x1),this['_lightProb'+'e']=null;}['start'](){let _0x5976e9;if(this['_manager']['session']||(_0x5976e9=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x5976e9&&this['_manager']['type']!==$o&&(_0x5976e9=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x5976e9&&!this['_supported']&&(_0x5976e9=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x5976e9&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x5976e9=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x5976e9){this['fire']('error',_0x5976e9);return;}this['_lightProb'+'eRequested']=!(0x2137+-0x62*0x3d+-0x9dd),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0xb37b4=>{const _0x439df6=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x1d1e+0xde7+-0x2b04),this['_manager']['active']?_0x439df6&&(this['_lightProb'+'e']=_0xb37b4):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x3ffe94=>{this['_lightProb'+'eRequested']=!(-0x19de+-0x187f*0x1+0x399*0xe),this['fire']('error',_0x3ffe94);});}['end'](){this['_lightProb'+'eRequested']=!(0x160*0x2+-0x1*-0x26+-0x2e5),this['_lightProb'+'e']=null,this['_available']=!(0x27f+0x1*-0x19cb+0x174d);}['update'](_0x56d519){if(!this['_lightProb'+'e'])return;const _0xa3b82b=_0x56d519['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0xa3b82b)return;this['_available']||(this['_available']=!(-0x2c*0x71+-0x2*-0xb2b+-0x2ea),this['fire']('available'));const _0x3e4416=_0xa3b82b['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](-0x6*0x624+-0x117c+0x3655,Math['max'](_0x3e4416['x'],Math['max'](_0x3e4416['y'],_0x3e4416['z']))),Ja['copy'](_0x3e4416)['mulScalar']((0x1470+-0x1dd7+0x968)/this['_intensity']),this['_color']['set'](Ja['x'],Ja['y'],Ja['z']),Ja['set'](-0x21a5+0x4b5*0x7+0xb2,0x71e+0x508+-0xc26,0x1389+-0xf9c+-0x3ed),IS['copy'](_0xa3b82b['primaryLig'+'htDirectio'+'n']),Lf['setLookAt'](IS,Ja,D['UP']),LS['setFromAxi'+'sAngle'](D['RIGHT'],0x1bb2+-0x2048+0x4f0),Lf['mul'](LS),this['_rotation']['setFromMat'+'4'](Lf),this['_spherical'+'Harmonics']['set'](_0xa3b82b['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}h(Zu,'EVENT_AVAI'+'LABLE','available'),h(Zu,'EVENT_ERRO'+'R','error');let mU=-0x3*-0x1e3+0x1db7+-0x2360;class Qu extends me{constructor(_0x2e7b45,_0x368409){super(),h(this,'_id'),h(this,'_planeDete'+'ction'),h(this,'_xrPlane'),h(this,'_lastChang'+'edTime'),h(this,'_orientati'+'on'),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_id']=++mU,this['_planeDete'+'ction']=_0x2e7b45,this['_xrPlane']=_0x368409,this['_lastChang'+'edTime']=_0x368409['lastChange'+'dTime'],this['_orientati'+'on']=_0x368409['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x93c4c7){const _0x1fe76e=this['_planeDete'+'ction']['_manager'],_0x51a3ba=_0x93c4c7['getPose'](this['_xrPlane']['planeSpace'],_0x1fe76e['_reference'+'Space']);_0x51a3ba&&(this['_position']['copy'](_0x51a3ba['transform']['position']),this['_rotation']['copy'](_0x51a3ba['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}h(Qu,'EVENT_REMO'+'VE','remove'),h(Qu,'EVENT_CHAN'+'GE','change');class Do extends me{constructor(_0x454862){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRPlane']),h(this,'_available',!(0x89e+-0x20c7+-0x80e*-0x3)),h(this,'_planesInd'+'ex',new Map()),h(this,'_planes',[]),(this['_manager']=_0x454862,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(0xa0d+-0xd*0x126+0x4e2)&&(this['_available']=!(-0xf1f+0xc2a+0x2f5),this['fire']('available'));}['_onSession'+'End'](){for(let _0x108ccd=-0x1cf*-0x13+-0x1e+-0x223f*0x1;_0x108ccd<this['_planes']['length'];_0x108ccd++)this['_planes'][_0x108ccd]['destroy'](),this['fire']('remove',this['_planes'][_0x108ccd]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=-0x1282*-0x1+-0x74f*0x3+0x36b*0x1,this['_available']&&(this['_available']=!(0xefc+-0x25*-0xe2+-0x2fa5),this['fire']('unavailabl'+'e'));}['update'](_0x41892e){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x41892e['detectedPl'+'anes']['size'])this['_available']=!(-0x1e11*0x1+-0xcd3+0x2ae4),this['fire']('available');else return;}const _0x5a6a5d=_0x41892e['detectedPl'+'anes'];for(const [_0x5235c2,_0x2f5484]of this['_planesInd'+'ex'])_0x5a6a5d['has'](_0x5235c2)||(this['_planesInd'+'ex']['delete'](_0x5235c2),this['_planes']['splice'](this['_planes']['indexOf'](_0x2f5484),-0xc9+-0xc*-0x172+-0x2*0x847),_0x2f5484['destroy'](),this['fire']('remove',_0x2f5484));for(const _0x4b4377 of _0x5a6a5d){let _0x5717ee=this['_planesInd'+'ex']['get'](_0x4b4377);_0x5717ee?_0x5717ee['update'](_0x41892e):(_0x5717ee=new Qu(this,_0x4b4377),this['_planesInd'+'ex']['set'](_0x4b4377,_0x5717ee),this['_planes']['push'](_0x5717ee),_0x5717ee['update'](_0x41892e),this['fire']('add',_0x5717ee));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}h(Do,'EVENT_AVAI'+'LABLE','available'),h(Do,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Do,'EVENT_ADD','add'),h(Do,'EVENT_REMO'+'VE','remove');class Io extends me{constructor(_0x4aa29e,_0x24cb01,_0x76084c=null){super(),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_uuid',null),h(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x4aa29e,this['_xrAnchor']=_0x24cb01,this['_uuid']=_0x76084c);}['destroy'](){if(!this['_xrAnchor'])return;const _0x515b1c=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x515b1c,this);}['update'](_0x364bd2){if(!this['_xrAnchor'])return;const _0x4ca356=_0x364bd2['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x4ca356){if(this['_position']['equals'](_0x4ca356['transform']['position'])&&this['_rotation']['equals'](_0x4ca356['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x4ca356['transform']['position']),this['_rotation']['copy'](_0x4ca356['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x32aa00){if(!this['_anchors']['persistenc'+'e']){_0x32aa00==null||_0x32aa00(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x32aa00==null||_0x32aa00(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x32aa00&&this['_uuidReque'+'sts']['push'](_0x32aa00);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0xa5501e=>{this['_uuid']=_0xa5501e,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x32aa00==null||_0x32aa00(null,_0xa5501e);for(const _0x5af1ba of this['_uuidReque'+'sts'])_0x5af1ba(null,_0xa5501e);this['_uuidReque'+'sts']=null,this['fire']('persist',_0xa5501e);})['catch'](_0x19ee9e=>{_0x32aa00==null||_0x32aa00(_0x19ee9e,null);for(const _0x47cd2e of this['_uuidReque'+'sts'])_0x47cd2e(_0x19ee9e,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x547015){if(!this['_uuid']){_0x547015==null||_0x547015(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x44253=>{this['_uuid']=null,_0x547015==null||_0x547015(_0x44253),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}h(Io,'EVENT_DEST'+'ROY','destroy'),h(Io,'EVENT_CHAN'+'GE','change'),h(Io,'EVENT_PERS'+'IST','persist'),h(Io,'EVENT_FORG'+'ET','forget');var VS;class on extends me{constructor(_0x2b083a){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!window['XRAnchor']),h(this,'_available',!(-0x11*-0x1f+0x6f7*0x5+-0x24e1)),h(this,'_checkingA'+'vailabilit'+'y',!(-0x762+0xe*0xd+-0x1*-0x6ad)),h(this,'_persisten'+'ce',Ae['browser']&&!!((VS=window==null?void(-0x10d7+-0x821*-0x3+0x78c*-0x1):window['XRSession'])!=null&&VS['prototype']['restorePer'+'sistentAnc'+'hor'])),h(this,'_creationQ'+'ueue',[]),h(this,'_index',new Map()),h(this,'_indexByUu'+'id',new Map()),h(this,'_list',[]),h(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x2b083a,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){var _0x570010;const _0x1f2e0c=((_0x570010=this['manager']['session']['enabledFea'+'tures'])==null?void(0x29*0x3a+-0x1eb1+0x1567):_0x570010['indexOf']('anchors'))>=-0x1c75+-0x1b9a+0x380f;_0x1f2e0c&&(this['_available']=_0x1f2e0c,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(-0x1dc4+0x2*-0xe68+0x3a95);for(let _0x546052=-0x163*0x5+-0x1390*0x1+-0x11*-0x18f;_0x546052<this['_creationQ'+'ueue']['length'];_0x546052++)this['_creationQ'+'ueue'][_0x546052]['callback']&&this['_creationQ'+'ueue'][_0x546052]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=0x255e+0x1*-0x6d+-0x24f1,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x41e2c8=this['_list']['length'];for(;_0x41e2c8--;)this['_list'][_0x41e2c8]['destroy']();this['_list']['length']=-0x7be*0x2+-0xe39*-0x1+0x143,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x37cfc5,_0x41af77=null){const _0x4b8078=new Io(this,_0x37cfc5,_0x41af77);return this['_index']['set'](_0x37cfc5,_0x4b8078),_0x41af77&&this['_indexByUu'+'id']['set'](_0x41af77,_0x4b8078),this['_list']['push'](_0x4b8078),_0x4b8078['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x4b8078;}['_onAnchorD'+'estroy'](_0x45ef6c,_0x559966){this['_index']['delete'](_0x45ef6c),_0x559966['uuid']&&this['_indexByUu'+'id']['delete'](_0x559966['uuid']);const _0x33098a=this['_list']['indexOf'](_0x559966);_0x33098a!==-(-0x5c*0x17+-0xd6c+-0x3*-0x73b)&&this['_list']['splice'](_0x33098a,0x2581+0x1d81+-0x4301),this['fire']('destroy',_0x559966);}['create'](_0x3723ab,_0x294499,_0x3a308b){if(!this['_available']){_0x3a308b==null||_0x3a308b(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x3723ab instanceof XRHitTestResult){const _0x472988=_0x3723ab;if(_0x3a308b=_0x294499,!this['_supported']){_0x3a308b==null||_0x3a308b(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0x472988['createAnch'+'or']){_0x3a308b==null||_0x3a308b(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0x472988['createAnch'+'or']()['then'](_0x3c61c5=>{const _0xc60b67=this['_createAnc'+'hor'](_0x3c61c5);_0x3a308b==null||_0x3a308b(null,_0xc60b67),this['fire']('add',_0xc60b67);})['catch'](_0x4c19b0=>{_0x3a308b==null||_0x3a308b(_0x4c19b0,null),this['fire']('error',_0x4c19b0);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x3723ab,_0x294499),'callback':_0x3a308b});}['restore'](_0x4a43d4,_0x33e350){if(!this['_available']){_0x33e350==null||_0x33e350(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x33e350==null||_0x33e350(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x33e350==null||_0x33e350(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x4a43d4)['then'](_0x275f54=>{const _0x3886bf=this['_createAnc'+'hor'](_0x275f54,_0x4a43d4);_0x33e350==null||_0x33e350(null,_0x3886bf),this['fire']('add',_0x3886bf);})['catch'](_0x81699b=>{_0x33e350==null||_0x33e350(_0x81699b,null),this['fire']('error',_0x81699b);});}['forget'](_0x2e1cc2,_0x5410f9){if(!this['_available']){_0x5410f9==null||_0x5410f9(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x5410f9==null||_0x5410f9(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x5410f9==null||_0x5410f9(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x2e1cc2)['then'](()=>{_0x5410f9==null||_0x5410f9(null);})['catch'](_0x223bdc=>{_0x5410f9==null||_0x5410f9(_0x223bdc),this['fire']('error',_0x223bdc);});}['update'](_0x52669a){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(0x2244+0x1f42*-0x1+-0x302),_0x52669a['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x3abe5a=>{_0x3abe5a['delete'](),this['manager']['active']&&(this['_available']=!(-0x6*0x173+0x1994+0x2*-0x871),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x1a559e=0x22d7*0x1+0x1*-0xaed+-0x17ea;_0x1a559e<this['_creationQ'+'ueue']['length'];_0x1a559e++){const _0x40922d=this['_creationQ'+'ueue'][_0x1a559e];_0x52669a['createAnch'+'or'](_0x40922d['transform'],this['manager']['_reference'+'Space'])['then'](_0x42eab8=>{_0x40922d['callback']&&this['_callbacks'+'Anchors']['set'](_0x42eab8,_0x40922d['callback']);})['catch'](_0x25634a=>{_0x40922d['callback']&&_0x40922d['callback'](_0x25634a,null),this['fire']('error',_0x25634a);});}this['_creationQ'+'ueue']['length']=-0x2376+-0x1a2f+0x3da5;}for(const [_0x3f24f4,_0xceaff]of this['_index'])_0x52669a['trackedAnc'+'hors']['has'](_0x3f24f4)||(this['_index']['delete'](_0x3f24f4),_0xceaff['destroy']());for(let _0x338606=-0x17fc+0xa4*0x8+0x12dc;_0x338606<this['_list']['length'];_0x338606++)this['_list'][_0x338606]['update'](_0x52669a);for(const _0x1de96e of _0x52669a['trackedAnc'+'hors']){if(this['_index']['has'](_0x1de96e))continue;try{const _0x2fa0d0=_0x1de96e['anchorSpac'+'e'];}catch{continue;}const _0x1b4cd3=this['_createAnc'+'hor'](_0x1de96e);_0x1b4cd3['update'](_0x52669a);const _0x46cf89=this['_callbacks'+'Anchors']['get'](_0x1de96e);_0x46cf89&&(this['_callbacks'+'Anchors']['delete'](_0x1de96e),_0x46cf89(null,_0x1b4cd3)),this['fire']('add',_0x1b4cd3);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}h(on,'EVENT_AVAI'+'LABLE','available'),h(on,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(on,'EVENT_ERRO'+'R','error'),h(on,'EVENT_ADD','add'),h(on,'EVENT_DEST'+'ROY','destroy');class Ju extends me{constructor(_0x552aff,_0x4db2ea){super(),h(this,'_meshDetec'+'tion'),h(this,'_xrMesh'),h(this,'_lastChang'+'ed',0x1*0xe59+-0x1acd+-0x63a*-0x2),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_meshDetec'+'tion']=_0x552aff,this['_xrMesh']=_0x4db2ea,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x462115){const _0x4ce10c=this['_meshDetec'+'tion']['_manager'],_0x108d7d=_0x462115['getPose'](this['_xrMesh']['meshSpace'],_0x4ce10c['_reference'+'Space']);_0x108d7d&&(this['_position']['copy'](_0x108d7d['transform']['position']),this['_rotation']['copy'](_0x108d7d['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}h(Ju,'EVENT_REMO'+'VE','remove'),h(Ju,'EVENT_CHAN'+'GE','change');class Lo extends me{constructor(_0x32bd7b){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRMesh']),h(this,'_available',!(-0x1*0xcf2+-0x15d*0x3+0x110a)),h(this,'_index',new Map()),h(this,'_list',[]),(this['_manager']=_0x32bd7b,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x198b4d){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x198b4d['detectedMe'+'shes']['size'])this['_available']=!(-0x26ac+0x7d5+-0x62b*-0x5),this['fire']('available');else return;}for(const _0x474928 of _0x198b4d['detectedMe'+'shes']){let _0x1a333c=this['_index']['get'](_0x474928);_0x1a333c?_0x1a333c['update'](_0x198b4d):(_0x1a333c=new Ju(this,_0x474928),this['_index']['set'](_0x474928,_0x1a333c),this['_list']['push'](_0x1a333c),_0x1a333c['update'](_0x198b4d),this['fire']('add',_0x1a333c));}for(const _0x3b3bf9 of this['_index']['values']())_0x198b4d['detectedMe'+'shes']['has'](_0x3b3bf9['xrMesh'])||this['_removeMes'+'h'](_0x3b3bf9);}['_removeMes'+'h'](_0x1543d8){this['_index']['delete'](_0x1543d8['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x1543d8),-0x1*0x11c5+0x3d5+0xdf1),_0x1543d8['destroy'](),this['fire']('remove',_0x1543d8);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x3270c2=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(0x25f*0xe+-0x1115*-0x1+-0x3246);if(!_0x3270c2)return;this['_available']=_0x3270c2,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(-0x1*-0x170f+-0x530*-0x4+-0x2bce);for(const _0x47353f of this['_index']['values']())this['_removeMes'+'h'](_0x47353f);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}h(Lo,'EVENT_AVAI'+'LABLE','available'),h(Lo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Lo,'EVENT_ADD','add'),h(Lo,'EVENT_REMO'+'VE','remove');class O0 extends me{constructor(_0x7c8e78,_0xc93faa,_0x4ec185){super(),h(this,'_manager'),h(this,'_xrView'),h(this,'_positionD'+'ata',new Float32Array(-0x2*0xc4d+0x41f+0x147e)),h(this,'_viewport',new re()),h(this,'_projMat',new te()),h(this,'_projViewO'+'ffMat',new te()),h(this,'_viewMat',new te()),h(this,'_viewOffMa'+'t',new te()),h(this,'_viewMat3',new _i()),h(this,'_viewInvMa'+'t',new te()),h(this,'_viewInvOf'+'fMat',new te()),h(this,'_xrCamera',null),h(this,'_textureCo'+'lor',null),h(this,'_textureDe'+'pth',null),h(this,'_depthInfo',null),h(this,'_emptyDept'+'hBuffer',new Uint8Array(0x10c1+0x113d+0xff*-0x22)),h(this,'_depthMatr'+'ix',new te()),(this['_manager']=_0x7c8e78,this['_xrView']=_0xc93faa);const _0x2e20f3=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new _e(_0x2e20f3,{'format':Cr,'mipmaps':!(0xaa*-0x13+-0x21d6+0x2e75),'addressU':ue,'addressV':ue,'minFilter':vt,'magFilter':vt,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x571645=this['_manager']['views']['depthGpuOp'+'timized']?Te:vt;this['_textureDe'+'pth']=new _e(_0x2e20f3,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0x4ec185===0x2*0x6c5+-0x95*-0x29+-0x2566?-0x15a+0xc22+-0xac8:_0x4ec185,'mipmaps':!(0x2c5*-0x9+0x6c8*0x5+-0x8fa),'addressU':ue,'addressV':ue,'minFilter':_0x571645,'magFilter':_0x571645,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0xd79e68=-0x1ed3+0x16*0x10a+0x7f7;_0xd79e68<this['_textureDe'+'pth']['_levels']['length'];_0xd79e68++)this['_textureDe'+'pth']['_levels'][_0xd79e68]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x2e20f3['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x3ac3ec;return((_0x3ac3ec=this['_depthInfo'])==null?void(0xc7e*0x1+0x24a3+-0x3121):_0x3ac3ec['rawValueTo'+'Meters'])||0x765*0x1+-0x55*-0x52+-0x1*0x229f;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0x26e6f7,_0x35d841){this['_xrView']=_0x35d841,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x4a045=_0x26e6f7['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x4a045['x'],this['_viewport']['y']=_0x4a045['y'],this['_viewport']['z']=_0x4a045['width'],this['_viewport']['w']=_0x4a045['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0x26e6f7);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x352508=this['_manager']['webglBindi'+'ng'];if(!_0x352508)return;const _0x630102=_0x352508['getCameraI'+'mage'](this['_xrCamera']);if(!_0x630102)return;const _0x1acd8e=this['_manager']['app']['graphicsDe'+'vice'],_0x5916a0=_0x1acd8e['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x5916a0['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x5916a0['createFram'+'ebuffer']();else{const _0x237807=_0x5916a0['COLOR_ATTA'+'CHMENT0'],_0x312bd1=this['_xrCamera']['width'],_0x1b0266=this['_xrCamera']['height'];_0x1acd8e['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x5916a0['framebuffe'+'rTexture2D'](_0x5916a0['FRAMEBUFFE'+'R'],_0x237807,_0x5916a0['TEXTURE_2D'],_0x630102,0xb*0xd+-0xdf*-0x28+-0x9*0x3ef),_0x1acd8e['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x5916a0['framebuffe'+'rTexture2D'](_0x5916a0['FRAMEBUFFE'+'R'],_0x237807,_0x5916a0['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],0x7*-0x33+-0x2*-0xabb+0xb*-0x1d3),_0x5916a0['bindFrameb'+'uffer'](_0x5916a0['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x5916a0['bindFrameb'+'uffer'](_0x5916a0['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x5916a0['blitFrameb'+'uffer'](-0x2f5*-0xd+0x19fb+-0x7c*0x85,_0x1b0266,_0x312bd1,-0x198a+0x1b6c+0x2*-0xf1,0x11b4*-0x2+-0x21f3+0x43*0x109,-0x1*-0x164b+0x96d*-0x3+0x5fc*0x1,_0x312bd1,_0x1b0266,_0x5916a0['COLOR_BUFF'+'ER_BIT'],_0x5916a0['NEAREST']);}}['_updateDep'+'th'](_0x327b87){var _0x54cb7e,_0x492440;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x20e2f6=this['_manager']['views']['depthGpuOp'+'timized'],_0x44dd53=_0x20e2f6?this['_manager']['webglBindi'+'ng']:_0x327b87;if(!_0x44dd53){this['_depthInfo']=null;return;}const _0xf00747=_0x44dd53['getDepthIn'+'formation'](this['_xrView']);if(!_0xf00747){this['_depthInfo']=null;return;}let _0x4d64b2=!this['_depthInfo']!=!_0xf00747;this['_depthInfo']=_0xf00747;const _0x43e46d=((_0x54cb7e=this['_depthInfo'])==null?void(-0x454+0x1b57+-0x89*0x2b):_0x54cb7e['width'])||0x45*0x4b+0x2*-0x1105+0xdd7,_0x59088d=((_0x492440=this['_depthInfo'])==null?void(-0x38d+-0x4cf+0x42e*0x2):_0x492440['height'])||-0x20f+0x1f02+-0x1cef;let _0x37eefe=!(-0x43*0x6d+-0x20e0+-0x20c*-0x1e);if((this['_textureDe'+'pth']['width']!==_0x43e46d||this['_textureDe'+'pth']['height']!==_0x59088d)&&(this['_textureDe'+'pth']['_width']=_0x43e46d,this['_textureDe'+'pth']['_height']=_0x59088d,_0x4d64b2=!(0x92c+-0xff7*0x1+0x6cb),_0x37eefe=!(0x4aa+0x170c+-0x1bb6)),_0x4d64b2&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x20e2f6){if(this['_depthInfo']['texture']){const _0x303488=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x303488['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x303488['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ji:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x303488['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x303488['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x303488['RED'];break;case $i:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x303488['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x303488['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x303488['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(0x1*-0x1938+-0x1ab2+0x33ea);}}else this['_textureDe'+'pth']['_levels'][0xce3*0x3+-0x1d4b*0x1+-0x95e]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][-0x142d+0x1*-0x1f1a+0x3347]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x37eefe&&this['fire']('depth:resi'+'ze',_0x43e46d,_0x59088d);}['updateTran'+'sforms'](_0x50db75){_0x50db75?(this['_viewInvOf'+'fMat']['mul2'](_0x50db75,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][0x58+0xb95*-0x1+-0x19b*-0x7]=this['_viewInvOf'+'fMat']['data'][0x17ff+-0x49f*0x1+-0x1354],this['_positionD'+'ata'][-0x3*0x5b5+0x1ce9+-0x7*0x1af]=this['_viewInvOf'+'fMat']['data'][-0x2335+-0x493+-0x67*-0x63],this['_positionD'+'ata'][-0x1*-0x245+0x8dc+-0xb1f]=this['_viewInvOf'+'fMat']['data'][-0x2e*0x50+-0x222a+0x1*0x3098];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x5074a5,_0x28e045){var _0x42b7e4;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x42b7e4=this['_depthInfo'])==null?void(-0x2023+0x103a+0xfe9):_0x42b7e4['getDepthIn'+'Meters'](_0x5074a5,_0x28e045))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x465d19=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x465d19['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x465d19['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}h(O0,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class Bh extends me{constructor(_0x106a6b){super(),h(this,'_manager'),h(this,'_index',new Map()),h(this,'_indexTmp',new Map()),h(this,'_list',[]),h(this,'_supported'+'Color',Ae['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),h(this,'_supported'+'Depth',Ae['browser']&&!!window['XRDepthInf'+'ormation']),h(this,'_available'+'Color',!(0xbf2+0x14e*-0x13+0x17*0x8f)),h(this,'_available'+'Depth',!(-0x1*-0x1521+0x9dd+-0x1*0x1efd)),h(this,'_depthUsag'+'e',''),h(this,'_depthForm'+'at',''),h(this,'_depthForm'+'ats',{[M0]:ap,[D0]:$i,[I0]:Ji}),(this['_manager']=_0x106a6b,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===P0;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x565dbc,_0x1f3b76){for(let _0x1adb1e=0x1234+0xc45+0x1e79*-0x1;_0x1adb1e<_0x1f3b76['length'];_0x1adb1e++)this['_indexTmp']['set'](_0x1f3b76[_0x1adb1e]['eye'],_0x1f3b76[_0x1adb1e]);for(const [_0x424729,_0x4bed47]of this['_indexTmp']){let _0x3492ab=this['_index']['get'](_0x424729);_0x3492ab?_0x3492ab['update'](_0x565dbc,_0x4bed47):(_0x3492ab=new O0(this['_manager'],_0x4bed47,_0x1f3b76['length']),this['_index']['set'](_0x424729,_0x3492ab),this['_list']['push'](_0x3492ab),_0x3492ab['update'](_0x565dbc,_0x4bed47),this['fire']('add',_0x3492ab));}for(const [_0x40a90b,_0x242e8c]of this['_index']){if(this['_indexTmp']['has'](_0x40a90b))continue;_0x242e8c['destroy'](),this['_index']['delete'](_0x40a90b);const _0x4ebd19=this['_list']['indexOf'](_0x242e8c);_0x4ebd19!==-(0x17dd+-0xfa4+-0x838)&&this['_list']['splice'](_0x4ebd19,-0x214*0x1+0x1*0x2183+-0x1f6e),this['fire']('remove',_0x242e8c);}this['_indexTmp']['clear']();}['get'](_0x9ec42){return this['_index']['get'](_0x9ec42)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===$o&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(0x1*-0x106d+0xf92*-0x2+0x2f92),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(0x1546+-0x24cc+0xf87),this['_available'+'Depth'])){const _0x1c373a=this['_manager']['session'];this['_depthUsag'+'e']=_0x1c373a['depthUsage'],this['_depthForm'+'at']=_0x1c373a['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x1c42f5 of this['_index']['values']())_0x1c42f5['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(-0xab1+-0x26*-0xdf+-0x1*0x1668),this['_available'+'Depth']=!(-0xb*-0xed+0xbf2+0xb10*-0x2),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=-0x2a*0x7+0x35*-0x98+0x209e;}}h(Bh,'EVENT_ADD','add'),h(Bh,'EVENT_REMO'+'VE','remove');class ln extends me{constructor(_0xa84d97){super(),h(this,'app'),h(this,'_supported',Ae['browser']&&!!navigator['xr']),h(this,'_available',{}),h(this,'_type',null),h(this,'_spaceType',null),h(this,'_session',null),h(this,'_baseLayer',null),h(this,'webglBindi'+'ng',null),h(this,'_reference'+'Space',null),h(this,'domOverlay'),h(this,'hitTest'),h(this,'imageTrack'+'ing'),h(this,'planeDetec'+'tion'),h(this,'meshDetect'+'ion'),h(this,'input'),h(this,'lightEstim'+'ation'),h(this,'views'),h(this,'anchors'),h(this,'_camera',null),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_depthNear',-0x981*0x3+0xb44+0x113f+0.1),h(this,'_depthFar',-0xa3e+-0x1*-0x5b1+-0x875*-0x1),h(this,'_supported'+'FrameRates',null),h(this,'_width',-0x24b*0xf+-0x1bde+0x3e43),h(this,'_height',-0xffb*-0x1+0x3be+-0x13b9),h(this,'_framebuff'+'erScaleFac'+'tor',0x2*0xb52+-0x1c4d+0x5aa),(this['app']=_0xa84d97,this['_available'][lU]=!(0x2065+0x170e+-0x12e*0x2f),this['_available'][cU]=!(0x27a+0xe2*-0x1c+0x163f),this['_available'][$o]=!(-0x1336+-0xda7+0xe*0x259),this['views']=new Bh(this),this['domOverlay']=new fU(this),this['hitTest']=new jr(this),this['imageTrack'+'ing']=new L0(this),this['planeDetec'+'tion']=new Do(this),this['meshDetect'+'ion']=new Lo(this),this['input']=new Li(this),this['lightEstim'+'ation']=new Zu(this),this['anchors']=new on(this),this['views']=new Bh(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)),this['isPC']=z0());}['destroy'](){}['start'](_0x426303,_0x190771,_0x525e3c,_0x5842ad){let _0x1f6907=_0x5842ad;if(typeof _0x5842ad=='object'&&(_0x1f6907=_0x5842ad['callback']),!this['_available'][_0x190771]){_0x1f6907&&_0x1f6907(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x1f6907&&_0x1f6907(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x426303,this['_camera']['camera']['xr']=this,this['_type']=_0x190771,this['_spaceType']=_0x525e3c,this['_framebuff'+'erScaleFac'+'tor']=(_0x5842ad==null?void(-0x2d7+0x4*0x926+0x21c1*-0x1):_0x5842ad['framebuffe'+'rScaleFact'+'or'])??-0x1548+-0x52*-0x4c+-0x30f,this['_setClipPl'+'anes'](_0x426303['nearClip'],_0x426303['farClip']);const _0x367a83={'requiredFeatures':[_0x525e3c],'optionalFeatures':[]},_0x11f339=this['app']['graphicsDe'+'vice'];_0x11f339!=null&&_0x11f339['isWebGPU']&&_0x367a83['requiredFe'+'atures']['push']('webgpu');const _0x341e6c=_0x11f339==null?void(-0x2*0x11a1+0x1*0xbaf+0x1793):_0x11f339['isWebGL2'];if(_0x190771===$o){if(_0x367a83['optionalFe'+'atures']['push']('light-esti'+'mation'),_0x367a83['optionalFe'+'atures']['push']('hit-test'),_0x5842ad&&(_0x5842ad['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0x367a83['optionalFe'+'atures']['push']('image-trac'+'king'),_0x5842ad['planeDetec'+'tion']&&_0x367a83['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x5842ad['meshDetect'+'ion']&&_0x367a83['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0x367a83['optionalFe'+'atures']['push']('dom-overla'+'y'),_0x367a83['domOverlay']={'root':this['domOverlay']['root']}),_0x5842ad&&_0x5842ad['anchors']&&this['anchors']['supported']&&_0x367a83['optionalFe'+'atures']['push']('anchors'),_0x5842ad&&_0x5842ad['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0x367a83['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x2e94b1=[],_0x578c35=[];if(_0x2e94b1['push'](P0,dU),_0x578c35['push'](I0,M0,D0),_0x5842ad['depthSensi'+'ng']['usagePrefe'+'rence']){const _0x48a31a=_0x2e94b1['indexOf'](_0x5842ad['depthSensi'+'ng']['usagePrefe'+'rence']);_0x48a31a!==-(-0xd99+-0x31*-0x8f+-0x4b*0x2f)&&_0x2e94b1['splice'](_0x48a31a,0x1b0+0x3*0xbf5+-0x1fa*0x13),_0x2e94b1['unshift'](_0x5842ad['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x5842ad['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x5bd172=_0x578c35['indexOf'](_0x5842ad['depthSensi'+'ng']['dataFormat'+'Preference']);_0x5bd172!==-(0x21b0+0x3*-0x322+-0x1849)&&_0x578c35['splice'](_0x5bd172,-0xd38+-0x8e8+0x1621),_0x578c35['unshift'](_0x5842ad['depthSensi'+'ng']['dataFormat'+'Preference']);}_0x367a83['depthSensi'+'ng']={'usagePreference':_0x2e94b1,'dataFormatPreference':_0x578c35};}_0x341e6c&&_0x5842ad&&_0x5842ad['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0x367a83['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0x367a83['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x5842ad&&_0x5842ad['optionalFe'+'atures']&&(_0x367a83['optionalFe'+'atures']=_0x367a83['optionalFe'+'atures']['concat'](_0x5842ad['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x394074,_0x50604c)=>{if(_0x394074){_0x1f6907&&_0x1f6907(_0x394074),this['fire']('error',_0x394074);return;}_0x50604c!==null&&(_0x367a83['trackedIma'+'ges']=_0x50604c),this['_onStartOp'+'tionsReady'](_0x190771,_0x525e3c,_0x367a83,_0x1f6907);}):this['_onStartOp'+'tionsReady'](_0x190771,_0x525e3c,_0x367a83,_0x1f6907);}['_onStartOp'+'tionsReady'](_0x1f0cc6,_0xb53a1e,_0x4987cf,_0x2a7583){const _0x1a0867=this['isPC']?{'requiredFeatures':['local-floo'+'r']}:_0x4987cf;navigator['xr']['requestSes'+'sion'](_0x1f0cc6,_0x1a0867)['then'](_0xc6015=>{this['_onSession'+'Start'](_0xc6015,_0xb53a1e,_0x2a7583);})['catch'](_0x209bad=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x2a7583&&_0x2a7583(_0x209bad),this['fire']('error',_0x209bad);});}['end'](_0x409a97){if(!this['_session']){_0x409a97&&_0x409a97(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x409a97&&this['once']('end',_0x409a97),this['_session']['end']();}['isAvailabl'+'e'](_0x1d048c){return this['_available'][_0x1d048c];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x1a2979 in this['_available'])this['_sessionSu'+'pportCheck'](_0x1a2979);}['initiateRo'+'omCapture'](_0x61ddf6){if(!this['_session']){_0x61ddf6(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x61ddf6(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x61ddf6&&_0x61ddf6(null);})['catch'](_0x9621a9=>{_0x61ddf6&&_0x61ddf6(_0x9621a9);});}['updateTarg'+'etFrameRat'+'e'](_0x1d16ce,_0x56474b){var _0xd407a8;if(!((_0xd407a8=this['_session'])!=null&&_0xd407a8['updateTarg'+'etFrameRat'+'e'])){_0x56474b==null||_0x56474b(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x1d16ce)['then'](()=>{_0x56474b==null||_0x56474b();})['catch'](_0x3397a0=>{_0x56474b==null||_0x56474b(_0x3397a0);});}['_sessionSu'+'pportCheck'](_0x4d4b67){navigator['xr']['isSessionS'+'upported'](_0x4d4b67)['then'](_0x429fdf=>{this['_available'][_0x4d4b67]!==_0x429fdf&&(this['_available'][_0x4d4b67]=_0x429fdf,this['fire']('available',_0x4d4b67,_0x429fdf),this['fire']('available:'+_0x4d4b67,_0x429fdf));})['catch'](_0x514957=>{this['fire']('error',_0x514957);});}['_onSession'+'Start'](_0x19172c,_0x48fa9c,_0x492fe2){let _0x2d8bdc=!(0x3*0x7d3+0x1*-0x21b1+0xa39*0x1);this['_session']=_0x19172c;const _0x110d94=()=>{this['fire']('visibility'+':change',_0x19172c['visibility'+'State']);},_0xa1ab22=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x1e5b62=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0xa1ab22),this['_camera']['off']('set_farCli'+'p',_0xa1ab22),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x19172c['removeEven'+'tListener']('end',_0x1e5b62),_0x19172c['removeEven'+'tListener']('visibility'+'change',_0x110d94),_0x2d8bdc||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=0x1853+0x554*-0x4+-0x303,this['_height']=-0x1*0xfeb+-0x1fec+0x2fd7,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x19172c['addEventLi'+'stener']('end',_0x1e5b62),_0x19172c['addEventLi'+'stener']('visibility'+'change',_0x110d94),this['_camera']['on']('set_nearCl'+'ip',_0xa1ab22),this['_camera']['on']('set_farCli'+'p',_0xa1ab22),w['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x1c8936;this['fire']('frameratec'+'hange',(_0x1c8936=this['_session'])==null?void(0x1c80+-0x7bb+0x199*-0xd):_0x1c8936['frameRate']);}),_0x19172c['requestRef'+'erenceSpac'+'e'](_0x48fa9c)['then'](_0x51a0ad=>{this['_reference'+'Space']=_0x51a0ad,this['app']['tick'](),_0x492fe2&&_0x492fe2(null),this['fire']('start');})['catch'](_0xa1b152=>{_0x2d8bdc=!(-0x36f+-0x2445+-0x6*-0x69e),_0x19172c['end'](),_0x492fe2&&_0x492fe2(_0xa1b152),this['fire']('error',_0xa1b152);});}['_setClipPl'+'anes'](_0x3378a9,_0x25f051){this['_depthNear']===_0x3378a9&&this['_depthFar']===_0x25f051||(this['_depthNear']=_0x3378a9,this['_depthFar']=_0x25f051,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x5a1812=this['app']['graphicsDe'+'vice'],_0x4934b7=_0x5a1812['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x5a1812['gl'],{'alpha':!(-0x15de+0x1*0x6a3+0xf3b),'depth':!(0x1d7f+-0x41*0x45+-0xbfa),'stencil':!(-0x18ba+-0x14be+-0x2d78*-0x1),'framebufferScaleFactor':_0x4934b7,'antialias':!(-0xd3f+0x6*0x2a9+-0x2b6)}),_0x5a1812!=null&&_0x5a1812['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x5a1812['gl']);}catch(_0x40684b){this['fire']('error',_0x40684b);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x35d096=>{this['fire']('error',_0x35d096);});},0x8cb*0x3+-0x8cb*-0x4+-0x8cb*0x7);}['update'](_0x54aed0){if(!this['_session'])return!(-0x1*0x258d+0x1f51+0x63d*0x1);const _0x34b924=_0x54aed0['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x4e03a5=_0x54aed0['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x34b924||this['_height']!==_0x4e03a5)&&(this['_width']=_0x34b924,this['_height']=_0x4e03a5,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x34b924,_0x4e03a5));const _0x5dbb68=_0x54aed0['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x5dbb68)return!(-0x8db+0x619+-0x65*-0x7);const _0x2e8fc3=this['views']['list']['length'];this['views']['update'](_0x54aed0,_0x5dbb68['views']);const _0x23cd7c=_0x5dbb68['transform']['position'],_0x18bf67=_0x5dbb68['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x23cd7c['x'],_0x23cd7c['y'],_0x23cd7c['z']),this['_localRota'+'tion']['set'](_0x18bf67['x'],_0x18bf67['y'],_0x18bf67['z'],_0x18bf67['w']),_0x2e8fc3===0x7*-0x18d+-0x1621+0x20fc&&this['views']['list']['length']>-0x183c+0x2325+0x31*-0x39){const _0x46320e=new te(),_0x44418f=this['views']['list'][-0x1*0x1f43+0x14*0xd+0x1e3f];_0x46320e['copy'](_0x44418f['projMat']);const _0x1667d8=_0x46320e['data'],_0x177288=(0x1838+0xd52+0x4*-0x962)*Math['atan']((0x83*0xb+-0x5a0+0x0)/_0x1667d8[0x1dd7*-0x1+0x3d*-0x8b+0x3efb])*(0x12bf*0x1+0x1*-0x18c5+0x6ba)/Math['PI'],_0x5db08c=_0x1667d8[-0x1f77+0x523*-0x7+0x4371]/_0x1667d8[0x5*0x732+0x1f7e+-0x4378],_0x3982f8=_0x1667d8[-0xe32+-0x1436+0xb*0x322]/(_0x1667d8[-0x1465*-0x1+-0x5*-0x71f+-0x1bfb*0x2]+(-0x2*-0x21d+0x8c3*-0x3+0x1610)),_0x77476f=_0x1667d8[-0x255c+0x69*-0x13+0x2d35]/(_0x1667d8[-0x332+0x1d*0x101+-0x19e1]-(0xc1b*-0x3+-0x1527+-0x1*-0x3979));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x5db08c,'farClip':_0x3982f8,'fov':_0x177288,'horizontalFov':!(0x75d*0x5+0x34*0x1d+-0x2ab4),'nearClip':_0x77476f});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x54aed0),this['_type']===$o&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x54aed0),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x54aed0),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x54aed0),this['anchors']['supported']&&this['anchors']['update'](_0x54aed0),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x54aed0),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x54aed0)),this['fire']('update',_0x54aed0),!(0x178e+0x15f5+-0x2d83);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x4fbafd;return((_0x4fbafd=this['_session'])==null?void(0x11*-0x151+0x281+0x20*0x9f):_0x4fbafd['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x48cc72){var _0x3a40c6;(((_0x3a40c6=this['_baseLayer'])==null?void(-0x1d5*-0x10+0x1f*-0x65+-0x1115):_0x3a40c6['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>-0xf83+-0x1166+0x20ea&&w['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x48cc72);}get['fixedFovea'+'tion'](){var _0x693d92;return((_0x693d92=this['_baseLayer'])==null?void(-0x340+-0x1*-0x4fd+-0x1*0x1bd):_0x693d92['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}h(ln,'EVENT_AVAI'+'LABLE','available'),h(ln,'EVENT_STAR'+'T','start'),h(ln,'EVENT_END','end'),h(ln,'EVENT_UPDA'+'TE','update'),h(ln,'EVENT_ERRO'+'R','error');class $U extends Ks{constructor(_0x3e3ef6,_0x4ad8b2={}){super(_0x3e3ef6);const _0x20f92e=new tL();_0x20f92e['graphicsDe'+'vice']=_0x4ad8b2['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x3e3ef6,_0x4ad8b2),this['addCompone'+'ntSystems'](_0x20f92e),this['addResourc'+'eHandles'](_0x20f92e),_0x20f92e['elementInp'+'ut']=_0x4ad8b2['elementInp'+'ut'],_0x20f92e['keyboard']=_0x4ad8b2['keyboard'],_0x20f92e['mouse']=_0x4ad8b2['mouse'],_0x20f92e['touch']=_0x4ad8b2['touch'],_0x20f92e['gamepads']=_0x4ad8b2['gamepads'],_0x20f92e['scriptPref'+'ix']=_0x4ad8b2['scriptPref'+'ix'],_0x20f92e['assetPrefi'+'x']=_0x4ad8b2['assetPrefi'+'x'],_0x20f92e['scriptsOrd'+'er']=_0x4ad8b2['scriptsOrd'+'er'],_0x20f92e['soundManag'+'er']=new Pw(),_0x20f92e['lightmappe'+'r']=pL,_0x20f92e['batchManag'+'er']=IE,_0x20f92e['xr']=ln,this['init'](_0x20f92e);}['createDevi'+'ce'](_0x40340e,_0x398050){return _0x398050['graphicsDe'+'viceOption'+'s']||(_0x398050['graphicsDe'+'viceOption'+'s']={}),Ae['browser']&&navigator['xr']&&(_0x398050['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(0x6f5+0x2706+-0x95*0x4f)),_0x398050['graphicsDe'+'viceOption'+'s']['alpha']=_0x398050['graphicsDe'+'viceOption'+'s']['alpha']||!(0x1952+0x3d+0x1*-0x198e),new aw(_0x40340e,_0x398050['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0xb8a6b2){_0xb8a6b2['componentS'+'ystems']=[wm,nR,NR,RL,BL,KR,zO,xF,wF,kF,hF,VL,kO,YO,LR,$L,aF,oF,mF,XR,UR,gF,BF];}['addResourc'+'eHandles'](_0x1e9656){_0x1e9656['resourceHa'+'ndlers']=[zF,WN,$N,XN,Ek,yk,oU,Ok,mk,jN,Dk,bk,JN,pk,QN,Ik,uk,ek,tk,YN,Nk,Lk,Rk,ZN,fk];}}class XU extends me{constructor(_0x3899ef,_0x33802e){super(),h(this,'_assets',new Set()),h(this,'_loadingAs'+'sets',new Set()),h(this,'_waitingAs'+'sets',new Set()),h(this,'_loading',!(0xa7*-0x9+-0x1bf*-0x1+0x97*0x7)),h(this,'_loaded',!(-0x296+-0x4*0x269+0xc3b)),h(this,'_failed',[]),(this['_registry']=_0x33802e,_0x3899ef['forEach'](_0x2d7afa=>{if(_0x2d7afa instanceof pe)_0x2d7afa['registry']||(_0x2d7afa['registry']=_0x33802e),this['_assets']['add'](_0x2d7afa);else{const _0x17629b=_0x33802e['get'](_0x2d7afa);_0x17629b?this['_assets']['add'](_0x17629b):this['_waitForAs'+'set'](_0x2d7afa);}}));}['destroy'](){this['_registry']['off']('load',this['_onLoad']),this['_registry']['off']('error',this['_onError']),this['_waitingAs'+'sets']['forEach'](_0x30dd89=>{this['_registry']['off']('add:'+_0x30dd89,this['_onAddAsse'+'t']);}),this['off']('progress'),this['off']('load');}['_assetHasD'+'ependencie'+'s'](_0x59f8a3){var _0x1ee932;return _0x59f8a3['type']==='model'&&((_0x1ee932=_0x59f8a3['file'])==null?void(0x608+-0x2*0x5a2+0x53c):_0x1ee932['url'])&&_0x59f8a3['file']['url']&&_0x59f8a3['file']['url']['match'](/.json$/g);}['load'](_0x6b7d09,_0x6234c6){if(this['_loading']){console['debug']('AssetListL'+'oader:\x20Loa'+'d\x20function'+'\x20called\x20mu'+'ltiple\x20tim'+'es.');return;}this['_loading']=!(-0x1*0xe1b+0x3*0x977+-0x3b*0x3e),this['_callback']=_0x6b7d09,this['_scope']=_0x6234c6,this['_registry']['on']('load',this['_onLoad'],this),this['_registry']['on']('error',this['_onError'],this);let _0x1fb461=!(-0x1237*0x1+-0x1214+-0x4*-0x913);this['_assets']['forEach'](_0x48094e=>{_0x48094e['loaded']||(_0x1fb461=!(0x65*-0x33+0x9*0x21b+0x12c),this['_assetHasD'+'ependencie'+'s'](_0x48094e)&&this['_registry']['loadFromUr'+'l'](_0x48094e['file']['url'],_0x48094e['type'],(_0x4869f2,_0x50bd86)=>{if(_0x4869f2){this['_onError'](_0x4869f2,_0x48094e);return;}this['_onLoad'](_0x48094e);}),this['_loadingAs'+'sets']['add'](_0x48094e),this['_registry']['add'](_0x48094e));}),this['_loadingAs'+'sets']['forEach'](_0x46e7f7=>{this['_assetHasD'+'ependencie'+'s'](_0x46e7f7)||this['_registry']['load'](_0x46e7f7);}),!_0x1fb461&&this['_waitingAs'+'sets']['size']===0x2442+-0xbc*-0x2+-0x25ba&&this['_loadingCo'+'mplete']();}['ready'](_0x4b41af,_0x40737c=this){this['_loaded']?_0x4b41af['call'](_0x40737c,Array['from'](this['_assets'])):this['once']('load',_0xa74b41=>{_0x4b41af['call'](_0x40737c,_0xa74b41);});}['_loadingCo'+'mplete'](){this['_loaded']||(this['_loaded']=!(0x2240+-0x2*0x4a2+-0x18fc),this['_registry']['off']('load',this['_onLoad'],this),this['_registry']['off']('error',this['_onError'],this),this['_failed']['length']?(this['_callback']&&this['_callback']['call'](this['_scope'],'Failed\x20to\x20'+'load\x20some\x20'+'assets',this['_failed']),this['fire']('error',this['_failed'])):(this['_callback']&&this['_callback']['call'](this['_scope']),this['fire']('load',Array['from'](this['_assets']))));}['_onLoad'](_0x176743){this['_loadingAs'+'sets']['has'](_0x176743)&&(this['fire']('progress',_0x176743),this['_loadingAs'+'sets']['delete'](_0x176743)),this['_loadingAs'+'sets']['size']===-0x1*-0x2577+0x1*-0xfd3+-0x454*0x5&&setTimeout(()=>{this['_loadingCo'+'mplete']();},0x2*-0xd7e+0x1bac+-0x4*0x2c);}['_onError'](_0xd97a0e,_0x1c6d31){this['_loadingAs'+'sets']['has'](_0x1c6d31)&&(this['_failed']['push'](_0x1c6d31),this['_loadingAs'+'sets']['delete'](_0x1c6d31)),this['_loadingAs'+'sets']['size']===-0x1*0x2507+-0x4ee+0x29f5&&setTimeout(()=>{this['_loadingCo'+'mplete']();},-0x12*-0x39+-0x362*-0x7+-0x1bb0);}['_onAddAsse'+'t'](_0x5e308f){this['_waitingAs'+'sets']['delete'](_0x5e308f),this['_assets']['add'](_0x5e308f),_0x5e308f['loaded']||(this['_loadingAs'+'sets']['add'](_0x5e308f),this['_registry']['load'](_0x5e308f));}['_waitForAs'+'set'](_0x50ddfa){this['_waitingAs'+'sets']['add'](_0x50ddfa),this['_registry']['once']('add:'+_0x50ddfa,this['_onAddAsse'+'t'],this);}}const Fc=[],_U=[[],[],[]];class gU extends ys{constructor(_0x4ff016,_0x3491f7){super(_0x4ff016),h(this,'viewBindGr'+'oups',[]),this['renderer']=_0x3491f7;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x65d577=>{_0x65d577['defaultUni'+'formBuffer']['destroy'](),_0x65d577['destroy']();}),this['viewBindGr'+'oups']['length']=0x119e+-0x1d*-0xfb+0x2e0d*-0x1;}['update'](_0x1c4cc0,_0x558a4d,_0x348126,_0x1c6553){this['camera']=_0x1c4cc0,this['scene']=_0x558a4d,this['layers']=_0x348126,this['mapping']=_0x1c6553;}['execute'](){const _0x2e06e7=this['device'],{renderer:_0x289b13,camera:_0x3c1b9e,scene:_0xac8ac,layers:_0x203cf6,mapping:_0x149706,renderTarget:_0x523576}=this,_0x40c35c=_0xac8ac['layers']['layerList'],_0xd98ef6=_0xac8ac['layers']['subLayerEn'+'abled'],_0x1f50bb=_0xac8ac['layers']['subLayerLi'+'st'];for(let _0x4b16ba=0x2171+-0x162+-0x1*0x200f;_0x4b16ba<_0x40c35c['length'];_0x4b16ba++){const _0xf35366=_0x40c35c[_0x4b16ba];if(!(_0x203cf6&&_0x203cf6['indexOf'](_0xf35366)<0x1*-0x196d+-0x1840+0x9d*0x51)&&_0xf35366['enabled']&&_0xd98ef6[_0x4b16ba]&&_0xf35366['camerasSet']['has'](_0x3c1b9e['camera'])){const _0x22eee9=_0x1f50bb[_0x4b16ba];Q['pushGpuMar'+'ker'](_0x2e06e7,_0xf35366['name']+'('+(_0x22eee9?'TRANSP':'OPAQUE')+')'),_0xf35366['_clearDept'+'hBuffer']&&_0x289b13['clear'](_0x3c1b9e['camera'],!(0x1d30+0x23dd*-0x1+-0x13*-0x5a),!(0x1ce9+-0x161*0x1+0x8*-0x371),!(-0x13a3*-0x1+-0x24e6+0x1ba*0xa));const _0x1bd8c2=_0xf35366['meshInstan'+'ces'];for(let _0x131d5d=0x1612+-0x148e+-0x4*0x61;_0x131d5d<_0x1bd8c2['length'];_0x131d5d++){const _0x15e7f4=_0x1bd8c2[_0x131d5d];_0x15e7f4['pick']&&_0x15e7f4['transparen'+'t']===_0x22eee9&&(Fc['push'](_0x15e7f4),_0x149706['set'](_0x15e7f4['id'],_0x15e7f4));}Fc['length']>-0x1*0xe53+-0x2089*0x1+0xbb7*0x4&&(_0xac8ac['clusteredL'+'ightingEna'+'bled']&&_0x289b13['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x289b13['setCameraU'+'niforms'](_0x3c1b9e['camera'],_0x523576),_0x2e06e7['supportsUn'+'iformBuffe'+'rs']&&_0x289b13['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x289b13['viewUnifor'+'mFormat'],_0x289b13['viewBindGr'+'oupFormat'],null),_0x289b13['renderForw'+'ard'](_0x3c1b9e['camera'],_0x523576,Fc,_U,Zn,_0x253da0=>{_0x2e06e7['setBlendSt'+'ate'](pt['NOBLEND']);}),Fc['length']=-0x1307+-0x1*-0xee3+0x424),Q['popGpuMark'+'er'](_0x2e06e7);}}}}const Rf=new Set(),SU=new re();let qU=class{constructor(_0x397174,_0x1d3dfb,_0x559f67){h(this,'renderTarg'+'et',null),h(this,'mapping',new Map()),h(this,'deviceVali'+'d',!(-0x1432+-0xc4*0x2f+0x11*0x34e)),(w['assert'](_0x397174),this['renderer']=_0x397174['renderer'],this['device']=_0x397174['graphicsDe'+'vice'],this['renderPass']=new gU(this['device'],_0x397174['renderer']),this['width']=-0x19be+-0x1f9c+-0x2*-0x1cad,this['height']=0x159a+0x169d+-0x21*0x157,this['resize'](_0x1d3dfb,_0x559f67),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(0x1fb5*0x1+0x7*-0x345+0x25*-0x3d);}));}['getSelecti'+'on'](_0x3ae5da,_0x592f7d,_0x19bcd6=-0x2348*-0x1+-0x1b8+-0x218f,_0x332bc6=0xa01*-0x1+-0xd*0x81+0x108f){const _0x5d287b=this['device'];if(_0x5d287b['isWebGPU'])return w['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];w['assert'](typeof _0x3ae5da!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x592f7d=this['renderTarg'+'et']['height']-(_0x592f7d+_0x332bc6);const _0x17a672=this['sanitizeRe'+'ct'](_0x3ae5da,_0x592f7d,_0x19bcd6,_0x332bc6);_0x5d287b['setRenderT'+'arget'](this['renderTarg'+'et']),_0x5d287b['updateBegi'+'n']();const _0x5dcce8=new Uint8Array((-0x1*0x305+-0x2ef+-0x1*-0x5f8)*_0x17a672['z']*_0x17a672['w']);return _0x5d287b['readPixels'](_0x17a672['x'],_0x17a672['y'],_0x17a672['z'],_0x17a672['w'],_0x5dcce8),_0x5d287b['updateEnd'](),this['decodePixe'+'ls'](_0x5dcce8,this['mapping']);}['getSelecti'+'onAsync'](_0x118ad4,_0x48bd99,_0x569ed1=0x1*-0x15cb+-0x1f91+0x355d,_0xfb13a=-0x18d5+0x39*0x35+0xd09){var _0x2c16e7;(_0x2c16e7=this['device'])!=null&&_0x2c16e7['isWebGL2']&&(_0x48bd99=this['renderTarg'+'et']['height']-(_0x48bd99+_0xfb13a));const _0x45d6bd=this['sanitizeRe'+'ct'](_0x118ad4,_0x48bd99,_0x569ed1,_0xfb13a);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0x45d6bd['x'],_0x45d6bd['y'],_0x45d6bd['z'],_0x45d6bd['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(0x1a6c+0x17e*-0x7+-0xffa)})['then'](_0x69dd4=>this['decodePixe'+'ls'](_0x69dd4,this['mapping']));}['sanitizeRe'+'ct'](_0x47d4f2,_0x3d209e,_0x3c488c,_0x25b23d){const _0x54793b=this['renderTarg'+'et']['width'],_0x4f9ad7=this['renderTarg'+'et']['height'];return _0x47d4f2=Y['clamp'](Math['floor'](_0x47d4f2),-0x1cbd*0x1+0x152*0x5+0x1623*0x1,_0x54793b-(0x742+0x2676+0x2db7*-0x1)),_0x3d209e=Y['clamp'](Math['floor'](_0x3d209e),0x2ab*0x7+0x826+-0x1ad3,_0x4f9ad7-(0x1*-0x10b9+-0x1*0x2037+0xb*0x473)),_0x3c488c=Math['floor'](Math['max'](_0x3c488c,-0x269c+-0x143*-0x5+-0x1027*-0x2)),_0x3c488c=Math['min'](_0x3c488c,_0x54793b-_0x47d4f2),_0x25b23d=Math['floor'](Math['max'](_0x25b23d,-0xe81+-0x656*0x3+-0x4*-0x861)),_0x25b23d=Math['min'](_0x25b23d,_0x4f9ad7-_0x3d209e),SU['set'](_0x47d4f2,_0x3d209e,_0x3c488c,_0x25b23d);}['decodePixe'+'ls'](_0x2846ac,_0x105b44){const _0x490c4f=[];if(this['deviceVali'+'d']){const _0x39ec0b=_0x2846ac['length'];for(let _0x45f329=0x4e*-0x7a+0x1*-0x939+0x2e65;_0x45f329<_0x39ec0b;_0x45f329+=0x121d+-0x69d+-0xb7c){const _0x22a03f=_0x2846ac[_0x45f329+(-0x4f4*-0x7+-0x23f7+0x14b)],_0x2cf333=_0x2846ac[_0x45f329+(-0x417+-0x12e5+0x16fd)],_0x502590=_0x2846ac[_0x45f329+(0x23d*0x7+0x2441+0x2*-0x19f5)],_0x5d7959=(_0x2846ac[_0x45f329+(-0xe1a+0xfc9*-0x1+0x1de6)]<<-0xa6f+0x335*-0x1+-0x494*-0x3|_0x22a03f<<-0x1137+-0x4*0x509+-0x135*-0x1f|_0x2cf333<<-0x3*0x5ef+0x7*-0x34+0x5d*0x35|_0x502590)>>>-0x1e75+-0x75*-0x2a+0xb43;_0x5d7959!==-0x2cc6a6c8*0x1+-0x1c929b65b+-0x2*-0x17af82e91&&Rf['add'](_0x105b44['get'](_0x5d7959));}Rf['forEach'](_0x4dfeea=>{_0x4dfeea&&_0x490c4f['push'](_0x4dfeea);}),Rf['clear']();}return _0x490c4f;}['allocateRe'+'nderTarget'](){const _0x21be69=new _e(this['device'],{'format':Ne,'width':this['width'],'height':this['height'],'mipmaps':!(-0x14b9+-0x1*0x7fa+0x29c*0xb),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':'pick'});this['renderTarg'+'et']=new gt({'colorBuffer':_0x21be69,'depth':!(-0x1f7a+0x1*0x1ebf+0xbb)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x2b49a2,_0x5c19f4,_0x4643a5){_0x4643a5 instanceof Ot&&(_0x4643a5=[_0x4643a5]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0x37d64d=this['renderPass'];_0x37d64d['init'](this['renderTarg'+'et']),_0x37d64d['colorOps']['clearValue']=ie['WHITE'],_0x37d64d['colorOps']['clear']=!(-0x2*0x1291+0xb2*0x16+0x15d6),_0x37d64d['depthStenc'+'ilOps']['clearDepth']=!(0x1a1b+-0x465*0x3+-0xcec),_0x37d64d['update'](_0x2b49a2,_0x5c19f4,_0x4643a5,this['mapping']),_0x37d64d['render']();}['resize'](_0x15cbd7,_0x204455){this['width']=Math['floor'](_0x15cbd7),this['height']=Math['floor'](_0x204455);}},cr,hr;const Of=new D(),RS=new D(),Ri=new Dn(),Ro=new Dn(),ep=new Dn();Ri['end']=new D(),Ro['end']=new D(),ep['end']=new D();const en=new D(),Nc=new D(),Ff=new D(),OS=new D(),Nf=new D(),kc=new D(),Uc=new D(),Bc=new D(),zc=new D(),kf=new D(),yU=new D(),tn=new D(),wo=new D(),Vc=new D(),Gc=new D(),Eo=new D(),FS=new D(),NS=new D(),kS=new D(),US=new D(),vU=new re();function BS(_0x38ffdb,_0x4dea97,_0x25a720){return yU['cross'](_0x38ffdb,_0x4dea97)['dot'](_0x25a720);}function xU(_0x4836d2,_0x409814,_0x3c019e){en['sub2'](_0x409814,_0x4836d2),Nc['sub2'](_0x3c019e[-0x43*0x88+0x1e6+0x21b2],_0x4836d2),Ff['sub2'](_0x3c019e[0x16f2+-0x30d+-0x13e4],_0x4836d2),OS['sub2'](_0x3c019e[-0x2691+-0x1*0x709+0x2d9c],_0x4836d2),kc['cross'](OS,en);let _0x1bb532=Nc['dot'](kc),_0x115ee0,_0x288665;if(_0x1bb532>=0x2279+0x395+-0x260e*0x1){if(_0x115ee0=-Ff['dot'](kc),_0x115ee0<-0x1c1+0x232f+-0x216e||(_0x288665=BS(en,Ff,Nc),_0x288665<-0x67*-0x28+-0x1*-0xe8d+-0x1ea5))return-(-0x14ca+-0x5*-0x3c7+0x1e8);const _0x384325=(0x1e93+0xb1f+0x29b1*-0x1)/(_0x115ee0+_0x1bb532+_0x288665);Uc['copy'](_0x3c019e[0x248f*0x1+-0x3*0x77+-0x232a])['mulScalar'](_0x115ee0*_0x384325),Bc['copy'](_0x3c019e[-0x2*0x1223+-0x10a0+0x1*0x34e7])['mulScalar'](_0x1bb532*_0x384325),zc['copy'](_0x3c019e[0x1*-0xdb0+-0x11*-0x117+-0x4d5])['mulScalar'](_0x288665*_0x384325),kf['copy'](Uc)['add'](Bc)['add'](zc);}else{if(Nf['sub2'](_0x3c019e[-0x3d6*0x1+0x1b19+-0x1740],_0x4836d2),_0x115ee0=Nf['dot'](kc),_0x115ee0<0x1e04*-0x1+-0xf*0xaa+-0x56*-0x77||(_0x288665=BS(en,Nc,Nf),_0x288665<0x2*0x12e9+-0x73e*-0x1+0xe*-0x338))return-(0x254e+-0x153b*-0x1+-0x3a88);_0x1bb532=-_0x1bb532;const _0x3ce88c=(-0x185f+0x20ae+-0x2*0x427)/(_0x115ee0+_0x1bb532+_0x288665);Uc['copy'](_0x3c019e[0x1963+-0x2af+-0x2*0xb5a])['mulScalar'](_0x115ee0*_0x3ce88c),Bc['copy'](_0x3c019e[0x1*-0x1c1d+-0x16*-0x17b+-0x472])['mulScalar'](_0x1bb532*_0x3ce88c),zc['copy'](_0x3c019e[-0x22a*0x10+-0x1bdb+-0x11*-0x3ad])['mulScalar'](_0x288665*_0x3ce88c),kf['copy'](Uc)['add'](Bc)['add'](zc);}return en['sub2'](_0x3c019e[-0x243b+0xa9a*-0x1+0x2ed5*0x1],_0x3c019e[0xd8e+-0x208*-0x3+-0x13a4])['lengthSq']()<(0x2*-0x2f6+-0x3*0x9bf+0x2329*0x1+0.0001)*(-0x1c14+0x1f32*0x1+-0x31e+0.0001)||en['sub2'](_0x3c019e[0x9e0+0x1*-0x26b3+-0xc*-0x267],_0x3c019e[-0x990+0x14ef+-0xb5c])['lengthSq']()<(-0x3*0x4a3+-0xf45*-0x1+-0x15c+0.0001)*(0x2*0x371+-0x37*0x2+-0x674+0.0001)?-(-0x1*0x8fd+0x1*-0x1aad+-0x23ab*-0x1):kf['sub'](_0x4836d2)['lengthSq']();}class Am{constructor(_0x2f5187,_0xa0e061,_0x201861){this['event']=_0x2f5187,this['element']=_0xa0e061,this['camera']=_0x201861,this['_stopPropa'+'gation']=!(-0xa*0x178+0x1d60+0x3*-0x4e5);}['stopPropag'+'ation'](){this['_stopPropa'+'gation']=!(-0x1ae9+-0x1feb+0x3ad4),this['event']&&(this['event']['stopImmedi'+'atePropaga'+'tion'](),this['event']['stopPropag'+'ation']());}}class bo extends Am{constructor(_0x9ce081,_0x45343b,_0x4fa168,_0x1fac0f,_0x49390d,_0x583a57,_0x50e57a){super(_0x9ce081,_0x45343b,_0x4fa168),this['x']=_0x1fac0f,this['y']=_0x49390d,this['ctrlKey']=_0x9ce081['ctrlKey']||!(-0xa9*0x18+-0x1865*-0x1+-0x88c),this['altKey']=_0x9ce081['altKey']||!(0x22b4+-0xf09+-0x68e*0x3),this['shiftKey']=_0x9ce081['shiftKey']||!(-0x41e+0xf25*-0x1+0x1344),this['metaKey']=_0x9ce081['metaKey']||!(0x11*0x129+0x18b5+-0x2c6d),this['button']=_0x9ce081['button'],sa['isPointerL'+'ocked']()?(this['dx']=_0x9ce081['movementX']||_0x9ce081['webkitMove'+'mentX']||_0x9ce081['mozMovemen'+'tX']||0x183+-0x22bc*0x1+0x3b1*0x9,this['dy']=_0x9ce081['movementY']||_0x9ce081['webkitMove'+'mentY']||_0x9ce081['mozMovemen'+'tY']||-0xb45*0x1+-0x143e+0x1f83):(this['dx']=_0x1fac0f-_0x583a57,this['dy']=_0x49390d-_0x50e57a),this['wheelDelta']=0x1093+0xaab+-0x1b3e*0x1,_0x9ce081['type']==='wheel'&&(_0x9ce081['deltaY']>-0x3ed*0x1+0x96e+-0x1*0x581?this['wheelDelta']=-0x671+-0x1015+0x1687:_0x9ce081['deltaY']<-0x1*-0x1fdf+-0x6ec*0x3+-0xb1b&&(this['wheelDelta']=-(-0x1*0x25e1+0x1*0x2467+0x17b*0x1)));}}class Ao extends Am{constructor(_0x4832d1,_0x33df54,_0x463e88,_0x5c0d96,_0x156a31,_0x452546){super(_0x4832d1,_0x33df54,_0x463e88),this['touches']=_0x4832d1['touches'],this['changedTou'+'ches']=_0x4832d1['changedTou'+'ches'],this['x']=_0x5c0d96,this['y']=_0x156a31,this['touch']=_0x452546;}}class dr extends Am{constructor(_0x3ba9f8,_0x5df0df,_0x1ec043,_0x153fa4){super(_0x3ba9f8,_0x5df0df,_0x1ec043),this['inputSourc'+'e']=_0x153fa4;}}class Xo{constructor(_0x4702a7,_0x192009){this['_app']=null,this['_attached']=!(-0x1dbe+0x1*0x17f7+-0xb9*-0x8),this['_target']=null,this['_enabled']=!(0x43*-0x80+-0x19*0x135+0x3fad),this['_lastX']=0x17b6+-0x3d*-0x85+-0x3767,this['_lastY']=0x6f*-0x25+0x384*0x9+-0xf99,this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_touchstar'+'tHandler']=this['_handleTou'+'chStart']['bind'](this),this['_touchendH'+'andler']=this['_handleTou'+'chEnd']['bind'](this),this['_touchcanc'+'elHandler']=this['_touchendH'+'andler'],this['_touchmove'+'Handler']=this['_handleTou'+'chMove']['bind'](this),this['_sortHandl'+'er']=this['_sortEleme'+'nts']['bind'](this),this['_elements']=[],this['_hoveredEl'+'ement']=null,this['_pressedEl'+'ement']=null,this['_touchedEl'+'ements']={},this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired']={},this['_selectedE'+'lements']={},this['_selectedP'+'ressedElem'+'ents']={},this['_useMouse']=!_0x192009||_0x192009['useMouse']!==!(0x1*-0xee0+0x17ba+-0x8d9),this['_useTouch']=!_0x192009||_0x192009['useTouch']!==!(0x74f*-0x5+0xcf0+0x179c),this['_useXr']=!_0x192009||_0x192009['useXr']!==!(-0x2*0x699+-0x1676+0x23a9),this['_selectEve'+'ntsAttache'+'d']=!(-0x267e+-0x1*0x1c27+-0x382*-0x13),Ae['touch']&&(this['_clickedEn'+'tities']={}),this['attach'](_0x4702a7);}set['enabled'](_0x3d63a6){this['_enabled']=_0x3d63a6;}get['enabled'](){return this['_enabled'];}set['app'](_0x11b810){this['_app']=_0x11b810;}get['app'](){return this['_app']||Ms();}['attach'](_0x523f9e){this['_attached']&&(this['_attached']=!(-0x1*-0x1df9+0x1b5e+-0x3956),this['detach']()),this['_target']=_0x523f9e,this['_attached']=!(0x1a73+-0x1*-0x885+-0x175*0x18);const _0xcbe3dd=Ae['passiveEve'+'nts']?{'passive':!(-0x5*0x4f3+0x5*0x5bc+-0xc9*0x5)}:!(0x4c4*-0x3+-0x1*0x1208+0x2055);this['_useMouse']&&(window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0xcbe3dd),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0xcbe3dd),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0xcbe3dd),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0xcbe3dd)),this['_useTouch']&&Ae['touch']&&(this['_target']['addEventLi'+'stener']('touchstart',this['_touchstar'+'tHandler'],_0xcbe3dd),this['_target']['addEventLi'+'stener']('touchend',this['_touchendH'+'andler'],!(0x312*0x3+0x1d00+-0x1*0x2635)),this['_target']['addEventLi'+'stener']('touchmove',this['_touchmove'+'Handler'],!(0x51*0xc+0x14a5+-0x8*0x30e)),this['_target']['addEventLi'+'stener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(0x1f57*0x1+-0x1b2*0x3+-0x1a40))),this['attachSele'+'ctEvents']();}['attachSele'+'ctEvents'](){!this['_selectEve'+'ntsAttache'+'d']&&this['_useXr']&&this['app']&&this['app']['xr']&&this['app']['xr']['supported']&&(this['_clickedEn'+'tities']||(this['_clickedEn'+'tities']={}),this['_selectEve'+'ntsAttache'+'d']=!(0x182*-0xe+0x1*-0xe11+0x5*0x709),this['app']['xr']['on']('start',this['_onXrStart'],this));}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x1c9d+0x47*-0x9+0x1f1d);const _0x2019a4=Ae['passiveEve'+'nts']?{'passive':!(-0x19ae+-0x7a3+0x2151)}:!(0x41c+0x1658+-0x1a73);this['_useMouse']&&(window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x2019a4),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x2019a4),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x2019a4),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x2019a4)),this['_useTouch']&&(this['_target']['removeEven'+'tListener']('touchstart',this['_touchstar'+'tHandler'],_0x2019a4),this['_target']['removeEven'+'tListener']('touchend',this['_touchendH'+'andler'],!(-0x12*0x147+0x451+-0x6*-0x31d)),this['_target']['removeEven'+'tListener']('touchmove',this['_touchmove'+'Handler'],!(0x2593+0x182c+-0x3dbe)),this['_target']['removeEven'+'tListener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(-0x5*0x23b+0x2616+0x2fe*-0x9))),this['_selectEve'+'ntsAttache'+'d']&&(this['_selectEve'+'ntsAttache'+'d']=!(-0xa24+0x19*0x13c+-0x14b7),this['app']['xr']['off']('start',this['_onXrStart'],this),this['app']['xr']['off']('end',this['_onXrEnd'],this),this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this)),this['_target']=null;}['addElement'](_0x27fef5){this['_elements']['indexOf'](_0x27fef5)===-(0x1088+-0x99e*0x3+-0x277*-0x5)&&this['_elements']['push'](_0x27fef5);}['removeElem'+'ent'](_0x27c9a4){const _0x56e143=this['_elements']['indexOf'](_0x27c9a4);_0x56e143!==-(-0x2652+0x4*-0x1e1+0x2dd7)&&this['_elements']['splice'](_0x56e143,-0x579+-0xaa6+0x204*0x8);}['_handleUp'](_0x56b0a7){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x56b0a7),this['_onElement'+'MouseEvent']('mouseup',_0x56b0a7)));}['_handleDow'+'n'](_0x2bf2cb){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x2bf2cb),this['_onElement'+'MouseEvent']('mousedown',_0x2bf2cb)));}['_handleMov'+'e'](_0xe878e){this['_enabled']&&(this['_calcMouse'+'Coords'](_0xe878e),this['_onElement'+'MouseEvent']('mousemove',_0xe878e),this['_lastX']=cr,this['_lastY']=hr);}['_handleWhe'+'el'](_0x50bf88){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x50bf88),this['_onElement'+'MouseEvent']('mousewheel',_0x50bf88));}['_determine'+'TouchedEle'+'ments'](_0x2e0995){const _0x26d1af={},_0x31258c=this['app']['systems']['camera']['cameras'];for(let _0x5c908e=_0x31258c['length']-(-0x162f*-0x1+0x45*0x23+-0x1f9d);_0x5c908e>=-0x1*0x2623+0x9ef+-0x5a4*-0x5;_0x5c908e--){const _0x427c69=_0x31258c[_0x5c908e];let _0x2e93a5=-0x89e+0xde5+-0x547;const _0x3ca31c=_0x2e0995['changedTou'+'ches']['length'];for(let _0x18d016=0x1087+-0x5e*-0x19+-0x19b5;_0x18d016<_0x3ca31c;_0x18d016++){if(_0x26d1af[_0x2e0995['changedTou'+'ches'][_0x18d016]['identifier']]){_0x2e93a5++;continue;}const _0x57885a=Wc(_0x2e0995['changedTou'+'ches'][_0x18d016]),_0x5eda68=this['_getTarget'+'ElementByC'+'oords'](_0x427c69,_0x57885a['x'],_0x57885a['y']);_0x5eda68&&(_0x2e93a5++,_0x26d1af[_0x2e0995['changedTou'+'ches'][_0x18d016]['identifier']]={'element':_0x5eda68,'camera':_0x427c69,'x':_0x57885a['x'],'y':_0x57885a['y']});}if(_0x2e93a5===_0x3ca31c)break;}return _0x26d1af;}['_handleTou'+'chStart'](_0x24a761){if(!this['_enabled'])return;const _0x195ddd=this['_determine'+'TouchedEle'+'ments'](_0x24a761);for(let _0x3898d4=-0x1*0x17ab+0x1c43+-0x1*0x498,_0x5d2f72=_0x24a761['changedTou'+'ches']['length'];_0x3898d4<_0x5d2f72;_0x3898d4++){const _0x3c09d4=_0x24a761['changedTou'+'ches'][_0x3898d4],_0x29b0d8=_0x195ddd[_0x3c09d4['identifier']],_0xe34755=this['_touchedEl'+'ements'][_0x3c09d4['identifier']];_0x29b0d8&&(!_0xe34755||_0x29b0d8['element']!==_0xe34755['element'])&&(this['_fireEvent'](_0x24a761['type'],new Ao(_0x24a761,_0x29b0d8['element'],_0x29b0d8['camera'],_0x29b0d8['x'],_0x29b0d8['y'],_0x3c09d4)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x3c09d4['identifier']]=!(0x5+-0x9*0x439+0x25fd));}for(const _0x112708 in _0x195ddd)this['_touchedEl'+'ements'][_0x112708]=_0x195ddd[_0x112708];}['_handleTou'+'chEnd'](_0x7d9011){if(!this['_enabled'])return;const _0xd33c7d=this['app']['systems']['camera']['cameras'];for(const _0x1247b6 in this['_clickedEn'+'tities'])delete this['_clickedEn'+'tities'][_0x1247b6];for(let _0x500129=0xf9f+-0xd*-0x187+-0x1*0x237a,_0x51bd02=_0x7d9011['changedTou'+'ches']['length'];_0x500129<_0x51bd02;_0x500129++){const _0x42d9ac=_0x7d9011['changedTou'+'ches'][_0x500129],_0xf7cd23=this['_touchedEl'+'ements'][_0x42d9ac['identifier']];if(!_0xf7cd23)continue;const _0x556645=_0xf7cd23['element'],_0x10f94d=_0xf7cd23['camera'],_0x37e6c9=_0xf7cd23['x'],_0x22be93=_0xf7cd23['y'];delete this['_touchedEl'+'ements'][_0x42d9ac['identifier']],delete this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x42d9ac['identifier']];const _0x684611=Wc(_0x42d9ac);for(let _0x529ced=_0xd33c7d['length']-(0x504+0x1f6d+0x48e*-0x8);_0x529ced>=-0x1680+0x5*0x55+-0x1e5*-0xb;_0x529ced--)this['_getTarget'+'ElementByC'+'oords'](_0xd33c7d[_0x529ced],_0x684611['x'],_0x684611['y'])===_0x556645&&(this['_clickedEn'+'tities'][_0x556645['entity']['getGuid']()]||(this['_fireEvent']('click',new Ao(_0x7d9011,_0x556645,_0x10f94d,_0x37e6c9,_0x22be93,_0x42d9ac)),this['_clickedEn'+'tities'][_0x556645['entity']['getGuid']()]=Date['now']()));this['_fireEvent'](_0x7d9011['type'],new Ao(_0x7d9011,_0x556645,_0x10f94d,_0x37e6c9,_0x22be93,_0x42d9ac));}}['_handleTou'+'chMove'](_0x2a500b){if(_0x2a500b['preventDef'+'ault'](),!this['_enabled'])return;const _0x2b24f5=this['_determine'+'TouchedEle'+'ments'](_0x2a500b);for(let _0x1a2beb=-0x17*-0x146+-0x1b50+-0x2*0xfd,_0xea18d9=_0x2a500b['changedTou'+'ches']['length'];_0x1a2beb<_0xea18d9;_0x1a2beb++){const _0x5505e0=_0x2a500b['changedTou'+'ches'][_0x1a2beb],_0x4344e8=_0x2b24f5[_0x5505e0['identifier']],_0x4246a6=this['_touchedEl'+'ements'][_0x5505e0['identifier']];if(_0x4246a6){const _0x56f2d3=Wc(_0x5505e0);(!_0x4344e8||_0x4344e8['element']!==_0x4246a6['element'])&&!this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x5505e0['identifier']]&&(this['_fireEvent']('touchleave',new Ao(_0x2a500b,_0x4246a6['element'],_0x4246a6['camera'],_0x56f2d3['x'],_0x56f2d3['y'],_0x5505e0)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x5505e0['identifier']]=!(0x9b3*0x1+0x1*0x2581+-0x2f34)),this['_fireEvent']('touchmove',new Ao(_0x2a500b,_0x4246a6['element'],_0x4246a6['camera'],_0x56f2d3['x'],_0x56f2d3['y'],_0x5505e0));}}}['_onElement'+'MouseEvent'](_0x582076,_0x3d0625){let _0x1f5c6e=null;const _0x4a6b99=this['_hoveredEl'+'ement'];this['_hoveredEl'+'ement']=null;const _0x5aaed4=this['app']['systems']['camera']['cameras'];let _0x18dbe6;for(let _0x506c32=_0x5aaed4['length']-(-0x162b*0x1+-0x1723+-0x2d4f*-0x1);_0x506c32>=0x21e5+0x1*0xe37+-0x4*0xc07&&(_0x18dbe6=_0x5aaed4[_0x506c32],_0x1f5c6e=this['_getTarget'+'ElementByC'+'oords'](_0x18dbe6,cr,hr),!_0x1f5c6e);_0x506c32--);if(this['_hoveredEl'+'ement']=_0x1f5c6e,(_0x582076==='mousemove'||_0x582076==='mouseup')&&this['_pressedEl'+'ement']?this['_fireEvent'](_0x582076,new bo(_0x3d0625,this['_pressedEl'+'ement'],_0x18dbe6,cr,hr,this['_lastX'],this['_lastY'])):_0x1f5c6e&&(this['_fireEvent'](_0x582076,new bo(_0x3d0625,_0x1f5c6e,_0x18dbe6,cr,hr,this['_lastX'],this['_lastY'])),_0x582076==='mousedown'&&(this['_pressedEl'+'ement']=_0x1f5c6e)),_0x4a6b99!==this['_hoveredEl'+'ement']&&(_0x4a6b99&&this['_fireEvent']('mouseleave',new bo(_0x3d0625,_0x4a6b99,_0x18dbe6,cr,hr,this['_lastX'],this['_lastY'])),this['_hoveredEl'+'ement']&&this['_fireEvent']('mouseenter',new bo(_0x3d0625,this['_hoveredEl'+'ement'],_0x18dbe6,cr,hr,this['_lastX'],this['_lastY']))),_0x582076==='mouseup'&&this['_pressedEl'+'ement']){if(this['_pressedEl'+'ement']===this['_hoveredEl'+'ement']){const _0x229430=this['_hoveredEl'+'ement']['entity']['getGuid']();let _0x5b3e41=!this['_clickedEn'+'tities'];if(this['_clickedEn'+'tities']){const _0x547c04=this['_clickedEn'+'tities'][_0x229430]||-0x10ba+0x571*-0x1+0x162b;_0x5b3e41=Date['now']()-_0x547c04>0xc*-0xb8+-0xd8a*-0x2+-0x38*0x4f,delete this['_clickedEn'+'tities'][_0x229430];}_0x5b3e41&&this['_fireEvent']('click',new bo(_0x3d0625,this['_hoveredEl'+'ement'],_0x18dbe6,cr,hr,this['_lastX'],this['_lastY']));}this['_pressedEl'+'ement']=null;}}['_onXrStart'](){this['app']['xr']['on']('end',this['_onXrEnd'],this),this['app']['xr']['on']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['on']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['on']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['on']('remove',this['_onXrInput'+'Remove'],this);}['_onXrEnd'](){this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this);}['_onXrUpdat'+'e'](){if(!this['_enabled'])return;const _0x2a04fe=this['app']['xr']['input']['inputSourc'+'es'];for(let _0x5359cf=-0x121a+0x577*-0x2+0x1d08;_0x5359cf<_0x2a04fe['length'];_0x5359cf++)this['_onElement'+'SelectEven'+'t']('selectmove',_0x2a04fe[_0x5359cf],null);}['_onXrInput'+'Remove'](_0x2f033b){const _0xdeb3ca=this['_selectedE'+'lements'][_0x2f033b['id']];_0xdeb3ca&&(_0x2f033b['_elementEn'+'tity']=null,this['_fireEvent']('selectleav'+'e',new dr(null,_0xdeb3ca,null,_0x2f033b))),delete this['_selectedE'+'lements'][_0x2f033b['id']],delete this['_selectedP'+'ressedElem'+'ents'][_0x2f033b['id']];}['_onSelectS'+'tart'](_0x645d09,_0x81c79d){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectstar'+'t',_0x645d09,_0x81c79d);}['_onSelectE'+'nd'](_0x139bb7,_0x4d2cc0){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectend',_0x139bb7,_0x4d2cc0);}['_onElement'+'SelectEven'+'t'](_0x53721a,_0x134910,_0x2868d7){let _0x50b661;const _0xa17317=this['_selectedE'+'lements'][_0x134910['id']];let _0x2bc8a2;const _0x3cab42=this['app']['systems']['camera']['cameras'];let _0x12b3c3;if(_0x134910['elementInp'+'ut']){ep['set'](_0x134910['getOrigin'](),_0x134910['getDirecti'+'on']());for(let _0x1fa76d=_0x3cab42['length']-(0x1510+0x212+-0x1721*0x1);_0x1fa76d>=-0x24a*0x3+-0x1*-0x80e+-0x130&&(_0x12b3c3=_0x3cab42[_0x1fa76d],_0x50b661=this['_getTarget'+'ElementByR'+'ay'](ep,_0x12b3c3),!_0x50b661);_0x1fa76d--);}_0x134910['_elementEn'+'tity']=_0x50b661||null,_0x50b661?(this['_selectedE'+'lements'][_0x134910['id']]=_0x50b661,_0x2bc8a2=_0x50b661):delete this['_selectedE'+'lements'][_0x134910['id']],_0xa17317!==_0x2bc8a2&&(_0xa17317&&this['_fireEvent']('selectleav'+'e',new dr(_0x2868d7,_0xa17317,_0x12b3c3,_0x134910)),_0x2bc8a2&&this['_fireEvent']('selectente'+'r',new dr(_0x2868d7,_0x2bc8a2,_0x12b3c3,_0x134910)));const _0x59982f=this['_selectedP'+'ressedElem'+'ents'][_0x134910['id']];_0x53721a==='selectmove'&&_0x59982f&&this['_fireEvent']('selectmove',new dr(_0x2868d7,_0x59982f,_0x12b3c3,_0x134910)),_0x53721a==='selectstar'+'t'&&(this['_selectedP'+'ressedElem'+'ents'][_0x134910['id']]=_0x2bc8a2,_0x2bc8a2&&this['_fireEvent']('selectstar'+'t',new dr(_0x2868d7,_0x2bc8a2,_0x12b3c3,_0x134910))),!_0x134910['elementInp'+'ut']&&_0x59982f&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x134910['id']],_0xa17317&&this['_fireEvent']('selectend',new dr(_0x2868d7,_0x59982f,_0x12b3c3,_0x134910))),_0x53721a==='selectend'&&_0x134910['elementInp'+'ut']&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x134910['id']],_0x59982f&&this['_fireEvent']('selectend',new dr(_0x2868d7,_0x59982f,_0x12b3c3,_0x134910)),_0x59982f&&_0x59982f===_0xa17317&&this['_fireEvent']('click',new dr(_0x2868d7,_0x59982f,_0x12b3c3,_0x134910)));}['_fireEvent'](_0xd50633,_0x48e704){let _0x4f9abc=_0x48e704['element'];for(;_0x4f9abc['fire'](_0xd50633,_0x48e704),!(_0x48e704['_stopPropa'+'gation']||!_0x4f9abc['entity']['parent']||(_0x4f9abc=_0x4f9abc['entity']['parent']['element'],!_0x4f9abc)););}['_calcMouse'+'Coords'](_0x23d0b8){const _0x44e736=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x1114a3=Math['floor'](_0x44e736['left']),_0x238356=Math['floor'](_0x44e736['top']);cr=_0x23d0b8['clientX']-_0x1114a3,hr=_0x23d0b8['clientY']-_0x238356;}['_sortEleme'+'nts'](_0x34887b,_0x27680a){const _0x3f8f74=this['app']['scene']['layers']['sortTransp'+'arentLayer'+'s'](_0x34887b['layers'],_0x27680a['layers']);return _0x3f8f74!==0x1c4a+-0x1*0x3fa+-0x614*0x4?_0x3f8f74:_0x34887b['screen']&&!_0x27680a['screen']?-(0x586*0x3+0xe2d+0x313*-0xa):!_0x34887b['screen']&&_0x27680a['screen']?-0x24d9+0x800+0x3*0x99e:!_0x34887b['screen']&&!_0x27680a['screen']?-0x197b*0x1+0x2f*-0x85+0x31e6:_0x34887b['screen']['screen']['screenSpac'+'e']&&!_0x27680a['screen']['screen']['screenSpac'+'e']?-(-0x13f4+0x11*0xed+0x438):_0x27680a['screen']['screen']['screenSpac'+'e']&&!_0x34887b['screen']['screen']['screenSpac'+'e']?-0xc55*0x1+0x1a0e+-0x1b7*0x8:_0x27680a['drawOrder']-_0x34887b['drawOrder'];}['_getTarget'+'ElementByC'+'oords'](_0xf040e4,_0x5e7760,_0x5e7b37){const _0x2cf064=this['_calculate'+'RayScreen'](_0x5e7760,_0x5e7b37,_0xf040e4,Ri)?Ri:null,_0x27b6f5=this['_calculate'+'Ray3d'](_0x5e7760,_0x5e7b37,_0xf040e4,Ro)?Ro:null;return this['_getTarget'+'Element'](_0xf040e4,_0x2cf064,_0x27b6f5);}['_getTarget'+'ElementByR'+'ay'](_0x4162d5,_0x1827d8){Ri['origin']['copy'](_0x4162d5['origin']),Ri['direction']['copy'](_0x4162d5['direction']),Ri['end']['copy'](Ri['direction'])['mulScalar'](_0x1827d8['farClip']*(-0xb*-0x119+0x16de*0x1+0x22ef*-0x1))['add'](Ri['origin']);const _0x64b173=Ri,_0x153382=_0x1827d8['worldToScr'+'een'](_0x64b173['origin'],Of),_0x1ac144=this['_calculate'+'RayScreen'](_0x153382['x'],_0x153382['y'],_0x1827d8,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x1827d8,_0x1ac144,_0x64b173);}['_getTarget'+'Element'](_0x2f0558,_0x434765,_0x396bdb){let _0x1c9381=null,_0x3fba67=(0x2268+-0x1*-0x704+-0x296b)/(-0x1*0x49d+0x183b*-0x1+0x47*0x68);this['_elements']['sort'](this['_sortHandl'+'er']);for(let _0x2da48f=-0x12e3+-0x1d10+-0x997*-0x5,_0x3695cc=this['_elements']['length'];_0x2da48f<_0x3695cc;_0x2da48f++){const _0x353d9b=this['_elements'][_0x2da48f];if(_0x353d9b['layers']['some'](_0x146b02=>_0x2f0558['layersSet']['has'](_0x146b02))){if(_0x353d9b['screen']&&_0x353d9b['screen']['screen']['screenSpac'+'e']){if(!_0x434765)continue;if(this['_checkElem'+'ent'](_0x434765,_0x353d9b,!(-0x1*-0x8f4+0xb*0xe+-0x98e))>=-0xbcf*-0x1+0x4dc+-0x10ab){_0x1c9381=_0x353d9b;break;}}else{if(!_0x396bdb)continue;const _0x4cc1fa=this['_checkElem'+'ent'](_0x396bdb,_0x353d9b,!(-0xae2+0xb77+-0x94));if(_0x4cc1fa>=-0x781*0x1+-0x5*0x305+-0x20e*-0xb&&(_0x4cc1fa<_0x3fba67&&(_0x1c9381=_0x353d9b,_0x3fba67=_0x4cc1fa),_0x353d9b['screen'])){_0x1c9381=_0x353d9b;break;}}}}return _0x1c9381;}['_calculate'+'RayScreen'](_0x391ed7,_0x3085de,_0x451a83,_0x491dd5){const _0x2bfbe4=this['app']['graphicsDe'+'vice']['width'],_0x1b6a3a=this['app']['graphicsDe'+'vice']['height'],_0x4a36c8=_0x451a83['rect']['z']*_0x2bfbe4,_0x337fdb=_0x451a83['rect']['w']*_0x1b6a3a,_0x174284=_0x451a83['rect']['x']*_0x2bfbe4,_0x32c7ff=_0x174284+_0x4a36c8,_0x348b7e=(0x2469+0x906+-0x2d6e-_0x451a83['rect']['y'])*_0x1b6a3a,_0x237e6b=_0x348b7e-_0x337fdb;let _0x45a0de=_0x391ed7*_0x2bfbe4/this['_target']['clientWidt'+'h'],_0x2483ea=_0x3085de*_0x1b6a3a/this['_target']['clientHeig'+'ht'];return _0x45a0de>=_0x174284&&_0x45a0de<=_0x32c7ff&&_0x2483ea<=_0x348b7e&&_0x2483ea>=_0x237e6b?(_0x45a0de=_0x2bfbe4*(_0x45a0de-_0x174284)/_0x4a36c8,_0x2483ea=_0x1b6a3a*(_0x2483ea-_0x237e6b)/_0x337fdb,_0x2483ea=_0x1b6a3a-_0x2483ea,_0x491dd5['origin']['set'](_0x45a0de,_0x2483ea,-0x1*0x265f+0x412*-0x2+0x2e84),_0x491dd5['direction']['set'](-0xd71+-0x209b+-0x1a5*-0x1c,-0x2*-0xf5+-0x1*0x19db+-0x7fb*-0x3,-(-0x1*-0xf89+0x14e9*-0x1+0x9*0x99)),_0x491dd5['end']['copy'](_0x491dd5['direction'])['mulScalar'](-0x10bd*-0x2+-0x22d2+-0xad*-0x2)['add'](_0x491dd5['origin']),!(0x5*-0x198+0x4bc*0x1+-0x12*-0x2e)):!(0x1be1+-0x1bd7+-0x9);}['_calculate'+'Ray3d'](_0x1c8b62,_0x964c58,_0x507f7e,_0x1765a9){const _0x472bca=this['_target']['clientWidt'+'h'],_0x596150=this['_target']['clientHeig'+'ht'],_0x10ce47=_0x507f7e['rect']['z']*_0x472bca,_0x1cf807=_0x507f7e['rect']['w']*_0x596150,_0x5b1619=_0x507f7e['rect']['x']*_0x472bca,_0x5eff7b=_0x5b1619+_0x10ce47,_0x6f35e0=(0x1b8f+0x1364+-0x2ef2-_0x507f7e['rect']['y'])*_0x596150,_0x2ef658=_0x6f35e0-_0x1cf807;let _0x1bfc39=_0x1c8b62,_0x5e19d9=_0x964c58;return _0x1c8b62>=_0x5b1619&&_0x1c8b62<=_0x5eff7b&&_0x964c58<=_0x6f35e0&&_0x5e19d9>=_0x2ef658?(_0x1bfc39=_0x472bca*(_0x1bfc39-_0x5b1619)/_0x10ce47,_0x5e19d9=_0x596150*(_0x5e19d9-_0x2ef658)/_0x1cf807,_0x507f7e['screenToWo'+'rld'](_0x1bfc39,_0x5e19d9,_0x507f7e['nearClip'],Of),_0x507f7e['screenToWo'+'rld'](_0x1bfc39,_0x5e19d9,_0x507f7e['farClip'],RS),_0x1765a9['origin']['copy'](Of),_0x1765a9['direction']['set'](0x10*-0x80+-0x1457+-0x1c57*-0x1,0xe2f*0x1+-0x1a4c+0xc1d,-(0xc5+0xd*0xe3+-0xc4b)),_0x1765a9['end']['copy'](RS),!(-0x3fa*-0x2+-0x263b+0x1*0x1e47)):!(0x24c3+0xae*-0x2+-0x2366);}['_checkElem'+'ent'](_0x1eaf55,_0x1c17ae,_0x397ca3){if(_0x1c17ae['maskedBy']&&this['_checkElem'+'ent'](_0x1eaf55,_0x1c17ae['maskedBy']['element'],_0x397ca3)<-0x300+0x21f2+0x1ef2*-0x1)return-(-0x2dd+0x2b4+0x2a);let _0x4dda7e;_0x397ca3?_0x4dda7e=Xo['calculateS'+'caleToScre'+'en'](_0x1c17ae):_0x4dda7e=Xo['calculateS'+'caleToWorl'+'d'](_0x1c17ae);const _0x38b8f5=Xo['buildHitCo'+'rners'](_0x1c17ae,_0x397ca3?_0x1c17ae['screenCorn'+'ers']:_0x1c17ae['worldCorne'+'rs'],_0x4dda7e);return xU(_0x1eaf55['origin'],_0x1eaf55['end'],_0x38b8f5);}static['buildHitCo'+'rners'](_0x41ba96,_0x5c2f08,_0x51c89e){let _0x160ea3=_0x5c2f08;if(_0x41ba96['entity']&&_0x41ba96['entity']['button']){const _0x233373=_0x41ba96['entity']['button']['hitPadding']||vU;wo['copy'](_0x41ba96['entity']['up']),Vc['copy'](wo)['mulScalar'](-(0x464+-0x1fa4+0x1b41)),Eo['copy'](_0x41ba96['entity']['right']),Gc['copy'](Eo)['mulScalar'](-(0xa*-0x22a+-0x3*-0x647+0x2d0)),wo['mulScalar'](_0x233373['w']*_0x51c89e['y']),Vc['mulScalar'](_0x233373['y']*_0x51c89e['y']),Eo['mulScalar'](_0x233373['z']*_0x51c89e['x']),Gc['mulScalar'](_0x233373['x']*_0x51c89e['x']),FS['copy'](_0x160ea3[0x123*0x11+-0x5*-0x4eb+-0x1*0x2bea])['add'](Vc)['add'](Gc),NS['copy'](_0x160ea3[0x1*-0x14de+-0x1*-0x1495+-0x4a*-0x1])['add'](Vc)['add'](Eo),kS['copy'](_0x160ea3[-0x8a3+-0x9cd*0x1+-0x313*-0x6])['add'](wo)['add'](Eo),US['copy'](_0x160ea3[0x1*0x12b7+-0x4*-0x3da+-0x110e*0x2])['add'](wo)['add'](Gc),_0x160ea3=[FS,NS,kS,US];}if(_0x51c89e['x']<-0x1*-0x905+-0x20a1+0x179c){const _0x3f4041=_0x160ea3[-0x127e+0x1*0x23f7+-0x1177]['x'],_0x29d143=_0x160ea3[-0x73a+-0x34+0x76e*0x1]['x'];_0x160ea3[-0x736+-0x218+0x3*0x31a]['x']=_0x3f4041,_0x160ea3[-0x189a+-0x6d3+0x1f6e]['x']=_0x29d143,_0x160ea3[-0x6b8*0x3+-0x403*-0x1+0x1027]['x']=_0x29d143,_0x160ea3[0xebb+0x18dd+0x2795*-0x1]['x']=_0x3f4041;}if(_0x51c89e['y']<0x1*0x20a2+-0x179d+-0x905){const _0x2e2aac=_0x160ea3[0xa53*-0x1+0x1*-0x1c0f+0x444*0x9]['y'],_0xdeac64=_0x160ea3[0x14dc+0x752+0xe17*-0x2]['y'];_0x160ea3[0x219*0xd+0xf16+0x1*-0x2a5b]['y']=_0x2e2aac,_0x160ea3[-0x3f1+0x2135+-0x1d43]['y']=_0x2e2aac,_0x160ea3[0x7ab*-0x1+0x116f+-0x9c2]['y']=_0xdeac64,_0x160ea3[-0x25d*0xa+0x5*0x6d8+-0xa93]['y']=_0xdeac64;}if(_0x51c89e['z']<0x30*0x5e+-0x847*-0x1+-0x13*0x15d){const _0x1e4d1f=_0x160ea3[0x1*0x8aa+-0x87a*0x1+-0x2e]['x'],_0x11c82d=_0x160ea3[0xb*0x97+-0x21a2+0x1b27]['y'],_0x155b32=_0x160ea3[-0x1723+0x1f3*-0x11+-0x1*-0x3848]['z'];_0x160ea3[-0x5a1+-0x17*0xc1+-0x1*-0x16fa]['x']=_0x160ea3[-0xa*-0x3a9+-0x1625+0x1*-0xe75]['x'],_0x160ea3[0x1894+-0x21ce+-0x18a*-0x6]['y']=_0x160ea3[0xf62+-0x1*-0x54e+0xa58*-0x2]['y'],_0x160ea3[0xe98+-0x1*-0xc52+-0x1ae8]['z']=_0x160ea3[0xd5*0x2b+0x11*-0xfa+-0x132d]['z'],_0x160ea3[0x1*0x12d9+-0x1622+0x349]['x']=_0x1e4d1f,_0x160ea3[0x1*-0x24ef+0x15c8+0xf27]['y']=_0x11c82d,_0x160ea3[-0x1fa4*-0x1+0x1f*-0xc+0x1c*-0x114]['z']=_0x155b32;}return _0x160ea3;}static['calculateS'+'caleToScre'+'en'](_0x1d8f6c){let _0x2b4bee=_0x1d8f6c['entity'];const _0x4ad5b0=_0x1d8f6c['screen']['screen']['scale'];for(tn['set'](_0x4ad5b0,_0x4ad5b0,_0x4ad5b0);_0x2b4bee&&!_0x2b4bee['screen'];)tn['mul'](_0x2b4bee['getLocalSc'+'ale']()),_0x2b4bee=_0x2b4bee['parent'];return tn;}static['calculateS'+'caleToWorl'+'d'](_0x540f32){let _0x328747=_0x540f32['entity'];for(tn['set'](-0x11b*-0x1c+0xfca*-0x1+-0xf29,-0x20*0xfb+0x684+0x5*0x4f9,0x3d8+-0xd0a+0x1d7*0x5);_0x328747;)tn['mul'](_0x328747['getLocalSc'+'ale']()),_0x328747=_0x328747['parent'];return tn;}}J['prototype']['scale']=J['prototype']['mulScalar'],D['prototype']['scale']=D['prototype']['mulScalar'],re['prototype']['scale']=re['prototype']['mulScalar'],new re();function YU(_0x3605b6,_0x40ac8d){return w['deprecated']('pc.createS'+'phere\x20is\x20d'+'eprecated.'+'\x20Use\x20\x27pc.M'+'esh.fromGe'+'ometry(dev'+'ice,\x20new\x20S'+'phereGeome'+'try(option'+'s);\x27\x20forma'+'t\x20instead.'),Ge['fromGeomet'+'ry'](_0x3605b6,new _m(_0x40ac8d));}Object['defineProp'+'erties'](gt['prototype'],{'_glFrameBuffer':{'get':function(){return w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.'),this['impl']['_glFrameBu'+'ffer'];},'set':function(_0x357264){w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.');}}}),Object['defineProp'+'erty'](kt,'defaultIns'+'tancingFor'+'mat',{'get':function(){return w['assert']('pc.VertexF'+'ormat.defa'+'ultInstanc'+'ingFormat\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.VertexFo'+'rmat.getDe'+'faultInsta'+'ncingForma'+'t(graphics'+'Device).'),null;}}),Object['defineProp'+'erties'](_e['prototype'],{'rgbm':{'get':function(){return w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']===Zi;},'set':function(_0x49f83e){w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']=_0x49f83e?Zi:Ds;}},'swizzleGGGR':{'get':function(){return w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']===Jo;},'set':function(_0x583cdf){w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']=_0x583cdf?Jo:Ds;}},'_glTexture':{'get':function(){return w['deprecated']('pc.Texture'+'#_glTextur'+'e\x20is\x20no\x20lo'+'nger\x20avail'+'able,\x20use\x20'+'Use\x20pc.Tex'+'ture.impl.'+'_glTexture'+'\x20instead.'),this['impl']['_glTexture'];}}}),Object['defineProp'+'erty']($e['prototype'],'boneLimit',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#bo'+'neLimit\x20is'+'\x20deprecate'+'d\x20and\x20the\x20'+'limit\x20has\x20'+'been\x20remov'+'ed.'),-0x18e7+0xeeb+0x2*0x6fe;}}),Object['defineProp'+'erty']($e['prototype'],'webgl2',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#we'+'bgl2\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e#isWebGL2'+'\x20instead.'),this['isWebGL2'];}}),Object['defineProp'+'erty']($e['prototype'],'textureFlo'+'atHighPrec'+'ision',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureFloat'+'HighPrecis'+'ion\x20is\x20dep'+'recated\x20an'+'d\x20always\x20r'+'eturns\x20tru'+'e.'),!(0x263*0x4+-0x1447+0xabb);}}),Object['defineProp'+'erty']($e['prototype'],'extBlendMi'+'nmax',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tBlendMinm'+'ax\x20is\x20depr'+'ecated\x20as\x20'+'it\x20is\x20alwa'+'ys\x20true.'),!(-0x1059+0x134d+0x6*-0x7e);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'HalfFloat',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureHa'+'lfFloat\x20is'+'\x20deprecate'+'d\x20as\x20it\x20is'+'\x20always\x20tr'+'ue.'),!(-0x56*0x21+-0x20a5+0x2bbb);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Lod',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureLo'+'d\x20is\x20depre'+'cated\x20as\x20i'+'t\x20is\x20alway'+'s\x20true.'),!(0x53*0xa+0x1*-0x2249+0x1f0b);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatFilt'+'erable',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatFilter'+'able\x20is\x20de'+'precated\x20a'+'s\x20it\x20is\x20al'+'ways\x20true.'),!(-0x2023+-0x1de*-0x4+0x18ab);}}),Object['defineProp'+'erty']($e['prototype'],'supportsMr'+'t',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsMrt\x20'+'is\x20depreca'+'ted\x20as\x20it\x20'+'is\x20always\x20'+'true.'),!(-0x4d1*-0x3+0x38a*0x1+0x399*-0x5);}}),Object['defineProp'+'erty']($e['prototype'],'supportsVo'+'lumeTextur'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsVolu'+'meTextures'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(-0xcc*0x14+-0x799+0x1789);}}),Object['defineProp'+'erty']($e['prototype'],'supportsIn'+'stancing',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsInst'+'ancing\x20is\x20'+'deprecated'+'\x20as\x20it\x20is\x20'+'always\x20tru'+'e.'),!(-0x1964+0x204a+-0x6e6*0x1);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatUpda'+'table',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatUpdata'+'ble\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true.'),!(-0x144a+0x1*0x2ab+-0x15b*-0xd);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Float',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureFl'+'oat\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true'),!(-0xdc7+-0xc44+-0x1*-0x1a0b);}}),Object['defineProp'+'erty']($e['prototype'],'extStandar'+'dDerivativ'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tStandardD'+'erivatives'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(-0x2382+0xe71+0x1511);}}),pt['DEFAULT']=Object['freeze'](new pt());const ut=new pt(),ji=new Yt();$e['prototype']['setBlendFu'+'nction']=function(_0x3f416d,_0x2d2e82){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x3796ed=this['blendState'];ut['copy'](_0x3796ed),ut['setColorBl'+'end'](_0x3796ed['colorOp'],_0x3f416d,_0x2d2e82),ut['setAlphaBl'+'end'](_0x3796ed['alphaOp'],_0x3f416d,_0x2d2e82),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendFu'+'nctionSepa'+'rate']=function(_0x27c513,_0x16f5b8,_0x987df,_0x15fbe6){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x569af9=this['blendState'];ut['copy'](_0x569af9),ut['setColorBl'+'end'](_0x569af9['colorOp'],_0x27c513,_0x16f5b8),ut['setAlphaBl'+'end'](_0x569af9['alphaOp'],_0x987df,_0x15fbe6),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uation']=function(_0x7a652b){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x3201bf=this['blendState'];ut['copy'](_0x3201bf),ut['setColorBl'+'end'](_0x7a652b,_0x3201bf['colorSrcFa'+'ctor'],_0x3201bf['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x7a652b,_0x3201bf['alphaSrcFa'+'ctor'],_0x3201bf['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uationSepa'+'rate']=function(_0x361bc9,_0x5bf6bf){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x2a6b10=this['blendState'];ut['copy'](_0x2a6b10),ut['setColorBl'+'end'](_0x361bc9,_0x2a6b10['colorSrcFa'+'ctor'],_0x2a6b10['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x5bf6bf,_0x2a6b10['alphaSrcFa'+'ctor'],_0x2a6b10['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setColorWr'+'ite']=function(_0x316cc0,_0x35e807,_0x13efd2,_0x2ada49){w['deprecated']('pc.Graphic'+'sDevice#se'+'tColorWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etBlendSta'+'te\x20instead'+'.');const _0x543ac9=this['blendState'];ut['copy'](_0x543ac9),ut['setColorWr'+'ite'](_0x316cc0,_0x35e807,_0x13efd2,_0x2ada49),this['setBlendSt'+'ate'](ut);},$e['prototype']['getBlendin'+'g']=function(){return this['blendState']['blend'];},$e['prototype']['setBlendin'+'g']=function(_0x257adc){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlending\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.Graphics'+'Device.set'+'BlendState'+'\x20instead.'),ut['copy'](this['blendState']),ut['blend']=_0x257adc,this['setBlendSt'+'ate'](ut);},$e['prototype']['setDepthWr'+'ite']=function(_0x581611){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etDepthSta'+'te\x20instead'+'.'),ji['copy'](this['depthState']),ji['write']=_0x581611,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthFu'+'nc']=function(_0x39117f){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthFunc'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['func']=_0x39117f,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthTe'+'st']=function(_0x49ba1b){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthTest'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['test']=_0x49ba1b,this['setDepthSt'+'ate'](ji);},$e['prototype']['getCullMod'+'e']=function(){return this['cullMode'];},new Proxy({},{'get'(_0x59750f,_0x5fb560){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20acces'+'s\x20global\x20s'+'hader\x20chun'+'ks\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Shade'+'rChunks.ge'+'t\x20instead,'+'\x20for\x20examp'+'le:\x20pc.Sha'+'derChunks.'+'get(this.a'+'pp.graphic'+'sDevice,\x20p'+'c.SHADERLA'+'NGUAGE_GLS'+'L).get(\x27'+_0x5fb560+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['get'](_0x5fb560);},'set'(_0x2a69de,_0x39082b,_0x335a4a){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20overr'+'ide\x20global'+'\x20shader\x20ch'+'unks\x20is\x20de'+'precated.\x20'+'Use\x20pc.Sha'+'derChunks.'+'get\x20instea'+'d,\x20for\x20exa'+'mple:\x20pc.S'+'haderChunk'+'s.get(this'+'.app.graph'+'icsDevice,'+'\x20pc.SHADER'+'LANGUAGE_G'+'LSL).set(\x27'+_0x39082b+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['set'](_0x39082b,_0x335a4a),!(0x1132+0x8*0x1d0+-0x1*0x1fb2);}}),Object['defineProp'+'erty'](Et['prototype'],'defaultMat'+'erial',{'get':function(){return w['deprecated']('pc.Scene#d'+'efaultMate'+'rial\x20is\x20de'+'precated.'),Qn(Ms()['graphicsDe'+'vice']);}}),Object['defineProp'+'erty'](Et['prototype'],'fogColor',{'set':function(_0x1ec81e){w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color']=_0x1ec81e;},'get':function(){return w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogEnd',{'set':function(_0x54a423){w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end']=_0x54a423;},'get':function(){return w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogStart',{'set':function(_0x14526f){w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start']=_0x14526f;},'get':function(){return w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogDensity',{'set':function(_0x555f35){w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density']=_0x555f35;},'get':function(){return w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density'];}}),Object['defineProp'+'erty'](Et['prototype'],'toneMappin'+'g',{'set':function(_0x715676){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');},'get':function(){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'gammaCorre'+'ction',{'set':function(_0xaa47b5){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');},'get':function(){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'rendering',{'set':function(_0x1d3a8b){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');},'get':function(){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');}}),Object['defineProp'+'erty'](du['prototype'],'_meshInsta'+'nces',{'get':function(){return w['deprecated']('pc.LayerCo'+'mposition#'+'_meshInsta'+'nces\x20is\x20de'+'precated.'),null;}}),Object['defineProp'+'erty'](Et['prototype'],'drawCalls',{'get':function(){return w['deprecated']('pc.Scene#d'+'rawCalls\x20i'+'s\x20deprecat'+'ed\x20and\x20no\x20'+'longer\x20pro'+'vides\x20mesh'+'\x20instances'+'.'),null;}}),['128','64','32','16','8','4']['forEach']((_0x153101,_0x148145)=>{Object['defineProp'+'erty'](Et['prototype'],'skyboxPref'+'iltered'+_0x153101,{'get':function(){return w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x153101+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x148145];},'set':function(_0x4cd7fd){w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x153101+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x148145]=_0x4cd7fd,this['updateShad'+'ers']=!(0x6f5+0x22db*0x1+-0x29d0);}});}),Object['defineProp'+'erty'](Et['prototype'],'models',{'get':function(){return this['_models']||(this['_models']=[]),this['_models'];}});function Bt(_0x22b8a8,_0x568fe7,_0x5d4346=''){Object['defineProp'+'erty'](_0x22b8a8['prototype'],_0x568fe7,{'set':function(_0x56e73d){w['errorOnce'](_0x22b8a8['name']+'#'+_0x568fe7+('\x20has\x20been\x20'+'removed.\x20')+_0x5d4346);},'get':function(){w['errorOnce'](_0x22b8a8['name']+'#'+_0x568fe7+('\x20has\x20been\x20'+'removed.\x20')+_0x5d4346);}});}Bt(Ot,'renderTarg'+'et'),Bt(Ot,'onPreCull'),Bt(Ot,'onPreRende'+'r'),Bt(Ot,'onPreRende'+'rOpaque'),Bt(Ot,'onPreRende'+'rTranspare'+'nt'),Bt(Ot,'onPostCull'),Bt(Ot,'onPostRend'+'er'),Bt(Ot,'onPostRend'+'erOpaque'),Bt(Ot,'onPostRend'+'erTranspar'+'ent'),Bt(Ot,'onDrawCall'),Bt(Ot,'layerRefer'+'ence'),Bt(Ir,'onPreCull','Use\x20Scene#'+'EVENT_PREC'+'ULL\x20event\x20'+'instead.'),Bt(Ir,'onPostCull','Use\x20Scene#'+'EVENT_POST'+'CULL\x20event'+'\x20instead.'),Bt(Ir,'onPreRende'+'r','Use\x20Scene#'+'EVENT_PRER'+'ENDER\x20even'+'t\x20instead.'),Bt(Ir,'onPostRend'+'er','Use\x20Scene#'+'EVENT_POST'+'RENDER\x20eve'+'nt\x20instead'+'.'),Bt(Ir,'onPreRende'+'rLayer','Use\x20Scene#'+'EVENT_PRER'+'ENDER_LAYE'+'R\x20event\x20in'+'stead.'),Bt(Ir,'onPostRend'+'erLayer','Use\x20Scene#'+'EVENT_POST'+'RENDER_LAY'+'ER\x20event\x20i'+'nstead.'),fl['prototype']['renderComp'+'osition']=function(_0x91967e){w['deprecated']('pc.Forward'+'Renderer#r'+'enderCompo'+'sition\x20is\x20'+'deprecated'+'.\x20Use\x20pc.A'+'ppBase.ren'+'derComposi'+'tion\x20inste'+'ad.'),Ms()['renderComp'+'osition'](_0x91967e);},He['prototype']['syncAabb']=function(){w['deprecated']('pc.MeshIns'+'tance#sync'+'Aabb\x20is\x20de'+'precated.');},mm['prototype']['getTarget']=function(_0x5cbd2e){return w['deprecated']('pc.Morph#g'+'etTarget\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.Morph#tar'+'gets\x20inste'+'ad.'),this['targets'][_0x5cbd2e];},Ie['prototype']['getChildre'+'n']=function(){return w['deprecated']('pc.GraphNo'+'de#getChil'+'dren\x20is\x20de'+'precated.\x20'+'Use\x20pc.Gra'+'phNode#chi'+'ldren\x20inst'+'ead.'),this['children'];},Ie['prototype']['getName']=function(){return w['deprecated']('pc.GraphNo'+'de#getName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name'];},Ie['prototype']['getPath']=function(){return w['deprecated']('pc.GraphNo'+'de#getPath'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#path\x20in'+'stead.'),this['path'];},Ie['prototype']['getRoot']=function(){return w['deprecated']('pc.GraphNo'+'de#getRoot'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#root\x20in'+'stead.'),this['root'];},Ie['prototype']['getParent']=function(){return w['deprecated']('pc.GraphNo'+'de#getPare'+'nt\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Graph'+'Node#paren'+'t\x20instead.'),this['parent'];},Ie['prototype']['setName']=function(_0x1ec531){w['deprecated']('pc.GraphNo'+'de#setName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name']=_0x1ec531;},Object['defineProp'+'erty'](tr['prototype'],'shader',{'set':function(_0x53b5fe){w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.');},'get':function(){return w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.'),null;}}),Object['defineProp'+'erty'](tr['prototype'],'blend',{'set':function(_0x4b14b8){w['deprecated']('pc.Materia'+'l#blend\x20is'+'\x20deprecate'+'d,\x20use\x20pc.'+'Material.b'+'lendState.'),this['blendState']['blend']=_0x4b14b8;},'get':function(){return this['blendState']['blend'];}}),Object['defineProp'+'erty'](Ut['prototype'],'shininess',{'get':function(){return this['gloss']*(-0x1c21*0x1+0xfae+-0x1*-0xcd7);},'set':function(_0xb4544){this['gloss']=_0xb4544*(0x29f+0x74*0x2e+-0x1777*0x1+0.01);}}),Object['defineProp'+'erty'](Ut['prototype'],'useGammaTo'+'nemap',{'get':function(){return this['useTonemap'];},'set':function(_0xefe73e){this['useTonemap']=_0xefe73e;}}),Object['defineProp'+'erty'](Ut['prototype'],'anisotropy',{'get':function(){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.');const _0x30577e=Math['sign'](Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']*(-0x696+0x1*0x1704+-0x106c)));return this['anisotropy'+'Intensity']*_0x30577e;},'set':function(_0x5cc0ca){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.'),this['anisotropy'+'Intensity']=Math['abs'](_0x5cc0ca),_0x5cc0ca>=-0x3*0x25b+-0x75b+-0x736*-0x2?this['anisotropy'+'Rotation']=-0x1caf+0x7ec+0x14c3:this['anisotropy'+'Rotation']=0x5c0+0x1*0x1c81+-0xb4d*0x3;}});function Qs(_0xb69efd,_0x3c0ac3){Object['defineProp'+'erty'](Ut['prototype'],_0x3c0ac3,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x3c0ac3+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0xb69efd+'\x20instead.'),this[_0xb69efd];},'set':function(_0x378254){w['deprecated']('pc.Standar'+'dMaterial#'+_0x3c0ac3+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0xb69efd+'\x20instead.'),this[_0xb69efd]=_0x378254;}});}function Id(_0x2773b4){Object['defineProp'+'erty'](Ut['prototype'],_0x2773b4,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x2773b4+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x2773b4+('\x20was\x20alway'+'s\x20true')),!(0x1*-0x8fe+0x13a4+-0xaa6*0x1);},'set':function(_0x5a6c8a){w['deprecated']('pc.Standar'+'dMaterial#'+_0x2773b4+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x2773b4+('\x20was\x20alway'+'s\x20true'));}});}Id('sheenTint'),Id('diffuseTin'+'t'),Id('emissiveTi'+'nt'),Id('ambientTin'+'t'),Qs('specularTi'+'nt','specularMa'+'pTint'),Qs('aoVertexCo'+'lor','aoMapVerte'+'xColor'),Qs('diffuseVer'+'texColor','diffuseMap'+'VertexColo'+'r'),Qs('specularVe'+'rtexColor','specularMa'+'pVertexCol'+'or'),Qs('emissiveVe'+'rtexColor','emissiveMa'+'pVertexCol'+'or'),Qs('metalnessV'+'ertexColor','metalnessM'+'apVertexCo'+'lor'),Qs('glossVerte'+'xColor','glossMapVe'+'rtexColor'),Qs('opacityVer'+'texColor','opacityMap'+'VertexColo'+'r'),Qs('lightVerte'+'xColor','lightMapVe'+'rtexColor'),Qs('sheenGloss','sheenGloss'+'iess'),Qs('clearCoatG'+'loss','clearCostG'+'lossiness');function F0(_0x5e31fe,_0x2e75d1){_0x5e31fe!=='pass'&&Object['defineProp'+'erty'](dl['prototype'],_0x5e31fe,{'get':function(){return w['deprecated']('Getting\x20pc'+'.Options#'+_0x5e31fe+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x2e75d1||_0x5e31fe)+'.'),this['litOptions'][_0x2e75d1||_0x5e31fe];},'set':function(_0x1e47da){w['deprecated']('Setting\x20pc'+'.Options#'+_0x5e31fe+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x2e75d1||_0x5e31fe)+'.'),this['litOptions'][_0x2e75d1||_0x5e31fe]=_0x1e47da;}});}F0('refraction','useRefract'+'ion');const TU=new wv(),zS=Object['getOwnProp'+'ertyNames'](TU);for(const l in zS)F0(zS[l]);mn['prototype']['getAssetBy'+'Id']=function(_0x45c7a9){return w['deprecated']('pc.AssetRe'+'gistry#get'+'AssetById\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AssetReg'+'istry#get\x20'+'instead.'),this['get'](_0x45c7a9);},Object['defineProp'+'erty'](Qt['prototype'],'ray',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#ray'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.XrInput'+'Source#get'+'Origin\x20and'+'\x20pc.XrInpu'+'tSource#ge'+'tDirection'+'\x20instead.'),this['_rayLocal'];}}),Object['defineProp'+'erty'](Qt['prototype'],'position',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#pos'+'ition\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Position\x20i'+'nstead.'),this['_localPosi'+'tion'];}}),Object['defineProp'+'erty'](Qt['prototype'],'rotation',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#rot'+'ation\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Rotation\x20i'+'nstead.'),this['_localRota'+'tion'];}}),Object['defineProp'+'erty'](Xo['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(-0x25d*0x1+-0x258*-0x9+-0x12b9*0x1);}}),Object['defineProp'+'erty'](ta['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(0x1503+-0x25bd+-0x165*-0xc);}}),Ks['prototype']['isFullscre'+'en']=function(){return w['deprecated']('pc.AppBase'+'#isFullscr'+'een\x20is\x20dep'+'recated.\x20U'+'se\x20the\x20Ful'+'lscreen\x20AP'+'I\x20directly'+'.'),!!document['fullscreen'+'Element'];},Ks['prototype']['enableFull'+'screen']=function(_0x332ae6,_0x1b9b82,_0xe9a4e9){w['deprecated']('pc.AppBase'+'#enableFul'+'lscreen\x20is'+'\x20deprecate'+'d.\x20Use\x20the'+'\x20Fullscree'+'n\x20API\x20dire'+'ctly.'),_0x332ae6=_0x332ae6||this['graphicsDe'+'vice']['canvas'];const _0x9096c7=function(){_0x1b9b82(),document['removeEven'+'tListener']('fullscreen'+'change',_0x9096c7);},_0x36e826=function(){_0xe9a4e9(),document['removeEven'+'tListener']('fullscreen'+'error',_0x36e826);};_0x1b9b82&&document['addEventLi'+'stener']('fullscreen'+'change',_0x9096c7,!(0x98f*-0x1+0x16f5+-0xd65)),_0xe9a4e9&&document['addEventLi'+'stener']('fullscreen'+'error',_0x36e826,!(-0x1c4f+0x1992+0x2be)),_0x332ae6['requestFul'+'lscreen']?_0x332ae6['requestFul'+'lscreen'](Element['ALLOW_KEYB'+'OARD_INPUT']):_0xe9a4e9();},Ks['prototype']['disableFul'+'lscreen']=function(_0x541eb6){w['deprecated']('pc.AppBase'+'#disableFu'+'llscreen\x20i'+'s\x20deprecat'+'ed.\x20Use\x20th'+'e\x20Fullscre'+'en\x20API\x20dir'+'ectly.');const _0x2d788a=function(){_0x541eb6(),document['removeEven'+'tListener']('fullscreen'+'change',_0x2d788a);};_0x541eb6&&document['addEventLi'+'stener']('fullscreen'+'change',_0x2d788a,!(0xf1*0x19+0x399*0x7+0x30b7*-0x1)),document['exitFullsc'+'reen']();},Ks['prototype']['getSceneUr'+'l']=function(_0x2cfd55){w['deprecated']('pc.AppBase'+'#getSceneU'+'rl\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.AppBa'+'se#scenes\x20'+'and\x20pc.Sce'+'neRegistry'+'#find\x20inst'+'ead.');const _0x186eac=this['scenes']['find'](_0x2cfd55);return _0x186eac?_0x186eac['url']:null;},Ks['prototype']['loadScene']=function(_0x227079,_0x3d655f){w['deprecated']('pc.AppBase'+'#loadScene'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.AppBase'+'#scenes\x20an'+'d\x20pc.Scene'+'Registry#l'+'oadScene\x20i'+'nstead.'),this['scenes']['loadScene'](_0x227079,_0x3d655f);},Ks['prototype']['loadSceneH'+'ierarchy']=function(_0x33b8ed,_0x2b86ad){w['deprecated']('pc.AppBase'+'#loadScene'+'Hierarchy\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AppBase#'+'scenes\x20and'+'\x20pc.SceneR'+'egistry#lo'+'adSceneHie'+'rarchy\x20ins'+'tead.'),this['scenes']['loadSceneH'+'ierarchy'](_0x33b8ed,_0x2b86ad);},Ks['prototype']['loadSceneS'+'ettings']=function(_0x56a173,_0x27054f){w['deprecated']('pc.AppBase'+'#loadScene'+'Settings\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.AppBase#s'+'cenes\x20and\x20'+'pc.SceneRe'+'gistry#loa'+'dSceneSett'+'ings\x20inste'+'ad.'),this['scenes']['loadSceneS'+'ettings'](_0x56a173,_0x27054f);},Tm['prototype']['setVisible']=function(_0x568858){w['deprecated']('pc.ModelCo'+'mponent#se'+'tVisible\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.ModelComp'+'onent#enab'+'led\x20instea'+'d.'),this['enabled']=_0x568858;},Object['defineProp'+'erty'](bs['prototype'],'bodyType',{'get':function(){return w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type'];},'set':function(_0x25f44a){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type']=_0x25f44a;}}),bs['prototype']['syncBodyTo'+'Entity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#syncBody'+'ToEntity\x20i'+'s\x20not\x20publ'+'ic\x20API\x20and'+'\x20should\x20no'+'t\x20be\x20used.'),this['_updateDyn'+'amic']();},wm['prototype']['setGravity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'tSystem#se'+'tGravity\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.RigidBody'+'ComponentS'+'ystem#grav'+'ity\x20instea'+'d.'),arguments['length']===-0x8d9+-0xb7e*-0x1+-0x2a4?this['gravity']['copy'](arguments[-0x252c+-0x25d7+0x4b03]):this['gravity']['set'](arguments[-0x2*-0x86d+-0x113+-0x7*0x241],arguments[-0x1*0x10bd+-0x107d*-0x2+-0x103c],arguments[0x2570+-0x1135+0x1*-0x1439]);};class wU{constructor(_0x818c5a){this['_frameInde'+'x']=0x30*-0x86+-0x185b*-0x1+0x1*0xc5,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=0x1*-0x15c8+-0x8*0x178+0x2189,this['enabled']=!(-0x8*-0x232+0x1819+-0x29a9),_0x818c5a['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x818c5a['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x818c5a['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x256188){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x1d4fff=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x1d4fff,this['_frameInde'+'x']=0x270c+0x26*-0xa9+-0xdf6,this['mark'](_0x256188);}['mark'](_0x2de496){if(!this['enabled'])return;const _0x17c894=de();if(this['_frameInde'+'x']>0x3*0x8e7+0x2*-0x1194+-0x7*-0x135){const _0x338006=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(-0xe6c+-0x1ad+-0x12*-0xe5)];_0x338006[0x1120+0x3*-0x116+0x111*-0xd]=_0x17c894-_0x338006[0x3*0x7c+0x2c+-0x19f];}else{if(this['_timings']['length']>0x4c0+-0x24c2+0x2002){const _0x11faa5=this['_timings'][this['_timings']['length']-(-0xaf*-0x2b+0x1133+-0x2e97*0x1)];_0x11faa5[-0x1*0x1875+0x836*-0x1+0x22*0xf6]=_0x17c894-_0x11faa5[-0xb54+-0x27f*-0xb+0x10*-0x102];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x2de496,_0x17c894]);else{const _0x28f1a6=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x28f1a6[0xa5*-0x15+-0x1237+-0x8*-0x3f8]=_0x2de496,_0x28f1a6[0xb*-0x2db+0x37a*-0x8+-0x3b3a*-0x1]=_0x17c894;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](-0x9*0x1a+0x8e*0xc+0x23*-0x2a,-(-0x2e7+0x1*-0x151b+0x1803))['map'](_0x29f790=>_0x29f790[-0x1104+-0x19e*-0xd+-0xcd*0x5]);}}class EU{constructor(_0x4475fc){this['device']=_0x4475fc,_0x4475fc['gpuProfile'+'r']['enabled']=!(-0x1*-0x1281+0xa4a+-0x1ccb),this['enabled']=!(-0x39+-0x14b*0xa+0x5b*0x25),this['unitsName']='ms',this['decimalPla'+'ces']=-0x1f*-0x13e+-0x40f+-0x2272,this['_timings']=[];}get['timings'](){return this['_timings'][-0x4*0x2ec+0x25d0+-0x1a20]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class bU{constructor(_0x28af36,_0x4c3c56,_0x14a9f5,_0x213546,_0x27ffad){this['app']=_0x28af36,this['values']=[],this['statNames']=_0x4c3c56,this['statNames']['length']>-0x1fc5+0x18d0+-0x37c*-0x2&&(this['statNames']['length']=0x1494+0x512+-0x19a3),this['unitsName']=_0x213546,this['decimalPla'+'ces']=_0x14a9f5,this['multiplier']=_0x27ffad||0xb60+0x1bf3+-0x2752;const _0x1882f8=(_0x2edfe9,_0x1f78a3)=>_0x2edfe9['split']('.')['reduce']((_0x192a2a,_0x892d7d)=>_0x192a2a?_0x192a2a[_0x892d7d]:null,_0x1f78a3||this);_0x28af36['on']('frameupdat'+'e',_0x49252b=>{for(let _0x1ab7b4=-0xeb3+-0x1*0x12c4+-0x293*-0xd;_0x1ab7b4<this['statNames']['length'];_0x1ab7b4++)this['values'][_0x1ab7b4]=_0x1882f8(this['statNames'][_0x1ab7b4],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class Uf{constructor(_0x5024c6,_0x2579b9,_0x5c5970,_0x27d2df,_0x565d42){this['app']=_0x2579b9,this['name']=_0x5024c6,this['device']=_0x2579b9['graphicsDe'+'vice'],this['timer']=_0x565d42,this['watermark']=_0x5c5970,this['enabled']=!(-0x1*0x1d6b+-0x45e+-0x2*-0x10e5),this['textRefres'+'hRate']=_0x27d2df,this['avgTotal']=-0x397*0xa+0x1351+-0xf*-0x11b,this['avgTimer']=0x1*0x25f6+0x14f7+-0x5*0xbc9,this['avgCount']=-0xee+0x2363+-0x1*0x2275,this['timingText']='',this['texture']=null,this['yOffset']=-0x20*-0x135+0x7f*0xc+-0x2c94,this['cursor']=0x1*0x13ab+0x4*0x6ce+-0x2ee3,this['sample']=new Uint8ClampedArray(-0x11c9+-0x1369+0x16*0x1b1),this['sample']['set']([0x8e1+0x1d6d+0x1327*-0x2,0x47*-0x5+0x4*0x351+-0xbe1,-0x287*0x1+-0x197c+0x47*0x65,0x649+-0x1*-0xaf1+0x569*-0x3]),this['counter']=-0xa86*-0x1+0x1*-0x23d+0x65*-0x15,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x14b43c){const _0x190093=this['timer']['timings'],_0x42ba17=_0x190093['reduce']((_0x359092,_0x384246)=>_0x359092+_0x384246,0x1d2a+-0xd9e+-0xc7*0x14);if(this['avgTotal']+=_0x42ba17,this['avgTimer']+=_0x14b43c,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0x1ac5+0x139b+0xe*0x83,this['avgTotal']=-0x2b*0x3e+-0x22b*0x10+-0x2*-0x168d,this['avgCount']=-0x4*0x504+-0x4*-0x592+-0x2*0x11c),this['enabled']){let _0x5c77d5=-0x12d*-0x1d+0x673+-0x288c;const _0x4b39c2=(-0x14b+0x1552+0x1*-0x1406+0.5)*this['watermark'];for(let _0x26c6e9=0x263c+-0x127*-0x7+-0x1b7*0x1b;_0x26c6e9<_0x190093['length'];++_0x26c6e9)_0x5c77d5+=Math['floor'](_0x190093[_0x26c6e9]/_0x4b39c2*(-0xf66+0xa7*0x27+0x1*-0x90c)),this['sample'][_0x26c6e9]=_0x5c77d5;this['sample'][0x593*-0x5+-0x43*0x6f+0x38ef]=this['watermark']/_0x4b39c2*(-0xe0d+-0x98*-0x1c+-0xca*0x2),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(-0x1*0x19b+-0x31*-0x3+-0x1*-0x10c)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=0x1*-0x19ca+-0x16de+0x30a8);}}['render'](_0x28cdb7,_0x4e1548,_0x2c13a4,_0x5bb258,_0xc5f851){_0x28cdb7['quad'](_0x4e1548+_0x5bb258,_0x2c13a4,-_0x5bb258,_0xc5f851,this['enabled']?this['cursor']:0x1*-0xb2d+-0x5*-0x89+0x880,this['enabled']?-0x1ef6*-0x1+0x1*0x1e07+-0x3cfd+0.5+this['yOffset']:this['texture']['height']-(0xcee+-0x1433+0x746),-_0x5bb258,-0x42b*0x7+0xea4*0x2+0x3*-0x9,this['texture'],-0x18f6+0x66+0x10*0x189);}}class AU{constructor(_0x4d9920,_0x81cc08){const _0xf6cd41=_0x2cff0c=>{_0x2cff0c['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x2cff0c['textAlign']='left',_0x2cff0c['textBaseli'+'ne']='alphabetic';},_0x11da51=_0x32df48=>_0x32df48==='.'||_0x32df48['length']===-0x1feb+0x24c9+0x19f*-0x3&&_0x32df48['charCodeAt'](-0x1*0x1bb+-0x19fb+0xddb*0x2)>=0x25a8+-0xd31+-0x1847&&_0x32df48['charCodeAt'](-0x1f1*0xb+-0x19bb+0x178b*0x2)<=-0x1*0x1ff5+0x116+-0x4*-0x7c6,_0x3e6277=document['createElem'+'ent']('canvas'),_0x3e89f1=_0x3e6277['getContext']('2d',{'alpha':!(0x2*0xa7d+0x1513+0x1*-0x2a0d)});_0xf6cd41(_0x3e89f1);const _0x2f7836=new Map(),_0x415a1c=0x1ea7+0x101c+0xc1*-0x3e,_0x2bd596=-0x5*0x790+-0xc*-0x1+0x27c4;let _0x48d448=_0x415a1c,_0x2a3db1=_0x415a1c;_0x81cc08['forEach'](_0x3c67bd=>{const _0x43567d=_0x3e89f1['measureTex'+'t'](_0x3c67bd),_0x12ac39=Math['ceil'](-_0x43567d['actualBoun'+'dingBoxLef'+'t']),_0x47b61b=Math['ceil'](_0x43567d['actualBoun'+'dingBoxRig'+'ht']),_0x2c0e5e=Math['ceil'](_0x43567d['actualBoun'+'dingBoxAsc'+'ent']),_0x3873d3=Math['ceil'](_0x43567d['actualBoun'+'dingBoxDes'+'cent']),_0x216982=_0x12ac39+_0x47b61b,_0x3476d9=_0x2c0e5e+_0x3873d3;_0x48d448+_0x216982+_0x415a1c>=_0x2bd596&&(_0x48d448=_0x415a1c,_0x2a3db1+=0x122a+-0x1ede+-0x1*-0xcc4),_0x2f7836['set'](_0x3c67bd,{'l':_0x12ac39,'r':_0x47b61b,'a':_0x2c0e5e,'d':_0x3873d3,'w':_0x216982,'h':_0x3476d9,'x':_0x48d448,'y':_0x2a3db1}),_0x48d448+=_0x216982+_0x415a1c;}),_0x3e6277['width']=-0x1293+0xe*0x92+0xc97,_0x3e6277['height']=Y['nextPowerO'+'fTwo'](_0x2a3db1+(0x3b7*0x6+0x2612+-0x3c4c)+_0x415a1c),_0xf6cd41(_0x3e89f1),_0x3e89f1['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x3e89f1['fillRect'](-0x392+-0x75b*0x3+0x19a3*0x1,-0x1279*0x2+-0x2ef+0x27e1,_0x3e6277['width'],_0x3e6277['height']),_0x2f7836['forEach']((_0x2922a2,_0x2c806c)=>{_0x3e89f1['fillStyle']=_0x11da51(_0x2c806c)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x3e89f1['fillText'](_0x2c806c,_0x2922a2['x']-_0x2922a2['l'],_0x2922a2['y']+_0x2922a2['a']);}),this['placements']=_0x2f7836;const _0x4a268e=_0x3e89f1['getImageDa'+'ta'](0xcc9*0x1+0x4f3+-0x1*0x11bc,-0x4d9*-0x1+0x3*0x2ce+-0x23*0x61,_0x3e6277['width'],_0x3e6277['height'])['data'];for(let _0x120c6f=0x893+0x1fe3+0x1*-0x2876;_0x120c6f<_0x4a268e['length'];_0x120c6f+=-0x1d52+-0x6*-0xd0+0x1876)_0x4a268e[_0x120c6f+(0x1*-0x10c1+-0x15d*-0x3+0xcad)]=_0x4a268e[_0x120c6f+(0x1*0x1021+-0x103e+0x1*0x1d)],_0x4a268e[_0x120c6f+(-0x1cf0+0x45+-0xb3*-0x29)]=0x11e0+-0x1f*-0x10+-0x12d1,_0x4a268e[_0x120c6f+(-0x2cc*-0x4+-0x37d*-0x9+0x64*-0x6d)]=0x3*0x2ac+0xbd8+-0x12dd,_0x4a268e[_0x120c6f+(-0x1f7c*0x1+0xd06+-0x1278*-0x1)]=-0x747*-0x1+0x1f01+-0x2549;this['texture']=new _e(_0x4d9920,{'name':'mini-stats'+'-word-atla'+'s','width':_0x3e6277['width'],'height':_0x3e6277['height'],'mipmaps':!(-0x1c3+-0x1f3a+0x20fe),'minFilter':Te,'magFilter':Te,'levels':[_0x4a268e]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x3f15d7,_0x3f17e3,_0x3f9dfe,_0x15f894){const _0x408471=this['placements']['get'](_0x3f17e3);return _0x408471?(_0x3f15d7['quad'](_0x3f9dfe+_0x408471['l']-(-0xfa*-0x13+-0xd9d+-0x4f0),_0x15f894-_0x408471['d']+(-0x26c+0x2ef+-0xd*0xa),_0x408471['w']+(0x1712+-0xff1+0x71f*-0x1),_0x408471['h']+(0x1cf+-0x3*-0x873+-0x8b*0x32),_0x408471['x']-(0x4*-0x614+-0x1ab*0x1+0x19fc),this['texture']['height']-_0x408471['y']-_0x408471['h']-(0x1*0x631+0x16f*0x1+-0x79f),void(-0x7bc*-0x4+-0x1b*0x81+-0x1*0x1155),void(0x76c+-0x3*-0x7ef+-0x1f39),this['texture'],-0x23*-0x1d+0x4*0x298+0x16f*-0xa),_0x408471['w']):0x1f3c*-0x1+0x1b33+0x1*0x409;}}const CU='\x0a\x20\x20\x20\x20attri'+'bute\x20vec3\x20'+'vertex_pos'+'ition;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20un'+'normalized'+'\x20xy,\x20word\x20'+'flag\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_texCoord0'+';\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20unnormal'+'ized\x20textu'+'re\x20space\x20u'+'v,\x20normali'+'zed\x20uv\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec4\x20uv0;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20float\x20wo'+'rdFlag;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion.xy\x20*\x202'+'.0\x20-\x201.0,\x20'+'0.5,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20verte'+'x_texCoord'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20wordFlag\x20'+'=\x20vertex_p'+'osition.z;'+'\x0a\x20\x20\x20\x20}\x0a',PU='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec3f;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'unnormaliz'+'ed\x20xy,\x20wor'+'d\x20flag\x0a\x20\x20\x20'+'\x20attribute'+'\x20vertex_te'+'xCoord0:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20unno'+'rmalized\x20t'+'exture\x20spa'+'ce\x20uv,\x20nor'+'malized\x20uv'+'\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'varying\x20wo'+'rdFlag:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x20fn\x20v'+'ertexMain('+'input\x20:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output\x20:\x20'+'VertexOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4(input'+'.vertex_po'+'sition.xy\x20'+'*\x202.0\x20-\x201.'+'0,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.u'+'v0\x20=\x20input'+'.vertex_te'+'xCoord0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.wordFl'+'ag\x20=\x20input'+'.vertex_po'+'sition.z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',MU='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20uv'+'0;\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20wordFlag;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'lr;\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20grap'+'hTex;\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in\x20(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20graph'+'Sample\x20=\x20t'+'exture2D(g'+'raphTex,\x20u'+'v0.xy);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20graph;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.r)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.7,\x200.2,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.b)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gr'+'aph\x20=\x20vec4'+'(0.2,\x200.2,'+'\x200.7,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gra'+'ph\x20=\x20vec4('+'0.0,\x200.0,\x20'+'0.0,\x201.0\x20-'+'\x200.25\x20*\x20si'+'n(uv0.w\x20*\x20'+'3.14159));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20words'+'\x20=\x20texture'+'2D(wordsTe'+'x,\x20vec2(uv'+'0.x,\x201.0\x20-'+'\x20uv0.y));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20mix(gr'+'aph,\x20words'+',\x20wordFlag'+')\x20*\x20clr;\x0a\x20'+'\x20\x20\x20}\x0a',DU='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c4f;\x0a\x20\x20\x20\x20v'+'arying\x20wor'+'dFlag:\x20f32'+';\x0a\x0a\x20\x20\x20\x20uni'+'form\x20clr:\x20'+'vec4f;\x0a\x0a\x20\x20'+'\x20\x20var\x20grap'+'hTex\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20graphTex'+'_sampler\x20:'+'\x20sampler;\x0a'+'\x0a\x20\x20\x20\x20var\x20w'+'ordsTex\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20words'+'Tex_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20u'+'v0:\x20vec4f\x20'+'=\x20input.uv'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20graph'+'Sample:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'graphTex,\x20'+'graphTex_s'+'ampler,\x20uv'+'0.xy);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'graph:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(uv0.'+'w\x20<\x20graphS'+'ample.r)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4f(0.7'+',\x200.2,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4f(0.'+'2,\x200.7,\x200.'+'2,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(uv'+'0.w\x20<\x20grap'+'hSample.b)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20graph'+'\x20=\x20vec4f(0'+'.2,\x200.2,\x200'+'.7,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'raph\x20=\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x201.'+'0\x20-\x200.25\x20*'+'\x20sin(uv0.w'+'\x20*\x203.14159'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20wor'+'ds:\x20vec4f\x20'+'=\x20textureS'+'ample(word'+'sTex,\x20word'+'sTex_sampl'+'er,\x20vec2f('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'input.word'+('Flag)\x20*\x20un'+'iform.clr;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a');class IU{constructor(_0x3a9f64,_0x4aa7e3=0x230d+0xa7*-0xa+0x1*-0x1a87){const _0x3baa90=new kt(_0x3a9f64,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':is,'components':0x4,'type':Ve}]),_0x1b9ae8=new Uint16Array(_0x4aa7e3*(0x1*0x1f5f+0xbca+-0x2b23));for(let _0xf34bf5=0x1*-0xf29+-0x5*-0x47d+-0x8*0xe9;_0xf34bf5<_0x4aa7e3;++_0xf34bf5)_0x1b9ae8[_0xf34bf5*(0x7e8+-0x1d*0x31+-0x255)+(0x1d*0x45+-0x5*-0x2c+-0x8ad)]=_0xf34bf5*(-0x1853+0x2f9*0x7+0x388),_0x1b9ae8[_0xf34bf5*(0xb32*-0x2+-0x1741+0x2dab)+(-0x10b4+-0x1*0x1e7+0x129c)]=_0xf34bf5*(0x11*0x121+-0xf5e+-0x3cf)+(0xeca+-0xd03*-0x1+-0x1bcc),_0x1b9ae8[_0xf34bf5*(0x23e*-0x5+-0x7d5*0x3+-0x11*-0x20b)+(-0xf0b+-0x251f+0x173*0x24)]=_0xf34bf5*(0x3*-0xbee+0xb5*0x30+0xef*0x2)+(-0x21b3+0x13*0x97+-0x1680*-0x1),_0x1b9ae8[_0xf34bf5*(0x17fd+0x23f9*0x1+-0x77e*0x8)+(-0x180b*0x1+-0x3*-0xad5+-0x871)]=_0xf34bf5*(0x53e+0x2274+-0x27ae),_0x1b9ae8[_0xf34bf5*(0x566+0x2303+-0x2863)+(-0x14df+0xac1+-0xa22*-0x1)]=_0xf34bf5*(0x149+0x2586+-0x26cb)+(0x25c1+-0x233b+-0x284),_0x1b9ae8[_0xf34bf5*(-0x1f74+0x1*-0x17a5+0x371f)+(0x2539+0x1998+-0x3ecc*0x1)]=_0xf34bf5*(-0x2*-0xd0a+-0x14b*-0x1a+-0x1dd7*0x2)+(-0x7b8+-0x7d4+0xf8f);this['device']=_0x3a9f64,this['buffer']=new Is(_0x3a9f64,_0x3baa90,_0x4aa7e3*(0x1*0x852+0x1fd8+0x6b1*-0x6),{'usage':ey}),this['data']=new Float32Array(this['buffer']['numBytes']/(-0xf02+0x3*-0xa79+0x2e71)),this['indexBuffe'+'r']=new br(_0x3a9f64,Yi,_0x4aa7e3*(-0x588*-0x1+0x1*0x1a6f+-0x1ff1),ms,_0x1b9ae8),this['prim']={'type':js,'indexed':!(-0x73d+0x28*-0x1+-0x1*-0x765),'base':0x0,'baseVertex':0x0,'count':0x0},this['quads']=-0x1*-0x1fe7+0x73*0x3c+-0x3adb,this['mesh']=new Ge(_0x3a9f64),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][-0x19cb+-0x1*0x24e1+-0x1f56*-0x2]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x22f86a=new Xn({'uniqueName':'MiniStats','vertexGLSL':CU,'fragmentGLSL':MU,'vertexWGSL':PU,'fragmentWGSL':DU,'attributes':{'vertex_position':Me,'vertex_texCoord0':is}});this['material']=_0x22f86a,_0x22f86a['cull']=bt,_0x22f86a['depthState']=Yt['NODEPTH'],_0x22f86a['blendState']=new pt(!(-0x805+0x1bf9+0x4*-0x4fd),fs,jh,Yh,fs,Ft,Ft),_0x22f86a['update'](),this['meshInstan'+'ce']=new He(this['mesh'],_0x22f86a,new Ie('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(-0x1d8c+-0x1c0d+0x399d)},this['targetSize']={'width':_0x3a9f64['width'],'height':_0x3a9f64['height']};}['quad'](_0x3086e5,_0xe3c280,_0xb01310,_0x3fea61,_0x22e37e,_0x18aff8,_0x3bcad0,_0x10f98b,_0x33ab43,_0x426cbd=-0x21fa*0x1+-0x3c1+-0x1*-0x25bb){const _0xd29dcd=this['targetSize']['width'],_0x4f3ec1=this['targetSize']['height'],_0x22894f=_0x3086e5/_0xd29dcd,_0x474a22=_0xe3c280/_0x4f3ec1,_0x53f2e8=(_0x3086e5+_0xb01310)/_0xd29dcd,_0x4430c9=(_0xe3c280+_0x3fea61)/_0x4f3ec1,_0x4adab4=_0x33ab43['width'],_0x4df8a2=_0x33ab43['height'],_0x1f95e6=_0x22e37e/_0x4adab4,_0x12483a=_0x18aff8/_0x4df8a2,_0x4ba80a=(_0x22e37e+(_0x3bcad0??_0xb01310))/_0x4adab4,_0x4f4ff4=(_0x18aff8+(_0x10f98b??_0x3fea61))/_0x4df8a2;this['data']['set']([_0x22894f,_0x474a22,_0x426cbd,_0x1f95e6,_0x12483a,0x2118+-0xde8+-0x1330*0x1,0x1426*-0x1+0x1248+0x1de,_0x53f2e8,_0x474a22,_0x426cbd,_0x4ba80a,_0x12483a,0x281*0x1+0x1*0x3ef+-0x66f,-0x2*0xd55+-0x2fa*0x8+0x193d*0x2,_0x53f2e8,_0x4430c9,_0x426cbd,_0x4ba80a,_0x4f4ff4,-0x1*-0x142f+-0x3*0x946+0x7a4,-0xd93+-0x3*0x79+-0x1*-0xeff,_0x22894f,_0x4430c9,_0x426cbd,_0x1f95e6,_0x4f4ff4,0x268d+-0x26c8*0x1+0x3b,-0x1aef+-0x45f+0x1f4f],(0x1d3b+0x556*-0x2+-0x1273)*this['quads']),this['quads']++,this['prim']['count']+=-0x1e*-0x51+0x17f2+-0x216a;}['startFrame'](){this['quads']=-0x924+0x7*-0xa3+0xd99,this['prim']['count']=0x53*0x73+0x1ab8+-0x91*0x71,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x3e0339,_0x4f70ec,_0x53c722,_0x34b2f4,_0x1e3ab6,_0x4c058b){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x1e3ab6,0x1*0x1d99+0x5*-0x511+-0x7*0x9c),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0x53c722),this['material']['setParamet'+'er']('wordsTex',_0x34b2f4),_0x3e0339['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x4f70ec);}}class N0{constructor(_0x5e182f,_0x58bfa7){const _0x10820a=_0x5e182f['graphicsDe'+'vice'];this['deviceHeig'+'ht']=_0x10820a['height']/_0x10820a['maxPixelRa'+'tio'],_0x58bfa7={...N0['getDefault'+'Options'](),..._0x58bfa7},this['options']=_0x58bfa7,this['initGraphs'](_0x5e182f,_0x10820a,_0x58bfa7);const _0x57c3c3=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x108fa5=>_0x108fa5['name']))['concat'](_0x58bfa7['stats']?_0x58bfa7['stats']['map'](_0x3cc1b8=>_0x3cc1b8['unitsName']):[])['filter'](_0x47e975=>!!_0x47e975));this['wordAtlas']=new AU(_0x10820a,_0x57c3c3),this['sizes']=_0x58bfa7['sizes'],this['_activeSiz'+'eIndex']=_0x58bfa7['startSizeI'+'ndex'];const _0x428382=document['createElem'+'ent']('div');_0x428382['setAttribu'+'te']('id','mini-stats'),_0x58bfa7['position']==='top'?_0x428382['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';':_0x428382['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',_0x428382['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';',document['body']['appendChil'+'d'](_0x428382),_0x428382['addEventLi'+'stener']('mouseenter',_0x256c51=>{this['opacity']=-0x1*0x18ca+-0x2091+0x395c;}),_0x428382['addEventLi'+'stener']('mouseleave',_0x103c83=>{this['opacity']=-0x43*-0x2e+-0x161b+0xa11+0.7;}),_0x428382['addEventLi'+'stener']('click',_0x28d606=>{_0x28d606['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(0x2f*0x65+0x9df*0x3+-0x3027))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x10820a['on']('resizecanv'+'as',this['updateDiv'],this),_0x10820a['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x5e182f['on']('postrender',this['postRender'],this),this['app']=_0x5e182f,this['drawLayer']=_0x5e182f['scene']['layers']['getLayerBy'+'Id'](Il),this['device']=_0x10820a,this['render2d']=new IU(_0x10820a),this['div']=_0x428382,this['width']=-0x23f9+0x9f*0x3d+-0x1ea,this['height']=0x25c7+-0x146*-0x11+-0x3*0x13cf,this['gspacing']=0xc2f+0x101*0x1+-0x2*0x697,this['clr']=[-0x1344+-0x425*0x1+-0xde*-0x1b,-0x7f2+0x1bbd+-0x13ca,-0x8*-0x14c+-0x1851+0xdf2,-0x2*-0x771+-0x162b+0x749+0.5],this['_enabled']=!(0x5*-0x136+0x4fd*0x6+0x2*-0xbf0),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x45a018=>_0x45a018['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'position':'top','sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(0x53*0x2+-0x1f*0x59+0xa22)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(0x1d21+0xed8*0x1+-0x2bf9)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(-0x1dbc+-0x17*-0x44+0x17a0)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(0x31*0x3+-0xeea+-0xe57*-0x1),'watermark':0x21},'gpu':{'enabled':!(-0xc7*0x22+0x2a3+-0x17cb*-0x1),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x352dfa){this['_activeSiz'+'eIndex']=_0x352dfa,this['gspacing']=this['sizes'][_0x352dfa]['spacing'],this['resize'](this['sizes'][_0x352dfa]['width'],this['sizes'][_0x352dfa]['height'],this['sizes'][_0x352dfa]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0xe8048e){this['clr'][0x53b*-0x3+-0x221a+0x31ce]=_0xe8048e;}get['opacity'](){return this['clr'][0x1f*-0x2b+-0x1baa+0x6*0x57b];}get['overallHei'+'ght'](){const _0x4931ca=this['graphs'],_0x4e8d17=this['gspacing'];return this['height']*_0x4931ca['length']+_0x4e8d17*(_0x4931ca['length']-(-0x21e*-0xf+0x110a+-0x30cb));}set['enabled'](_0x3f5306){if(_0x3f5306!==this['_enabled']){this['_enabled']=_0x3f5306;for(let _0x3a0975=-0xb0e+-0x2180+0x2c8e;_0x3a0975<this['graphs']['length'];++_0x3a0975)this['graphs'][_0x3a0975]['enabled']=_0x3f5306,this['graphs'][_0x3a0975]['timer']['enabled']=_0x3f5306;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x183ae5,_0x101e91,_0xdb4192){if(this['graphs']=[],_0xdb4192['cpu']['enabled']){const _0x3599e4=new wU(_0x183ae5),_0x45efe4=new Uf('CPU',_0x183ae5,_0xdb4192['cpu']['watermark'],_0xdb4192['textRefres'+'hRate'],_0x3599e4);this['graphs']['push'](_0x45efe4);}if(_0xdb4192['gpu']['enabled']){const _0x4b33ad=new EU(_0x101e91),_0x337b20=new Uf('GPU',_0x183ae5,_0xdb4192['gpu']['watermark'],_0xdb4192['textRefres'+'hRate'],_0x4b33ad);this['graphs']['push'](_0x337b20);}_0xdb4192['stats']&&_0xdb4192['stats']['forEach'](_0x3dc117=>{const _0x2443ee=new bU(_0x183ae5,_0x3dc117['stats'],_0x3dc117['decimalPla'+'ces'],_0x3dc117['unitsName'],_0x3dc117['multiplier']),_0x5da3ca=new Uf(_0x3dc117['name'],_0x183ae5,_0x3dc117['watermark'],_0xdb4192['textRefres'+'hRate'],_0x2443ee);this['graphs']['push'](_0x5da3ca);});const _0x2dd8b4=_0xdb4192['sizes']['reduce']((_0x429d30,_0xc8f880)=>_0xc8f880['width']>_0x429d30?_0xc8f880['width']:_0x429d30,-0x5*0x5e1+-0xbc+-0x359*-0x9);this['texture']=new _e(_0x101e91,{'name':'mini-stats'+'-graph-tex'+'ture','width':Y['nextPowerO'+'fTwo'](_0x2dd8b4),'height':Y['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(-0x84f*-0x4+0x112a+-0x85*0x61),'minFilter':Te,'magFilter':Te,'addressU':yt,'addressV':yt}),this['graphs']['forEach']((_0x5bc1f9,_0x59f0d4)=>{_0x5bc1f9['texture']=this['texture'],_0x5bc1f9['yOffset']=_0x59f0d4;});}['render'](){const _0x4231d1=this['graphs'],_0x281ada=this['wordAtlas'],_0x3f0cd=this['render2d'],_0x525386=this['width'],_0x57736e=this['height'],_0x5cb557=this['gspacing'];_0x3f0cd['startFrame']();for(let _0x1e54c7=0x14c0+-0x15d3+0x19*0xb;_0x1e54c7<_0x4231d1['length'];++_0x1e54c7){const _0x2b5bec=_0x4231d1[_0x1e54c7];let _0x3d2dae=this['options']['position']==='top'?this['deviceHeig'+'ht']-(_0x1e54c7+(-0x3*0x5de+-0x125*-0x1+0x1076))*(_0x57736e+_0x5cb557):_0x1e54c7*(_0x57736e+_0x5cb557);_0x2b5bec['render'](_0x3f0cd,0x1cf*0x6+0x2022+0x2afc*-0x1,_0x3d2dae,_0x525386,_0x57736e);let _0x77be1f=0xbc4*-0x3+-0xd1f+0x306c;_0x3d2dae+=_0x57736e-(0x1*0x1aa7+0x1*-0x317+0xd*-0x1cf),_0x77be1f+=_0x281ada['render'](_0x3f0cd,_0x2b5bec['name'],_0x77be1f,_0x3d2dae)+(-0x2626+-0x1*0x135d+0x398d);const _0x563e8b=_0x2b5bec['timingText'];for(let _0xd2ae36=-0x21b4+-0x1597*-0x1+0xc1d;_0xd2ae36<_0x563e8b['length'];++_0xd2ae36)_0x77be1f+=_0x281ada['render'](_0x3f0cd,_0x563e8b[_0xd2ae36],_0x77be1f,_0x3d2dae);_0x2b5bec['timer']['unitsName']&&(_0x77be1f+=-0x2*-0x68e+-0x17*-0x53+0x36d*-0x6,_0x281ada['render'](_0x3f0cd,_0x2b5bec['timer']['unitsName'],_0x77be1f,_0x3d2dae));}_0x3f0cd['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x57736e);}['resize'](_0x435628,_0x40c668,_0x2ce4f8){const _0x940ba3=this['graphs'];for(let _0x4d4775=0x427*-0x7+0x2*-0x7e0+0x1*0x2cd1;_0x4d4775<_0x940ba3['length'];++_0x4d4775)_0x940ba3[_0x4d4775]['enabled']=_0x2ce4f8;this['width']=_0x435628,this['height']=_0x40c668,this['updateDiv']();}['updateDiv'](){const _0x396764=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x396764['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x396764['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px',this['deviceHeig'+'ht']=this['device']['height']/this['device']['maxPixelRa'+'tio'];}['loseContex'+'t'](){this['graphs']['forEach'](_0x43837b=>_0x43837b['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}H0();class LU extends ts{constructor(){super(...arguments),h(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),h(this,'controller'+'s',new Map()),h(this,'preEntitie'+'s',new Map()),h(this,'eventsList',[]),h(this,'addEvents',(_0x190b8a,_0x3176f9,_0x37432c)=>{_0x190b8a['on'](_0x3176f9,_0x37432c),this['eventsList']=this['eventsList']['concat']({'e':_0x190b8a,'ty':_0x3176f9,'fn':_0x37432c});}),h(this,'removeEven'+'ts',()=>{this['eventsList']['forEach'](({e:_0x4d949f,ty:_0x2b20c5,fn:_0x25a65c})=>{_0x4d949f['off'](_0x2b20c5,_0x25a65c);}),this['eventsList']=[];}),h(this,'initialize',()=>{if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['addEvents'](this['app']['xr']['input'],'add',async _0x4b741c=>{var _0x1edaaf;if(console['log']('add\x20xr\x20inp'+'ut',_0x4b741c['handedness']),!((_0x1edaaf=_0x4b741c['profiles'])!=null&&_0x1edaaf['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x3f4aba=_0x4b741c['profiles']['map'](async _0x5b7ac7=>{var _0x5ce12f;const _0x46100d=this['basePath']+'/'+_0x5b7ac7+('/profile.j'+'son');try{const _0x5284ec=await fetch(_0x46100d);if(!_0x5284ec['ok'])return null;const _0x74287d=await _0x5284ec['json'](),_0x57cdd8=((_0x5ce12f=_0x74287d['layouts'][_0x4b741c['handedness']])==null?void(0xa*0x297+0x19d4+-0x33ba):_0x5ce12f['assetPath'])||'',_0xd2ec9c=this['basePath']+'/'+_0x74287d['profileId']+'/'+_0x4b741c['handedness']+_0x57cdd8['replace'](/^\/?(left|right)/,''),_0x3b22ee=await new Promise((_0x34cb9a,_0x277987)=>{this['app']['assets']['loadFromUr'+'l'](_0xd2ec9c,'container',(_0x2160c9,_0xc91554)=>{_0x2160c9?_0x277987(_0x2160c9):_0x34cb9a(_0xc91554);});});return{'profileId':_0x5b7ac7,'asset':_0x3b22ee};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x5b7ac7),null;}}),_0x4b7540=(await Promise['all'](_0x3f4aba))['find'](_0x48fce4=>_0x48fce4!==null);if(_0x4b7540){const {asset:_0x1faa36}=_0x4b7540,_0x2588c7=_0x1faa36['resource']['instantiat'+'eRenderEnt'+'ity']();_0x2588c7['name']='Armature_'+_0x4b741c['handedness'],this['app']['root']['addChild'](_0x2588c7),this['preEntitie'+'s']['set'](_0x4b741c,_0x2588c7);const _0x311bd3=new Map();if(_0x4b741c['hand'])for(const _0xdc8771 of _0x4b741c['hand']['joints']){const _0xa4ea2e=_0x2588c7['findByName'](_0xdc8771['id']);_0xa4ea2e&&_0x311bd3['set'](_0xdc8771,_0xa4ea2e);}this['controller'+'s']['set'](_0x4b741c,{'entity':_0x2588c7,'jointMap':_0x311bd3});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['addEvents'](this['app']['xr']['input'],'remove',_0x16932d=>{var _0x4eb5d3;const _0x2fdac7=this['controller'+'s']['get'](_0x16932d);_0x2fdac7&&((_0x4eb5d3=_0x2fdac7['entity'])==null||_0x4eb5d3['destroy'](),this['app']['root']['removeChil'+'d'](_0x2fdac7==null?void(-0x1f8d*-0x1+-0x2f5+-0x1c98):_0x2fdac7['entity']),this['controller'+'s']['delete'](_0x16932d));}),this['addEvents'](this['app']['xr']['input'],'removeall',this['destroy']),this['on']('destroy',this['removeEven'+'ts']);}),h(this,'destroy',()=>{var _0x4616b3,_0x4183f3,_0x3d1e3e;const _0x479709=this['app'];(_0x4616b3=this['controller'+'s'])==null||_0x4616b3['forEach'](_0x454924=>{var _0x4ab969;_0x479709['root']['removeChil'+'d'](_0x454924==null?void(-0x1c02*-0x1+-0x781*-0x3+-0x3285):_0x454924['entity']),(_0x4ab969=_0x454924['entity'])==null||_0x4ab969['destroy']();}),(_0x4183f3=this['controller'+'s'])==null||_0x4183f3['clear'](),(_0x3d1e3e=this['preEntitie'+'s'])==null||_0x3d1e3e['forEach'](_0x2c360e=>{_0x479709['root']['removeChil'+'d'](_0x2c360e),_0x2c360e==null||_0x2c360e['destroy']();});const _0xb2c9ca=()=>{const _0x26aada=_0x479709['root']['findByName']('Armature_l'+'eft'),_0x2b6157=_0x479709['root']['findByName']('Armature_r'+'ight');for(_0x26aada&&_0x479709['root']['removeChil'+'d'](_0x26aada),_0x2b6157&&_0x479709['root']['removeChil'+'d'](_0x2b6157);_0x479709['root']['findByName']('Armature_l'+'eft')||_0x479709['root']['findByName']('Armature_r'+'ight');)_0xb2c9ca();};_0xb2c9ca();});}['update'](_0x2a191f){var _0x40b638;if((_0x40b638=this['app']['xr'])!=null&&_0x40b638['active']){for(const [_0x1e2987,{entity:_0x29d5c5,jointMap:_0x5371d8}]of this['controller'+'s'])if(_0x1e2987['hand']){for(const [_0x4ac686,_0x21872e]of _0x5371d8)_0x21872e['setPositio'+'n'](_0x4ac686['getPositio'+'n']()),_0x21872e['setRotatio'+'n'](_0x4ac686['getRotatio'+'n']());}else _0x29d5c5['setPositio'+'n'](_0x1e2987['getPositio'+'n']()),_0x29d5c5['setRotatio'+'n'](_0x1e2987['getRotatio'+'n']());}}}h(LU,'scriptName','xrControll'+'ers');class RU extends ts{constructor(){super(...arguments),h(this,'enableDraw'+'Ray',!(-0x14*0x153+-0x5e*-0x67+-0x1*0xb55)),h(this,'inputSourc'+'es',new Set()),h(this,'activePoin'+'ters',new Map()),h(this,'validColor',new ie(0x2*0xd4e+0x197f*0x1+-0x341b,0x25af+-0x15a*0x4+-0x2046,-0x386+0x113*0xc+0x95e*-0x1)),h(this,'invalidCol'+'or',new ie(-0x100*-0x23+0x1*0x87+-0x1*0x2386,0x256d+-0x90f*0x3+0xa4*-0x10,-0x1f71+-0x3*-0xbe1+-0x432)),h(this,'inputHandl'+'ers',new Map()),h(this,'teleportOp'+'enStatus',!(-0x19c*-0x15+0x15*0x1f+-0x2456)),h(this,'teleportLe'+'ftOpenStat'+'us',!(0xc7*-0x26+0x1*0x2318+-0x58d));}['initialize'](){if(!this['app']['xr']){console['error']('XrNavigati'+'on\x20script\x20'+'requires\x20X'+'R\x20to\x20be\x20en'+'abled\x20on\x20t'+'he\x20applica'+'tion');return;}this['app']['xr']['input']['on']('add',_0x2e61ca=>{const _0x3f065c=()=>{this['activePoin'+'ters']['set'](_0x2e61ca,!(0xe8b+-0x8c0+0x1*-0x5cb));},_0x3e6a35=()=>{this['activePoin'+'ters']['set'](_0x2e61ca,!(-0xf*-0x27b+-0x11*-0x11+-0x2655)),this['tryTelepor'+'t'](_0x2e61ca);};_0x2e61ca['on']('selectstar'+'t',_0x3f065c),_0x2e61ca['on']('selectend',_0x3e6a35),this['inputHandl'+'ers']['set'](_0x2e61ca,{'handleSelectStart':_0x3f065c,'handleSelectEnd':_0x3e6a35}),this['inputSourc'+'es']['add'](_0x2e61ca);}),this['app']['xr']['input']['on']('remove',_0xfbd690=>{const _0x12493d=this['inputHandl'+'ers']['get'](_0xfbd690);_0x12493d&&(_0xfbd690['off']('selectstar'+'t',_0x12493d['handleSele'+'ctStart']),_0xfbd690['off']('selectend',_0x12493d['handleSele'+'ctEnd']),this['inputHandl'+'ers']['delete'](_0xfbd690)),this['activePoin'+'ters']['delete'](_0xfbd690),this['inputSourc'+'es']['delete'](_0xfbd690);});}['findPlaneI'+'ntersectio'+'n'](_0x398640,_0x4118ca){if(Math['abs'](_0x4118ca['y'])<0xb08+0xfa6+0x5*-0x556+0.00001)return null;const _0x13a203=-_0x398640['y']/_0x4118ca['y'];return _0x13a203<-0xb*-0x1e2+-0x1*-0xae7+0x1*-0x1f9d?null:new D(_0x398640['x']+_0x4118ca['x']*_0x13a203,0x150a+-0x2494+0xf8a,_0x398640['z']+_0x4118ca['z']*_0x13a203);}['tryTelepor'+'t'](_0xe05ab7){if(this['teleportOp'+'enStatus']||this['teleportLe'+'ftOpenStat'+'us']){const _0x527cd9=_0xe05ab7['getOrigin'](),_0x40aef2=_0xe05ab7['getDirecti'+'on'](),_0x9dd3e7=this['findPlaneI'+'ntersectio'+'n'](_0x527cd9,_0x40aef2);if(_0x9dd3e7){const _0x12a10c=this['entity']['getPositio'+'n']()['y'];_0x9dd3e7['y']=_0x12a10c,this['entity']['setPositio'+'n'](_0x9dd3e7);}}}['update'](){for(const _0x5a196f of this['inputSourc'+'es']){const _0x4a4828=_0x5a196f['getOrigin'](),_0x58b56b=_0x5a196f['getDirecti'+'on']();if(_0x5a196f['gamepad']&&!_0x5a196f['hand']){const _0x443615=_0x5a196f['gamepad'];for(let _0x89033d=-0x4e7+0x8f9*-0x3+-0x1fd2*-0x1;_0x89033d<_0x443615['buttons']['length'];++_0x89033d)_0x443615['buttons'][_0x89033d]['pressed']&&console['log'](_0x89033d,_0x5a196f['handedness']),_0x5a196f['handedness']==='right'&&_0x89033d===-0x1e3d+0x1*-0xa3d+0x287b&&(this['teleportOp'+'enStatus']=_0x443615['buttons'][-0xb6f+0xd3e+-0x1ce]['pressed']),_0x5a196f['handedness']==='left'&&_0x89033d===-0x1*-0x6bc+0x6*-0xc4+-0x223&&(this['teleportLe'+'ftOpenStat'+'us']=_0x443615['buttons'][0xb1b+-0x15*-0xc5+0x7*-0x3e5]['pressed']);}const _0x519a3a=_0x5a196f['handedness'];if(!this['enableDraw'+'Ray']&&(_0x519a3a==='right'&&!this['teleportOp'+'enStatus']||_0x519a3a==='left'&&!this['teleportLe'+'ftOpenStat'+'us']))continue;const _0x4e062d=this['findPlaneI'+'ntersectio'+'n'](_0x4a4828,_0x58b56b);if(this['enableDraw'+'Ray']||!_0x4e062d){const _0xdc5cfe=_0x4a4828['clone']()['add'](_0x58b56b['clone']()['mulScalar'](-0x1cab+-0x1f13+0x3c22)),_0x115200=this['enableDraw'+'Ray']?_0x5a196f['selecting']?ie['GREEN']:ie['WHITE']:this['invalidCol'+'or'];this['app']['drawLine'](_0x4a4828,_0xdc5cfe,_0x115200);}else this['app']['drawLine'](_0x4a4828,_0x4e062d,this['validColor']),this['drawTelepo'+'rtIndicato'+'r'](_0x4e062d);}}['drawTelepo'+'rtIndicato'+'r'](_0x18c663){for(let _0x1de9e5=-0x1c8d*0x1+-0x1*-0x18ab+0x3e2;_0x1de9e5<-0x96*0x12+0x11bc+-0x710;_0x1de9e5++){const _0x1f86ad=_0x1de9e5/(0xd*0x4d+-0xaf6+0x72d)*Math['PI']*(-0x2bc+-0x3*-0x233+-0x15*0x2f),_0x5d2391=(_0x1de9e5+(0x1a8*0x1+-0x13db+0x1234))/(-0x8d6+-0x1878+0x216e)*Math['PI']*(0x85*-0x1e+-0x142e+0x23c6*0x1),_0x35cc44=_0x18c663['x']+Math['cos'](_0x1f86ad)*(0x6a+0x3a2*-0x8+-0x1*-0x1ca6+0.2),_0x1990e1=_0x18c663['z']+Math['sin'](_0x1f86ad)*(0x1001*-0x2+-0x3*0x760+0x3622+0.2),_0x1b0ba1=_0x18c663['x']+Math['cos'](_0x5d2391)*(0x22f1+-0x2531*-0x1+0x2411*-0x2+0.2),_0x4d53bc=_0x18c663['z']+Math['sin'](_0x5d2391)*(0xbed+-0x17b*-0x15+-0x2b04+0.2);this['app']['drawLine'](new D(_0x35cc44,-0x154d+0x443*0x8+-0xccb+0.01,_0x1990e1),new D(_0x1b0ba1,0x1*-0x1ef7+0xb0b*0x2+0x1*0x8e1+0.01,_0x4d53bc),this['validColor']);}}}h(RU,'scriptName','xrNavigati'+'on');export{th as $,$U as A,WS as B,ie as C,kU as D,lt as E,PC as F,Xc as G,He as H,Xn as I,Wt as J,h_ as K,Kp as L,sa as M,Me as N,Zs as O,qU as P,le as Q,wg as R,$s as S,nv as T,bt as U,D as V,YS as W,cU as X,Ge as Y,js as Z,Y as _,re as a,Il as a0,Nu as a1,Ce as a2,je as a3,ma as a4,vt as a5,te as a6,De as a7,FU as a8,YU as a9,LU as aa,RU as ab,NU as ac,jv as ad,z0 as ae,N0 as af,me as ag,Xo as ah,Zl as ai,XU as aj,Pe as ak,Bo as al,HS as am,Xk as b,J as c,pe as d,Ll as e,En as f,ni as g,sm as h,UU as i,BU as j,zU as k,VU as l,GU as m,sv as n,tv as o,iv as p,Uw as q,kw as r,au as s,Jp as t,al as u,Ut as v,qO as w,Za as x,Tv as y,B0 as z};function _0x4602b7(_0x31e083){function _0x498798(_0xf93c06){if(typeof _0xf93c06==='string')return function(_0x4e55e8){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0xf93c06/_0xf93c06)['length']!==0x25c*-0x4+-0x309*0x7+0x1eb0||_0xf93c06%(0x1387+0xf03*0x1+0x2276*-0x1)===-0x1018+0x1a22+-0xa0a?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x498798(++_0xf93c06);}try{if(_0x31e083)return _0x498798;else _0x498798(0xd45+0x29*-0xee+0x1*0x18d9);}catch(_0x21889b){}}