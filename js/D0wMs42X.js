const _0x235a17=(function(){let _0x32aa9=!![];return function(_0x100ed7,_0x393549){const _0x4d4b8b=_0x32aa9?function(){if(_0x393549){const _0x461413=_0x393549['apply'](_0x100ed7,arguments);return _0x393549=null,_0x461413;}}:function(){};return _0x32aa9=![],_0x4d4b8b;};}()),_0x3bce28=_0x235a17(this,function(){return _0x3bce28['toString']()['search']('(((.+)+)+)'+'+$')['toString']()['constructo'+'r'](_0x3bce28)['search']('(((.+)+)+)'+'+$');});_0x3bce28();const _0x5e89df=(function(){let _0x4c0044=!![];return function(_0x27e8c8,_0x5b7723){const _0x360f7e=_0x4c0044?function(){if(_0x5b7723){const _0x37a5a7=_0x5b7723['apply'](_0x27e8c8,arguments);return _0x5b7723=null,_0x37a5a7;}}:function(){};return _0x4c0044=![],_0x360f7e;};}());(function(){_0x5e89df(this,function(){const _0x2fdec3=new RegExp('function\x20*'+'\x5c(\x20*\x5c)'),_0x5b5e9c=new RegExp('\x5c+\x5c+\x20*(?:['+'a-zA-Z_$]['+'0-9a-zA-Z_'+'$]*)','i'),_0x3173dc=_0x4cd571('init');!_0x2fdec3['test'](_0x3173dc+'chain')||!_0x5b5e9c['test'](_0x3173dc+'input')?_0x3173dc('0'):_0x4cd571();})();}());const _0x22f9c5=(function(){let _0x5ba3b9=!![];return function(_0x322488,_0x1d0d4e){const _0x316771=_0x5ba3b9?function(){if(_0x1d0d4e){const _0x5c0bd4=_0x1d0d4e['apply'](_0x322488,arguments);return _0x1d0d4e=null,_0x5c0bd4;}}:function(){};return _0x5ba3b9=![],_0x316771;};}()),_0x361685=_0x22f9c5(this,function(){let _0x4f94e8;try{const _0x1cff4a=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');');_0x4f94e8=_0x1cff4a();}catch(_0x5d0e52){_0x4f94e8=window;}const _0x345aa0=_0x4f94e8['console']=_0x4f94e8['console']||{},_0xa2e80f=['log','warn','info','error','exception','table','trace'];for(let _0x22fc31=-0x1*-0x24c5+0x3*0xb5f+-0x46e2;_0x22fc31<_0xa2e80f['length'];_0x22fc31++){const _0x4ccbb4=_0x22f9c5['constructo'+'r']['prototype']['bind'](_0x22f9c5),_0x351056=_0xa2e80f[_0x22fc31],_0x199e4f=_0x345aa0[_0x351056]||_0x4ccbb4;_0x4ccbb4['__proto__']=_0x22f9c5['bind'](_0x22f9c5),_0x4ccbb4['toString']=_0x199e4f['toString']['bind'](_0x199e4f),_0x345aa0[_0x351056]=_0x4ccbb4;}});_0x361685();var k0=Object['defineProp'+'erty'],U0=(_0x5de40e,_0x1fd0ee,_0x55619d)=>_0x1fd0ee in _0x5de40e?k0(_0x5de40e,_0x1fd0ee,{'enumerable':!(-0x296*-0x1+-0x1e5*0x1+-0x3*0x3b),'configurable':!(-0x80*-0x2+0xbbf+-0xcbf*0x1),'writable':!(-0x33*-0x6a+-0x1e5f+0x941),'value':_0x55619d}):_0x5de40e[_0x1fd0ee]=_0x55619d,h=(_0x1e41fd,_0x442c73,_0x13552e)=>U0(_0x1e41fd,typeof _0x442c73!='symbol'?_0x442c73+'':_0x442c73,_0x13552e),B0=(_0x717045=>(_0x717045['HIGH']='high',_0x717045['MEDIUM']='medium',_0x717045['LOW']='low',_0x717045['LOW_VR']='lowVR',_0x717045))(B0||{});const z0=()=>!HS()&&!WS()&&!GS()&&!V0(),GS=()=>{const _0x8d8465=navigator['userAgent']['includes']('Macintosh'),_0x20c3a5=navigator['maxTouchPo'+'ints']===0xe1*-0x2b+0x2170+0x460,_0x2826d0=/^((?!chrome|android).)*safari/i['test'](navigator['userAgent']);return _0x8d8465&&_0x20c3a5&&_0x2826d0;},HS=()=>navigator['userAgent']['includes']('Quest'),V0=()=>{const _0x57e5b5=navigator['userAgent']['toLowerCas'+'e']();return _0x57e5b5['includes']('pico')||_0x57e5b5['includes']('picolrowse'+'r');},WS=()=>['iOS','Android']['includes'](G0()),FU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),NU=()=>new URL(location['href'])['searchPara'+'ms']['has']('nowheel'),G0=()=>{const _0x190bb2=window['navigator']['userAgent']['toLowerCas'+'e'](),_0x25db6f=window['navigator']['platform']['toLowerCas'+'e']();return/iphone|ipad|ipod/['test'](_0x190bb2)?'iOS':/android/['test'](_0x190bb2)?'Android':/mac/['test'](_0x25db6f)?'macOS':/win/['test'](_0x25db6f)?'Windows':/linux/['test'](_0x25db6f)?'Linux':'Unknown';};class kU{constructor(){this['HIGH_FPS_T'+'HRESHOLD']=0x887+0x5c*-0x32+0x99e,this['MEDIUM_FPS'+'_THRESHOLD']=0x1*0x4f1+0x12d*0xb+0x2*-0x8e1,this['HIGH_MEMOR'+'Y_THRESHOL'+'D']=(-0x1*-0x195c+0xd5*0x1d+-0x3179)*(0x1*0xfbb+0xa01*-0x2+0x847)*(-0x1ef7+0xa5b+0x189c)*(-0x18b3+-0x1*0x2441+0x40f4),this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']=(-0x56f*0x1+0x9b+0x2*0x26b)*(-0x1bbc+-0x2360+0x431c)*(0x1*-0x773+0x174e+-0xbdb)*(-0x220c+0x1*-0x851+0xd*0x391),this['SCORE_THRE'+'SHOLDS']={'HIGH':0x46,'MEDIUM':0x32,'LOW':0x1e},this['VENDOR_WEI'+'GHTS']={'nvidia':0x1,'amd':0.9,'apple':0.8,'intel':0.6,'qualcomm':0.5,'arm':0.4},this['HIGH_END_P'+'ATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*[3-4]|titan\s*(?:rtx|xp|v))|quadro\s+(?:rtx|a[0-9]+)/i,/a[1-9][0-9]+/i],'amd':[/radeon\s+(?:rx\s*[6-9]|rx\s*7[0-9]+|pro\s*w[5-9])|instinct\s+mi[2-9]/i],'apple':[/m[1-3]\s+(?:pro|max|ultra)?/i]},this['MEDIUM_END'+'_PATTERNS']={'nvidia':[/geforce\s+(?:rtx\s*2|gtx\s*1[6-9])|quadro\s+(?:p[2-9]|t[1-9])/i],'amd':[/radeon\s+(?:rx\s*[4-5]|vega\s*[5-9])|pro\s*w[2-4]/i],'apple':[/a[1-9][0-9]+\s+(?:x|z)?/i]},this['LOW_END_PA'+'TTERNS']={'intel':[/(?:hd|uhd|iris|xe)\s*graphics\s*(?:[6-9][0-9]+|[1-9][0-9]+g)/i],'qualcomm':[/adreno\s*[6-9][0-9]+/i],'arm':[/mali\s*-?(?:g[7-9][0-9]|t[8-9][0-9])/i]};}['getVendorS'+'core'](_0x22ad27){const _0x348375=_0x22ad27['toLowerCas'+'e']();for(const [_0x5f4e86,_0xd0e4e5]of Object['entries'](this['VENDOR_WEI'+'GHTS']))if(_0x348375['includes'](_0x5f4e86))return _0xd0e4e5*(-0x11d*0x20+0x13a9*-0x1+0x37ad);return 0x220e+0x1*0x5db+-0x27b7;}['getModelSc'+'ore'](_0x2a4418,_0x307ea7){const _0xc1def2=_0x2a4418['toLowerCas'+'e'](),_0x31587d=_0x307ea7['toLowerCas'+'e']();for(const [_0x4e5033,_0x5ee690]of Object['entries'](this['HIGH_END_P'+'ATTERNS']))if(_0xc1def2['includes'](_0x4e5033)&&_0x5ee690['some'](_0x2440e4=>_0x2440e4['test'](_0x31587d)))return 0xeb5+0x77e+-0x1*0x15d9;for(const [_0x46767d,_0x4d3d8c]of Object['entries'](this['MEDIUM_END'+'_PATTERNS']))if(_0xc1def2['includes'](_0x46767d)&&_0x4d3d8c['some'](_0x46dfb8=>_0x46dfb8['test'](_0x31587d)))return-0x1ee8+0x1*0x14e1+0xa4d;for(const [_0x5127e0,_0x5d653f]of Object['entries'](this['LOW_END_PA'+'TTERNS']))if(_0xc1def2['includes'](_0x5127e0)&&_0x5d653f['some'](_0x2909db=>_0x2909db['test'](_0x31587d)))return 0x1428+-0x7b9*0x1+-0xc3d;return-0x2630+0x4*0x1f7+0x6*0x518;}['getMemoryS'+'core'](_0x22dd25){return _0x22dd25?_0x22dd25>=-0x28a9+0x46a+0x531f?-0x24a6+0x4f*0x9+0x2243:_0x22dd25>=-0x1e26+0x696*0x4+-0x2*-0x1187?0x3d*0x72+-0x21f*0x1+-0x18b1:_0x22dd25>=-0xc61+0x181a*-0x1+0x3beb*0x1?0x19d4+-0x12d*0x1+-0x1857*0x1:_0x22dd25>=-0x2*-0xa47+0xa*-0x16+-0x412?-0x8e+-0xb65*-0x1+-0xa91:_0x22dd25>=-0x1b75+-0xdd2+0x3117?-0x595*-0x6+0x1d71+0x3eb3*-0x1:-0xdcb+0x3f4+0xa09:-0x13e*0x17+-0x1192+-0x6*-0x7b9;}['getDriverS'+'core'](_0x540519){if(!_0x540519)return-0x21d4+-0xa74+-0x2c7a*-0x1;const _0x51ff1a=_0x540519['match'](/20[2-9][0-9]/);if(_0x51ff1a){const _0x4993ab=parseInt(_0x51ff1a[0x20d8+0x423*0x9+-0x4613]);if(_0x4993ab>=0x2490+-0x3b*0x7+-0x1b0c)return 0x605*-0x1+-0x19*-0xe3+-0xfc2;if(_0x4993ab>=-0x1e2b*0x1+-0x1aca+0x40db)return-0x347*-0x7+0x179e+-0x2e3f;if(_0x4993ab>=0x1759+0x1b97*0x1+0x2b0b*-0x1)return-0x289*0x1+-0x1b8f+0xa1c*0x3;}return 0x559*0x3+-0x7*0x2b2+0x1*0x305;}['evaluateGP'+'U'](_0x4ab1a2){const _0x5f1795=this['getVendorS'+'core'](_0x4ab1a2['vendor']),_0x582af0=this['getModelSc'+'ore'](_0x4ab1a2['vendor'],_0x4ab1a2['renderer']),_0x22942d=this['getMemoryS'+'core'](_0x4ab1a2['memory']),_0x1e9e2d=this['getDriverS'+'core'](_0x4ab1a2['driverVers'+'ion']);return console['log']('GPU:',_0x4ab1a2['vendor']),console['log']('GPU:',_0x4ab1a2['renderer']),console['log']('GPU:',_0x4ab1a2['driverVers'+'ion']),console['table'](_0x4ab1a2),_0x5f1795*(0x21d2+0x10+-0x10f1*0x2+0.3)+_0x582af0*(0x3b*0xe+-0x20c8+0x6*0x4ed+0.4)+_0x22942d*(0xcbc+0x35a*-0x3+-0x2ae+0.2)+_0x1e9e2d*(0x2696+0x2*0x10e5+-0x4860+0.1);}['evaluateCP'+'U'](){const _0x2e9942=navigator['hardwareCo'+'ncurrency'];return _0x2e9942>=-0xb7a+-0x1cc9*0x1+-0x1*-0x284b?-0x1f*-0x2e+0x151*-0xe+0xcdf:_0x2e9942>=-0xd*-0x15b+-0x1*0xcf2+0x4a9*-0x1?-0x2645+-0x2*-0x1087+0xbf*0x7:0x14*0xc1+0xde2*0x1+-0x1cf5;}['evaluateMe'+'mory'](_0x183444){return typeof _0x183444=='string'?-0x1c1f+-0x1fc2+0x3be1*0x1:_0x183444['totalJSHea'+'pSize'];}['evaluatePe'+'rformance'](_0x4ec81a){const _0x2825c0=WS(),_0x29df61=GS(),_0x38db61=HS();if(_0x29df61)return'medium';if(_0x38db61)return'lowVR';if(_0x2825c0)return'low';const _0x7677ec=_0x4ec81a['fps']>=this['HIGH_FPS_T'+'HRESHOLD']?-0x121+0x1*0x2165+-0x2041:_0x4ec81a['fps']>=this['MEDIUM_FPS'+'_THRESHOLD']?0x7*0x557+0x1*0xe03+-0x19b1*0x2:0x1993+-0x6a*-0x26+-0x22*0x137;let _0x4bce53=-0x39*-0x45+-0x82*-0x25+-0x2226;typeof _0x4ec81a['gpuInfo']!='string'&&(_0x4bce53=this['evaluateGP'+'U'](_0x4ec81a['gpuInfo']));const _0x2c1cb2=this['evaluateCP'+'U'](),_0x525521=this['evaluateMe'+'mory'](_0x4ec81a['memoryInfo'])>=this['HIGH_MEMOR'+'Y_THRESHOL'+'D']?0x26d0+0x18e7+-0x3fb4:this['evaluateMe'+'mory'](_0x4ec81a['memoryInfo'])>=this['MEDIUM_MEM'+'ORY_THRESH'+'OLD']?-0x858+0x1*0x52d+0x3*0x10f:-0x2*-0x3b+-0x1915+0x18a0,_0x120c28=_0x7677ec+_0x4bce53+_0x2c1cb2+_0x525521;return console['log']('GPU:',_0x7677ec,_0x4bce53,_0x2c1cb2,_0x525521),_0x120c28>=this['SCORE_THRE'+'SHOLDS']['HIGH']?'high':_0x120c28>=this['SCORE_THRE'+'SHOLDS']['MEDIUM']?'medium':'low';}['getModelQu'+'alitySetti'+'ngs'](_0x565386){return{'high':{'textureQuality':'high'},'medium':{'textureQuality':'medium'},'low':{'textureQuality':'low'},'lowVR':{'textureQuality':'lowVR'}}[_0x565386];}}const H0=()=>{globalThis['requestIdl'+'eCallback']=globalThis['requestIdl'+'eCallback']||function(_0x310109){var _0x4b6157=Date['now']();return setTimeout(function(){_0x310109({'didTimeout':!(-0x26af+-0x1f6b+-0x89*-0x83),'timeRemaining':function(){return Math['max'](0x1509+-0x22a0+-0x1*-0xd97,-0xa00+-0x19cd+0x5*0x733-(Date['now']()-_0x4b6157));}});},-0x1933+0x8cb*-0x1+0x21ff);},globalThis['cancelIdle'+'Callback']=globalThis['cancelIdle'+'Callback']||function(_0x58c7f7){clearTimeout(_0x58c7f7);};},W0='RenderFram'+'e',Ld='RenderFram'+'eTime',Pm='RenderPass',cn='RenderPass'+'Detail',Vl='RenderActi'+'on',Mm='RenderTarg'+'etAlloc',Dm='TextureAll'+'oc',Im='ShaderAllo'+'c',$0='ShaderComp'+'ile',X0='VRAM.Textu'+'re',q0='VRAM.Vb',j0='VRAM.Ib',Y0='BindGroupA'+'lloc',K0='BindGroupF'+'ormatAlloc',Vs='Element',Z0='Textures',Gl='GpuTimings',hn='$_CURRENT_'+'SDK_VERSIO'+'N',$S='$_CURRENT_'+'SDK_REVISI'+'ON';function ah(_0x1b42e7,_0x185775){for(const _0x116e2c in _0x185775){const _0x3ec269=_0x185775[_0x116e2c];Array['isArray'](_0x3ec269)?_0x1b42e7[_0x116e2c]=ah([],_0x3ec269):_0x3ec269&&typeof _0x3ec269=='object'?_0x1b42e7[_0x116e2c]=ah({},_0x3ec269):_0x1b42e7[_0x116e2c]=_0x3ec269;}return _0x1b42e7;}const Q0={'create'(){return('xxxxxxxx-x'+'xxx-4xxx-y'+'xxx-xxxxxx'+'xxxxxx')['replace'](/[xy]/g,_0x220807=>{const _0x168bc1=Math['random']()*(-0x83*-0x1f+0x8a3+-0x22*0xb8)|-0x1*0xf5+-0x176c+0x1861;return(_0x220807==='x'?_0x168bc1:_0x168bc1&-0x883+-0x2461+0x2ce7*0x1|0x263a*-0x1+-0x3*-0x5ad+0x153b)['toString'](0x34d+0x2*-0x497+0x5f1);});}},xe={'delimiter':'/','join'(..._0x512cfe){let _0x1e3475=_0x512cfe[0x828+-0x1*-0x14d+-0x9*0x10d];for(let _0x5a4ec0=0x206+-0x11ab*-0x1+-0x13b1;_0x5a4ec0<_0x512cfe['length']-(0x426+-0x1eee+0x1ac9);_0x5a4ec0++){const _0x5d1a59=_0x512cfe[_0x5a4ec0],_0x8e4eb9=_0x512cfe[_0x5a4ec0+(-0x53*0x3e+-0xb65*0x2+0x2ae5)];if(_0x8e4eb9[-0x15d4+-0x2238+0x380c]===xe['delimiter']){_0x1e3475=_0x8e4eb9;continue;}_0x5d1a59&&_0x8e4eb9&&_0x5d1a59[_0x5d1a59['length']-(-0x7a*0x7+0x13cb+-0x1074)]!==xe['delimiter']&&_0x8e4eb9[-0x1a4a+0x3*-0x789+-0x1*-0x30e5]!==xe['delimiter']?_0x1e3475+=xe['delimiter']+_0x8e4eb9:_0x1e3475+=_0x8e4eb9;}return _0x1e3475;},'normalize'(_0x2351da){const _0x396fc1=_0x2351da['startsWith'](xe['delimiter']),_0x3cf6ec=_0x2351da['endsWith'](xe['delimiter']),_0x5043a1=_0x2351da['split']('/');let _0x3eb701='',_0x2561f3=[];for(let _0x3f5a36=-0x1113+-0x222d+0x3340;_0x3f5a36<_0x5043a1['length'];_0x3f5a36++)if(_0x5043a1[_0x3f5a36]!==''&&_0x5043a1[_0x3f5a36]!=='.'){if(_0x5043a1[_0x3f5a36]==='..'&&_0x2561f3['length']>0x1*-0x1cdf+0x41f*0x3+-0x1*-0x1082){_0x2561f3=_0x2561f3['slice'](0x25*0xd4+-0x9aa*-0x1+-0x284e,_0x2561f3['length']-(0xec5*-0x2+0x317*0x1+0x1a75));continue;}_0x3f5a36>-0x671*-0x4+0x2*0x622+-0x2608&&_0x2561f3['push'](xe['delimiter']),_0x2561f3['push'](_0x5043a1[_0x3f5a36]);}return _0x3eb701=_0x2561f3['join'](''),!_0x396fc1&&_0x3eb701[-0xb1*-0x1b+-0x7e5+-0xac6]===xe['delimiter']&&(_0x3eb701=_0x3eb701['slice'](0x8d9+-0x1bd3+0x12fb)),_0x3cf6ec&&_0x3eb701[_0x3eb701['length']-(-0x99*0x7+0x11d7+-0x48d*0x3)]!==xe['delimiter']&&(_0x3eb701+=xe['delimiter']),_0x3eb701;},'split'(_0x54b944){const _0x129360=_0x54b944['lastIndexO'+'f'](xe['delimiter']);return _0x129360!==-(-0x1e27+-0x1dd9+0x3c01)?[_0x54b944['substring'](-0x13*-0xe3+-0x15b*-0xd+-0x2278,_0x129360),_0x54b944['substring'](_0x129360+(-0x2683+0x86e+-0x1e16*-0x1))]:['',_0x54b944];},'getBasename'(_0x4dae5d){return xe['split'](_0x4dae5d)[-0x2433*-0x1+0x270e+-0x4b40];},'getDirectory'(_0xc23766){return xe['split'](_0xc23766)[0x2*-0x236+-0x1f*-0x101+0x1*-0x1ab3];},'getExtension'(_0x31a44b){const _0x5780d2=_0x31a44b['split']('?')[0x140d+-0x2f*0x17+-0xfd4]['split']('.')['pop']();return _0x5780d2!==_0x31a44b?'.'+_0x5780d2:'';},'isRelativePath'(_0x4132ae){return _0x4132ae['charAt'](-0xe65+0x17ea+-0x985*0x1)!=='/'&&_0x4132ae['match'](/:\/\//)===null;},'extractPath'(_0x4653b6){let _0x459a02='';const _0x528e20=_0x4653b6['split']('/');let _0x373da3=-0x25e2+0xfeb*0x1+-0x1*-0x15f7;if(_0x528e20['length']>0x2573*0x1+-0x2*-0x646+-0x6*0x855){if(xe['isRelative'+'Path'](_0x4653b6)){if(_0x528e20[-0xb9*-0x9+-0x1*-0x19ca+0x7*-0x49d]==='.'){for(_0x373da3=0x20f*0x1+-0x107e*-0x1+-0x3*0x62f;_0x373da3<_0x528e20['length']-(-0x1cd9+0x25*-0x101+0x41ff);++_0x373da3)_0x459a02+=_0x373da3===-0x3f*0x74+0x6*0x637+0x45f*-0x2?_0x528e20[_0x373da3]:'/'+_0x528e20[_0x373da3];}else{if(_0x528e20[0x1263+0xa48+-0x1cab*0x1]==='..'){for(_0x373da3=0x25*-0x44+-0x1d85+0x59f*0x7;_0x373da3<_0x528e20['length']-(0x198b+0x1bd2*0x1+-0x14*0x2ab);++_0x373da3)_0x459a02+=_0x373da3===0x68*-0x3b+0x223*0x6+0xb26?_0x528e20[_0x373da3]:'/'+_0x528e20[_0x373da3];}else{for(_0x459a02='.',_0x373da3=-0x4*-0x16+-0xa5*-0x19+-0x1*0x1075;_0x373da3<_0x528e20['length']-(0x466*-0x4+0x19ef+-0x856);++_0x373da3)_0x459a02+='/'+_0x528e20[_0x373da3];}}}else{for(_0x373da3=0x1f1*-0x7+-0x5f9*-0x2+0x1a5*0x1;_0x373da3<_0x528e20['length']-(-0x1b2a*0x1+0x77*-0x45+0x3b3e);++_0x373da3)_0x459a02+=_0x373da3===-0x3*-0x6f2+0x23d2+-0x4*0xe2a?_0x528e20[_0x373da3]:'/'+_0x528e20[_0x373da3];}}return _0x459a02;}},J0=()=>{let _0x329c10=!(-0x5*0x745+-0x160a+-0x3a64*-0x1);try{const _0x93dd22=Object['defineProp'+'erty']({},'passive',{'get':function(){return _0x329c10=!(-0xb5f*-0x1+-0x31b+-0x844),!(0x1b4c+0x25e5+-0x4130);}});window['addEventLi'+'stener']('testpassiv'+'e',null,_0x93dd22),window['removeEven'+'tListener']('testpassiv'+'e',null,_0x93dd22);}catch{}return _0x329c10;},Bi=typeof navigator<'u'?navigator['userAgent']:'',nh=typeof window<'u'?'browser':typeof global<'u'?'node':'worker',Lm=/android/i['test'](Bi)?'android':/ip(?:[ao]d|hone)/i['test'](Bi)?'ios':/windows/i['test'](Bi)?'windows':/mac os/i['test'](Bi)?'osx':/linux/i['test'](Bi)?'linux':/cros/i['test'](Bi)?'cros':null,ex=nh!=='browser'?null:/Chrome\/|Chromium\/|Edg.*\//['test'](Bi)?'chrome':/Safari\//['test'](Bi)?'safari':/Firefox\//['test'](Bi)?'firefox':'other',tx=nh==='browser'&&('ontouchsta'+'rt'in window||'maxTouchPo'+'ints'in navigator&&navigator['maxTouchPo'+'ints']>0x707+0xfdc+-0xbd*0x1f),sx=J0(),Ae={'name':Lm,'browser':nh==='browser','worker':nh==='worker','android':Lm==='android','touch':tx,'passiveEvents':sx,'browserName':ex},XS='abcdefghij'+'klmnopqrst'+'uvwxyz',qS='ABCDEFGHIJ'+'KLMNOPQRST'+'UVWXYZ',ix=XS+qS,Bf=0xbfd6+-0x128af+0x140d9,jS=-0x1*0xa0d+-0x17e25+0x26431,Rm=-0x35*0x21d+-0x97b*0x2b+-0x171d5*-0x2,rx=0x9467*-0x2+-0xb*0x1ba3+-0x5*-0xa4f6,ax=-0x92*-0x2f+0xf*0x3f1+-0x4*0xd78,Om=-0x15052+-0x2*0x1db6f+0x6f916,Fm=0x24039+-0xd*-0x4b8f+0x7db*-0x87,nx=-0x1*-0x1e139+-0x2a610+0x2*0x15c69,ox=-0x1eb2f*-0x1+-0x1b789*0x1+0x1c059,lx=-0x2f5*0xd+0x2472+0x22cf,cx=-0x1742+0x3*-0x50d+0x4768,zf=-0x1f63*0xd+-0xc98d+0xc84*0x45,Vf=0xf7*0x109+-0x1efae+-0x1*-0x1ee0e;function Gf(_0x2aadd5,_0x5e85c8=-0x912+0xbe5+-0x2d3){const _0x1148eb=_0x2aadd5['length'];if(_0x5e85c8<-0xbda+0x1d*0xc1+-0xa03*0x1||_0x5e85c8>=_0x1148eb)return null;const _0x178a49=_0x2aadd5['charCodeAt'](_0x5e85c8);if(_0x1148eb>0x3cc+-0x50c+-0x141*-0x1&&_0x178a49>=Bf&&_0x178a49<=jS){const _0x13a640=_0x2aadd5['charCodeAt'](_0x5e85c8+(-0x7*-0x3e5+-0xaab+-0x1097*0x1));if(_0x13a640>=Rm&&_0x13a640<=rx)return{'code':(_0x178a49-Bf)*(0x23ba+-0x4b5*0x1+0x1b05*-0x1)+_0x13a640-Rm+(-0x116a0+0x69cd+-0x1*-0x1acd3),'long':!(0x5b*0x3d+0x241c+-0xb8f*0x5)};}return{'code':_0x178a49,'long':!(-0x7e5*0x3+-0x720+0x1ed0)};}function fr(_0x353329,_0x5b71f5,_0x15cf09){if(!_0x353329)return!(-0x1a5d+0x1a61+-0x3);const _0x2a3ea8=Gf(_0x353329);if(_0x2a3ea8){const _0xd9887f=_0x2a3ea8['code'];return _0xd9887f>=_0x5b71f5&&_0xd9887f<=_0x15cf09;}return!(-0x2206+0xf9*-0x11+0x3290);}function hx(_0x2fce33,_0x1f4b5a){if(_0x1f4b5a===_0x2fce33['length']-(-0x761*-0x3+-0x3*0x939+0x589))return-0x14*-0x185+-0x13fd+-0xa66;if(fr(_0x2fce33[_0x1f4b5a],Bf,jS)){const _0x38bcac=_0x2fce33['substring'](_0x1f4b5a,_0x1f4b5a+(-0x1004+-0x1ffd+0x3003)),_0xc6eab7=_0x2fce33['substring'](_0x1f4b5a+(0x6e*0x53+-0xe*-0x17f+0x325*-0x12),_0x1f4b5a+(0x123a+-0x2709+0x14d3));return fr(_0xc6eab7,nx,ox)||fr(_0x38bcac,Om,Fm)&&fr(_0xc6eab7,Om,Fm)?0x85f*-0x3+0xe9d+0xa84:fr(_0xc6eab7,zf,Vf)?-0x1*0xa99+-0x23c1+0x437*0xb:-0xf31+0x1*0x7b5+-0x77e*-0x1;}return fr(_0x2fce33[_0x1f4b5a+(-0x3d*0xb+-0x1df*-0x7+0x17f*-0x7)],zf,Vf)?-0x6b*-0x8+-0x747+0x3f1*0x1:0x15b9+-0x3*-0xa7d+0x5*-0xaa3;}const Hc={'ASCII_LOWERCASE':XS,'ASCII_UPPERCASE':qS,'ASCII_LETTERS':ix,'format'(_0x40eaf3,..._0x4ce826){for(let _0x40531d=0x2706+-0x1aad*-0x1+-0x41b3;_0x40531d<_0x4ce826['length'];_0x40531d++)_0x40eaf3=_0x40eaf3['replace']('{'+_0x40531d+'}',_0x4ce826[_0x40531d]);return _0x40eaf3;},'getCodePoint'(_0x532660,_0x3f0e4f){const _0x481988=Gf(_0x532660,_0x3f0e4f);return _0x481988&&_0x481988['code'];},'getCodePoints'(_0x31f9bf){if(typeof _0x31f9bf!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x6d3652=-0x4bf+0x1c27+-0xbb4*0x2;const _0x419f43=[];let _0xd2b7f3;for(;_0xd2b7f3=Gf(_0x31f9bf,_0x6d3652);)_0x419f43['push'](_0xd2b7f3['code']),_0x6d3652+=_0xd2b7f3['long']?-0xce0+-0x39e*-0x5+-0x534:0x12aa+0x3*0x7bb+-0x29da;return _0x419f43;},'getSymbols'(_0x3fa46a){if(typeof _0x3fa46a!='string')throw new TypeError('Not\x20a\x20stri'+'ng');let _0x5f1311=0x1a9*0xb+-0x1*-0xea4+-0x20e7;const _0x5406b9=_0x3fa46a['length'],_0x40edf5=[];let _0x518f94=0x4e*0x27+-0x2*0x11d2+0x2*0xbe1,_0xc252f4;for(;_0x5f1311<_0x5406b9;){if(_0x518f94+=hx(_0x3fa46a,_0x5f1311+_0x518f94),_0xc252f4=_0x3fa46a[_0x5f1311+_0x518f94],fr(_0xc252f4,lx,cx)&&(_0xc252f4=_0x3fa46a[_0x5f1311+_0x518f94++]),fr(_0xc252f4,zf,Vf)&&(_0xc252f4=_0x3fa46a[_0x5f1311+_0x518f94++]),_0xc252f4&&_0xc252f4['charCodeAt'](0x778+0x1*0x4c3+-0xc3b)===ax){_0xc252f4=_0x3fa46a[_0x5f1311+_0x518f94++];continue;}const _0x3e2f1d=_0x3fa46a['substring'](_0x5f1311,_0x5f1311+_0x518f94);_0x40edf5['push'](_0x3e2f1d),_0x5f1311+=_0x518f94,_0x518f94=-0x2557+-0x12d*-0x1+-0xc0e*-0x3;}return _0x40edf5;},'fromCodePoint'(..._0x159a7f){return _0x159a7f['map'](_0x528327=>_0x528327>0xa227+-0x19937+0x1f70f?(_0x528327-=-0x1e697*-0x1+-0x4*0x5b35+0x863d,String['fromCharCo'+'de']((_0x528327>>-0x108*-0xa+-0x1d0e+0x12c8)+(0x7a9f*0x1+0x1*-0x8757+-0x68*-0x233),_0x528327%(0x530+-0xfac+-0x6*-0x26a)+(-0x19265*-0x1+-0xab1*0x11+0x2*-0x52))):String['fromCharCo'+'de'](_0x528327))['join']('');}},Zr=class Zr{static['set'](_0x51c6e9,_0x51eda8=!(-0x117+-0x181+0x298)){_0x51eda8?Zr['_traceChan'+'nels']['add'](_0x51c6e9):Zr['_traceChan'+'nels']['delete'](_0x51c6e9);}static['get'](_0x1b4fac){return Zr['_traceChan'+'nels']['has'](_0x1b4fac);}};h(Zr,'_traceChan'+'nels',new Set()),h(Zr,'stack',!(-0x1519*0x1+-0x5f+-0x17*-0xef));let mi=Zr;const Vt=class Vt{static['deprecated'](_0x2d952a){Vt['_loggedMes'+'sages']['has'](_0x2d952a)||(Vt['_loggedMes'+'sages']['add'](_0x2d952a),console['warn']('DEPRECATED'+':\x20'+_0x2d952a));}static['removed'](_0x58284e){Vt['_loggedMes'+'sages']['has'](_0x58284e)||(Vt['_loggedMes'+'sages']['add'](_0x58284e),console['error']('REMOVED:\x20'+_0x58284e));}static['assertDepr'+'ecated'](_0x25622e,_0x4c77c9){_0x25622e||Vt['deprecated'](_0x4c77c9);}static['assert'](_0x572b02,..._0x209727){_0x572b02||console['error']('ASSERT\x20FAI'+'LED:\x20',..._0x209727);}static['assertDest'+'royed'](_0x39bf1b){var _0x155874;if(_0x39bf1b!=null&&_0x39bf1b['__alreadyD'+'estroyed']){const _0x29d7eb='['+((_0x155874=_0x39bf1b['constructo'+'r'])==null?void(0x960+-0x2073+-0xb3*-0x21):_0x155874['name'])+(']\x20with\x20nam'+'e\x20[')+_0x39bf1b['name']+(']\x20has\x20alre'+'ady\x20been\x20d'+'estroyed,\x20'+'and\x20cannot'+'\x20be\x20used.');Vt['_loggedMes'+'sages']['has'](_0x29d7eb)||(Vt['_loggedMes'+'sages']['add'](_0x29d7eb),console['error']('ASSERT\x20FAI'+'LED:\x20',_0x29d7eb,_0x39bf1b));}}static['call'](_0x36c714){_0x36c714();}static['log'](..._0x11b6d1){console['log'](..._0x11b6d1);}static['logOnce'](_0x3a217b,..._0x5d8388){Vt['_loggedMes'+'sages']['has'](_0x3a217b)||(Vt['_loggedMes'+'sages']['add'](_0x3a217b),console['log'](_0x3a217b,..._0x5d8388));}static['warn'](..._0x5465b9){console['warn'](..._0x5465b9);}static['warnOnce'](_0x1206d3,..._0x54ccb5){Vt['_loggedMes'+'sages']['has'](_0x1206d3)||(Vt['_loggedMes'+'sages']['add'](_0x1206d3),console['warn'](_0x1206d3,..._0x54ccb5));}static['error'](..._0x58e33b){console['error'](..._0x58e33b);}static['errorOnce'](_0x59a331,..._0x528a52){Vt['_loggedMes'+'sages']['has'](_0x59a331)||(Vt['_loggedMes'+'sages']['add'](_0x59a331),console['error'](_0x59a331,..._0x528a52));}static['trace'](_0x2093bc,..._0x1f653b){mi['get'](_0x2093bc)&&(console['groupColla'+'psed'](_0x2093bc['padEnd'](-0x1*-0xb9+-0x20fa+-0x59*-0x5d,'\x20')+'|',..._0x1f653b),console['groupEnd']());}};h(Vt,'_loggedMes'+'sages',new Set());let w=Vt;class Ea{static['setName'](_0x354256,_0x4e7f36){_0x354256&&(_0x354256['name']=_0x4e7f36);}static['setLabel'](_0x2ba434,_0x1d67bb){_0x2ba434&&(_0x2ba434['label']=_0x1d67bb);}static['setDestroy'+'ed'](_0x3779f4){_0x3779f4&&(_0x3779f4['__alreadyD'+'estroyed']=!(0xf1*-0x14+0x8cc*-0x1+0x1ba0));}}class dx{constructor(_0x1ab01b,_0x2a5963,_0x36fae4,_0x9dc532,_0x3e6cc9=!(-0x466+0x23ff+0x7e6*-0x4)){h(this,'handler'),h(this,'name'),h(this,'callback'),h(this,'scope'),h(this,'_once'),h(this,'_removed',!(-0x73*0x1d+0x1*-0x1f35+0x2c3d)),(this['handler']=_0x1ab01b,this['name']=_0x2a5963,this['callback']=_0x36fae4,this['scope']=_0x9dc532,this['_once']=_0x3e6cc9);}['off'](){this['_removed']||this['handler']['offByHandl'+'e'](this);}['on'](_0x60b73a,_0x5e5968,_0x10a4e7=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.on\x20is\x20d'+'eprecated,'+'\x20subscribe'+'\x20to\x20an\x20eve'+'nt\x20from\x20Ev'+'entHandler'+'\x20directly\x20'+'instead.'),this['handler']['_addCallba'+'ck'](_0x60b73a,_0x5e5968,_0x10a4e7,!(0x389+-0x5f8+-0x9c*-0x4));}['once'](_0x1276d3,_0x48b199,_0x2cf70d=this){return w['deprecated']('Using\x20chai'+'ning\x20with\x20'+'EventHandl'+'er.once\x20is'+'\x20deprecate'+'d,\x20subscri'+'be\x20to\x20an\x20e'+'vent\x20from\x20'+'EventHandl'+'er\x20directl'+'y\x20instead.'),this['handler']['_addCallba'+'ck'](_0x1276d3,_0x48b199,_0x2cf70d,!(-0x17*-0x20+-0x742*0x4+0x1a28));}set['removed'](_0x51e3bf){_0x51e3bf&&(this['_removed']=!(-0x85d*0x1+0x1c96+-0x1f*0xa7));}get['removed'](){return this['_removed'];}['toJSON'](_0x8440ff){}}class me{constructor(){h(this,'_callbacks',new Map()),h(this,'_callbackA'+'ctive',new Map());}['initEventH'+'andler'](){this['_callbacks']=new Map(),this['_callbackA'+'ctive']=new Map();}['_addCallba'+'ck'](_0x1a3423,_0x459cdf,_0x33c5f1,_0x1e6c0c){if((!_0x1a3423||typeof _0x1a3423!='string'||!_0x459cdf)&&console['warn']('EventHandl'+'er:\x20subscr'+'ibing\x20to\x20a'+'n\x20event\x20('+_0x1a3423+(')\x20with\x20mis'+'sing\x20argum'+'ents'),_0x459cdf),this['_callbacks']['has'](_0x1a3423)||this['_callbacks']['set'](_0x1a3423,[]),this['_callbackA'+'ctive']['has'](_0x1a3423)){const _0x4f0962=this['_callbackA'+'ctive']['get'](_0x1a3423);_0x4f0962&&_0x4f0962===this['_callbacks']['get'](_0x1a3423)&&this['_callbackA'+'ctive']['set'](_0x1a3423,_0x4f0962['slice']());}const _0x5d147e=new dx(this,_0x1a3423,_0x459cdf,_0x33c5f1,_0x1e6c0c);return this['_callbacks']['get'](_0x1a3423)['push'](_0x5d147e),_0x5d147e;}['on'](_0xd26baf,_0x323213,_0x2e610e=this){return this['_addCallba'+'ck'](_0xd26baf,_0x323213,_0x2e610e,!(0x1f85*0x1+0x1f62+0xa6*-0x61));}['once'](_0x44e469,_0x3c8a26,_0x360ca4=this){return this['_addCallba'+'ck'](_0x44e469,_0x3c8a26,_0x360ca4,!(0x113e*-0x1+0xf6f+-0x1*-0x1cf));}['off'](_0x27a919,_0x5c1245,_0x5d031b){if(_0x27a919)this['_callbackA'+'ctive']['has'](_0x27a919)&&this['_callbackA'+'ctive']['get'](_0x27a919)===this['_callbacks']['get'](_0x27a919)&&this['_callbackA'+'ctive']['set'](_0x27a919,this['_callbackA'+'ctive']['get'](_0x27a919)['slice']());else{for(const [_0x3877f8,_0x580470]of this['_callbackA'+'ctive'])this['_callbacks']['has'](_0x3877f8)&&this['_callbacks']['get'](_0x3877f8)===_0x580470&&this['_callbackA'+'ctive']['set'](_0x3877f8,_0x580470['slice']());}if(_0x27a919){if(_0x5c1245){const _0xd5ccb=this['_callbacks']['get'](_0x27a919);if(!_0xd5ccb)return this;for(let _0x1aba01=-0x851*-0x3+-0x12da+-0x619;_0x1aba01<_0xd5ccb['length'];_0x1aba01++)_0xd5ccb[_0x1aba01]['callback']===_0x5c1245&&(_0x5d031b&&_0xd5ccb[_0x1aba01]['scope']!==_0x5d031b||(_0xd5ccb[_0x1aba01]['removed']=!(-0x1*-0x17a3+0x14c7+-0x2c6a),_0xd5ccb['splice'](_0x1aba01,0x6d*-0x47+-0x1c27+0x3a63),_0x1aba01--));_0xd5ccb['length']===-0x18ff+-0x207d+0x397c&&this['_callbacks']['delete'](_0x27a919);}else{const _0xb76dfb=this['_callbacks']['get'](_0x27a919);if(_0xb76dfb){for(let _0x4e497f=0x1a09+0x2144+-0x3b4d;_0x4e497f<_0xb76dfb['length'];_0x4e497f++)_0xb76dfb[_0x4e497f]['removed']=!(-0x5*0x65f+0x1b21+0x4ba);this['_callbacks']['delete'](_0x27a919);}}}else{for(const _0x117ec1 of this['_callbacks']['values']())for(let _0x42af01=-0x1*-0x950+0x1b7*-0x1+0x799*-0x1;_0x42af01<_0x117ec1['length'];_0x42af01++)_0x117ec1[_0x42af01]['removed']=!(0xa61*-0x2+0x1*0xe35+-0x27*-0x2b);this['_callbacks']['clear']();}return this;}['offByHandl'+'e'](_0x49173e){const _0x1c1be0=_0x49173e['name'];_0x49173e['removed']=!(0x1e6a+-0x15c4+-0x8a6),this['_callbackA'+'ctive']['has'](_0x1c1be0)&&this['_callbackA'+'ctive']['get'](_0x1c1be0)===this['_callbacks']['get'](_0x1c1be0)&&this['_callbackA'+'ctive']['set'](_0x1c1be0,this['_callbackA'+'ctive']['get'](_0x1c1be0)['slice']());const _0x293b41=this['_callbacks']['get'](_0x1c1be0);if(!_0x293b41)return this;const _0x5800b6=_0x293b41['indexOf'](_0x49173e);return _0x5800b6!==-(0x2*0x304+-0x1fee+-0x15d*-0x13)&&(_0x293b41['splice'](_0x5800b6,0xe0b*0x1+0x102*-0x11+-0x24*-0x16),_0x293b41['length']===-0xf07*-0x1+-0x7*-0x3fd+-0x2af2&&this['_callbacks']['delete'](_0x1c1be0)),this;}['fire'](_0x4b5e2d,_0x186e61,_0x2ee43c,_0xe6b415,_0xcb34ae,_0x5ec337,_0x54c6d8,_0x570a06,_0x322048){if(!_0x4b5e2d)return this;const _0x2eeb1f=this['_callbacks']['get'](_0x4b5e2d);if(!_0x2eeb1f)return this;let _0x405ab8;this['_callbackA'+'ctive']['has'](_0x4b5e2d)?this['_callbackA'+'ctive']['get'](_0x4b5e2d)!==_0x2eeb1f&&(_0x405ab8=_0x2eeb1f['slice']()):this['_callbackA'+'ctive']['set'](_0x4b5e2d,_0x2eeb1f);for(let _0x30acd2=0x212a+0x2197+-0x42c1;(_0x405ab8||this['_callbackA'+'ctive']['get'](_0x4b5e2d))&&_0x30acd2<(_0x405ab8||this['_callbackA'+'ctive']['get'](_0x4b5e2d))['length'];_0x30acd2++){const _0x4223af=(_0x405ab8||this['_callbackA'+'ctive']['get'](_0x4b5e2d))[_0x30acd2];if(_0x4223af['callback']&&(_0x4223af['callback']['call'](_0x4223af['scope'],_0x186e61,_0x2ee43c,_0xe6b415,_0xcb34ae,_0x5ec337,_0x54c6d8,_0x570a06,_0x322048),_0x4223af['_once'])){const _0x291599=this['_callbacks']['get'](_0x4b5e2d),_0x599ce4=_0x291599?_0x291599['indexOf'](_0x4223af):-(-0x2202+-0x1370*0x2+-0x1*-0x48e3);if(_0x599ce4!==-(-0x1a86+0xf4c+0x5*0x23f)){this['_callbackA'+'ctive']['get'](_0x4b5e2d)===_0x291599&&this['_callbackA'+'ctive']['set'](_0x4b5e2d,this['_callbackA'+'ctive']['get'](_0x4b5e2d)['slice']());const _0x58f1a9=this['_callbacks']['get'](_0x4b5e2d);if(!_0x58f1a9)continue;_0x58f1a9[_0x599ce4]['removed']=!(-0xf69+0x4*0x27e+-0x571*-0x1),_0x58f1a9['splice'](_0x599ce4,-0x13f1*-0x1+-0x2064+0xc74*0x1),_0x58f1a9['length']===0xb*0x281+0x96c+0x1*-0x24f7&&this['_callbacks']['delete'](_0x4b5e2d);}}}return _0x405ab8||this['_callbackA'+'ctive']['delete'](_0x4b5e2d),this;}['hasEvent'](_0x5a9c4b){var _0x396285;return!!((_0x396285=this['_callbacks']['get'](_0x5a9c4b))!=null&&_0x396285['length']);}}class fx{constructor(){h(this,'_list',[]),h(this,'_index',{});}['push'](_0x230778,_0x57b749){if(this['_index'][_0x230778])throw Error('Key\x20alread'+'y\x20in\x20index'+'\x20'+_0x230778);const _0x193d1e=this['_list']['push'](_0x57b749)-(-0x25b8*0x1+0xe61*0x2+-0x55*-0x1b);this['_index'][_0x230778]=_0x193d1e;}['has'](_0x265a7b){return this['_index'][_0x265a7b]!==void(-0x2076*0x1+-0x6*-0x116+0x19f2);}['get'](_0x56bf25){const _0x43877c=this['_index'][_0x56bf25];return _0x43877c!==void(0x48*0x71+-0x2*-0xafb+-0x35be)?this['_list'][_0x43877c]:null;}['remove'](_0x769cad){const _0x40033a=this['_index'][_0x769cad];if(_0x40033a!==void(-0xc0b+-0x407*0x5+-0x2*-0x1017)){this['_list']['splice'](_0x40033a,-0x285*0xc+-0x2*-0x3d2+0x1699),delete this['_index'][_0x769cad];for(_0x769cad in this['_index']){const _0x1aa7a2=this['_index'][_0x769cad];_0x1aa7a2>_0x40033a&&(this['_index'][_0x769cad]=_0x1aa7a2-(0x101*0x8+-0x7+0x8*-0x100));}return!(-0x881*0x2+-0x273+0x1375);}return!(0x85f+-0x2560+0x1d02);}['list'](){return this['_list'];}['clear'](){this['_list']['length']=0x368*-0xb+0x445*-0x1+0x29bd;for(const _0x1140f1 in this['_index'])delete this['_index'][_0x1140f1];}}const ux=_0x558aa9=>{const _0x5d6e1f={};let _0xbc4b29=_0x5d6e1f;return()=>(_0xbc4b29===_0x5d6e1f&&(_0xbc4b29=_0x558aa9()),_0xbc4b29);},ii=class ii{static['loadScript'](_0x55cbe5,_0x308454){const _0x4c09a4=document['createElem'+'ent']('script');_0x4c09a4['setAttribu'+'te']('src',_0x55cbe5),_0x4c09a4['onload']=()=>{_0x308454(null);},_0x4c09a4['onerror']=()=>{_0x308454('Failed\x20to\x20'+'load\x20scrip'+'t=\x27'+_0x55cbe5+'\x27');},document['body']['appendChil'+'d'](_0x4c09a4);}static['loadWasm'](_0x4095f2,_0x28ebd8,_0x550b84){const _0x19e27d=ii['wasmSuppor'+'ted']()&&_0x28ebd8['glueUrl']&&_0x28ebd8['wasmUrl']?_0x28ebd8['glueUrl']:_0x28ebd8['fallbackUr'+'l'];_0x19e27d?ii['loadScript'](_0x19e27d,_0x42d970=>{if(_0x42d970)_0x550b84(_0x42d970,null);else{const _0x399c7c=window[_0x4095f2];window[_0x4095f2]=void(-0x26*-0x11+0x182d*0x1+0x557*-0x5),_0x399c7c({'locateFile':()=>_0x28ebd8['wasmUrl'],'onAbort':()=>{_0x550b84('wasm\x20modul'+'e\x20aborted.');}})['then'](_0x261f11=>{_0x550b84(null,_0x261f11);});}}):_0x550b84('No\x20support'+'ed\x20wasm\x20mo'+'dules\x20foun'+'d.',null);}static['getModule'](_0xfe2ada){return ii['modules']['hasOwnProp'+'erty'](_0xfe2ada)||(ii['modules'][_0xfe2ada]={'config':null,'initializing':!(-0xa52+0x6d*-0x2b+0xa*0x2dd),'instance':null,'callbacks':[]}),ii['modules'][_0xfe2ada];}static['initialize'](_0x333f36,_0x3df44a){if(_0x3df44a['initializi'+'ng'])return;const _0x1cb6ad=_0x3df44a['config'];(_0x1cb6ad['glueUrl']||_0x1cb6ad['wasmUrl']||_0x1cb6ad['fallbackUr'+'l'])&&(_0x3df44a['initializi'+'ng']=!(0x47*-0x35+-0x1276+0x2129*0x1),ii['loadWasm'](_0x333f36,_0x1cb6ad,(_0x1ae79f,_0x251e81)=>{_0x1ae79f?_0x1cb6ad['errorHandl'+'er']?_0x1cb6ad['errorHandl'+'er'](_0x1ae79f):console['error']('failed\x20to\x20'+'initialize'+'\x20module='+_0x333f36+'\x20error='+_0x1ae79f):(_0x3df44a['instance']=_0x251e81,_0x3df44a['callbacks']['forEach'](_0x17a111=>{_0x17a111(_0x251e81);}));}));}};h(ii,'modules',{}),h(ii,'wasmSuppor'+'ted',ux(()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x34282b=new WebAssembly['Module'](Uint8Array['of'](0x223d+-0x1*-0x62b+0x2*-0x1434,-0x1*-0x1485+-0x1*-0x2f7+-0x5*0x49f,0x1ccb+-0x91a+0x99f*-0x2,0x11ad+-0x1299+0x159,-0x1*0x1521+0x2*0x3ef+0xd44,0x1*-0x47+-0x568+0x5af*0x1,-0x1ec3+0x13b3+0x8*0x162,0x7*0x12e+-0x184d+-0x25*-0x6f));if(_0x34282b instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x34282b)instanceof WebAssembly['Instance'];}}catch{}return!(0x1e52+-0x16*-0x116+0x1*-0x3635);}));let Yr=ii;class YS{static['setConfig'](_0x30c72e,_0x267a3e){const _0x4134f0=Yr['getModule'](_0x30c72e);_0x4134f0['config']=_0x267a3e,_0x4134f0['callbacks']['length']>0x2226+-0xa88+-0x179e&&Yr['initialize'](_0x30c72e,_0x4134f0);}static['getConfig'](_0x20cdfe){var _0x560790,_0xd08479;return(_0xd08479=(_0x560790=Yr['modules'])==null?void(0xbe4+-0x19c1+0xddd):_0x560790[_0x20cdfe])==null?void(0x1867+0xdb6+0xb*-0x377):_0xd08479['config'];}static['getInstanc'+'e'](_0x33e2bf,_0x2ec3d0){const _0x30d9db=Yr['getModule'](_0x33e2bf);_0x30d9db['instance']?_0x2ec3d0(_0x30d9db['instance']):(_0x30d9db['callbacks']['push'](_0x2ec3d0),_0x30d9db['config']&&Yr['initialize'](_0x33e2bf,_0x30d9db));}}class KS{constructor(_0x151f03){h(this,'arraybuffe'+'r'),h(this,'dataView'),h(this,'offset',-0x204d+0x209*0x13+-0x65e),(this['arraybuffe'+'r']=_0x151f03,this['dataView']=new DataView(_0x151f03));}get['remainingB'+'ytes'](){return this['dataView']['byteLength']-this['offset'];}['reset'](_0x48cff9=0x2383+0x139*0x1d+0x11be*-0x4){this['offset']=_0x48cff9;}['skip'](_0x1a47ce){this['offset']+=_0x1a47ce;}['align'](_0x310a3b){this['offset']=this['offset']+_0x310a3b-(-0xb06+-0x58b*0x5+0x26be)&~(_0x310a3b-(-0x1c3*0x13+-0x2*-0xe8f+0x45c));}['_inc'](_0x3d04ff){return this['offset']+=_0x3d04ff,this['offset']-_0x3d04ff;}['readChar'](){return String['fromCharCo'+'de'](this['dataView']['getUint8'](this['offset']++));}['readChars'](_0x4a4a3b){let _0x5bd947='';for(let _0x33bd68=0x5*0x257+0xeeb+-0xd4f*0x2;_0x33bd68<_0x4a4a3b;++_0x33bd68)_0x5bd947+=this['readChar']();return _0x5bd947;}['readU8'](){return this['dataView']['getUint8'](this['offset']++);}['readU16'](){return this['dataView']['getUint16'](this['_inc'](-0x1*0x146f+0x136a+0x107),!(0x488+0xa1f+-0x1*0xea7));}['readU32'](){return this['dataView']['getUint32'](this['_inc'](-0x455+-0x1a76+0x1ecf),!(0x1486+-0x2*0xa99+0xac));}['readU64'](){return this['readU32']()+(0x2375*0x1+0x1fa+-0x256d)**(-0xe*0x23c+-0x243+0x21ab)*this['readU32']();}['readU32be'](){return this['dataView']['getUint32'](this['_inc'](0x23bb+0x244+0x7*-0x56d),!(-0xb9b*-0x2+-0x2607+0xed2));}['readArray'](_0x1a7bc8){for(let _0x2365fa=0x1fe6+-0xecc*-0x1+-0x2eb2;_0x2365fa<_0x1a7bc8['length'];++_0x2365fa)_0x1a7bc8[_0x2365fa]=this['readU8']();}['readLine'](){const _0x14d4b3=this['dataView'];let _0x3dcffb='';for(;!(this['offset']>=_0x14d4b3['byteLength']);){const _0x290d95=String['fromCharCo'+'de'](this['readU8']());if(_0x290d95==='\x0a')break;_0x3dcffb+=_0x290d95;}return _0x3dcffb;}}class oh{constructor(_0x28493f){h(this,'items',[]),h(this,'length',-0x2352*0x1+0x20ae+0xd*0x34),h(this,'loopIndex',-(0x10a4+0xc*0x1fc+-0x2873)),h(this,'_sortBy'),h(this,'_sortHandl'+'er'),(this['_sortBy']=_0x28493f['sortBy'],this['_sortHandl'+'er']=this['_doSort']['bind'](this));}['_binarySea'+'rch'](_0x4101d6){let _0x243a2b=0x55d*0x3+-0xebf*-0x1+-0x2*0xf6b,_0x48cedd=this['items']['length']-(0xe8c+0x1*0x20c+-0x1097);const _0x1c061d=_0x4101d6[this['_sortBy']];let _0x3c3080,_0x1ff40f;for(;_0x243a2b<=_0x48cedd;)_0x3c3080=Math['floor']((_0x243a2b+_0x48cedd)/(0x114f+0x1a67+-0x2bb4)),_0x1ff40f=this['items'][_0x3c3080][this['_sortBy']],_0x1ff40f<=_0x1c061d?_0x243a2b=_0x3c3080+(-0x9a7+0x888+0x1*0x120):_0x1ff40f>_0x1c061d&&(_0x48cedd=_0x3c3080-(-0x1*-0x3fe+0xb2+-0x4af));return _0x243a2b;}['_doSort'](_0x116355,_0x5dd81c){const _0x4c7b66=this['_sortBy'];return _0x116355[_0x4c7b66]-_0x5dd81c[_0x4c7b66];}['insert'](_0x5efcf2){const _0x5599cf=this['_binarySea'+'rch'](_0x5efcf2);this['items']['splice'](_0x5599cf,0xeba+0x98*-0x10+-0x53a,_0x5efcf2),this['length']++,this['loopIndex']>=_0x5599cf&&this['loopIndex']++;}['append'](_0x59d19b){this['items']['push'](_0x59d19b),this['length']++;}['remove'](_0x32c038){const _0x51edc8=this['items']['indexOf'](_0x32c038);_0x51edc8<0x1677+-0x142b+-0x24c||(this['items']['splice'](_0x51edc8,0x30a*-0x1+-0xd*0x23b+0x6*0x557),this['length']--,this['loopIndex']>=_0x51edc8&&this['loopIndex']--);}['sort'](){const _0x27d96b=this['loopIndex']>=0x2707+-0x5e4*0x1+0x11*-0x1f3?this['items'][this['loopIndex']]:null;this['items']['sort'](this['_sortHandl'+'er']),_0x27d96b!==null&&(this['loopIndex']=this['items']['indexOf'](_0x27d96b));}}class Oo extends me{constructor(_0x1b3207){super(),h(this,'_index',{}),h(this,'_list',[]),this['_parent']=_0x1b3207;}['add'](..._0x49c80e){let _0x1f5300=!(0xceb*0x1+-0xab0+-0xa*0x39);const _0x184dd8=this['_processAr'+'guments'](_0x49c80e,!(0x1be3+-0x27*-0x2a+-0x2249*0x1));if(!_0x184dd8['length'])return _0x1f5300;for(let _0x24435b=-0x61*-0x16+-0x123f+0x9e9;_0x24435b<_0x184dd8['length'];_0x24435b++)this['_index'][_0x184dd8[_0x24435b]]||(_0x1f5300=!(-0x1942*-0x1+-0x1*-0x1df9+-0x373b),this['_index'][_0x184dd8[_0x24435b]]=!(-0x21c0+0x21b5*0x1+0xb),this['_list']['push'](_0x184dd8[_0x24435b]),this['fire']('add',_0x184dd8[_0x24435b],this['_parent']));return _0x1f5300&&this['fire']('change',this['_parent']),_0x1f5300;}['remove'](..._0x1ab308){let _0x3c9019=!(0x2645+0xf97+-0x35db);if(!this['_list']['length'])return _0x3c9019;const _0x40803f=this['_processAr'+'guments'](_0x1ab308,!(0x958+-0x1d*-0x139+-0x2ccd));if(!_0x40803f['length'])return _0x3c9019;for(let _0x39c4a6=-0x201b+0x1a1e+0x5fd;_0x39c4a6<_0x40803f['length'];_0x39c4a6++)this['_index'][_0x40803f[_0x39c4a6]]&&(_0x3c9019=!(-0x91*-0x3d+-0x1143+0x2*-0x8a5),delete this['_index'][_0x40803f[_0x39c4a6]],this['_list']['splice'](this['_list']['indexOf'](_0x40803f[_0x39c4a6]),0x4a3*0x1+0x1da5*0x1+-0x9*0x3cf),this['fire']('remove',_0x40803f[_0x39c4a6],this['_parent']));return _0x3c9019&&this['fire']('change',this['_parent']),_0x3c9019;}['clear'](){if(!this['_list']['length'])return;const _0x1835c0=this['_list']['slice'](-0x33f+-0xd01*0x3+0x2*0x1521);this['_list']=[],this['_index']={};for(let _0x5f4f05=-0x26f2+-0x1*-0xe2e+0x18c4;_0x5f4f05<_0x1835c0['length'];_0x5f4f05++)this['fire']('remove',_0x1835c0[_0x5f4f05],this['_parent']);this['fire']('change',this['_parent']);}['has'](..._0x4ce83f){return this['_list']['length']?this['_has'](this['_processAr'+'guments'](_0x4ce83f)):!(-0x583*-0x1+-0x589+0x7);}['_has'](_0x268cca){if(!this['_list']['length']||!_0x268cca['length'])return!(0x127*0xa+-0x6b*0x59+0x19ae);for(let _0x22880d=-0x10b6+-0x1c06+0x2cbc;_0x22880d<_0x268cca['length'];_0x22880d++)if(_0x268cca[_0x22880d]['length']===0x22bd+-0x998+-0x1924*0x1){if(this['_index'][_0x268cca[_0x22880d][-0x1*0x5ae+0x198d*0x1+0x13df*-0x1]])return!(-0xf09*-0x2+0x6b2+-0x4*0x931);}else{let _0x458fc8=!(-0x7d5*0x1+-0x1*0x26a5+-0x12*-0x295);for(let _0x372fb4=-0xd5f+-0x827+0x44e*0x5;_0x372fb4<_0x268cca[_0x22880d]['length'];_0x372fb4++)if(!this['_index'][_0x268cca[_0x22880d][_0x372fb4]]){_0x458fc8=!(-0xb2f+-0xfab+0x1adb);break;}if(_0x458fc8)return!(-0x207f+-0x3*-0x18e+0x13*0x177);}return!(-0x1158+-0x4c6+0x161f);}['list'](){return this['_list']['slice'](-0x11d8*-0x2+-0x8*0x270+-0x1030);}['_processAr'+'guments'](_0xd5f24a,_0x2135f5){const _0xc71d1a=[];let _0x359a49=[];if(!_0xd5f24a||!_0xd5f24a['length'])return _0xc71d1a;for(let _0x503749=-0x2111*-0x1+0x303*-0xa+-0x2f3;_0x503749<_0xd5f24a['length'];_0x503749++)if(_0xd5f24a[_0x503749]instanceof Array){_0x2135f5||(_0x359a49=[]);for(let _0x4640e1=-0x779+0x1bbe+-0x1445;_0x4640e1<_0xd5f24a[_0x503749]['length'];_0x4640e1++)typeof _0xd5f24a[_0x503749][_0x4640e1]=='string'&&(_0x2135f5?_0xc71d1a['push'](_0xd5f24a[_0x503749][_0x4640e1]):_0x359a49['push'](_0xd5f24a[_0x503749][_0x4640e1]));!_0x2135f5&&_0x359a49['length']&&_0xc71d1a['push'](_0x359a49);}else typeof _0xd5f24a[_0x503749]=='string'&&(_0x2135f5?_0xc71d1a['push'](_0xd5f24a[_0x503749]):_0xc71d1a['push']([_0xd5f24a[_0x503749]]));return _0xc71d1a;}get['size'](){return this['_list']['length'];}}h(Oo,'EVENT_ADD','add'),h(Oo,'EVENT_REMO'+'VE','remove'),h(Oo,'EVENT_CHAN'+'GE','change');const de=typeof window<'u'&&window['performanc'+'e']&&window['performanc'+'e']['now']?performance['now']['bind'](performance):Date['now'],px=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class Rd{constructor(_0x46fd01){h(this,'scheme'),h(this,'authority'),h(this,'path'),h(this,'query'),h(this,'fragment');const _0x4ce9d1=_0x46fd01['match'](px);this['scheme']=_0x4ce9d1[0x9*-0x45+-0x22b*0x9+0x15f2],this['authority']=_0x4ce9d1[-0x1708+-0x1200+0x290c],this['path']=_0x4ce9d1[0xfbc+-0x7c*0x3b+-0xcdd*-0x1],this['query']=_0x4ce9d1[-0x128e+0xcfe*0x1+0x597],this['fragment']=_0x4ce9d1[-0x269*0x1+-0x3*-0x3bb+0x8bf*-0x1];}['toString'](){let _0x1f3dff='';return this['scheme']&&(_0x1f3dff+=this['scheme']+':'),this['authority']&&(_0x1f3dff+='//'+this['authority']),_0x1f3dff+=this['path'],this['query']&&(_0x1f3dff+='?'+this['query']),this['fragment']&&(_0x1f3dff+='#'+this['fragment']),_0x1f3dff;}['getQuery'](){const _0x42a964={};if(this['query']){const _0x3c41c6=decodeURIComponent(this['query'])['split']('&');for(const _0x4115a5 of _0x3c41c6){const _0x10210d=_0x4115a5['split']('=');_0x42a964[_0x10210d[0x1fd*0x13+-0x1*-0x1315+-0x1c6e*0x2]]=_0x10210d[-0x2210+-0x26f5*0x1+0x4906];}}return _0x42a964;}['setQuery'](_0x598b05){let _0x3400a7='';for(const _0x1dfcc6 in _0x598b05)_0x598b05['hasOwnProp'+'erty'](_0x1dfcc6)&&(_0x3400a7!==''&&(_0x3400a7+='&'),_0x3400a7+=encodeURIComponent(_0x1dfcc6)+'='+encodeURIComponent(_0x598b05[_0x1dfcc6]));this['query']=_0x3400a7;}}const mx=0x1*0xd57+-0x24*0x49+-0x1*0x313,tp=0x1806+-0x5*-0x34f+0x2890*-0x1,Nm=-0x217+0x16*0x1a8+-0x2255,_x=-0x126*0xa+-0x26e9+0x326a,Y={'DEG_TO_RAD':Math['PI']/(-0x3*-0xf9+-0x764+0x35*0x19),'RAD_TO_DEG':(-0x6bf+-0x702+0x1*0xe75)/Math['PI'],'clamp'(_0xaa6f4c,_0x59c2ae,_0x15f8d1){return _0xaa6f4c>=_0x15f8d1?_0x15f8d1:_0xaa6f4c<=_0x59c2ae?_0x59c2ae:_0xaa6f4c;},'intToBytes24'(_0x27c6ea){const _0x5005bc=_0x27c6ea>>0xc38*-0x1+0xb1*0x6+0x1*0x822&-0x26fe+-0x4*-0x4bb+0x1511,_0x58a2d0=_0x27c6ea>>-0xbd4+0x2188+0x4*-0x56b&0x4b*0x27+-0x2dd*-0x4+-0x15e2,_0x50bb46=_0x27c6ea&-0xcd*-0x1b+0xd38+-0x21d8;return[_0x5005bc,_0x58a2d0,_0x50bb46];},'intToBytes32'(_0x2ac3c2){const _0x1517e4=_0x2ac3c2>>0x2*0x1+-0xbb2+0xbc8&0x19a3*-0x1+0x35b+-0x3b*-0x65,_0xb71c8b=_0x2ac3c2>>0x162a+-0x86c+-0xdae&0x1784+0x7f*-0x21+-0x626,_0x3cf86e=_0x2ac3c2>>-0x41d+0x59*-0x48+-0x1d2d*-0x1&0x1032+0x29*-0x13+-0xc28,_0x158b9e=_0x2ac3c2&-0x16c0+0x1ea*-0x6+0x233b;return[_0x1517e4,_0xb71c8b,_0x3cf86e,_0x158b9e];},'bytesToInt24'(_0x1719d7,_0x552e77,_0x5e9ad1){return _0x1719d7['length']&&(_0x5e9ad1=_0x1719d7[-0x1987+0x206f+0x6e6*-0x1],_0x552e77=_0x1719d7[0x2*0x9a9+-0x1*0x194a+0x5f9],_0x1719d7=_0x1719d7[0x939+-0x247*0x1+-0x6f2]),_0x1719d7<<0xf4b+-0xc6+0x1*-0xe75|_0x552e77<<0x12da*0x1+0x5f2*-0x5+0x2*0x574|_0x5e9ad1;},'bytesToInt32'(_0x34e53c,_0x3cc382,_0x53ee1a,_0x2fe9c5){return _0x34e53c['length']&&(_0x2fe9c5=_0x34e53c[0x1654+0xef*0x7+-0x1cda*0x1],_0x53ee1a=_0x34e53c[-0x1e87+-0x25ba+0x4443],_0x3cc382=_0x34e53c[-0x1af+0x6b2*-0x1+-0x3a*-0x25],_0x34e53c=_0x34e53c[-0x2406+0x1467+0xf9f]),(_0x34e53c<<0x1*0x21d0+-0x1*-0x1605+-0x37bd|_0x3cc382<<-0x1ca1+-0x1555+0x3206|_0x53ee1a<<0x1cf*0x9+-0x1537+0x4f8|_0x2fe9c5)>>>-0x13*0xcd+-0x1938+0x286f;},'lerp'(_0x2b084f,_0x1d89e2,_0x4500ef){return _0x2b084f+(_0x1d89e2-_0x2b084f)*Y['clamp'](_0x4500ef,0xeb6+0xc7d*0x1+0x279*-0xb,-0x17b4+-0x5e*0x47+-0x31c7*-0x1);},'lerpAngle'(_0x5984df,_0x5961d3,_0x30cf38){return _0x5961d3-_0x5984df>0x1a9b+-0xb58+-0xe8f&&(_0x5961d3-=-0x1*-0x172e+-0x486*-0x8+-0x39f6),_0x5961d3-_0x5984df<-(-0xd*0x171+0xa81*0x1+0x8f0)&&(_0x5961d3+=-0xa8b+0x13e9*-0x1+-0xfee*-0x2),Y['lerp'](_0x5984df,_0x5961d3,Y['clamp'](_0x30cf38,-0x1*0x1156+-0x1*-0xb+-0xe9*-0x13,-0x251b+0x2db*-0x2+0x2ad2));},'powerOfTwo'(_0x59dad1){return _0x59dad1!==0x539*-0x5+-0x2334*0x1+-0x593*-0xb&&!(_0x59dad1&_0x59dad1-(0x2419+0x1966+-0x3d7e));},'nextPowerOfTwo'(_0x2e2b18){return _0x2e2b18--,_0x2e2b18|=_0x2e2b18>>-0x1ba8+-0x5e5+-0x218e*-0x1,_0x2e2b18|=_0x2e2b18>>0x1*0xd76+-0x1dd1+0x3b*0x47,_0x2e2b18|=_0x2e2b18>>0xfc8+0xe*0x133+-0x1047*0x2,_0x2e2b18|=_0x2e2b18>>0x7e8+-0x20*-0xf8+-0x26e0,_0x2e2b18|=_0x2e2b18>>-0x2*0x8d5+0x5*-0x4db+0x2a01*0x1,_0x2e2b18++,_0x2e2b18;},'nearestPowerOfTwo'(_0x28be24){return Math['pow'](-0x4f*0x4f+-0x1a4c+0x32af,Math['round'](Math['log2'](_0x28be24)));},'random'(_0x4ee728,_0x4635ee){const _0x44b342=_0x4635ee-_0x4ee728;return Math['random']()*_0x44b342+_0x4ee728;},'smoothstep'(_0x288afe,_0x2b6b59,_0x2807bf){return _0x2807bf<=_0x288afe?0x2683+-0x15a5+-0x10de:_0x2807bf>=_0x2b6b59?-0x17b6+-0x228+-0x19df*-0x1:(_0x2807bf=(_0x2807bf-_0x288afe)/(_0x2b6b59-_0x288afe),_0x2807bf*_0x2807bf*(-0x57*-0xd+-0x18*-0x18d+-0x29a0-(0x51*0x3a+0x20*-0x122+-0x11e8*-0x1)*_0x2807bf));},'smootherstep'(_0x2181d3,_0x464c79,_0x5ef370){return _0x5ef370<=_0x2181d3?-0x47*0x1+0xaf3*-0x2+-0x162d*-0x1:_0x5ef370>=_0x464c79?0xdef+-0x1c43+0xe55:(_0x5ef370=(_0x5ef370-_0x2181d3)/(_0x464c79-_0x2181d3),_0x5ef370*_0x5ef370*_0x5ef370*(_0x5ef370*(_0x5ef370*(-0x36a*-0x9+0x1c30+0x2*-0x1d72)-(0xe5*0xe+0x7*-0x246+-0x373*-0x1))+(0x1*-0xe8a+-0xc31+0x1ac5)));},'roundUp'(_0xb595cb,_0x44e049){return _0x44e049===0x1cc8+0xd5c+-0x2a24?_0xb595cb:Math['ceil'](_0xb595cb/_0x44e049)*_0x44e049;},'between'(_0x5547ed,_0x4ecb44,_0xdc0108,_0x41a99f){const _0x44c2be=Math['min'](_0x4ecb44,_0xdc0108),_0x641eb9=Math['max'](_0x4ecb44,_0xdc0108);return _0x41a99f?_0x5547ed>=_0x44c2be&&_0x5547ed<=_0x641eb9:_0x5547ed>_0x44c2be&&_0x5547ed<_0x641eb9;}},Tt=class Tt{constructor(_0xaa5af1=0x165a+-0x15c7+-0x93,_0x42080a=-0x2580+-0x1*-0x8a5+0x53*0x59,_0x188e88=-0x6c6+-0x11b1+-0x1877*-0x1,_0x4180e8=-0x1d6e*-0x1+0x18d6+-0x1*0x3643){h(this,'r'),h(this,'g'),h(this,'b'),h(this,'a');const _0x271df5=_0xaa5af1['length'];_0x271df5===0x1aa1+-0x1176+-0x928||_0x271df5===-0xe9*-0x18+-0xc24+-0x9b0?(this['r']=_0xaa5af1[0x23e5+0x92*0x18+0x3195*-0x1],this['g']=_0xaa5af1[0x15ae+-0x1*0x2707+-0x1*-0x115a],this['b']=_0xaa5af1[-0x17b2+0x44d+0x1367],this['a']=_0xaa5af1[-0x1*-0x2453+0x1*0x21d1+-0x4621]??-0xd8+-0x2323+0x23fc):(this['r']=_0xaa5af1,this['g']=_0x42080a,this['b']=_0x188e88,this['a']=_0x4180e8);}['clone'](){const _0x10a7d3=this['constructo'+'r'];return new _0x10a7d3(this['r'],this['g'],this['b'],this['a']);}['copy'](_0x3ebc99){return this['r']=_0x3ebc99['r'],this['g']=_0x3ebc99['g'],this['b']=_0x3ebc99['b'],this['a']=_0x3ebc99['a'],this;}['equals'](_0xbc4e81){return this['r']===_0xbc4e81['r']&&this['g']===_0xbc4e81['g']&&this['b']===_0xbc4e81['b']&&this['a']===_0xbc4e81['a'];}['set'](_0xb094a9,_0x297bfa,_0x5c4046,_0x47ac0c=0x1b9a+-0x2c5*0x2+-0x160f){return this['r']=_0xb094a9,this['g']=_0x297bfa,this['b']=_0x5c4046,this['a']=_0x47ac0c,this;}['lerp'](_0x27a476,_0x36ad84,_0x28be1b){return this['r']=_0x27a476['r']+_0x28be1b*(_0x36ad84['r']-_0x27a476['r']),this['g']=_0x27a476['g']+_0x28be1b*(_0x36ad84['g']-_0x27a476['g']),this['b']=_0x27a476['b']+_0x28be1b*(_0x36ad84['b']-_0x27a476['b']),this['a']=_0x27a476['a']+_0x28be1b*(_0x36ad84['a']-_0x27a476['a']),this;}['linear'](_0x252d0c=this){return this['r']=Math['pow'](_0x252d0c['r'],0x2697+-0x240e+-0x287+0.20000000000000018),this['g']=Math['pow'](_0x252d0c['g'],0x18*0xcf+-0x2540+-0x1*-0x11da+0.20000000000000018),this['b']=Math['pow'](_0x252d0c['b'],0x1*-0x8e9+0xa7*0x19+-0x2c*0x2b+0.20000000000000018),this['a']=_0x252d0c['a'],this;}['gamma'](_0x2eecd6=this){return this['r']=Math['pow'](_0x2eecd6['r'],(0x3*-0xc61+0xdf8+0x172c)/(0x88*0x31+0x1cfc+-0x3*0x1256+0.20000000000000018)),this['g']=Math['pow'](_0x2eecd6['g'],(-0x2107+0x10ba*-0x2+0x427c)/(-0x51*0x2f+0x120f+-0x32e+0.20000000000000018)),this['b']=Math['pow'](_0x2eecd6['b'],(-0x1d5a+0x15e6*0x1+-0x775*-0x1)/(0x16*0x107+0x1593+-0x2c2b+0.20000000000000018)),this['a']=_0x2eecd6['a'],this;}['mulScalar'](_0x3705ed){return this['r']*=_0x3705ed,this['g']*=_0x3705ed,this['b']*=_0x3705ed,this;}['fromString'](_0x411854){const _0x47b7a0=parseInt(_0x411854['replace']('#','0x'),0x1*0x2a1+-0x6*0x2bb+0x1b*0x83);let _0x421707;return _0x411854['length']>0x2*0xe7a+0x2a5*0xd+-0x3f4e?_0x421707=Y['intToBytes'+'32'](_0x47b7a0):(_0x421707=Y['intToBytes'+'24'](_0x47b7a0),_0x421707[-0x23*0xb1+0x157+0x16df]=0x1629*-0x1+0x5b9+0x1*0x116f),this['set'](_0x421707[0xfcc+-0x6*0x403+0x846]/(0x6b2+0x1*0x1282+0x1*-0x1835),_0x421707[0x7*0x401+0x464*-0x8+0x71a]/(-0x6df+-0x1d03+0x3*0xc4b),_0x421707[0x884*-0x1+-0x1d62*0x1+-0x2*-0x12f4]/(-0xc71*0x2+0xb*0x23f+-0x3c*-0x5),_0x421707[-0x6*0x27a+-0x15*0x1b7+0x4e*0xa7]/(-0x6d4+-0x431*-0x3+-0x26*0x20)),this;}['fromArray'](_0x26e3eb,_0x5df8ac=0xc85*0x2+0x48a*0x6+-0x3446){return this['r']=_0x26e3eb[_0x5df8ac]??this['r'],this['g']=_0x26e3eb[_0x5df8ac+(0x35*0x66+0x2279*0x1+-0x3796)]??this['g'],this['b']=_0x26e3eb[_0x5df8ac+(-0x1*-0x269+0x15fa+-0x1861)]??this['b'],this['a']=_0x26e3eb[_0x5df8ac+(-0x1562+0x1d5c+-0x7f7)]??this['a'],this;}['toString'](_0x25ef26,_0x72618b){const {r:_0x3a309c,g:_0x5e516a,b:_0x36ad05,a:_0x2f8467}=this;if(_0x72618b||_0x3a309c>-0x2365+-0x1*-0x1a14+0x952||_0x5e516a>0x1534+-0xbfb+0x1*-0x938||_0x36ad05>-0x510*-0x1+0x24fc+-0x2a0b)return _0x3a309c['toFixed'](-0x1*-0x473+-0x240a+0x1f9a)+',\x20'+_0x5e516a['toFixed'](0x1*0x14dd+-0xe04+-0x6d6)+',\x20'+_0x36ad05['toFixed'](0x1*-0x10a3+0x8*-0x181+0x1cae*0x1)+',\x20'+_0x2f8467['toFixed'](-0x8c7+-0x652*-0x2+-0x2*0x1ed);let _0x44d957='#'+((0x1*-0x36+0x174b+-0x1714<<0x1*0x1e3f+-0x1f92+0x16b)+(Math['round'](_0x3a309c*(-0x128b+-0x1e05*-0x1+-0xa7b))<<0x471+0x3*-0x2f5+0x47e)+(Math['round'](_0x5e516a*(-0x24f9+-0x23ec+0x49e4*0x1))<<0x1897*-0x1+0x19fd+-0x15e)+Math['round'](_0x36ad05*(-0x244+-0xce5*-0x3+-0x1*0x236c)))['toString'](-0x3d7*0x2+0x3*0x162+0x398)['slice'](-0x3*-0xac7+0x1ca0+-0x3cf4);if(_0x25ef26===!(-0x3*-0x13c+0x2457+-0x25b*0x11)){const _0x1c56ec=Math['round'](_0x2f8467*(0x1*-0xa02+-0xb*0x17e+0x1b6b*0x1))['toString'](-0x1*-0x2305+0x23d6+0x1799*-0x3);this['a']<(0xde6+-0x136a+0x594)/(-0xa96+-0x2e*-0xa7+-0x126d)?_0x44d957+='0'+_0x1c56ec:_0x44d957+=_0x1c56ec;}return _0x44d957;}['toArray'](_0x4bbd26=[],_0x7c7674=-0x7*0x2b2+-0x1e18*-0x1+-0xb3a,_0x1e16bf=!(0x71f*0x2+-0x314+-0x595*0x2)){return _0x4bbd26[_0x7c7674]=this['r'],_0x4bbd26[_0x7c7674+(-0x1f48+0x14a4+0xaa5)]=this['g'],_0x4bbd26[_0x7c7674+(-0x32*0x1b+-0xd*-0x8+0x18*0x34)]=this['b'],_0x1e16bf&&(_0x4bbd26[_0x7c7674+(0x372*-0x6+-0xf*-0x203+-0x5a*0x1b)]=this['a']),_0x4bbd26;}};h(Tt,'BLACK',Object['freeze'](new Tt(-0x1a48+-0x9a2+0x11f5*0x2,0x1*0x1451+0x239+0x2*-0xb45,0x1*0x1b4f+0x1921+0x3470*-0x1,0x13a4+-0x5e1*0x4+0x3e1))),h(Tt,'BLUE',Object['freeze'](new Tt(0x1b3e+0xb79+-0x26b7,-0x89*-0x6+0x23dc+-0x3*0xd06,-0x1*-0x373+-0x17*-0xb9+-0x1*0x1411,-0x10*0x1a8+0x6df*-0x3+0x2f1e))),h(Tt,'CYAN',Object['freeze'](new Tt(-0xada*-0x2+-0xa69+-0x31*0x3b,0x16cd+-0x14d6+-0x1f6,0x1*0x173+0x23f5+-0x2567*0x1,0x1*0x6d9+0x1505+-0x1bdd))),h(Tt,'GRAY',Object['freeze'](new Tt(0x417+-0x1942+0x1*0x152b+0.5,0x17eb*0x1+0x1589+-0x2d74+0.5,-0x62e+0x1f67*-0x1+0x2595+0.5,-0x20d6+-0x9f0+0x2ac7))),h(Tt,'GREEN',Object['freeze'](new Tt(-0x148f+0x445*-0x3+0x1*0x215e,-0x1*-0x21fb+-0x73*0x53+0x79*0x7,0xd26+0x28*0xef+-0x327e,0x61f*-0x2+-0x24b0+0x30ef))),h(Tt,'MAGENTA',Object['freeze'](new Tt(0x433+-0xf*-0x195+-0x1*0x1bed,0x1dfd+-0x556*-0x1+-0x2353,0x1*-0x991+-0xc35*-0x1+-0x2a3,0xc19+0x603+0x203*-0x9))),h(Tt,'RED',Object['freeze'](new Tt(0x2066+0x3*0x217+-0x26aa,-0x1*-0xcc9+0x3fb*0x1+-0x10c4,0x518+0x122e+-0x1746,0x1e7a+-0x74a+0x5*-0x4a3))),h(Tt,'WHITE',Object['freeze'](new Tt(0x5b*0x25+-0x14b*-0x2+-0xfbc,0x8a3+-0x3e*-0x49+0x10*-0x1a5,0x216b+-0x4*0x79f+-0x2ee,0x401+-0x1*-0x2077+-0x2477))),h(Tt,'YELLOW',Object['freeze'](new Tt(0x6*-0x4fd+-0x6*0x340+-0x1*-0x316f,0x5*-0x33d+-0x16ad+0x26df,-0xa9*0x2b+0xaa9+0x11ba,-0x6bb*-0x3+-0x1eb4+0xa84)));let ie=Tt;class ZS{constructor(_0x4f4c68,_0x56c842=-0x37*0x97+0x12f0+0xd81){h(this,'_curve'),h(this,'_left',-(0x2105+-0x2c6*-0x9+-0x39fa)/(-0x26e2+0x1*0x1b4+0x252e*0x1)),h(this,'_right',(-0x1107+0x7df+0x929)/(-0x215*0x1+-0x583+0x798)),h(this,'_recip',0x11a5+0x1*-0x11c3+0x1e*0x1),h(this,'_p0',0x17f*-0x4+0x4*-0x90a+0x2a24),h(this,'_p1',0x2*0x97a+0x1e55+-0x3149),h(this,'_m0',0x13c6+0x121a+-0x25e0),h(this,'_m1',-0xb2a+-0x1230+-0x242*-0xd),(this['_curve']=_0x4f4c68,this['_reset'](_0x56c842));}['evaluate'](_0x123cdd,_0x2ff8d2=!(0x53e+-0x2*-0x1f+-0x57b)){(_0x2ff8d2||_0x123cdd<this['_left']||_0x123cdd>=this['_right'])&&this['_reset'](_0x123cdd);let _0x365787;const _0x3833cd=this['_curve']['type'];if(_0x3833cd===_x)_0x365787=this['_p0'];else{const _0x10c227=this['_recip']===0x64*0x4f+0x1*0x1885+-0x1*0x3761?-0x821+0x1*0x9de+0x59*-0x5:(_0x123cdd-this['_left'])*this['_recip'];_0x3833cd===mx?_0x365787=Y['lerp'](this['_p0'],this['_p1'],_0x10c227):_0x3833cd===tp?_0x365787=Y['lerp'](this['_p0'],this['_p1'],_0x10c227*_0x10c227*(0x1f8a*-0x1+0x1a39+0x554-(0x1f32+0x24d2+-0x4402)*_0x10c227)):_0x365787=this['_evaluateH'+'ermite'](this['_p0'],this['_p1'],this['_m0'],this['_m1'],_0x10c227);}return _0x365787;}['_reset'](_0x52276f){const _0x310e58=this['_curve']['keys'],_0x5963d8=_0x310e58['length'];if(!_0x5963d8)this['_left']=-(0x1625+-0x29*-0x51+-0x231d)/(0x4e*-0x51+-0x1b51+-0x11*-0x30f),this['_right']=(-0x17*-0x16b+-0xba7+-0x14f5)/(0x9b6+0xa78+-0x2a*0x7b),this['_recip']=0x28*0xc8+0x1*0x1e2c+-0x3d6c,this['_p0']=this['_p1']=this['_m0']=this['_m1']=-0x860+0x1b45+-0x12e5;else{if(_0x52276f<_0x310e58[0x17f*-0x18+-0x155b+-0x89*-0x6b][-0x1*-0x30d+-0x25*0x59+0x8*0x13a])this['_left']=-(0x53f+0x1aff+-0x203d)/(0x5*0x79a+-0x1bbf+-0xa43),this['_right']=_0x310e58[0x2a6*0xb+0x1952*0x1+-0x3674][0x208+0x22f6+-0x24fe],this['_recip']=-0x1318+0x4b4+0x2*0x732,this['_p0']=this['_p1']=_0x310e58[0x23ad*-0x1+0x4*-0x61+0x2531*0x1][-0x8e*-0x40+0x2497*-0x1+0x118],this['_m0']=this['_m1']=0x4*0x8e2+0x6*0xf6+-0x3*0xdc4;else{if(_0x52276f>=_0x310e58[_0x5963d8-(-0x44*-0x79+0x2279+-0x429c)][0x1*-0x14cb+0x1a9b+-0x5d0])this['_left']=_0x310e58[_0x5963d8-(0x7*0x13c+0x4*0x2c+-0x155*0x7)][0x1de+-0x141*-0xd+-0x122b],this['_right']=(0xa*-0x126+-0x132d+0x5*0x622)/(0x175b+0x2dd*0x2+-0x1*0x1d15),this['_recip']=0xb6f*-0x1+-0x980+0x14ef,this['_p0']=this['_p1']=_0x310e58[_0x5963d8-(0x4b8+-0x51e+0x1*0x67)][0x2*0x298+-0x288+-0x2a7],this['_m0']=this['_m1']=-0x8d*0x17+0x2210+-0x1565*0x1;else{let _0x292cd6=0x5*0xf3+-0x21bd+0x1cfe;for(;_0x52276f>=_0x310e58[_0x292cd6+(0xab2+0x620+-0x10d1)][0x15e0+-0x1554+-0x8c];)_0x292cd6++;this['_left']=_0x310e58[_0x292cd6][0xd52+0x94+-0xde6*0x1],this['_right']=_0x310e58[_0x292cd6+(-0x1738+-0xd9c+0x24d5)][0xc2*0x23+-0x1c5c+0x1d6];const _0x5334b3=(-0x1a59*-0x1+-0x1*0x1e89+-0x431*-0x1)/(this['_right']-this['_left']);this['_recip']=isFinite(_0x5334b3)?_0x5334b3:0xea4*0x2+0x1706+-0x344e,this['_p0']=_0x310e58[_0x292cd6][0x9fc+0x46e+-0x11*0xd9],this['_p1']=_0x310e58[_0x292cd6+(0x17f3+0x257b+-0x3d6d)][0xb3*-0xa+0x208+0x4f7],this['_curve']['type']===Nm&&this['_calcTange'+'nts'](_0x310e58,_0x292cd6);}}}}['_calcTange'+'nts'](_0x376104,_0x479d27){let _0x1bcb4b;const _0x3c96da=_0x376104[_0x479d27],_0x3db575=_0x376104[_0x479d27+(-0x3c*-0x71+0x206a+0x3ae5*-0x1)];let _0x500b81;if(_0x479d27===0x9f8+-0x2*-0xfdd+-0x29b2*0x1?_0x1bcb4b=[_0x376104[-0x1*0x17b9+-0x172c+-0x2ee5*-0x1][-0x1*0x15ef+-0xb8e+0x217d]+(_0x376104[-0x4*-0x309+0x539*-0x3+0x2b*0x15][0xf28+0x1549+-0x13*0x1eb]-_0x376104[-0x2cc*-0x3+0x43e+0x3d*-0x35][-0x359*0x9+0xc5*0x7+0x18be]),_0x376104[0x14*0x189+-0xa88+-0x142c][0x20*0xc0+-0x63*-0x48+0x17*-0x241]+(_0x376104[0x619+-0x3f5+0x1*-0x224][-0x1cd*0x2+-0x5*-0x509+-0xac9*0x2]-_0x376104[-0x37*-0x77+-0x5*0x493+-0x2b1][-0x20c8+0x19b2+0x717])]:_0x1bcb4b=_0x376104[_0x479d27-(0x1254+-0x6fa+-0x1*0xb59)],_0x479d27===_0x376104['length']-(0x5af+-0x13d*0x1c+0x1cff)?_0x500b81=[_0x376104[_0x479d27+(-0x28*-0xd3+0xdb0+-0x2ea7)][-0x912+0x415*-0x7+0x25a5]+(_0x376104[_0x479d27+(-0xbe5+-0x1*-0x2506+0x1*-0x1920)][-0x12e9*0x2+0x709*0x5+0x2a5*0x1]-_0x376104[_0x479d27][-0x578+-0xd*0x107+-0x4f*-0x3d]),_0x376104[_0x479d27+(-0x1549*0x1+0x4*-0xcb+0xc3b*0x2)][0xb*-0x19+-0x9b*-0x22+0xb*-0x1c6]+(_0x376104[_0x479d27+(0x76*0x47+-0x4c3*-0x4+-0x33c5)][-0x19b3+-0x1*-0x1164+0x850]-_0x376104[_0x479d27][0x2a2*0x7+-0xd40+-0x52d])]:_0x500b81=_0x376104[_0x479d27+(-0x633+-0x1576+0x1bab)],this['_curve']['type']===Nm){const _0x5401dc=(0x1782+-0x4*0x75a+0x15*0x48)*(_0x3db575[0x108e+0x1*0x1ab3+-0x2b41]-_0x3c96da[0x24e9+0x1fde+-0x44c7])/(_0x3db575[0x9b9+0x2645+-0x2ffe]-_0x1bcb4b[-0x26dd+0x12d5*0x1+0x1408]),_0x551d0b=(0xa92+-0x207*-0x1+-0xc97)*(_0x3db575[-0x1961+-0x11*-0x15d+0x234]-_0x3c96da[0x1124+-0xe9f+-0x285])/(_0x500b81[-0x1*0x6d+0x1711+-0x16a4]-_0x3c96da[0x137d+0x6f*-0xf+-0xcfc]);this['_m0']=this['_curve']['tension']*(isFinite(_0x5401dc)?_0x5401dc:0x1818+0x439*-0x8+0x50*0x1f)*(_0x3db575[-0x51*0x65+0x2*0x81+0x1ef4]-_0x1bcb4b[0xe3d+-0x116*0x23+0x17c6]),this['_m1']=this['_curve']['tension']*(isFinite(_0x551d0b)?_0x551d0b:-0x2c*-0x93+-0xdb*-0x27+0x1*-0x3aa1)*(_0x500b81[-0xc5c+0x13*-0x96+-0x4b3*-0x5]-_0x3c96da[-0x35*-0x49+-0x1853+0x937]);}else{const _0x38aaf6=(_0x3db575[-0x1d40+-0x3a*0x7f+0x3a06]-_0x3c96da[0x67f+-0xb0b*-0x2+0x1c95*-0x1])/(_0x3c96da[0x4b+0x1853+-0x189e]-_0x1bcb4b[0x1e72+0x9cb+0x283d*-0x1]),_0x5010e4=(_0x3db575[-0x2403+0xce3*0x1+0x4*0x5c8]-_0x3c96da[0x1fd7*-0x1+0x1432+0xba5*0x1])/(_0x500b81[-0x6*0x5db+-0x169b+0x27*0x17b]-_0x3db575[0x199b+-0x1*-0xc03+0xa*-0x3c3]),_0x35486f=_0x3c96da[0x1dec+0x315+-0x2100]+(_0x1bcb4b[-0x14*-0x85+0x117d+-0x1be0]-_0x3c96da[0xf2*-0x1f+-0x1f2b+0x3c7a])*(isFinite(_0x38aaf6)?_0x38aaf6:0x5*0xa9+-0x6d+-0x8*0x5c),_0x284705=_0x3db575[-0x24dc+0x1d86+0x1*0x757]+(_0x500b81[-0x1f86+-0x1b9*0xb+0x327a]-_0x3db575[0x5*0x726+0x48c+0x2849*-0x1])*(isFinite(_0x5010e4)?_0x5010e4:-0x1125*-0x2+-0x1268+-0xfe2*0x1),_0x4e389b=this['_curve']['tension'];this['_m0']=_0x4e389b*(_0x3db575[0xbb7*-0x3+0x827*-0x1+0xe6f*0x3]-_0x35486f),this['_m1']=_0x4e389b*(_0x284705-_0x3c96da[0x1*0x2353+-0x125a+-0x18*0xb5]);}}['_evaluateH'+'ermite'](_0x5c192c,_0x6d71c0,_0x408238,_0x466307,_0x4b20ec){const _0xf6df4e=_0x4b20ec*_0x4b20ec,_0x5b3228=_0x4b20ec+_0x4b20ec,_0xba5c53=0x53*-0x1+0x256e+0x1*-0x251a-_0x4b20ec,_0x454b29=_0xba5c53*_0xba5c53;return _0x5c192c*((0x1328+-0xe20+-0x507*0x1+_0x5b3228)*_0x454b29)+_0x408238*(_0x4b20ec*_0x454b29)+_0x6d71c0*(_0xf6df4e*(0x25+0x11da+-0x11fc*0x1-_0x5b3228))+_0x466307*(_0xf6df4e*(_0x4b20ec-(-0x22ab+-0x1*0xc3d+-0xfa3*-0x3)));}}class qs{constructor(_0x1db351){h(this,'keys',[]),h(this,'type',tp),h(this,'tension',-0x64b+0x2697+-0x204c+0.5),h(this,'_eval',new ZS(this));if(_0x1db351){for(let _0x5065b5=-0x1*0x1f99+0x12a3+-0x9e*-0x15;_0x5065b5<_0x1db351['length']-(0x1*-0x200b+0x25*-0x73+0x1039*0x3);_0x5065b5+=-0x119*-0x22+-0x26*0x33+0x34e*-0x9)this['keys']['push']([_0x1db351[_0x5065b5],_0x1db351[_0x5065b5+(0x10*0x73+-0x281+-0x4ae)]]);}this['sort']();}get['length'](){return this['keys']['length'];}['add'](_0x183047,_0xf4dae5){const _0x36ba2e=this['keys'],_0x4f287f=_0x36ba2e['length'];let _0x3d75b5=-0x831+-0xee1+0x1712;for(;_0x3d75b5<_0x4f287f&&!(_0x36ba2e[_0x3d75b5][-0x24ee+-0x9*0x205+0x371b]>_0x183047);_0x3d75b5++);const _0x562ebf=[_0x183047,_0xf4dae5];return this['keys']['splice'](_0x3d75b5,-0x24d4+-0x2d5+0x30d*0xd,_0x562ebf),_0x562ebf;}['get'](_0x3900b6){return this['keys'][_0x3900b6];}['sort'](){this['keys']['sort']((_0x880c3a,_0x160cd0)=>_0x880c3a[-0xa91+0x2576+0x1b*-0xff]-_0x160cd0[-0x10dd+0x77*-0xa+0x1583]);}['value'](_0x20fb34){return this['_eval']['evaluate'](_0x20fb34,!(0x1*-0x1183+0x1a87+-0x904));}['closest'](_0x56e1c1){const _0x4d0269=this['keys'],_0x2d40b9=_0x4d0269['length'];let _0x1b47c8=0x1746+-0x19ce+-0x19*-0x1a,_0xbf97ee=null;for(let _0x21a873=0x1ef9+-0x87+0xa26*-0x3;_0x21a873<_0x2d40b9;_0x21a873++){const _0x272a6d=Math['abs'](_0x56e1c1-_0x4d0269[_0x21a873][-0x13ed+-0x9ed+0x1dda]);if(_0x1b47c8>=_0x272a6d)_0x1b47c8=_0x272a6d,_0xbf97ee=_0x4d0269[_0x21a873];else break;}return _0xbf97ee;}['clone'](){const _0x4694fe=new this['constructo'+'r']();return _0x4694fe['keys']=this['keys']['map'](_0x9f3fa7=>[..._0x9f3fa7]),_0x4694fe['type']=this['type'],_0x4694fe['tension']=this['tension'],_0x4694fe;}['quantize'](_0x26cd1f){_0x26cd1f=Math['max'](_0x26cd1f,0x232*0xf+0x14cc+-0x35b8);const _0x2e1ee2=new Float32Array(_0x26cd1f),_0x485f18=(-0x1c9c+0x1*0x8ad+0x9f8*0x2)/(_0x26cd1f-(0x47+0x14a7+-0x14ed));_0x2e1ee2[-0x2*-0xceb+-0xbe9+-0xded]=this['_eval']['evaluate'](0x179+0x213f+-0x16*0x194,!(-0x2b4+0xef6+0x416*-0x3));for(let _0x1e3867=-0x1*-0x205+-0x449+0x245;_0x1e3867<_0x26cd1f;_0x1e3867++)_0x2e1ee2[_0x1e3867]=this['_eval']['evaluate'](_0x485f18*_0x1e3867);return _0x2e1ee2;}['quantizeCl'+'amped'](_0x32e583,_0x3d6a4b,_0x4f79b3){const _0x24e274=this['quantize'](_0x32e583);for(let _0x164ef8=0x23a3+0x296*0x6+-0xf*0x369;_0x164ef8<_0x24e274['length'];++_0x164ef8)_0x24e274[_0x164ef8]=Math['min'](_0x4f79b3,Math['max'](_0x3d6a4b,_0x24e274[_0x164ef8]));return _0x24e274;}}class na{constructor(..._0x391776){h(this,'curves',[]),h(this,'_type',tp);if(_0x391776['length']>0x137d*0x1+0x2641+-0xd*0x471){for(let _0x143d02=0x1*0x13f9+-0x1e6e+0xa75;_0x143d02<_0x391776['length'];_0x143d02++)this['curves']['push'](new qs(_0x391776[_0x143d02]));}else{if(_0x391776['length']===0x16dc+0x1f32+-0x360e)this['curves']['push'](new qs());else{const _0x32edc3=_0x391776[-0x2477+0x1e20*0x1+0x657];if(typeof _0x32edc3=='number'){for(let _0x3360cc=0x1faf*-0x1+0x24f0+-0x541*0x1;_0x3360cc<_0x32edc3;_0x3360cc++)this['curves']['push'](new qs());}else{for(let _0x41bbc6=-0x800*-0x3+-0x452*0x6+0x52*0x6;_0x41bbc6<_0x32edc3['length'];_0x41bbc6++)this['curves']['push'](new qs(_0x32edc3[_0x41bbc6]));}}}}get['length'](){return this['curves']['length'];}set['type'](_0x29efa6){this['_type']=_0x29efa6;for(let _0x228156=-0x8*-0x251+-0x6*0x115+-0xc0a;_0x228156<this['curves']['length'];_0x228156++)this['curves'][_0x228156]['type']=_0x29efa6;}get['type'](){return this['_type'];}['get'](_0x4bd9c4){return this['curves'][_0x4bd9c4];}['value'](_0x255772,_0x3b80af=[]){const _0x58253e=this['curves']['length'];_0x3b80af['length']=_0x58253e;for(let _0x5866d8=0x26b7+-0x5f5*-0x1+-0x2*0x1656;_0x5866d8<_0x58253e;_0x5866d8++)_0x3b80af[_0x5866d8]=this['curves'][_0x5866d8]['value'](_0x255772);return _0x3b80af;}['clone'](){const _0xb739ba=new this['constructo'+'r']();_0xb739ba['curves']=[];for(let _0x4efa24=-0x1c3f+-0xa*0x5+0x9*0x329;_0x4efa24<this['curves']['length'];_0x4efa24++)_0xb739ba['curves']['push'](this['curves'][_0x4efa24]['clone']());return _0xb739ba['_type']=this['_type'],_0xb739ba;}['quantize'](_0x29f836){_0x29f836=Math['max'](_0x29f836,-0xb*0x137+-0x2236+-0x2f95*-0x1);const _0x2b61cc=this['curves']['length'],_0x2d353d=new Float32Array(_0x29f836*_0x2b61cc),_0x28672c=(0x262f+0x1*0xa44+0xea*-0x35)/(_0x29f836-(-0x158c+0x49*-0x3+0x4*0x59a));for(let _0x4aa0e8=0x14f9+-0xa40*-0x1+-0x1f39*0x1;_0x4aa0e8<_0x2b61cc;_0x4aa0e8++){const _0x4d77fb=new ZS(this['curves'][_0x4aa0e8]);for(let _0x4ddc25=-0x9d*0xb+-0xa18+0x10d7;_0x4ddc25<_0x29f836;_0x4ddc25++)_0x2d353d[_0x4ddc25*_0x2b61cc+_0x4aa0e8]=_0x4d77fb['evaluate'](_0x28672c*_0x4ddc25);}return _0x2d353d;}['quantizeCl'+'amped'](_0x51b35e,_0x57333b,_0x428671){const _0x511c71=this['quantize'](_0x51b35e);for(let _0x30c088=-0xebd+0x12*-0x213+0x3413;_0x30c088<_0x511c71['length'];++_0x30c088)_0x511c71[_0x30c088]=Math['min'](_0x428671,Math['max'](_0x57333b,_0x511c71[_0x30c088]));return _0x511c71;}}const Hf=new Float32Array(-0x17d0+0xaa2*0x1+0x87*0x19),km=new Int32Array(Hf['buffer']);class Mn{static['float2Half'](_0x30f35d){Hf[-0x16*0xb4+-0x1*-0x14cb+0x1d*-0x2f]=_0x30f35d;const _0x217baf=km[-0x14ef+0x3*0xb5d+-0xd28];let _0x12e542=_0x217baf>>0x209*-0x3+-0x353*0x6+0x1*0x1a1d&0x283*0x3b+0x9347*0x1+-0xa778,_0xc99102=_0x217baf>>-0x5*0x9e+-0x14ef+0x65*0x3d&0x1626+0x779*0x3+-0x2492;const _0x24d83a=_0x217baf>>-0x1d*-0x115+0x9cd+0x9d*-0x43&-0x2198*-0x1+-0xe74+-0x5*0x3a1;return _0x24d83a<0x9c2+-0x64f*-0x2+0x9*-0x271?_0x12e542:_0x24d83a>0x10fd+0x7ac+0x16b*-0x11?(_0x12e542|=-0xf3bd+0x1*-0x9838+-0x207f5*-0x1,_0x12e542|=(_0x24d83a===-0x3a9*0x5+-0x1c*-0xb9+-0xf0?-0x1*-0x31d+-0x1ab9+0x179c:0x2*0x3b0+0x3*-0x301+0x1a4)&&_0x217baf&0x4eb*-0x2689+-0x11d625*0x4+0x184dc56,_0x12e542):_0x24d83a<0x1*-0x12a1+0xc74+0x69e*0x1?(_0xc99102|=-0x14d7+-0x1688+0x335f,_0x12e542|=(_0xc99102>>0x2*-0x9e+-0x1147+-0x17*-0xd3-_0x24d83a)+(_0xc99102>>0x14e2+-0x2*0xc89+0x4a1-_0x24d83a&0x3*-0x521+-0x20c+0x1170),_0x12e542):(_0x12e542|=_0x24d83a-(-0x270a+-0x1*0x19cc+0x4146)<<0x1d3*0xb+-0x18d*-0x1+-0x565*0x4|_0xc99102>>0xada+-0x26f0+0x1*0x1c17,_0x12e542+=_0xc99102&-0xad*0x15+0xd4*0x2d+-0x1712,_0x12e542);}static['float2RGBA'+'8'](_0x310d61,_0x5d68c8){Hf[-0x897*0x4+-0x904*-0x4+0x6d*-0x4]=_0x310d61;const _0x56db8d=km[-0x67*0xc+0x243*-0xd+0x223b];_0x5d68c8['r']=(_0x56db8d>>-0x103b+-0x558+0x1*0x15ab&0x1b+0x1*0x26a6+-0x25c2)/(-0x763+0x2*-0x97b+0x3e8*0x7),_0x5d68c8['g']=(_0x56db8d>>0x17e*-0x1+-0x170d+0x189b*0x1&0x23a7+0x16*0xab+-0x315a)/(-0x9bb*0x2+0x218c+-0xd17),_0x5d68c8['b']=(_0x56db8d>>-0x7*0x29+-0x118d*-0x1+-0x1066&0x20f9+0x10*-0x163+-0x9ca)/(0x17*-0x103+-0x2610+0x3e54),_0x5d68c8['a']=(_0x56db8d&-0xb69*0x3+-0xde+0x2418)/(0x2587+0x1736+-0x3bbe);}}const wt=class wt{constructor(_0x31756f=-0x24c1+0x1407+0x10ba,_0x24254b=0x1f*-0x5+0xfe9*-0x1+0x1084,_0x54ed75=0xe*-0x2b5+-0x1*0x13d5+0x39bb*0x1){h(this,'x'),h(this,'y'),h(this,'z'),_0x31756f['length']===-0x1f8a+-0x1*0x1b7a+0x3b07?(this['x']=_0x31756f[0x295*0xb+0x614*0x2+-0x288f],this['y']=_0x31756f[-0x954+0x1*-0x673+0xfc8],this['z']=_0x31756f[0xfc1+0x2*-0xea5+0xd8b]):(this['x']=_0x31756f,this['y']=_0x24254b,this['z']=_0x54ed75);}['add'](_0x3e9d3f){return this['x']+=_0x3e9d3f['x'],this['y']+=_0x3e9d3f['y'],this['z']+=_0x3e9d3f['z'],this;}['add2'](_0x2d30ac,_0x5bec76){return this['x']=_0x2d30ac['x']+_0x5bec76['x'],this['y']=_0x2d30ac['y']+_0x5bec76['y'],this['z']=_0x2d30ac['z']+_0x5bec76['z'],this;}['addScalar'](_0x234bff){return this['x']+=_0x234bff,this['y']+=_0x234bff,this['z']+=_0x234bff,this;}['addScaled'](_0xa4e97e,_0x64bb18){return this['x']+=_0xa4e97e['x']*_0x64bb18,this['y']+=_0xa4e97e['y']*_0x64bb18,this['z']+=_0xa4e97e['z']*_0x64bb18,this;}['clone'](){const _0x210e94=this['constructo'+'r'];return new _0x210e94(this['x'],this['y'],this['z']);}['copy'](_0x13d5cd){return this['x']=_0x13d5cd['x'],this['y']=_0x13d5cd['y'],this['z']=_0x13d5cd['z'],this;}['cross'](_0x29bfed,_0x2560f2){const _0x3aa2cb=_0x29bfed['x'],_0x2080ad=_0x29bfed['y'],_0x4bef51=_0x29bfed['z'],_0x2c5bb7=_0x2560f2['x'],_0x446cfb=_0x2560f2['y'],_0x4e79da=_0x2560f2['z'];return this['x']=_0x2080ad*_0x4e79da-_0x446cfb*_0x4bef51,this['y']=_0x4bef51*_0x2c5bb7-_0x4e79da*_0x3aa2cb,this['z']=_0x3aa2cb*_0x446cfb-_0x2c5bb7*_0x2080ad,this;}['distance'](_0x126654){const _0x18cfc4=this['x']-_0x126654['x'],_0x5d18b3=this['y']-_0x126654['y'],_0x4603ce=this['z']-_0x126654['z'];return Math['sqrt'](_0x18cfc4*_0x18cfc4+_0x5d18b3*_0x5d18b3+_0x4603ce*_0x4603ce);}['div'](_0x480734){return this['x']/=_0x480734['x'],this['y']/=_0x480734['y'],this['z']/=_0x480734['z'],this;}['div2'](_0x54c981,_0x38d669){return this['x']=_0x54c981['x']/_0x38d669['x'],this['y']=_0x54c981['y']/_0x38d669['y'],this['z']=_0x54c981['z']/_0x38d669['z'],this;}['divScalar'](_0x11a174){return this['x']/=_0x11a174,this['y']/=_0x11a174,this['z']/=_0x11a174,this;}['dot'](_0x2abd4f){return this['x']*_0x2abd4f['x']+this['y']*_0x2abd4f['y']+this['z']*_0x2abd4f['z'];}['equals'](_0x34a222){return this['x']===_0x34a222['x']&&this['y']===_0x34a222['y']&&this['z']===_0x34a222['z'];}['equalsAppr'+'ox'](_0x202176,_0x321486=0xc7+0x1*-0x157d+0x14b6+0.000001){return Math['abs'](this['x']-_0x202176['x'])<_0x321486&&Math['abs'](this['y']-_0x202176['y'])<_0x321486&&Math['abs'](this['z']-_0x202176['z'])<_0x321486;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z'];}['lerp'](_0x181c4d,_0x54e965,_0x70c5b4){return this['x']=_0x181c4d['x']+_0x70c5b4*(_0x54e965['x']-_0x181c4d['x']),this['y']=_0x181c4d['y']+_0x70c5b4*(_0x54e965['y']-_0x181c4d['y']),this['z']=_0x181c4d['z']+_0x70c5b4*(_0x54e965['z']-_0x181c4d['z']),this;}['mul'](_0x48e33b){return this['x']*=_0x48e33b['x'],this['y']*=_0x48e33b['y'],this['z']*=_0x48e33b['z'],this;}['mul2'](_0x39bf18,_0x5c0b3f){return this['x']=_0x39bf18['x']*_0x5c0b3f['x'],this['y']=_0x39bf18['y']*_0x5c0b3f['y'],this['z']=_0x39bf18['z']*_0x5c0b3f['z'],this;}['mulScalar'](_0x5416b5){return this['x']*=_0x5416b5,this['y']*=_0x5416b5,this['z']*=_0x5416b5,this;}['normalize'](_0x8a9e9a=this){const _0x29af8b=_0x8a9e9a['x']*_0x8a9e9a['x']+_0x8a9e9a['y']*_0x8a9e9a['y']+_0x8a9e9a['z']*_0x8a9e9a['z'];if(_0x29af8b>-0xf38+-0x1303*0x1+0x223b){const _0x6e39f1=(-0x1137+-0x157f+0x26b7)/Math['sqrt'](_0x29af8b);this['x']=_0x8a9e9a['x']*_0x6e39f1,this['y']=_0x8a9e9a['y']*_0x6e39f1,this['z']=_0x8a9e9a['z']*_0x6e39f1;}return this;}['floor'](_0x623346=this){return this['x']=Math['floor'](_0x623346['x']),this['y']=Math['floor'](_0x623346['y']),this['z']=Math['floor'](_0x623346['z']),this;}['ceil'](_0x1d0d6c=this){return this['x']=Math['ceil'](_0x1d0d6c['x']),this['y']=Math['ceil'](_0x1d0d6c['y']),this['z']=Math['ceil'](_0x1d0d6c['z']),this;}['round'](_0x26cac5=this){return this['x']=Math['round'](_0x26cac5['x']),this['y']=Math['round'](_0x26cac5['y']),this['z']=Math['round'](_0x26cac5['z']),this;}['min'](_0x44e03d){return _0x44e03d['x']<this['x']&&(this['x']=_0x44e03d['x']),_0x44e03d['y']<this['y']&&(this['y']=_0x44e03d['y']),_0x44e03d['z']<this['z']&&(this['z']=_0x44e03d['z']),this;}['max'](_0x910592){return _0x910592['x']>this['x']&&(this['x']=_0x910592['x']),_0x910592['y']>this['y']&&(this['y']=_0x910592['y']),_0x910592['z']>this['z']&&(this['z']=_0x910592['z']),this;}['project'](_0x125cac){const _0x2b37bd=this['x']*_0x125cac['x']+this['y']*_0x125cac['y']+this['z']*_0x125cac['z'],_0xbe336=_0x125cac['x']*_0x125cac['x']+_0x125cac['y']*_0x125cac['y']+_0x125cac['z']*_0x125cac['z'],_0x129a0c=_0x2b37bd/_0xbe336;return this['x']=_0x125cac['x']*_0x129a0c,this['y']=_0x125cac['y']*_0x129a0c,this['z']=_0x125cac['z']*_0x129a0c,this;}['set'](_0x46ef41,_0x556222,_0x20ce39){return this['x']=_0x46ef41,this['y']=_0x556222,this['z']=_0x20ce39,this;}['sub'](_0x59e77b){return this['x']-=_0x59e77b['x'],this['y']-=_0x59e77b['y'],this['z']-=_0x59e77b['z'],this;}['sub2'](_0x4f4ea5,_0x2095f5){return this['x']=_0x4f4ea5['x']-_0x2095f5['x'],this['y']=_0x4f4ea5['y']-_0x2095f5['y'],this['z']=_0x4f4ea5['z']-_0x2095f5['z'],this;}['subScalar'](_0x4a23ec){return this['x']-=_0x4a23ec,this['y']-=_0x4a23ec,this['z']-=_0x4a23ec,this;}['fromArray'](_0x54ef92,_0x130f4f=-0x57*0x4d+0xad*0x22+0x331){return this['x']=_0x54ef92[_0x130f4f]??this['x'],this['y']=_0x54ef92[_0x130f4f+(-0x1*0x3e7+0x1*0x1141+-0xd59)]??this['y'],this['z']=_0x54ef92[_0x130f4f+(-0x12e9*0x1+0x1*0x8f+-0x2f*-0x64)]??this['z'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+']';}['toArray'](_0x3ed557=[],_0x393502=-0x22fa+0x1eb1+0x449*0x1){return _0x3ed557[_0x393502]=this['x'],_0x3ed557[_0x393502+(0x155c+-0x980+0x5*-0x25f)]=this['y'],_0x3ed557[_0x393502+(0x125*0x1d+-0x154c+-0xbe3*0x1)]=this['z'],_0x3ed557;}};h(wt,'ZERO',Object['freeze'](new wt(-0x65+-0x1a61+0x1ac6,-0x15a1+-0x1ca7+0x3248,0x101c*-0x2+-0x1*-0xc04+0x1434))),h(wt,'HALF',Object['freeze'](new wt(-0x1*-0x2156+-0x1134+-0x1022+0.5,0x26f4+0x338*0xa+0x4*-0x11c9+0.5,0x1b4e+0x2ef*0x6+-0x2ce8+0.5))),h(wt,'ONE',Object['freeze'](new wt(0xc24+-0xb5*0x1+-0xb6e,0x48e+0xb*-0x341+0x1f3e,0xaa7+0x17bc+-0x2262))),h(wt,'UP',Object['freeze'](new wt(0x1d*-0x12e+0x1d07+-0x52f*-0x1,-0x24a5+-0x3*0xc06+0x48b8,0x2db+-0x162+-0x179))),h(wt,'DOWN',Object['freeze'](new wt(-0x11d3+-0x59e+0x1771,-(-0x9*0x167+0x145c+-0x7bc),0x1cec*-0x1+-0x2443*0x1+0x412f))),h(wt,'RIGHT',Object['freeze'](new wt(0x1*0x8df+0x7b1+-0x108f,0x1ffd+-0x4f2+-0x1b0b,0x317+0xd*-0x2d5+-0x2*-0x10dd))),h(wt,'LEFT',Object['freeze'](new wt(-(0x11f5+-0x3d*0x1d+-0xb0b),0x2*0x4ab+0x17c9*-0x1+0x3*0x4d1,-0x2682+-0x21db+-0x41*-0x11d))),h(wt,'FORWARD',Object['freeze'](new wt(0xa5+-0x3*0x6e+0x1*0xa5,-0x1429+-0x1*-0x1241+-0xf4*-0x2,-(0x2638+0x2158+-0x478f)))),h(wt,'BACK',Object['freeze'](new wt(-0x20e7*-0x1+0x40*-0x24+-0x1*0x17e7,0xa3*0xb+0x5b5*0x3+-0x1820,-0x1*-0x24b+0x207d+0x1d*-0x133)));let D=wt;const gn=class gn{constructor(){h(this,'data',new Float32Array(0x21a2+0x540+0x55*-0x75)),this['data'][0xc0b*0x1+0x3*-0x296+0x449*-0x1]=this['data'][-0x11*0x29+0xdb2+-0xaf5]=this['data'][0x2c7+0xc*0xaa+-0xab7]=0x3ad*0x1+0x2077*-0x1+0x15*0x15f;}['clone'](){const _0x593461=this['constructo'+'r'];return new _0x593461()['copy'](this);}['copy'](_0x5b060e){const _0x4c1253=_0x5b060e['data'],_0x4bcc54=this['data'];return _0x4bcc54[0x79*-0x17+-0x2381+0x2e60]=_0x4c1253[0x1a3*-0xd+-0x61*0x13+0xa*0x2d9],_0x4bcc54[0x277*0x8+0x1d51*-0x1+0x99a]=_0x4c1253[0x3f7+0x4*0x1f2+-0xbbe],_0x4bcc54[0x194f+0x19b*-0x13+-0x14d*-0x4]=_0x4c1253[0x1216*0x1+-0x9e6+-0x3*0x2ba],_0x4bcc54[0x12d8+-0x20b9*0x1+-0x379*-0x4]=_0x4c1253[0x1e03+0x1ea1*0x1+0xb*-0x583],_0x4bcc54[-0x685+0x1*0x145c+-0xdd3]=_0x4c1253[0x1*0x175d+0x2c3*-0x8+-0x141],_0x4bcc54[0x18c6+0x1*-0xe9+-0x8*0x2fb]=_0x4c1253[0x2489*-0x1+0x2dc+0x21b2],_0x4bcc54[-0x25e7*-0x1+-0x23ba+-0x227]=_0x4c1253[0x3*-0xc5c+-0x19*0x5f+0x2e61],_0x4bcc54[-0x25*-0x10a+-0xb*-0xc7+-0x2ef8]=_0x4c1253[0xbc9+0x14b*-0x8+-0x2*0xb5],_0x4bcc54[-0x1a70+-0x2c7*0x2+0x2006]=_0x4c1253[0x8*-0x1d0+-0x1*0x249f+-0xa3b*-0x5],this;}['set'](_0x5a0bbc){const _0x20ed71=this['data'];return _0x20ed71[0x11f9+-0x8e*0x1c+0x5*-0x7d]=_0x5a0bbc[0x3df*-0x5+-0x16c7+-0x2a22*-0x1],_0x20ed71[-0x1*0x8a5+-0x9*-0x2dd+-0x1*0x111f]=_0x5a0bbc[-0x221b+-0xb1d*-0x1+0x349*0x7],_0x20ed71[0x4b*0x39+0xf38*-0x1+-0x179*0x1]=_0x5a0bbc[0x707+-0x404+-0x301*0x1],_0x20ed71[0x365*0x4+0x1e0a+-0x2b9b]=_0x5a0bbc[0x1*-0xfd5+-0x73*0x9+0x1*0x13e3],_0x20ed71[0x2b2+0x1*0x10b+-0x3b9]=_0x5a0bbc[-0x18d3+0x1*-0x1f91+0x3868],_0x20ed71[-0x316*-0x4+-0x1c*-0x4d+-0x14bf]=_0x5a0bbc[0x3*0x312+-0x22b7+-0x79*-0x36],_0x20ed71[0x30a+-0x16b4+0x13b0]=_0x5a0bbc[-0x1*0x502+0x3*-0xa7f+0x2485],_0x20ed71[0xe99+0x1741*-0x1+-0x39*-0x27]=_0x5a0bbc[0x172*0xd+0x14e7+-0x27aa],_0x20ed71[-0x37*-0x6e+0xeda*-0x1+-0x8c0]=_0x5a0bbc[0x55*0x6a+-0xd5e+-0x15cc],this;}['getX'](_0x2f1522=new D()){return _0x2f1522['set'](this['data'][-0x2050+0x209e+0x1*-0x4e],this['data'][0x1afe+-0x7*-0x541+-0x3fc4],this['data'][0x2*0x4e8+0x17de+0x21ac*-0x1]);}['getY'](_0x5b0035=new D()){return _0x5b0035['set'](this['data'][-0x1cb3+-0x1e93+0x3b49*0x1],this['data'][-0x1d86+0xf50+0x6*0x25f],this['data'][0x1434+0x256a+-0x1*0x3999]);}['getZ'](_0x398752=new D()){return _0x398752['set'](this['data'][-0x2378+0x1*-0x238a+0x8e1*0x8],this['data'][-0x75*-0x24+-0x222c+0x11bf],this['data'][-0x1294+0x1606+-0x2e*0x13]);}['equals'](_0x4871f6){const _0x110c7f=this['data'],_0x48171b=_0x4871f6['data'];return _0x110c7f[0x1d93+0x6e2*-0x4+-0x20b]===_0x48171b[-0xfbb+0x1*0x2212+-0x1257]&&_0x110c7f[-0x1498+0x2301+-0xe68]===_0x48171b[0x19b8+0x27*0xea+-0x1*0x3d5d]&&_0x110c7f[0x20e6+0x1253+-0x751*0x7]===_0x48171b[0xf6c+-0x1096+0x3*0x64]&&_0x110c7f[-0x1e6e+-0x25ce+0x443f]===_0x48171b[0x1bdb+0x4d*-0x30+-0x6*0x23c]&&_0x110c7f[0x6f7+0x9d*0x4+-0x967]===_0x48171b[-0x571*-0x1+0x15*0xc1+0x3*-0x716]&&_0x110c7f[0x1204*-0x1+-0x713*0x1+0x191c]===_0x48171b[0x13fe*0x1+-0xf77+-0x482]&&_0x110c7f[-0x1*0x14b+0x4*0x7cf+0x17*-0x14d]===_0x48171b[-0x4c2*-0x7+0x1b31+-0x3c79]&&_0x110c7f[-0x8df+-0xf31*-0x1+-0x64b]===_0x48171b[-0x21c6+0x266+0x1f67]&&_0x110c7f[0x1845*0x1+-0xda0+-0xa9d]===_0x48171b[-0x8*-0x29+-0xadb*-0x1+0x3*-0x409];}['isIdentity'](){const _0x3994e3=this['data'];return _0x3994e3[-0x1226+0x14*-0x1d7+-0x1b79*-0x2]===-0x1*-0x1f03+0x1*-0x8d6+-0x162c&&_0x3994e3[-0x3*-0x6c+-0x2e*0x4a+0xc09]===0x956+0x47*-0x16+-0x8a*0x6&&_0x3994e3[-0x20*0x8f+0x217d+-0xf9b]===-0x13ed+0x16d9+-0x2ec&&_0x3994e3[-0xf*0x10b+0x1b46+0x2*-0x5cf]===-0x553*-0x4+0x1f82+-0x34ce&&_0x3994e3[-0x18bd+-0x752+0xa1*0x33]===0xbc*0x8+0x197*0x17+-0x2a70&&_0x3994e3[0x19f6+0x1*0x178d+-0x317e]===0x2*-0x48b+-0x29*0x12+-0x1*-0xbf8&&_0x3994e3[-0xeb+-0x213e+-0xb65*-0x3]===-0xd93+0x16f+0xc24&&_0x3994e3[-0x1dd*0x9+-0x2*0xc96+0x29f8]===0x19*0x50+0x1f60+0x39*-0xb0&&_0x3994e3[-0xd*0x119+-0x42*0x8+0x1*0x105d]===-0x1106+-0x64*-0x52+-0xf01;}['setIdentit'+'y'](){const _0xcec359=this['data'];return _0xcec359[-0x1*-0x478+-0x22f6+0x1e7e]=0xc2*0x7+-0xe3c*0x2+-0x9*-0x293,_0xcec359[0xcea+-0x5b2+0x1*-0x737]=-0x2*-0x412+-0x1e24+0x10*0x160,_0xcec359[0x21*0x7d+0x20b0+-0x30cb]=-0x2*-0x10bd+0x1ab4+-0x3c2e,_0xcec359[-0x79*-0x2+0x1f35*-0x1+0x1e46]=0x4c2+-0x1902+-0xa20*-0x2,_0xcec359[0xe5e+0x1*0x24c4+0x198f*-0x2]=-0x21d*0xe+-0x5*0x593+-0x2*-0x1cbb,_0xcec359[0x1*0x1297+0xc*0x2a5+0x112*-0x2f]=0x24c*0xa+0x1*-0x19ee+0x2f6,_0xcec359[-0x3a*0x59+0x101e+0x412]=0x9*-0x259+-0x1087+0x4*0x96a,_0xcec359[-0x18ea+0x1*-0xb5f+-0x298*-0xe]=-0x317*-0x5+0x1849+-0x4*0x9ef,_0xcec359[0x1ee0+-0x5*-0x38f+0x1*-0x30a3]=-0xabc*-0x1+-0x1*0x213c+0x1681,this;}['toString'](){return'['+this['data']['join'](',\x20')+']';}['transpose'](_0x3e5d5a=this){const _0x1dd365=_0x3e5d5a['data'],_0xa7d0e5=this['data'];if(_0x1dd365===_0xa7d0e5){let _0x24497b;_0x24497b=_0x1dd365[-0x2419*-0x1+-0x42+-0x1*0x23d6],_0xa7d0e5[-0xfed+-0x1e1c+-0x2e0a*-0x1]=_0x1dd365[-0x6*-0x11c+-0xa+0x69b*-0x1],_0xa7d0e5[-0x3*-0xced+-0x16bc+-0x1008]=_0x24497b,_0x24497b=_0x1dd365[-0xa25*-0x1+0x1*-0x3ff+-0x624],_0xa7d0e5[-0x10*-0x6e+0x3*0x371+-0x1131]=_0x1dd365[0x2484+-0x1f96+-0x4e8],_0xa7d0e5[-0xabc+0x2*0x137e+-0x1c3a*0x1]=_0x24497b,_0x24497b=_0x1dd365[-0x1566+-0x830+0xb*0x2b1],_0xa7d0e5[-0x7a7*0x3+-0x4b0+-0x1*-0x1baa]=_0x1dd365[0x102b+0x1*0x1279+-0x229d],_0xa7d0e5[0x7*0xa3+0x7*-0x4d+-0x77*0x5]=_0x24497b;}else _0xa7d0e5[0x1def+0x33d*-0x2+-0x1775]=_0x1dd365[0x12f3+-0x4ed+-0x703*0x2],_0xa7d0e5[-0x11c9+-0x154f*0x1+0x2719]=_0x1dd365[0x43*-0xe+0x1b81+-0x17d4*0x1],_0xa7d0e5[-0x3*-0x5f2+0x163b*0x1+-0x280f]=_0x1dd365[-0x951+0x1863*-0x1+0x21ba],_0xa7d0e5[0x971+0x25c*-0x10+0x1c52]=_0x1dd365[0x32*-0x36+0x8b*-0x25+-0x7a9*-0x4],_0xa7d0e5[0x9*-0x3dd+-0x1dea+0x40b3]=_0x1dd365[0x25f9+-0x1d3e+0x17*-0x61],_0xa7d0e5[0x19a3+-0x2*0x10c5+0x7ec]=_0x1dd365[0x21*0x95+0x1565+0x263*-0x11],_0xa7d0e5[0x407*0x1+-0x3cb*-0x7+-0x1e8e]=_0x1dd365[-0x1503+-0x10*-0xda+0x277*0x3],_0xa7d0e5[0x20a5+-0x1b16*0x1+-0x588]=_0x1dd365[0x210+-0x1581+0x1376],_0xa7d0e5[-0x75*0x33+-0x21a9*-0x1+-0xa52]=_0x1dd365[0xd*0x12b+0xf7e+0x5*-0x621];return this;}['setFromMat'+'4'](_0x4f9912){const _0x271e74=_0x4f9912['data'],_0x5f5cb4=this['data'];return _0x5f5cb4[0x1bdc+0x376*-0x2+-0x28*0x86]=_0x271e74[-0x24ea+-0xe4*-0x1a+0x6e1*0x2],_0x5f5cb4[0x835*0x1+-0x1fdc+0x17a8]=_0x271e74[0x1fe4+0xaaf+-0x2a92],_0x5f5cb4[-0x3*-0x27a+-0x1c34+0x14c8]=_0x271e74[0xbd*-0x29+-0x834+-0x1*-0x267b],_0x5f5cb4[0x1477*-0x1+0x265b+-0x11e1*0x1]=_0x271e74[-0x2*0xc13+0x2458+-0xc2e],_0x5f5cb4[-0x5*-0x4c5+0x1*0x1e99+-0x366e]=_0x271e74[0x22*0xe3+0x2*0xc0d+0x1*-0x363b],_0x5f5cb4[-0x2025+0x1457+0xbd3]=_0x271e74[0x4*0x70+-0x5a8+-0x1f7*-0x2],_0x5f5cb4[-0x6*-0x1d4+0x264e*0x1+0x18a0*-0x2]=_0x271e74[-0x8*0xd6+0x24f+0x469],_0x5f5cb4[-0x1645+0x123f+0x40d]=_0x271e74[-0x2a*-0x2b+0x2*0x1c3+-0x1*0xa8b],_0x5f5cb4[-0x1d47+-0x4*0x5bf+0x344b]=_0x271e74[-0x2695*-0x1+0x2221*0x1+-0x48ac],this;}['setFromQua'+'t'](_0x521a9a){const _0x5d91b4=_0x521a9a['x'],_0x3bc2ea=_0x521a9a['y'],_0x2b3b3e=_0x521a9a['z'],_0x15a88c=_0x521a9a['w'],_0xb55203=_0x5d91b4+_0x5d91b4,_0x595ef0=_0x3bc2ea+_0x3bc2ea,_0xaff764=_0x2b3b3e+_0x2b3b3e,_0x3aa970=_0x5d91b4*_0xb55203,_0x3f1b24=_0x5d91b4*_0x595ef0,_0x5801d3=_0x5d91b4*_0xaff764,_0x3fa86e=_0x3bc2ea*_0x595ef0,_0x4e9f31=_0x3bc2ea*_0xaff764,_0x5aa7a7=_0x2b3b3e*_0xaff764,_0x140149=_0x15a88c*_0xb55203,_0x3d3e37=_0x15a88c*_0x595ef0,_0x49b631=_0x15a88c*_0xaff764,_0x1697bd=this['data'];return _0x1697bd[0x11*0xf7+0xc20+0x43*-0x6d]=-0xe11+-0x136d+0x157*0x19-(_0x3fa86e+_0x5aa7a7),_0x1697bd[0x2048+0x1009+-0x10*0x305]=_0x3f1b24+_0x49b631,_0x1697bd[0x1e1d+0xd5a+-0x2b75]=_0x5801d3-_0x3d3e37,_0x1697bd[0x1617+-0x11ad+0x467*-0x1]=_0x3f1b24-_0x49b631,_0x1697bd[0x7*-0x47f+-0x697+0x2614]=0x41d+0x9e*0x7+-0x1*0x86e-(_0x3aa970+_0x5aa7a7),_0x1697bd[-0x24fb+0x6d7+0x1e29]=_0x4e9f31+_0x140149,_0x1697bd[0x1df*0x4+0x5*0x175+-0xebf]=_0x5801d3+_0x3d3e37,_0x1697bd[-0x7*0x543+0x2426+0xb6]=_0x4e9f31-_0x140149,_0x1697bd[-0xe00+-0x18d4+0x33d*0xc]=-0x402+0x13*-0x3b+0x864-(_0x3aa970+_0x3fa86e),this;}['invertMat4'](_0x574fb0){const _0x306b7f=_0x574fb0['data'],_0x2c0ed1=_0x306b7f[0x14cb+0x25c8+-0x5*0xbb7],_0x523c4e=_0x306b7f[-0x1*-0x223a+-0x153c+-0x5*0x299],_0x5c3673=_0x306b7f[-0x26*0x35+0x1ed1+-0x347*0x7],_0x273992=_0x306b7f[-0x4*-0x2fa+-0x1b3b+0x7*0x231],_0x5848a8=_0x306b7f[0x545+0x1aec+-0x202c],_0x473f90=_0x306b7f[0x1367+0x1a03+0x14c*-0x23],_0xbc9a65=_0x306b7f[-0x178d*-0x1+0x2429+-0x3bae*0x1],_0x5a85f3=_0x306b7f[0x1*-0x1ebb+0x22e3+-0x5*0xd3],_0x10637b=_0x306b7f[0x2643+-0xd1c*-0x2+-0x1*0x4071],_0x51d754=_0x10637b*_0x5848a8-_0x473f90*_0x5a85f3,_0x176d03=-_0x10637b*_0x523c4e+_0x5c3673*_0x5a85f3,_0x3d3f1d=_0x473f90*_0x523c4e-_0x5c3673*_0x5848a8,_0x59b933=-_0x10637b*_0x273992+_0x473f90*_0xbc9a65,_0x14876a=_0x10637b*_0x2c0ed1-_0x5c3673*_0xbc9a65,_0xb64e10=-_0x473f90*_0x2c0ed1+_0x5c3673*_0x273992,_0x5133f1=_0x5a85f3*_0x273992-_0x5848a8*_0xbc9a65,_0x3ef170=-_0x5a85f3*_0x2c0ed1+_0x523c4e*_0xbc9a65,_0x4e1eef=_0x5848a8*_0x2c0ed1-_0x523c4e*_0x273992,_0x5ab20c=_0x2c0ed1*_0x51d754+_0x523c4e*_0x59b933+_0x5c3673*_0x5133f1;if(_0x5ab20c===0x1ea7+-0x2049+0x1a2)this['setIdentit'+'y']();else{const _0x4f5565=(0x3*-0x48d+-0xb58+0x1900)/_0x5ab20c,_0x1e33d5=this['data'];_0x1e33d5[-0x13*0x1d+0x7d8+0x2f*-0x1f]=_0x51d754*_0x4f5565,_0x1e33d5[-0x6b*0x4f+0x2263+0x15d*-0x1]=_0x176d03*_0x4f5565,_0x1e33d5[-0x48f*0x1+0xe61+-0x9d0]=_0x3d3f1d*_0x4f5565,_0x1e33d5[-0x1c71+0x1*0x130f+0x25*0x41]=_0x59b933*_0x4f5565,_0x1e33d5[-0x1c14+-0x1977+0x358f]=_0x14876a*_0x4f5565,_0x1e33d5[-0x154b+-0xb4e*0x1+-0x686*-0x5]=_0xb64e10*_0x4f5565,_0x1e33d5[-0x1*0x54d+-0xc01*0x2+-0x1d55*-0x1]=_0x5133f1*_0x4f5565,_0x1e33d5[0x5*-0x23d+0x3ac+-0x142*-0x6]=_0x3ef170*_0x4f5565,_0x1e33d5[-0x1*0x18a5+0x1e2d*-0x1+0xe*0x3eb]=_0x4e1eef*_0x4f5565;}return this;}['transformV'+'ector'](_0x1e55dc,_0x4af976=new D()){const _0x454fa7=this['data'],{x:_0x40b008,y:_0x59fe77,z:_0x52c22b}=_0x1e55dc;return _0x4af976['x']=_0x40b008*_0x454fa7[0x803+0x134+-0x937]+_0x59fe77*_0x454fa7[-0x206f+0x8bc+-0x5*-0x4be]+_0x52c22b*_0x454fa7[0x911+-0x1377*-0x1+-0x29*0xb2],_0x4af976['y']=_0x40b008*_0x454fa7[-0x2a2*-0x4+0x212+-0x285*0x5]+_0x59fe77*_0x454fa7[0x971*0x1+-0x1a*0x68+0x3*0x61]+_0x52c22b*_0x454fa7[-0x1dde+-0x3*0x198+0x22ad],_0x4af976['z']=_0x40b008*_0x454fa7[0x1*0xe87+0x189*0xd+0x227a*-0x1]+_0x59fe77*_0x454fa7[-0x4c5+0x12b7+-0xded]+_0x52c22b*_0x454fa7[0x723+-0x3*-0x8c3+-0x2*0x10b2],_0x4af976;}};h(gn,'IDENTITY',Object['freeze'](new gn())),h(gn,'ZERO',Object['freeze'](new gn()['set']([0x624*0x5+-0xd8c+-0x12*0xf4,-0xedf+-0x1*-0x24bb+-0x15dc,0x194*0xb+-0x8ff+0x85d*-0x1,0x1b*-0x1b+0x10b*-0x1+0x3e4,-0xa8b*-0x1+0x282*0xb+0xe3*-0x2b,-0x3d3*0x1+-0x1*0x16e5+-0x78*-0x39,-0x1357+-0xad9+-0x2a*-0xb8,0xa9f+0x1*0x995+-0x4*0x50d,-0xe45+-0x14d4+0x2319])));let _i=gn;const Gt=class Gt{constructor(_0xbe3906=0x7a*0x21+-0x11b+-0xe9f,_0x393532=0x149*0x17+0x1358*0x2+0x443f*-0x1){h(this,'x'),h(this,'y'),_0xbe3906['length']===-0xdbb+-0x62d+-0x9f5*-0x2?(this['x']=_0xbe3906[0xe99+0x5*0x19+0xf16*-0x1],this['y']=_0xbe3906[-0x1d*-0xfd+0x8ec+-0x2594]):(this['x']=_0xbe3906,this['y']=_0x393532);}['add'](_0x37d940){return this['x']+=_0x37d940['x'],this['y']+=_0x37d940['y'],this;}['add2'](_0x3f8ea8,_0x6400d5){return this['x']=_0x3f8ea8['x']+_0x6400d5['x'],this['y']=_0x3f8ea8['y']+_0x6400d5['y'],this;}['addScalar'](_0x12f34f){return this['x']+=_0x12f34f,this['y']+=_0x12f34f,this;}['addScaled'](_0x5b783d,_0x334d5b){return this['x']+=_0x5b783d['x']*_0x334d5b,this['y']+=_0x5b783d['y']*_0x334d5b,this;}['clone'](){const _0x528efb=this['constructo'+'r'];return new _0x528efb(this['x'],this['y']);}['copy'](_0x49c569){return this['x']=_0x49c569['x'],this['y']=_0x49c569['y'],this;}['cross'](_0x55be7f){return this['x']*_0x55be7f['y']-this['y']*_0x55be7f['x'];}['distance'](_0x258008){const _0xedd198=this['x']-_0x258008['x'],_0x31605d=this['y']-_0x258008['y'];return Math['sqrt'](_0xedd198*_0xedd198+_0x31605d*_0x31605d);}['div'](_0x525807){return this['x']/=_0x525807['x'],this['y']/=_0x525807['y'],this;}['div2'](_0x3cce0b,_0x54b212){return this['x']=_0x3cce0b['x']/_0x54b212['x'],this['y']=_0x3cce0b['y']/_0x54b212['y'],this;}['divScalar'](_0x54f9ef){return this['x']/=_0x54f9ef,this['y']/=_0x54f9ef,this;}['dot'](_0x113f8d){return this['x']*_0x113f8d['x']+this['y']*_0x113f8d['y'];}['equals'](_0x388305){return this['x']===_0x388305['x']&&this['y']===_0x388305['y'];}['equalsAppr'+'ox'](_0x5efb0d,_0x28b765=0x1b0e+-0x255e*0x1+0x14*0x84+0.000001){return Math['abs'](this['x']-_0x5efb0d['x'])<_0x28b765&&Math['abs'](this['y']-_0x5efb0d['y'])<_0x28b765;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y'];}['lerp'](_0x3476c6,_0x486360,_0x2f2dd4){return this['x']=_0x3476c6['x']+_0x2f2dd4*(_0x486360['x']-_0x3476c6['x']),this['y']=_0x3476c6['y']+_0x2f2dd4*(_0x486360['y']-_0x3476c6['y']),this;}['mul'](_0x2a52d5){return this['x']*=_0x2a52d5['x'],this['y']*=_0x2a52d5['y'],this;}['mul2'](_0x317f63,_0x65cf89){return this['x']=_0x317f63['x']*_0x65cf89['x'],this['y']=_0x317f63['y']*_0x65cf89['y'],this;}['mulScalar'](_0x2583b7){return this['x']*=_0x2583b7,this['y']*=_0x2583b7,this;}['normalize'](_0x24a7f0=this){const _0x4eec3f=_0x24a7f0['x']*_0x24a7f0['x']+_0x24a7f0['y']*_0x24a7f0['y'];if(_0x4eec3f>0x1eb0+-0x18b+0x1*-0x1d25){const _0xf19290=(-0x2*0xa49+-0x4*0x8ad+-0x126d*-0x3)/Math['sqrt'](_0x4eec3f);this['x']=_0x24a7f0['x']*_0xf19290,this['y']=_0x24a7f0['y']*_0xf19290;}return this;}['rotate'](_0x229ac9){const _0x4d4526=Math['atan2'](this['x'],this['y'])+_0x229ac9*Y['DEG_TO_RAD'],_0x383546=Math['sqrt'](this['x']*this['x']+this['y']*this['y']);return this['x']=Math['sin'](_0x4d4526)*_0x383546,this['y']=Math['cos'](_0x4d4526)*_0x383546,this;}['angle'](){return Math['atan2'](this['x'],this['y'])*Y['RAD_TO_DEG'];}['angleTo'](_0x4e7cf1){return Math['atan2'](this['x']*_0x4e7cf1['y']+this['y']*_0x4e7cf1['x'],this['x']*_0x4e7cf1['x']+this['y']*_0x4e7cf1['y'])*Y['RAD_TO_DEG'];}['floor'](_0x232430=this){return this['x']=Math['floor'](_0x232430['x']),this['y']=Math['floor'](_0x232430['y']),this;}['ceil'](_0x4448a3=this){return this['x']=Math['ceil'](_0x4448a3['x']),this['y']=Math['ceil'](_0x4448a3['y']),this;}['round'](_0xe342a4=this){return this['x']=Math['round'](_0xe342a4['x']),this['y']=Math['round'](_0xe342a4['y']),this;}['min'](_0x5f93b9){return _0x5f93b9['x']<this['x']&&(this['x']=_0x5f93b9['x']),_0x5f93b9['y']<this['y']&&(this['y']=_0x5f93b9['y']),this;}['max'](_0x443fc2){return _0x443fc2['x']>this['x']&&(this['x']=_0x443fc2['x']),_0x443fc2['y']>this['y']&&(this['y']=_0x443fc2['y']),this;}['set'](_0x1a3261,_0x56aea3){return this['x']=_0x1a3261,this['y']=_0x56aea3,this;}['sub'](_0xbb7365){return this['x']-=_0xbb7365['x'],this['y']-=_0xbb7365['y'],this;}['sub2'](_0x6bda8f,_0x1d9ef2){return this['x']=_0x6bda8f['x']-_0x1d9ef2['x'],this['y']=_0x6bda8f['y']-_0x1d9ef2['y'],this;}['subScalar'](_0x183d21){return this['x']-=_0x183d21,this['y']-=_0x183d21,this;}['fromArray'](_0x5c2ef9,_0x38dc7a=0x531*0x6+0x7a6*-0x5+-0xe3*-0x8){return this['x']=_0x5c2ef9[_0x38dc7a]??this['x'],this['y']=_0x5c2ef9[_0x38dc7a+(-0x15a2+-0x1329*-0x1+-0x2*-0x13d)]??this['y'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+']';}['toArray'](_0x4537e2=[],_0x37bca9=0x371*0x4+-0x1a66+0x3*0x436){return _0x4537e2[_0x37bca9]=this['x'],_0x4537e2[_0x37bca9+(0x1*-0x1804+-0x16af+0x2eb4)]=this['y'],_0x4537e2;}static['angleRad'](_0x44e664,_0x410194){return Math['atan2'](_0x44e664['x']*_0x410194['y']-_0x44e664['y']*_0x410194['x'],_0x44e664['x']*_0x410194['x']+_0x44e664['y']*_0x410194['y']);}};h(Gt,'ZERO',Object['freeze'](new Gt(0x7cf+-0xc*0x64+-0x31f,-0x662*0x1+-0x2647*-0x1+0x661*-0x5))),h(Gt,'HALF',Object['freeze'](new Gt(-0x88*0x18+0xb*0x20b+-0x9b9+0.5,0x11d6*0x1+0x1*0x1b72+-0x2d48+0.5))),h(Gt,'ONE',Object['freeze'](new Gt(0x18f1+0x1*0x1a42+-0x3332,-0x1*0x6bf+-0xffe+0x16be*0x1))),h(Gt,'UP',Object['freeze'](new Gt(0x2*-0x1337+-0x50d+0x2b7b,0x1*0x23c1+0x13be*0x1+-0x377e))),h(Gt,'DOWN',Object['freeze'](new Gt(0x1a6c+-0xbb3+-0xeb9,-(0x1eda+0x1*0x25d7+-0x44b0)))),h(Gt,'RIGHT',Object['freeze'](new Gt(0x1445+0x25f1+-0x3a35,-0x3f*0x36+-0x2175+-0x2ebf*-0x1))),h(Gt,'LEFT',Object['freeze'](new Gt(-(-0x18af+-0x191*0x4+0x1ef4),-0x1425+0x16e9+-0x2c4*0x1)));let J=Gt;const pr=class pr{constructor(_0xe362e4=0x203c*0x1+0x243*0x1+0x227f*-0x1,_0x4fb39c=-0xeab+0x56c+0x3*0x315,_0x1b9c84=-0x6d0*-0x1+-0x71*-0x8+-0xa58,_0x3fb823=0x983+-0x522*-0x4+-0x1e0b){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0xe362e4['length']===-0xe6e*-0x2+-0x46*0x8e+0x9fc?(this['x']=_0xe362e4[-0x13c7+-0x5d*0x24+-0x1*-0x20db],this['y']=_0xe362e4[0x1dd1+-0x1615+-0x1*0x7bb],this['z']=_0xe362e4[0x10ba*-0x2+-0x1*-0x26e1+-0x56b],this['w']=_0xe362e4[-0x1*-0x106b+-0x23cc+0x1364]):(this['x']=_0xe362e4,this['y']=_0x4fb39c,this['z']=_0x1b9c84,this['w']=_0x3fb823);}['add'](_0x50f116){return this['x']+=_0x50f116['x'],this['y']+=_0x50f116['y'],this['z']+=_0x50f116['z'],this['w']+=_0x50f116['w'],this;}['add2'](_0x50c984,_0x3701ce){return this['x']=_0x50c984['x']+_0x3701ce['x'],this['y']=_0x50c984['y']+_0x3701ce['y'],this['z']=_0x50c984['z']+_0x3701ce['z'],this['w']=_0x50c984['w']+_0x3701ce['w'],this;}['addScalar'](_0x1048a3){return this['x']+=_0x1048a3,this['y']+=_0x1048a3,this['z']+=_0x1048a3,this['w']+=_0x1048a3,this;}['addScaled'](_0x472ac2,_0x245ebf){return this['x']+=_0x472ac2['x']*_0x245ebf,this['y']+=_0x472ac2['y']*_0x245ebf,this['z']+=_0x472ac2['z']*_0x245ebf,this['w']+=_0x472ac2['w']*_0x245ebf,this;}['clone'](){const _0x506009=this['constructo'+'r'];return new _0x506009(this['x'],this['y'],this['z'],this['w']);}['copy'](_0x44c6e5){return this['x']=_0x44c6e5['x'],this['y']=_0x44c6e5['y'],this['z']=_0x44c6e5['z'],this['w']=_0x44c6e5['w'],this;}['div'](_0x35d784){return this['x']/=_0x35d784['x'],this['y']/=_0x35d784['y'],this['z']/=_0x35d784['z'],this['w']/=_0x35d784['w'],this;}['div2'](_0x52ad80,_0x5db6db){return this['x']=_0x52ad80['x']/_0x5db6db['x'],this['y']=_0x52ad80['y']/_0x5db6db['y'],this['z']=_0x52ad80['z']/_0x5db6db['z'],this['w']=_0x52ad80['w']/_0x5db6db['w'],this;}['divScalar'](_0xb3e1e4){return this['x']/=_0xb3e1e4,this['y']/=_0xb3e1e4,this['z']/=_0xb3e1e4,this['w']/=_0xb3e1e4,this;}['dot'](_0x525894){return this['x']*_0x525894['x']+this['y']*_0x525894['y']+this['z']*_0x525894['z']+this['w']*_0x525894['w'];}['equals'](_0x233899){return this['x']===_0x233899['x']&&this['y']===_0x233899['y']&&this['z']===_0x233899['z']&&this['w']===_0x233899['w'];}['equalsAppr'+'ox'](_0x2efd2d,_0x3a2da9=-0x461*-0x1+-0x1*0x2470+0x200f+0.000001){return Math['abs'](this['x']-_0x2efd2d['x'])<_0x3a2da9&&Math['abs'](this['y']-_0x2efd2d['y'])<_0x3a2da9&&Math['abs'](this['z']-_0x2efd2d['z'])<_0x3a2da9&&Math['abs'](this['w']-_0x2efd2d['w'])<_0x3a2da9;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0xde4691,_0x3ebc77,_0x4711dc){return this['x']=_0xde4691['x']+_0x4711dc*(_0x3ebc77['x']-_0xde4691['x']),this['y']=_0xde4691['y']+_0x4711dc*(_0x3ebc77['y']-_0xde4691['y']),this['z']=_0xde4691['z']+_0x4711dc*(_0x3ebc77['z']-_0xde4691['z']),this['w']=_0xde4691['w']+_0x4711dc*(_0x3ebc77['w']-_0xde4691['w']),this;}['mul'](_0x2a95ed){return this['x']*=_0x2a95ed['x'],this['y']*=_0x2a95ed['y'],this['z']*=_0x2a95ed['z'],this['w']*=_0x2a95ed['w'],this;}['mul2'](_0x165c75,_0x5ef80e){return this['x']=_0x165c75['x']*_0x5ef80e['x'],this['y']=_0x165c75['y']*_0x5ef80e['y'],this['z']=_0x165c75['z']*_0x5ef80e['z'],this['w']=_0x165c75['w']*_0x5ef80e['w'],this;}['mulScalar'](_0xd82f5){return this['x']*=_0xd82f5,this['y']*=_0xd82f5,this['z']*=_0xd82f5,this['w']*=_0xd82f5,this;}['normalize'](_0x2b32fd=this){const _0x5cd697=_0x2b32fd['x']*_0x2b32fd['x']+_0x2b32fd['y']*_0x2b32fd['y']+_0x2b32fd['z']*_0x2b32fd['z']+_0x2b32fd['w']*_0x2b32fd['w'];if(_0x5cd697>-0xe5*-0x26+-0x8*-0x5b+-0x24d6){const _0x52d1d7=(-0x413+-0xb*0xd4+-0xd30*-0x1)/Math['sqrt'](_0x5cd697);this['x']=_0x2b32fd['x']*_0x52d1d7,this['y']=_0x2b32fd['y']*_0x52d1d7,this['z']=_0x2b32fd['z']*_0x52d1d7,this['w']=_0x2b32fd['w']*_0x52d1d7;}return this;}['floor'](_0x439c4b=this){return this['x']=Math['floor'](_0x439c4b['x']),this['y']=Math['floor'](_0x439c4b['y']),this['z']=Math['floor'](_0x439c4b['z']),this['w']=Math['floor'](_0x439c4b['w']),this;}['ceil'](_0x700cdb=this){return this['x']=Math['ceil'](_0x700cdb['x']),this['y']=Math['ceil'](_0x700cdb['y']),this['z']=Math['ceil'](_0x700cdb['z']),this['w']=Math['ceil'](_0x700cdb['w']),this;}['round'](_0x2a9a0c=this){return this['x']=Math['round'](_0x2a9a0c['x']),this['y']=Math['round'](_0x2a9a0c['y']),this['z']=Math['round'](_0x2a9a0c['z']),this['w']=Math['round'](_0x2a9a0c['w']),this;}['min'](_0x2173f0){return _0x2173f0['x']<this['x']&&(this['x']=_0x2173f0['x']),_0x2173f0['y']<this['y']&&(this['y']=_0x2173f0['y']),_0x2173f0['z']<this['z']&&(this['z']=_0x2173f0['z']),_0x2173f0['w']<this['w']&&(this['w']=_0x2173f0['w']),this;}['max'](_0x261292){return _0x261292['x']>this['x']&&(this['x']=_0x261292['x']),_0x261292['y']>this['y']&&(this['y']=_0x261292['y']),_0x261292['z']>this['z']&&(this['z']=_0x261292['z']),_0x261292['w']>this['w']&&(this['w']=_0x261292['w']),this;}['set'](_0x391f05,_0x4fa704,_0x3ba07e,_0x349b2d){return this['x']=_0x391f05,this['y']=_0x4fa704,this['z']=_0x3ba07e,this['w']=_0x349b2d,this;}['sub'](_0xd6f23e){return this['x']-=_0xd6f23e['x'],this['y']-=_0xd6f23e['y'],this['z']-=_0xd6f23e['z'],this['w']-=_0xd6f23e['w'],this;}['sub2'](_0xad85b3,_0x188446){return this['x']=_0xad85b3['x']-_0x188446['x'],this['y']=_0xad85b3['y']-_0x188446['y'],this['z']=_0xad85b3['z']-_0x188446['z'],this['w']=_0xad85b3['w']-_0x188446['w'],this;}['subScalar'](_0x318c5e){return this['x']-=_0x318c5e,this['y']-=_0x318c5e,this['z']-=_0x318c5e,this['w']-=_0x318c5e,this;}['fromArray'](_0xede2da,_0x4e1869=0x6b0+-0x38b*-0x9+-0x19*0x18b){return this['x']=_0xede2da[_0x4e1869]??this['x'],this['y']=_0xede2da[_0x4e1869+(-0x4ca*0x3+0x138e+-0x52f)]??this['y'],this['z']=_0xede2da[_0x4e1869+(-0x21b8+0x33*-0x44+0x2f46)]??this['z'],this['w']=_0xede2da[_0x4e1869+(0x1c22+0x19d7+-0x35f6)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0xcde5ff=[],_0x58c04d=0x962+0xf72*-0x2+-0x2*-0xac1){return _0xcde5ff[_0x58c04d]=this['x'],_0xcde5ff[_0x58c04d+(-0x5e*-0x2d+-0x2645+0x15c0)]=this['y'],_0xcde5ff[_0x58c04d+(0x2*0xc40+0x1*0x2483+-0x3d01)]=this['z'],_0xcde5ff[_0x58c04d+(0xfd9*0x1+-0x1*0x3d9+-0xbfd)]=this['w'],_0xcde5ff;}};h(pr,'ZERO',Object['freeze'](new pr(-0x1*0x8d7+0x20e9+-0x1812,0xf9b+0x3*-0x37d+0x524*-0x1,0x19af+0x1f10+-0x38bf,-0x437*0x3+-0x7*0x19e+0x3*0x7fd))),h(pr,'HALF',Object['freeze'](new pr(-0x28*-0xce+0x1af*0x17+-0x46e9+0.5,-0x208+0x3*0x8d9+-0x4e7*0x5+0.5,-0xa7*0x7+0xf*-0xe5+-0x47f*-0x4+0.5,0x5b+-0xf4*-0xb+0x25*-0x4b+0.5))),h(pr,'ONE',Object['freeze'](new pr(0xbcb*0x3+0x1bd5+-0x3f35,0x19da+0x1e61+-0x383a,-0x35*-0xad+-0x757*-0x2+-0x327e,-0xf*-0x45+0x1*0x1b6b+-0x1f75)));let re=pr;const to=new J(),Os=new D(),Js=new D(),ei=new D(),Hl=new D(),Qr=class Qr{constructor(){h(this,'data',new Float32Array(0xbb7*0x3+0xcee+-0x3003)),this['data'][0x61*-0x23+-0x1724+0x1*0x2467]=this['data'][-0x902*0x3+0x5eb+-0x1a0*-0xd]=this['data'][0x1f54+-0x2*-0xd28+-0x399a]=this['data'][-0x26*0x57+0x52c+-0x1*-0x7cd]=-0xf8*-0x7+-0x15d*-0x1+-0x824;}static['_getPerspe'+'ctiveHalfS'+'ize'](_0xf35d6b,_0x28ca87,_0x422c37,_0x26855a,_0x445936){_0x445936?(_0xf35d6b['x']=_0x26855a*Math['tan'](_0x28ca87*Math['PI']/(0x1da7+-0x159c+-0x1*0x6a3)),_0xf35d6b['y']=_0xf35d6b['x']/_0x422c37):(_0xf35d6b['y']=_0x26855a*Math['tan'](_0x28ca87*Math['PI']/(-0x2174+0x1*0xa73+-0x1869*-0x1)),_0xf35d6b['x']=_0xf35d6b['y']*_0x422c37);}['add2'](_0x3fef79,_0x73cd51){const _0x20dbfc=_0x3fef79['data'],_0x5acf7b=_0x73cd51['data'],_0x110616=this['data'];return _0x110616[0x58*0x35+0x25ff+0x12bd*-0x3]=_0x20dbfc[0x2473+-0x17*-0x69+-0x2de2]+_0x5acf7b[0x77*0x1c+0x1*0x222d+0x3*-0xfbb],_0x110616[-0x1*-0x15+-0x20ab*-0x1+-0x20bf]=_0x20dbfc[0x9*0x24a+0x90*0x3f+-0x3809]+_0x5acf7b[0x1004+-0x20b2+0x10af],_0x110616[-0x1f17+0x1b0d*0x1+-0x7*-0x94]=_0x20dbfc[0x7*0x1d8+-0x4*0x724+0xfaa]+_0x5acf7b[-0x962*-0x1+0xf8*-0x16+0xbf*0x10],_0x110616[-0x1c04+0x149f*-0x1+0x30a6]=_0x20dbfc[0x1*-0x2093+-0x849+0x1*0x28df]+_0x5acf7b[0x3*-0x358+0xebb+-0x14*0x3c],_0x110616[-0x1177+0xf*0x18d+-0x5c8]=_0x20dbfc[0xb6c+-0x156f+0x97*0x11]+_0x5acf7b[-0x7a+0x13*0x139+-0x16bd],_0x110616[0x1*0xd+0x58d*0x5+-0x1bc9]=_0x20dbfc[0x1e62+-0x2344+0x4e7]+_0x5acf7b[-0x4f7+0x9d7*-0x2+-0x1*-0x18aa],_0x110616[-0x14eb+0x1*0x20b+-0x76*-0x29]=_0x20dbfc[0x211d+-0x3*-0xcbd+-0x474e]+_0x5acf7b[0xfd5+0x11f5+-0x21c4],_0x110616[0x247c+0x11f0+-0x3665]=_0x20dbfc[-0x1bcb+0x2593*-0x1+0x1*0x4165]+_0x5acf7b[0x6e2+0x3*-0x62+-0x5b5],_0x110616[-0x18d3+-0x2455+-0xb0*-0x59]=_0x20dbfc[0x387+0x7d*-0x1+-0x16*0x23]+_0x5acf7b[-0xb9b*-0x3+0x2610+-0x449*0x11],_0x110616[0xfc9+0x2*0x362+-0x20c*0xb]=_0x20dbfc[-0xa85*0x1+-0x989*-0x2+-0x884]+_0x5acf7b[0x3a*-0x92+-0x358+-0xb7*-0x33],_0x110616[-0xc+0x2*0xd2+-0x18e*0x1]=_0x20dbfc[0xd*-0x1d+-0x24b3+0x2636]+_0x5acf7b[-0x3*0x2b3+0x2*0xb83+0x25*-0x67],_0x110616[-0x211*-0x4+-0xa0a*-0x1+-0x113*0x11]=_0x20dbfc[0x1a*0x10e+-0x958+0x201*-0x9]+_0x5acf7b[0x3f1*0x8+0xc91+-0x2c0e],_0x110616[-0x611*-0x5+0x1bbf+-0x18*0x26b]=_0x20dbfc[-0x17e9+-0x1e5c+0x3651]+_0x5acf7b[-0x6ec+-0x1ad5*-0x1+-0x13dd*0x1],_0x110616[-0x2628+0x257*0x6+0x182b]=_0x20dbfc[0x987*-0x1+0x2*0xcd6+0xa*-0x19c]+_0x5acf7b[-0x13c0+-0xc5e*0x1+0x3d*0x87],_0x110616[0x1af3+-0x230b+0x826]=_0x20dbfc[0x1d43+-0x1d76+0x1*0x41]+_0x5acf7b[-0x18ad+0x1567*-0x1+0x2e22],_0x110616[-0x1cd0+-0x3*0xc35+0x417e]=_0x20dbfc[0x220f+-0x555+-0x1*0x1cab]+_0x5acf7b[-0xb14+0x1*-0x273+0xd96],this;}['add'](_0x5193a7){return this['add2'](this,_0x5193a7);}['clone'](){const _0x1bfb0d=this['constructo'+'r'];return new _0x1bfb0d()['copy'](this);}['copy'](_0x49c3ac){const _0x19d4f5=_0x49c3ac['data'],_0x55d0d0=this['data'];return _0x55d0d0[-0x23aa+0x90+0x231a]=_0x19d4f5[0x3b*0x5d+0x650+0x1*-0x1bbf],_0x55d0d0[-0x1*0x1791+-0x24f2*0x1+0x3c84]=_0x19d4f5[-0x209*-0xb+0x6*-0x212+-0x9f6],_0x55d0d0[0x7*-0x14e+0x278*0x3+0x1bc]=_0x19d4f5[0x1*0x2162+-0x16e5+-0xa7b],_0x55d0d0[-0x1*-0x8df+-0xced*0x1+0x411]=_0x19d4f5[0x25af+-0x903+0x1d*-0xfd],_0x55d0d0[-0x3*0x3b0+0x1409+-0x8f5]=_0x19d4f5[-0xd2*0x20+0x43a*-0x6+-0x4*-0xce8],_0x55d0d0[0x1*0xaa5+-0x34*-0x7a+0xb*-0x338]=_0x19d4f5[0x3ec+-0x1*-0xc92+-0x1079*0x1],_0x55d0d0[0x97*-0xe+0x13d*-0x9+-0x136d*-0x1]=_0x19d4f5[-0x3*-0x2f1+0x7e1+0x131*-0xe],_0x55d0d0[0x1*0x1e24+0xad*0x20+-0x3*0x113f]=_0x19d4f5[0x1*-0x22c6+0xa0e+0x18bf],_0x55d0d0[-0x2*-0xef2+-0x543*0x4+-0x8d0*0x1]=_0x19d4f5[0x1535+0x2aa+-0x17d7*0x1],_0x55d0d0[0x405*0x5+-0x1624+-0xe*-0x26]=_0x19d4f5[0x11d2+-0x1*0x1b32+0x969],_0x55d0d0[-0x38*0x48+-0x111f*0x1+0x20e9]=_0x19d4f5[0x250a+0xb29*-0x2+-0x2*0x757],_0x55d0d0[-0x1bdc+0x1b*-0x125+0x3ace]=_0x19d4f5[-0x2103+0xde*0x22+-0x2*-0x1c9],_0x55d0d0[0x1e61+0x1a3*0xa+-0xf*0x31d]=_0x19d4f5[0x20*0xc9+-0x1*0x31+-0x18e3*0x1],_0x55d0d0[0x2*-0x12af+-0x15df+-0x1*-0x3b4a]=_0x19d4f5[0x3*0x227+-0x7f3*-0x1+-0x23*0x69],_0x55d0d0[0x59c+0x6*0x193+0x10*-0xf0]=_0x19d4f5[0x12f9*0x2+0x12fb+-0x38df],_0x55d0d0[0x39c+-0x1a40+0x16b3]=_0x19d4f5[-0xcc+0x22db+0x100*-0x22],this;}['equals'](_0x2f2c1e){const _0xa35f1c=this['data'],_0xcee32a=_0x2f2c1e['data'];return _0xa35f1c[-0x137a+-0x14f*-0x3+0xf8d]===_0xcee32a[-0x11ad+0x17f3*0x1+-0x646]&&_0xa35f1c[-0x7dc+0x4cb*0x5+-0x101a]===_0xcee32a[0x83*0x39+-0x1c*0x49+-0x1*0x152e]&&_0xa35f1c[-0x2366*-0x1+-0xb*0xbf+-0x1b2f*0x1]===_0xcee32a[0xae1+0xaa4+-0x1583]&&_0xa35f1c[-0x32f*0x1+0x6a7*0x4+0xa2*-0x25]===_0xcee32a[0x7d8+0x2393+0xe78*-0x3]&&_0xa35f1c[0xe*-0x163+-0xede+0x224c]===_0xcee32a[0xc13+-0x331+0x1*-0x8de]&&_0xa35f1c[-0x13*-0x185+0x6e4+-0x23be]===_0xcee32a[0xbb6*0x1+0x2660+0x727*-0x7]&&_0xa35f1c[0x2700+0x1*0xc85+-0x337f]===_0xcee32a[0xf46*0x1+-0xa*-0x335+0x9*-0x542]&&_0xa35f1c[0x660+0x1*-0x1ed9+-0x2*-0xc40]===_0xcee32a[-0x1ad4+-0x15*0xbd+0x2a5c]&&_0xa35f1c[-0x26fb+0x2*-0x7ea+0x8b*0x65]===_0xcee32a[-0x200b+-0x4d*-0x8+-0x1f*-0xf5]&&_0xa35f1c[0x5*0x11d+-0x1ac8+0x1540]===_0xcee32a[0x21de+0x338*-0x2+-0x1b65]&&_0xa35f1c[-0x470*-0x4+0x26f3+-0x38a9]===_0xcee32a[-0x7ca+0x1bae+-0x13da]&&_0xa35f1c[-0x2119*0x1+-0x2*0xa74+0x360c]===_0xcee32a[0x4*0x687+0x44*-0x22+-0x1*0x1109]&&_0xa35f1c[-0x3b3*0x5+0x7c5+0xe*0xc5]===_0xcee32a[0xb6d+0x9*-0x252+0x981]&&_0xa35f1c[-0x1729+0x26f4+-0xfbe]===_0xcee32a[-0x362+-0x1ae0+0x1e4f]&&_0xa35f1c[0x1866+-0x80e*0x2+0x4*-0x20f]===_0xcee32a[0x669*-0x2+0x5*-0x13d+-0x1*-0x1311]&&_0xa35f1c[0x242f+-0x1*-0xd67+-0x3187]===_0xcee32a[0x1*0x1e7c+-0x6d*0x41+0x4*-0xb0];}['isIdentity'](){const _0x3fb22b=this['data'];return _0x3fb22b[0x9ca+0x2696+-0x3060]===0x11b3+-0xa2b*0x2+-0x4*-0xa9&&_0x3fb22b[0x5b4*0x3+0x1*-0x2d1+-0xe4a]===0x173c+0x27*-0x1c+-0x12f8&&_0x3fb22b[0x905*0x4+-0x1*0x3f5+0x201d*-0x1]===0x9*-0x200+-0x15bc+0x13de*0x2&&_0x3fb22b[-0x2706+0x1c7e+0xa8b]===0x19*-0x177+-0x217b+0x461a&&_0x3fb22b[-0x2250+-0x4ef*0x2+0x2c32]===0x2bb+-0x20bd+0x14e*0x17&&_0x3fb22b[-0x1240+-0x19f2+-0xe7*-0x31]===0x1*0xbaf+0x2e7*0x8+-0x22e6&&_0x3fb22b[0xda8+-0x2590+0x17ee]===-0x2094+-0x1*0x246f+0x4503&&_0x3fb22b[-0x1d*-0x53+-0x1db5+0x1455]===0x1c3d+-0x975+-0x12c8&&_0x3fb22b[0x1e98+0x2673+0x7ab*-0x9]===-0xfcb+-0x1c56+0x2c21&&_0x3fb22b[-0xbc8+0xacb+0x106]===-0x1*-0xd83+0x138a+-0x1*0x210d&&_0x3fb22b[0x1bb0+-0x189*0xd+0xb3*-0xb]===0x40*0x10+0x3d*0x28+0x1*-0xd87&&_0x3fb22b[-0x8d2+-0x32c+-0x4f*-0x27]===0x4*-0x3d1+0x1cd*-0xb+0x2313&&_0x3fb22b[0xc89*0x1+-0x1751*0x1+0xad4]===-0x1daa+-0x59*-0x42+-0x14*-0x56&&_0x3fb22b[-0x1250+-0x1*0x25f4+0x3851]===0x11b9+0x2d8+-0x1491&&_0x3fb22b[-0x1*-0x11b1+-0x1566+0x3*0x141]===0x2*-0xedc+0x25f2+0x83a*-0x1&&_0x3fb22b[0x4*-0x5a8+-0x3*-0x74b+0x2*0x67]===0x10*0x107+0x28*0x7c+-0x23cf;}['mul2'](_0x431bea,_0x55fb31){const _0x53ccc9=_0x431bea['data'],_0x473402=_0x55fb31['data'],_0x44e499=this['data'],_0x3f208d=_0x53ccc9[-0x12a*-0x1b+-0x4fc+-0x1a72],_0xcd604b=_0x53ccc9[-0x2682+0x3*0x449+-0x19a8*-0x1],_0x560e7e=_0x53ccc9[0x729+-0x1592+0xe6b],_0xb7e716=_0x53ccc9[0x2325+0x3cb*0x3+-0x31*0xf3],_0x203007=_0x53ccc9[0x665*-0x3+0x11*0xd3+-0x8*-0xa6],_0x1f234a=_0x53ccc9[-0x1*0x257+0x5d0+-0xdd*0x4],_0x3d56c9=_0x53ccc9[0x8bc+-0x1688+0xdd2],_0x27774a=_0x53ccc9[-0x1*-0x7a0+-0x241b+-0x52*-0x59],_0x3d46da=_0x53ccc9[-0x9d2+-0x393+-0x7*-0x1eb],_0x39872a=_0x53ccc9[0x13d1+-0x8*0x29c+0x118],_0x3cbaa7=_0x53ccc9[0x2ad+0x26dc+-0xdd5*0x3],_0x8c2161=_0x53ccc9[0x265d+-0x1376*-0x1+0x2*-0x1ce4],_0x3f5541=_0x53ccc9[-0x426*0x5+0x1241+-0x3b*-0xb],_0x1d2477=_0x53ccc9[0xcfb+0x2*0x4fd+-0x2dd*0x8],_0x4f6c9a=_0x53ccc9[0x1605+-0x60a*-0x1+-0x6b*0x43],_0x509fa5=_0x53ccc9[0x1*-0x2121+0x1e3d+0x2f3];let _0x2394d3,_0x3a6312,_0x2ddb11,_0x1a596e;return _0x2394d3=_0x473402[0xf7f+-0xfba+0x3b],_0x3a6312=_0x473402[0x2*0x91d+0x2425*-0x1+0x94*0x1f],_0x2ddb11=_0x473402[0x876+0x3*-0x4fd+-0x683*-0x1],_0x1a596e=_0x473402[0x1524+-0x9d*-0x7+-0x196c],_0x44e499[0x4*0x4eb+-0x263e+0x1292]=_0x3f208d*_0x2394d3+_0x203007*_0x3a6312+_0x3d46da*_0x2ddb11+_0x3f5541*_0x1a596e,_0x44e499[0x188d+0x1f*0x1+-0x18ab*0x1]=_0xcd604b*_0x2394d3+_0x1f234a*_0x3a6312+_0x39872a*_0x2ddb11+_0x1d2477*_0x1a596e,_0x44e499[0x7aa*0x2+-0x2539+-0x1*-0x15e7]=_0x560e7e*_0x2394d3+_0x3d56c9*_0x3a6312+_0x3cbaa7*_0x2ddb11+_0x4f6c9a*_0x1a596e,_0x44e499[0x43b*-0x1+0xb*0x2c0+-0x1a02]=_0xb7e716*_0x2394d3+_0x27774a*_0x3a6312+_0x8c2161*_0x2ddb11+_0x509fa5*_0x1a596e,_0x2394d3=_0x473402[0x2c3*0x8+-0x1*-0xf19+-0x252d],_0x3a6312=_0x473402[0x5*-0x63d+-0x1*-0x1cc9+0x26d],_0x2ddb11=_0x473402[-0x67*0x24+0x25f4+-0x1772],_0x1a596e=_0x473402[0x1*-0x14e7+0x838+0xcb6],_0x44e499[-0x2*0x1a+0xfa+-0xc2]=_0x3f208d*_0x2394d3+_0x203007*_0x3a6312+_0x3d46da*_0x2ddb11+_0x3f5541*_0x1a596e,_0x44e499[0x5a+-0x1840+-0x7f9*-0x3]=_0xcd604b*_0x2394d3+_0x1f234a*_0x3a6312+_0x39872a*_0x2ddb11+_0x1d2477*_0x1a596e,_0x44e499[-0xee+-0x934+-0x5*-0x208]=_0x560e7e*_0x2394d3+_0x3d56c9*_0x3a6312+_0x3cbaa7*_0x2ddb11+_0x4f6c9a*_0x1a596e,_0x44e499[0x1*-0x1747+-0x3fb+0x1b49]=_0xb7e716*_0x2394d3+_0x27774a*_0x3a6312+_0x8c2161*_0x2ddb11+_0x509fa5*_0x1a596e,_0x2394d3=_0x473402[0x213a+-0x19d4*0x1+-0x75e],_0x3a6312=_0x473402[-0x1*0x22d+-0xa*0x3ad+-0x2b*-0xe8],_0x2ddb11=_0x473402[0x2489+0x7c2*-0x1+-0x41b*0x7],_0x1a596e=_0x473402[-0x469+-0x61f*0x2+0x859*0x2],_0x44e499[0x5*0x2cf+-0x3b*-0x49+-0x1ed6]=_0x3f208d*_0x2394d3+_0x203007*_0x3a6312+_0x3d46da*_0x2ddb11+_0x3f5541*_0x1a596e,_0x44e499[0x1ee5+0x975+-0x2851]=_0xcd604b*_0x2394d3+_0x1f234a*_0x3a6312+_0x39872a*_0x2ddb11+_0x1d2477*_0x1a596e,_0x44e499[0x7*-0x27a+-0x125b+-0x1*-0x23bb]=_0x560e7e*_0x2394d3+_0x3d56c9*_0x3a6312+_0x3cbaa7*_0x2ddb11+_0x4f6c9a*_0x1a596e,_0x44e499[0x10de+-0x1*0x1f51+0xe7e]=_0xb7e716*_0x2394d3+_0x27774a*_0x3a6312+_0x8c2161*_0x2ddb11+_0x509fa5*_0x1a596e,_0x2394d3=_0x473402[0x15cd*0x1+-0x5bc+-0x557*0x3],_0x3a6312=_0x473402[0x4*-0x793+-0x10f6+0x2f4f],_0x2ddb11=_0x473402[-0x4*-0x50+-0x12af*0x1+0x117d],_0x1a596e=_0x473402[0x171a+-0x11*0x3b+-0x1320],_0x44e499[0x1bb4+0x1a31+-0x397*0xf]=_0x3f208d*_0x2394d3+_0x203007*_0x3a6312+_0x3d46da*_0x2ddb11+_0x3f5541*_0x1a596e,_0x44e499[0x2395*-0x1+0xaf*0x37+-0x1f7*0x1]=_0xcd604b*_0x2394d3+_0x1f234a*_0x3a6312+_0x39872a*_0x2ddb11+_0x1d2477*_0x1a596e,_0x44e499[0x1ee6*0x1+0xe*0x92+-0x26d4]=_0x560e7e*_0x2394d3+_0x3d56c9*_0x3a6312+_0x3cbaa7*_0x2ddb11+_0x4f6c9a*_0x1a596e,_0x44e499[-0x191e+0x5af+-0xa*-0x1f3]=_0xb7e716*_0x2394d3+_0x27774a*_0x3a6312+_0x8c2161*_0x2ddb11+_0x509fa5*_0x1a596e,this;}['mulAffine2'](_0x112c91,_0x1fb2c1){const _0x4d0e2b=_0x112c91['data'],_0x1f4f47=_0x1fb2c1['data'],_0x1792da=this['data'],_0x4aef73=_0x4d0e2b[0x3e*-0x17+0x1858+-0x12c6],_0x3db392=_0x4d0e2b[-0x12*-0x1+-0x165+0x154],_0x4057fe=_0x4d0e2b[0x1f0c+0x1b9d*0x1+-0x3aa7],_0x7d8b41=_0x4d0e2b[-0x1*0xeb9+0x188f+-0x9d2],_0x56bb3d=_0x4d0e2b[-0x1c86*0x1+0x10b9+0xbd2],_0x3d6ab6=_0x4d0e2b[0x18c4+-0x2428+0x3ce*0x3],_0x215a09=_0x4d0e2b[-0xd*-0x24+-0x1fc1+0x1df5],_0x48226d=_0x4d0e2b[0xce1+0xae7+-0x1*0x17bf],_0x38a98e=_0x4d0e2b[-0x1353+-0x38c+0x16e9],_0x1be386=_0x4d0e2b[-0x46f+-0x2146+0x25c1],_0x3359a0=_0x4d0e2b[-0x18fe*-0x1+0x2fb*0x7+-0x11e*0x29],_0x17fda7=_0x4d0e2b[0x1c79+0x8d9+0x6*-0x636];let _0x3c12b4,_0x10cccb,_0x47925d;return _0x3c12b4=_0x1f4f47[-0x2*-0x111+-0x3e*-0x45+-0x3*0x648],_0x10cccb=_0x1f4f47[-0x19*-0x147+0x1904+-0x38f2],_0x47925d=_0x1f4f47[0x1*-0x13b1+0x9*0xa1+0xe0a],_0x1792da[0xb7b*0x2+0x1*0x1a45+-0x313b]=_0x4aef73*_0x3c12b4+_0x7d8b41*_0x10cccb+_0x215a09*_0x47925d,_0x1792da[-0x905*-0x2+0x1d6b+-0x2f74]=_0x3db392*_0x3c12b4+_0x56bb3d*_0x10cccb+_0x48226d*_0x47925d,_0x1792da[0x768+-0x2239+0x1ad3]=_0x4057fe*_0x3c12b4+_0x3d6ab6*_0x10cccb+_0x38a98e*_0x47925d,_0x1792da[0xa9*-0x2b+0x4*-0x469+0x2e0a]=0x1504+-0x4*-0x92f+0x10*-0x39c,_0x3c12b4=_0x1f4f47[-0x107*-0x1+-0x61*0x3b+0x1558],_0x10cccb=_0x1f4f47[0xa*-0x1a0+-0x22*0x97+0x2453],_0x47925d=_0x1f4f47[0x173+-0x8*-0x4ab+-0x19*0x18d],_0x1792da[-0x84*0x27+0xbd*-0x29+0x85*0x61]=_0x4aef73*_0x3c12b4+_0x7d8b41*_0x10cccb+_0x215a09*_0x47925d,_0x1792da[-0x67f*-0x5+0x57c+0x653*-0x6]=_0x3db392*_0x3c12b4+_0x56bb3d*_0x10cccb+_0x48226d*_0x47925d,_0x1792da[-0x2aa+0x8ce+0x1*-0x61e]=_0x4057fe*_0x3c12b4+_0x3d6ab6*_0x10cccb+_0x38a98e*_0x47925d,_0x1792da[-0x1bf7+-0xf7*-0x13+0x9a9]=-0x3b3+-0x13*-0x151+-0x1550,_0x3c12b4=_0x1f4f47[0x844+0x2fb*0x8+0x100a*-0x2],_0x10cccb=_0x1f4f47[0xec*-0xe+0xd77*-0x2+0x27df*0x1],_0x47925d=_0x1f4f47[0x2*-0x124d+-0x5cf*0x2+0x3042],_0x1792da[0x39f+-0x2*0x124b+-0x20ff*-0x1]=_0x4aef73*_0x3c12b4+_0x7d8b41*_0x10cccb+_0x215a09*_0x47925d,_0x1792da[-0x375+0xe21*0x2+0x4*-0x631]=_0x3db392*_0x3c12b4+_0x56bb3d*_0x10cccb+_0x48226d*_0x47925d,_0x1792da[0x3*0x35b+0x10d6+-0x1add]=_0x4057fe*_0x3c12b4+_0x3d6ab6*_0x10cccb+_0x38a98e*_0x47925d,_0x1792da[-0x620+0x258c+-0x1f61]=0x454*-0x5+-0x9bb+0x1f5f,_0x3c12b4=_0x1f4f47[-0x11*0x1a3+0x22d5+0x37b*-0x2],_0x10cccb=_0x1f4f47[-0x4a2*0x2+-0x3*-0xbff+-0x1aac],_0x47925d=_0x1f4f47[-0x2288+0xb7e+-0x2*-0xb8c],_0x1792da[0x2138+0x118f+-0x32bb]=_0x4aef73*_0x3c12b4+_0x7d8b41*_0x10cccb+_0x215a09*_0x47925d+_0x1be386,_0x1792da[-0x1111*0x1+0x1*0x1c2+-0x3d7*-0x4]=_0x3db392*_0x3c12b4+_0x56bb3d*_0x10cccb+_0x48226d*_0x47925d+_0x3359a0,_0x1792da[-0x1*0xeb+0x1*0x1715+0x5*-0x46c]=_0x4057fe*_0x3c12b4+_0x3d6ab6*_0x10cccb+_0x38a98e*_0x47925d+_0x17fda7,_0x1792da[0x15*-0x1b9+-0xb*-0x71+0x1f61]=-0x1a14+-0x3*-0xaa7+0x1*-0x5e0,this;}['mul'](_0x3ec293){return this['mul2'](this,_0x3ec293);}['transformP'+'oint'](_0x5bc518,_0x56ef9a=new D()){const _0x539e28=this['data'],{x:_0x2adf6b,y:_0x2bee28,z:_0x2ef55a}=_0x5bc518;return _0x56ef9a['x']=_0x2adf6b*_0x539e28[0x3*-0x887+-0x1*0x19a8+0xd*0x3f1]+_0x2bee28*_0x539e28[-0x1*0x24c6+0x326*-0x1+0x27f0]+_0x2ef55a*_0x539e28[0xb6c+-0x2327*0x1+0x17c3]+_0x539e28[0x95b+-0x2*-0x8f7+-0x1b3d*0x1],_0x56ef9a['y']=_0x2adf6b*_0x539e28[-0x1c25+0x1705+0x521]+_0x2bee28*_0x539e28[-0x2f1*0xc+0xbc8+0x1789]+_0x2ef55a*_0x539e28[0xae+0xc06+-0xcab]+_0x539e28[0x175*0x11+-0x60f+0x1*-0x12a9],_0x56ef9a['z']=_0x2adf6b*_0x539e28[0x2086+-0x1*-0x1486+0x6*-0x8d7]+_0x2bee28*_0x539e28[0xba0*0x2+0x171b+-0x2e55*0x1]+_0x2ef55a*_0x539e28[-0x1027+-0x2460+0x1*0x3491]+_0x539e28[0x109c+-0x2b*0x8d+0x721],_0x56ef9a;}['transformV'+'ector'](_0x364f09,_0x47532e=new D()){const _0x5fb29b=this['data'],{x:_0x2535f0,y:_0x31bf9c,z:_0x4b9580}=_0x364f09;return _0x47532e['x']=_0x2535f0*_0x5fb29b[0x3df+0x5f5*0x5+-0x6*0x59c]+_0x31bf9c*_0x5fb29b[-0xc*0x2b+0x2c6+-0xbe]+_0x4b9580*_0x5fb29b[0x106*0x20+0x1691+-0x1*0x3749],_0x47532e['y']=_0x2535f0*_0x5fb29b[-0x3b5*0x3+0x31b+-0x805*-0x1]+_0x31bf9c*_0x5fb29b[0x1*0x192b+0x170*0xf+-0x2eb6]+_0x4b9580*_0x5fb29b[-0xcaf*0x1+-0x1*-0x1cc1+-0x1009],_0x47532e['z']=_0x2535f0*_0x5fb29b[-0x14eb+-0x1*0xa63+-0xfa8*-0x2]+_0x31bf9c*_0x5fb29b[0x1177+0x1b28+-0x2c99]+_0x4b9580*_0x5fb29b[-0x18ef+-0x4ea*-0x1+-0x5*-0x403],_0x47532e;}['transformV'+'ec4'](_0x455993,_0x2110cb=new re()){const _0x203c91=this['data'],{x:_0x38b627,y:_0x3158b0,z:_0x1a20f6,w:_0x57497e}=_0x455993;return _0x2110cb['x']=_0x38b627*_0x203c91[-0x3*-0x28e+-0x1*-0x80d+0x1*-0xfb7]+_0x3158b0*_0x203c91[0x1164+-0x242a+-0x1e1*-0xa]+_0x1a20f6*_0x203c91[0x1*0x7ed+0x1aaf+-0x114a*0x2]+_0x57497e*_0x203c91[0x4ba+0x19e3*-0x1+-0x1*-0x1535],_0x2110cb['y']=_0x38b627*_0x203c91[-0x83*-0x49+-0x26a1+-0x1*-0x147]+_0x3158b0*_0x203c91[0x1feb+0x245a+-0x4440]+_0x1a20f6*_0x203c91[-0x103*0x19+0x1*-0xd02+-0x132b*-0x2]+_0x57497e*_0x203c91[0xa3c*0x1+0x269f+-0x30ce],_0x2110cb['z']=_0x38b627*_0x203c91[-0x103b+-0x11b*-0x1f+-0x1208]+_0x3158b0*_0x203c91[0xb15+-0x3e*0x6f+-0x1*-0xfd3]+_0x1a20f6*_0x203c91[-0x1*0x1c6e+0x215*-0x7+-0x2b0b*-0x1]+_0x57497e*_0x203c91[-0xf7*-0xd+0xc0+-0x1*0xd3d],_0x2110cb['w']=_0x38b627*_0x203c91[-0x6*0x2bf+-0x10*0x21f+-0x3e1*-0xd]+_0x3158b0*_0x203c91[-0x81*-0x1e+-0x2*0x4f4+0x1*-0x52f]+_0x1a20f6*_0x203c91[0x1a1*0x15+0xea8+-0x30d2]+_0x57497e*_0x203c91[-0x1622+-0x1d53+0x3384],_0x2110cb;}['setLookAt'](_0xbcbb79,_0x4047de,_0x1cc770){ei['sub2'](_0xbcbb79,_0x4047de)['normalize'](),Js['copy'](_0x1cc770)['normalize'](),Os['cross'](Js,ei)['normalize'](),Js['cross'](ei,Os);const _0x14a614=this['data'];return _0x14a614[-0x2ea*0x8+0x1*-0x2180+-0x4bc*-0xc]=Os['x'],_0x14a614[-0x83e*-0x4+-0x1*0x2072+-0x7*0x13]=Os['y'],_0x14a614[0x36d*0x5+0x7f9+0x16*-0x124]=Os['z'],_0x14a614[-0xc6c*-0x1+0xe55+-0x1abe]=0x3*0x346+-0x3*-0x841+-0x2295,_0x14a614[0x1*0x1b1f+0x1d1b+0xa*-0x59f]=Js['x'],_0x14a614[-0x4*0x400+-0x8d8+0x18dd]=Js['y'],_0x14a614[0x1*0xa0b+0x5*0x2d9+-0x1842]=Js['z'],_0x14a614[0x1*-0x2048+0x1e25+0x22a]=-0x1e01+0x1*-0x2239+-0x2*-0x201d,_0x14a614[0xcae+0x999+-0x163f]=ei['x'],_0x14a614[-0x1*0x16db+0xb*0x16d+0x735]=ei['y'],_0x14a614[-0xaff+-0x6e5+0x11ee]=ei['z'],_0x14a614[0x1cfb*-0x1+0x123*-0x2+0x1f4c]=-0x23*-0xdf+-0x1c68+-0x215,_0x14a614[0x13c*0x11+0x6*0x448+-0x2ea*0x10]=_0xbcbb79['x'],_0x14a614[0xb*0x31d+0xfbd+0x10a5*-0x3]=_0xbcbb79['y'],_0x14a614[-0x2*0x414+0x139e+-0xb68]=_0xbcbb79['z'],_0x14a614[-0x700+0x157a+-0xe6b*0x1]=-0xb7f*-0x3+-0xb69*-0x1+0x2de5*-0x1,this;}['setFrustum'](_0x5b569d,_0x4ad0b4,_0x38e8d6,_0x3aa460,_0x4463c0,_0x5997d3){const _0x18dead=(0xc1e*-0x2+0x24c0+-0xc82)*_0x4463c0,_0x5d3786=_0x4ad0b4-_0x5b569d,_0x1409eb=_0x3aa460-_0x38e8d6,_0x5ab3c1=_0x5997d3-_0x4463c0,_0x311fd2=this['data'];return _0x311fd2[0x160a*-0x1+0x1b42+-0x538]=_0x18dead/_0x5d3786,_0x311fd2[0xcde+0x2325+-0x4cd*0xa]=-0x999*-0x3+0x1fd6+0x583*-0xb,_0x311fd2[-0x185e+-0x1*0x1b4+0x1a14]=0x17b5+0x1b60+-0x3315,_0x311fd2[0x285+0x11*0x236+-0x2818]=0x1*-0x80e+0xd42+-0x3*0x1bc,_0x311fd2[-0xc3e*0x2+0x3a6+0x14da]=-0x26ed*0x1+-0xc98+-0x6d*-0x79,_0x311fd2[-0x20f0+-0x18f3+0x39e8]=_0x18dead/_0x1409eb,_0x311fd2[0x1*-0x1afb+0x902*0x2+0x2ff*0x3]=0x3d*-0xa+-0x14bc+0x171e,_0x311fd2[-0x9d*0x17+0x132+0x48*0x2e]=0x4e4*0x4+0x23*-0x1c+-0xfbc,_0x311fd2[0x1fe+0xaa9*-0x1+0x8b3]=(_0x4ad0b4+_0x5b569d)/_0x5d3786,_0x311fd2[-0x1c4e*0x1+-0x1f*-0x128+-0x781]=(_0x3aa460+_0x38e8d6)/_0x1409eb,_0x311fd2[-0x1ed9*-0x1+0x3*0x5c9+0x55a*-0x9]=(-_0x5997d3-_0x4463c0)/_0x5ab3c1,_0x311fd2[0x5a7*-0x3+0xc6*-0x11+0x1e26]=-(0x14a8+-0x1*0x1da1+0x8fa),_0x311fd2[0x24f1+-0x182+-0x1*0x2363]=-0x1*-0x1c5d+-0x2611+0x24*0x45,_0x311fd2[-0x1e+0x1783+-0x1758]=0x3b4+-0x7be+0x40a,_0x311fd2[-0xb*0x15+0x258c+-0x2497]=-_0x18dead*_0x5997d3/_0x5ab3c1,_0x311fd2[-0x461+-0x97b+0xdeb]=-0x683*-0x1+0x1146+0x17c9*-0x1,this;}['setPerspec'+'tive'](_0x2f0e7a,_0x38ede6,_0x50e147,_0x5a65a9,_0x5b5ca5){return Qr['_getPerspe'+'ctiveHalfS'+'ize'](to,_0x2f0e7a,_0x38ede6,_0x50e147,_0x5b5ca5),this['setFrustum'](-to['x'],to['x'],-to['y'],to['y'],_0x50e147,_0x5a65a9);}['setOrtho'](_0x25d1ec,_0x4e9c96,_0x202206,_0x75f7d7,_0x333943,_0x46ef51){const _0x193f94=this['data'];return _0x193f94[0x19f6*0x1+0xf68+0x5*-0x846]=(0x292+-0x6b7+-0x427*-0x1)/(_0x4e9c96-_0x25d1ec),_0x193f94[0x1*0x704+0x1*-0x946+-0xc1*-0x3]=0x571*-0x1+-0x2442+-0x7*-0x5f5,_0x193f94[-0x10d*-0xa+-0x261f+0x3*0x935]=-0x1*0x232b+0x2f*-0x17+-0x4*-0x9d9,_0x193f94[-0x5*-0x20b+0x755+-0x1189]=0x88b+-0x1d33+0x14a8,_0x193f94[0x1ca0+0x47d*-0x3+-0x1*0xf25]=-0x1ec5*-0x1+-0x1382+-0xb43,_0x193f94[-0x90*-0x9+0x10*0x2+-0x1b9*0x3]=(-0x1f57+0x9f8+0x1561)/(_0x75f7d7-_0x202206),_0x193f94[-0x3f2+-0x1232+0x162a]=-0x1d55+-0x7b1*-0x4+0x16f*-0x1,_0x193f94[-0x1403+0xc45+0xdd*0x9]=-0x1015+-0x156f+-0x2584*-0x1,_0x193f94[0x1*-0x587+0x1*-0x1247+-0x17d6*-0x1]=0x124e+-0x4*-0x4cd+-0x2582,_0x193f94[-0x2582+0x1*0x8e1+0x1caa]=-0x1ea5+0xb3b+0x136a,_0x193f94[0x1000+-0x10b5+-0x1*-0xbf]=-(-0x1*-0x178c+0x18a1+0xb*-0x461)/(_0x46ef51-_0x333943),_0x193f94[0x23d9+0x6a*-0x18+-0xcef*0x2]=-0x63*0x5+0x1857+0x3*-0x778,_0x193f94[0x3*-0x665+-0x6*-0x551+-0x1*0xcab]=-(_0x4e9c96+_0x25d1ec)/(_0x4e9c96-_0x25d1ec),_0x193f94[0x3*0x7e5+0x1985+-0x3127]=-(_0x75f7d7+_0x202206)/(_0x75f7d7-_0x202206),_0x193f94[-0x99e*-0x4+0x21e5*-0x1+-0x485]=-(_0x46ef51+_0x333943)/(_0x46ef51-_0x333943),_0x193f94[-0x1*-0x616+0x125*-0x10+-0x1*-0xc49]=0xaa3+-0xb16+0x4*0x1d,this;}['setFromAxi'+'sAngle'](_0x3cd8bb,_0x4a9094){_0x4a9094*=Y['DEG_TO_RAD'];const {x:_0x1c5f64,y:_0x10f627,z:_0x3fd1e9}=_0x3cd8bb,_0x37cd2b=Math['cos'](_0x4a9094),_0x14c76c=Math['sin'](_0x4a9094),_0x3019e1=0x334+0x1*0x4e+-0x381-_0x37cd2b,_0x1cfc3a=_0x3019e1*_0x1c5f64,_0xaa93de=_0x3019e1*_0x10f627,_0x5ee49d=this['data'];return _0x5ee49d[0x5c0*-0x3+0x18*0x11b+-0x948]=_0x1cfc3a*_0x1c5f64+_0x37cd2b,_0x5ee49d[0x2d*0xcf+0x295*0x2+-0x298c]=_0x1cfc3a*_0x10f627+_0x14c76c*_0x3fd1e9,_0x5ee49d[0x6*0x5fd+0x89d+-0x2c89]=_0x1cfc3a*_0x3fd1e9-_0x14c76c*_0x10f627,_0x5ee49d[-0x5*-0x5ab+-0x22*0xe+0x3c8*-0x7]=0x48a+-0x25c0+0xda*0x27,_0x5ee49d[0x116c*0x2+0x10e2+-0x33b6]=_0x1cfc3a*_0x10f627-_0x14c76c*_0x3fd1e9,_0x5ee49d[-0x1d*0x133+-0x10a2*-0x1+0x122a]=_0xaa93de*_0x10f627+_0x37cd2b,_0x5ee49d[-0x603+0x68a+-0x81]=_0xaa93de*_0x3fd1e9+_0x14c76c*_0x1c5f64,_0x5ee49d[-0x1*-0x12bc+-0x12d5*0x1+0x20]=0x53*-0x4c+-0x900+-0x21a4*-0x1,_0x5ee49d[-0x1*0x82c+-0x2228+0x2a5c]=_0x1cfc3a*_0x3fd1e9+_0x14c76c*_0x10f627,_0x5ee49d[0x3a9*-0x4+-0x1ac5+0x2972]=_0xaa93de*_0x3fd1e9-_0x1c5f64*_0x14c76c,_0x5ee49d[-0x3*-0x453+0x1fd8+-0x2cc7]=_0x3019e1*_0x3fd1e9*_0x3fd1e9+_0x37cd2b,_0x5ee49d[-0x11b2+0x1*0x1afa+-0x93d]=0x759+0x242e+-0xb*0x3f5,_0x5ee49d[-0x1*-0x1dff+-0x1*0x2235+0x442]=-0x1*0x10d5+-0xa3*-0x33+-0xfa4,_0x5ee49d[-0x1*0x22bb+0x164f*-0x1+0xb6b*0x5]=-0x18e8+-0xe91+0x2779,_0x5ee49d[-0x1f*0xdd+-0x1*-0x12c1+-0xc*-0xac]=-0xa7f*-0x2+0x44a+-0x2*0xca4,_0x5ee49d[0x1ee6+0x59*-0x6b+0x197*0x4]=-0x431*-0x1+-0x1*0x1ed3+0x1aa3*0x1,this;}['setTransla'+'te'](_0x3eefe1,_0x534750,_0x5dc557){const _0x4a471f=this['data'];return _0x4a471f[0x3*-0xbb1+-0x1005+0x3318]=-0xe5*0x26+-0x6*0x335+0x353d,_0x4a471f[-0x1d9a*0x1+-0x173*0xf+-0xd4*-0x3e]=0x29*-0x5f+-0x202*0xb+0x254d,_0x4a471f[0x19*-0x1+-0x1*-0x1358+0x1*-0x133d]=-0x3e+-0x1*0x1e73+0x1eb1,_0x4a471f[-0x8a1+0x3*0x737+0xd01*-0x1]=0x3*0xbb9+0x261*0xc+-0x3fb7*0x1,_0x4a471f[0x19b*-0xd+0xd*-0x97+0x1c8e]=-0x1*-0x119b+0x8fd+-0x1a98*0x1,_0x4a471f[-0x1*0x2207+0x2103+0x1*0x109]=0x26c3*0x1+0x31*-0x56+-0x164c,_0x4a471f[0x3*-0x749+-0xbd3+0x21b4]=0x10dc+0x1c3e+-0x2d1a,_0x4a471f[0x25*-0x58+-0x5bd*0x3+0x1df6]=-0x1471*0x1+-0x21e3+0x3654,_0x4a471f[-0x2*0xdbe+-0x1774+0x32f8]=0x26b0+-0x1407+-0x11*0x119,_0x4a471f[-0x3*0x2f+-0xb1*0x20+0x6*0x3c9]=-0xc0*-0x10+-0x140a+0x80a,_0x4a471f[-0x24da+0x9*0x2d4+0xb70]=0xb6*-0x1e+-0x116a+0x26bf,_0x4a471f[-0x1b01+0x195e+0xd7*0x2]=0x268+-0x17*0xc2+0x783*0x2,_0x4a471f[-0x368*0x9+-0x13a*0x3+0x2262]=_0x3eefe1,_0x4a471f[-0xdef+-0x192a+0x2726]=_0x534750,_0x4a471f[0x720+-0x3*-0xadd+0xb*-0x39b]=_0x5dc557,_0x4a471f[-0x2*-0xa54+-0x5*-0x58a+0x1019*-0x3]=-0xe31+0x1492+-0x660*0x1,this;}['setScale'](_0x8e9c29,_0x89e628,_0x375192){const _0x3a1a88=this['data'];return _0x3a1a88[0x1c77+0x2260+-0x3ed7]=_0x8e9c29,_0x3a1a88[0x1d5c+0x16ec+-0x3447]=-0xeb3+0x5*0x4ec+-0x9e9,_0x3a1a88[-0x405+-0x1d4c+0x2153*0x1]=-0x1e*-0xde+-0x2*-0x9f4+-0x2dec,_0x3a1a88[-0x100*0x23+0xb89+-0x259*-0xa]=0x26fb+-0x246f+-0x146*0x2,_0x3a1a88[0x1*-0x137d+0x223+-0x8af*-0x2]=-0x1d70+-0x83*-0x3d+-0x5*0x5b,_0x3a1a88[-0x6f3+-0xbe*0x5+-0xaae*-0x1]=_0x89e628,_0x3a1a88[0x3f*0x5f+0xdf8*0x1+-0x2553]=-0xa2f+-0x1*-0x25ba+-0xb*0x281,_0x3a1a88[0x1b66+0x42b+-0x1f8a]=0x13cf+-0x220a*-0x1+0x1*-0x35d9,_0x3a1a88[0x12e6+-0x1*0x1bb1+0x2f1*0x3]=0x2616+-0x533*0x1+-0x20e3,_0x3a1a88[0x1*-0x407+0x884+-0x474]=0xca4+-0x7d9*-0x1+-0x147d,_0x3a1a88[0x1*-0x1e49+-0x812+0x2665*0x1]=_0x375192,_0x3a1a88[0xb26*-0x3+-0x213+0x8e4*0x4]=-0x13e1+-0x2109+-0x209*-0x1a,_0x3a1a88[0x1*-0x22a8+-0x60a+-0xa*-0x413]=-0x8fe+0x155d*0x1+-0xc5f,_0x3a1a88[0x1064+0x2077+-0x30ce]=-0xb10*-0x1+0x7cd*0x1+-0x1*0x12dd,_0x3a1a88[0x2123*0x1+-0x10*-0x1a3+0x1*-0x3b45]=-0x1e8+0x44c*-0x7+0x1ffc,_0x3a1a88[0x95*-0x22+0x9*0x2bb+-0x4ba]=-0x480*-0x4+-0xb94+-0x66b,this;}['setViewpor'+'t'](_0x4feadd,_0x45b902,_0x539488,_0x3e8ff7){const _0x694a7b=this['data'];return _0x694a7b[0x2ac+0x6d*0x3b+-0x1*0x1bcb]=_0x539488*(-0x864*0x3+-0x1*0x412+0x18a*0x13+0.5),_0x694a7b[0x281+0x306*0xb+-0x23c2]=0xac5+-0x15ee*-0x1+-0x20b3,_0x694a7b[-0x1*0x2339+-0x1281+0x35bc]=0x1c*-0x125+-0xdb6+0x2dc2,_0x694a7b[0xf4c+0x7*-0xa4+-0x23*0x4f]=0x28f+0x9f1+-0xc80,_0x694a7b[-0x1*-0x451+0x19cf*0x1+-0x1e1c]=0x3*-0x1c1+-0x67d*-0x3+-0xe34*0x1,_0x694a7b[-0x25e0+-0x5c*-0x22+0x7*0x3ab]=_0x3e8ff7*(-0xaec+-0x25ac+0x4dc*0xa+0.5),_0x694a7b[0x843+0x22d1+-0x2b0e]=0x1*0x1b59+0x2*0xbe3+0x1*-0x331f,_0x694a7b[-0x2*0x964+-0x1215+0x24e4]=-0x1*-0x1d47+-0x32b*0x1+-0x1*0x1a1c,_0x694a7b[0x871*-0x1+-0x2*-0x492+-0x1*0xab]=-0x1*-0x1ab+-0x23e4+0x2239*0x1,_0x694a7b[0x1d56*-0x1+-0x20c+0x1f6b]=-0x21d9+0xccd+0x150c,_0x694a7b[0x1*-0x2270+0x1ab9+0x18d*0x5]=0x21c7+-0x1*-0x1+-0x21c8+0.5,_0x694a7b[-0x26c8+-0xf46+-0x1*-0x3619]=-0xd44+-0x184d*0x1+-0x3b*-0xa3,_0x694a7b[-0x60*-0x61+0x57c+-0x29d0]=_0x4feadd+_0x539488*(-0x11*0x1d1+0x208d+-0x1ac+0.5),_0x694a7b[0x100f*0x2+0xd4b+-0x2d5c]=_0x45b902+_0x3e8ff7*(-0x20ea+0xf3f*0x1+-0x1*-0x11ab+0.5),_0x694a7b[0x187d*-0x1+0x9*0x25+0x173e]=0x2031+-0x2095+0x64+0.5,_0x694a7b[-0x1*-0xb66+-0x3*0xbc3+0x17f2]=-0x1497+0xaf4+0x9a4,this;}['setReflect'+'ion'](_0x113c9f,_0x4a0b7c){const _0x5814ae=_0x113c9f['x'],_0x23f9a5=_0x113c9f['y'],_0x2a659b=_0x113c9f['z'],_0x3c907f=this['data'];return _0x3c907f[-0x22c*0x7+-0xc0f+0x1b43]=-0x11af+0x2*0x77b+-0x15d*-0x2-(0x1cb+0x14*0x59+-0x1*0x8bd)*_0x5814ae*_0x5814ae,_0x3c907f[-0x301*-0x8+-0x3*-0x48b+0x8*-0x4b5]=-(-0x209e+0x3b*0x1d+-0xe5*-0x1d)*_0x5814ae*_0x23f9a5,_0x3c907f[-0x2349+-0x1*-0x732+0x1*0x1c19]=-(0x2b1*0x4+0x4*0x89f+-0x2d3e*0x1)*_0x5814ae*_0x2a659b,_0x3c907f[0x230e+0x736+-0x2a41]=0x365*0x1+-0x5d1*0x1+0x26c,_0x3c907f[0x23b6*0x1+-0x9*0xf1+-0x1b39]=-(-0x1*-0xc99+-0x1246+0x5af)*_0x5814ae*_0x23f9a5,_0x3c907f[0x252e+0xd*0x2ea+-0x1*0x4b0b]=0x1090+0x29*0x71+-0x8*0x455-(-0x1b*-0x17+-0x17*0x77+-0x161*-0x6)*_0x23f9a5*_0x23f9a5,_0x3c907f[0x11*-0x18d+-0xb*0x26e+0x351d*0x1]=-(0x1*0x2ef+-0x261a+0x1*0x232d)*_0x23f9a5*_0x2a659b,_0x3c907f[0xa*0xfc+0x16*-0x1b4+0x1ba7]=-0x679*0x4+-0x26*0x1+0x1a0a,_0x3c907f[-0x2a8*0xb+-0x1a51*0x1+0x3791]=-(-0x1e57+-0x1*-0x1703+0x6*0x139)*_0x5814ae*_0x2a659b,_0x3c907f[-0x1*-0x1dc+0xaf6+-0x3*0x443]=-(0x269a+0x9a1+-0x3039)*_0x23f9a5*_0x2a659b,_0x3c907f[0x190*0x14+0x7d6+0x1386*-0x2]=0x5*-0x77f+-0xc1*-0x2+-0xa*-0x399-(-0xef9+-0x48b*0x7+0x2ec8)*_0x2a659b*_0x2a659b,_0x3c907f[-0xd*0x2e3+-0xaf5+0x3087]=-0x2011*0x1+0x212*-0x4+0x2859,_0x3c907f[-0x2563*-0x1+0x28e+-0x27e5]=-(-0x17e1*0x1+-0x9*-0x171+0xaea)*_0x5814ae*_0x4a0b7c,_0x3c907f[0xfd+-0xa1+-0x4f]=-(-0x5*0x21d+-0x256b+0x1*0x2ffe)*_0x23f9a5*_0x4a0b7c,_0x3c907f[0x460*0x6+-0x13*0x161+0x1]=-(0x3*-0xa0d+-0x366+0x218f*0x1)*_0x2a659b*_0x4a0b7c,_0x3c907f[-0xc*-0x2e1+0x1d21+-0x3f9e]=0x644+0x19ea+-0x202d,this;}['invert'](_0x41f316=this){const _0x58d9bc=_0x41f316['data'],_0x3d6012=_0x58d9bc[0x209*0x1+-0x1643+0x143a],_0x417400=_0x58d9bc[0x16*-0x193+0x1877+0xa2c],_0x3dd479=_0x58d9bc[0x7*0x4c1+-0x92a+-0x181b],_0x48829f=_0x58d9bc[-0x1070*0x2+0x38e*-0x9+0x1*0x40e1],_0x3a5acc=_0x58d9bc[-0x12*0x16f+0x2239+-0x867],_0x1e91f4=_0x58d9bc[0x19d0+0x1*0x1c31+0x2b3*-0x14],_0x2d2e2b=_0x58d9bc[0x1c13+-0xf5a+0x1*-0xcb3],_0x177967=_0x58d9bc[0x1a9b*0x1+-0x6*-0x217+0x6*-0x685],_0x5a53a1=_0x58d9bc[-0x483+-0x1ea1+-0x1196*-0x2],_0x127928=_0x58d9bc[0x21b5+0x259f+-0x474b*0x1],_0x14f88a=_0x58d9bc[0x184b+-0xd7a+0x1*-0xac7],_0x4ec085=_0x58d9bc[0x2055+-0x1*0x18f3+0x757*-0x1],_0x2daa63=_0x58d9bc[-0x15e1+-0x26b+0x1*0x1858],_0x802c96=_0x58d9bc[0x1d6f+-0x17ee+-0x574],_0x1bdad6=_0x58d9bc[-0x22bc+-0x244d+-0x4717*-0x1],_0x29252b=_0x58d9bc[0x212f+0x1*-0x511+-0x1c0f],_0xbd4a0b=_0x3d6012*_0x1e91f4-_0x417400*_0x3a5acc,_0x1ee70a=_0x3d6012*_0x2d2e2b-_0x3dd479*_0x3a5acc,_0x554800=_0x3d6012*_0x177967-_0x48829f*_0x3a5acc,_0x4996f7=_0x417400*_0x2d2e2b-_0x3dd479*_0x1e91f4,_0x380ec5=_0x417400*_0x177967-_0x48829f*_0x1e91f4,_0x3856cc=_0x3dd479*_0x177967-_0x48829f*_0x2d2e2b,_0x574426=_0x5a53a1*_0x802c96-_0x127928*_0x2daa63,_0x1e4028=_0x5a53a1*_0x1bdad6-_0x14f88a*_0x2daa63,_0x3caa3c=_0x5a53a1*_0x29252b-_0x4ec085*_0x2daa63,_0x3ea392=_0x127928*_0x1bdad6-_0x14f88a*_0x802c96,_0x4359ab=_0x127928*_0x29252b-_0x4ec085*_0x802c96,_0x251206=_0x14f88a*_0x29252b-_0x4ec085*_0x1bdad6,_0x369964=_0xbd4a0b*_0x251206-_0x1ee70a*_0x4359ab+_0x554800*_0x3ea392+_0x4996f7*_0x3caa3c-_0x380ec5*_0x1e4028+_0x3856cc*_0x574426;if(_0x369964===-0x2*-0x74+-0x1b2+0xca)this['setIdentit'+'y']();else{const _0x40235a=(0x1cd4+-0x1df0*-0x1+0x1*-0x3ac3)/_0x369964,_0x954806=this['data'];_0x954806[0x1*-0x2439+-0x1473+0x38ac]=(_0x1e91f4*_0x251206-_0x2d2e2b*_0x4359ab+_0x177967*_0x3ea392)*_0x40235a,_0x954806[-0xbc4+-0x17ba+-0x1*-0x237f]=(-_0x417400*_0x251206+_0x3dd479*_0x4359ab-_0x48829f*_0x3ea392)*_0x40235a,_0x954806[-0x6c5*-0x1+0x1af1+0x1*-0x21b4]=(_0x802c96*_0x3856cc-_0x1bdad6*_0x380ec5+_0x29252b*_0x4996f7)*_0x40235a,_0x954806[-0x10d5+0xb3c*0x2+-0x5a0]=(-_0x127928*_0x3856cc+_0x14f88a*_0x380ec5-_0x4ec085*_0x4996f7)*_0x40235a,_0x954806[-0x1248+0x167d+-0x1d*0x25]=(-_0x3a5acc*_0x251206+_0x2d2e2b*_0x3caa3c-_0x177967*_0x1e4028)*_0x40235a,_0x954806[-0x1c0f+-0x1211*-0x1+-0xe9*-0xb]=(_0x3d6012*_0x251206-_0x3dd479*_0x3caa3c+_0x48829f*_0x1e4028)*_0x40235a,_0x954806[0x189f+-0x1*-0x234c+-0x3be5]=(-_0x2daa63*_0x3856cc+_0x1bdad6*_0x554800-_0x29252b*_0x1ee70a)*_0x40235a,_0x954806[-0x1*0x45a+0x3*0x121+0xfe]=(_0x5a53a1*_0x3856cc-_0x14f88a*_0x554800+_0x4ec085*_0x1ee70a)*_0x40235a,_0x954806[-0x20b*0xb+-0x216e+-0x2b*-0x14d]=(_0x3a5acc*_0x4359ab-_0x1e91f4*_0x3caa3c+_0x177967*_0x574426)*_0x40235a,_0x954806[0x6*0x583+0x9*0x5+0x2136*-0x1]=(-_0x3d6012*_0x4359ab+_0x417400*_0x3caa3c-_0x48829f*_0x574426)*_0x40235a,_0x954806[0x237*0xb+-0x17b4+-0x9f]=(_0x2daa63*_0x380ec5-_0x802c96*_0x554800+_0x29252b*_0xbd4a0b)*_0x40235a,_0x954806[-0x1802*-0x1+-0x424+-0xcb*0x19]=(-_0x5a53a1*_0x380ec5+_0x127928*_0x554800-_0x4ec085*_0xbd4a0b)*_0x40235a,_0x954806[-0x91d*-0x2+0x2*0xc5+-0x13b8]=(-_0x3a5acc*_0x3ea392+_0x1e91f4*_0x1e4028-_0x2d2e2b*_0x574426)*_0x40235a,_0x954806[-0x1497+-0xfd*0x17+0x1*0x2b5f]=(_0x3d6012*_0x3ea392-_0x417400*_0x1e4028+_0x3dd479*_0x574426)*_0x40235a,_0x954806[0x2363*0x1+-0x20*0x53+-0x1*0x18f5]=(-_0x2daa63*_0x4996f7+_0x802c96*_0x1ee70a-_0x1bdad6*_0xbd4a0b)*_0x40235a,_0x954806[0x366+0x152d+-0x1884]=(_0x5a53a1*_0x4996f7-_0x127928*_0x1ee70a+_0x14f88a*_0xbd4a0b)*_0x40235a;}return this;}['set'](_0x5e2ff8){const _0x28b91c=this['data'];return _0x28b91c[-0x1081+0x187b*0x1+-0x2*0x3fd]=_0x5e2ff8[0x1*0x1ca+-0x5f*-0x41+-0x19e9],_0x28b91c[0x1564+0x1*-0x407+-0x115c]=_0x5e2ff8[0x2079+-0xf*-0x231+-0x4157],_0x28b91c[-0x670+-0x25ca+0x2c3c]=_0x5e2ff8[-0x39a+-0x98a+-0x6*-0x231],_0x28b91c[0x633*-0x1+0x55b+0xdb]=_0x5e2ff8[0x397*-0x2+0x1*0x423+0x30e],_0x28b91c[-0x1835*0x1+-0x1da7*0x1+-0xd78*-0x4]=_0x5e2ff8[-0x17f2+0xc47+-0x3*-0x3e5],_0x28b91c[0x249b*0x1+0x175b+0x9*-0x6a9]=_0x5e2ff8[-0xb5+0x1d30+-0xe3b*0x2],_0x28b91c[-0x1ee+0x10e5+-0xef1]=_0x5e2ff8[0x24d6+0x8a3+-0x5*0x917],_0x28b91c[-0x250*-0xe+-0x2115+0x5e*0x2]=_0x5e2ff8[0x1*-0x24bb+-0xdf1+0x1*0x32b3],_0x28b91c[0x133*-0x13+0x2*-0x133e+0x146f*0x3]=_0x5e2ff8[-0x1349*0x2+0x1*0x45d+0x1*0x223d],_0x28b91c[-0x22fa+-0xd88+0x308b]=_0x5e2ff8[0x23e7+0x1a2f+-0x3e0d],_0x28b91c[-0x2298+0x1d3*-0x2+0x2648]=_0x5e2ff8[-0x6b2+-0x1*-0x63d+0x7f],_0x28b91c[0x1f9+0x12b*-0x17+-0x1eb*-0xd]=_0x5e2ff8[0x73*-0x2e+0xb50+0x965],_0x28b91c[-0x18e*-0x10+-0x7*-0x2d2+-0x2c92]=_0x5e2ff8[0x2559*0x1+0x1*0xa41+-0x2f8e],_0x28b91c[0x11d8*-0x1+-0xd36+0x1f1b]=_0x5e2ff8[0x373*-0x2+-0x2*0xfd8+0x44b*0x9],_0x28b91c[0x3e*-0x34+-0x3d*-0x2d+0x11*0x1d]=_0x5e2ff8[-0x134d+0xd3*-0x18+0x2723],_0x28b91c[0x1c7d+-0xca*0xb+-0x13c0]=_0x5e2ff8[0x1f35+0x1*0xfc7+-0x29*0x125],this;}['setIdentit'+'y'](){const _0x309e5a=this['data'];return _0x309e5a[0x3*0xc1a+-0x882+-0xde6*0x2]=0x23b+-0x2233+-0x665*-0x5,_0x309e5a[0x15*-0x2a+0x1d47+0x13*-0x15c]=-0x7*0x35e+-0xe20+0x25b2,_0x309e5a[-0x1046+0x2e*-0x5+0x6*0x2dd]=0x3e0*-0x1+0x1*0x1097+-0xcb7,_0x309e5a[0xad6+-0x9e9+0xd*-0x12]=-0x52*-0x7+0x97c+0x1*-0xbba,_0x309e5a[-0x1d*-0x74+0x8*-0x1d+-0x5c*0x22]=-0x2*-0x10fc+-0x116f+-0x3*0x583,_0x309e5a[-0x2400+-0x76a+0x1*0x2b6f]=-0x2581+-0x1c4a+0x41cc,_0x309e5a[0x1375+0x8c*0xd+-0x1a8b]=0x1adb+0x468+-0x1f43,_0x309e5a[0x27*0xc+-0x53*-0x43+-0x1786]=-0xeee+0x19*-0x20+-0x120e*-0x1,_0x309e5a[0x1*-0x26a4+0x1c83+0xa29]=0x44*0x20+0x1e86+-0x12*0x22b,_0x309e5a[-0xd12+0x9*-0x15b+0x194e]=-0x1209+-0x16e8+-0x1*-0x28f1,_0x309e5a[-0x1*0x240c+-0x15a*-0x1+0x22bc]=-0x119b*0x1+-0xda7+0x1f43,_0x309e5a[0x13d+-0x8*-0x355+-0x17*0x136]=0x2534+-0x31d*0x8+0x313*-0x4,_0x309e5a[-0x2*0x218+-0xe37+0x1273]=-0x5d1*-0x1+-0x4*-0xf1+-0x995,_0x309e5a[0x2ff*0x8+-0x1488+-0x363]=0x172f+-0x173*0x15+0x740*0x1,_0x309e5a[-0x618+-0x502*0x5+0x1f30*0x1]=0x1*0x1897+0x13*0x35+-0x1c86,_0x309e5a[0x151b*-0x1+-0x25d7*0x1+0x3*0x13ab]=-0x8*-0x3e6+0x1c42+-0x3b71*0x1,this;}['setTRS'](_0x14484d,_0x39b4a1,_0x45bf75){const _0x4420e7=_0x39b4a1['x'],_0x5a2301=_0x39b4a1['y'],_0xca7292=_0x39b4a1['z'],_0x19087c=_0x39b4a1['w'],_0x38e27d=_0x45bf75['x'],_0x4f09a0=_0x45bf75['y'],_0x41eecc=_0x45bf75['z'],_0x8afdd5=_0x4420e7+_0x4420e7,_0x528ca9=_0x5a2301+_0x5a2301,_0x2c048e=_0xca7292+_0xca7292,_0x1d6bc7=_0x4420e7*_0x8afdd5,_0x3ad1ca=_0x4420e7*_0x528ca9,_0x400853=_0x4420e7*_0x2c048e,_0x322e78=_0x5a2301*_0x528ca9,_0x4d0738=_0x5a2301*_0x2c048e,_0xd07fcb=_0xca7292*_0x2c048e,_0x19a0b0=_0x19087c*_0x8afdd5,_0x407bbe=_0x19087c*_0x528ca9,_0x5493ff=_0x19087c*_0x2c048e,_0x31482f=this['data'];return _0x31482f[-0xac3+-0x19a1+-0x89*-0x44]=(-0x14f9+-0x6*0x128+0x18d*0x12-(_0x322e78+_0xd07fcb))*_0x38e27d,_0x31482f[-0xc6a*-0x1+0x4*-0x335+0x6b]=(_0x3ad1ca+_0x5493ff)*_0x38e27d,_0x31482f[-0x17a1+-0xe5*0x2b+0x2*0x1f0d]=(_0x400853-_0x407bbe)*_0x38e27d,_0x31482f[-0x1b8c+0x84f+0x1340]=0x1*0x29f+0xda6+-0x31*0x55,_0x31482f[0x4e*0x5b+0x49*0x60+-0x3716]=(_0x3ad1ca-_0x5493ff)*_0x4f09a0,_0x31482f[0x1*-0x1c1+0xf3*0x1b+-0xc5*0x1f]=(0x4*0x127+0x1*0x1e8a+-0x2325*0x1-(_0x1d6bc7+_0xd07fcb))*_0x4f09a0,_0x31482f[-0x2bb*0x4+0x2*-0x1044+0x15*0x212]=(_0x4d0738+_0x19a0b0)*_0x4f09a0,_0x31482f[-0xa3*0x31+-0x26*-0x88+-0x9*-0x13a]=-0x1565+0x1161+0x404,_0x31482f[-0x1b24+-0xcd+-0x3*-0x953]=(_0x400853+_0x407bbe)*_0x41eecc,_0x31482f[-0x6*0x96+-0xe3b*0x1+0x11c8]=(_0x4d0738-_0x19a0b0)*_0x41eecc,_0x31482f[0x1*-0x1519+-0xf2b*0x1+0x1*0x244e]=(0xae0+0x11f5+-0x1cd4-(_0x1d6bc7+_0x322e78))*_0x41eecc,_0x31482f[0x3b*0x31+-0xde3*-0x2+-0x87*0x4a]=0x1030+0x1793+-0x27c3,_0x31482f[0xe50+0x1*0x1c34+-0x2a78]=_0x14484d['x'],_0x31482f[0x15a8+-0xd*0x21d+0x2ef*0x2]=_0x14484d['y'],_0x31482f[0x1e76+0x1839*-0x1+0x1*-0x62f]=_0x14484d['z'],_0x31482f[-0xc71+-0x1e3d+0x2abd]=0x126*0x5+0x2704+-0x9*0x4f9,this;}['transpose'](_0x4bc018=this){const _0x2b2cae=_0x4bc018['data'],_0x10664e=this['data'];if(_0x2b2cae===_0x10664e){let _0x3730f1;_0x3730f1=_0x2b2cae[-0x10f4+0x482*-0x4+0x22fd],_0x10664e[-0xa8c+-0x2114+-0x99*-0x49]=_0x2b2cae[0x1*0x715+-0x2b9*-0x1+-0x9ca],_0x10664e[-0x4b7*-0x8+-0x277*-0x1+-0x282b*0x1]=_0x3730f1,_0x3730f1=_0x2b2cae[0x6d3*0x3+0x1a1*-0x4+-0xdf3],_0x10664e[-0x43a+-0x114b+0x1587*0x1]=_0x2b2cae[0x174*-0x16+-0x11*0xfb+0x30ab],_0x10664e[-0xeda+0xa0f+0x41*0x13]=_0x3730f1,_0x3730f1=_0x2b2cae[-0x25ce+0x28*0x7c+0x1271],_0x10664e[0x3ca+0xd8e*0x1+0x1*-0x1155]=_0x2b2cae[0x5*0x7a7+-0xd0a+-0x192d],_0x10664e[0x267c+-0x1faf*-0x1+-0x461f]=_0x3730f1,_0x3730f1=_0x2b2cae[-0x1e5*0xa+0x24b*-0xa+0x29e6],_0x10664e[-0x1567+0x31f*-0x2+-0x3*-0x939]=_0x2b2cae[-0x1faf+-0x2*-0x4f4+0x15d0],_0x10664e[-0x24cc+0x20+-0x1*-0x24b5]=_0x3730f1,_0x3730f1=_0x2b2cae[-0x101*-0x23+-0x1049+0x4f*-0x3d],_0x10664e[0xe5*0x1+-0x49d*-0x5+0x17ef*-0x1]=_0x2b2cae[-0x147c+-0xdba+0x2243],_0x10664e[-0x147*0x1a+-0x1*-0x1bfe+0x545]=_0x3730f1,_0x3730f1=_0x2b2cae[0x1876+-0x1a*-0x73+-0x1*0x2419],_0x10664e[-0x160+-0x4*-0x60d+0x13*-0x133]=_0x2b2cae[0x1223+0x6*-0x4c+-0x104d],_0x10664e[0x235c+-0xa8c+-0xc61*0x2]=_0x3730f1;}else _0x10664e[-0x2f*0x19+0x3*-0x257+0xb9c]=_0x2b2cae[-0x4*0x3ae+0x1a4e+0xb96*-0x1],_0x10664e[0x2*0x8ef+-0x8fd*-0x2+-0x23d7]=_0x2b2cae[-0x18aa+0x867*0x3+0x9*-0xf],_0x10664e[-0x218e+-0x2*-0x7dd+0x11d6]=_0x2b2cae[0x2501*-0x1+0x270f+-0x206],_0x10664e[-0x1*0x18f9+-0x2*0x9bb+0x2c72]=_0x2b2cae[-0x184d+-0x1a03+0x325c],_0x10664e[0xe1b+0x25db+0x6d*-0x7a]=_0x2b2cae[-0x10df+-0x26e2+0x12*0x319],_0x10664e[0x1c53+0x2310+-0x3f5e]=_0x2b2cae[0x95*-0x17+0x56b+-0x1*-0x7fd],_0x10664e[0x49b*0x8+-0x130b+0x3*-0x5ed]=_0x2b2cae[0x6ee*0x5+0x77*-0x4+-0x20c1],_0x10664e[0x1b4c+0xfb8+-0x2afd]=_0x2b2cae[0x8c*-0x5+-0x1af*0xe+-0xad*-0x27],_0x10664e[0xeae*-0x1+0xb99+0x31d]=_0x2b2cae[-0x1*0x905+-0x1b4e+0x2455],_0x10664e[-0x548+0xa84+-0x533]=_0x2b2cae[0x1*-0x19ba+0x6bb*-0x5+-0x89*-0x6f],_0x10664e[-0x5*0x2b1+-0xf41+0x1cc0]=_0x2b2cae[0x48*-0x48+0x1*-0x1675+0x161*0x1f],_0x10664e[-0x5d5+-0x1917+0x1*0x1ef7]=_0x2b2cae[0x22c*-0x8+0xbc*-0x2+-0x29*-0x76],_0x10664e[0x81f+0x24ec+0x2cff*-0x1]=_0x2b2cae[-0x5*0x4cd+-0x11b3*0x1+-0x29b7*-0x1],_0x10664e[0x2170+0x2ae*-0x4+-0x16ab]=_0x2b2cae[0x59a+-0x2575+0x247*0xe],_0x10664e[-0x140c+0x164f+-0x235]=_0x2b2cae[0x23d*-0x1+0x1c4d+-0x1*0x1a05],_0x10664e[0x15*-0x111+-0xc43+0x1*0x22b7]=_0x2b2cae[0x1048+-0x10eb+0xb2];return this;}['getTransla'+'tion'](_0x1e136b=new D()){return _0x1e136b['set'](this['data'][0x25b6+0x21b2*-0x1+-0x3f8],this['data'][0x2617+0x1*-0x70f+-0x1efb],this['data'][-0x1506+0x1*-0x957+0x1*0x1e6b]);}['getX'](_0x65adb4=new D()){return _0x65adb4['set'](this['data'][0x31*-0x37+-0x1736+0x1*0x21bd],this['data'][0x3dd*-0x1+0x1*0x13f+-0x1*-0x29f],this['data'][0x164e+0x6*0x25f+-0xa*0x3a7]);}['getY'](_0x400dbf=new D()){return _0x400dbf['set'](this['data'][-0x1cc9+0x634+-0x5*-0x485],this['data'][-0x2*0x815+-0x2*-0x134f+0x1*-0x166f],this['data'][-0x2*-0x18b+0x26f+-0x57f*0x1]);}['getZ'](_0x3c62de=new D()){return _0x3c62de['set'](this['data'][-0x1da3+0x1*0x1bbb+0x1f0],this['data'][0x441+0x296*0x2+0x964*-0x1],this['data'][0x4*-0x6b9+0x2ae*-0x9+0x330c]);}['getScale'](_0x2e070e=new D()){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),_0x2e070e['set'](Os['length'](),Js['length'](),ei['length']()),_0x2e070e;}get['scaleSign'](){return this['getX'](Os),this['getY'](Js),this['getZ'](ei),Os['cross'](Os,Js),Os['dot'](ei)<-0x25*0x32+-0x2b3*-0xd+0x1bdd*-0x1?-(0x1*0x11e1+-0x1c89+0xaa9):-0xc7*0x21+0x1*0x1261+0x747;}['setFromEul'+'erAngles'](_0x18598b,_0x1ac1fe,_0x29b98b){_0x18598b*=Y['DEG_TO_RAD'],_0x1ac1fe*=Y['DEG_TO_RAD'],_0x29b98b*=Y['DEG_TO_RAD'];const _0x9a1429=Math['sin'](-_0x18598b),_0x10867c=Math['cos'](-_0x18598b),_0x1b8fb3=Math['sin'](-_0x1ac1fe),_0x19b439=Math['cos'](-_0x1ac1fe),_0x20b280=Math['sin'](-_0x29b98b),_0x1ddf82=Math['cos'](-_0x29b98b),_0x10cbfb=this['data'];return _0x10cbfb[-0xb*0x25c+-0x1cff+0x36f3]=_0x19b439*_0x1ddf82,_0x10cbfb[0xc2c*0x1+-0x211*0xc+0xca1]=-_0x19b439*_0x20b280,_0x10cbfb[-0x2072*-0x1+0x8*0x375+-0x3c18]=_0x1b8fb3,_0x10cbfb[-0x85f*0x4+-0x10c3+0x3242]=0x24e0+-0x17ad+-0xd33,_0x10cbfb[0x1*0x73+0x228d+0x8bf*-0x4]=_0x10867c*_0x20b280+_0x1ddf82*_0x9a1429*_0x1b8fb3,_0x10cbfb[0x7c1+0xfb*0x13+-0x1a5d]=_0x10867c*_0x1ddf82-_0x9a1429*_0x1b8fb3*_0x20b280,_0x10cbfb[0x3*-0x45d+-0xf*-0x11+0xc1e]=-_0x19b439*_0x9a1429,_0x10cbfb[-0x1107+0x125+-0x1*-0xfe9]=-0x6c8+-0x617*0x5+0x253b,_0x10cbfb[-0x1*0x511+-0x24a+-0x3d*-0x1f]=_0x9a1429*_0x20b280-_0x10867c*_0x1ddf82*_0x1b8fb3,_0x10cbfb[0x3*-0x608+-0x407*0x1+0x1628]=_0x1ddf82*_0x9a1429+_0x10867c*_0x1b8fb3*_0x20b280,_0x10cbfb[-0x1c33+-0x174e+0x338b]=_0x10867c*_0x19b439,_0x10cbfb[0x2ab*0xd+-0x38*-0x30+-0x36*0xd6]=0x1f76+-0x1*0x235e+0x1*0x3e8,_0x10cbfb[0x1db8+0x26a7+0x1*-0x4453]=0x149f+0x1a5*-0xa+-0x42d*0x1,_0x10cbfb[-0x17+-0x8c8+0x476*0x2]=0x9ce+0x1d1b*0x1+-0x26e9,_0x10cbfb[0x2175+-0x2479*0x1+0x312]=0x1f64*0x1+0xb93+-0x2af7,_0x10cbfb[-0x1aed*-0x1+-0x1d7*0x3+-0x1559]=-0xc*0x279+0x5*0x21b+0x56*0x39,this;}['getEulerAn'+'gles'](_0x2d0ad5=new D()){this['getScale'](Hl);const _0x47a0f9=Hl['x'],_0x2f9692=Hl['y'],_0x252980=Hl['z'];if(_0x47a0f9===0x1*0x1855+0x3*0xccf+-0x1d*0x22a||_0x2f9692===0x17f8+-0x2290+0xa98||_0x252980===-0x1e04+-0x19cf+-0x37d3*-0x1)return _0x2d0ad5['set'](0x8ad*0x2+0x26aa+0x4ab*-0xc,0x61*0x14+0xd58+-0x14ec,0x1a93+-0x213d*0x1+0x355*0x2);const _0x5efa03=this['data'],_0x3dc9c8=Math['asin'](-_0x5efa03[-0x1661+-0x9d1+0x24*0xe5]/_0x47a0f9),_0x132079=Math['PI']*(0x2383+-0x17d1+-0x1*0xbb2+0.5);let _0x379222,_0x38f56a;return _0x3dc9c8<_0x132079?_0x3dc9c8>-_0x132079?(_0x379222=Math['atan2'](_0x5efa03[0x12cc+-0x1678+0x3b2]/_0x2f9692,_0x5efa03[0xa2*0x3+0x9d7+-0xbb3]/_0x252980),_0x38f56a=Math['atan2'](_0x5efa03[-0x1690+-0x76+-0x1707*-0x1]/_0x47a0f9,_0x5efa03[0x151+0x2075+-0x2*0x10e3]/_0x47a0f9)):(_0x38f56a=0x1e2e+-0x1*-0x389+-0x21b7,_0x379222=-Math['atan2'](_0x5efa03[0x1*0xe78+-0x1*-0x152b+-0x1*0x239f]/_0x2f9692,_0x5efa03[0x133+0x1*0x45d+-0x58b]/_0x2f9692)):(_0x38f56a=0x79d+0x910+-0x58f*0x3,_0x379222=Math['atan2'](_0x5efa03[-0x5a8*-0x6+0x221d+0x1*-0x4409]/_0x2f9692,_0x5efa03[0x502*-0x3+0x1*-0x821+-0xb96*-0x2]/_0x2f9692)),_0x2d0ad5['set'](_0x379222,_0x3dc9c8,_0x38f56a)['mulScalar'](Y['RAD_TO_DEG']);}['toString'](){return'['+this['data']['join'](',\x20')+']';}};h(Qr,'IDENTITY',Object['freeze'](new Qr())),h(Qr,'ZERO',Object['freeze'](new Qr()['set']([0xf85*0x1+0x176e+-0x2ff*0xd,0x7d*-0x26+0x2416+-0x8c4*0x2,0x1155+-0xfdd+-0x178,-0x1126+0xb11+0x615*0x1,0x2563+0x1*-0x45+0x1*-0x251e,-0xe8*0x8+-0xc9*0x15+0x17bd,-0x1f*0x8+0x1603+-0x150b,-0x4c6*-0x2+0x26a9+-0x6e3*0x7,-0x26ad*-0x1+0x1b9*0x5+-0x2f4a,-0xb0a+0x1297+0x78d*-0x1,0x1*-0x481+0x8*-0x476+-0x1*-0x2831,0x513+-0x1*0x2479+0x1f66,0x1*-0x26c3+0x1f7c+0x747,0xa89+0xc87*-0x2+0xe85,-0xf77+0x173b+-0x7c4,0x6*0x1f9+0xedf*0x1+-0x1*0x1ab5])));let te=Qr;const Sn=class Sn{constructor(_0x5ba28f=0x1*-0x258b+-0x142+-0x12d*-0x21,_0x5abc56=0xb4*0x34+0x254c+-0x49dc,_0x4a0511=-0x1c*-0x76+-0x6bc+-0x62c,_0x4eda2a=-0x126*-0x16+0x1*-0x2073+0x730){h(this,'x'),h(this,'y'),h(this,'z'),h(this,'w'),_0x5ba28f['length']===0x2250+0x11*-0xd+0x9*-0x3b7?(this['x']=_0x5ba28f[0xb63+-0x10fc*-0x1+-0x1c5f],this['y']=_0x5ba28f[0x229f+0x1*-0xf19+-0x1385],this['z']=_0x5ba28f[-0x175*-0x2+-0x24f6+0x220e],this['w']=_0x5ba28f[0x1cb3+0x1643*-0x1+-0x66d]):(this['x']=_0x5ba28f,this['y']=_0x5abc56,this['z']=_0x4a0511,this['w']=_0x4eda2a);}['clone'](){const _0x340ceb=this['constructo'+'r'];return new _0x340ceb(this['x'],this['y'],this['z'],this['w']);}['conjugate'](_0x5b032a=this){return this['x']=_0x5b032a['x']*-(-0x69a*-0x1+0x107b+0x1a6*-0xe),this['y']=_0x5b032a['y']*-(0x1d7d*-0x1+0x1d6a+0x14),this['z']=_0x5b032a['z']*-(0x8*0x345+0xd04+-0x272b),this['w']=_0x5b032a['w'],this;}['copy'](_0x1e61fa){return this['x']=_0x1e61fa['x'],this['y']=_0x1e61fa['y'],this['z']=_0x1e61fa['z'],this['w']=_0x1e61fa['w'],this;}['dot'](_0x4ec413){return this['x']*_0x4ec413['x']+this['y']*_0x4ec413['y']+this['z']*_0x4ec413['z']+this['w']*_0x4ec413['w'];}['equals'](_0x3c6181){return this['x']===_0x3c6181['x']&&this['y']===_0x3c6181['y']&&this['z']===_0x3c6181['z']&&this['w']===_0x3c6181['w'];}['equalsAppr'+'ox'](_0x11df2f,_0x340c9f=0x2391*-0x1+-0x325*-0x1+0x206c+0.000001){return Math['abs'](this['x']-_0x11df2f['x'])<_0x340c9f&&Math['abs'](this['y']-_0x11df2f['y'])<_0x340c9f&&Math['abs'](this['z']-_0x11df2f['z'])<_0x340c9f&&Math['abs'](this['w']-_0x11df2f['w'])<_0x340c9f;}['getAxisAng'+'le'](_0x44757f){let _0x4b97a4=Math['acos'](this['w'])*(0x26c5+0xc4d+-0x3310);const _0xeb51a6=Math['sin'](_0x4b97a4/(0x3a*0x5e+0x205e+0x11*-0x328));return _0xeb51a6!==-0x1c9+0xf47*0x1+0xb*-0x13a?(_0x44757f['x']=this['x']/_0xeb51a6,_0x44757f['y']=this['y']/_0xeb51a6,_0x44757f['z']=this['z']/_0xeb51a6,(_0x44757f['x']<0x2012+0x1798+-0x37aa||_0x44757f['y']<-0x9d5+0x1*-0x10ec+-0x1ac1*-0x1||_0x44757f['z']<0x54a*0x2+0x11f+0x5*-0x257)&&(_0x44757f['x']*=-(0x20f8+-0x1660+-0xa97),_0x44757f['y']*=-(-0xa*0x170+-0xe2d+0x1c8e),_0x44757f['z']*=-(0x1*-0x16be+-0x2ac+-0x9*-0x2d3),_0x4b97a4*=-(-0x11c0+-0x1*0x905+0x1ac6))):(_0x44757f['x']=-0x108+0x1*0x1181+-0x1078,_0x44757f['y']=-0xff*0x27+-0x77d+0x1*0x2e56,_0x44757f['z']=0x2*-0xcb0+0xeaf+0xab1),_0x4b97a4*Y['RAD_TO_DEG'];}['getEulerAn'+'gles'](_0xecacd5=new D()){let _0xb86e9,_0x491edb,_0x57091b;const _0x10f6d2=this['x'],_0x170eda=this['y'],_0xcbaea1=this['z'],_0x8508ba=this['w'],_0x49eea3=(0xc95*0x1+0x226a+-0x2efd)*(_0x8508ba*_0x170eda-_0x10f6d2*_0xcbaea1);return _0x49eea3<=-(0x2b6+-0x2b3*-0xb+0x18b*-0x15+0.99999)?(_0xb86e9=(0xf27+0x25b5+-0x34da)*Math['atan2'](_0x10f6d2,_0x8508ba),_0x491edb=-Math['PI']/(-0x1fd4+0xa7*-0x25+0x1*0x37f9),_0x57091b=0x1a*0x42+-0x122f+0xb7b*0x1):_0x49eea3>=-0x1*-0x251f+0x4d7+-0x29f6+0.99999?(_0xb86e9=(0x1360+0x341*0x1+-0x169f)*Math['atan2'](_0x10f6d2,_0x8508ba),_0x491edb=Math['PI']/(0xec8+0x1a05+0x28cb*-0x1),_0x57091b=0x641*-0x1+-0x1*-0xd79+-0x738):(_0xb86e9=Math['atan2']((0x214b+0x84a*0x2+-0x31dd*0x1)*(_0x8508ba*_0x10f6d2+_0x170eda*_0xcbaea1),-0x354*-0x2+0x1612+0x9*-0x331-(-0xa54*0x1+-0x5*0x655+-0x29ff*-0x1)*(_0x10f6d2*_0x10f6d2+_0x170eda*_0x170eda)),_0x491edb=Math['asin'](_0x49eea3),_0x57091b=Math['atan2']((0x6f*-0x57+0x22*0xa+0x2467)*(_0x8508ba*_0xcbaea1+_0x10f6d2*_0x170eda),-0x22f7+-0x217a+0x4472-(0x3*-0xcfb+-0x83*0x3+0x287c)*(_0x170eda*_0x170eda+_0xcbaea1*_0xcbaea1))),_0xecacd5['set'](_0xb86e9,_0x491edb,_0x57091b)['mulScalar'](Y['RAD_TO_DEG']);}['invert'](_0x151844=this){return this['conjugate'](_0x151844)['normalize']();}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['lengthSq'](){return this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w'];}['lerp'](_0x4c47b5,_0x43e6c9,_0x5a9706){const _0x2e0dd6=(0x227c+0x1*0xfe9+-0x3264-_0x5a9706)*(_0x4c47b5['dot'](_0x43e6c9)<-0x106c+-0xaab+0x1b17?-(0x1*-0x223d+-0x137a+0x35b8):-0x1e71+-0xdb2+-0x8d4*-0x5);return this['x']=_0x4c47b5['x']*_0x2e0dd6+_0x43e6c9['x']*_0x5a9706,this['y']=_0x4c47b5['y']*_0x2e0dd6+_0x43e6c9['y']*_0x5a9706,this['z']=_0x4c47b5['z']*_0x2e0dd6+_0x43e6c9['z']*_0x5a9706,this['w']=_0x4c47b5['w']*_0x2e0dd6+_0x43e6c9['w']*_0x5a9706,this['normalize']();}['mul'](_0x195fb3){const _0x4dbbcd=this['x'],_0x11d79d=this['y'],_0x295016=this['z'],_0x41b6f4=this['w'],_0x2ab0d2=_0x195fb3['x'],_0x2d8f4c=_0x195fb3['y'],_0x14ae29=_0x195fb3['z'],_0x43a7b4=_0x195fb3['w'];return this['x']=_0x41b6f4*_0x2ab0d2+_0x4dbbcd*_0x43a7b4+_0x11d79d*_0x14ae29-_0x295016*_0x2d8f4c,this['y']=_0x41b6f4*_0x2d8f4c+_0x11d79d*_0x43a7b4+_0x295016*_0x2ab0d2-_0x4dbbcd*_0x14ae29,this['z']=_0x41b6f4*_0x14ae29+_0x295016*_0x43a7b4+_0x4dbbcd*_0x2d8f4c-_0x11d79d*_0x2ab0d2,this['w']=_0x41b6f4*_0x43a7b4-_0x4dbbcd*_0x2ab0d2-_0x11d79d*_0x2d8f4c-_0x295016*_0x14ae29,this;}['mulScalar'](_0xa9c1e5,_0x376821=this){return this['x']=_0x376821['x']*_0xa9c1e5,this['y']=_0x376821['y']*_0xa9c1e5,this['z']=_0x376821['z']*_0xa9c1e5,this['w']=_0x376821['w']*_0xa9c1e5,this;}['mul2'](_0xd310c,_0x5c5d69){const _0x33a5c2=_0xd310c['x'],_0x1a05a4=_0xd310c['y'],_0x2e24f2=_0xd310c['z'],_0x1b2b28=_0xd310c['w'],_0x22d937=_0x5c5d69['x'],_0x6afce6=_0x5c5d69['y'],_0x593820=_0x5c5d69['z'],_0x226270=_0x5c5d69['w'];return this['x']=_0x1b2b28*_0x22d937+_0x33a5c2*_0x226270+_0x1a05a4*_0x593820-_0x2e24f2*_0x6afce6,this['y']=_0x1b2b28*_0x6afce6+_0x1a05a4*_0x226270+_0x2e24f2*_0x22d937-_0x33a5c2*_0x593820,this['z']=_0x1b2b28*_0x593820+_0x2e24f2*_0x226270+_0x33a5c2*_0x6afce6-_0x1a05a4*_0x22d937,this['w']=_0x1b2b28*_0x226270-_0x33a5c2*_0x22d937-_0x1a05a4*_0x6afce6-_0x2e24f2*_0x593820,this;}['normalize'](_0x5b38f0=this){let _0x316fa9=_0x5b38f0['length']();return _0x316fa9===-0x1351+0x8*0x53+0x1*0x10b9?(this['x']=this['y']=this['z']=-0x3f2+0x20c2+-0x39a*0x8,this['w']=-0x1a06+0x112a+-0x8dd*-0x1):(_0x316fa9=(-0x4fd+0x1d5d+-0x185f*0x1)/_0x316fa9,this['x']=_0x5b38f0['x']*_0x316fa9,this['y']=_0x5b38f0['y']*_0x316fa9,this['z']=_0x5b38f0['z']*_0x316fa9,this['w']=_0x5b38f0['w']*_0x316fa9),this;}['set'](_0x25e327,_0x440998,_0x2d3bf4,_0x5451ec){return this['x']=_0x25e327,this['y']=_0x440998,this['z']=_0x2d3bf4,this['w']=_0x5451ec,this;}['setFromAxi'+'sAngle'](_0x1f3570,_0x4c408e){_0x4c408e*=(0xfc9+-0x21dd+0x1214+0.5)*Y['DEG_TO_RAD'];const _0x11fe8d=Math['sin'](_0x4c408e),_0x425c52=Math['cos'](_0x4c408e);return this['x']=_0x11fe8d*_0x1f3570['x'],this['y']=_0x11fe8d*_0x1f3570['y'],this['z']=_0x11fe8d*_0x1f3570['z'],this['w']=_0x425c52,this;}['setFromEul'+'erAngles'](_0x5c7c6d,_0x1cac58,_0x1dbccb){if(_0x5c7c6d instanceof D){const _0x541b66=_0x5c7c6d;_0x5c7c6d=_0x541b66['x'],_0x1cac58=_0x541b66['y'],_0x1dbccb=_0x541b66['z'];}const _0x2975a7=(-0x1f31*-0x1+0x456+-0x71b*0x5+0.5)*Y['DEG_TO_RAD'];_0x5c7c6d*=_0x2975a7,_0x1cac58*=_0x2975a7,_0x1dbccb*=_0x2975a7;const _0x50ff96=Math['sin'](_0x5c7c6d),_0xa1ba2=Math['cos'](_0x5c7c6d),_0x41a127=Math['sin'](_0x1cac58),_0x2cd54b=Math['cos'](_0x1cac58),_0x38afdf=Math['sin'](_0x1dbccb),_0x451f31=Math['cos'](_0x1dbccb);return this['x']=_0x50ff96*_0x2cd54b*_0x451f31-_0xa1ba2*_0x41a127*_0x38afdf,this['y']=_0xa1ba2*_0x41a127*_0x451f31+_0x50ff96*_0x2cd54b*_0x38afdf,this['z']=_0xa1ba2*_0x2cd54b*_0x38afdf-_0x50ff96*_0x41a127*_0x451f31,this['w']=_0xa1ba2*_0x2cd54b*_0x451f31+_0x50ff96*_0x41a127*_0x38afdf,this;}['setFromMat'+'4'](_0x337f19){const _0x54a501=_0x337f19['data'];let _0x2fdc31=_0x54a501[-0x12ef+-0x1123*0x1+0x2412],_0x20719a=_0x54a501[-0x3c+-0xd1c+-0x33*-0x43],_0x2c33f1=_0x54a501[0x18a*0x4+-0xf29*0x1+0x903],_0x3ee19e=_0x54a501[-0xab*-0x1c+0x2+-0x12b2],_0x369077=_0x54a501[0x1*0x1421+0x5f3+-0x1*0x1a0f],_0x21b512=_0x54a501[-0x1*-0xac3+-0xfa1*-0x1+-0x1a5e],_0x18e1f0=_0x54a501[-0xfdf+-0x6d3*0x1+-0xb5d*-0x2],_0x3097a9=_0x54a501[-0xe2*-0x14+-0x1570+-0x3d1*-0x1],_0x5cecd7=_0x54a501[-0x71*0x49+-0x1d7f+0xf*0x41e],_0x52c774;return _0x52c774=_0x2fdc31*_0x2fdc31+_0x20719a*_0x20719a+_0x2c33f1*_0x2c33f1,_0x52c774===0x3c1*-0x2+0x233d+0x1f*-0xe5?this['set'](-0x2a7*0x7+-0x5ed+0x187e,0x1*-0x2435+0x17f2+0xc43,-0x2*-0xe81+-0x217f+0x3*0x17f,0x23c3+-0x6b1+0x7*-0x427):(_0x52c774=(-0x240+-0x1d*-0x3+0x1ea)/Math['sqrt'](_0x52c774),_0x2fdc31*=_0x52c774,_0x20719a*=_0x52c774,_0x2c33f1*=_0x52c774,_0x52c774=_0x3ee19e*_0x3ee19e+_0x369077*_0x369077+_0x21b512*_0x21b512,_0x52c774===0x9ef*0x3+0x1899+-0x6*0x911?this['set'](0x1c38+-0x617*0x2+0x805*-0x2,-0x2c*0x37+0x88e+0x2e*0x5,0xb48+0x1759+-0x3*0xb8b,0x241c+-0x14d8+-0x1*0xf43):(_0x52c774=(0x2402*0x1+-0x1477+-0xf8a*0x1)/Math['sqrt'](_0x52c774),_0x3ee19e*=_0x52c774,_0x369077*=_0x52c774,_0x21b512*=_0x52c774,_0x52c774=_0x18e1f0*_0x18e1f0+_0x3097a9*_0x3097a9+_0x5cecd7*_0x5cecd7,_0x52c774===0xaa8+-0x2498+0x19f0?this['set'](-0x1190+-0x74e+0x18de,-0x373*0x9+-0x1bbf*-0x1+0x34c,0x1*-0x1129+0x1aa6+-0x97d,0x6*-0x4ca+-0x124a*-0x1+-0xa73*-0x1):(_0x52c774=(0x22c8+0x16*0x182+-0x43f3)/Math['sqrt'](_0x52c774),_0x18e1f0*=_0x52c774,_0x3097a9*=_0x52c774,_0x5cecd7*=_0x52c774,_0x5cecd7<-0x1bbf+0x4b3+0x170c?_0x2fdc31>_0x369077?this['set'](-0x1a9*0x5+-0x1ad2+0x2320+_0x2fdc31-_0x369077-_0x5cecd7,_0x20719a+_0x3ee19e,_0x18e1f0+_0x2c33f1,_0x21b512-_0x3097a9):this['set'](_0x20719a+_0x3ee19e,-0x452*0x1+0x1*0x129e+-0xe4b-_0x2fdc31+_0x369077-_0x5cecd7,_0x21b512+_0x3097a9,_0x18e1f0-_0x2c33f1):_0x2fdc31<-_0x369077?this['set'](_0x18e1f0+_0x2c33f1,_0x21b512+_0x3097a9,0x3*0x51c+0x57*-0x4+-0xd*0x113-_0x2fdc31-_0x369077+_0x5cecd7,_0x20719a-_0x3ee19e):this['set'](_0x21b512-_0x3097a9,_0x18e1f0-_0x2c33f1,_0x20719a-_0x3ee19e,0x8fa*0x4+0x1f*-0x32+-0x1dd9+_0x2fdc31+_0x369077+_0x5cecd7),this['mulScalar']((-0x15*0x1a7+0xd21*0x2+0x1*0x872)/this['length']()))));}['setFromDir'+'ections'](_0x22bb0c,_0x5e9ad4){const _0x4ee202=0x7c7+-0xf2b+0x765+_0x22bb0c['dot'](_0x5e9ad4);return _0x4ee202<Number['EPSILON']?Math['abs'](_0x22bb0c['x'])>Math['abs'](_0x22bb0c['y'])?(this['x']=-_0x22bb0c['z'],this['y']=0xfd9*0x2+-0x3*0x517+-0x106d,this['z']=_0x22bb0c['x'],this['w']=0x1479+0x17*-0x65+-0xb66):(this['x']=-0xadd+-0x1d1a+-0x1*-0x27f7,this['y']=-_0x22bb0c['z'],this['z']=_0x22bb0c['y'],this['w']=0x1*-0x17d5+-0x1*-0x61d+0x6*0x2f4):(this['x']=_0x22bb0c['y']*_0x5e9ad4['z']-_0x22bb0c['z']*_0x5e9ad4['y'],this['y']=_0x22bb0c['z']*_0x5e9ad4['x']-_0x22bb0c['x']*_0x5e9ad4['z'],this['z']=_0x22bb0c['x']*_0x5e9ad4['y']-_0x22bb0c['y']*_0x5e9ad4['x'],this['w']=_0x4ee202),this['normalize']();}['slerp'](_0x5b8dcb,_0x268be7,_0x59dfd6){const _0x27e4b7=_0x5b8dcb['x'],_0x3e7979=_0x5b8dcb['y'],_0x6772b4=_0x5b8dcb['z'],_0x4e30c7=_0x5b8dcb['w'];let _0x392c57=_0x268be7['x'],_0x2573a5=_0x268be7['y'],_0x2b5ea6=_0x268be7['z'],_0x33a1a9=_0x268be7['w'],_0x438fbb=_0x4e30c7*_0x33a1a9+_0x27e4b7*_0x392c57+_0x3e7979*_0x2573a5+_0x6772b4*_0x2b5ea6;if(_0x438fbb<0x725+-0x1435+0x98*0x16&&(_0x33a1a9=-_0x33a1a9,_0x392c57=-_0x392c57,_0x2573a5=-_0x2573a5,_0x2b5ea6=-_0x2b5ea6,_0x438fbb=-_0x438fbb),Math['abs'](_0x438fbb)>=-0xaa4+-0x11cf+-0x71d*-0x4)return this['w']=_0x4e30c7,this['x']=_0x27e4b7,this['y']=_0x3e7979,this['z']=_0x6772b4,this;const _0x2c3160=Math['acos'](_0x438fbb),_0x58ca61=Math['sqrt'](-0x740+-0x774+0xeb5-_0x438fbb*_0x438fbb);if(Math['abs'](_0x58ca61)<0x2b3*-0xd+0x860*-0x2+0x33d7+0.001)return this['w']=_0x4e30c7*(-0x365*0xa+0x96*0x23+-0x5*-0x2b0+0.5)+_0x33a1a9*(-0x2*0xc8c+-0x191e*0x1+0x3236+0.5),this['x']=_0x27e4b7*(-0x219f+0x5ea+0x1bb5+0.5)+_0x392c57*(0xed*0x8+0x4*0x29e+-0x11e0+0.5),this['y']=_0x3e7979*(0x3*0x3ef+-0xd7*0x1e+0xd65+0.5)+_0x2573a5*(0x1cb9+0xafa*0x1+-0x27b3+0.5),this['z']=_0x6772b4*(-0xfbc+-0xd4*0x6+0x14b4+0.5)+_0x2b5ea6*(0x949+0x1e45+-0xa6*0x3d+0.5),this;const _0x109899=Math['sin']((0x7cc+0x2f9+-0xac4-_0x59dfd6)*_0x2c3160)/_0x58ca61,_0x1d52fd=Math['sin'](_0x59dfd6*_0x2c3160)/_0x58ca61;return this['w']=_0x4e30c7*_0x109899+_0x33a1a9*_0x1d52fd,this['x']=_0x27e4b7*_0x109899+_0x392c57*_0x1d52fd,this['y']=_0x3e7979*_0x109899+_0x2573a5*_0x1d52fd,this['z']=_0x6772b4*_0x109899+_0x2b5ea6*_0x1d52fd,this;}['transformV'+'ector'](_0x4a6e64,_0x18f8fa=new D()){const _0x13edc5=_0x4a6e64['x'],_0x17cbb5=_0x4a6e64['y'],_0x1b8275=_0x4a6e64['z'],_0x4705af=this['x'],_0xa495e0=this['y'],_0x4ed2d5=this['z'],_0x17834b=this['w'],_0x42d348=_0x17834b*_0x13edc5+_0xa495e0*_0x1b8275-_0x4ed2d5*_0x17cbb5,_0x1b073e=_0x17834b*_0x17cbb5+_0x4ed2d5*_0x13edc5-_0x4705af*_0x1b8275,_0x4e7bdc=_0x17834b*_0x1b8275+_0x4705af*_0x17cbb5-_0xa495e0*_0x13edc5,_0x5b5b4e=-_0x4705af*_0x13edc5-_0xa495e0*_0x17cbb5-_0x4ed2d5*_0x1b8275;return _0x18f8fa['x']=_0x42d348*_0x17834b+_0x5b5b4e*-_0x4705af+_0x1b073e*-_0x4ed2d5-_0x4e7bdc*-_0xa495e0,_0x18f8fa['y']=_0x1b073e*_0x17834b+_0x5b5b4e*-_0xa495e0+_0x4e7bdc*-_0x4705af-_0x42d348*-_0x4ed2d5,_0x18f8fa['z']=_0x4e7bdc*_0x17834b+_0x5b5b4e*-_0x4ed2d5+_0x42d348*-_0xa495e0-_0x1b073e*-_0x4705af,_0x18f8fa;}['fromArray'](_0x4cab25,_0x1b869d=0x1023*0x1+0x21*0x7f+-0x2082){return this['x']=_0x4cab25[_0x1b869d]??this['x'],this['y']=_0x4cab25[_0x1b869d+(-0x195f+-0x5*-0x58b+-0x257)]??this['y'],this['z']=_0x4cab25[_0x1b869d+(0x24a5+0x67f*0x2+0x483*-0xb)]??this['z'],this['w']=_0x4cab25[_0x1b869d+(0x180c+-0x1*0x1cf9+0x2*0x278)]??this['w'],this;}['toString'](){return'['+this['x']+',\x20'+this['y']+',\x20'+this['z']+',\x20'+this['w']+']';}['toArray'](_0x52f640=[],_0x4a131e=0x1*0x6fb+0xa9*-0xb+0x48){return _0x52f640[_0x4a131e]=this['x'],_0x52f640[_0x4a131e+(0x443+-0x165+0x1*-0x2dd)]=this['y'],_0x52f640[_0x4a131e+(0xe6d+0x2f*-0x1f+-0x8ba)]=this['z'],_0x52f640[_0x4a131e+(-0xd46*0x1+0x3*-0x92f+0x28d6)]=this['w'],_0x52f640;}};h(Sn,'IDENTITY',Object['freeze'](new Sn(-0x1*0x24b+-0x1ff7+0x2242,-0x10*-0x6b+0x2661+0x1*-0x2d11,0xabc+0x16d*-0x5+0xd*-0x47,-0xd2b+-0x246+0xf72))),h(Sn,'ZERO',Object['freeze'](new Sn(0x4a*-0x61+-0x2146+0xc*0x51c,-0xb*-0x72+0x79d+-0xc83,-0x1*0x11c3+0x1207+0x4*-0x11,-0x1a25+0x19f+0x1886)));let le=Sn;const Pa=new D(),Ma=new D(),Um=new D(),Bm=new D(),gx=new D();class De{constructor(_0x48e0bd,_0x1fa205){h(this,'center',new D()),h(this,'halfExtent'+'s',new D(0x1*0x26f6+0x2*0x484+-0x2ffe+0.5,-0x19ac+0x6*-0x11d+-0x1*-0x205a+0.5,0xaf7*0x1+0x1*0x2593+-0x817*0x6+0.5)),h(this,'_min',new D()),h(this,'_max',new D()),(_0x48e0bd&&this['center']['copy'](_0x48e0bd),_0x1fa205&&this['halfExtent'+'s']['copy'](_0x1fa205));}['add'](_0x1ec9a4){const _0x461af2=this['center'],_0x324754=_0x461af2['x'],_0xfe09d7=_0x461af2['y'],_0x57941b=_0x461af2['z'],_0x2de3fb=this['halfExtent'+'s'],_0x3be5e6=_0x2de3fb['x'],_0x498323=_0x2de3fb['y'],_0x44f9cd=_0x2de3fb['z'];let _0x31067b=_0x324754-_0x3be5e6,_0x255dc5=_0x324754+_0x3be5e6,_0x17a363=_0xfe09d7-_0x498323,_0x1bc71d=_0xfe09d7+_0x498323,_0x2f82c4=_0x57941b-_0x44f9cd,_0x342e32=_0x57941b+_0x44f9cd;const _0x771f78=_0x1ec9a4['center'],_0x16b68a=_0x771f78['x'],_0x4144b7=_0x771f78['y'],_0x18b3d7=_0x771f78['z'],_0x5137cb=_0x1ec9a4['halfExtent'+'s'],_0x2dc70b=_0x5137cb['x'],_0x47dba1=_0x5137cb['y'],_0x592cac=_0x5137cb['z'],_0x1ee145=_0x16b68a-_0x2dc70b,_0x2f6f52=_0x16b68a+_0x2dc70b,_0x10d049=_0x4144b7-_0x47dba1,_0x13c864=_0x4144b7+_0x47dba1,_0x2a7ac2=_0x18b3d7-_0x592cac,_0x55f36f=_0x18b3d7+_0x592cac;_0x1ee145<_0x31067b&&(_0x31067b=_0x1ee145),_0x2f6f52>_0x255dc5&&(_0x255dc5=_0x2f6f52),_0x10d049<_0x17a363&&(_0x17a363=_0x10d049),_0x13c864>_0x1bc71d&&(_0x1bc71d=_0x13c864),_0x2a7ac2<_0x2f82c4&&(_0x2f82c4=_0x2a7ac2),_0x55f36f>_0x342e32&&(_0x342e32=_0x55f36f),_0x461af2['x']=(_0x31067b+_0x255dc5)*(-0x1*0xe9f+-0x4*0x6ec+0x2a4f+0.5),_0x461af2['y']=(_0x17a363+_0x1bc71d)*(-0x1c*-0xd+-0x1c16+0x1*0x1aaa+0.5),_0x461af2['z']=(_0x2f82c4+_0x342e32)*(-0x1046*-0x1+0x245f*-0x1+-0x31*-0x69+0.5),_0x2de3fb['x']=(_0x255dc5-_0x31067b)*(-0x1*-0x1537+-0x2243+-0x14e*-0xa+0.5),_0x2de3fb['y']=(_0x1bc71d-_0x17a363)*(-0x213+0x81+0x192+0.5),_0x2de3fb['z']=(_0x342e32-_0x2f82c4)*(0x3*0x94f+-0x3c4+-0x1829+0.5);}['copy'](_0x4d6536){this['center']['copy'](_0x4d6536['center']),this['halfExtent'+'s']['copy'](_0x4d6536['halfExtent'+'s']);}['clone'](){return new De(this['center'],this['halfExtent'+'s']);}['intersects'](_0x76a6b3){const _0xab9e71=this['getMax'](),_0x13d859=this['getMin'](),_0x10d557=_0x76a6b3['getMax'](),_0x2c811f=_0x76a6b3['getMin']();return _0x13d859['x']<=_0x10d557['x']&&_0xab9e71['x']>=_0x2c811f['x']&&_0x13d859['y']<=_0x10d557['y']&&_0xab9e71['y']>=_0x2c811f['y']&&_0x13d859['z']<=_0x10d557['z']&&_0xab9e71['z']>=_0x2c811f['z'];}['_intersect'+'sRay'](_0x3ccd6a,_0x13df9a){const _0x11d536=Pa['copy'](this['getMin']())['sub'](_0x3ccd6a['origin']),_0x4c1daa=Ma['copy'](this['getMax']())['sub'](_0x3ccd6a['origin']),_0x144e08=_0x3ccd6a['direction'];_0x144e08['x']===0x1239+-0xa2d+-0x19c*0x5?(_0x11d536['x']=_0x11d536['x']<0x373*0xb+0x199e+-0x3f8f?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x4c1daa['x']=_0x4c1daa['x']<0x47*-0x6d+0xfe*-0x1+0x1f39?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x11d536['x']/=_0x144e08['x'],_0x4c1daa['x']/=_0x144e08['x']),_0x144e08['y']===-0x1*-0x203+0x2544+0x1*-0x2747?(_0x11d536['y']=_0x11d536['y']<-0x461+-0x5eb+0xa4c?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x4c1daa['y']=_0x4c1daa['y']<-0x64*-0x1a+-0x2ab*0x8+-0xb30*-0x1?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x11d536['y']/=_0x144e08['y'],_0x4c1daa['y']/=_0x144e08['y']),_0x144e08['z']===0x1*0x829+0x1f2+0xc7*-0xd?(_0x11d536['z']=_0x11d536['z']<-0x1*-0x1a14+-0x1dd8+0x3c4?-Number['MAX_VALUE']:Number['MAX_VALUE'],_0x4c1daa['z']=_0x4c1daa['z']<-0xf08+-0x1b99+0x2aa1?-Number['MAX_VALUE']:Number['MAX_VALUE']):(_0x11d536['z']/=_0x144e08['z'],_0x4c1daa['z']/=_0x144e08['z']);const _0x48f4fa=Um['set'](Math['min'](_0x11d536['x'],_0x4c1daa['x']),Math['min'](_0x11d536['y'],_0x4c1daa['y']),Math['min'](_0x11d536['z'],_0x4c1daa['z'])),_0x466e3c=Bm['set'](Math['max'](_0x11d536['x'],_0x4c1daa['x']),Math['max'](_0x11d536['y'],_0x4c1daa['y']),Math['max'](_0x11d536['z'],_0x4c1daa['z'])),_0x177072=Math['min'](Math['min'](_0x466e3c['x'],_0x466e3c['y']),_0x466e3c['z']),_0x23b7a6=Math['max'](Math['max'](_0x48f4fa['x'],_0x48f4fa['y']),_0x48f4fa['z']),_0x3e87ac=_0x177072>=_0x23b7a6&&_0x23b7a6>=0x1*0xe48+0x193d+-0x2785;return _0x3e87ac&&_0x13df9a['copy'](_0x3ccd6a['direction'])['mulScalar'](_0x23b7a6)['add'](_0x3ccd6a['origin']),_0x3e87ac;}['_fastInter'+'sectsRay'](_0x3b9fea){const _0x3311e9=Pa,_0x5aab56=Ma,_0x27e602=Um,_0x4eac21=Bm,_0x32f5cb=gx,_0x33eba6=_0x3b9fea['direction'];return _0x3311e9['sub2'](_0x3b9fea['origin'],this['center']),_0x4eac21['set'](Math['abs'](_0x3311e9['x']),Math['abs'](_0x3311e9['y']),Math['abs'](_0x3311e9['z'])),_0x27e602['mul2'](_0x3311e9,_0x33eba6),!(_0x4eac21['x']>this['halfExtent'+'s']['x']&&_0x27e602['x']>=0xcd5+0x1916+-0x11*0x23b||_0x4eac21['y']>this['halfExtent'+'s']['y']&&_0x27e602['y']>=-0x5c*0x2b+-0x14b0+0x909*0x4||_0x4eac21['z']>this['halfExtent'+'s']['z']&&_0x27e602['z']>=-0x1d54+-0xc4d*-0x3+-0x793||(_0x32f5cb['set'](Math['abs'](_0x33eba6['x']),Math['abs'](_0x33eba6['y']),Math['abs'](_0x33eba6['z'])),_0x5aab56['cross'](_0x33eba6,_0x3311e9),_0x5aab56['set'](Math['abs'](_0x5aab56['x']),Math['abs'](_0x5aab56['y']),Math['abs'](_0x5aab56['z'])),_0x5aab56['x']>this['halfExtent'+'s']['y']*_0x32f5cb['z']+this['halfExtent'+'s']['z']*_0x32f5cb['y'])||_0x5aab56['y']>this['halfExtent'+'s']['x']*_0x32f5cb['z']+this['halfExtent'+'s']['z']*_0x32f5cb['x']||_0x5aab56['z']>this['halfExtent'+'s']['x']*_0x32f5cb['y']+this['halfExtent'+'s']['y']*_0x32f5cb['x']);}['intersects'+'Ray'](_0x37c458,_0x4a9334){return _0x4a9334?this['_intersect'+'sRay'](_0x37c458,_0x4a9334):this['_fastInter'+'sectsRay'](_0x37c458);}['setMinMax'](_0x2f6559,_0x5cb446){this['center']['add2'](_0x5cb446,_0x2f6559)['mulScalar'](-0x18*0x136+-0x144e+0x315e+0.5),this['halfExtent'+'s']['sub2'](_0x5cb446,_0x2f6559)['mulScalar'](-0x1c*-0x5a+-0x1*0x61d+-0xbf*0x5+0.5);}['getMin'](){return this['_min']['copy'](this['center'])['sub'](this['halfExtent'+'s']);}['getMax'](){return this['_max']['copy'](this['center'])['add'](this['halfExtent'+'s']);}['containsPo'+'int'](_0x515126){const _0x445a04=this['getMin'](),_0x4d518d=this['getMax']();return!(_0x515126['x']<_0x445a04['x']||_0x515126['x']>_0x4d518d['x']||_0x515126['y']<_0x445a04['y']||_0x515126['y']>_0x4d518d['y']||_0x515126['z']<_0x445a04['z']||_0x515126['z']>_0x4d518d['z']);}['setFromTra'+'nsformedAa'+'bb'](_0x479718,_0x2d2778,_0x20f58e=!(-0x49e+-0x70*0x4a+-0x21*-0x11f)){const _0x49960d=_0x479718['center'],_0x3b8bf9=_0x479718['halfExtent'+'s'],_0x27b50a=_0x2d2778['data'];let _0x3b6ff3=_0x27b50a[0xd*-0x25b+0x2707+-0x868],_0x2e02e2=_0x27b50a[0x20ae*0x1+0xed*0x1d+-0x3b83],_0x1f3ffb=_0x27b50a[-0x6ae+0x12f2*-0x1+0x19a8],_0x54ac9e=_0x27b50a[0x3*0xb11+-0x23a7+-0x11*-0x25],_0x53dafa=_0x27b50a[0x61*-0x49+-0x1bee+0x379c],_0x56728f=_0x27b50a[0x2376+0x11e9+0x3556*-0x1],_0x2b5464=_0x27b50a[-0x8*0x2+-0x42b+0x5*0xd9],_0x5a051a=_0x27b50a[-0x6b*-0x1f+-0x1*-0x235+0xcc*-0x13],_0x35f415=_0x27b50a[-0x89a+0x230b*-0x1+0x2baf];if(_0x20f58e){let _0x380e29=_0x3b6ff3*_0x3b6ff3+_0x2e02e2*_0x2e02e2+_0x1f3ffb*_0x1f3ffb;if(_0x380e29>0x1d12*0x1+-0x12c5+-0xa4d){const _0x5239df=(-0xc5+-0x26de+0x27a4)/Math['sqrt'](_0x380e29);_0x3b6ff3*=_0x5239df,_0x2e02e2*=_0x5239df,_0x1f3ffb*=_0x5239df;}if(_0x380e29=_0x54ac9e*_0x54ac9e+_0x53dafa*_0x53dafa+_0x56728f*_0x56728f,_0x380e29>0x6a6+0x853*0x1+-0x1*0xef9){const _0x42e12b=(-0x7*0x2a5+-0x14e5+0x2769)/Math['sqrt'](_0x380e29);_0x54ac9e*=_0x42e12b,_0x53dafa*=_0x42e12b,_0x56728f*=_0x42e12b;}if(_0x380e29=_0x2b5464*_0x2b5464+_0x5a051a*_0x5a051a+_0x35f415*_0x35f415,_0x380e29>0x89*0x19+0x1f96+-0x2cf7){const _0x1e6ef0=(0x1407+-0x1c6*-0x13+0x47a*-0xc)/Math['sqrt'](_0x380e29);_0x2b5464*=_0x1e6ef0,_0x5a051a*=_0x1e6ef0,_0x35f415*=_0x1e6ef0;}}this['center']['set'](_0x27b50a[-0x5*-0x6af+-0xf2*0x11+0x2b*-0x67]+_0x3b6ff3*_0x49960d['x']+_0x2e02e2*_0x49960d['y']+_0x1f3ffb*_0x49960d['z'],_0x27b50a[-0x1*-0x2451+0xb*-0x24b+-0xb0b]+_0x54ac9e*_0x49960d['x']+_0x53dafa*_0x49960d['y']+_0x56728f*_0x49960d['z'],_0x27b50a[0x1a00+0xb14*0x3+-0x13ba*0x3]+_0x2b5464*_0x49960d['x']+_0x5a051a*_0x49960d['y']+_0x35f415*_0x49960d['z']),this['halfExtent'+'s']['set'](Math['abs'](_0x3b6ff3)*_0x3b8bf9['x']+Math['abs'](_0x2e02e2)*_0x3b8bf9['y']+Math['abs'](_0x1f3ffb)*_0x3b8bf9['z'],Math['abs'](_0x54ac9e)*_0x3b8bf9['x']+Math['abs'](_0x53dafa)*_0x3b8bf9['y']+Math['abs'](_0x56728f)*_0x3b8bf9['z'],Math['abs'](_0x2b5464)*_0x3b8bf9['x']+Math['abs'](_0x5a051a)*_0x3b8bf9['y']+Math['abs'](_0x35f415)*_0x3b8bf9['z']);}static['computeMin'+'Max'](_0x487827,_0x27c68b,_0x238940,_0x604bb9=_0x487827['length']/(0xe5b+-0x2335*-0x1+-0x318d)){if(_0x604bb9>-0x1d*0x63+-0xb*-0x377+-0x1*0x1ae6){let _0x1fa36b=_0x487827[-0x970+0x250f+-0x1b9f],_0x1dae95=_0x487827[0x7c*0x3d+-0x3c0+-0x899*0x3],_0x2fd230=_0x487827[-0x1ca7+-0x238+-0x55*-0x5d],_0x1350ae=_0x1fa36b,_0x32a18e=_0x1dae95,_0x57cfa9=_0x2fd230;const _0x1a06b1=_0x604bb9*(0x1606+0x2620+-0x1*0x3c23);for(let _0x13f477=-0x46*-0x49+0xa*-0x2ed+0x94f*0x1;_0x13f477<_0x1a06b1;_0x13f477+=0x1a*-0x17b+0x1adb+0xba6){const _0x43f22e=_0x487827[_0x13f477],_0x3fac77=_0x487827[_0x13f477+(0x7c3+-0x4de+-0x2e4)],_0x10ccbc=_0x487827[_0x13f477+(-0x1f3d*0x1+-0x232+0x2171*0x1)];_0x43f22e<_0x1fa36b&&(_0x1fa36b=_0x43f22e),_0x3fac77<_0x1dae95&&(_0x1dae95=_0x3fac77),_0x10ccbc<_0x2fd230&&(_0x2fd230=_0x10ccbc),_0x43f22e>_0x1350ae&&(_0x1350ae=_0x43f22e),_0x3fac77>_0x32a18e&&(_0x32a18e=_0x3fac77),_0x10ccbc>_0x57cfa9&&(_0x57cfa9=_0x10ccbc);}_0x27c68b['set'](_0x1fa36b,_0x1dae95,_0x2fd230),_0x238940['set'](_0x1350ae,_0x32a18e,_0x57cfa9);}}['compute'](_0x59d775,_0x542166){De['computeMin'+'Max'](_0x59d775,Pa,Ma,_0x542166),this['setMinMax'](Pa,Ma);}['intersects'+'BoundingSp'+'here'](_0x17f245){return this['_distanceT'+'oBoundingS'+'phereSq'](_0x17f245)<=_0x17f245['radius']*_0x17f245['radius'];}['_distanceT'+'oBoundingS'+'phereSq'](_0x337ce2){const _0x1e9d69=this['getMin'](),_0x1afb36=this['getMax']();let _0x509b27=-0xe5c+0x1a*-0x170+0x33bc;const _0x3e5d62=['x','y','z'];for(let _0x48c987=0x1*0x2489+-0x1*-0x1fd3+0x7*-0x9c4;_0x48c987<-0xc2*-0x31+-0x14*0xe+-0x1*0x2407;++_0x48c987){let _0x3587bc=-0x14e*-0x2+0x7*0x372+-0x2*0xd5d;const _0x164e67=_0x337ce2['center'][_0x3e5d62[_0x48c987]],_0x3d34e2=_0x1e9d69[_0x3e5d62[_0x48c987]],_0x194b7b=_0x1afb36[_0x3e5d62[_0x48c987]];let _0x146cf1=-0x25d2*0x1+0x1341+0x1291;_0x164e67<_0x3d34e2&&(_0x146cf1=_0x3d34e2-_0x164e67,_0x3587bc+=_0x146cf1*_0x146cf1),_0x164e67>_0x194b7b&&(_0x146cf1=_0x164e67-_0x194b7b,_0x3587bc+=_0x146cf1*_0x146cf1),_0x509b27+=_0x3587bc;}return _0x509b27;}['_expand'](_0x4f8c68,_0x199ec0){Pa['add2'](this['getMin'](),_0x4f8c68),Ma['add2'](this['getMax'](),_0x199ec0),this['setMinMax'](Pa,Ma);}}const Wl=new D(),Sx=new D();class sp{constructor(_0x508aa6=new D(),_0x1b48dd=-0xb3*-0x9+0x1*0x11af+-0x17fa+0.5){h(this,'center'),h(this,'radius'),(w['assert'](!Object['isFrozen'](_0x508aa6),'The\x20constr'+'uctor\x20of\x20\x27'+'BoundingSp'+'here\x27\x20does'+'\x20not\x20accep'+'t\x20a\x20consta'+'nt\x20(frozen'+')\x20object\x20a'+'s\x20a\x20\x27cente'+'r\x27\x20paramet'+'er'),this['center']=_0x508aa6,this['radius']=_0x1b48dd);}['containsPo'+'int'](_0x2da825){const _0x49f680=Wl['sub2'](_0x2da825,this['center'])['lengthSq'](),_0x4c4780=this['radius'];return _0x49f680<_0x4c4780*_0x4c4780;}['intersects'+'Ray'](_0x4a7644,_0x466cc8){const _0x59dd0c=Wl['copy'](_0x4a7644['origin'])['sub'](this['center']),_0x369b8a=_0x59dd0c['dot'](Sx['copy'](_0x4a7644['direction'])['normalize']()),_0x262dbb=_0x59dd0c['dot'](_0x59dd0c)-this['radius']*this['radius'];if(_0x262dbb>0x1bfd+0x392*-0x7+-0x3b*0xd&&_0x369b8a>-0xa2*0x3b+-0xadb+-0x3031*-0x1)return!(0x5*-0x1c1+-0x1068+-0x192e*-0x1);const _0x274be8=_0x369b8a*_0x369b8a-_0x262dbb;if(_0x274be8<-0x91*-0x3f+-0x14f*0x1+-0x226*0x10)return!(-0xc5*0x1+0x37f+-0x2b9);const _0xc531c2=Math['abs'](-_0x369b8a-Math['sqrt'](_0x274be8));return _0x466cc8&&_0x466cc8['copy'](_0x4a7644['direction'])['mulScalar'](_0xc531c2)['add'](_0x4a7644['origin']),!(-0xf*0x3b+0x35b*0x8+-0x1763);}['intersects'+'BoundingSp'+'here'](_0x16e0e6){Wl['sub2'](_0x16e0e6['center'],this['center']);const _0x5855e8=_0x16e0e6['radius']+this['radius'];return Wl['lengthSq']()<=_0x5855e8*_0x5855e8;}}class QS{constructor(_0x9c5a99=D['UP'],_0x555a66=0xa*0x35b+0x16c4+-0x3852){h(this,'normal',new D()),h(this,'distance'),(this['normal']['copy'](_0x9c5a99),this['distance']=_0x555a66);}['clone'](){const _0xf7f465=this['constructo'+'r'];return new _0xf7f465()['copy'](this);}['copy'](_0x30909d){return this['normal']['copy'](_0x30909d['normal']),this['distance']=_0x30909d['distance'],this;}['intersects'+'Line'](_0x3af34e,_0x12c736,_0x23e8db){const _0x32b98a=this['distance'],_0x1f0402=this['normal']['dot'](_0x3af34e)+_0x32b98a,_0x4a2b61=this['normal']['dot'](_0x12c736)+_0x32b98a,_0x1caa8f=_0x1f0402/(_0x1f0402-_0x4a2b61),_0x318f6=_0x1caa8f>=-0x1bc1*-0x1+0x177b*-0x1+0x1*-0x446&&_0x1caa8f<=0x573+-0xbfe+-0x1a3*-0x4;return _0x318f6&&_0x23e8db&&_0x23e8db['lerp'](_0x3af34e,_0x12c736,_0x1caa8f),_0x318f6;}['intersects'+'Ray'](_0xa421b4,_0x3127e9){const _0x4f7f34=this['normal']['dot'](_0xa421b4['direction']);if(_0x4f7f34===-0x996+-0x1*-0x1b73+-0x11dd)return!(-0x919+-0xfa*0xb+0x13d8);const _0x2ff3e9=-(this['normal']['dot'](_0xa421b4['origin'])+this['distance'])/_0x4f7f34;return _0x2ff3e9>=0x14b4+0x26af+0x295*-0x17&&_0x3127e9&&_0x3127e9['copy'](_0xa421b4['direction'])['mulScalar'](_0x2ff3e9)['add'](_0xa421b4['origin']),_0x2ff3e9>=0x97*-0x25+0x10d5+0x1*0x4fe;}['normalize'](){const _0x2d03af=(-0x98b+-0xd84+-0x90*-0x29)/this['normal']['length']();return this['normal']['mulScalar'](_0x2d03af),this['distance']*=_0x2d03af,this;}['set'](_0x28784f,_0x3c0e3c,_0x458803,_0x5ca7c5){return this['normal']['set'](_0x28784f,_0x3c0e3c,_0x458803),this['distance']=_0x5ca7c5,this;}['setFromPoi'+'ntNormal'](_0x9467f9,_0x5cb813){return this['normal']['copy'](_0x5cb813),this['distance']=-this['normal']['dot'](_0x9467f9),this;}}class yx{constructor(){h(this,'planes',[]);for(let _0x58a985=0xd65*-0x2+-0xd57+0x2821*0x1;_0x58a985<-0x382*0x5+0x1*-0x17ec+0x297c;_0x58a985++)this['planes'][_0x58a985]=new QS();}['clone'](){const _0x52c918=this['constructo'+'r'];return new _0x52c918()['copy'](this);}['copy'](_0x29fd79){for(let _0x19ee84=0x197c+-0x1ddb*-0x1+-0x1f*0x1c9;_0x19ee84<-0x232+-0x1bf*0xe+-0x1*-0x1aaa;_0x19ee84++)this['planes'][_0x19ee84]['copy'](_0x29fd79['planes'][_0x19ee84]);return this;}['setFromMat'+'4'](_0x2af650){const [_0x5b167f,_0x67732c,_0x2df740,_0x19c137,_0x1b6673,_0x2d86bc,_0x4be06d,_0x526e63,_0x4ecc5a,_0x612ed3,_0x2c14a8,_0x4baa6c,_0xe0c919,_0x698b01,_0x985400,_0x1b03f1]=_0x2af650['data'],_0xcda8ea=this['planes'];_0xcda8ea[-0xf0e*0x2+0x159a+0x882]['set'](_0x19c137-_0x5b167f,_0x526e63-_0x1b6673,_0x4baa6c-_0x4ecc5a,_0x1b03f1-_0xe0c919)['normalize'](),_0xcda8ea[-0x1e30+-0x2*-0xf32+-0x33]['set'](_0x19c137+_0x5b167f,_0x526e63+_0x1b6673,_0x4baa6c+_0x4ecc5a,_0x1b03f1+_0xe0c919)['normalize'](),_0xcda8ea[0xeb*0xe+-0x4b3*-0x1+-0x118b]['set'](_0x19c137+_0x67732c,_0x526e63+_0x2d86bc,_0x4baa6c+_0x612ed3,_0x1b03f1+_0x698b01)['normalize'](),_0xcda8ea[0x4a7*-0x3+0x12e7+-0x4ef]['set'](_0x19c137-_0x67732c,_0x526e63-_0x2d86bc,_0x4baa6c-_0x612ed3,_0x1b03f1-_0x698b01)['normalize'](),_0xcda8ea[0x371*-0x5+-0x112b+0x2264]['set'](_0x19c137-_0x2df740,_0x526e63-_0x4be06d,_0x4baa6c-_0x2c14a8,_0x1b03f1-_0x985400)['normalize'](),_0xcda8ea[0x6a7*-0x3+-0xda8+0xb36*0x3]['set'](_0x19c137+_0x2df740,_0x526e63+_0x4be06d,_0x4baa6c+_0x2c14a8,_0x1b03f1+_0x985400)['normalize']();}['containsPo'+'int'](_0x1e400a){for(let _0x501b36=0x2116+-0x1009+-0x110d;_0x501b36<-0x687+-0x1e68+-0x24f5*-0x1;_0x501b36++){const {normal:_0xb32bb9,distance:_0x3d6eaa}=this['planes'][_0x501b36];if(_0xb32bb9['dot'](_0x1e400a)+_0x3d6eaa<=0x2383+0x22ef+-0x4672*0x1)return!(0x13e*0x1f+-0x25ef+-0x92*0x1);}return!(0xf4+0x1*0x160d+-0x1701);}['containsSp'+'here'](_0x5bac76){const {center:_0x37ae04,radius:_0x5ce81d}=_0x5bac76;let _0x3b67f0=0x10*0x1f5+0x26c7+-0x4617;for(let _0x1959bf=0x142*-0xd+0x1*0x168d+0x1*-0x633;_0x1959bf<-0x44f*0x1+0x4*-0x4f5+0x5*0x4d5;_0x1959bf++){const {normal:_0x146b32,distance:_0x34544d}=this['planes'][_0x1959bf],_0x11fe69=_0x146b32['dot'](_0x37ae04)+_0x34544d;if(_0x11fe69<=-_0x5ce81d)return 0x13db+-0x3*-0xa7+-0x8*0x2ba;_0x11fe69>_0x5ce81d&&_0x3b67f0++;}return _0x3b67f0===-0x1*-0x8b3+0x15*0x1cd+-0x2e7e?0x1*0x356+-0x1*-0x1cc1+-0x2015:0x49c+-0x18c0+0x1425;}}class Dn{constructor(_0x932a45,_0x10d393){h(this,'origin',new D()),h(this,'direction',D['FORWARD']['clone']()),(_0x932a45&&this['origin']['copy'](_0x932a45),_0x10d393&&this['direction']['copy'](_0x10d393));}['set'](_0x5eec48,_0x1e3550){return this['origin']['copy'](_0x5eec48),this['direction']['copy'](_0x1e3550),this;}['copy'](_0x2691a2){return this['set'](_0x2691a2['origin'],_0x2691a2['direction']);}['clone'](){return new this['constructo'+'r'](this['origin'],this['direction']);}}const yt=0x7de+0x1fac+-0x5a6*0x7,ue=-0x16d0+0x2385+-0xcb4,ip=0x31d*0x3+0x4c5*0x1+0xe1a*-0x1,rp=-0x7*0x51+0xc5*-0x9+0x924,Ft=0x1d2*-0xa+0x3c9+0x11c*0xd,vx=0x2*-0x94d+0x5cf*0x4+-0x4a0,JS=-0x11d1*-0x1+0x1775+0x2*-0x14a1,xx=-0x23e*-0x1+0x4d4+-0x70d,jh=-0x18*0x130+0x577+0x170f,Yh=-0xbe3+0x1859+-0xc6e,fs=-0xa1a*0x1+-0xcb1+0x185*0xf,Tx=-0x60a*-0x2+0xe0b+-0x1a1d,wx=0xb72*-0x2+0xab7+0x8*0x186,Ex=0x108c+-0x1c89*-0x1+-0x53*0x8b,ms=0x37c*0x9+-0x23*-0xa6+-0x360e,lh=0xa*-0x27b+-0xc*-0x1d3+0x53*0x9,ey=0x1e8e*0x1+0x1*0x1b4e+-0x39da,bx=0x19b0+0x9*0x21d+-0x2cb2,jo=-0x4f1*0x3+-0x1345+0x7*0x4df,Yo=-0x119*0x7+0x1d*-0x5+0x842,ch=-0xddf*-0x1+0x1da7*0x1+0x2*-0x15c1,bt=0x1*-0xd13+0x1757+-0xa44,pa=0x1f7f+0x2*0x1de+0x3ea*-0x9,Fo=-0x1f0a+0x1*-0x7da+0x17f*0x1a,Ax=-0x1*0xfa3+-0x267c+-0x29*-0x152,Te=-0x1ad7+0x12fb+0x7dc,vt=0x3b1+0xf66+-0x1316,Kh=0x814+0x7a2*-0x1+0x2*-0x38,Zh=0xb7a*0x1+-0x392*-0x3+-0x162d,Qh=-0x20*0x76+-0x205c*0x1+0x2f20,ma=0x1*0x21f1+0x4cf*-0x1+-0x1d*0x101,Cx=0x2318+0x3b9*0x9+0x1*-0x4499,hh=-0x22*0x24+0x1*-0x10b1+0x157a,dh=-0x457*0x1+0x7*0x587+0x4*-0x896,Wf=0x16a0+0xae*0x1c+-0x29a5,Px=0x1d7a+-0x5*0x4c+-0x1bfa,Mx=-0x16e1+-0x2147*-0x1+-0xa61,Dx=0x219d+0x938+-0x2acf,Wi=-0x7f*0x4e+0x7da+0x1edf,$f=-0x285*0x5+-0x56f+0x1208,Yi=-0x5c3*-0x5+-0x9c7+0x1307*-0x1,wr=0x23ac+0x1ac1+-0x3e6b,ty=-0xbe+0x626+-0x568,sy=-0xb9d+-0x1*0x8aa+0x1448,ap=0xadc+0x1844+-0x1d*0x136,Jh=0x1*-0x17+0x409+-0x3ef,np=-0x230a+-0x1*-0x129a+0x34*0x51,ed=0x5*-0x101+-0xf1d+0x1427,Cr=-0xc76+0xa*-0x2b6+-0x5a8*-0x7,Ne=-0xad5+0x392*-0x9+0x2afe,td=0x22*-0x71+0x1*0x1d69+-0xd*0x11b,op=0x17c0+-0xb9*-0x1b+0x3ee*-0xb,vl=0x13f1*0x1+-0x7*-0x389+-0x2ca6,ui=-0xda9+-0x1edc*0x1+0x2c90,nt=-0x1e38+-0x2603+0x4447,Ye=-0x2604+0x17*-0xba+0x36c7,Xt=-0x2ff+0x66d*0x1+-0x6c*0x8,Ji=0x2101*-0x1+-0x2b*-0xab+-0xb*-0x65,$i=0x3b7*-0xa+-0x8*0x28d+-0xfa*-0x3b,sd=-0x5*-0x153+0xca*-0x13+0xd8*0xa,In=-0x103+0x9dd+-0x119*0x8,lp=0x2030+0x21bd+-0x2*0x20ed,_s=-0x165d*0x1+-0x217c*-0x1+0x101*-0xb,id=0x313*-0x2+-0x1a43+0x207e,cp=0x15e4+0xb*0x6d+-0x1a7d,hp=0x1*-0x2461+0xe1+-0x2397*-0x1,xl=-0x100f*0x1+0x47c*0x7+-0xf3d,Tl=0x2*-0xa93+0x89*0x36+-0x3*0x28d,rd=0x1ad7+0x4*0x612+-0x161*0x25,ad=-0xbcb+0xa*-0x1ff+0x1fdc,iy=0x1*0x9b0+-0x11dd*0x1+0x849,ry=0x11b5+-0x9fd*0x1+0xb*-0xb1,ay=-0x6*-0x51b+-0x11a4+-0xce0,ny=-0x1698+-0x871*0x1+-0xf94*-0x2,dp=0x1d26+-0x142f+0x8d7*-0x1,oy=-0x1*-0x2479+0xd*-0x227+0x1*-0x85d,fp=0x143b*-0x1+0xc6d+0x7f0,up=0x14*0xc5+-0x8da+0x1*-0x667,pp=0x1*0x1279+0x268+-0x14bd*0x1,Ki=0x1fbf+0x682+-0x261c,mp=0x17e6+-0x2612+0xe52,ly=0x7f3*-0x2+-0x3e*0x28+0x19bd,_p=-0x1513+0x2d*0x9+-0x9d3*-0x2,gp=0x4c2+-0x1543*0x1+0x10aa,Sp=0x9ae+-0x135b*-0x1+-0x1cdf,yp=0x2536*0x1+0x4d*-0x2+-0x2471,vp=-0x1*0x23b1+0x1*-0x71e+0x2afb,cy=-0x22dc+0x1*0xc65+0x16a4,xp=-0x2*0x797+0x4*0x736+-0xd7c,nd=0x5*0x2bd+-0xf48+0x1c6,Tp=-0x17f7+-0x2*-0x40c+0x100f,Ue=-0x1*-0x868+-0x2*-0x12a5+-0x2d81,od=0x10b*-0x5+-0x1be*0x13+-0x2683*-0x1,wp=0x1*0xbc9+0x1dc3+-0x1d*0x16d,Ep=-0x1*-0x22fe+-0x1519+0xdb1*-0x1,bp=-0x56d*0x3+0x1250+-0x1d4,Xf=0x1a8+-0x1485*0x1+0x1313*0x1,qf=-0xdda+-0xb49+0x195a,jf=0x259d+-0x165e+-0xf07,Yf=0x22c3*-0x1+0x24+0x22dc,Kf=-0x2625+-0x15fc+0x3c5f,Zf=-0x55e+-0xf36+0x1*0x14d3,hy=-0x160a+-0xad4+0x585*0x6,dy=0x10d*-0x18+0x8a*0x10+0x10d9,fy=0x1242+-0x1*0x10bb+0x145*-0x1,uy=0x1f0e+0x4cd*-0x3+-0x1064,Qf=-0x441+0x161*-0x1b+0x14e*0x20,vn=0x7*-0x3ab+-0xb08+0x24fa,Nt=new Map([[ty,{'name':'A8','size':0x1,'ldr':!(-0x5de*-0x1+0x39*0x55+-0x18cb)}],[Ep,{'name':'R8','size':0x1,'ldr':!(-0x7*0x43d+0x1d5c+0x1*0x4f)}],[sy,{'name':'L8','size':0x1,'ldr':!(-0xa3*0x17+-0x397*0x1+0x123c)}],[ap,{'name':'LA8','size':0x2,'ldr':!(-0x24af+-0xf10*0x1+0x33bf)}],[bp,{'name':'RG8','size':0x2,'ldr':!(-0x129d+-0x84b+0x1ae8)}],[Jh,{'name':'RGB565','size':0x2,'ldr':!(-0x468*-0x4+-0x27*-0x3e+-0x1b12)}],[np,{'name':'RGBA5551','size':0x2,'ldr':!(-0x625+-0x213e*-0x1+0x3df*-0x7)}],[ed,{'name':'RGBA4','size':0x2,'ldr':!(-0x259d+0x3*0x411+-0x1*-0x196a)}],[Cr,{'name':'RGB8','size':0x4,'ldr':!(0xea9+0x17fe+-0x26a7)}],[Ne,{'name':'RGBA8','size':0x4,'ldr':!(-0x1*0x9d7+0xe*0x13f+-0x3*0x289),'srgbFormat':_s}],[od,{'name':'R16F','size':0x2}],[wp,{'name':'RG16F','size':0x4}],[ui,{'name':'RGB16F','size':0x8}],[nt,{'name':'RGBA16F','size':0x8}],[Ye,{'name':'RGB32F','size':0x10}],[Xt,{'name':'RGBA32F','size':0x10}],[Ji,{'name':'R32F','size':0x4}],[$i,{'name':'DEPTH','size':0x4}],[vn,{'name':'DEPTH16','size':0x2}],[sd,{'name':'DEPTHSTENC'+'IL','size':0x4}],[In,{'name':'111110F','size':0x4}],[lp,{'name':'SRGB8','size':0x4,'ldr':!(0x6f+-0x23ab+0x233c),'srgb':!(-0x4e1*-0x6+0x1ce+-0x1f14)}],[_s,{'name':'SRGBA8','size':0x4,'ldr':!(0x3fa+0x49a+-0x894),'srgb':!(0x25cf*0x1+0x26c9+-0x18*0x331)}],[ny,{'name':'BGRA8','size':0x4,'ldr':!(-0x2*-0x120b+-0x1f26+0x1*-0x4f0)}],[hy,{'name':'SBGRA8','size':0x4,'ldr':!(-0xc1*-0x1d+-0x35*-0x1f+-0x1c48),'srgb':!(-0x1f*0xe7+-0x3*-0xc2e+-0x891)}],[td,{'name':'DXT1','blockSize':0x8,'ldr':!(0x98d+-0x1256+-0x1*-0x8c9),'srgbFormat':Xf}],[op,{'name':'DXT3','blockSize':0x10,'ldr':!(0x1c65+-0x11d8+-0xa8d*0x1),'srgbFormat':qf}],[vl,{'name':'DXT5','blockSize':0x10,'ldr':!(0x1*0x5+-0x56*-0x48+0x1835*-0x1),'srgbFormat':jf}],[id,{'name':'ETC1','blockSize':0x8,'ldr':!(-0x1*0x1e0e+-0x1b57*-0x1+0x2b7)}],[cp,{'name':'ETC2_RGB','blockSize':0x8,'ldr':!(-0x1*0xe7e+-0x76e+0x3d*0x5c),'srgbFormat':Yf}],[hp,{'name':'ETC2_RGBA','blockSize':0x10,'ldr':!(-0x23*-0xf7+0x2*0xc14+0x1*-0x39ed),'srgbFormat':Kf}],[xl,{'name':'PVRTC_2BPP'+'_RGB_1','ldr':!(0x10ae+-0xa51+0x21f*-0x3),'blockSize':0x8}],[Tl,{'name':'PVRTC_2BPP'+'_RGBA_1','ldr':!(0x1*-0x2279+0x17b8+-0xac1*-0x1),'blockSize':0x8}],[rd,{'name':'PVRTC_4BPP'+'_RGB_1','ldr':!(0x1*-0x1474+0x185*-0xf+0x1*0x2b3f),'blockSize':0x8}],[ad,{'name':'PVRTC_4BPP'+'_RGBA_1','ldr':!(-0x16d+-0x1be*-0x11+-0x1c31),'blockSize':0x8}],[iy,{'name':'ASTC_4x4','blockSize':0x10,'ldr':!(0xb7*0xb+0x10ba*-0x2+0x1997),'srgbFormat':Zf}],[ry,{'name':'ATC_RGB','blockSize':0x8,'ldr':!(0x2cf*0xb+-0x6*-0x175+-0x27a3)}],[ay,{'name':'ATC_RGBA','blockSize':0x10,'ldr':!(-0x31*0x6b+0x692+0xde9)}],[dy,{'name':'BC6H_RGBF','blockSize':0x10}],[fy,{'name':'BC6H_RGBUF','blockSize':0x10}],[uy,{'name':'BC7_RGBA','blockSize':0x10,'ldr':!(-0x1436+0x256c+0x2*-0x89b),'srgbFormat':Qf}],[Xf,{'name':'DXT1_SRGB','blockSize':0x8,'ldr':!(-0x988+-0x144+0xacc),'srgb':!(-0x117d+-0x1461*-0x1+-0x4a*0xa)}],[qf,{'name':'DXT3_SRGBA','blockSize':0x10,'ldr':!(-0x54+-0x2*-0x1114+-0x1*0x21d4),'srgb':!(-0x1505+-0x1a7a+-0x6c9*-0x7)}],[jf,{'name':'DXT5_SRGBA','blockSize':0x10,'ldr':!(-0x7fe+0x19d*-0x11+0x1*0x236b),'srgb':!(0x954+-0x1a32+0x10de)}],[Yf,{'name':'ETC2_SRGB','blockSize':0x8,'ldr':!(-0x2*-0x1092+-0xd27+-0x77*0x2b),'srgb':!(-0x7*0x14f+-0x1d74+0x269d)}],[Kf,{'name':'ETC2_SRGBA','blockSize':0x10,'ldr':!(0x2275*-0x1+0xa00+0x1*0x1875),'srgb':!(0x1db1+0x5*-0x45d+-0x4*0x1f8)}],[Zf,{'name':'ASTC_4x4_S'+'RGB','blockSize':0x10,'ldr':!(-0x7*0x2ff+0xf12+0x5e7),'srgb':!(-0x39b+-0x173c*-0x1+-0x19*0xc9)}],[Qf,{'name':'BC7_SRGBA','blockSize':0x10,'ldr':!(0x2575+0xc8a+0x31ff*-0x1),'srgb':!(-0x9*0x447+-0x1b20*-0x1+-0xb5f*-0x1)}],[dp,{'name':'R8I','size':0x1,'isInt':!(0x1*-0x377+0x89b+0x7*-0xbc)}],[oy,{'name':'R8U','size':0x1,'isInt':!(-0x5*0x799+-0x7*-0x115+0x1ca*0x11)}],[fp,{'name':'R16I','size':0x2,'isInt':!(0x563*0x7+0x14a6*0x1+-0x1*0x3a5b)}],[up,{'name':'R16U','size':0x2,'isInt':!(0x53*0x1f+0x1a7c+-0x2489*0x1)}],[pp,{'name':'R32I','size':0x4,'isInt':!(0xe8f*0x1+-0xe71+-0x1e)}],[Ki,{'name':'R32U','size':0x4,'isInt':!(0xb01+-0x30b+-0x7f6*0x1)}],[mp,{'name':'RG8I','size':0x2,'isInt':!(0x11*0x1bb+0x241c+-0x37*0x131)}],[ly,{'name':'RG8U','size':0x2,'isInt':!(-0x7f*0x1d+-0xa55+-0x1*-0x18b8)}],[_p,{'name':'RG16I','size':0x4,'isInt':!(-0x575+-0x351*-0x2+0x1*-0x12d)}],[gp,{'name':'RG16U','size':0x4,'isInt':!(-0x1e6e+-0xa*-0xb+0x1e00)}],[Sp,{'name':'RG32I','size':0x8,'isInt':!(0x146b+-0x5e2*0x2+-0x8a7*0x1)}],[yp,{'name':'RG32U','size':0x8,'isInt':!(-0x15c5*-0x1+-0x373*0x1+-0x1252)}],[vp,{'name':'RGBA8I','size':0x4,'isInt':!(0x7*0x255+-0x1ef2+0xe9f)}],[cy,{'name':'RGBA8U','size':0x4,'isInt':!(0x2*-0x482+-0x15ea+0x1eee)}],[xp,{'name':'RGBA16I','size':0x8,'isInt':!(-0xc*0x26e+-0x3*0x90c+0x1c26*0x2)}],[nd,{'name':'RGBA16U','size':0x8,'isInt':!(0x956+0x2ea*0x2+-0x1*0xf2a)}],[Tp,{'name':'RGBA32I','size':0x10,'isInt':!(0x93+-0x11b*-0x3+-0x3e4)}],[Ue,{'name':'RGBA32U','size':0x10,'isInt':!(0x681+-0x539*0x1+-0x148)}]]),Ix=_0x17c8f4=>{var _0x51c5f6;return((_0x51c5f6=Nt['get'](_0x17c8f4))==null?void(0x215*-0x6+0x8ef*0x1+0x38f):_0x51c5f6['blockSize'])!==void(0x1f56+-0x2686+0x730);},fh=_0x4c343f=>{var _0x46ac3a;return((_0x46ac3a=Nt['get'](_0x4c343f))==null?void(0x5*0x368+0x1*-0x61d+-0xaeb):_0x46ac3a['srgb'])===!(0x34*0x98+0x69+0x1*-0x1f49);},dn=_0x3ff0ff=>{var _0x449624;return((_0x449624=Nt['get'](_0x3ff0ff))==null?void(-0x2*-0xf8+-0x14a2+0x2*0x959):_0x449624['isInt'])===!(0x219c+-0x1752+0x6*-0x1b7);},ld=_0xa9a54a=>{var _0x337049;return((_0x337049=Nt['get'](_0xa9a54a))==null?void(0x1d3+0x225*-0x9+-0x2*-0x8bd):_0x337049['srgbFormat'])||_0xa9a54a;},Lx=_0x1ec85=>{for(const [_0xbfaf88,_0x802e5f]of Nt)if(_0x802e5f['srgbFormat']===_0x1ec85)return _0xbfaf88;return _0x1ec85;},py=_0x6df8a1=>{const _0x4cc3e0=Nt['get'](_0x6df8a1);return!!(_0x4cc3e0!=null&&_0x4cc3e0['ldr']&&!(_0x4cc3e0!=null&&_0x4cc3e0['srgb']));},my=_0x92cfcb=>{switch(_0x92cfcb){case Ji:case Ye:case Xt:return Float32Array;case pp:case Sp:case Tp:return Int32Array;case Ki:case yp:case Ue:return Uint32Array;case fp:case _p:case xp:return Int16Array;case bp:case up:case gp:case nd:case Jh:case np:case ed:case od:case wp:case ui:case nt:return Uint16Array;case dp:case mp:case vp:return Int8Array;default:return Uint8Array;}},cd=0x897*0x3+0x10d*0x22+0xd*-0x4bb,hd=-0x1885+-0x2*0x6f7+-0x1ac*-0x17,_y=-0xd63+-0x29c*-0x2+0x5b*0x17,gy=0x17e1*0x1+-0x4*0xa1+-0x38f*0x6,js=-0xa4f+0x1*0x23da+-0x1*0x1987,Er=0x1*0xd1+-0x3c*0x6b+0x8*0x309,oa=-0x795+0x1863+-0x10c8,Me='POSITION',gs='NORMAL',yi='TANGENT',gi='BLENDWEIGH'+'T',us='BLENDINDIC'+'ES',Wt='COLOR',zm='TEXCOORD',is='TEXCOORD0',ba='TEXCOORD1',wl='TEXCOORD2',El='TEXCOORD3',bl='TEXCOORD4',Al='TEXCOORD5',Cl='TEXCOORD6',Pl='TEXCOORD7',Jf='ATTR0',uh='ATTR1',Ap='ATTR2',Cp='ATTR3',Pp='ATTR4',Rx='ATTR5',Ox='ATTR6',Fx='ATTR7',Ko='ATTR8',Zo='ATTR9',Nx='ATTR10',Mp='ATTR11',Dp='ATTR12',ph='ATTR13',Ip='ATTR14',Ln='ATTR15',Sy=-0xb2+0xf6b*0x1+-0xeb8,xn=0x17*-0x4f+-0x1*0x11b+0x834,kx=-0x1336+-0x20ff+0x3437,Ux=0x1838+0x2668+-0x14df*0x3,Bx=0x2580+-0x2a7+-0x116a*0x2,$l=-0x1*0x1abb+0x3d9*0x7+-0x34,yy=-0x160+-0x1bd4+0x1d35,Od=-0x3d0*-0x7+0x6*-0x3ec+-0x326,Ds='default',Zi='rgbm',mh='rgbe',Qo='rgbp',Jo='swizzleGGG'+'R',eu=-0xc17+-0x6cd*-0x5+-0x15e9,Pr=0x17ed+-0x1803+0x4*0x6,vy=0x1ed2+-0x18*-0x7a+0x203*-0x15,xy='2d',zx=0x128e+-0x3*-0x769+0x28c9*-0x1,Vx='none',tu='cube',Vm='equirect',Gx='octahedral',Fe='glsl',it='wgsl',dd=0xfd4+-0x22a0+0x4*0x4b3,la=0xb8b+0xd22+-0x18ac*0x1,fd=-0x134b+0xe3f+-0x287*-0x2,Ml=0x2c+0x11*0xeb+-0xfc4,Ty=-0x7ff*0x4+0x3*-0x745+0x35cf,el=0x109d*0x1+0xac5+0x3*-0x91f,Ve=-0x1a6+-0x30*-0x4f+0x3a*-0x3a,Tn=-0x1d0*0x4+0x698+0x1c*0x6,_a=-0x319*0x4+0x1619+-0x36*0x2e,Xs=-0x293*-0x7+0x3c8*-0x8+0xd*0xf1,ga=-0xac0*-0x1+-0x16*-0x9d+-0x183b,ds=-0x6e5+0x4ec*0x5+-0x1*0x11b3,Rn=0x9a*0x2+-0x20bf*-0x1+-0x21ee,ca=-0x471+0x151d+0x853*-0x2,ha=-0x1cb4+0x50d*-0x6+-0x86f*-0x7,da=-0x1*0x21b+-0x18bb+0x16a*0x13,tl=0x2e*0xd9+-0x1bb4+0x2b*-0x43,sl=0x7*0x443+0xb*-0x39+-0x1b58,il=-0xa7d*0x1+0x1*0x1b23+-0x147*0xd,_h=0x137b+0x2342+-0x36b1,On=0x1d6e+0x1*-0x25a9+0x848,li=0x23*-0x109+0x235*0x1+0x2214,Hx=-0xb36*-0x2+-0xf6+-0x1567*0x1,Wx=-0x11a2+0x2d*0x91+-0x7cb,ud=0x26*0x46+-0x1*-0x893+0x52*-0x3b,$x=0x2514+-0x97c+-0x2*0xdc3,Xx=-0x15*0x185+-0x3*0xceb+0x571*0xd,qx=0x1184+0x1*0xfa9+-0x2119,pd=-0x814+-0x2a6*0x2+0xd75,md=0x669*-0x1+0x9a*-0x2b+-0x1*-0x205d,Lp=-0x154d+-0x15d+-0x1*-0x16c1,wy=0x3*0xc1a+-0x1e2*-0xa+0x2*-0x1b85,jx=0x2258+-0x12d3*-0x1+-0x2*0x1a89,Fn=-0x2128+-0x537+-0x31*-0xc9,Nn=-0x17cc+-0xc81+0x2468,kn=0x25*-0xb5+-0x19*0x43+0x2*0x1068,Un=-0x266+0x147e+-0x11fb,Bn=-0x1d61+0x1*-0x2522+0x42a1,_d=-0x8ba*0x1+0x163b+-0xd62,gd=-0x3*0x6c3+-0x29c+-0x1*-0x1705,zn=-0x3*0x9e8+0x1f7a*0x1+-0x1a1,Sd=-0x20c3+0x159d+-0x8*-0x169,yd=-0x2150+-0x5*0x765+-0x466c*-0x1,Vn=0x1d*-0x12c+0x66*-0x38+0x3870,vd=0x1*0x195c+0x4*-0x1ad+-0x1*0x1283,xd=-0xd4c*-0x2+0xb7f+-0x25f1,gh=0x1*-0x103b+-0x890+0x18f2,Rp=-0xce4+0x1*-0xd3a+-0xd23*-0x2,Op=0x1*0x1c9+0x17ef+-0x3*0x885,Yx=-0x24fd*0x1+0x1*-0x1d71+-0x4298*-0x1,Kx=-0xe10+0x2580+-0x1745,Zx=-0x1e02*-0x1+0x2094+0xa67*-0x6,Qx=0x2631+0x1281+-0x3885,Jx=0x980*-0x1+-0xcde+0x1*0x168c,eT=-0x465*-0x6+0xfa4+-0x29d3,tT=0x8*-0x3d9+0x1*-0x178c+-0x3684*-0x1,sT=0x10fd+-0x1316*-0x1+-0x23e2,Ey=['bool','int','float','vec2','vec3','vec4','ivec2','ivec3','ivec4','bvec2','bvec3','bvec4','mat2','mat3','mat4','sampler2D','samplerCub'+'e','','sampler2DS'+'hadow','samplerCub'+'eShadow','sampler3D','','','','','sampler2DA'+'rray','uint','uvec2','uvec3','uvec4','','','','','','','','','','','','','isampler2D','usampler2D','isamplerCu'+'be','usamplerCu'+'be','isampler3D','usampler3D','isampler2D'+'Array','usampler2D'+'Array'],iT=[['bool'],['i32'],['f32'],['vec2f','vec2<f32>'],['vec3f','vec3<f32>'],['vec4f','vec4<f32>'],['vec2i','vec2<i32>'],['vec3i','vec3<i32>'],['vec4i','vec4<i32>'],['vec2<bool>'],['vec3<bool>'],['vec4<bool>'],['mat2x2f','mat2x2<f32'+'>'],['mat3x3f','mat3x3<f32'+'>'],['mat4x4f','mat4x4<f32'+'>'],['texture_2d'+'<f32>'],['texture_cu'+'be<f32>'],['array<f32>'],['texture_de'+'pth_2d'],['texture_de'+'pth_cube'],['texture_3d'+'<f32>'],['array<vec2'+'<f32>>'],['array<vec3'+'<f32>>'],['array<vec4'+'<f32>>'],['array<mat4'+'x4<f32>>'],['texture_2d'+'_array<f32'+'>'],['u32'],['vec2u','vec2<u32>'],['vec3u','vec3<u32>'],['vec4u','vec4<u32>'],['array<i32>'],['array<u32>'],['array<bool'+'>'],['array<vec2'+'i>','array<vec2'+'<i32>>'],['array<vec2'+'u>','array<vec2'+'<u32>>'],['array<vec2'+'b>','array<vec2'+'<bool>>'],['array<vec3'+'i>','array<vec3'+'<i32>>'],['array<vec3'+'u>','array<vec3'+'<u32>>'],['array<vec3'+'b>','array<vec3'+'<bool>>'],['array<vec4'+'i>','array<vec4'+'<i32>>'],['array<vec4'+'u>','array<vec4'+'<u32>>'],['array<vec4'+'b>','array<vec4'+'<bool>>'],['texture_2d'+'<i32>'],['texture_2d'+'<u32>'],['texture_cu'+'be<i32>'],['texture_cu'+'be<u32>'],['texture_3d'+'<i32>'],['texture_3d'+'<u32>'],['texture_2d'+'_array<i32'+'>'],['texture_2d'+'_array<u32'+'>']],rT=new Map();iT['forEach']((_0x5af17b,_0x282841)=>{_0x5af17b['forEach'](_0x5bb8e0=>rT['set'](_0x5bb8e0,_0x282841));});const aT='webgl2',Fp=0x847+0xa75+-0x12bb*0x1,by=0xfa7+-0x1f*-0x53+-0x11e*0x17,nT=-0x1a8f+0x1cda+-0x247,oT='ldr',Ay=0x3*-0xa37+-0x40*-0x13+0x19e6,Cy=-0x883+-0xe01+0x5d*0x3e,Py=-0xbff*0x1+-0x1369+0x1f6c,My=0x23b+0x1f*-0xb3+0x137a,Dy=0xb*-0xcd+0x1a3*0x10+-0x1151,Iy=-0x1aae+-0x496*-0x5+0x3e0,Ly=-0x5a7*0x3+0x2*-0x6b0+0x1e95,Ry=-0x1cf9+0x24e3+0x2*-0x3b5,lT=0x2710+-0x13e5+-0x122c,rl=-0x18*0x25+-0x2cd*0xc+0x2a*0xe2,Oy=-0x1f14+-0x11*-0x232+-0x63d,su=0x1fec*0x1+-0xbb*-0x22+-0x40*0xe3,Np='default',wn=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Uint16Array],No=[-0x51*0x75+-0x6*0x389+-0x4*-0xe8f,-0xe1c+-0x3ee*0x1+0x120b,-0xef2+-0x7b7+-0x7*-0x33d,-0xe30+-0x1105+0x1*0x1f37,0x5*-0x2ad+-0x7*-0x4ca+-0x1421,0x3*0xc97+0x17*0x86+-0x1099*0x3,0x10cf*-0x1+0xaa+0x1029,-0x16e8+-0x13d0+0x2aba],cT=['INT8','UINT8','INT16','UINT16','INT32','UINT32','FLOAT32','FLOAT16'],Sh=[Uint8Array,Uint16Array,Uint32Array],hT=[0x717+-0x1221+0xb0b,0x151b+-0x6*-0x2af+-0x6b*0x59,0x1484+-0x1*-0x2263+0x36e3*-0x1],Fy=new Map([['float','f32'],['vec2','vec2f'],['vec3','vec3f'],['vec4','vec4f'],['int','i32'],['ivec2','vec2i'],['ivec3','vec3i'],['ivec4','vec4i'],['uint','u32'],['uvec2','vec2u'],['uvec3','vec3u'],['uvec4','vec4u']]),Le={};Le[Me]=0x35e+-0x3b9*0x8+0x1a6a,Le[gs]=0x173+-0x46f*-0x1+0x7*-0xd7,Le[gi]=0x4f2*-0x1+-0x9*0x124+0xf38,Le[us]=0x5*0x5ba+0x8ef*0x1+-0x258e,Le[Wt]=0x62f+-0x8*-0x446+0x1*-0x285b,Le[is]=0x1457+0xe5*0xd+-0x1ff3*0x1,Le[ba]=0x26*0x7f+0x9f*-0x36+0xe*0x10d,Le[wl]=0x107*0x13+0x980*-0x1+-0x9fe*0x1,Le[El]=0x2042+-0x214b*-0x1+-0x4185,Le[bl]=0x377+-0x144a+0x10dc,Le[Al]=0xbef*0x3+0x58d+-0xa54*0x4,Le[Cl]=0x1*0xcfb+-0xa72+0x27e*-0x1,Le[Pl]=-0x2*-0x49f+-0x2359*0x1+-0x1*-0x1a27,Le[yi]=-0x1c9c+0x288*0xf+-0x94f,Le[Jf]=-0x2003+-0xbaa*0x3+-0x1*-0x4301,Le[uh]=0x1*-0x489+-0x18f2+0x1d7c,Le[Ap]=0x168b+0x2500+0x1*-0x3b89,Le[Cp]=-0xa3*0x22+-0x248f+0x3a38,Le[Pp]=-0xe8b+0x14b1+-0xa*0x9d,Le[Rx]=0x1*-0x1db4+0x1*0xeaa+0xf0f,Le[Ox]=-0x445*-0x1+0x15*-0x136+-0x11*-0x13f,Le[Fx]=0x9e3*0x1+-0x1865+0xe89,Le[Ko]=0x19*-0x9d+-0x3*0x9c7+0x2cb2,Le[Zo]=-0x36*0xd+0xd*-0xd5+0xd98,Le[Nx]=-0x2083+0x1118+0xf75*0x1,Le[Mp]=-0x1081+-0x99*-0xe+0x417*0x2,Le[Dp]=0xf82+0x2*-0x10d0+0x122a,Le[ph]=0x14a6+0x1df2*0x1+-0x328b,Le[Ip]=0x1c5c+-0x109e+0x8*-0x176,Le[Ln]=0x13*-0x20d+-0x6c8+0xb*0x42a;const mr=class mr{static['clearGpuMa'+'rkers'](){mr['markers']['length']=-0x1*-0x1119+-0xbb3+-0x1*0x566;}static['pushGpuMar'+'ker'](_0x5f2835,_0x585c7e){mr['markers']['push'](_0x585c7e),_0x5f2835['pushMarker'](_0x585c7e);}static['popGpuMark'+'er'](_0x57fb1f){mr['markers']['length']&&mr['markers']['pop'](),_0x57fb1f['popMarker']();}static['toString'](){return mr['markers']['join']('\x20|\x20');}};h(mr,'markers',[]);let Q=mr,dT=0x1127*0x2+-0x24c8+-0x27a*-0x1;class Td{constructor(_0x1cba9b,_0x3eb3a5){h(this,'slot',-(-0x9e8+-0x1b7*0x4+-0x1*-0x10c5)),h(this,'scopeId',null),(this['name']=_0x1cba9b,this['visibility']=_0x3eb3a5);}}class kp extends Td{}class fT extends Td{constructor(_0x101aa2,_0x2643c6,_0x31541e=!(0xaea+-0x2421+0x1938)){super(_0x101aa2,_0x2643c6),h(this,'format',''),(this['readOnly']=_0x31541e,w['assert'](_0x31541e||!(_0x2643c6&Fp),'Storage\x20bu'+'ffer\x20can\x20o'+'nly\x20be\x20use'+'d\x20in\x20read-'+'only\x20mode\x20'+'in\x20SHADERS'+'TAGE_VERTE'+'X.'));}}class Gm extends Td{constructor(_0x3b01c9,_0x5e189d,_0x579f54=xy,_0x561ed5=zx,_0x47fa0c=!(0x579+-0x63*0x29+0xa62),_0x3486f4=null){super(_0x3b01c9,_0x5e189d),this['textureDim'+'ension']=_0x579f54,this['sampleType']=_0x561ed5,this['hasSampler']=_0x47fa0c,this['samplerNam'+'e']=_0x3486f4??_0x3b01c9+'_sampler';}}class uT extends Td{constructor(_0x5df773,_0x9a06ba=Ne,_0x5e11fc=xy,_0x295bdf=!(-0x7f4*-0x1+-0x742+-0x2*0x59),_0xcb5044=!(-0x10a8+0x1*-0x1c69+-0x2*-0x1689)){super(_0x5df773,nT),this['format']=_0x9a06ba,this['textureDim'+'ension']=_0x5e11fc,this['write']=_0x295bdf,this['read']=_0xcb5044;}}class Ny{constructor(_0xf5fcbe,_0x4653e1){h(this,'uniformBuf'+'ferFormats',[]),h(this,'textureFor'+'mats',[]),h(this,'storageTex'+'tureFormat'+'s',[]),h(this,'storageBuf'+'ferFormats',[]),(this['id']=dT++,Ea['setName'](this,'BindGroupF'+'ormat_'+this['id']),w['assert'](_0x4653e1));let _0x1bbf1a=-0x3c7+0x1eb*0x2+-0xf*0x1;_0x4653e1['forEach'](_0x3ca0d3=>{_0x3ca0d3['slot']=_0x1bbf1a++,_0x3ca0d3 instanceof Gm&&_0x3ca0d3['hasSampler']&&_0x1bbf1a++,_0x3ca0d3 instanceof kp?this['uniformBuf'+'ferFormats']['push'](_0x3ca0d3):_0x3ca0d3 instanceof Gm?this['textureFor'+'mats']['push'](_0x3ca0d3):_0x3ca0d3 instanceof uT?this['storageTex'+'tureFormat'+'s']['push'](_0x3ca0d3):_0x3ca0d3 instanceof fT?this['storageBuf'+'ferFormats']['push'](_0x3ca0d3):w['assert']('Invalid\x20bi'+'nd\x20format',_0x3ca0d3);}),this['device']=_0xf5fcbe;const _0x52c03f=_0xf5fcbe['scope'];this['bufferForm'+'atsMap']=new Map(),this['uniformBuf'+'ferFormats']['forEach']((_0x54d065,_0x45bfd9)=>this['bufferForm'+'atsMap']['set'](_0x54d065['name'],_0x45bfd9)),this['textureFor'+'matsMap']=new Map(),this['textureFor'+'mats']['forEach']((_0x326518,_0x25e0f3)=>{this['textureFor'+'matsMap']['set'](_0x326518['name'],_0x25e0f3),_0x326518['scopeId']=_0x52c03f['resolve'](_0x326518['name']);}),this['storageTex'+'tureFormat'+'sMap']=new Map(),this['storageTex'+'tureFormat'+'s']['forEach']((_0x149bbe,_0x5d1f7d)=>{this['storageTex'+'tureFormat'+'sMap']['set'](_0x149bbe['name'],_0x5d1f7d),_0x149bbe['scopeId']=_0x52c03f['resolve'](_0x149bbe['name']);}),this['storageBuf'+'ferFormats'+'Map']=new Map(),this['storageBuf'+'ferFormats']['forEach']((_0x3e2071,_0x247c5b)=>{this['storageBuf'+'ferFormats'+'Map']['set'](_0x3e2071['name'],_0x247c5b),_0x3e2071['scopeId']=_0x52c03f['resolve'](_0x3e2071['name']);}),this['impl']=_0xf5fcbe['createBind'+'GroupForma'+'tImpl'](this),w['trace'](K0,'Alloc:\x20Id\x20'+this['id']+(',\x20while\x20re'+'ndering\x20[')+Q['toString']()+']',this);}['destroy'](){this['impl']['destroy']();}['getTexture'](_0xf6f18e){const _0x3c6d11=this['textureFor'+'matsMap']['get'](_0xf6f18e);return _0x3c6d11!==void(-0x1ffa+0x62b*-0x3+0x327b)?this['textureFor'+'mats'][_0x3c6d11]:null;}['getStorage'+'Texture'](_0x29c288){const _0x2a7f71=this['storageTex'+'tureFormat'+'sMap']['get'](_0x29c288);return _0x2a7f71!==void(-0x2029+-0xbeb+0x2c14)?this['storageTex'+'tureFormat'+'s'][_0x2a7f71]:null;}['loseContex'+'t'](){}}class Kt{constructor(){h(this,'_cache',new Map());}['get'](_0x3e78e8,_0x51f76b){return this['_cache']['has'](_0x3e78e8)||(this['_cache']['set'](_0x3e78e8,_0x51f76b()),_0x3e78e8['on']('destroy',()=>{this['remove'](_0x3e78e8);}),_0x3e78e8['on']('devicelost',()=>{var _0x5449f9,_0x4bc14b;(_0x4bc14b=(_0x5449f9=this['_cache']['get'](_0x3e78e8))==null?void(-0x3*0x94f+-0xcd0*-0x1+0xf1d):_0x5449f9['loseContex'+'t'])==null||_0x4bc14b['call'](_0x5449f9,_0x3e78e8);})),this['_cache']['get'](_0x3e78e8);}['remove'](_0x217104){var _0x2abe55,_0x56c0c6;(_0x56c0c6=(_0x2abe55=this['_cache']['get'](_0x217104))==null?void(0x1da4+-0x5*-0x6f7+0x157d*-0x3):_0x2abe55['destroy'])==null||_0x56c0c6['call'](_0x2abe55,_0x217104),this['_cache']['delete'](_0x217104);}}class Xi{static['calcLevelD'+'imension'](_0x4e07b4,_0x3f12df){return Math['max'](_0x4e07b4>>_0x3f12df,0x187a+0x2*0x370+-0x1f59);}static['calcMipLev'+'elsCount'](_0x3845ef,_0x30d0b3,_0x2e0a7f=-0x1100+-0x1f8b+0x308c){return 0x2467+-0x189b+-0x1*0xbcb+Math['floor'](Math['log2'](Math['max'](_0x3845ef,_0x30d0b3,_0x2e0a7f)));}static['calcLevelG'+'puSize'](_0x407ccf,_0x1c1999,_0x12b98d,_0x244d52){var _0x2b3c69;const _0x5c791c=Nt['get'](_0x244d52);w['assert'](_0x5c791c!==void(-0x30*0xf+-0x1*-0x226f+0x5*-0x653),'Invalid\x20pi'+'xel\x20format'+'\x20'+_0x244d52);const _0x2cbad9=((_0x2b3c69=Nt['get'](_0x244d52))==null?void(0x243+0x157e+-0x17c1):_0x2b3c69['size'])??0x114f+-0xf*0xb3+-0x6d2;if(_0x2cbad9>-0x176c+-0x2584+0xc8*0x4e)return _0x407ccf*_0x1c1999*_0x12b98d*_0x2cbad9;const _0x54accb=_0x5c791c['blockSize']??-0x3*-0x24d+-0x304+0x3e3*-0x1;let _0x40dd99=Math['floor']((_0x407ccf+(-0x12ef*-0x1+-0x15a+-0x1*0x1192))/(-0x21c3*0x1+0x252e*-0x1+-0x17a7*-0x3));const _0x4308b3=Math['floor']((_0x1c1999+(-0x1ab+0x2187+-0x1fd9))/(-0x745*0x1+0xc*-0x74+-0x1*-0xcb9)),_0x2b6a1a=Math['floor']((_0x12b98d+(0x2555*-0x1+-0x3*-0x262+0x1e32))/(0x377+-0x2*-0xfa1+-0x6f1*0x5));return(_0x244d52===xl||_0x244d52===Tl)&&(_0x40dd99=Math['max'](Math['floor'](_0x40dd99/(-0xeff+0x523+0x9de)),0x590*0x3+0x3*0x9+-0x10ca)),_0x40dd99*_0x4308b3*_0x2b6a1a*_0x54accb;}static['calcGpuSiz'+'e'](_0x7e8b59,_0x11621b,_0xdc5f51,_0x5eeae8,_0x1c1748,_0x8b2cfa){let _0x5657de=0x1a*-0x1f+0x25f*0x9+0x1*-0x1231;for(;_0x5657de+=Xi['calcLevelG'+'puSize'](_0x7e8b59,_0x11621b,_0xdc5f51,_0x5eeae8),!(!_0x1c1748||_0x7e8b59===0xe78+0x65*-0x31+0x4de&&_0x11621b===-0xad0*-0x2+-0xa6e*0x1+0x1*-0xb31&&_0xdc5f51===0xdb2*0x1+-0x1867*-0x1+-0xd4*0x2e);)_0x7e8b59=Math['max'](_0x7e8b59>>0x2d1+-0x1*-0xa9f+0xd6f*-0x1,0x2*-0x1cf+-0x23d3+0xd26*0x3),_0x11621b=Math['max'](_0x11621b>>-0x4*0x98b+-0x2*0x2a5+0xe7d*0x3,0x269a+-0x1506+-0x1193),_0xdc5f51=Math['max'](_0xdc5f51>>-0x35b*-0x6+-0x2226*-0x1+-0x3647*0x1,0x1e11+0x6*-0x3f+-0x1c96);return _0x5657de*(_0x8b2cfa?0x13a0+0x234b+-0x36e5:-0x19a9*-0x1+0x1113+-0x1*0x2abb);}}let pT=0xcd4+0x51a+-0x11ee;class _e{constructor(_0x5b9adc,_0x17921f={}){h(this,'name'),h(this,'_gpuSize',-0x27*0x6+-0x1de1+0x1ecb),h(this,'id',pT++),h(this,'_invalid',!(-0x16a1+0x549*0x2+-0xc10*-0x1)),h(this,'_lockedLev'+'el',-(-0x1*0x1313+-0x2a8*0x4+0x1db4)),h(this,'_lockedMod'+'e',$l),h(this,'renderVers'+'ionDirty',-0x83*0x1+0xff8+0x3*-0x527),h(this,'_storage',!(-0x209b+0x1263+0xe39)),h(this,'_numLevels',-0x250d+-0x919+0x7b1*0x6),h(this,'_numLevels'+'Requested');var _0x3e89a5;this['device']=_0x5b9adc,w['assert'](this['device'],'Texture\x20co'+'nstructor\x20'+'requires\x20a'+'\x20graphicsD'+'evice\x20to\x20b'+'e\x20valid'),w['assert'](!_0x17921f['width']||Number['isInteger'](_0x17921f['width']),'Texture\x20wi'+'dth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x17921f),w['assert'](!_0x17921f['height']||Number['isInteger'](_0x17921f['height']),'Texture\x20he'+'ight\x20must\x20'+'be\x20an\x20inte'+'ger\x20number'+',\x20got',_0x17921f),w['assert'](!_0x17921f['depth']||Number['isInteger'](_0x17921f['depth']),'Texture\x20de'+'pth\x20must\x20b'+'e\x20an\x20integ'+'er\x20number,'+'\x20got',_0x17921f),this['name']=_0x17921f['name']??'',this['_width']=Math['floor'](_0x17921f['width']??0x150c+-0xfad+0x1c9*-0x3),this['_height']=Math['floor'](_0x17921f['height']??0xf2*-0x1d+0x61+0x19*0x115),this['_format']=_0x17921f['format']??Ne,this['_compresse'+'d']=Ix(this['_format']),this['_integerFo'+'rmat']=dn(this['_format']),this['_integerFo'+'rmat']&&(_0x17921f['minFilter']=Te,_0x17921f['magFilter']=Te),this['_volume']=_0x17921f['volume']??!(-0x1*0x2486+-0x3b5+0x1*0x283c),this['_depth']=Math['floor'](_0x17921f['depth']??0x3*0x5de+-0x10f1*0x1+-0xa8),this['_arrayLeng'+'th']=Math['floor'](_0x17921f['arrayLengt'+'h']??0x23b4+0x18d7+-0x3c8b),this['_storage']=_0x17921f['storage']??!(0x13*0x45+0x1a91+-0x1faf),this['_cubemap']=_0x17921f['cubemap']??!(0x1b52+0x2*-0x31f+0x5*-0x437),this['_flipY']=_0x17921f['flipY']??!(0x1bb3*-0x1+-0x3*-0x565+0x1*0xb85),this['_premultip'+'lyAlpha']=_0x17921f['premultipl'+'yAlpha']??!(0x1*-0xf33+0x1660+-0x33*0x24),this['_mipmaps']=_0x17921f['mipmaps']??!(-0x18b9+-0x41e+0x141*0x17),this['_numLevels'+'Requested']=_0x17921f['numLevels'],_0x17921f['numLevels']!==void(0xa56+0x22*-0x9d+0x1*0xa84)&&(this['_numLevels']=_0x17921f['numLevels']),this['_updateNum'+'Level'](),this['_minFilter']=_0x17921f['minFilter']??ma,this['_magFilter']=_0x17921f['magFilter']??vt,this['_anisotrop'+'y']=_0x17921f['anisotropy']??-0x216*0xd+-0x1cf2+0x3811,this['_addressU']=_0x17921f['addressU']??yt,this['_addressV']=_0x17921f['addressV']??yt,this['_addressW']=_0x17921f['addressW']??yt,this['_compareOn'+'Read']=_0x17921f['compareOnR'+'ead']??!(-0x4a*-0x4e+-0x18b3*0x1+0x3*0xb8),this['_compareFu'+'nc']=_0x17921f['compareFun'+'c']??hh,this['_type']=_0x17921f['type']??Ds,w['assert'](!_0x17921f['hasOwnProp'+'erty']('rgbm'),'Use\x20option'+'s.type.'),w['assert'](!_0x17921f['hasOwnProp'+'erty']('swizzleGGG'+'R'),'Use\x20option'+'s.type.'),this['projection']=Vx,this['_cubemap']?this['projection']=tu:_0x17921f['projection']&&_0x17921f['projection']!==tu&&(this['projection']=_0x17921f['projection']),this['profilerHi'+'nt']=_0x17921f['profilerHi'+'nt']??0x1*0xf07+0x2*-0xf71+0xfdb*0x1,this['_levels']=_0x17921f['levels'];const _0x4c13f1=!!_0x17921f['levels'];this['_levels']||this['_clearLeve'+'ls'](),this['recreateIm'+'pl'](_0x4c13f1),_0x5b9adc['textures']['push'](this),w['trace'](Dm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+'\x20['+((_0x3e89a5=Nt['get'](this['format']))==null?void(-0x1659+0x25ea+-0xf91):_0x3e89a5['name'])+']'+(this['cubemap']?'[Cubemap]':'')+(this['volume']?'[Volume]':'')+(this['array']?'[Array]':'')+('[MipLevels'+':')+this['numLevels']+']',this);}['destroy'](){w['trace'](Dm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x56c2c2=this['device'];if(_0x56c2c2){const _0x5eb2e0=_0x56c2c2['textures']['indexOf'](this);_0x5eb2e0!==-(0x1cea*-0x1+-0x15*-0x19+0x1ade)&&_0x56c2c2['textures']['splice'](_0x5eb2e0,0xb89+-0xd6*0x16+0x4*0x1b7),_0x56c2c2['scope']['removeValu'+'e'](this),this['impl']['destroy'](_0x56c2c2),this['adjustVram'+'SizeTracki'+'ng'](_0x56c2c2['_vram'],-this['_gpuSize']),this['_levels']=null,this['device']=null;}}['recreateIm'+'pl'](_0xf82d9a=!(0x117c*0x1+0x2706+0x1c41*-0x2)){var _0x3d7f8e;const {device:_0x2bc63a}=this;(_0x3d7f8e=this['impl'])==null||_0x3d7f8e['destroy'](_0x2bc63a),this['impl']=null,this['impl']=_0x2bc63a['createText'+'ureImpl'](this),this['dirtyAll'](),_0xf82d9a&&this['upload']();}['_clearLeve'+'ls'](){this['_levels']=this['_cubemap']?[[null,null,null,null,null,null]]:[null];}['resize'](_0x3abf0d,_0xac336a,_0x4171c5=-0x1751+-0x47*0x5f+0x9ef*0x5){const _0x294742=this['device'];this['adjustVram'+'SizeTracki'+'ng'](_0x294742['_vram'],-this['_gpuSize']),this['impl']['destroy'](_0x294742),this['_clearLeve'+'ls'](),this['_width']=Math['floor'](_0x3abf0d),this['_height']=Math['floor'](_0xac336a),this['_depth']=Math['floor'](_0x4171c5),this['_updateNum'+'Level'](),this['impl']=_0x294742['createText'+'ureImpl'](this),this['dirtyAll']();}['loseContex'+'t'](){this['impl']['loseContex'+'t'](),this['dirtyAll']();}['adjustVram'+'SizeTracki'+'ng'](_0x171fea,_0x42f4b8){w['trace'](X0,this['id']+'\x20'+this['name']+'\x20size:\x20'+_0x42f4b8+('\x20vram.text'+'ure:\x20')+_0x171fea['tex']+'\x20=>\x20'+(_0x171fea['tex']+_0x42f4b8)),_0x171fea['tex']+=_0x42f4b8,this['profilerHi'+'nt']===eu?_0x171fea['texShadow']+=_0x42f4b8:this['profilerHi'+'nt']===Pr?_0x171fea['texAsset']+=_0x42f4b8:this['profilerHi'+'nt']===vy&&(_0x171fea['texLightma'+'p']+=_0x42f4b8);}['propertyCh'+'anged'](_0x175fc6){this['impl']['propertyCh'+'anged'](_0x175fc6),this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion'];}['_updateNum'+'Level'](){const _0x25e9bc=this['mipmaps']?Xi['calcMipLev'+'elsCount'](this['width'],this['height']):0xc38+-0xab0*0x2+0x929,_0x24cab9=this['_numLevels'+'Requested'];_0x24cab9!==void(-0x1*0x24f6+-0xd*-0x1e5+-0x29*-0x4d)&&_0x24cab9>_0x25e9bc&&w['warn']('Texture#nu'+'mLevels:\x20r'+'equested\x20m'+'ip\x20level\x20c'+'ount\x20is\x20gr'+'eater\x20than'+'\x20the\x20maxim'+'um\x20possibl'+'e,\x20will\x20be'+'\x20clamped\x20t'+'o',_0x25e9bc,this),this['_numLevels']=Math['min'](_0x24cab9??_0x25e9bc,_0x25e9bc),this['_mipmaps']=this['_numLevels']>-0xdaa+-0x1590+0x233b;}get['lockedMode'](){return this['_lockedMod'+'e'];}set['minFilter'](_0x199d22){this['_minFilter']!==_0x199d22&&(dn(this['_format'])?w['warn']('Texture#mi'+'nFilter:\x20m'+'inFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_minFilter']=_0x199d22,this['propertyCh'+'anged'](Ay)));}get['minFilter'](){return this['_minFilter'];}set['magFilter'](_0x391406){this['_magFilter']!==_0x391406&&(dn(this['_format'])?w['warn']('Texture#ma'+'gFilter:\x20m'+'agFilter\x20p'+'roperty\x20ca'+'nnot\x20be\x20ch'+'anged\x20on\x20a'+'n\x20integer\x20'+'texture,\x20w'+'ill\x20remain'+'\x20FILTER_NE'+'AREST',this):(this['_magFilter']=_0x391406,this['propertyCh'+'anged'](Cy)));}get['magFilter'](){return this['_magFilter'];}set['addressU'](_0x66e45a){this['_addressU']!==_0x66e45a&&(this['_addressU']=_0x66e45a,this['propertyCh'+'anged'](Py));}get['addressU'](){return this['_addressU'];}set['addressV'](_0xaba239){this['_addressV']!==_0xaba239&&(this['_addressV']=_0xaba239,this['propertyCh'+'anged'](My));}get['addressV'](){return this['_addressV'];}set['addressW'](_0x4c5d52){if(!this['_volume']){w['warn']('pc.Texture'+'#addressW:'+'\x20Can\x27t\x20set'+'\x20W\x20address'+'ing\x20mode\x20f'+'or\x20a\x20non-3'+'D\x20texture.');return;}_0x4c5d52!==this['_addressW']&&(this['_addressW']=_0x4c5d52,this['propertyCh'+'anged'](Dy));}get['addressW'](){return this['_addressW'];}set['compareOnR'+'ead'](_0x367f8f){this['_compareOn'+'Read']!==_0x367f8f&&(this['_compareOn'+'Read']=_0x367f8f,this['propertyCh'+'anged'](Iy));}get['compareOnR'+'ead'](){return this['_compareOn'+'Read'];}set['compareFun'+'c'](_0x5753ca){this['_compareFu'+'nc']!==_0x5753ca&&(this['_compareFu'+'nc']=_0x5753ca,this['propertyCh'+'anged'](Ly));}get['compareFun'+'c'](){return this['_compareFu'+'nc'];}set['anisotropy'](_0x44d866){this['_anisotrop'+'y']!==_0x44d866&&(this['_anisotrop'+'y']=_0x44d866,this['propertyCh'+'anged'](Ry));}get['anisotropy'](){return this['_anisotrop'+'y'];}set['mipmaps'](_0x5744f9){this['_mipmaps']!==_0x5744f9&&(this['device']['isWebGPU']?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20is\x20curr'+'ently\x20not\x20'+'allowed\x20to'+'\x20be\x20change'+'d\x20on\x20WebGP'+'U,\x20create\x20'+'the\x20textur'+'e\x20appropri'+'ately.',this):dn(this['_format'])?w['warn']('Texture#mi'+'pmaps:\x20mip'+'map\x20proper'+'ty\x20cannot\x20'+'be\x20changed'+'\x20on\x20an\x20int'+'eger\x20textu'+'re,\x20will\x20r'+'emain\x20fals'+'e',this):this['_mipmaps']=_0x5744f9,_0x5744f9&&(this['_needsMipm'+'apsUpload']=!(0x2608+0x2e7*-0xc+-0x334)));}get['mipmaps'](){return this['_mipmaps'];}get['numLevels'](){return this['_numLevels'];}get['storage'](){return this['_storage'];}get['width'](){return this['_width'];}get['height'](){return this['_height'];}get['depth'](){return this['_depth'];}get['format'](){return this['_format'];}get['cubemap'](){return this['_cubemap'];}get['gpuSize'](){const _0x5cdcb0=this['pot']&&this['_mipmaps']&&!(this['_compresse'+'d']&&this['_levels']['length']===0x176e*-0x1+-0x21*-0x3b+-0x1*-0xfd4);return Xi['calcGpuSiz'+'e'](this['_width'],this['_height'],this['_depth'],this['_format'],_0x5cdcb0,this['_cubemap']);}get['array'](){return this['_arrayLeng'+'th']>-0x9a+-0x3*-0x6fe+-0x20*0xa3;}get['arrayLengt'+'h'](){return this['_arrayLeng'+'th'];}get['volume'](){return this['_volume'];}set['type'](_0x4927b1){this['_type']!==_0x4927b1&&(this['_type']=_0x4927b1,this['device']['_shadersDi'+'rty']=!(-0x1*0x75d+0x17d+0x5e0));}get['type'](){return this['_type'];}set['srgb'](_0x3fb01b){var _0x10860a,_0x3bb353,_0x52c806,_0x4f667b;const _0x3ebfe0=fh(this['format']);if(_0x3fb01b!==_0x3ebfe0){if(_0x3fb01b){const _0x5ccbf9=ld(this['format']);this['_format']!==_0x5ccbf9&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20sRGB\x20'+'equivalent'+':\x20')+((_0x10860a=Nt['get'](this['format']))==null?void(0x2*0x10b9+0x11f3+-0x3365):_0x10860a['name'])+'\x20->\x20'+((_0x3bb353=Nt['get'](_0x5ccbf9))==null?void(0xa2b+0x4*-0x99b+0x1c41):_0x3bb353['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x5ccbf9,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(-0x43*-0x93+-0x1*0xaed+-0x1b8c*0x1));}else{const _0x3d9d32=Lx(this['format']);this['_format']!==_0x3d9d32&&(w['warn']('Switching\x20'+'format\x20of\x20'+'texture\x20\x27'+this['name']+('\x27\x20to\x20linea'+'r\x20equivale'+'nt:\x20')+((_0x52c806=Nt['get'](this['format']))==null?void(-0xf00+-0xecf+0x1*0x1dcf):_0x52c806['name'])+'\x20->\x20'+((_0x4f667b=Nt['get'](_0x3d9d32))==null?void(-0xa*-0x12a+0x8e7*0x2+0x1*-0x1d72):_0x4f667b['name'])+('.\x20This\x20is\x20'+'an\x20expensi'+'ve\x20operati'+'on,\x20and\x20th'+'e\x20texture\x20'+'should\x20be\x20'+'created\x20us'+'ing\x20the\x20ri'+'ght\x20format'+'\x20to\x20avoid\x20'+'this.'),this),this['_format']=_0x3d9d32,this['recreateIm'+'pl'](),this['device']['_shadersDi'+'rty']=!(0x1db4+0x210a+-0x1f5f*0x2));}}}get['srgb'](){return fh(this['format']);}set['flipY'](_0x365e01){this['_flipY']!==_0x365e01&&(this['_flipY']=_0x365e01,this['_needsUplo'+'ad']=!(0x537*-0x4+-0x9*-0x261+-0x8d));}get['flipY'](){return this['_flipY'];}set['premultipl'+'yAlpha'](_0x5455b5){this['_premultip'+'lyAlpha']!==_0x5455b5&&(this['_premultip'+'lyAlpha']=_0x5455b5,this['_needsUplo'+'ad']=!(-0x1*0x206f+0xad2+-0x1f7*-0xb));}get['premultipl'+'yAlpha'](){return this['_premultip'+'lyAlpha'];}get['pot'](){return Y['powerOfTwo'](this['_width'])&&Y['powerOfTwo'](this['_height']);}get['encoding'](){switch(this['type']){case Zi:return'rgbm';case mh:return'rgbe';case Qo:return'rgbp';}return py(this['format'])?'srgb':'linear';}['dirtyAll'](){this['_levelsUpd'+'ated']=this['_cubemap']?[[!(-0xe92+0x1*-0x1b3b+-0x1*-0x29cd),!(-0x222*-0xd+-0x260c+0xa52),!(0x22*-0x49+0xa7d*-0x3+0x2929),!(0x112+0x168d*-0x1+-0x3*-0x729),!(-0x551*0x7+-0x1*-0x742+0x1df5),!(-0x182*0xd+0xc63+0x737)]]:[!(-0x464*-0x4+0x3*-0x25e+-0xa76)],this['_needsUplo'+'ad']=!(-0x2*0xa45+0x19fd+-0x573),this['_needsMipm'+'apsUpload']=this['_mipmaps'],this['_mipmapsUp'+'loaded']=!(-0x68b*-0x2+-0x2318+-0x1603*-0x1),this['propertyCh'+'anged'](lT);}['lock'](_0x9a7d15={}){_0x9a7d15['level']??(_0x9a7d15['level']=0x8f9*0x1+0x11*0x162+-0x207b),_0x9a7d15['face']??(_0x9a7d15['face']=-0x1f85*0x1+0x532+-0x1a53*-0x1),_0x9a7d15['mode']??(_0x9a7d15['mode']=Od),w['assert'](this['_lockedMod'+'e']===$l,'The\x20textur'+'e\x20is\x20alrea'+'dy\x20locked.'+'\x20Call\x20`tex'+'ture.unloc'+'k()`\x20befor'+'e\x20attempti'+'ng\x20to\x20lock'+'\x20again.',this),w['assert'](_0x9a7d15['mode']===yy||_0x9a7d15['mode']===Od,'Cannot\x20loc'+'k\x20a\x20textur'+'e\x20with\x20TEX'+'TURELOCK_N'+'ONE.\x20To\x20un'+'lock\x20a\x20tex'+'ture,\x20call'+'\x20`texture.'+'unlock()`.',this),this['_lockedMod'+'e']=_0x9a7d15['mode'],this['_lockedLev'+'el']=_0x9a7d15['level'];const _0x157554=this['cubemap']?this['_levels'][_0x9a7d15['face']]:this['_levels'];if((_0x157554==null?void(0x934+0x205*0x5+-0x134d):_0x157554[_0x9a7d15['level']])===null){const _0x268c7d=Math['max'](-0x1*0xba1+0x79b+0x407,this['_width']>>_0x9a7d15['level']),_0x205afe=Math['max'](0x10ee+-0x8*-0x293+-0x2585,this['_height']>>_0x9a7d15['level']),_0x478028=Math['max'](0x19a2+0x1*-0x62b+-0x1376,this['_depth']>>_0x9a7d15['level']),_0x356134=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x268c7d,_0x205afe,_0x478028,this['_format']));_0x157554[_0x9a7d15['level']]=new(my(this['_format']))(_0x356134);}return _0x157554==null?void(0x12b4+0x14*0x34+-0x16c4):_0x157554[_0x9a7d15['level']];}['setSource'](_0x5807ca,_0x43c2a8=0x2184+0x26b2+0x6*-0xc09){let _0x297082=!(0x179*-0x16+-0xeb*0x28+-0x451f*-0x1),_0x3a1c62,_0x4b7808;if(this['_cubemap']){if(_0x5807ca[0x232*0x10+-0x31*-0xbc+-0x471c]){_0x3a1c62=_0x5807ca[0x1dc1+0x1b4e+-0x1b*0x21d]['width']||-0xf91+0xc0c+0x11*0x35,_0x4b7808=_0x5807ca[0x53*0x3a+0x15*-0x197+-0xe95*-0x1]['height']||0x1d36+-0x1a7*-0x12+-0x3af4;for(let _0x497db5=0x29*0x86+0x1d34+-0x32aa;_0x497db5<-0x1206*-0x2+0x181b+-0x7*0x897;_0x497db5++){const _0x3a2fe0=_0x5807ca[_0x497db5];if(!_0x3a2fe0||_0x3a2fe0['width']!==_0x3a1c62||_0x3a2fe0['height']!==_0x4b7808||!this['device']['_isBrowser'+'Interface'](_0x3a2fe0)){_0x297082=!(-0x1*0x1802+0x1e83+-0x3*0x22b);break;}}}else _0x297082=!(-0x1aff*-0x1+0xc16+0x159*-0x1d);if(!_0x297082){for(let _0x2f51ce=-0x1ea5+0x5ed*-0x5+0x1e23*0x2;_0x2f51ce<-0xd44+-0x2*-0x10d+0xb30;_0x2f51ce++)this['_levels'][_0x43c2a8][_0x2f51ce]!==_0x5807ca[_0x2f51ce]&&(this['_levelsUpd'+'ated'][_0x43c2a8][_0x2f51ce]=!(0x2345*-0x1+0x139*0xb+-0x85*-0x2a));}}else this['device']['_isBrowser'+'Interface'](_0x5807ca)||(_0x297082=!(-0x141*0xf+0x7b8+0xa7*0x11)),_0x297082||(_0x5807ca!==this['_levels'][_0x43c2a8]&&(this['_levelsUpd'+'ated'][_0x43c2a8]=!(0xce6+-0x2107+0x1421)),_0x5807ca instanceof HTMLVideoElement?(_0x3a1c62=_0x5807ca['videoWidth'],_0x4b7808=_0x5807ca['videoHeigh'+'t']):(_0x3a1c62=_0x5807ca['width'],_0x4b7808=_0x5807ca['height']));if(_0x297082){if(this['_width']=0x84*0x44+0x150b+0x3817*-0x1,this['_height']=-0x4fd+0x8ce+-0x3cd,this['_cubemap']){for(let _0x118012=-0x3*-0x65d+0x21b8+-0x34cf;_0x118012<-0x6f3*-0x5+0xe9b+-0x3154;_0x118012++)this['_levels'][_0x43c2a8][_0x118012]=null,this['_levelsUpd'+'ated'][_0x43c2a8][_0x118012]=!(-0x2270+0x3b*0x16+0xeaf*0x2);}else this['_levels'][_0x43c2a8]=null,this['_levelsUpd'+'ated'][_0x43c2a8]=!(0xd61+0xac+0x147*-0xb);}else _0x43c2a8===-0x1*0x1aa+-0x23fe*0x1+0x25a8*0x1&&(this['_width']=_0x3a1c62,this['_height']=_0x4b7808),this['_levels'][_0x43c2a8]=_0x5807ca;(this['_invalid']!==_0x297082||!_0x297082)&&(this['_invalid']=_0x297082,this['upload']());}['getSource'](_0x12d9f2=0x1180+-0x1e07+-0x3*-0x42d){return this['_levels'][_0x12d9f2];}['unlock'](){this['_lockedMod'+'e']===$l&&w['warn']('pc.Texture'+'#unlock:\x20A'+'ttempting\x20'+'to\x20unlock\x20'+'a\x20texture\x20'+'that\x20is\x20no'+'t\x20locked.',this),this['_lockedMod'+'e']===Od&&this['upload'](),this['_lockedLev'+'el']=-(0x2*-0x29+-0x6*-0x24b+-0xd6f),this['_lockedMod'+'e']=$l;}['upload'](){var _0x1ae460,_0x4c8856;this['_needsUplo'+'ad']=!(0x862+0x24e*-0x7+0x7c0),this['_needsMipm'+'apsUpload']=this['_mipmaps'],(_0x4c8856=(_0x1ae460=this['impl'])['uploadImme'+'diate'])==null||_0x4c8856['call'](_0x1ae460,this['device'],this);}['read'](_0x20e5de,_0x4a1bb7,_0x287422,_0x3c9f36,_0x41b6b3={}){var _0x248c17,_0x5c0102;return(_0x5c0102=(_0x248c17=this['impl'])['read'])==null?void(-0x37*-0x71+0x49*-0x2+-0x17b5):_0x5c0102['call'](_0x248c17,_0x20e5de,_0x4a1bb7,_0x287422,_0x3c9f36,_0x41b6b3);}['write'](_0xebf954,_0x4cf379,_0x3176b4,_0x2cc4b6,_0xd2d4cc){var _0x4317b5,_0x4edc33;return(_0x4edc33=(_0x4317b5=this['impl'])['write'])==null?void(-0x2525+0x22f3+0x232):_0x4edc33['call'](_0x4317b5,_0xebf954,_0x4cf379,_0x3176b4,_0x2cc4b6,_0xd2d4cc);}}const mT={'white':[0x1542+-0x238a*-0x1+-0x1*0x37cd,0x13a6+-0xedf+-0x3c8,0x226*-0x12+0x2123+-0xb*-0x98,0x2*0x520+0x1e5e+-0x279f],'gray':[0xc83*0x2+-0x1759+-0x7*0x2b,-0x182*0x3+-0x2248+-0x12*-0x22f,-0x897+-0xe89+0x17a0,0x1f94+0xb3*0x3+0xb2*-0x2f],'black':[0x2b*-0x7+0x1ece+-0x1da1,0x20e3+-0x2c1+-0x7*0x44e,-0x2f5*0x7+0x1*0x1aec+-0x3b*0x1b,0x690+0x5*-0x6d3+-0x1*-0x1c8e],'normal':[-0x2557+0x4b6*0x5+0x4c3*0x3,-0x22a1+0x1*-0xf9e+0x32bf*0x1,0x1d6*-0x2+-0x5e+0x509*0x1,0x12b0+0x12ca+0xb*-0x351],'pink':[0x22b4*-0x1+-0x210a+0x44bd,0x1*0x2581+0x471+-0x84a*0x5,0x181*-0xd+-0x1*0x1ef+-0x47f*-0x5,-0x1bb3+-0x283*-0x1+0x1*0x1a2f]};class _T{constructor(){h(this,'map',new Map());}['destroy'](){this['map']['forEach'](_0xb50734=>{_0xb50734['destroy']();});}}const gT=new Kt(),fa=(_0x7e84e1,_0x3e5996)=>{const _0x312c98=gT['get'](_0x7e84e1,()=>new _T());if(!_0x312c98['map']['has'](_0x3e5996)){const _0x1d2a2f=new _e(_0x7e84e1,{'name':'built-in-t'+'exture-'+_0x3e5996,'width':0x1,'height':0x1,'format':Ne}),_0x35d7fc=_0x1d2a2f['lock'](),_0x9ac354=mT[_0x3e5996];w['assert'](_0x9ac354,'Data\x20for\x20b'+'uilt-in\x20te'+'xture\x20\x27'+_0x3e5996+('\x27\x20not\x20foun'+'d')),_0x35d7fc['set'](_0x9ac354),_0x1d2a2f['unlock'](),_0x312c98['map']['set'](_0x3e5996,_0x1d2a2f);}return _0x312c98['map']['get'](_0x3e5996);};let ST=0x4a9*0x1+-0x1e7b+0x19d2;class ky{constructor(){h(this,'bindGroup'),h(this,'offsets',[]);}}class Up{constructor(_0x5d0d2c,_0x48cdf5,_0x9e7b46){h(this,'renderVers'+'ionUpdated',-(0xaa9+0x150d+-0x1*0x1fb5)),h(this,'uniformBuf'+'fers'),h(this,'uniformBuf'+'ferOffsets',[]),(this['id']=ST++,this['device']=_0x5d0d2c,this['format']=_0x48cdf5,this['dirty']=!(-0x215a+-0x4fa+0x2654*0x1),this['impl']=_0x5d0d2c['createBind'+'GroupImpl'](this),this['textures']=[],this['storageTex'+'tures']=[],this['storageBuf'+'fers']=[],this['uniformBuf'+'fers']=[],this['defaultUni'+'formBuffer']=_0x9e7b46,_0x9e7b46&&this['setUniform'+'Buffer'](Np,_0x9e7b46),w['trace'](Y0,'Alloc:\x20Id\x20'+this['id'],this,_0x48cdf5));}['destroy'](){this['impl']['destroy'](),this['impl']=null,this['format']=null,this['defaultUni'+'formBuffer']=null;}['setUniform'+'Buffer'](_0x458fa0,_0x5084a8){const _0x43f843=this['format']['bufferForm'+'atsMap']['get'](_0x458fa0);w['assert'](_0x43f843!==void(0x2034+0x62*-0x22+-0x266*0x8),'Setting\x20a\x20'+'uniform\x20['+_0x458fa0+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['uniformBuf'+'fers'][_0x43f843]!==_0x5084a8&&(this['uniformBuf'+'fers'][_0x43f843]=_0x5084a8,this['dirty']=!(-0x4a5*-0x2+-0x7*-0x2fb+-0x1e27));}['setStorage'+'Buffer'](_0x2633a7,_0x3623b6){const _0x4ffafe=this['format']['storageBuf'+'ferFormats'+'Map']['get'](_0x2633a7);w['assert'](_0x4ffafe!==void(-0x1*0x255d+-0x258f+-0x3bf*-0x14),'Setting\x20a\x20'+'storage\x20bu'+'ffer\x20['+_0x2633a7+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageBuf'+'fers'][_0x4ffafe]!==_0x3623b6&&(this['storageBuf'+'fers'][_0x4ffafe]=_0x3623b6,this['dirty']=!(0x3*-0x9db+0x1dbf+-0x2e*0x1));}['setTexture'](_0x5afa64,_0x5abad4){const _0x537499=this['format']['textureFor'+'matsMap']['get'](_0x5afa64);w['assert'](_0x537499!==void(-0x19d2+0x2560+-0x33*0x3a),'Setting\x20a\x20'+'texture\x20['+_0x5afa64+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['textures'][_0x537499]!==_0x5abad4?(this['textures'][_0x537499]=_0x5abad4,this['dirty']=!(-0x22d0*-0x1+-0xad2+-0x17fe)):this['renderVers'+'ionUpdated']<_0x5abad4['renderVers'+'ionDirty']&&(this['dirty']=!(-0x26c1+-0xa34+0x30f5));}['setStorage'+'Texture'](_0x2a366e,_0x26d21e){const _0x356ac4=this['format']['storageTex'+'tureFormat'+'sMap']['get'](_0x2a366e);w['assert'](_0x356ac4!==void(0x2670+0x15c8+0x2f*-0x148),'Setting\x20a\x20'+'storage\x20te'+'xture\x20['+_0x2a366e+(']\x20on\x20a\x20bin'+'d\x20group\x20wi'+'th\x20id:\x20')+this['id']+('\x20which\x20doe'+'s\x20not\x20cont'+'ain\x20it,\x20wh'+'ile\x20render'+'ing\x20[')+Q['toString']()+']',this),this['storageTex'+'tures'][_0x356ac4]!==_0x26d21e?(this['storageTex'+'tures'][_0x356ac4]=_0x26d21e,this['dirty']=!(-0x13bc+-0x2dc+0x3c4*0x6)):this['renderVers'+'ionUpdated']<_0x26d21e['renderVers'+'ionDirty']&&(this['dirty']=!(-0x11*-0x10b+-0x2153+0x4*0x3e6));}['updateUnif'+'ormBuffers'](){for(let _0x568e8e=0x18d6+0x1621+-0x1*0x2ef7;_0x568e8e<this['uniformBuf'+'fers']['length'];_0x568e8e++)this['uniformBuf'+'fers'][_0x568e8e]['update']();}['update'](){const {textureFormats:_0x44ad57,storageTextureFormats:_0x4bead1,storageBufferFormats:_0xd3f8d8}=this['format'];for(let _0x2b9174=0xa*-0x2e9+-0x1*-0x1153+0x1*0xbc7;_0x2b9174<_0x44ad57['length'];_0x2b9174++){const _0x46703f=_0x44ad57[_0x2b9174];let _0x340be8=_0x46703f['scopeId']['value'];_0x340be8||(_0x46703f['name']==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x340be8=fa(this['device'],'white')),_0x46703f['name']==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x340be8=fa(this['device'],'pink')),_0x340be8||(w['errorOnce']('Texture\x20'+_0x46703f['name']+('\x20is\x20requir'+'ed\x20for\x20ren'+'dering\x20but'+'\x20was\x20not\x20s'+'et.\x20Render'+'ing\x20[')+Q['toString']()+']'),_0x340be8=fa(this['device'],'pink'))),this['setTexture'](_0x46703f['name'],_0x340be8);}for(let _0xa80460=-0x245a+-0x58e+0xc*0x37e;_0xa80460<_0x4bead1['length'];_0xa80460++){const _0x432650=_0x4bead1[_0xa80460],_0x1dd8c8=_0x432650['scopeId']['value'];w['assert'](_0x1dd8c8,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20texture\x20s'+'lot\x20['+_0x432650['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Texture'](_0x432650['name'],_0x1dd8c8);}for(let _0x44bf0e=0x162*0x3+-0x1*0x15da+0x11b4;_0x44bf0e<_0xd3f8d8['length'];_0x44bf0e++){const _0xd86e3d=_0xd3f8d8[_0x44bf0e],_0x3d67b8=_0xd86e3d['scopeId']['value'];w['assert'](_0x3d67b8,'Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20storage'+'\x20buffer\x20sl'+'ot\x20['+_0xd86e3d['name']+(']\x20to\x20a\x20bin'+'d\x20group,\x20w'+'hile\x20rende'+'ring\x20[')+Q['toString']()+']',this),this['setStorage'+'Buffer'](_0xd86e3d['name'],_0x3d67b8);}this['uniformBuf'+'ferOffsets']['length']=this['uniformBuf'+'fers']['length'];for(let _0x54b007=-0x291+0x1fdf+-0x1d4e;_0x54b007<this['uniformBuf'+'fers']['length'];_0x54b007++){const _0x5125c8=this['uniformBuf'+'fers'][_0x54b007];this['uniformBuf'+'ferOffsets'][_0x54b007]=_0x5125c8['offset'],this['renderVers'+'ionUpdated']<_0x5125c8['renderVers'+'ionDirty']&&(this['dirty']=!(-0x1145*-0x1+-0xe*-0x128+0x3*-0xb27));}this['dirty']&&(this['dirty']=!(-0x1e2c+-0x277*0x6+0x2cf7),this['renderVers'+'ionUpdated']=this['device']['renderVers'+'ion'],this['impl']['update'](this));}}const qe={'set'(_0x431341,_0x5d3163,_0x7ed85d,_0x536f1e=0xc42*-0x3+-0x2435+0x2*0x247e){return _0x431341&~(_0x536f1e<<_0x7ed85d)|_0x5d3163<<_0x7ed85d;},'get'(_0x142f9a,_0xf8c88d,_0x3a6004=-0x71d*-0x3+-0x1d6c+0x816){return _0x142f9a>>_0xf8c88d&_0x3a6004;},'all'(_0x36436e,_0x31ab78,_0x31b3e1=-0xe06+0x111e+-0x7*0x71){const _0x4f40ca=_0x31b3e1<<_0x31ab78;return(_0x36436e&_0x4f40ca)===_0x4f40ca;},'any'(_0x1b8ffd,_0x31a946,_0x53f4ab=-0x200c+-0x1ad7+-0x3ae4*-0x1){return(_0x1b8ffd&_0x53f4ab<<_0x31a946)!==-0x6f2+-0x1b58+0x5b7*0x6;}},Xl=0xe6b+-0x1*0x191+-0xcd3,ir=-0x1d7*0x15+-0x1d6c+0x1*0x441e,Hm=-0x161c+0x37*-0x85+0x32af,Wm=0x111b*0x1+-0x7*-0x38f+-0x2a01,$m=0x265*-0x2+-0x4*-0x103+0xc5,Xm=0xd56+-0xcb4+-0x97,qm=0x238a+0x2f*-0xb0+-0x32c,jm=0x9b*-0x2f+0x9*-0x41f+-0xe3*-0x4a,iu=0x16b9+-0x19*0x180+0x2f9*0x5,Ym=-0x4c1*0x4+-0x145*0xb+0x2112,Km=0x1*0x19a2+0x16*-0xb+-0x1898,Zm=-0x18*0x10b+-0x1edf+0x3800,Qm=0x1*0x2f3+-0x1f8e+-0x1cb5*-0x1,yT=0x1*0x7fb+-0x1*0x128+-0x6c4,vT=iu,ri=class ri{constructor(_0x13f7c9=!(-0x3*0xc37+0x1*-0x1cb8+0x1*0x415e),_0x3cb216=fs,_0x83b097=Ft,_0x4a8348=rp,_0x240a61,_0x1f4688,_0x2f285f,_0x1afb98=!(-0x23a7+-0x1c54+-0xb*-0x5d1),_0x181ead=!(0x9d2+-0x1d4d*-0x1+0x7d3*-0x5),_0x5d87c8=!(0x1*-0x24dd+-0xe02+0x32df),_0x585b09=!(0x1e90+0x167*-0x1+-0x1d29)){h(this,'target0',-0x1*-0x8e1+0x2df+0x178*-0x8),(this['setColorBl'+'end'](_0x3cb216,_0x83b097,_0x4a8348),this['setAlphaBl'+'end'](_0x240a61??_0x3cb216,_0x1f4688??_0x83b097,_0x2f285f??_0x4a8348),this['setColorWr'+'ite'](_0x1afb98,_0x181ead,_0x5d87c8,_0x585b09),this['blend']=_0x13f7c9);}set['blend'](_0x32b476){this['target0']=qe['set'](this['target0'],_0x32b476?0xab2+-0x13cc+0x91b:0x1aef+-0x1a45+-0xaa,Qm);}get['blend'](){return qe['all'](this['target0'],Qm);}['setColorBl'+'end'](_0x1a4786,_0x3d0475,_0x2afa07){this['target0']=qe['set'](this['target0'],_0x1a4786,Hm,Xl),this['target0']=qe['set'](this['target0'],_0x3d0475,Wm,ir),this['target0']=qe['set'](this['target0'],_0x2afa07,$m,ir);}['setAlphaBl'+'end'](_0x5a2239,_0x22a6c3,_0x19416b){this['target0']=qe['set'](this['target0'],_0x5a2239,Xm,Xl),this['target0']=qe['set'](this['target0'],_0x22a6c3,qm,ir),this['target0']=qe['set'](this['target0'],_0x19416b,jm,ir);}['setColorWr'+'ite'](_0x581b5f,_0x4a5274,_0x38d596,_0xd18c3d){this['redWrite']=_0x581b5f,this['greenWrite']=_0x4a5274,this['blueWrite']=_0x38d596,this['alphaWrite']=_0xd18c3d;}get['colorOp'](){return qe['get'](this['target0'],Hm,Xl);}get['colorSrcFa'+'ctor'](){return qe['get'](this['target0'],Wm,ir);}get['colorDstFa'+'ctor'](){return qe['get'](this['target0'],$m,ir);}get['alphaOp'](){return qe['get'](this['target0'],Xm,Xl);}get['alphaSrcFa'+'ctor'](){return qe['get'](this['target0'],qm,ir);}get['alphaDstFa'+'ctor'](){return qe['get'](this['target0'],jm,ir);}set['redWrite'](_0x5098a1){this['target0']=qe['set'](this['target0'],_0x5098a1?0x484*0x5+-0x1c3*-0x3+-0x4*0x6f7:0x4a9*-0x5+0x26e8+-0xf9b,iu);}get['redWrite'](){return qe['all'](this['target0'],iu);}set['greenWrite'](_0x22c0e2){this['target0']=qe['set'](this['target0'],_0x22c0e2?0xac4+0x1128+-0x1beb:-0x1c+0x43b+-0x1*0x41f,Ym);}get['greenWrite'](){return qe['all'](this['target0'],Ym);}set['blueWrite'](_0x5136d4){this['target0']=qe['set'](this['target0'],_0x5136d4?0xe+0x4d*-0x10+0x4c3:0x26f2+-0x1713+-0xfdf,Km);}get['blueWrite'](){return qe['all'](this['target0'],Km);}set['alphaWrite'](_0x41c2dd){this['target0']=qe['set'](this['target0'],_0x41c2dd?0x16e+0x1a3f*0x1+-0x1bac:-0x44f+-0x4*-0x854+-0x1d01,Zm);}get['alphaWrite'](){return qe['all'](this['target0'],Zm);}get['allWrite'](){return qe['get'](this['target0'],vT,yT);}['copy'](_0x231ef4){return this['target0']=_0x231ef4['target0'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}get['key'](){return this['target0'];}['equals'](_0x5e0cd3){return this['target0']===_0x5e0cd3['target0'];}};h(ri,'NOBLEND',Object['freeze'](new ri())),h(ri,'NOWRITE',Object['freeze'](new ri(void(-0x536+0x158f*-0x1+0x3d3*0x7),void(0x139c+0x4*-0x80d+0xc98),void(-0x1266+0x1c67*0x1+0xa01*-0x1),void(-0x1c4+0x1cab+-0x1ae7*0x1),void(0x725+-0x4*0x5f+-0x5a9),void(0x611+-0x225f+0xe27*0x2),void(0x6b9*0x4+0x2cf*-0xa+0x132),!(-0x110+-0x95*-0xb+-0x556),!(-0x4f*0x2d+-0x1*-0x1d87+-0xfa3*0x1),!(-0x691+-0x1cf8+0x238a),!(0x3*-0x5e2+0x30*0xa2+-0xcb9)))),h(ri,'ALPHABLEND',Object['freeze'](new ri(!(-0xa5*-0x19+0x10a6+-0x20c3),fs,jh,Yh))),h(ri,'ADDBLEND',Object['freeze'](new ri(!(-0x1504+0x67*-0x4a+0x32ca),fs,Ft,Ft)));let pt=ri;class Bp{constructor(){h(this,'map',new Map()),h(this,'id',-0x6a5+0x1d*-0x19+-0x4bd*-0x2);}['get'](_0x2947e1){let _0x3c312b=this['map']['get'](_0x2947e1);return _0x3c312b===void(-0x108b+-0x196d+0x4*0xa7e)&&(_0x3c312b=this['id']++,this['map']['set'](_0x2947e1,_0x3c312b)),_0x3c312b;}}const xT=new Bp(),Jm=-0x260b+0x1e71*-0x1+0x4483*0x1,e_=-0x14f9*-0x1+0x1*-0xbe9+-0x910,t_=0x380*0x2+0xa40+-0x113d,_r=class _r{constructor(_0x1719bf=Wf,_0x2c4d4a=!(0x2d3*-0xd+0x62b+0x73*0x44)){h(this,'data',-0x714*-0x5+0x9b+-0x5f*0x61),h(this,'_depthBias',-0x1*-0x212f+-0x515*0x7+0x66*0x6),h(this,'_depthBias'+'Slope',0x761+-0x157*0x17+0x177*0x10),h(this,'key',-0x4*0x7d0+-0x7ea*0x3+0x36fe),(this['func']=_0x1719bf,this['write']=_0x2c4d4a);}set['test'](_0x20a9b0){this['func']=_0x20a9b0?Wf:Wi,this['updateKey']();}get['test'](){return this['func']!==Wi;}set['write'](_0xc9d2d1){this['data']=qe['set'](this['data'],_0xc9d2d1?-0xa2*-0x25+-0x28e*-0xa+0x53*-0x97:-0x1*0xc4d+-0x554+0x11a1,t_),this['updateKey']();}get['write'](){return qe['all'](this['data'],t_);}set['func'](_0x98c887){this['data']=qe['set'](this['data'],_0x98c887,e_,Jm),this['updateKey']();}get['func'](){return qe['get'](this['data'],e_,Jm);}set['depthBias'](_0x204c19){this['_depthBias']=_0x204c19,this['updateKey']();}get['depthBias'](){return this['_depthBias'];}set['depthBiasS'+'lope'](_0x5f73f){this['_depthBias'+'Slope']=_0x5f73f,this['updateKey']();}get['depthBiasS'+'lope'](){return this['_depthBias'+'Slope'];}['copy'](_0x591848){return this['data']=_0x591848['data'],this['_depthBias']=_0x591848['_depthBias'],this['_depthBias'+'Slope']=_0x591848['_depthBias'+'Slope'],this['key']=_0x591848['key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['updateKey'](){const {data:_0x4a7980,_depthBias:_0x4ff8d3,_depthBiasSlope:_0x48dbd3}=this,_0x5e828e=_0x4a7980+'-'+_0x4ff8d3+'-'+_0x48dbd3;this['key']=xT['get'](_0x5e828e);}['equals'](_0x578a58){return this['key']===_0x578a58['key'];}};h(_r,'DEFAULT',Object['freeze'](new _r())),h(_r,'NODEPTH',Object['freeze'](new _r(Wi,!(0xc5c+0x11b7+-0x1e12)))),h(_r,'WRITEDEPTH',Object['freeze'](new _r(Wi,!(0x17a2+-0x162d+-0x175))));let Yt=_r;class Uy{constructor(){h(this,'globalId',0x5e+-0x1ccf+0x9*0x329),h(this,'revision',-0x5*-0x3ab+0x12b+0x1382*-0x1);}['equals'](_0x101ecc){return this['globalId']===_0x101ecc['globalId']&&this['revision']===_0x101ecc['revision'];}['copy'](_0x2f278f){this['globalId']=_0x2f278f['globalId'],this['revision']=_0x2f278f['revision'];}['reset'](){this['globalId']=0x256c+-0xc43+-0x1929,this['revision']=-0x1ffc+-0x1*0x122c+0x3228;}}let s_=-0x23ff+-0x1e43*-0x1+0x5bc*0x1;class TT{constructor(){s_++,this['version']=new Uy(),this['version']['globalId']=s_;}['increment'](){this['version']['revision']++;}}class wT{constructor(_0x1702eb){this['name']=_0x1702eb,this['value']=null,this['versionObj'+'ect']=new TT();}['toJSON'](_0x16374c){}['setValue'](_0x5082ab){this['value']=_0x5082ab,this['versionObj'+'ect']['increment']();}['getValue'](){return this['value'];}}class ET{constructor(_0xb72be9){this['name']=_0xb72be9,this['variables']=new Map();}['resolve'](_0xfc6d5b){return this['variables']['has'](_0xfc6d5b)||this['variables']['set'](_0xfc6d5b,new wT(_0xfc6d5b)),this['variables']['get'](_0xfc6d5b);}['removeValu'+'e'](_0x1343ab){for(const _0xe911c2 in this['variables']){const _0x4dd1cf=this['variables'][_0xe911c2];_0x4dd1cf['value']===_0x1343ab&&(_0x4dd1cf['value']=null);}}}let bT=0x107d+0x1423+-0x24a0;class Is{constructor(_0x1dc581,_0x4b2b38,_0xa9d07b,_0x1c627d){h(this,'usage',ms),(w['assert'](arguments['length']<=0xefb+0x1*-0x2485+0x158e&&(!_0x1c627d||typeof _0x1c627d=='object'),'incorrect\x20'+'arguments'),this['usage']=(_0x1c627d==null?void(0x61a+0x16c*0xa+-0x1452):_0x1c627d['usage'])??ms,this['device']=_0x1dc581,this['format']=_0x4b2b38,this['numVertice'+'s']=_0xa9d07b,this['id']=bT++,this['impl']=_0x1dc581['createVert'+'exBufferIm'+'pl'](this,_0x4b2b38,_0x1c627d),this['numBytes']=_0x4b2b38['verticesBy'+'teSize']?_0x4b2b38['verticesBy'+'teSize']:_0x4b2b38['size']*_0xa9d07b,this['adjustVram'+'SizeTracki'+'ng'](_0x1dc581['_vram'],this['numBytes']));const _0x31080f=_0x1c627d==null?void(0x13c6+0x42c+0x17f2*-0x1):_0x1c627d['data'];_0x31080f?this['setData'](_0x31080f):this['storage']=new ArrayBuffer(this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0x507982=this['device'],_0x28e40c=_0x507982['buffers']['indexOf'](this);_0x28e40c!==-(0x3a*-0x6+-0x6ab+0x808)&&_0x507982['buffers']['splice'](_0x28e40c,0x136f+-0x6c6+-0x10e*0xc),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0x507982),this['adjustVram'+'SizeTracki'+'ng'](_0x507982['_vram'],-this['storage']['byteLength'])),this['storage']=null;}['adjustVram'+'SizeTracki'+'ng'](_0x2a1206,_0x48b611){w['trace'](q0,this['id']+'\x20size:\x20'+_0x48b611+'\x20vram.vb:\x20'+_0x2a1206['vb']+'\x20=>\x20'+(_0x2a1206['vb']+_0x48b611)),_0x2a1206['vb']+=_0x48b611;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getUsage'](){return this['usage'];}['getNumVert'+'ices'](){return this['numVertice'+'s'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x2ddc07){return _0x2ddc07['byteLength']!==this['numBytes']?(w['error']('VertexBuff'+'er:\x20wrong\x20'+'initial\x20da'+'ta\x20size:\x20e'+'xpected\x20'+this['numBytes']+',\x20got\x20'+_0x2ddc07['byteLength']),!(0x1*-0x139f+-0x4*-0x364+-0x308*-0x2)):(this['storage']=_0x2ddc07,this['unlock'](),!(-0xf9d+0x1d7+0xdc6));}}function hi(_0xa52d5d){if(_0xa52d5d==null)return-0x206e+-0x125+0x2193;let _0x237ff3=-0x9df+-0x84d+0x122c*0x1;for(let _0x1b1c60=0x4*-0x534+-0x1b74*0x1+0x3044,_0xb46d7b=_0xa52d5d['length'];_0x1b1c60<_0xb46d7b;_0x1b1c60++)_0x237ff3=(_0x237ff3<<-0x1*0x16bf+-0x1d*-0x7f+0x8f*0xf)-_0x237ff3+_0xa52d5d['charCodeAt'](_0x1b1c60),_0x237ff3|=0xf62+-0x10fc+-0x2*-0xcd;return _0x237ff3;}function By(_0x340c4e){let _0x478261=-0x1*0x3fc536f3+0x1*-0x96093b1a+0x12329*0x12d82;for(let _0x31553e=-0x1e86*0x1+-0x1597*-0x1+0x8ef*0x1;_0x31553e<_0x340c4e['length'];_0x31553e++)_0x478261^=_0x340c4e[_0x31553e],_0x478261*=0x1f1775c+-0x6e83*-0x39e+-0x2abf2d*0xf;return _0x478261>>>0xc94+0xf0b+-0x1*0x1b9f;}const AT=new Bp(),CT=[-0x1d4f+0x1*0x7f5+0x155c,0x1e36*-0x1+-0x53e+0x2378,-0x227e+-0x260e+0x4894,-0x7de*0x4+-0xad5+0x125*0x25,-0x4*-0x284+-0x1*-0x439+-0xe39],PT=new Kt();class kt{constructor(_0x495a64,_0xeeb8c2,_0x1edd83){this['device']=_0x495a64,this['_elements']=[],this['hasUv0']=!(-0x1374+-0x62*0x53+0x333b),this['hasUv1']=!(-0x830+-0xe*0x23+0xa1b),this['hasColor']=!(0x10ef+0x1302+0x5c*-0x64),this['hasTangent'+'s']=!(-0x591+-0x891*0x1+0x205*0x7),this['verticesBy'+'teSize']=0x1*-0x255e+0x1358+0x602*0x3,this['vertexCoun'+'t']=_0x1edd83,this['interleave'+'d']=_0x1edd83===void(-0x1*0x45b+-0x1*0x16b7+-0x16*-0x13b),this['instancing']=!(0xa61+0x1989+-0x23e9),this['size']=_0xeeb8c2['reduce']((_0x5400fc,_0xecd763)=>_0x5400fc+Math['ceil'](_0xecd763['components']*No[_0xecd763['type']]/(0x481*-0x5+-0xaa*-0x20+0x149))*(0x7*-0x510+0x3d*-0x47+-0x29*-0x147),0x1689+0x1c9a+-0x3ef*0xd);let _0x526f8b=0x14f9*-0x1+-0x1db*0xb+0x2962*0x1,_0xfda10e;for(let _0xb87b5a=0x1856+-0x143*0x5+-0x47*0x41,_0x4355c6=_0xeeb8c2['length'];_0xb87b5a<_0x4355c6;_0xb87b5a++){const _0xade27d=_0xeeb8c2[_0xb87b5a];_0xfda10e=_0xade27d['components']*No[_0xade27d['type']],w['assert'](kt['isElementV'+'alid'](_0x495a64,_0xade27d),'WebGPU\x20doe'+'s\x20not\x20supp'+'ort\x20the\x20fo'+'rmat\x20of\x20ve'+'rtex\x20eleme'+'nt\x20'+_0xade27d['semantic']+'\x20:\x20'+cT[_0xade27d['type']]+'\x20x\x20'+_0xade27d['components']),_0x1edd83&&(_0x526f8b=Y['roundUp'](_0x526f8b,_0xfda10e),w['assert'](_0xfda10e%(0x8a6+-0x10e9+-0xd*-0xa3)===-0x10c5+-0x1019+0x20de,'Non-interl'+'eaved\x20vert'+'ex\x20format\x20'+'with\x20eleme'+'nt\x20size\x20no'+'t\x20multiple'+'\x20of\x204\x20can\x20'+'have\x20perfo'+'rmance\x20imp'+'act\x20on\x20som'+'e\x20platform'+'s.\x20Element'+'\x20size:\x20'+_0xfda10e));const _0xebace=_0xade27d['asInt']??!(0xcc3+0x285*0x6+0xdf*-0x20),_0x192901=_0xebace?!(-0x526+-0x2c*0x9a+0x1f9f):_0xade27d['normalize']??!(-0x25c3+0x14cf*-0x1+0x3a93),_0x1b8cb7={'name':_0xade27d['semantic'],'offset':_0x1edd83?_0x526f8b:_0xade27d['hasOwnProp'+'erty']('offset')?_0xade27d['offset']:_0x526f8b,'stride':_0x1edd83?_0xfda10e:_0xade27d['hasOwnProp'+'erty']('stride')?_0xade27d['stride']:this['size'],'dataType':_0xade27d['type'],'numComponents':_0xade27d['components'],'normalize':_0x192901,'size':_0xfda10e,'asInt':_0xebace};this['_elements']['push'](_0x1b8cb7),_0x1edd83?_0x526f8b+=_0xfda10e*_0x1edd83:_0x526f8b+=Math['ceil'](_0xfda10e/(-0x10d4+0x25*-0x10e+0x37de))*(-0x22e+0x172c+-0x14fa),_0xade27d['semantic']===is?this['hasUv0']=!(-0x22c4+0x1294+0x1030):_0xade27d['semantic']===ba?this['hasUv1']=!(0x40d+0x155b+-0x1968):_0xade27d['semantic']===Wt?this['hasColor']=!(-0xd4e+-0x2581+0x1*0x32cf):_0xade27d['semantic']===yi&&(this['hasTangent'+'s']=!(0xe8*-0x1a+0x2a5*0x1+-0x15*-0xff));}_0x1edd83&&(this['verticesBy'+'teSize']=_0x526f8b),this['_evaluateH'+'ash']();}get['elements'](){return this['_elements'];}static['getDefault'+'Instancing'+'Format'](_0x341e1b){return PT['get'](_0x341e1b,()=>new kt(_0x341e1b,[{'semantic':Mp,'components':0x4,'type':Ve},{'semantic':Dp,'components':0x4,'type':Ve},{'semantic':Ip,'components':0x4,'type':Ve},{'semantic':Ln,'components':0x4,'type':Ve}]));}static['isElementV'+'alid'](_0x2037d4,_0x4160a2){const _0x499e5e=_0x4160a2['components']*No[_0x4160a2['type']];return!(_0x2037d4['isWebGPU']&&!CT['includes'](_0x499e5e));}['update'](){w['assert'](!this['device']['isWebGPU'],'VertexForm'+'at#update\x20'+'is\x20not\x20sup'+'ported\x20on\x20'+'WebGPU\x20and'+'\x20VertexFor'+'mat\x20cannot'+'\x20be\x20modifi'+'ed.'),this['_evaluateH'+'ash']();}['_evaluateH'+'ash'](){const _0x57e89b=[],_0x273b4f=[],_0x25bb01=this['_elements']['length'];for(let _0x2a5330=-0x1d10+-0xb*0x2bd+0x3b2f;_0x2a5330<_0x25bb01;_0x2a5330++){const {name:_0x53551d,dataType:_0x2ae03c,numComponents:_0x29c002,normalize:_0xb5af91,offset:_0x3d7827,stride:_0x4a0fbb,size:_0x5c6a1c,asInt:_0x582606}=this['_elements'][_0x2a5330],_0x5a0f35=_0x53551d+_0x2ae03c+_0x29c002+_0xb5af91+_0x582606;_0x57e89b['push'](_0x5a0f35);const _0x51efe1=_0x5a0f35+_0x3d7827+_0x4a0fbb+_0x5c6a1c;_0x273b4f['push'](_0x51efe1);}_0x57e89b['sort']();const _0x3cd7b7=_0x57e89b['join']();this['batchingHa'+'sh']=hi(_0x3cd7b7),this['shaderProc'+'essingHash'+'String']=_0x3cd7b7,this['renderingH'+'ashString']=_0x273b4f['join']('_'),this['renderingH'+'ash']=AT['get'](this['renderingH'+'ashString']);}}const MT=new Bp(),zh=class zh{constructor(_0x379fd2={}){h(this,'_func'),h(this,'_ref'),h(this,'_fail'),h(this,'_zfail'),h(this,'_zpass'),h(this,'_readMask'),h(this,'_writeMask'),h(this,'_dirty',!(0x509*-0x5+-0x18ed+0x321a)),h(this,'_key'),(this['_func']=_0x379fd2['func']??Wi,this['_ref']=_0x379fd2['ref']??-0x6a*0x2e+-0x1831*-0x1+-0x525*0x1,this['_readMask']=_0x379fd2['readMask']??-0x1eff+0x3*0x391+0x4f*0x45,this['_writeMask']=_0x379fd2['writeMask']??-0x1239+0x3*-0x19d+0x180f*0x1,this['_fail']=_0x379fd2['fail']??xn,this['_zfail']=_0x379fd2['zfail']??xn,this['_zpass']=_0x379fd2['zpass']??xn,this['_evalKey']());}set['func'](_0x5cb433){this['_func']=_0x5cb433,this['_dirty']=!(-0x9d*-0x23+-0x25d2*0x1+0x35*0x4f);}get['func'](){return this['_func'];}set['ref'](_0x5ea653){this['_ref']=_0x5ea653,this['_dirty']=!(-0x1*0x215c+-0x37b+0x24d7);}get['ref'](){return this['_ref'];}set['fail'](_0x11a3a6){this['_fail']=_0x11a3a6,this['_dirty']=!(-0x3*0xa61+-0x139*0x9+0x2a24);}get['fail'](){return this['_fail'];}set['zfail'](_0x597ec1){this['_zfail']=_0x597ec1,this['_dirty']=!(-0xfea*-0x1+-0xc30+-0x3ba);}get['zfail'](){return this['_zfail'];}set['zpass'](_0x16df0b){this['_zpass']=_0x16df0b,this['_dirty']=!(-0x850*-0x3+0x4*0x16e+-0x1ea8);}get['zpass'](){return this['_zpass'];}set['readMask'](_0x27737a){this['_readMask']=_0x27737a,this['_dirty']=!(0xe9*-0x13+-0x1643+0x7a*0x53);}get['readMask'](){return this['_readMask'];}set['writeMask'](_0x3d23af){this['_writeMask']=_0x3d23af,this['_dirty']=!(-0x55d*-0x2+0x2033+0x3e7*-0xb);}get['writeMask'](){return this['_writeMask'];}['_evalKey'](){const {_func:_0x439d3a,_ref:_0x2c4de7,_fail:_0x531430,_zfail:_0x4ea366,_zpass:_0x3e810f,_readMask:_0x3781bc,_writeMask:_0x104b66}=this,_0x919db1=_0x439d3a+','+_0x2c4de7+','+_0x531430+','+_0x4ea366+','+_0x3e810f+','+_0x3781bc+','+_0x104b66;this['_key']=MT['get'](_0x919db1),this['_dirty']=!(0x177d*0x1+0x210e+-0x388a);}get['key'](){return this['_dirty']&&this['_evalKey'](),this['_key'];}['copy'](_0xf1882f){return this['_func']=_0xf1882f['_func'],this['_ref']=_0xf1882f['_ref'],this['_readMask']=_0xf1882f['_readMask'],this['_writeMask']=_0xf1882f['_writeMask'],this['_fail']=_0xf1882f['_fail'],this['_zfail']=_0xf1882f['_zfail'],this['_zpass']=_0xf1882f['_zpass'],this['_dirty']=_0xf1882f['_dirty'],this['_key']=_0xf1882f['_key'],this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}};h(zh,'DEFAULT',Object['freeze'](new zh()));let pi=zh;const ql=new Set(),Vh=class Vh extends me{constructor(_0x3fb9e7,_0x27fa28){var _0x523a02,_0x2edd44,_0x559dcf,_0x164276,_0x50cf6a,_0x2c11ed;super(),h(this,'canvas'),h(this,'backBuffer',null),h(this,'backBuffer'+'Size',new J()),h(this,'backBuffer'+'Format'),h(this,'backBuffer'+'Antialias',!(0x10a0+0x1a8c+-0x2b2b)),h(this,'isWebGPU',!(-0x5*-0x13b+0x2*-0xfe9+0x35*0x7c)),h(this,'isWebGL2',!(-0x13*0x27+-0x2552+0x2838)),h(this,'isHdr',!(0x2695+-0xc0f*0x3+-0x267)),h(this,'scope'),h(this,'maxIndirec'+'tDrawCount',-0xd0b*-0x1+0x1e71+0x13*-0x214),h(this,'maxAnisotr'+'opy'),h(this,'maxCubeMap'+'Size'),h(this,'maxTexture'+'Size'),h(this,'maxVolumeS'+'ize'),h(this,'maxColorAt'+'tachments',0x197c+-0x4c6*-0x3+-0x27cd*0x1),h(this,'precision'),h(this,'samples'),h(this,'maxSamples',0x2003+-0x1e04+-0x66*0x5),h(this,'supportsSt'+'encil'),h(this,'supportsCo'+'mpute',!(-0x635+0x677+-0x41)),h(this,'supportsSt'+'orageTextu'+'reRead',!(-0x21*0x2f+-0x5*0x4f1+0x1ec5)),h(this,'renderTarg'+'et',null),h(this,'shaders',[]),h(this,'textures',[]),h(this,'targets',new Set()),h(this,'renderVers'+'ion',0x2096+0x5ce*-0x1+-0x1ac8),h(this,'renderPass'+'Index'),h(this,'insideRend'+'erPass',!(0x1d*0xb2+0x5*-0x4ff+0x4d2)),h(this,'supportsUn'+'iformBuffe'+'rs',!(-0xa4*-0x26+0xa31*0x3+0x42*-0xd5)),h(this,'supportsCl'+'ipDistance'+'s',!(0x1d48+0x6*-0x45e+-0x1*0x313)),h(this,'textureFlo'+'atRenderab'+'le'),h(this,'textureHal'+'fFloatRend'+'erable'),h(this,'textureRG1'+'1B10Render'+'able',!(-0x1*-0x553+0x14f2+-0x1a44)),h(this,'textureFlo'+'atFilterab'+'le',!(-0x541*0x1+0x234c+-0x1e0a)),h(this,'quadVertex'+'Buffer'),h(this,'blendState',new pt()),h(this,'depthState',new Yt()),h(this,'stencilEna'+'bled',!(-0x1c1f*0x1+0x1*0x258d+-0x13*0x7f)),h(this,'stencilFro'+'nt',new pi()),h(this,'stencilBac'+'k',new pi()),h(this,'dynamicBuf'+'fers'),h(this,'gpuProfile'+'r'),h(this,'defaultCle'+'arOptions',{'color':[0xe1*0x13+-0x1bd*0x7+-0x488,0x2153+0x3a*0xa9+-0x3f*0x123,0x1*0xd63+0x1*0x1b7f+-0x2*0x1471,0x367*0x3+0x2356+0x192*-0x1d],'depth':0x1,'stencil':0x0,'flags':jo|Yo}),h(this,'clientRect',{'width':0x0,'height':0x0}),h(this,'_shadersDi'+'rty',!(-0xa*0x2c2+-0x945+0x24da)),h(this,'capsDefine'+'s',new Map()),h(this,'mapsToClea'+'r',new Set()),(this['canvas']=_0x3fb9e7,'setAttribu'+'te'in _0x3fb9e7&&_0x3fb9e7['setAttribu'+'te']('data-engin'+'e','PlayCanvas'+'\x20'+hn),this['initOption'+'s']={..._0x27fa28},(_0x523a02=this['initOption'+'s'])['alpha']??(_0x523a02['alpha']=!(-0x5dd+-0x22a1+-0x287e*-0x1)),(_0x2edd44=this['initOption'+'s'])['depth']??(_0x2edd44['depth']=!(-0x80c+-0x570*0x5+0x233c)),(_0x559dcf=this['initOption'+'s'])['stencil']??(_0x559dcf['stencil']=!(0x1b8e*0x1+0x2*0x1bb+-0x14*0x18d)),(_0x164276=this['initOption'+'s'])['antialias']??(_0x164276['antialias']=!(-0x1c8e+0xe69+0x4b7*0x3)),(_0x50cf6a=this['initOption'+'s'])['powerPrefe'+'rence']??(_0x50cf6a['powerPrefe'+'rence']='high-perfo'+'rmance'),(_0x2c11ed=this['initOption'+'s'])['displayFor'+'mat']??(_0x2c11ed['displayFor'+'mat']=oT),this['_maxPixelR'+'atio']=Ae['browser']?Math['min'](-0x31+0x74+-0x1*0x42,window['devicePixe'+'lRatio']):-0x3*0x8a9+0x7*-0x11+0x8d1*0x3,this['buffers']=[],this['_vram']={'texShadow':0x0,'texAsset':0x0,'texLightmap':0x0,'tex':0x0,'vb':0x0,'ib':0x0,'ub':0x0,'sb':0x0},this['_shaderSta'+'ts']={'vsCompiled':0x0,'fsCompiled':0x0,'linked':0x0,'materialShaders':0x0,'compileTime':0x0},this['initialize'+'ContextCac'+'hes'](),this['_drawCalls'+'PerFrame']=-0x1e*0xeb+-0x1814+0x339e,this['_shaderSwi'+'tchesPerFr'+'ame']=0x4af+-0x8de+0x42f,this['_primsPerF'+'rame']=[]);for(let _0x1901a8=cd;_0x1901a8<=oa;_0x1901a8++)this['_primsPerF'+'rame'][_0x1901a8]=0x3*0x251+-0xa7c+-0xb5*-0x5;this['_renderTar'+'getCreatio'+'nTime']=0xed6+0x1498+-0x236e,this['scope']=new ET('Device'),this['textureBia'+'s']=this['scope']['resolve']('textureBia'+'s'),this['textureBia'+'s']['setValue'](0x6ae+0x1841+-0x1eef);}['postInit'](){const _0x180300=new kt(this,[{'semantic':Me,'components':0x2,'type':Ve}]),_0x1e13a1=new Float32Array([-(0x22b2+-0x353+-0xb*0x2da),-(-0x422*0x1+-0x1397+-0xbdd*-0x2),-0x11f9+-0x34*-0x24+0xaaa,-(0x1121+0x332+0x1452*-0x1),-(0x1b90+0x6e*0xf+-0x2201),0x251a+-0x1c7e+0x89b*-0x1,-0x1241+-0xb95+0x1*0x1dd7,0x58f*-0x2+0x15*-0xb1+-0xcd2*-0x2]);this['quadVertex'+'Buffer']=new Is(this,_0x180300,0x13f3+-0x20a4+0xcb5,{'data':_0x1e13a1});}['initCapsDe'+'fines'](){const {capsDefines:_0xa86b21}=this;_0xa86b21['clear'](),this['textureFlo'+'atFilterab'+'le']&&_0xa86b21['set']('CAPS_TEXTU'+'RE_FLOAT_F'+'ILTERABLE',''),this['textureFlo'+'atRenderab'+'le']&&_0xa86b21['set']('CAPS_TEXTU'+'RE_FLOAT_R'+'ENDERABLE','');}['destroy'](){var _0x28186c,_0x39305c,_0x49976d;this['fire']('destroy'),(_0x28186c=this['quadVertex'+'Buffer'])==null||_0x28186c['destroy'](),this['quadVertex'+'Buffer']=null,(_0x39305c=this['dynamicBuf'+'fers'])==null||_0x39305c['destroy'](),this['dynamicBuf'+'fers']=null,(_0x49976d=this['gpuProfile'+'r'])==null||_0x49976d['destroy'](),this['gpuProfile'+'r']=null;}['onDestroyS'+'hader'](_0x4dbcdf){this['fire']('destroy:sh'+'ader',_0x4dbcdf);const _0x411eb5=this['shaders']['indexOf'](_0x4dbcdf);_0x411eb5!==-(-0x312+-0x756*0x1+0xa69)&&this['shaders']['splice'](_0x411eb5,-0xd*0x296+0x2651*0x1+-0x4b2);}['postDestro'+'y'](){this['scope']=null,this['canvas']=null;}['loseContex'+'t'](){var _0xced6e0;this['contextLos'+'t']=!(-0x1*-0x2047+-0x1*-0x1ae7+-0x3b2e),this['backBuffer'+'Size']['set'](-(-0x76*0x2+0xca1*-0x2+0x1*0x1a2f),-(0x13de+0x179c+-0x2b79));for(const _0x79e679 of this['textures'])_0x79e679['loseContex'+'t']();for(const _0x57dd6b of this['buffers'])_0x57dd6b['loseContex'+'t']();for(const _0x45d2a5 of this['targets'])_0x45d2a5['loseContex'+'t']();(_0xced6e0=this['gpuProfile'+'r'])==null||_0xced6e0['loseContex'+'t']();}['restoreCon'+'text'](){var _0x3aeb56,_0x375c30;this['contextLos'+'t']=!(-0x347*-0x9+0x1*0x19+-0x1d97),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes']();for(const _0x37e461 of this['buffers'])_0x37e461['unlock']();(_0x375c30=(_0x3aeb56=this['gpuProfile'+'r'])==null?void(0xa39*0x1+0x7cc*-0x1+-0x17*0x1b):_0x3aeb56['restoreCon'+'text'])==null||_0x375c30['call'](_0x3aeb56);}['toJSON'](_0x118ed8){}['initialize'+'ContextCac'+'hes'](){this['vertexBuff'+'ers']=[],this['shader']=null,this['shaderVali'+'d']=void(0x5*-0x1af+0x20de+-0x1873),this['shaderAsyn'+'cCompile']=!(-0x435+-0xf65+0x3*0x689),this['renderTarg'+'et']=null;}['initialize'+'RenderStat'+'e'](){this['blendState']=new pt(),this['depthState']=new Yt(),this['cullMode']=pa,this['vx']=this['vy']=this['vw']=this['vh']=0x250c+0xba6+-0x10f*0x2e,this['sx']=this['sy']=this['sw']=this['sh']=-0x24e6+0x301*-0x1+0x3*0xd4d,this['blendColor']=new ie(0xb*0x30c+-0x1db5+-0x3cf,0x382*-0xa+-0x29*-0x4f+-0x1*-0x166d,-0x1*-0x1d83+-0x158c+-0x7f7*0x1,0x7c9*-0x1+-0x37d+0xb46);}['setStencil'+'State'](_0x247ae3,_0x149472){w['assert'](!(-0x1819+-0x227f+0x3a99));}['setBlendSt'+'ate'](_0x384fab){w['assert'](!(0x1b46+-0x1*-0x192b+0x10*-0x347));}['setBlendCo'+'lor'](_0x442907,_0x24ad10,_0x3fab35,_0x2eba14){w['assert'](!(0x1f9a+0x12dc+-0x3275));}['setDepthSt'+'ate'](_0xe4c05e){w['assert'](!(-0x1243+-0x1*0x26ef+0x3933));}['setCullMod'+'e'](_0x130ecc){w['assert'](!(0x1c64+0x3ff+0x2*-0x1031));}['setRenderT'+'arget'](_0x19f87b){this['renderTarg'+'et']=_0x19f87b;}['setVertexB'+'uffer'](_0x461420){_0x461420&&this['vertexBuff'+'ers']['push'](_0x461420);}['clearVerte'+'xBuffer'](){this['vertexBuff'+'ers']['length']=0x23f3*-0x1+0x34*0x20+-0x1d73*-0x1;}['getIndirec'+'tDrawSlot'](){return 0xa2*0x37+0x9a8+-0xed2*0x3;}get['indirectDr'+'awBuffer'](){return null;}['getRenderT'+'arget'](){return this['renderTarg'+'et'];}['initRender'+'Target'](_0xf05202){if(_0xf05202['initialize'+'d'])return;const _0x315969=de();this['fire']('fbo:create',{'timestamp':_0x315969,'target':this}),_0xf05202['init'](),this['targets']['add'](_0xf05202),this['_renderTar'+'getCreatio'+'nTime']+=de()-_0x315969;}['draw'](_0x4b7eb0,_0x11b3f6,_0xcd8ed1,_0x216b26,_0x2fed43=!(0x52*0x74+-0x1da6+-0x782),_0x435af3=!(0x1*-0x2db+-0x2522+0x1d*0x161)){w['assert'](!(0x4e9*0x5+0x1513+-0x2d9f));}['_isBrowser'+'Interface'](_0x35f41d){return this['_isImageBr'+'owserInter'+'face'](_0x35f41d)||this['_isImageCa'+'nvasInterf'+'ace'](_0x35f41d)||this['_isImageVi'+'deoInterfa'+'ce'](_0x35f41d);}['_isImageBr'+'owserInter'+'face'](_0x27f2d6){return typeof ImageBitmap<'u'&&_0x27f2d6 instanceof ImageBitmap||typeof HTMLImageElement<'u'&&_0x27f2d6 instanceof HTMLImageElement;}['_isImageCa'+'nvasInterf'+'ace'](_0x499ee9){return typeof HTMLCanvasElement<'u'&&_0x499ee9 instanceof HTMLCanvasElement;}['_isImageVi'+'deoInterfa'+'ce'](_0x368a6b){return typeof HTMLVideoElement<'u'&&_0x368a6b instanceof HTMLVideoElement;}['resizeCanv'+'as'](_0x27ab8a,_0x20e32f){const _0x207253=Math['min'](this['_maxPixelR'+'atio'],Ae['browser']?window['devicePixe'+'lRatio']:0x5*0x49+-0x1099+-0x23*-0x6f),_0x5292bf=Math['floor'](_0x27ab8a*_0x207253),_0x5f40a9=Math['floor'](_0x20e32f*_0x207253);(_0x5292bf!==this['canvas']['width']||_0x5f40a9!==this['canvas']['height'])&&this['setResolut'+'ion'](_0x5292bf,_0x5f40a9);}['setResolut'+'ion'](_0x3a9ca7,_0x8045a9){this['canvas']['width']=_0x3a9ca7,this['canvas']['height']=_0x8045a9,this['fire'](Vh['EVENT_RESI'+'ZE'],_0x3a9ca7,_0x8045a9);}['update'](){this['updateClie'+'ntRect']();}['updateClie'+'ntRect'](){if(Ae['worker'])this['clientRect']['width']=this['canvas']['width'],this['clientRect']['height']=this['canvas']['height'];else{const _0x5441b5=this['canvas']['getBoundin'+'gClientRec'+'t']();this['clientRect']['width']=_0x5441b5['width'],this['clientRect']['height']=_0x5441b5['height'];}}get['width'](){return this['canvas']['width'];}get['height'](){return this['canvas']['height'];}set['fullscreen'](_0x57726d){w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.');}get['fullscreen'](){return w['error']('GraphicsDe'+'vice.fulls'+'creen\x20is\x20n'+'ot\x20impleme'+'nted\x20on\x20cu'+'rrent\x20devi'+'ce.'),!(0x3b3*-0x1+0x1*-0x9f7+-0x1*-0xdab);}set['maxPixelRa'+'tio'](_0x45cc91){this['_maxPixelR'+'atio']=_0x45cc91;}get['maxPixelRa'+'tio'](){return this['_maxPixelR'+'atio'];}get['deviceType'](){return this['_deviceTyp'+'e'];}['startRende'+'rPass'](_0x14a188){}['endRenderP'+'ass'](_0x2c7092){}['startCompu'+'tePass'](_0x37d54b){}['endCompute'+'Pass'](){}['frameStart'](){this['renderPass'+'Index']=0x811+-0xdf*0x1f+-0x650*-0x3,this['renderVers'+'ion']++,w['call'](()=>{if(mi['get'](Z0)){const _0x48db8d=this['textures']['slice']();_0x48db8d['sort']((_0x1f652e,_0x238dc2)=>_0x238dc2['gpuSize']-_0x1f652e['gpuSize']),w['log']('Textures:\x20'+_0x48db8d['length']);let _0x429fef=-0xd5b+0x86*0x12+0x3ef;_0x48db8d['forEach']((_0x24f3ac,_0x414eb3)=>{const _0x1bbd00=_0x24f3ac['gpuSize'];_0x429fef+=_0x1bbd00,w['log'](_0x414eb3+'.\x20'+_0x24f3ac['name']+'\x20'+_0x24f3ac['width']+'x'+_0x24f3ac['height']+'\x20VRAM:\x20'+(_0x1bbd00/(0x25ef+0x107*-0x1+-0x20e8)/(0x2411+-0x161*0x2+-0x1d4f))['toFixed'](-0x5*0x6d4+0x500+0x1d26)+'\x20MB');}),w['log']('Total:\x20'+(_0x429fef/(0x1df5+0x539+0x1*-0x1f2e)/(-0x1474+0x13b6+0x4be))['toFixed'](-0xc38+0x886+0x9e*0x6)+'MB');}});}['frameEnd'](){this['mapsToClea'+'r']['forEach'](_0x3361c8=>_0x3361c8['clear']()),this['mapsToClea'+'r']['clear']();}['computeDis'+'patch'](_0x281f5f,_0x598c9b='Unnamed'){}['getRendera'+'bleHdrForm'+'at'](_0x5aaca5=[In,nt,Xt],_0x89a867=!(-0x47b*-0x1+-0x16ab+-0x4*-0x48c),_0x305019=0x6ed+-0xd5c+0x670){for(let _0x302a4c=0x17c5*-0x1+-0x4*0xfd+-0x2f*-0x97;_0x302a4c<_0x5aaca5['length'];_0x302a4c++){const _0x12a066=_0x5aaca5[_0x302a4c];switch(_0x12a066){case In:{if(this['textureRG1'+'1B10Render'+'able'])return _0x12a066;break;}case nt:if(this['textureHal'+'fFloatRend'+'erable'])return _0x12a066;break;case Xt:if(this['isWebGPU']&&_0x305019>-0x408+-0x157e+0x1*0x1987)continue;if(this['textureFlo'+'atRenderab'+'le']&&(!_0x89a867||this['textureFlo'+'atFilterab'+'le']))return _0x12a066;break;}}}['validateAt'+'tributes'](_0x281e9b,_0x5184aa,_0x598473){w['call'](()=>{ql['clear'](),_0x5184aa==null||_0x5184aa['elements']['forEach'](_0x77ec8=>ql['add'](Le[_0x77ec8['name']])),_0x598473==null||_0x598473['elements']['forEach'](_0x33a33b=>ql['add'](Le[_0x33a33b['name']]));for(const [_0x20ea2d,_0x4aa2a7]of _0x281e9b['attributes'])ql['has'](_0x20ea2d)||w['errorOnce']('Vertex\x20att'+'ribute\x20['+_0x4aa2a7+(']\x20at\x20locat'+'ion\x20')+_0x20ea2d+('\x20required\x20'+'by\x20the\x20sha'+'der\x20is\x20not'+'\x20present\x20i'+'n\x20the\x20curr'+'ently\x20assi'+'gned\x20verte'+'x\x20buffers,'+'\x20while\x20ren'+'dering\x20[')+Q['toString']()+']',{'shader':_0x281e9b,'vb0Format':_0x5184aa,'vb1Format':_0x598473});});}};h(Vh,'EVENT_RESI'+'ZE','resizecanv'+'as');let $e=Vh,DT=-0x1*-0x1b92+0x3a1+0x1*-0x1f33;class gt{constructor(_0x305eb4={}){h(this,'name'),h(this,'_device'),h(this,'_colorBuff'+'er'),h(this,'_colorBuff'+'ers'),h(this,'_depthBuff'+'er'),h(this,'_depth'),h(this,'_stencil'),h(this,'_samples'),h(this,'autoResolv'+'e'),h(this,'_face'),h(this,'_mipLevel'),h(this,'_mipmaps'),h(this,'flipY');var _0x516daa,_0x3f6ef3,_0x39fcf1,_0x2103c1,_0x10efbc,_0x5f1100;w['assert'](!(_0x305eb4 instanceof $e),'pc.RenderT'+'arget\x20cons'+'tructor\x20no'+'\x20longer\x20ac'+'cepts\x20Grap'+'hicsDevice'+'\x20parameter'+'.'),this['id']=DT++;const _0x3636f8=((_0x516daa=_0x305eb4['colorBuffe'+'r'])==null?void(-0x1*-0x12f9+0x4f4+-0x17ed):_0x516daa['device'])??((_0x3f6ef3=_0x305eb4['colorBuffe'+'rs'])==null?void(0x370*-0x2+-0x32*0x38+0x3*0x5f0):_0x3f6ef3[-0x66d+0x1ba3+0x16a*-0xf]['device'])??((_0x39fcf1=_0x305eb4['depthBuffe'+'r'])==null?void(-0x2583+0xb*0x108+-0x1d*-0xe7):_0x39fcf1['device'])??_0x305eb4['graphicsDe'+'vice'];w['assert'](_0x3636f8,'Failed\x20to\x20'+'obtain\x20the'+'\x20device,\x20c'+'olorBuffer'+'\x20nor\x20depth'+'Buffer\x20sto'+'re\x20it.'),this['_device']=_0x3636f8;const {maxSamples:_0x5c4f36}=this['_device'];if(this['_samples']=Math['min'](_0x305eb4['samples']??0x2481+-0x258f+0x10f,_0x5c4f36),_0x3636f8['isWebGPU']&&(this['_samples']=this['_samples']>0x1410+-0x4*0x456+0x8b*-0x5?_0x5c4f36:0x2*-0x73+0x1ac7+-0x19e0),this['_colorBuff'+'er']=_0x305eb4['colorBuffe'+'r'],_0x305eb4['colorBuffe'+'r']&&(this['_colorBuff'+'ers']=[_0x305eb4['colorBuffe'+'r']]),this['_depthBuff'+'er']=_0x305eb4['depthBuffe'+'r'],this['_face']=_0x305eb4['face']??-0xc71+0x1fdf+0x33d*-0x6,this['_depthBuff'+'er']){const _0x523d60=this['_depthBuff'+'er']['_format'];_0x523d60===$i||_0x523d60===vn?(this['_depth']=!(-0x18b+0x5*-0x37c+0x12f7),this['_stencil']=!(0x1825+0x2280+-0xea9*0x4)):_0x523d60===sd?(this['_depth']=!(-0xdad+0x15b+-0x13*-0xa6),this['_stencil']=!(-0x1*-0x2622+-0x10*-0x248+-0x1d2*0x29)):_0x523d60===Ji&&this['_depthBuff'+'er']['device']['isWebGPU']&&this['_samples']>-0x1e2f*-0x1+-0x13*-0x13c+0x2*-0x1ad1?(this['_depth']=!(0x1f9a+0xfa7*0x1+-0x2f41),this['_stencil']=!(-0x1dcf+0x199+0x1c37)):(w['warn']('Incorrect\x20'+'depthBuffe'+'r\x20format.\x20'+'Must\x20be\x20pc'+'.PIXELFORM'+'AT_DEPTH\x20o'+'r\x20pc.PIXEL'+'FORMAT_DEP'+'THSTENCIL'),this['_depth']=!(0x1*0x263+0x1aab+-0x1d0d),this['_stencil']=!(-0x51e+-0x704+0xc23));}else this['_depth']=_0x305eb4['depth']??!(0x119e+-0x1*0x1cdb+0xb3d),this['_stencil']=_0x305eb4['stencil']??!(0x4f*0x7d+0x1410+-0x3aa2);_0x305eb4['colorBuffe'+'rs']&&(w['assert'](!this['_colorBuff'+'ers'],'When\x20const'+'ructing\x20Re'+'nderTarget'+'\x20and\x20optio'+'ns.colorBu'+'ffers\x20is\x20u'+'sed,\x20optio'+'ns.colorBu'+'ffer\x20must\x20'+'not\x20be\x20use'+'d.'),this['_colorBuff'+'ers']||(this['_colorBuff'+'ers']=[..._0x305eb4['colorBuffe'+'rs']],this['_colorBuff'+'er']=_0x305eb4['colorBuffe'+'rs'][0x37*0xa+0x179+-0x39f])),this['autoResolv'+'e']=_0x305eb4['autoResolv'+'e']??!(-0x1df+0x7d*-0x1+-0x25c*-0x1),this['name']=_0x305eb4['name'],this['name']||(this['name']=(_0x2103c1=this['_colorBuff'+'er'])==null?void(-0x1*0x12b7+-0x4df+0x1796):_0x2103c1['name']),this['name']||(this['name']=(_0x10efbc=this['_depthBuff'+'er'])==null?void(0x1d71+-0x11a5+0x14*-0x97):_0x10efbc['name']),this['name']||(this['name']='Untitled'),this['flipY']=_0x305eb4['flipY']??!(0xd6a+0x1384+-0x20ed),this['_mipLevel']=_0x305eb4['mipLevel']??0x13ed+-0x124b+-0x1a2,this['_mipLevel']>0x1fd*0x13+-0x5*0x3d4+-0xd*0x16f&&this['_depth']&&(w['error']('Rendering\x20'+'to\x20a\x20mipLe'+'vel\x20is\x20not'+'\x20supported'+'\x20when\x20rend'+'er\x20target\x20'+'uses\x20a\x20dep'+'th\x20buffer.'+'\x20Ignoring\x20'+'mipLevel\x20'+this['_mipLevel']+('\x20for\x20rende'+'r\x20target\x20')+this['name'],{'renderTarget':this,'options':_0x305eb4}),this['_mipLevel']=0x10b3+-0x162a+0x577),this['_mipmaps']=_0x305eb4['mipLevel']===void(0x337*-0xa+-0x1d0c+0x8be*0x7),this['validateMr'+'t'](),this['impl']=_0x3636f8['createRend'+'erTargetIm'+'pl'](this),w['trace'](Mm,'Alloc:\x20Id\x20'+this['id']+'\x20'+this['name']+':\x20'+this['width']+'x'+this['height']+('\x20[samples:'+'\x20')+this['samples']+']'+((_0x5f1100=this['_colorBuff'+'ers'])!=null&&_0x5f1100['length']?'[MRT:\x20'+this['_colorBuff'+'ers']['length']+']':'')+(this['colorBuffe'+'r']?'[Color]':'')+(this['depth']?'[Depth]':'')+(this['stencil']?'[Stencil]':'')+'[Face:'+this['face']+']');}['destroy'](){w['trace'](Mm,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']);const _0x22a433=this['_device'];_0x22a433&&(_0x22a433['targets']['delete'](this),_0x22a433['renderTarg'+'et']===this&&_0x22a433['setRenderT'+'arget'](null),this['destroyFra'+'meBuffers']());}['destroyFra'+'meBuffers'](){const _0x5e2db5=this['_device'];_0x5e2db5&&this['impl']['destroy'](_0x5e2db5);}['destroyTex'+'tureBuffer'+'s'](){var _0x47fb15,_0x3f0133;(_0x47fb15=this['_depthBuff'+'er'])==null||_0x47fb15['destroy'](),this['_depthBuff'+'er']=null,(_0x3f0133=this['_colorBuff'+'ers'])==null||_0x3f0133['forEach'](_0xa50037=>{_0xa50037['destroy']();}),this['_colorBuff'+'ers']=null,this['_colorBuff'+'er']=null;}['resize'](_0x57c95c,_0x5a0f42){var _0x3c11ad,_0x360b8c;if(this['width']!==_0x57c95c||this['height']!==_0x5a0f42){if(this['mipLevel']>0xb*0x369+0x1ca*0x2+-0x2917*0x1){w['warn']('Only\x20a\x20ren'+'der\x20target'+'\x20rendering'+'\x20to\x20mipLev'+'el\x200\x20can\x20b'+'e\x20resized,'+'\x20ignoring.',this);return;}const _0x3995b4=this['_device'];this['destroyFra'+'meBuffers'](),_0x3995b4['renderTarg'+'et']===this&&_0x3995b4['setRenderT'+'arget'](null),(_0x3c11ad=this['_depthBuff'+'er'])==null||_0x3c11ad['resize'](_0x57c95c,_0x5a0f42),(_0x360b8c=this['_colorBuff'+'ers'])==null||_0x360b8c['forEach'](_0x33965c=>{_0x33965c['resize'](_0x57c95c,_0x5a0f42);}),this['validateMr'+'t'](),this['impl']=_0x3995b4['createRend'+'erTargetIm'+'pl'](this);}}['validateMr'+'t'](){w['call'](()=>{if(this['_colorBuff'+'ers']){const {width:_0x1b4a5d,height:_0x52a735,cubemap:_0x17604d,volume:_0x3b8bf4}=this['_colorBuff'+'ers'][0x1236+-0x3a5*-0x6+0x26*-0x10e];for(let _0x50e09e=0x5*0x9e+0xc2a+-0x1*0xf3f;_0x50e09e<this['_colorBuff'+'ers']['length'];_0x50e09e++){const _0x7c1ab1=this['_colorBuff'+'ers'][_0x50e09e];w['assert'](_0x7c1ab1['width']===_0x1b4a5d,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20width',this),w['assert'](_0x7c1ab1['height']===_0x52a735,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20height',this),w['assert'](_0x7c1ab1['cubemap']===_0x17604d,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20cubemap\x20s'+'etting',this),w['assert'](_0x7c1ab1['volume']===_0x3b8bf4,'All\x20render'+'\x20target\x20co'+'lor\x20buffer'+'s\x20must\x20hav'+'e\x20the\x20same'+'\x20volume\x20se'+'tting',this);}}});}['init'](){this['impl']['init'](this['_device'],this);}get['initialize'+'d'](){return this['impl']['initialize'+'d'];}get['device'](){return this['_device'];}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['resolve'](_0x388e66=!(0x17a3+0x4*0x897+-0x1355*0x3),_0x9624f2=!!this['_depthBuff'+'er']){this['_device']&&this['_samples']>0xed7*-0x1+-0xcf*-0x7+0x92f&&(Q['pushGpuMar'+'ker'](this['_device'],'RESOLVE-RT'+':'+this['name']+':'+(_0x388e66?'[color]':'')+':'+(_0x9624f2?'[depth]':'')),this['impl']['resolve'](this['_device'],this,_0x388e66,_0x9624f2),Q['popGpuMark'+'er'](this['_device']));}['copy'](_0xe44cfb,_0xe7de5a,_0x26ed57){if(!this['_device']){if(_0xe44cfb['_device'])this['_device']=_0xe44cfb['_device'];else return w['error']('Render\x20tar'+'gets\x20are\x20n'+'ot\x20initial'+'ized'),!(0x25a+0x2102+-0x235b);}Q['pushGpuMar'+'ker'](this['_device'],'COPY-RT:'+_0xe44cfb['name']+'->'+this['name']);const _0x57a00a=this['_device']['copyRender'+'Target'](_0xe44cfb,this,_0xe7de5a,_0x26ed57);return Q['popGpuMark'+'er'](this['_device']),_0x57a00a;}get['samples'](){return this['_samples'];}get['depth'](){return this['_depth'];}get['stencil'](){return this['_stencil'];}get['colorBuffe'+'r'](){return this['_colorBuff'+'er'];}['getColorBu'+'ffer'](_0x1d6fee){var _0x3b4825;return(_0x3b4825=this['_colorBuff'+'ers'])==null?void(-0x1*-0x2169+-0xa4*0x25+-0x1f1*0x5):_0x3b4825[_0x1d6fee];}get['depthBuffe'+'r'](){return this['_depthBuff'+'er'];}get['face'](){return this['_face'];}get['mipLevel'](){return this['_mipLevel'];}get['mipmaps'](){return this['_mipmaps'];}get['width'](){var _0x566d6d,_0x5c0bdb;let _0x47ac62=((_0x566d6d=this['_colorBuff'+'er'])==null?void(0x1*0x148c+-0x5d*-0x3d+-0x1*0x2ab5):_0x566d6d['width'])||((_0x5c0bdb=this['_depthBuff'+'er'])==null?void(-0xf61+0x1*-0x2f1+0x929*0x2):_0x5c0bdb['width'])||this['_device']['width'];return this['_mipLevel']>-0x1f19*-0x1+0x12*0x1e7+0x2b*-0x185&&(_0x47ac62=Xi['calcLevelD'+'imension'](_0x47ac62,this['_mipLevel'])),_0x47ac62;}get['height'](){var _0x31cc9f,_0x13beac;let _0xeb19d4=((_0x31cc9f=this['_colorBuff'+'er'])==null?void(0x26b9+0x179e+-0x3e57):_0x31cc9f['height'])||((_0x13beac=this['_depthBuff'+'er'])==null?void(0x13ed+-0x2e*0xd6+0x1287):_0x13beac['height'])||this['_device']['height'];return this['_mipLevel']>0x5ce*0x5+-0x2*0x7ad+-0xdac&&(_0xeb19d4=Xi['calcLevelD'+'imension'](_0xeb19d4,this['_mipLevel'])),_0xeb19d4;}['isColorBuf'+'ferSrgb'](_0x5745e2=-0x5*0x7ca+-0x13d6+-0x2c*-0x156){if(this['device']['backBuffer']===this)return fh(this['device']['backBuffer'+'Format']);const _0x2e5eb1=this['getColorBu'+'ffer'](_0x5745e2);return _0x2e5eb1?fh(_0x2e5eb1['format']):!(-0xc4*0x3+-0x255d+0x13d5*0x2);}}const IT={'equals'(_0x2b5619,_0x17ea77){if(_0x2b5619['length']!==_0x17ea77['length'])return!(0x2500+-0x1678*0x1+-0x1*0xe87);for(let _0x437632=0x419*0x1+-0x1*-0xe3e+0x1*-0x1257;_0x437632<_0x2b5619['length'];_0x437632++)if(_0x2b5619[_0x437632]!==_0x17ea77[_0x437632])return!(-0x1*-0x1fd2+0x73*0x3d+-0x3b38);return!(-0xb2+-0x201c+0x20ce);}};class wd{constructor(){h(this,'_refCount',0x41*-0x7d+-0x1*0xab5+0x2a72);}['incRefCoun'+'t'](){this['_refCount']++;}['decRefCoun'+'t'](){this['_refCount']--;}get['refCount'](){return this['_refCount'];}}class LT extends wd{constructor(_0x3967d7){super(),h(this,'object'),(this['object']=_0x3967d7,this['incRefCoun'+'t']());}}class RT{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach'](_0x5cd248=>{var _0x301b30;(_0x301b30=_0x5cd248['object'])==null||_0x301b30['destroy']();}),this['cache']['clear']();}['clear'](){this['cache']['clear']();}['get'](_0x419d0e){const _0x6df374=this['cache']['get'](_0x419d0e);return _0x6df374?(_0x6df374['incRefCoun'+'t'](),_0x6df374['object']):null;}['set'](_0x1b3be1,_0x423238){w['assert'](!this['cache']['has'](_0x1b3be1),'RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'put\x20object'+'\x20with\x20key\x20'+'that\x20alrea'+'dy\x20exists\x20'+'in\x20the\x20cac'+'he',{'key':_0x1b3be1,'object':_0x423238}),this['cache']['set'](_0x1b3be1,new LT(_0x423238));}['release'](_0x24068f){var _0x52cd98;const _0x135997=this['cache']['get'](_0x24068f);_0x135997?(_0x135997['decRefCoun'+'t'](),_0x135997['refCount']===-0x8aa+-0x1ef1+0x279b&&(this['cache']['delete'](_0x24068f),(_0x52cd98=_0x135997['object'])==null||_0x52cd98['destroy']())):w['warn']('RefCounted'+'KeyCache:\x20'+'Trying\x20to\x20'+'release\x20ob'+'ject\x20that\x20'+'is\x20not\x20in\x20'+'the\x20cache',{'key':_0x24068f});}}class OT extends RT{['loseContex'+'t'](_0x2caabb){this['clear']();}}const FT=new Kt(),Fd=_0x11c7c3=>FT['get'](_0x11c7c3,()=>new OT()),At=[];At[Xs]=0x1e7f+-0x6f0+-0x178e,At[ga]=0x1*0x23c5+0x2047+-0x440a,At[ds]=-0xd2b+-0x151f*-0x1+-0x7f1,At[Rn]=-0x5f6+0x52*0x51+-0x13f8,At[_a]=0xc*0x285+0x144e+0x11*-0x2f9,At[ca]=0x2b6*-0x8+-0x21d6+0x3788,At[ha]=0x49d+-0x1659+0x11bf,At[da]=0x2665+0x1f3c+-0x1*0x459d,At[Tn]=-0x93f*0x1+-0x1571*-0x1+0xc31*-0x1,At[tl]=0x98f+0x1630+0x5*-0x659,At[sl]=0x1f*0xe7+0xf9e+-0x2b94,At[il]=-0x1926+0x7f*0x2b+0x3d5,At[_h]=0x1b44+0x8e8+0x2*-0x1212,At[On]=0x73*0x3d+-0x1*0xb4a+-0x1*0x1011,At[li]=0x1c9*0x3+-0xadb+-0x59*-0x10,At[Fn]=-0x9bb*-0x1+0x3*0x241+-0x107d,At[Nn]=0x1*-0x1a0e+0x1244+-0x1f3*-0x4,At[kn]=0xaa6+-0x2*-0x112f+-0x1*0x2d01,At[Un]=-0x708+0xb70*0x2+-0xfd4;class dt{constructor(_0x33d430,_0x5f4f8d,_0x43ce58=0x1*-0x21dd+-0x3ed+0x25ca){h(this,'name'),h(this,'type'),h(this,'byteSize'),h(this,'offset'),h(this,'scopeId'),h(this,'count'),h(this,'numCompone'+'nts');if(this['shortName']=_0x33d430,this['name']=_0x43ce58?_0x33d430+'[0]':_0x33d430,this['type']=_0x5f4f8d,this['numCompone'+'nts']=At[_0x5f4f8d],w['assert'](this['numCompone'+'nts'],'Unhandled\x20'+'uniform\x20fo'+'rmat\x20'+_0x5f4f8d+'\x20used\x20for\x20'+_0x33d430),this['updateType']=_0x5f4f8d,_0x43ce58>0x5*-0x659+-0x209*0xb+0x2*0x1b10)switch(_0x5f4f8d){case Xs:this['updateType']=ud;break;case _a:this['updateType']=Bn;break;case Fn:this['updateType']=_d;break;case Tn:this['updateType']=gd;break;case ga:this['updateType']=pd;break;case ca:this['updateType']=zn;break;case Nn:this['updateType']=Sd;break;case tl:this['updateType']=yd;break;case ds:this['updateType']=md;break;case ha:this['updateType']=Vn;break;case kn:this['updateType']=vd;break;case sl:this['updateType']=xd;break;case Rn:this['updateType']=Lp;break;case da:this['updateType']=gh;break;case Un:this['updateType']=Rp;break;case il:this['updateType']=Op;break;case li:this['updateType']=wy;break;default:w['error']('Uniform\x20ar'+'ray\x20of\x20typ'+'e\x20'+Ey[_0x5f4f8d]+('\x20is\x20not\x20su'+'pported\x20wh'+'en\x20process'+'ing\x20unifor'+'m\x20\x27')+_0x33d430+'\x27.'),w['call'](()=>{this['invalid']=!(-0x788*0x3+0x1778*0x1+-0x4*0x38);});break;}this['count']=_0x43ce58,w['assert'](!isNaN(_0x43ce58),'Unsupporte'+'d\x20uniform:'+'\x20'+_0x33d430+'['+_0x43ce58+']'),w['call'](()=>{isNaN(_0x43ce58)&&(this['invalid']=!(-0x2*0xc3e+-0x142*-0x1c+0x3*-0x394));});let _0x3cf2f7=this['numCompone'+'nts'];_0x43ce58&&(_0x3cf2f7=Y['roundUp'](_0x3cf2f7,-0x2*0xd5b+-0x13ef+-0x1*-0x2ea9)),this['byteSize']=_0x3cf2f7*(0x6e*-0x34+-0x3*-0xef+0x3*0x685),_0x43ce58&&(this['byteSize']*=_0x43ce58),w['assert'](this['byteSize'],'Unknown\x20by'+'te\x20size\x20fo'+'r\x20uniform\x20'+'format\x20'+_0x5f4f8d+'\x20used\x20for\x20'+_0x33d430);}get['isArrayTyp'+'e'](){return this['count']>-0x2*0xbf6+0x44f*-0x9+0x3eb3;}['calculateO'+'ffset'](_0xf85d64){let _0x29ffc1=this['byteSize']<=-0x80*-0x29+-0xe13+-0x1*0x665?this['byteSize']:-0x440*-0x4+-0xa94+-0x65c;this['count']&&(_0x29ffc1=0x2*-0x7be+-0x1b57+-0x2ae3*-0x1),_0xf85d64=Y['roundUp'](_0xf85d64,_0x29ffc1),this['offset']=_0xf85d64/(-0xa11+0xee1+-0x266*0x2);}}class zy{constructor(_0x2c5ee2,_0x1fb38f){h(this,'byteSize',-0x716*-0x4+0x3b1+-0x2009),h(this,'map',new Map()),(this['scope']=_0x2c5ee2['scope'],this['uniforms']=_0x1fb38f);let _0x4779e5=0xb06*0x2+0x3f9+-0x1a05;for(let _0x3e2cde=0x25f9*-0x1+0xa87+0x1b72;_0x3e2cde<_0x1fb38f['length'];_0x3e2cde++){const _0x4de248=_0x1fb38f[_0x3e2cde];_0x4de248['calculateO'+'ffset'](_0x4779e5),_0x4779e5=_0x4de248['offset']*(0xbc*-0x32+-0x1*0x363+0x1*0x281f)+_0x4de248['byteSize'],_0x4de248['scopeId']=this['scope']['resolve'](_0x4de248['name']),this['map']['set'](_0x4de248['name'],_0x4de248);}this['byteSize']=Y['roundUp'](_0x4779e5,-0x112*0xb+-0x3*0xb7+0xdfb);}['get'](_0x4a89dc){return this['map']['get'](_0x4a89dc);}}const Lr='Preprocess'+'or',Fs=/[ \t]*#(ifn?def|if|endif|else|elif|define|undef|extension|include)/g,Nd=/define[ \t]+([^\n]+)\r?(?:\n|$)/g,i_=/extension[ \t]+([\w-]+)[ \t]*:[ \t]*(enable|require)/g,kd=/undef[ \t]+([^\n]+)\r?(?:\n|$)/g,Ud=/(ifdef|ifndef|if)[ \t]*([^\r\n]+)\r?\n/g,Bd=/(endif|else|elif)(?:[ \t]+([^\r\n]*))?\r?\n?/g,r_=/\{?[\w-]+\}?/,NT=/(!|\s)?defined\(([\w-]+)\)/,kT=/!?defined\s*\([^)]*\)/g,UT=/!?defined\s*$/,BT=/([a-z_]\w*)\s*(==|!=|<|<=|>|>=)\s*([\w"']+)/i,zT=/[+\-]/g,zd=/include[ \t]+"([\w-]+)(?:\s*,\s*([\w-]+))?"/g,VT=/\{i\}/g,a_=/(pcFragColor[1-8])\b/g,Lt=class Lt{static['run'](_0x48bb68,_0x35039d=new Map(),_0x398304={}){Lt['sourceName']=_0x398304['sourceName'],_0x48bb68=this['stripComme'+'nts'](_0x48bb68),_0x48bb68=_0x48bb68['split'](/\r?\n/)['map'](_0x41ad36=>_0x41ad36['trimEnd']())['join']('\x0a');const _0x2b86cf=new Map(),_0x8a2f0a=new Map();if(_0x48bb68=this['_preproces'+'s'](_0x48bb68,_0x2b86cf,_0x8a2f0a,_0x35039d,_0x398304['stripDefin'+'es']),_0x48bb68===null)return null;const _0xc00ee8=new Map();return _0x2b86cf['forEach']((_0x470ddc,_0x545cfa)=>{Number['isInteger'](parseFloat(_0x470ddc))&&!_0x470ddc['includes']('.')&&_0xc00ee8['set'](_0x545cfa,_0x470ddc);}),_0x48bb68=this['stripComme'+'nts'](_0x48bb68),_0x48bb68=this['stripUnuse'+'dColorAtta'+'chments'](_0x48bb68,_0x398304),_0x48bb68=this['RemoveEmpt'+'yLines'](_0x48bb68),_0x48bb68=this['processArr'+'aySize'](_0x48bb68,_0xc00ee8),_0x48bb68=this['injectDefi'+'nes'](_0x48bb68,_0x8a2f0a),_0x48bb68;}static['stripUnuse'+'dColorAtta'+'chments'](_0xed0a0a,_0x5e17c7){if(_0x5e17c7['stripUnuse'+'dColorAtta'+'chments']){const _0x3a90ad=new Map(),_0x1a5dc5=_0xed0a0a['match'](a_);if(_0x1a5dc5==null||_0x1a5dc5['forEach'](_0x1468be=>{const _0x12b998=parseInt(_0x1468be['charAt'](_0x1468be['length']-(0x2337+-0x24c9+0x193)),0x4*0x5ff+0x94f+-0x2141);_0x3a90ad['set'](_0x12b998,(_0x3a90ad['get'](_0x12b998)??0x6a2+-0x30e+-0x4*0xe5)+(0x2*0xd7c+0x722+-0x2219));}),Array['from'](_0x3a90ad['values']())['some'](_0x1ed87f=>_0x1ed87f===0x1f9*-0xf+-0x623+0x23bb)){const _0x546c55=_0xed0a0a['split']('\x0a'),_0x3d2a8d=[];for(let _0xb23bc5=-0x26a*0x5+0x203d+0x3*-0x6b9;_0xb23bc5<_0x546c55['length'];_0xb23bc5++){const _0x427d2e=_0x546c55[_0xb23bc5]['match'](a_);if(_0x427d2e){const _0x4cdd03=parseInt(_0x427d2e[0x15f2+0x20f+-0x1801]['charAt'](_0x427d2e[-0x2*0xd15+0x12*-0xc9+-0x4*-0xa13]['length']-(0x1acf+0x2*-0x227+-0x3c0*0x6)),-0x2*-0x519+0xf92*-0x2+0x14fc);if(_0x4cdd03>0x1*-0x1127+0x527*-0x2+0x1b75&&_0x3a90ad['get'](_0x4cdd03)===-0x649*0x1+-0x1b5b+-0x129*-0x1d)continue;}_0x3d2a8d['push'](_0x546c55[_0xb23bc5]);}_0xed0a0a=_0x3d2a8d['join']('\x0a');}}return _0xed0a0a;}static['stripComme'+'nts'](_0x6c31a8){return _0x6c31a8['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1');}static['processArr'+'aySize'](_0x431be7,_0x5ae52b){return _0x431be7!==null&&_0x5ae52b['forEach']((_0x5b3105,_0x5ac3c5)=>{_0x431be7=_0x431be7['replace'](new RegExp('\x5c['+_0x5ac3c5+'\x5c]','g'),'['+_0x5b3105+']');}),_0x431be7;}static['injectDefi'+'nes'](_0x51fe4a,_0x594651){if(_0x51fe4a!==null&&_0x594651['size']>-0x303*-0x1+-0x155f*-0x1+-0x1862){const _0x4846e9=_0x51fe4a['split']('\x0a');_0x594651['forEach']((_0x727109,_0x1bc782)=>{const _0x3e2f18=new RegExp(_0x1bc782,'g');for(let _0x1d82de=-0x1442+0x258+-0x2*-0x8f5;_0x1d82de<_0x4846e9['length'];_0x1d82de++)_0x4846e9[_0x1d82de]['includes']('#')||(_0x4846e9[_0x1d82de]=_0x4846e9[_0x1d82de]['replace'](_0x3e2f18,_0x727109));}),_0x51fe4a=_0x4846e9['join']('\x0a');}return _0x51fe4a;}static['RemoveEmpt'+'yLines'](_0x22aea2){return _0x22aea2!==null&&(_0x22aea2=_0x22aea2['split'](/\r?\n/)['map'](_0x35a811=>_0x35a811['trim']()===''?'':_0x35a811)['join']('\x0a'),_0x22aea2=_0x22aea2['replace'](/(\n\n){3,}/g,'\x0a\x0a')),_0x22aea2;}static['_preproces'+'s'](_0x105ca9,_0x57a9ee=new Map(),_0x4c8ef9,_0x5d2327,_0x3aa1e){var _0x5be2b2;const _0x1db279=_0x105ca9,_0x51198e=[];let _0x2749ec=!(-0xfce+0x14c1+-0x4f2),_0x2f373f;for(;(_0x2f373f=Fs['exec'](_0x105ca9))!==null&&!_0x2749ec;){const _0x55fb85=_0x2f373f[0x299*-0x3+0x97f*-0x2+0x6*0x477];switch(_0x55fb85){case'define':{Nd['lastIndex']=_0x2f373f['index'];const _0x221c32=Nd['exec'](_0x105ca9);w['assert'](_0x221c32,'Invalid\x20['+_0x55fb85+']:\x20'+_0x105ca9['substring'](_0x2f373f['index'],_0x2f373f['index']+(-0x2cd+-0x1f64+0x2295))+'...'),_0x2749ec||(_0x2749ec=_0x221c32===null);const _0x209d32=_0x221c32[-0x19af+-0x127d+-0x107*-0x2b];r_['lastIndex']=_0x221c32['index'];const _0x25e621=r_['exec'](_0x209d32)[0x9de*-0x2+-0x5d5*-0x2+0x812];let _0x7199bc=_0x209d32['substring'](_0x25e621['length'])['trim']();_0x7199bc===''&&(_0x7199bc='true');const _0x29ff4e=Lt['_keep'](_0x51198e);let _0x3deb45=_0x3aa1e;if(_0x29ff4e){const _0x191e36=_0x25e621['startsWith']('{')&&_0x25e621['endsWith']('}');_0x191e36&&(_0x3deb45=!(-0x1399*0x1+-0x23b9+-0x1ba9*-0x2)),_0x191e36?_0x4c8ef9['set'](_0x25e621,_0x7199bc):_0x57a9ee['set'](_0x25e621,_0x7199bc),_0x3deb45&&(_0x105ca9=_0x105ca9['substring'](0x11dd+0x17a1+0x14bf*-0x2,_0x221c32['index']-(0x1*0x24dd+-0x6a*-0x55+-0x2e*0x191))+_0x105ca9['substring'](Nd['lastIndex']),Fs['lastIndex']=_0x221c32['index']-(0x2*-0xe6b+-0x56d+0x1*0x2244));}w['trace'](Lr,_0x55fb85+':\x20['+_0x25e621+']\x20'+_0x7199bc+'\x20'+(_0x29ff4e?'':'IGNORED')),_0x3deb45||(Fs['lastIndex']=_0x221c32['index']+_0x221c32[-0x8e*-0x10+-0x11e6*-0x1+-0x1ac6]['length']);break;}case'undef':{kd['lastIndex']=_0x2f373f['index'];const _0x35e6b3=kd['exec'](_0x105ca9),_0x633f6b=_0x35e6b3[0x2*0x1250+-0x2635*-0x1+-0x4ad4]['trim'](),_0xa081d5=Lt['_keep'](_0x51198e);_0xa081d5&&(_0x57a9ee['delete'](_0x633f6b),_0x3aa1e&&(_0x105ca9=_0x105ca9['substring'](0x1*-0x15ad+-0x1343+0x28f0,_0x35e6b3['index']-(-0xecb+-0xdb5+0x1c81))+_0x105ca9['substring'](kd['lastIndex']),Fs['lastIndex']=_0x35e6b3['index']-(0x8bd*0x1+-0x193b+0x107f))),w['trace'](Lr,_0x55fb85+':\x20['+_0x633f6b+']\x20'+(_0xa081d5?'':'IGNORED')),_0x3aa1e||(Fs['lastIndex']=_0x35e6b3['index']+_0x35e6b3[-0x1c8a+-0x869+0x3*0xc51]['length']);break;}case'extension':{i_['lastIndex']=_0x2f373f['index'];const _0xc6904a=i_['exec'](_0x105ca9);if(w['assert'](_0xc6904a,'Invalid\x20['+_0x55fb85+']:\x20'+_0x105ca9['substring'](_0x2f373f['index'],_0x2f373f['index']+(0x557+-0x20*-0x45+0x5*-0x2b7))+'...'),_0x2749ec||(_0x2749ec=_0xc6904a===null),_0xc6904a){const _0x2d8972=_0xc6904a[-0x652+0x1*-0x691+0xce4],_0x4b0299=Lt['_keep'](_0x51198e);_0x4b0299&&_0x57a9ee['set'](_0x2d8972,'true'),w['trace'](Lr,_0x55fb85+':\x20['+_0x2d8972+']\x20'+(_0x4b0299?'':'IGNORED'));}Fs['lastIndex']=_0xc6904a['index']+_0xc6904a[0x1a7d*-0x1+-0x68b*0x1+0x2108]['length'];break;}case'ifdef':case'ifndef':case'if':{Ud['lastIndex']=_0x2f373f['index'];const _0x470000=Ud['exec'](_0x105ca9),_0x12863b=_0x470000[-0x4*-0x473+-0x146*-0x17+-0x5c*0x83],_0x354787=Lt['evaluate'](_0x12863b,_0x57a9ee);_0x2749ec||(_0x2749ec=_0x354787['error']);let _0x3796ed=_0x354787['result'];_0x55fb85==='ifndef'&&(_0x3796ed=!_0x3796ed),_0x51198e['push']({'anyKeep':_0x3796ed,'keep':_0x3796ed,'start':_0x2f373f['index'],'end':Ud['lastIndex']}),w['trace'](Lr,_0x55fb85+':\x20['+_0x12863b+']\x20=>\x20'+_0x3796ed),Fs['lastIndex']=_0x470000['index']+_0x470000[0x2*-0x17+-0x47*0x7f+-0x3*-0xbcd]['length'];break;}case'endif':case'else':case'elif':{Bd['lastIndex']=_0x2f373f['index'];const _0x3ddbb5=Bd['exec'](_0x105ca9),_0x434248=_0x51198e['pop']();if(!_0x434248){console['error']('Shader\x20pre'+'processing'+'\x20encounter'+'ed\x20\x22#'+_0x3ddbb5[0x12da+0x65*0x1d+-0x1e4a]+('\x22\x20without\x20'+'a\x20precedin'+'g\x20#if\x20#ifd'+'ef\x20#ifndef'+'\x20while\x20pre'+'processing'+'\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x105ca9['substring'](_0x2f373f['index'],_0x2f373f['index']+(-0xd86+0x191b*0x1+0xb31*-0x1))+'...',{'source':_0x1db279}),_0x2749ec=!(-0xe5+-0x17*0x25+0x438);continue;}const _0x180368=_0x434248['keep']?_0x105ca9['substring'](_0x434248['end'],_0x2f373f['index']):'';w['trace'](Lr,_0x55fb85+(':\x20[previou'+'s\x20block]\x20='+'>\x20')+(_0x180368!=='')),_0x105ca9=_0x105ca9['substring'](0x12*-0x6+-0x715+0x781,_0x434248['start'])+_0x180368+_0x105ca9['substring'](Bd['lastIndex']),Fs['lastIndex']=_0x434248['start']+_0x180368['length'];const _0x372157=_0x3ddbb5[-0x1*0x1583+0x87+-0x1b*-0xc7];if(_0x372157==='else'||_0x372157==='elif'){let _0xff4bdb=!(-0x37*0xb5+0x14d*-0x19+0xb5*0x65);if(!_0x434248['anyKeep']){if(_0x372157==='else')_0xff4bdb=!_0x434248['keep'];else{const _0x56b1e0=Lt['evaluate'](_0x3ddbb5[-0x466+-0x9d*0x7+0x1*0x8b3],_0x57a9ee);_0xff4bdb=_0x56b1e0['result'],_0x2749ec||(_0x2749ec=_0x56b1e0['error']);}}_0x51198e['push']({'anyKeep':_0x434248['anyKeep']||_0xff4bdb,'keep':_0xff4bdb,'start':Fs['lastIndex'],'end':Fs['lastIndex']}),w['trace'](Lr,_0x55fb85+':\x20['+_0x3ddbb5[0x1*-0xb58+0x25fb*0x1+-0x1aa1]+']\x20=>\x20'+_0xff4bdb);}break;}case'include':{zd['lastIndex']=_0x2f373f['index'];const _0x4dd220=zd['exec'](_0x105ca9);if(_0x2749ec||(_0x2749ec=_0x4dd220===null),!_0x4dd220){w['assert'](_0x4dd220,'Invalid\x20['+_0x55fb85+(']\x20while\x20pr'+'eprocessin'+'g\x20')+Lt['sourceName']+':\x0a'+_0x105ca9['substring'](_0x2f373f['index'],_0x2f373f['index']+(-0x5c2+-0xf91+-0x3*-0x73d))+'...'),_0x2749ec=!(-0x21c2+-0x4fd*0x5+0x3ab3);continue;}const _0x3b9ad9=_0x4dd220[0x1*-0x231d+-0x1*0xe71+0x318f]['trim'](),_0x16e62b=(_0x5be2b2=_0x4dd220[-0x3*0x3da+-0x550+0x10e0])==null?void(0x13ce+0x989*-0x4+0x1*0x1256):_0x5be2b2['trim'](),_0x57a08b=Lt['_keep'](_0x51198e);if(_0x57a08b){let _0x7a3768=_0x5d2327==null?void(-0x2453+0x1077*0x2+0x365):_0x5d2327['get'](_0x3b9ad9);if(_0x7a3768!==void(-0x1086+0x1547+0x4c1*-0x1)){if(_0x7a3768=this['stripComme'+'nts'](_0x7a3768),_0x16e62b){const _0x3f24d9=_0x57a9ee['get'](_0x16e62b),_0x121944=parseFloat(_0x3f24d9);if(Number['isInteger'](_0x121944)){let _0x614e35='';for(let _0x18896f=0x17c6+0x971*-0x3+0x48d;_0x18896f<_0x121944;_0x18896f++)_0x614e35+=_0x7a3768['replace'](VT,String(_0x18896f));_0x7a3768=_0x614e35;}else console['error']('Include\x20Co'+'unt\x20identi'+'fier\x20\x22'+_0x16e62b+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName']+('\x20on\x20line:\x0a'+'\x20')+_0x105ca9['substring'](_0x2f373f['index'],_0x2f373f['index']+(-0x18c6+0xc9a+0xc90))+'...',{'originalSource':_0x1db279,'source':_0x105ca9}),_0x2749ec=!(0x109b*0x1+-0x132*-0x1+-0x93*0x1f);}_0x105ca9=_0x105ca9['substring'](-0x104+-0x1*-0x471+0x36d*-0x1,_0x4dd220['index']-(-0x4*-0x95c+0x1*0x1099+-0x3608))+_0x7a3768+_0x105ca9['substring'](zd['lastIndex']),Fs['lastIndex']=_0x4dd220['index']-(-0x221c+-0xd46+-0x6c5*-0x7);}else{console['error']('Include\x20\x22'+_0x3b9ad9+('\x22\x20not\x20reso'+'lved\x20while'+'\x20preproces'+'sing\x20')+Lt['sourceName'],{'originalSource':_0x1db279,'source':_0x105ca9}),_0x2749ec=!(0x1408+0x229+0x13*-0x12b);continue;}}w['trace'](Lr,_0x55fb85+':\x20['+_0x3b9ad9+']\x20'+(_0x57a08b?'':'IGNORED'));break;}}}return _0x51198e['length']>-0x1196+0x15*0x14c+-0x9a6&&(console['error']('Shader\x20pre'+'processing'+'\x20reached\x20t'+'he\x20end\x20of\x20'+'the\x20file\x20w'+'ithout\x20enc'+'ountering\x20'+'the\x20necess'+'ary\x20#endif'+'\x20to\x20close\x20'+'a\x20precedin'+'g\x20#if,\x20#if'+'def,\x20or\x20#i'+'fndef\x20bloc'+'k.\x20'+Lt['sourceName']),_0x2749ec=!(0x2f7+-0x17cb*0x1+0x14d4)),_0x2749ec?(console['error']('Failed\x20to\x20'+'preprocess'+'\x20shader:\x20',{'source':_0x1db279}),null):_0x105ca9;}static['_keep'](_0x4e2531){for(let _0x29b71d=0x1*-0x24fe+0x2d3+0x222b;_0x29b71d<_0x4e2531['length'];_0x29b71d++)if(!_0x4e2531[_0x29b71d]['keep'])return!(-0x10d6+0x15*-0x191+-0x31bc*-0x1);return!(0xad*-0x34+-0x229b+0x45bf);}static['evaluateAt'+'omicExpres'+'sion'](_0x36b3a4,_0xc75762){let _0x299c9e=!(-0x213*-0xd+-0x1b*0xab+-0x8ed);_0x36b3a4=_0x36b3a4['trim']();let _0x12dfc4=!(-0xe*0x17+0x13a4+-0x1261);if(_0x36b3a4==='true')return{'result':!(-0x7b0+0x1*0x17db+-0x1*0x102b),'error':_0x299c9e};if(_0x36b3a4==='false')return{'result':!(-0x104*0xb+0x1*0x2320+0x1*-0x17f3),'error':_0x299c9e};const _0x18ff49=NT['exec'](_0x36b3a4);if(_0x18ff49){_0x12dfc4=_0x18ff49[-0x1*0xb6f+0x5b5*0x2+-0x6*-0x1]==='!',_0x36b3a4=_0x18ff49[-0x543*0x7+-0x7a*0x34+0x3d9f]['trim']();const _0x230ae3=_0xc75762['has'](_0x36b3a4);return{'result':_0x12dfc4?!_0x230ae3:_0x230ae3,'error':_0x299c9e};}const _0x3ac0b4=BT['exec'](_0x36b3a4);if(_0x3ac0b4){const _0x30c67d=_0xc75762['get'](_0x3ac0b4[-0x24a7+0x1318+-0x10*-0x119]['trim']())??_0x3ac0b4[-0xc7*0x29+-0xd2+0x20b2]['trim'](),_0x469309=_0xc75762['get'](_0x3ac0b4[0x1*0x1f9f+0x1c12+-0x1*0x3bae]['trim']())??_0x3ac0b4[-0x1dff*0x1+0x1e0e+-0x3*0x4]['trim'](),_0x4d31d7=_0x3ac0b4[0x80f*0x1+0x1*0x335+-0xb42*0x1]['trim']();let _0x3ef1d7=!(0x7cf*-0x2+0x61f*0x1+-0x20*-0x4c);switch(_0x4d31d7){case'==':_0x3ef1d7=_0x30c67d===_0x469309;break;case'!=':_0x3ef1d7=_0x30c67d!==_0x469309;break;case'<':_0x3ef1d7=_0x30c67d<_0x469309;break;case'<=':_0x3ef1d7=_0x30c67d<=_0x469309;break;case'>':_0x3ef1d7=_0x30c67d>_0x469309;break;case'>=':_0x3ef1d7=_0x30c67d>=_0x469309;break;default:_0x299c9e=!(0x8*-0x2+0x4c5+0x4b5*-0x1);}return{'result':_0x3ef1d7,'error':_0x299c9e};}return{'result':_0xc75762['has'](_0x36b3a4),'error':_0x299c9e};}static['processPar'+'entheses'](_0x41de22,_0xe20cd1){let _0x4a2d73=!(-0x17a2+0x6fa+0x5*0x355),_0x2b06c8=_0x41de22['trim']();for(;_0x2b06c8['startsWith']('(')&&_0x2b06c8['endsWith'](')');){let _0x4c5741=0x226a+0x21f*0x3+0x1*-0x28c7,_0x37e291=!(-0x15d8+0x1468+-0x2*-0xb8);for(let _0x19eb26=-0x1840+-0x20bc+0x38fc;_0x19eb26<_0x2b06c8['length']-(-0x131e+0x3*0xb95+-0xa*0x190);_0x19eb26++)if(_0x2b06c8[_0x19eb26]==='(')_0x4c5741++;else{if(_0x2b06c8[_0x19eb26]===')'&&(_0x4c5741--,_0x4c5741===-0x1904+-0x1252+0x2b56)){_0x37e291=!(-0x2f4+0xde0+0x5*-0x22f);break;}}if(_0x37e291)_0x2b06c8=_0x2b06c8['slice'](0x1c74+0x2*-0x17e+-0x1977,-(0x2614+-0x2511*0x1+-0x102))['trim']();else break;}for(;;){let _0x44e393=!(-0x3*-0x3e6+-0x6*-0x185+-0x14cf),_0x449458=0x22b7+-0x84*-0x18+-0x2f17,_0x2c8c97=0x80b*0x4+0x94*-0xa+0x4*-0x699,_0x299e50=-(0x1*-0x9d3+0xa3d+0x7*-0xf),_0x1780f7=-(0x74*-0x53+-0x1d8d+0x432a),_0x1ca39c=-0x1*-0x1c57+-0x7*-0x21d+-0x1591*0x2;for(let _0x28e889=-0x10*-0x15a+0x1fb2+0x111*-0x32;_0x28e889<_0x2b06c8['length'];_0x28e889++)if(_0x2b06c8[_0x28e889]==='('){const _0x41fdc4=_0x2b06c8['substring'](0x1abe+-0x500*0x1+-0x15be,_0x28e889);UT['test'](_0x41fdc4)?_0x1ca39c++:_0x1ca39c===-0x1ef5+-0xfdd+0x2ed2&&(_0x449458++,_0x449458>_0x2c8c97&&(_0x2c8c97=_0x449458,_0x299e50=_0x28e889),_0x44e393=!(0x257*-0x1+-0x6ac*-0x1+-0x455));}else _0x2b06c8[_0x28e889]===')'&&(_0x1ca39c>0x1420+-0xe33+-0x5ed*0x1?_0x1ca39c--:_0x449458>-0x1*-0x1ab1+-0x72+-0x1a3f&&(_0x449458===_0x2c8c97&&_0x299e50!==-(0x116d*0x2+0x11*0xef+-0x32b8)&&(_0x1780f7=_0x28e889),_0x449458--));if(!_0x44e393||_0x299e50===-(0xe*0x6d+-0x153*0x1+-0x1*0x4a2)||_0x1780f7===-(-0x20bc+-0x6*-0x1cd+0x15ef))break;const _0x94ee4f=_0x2b06c8['substring'](_0x299e50+(0x615*0x2+0x7f3*-0x3+0xbb0),_0x1780f7),{result:_0x394992,error:_0x4568a2}=Lt['evaluate'](_0x94ee4f,_0xe20cd1);_0x4a2d73=_0x4a2d73||_0x4568a2,_0x2b06c8=_0x2b06c8['substring'](0x16fc+-0x1789+-0x1*-0x8d,_0x299e50)+(_0x394992?'true':'false')+_0x2b06c8['substring'](_0x1780f7+(-0x5c5*-0x1+-0x4bb*-0x3+0x13f5*-0x1));}return{'expression':_0x2b06c8,'error':_0x4a2d73};}static['evaluate'](_0x1c0f35,_0x382d50){const _0x4283a3=zT['exec'](_0x1c0f35)===null;w['assert'](_0x4283a3,'Resolving\x20'+'expression'+'\x20like\x20this'+'\x20is\x20not\x20su'+'pported:\x20'+_0x1c0f35);let _0x443db3=_0x1c0f35,_0x59babe=!(-0x2*-0xeb0+0x3*-0x1a6+-0x186d);if(_0x1c0f35['replace'](kT,'')['indexOf']('(')!==-(-0xa*-0x6+0x2077*-0x1+0x203c)){const _0x52335b=Lt['processPar'+'entheses'](_0x1c0f35,_0x382d50);_0x443db3=_0x52335b['expression'],_0x59babe=_0x52335b['error'];}if(_0x59babe)return w['log']('Parenthesi'+'s\x20parsing\x20'+'error\x20in\x20e'+'xpression:'+'\x20\x22'+_0x1c0f35+'\x22'),{'result':!(-0x6d*0x16+0x131f+0x1a0*-0x6),'error':!(-0x2*0x2b+-0x1*0x1dc9+-0x1*-0x1e1f)};const _0x54c56f=_0x443db3['split']('||');for(const _0x4d18c7 of _0x54c56f){const _0x19417d=_0x4d18c7['split']('&&');let _0x880660=!(0x1a28+-0x31d+-0x15b*0x11);for(const _0x170f2f of _0x19417d){const {result:_0x59befb,error:_0x1ca62b}=Lt['evaluateAt'+'omicExpres'+'sion'](_0x170f2f['trim'](),_0x382d50);if(!_0x59befb||_0x1ca62b){_0x880660=!(0x43*-0x1+0x791+-0x7*0x10b);break;}}if(_0x880660)return{'result':!(-0x1*-0xa99+0x177+-0xc10),'error':!_0x4283a3};}return{'result':!(-0x1*-0x163d+-0x6b7*-0x1+-0x1cf3),'error':!_0x4283a3};}};h(Lt,'sourceName');let ko=Lt;const Vy='\x0a\x0a#ifndef\x20'+'outType_0\x0a'+'#define\x20ou'+'tType_0\x20ve'+'c4\x0a#endif\x0a'+'\x0alayout(lo'+'cation\x20=\x200'+')\x20out\x20high'+'p\x20outType_'+'0\x20pcFragCo'+'lor0;\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_1\x0a'+'layout(loc'+'ation\x20=\x201)'+'\x20out\x20highp'+'\x20outType_1'+'\x20pcFragCol'+'or1;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_2\x0alayo'+'ut(locatio'+'n\x20=\x202)\x20out'+'\x20highp\x20out'+'Type_2\x20pcF'+'ragColor2;'+'\x0a#endif\x0a\x0a#'+'if\x20COLOR_A'+'TTACHMENT_'+'3\x0alayout(l'+'ocation\x20=\x20'+'3)\x20out\x20hig'+'hp\x20outType'+'_3\x20pcFragC'+'olor3;\x0a#en'+'dif\x0a\x0a#if\x20C'+'OLOR_ATTAC'+'HMENT_4\x0ala'+'yout(locat'+'ion\x20=\x204)\x20o'+'ut\x20highp\x20o'+'utType_4\x20p'+'cFragColor'+'4;\x0a#endif\x0a'+'\x0a#if\x20COLOR'+'_ATTACHMEN'+'T_5\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0a#'+'endif\x0a\x0a#if'+'\x20COLOR_ATT'+'ACHMENT_6\x0a'+'layout(loc'+'ation\x20=\x206)'+'\x20out\x20highp'+'\x20outType_6'+'\x20pcFragCol'+'or6;\x0a#endi'+'f\x0a\x0a#if\x20COL'+'OR_ATTACHM'+'ENT_7\x0alayo'+'ut(locatio'+'n\x20=\x207)\x20out'+'\x20highp\x20out'+'Type_7\x20pcF'+'ragColor7;'+'\x0a#endif\x0a\x0a#'+'define\x20gl_'+'FragColor\x20'+'pcFragColo'+'r0\x0a\x0a#defin'+'e\x20varying\x20'+'in\x0a\x0a#defin'+'e\x20texture2'+'D\x20texture\x0a'+'#define\x20te'+'xture2DBia'+'s\x20texture\x0a'+'#define\x20te'+'xtureCube\x20'+'texture\x0a#d'+'efine\x20text'+'ure2DProj\x20'+'texturePro'+'j\x0a#define\x20'+'texture2DL'+'od\x20texture'+'Lod\x0a#defin'+'e\x20texture2'+'DProjLod\x20t'+'extureProj'+'Lod\x0a#defin'+'e\x20textureC'+'ubeLod\x20tex'+'tureLod\x0a#d'+'efine\x20text'+('ure2DGrad\x20'+'textureGra'+'d\x0a#define\x20'+'texture2DP'+'rojGrad\x20te'+'xtureProjG'+'rad\x0a#defin'+'e\x20textureC'+'ubeGrad\x20te'+'xtureGrad\x0a'+'#define\x20ut'+'exture2D\x20t'+'exture\x0a#de'+'fine\x20itext'+'ure2D\x20text'+'ure\x0a\x0a//\x20de'+'precated\x20d'+'efines\x0a#de'+'fine\x20textu'+'re2DLodEXT'+'\x20texture2D'+'LodEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DLod_ins'+'tead\x0a#defi'+'ne\x20texture'+'2DProjLodE'+'XT\x20texture'+'2DProjLodE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DP'+'rojLod\x0a#de'+'fine\x20textu'+'reCubeLodE'+'XT\x20texture'+'CubeLodEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeL'+'od_instead'+'\x0a#define\x20t'+'exture2DGr'+'adEXT\x20text'+'ure2DGradE'+'XT_is_no_l'+'onger_supp'+'orted_use_'+'texture2DG'+'rad_instea'+'d\x0a#define\x20'+'texture2DP'+'rojGradEXT'+'\x20texture2D'+'ProjGradEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DPr'+'ojGrad_ins'+'tead\x0a#defi'+'ne\x20texture'+'CubeGradEX'+'T\x20textureC'+'ubeGradEXT'+'_is_no_lon'+'ger_suppor'+'ted_use_te'+'xtureCubeG'+'rad_instea'+'d\x0a\x0a//\x20samp'+'le\x20shadows'+'\x20using\x20tex'+'tureGrad\x20t'+'o\x20remove\x20d'+'erivatives'+'\x20in\x20the\x20dy'+'namic\x20loop'+'s\x20(which\x20a'+'re\x20used\x20by'+'\x0a//\x20cluste'+'red\x20lighti'+'ng)\x20-\x20as\x20D'+'irectX\x20sha'+'der\x20compil'+'er\x20tries\x20t'+'o\x20unroll\x20t'+'he\x20loops\x20a'+'nd\x20takes\x20l'+'ong\x20time\x0a/'+'/\x20to\x20compi'+'le\x20the\x20sha'+'der.\x20Using'+'\x20textureLo'+'d\x20would\x20be'+'\x20even\x20bett')+('er,\x20but\x20We'+'bGl\x20does\x20n'+'ot\x20transla'+'te\x20it\x20to\x0a/'+'/\x20lod\x20inst'+'ruction\x20fo'+'r\x20DirectX\x20'+'correctly\x20'+'and\x20uses\x20S'+'ampleCmp\x20i'+'nstead\x20of\x20'+'SampleCmpL'+'evelZero\x20o'+'r\x20similar.'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureG'+'rad(res,\x20u'+'v,\x20vec2(1,'+'\x201),\x20vec2('+'1,\x201))\x0a\x0a//'+'\x20pass\x20/\x20ac'+'cept\x20shado'+'w\x20map\x20or\x20t'+'exture\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20on\x20webgl'+'\x20this\x20is\x20s'+'imply\x20pass'+'ed\x20as\x20is\x0a/'+'/\x20but\x20this'+'\x20is\x20needed'+'\x20for\x20WebGP'+'U\x0a#define\x20'+'SHADOWMAP_'+'PASS(name)'+'\x20name\x0a#def'+'ine\x20SHADOW'+'MAP_ACCEPT'+'(name)\x20sam'+'pler2DShad'+'ow\x20name\x0a#d'+'efine\x20TEXT'+'URE_PASS(n'+'ame)\x20name\x0a'+'#define\x20TE'+'XTURE_ACCE'+'PT(name)\x20s'+'ampler2D\x20n'+'ame\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP(name)\x20h'+'ighp\x20sampl'+'er2D\x20name\x0a'+'\x0a#define\x20G'+'L2\x0a'),Gy='\x0a#define\x20a'+'ttribute\x20i'+'n\x0a#define\x20'+'varying\x20ou'+'t\x0a#define\x20'+'texture2D\x20'+'texture\x0a#d'+'efine\x20utex'+'ture2D\x20tex'+'ture\x0a#defi'+'ne\x20itextur'+'e2D\x20textur'+'e\x0a#define\x20'+'GL2\x0a#defin'+'e\x20VERTEXSH'+'ADER\x0a\x0a#def'+'ine\x20TEXTUR'+'E_PASS(nam'+'e)\x20name\x0a#d'+'efine\x20TEXT'+'URE_ACCEPT'+'(name)\x20sam'+'pler2D\x20nam'+'e\x0a#define\x20'+'TEXTURE_AC'+'CEPT_HIGHP'+'(name)\x20hig'+'hp\x20sampler'+'2D\x20name\x0a',Hy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#ifnde'+'f\x20outType_'+'0\x0a#define\x20'+'outType_0\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_1\x0a'+'#define\x20ou'+'tType_1\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_2\x0a#d'+'efine\x20outT'+'ype_2\x20vec4'+'\x0a#endif\x0a#i'+'fndef\x20outT'+'ype_3\x0a#def'+'ine\x20outTyp'+'e_3\x20vec4\x0a#'+'endif\x0a#ifn'+'def\x20outTyp'+'e_4\x0a#defin'+'e\x20outType_'+'4\x20vec4\x0a#en'+'dif\x0a#ifnde'+'f\x20outType_'+'5\x0a#define\x20'+'outType_5\x20'+'vec4\x0a#endi'+'f\x0a#ifndef\x20'+'outType_6\x0a'+'#define\x20ou'+'tType_6\x20ve'+'c4\x0a#endif\x0a'+'#ifndef\x20ou'+'tType_7\x0a#d'+'efine\x20outT'+'ype_7\x20vec4'+'\x0a#endif\x0a\x0al'+'ayout(loca'+'tion\x20=\x200)\x20'+'out\x20highp\x20'+'outType_0\x20'+'pcFragColo'+'r0;\x0alayout'+'(location\x20'+'=\x201)\x20out\x20h'+'ighp\x20outTy'+'pe_1\x20pcFra'+'gColor1;\x0al'+'ayout(loca'+'tion\x20=\x202)\x20'+'out\x20highp\x20'+'outType_2\x20'+'pcFragColo'+'r2;\x0alayout'+'(location\x20'+'=\x203)\x20out\x20h'+'ighp\x20outTy'+'pe_3\x20pcFra'+'gColor3;\x0al'+'ayout(loca'+'tion\x20=\x204)\x20'+'out\x20highp\x20'+'outType_4\x20'+'pcFragColo'+'r4;\x0alayout'+'(location\x20'+'=\x205)\x20out\x20h'+'ighp\x20outTy'+'pe_5\x20pcFra'+'gColor5;\x0al'+'ayout(loca'+'tion\x20=\x206)\x20'+'out\x20highp\x20'+'outType_6\x20'+'pcFragColo'+'r6;\x0alayout'+'(location\x20'+'=\x207)\x20out\x20h'+'ighp\x20outTy'+'pe_7\x20pcFra'+'gColor7;\x0a\x0a'+'#define\x20gl'+'_FragColor'+'\x20pcFragCol'+'or0\x0a\x0a#defi'+'ne\x20texture'+'2D(res,\x20uv'+')\x20texture('+'sampler2D('+('res,\x20res\x20#'+'#\x20_sampler'+'),\x20uv)\x0a#de'+'fine\x20textu'+'re2DBias(r'+'es,\x20uv,\x20bi'+'as)\x20textur'+'e(sampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv,\x20b'+'ias)\x0a#defi'+'ne\x20texture'+'2DLod(res,'+'\x20uv,\x20lod)\x20'+'textureLod'+'(sampler2D'+'(res,\x20res\x20'+'##\x20_sample'+'r),\x20uv,\x20lo'+'d)\x0a#define'+'\x20textureCu'+'be(res,\x20uv'+')\x20texture('+'samplerCub'+'e(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a#'+'define\x20tex'+'tureCubeLo'+'d(res,\x20uv,'+'\x20lod)\x20text'+'ureLod(sam'+'plerCube(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x20lod)'+'\x0a#define\x20t'+'extureShad'+'ow(res,\x20uv'+')\x20textureL'+'od(sampler'+'2DShadow(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv,\x200.0)'+'\x0a#define\x20i'+'texture2D('+'res,\x20uv)\x20t'+'exture(isa'+'mpler2D(re'+'s,\x20res\x20##\x20'+'_sampler),'+'\x20uv)\x0a#defi'+'ne\x20utextur'+'e2D(res,\x20u'+'v)\x20texture'+'(usampler2'+'D(res,\x20res'+'\x20##\x20_sampl'+'er),\x20uv)\x0a\x0a'+'//\x20depreca'+'ted\x20define'+'s\x0a#define\x20'+'texture2DL'+'odEXT\x20text'+'ure2DLodEX'+'T_is_no_lo'+'nger_suppo'+'rted_use_t'+'exture2DLo'+'d_instead\x0a'+'#define\x20te'+'xture2DPro'+'jLodEXT\x20te'+'xture2DPro'+'jLodEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DProjLo'+'d\x0a#define\x20'+'textureCub'+'eLodEXT\x20te'+'xtureCubeL'+'odEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeLod_in'+'stead\x0a#def'+'ine\x20textur'+'e2DGradEXT'+'\x20texture2D'+'GradEXT_is'+'_no_longer'+'_supported'+'_use_textu'+'re2DGrad_i'+'nstead\x0a#de')+('fine\x20textu'+'re2DProjGr'+'adEXT\x20text'+'ure2DProjG'+'radEXT_is_'+'no_longer_'+'supported_'+'use_textur'+'e2DProjGra'+'d_instead\x0a'+'#define\x20te'+'xtureCubeG'+'radEXT\x20tex'+'tureCubeGr'+'adEXT_is_n'+'o_longer_s'+'upported_u'+'se_texture'+'CubeGrad_i'+'nstead\x0a\x0a//'+'\x20TODO:\x20imp'+'lement\x20oth'+'er\x20texture'+'\x20sampling\x20'+'macros\x0a//\x20'+'#define\x20te'+'xture2DPro'+'j\x20textureP'+'roj\x0a//\x20#de'+'fine\x20textu'+'re2DProjLo'+'d\x20textureP'+'rojLod\x0a//\x20'+'#define\x20te'+'xture2DGra'+'d\x20textureG'+'rad\x0a//\x20#de'+'fine\x20textu'+'re2DProjGr'+'ad\x20texture'+'ProjGrad\x0a/'+'/\x20#define\x20'+'textureCub'+'eGrad\x20text'+'ureGrad\x0a\x0a/'+'/\x20pass\x20/\x20a'+'ccept\x20shad'+'ow\x20map\x20as\x20'+'a\x20function'+'\x20parameter'+',\x20passes\x20b'+'oth\x20the\x20te'+'xture\x20as\x20w'+'ell\x20as\x20sam'+'pler\x0a//\x20as'+'\x20the\x20combi'+'ned\x20sample'+'r\x20can\x20be\x20o'+'nly\x20create'+'d\x20at\x20a\x20poi'+'nt\x20of\x20use\x0a'+'#define\x20SH'+'ADOWMAP_PA'+'SS(name)\x20n'+'ame,\x20name\x20'+'##\x20_sample'+'r\x0a#define\x20'+'SHADOWMAP_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'PASS(name)'+'\x20name,\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT(nam'+'e)\x20texture'+'2D\x20name,\x20s'+'ampler\x20nam'+'e\x20##\x20_samp'+'ler\x0a#defin'+'e\x20TEXTURE_'+'ACCEPT_HIG'+'HP\x20TEXTURE'+'_ACCEPT\x0a\x0a#'+'define\x20GL2'+'\x0a#define\x20W'+'EBGPU\x0a'),Wy='\x0a\x0a//\x20texel'+'Fetch\x20supp'+'ort\x20and\x20ot'+'hers\x0a#exte'+'nsion\x20GL_E'+'XT_sampler'+'less_textu'+'re_functio'+'ns\x20:\x20requi'+'re\x0a\x0a#defin'+'e\x20texture2'+'D(res,\x20uv)'+'\x20texture(s'+'ampler2D(r'+'es,\x20res\x20##'+'\x20_sampler)'+',\x20uv)\x0a#def'+'ine\x20itextu'+'re2D(res,\x20'+'uv)\x20textur'+'e(isampler'+'2D(res,\x20re'+'s\x20##\x20_samp'+'ler),\x20uv)\x0a'+'#define\x20ut'+'exture2D(r'+'es,\x20uv)\x20te'+'xture(usam'+'pler2D(res'+',\x20res\x20##\x20_'+'sampler),\x20'+'uv)\x0a\x0a#defi'+'ne\x20TEXTURE'+'_PASS(name'+')\x20name,\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT(na'+'me)\x20textur'+'e2D\x20name,\x20'+'sampler\x20na'+'me\x20##\x20_sam'+'pler\x0a#defi'+'ne\x20TEXTURE'+'_ACCEPT_HI'+'GHP\x20TEXTUR'+'E_ACCEPT\x0a\x0a'+'#define\x20GL'+'2\x0a#define\x20'+'WEBGPU\x0a#de'+'fine\x20VERTE'+'XSHADER\x0a#d'+'efine\x20gl_V'+'ertexID\x20gl'+'_VertexInd'+'ex\x0a#define'+'\x20gl_Instan'+'ceID\x20gl_In'+'stanceInde'+'x\x0a',$y='\x0a',Xy='\x0a#define\x20V'+'ERTEXSHADE'+'R\x0a',n_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20to'+'\x20sample\x20sc'+'ene\x20grab\x20t'+'extures\x0ave'+'c2\x20getGrab'+'ScreenPos('+'vec4\x20clipP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x200.5;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'WEBGPU\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv.y\x20'+'=\x201.0\x20-\x20uv'+'.y;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a\x0a//\x20con'+'vert\x20uv\x20co'+'ordinates\x20'+'to\x20sample\x20'+'image\x20effe'+'ct\x20texture'+'\x20(render\x20t'+'arget\x20text'+'ure\x20render'+'ed\x20without'+'\x0a//\x20forwar'+'d\x20renderer'+'\x20which\x20doe'+'s\x20the\x20flip'+'\x20in\x20the\x20pr'+'ojection\x20m'+'atrix)\x0avec'+'2\x20getImage'+'EffectUV(v'+'ec2\x20uv)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv.y'+'\x20=\x201.0\x20-\x20u'+'v.y;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20uv'+';\x0a}\x0a',o_='\x0a\x0a//\x20conve'+'rt\x20clip\x20sp'+'ace\x20positi'+'on\x20into\x20te'+'xture\x20coor'+'dinates\x20fo'+'r\x20sampling'+'\x20scene\x20gra'+'b\x20textures'+'\x0afn\x20getGra'+'bScreenPos'+'(clipPos:\x20'+'vec4<f32>)'+'\x20->\x20vec2<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'var\x20uv:\x20ve'+'c2<f32>\x20=\x20'+'(clipPos.x'+'y\x20/\x20clipPo'+'s.w)\x20*\x200.5'+'\x20+\x20vec2<f3'+'2>(0.5);\x0a\x20'+'\x20\x20\x20uv.y\x20=\x20'+'1.0\x20-\x20uv.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'//\x20convert'+'\x20uv\x20coordi'+'nates\x20to\x20s'+'ample\x20imag'+'e\x20effect\x20t'+'exture\x20(re'+'nder\x20targe'+'t\x20texture\x20'+'rendered\x20w'+'ithout\x0a//\x20'+'forward\x20re'+'nderer\x20whi'+'ch\x20does\x20th'+'e\x20flip\x20in\x20'+'the\x20projec'+'tion\x20matri'+'x)\x0afn\x20getI'+'mageEffect'+'UV(uv:\x20vec'+'2<f32>)\x20->'+'\x20vec2<f32>'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20modifiedU'+'V:\x20vec2<f3'+'2>\x20=\x20uv;\x0a\x20'+'\x20\x20\x20modifie'+'dUV.y\x20=\x201.'+'0\x20-\x20modifi'+'edUV.y;\x0a\x20\x20'+'\x20\x20return\x20m'+'odifiedUV;'+'\x0a}\x0a\x0a//\x20typ'+'es\x20wrapped'+'\x20in\x20size\x20a'+'ligned\x20str'+'uctures\x20to'+'\x20ensure\x20co'+'rrect\x20alig'+'nment\x20in\x20u'+'niform\x20buf'+'fer\x20arrays'+'\x0astruct\x20Wr'+'appedF32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'f32\x20}\x0astru'+'ct\x20Wrapped'+'I32\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20i32\x20}'+'\x0astruct\x20Wr'+'appedU32\x20{'+'\x20@size(16)'+'\x20element:\x20'+'u32\x20}\x0astru'+'ct\x20Wrapped'+'Vec2F\x20{\x20@s'+'ize(16)\x20el'+'ement:\x20vec'+'2f\x20}\x0astruc'+'t\x20WrappedV'+'ec2I\x20{\x20@si'+'ze(16)\x20ele'+'ment:\x20vec2'+'i\x20}\x0astruct'+'\x20WrappedVe'+'c2U\x20{\x20@siz'+'e(16)\x20elem'+'ent:\x20vec2u'+'\x20}\x0a',GT={'vertex_position':Me,'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_texCoord2':wl,'vertex_texCoord3':El,'vertex_texCoord4':bl,'vertex_texCoord5':Al,'vertex_texCoord6':Cl,'vertex_texCoord7':Pl,'vertex_color':Wt,'vertex_boneIndices':us,'vertex_boneWeights':gi};class Jt{static['createDefi'+'nition'](_0x46acd5,_0x8cd55a){w['assert'](_0x8cd55a),w['assert'](!_0x8cd55a['vertexDefi'+'nes']||_0x8cd55a['vertexDefi'+'nes']instanceof Map),w['assert'](!_0x8cd55a['vertexIncl'+'udes']||_0x8cd55a['vertexIncl'+'udes']instanceof Map),w['assert'](!_0x8cd55a['fragmentDe'+'fines']||_0x8cd55a['fragmentDe'+'fines']instanceof Map),w['assert'](!_0x8cd55a['fragmentIn'+'cludes']||_0x8cd55a['fragmentIn'+'cludes']instanceof Map);const _0x532cfb=_0x24a76a=>{let _0x2d9520=_0x24a76a['fragmentOu'+'tputTypes']??'vec4';return Array['isArray'](_0x2d9520)||(_0x2d9520=[_0x2d9520]),_0x2d9520;},_0x4c7468=(_0x244b39,_0x42730b,_0x551fc2,_0x3fe194)=>{const _0x5e3c34=_0x46acd5['isWebGPU']?_0x244b39:_0x42730b;let _0x53b90c='';if(!_0x551fc2){const _0x62c1c5=_0x532cfb(_0x3fe194);for(let _0x26a6a5=-0xc1a+-0xee0+-0x47f*-0x6;_0x26a6a5<_0x46acd5['maxColorAt'+'tachments'];_0x26a6a5++){_0x53b90c+='#define\x20CO'+'LOR_ATTACH'+'MENT_'+_0x26a6a5+'\x0a';const _0x46d334=_0x62c1c5[_0x26a6a5]??'vec4';_0x53b90c+='#define\x20ou'+'tType_'+_0x26a6a5+'\x20'+_0x46d334+'\x0a';}}return _0x53b90c+_0x5e3c34;},_0x23f9ab=(_0x223e89,_0xce15a6)=>{let _0x538565='';if(!_0x223e89){const _0x5f2afa=_0x532cfb(_0xce15a6);for(let _0x109db6=-0x2*0x560+0x1da2*-0x1+-0x2*-0x1431;_0x109db6<_0x46acd5['maxColorAt'+'tachments'];_0x109db6++){const _0x37f42a=_0x5f2afa[_0x109db6]??'vec4',_0x5a7029=Fy['get'](_0x37f42a);w['assert'](_0x5a7029,'Unknown\x20ou'+'tput\x20type\x20'+'translatio'+'n:\x20'+_0x37f42a+'\x20->\x20'+_0x5a7029),_0x538565+='alias\x20pcOu'+'tType'+_0x109db6+'\x20=\x20'+_0x5a7029+';\x0a';}}return _0x538565;},_0x16661d=_0x8cd55a['name']??'Untitled';let _0xf0ca07,_0x4be025;const _0x192a6b=Jt['getDefines'+'Code'](_0x46acd5,_0x8cd55a['vertexDefi'+'nes']),_0xc43d63=Jt['getDefines'+'Code'](_0x46acd5,_0x8cd55a['fragmentDe'+'fines']);return _0x8cd55a['shaderLang'+'uage']===it?(_0xf0ca07='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x23f9ab(!(-0x6fa+-0x72*0x36+-0x2d2*-0xb),_0x8cd55a)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Xy+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x192a6b+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x8cd55a['vertexCode']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20'),_0x4be025='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20'+_0x23f9ab(!(-0x14a+0xb*0x11a+-0xad3),_0x8cd55a)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+$y+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+o_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0xc43d63+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x8cd55a['fragmentCo'+'de']+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20')):(w['assert'](_0x8cd55a['vertexCode']),_0xf0ca07=Jt['versionCod'+'e'](_0x46acd5)+_0x4c7468(Wy,Gy,!(-0x22ff+-0x1abd+0x3dbc),_0x8cd55a)+_0x192a6b+Jt['precisionC'+'ode'](_0x46acd5)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x16661d)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x8cd55a['vertexCode'],w['assert'](_0x8cd55a['fragmentCo'+'de']),_0x4be025=(_0x8cd55a['fragmentPr'+'eamble']||'')+Jt['versionCod'+'e'](_0x46acd5)+_0x4c7468(Hy,Vy,!(-0xfcc+0x1dcc+-0xdff),_0x8cd55a)+_0xc43d63+Jt['precisionC'+'ode'](_0x46acd5)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+n_+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+Jt['getShaderN'+'ameCode'](_0x16661d)+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20')+_0x8cd55a['fragmentCo'+'de']),{'name':_0x16661d,'shaderLanguage':_0x8cd55a['shaderLang'+'uage']??Fe,'attributes':_0x8cd55a['attributes'],'vshader':_0xf0ca07,'vincludes':_0x8cd55a['vertexIncl'+'udes'],'fincludes':_0x8cd55a['fragmentIn'+'cludes'],'fshader':_0x4be025,'useTransformFeedback':_0x8cd55a['useTransfo'+'rmFeedback'],'meshUniformBufferFormat':_0x8cd55a['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x8cd55a['meshBindGr'+'oupFormat']};}static['getDefines'+'Code'](_0x938df0,_0x25586c){let _0x50ed29='';return _0x938df0['capsDefine'+'s']['forEach']((_0x3b107c,_0x212a47)=>{_0x50ed29+='#define\x20'+_0x212a47+'\x20'+_0x3b107c+'\x0a';}),_0x50ed29+='\x0a',_0x25586c==null||_0x25586c['forEach']((_0x282914,_0xb2ffe5)=>{_0x50ed29+='#define\x20'+_0xb2ffe5+'\x20'+_0x282914+'\x0a';}),_0x50ed29+='\x0a',_0x50ed29;}static['getShaderN'+'ameCode'](_0x412195){return'#define\x20SH'+'ADER_NAME\x20'+_0x412195+'\x0a';}static['versionCod'+'e'](_0x5487d0){return _0x5487d0['isWebGPU']?'#version\x204'+'50\x0a':'#version\x203'+'00\x20es\x0a';}static['precisionC'+'ode'](_0x43f6c1,_0xee0056){_0xee0056&&_0xee0056!=='highp'&&_0xee0056!=='mediump'&&_0xee0056!=='lowp'&&(_0xee0056=null),_0xee0056&&(_0xee0056==='highp'&&_0x43f6c1['maxPrecisi'+'on']!=='highp'&&(_0xee0056='mediump'),_0xee0056==='mediump'&&_0x43f6c1['maxPrecisi'+'on']==='lowp'&&(_0xee0056='lowp'));const _0x3e2ff9=_0xee0056||_0x43f6c1['precision'];return'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20precisi'+'on\x20'+_0x3e2ff9+('\x20float;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x3e2ff9+('\x20int;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20pr'+'ecision\x20')+_0x3e2ff9+('\x20usampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x3e2ff9+('\x20isampler2'+'D;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20preci'+'sion\x20')+_0x3e2ff9+('\x20sampler2D'+'Shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'precision\x20')+_0x3e2ff9+('\x20samplerCu'+'beShadow;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20precisio'+'n\x20')+_0x3e2ff9+('\x20sampler2D'+'Array;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}static['collectAtt'+'ributes'](_0x405bb3){const _0x4b34df={};let _0x4a0895=0x1*-0x7dc+-0x11*0x1af+0x247b,_0x450c01=_0x405bb3['indexOf']('attribute');for(;_0x450c01>=-0x2b*-0xc6+0x1ae9+-0x3c2b&&!(_0x450c01>0x3*-0xa37+0xcf*0x1f+0x594&&_0x405bb3[_0x450c01-(0x13dd+-0x1e15+0xa39)]==='/');){let _0x2f918d=!(0x265e+0xc*0x219+-0x1*0x3f89);if(_0x450c01>0x1a16+0x8c1+0x9*-0x3df){let _0x2a21de=_0x405bb3['lastIndexO'+'f']('\x0a',_0x450c01);_0x2a21de=_0x2a21de!==-(-0x1*0xcdf+-0x2c*-0x9c+-0xdf0)?_0x2a21de+(-0x57c*0x6+-0x1731+0x56*0xa7):-0x1*-0x223d+0x510+-0x274d*0x1,_0x405bb3['substring'](_0x2a21de,_0x450c01)['includes']('#')&&(_0x2f918d=!(-0x76f+-0x987*0x1+0x14e*0xd));}if(!_0x2f918d){const _0x37a80b=_0x405bb3['indexOf'](';',_0x450c01),_0x242113=_0x405bb3['lastIndexO'+'f']('\x20',_0x37a80b),_0x31be11=_0x405bb3['substring'](_0x242113+(-0xda+0xd4b+-0xc70),_0x37a80b);if(_0x4b34df[_0x31be11])w['warn']('Attribute\x20'+'['+_0x31be11+(']\x20already\x20'+'exists\x20whe'+'n\x20extracti'+'ng\x20the\x20att'+'ributes\x20fr'+'om\x20the\x20ver'+'tex\x20shader'+',\x20ignoring'+'.'),{'vsCode':_0x405bb3});else{const _0x606869=GT[_0x31be11];_0x606869!==void(-0x2b*-0x5e+-0x1*-0x269e+-0x3668*0x1)?_0x4b34df[_0x31be11]=_0x606869:(_0x4b34df[_0x31be11]='ATTR'+_0x4a0895,_0x4a0895++);}}_0x450c01=_0x405bb3['indexOf']('attribute',_0x450c01+(0x1afe+-0xbf+-0x1a3e));}return _0x4b34df;}}let HT=0x5*-0x255+-0x1b44+-0x7c9*-0x5;class qy{constructor(_0x55629f,_0x2058bf){h(this,'meshUnifor'+'mBufferFor'+'mat'),h(this,'meshBindGr'+'oupFormat'),h(this,'attributes',new Map());if(this['id']=HT++,this['device']=_0x55629f,this['definition']=_0x2058bf,this['name']=_0x2058bf['name']||'Untitled',this['init'](),_0x2058bf['cshader'])w['assert'](_0x55629f['supportsCo'+'mpute'],'Compute\x20sh'+'aders\x20are\x20'+'not\x20suppor'+'ted\x20on\x20thi'+'s\x20device.'),w['assert'](!_0x2058bf['vshader']&&!_0x2058bf['fshader'],'Vertex\x20and'+'\x20fragment\x20'+'shaders\x20ar'+'e\x20not\x20supp'+'orted\x20when'+'\x20creating\x20'+'a\x20compute\x20'+'shader.'),_0x2058bf['cshader']=ko['run'](_0x2058bf['cshader'],_0x2058bf['cincludes'],{'sourceName':'compute\x20sh'+'ader\x20for\x20'+this['label'],'stripDefines':!(-0xc4e+0x4*0x21e+0x3d6)});else{w['assert'](_0x2058bf['vshader'],'No\x20vertex\x20'+'shader\x20has'+'\x20been\x20spec'+'ified\x20when'+'\x20creating\x20'+'a\x20shader.'),w['assert'](_0x2058bf['fshader'],'No\x20fragmen'+'t\x20shader\x20h'+'as\x20been\x20sp'+'ecified\x20wh'+'en\x20creatin'+'g\x20a\x20shader'+'.'),w['call'](()=>{this['vUnmodifie'+'d']=_0x2058bf['vshader'],this['fUnmodifie'+'d']=_0x2058bf['fshader'];});const _0x3ecb57=_0x2058bf['shaderLang'+'uage']===it;_0x2058bf['vshader']=ko['run'](_0x2058bf['vshader'],_0x2058bf['vincludes'],{'sourceName':'vertex\x20sha'+'der\x20for\x20'+this['label'],'stripDefines':_0x3ecb57}),_0x2058bf['shaderLang'+'uage']===Fe&&(_0x2058bf['attributes']??(_0x2058bf['attributes']=Jt['collectAtt'+'ributes'](_0x2058bf['vshader'])));const _0xa6bfa4=_0x55629f['isWebGL2']&&(Ae['name']==='osx'||Ae['name']==='ios');if(_0x2058bf['fshader']=ko['run'](_0x2058bf['fshader'],_0x2058bf['fincludes'],{'stripUnusedColorAttachments':_0xa6bfa4,'stripDefines':_0x3ecb57,'sourceName':'fragment\x20s'+'hader\x20for\x20'+this['label']}),!_0x2058bf['vshader']||!_0x2058bf['fshader']){w['error']('Shader:\x20Fa'+'iled\x20to\x20cr'+'eate\x20shade'+'r\x20'+this['label']+('.\x20Vertex\x20o'+'r\x20fragment'+'\x20shader\x20so'+'urce\x20is\x20em'+'pty.'),this),this['failed']=!(0x5e5*-0x1+0xcd6+0x1*-0x6f1);return;}}this['impl']=_0x55629f['createShad'+'erImpl'](this),w['trace'](Im,'Alloc:\x20'+this['label']+',\x20stack:\x20'+Q['toString'](),{'instance':this});}['init'](){this['ready']=!(0x1d36+0x75b+-0x2490),this['failed']=!(0x17f6*0x1+-0x3*-0x36c+-0x2239);}get['label'](){return'Shader\x20Id\x20'+this['id']+'\x20('+(this['definition']['shaderLang'+'uage']===it?'WGSL':'GLSL')+')\x20'+this['name'];}['destroy'](){w['trace'](Im,'DeAlloc:\x20I'+'d\x20'+this['id']+'\x20'+this['name']),this['device']['onDestroyS'+'hader'](this),this['impl']['destroy'](this);}['loseContex'+'t'](){this['init'](),this['impl']['loseContex'+'t']();}['restoreCon'+'text'](){this['impl']['restoreCon'+'text'](this['device'],this);}}class WT{constructor(){h(this,'storage'),h(this,'gpuBuffer'),h(this,'offset');}}const Be=[];Be[Xs]=function(_0xc39612,_0x4f3940,_0x59e129){const _0x4f2004=_0xc39612['storageFlo'+'at32'];_0x4f2004[_0x59e129]=_0x4f3940;},Be[ga]=(_0x9f60e9,_0x23a245,_0x4706a4)=>{const _0x223345=_0x9f60e9['storageFlo'+'at32'];_0x223345[_0x4706a4]=_0x23a245[0xf88+0xb*0x47+-0x1295],_0x223345[_0x4706a4+(0x446+0x43*0x6b+0x396*-0x9)]=_0x23a245[-0x2543+0xfc7*0x2+-0x1*-0x5b6];},Be[ds]=(_0x3798ee,_0x488757,_0x58f65a)=>{const _0x264eb8=_0x3798ee['storageFlo'+'at32'];_0x264eb8[_0x58f65a]=_0x488757[-0x3c*0x31+0x4*0x540+0x984*-0x1],_0x264eb8[_0x58f65a+(-0x18d2+0x10*-0x223+0x1*0x3b03)]=_0x488757[0x47*0x67+0x5*-0x3eb+-0x8f9],_0x264eb8[_0x58f65a+(-0x1*0x1f7c+0x2*-0xa93+-0x1a52*-0x2)]=_0x488757[0x1*0x261a+-0x156a+-0x10ae];},Be[Rn]=(_0xfc2984,_0x275aa2,_0x206586)=>{const _0x43e8d2=_0xfc2984['storageFlo'+'at32'];_0x43e8d2[_0x206586]=_0x275aa2[-0xf4c*-0x1+0x1*-0x1473+0x527*0x1],_0x43e8d2[_0x206586+(0x19b1+0x18c4+-0x3274)]=_0x275aa2[-0x1625+-0xf00+-0xf*-0x27a],_0x43e8d2[_0x206586+(0xc*0x92+0xc11+-0x12e7)]=_0x275aa2[0x5*0x311+0x1240+-0x2193],_0x43e8d2[_0x206586+(-0xf*-0x1ac+-0x1443+-0x4ce)]=_0x275aa2[0x3*0xc7+-0x1fa1+0x1d4f];},Be[_a]=function(_0x70f223,_0x25ed7f,_0x21f05b){const _0x3ad83e=_0x70f223['storageInt'+'32'];_0x3ad83e[_0x21f05b]=_0x25ed7f;},Be[ca]=function(_0x486d67,_0x821b81,_0x1b15c6){const _0x50339e=_0x486d67['storageInt'+'32'];_0x50339e[_0x1b15c6]=_0x821b81[0x2503+-0x2*0x3d4+-0x1d5b],_0x50339e[_0x1b15c6+(-0x4f*0x1+-0x817+-0x3*-0x2cd)]=_0x821b81[-0x151*0xd+-0x2*-0x86d+0x44];},Be[ha]=function(_0xa47d69,_0x5efc12,_0xf6594b){const _0x50389f=_0xa47d69['storageInt'+'32'];_0x50389f[_0xf6594b]=_0x5efc12[-0xfb2+0x3*-0x674+-0x7*-0x502],_0x50389f[_0xf6594b+(0x18db+0x1c73*0x1+0x354d*-0x1)]=_0x5efc12[-0x43b*-0x2+0x4*0x8ce+-0x2bad],_0x50389f[_0xf6594b+(0x446+-0x83e+0x3fa)]=_0x5efc12[0x14c5+-0x13*0x6b+-0xcd2*0x1];},Be[da]=function(_0x1cc03,_0x47b14e,_0x32bab0){const _0x21686f=_0x1cc03['storageInt'+'32'];_0x21686f[_0x32bab0]=_0x47b14e[0x1eb6+0x24b*0x9+-0x3359],_0x21686f[_0x32bab0+(-0xbf*-0x1+0x1*0x1b21+-0x1bdf)]=_0x47b14e[-0x13*0x136+-0x706+0x1*0x1e09],_0x21686f[_0x32bab0+(0x40a*-0x4+-0x1137+0x1*0x2161)]=_0x47b14e[0x22*0x14+0x721+-0x9c7],_0x21686f[_0x32bab0+(-0xe5a+0x26ba+-0x185d)]=_0x47b14e[-0x219c+0x1*0x296+-0x46f*-0x7];},Be[_h]=(_0x5106d6,_0x38d679,_0x28f63c)=>{const _0x38092e=_0x5106d6['storageFlo'+'at32'];_0x38092e[_0x28f63c]=_0x38d679[0x29*0x36+0x4ff+0x1f3*-0x7],_0x38092e[_0x28f63c+(-0x2282+0x1f28+0x35b)]=_0x38d679[0x1b*0x9a+0xae0*-0x1+-0x1*0x55d],_0x38092e[_0x28f63c+(0xb91+-0x26b*0xe+0xad*0x21)]=_0x38d679[-0x1*-0x20e5+0x10*0x1b1+0x3bf3*-0x1],_0x38092e[_0x28f63c+(0x434+0x10*-0xf6+0xb31)]=_0x38d679[0x78b+0x1111+-0x1899],_0x38092e[_0x28f63c+(-0x11ba+-0xb4*0xf+0x1*0x1c4e)]=_0x38d679[-0xc*0x28+0x56*-0x5f+0x1*0x21ce],_0x38092e[_0x28f63c+(0x30b*-0xa+-0x47*0x1+0x5*0x626)]=_0x38d679[0x103+0x6*-0xb3+0x334];},Be[On]=(_0x3d8c5d,_0x3654ee,_0x4d7110)=>{const _0x1787ea=_0x3d8c5d['storageFlo'+'at32'];_0x1787ea[_0x4d7110]=_0x3654ee[-0xb53*-0x1+0x103f*-0x1+0x4ec],_0x1787ea[_0x4d7110+(-0x84*-0x34+-0x1c18+0x149)]=_0x3654ee[0x1ab2+-0x1*0xe97+-0xc1a],_0x1787ea[_0x4d7110+(-0x989+-0x2341+0x2ccc)]=_0x3654ee[-0x266b*0x1+-0x14e3*0x1+0x1a*0x248],_0x1787ea[_0x4d7110+(0x2*0xa34+-0x1*-0x2697+-0x3afb)]=_0x3654ee[-0x23e+0x3*0x1fb+-0x3b0],_0x1787ea[_0x4d7110+(0x1*0x110c+-0xfd7+-0x130)]=_0x3654ee[-0x11fe+0x7*-0x24f+0x222b],_0x1787ea[_0x4d7110+(0x2127+0x11da+-0x1*0x32fb)]=_0x3654ee[0x24ea+-0x266+-0x227f],_0x1787ea[_0x4d7110+(-0x2191*-0x1+0x1086+-0x320f)]=_0x3654ee[0x871*0x4+0x2506+-0x46c4],_0x1787ea[_0x4d7110+(-0x6b5*-0x3+0x12*0x107+-0x2694)]=_0x3654ee[-0xc60+0xe42+-0x5f*0x5],_0x1787ea[_0x4d7110+(0x1*-0x1df0+-0x53d*-0x4+0x906)]=_0x3654ee[-0x334+-0x1*-0x489+-0x14d];},Be[ud]=function(_0x33e35e,_0x1cccd8,_0x4ef761,_0x2e793d){const _0x2d7b1d=_0x33e35e['storageFlo'+'at32'];for(let _0xa60a7e=-0x5f1*-0x1+-0x15f9+0x1008;_0xa60a7e<_0x2e793d;_0xa60a7e++)_0x2d7b1d[_0x4ef761+_0xa60a7e*(0xd87+0xb1*-0x1d+0x68a)]=_0x1cccd8[_0xa60a7e];},Be[pd]=(_0x28350e,_0x3618fb,_0x2910e4,_0x14e980)=>{const _0xad20b6=_0x28350e['storageFlo'+'at32'];for(let _0xd2e489=0x11a6+0x1a50+0x11*-0x296;_0xd2e489<_0x14e980;_0xd2e489++)_0xad20b6[_0x2910e4+_0xd2e489*(0x8*0x27e+0x25f5+-0x21*0x1c1)]=_0x3618fb[_0xd2e489*(-0xa37+0x269+0x7d0)],_0xad20b6[_0x2910e4+_0xd2e489*(0x58d*-0x4+-0x1d3e+0x3376)+(-0x19*-0x2b+-0xecb+0xa99)]=_0x3618fb[_0xd2e489*(0xd18+0x5*-0x4c7+-0x1*-0xacd)+(0x3*-0xcd1+0x1b63+0xb11)];},Be[md]=(_0x481f89,_0x4526c0,_0x295a2e,_0xa795c6)=>{const _0x24256b=_0x481f89['storageFlo'+'at32'];for(let _0x52040f=0x10ee+0xf94*-0x1+0x1*-0x15a;_0x52040f<_0xa795c6;_0x52040f++)_0x24256b[_0x295a2e+_0x52040f*(0x2*-0x114e+0x2331+-0x91)]=_0x4526c0[_0x52040f*(0x1*-0x119f+0x1ff6+0x1c*-0x83)],_0x24256b[_0x295a2e+_0x52040f*(-0x40e+-0x1*-0xf59+-0xb47)+(-0xc65*-0x1+-0x1*0x34b+-0x89*0x11)]=_0x4526c0[_0x52040f*(-0x16ab+-0x1a72+0x3120)+(-0x1a2*0x12+-0xf2*0x27+0x4243*0x1)],_0x24256b[_0x295a2e+_0x52040f*(-0x1c32+0xd05*0x3+0x1*-0xad9)+(0x1b*-0x10b+0x2641+-0xa16)]=_0x4526c0[_0x52040f*(-0xfbc+-0x1c2d+0x2bec)+(-0xdd3*0x2+-0x13d2+0x2f7a)];},Be[Fn]=(_0x2c5cf9,_0x4ee3e5,_0x3a1d2b,_0x24a182)=>{const _0x3de6ff=_0x2c5cf9['storageUin'+'t32'];_0x3de6ff[_0x3a1d2b]=_0x4ee3e5;},Be[Nn]=(_0x41ca06,_0xc5a42a,_0x4f97f1,_0x490591)=>{const _0x13c277=_0x41ca06['storageUin'+'t32'];_0x13c277[_0x4f97f1]=_0xc5a42a[0x21a1+-0xb5b+-0x2*0xb23],_0x13c277[_0x4f97f1+(-0x1*-0x2206+-0x1*-0xd42+-0x85*0x5b)]=_0xc5a42a[0x4*-0x668+-0x15d*0x13+0x3388];},Be[kn]=(_0x235afd,_0x33627a,_0x3aa50b,_0x2741df)=>{const _0x42a51e=_0x235afd['storageUin'+'t32'];_0x42a51e[_0x3aa50b]=_0x33627a[0x5de*0x1+0x3*-0x8+0x1*-0x5c6],_0x42a51e[_0x3aa50b+(0x711+-0x2b1+-0x45f)]=_0x33627a[-0x7*0x1fa+0xbd*0x1b+0x8*-0xc3],_0x42a51e[_0x3aa50b+(0xb0a+0x1bba+0x1361*-0x2)]=_0x33627a[0x449+0x2106+-0x254d];},Be[Un]=(_0x58f8ce,_0x35578e,_0x572e36,_0x52bdc2)=>{const _0x233c8f=_0x58f8ce['storageUin'+'t32'];_0x233c8f[_0x572e36]=_0x35578e[0x1*-0x189b+-0x7*-0x409+-0x3a4],_0x233c8f[_0x572e36+(-0x193b+0x78a+0x11b2)]=_0x35578e[-0x1*-0x1955+0xb68+-0x24bc],_0x233c8f[_0x572e36+(0x18d4*0x1+0x209*0x13+-0x3f7d)]=_0x35578e[0x384*-0x8+0x39d*-0xa+0x4044],_0x233c8f[_0x572e36+(0xa3*-0x17+0x702+0x7a6)]=_0x35578e[-0x171+0x15d*0xc+0x3*-0x4f8];},Be[Bn]=function(_0x4e0e56,_0x2f71c0,_0x42ed9a,_0x1d2b56){const _0x1dc8c6=_0x4e0e56['storageInt'+'32'];for(let _0x5c3717=-0x232d+-0xf*-0x1f+0x215c;_0x5c3717<_0x1d2b56;_0x5c3717++)_0x1dc8c6[_0x42ed9a+_0x5c3717*(-0x35b*-0x4+0x4*-0x18a+-0x1d0*0x4)]=_0x2f71c0[_0x5c3717];},Be[gd]=Be[Bn],Be[_d]=function(_0x32f0a4,_0x54a94f,_0x4794e0,_0x101289){const _0x36580d=_0x32f0a4['storageUin'+'t32'];for(let _0x28619f=0x193a+0xdb*0x2d+-0x3fb9;_0x28619f<_0x101289;_0x28619f++)_0x36580d[_0x4794e0+_0x28619f*(-0x1d*-0xeb+0x12b5+0x14*-0x244)]=_0x54a94f[_0x28619f];},Be[zn]=(_0x207fc3,_0x2342ba,_0x4aa12d,_0x3605bd)=>{const _0x2dd354=_0x207fc3['storageInt'+'32'];for(let _0x5c9930=0x153a+-0xad*0x13+-0x863;_0x5c9930<_0x3605bd;_0x5c9930++)_0x2dd354[_0x4aa12d+_0x5c9930*(-0xa94+0x25d7*-0x1+0x306f)]=_0x2342ba[_0x5c9930*(-0x927+0x39*-0xc+0xbd5)],_0x2dd354[_0x4aa12d+_0x5c9930*(-0x24ca+0x25d4+-0x2*0x83)+(-0x58a+-0x23f9*-0x1+-0x1e6e)]=_0x2342ba[_0x5c9930*(0x1b2+-0xa7b*-0x1+-0xc2b)+(0x48c+-0xaf6+-0x1f*-0x35)];},Be[yd]=Be[zn],Be[Sd]=(_0x32bfe6,_0x1ee76e,_0x1b1761,_0x3195dc)=>{const _0x30ae33=_0x32bfe6['storageUin'+'t32'];for(let _0x54bc63=0x3e*-0x52+0x1591+-0x1b5;_0x54bc63<_0x3195dc;_0x54bc63++)_0x30ae33[_0x1b1761+_0x54bc63*(-0x50e*-0x1+-0x3*-0x86d+-0x1e51)]=_0x1ee76e[_0x54bc63*(0xc8+0x23ab+-0x1*0x2471)],_0x30ae33[_0x1b1761+_0x54bc63*(-0x2b*0x6d+0x6ce+0x3*0x3d7)+(0x28*-0xb5+-0x51f*0x7+0x2*0x2011)]=_0x1ee76e[_0x54bc63*(-0xb3*-0x2f+-0x2de*-0x1+-0x23b9)+(0x146c+0x1595+0x2*-0x1500)];},Be[Vn]=(_0x3793e9,_0x2c04d7,_0x54812e,_0x31b449)=>{const _0x21e12d=_0x3793e9['storageInt'+'32'];for(let _0x4d2874=0x652+-0xd8a*-0x1+-0x13dc;_0x4d2874<_0x31b449;_0x4d2874++)_0x21e12d[_0x54812e+_0x4d2874*(-0x2*0x9b7+-0x3*0x745+0x2941)]=_0x2c04d7[_0x4d2874*(0x1*-0x17b3+0xbfc+-0x26*-0x4f)],_0x21e12d[_0x54812e+_0x4d2874*(0x1*0x72e+0x189e+-0x12*0x1c4)+(0x10e4*-0x1+0x1*-0xc8b+-0x8*-0x3ae)]=_0x2c04d7[_0x4d2874*(-0x81*-0x9+-0x327+-0x9*0x27)+(-0x2337+0x1*-0x14ae+0x37e6)],_0x21e12d[_0x54812e+_0x4d2874*(0x2534+0xa58+0x1a*-0x1d4)+(-0x2449+-0x268f+-0x367*-0x16)]=_0x2c04d7[_0x4d2874*(-0x26e9+0x1bf7+0x3a7*0x3)+(0x1d30+0x5*-0x33+-0x1c2f)];},Be[xd]=Be[Vn],Be[vd]=(_0x31f819,_0x3afc92,_0x575589,_0x3cb865)=>{const _0x40b236=_0x31f819['storageUin'+'t32'];for(let _0x18fd27=-0x1*-0x331+-0x1d5*0x7+0x9*0x112;_0x18fd27<_0x3cb865;_0x18fd27++)_0x40b236[_0x575589+_0x18fd27*(0x522+0x1*-0x1e6d+-0x1*-0x194f)]=_0x3afc92[_0x18fd27*(0x3f3+0xc81+-0x1071)],_0x40b236[_0x575589+_0x18fd27*(0x1500+-0xc*-0xda+-0x1f34)+(0x1d03+0xb7d+-0x287f)]=_0x3afc92[_0x18fd27*(-0x2b9+0xa1*-0x17+0x1133)+(-0x9ef*-0x1+-0x1548+0x2*0x5ad)],_0x40b236[_0x575589+_0x18fd27*(-0x1bc0+-0x81*0x1f+-0x17f*-0x1d)+(-0x637+-0x991*0x4+0x2c7d*0x1)]=_0x3afc92[_0x18fd27*(-0x1261*-0x1+-0x187*0x6+0x13*-0x7c)+(-0x1*0x5a7+-0x1717+-0xa0*-0x2e)];};class zp{constructor(_0x16de04,_0x25c3cf,_0x4f9e3c=!(0x1*-0x1ab9+0x11f3+0x1*0x8c6)){h(this,'device'),h(this,'persistent'),h(this,'allocation'),h(this,'storageFlo'+'at32'),h(this,'storageInt'+'32'),h(this,'storageUin'+'t32'),h(this,'renderVers'+'ionDirty',0x1a66*-0x1+0x2048+-0x5e2*0x1);if(this['device']=_0x16de04,this['format']=_0x25c3cf,this['persistent']=_0x4f9e3c,w['assert'](_0x25c3cf),_0x4f9e3c){this['impl']=_0x16de04['createUnif'+'ormBufferI'+'mpl'](this);const _0x4d6171=new ArrayBuffer(_0x25c3cf['byteSize']);this['assignStor'+'age'](new Int32Array(_0x4d6171)),_0x16de04['_vram']['ub']+=this['format']['byteSize'];}else this['allocation']=new WT();}['destroy'](){if(this['persistent']){const _0xdacf47=this['device'];this['impl']['destroy'](_0xdacf47),_0xdacf47['_vram']['ub']-=this['format']['byteSize'];}}get['offset'](){return this['persistent']?-0x1*-0x2356+-0x25*-0x25+-0x28af:this['allocation']['offset'];}['assignStor'+'age'](_0x204368){this['storageInt'+'32']=_0x204368,this['storageUin'+'t32']=new Uint32Array(_0x204368['buffer'],_0x204368['byteOffset'],_0x204368['byteLength']/(-0x373*0x1+-0x1*0x2245+0x23*0x114)),this['storageFlo'+'at32']=new Float32Array(_0x204368['buffer'],_0x204368['byteOffset'],_0x204368['byteLength']/(-0x574+0x106+0x472));}['loseContex'+'t'](){var _0x67d0be;(_0x67d0be=this['impl'])==null||_0x67d0be['loseContex'+'t']();}['setUniform'](_0x528329,_0x24528e){w['assert'](_0x528329);const _0x569585=_0x528329['offset'];if(_0x24528e!=null){const _0x15a618=Be[_0x528329['updateType']];_0x15a618?_0x15a618(this,_0x24528e,_0x569585,_0x528329['count']):this['storageFlo'+'at32']['set'](_0x24528e,_0x569585);}else w['warnOnce']('Value\x20was\x20'+'not\x20set\x20wh'+'en\x20assigni'+'ng\x20to\x20unif'+'orm\x20['+_0x528329['name']+('],\x20expecte'+'d\x20type\x20')+Ey[_0x528329['type']]+('\x20while\x20ren'+'dering\x20')+Q['toString']());}['set'](_0x1d4a6a,_0x3268b1){const _0x44f7ba=this['format']['map']['get'](_0x1d4a6a);w['assert'](_0x44f7ba,'Uniform\x20na'+'me\x20['+_0x1d4a6a+(']\x20is\x20not\x20p'+'art\x20of\x20the'+'\x20Uniform\x20b'+'uffer.')),_0x44f7ba&&this['setUniform'](_0x44f7ba,_0x3268b1);}['startUpdat'+'e'](_0x4dae3c){if(!this['persistent']){const _0x10c3bc=this['allocation'],_0x20b9e4=_0x10c3bc['gpuBuffer'];this['device']['dynamicBuf'+'fers']['alloc'](_0x10c3bc,this['format']['byteSize']),this['assignStor'+'age'](_0x10c3bc['storage']),_0x4dae3c&&(_0x4dae3c['bindGroup']=_0x10c3bc['gpuBuffer']['getBindGro'+'up'](this),_0x4dae3c['offsets'][-0x7aa+-0x5ce*-0x4+0x1*-0xf8e]=_0x10c3bc['offset']),_0x20b9e4!==_0x10c3bc['gpuBuffer']&&(this['renderVers'+'ionDirty']=this['device']['renderVers'+'ion']);}}['endUpdate'](){this['persistent']?this['impl']['unlock'](this):(this['storageFlo'+'at32']=null,this['storageInt'+'32']=null);}['update'](_0x2cf6af){this['startUpdat'+'e'](_0x2cf6af);const _0x1f30ba=this['format']['uniforms'];for(let _0x1c4655=0x4d*0x41+0x1c2d+-0x2fba;_0x1c4655<_0x1f30ba['length'];_0x1c4655++){const _0x93d5b6=_0x1f30ba[_0x1c4655]['scopeId']['value'];this['setUniform'](_0x1f30ba[_0x1c4655],_0x93d5b6);}this['endUpdate']();}}class $T{constructor(){h(this,'frameAlloc'+'ations',[]),h(this,'pastFrameA'+'llocations',new Map()),h(this,'_enabled',!(-0x1fe7+0x5ed+0x19fb)),h(this,'_enableReq'+'uest',!(-0x95*-0x39+0x1*-0x26ed+0x3*0x1eb)),h(this,'_frameTime',-0x1367+0x952*0x2+0xc3);}['loseContex'+'t'](){this['pastFrameA'+'llocations']['clear']();}set['enabled'](_0x3e1aaa){this['_enableReq'+'uest']=_0x3e1aaa;}get['enabled'](){return this['_enableReq'+'uest'];}['processEna'+'bleRequest'](){this['_enableReq'+'uest']!==this['_enabled']&&(this['_enabled']=this['_enableReq'+'uest'],this['_enabled']||(this['_frameTime']=-0x1*0x12fb+0x1*-0x1ab1+0x1*0x2dac));}['request'](_0x4bbf8e){this['pastFrameA'+'llocations']['set'](_0x4bbf8e,this['frameAlloc'+'ations']),this['frameAlloc'+'ations']=[];}['report'](_0x43264d,_0xab95ff){if(_0xab95ff){const _0x273a=this['pastFrameA'+'llocations']['get'](_0x43264d);if(w['assert'](_0x273a['length']===_0xab95ff['length']),_0xab95ff['length']>-0x21af+-0x7*0xc7+0x139*0x20&&(this['_frameTime']=_0xab95ff['reduce']((_0x40f46f,_0x521ab2)=>_0x40f46f+_0x521ab2,-0x283*-0x1+0xa22+-0xf9*0xd)),mi['get'](Gl)){w['trace'](Gl,'--\x20GPU\x20tim'+'ings\x20for\x20f'+'rame\x20'+_0x43264d+'\x20--');let _0x4b9b5a=0x9d0*-0x1+-0x2f*-0xd+0x76d;for(let _0x42a127=0x2019+0x9cc+-0x29e5;_0x42a127<_0x273a['length'];++_0x42a127){const _0x43a1d5=_0x273a[_0x42a127];_0x4b9b5a+=_0xab95ff[_0x42a127],w['trace'](Gl,_0xab95ff[_0x42a127]['toFixed'](0x5*-0x221+-0x3*0xbfe+-0x2ea1*-0x1)+'\x20ms\x20'+_0x43a1d5);}w['trace'](Gl,_0x4b9b5a['toFixed'](-0x4ba+0x41*0x7b+0x143*-0x15)+'\x20ms\x20TOTAL');}}this['pastFrameA'+'llocations']['delete'](_0x43264d);}['getSlot'](_0x292514){const _0x430e10=this['frameAlloc'+'ations']['length'];return this['frameAlloc'+'ations']['push'](_0x292514),_0x430e10;}get['slotCount'](){return this['frameAlloc'+'ations']['length'];}}class jy{constructor(){h(this,'bufferId',null);}['destroy'](_0x7b4848){this['bufferId']&&(_0x7b4848['gl']['deleteBuff'+'er'](this['bufferId']),this['bufferId']=null);}get['initialize'+'d'](){return!!this['bufferId'];}['loseContex'+'t'](){this['bufferId']=null;}['unlock'](_0x33923c,_0x20d4f8,_0x2251a5,_0x1fefe8){const _0x59ffdd=_0x33923c['gl'];if(this['bufferId'])_0x59ffdd['bindBuffer'](_0x2251a5,this['bufferId']),_0x59ffdd['bufferSubD'+'ata'](_0x2251a5,-0xb11+-0x20b0+0x2bc1,_0x1fefe8);else{let _0x2d1e25;switch(_0x20d4f8){case ms:_0x2d1e25=_0x59ffdd['STATIC_DRA'+'W'];break;case lh:_0x2d1e25=_0x59ffdd['DYNAMIC_DR'+'AW'];break;case ey:_0x2d1e25=_0x59ffdd['STREAM_DRA'+'W'];break;case bx:_0x2d1e25=_0x59ffdd['DYNAMIC_CO'+'PY'];break;}this['bufferId']=_0x59ffdd['createBuff'+'er'](),_0x59ffdd['bindBuffer'](_0x2251a5,this['bufferId']),_0x59ffdd['bufferData'](_0x2251a5,_0x1fefe8,_0x2d1e25);}}}class XT extends jy{constructor(){super(...arguments),h(this,'vao',null);}['destroy'](_0xf66bb){super['destroy'](_0xf66bb),_0xf66bb['unbindVert'+'exArray']();}['loseContex'+'t'](){super['loseContex'+'t'](),this['vao']=null;}['unlock'](_0x2f7bf2){const _0x8686a1=_0x2f7bf2['device'];super['unlock'](_0x8686a1,_0x2f7bf2['usage'],_0x8686a1['gl']['ARRAY_BUFF'+'ER'],_0x2f7bf2['storage']);}}class qT extends jy{constructor(_0x237b8c){super();const _0x1d8f71=_0x237b8c['device']['gl'],_0x2b6bfc=_0x237b8c['format'];_0x2b6bfc===$f?this['glFormat']=_0x1d8f71['UNSIGNED_B'+'YTE']:_0x2b6bfc===Yi?this['glFormat']=_0x1d8f71['UNSIGNED_S'+'HORT']:_0x2b6bfc===wr&&(this['glFormat']=_0x1d8f71['UNSIGNED_I'+'NT']);}['unlock'](_0x163688){const _0x164eeb=_0x163688['device'];super['unlock'](_0x164eeb,_0x163688['usage'],_0x164eeb['gl']['ELEMENT_AR'+'RAY_BUFFER'],_0x163688['storage']);}}class jT{constructor(_0x578b08,_0x316210,_0x5e2652,_0x2a5d7a){if(this['locationId']=_0x2a5d7a,this['scopeId']=_0x578b08['scope']['resolve'](_0x316210),this['version']=new Uy(),_0x316210['substring'](_0x316210['length']-(-0x1135+-0x25aa*0x1+0x36e2))==='[0]')switch(_0x5e2652){case Xs:_0x5e2652=ud;break;case _a:_0x5e2652=Bn;break;case Fn:_0x5e2652=_d;break;case Tn:_0x5e2652=gd;break;case ga:_0x5e2652=pd;break;case ca:_0x5e2652=zn;break;case Nn:_0x5e2652=Sd;break;case tl:_0x5e2652=yd;break;case ds:_0x5e2652=md;break;case ha:_0x5e2652=Vn;break;case kn:_0x5e2652=vd;break;case sl:_0x5e2652=xd;break;case Rn:_0x5e2652=Lp;break;case da:_0x5e2652=gh;break;case Un:_0x5e2652=Rp;break;case il:_0x5e2652=Op;break;}this['dataType']=_0x5e2652,this['value']=[null,null,null,null],this['array']=[];}}let l_=0x8a9*0x3+0x599+-0x1f94;const YT=new Set(['gl_VertexI'+'D','gl_Instanc'+'eID','gl_DrawID','gl_BaseVer'+'tex','gl_BaseIns'+'tance']);class KT{constructor(){h(this,'map',new Map());}['destroy'](_0x4b18f0){this['map']['forEach'](_0x2b5535=>{_0x4b18f0['gl']['deleteShad'+'er'](_0x2b5535);});}['loseContex'+'t'](_0x104d24){this['map']['clear']();}}const ZT=new Kt(),QT=new Kt();class JT{constructor(_0x4f83fe){h(this,'compileDur'+'ation',0x1*0x1d48+-0x1e53+0x10b),(this['init'](),this['compile'](_0x4f83fe['device'],_0x4f83fe),this['link'](_0x4f83fe['device'],_0x4f83fe),_0x4f83fe['device']['shaders']['push'](_0x4f83fe));}['destroy'](_0xb38217){this['glProgram']&&(_0xb38217['device']['gl']['deleteProg'+'ram'](this['glProgram']),this['glProgram']=null);}['init'](){this['uniforms']=[],this['samplers']=[],this['attributes']=[],this['glProgram']=null,this['glVertexSh'+'ader']=null,this['glFragment'+'Shader']=null;}['loseContex'+'t'](){this['init']();}['restoreCon'+'text'](_0x452fed,_0x1a42d5){this['compile'](_0x452fed,_0x1a42d5),this['link'](_0x452fed,_0x1a42d5);}['compile'](_0x372426,_0x263e59){const _0x447538=_0x263e59['definition'];this['glVertexSh'+'ader']=this['_compileSh'+'aderSource'](_0x372426,_0x447538['vshader'],!(-0x2*-0xbd5+-0x1*0xd69+-0x7d*0x15)),this['glFragment'+'Shader']=this['_compileSh'+'aderSource'](_0x372426,_0x447538['fshader'],!(-0x25*-0x13+0x2194+-0x1229*0x2));}['link'](_0x23959d,_0x4e8916){if(this['glProgram'])return;const _0x44267e=_0x23959d['gl'];if(_0x44267e['isContextL'+'ost']())return;let _0xba92cd=0x3*-0xa3+0x236b+-0x2182;w['call'](()=>{this['compileDur'+'ation']=0x481*-0x7+0xa93+0x24*0x95,_0xba92cd=de();});const _0xaab100=_0x44267e['createProg'+'ram']();this['glProgram']=_0xaab100,_0x44267e['attachShad'+'er'](_0xaab100,this['glVertexSh'+'ader']),_0x44267e['attachShad'+'er'](_0xaab100,this['glFragment'+'Shader']);const _0x16b4e2=_0x4e8916['definition'],_0x49fe7d=_0x16b4e2['attributes'];if(_0x16b4e2['useTransfo'+'rmFeedback']){const _0x1332fe=[];for(const _0x3b108d in _0x49fe7d)_0x49fe7d['hasOwnProp'+'erty'](_0x3b108d)&&_0x1332fe['push']('out_'+_0x3b108d);_0x44267e['transformF'+'eedbackVar'+'yings'](_0xaab100,_0x1332fe,_0x44267e['INTERLEAVE'+'D_ATTRIBS']);}const _0xe0f4f4={};for(const _0x41421a in _0x49fe7d)if(_0x49fe7d['hasOwnProp'+'erty'](_0x41421a)){const _0x259010=_0x49fe7d[_0x41421a],_0x13bbc8=Le[_0x259010];w['assert'](!_0xe0f4f4['hasOwnProp'+'erty'](_0x13bbc8),'WARNING:\x20T'+'wo\x20attribu'+'tes\x20are\x20ma'+'pped\x20to\x20th'+'e\x20same\x20loc'+'ation\x20in\x20a'+'\x20shader:\x20'+_0xe0f4f4[_0x13bbc8]+'\x20and\x20'+_0x41421a),_0xe0f4f4[_0x13bbc8]=_0x41421a,_0x44267e['bindAttrib'+'Location'](_0xaab100,_0x13bbc8,_0x41421a);}_0x44267e['linkProgra'+'m'](_0xaab100),w['call'](()=>{this['compileDur'+'ation']=de()-_0xba92cd;}),_0x23959d['_shaderSta'+'ts']['linked']++,_0x16b4e2['tag']===Sy&&_0x23959d['_shaderSta'+'ts']['materialSh'+'aders']++;}['_compileSh'+'aderSource'](_0x132bb8,_0x57a149,_0x4d1171){const _0x2e88d6=_0x132bb8['gl'];if(_0x2e88d6['isContextL'+'ost']())return null;const _0x32fc47=(_0x4d1171?ZT:QT)['get'](_0x132bb8,()=>new KT());let _0x3f1c79=_0x32fc47['map']['get'](_0x57a149);if(!_0x3f1c79){const _0x53dae3=de();_0x132bb8['fire']('shader:com'+'pile:start',{'timestamp':_0x53dae3,'target':_0x132bb8}),_0x3f1c79=_0x2e88d6['createShad'+'er'](_0x4d1171?_0x2e88d6['VERTEX_SHA'+'DER']:_0x2e88d6['FRAGMENT_S'+'HADER']),_0x2e88d6['shaderSour'+'ce'](_0x3f1c79,_0x57a149),_0x2e88d6['compileSha'+'der'](_0x3f1c79),_0x32fc47['map']['set'](_0x57a149,_0x3f1c79);const _0x39209f=de();_0x132bb8['fire']('shader:com'+'pile:end',{'timestamp':_0x39209f,'target':_0x132bb8}),_0x132bb8['_shaderSta'+'ts']['compileTim'+'e']+=_0x39209f-_0x53dae3,_0x4d1171?_0x132bb8['_shaderSta'+'ts']['vsCompiled']++:_0x132bb8['_shaderSta'+'ts']['fsCompiled']++;}return _0x3f1c79;}['finalize'](_0x4569c4,_0x1261dd){var _0x43e3a1,_0x2b06b1;const _0x43b8fa=_0x4569c4['gl'];if(_0x43b8fa['isContextL'+'ost']())return!(-0x1959*0x1+-0x5*0x3ab+0x2bb0);const _0x34800a=this['glProgram'],_0x5aa6e1=_0x1261dd['definition'],_0x4794d5=de();_0x4569c4['fire']('shader:lin'+'k:start',{'timestamp':_0x4794d5,'target':_0x4569c4});let _0x3197d3=-0x21e5+-0x2523*0x1+0x4708*0x1;if(w['call'](()=>{_0x3197d3=de();}),!_0x43b8fa['getProgram'+'Parameter'](_0x34800a,_0x43b8fa['LINK_STATU'+'S'])){if(!this['_isCompile'+'d'](_0x4569c4,_0x1261dd,this['glVertexSh'+'ader'],_0x5aa6e1['vshader'],'vertex')||!this['_isCompile'+'d'](_0x4569c4,_0x1261dd,this['glFragment'+'Shader'],_0x5aa6e1['fshader'],'fragment'))return!(-0x173f+0x1871+-0x3d*0x5);const _0x596b4e='Failed\x20to\x20'+'link\x20shade'+'r\x20program.'+'\x20Error:\x20'+_0x43b8fa['getProgram'+'InfoLog'](_0x34800a);return _0x5aa6e1['translated'+'Frag']=(_0x43e3a1=_0x43b8fa['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x1a1d*-0x1+0x33b*-0x4+0x2709):_0x43e3a1['getTransla'+'tedShaderS'+'ource'](this['glFragment'+'Shader']),_0x5aa6e1['translated'+'Vert']=(_0x2b06b1=_0x43b8fa['getExtensi'+'on']('WEBGL_debu'+'g_shaders'))==null?void(0x7e2+0x9ff+-0x11e1):_0x2b06b1['getTransla'+'tedShaderS'+'ource'](this['glVertexSh'+'ader']),console['error'](_0x596b4e,_0x5aa6e1),console['error'](_0x596b4e),!(0x6*0xce+0x149b+-0xe*0x1d1);}const _0x6593a0=_0x43b8fa['getProgram'+'Parameter'](_0x34800a,_0x43b8fa['ACTIVE_ATT'+'RIBUTES']);_0x1261dd['attributes']['clear']();for(let _0x2805aa=0x1*0x7df+-0x7b*0x41+0x175c;_0x2805aa<_0x6593a0;_0x2805aa++){const _0x5a1069=_0x43b8fa['getActiveA'+'ttrib'](_0x34800a,_0x2805aa),_0xae34ec=_0x43b8fa['getAttribL'+'ocation'](_0x34800a,_0x5a1069['name']);YT['has'](_0x5a1069['name'])||(_0x5aa6e1['attributes'][_0x5a1069['name']]===void(-0x82b+-0x3*0xc31+0x2cbe)?(console['error']('Vertex\x20sha'+'der\x20attrib'+'ute\x20\x22'+_0x5a1069['name']+('\x22\x20is\x20not\x20m'+'apped\x20to\x20a'+'\x20semantic\x20'+'in\x20shader\x20'+'definition'+',\x20shader\x20[')+_0x1261dd['label']+']',_0x1261dd),_0x1261dd['failed']=!(0x1ea4+0x2482+-0x4326)):_0x1261dd['attributes']['set'](_0xae34ec,_0x5a1069['name']));}const _0x320029=_0x4569c4['_samplerTy'+'pes'],_0x35e8fe=_0x43b8fa['getProgram'+'Parameter'](_0x34800a,_0x43b8fa['ACTIVE_UNI'+'FORMS']);for(let _0x3cf422=-0x24a1+-0xc*-0x4+0x2471;_0x3cf422<_0x35e8fe;_0x3cf422++){const _0xa70235=_0x43b8fa['getActiveU'+'niform'](_0x34800a,_0x3cf422),_0x16ee8a=_0x43b8fa['getUniform'+'Location'](_0x34800a,_0xa70235['name']),_0x1d3397=new jT(_0x4569c4,_0xa70235['name'],_0x4569c4['pcUniformT'+'ype'][_0xa70235['type']],_0x16ee8a);_0x320029['has'](_0xa70235['type'])?this['samplers']['push'](_0x1d3397):this['uniforms']['push'](_0x1d3397);}_0x1261dd['ready']=!(-0x1b36+0x1fca+-0x494);const _0x43afc5=de();return _0x4569c4['fire']('shader:lin'+'k:end',{'timestamp':_0x43afc5,'target':_0x4569c4}),_0x4569c4['_shaderSta'+'ts']['compileTim'+'e']+=_0x43afc5-_0x4794d5,w['call'](()=>{const _0x19c9cc=de()-_0x3197d3;this['compileDur'+'ation']+=_0x19c9cc,l_+=this['compileDur'+'ation'],w['trace']($0,'[id:\x20'+_0x1261dd['id']+']\x20'+_0x1261dd['name']+':\x20'+this['compileDur'+'ation']['toFixed'](-0xd62+-0x2268+0x2fcb)+('ms,\x20TOTAL:'+'\x20')+l_['toFixed'](0x2*0xd88+-0x2067+0x6*0xe4)+'ms');}),!(0x20ac+-0x1e7*0x3+-0x1af7);}['_isCompile'+'d'](_0x1be034,_0x311386,_0x4dc105,_0x11d278,_0x1c1d55){const _0x397f06=_0x1be034['gl'];if(!_0x397f06['getShaderP'+'arameter'](_0x4dc105,_0x397f06['COMPILE_ST'+'ATUS'])){const _0x4126a6=_0x397f06['getShaderI'+'nfoLog'](_0x4dc105),[_0x1c307b,_0x5abdcd]=this['_processEr'+'ror'](_0x11d278,_0x4126a6),_0x32f718='Failed\x20to\x20'+'compile\x20'+_0x1c1d55+'\x20shader:\x0a\x0a'+_0x4126a6+'\x0a'+_0x1c307b+('\x20while\x20ren'+'dering\x20')+Q['toString']();return _0x5abdcd['shader']=_0x311386,console['error'](_0x32f718,_0x5abdcd),console['error'](_0x32f718),!(0x3*-0x5f3+-0x1925+0x2aff);}return!(0x167f+-0x21fc+-0x1*-0xb7d);}['isLinked'](_0x211291){const {extParallelShaderCompile:_0x32e33b}=_0x211291;return _0x32e33b?_0x211291['gl']['getProgram'+'Parameter'](this['glProgram'],_0x32e33b['COMPLETION'+'_STATUS_KH'+'R']):!(-0x28f+0x1a*0xb3+-0xf9f);}['_processEr'+'ror'](_0x5776d3,_0x19bc1b){const _0x572c41={};let _0x1d140b='';if(_0x5776d3){const _0x2b9d6f=_0x5776d3['split']('\x0a');let _0x29f31f=-0x9*-0x19a+-0xcd*-0xd+-0x18d3,_0x21cb56=_0x2b9d6f['length'];if(_0x19bc1b&&_0x19bc1b['startsWith']('ERROR:')){const _0x40d328=_0x19bc1b['match'](/^ERROR:\s(\d+):(\d+):\s*(.+)/);_0x40d328&&(_0x572c41['message']=_0x40d328[-0xf*-0x191+-0x14b1*0x1+-0x2cb],_0x572c41['line']=parseInt(_0x40d328[0x1d04*0x1+-0xa69+-0x17*0xcf],-0xaf7+0x1*0x63d+0x4c4),_0x29f31f=Math['max'](0x262a+0x1066+-0x3690,_0x572c41['line']-(0x10f9+-0xcc4+-0x42f)),_0x21cb56=Math['min'](_0x2b9d6f['length'],_0x572c41['line']+(0xd4f+0xc20+0xcb5*-0x2)));}for(let _0x445b45=_0x29f31f;_0x445b45<_0x21cb56;_0x445b45++){const _0xc23454=_0x445b45+(-0x154a+0xa5*-0x2c+-0x3*-0x108d)===_0x572c41['line']?'>\x20':'\x20\x20';_0x1d140b+=''+_0xc23454+(_0x445b45+(0x184a+-0x71*-0x13+-0x2b9*0xc))+':\x09'+_0x2b9d6f[_0x445b45]+'\x0a';}_0x572c41['source']=_0x5776d3;}return[_0x1d140b,_0x572c41];}}function c_(_0x468fb6,_0xbf6273){const _0x599cbb=_0x468fb6['width'],_0x4b90e3=_0x468fb6['height'];if(_0x599cbb>_0xbf6273||_0x4b90e3>_0xbf6273){const _0x51de38=_0xbf6273/Math['max'](_0x599cbb,_0x4b90e3),_0x482893=Math['floor'](_0x599cbb*_0x51de38),_0x4adba9=Math['floor'](_0x4b90e3*_0x51de38);w['warn']('Image\x20dime'+'nsions\x20lar'+'ger\x20than\x20m'+'ax\x20support'+'ed\x20texture'+'\x20size\x20of\x20'+_0xbf6273+('.\x20Resizing'+'\x20from\x20')+_0x599cbb+',\x20'+_0x4b90e3+'\x20to\x20'+_0x482893+',\x20'+_0x4adba9+'.');const _0x482e10=document['createElem'+'ent']('canvas');return _0x482e10['width']=_0x482893,_0x482e10['height']=_0x4adba9,_0x482e10['getContext']('2d')['drawImage'](_0x468fb6,-0x4*-0x42b+0x1616+0x16*-0x1c3,-0x19f8+0x1caa+0x5*-0x8a,_0x599cbb,_0x4b90e3,-0xd94+-0xd1+0xe65,-0x2*-0xc7a+0x11bf+-0x283*0x11,_0x482893,_0x4adba9),_0x482e10;}return _0x468fb6;}class ew{constructor(_0x249da2){h(this,'_glTexture',null),h(this,'_glTarget'),h(this,'_glFormat'),h(this,'_glInterna'+'lFormat'),h(this,'_glPixelTy'+'pe'),h(this,'_glCreated'),h(this,'dirtyParam'+'eterFlags',-0x1*-0x19a3+-0x26*-0x10+-0x47*0x65),this['texture']=_0x249da2;}['destroy'](_0x50e3d1){if(this['_glTexture']){for(let _0x81e189=-0x38d+-0x96a+0xcf7;_0x81e189<_0x50e3d1['textureUni'+'ts']['length'];_0x81e189++){const _0x366481=_0x50e3d1['textureUni'+'ts'][_0x81e189];for(let _0x4db11f=0xd3c+0x2b3*0x3+-0x2b*0x7f;_0x4db11f<_0x366481['length'];_0x4db11f++)_0x366481[_0x4db11f]===this['_glTexture']&&(_0x366481[_0x4db11f]=null);}_0x50e3d1['gl']['deleteText'+'ure'](this['_glTexture']),this['_glTexture']=null;}}['loseContex'+'t'](){this['_glTexture']=null;}['propertyCh'+'anged'](_0x26abdf){this['dirtyParam'+'eterFlags']|=_0x26abdf;}['initialize'](_0x575626,_0x1d76dc){const _0x5edd91=_0x575626['gl'];switch(this['_glTexture']=_0x5edd91['createText'+'ure'](),this['_glTarget']=_0x1d76dc['_cubemap']?_0x5edd91['TEXTURE_CU'+'BE_MAP']:_0x1d76dc['_volume']?_0x5edd91['TEXTURE_3D']:_0x1d76dc['array']?_0x5edd91['TEXTURE_2D'+'_ARRAY']:_0x5edd91['TEXTURE_2D'],_0x1d76dc['_format']){case ty:this['_glFormat']=_0x5edd91['ALPHA'],this['_glInterna'+'lFormat']=_0x5edd91['ALPHA'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_B'+'YTE'];break;case sy:this['_glFormat']=_0x5edd91['LUMINANCE'],this['_glInterna'+'lFormat']=_0x5edd91['LUMINANCE'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_B'+'YTE'];break;case ap:this['_glFormat']=_0x5edd91['LUMINANCE_'+'ALPHA'],this['_glInterna'+'lFormat']=_0x5edd91['LUMINANCE_'+'ALPHA'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_B'+'YTE'];break;case Ep:this['_glFormat']=_0x5edd91['RED'],this['_glInterna'+'lFormat']=_0x5edd91['R8'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_B'+'YTE'];break;case bp:this['_glFormat']=_0x5edd91['RG'],this['_glInterna'+'lFormat']=_0x5edd91['RG8'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_B'+'YTE'];break;case Jh:this['_glFormat']=_0x5edd91['RGB'],this['_glInterna'+'lFormat']=_0x5edd91['RGB565'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_S'+'HORT_5_6_5'];break;case np:this['_glFormat']=_0x5edd91['RGBA'],this['_glInterna'+'lFormat']=_0x5edd91['RGB5_A1'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_S'+'HORT_5_5_5'+'_1'];break;case ed:this['_glFormat']=_0x5edd91['RGBA'],this['_glInterna'+'lFormat']=_0x5edd91['RGBA4'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_S'+'HORT_4_4_4'+'_4'];break;case Cr:this['_glFormat']=_0x5edd91['RGB'],this['_glInterna'+'lFormat']=_0x5edd91['RGB8'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_B'+'YTE'];break;case Ne:this['_glFormat']=_0x5edd91['RGBA'],this['_glInterna'+'lFormat']=_0x5edd91['RGBA8'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_B'+'YTE'];break;case ny:case hy:w['error']('BGRA8\x20and\x20'+'SBGRA8\x20tex'+'ture\x20forma'+'ts\x20are\x20not'+'\x20supported'+'\x20by\x20WebGL.');break;case td:this['_glFormat']=_0x5edd91['RGB'],this['_glInterna'+'lFormat']=_0x575626['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGB_S3TC_'+'DXT1_EXT'];break;case op:this['_glFormat']=_0x5edd91['RGBA'],this['_glInterna'+'lFormat']=_0x575626['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT3_EXT'];break;case vl:this['_glFormat']=_0x5edd91['RGBA'],this['_glInterna'+'lFormat']=_0x575626['extCompres'+'sedTexture'+'S3TC']['COMPRESSED'+'_RGBA_S3TC'+'_DXT5_EXT'];break;case id:this['_glFormat']=_0x5edd91['RGB'],this['_glInterna'+'lFormat']=_0x575626['extCompres'+'sedTexture'+'ETC1']['COMPRESSED'+'_RGB_ETC1_'+'WEBGL'];break;case xl:this['_glFormat']=_0x5edd91['RGB'],this['_glInterna'+'lFormat']=_0x575626['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_2BPPV1_IM'+'G'];break;case Tl:this['_glFormat']=_0x5edd91['RGBA'],this['_glInterna'+'lFormat']=_0x575626['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_2BPPV1_I'+'MG'];break;case rd:this['_glFormat']=_0x5edd91['RGB'],this['_glInterna'+'lFormat']=_0x575626['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGB_PVRTC'+'_4BPPV1_IM'+'G'];break;case ad:this['_glFormat']=_0x5edd91['RGBA'],this['_glInterna'+'lFormat']=_0x575626['extCompres'+'sedTexture'+'PVRTC']['COMPRESSED'+'_RGBA_PVRT'+'C_4BPPV1_I'+'MG'];break;case cp:this['_glFormat']=_0x5edd91['RGB'],this['_glInterna'+'lFormat']=_0x575626['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGB8_ETC2'];break;case hp:this['_glFormat']=_0x5edd91['RGBA'],this['_glInterna'+'lFormat']=_0x575626['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_RGBA8_ETC'+'2_EAC'];break;case iy:this['_glFormat']=_0x5edd91['RGBA'],this['_glInterna'+'lFormat']=_0x575626['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_RGBA_ASTC'+'_4x4_KHR'];break;case ry:this['_glFormat']=_0x5edd91['RGB'],this['_glInterna'+'lFormat']=_0x575626['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGB_ATC_W'+'EBGL'];break;case ay:this['_glFormat']=_0x5edd91['RGBA'],this['_glInterna'+'lFormat']=_0x575626['extCompres'+'sedTexture'+'ATC']['COMPRESSED'+'_RGBA_ATC_'+'INTERPOLAT'+'ED_ALPHA_W'+'EBGL'];break;case dy:this['_glFormat']=_0x5edd91['RGB'],this['_glInterna'+'lFormat']=_0x575626['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'SIGNED_FLO'+'AT_EXT'];break;case fy:this['_glFormat']=_0x5edd91['RGB'],this['_glInterna'+'lFormat']=_0x575626['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGB_BPTC_'+'UNSIGNED_F'+'LOAT_EXT'];break;case uy:this['_glFormat']=_0x5edd91['RGBA'],this['_glInterna'+'lFormat']=_0x575626['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_RGBA_BPTC'+'_UNORM_EXT'];break;case Xf:this['_glFormat']=_0x5edd91['SRGB'],this['_glInterna'+'lFormat']=_0x575626['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_S3TC'+'_DXT1_EXT'];break;case qf:this['_glFormat']=_0x5edd91['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x575626['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'3_EXT'];break;case jf:this['_glFormat']=_0x5edd91['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x575626['extCompres'+'sedTexture'+'S3TC_SRGB']['COMPRESSED'+'_SRGB_ALPH'+'A_S3TC_DXT'+'5_EXT'];break;case Yf:this['_glFormat']=_0x5edd91['SRGB'],this['_glInterna'+'lFormat']=_0x575626['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ETC'+'2'];break;case Kf:this['_glFormat']=_0x5edd91['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x575626['extCompres'+'sedTexture'+'ETC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ETC2_E'+'AC'];break;case Zf:this['_glFormat']=_0x5edd91['SRGB_ALPHA'],this['_glInterna'+'lFormat']=_0x575626['extCompres'+'sedTexture'+'ASTC']['COMPRESSED'+'_SRGB8_ALP'+'HA8_ASTC_4'+'x4_KHR'];break;case Qf:this['_glFormat']=_0x5edd91['RGBA'],this['_glInterna'+'lFormat']=_0x575626['extTexture'+'Compressio'+'nBPTC']['COMPRESSED'+'_SRGB_ALPH'+'A_BPTC_UNO'+'RM_EXT'];break;case od:this['_glFormat']=_0x5edd91['RED'],this['_glInterna'+'lFormat']=_0x5edd91['R16F'],this['_glPixelTy'+'pe']=_0x5edd91['HALF_FLOAT'];break;case wp:this['_glFormat']=_0x5edd91['RG'],this['_glInterna'+'lFormat']=_0x5edd91['RG16F'],this['_glPixelTy'+'pe']=_0x5edd91['HALF_FLOAT'];break;case ui:this['_glFormat']=_0x5edd91['RGB'],this['_glInterna'+'lFormat']=_0x5edd91['RGB16F'],this['_glPixelTy'+'pe']=_0x5edd91['HALF_FLOAT'];break;case nt:this['_glFormat']=_0x5edd91['RGBA'],this['_glInterna'+'lFormat']=_0x5edd91['RGBA16F'],this['_glPixelTy'+'pe']=_0x5edd91['HALF_FLOAT'];break;case Ye:this['_glFormat']=_0x5edd91['RGB'],this['_glInterna'+'lFormat']=_0x5edd91['RGB32F'],this['_glPixelTy'+'pe']=_0x5edd91['FLOAT'];break;case Xt:this['_glFormat']=_0x5edd91['RGBA'],this['_glInterna'+'lFormat']=_0x5edd91['RGBA32F'],this['_glPixelTy'+'pe']=_0x5edd91['FLOAT'];break;case Ji:this['_glFormat']=_0x5edd91['RED'],this['_glInterna'+'lFormat']=_0x5edd91['R32F'],this['_glPixelTy'+'pe']=_0x5edd91['FLOAT'];break;case $i:this['_glFormat']=_0x5edd91['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x5edd91['DEPTH_COMP'+'ONENT32F'],this['_glPixelTy'+'pe']=_0x5edd91['FLOAT'];break;case vn:this['_glFormat']=_0x5edd91['DEPTH_COMP'+'ONENT'],this['_glInterna'+'lFormat']=_0x5edd91['DEPTH_COMP'+'ONENT16'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_S'+'HORT'];break;case sd:this['_glFormat']=_0x5edd91['DEPTH_STEN'+'CIL'],this['_glInterna'+'lFormat']=_0x5edd91['DEPTH24_ST'+'ENCIL8'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_I'+'NT_24_8'];break;case In:this['_glFormat']=_0x5edd91['RGB'],this['_glInterna'+'lFormat']=_0x5edd91['R11F_G11F_'+'B10F'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_I'+'NT_10F_11F'+'_11F_REV'];break;case lp:this['_glFormat']=_0x5edd91['RGB'],this['_glInterna'+'lFormat']=_0x5edd91['SRGB8'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_B'+'YTE'];break;case _s:this['_glFormat']=_0x5edd91['RGBA'],this['_glInterna'+'lFormat']=_0x5edd91['SRGB8_ALPH'+'A8'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_B'+'YTE'];break;case dp:this['_glFormat']=_0x5edd91['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x5edd91['R8I'],this['_glPixelTy'+'pe']=_0x5edd91['BYTE'];break;case oy:this['_glFormat']=_0x5edd91['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x5edd91['R8UI'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_B'+'YTE'];break;case fp:this['_glFormat']=_0x5edd91['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x5edd91['R16I'],this['_glPixelTy'+'pe']=_0x5edd91['SHORT'];break;case up:this['_glFormat']=_0x5edd91['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x5edd91['R16UI'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_S'+'HORT'];break;case pp:this['_glFormat']=_0x5edd91['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x5edd91['R32I'],this['_glPixelTy'+'pe']=_0x5edd91['INT'];break;case Ki:this['_glFormat']=_0x5edd91['RED_INTEGE'+'R'],this['_glInterna'+'lFormat']=_0x5edd91['R32UI'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_I'+'NT'];break;case mp:this['_glFormat']=_0x5edd91['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x5edd91['RG8I'],this['_glPixelTy'+'pe']=_0x5edd91['BYTE'];break;case ly:this['_glFormat']=_0x5edd91['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x5edd91['RG8UI'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_B'+'YTE'];break;case _p:this['_glFormat']=_0x5edd91['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x5edd91['RG16I'],this['_glPixelTy'+'pe']=_0x5edd91['SHORT'];break;case gp:this['_glFormat']=_0x5edd91['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x5edd91['RG16UI'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_S'+'HORT'];break;case Sp:this['_glFormat']=_0x5edd91['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x5edd91['RG32I'],this['_glPixelTy'+'pe']=_0x5edd91['INT'];break;case yp:this['_glFormat']=_0x5edd91['RG_INTEGER'],this['_glInterna'+'lFormat']=_0x5edd91['RG32UI'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_I'+'NT'];break;case vp:this['_glFormat']=_0x5edd91['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x5edd91['RGBA8I'],this['_glPixelTy'+'pe']=_0x5edd91['BYTE'];break;case cy:this['_glFormat']=_0x5edd91['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x5edd91['RGBA8UI'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_B'+'YTE'];break;case xp:this['_glFormat']=_0x5edd91['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x5edd91['RGBA16I'],this['_glPixelTy'+'pe']=_0x5edd91['SHORT'];break;case nd:this['_glFormat']=_0x5edd91['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x5edd91['RGBA16UI'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_S'+'HORT'];break;case Tp:this['_glFormat']=_0x5edd91['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x5edd91['RGBA32I'],this['_glPixelTy'+'pe']=_0x5edd91['INT'];break;case Ue:this['_glFormat']=_0x5edd91['RGBA_INTEG'+'ER'],this['_glInterna'+'lFormat']=_0x5edd91['RGBA32UI'],this['_glPixelTy'+'pe']=_0x5edd91['UNSIGNED_I'+'NT'];break;}this['_glCreated']=!(-0x2217*0x1+0xd06+0x1512);}['upload'](_0x5ad814,_0x51cbbf){w['assert'](_0x51cbbf['device'],'Attempting'+'\x20to\x20use\x20a\x20'+'texture\x20th'+'at\x20has\x20bee'+'n\x20destroye'+'d.',_0x51cbbf);const _0x19c474=_0x5ad814['gl'];if(!_0x51cbbf['_needsUplo'+'ad']&&(_0x51cbbf['_needsMipm'+'apsUpload']&&_0x51cbbf['_mipmapsUp'+'loaded']||!_0x51cbbf['pot']))return;let _0x5c50a4=0x1252+-0xe*0x7c+-0x2*0x5c5,_0x642bfb,_0x30ebac;const _0x1c2153=_0x51cbbf['numLevels'];for(_0x51cbbf['array']&&_0x19c474['texStorage'+'3D'](_0x19c474['TEXTURE_2D'+'_ARRAY'],_0x1c2153,this['_glInterna'+'lFormat'],_0x51cbbf['_width'],_0x51cbbf['_height'],_0x51cbbf['_arrayLeng'+'th']);_0x51cbbf['_levels'][_0x5c50a4]||_0x5c50a4===-0xbae+0x860+0x34e;){if(!_0x51cbbf['_needsUplo'+'ad']&&_0x5c50a4===-0x25c+0x283+-0x27){_0x5c50a4++;continue;}else{if(_0x5c50a4&&(!_0x51cbbf['_needsMipm'+'apsUpload']||!_0x51cbbf['_mipmaps']))break;}if(_0x642bfb=_0x51cbbf['_levels'][_0x5c50a4],_0x30ebac=(0xfcd+0x5*0xc2+-0x6d*0x2e)/Math['pow'](0x7*-0x3c0+-0xf5*-0x1e+-0x13a*0x2,_0x5c50a4),_0x5c50a4===-0x8*-0x450+0x240b*0x1+-0x2*0x2345&&!_0x51cbbf['_compresse'+'d']&&!_0x51cbbf['_integerFo'+'rmat']&&_0x51cbbf['_levels']['length']<_0x1c2153&&(_0x19c474['generateMi'+'pmap'](this['_glTarget']),_0x51cbbf['_mipmapsUp'+'loaded']=!(-0x315+0x1*-0x1e8f+0x21a4)),_0x51cbbf['_cubemap']){let _0x566714;if(_0x5ad814['_isBrowser'+'Interface'](_0x642bfb[0x1189+-0xc31+0x18*-0x39]))for(_0x566714=-0x113a+-0x4*-0x15d+-0xbc6*-0x1;_0x566714<-0x111b+-0x1960+0x2a81;_0x566714++){if(!_0x51cbbf['_levelsUpd'+'ated'][-0x1530+0x533*0x6+-0xa02][_0x566714])continue;let _0x15926f=_0x642bfb[_0x566714];_0x5ad814['_isImageBr'+'owserInter'+'face'](_0x15926f)&&(_0x15926f['width']>_0x5ad814['maxCubeMap'+'Size']||_0x15926f['height']>_0x5ad814['maxCubeMap'+'Size'])&&(_0x15926f=c_(_0x15926f,_0x5ad814['maxCubeMap'+'Size']),_0x5c50a4===-0x13a4+-0x2e+0x13d2&&(_0x51cbbf['_width']=_0x15926f['width'],_0x51cbbf['_height']=_0x15926f['height'])),_0x5ad814['setUnpackF'+'lipY'](!(0x2539+0x1f8b+-0x44c3)),_0x5ad814['setUnpackP'+'remultiply'+'Alpha'](_0x51cbbf['_premultip'+'lyAlpha']),this['_glCreated']?_0x19c474['texSubImag'+'e2D'](_0x19c474['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x566714,_0x5c50a4,0x178c+0x2213+-0x53d*0xb,-0x1e9*0x6+0x4cc*-0x7+0x2d0a,this['_glFormat'],this['_glPixelTy'+'pe'],_0x15926f):_0x19c474['texImage2D'](_0x19c474['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x566714,_0x5c50a4,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x15926f);}else for(_0x30ebac=(-0xd00+0x4df+0x2*0x411)/Math['pow'](-0x2d0*0x2+0x1751*0x1+0x1f7*-0x9,_0x5c50a4),_0x566714=0x3a*-0x2e+-0xe0*-0x7+0x44c;_0x566714<0x1*-0x2531+-0xbf*0x1e+0x3b99;_0x566714++){if(!_0x51cbbf['_levelsUpd'+'ated'][-0x13a5+0x1e52+-0x3*0x38f][_0x566714])continue;const _0x676f39=_0x642bfb[_0x566714];_0x51cbbf['_compresse'+'d']?this['_glCreated']&&_0x676f39?_0x19c474['compressed'+'TexSubImag'+'e2D'](_0x19c474['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x566714,_0x5c50a4,-0x20b9+-0x26*0xb8+-0x1*-0x3c09,0x142e+0x19b5+-0x2de3,Math['max'](_0x51cbbf['_width']*_0x30ebac,-0x1d05+0x127d*0x2+0x3fa*-0x2),Math['max'](_0x51cbbf['_height']*_0x30ebac,0x154c+0x7df+-0x1d2a),this['_glInterna'+'lFormat'],_0x676f39):_0x19c474['compressed'+'TexImage2D'](_0x19c474['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x566714,_0x5c50a4,this['_glInterna'+'lFormat'],Math['max'](_0x51cbbf['_width']*_0x30ebac,0x1f85+-0x15d+0x1f*-0xf9),Math['max'](_0x51cbbf['_height']*_0x30ebac,0x9*0x3c9+0x1b37*-0x1+-0x6d9),0x1d6b+0x3d4+-0x3*0xb15,_0x676f39):(_0x5ad814['setUnpackF'+'lipY'](!(-0x97*-0x13+-0x1614+0xae0)),_0x5ad814['setUnpackP'+'remultiply'+'Alpha'](_0x51cbbf['_premultip'+'lyAlpha']),this['_glCreated']&&_0x676f39?_0x19c474['texSubImag'+'e2D'](_0x19c474['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x566714,_0x5c50a4,-0xbc3*0x3+0x1f*0x27+-0x2*-0xf48,-0x3*-0x56c+-0x95*-0x5+-0x132d,Math['max'](_0x51cbbf['_width']*_0x30ebac,-0x26*0x59+-0x150f+0x1123*0x2),Math['max'](_0x51cbbf['_height']*_0x30ebac,-0x1c29+-0x8b*0x5+0x1d1*0x11),this['_glFormat'],this['_glPixelTy'+'pe'],_0x676f39):_0x19c474['texImage2D'](_0x19c474['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x566714,_0x5c50a4,this['_glInterna'+'lFormat'],Math['max'](_0x51cbbf['_width']*_0x30ebac,-0x1463+0x2a8+-0x5*-0x38c),Math['max'](_0x51cbbf['_height']*_0x30ebac,-0x2d5+-0x6b2*0x3+-0x3d2*-0x6),-0x2d1*-0x1+-0xac8+0x7f7,this['_glFormat'],this['_glPixelTy'+'pe'],_0x676f39));}}else{if(_0x51cbbf['_volume'])_0x51cbbf['_compresse'+'d']?_0x19c474['compressed'+'TexImage3D'](_0x19c474['TEXTURE_3D'],_0x5c50a4,this['_glInterna'+'lFormat'],Math['max'](_0x51cbbf['_width']*_0x30ebac,0x46d*-0x3+0xabd*0x3+-0x12ef),Math['max'](_0x51cbbf['_height']*_0x30ebac,0x132a+0x75*-0x32+0x1b*0x23),Math['max'](_0x51cbbf['_depth']*_0x30ebac,0x1230+-0x1*-0x2692+-0x1f5*0x1d),-0x22+-0x2049+0x206b,_0x642bfb):(_0x5ad814['setUnpackF'+'lipY'](!(0x9ad+0x141*0x1b+-0x2b87)),_0x5ad814['setUnpackP'+'remultiply'+'Alpha'](_0x51cbbf['_premultip'+'lyAlpha']),_0x19c474['texImage3D'](_0x19c474['TEXTURE_3D'],_0x5c50a4,this['_glInterna'+'lFormat'],Math['max'](_0x51cbbf['_width']*_0x30ebac,-0xc4d*-0x2+0x1056+-0x28ef),Math['max'](_0x51cbbf['_height']*_0x30ebac,0x5f4*0x1+0x12*0x163+0x1ee9*-0x1),Math['max'](_0x51cbbf['_depth']*_0x30ebac,0x7ae+-0xa75*-0x1+-0x1222),0x253+0x78f*0x3+-0x1900,this['_glFormat'],this['_glPixelTy'+'pe'],_0x642bfb));else{if(_0x51cbbf['array']&&typeof _0x642bfb=='object'){if(_0x51cbbf['_arrayLeng'+'th']===_0x642bfb['length']){if(_0x51cbbf['_compresse'+'d']){for(let _0x4f7128=-0x203f+-0x1652+-0xe5*-0x3d;_0x4f7128<_0x51cbbf['_arrayLeng'+'th'];_0x4f7128++)_0x19c474['compressed'+'TexSubImag'+'e3D'](_0x19c474['TEXTURE_2D'+'_ARRAY'],_0x5c50a4,-0x2*-0xdb9+0x892+-0x2404,0x1405+0x2c6+-0x16cb,_0x4f7128,Math['max'](Math['floor'](_0x51cbbf['_width']*_0x30ebac),-0x609*-0x5+0x10eb+-0x2f17),Math['max'](Math['floor'](_0x51cbbf['_height']*_0x30ebac),0xff8+0x251*0x5+-0x1b8c),0x3*0x281+-0x1f8a+0x602*0x4,this['_glInterna'+'lFormat'],_0x642bfb[_0x4f7128]);}else{for(let _0x49c2c2=-0x397*-0x3+0xdbe+-0x1883;_0x49c2c2<_0x51cbbf['_arrayLeng'+'th'];_0x49c2c2++)_0x19c474['texSubImag'+'e3D'](_0x19c474['TEXTURE_2D'+'_ARRAY'],_0x5c50a4,-0x2614*-0x1+0x822+-0x49f*0xa,-0x266f+-0x6fe*0x5+-0x1877*-0x3,_0x49c2c2,Math['max'](Math['floor'](_0x51cbbf['_width']*_0x30ebac),0x2*0x178+-0x1*-0x10b8+-0x27*0x81),Math['max'](Math['floor'](_0x51cbbf['_height']*_0x30ebac),-0x2100+-0xc6*0x2+0x228d),-0x1c8f+-0x10eb+0x2d7b,this['_glFormat'],this['_glPixelTy'+'pe'],_0x642bfb[_0x49c2c2]);}}}else{if(_0x5ad814['_isBrowser'+'Interface'](_0x642bfb)){_0x5ad814['_isImageBr'+'owserInter'+'face'](_0x642bfb)&&(_0x642bfb['width']>_0x5ad814['maxTexture'+'Size']||_0x642bfb['height']>_0x5ad814['maxTexture'+'Size'])&&(_0x642bfb=c_(_0x642bfb,_0x5ad814['maxTexture'+'Size']),_0x5c50a4===0x1fa2+-0x885+-0x171d&&(_0x51cbbf['_width']=_0x642bfb['width'],_0x51cbbf['_height']=_0x642bfb['height']));const _0x288c04=_0x642bfb['width']||_0x642bfb['videoWidth'],_0x438583=_0x642bfb['height']||_0x642bfb['videoHeigh'+'t'];_0x5ad814['setUnpackF'+'lipY'](_0x51cbbf['_flipY']),_0x5ad814['setUnpackP'+'remultiply'+'Alpha'](_0x51cbbf['_premultip'+'lyAlpha']),this['_glCreated']&&_0x51cbbf['_width']===_0x288c04&&_0x51cbbf['_height']===_0x438583&&!_0x5ad814['_isImageVi'+'deoInterfa'+'ce'](_0x642bfb)?_0x19c474['texSubImag'+'e2D'](_0x19c474['TEXTURE_2D'],_0x5c50a4,0x398+0x2026+-0x23be,0x17d0+0x2f*-0x6d+-0x8b*0x7,this['_glFormat'],this['_glPixelTy'+'pe'],_0x642bfb):(_0x19c474['texImage2D'](_0x19c474['TEXTURE_2D'],_0x5c50a4,this['_glInterna'+'lFormat'],this['_glFormat'],this['_glPixelTy'+'pe'],_0x642bfb),_0x5c50a4===0x3*-0x1eb+-0x1c74+-0x4e3*-0x7&&(_0x51cbbf['_width']=_0x288c04,_0x51cbbf['_height']=_0x438583));}else _0x30ebac=(-0x2329*0x1+0x13ad+0xf7d)/Math['pow'](0x2c9+0x15b9+-0x2*0xc40,_0x5c50a4),_0x51cbbf['_compresse'+'d']?this['_glCreated']&&_0x642bfb?_0x19c474['compressed'+'TexSubImag'+'e2D'](_0x19c474['TEXTURE_2D'],_0x5c50a4,-0x25b8+0x2394+-0x224*-0x1,0x3*0x409+0x2422+-0x303d,Math['max'](Math['floor'](_0x51cbbf['_width']*_0x30ebac),-0x1*0x20ef+-0x1a2d+0x3b1d),Math['max'](Math['floor'](_0x51cbbf['_height']*_0x30ebac),0x5*-0xe6+-0x1*0x207+0x5*0x14e),this['_glInterna'+'lFormat'],_0x642bfb):_0x19c474['compressed'+'TexImage2D'](_0x19c474['TEXTURE_2D'],_0x5c50a4,this['_glInterna'+'lFormat'],Math['max'](Math['floor'](_0x51cbbf['_width']*_0x30ebac),-0x236*-0x1+0xb78*-0x1+0x943),Math['max'](Math['floor'](_0x51cbbf['_height']*_0x30ebac),0xb*-0x265+-0x1af*-0xa+0x982),0x1e4f*0x1+-0x482+0x19cd*-0x1,_0x642bfb):(_0x5ad814['setUnpackF'+'lipY'](!(-0x1726*0x1+0x29*-0xb7+0x3476)),_0x5ad814['setUnpackP'+'remultiply'+'Alpha'](_0x51cbbf['_premultip'+'lyAlpha']),this['_glCreated']&&_0x642bfb?_0x19c474['texSubImag'+'e2D'](_0x19c474['TEXTURE_2D'],_0x5c50a4,-0xc1f+-0x2*-0x18b+0x909,-0x39d+-0x869*0x1+0xc06,Math['max'](_0x51cbbf['_width']*_0x30ebac,-0xa*0x1b6+0xf9*0x27+0x82*-0x29),Math['max'](_0x51cbbf['_height']*_0x30ebac,0x1867+-0x106e+0x3c*-0x22),this['_glFormat'],this['_glPixelTy'+'pe'],_0x642bfb):_0x19c474['texImage2D'](_0x19c474['TEXTURE_2D'],_0x5c50a4,this['_glInterna'+'lFormat'],Math['max'](_0x51cbbf['_width']*_0x30ebac,0x16*0x50+0x1*0x38e+-0xa6d),Math['max'](_0x51cbbf['_height']*_0x30ebac,0xc*-0xef+-0x56f*-0x1+0x5c6),0x42*0x44+0x1*0x7f7+0x6b*-0x3d,this['_glFormat'],this['_glPixelTy'+'pe'],_0x642bfb));_0x5c50a4===-0x26f*-0x1+-0xa*0x35d+-0x1*-0x1f33?_0x51cbbf['_mipmapsUp'+'loaded']=!(-0x6*0x2ef+-0xd7*-0x2e+0x301*-0x7):_0x51cbbf['_mipmapsUp'+'loaded']=!(0x24*0x35+-0x1596*0x1+0xe22);}}}_0x5c50a4++;}if(_0x51cbbf['_needsUplo'+'ad']){if(_0x51cbbf['_cubemap']){for(let _0x506def=0x1e6e+0x4a4+0x86*-0x43;_0x506def<0x1c26*0x1+-0x66c+-0x15b4;_0x506def++)_0x51cbbf['_levelsUpd'+'ated'][0x5d*0x32+-0x1933+0x709][_0x506def]=!(0x1070*-0x1+0xa29+0x648);}else _0x51cbbf['_levelsUpd'+'ated'][0xf6+-0x4*0x8ef+0x22c6*0x1]=!(-0x1bba+0x1*0x133f+-0x1*-0x87c);}!_0x51cbbf['_compresse'+'d']&&!_0x51cbbf['_integerFo'+'rmat']&&_0x51cbbf['_mipmaps']&&_0x51cbbf['_needsMipm'+'apsUpload']&&_0x51cbbf['_levels']['length']===-0xcae+0x473*0x7+0x116*-0x11&&(_0x19c474['generateMi'+'pmap'](this['_glTarget']),_0x51cbbf['_mipmapsUp'+'loaded']=!(-0x1fef+0x2*0xefb+0x5*0x65)),_0x51cbbf['_gpuSize']&&_0x51cbbf['adjustVram'+'SizeTracki'+'ng'](_0x5ad814['_vram'],-_0x51cbbf['_gpuSize']),_0x51cbbf['_gpuSize']=_0x51cbbf['gpuSize'],_0x51cbbf['adjustVram'+'SizeTracki'+'ng'](_0x5ad814['_vram'],_0x51cbbf['_gpuSize']),this['_glCreated']=!(-0x1*0xc02+0x4*-0x316+0x185a);}['read'](_0x24f41a,_0xafd70f,_0x4407d4,_0xb8a3a0,_0x318484){const _0x4092c0=this['texture'];return _0x4092c0['device']['readTextur'+'eAsync'](_0x4092c0,_0x24f41a,_0xafd70f,_0x4407d4,_0xb8a3a0,_0x318484);}['write'](_0x28ab29,_0x2229b8,_0x359593,_0x2c1b49,_0x18f01d){const {texture:_0x347f23}=this,{device:_0x410fec}=_0x347f23;return _0x410fec['setTexture'](_0x347f23,-0x2464+0xb9d*-0x3+0x473b),_0x410fec['writeTextu'+'reAsync'](_0x347f23,_0x28ab29,_0x2229b8,_0x359593,_0x2c1b49,_0x18f01d);}}class tw{constructor(_0x4e14e4,_0x3a5ca8){h(this,'msaaFB'),h(this,'resolveFB'),(this['msaaFB']=_0x4e14e4,this['resolveFB']=_0x3a5ca8);}['destroy'](_0x5c0be4){this['msaaFB']&&(_0x5c0be4['deleteRend'+'erbuffer'](this['msaaFB']),this['msaaFB']=null),this['resolveFB']&&(_0x5c0be4['deleteRend'+'erbuffer'](this['resolveFB']),this['resolveFB']=null);}}class sw{constructor(){h(this,'_glFrameBu'+'ffer',null),h(this,'_glDepthBu'+'ffer',null),h(this,'_glResolve'+'FrameBuffe'+'r',null),h(this,'colorMrtFr'+'amebuffers',null),h(this,'_glMsaaCol'+'orBuffers',[]),h(this,'_glMsaaDep'+'thBuffer',null),h(this,'msaaDepthB'+'ufferKey'),h(this,'suppliedCo'+'lorFramebu'+'ffer'),h(this,'_isInitial'+'ized',!(-0x22b7*-0x1+0x2543+-0x113*0x43));}['destroy'](_0x25a24e){var _0x82d12b;const _0x24d5f8=_0x25a24e['gl'];this['_isInitial'+'ized']=!(0xc8d+0x2*-0x94d+-0x307*-0x2),this['_glFrameBu'+'ffer']&&(this['_glFrameBu'+'ffer']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x24d5f8['deleteFram'+'ebuffer'](this['_glFrameBu'+'ffer']),this['_glFrameBu'+'ffer']=null),this['_glDepthBu'+'ffer']&&(_0x24d5f8['deleteRend'+'erbuffer'](this['_glDepthBu'+'ffer']),this['_glDepthBu'+'ffer']=null),this['_glResolve'+'FrameBuffe'+'r']&&(this['_glResolve'+'FrameBuffe'+'r']!==this['suppliedCo'+'lorFramebu'+'ffer']&&_0x24d5f8['deleteFram'+'ebuffer'](this['_glResolve'+'FrameBuffe'+'r']),this['_glResolve'+'FrameBuffe'+'r']=null),this['_glMsaaCol'+'orBuffers']['forEach'](_0x563c99=>{_0x24d5f8['deleteRend'+'erbuffer'](_0x563c99);}),this['_glMsaaCol'+'orBuffers']['length']=-0x194a+0x1613*0x1+0x337*0x1,(_0x82d12b=this['colorMrtFr'+'amebuffers'])==null||_0x82d12b['forEach'](_0x3c1eaf=>{_0x3c1eaf['destroy'](_0x24d5f8);}),this['colorMrtFr'+'amebuffers']=null,this['_glMsaaDep'+'thBuffer']&&(this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']&&Fd(_0x25a24e)['release'](this['msaaDepthB'+'ufferKey'])),this['suppliedCo'+'lorFramebu'+'ffer']=void(-0xf*0x285+0x1cfd*-0x1+-0x8*-0x859);}get['initialize'+'d'](){return this['_isInitial'+'ized'];}['init'](_0x543499,_0x179091){var _0x5ba815,_0x4b248c;const _0x2c5368=_0x543499['gl'];w['assert'](!this['_isInitial'+'ized'],'Render\x20tar'+'get\x20alread'+'y\x20initiali'+'zed.'),this['_isInitial'+'ized']=!(-0x1b0a+-0xbe8+-0xa*-0x3e5);const _0x32e159=[];if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(-0x3fb*0x1+-0x22*-0x10c+-0x1f9d))this['_glFrameBu'+'ffer']=this['suppliedCo'+'lorFramebu'+'ffer'];else{w['call'](()=>{(_0x179091['width']<=0x1*0x24c3+0x9d5*-0x1+-0x12*0x17f||_0x179091['height']<=-0x1319*-0x2+-0xb5*-0x29+-0x432f)&&w['warnOnce']('Invalid\x20re'+'nder\x20targe'+'t\x20size:\x20'+_0x179091['width']+'\x20x\x20'+_0x179091['height'],_0x179091);}),this['_glFrameBu'+'ffer']=_0x2c5368['createFram'+'ebuffer'](),_0x543499['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x34cda0=((_0x5ba815=_0x179091['_colorBuff'+'ers'])==null?void(0x1a6e+-0x1*0x1493+0x5db*-0x1):_0x5ba815['length'])??0x1fa2*0x1+-0x37*0x8b+-0x97*0x3,_0x4fd6cf=_0x2c5368['COLOR_ATTA'+'CHMENT0'];for(let _0x4ba777=0x2348+-0x2*-0x65d+0x5*-0x99a;_0x4ba777<_0x34cda0;++_0x4ba777){const _0x35b4e4=_0x179091['getColorBu'+'ffer'](_0x4ba777);_0x35b4e4&&(_0x35b4e4['impl']['_glTexture']||(_0x35b4e4['_width']=Math['min'](_0x35b4e4['width'],_0x543499['maxRenderB'+'ufferSize']),_0x35b4e4['_height']=Math['min'](_0x35b4e4['height'],_0x543499['maxRenderB'+'ufferSize']),_0x543499['setTexture'](_0x35b4e4,-0xf54+-0x1155+0x20a9)),_0x2c5368['framebuffe'+'rTexture2D'](_0x2c5368['FRAMEBUFFE'+'R'],_0x4fd6cf+_0x4ba777,_0x35b4e4['_cubemap']?_0x2c5368['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x179091['_face']:_0x2c5368['TEXTURE_2D'],_0x35b4e4['impl']['_glTexture'],_0x179091['mipLevel']),_0x32e159['push'](_0x4fd6cf+_0x4ba777));}_0x2c5368['drawBuffer'+'s'](_0x32e159);const _0x4a23e4=_0x179091['_depthBuff'+'er'];if(_0x4a23e4||_0x179091['_depth']){const _0x26437e=_0x179091['_stencil']?_0x2c5368['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x2c5368['DEPTH_ATTA'+'CHMENT'];if(_0x4a23e4)_0x4a23e4['impl']['_glTexture']||(_0x4a23e4['_width']=Math['min'](_0x4a23e4['width'],_0x543499['maxRenderB'+'ufferSize']),_0x4a23e4['_height']=Math['min'](_0x4a23e4['height'],_0x543499['maxRenderB'+'ufferSize']),_0x543499['setTexture'](_0x4a23e4,0xd74+-0x1*-0x1273+-0x1fe7)),_0x2c5368['framebuffe'+'rTexture2D'](_0x2c5368['FRAMEBUFFE'+'R'],_0x26437e,_0x4a23e4['_cubemap']?_0x2c5368['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x179091['_face']:_0x2c5368['TEXTURE_2D'],_0x179091['_depthBuff'+'er']['impl']['_glTexture'],_0x179091['mipLevel']);else{if(!(_0x179091['_samples']>-0x25dd+-0x1336+0x1a*0x232)){this['_glDepthBu'+'ffer']||(this['_glDepthBu'+'ffer']=_0x2c5368['createRend'+'erbuffer']());const _0x2167d3=_0x179091['_stencil']?_0x2c5368['DEPTH24_ST'+'ENCIL8']:_0x2c5368['DEPTH_COMP'+'ONENT32F'];_0x2c5368['bindRender'+'buffer'](_0x2c5368['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x2c5368['renderbuff'+'erStorage'](_0x2c5368['RENDERBUFF'+'ER'],_0x2167d3,_0x179091['width'],_0x179091['height']),_0x2c5368['framebuffe'+'rRenderbuf'+'fer'](_0x2c5368['FRAMEBUFFE'+'R'],_0x26437e,_0x2c5368['RENDERBUFF'+'ER'],this['_glDepthBu'+'ffer']),_0x2c5368['bindRender'+'buffer'](_0x2c5368['RENDERBUFF'+'ER'],null);}}}w['call'](()=>this['_checkFbo'](_0x543499,_0x179091));}if(_0x179091['_samples']>0x169d+-0x1f9c+0x80*0x12){this['_glResolve'+'FrameBuffe'+'r']=this['_glFrameBu'+'ffer'],this['_glFrameBu'+'ffer']=_0x2c5368['createFram'+'ebuffer'](),_0x543499['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']);const _0x1a754c=((_0x4b248c=_0x179091['_colorBuff'+'ers'])==null?void(0xa86+-0x1983+0x1*0xefd):_0x4b248c['length'])??-0x1734+0x18d4+-0x1a0;if(this['suppliedCo'+'lorFramebu'+'ffer']!==void(0xdd*0x16+0x162e*0x1+-0x292c)){const _0x15fbfc=_0x2c5368['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x15fbfc);const _0x5b3aec=_0x543499['backBuffer'+'Format']===Ne?_0x2c5368['RGBA8']:_0x2c5368['RGB8'];_0x2c5368['bindRender'+'buffer'](_0x2c5368['RENDERBUFF'+'ER'],_0x15fbfc),_0x2c5368['renderbuff'+'erStorageM'+'ultisample'](_0x2c5368['RENDERBUFF'+'ER'],_0x179091['_samples'],_0x5b3aec,_0x179091['width'],_0x179091['height']),_0x2c5368['framebuffe'+'rRenderbuf'+'fer'](_0x2c5368['FRAMEBUFFE'+'R'],_0x2c5368['COLOR_ATTA'+'CHMENT0'],_0x2c5368['RENDERBUFF'+'ER'],_0x15fbfc);}else for(let _0x5db895=-0x1479+0x4b6+0xfc3;_0x5db895<_0x1a754c;++_0x5db895){const _0x3b9929=_0x179091['getColorBu'+'ffer'](_0x5db895);if(_0x3b9929){const _0x1a5285=_0x2c5368['createRend'+'erbuffer']();this['_glMsaaCol'+'orBuffers']['push'](_0x1a5285),_0x2c5368['bindRender'+'buffer'](_0x2c5368['RENDERBUFF'+'ER'],_0x1a5285),_0x2c5368['renderbuff'+'erStorageM'+'ultisample'](_0x2c5368['RENDERBUFF'+'ER'],_0x179091['_samples'],_0x3b9929['impl']['_glInterna'+'lFormat'],_0x179091['width'],_0x179091['height']),_0x2c5368['framebuffe'+'rRenderbuf'+'fer'](_0x2c5368['FRAMEBUFFE'+'R'],_0x2c5368['COLOR_ATTA'+'CHMENT0']+_0x5db895,_0x2c5368['RENDERBUFF'+'ER'],_0x1a5285);}}if(_0x179091['_depth']){w['assert'](!this['_glMsaaDep'+'thBuffer']);const _0x37bb8c=_0x179091['_stencil']?_0x2c5368['DEPTH24_ST'+'ENCIL8']:_0x2c5368['DEPTH_COMP'+'ONENT32F'],_0x21d5c8=_0x179091['_stencil']?_0x2c5368['DEPTH_STEN'+'CIL_ATTACH'+'MENT']:_0x2c5368['DEPTH_ATTA'+'CHMENT'];let _0x154cc8;const _0x1e7d7e=_0x179091['_depthBuff'+'er'];_0x1e7d7e&&(_0x154cc8=_0x1e7d7e['id']+':'+_0x179091['width']+':'+_0x179091['height']+':'+_0x179091['_samples']+':'+_0x37bb8c+':'+_0x21d5c8,this['_glMsaaDep'+'thBuffer']=Fd(_0x543499)['get'](_0x154cc8)),this['_glMsaaDep'+'thBuffer']||(this['_glMsaaDep'+'thBuffer']=_0x2c5368['createRend'+'erbuffer'](),_0x2c5368['bindRender'+'buffer'](_0x2c5368['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']),_0x2c5368['renderbuff'+'erStorageM'+'ultisample'](_0x2c5368['RENDERBUFF'+'ER'],_0x179091['_samples'],_0x37bb8c,_0x179091['width'],_0x179091['height']),this['_glMsaaDep'+'thBuffer']['destroy']=function(){_0x2c5368['deleteRend'+'erbuffer'](this);},_0x1e7d7e&&Fd(_0x543499)['set'](_0x154cc8,this['_glMsaaDep'+'thBuffer'])),this['msaaDepthB'+'ufferKey']=_0x154cc8,_0x2c5368['framebuffe'+'rRenderbuf'+'fer'](_0x2c5368['FRAMEBUFFE'+'R'],_0x21d5c8,_0x2c5368['RENDERBUFF'+'ER'],this['_glMsaaDep'+'thBuffer']);}w['call'](()=>this['_checkFbo'](_0x543499,_0x179091,'MSAA')),_0x1a754c>0x1*-0x1b0c+-0x6f*-0x44+0x59*-0x7&&(this['_createMsa'+'aMrtFrameb'+'uffers'](_0x543499,_0x179091,_0x1a754c),_0x543499['setFramebu'+'ffer'](this['_glFrameBu'+'ffer']),_0x2c5368['drawBuffer'+'s'](_0x32e159));}}['_createMsa'+'aMrtFrameb'+'uffers'](_0x482a78,_0x826059,_0x1e291d){const _0x512fb4=_0x482a78['gl'];this['colorMrtFr'+'amebuffers']=[];for(let _0x3f1332=-0x7*-0x59+0x18*0x30+-0x6ef;_0x3f1332<_0x1e291d;++_0x3f1332){const _0x3de045=_0x826059['getColorBu'+'ffer'](_0x3f1332),_0x28a4db=_0x512fb4['createFram'+'ebuffer']();_0x482a78['setFramebu'+'ffer'](_0x28a4db);const _0xa52eeb=this['_glMsaaCol'+'orBuffers'][_0x3f1332];_0x512fb4['bindRender'+'buffer'](_0x512fb4['RENDERBUFF'+'ER'],_0xa52eeb),_0x512fb4['renderbuff'+'erStorageM'+'ultisample'](_0x512fb4['RENDERBUFF'+'ER'],_0x826059['_samples'],_0x3de045['impl']['_glInterna'+'lFormat'],_0x826059['width'],_0x826059['height']),_0x512fb4['framebuffe'+'rRenderbuf'+'fer'](_0x512fb4['FRAMEBUFFE'+'R'],_0x512fb4['COLOR_ATTA'+'CHMENT0'],_0x512fb4['RENDERBUFF'+'ER'],_0xa52eeb),_0x512fb4['drawBuffer'+'s']([_0x512fb4['COLOR_ATTA'+'CHMENT0']]),w['call'](()=>this['_checkFbo'](_0x482a78,_0x826059,'MSAA-MRT-s'+'rc'+_0x3f1332));const _0x33e14a=_0x512fb4['createFram'+'ebuffer']();_0x482a78['setFramebu'+'ffer'](_0x33e14a),_0x512fb4['framebuffe'+'rTexture2D'](_0x512fb4['FRAMEBUFFE'+'R'],_0x512fb4['COLOR_ATTA'+'CHMENT0'],_0x3de045['_cubemap']?_0x512fb4['TEXTURE_CU'+'BE_MAP_POS'+'ITIVE_X']+_0x826059['_face']:_0x512fb4['TEXTURE_2D'],_0x3de045['impl']['_glTexture'],0x3eb*-0x7+-0x62e*0x6+0x4081),this['colorMrtFr'+'amebuffers'][_0x3f1332]=new tw(_0x28a4db,_0x33e14a),w['call'](()=>this['_checkFbo'](_0x482a78,_0x826059,'MSAA-MRT-d'+'st'+_0x3f1332));}}['_checkFbo'](_0xd92404,_0x2fac09,_0x20964c=''){const _0x40fe4f=_0xd92404['gl'],_0x1e59ed=_0x40fe4f['checkFrame'+'bufferStat'+'us'](_0x40fe4f['FRAMEBUFFE'+'R']);let _0x1e1044;switch(_0x1e59ed){case _0x40fe4f['FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT']:_0x1e1044='FRAMEBUFFE'+'R_INCOMPLE'+'TE_ATTACHM'+'ENT';break;case _0x40fe4f['FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T']:_0x1e1044='FRAMEBUFFE'+'R_INCOMPLE'+'TE_MISSING'+'_ATTACHMEN'+'T';break;case _0x40fe4f['FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS']:_0x1e1044='FRAMEBUFFE'+'R_INCOMPLE'+'TE_DIMENSI'+'ONS';break;case _0x40fe4f['FRAMEBUFFE'+'R_UNSUPPOR'+'TED']:_0x1e1044='FRAMEBUFFE'+'R_UNSUPPOR'+'TED';break;}w['assert'](!_0x1e1044,'Framebuffe'+'r\x20creation'+'\x20failed\x20wi'+'th\x20error\x20c'+'ode\x20'+_0x1e1044+(',\x20render\x20t'+'arget:\x20')+_0x2fac09['name']+'\x20'+_0x20964c,_0x2fac09);}['loseContex'+'t'](){this['_glFrameBu'+'ffer']=null,this['_glDepthBu'+'ffer']=null,this['_glResolve'+'FrameBuffe'+'r']=null,this['_glMsaaCol'+'orBuffers']['length']=-0x6c*-0x41+-0x2*0x28c+0x2*-0xb2a,this['_glMsaaDep'+'thBuffer']=null,this['msaaDepthB'+'ufferKey']=void(-0x2b9*0x4+-0x12b+0xc0f),this['colorMrtFr'+'amebuffers']=null,this['suppliedCo'+'lorFramebu'+'ffer']=void(0xa1a+-0x2fe*-0x2+-0x1016),this['_isInitial'+'ized']=!(0x2*-0x899+-0x25cf+0x3702);}['internalRe'+'solve'](_0x507aec,_0xcc6a24,_0x46c964,_0x29338b,_0x59d1cf){w['assert'](_0xcc6a24!==_0x46c964,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x507aec['setScissor'](0x1*0x492+-0x166e+0x11dc,0x1eab+-0xcf8+-0x11b3,_0x29338b['width'],_0x29338b['height']);const _0x5b5b2a=_0x507aec['gl'];_0x5b5b2a['bindFrameb'+'uffer'](_0x5b5b2a['READ_FRAME'+'BUFFER'],_0xcc6a24),_0x5b5b2a['bindFrameb'+'uffer'](_0x5b5b2a['DRAW_FRAME'+'BUFFER'],_0x46c964),_0x5b5b2a['blitFrameb'+'uffer'](0xc5*-0x25+0x10f9+0xb8*0x10,-0x202*0x3+0x1da5+-0x179f*0x1,_0x29338b['width'],_0x29338b['height'],0x7*0x394+-0x23ff+-0x1*-0xaf3,-0x593+0x1f7*0x5+-0x440,_0x29338b['width'],_0x29338b['height'],_0x59d1cf,_0x5b5b2a['NEAREST']);}['resolve'](_0x30a341,_0x1246e0,_0x351942,_0xc83766){const _0x2617ce=_0x30a341['gl'];if(this['colorMrtFr'+'amebuffers']){if(_0x351942)for(let _0x24f70f=0x6d*0x13+-0x10*-0x44+-0x1b*0x75;_0x24f70f<this['colorMrtFr'+'amebuffers']['length'];_0x24f70f++){const _0x140964=this['colorMrtFr'+'amebuffers'][_0x24f70f];Q['pushGpuMar'+'ker'](_0x30a341,'RESOLVE-MR'+'T'+_0x24f70f),this['internalRe'+'solve'](_0x30a341,_0x140964['msaaFB'],_0x140964['resolveFB'],_0x1246e0,_0x2617ce['COLOR_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x30a341);}_0xc83766&&(Q['pushGpuMar'+'ker'](_0x30a341,'RESOLVE-MR'+'T-DEPTH'),this['internalRe'+'solve'](_0x30a341,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x1246e0,_0x2617ce['DEPTH_BUFF'+'ER_BIT']),Q['popGpuMark'+'er'](_0x30a341));}else Q['pushGpuMar'+'ker'](_0x30a341,'RESOLVE'),this['internalRe'+'solve'](_0x30a341,this['_glFrameBu'+'ffer'],this['_glResolve'+'FrameBuffe'+'r'],_0x1246e0,(_0x351942?_0x2617ce['COLOR_BUFF'+'ER_BIT']:0xf3b+-0x1*-0x19d6+-0x2911)|(_0xc83766?_0x2617ce['DEPTH_BUFF'+'ER_BIT']:-0x24d7+-0x1aa1*-0x1+-0x51b*-0x2)),Q['popGpuMark'+'er'](_0x30a341);_0x2617ce['bindFrameb'+'uffer'](_0x2617ce['FRAMEBUFFE'+'R'],this['_glFrameBu'+'ffer']);}}class iw{constructor(){h(this,'renderVers'+'ion'),h(this,'queries',[]);}['destroy'](_0x31afb8){this['queries']['forEach'](_0x618952=>_0x31afb8['deleteQuer'+'y'](_0x618952)),this['queries']=null;}}class rw extends $T{constructor(_0x3dd025){super(),h(this,'device'),h(this,'freeQuerie'+'s',[]),h(this,'frameQueri'+'es',[]),h(this,'previousFr'+'ameQueries',[]),h(this,'timings',[]),(this['device']=_0x3dd025,this['ext']=_0x3dd025['extDisjoin'+'tTimerQuer'+'y']);}['destroy'](){this['freeQuerie'+'s']['forEach'](_0x47c15d=>this['device']['gl']['deleteQuer'+'y'](_0x47c15d)),this['frameQueri'+'es']['forEach'](_0x1d4388=>this['device']['gl']['deleteQuer'+'y'](_0x1d4388)),this['previousFr'+'ameQueries']['forEach'](_0x154ea4=>_0x154ea4['destroy'](this['device']['gl'])),this['freeQuerie'+'s']=null,this['frameQueri'+'es']=null,this['previousFr'+'ameQueries']=null;}['loseContex'+'t'](){super['loseContex'+'t'](),this['freeQuerie'+'s']=[],this['frameQueri'+'es']=[],this['previousFr'+'ameQueries']=[];}['restoreCon'+'text'](){this['ext']=this['device']['extDisjoin'+'tTimerQuer'+'y'];}['getQuery'](){return this['freeQuerie'+'s']['pop']()??this['device']['gl']['createQuer'+'y']();}['start'](_0x3ad0d1){if(this['ext']){const _0x57d2f7=this['getSlot'](_0x3ad0d1),_0x1c6c3b=this['getQuery']();return this['frameQueri'+'es'][_0x57d2f7]=_0x1c6c3b,this['device']['gl']['beginQuery'](this['ext']['TIME_ELAPS'+'ED_EXT'],_0x1c6c3b),_0x57d2f7;}}['end'](_0x4eb912){_0x4eb912!==void(-0x263a+0x38b*0x9+0x657)&&this['device']['gl']['endQuery'](this['ext']['TIME_ELAPS'+'ED_EXT']);}['frameStart'](){this['processEna'+'bleRequest'](),this['_enabled']&&(this['frameGPUMa'+'rkerSlot']=this['start']('GpuFrame'));}['frameEnd'](){this['_enabled']&&this['end'](this['frameGPUMa'+'rkerSlot']);}['request'](){if(this['_enabled']){const _0x23d011=this['ext'],_0x3e9883=this['device']['gl'],_0x17faf9=this['device']['renderVers'+'ion'],_0x46a9ae=this['frameQueri'+'es'];if(_0x46a9ae['length']>0x1752+-0x103a+-0x718){this['frameQueri'+'es']=[];const _0xfe49a9=new iw();_0xfe49a9['queries']=_0x46a9ae,_0xfe49a9['renderVers'+'ion']=_0x17faf9,this['previousFr'+'ameQueries']['push'](_0xfe49a9);}if(this['previousFr'+'ameQueries']['length']>-0x2673+0x1*-0xf1a+0x358d){const _0x572bcd=this['previousFr'+'ameQueries'][0x13*0x15d+-0x2313+0x4*0x24b],_0x29bb2f=_0x572bcd['queries'],_0x3ab13c=_0x29bb2f[_0x29bb2f['length']-(0xca+0x21*0xd5+-0x1c3e)],_0x50a0e4=_0x3e9883['getQueryPa'+'rameter'](_0x3ab13c,_0x3e9883['QUERY_RESU'+'LT_AVAILAB'+'LE']),_0x118d50=_0x3e9883['getParamet'+'er'](_0x23d011['GPU_DISJOI'+'NT_EXT']);if(_0x50a0e4&&!_0x118d50){this['previousFr'+'ameQueries']['shift']();const _0x2f9859=this['timings'];_0x2f9859['length']=0x2119+0x1f33+-0x404c;for(let _0x41d00d=0x1*0xc59+-0x1bb*-0x16+0x1*-0x326b;_0x41d00d<_0x29bb2f['length'];_0x41d00d++){const _0x3dd2ea=_0x29bb2f[_0x41d00d],_0x503255=_0x3e9883['getQueryPa'+'rameter'](_0x3dd2ea,_0x3e9883['QUERY_RESU'+'LT']);_0x2f9859[_0x41d00d]=_0x503255*(-0x9*0x1af+-0x12a1+0x21c8+0.000001),this['freeQuerie'+'s']['push'](_0x3dd2ea);}this['report'](_0x572bcd['renderVers'+'ion'],_0x2f9859);}_0x118d50&&(this['previousFr'+'ameQueries']['forEach'](_0x2fb408=>{this['report'](_0x2fb408['renderVers'+'ion'],null),_0x2fb408['destroy'](_0x3e9883);}),this['previousFr'+'ameQueries']['length']=-0xb5e+-0xf5a*-0x2+-0x96*0x21);}super['request'](_0x17faf9);}}}const Da=[];class aw extends $e{constructor(_0x59b512,_0x516a0c={}){super(_0x59b512,_0x516a0c),h(this,'gl'),h(this,'_defaultFr'+'amebuffer',null),h(this,'_defaultFr'+'amebufferC'+'hanged',!(-0x1*0x1b7+-0x4a2+0x21e*0x3)),(_0x516a0c=this['initOption'+'s'],this['updateClie'+'ntRect'](),this['initTextur'+'eUnits'](),this['contextLos'+'t']=!(-0x1*0x3df+0x13d4+-0xff4),this['_contextLo'+'stHandler']=_0x1f2607=>{_0x1f2607['preventDef'+'ault'](),this['loseContex'+'t'](),w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20lost.'),this['fire']('devicelost');},this['_contextRe'+'storedHand'+'ler']=()=>{w['log']('pc.Graphic'+'sDevice:\x20W'+'ebGL\x20conte'+'xt\x20restore'+'d.'),this['restoreCon'+'text'](),this['fire']('devicerest'+'ored');});const _0x34e5d6=typeof navigator<'u'&&navigator['userAgent'];if(this['forceDisab'+'leMultisam'+'pling']=_0x34e5d6&&_0x34e5d6['includes']('AppleWebKi'+'t')&&(_0x34e5d6['includes']('15.4')||_0x34e5d6['includes']('15_4')),this['forceDisab'+'leMultisam'+'pling']&&(_0x516a0c['antialias']=!(-0x139c+0x35f+0x103e),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'AppleWebKi'+'t\x2015.4')),Ae['browserNam'+'e']==='firefox'){const _0x2d4c2c=(typeof navigator<'u'?navigator['userAgent']:'')['match'](/Firefox\/(\d+(\.\d+)*)/),_0x3f5f8a=_0x2d4c2c?_0x2d4c2c[-0xc4b+0x178f+-0xb43]:null;if(_0x3f5f8a){const _0x57a6fc=parseFloat(_0x3f5f8a);(Ae['name']==='windows'&&(_0x57a6fc>=-0x2ea+-0x7*0x119+0xb11*0x1||_0x57a6fc===-0xead+-0x3*0xc2b+0x33a1)||Ae['name']==='android'&&_0x57a6fc>=0xd*0x167+0x33e*0x2+-0x1833)&&(_0x516a0c['antialias']=!(-0xe5c*0x2+-0x1668+0x3321),w['log']('Antialiasi'+'ng\x20has\x20bee'+'n\x20turned\x20o'+'ff\x20due\x20to\x20'+'rendering\x20'+'issues\x20on\x20'+'Firefox\x20'+Ae['name']+('\x20platform\x20'+'version\x20')+_0x3f5f8a));}}this['backBuffer'+'Antialias']=_0x516a0c['antialias']??!(0x1bb*-0x8+-0x1*0x10cb+0x1ea4),_0x516a0c['antialias']=!(-0x1871+0x1de5+-0x573);const _0x2b06a3=_0x516a0c['gl']??_0x59b512['getContext']('webgl2',_0x516a0c);if(!_0x2b06a3)throw new Error('WebGL\x20not\x20'+'supported');this['gl']=_0x2b06a3,this['isWebGL2']=!(-0xf50+0x1142*-0x2+-0x6*-0x84e),this['_deviceTyp'+'e']=aT,this['updateBack'+'bufferForm'+'at'](null);const _0x3f7e73=Ae['browserNam'+'e']==='chrome',_0x328345=Ae['browserNam'+'e']==='safari',_0x46afcf=Ae['browser']&&navigator['appVersion']['indexOf']('Mac')!==-(0xd*0x2ad+-0x14f*-0x19+-0x437f);this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']=_0x328345,this['_tempMacCh'+'romeBlitFr'+'amebufferW'+'orkaround']=_0x46afcf&&_0x3f7e73&&!_0x516a0c['alpha'],_0x59b512['addEventLi'+'stener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x2*-0x4f9+-0x985+0x164*0xe)),_0x59b512['addEventLi'+'stener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x44*0x6b+-0x2556+0x1*0x8eb)),this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),this['initialize'+'RenderStat'+'e'](),this['initialize'+'ContextCac'+'hes'](),this['createBack'+'buffer'](null),this['supportsIm'+'ageBitmap']=!_0x328345&&typeof ImageBitmap<'u',this['_samplerTy'+'pes']=new Set([_0x2b06a3['SAMPLER_2D'],_0x2b06a3['SAMPLER_CU'+'BE'],_0x2b06a3['UNSIGNED_I'+'NT_SAMPLER'+'_2D'],_0x2b06a3['INT_SAMPLE'+'R_2D'],_0x2b06a3['SAMPLER_2D'+'_SHADOW'],_0x2b06a3['SAMPLER_CU'+'BE_SHADOW'],_0x2b06a3['SAMPLER_3D'],_0x2b06a3['INT_SAMPLE'+'R_3D'],_0x2b06a3['UNSIGNED_I'+'NT_SAMPLER'+'_3D'],_0x2b06a3['SAMPLER_2D'+'_ARRAY'],_0x2b06a3['INT_SAMPLE'+'R_2D_ARRAY'],_0x2b06a3['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]),this['glAddress']=[_0x2b06a3['REPEAT'],_0x2b06a3['CLAMP_TO_E'+'DGE'],_0x2b06a3['MIRRORED_R'+'EPEAT']],this['glBlendEqu'+'ation']=[_0x2b06a3['FUNC_ADD'],_0x2b06a3['FUNC_SUBTR'+'ACT'],_0x2b06a3['FUNC_REVER'+'SE_SUBTRAC'+'T'],_0x2b06a3['MIN'],_0x2b06a3['MAX']],this['glBlendFun'+'ctionColor']=[_0x2b06a3['ZERO'],_0x2b06a3['ONE'],_0x2b06a3['SRC_COLOR'],_0x2b06a3['ONE_MINUS_'+'SRC_COLOR'],_0x2b06a3['DST_COLOR'],_0x2b06a3['ONE_MINUS_'+'DST_COLOR'],_0x2b06a3['SRC_ALPHA'],_0x2b06a3['SRC_ALPHA_'+'SATURATE'],_0x2b06a3['ONE_MINUS_'+'SRC_ALPHA'],_0x2b06a3['DST_ALPHA'],_0x2b06a3['ONE_MINUS_'+'DST_ALPHA'],_0x2b06a3['CONSTANT_C'+'OLOR'],_0x2b06a3['ONE_MINUS_'+'CONSTANT_C'+'OLOR']],this['glBlendFun'+'ctionAlpha']=[_0x2b06a3['ZERO'],_0x2b06a3['ONE'],_0x2b06a3['SRC_COLOR'],_0x2b06a3['ONE_MINUS_'+'SRC_COLOR'],_0x2b06a3['DST_COLOR'],_0x2b06a3['ONE_MINUS_'+'DST_COLOR'],_0x2b06a3['SRC_ALPHA'],_0x2b06a3['SRC_ALPHA_'+'SATURATE'],_0x2b06a3['ONE_MINUS_'+'SRC_ALPHA'],_0x2b06a3['DST_ALPHA'],_0x2b06a3['ONE_MINUS_'+'DST_ALPHA'],_0x2b06a3['CONSTANT_A'+'LPHA'],_0x2b06a3['ONE_MINUS_'+'CONSTANT_A'+'LPHA']],this['glComparis'+'on']=[_0x2b06a3['NEVER'],_0x2b06a3['LESS'],_0x2b06a3['EQUAL'],_0x2b06a3['LEQUAL'],_0x2b06a3['GREATER'],_0x2b06a3['NOTEQUAL'],_0x2b06a3['GEQUAL'],_0x2b06a3['ALWAYS']],this['glStencilO'+'p']=[_0x2b06a3['KEEP'],_0x2b06a3['ZERO'],_0x2b06a3['REPLACE'],_0x2b06a3['INCR'],_0x2b06a3['INCR_WRAP'],_0x2b06a3['DECR'],_0x2b06a3['DECR_WRAP'],_0x2b06a3['INVERT']],this['glClearFla'+'g']=[-0x14cc+0x2*0x14d+0x1232,_0x2b06a3['COLOR_BUFF'+'ER_BIT'],_0x2b06a3['DEPTH_BUFF'+'ER_BIT'],_0x2b06a3['COLOR_BUFF'+'ER_BIT']|_0x2b06a3['DEPTH_BUFF'+'ER_BIT'],_0x2b06a3['STENCIL_BU'+'FFER_BIT'],_0x2b06a3['STENCIL_BU'+'FFER_BIT']|_0x2b06a3['COLOR_BUFF'+'ER_BIT'],_0x2b06a3['STENCIL_BU'+'FFER_BIT']|_0x2b06a3['DEPTH_BUFF'+'ER_BIT'],_0x2b06a3['STENCIL_BU'+'FFER_BIT']|_0x2b06a3['COLOR_BUFF'+'ER_BIT']|_0x2b06a3['DEPTH_BUFF'+'ER_BIT']],this['glCull']=[0x408+-0x144d*-0x1+-0x1855*0x1,_0x2b06a3['BACK'],_0x2b06a3['FRONT'],_0x2b06a3['FRONT_AND_'+'BACK']],this['glFilter']=[_0x2b06a3['NEAREST'],_0x2b06a3['LINEAR'],_0x2b06a3['NEAREST_MI'+'PMAP_NEARE'+'ST'],_0x2b06a3['NEAREST_MI'+'PMAP_LINEA'+'R'],_0x2b06a3['LINEAR_MIP'+'MAP_NEARES'+'T'],_0x2b06a3['LINEAR_MIP'+'MAP_LINEAR']],this['glPrimitiv'+'e']=[_0x2b06a3['POINTS'],_0x2b06a3['LINES'],_0x2b06a3['LINE_LOOP'],_0x2b06a3['LINE_STRIP'],_0x2b06a3['TRIANGLES'],_0x2b06a3['TRIANGLE_S'+'TRIP'],_0x2b06a3['TRIANGLE_F'+'AN']],this['glType']=[_0x2b06a3['BYTE'],_0x2b06a3['UNSIGNED_B'+'YTE'],_0x2b06a3['SHORT'],_0x2b06a3['UNSIGNED_S'+'HORT'],_0x2b06a3['INT'],_0x2b06a3['UNSIGNED_I'+'NT'],_0x2b06a3['FLOAT'],_0x2b06a3['HALF_FLOAT']],this['pcUniformT'+'ype']={},this['pcUniformT'+'ype'][_0x2b06a3['BOOL']]=Tn,this['pcUniformT'+'ype'][_0x2b06a3['INT']]=_a,this['pcUniformT'+'ype'][_0x2b06a3['FLOAT']]=Xs,this['pcUniformT'+'ype'][_0x2b06a3['FLOAT_VEC2']]=ga,this['pcUniformT'+'ype'][_0x2b06a3['FLOAT_VEC3']]=ds,this['pcUniformT'+'ype'][_0x2b06a3['FLOAT_VEC4']]=Rn,this['pcUniformT'+'ype'][_0x2b06a3['INT_VEC2']]=ca,this['pcUniformT'+'ype'][_0x2b06a3['INT_VEC3']]=ha,this['pcUniformT'+'ype'][_0x2b06a3['INT_VEC4']]=da,this['pcUniformT'+'ype'][_0x2b06a3['BOOL_VEC2']]=tl,this['pcUniformT'+'ype'][_0x2b06a3['BOOL_VEC3']]=sl,this['pcUniformT'+'ype'][_0x2b06a3['BOOL_VEC4']]=il,this['pcUniformT'+'ype'][_0x2b06a3['FLOAT_MAT2']]=_h,this['pcUniformT'+'ype'][_0x2b06a3['FLOAT_MAT3']]=On,this['pcUniformT'+'ype'][_0x2b06a3['FLOAT_MAT4']]=li,this['pcUniformT'+'ype'][_0x2b06a3['SAMPLER_2D']]=Hx,this['pcUniformT'+'ype'][_0x2b06a3['SAMPLER_CU'+'BE']]=Wx,this['pcUniformT'+'ype'][_0x2b06a3['UNSIGNED_I'+'NT']]=Fn,this['pcUniformT'+'ype'][_0x2b06a3['UNSIGNED_I'+'NT_VEC2']]=Nn,this['pcUniformT'+'ype'][_0x2b06a3['UNSIGNED_I'+'NT_VEC3']]=kn,this['pcUniformT'+'ype'][_0x2b06a3['UNSIGNED_I'+'NT_VEC4']]=Un,this['pcUniformT'+'ype'][_0x2b06a3['SAMPLER_2D'+'_SHADOW']]=$x,this['pcUniformT'+'ype'][_0x2b06a3['SAMPLER_CU'+'BE_SHADOW']]=Xx,this['pcUniformT'+'ype'][_0x2b06a3['SAMPLER_2D'+'_ARRAY']]=jx,this['pcUniformT'+'ype'][_0x2b06a3['SAMPLER_3D']]=qx,this['pcUniformT'+'ype'][_0x2b06a3['INT_SAMPLE'+'R_2D']]=Yx,this['pcUniformT'+'ype'][_0x2b06a3['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Kx,this['pcUniformT'+'ype'][_0x2b06a3['INT_SAMPLE'+'R_CUBE']]=Zx,this['pcUniformT'+'ype'][_0x2b06a3['UNSIGNED_I'+'NT_SAMPLER'+'_2D']]=Qx,this['pcUniformT'+'ype'][_0x2b06a3['INT_SAMPLE'+'R_3D']]=Jx,this['pcUniformT'+'ype'][_0x2b06a3['UNSIGNED_I'+'NT_SAMPLER'+'_3D']]=eT,this['pcUniformT'+'ype'][_0x2b06a3['INT_SAMPLE'+'R_2D_ARRAY']]=tT,this['pcUniformT'+'ype'][_0x2b06a3['UNSIGNED_I'+'NT_SAMPLER'+'_2D_ARRAY']]=sT,this['targetToSl'+'ot']={},this['targetToSl'+'ot'][_0x2b06a3['TEXTURE_2D']]=0x1ef8+0x16f*-0x4+-0x193c,this['targetToSl'+'ot'][_0x2b06a3['TEXTURE_CU'+'BE_MAP']]=0x1202*0x1+-0x81a*0x1+-0xa9*0xf,this['targetToSl'+'ot'][_0x2b06a3['TEXTURE_3D']]=-0x1ca0+-0x18ac*0x1+0x354e;let _0x24962b,_0x54e1b7,_0x2ac292,_0x258541,_0x3dae2a;this['commitFunc'+'tion']=[],this['commitFunc'+'tion'][Tn]=function(_0x146be6,_0x470374){_0x146be6['value']!==_0x470374&&(_0x2b06a3['uniform1i'](_0x146be6['locationId'],_0x470374),_0x146be6['value']=_0x470374);},this['commitFunc'+'tion'][_a]=this['commitFunc'+'tion'][Tn],this['commitFunc'+'tion'][Xs]=function(_0x274073,_0x4e7ac1){_0x274073['value']!==_0x4e7ac1&&(_0x2b06a3['uniform1f'](_0x274073['locationId'],_0x4e7ac1),_0x274073['value']=_0x4e7ac1);},this['commitFunc'+'tion'][ga]=function(_0x5890f4,_0xf5465e){_0x3dae2a=_0x5890f4['value'],_0x24962b=_0xf5465e[-0x191a+-0xd6*-0x25+-0x5d4],_0x54e1b7=_0xf5465e[-0x718*-0x1+0x4fe+-0xc15],(_0x3dae2a[0x1*-0xabb+-0x2367+0x2e22]!==_0x24962b||_0x3dae2a[-0x261d*-0x1+-0x249b+0xb*-0x23]!==_0x54e1b7)&&(_0x2b06a3['uniform2fv'](_0x5890f4['locationId'],_0xf5465e),_0x3dae2a[0x2*-0x5eb+-0x1b*0x26+0x6*0x2a4]=_0x24962b,_0x3dae2a[0x1e9b+-0xa0d+-0x148d]=_0x54e1b7);},this['commitFunc'+'tion'][ds]=function(_0x2d74dc,_0x117cc6){_0x3dae2a=_0x2d74dc['value'],_0x24962b=_0x117cc6[-0xcd8+-0x398+-0x107*-0x10],_0x54e1b7=_0x117cc6[0x25f8+-0x1b1+-0x2446],_0x2ac292=_0x117cc6[-0x2080+0x22ac+-0x22a],(_0x3dae2a[0xa07+-0x25*-0xdf+0x2a42*-0x1]!==_0x24962b||_0x3dae2a[-0x2*0x213+-0x19ff+0x1e26]!==_0x54e1b7||_0x3dae2a[-0x1a04+0x1c96+-0x290]!==_0x2ac292)&&(_0x2b06a3['uniform3fv'](_0x2d74dc['locationId'],_0x117cc6),_0x3dae2a[0x11*-0x215+0x3*0x56e+-0x43*-0x49]=_0x24962b,_0x3dae2a[-0x23cd+0x1*-0x1eb0+0x427e]=_0x54e1b7,_0x3dae2a[0x1373+-0x358+0x13d*-0xd]=_0x2ac292);},this['commitFunc'+'tion'][Rn]=function(_0x4f2f00,_0x351d24){_0x3dae2a=_0x4f2f00['value'],_0x24962b=_0x351d24[0x1*-0x1a89+0xd*-0xc5+0x6*0x617],_0x54e1b7=_0x351d24[-0x17ba+-0x19d8*0x1+0x3193],_0x2ac292=_0x351d24[0x78c+0xa9b+-0x1225],_0x258541=_0x351d24[-0xd*-0x2+0x52*0x4d+-0x18c1*0x1],(_0x3dae2a[-0x2559+0x1648+-0x227*-0x7]!==_0x24962b||_0x3dae2a[-0x2561+0x2*0xd04+0xb5a]!==_0x54e1b7||_0x3dae2a[0x1*0x2051+-0x17ee+-0x861]!==_0x2ac292||_0x3dae2a[-0x9*0xc7+0x18b0+0x49*-0x3e]!==_0x258541)&&(_0x2b06a3['uniform4fv'](_0x4f2f00['locationId'],_0x351d24),_0x3dae2a[0x1ea8+0x113c+-0x2fe4]=_0x24962b,_0x3dae2a[0xd5+0x256f+-0x2643]=_0x54e1b7,_0x3dae2a[0x7c5+-0x84e*0x2+0x8d9]=_0x2ac292,_0x3dae2a[0x1*0x212c+0xf7*-0x13+-0xed4]=_0x258541);},this['commitFunc'+'tion'][ca]=function(_0x49eb44,_0x3a2d76){_0x3dae2a=_0x49eb44['value'],_0x24962b=_0x3a2d76[0x5*0x392+0x48*0x32+-0x1fea],_0x54e1b7=_0x3a2d76[-0xfe5+-0x162f*-0x1+-0x649*0x1],(_0x3dae2a[-0xc8b*-0x2+0x1b92+-0x34a8]!==_0x24962b||_0x3dae2a[-0x24b4+0x1*0x7d6+-0x185*-0x13]!==_0x54e1b7)&&(_0x2b06a3['uniform2iv'](_0x49eb44['locationId'],_0x3a2d76),_0x3dae2a[-0x15*0x1b+0x1467+-0x1230]=_0x24962b,_0x3dae2a[-0x1520+0xc11+0x910]=_0x54e1b7);},this['commitFunc'+'tion'][tl]=this['commitFunc'+'tion'][ca],this['commitFunc'+'tion'][ha]=function(_0x86ac96,_0x16675a){_0x3dae2a=_0x86ac96['value'],_0x24962b=_0x16675a[0x17*0x126+0x1f3b+-0x39a5],_0x54e1b7=_0x16675a[-0x22fc+-0x21b7+0x112d*0x4],_0x2ac292=_0x16675a[0x283+-0x13*0x197+0x314*0x9],(_0x3dae2a[0xf65+-0x38f*-0x3+0x1*-0x1a12]!==_0x24962b||_0x3dae2a[-0x24f*0x3+-0x1ef7*0x1+0x25e5]!==_0x54e1b7||_0x3dae2a[0x1965+-0x3a1*-0x2+0x89*-0x3d]!==_0x2ac292)&&(_0x2b06a3['uniform3iv'](_0x86ac96['locationId'],_0x16675a),_0x3dae2a[-0xc56*0x3+0x23a9+0x159]=_0x24962b,_0x3dae2a[-0x573+-0x3ad+-0x921*-0x1]=_0x54e1b7,_0x3dae2a[0x1e8f*-0x1+0x2*-0xc20+0x36d1]=_0x2ac292);},this['commitFunc'+'tion'][sl]=this['commitFunc'+'tion'][ha],this['commitFunc'+'tion'][da]=function(_0x11a635,_0x59c737){_0x3dae2a=_0x11a635['value'],_0x24962b=_0x59c737[-0x310+-0x1cc+0x2*0x26e],_0x54e1b7=_0x59c737[0xb*0x53+-0x553+0x1c3],_0x2ac292=_0x59c737[0x7a7+0x11*0x51+-0x683*0x2],_0x258541=_0x59c737[0xe3a+-0x62a+-0x80d],(_0x3dae2a[-0x589*0x1+0x23bf+0xa12*-0x3]!==_0x24962b||_0x3dae2a[0x868+-0x87a+-0x13*-0x1]!==_0x54e1b7||_0x3dae2a[0x2b*-0x93+-0x8c8+0x217b]!==_0x2ac292||_0x3dae2a[-0x308*-0x9+0x51*-0x7+-0x190e]!==_0x258541)&&(_0x2b06a3['uniform4iv'](_0x11a635['locationId'],_0x59c737),_0x3dae2a[0x18af*-0x1+0xa09+0xea6]=_0x24962b,_0x3dae2a[0x12c5+0x1*-0xe98+-0x42c]=_0x54e1b7,_0x3dae2a[0x4a4*-0x1+-0x1148+0x15ee]=_0x2ac292,_0x3dae2a[0xe*0x293+0x204*-0xc+0x1b1*-0x7]=_0x258541);},this['commitFunc'+'tion'][il]=this['commitFunc'+'tion'][da],this['commitFunc'+'tion'][_h]=function(_0x22dda1,_0x5ae8ae){_0x2b06a3['uniformMat'+'rix2fv'](_0x22dda1['locationId'],!(-0x1125+-0xa7*0x3b+0x37a3),_0x5ae8ae);},this['commitFunc'+'tion'][On]=function(_0x4ee72c,_0x4566c6){_0x2b06a3['uniformMat'+'rix3fv'](_0x4ee72c['locationId'],!(0x1*0x6c8+0x82*-0x38+-0x5*-0x455),_0x4566c6);},this['commitFunc'+'tion'][li]=function(_0x42f5bb,_0x5868c3){_0x2b06a3['uniformMat'+'rix4fv'](_0x42f5bb['locationId'],!(0x2126*-0x1+0x10b1*-0x1+0x31d8),_0x5868c3);},this['commitFunc'+'tion'][ud]=function(_0x133a1d,_0x586b71){_0x2b06a3['uniform1fv'](_0x133a1d['locationId'],_0x586b71);},this['commitFunc'+'tion'][pd]=function(_0x710fd7,_0xf6edc0){_0x2b06a3['uniform2fv'](_0x710fd7['locationId'],_0xf6edc0);},this['commitFunc'+'tion'][md]=function(_0x464061,_0x3561d6){_0x2b06a3['uniform3fv'](_0x464061['locationId'],_0x3561d6);},this['commitFunc'+'tion'][Lp]=function(_0x5c4df0,_0x591d0c){_0x2b06a3['uniform4fv'](_0x5c4df0['locationId'],_0x591d0c);},this['commitFunc'+'tion'][Fn]=function(_0x2fd162,_0x2a2ca2){_0x2fd162['value']!==_0x2a2ca2&&(_0x2b06a3['uniform1ui'](_0x2fd162['locationId'],_0x2a2ca2),_0x2fd162['value']=_0x2a2ca2);},this['commitFunc'+'tion'][Nn]=function(_0x5d9441,_0x5cf9f0){_0x3dae2a=_0x5d9441['value'],_0x24962b=_0x5cf9f0[-0x3e9*0x4+0x1465+-0x4c1*0x1],_0x54e1b7=_0x5cf9f0[-0x3*0x56d+0x968*-0x1+0x18*0x112],(_0x3dae2a[0x524+-0x99a+0x476]!==_0x24962b||_0x3dae2a[-0x1528+-0x16*-0x14+-0x3f*-0x4f]!==_0x54e1b7)&&(_0x2b06a3['uniform2ui'+'v'](_0x5d9441['locationId'],_0x5cf9f0),_0x3dae2a[0x664*0x1+-0x23aa+0x1d46]=_0x24962b,_0x3dae2a[-0x18e6+-0x1*-0xb34+0x1f5*0x7]=_0x54e1b7);},this['commitFunc'+'tion'][kn]=function(_0x5b5ec6,_0x35ab74){_0x3dae2a=_0x5b5ec6['value'],_0x24962b=_0x35ab74[0x194c+-0xe5*0x2+-0x1782],_0x54e1b7=_0x35ab74[0x22a3+-0x22f5+-0x53*-0x1],_0x2ac292=_0x35ab74[0x13*-0xef+0x6f4+0xacb*0x1],(_0x3dae2a[0x18b5*-0x1+-0x287*-0x9+0x2*0xfb]!==_0x24962b||_0x3dae2a[0x205b+-0x2*-0x47f+-0x3f*0xa8]!==_0x54e1b7||_0x3dae2a[0x1a08+0x1*-0x1f1b+0x515]!==_0x2ac292)&&(_0x2b06a3['uniform3ui'+'v'](_0x5b5ec6['locationId'],_0x35ab74),_0x3dae2a[0x2*0x7e8+-0x6a5+-0x92b]=_0x24962b,_0x3dae2a[0xe64+-0x256a+0x49b*0x5]=_0x54e1b7,_0x3dae2a[-0x20fe+-0xc7d+0x2d7d]=_0x2ac292);},this['commitFunc'+'tion'][Un]=function(_0x57e2d9,_0x7c8c0b){_0x3dae2a=_0x57e2d9['value'],_0x24962b=_0x7c8c0b[0x11f6+0x1*0xb99+-0x1d8f],_0x54e1b7=_0x7c8c0b[0x1*-0x73+-0x241f+0x2493],_0x2ac292=_0x7c8c0b[0x1d*-0x91+-0xe2c+0x1e9b],_0x258541=_0x7c8c0b[0x1573*0x1+-0x676*-0x2+0x1*-0x225c],(_0x3dae2a[-0x4c6*-0x1+-0x1*0x16c7+0x1201]!==_0x24962b||_0x3dae2a[-0x67*0xb+0x1*0xcc8+-0x2*0x42d]!==_0x54e1b7||_0x3dae2a[-0xc47+-0x81*-0x2e+-0x1*0xae5]!==_0x2ac292||_0x3dae2a[-0x214+-0x1b3*0x10+0x1d47]!==_0x258541)&&(_0x2b06a3['uniform4ui'+'v'](_0x57e2d9['locationId'],_0x7c8c0b),_0x3dae2a[0x1e1f+0x3*0x65b+-0x1*0x3130]=_0x24962b,_0x3dae2a[-0x4*0x10c+0xaaa+-0x679]=_0x54e1b7,_0x3dae2a[0x179*0x19+-0x19*-0x48+0x183*-0x1d]=_0x2ac292,_0x3dae2a[-0x2475+0x7c7+0x1cb1]=_0x258541);},this['commitFunc'+'tion'][Bn]=function(_0x3db0b3,_0x1d665b){_0x2b06a3['uniform1iv'](_0x3db0b3['locationId'],_0x1d665b);},this['commitFunc'+'tion'][_d]=function(_0x4367fa,_0xef93fd){_0x2b06a3['uniform1ui'+'v'](_0x4367fa['locationId'],_0xef93fd);},this['commitFunc'+'tion'][gd]=this['commitFunc'+'tion'][Bn],this['commitFunc'+'tion'][zn]=function(_0x58422d,_0x45a37f){_0x2b06a3['uniform2iv'](_0x58422d['locationId'],_0x45a37f);},this['commitFunc'+'tion'][Sd]=function(_0x141c2c,_0x4ce37b){_0x2b06a3['uniform2ui'+'v'](_0x141c2c['locationId'],_0x4ce37b);},this['commitFunc'+'tion'][yd]=this['commitFunc'+'tion'][zn],this['commitFunc'+'tion'][Vn]=function(_0x5b611a,_0x41241e){_0x2b06a3['uniform3iv'](_0x5b611a['locationId'],_0x41241e);},this['commitFunc'+'tion'][vd]=function(_0x3b409b,_0x34b9b2){_0x2b06a3['uniform3ui'+'v'](_0x3b409b['locationId'],_0x34b9b2);},this['commitFunc'+'tion'][xd]=this['commitFunc'+'tion'][Vn],this['commitFunc'+'tion'][gh]=function(_0x3a27cc,_0x216090){_0x2b06a3['uniform4iv'](_0x3a27cc['locationId'],_0x216090);},this['commitFunc'+'tion'][Rp]=function(_0xc4dcf5,_0x301bb6){_0x2b06a3['uniform4ui'+'v'](_0xc4dcf5['locationId'],_0x301bb6);},this['commitFunc'+'tion'][Op]=this['commitFunc'+'tion'][gh],this['commitFunc'+'tion'][wy]=function(_0x2df17a,_0x492904){_0x2b06a3['uniformMat'+'rix4fv'](_0x2df17a['locationId'],!(-0xa94*0x1+-0xdff*-0x1+-0x36a),_0x492904);},this['constantTe'+'xSource']=this['scope']['resolve']('source'),this['postInit']();}['postInit'](){super['postInit'](),this['gpuProfile'+'r']=new rw(this);}['destroy'](){super['destroy']();const _0x32ac51=this['gl'];this['feedback']&&_0x32ac51['deleteTran'+'sformFeedb'+'ack'](this['feedback']),this['clearVerte'+'xArrayObje'+'ctCache'](),this['canvas']['removeEven'+'tListener']('webglconte'+'xtlost',this['_contextLo'+'stHandler'],!(0x73d+0x22*-0x38+0x34*0x1)),this['canvas']['removeEven'+'tListener']('webglconte'+'xtrestored',this['_contextRe'+'storedHand'+'ler'],!(0x1b39+-0x2062+0x2*0x295)),this['_contextLo'+'stHandler']=null,this['_contextRe'+'storedHand'+'ler']=null,this['gl']=null,super['postDestro'+'y']();}['createBack'+'buffer'](_0x5bbdd5){this['supportsSt'+'encil']=this['initOption'+'s']['stencil'],this['backBuffer']=new gt({'name':'WebglFrame'+'buffer','graphicsDevice':this,'depth':this['initOption'+'s']['depth'],'stencil':this['supportsSt'+'encil'],'samples':this['samples']}),this['backBuffer']['impl']['suppliedCo'+'lorFramebu'+'ffer']=_0x5bbdd5;}['updateBack'+'bufferForm'+'at'](_0x56f6ee){const _0x3898ec=this['gl'];_0x3898ec['bindFrameb'+'uffer'](_0x3898ec['FRAMEBUFFE'+'R'],_0x56f6ee);const _0x49c602=this['gl']['getParamet'+'er'](this['gl']['ALPHA_BITS']);this['backBuffer'+'Format']=_0x49c602?Ne:Cr;}['updateBack'+'buffer'](){const _0x4b2812=this['canvas']['width']!==this['backBuffer'+'Size']['x']||this['canvas']['height']!==this['backBuffer'+'Size']['y'];(this['_defaultFr'+'amebufferC'+'hanged']||_0x4b2812)&&(this['_defaultFr'+'amebufferC'+'hanged']&&this['updateBack'+'bufferForm'+'at'](this['_defaultFr'+'amebuffer']),this['_defaultFr'+'amebufferC'+'hanged']=!(-0x1b78+0x1*0xdb4+0xdc5*0x1),this['backBuffer'+'Size']['set'](this['canvas']['width'],this['canvas']['height']),this['backBuffer']['destroy'](),this['createBack'+'buffer'](this['_defaultFr'+'amebuffer']));}['createVert'+'exBufferIm'+'pl'](_0x32c78f,_0x4c70c9){return new XT();}['createInde'+'xBufferImp'+'l'](_0x28db3b){return new qT(_0x28db3b);}['createShad'+'erImpl'](_0x2acec1){return new JT(_0x2acec1);}['createText'+'ureImpl'](_0x2d2d69){return new ew(_0x2d2d69);}['createRend'+'erTargetIm'+'pl'](_0x2a9269){return new sw();}['pushMarker'](_0x2c0924){if(Ae['browser']&&window['spector']){const _0x185c73=Q['toString']();window['spector']['setMarker'](_0x185c73+'\x20#');}}['popMarker'](){if(Ae['browser']&&window['spector']){const _0x250a79=Q['toString']();_0x250a79['length']?window['spector']['setMarker'](_0x250a79+'\x20#'):window['spector']['clearMarke'+'r']();}}['getPrecisi'+'on'](){const _0x425549=this['gl'];let _0x347cad='highp';if(_0x425549['getShaderP'+'recisionFo'+'rmat']){const _0x4a0716=_0x425549['getShaderP'+'recisionFo'+'rmat'](_0x425549['VERTEX_SHA'+'DER'],_0x425549['HIGH_FLOAT']),_0x2a73a8=_0x425549['getShaderP'+'recisionFo'+'rmat'](_0x425549['VERTEX_SHA'+'DER'],_0x425549['MEDIUM_FLO'+'AT']),_0x3a79ff=_0x425549['getShaderP'+'recisionFo'+'rmat'](_0x425549['FRAGMENT_S'+'HADER'],_0x425549['HIGH_FLOAT']),_0x5f074e=_0x425549['getShaderP'+'recisionFo'+'rmat'](_0x425549['FRAGMENT_S'+'HADER'],_0x425549['MEDIUM_FLO'+'AT']);if(_0x4a0716&&_0x2a73a8&&_0x3a79ff&&_0x5f074e){const _0x344173=_0x4a0716['precision']>0x21cf*-0x1+-0x21b8+-0x1*-0x4387&&_0x3a79ff['precision']>-0x25f0+0x2*-0x4ee+0x2fcc,_0x2652cb=_0x2a73a8['precision']>0x231d+0xa7*0x5+0x4cc*-0x8&&_0x5f074e['precision']>-0xf37+0xfc7+-0x90;_0x344173||(_0x2652cb?(_0x347cad='mediump',w['warn']('WARNING:\x20h'+'ighp\x20not\x20s'+'upported,\x20'+'using\x20medi'+'ump')):(_0x347cad='lowp',w['warn']('WARNING:\x20h'+'ighp\x20and\x20m'+'ediump\x20not'+'\x20supported'+',\x20using\x20lo'+'wp')));}}return _0x347cad;}['getExtensi'+'on'](){for(let _0x4681c7=-0xbe6+0xdb1*0x1+-0x11*0x1b;_0x4681c7<arguments['length'];_0x4681c7++)if(this['supportedE'+'xtensions']['indexOf'](arguments[_0x4681c7])!==-(0x4d*-0x7c+0x3*0x43+0x4c*0x7b))return this['gl']['getExtensi'+'on'](arguments[_0x4681c7]);return null;}get['extDisjoin'+'tTimerQuer'+'y'](){return this['_extDisjoi'+'ntTimerQue'+'ry']||(this['_extDisjoi'+'ntTimerQue'+'ry']=this['getExtensi'+'on']('EXT_disjoi'+'nt_timer_q'+'uery_webgl'+'2','EXT_disjoi'+'nt_timer_q'+'uery')),this['_extDisjoi'+'ntTimerQue'+'ry'];}['initialize'+'Extensions'](){const _0x7f8386=this['gl'];this['supportedE'+'xtensions']=_0x7f8386['getSupport'+'edExtensio'+'ns']()??[],this['_extDisjoi'+'ntTimerQue'+'ry']=null,this['textureRG1'+'1B10Render'+'able']=!(-0x2213+-0x11b+0x232e*0x1),this['extColorBu'+'fferFloat']=this['getExtensi'+'on']('EXT_color_'+'buffer_flo'+'at'),this['textureFlo'+'atRenderab'+'le']=!!this['extColorBu'+'fferFloat'],this['extColorBu'+'fferHalfFl'+'oat']=this['getExtensi'+'on']('EXT_color_'+'buffer_hal'+'f_float'),this['textureHal'+'fFloatRend'+'erable']=!!this['extColorBu'+'fferHalfFl'+'oat']||!!this['extColorBu'+'fferFloat'],this['extDebugRe'+'ndererInfo']=this['getExtensi'+'on']('WEBGL_debu'+'g_renderer'+'_info'),this['extTexture'+'FloatLinea'+'r']=this['getExtensi'+'on']('OES_textur'+'e_float_li'+'near'),this['textureFlo'+'atFilterab'+'le']=!!this['extTexture'+'FloatLinea'+'r'],this['extFloatBl'+'end']=this['getExtensi'+'on']('EXT_float_'+'blend'),this['extTexture'+'FilterAnis'+'otropic']=this['getExtensi'+'on']('EXT_textur'+'e_filter_a'+'nisotropic','WEBKIT_EXT'+'_texture_f'+'ilter_anis'+'otropic'),this['extParalle'+'lShaderCom'+'pile']=this['getExtensi'+'on']('KHR_parall'+'el_shader_'+'compile'),this['extCompres'+'sedTexture'+'ETC1']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc1'),this['extCompres'+'sedTexture'+'ETC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_etc'),this['extCompres'+'sedTexture'+'PVRTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_pvrtc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_pvrtc'),this['extCompres'+'sedTexture'+'S3TC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc','WEBKIT_WEB'+'GL_compres'+'sed_textur'+'e_s3tc'),this['extCompres'+'sedTexture'+'S3TC_SRGB']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_s3tc_'+'srgb'),this['extCompres'+'sedTexture'+'ATC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_atc'),this['extCompres'+'sedTexture'+'ASTC']=this['getExtensi'+'on']('WEBGL_comp'+'ressed_tex'+'ture_astc'),this['extTexture'+'Compressio'+'nBPTC']=this['getExtensi'+'on']('EXT_textur'+'e_compress'+'ion_bptc');}['initialize'+'Capabiliti'+'es'](){const _0xa34757=this['gl'];let _0x1efa77;const _0x33886c=typeof navigator<'u'?navigator['userAgent']:'';this['maxPrecisi'+'on']=this['precision']=this['getPrecisi'+'on']();const _0x104178=_0xa34757['getContext'+'Attributes']();this['supportsMs'+'aa']=(_0x104178==null?void(0x23cc+-0x1a13+0x9b9*-0x1):_0x104178['antialias'])??!(0x4a2*-0x1+0x12a8+-0xe05),this['supportsSt'+'encil']=(_0x104178==null?void(0x5b1+0x1d60+-0x2311):_0x104178['stencil'])??!(-0x49d+-0x2315+-0x27b3*-0x1),this['maxTexture'+'Size']=_0xa34757['getParamet'+'er'](_0xa34757['MAX_TEXTUR'+'E_SIZE']),this['maxCubeMap'+'Size']=_0xa34757['getParamet'+'er'](_0xa34757['MAX_CUBE_M'+'AP_TEXTURE'+'_SIZE']),this['maxRenderB'+'ufferSize']=_0xa34757['getParamet'+'er'](_0xa34757['MAX_RENDER'+'BUFFER_SIZ'+'E']),this['maxTexture'+'s']=_0xa34757['getParamet'+'er'](_0xa34757['MAX_TEXTUR'+'E_IMAGE_UN'+'ITS']),this['maxCombine'+'dTextures']=_0xa34757['getParamet'+'er'](_0xa34757['MAX_COMBIN'+'ED_TEXTURE'+'_IMAGE_UNI'+'TS']),this['maxVertexT'+'extures']=_0xa34757['getParamet'+'er'](_0xa34757['MAX_VERTEX'+'_TEXTURE_I'+'MAGE_UNITS']),this['vertexUnif'+'ormsCount']=_0xa34757['getParamet'+'er'](_0xa34757['MAX_VERTEX'+'_UNIFORM_V'+'ECTORS']),this['fragmentUn'+'iformsCoun'+'t']=_0xa34757['getParamet'+'er'](_0xa34757['MAX_FRAGME'+'NT_UNIFORM'+'_VECTORS']),this['maxColorAt'+'tachments']=_0xa34757['getParamet'+'er'](_0xa34757['MAX_COLOR_'+'ATTACHMENT'+'S']),this['maxVolumeS'+'ize']=_0xa34757['getParamet'+'er'](_0xa34757['MAX_3D_TEX'+'TURE_SIZE']),_0x1efa77=this['extDebugRe'+'ndererInfo'],this['unmaskedRe'+'nderer']=_0x1efa77?_0xa34757['getParamet'+'er'](_0x1efa77['UNMASKED_R'+'ENDERER_WE'+'BGL']):'',this['unmaskedVe'+'ndor']=_0x1efa77?_0xa34757['getParamet'+'er'](_0x1efa77['UNMASKED_V'+'ENDOR_WEBG'+'L']):'';const _0x160bf1=/\bMali-G52+/,_0x22a4e0=/SM-[a-zA-Z0-9]+/;this['supportsGp'+'uParticles']=!(this['unmaskedVe'+'ndor']==='ARM'&&_0x33886c['match'](_0x22a4e0))&&!this['unmaskedRe'+'nderer']['match'](_0x160bf1),_0x1efa77=this['extTexture'+'FilterAnis'+'otropic'],this['maxAnisotr'+'opy']=_0x1efa77?_0xa34757['getParamet'+'er'](_0x1efa77['MAX_TEXTUR'+'E_MAX_ANIS'+'OTROPY_EXT']):-0x21f6+0x1*-0x26c3+0x282*0x1d;const _0x333adf=!this['forceDisab'+'leMultisam'+'pling'];this['maxSamples']=_0x333adf?_0xa34757['getParamet'+'er'](_0xa34757['MAX_SAMPLE'+'S']):0x4a9*-0x2+-0x1e8f*-0x1+-0x1c5*0xc,this['maxSamples']=Math['min'](this['maxSamples'],-0x1ad+0x35*-0x7c+-0x579*-0x5),this['samples']=_0x333adf&&this['backBuffer'+'Antialias']?this['maxSamples']:-0x1a*0x139+-0x237d+0x4348,this['supportsAr'+'eaLights']=!Ae['android'],this['maxTexture'+'s']<=0x7a*0x1f+-0x4c*-0x3a+-0x1ff6&&(this['supportsAr'+'eaLights']=!(-0xdce+0x917+0x4b8)),this['initCapsDe'+'fines']();}['initialize'+'RenderStat'+'e'](){super['initialize'+'RenderStat'+'e']();const _0x50838b=this['gl'];_0x50838b['disable'](_0x50838b['BLEND']),_0x50838b['blendFunc'](_0x50838b['ONE'],_0x50838b['ZERO']),_0x50838b['blendEquat'+'ion'](_0x50838b['FUNC_ADD']),_0x50838b['colorMask'](!(0x1e70+-0x1*-0x25cf+-0x443f*0x1),!(0x1628+0x124*-0x1b+0x8a4),!(0xd*-0xa4+0x15cb+0x1*-0xd77),!(-0xcf2+0x1714+-0x1*0xa22)),_0x50838b['blendColor'](-0x2*-0xe4b+0x530+-0x21c6,0xd00+-0x911*0x4+0x1744,0x19e*-0x1+0x779+-0x5db,0x2107+-0x1*-0x1e91+-0x128*0x37),_0x50838b['enable'](_0x50838b['CULL_FACE']),this['cullFace']=_0x50838b['BACK'],_0x50838b['cullFace'](_0x50838b['BACK']),_0x50838b['enable'](_0x50838b['DEPTH_TEST']),_0x50838b['depthFunc'](_0x50838b['LEQUAL']),_0x50838b['depthMask'](!(0x195e+0x383*-0x1+-0x5*0x45f)),this['stencil']=!(0xcbf+0x2e*-0xd+-0xa68),_0x50838b['disable'](_0x50838b['STENCIL_TE'+'ST']),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=Wi,this['stencilRef'+'Front']=this['stencilRef'+'Back']=-0x79f*0x2+0x6e9+-0x1*-0x855,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=-0x1cf2+0x1*-0x7cf+0x25c0,_0x50838b['stencilFun'+'c'](_0x50838b['ALWAYS'],0x26*-0x79+0x1bc*0x6+0x78e,-0x2631+0x17c0+0xf70),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=xn,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=xn,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=xn,this['stencilWri'+'teMaskFron'+'t']=-0x351+-0x1475+0x18c5*0x1,this['stencilWri'+'teMaskBack']=0xeb*-0xa+0x3*0xad4+-0x164f,_0x50838b['stencilOp'](_0x50838b['KEEP'],_0x50838b['KEEP'],_0x50838b['KEEP']),_0x50838b['stencilMas'+'k'](0xf*-0x17d+-0x13f0+0x2b42),this['alphaToCov'+'erage']=!(-0x1*-0x1fd6+0x808+-0x27dd),this['raster']=!(-0x18*-0x109+-0x225d+0x985*0x1),_0x50838b['disable'](_0x50838b['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']),_0x50838b['disable'](_0x50838b['RASTERIZER'+'_DISCARD']),this['depthBiasE'+'nabled']=!(-0x4d*0x76+-0x2c1*0x1+0x2640),_0x50838b['disable'](_0x50838b['POLYGON_OF'+'FSET_FILL']),this['clearDepth']=-0x7*-0x359+0x2231*0x1+-0xb*0x53d,_0x50838b['clearDepth'](-0x63*-0x5+-0x2*-0xe5d+-0x4*0x7aa),this['clearColor']=new ie(-0x593+0x2*-0x277+-0x1*-0xa81,0x1*-0x1453+0x1646+0x1f3*-0x1,0x1*-0x1fd2+0x1e62*-0x1+0x3e34,-0x34*-0x35+0x502+0x3*-0x542),_0x50838b['clearColor'](0x16f*0x10+-0x2*-0x759+-0x25a2,0x1*0x1556+-0x26a2+0x114c,-0x6b*0x3+0x8f2+-0x7b1,-0xcde+-0x2*-0x9e7+-0x128*0x6),this['clearStenc'+'il']=-0x1c07+-0x18*0x9d+0x2abf,_0x50838b['clearStenc'+'il'](0x577*-0x1+-0xd*0xe+-0x5d*-0x11),_0x50838b['hint'](_0x50838b['FRAGMENT_S'+'HADER_DERI'+'VATIVE_HIN'+'T'],_0x50838b['NICEST']),_0x50838b['enable'](_0x50838b['SCISSOR_TE'+'ST']),_0x50838b['pixelStore'+'i'](_0x50838b['UNPACK_COL'+'ORSPACE_CO'+'NVERSION_W'+'EBGL'],_0x50838b['NONE']),this['unpackFlip'+'Y']=!(0x1f9+-0x1789+-0x1*-0x1591),_0x50838b['pixelStore'+'i'](_0x50838b['UNPACK_FLI'+'P_Y_WEBGL'],!(0xe93+-0x13f+0x17b*-0x9)),this['unpackPrem'+'ultiplyAlp'+'ha']=!(-0x37e*-0x8+0x40*0x20+-0x23ef),_0x50838b['pixelStore'+'i'](_0x50838b['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],!(-0x16ae*-0x1+-0x1955+0x2a8)),_0x50838b['pixelStore'+'i'](_0x50838b['UNPACK_ALI'+'GNMENT'],-0xffc+0x1cc8+-0xccb);}['initTextur'+'eUnits'](_0x1e89d7=-0x243d+0x1*-0x11a7+0x35f4){this['textureUni'+'ts']=[];for(let _0x5392f4=0x871*-0x1+0x18a4+-0x1d*0x8f;_0x5392f4<_0x1e89d7;_0x5392f4++)this['textureUni'+'ts']['push']([null,null,null]);}['initialize'+'ContextCac'+'hes'](){super['initialize'+'ContextCac'+'hes'](),this['_vaoMap']=new Map(),this['boundVao']=null,this['activeFram'+'ebuffer']=null,this['feedback']=null,this['transformF'+'eedbackBuf'+'fer']=null,this['textureUni'+'t']=-0x14bd*0x1+0x3a9+0x1114*0x1,this['initTextur'+'eUnits'](this['maxCombine'+'dTextures']);}['loseContex'+'t'](){super['loseContex'+'t']();for(const _0x5c39a7 of this['shaders'])_0x5c39a7['loseContex'+'t']();}['restoreCon'+'text'](){this['initialize'+'Extensions'](),this['initialize'+'Capabiliti'+'es'](),super['restoreCon'+'text']();for(const _0x194a50 of this['shaders'])_0x194a50['restoreCon'+'text']();}['setViewpor'+'t'](_0x4395fd,_0x360e14,_0x4ab154,_0x1051e6){(this['vx']!==_0x4395fd||this['vy']!==_0x360e14||this['vw']!==_0x4ab154||this['vh']!==_0x1051e6)&&(this['gl']['viewport'](_0x4395fd,_0x360e14,_0x4ab154,_0x1051e6),this['vx']=_0x4395fd,this['vy']=_0x360e14,this['vw']=_0x4ab154,this['vh']=_0x1051e6);}['setScissor'](_0x4cba5b,_0x27d60a,_0x562bee,_0x57efdc){(this['sx']!==_0x4cba5b||this['sy']!==_0x27d60a||this['sw']!==_0x562bee||this['sh']!==_0x57efdc)&&(this['gl']['scissor'](_0x4cba5b,_0x27d60a,_0x562bee,_0x57efdc),this['sx']=_0x4cba5b,this['sy']=_0x27d60a,this['sw']=_0x562bee,this['sh']=_0x57efdc);}['setFramebu'+'ffer'](_0x1f070f){if(this['activeFram'+'ebuffer']!==_0x1f070f){const _0x2551d3=this['gl'];_0x2551d3['bindFrameb'+'uffer'](_0x2551d3['FRAMEBUFFE'+'R'],_0x1f070f),this['activeFram'+'ebuffer']=_0x1f070f;}}['copyRender'+'Target'](_0x9581f5,_0x108392,_0x4f418d,_0x517b20){var _0x371e20,_0x410995;const _0x456597=this['gl'];if(_0x9581f5===this['backBuffer']&&(_0x9581f5=null),_0x4f418d){if(_0x108392){if(_0x9581f5){if(!_0x9581f5['_colorBuff'+'er']||!_0x108392['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20color\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x13d0+-0x777*-0x1+-0x20f*-0x6);if(_0x9581f5['_colorBuff'+'er']['_format']!==_0x108392['_colorBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20c'+'olor\x20forma'+'ts'),!(0x2672+0x2*0x1292+-0x1*0x4b95);}}else{if(!_0x9581f5['_colorBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20empty\x20col'+'or\x20buffer\x20'+'to\x20backbuf'+'fer'),!(-0x16d6+-0x1fc2+0x3699);}}if(_0x517b20&&_0x9581f5&&!_0x9581f5['_depth']){if(!_0x9581f5['_depthBuff'+'er']||!_0x108392['_depthBuff'+'er'])return w['error']('Can\x27t\x20copy'+'\x20depth\x20buf'+'fer,\x20becau'+'se\x20one\x20of\x20'+'the\x20render'+'\x20targets\x20d'+'oesn\x27t\x20hav'+'e\x20it'),!(-0x258+-0x19be+0x1c17);if(_0x9581f5['_depthBuff'+'er']['_format']!==_0x108392['_depthBuff'+'er']['_format'])return w['error']('Can\x27t\x20copy'+'\x20render\x20ta'+'rgets\x20of\x20d'+'ifferent\x20d'+'epth\x20forma'+'ts'),!(-0xa39+0xa70+-0x36);}Q['pushGpuMar'+'ker'](this,'COPY-RT');const _0xd1330f=this['renderTarg'+'et'];this['renderTarg'+'et']=_0x108392,this['updateBegi'+'n']();const _0x374b0f=_0x9581f5?_0x9581f5['impl']['_glFrameBu'+'ffer']:(_0x371e20=this['backBuffer'])==null?void(-0x6*-0x193+-0xd61*0x1+0x3ef*0x1):_0x371e20['impl']['_glFrameBu'+'ffer'],_0x370b14=_0x108392?_0x108392['impl']['_glFrameBu'+'ffer']:(_0x410995=this['backBuffer'])==null?void(0x5*0x127+0x13b4+-0x9f*0x29):_0x410995['impl']['_glFrameBu'+'ffer'];w['assert'](_0x374b0f!==_0x370b14,'Source\x20and'+'\x20destinati'+'on\x20framebu'+'ffers\x20must'+'\x20be\x20differ'+'ent\x20when\x20b'+'litting.'),_0x456597['bindFrameb'+'uffer'](_0x456597['READ_FRAME'+'BUFFER'],_0x374b0f),_0x456597['bindFrameb'+'uffer'](_0x456597['DRAW_FRAME'+'BUFFER'],_0x370b14);const _0x4fb0f7=_0x9581f5?_0x9581f5['width']:_0x108392?_0x108392['width']:this['width'],_0x39e9eb=_0x9581f5?_0x9581f5['height']:_0x108392?_0x108392['height']:this['height'];return _0x456597['blitFrameb'+'uffer'](0x12bf*-0x2+-0xa3*0x1c+-0x2*-0x1ba9,-0xd1a+0x1*-0x869+-0x1583*-0x1,_0x4fb0f7,_0x39e9eb,-0xbdd*0x3+-0x3a9*-0x5+-0x2*-0x8a5,0x150f+-0x114a+-0x3c5,_0x4fb0f7,_0x39e9eb,(_0x4f418d?_0x456597['COLOR_BUFF'+'ER_BIT']:-0xd2c+-0x1e55*0x1+0x2b81)|(_0x517b20?_0x456597['DEPTH_BUFF'+'ER_BIT']:0x1d*-0x12c+0x1f33+0x1f*0x17),_0x456597['NEAREST']),this['renderTarg'+'et']=_0xd1330f,_0x456597['bindFrameb'+'uffer'](_0x456597['FRAMEBUFFE'+'R'],_0xd1330f?_0xd1330f['impl']['_glFrameBu'+'ffer']:null),Q['popGpuMark'+'er'](this),!(0x1114+0x16b9+-0x27cd);}['frameStart'](){super['frameStart'](),this['updateBack'+'buffer'](),this['gpuProfile'+'r']['frameStart']();}['frameEnd'](){super['frameEnd'](),this['gpuProfile'+'r']['frameEnd'](),this['gpuProfile'+'r']['request']();}['startRende'+'rPass'](_0x5b433a){const _0x52618a=_0x5b433a['renderTarg'+'et']??this['backBuffer'];this['renderTarg'+'et']=_0x52618a,w['assert'](_0x52618a),Q['pushGpuMar'+'ker'](this,'Pass:'+_0x5b433a['name']+'\x20RT:'+_0x52618a['name']),Q['pushGpuMar'+'ker'](this,'START-PASS'),this['updateBegi'+'n']();const {width:_0x5b08e9,height:_0x4e2080}=_0x52618a;this['setViewpor'+'t'](-0x1419*0x1+0x24c1+-0x10a8,-0x1*-0x1da5+0xbfb*-0x3+-0x34*-0x1f,_0x5b08e9,_0x4e2080),this['setScissor'](0x4c4+0x62a*-0x1+-0x1*-0x166,-0x4*-0x538+-0x1e67+0x987,_0x5b08e9,_0x4e2080);const _0x11a9d5=_0x5b433a['colorOps'],_0x3370ff=_0x5b433a['depthStenc'+'ilOps'];if(_0x11a9d5!=null&&_0x11a9d5['clear']||_0x3370ff['clearDepth']||_0x3370ff['clearStenc'+'il']){let _0x2f2199=0x9*0x2cc+0x10ec+-0x2a18;const _0x3adb6a={};_0x11a9d5!=null&&_0x11a9d5['clear']&&(_0x2f2199|=jo,_0x3adb6a['color']=[_0x11a9d5['clearValue']['r'],_0x11a9d5['clearValue']['g'],_0x11a9d5['clearValue']['b'],_0x11a9d5['clearValue']['a']]),_0x3370ff['clearDepth']&&(_0x2f2199|=Yo,_0x3adb6a['depth']=_0x3370ff['clearDepth'+'Value']),_0x3370ff['clearStenc'+'il']&&(_0x2f2199|=ch,_0x3adb6a['stencil']=_0x3370ff['clearStenc'+'ilValue']),_0x3adb6a['flags']=_0x2f2199,this['clear'](_0x3adb6a);}w['call'](()=>{this['insideRend'+'erPass']&&w['errorOnce']('RenderPass'+'\x20cannot\x20be'+'\x20started\x20w'+'hile\x20insid'+'e\x20another\x20'+'render\x20pas'+'s.');}),this['insideRend'+'erPass']=!(0x26dd+-0x18d2+-0xe0b),Q['popGpuMark'+'er'](this);}['endRenderP'+'ass'](_0x28c857){var _0x2c1d81;Q['pushGpuMar'+'ker'](this,'END-PASS'),this['unbindVert'+'exArray']();const _0x553143=this['renderTarg'+'et'],_0x39c75b=_0x28c857['colorArray'+'Ops']['length'];if(_0x553143){Da['length']=-0xe74+-0x33b*-0x4+0x188;const _0x1428ae=this['gl'];for(let _0x41269b=-0x18c3+-0x5*-0x1d6+0xf95*0x1;_0x41269b<_0x39c75b;_0x41269b++){const _0x430e6e=_0x28c857['colorArray'+'Ops'][_0x41269b];_0x430e6e['store']||_0x430e6e['resolve']||Da['push'](_0x1428ae['COLOR_ATTA'+'CHMENT0']+_0x41269b);}_0x553143!==this['backBuffer']&&(_0x28c857['depthStenc'+'ilOps']['storeDepth']||Da['push'](_0x1428ae['DEPTH_ATTA'+'CHMENT']),_0x28c857['depthStenc'+'ilOps']['storeStenc'+'il']||Da['push'](_0x1428ae['STENCIL_AT'+'TACHMENT'])),Da['length']>-0x1*0x108e+-0x5*0x47d+0x95*0x43&&_0x28c857['fullSizeCl'+'earRect']&&_0x1428ae['invalidate'+'Framebuffe'+'r'](_0x1428ae['DRAW_FRAME'+'BUFFER'],Da),_0x39c75b&&((_0x2c1d81=_0x28c857['colorOps'])!=null&&_0x2c1d81['resolve'])&&_0x28c857['samples']>-0x109+0x17*0x157+-0x1dc7&&_0x553143['autoResolv'+'e']&&_0x553143['resolve'](!(0x1b*0x121+-0x18db+-0xb4*0x8),!(-0xf*-0xe+-0x1*0x2021+0x7d4*0x4)),_0x553143['depthBuffe'+'r']&&_0x28c857['depthStenc'+'ilOps']['resolveDep'+'th']&&_0x28c857['samples']>0x10d0*-0x1+0x469*-0x8+-0x3419*-0x1&&_0x553143['autoResolv'+'e']&&_0x553143['resolve'](!(-0xe7*-0x25+-0x19da+-0x788),!(-0x1a9e+-0xc6*0x9+0x2194));for(let _0x3a2dde=0x1190+0x1c96+0x6*-0x7b1;_0x3a2dde<_0x39c75b;_0x3a2dde++)if(_0x28c857['colorArray'+'Ops'][_0x3a2dde]['genMipmaps']){const _0x203ca5=_0x553143['_colorBuff'+'ers'][_0x3a2dde];_0x203ca5&&_0x203ca5['impl']['_glTexture']&&_0x203ca5['mipmaps']&&(Q['pushGpuMar'+'ker'](this,'MIPS'+_0x3a2dde),this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x1*-0x670+-0x1*0x13a5+0x2*0xd0b)),this['bindTextur'+'e'](_0x203ca5),this['gl']['generateMi'+'pmap'](_0x203ca5['impl']['_glTarget']),Q['popGpuMark'+'er'](this));}}this['insideRend'+'erPass']=!(0xdd9+-0x59d*-0x2+-0x1912),Q['popGpuMark'+'er'](this),Q['popGpuMark'+'er'](this);}set['defaultFra'+'mebuffer'](_0x3679aa){this['_defaultFr'+'amebuffer']!==_0x3679aa&&(this['_defaultFr'+'amebuffer']=_0x3679aa,this['_defaultFr'+'amebufferC'+'hanged']=!(0x3*-0x1d8+-0x559+0x1*0xae1));}get['defaultFra'+'mebuffer'](){return this['_defaultFr'+'amebuffer'];}['updateBegi'+'n'](){if(Q['pushGpuMar'+'ker'](this,'UPDATE-BEG'+'IN'),this['boundVao']=null,this['_tempEnabl'+'eSafariTex'+'tureUnitWo'+'rkaround']){for(let _0x35ec03=-0x1*0x3e6+-0x105+0x1*0x4eb;_0x35ec03<this['textureUni'+'ts']['length'];++_0x35ec03)for(let _0xf09ee0=0x269b+-0x6f8+0x7*-0x485;_0xf09ee0<-0x2*0x10c1+0x48b+0x2*0xe7d;++_0xf09ee0)this['textureUni'+'ts'][_0x35ec03][_0xf09ee0]=null;}const _0x211a6a=this['renderTarg'+'et']??this['backBuffer'];w['assert'](_0x211a6a);const _0x418d01=_0x211a6a['impl'];_0x418d01['initialize'+'d']||this['initRender'+'Target'](_0x211a6a),this['setFramebu'+'ffer'](_0x418d01['_glFrameBu'+'ffer']),Q['popGpuMark'+'er'](this);}['updateEnd'](){Q['pushGpuMar'+'ker'](this,'UPDATE-END'),this['unbindVert'+'exArray']();const _0x202334=this['renderTarg'+'et'];if(_0x202334&&_0x202334!==this['backBuffer']){_0x202334['_samples']>0x827+-0x48*0x6a+-0x3b*-0x5e&&_0x202334['autoResolv'+'e']&&_0x202334['resolve']();const _0xe08b73=_0x202334['_colorBuff'+'er'];_0xe08b73&&_0xe08b73['impl']['_glTexture']&&_0xe08b73['mipmaps']&&(this['activeText'+'ure'](this['maxCombine'+'dTextures']-(0x11a8+0x1fa+-0x13a1)),this['bindTextur'+'e'](_0xe08b73),this['gl']['generateMi'+'pmap'](_0xe08b73['impl']['_glTarget']));}Q['popGpuMark'+'er'](this);}['setUnpackF'+'lipY'](_0x983762){if(this['unpackFlip'+'Y']!==_0x983762){this['unpackFlip'+'Y']=_0x983762;const _0x4a68a5=this['gl'];_0x4a68a5['pixelStore'+'i'](_0x4a68a5['UNPACK_FLI'+'P_Y_WEBGL'],_0x983762);}}['setUnpackP'+'remultiply'+'Alpha'](_0x32f943){if(this['unpackPrem'+'ultiplyAlp'+'ha']!==_0x32f943){this['unpackPrem'+'ultiplyAlp'+'ha']=_0x32f943;const _0xcf74f1=this['gl'];_0xcf74f1['pixelStore'+'i'](_0xcf74f1['UNPACK_PRE'+'MULTIPLY_A'+'LPHA_WEBGL'],_0x32f943);}}['activeText'+'ure'](_0x284d94){this['textureUni'+'t']!==_0x284d94&&(this['gl']['activeText'+'ure'](this['gl']['TEXTURE0']+_0x284d94),this['textureUni'+'t']=_0x284d94);}['bindTextur'+'e'](_0x54b520){const _0x181442=_0x54b520['impl'],_0x4afd0c=_0x181442['_glTarget'],_0x1cab6f=_0x181442['_glTexture'],_0x29dcfc=this['textureUni'+'t'],_0x172ebb=this['targetToSl'+'ot'][_0x4afd0c];this['textureUni'+'ts'][_0x29dcfc][_0x172ebb]!==_0x1cab6f&&(this['gl']['bindTextur'+'e'](_0x4afd0c,_0x1cab6f),this['textureUni'+'ts'][_0x29dcfc][_0x172ebb]=_0x1cab6f);}['bindTextur'+'eOnUnit'](_0x5eefdf,_0x1bbd2b){const _0x136de3=_0x5eefdf['impl'],_0x2e3ae1=_0x136de3['_glTarget'],_0x365df5=_0x136de3['_glTexture'],_0xf494f9=this['targetToSl'+'ot'][_0x2e3ae1];this['textureUni'+'ts'][_0x1bbd2b][_0xf494f9]!==_0x365df5&&(this['activeText'+'ure'](_0x1bbd2b),this['gl']['bindTextur'+'e'](_0x2e3ae1,_0x365df5),this['textureUni'+'ts'][_0x1bbd2b][_0xf494f9]=_0x365df5);}['setTexture'+'Parameters'](_0x5840fe){const _0x65ab74=this['gl'],_0x61a96f=_0x5840fe['impl']['dirtyParam'+'eterFlags'],_0x163657=_0x5840fe['impl']['_glTarget'];if(_0x61a96f&Ay){let _0x5d9cdd=_0x5840fe['_minFilter'];(!_0x5840fe['_mipmaps']||_0x5840fe['_compresse'+'d']&&_0x5840fe['_levels']['length']===0x5b2*-0x3+-0x5*-0x498+-0x12d*0x5)&&(_0x5d9cdd===Kh||_0x5d9cdd===Zh?_0x5d9cdd=Te:(_0x5d9cdd===Qh||_0x5d9cdd===ma)&&(_0x5d9cdd=vt)),_0x65ab74['texParamet'+'eri'](_0x163657,_0x65ab74['TEXTURE_MI'+'N_FILTER'],this['glFilter'][_0x5d9cdd]);}if(_0x61a96f&Cy&&_0x65ab74['texParamet'+'eri'](_0x163657,_0x65ab74['TEXTURE_MA'+'G_FILTER'],this['glFilter'][_0x5840fe['_magFilter']]),_0x61a96f&Py&&_0x65ab74['texParamet'+'eri'](_0x163657,_0x65ab74['TEXTURE_WR'+'AP_S'],this['glAddress'][_0x5840fe['_addressU']]),_0x61a96f&My&&_0x65ab74['texParamet'+'eri'](_0x163657,_0x65ab74['TEXTURE_WR'+'AP_T'],this['glAddress'][_0x5840fe['_addressV']]),_0x61a96f&Dy&&_0x65ab74['texParamet'+'eri'](_0x163657,_0x65ab74['TEXTURE_WR'+'AP_R'],this['glAddress'][_0x5840fe['_addressW']]),_0x61a96f&Iy&&_0x65ab74['texParamet'+'eri'](_0x163657,_0x65ab74['TEXTURE_CO'+'MPARE_MODE'],_0x5840fe['_compareOn'+'Read']?_0x65ab74['COMPARE_RE'+'F_TO_TEXTU'+'RE']:_0x65ab74['NONE']),_0x61a96f&Ly&&_0x65ab74['texParamet'+'eri'](_0x163657,_0x65ab74['TEXTURE_CO'+'MPARE_FUNC'],this['glComparis'+'on'][_0x5840fe['_compareFu'+'nc']]),_0x61a96f&Ry){const _0x538a54=this['extTexture'+'FilterAnis'+'otropic'];_0x538a54&&_0x65ab74['texParamet'+'erf'](_0x163657,_0x538a54['TEXTURE_MA'+'X_ANISOTRO'+'PY_EXT'],Y['clamp'](Math['round'](_0x5840fe['_anisotrop'+'y']),-0xc4a+0x23bd*0x1+-0x1772,this['maxAnisotr'+'opy']));}}['setTexture'](_0x104584,_0x146d5f){const _0x31a83d=_0x104584['impl'];_0x31a83d['_glTexture']||_0x31a83d['initialize'](this,_0x104584),_0x31a83d['dirtyParam'+'eterFlags']>-0xf3d+-0x54c+-0x1489*-0x1||_0x104584['_needsUplo'+'ad']||_0x104584['_needsMipm'+'apsUpload']?(this['activeText'+'ure'](_0x146d5f),this['bindTextur'+'e'](_0x104584),_0x31a83d['dirtyParam'+'eterFlags']&&(this['setTexture'+'Parameters'](_0x104584),_0x31a83d['dirtyParam'+'eterFlags']=0xdb1+-0x6*0x32b+0x551),(_0x104584['_needsUplo'+'ad']||_0x104584['_needsMipm'+'apsUpload'])&&(_0x31a83d['upload'](this,_0x104584),_0x104584['_needsUplo'+'ad']=!(-0x1138+-0xac1+-0x2*-0xdfd),_0x104584['_needsMipm'+'apsUpload']=!(0x147f+0x9c*-0x37+0xd06))):this['bindTextur'+'eOnUnit'](_0x104584,_0x146d5f);}['createVert'+'exArray'](_0x14a674){let _0x24b0c9,_0x41c0e0;const _0x3ed9f1=_0x14a674['length']>0x1a94+-0x7*-0x377+-0x32d4;if(_0x3ed9f1){_0x24b0c9='';for(let _0x4bab7f=-0x3*-0xa3e+0xa56+0x9*-0x490;_0x4bab7f<_0x14a674['length'];_0x4bab7f++){const _0x23ee17=_0x14a674[_0x4bab7f];_0x24b0c9+=_0x23ee17['id']+_0x23ee17['format']['renderingH'+'ash'];}_0x41c0e0=this['_vaoMap']['get'](_0x24b0c9);}if(!_0x41c0e0){const _0x342f62=this['gl'];_0x41c0e0=_0x342f62['createVert'+'exArray'](),_0x342f62['bindVertex'+'Array'](_0x41c0e0),_0x342f62['bindBuffer'](_0x342f62['ELEMENT_AR'+'RAY_BUFFER'],null);let _0x292d74=!(-0xb*0x179+-0x21ac+-0x7*-0x720);for(let _0x4eed33=0x2551+0x1206+0x1f*-0x1c9;_0x4eed33<_0x14a674['length'];_0x4eed33++){const _0x1cc088=_0x14a674[_0x4eed33];_0x342f62['bindBuffer'](_0x342f62['ARRAY_BUFF'+'ER'],_0x1cc088['impl']['bufferId']);const _0x5069e9=_0x1cc088['format']['elements'];for(let _0xbc8bf3=-0xa2*-0x25+-0x1*0x279+-0x3*0x6fb;_0xbc8bf3<_0x5069e9['length'];_0xbc8bf3++){const _0x234260=_0x5069e9[_0xbc8bf3],_0x545ff6=Le[_0x234260['name']];_0x545ff6===-0x2b*0x5a+-0x2*0xf71+0x2e00&&(_0x292d74=!(-0xe2+0x18c7+0x3*-0x7f7)),_0x234260['asInt']?_0x342f62['vertexAttr'+'ibIPointer'](_0x545ff6,_0x234260['numCompone'+'nts'],this['glType'][_0x234260['dataType']],_0x234260['stride'],_0x234260['offset']):_0x342f62['vertexAttr'+'ibPointer'](_0x545ff6,_0x234260['numCompone'+'nts'],this['glType'][_0x234260['dataType']],_0x234260['normalize'],_0x234260['stride'],_0x234260['offset']),_0x342f62['enableVert'+'exAttribAr'+'ray'](_0x545ff6),_0x1cc088['format']['instancing']&&_0x342f62['vertexAttr'+'ibDivisor'](_0x545ff6,-0x16*-0x77+-0xc07+-0x4d*-0x6);}}_0x342f62['bindVertex'+'Array'](null),_0x342f62['bindBuffer'](_0x342f62['ARRAY_BUFF'+'ER'],null),_0x3ed9f1&&this['_vaoMap']['set'](_0x24b0c9,_0x41c0e0),_0x292d74||w['warn']('No\x20vertex\x20'+'attribute\x20'+'is\x20mapped\x20'+'to\x20locatio'+'n\x200,\x20which'+'\x20might\x20cau'+'se\x20compati'+'bility\x20iss'+'ues\x20on\x20Saf'+'ari\x20on\x20Mac'+'OS\x20-\x20pleas'+'e\x20use\x20attr'+'ibute\x20SEMA'+'NTIC_POSIT'+'ION\x20or\x20SEM'+'ANTIC_ATTR'+'15');}return _0x41c0e0;}['unbindVert'+'exArray'](){this['boundVao']&&(this['boundVao']=null,this['gl']['bindVertex'+'Array'](null));}['setBuffers'](_0x352301){const _0x5458fe=this['gl'];let _0x204dfd;if(this['vertexBuff'+'ers']['length']===0xe5f+-0x4*-0x81d+-0x2ed2){const _0x281be0=this['vertexBuff'+'ers'][-0x1601+-0x79b*-0x3+-0xd0];w['assert'](_0x281be0['device']===this,'The\x20Vertex'+'Buffer\x20was'+'\x20not\x20creat'+'ed\x20using\x20c'+'urrent\x20Gra'+'phicsDevic'+'e'),_0x281be0['impl']['vao']||(_0x281be0['impl']['vao']=this['createVert'+'exArray'](this['vertexBuff'+'ers'])),_0x204dfd=_0x281be0['impl']['vao'];}else _0x204dfd=this['createVert'+'exArray'](this['vertexBuff'+'ers']);this['boundVao']!==_0x204dfd&&(this['boundVao']=_0x204dfd,_0x5458fe['bindVertex'+'Array'](_0x204dfd));const _0x1bc698=_0x352301?_0x352301['impl']['bufferId']:null;_0x5458fe['bindBuffer'](_0x5458fe['ELEMENT_AR'+'RAY_BUFFER'],_0x1bc698);}['draw'](_0x5e110b,_0x323c5e,_0x1acd6b,_0x10e73a,_0x149153=!(0x1826+-0x182e*-0x1+-0x3054),_0x3bd494=!(-0x4c7+0x5*0x15d+-0x20a)){const _0x4ae595=this['shader'];if(_0x4ae595&&(this['activateSh'+'ader'](),this['shaderVali'+'d'])){const _0xd3063f=this['gl'];_0x149153&&(w['call'](()=>{var _0x2eeada,_0x3f469f;return this['validateAt'+'tributes'](this['shader'],(_0x2eeada=this['vertexBuff'+'ers'][0x2383+-0xd52+-0x1631])==null?void(-0xb*0x2ba+0x1*0x2162+-0x364):_0x2eeada['format'],(_0x3f469f=this['vertexBuff'+'ers'][-0x1*-0x1fae+-0x65*0x4f+-0x82])==null?void(-0x98d*-0x1+-0x43*-0x46+-0x1bdf):_0x3f469f['format']);}),this['setBuffers'](_0x323c5e));let _0x5d57b5=0x2*0x28e+0x2585+-0x2aa1;const _0x387a71=_0x4ae595['impl']['samplers'];for(let _0x484f48=0x1228+0x24fb*-0x1+-0x4f*-0x3d,_0x4d03a2=_0x387a71['length'];_0x484f48<_0x4d03a2;_0x484f48++){const _0x2d006e=_0x387a71[_0x484f48];let _0x4fe082=_0x2d006e['scopeId']['value'];if(!_0x4fe082){const _0x211436=_0x2d006e['scopeId']['name'];w['assert'](_0x211436!=='texture_gr'+'abPass','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27texture'+'_grabPass\x27'+'\x20is\x20not\x20lo'+'nger\x20suppo'+'rted,\x20use\x20'+'\x27uSceneCol'+'orMap\x27\x20ins'+'tead'),w['assert'](_0x211436!=='uDepthMap','Engine\x20pro'+'vided\x20text'+'ure\x20with\x20s'+'ampler\x20nam'+'e\x20\x27uDepthM'+'ap\x27\x20is\x20not'+'\x20longer\x20su'+'pported,\x20u'+'se\x20\x27uScene'+'DepthMap\x27\x20'+'instead'),_0x211436==='uSceneDept'+'hMap'&&(w['errorOnce']('A\x20uSceneDe'+'pthMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20d'+'epth\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneDepthMa'+'p\x20/\x20enable'+'\x20Depth\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x4fe082=fa(this,'white')),_0x211436==='uSceneColo'+'rMap'&&(w['errorOnce']('A\x20uSceneCo'+'lorMap\x20tex'+'ture\x20is\x20us'+'ed\x20by\x20the\x20'+'shader\x20but'+'\x20a\x20scene\x20c'+'olor\x20textu'+'re\x20is\x20not\x20'+'available.'+'\x20Use\x20Camer'+'aComponent'+'.requestSc'+'eneColorMa'+'p\x20/\x20enable'+'\x20Color\x20Gra'+'bpass\x20on\x20t'+'he\x20Camera\x20'+'Component\x20'+'to\x20enable\x20'+'it.\x20Render'+'ing\x20['+Q['toString']()+']'),_0x4fe082=fa(this,'pink')),_0x4fe082||(w['errorOnce']('Shader\x20'+_0x4ae595['name']+'\x20requires\x20'+_0x211436+('\x20texture\x20w'+'hich\x20was\x20n'+'ot\x20set.\x20Re'+'ndering\x20[')+Q['toString']()+']',_0x4ae595),_0x4fe082=fa(this,'pink'));}if(_0x4fe082 instanceof _e){const _0x4bb891=_0x4fe082;this['setTexture'](_0x4bb891,_0x5d57b5),this['renderTarg'+'et']&&this['renderTarg'+'et']['_samples']<0x4b0*-0x6+0x1a76+-0xd6*-0x2&&(this['renderTarg'+'et']['colorBuffe'+'r']&&this['renderTarg'+'et']['colorBuffe'+'r']===_0x4bb891?w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20color\x20b'+'uffer\x20as\x20a'+'\x20texture',{'renderTarget':this['renderTarg'+'et'],'texture':_0x4bb891}):this['renderTarg'+'et']['depthBuffe'+'r']&&this['renderTarg'+'et']['depthBuffe'+'r']===_0x4bb891&&w['error']('Trying\x20to\x20'+'bind\x20curre'+'nt\x20depth\x20b'+'uffer\x20as\x20a'+'\x20texture',{'texture':_0x4bb891})),_0x2d006e['slot']!==_0x5d57b5&&(_0xd3063f['uniform1i'](_0x2d006e['locationId'],_0x5d57b5),_0x2d006e['slot']=_0x5d57b5),_0x5d57b5++;}else{_0x2d006e['array']['length']=0x59f+-0x221f+0x1c80;const _0xfe201a=_0x4fe082['length'];for(let _0x2270c8=-0x9*0x3a2+0x1*0x6b4+-0x2*-0xcff;_0x2270c8<_0xfe201a;_0x2270c8++){const _0x35db8d=_0x4fe082[_0x2270c8];this['setTexture'](_0x35db8d,_0x5d57b5),_0x2d006e['array'][_0x2270c8]=_0x5d57b5,_0x5d57b5++;}_0xd3063f['uniform1iv'](_0x2d006e['locationId'],_0x2d006e['array']);}}const _0xb02fc1=_0x4ae595['impl']['uniforms'];for(let _0xbcd6c7=-0x141d*-0x1+0x2308+-0x3725,_0x4d84a4=_0xb02fc1['length'];_0xbcd6c7<_0x4d84a4;_0xbcd6c7++){const _0x5eb216=_0xb02fc1[_0xbcd6c7],_0x52f3b6=_0x5eb216['scopeId'],_0x376c7f=_0x5eb216['version'],_0x3ec9f2=_0x52f3b6['versionObj'+'ect']['version'];if(_0x376c7f['globalId']!==_0x3ec9f2['globalId']||_0x376c7f['revision']!==_0x3ec9f2['revision']){_0x376c7f['globalId']=_0x3ec9f2['globalId'],_0x376c7f['revision']=_0x3ec9f2['revision'];const _0x51dad9=_0x52f3b6['value'];_0x51dad9!=null?this['commitFunc'+'tion'][_0x5eb216['dataType']](_0x5eb216,_0x51dad9):w['warnOnce']('Shader\x20['+_0x4ae595['label']+(']\x20requires'+'\x20uniform\x20[')+_0x5eb216['scopeId']['name']+(']\x20which\x20ha'+'s\x20not\x20been'+'\x20set,\x20whil'+'e\x20renderin'+'g\x20[')+Q['toString']()+']');}}this['transformF'+'eedbackBuf'+'fer']&&(_0xd3063f['bindBuffer'+'Base'](_0xd3063f['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],-0x12a8+0xd79+0x52f,this['transformF'+'eedbackBuf'+'fer']['impl']['bufferId']),_0xd3063f['beginTrans'+'formFeedba'+'ck'](_0xd3063f['POINTS']));const _0x1f0fd8=this['glPrimitiv'+'e'][_0x5e110b['type']],_0x461269=_0x5e110b['count'];if(_0x5e110b['indexed']){w['assert'](_0x323c5e['device']===this,'The\x20IndexB'+'uffer\x20was\x20'+'not\x20create'+'d\x20using\x20cu'+'rrent\x20Grap'+'hicsDevice');const _0x3f22f4=_0x323c5e['impl']['glFormat'],_0x473ba7=_0x5e110b['base']*_0x323c5e['bytesPerIn'+'dex'];_0x1acd6b>-0x1b32+-0x2d*0x8d+0x33fb?_0xd3063f['drawElemen'+'tsInstance'+'d'](_0x1f0fd8,_0x461269,_0x3f22f4,_0x473ba7,_0x1acd6b):_0xd3063f['drawElemen'+'ts'](_0x1f0fd8,_0x461269,_0x3f22f4,_0x473ba7);}else{const _0x1ed7d5=_0x5e110b['base'];_0x1acd6b>-0xc8b+-0x1673+0x22fe?_0xd3063f['drawArrays'+'Instanced'](_0x1f0fd8,_0x1ed7d5,_0x461269,_0x1acd6b):_0xd3063f['drawArrays'](_0x1f0fd8,_0x1ed7d5,_0x461269);}this['transformF'+'eedbackBuf'+'fer']&&(_0xd3063f['endTransfo'+'rmFeedback'](),_0xd3063f['bindBuffer'+'Base'](_0xd3063f['TRANSFORM_'+'FEEDBACK_B'+'UFFER'],0x59*-0x1+-0x1e39*0x1+0x1e92,null)),this['_drawCalls'+'PerFrame']++,this['_primsPerF'+'rame'][_0x5e110b['type']]+=_0x5e110b['count']*(_0x1acd6b>-0x1ad*-0x3+-0x1233*-0x1+-0x1739?_0x1acd6b:-0x16d4+0xd54+-0x32b*-0x3);}_0x3bd494&&this['clearVerte'+'xBuffer']();}['clear'](_0x3d21ce){const _0x2fbc0d=this['defaultCle'+'arOptions'];_0x3d21ce=_0x3d21ce||_0x2fbc0d;const _0x4c0c09=_0x3d21ce['flags']??_0x2fbc0d['flags'];if(_0x4c0c09!==-0x1e32+0x1b87+0x2ab*0x1){const _0x1bd177=this['gl'];if(_0x4c0c09&jo){const _0x53a8a3=_0x3d21ce['color']??_0x2fbc0d['color'],_0x31fe9b=_0x53a8a3[0x1*-0x215f+-0x592+0x26f1],_0x4ae66c=_0x53a8a3[0x1*-0x25ce+0x7a*0x27+0x1339*0x1],_0x5075f6=_0x53a8a3[0x21ff+0x39*-0x6+-0x20a7*0x1],_0x19dfc8=_0x53a8a3[0x3*-0x9f1+0x32d+0x1aa9*0x1],_0x38838a=this['clearColor'];(_0x31fe9b!==_0x38838a['r']||_0x4ae66c!==_0x38838a['g']||_0x5075f6!==_0x38838a['b']||_0x19dfc8!==_0x38838a['a'])&&(this['gl']['clearColor'](_0x31fe9b,_0x4ae66c,_0x5075f6,_0x19dfc8),this['clearColor']['set'](_0x31fe9b,_0x4ae66c,_0x5075f6,_0x19dfc8)),this['setBlendSt'+'ate'](pt['NOBLEND']);}if(_0x4c0c09&Yo){const _0x3b3c29=_0x3d21ce['depth']??_0x2fbc0d['depth'];_0x3b3c29!==this['clearDepth']&&(this['gl']['clearDepth'](_0x3b3c29),this['clearDepth']=_0x3b3c29),this['setDepthSt'+'ate'](Yt['WRITEDEPTH']);}if(_0x4c0c09&ch){const _0x498f6c=_0x3d21ce['stencil']??_0x2fbc0d['stencil'];_0x498f6c!==this['clearStenc'+'il']&&(this['gl']['clearStenc'+'il'](_0x498f6c),this['clearStenc'+'il']=_0x498f6c),_0x1bd177['stencilMas'+'k'](0x1f*-0xae+-0x14ed+0x1*0x2afe),this['stencilWri'+'teMaskFron'+'t']=0x100e*0x1+-0xb47+-0x2*0x1e4,this['stencilWri'+'teMaskBack']=0x1c46+0x1d*0x119+-0x3b1c;}_0x1bd177['clear'](this['glClearFla'+'g'][_0x4c0c09]);}}['submit'](){this['gl']['flush']();}['readPixels'](_0x3dc052,_0x38b48e,_0x2732ec,_0x165524,_0x2717a5){const _0x17b1c6=this['gl'];_0x17b1c6['readPixels'](_0x3dc052,_0x38b48e,_0x2732ec,_0x165524,_0x17b1c6['RGBA'],_0x17b1c6['UNSIGNED_B'+'YTE'],_0x2717a5);}['clientWait'+'Async'](_0x43a73d,_0x155674){const _0x3dadae=this['gl'],_0x234229=_0x3dadae['fenceSync'](_0x3dadae['SYNC_GPU_C'+'OMMANDS_CO'+'MPLETE'],-0x18c3+0x107a+0x849);return this['submit'](),new Promise((_0x55dcc4,_0xf58ddc)=>{function _0x49b3b4(){const _0x423c53=_0x3dadae['clientWait'+'Sync'](_0x234229,_0x43a73d,-0x21b9+-0x2363+0x451c);_0x423c53===_0x3dadae['TIMEOUT_EX'+'PIRED']?setTimeout(_0x49b3b4,_0x155674):(_0x3dadae['deleteSync'](_0x234229),_0x423c53===_0x3dadae['WAIT_FAILE'+'D']?_0xf58ddc(new Error('webgl\x20clie'+'ntWaitSync'+'\x20sync\x20fail'+'ed')):_0x55dcc4());}_0x49b3b4();});}async['readPixels'+'Async'](_0x4a6593,_0x4795c2,_0x1f956e,_0x5a9df2,_0x59413a){var _0x38d25a;const _0x22125a=this['gl'],_0x18f5b5=(_0x38d25a=this['renderTarg'+'et']['colorBuffe'+'r'])==null?void(0x1163+0x14ce*-0x1+-0x1*-0x36b):_0x38d25a['impl'],_0xebd197=(_0x18f5b5==null?void(-0x21c+0x1657+-0x143b*0x1):_0x18f5b5['_glFormat'])??_0x22125a['RGBA'],_0x4bd69f=(_0x18f5b5==null?void(0xf71*-0x2+0x6*0x48b+0xe8*0x4):_0x18f5b5['_glPixelTy'+'pe'])??_0x22125a['UNSIGNED_B'+'YTE'],_0x3a416e=_0x22125a['createBuff'+'er']();return _0x22125a['bindBuffer'](_0x22125a['PIXEL_PACK'+'_BUFFER'],_0x3a416e),_0x22125a['bufferData'](_0x22125a['PIXEL_PACK'+'_BUFFER'],_0x59413a['byteLength'],_0x22125a['STREAM_REA'+'D']),_0x22125a['readPixels'](_0x4a6593,_0x4795c2,_0x1f956e,_0x5a9df2,_0xebd197,_0x4bd69f,0x1*-0x1cf0+0x1612+0x36f*0x2),_0x22125a['bindBuffer'](_0x22125a['PIXEL_PACK'+'_BUFFER'],null),await this['clientWait'+'Async'](0x337*-0x1+-0xbfc*0x2+-0x1b2f*-0x1,0x2*0x49+-0x245f*0x1+0x23dd),_0x22125a['bindBuffer'](_0x22125a['PIXEL_PACK'+'_BUFFER'],_0x3a416e),_0x22125a['getBufferS'+'ubData'](_0x22125a['PIXEL_PACK'+'_BUFFER'],-0x1*0xe9d+0xbcb+0x2d2,_0x59413a),_0x22125a['bindBuffer'](_0x22125a['PIXEL_PACK'+'_BUFFER'],null),_0x22125a['deleteBuff'+'er'](_0x3a416e),_0x59413a;}['readTextur'+'eAsync'](_0x274972,_0xf50b9a,_0x3146ef,_0x3fd1c6,_0xfbc3a4,_0x7accb){const _0x352b7c=_0x7accb['face']??0x12a7*-0x1+-0xa68+0x1*0x1d0f,_0x2a0ae7=_0x7accb['renderTarg'+'et']??new gt({'colorBuffer':_0x274972,'depth':!(-0x1*-0x1994+-0x543+0xc8*-0x1a),'face':_0x352b7c});w['assert'](_0x2a0ae7['colorBuffe'+'r']===_0x274972);const _0x2516c2=new ArrayBuffer(Xi['calcLevelG'+'puSize'](_0x3fd1c6,_0xfbc3a4,-0x1d7*0x14+0x226c+-0x261*-0x1,_0x274972['_format'])),_0x523dbf=_0x7accb['data']??new(my(_0x274972['_format']))(_0x2516c2);return this['setRenderT'+'arget'](_0x2a0ae7),this['initRender'+'Target'](_0x2a0ae7),new Promise((_0x20be84,_0x45d348)=>{this['readPixels'+'Async'](_0xf50b9a,_0x3146ef,_0x3fd1c6,_0xfbc3a4,_0x523dbf)['then'](_0xa30554=>{_0x7accb['renderTarg'+'et']||_0x2a0ae7['destroy'](),_0x20be84(_0xa30554);})['catch'](_0x45d348);});}async['writeTextu'+'reAsync'](_0xe65a42,_0x3f8562,_0x4305dc,_0x4dfb84,_0x223559,_0x56ddc3){const _0x458a1c=this['gl'],_0x510e38=_0xe65a42['impl'],_0x354551=(_0x510e38==null?void(0x11ff*0x2+-0x1aea+-0x914):_0x510e38['_glFormat'])??_0x458a1c['RGBA'],_0x3201d1=(_0x510e38==null?void(0x1a*-0xbf+-0x105*0xf+0x1*0x22b1):_0x510e38['_glPixelTy'+'pe'])??_0x458a1c['UNSIGNED_B'+'YTE'],_0x163bce=_0x458a1c['createBuff'+'er']();_0x458a1c['bindBuffer'](_0x458a1c['PIXEL_UNPA'+'CK_BUFFER'],_0x163bce),_0x458a1c['bufferData'](_0x458a1c['PIXEL_UNPA'+'CK_BUFFER'],_0x56ddc3,_0x458a1c['STREAM_DRA'+'W']),_0x458a1c['bindTextur'+'e'](_0x458a1c['TEXTURE_2D'],_0x510e38['_glTexture']),_0x458a1c['texSubImag'+'e2D'](_0x458a1c['TEXTURE_2D'],-0x2*0x2fb+0x1e44+0x33*-0x7a,_0x3f8562,_0x4305dc,_0x4dfb84,_0x223559,_0x354551,_0x3201d1,0x256+-0x1161*-0x1+-0x2d1*0x7),_0x458a1c['bindBuffer'](_0x458a1c['PIXEL_UNPA'+'CK_BUFFER'],null),_0xe65a42['_needsUplo'+'ad']=!(-0xe83+-0x1dfa+0x2c7e),_0xe65a42['_mipmapsUp'+'loaded']=!(0x6d3+-0x19*-0xc7+-0x1a41),await this['clientWait'+'Async'](-0x1706+0x1338+0x3ce,-0xb*-0x42+0xca9+-0x1*0xf6f);}['setAlphaTo'+'Coverage'](_0x468ad2){this['alphaToCov'+'erage']!==_0x468ad2&&(this['alphaToCov'+'erage']=_0x468ad2,_0x468ad2?this['gl']['enable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']):this['gl']['disable'](this['gl']['SAMPLE_ALP'+'HA_TO_COVE'+'RAGE']));}['setTransfo'+'rmFeedback'+'Buffer'](_0x4b8c1e){if(this['transformF'+'eedbackBuf'+'fer']!==_0x4b8c1e){this['transformF'+'eedbackBuf'+'fer']=_0x4b8c1e;const _0x2870a8=this['gl'];_0x4b8c1e?(this['feedback']||(this['feedback']=_0x2870a8['createTran'+'sformFeedb'+'ack']()),_0x2870a8['bindTransf'+'ormFeedbac'+'k'](_0x2870a8['TRANSFORM_'+'FEEDBACK'],this['feedback'])):_0x2870a8['bindTransf'+'ormFeedbac'+'k'](_0x2870a8['TRANSFORM_'+'FEEDBACK'],null);}}['setRaster'](_0x253195){this['raster']!==_0x253195&&(this['raster']=_0x253195,_0x253195?this['gl']['disable'](this['gl']['RASTERIZER'+'_DISCARD']):this['gl']['enable'](this['gl']['RASTERIZER'+'_DISCARD']));}['setStencil'+'Test'](_0x3eeb21){if(this['stencil']!==_0x3eeb21){const _0x16c444=this['gl'];_0x3eeb21?_0x16c444['enable'](_0x16c444['STENCIL_TE'+'ST']):_0x16c444['disable'](_0x16c444['STENCIL_TE'+'ST']),this['stencil']=_0x3eeb21;}}['setStencil'+'Func'](_0x7af070,_0x5e64ea,_0x402f11){(this['stencilFun'+'cFront']!==_0x7af070||this['stencilRef'+'Front']!==_0x5e64ea||this['stencilMas'+'kFront']!==_0x402f11||this['stencilFun'+'cBack']!==_0x7af070||this['stencilRef'+'Back']!==_0x5e64ea||this['stencilMas'+'kBack']!==_0x402f11)&&(this['gl']['stencilFun'+'c'](this['glComparis'+'on'][_0x7af070],_0x5e64ea,_0x402f11),this['stencilFun'+'cFront']=this['stencilFun'+'cBack']=_0x7af070,this['stencilRef'+'Front']=this['stencilRef'+'Back']=_0x5e64ea,this['stencilMas'+'kFront']=this['stencilMas'+'kBack']=_0x402f11);}['setStencil'+'FuncFront'](_0x268a8f,_0x4ecfb8,_0x440cae){if(this['stencilFun'+'cFront']!==_0x268a8f||this['stencilRef'+'Front']!==_0x4ecfb8||this['stencilMas'+'kFront']!==_0x440cae){const _0x89148e=this['gl'];_0x89148e['stencilFun'+'cSeparate'](_0x89148e['FRONT'],this['glComparis'+'on'][_0x268a8f],_0x4ecfb8,_0x440cae),this['stencilFun'+'cFront']=_0x268a8f,this['stencilRef'+'Front']=_0x4ecfb8,this['stencilMas'+'kFront']=_0x440cae;}}['setStencil'+'FuncBack'](_0x48ef11,_0x422113,_0x5ea8e3){if(this['stencilFun'+'cBack']!==_0x48ef11||this['stencilRef'+'Back']!==_0x422113||this['stencilMas'+'kBack']!==_0x5ea8e3){const _0x255ddd=this['gl'];_0x255ddd['stencilFun'+'cSeparate'](_0x255ddd['BACK'],this['glComparis'+'on'][_0x48ef11],_0x422113,_0x5ea8e3),this['stencilFun'+'cBack']=_0x48ef11,this['stencilRef'+'Back']=_0x422113,this['stencilMas'+'kBack']=_0x5ea8e3;}}['setStencil'+'Operation'](_0x5b85f3,_0x37862c,_0x3ead23,_0x25ab60){(this['stencilFai'+'lFront']!==_0x5b85f3||this['stencilZfa'+'ilFront']!==_0x37862c||this['stencilZpa'+'ssFront']!==_0x3ead23||this['stencilFai'+'lBack']!==_0x5b85f3||this['stencilZfa'+'ilBack']!==_0x37862c||this['stencilZpa'+'ssBack']!==_0x3ead23)&&(this['gl']['stencilOp'](this['glStencilO'+'p'][_0x5b85f3],this['glStencilO'+'p'][_0x37862c],this['glStencilO'+'p'][_0x3ead23]),this['stencilFai'+'lFront']=this['stencilFai'+'lBack']=_0x5b85f3,this['stencilZfa'+'ilFront']=this['stencilZfa'+'ilBack']=_0x37862c,this['stencilZpa'+'ssFront']=this['stencilZpa'+'ssBack']=_0x3ead23),(this['stencilWri'+'teMaskFron'+'t']!==_0x25ab60||this['stencilWri'+'teMaskBack']!==_0x25ab60)&&(this['gl']['stencilMas'+'k'](_0x25ab60),this['stencilWri'+'teMaskFron'+'t']=_0x25ab60,this['stencilWri'+'teMaskBack']=_0x25ab60);}['setStencil'+'OperationF'+'ront'](_0x44f407,_0x5e3d4e,_0x9bbf64,_0x26f8bf){(this['stencilFai'+'lFront']!==_0x44f407||this['stencilZfa'+'ilFront']!==_0x5e3d4e||this['stencilZpa'+'ssFront']!==_0x9bbf64)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['FRONT'],this['glStencilO'+'p'][_0x44f407],this['glStencilO'+'p'][_0x5e3d4e],this['glStencilO'+'p'][_0x9bbf64]),this['stencilFai'+'lFront']=_0x44f407,this['stencilZfa'+'ilFront']=_0x5e3d4e,this['stencilZpa'+'ssFront']=_0x9bbf64),this['stencilWri'+'teMaskFron'+'t']!==_0x26f8bf&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['FRONT'],_0x26f8bf),this['stencilWri'+'teMaskFron'+'t']=_0x26f8bf);}['setStencil'+'OperationB'+'ack'](_0x5935ef,_0x77fbaf,_0x57ab42,_0x2ab446){(this['stencilFai'+'lBack']!==_0x5935ef||this['stencilZfa'+'ilBack']!==_0x77fbaf||this['stencilZpa'+'ssBack']!==_0x57ab42)&&(this['gl']['stencilOpS'+'eparate'](this['gl']['BACK'],this['glStencilO'+'p'][_0x5935ef],this['glStencilO'+'p'][_0x77fbaf],this['glStencilO'+'p'][_0x57ab42]),this['stencilFai'+'lBack']=_0x5935ef,this['stencilZfa'+'ilBack']=_0x77fbaf,this['stencilZpa'+'ssBack']=_0x57ab42),this['stencilWri'+'teMaskBack']!==_0x2ab446&&(this['gl']['stencilMas'+'kSeparate'](this['gl']['BACK'],_0x2ab446),this['stencilWri'+'teMaskBack']=_0x2ab446);}['setBlendSt'+'ate'](_0x57a997){const _0x34a54e=this['blendState'];if(!_0x34a54e['equals'](_0x57a997)){const _0x363161=this['gl'],{blend:_0x11a872,colorOp:_0x1a6b4a,alphaOp:_0x35ca3b,colorSrcFactor:_0x40b57f,colorDstFactor:_0x551efe,alphaSrcFactor:_0x278b29,alphaDstFactor:_0x4974b1}=_0x57a997;if(_0x34a54e['blend']!==_0x11a872&&(_0x11a872?_0x363161['enable'](_0x363161['BLEND']):_0x363161['disable'](_0x363161['BLEND'])),_0x34a54e['colorOp']!==_0x1a6b4a||_0x34a54e['alphaOp']!==_0x35ca3b){const _0xac2650=this['glBlendEqu'+'ation'];_0x363161['blendEquat'+'ionSeparat'+'e'](_0xac2650[_0x1a6b4a],_0xac2650[_0x35ca3b]);}(_0x34a54e['colorSrcFa'+'ctor']!==_0x40b57f||_0x34a54e['colorDstFa'+'ctor']!==_0x551efe||_0x34a54e['alphaSrcFa'+'ctor']!==_0x278b29||_0x34a54e['alphaDstFa'+'ctor']!==_0x4974b1)&&_0x363161['blendFuncS'+'eparate'](this['glBlendFun'+'ctionColor'][_0x40b57f],this['glBlendFun'+'ctionColor'][_0x551efe],this['glBlendFun'+'ctionAlpha'][_0x278b29],this['glBlendFun'+'ctionAlpha'][_0x4974b1]),_0x34a54e['allWrite']!==_0x57a997['allWrite']&&this['gl']['colorMask'](_0x57a997['redWrite'],_0x57a997['greenWrite'],_0x57a997['blueWrite'],_0x57a997['alphaWrite']),_0x34a54e['copy'](_0x57a997);}}['setBlendCo'+'lor'](_0x3bf03c,_0x4079c4,_0x35efa1,_0x2cbecb){const _0x26d222=this['blendColor'];(_0x3bf03c!==_0x26d222['r']||_0x4079c4!==_0x26d222['g']||_0x35efa1!==_0x26d222['b']||_0x2cbecb!==_0x26d222['a'])&&(this['gl']['blendColor'](_0x3bf03c,_0x4079c4,_0x35efa1,_0x2cbecb),_0x26d222['set'](_0x3bf03c,_0x4079c4,_0x35efa1,_0x2cbecb));}['setStencil'+'State'](_0x4dd9be,_0x39123d){_0x4dd9be||_0x39123d?(this['setStencil'+'Test'](!(-0x2b3*0x7+0x6*0x8b+-0x1*-0xfa3)),_0x4dd9be===_0x39123d?(this['setStencil'+'Func'](_0x4dd9be['func'],_0x4dd9be['ref'],_0x4dd9be['readMask']),this['setStencil'+'Operation'](_0x4dd9be['fail'],_0x4dd9be['zfail'],_0x4dd9be['zpass'],_0x4dd9be['writeMask'])):(_0x4dd9be??(_0x4dd9be=pi['DEFAULT']),this['setStencil'+'FuncFront'](_0x4dd9be['func'],_0x4dd9be['ref'],_0x4dd9be['readMask']),this['setStencil'+'OperationF'+'ront'](_0x4dd9be['fail'],_0x4dd9be['zfail'],_0x4dd9be['zpass'],_0x4dd9be['writeMask']),_0x39123d??(_0x39123d=pi['DEFAULT']),this['setStencil'+'FuncBack'](_0x39123d['func'],_0x39123d['ref'],_0x39123d['readMask']),this['setStencil'+'OperationB'+'ack'](_0x39123d['fail'],_0x39123d['zfail'],_0x39123d['zpass'],_0x39123d['writeMask']))):this['setStencil'+'Test'](!(-0xb*-0x90+-0x5a9+-0x86));}['setDepthSt'+'ate'](_0x38db4c){const _0x2e960=this['depthState'];if(!_0x2e960['equals'](_0x38db4c)){const _0x5ddf9e=this['gl'],_0x3b6407=_0x38db4c['write'];_0x2e960['write']!==_0x3b6407&&_0x5ddf9e['depthMask'](_0x3b6407);let {func:_0x367716,test:_0x2a79f9}=_0x38db4c;!_0x2a79f9&&_0x3b6407&&(_0x2a79f9=!(0x25f2+-0x1be6+-0xa0c),_0x367716=Wi),_0x2e960['func']!==_0x367716&&_0x5ddf9e['depthFunc'](this['glComparis'+'on'][_0x367716]),_0x2e960['test']!==_0x2a79f9&&(_0x2a79f9?_0x5ddf9e['enable'](_0x5ddf9e['DEPTH_TEST']):_0x5ddf9e['disable'](_0x5ddf9e['DEPTH_TEST']));const {depthBias:_0x273ca5,depthBiasSlope:_0x14b2f6}=_0x38db4c;_0x273ca5||_0x14b2f6?(this['depthBiasE'+'nabled']||(this['depthBiasE'+'nabled']=!(-0x16*-0x15b+-0x221f+0x44d),this['gl']['enable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x5ddf9e['polygonOff'+'set'](_0x14b2f6,_0x273ca5)):this['depthBiasE'+'nabled']&&(this['depthBiasE'+'nabled']=!(0x127f+0x1b12+0x18*-0x1e6),this['gl']['disable'](this['gl']['POLYGON_OF'+'FSET_FILL'])),_0x2e960['copy'](_0x38db4c);}}['setCullMod'+'e'](_0x964b2f){if(this['cullMode']!==_0x964b2f){if(_0x964b2f===bt)this['gl']['disable'](this['gl']['CULL_FACE']);else{this['cullMode']===bt&&this['gl']['enable'](this['gl']['CULL_FACE']);const _0x3cd621=this['glCull'][_0x964b2f];this['cullFace']!==_0x3cd621&&(this['gl']['cullFace'](_0x3cd621),this['cullFace']=_0x3cd621);}this['cullMode']=_0x964b2f;}}['setShader'](_0x6aff66,_0xf3dd13=!(-0x1*-0x2482+0x915+-0x2d96*0x1)){_0x6aff66!==this['shader']&&(this['shader']=_0x6aff66,this['shaderAsyn'+'cCompile']=_0xf3dd13,this['shaderVali'+'d']=void(-0x21ca+-0xdd4+0x2f9e),this['_shaderSwi'+'tchesPerFr'+'ame']++);}['activateSh'+'ader'](){const {shader:_0xa9e218}=this,{impl:_0x28296e}=_0xa9e218;this['shaderVali'+'d']===void(0x1a*-0x44+0x1*0xa16+-0x32e)&&(_0xa9e218['failed']?this['shaderVali'+'d']=!(0x1ceb+-0x12d4+0xa16*-0x1):_0xa9e218['ready']||(this['shaderAsyn'+'cCompile']?_0x28296e['isLinked'](this)?_0x28296e['finalize'](this,_0xa9e218)||(_0xa9e218['failed']=!(-0x3*0x967+-0x11b2+-0x3*-0xf4d),this['shaderVali'+'d']=!(0x6b*0x13+-0x122c+0x106*0xa)):this['shaderVali'+'d']=!(0xb*0x95+0x905*-0x1+0x29f*0x1):_0x28296e['finalize'](this,_0xa9e218)||(_0xa9e218['failed']=!(0x15f3+-0xe3+-0x2a2*0x8),this['shaderVali'+'d']=!(0x1d7*0x5+0x1*0x6eb+0x37*-0x4b)))),this['shaderVali'+'d']===void(0xe*0x5d+0x420*0x9+-0xe12*0x3)&&(this['gl']['useProgram'](_0x28296e['glProgram']),this['shaderVali'+'d']=!(-0x290+0x1f94+-0x1d04));}['clearVerte'+'xArrayObje'+'ctCache'](){const _0x361de0=this['gl'];this['_vaoMap']['forEach']((_0x49cd2c,_0xe2e07,_0x2158cd)=>{_0x361de0['deleteVert'+'exArray'](_0x49cd2c);}),this['_vaoMap']['clear']();}set['fullscreen'](_0x294d57){_0x294d57?this['gl']['canvas']['requestFul'+'lscreen']():document['exitFullsc'+'reen']();}get['fullscreen'](){return!!document['fullscreen'+'Element'];}['debugLoseC'+'ontext'](_0x147823=0xb*-0x300+-0x1f06+0x406a){const _0x3b3691=this['gl']['getExtensi'+'on']('WEBGL_lose'+'_context');_0x3b3691['loseContex'+'t'](),setTimeout(()=>_0x3b3691['restoreCon'+'text'](),_0x147823);}}let nw=0x4*-0x2e7+0x1*0xdc9+0x22d*-0x1;class br{constructor(_0x42740e,_0x249583,_0x397143,_0x18421e=ms,_0x4c0ba9,_0x524ed6){this['device']=_0x42740e,this['format']=_0x249583,this['numIndices']=_0x397143,this['usage']=_0x18421e,this['id']=nw++,this['impl']=_0x42740e['createInde'+'xBufferImp'+'l'](this,_0x524ed6);const _0x9df29a=hT[_0x249583];this['bytesPerIn'+'dex']=_0x9df29a,this['numBytes']=this['numIndices']*_0x9df29a,_0x4c0ba9?this['setData'](_0x4c0ba9):this['storage']=new ArrayBuffer(this['numBytes']),this['adjustVram'+'SizeTracki'+'ng'](_0x42740e['_vram'],this['numBytes']),this['device']['buffers']['push'](this);}['destroy'](){const _0xdc77da=this['device'],_0x280482=_0xdc77da['buffers']['indexOf'](this);_0x280482!==-(-0x21ef+-0x1*-0x1589+0x1*0xc67)&&_0xdc77da['buffers']['splice'](_0x280482,0x225+0x5b6+-0xa*0xc9),this['device']['indexBuffe'+'r']===this&&(this['device']['indexBuffe'+'r']=null),this['impl']['initialize'+'d']&&(this['impl']['destroy'](_0xdc77da),this['adjustVram'+'SizeTracki'+'ng'](_0xdc77da['_vram'],-this['storage']['byteLength']));}['adjustVram'+'SizeTracki'+'ng'](_0x12a7b5,_0x2a18e9){w['trace'](j0,this['id']+'\x20size:\x20'+_0x2a18e9+'\x20vram.ib:\x20'+_0x12a7b5['ib']+'\x20=>\x20'+(_0x12a7b5['ib']+_0x2a18e9)),_0x12a7b5['ib']+=_0x2a18e9;}['loseContex'+'t'](){this['impl']['loseContex'+'t']();}['getFormat'](){return this['format'];}['getNumIndi'+'ces'](){return this['numIndices'];}['lock'](){return this['storage'];}['unlock'](){this['impl']['unlock'](this);}['setData'](_0x5f3ee2){return _0x5f3ee2['byteLength']!==this['numBytes']?(w['error']('IndexBuffe'+'r:\x20wrong\x20i'+'nitial\x20dat'+'a\x20size:\x20ex'+'pected\x20'+this['numBytes']+',\x20got\x20'+_0x5f3ee2['byteLength']),!(0x29*-0x9f+0x2267+-0x8ef)):(this['storage']=_0x5f3ee2,this['unlock'](),!(-0x740*0x4+-0x133e*0x1+0x303e));}['_lockTyped'+'Array'](){const _0x56f0a7=this['lock']();return this['format']===wr?new Uint32Array(_0x56f0a7):this['format']===Yi?new Uint16Array(_0x56f0a7):new Uint8Array(_0x56f0a7);}['writeData'](_0x1dea79,_0x55fc5f){const _0x583c2c=this['_lockTyped'+'Array']();if(_0x1dea79['length']>_0x55fc5f){if(ArrayBuffer['isView'](_0x1dea79))_0x1dea79=_0x1dea79['subarray'](-0xa3d+-0x2be*0x8+-0x202d*-0x1,_0x55fc5f),_0x583c2c['set'](_0x1dea79);else{for(let _0x178269=0x24c2+-0x15c+-0x2366*0x1;_0x178269<_0x55fc5f;_0x178269++)_0x583c2c[_0x178269]=_0x1dea79[_0x178269];}}else _0x583c2c['set'](_0x1dea79);this['unlock']();}['readData'](_0x35d880){const _0x11c8b2=this['_lockTyped'+'Array'](),_0x4e8e52=this['numIndices'];if(ArrayBuffer['isView'](_0x35d880))_0x35d880['set'](_0x11c8b2);else{_0x35d880['length']=0x1a7e+-0x77c+-0x1302;for(let _0x551a41=0xe34+0x219+-0x141*0xd;_0x551a41<_0x4e8e52;_0x551a41++)_0x35d880[_0x551a41]=_0x11c8b2[_0x551a41];}return _0x4e8e52;}}class ow{constructor(){h(this,'clearValue',new ie(0x1631+-0xb*-0x287+-0x855*0x6,0x2273+0x26bb+-0x492e,0x18d0+-0xc50+-0xc80,-0x2519+0x243d+0xdd)),h(this,'clearValue'+'Linear',new ie(0x4*0x47a+-0x21d1+-0xfe9*-0x1,0x5cb*-0x3+-0x1461+-0x1b*-0x166,-0x1*-0x1dcd+-0x206f*-0x1+-0x3e3c,-0x197e+0x1*0x10fa+0x885)),h(this,'clear',!(-0x1*0x6dd+0x1*-0x1caf+0x238d)),h(this,'store',!(0x133f+0x1d46+-0x3084)),h(this,'resolve',!(-0x46*-0x2d+-0x142f+0x7e1)),h(this,'genMipmaps',!(0x103d+0x9*0x1a3+0x1ef7*-0x1));}}class lw{constructor(){h(this,'clearDepth'+'Value',-0x1*0x1d09+-0xf9b+0x2ca5),h(this,'clearStenc'+'ilValue',0xa4*-0x2f+0x1635+0x11*0x77),h(this,'clearDepth',!(0x1303*-0x1+0x1*0x823+-0x5*-0x22d)),h(this,'clearStenc'+'il',!(0x22e3+0xab9+-0x2d9b)),h(this,'storeDepth',!(0x11*0x20b+-0x856+-0x6*0x466)),h(this,'resolveDep'+'th',!(0x7de+-0x7f8+0x1b)),h(this,'storeStenc'+'il',!(0x257b*0x1+0x3*0x2a3+-0xf21*0x3));}}class ys{constructor(_0xd57e0f){h(this,'_name'),h(this,'device'),h(this,'_enabled',!(0x26b4+-0x25*-0xef+-0x493f)),h(this,'_skipStart',!(-0x3bb*-0x2+0x8de*-0x2+0xa47)),h(this,'_skipEnd',!(-0x1c03+0x1*0xffd+-0x1*-0xc07)),h(this,'executeEna'+'bled',!(0x119b*-0x2+0x443+0x1ef3)),h(this,'renderTarg'+'et'),h(this,'_options'),h(this,'samples',-0x5b5*0x5+-0x1*0x2151+0x4e*0xcb),h(this,'colorArray'+'Ops',[]),h(this,'depthStenc'+'ilOps'),h(this,'requiresCu'+'bemaps',!(-0xec*0x3+0x2*0x41c+-0x574)),h(this,'fullSizeCl'+'earRect',!(0x9d7+0x83e+-0x1215*0x1)),h(this,'beforePass'+'es',[]),h(this,'afterPasse'+'s',[]),(w['assert'](_0xd57e0f),this['device']=_0xd57e0f);}get['colorOps'](){return this['colorArray'+'Ops'][0x1*-0x139f+0x73e+0xc61*0x1];}set['name'](_0x438aea){this['_name']=_0x438aea;}get['name'](){return this['_name']||(this['_name']=this['constructo'+'r']['name']),this['_name'];}set['scaleX'](_0x2e5052){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleX']=_0x2e5052;}get['scaleX'](){return this['_options']['scaleX'];}set['scaleY'](_0x4284d0){w['assert'](this['_options'],'The\x20render'+'\x20pass\x20need'+'s\x20to\x20be\x20in'+'itialized\x20'+'first.'),this['_options']['scaleY']=_0x4284d0;}get['scaleY'](){return this['_options']['scaleY'];}set['options'](_0x2bd9d2){this['_options']=_0x2bd9d2,_0x2bd9d2&&(this['scaleX']=this['scaleX']??0x1e07*-0x1+0x25ae+0x16*-0x59,this['scaleY']=this['scaleY']??-0xbfb*0x1+-0x826+-0x6b6*-0x3);}get['options'](){return this['_options'];}['init'](_0x189ae7=null,_0x19bd7e){this['options']=_0x19bd7e,this['renderTarg'+'et']=_0x189ae7,this['samples']=Math['max'](this['renderTarg'+'et']?this['renderTarg'+'et']['samples']:this['device']['samples'],-0x1015+-0x1de6+0xb7f*0x4),this['allocateAt'+'tachments'](),this['postInit']();}['allocateAt'+'tachments'](){var _0xf210cf,_0x26514c,_0x33b80b,_0x4ccae4;const _0xb6eee6=this['renderTarg'+'et'];this['depthStenc'+'ilOps']=new lw(),_0xb6eee6!=null&&_0xb6eee6['depthBuffe'+'r']&&(this['depthStenc'+'ilOps']['storeDepth']=!(-0xc*-0x81+-0x991+0x35*0x11));const _0x5c0e8e=_0xb6eee6?((_0xf210cf=_0xb6eee6['_colorBuff'+'ers'])==null?void(-0x9e*0x24+-0x1*-0x1493+0x1a5):_0xf210cf['length'])??-0xd78+-0x1758+0x2*0x1268:0x24cf+0x1*0x5f+-0x252d;this['colorArray'+'Ops']['length']=0x747+-0x786+0x3f;for(let _0xe9f950=0x23e+-0x14f*0x1+-0xef;_0xe9f950<_0x5c0e8e;_0xe9f950++){const _0x559619=new ow();this['colorArray'+'Ops'][_0xe9f950]=_0x559619,this['samples']===0x1853+-0x1*0xa11+-0x1*0xe41&&(_0x559619['store']=!(0x59+0x2140+0x2199*-0x1),_0x559619['resolve']=!(-0x15ce+0xc14+0x9bb));const _0x3fb1c7=(_0x33b80b=(_0x26514c=this['renderTarg'+'et'])==null?void(0x1cbf+-0x1acb+-0x2*0xfa):_0x26514c['_colorBuff'+'ers'])==null?void(0x26cd+0x236c+0x1*-0x4a39):_0x33b80b[_0xe9f950];if((_0x4ccae4=this['renderTarg'+'et'])!=null&&_0x4ccae4['mipmaps']&&(_0x3fb1c7!=null&&_0x3fb1c7['mipmaps'])){const _0x1c56c1=dn(_0x3fb1c7['_format']);_0x559619['genMipmaps']=!_0x1c56c1;}}}['destroy'](){}['postInit'](){}['frameUpdat'+'e'](){if(this['_options']&&this['renderTarg'+'et']){const _0x1c3459=this['_options']['resizeSour'+'ce']??this['device']['backBuffer'],_0x239397=Math['floor'](_0x1c3459['width']*this['scaleX']),_0x19931c=Math['floor'](_0x1c3459['height']*this['scaleY']);this['renderTarg'+'et']['resize'](_0x239397,_0x19931c);}}['before'](){}['execute'](){}['after'](){}['onEnable'](){}['onDisable'](){}set['enabled'](_0x1c0a74){this['_enabled']!==_0x1c0a74&&(this['_enabled']=_0x1c0a74,_0x1c0a74?this['onEnable']():this['onDisable']());}get['enabled'](){return this['_enabled'];}['setClearCo'+'lor'](_0x221a74){const _0x15a4a8=this['colorArray'+'Ops']['length'];for(let _0x2fa356=-0x1*-0x4e8+0x1a66+-0x1f4e;_0x2fa356<_0x15a4a8;_0x2fa356++){const _0xba6a47=this['colorArray'+'Ops'][_0x2fa356];_0x221a74&&(_0xba6a47['clearValue']['copy'](_0x221a74),_0xba6a47['clearValue'+'Linear']['linear'](_0x221a74)),_0xba6a47['clear']=!!_0x221a74;}}['setClearDe'+'pth'](_0x1b823e){_0x1b823e&&(this['depthStenc'+'ilOps']['clearDepth'+'Value']=_0x1b823e),this['depthStenc'+'ilOps']['clearDepth']=_0x1b823e!==void(-0x2058+0xce8*-0x3+0x2*0x2388);}['setClearSt'+'encil'](_0x5b23f7){_0x5b23f7&&(this['depthStenc'+'ilOps']['clearStenc'+'ilValue']=_0x5b23f7),this['depthStenc'+'ilOps']['clearStenc'+'il']=_0x5b23f7!==void(-0x1975+0x63d+0x1338);}['render'](){if(this['enabled']){const _0x2efc26=this['device'],_0x18d9b6=this['renderTarg'+'et']!==void(-0x9ff+0x1225+0x1*-0x826);w['call'](()=>{this['log'](_0x2efc26,_0x2efc26['renderPass'+'Index']);}),this['before'](),this['executeEna'+'bled']&&(_0x18d9b6&&!this['_skipStart']&&_0x2efc26['startRende'+'rPass'](this),this['execute'](),_0x18d9b6&&!this['_skipEnd']&&_0x2efc26['endRenderP'+'ass'](this)),this['after'](),_0x2efc26['renderPass'+'Index']++;}}['log'](_0xb1c1d9,_0x2a6e24=-0x112*0x7+-0x1f5f+-0x1*-0x26dd){var _0x594f62,_0x523f8e,_0x5f3459;if(mi['get'](Pm)||mi['get'](cn)){const _0x1420fd=this['renderTarg'+'et']??(this['renderTarg'+'et']===null?_0xb1c1d9['backBuffer']:null),_0x2dbb1f=!!(_0x1420fd!=null&&_0x1420fd['impl']['assignedCo'+'lorTexture'])||(_0x1420fd==null?void(0x8*-0x44f+-0x14ac+0x3724):_0x1420fd['impl']['suppliedCo'+'lorFramebu'+'ffer'])!==void(-0x1*-0x1e95+-0x6d*-0x32+0x33df*-0x1),_0x3c4cc4=((_0x594f62=_0x1420fd==null?void(0x97d+0x2*-0x136f+-0x17*-0x147):_0x1420fd['_colorBuff'+'ers'])==null?void(-0x2333+0x7b6+0x1b7d*0x1):_0x594f62['length'])??(_0x2dbb1f?0x496*-0x1+0x1c96+-0x17ff:0x210b+-0xc20+-0x5*0x42f),_0x50da94=_0x1420fd==null?void(0x4f0+-0x35+-0x1*0x4bb):_0x1420fd['depth'],_0x2318a2=_0x1420fd==null?void(-0xdfa+-0x3*-0x742+0x4*-0x1f3):_0x1420fd['stencil'],_0x49e920=_0x1420fd==null?void(-0x1*0x1f23+0xd4*0x24+0x153):_0x1420fd['mipLevel'],_0x5ce994=_0x1420fd?'\x20RT:\x20'+(_0x1420fd?_0x1420fd['name']:'NULL')+'\x20'+(_0x3c4cc4>0x813+-0x1ec+-0x627?'[Color'+(_0x3c4cc4>-0x14a1+0x1*0x35e+0x1144?'\x20x\x20'+_0x3c4cc4:'')+']':'')+(_0x50da94?'[Depth]':'')+(_0x2318a2?'[Stencil]':'')+'\x20'+_0x1420fd['width']+'\x20x\x20'+_0x1420fd['height']+(this['samples']>0x17b7+-0x8*0x2db+-0xdf?'\x20samples:\x20'+this['samples']:'')+(_0x49e920>-0x1b37+-0x9*0x80+0x1fb7?'\x20mipLevel:'+'\x20'+_0x49e920:''):'',_0x1bdc14=this['_skipStart']?'++':_0x2a6e24['toString']()['padEnd'](-0x43*-0x2d+-0x483*-0x7+-0x2*0x15ad,'\x20');w['trace'](Pm,_0x1bdc14+':\x20'+this['name']['padEnd'](-0x1*-0x1df9+-0x1*-0xf97+0x52*-0x8e,'\x20')+(this['executeEna'+'bled']?'':'\x20DISABLED\x20')+_0x5ce994['padEnd'](-0x2c4+0x1d96+-0x1ab4));for(let _0x3412bd=-0x15b1+-0x2072+-0x3623*-0x1;_0x3412bd<_0x3c4cc4;_0x3412bd++){const _0x101cf1=this['colorArray'+'Ops'][_0x3412bd],_0x232234=(_0x523f8e=Nt['get'](_0x2dbb1f?_0xb1c1d9['backBuffer'+'Format']:_0x1420fd['getColorBu'+'ffer'](_0x3412bd)['format']))==null?void(-0x1825+-0x198b+0x9f0*0x5):_0x523f8e['name'];w['trace'](cn,'\x20\x20\x20\x20color['+_0x3412bd+']:\x20'+(_0x101cf1['clear']?'clear':'load')+'->'+(_0x101cf1['store']?'store':'discard')+'\x20'+(_0x101cf1['resolve']?'resolve\x20':'')+(_0x101cf1['genMipmaps']?'mipmaps\x20':'')+'\x20[format:\x20'+_0x232234+']\x20'+(_0x101cf1['clear']?'[clear:\x20'+_0x101cf1['clearValue']['toString'](!(0x8*-0x3bf+0x1*0x224f+-0xb*0x65),!(0x1e02+0x34d+0x214f*-0x1))+']':''));}if(this['depthStenc'+'ilOps']){const _0x3abd12=''+(_0x1420fd['depthBuffe'+'r']?'\x20[format:\x20'+((_0x5f3459=Nt['get'](_0x1420fd['depthBuffe'+'r']['format']))==null?void(-0x5*-0x361+-0x27*0xea+0x12c1):_0x5f3459['name'])+']':'');_0x50da94&&w['trace'](cn,'\x20\x20\x20\x20depthO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearDepth']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeDepth']?'store':'discard')+(this['depthStenc'+'ilOps']['resolveDep'+'th']?'\x20resolve':'')+_0x3abd12+(this['depthStenc'+'ilOps']['clearDepth']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearDepth'+'Value']+']':'')),_0x2318a2&&w['trace'](cn,'\x20\x20\x20\x20stencO'+'ps:\x20'+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'clear':'load')+'->'+(this['depthStenc'+'ilOps']['storeStenc'+'il']?'store':'discard')+_0x3abd12+(this['depthStenc'+'ilOps']['clearStenc'+'il']?'\x20[clear:\x20'+this['depthStenc'+'ilOps']['clearStenc'+'ilValue']+']':''));}}}}function cw(_0xb9230f){this['array'][this['index']]=_0xb9230f;}function hw(_0x298cea,_0x515de9){this['array'][this['index']]=_0x298cea,this['array'][this['index']+(0x1bb7+0x50*0x3f+-0x1*0x2f66)]=_0x515de9;}function dw(_0x5ed996,_0x597c3f,_0x5b3033){this['array'][this['index']]=_0x5ed996,this['array'][this['index']+(0x15df*0x1+0x62f*0x5+-0x1*0x34c9)]=_0x597c3f,this['array'][this['index']+(-0x1*-0x120a+0x71*0x43+-0x6cd*0x7)]=_0x5b3033;}function fw(_0x38f766,_0x27987d,_0x45d1c7,_0x475d60){this['array'][this['index']]=_0x38f766,this['array'][this['index']+(-0x5*-0x3a9+0x1d0f+-0x2f5b)]=_0x27987d,this['array'][this['index']+(0x129f*0x1+-0x1855+-0x1*-0x5b8)]=_0x45d1c7,this['array'][this['index']+(0x7*-0x19+-0x5*-0x5dd+-0x1c9f)]=_0x475d60;}function uw(_0x43c5bc,_0x1d9c4b,_0xef051e){this['array'][_0x43c5bc]=_0x1d9c4b[_0xef051e];}function pw(_0x3dfb20,_0x5327be,_0xb54d46){this['array'][_0x3dfb20]=_0x5327be[_0xb54d46],this['array'][_0x3dfb20+(-0x4*0x637+-0x1513+0x2df0)]=_0x5327be[_0xb54d46+(-0xe5*-0xc+0x6*-0x1a9+0xc5*-0x1)];}function mw(_0xece314,_0x3ad6da,_0x196e5e){this['array'][_0xece314]=_0x3ad6da[_0x196e5e],this['array'][_0xece314+(-0x132+-0x1525+-0xa*-0x23c)]=_0x3ad6da[_0x196e5e+(-0x1413+0xdab*-0x1+0x21bf)],this['array'][_0xece314+(-0x2375*0x1+0x1*-0x204d+-0x21e2*-0x2)]=_0x3ad6da[_0x196e5e+(0x3fb+-0x1b*-0x75+-0x20a*0x8)];}function _w(_0x501def,_0x48797c,_0x41439a){this['array'][_0x501def]=_0x48797c[_0x41439a],this['array'][_0x501def+(-0x143*-0x2+-0x58*-0x2+-0x335)]=_0x48797c[_0x41439a+(0x1*-0x1eeb+0x146e*0x1+0xa7e)],this['array'][_0x501def+(-0x20ce+0x100+0x10*0x1fd)]=_0x48797c[_0x41439a+(0x20*0x134+-0x21f2+0xc2*-0x6)],this['array'][_0x501def+(-0x231a+0x6d5+0x1c48)]=_0x48797c[_0x41439a+(0x201f+-0x12b7*-0x2+0x183*-0x2e)];}function gw(_0x2b7bfe,_0x28675e,_0x80c50f){_0x28675e[_0x80c50f]=this['array'][_0x2b7bfe];}function Sw(_0x22ec82,_0x15acf9,_0x24c0f3){_0x15acf9[_0x24c0f3]=this['array'][_0x22ec82],_0x15acf9[_0x24c0f3+(-0x10a9+-0x181f+0x28c9*0x1)]=this['array'][_0x22ec82+(-0x2bb+0x165*-0x3+0x6eb)];}function yw(_0x1c43c4,_0x4f914c,_0x56c50c){_0x4f914c[_0x56c50c]=this['array'][_0x1c43c4],_0x4f914c[_0x56c50c+(0x13*0x19d+0x6e*-0xd+-0x1910)]=this['array'][_0x1c43c4+(-0x20ac+0x15e*0x3+0x5b7*0x5)],_0x4f914c[_0x56c50c+(-0x3a3*0x5+0x26*-0xbc+-0x2e19*-0x1)]=this['array'][_0x1c43c4+(-0x1*-0x12ff+-0x874+0x1d*-0x5d)];}function vw(_0x408311,_0x2c60e3,_0x2d7db1){_0x2c60e3[_0x2d7db1]=this['array'][_0x408311],_0x2c60e3[_0x2d7db1+(0x244*0x1+0x2525+0x9da*-0x4)]=this['array'][_0x408311+(0x1*0x2492+-0x20e1+0x76*-0x8)],_0x2c60e3[_0x2d7db1+(-0xb93+0x1c3f+-0x10aa)]=this['array'][_0x408311+(-0x637+0xf2*-0xd+0x1283)],_0x2c60e3[_0x2d7db1+(-0xb52+-0x2246+0x2d9b)]=this['array'][_0x408311+(-0x1a4b*-0x1+0x59e+0x551*-0x6)];}class xw{constructor(_0x1ac26a,_0x3c3e07,_0x4ebdbd){switch(this['index']=0x211b+0x14f4+0x360f*-0x1,this['numCompone'+'nts']=_0x3c3e07['numCompone'+'nts'],_0x4ebdbd['interleave'+'d']?this['array']=new wn[_0x3c3e07['dataType']](_0x1ac26a,_0x3c3e07['offset']):this['array']=new wn[_0x3c3e07['dataType']](_0x1ac26a,_0x3c3e07['offset'],_0x4ebdbd['vertexCoun'+'t']*_0x3c3e07['numCompone'+'nts']),this['stride']=_0x3c3e07['stride']/this['array']['constructo'+'r']['BYTES_PER_'+'ELEMENT'],_0x3c3e07['numCompone'+'nts']){case-0xacd+-0x2*-0x49+0xa3c:this['set']=cw,this['getToArray']=gw,this['setFromArr'+'ay']=uw;break;case-0xe7a+-0x1*-0x368+0xb14:this['set']=hw,this['getToArray']=Sw,this['setFromArr'+'ay']=pw;break;case 0x1835+-0x1b21+0x2ef:this['set']=dw,this['getToArray']=yw,this['setFromArr'+'ay']=mw;break;case 0xf*0x14d+-0x1ed3*-0x1+-0x3252:this['set']=fw,this['getToArray']=vw,this['setFromArr'+'ay']=_w;break;}}['get'](_0x29f8fd){return this['array'][this['index']+_0x29f8fd];}['set'](_0x1a88fb,_0x5e90eb,_0x309d48,_0x4cfa37){}['getToArray'](_0x3dc2d,_0x5a213d,_0x260e0e){}['setFromArr'+'ay'](_0x191652,_0x8dcbde,_0x5d4400){}}class Uo{constructor(_0x54ef67){this['vertexBuff'+'er']=_0x54ef67,this['vertexForm'+'atSize']=_0x54ef67['getFormat']()['size'],this['buffer']=this['vertexBuff'+'er']['lock'](),this['accessors']=[],this['element']={};const _0x363585=this['vertexBuff'+'er']['getFormat']();for(let _0x3367b4=0x2344+-0x1*0x2335+-0xf;_0x3367b4<_0x363585['elements']['length'];_0x3367b4++){const _0x127e75=_0x363585['elements'][_0x3367b4];this['accessors'][_0x3367b4]=new xw(this['buffer'],_0x127e75,_0x363585),this['element'][_0x127e75['name']]=this['accessors'][_0x3367b4];}}['next'](_0x3c8469=0x1741*-0x1+-0x2315+0x3a57){let _0x10b462=0x24a0+0x238b+-0x482b;const _0x22698e=this['accessors'],_0x1ad30d=this['accessors']['length'];for(;_0x10b462<_0x1ad30d;){const _0x147c39=_0x22698e[_0x10b462++];_0x147c39['index']+=_0x3c8469*_0x147c39['stride'];}}['end'](){this['vertexBuff'+'er']['unlock']();}['writeData'](_0x584f75,_0x29b85d,_0x2b491f){const _0x4bac0a=this['element'][_0x584f75];if(_0x4bac0a){_0x2b491f>this['vertexBuff'+'er']['numVertice'+'s']&&(w['error']('NumVertice'+'s\x20provided'+'\x20to\x20setDat'+'a:\x20'+_0x2b491f+('\x20is\x20larger'+'\x20than\x20spac'+'e\x20in\x20Verte'+'xBuffer:\x20')+this['vertexBuff'+'er']['numVertice'+'s']),_0x2b491f=this['vertexBuff'+'er']['numVertice'+'s']);const _0x7c0c1a=_0x4bac0a['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){let _0x416294=-0x1b38+0x2*0x6b6+0xdcc;for(let _0x3c8f78=0x5*0x523+0xb70+-0x251f;_0x3c8f78<_0x2b491f;_0x3c8f78++)_0x4bac0a['setFromArr'+'ay'](_0x416294,_0x29b85d,_0x3c8f78*_0x7c0c1a),_0x416294+=_0x4bac0a['stride'];}else{if(_0x29b85d['length']>_0x2b491f*_0x7c0c1a){const _0x23979b=_0x2b491f*_0x7c0c1a;if(ArrayBuffer['isView'](_0x29b85d))_0x29b85d=_0x29b85d['subarray'](0x3b5*-0x9+0x2*-0xa4a+0x35f1,_0x23979b),_0x4bac0a['array']['set'](_0x29b85d);else{for(let _0x454fd5=-0x19*0x68+0x1907*-0x1+0x1*0x232f;_0x454fd5<_0x23979b;_0x454fd5++)_0x4bac0a['array'][_0x454fd5]=_0x29b85d[_0x454fd5];}}else _0x4bac0a['array']['set'](_0x29b85d);}}}['readData'](_0x4c5c9f,_0x1864ba){const _0x23726b=this['element'][_0x4c5c9f];let _0x3d1203=-0x1870+0x7*-0x5c+0x1cc*0xf;if(_0x23726b){_0x3d1203=this['vertexBuff'+'er']['numVertice'+'s'];let _0x2ed2ae;const _0xc45f21=_0x23726b['numCompone'+'nts'];if(this['vertexBuff'+'er']['getFormat']()['interleave'+'d']){Array['isArray'](_0x1864ba)&&(_0x1864ba['length']=-0x101*0x21+-0x17e6+0x1*0x3907),_0x23726b['index']=0x53*0x72+-0x2692+0x19c;let _0x5f3f19=-0x181f+0x994*0x1+0x49*0x33;for(_0x2ed2ae=-0x25a9+0x1683+0xf26;_0x2ed2ae<_0x3d1203;_0x2ed2ae++)_0x23726b['getToArray'](_0x5f3f19,_0x1864ba,_0x2ed2ae*_0xc45f21),_0x5f3f19+=_0x23726b['stride'];}else{if(ArrayBuffer['isView'](_0x1864ba))_0x1864ba['set'](_0x23726b['array']);else{_0x1864ba['length']=0x91*0x11+-0x9d*-0xc+-0x10fd;const _0x265d9a=_0x3d1203*_0xc45f21;for(_0x2ed2ae=-0x154e+0x1*-0x1052+0x25a0;_0x2ed2ae<_0x265d9a;_0x2ed2ae++)_0x1864ba[_0x2ed2ae]=_0x23726b['array'][_0x2ed2ae];}}}return _0x3d1203;}}const Tw=-(0x23a1+0x53b+-0x1*0x28db);class ww{constructor(_0x3cafad,_0x43d3e2){h(this,'key',null),h(this,'element',null),h(this,'event',null),_0x43d3e2&&(this['key']=_0x43d3e2['keyCode'],this['element']=_0x43d3e2['target'],this['event']=_0x43d3e2);}}const jl=new ww();function Vd(_0x2529f4){return jl['key']=_0x2529f4['keyCode'],jl['element']=_0x2529f4['target'],jl['event']=_0x2529f4,jl;}function Yl(_0x454481){return typeof _0x454481=='string'?_0x454481['toUpperCas'+'e']()['charCodeAt'](0x146d+-0x2*0xd6a+0x667*0x1):_0x454481;}const Ew={0x9:'Tab',0xd:'Enter',0x10:'Shift',0x11:'Control',0x12:'Alt',0x1b:'Escape',0x25:'Left',0x26:'Up',0x27:'Right',0x28:'Down',0x2e:'Delete',0x5b:'Win'};class h_ extends me{constructor(_0x3fc325,_0x5b7fd5={}){super(),h(this,'_element',null),h(this,'_keymap',{}),h(this,'_lastmap',{}),(this['_keyDownHa'+'ndler']=this['_handleKey'+'Down']['bind'](this),this['_keyUpHand'+'ler']=this['_handleKey'+'Up']['bind'](this),this['_keyPressH'+'andler']=this['_handleKey'+'Press']['bind'](this),this['_visibilit'+'yChangeHan'+'dler']=this['_handleVis'+'ibilityCha'+'nge']['bind'](this),this['_windowBlu'+'rHandler']=this['_handleWin'+'dowBlur']['bind'](this),_0x3fc325&&this['attach'](_0x3fc325),this['preventDef'+'ault']=_0x5b7fd5['preventDef'+'ault']||!(-0x74b*0x4+0x1*0x1e95+-0x1*0x168),this['stopPropag'+'ation']=_0x5b7fd5['stopPropag'+'ation']||!(-0x3*-0x26b+0x1fcb+0x270b*-0x1));}['attach'](_0x4ddd2e){this['_element']&&this['detach'](),this['_element']=_0x4ddd2e,this['_element']['addEventLi'+'stener']('keydown',this['_keyDownHa'+'ndler'],!(0x5c4+-0xf8b+0x8*0x139)),this['_element']['addEventLi'+'stener']('keypress',this['_keyPressH'+'andler'],!(-0x5*-0xfa+0x1*-0x2ad+-0x234)),this['_element']['addEventLi'+'stener']('keyup',this['_keyUpHand'+'ler'],!(-0x14*-0x1d3+-0x135b+-0x1120)),document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x1f6a+-0x73f+-0xc15*0x2)),window['addEventLi'+'stener']('blur',this['_windowBlu'+'rHandler'],!(-0x2*0x301+0x203*-0x13+0x26*0x12a));}['detach'](){if(!this['_element']){w['warn']('Unable\x20to\x20'+'detach\x20key'+'board.\x20It\x20'+'is\x20not\x20att'+'ached\x20to\x20a'+'n\x20element.');return;}this['_element']['removeEven'+'tListener']('keydown',this['_keyDownHa'+'ndler']),this['_element']['removeEven'+'tListener']('keypress',this['_keyPressH'+'andler']),this['_element']['removeEven'+'tListener']('keyup',this['_keyUpHand'+'ler']),this['_element']=null,document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(0x8e6+-0x1103+0x81e)),window['removeEven'+'tListener']('blur',this['_windowBlu'+'rHandler'],!(-0x19c+-0x1a9a+0x1c37));}['toKeyIdent'+'ifier'](_0x5ef4ee){_0x5ef4ee=Yl(_0x5ef4ee);const _0x592849=Ew[_0x5ef4ee['toString']()];if(_0x592849)return _0x592849;let _0x23ad47=_0x5ef4ee['toString'](-0x3d*0x37+0x1*-0x103f+-0x1*-0x1d6a)['toUpperCas'+'e']();const _0x207b98=_0x23ad47['length'];for(let _0x64172e=0x1297*0x1+0x1b47*0x1+-0x2dde;_0x64172e<0x67*-0x49+-0x119+0x1*0x1e7c-_0x207b98;_0x64172e++)_0x23ad47='0'+_0x23ad47;return'U+'+_0x23ad47;}['_handleKey'+'Down'](_0x3c842b){const _0x51ca16=_0x3c842b['keyCode']||_0x3c842b['charCode'];if(_0x51ca16===void(-0x25fd+-0x643*-0x3+0x1334*0x1))return;const _0x5caa91=this['toKeyIdent'+'ifier'](_0x51ca16);this['_keymap'][_0x5caa91]=!(0x13*0x1cd+-0x4ec+0x1d4b*-0x1),this['fire']('keydown',Vd(_0x3c842b)),this['preventDef'+'ault']&&_0x3c842b['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x3c842b['stopPropag'+'ation']();}['_handleKey'+'Up'](_0x3cd189){const _0x4602fb=_0x3cd189['keyCode']||_0x3cd189['charCode'];if(_0x4602fb===void(-0x1221+-0x22b*0x7+-0x1d*-0x126))return;const _0x4c8820=this['toKeyIdent'+'ifier'](_0x4602fb);delete this['_keymap'][_0x4c8820],this['fire']('keyup',Vd(_0x3cd189)),this['preventDef'+'ault']&&_0x3cd189['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x3cd189['stopPropag'+'ation']();}['_handleKey'+'Press'](_0x429c32){this['fire']('keypress',Vd(_0x429c32)),this['preventDef'+'ault']&&_0x429c32['preventDef'+'ault'](),this['stopPropag'+'ation']&&_0x429c32['stopPropag'+'ation']();}['_handleVis'+'ibilityCha'+'nge'](){document['visibility'+'State']==='hidden'&&this['_handleWin'+'dowBlur']();}['_handleWin'+'dowBlur'](){this['_keymap']={},this['_lastmap']={};}['update'](){for(const _0x1d2db1 in this['_lastmap'])delete this['_lastmap'][_0x1d2db1];for(const _0x22af99 in this['_keymap'])this['_keymap']['hasOwnProp'+'erty'](_0x22af99)&&(this['_lastmap'][_0x22af99]=this['_keymap'][_0x22af99]);}['isPressed'](_0x5a90d1){const _0x4c4640=Yl(_0x5a90d1),_0xdd1c67=this['toKeyIdent'+'ifier'](_0x4c4640);return!!this['_keymap'][_0xdd1c67];}['wasPressed'](_0x44b9b5){const _0x129b78=Yl(_0x44b9b5),_0x500ba5=this['toKeyIdent'+'ifier'](_0x129b78);return!!this['_keymap'][_0x500ba5]&&!this['_lastmap'][_0x500ba5];}['wasRelease'+'d'](_0x14aafc){const _0x72a35=Yl(_0x14aafc),_0x5c5dd2=this['toKeyIdent'+'ifier'](_0x72a35);return!this['_keymap'][_0x5c5dd2]&&!!this['_lastmap'][_0x5c5dd2];}}h(h_,'EVENT_KEYD'+'OWN','keydown'),h(h_,'EVENT_KEYU'+'P','keyup');function ru(){return!!(document['pointerLoc'+'kElement']||document['mozPointer'+'LockElemen'+'t']||document['webkitPoin'+'terLockEle'+'ment']);}class ta{constructor(_0x48cb2f,_0x548fc4){h(this,'x',-0x1b55*-0x1+0x15ce+0x1*-0x3123),h(this,'y',0x3*0x5df+-0x1*0x35b+-0x16d*0xa),h(this,'dx',-0x4a9*0x6+-0x9*-0xaa+0x10c*0x15),h(this,'dy',-0x1*0x18d9+0xc5a+-0x1*-0xc7f),h(this,'button',Tw),h(this,'wheelDelta',-0xb*-0x21d+0x6*0x661+-0x3d85),h(this,'element'),h(this,'ctrlKey',!(0x9*0x1f9+0x1*0x24e9+-0x7cf*0x7)),h(this,'altKey',!(-0x1e7+0x1749*-0x1+0x1*0x1931)),h(this,'shiftKey',!(-0x11ea+0x4b2*0x1+0xd39)),h(this,'metaKey',!(-0x942+-0x1f0e+-0x2851*-0x1)),h(this,'event');let _0x50de8e={'x':0x0,'y':0x0};if(_0x548fc4){if(_0x548fc4 instanceof ta)throw Error('Expected\x20M'+'ouseEvent');_0x50de8e=_0x48cb2f['_getTarget'+'Coords'](_0x548fc4);}else _0x548fc4={};if(_0x50de8e)this['x']=_0x50de8e['x'],this['y']=_0x50de8e['y'];else{if(ru())this['x']=-0x1*0x83f+-0x9f8+-0x1237*-0x1,this['y']=-0x11b*-0x4+-0x8*-0x49b+-0x116*0x26;else return;}_0x548fc4['type']==='wheel'&&(_0x548fc4['deltaY']>-0x22b4+-0x18d0+0x125*0x34?this['wheelDelta']=0x246c+0x13*-0x73+-0xa6*0x2b:_0x548fc4['deltaY']<-0x13f1+0xc*-0x2ea+0x36e9&&(this['wheelDelta']=-(-0x198d+-0x8a7+0x2235))),ru()?(this['dx']=_0x548fc4['movementX']||_0x548fc4['webkitMove'+'mentX']||_0x548fc4['mozMovemen'+'tX']||-0x690+0x1*-0x21da+0x286a,this['dy']=_0x548fc4['movementY']||_0x548fc4['webkitMove'+'mentY']||_0x548fc4['mozMovemen'+'tY']||-0x1274+-0x5b3*-0x1+0x28d*0x5):(this['dx']=this['x']-_0x48cb2f['_lastX'],this['dy']=this['y']-_0x48cb2f['_lastY']),(_0x548fc4['type']==='mousedown'||_0x548fc4['type']==='mouseup')&&(this['button']=_0x548fc4['button']),this['buttons']=_0x48cb2f['_buttons']['slice'](-0x4bb+0x1*0x1bbe+-0x1703),this['element']=_0x548fc4['target'],this['ctrlKey']=_0x548fc4['ctrlKey']??!(-0x260b+0x79f+-0x1*-0x1e6d),this['altKey']=_0x548fc4['altKey']??!(0xb*0x35a+-0xf59+0x1584*-0x1),this['shiftKey']=_0x548fc4['shiftKey']??!(0x7*-0x41a+0xca*0x3+0x5*0x545),this['metaKey']=_0x548fc4['metaKey']??!(-0x55d*-0x7+0x371+0xda9*-0x3),this['event']=_0x548fc4;}}class sa extends me{constructor(_0x35b955){super(),h(this,'_lastX',-0x159a+0x1e84+-0x8ea),h(this,'_lastY',-0x1e*0x4+0xc*0x307+-0xa*0x396),h(this,'_buttons',[!(0x3*0x38a+-0x827+-0x276),!(0x1*-0x6f2+0x1*-0x1fb4+0x26a7),!(-0x1309*-0x1+0x748*-0x2+-0x478)]),h(this,'_lastbutto'+'ns',[!(0x364+-0x1bd*-0x1+-0x520),!(-0xfe7+0x1de4+-0x14*0xb3),!(-0xc4c+-0x1*0xec6+-0x1*-0x1b13)]),h(this,'_target',null),h(this,'_attached',!(-0x2320+0xdb9+0x1568)),(this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_contextMe'+'nuHandler']=_0xb1df86=>{_0xb1df86['preventDef'+'ault']();},this['attach'](_0x35b955));}static['isPointerL'+'ocked'](){return ru();}['attach'](_0xf9c3db){if(this['_target']=_0xf9c3db,this['_attached'])return;this['_attached']=!(0x212*0x8+0x50c+-0x3*0x734);const _0x1bc0d1={'passive':!(-0x4*-0x3fa+0xc9e+-0x31*0x95)},_0x30b1c8=Ae['passiveEve'+'nts']?_0x1bc0d1:!(0x104*0x16+0x2397+-0x39ee);window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x30b1c8),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x30b1c8),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x30b1c8),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x30b1c8);}['detach'](){if(!this['_attached'])return;this['_attached']=!(-0x19ae+0x2*-0xa61+-0x3*-0xf7b),this['_target']=null;const _0x474a46={'passive':!(-0x23c9*-0x1+-0x1*0xf0a+-0xb1*0x1e)},_0x1fa2aa=Ae['passiveEve'+'nts']?_0x474a46:!(0x6*0x130+-0x445*-0x1+0xa2*-0x12);window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x1fa2aa),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x1fa2aa),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x1fa2aa),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x1fa2aa);}['disableCon'+'textMenu'](){this['_target']&&this['_target']['addEventLi'+'stener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enableCont'+'extMenu'](){this['_target']&&this['_target']['removeEven'+'tListener']('contextmen'+'u',this['_contextMe'+'nuHandler']);}['enablePoin'+'terLock'](_0x3744e4,_0x3a1454){if(!document['body']['requestPoi'+'nterLock']){_0x3a1454&&_0x3a1454();return;}const _0x121829=()=>{_0x3744e4(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x121829);},_0xc66d77=()=>{_0x3a1454(),document['removeEven'+'tListener']('pointerloc'+'kerror',_0xc66d77);};_0x3744e4&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x121829,!(-0x182*-0x2+0x1b39+-0x1e3c)),_0x3a1454&&document['addEventLi'+'stener']('pointerloc'+'kerror',_0xc66d77,!(0x1fbb*0x1+0x246d+-0x4427)),document['body']['requestPoi'+'nterLock']();}['disablePoi'+'nterLock'](_0x4dc95d){if(!document['exitPointe'+'rLock'])return;const _0x3f00f7=()=>{_0x4dc95d(),document['removeEven'+'tListener']('pointerloc'+'kchange',_0x3f00f7);};_0x4dc95d&&document['addEventLi'+'stener']('pointerloc'+'kchange',_0x3f00f7,!(0x1*0xc74+0x9aa+-0x9*0x275)),document['exitPointe'+'rLock']();}['update'](){this['_lastbutto'+'ns'][-0x1*-0x506+0x2683*0x1+0x8b5*-0x5]=this['_buttons'][-0x140b+-0x1*0x17f+0x6*0x397],this['_lastbutto'+'ns'][0x2b3*-0x4+0x25+0xaa8]=this['_buttons'][0x13*0x11d+0x2539+-0x3a5f],this['_lastbutto'+'ns'][0x8ed+-0x1b8d+0x12a2]=this['_buttons'][-0xe*-0x2d+0x7fa+-0xa6e];}['isPressed'](_0xb59683){return this['_buttons'][_0xb59683];}['wasPressed'](_0x9a8a3){return this['_buttons'][_0x9a8a3]&&!this['_lastbutto'+'ns'][_0x9a8a3];}['wasRelease'+'d'](_0x23c4a5){return!this['_buttons'][_0x23c4a5]&&this['_lastbutto'+'ns'][_0x23c4a5];}['_handleUp'](_0x2ca757){this['_buttons'][_0x2ca757['button']]=!(0x3*-0x611+-0x21ee+-0x1*-0x3422);const _0xe80533=new ta(this,_0x2ca757);_0xe80533['event']&&this['fire']('mouseup',_0xe80533);}['_handleDow'+'n'](_0x49f544){this['_buttons'][_0x49f544['button']]=!(0x1e74+0x112*-0xd+0x3a*-0x49);const _0x304e5b=new ta(this,_0x49f544);_0x304e5b['event']&&this['fire']('mousedown',_0x304e5b);}['_handleMov'+'e'](_0x42c16d){const _0x13ed00=new ta(this,_0x42c16d);_0x13ed00['event']&&(this['fire']('mousemove',_0x13ed00),this['_lastX']=_0x13ed00['x'],this['_lastY']=_0x13ed00['y']);}['_handleWhe'+'el'](_0x3d0850){const _0x3d7db7=new ta(this,_0x3d0850);_0x3d7db7['event']&&this['fire']('mousewheel',_0x3d7db7);}['_getTarget'+'Coords'](_0x3af996){const _0x29c8ca=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x51ea07=Math['floor'](_0x29c8ca['left']),_0xc9c906=Math['floor'](_0x29c8ca['top']);return _0x3af996['clientX']<_0x51ea07||_0x3af996['clientX']>=_0x51ea07+this['_target']['clientWidt'+'h']||_0x3af996['clientY']<_0xc9c906||_0x3af996['clientY']>=_0xc9c906+this['_target']['clientHeig'+'ht']?null:{'x':_0x3af996['clientX']-_0x51ea07,'y':_0x3af996['clientY']-_0xc9c906};}}h(sa,'EVENT_MOUS'+'EMOVE','mousemove'),h(sa,'EVENT_MOUS'+'EDOWN','mousedown'),h(sa,'EVENT_MOUS'+'EUP','mouseup'),h(sa,'EVENT_MOUS'+'EWHEEL','mousewheel');function Wc(_0x320c7b){let _0x4acd2c=0xeb0+0x986+0x812*-0x3,_0x4d1d6a=-0x59*-0x2a+0x1*-0xeb+0xdaf*-0x1,_0x38e889=_0x320c7b['target'];for(;!(_0x38e889 instanceof HTMLElement)&&_0x38e889;)_0x38e889=_0x38e889['parentNode'];for(;_0x38e889;)_0x4acd2c+=_0x38e889['offsetLeft']-_0x38e889['scrollLeft'],_0x4d1d6a+=_0x38e889['offsetTop']-_0x38e889['scrollTop'],_0x38e889=_0x38e889['offsetPare'+'nt'];return{'x':_0x320c7b['pageX']-_0x4acd2c,'y':_0x320c7b['pageY']-_0x4d1d6a};}class d_{constructor(_0x1e064b){h(this,'id'),h(this,'x'),h(this,'y'),h(this,'target'),h(this,'touch');const _0x4cb556=Wc(_0x1e064b);this['id']=_0x1e064b['identifier'],this['x']=_0x4cb556['x'],this['y']=_0x4cb556['y'],this['target']=_0x1e064b['target'],this['touch']=_0x1e064b;}}class Kl{constructor(_0x26f208,_0x4a122b){h(this,'element'),h(this,'event'),h(this,'touches',[]),h(this,'changedTou'+'ches',[]),(this['element']=_0x4a122b['target'],this['event']=_0x4a122b,this['touches']=Array['from'](_0x4a122b['touches'])['map'](_0x2c51cd=>new d_(_0x2c51cd)),this['changedTou'+'ches']=Array['from'](_0x4a122b['changedTou'+'ches'])['map'](_0x18233c=>new d_(_0x18233c)));}['getTouchBy'+'Id'](_0x8af4aa,_0x31d277){return _0x31d277['find'](_0x3a34ee=>_0x3a34ee['id']===_0x8af4aa)||null;}}class Zl extends me{constructor(_0x1e5981){super(),this['_element']=null,this['_startHand'+'ler']=this['_handleTou'+'chStart']['bind'](this),this['_endHandle'+'r']=this['_handleTou'+'chEnd']['bind'](this),this['_moveHandl'+'er']=this['_handleTou'+'chMove']['bind'](this),this['_cancelHan'+'dler']=this['_handleTou'+'chCancel']['bind'](this),this['attach'](_0x1e5981);}['attach'](_0x2a7611){this['_element']&&this['detach'](),this['_element']=_0x2a7611,this['_element']['addEventLi'+'stener']('touchstart',this['_startHand'+'ler'],!(-0x861*0x3+0x65*-0x1+0x1989)),this['_element']['addEventLi'+'stener']('touchend',this['_endHandle'+'r'],!(-0x1*0xb1d+0xfd*-0x17+0x21d9)),this['_element']['addEventLi'+'stener']('touchmove',this['_moveHandl'+'er'],!(0x994+-0x905*-0x4+-0x2da7)),this['_element']['addEventLi'+'stener']('touchcance'+'l',this['_cancelHan'+'dler'],!(0xd9+-0x1813*0x1+-0x13*-0x139));}['detach'](){this['_element']&&(this['_element']['removeEven'+'tListener']('touchstart',this['_startHand'+'ler'],!(-0x251*0x2+-0x434+0x8d7)),this['_element']['removeEven'+'tListener']('touchend',this['_endHandle'+'r'],!(-0xf*0x213+0x76*-0x40+0x2*0x1e4f)),this['_element']['removeEven'+'tListener']('touchmove',this['_moveHandl'+'er'],!(-0x3a1+0x5d1+-0x22f)),this['_element']['removeEven'+'tListener']('touchcance'+'l',this['_cancelHan'+'dler'],!(0x137f+0x2226+-0x35a4))),this['_element']=null;}['_handleTou'+'chStart'](_0x414351){this['fire']('touchstart',new Kl(this,_0x414351));}['_handleTou'+'chEnd'](_0x2c65e9){this['fire']('touchend',new Kl(this,_0x2c65e9));}['_handleTou'+'chMove'](_0x4a1773){_0x4a1773['preventDef'+'ault'](),this['fire']('touchmove',new Kl(this,_0x4a1773));}['_handleTou'+'chCancel'](_0x26c72f){this['fire']('touchcance'+'l',new Kl(this,_0x26c72f));}}h(Zl,'EVENT_TOUC'+'HSTART','touchstart'),h(Zl,'EVENT_TOUC'+'HEND','touchend'),h(Zl,'EVENT_TOUC'+'HMOVE','touchmove'),h(Zl,'EVENT_TOUC'+'HCANCEL','touchcance'+'l');const Oe=class Oe{['get'](_0x4e9245,_0x28bbb4,_0x1c2c5c){typeof _0x28bbb4=='function'&&(_0x1c2c5c=_0x28bbb4,_0x28bbb4={});const _0x3d17b9=this['request']('GET',_0x4e9245,_0x28bbb4,_0x1c2c5c),{progress:_0x58e6b2}=_0x28bbb4;if(_0x58e6b2){const _0x47169f=_0x320679=>{_0x320679['lengthComp'+'utable']&&_0x58e6b2['fire']('progress',_0x320679['loaded'],_0x320679['total']);},_0x5e8adb=_0x17f2f0=>{_0x47169f(_0x17f2f0),_0x3d17b9['removeEven'+'tListener']('loadstart',_0x47169f),_0x3d17b9['removeEven'+'tListener']('progress',_0x47169f),_0x3d17b9['removeEven'+'tListener']('loadend',_0x5e8adb);};_0x3d17b9['addEventLi'+'stener']('loadstart',_0x47169f),_0x3d17b9['addEventLi'+'stener']('progress',_0x47169f),_0x3d17b9['addEventLi'+'stener']('loadend',_0x5e8adb);}return _0x3d17b9;}['post'](_0x36bc69,_0x359e8e,_0x208e9e,_0x27ccc5){return typeof _0x208e9e=='function'&&(_0x27ccc5=_0x208e9e,_0x208e9e={}),_0x208e9e['postdata']=_0x359e8e,this['request']('POST',_0x36bc69,_0x208e9e,_0x27ccc5);}['put'](_0x75c43d,_0x506514,_0x3a5780,_0x244e64){return typeof _0x3a5780=='function'&&(_0x244e64=_0x3a5780,_0x3a5780={}),_0x3a5780['postdata']=_0x506514,this['request']('PUT',_0x75c43d,_0x3a5780,_0x244e64);}['del'](_0x25e44e,_0x17b1fd,_0x2de002){return typeof _0x17b1fd=='function'&&(_0x2de002=_0x17b1fd,_0x17b1fd={}),this['request']('DELETE',_0x25e44e,_0x17b1fd,_0x2de002);}['request'](_0x7e9d95,_0x1e48af,_0x415d3a,_0xb151ec){let _0x4e8bc1,_0x4dff58,_0xe41b48,_0x2f6177=!(0x1e70*0x1+-0x70*0x1a+-0x130f);if(typeof _0x415d3a=='function'&&(_0xb151ec=_0x415d3a,_0x415d3a={}),_0x415d3a['retry']&&(_0x415d3a=Object['assign']({'retries':0x0,'maxRetries':0x5},_0x415d3a)),_0x415d3a['callback']=_0xb151ec,_0x415d3a['async']==null&&(_0x415d3a['async']=!(0x1022+0xace+-0x1af0)),_0x415d3a['headers']==null&&(_0x415d3a['headers']={}),_0x415d3a['postdata']!=null){if(_0x415d3a['postdata']instanceof Document)_0xe41b48=_0x415d3a['postdata'];else{if(_0x415d3a['postdata']instanceof FormData)_0xe41b48=_0x415d3a['postdata'];else{if(_0x415d3a['postdata']instanceof Object){let _0x1ca868=_0x415d3a['headers']['Content-Ty'+'pe'];switch(_0x1ca868===void(0x23df+-0x1bf+-0x2220)&&(_0x415d3a['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED'],_0x1ca868=_0x415d3a['headers']['Content-Ty'+'pe']),_0x1ca868){case Oe['ContentTyp'+'e']['FORM_URLEN'+'CODED']:{_0xe41b48='';let _0x43d110=!(-0xbba*-0x3+-0x1c74+-0x6ba);for(const _0x3aecb5 in _0x415d3a['postdata'])if(_0x415d3a['postdata']['hasOwnProp'+'erty'](_0x3aecb5)){_0x43d110?_0x43d110=!(0x2024+0x1337*0x1+-0x335a*0x1):_0xe41b48+='&';const _0x283c3a=encodeURIComponent(_0x3aecb5),_0x38f9c7=encodeURIComponent(_0x415d3a['postdata'][_0x3aecb5]);_0xe41b48+=_0x283c3a+'='+_0x38f9c7;}break;}default:case Oe['ContentTyp'+'e']['JSON']:_0x1ca868==null&&(_0x415d3a['headers']['Content-Ty'+'pe']=Oe['ContentTyp'+'e']['JSON']),_0xe41b48=JSON['stringify'](_0x415d3a['postdata']);break;}}else _0xe41b48=_0x415d3a['postdata'];}}}if(_0x415d3a['cache']===!(-0x5*0x3d5+-0x5*-0x93+0x104b)){const _0x52d9ac=de();_0x4e8bc1=new Rd(_0x1e48af),_0x4e8bc1['query']?_0x4e8bc1['query']=_0x4e8bc1['query']+'&ts='+_0x52d9ac:_0x4e8bc1['query']='ts='+_0x52d9ac,_0x1e48af=_0x4e8bc1['toString']();}_0x415d3a['query']&&(_0x4e8bc1=new Rd(_0x1e48af),_0x4dff58=ah(_0x4e8bc1['getQuery'](),_0x415d3a['query']),_0x4e8bc1['setQuery'](_0x4dff58),_0x1e48af=_0x4e8bc1['toString']());const _0x3631c1=new XMLHttpRequest();_0x3631c1['open'](_0x7e9d95,_0x1e48af,_0x415d3a['async']),_0x3631c1['withCreden'+'tials']=_0x415d3a['withCreden'+'tials']!==void(-0x3b1*-0x4+-0x16e7+0x823)?_0x415d3a['withCreden'+'tials']:!(0x9d2+0x1bc7+-0xc*0x322),_0x3631c1['responseTy'+'pe']=_0x415d3a['responseTy'+'pe']||this['_guessResp'+'onseType'](_0x1e48af);for(const _0x2537a9 in _0x415d3a['headers'])_0x415d3a['headers']['hasOwnProp'+'erty'](_0x2537a9)&&_0x3631c1['setRequest'+'Header'](_0x2537a9,_0x415d3a['headers'][_0x2537a9]);_0x3631c1['onreadysta'+'techange']=()=>{this['_onReadySt'+'ateChange'](_0x7e9d95,_0x1e48af,_0x415d3a,_0x3631c1);},_0x3631c1['onerror']=()=>{this['_onError'](_0x7e9d95,_0x1e48af,_0x415d3a,_0x3631c1),_0x2f6177=!(0x14*0x1f1+-0x1286+-0x1*0x144e);};try{_0x3631c1['send'](_0xe41b48);}catch(_0x4e1e08){_0x2f6177||_0x415d3a['error'](_0x3631c1['status'],_0x3631c1,_0x4e1e08);}return _0x3631c1;}['_guessResp'+'onseType'](_0x339d79){const _0x50864d=new Rd(_0x339d79),_0x5ad0e2=xe['getExtensi'+'on'](_0x50864d['path'])['toLowerCas'+'e']();return Oe['binaryExte'+'nsions']['indexOf'](_0x5ad0e2)>=-0x1b21+0xc*0x335+-0x33*0x39?Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x5ad0e2==='.json'?Oe['ResponseTy'+'pe']['JSON']:_0x5ad0e2==='.xml'?Oe['ResponseTy'+'pe']['DOCUMENT']:Oe['ResponseTy'+'pe']['TEXT'];}['_isBinaryC'+'ontentType'](_0x31de25){return[Oe['ContentTyp'+'e']['BASIS'],Oe['ContentTyp'+'e']['BIN'],Oe['ContentTyp'+'e']['DDS'],Oe['ContentTyp'+'e']['GLB'],Oe['ContentTyp'+'e']['MP3'],Oe['ContentTyp'+'e']['MP4'],Oe['ContentTyp'+'e']['OGG'],Oe['ContentTyp'+'e']['OPUS'],Oe['ContentTyp'+'e']['WAV']]['indexOf'](_0x31de25)>=-0x1*0x15d+0x21ea+-0x1*0x208d;}['_isBinaryR'+'esponseTyp'+'e'](_0x2ef6be){return _0x2ef6be===Oe['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']||_0x2ef6be===Oe['ResponseTy'+'pe']['BLOB']||_0x2ef6be===Oe['ResponseTy'+'pe']['JSON'];}['_onReadySt'+'ateChange'](_0x502b06,_0x514ea5,_0x56b7b0,_0x13ac7a){if(_0x13ac7a['readyState']===-0x69d*-0x1+0x7*-0x469+0x1846)switch(_0x13ac7a['status']){case 0x2f5*0x1+0x1494+0xf1*-0x19:{_0x13ac7a['responseUR'+'L']&&_0x13ac7a['responseUR'+'L']['startsWith']('file:///')?this['_onSuccess'](_0x502b06,_0x514ea5,_0x56b7b0,_0x13ac7a):this['_onError'](_0x502b06,_0x514ea5,_0x56b7b0,_0x13ac7a);break;}case-0x204*-0x2+0x5*-0x741+0x2105:case-0xce*0x21+0x1*0xc88+0x1*0xecf:case-0xb5f+0x8*0x269+-0x71b*0x1:case 0xb6+-0x350+-0x3ca*-0x1:{this['_onSuccess'](_0x502b06,_0x514ea5,_0x56b7b0,_0x13ac7a);break;}default:{this['_onError'](_0x502b06,_0x514ea5,_0x56b7b0,_0x13ac7a);break;}}}['_onSuccess'](_0x2952c2,_0x33371a,_0x1154a6,_0x3f8acd){let _0x2f1ab0,_0x58cfc8;const _0x5eb8d6=_0x3f8acd['getRespons'+'eHeader']('Content-Ty'+'pe');_0x5eb8d6&&(_0x58cfc8=_0x5eb8d6['split'](';')[-0x359*0x1+0xaa7+-0x176*0x5]['trim']());try{this['_isBinaryC'+'ontentType'](_0x58cfc8)||this['_isBinaryR'+'esponseTyp'+'e'](_0x3f8acd['responseTy'+'pe'])?_0x2f1ab0=_0x3f8acd['response']:_0x58cfc8===Oe['ContentTyp'+'e']['JSON']||_0x33371a['split']('?')[0x17a8+0x1*0x148d+-0x2c35]['endsWith']('.json')?_0x2f1ab0=JSON['parse'](_0x3f8acd['responseTe'+'xt']):_0x3f8acd['responseTy'+'pe']===Oe['ResponseTy'+'pe']['DOCUMENT']||_0x58cfc8===Oe['ContentTyp'+'e']['XML']?_0x2f1ab0=_0x3f8acd['responseXM'+'L']:_0x2f1ab0=_0x3f8acd['responseTe'+'xt'],_0x1154a6['callback'](null,_0x2f1ab0);}catch(_0x555099){_0x1154a6['callback'](_0x555099);}}['_onError'](_0x2c8a8a,_0x99ce6e,_0x29c650,_0x588287){if(!_0x29c650['retrying']){if(_0x29c650['retry']&&_0x29c650['retries']<_0x29c650['maxRetries']){_0x29c650['retries']++,_0x29c650['retrying']=!(-0x2*-0xe61+-0x2092+0x1*0x3d0);const _0x1d4be6=Y['clamp'](Math['pow'](0x166b+-0x859*0x3+0x2a2*0x1,_0x29c650['retries'])*Oe['retryDelay'],0xc4f+0x11*0x7e+-0x14ad,_0x29c650['maxRetryDe'+'lay']||0x83f+-0xf88+0x1ad1);console['log'](_0x2c8a8a+':\x20'+_0x99ce6e+'\x20-\x20Error\x20'+_0x588287['status']+('.\x20Retrying'+'\x20in\x20')+_0x1d4be6+'\x20ms'),setTimeout(()=>{_0x29c650['retrying']=!(0x1b18+-0xefd*-0x1+-0x2*0x150a),this['request'](_0x2c8a8a,_0x99ce6e,_0x29c650,_0x29c650['callback']);},_0x1d4be6);}else _0x29c650['callback'](_0x588287['status']===0x189d*0x1+-0x5*0x112+-0x1343*0x1?'Network\x20er'+'ror':_0x588287['status'],null);}}};h(Oe,'ContentTyp'+'e',{'AAC':'audio/aac','BASIS':'image/basi'+'s','BIN':'applicatio'+'n/octet-st'+'ream','DDS':'image/dds','FORM_URLENCODED':'applicatio'+'n/x-www-fo'+'rm-urlenco'+'ded','GIF':'image/gif','GLB':'model/gltf'+'-binary','JPEG':'image/jpeg','JSON':'applicatio'+'n/json','MP3':'audio/mpeg','MP4':'audio/mp4','OGG':'audio/ogg','OPUS':'audio/ogg;'+'\x20codecs=\x22o'+'pus\x22','PNG':'image/png','TEXT':'text/plain','WAV':'audio/x-wa'+'v','XML':'applicatio'+'n/xml'}),h(Oe,'ResponseTy'+'pe',{'TEXT':'text','ARRAY_BUFFER':'arraybuffe'+'r','BLOB':'blob','DOCUMENT':'document','JSON':'json'}),h(Oe,'binaryExte'+'nsions',['.model','.wav','.ogg','.mp3','.mp4','.m4a','.aac','.dds','.basis','.glb','.opus']),h(Oe,'retryDelay',-0x1b*0x1+-0x371+0x3*0x150);let Ls=Oe;const ot=new Ls(),Vp='linear',bw='inverse',Aw='exponentia'+'l';class Cw{constructor(_0x444133){h(this,'_manager'),h(this,'position',new D()),h(this,'orientatio'+'n',new te()),this['_manager']=_0x444133;}['getPositio'+'n'](){return this['position'];}['setPositio'+'n'](_0x4b4b38){this['position']['copy'](_0x4b4b38);const _0x1853d2=this['listener'];_0x1853d2&&('positionX'in _0x1853d2?(_0x1853d2['positionX']['value']=_0x4b4b38['x'],_0x1853d2['positionY']['value']=_0x4b4b38['y'],_0x1853d2['positionZ']['value']=_0x4b4b38['z']):_0x1853d2['setPositio'+'n']&&_0x1853d2['setPositio'+'n'](_0x4b4b38['x'],_0x4b4b38['y'],_0x4b4b38['z']));}['setOrienta'+'tion'](_0xc86f64){this['orientatio'+'n']['copy'](_0xc86f64);const _0xeeb72c=this['listener'];if(_0xeeb72c){const _0x1d4e69=_0xc86f64['data'];'forwardX'in _0xeeb72c?(_0xeeb72c['forwardX']['value']=-_0x1d4e69[0x252c+0x966*-0x2+-0x24b*0x8],_0xeeb72c['forwardY']['value']=-_0x1d4e69[0x1441+0xc69+-0x20a1],_0xeeb72c['forwardZ']['value']=-_0x1d4e69[-0x11*0x233+-0x644*0x1+0x2bb1],_0xeeb72c['upX']['value']=_0x1d4e69[0x1403+-0x259d+0x119e],_0xeeb72c['upY']['value']=_0x1d4e69[0x1168+-0x1bb1+0xa4e],_0xeeb72c['upZ']['value']=_0x1d4e69[-0x8ff*-0x3+-0x1e9+0x190e*-0x1]):_0xeeb72c['setOrienta'+'tion']&&_0xeeb72c['setOrienta'+'tion'](-_0x1d4e69[-0x18b8+0xbf7+0xcc9],-_0x1d4e69[0x1*0x1a26+0x1792+-0x1*0x31af],-_0x1d4e69[0x1*0x222b+-0x1bfc+-0x625],_0x1d4e69[-0x106*0x6+-0x12ca+0x18f2],_0x1d4e69[-0xa66+-0x13e2+0x1e4d],_0x1d4e69[-0xb*0x2c5+-0x1*-0xfd1+0x756*0x2]);}}['getOrienta'+'tion'](){return this['orientatio'+'n'];}get['listener'](){const _0x59b88d=this['_manager']['context'];return _0x59b88d?_0x59b88d['listener']:null;}}const Ql='running',f_=['click','touchstart','mousedown'];class Pw extends me{constructor(){super(),this['_context']=null,this['AudioConte'+'xt']=typeof AudioContext<'u'&&AudioContext||typeof webkitAudioContext<'u'&&webkitAudioContext,this['AudioConte'+'xt']||w['warn']('No\x20support'+'\x20for\x203D\x20au'+'dio\x20found'),this['_unlockHan'+'dlerFunc']=this['_unlockHan'+'dler']['bind'](this),this['_userSuspe'+'nded']=!(0x12f1+0x1c92+-0x2f82),this['listener']=new Cw(this),this['_volume']=-0xc40+-0x22e7*0x1+0x2f28;}set['volume'](_0x347aac){_0x347aac=Y['clamp'](_0x347aac,0x1111+0x1744+0x811*-0x5,0x91d+0x2*0x3d9+-0x10ce),this['_volume']=_0x347aac,this['fire']('volumechan'+'ge',_0x347aac);}get['volume'](){return this['_volume'];}get['suspended'](){return this['_userSuspe'+'nded'];}get['context'](){return!this['_context']&&this['AudioConte'+'xt']&&(this['_context']=new this['AudioConte'+'xt'](),this['_context']['state']!==Ql&&this['_registerU'+'nlockListe'+'ners']()),this['_context'];}['suspend'](){this['_userSuspe'+'nded']||(this['_userSuspe'+'nded']=!(0x268b+0x2477+-0x2581*0x2),this['_context']&&this['_context']['state']===Ql&&this['_suspend']());}['resume'](){this['_userSuspe'+'nded']&&(this['_userSuspe'+'nded']=!(0x4d8+-0xd1*0x22+0x16eb),this['_context']&&this['_context']['state']!==Ql&&this['_resume']());}['destroy'](){var _0x1797f0;this['fire']('destroy'),this['_context']&&(this['_removeUnl'+'ockListene'+'rs'](),(_0x1797f0=this['_context'])==null||_0x1797f0['close'](),this['_context']=null);}['_resume'](){this['_context']['resume']()['then'](()=>{const _0x4b3c1d=this['_context']['createBuff'+'erSource']();_0x4b3c1d['buffer']=this['_context']['createBuff'+'er'](-0x10f4+-0x1b7d+-0x1*-0x2c72,-0x2303+-0x1bc5+0x3ec9,this['_context']['sampleRate']),_0x4b3c1d['connect'](this['_context']['destinatio'+'n']),_0x4b3c1d['start'](0x40*-0x7c+-0x194*0x2+0x2228),_0x4b3c1d['onended']=_0x2cc4b7=>{_0x4b3c1d['disconnect'](0x1350+0x2092+0x33e2*-0x1),this['fire']('resume');};},_0xb18784=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20it\x20'+'was\x20reject'+'ed\x20'+_0xb18784);})['catch'](_0x43f863=>{w['error']('Attempted\x20'+'to\x20resume\x20'+'the\x20AudioC'+'ontext\x20on\x20'+'SoundManag'+'er.resume('+'),\x20but\x20thr'+'ew\x20an\x20exce'+'ption\x20'+_0x43f863);});}['_suspend'](){this['_context']['suspend']()['then'](()=>{this['fire']('suspend');},_0x357044=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20i'+'t\x20was\x20reje'+'cted\x20'+_0x357044);})['catch'](_0x139fd8=>{w['error']('Attempted\x20'+'to\x20suspend'+'\x20the\x20Audio'+'Context\x20on'+'\x20SoundMana'+'ger.suspen'+'d(),\x20but\x20t'+'hrew\x20an\x20ex'+'ception\x20'+_0x139fd8);});}['_unlockHan'+'dler'](){this['_removeUnl'+'ockListene'+'rs'](),!this['_userSuspe'+'nded']&&this['_context']['state']!==Ql&&this['_resume']();}['_registerU'+'nlockListe'+'ners'](){f_['forEach'](_0x392b9d=>{window['addEventLi'+'stener'](_0x392b9d,this['_unlockHan'+'dlerFunc'],!(-0x2*-0x136d+-0x1aaf*0x1+-0xc2a));});}['_removeUnl'+'ockListene'+'rs'](){f_['forEach'](_0x51f398=>{window['removeEven'+'tListener'](_0x51f398,this['_unlockHan'+'dlerFunc'],!(0x21a+0xc9f+0x4*-0x3ae));});}}class Mw{constructor(_0x37a905){h(this,'audio'),h(this,'buffer'),_0x37a905 instanceof Audio?this['audio']=_0x37a905:this['buffer']=_0x37a905;}get['duration'](){let _0x5f49bd=-0xc6d+-0xf37+-0x6e9*-0x4;return this['buffer']?_0x5f49bd=this['buffer']['duration']:this['audio']&&(_0x5f49bd=this['audio']['duration']),_0x5f49bd||0xc1d+0x2677+-0x3294;}}function Dl(){return typeof AudioContext<'u'||typeof webkitAudioContext<'u';}const Zt=-0x1*-0x9a9+-0x1*0x16df+0xd36,fn=-0xb*-0x34f+0x23a9+-0x480d,Hs=0x1*-0x397+0x15*-0x1a1+0x6*0x64d;function es(_0x5c0fcd,_0x1e978e){return _0x5c0fcd%_0x1e978e||-0x2*0x952+-0x1eb5+-0x1073*-0x3;}class As extends me{constructor(_0x56ebfa,_0x367d6f,_0xfd5685){super(),h(this,'source',null),(this['_manager']=_0x56ebfa,this['_volume']=_0xfd5685['volume']!==void(-0x899*-0x1+0xd29*-0x2+0x1*0x11b9)?Y['clamp'](Number(_0xfd5685['volume'])||-0x19d3+0x1346+-0x3*-0x22f,-0x287+-0x2*0x864+-0x1*-0x134f,-0x1c91+0x3e9+0x18a9):0xb29+-0x19f1+-0x5*-0x2f5,this['_pitch']=_0xfd5685['pitch']!==void(-0x5cf*0x4+0x1eec+-0x7b0)?Math['max'](0x1*-0x553+-0x1d3*-0x14+0xa63*-0x3+0.01,Number(_0xfd5685['pitch'])||-0x1d59*-0x1+-0x1*-0x840+-0x2599):-0x189*0x7+0x1f*0xcd+0x3*-0x4b1,this['_loop']=!!(_0xfd5685['loop']!==void(0x1d8+0xa84*-0x2+0x1330*0x1)&&_0xfd5685['loop']),this['_sound']=_0x367d6f,this['_state']=Hs,this['_suspended']=!(0x61*0x1+-0x2281*0x1+0x2221*0x1),this['_suspendEn'+'dEvent']=0x238b*0x1+-0x1fb*0x11+0xf*-0x20,this['_suspendIn'+'stanceEven'+'ts']=!(-0x1*0x263f+0x37*-0x8+0x27f8),this['_playWhenL'+'oaded']=!(0x771+0x23b6+-0x1*0x2b27),this['_startTime']=Math['max'](-0x1b37+0x23f4+-0x8bd,Number(_0xfd5685['startTime'])||0x254f+-0x2706+-0x1*-0x1b7),this['_duration']=Math['max'](0x154d+-0x52*0x1f+-0xb5f,Number(_0xfd5685['duration'])||0x2b6+0x294+-0x2*0x2a5),this['_startOffs'+'et']=null,this['_onPlayCal'+'lback']=_0xfd5685['onPlay'],this['_onPauseCa'+'llback']=_0xfd5685['onPause'],this['_onResumeC'+'allback']=_0xfd5685['onResume'],this['_onStopCal'+'lback']=_0xfd5685['onStop'],this['_onEndCall'+'back']=_0xfd5685['onEnd'],Dl()?(this['_startedAt']=-0xc04+0xe03*-0x1+0x1a07,this['_currentTi'+'me']=0x13*-0x121+0x8*-0x166+-0x687*-0x5,this['_currentOf'+'fset']=0x16a5*-0x1+-0xc1*-0x2b+-0x9c6,this['_inputNode']=null,this['_connector'+'Node']=null,this['_firstNode']=null,this['_lastNode']=null,this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x10a4+0x217+-0x747*-0x2),this['_initializ'+'eNodes'](),this['_endedHand'+'ler']=this['_onEnded']['bind'](this)):(this['_isReady']=!(-0x1*-0x1990+-0x2417+0x2a2*0x4),this['_loadedMet'+'adataHandl'+'er']=this['_onLoadedM'+'etadata']['bind'](this),this['_timeUpdat'+'eHandler']=this['_onTimeUpd'+'ate']['bind'](this),this['_endedHand'+'ler']=this['_onEnded']['bind'](this),this['_createSou'+'rce']()));}set['currentTim'+'e'](_0x547eef){if(!(_0x547eef<0x12d*-0x2+-0x1a23+0xdd*0x21)){if(this['_state']===Zt){const _0x8f33ee=this['_suspendIn'+'stanceEven'+'ts'];this['_suspendIn'+'stanceEven'+'ts']=!(0xec9+-0x2*-0xdff+-0x1*0x2ac7),this['stop'](),this['_startOffs'+'et']=_0x547eef,this['play'](),this['_suspendIn'+'stanceEven'+'ts']=_0x8f33ee;}else this['_startOffs'+'et']=_0x547eef,this['_currentTi'+'me']=_0x547eef;}}get['currentTim'+'e'](){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===fn?this['_currentTi'+'me']:this['_state']===Hs||!this['source']?0x1c3a+-0x1*-0xf95+-0x2bcf:(this['_updateCur'+'rentTime'](),this['_currentTi'+'me']);}set['duration'](_0xfca1e7){this['_duration']=Math['max'](-0x7*0x49f+0x172a+0x92f,Number(_0xfca1e7)||-0x13*0x5e+-0x6ab+-0x7*-0x1f3);const _0x57e2d0=this['_state']===Zt;this['stop'](),_0x57e2d0&&this['play']();}get['duration'](){return this['_sound']?this['_duration']?es(this['_duration'],this['_sound']['duration']):this['_sound']['duration']:-0x1*-0x1ae1+-0x13c2+-0x71f*0x1;}get['isPaused'](){return this['_state']===fn;}get['isPlaying'](){return this['_state']===Zt;}get['isStopped'](){return this['_state']===Hs;}get['isSuspende'+'d'](){return this['_suspended'];}set['loop'](_0x55fbd4){this['_loop']=!!_0x55fbd4,this['source']&&(this['source']['loop']=this['_loop']);}get['loop'](){return this['_loop'];}set['pitch'](_0x547781){this['_currentOf'+'fset']=this['currentTim'+'e'],this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_pitch']=Math['max'](Number(_0x547781)||0x20a5+0x24e3+-0xde8*0x5,-0x2d0+-0x994+-0x2*-0x632+0.01),this['source']&&(this['source']['playbackRa'+'te']['value']=this['_pitch']);}get['pitch'](){return this['_pitch'];}set['sound'](_0x1f25df){this['_sound']=_0x1f25df,this['_state']!==Hs?this['stop']():this['_createSou'+'rce']();}get['sound'](){return this['_sound'];}set['startTime'](_0x317679){this['_startTime']=Math['max'](0x7e2+0x1863*-0x1+0x1081,Number(_0x317679)||-0x17*-0x8+0xcb3+-0xd6b);const _0x4c88ea=this['_state']===Zt;this['stop'](),_0x4c88ea&&this['play']();}get['startTime'](){return this['_startTime'];}set['volume'](_0x3688be){_0x3688be=Y['clamp'](_0x3688be,-0x14+0x105*0x16+-0x165a,-0x24a4+-0xf+0x24b4),this['_volume']=_0x3688be,this['gain']&&(this['gain']['gain']['value']=_0x3688be*this['_manager']['volume']);}get['volume'](){return this['_volume'];}['_onPlay'](){this['fire']('play'),this['_onPlayCal'+'lback']&&this['_onPlayCal'+'lback'](this);}['_onPause'](){this['fire']('pause'),this['_onPauseCa'+'llback']&&this['_onPauseCa'+'llback'](this);}['_onResume'](){this['fire']('resume'),this['_onResumeC'+'allback']&&this['_onResumeC'+'allback'](this);}['_onStop'](){this['fire']('stop'),this['_onStopCal'+'lback']&&this['_onStopCal'+'lback'](this);}['_onEnded'](){if(this['_suspendEn'+'dEvent']>-0x1e*0xc7+-0x4d2+0x4*0x709){this['_suspendEn'+'dEvent']--;return;}this['fire']('end'),this['_onEndCall'+'back']&&this['_onEndCall'+'back'](this),this['stop']();}['_onManager'+'VolumeChan'+'ge'](){this['volume']=this['_volume'];}['_onManager'+'Suspend'](){this['_state']===Zt&&!this['_suspended']&&(this['_suspended']=!(0x5*-0x431+0x6*0x484+-0x623),this['pause']());}['_onManager'+'Resume'](){this['_suspended']&&(this['_suspended']=!(0xf88+-0x60b*0x6+0x14bb),this['resume']());}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['_inputNode']=this['gain'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}['play'](){return this['_state']!==Hs&&this['stop'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0x21a8+-0x23*-0x5+0x20fa),this['_waitingCo'+'ntextSuspe'+'nsion']?!(0x144*0xa+0x55f*0x1+0x602*-0x3):this['_manager']['suspended']?(this['_manager']['once']('resume',this['_playAudio'+'Immediate'],this),this['_waitingCo'+'ntextSuspe'+'nsion']=!(0xb*0x1d9+0x7a*0x13+-0x1d61),!(-0x66*0x30+-0x1b69+0x6a6*0x7)):(this['_playAudio'+'Immediate'](),!(-0x2*-0x137+-0x282*-0xb+-0x1e04*0x1));}['_playAudio'+'Immediate'](){if(this['_waitingCo'+'ntextSuspe'+'nsion']=!(-0x43*-0x44+-0x1812*0x1+-0x1*-0x647),this['_state']!==Zt)return;this['source']||this['_createSou'+'rce']();let _0x24d976=es(this['_startOffs'+'et'],this['duration']);_0x24d976=es(this['_startTime']+_0x24d976,this['_sound']['duration']),this['_startOffs'+'et']=null,this['_duration']?this['source']['start'](-0x6aa+-0x83c+0xee6,_0x24d976,this['_duration']):this['source']['start'](0x1*-0x1015+-0xf2e+-0x97*-0x35,_0x24d976),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentTi'+'me']=0xa9*0x8+-0x5af+0x67,this['_currentOf'+'fset']=_0x24d976,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay']();}['pause'](){return this['_playWhenL'+'oaded']=!(-0x3f0+-0x4a0+-0x81*-0x11),this['_state']!==Zt?!(0x1317+-0x1*-0x1345+-0x265b):(this['_state']=fn,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_updateCur'+'rentTime'](),this['_suspendEn'+'dEvent']++,this['source']['stop'](0x26b4+-0x3*0x4bd+-0x1*0x187d),this['source']=null,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause']()),!(-0x81b+-0x1ad7*-0x1+0xb*-0x1b4));}['resume'](){if(this['_state']!==fn)return!(-0x1762+-0x1*-0xdd2+0x1f*0x4f);let _0x2dfe87=this['currentTim'+'e'];return this['_state']=Zt,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['source']||this['_createSou'+'rce'](),this['_startOffs'+'et']!==null&&(_0x2dfe87=es(this['_startOffs'+'et'],this['duration']),_0x2dfe87=es(this['_startTime']+_0x2dfe87,this['_sound']['duration']),this['_startOffs'+'et']=null),this['_duration']?this['source']['start'](-0x2363+-0x110d+-0x68e*-0x8,_0x2dfe87,this['_duration']):this['source']['start'](-0x1*-0x23a1+0x3d7*-0x6+0xb*-0x125,_0x2dfe87),this['_startedAt']=this['_manager']['context']['currentTim'+'e'],this['_currentOf'+'fset']=_0x2dfe87,this['volume']=this['_volume'],this['loop']=this['_loop'],this['pitch']=this['_pitch'],this['_playWhenL'+'oaded']=!(-0x95f*0x1+0x1e22+-0x14c2*0x1),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x16e8+0x2*-0xc8+-0x1558);}['stop'](){if(this['_playWhenL'+'oaded']=!(0x16a6+0x8df*-0x2+-0x4e7),this['_state']===Hs)return!(0x1cff+0x968+-0x2666);const _0x494021=this['_state']===Zt;return this['_state']=Hs,this['_waitingCo'+'ntextSuspe'+'nsion']||(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_startedAt']=0x184a+0x20c5+-0x390f,this['_currentTi'+'me']=-0x1ad5+-0x9*0x7b+0x1f28,this['_currentOf'+'fset']=0x1623+0xd67+-0x238a,this['_startOffs'+'et']=null,this['_suspendEn'+'dEvent']++,_0x494021&&this['source']&&this['source']['stop'](0x2*-0x827+-0x6*-0x4c8+-0xc62),this['source']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop']()),!(-0x3*-0x602+0x3a1+-0x15a7);}['setExterna'+'lNodes'](_0x3c81a8,_0x7ee983){if(!_0x3c81a8){console['error']('The\x20firstN'+'ode\x20must\x20b'+'e\x20a\x20valid\x20'+'Audio\x20Node');return;}_0x7ee983||(_0x7ee983=_0x3c81a8);const _0x589b65=this['_manager']['context']['destinatio'+'n'];this['_firstNode']!==_0x3c81a8&&(this['_firstNode']?this['_connector'+'Node']['disconnect'](this['_firstNode']):this['_connector'+'Node']['disconnect'](_0x589b65),this['_firstNode']=_0x3c81a8,this['_connector'+'Node']['connect'](_0x3c81a8)),this['_lastNode']!==_0x7ee983&&(this['_lastNode']&&this['_lastNode']['disconnect'](_0x589b65),this['_lastNode']=_0x7ee983,this['_lastNode']['connect'](_0x589b65));}['clearExter'+'nalNodes'](){const _0x4ed306=this['_manager']['context']['destinatio'+'n'];this['_firstNode']&&(this['_connector'+'Node']['disconnect'](this['_firstNode']),this['_firstNode']=null),this['_lastNode']&&(this['_lastNode']['disconnect'](_0x4ed306),this['_lastNode']=null),this['_connector'+'Node']['connect'](_0x4ed306);}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_createSou'+'rce'](){if(!this['_sound'])return null;const _0x38119d=this['_manager']['context'];return this['_sound']['buffer']&&(this['source']=_0x38119d['createBuff'+'erSource'](),this['source']['buffer']=this['_sound']['buffer'],this['source']['connect'](this['_inputNode']),this['source']['onended']=this['_endedHand'+'ler'],this['source']['loopStart']=es(this['_startTime'],this['source']['buffer']['duration']),this['_duration']&&(this['source']['loopEnd']=Math['max'](this['source']['loopStart'],es(this['_startTime']+this['_duration'],this['source']['buffer']['duration'])))),this['source'];}['_updateCur'+'rentTime'](){this['_currentTi'+'me']=es((this['_manager']['context']['currentTim'+'e']-this['_startedAt'])*this['_pitch']+this['_currentOf'+'fset'],this['duration']);}['_onManager'+'Destroy'](){this['source']&&this['_state']===Zt&&(this['source']['stop'](0xe15+-0x6*0x8e+-0xac1),this['source']=null);}}h(As,'EVENT_PLAY','play'),h(As,'EVENT_PAUS'+'E','pause'),h(As,'EVENT_RESU'+'ME','resume'),h(As,'EVENT_STOP','stop'),h(As,'EVENT_END','end'),Dl()||(Object['assign'](As['prototype'],{'play':function(){return this['_state']!==Hs&&this['stop'](),!this['source']&&!this['_createSou'+'rce']()?!(-0x1f90+0x1*0x184b+0x746):(this['volume']=this['_volume'],this['pitch']=this['_pitch'],this['loop']=this['_loop'],this['source']['play'](),this['_state']=Zt,this['_playWhenL'+'oaded']=!(0x22e0+-0x1be*-0x14+-0x45b7),this['_manager']['on']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['on']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['on']('resume',this['_onManager'+'Resume'],this),this['_manager']['on']('destroy',this['_onManager'+'Destroy'],this),this['_manager']['suspended']&&this['_onManager'+'Suspend'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onPlay'](),!(-0xb71*-0x3+-0x313*-0x1+-0x2566));},'pause':function(){return!this['source']||this['_state']!==Zt?!(0x1*-0x13e2+0x20e1+0x2*-0x67f):(this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0x1*-0x1ba+0x26ca+-0x2883),this['_state']=fn,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onPause'](),!(-0xdae+0x76a*-0x1+0x1518));},'resume':function(){return!this['source']||this['_state']!==fn?!(-0xe55+-0x48c+0x12e2):(this['_state']=Zt,this['_playWhenL'+'oaded']=!(-0xd*-0x24d+0x1021*0x1+0x5*-0x935),this['source']['paused']&&(this['source']['play'](),this['_suspendIn'+'stanceEven'+'ts']||this['_onResume']()),!(0x1bcf+-0x9b9*0x1+-0xa*0x1cf));},'stop':function(){return!this['source']||this['_state']===Hs?!(-0x2b*-0x5b+0xc01+0xb*-0x27b):(this['_manager']['off']('volumechan'+'ge',this['_onManager'+'VolumeChan'+'ge'],this),this['_manager']['off']('suspend',this['_onManager'+'Suspend'],this),this['_manager']['off']('resume',this['_onManager'+'Resume'],this),this['_manager']['off']('destroy',this['_onManager'+'Destroy'],this),this['_suspendEn'+'dEvent']++,this['source']['pause'](),this['_playWhenL'+'oaded']=!(-0xf+-0xc6e*0x1+-0xc7e*-0x1),this['_state']=Hs,this['_startOffs'+'et']=null,this['_suspendIn'+'stanceEven'+'ts']||this['_onStop'](),!(0xb3*-0x27+0xc00+0x1*0xf45));},'setExternalNodes':function(){},'clearExternalNodes':function(){},'getExternalNodes':function(){return[null,null];},'_onLoadedMetadata':function(){this['source']['removeEven'+'tListener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['_isReady']=!(0x1*-0x2038+-0x47*0x68+0x3d10);let _0x3b61d6=es(this['_startOffs'+'et'],this['duration']);_0x3b61d6=es(this['_startTime']+_0x3b61d6,this['_sound']['duration']),this['_startOffs'+'et']=null,this['source']['currentTim'+'e']=_0x3b61d6;},'_createSource':function(){return this['_sound']&&this['_sound']['audio']&&(this['_isReady']=!(-0x3*-0x765+0x1*0x2493+-0x3ac1),this['source']=this['_sound']['audio']['cloneNode'](!(-0x4e7+0x1c75+-0x3ed*0x6)),this['source']['addEventLi'+'stener']('loadedmeta'+'data',this['_loadedMet'+'adataHandl'+'er']),this['source']['addEventLi'+'stener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['onended']=this['_endedHand'+'ler']),this['source'];},'_onTimeUpdate':function(){this['_duration']&&this['source']['currentTim'+'e']>es(this['_startTime']+this['_duration'],this['source']['duration'])&&(this['loop']?this['source']['currentTim'+'e']=es(this['_startTime'],this['source']['duration']):(this['source']['removeEven'+'tListener']('timeupdate',this['_timeUpdat'+'eHandler']),this['source']['pause'](),this['_onEnded']()));},'_onManagerDestroy':function(){this['source']&&this['source']['pause']();}}),Object['defineProp'+'erty'](As['prototype'],'volume',{'get':function(){return this['_volume'];},'set':function(_0x21ca12){_0x21ca12=Y['clamp'](_0x21ca12,0x19e*-0x3+-0xcc7+0x11a1,-0x222d+-0x121d+0x4c1*0xb),this['_volume']=_0x21ca12,this['source']&&(this['source']['volume']=_0x21ca12*this['_manager']['volume']);}}),Object['defineProp'+'erty'](As['prototype'],'pitch',{'get':function(){return this['_pitch'];},'set':function(_0x52d3aa){this['_pitch']=Math['max'](Number(_0x52d3aa)||0x2*0x617+-0x75*-0x8+-0x7eb*0x2,-0x1b*0x11a+0x1e97+-0x7*0x1f+0.01),this['source']&&(this['source']['playbackRa'+'te']=this['_pitch']);}}),Object['defineProp'+'erty'](As['prototype'],'sound',{'get':function(){return this['_sound'];},'set':function(_0x3b9b87){this['stop'](),this['_sound']=_0x3b9b87;}}),Object['defineProp'+'erty'](As['prototype'],'currentTim'+'e',{'get':function(){return this['_startOffs'+'et']!==null?this['_startOffs'+'et']:this['_state']===Hs||!this['source']?-0x1*-0x197+0x2f*-0xd1+0x358*0xb:this['source']['currentTim'+'e']-this['_startTime'];},'set':function(_0x3ffd85){_0x3ffd85<-0x1af3+0x1*-0x2039+-0x1d96*-0x2||(this['_startOffs'+'et']=_0x3ffd85,this['source']&&this['_isReady']&&(this['source']['currentTim'+'e']=es(this['_startTime']+es(_0x3ffd85,this['duration']),this['_sound']['duration']),this['_startOffs'+'et']=null));}}));const Dw=0x1f85*-0x1+-0x3384*-0x1+0x1311;class sn extends As{constructor(_0x25d3d3,_0x5b0cdf,_0x140aa3={}){super(_0x25d3d3,_0x5b0cdf,_0x140aa3),h(this,'_position',new D()),h(this,'_velocity',new D()),(_0x140aa3['position']&&(this['position']=_0x140aa3['position']),this['maxDistanc'+'e']=_0x140aa3['maxDistanc'+'e']!==void(0x138a+0x1083+-0x240d)?Number(_0x140aa3['maxDistanc'+'e']):Dw,this['refDistanc'+'e']=_0x140aa3['refDistanc'+'e']!==void(0x168f+-0x2554+0xec5)?Number(_0x140aa3['refDistanc'+'e']):-0x1440+0x1789+-0x348,this['rollOffFac'+'tor']=_0x140aa3['rollOffFac'+'tor']!==void(0x2295+-0x145*-0xc+-0x147*0x27)?Number(_0x140aa3['rollOffFac'+'tor']):0x2442+-0x35f*0xa+0x7*-0x5d,this['distanceMo'+'del']=_0x140aa3['distanceMo'+'del']!==void(0x186f+-0x1270+-0x5ff)?_0x140aa3['distanceMo'+'del']:Vp);}['_initializ'+'eNodes'](){this['gain']=this['_manager']['context']['createGain'](),this['panner']=this['_manager']['context']['createPann'+'er'](),this['panner']['connect'](this['gain']),this['_inputNode']=this['panner'],this['_connector'+'Node']=this['gain'],this['_connector'+'Node']['connect'](this['_manager']['context']['destinatio'+'n']);}set['position'](_0x580c42){this['_position']['copy'](_0x580c42);const _0x33fc05=this['panner'];'positionX'in _0x33fc05?(_0x33fc05['positionX']['value']=_0x580c42['x'],_0x33fc05['positionY']['value']=_0x580c42['y'],_0x33fc05['positionZ']['value']=_0x580c42['z']):_0x33fc05['setPositio'+'n']&&_0x33fc05['setPositio'+'n'](_0x580c42['x'],_0x580c42['y'],_0x580c42['z']);}get['position'](){return this['_position'];}set['velocity'](_0x484a05){w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity']['copy'](_0x484a05);}get['velocity'](){return w['warn']('SoundInsta'+'nce3d#velo'+'city\x20is\x20no'+'t\x20implemen'+'ted.'),this['_velocity'];}set['maxDistanc'+'e'](_0x34b878){this['panner']['maxDistanc'+'e']=_0x34b878;}get['maxDistanc'+'e'](){return this['panner']['maxDistanc'+'e'];}set['refDistanc'+'e'](_0x3a5faa){this['panner']['refDistanc'+'e']=_0x3a5faa;}get['refDistanc'+'e'](){return this['panner']['refDistanc'+'e'];}set['rollOffFac'+'tor'](_0x4d4904){this['panner']['rolloffFac'+'tor']=_0x4d4904;}get['rollOffFac'+'tor'](){return this['panner']['rolloffFac'+'tor'];}set['distanceMo'+'del'](_0x34f4e2){this['panner']['distanceMo'+'del']=_0x34f4e2;}get['distanceMo'+'del'](){return this['panner']['distanceMo'+'del'];}}if(!Dl()){let l=new D();const t=function(_0x14caec,_0x27e472,_0x43a6cc,_0x1f0c83,_0x49133b,_0x44a4bb){l=l['sub2'](_0x14caec,_0x27e472);const _0x5b0072=l['length']();if(_0x5b0072<_0x43a6cc)return 0x16e8+0x2ef*-0xa+-0x225*-0x3;if(_0x5b0072>_0x1f0c83)return-0x1a84+0x24b5+-0xa31;let _0x4a67f0=-0xe97+-0xb63+-0xcfd*-0x2;return _0x44a4bb===Vp?_0x4a67f0=0x6*0x179+-0x1d5b+0x1486*0x1-_0x49133b*(_0x5b0072-_0x43a6cc)/(_0x1f0c83-_0x43a6cc):_0x44a4bb===bw?_0x4a67f0=_0x43a6cc/(_0x43a6cc+_0x49133b*(_0x5b0072-_0x43a6cc)):_0x44a4bb===Aw&&(_0x4a67f0=Math['pow'](_0x5b0072/_0x43a6cc,-_0x49133b)),Y['clamp'](_0x4a67f0,0x13bc+-0x26cd+0x1311,0x2029+0x10ba*0x2+0x1ba*-0x26);};Object['defineProp'+'erty'](sn['prototype'],'position',{'get':function(){return this['_position'];},'set':function(_0x291740){if(this['_position']['copy'](_0x291740),this['source']){const _0x4d9efc=this['_manager']['listener']['getPositio'+'n'](),_0x15653b=t(_0x4d9efc,this['_position'],this['refDistanc'+'e'],this['maxDistanc'+'e'],this['rollOffFac'+'tor'],this['distanceMo'+'del']),_0x13807b=this['volume'];this['source']['volume']=_0x13807b*_0x15653b*this['_manager']['volume'];}}}),Object['defineProp'+'erty'](sn['prototype'],'maxDistanc'+'e',{'get':function(){return this['_maxDistan'+'ce'];},'set':function(_0x14b3b8){this['_maxDistan'+'ce']=_0x14b3b8;}}),Object['defineProp'+'erty'](sn['prototype'],'refDistanc'+'e',{'get':function(){return this['_refDistan'+'ce'];},'set':function(_0x56b99a){this['_refDistan'+'ce']=_0x56b99a;}}),Object['defineProp'+'erty'](sn['prototype'],'rollOffFac'+'tor',{'get':function(){return this['_rollOffFa'+'ctor'];},'set':function(_0x132d6d){this['_rollOffFa'+'ctor']=_0x132d6d;}}),Object['defineProp'+'erty'](sn['prototype'],'distanceMo'+'del',{'get':function(){return this['_distanceM'+'odel'];},'set':function(_0x1ac598){this['_distanceM'+'odel']=_0x1ac598;}});}const Gp=-0x16e9+-0xafa+0x21e3,Hp=0xf6d+0x2*0x916+-0x2198,Zs=-0x75*0x6+0x217b*-0x1+0x243b*0x1,Cs=0x1366+-0x7*0x89+-0xfa4,Gn=-0xbd*0x2b+0x593+-0x1*-0x1a30,Wp=0x94*0x21+-0x132b+0xe*0x2,Ed=0x1*-0x1f75+0xe5b+0x112*0x10,$p=0x1223*0x1+-0xf8f+-0x28d,Xp=0x14e7+0x21f+-0x9*0x28e,qp=0x1*-0xdd7+-0x5*-0x33d+-0x251,jp=-0x5cd+0x25de+-0x2007,Yy={[Gp]:'SUBTRACTIV'+'E',[Hp]:'ADDITIVE',[Zs]:'NORMAL',[Cs]:'NONE',[Gn]:'PREMULTIPL'+'IED',[Wp]:'MULTIPLICA'+'TIVE',[Ed]:'ADDITIVEAL'+'PHA',[$p]:'MULTIPLICA'+'TIVE2X',[Xp]:'SCREEN',[qp]:'MIN',[jp]:'MAX'},Kn='none',Iw='linear',Lw=-0x1*0x1675+-0xa*-0x259+-0x105,Yp=-0x270b+-0x82f+0x2f3c,Rw={[Lw]:'NONE',[Yp]:'SCHLICK'},Ow=0x1*0x244a+-0x6b7+-0x71*0x43,Ky=-0x4dc+-0x3*-0x568+-0xb4d,er=0x427*-0x5+-0x1339+0x27fc,ps=0xf22+0x1*-0xe29+-0xf8,Kp=-0x1ba6+-0x3f9+0x1fa1,Zp=0x2351+0x397*0x1+-0x26e5*0x1,Il=-0x1915+0xdb9*-0x1+0x26d2,ve=0x1734+0x1721*-0x1+-0x13,Ke=-0x1fc+0x26*0xc4+-0x1b1b,Ze=-0x84*0x34+0x1a91+0x41,u_={[ve]:'DIRECTIONA'+'L',[Ke]:'OMNI',[Ze]:'SPOT'},$c=-0x1ef6+0x25*0x43+-0x15ab*-0x1,Ys=-0x2608+0x88*-0x32+-0x27*-0x1a8,Zy=-0x1065*-0x2+0x1*-0xc0b+0x24e*-0x9,Qy=0x2*0xf4f+-0x12*-0xc9+-0x2cbe,Jy=-0x8e9*0x2+-0x1*0x2237+0x1*0x340c,Fw={[Ys]:'PUNCTUAL',[Zy]:'RECT',[Qy]:'DISK',[Jy]:'SPHERE'},Qp=-0x1*-0x1f82+0x22a3+0x11f*-0x3b,ev=0x22df+-0x23d5+0xf7,Nw={[Qp]:'LINEAR',[ev]:'INVERSESQU'+'ARED'},$s=0x134f+-0x2*-0x1075+-0x1*0x3439,au=-0x1157+-0x1*-0xc65+0x2*0x27a,Jp=-0xc2*0x27+0x9ef*0x1+0x13a2,kw=-0x478+0x1*0xbf8+-0x77c,tv=-0x16aa+0x291+0x141e,al=-0x1d4b+-0x24d5+0x2113*0x2,sv=0x1299+-0x2*-0x377+-0x1980,iv=-0x65+0x1f25+-0x2*0xf5c,Uw=0x1b00+0x1*0x1d93+-0x388a,qi=new Map([[tv,{'name':'PCF1_32F','kind':'PCF1','format':$i,'pcf':!(-0x1799+-0x1*0x9a7+0x2140)}],[$s,{'name':'PCF3_32F','kind':'PCF3','format':$i,'pcf':!(-0x6e7*-0x1+-0x1*-0x1cfd+-0x23e4)}],[kw,{'name':'PCF5_32F','kind':'PCF5','format':$i,'pcf':!(-0xb0b+-0xf0e+0x1a19)}],[sv,{'name':'PCF1_16F','kind':'PCF1','format':vn,'pcf':!(-0x1*0x6f+-0x5fc+0x66b)}],[iv,{'name':'PCF3_16F','kind':'PCF3','format':vn,'pcf':!(0x1c89+0x20a4+-0x3d2d)}],[Uw,{'name':'PCF5_16F','kind':'PCF5','format':vn,'pcf':!(-0xc8*0x20+0xb7a+0xd86)}],[au,{'name':'VSM_16F','kind':'VSM','format':nt,'vsm':!(-0x2*-0x9f7+0x40b+0x169*-0x11)}],[Jp,{'name':'VSM_32F','kind':'VSM','format':Xt,'vsm':!(-0x553*0x1+-0x4*0x3ca+0x6b*0x31)}],[al,{'name':'PCSS_32F','kind':'PCSS','format':Ji,'pcss':!(-0x2c9*-0xd+-0x1a1+-0x2294)}]]),Bw=-0xb1f+-0x1*-0x1876+-0x9e*0x14,em=-0xa4*-0x1d+-0x20a+0x1089*-0x1,nu=0x2268*-0x1+-0x2*0xc37+0x3ad6,rv=0x1ebd*-0x1+0x10a7*-0x1+-0xc*-0x3f3,ai=-0x25cc+0x1*-0x113d+0x49*0xc1,zw=0x838*-0x1+-0x191d+-0x1*-0x2156,yh=0x236b*0x1+-0x170a+-0xc61*0x1,Vw=-0x1*0x1b58+0x2f*0x63+-0x2*-0x496,ni=0x3*0xcf9+-0x6e*-0x40+-0x426b,En=-0xef8+0x26a1+0xbd4*-0x2,un=0x2230+-0x7bc+-0x1a74,$r=-0x1ce3+-0xd2d+-0x1*-0x2a11,Jl=0xc7*-0x8+-0x102b*0x1+-0x333*-0x7,tm=0x895*0x1+0x1ab*-0x6+0x16d,av=0xd37+-0x142+-0xbf4,Gw={[tm]:'NONE',[av]:'BOX'},p_='mul',Ll=0x2710+-0x3*0xc9d+-0x139,Xc=-0x1*-0x64d+0x7*0x17+0xc5*-0x9,Hw={[Ll]:'NONE',[Xc]:'SRGB'},sm=0x1723+0x26c7+0x13d*-0x32,UU=-0xaed+-0x21e+-0x1*-0xd0c,BU=-0x9*0x327+-0x9*-0x16e+0xf83,zU=0x2*-0x751+-0x4cf+-0x67c*-0x3,VU=0x14d7+0x1352*0x1+-0x2825,GU=0x359*0x1+-0x12fd*-0x1+-0x1d*0xc5,nv=0x177+0x2e3*-0x4+0xa1b,ov=['LINEAR','FILMIC','HEJL','ACES','ACES2','NEUTRAL','NONE'],lv=0x2011+0xea4+0x43f*-0xb,bd=-0x957+-0xdde+0x1736,cv=0x16a0+0x155d+-0x2bfb,Ww={[lv]:'NONE',[bd]:'AO',[cv]:'GLOSSDEPEN'+'DENT'},vr='none',vh='envAtlas',xh='envAtlasHQ',Th='cubeMap',hv='sphereMap',$w={[vr]:'NONE',[vh]:'ENVATLAS',[xh]:'ENVATLASHQ',[Th]:'CUBEMAP',[hv]:'SPHEREMAP'},im='ambientSH',rm='envAtlas',am='constant',Xw={[im]:'AMBIENTSH',[rm]:'ENVALATLAS',[am]:'CONSTANT'},wh=0x6f1*0x4+0x1a44+-0x3607,nl=0x1df4+-0x359*0x1+0x26b*-0xb,nm=0xcd7+0xfb8*-0x1+0x2e5,dv=0x37a*-0x1+0x4ee+-0x16c,fv=0xfd9+0x209a+-0x3063,ol=0x11*0x146+0xa2*-0x19+-0x5b4,ou=-0x27e+-0x2f6+0x5b4,uv=0x2501+0xb12*0x2+0x1*-0x3aa5,Eh=-0x425*0x1+-0x22a9+0x27ce,om=0x2*-0x329+-0x7*-0x33d+-0xe59,ll=-0xaa+-0x55*-0x6b+-0x1edd,cl=0x3*0xb23+0x10b5+-0x2a1e,pv=0x1*0x6ff+0x12dd*-0x1+-0x4a5*-0x6,hl=0x5*0x874+0x33c9+-0x3e0d,qc=-0x3*-0x16e1+-0x57f*0x4+0x1159,Ps=0x2*0x129b+0x314*-0x6+-0x12be,xr=0x2653+-0x97f+0x1cd3*-0x1,lm=0x821+-0x1*0x17fa+0xfdb,Ss=0x13d2+0x1*0xafd+-0xf67*0x2,di=-0x7*-0x1c+0xbcb*0x1+-0xc8d,fi=0x161+-0x128c+-0x53*-0x35,Aa=-0x7*0x14b+-0x268d+0x9*0x54a,Rl=0xeac+-0xf4c+-0x17*-0x7,cm=0x2*-0x4c+-0x1*0x19ae+0x1a48,Zn=0x1d9f*-0x1+-0x3b*-0x3d+0xf93,ci=-0x12e2*0x2+0x4f*0x44+0x10c8,Pt=0x25ed+-0xa7b*-0x1+-0x3067,Mt=0xe*-0xc2+0x29*-0xca+0x157c*0x2,qw={[ci]:'SIMPLE',[Pt]:'SLICED',[Mt]:'TILED'},jc=-0x100f*-0x2+0x1*-0x2699+-0x14c*-0x5,ec=0x23be+0x242+-0x2600,Yc=0x13d*-0xa+-0x204f+-0x2a1*-0x11,jw=-0x1d02+-0x1201+0x11*0x2c4,Yw=-0xa4b+0xca4+-0x257,m_=0x1c33+0x51*0x13+-0x2233,Kw=0x227d+-0xb7b*0x1+-0x6*0x3d5,Zw=0x3b*0x6b+-0x17e5+0x1*-0xbf,hm=0xddd+-0x101*-0x14+-0x21f1,lu=-0x133*0x1e+-0x2520+0x491b,Ce=-0x1eeb*-0x1+0x1c3b+-0x43*0xe2,je=0x2648+0x1b50+-0x4197,Bo='infinite',Qw='box',Jw='dome',Sa='none',eE='bayer8',tE='bluenoise',sE='ignnoise',iE={[Sa]:'NONE',[eE]:'BAYER8',[tE]:'BLUENOISE',[sE]:'IGNNOISE'},rE='prerender',aE='postrender',nE='prerender:'+'layer',oE='postrender'+':layer',mv='precull',_v='postcull',lE='cull:end';class Ad{constructor(_0x4235cc,_0x45feca,_0x15298d){h(this,'uniformFor'+'mats',[]),h(this,'bindGroupF'+'ormats',[]),h(this,'vertexForm'+'at'),(this['uniformFor'+'mats'][rl]=_0x4235cc,this['bindGroupF'+'ormats'][rl]=_0x45feca,this['vertexForm'+'at']=_0x15298d);}['hasUniform'](_0x4dbd69){for(let _0x16c1ce=-0x1375*-0x2+-0x1*0x2203+0x4e7*-0x1;_0x16c1ce<this['uniformFor'+'mats']['length'];_0x16c1ce++){const _0x4da432=this['uniformFor'+'mats'][_0x16c1ce];if(_0x4da432!=null&&_0x4da432['get'](_0x4dbd69))return!(-0x1*0x20f+0x5f+-0x6*-0x48);}return!(0x2516+0xbf7+0x124*-0x2b);}['hasTexture'](_0x743b11){for(let _0x2b16f1=-0x5*0x47c+-0x2500+0x3b6c;_0x2b16f1<this['bindGroupF'+'ormats']['length'];_0x2b16f1++){const _0x25b8dd=this['bindGroupF'+'ormats'][_0x2b16f1];if(_0x25b8dd!=null&&_0x25b8dd['getTexture'](_0x743b11))return!(0x1*-0x9ef+0x1c2f+-0x1240*0x1);}return!(0x445+-0x581*0x1+-0x1*-0x13d);}['getVertexE'+'lement'](_0x2ddadf){var _0x12c508;return(_0x12c508=this['vertexForm'+'at'])==null?void(-0x1*-0x171e+-0x1b6b+0x44d):_0x12c508['elements']['find'](_0x57a10b=>_0x57a10b['name']===_0x2ddadf);}['generateKe'+'y'](_0x2253f8){var _0xad789a;let _0x5f1a40=JSON['stringify'](this['uniformFor'+'mats'])+JSON['stringify'](this['bindGroupF'+'ormats']);return _0x2253f8['isWebGPU']&&(_0x5f1a40+=(_0xad789a=this['vertexForm'+'at'])==null?void(-0x6*0x1a4+-0x1723+0x20fb):_0xad789a['shaderProc'+'essingHash'+'String']),_0x5f1a40;}}const gv=new Kt();function Hn(_0x4fb0bc){const _0x5dd63=gv['get'](_0x4fb0bc);return w['assert'](_0x5dd63),_0x5dd63;}function cE(_0x3426f6,_0x364f4f){w['assert'](_0x364f4f),gv['get'](_0x3426f6,()=>_0x364f4f);}class ya{static['definesHas'+'h'](_0x365706){const _0x472891=Array['from'](_0x365706)['sort']((_0x5ee870,_0x23c434)=>_0x5ee870[0x3*-0x559+-0x1c1f+0x2c2a]>_0x23c434[-0xfd9+-0xa9*-0x39+-0x15c8]?-0x10f*-0x17+-0xa22+-0xe36:-(-0x21a8+-0x1*-0x16e1+-0x3c*-0x2e));return hi(JSON['stringify'](_0x472891));}}const hE=new Kt();class dE{constructor(_0x594ceb,_0xfc796f,_0x3a3b04={}){h(this,'index'),h(this,'name'),h(this,'defines',new Map()),(w['assert'](/^[a-z]\w*$/i['test'](_0x594ceb),'ShaderPass'+'\x20name\x20can\x20'+'only\x20conta'+'in\x20letters'+',\x20numbers\x20'+'and\x20unders'+'cores\x20and\x20'+'start\x20with'+'\x20a\x20letter:'+'\x20'+_0x594ceb),this['name']=_0x594ceb,this['index']=_0xfc796f,Object['assign'](this,_0x3a3b04),this['buildShade'+'rDefines']());}['buildShade'+'rDefines'](){let _0x167d0e;this['isShadow']?_0x167d0e='SHADOW':this['isForward']?_0x167d0e='FORWARD':this['index']===Zn&&(_0x167d0e='PICK'),this['defines']['set'](_0x167d0e+'_PASS',''),this['defines']['set'](this['name']['toUpperCas'+'e']()+'_PASS','');}}class Si{constructor(){h(this,'passesName'+'d',new Map()),h(this,'passesInde'+'xed',[]),h(this,'nextIndex',-0x1*-0x118d+0x16a*0xc+-0x1*0x2285);const _0x37c170=(_0xe57a5,_0x5964ef,_0x5a92f0)=>{const _0x1cb709=this['allocate'](_0xe57a5,_0x5a92f0);w['assert'](_0x1cb709['index']===_0x5964ef);};_0x37c170('forward',Aa,{'isForward':!(-0x623+-0x6fa*0x4+0x69*0x53)}),_0x37c170('prepass',Rl),_0x37c170('shadow',cm),_0x37c170('pick',Zn);}static['get'](_0x4ada7b){return w['assert'](_0x4ada7b),hE['get'](_0x4ada7b,()=>new Si());}['allocate'](_0x588b4f,_0xfb0892){let _0x191ab5=this['passesName'+'d']['get'](_0x588b4f);return _0x191ab5===void(0x1eed+-0x1*-0x1143+-0x18*0x202)&&(_0x191ab5=new dE(_0x588b4f,this['nextIndex'],_0xfb0892),this['passesName'+'d']['set'](_0x191ab5['name'],_0x191ab5),this['passesInde'+'xed'][_0x191ab5['index']]=_0x191ab5,this['nextIndex']++),_0x191ab5;}['getByIndex'](_0x33ce54){const _0x3fc533=this['passesInde'+'xed'][_0x33ce54];return w['assert'](_0x3fc533),_0x3fc533;}['getByName'](_0x2ea565){return this['passesName'+'d']['get'](_0x2ea565);}}class __ extends Map{constructor(){super(...arguments),h(this,'_keyDirty',!(-0x444+0x1fd4+0x55*-0x53)),h(this,'_key','');}['set'](_0x1eb5db,_0x18b0dd){return(!this['has'](_0x1eb5db)||this['get'](_0x1eb5db)!==_0x18b0dd)&&this['markDirty'](),super['set'](_0x1eb5db,_0x18b0dd);}['add'](_0x276dad){for(const [_0x43f454,_0x1374fa]of Object['entries'](_0x276dad))this['set'](_0x43f454,_0x1374fa);return this;}['delete'](_0x4c691a){const _0xb0c044=this['has'](_0x4c691a),_0x17df6a=super['delete'](_0x4c691a);return _0xb0c044&&_0x17df6a&&this['markDirty'](),_0x17df6a;}['clear'](){this['size']>-0x1*-0x1936+0xfb4*-0x1+-0x4c1*0x2&&this['markDirty'](),super['clear']();}['markDirty'](){this['_dirty']=!(-0xe0+0x120f*-0x2+0x1*0x24fe),this['_keyDirty']=!(0x2419*0x1+-0x982*-0x4+-0x4a21*0x1);}['isDirty'](){return this['_dirty'];}['resetDirty'](){this['_dirty']=!(0x3*-0x6a6+-0x4a8+0x189b);}get['key'](){return this['_keyDirty']&&(this['_keyDirty']=!(0x2314+-0x1a1*0x12+-0x1*0x5c1),this['_key']=Array['from'](this['entries']())['sort'](([_0xcb7140],[_0x4238d8])=>_0xcb7140<_0x4238d8?-(-0x5*0x3a+-0x1*-0x198f+-0x186c):_0xcb7140>_0x4238d8?-0x87*0x2f+0x58e*-0x3+-0x2*-0x14ba:-0xd0a*-0x2+-0x52f*0x3+-0xb*0xf5)['map'](([_0x31bced,_0x3c1b83])=>_0x31bced+'='+hi(_0x3c1b83))['join'](',')),this['_key'];}['copy'](_0x1b9393){this['clear']();for(const [_0xd3fded,_0x247f80]of _0x1b9393)this['set'](_0xd3fded,_0x247f80);return this;}}const fE=new Kt();class Pe{constructor(){h(this,'glsl',new __()),h(this,'wgsl',new __()),h(this,'version','');}static['get'](_0x20b713,_0x289572=Fe){const _0xc7f51f=fE['get'](_0x20b713,()=>new Pe());return _0x289572===Fe?_0xc7f51f['glsl']:_0xc7f51f['wgsl'];}get['useWGSL'](){return this['glsl']['size']===0x60b+0x1f*-0x4d+0x348||this['wgsl']['size']>0x99*0xd+0x10d6+-0x1*0x189b;}get['key'](){return'GLSL:'+this['glsl']['key']+'|WGSL:'+this['wgsl']['key']+'|API:'+this['version'];}['isDirty'](){return this['glsl']['isDirty']()||this['wgsl']['isDirty']();}['resetDirty'](){this['glsl']['resetDirty'](),this['wgsl']['resetDirty']();}['copy'](_0x1df957){return this['version']=_0x1df957['version'],this['glsl']['copy'](_0x1df957['glsl']),this['wgsl']['copy'](_0x1df957['wgsl']),this;}}class bh{static['merge'](..._0xe87ee6){const _0x24ae70=new Map(_0xe87ee6[-0x1a20+0xc32+0xdee*0x1]??[]);for(let _0x51927c=-0x19f*-0x14+-0xe26+-0x1245;_0x51927c<_0xe87ee6['length'];_0x51927c++){const _0x40ecf6=_0xe87ee6[_0x51927c];if(_0x40ecf6){for(const [_0x4c572e,_0x25f470]of _0x40ecf6)_0x24ae70['set'](_0x4c572e,_0x25f470);}}return _0x24ae70;}}class uE extends ya{constructor(_0x43fd7d,_0x4adfc2){super(),this['key']=_0x43fd7d,this['shaderDefi'+'nition']=_0x4adfc2;}['generateKe'+'y'](_0x3d8cfc){return this['key'];}['createShad'+'erDefiniti'+'on'](_0x54f278,_0x2a34ab){return this['shaderDefi'+'nition'];}}class $t{static['createShad'+'er'](_0x32d217,_0x517708){const _0x3fb905=Hn(_0x32d217);let _0x283b27=_0x3fb905['getCachedS'+'hader'](_0x517708['uniqueName']);if(!_0x283b27){const _0x32dcb9=_0x32d217['isWebGPU']&&(!!_0x517708['vertexWGSL']||!!_0x517708['vertexChun'+'k'])&&(!!_0x517708['fragmentWG'+'SL']||!!_0x517708['fragmentCh'+'unk']),_0x179e8e=Pe['get'](_0x32d217,_0x32dcb9?it:Fe),_0x335fd5=_0x517708['vertexChun'+'k']?_0x179e8e['get'](_0x517708['vertexChun'+'k']):_0x32dcb9?_0x517708['vertexWGSL']:_0x517708['vertexGLSL'],_0x53eb35=_0x517708['fragmentCh'+'unk']?_0x179e8e['get'](_0x517708['fragmentCh'+'unk']):_0x32dcb9?_0x517708['fragmentWG'+'SL']:_0x517708['fragmentGL'+'SL'];w['assert'](_0x335fd5,'ShaderUtil'+'s.createSh'+'ader:\x20vert'+'ex\x20shader\x20'+'code\x20not\x20p'+'rovided',_0x517708),w['assert'](_0x53eb35,'ShaderUtil'+'s.createSh'+'ader:\x20frag'+'ment\x20shade'+'r\x20code\x20not'+'\x20provided',_0x517708);const _0x1c9199=bh['merge'](_0x179e8e,_0x517708['fragmentIn'+'cludes']),_0x231f43=bh['merge'](_0x179e8e,_0x517708['vertexIncl'+'udes']);_0x283b27=new qy(_0x32d217,Jt['createDefi'+'nition'](_0x32d217,{'name':_0x517708['uniqueName'],'shaderLanguage':_0x32dcb9?it:Fe,'attributes':_0x517708['attributes'],'vertexCode':_0x335fd5,'fragmentCode':_0x53eb35,'useTransformFeedback':_0x517708['useTransfo'+'rmFeedback'],'vertexIncludes':_0x231f43,'vertexDefines':_0x517708['vertexDefi'+'nes'],'fragmentIncludes':_0x1c9199,'fragmentDefines':_0x517708['fragmentDe'+'fines'],'fragmentOutputTypes':_0x517708['fragmentOu'+'tputTypes']})),_0x3fb905['setCachedS'+'hader'](_0x517708['uniqueName'],_0x283b27);}return _0x283b27;}static['getCoreDef'+'ines'](_0x134ad1,_0x2ee101){const _0xf95983=new Map(_0x134ad1['defines']);return _0x2ee101['cameraShad'+'erParams']['defines']['forEach']((_0x3dd51d,_0x580e52)=>_0xf95983['set'](_0x580e52,_0x3dd51d)),Si['get'](_0x2ee101['device'])['getByIndex'](_0x2ee101['pass'])['defines']['forEach']((_0xa42f0b,_0x1765b7)=>_0xf95983['set'](_0x1765b7,_0xa42f0b)),_0xf95983;}static['processSha'+'der'](_0x4c2717,_0x240fb3){w['assert'](_0x4c2717);const _0x3cc966=_0x4c2717['definition'],_0x249c97=(_0x3cc966['name']??'shader')+'-id-'+_0x4c2717['id'],_0x47e26c=new uE(_0x249c97,_0x3cc966),_0x2e4761='shader',_0x3c69a2=Hn(_0x4c2717['device']);w['assert'](!_0x3c69a2['isRegister'+'ed'](_0x2e4761)),_0x3c69a2['register'](_0x2e4761,_0x47e26c);const _0x12a815=_0x3c69a2['getProgram'](_0x2e4761,{},_0x240fb3);return _0x3c69a2['unregister'](_0x2e4761),_0x12a815;}static['addScreenD'+'epthChunkD'+'efines'](_0x7ff007,_0x5e020b,_0x4adbab){_0x5e020b['sceneDepth'+'MapLinear']&&_0x4adbab['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',''),_0x7ff007['textureFlo'+'atRenderab'+'le']&&_0x4adbab['set']('SCENE_DEPT'+'HMAP_FLOAT','');}}const pE={'type':Er,'base':0x0,'baseVertex':0x0,'count':0x4,'indexed':!(0x1194+0x161f+-0x13d9*0x2)},so=new re(),io=new re(),Gd=new ky();class Ah{constructor(_0x591782){h(this,'uniformBuf'+'fer'),h(this,'bindGroup');const _0x7fddae=_0x591782['device'];if(this['shader']=_0x591782,w['assert'](_0x591782),_0x7fddae['supportsUn'+'iformBuffe'+'rs']){const _0x296269=new Ad();this['shader']=$t['processSha'+'der'](_0x591782,_0x296269);const _0x313258=this['shader']['meshUnifor'+'mBufferFor'+'mat'];_0x313258&&(this['uniformBuf'+'fer']=new zp(_0x7fddae,_0x313258,!(-0x1b5b+-0x2*-0xb5d+0x4a2)));const _0x24ff47=this['shader']['meshBindGr'+'oupFormat'];w['assert'](_0x24ff47),this['bindGroup']=new Up(_0x7fddae,_0x24ff47),Ea['setName'](this['bindGroup'],'QuadRender'+'-MeshBindG'+'roup_'+this['bindGroup']['id']);}}['destroy'](){var _0x551990,_0x3f0d79;(_0x551990=this['uniformBuf'+'fer'])==null||_0x551990['destroy'](),this['uniformBuf'+'fer']=null,(_0x3f0d79=this['bindGroup'])==null||_0x3f0d79['destroy'](),this['bindGroup']=null;}['render'](_0x2a67c8,_0x2c8a1e){const _0x4d0f7f=this['shader']['device'];Q['pushGpuMar'+'ker'](_0x4d0f7f,'QuadRender'),_0x2a67c8&&(so['set'](_0x4d0f7f['vx'],_0x4d0f7f['vy'],_0x4d0f7f['vw'],_0x4d0f7f['vh']),io['set'](_0x4d0f7f['sx'],_0x4d0f7f['sy'],_0x4d0f7f['sw'],_0x4d0f7f['sh']),_0x2c8a1e=_0x2c8a1e??_0x2a67c8,_0x4d0f7f['setViewpor'+'t'](_0x2a67c8['x'],_0x2a67c8['y'],_0x2a67c8['z'],_0x2a67c8['w']),_0x4d0f7f['setScissor'](_0x2c8a1e['x'],_0x2c8a1e['y'],_0x2c8a1e['z'],_0x2c8a1e['w'])),_0x4d0f7f['setVertexB'+'uffer'](_0x4d0f7f['quadVertex'+'Buffer'],-0xc7+0x1*0x1f51+-0x1e8a);const _0x1386d5=this['shader'];if(_0x4d0f7f['setShader'](_0x1386d5),_0x4d0f7f['supportsUn'+'iformBuffe'+'rs']){_0x4d0f7f['setBindGro'+'up'](rl,_0x4d0f7f['emptyBindG'+'roup']);const _0x3d0be5=this['bindGroup'];_0x3d0be5['update'](),_0x4d0f7f['setBindGro'+'up'](Oy,_0x3d0be5);const _0x192935=this['uniformBuf'+'fer'];_0x192935?(_0x192935['update'](Gd),_0x4d0f7f['setBindGro'+'up'](su,Gd['bindGroup'],Gd['offsets'])):_0x4d0f7f['setBindGro'+'up'](su,_0x4d0f7f['emptyBindG'+'roup']);}_0x4d0f7f['draw'](pE),_0x2a67c8&&(_0x4d0f7f['setViewpor'+'t'](so['x'],so['y'],so['z'],so['w']),_0x4d0f7f['setScissor'](io['x'],io['y'],io['z'],io['w'])),Q['popGpuMark'+'er'](_0x4d0f7f);}}class mE extends ys{constructor(_0x202b2d,_0x1d27c8,_0x5f2804,_0x2554ef){super(_0x202b2d),this['quad']=_0x1d27c8,this['rect']=_0x5f2804,this['scissorRec'+'t']=_0x2554ef;}['execute'](){const {device:_0x1d8e73}=this;Q['pushGpuMar'+'ker'](_0x1d8e73,this['name']+':'+this['quad']['shader']['name']),_0x1d8e73['setCullMod'+'e'](bt),_0x1d8e73['setDepthSt'+'ate'](Yt['NODEPTH']),_0x1d8e73['setStencil'+'State'](null,null),this['quad']['render'](this['rect'],this['scissorRec'+'t']),Q['popGpuMark'+'er'](_0x1d8e73);}}const _E=new re();function Ar(_0x301195,_0x21bce3,_0x5ba318,_0x919016,_0x1ee91d){w['assert'](_0x21bce3!==void(0xc76+0x472*-0x5+0x9c4));const _0x478eb4=arguments[-0x17cb+0x4*-0x566+0x2d68];w['call'](()=>{_0x478eb4!==void(0x1724+-0xe5e*0x1+-0x8c6)&&w['warnOnce']('pc.drawQua'+'dWithShade'+'r\x20no\x20longe'+'r\x20accepts\x20'+'useBlend\x20p'+'arameter,\x20'+'and\x20blendi'+'ng\x20state\x20n'+'eeds\x20to\x20be'+'\x20set\x20up\x20us'+'ing\x20Graphi'+'csDevice.s'+'etBlendSta'+'te.');});const _0x3de203=new Ah(_0x5ba318);_0x919016||(_0x919016=_E,_0x919016['x']=-0x127+0x2701+-0x25da,_0x919016['y']=0x7*-0x53e+0x21db+-0x1*-0x2d7,_0x919016['z']=_0x21bce3?_0x21bce3['width']:_0x301195['width'],_0x919016['w']=_0x21bce3?_0x21bce3['height']:_0x301195['height']);const _0x37a14c=new mE(_0x301195,_0x3de203,_0x919016,_0x1ee91d);_0x37a14c['init'](_0x21bce3),_0x37a14c['colorOps']['clear']=!(0x901+-0x3ed+-0x513*0x1),_0x37a14c['depthStenc'+'ilOps']['clearDepth']=!(0xa63+0x15f+-0xbc1),_0x301195['isWebGPU']&&_0x21bce3===null&&_0x301195['samples']>0xfb9+-0x23a1+0x13e9&&(_0x37a14c['colorOps']['store']=!(0x2*0xac0+0x871+-0x15*0x16d)),_0x37a14c['render'](),_0x3de203['destroy']();}class g_{constructor(_0x188c37,_0x3acf48,_0x517215){h(this,'_aabb',new De()),h(this,'origMeshIn'+'stances'),h(this,'meshInstan'+'ce',null),h(this,'dynamic'),h(this,'batchGroup'+'Id'),(this['origMeshIn'+'stances']=_0x188c37,this['dynamic']=_0x3acf48,this['batchGroup'+'Id']=_0x517215);}['destroy'](_0x4c9dc2,_0x58c65d){this['meshInstan'+'ce']&&(this['removeFrom'+'Layers'](_0x4c9dc2,_0x58c65d),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}['addToLayer'+'s'](_0x11820b,_0x565f47){for(let _0x16a18f=0x1*-0x6f1+-0x77*0x3d+0x234c;_0x16a18f<_0x565f47['length'];_0x16a18f++){const _0x16e9a8=_0x11820b['layers']['getLayerBy'+'Id'](_0x565f47[_0x16a18f]);_0x16e9a8&&_0x16e9a8['addMeshIns'+'tances']([this['meshInstan'+'ce']]);}}['removeFrom'+'Layers'](_0x26ec18,_0x2d538d){for(let _0x26ecdd=-0xd*-0x12d+-0xb08+-0x16b*0x3;_0x26ecdd<_0x2d538d['length'];_0x26ecdd++){const _0x20c905=_0x26ec18['layers']['getLayerBy'+'Id'](_0x2d538d[_0x26ecdd]);_0x20c905&&_0x20c905['removeMesh'+'Instances']([this['meshInstan'+'ce']]);}}['updateBoun'+'dingBox'](){this['_aabb']['copy'](this['origMeshIn'+'stances'][-0x48*-0x9+-0xf96+0x6*0x22d]['aabb']);for(let _0x5ec3e2=0xd07+-0x4*0x78b+-0x1b7*-0xa;_0x5ec3e2<this['origMeshIn'+'stances']['length'];_0x5ec3e2++)this['_aabb']['add'](this['origMeshIn'+'stances'][_0x5ec3e2]['aabb']);this['meshInstan'+'ce']['aabb']=this['_aabb'],this['meshInstan'+'ce']['_aabbVer']=-0x5f0+-0x902*-0x3+0xa8b*-0x2;}get['model'](){w['removed']('pc.Batch#m'+'odel\x20was\x20r'+'emoved.\x20Us'+'e\x20pc.Batch'+'#meshInsta'+'nce\x20to\x20acc'+'ess\x20batche'+'d\x20mesh\x20ins'+'tead.');}}class St{constructor(_0x3f97d7,_0x5839fd,_0x4dad7b,_0x83e039,_0x350b9e=[er]){h(this,'_ui',!(0x18d6+0x17ce+0x30a3*-0x1)),h(this,'_sprite',!(0x7b3+-0x13e4+0xc32)),h(this,'_obj',{'model':[],'element':[],'sprite':[],'render':[]}),h(this,'id'),h(this,'name'),h(this,'dynamic'),h(this,'maxAabbSiz'+'e'),h(this,'layers'),(this['id']=_0x3f97d7,this['name']=_0x5839fd,this['dynamic']=_0x4dad7b,this['maxAabbSiz'+'e']=_0x83e039,this['layers']=_0x350b9e);}}h(St,'MODEL','model'),h(St,'ELEMENT','element'),h(St,'SPRITE','sprite'),h(St,'RENDER','render');const S_=new te();class Ol{constructor(_0x7cd261){h(this,'bones'),(this['_dirty']=!(-0x435*0x1+-0xa79+0x2*0x757),this['_rootBone']=null,this['_skinUpdat'+'eIndex']=-(-0xe87*-0x1+-0x26f*0x8+0x4f2),this['_updateBef'+'oreCull']=!(-0xd39+-0x1a4f*-0x1+-0xd16),_0x7cd261&&this['initSkin'](_0x7cd261));}set['rootBone'](_0x520028){this['_rootBone']=_0x520028;}get['rootBone'](){return this['_rootBone'];}['init'](_0x4136ef,_0x2db316){const _0x21ed65=_0x2db316*(-0xbcf*0x1+-0x1*-0x1b31+-0xf5f);let _0x525fc7=Math['ceil'](Math['sqrt'](_0x21ed65));_0x525fc7=Y['roundUp'](_0x525fc7,0x23e*0xc+0x1*0x928+0x1*-0x240d);const _0x32c6dd=Math['ceil'](_0x21ed65/_0x525fc7);this['boneTextur'+'e']=new _e(_0x4136ef,{'width':_0x525fc7,'height':_0x32c6dd,'format':Xt,'mipmaps':!(-0x1167+0x1f7f+-0xe17),'minFilter':Te,'magFilter':Te,'name':'skin'}),this['matrixPale'+'tte']=this['boneTextur'+'e']['lock']({'mode':yy}),this['boneTextur'+'e']['unlock']();}['destroy'](){this['boneTextur'+'e']&&(this['boneTextur'+'e']['destroy'](),this['boneTextur'+'e']=null);}['resolve'](_0x369769,_0x4968a3){this['rootBone']=_0x369769;const _0x6b1512=this['skin'],_0x314136=[];for(let _0x53f66d=-0x2b*-0x33+0xb57*0x1+-0x13e8;_0x53f66d<_0x6b1512['boneNames']['length'];_0x53f66d++){const _0xfe52c4=_0x6b1512['boneNames'][_0x53f66d];let _0x5c0eba=_0x369769['findByName'](_0xfe52c4);_0x5c0eba||(w['error']('Failed\x20to\x20'+'find\x20bone\x20'+'['+_0xfe52c4+(']\x20in\x20the\x20e'+'ntity\x20hier'+'archy,\x20Ren'+'derCompone'+'nt\x20on\x20')+_0x4968a3['name']+(',\x20rootBone'+':\x20')+_0x369769['name']),_0x5c0eba=_0x4968a3),_0x314136['push'](_0x5c0eba);}this['bones']=_0x314136;}['initSkin'](_0x4882d3){this['skin']=_0x4882d3,this['bones']=[];const _0x38c941=_0x4882d3['inverseBin'+'dPose']['length'];this['init'](_0x4882d3['device'],_0x38c941),this['matrices']=[];for(let _0x9602fd=0x19*-0x57+-0x27b*-0xd+-0x4*0x5f0;_0x9602fd<_0x38c941;_0x9602fd++)this['matrices'][_0x9602fd]=new te();}['uploadBone'+'s'](_0x16adcf){this['boneTextur'+'e']['upload']();}['_updateMat'+'rices'](_0x4d0d2d,_0x39af2a){if(this['_skinUpdat'+'eIndex']!==_0x39af2a){this['_skinUpdat'+'eIndex']=_0x39af2a,S_['copy'](_0x4d0d2d['getWorldTr'+'ansform']())['invert']();for(let _0x7b7b5b=this['bones']['length']-(-0x25ea+-0x1fa1+0x458c);_0x7b7b5b>=-0x1fd6+0xf0a+0x2b*0x64;_0x7b7b5b--)this['matrices'][_0x7b7b5b]['mulAffine2'](S_,this['bones'][_0x7b7b5b]['getWorldTr'+'ansform']()),this['matrices'][_0x7b7b5b]['mulAffine2'](this['matrices'][_0x7b7b5b],this['skin']['inverseBin'+'dPose'][_0x7b7b5b]);}}['updateMatr'+'ices'](_0x5257eb,_0x29afd6){this['_updateBef'+'oreCull']&&this['_updateMat'+'rices'](_0x5257eb,_0x29afd6);}['updateMatr'+'ixPalette'](_0x3170dd,_0x3ca8a8){this['_updateMat'+'rices'](_0x3170dd,_0x3ca8a8);const _0x4fe696=this['matrixPale'+'tte'],_0x53cf46=this['bones']['length'];for(let _0x111391=-0x1d6b+0x17e3+0xb1*0x8;_0x111391<_0x53cf46;_0x111391++){const _0x588cf3=this['matrices'][_0x111391]['data'],_0x49f9aa=_0x111391*(-0x1*0xf9d+-0xbe+0x1067);_0x4fe696[_0x49f9aa]=_0x588cf3[0x1a71+-0x1cbc+0x24b],_0x4fe696[_0x49f9aa+(0x455*0x1+-0x2*0xa11+-0x2*-0x7e7)]=_0x588cf3[-0x54*0x6a+-0x1e*0x23+0x26e6],_0x4fe696[_0x49f9aa+(0x1*0xfa1+-0x1b1*0x17+-0x8*-0x2e9)]=_0x588cf3[0x8*0x2f4+0x15b9+-0x9*0x509],_0x4fe696[_0x49f9aa+(-0x1898+0x26b+-0x8*-0x2c6)]=_0x588cf3[-0x22c0+-0x21c7*-0x1+0x105],_0x4fe696[_0x49f9aa+(-0x6*0x50b+0x1aaf+-0x1*-0x397)]=_0x588cf3[-0x1393*0x1+0x1*0x7e2+0xbb2],_0x4fe696[_0x49f9aa+(0x1e67+-0xc+-0x161*0x16)]=_0x588cf3[-0x25c+-0x83*0x1d+-0x89c*-0x2],_0x4fe696[_0x49f9aa+(0x116f*-0x1+-0x13ac+0x2521)]=_0x588cf3[0x149*-0x1b+-0x58a+0x2846],_0x4fe696[_0x49f9aa+(0x1*-0x1246+0x25*0x1a+0x1*0xe8b)]=_0x588cf3[0x8ba*0x1+-0x6*-0x1f6+0x1*-0x1471],_0x4fe696[_0x49f9aa+(0x2577+0x1c72+-0xd2d*0x5)]=_0x588cf3[-0x1996+-0x1184+0x2b1c],_0x4fe696[_0x49f9aa+(-0x1*-0x1e07+-0x5*-0x753+-0x429d)]=_0x588cf3[0x725*-0x1+-0x8d1*-0x4+-0x1c19],_0x4fe696[_0x49f9aa+(-0x1*-0x5b3+-0x6bd+0x114)]=_0x588cf3[-0x5*-0x3f5+0x25b*0x6+-0x1*0x21e1],_0x4fe696[_0x49f9aa+(-0x126e*-0x1+0x8*-0x43f+0x1*0xf95)]=_0x588cf3[0x2*-0x4b1+-0x1*0x1686+0x1ff6];}this['uploadBone'+'s'](this['skin']['device']);}}class y_ extends Ol{constructor(_0x41c12c,_0x4010d6,_0x4121f3){super();const _0x51ec45=_0x4010d6['length'];this['init'](_0x41c12c,_0x51ec45),this['device']=_0x41c12c,this['rootNode']=_0x4121f3,this['bones']=_0x4010d6;}['updateMatr'+'ices'](_0x299e84,_0x19cae){}['updateMatr'+'ixPalette'](_0xaee964,_0x700818){const _0x2611d2=this['matrixPale'+'tte'],_0x47417b=this['bones']['length'];for(let _0x1ddc42=0x1*-0x1f4b+-0xb8a+-0xd7*-0x33;_0x1ddc42<_0x47417b;_0x1ddc42++){const _0x28c41d=this['bones'][_0x1ddc42]['getWorldTr'+'ansform']()['data'],_0x1e4a49=_0x1ddc42*(-0x4b+0x7*0x19d+-0xaf4);_0x2611d2[_0x1e4a49]=_0x28c41d[0x1601+0xc89*-0x1+-0x978],_0x2611d2[_0x1e4a49+(-0x28f+0x1bed+0x1*-0x195d)]=_0x28c41d[-0x12b6+-0x4*0x2cf+0x1*0x1df6],_0x2611d2[_0x1e4a49+(0x125*0x11+-0x11e*-0x17+-0x2d25)]=_0x28c41d[-0x25fa+-0x1c6+0x43*0x98],_0x2611d2[_0x1e4a49+(-0xf40+0x2232+0x83*-0x25)]=_0x28c41d[-0x1195+0xa6a+0x737],_0x2611d2[_0x1e4a49+(-0xc7*-0x25+-0x8*-0x2f6+-0x346f)]=_0x28c41d[0x2539+-0x7ed*-0x1+0x7*-0x673],_0x2611d2[_0x1e4a49+(0x78b+0x1167+-0x18ed)]=_0x28c41d[0x2633+0x24e9+-0x2f*0x199],_0x2611d2[_0x1e4a49+(0x9e9*0x3+0x4*-0x308+-0x1*0x1195)]=_0x28c41d[0x16bb+-0x1be1+0x52f],_0x2611d2[_0x1e4a49+(0x20f4+0x349*0x2+-0x277f)]=_0x28c41d[-0x72b+-0x23ef+-0x1*-0x2b27],_0x2611d2[_0x1e4a49+(-0x1840*-0x1+-0x4*-0x425+0x2ea*-0xe)]=_0x28c41d[-0x1b17+0x12de+-0x83b*-0x1],_0x2611d2[_0x1e4a49+(0x1*-0x1cf7+0x21a0+-0x4a0)]=_0x28c41d[0x1*-0x18f1+-0x434*-0x1+0x14c3],_0x2611d2[_0x1e4a49+(-0x1c1f+-0x2*-0x27+0x3*0x949)]=_0x28c41d[0xd60+0x1622+-0x2378],_0x2611d2[_0x1e4a49+(0x157*0x1d+-0x1*0xdd9+-0x18f7)]=_0x28c41d[0x149b+-0x1*-0x22d+-0x1*0x16ba];}this['uploadBone'+'s'](this['device']);}}let gE=-0x118a+-0x1*-0x18f2+-0x4*0x1da;class oi{constructor(){this['initDefaul'+'ts']();}['initDefaul'+'ts'](){this['recreate']=!(0x2*-0x105c+-0x2*-0x6e6+0x5f*0x33),this['verticesUs'+'age']=ms,this['indicesUsa'+'ge']=ms,this['maxVertice'+'s']=-0x217b+0x61e+0x1b5d,this['maxIndices']=0xd94+-0x4d3*0x5+-0xa8b*-0x1,this['vertexCoun'+'t']=-0x330+0x1404+-0x10d4,this['indexCount']=-0x7*0x358+0x179e*0x1+-0x1b*0x2,this['vertexStre'+'amsUpdated']=!(-0x7f*-0x1f+-0x3*0x2c8+-0x24*0x32),this['indexStrea'+'mUpdated']=!(-0x18b5+0xb9+0x17fd),this['vertexStre'+'amDictiona'+'ry']={},this['indices']=null;}['_changeVer'+'texCount'](_0x42a5d8,_0x34b8d6){this['vertexCoun'+'t']?w['assert'](this['vertexCoun'+'t']===_0x42a5d8,'Vertex\x20str'+'eam\x20'+_0x34b8d6+'\x20has\x20'+_0x42a5d8+('\x20vertices,'+'\x20which\x20doe'+'s\x20not\x20matc'+'h\x20already\x20'+'set\x20stream'+'s\x20with\x20')+this['vertexCoun'+'t']+'\x20vertices.'):this['vertexCoun'+'t']=_0x42a5d8;}}h(oi,'DEFAULT_CO'+'MPONENTS_P'+'OSITION',-0x1*-0x1807+-0x48a+-0x2*0x9bd),h(oi,'DEFAULT_CO'+'MPONENTS_N'+'ORMAL',-0x511+0x1636+-0x1122),h(oi,'DEFAULT_CO'+'MPONENTS_U'+'V',0x1*-0x1ffa+0x23ae+0x2b*-0x16),h(oi,'DEFAULT_CO'+'MPONENTS_C'+'OLORS',0x1f33+0x26ba+-0x45e9);class SE{constructor(_0x19a19a,_0x3d11a0,_0x412656,_0xe55f00,_0x3db5e8){this['data']=_0x19a19a,this['componentC'+'ount']=_0x3d11a0,this['dataType']=_0x412656,this['dataTypeNo'+'rmalize']=_0xe55f00,this['asInt']=_0x3db5e8;}}class Ge extends wd{constructor(_0x24a27f,_0x1235f7){super(),h(this,'indexBuffe'+'r',[null]),h(this,'vertexBuff'+'er',null),h(this,'primitive',[{'type':0x0,'base':0x0,'baseVertex':0x0,'count':0x0}]),h(this,'skin',null),h(this,'boneAabb',null),h(this,'_aabbVer',0x6a9+0x649+-0xcf2),h(this,'_aabb',new De()),h(this,'_geometryD'+'ata',null),h(this,'_morph',null),h(this,'_storageIn'+'dex',!(0x45*-0x75+-0x1136+0x30c0)),h(this,'_storageVe'+'rtex',!(0xb*0x119+0x29*0xa3+-0x1*0x262d)),(this['id']=gE++,w['assert'](_0x24a27f,'Mesh\x20const'+'ructor\x20tak'+'es\x20a\x20Graph'+'icsDevice\x20'+'as\x20a\x20param'+'eter,\x20and\x20'+'it\x20was\x20not'+'\x20provided.'),this['device']=_0x24a27f,this['_storageIn'+'dex']=(_0x1235f7==null?void(0x2d5*0xd+-0x22c5+-0x20c):_0x1235f7['storageInd'+'ex'])||!(-0x1*-0xb29+-0xbe3+0xbb),this['_storageVe'+'rtex']=(_0x1235f7==null?void(-0x6*-0x33e+-0x1eea+-0x3d2*-0x3):_0x1235f7['storageVer'+'tex'])||!(-0x210c+0x21b+0x1ef2));}static['fromGeomet'+'ry'](_0x1e8014,_0x177bbc,_0x5dec65={}){const _0x3826e=new Ge(_0x1e8014,_0x5dec65),{positions:_0x2d305d,normals:_0x48ea1e,tangents:_0x3a17ef,colors:_0x11226,uvs:_0xc894b0,uvs1:_0x24e527,blendIndices:_0x2f5526,blendWeights:_0x1559f1,indices:_0x3d9729}=_0x177bbc;return _0x2d305d&&_0x3826e['setPositio'+'ns'](_0x2d305d),_0x48ea1e&&_0x3826e['setNormals'](_0x48ea1e),_0x3a17ef&&_0x3826e['setVertexS'+'tream'](yi,_0x3a17ef,-0x1b20+-0x11a0+0x1e*0x17e),_0x11226&&_0x3826e['setColors3'+'2'](_0x11226),_0xc894b0&&_0x3826e['setUvs'](0x1*0x9ba+-0xc47*0x1+0x28d,_0xc894b0),_0x24e527&&_0x3826e['setUvs'](-0x20d*-0xf+0x266f*0x1+-0x1*0x4531,_0x24e527),_0x2f5526&&_0x3826e['setVertexS'+'tream'](us,_0x2f5526,0x1633+0x115f+-0x278e,_0x2f5526['length']/(-0xea3+-0x2504+0x33ab),la),_0x1559f1&&_0x3826e['setVertexS'+'tream'](gi,_0x1559f1,0x25e9+0xac5+-0x30aa),_0x3d9729&&_0x3826e['setIndices'](_0x3d9729),_0x3826e['update'](),_0x3826e;}set['morph'](_0x36c0ab){_0x36c0ab!==this['_morph']&&(this['_morph']&&this['_morph']['decRefCoun'+'t'](),this['_morph']=_0x36c0ab,_0x36c0ab&&_0x36c0ab['incRefCoun'+'t']());}get['morph'](){return this['_morph'];}set['aabb'](_0x5b7113){this['_aabb']=_0x5b7113,this['_aabbVer']++;}get['aabb'](){return this['_aabb'];}['destroy'](){const _0xb9fbb6=this['morph'];_0xb9fbb6&&(this['morph']=null,_0xb9fbb6['refCount']<-0x1fed+0x26c3+-0x6d5&&_0xb9fbb6['destroy']()),this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);for(let _0x1d25de=-0x87a+-0x1e70+-0x2*-0x1375;_0x1d25de<this['indexBuffe'+'r']['length'];_0x1d25de++)this['_destroyIn'+'dexBuffer'](_0x1d25de);this['indexBuffe'+'r']['length']=-0x1033+-0x1ca6*-0x1+-0xc73,this['_geometryD'+'ata']=null;}['_destroyIn'+'dexBuffer'](_0x5859cf){this['indexBuffe'+'r'][_0x5859cf]&&(this['indexBuffe'+'r'][_0x5859cf]['destroy'](),this['indexBuffe'+'r'][_0x5859cf]=null);}['_initBoneA'+'abbs'](_0x13396c){this['boneAabb']=[],this['boneUsed']=[];let _0x534b88,_0x3f5ff5,_0x4b66c1,_0x18dc3c,_0x229b7c;const _0x388cc8=[],_0x5ca127=[],_0x1b16f1=this['boneUsed'],_0x4f3301=this['skin']['boneNames']['length'];let _0x30862d,_0x45f8ad,_0xead24d;for(let _0x33ca77=-0x66b+0x1*0x21ad+-0x2*0xda1;_0x33ca77<_0x4f3301;_0x33ca77++)_0x388cc8[_0x33ca77]=new D(Number['MAX_VALUE'],Number['MAX_VALUE'],Number['MAX_VALUE']),_0x5ca127[_0x33ca77]=new D(-Number['MAX_VALUE'],-Number['MAX_VALUE'],-Number['MAX_VALUE']);const _0x2541d0=new Uo(this['vertexBuff'+'er']),_0x1ed315=_0x2541d0['element'][Me],_0x726531=_0x2541d0['element'][gi],_0x2f98a9=_0x2541d0['element'][us],_0x49bd28=this['vertexBuff'+'er']['numVertice'+'s'];for(let _0x586855=-0x207c+-0x1fab+-0x5d5*-0xb;_0x586855<_0x49bd28;_0x586855++){for(let _0x2389f9=-0x46a+-0x9e*-0x34+0x1bae*-0x1;_0x2389f9<-0x8b4+0x2bd*-0x8+-0x20*-0xf5;_0x2389f9++)if(_0x726531['array'][_0x726531['index']+_0x2389f9]>-0x2f5*-0x7+-0x14+-0x149f){const _0x5579d7=_0x2f98a9['array'][_0x2f98a9['index']+_0x2389f9];if(_0x1b16f1[_0x5579d7]=!(0x185c+0x6b7+-0xb9*0x2b),_0x534b88=_0x1ed315['array'][_0x1ed315['index']],_0x3f5ff5=_0x1ed315['array'][_0x1ed315['index']+(0x5f7*0x5+0x23db+-0x41ad)],_0x4b66c1=_0x1ed315['array'][_0x1ed315['index']+(-0x7bb*-0x1+0x20*-0x53+-0x2a7*-0x1)],_0x18dc3c=_0x5ca127[_0x5579d7],_0x229b7c=_0x388cc8[_0x5579d7],_0x229b7c['x']>_0x534b88&&(_0x229b7c['x']=_0x534b88),_0x229b7c['y']>_0x3f5ff5&&(_0x229b7c['y']=_0x3f5ff5),_0x229b7c['z']>_0x4b66c1&&(_0x229b7c['z']=_0x4b66c1),_0x18dc3c['x']<_0x534b88&&(_0x18dc3c['x']=_0x534b88),_0x18dc3c['y']<_0x3f5ff5&&(_0x18dc3c['y']=_0x3f5ff5),_0x18dc3c['z']<_0x4b66c1&&(_0x18dc3c['z']=_0x4b66c1),_0x13396c){let _0x282848=_0x30862d=_0x534b88,_0x1d4c8d=_0x45f8ad=_0x3f5ff5,_0x399931=_0xead24d=_0x4b66c1;for(let _0xb15b69=-0x24a9*0x1+-0x23*0xa3+0x3af2;_0xb15b69<_0x13396c['length'];_0xb15b69++){const _0xf04844=_0x13396c[_0xb15b69],_0x54179d=_0xf04844['deltaPosit'+'ions'][_0x586855*(0x3b*-0x1d+0x1*0xce8+-0x636)],_0x5d4700=_0xf04844['deltaPosit'+'ions'][_0x586855*(-0x1e7a+-0x186d+0x36ea)+(0x1e16+-0x3*0xb65+0x41a)],_0x4f9c1a=_0xf04844['deltaPosit'+'ions'][_0x586855*(-0xcc8+0xa51+-0x27a*-0x1)+(-0x2d*-0x57+0x2f7+-0x1240)];_0x54179d<-0x109c*-0x2+0x96b*0x3+0x1*-0x3d79?_0x282848+=_0x54179d:_0x30862d+=_0x54179d,_0x5d4700<-0xb14+0x156a+0x31*-0x36?_0x1d4c8d+=_0x5d4700:_0x45f8ad+=_0x5d4700,_0x4f9c1a<-0x1782+0x1d9a+-0x618?_0x399931+=_0x4f9c1a:_0xead24d+=_0x4f9c1a;}_0x229b7c['x']>_0x282848&&(_0x229b7c['x']=_0x282848),_0x229b7c['y']>_0x1d4c8d&&(_0x229b7c['y']=_0x1d4c8d),_0x229b7c['z']>_0x399931&&(_0x229b7c['z']=_0x399931),_0x18dc3c['x']<_0x30862d&&(_0x18dc3c['x']=_0x30862d),_0x18dc3c['y']<_0x45f8ad&&(_0x18dc3c['y']=_0x45f8ad),_0x18dc3c['z']<_0xead24d&&(_0x18dc3c['z']=_0xead24d);}}_0x2541d0['next']();}const _0x575ac3=this['vertexBuff'+'er']['getFormat']()['elements']['find'](_0x22cb97=>_0x22cb97['name']===Me);if(_0x575ac3&&_0x575ac3['normalize']){const _0x52d66b=((()=>{switch(_0x575ac3['dataType']){case dd:return _0x2cdd10=>Math['max'](_0x2cdd10/(0xc61*0x2+-0x4*-0x3aa+-0x26eb),-(0x4*-0x943+-0x1*-0x21c1+0x1*0x34c));case la:return _0xb7ed7f=>_0xb7ed7f/(-0x1*0x19f+-0xa0+0x33e);case fd:return _0x165044=>Math['max'](_0x165044/(-0x38ef+0x1*-0x1ae9+0xd3d7),-(0x1626+-0x11*-0x1e2+0x1*-0x3627));case Ml:return _0x41df1b=>_0x41df1b/(0x7b33+0x1be19+0x1*-0x1394d);default:return _0x43b401=>_0x43b401;}})());for(let _0x3b8de8=-0x2b*0x1+0x76f*-0x2+-0x3*-0x503;_0x3b8de8<_0x4f3301;_0x3b8de8++)if(_0x1b16f1[_0x3b8de8]){const _0x23b927=_0x388cc8[_0x3b8de8],_0x1b7872=_0x5ca127[_0x3b8de8];_0x23b927['set'](_0x52d66b(_0x23b927['x']),_0x52d66b(_0x23b927['y']),_0x52d66b(_0x23b927['z'])),_0x1b7872['set'](_0x52d66b(_0x1b7872['x']),_0x52d66b(_0x1b7872['y']),_0x52d66b(_0x1b7872['z']));}}for(let _0x12cc2c=0x3*0x530+-0x1071+0xe1;_0x12cc2c<_0x4f3301;_0x12cc2c++){const _0x161880=new De();_0x161880['setMinMax'](_0x388cc8[_0x12cc2c],_0x5ca127[_0x12cc2c]),this['boneAabb']['push'](_0x161880);}}['_initGeome'+'tryData'](){this['_geometryD'+'ata']||(this['_geometryD'+'ata']=new oi(),this['vertexBuff'+'er']&&(this['_geometryD'+'ata']['vertexCoun'+'t']=this['vertexBuff'+'er']['numVertice'+'s'],this['_geometryD'+'ata']['maxVertice'+'s']=this['vertexBuff'+'er']['numVertice'+'s']),this['indexBuffe'+'r']['length']>0x2376+0xd0e+-0x3084&&this['indexBuffe'+'r'][0x15b7*0x1+-0x149b+-0x11c]&&(this['_geometryD'+'ata']['indexCount']=this['indexBuffe'+'r'][-0x158d+-0x8*-0x1cd+0x725]['numIndices'],this['_geometryD'+'ata']['maxIndices']=this['indexBuffe'+'r'][0xdda+-0x219a+0x13c0]['numIndices']));}['clear'](_0x53152c,_0xff62ad,_0x2ed06f=0x7*-0x579+-0x7cd*0x5+-0x4*-0x1354,_0x27f76f=-0x19a*-0x7+-0xd71*0x1+0x23b*0x1){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['initDefaul'+'ts'](),this['_geometryD'+'ata']['recreate']=!(0x11d9+-0x127*-0x13+-0x27be),this['_geometryD'+'ata']['maxVertice'+'s']=_0x2ed06f,this['_geometryD'+'ata']['maxIndices']=_0x27f76f,this['_geometryD'+'ata']['verticesUs'+'age']=_0x53152c?ms:lh,this['_geometryD'+'ata']['indicesUsa'+'ge']=_0xff62ad?ms:lh;}['setVertexS'+'tream'](_0x108322,_0xfee193,_0x5228c2,_0x1ac7de,_0x2f0f3f=Ve,_0x35a643=!(-0xd47+0x6d1*0x4+0x4*-0x37f),_0x463bef=!(-0xb*-0x13+0x260c+-0x9b7*0x4)){this['_initGeome'+'tryData']();const _0x3336d8=_0x1ac7de||_0xfee193['length']/_0x5228c2;this['_geometryD'+'ata']['_changeVer'+'texCount'](_0x3336d8,_0x108322),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(0x991*0x3+0x2529+-0x41dc),this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x108322]=new SE(_0xfee193,_0x5228c2,_0x2f0f3f,_0x35a643,_0x463bef);}['getVertexS'+'tream'](_0xf09486,_0xb34265){let _0x131a51=-0x114f*-0x1+0x7*0x2b3+-0x2434,_0x265c31=!(0x1ab*-0x9+0x67c+0x888);if(this['_geometryD'+'ata']){const _0x48c1e3=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0xf09486];_0x48c1e3&&(_0x265c31=!(-0x7e1*-0x1+-0x1*-0xca5+-0x1486),_0x131a51=this['_geometryD'+'ata']['vertexCoun'+'t'],ArrayBuffer['isView'](_0xb34265)?_0xb34265['set'](_0x48c1e3['data']):(_0xb34265['length']=0x1f+-0x3*0x292+0x797,_0xb34265['push'](_0x48c1e3['data'])));}return _0x265c31||this['vertexBuff'+'er']&&(_0x131a51=new Uo(this['vertexBuff'+'er'])['readData'](_0xf09486,_0xb34265)),_0x131a51;}['setPositio'+'ns'](_0x5c406e,_0x1c52ce=oi['DEFAULT_CO'+'MPONENTS_P'+'OSITION'],_0xe26e95){this['setVertexS'+'tream'](Me,_0x5c406e,_0x1c52ce,_0xe26e95,Ve,!(-0x1c*-0x73+0x259*0x1+-0xeec));}['setNormals'](_0x3a81fc,_0x31d755=oi['DEFAULT_CO'+'MPONENTS_N'+'ORMAL'],_0x1deb1b){this['setVertexS'+'tream'](gs,_0x3a81fc,_0x31d755,_0x1deb1b,Ve,!(-0x8b7+0x4f8*0x2+-0x138));}['setUvs'](_0x540e2f,_0x4ed4f9,_0x18b1f0=oi['DEFAULT_CO'+'MPONENTS_U'+'V'],_0x591a9f){this['setVertexS'+'tream'](zm+_0x540e2f,_0x4ed4f9,_0x18b1f0,_0x591a9f,Ve,!(-0x2*-0x4b4+-0x53*0x4+-0x81b));}['setColors'](_0x1ace1d,_0x350399=oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x574a17){this['setVertexS'+'tream'](Wt,_0x1ace1d,_0x350399,_0x574a17,Ve,!(0x3b9*-0x5+0xe7f+-0xd3*-0x5));}['setColors3'+'2'](_0x5b1b07,_0x7f750a){this['setVertexS'+'tream'](Wt,_0x5b1b07,oi['DEFAULT_CO'+'MPONENTS_C'+'OLORS'],_0x7f750a,la,!(0x209c+0x1e30+0xfb3*-0x4));}['setIndices'](_0x32faf9,_0x1431d7){this['_initGeome'+'tryData'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x5c2+-0x14c1+0xeff),this['_geometryD'+'ata']['indices']=_0x32faf9,this['_geometryD'+'ata']['indexCount']=_0x1431d7||_0x32faf9['length'];}['getPositio'+'ns'](_0xd21698){return this['getVertexS'+'tream'](Me,_0xd21698);}['getNormals'](_0x4dd69c){return this['getVertexS'+'tream'](gs,_0x4dd69c);}['getUvs'](_0xa1209b,_0x4ee4f3){return this['getVertexS'+'tream'](zm+_0xa1209b,_0x4ee4f3);}['getColors'](_0x31411f){return this['getVertexS'+'tream'](Wt,_0x31411f);}['getIndices'](_0x34c8b6){let _0x198302=-0x24bb+0xc0*0x17+0x137b;if(this['_geometryD'+'ata']&&this['_geometryD'+'ata']['indices']){const _0x440bf7=this['_geometryD'+'ata']['indices'];if(_0x198302=this['_geometryD'+'ata']['indexCount'],ArrayBuffer['isView'](_0x34c8b6))_0x34c8b6['set'](_0x440bf7);else{_0x34c8b6['length']=-0x7b9*0x3+0xf28+0x7*0x125;for(let _0x55411d=0xc14+-0x7*-0x511+0x2f8b*-0x1,_0x189136=_0x440bf7['length'];_0x55411d<_0x189136;_0x55411d++)_0x34c8b6['push'](_0x440bf7[_0x55411d]);}}else this['indexBuffe'+'r']['length']>-0x85a+0x1*-0x151+0x339*0x3&&this['indexBuffe'+'r'][-0x17*-0x23+-0x227b+0x47a*0x7]&&(_0x198302=this['indexBuffe'+'r'][0x5d3+0x1e83*0x1+-0x2456]['readData'](_0x34c8b6));return _0x198302;}['update'](_0x1a5e5a=js,_0x5ebeb9=!(0x1*0x1100+-0xd7c+-0x384)){if(this['_geometryD'+'ata']){if(_0x5ebeb9){const _0xd0479e=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][Me];_0xd0479e&&_0xd0479e['componentC'+'ount']===0x13*0x1f3+-0x1*0x1082+-0x1484&&(this['_aabb']['compute'](_0xd0479e['data'],this['_geometryD'+'ata']['vertexCoun'+'t']),this['_aabbVer']++);}let _0x519845=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['vertexCoun'+'t']>this['_geometryD'+'ata']['maxVertice'+'s']&&(_0x519845=!(-0x1bc2+0x235d+-0x79b),this['_geometryD'+'ata']['maxVertice'+'s']=this['_geometryD'+'ata']['vertexCoun'+'t']),_0x519845&&this['vertexBuff'+'er']&&(this['vertexBuff'+'er']['destroy'](),this['vertexBuff'+'er']=null);let _0x3d081b=this['_geometryD'+'ata']['recreate'];this['_geometryD'+'ata']['indexCount']>this['_geometryD'+'ata']['maxIndices']&&(_0x3d081b=!(-0x156e+0x31d*-0x4+0x21e2),this['_geometryD'+'ata']['maxIndices']=this['_geometryD'+'ata']['indexCount']),_0x3d081b&&this['indexBuffe'+'r']['length']>-0xf*-0x109+-0x1397+0x410&&this['indexBuffe'+'r'][0x1*-0x1f75+0xb9*-0x2f+0x416c*0x1]&&(this['indexBuffe'+'r'][-0xc5*-0x17+0x1*0x685+-0x26c*0xa]['destroy'](),this['indexBuffe'+'r'][-0x1*-0xe9b+0x763+-0x15fe]=null),this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&this['_updateVer'+'texBuffer'](),this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&this['_updateInd'+'exBuffer'](),this['primitive'][0x152*-0x12+0x2*0x57a+0xcd0]['type']=_0x1a5e5a,this['indexBuffe'+'r']['length']>0x10f6+0x1924+-0x11*0x27a&&this['indexBuffe'+'r'][0x1ccb+0x370*-0x6+-0x1*0x82b]?this['_geometryD'+'ata']['indexStrea'+'mUpdated']&&(this['primitive'][-0x12bc+-0x1d2d+0x2fe9]['count']=this['_geometryD'+'ata']['indexCount'],this['primitive'][0x2135+-0x19ed+0x1*-0x748]['indexed']=!(-0x11f6+-0x1d5a+0x2f50)):this['_geometryD'+'ata']['vertexStre'+'amsUpdated']&&(this['primitive'][-0x12e*0x8+0xae4+-0x174]['count']=this['_geometryD'+'ata']['vertexCoun'+'t'],this['primitive'][0x1b9b+-0x18c0+0x1*-0x2db]['indexed']=!(0x1d44+0x212e+-0x2b7*0x17)),this['_geometryD'+'ata']['vertexCoun'+'t']=0x1*0x2f1+0xdd3+0x25*-0x74,this['_geometryD'+'ata']['indexCount']=-0x948+-0x7*0x2ad+0x1c03,this['_geometryD'+'ata']['vertexStre'+'amsUpdated']=!(-0x675+-0x1d67+-0x1*-0x23dd),this['_geometryD'+'ata']['indexStrea'+'mUpdated']=!(0x26a7*0x1+-0x2036+0x8*-0xce),this['_geometryD'+'ata']['recreate']=!(0x11*-0x1ac+0x20e*-0xe+0x3931),this['updateRend'+'erStates']();}}['_buildVert'+'exFormat'](_0x57a99f){const _0x399d07=[];for(const _0x11c59f in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x1c9d6f=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x11c59f];_0x399d07['push']({'semantic':_0x11c59f,'components':_0x1c9d6f['componentC'+'ount'],'type':_0x1c9d6f['dataType'],'normalize':_0x1c9d6f['dataTypeNo'+'rmalize'],'asInt':_0x1c9d6f['asInt']});}return new kt(this['device'],_0x399d07,_0x57a99f);}['_updateVer'+'texBuffer'](){if(!this['vertexBuff'+'er']){const _0x22109b=this['_geometryD'+'ata']['maxVertice'+'s'],_0x8aecd1=this['_buildVert'+'exFormat'](_0x22109b);this['vertexBuff'+'er']=new Is(this['device'],_0x8aecd1,_0x22109b,{'usage':this['_geometryD'+'ata']['verticesUs'+'age'],'storage':this['_storageVe'+'rtex']});}const _0x10d57a=new Uo(this['vertexBuff'+'er']),_0x3ed594=this['_geometryD'+'ata']['vertexCoun'+'t'];for(const _0x2f4519 in this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry']){const _0x23904a=this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x2f4519];_0x10d57a['writeData'](_0x2f4519,_0x23904a['data'],_0x3ed594),delete this['_geometryD'+'ata']['vertexStre'+'amDictiona'+'ry'][_0x2f4519];}_0x10d57a['end']();}['_updateInd'+'exBuffer'](){if(this['indexBuffe'+'r']['length']<=0x1*-0x2650+-0x17e7*0x1+-0x1*-0x3e37||!this['indexBuffe'+'r'][0x9f0+0x248a+-0x2e7a]){const _0x3a3d00=this['_geometryD'+'ata']['maxVertice'+'s'],_0x2e050b=_0x3a3d00>-0x1e897+-0x751a+-0x4*-0xd76c||_0x3a3d00===-0x65a*-0x2+0x37*-0x6d+0xab7?wr:Yi,_0x225e34=this['_storageIn'+'dex']?{'storage':!(-0x10d2+0x269c+0x15ca*-0x1)}:void(0x1ccc+0x10e3+0x2daf*-0x1);this['indexBuffe'+'r'][0x235e+-0x64f+-0x1d0f]=new br(this['device'],_0x2e050b,this['_geometryD'+'ata']['maxIndices'],this['_geometryD'+'ata']['indicesUsa'+'ge'],void(0x1*-0x10d2+0x14fb+-0x429),_0x225e34);}const _0x4d3bed=this['_geometryD'+'ata']['indices'];_0x4d3bed&&(this['indexBuffe'+'r'][-0xff1+-0x1*-0x427+0xbca]['writeData'](_0x4d3bed,this['_geometryD'+'ata']['indexCount']),this['_geometryD'+'ata']['indices']=null);}['prepareRen'+'derState'](_0x1a3d2b){_0x1a3d2b===$r?this['generateWi'+'reframe']():_0x1a3d2b===Jl&&(this['primitive'][Jl]={'type':cd,'base':0x0,'baseVertex':0x0,'count':this['vertexBuff'+'er']?this['vertexBuff'+'er']['numVertice'+'s']:-0x1*0x14a7+0x14ba+-0x13*0x1,'indexed':!(-0x1a*-0x2b+0x30c+-0x7*0x10f)});}['updateRend'+'erStates'](){this['primitive'][Jl]&&this['prepareRen'+'derState'](Jl),this['primitive'][$r]&&this['prepareRen'+'derState']($r);}['generateWi'+'reframe'](){this['_destroyIn'+'dexBuffer']($r);const _0x402266=this['vertexBuff'+'er']['numVertice'+'s'],_0x17265c=[];let _0x579a66;if(this['indexBuffe'+'r']['length']>-0x1f63+-0x135f+-0x1961*-0x2&&this['indexBuffe'+'r'][0x2*0xfe4+-0x1e4d+0x17b*-0x1]){const _0x35b96f=[[-0x2*-0x1345+0x3*-0xd03+0x7f,-0x1*0x1733+-0x1*-0x1f24+-0x7f0],[-0x1*0x25ce+0x21*0xad+0x7c1*0x2,-0x2511+-0x11a+0x262d],[-0x256e+0x1f3a+0x6a*0xf,-0x3e1*0x1+-0x1*-0x1103+-0xd22]],_0x42bafe=this['primitive'][un]['base'],_0xb2716d=this['primitive'][un]['count'],_0x4c29bb=this['primitive'][un]['baseVertex']||0x1951*0x1+0x1*0x151+-0x1e7*0xe,_0x10c796=this['indexBuffe'+'r'][un],_0x50e9e4=new Sh[_0x10c796['format']](_0x10c796['storage']),_0x1b0f87=new Set();for(let _0x4cb3d9=_0x42bafe;_0x4cb3d9<_0x42bafe+_0xb2716d;_0x4cb3d9+=0xa32+-0x2d*0x1+0x7*-0x16e)for(let _0x2ec98f=0x258c+0x1cc3+0x5*-0xd43;_0x2ec98f<0x3*-0x6bb+0x1*0xc6d+0x7c7;_0x2ec98f++){const _0x28e786=_0x50e9e4[_0x4cb3d9+_0x35b96f[_0x2ec98f][-0x7*-0x3ff+0x1333+-0x2f2c]]+_0x4c29bb,_0x23da47=_0x50e9e4[_0x4cb3d9+_0x35b96f[_0x2ec98f][0x1119+-0xb97+0x581*-0x1]]+_0x4c29bb,_0x1c308d=_0x28e786>_0x23da47?_0x23da47*_0x402266+_0x28e786:_0x28e786*_0x402266+_0x23da47;_0x1b0f87['has'](_0x1c308d)||(_0x1b0f87['add'](_0x1c308d),_0x17265c['push'](_0x28e786,_0x23da47));}_0x579a66=_0x10c796['format'];}else{for(let _0x5f0002=0xbf7+0x1d*-0xd6+-0x7*-0x1c1;_0x5f0002<_0x402266;_0x5f0002+=-0xe9*0x20+0x1dc0+-0x9d)_0x17265c['push'](_0x5f0002,_0x5f0002+(0x37*0x85+0x5b9+-0x224b),_0x5f0002+(-0x67*0x22+0x223c+-0x1*0x148d),_0x5f0002+(0x1582+-0x1b9c+-0x17*-0x44),_0x5f0002+(-0x897+0x5e*0x18+0xb*-0x5),_0x5f0002);_0x579a66=_0x17265c['length']>-0x697f*0x3+0x91b+-0x258f*-0xf?wr:Yi;}const _0x32fb93=new br(this['vertexBuff'+'er']['device'],_0x579a66,_0x17265c['length']);new Sh[_0x32fb93['format']](_0x32fb93['storage'])['set'](_0x17265c),_0x32fb93['unlock'](),this['primitive'][$r]={'type':hd,'base':0x0,'baseVertex':0x0,'count':_0x17265c['length'],'indexed':!(-0x136c+0x1702+-0x396)},this['indexBuffe'+'r'][$r]=_0x32fb93;}}const v_=new te(),Hd=new D(),x_=new le(),Wd=new le(),T_=new D(),w_=new D(),yE=new te(),vE=new le(),rs=new D(),ro=new te(),as=new le(),Ia=new le(),E_=new te(),$d=new D(),tc=new D();function b_(_0x2be223,_0xa8d540){return _0x2be223 instanceof Function?_0x2be223:_0x54b2d9=>{let _0x52a18a=_0x54b2d9[_0x2be223];return _0x52a18a instanceof Function&&(_0x52a18a=_0x52a18a()),_0x52a18a===_0xa8d540;};}function Sv(_0x4c51df,_0x46d706){if(_0x46d706(_0x4c51df))return _0x4c51df;const _0x1753d2=_0x4c51df['_children'],_0x12898a=_0x1753d2['length'];for(let _0x2ab98f=0x3a+-0x78*-0x1f+-0xec2;_0x2ab98f<_0x12898a;++_0x2ab98f){const _0x2b6435=Sv(_0x1753d2[_0x2ab98f],_0x46d706);if(_0x2b6435)return _0x2b6435;}return null;}class Ie extends me{constructor(_0xa606e3='Untitled'){super(),h(this,'name'),h(this,'tags',new Oo(this)),h(this,'localPosit'+'ion',new D()),h(this,'localRotat'+'ion',new le()),h(this,'localScale',new D(0x1b3f+0x3*-0x8b3+-0x125,0x9bc+-0xbcd*-0x1+-0x1588,-0xa39+-0xc5*0xf+0x15c5*0x1)),h(this,'localEuler'+'Angles',new D()),h(this,'position',new D()),h(this,'rotation',new le()),h(this,'eulerAngle'+'s',new D()),h(this,'_scale',null),h(this,'localTrans'+'form',new te()),h(this,'_dirtyLoca'+'l',!(-0x2566+0x9*0x291+0xe4e)),h(this,'_aabbVer',0x2b7*0x1+-0x1fc*0xd+0x1*0x1715),h(this,'_frozen',!(-0xed8+-0x1da8+0x2c81)),h(this,'worldTrans'+'form',new te()),h(this,'_dirtyWorl'+'d',!(-0x2*0xf51+0x12b+-0x1d78*-0x1)),h(this,'_worldScal'+'eSign',0x26db+0x993*0x1+-0x306e),h(this,'_normalMat'+'rix',new _i()),h(this,'_dirtyNorm'+'al',!(-0x1950+-0x197f+-0x32cf*-0x1)),h(this,'_right',null),h(this,'_up',null),h(this,'_forward',null),h(this,'_parent',null),h(this,'_children',[]),h(this,'_graphDept'+'h',0xd7b+-0x2*-0x711+-0x1b9d),h(this,'_enabled',!(0x2e5*-0x7+0x579+0xeca)),h(this,'_enabledIn'+'Hierarchy',!(0x1b07+-0xfe*-0x1b+-0x35d0)),h(this,'scaleCompe'+'nsation',!(-0x41b*-0x7+0x177d*-0x1+-0x53f*0x1)),this['name']=_0xa606e3;}get['right'](){return this['_right']||(this['_right']=new D()),this['getWorldTr'+'ansform']()['getX'](this['_right'])['normalize']();}get['up'](){return this['_up']||(this['_up']=new D()),this['getWorldTr'+'ansform']()['getY'](this['_up'])['normalize']();}get['forward'](){return this['_forward']||(this['_forward']=new D()),this['getWorldTr'+'ansform']()['getZ'](this['_forward'])['normalize']()['mulScalar'](-(0x1*0x17a5+0xf84+-0x2728));}get['normalMatr'+'ix'](){const _0x47a0f3=this['_normalMat'+'rix'];return this['_dirtyNorm'+'al']&&(_0x47a0f3['invertMat4'](this['getWorldTr'+'ansform']())['transpose'](),this['_dirtyNorm'+'al']=!(0x21e5+0x26f+-0x2453)),_0x47a0f3;}set['enabled'](_0x442e56){var _0xd19434;this['_enabled']!==_0x442e56&&(this['_enabled']=_0x442e56,(_0x442e56&&((_0xd19434=this['_parent'])!=null&&_0xd19434['enabled'])||!_0x442e56)&&this['_notifyHie'+'rarchyStat'+'eChanged'](this,_0x442e56));}get['enabled'](){return this['_enabled']&&this['_enabledIn'+'Hierarchy'];}get['parent'](){return this['_parent'];}get['path'](){let _0x2dca56=this['_parent'];if(!_0x2dca56)return'';let _0x5bee19=this['name'];for(;_0x2dca56&&_0x2dca56['_parent'];)_0x5bee19=_0x2dca56['name']+'/'+_0x5bee19,_0x2dca56=_0x2dca56['_parent'];return _0x5bee19;}get['root'](){let _0x23f9fd=this;for(;_0x23f9fd['_parent'];)_0x23f9fd=_0x23f9fd['_parent'];return _0x23f9fd;}get['children'](){return this['_children'];}get['graphDepth'](){return this['_graphDept'+'h'];}['_notifyHie'+'rarchyStat'+'eChanged'](_0x1cc376,_0x470907){_0x1cc376['_onHierarc'+'hyStateCha'+'nged'](_0x470907);const _0x2b4a8e=_0x1cc376['_children'];for(let _0x1ecede=-0x24*-0xec+0x2*-0x10f8+0xc0,_0x2b94d8=_0x2b4a8e['length'];_0x1ecede<_0x2b94d8;_0x1ecede++)_0x2b4a8e[_0x1ecede]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x2b4a8e[_0x1ecede],_0x470907);}['_onHierarc'+'hyStateCha'+'nged'](_0x1e25d6){this['_enabledIn'+'Hierarchy']=_0x1e25d6,_0x1e25d6&&!this['_frozen']&&this['_unfreezeP'+'arentToRoo'+'t']();}['_cloneInte'+'rnal'](_0x67c494){_0x67c494['name']=this['name'];const _0x50b688=this['tags']['_list'];_0x67c494['tags']['clear']();for(let _0x10c2d5=0x2227+0x1068+-0x328f;_0x10c2d5<_0x50b688['length'];_0x10c2d5++)_0x67c494['tags']['add'](_0x50b688[_0x10c2d5]);_0x67c494['localPosit'+'ion']['copy'](this['localPosit'+'ion']),_0x67c494['localRotat'+'ion']['copy'](this['localRotat'+'ion']),_0x67c494['localScale']['copy'](this['localScale']),_0x67c494['localEuler'+'Angles']['copy'](this['localEuler'+'Angles']),_0x67c494['position']['copy'](this['position']),_0x67c494['rotation']['copy'](this['rotation']),_0x67c494['eulerAngle'+'s']['copy'](this['eulerAngle'+'s']),_0x67c494['localTrans'+'form']['copy'](this['localTrans'+'form']),_0x67c494['_dirtyLoca'+'l']=this['_dirtyLoca'+'l'],_0x67c494['worldTrans'+'form']['copy'](this['worldTrans'+'form']),_0x67c494['_dirtyWorl'+'d']=this['_dirtyWorl'+'d'],_0x67c494['_dirtyNorm'+'al']=this['_dirtyNorm'+'al'],_0x67c494['_aabbVer']=this['_aabbVer']+(0x4ca+-0xcdd+0x16*0x5e),_0x67c494['_enabled']=this['_enabled'],_0x67c494['scaleCompe'+'nsation']=this['scaleCompe'+'nsation'],_0x67c494['_enabledIn'+'Hierarchy']=!(0x61*0x30+0xf95*-0x1+-0x29a);}['clone'](){const _0x4aa0e6=new this['constructo'+'r']();return this['_cloneInte'+'rnal'](_0x4aa0e6),_0x4aa0e6;}['copy'](_0x518dc7){return _0x518dc7['_cloneInte'+'rnal'](this),this;}['destroy'](){this['remove']();const _0x142b54=this['_children'];for(;_0x142b54['length'];){const _0x5876f2=_0x142b54['pop']();_0x5876f2['_parent']=null,_0x5876f2['destroy']();}this['fire']('destroy',this),this['off']();}['find'](_0x3b09e1,_0x115ee5){const _0x4a668a=[],_0x32836c=b_(_0x3b09e1,_0x115ee5);return this['forEach'](_0x57fe82=>{_0x32836c(_0x57fe82)&&_0x4a668a['push'](_0x57fe82);}),_0x4a668a;}['findOne'](_0x5ba949,_0x4341d8){const _0x5812ea=b_(_0x5ba949,_0x4341d8);return Sv(this,_0x5812ea);}['findByTag'](..._0x534eb0){const _0x319182=[],_0x206515=(_0x538a04,_0x518bb8)=>{_0x518bb8&&_0x538a04['tags']['has'](..._0x534eb0)&&_0x319182['push'](_0x538a04);for(let _0x20631f=0x1*-0x533+-0x25*0xa4+0x421*0x7;_0x20631f<_0x538a04['_children']['length'];_0x20631f++)_0x206515(_0x538a04['_children'][_0x20631f],!(-0x1c8c+0xae2+0x11aa));};return _0x206515(this,!(0x1bb4+0x1168+0xf09*-0x3)),_0x319182;}['findByName'](_0x263d90){return this['findOne']('name',_0x263d90);}['findByPath'](_0x50c2d4){const _0x277077=Array['isArray'](_0x50c2d4)?_0x50c2d4:_0x50c2d4['split']('/');let _0x2fc083=this;for(let _0x5dfcf8=0x80b*0x2+-0x1208+0x3*0xa6,_0xa5eecb=_0x277077['length'];_0x5dfcf8<_0xa5eecb;++_0x5dfcf8)if(_0x2fc083=_0x2fc083['children']['find'](_0x1e20e3=>_0x1e20e3['name']===_0x277077[_0x5dfcf8]),!_0x2fc083)return null;return _0x2fc083;}['forEach'](_0x58ec1b,_0x209df0){_0x58ec1b['call'](_0x209df0,this);const _0x23aa01=this['_children'],_0x4476c3=_0x23aa01['length'];for(let _0x3980e9=-0x20b8+-0x69+0x2121;_0x3980e9<_0x4476c3;++_0x3980e9)_0x23aa01[_0x3980e9]['forEach'](_0x58ec1b,_0x209df0);}['isDescenda'+'ntOf'](_0x50b58e){let _0x59f147=this['_parent'];for(;_0x59f147;){if(_0x59f147===_0x50b58e)return!(0xe4c+-0x1*0x1885+-0xa39*-0x1);_0x59f147=_0x59f147['_parent'];}return!(-0x3f8*0x9+0x93b+0x2*0xd3f);}['isAncestor'+'Of'](_0x3c79c9){return _0x3c79c9['isDescenda'+'ntOf'](this);}['getEulerAn'+'gles'](){return this['getWorldTr'+'ansform']()['getEulerAn'+'gles'](this['eulerAngle'+'s']),this['eulerAngle'+'s'];}['getLocalEu'+'lerAngles'](){return this['localRotat'+'ion']['getEulerAn'+'gles'](this['localEuler'+'Angles']),this['localEuler'+'Angles'];}['getLocalPo'+'sition'](){return this['localPosit'+'ion'];}['getLocalRo'+'tation'](){return this['localRotat'+'ion'];}['getLocalSc'+'ale'](){return this['localScale'];}['getLocalTr'+'ansform'](){return this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(0xdc9+0x65*-0x57+0x148b)),this['localTrans'+'form'];}['getPositio'+'n'](){return this['getWorldTr'+'ansform']()['getTransla'+'tion'](this['position']),this['position'];}['getRotatio'+'n'](){return this['rotation']['setFromMat'+'4'](this['getWorldTr'+'ansform']()),this['rotation'];}['getScale'](){return this['_scale']||(this['_scale']=new D()),this['getWorldTr'+'ansform']()['getScale'](this['_scale']);}['getWorldTr'+'ansform'](){return!this['_dirtyLoca'+'l']&&!this['_dirtyWorl'+'d']?this['worldTrans'+'form']:(this['_parent']&&this['_parent']['getWorldTr'+'ansform'](),this['_sync'](),this['worldTrans'+'form']);}get['worldScale'+'Sign'](){return this['_worldScal'+'eSign']===0x1db5*-0x1+-0x1126+0x2edb*0x1&&(this['_worldScal'+'eSign']=this['getWorldTr'+'ansform']()['scaleSign']),this['_worldScal'+'eSign'];}['remove'](){var _0x3f6320;(_0x3f6320=this['_parent'])==null||_0x3f6320['removeChil'+'d'](this);}['reparent'](_0x485962,_0x4db8bf){this['remove'](),_0x485962&&(_0x4db8bf>=0x1a8d+-0x361*-0x5+-0x86*0x53?_0x485962['insertChil'+'d'](this,_0x4db8bf):_0x485962['addChild'](this));}['setLocalEu'+'lerAngles'](_0x43cc9e,_0x1e0c47,_0x34d4bd){this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x43cc9e,_0x1e0c47,_0x34d4bd),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalPo'+'sition'](_0x2a8766,_0x152673,_0x5d87ce){_0x2a8766 instanceof D?this['localPosit'+'ion']['copy'](_0x2a8766):this['localPosit'+'ion']['set'](_0x2a8766,_0x152673,_0x5d87ce),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalRo'+'tation'](_0x3785d4,_0x2571dd,_0x38b1f8,_0x33f367){_0x3785d4 instanceof le?this['localRotat'+'ion']['copy'](_0x3785d4):this['localRotat'+'ion']['set'](_0x3785d4,_0x2571dd,_0x38b1f8,_0x33f367),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setLocalSc'+'ale'](_0x35311b,_0x7899f8,_0x175b08){_0x35311b instanceof D?this['localScale']['copy'](_0x35311b):this['localScale']['set'](_0x35311b,_0x7899f8,_0x175b08),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_dirtifyLo'+'cal'](){this['_dirtyLoca'+'l']||(this['_dirtyLoca'+'l']=!(0x24de+0x1c12+-0x40f0),this['_dirtyWorl'+'d']||this['_dirtifyWo'+'rld']());}['_unfreezeP'+'arentToRoo'+'t'](){let _0x3a4f7e=this['_parent'];for(;_0x3a4f7e;)_0x3a4f7e['_frozen']=!(0xda5+0x100c+-0x1db0),_0x3a4f7e=_0x3a4f7e['_parent'];}['_dirtifyWo'+'rld'](){this['_dirtyWorl'+'d']||this['_unfreezeP'+'arentToRoo'+'t'](),this['_dirtifyWo'+'rldInterna'+'l']();}['_dirtifyWo'+'rldInterna'+'l'](){if(!this['_dirtyWorl'+'d']){this['_frozen']=!(-0x1*0x1baf+-0x1*0x1a7a+0x3*0x120e),this['_dirtyWorl'+'d']=!(0x1b68+-0x1*0xf29+0x415*-0x3);for(let _0x5cb1f4=-0x1c92+0x1e0f+0x7f*-0x3;_0x5cb1f4<this['_children']['length'];_0x5cb1f4++)this['_children'][_0x5cb1f4]['_dirtyWorl'+'d']||this['_children'][_0x5cb1f4]['_dirtifyWo'+'rldInterna'+'l']();}this['_dirtyNorm'+'al']=!(0x771+0x26+-0x797*0x1),this['_worldScal'+'eSign']=0x55c*-0x3+0x8c4+0x30*0x27,this['_aabbVer']++;}['setPositio'+'n'](_0x57de89,_0x593e36,_0x343f0a){_0x57de89 instanceof D?rs['copy'](_0x57de89):rs['set'](_0x57de89,_0x593e36,_0x343f0a),this['_parent']===null?this['localPosit'+'ion']['copy'](rs):(ro['copy'](this['_parent']['getWorldTr'+'ansform']())['invert'](),ro['transformP'+'oint'](rs,this['localPosit'+'ion'])),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setRotatio'+'n'](_0xcbe712,_0x283b61,_0x53bf22,_0xcc5ec7){if(_0xcbe712 instanceof le?as['copy'](_0xcbe712):as['set'](_0xcbe712,_0x283b61,_0x53bf22,_0xcc5ec7),this['_parent']===null)this['localRotat'+'ion']['copy'](as);else{const _0x670a38=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x670a38)['invert'](),this['localRotat'+'ion']['copy'](Ia)['mul'](as);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setPositio'+'nAndRotati'+'on'](_0x152d9d,_0x157339){if(this['_parent']===null)this['localPosit'+'ion']['copy'](_0x152d9d),this['localRotat'+'ion']['copy'](_0x157339);else{const _0xaf5c7c=this['_parent']['getWorldTr'+'ansform']();ro['copy'](_0xaf5c7c)['invert'](),ro['transformP'+'oint'](_0x152d9d,this['localPosit'+'ion']),this['localRotat'+'ion']['setFromMat'+'4'](ro)['mul'](_0x157339);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['setEulerAn'+'gles'](_0x22834b,_0x252893,_0x48351d){if(this['localRotat'+'ion']['setFromEul'+'erAngles'](_0x22834b,_0x252893,_0x48351d),this['_parent']!==null){const _0xed4388=this['_parent']['getRotatio'+'n']();Ia['copy'](_0xed4388)['invert'](),this['localRotat'+'ion']['mul2'](Ia,this['localRotat'+'ion']);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['addChild'](_0x31fe12){this['_prepareIn'+'sertChild'](_0x31fe12),this['_children']['push'](_0x31fe12),this['_onInsertC'+'hild'](_0x31fe12);}['addChildAn'+'dSaveTrans'+'form'](_0x355bca){const _0x483132=_0x355bca['getPositio'+'n'](),_0x18629d=_0x355bca['getRotatio'+'n']();this['_prepareIn'+'sertChild'](_0x355bca),_0x355bca['setPositio'+'n'](yE['copy'](this['worldTrans'+'form'])['invert']()['transformP'+'oint'](_0x483132)),_0x355bca['setRotatio'+'n'](vE['copy'](this['getRotatio'+'n']())['invert']()['mul'](_0x18629d)),this['_children']['push'](_0x355bca),this['_onInsertC'+'hild'](_0x355bca);}['insertChil'+'d'](_0x5d6f0a,_0x454d7e){this['_prepareIn'+'sertChild'](_0x5d6f0a),this['_children']['splice'](_0x454d7e,-0xcb4+-0x131d+0x1fd1,_0x5d6f0a),this['_onInsertC'+'hild'](_0x5d6f0a);}['_prepareIn'+'sertChild'](_0x75017f){_0x75017f['remove'](),w['assert'](_0x75017f!==this,'GraphNode\x20'+(_0x75017f==null?void(-0x1499*-0x1+-0x143d+0x1*-0x5c):_0x75017f['name'])+('\x20cannot\x20be'+'\x20a\x20child\x20o'+'f\x20itself')),w['assert'](!this['isDescenda'+'ntOf'](_0x75017f),'GraphNode\x20'+(_0x75017f==null?void(0x10f5+-0x1*-0x18b9+-0x29ae):_0x75017f['name'])+('\x20cannot\x20ad'+'d\x20an\x20ances'+'tor\x20as\x20a\x20c'+'hild'));}['_fireOnHie'+'rarchy'](_0x13b9f9,_0x400316,_0xba8620){this['fire'](_0x13b9f9,_0xba8620);for(let _0x298b00=0xe96*-0x1+0xb*0x256+-0xb1c;_0x298b00<this['_children']['length'];_0x298b00++)this['_children'][_0x298b00]['_fireOnHie'+'rarchy'](_0x400316,_0x400316,_0xba8620);}['_onInsertC'+'hild'](_0xe9a93f){_0xe9a93f['_parent']=this;const _0x59e815=_0xe9a93f['_enabled']&&this['enabled'];_0xe9a93f['_enabledIn'+'Hierarchy']!==_0x59e815&&(_0xe9a93f['_enabledIn'+'Hierarchy']=_0x59e815,_0xe9a93f['_notifyHie'+'rarchyStat'+'eChanged'](_0xe9a93f,_0x59e815)),_0xe9a93f['_updateGra'+'phDepth'](),_0xe9a93f['_dirtifyWo'+'rld'](),this['_frozen']&&_0xe9a93f['_unfreezeP'+'arentToRoo'+'t'](),_0xe9a93f['_fireOnHie'+'rarchy']('insert','inserthier'+'archy',this),this['fire']&&this['fire']('childinser'+'t',_0xe9a93f);}['_updateGra'+'phDepth'](){this['_graphDept'+'h']=this['_parent']?this['_parent']['_graphDept'+'h']+(0x2*0x11fb+-0x150*-0x16+-0x7*0x943):0x1e8d*-0x1+-0x257*-0xd+0x1*0x22;for(let _0x416765=0x1e03+0x1f*0x59+-0x28ca,_0x460085=this['_children']['length'];_0x416765<_0x460085;_0x416765++)this['_children'][_0x416765]['_updateGra'+'phDepth']();}['removeChil'+'d'](_0x2c3abc){const _0x491c74=this['_children']['indexOf'](_0x2c3abc);_0x491c74!==-(0x29d*0x3+-0xa41+0x26b)&&(this['_children']['splice'](_0x491c74,0x3*0x73f+-0x4a3*-0x2+-0xa2*0x31),_0x2c3abc['_parent']=null,_0x2c3abc['_fireOnHie'+'rarchy']('remove','removehier'+'archy',this),this['fire']('childremov'+'e',_0x2c3abc));}['_sync'](){if(this['_dirtyLoca'+'l']&&(this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']),this['_dirtyLoca'+'l']=!(-0x411*0x4+0x259b*-0x1+0x35e0)),this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['scaleCompe'+'nsation']){let _0x44e7fb;const _0x144074=this['_parent'];let _0x25f221=this['localScale'],_0x243eea=_0x144074;if(_0x243eea){for(;_0x243eea&&_0x243eea['scaleCompe'+'nsation'];)_0x243eea=_0x243eea['_parent'];_0x243eea&&(_0x243eea=_0x243eea['_parent'],_0x243eea&&(_0x44e7fb=_0x243eea['worldTrans'+'form']['getScale'](),T_['mul2'](_0x44e7fb,this['localScale']),_0x25f221=T_));}Wd['setFromMat'+'4'](_0x144074['worldTrans'+'form']),x_['mul2'](Wd,this['localRotat'+'ion']);let _0x2ce0e5=_0x144074['worldTrans'+'form'];_0x144074['scaleCompe'+'nsation']&&(w_['mul2'](_0x44e7fb,_0x144074['getLocalSc'+'ale']()),v_['setTRS'](_0x144074['worldTrans'+'form']['getTransla'+'tion'](Hd),Wd,w_),_0x2ce0e5=v_),_0x2ce0e5['transformP'+'oint'](this['localPosit'+'ion'],Hd),this['worldTrans'+'form']['setTRS'](Hd,x_,_0x25f221);}else this['worldTrans'+'form']['mulAffine2'](this['_parent']['worldTrans'+'form'],this['localTrans'+'form']);}this['_dirtyWorl'+'d']=!(-0x1077*-0x1+-0x16a*0x9+-0x3bc);}}['syncHierar'+'chy'](){if(!this['_enabled']||this['_frozen'])return;this['_frozen']=!(-0x15e2*-0x1+0x161*-0x1+0xb5*-0x1d),(this['_dirtyLoca'+'l']||this['_dirtyWorl'+'d'])&&this['_sync']();const _0x16f2df=this['_children'];for(let _0xa4b859=0x1*-0xfd7+0x1*-0xc0e+0x1be5,_0x1adcc8=_0x16f2df['length'];_0xa4b859<_0x1adcc8;_0xa4b859++)_0x16f2df[_0xa4b859]['syncHierar'+'chy']();}['lookAt'](_0x36f361,_0x148131,_0x4dbc3a,_0x4064a6=0x2*0x691+-0x1cac+-0x1*-0xf8a,_0x53b8a9=-0x1885+0x1064+0x822,_0x246980=0xb0c+0x1*-0x15be+0xab2){if(_0x36f361 instanceof D)$d['copy'](_0x36f361),_0x148131 instanceof D?tc['copy'](_0x148131):tc['copy'](D['UP']);else{if(_0x4dbc3a===void(-0x1*0x9a5+0x10b*-0xb+0x151e))return;$d['set'](_0x36f361,_0x148131,_0x4dbc3a),tc['set'](_0x4064a6,_0x53b8a9,_0x246980);}E_['setLookAt'](this['getPositio'+'n'](),$d,tc),as['setFromMat'+'4'](E_),this['setRotatio'+'n'](as);}['translate'](_0x3b20c5,_0x58adc4,_0x4f0a43){_0x3b20c5 instanceof D?rs['copy'](_0x3b20c5):rs['set'](_0x3b20c5,_0x58adc4,_0x4f0a43),rs['add'](this['getPositio'+'n']()),this['setPositio'+'n'](rs);}['translateL'+'ocal'](_0x59f6ab,_0x2b0c19,_0x510ba9){_0x59f6ab instanceof D?rs['copy'](_0x59f6ab):rs['set'](_0x59f6ab,_0x2b0c19,_0x510ba9),this['localRotat'+'ion']['transformV'+'ector'](rs,rs),this['localPosit'+'ion']['add'](rs),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotate'](_0x5cbbde,_0x14c008,_0x2fa0aa){if(as['setFromEul'+'erAngles'](_0x5cbbde,_0x14c008,_0x2fa0aa),this['_parent']===null)this['localRotat'+'ion']['mul2'](as,this['localRotat'+'ion']);else{const _0x48e617=this['getRotatio'+'n'](),_0x49be4b=this['_parent']['getRotatio'+'n']();Ia['copy'](_0x49be4b)['invert'](),as['mul2'](Ia,as),this['localRotat'+'ion']['mul2'](as,_0x48e617);}this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['rotateLoca'+'l'](_0xc09be5,_0x2f703d,_0x3a8603){as['setFromEul'+'erAngles'](_0xc09be5,_0x2f703d,_0x3a8603),this['localRotat'+'ion']['mul'](as),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}}const yv=new Kt();function Qn(_0x3d7f63){const _0x11ad47=yv['get'](_0x3d7f63);return w['assert'](_0x11ad47),_0x11ad47;}function xE(_0x2514fe,_0x2ad2f2){w['assert'](_0x2ad2f2),yv['get'](_0x2514fe,()=>_0x2ad2f2);}class TE{constructor(){h(this,'cache',new Map());}['destroy'](){this['cache']['forEach']((_0x330555,_0x30a3d8)=>{_0x30a3d8['destroy']();}),this['cache']['clear']();}['incRef'](_0x4f118c){const _0x308b57=(this['cache']['get'](_0x4f118c)||-0x1fc2+0x238b+-0x3c9)+(-0xdc9+-0x61+0x3*0x4b9);this['cache']['set'](_0x4f118c,_0x308b57);}['decRef'](_0x190356){if(_0x190356){let _0x6018de=this['cache']['get'](_0x190356);_0x6018de&&(_0x6018de--,_0x6018de===0x805+0x4b*-0x6d+0x17ea?(this['cache']['delete'](_0x190356),_0x190356['destroy']()):this['cache']['set'](_0x190356,_0x6018de));}}}class zi{static['incRef'](_0x48a480){this['cache']['incRef'](_0x48a480);}static['decRef'](_0x4efe9d){this['cache']['decRef'](_0x4efe9d);}static['destroy'](){this['cache']['destroy']();}}h(zi,'cache',new TE());let wE=-0x89*-0x5+0x533*0x3+0x2*-0x923;const EE=new De(),sc=new De(),Xd=new sp(),qd=new Set(),Rr=new Uint32Array(0x224*0x9+0x28*-0x3+-0x4b2*0x4);class bE{constructor(_0x313e82){h(this,'vertexBuff'+'er',null),h(this,'_destroyVe'+'rtexBuffer',!(-0x1488+0x7*-0x20b+0x7*0x4fa)),this['count']=_0x313e82;}['destroy'](){var _0x40377c;this['_destroyVe'+'rtexBuffer']&&((_0x40377c=this['vertexBuff'+'er'])==null||_0x40377c['destroy']()),this['vertexBuff'+'er']=null;}}class AE{constructor(){h(this,'map',new Map()),h(this,'meshMetaDa'+'ta',new Int32Array(-0x3a9*-0x4+-0x1*0x52f+-0x971));}['get'](_0x2898fb){return this['map']['get'](_0x2898fb)??this['map']['get'](null);}}class CE{constructor(){h(this,'shader'),h(this,'bindGroup',null),h(this,'uniformBuf'+'fer',null),h(this,'hashes');}['getBindGro'+'up'](_0x5c289b){if(!this['bindGroup']){const _0x6d3851=this['shader'];w['assert'](_0x6d3851);const _0x1f8420=_0x6d3851['meshBindGr'+'oupFormat'];w['assert'](_0x1f8420),this['bindGroup']=new Up(_0x5c289b,_0x1f8420),Ea['setName'](this['bindGroup'],'MeshBindGr'+'oup_'+this['bindGroup']['id']);}return this['bindGroup'];}['getUniform'+'Buffer'](_0x1ec684){if(!this['uniformBuf'+'fer']){const _0x1497e0=this['shader'];w['assert'](_0x1497e0);const _0x54204b=_0x1497e0['meshUnifor'+'mBufferFor'+'mat'];w['assert'](_0x54204b),this['uniformBuf'+'fer']=new zp(_0x1ec684,_0x54204b,!(-0x1*0x1ffb+0x2700+-0x704));}return this['uniformBuf'+'fer'];}['destroy'](){var _0x1081c0,_0x5bac65;(_0x1081c0=this['bindGroup'])==null||_0x1081c0['destroy'](),this['bindGroup']=null,(_0x5bac65=this['uniformBuf'+'fer'])==null||_0x5bac65['destroy'](),this['uniformBuf'+'fer']=null;}}const Jr=class Jr{constructor(_0x2446c8,_0x131dc6,_0x5319ba=null){h(this,'castShadow',!(0x1537*0x1+0x5*0x3aa+-0x2788)),h(this,'shadowCasc'+'adeMask',Bw),h(this,'cull',!(-0x12c7+0x26e2+-0x141b*0x1)),h(this,'drawOrder',0x7*-0x521+0x1198+0x124f),h(this,'_drawBucke'+'t',0xc61*0x1+-0x189b+0xcb9),h(this,'node'),h(this,'visible',!(-0x1ed7+-0x5*-0x4b9+0x172*0x5)),h(this,'visibleThi'+'sFrame',!(-0x3*-0x94d+-0x1*-0x1225+-0x2e0b)),h(this,'flipFacesF'+'actor',0x36c*-0xb+0x1d3b+0x167*0x6),h(this,'gsplatInst'+'ance',null),h(this,'id',wE++),h(this,'isVisibleF'+'unc',null),h(this,'instancing'+'Data',null),h(this,'indirectDa'+'ta',null),h(this,'parameters',{}),h(this,'pick',!(0x1d45+0x3d*0x71+-0x3832)),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'transparen'+'t',!(0x9fa*-0x1+-0x1a*0x67+0x1471)),h(this,'_aabb',new De()),h(this,'_aabbVer',-(0x12d6+-0x1646+0x1*0x371)),h(this,'_aabbMeshV'+'er',-(-0x3*0x3a1+-0xd5*0x29+-0x29*-0x119)),h(this,'_customAab'+'b',null),h(this,'_updateAab'+'b',!(0x14f0+0x1348*0x2+-0x3b80)),h(this,'_updateAab'+'bFunc',null),h(this,'_sortKeySh'+'adow',-0x1159*-0x2+-0x1967+-0x94b),h(this,'_sortKeyFo'+'rward',0x11a7+-0x221e+-0x34b*-0x5),h(this,'_sortKeyDy'+'namic',0x26d2*-0x1+0x54a*-0x6+0x468e),h(this,'_layer',Ky),h(this,'_material',null),h(this,'_skinInsta'+'nce',null),h(this,'_morphInst'+'ance',null),h(this,'_receiveSh'+'adow',!(-0x1871*0x1+-0x56e+0x1ddf)),h(this,'_renderSty'+'le',un),h(this,'_screenSpa'+'ce',!(-0xf15+-0x2290+0x31a6)),h(this,'_shaderCac'+'he',new Map()),h(this,'_shaderDef'+'s',Ss<<-0x5*-0x57d+-0x1*-0x2361+0x3a*-0x115),h(this,'_calculate'+'SortDistan'+'ce',null);if(w['assert'](!(_0x2446c8 instanceof Ie),'Incorrect\x20'+'parameters'+'\x20for\x20MeshI'+'nstance\x27s\x20'+'constructo'+'r.\x20Use\x20new'+'\x20MeshInsta'+'nce(mesh,\x20'+'material,\x20'+'node)'),this['node']=_0x5319ba,this['_mesh']=_0x2446c8,_0x2446c8['incRefCoun'+'t'](),this['material']=_0x131dc6,_0x2446c8['vertexBuff'+'er']){const _0x5209d6=_0x2446c8['vertexBuff'+'er']['format'];this['_shaderDef'+'s']|=_0x5209d6['hasUv0']?nm:-0x1832+0xe66*0x1+0x9cc,this['_shaderDef'+'s']|=_0x5209d6['hasUv1']?dv:0x16*0xb5+0x1c1b+-0x2ba9,this['_shaderDef'+'s']|=_0x5209d6['hasColor']?fv:-0x8c3*0x3+0x1a79+-0x30,this['_shaderDef'+'s']|=_0x5209d6['hasTangent'+'s']?om:-0x54*-0x2+-0x6d*0x1d+0xbb1;}this['updateKey']();}set['drawBucket'](_0x52c3f5){this['_drawBucke'+'t']=Math['floor'](_0x52c3f5)&-0x1*-0xe35+-0x2072+0x4cf*0x4,this['updateKey']();}get['drawBucket'](){return this['_drawBucke'+'t'];}set['renderStyl'+'e'](_0x2f736f){this['_renderSty'+'le']=_0x2f736f,this['mesh']['prepareRen'+'derState'](_0x2f736f);}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['mesh'](_0x17a559){_0x17a559!==this['_mesh']&&(this['_mesh']&&this['_mesh']['decRefCoun'+'t'](),this['_mesh']=_0x17a559,_0x17a559&&_0x17a559['incRefCoun'+'t']());}get['mesh'](){return this['_mesh'];}set['aabb'](_0xe91056){this['_aabb']=_0xe91056;}get['aabb'](){if(!this['_updateAab'+'b'])return this['_aabb'];if(this['_updateAab'+'bFunc'])return this['_updateAab'+'bFunc'](this['_aabb']);let _0x33deb1=this['_customAab'+'b'],_0x280dab=!!_0x33deb1;if(!_0x33deb1){if(_0x33deb1=EE,this['skinInstan'+'ce']){if(!this['mesh']['boneAabb']){const _0x163237=this['_morphInst'+'ance']?this['_morphInst'+'ance']['morph']['_targets']:null;this['mesh']['_initBoneA'+'abbs'](_0x163237);}const _0x33bcad=this['mesh']['boneUsed'];let _0x4c170a=!(-0x3*-0x6e9+-0x33*0x30+0xb2b*-0x1);for(let _0x1706df=0x1281+-0x26d3+0x1452;_0x1706df<this['mesh']['boneAabb']['length'];_0x1706df++)_0x33bcad[_0x1706df]&&(sc['setFromTra'+'nsformedAa'+'bb'](this['mesh']['boneAabb'][_0x1706df],this['skinInstan'+'ce']['matrices'][_0x1706df]),_0x4c170a?(_0x4c170a=!(-0x452*0x3+-0x76*-0x3+0xb95),_0x33deb1['center']['copy'](sc['center']),_0x33deb1['halfExtent'+'s']['copy'](sc['halfExtent'+'s'])):_0x33deb1['add'](sc));_0x280dab=!(0x25dd*0x1+-0x7*0x4ea+-0x377);}else{if(this['node']['_aabbVer']!==this['_aabbVer']||this['mesh']['_aabbVer']!==this['_aabbMeshV'+'er']){if(this['mesh']?(_0x33deb1['center']['copy'](this['mesh']['aabb']['center']),_0x33deb1['halfExtent'+'s']['copy'](this['mesh']['aabb']['halfExtent'+'s'])):(_0x33deb1['center']['set'](-0x4*-0xa0+-0x6a*-0x25+-0x8e9*0x2,-0x32d+-0x1a80+0x1dad,0x1b9b+0x38*-0x47+-0xc13),_0x33deb1['halfExtent'+'s']['set'](0x5a+-0x2cc+0x272,-0x240b+0x1421+-0xfea*-0x1,0x252e+0x2bf+-0x3*0xd4f)),this['mesh']&&this['mesh']['morph']){const _0x162e70=this['mesh']['morph']['aabb'];_0x33deb1['_expand'](_0x162e70['getMin'](),_0x162e70['getMax']());}_0x280dab=!(0x2*-0x11e3+0x269f*-0x1+0x4a65),this['_aabbVer']=this['node']['_aabbVer'],this['_aabbMeshV'+'er']=this['mesh']['_aabbVer'];}}}return _0x280dab&&this['_aabb']['setFromTra'+'nsformedAa'+'bb'](_0x33deb1,this['node']['getWorldTr'+'ansform']()),this['_aabb'];}['clearShade'+'rs'](){this['_shaderCac'+'he']['forEach'](_0x1b0459=>{_0x1b0459['destroy']();}),this['_shaderCac'+'he']['clear']();}['getShaderI'+'nstance'](_0x16a170,_0x2cc60e,_0x2eb562,_0x42cb0e,_0x4c4f2f,_0x741e94,_0x2219e0){var _0x377ebd;const _0x71b1bc=this['_shaderDef'+'s'];Rr[-0x1b61+-0x1d2b+0x388c]=_0x16a170,Rr[-0x5*-0x5f4+0x54*0x3+-0x1ebf]=_0x2cc60e,Rr[-0x1d*-0xe3+-0x53b*0x2+-0x3*0x515]=_0x71b1bc,Rr[0x1710+-0x904+-0xe09]=_0x42cb0e['hash'];const _0xdd674e=By(Rr);let _0x2428bb=this['_shaderCac'+'he']['get'](_0xdd674e);if(!_0x2428bb){const _0x53142a=this['_material'];if(_0x2428bb=new CE(),_0x2428bb['shader']=_0x53142a['variants']['get'](_0xdd674e),_0x2428bb['hashes']=new Uint32Array(Rr),!_0x2428bb['shader']){Q['pushGpuMar'+'ker'](this['mesh']['device'],'Node:\x20'+this['node']['name']);const _0x19f649=_0x53142a['getShaderV'+'ariant']({'device':this['mesh']['device'],'scene':_0x2eb562,'objDefs':_0x71b1bc,'cameraShaderParams':_0x42cb0e,'pass':_0x16a170,'sortedLights':_0x2219e0,'viewUniformFormat':_0x4c4f2f,'viewBindGroupFormat':_0x741e94,'vertexFormat':(_0x377ebd=this['mesh']['vertexBuff'+'er'])==null?void(0x155a+-0x187*0x11+-0x1*-0x49d):_0x377ebd['format']});Q['popGpuMark'+'er'](this['mesh']['device']),_0x53142a['variants']['set'](_0xdd674e,_0x19f649),_0x2428bb['shader']=_0x19f649;}this['_shaderCac'+'he']['set'](_0xdd674e,_0x2428bb);}return w['call'](()=>{IT['equals'](_0x2428bb['hashes'],Rr)||w['errorOnce']('Hash\x20colli'+'sion\x20in\x20th'+'e\x20shader\x20c'+'ache\x20for\x20m'+'esh\x20instan'+'ce.\x20This\x20i'+'s\x20very\x20unl'+'ikely\x20but\x20'+'still\x20poss'+'ible.\x20Plea'+'se\x20report\x20'+'this\x20issue'+'.');}),_0x2428bb;}set['material'](_0x5ce1e8){this['clearShade'+'rs']();const _0x188ab0=this['_material'];_0x188ab0&&_0x188ab0['removeMesh'+'InstanceRe'+'f'](this),this['_material']=_0x5ce1e8,_0x5ce1e8&&(_0x5ce1e8['addMeshIns'+'tanceRef'](this),this['transparen'+'t']=_0x5ce1e8['transparen'+'t'],this['updateKey']());}get['material'](){return this['_material'];}['_updateSha'+'derDefs'](_0x17027d){_0x17027d!==this['_shaderDef'+'s']&&(this['_shaderDef'+'s']=_0x17027d,this['clearShade'+'rs']());}set['calculateS'+'ortDistanc'+'e'](_0x3c9e7e){this['_calculate'+'SortDistan'+'ce']=_0x3c9e7e;}get['calculateS'+'ortDistanc'+'e'](){return this['_calculate'+'SortDistan'+'ce'];}set['receiveSha'+'dow'](_0xf9cad1){this['_receiveSh'+'adow']!==_0xf9cad1&&(this['_receiveSh'+'adow']=_0xf9cad1,this['_updateSha'+'derDefs'](_0xf9cad1?this['_shaderDef'+'s']&~wh:this['_shaderDef'+'s']|wh));}get['receiveSha'+'dow'](){return this['_receiveSh'+'adow'];}set['batching'](_0x2a1505){this['_updateSha'+'derDefs'](_0x2a1505?this['_shaderDef'+'s']|qc:this['_shaderDef'+'s']&~qc);}get['batching'](){return(this['_shaderDef'+'s']&qc)!==0x1f*0x49+0x11*0x13+-0xa1a;}set['skinInstan'+'ce'](_0x2a5a74){this['_skinInsta'+'nce']=_0x2a5a74,this['_updateSha'+'derDefs'](_0x2a5a74?this['_shaderDef'+'s']|nl:this['_shaderDef'+'s']&~nl),this['_setupSkin'+'Update']();}get['skinInstan'+'ce'](){return this['_skinInsta'+'nce'];}set['morphInsta'+'nce'](_0x26468a){var _0x5147ea;(_0x5147ea=this['_morphInst'+'ance'])==null||_0x5147ea['destroy'](),this['_morphInst'+'ance']=_0x26468a;let _0x552a84=this['_shaderDef'+'s'];_0x552a84=_0x26468a&&_0x26468a['morph']['morphPosit'+'ions']?_0x552a84|ll:_0x552a84&~ll,_0x552a84=_0x26468a&&_0x26468a['morph']['morphNorma'+'ls']?_0x552a84|cl:_0x552a84&~cl,_0x552a84=_0x26468a&&_0x26468a['morph']['intRenderF'+'ormat']?_0x552a84|hl:_0x552a84&~hl,this['_updateSha'+'derDefs'](_0x552a84);}get['morphInsta'+'nce'](){return this['_morphInst'+'ance'];}set['screenSpac'+'e'](_0x4af45f){this['_screenSpa'+'ce']!==_0x4af45f&&(this['_screenSpa'+'ce']=_0x4af45f,this['_updateSha'+'derDefs'](_0x4af45f?this['_shaderDef'+'s']|Eh:this['_shaderDef'+'s']&~Eh));}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['key'](_0x252fde){this['_sortKeyFo'+'rward']=_0x252fde;}get['key'](){return this['_sortKeyFo'+'rward'];}set['mask'](_0x49e2f9){const _0x2f9746=this['_shaderDef'+'s']&-0x233*0x49+0x3b40+0x1654a;this['_updateSha'+'derDefs'](_0x2f9746|_0x49e2f9<<-0x7*-0x229+0x1d84*0x1+-0x2c93);}get['mask'](){return this['_shaderDef'+'s']>>-0x6c*-0x9+-0x1e*-0xa+0x2*-0x274;}set['instancing'+'Count'](_0x1e3b59){this['instancing'+'Data']&&(this['instancing'+'Data']['count']=_0x1e3b59);}get['instancing'+'Count'](){return this['instancing'+'Data']?this['instancing'+'Data']['count']:0xb3f+0x771+-0x12b0;}['destroy'](){var _0x4bb5ce,_0x4b0a20,_0x5f5060;const _0x384df7=this['mesh'];_0x384df7&&(this['mesh']=null,_0x384df7['refCount']<-0x199*0xd+0x1dbf+0x8f9*-0x1&&_0x384df7['destroy']()),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x9*0x5a+-0xc31+-0x1*-0xf5b],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x1caf+0x71e*-0x5+0x4046],null),(_0x4bb5ce=this['_skinInsta'+'nce'])==null||_0x4bb5ce['destroy'](),this['_skinInsta'+'nce']=null,(_0x4b0a20=this['morphInsta'+'nce'])==null||_0x4b0a20['destroy'](),this['morphInsta'+'nce']=null,this['clearShade'+'rs'](),this['material']=null,(_0x5f5060=this['instancing'+'Data'])==null||_0x5f5060['destroy']();}static['_prepareRe'+'nderStyleF'+'orArray'](_0x24b574,_0x115782){if(_0x24b574){for(let _0x32ac5f=0x5*0x6e3+-0x12fa*-0x2+-0x4863;_0x32ac5f<_0x24b574['length'];_0x32ac5f++){_0x24b574[_0x32ac5f]['_renderSty'+'le']=_0x115782;const _0x6a35b1=_0x24b574[_0x32ac5f]['mesh'];qd['has'](_0x6a35b1)||(qd['add'](_0x6a35b1),_0x6a35b1['prepareRen'+'derState'](_0x115782));}qd['clear']();}}['_isVisible'](_0x3d0fa6){return this['visible']?this['isVisibleF'+'unc']?this['isVisibleF'+'unc'](_0x3d0fa6):(Xd['center']=this['aabb']['center'],Xd['radius']=this['_aabb']['halfExtent'+'s']['length'](),_0x3d0fa6['frustum']['containsSp'+'here'](Xd)>-0x192c+0x1780+0x1ac):!(0x241c*0x1+-0x245d*0x1+0x21*0x2);}['updateKey'](){const {material:_0x3f18dd}=this;this['_sortKeyFo'+'rward']=this['_drawBucke'+'t']<<0x2554+-0x913*0x3+-0x4*0x281|(_0x3f18dd['alphaToCov'+'erage']||_0x3f18dd['alphaTest']?-0x20a5ef+0x6e5a82+-0x2bdb7*0x5:-0x700+-0x1444+0x1b44)|_0x3f18dd['id']&0x48deab+0x151*0x14f9+-0x247a75;}['setInstanc'+'ing'](_0x27d5e3,_0x4ad365=!(-0x575+-0x2fa*-0x9+0x1a4*-0xd)){_0x27d5e3?(this['instancing'+'Data']=new bE(_0x27d5e3['numVertice'+'s']),this['instancing'+'Data']['vertexBuff'+'er']=_0x27d5e3,_0x27d5e3['format']['instancing']=!(-0xdb7*0x1+0x2*0xf6d+0x6b*-0x29),this['cull']=_0x4ad365):(this['instancing'+'Data']=null,this['cull']=!(-0x2623+0x1b7b+0xaa8)),this['_updateSha'+'derDefs'](_0x27d5e3?this['_shaderDef'+'s']|ol:this['_shaderDef'+'s']&~ol);}['setIndirec'+'t'](_0x21a9fc,_0x1b9398){this['_allocIndi'+'rectData'](),this['indirectDa'+'ta']['map']['set']((_0x21a9fc==null?void(0x8fd+0x54b*0x3+-0x18de):_0x21a9fc['camera'])??null,_0x1b9398),this['mesh']['device']['mapsToClea'+'r']['add'](this['indirectDa'+'ta']['map']);}['getIndirec'+'tMetaData'](){var _0x49a084;this['_allocIndi'+'rectData']();const _0xf8a82b=(_0x49a084=this['mesh'])==null?void(0x11*-0xed+0x25ce+-0x1611):_0x49a084['primitive'][this['renderStyl'+'e']],_0xb22a4e=this['indirectDa'+'ta']['meshMetaDa'+'ta'];return _0xb22a4e[-0x1eaf+0x1*-0x1003+0x2eb2]=_0xf8a82b['count'],_0xb22a4e[-0x1622+0x131a+0x3*0x103]=_0xf8a82b['base'],_0xb22a4e[0x1*-0x8cf+0x195d+-0x108c]=_0xf8a82b['baseVertex'],_0xb22a4e;}['_allocIndi'+'rectData'](){this['indirectDa'+'ta']||(this['indirectDa'+'ta']=new AE());}['ensureMate'+'rial'](_0x4bcad7){this['material']||(w['warn']('Mesh\x20attac'+'hed\x20to\x20ent'+'ity\x20\x27'+this['node']['name']+('\x27\x20does\x20not'+'\x20have\x20a\x20ma'+'terial,\x20us'+'ing\x20a\x20defa'+'ult\x20one.')),this['material']=Qn(_0x4bcad7));}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['getParamet'+'er'](_0x17717a){return this['parameters'][_0x17717a];}['setParamet'+'er'](_0x3d389c,_0x4e1398,_0x59239a=0x3aed198*0x14+-0x181333f87+0x2378adfa6){const _0x1383d5=this['parameters'][_0x3d389c];_0x1383d5?(_0x1383d5['data']=_0x4e1398,_0x1383d5['passFlags']=_0x59239a):this['parameters'][_0x3d389c]={'scopeId':null,'data':_0x4e1398,'passFlags':_0x59239a};}['setRealtim'+'eLightmap'](_0x1ccb5c,_0x3e501f){const _0x2234f9=this['getParamet'+'er'](_0x1ccb5c);_0x2234f9!==_0x3e501f&&(_0x2234f9&&zi['decRef'](_0x2234f9['data']),_0x3e501f?(zi['incRef'](_0x3e501f),this['setParamet'+'er'](_0x1ccb5c,_0x3e501f)):this['deletePara'+'meter'](_0x1ccb5c));}['deletePara'+'meter'](_0x2e3b58){this['parameters'][_0x2e3b58]&&delete this['parameters'][_0x2e3b58];}['setParamet'+'ers'](_0x75f8bd,_0x6bf16d){const _0x5ed4b9=this['parameters'];for(const _0x4a82f2 in _0x5ed4b9){const _0x4bcf54=_0x5ed4b9[_0x4a82f2];_0x4bcf54['passFlags']&_0x6bf16d&&(_0x4bcf54['scopeId']||(_0x4bcf54['scopeId']=_0x75f8bd['scope']['resolve'](_0x4a82f2)),_0x4bcf54['scopeId']['setValue'](_0x4bcf54['data']));}}['setLightma'+'pped'](_0x6678fc){_0x6678fc?this['mask']=(this['mask']|di)&-(-0x2309+-0x1*-0x1498+-0x211*-0x7):(this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][0x22d*0x6+-0x138b+0x67d],null),this['setRealtim'+'eLightmap'](Jr['lightmapPa'+'ramNames'][-0x1272+-0x129c+-0x1*-0x250f],null),this['_shaderDef'+'s']&=-(0x1ebb+0x613*-0x5+0x1065*0x1),this['mask']=(this['mask']|Ss)&-(-0xb69+-0x925*0x3+0x26df));}['setCustomA'+'abb'](_0x4a5d13){_0x4a5d13?this['_customAab'+'b']?this['_customAab'+'b']['copy'](_0x4a5d13):this['_customAab'+'b']=_0x4a5d13['clone']():(this['_customAab'+'b']=null,this['_aabbVer']=-(0x4*0x36f+-0x185c+-0xaa1*-0x1)),this['_setupSkin'+'Update']();}['_setupSkin'+'Update'](){this['_skinInsta'+'nce']&&(this['_skinInsta'+'nce']['_updateBef'+'oreCull']=!this['_customAab'+'b']);}};h(Jr,'lightmapPa'+'ramNames',['texture_li'+'ghtMap','texture_di'+'rLightMap']);let He=Jr;const PE=[-0x22c3+0x11b5+0x110e,0x18b*-0xe+0x1c0f+-0x7*0xec,0x3*0xc9+-0x1884+0x16*0x102,-0x17d7*-0x1+0x778+0xa6f*-0x3,-0x7e+0x9f*-0x19+-0x98*-0x1b,-0x10*0x26+0x1f7d+-0x1d1c],ME=[-0x1847+0x107*0xe+0x9e5,-0x26b2+0x17*-0xa2+0x3541,0x221c+0x257d+-0x4796,-0x127*-0x1d+0x832*0x4+0x3*-0x1611,0x40*-0x68+0x12a9+-0x1*-0x75a,-0x20b9*-0x1+-0x2*-0xabf+-0x3635],A_=new _i();function C_(_0x45d5d0,_0x2b6c7c){if(_0x45d5d0&&!_0x2b6c7c||!_0x45d5d0&&_0x2b6c7c)return!(-0x62f*-0x1+0x1659+-0x1*0x1c87);if(_0x45d5d0=_0x45d5d0['data'],_0x2b6c7c=_0x2b6c7c['data'],_0x45d5d0===_0x2b6c7c)return!(0x10d3*0x1+0x1333+-0x2406);if(_0x45d5d0 instanceof Float32Array&&_0x2b6c7c instanceof Float32Array){if(_0x45d5d0['length']!==_0x2b6c7c['length'])return!(0x1d*0xbf+-0x69b*0x1+-0xf07*0x1);for(let _0x3f5ae4=0x25f9+-0xcf1+0x3*-0x858;_0x3f5ae4<_0x45d5d0['length'];_0x3f5ae4++)if(_0x45d5d0[_0x3f5ae4]!==_0x2b6c7c[_0x3f5ae4])return!(0xb7+0x1809*-0x1+-0x7*-0x355);return!(0x2ff*0x1+0xdb3+0x10b2*-0x1);}return!(-0x45*0x2+-0x86*-0x43+-0x1*0x2287);}function DE(_0x2c0146,_0x22330f){for(const _0x1005bc in _0x2c0146)if(_0x2c0146['hasOwnProp'+'erty'](_0x1005bc)&&!C_(_0x2c0146[_0x1005bc],_0x22330f[_0x1005bc]))return!(0x1541*-0x1+0x238f+-0xe4d);for(const _0x4ce7fe in _0x22330f)if(_0x22330f['hasOwnProp'+'erty'](_0x4ce7fe)&&!C_(_0x22330f[_0x4ce7fe],_0x2c0146[_0x4ce7fe]))return!(-0x35b*-0x2+0x1a5*0xa+-0x1727);return!(0xa*-0x178+0xcc9+0x1e7);}function jd(_0x29dae3){return _0x29dae3['node']['worldTrans'+'form']['scaleSign'];}class IE{constructor(_0x54903a,_0x368723,_0x18f32b){this['device']=_0x54903a,this['rootNode']=_0x368723,this['scene']=_0x18f32b,this['_init']=!(0x269*0x2+0xeb*-0x7+0x19c),this['_batchGrou'+'ps']={},this['_batchGrou'+'pCounter']=0x2238+0x1832+-0x3a6a,this['_batchList']=[],this['_dirtyGrou'+'ps']=[],this['_stats']={'createTime':0x0,'updateLastFrameTime':0x0};}['destroy'](){this['device']=null,this['rootNode']=null,this['scene']=null,this['_batchGrou'+'ps']={},this['_batchList']=[],this['_dirtyGrou'+'ps']=[];}['addGroup'](_0x30f49d,_0x20ca29,_0x834ed5,_0xf3df7f,_0x1c7144){if(_0xf3df7f===void(0x5fa+0x142f*-0x1+0xe35)&&(_0xf3df7f=this['_batchGrou'+'pCounter'],this['_batchGrou'+'pCounter']++),this['_batchGrou'+'ps'][_0xf3df7f]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0xf3df7f+('\x20already\x20e'+'xists.'));return;}const _0x37f3f2=new St(_0xf3df7f,_0x30f49d,_0x20ca29,_0x834ed5,_0x1c7144);return this['_batchGrou'+'ps'][_0xf3df7f]=_0x37f3f2,_0x37f3f2;}['removeGrou'+'p'](_0x10f0c7){if(!this['_batchGrou'+'ps'][_0x10f0c7]){w['error']('Batch\x20grou'+'p\x20with\x20id\x20'+_0x10f0c7+('\x20doesn\x27t\x20e'+'xist.'));return;}const _0x564871=[];for(let _0xf2a1f9=-0x2128+0x735+0x19f3;_0xf2a1f9<this['_batchList']['length'];_0xf2a1f9++)this['_batchList'][_0xf2a1f9]['batchGroup'+'Id']===_0x10f0c7?this['destroyBat'+'ch'](this['_batchList'][_0xf2a1f9]):_0x564871['push'](this['_batchList'][_0xf2a1f9]);this['_batchList']=_0x564871,this['_removeMod'+'elsFromBat'+'chGroup'](this['rootNode'],_0x10f0c7),delete this['_batchGrou'+'ps'][_0x10f0c7];}['markGroupD'+'irty'](_0x529e5e){this['_dirtyGrou'+'ps']['indexOf'](_0x529e5e)<0x1708+0x1e4b+-0x3553&&this['_dirtyGrou'+'ps']['push'](_0x529e5e);}['getGroupBy'+'Name'](_0x58f521){const _0x494553=this['_batchGrou'+'ps'];for(const _0x445d0c in _0x494553)if(_0x494553['hasOwnProp'+'erty'](_0x445d0c)&&_0x494553[_0x445d0c]['name']===_0x58f521)return _0x494553[_0x445d0c];return null;}['getBatches'](_0x3a102a){const _0x54ea44=[],_0x40b66c=this['_batchList']['length'];for(let _0x1787e3=-0x1dfa+-0x1ec2+0x3cbc;_0x1787e3<_0x40b66c;_0x1787e3++){const _0x4e99ca=this['_batchList'][_0x1787e3];_0x4e99ca['batchGroup'+'Id']===_0x3a102a&&_0x54ea44['push'](_0x4e99ca);}return _0x54ea44;}['_removeMod'+'elsFromBat'+'chGroup'](_0x119ee9,_0x2c5c9e){if(_0x119ee9['enabled']){_0x119ee9['model']&&_0x119ee9['model']['batchGroup'+'Id']===_0x2c5c9e&&(_0x119ee9['model']['batchGroup'+'Id']=-(-0x1*0x377+0x1*-0x1073+0x1*0x13eb)),_0x119ee9['render']&&_0x119ee9['render']['batchGroup'+'Id']===_0x2c5c9e&&(_0x119ee9['render']['batchGroup'+'Id']=-(0xb1d+0x4f*0x5b+-0x2731)),_0x119ee9['element']&&_0x119ee9['element']['batchGroup'+'Id']===_0x2c5c9e&&(_0x119ee9['element']['batchGroup'+'Id']=-(0x3*0x93a+0x78d*-0x5+0xa14)),_0x119ee9['sprite']&&_0x119ee9['sprite']['batchGroup'+'Id']===_0x2c5c9e&&(_0x119ee9['sprite']['batchGroup'+'Id']=-(-0x1d9a+-0x14d5+0x3270));for(let _0x36b59f=-0x15ba+-0x403*-0x1+0x11b7;_0x36b59f<_0x119ee9['_children']['length'];_0x36b59f++)this['_removeMod'+'elsFromBat'+'chGroup'](_0x119ee9['_children'][_0x36b59f],_0x2c5c9e);}}['insert'](_0x2b062c,_0x377045,_0x3c27cc){const _0x3cc1f4=this['_batchGrou'+'ps'][_0x377045];w['assert'](_0x3cc1f4,'Invalid\x20ba'+'tch\x20'+_0x377045+'\x20insertion'),_0x3cc1f4&&_0x3cc1f4['_obj'][_0x2b062c]['indexOf'](_0x3c27cc)<-0x2104+-0xe4d+0x2f51&&(_0x3cc1f4['_obj'][_0x2b062c]['push'](_0x3c27cc),this['markGroupD'+'irty'](_0x377045));}['remove'](_0x2421cd,_0x22432b,_0x43402e){const _0x22fd02=this['_batchGrou'+'ps'][_0x22432b];if(w['assert'](_0x22fd02,'Invalid\x20ba'+'tch\x20'+_0x22432b+'\x20insertion'),_0x22fd02){const _0x1542f8=_0x22fd02['_obj'][_0x2421cd]['indexOf'](_0x43402e);_0x1542f8>=-0x812+-0x2b7*0x5+0x15a5&&(_0x22fd02['_obj'][_0x2421cd]['splice'](_0x1542f8,-0xb3f*-0x1+0xda3+-0x18e1*0x1),this['markGroupD'+'irty'](_0x22432b));}}['_extractRe'+'nder'](_0x2f9555,_0x5356b1,_0x5b2605,_0x3fe6ad){return _0x2f9555['render']&&(_0x5356b1=_0x3fe6ad[_0x2f9555['render']['batchGroup'+'Id']]=_0x5356b1['concat'](_0x2f9555['render']['meshInstan'+'ces']),_0x2f9555['render']['removeFrom'+'Layers']()),_0x5356b1;}['_extractMo'+'del'](_0x507640,_0x21fde3,_0x1a06f6,_0x112abc){return _0x507640['model']&&_0x507640['model']['model']&&(_0x21fde3=_0x112abc[_0x507640['model']['batchGroup'+'Id']]=_0x21fde3['concat'](_0x507640['model']['meshInstan'+'ces']),_0x507640['model']['removeMode'+'lFromLayer'+'s'](),_0x507640['model']['_batchGrou'+'p']=_0x1a06f6),_0x21fde3;}['_extractEl'+'ement'](_0x4ecd3a,_0x459268,_0x52b0e4){if(!_0x4ecd3a['element'])return;let _0x103296=!(0x5*-0x391+0x8*-0x2cf+0x284e);_0x4ecd3a['element']['_text']&&_0x4ecd3a['element']['_text']['_model']['meshInstan'+'ces']['length']>-0x14f2+0x1ef6+-0x1*0xa04?(_0x459268['push'](_0x4ecd3a['element']['_text']['_model']['meshInstan'+'ces'][-0x372+0xf2a+-0xbb8]),_0x4ecd3a['element']['removeMode'+'lFromLayer'+'s'](_0x4ecd3a['element']['_text']['_model']),_0x103296=!(-0x5f*0x3f+0x1f66*-0x1+-0x17b*-0x25)):_0x4ecd3a['element']['_image']&&(_0x459268['push'](_0x4ecd3a['element']['_image']['_renderabl'+'e']['meshInstan'+'ce']),_0x4ecd3a['element']['removeMode'+'lFromLayer'+'s'](_0x4ecd3a['element']['_image']['_renderabl'+'e']['model']),_0x4ecd3a['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']&&(_0x459268['push'](_0x4ecd3a['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']),(!_0x4ecd3a['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']||!_0x4ecd3a['element']['_image']['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k'])&&(_0x4ecd3a['element']['_dirtifyMa'+'sk'](),_0x4ecd3a['element']['_onPrerend'+'er']())),_0x103296=!(-0x493*-0x3+0x197a+0x1*-0x2733)),_0x103296&&(_0x52b0e4['_ui']=!(0x1460+-0x14aa+0x4a),_0x4ecd3a['element']['_batchGrou'+'p']=_0x52b0e4);}['_collectAn'+'dRemoveMes'+'hInstances'](_0x2f4615,_0x5e914a){for(let _0x1aed29=-0x11c*-0x1f+-0xbd4+0x8*-0x2d2;_0x1aed29<_0x5e914a['length'];_0x1aed29++){const _0x2c6031=_0x5e914a[_0x1aed29],_0x30809a=this['_batchGrou'+'ps'][_0x2c6031];if(!_0x30809a)continue;let _0x2e0ba0=_0x2f4615[_0x2c6031];_0x2e0ba0||(_0x2e0ba0=_0x2f4615[_0x2c6031]=[]);for(let _0x373e65=0x1d96+-0x666*-0x4+-0x372e;_0x373e65<_0x30809a['_obj']['model']['length'];_0x373e65++)_0x2e0ba0=this['_extractMo'+'del'](_0x30809a['_obj']['model'][_0x373e65],_0x2e0ba0,_0x30809a,_0x2f4615);for(let _0x3d5969=0x1da1+-0x1f42*-0x1+0x3ce3*-0x1;_0x3d5969<_0x30809a['_obj']['render']['length'];_0x3d5969++)_0x2e0ba0=this['_extractRe'+'nder'](_0x30809a['_obj']['render'][_0x3d5969],_0x2e0ba0,_0x30809a,_0x2f4615);for(let _0x5dfba2=-0x868+-0x2262+0x2aca;_0x5dfba2<_0x30809a['_obj']['element']['length'];_0x5dfba2++)this['_extractEl'+'ement'](_0x30809a['_obj']['element'][_0x5dfba2],_0x2e0ba0,_0x30809a);for(let _0x2ff452=-0xf1a+-0x1797+-0x7*-0x587;_0x2ff452<_0x30809a['_obj']['sprite']['length'];_0x2ff452++){const _0xa0fe1d=_0x30809a['_obj']['sprite'][_0x2ff452];_0xa0fe1d['sprite']&&_0xa0fe1d['sprite']['_meshInsta'+'nce']&&(_0x30809a['dynamic']||_0xa0fe1d['sprite']['sprite']['_renderMod'+'e']===ci)&&(_0x2e0ba0['push'](_0xa0fe1d['sprite']['_meshInsta'+'nce']),_0xa0fe1d['sprite']['removeMode'+'lFromLayer'+'s'](),_0x30809a['_sprite']=!(-0x226*0xa+-0x5*0x693+-0xb*-0x4f1),_0xa0fe1d['sprite']['_batchGrou'+'p']=_0x30809a);}}}['generate'](_0x477d70){const _0x37a51a={};_0x477d70||(_0x477d70=Object['keys'](this['_batchGrou'+'ps']));const _0x5ef864=[];for(let _0x432275=0x8b*-0x34+0x1*0x2611+-0x9d5;_0x432275<this['_batchList']['length'];_0x432275++){if(_0x477d70['indexOf'](this['_batchList'][_0x432275]['batchGroup'+'Id'])<-0x26c5+-0xf60+-0xa7*-0x53){_0x5ef864['push'](this['_batchList'][_0x432275]);continue;}this['destroyBat'+'ch'](this['_batchList'][_0x432275]);}if(this['_batchList']=_0x5ef864,this['_collectAn'+'dRemoveMes'+'hInstances'](_0x37a51a,_0x477d70),_0x477d70===this['_dirtyGrou'+'ps'])this['_dirtyGrou'+'ps']['length']=-0x1336+-0x10f6*0x1+-0x242c*-0x1;else{const _0x30ca0a=[];for(let _0x24fa3a=-0xf9b+-0xf*0x14b+0x2300;_0x24fa3a<this['_dirtyGrou'+'ps']['length'];_0x24fa3a++)_0x477d70['indexOf'](this['_dirtyGrou'+'ps'][_0x24fa3a])<0xf25*-0x1+-0x47*-0x13+0x9e0&&_0x30ca0a['push'](this['_dirtyGrou'+'ps'][_0x24fa3a]);this['_dirtyGrou'+'ps']=_0x30ca0a;}let _0x11228c,_0x46b22e,_0x48685d,_0x5a7d88;for(const _0x4afffa in _0x37a51a)if(_0x37a51a['hasOwnProp'+'erty'](_0x4afffa)){if(_0x11228c=_0x37a51a[_0x4afffa],_0x48685d=this['_batchGrou'+'ps'][_0x4afffa],!_0x48685d){w['error']('batch\x20grou'+'p\x20'+_0x4afffa+'\x20not\x20found');continue;}_0x46b22e=this['prepare'](_0x11228c,_0x48685d['dynamic'],_0x48685d['maxAabbSiz'+'e'],_0x48685d['_ui']||_0x48685d['_sprite']);for(let _0x4682ff=0x18d6+0x1cf*-0x7+-0x3*0x40f;_0x4682ff<_0x46b22e['length'];_0x4682ff++)_0x5a7d88=this['create'](_0x46b22e[_0x4682ff],_0x48685d['dynamic'],parseInt(_0x4afffa,-0x8b*0x3b+0x115f*-0x1+0x3172)),_0x5a7d88&&_0x5a7d88['addToLayer'+'s'](this['scene'],_0x48685d['layers']);}}['prepare'](_0x3b19b0,_0x238f07,_0x3ee533=Number['POSITIVE_I'+'NFINITY'],_0x3246ef){if(_0x3b19b0['length']===-0xb86+0x1411+-0x88b*0x1)return[];const _0x496447=_0x3ee533*(-0x3*0x875+-0x47*0x4a+0x2de5+0.5),_0x2797b1=0x1d53+-0x374*-0x1+-0x1*0x1cc7,_0xed98c6=-0xcb841a73+-0x5c5164dc+0x227d57f4e,_0x3dfd4a=new De(),_0x1f618e=new De();let _0x23088f=null,_0x3c0468;const _0x271b31=[];let _0x3b1943=-0x9aa+0x210+-0x3cd*-0x2;_0x3246ef&&_0x3b19b0['sort']((_0x333e6d,_0x4e746e)=>_0x333e6d['drawOrder']-_0x4e746e['drawOrder']);let _0x36bb36=_0x3b19b0,_0x229588;const _0x417478=_0x3246ef?function(_0x20860a){_0x23088f?_0x23088f['add'](_0x20860a['aabb']):_0x23088f=_0x20860a['aabb']['clone'](),_0x229588['push'](_0x20860a);}:function(_0x261b39){_0x229588['push'](_0x261b39);};for(;_0x36bb36['length']>0x83+-0x1*-0x1fed+-0x2070;){_0x271b31[_0x3b1943]=[_0x36bb36[-0x1dc1+-0x1bbd+0x397e]],_0x229588=[];const _0x219ebc=_0x36bb36[0x2*-0x9d5+0xcef+0x6bb]['material'],_0x2d1450=_0x36bb36[-0x63*0x4f+0x1939+-0x3e*-0x16]['layer'],_0x13dce5=_0x36bb36[0x6f9+0x10c6+-0x17bf]['_shaderDef'+'s'],_0x4847e0=_0x36bb36[-0xe6b*-0x1+-0xd*0x232+0xe1f]['parameters'],_0x21f88b=_0x36bb36[-0x13af*-0x1+-0x1*0x139f+-0x10]['stencilFro'+'nt'];let _0x3a0769=_0x36bb36[0x9*-0x250+-0x17f1+0x2cc1]['mesh']['vertexBuff'+'er']['getNumVert'+'ices']();const _0x367a41=_0x36bb36[-0x197*0x6+0x59*-0x1b+0x11*0x11d]['drawOrder'];_0x3dfd4a['copy'](_0x36bb36[0x24f4+0xfd*-0x1a+-0x106*0xb]['aabb']);const _0x491d1f=jd(_0x36bb36[-0x926*0x2+0x220b+-0x1*0xfbf]),_0x34ad02=_0x36bb36[0x13*0x16d+0x578*0x2+0xa5*-0x3b]['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh'],_0x4b423e=_0x36bb36[-0x1022+0x3b2+-0x1*-0xc70]['mesh']['primitive'][-0x1*-0x20c6+-0x3f9+-0x65*0x49]['indexed'];_0x23088f=null;for(let _0x136799=-0xfac+0xe85+-0x128*-0x1;_0x136799<_0x36bb36['length'];_0x136799++){const _0x3c5fd4=_0x36bb36[_0x136799];if(_0x238f07&&_0x271b31[_0x3b1943]['length']>=_0x2797b1){_0x229588=_0x229588['concat'](_0x36bb36['slice'](_0x136799));break;}if(_0x219ebc!==_0x3c5fd4['material']||_0x2d1450!==_0x3c5fd4['layer']||_0x34ad02!==_0x3c5fd4['mesh']['vertexBuff'+'er']['format']['batchingHa'+'sh']||_0x4b423e!==_0x3c5fd4['mesh']['primitive'][0x2e4+-0xb*-0x110+-0xe94]['indexed']||_0x13dce5!==_0x3c5fd4['_shaderDef'+'s']||_0x3a0769+_0x3c5fd4['mesh']['vertexBuff'+'er']['getNumVert'+'ices']()>_0xed98c6){_0x417478(_0x3c5fd4);continue;}if(_0x1f618e['copy'](_0x3dfd4a),_0x1f618e['add'](_0x3c5fd4['aabb']),_0x1f618e['halfExtent'+'s']['x']>_0x496447||_0x1f618e['halfExtent'+'s']['y']>_0x496447||_0x1f618e['halfExtent'+'s']['z']>_0x496447){_0x417478(_0x3c5fd4);continue;}if(_0x21f88b&&(!(_0x3c0468=_0x3c5fd4['stencilFro'+'nt'])||_0x21f88b['func']!==_0x3c0468['func']||_0x21f88b['zpass']!==_0x3c0468['zpass'])){_0x417478(_0x3c5fd4);continue;}if(_0x491d1f!==jd(_0x3c5fd4)){_0x417478(_0x3c5fd4);continue;}if(!DE(_0x4847e0,_0x3c5fd4['parameters'])){_0x417478(_0x3c5fd4);continue;}if(_0x3246ef&&_0x23088f&&_0x23088f['intersects'](_0x3c5fd4['aabb'])&&_0x3c5fd4['drawOrder']!==_0x367a41){_0x417478(_0x3c5fd4);continue;}_0x3dfd4a['add'](_0x3c5fd4['aabb']),_0x3a0769+=_0x3c5fd4['mesh']['vertexBuff'+'er']['getNumVert'+'ices'](),_0x271b31[_0x3b1943]['push'](_0x3c5fd4);}_0x3b1943++,_0x36bb36=_0x229588;}return _0x271b31;}['collectBat'+'chedMeshDa'+'ta'](_0x49ae8c,_0x2c1afc){let _0x32d200=null,_0x8c9d9a=-0x18cf+0x2669*0x1+0xd9a*-0x1,_0x179cd1=-0x227*0x8+-0x1dc7+0x2eff,_0x40c713=null;for(let _0x1060ae=-0x2*0x20+-0x145d+0x149d;_0x1060ae<_0x49ae8c['length'];_0x1060ae++)if(_0x49ae8c[_0x1060ae]['visible']){const _0x4cf3ea=_0x49ae8c[_0x1060ae]['mesh'],_0x468c34=_0x4cf3ea['vertexBuff'+'er']['numVertice'+'s'];if(_0x8c9d9a+=_0x468c34,_0x4cf3ea['primitive'][0x1d*0x1e+-0x1*-0x1aff+0x1*-0x1e65]['indexed'])_0x179cd1+=_0x4cf3ea['primitive'][-0x78*-0x15+-0x1*-0x92+-0xa6a]['count'];else{const _0x2b54c1=_0x4cf3ea['primitive'][0x5d*0x62+-0x1a64+-0x936]['type'];(_0x2b54c1===oa||_0x2b54c1===Er)&&_0x4cf3ea['primitive'][0x1dff+-0x236f+0x18*0x3a]['count']===0x1e7*0x1+0x12f7+-0x11*0x13a&&(_0x179cd1+=0x79d+0x25e1*0x1+-0x2d78);}if(!_0x32d200){_0x40c713=_0x49ae8c[_0x1060ae]['material'],_0x32d200={};const _0x4de8c2=_0x4cf3ea['vertexBuff'+'er']['format']['elements'];for(let _0xb61697=0x29+0xb3*-0x29+-0x29*-0xb2;_0xb61697<_0x4de8c2['length'];_0xb61697++){const _0x5cbfe0=_0x4de8c2[_0xb61697]['name'];_0x32d200[_0x5cbfe0]={'numComponents':_0x4de8c2[_0xb61697]['numCompone'+'nts'],'dataType':_0x4de8c2[_0xb61697]['dataType'],'normalize':_0x4de8c2[_0xb61697]['normalize'],'count':0x0};}_0x2c1afc&&(_0x32d200[us]={'numComponents':0x1,'dataType':Ve,'normalize':!(0x1711+-0xb0b+-0x11*0xb5),'count':0x0});}}return{'streams':_0x32d200,'batchNumVerts':_0x8c9d9a,'batchNumIndices':_0x179cd1,'material':_0x40c713};}['create'](_0x3a7bd3,_0x1b932f,_0x3a97ea){const _0x51a77b=de();this['_init']||(this['vertexForm'+'ats']={},this['_init']=!(-0x13c9+-0x26f*-0x3+0xc7c));let _0x3070be=null,_0x2bcb2c,_0x838348,_0x13a9c1,_0x2ae00c=null;const _0xb594ef=this['collectBat'+'chedMeshDa'+'ta'](_0x3a7bd3,_0x1b932f);if(_0xb594ef['streams']){const _0x418b93=_0xb594ef['streams'];let _0x2541d6=_0xb594ef['material'];const _0x2ad9c7=_0xb594ef['batchNumVe'+'rts'],_0x252a52=_0xb594ef['batchNumIn'+'dices'];_0x2ae00c=new g_(_0x3a7bd3,_0x1b932f,_0x3a97ea),this['_batchList']['push'](_0x2ae00c);let _0x3733f8,_0x2e545e,_0x4c13eb,_0x5b7738,_0x5e8e42=0x21fd+-0x1367+0x74b*-0x2,_0x2a0bb2=0x2563+-0xd*-0x1d1+-0x3d0*0x10,_0x38a22c;const _0x21ce5e=_0x2ad9c7<=-0x1071d+0x1*-0xdd2+-0x214ee*-0x1?Uint16Array:Uint32Array,_0x2ad647=new _0x21ce5e(_0x252a52);for(_0x2bcb2c in _0x418b93)_0x3070be=_0x418b93[_0x2bcb2c],_0x3070be['typeArrayT'+'ype']=wn[_0x3070be['dataType']],_0x3070be['elementByt'+'eSize']=No[_0x3070be['dataType']],_0x3070be['buffer']=new _0x3070be['typeArrayT'+'ype'](_0x2ad9c7*_0x3070be['numCompone'+'nts']);for(let _0x57328c=-0x2b+0x7d4+0x7a9*-0x1;_0x57328c<_0x3a7bd3['length'];_0x57328c++)if(_0x3a7bd3[_0x57328c]['visible']){_0x838348=_0x3a7bd3[_0x57328c]['mesh'],_0x13a9c1=_0x838348['vertexBuff'+'er']['numVertice'+'s'],_0x1b932f||(_0x38a22c=_0x3a7bd3[_0x57328c]['node']['getWorldTr'+'ansform']());for(_0x2bcb2c in _0x418b93)if(_0x2bcb2c!==us){_0x3070be=_0x418b93[_0x2bcb2c];const _0x486c88=new _0x3070be['typeArrayT'+'ype'](_0x3070be['buffer']['buffer'],_0x3070be['elementByt'+'eSize']*_0x3070be['count']),_0x89c718=_0x838348['getVertexS'+'tream'](_0x2bcb2c,_0x486c88)*_0x3070be['numCompone'+'nts'];if(_0x3070be['count']+=_0x89c718,!_0x1b932f&&_0x3070be['numCompone'+'nts']>=-0x6f*-0x2d+-0x1b6b+0x7eb){if(_0x2bcb2c===Me){const _0x525e83=_0x38a22c['data'],_0x37ad13=_0x525e83[-0x5*-0x3cb+-0x1*-0x244d+-0x9*0x624],_0x12d785=_0x525e83[-0x1d*0x1b+-0x7ba+0xaca],_0x26e69d=_0x525e83[0x1d05*-0x1+-0x11a5+0x2eac],_0x5f467f=_0x525e83[0x10a3+-0x1871*0x1+0x7*0x11e],_0xe9383e=_0x525e83[-0x1*0x2169+-0x16bc+0x382a],_0x10a760=_0x525e83[0xf13+0x22+-0xa9*0x17],_0x1789fd=_0x525e83[-0x77*0x9+-0x1d47+-0x3*-0xb2a],_0x2c2715=_0x525e83[0x1dbf+0x1*-0x455+0x49*-0x59],_0xa55a2e=_0x525e83[0x1c76+-0x1038+-0x11c*0xb],_0x1200b3=_0x525e83[0x5d8+-0x1*0xc15+-0x649*-0x1],_0x1b1a5e=_0x525e83[-0x153c+0x7e*-0x2d+0x2b6f],_0x3e7fe6=_0x525e83[-0xb6b+0x23d1*-0x1+-0x2f4a*-0x1];let _0x54ce8d,_0x13843e,_0x519ae4;for(let _0x31564a=-0x2bd*0x5+-0xe*0x121+0x1d7f;_0x31564a<_0x89c718;_0x31564a+=_0x3070be['numCompone'+'nts'])_0x54ce8d=_0x486c88[_0x31564a],_0x13843e=_0x486c88[_0x31564a+(0x249d*-0x1+0xed+-0x1*-0x23b1)],_0x519ae4=_0x486c88[_0x31564a+(-0x1ba3+0x22b6+-0x711)],_0x486c88[_0x31564a]=_0x54ce8d*_0x37ad13+_0x13843e*_0x5f467f+_0x519ae4*_0x1789fd+_0x1200b3,_0x486c88[_0x31564a+(0x1834+0x592+0x1*-0x1dc5)]=_0x54ce8d*_0x12d785+_0x13843e*_0xe9383e+_0x519ae4*_0x2c2715+_0x1b1a5e,_0x486c88[_0x31564a+(-0xd*0x15+0x107*0x25+0x1278*-0x2)]=_0x54ce8d*_0x26e69d+_0x13843e*_0x10a760+_0x519ae4*_0xa55a2e+_0x3e7fe6;}else{if(_0x2bcb2c===gs||_0x2bcb2c===yi){A_['invertMat4'](_0x38a22c)['transpose']();const [_0x462746,_0x137ae0,_0x50deb6,_0x3e8e0c,_0x835267,_0x5f57b5,_0x228103,_0x3358c9,_0xea78a3]=A_['data'];let _0x6d9ca6,_0x21e266,_0x380aca;for(let _0x17b6f7=0x554+0x1341*-0x2+0x3e*0x89;_0x17b6f7<_0x89c718;_0x17b6f7+=_0x3070be['numCompone'+'nts'])_0x6d9ca6=_0x486c88[_0x17b6f7],_0x21e266=_0x486c88[_0x17b6f7+(-0x23e+-0x3c7+0x606)],_0x380aca=_0x486c88[_0x17b6f7+(-0x1e2c+-0x151*0x6+0x2614)],_0x486c88[_0x17b6f7]=_0x6d9ca6*_0x462746+_0x21e266*_0x3e8e0c+_0x380aca*_0x228103,_0x486c88[_0x17b6f7+(0x733*-0x2+-0x50f+0x1376)]=_0x6d9ca6*_0x137ae0+_0x21e266*_0x835267+_0x380aca*_0x3358c9,_0x486c88[_0x17b6f7+(-0x11a*-0x15+0xe2d+-0x254d)]=_0x6d9ca6*_0x50deb6+_0x21e266*_0x5f57b5+_0x380aca*_0xea78a3;}}}}if(_0x1b932f){_0x3070be=_0x418b93[us];for(let _0xb96833=-0x192+0x1a81+-0x18ef;_0xb96833<_0x13a9c1;_0xb96833++)_0x3070be['buffer'][_0x3070be['count']++]=_0x57328c;}if(_0x838348['primitive'][0x1b8f+-0x6*0x460+-0x14f*0x1]['indexed']){_0x3733f8=_0x838348['primitive'][0x13b6+-0x5f*-0x53+-0x3283]['base'],_0x2e545e=_0x838348['primitive'][-0x2305+-0x7de+0x2ae3]['baseVertex']||0x1*0x5e7+0xbab+-0x1192,_0x4c13eb=_0x838348['primitive'][-0x1b05*-0x1+0x268d+-0x16*0x2fb]['count'];const _0xdcd797=_0x838348['indexBuffe'+'r'][-0x5*-0x727+-0x29*0x5d+-0x14de]['getFormat']();_0x5b7738=new Sh[_0xdcd797](_0x838348['indexBuffe'+'r'][-0x374*0x1+0x633+0x13*-0x25]['storage']);}else{_0x2e545e=-0xb*0x70+-0x17e3+-0x5d*-0x4f;const _0x5bf489=_0x838348['primitive'][0x940+-0x1*0x15be+-0x4e*-0x29]['type'];if(_0x5bf489===oa||_0x5bf489===Er){if(_0x838348['primitive'][-0x12*-0x1a6+0x773*0x1+-0x251f]['count']===0x252b+-0xc*0x13a+0x1*-0x166f)_0x3733f8=0x13c0+-0x2d0+-0x10f0,_0x4c13eb=0x371*-0xb+-0x8bb*-0x3+-0x2c*-0x44,_0x5b7738=_0x5bf489===oa?PE:ME;else{_0x4c13eb=-0x2498+-0x231d+0x47b5;continue;}}}for(let _0x20ddda=-0xbcf*0x2+-0x1787+0x9*0x53d;_0x20ddda<_0x4c13eb;_0x20ddda++)_0x2ad647[_0x20ddda+_0x2a0bb2]=_0x5b7738[_0x3733f8+_0x20ddda]+_0x2e545e+_0x5e8e42;_0x2a0bb2+=_0x4c13eb,_0x5e8e42+=_0x13a9c1;}_0x838348=new Ge(this['device']);for(_0x2bcb2c in _0x418b93)_0x3070be=_0x418b93[_0x2bcb2c],_0x838348['setVertexS'+'tream'](_0x2bcb2c,_0x3070be['buffer'],_0x3070be['numCompone'+'nts'],void(0x3a6*-0x7+-0x14a8*0x1+0x2e32),_0x3070be['dataType'],_0x3070be['normalize']);_0x2ad647['length']>0x6dd+-0x122e+0xb51&&_0x838348['setIndices'](_0x2ad647),_0x838348['update'](js,!(0x96d*0x1+0x2*0x12eb+-0x2f42)),_0x1b932f&&(_0x2541d6=_0x2541d6['clone'](),_0x2541d6['update']());const _0x2c05ed=new He(_0x838348,_0x2541d6,this['rootNode']);_0x2c05ed['castShadow']=_0x2ae00c['origMeshIn'+'stances'][-0x1759+-0x166d+-0x36*-0xd9]['castShadow'],_0x2c05ed['parameters']=_0x2ae00c['origMeshIn'+'stances'][-0x9fe+-0x1f*-0x11+0x1*0x7ef]['parameters'],_0x2c05ed['layer']=_0x2ae00c['origMeshIn'+'stances'][0x5*0x1e+-0x13*0x10b+0x223*0x9]['layer'],_0x2c05ed['_shaderDef'+'s']=_0x2ae00c['origMeshIn'+'stances'][-0xa33+-0x17*0x11+0xbba]['_shaderDef'+'s'],_0x2c05ed['batching']=!(0x5*0x34d+0x1*0x22d0+-0x97*0x57),_0x2c05ed['cull']=_0x2ae00c['origMeshIn'+'stances'][0x1*-0x1525+-0x4*0x99e+0x1*0x3b9d]['cull'];const _0x2b71fd=this['_batchGrou'+'ps'][_0x3a97ea];if(_0x2b71fd&&_0x2b71fd['_ui']&&(_0x2c05ed['cull']=!(0x1d43+-0x1*0x1865+-0x4dd)),_0x1b932f){const _0x2a564e=[];for(let _0xd70d61=0x798+0x1490+-0x1c28;_0xd70d61<_0x2ae00c['origMeshIn'+'stances']['length'];_0xd70d61++)_0x2a564e['push'](_0x2ae00c['origMeshIn'+'stances'][_0xd70d61]['node']);_0x2c05ed['skinInstan'+'ce']=new y_(this['device'],_0x2a564e,this['rootNode']);}_0x2c05ed['_updateAab'+'b']=!(-0x24d5+-0x1*0x1b88+0x405e),_0x2c05ed['drawOrder']=_0x2ae00c['origMeshIn'+'stances'][0x6b1+-0x1298+0x1*0xbe7]['drawOrder'],_0x2c05ed['stencilFro'+'nt']=_0x2ae00c['origMeshIn'+'stances'][-0x637*-0x1+0x538*-0x2+0x2f*0x17]['stencilFro'+'nt'],_0x2c05ed['stencilBac'+'k']=_0x2ae00c['origMeshIn'+'stances'][-0x1d94+0x56*0x1d+-0x1*-0x13d6]['stencilBac'+'k'],_0x2c05ed['flipFacesF'+'actor']=jd(_0x2ae00c['origMeshIn'+'stances'][-0x6f7+-0xbe5+-0x1*-0x12dc]),_0x2c05ed['castShadow']=_0x2ae00c['origMeshIn'+'stances'][0x7*-0x241+0x15*-0x6d+0x8*0x317]['castShadow'],_0x2ae00c['meshInstan'+'ce']=_0x2c05ed,_0x2ae00c['updateBoun'+'dingBox']();}return this['_stats']['createTime']+=de()-_0x51a77b,_0x2ae00c;}['updateAll'](){this['_dirtyGrou'+'ps']['length']>-0xe6e+-0x1c06+0x2a74&&this['generate'](this['_dirtyGrou'+'ps']);const _0x1df381=de();for(let _0x40f92e=-0x1bb+0x483+-0x4*0xb2;_0x40f92e<this['_batchList']['length'];_0x40f92e++)this['_batchList'][_0x40f92e]['dynamic']&&this['_batchList'][_0x40f92e]['updateBoun'+'dingBox']();this['_stats']['updateLast'+'FrameTime']=de()-_0x1df381;}['clone'](_0xafc6fc,_0x3c0a1c){const _0x1e0598=new g_(_0x3c0a1c,_0xafc6fc['dynamic'],_0xafc6fc['batchGroup'+'Id']);this['_batchList']['push'](_0x1e0598);const _0x551937=[];for(let _0x5aaf84=-0x4ea*0x2+0x413+0x5c1;_0x5aaf84<_0x3c0a1c['length'];_0x5aaf84++)_0x551937['push'](_0x3c0a1c[_0x5aaf84]['node']);return _0x1e0598['meshInstan'+'ce']=new He(_0xafc6fc['meshInstan'+'ce']['mesh'],_0xafc6fc['meshInstan'+'ce']['material'],_0xafc6fc['meshInstan'+'ce']['node']),_0x1e0598['meshInstan'+'ce']['_updateAab'+'b']=!(0x6d*0x11+-0x8*-0x4c1+-0x2*0x16a2),_0x1e0598['meshInstan'+'ce']['parameters']=_0x3c0a1c[0x2d*0xc1+0x26dd+-0x48ca]['parameters'],_0x1e0598['meshInstan'+'ce']['cull']=_0x3c0a1c[-0x255+-0x13*0x11b+-0x67*-0x3a]['cull'],_0x1e0598['meshInstan'+'ce']['layer']=_0x3c0a1c[-0xad2*0x2+-0x2*0xf3d+0x341e]['layer'],_0xafc6fc['dynamic']&&(_0x1e0598['meshInstan'+'ce']['skinInstan'+'ce']=new y_(this['device'],_0x551937,this['rootNode'])),_0x1e0598['meshInstan'+'ce']['castShadow']=_0xafc6fc['meshInstan'+'ce']['castShadow'],_0x1e0598;}['destroyBat'+'ch'](_0x5ea314){_0x5ea314['destroy'](this['scene'],this['_batchGrou'+'ps'][_0x5ea314['batchGroup'+'Id']]['layers']);}}const P_='uSceneColo'+'rMap';class LE extends ys{constructor(){super(...arguments),h(this,'colorRende'+'rTarget',null),h(this,'source',null);}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']);}['shouldReal'+'locate'](_0x57d93a,_0x2314e1,_0x205f6d){if((_0x57d93a==null?void(0xf7f*-0x1+-0x1*-0x2543+-0x15c4):_0x57d93a['colorBuffe'+'r']['format'])!==_0x205f6d)return!(-0x1ce9+-0x2233+-0x4*-0xfc7);const _0x554a94=(_0x2314e1==null?void(-0x58c*0x1+-0x1b7f+0x210b*0x1):_0x2314e1['width'])||this['device']['width'],_0x3e4ec7=(_0x2314e1==null?void(-0x1656+0x1*-0x101e+0x2674):_0x2314e1['height'])||this['device']['height'];return!_0x57d93a||_0x554a94!==_0x57d93a['width']||_0x3e4ec7!==_0x57d93a['height'];}['allocateRe'+'nderTarget'](_0x1da779,_0x183816,_0x5ab197,_0x5bebd8){const _0x46bc4e=new _e(_0x5ab197,{'name':P_,'format':_0x5bebd8,'width':_0x183816?_0x183816['colorBuffe'+'r']['width']:_0x5ab197['width'],'height':_0x183816?_0x183816['colorBuffe'+'r']['height']:_0x5ab197['height'],'mipmaps':!(-0x1*0x1d2f+-0x1*0x8cb+0x25fa),'minFilter':ma,'magFilter':vt,'addressU':ue,'addressV':ue});return _0x1da779?(_0x1da779['destroyFra'+'meBuffers'](),_0x1da779['_colorBuff'+'er']=_0x46bc4e,_0x1da779['_colorBuff'+'ers']=[_0x46bc4e]):_0x1da779=new gt({'name':'ColorGrabR'+'T','colorBuffer':_0x46bc4e,'depth':!(-0x1*-0x21ee+-0x1*-0x26da+-0x48c7),'stencil':!(0x1686+-0x5*-0x49+-0x4ca*0x5),'autoResolve':!(-0x1c4f*0x1+0xe69+0xde7)}),_0x1da779;}['releaseRen'+'derTarget'](_0x918a22){_0x918a22&&(_0x918a22['destroyTex'+'tureBuffer'+'s'](),_0x918a22['destroy']());}['frameUpdat'+'e'](){const _0x3a043b=this['device'],_0x389898=this['source'],_0x2d910f=(_0x389898==null?void(0xb8b+0x19af+0x253a*-0x1):_0x389898['colorBuffe'+'r']['format'])??this['device']['backBuffer'+'Format'];this['shouldReal'+'locate'](this['colorRende'+'rTarget'],_0x389898==null?void(0x7f*0x4+0xffe+-0x11fa):_0x389898['colorBuffe'+'r'],_0x2d910f)&&(this['releaseRen'+'derTarget'](this['colorRende'+'rTarget']),this['colorRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['colorRende'+'rTarget'],_0x389898,_0x3a043b,_0x2d910f));const _0x2569d0=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x3a043b['scope']['resolve'](P_)['setValue'](_0x2569d0);}['execute'](){const _0x35deb0=this['device'];Q['pushGpuMar'+'ker'](_0x35deb0,'GRAB-COLOR');const _0x1ea1cf=this['source'],_0x3c4570=this['colorRende'+'rTarget']['colorBuffe'+'r'];_0x35deb0['isWebGPU']?(_0x35deb0['copyRender'+'Target'](_0x1ea1cf,this['colorRende'+'rTarget'],!(0xdfd+-0x1*0x1f42+0x1*0x1145),!(0x12a3+0x1*0x1c11+-0x2eb3)),_0x35deb0['mipmapRend'+'erer']['generate'](this['colorRende'+'rTarget']['colorBuffe'+'r']['impl'])):(_0x35deb0['copyRender'+'Target'](_0x1ea1cf,this['colorRende'+'rTarget'],!(0x1*0xddb+-0x1260+0x59*0xd),!(-0x25ca+0x3e7*0x1+0x21e4)),_0x35deb0['activeText'+'ure'](_0x35deb0['maxCombine'+'dTextures']-(0x1a96+0x26*-0x31+-0x1*0x134f)),_0x35deb0['bindTextur'+'e'](_0x3c4570),_0x35deb0['gl']['generateMi'+'pmap'](_0x3c4570['impl']['_glTarget'])),Q['popGpuMark'+'er'](_0x35deb0);}}const M_='uSceneDept'+'hMap';class RE extends ys{constructor(_0x909810,_0x277004){super(_0x909810),h(this,'depthRende'+'rTarget',null),h(this,'camera',null),this['camera']=_0x277004;}['destroy'](){super['destroy'](),this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']);}['shouldReal'+'locate'](_0x503ebf,_0x6995bd){const _0x532c77=(_0x6995bd==null?void(0x1467+0x179*0xd+-0x9e3*0x4):_0x6995bd['width'])||this['device']['width'],_0x236473=(_0x6995bd==null?void(-0x8*0x147+-0xe*0x24b+0x2a52):_0x6995bd['height'])||this['device']['height'];return!_0x503ebf||_0x532c77!==_0x503ebf['width']||_0x236473!==_0x503ebf['height'];}['allocateRe'+'nderTarget'](_0x3441e1,_0x1ef504,_0x546f0c,_0x38068c,_0x13b35b){const _0x157658=new _e(_0x546f0c,{'name':M_,'format':_0x38068c,'width':_0x1ef504?_0x1ef504['colorBuffe'+'r']['width']:_0x546f0c['width'],'height':_0x1ef504?_0x1ef504['colorBuffe'+'r']['height']:_0x546f0c['height'],'mipmaps':!(-0x20a1+-0x6f*0x2f+0x3503),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});return _0x3441e1?(_0x3441e1['destroyFra'+'meBuffers'](),_0x13b35b?_0x3441e1['_depthBuff'+'er']=_0x157658:(_0x3441e1['_colorBuff'+'er']=_0x157658,_0x3441e1['_colorBuff'+'ers']=[_0x157658])):_0x3441e1=new gt({'name':'DepthGrabR'+'T','colorBuffer':_0x13b35b?null:_0x157658,'depthBuffer':_0x13b35b?_0x157658:null,'depth':!_0x13b35b,'stencil':_0x546f0c['supportsSt'+'encil'],'autoResolve':!(-0x2608+0xd1c+-0x1*-0x18ed)}),_0x3441e1;}['releaseRen'+'derTarget'](_0x14912b){_0x14912b&&(_0x14912b['destroyTex'+'tureBuffer'+'s'](),_0x14912b['destroy']());}['before'](){var _0x55378b,_0xf4e032;const _0x4915f4=this['camera'],_0x7ded52=this['device'],_0x41d466=(_0x4915f4==null?void(0x29*-0x59+-0x190b+0x274c):_0x4915f4['renderTarg'+'et'])??_0x7ded52['backBuffer'];let _0x189cbb=!(-0xd1f*0x2+-0x2*0xb8c+0x3156),_0x1ecdf3=_0x41d466['stencil']?sd:$i;_0x7ded52['isWebGPU']&&_0x41d466['samples']>-0x20cf+0xe5*0x17+0xc3d&&(_0x1ecdf3=Ji,_0x189cbb=!(0x218+0xf2e+-0x1145));const _0x5f30bb=((_0x55378b=_0x4915f4['renderTarg'+'et'])==null?void(0x641*-0x4+-0x3*-0xa7b+-0x23*0x2f):_0x55378b['depthBuffe'+'r'])??((_0xf4e032=_0x4915f4['renderTarg'+'et'])==null?void(-0x15c1+0x4*0x3d1+-0x67d*-0x1):_0xf4e032['colorBuffe'+'r']);this['shouldReal'+'locate'](this['depthRende'+'rTarget'],_0x5f30bb)&&(this['releaseRen'+'derTarget'](this['depthRende'+'rTarget']),this['depthRende'+'rTarget']=this['allocateRe'+'nderTarget'](this['depthRende'+'rTarget'],_0x4915f4['renderTarg'+'et'],_0x7ded52,_0x1ecdf3,_0x189cbb));const _0x68c142=_0x189cbb?this['depthRende'+'rTarget']['depthBuffe'+'r']:this['depthRende'+'rTarget']['colorBuffe'+'r'];_0x7ded52['scope']['resolve'](M_)['setValue'](_0x68c142);}['execute'](){const _0x3080a6=this['device'];if(Q['pushGpuMar'+'ker'](_0x3080a6,'GRAB-DEPTH'),_0x3080a6['isWebGL2']&&_0x3080a6['renderTarg'+'et']['samples']>0x2de+-0xbf2+0x915){const _0x2a7168=_0x3080a6['renderTarg'+'et']['impl']['_glFrameBu'+'ffer'],_0x423d5c=this['depthRende'+'rTarget'];_0x3080a6['renderTarg'+'et']=_0x423d5c,_0x3080a6['updateBegi'+'n'](),this['depthRende'+'rTarget']['impl']['internalRe'+'solve'](_0x3080a6,_0x2a7168,_0x423d5c['impl']['_glFrameBu'+'ffer'],this['depthRende'+'rTarget'],_0x3080a6['gl']['DEPTH_BUFF'+'ER_BIT']);}else _0x3080a6['copyRender'+'Target'](_0x3080a6['renderTarg'+'et'],this['depthRende'+'rTarget'],!(0x1*-0x115+-0x136c+0xfa*0x15),!(-0x7*0x63+0x408+-0x153));Q['popGpuMark'+'er'](_0x3080a6);}}class vv{constructor(){h(this,'_gammaCorr'+'ection',Xc),h(this,'_toneMappi'+'ng',sm),h(this,'_srgbRende'+'rTarget',!(0xd17+0x517+-0x122d)),h(this,'_ssaoEnabl'+'ed',!(0x24e5+0xe52+0x17*-0x23a)),h(this,'_fog',Kn),h(this,'_sceneDept'+'hMapLinear',!(-0x1f1*-0x4+0x23c9*-0x1+0x1c06)),h(this,'_hash'),h(this,'_defines',new Map()),h(this,'_definesDi'+'rty',!(0x1*0xf27+-0x13*-0x61+-0x165a));}get['hash'](){if(this['_hash']===void(-0x20ec*-0x1+-0x5*-0x61f+-0x4e3*0xd)){const _0x27f184=this['gammaCorre'+'ction']+'_'+this['toneMappin'+'g']+'_'+this['srgbRender'+'Target']+'_'+this['fog']+'_'+this['ssaoEnable'+'d']+'_'+this['sceneDepth'+'MapLinear'];this['_hash']=hi(_0x27f184);}return this['_hash'];}get['defines'](){const _0x1d585c=this['_defines'];return this['_definesDi'+'rty']&&(this['_definesDi'+'rty']=!(-0x12*0xda+0x40e+0xb47*0x1),_0x1d585c['clear'](),this['_sceneDept'+'hMapLinear']&&_0x1d585c['set']('SCENE_DEPT'+'HMAP_LINEA'+'R',!(0xd*0x164+-0x2*0x1118+-0x407*-0x4)),_0x1d585c['set']('FOG',this['_fog']['toUpperCas'+'e']()),_0x1d585c['set']('TONEMAP',ov[this['_toneMappi'+'ng']]),_0x1d585c['set']('GAMMA',Hw[this['shaderOutp'+'utGamma']])),_0x1d585c;}['markDirty'](){this['_hash']=void(-0xdb8+-0x25e5*0x1+0x339d),this['_definesDi'+'rty']=!(0x65*-0x26+-0x2120+-0x6*-0x805);}set['fog'](_0x566027){this['_fog']!==_0x566027&&(this['_fog']=_0x566027,this['markDirty']());}get['fog'](){return this['_fog'];}set['ssaoEnable'+'d'](_0x2de67c){this['_ssaoEnabl'+'ed']!==_0x2de67c&&(this['_ssaoEnabl'+'ed']=_0x2de67c,this['markDirty']());}get['ssaoEnable'+'d'](){return this['_ssaoEnabl'+'ed'];}set['gammaCorre'+'ction'](_0x5b0101){this['_gammaCorr'+'ectionAssi'+'gned']=!(-0x1246+0xd*-0x1d+0x13bf),this['_gammaCorr'+'ection']!==_0x5b0101&&(this['_gammaCorr'+'ection']=_0x5b0101,this['markDirty']());}get['gammaCorre'+'ction'](){return this['_gammaCorr'+'ection'];}set['toneMappin'+'g'](_0x1f00aa){this['_toneMappi'+'ng']!==_0x1f00aa&&(this['_toneMappi'+'ng']=_0x1f00aa,this['markDirty']());}get['toneMappin'+'g'](){return this['_toneMappi'+'ng'];}set['srgbRender'+'Target'](_0x148a00){this['_srgbRende'+'rTarget']!==_0x148a00&&(this['_srgbRende'+'rTarget']=_0x148a00,this['markDirty']());}get['srgbRender'+'Target'](){return this['_srgbRende'+'rTarget'];}set['sceneDepth'+'MapLinear'](_0x3dd6a6){this['_sceneDept'+'hMapLinear']!==_0x3dd6a6&&(this['_sceneDept'+'hMapLinear']=_0x3dd6a6,this['markDirty']());}get['sceneDepth'+'MapLinear'](){return this['_sceneDept'+'hMapLinear'];}get['shaderOutp'+'utGamma'](){return this['_gammaCorr'+'ection']===Xc&&!this['_srgbRende'+'rTarget']?Xc:Ll;}}const La=new D(),ao=new D(),D_=new D(),I_=new te(),OE=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()];class Fl{constructor(){h(this,'shaderPass'+'Info',null),h(this,'renderPass'+'ColorGrab',null),h(this,'renderPass'+'DepthGrab',null),h(this,'fogParams',null),h(this,'shaderPara'+'ms',new vv()),h(this,'renderPass'+'es',[]),h(this,'jitter',-0x2250+-0xffb+-0x7d*-0x67),(this['_aspectRat'+'io']=(0x2e3+-0x79+-0x25a)/(-0x250c+0xec2+-0x3*-0x771),this['_aspectRat'+'ioMode']=hm,this['_calculate'+'Projection']=null,this['_calculate'+'Transform']=null,this['_clearColo'+'r']=new ie(-0x23a0+-0x9ec+0x2d8c+0.75,-0x1556*-0x1+-0xfc3+-0x1*0x593+0.75,-0x1180*0x2+0x20e4+-0x24*-0xf+0.75,-0x1971+-0x11*-0x169+-0xd*-0x1d),this['_clearColo'+'rBuffer']=!(-0x970*0x2+-0xce0+-0x1*-0x1fc0),this['_clearDept'+'h']=0x1858+0x694+-0x1eeb,this['_clearDept'+'hBuffer']=!(-0x182*0x19+-0x1c*-0x4b+0x1d7e),this['_clearSten'+'cil']=-0x7d8*0x4+0x175d*-0x1+0x36bd,this['_clearSten'+'cilBuffer']=!(0x58d*-0x3+0x12d9+-0x232*0x1),this['_cullFaces']=!(0x1363+0x1*-0x17aa+0x447),this['_farClip']=0xbdf+0x1*0x5fb+-0xdf2,this['_flipFaces']=!(0x5d+0x24ce+-0x1295*0x2),this['_fov']=0x24d7+0x1940+0x27a*-0x19,this['_frustumCu'+'lling']=!(0x1b23*0x1+-0x20b9+0x596),this['_horizonta'+'lFov']=!(0x1b7e*-0x1+-0x2*-0x6b9+-0x1*-0xe0d),this['_layers']=[er,ps,Kp,Il,Zp],this['_layersSet']=new Set(this['_layers']),this['_nearClip']=0x1*-0x443+-0x1e41*-0x1+-0x455*0x6+0.1,this['_node']=null,this['_orthoHeig'+'ht']=0x14ce+0x1*-0x12a0+0x112*-0x2,this['_projectio'+'n']=ni,this['_rect']=new re(0x1c35+-0x16f*-0x6+-0x1b*0x15d,-0x1*-0x23ab+-0x17*0xb+-0x2e*0xc1,0x291+-0xe49+0xbb9*0x1,0x160a+-0x10b3+-0x556),this['_renderTar'+'get']=null,this['_scissorRe'+'ct']=new re(-0x1f*0x34+-0x4d0+-0x3b4*-0x3,-0x1187+-0x3f4+0x157b,0x12db*0x1+0x1802+0xab7*-0x4,0x7f1+0x1ee2+-0x26d2*0x1),this['_scissorRe'+'ctClear']=!(0x24c7+0x32e*-0x3+0x1f2*-0xe),this['_aperture']=-0xc*-0x23d+0xb93+-0x1*0x265f,this['_shutter']=(-0x26b0+0xff8+0x16b9)/(-0x2531*-0x1+-0xad*-0x21+-0x58f*0xa),this['_sensitivi'+'ty']=-0xa01+0xa*-0x2fd+0x2bcb,this['_projMat']=new te(),this['_projMatDi'+'rty']=!(-0x3bf*0x9+-0x31c+0x24d3),this['_projMatSk'+'ybox']=new te(),this['_viewMat']=new te(),this['_viewMatDi'+'rty']=!(-0x5c0+0x101*0x1+0x4bf),this['_viewProjM'+'at']=new te(),this['_viewProjM'+'atDirty']=!(-0x982+-0x1*0xdbe+0x1740),this['_shaderMat'+'ricesVersi'+'on']=0x1569+-0x1114+-0x455*0x1,this['_viewProjI'+'nverse']=new te(),this['_viewProjC'+'urrent']=null,this['_viewProjP'+'revious']=new te(),this['_jitters']=[0x1466+0x5c5*-0x3+-0x7*0x71,0xc76+0x1*0xaf3+-0x1769,-0x47*-0x38+0x4*-0x9b3+0x1744,-0xe36*-0x1+-0x1bc4+0xd8e],this['frustum']=new yx(),this['_xr']=null,this['_xrPropert'+'ies']={'horizontalFov':this['_horizonta'+'lFov'],'fov':this['_fov'],'aspectRatio':this['_aspectRat'+'io'],'farClip':this['_farClip'],'nearClip':this['_nearClip']});}['destroy'](){var _0xa43d8f,_0x5563c0;(_0xa43d8f=this['renderPass'+'ColorGrab'])==null||_0xa43d8f['destroy'](),this['renderPass'+'ColorGrab']=null,(_0x5563c0=this['renderPass'+'DepthGrab'])==null||_0x5563c0['destroy'](),this['renderPass'+'DepthGrab']=null,this['renderPass'+'es']['length']=-0x1*0x1b7f+0x770+0x140f;}['_storeShad'+'erMatrices'](_0x4bbff1,_0x1ecefb,_0x35f452,_0x963fbb){this['_shaderMat'+'ricesVersi'+'on']!==_0x963fbb&&(this['_shaderMat'+'ricesVersi'+'on']=_0x963fbb,this['_viewProjP'+'revious']['copy'](this['_viewProjC'+'urrent']??_0x4bbff1),this['_viewProjC'+'urrent']??(this['_viewProjC'+'urrent']=new te()),this['_viewProjC'+'urrent']['copy'](_0x4bbff1),this['_viewProjI'+'nverse']['invert'](_0x4bbff1),this['_jitters'][0x2049*0x1+0x3d*0x2b+-0x2a86]=this['_jitters'][-0x1385+-0x2553+0x38d8],this['_jitters'][-0x245d*-0x1+-0x194b+-0x13*0x95]=this['_jitters'][-0x131*-0x5+0x17*0x115+-0x1ed7],this['_jitters'][0x15f6+0x198e*-0x1+0x398]=_0x1ecefb,this['_jitters'][0x550+-0x34*0x46+0x8e9]=_0x35f452);}get['fullSizeCl'+'earRect'](){const _0x584e8e=this['_scissorRe'+'ctClear']?this['scissorRec'+'t']:this['_rect'];return _0x584e8e['x']===0x2d5*-0x1+-0x64b+0x920&&_0x584e8e['y']===0x1f93*-0x1+0x2*0x2da+0x19df&&_0x584e8e['z']===-0x630+0x1*-0x6b6+0xce7&&_0x584e8e['w']===-0x170c+-0x18db+0x2fe8;}set['aspectRati'+'o'](_0x440709){this['_aspectRat'+'io']!==_0x440709&&(this['_aspectRat'+'io']=_0x440709,this['_projMatDi'+'rty']=!(0x2ce+0x1*-0xfbf+-0x1*-0xcf1));}get['aspectRati'+'o'](){var _0x52741d;return(_0x52741d=this['xr'])!=null&&_0x52741d['active']?this['_xrPropert'+'ies']['aspectRati'+'o']:this['_aspectRat'+'io'];}set['aspectRati'+'oMode'](_0x545abc){this['_aspectRat'+'ioMode']!==_0x545abc&&(this['_aspectRat'+'ioMode']=_0x545abc,this['_projMatDi'+'rty']=!(-0x100*-0xe+-0x6a7+0x21*-0x39));}get['aspectRati'+'oMode'](){return this['_aspectRat'+'ioMode'];}set['calculateP'+'rojection'](_0x242c25){this['_calculate'+'Projection']=_0x242c25,this['_projMatDi'+'rty']=!(-0x1*-0x1860+0xd5a+-0x25ba);}get['calculateP'+'rojection'](){return this['_calculate'+'Projection'];}set['calculateT'+'ransform'](_0x24535f){this['_calculate'+'Transform']=_0x24535f;}get['calculateT'+'ransform'](){return this['_calculate'+'Transform'];}set['clearColor'](_0xd1cd87){this['_clearColo'+'r']['copy'](_0xd1cd87);}get['clearColor'](){return this['_clearColo'+'r'];}set['clearColor'+'Buffer'](_0x50b431){this['_clearColo'+'rBuffer']=_0x50b431;}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'](_0x3ffb1b){this['_clearDept'+'h']=_0x3ffb1b;}get['clearDepth'](){return this['_clearDept'+'h'];}set['clearDepth'+'Buffer'](_0x225a77){this['_clearDept'+'hBuffer']=_0x225a77;}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'il'](_0x4814a1){this['_clearSten'+'cil']=_0x4814a1;}get['clearStenc'+'il'](){return this['_clearSten'+'cil'];}set['clearStenc'+'ilBuffer'](_0x7a24f2){this['_clearSten'+'cilBuffer']=_0x7a24f2;}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}set['cullFaces'](_0x1621e4){this['_cullFaces']=_0x1621e4;}get['cullFaces'](){return this['_cullFaces'];}set['farClip'](_0x537377){this['_farClip']!==_0x537377&&(this['_farClip']=_0x537377,this['_projMatDi'+'rty']=!(-0x15df+0x0+0x15df));}get['farClip'](){var _0x5a7900;return(_0x5a7900=this['xr'])!=null&&_0x5a7900['active']?this['_xrPropert'+'ies']['farClip']:this['_farClip'];}set['flipFaces'](_0x31ff5e){this['_flipFaces']=_0x31ff5e;}get['flipFaces'](){return this['_flipFaces'];}set['fov'](_0x274c69){this['_fov']!==_0x274c69&&(this['_fov']=_0x274c69,this['_projMatDi'+'rty']=!(0x30b*0x2+-0x1bff+0x1*0x15e9));}get['fov'](){var _0x55256;return(_0x55256=this['xr'])!=null&&_0x55256['active']?this['_xrPropert'+'ies']['fov']:this['_fov'];}set['frustumCul'+'ling'](_0x4aec65){this['_frustumCu'+'lling']=_0x4aec65;}get['frustumCul'+'ling'](){return this['_frustumCu'+'lling'];}set['horizontal'+'Fov'](_0x447542){this['_horizonta'+'lFov']!==_0x447542&&(this['_horizonta'+'lFov']=_0x447542,this['_projMatDi'+'rty']=!(0x3*0x1fd+-0x2b*0x5+-0x520));}get['horizontal'+'Fov'](){var _0x1ba2ef;return(_0x1ba2ef=this['xr'])!=null&&_0x1ba2ef['active']?this['_xrPropert'+'ies']['horizontal'+'Fov']:this['_horizonta'+'lFov'];}set['layers'](_0x42586f){this['_layers']=_0x42586f['slice'](0x1e67+-0xd*-0x61+0x22*-0x10a),this['_layersSet']=new Set(this['_layers']);}get['layers'](){return this['_layers'];}get['layersSet'](){return this['_layersSet'];}set['nearClip'](_0x13ccbe){this['_nearClip']!==_0x13ccbe&&(this['_nearClip']=_0x13ccbe,this['_projMatDi'+'rty']=!(-0xebf*0x1+0xad8+0x1*0x3e7));}get['nearClip'](){var _0x2f8e3e;return(_0x2f8e3e=this['xr'])!=null&&_0x2f8e3e['active']?this['_xrPropert'+'ies']['nearClip']:this['_nearClip'];}set['node'](_0xece83d){this['_node']=_0xece83d;}get['node'](){return this['_node'];}set['orthoHeigh'+'t'](_0xa1717d){this['_orthoHeig'+'ht']!==_0xa1717d&&(this['_orthoHeig'+'ht']=_0xa1717d,this['_projMatDi'+'rty']=!(0x220e+0x1*0x865+-0x1*0x2a73));}get['orthoHeigh'+'t'](){return this['_orthoHeig'+'ht'];}set['projection'](_0x54899f){this['_projectio'+'n']!==_0x54899f&&(this['_projectio'+'n']=_0x54899f,this['_projMatDi'+'rty']=!(0x1*0x177f+-0x15cd+0x1*-0x1b2));}get['projection'](){return this['_projectio'+'n'];}get['projection'+'Matrix'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMat'];}set['rect'](_0x7a6de0){this['_rect']['copy'](_0x7a6de0);}get['rect'](){return this['_rect'];}set['renderTarg'+'et'](_0x40da08){this['_renderTar'+'get']=_0x40da08;}get['renderTarg'+'et'](){return this['_renderTar'+'get'];}set['scissorRec'+'t'](_0x4a4668){this['_scissorRe'+'ct']['copy'](_0x4a4668);}get['scissorRec'+'t'](){return this['_scissorRe'+'ct'];}get['viewMatrix'](){if(this['_viewMatDi'+'rty']){const _0x327ccd=this['_node']['getWorldTr'+'ansform']();this['_viewMat']['copy'](_0x327ccd)['invert'](),this['_viewMatDi'+'rty']=!(-0xbdb*0x3+-0x1*0x20f2+0x1121*0x4);}return this['_viewMat'];}set['aperture'](_0x5b1a80){this['_aperture']=_0x5b1a80;}get['aperture'](){return this['_aperture'];}set['sensitivit'+'y'](_0x3b100e){this['_sensitivi'+'ty']=_0x3b100e;}get['sensitivit'+'y'](){return this['_sensitivi'+'ty'];}set['shutter'](_0x5ba346){this['_shutter']=_0x5ba346;}get['shutter'](){return this['_shutter'];}set['xr'](_0x4e9bef){this['_xr']!==_0x4e9bef&&(this['_xr']=_0x4e9bef,this['_projMatDi'+'rty']=!(0x18b*-0x1+0x7e0+-0x655));}get['xr'](){return this['_xr'];}['clone'](){return new Fl()['copy'](this);}['copy'](_0x36bf9a){return this['_aspectRat'+'io']=_0x36bf9a['_aspectRat'+'io'],this['_farClip']=_0x36bf9a['_farClip'],this['_fov']=_0x36bf9a['_fov'],this['_horizonta'+'lFov']=_0x36bf9a['_horizonta'+'lFov'],this['_nearClip']=_0x36bf9a['_nearClip'],this['_xrPropert'+'ies']['aspectRati'+'o']=_0x36bf9a['_xrPropert'+'ies']['aspectRati'+'o'],this['_xrPropert'+'ies']['farClip']=_0x36bf9a['_xrPropert'+'ies']['farClip'],this['_xrPropert'+'ies']['fov']=_0x36bf9a['_xrPropert'+'ies']['fov'],this['_xrPropert'+'ies']['horizontal'+'Fov']=_0x36bf9a['_xrPropert'+'ies']['horizontal'+'Fov'],this['_xrPropert'+'ies']['nearClip']=_0x36bf9a['_xrPropert'+'ies']['nearClip'],this['aspectRati'+'oMode']=_0x36bf9a['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x36bf9a['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x36bf9a['calculateT'+'ransform'],this['clearColor']=_0x36bf9a['clearColor'],this['clearColor'+'Buffer']=_0x36bf9a['clearColor'+'Buffer'],this['clearDepth']=_0x36bf9a['clearDepth'],this['clearDepth'+'Buffer']=_0x36bf9a['clearDepth'+'Buffer'],this['clearStenc'+'il']=_0x36bf9a['clearStenc'+'il'],this['clearStenc'+'ilBuffer']=_0x36bf9a['clearStenc'+'ilBuffer'],this['cullFaces']=_0x36bf9a['cullFaces'],this['flipFaces']=_0x36bf9a['flipFaces'],this['frustumCul'+'ling']=_0x36bf9a['frustumCul'+'ling'],this['layers']=_0x36bf9a['layers'],this['orthoHeigh'+'t']=_0x36bf9a['orthoHeigh'+'t'],this['projection']=_0x36bf9a['projection'],this['rect']=_0x36bf9a['rect'],this['renderTarg'+'et']=_0x36bf9a['renderTarg'+'et'],this['scissorRec'+'t']=_0x36bf9a['scissorRec'+'t'],this['aperture']=_0x36bf9a['aperture'],this['shutter']=_0x36bf9a['shutter'],this['sensitivit'+'y']=_0x36bf9a['sensitivit'+'y'],this['shaderPass'+'Info']=_0x36bf9a['shaderPass'+'Info'],this['jitter']=_0x36bf9a['jitter'],this['_projMatDi'+'rty']=!(-0xc26*-0x2+0x1*0x643+-0x1e8f),this;}['_enableRen'+'derPassCol'+'orGrab'](_0x32e4e1,_0x37e10d){var _0x15cda1;_0x37e10d?this['renderPass'+'ColorGrab']||(this['renderPass'+'ColorGrab']=new LE(_0x32e4e1)):((_0x15cda1=this['renderPass'+'ColorGrab'])==null||_0x15cda1['destroy'](),this['renderPass'+'ColorGrab']=null);}['_enableRen'+'derPassDep'+'thGrab'](_0x141e44,_0x1de5d0,_0x500ed1){var _0x1faa90;_0x500ed1?this['renderPass'+'DepthGrab']||(this['renderPass'+'DepthGrab']=new RE(_0x141e44,this)):((_0x1faa90=this['renderPass'+'DepthGrab'])==null||_0x1faa90['destroy'](),this['renderPass'+'DepthGrab']=null);}['_updateVie'+'wProjMat'](){(this['_projMatDi'+'rty']||this['_viewMatDi'+'rty']||this['_viewProjM'+'atDirty'])&&(this['_viewProjM'+'at']['mul2'](this['projection'+'Matrix'],this['viewMatrix']),this['_viewProjM'+'atDirty']=!(-0x22*-0x4b+-0x202e+0x1639));}['worldToScr'+'een'](_0x23c859,_0x4e19e2,_0xecfcb9,_0x10b736=new D()){this['_updateVie'+'wProjMat'](),this['_viewProjM'+'at']['transformP'+'oint'](_0x23c859,_0x10b736);const _0x2347b1=this['_viewProjM'+'at']['data'],_0x5c9ba4=_0x23c859['x']*_0x2347b1[-0x15f6+-0x1b96+0x318f*0x1]+_0x23c859['y']*_0x2347b1[0xd0+0xfaa+-0x1*0x1073]+_0x23c859['z']*_0x2347b1[0xde*0x19+0x2520+-0x3ac3]+(0x5f8+0x1e61+0x8*-0x48b)*_0x2347b1[-0xe39+-0x6d*-0x57+-0x16c3*0x1];_0x10b736['x']=(_0x10b736['x']/_0x5c9ba4+(0x155d+-0x2*0x1042+0xb28))*(-0x33c*0x1+-0x2*-0x51a+0x6f8*-0x1+0.5),_0x10b736['y']=(0x489+-0x8*0x1bb+-0x8*-0x12a-_0x10b736['y']/_0x5c9ba4)*(-0x2f*0x2b+-0x581*-0x1+-0x4*-0x99+0.5);const {x:_0x59675e,y:_0x3fe603,z:_0x31d798,w:_0x4083a1}=this['_rect'];return _0x10b736['x']=_0x10b736['x']*_0x31d798*_0x4e19e2+_0x59675e*_0x4e19e2,_0x10b736['y']=_0x10b736['y']*_0x4083a1*_0xecfcb9+(0x1a40+-0x17e9+-0x256-_0x3fe603-_0x4083a1)*_0xecfcb9,_0x10b736;}['screenToWo'+'rld'](_0x4e5fcf,_0x44e7fd,_0x6c6731,_0x23da15,_0x340a54,_0x140b1e=new D()){const {x:_0x105035,y:_0x43045d,z:_0x35d856,w:_0x3c92d5}=this['_rect'],_0x33cc40=this['farClip']-this['nearClip'];if(La['set']((_0x4e5fcf-_0x105035*_0x23da15)/(_0x35d856*_0x23da15),-0x64e*-0x6+0xe3b+-0x2*0x1a07-(_0x44e7fd-(0x3*0xb98+0x268f+-0xc39*0x6-_0x43045d-_0x3c92d5)*_0x340a54)/(_0x3c92d5*_0x340a54),_0x6c6731/_0x33cc40),La['mulScalar'](-0x1f0c+0x3*0x701+0x1*0xa0b),La['sub'](D['ONE']),this['_projectio'+'n']===ni){te['_getPerspe'+'ctiveHalfS'+'ize'](ao,this['fov'],this['aspectRati'+'o'],this['nearClip'],this['horizontal'+'Fov']),ao['x']*=La['x'],ao['y']*=La['y'];const _0x5dc8e2=this['_node']['getWorldTr'+'ansform']();ao['z']=-this['nearClip'],_0x5dc8e2['transformP'+'oint'](ao,D_);const _0x2047af=this['_node']['getPositio'+'n']();_0x140b1e['sub2'](D_,_0x2047af),_0x140b1e['normalize'](),_0x140b1e['mulScalar'](_0x6c6731),_0x140b1e['add'](_0x2047af);}else this['_updateVie'+'wProjMat'](),I_['copy'](this['_viewProjM'+'at'])['invert'](),I_['transformP'+'oint'](La,_0x140b1e);return _0x140b1e;}['_evaluateP'+'rojectionM'+'atrix'](){if(this['_projMatDi'+'rty']){if(this['_projectio'+'n']===ni)this['_projMat']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip'],this['horizontal'+'Fov']),this['_projMatSk'+'ybox']['copy'](this['_projMat']);else{const _0x11f791=this['_orthoHeig'+'ht'],_0x55e478=_0x11f791*this['aspectRati'+'o'];this['_projMat']['setOrtho'](-_0x55e478,_0x55e478,-_0x11f791,_0x11f791,this['nearClip'],this['farClip']),this['_projMatSk'+'ybox']['setPerspec'+'tive'](this['fov'],this['aspectRati'+'o'],this['nearClip'],this['farClip']);}this['_projMatDi'+'rty']=!(-0x1*0x2615+0xb2c+-0x2*-0xd75);}}['getProject'+'ionMatrixS'+'kybox'](){return this['_evaluateP'+'rojectionM'+'atrix'](),this['_projMatSk'+'ybox'];}['getExposur'+'e'](){const _0x1075d3=Math['log2'](this['_aperture']*this['_aperture']/this['_shutter']*(-0xd3*-0xd+0xcf8+-0x174b)/this['_sensitivi'+'ty']);return(0x1664+-0x3*0x121+-0x1300)/(Math['pow'](-0x4*0x137+-0x1*-0x47f+0x5f,_0x1075d3)*(-0xb6f*-0x1+0x2267+-0x2dd5+0.19999999999999996));}['getScreenS'+'ize'](_0x220c10){if(this['_projectio'+'n']===ni){const _0x52f75f=this['_node']['getPositio'+'n']()['distance'](_0x220c10['center']);if(_0x52f75f<_0x220c10['radius'])return-0x13ea+-0x31*0x83+0x2cfe;const _0x1f6aeb=Math['asin'](_0x220c10['radius']/_0x52f75f),_0x1eec17=Math['tan'](_0x1f6aeb),_0x4fa976=Math['tan'](this['fov']/(0x16a1+0x2*0x12e3+0x3c65*-0x1)*Y['DEG_TO_RAD']);return Math['min'](_0x1eec17/_0x4fa976,0x7d7+0x276+-0xa4c);}return Y['clamp'](_0x220c10['radius']/this['_orthoHeig'+'ht'],-0x3*0x43a+0xf2*0xd+0x14*0x5,0x1*0x3bb+0xa7c+-0x22*0x6b);}['getFrustum'+'Corners'](_0x112016=this['nearClip'],_0x3d1a91=this['farClip']){const _0x203444=this['fov']*Math['PI']/(0x213d+0x1f8c+0x1*-0x4015);let _0x58241a,_0x88dc14;this['projection']===ni?this['horizontal'+'Fov']?(_0x58241a=_0x112016*Math['tan'](_0x203444/(0x1*0xd55+0x1a65+-0x27b8)),_0x88dc14=_0x58241a/this['aspectRati'+'o']):(_0x88dc14=_0x112016*Math['tan'](_0x203444/(0x24c5*-0x1+-0xc73*0x1+0x313a)),_0x58241a=_0x88dc14*this['aspectRati'+'o']):(_0x88dc14=this['_orthoHeig'+'ht'],_0x58241a=_0x88dc14*this['aspectRati'+'o']);const _0x4233b8=OE;return _0x4233b8[-0x1*0xba5+-0x15a2+0x2147]['x']=_0x58241a,_0x4233b8[0x1ac9+-0x1936+-0x1f*0xd]['y']=-_0x88dc14,_0x4233b8[0xf*0x83+0x2338+-0x2ae5]['z']=-_0x112016,_0x4233b8[0x2185+0x49c+-0x2620]['x']=_0x58241a,_0x4233b8[-0x1949+-0x2*-0x248+-0x1*-0x14ba]['y']=_0x88dc14,_0x4233b8[0x1245+-0x22c0+0x1a6*0xa]['z']=-_0x112016,_0x4233b8[0x1*0x12ad+0x571*0x2+-0x1d8d]['x']=-_0x58241a,_0x4233b8[0xae8+0x249d+-0x2f83]['y']=_0x88dc14,_0x4233b8[-0x1215*-0x1+0x17d2+0x113*-0x27]['z']=-_0x112016,_0x4233b8[0xa7*-0x29+-0x453+0x1f15]['x']=-_0x58241a,_0x4233b8[0x24f2+0x1f84+-0x4473]['y']=-_0x88dc14,_0x4233b8[-0x1af*0x15+-0x4bd*0x7+0x4489]['z']=-_0x112016,this['_projectio'+'n']===ni&&(this['horizontal'+'Fov']?(_0x58241a=_0x3d1a91*Math['tan'](_0x203444/(-0xe27*0x2+-0x378+0x1fc8)),_0x88dc14=_0x58241a/this['aspectRati'+'o']):(_0x88dc14=_0x3d1a91*Math['tan'](_0x203444/(0x24b9*-0x1+-0xd63+0xa*0x503)),_0x58241a=_0x88dc14*this['aspectRati'+'o'])),_0x4233b8[-0x24d8+-0x8*-0x169+-0x665*-0x4]['x']=_0x58241a,_0x4233b8[0xeec+-0x25be+0x16d6]['y']=-_0x88dc14,_0x4233b8[-0x1035*-0x2+-0x15a9+-0xabd]['z']=-_0x3d1a91,_0x4233b8[0x512+-0xd5e*-0x1+-0x126b]['x']=_0x58241a,_0x4233b8[-0x47f*-0x1+0x2392+0x4*-0xa03]['y']=_0x88dc14,_0x4233b8[-0xc1*0x1+-0x1*0xfab+0x1071]['z']=-_0x3d1a91,_0x4233b8[-0xb*-0x2e7+-0x1fca+-0x1*0x1d]['x']=-_0x58241a,_0x4233b8[-0x4*-0x425+0x1a*-0x89+-0x2a4]['y']=_0x88dc14,_0x4233b8[-0x965+-0xbe8+0x1553]['z']=-_0x3d1a91,_0x4233b8[0xc4*0xb+0x1126+-0x198b]['x']=-_0x58241a,_0x4233b8[0x2639+-0x8b*-0x45+-0x4ba9]['y']=-_0x88dc14,_0x4233b8[0x7f3+0x1388+0x1c*-0xfb]['z']=-_0x3d1a91,_0x4233b8;}['setXrPrope'+'rties'](_0x220e02){Object['assign'](this['_xrPropert'+'ies'],_0x220e02),this['_projMatDi'+'rty']=!(0xbf6+-0x2*0x7fb+0x400);}}const L_=new te(),R_=new te(),O_=new te(),gr=class gr{static['create'](_0x297379,_0x2544b1,_0x4193fd){const _0x38777c=new Fl();switch(_0x38777c['node']=new Ie(_0x297379),_0x38777c['aspectRati'+'o']=-0xb8c+0x4fe+-0x17*-0x49,_0x38777c['aspectRati'+'oMode']=lu,_0x38777c['_scissorRe'+'ctClear']=!(0x1959*-0x1+0x1690+0x1*0x2c9),_0x2544b1){case Ke:_0x38777c['node']['setRotatio'+'n'](gr['pointLight'+'Rotations'][_0x4193fd]),_0x38777c['fov']=-0x19*-0x136+-0xe24+-0xfc8,_0x38777c['projection']=ni;break;case Ze:_0x38777c['projection']=ni;break;case ve:_0x38777c['projection']=En;break;}return _0x38777c;}static['evalSpotCo'+'okieMatrix'](_0x50aa00){let _0x241c26=gr['_spotCooki'+'eCamera'];_0x241c26||(_0x241c26=gr['create']('SpotCookie'+'Camera',Ze),gr['_spotCooki'+'eCamera']=_0x241c26),_0x241c26['fov']=_0x50aa00['_outerCone'+'Angle']*(0xdb0+-0xf6f*0x2+0x1130);const _0x20635a=_0x241c26['_node'];_0x20635a['setPositio'+'n'](_0x50aa00['_node']['getPositio'+'n']()),_0x20635a['setRotatio'+'n'](_0x50aa00['_node']['getRotatio'+'n']()),_0x20635a['rotateLoca'+'l'](-(0x68*-0x47+-0x1817+0x3549),0x20b8+0x5*-0x407+0x1*-0xc95,0xc1d+0x15b5+-0x1e1*0x12),L_['setTRS'](_0x20635a['getPositio'+'n'](),_0x20635a['getRotatio'+'n'](),D['ONE'])['invert'](),R_['mul2'](_0x241c26['projection'+'Matrix'],L_);const _0x24bdc4=_0x50aa00['cookieMatr'+'ix'],_0x330e6e=_0x50aa00['atlasViewp'+'ort'];return O_['setViewpor'+'t'](_0x330e6e['x'],_0x330e6e['y'],_0x330e6e['z'],_0x330e6e['w']),_0x24bdc4['mul2'](O_,R_),_0x24bdc4;}};h(gr,'pointLight'+'Rotations',[new le()['setFromEul'+'erAngles'](-0x190d+0x17bc+0x151,0x2ab+-0xd3a+0xae9,0x1432+-0x2365+-0x3b*-0x45),new le()['setFromEul'+'erAngles'](-0x2508+-0x7de+0x2ce6,-(0x22f3+-0x337+-0x1f62),-0x592*0x1+0xfb*0x4+0x12d*0x2),new le()['setFromEul'+'erAngles'](-0x4d2+0x25dd+-0x1*0x20b1,0x5*0x44e+0x5d6+-0x1b5c,-0xc0e*-0x3+0x1*0xae7+0x1*-0x2f11),new le()['setFromEul'+'erAngles'](-(-0x964+0xd*-0x1a9+0x37b*0x9),0x1ed3+-0x1896+-0x63d*0x1,0x2670+0x7f3+0x5f*-0x7d),new le()['setFromEul'+'erAngles'](-0x647*-0x5+-0x237c+0x1*0x419,0x1b91*0x1+0x4*0x3f5+-0x2ab1*0x1,-0x1*0x1cf+-0x1*-0xe0a+-0xb87),new le()['setFromEul'+'erAngles'](0x22ec+-0x1475*-0x1+-0x3761*0x1,-0x175*-0x10+0x1c2e*-0x1+-0xe*-0x59,0x1cd2+0x1*-0xbd3+0x61*-0x2b)]),h(gr,'_spotCooki'+'eCamera',null);let Wn=gr;const vs=new D(),Or=new Float32Array(0x828+-0xa13*0x1+0x1f1*0x1),FE=new D(-(-0x1*-0x1f6+0x391+-0x587+0.5),-0x1084+0x447+0xc3d,0x13a7+0x2*0x45+-0x1431),NE=new D(-0x38*-0x59+-0x4f6+-0xe82,0x90c*0x4+-0x10cb*-0x1+0x89*-0x63,-0x1b2d+-0x56e+0x209b+0.5),at={'POSITION_RANGE':0x0,'DIRECTION_FLAGS':0x1,'COLOR_ANGLES_BIAS':0x2,'PROJ_MAT_0':0x3,'ATLAS_VIEWPORT':0x3,'PROJ_MAT_1':0x4,'PROJ_MAT_2':0x5,'PROJ_MAT_3':0x6,'AREA_DATA_WIDTH':0x7,'AREA_DATA_HEIGHT':0x8,'COUNT':0x9},kE={'LIGHTSHAPE_PUNCTUAL':Ys+'u','LIGHTSHAPE_RECT':Zy+'u','LIGHTSHAPE_DISK':Qy+'u','LIGHTSHAPE_SPHERE':Jy+'u','LIGHT_COLOR_DIVIDER':$c+'.0'},F_=(_0x6b0226,_0x4729de)=>Object['keys'](_0x6b0226)['map'](_0x943bc=>'#define\x20{'+_0x4729de+_0x943bc+'}\x20'+_0x6b0226[_0x943bc])['join']('\x0a'),N_='\x0a\x0a\x20\x20\x20\x20'+F_(at,'CLUSTER_TE'+'XTURE_')+'\x0a\x20\x20\x20\x20'+F_(kE,'')+'\x0a';class UE{constructor(_0xa94534){h(this,'areaLights'+'Enabled',!(0x579+-0xf4b+0x9d3)),(this['device']=_0xa94534,Pe['get'](_0xa94534,Fe)['set']('lightBuffe'+'rDefinesPS',N_),Pe['get'](_0xa94534,it)['set']('lightBuffe'+'rDefinesPS',N_),this['cookiesEna'+'bled']=!(-0x760*-0x3+0x2521+-0x3b40),this['shadowsEna'+'bled']=!(0x13f3*-0x1+-0x1672+0x2a66),this['areaLights'+'Enabled']=!(-0xa68+-0x23f2+-0x2e5b*-0x1),this['maxLights']=-0x1d2e+0x140c+0xa21*0x1);const _0x3a6344=at['COUNT'];this['lightsFloa'+'t']=new Float32Array((-0x68e+-0x17cc*-0x1+0x9*-0x1ea)*_0x3a6344*this['maxLights']),this['lightsUint']=new Uint32Array(this['lightsFloa'+'t']['buffer']),this['lightsText'+'ure']=this['createText'+'ure'](this['device'],_0x3a6344,this['maxLights'],Xt,'LightsText'+'ure'),this['_lightsTex'+'tureId']=this['device']['scope']['resolve']('lightsText'+'ure'),this['invMaxColo'+'rValue']=-0x500+0x31a+-0x1b*-0x12,this['invMaxAtte'+'nuation']=-0x1187*0x1+0xefd+0x28a,this['boundsMin']=new D(),this['boundsDelt'+'a']=new D();}['destroy'](){var _0x57bf1f;(_0x57bf1f=this['lightsText'+'ure'])==null||_0x57bf1f['destroy'](),this['lightsText'+'ure']=null;}['createText'+'ure'](_0xc54e37,_0x16267c,_0x4427da,_0x148adf,_0x35f1a4){return new _e(_0xc54e37,{'name':_0x35f1a4,'width':_0x16267c,'height':_0x4427da,'mipmaps':!(0x24b2+-0x6c4*-0x4+-0x3fc1),'format':_0x148adf,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1});}['setBounds'](_0x53ae6c,_0x3aa4f6){this['boundsMin']['copy'](_0x53ae6c),this['boundsDelt'+'a']['copy'](_0x3aa4f6);}['uploadText'+'ures'](){this['lightsText'+'ure']['lock']()['set'](this['lightsFloa'+'t']),this['lightsText'+'ure']['unlock']();}['updateUnif'+'orms'](){this['_lightsTex'+'tureId']['setValue'](this['lightsText'+'ure']);}['getSpotDir'+'ection'](_0x2f5c75,_0x2574f6){_0x2574f6['_node']['getWorldTr'+'ansform']()['getY'](_0x2f5c75)['mulScalar'](-(0xc50*-0x1+0x15c8+-0x977*0x1)),_0x2f5c75['normalize']();}['getLightAr'+'eaSizes'](_0x1b2aec){const _0x2c5a9b=_0x1b2aec['_node']['getWorldTr'+'ansform']();return _0x2c5a9b['transformV'+'ector'](FE,vs),Or[0x1244*0x1+-0x585+0xfb*-0xd]=vs['x'],Or[0x15fc+-0x509*-0x2+-0x200d]=vs['y'],Or[-0xfa5+-0x1f13+0x2eba]=vs['z'],_0x2c5a9b['transformV'+'ector'](NE,vs),Or[-0x32f*0x7+-0x1399+0x3cf*0xb]=vs['x'],Or[-0x650+-0x140e+0x1*0x1a62]=vs['y'],Or[-0xff3+-0x188d*-0x1+-0x895*0x1]=vs['z'],Or;}['addLightDa'+'ta'](_0x419715,_0x3d4921){const _0xc79e4e=_0x419715['_type']===Ze,_0x179399=_0x419715['atlasViewp'+'ortAllocat'+'ed'],_0x565341=this['cookiesEna'+'bled']&&!!_0x419715['_cookie']&&_0x179399,_0xa02ab2=this['areaLights'+'Enabled']&&_0x419715['shape']!==Ys,_0xfba262=this['shadowsEna'+'bled']&&_0x419715['castShadow'+'s']&&_0x179399,_0x3e46e7=_0x419715['_node']['getPositio'+'n']();let _0x431b69=null,_0xd2dcfe=null;_0xc79e4e?_0xfba262?_0x431b69=_0x419715['getRenderD'+'ata'](null,0x24a+-0x26f6+-0x1*-0x24ac)['shadowMatr'+'ix']:_0x565341&&(_0x431b69=Wn['evalSpotCo'+'okieMatrix'](_0x419715)):(_0xfba262||_0x565341)&&(_0xd2dcfe=_0x419715['atlasViewp'+'ort']);const _0x3f1708=this['lightsFloa'+'t'],_0x17481d=this['lightsUint'],_0x30eb48=_0x3d4921*this['lightsText'+'ure']['width']*(-0x3*0x6a7+-0x2284+0xd*0x431);_0x3f1708[_0x30eb48+(-0xb8d*0x1+-0x1023+-0x2*-0xdda)*at['POSITION_R'+'ANGE']+(0x762+-0x11*-0x1e3+-0x2775)]=_0x3e46e7['x'],_0x3f1708[_0x30eb48+(0x2606+0x217b*0x1+-0x1*0x477d)*at['POSITION_R'+'ANGE']+(0x26ee+0x1847+-0x1*0x3f34)]=_0x3e46e7['y'],_0x3f1708[_0x30eb48+(-0xc*0xff+-0x2399+0xb*0x453)*at['POSITION_R'+'ANGE']+(-0x949+0x1*0x1bf9+-0x12ae*0x1)]=_0x3e46e7['z'],_0x3f1708[_0x30eb48+(-0x22d4+-0x1255+-0x352d*-0x1)*at['POSITION_R'+'ANGE']+(-0x1*0x7c2+0x3*-0x317+-0x110a*-0x1)]=_0x419715['attenuatio'+'nEnd'];const _0x2d9965=_0x419715['clusteredD'+'ata'];if(_0x17481d[_0x30eb48+(-0x1*-0x220f+0x319+-0x949*0x4)*at['COLOR_ANGL'+'ES_BIAS']+(-0x1b5*0xb+0x17*-0xdf+0x26d0)]=_0x2d9965[-0x424*-0x2+0x133b+-0x1*0x1b83],_0x17481d[_0x30eb48+(0x1f21+0xb1+-0x1fce)*at['COLOR_ANGL'+'ES_BIAS']+(-0x1*0x1be5+0x9e2*-0x2+-0x1*-0x2faa)]=_0x2d9965[-0x1fad+0x110+-0x1e9e*-0x1],_0x17481d[_0x30eb48+(0x17d*-0xb+0x1*0xfc9+-0xb*-0xe)*at['COLOR_ANGL'+'ES_BIAS']+(-0x7bf+-0x1a24+0x21e5)]=_0x2d9965[0x977+-0x1b1*-0x7+-0x154c],_0x419715['castShadow'+'s']){const _0x23c655=_0x419715['getRenderD'+'ata'](null,0xf8b*-0x1+0xccb+0x2c0),_0x15692c=_0x419715['_getUnifor'+'mBiasValue'+'s'](_0x23c655),_0x4bb27=Mn['float2Half'](_0x15692c['bias']),_0x316a20=Mn['float2Half'](_0x15692c['normalBias']);_0x17481d[_0x30eb48+(0x19d4+-0x9f5+-0x29*0x63)*at['COLOR_ANGL'+'ES_BIAS']+(0xd36+-0x78d+0x1e2*-0x3)]=_0x4bb27|_0x316a20<<-0x1a6f+0x2*0x1187+0x7*-0x139;}if(_0xc79e4e&&(this['getSpotDir'+'ection'](vs,_0x419715),_0x3f1708[_0x30eb48+(0x3*-0x9d4+-0x3ed+0x216d)*at['DIRECTION_'+'FLAGS']+(0x5f*-0xa+-0x17e9+0x1b9f)]=vs['x'],_0x3f1708[_0x30eb48+(-0x1b*-0xba+0x109b+-0x12b*0x1f)*at['DIRECTION_'+'FLAGS']+(-0x22*0x122+-0x559*-0x1+-0x16*-0x182)]=vs['y'],_0x3f1708[_0x30eb48+(-0x1c*-0x116+0x2113+0x1*-0x3f77)*at['DIRECTION_'+'FLAGS']+(0xe7f+0x8d+-0xf0a)]=vs['z']),_0x17481d[_0x30eb48+(-0x1*-0xb5d+-0x2*0x1d2+0x1*-0x7b5)*at['DIRECTION_'+'FLAGS']+(0xd1+0x2dd*0x3+0xb9*-0xd)]=_0x419715['getCluster'+'edFlags'](_0xfba262,_0x565341),_0x431b69){const _0x532a58=_0x431b69['data'];for(let _0x374832=-0x17a5+0xb51+0xc54;_0x374832<-0x1ce+-0x23b2+0x2590;_0x374832++)_0x3f1708[_0x30eb48+(-0x1fa7+-0xded+0x2d98)*at['PROJ_MAT_0']+_0x374832]=_0x532a58[_0x374832];}if(_0xd2dcfe&&(_0x3f1708[_0x30eb48+(-0x2570+-0x173f*0x1+0x3cb3)*at['ATLAS_VIEW'+'PORT']+(0x2245*-0x1+0xa*0x22d+0xc83)]=_0xd2dcfe['x'],_0x3f1708[_0x30eb48+(0x1*0x1ebe+-0x1d14+-0x1a6)*at['ATLAS_VIEW'+'PORT']+(-0x213e+0x1*-0x1d7b+0x3eba)]=_0xd2dcfe['y'],_0x3f1708[_0x30eb48+(0x1763+-0x18a4*0x1+0x145)*at['ATLAS_VIEW'+'PORT']+(0x65b*0x2+-0xac*0x4+-0xa04)]=_0xd2dcfe['z']/(0x5*0xb9+0xec4+-0x2*0x92f)),_0xa02ab2){const _0x4a32e1=this['getLightAr'+'eaSizes'](_0x419715);_0x3f1708[_0x30eb48+(0x1*0x1c22+0x4bd*-0x1+-0x1761)*at['AREA_DATA_'+'WIDTH']+(0xf7a+0xb*0xec+0x199e*-0x1)]=_0x4a32e1[-0xb32*-0x1+0x2*0xeb5+-0x289c],_0x3f1708[_0x30eb48+(0x19a0*0x1+-0x1ff3+-0x1*-0x657)*at['AREA_DATA_'+'WIDTH']+(-0x373*-0xa+-0x32b*0x4+0x1*-0x15d1)]=_0x4a32e1[-0x12af+-0x1edb+0x318b],_0x3f1708[_0x30eb48+(-0x16*0x133+-0x212e+0x3e*0xf6)*at['AREA_DATA_'+'WIDTH']+(-0x5d4*0x4+0x2c9+0x1489)]=_0x4a32e1[0x1*0x20e1+0x12bf+-0x339e],_0x3f1708[_0x30eb48+(-0x1*0x9eb+-0x193e+0x1*0x232d)*at['AREA_DATA_'+'HEIGHT']+(-0x821+0x1c8*0x2+0x491*0x1)]=_0x4a32e1[0x1beb*-0x1+0x1493+0x75b],_0x3f1708[_0x30eb48+(0x52e*0x1+0x7*-0x496+-0x4*-0x6bc)*at['AREA_DATA_'+'HEIGHT']+(0x29*-0x61+-0x56*-0x2c+-0x1*-0xc2)]=_0x4a32e1[0xc12*-0x3+0x1ad0+-0x1e2*-0x5],_0x3f1708[_0x30eb48+(0x2ba+0x1057+-0x1*0x130d)*at['AREA_DATA_'+'HEIGHT']+(-0x186e+-0xd35*0x2+0x2*0x196d)]=_0x4a32e1[0x18c*-0x18+0x1*0xbb2+0x1973*0x1];}}}const ic=new D(),rc=new D(),ac=new D(),Yd=new De(),k_=0xd4f*-0x1+0xb39*-0x1+-0x4*-0xa22;class U_{constructor(){this['light']=null,this['min']=new D(),this['max']=new D();}}class cu{constructor(_0x1137f9){h(this,'clusterTex'+'ture'),(this['device']=_0x1137f9,this['name']='Untitled',this['reportCoun'+'t']=-0x25*-0xd9+0x6fb+-0xcc8*0x3,this['boundsMin']=new D(),this['boundsMax']=new D(),this['boundsDelt'+'a']=new D(),this['_cells']=new D(-0xc1*0xe+0x13eb*0x1+-0x257*0x4,0xd32+0x13f8+0xd*-0x28d,-0x1437+-0xf64*0x2+0x3300),this['_cellsLimi'+'t']=new D(),this['cells']=this['_cells'],this['maxCellLig'+'htCount']=0x12fa+0x1*-0x40f+-0xee7,this['_usedLight'+'s']=[],this['_usedLight'+'s']['push'](new U_()),this['lightsBuff'+'er']=new UE(_0x1137f9),this['registerUn'+'iforms'](_0x1137f9));}set['maxCellLig'+'htCount'](_0x25e9d3){_0x25e9d3!==this['_maxCellLi'+'ghtCount']&&(this['_maxCellLi'+'ghtCount']=_0x25e9d3,this['_cellsDirt'+'y']=!(-0x1*0x22d9+0x7f3+0x1ae6));}get['maxCellLig'+'htCount'](){return this['_maxCellLi'+'ghtCount'];}set['cells'](_0x27342c){ic['copy'](_0x27342c)['floor'](),this['_cells']['equals'](ic)||(this['_cells']['copy'](ic),this['_cellsLimi'+'t']['copy'](ic)['sub'](D['ONE']),this['_cellsDirt'+'y']=!(-0x9*0x178+0x256a+-0x146*0x13));}get['cells'](){return this['_cells'];}['destroy'](){this['lightsBuff'+'er']['destroy'](),this['releaseClu'+'sterTextur'+'e']();}['releaseClu'+'sterTextur'+'e'](){this['clusterTex'+'ture']&&(this['clusterTex'+'ture']['destroy'](),this['clusterTex'+'ture']=null);}['registerUn'+'iforms'](_0x5a9e45){this['_clusterSk'+'ipId']=_0x5a9e45['scope']['resolve']('clusterSki'+'p'),this['_clusterMa'+'xCellsId']=_0x5a9e45['scope']['resolve']('clusterMax'+'Cells'),this['_clusterWo'+'rldTexture'+'Id']=_0x5a9e45['scope']['resolve']('clusterWor'+'ldTexture'),this['_clusterTe'+'xtureSizeI'+'d']=_0x5a9e45['scope']['resolve']('clusterTex'+'tureSize'),this['_clusterTe'+'xtureSizeD'+'ata']=new Float32Array(0x4*-0x175+-0x1377*0x1+-0x52*-0x4f),this['_clusterBo'+'undsMinId']=_0x5a9e45['scope']['resolve']('clusterBou'+'ndsMin'),this['_clusterBo'+'undsMinDat'+'a']=new Float32Array(-0xa9*0x2d+0xd40+0x1078),this['_clusterBo'+'undsDeltaI'+'d']=_0x5a9e45['scope']['resolve']('clusterBou'+'ndsDelta'),this['_clusterBo'+'undsDeltaD'+'ata']=new Float32Array(0x1*0x621+0x2*-0x65+-0x554),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']=_0x5a9e45['scope']['resolve']('clusterCel'+'lsCountByB'+'oundsSize'),this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']=new Float32Array(-0x10be+0x1*0xb66+-0x3*-0x1c9),this['_clusterCe'+'llsDotId']=_0x5a9e45['scope']['resolve']('clusterCel'+'lsDot'),this['_clusterCe'+'llsDotData']=new Float32Array(0x18d8+0x2707*0x1+-0x1*0x3fdc),this['_clusterCe'+'llsMaxId']=_0x5a9e45['scope']['resolve']('clusterCel'+'lsMax'),this['_clusterCe'+'llsMaxData']=new Float32Array(-0x14f3+0x1*-0x181c+-0x1*-0x2d12);}['updatePara'+'ms'](_0x33e718){_0x33e718&&(this['cells']=_0x33e718['cells'],this['maxCellLig'+'htCount']=_0x33e718['maxLightsP'+'erCell'],this['lightsBuff'+'er']['cookiesEna'+'bled']=_0x33e718['cookiesEna'+'bled'],this['lightsBuff'+'er']['shadowsEna'+'bled']=_0x33e718['shadowsEna'+'bled'],this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x33e718['areaLights'+'Enabled']);}['updateCell'+'s'](){if(this['_cellsDirt'+'y']){this['_cellsDirt'+'y']=!(0xa75*-0x1+0x1227+0xb3*-0xb);const _0x2a054b=this['_cells']['x'],_0x406fc8=this['_cells']['y'],_0x2c00f7=this['_cells']['z'],_0x219e96=_0x2a054b*_0x406fc8*_0x2c00f7,_0xa7f197=this['maxCellLig'+'htCount']*_0x219e96;let _0x142dd0=Math['ceil'](Math['sqrt'](_0xa7f197));_0x142dd0=Y['roundUp'](_0x142dd0,this['maxCellLig'+'htCount']);const _0x5bb351=Math['ceil'](_0xa7f197/_0x142dd0);w['assert'](_0x142dd0<=k_&&_0x5bb351<=k_,'Clustered\x20'+'lights\x20par'+'ameters\x20ca'+'use\x20the\x20te'+'xture\x20size'+'\x20to\x20be\x20ove'+'r\x20the\x20limi'+'t,\x20please\x20'+'adjust\x20the'+'m.'),this['_clusterCe'+'llsMaxData'][-0x1a87*0x1+0x1e17+0x1*-0x390]=_0x2a054b,this['_clusterCe'+'llsMaxData'][-0x2*0xa03+-0x1bc3+-0x2*-0x17e5]=_0x406fc8,this['_clusterCe'+'llsMaxData'][0x23b2+0x2*0xa75+-0x389a]=_0x2c00f7,this['_clusterCe'+'llsDotData'][0x152c+-0x59*0x6d+0x10b9]=this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x67e+-0x703*0x2+-0x1*-0x1485]=_0x2a054b*_0x2c00f7*this['maxCellLig'+'htCount'],this['_clusterCe'+'llsDotData'][-0x3da*0x7+0x15d*-0xe+-0xf*-0x312]=_0x2a054b*this['maxCellLig'+'htCount'],this['clusters']=new Uint8ClampedArray(_0xa7f197),this['counts']=new Int32Array(_0x219e96),this['_clusterTe'+'xtureSizeD'+'ata'][0x178d+-0x26c2+0xe5*0x11]=_0x142dd0,this['_clusterTe'+'xtureSizeD'+'ata'][-0x21e2+0x54*-0x2b+0x2fff]=(0xf1*0xd+0x611+-0x1*0x124d)/_0x142dd0,this['_clusterTe'+'xtureSizeD'+'ata'][-0x14b*0x5+0x19*0x6a+-0x3e1]=(-0x2494+-0xd*0x215+-0x2*-0x1fd3)/_0x5bb351,this['releaseClu'+'sterTextur'+'e'](),this['clusterTex'+'ture']=this['lightsBuff'+'er']['createText'+'ure'](this['device'],_0x142dd0,_0x5bb351,Ep,'ClusterTex'+'ture');}}['uploadText'+'ures'](){this['clusterTex'+'ture']['lock']()['set'](this['clusters']),this['clusterTex'+'ture']['unlock'](),this['lightsBuff'+'er']['uploadText'+'ures']();}['updateUnif'+'orms'](){this['_clusterSk'+'ipId']['setValue'](this['_usedLight'+'s']['length']>-0x1f01*0x1+-0x14*-0xca+0xf3a?-0x2*-0x11ba+0x182c+0x48*-0xd4:-0x6ee*0x5+-0x1*0x130a+-0x35b1*-0x1),this['lightsBuff'+'er']['updateUnif'+'orms'](),this['_clusterWo'+'rldTexture'+'Id']['setValue'](this['clusterTex'+'ture']),this['_clusterMa'+'xCellsId']['setValue'](this['maxCellLig'+'htCount']);const _0x3ec06b=this['boundsDelt'+'a'];this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x2639+0x839+-0x1d*0x19a]=this['_cells']['x']/_0x3ec06b['x'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][-0x1967+0x2078+-0x710]=this['_cells']['y']/_0x3ec06b['y'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data'][0x2402*0x1+0x1d24+-0x4124]=this['_cells']['z']/_0x3ec06b['z'],this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Id']['setValue'](this['_clusterCe'+'llsCountBy'+'BoundsSize'+'Data']),this['_clusterBo'+'undsMinDat'+'a'][0x228e+0x1cec+0x1*-0x3f7a]=this['boundsMin']['x'],this['_clusterBo'+'undsMinDat'+'a'][0xb9a+-0x1646+0x3*0x38f]=this['boundsMin']['y'],this['_clusterBo'+'undsMinDat'+'a'][0x2578+0x9e3+0x2c9*-0x11]=this['boundsMin']['z'],this['_clusterBo'+'undsDeltaD'+'ata'][0x197*0x16+-0x216*-0x7+-0x3194]=_0x3ec06b['x'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x20fd+-0x66*-0x1b+0x163c]=_0x3ec06b['y'],this['_clusterBo'+'undsDeltaD'+'ata'][-0x2033*-0x1+0x18cc+-0x38fd]=_0x3ec06b['z'],this['_clusterTe'+'xtureSizeI'+'d']['setValue'](this['_clusterTe'+'xtureSizeD'+'ata']),this['_clusterBo'+'undsMinId']['setValue'](this['_clusterBo'+'undsMinDat'+'a']),this['_clusterBo'+'undsDeltaI'+'d']['setValue'](this['_clusterBo'+'undsDeltaD'+'ata']),this['_clusterCe'+'llsDotId']['setValue'](this['_clusterCe'+'llsDotData']),this['_clusterCe'+'llsMaxId']['setValue'](this['_clusterCe'+'llsMaxData']);}['evalLightC'+'ellMinMax'](_0x3e0a64,_0x4ec098,_0x46143f){_0x4ec098['copy'](_0x3e0a64['min']),_0x4ec098['sub'](this['boundsMin']),_0x4ec098['div'](this['boundsDelt'+'a']),_0x4ec098['mul2'](_0x4ec098,this['cells']),_0x4ec098['floor'](),_0x46143f['copy'](_0x3e0a64['max']),_0x46143f['sub'](this['boundsMin']),_0x46143f['div'](this['boundsDelt'+'a']),_0x46143f['mul2'](_0x46143f,this['cells']),_0x46143f['ceil'](),_0x4ec098['max'](D['ZERO']),_0x46143f['min'](this['_cellsLimi'+'t']);}['collectLig'+'hts'](_0x13828a){const _0x1916f2=this['lightsBuff'+'er']['maxLights'],_0x2ec94e=this['_usedLight'+'s'];let _0x41127f=0x1e63+-0x14e*0x1+0x2*-0xe8a;_0x13828a['forEach'](_0x81237f=>{const _0x2691b9=!!(_0x81237f['mask']&(Ss|di)),_0x454a97=_0x81237f['type']===Ze&&_0x81237f['_outerCone'+'Angle']===-0xfa4+-0x19*-0x2b+0xb71;if(_0x81237f['enabled']&&_0x81237f['type']!==ve&&_0x81237f['visibleThi'+'sFrame']&&_0x81237f['intensity']>-0x2e*-0x7f+0xcfa*-0x1+-0x9d8&&_0x2691b9&&!_0x454a97){if(_0x41127f<_0x1916f2){let _0x39ef99;_0x41127f<_0x2ec94e['length']?_0x39ef99=_0x2ec94e[_0x41127f]:(_0x39ef99=new U_(),_0x2ec94e['push'](_0x39ef99)),_0x39ef99['light']=_0x81237f,_0x81237f['getBoundin'+'gBox'](Yd),_0x39ef99['min']['copy'](Yd['getMin']()),_0x39ef99['max']['copy'](Yd['getMax']()),_0x41127f++;}else w['warnOnce']('Clustered\x20'+'lighting:\x20'+'more\x20than\x20'+(_0x1916f2-(-0x5f3+0x791*0x4+-0x1850))+('\x20lights\x20in'+'\x20the\x20frame'+',\x20ignoring'+'\x20some.'));}}),_0x2ec94e['length']=_0x41127f;}['evaluateBo'+'unds'](){const _0x5112bd=this['_usedLight'+'s'],_0xbcc2ae=this['boundsMin'],_0x2509f1=this['boundsMax'];if(_0x5112bd['length']>-0x5*0x351+-0x1d43+0x2dd9){_0xbcc2ae['copy'](_0x5112bd[-0x51a+-0x21*0x103+0x267e]['min']),_0x2509f1['copy'](_0x5112bd[-0x575*0x3+-0x33*0xb+0x1291]['max']);for(let _0x24ccf6=0x2112+0x2042+-0x4152;_0x24ccf6<_0x5112bd['length'];_0x24ccf6++)_0xbcc2ae['min'](_0x5112bd[_0x24ccf6]['min']),_0x2509f1['max'](_0x5112bd[_0x24ccf6]['max']);}else _0xbcc2ae['set'](0x1515+-0x2*0xa36+-0xa9,0x1f84+0x17*-0x2f+-0x1b4b,-0x1681+0x2235+0x4*-0x2ed),_0x2509f1['set'](-0x1ad8+0xe7e+-0xc5b*-0x1,0x1c3f+0x2c8+-0x1f06,-0x1*-0x254b+-0x1*0x190b+-0xc3f);this['boundsDelt'+'a']['sub2'](_0x2509f1,_0xbcc2ae),this['lightsBuff'+'er']['setBounds'](_0xbcc2ae,this['boundsDelt'+'a']);}['updateClus'+'ters'](_0x460e81){this['counts']['fill'](-0x1891+-0x1*-0x12bc+-0x1*-0x5d5),this['clusters']['fill'](0x11*-0xa6+-0x5*-0x1d7+0x1d3*0x1),this['lightsBuff'+'er']['areaLights'+'Enabled']=_0x460e81?_0x460e81['areaLights'+'Enabled']:!(-0x5*-0x500+0xb85+-0x2484);const _0x3551c5=this['_cells']['x'],_0x4062d1=this['_cells']['z'],_0x4b0bfc=this['counts'],_0x390cab=this['_maxCellLi'+'ghtCount'],_0x4b5123=this['clusters'],_0x48a9ca=this['maxCellLig'+'htCount'];let _0x2c277e=!(-0x2419+0x202a*0x1+0x3f0);const _0x49b51b=this['_usedLight'+'s'];for(let _0x146cba=0x2f*0x33+0x1*0x180b+0x1*-0x2167;_0x146cba<_0x49b51b['length'];_0x146cba++){const _0x345a77=_0x49b51b[_0x146cba],_0x1941fa=_0x345a77['light'];this['lightsBuff'+'er']['addLightDa'+'ta'](_0x1941fa,_0x146cba),this['evalLightC'+'ellMinMax'](_0x345a77,rc,ac);const _0x203742=rc['x'],_0x2e5044=ac['x'],_0x405a96=rc['y'],_0x3adba2=ac['y'],_0x29b8d9=rc['z'],_0x36e49c=ac['z'];for(let _0x2f968e=_0x203742;_0x2f968e<=_0x2e5044;_0x2f968e++)for(let _0x11f25a=_0x29b8d9;_0x11f25a<=_0x36e49c;_0x11f25a++)for(let _0x34c3d0=_0x405a96;_0x34c3d0<=_0x3adba2;_0x34c3d0++){const _0x24f182=_0x2f968e+_0x3551c5*(_0x11f25a+_0x34c3d0*_0x4062d1),_0x417672=_0x4b0bfc[_0x24f182];_0x417672<_0x390cab?(_0x4b5123[_0x48a9ca*_0x24f182+_0x417672]=_0x146cba,_0x4b0bfc[_0x24f182]=_0x417672+(-0xe4*-0xe+0x20e2+-0x2d59)):_0x2c277e=!(0xb6a+-0x17*-0x1e+-0xe1c);}}_0x2c277e&&this['reportCoun'+'t']<-0x218e+0xe70*-0x1+0x3003&&(console['warn']('Too\x20many\x20l'+'ights\x20in\x20l'+'ight\x20clust'+'er\x20'+this['name']+(',\x20please\x20a'+'djust\x20para'+'meters.')+(this['reportCoun'+'t']===0x769*-0x3+0x14*0x109+0x18b?'\x20Giving\x20up'+'\x20on\x20report'+'ing\x20it.':'')),this['reportCoun'+'t']++);}['update'](_0x3f3e1d,_0x4d0cb3=null){this['updatePara'+'ms'](_0x4d0cb3),this['updateCell'+'s'](),this['collectLig'+'hts'](_0x3f3e1d),this['evaluateBo'+'unds'](),this['updateClus'+'ters'](_0x4d0cb3),this['uploadText'+'ures']();}['activate'](){this['updateUnif'+'orms']();}}const B_=-0x2081*0x1+-0xf2*0x1a+-0x18b*-0x25+0.39996322972865306,Nl={'circlePoint'(_0x48c935){const _0x41458c=Math['sqrt'](Math['random']()),_0x1efb34=Math['random']()*(0x2427+0x1a9*-0xf+-0xb3e)*Math['PI'];_0x48c935['x']=_0x41458c*Math['cos'](_0x1efb34),_0x48c935['y']=_0x41458c*Math['sin'](_0x1efb34);},'circlePointDeterministic'(_0x26a36c,_0x3cd4e6,_0x4562a5){const _0x246765=_0x3cd4e6*B_,_0x12de0f=Math['sqrt'](_0x3cd4e6)/Math['sqrt'](_0x4562a5);_0x26a36c['x']=_0x12de0f*Math['cos'](_0x246765),_0x26a36c['y']=_0x12de0f*Math['sin'](_0x246765);},'spherePointDeterministic'(_0x46db6a,_0x4d2e01,_0x67a678,_0x28b407=-0x41e+-0x20*-0xc7+0x14c2*-0x1,_0x12e1a4=-0xf2*-0x20+-0x21e0+0x1*0x3a1){_0x28b407=0xfb*0x27+-0x12ce*0x2+0x14*-0x8-(-0xa71+-0xa*-0x1fd+-0x1e3*0x5)*_0x28b407,_0x12e1a4=-0x3*-0x65f+0x310+-0x2c*0x81-(0x1a86+0x18e+0xe09*-0x2)*_0x12e1a4;const _0x52b15f=Y['lerp'](_0x28b407,_0x12e1a4,_0x4d2e01/_0x67a678),_0x573651=Math['sqrt'](-0x1*0xf14+0x39*-0x5b+0x3a*0x9c-_0x52b15f*_0x52b15f),_0x396b36=B_*_0x4d2e01;_0x46db6a['x']=Math['cos'](_0x396b36)*_0x573651,_0x46db6a['y']=_0x52b15f,_0x46db6a['z']=Math['sin'](_0x396b36)*_0x573651;},'radicalInverse'(_0x3a7b81){let _0x4d0e36=(_0x3a7b81<<-0x22c7+0x131e+0xfb9|_0x3a7b81>>>-0x901+0x5e0+0x331)>>>-0xd4c+-0x2b3*-0x2+0x7e6;return _0x4d0e36=((_0x4d0e36&0x483001a3+0x531dd8a*0x4+0xaa81*-0xb76)<<0x706+-0x1d9f+0x16*0x107|(_0x4d0e36&-0x62d4d*-0xa87+0x9*-0x190ee9ba+0x14b29fc99)>>>-0x4f1+-0xe91+0x1383)>>>0x23c1+-0x1604*0x1+-0xdbd,_0x4d0e36=((_0x4d0e36&0x7*0x481a6ff+-0xd9e996e+-0x7c74*-0x4472)<<-0x197c+0x1764+0x21a*0x1|(_0x4d0e36&-0x1*-0xb521f66c+0x6c5880b0+-0x54adaa50)>>>0x3d6+0xc7*0x1a+0x180a*-0x1)>>>-0x17*0x1b+-0x1*-0x34f+-0xe2*0x1,_0x4d0e36=((_0x4d0e36&-0x1d079acb+-0x19f71639+0x460dc013)<<-0x1d80+-0x75c*0x2+0x2c3c|(_0x4d0e36&0x7673fb52+-0x1*-0x46d2c00f+0x2f*0x11968a1)>>>-0x2469+-0x82+0x24ef)>>>-0x2cd+-0x4*0x1ac+0x97d,_0x4d0e36=((_0x4d0e36&0x1f94bbc+-0x362b*0x792+-0x11c0c1*-0x9)<<0x2057+0x3*-0x2c+-0x1fcb|(_0x4d0e36&0x141a954*0x33+0x56abf9*0x3a9+-0x7e4f2f1d)>>>0x4*0x7f9+0x19ad+-0x8f*0x67)>>>-0x593+0x36d*-0x9+-0x748*-0x5,_0x4d0e36*(0xae3+0x461+0xf44*-0x1+2.3283064365386963e-10);}},BE={'linear':'decodeLine'+'ar','srgb':'decodeGamm'+'a','rgbm':'decodeRGBM','rgbe':'decodeRGBE','rgbp':'decodeRGBP','xy':'unpackNorm'+'alXY','xyz':'unpackNorm'+'alXYZ'},zE={'linear':'encodeLine'+'ar','srgb':'encodeGamm'+'a','rgbm':'encodeRGBM','rgbe':'encodeRGBE','rgbp':'encodeRGBP'};class Tr{static['decodeFunc'](_0x359942){return BE[_0x359942]??'decodeGamm'+'a';}static['encodeFunc'](_0x480a39){return zE[_0x480a39]??'encodeGamm'+'a';}}const z_=_0x180eff=>{switch(_0x180eff){case tu:return'Cubemap';case Gx:return'Octahedral';default:return'Equirect';}},nc=(_0x383665,_0x1b7389,_0x2303e8)=>{if(_0x383665<=0xace*0x1+0x2370+-0x2e3e)_0x1b7389[_0x2303e8+(0x114b+0x195e+-0x2aa9)]=0x23ac+0x23ce*-0x1+0x22,_0x1b7389[_0x2303e8+(0x1*-0x261+0x2205+-0x1fa3)]=0x1ff9*0x1+-0x214+-0x1de5,_0x1b7389[_0x2303e8+(-0x130*0x12+0x1c1e+0x35e*-0x2)]=0x114*0x1b+-0x88c*0x2+0xc04*-0x1,_0x1b7389[_0x2303e8+(-0xc08+-0x1173+0x1d7e)]=-0x40*0xf+-0x65a+0xa1a;else{if(_0x383665>=0x11b+-0x1*-0x215f+0x5*-0x6e5)_0x1b7389[_0x2303e8+(0x2a9+-0x8d5*-0x1+-0xb7e)]=-0xdfc+-0x1402+0x22fd,_0x1b7389[_0x2303e8+(0x17e9+0x91*0x8+0x10*-0x1c7)]=-0xb*0xf2+0x2*0x20c+0x21a*0x3,_0x1b7389[_0x2303e8+(-0x45*-0x3+-0x841+0x3*0x27c)]=-0x21f2+-0x989*-0x4+-0x432,_0x1b7389[_0x2303e8+(0x1441*0x1+0x1320+-0x275e)]=-0x31*0x2c+0x1d*0x4c+0x18*-0x2;else{let _0x22fc95=(-0x931+-0xf9*-0x21+-0x16e7)*_0x383665%(0xea3*-0x2+-0x1561*-0x1+0x1*0x7e6),_0x297a15=(-0x1*-0x9cd+0x9*0x2b3+0x25*-0xe5)*_0x383665%(-0x1df*-0x4+-0x1a*-0x94+0x11*-0x153),_0x59fba9=(-0x1bd37+-0x81d1+0x766f*0x7)*_0x383665%(-0x1*-0x1f7f+-0x183+-0x1dfb);const _0x2c2988=(0xa147*0x8c+-0x1e35503+0x288252e)*_0x383665%(-0x12bb+-0xce*0x29+0x33ba*0x1);_0x22fc95-=_0x297a15/(-0x59c+-0x4*-0x757+-0x16c1),_0x297a15-=_0x59fba9/(-0x903*-0x2+-0x1170+-0x69*-0x1),_0x59fba9-=_0x2c2988/(-0xf90+-0xd1b+0x1daa),_0x1b7389[_0x2303e8+(-0xb54*-0x2+0x16*-0x5f+0x35*-0x46)]=Math['min'](0x60e+0xc2f+-0x113e,Math['floor'](_0x22fc95*(-0x47+0x2586+0x243f*-0x1))),_0x1b7389[_0x2303e8+(-0x1c2f+0x2*-0xcad+0x358a)]=Math['min'](0x267+-0x883*-0x1+0x1*-0x9eb,Math['floor'](_0x297a15*(0xa*0x18b+-0xf83*0x1+-0x1*-0x115))),_0x1b7389[_0x2303e8+(-0x2*0x9b6+-0x7eb*0x1+0x1b59)]=Math['min'](0x21fc+-0x1374+-0xd89,Math['floor'](_0x59fba9*(0x340+-0x28+-0x218))),_0x1b7389[_0x2303e8+(0x253f+0xca*-0xc+-0xde2*0x2)]=Math['min'](-0x1b*0xfd+0x2446+-0x898,Math['floor'](_0x2c2988*(-0x1*-0x51b+0x5*-0x748+0x204d)));}}},VE=_0x327b58=>{const _0xa2971c=_0x327b58['length'],_0x7aa11d=Math['min'](_0xa2971c,0x1ece+0x8d*0x43+0x74d*-0x9),_0x45a143=Math['ceil'](_0xa2971c/_0x7aa11d),_0x2fb2fb=new Uint8Array(_0x7aa11d*_0x45a143*(0x2267*-0x1+-0xd46+0x2fb1));let _0x128ea6=-0x30*-0x28+-0xe5*-0x1b+-0x1fa7;for(let _0x3d69c0=0x19d4+-0x14c3+0x1*-0x511;_0x3d69c0<_0xa2971c;_0x3d69c0+=-0x652*-0x1+-0x25aa+-0x1*-0x1f5c)nc(_0x327b58[_0x3d69c0+(-0x8*-0x3f5+-0x1581+-0x1*0xa27)]*(-0x508+-0x5*-0x12b+-0x45*0x3+0.5)+(-0x23e4+0x9d3*-0x3+0x415d*0x1+0.5),_0x2fb2fb,_0x128ea6+(0x1*0x55d+-0x182b*0x1+0x12ce*0x1)),nc(_0x327b58[_0x3d69c0+(0xfc2*-0x1+-0x111e+0x20e1)]*(0x603+0x5*-0x109+-0xd6+0.5)+(-0x8cb*0x1+-0x5*0x61f+0x2766+0.5),_0x2fb2fb,_0x128ea6+(-0x22d*0xb+0x1704+0xef)),nc(_0x327b58[_0x3d69c0+(-0x153d+-0x19f9+-0x2*-0x179c)]*(0x1788+-0x1de9*-0x1+-0x3571+0.5)+(-0x814+-0x35f*0x9+-0x5*-0x7af+0.5),_0x2fb2fb,_0x128ea6+(0x1*0x795+-0x1ef4+0x1767)),nc(_0x327b58[_0x3d69c0+(0x14dd+-0x13fb+-0x1*0xdf)]/(-0x481*0x3+-0x1c0d+0x2998),_0x2fb2fb,_0x128ea6+(-0x2cc+-0xd3*-0x15+0x211*-0x7)),_0x128ea6+=0xdde+0x1e71+-0x2c3f;return{'width':_0x7aa11d,'height':_0x45a143,'data':_0x2fb2fb};},GE=(_0x59f330,_0x1a9ecc,_0x13f2a0,_0x8443d8)=>{const _0x59109d=_0x13f2a0*(-0x18e5*-0x1+0x3d6+-0x1cb9)*Math['PI'],_0x1d7a39=Math['pow'](-0x3e3+0x1fad+-0x1bc9-_0x1a9ecc,(-0xee0+0x8*-0x4c3+0x34f9)/(_0x8443d8+(-0x61*-0x4a+-0xdad+-0x397*0x4))),_0x1400d3=Math['sqrt'](-0x9*0x161+-0x1556+-0x3c*-0x90-_0x1d7a39*_0x1d7a39);_0x59f330['set'](Math['cos'](_0x59109d)*_0x1400d3,Math['sin'](_0x59109d)*_0x1400d3,_0x1d7a39)['normalize']();},HE=(_0x2eb947,_0x41398b,_0x2bbe94)=>{const _0x1bab6b=_0x2bbe94*(0x14d1+-0x1*0x13b8+-0x117)*Math['PI'],_0x3867c2=Math['sqrt'](0x17c6+-0xc5*-0x7+-0x3*0x9b8-_0x41398b),_0x49fc3b=Math['sqrt'](_0x41398b);_0x2eb947['set'](Math['cos'](_0x1bab6b)*_0x49fc3b,Math['sin'](_0x1bab6b)*_0x49fc3b,_0x3867c2)['normalize']();},WE=(_0x403cba,_0x1298b8,_0x2c274b,_0x12b7fd)=>{const _0x5041f8=_0x2c274b*(-0x61d+0x48f*-0x4+0x185b)*Math['PI'],_0x368d62=Math['sqrt']((-0x1*-0x26ad+0x1*0x248e+0x259d*-0x2-_0x1298b8)/(0x1dcd+-0x6a+-0x1*0x1d62+(_0x12b7fd*_0x12b7fd-(0x8*0x4ca+0x1033+-0x3682))*_0x1298b8)),_0x431ee0=Math['sqrt'](-0x3b*-0x83+0x22b0+-0x40e0-_0x368d62*_0x368d62);_0x403cba['set'](Math['cos'](_0x5041f8)*_0x431ee0,Math['sin'](_0x5041f8)*_0x431ee0,_0x368d62)['normalize']();},$E=(_0x59b8e5,_0x28329a)=>{const _0x1c996a=_0x59b8e5*_0x28329a,_0x57501b=_0x28329a/(0xe7c+-0x3b7+-0x2*0x562-_0x59b8e5*_0x59b8e5+_0x1c996a*_0x1c996a);return _0x57501b*_0x57501b*((-0x1*0x10d4+-0x236f+0x3444)/Math['PI']);},XE=(_0x49ee02,_0x166b37)=>{const _0x1216dd=new D(),_0x298c00=[];for(let _0x3ad61b=-0x2bc+-0x14e1+0x179d;_0x3ad61b<_0x49ee02;++_0x3ad61b)GE(_0x1216dd,_0x3ad61b/_0x49ee02,Nl['radicalInv'+'erse'](_0x3ad61b),_0x166b37),_0x298c00['push'](_0x1216dd['x'],_0x1216dd['y'],_0x1216dd['z'],0x149a+0x1a21*0x1+-0x2ebb);return _0x298c00;},qE=(_0x3f5221,_0x2860a1)=>{const _0xf6b80b=_0x2860a1/_0x3f5221,_0x4b9828=new D(),_0x1ce2d3=[];for(let _0x4752a0=0x11*-0xad+0x27a*-0x5+0x17df;_0x4752a0<_0x3f5221;++_0x4752a0){HE(_0x4b9828,_0x4752a0/_0x3f5221,Nl['radicalInv'+'erse'](_0x4752a0));const _0x43ccc3=_0x4b9828['z']/Math['PI'],_0x24cf49=(0x1e62+0x2*0x89d+-0x2f9c+0.5)*Math['log2'](_0xf6b80b/_0x43ccc3);_0x1ce2d3['push'](_0x4b9828['x'],_0x4b9828['y'],_0x4b9828['z'],_0x24cf49);}return _0x1ce2d3;},jE={0x10:{0x2:0x1a,0x8:0x14,0x20:0x11,0x80:0x10,0x200:0x10},0x20:{0x2:0x35,0x8:0x28,0x20:0x22,0x80:0x20,0x200:0x20},0x80:{0x2:0xd6,0x8:0xa3,0x20:0x8b,0x80:0x82,0x200:0x80},0x400:{0x2:0x6ba,0x8:0x51e,0x20:0x45a,0x80:0x411,0x200:0x401}},YE=(_0xfcfb25,_0x20a7de)=>{const _0xe255eb=jE[_0xfcfb25];return _0xe255eb&&_0xe255eb[_0x20a7de]||_0xfcfb25;},KE=(_0x552212,_0xf449c5,_0x27a03a)=>{const _0x4b9eb6=_0x27a03a/_0x552212,_0x584704=-0x17fd*-0x1+-0x1e3b*0x1+0x63f-Math['log2'](_0xf449c5)/(-0x33d*0x9+0x16f7+0x1*0x639),_0x43dcae=_0x584704*_0x584704,_0x2e3c58=new D(),_0x43916e=new D(),_0xcc2976=new D(-0x1e69+0x189e+0x5cb,-0x67a*-0x1+0x7*0x179+-0x10c9,-0x249e+0xbf3+0xc56*0x2),_0x3ab851=[],_0x20d720=YE(_0x552212,_0xf449c5);for(let _0x3d79b2=0x2441+-0x5*0x54b+0xe*-0xb3;_0x3d79b2<_0x20d720;++_0x3d79b2){WE(_0x2e3c58,_0x3d79b2/_0x20d720,Nl['radicalInv'+'erse'](_0x3d79b2),_0x43dcae);const _0x5ad8bf=_0x2e3c58['z'];if(_0x43916e['set'](_0x2e3c58['x'],_0x2e3c58['y'],_0x2e3c58['z'])['mulScalar']((0x1b*0x158+-0x11e1+0x1265*-0x1)*_0x5ad8bf)['sub'](_0xcc2976),_0x43916e['z']>0x7*-0x157+0xa09+-0xa8){const _0x5dbff1=$E(Math['min'](-0x25b3+-0x1*0x1ef7+0x44ab*0x1,_0x5ad8bf),_0x43dcae)/(0xc3b+-0x1f26*-0x1+-0x2b5d)+(-0x5d4*0x4+0x1*-0x971+0x20c1+0.001),_0x27edab=(-0x1*0x200d+-0x6b*0x8+-0x29*-0xdd+0.5)*Math['log2'](_0x4b9eb6/_0x5dbff1);_0x3ab851['push'](_0x43916e['x'],_0x43916e['y'],_0x43916e['z'],_0x27edab);}}for(;_0x3ab851['length']<_0x552212*(0x1ee0+0x443+-0x231f);)_0x3ab851['push'](-0xbdb+0x1ff6+0x1*-0x141b,0x526+0xc8+-0x16*0x45,0x1*0x8b+-0x5f2*-0x4+-0x1*0x1853,-0xa8f+0x324+0x76b);return _0x3ab851;},ZE=(_0x24fd2f,_0x4ae657,_0x59f5ee)=>{const _0x161da6=VE(_0x59f5ee);return new _e(_0x24fd2f,{'name':_0x4ae657,'width':_0x161da6['width'],'height':_0x161da6['height'],'mipmaps':!(-0x1*-0x23d8+0x79*-0x15+-0x19ea),'minFilter':Te,'magFilter':Te,'levels':[_0x161da6['data']]});};class xv{constructor(_0x38ba64=!(-0x644*0x2+-0x1ec7+0x2b4f)){h(this,'map',new Map()),this['destroyCon'+'tent']=_0x38ba64;}['destroy'](){this['destroyCon'+'tent']&&this['map']['forEach']((_0x441095,_0x173922)=>{_0x441095['destroy']();});}['get'](_0x2188a2,_0x2c739f){if(!this['map']['has'](_0x2188a2)){const _0x38c6b9=_0x2c739f();return this['map']['set'](_0x2188a2,_0x38c6b9),_0x38c6b9;}return this['map']['get'](_0x2188a2);}}const QE=new xv(!(0x1616+-0x12d5+-0x340)),JE=new Kt(),dm=(_0xc02cfd,_0x16dcf9,_0x276bf3)=>JE['get'](_0xc02cfd,()=>new xv())['get'](_0x16dcf9,()=>ZE(_0xc02cfd,_0x16dcf9,QE['get'](_0x16dcf9,_0x276bf3))),eb=(_0x54cee4,_0x34fdb5,_0x14cba0)=>{const _0x17eefc='lambert-sa'+'mples-'+_0x34fdb5+'-'+_0x14cba0;return dm(_0x54cee4,_0x17eefc,()=>qE(_0x34fdb5,_0x14cba0));},tb=(_0x3efa3e,_0x44024e,_0x2cbb00)=>{const _0xafe9eb='phong-samp'+'les-'+_0x44024e+'-'+_0x2cbb00;return dm(_0x3efa3e,_0xafe9eb,()=>XE(_0x44024e,_0x2cbb00));},sb=(_0x3d2d98,_0x3c9470,_0x164c8f,_0x2bdaab)=>{const _0x25e7ce='ggx-sample'+'s-'+_0x3c9470+'-'+_0x164c8f+'-'+_0x2bdaab;return dm(_0x3d2d98,_0x25e7ce,()=>KE(_0x3c9470,_0x164c8f,_0x2bdaab));};function vi(_0x462225,_0x293293,_0x2a640a={}){var _0x47bacc,_0x1090b7;w['assert'](_0x462225 instanceof _e&&_0x293293 instanceof _e,'source\x20and'+'\x20target\x20mu'+'st\x20be\x20text'+'ures');const _0x3aba8c=_0x2a640a['seamPixels']??0x1ce8+0x3*-0xfd+-0x1*0x19f1,_0x185650=(((_0x47bacc=_0x2a640a['rect'])==null?void(0x19b5+0x29a+-0x1c4f):_0x47bacc['z'])??_0x293293['width'])-_0x3aba8c*(-0x1*-0x12af+0x5c+-0x1309),_0x5a02ff=(((_0x1090b7=_0x2a640a['rect'])==null?void(0x26fc+0x271*0x1+0x1*-0x296d):_0x1090b7['w'])??_0x293293['height'])-_0x3aba8c*(0x1f52+0xffa+-0x2f4a);if(_0x185650<0x1eae+0x16be+0x1*-0x356b||_0x5a02ff<-0x16e1*0x1+-0x2e*0x1f+0x1c74)return!(-0x313*0x5+0x8c*-0x1b+-0xc*-0x283);const _0x582028={'none':'reproject','lambert':'prefilterS'+'amplesUnwe'+'ighted','phong':'prefilterS'+'amplesUnwe'+'ighted','ggx':'prefilterS'+'amples'},_0x9f4a2d=_0x2a640a['hasOwnProp'+'erty']('specularPo'+'wer')?_0x2a640a['specularPo'+'wer']:-0x2688+-0x1*0x24bf+0x4b48,_0x168065=_0x2a640a['hasOwnProp'+'erty']('face')?_0x2a640a['face']:null,_0x40a0cd=_0x2a640a['hasOwnProp'+'erty']('distributi'+'on')?_0x2a640a['distributi'+'on']:_0x9f4a2d===-0x13aa+0x756+0xb*0x11f?'none':'phong',_0x44a29a=_0x582028[_0x40a0cd]||'reproject',_0xe3dd0e=_0x44a29a['startsWith']('prefilterS'+'amples'),_0x33f6d9=Tr['decodeFunc'](_0x462225['encoding']),_0x86c1ff=Tr['encodeFunc'](_0x293293['encoding']),_0x24c35a='sample'+z_(_0x462225['projection']),_0xf8fab='getDirecti'+'on'+z_(_0x293293['projection']),_0x48ae47=_0x2a640a['hasOwnProp'+'erty']('numSamples')?_0x2a640a['numSamples']:-0x460*0x2+0x2191+-0x1*0x14d1,_0x4fd033='ReprojectS'+'hader:'+_0x44a29a+'_'+_0x33f6d9+'_'+_0x86c1ff+'_'+_0x24c35a+'_'+_0xf8fab+'_'+_0x48ae47,_0x38f312=_0x462225['device'];let _0x4748fe=Hn(_0x38f312)['getCachedS'+'hader'](_0x4fd033);if(!_0x4748fe){const _0x4a12de=new Map();_0xe3dd0e&&_0x4a12de['set']('USE_SAMPLE'+'S_TEX',''),_0x462225['cubemap']&&_0x4a12de['set']('CUBEMAP_SO'+'URCE',''),_0x4a12de['set']('{PROCESS_F'+'UNC}',_0x44a29a),_0x4a12de['set']('{DECODE_FU'+'NC}',_0x33f6d9),_0x4a12de['set']('{ENCODE_FU'+'NC}',_0x86c1ff),_0x4a12de['set']('{SOURCE_FU'+'NC}',_0x24c35a),_0x4a12de['set']('{TARGET_FU'+'NC}',_0xf8fab),_0x4a12de['set']('{NUM_SAMPL'+'ES}',_0x48ae47),_0x4a12de['set']('{NUM_SAMPL'+'ES_SQRT}',Math['round'](Math['sqrt'](_0x48ae47))['toFixed'](0x7a2+-0x16a*-0x11+-0x1fab*0x1));const _0x1f98eb=_0x38f312['isWebGPU'],_0x3e5745=Pe['get'](_0x38f312,_0x1f98eb?it:Fe),_0x20459f=new Map();_0x20459f['set']('decodePS',_0x3e5745['get']('decodePS')),_0x20459f['set']('encodePS',_0x3e5745['get']('encodePS')),_0x4748fe=$t['createShad'+'er'](_0x38f312,{'uniqueName':_0x4fd033,'attributes':{'vertex_position':Me},'vertexChunk':'reprojectV'+'S','fragmentChunk':'reprojectP'+'S','fragmentIncludes':_0x20459f,'fragmentDefines':_0x4a12de});}Q['pushGpuMar'+'ker'](_0x38f312,'ReprojectT'+'exture'),_0x38f312['setBlendSt'+'ate'](pt['NOBLEND']);const _0x5befca=_0x38f312['scope']['resolve'](_0x462225['cubemap']?'sourceCube':'sourceTex');w['assert'](_0x5befca),_0x5befca['setValue'](_0x462225);const _0x17076c=_0x38f312['scope']['resolve']('params'),_0x53cb2b=_0x38f312['scope']['resolve']('uvMod');_0x3aba8c>-0x331*-0x8+0x280+0x228*-0xd?_0x53cb2b['setValue']([(_0x185650+_0x3aba8c*(-0x2*0x1285+0x2379+0x1f*0xd))/_0x185650,(_0x5a02ff+_0x3aba8c*(0xb09+-0x2174+0x166d))/_0x5a02ff,-_0x3aba8c/_0x185650,-_0x3aba8c/_0x5a02ff]):_0x53cb2b['setValue']([-0x1*0x119b+-0x22*0x5c+0x1dd4,-0x93a*0x1+0x87b+-0x40*-0x3,0x2357+-0x772*0x4+-0x1*0x58f,-0xf4*0xc+0x769+0x407]);const _0x119254=[0x6c0+-0xb*-0x15c+-0x1*0x15b4,_0x293293['width']*_0x293293['height']*(_0x293293['cubemap']?-0x24d3*0x1+-0x1014+-0x31d*-0x11:-0x21*0xf8+0x67e+0x197b),_0x462225['width']*_0x462225['height']*(_0x462225['cubemap']?0x1*-0x1f91+0x23ed*0x1+-0x6f*0xa:-0x1*-0x18+0x19b5+0xce6*-0x2)];if(_0xe3dd0e){const _0x4cccbd=_0x462225['width']*_0x462225['height']*(_0x462225['cubemap']?0x1f77+0x1*0x1c67+-0x3bd8:0x66e+0xd*-0x169+0xbe8),_0x557c5d=_0x40a0cd==='ggx'?sb(_0x38f312,_0x48ae47,_0x9f4a2d,_0x4cccbd):_0x40a0cd==='lambert'?eb(_0x38f312,_0x48ae47,_0x4cccbd):tb(_0x38f312,_0x48ae47,_0x9f4a2d);_0x38f312['scope']['resolve']('samplesTex')['setValue'](_0x557c5d),_0x38f312['scope']['resolve']('samplesTex'+'InverseSiz'+'e')['setValue']([(0x1dcd+0xc8e+-0x2a5a)/_0x557c5d['width'],(-0x5e1+0x1*0x47+0x59b)/_0x557c5d['height']]);}for(let _0x29fe1e=0x22d9*0x1+-0x41b*0x4+-0x126d;_0x29fe1e<(_0x293293['cubemap']?0x77a+-0x1*-0xb57+-0x11b*0x11:0x241*-0xd+-0x479*0x2+-0x40*-0x99);_0x29fe1e++)if(_0x168065===null||_0x29fe1e===_0x168065){const _0x2363f8=new gt({'colorBuffer':_0x293293,'face':_0x29fe1e,'depth':!(-0x1*-0x25b7+-0x4e+-0x2568),'flipY':_0x38f312['isWebGPU']});_0x119254[-0x1596*-0x1+-0x8e5+0x39*-0x39]=_0x29fe1e,_0x17076c['setValue'](_0x119254),Ar(_0x38f312,_0x2363f8,_0x4748fe,_0x2a640a==null?void(0xc0d+-0x2115+0x1508):_0x2a640a['rect']),_0x2363f8['destroy']();}return Q['popGpuMark'+'er'](_0x38f312),!(-0x1*-0x2215+-0x2130+-0x1*0xe5);}const Kd=(_0x3660ef,_0x3f4901=-0x53*0x1f+-0x26da+0x30e7)=>0x479*-0x1+-0x55*0x41+0x7*0x3b9+Math['floor'](Math['log2'](Math['max'](_0x3660ef,_0x3f4901))),ib=_0x45c533=>_0x45c533['textureHal'+'fFloatRend'+'erable'],rb=_0x3d4468=>_0x3d4468['textureFlo'+'atRenderab'+'le'],ab=_0xfda79c=>ib(_0xfda79c)?nt:rb(_0xfda79c)?Xt:Ne,nb=_0x59cab0=>Ne,ob=(_0x44def4,_0x9371ab,_0x52aab0,_0x33f0bc)=>new _e(_0x44def4,{'name':'lighting-'+_0x9371ab,'cubemap':!(-0x12b5*-0x1+-0xd61+-0x155*0x4),'width':_0x9371ab,'height':_0x9371ab,'format':_0x52aab0,'type':Qo,'addressU':ue,'addressV':ue,'mipmaps':!(-0x9e7+0x7*0xcb+-0x45b*-0x1)});class Tv{static['generateSk'+'yboxCubema'+'p'](_0x5ae0b5,_0x1f22d3){const _0x2718f5=_0x5ae0b5['device'];Q['pushGpuMar'+'ker'](_0x2718f5,'genSkyboxC'+'ubemap');const _0x5c2b31=ob(_0x2718f5,_0x1f22d3||(_0x5ae0b5['cubemap']?_0x5ae0b5['width']:_0x5ae0b5['width']/(-0x69*-0x3f+0x1*0x4c5+0x16*-0x164)),Ne);return vi(_0x5ae0b5,_0x5c2b31,{'numSamples':0x400}),Q['popGpuMark'+'er'](_0x2718f5),_0x5c2b31;}static['generateLi'+'ghtingSour'+'ce'](_0x55b6fa,_0x18cf21){const _0x244106=_0x55b6fa['device'];Q['pushGpuMar'+'ker'](_0x244106,'genLightin'+'gSource');const _0x3991bf=ab(_0x244106),_0xdc05ad=(_0x18cf21==null?void(0x2622+-0x5*0x749+-0x1b5):_0x18cf21['target'])||new _e(_0x244106,{'name':'lighting-s'+'ource','cubemap':!(-0x1481+-0x1dd6+0x107*0x31),'width':(_0x18cf21==null?void(-0x223*0x2+-0x1f63+-0x33*-0xb3):_0x18cf21['size'])||-0x1*-0x418+-0x755*0x1+-0x57*-0xb,'height':(_0x18cf21==null?void(-0x1*-0x8bc+0x1*0x1eb6+0x132*-0x21):_0x18cf21['size'])||-0x26a9+-0x9*0x1bf+0x36e0,'format':_0x3991bf,'type':_0x3991bf===Ne?Qo:Ds,'addressU':ue,'addressV':ue,'mipmaps':!(-0x735+0x5e*0x28+0x77b*-0x1)});return vi(_0x55b6fa,_0xdc05ad,{'numSamples':_0x55b6fa['mipmaps']?0x4*-0x7d3+-0x2*0xd54+0x39f5:0x2*-0x1208+-0x182*-0xe+0x1*0x12f4}),Q['popGpuMark'+'er'](_0x244106),_0xdc05ad;}static['generateAt'+'las'](_0x1dd2c8,_0x1baa18){const _0x91d625=_0x1dd2c8['device'],_0x4076e1=nb();Q['pushGpuMar'+'ker'](_0x91d625,'genAtlas');const _0x4c5be7=(_0x1baa18==null?void(0x18cf+-0xeb7*0x1+0x50c*-0x2):_0x1baa18['target'])||new _e(_0x91d625,{'name':'envAtlas','width':(_0x1baa18==null?void(0x106a+0x3c7*0x1+0x1*-0x1431):_0x1baa18['size'])||-0xc*-0x166+-0x277*0x7+0x279,'height':(_0x1baa18==null?void(0x1a84+0x1a2+-0x2*0xe13):_0x1baa18['size'])||0x1865+-0x11b2+-0x4b3,'format':_0x4076e1,'type':Qo,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(0x404*-0x1+0xa21*0x1+-0x61c)});Q['pushGpuMar'+'ker'](_0x91d625,'mipmaps');const _0x2cde67=_0x4c5be7['width']/(-0x18ef+0x1*0x2351+-0x3a*0x25),_0x1f0d30=new re(-0x2471+-0x5b*0x1+0x9d*0x3c,0x1678+-0xc2+0xe*-0x18d,(-0x915+0x14d3+-0x9be)*_0x2cde67,(-0xd2a+-0x11b*0xb+0x1a53)*_0x2cde67),_0x57acc8=Kd(0x9cf+0x14f4+0x13*-0x191)-Kd(0xb*0x33d+0x6ca*-0x1+-0x1cd1);for(let _0x175aa6=0xab1+0x4e2*-0x6+-0x1*-0x129b;_0x175aa6<_0x57acc8;++_0x175aa6)vi(_0x1dd2c8,_0x4c5be7,{'numSamples':0x1,'rect':_0x1f0d30,'seamPixels':_0x2cde67}),_0x1f0d30['x']+=_0x1f0d30['w'],_0x1f0d30['y']+=_0x1f0d30['w'],_0x1f0d30['z']=Math['max'](-0x1473+-0x231c+-0x7*-0x7f0,Math['floor'](_0x1f0d30['z']*(0x437*0x1+-0x137*-0xe+-0x1539+0.5))),_0x1f0d30['w']=Math['max'](0x1*-0x1fbb+-0x1*-0x187c+-0x20*-0x3a,Math['floor'](_0x1f0d30['w']*(-0x7*-0x2b+-0x2fa+0x1cd*0x1+0.5)));Q['popGpuMark'+'er'](_0x91d625),Q['pushGpuMar'+'ker'](_0x91d625,'reflection'+'s'),_0x1f0d30['set'](0x2367+0x1e07*-0x1+-0x560,(0x2b*-0x64+0xebc+-0x10*-0x31)*_0x2cde67,(0x23d6+-0xeb6*0x2+-0x42*0x15)*_0x2cde67,(0x77*-0x4e+0x18f5*0x1+0xbcd*0x1)*_0x2cde67);for(let _0x1f98a1=-0x768+0xb9*0x1+0x6b0;_0x1f98a1<0x1*-0x1a69+0x2462+-0x9f2;++_0x1f98a1)vi(_0x1dd2c8,_0x4c5be7,{'numSamples':(_0x1baa18==null?void(0x45+-0x1c3e+0x1bf9):_0x1baa18['numReflect'+'ionSamples'])||0x4a*-0xa+0x608*-0x5+-0x1286*-0x2,'distribution':(_0x1baa18==null?void(-0xfbf+0x323+-0x21a*-0x6):_0x1baa18['distributi'+'on'])||'ggx','specularPower':Math['max'](0x24d8+-0x311+-0x21c6,0xf*0x1f3+-0x14d6+-0x67>>_0x1f98a1*(-0xa*0x1a7+0x12c5+-0x1*0x23d)),'rect':_0x1f0d30,'seamPixels':_0x2cde67}),_0x1f0d30['y']+=_0x1f0d30['w'],_0x1f0d30['z']=Math['max'](0xa61+0x1d22+0x2*-0x13c1,Math['floor'](_0x1f0d30['z']*(-0x9b3+0x130*-0x1a+-0x11*-0x263+0.5))),_0x1f0d30['w']=Math['max'](0xc*-0xd6+-0xe4*0x1+0xaed,Math['floor'](_0x1f0d30['w']*(-0x12c5+-0x18*0x33+0x1*0x178d+0.5)));return Q['popGpuMark'+'er'](_0x91d625),Q['pushGpuMar'+'ker'](_0x91d625,'ambient'),_0x1f0d30['set']((0x3*0x337+0x1*0x2593+0x5c*-0x82)*_0x2cde67,(-0x230*-0x6+-0x2c3*0xd+-0x71*-0x37)*_0x2cde67,(0x1dbc+0x264a+-0x43c6)*_0x2cde67,(-0xa9*0x8+0x19bc+-0x1454)*_0x2cde67),vi(_0x1dd2c8,_0x4c5be7,{'numSamples':(_0x1baa18==null?void(0x1a2e+-0x982*-0x3+-0x36b4):_0x1baa18['numAmbient'+'Samples'])||-0xb+-0x1c13*-0x1+-0x1408,'distribution':'lambert','rect':_0x1f0d30,'seamPixels':_0x2cde67}),Q['popGpuMark'+'er'](_0x91d625),Q['popGpuMark'+'er'](_0x91d625),_0x4c5be7;}static['generatePr'+'efilteredA'+'tlas'](_0x39a7d8,_0x4344d9){const _0xb8aec9=_0x39a7d8[0x13*-0x175+-0x3b3*0x3+-0x1*-0x26c8]['device'],_0x44cbd5=_0x39a7d8[0x58a+0x2f*-0x3b+-0x5*-0x10f]['format'],_0x91cdf=_0x39a7d8[0x9dd*-0x2+-0xb35*0x1+-0x1eef*-0x1]['type'];Q['pushGpuMar'+'ker'](_0xb8aec9,'genPrefilt'+'eredAtlas');const _0x5b1907=(_0x4344d9==null?void(0x1776+0x6a*-0x11+-0x106c*0x1):_0x4344d9['target'])||new _e(_0xb8aec9,{'name':'envPrefilt'+'eredAtlas','width':(_0x4344d9==null?void(0x22*-0x10f+-0xd8e+0x318c):_0x4344d9['size'])||0x166b*0x1+0x4*-0x895+0xde9,'height':(_0x4344d9==null?void(0xb2b*-0x1+0x11*-0x9b+0x1*0x1576):_0x4344d9['size'])||0x1*-0xf9e+0x23c3*-0x1+0x38f*0xf,'format':_0x44cbd5,'type':_0x91cdf,'projection':Vm,'addressU':ue,'addressV':ue,'mipmaps':!(-0x1cd0+0x2c1*-0x4+0x27d5*0x1)});Q['pushGpuMar'+'ker'](_0xb8aec9,'mipmaps');const _0x51797d=_0x5b1907['width']/(0x3*-0x81f+-0xd5*-0x29+-0x7c0),_0x3a715b=new re(0x2579+0x121*0x9+-0x2fa2,-0xd3+0x2a5*0x3+0x46*-0x1a,(0x1*-0x8ae+-0x1d42+0x27f0)*_0x51797d,(-0x1749*0x1+-0x11*0x1f+-0x6*-0x464)*_0x51797d),_0x5103d7=Kd(0x1c97*0x1+-0x2599+-0x581*-0x2);for(let _0x552c63=-0x1dc7*0x1+0x7*-0x25b+0x2e44;_0x552c63<_0x5103d7;++_0x552c63)vi(_0x39a7d8[-0x1d*-0x17+-0x437*-0x2+0x1*-0xb09],_0x5b1907,{'numSamples':0x1,'rect':_0x3a715b,'seamPixels':_0x51797d}),_0x3a715b['x']+=_0x3a715b['w'],_0x3a715b['y']+=_0x3a715b['w'],_0x3a715b['z']=Math['max'](0xa9+0xb*0xb5+-0x7f*0x11,Math['floor'](_0x3a715b['z']*(-0x43*0x6d+0x1*0x1d4d+0x1*-0xc6+0.5))),_0x3a715b['w']=Math['max'](0x105*-0x5+-0x16cf*0x1+0x1be9,Math['floor'](_0x3a715b['w']*(-0x11bd*0x1+-0x8c3*0x1+0x1a80+0.5)));Q['popGpuMark'+'er'](_0xb8aec9),Q['pushGpuMar'+'ker'](_0xb8aec9,'reflection'+'s'),_0x3a715b['set'](0x1ffd+-0x1ad8+-0x525,(0x18f8+0x1*-0x3ae+-0x6a*0x31)*_0x51797d,(-0x13*0xd2+-0x131*-0xd+-0x119*-0x1)*_0x51797d,(0x1812+-0x193f+0x27*0xb)*_0x51797d);for(let _0x2c3588=0x1*0xb1b+-0x136e+0x854;_0x2c3588<_0x39a7d8['length'];++_0x2c3588)vi(_0x39a7d8[_0x2c3588],_0x5b1907,{'numSamples':0x1,'rect':_0x3a715b,'seamPixels':_0x51797d}),_0x3a715b['y']+=_0x3a715b['w'],_0x3a715b['z']=Math['max'](-0xad+-0x1ea0+0x1f4e,Math['floor'](_0x3a715b['z']*(-0xb*0x8d+-0x2521+0x2b30+0.5))),_0x3a715b['w']=Math['max'](0x18dd+0x5f*0x61+0x1449*-0x3,Math['floor'](_0x3a715b['w']*(-0x16b8+-0x16d*0xb+0x2667+0.5)));return Q['popGpuMark'+'er'](_0xb8aec9),Q['pushGpuMar'+'ker'](_0xb8aec9,'ambient'),_0x3a715b['set']((-0x1*-0x2043+-0x54c*-0x6+-0x3f8b)*_0x51797d,(-0x100*-0x11+-0x11*0x112+0x2b2)*_0x51797d,(0x1e5*0xe+-0x274*-0x4+-0x2416)*_0x51797d,(0xead*0x1+0x362+-0x11ef)*_0x51797d),_0x4344d9!=null&&_0x4344d9['legacyAmbi'+'ent']?vi(_0x39a7d8[-0xf*0xa7+-0x1842+0x2210],_0x5b1907,{'numSamples':0x1,'rect':_0x3a715b,'seamPixels':_0x51797d}):vi(_0x39a7d8[-0xa6a*0x3+-0xffc+0x2f3a],_0x5b1907,{'numSamples':(_0x4344d9==null?void(0x10cb+0x701*-0x3+-0x5*-0xd8):_0x4344d9['numSamples'])||0x7*-0x17e+0x201b+-0xda9,'distribution':'lambert','rect':_0x3a715b,'seamPixels':_0x51797d}),Q['popGpuMark'+'er'](_0xb8aec9),Q['popGpuMark'+'er'](_0xb8aec9),_0x5b1907;}}const lb={'aoPS':'1.57','clearCoatPS':'1.57','clearCoatGlossPS':'1.60','clearCoatNormalPS':'1.57','diffusePS':'1.57','emissivePS':'1.57','glossPS':'1.60','metalnessPS':'1.57','normalMapPS':'1.57','opacityPS':'1.57','parallaxPS':'1.57','sheenPS':'1.57','sheenGlossPS':'1.60','specularPS':'1.57','specularityFactorPS':'1.57','thicknessPS':'1.57','transmissionPS':'1.57','normalVertexPS':'1.55','aoDiffuseOccPS':'1.62','aoSpecOccPS':'2.6','clusteredLightPS':'1.62','clusteredLightShadowPS':'1.62','combinePS':'1.62','falloffInvSquaredPS':'1.62','falloffLinearPS':'1.62','lightDiffuseLambertPS':'1.62','lightSheenPS':'1.62','lightSpecularAnisoGGXPS':'1.62','lightSpecularBlinnPS':'1.62','ltcPS':'1.62','reflDirPS':'1.62','reflDirAnisoPS':'1.62','reflectionCCPS':'1.62','reflectionCubePS':'2.6','reflectionEnvPS':'2.6','reflectionEnvHQPS':'2.6','reflectionSpherePS':'2.6','reflectionSheenPS':'1.62','shadowCommonPS':'1.62','shadowCoordPS':'1.62','shadowCoordPerspZBufferPS':'1.62','shadowEVSMPS':'1.62','spotPS':'1.62','TBNPS':'1.62','endPS':'1.65','metalnessModulatePS':'1.65','outputAlphaPS':'1.65','outputAlphaPremulPS':'1.65','fresnelSchlickPS':'1.65','iridescenceDiffractionPS':'1.65','lightmapAddPS':'1.65','refractionCubePS':'1.70','refractionDynamicPS':'1.70'},V_={'ambientPrefilteredCubePS':'1.51','ambientPrefilteredCubeLodPS':'1.51','dpAtlasQuadPS':'1.51','genParaboloidPS':'1.51','prefilterCubemapPS':'1.51','reflectionDpAtlasPS':'1.51','reflectionPrefilteredCubePS':'1.51','reflectionPrefilteredCubeLodPS':'1.51','refractionPS':'1.56','combineClearCoatPS':'1.56','combineDiffusePS':'1.56','combineDiffuseSpecularPS':'1.56','combineDiffuseSpecularNoReflPS':'1.56','combineDiffuseSpecularNoReflSeparateAmbientPS':'1.56','combineDiffuseSpecularOldPS':'1.56','lightmapSingleVertPS':'1.55','normalMapFastPS':'1.55','specularAaNonePS':'1.55','specularAaToksvigPS':'1.55','specularAaToksvigFastPS':'1.55','skyboxEnvPS':'2.1','skyboxHDRPS':'2.1','shadowVSM8PS':'2.3','fogExpPS':'2.5','fogExp2PS':'2.5','fogLinearPS':'2.5','fogNonePS':'2.5','gamma1_0PS':'2.5','gamma2_2PS':'2.5','storeEVSMPS':'2.6','shadowEVSMnPS':'2.6','shadowVSM_commonPS':'2.6','shadowStandardPS':'2.6','shadowStandardGL2PS':'2.6','startVS':'2.6','endVS':'2.6','baseVS':'2.6','baseNineSlicedVS':'2.6','viewNormalVS':'2.6','lightmapDirAddPS':'2.6','TBNObjectSpacePS':'2.6','TBNderivativePS':'2.6','startPS':'2.6','outputAlphaOpaque':'2.6','outputAlphaPremul':'2.6','cubeMapProjectBoxPS':'2.6','cubeMapProjectNonePS':'2.6','envMultiplyPS':'2.6','envConstPS':'2.6','aoSpecOccConstPS':'2.6','aoSpecOccConstSimplePS':'2.6','aoSpecOccSimplePS':'2.6','ambientConstantPS':'2.6','ambientEnvPS':'2.6','ambientSHPS':'2.6','shadowSampleCoordPS':'2.6','diffuseDetailMapPS':'2.7','normalDetailMapPS':'2.7','normalXYPS':'2.7','normalXYZPS':'2.7','aoDetailMapPS':'2.7','lightmapDirPS':'2.7','lightmapSinglePS':'2.7','tangentBinormalVS':'2.7'},cb=(_0x27f3d7,_0x21c595)=>{const _0x5e59dd=_0x27f3d7['split']('.')['map'](_0x49abfd=>parseInt(_0x49abfd,-0x1315+0x867+0xab8)),_0x2e9b3f=_0x21c595['split']('.')['map'](_0x45ab4c=>parseInt(_0x45ab4c,0x2be+0x1440+-0x1a*0xe2));return _0x5e59dd[0x655+0x746+-0xd9b]<_0x2e9b3f[0x110e+-0x3*-0x65b+-0x241f]||_0x5e59dd[0xe*0x58+0x26b4+-0x2b84]===_0x2e9b3f[0x4*-0xe4+0x1447+-0x10b7]&&_0x5e59dd[0x20f6+0x188c+0x7*-0x837]<_0x2e9b3f[0x3b*0x35+0x434*-0x8+0x156a];},hb=(_0x286444,_0x573aad)=>{for(const _0x3fd005 of _0x286444['keys']())if(V_['hasOwnProp'+'erty'](_0x3fd005)){const _0x394624=V_[_0x3fd005];w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x3fd005+('\x27\x20was\x20remo'+'ved\x20in\x20API'+'\x20')+_0x394624+('\x20and\x20is\x20no'+'\x20longer\x20su'+'pported.'));}else{const _0x130336=lb[_0x3fd005];_0x130336&&(!_0x573aad||cb(_0x573aad,_0x130336))&&w['warnOnce']('Shader\x20chu'+'nk\x20\x27'+_0x3fd005+('\x27\x20is\x20API\x20v'+'ersion\x20')+_0x130336+(',\x20but\x20the\x20'+'supplied\x20c'+'hunk\x20is\x20ve'+'rsion\x20')+(_0x573aad||'undefined')+('.\x20Please\x20u'+'pdate\x20to\x20t'+'he\x20latest\x20'+'API:\x20https'+'://develop'+'er.playcan'+'vas.com/us'+'er-manual/'+'graphics/s'+'hader-chun'+'k-migratio'+'ns/'));}},Zd={'vertex_normal':gs,'vertex_tangent':yi,'vertex_texCoord0':is,'vertex_texCoord1':ba,'vertex_color':Wt,'vertex_boneWeights':gi,'vertex_boneIndices':us};class db{constructor(_0x31d040,_0x173fd0,_0x9fc322=!(-0x7*-0x481+0x15*-0x13+0xe*-0x224)){h(this,'varyingsCo'+'de',''),h(this,'device'),h(this,'options'),h(this,'shaderLang'+'uage'),h(this,'vDefines',new Map()),h(this,'fDefines',new Map()),h(this,'includes',new Map()),h(this,'chunks',null),(this['device']=_0x31d040,this['options']=_0x173fd0);const _0x21b22b=_0x173fd0['shaderChun'+'ks'];if(this['shaderLang'+'uage']=_0x31d040['isWebGPU']&&_0x9fc322&&(_0x21b22b!=null&&_0x21b22b['useWGSL'])?it:Fe,this['attributes']={'vertex_position':Me},_0x173fd0['userAttrib'+'utes']){for(const [_0x54079a,_0x441714]of Object['entries'](_0x173fd0['userAttrib'+'utes']))this['attributes'][_0x441714]=_0x54079a;}const _0x8e2ba1=Pe['get'](_0x31d040,this['shaderLang'+'uage']);if(this['chunks']=new Map(_0x8e2ba1),_0x21b22b){const _0x6b08c6=this['shaderLang'+'uage']===Fe?_0x21b22b['glsl']:_0x21b22b['wgsl'];w['call'](()=>{hb(_0x6b08c6,_0x21b22b['version']);}),_0x6b08c6['forEach']((_0x1bc307,_0x4da2c9)=>{for(const _0x203297 in Zd)Zd['hasOwnProp'+'erty'](_0x203297)&&_0x1bc307['indexOf'](_0x203297)>=-0x1*-0x1e20+0x97a*0x3+-0x2*0x1d47&&(this['attributes'][_0x203297]=Zd[_0x203297]);this['chunks']['set'](_0x4da2c9,_0x1bc307);});}this['shaderPass'+'Info']=Si['get'](this['device'])['getByIndex'](_0x173fd0['pass']),this['shadowPass']=this['shaderPass'+'Info']['isShadow'],this['lighting']=_0x173fd0['lights']['length']>0x291+0x1667+-0x18f8||_0x173fd0['dirLightMa'+'pEnabled']||_0x173fd0['clusteredL'+'ightingEna'+'bled'],this['reflection'+'s']=_0x173fd0['reflection'+'Source']!==vr,this['needsNorma'+'l']=this['lighting']||this['reflection'+'s']||_0x173fd0['useSpecula'+'r']||_0x173fd0['ambientSH']||_0x173fd0['useHeights']||_0x173fd0['enableGGXS'+'pecular']||_0x173fd0['clusteredL'+'ightingEna'+'bled']&&!this['shadowPass']||_0x173fd0['useClearCo'+'atNormals'],this['needsNorma'+'l']=this['needsNorma'+'l']&&!this['shadowPass'],this['needsScene'+'Color']=_0x173fd0['useDynamic'+'Refraction'],this['needsScree'+'nSize']=_0x173fd0['useDynamic'+'Refraction'],this['needsTrans'+'forms']=_0x173fd0['useDynamic'+'Refraction'],this['vshader']=null,this['fshader']=null;}['fDefineSet'](_0x2fdc7f,_0x2bc748,_0xde517b=''){_0x2fdc7f&&this['fDefines']['set'](_0x2bc748,_0xde517b);}['generateVe'+'rtexShader'](_0x54637c,_0x2561eb,_0x1e571e){const {options:_0x55ce90,vDefines:_0x37d355,attributes:_0x314140}=this,_0x1d908f=new Map();if(_0x1d908f['set']('vPositionW','vec3'),(_0x55ce90['nineSliced'+'Mode']===Pt||_0x55ce90['nineSliced'+'Mode']===Mt)&&_0x37d355['set']('NINESLICED',!(-0xeef+0xc1d+-0x1*-0x2d2)),this['options']['linearDept'+'h']&&(_0x37d355['set']('LINEAR_DEP'+'TH',!(0x1*0x2ab+-0x14a2+-0x3*-0x5fd)),_0x1d908f['set']('vLinearDep'+'th','float')),this['needsNorma'+'l']&&_0x37d355['set']('NORMALS',!(-0x13*-0x134+-0x1373+-0x369)),this['options']['useInstanc'+'ing']){const _0x252881=Pe['get'](this['device'],this['shaderLang'+'uage']);this['chunks']['get']('transformI'+'nstancingV'+'S')===_0x252881['get']('transformI'+'nstancingV'+'S')&&(_0x314140['instance_l'+'ine1']=Mp,_0x314140['instance_l'+'ine2']=Dp,_0x314140['instance_l'+'ine3']=Ip,_0x314140['instance_l'+'ine4']=Ln);}this['needsNorma'+'l']&&(_0x314140['vertex_nor'+'mal']=gs,_0x1d908f['set']('vNormalW','vec3'),_0x55ce90['hasTangent'+'s']&&(_0x55ce90['useHeights']||_0x55ce90['useNormals']||_0x55ce90['useClearCo'+'atNormals']||_0x55ce90['enableGGXS'+'pecular'])?(_0x37d355['set']('TANGENTS',!(-0xd1*0x22+0x1db7*0x1+-0x1f5*0x1)),_0x314140['vertex_tan'+'gent']=yi,_0x1d908f['set']('vTangentW','vec3'),_0x1d908f['set']('vBinormalW','vec3')):_0x55ce90['enableGGXS'+'pecular']&&(_0x37d355['set']('GGX_SPECUL'+'AR',!(-0x7f*0x2e+0x9ce+0xc4*0x11)),_0x1d908f['set']('vObjectSpa'+'ceUpW','vec3')));const _0x3f0534=-0x1162*-0x2+-0x12bf*0x2+0x2bc;for(let _0x2d0f3c=-0xe99*-0x1+-0x18a1+0xa08;_0x2d0f3c<_0x3f0534;_0x2d0f3c++)_0x54637c[_0x2d0f3c]&&(_0x37d355['set']('UV'+_0x2d0f3c,!(0xe*-0x1+-0x1*0x699+0x6a7)),_0x314140['vertex_tex'+'Coord'+_0x2d0f3c]='TEXCOORD'+_0x2d0f3c),_0x2561eb[_0x2d0f3c]&&(_0x37d355['set']('UV'+_0x2d0f3c+('_UNMODIFIE'+'D'),!(0x21f7+-0x1*0x38c+0x257*-0xd)),_0x1d908f['set']('vUv'+_0x2d0f3c,'vec2'));let _0x1e5fb0=-0x1414+-0x12f3+0x61*0x67;const _0x28b8da=new Set();_0x1e571e['forEach'](_0x3f0339=>{const {id:_0x3b8084,uv:_0x56694a,name:_0x566c60}=_0x3f0339,_0x55e212=_0x3b8084+_0x56694a*(0x2b*-0x17+0x2067+-0x1c26);if(!_0x28b8da['has'](_0x55e212)){_0x28b8da['add'](_0x55e212),_0x1d908f['set']('vUV'+_0x56694a+'_'+_0x3b8084,'vec2');const _0x1fb3b4='texture_'+_0x566c60+('MapTransfo'+'rm');_0x37d355['set']('{TRANSFORM'+'_NAME_'+_0x1e5fb0+'}',_0x1fb3b4),_0x37d355['set']('{TRANSFORM'+'_UV_'+_0x1e5fb0+'}',_0x56694a),_0x37d355['set']('{TRANSFORM'+'_ID_'+_0x1e5fb0+'}',_0x3b8084),_0x1e5fb0++;}}),_0x37d355['set']('UV_TRANSFO'+'RMS_COUNT',_0x1e5fb0),_0x55ce90['vertexColo'+'rs']&&(_0x314140['vertex_col'+'or']=Wt,_0x37d355['set']('VERTEX_COL'+'OR',!(0x1d49+0x103a+-0x2d83)),_0x1d908f['set']('vVertexCol'+'or','vec4')),_0x55ce90['useMsdf']&&_0x55ce90['msdfTextAt'+'tribute']&&(_0x314140['vertex_out'+'lineParame'+'ters']=Ko,_0x314140['vertex_sha'+'dowParamet'+'ers']=Zo,_0x37d355['set']('MSDF',!(-0x1d*-0x2f+-0x1c2e*-0x1+-0x9*0x3b9))),(_0x55ce90['useMorphPo'+'sition']||_0x55ce90['useMorphNo'+'rmal'])&&(_0x37d355['set']('MORPHING',!(-0x1583*0x1+0x22be+-0xd3b*0x1)),_0x55ce90['useMorphTe'+'xtureBased'+'Int']&&_0x37d355['set']('MORPHING_I'+'NT',!(-0x1*0xfad+-0x99d*0x3+0x103*0x2c)),_0x55ce90['useMorphPo'+'sition']&&_0x37d355['set']('MORPHING_P'+'OSITION',!(-0x109+-0x13c*0x1d+0x24d5)),_0x55ce90['useMorphNo'+'rmal']&&_0x37d355['set']('MORPHING_N'+'ORMAL',!(-0x217+-0x47e+-0x695*-0x1)),_0x314140['morph_vert'+'ex_id']=Ln),_0x55ce90['skin']&&(_0x314140['vertex_bon'+'eIndices']=us,_0x55ce90['batch']?_0x37d355['set']('BATCH',!(-0x2f4+-0x1321+0x1615*0x1)):(_0x314140['vertex_bon'+'eWeights']=gi,_0x37d355['set']('SKIN',!(-0x3fe*0x7+-0x21ac+-0x2*-0x1ecf)))),_0x55ce90['useInstanc'+'ing']&&_0x37d355['set']('INSTANCING',!(0xd88+0x156e+-0x166*0x19)),_0x55ce90['screenSpac'+'e']&&_0x37d355['set']('SCREENSPAC'+'E',!(-0xf9e+-0x2*0xd87+-0xaab*-0x4)),_0x55ce90['pixelSnap']&&_0x37d355['set']('PIXELSNAP',!(0x14bd*0x1+0x14*-0x44+0x167*-0xb)),_0x1d908f['forEach']((_0x1763e1,_0x2aa09f)=>{this['varyingsCo'+'de']+='#define\x20VA'+'RYING_'+_0x2aa09f['toUpperCas'+'e']()+'\x0a',this['varyingsCo'+'de']+=this['shaderLang'+'uage']===it?'varying\x20'+_0x2aa09f+':\x20'+Fy['get'](_0x1763e1)+';\x0a':'varying\x20'+_0x1763e1+'\x20'+_0x2aa09f+';\x0a';}),this['includes']['set']('varyingsVS',this['varyingsCo'+'de']),this['includes']['set']('varyingsPS',this['varyingsCo'+'de']),this['vshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}['_setupLigh'+'tingDefine'+'s'](_0x285df3,_0x5cc5b3){const _0x5e3f2c=this['fDefines'],_0x5de49f=this['options'];if(this['fDefines']['set']('LIGHT_COUN'+'T',_0x5de49f['lights']['length']),_0x285df3&&_0x5e3f2c['set']('AREA_LIGHT'+'S',!(0xfcd+-0xfae+0x1*-0x1f)),_0x5cc5b3&&this['lighting']&&(_0x5e3f2c['set']('LIT_CLUSTE'+'RED_LIGHTS',!(-0x14a8+0x4*-0x62+0x1630*0x1)),_0x5de49f['clusteredL'+'ightingCoo'+'kiesEnable'+'d']&&_0x5e3f2c['set']('CLUSTER_CO'+'OKIES',!(0x2*0x99e+0xde*-0x29+0x1052)),_0x5de49f['clusteredL'+'ightingAre'+'aLightsEna'+'bled']&&_0x5e3f2c['set']('CLUSTER_AR'+'EALIGHTS',!(0x341*0x2+-0x1*-0x1087+-0x1*0x1709)),_0x5de49f['lightMaskD'+'ynamic']&&_0x5e3f2c['set']('CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS',!(0x1*-0x2459+-0xc4+0x251d)),_0x5de49f['clusteredL'+'ightingSha'+'dowsEnable'+'d']&&!_0x5de49f['noShadow'])){const _0x240681=qi['get'](_0x5de49f['clusteredL'+'ightingSha'+'dowType']);_0x5e3f2c['set']('CLUSTER_SH'+'ADOWS',!(-0x35f+0x185*0x19+-0x229e)),_0x5e3f2c['set']('SHADOW_KIN'+'D_'+_0x240681['kind'],!(0x1*-0x1227+0xe6e+0x3b9)),_0x5e3f2c['set']('CLUSTER_SH'+'ADOW_TYPE_'+_0x240681['kind'],!(-0x2*0x115f+-0x1*-0xbfb+0x1*0x16c3));}for(let _0x174b0e=0xc*0xa5+0x3d*-0x8f+0x1a57;_0x174b0e<_0x5de49f['lights']['length'];_0x174b0e++){const _0x314721=_0x5de49f['lights'][_0x174b0e],_0x1c32f9=_0x314721['_type'];if(_0x5cc5b3&&_0x1c32f9!==ve)continue;const _0x237e23=_0x285df3&&_0x314721['_shape']?_0x314721['_shape']:Ys,_0x5da9f1=_0x314721['_shadowTyp'+'e'],_0x1c47ae=_0x314721['castShadow'+'s']&&!_0x5de49f['noShadow'],_0x520e4a=qi['get'](_0x5da9f1);w['assert'](_0x520e4a),_0x5e3f2c['set']('LIGHT'+_0x174b0e,!(-0x286+-0x20*0x98+0x3a*0x5f)),_0x5e3f2c['set']('LIGHT'+_0x174b0e+'TYPE',''+u_[_0x1c32f9]),_0x5e3f2c['set']('LIGHT'+_0x174b0e+'SHADOWTYPE',''+_0x520e4a['name']),_0x5e3f2c['set']('LIGHT'+_0x174b0e+'SHAPE',''+Fw[_0x237e23]),_0x5e3f2c['set']('LIGHT'+_0x174b0e+'FALLOFF',''+Nw[_0x314721['_falloffMo'+'de']]),_0x314721['affectSpec'+'ularity']&&_0x5e3f2c['set']('LIGHT'+_0x174b0e+('AFFECT_SPE'+'CULARITY'),!(0x501*-0x1+-0x1*-0x1af7+-0x15f6)),_0x314721['_cookie']&&(_0x1c32f9===Ze&&!_0x314721['_cookie']['_cubemap']||_0x1c32f9===Ke&&_0x314721['_cookie']['_cubemap'])&&(_0x5e3f2c['set']('LIGHT'+_0x174b0e+'COOKIE',!(0x2*0x296+-0x15*-0x1cd+-0x2afd)),_0x5e3f2c['set']('{LIGHT'+_0x174b0e+('COOKIE_CHA'+'NNEL}'),_0x314721['_cookieCha'+'nnel']),_0x1c32f9===Ze&&(_0x314721['_cookieTra'+'nsform']&&_0x5e3f2c['set']('LIGHT'+_0x174b0e+('COOKIE_TRA'+'NSFORM'),!(-0x12*-0x39+-0x5*0x297+0x8f1)),_0x314721['_cookieFal'+'loff']&&_0x5e3f2c['set']('LIGHT'+_0x174b0e+('COOKIE_FAL'+'LOFF'),!(-0xd*-0x179+0x4a*0x1b+-0x1af3*0x1)))),_0x1c47ae&&(_0x5e3f2c['set']('LIGHT'+_0x174b0e+'CASTSHADOW',!(0x2*0x36c+-0x21cf*0x1+0x1af7)),_0x520e4a['pcf']&&_0x5e3f2c['set']('LIGHT'+_0x174b0e+'SHADOW_PCF',!(0x4*-0x1fd+0xd*0x25f+-0x16df*0x1)),_0x314721['_normalOff'+'setBias']&&!_0x314721['_isVsm']&&_0x5e3f2c['set']('LIGHT'+_0x174b0e+('_SHADOW_SA'+'MPLE_NORMA'+'L_OFFSET'),!(-0x1941+-0x4d+0x2*0xcc7)),_0x1c32f9===ve&&(_0x5e3f2c['set']('LIGHT'+_0x174b0e+('_SHADOW_SA'+'MPLE_ORTHO'),!(0x2*-0x11f1+-0x1*0x647+0x2a29)),_0x314721['cascadeBle'+'nd']>-0x34+0x251f*0x1+0x24eb*-0x1&&_0x5e3f2c['set']('LIGHT'+_0x174b0e+('_SHADOW_CA'+'SCADE_BLEN'+'D'),!(-0x23cf*0x1+0x81*0x1d+0x1532)),_0x314721['numCascade'+'s']>0x143b+0x19e6+-0x2e20&&_0x5e3f2c['set']('LIGHT'+_0x174b0e+('_SHADOW_CA'+'SCADES'),!(0xa*0xa5+-0xa9f+-0x42d*-0x1))),(_0x520e4a['pcf']||_0x520e4a['pcss']||this['device']['isWebGPU'])&&_0x5e3f2c['set']('LIGHT'+_0x174b0e+('_SHADOW_SA'+'MPLE_SOURC'+'E_ZBUFFER'),!(0x49*-0x10+-0x190d+-0x169*-0x15)),_0x1c32f9===Ke&&_0x5e3f2c['set']('LIGHT'+_0x174b0e+('_SHADOW_SA'+'MPLE_POINT'),!(0x1f1a+-0x1*-0x1bcd+0x11*-0x377))),_0x1c47ae&&(_0x5e3f2c['set']('SHADOW_KIN'+'D_'+_0x520e4a['kind'],!(0x1ea7+-0x109c*-0x1+-0x2f43)),_0x1c32f9===ve&&_0x5e3f2c['set']('SHADOW_DIR'+'ECTIONAL',!(0x9a3*0x4+-0x1*0xc7+-0x1*0x25c5)));}}['prepareFor'+'wardPass'](_0x451ea8){const {options:_0x11b2d9}=this,_0x30d570=_0x11b2d9['clusteredL'+'ightingEna'+'bled']&&_0x11b2d9['clusteredL'+'ightingAre'+'aLightsEna'+'bled']||_0x11b2d9['lights']['some'](_0x2e40db=>_0x2e40db['_shape']&&_0x2e40db['_shape']!==Ys),_0x12480b=!_0x11b2d9['lightMapEn'+'abled']||_0x11b2d9['lightMapWi'+'thoutAmbie'+'nt'],_0x441a51=this['needsNorma'+'l']&&(_0x11b2d9['useNormals']||_0x11b2d9['useClearCo'+'atNormals']||_0x11b2d9['enableGGXS'+'pecular']&&!_0x11b2d9['useHeights']);_0x11b2d9['useSpecula'+'r']&&(this['fDefineSet'](!(0x24ca+0x1e3+-0x26ad),'LIT_SPECUL'+'AR'),this['fDefineSet'](this['reflection'+'s'],'LIT_REFLEC'+'TIONS'),this['fDefineSet'](_0x11b2d9['useClearCo'+'at'],'LIT_CLEARC'+'OAT'),this['fDefineSet'](_0x11b2d9['fresnelMod'+'el']>-0x53a*-0x1+0x52*0x37+-0x16d8,'LIT_SPECUL'+'AR_FRESNEL'),this['fDefineSet'](_0x11b2d9['useSheen'],'LIT_SHEEN'),this['fDefineSet'](_0x11b2d9['useIridesc'+'ence'],'LIT_IRIDES'+'CENCE')),this['fDefineSet'](this['lighting']&&_0x11b2d9['useSpecula'+'r']||this['reflection'+'s'],'LIT_SPECUL'+'AR_OR_REFL'+'ECTION'),this['fDefineSet'](this['needsScene'+'Color'],'LIT_SCENE_'+'COLOR'),this['fDefineSet'](this['needsScree'+'nSize'],'LIT_SCREEN'+'_SIZE'),this['fDefineSet'](this['needsTrans'+'forms'],'LIT_TRANSF'+'ORMS'),this['fDefineSet'](this['needsNorma'+'l'],'LIT_NEEDS_'+'NORMAL'),this['fDefineSet'](this['lighting'],'LIT_LIGHTI'+'NG'),this['fDefineSet'](_0x11b2d9['useMetalne'+'ss'],'LIT_METALN'+'ESS'),this['fDefineSet'](_0x11b2d9['enableGGXS'+'pecular'],'LIT_GGX_SP'+'ECULAR'),this['fDefineSet'](_0x11b2d9['useSpecula'+'rityFactor'],'LIT_SPECUL'+'ARITY_FACT'+'OR'),this['fDefineSet'](_0x11b2d9['useCubeMap'+'Rotation'],'CUBEMAP_RO'+'TATION'),this['fDefineSet'](_0x11b2d9['occludeSpe'+'cularFloat'],'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT'),this['fDefineSet'](_0x11b2d9['separateAm'+'bient'],'LIT_SEPARA'+'TE_AMBIENT'),this['fDefineSet'](_0x11b2d9['twoSidedLi'+'ghting'],'LIT_TWO_SI'+'DED_LIGHTI'+'NG'),this['fDefineSet'](_0x11b2d9['lightMapEn'+'abled'],'LIT_LIGHTM'+'AP'),this['fDefineSet'](_0x11b2d9['dirLightMa'+'pEnabled'],'LIT_DIR_LI'+'GHTMAP'),this['fDefineSet'](_0x11b2d9['skyboxInte'+'nsity']>-0x4be+-0xd5d+0x121b,'LIT_SKYBOX'+'_INTENSITY'),this['fDefineSet'](_0x11b2d9['clusteredL'+'ightingSha'+'dowsEnable'+'d'],'LIT_CLUSTE'+'RED_SHADOW'+'S'),this['fDefineSet'](_0x11b2d9['clusteredL'+'ightingAre'+'aLightsEna'+'bled'],'LIT_CLUSTE'+'RED_AREA_L'+'IGHTS'),this['fDefineSet'](_0x441a51,'LIT_TBN'),this['fDefineSet'](_0x12480b,'LIT_ADD_AM'+'BIENT'),this['fDefineSet'](_0x11b2d9['hasTangent'+'s'],'LIT_TANGEN'+'TS'),this['fDefineSet'](_0x11b2d9['useNormals'],'LIT_USE_NO'+'RMALS'),this['fDefineSet'](_0x11b2d9['useClearCo'+'atNormals'],'LIT_USE_CL'+'EARCOAT_NO'+'RMALS'),this['fDefineSet'](_0x11b2d9['useRefract'+'ion'],'LIT_REFRAC'+'TION'),this['fDefineSet'](_0x11b2d9['useDynamic'+'Refraction'],'LIT_DYNAMI'+'C_REFRACTI'+'ON'),this['fDefineSet'](_0x11b2d9['dispersion'],'LIT_DISPER'+'SION'),this['fDefineSet'](_0x11b2d9['useHeights'],'LIT_HEIGHT'+'S'),this['fDefineSet'](_0x11b2d9['opacityFad'+'esSpecular'],'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR'),this['fDefineSet'](_0x11b2d9['alphaToCov'+'erage'],'LIT_ALPHA_'+'TO_COVERAG'+'E'),this['fDefineSet'](_0x11b2d9['alphaTest'],'LIT_ALPHA_'+'TEST'),this['fDefineSet'](_0x11b2d9['useMsdf'],'LIT_MSDF'),this['fDefineSet'](_0x11b2d9['ssao'],'LIT_SSAO'),this['fDefineSet'](_0x11b2d9['useAo'],'LIT_AO'),this['fDefineSet'](_0x11b2d9['occludeDir'+'ect'],'LIT_OCCLUD'+'E_DIRECT'),this['fDefineSet'](_0x11b2d9['msdfTextAt'+'tribute'],'LIT_MSDF_T'+'EXT_ATTRIB'+'UTE'),this['fDefineSet'](_0x11b2d9['diffuseMap'+'Enabled'],'LIT_DIFFUS'+'E_MAP'),this['fDefineSet'](_0x11b2d9['shadowCatc'+'her'],'LIT_SHADOW'+'_CATCHER'),this['fDefineSet'](!(0x1*0x245f+0x1*-0x2176+-0x2e9),'LIT_FRESNE'+'L_MODEL',Rw[_0x11b2d9['fresnelMod'+'el']]),this['fDefineSet'](!(-0x26b3+0x53f*-0x7+-0x649*-0xc),'LIT_NONE_S'+'LICE_MODE',qw[_0x11b2d9['nineSliced'+'Mode']]),this['fDefineSet'](!(0x22d9+-0x1c6c+-0x66d),'LIT_BLEND_'+'TYPE',Yy[_0x11b2d9['blendType']]),this['fDefineSet'](!(-0x172f+-0x538+0x1c67),'LIT_CUBEMA'+'P_PROJECTI'+'ON',Gw[_0x11b2d9['cubeMapPro'+'jection']]),this['fDefineSet'](!(-0xfb*-0x19+0xc*0x19f+-0x8cb*0x5),'LIT_OCCLUD'+'E_SPECULAR',Ww[_0x11b2d9['occludeSpe'+'cular']]),this['fDefineSet'](!(0x26ae+0x950+0x2ffe*-0x1),'LIT_REFLEC'+'TION_SOURC'+'E',$w[_0x11b2d9['reflection'+'Source']]),this['fDefineSet'](!(0x46+0x23*0x10f+0x7*-0x555),'LIT_AMBIEN'+'T_SOURCE',Xw[_0x11b2d9['ambientSou'+'rce']]),this['fDefineSet'](!(-0x914+0x25*0x99+-0x47*0x2f),'{lightingU'+'v}',_0x451ea8??''),this['fDefineSet'](!(0x1922+0x3*-0x329+-0x1*0xfa7),'{reflectio'+'nDecode}',Tr['decodeFunc'](_0x11b2d9['reflection'+'Encoding'])),this['fDefineSet'](!(-0xb27*-0x1+0x1734+-0x225b),'{reflectio'+'nCubemapDe'+'code}',Tr['decodeFunc'](_0x11b2d9['reflection'+'CubemapEnc'+'oding'])),this['fDefineSet'](!(-0x2d5*0x5+-0x5*0x538+-0x1*-0x2841),'{ambientDe'+'code}',Tr['decodeFunc'](_0x11b2d9['ambientEnc'+'oding'])),this['_setupLigh'+'tingDefine'+'s'](_0x30d570,_0x11b2d9['clusteredL'+'ightingEna'+'bled']);}['prepareSha'+'dowPass'](){const {options:_0x6e7903}=this,_0x168fcb=this['shaderPass'+'Info']['lightType'],_0x2fb86b=this['shaderPass'+'Info']['shadowType'],_0x4fb3cd=qi['get'](_0x2fb86b);w['assert'](_0x4fb3cd);const _0x2635e9=_0x168fcb===ve||!_0x4fb3cd['vsm']&&_0x168fcb===Ze;this['fDefineSet'](_0x2635e9,'PERSPECTIV'+'E_DEPTH'),this['fDefineSet'](!(0x10b6+-0x9ae*0x2+0x1*0x2a6),'LIGHT_TYPE',''+u_[_0x168fcb]),this['fDefineSet'](!(-0xe*-0x6e+0x21b*0xb+-0xb*0x2a7),'SHADOW_TYP'+'E',''+_0x4fb3cd['name']),this['fDefineSet'](_0x6e7903['alphaTest'],'LIT_ALPHA_'+'TEST');}['generateFr'+'agmentShad'+'er'](_0x614d9c,_0x4efbd4,_0x1fbfb6){const _0x592e4d=this['options'];this['includes']['set']('frontendDe'+'clPS',_0x614d9c??''),this['includes']['set']('frontendCo'+'dePS',_0x4efbd4??''),_0x592e4d['pass']===Zn||_0x592e4d['pass']===Rl||(this['shadowPass']?this['prepareSha'+'dowPass']():this['prepareFor'+'wardPass'](_0x1fbfb6)),this['fshader']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22litMain'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20';}}class wv{constructor(){h(this,'hasTangent'+'s',!(-0x22ed+0x4d*0x1+0xc5*0x2d)),h(this,'shaderChun'+'ks',null),h(this,'pass',0x12c4+0x1905+0x2bc9*-0x1),h(this,'alphaTest',!(-0x26a*0x5+0xe*-0xd8+0x4c7*0x5)),h(this,'blendType',Cs),h(this,'separateAm'+'bient',!(-0xc9b*0x2+0x155e*0x1+0x3d9)),h(this,'screenSpac'+'e',!(-0x10db*0x2+-0x37c*0x2+0x823*0x5)),h(this,'skin',!(0x2032+-0x17e0+-0x851)),h(this,'batch',!(-0x202a*-0x1+-0x2*0x221+0x3*-0x94d)),h(this,'useInstanc'+'ing',!(0x33a+0xe5+-0x41e)),h(this,'useMorphPo'+'sition',!(0x1*-0x15c6+-0x31*-0xb1+0x2*-0x60d)),h(this,'useMorphNo'+'rmal',!(0xa48+-0x74f+-0x2f8)),h(this,'useMorphTe'+'xtureBased'+'Int',!(0x6e0+-0x236a+0x1c8b)),h(this,'nineSliced'+'Mode',-0xa38+0x1*0x2681+0x22d*-0xd),h(this,'clusteredL'+'ightingEna'+'bled',!(0x2237+-0x542*-0x6+-0x41c3*0x1)),h(this,'clusteredL'+'ightingCoo'+'kiesEnable'+'d',!(0x127e+0xfb*-0xd+-0x5be)),h(this,'clusteredL'+'ightingSha'+'dowsEnable'+'d',!(-0xcdb+0x2f*0x8f+-0x17d*0x9)),h(this,'clusteredL'+'ightingSha'+'dowType',-0xbc0+-0x236+0xdf6),h(this,'clusteredL'+'ightingAre'+'aLightsEna'+'bled',!(0xf57+0x1085*-0x2+0x11b4)),h(this,'vertexColo'+'rs',!(-0x1d*0x13c+-0x736+-0x625*-0x7)),h(this,'lightMapEn'+'abled',!(0x2683+0x5*0x85+-0x291b)),h(this,'dirLightMa'+'pEnabled',!(0x7ab+-0x361*-0x4+-0x152e*0x1)),h(this,'useHeights',!(0x1a9b+-0x1*-0x9f3+-0x248d)),h(this,'useNormals',!(0x19*-0x33+-0x800+0xcfc)),h(this,'useClearCo'+'atNormals',!(-0x14db+-0x211+0x16ed*0x1)),h(this,'useAo',!(-0x11f2+-0x1818+0x2a0b)),h(this,'diffuseMap'+'Enabled',!(-0x1*0x78e+0x1dc1*0x1+-0x1632*0x1)),h(this,'pixelSnap',!(-0x2*0x72f+-0x36*-0x86+-0xde5*0x1)),h(this,'ambientSH',!(-0x22*-0x61+0x2209+0x4b1*-0xa)),h(this,'ssao',!(-0x43*0x58+-0x4*0x2ec+0x3*0xb93)),h(this,'twoSidedLi'+'ghting',!(-0x26a6+-0x24f5*-0x1+0x1b2)),h(this,'occludeDir'+'ect',!(-0x455+0x2137*0x1+-0x1ce1)),h(this,'occludeSpe'+'cular',-0x2507*0x1+-0x20fc+0x4603),h(this,'occludeSpe'+'cularFloat',!(-0xc5*-0x1a+0xd0*0xe+-0x1f61*0x1)),h(this,'useMsdf',!(-0xbc6+0x10a4+-0x4dd)),h(this,'msdfTextAt'+'tribute',!(-0x1122+0x11a1*0x1+-0x7e)),h(this,'alphaToCov'+'erage',!(-0x9f*-0x19+0x3d7+0x135d*-0x1)),h(this,'opacityFad'+'esSpecular',!(-0xc61*0x2+-0xf89+0x1*0x284c)),h(this,'opacityDit'+'her',Sa),h(this,'opacitySha'+'dowDither',Sa),h(this,'cubeMapPro'+'jection',-0x32*-0x47+-0x2*0x10f+0x20*-0x5e),h(this,'useSpecula'+'r',!(-0xd04+-0x1f0c+-0x1*-0x2c11)),h(this,'useSpecula'+'rityFactor',!(0x7fe+0x176*0x5+0xf4b*-0x1)),h(this,'enableGGXS'+'pecular',!(0x12e*-0x2+0x22f0+-0x2093)),h(this,'fresnelMod'+'el',0x83e*0x1+0x40+-0x87e),h(this,'useRefract'+'ion',!(-0x1b70+-0x2561+0x40d2*0x1)),h(this,'useClearCo'+'at',!(-0x182+0x40f+-0x28c)),h(this,'useSheen',!(0x1e07*-0x1+0x1*-0x1e91+0x3c99*0x1)),h(this,'useIridesc'+'ence',!(0x1*-0x7bf+0x2cf*0xd+0x25*-0xc7)),h(this,'useMetalne'+'ss',!(-0x11*-0x7f+0x8*0x33a+-0x223e)),h(this,'useDynamic'+'Refraction',!(-0x6d4*-0x2+0x16c*-0x3+0x1b*-0x59)),h(this,'dispersion',!(-0x2b*-0x11+0x94f+-0xc29)),h(this,'fog',Kn),h(this,'gamma',Ll),h(this,'toneMap',-(0x1c10*-0x1+0x16*-0xee+-0x1*-0x3085)),h(this,'reflection'+'Source',vr),h(this,'reflection'+'Encoding',null),h(this,'reflection'+'CubemapEnc'+'oding',null),h(this,'ambientSou'+'rce','constant'),h(this,'ambientEnc'+'oding',null),h(this,'skyboxInte'+'nsity',-0x90*0x2a+0x24d4+0x6d*-0x1f),h(this,'useCubeMap'+'Rotation',!(0x5b9+-0x1*0x19cf+0x1417)),h(this,'lightMapWi'+'thoutAmbie'+'nt',!(0x1*0x3a8+0x92f*-0x1+0x588)),h(this,'lights',[]),h(this,'noShadow',!(0x60*-0x33+-0x2ec+0x160d)),h(this,'lightMaskD'+'ynamic',-0x1b5+0x1b3c+-0x5*0x51b),h(this,'userAttrib'+'utes',{}),h(this,'linearDept'+'h',!(0x2ef*-0x2+0x19b0+-0x10b*0x13)),h(this,'shadowCatc'+'her',!(0x53*0x3b+0xec3*0x2+-0x30a6));}}class dl{constructor(){h(this,'defines',new Map()),h(this,'forceUv1',!(0x1ff1+0xd43+-0x1*0x2d33)),h(this,'specularTi'+'nt',!(-0x2160+-0x1b04*-0x1+0x65d)),h(this,'metalnessT'+'int',!(-0x78b+-0xc7e+-0x72*-0x2d)),h(this,'glossTint',!(-0x1d87+-0x7a5*0x4+0x3c1c)),h(this,'emissiveEn'+'coding','linear'),h(this,'lightMapEn'+'coding','linear'),h(this,'packedNorm'+'al',!(0x22d8+-0x13*-0x1d2+0x9eb*-0x7)),h(this,'normalDeta'+'ilPackedNo'+'rmal',!(-0x1*0x1d4a+0x225f+0x5*-0x104)),h(this,'clearCoatP'+'ackedNorma'+'l',!(0x5*0xd+0x15a2+-0xaf1*0x2)),h(this,'glossInver'+'t',!(0x1116+0x8*-0x139+-0x74d)),h(this,'sheenGloss'+'Invert',!(-0x668*0x5+0x1c8+0x1*0x1e41)),h(this,'clearCoatG'+'lossInvert',!(0x241d+-0x23e3*0x1+-0x39)),h(this,'useAO',!(0xa*0x2bd+-0xc25+-0xf3c)),h(this,'litOptions',new wv());}get['pass'](){return this['litOptions']['pass'];}}const Ev={'generateKey'(_0x1abc0f){return'lit'+Object['keys'](_0x1abc0f)['sort']()['map'](_0x5478db=>{var _0x1aa587;return _0x5478db==='shaderChun'+'ks'?((_0x1aa587=_0x1abc0f['shaderChun'+'ks'])==null?void(-0xa42+0xf23+-0x4e1):_0x1aa587['key'])??'':_0x5478db==='lights'?Ev['generateLi'+'ghtsKey'](_0x1abc0f):_0x5478db+_0x1abc0f[_0x5478db];})['join']('\x0a');},'generateLightsKey'(_0x14465f){return'lights:'+_0x14465f['lights']['map'](_0x44b071=>!_0x14465f['clusteredL'+'ightingEna'+'bled']||_0x44b071['_type']===ve?_0x44b071['key']+',':'')['join']('');}},bn=[],Qd=_0x2f5979=>Object['keys'](_0x2f5979)['filter'](_0x3b64e9=>_0x3b64e9!=='litOptions')['sort']();class fb extends ya{constructor(){super(...arguments),h(this,'optionsCon'+'text',new dl()),h(this,'optionsCon'+'textMin',new dl());}['generateKe'+'y'](_0xa2b967){let _0x17a365;return _0xa2b967===this['optionsCon'+'textMin']?(this['propsMin']||(this['propsMin']=Qd(_0xa2b967)),_0x17a365=this['propsMin']):_0xa2b967===this['optionsCon'+'text']?(this['props']||(this['props']=Qd(_0xa2b967)),_0x17a365=this['props']):_0x17a365=Qd(_0xa2b967),'standard:\x0a'+ya['definesHas'+'h'](_0xa2b967['defines'])+'\x0a'+_0x17a365['map'](_0xa79cc1=>_0xa79cc1+_0xa2b967[_0xa79cc1])['join']('\x0a')+Ev['generateKe'+'y'](_0xa2b967['litOptions']);}['_getUvSour'+'ceExpressi'+'on'](_0x147ae7,_0x2667a5,_0x15e737){const _0x563ad7=_0x15e737[_0x147ae7],_0x393716=_0x15e737[_0x2667a5],_0x40d2fb=_0x15e737['litOptions']['pass']===Aa;let _0x39eaa9;return _0x40d2fb&&_0x15e737['litOptions']['nineSliced'+'Mode']===Pt||_0x40d2fb&&_0x15e737['litOptions']['nineSliced'+'Mode']===Mt?_0x39eaa9='nineSliced'+'Uv':(_0x563ad7===0xe59+-0x1198+0x3*0x115?_0x39eaa9='vUv'+_0x393716:_0x39eaa9='vUV'+_0x393716+'_'+_0x563ad7,_0x15e737['heightMap']&&_0x147ae7!=='heightMapT'+'ransform'&&(_0x39eaa9+='\x20+\x20dUvOffs'+'et')),_0x39eaa9;}['_validateM'+'apChunk'](_0x27fa3a,_0x5d6d94,_0x2f9298){w['call'](()=>{const _0x1103af=_0x2f9298['get'](_0x5d6d94)['replace'](/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm,'$1'),_0x4752bf=[],_0x4fc594=(_0x49cc6b,_0x39ba86)=>{_0x1103af['includes'](_0x49cc6b)&&_0x4752bf['push']('\x20\x20'+_0x49cc6b+'\x20->\x20'+_0x39ba86);};[['$UV','{STD_'+_0x27fa3a+('_TEXTURE_U'+'V}')],['$CH','{STD_'+_0x27fa3a+('_TEXTURE_C'+'HANNEL}')],['$SAMPLER','{STD_'+_0x27fa3a+('_TEXTURE_N'+'AME}')],['$DECODE','{STD_'+_0x27fa3a+('_TEXTURE_D'+'ECODE}')],['$VC','{STD_'+_0x27fa3a+('_VERTEX_CH'+'ANNEL}')],['$DETAILMOD'+'E','{STD_'+_0x27fa3a+('_DETAILMOD'+'E}')],['unpackNorm'+'al(','{STD_'+_0x27fa3a+('_TEXTURE_D'+'ECODE}(')]]['forEach'](([_0x5bebaa,_0x32ce33])=>_0x4fc594(_0x5bebaa,_0x32ce33)),[['MAPFLOAT','STD_'+_0x27fa3a+'_CONSTANT'],['MAPCOLOR','STD_'+_0x27fa3a+'_CONSTANT'],['MAPVERTEX','STD_'+_0x27fa3a+'_VERTEX'],['MAPTEXTURE','STD_'+_0x27fa3a+'_TEXTURE'],['MAPINVERT','STD_'+_0x27fa3a+'_INVERT']]['forEach'](([_0x32f290,_0x5d9135])=>_0x4fc594(_0x32f290,_0x5d9135)),_0x1103af['includes']('$texture2D'+'SAMPLE')&&_0x4fc594('$texture2D'+'SAMPLE','(Macro\x20no\x20'+'longer\x20sup'+'ported\x20-\x20r'+'emove/refa'+'ctor)'),_0x4752bf['length']>-0x244b+0x219*0xd+0x906&&w['errorOnce']('Shader\x20chu'+'nk\x20'+_0x5d6d94+('\x20is\x20in\x20no\x20'+'longer\x20com'+'patible\x20fo'+'rmat.\x20Plea'+'se\x20make\x20th'+'ese\x20replac'+'ements\x20to\x20'+'bring\x20it\x20t'+'o\x20the\x20curr'+'ent\x20versio'+'n:\x0a')+_0x4752bf['join']('\x0a'),{'code':_0x1103af});});}['_addMapDef'+'ines'](_0x12c01f,_0x5ecbe7,_0x3ecda3,_0x504a70,_0xfd5e3b,_0x1a611a,_0x24540c=null){const _0x52f8c7=_0x5ecbe7+'Map',_0x49c963=_0x5ecbe7['toUpperCas'+'e'](),_0x3c94fb=_0x52f8c7+'Uv',_0x6dc3be=_0x52f8c7+'Identifier',_0x22d39e=_0x52f8c7+'Transform',_0x18546c=_0x52f8c7+'Channel',_0x269ac2=_0x5ecbe7+('VertexColo'+'rChannel'),_0x22d311=_0x5ecbe7+'Tint',_0x56ad50=_0x5ecbe7+('VertexColo'+'r'),_0x40012e=_0x5ecbe7+'Mode',_0x3a4086=_0x5ecbe7+'Invert',_0x1a7217=_0x504a70[_0x22d311],_0x2ba103=_0x504a70[_0x56ad50],_0x5b87e2=_0x504a70[_0x52f8c7],_0x1da789=_0x504a70[_0x6dc3be],_0x41ce55=_0x504a70[_0x40012e],_0x5e3a12=_0xfd5e3b['get'](_0x3ecda3);if(w['assert'](_0x5e3a12,'Shader\x20chu'+'nk\x20'+_0x3ecda3+('\x20not\x20found'+'.')),w['call'](()=>{_0x5e3a12&&this['_validateM'+'apChunk'](_0x49c963,_0x3ecda3,_0xfd5e3b);}),_0x5b87e2){_0x12c01f['set']('STD_'+_0x49c963+'_TEXTURE','');const _0x2b6c99=this['_getUvSour'+'ceExpressi'+'on'](_0x22d39e,_0x3c94fb,_0x504a70);_0x12c01f['set']('{STD_'+_0x49c963+('_TEXTURE_U'+'V}'),_0x2b6c99),_0x12c01f['set']('{STD_'+_0x49c963+('_TEXTURE_C'+'HANNEL}'),_0x504a70[_0x18546c]);const _0x9f4e46='{STD_'+_0x49c963+('_TEXTURE_N'+'AME}');if(_0x5e3a12['includes'](_0x9f4e46)){let _0xc07de='texture_'+_0x52f8c7;const _0x4b2b32=_0x1a611a[_0x1da789];_0x4b2b32?_0xc07de=_0x4b2b32:(_0x1a611a[_0x1da789]=_0xc07de,_0x12c01f['set']('STD_'+_0x49c963+('_TEXTURE_A'+'LLOCATE'),'')),_0x12c01f['set'](_0x9f4e46,_0xc07de);}if(_0x24540c){const _0x259a98=_0x504a70[_0x18546c]==='aaa'?'passThroug'+'h':Tr['decodeFunc'](_0x24540c);_0x12c01f['set']('{STD_'+_0x49c963+('_TEXTURE_D'+'ECODE}'),_0x259a98);}}_0x2ba103&&(_0x12c01f['set']('STD_'+_0x49c963+'_VERTEX',''),_0x12c01f['set']('{STD_'+_0x49c963+('_VERTEX_CH'+'ANNEL}'),_0x504a70[_0x269ac2])),_0x41ce55&&_0x12c01f['set']('{STD_'+_0x49c963+('_DETAILMOD'+'E}'),_0x41ce55),_0x1a7217&&_0x12c01f['set']('STD_'+_0x49c963+'_CONSTANT',''),_0x504a70[_0x3a4086]&&_0x12c01f['set']('STD_'+_0x49c963+'_INVERT','');}['_correctCh'+'annel'](_0x390dea,_0xc3ef00,_0x1b7f97){if(_0x1b7f97[_0x390dea]>0x1518+-0x2512*-0x1+-0x3a2a){if(_0x1b7f97[_0x390dea]<_0xc3ef00['length'])return _0xc3ef00['substring'](-0x1*-0x258f+0x6f1*0x5+0x1211*-0x4,_0x1b7f97[_0x390dea]);if(_0x1b7f97[_0x390dea]>_0xc3ef00['length']){let _0x23c8a0=_0xc3ef00;const _0xd67d0a=_0x23c8a0['charAt'](_0x23c8a0['length']-(-0xd04+0x11ee+-0x1*0x4e9)),_0x3a5306=_0x1b7f97[_0x390dea]-_0x23c8a0['length'];for(let _0x38bcd0=-0x20ba+-0x177b+0x1*0x3835;_0x38bcd0<_0x3a5306;_0x38bcd0++)_0x23c8a0+=_0xd67d0a;return _0x23c8a0;}return _0xc3ef00;}}['createVert'+'exShader'](_0x1754fc,_0x3084ed){const _0x12d5c2=[],_0x140dfe=[],_0x5a34a2=[];for(const _0x186a1c in bn){const _0x198ef0=_0x186a1c+'Map';if(_0x3084ed[_0x186a1c+('VertexColo'+'r')]){const _0x5a29f2=_0x186a1c+('VertexColo'+'rChannel');_0x3084ed[_0x5a29f2]=this['_correctCh'+'annel'](_0x186a1c,_0x3084ed[_0x5a29f2],bn);}if(_0x3084ed[_0x198ef0]){const _0x114ac5=_0x198ef0+'Channel',_0x1bc979=_0x198ef0+'Transform',_0x156e06=_0x198ef0+'Uv';_0x3084ed[_0x156e06]=Math['min'](_0x3084ed[_0x156e06],-0xd90+-0x1cb6+-0x89*-0x4f),_0x3084ed[_0x114ac5]=this['_correctCh'+'annel'](_0x186a1c,_0x3084ed[_0x114ac5],bn);const _0x4c9d58=_0x3084ed[_0x156e06];_0x12d5c2[_0x4c9d58]=!(-0x1de7+-0x9*-0xc9+0x16d6),_0x140dfe[_0x4c9d58]=_0x140dfe[_0x4c9d58]||_0x3084ed[_0x198ef0]&&!_0x3084ed[_0x1bc979],_0x3084ed[_0x1bc979]&&_0x5a34a2['push']({'name':_0x186a1c,'id':_0x3084ed[_0x1bc979],'uv':_0x3084ed[_0x156e06]});}}_0x3084ed['forceUv1']&&(_0x12d5c2[0xc81+-0x2*-0x295+-0x11aa]=!(-0x95f+0x168b+-0xd2c),_0x140dfe[0x93*0x39+0x519+-0x25d3*0x1]=_0x140dfe[-0xdc8+0x1dbf+-0xff6]!==void(-0x1*0x2309+0x274+0x2095)?_0x140dfe[0x1f32+0x1*-0xf33+-0x2*0x7ff]:!(0x51e+0xa*-0x6b+0xf*-0x10)),_0x1754fc['generateVe'+'rtexShader'](_0x12d5c2,_0x140dfe,_0x5a34a2);}['prepareFra'+'gmentDefin'+'es'](_0x542d29,_0x480dfb,_0xc874ac){const _0x286782=(_0x253168,_0x4e577a,_0x58d77a='')=>{_0x253168&&_0x480dfb['set'](_0x4e577a,_0x58d77a);};_0x286782(_0x542d29['lightMap'],'STD_LIGHTM'+'AP',''),_0x286782(_0x542d29['lightVerte'+'xColor'],'STD_LIGHT_'+'VERTEX_COL'+'OR',''),_0x286782(_0x542d29['dirLightMa'+'p']&&_0x542d29['litOptions']['useSpecula'+'r'],'STD_LIGHTM'+'AP_DIR',''),_0x286782(_0x542d29['heightMap'],'STD_HEIGHT'+'_MAP',''),_0x286782(_0x542d29['useSpecula'+'rColor'],'STD_SPECUL'+'AR_COLOR',''),_0x286782(_0x542d29['aoMap']||_0x542d29['aoVertexCo'+'lor']||_0x542d29['useAO'],'STD_AO',''),_0x286782(!(-0x2e*-0x9b+-0x2095+0x4bb),'STD_OPACIT'+'Y_DITHER',iE[_0xc874ac['isForward']?_0x542d29['litOptions']['opacityDit'+'her']:_0x542d29['litOptions']['opacitySha'+'dowDither']]);}['createShad'+'erDefiniti'+'on'](_0x35cbd1,_0x511ba0){const _0xdb1f70=Si['get'](_0x35cbd1)['getByIndex'](_0x511ba0['litOptions']['pass']),_0x3fc41f=_0xdb1f70['isForward'],_0x209fa9=new db(_0x35cbd1,_0x511ba0['litOptions']);this['createVert'+'exShader'](_0x209fa9,_0x511ba0);const _0xfb76bd={};_0x511ba0['litOptions']['fresnelMod'+'el']=_0x511ba0['litOptions']['fresnelMod'+'el']===-0x204a+-0x2476*0x1+0x44c0?Yp:_0x511ba0['litOptions']['fresnelMod'+'el'];const _0x332273=_0x209fa9['fDefines'];this['prepareFra'+'gmentDefin'+'es'](_0x511ba0,_0x332273,_0xdb1f70);let _0x4eb686='';if(_0x3fc41f){if(_0x511ba0['heightMap']&&this['_addMapDef'+'ines'](_0x332273,'height','parallaxPS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd),(_0x511ba0['litOptions']['blendType']!==Cs||_0x511ba0['litOptions']['alphaTest']||_0x511ba0['litOptions']['alphaToCov'+'erage']||_0x511ba0['litOptions']['opacityDit'+'her']!==Sa)&&this['_addMapDef'+'ines'](_0x332273,'opacity','opacityPS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd),_0x209fa9['needsNorma'+'l']){if((_0x511ba0['normalMap']||_0x511ba0['clearCoatN'+'ormalMap'])&&!_0x511ba0['litOptions']['hasTangent'+'s']){const _0x25cceb=_0x511ba0['normalMap']?'normalMap':'clearCoatN'+'ormalMap';_0x4eb686=this['_getUvSour'+'ceExpressi'+'on'](_0x25cceb+'Transform',_0x25cceb+'Uv',_0x511ba0);}this['_addMapDef'+'ines'](_0x332273,'normalDeta'+'il','normalMapP'+'S',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd,_0x511ba0['normalDeta'+'ilPackedNo'+'rmal']?'xy':'xyz'),this['_addMapDef'+'ines'](_0x332273,'normal','normalMapP'+'S',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd,_0x511ba0['packedNorm'+'al']?'xy':'xyz');}_0x511ba0['diffuseDet'+'ail']&&this['_addMapDef'+'ines'](_0x332273,'diffuseDet'+'ail','diffusePS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd,_0x511ba0['diffuseDet'+'ailEncodin'+'g']),this['_addMapDef'+'ines'](_0x332273,'diffuse','diffusePS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd,_0x511ba0['diffuseEnc'+'oding']),_0x511ba0['litOptions']['useRefract'+'ion']&&(this['_addMapDef'+'ines'](_0x332273,'refraction','transmissi'+'onPS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd),this['_addMapDef'+'ines'](_0x332273,'thickness','thicknessP'+'S',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd)),_0x511ba0['litOptions']['useIridesc'+'ence']&&(this['_addMapDef'+'ines'](_0x332273,'iridescenc'+'e','iridescenc'+'ePS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd),this['_addMapDef'+'ines'](_0x332273,'iridescenc'+'eThickness','iridescenc'+'eThickness'+'PS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd)),(_0x209fa9['lighting']&&_0x511ba0['litOptions']['useSpecula'+'r']||_0x209fa9['reflection'+'s'])&&(_0x511ba0['litOptions']['useSheen']&&(this['_addMapDef'+'ines'](_0x332273,'sheen','sheenPS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd,_0x511ba0['sheenEncod'+'ing']),this['_addMapDef'+'ines'](_0x332273,'sheenGloss','sheenGloss'+'PS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd)),_0x511ba0['litOptions']['useMetalne'+'ss']&&(this['_addMapDef'+'ines'](_0x332273,'metalness','metalnessP'+'S',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd),this['_addMapDef'+'ines'](_0x332273,'ior','iorPS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd)),_0x511ba0['litOptions']['useSpecula'+'rityFactor']&&this['_addMapDef'+'ines'](_0x332273,'specularit'+'yFactor','specularit'+'yFactorPS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd),_0x511ba0['useSpecula'+'rColor']&&this['_addMapDef'+'ines'](_0x332273,'specular','specularPS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd,_0x511ba0['specularEn'+'coding']),this['_addMapDef'+'ines'](_0x332273,'gloss','glossPS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd)),_0x511ba0['aoDetail']&&this['_addMapDef'+'ines'](_0x332273,'aoDetail','aoPS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd),(_0x511ba0['aoMap']||_0x511ba0['aoVertexCo'+'lor']||_0x511ba0['useAO'])&&this['_addMapDef'+'ines'](_0x332273,'ao','aoPS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd),this['_addMapDef'+'ines'](_0x332273,'emissive','emissivePS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd,_0x511ba0['emissiveEn'+'coding']),_0x511ba0['litOptions']['useClearCo'+'at']&&(this['_addMapDef'+'ines'](_0x332273,'clearCoat','clearCoatP'+'S',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd),this['_addMapDef'+'ines'](_0x332273,'clearCoatG'+'loss','clearCoatG'+'lossPS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd),this['_addMapDef'+'ines'](_0x332273,'clearCoatN'+'ormal','clearCoatN'+'ormalPS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd,_0x511ba0['clearCoatP'+'ackedNorma'+'l']?'xy':'xyz')),_0x511ba0['litOptions']['enableGGXS'+'pecular']&&this['_addMapDef'+'ines'](_0x332273,'anisotropy','anisotropy'+'PS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd),(_0x511ba0['lightMap']||_0x511ba0['lightVerte'+'xColor'])&&this['_addMapDef'+'ines'](_0x332273,'light','lightmapPS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd,_0x511ba0['lightMapEn'+'coding']);}else{const _0x3bcc5e=_0x511ba0['litOptions']['opacitySha'+'dowDither'];(_0x511ba0['litOptions']['alphaTest']||_0x3bcc5e)&&this['_addMapDef'+'ines'](_0x332273,'opacity','opacityPS',_0x511ba0,_0x209fa9['chunks'],_0xfb76bd);}_0x209fa9['generateFr'+'agmentShad'+'er'](_0x209fa9['chunks']['get']('stdDeclara'+'tionPS'),_0x209fa9['chunks']['get']('stdFrontEn'+'dPS'),_0x4eb686);const _0x32a50f=bh['merge'](_0x209fa9['chunks'],_0x209fa9['includes']),_0x2736a1=_0x209fa9['vDefines'];_0x511ba0['defines']['forEach']((_0x38cdf3,_0x4bb237)=>_0x2736a1['set'](_0x4bb237,_0x38cdf3)),_0x511ba0['defines']['forEach']((_0x46b664,_0xc768b8)=>_0x332273['set'](_0xc768b8,_0x46b664));const _0x5a1eb4=Jt['createDefi'+'nition'](_0x35cbd1,{'name':'StandardSh'+'ader','attributes':_0x209fa9['attributes'],'shaderLanguage':_0x209fa9['shaderLang'+'uage'],'vertexCode':_0x209fa9['vshader'],'fragmentCode':_0x209fa9['fshader'],'vertexIncludes':_0x32a50f,'fragmentIncludes':_0x32a50f,'fragmentDefines':_0x332273,'vertexDefines':_0x2736a1});return _0x209fa9['shaderPass'+'Info']['isForward']&&(_0x5a1eb4['tag']=Sy),_0x5a1eb4;}}const Jd=new fb(),ss=[];ss[Gp]={'src':Ft,'dst':Ft,'op':Tx},ss[Cs]={'src':Ft,'dst':rp,'op':fs},ss[Zs]={'src':jh,'dst':Yh,'op':fs,'alphaSrc':Ft},ss[Gn]={'src':Ft,'dst':Yh,'op':fs},ss[Hp]={'src':Ft,'dst':Ft,'op':fs},ss[Ed]={'src':jh,'dst':Ft,'op':fs},ss[$p]={'src':JS,'dst':vx,'op':fs},ss[Xp]={'src':xx,'dst':Ft,'op':fs},ss[Wp]={'src':JS,'dst':rp,'op':fs},ss[qp]={'src':Ft,'dst':Ft,'op':wx},ss[jp]={'src':Ft,'dst':Ft,'op':Ex};let ub=0x8c2*-0x2+-0x3fe*0x4+0x2*0x10be;class tr{constructor(){h(this,'meshInstan'+'ces',[]),h(this,'name','Untitled'),h(this,'userId',''),h(this,'id',ub++),h(this,'variants',new Map()),h(this,'defines',new Map()),h(this,'_definesDi'+'rty',!(0x1ee2+0x1bc3+-0x22c*0x1b)),h(this,'parameters',{}),h(this,'alphaTest',0x2f*-0xbf+0x1725+-0x5f6*-0x2),h(this,'alphaToCov'+'erage',!(0x19d*0x1+-0x2d2*-0x7+-0x155a)),h(this,'_blendStat'+'e',new pt()),h(this,'_depthStat'+'e',new Yt()),h(this,'cull',pa),h(this,'stencilFro'+'nt',null),h(this,'stencilBac'+'k',null),h(this,'_shaderChu'+'nks',null),h(this,'_oldChunks',{}),h(this,'_dirtyShad'+'er',!(0x1*0x2dd+0x1650+-0x192d)),h(this,'_shaderVer'+'sion',0x13d9+-0x9*-0x209+-0x262a),h(this,'_scene',null),h(this,'dirty',!(-0x1046*0x2+-0x12*-0x4d+-0xd91*-0x2)),new.target===tr&&w['error']('Material\x20c'+'lass\x20canno'+'t\x20be\x20insta'+'ntiated,\x20u'+'se\x20ShaderM'+'aterial\x20in'+'stead');}get['hasShaderC'+'hunks'](){return this['_shaderChu'+'nks']!=null;}get['shaderChun'+'ks'](){return this['_shaderChu'+'nks']||(this['_shaderChu'+'nks']=new Pe()),this['_shaderChu'+'nks'];}['getShaderC'+'hunks'](_0x2e8e45=Fe){const _0x26c10e=this['shaderChun'+'ks'];return _0x2e8e45===Fe?_0x26c10e['glsl']:_0x26c10e['wgsl'];}set['shaderChun'+'ksVersion'](_0xbf1e0b){this['shaderChun'+'ks']['version']=_0xbf1e0b;}get['shaderChun'+'ksVersion'](){return this['shaderChun'+'ks']['version'];}set['chunks'](_0x1043be){w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),this['_oldChunks']=_0x1043be;}get['chunks'](){return w['deprecated']('Material.c'+'hunks\x20has\x20'+'been\x20remov'+'ed,\x20please'+'\x20use\x20Mater'+'ial.getSha'+'derChunks\x20'+'instead.\x20F'+'or\x20example'+':\x20material'+'.getShader'+'Chunks(pc.'+'SHADERLANG'+'UAGE_GLSL)'+'.set(\x22chun'+'kName\x22,\x20\x22c'+'hunkCode\x22)'),Object['assign'](this['_oldChunks'],Object['fromEntrie'+'s'](this['shaderChun'+'ks']['glsl'])),this['_oldChunks'];}set['depthBias'](_0x3ece8b){this['_depthStat'+'e']['depthBias']=_0x3ece8b;}get['depthBias'](){return this['_depthStat'+'e']['depthBias'];}set['slopeDepth'+'Bias'](_0x21f008){this['_depthStat'+'e']['depthBiasS'+'lope']=_0x21f008;}get['slopeDepth'+'Bias'](){return this['_depthStat'+'e']['depthBiasS'+'lope'];}set['redWrite'](_0x3273e4){this['_blendStat'+'e']['redWrite']=_0x3273e4;}get['redWrite'](){return this['_blendStat'+'e']['redWrite'];}set['greenWrite'](_0x866838){this['_blendStat'+'e']['greenWrite']=_0x866838;}get['greenWrite'](){return this['_blendStat'+'e']['greenWrite'];}set['blueWrite'](_0x3083dd){this['_blendStat'+'e']['blueWrite']=_0x3083dd;}get['blueWrite'](){return this['_blendStat'+'e']['blueWrite'];}set['alphaWrite'](_0x5b8d69){this['_blendStat'+'e']['alphaWrite']=_0x5b8d69;}get['alphaWrite'](){return this['_blendStat'+'e']['alphaWrite'];}get['transparen'+'t'](){return this['_blendStat'+'e']['blend'];}['_updateTra'+'nsparency'](){const _0x175656=this['transparen'+'t'],_0x1a69e9=this['meshInstan'+'ces'];for(let _0x436282=0x1524+0x44*-0x90+0x111c;_0x436282<_0x1a69e9['length'];_0x436282++)_0x1a69e9[_0x436282]['transparen'+'t']=_0x175656;}set['blendState'](_0x2309b0){this['_blendStat'+'e']['copy'](_0x2309b0),this['_updateTra'+'nsparency']();}get['blendState'](){return this['_blendStat'+'e'];}set['blendType'](_0x32ecc5){const _0x2d3fa5=ss[_0x32ecc5];w['assert'](_0x2d3fa5,'Unknown\x20bl'+'end\x20mode\x20'+_0x32ecc5),this['_blendStat'+'e']['setColorBl'+'end'](_0x2d3fa5['op'],_0x2d3fa5['src'],_0x2d3fa5['dst']),this['_blendStat'+'e']['setAlphaBl'+'end'](_0x2d3fa5['alphaOp']??_0x2d3fa5['op'],_0x2d3fa5['alphaSrc']??_0x2d3fa5['src'],_0x2d3fa5['alphaDst']??_0x2d3fa5['dst']);const _0x1bf4e6=_0x32ecc5!==Cs;this['_blendStat'+'e']['blend']!==_0x1bf4e6&&(this['_blendStat'+'e']['blend']=_0x1bf4e6,this['_updateTra'+'nsparency']()),this['_updateMes'+'hInstanceK'+'eys']();}get['blendType'](){if(!this['transparen'+'t'])return Cs;const {colorOp:_0x453278,colorSrcFactor:_0x2e3f60,colorDstFactor:_0x14a2f2,alphaOp:_0x519a7a,alphaSrcFactor:_0x5a61c2,alphaDstFactor:_0x281356}=this['_blendStat'+'e'];for(let _0x10f3bc=0x122f+0x1*0x213b+-0x336a;_0x10f3bc<ss['length'];_0x10f3bc++){const _0x33c720=ss[_0x10f3bc];if(_0x33c720['src']===_0x2e3f60&&_0x33c720['dst']===_0x14a2f2&&_0x33c720['op']===_0x453278&&_0x33c720['src']===_0x5a61c2&&_0x33c720['dst']===_0x281356&&_0x33c720['op']===_0x519a7a)return _0x10f3bc;}return Zs;}set['depthState'](_0x121bf1){this['_depthStat'+'e']['copy'](_0x121bf1);}get['depthState'](){return this['_depthStat'+'e'];}set['depthTest'](_0x2ac659){this['_depthStat'+'e']['test']=_0x2ac659;}get['depthTest'](){return this['_depthStat'+'e']['test'];}set['depthFunc'](_0x57ae19){this['_depthStat'+'e']['func']=_0x57ae19;}get['depthFunc'](){return this['_depthStat'+'e']['func'];}set['depthWrite'](_0x46a196){this['_depthStat'+'e']['write']=_0x46a196;}get['depthWrite'](){return this['_depthStat'+'e']['write'];}['copy'](_0x256a4e){var _0x5571f5,_0x17fc56;this['name']=_0x256a4e['name'],this['alphaTest']=_0x256a4e['alphaTest'],this['alphaToCov'+'erage']=_0x256a4e['alphaToCov'+'erage'],this['_blendStat'+'e']['copy'](_0x256a4e['_blendStat'+'e']),this['_depthStat'+'e']['copy'](_0x256a4e['_depthStat'+'e']),this['cull']=_0x256a4e['cull'],this['stencilFro'+'nt']=(_0x5571f5=_0x256a4e['stencilFro'+'nt'])==null?void(0x6b*-0x3+-0x19fa+0x1b3b):_0x5571f5['clone'](),_0x256a4e['stencilBac'+'k']&&(this['stencilBac'+'k']=_0x256a4e['stencilFro'+'nt']===_0x256a4e['stencilBac'+'k']?this['stencilFro'+'nt']:_0x256a4e['stencilBac'+'k']['clone']()),this['clearParam'+'eters']();for(const _0x5a3210 in _0x256a4e['parameters'])_0x256a4e['parameters']['hasOwnProp'+'erty'](_0x5a3210)&&this['_setParame'+'terSimple'](_0x5a3210,_0x256a4e['parameters'][_0x5a3210]['data']);return this['defines']['clear'](),_0x256a4e['defines']['forEach']((_0x1750de,_0x445ecb)=>this['defines']['set'](_0x445ecb,_0x1750de)),this['_shaderChu'+'nks']=_0x256a4e['hasShaderC'+'hunks']?new Pe():null,(_0x17fc56=this['_shaderChu'+'nks'])==null||_0x17fc56['copy'](_0x256a4e['_shaderChu'+'nks']),this;}['clone'](){return new this['constructo'+'r']()['copy'](this);}['_updateMes'+'hInstanceK'+'eys'](){const _0x30b059=this['meshInstan'+'ces'];for(let _0x27e2e1=-0x18*-0xb5+-0x12f2+0x17*0x16;_0x27e2e1<_0x30b059['length'];_0x27e2e1++)_0x30b059[_0x27e2e1]['updateKey']();}['updateUnif'+'orms'](_0x3e605f,_0xc124cc){this['_dirtyShad'+'er']&&this['clearVaria'+'nts']();}['getShaderV'+'ariant'](_0x58d774){w['assert'](!(0x23*0x52+0x15b*0xb+-0x1a1e),'Not\x20implem'+'ented');}['update'](){var _0x338aba,_0x33d85a;if(Object['keys'](this['_oldChunks'])['length']>0x121d*-0x1+-0xc98+0x1eb5*0x1){for(const [_0x4343fa,_0x3f1f3f]of Object['entries'](this['_oldChunks']))this['shaderChun'+'ks']['glsl']['set'](_0x4343fa,_0x3f1f3f),delete this['_oldChunks'][_0x4343fa];}(this['_definesDi'+'rty']||(_0x338aba=this['_shaderChu'+'nks'])!=null&&_0x338aba['isDirty']())&&(this['_definesDi'+'rty']=!(0x658+0xcde*-0x1+0x22d*0x3),(_0x33d85a=this['_shaderChu'+'nks'])==null||_0x33d85a['resetDirty'](),this['clearVaria'+'nts']()),this['dirty']=!(-0x8a8+-0x35c+0xc04*0x1);}['clearParam'+'eters'](){this['parameters']={};}['getParamet'+'ers'](){return this['parameters'];}['clearVaria'+'nts'](){this['variants']['clear']();const _0x3e66d7=this['meshInstan'+'ces'],_0x4f9d16=_0x3e66d7['length'];for(let _0x4822b8=0x183*0x1+-0x4*-0x99f+0x1*-0x27ff;_0x4822b8<_0x4f9d16;_0x4822b8++)_0x3e66d7[_0x4822b8]['clearShade'+'rs']();}['getParamet'+'er'](_0x407928){return this['parameters'][_0x407928];}['_setParame'+'terSimple'](_0x3b00a2,_0x5620ab){w['call'](()=>{_0x5620ab===void(-0x168c+-0x13f2+0x206*0x15)&&w['warnOnce']('Material#s'+'etParamete'+'r:\x20Attempt'+'ing\x20to\x20set'+'\x20undefined'+'\x20data\x20for\x20'+'parameter\x20'+'\x22'+_0x3b00a2+('\x22,\x20this\x20is'+'\x20likely\x20no'+'t\x20expected'+'.'),this);});const _0x93b7a0=this['parameters'][_0x3b00a2];_0x93b7a0?_0x93b7a0['data']=_0x5620ab:this['parameters'][_0x3b00a2]={'scopeId':null,'data':_0x5620ab};}['setParamet'+'er'](_0x436abc,_0x5355c4){if(_0x5355c4===void(0x1cd*0xf+0x200f+-0x3b12)&&typeof _0x436abc=='object'){const _0x461e76=_0x436abc;if(_0x461e76['length']){for(let _0x1d57ea=0x81*-0x3b+0x10db*0x2+-0x3fb;_0x1d57ea<_0x461e76['length'];_0x1d57ea++)this['setParamet'+'er'](_0x461e76[_0x1d57ea]);return;}_0x436abc=_0x461e76['name'],_0x5355c4=_0x461e76['value'];}this['_setParame'+'terSimple'](_0x436abc,_0x5355c4);}['deletePara'+'meter'](_0x2f4574){this['parameters'][_0x2f4574]&&delete this['parameters'][_0x2f4574];}['setParamet'+'ers'](_0x1e7533,_0x430001){const _0x2715ee=this['parameters'];_0x430001===void(0x1b9c+-0x12db*-0x1+-0x2e77)&&(_0x430001=_0x2715ee);for(const _0x507eea in _0x430001){const _0x388a95=_0x2715ee[_0x507eea];_0x388a95&&(_0x388a95['scopeId']||(_0x388a95['scopeId']=_0x1e7533['scope']['resolve'](_0x507eea)),_0x388a95['scopeId']['setValue'](_0x388a95['data']));}}['setDefine'](_0x51c6cb,_0x599d72){let _0x1262a3=!(-0xf*-0x223+0x425*-0x2+-0x17c2);const {defines:_0x2a8932}=this;_0x599d72!==void(-0x251*-0x2+-0x1e7a+0x19d8)&&_0x599d72!==!(-0x20f7+0x13*0x13d+0x971)?(_0x1262a3=!_0x2a8932['has'](_0x51c6cb)||_0x2a8932['get'](_0x51c6cb)!==_0x599d72,_0x2a8932['set'](_0x51c6cb,_0x599d72)):(_0x1262a3=_0x2a8932['has'](_0x51c6cb),_0x2a8932['delete'](_0x51c6cb)),this['_definesDi'+'rty']||(this['_definesDi'+'rty']=_0x1262a3);}['getDefine'](_0x351dff){return this['defines']['has'](_0x351dff);}['destroy'](){this['variants']['clear']();for(let _0xa3cf1c=0x2708+-0x1e*-0x61+0x2*-0x1933;_0xa3cf1c<this['meshInstan'+'ces']['length'];_0xa3cf1c++){const _0x5e4055=this['meshInstan'+'ces'][_0xa3cf1c];if(_0x5e4055['clearShade'+'rs'](),_0x5e4055['_material']=null,_0x5e4055['mesh']){const _0x4c0f91=Qn(_0x5e4055['mesh']['device']);this!==_0x4c0f91&&(_0x5e4055['material']=_0x4c0f91);}else w['warn']('pc.Materia'+'l:\x20MeshIns'+'tance.mesh'+'\x20is\x20null,\x20'+'default\x20ma'+'terial\x20can'+'not\x20be\x20ass'+'igned\x20to\x20t'+'he\x20MeshIns'+'tance');}this['meshInstan'+'ces']['length']=-0x9*0x81+-0x147*-0x16+-0x3*0x7db;}['addMeshIns'+'tanceRef'](_0x2516a9){this['meshInstan'+'ces']['push'](_0x2516a9);}['removeMesh'+'InstanceRe'+'f'](_0x2df5e7){const _0x35a9f8=this['meshInstan'+'ces'],_0x387a52=_0x35a9f8['indexOf'](_0x2df5e7);_0x387a52!==-(-0xc0*-0x7+-0x221d+0x1cde)&&_0x35a9f8['splice'](_0x387a52,0x2278*0x1+0xb7e+-0x2df5);}}class Ws{static['update'](_0x1f08b3,_0x4ce0fd,_0x410ec8,_0x142c5b,_0x4074a0,_0x24b2a3,_0x12020c){Ws['updateShar'+'edOptions'](_0x1f08b3,_0x4ce0fd,_0x410ec8,_0x4074a0,_0x24b2a3),Ws['updateMate'+'rialOption'+'s'](_0x1f08b3,_0x4ce0fd),Ws['updateEnvO'+'ptions'](_0x1f08b3,_0x4ce0fd,_0x410ec8,_0x142c5b),Ws['updateLigh'+'tingOption'+'s'](_0x1f08b3,_0x4ce0fd,_0x410ec8,_0x4074a0,_0x12020c);}static['updateShar'+'edOptions'](_0x50b59d,_0x20a14a,_0x27d18c,_0x19be2d,_0x20d46c){_0x50b59d['shaderChun'+'ks']=_0x20a14a['shaderChun'+'ks'],_0x50b59d['pass']=_0x20d46c,_0x50b59d['alphaTest']=_0x20a14a['alphaTest']>-0x9cc+0x1*0x125f+-0x893,_0x50b59d['blendType']=_0x20a14a['blendType'],_0x50b59d['screenSpac'+'e']=_0x19be2d&&(_0x19be2d&Eh)!==0x1*0x23ad+0xa1d*0x3+-0x69a*0xa,_0x50b59d['skin']=_0x19be2d&&(_0x19be2d&nl)!==0x1*-0x6af+0x2*0x1b7+0x341,_0x50b59d['useInstanc'+'ing']=_0x19be2d&&(_0x19be2d&ol)!==-0x1dea+0x1*-0x1e55+0x3c3f,_0x50b59d['useMorphPo'+'sition']=_0x19be2d&&(_0x19be2d&ll)!==-0xb16+0x1d5b*-0x1+0x5c7*0x7,_0x50b59d['useMorphNo'+'rmal']=_0x19be2d&&(_0x19be2d&cl)!==0x16*-0xc4+0x31b*-0x6+0x26*0xef,_0x50b59d['useMorphTe'+'xtureBased'+'Int']=_0x19be2d&&(_0x19be2d&hl)!==0xa53+-0x79*0x39+-0x109e*-0x1,_0x50b59d['hasTangent'+'s']=_0x19be2d&&(_0x19be2d&om)!==-0x151f+0x92d*0x1+0xbf2,_0x50b59d['nineSliced'+'Mode']=_0x20a14a['nineSliced'+'Mode']||ci,_0x20a14a['useLightin'+'g']&&_0x27d18c['clusteredL'+'ightingEna'+'bled']?(_0x50b59d['clusteredL'+'ightingEna'+'bled']=!(-0x1*-0x2065+0xc6b+-0x2cd0),_0x50b59d['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x27d18c['lighting']['cookiesEna'+'bled'],_0x50b59d['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x27d18c['lighting']['shadowsEna'+'bled'],_0x50b59d['clusteredL'+'ightingSha'+'dowType']=_0x27d18c['lighting']['shadowType'],_0x50b59d['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x27d18c['lighting']['areaLights'+'Enabled']):(_0x50b59d['clusteredL'+'ightingEna'+'bled']=!(0x1480+0x21bd+-0xc*0x485),_0x50b59d['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x29*-0x1b+-0x1ba*0x9+0x8*0x167),_0x50b59d['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0x2*0x9e1+0x36b*0x7+-0x52*0xd),_0x50b59d['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(0x1fa7+-0x7*-0x2e7+-0x33f7));}static['updateMate'+'rialOption'+'s'](_0x3e0810,_0x50ca20){_0x3e0810['separateAm'+'bient']=!(-0x113*-0x17+0x150e+-0x2dc2),_0x3e0810['pixelSnap']=_0x50ca20['pixelSnap'],_0x3e0810['ambientSH']=_0x50ca20['ambientSH'],_0x3e0810['twoSidedLi'+'ghting']=_0x50ca20['twoSidedLi'+'ghting'],_0x3e0810['occludeDir'+'ect']=_0x50ca20['occludeDir'+'ect'],_0x3e0810['occludeSpe'+'cular']=_0x50ca20['occludeSpe'+'cular'],_0x3e0810['occludeSpe'+'cularFloat']=_0x50ca20['occludeSpe'+'cularInten'+'sity']!==0x18a7+0xb4e*-0x1+-0xd58,_0x3e0810['useMsdf']=!(0x80d+0x235d+-0x2b69*0x1),_0x3e0810['msdfTextAt'+'tribute']=!(0xb*0x1cd+-0xb72+-0x85c),_0x3e0810['alphaToCov'+'erage']=_0x50ca20['alphaToCov'+'erage'],_0x3e0810['opacityFad'+'esSpecular']=_0x50ca20['opacityFad'+'esSpecular'],_0x3e0810['opacityDit'+'her']=_0x50ca20['opacityDit'+'her'],_0x3e0810['cubeMapPro'+'jection']=tm,_0x3e0810['useSpecula'+'r']=_0x50ca20['hasSpecula'+'r'],_0x3e0810['useSpecula'+'rityFactor']=_0x50ca20['hasSpecula'+'rityFactor'],_0x3e0810['enableGGXS'+'pecular']=_0x50ca20['ggxSpecula'+'r'],_0x3e0810['fresnelMod'+'el']=_0x50ca20['fresnelMod'+'el'],_0x3e0810['useRefract'+'ion']=_0x50ca20['hasRefract'+'ion'],_0x3e0810['useClearCo'+'at']=_0x50ca20['hasClearCo'+'at'],_0x3e0810['useSheen']=_0x50ca20['hasSheen'],_0x3e0810['useIridesc'+'ence']=_0x50ca20['hasIrrides'+'cence'],_0x3e0810['useMetalne'+'ss']=_0x50ca20['hasMetalne'+'ss'],_0x3e0810['useDynamic'+'Refraction']=_0x50ca20['dynamicRef'+'raction'],_0x3e0810['dispersion']=_0x50ca20['dispersion']>-0x154e+-0x71*-0x19+0xa45,_0x3e0810['vertexColo'+'rs']=!(-0x12*-0xc6+-0x1eca+0x1*0x10df),_0x3e0810['lightMapEn'+'abled']=_0x50ca20['hasLightin'+'g'],_0x3e0810['dirLightMa'+'pEnabled']=_0x50ca20['dirLightMa'+'p'],_0x3e0810['useHeights']=_0x50ca20['hasHeights'],_0x3e0810['useNormals']=_0x50ca20['hasNormals'],_0x3e0810['useClearCo'+'atNormals']=_0x50ca20['hasClearCo'+'atNormals'],_0x3e0810['useAo']=_0x50ca20['hasAo'],_0x3e0810['diffuseMap'+'Enabled']=_0x50ca20['hasDiffuse'+'Map'];}static['updateEnvO'+'ptions'](_0x2028b0,_0x4ad199,_0x440f2f,_0x4d4e0){_0x2028b0['fog']=_0x4ad199['useFog']?_0x4d4e0['fog']:Kn,_0x2028b0['gamma']=_0x4d4e0['shaderOutp'+'utGamma'],_0x2028b0['toneMap']=_0x4ad199['useTonemap']?_0x4d4e0['toneMappin'+'g']:nv,_0x4ad199['useSkybox']&&_0x440f2f['envAtlas']&&_0x440f2f['skybox']?(_0x2028b0['reflection'+'Source']=xh,_0x2028b0['reflection'+'Encoding']=_0x440f2f['envAtlas']['encoding'],_0x2028b0['reflection'+'CubemapEnc'+'oding']=_0x440f2f['skybox']['encoding']):_0x4ad199['useSkybox']&&_0x440f2f['envAtlas']?(_0x2028b0['reflection'+'Source']=vh,_0x2028b0['reflection'+'Encoding']=_0x440f2f['envAtlas']['encoding']):_0x4ad199['useSkybox']&&_0x440f2f['skybox']?(_0x2028b0['reflection'+'Source']=Th,_0x2028b0['reflection'+'Encoding']=_0x440f2f['skybox']['encoding']):(_0x2028b0['reflection'+'Source']=vr,_0x2028b0['reflection'+'Encoding']=null),_0x4ad199['ambientSH']?(_0x2028b0['ambientSou'+'rce']=im,_0x2028b0['ambientEnc'+'oding']=null):_0x2028b0['reflection'+'Source']!==vr&&_0x440f2f['envAtlas']?(_0x2028b0['ambientSou'+'rce']=rm,_0x2028b0['ambientEnc'+'oding']=_0x440f2f['envAtlas']['encoding']):(_0x2028b0['ambientSou'+'rce']=am,_0x2028b0['ambientEnc'+'oding']=null);const _0x1504da=_0x2028b0['reflection'+'Source']!==vr;_0x2028b0['skyboxInte'+'nsity']=_0x1504da,_0x2028b0['useCubeMap'+'Rotation']=_0x1504da&&_0x440f2f['_skyboxRot'+'ationShade'+'rInclude'];}static['updateLigh'+'tingOption'+'s'](_0x394214,_0x3ea3b4,_0x34d83e,_0x496610,_0x3e148c){if(_0x394214['lightMapWi'+'thoutAmbie'+'nt']=!(-0x2*0x280+0xbff*-0x1+0x1100),_0x3ea3b4['useLightin'+'g']){const _0x445c45=[],_0x719596=_0x496610?_0x496610>>0x2*0x335+-0x1*0x188f+0x1235:Ss;_0x394214['lightMaskD'+'ynamic']=!!(_0x719596&Ss),_0x394214['lightMapWi'+'thoutAmbie'+'nt']=!(-0x1f2f+-0xfef*0x1+0x2f1f),_0x3e148c&&(Ws['collectLig'+'hts'](ve,_0x3e148c[ve],_0x445c45,_0x719596),_0x34d83e['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x3e148c[Ke],_0x445c45,_0x719596),Ws['collectLig'+'hts'](Ze,_0x3e148c[Ze],_0x445c45,_0x719596))),_0x394214['lights']=_0x445c45;}else _0x394214['lights']=[];(_0x394214['lights']['length']===0x17fd+0x1*0x2026+0x3823*-0x1&&!_0x34d83e['clusteredL'+'ightingEna'+'bled']||(_0x496610&wh)!==0x239*0x6+0xcac*-0x2+-0x1*-0xc02)&&(_0x394214['noShadow']=!(0x2120*-0x1+0x1*-0xfb5+-0x30d5*-0x1));}static['collectLig'+'hts'](_0x3468b2,_0x1ef1b3,_0x23efa1,_0xf7b882){for(let _0x4f5af4=-0x1fb*-0x1+-0x184f+0x1654*0x1;_0x4f5af4<_0x1ef1b3['length'];_0x4f5af4++){const _0x5c09cc=_0x1ef1b3[_0x4f5af4];_0x5c09cc['enabled']&&_0x5c09cc['mask']&_0xf7b882&&_0x23efa1['push'](_0x5c09cc);}}}const G_=(_0x2a6151,_0x22bc57)=>{if(_0x2a6151['length']!==_0x22bc57['length'])return!(0x3e1*-0x1+-0x843*0x3+0x1cab);for(let _0x3b6312=0x5d5+0x368*0x3+0x1*-0x100d;_0x3b6312<_0x2a6151['length'];++_0x3b6312)if(_0x2a6151[_0x3b6312]!==_0x22bc57[_0x3b6312])return!(-0x1ecd+0x78b*0x5+0x6e9*-0x1);return!(-0xa49+-0x2193+-0x644*-0x7);},pb=_0x165be4=>_0x165be4['r']!==0x5d1*-0x3+-0x3d8+0x154c||_0x165be4['g']!==-0x253c+-0x7*0xc5+-0x10*-0x2aa||_0x165be4['b']!==0xa3d*-0x2+0xdc1+0x1*0x6ba,mb=_0x410ce2=>_0x410ce2['r']!==0x272*-0x4+0x67a*0x2+-0x32c||_0x410ce2['g']!==-0x489+0x2376+-0x1eed||_0x410ce2['b']!==0x20bf+0x2474+-0x4533;class _b{constructor(){this['_mapXForms']=null;}['updateMinR'+'ef'](_0x5a9a22,_0x5012e8,_0x119b86,_0x33c7ca,_0x1d41a2,_0x4b0f28){this['_updateSha'+'redOptions'](_0x5a9a22,_0x5012e8,_0x119b86,_0x33c7ca,_0x1d41a2),this['_updateMin'+'Options'](_0x5a9a22,_0x119b86,_0x1d41a2),this['_updateUVO'+'ptions'](_0x5a9a22,_0x119b86,_0x33c7ca,!(0x1*-0x3b9+-0x1*-0x5c1+-0x208));}['updateRef'](_0x248d1d,_0x314009,_0x45e5f4,_0x2c8f4d,_0x4451a8,_0x22fb4c,_0x4e427d){this['_updateSha'+'redOptions'](_0x248d1d,_0x314009,_0x2c8f4d,_0x4451a8,_0x22fb4c),this['_updateEnv'+'Options'](_0x248d1d,_0x2c8f4d,_0x314009,_0x45e5f4),this['_updateMat'+'erialOptio'+'ns'](_0x248d1d,_0x2c8f4d,_0x314009),_0x248d1d['litOptions']['hasTangent'+'s']=_0x4451a8&&(_0x4451a8&om)!==0x538+0x1*0x142d+-0x21*0xc5,this['_updateLig'+'htOptions'](_0x248d1d,_0x314009,_0x2c8f4d,_0x4451a8,_0x4e427d),this['_updateUVO'+'ptions'](_0x248d1d,_0x2c8f4d,_0x4451a8,!(-0x1fc9+0x23f3+0x5*-0xd5),_0x45e5f4);}['_updateSha'+'redOptions'](_0x559509,_0x332868,_0x54b4c9,_0x51c45b,_0x3490f3){_0x559509['forceUv1']=_0x54b4c9['forceUv1'],_0x54b4c9['userAttrib'+'utes']&&(_0x559509['litOptions']['userAttrib'+'utes']=Object['fromEntrie'+'s'](_0x54b4c9['userAttrib'+'utes']['entries']())),_0x559509['litOptions']['shaderChun'+'ks']=_0x54b4c9['shaderChun'+'ks'],_0x559509['litOptions']['pass']=_0x3490f3,_0x559509['litOptions']['alphaTest']=_0x54b4c9['alphaTest']>-0x794+-0x13f4+0x1b88,_0x559509['litOptions']['blendType']=_0x54b4c9['blendType'],_0x559509['litOptions']['screenSpac'+'e']=_0x51c45b&&(_0x51c45b&Eh)!==0x48d+0x695+-0xb22,_0x559509['litOptions']['skin']=_0x51c45b&&(_0x51c45b&nl)!==-0x45*0xf+0xdf2+-0x9e7,_0x559509['litOptions']['batch']=_0x51c45b&&(_0x51c45b&qc)!==0x2271+0x7b5*-0x1+-0x1abc,_0x559509['litOptions']['useInstanc'+'ing']=_0x51c45b&&(_0x51c45b&ol)!==-0x25b7+-0x13d2+0x53b*0xb,_0x559509['litOptions']['useMorphPo'+'sition']=_0x51c45b&&(_0x51c45b&ll)!==0x1*0x1c2e+-0x193+-0x7*0x3cd,_0x559509['litOptions']['useMorphNo'+'rmal']=_0x51c45b&&(_0x51c45b&cl)!==0x3*-0x685+0x7a+0x1315,_0x559509['litOptions']['useMorphTe'+'xtureBased'+'Int']=_0x51c45b&&(_0x51c45b&hl)!==0x2b5+0x21e5*-0x1+0x1f30,_0x559509['litOptions']['nineSliced'+'Mode']=_0x54b4c9['nineSliced'+'Mode']||0x1*-0x2489+0x4*0x55d+0xf15,_0x332868['clusteredL'+'ightingEna'+'bled']&&_0x54b4c9['useLightin'+'g']?(_0x559509['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x1*-0x2167+-0x19e6+0x13*0x31f),_0x559509['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=_0x332868['lighting']['cookiesEna'+'bled'],_0x559509['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=_0x332868['lighting']['shadowsEna'+'bled'],_0x559509['litOptions']['clusteredL'+'ightingSha'+'dowType']=_0x332868['lighting']['shadowType'],_0x559509['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=_0x332868['lighting']['areaLights'+'Enabled']):(_0x559509['litOptions']['clusteredL'+'ightingEna'+'bled']=!(0x35*-0x67+-0x38*0x11+-0x643*-0x4),_0x559509['litOptions']['clusteredL'+'ightingCoo'+'kiesEnable'+'d']=!(-0x1e41+0xa5*0x1c+-0x61b*-0x2),_0x559509['litOptions']['clusteredL'+'ightingSha'+'dowsEnable'+'d']=!(-0xf7e+0x776+0x809),_0x559509['litOptions']['clusteredL'+'ightingAre'+'aLightsEna'+'bled']=!(-0x7ba+0x1779+0x82*-0x1f));}['_updateUVO'+'ptions'](_0x14148c,_0xa92b3b,_0x4ab212,_0x3695bc,_0x1d57f3){let _0x59d9e5=!(0x18f8+0xd02*0x3+-0x1*0x3ffd),_0x60d01a=!(0x191a+-0x20dd*-0x1+-0x39f6),_0x1d8502=!(0x95c*0x2+-0x2269*-0x1+-0x3520);_0x4ab212&&(_0x59d9e5=(_0x4ab212&nm)!==0x8*-0x142+0x7*-0x199+0x153f,_0x60d01a=(_0x4ab212&dv)!==0x1bce+0x1f62+-0xecc*0x4,_0x1d8502=(_0x4ab212&fv)!==-0x1*0x90f+0x1*0x2531+-0x2*0xe11),_0x14148c['litOptions']['vertexColo'+'rs']=!(-0x7db*-0x1+0x30*-0x3d+-0x22*-0x1b),this['_mapXForms']=[];const _0x1e36a1={};for(const _0x54ad8b in bn)this['_updateTex'+'Options'](_0x14148c,_0xa92b3b,_0x54ad8b,_0x59d9e5,_0x60d01a,_0x1d8502,_0x3695bc,_0x1e36a1);this['_mapXForms']=null,_0x14148c['litOptions']['ssao']=_0x1d57f3==null?void(0xd*0x1f0+0x24c1+-0x3df1):_0x1d57f3['ssaoEnable'+'d'],_0x14148c['useAO']=_0x14148c['litOptions']['ssao'],_0x14148c['litOptions']['lightMapEn'+'abled']=_0x14148c['lightMap'],_0x14148c['litOptions']['dirLightMa'+'pEnabled']=_0x14148c['dirLightMa'+'p'],_0x14148c['litOptions']['useHeights']=_0x14148c['heightMap'],_0x14148c['litOptions']['useNormals']=_0x14148c['normalMap'],_0x14148c['litOptions']['useClearCo'+'atNormals']=_0x14148c['clearCoatN'+'ormalMap'],_0x14148c['litOptions']['useAo']=_0x14148c['aoMap']||_0x14148c['aoVertexCo'+'lor']||_0x14148c['litOptions']['ssao'],_0x14148c['litOptions']['diffuseMap'+'Enabled']=_0x14148c['diffuseMap'];}['_updateTex'+'Options'](_0x22437c,_0xacc914,_0xfd0b4a,_0x5d3e78,_0x1ef7ee,_0x382ec3,_0x1cd7dd,_0x3e1286){const _0x56f7f1=_0xfd0b4a==='opacity';if(!_0x1cd7dd||_0x56f7f1){const _0x2c579e=_0xfd0b4a+'Map',_0xfebbb7=_0xfd0b4a+('VertexColo'+'r'),_0x5cd66d=_0xfd0b4a+('VertexColo'+'rChannel'),_0x96eb67=_0x2c579e+'Channel',_0x278053=_0x2c579e+'Transform',_0x5afad9=_0x2c579e+'Uv',_0x132f04=_0x2c579e+'Identifier';if(_0xfd0b4a!=='light'&&(_0x22437c[_0x2c579e]=!(-0x1cfd*-0x1+0x4*-0x4e1+-0x978),_0x22437c[_0x132f04]=void(-0x625+-0x253f*-0x1+-0x1f1a),_0x22437c[_0x96eb67]='',_0x22437c[_0x278053]=0x1*0x265+0x9db+-0xe*0xe0,_0x22437c[_0x5afad9]=-0x5*0x427+-0x2290+-0x3753*-0x1),_0x22437c[_0xfebbb7]=!(0x2144+-0x2f*0x35+0x3*-0x7d8),_0x22437c[_0x5cd66d]='',_0x56f7f1&&_0xacc914['blendType']===Cs&&_0xacc914['alphaTest']===0xa75+0x11ba+-0x5*0x5a3&&!_0xacc914['alphaToCov'+'erage']&&_0xacc914['opacityDit'+'her']===Sa)return;if(_0xfd0b4a!=='height'&&_0xacc914[_0xfebbb7]&&_0x382ec3&&(_0x22437c[_0xfebbb7]=_0xacc914[_0xfebbb7],_0x22437c[_0x5cd66d]=_0xacc914[_0x5cd66d],_0x22437c['litOptions']['vertexColo'+'rs']=!(-0x7*0x3fd+0x6b*0x25+-0x63a*-0x2)),_0xacc914[_0x2c579e]){let _0x5af3f2=!(-0x77e*0x3+-0x12b4+-0x1497*-0x2);if(_0xacc914[_0x5afad9]===-0x130b+-0x1dff*0x1+0x2*0x1885&&!_0x5d3e78&&(_0x5af3f2=!(0x1e11+0x1030+-0xa0*0x4a)),_0xacc914[_0x5afad9]===0x94*0x40+0x38*-0x21+-0x1dc7&&!_0x1ef7ee&&(_0x5af3f2=!(0x10d3+-0x82d+0x8a5*-0x1)),_0x5af3f2){const _0x5a1865=_0xacc914[_0x2c579e]['id'];let _0x4dbba9=_0x3e1286[_0x5a1865];_0x4dbba9===void(-0x9a3*0x2+0x2186+-0xe40)&&(_0x3e1286[_0x5a1865]=_0xfd0b4a,_0x4dbba9=_0xfd0b4a),_0x22437c[_0x2c579e]=!!_0xacc914[_0x2c579e],_0x22437c[_0x132f04]=_0x4dbba9,_0x22437c[_0x278053]=this['_getMapTra'+'nsformID'](_0xacc914['getUniform'](_0x278053),_0xacc914[_0x5afad9]),_0x22437c[_0x96eb67]=_0xacc914[_0x96eb67],_0x22437c[_0x5afad9]=_0xacc914[_0x5afad9];}}}}['_updateMin'+'Options'](_0x3c7cdb,_0x33a2e2,_0x462cb5){const _0x4632f5=_0x462cb5===Rl;_0x3c7cdb['litOptions']['opacitySha'+'dowDither']=_0x4632f5?_0x33a2e2['opacityDit'+'her']:_0x33a2e2['opacitySha'+'dowDither'],_0x3c7cdb['litOptions']['linearDept'+'h']=_0x4632f5,_0x3c7cdb['litOptions']['lights']=[];}['_updateMat'+'erialOptio'+'ns'](_0x4bacfc,_0x3b5ed9,_0x15c752){var _0x452cc8,_0x5c656d,_0xb541bf,_0x3b8251,_0x541b95,_0x3e4362;const _0x4d1cf8=!!(_0x3b5ed9['useMetalne'+'ss']||_0x3b5ed9['specularMa'+'p']||_0x3b5ed9['sphereMap']||_0x3b5ed9['cubeMap']||mb(_0x3b5ed9['specular'])||_0x3b5ed9['specularit'+'yFactor']>-0x647*-0x2+0x8*0x2+0xbe*-0x11&&_0x3b5ed9['useMetalne'+'ss']||_0x3b5ed9['enableGGXS'+'pecular']||_0x3b5ed9['clearCoat']>0x32d+0x1*-0x2197+0x1e6a),_0xca2456=!_0x3b5ed9['useMetalne'+'ss']||_0x3b5ed9['useMetalne'+'ssSpecular'+'Color'],_0x3892b8=_0x4d1cf8&&(_0x3b5ed9['specularTi'+'nt']||!_0x3b5ed9['specularMa'+'p']&&!_0x3b5ed9['specularVe'+'rtexColor'])&&pb(_0x3b5ed9['specular']),_0x450b75=_0x4d1cf8&&_0x3b5ed9['useMetalne'+'ssSpecular'+'Color']&&(_0x3b5ed9['specularit'+'yFactorTin'+'t']||_0x3b5ed9['specularit'+'yFactor']<0x1bc0+0x123a+-0x2df9&&!_0x3b5ed9['specularit'+'yFactorMap']),_0x3b6fa2=_0x580b85=>_0x580b85?_0x580b85['format']===vl||_0x580b85['type']===Jo:!(-0x1e5*-0x2+-0x16dc+0x1313),_0x4289b1=(_0x1c2948,_0x35af82)=>Math['abs'](_0x1c2948-_0x35af82)<0x1346+0xab*0x31+-0x3401+0.0001;_0x4bacfc['specularTi'+'nt']=_0x3892b8,_0x4bacfc['specularit'+'yFactorTin'+'t']=_0x450b75,_0x4bacfc['metalnessT'+'int']=_0x3b5ed9['useMetalne'+'ss']&&_0x3b5ed9['metalness']<0x1587+-0x1286+-0x300,_0x4bacfc['glossTint']=!(-0x12d8*0x1+-0x38c+0x1664),_0x4bacfc['diffuseEnc'+'oding']=(_0x452cc8=_0x3b5ed9['diffuseMap'])==null?void(-0x6d9*-0x3+-0x1583+0xf8):_0x452cc8['encoding'],_0x4bacfc['diffuseDet'+'ailEncodin'+'g']=(_0x5c656d=_0x3b5ed9['diffuseDet'+'ailMap'])==null?void(0xcbe+0x1245*-0x1+0x11b*0x5):_0x5c656d['encoding'],_0x4bacfc['emissiveEn'+'coding']=(_0xb541bf=_0x3b5ed9['emissiveMa'+'p'])==null?void(-0x2504+-0x91*-0xd+0x1da7):_0xb541bf['encoding'],_0x4bacfc['lightMapEn'+'coding']=(_0x3b8251=_0x3b5ed9['lightMap'])==null?void(-0xf2*0x16+-0x149*0xd+0x2581):_0x3b8251['encoding'],_0x4bacfc['packedNorm'+'al']=_0x3b6fa2(_0x3b5ed9['normalMap']),_0x4bacfc['refraction'+'Tint']=_0x4289b1(_0x3b5ed9['refraction'],-0x184d*0x1+0x1f82+0x39a*-0x2),_0x4bacfc['refraction'+'IndexTint']=_0x4289b1(_0x3b5ed9['refraction'+'Index'],(0x2209*-0x1+-0x6b*-0x31+0xd8f)/(0x1184*-0x2+0xe95+0x1474+0.5)),_0x4bacfc['thicknessT'+'int']=_0x3b5ed9['useDynamic'+'Refraction']&&_0x3b5ed9['thickness']!==-0x1b4f+0x20c7+-0x577,_0x4bacfc['specularEn'+'coding']=(_0x541b95=_0x3b5ed9['specularMa'+'p'])==null?void(-0x6e9+-0x12d7+0x19c0):_0x541b95['encoding'],_0x4bacfc['sheenEncod'+'ing']=(_0x3e4362=_0x3b5ed9['sheenMap'])==null?void(0x1*-0x101b+0x1583+-0x568):_0x3e4362['encoding'],_0x4bacfc['aoMapUv']=_0x3b5ed9['aoUvSet'],_0x4bacfc['aoDetail']=!!_0x3b5ed9['aoDetailMa'+'p'],_0x4bacfc['diffuseDet'+'ail']=!!_0x3b5ed9['diffuseDet'+'ailMap'],_0x4bacfc['normalDeta'+'il']=!!_0x3b5ed9['normalMap'],_0x4bacfc['normalDeta'+'ilPackedNo'+'rmal']=_0x3b6fa2(_0x3b5ed9['normalDeta'+'ilMap']),_0x4bacfc['diffuseDet'+'ailMode']=_0x3b5ed9['diffuseDet'+'ailMode'],_0x4bacfc['aoDetailMo'+'de']=_0x3b5ed9['aoDetailMo'+'de'],_0x4bacfc['clearCoatG'+'loss']=!!_0x3b5ed9['clearCoatG'+'loss'],_0x4bacfc['clearCoatP'+'ackedNorma'+'l']=_0x3b6fa2(_0x3b5ed9['clearCoatN'+'ormalMap']),_0x4bacfc['iorTint']=_0x4289b1(_0x3b5ed9['refraction'+'Index'],(0x9e1+0x29b*0x9+-0x2153)/(-0x2d2*-0x3+-0x26fd*0x1+-0x2*-0xf44+0.5)),_0x15c752['forcePassT'+'hroughSpec'+'ular']&&(_0x4bacfc['specularEn'+'coding']='linear',_0x4bacfc['sheenEncod'+'ing']='linear'),_0x4bacfc['iridescenc'+'eTint']=_0x3b5ed9['iridescenc'+'e']!==0x2f9*-0xd+0x2573+-0x1*-0x133,_0x4bacfc['glossInver'+'t']=_0x3b5ed9['glossInver'+'t'],_0x4bacfc['sheenGloss'+'Invert']=_0x3b5ed9['sheenGloss'+'Invert'],_0x4bacfc['clearCoatG'+'lossInvert']=_0x3b5ed9['clearCoatG'+'lossInvert'],_0x4bacfc['useSpecula'+'rColor']=_0xca2456,_0x4bacfc['litOptions']['separateAm'+'bient']=!(0x288+0x1cdf+-0x1f66*0x1),_0x4bacfc['litOptions']['pixelSnap']=_0x3b5ed9['pixelSnap'],_0x4bacfc['litOptions']['ambientSH']=!!_0x3b5ed9['ambientSH'],_0x4bacfc['litOptions']['twoSidedLi'+'ghting']=_0x3b5ed9['twoSidedLi'+'ghting'],_0x4bacfc['litOptions']['occludeSpe'+'cular']=_0x3b5ed9['occludeSpe'+'cular'],_0x4bacfc['litOptions']['occludeSpe'+'cularFloat']=_0x3b5ed9['occludeSpe'+'cularInten'+'sity']!==0xe*-0x101+-0x2207+-0x99e*-0x5,_0x4bacfc['litOptions']['useMsdf']=!!_0x3b5ed9['msdfMap'],_0x4bacfc['litOptions']['msdfTextAt'+'tribute']=!!_0x3b5ed9['msdfTextAt'+'tribute'],_0x4bacfc['litOptions']['alphaToCov'+'erage']=_0x3b5ed9['alphaToCov'+'erage'],_0x4bacfc['litOptions']['opacityFad'+'esSpecular']=_0x3b5ed9['opacityFad'+'esSpecular'],_0x4bacfc['litOptions']['opacityDit'+'her']=_0x3b5ed9['opacityDit'+'her'],_0x4bacfc['litOptions']['cubeMapPro'+'jection']=_0x3b5ed9['cubeMapPro'+'jection'],_0x4bacfc['litOptions']['occludeDir'+'ect']=_0x3b5ed9['occludeDir'+'ect'],_0x4bacfc['litOptions']['useSpecula'+'r']=_0x4d1cf8,_0x4bacfc['litOptions']['useSpecula'+'rityFactor']=(_0x450b75||!!_0x3b5ed9['specularit'+'yFactorMap'])&&_0x3b5ed9['useMetalne'+'ssSpecular'+'Color'],_0x4bacfc['litOptions']['enableGGXS'+'pecular']=_0x3b5ed9['enableGGXS'+'pecular'],_0x4bacfc['litOptions']['fresnelMod'+'el']=_0x3b5ed9['fresnelMod'+'el'],_0x4bacfc['litOptions']['useRefract'+'ion']=(_0x3b5ed9['refraction']||!!_0x3b5ed9['refraction'+'Map'])&&(_0x3b5ed9['useDynamic'+'Refraction']||_0x4bacfc['litOptions']['reflection'+'Source']!==vr),_0x4bacfc['litOptions']['useClearCo'+'at']=!!_0x3b5ed9['clearCoat'],_0x4bacfc['litOptions']['useSheen']=_0x3b5ed9['useSheen'],_0x4bacfc['litOptions']['useIridesc'+'ence']=_0x3b5ed9['useIridesc'+'ence']&&_0x3b5ed9['iridescenc'+'e']!==0xd1a+-0x2378*0x1+0x165e,_0x4bacfc['litOptions']['useMetalne'+'ss']=_0x3b5ed9['useMetalne'+'ss'],_0x4bacfc['litOptions']['useDynamic'+'Refraction']=_0x3b5ed9['useDynamic'+'Refraction'],_0x4bacfc['litOptions']['dispersion']=_0x3b5ed9['dispersion']>-0x1*-0x167f+-0x1*0x7a2+0x2f9*-0x5,_0x4bacfc['litOptions']['shadowCatc'+'her']=_0x3b5ed9['shadowCatc'+'her'];}['_updateEnv'+'Options'](_0x24f671,_0xdd311f,_0x489a04,_0x54df14){_0x24f671['litOptions']['fog']=_0xdd311f['useFog']?_0x54df14['fog']:Kn,_0x24f671['litOptions']['gamma']=_0x54df14['shaderOutp'+'utGamma'],_0x24f671['litOptions']['toneMap']=_0xdd311f['useTonemap']?_0x54df14['toneMappin'+'g']:nv;let _0x1596f8=!(-0xcff*0x2+0x35*-0x61+0xf5c*0x3);if(_0xdd311f['envAtlas']&&_0xdd311f['cubeMap']?(_0x24f671['litOptions']['reflection'+'Source']=xh,_0x24f671['litOptions']['reflection'+'Encoding']=_0xdd311f['envAtlas']['encoding'],_0x24f671['litOptions']['reflection'+'CubemapEnc'+'oding']=_0xdd311f['cubeMap']['encoding']):_0xdd311f['envAtlas']?(_0x24f671['litOptions']['reflection'+'Source']=vh,_0x24f671['litOptions']['reflection'+'Encoding']=_0xdd311f['envAtlas']['encoding']):_0xdd311f['cubeMap']?(_0x24f671['litOptions']['reflection'+'Source']=Th,_0x24f671['litOptions']['reflection'+'Encoding']=_0xdd311f['cubeMap']['encoding']):_0xdd311f['sphereMap']?(_0x24f671['litOptions']['reflection'+'Source']=hv,_0x24f671['litOptions']['reflection'+'Encoding']=_0xdd311f['sphereMap']['encoding']):_0xdd311f['useSkybox']&&_0x489a04['envAtlas']&&_0x489a04['skybox']?(_0x24f671['litOptions']['reflection'+'Source']=xh,_0x24f671['litOptions']['reflection'+'Encoding']=_0x489a04['envAtlas']['encoding'],_0x24f671['litOptions']['reflection'+'CubemapEnc'+'oding']=_0x489a04['skybox']['encoding'],_0x1596f8=!(0x3b*0x73+-0x89c+-0x11e5)):_0xdd311f['useSkybox']&&_0x489a04['envAtlas']?(_0x24f671['litOptions']['reflection'+'Source']=vh,_0x24f671['litOptions']['reflection'+'Encoding']=_0x489a04['envAtlas']['encoding'],_0x1596f8=!(-0x12fa+0x901+0x9f9)):_0xdd311f['useSkybox']&&_0x489a04['skybox']?(_0x24f671['litOptions']['reflection'+'Source']=Th,_0x24f671['litOptions']['reflection'+'Encoding']=_0x489a04['skybox']['encoding'],_0x1596f8=!(-0x217+0x952+-0x73b)):(_0x24f671['litOptions']['reflection'+'Source']=vr,_0x24f671['litOptions']['reflection'+'Encoding']=null),_0xdd311f['ambientSH'])_0x24f671['litOptions']['ambientSou'+'rce']=im,_0x24f671['litOptions']['ambientEnc'+'oding']=null;else{const _0x17415e=_0xdd311f['envAtlas']||(_0xdd311f['useSkybox']&&_0x489a04['envAtlas']?_0x489a04['envAtlas']:null);_0x17415e&&!_0xdd311f['sphereMap']?(_0x24f671['litOptions']['ambientSou'+'rce']=rm,_0x24f671['litOptions']['ambientEnc'+'oding']=_0x17415e['encoding']):(_0x24f671['litOptions']['ambientSou'+'rce']=am,_0x24f671['litOptions']['ambientEnc'+'oding']=null);}_0x24f671['litOptions']['skyboxInte'+'nsity']=_0x1596f8,_0x24f671['litOptions']['useCubeMap'+'Rotation']=_0x1596f8&&_0x489a04['_skyboxRot'+'ationShade'+'rInclude'];}['_updateLig'+'htOptions'](_0xed28c7,_0x34d4ef,_0xcf5bcf,_0x486296,_0x5c906e){if(_0xed28c7['lightMap']=!(0x26ce+-0x9c9+-0x1d04),_0xed28c7['lightMapCh'+'annel']='',_0xed28c7['lightMapUv']=-0x13*0x59+0x7dd+-0x2e*0x7,_0xed28c7['lightMapTr'+'ansform']=0x5*-0x2ea+0x580+0x912,_0xed28c7['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(0x1a6*-0x12+-0xfd+0x1eaa),_0xed28c7['dirLightMa'+'p']=!(0x1*-0x1391+-0x1209*0x2+-0x4a3*-0xc),_0x486296&&(_0xed28c7['litOptions']['noShadow']=(_0x486296&wh)!==0x2e*0xb0+-0x170*-0x7+-0x74*0x5c,(_0x486296&ou)!==0x1cf3+-0x8f9+-0x1*0x13fa&&(_0xed28c7['lightMapEn'+'coding']=_0x34d4ef['lightmapPi'+'xelFormat']===Ne?'rgbm':'linear',_0xed28c7['lightMap']=!(-0x1*0x22a+-0x2068+0x2292),_0xed28c7['lightMapCh'+'annel']='rgb',_0xed28c7['lightMapUv']=0x5*-0x9f+0xe09+0x1*-0xaed,_0xed28c7['lightMapTr'+'ansform']=-0xef2+0x2*0x3bd+-0x8*-0xef,_0xed28c7['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!_0xcf5bcf['lightMap'],(_0x486296&uv)!==0x7e+0x1ce2*-0x1+-0x2e*-0x9e&&(_0xed28c7['dirLightMa'+'p']=!(-0xcbd+-0x1709+0x23c6)),(_0x486296&pv)!==0x1*0x16a7+-0x403*-0x3+-0x22b0&&(_0xed28c7['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x35*0x6b+-0x19a3+0x2fcb)))),_0xcf5bcf['useLightin'+'g']){const _0xcf0d83=[],_0x224fae=_0x486296?_0x486296>>-0x1354+-0x16*0x10d+0x2a82:Ss;_0xed28c7['litOptions']['lightMaskD'+'ynamic']=!!(_0x224fae&Ss),_0x5c906e&&(Ws['collectLig'+'hts'](ve,_0x5c906e[ve],_0xcf0d83,_0x224fae),_0x34d4ef['clusteredL'+'ightingEna'+'bled']||(Ws['collectLig'+'hts'](Ke,_0x5c906e[Ke],_0xcf0d83,_0x224fae),Ws['collectLig'+'hts'](Ze,_0x5c906e[Ze],_0xcf0d83,_0x224fae))),_0xed28c7['litOptions']['lights']=_0xcf0d83;}else _0xed28c7['litOptions']['lights']=[];_0xed28c7['litOptions']['lights']['length']===0xea6+0x457+0x12fd*-0x1&&!_0x34d4ef['clusteredL'+'ightingEna'+'bled']&&(_0xed28c7['litOptions']['noShadow']=!(0xfa9+-0x5*-0x58+-0x1161));}['_getMapTra'+'nsformID'](_0x3f1ab3,_0x1e0928){if(!_0x3f1ab3)return 0xbc*-0x22+0x255d+-0xa7*0x13;let _0x264f8=this['_mapXForms'][_0x1e0928];_0x264f8||(_0x264f8=[],this['_mapXForms'][_0x1e0928]=_0x264f8);for(let _0x4d3260=-0x178e+0x1f37*-0x1+0x36c5;_0x4d3260<_0x264f8['length'];_0x4d3260++)if(G_(_0x264f8[_0x4d3260][-0xca*-0x26+-0xec5+-0xf37]['value'],_0x3f1ab3[-0xde1+-0x21c9+0x2faa]['value'])&&G_(_0x264f8[_0x4d3260][0x3*0x4e4+0x25ff*-0x1+0x2*0xbaa]['value'],_0x3f1ab3[-0x5*-0x683+-0x1*-0xe09+0x1*-0x2e97]['value']))return _0x4d3260+(-0x238a+-0x303+-0x23*-0x11a);return _0x264f8['push'](_0x3f1ab3);}}function rt(_0x161d3d,_0x12dec3=!(0x1e*-0xb5+0x4c3+0x1073),_0x33a681=!(-0x50*-0x6b+-0xcf4+-0x147c)){const _0x12ac91={};return _0x12ac91[_0x161d3d+'Map']='texture',_0x12ac91[_0x161d3d+'MapTiling']='vec2',_0x12ac91[_0x161d3d+'MapOffset']='vec2',_0x12ac91[_0x161d3d+('MapRotatio'+'n')]='number',_0x12ac91[_0x161d3d+'MapUv']='number',_0x12dec3&&(_0x12ac91[_0x161d3d+'MapChannel']='string',_0x33a681&&(_0x12ac91[_0x161d3d+('VertexColo'+'r')]='boolean',_0x12ac91[_0x161d3d+('VertexColo'+'rChannel')]='string')),_0x12ac91;}const $n={'name':'string','chunks':'chunks','mappingFormat':'string','_engine':'boolean','ambient':'rgb',...rt('ao'),...rt('aoDetail',!(-0xc0e+0x12ee+-0x6e0),!(-0x136b+0x5*-0x40+0x14ac)),'aoDetailMode':'string','aoIntensity':'number','diffuse':'rgb',...rt('diffuse'),...rt('diffuseDet'+'ail',!(-0xe7*0x7+-0x1e36*-0x1+-0x17e5),!(0x1805+0x1*-0x10cf+0x1*-0x735)),'diffuseDetailMode':'string','specular':'rgb','specularTint':'boolean',...rt('specular'),'occludeSpecular':'enum:occlu'+'deSpecular','specularityFactor':'number','specularityFactorTint':'boolean',...rt('specularit'+'yFactor'),'useMetalness':'boolean','metalness':'number','enableGGXSpecular':'boolean','metalnessTint':'boolean',...rt('metalness'),'useMetalnessSpecularColor':'boolean','anisotropyIntensity':'number','anisotropyRotation':'number',...rt('anisotropy'),'shininess':'number','gloss':'number','glossInvert':'boolean',...rt('gloss'),'clearCoat':'number',...rt('clearCoat'),'clearCoatGloss':'number','clearCoatGlossInvert':'boolean',...rt('clearCoatG'+'loss'),'clearCoatBumpiness':'number',...rt('clearCoatN'+'ormal',!(0x6*-0x595+-0x1*-0x4cd+0x1cb2)),'useSheen':'boolean','sheen':'rgb',...rt('sheen'),'sheenGloss':'number','sheenGlossInvert':'boolean',...rt('sheenGloss'),'fresnelModel':'number','emissive':'rgb',...rt('emissive'),'emissiveIntensity':'number',...rt('normal',!(-0x2115+0x392+0x1d84)),'bumpiness':'number',...rt('normalDeta'+'il',!(-0xc3a+0x1f3b+-0x1300)),'normalDetailMapBumpiness':'number',...rt('height',!(-0x1cf0+-0x1c*-0xef+-0x166*-0x2),!(-0xd*0xa1+0x268b+-0x3*0xa1f)),'heightMapFactor':'number','alphaToCoverage':'boolean','alphaTest':'number','alphaFade':'number','opacity':'number',...rt('opacity'),'opacityFadesSpecular':'boolean','opacityDither':'string','opacityShadowDither':'string','reflectivity':'number','refraction':'number','refractionTint':'boolean',...rt('refraction'),'refractionIndex':'number','dispersion':'number','thickness':'number','thicknessTint':'boolean',...rt('thickness'),'attenuation':'rgb','attenuationDistance':'number','useDynamicRefraction':'boolean','sphereMap':'texture','cubeMap':'cubemap','cubeMapProjection':'number','cubeMapProjectionBox':'boundingbo'+'x','useIridescence':'boolean','iridescence':'number','iridescenceTint':'boolean',...rt('iridescenc'+'e'),'iridescenceThicknessTint':'boolean','iridescenceThicknessMin':'number','iridescenceThicknessMax':'number','iridescenceRefractionIndex':'number',...rt('iridescenc'+'eThickness'),...rt('light'),'depthTest':'boolean','depthFunc':'enum:depth'+'Func','depthWrite':'boolean','depthBias':'number','slopeDepthBias':'number','cull':'enum:cull','blendType':'enum:blend'+'Type','useFog':'boolean','useLighting':'boolean','useSkybox':'boolean','useTonemap':'boolean','envAtlas':'texture','twoSidedLighting':'boolean','shadowCatcher':'boolean'},Cd=[];for(const l in $n)$n[l]==='texture'&&Cd['push'](l);const fm=[];for(const l in $n)$n[l]==='cubemap'&&fm['push'](l);const gb={'aoMapVertexColor':'boolean','diffuseMapTint':'boolean','diffuseMapVertexColor':'boolean','emissiveMapTint':'boolean','emissiveMapVertexColor':'boolean','glossMapVertexColor':'boolean','metalnessMapVertexColor':'boolean','opacityMapVertexColor':'boolean','specularAntialias':'boolean','specularMapTint':'boolean','specularMapVertexColor':'boolean','ambientTint':'boolean','emissiveTint':'boolean','diffuseTint':'boolean','sheenTint':'boolean','conserveEnergy':'boolean','useGamma':'boolean','useGammaTonemap':'boolean','sheenGlossTint':'boolean','anisotropy':'boolean'},Kc={},bv={};let no=new Set();const oc=new ie();class Ut extends tr{constructor(){super(),h(this,'userAttrib'+'utes',new Map()),h(this,'onUpdateSh'+'ader'),(this['_assetRefe'+'rences']={},this['_activePar'+'ams']=new Set(),this['_activeLig'+'htingParam'+'s']=new Set(),this['shaderOptB'+'uilder']=new _b(),this['reset']());}['reset'](){Object['keys'](Kc)['forEach'](_0x248ff2=>{this['_'+_0x248ff2]=Kc[_0x248ff2]['value']();}),this['_uniformCa'+'che']={};}['copy'](_0x6b9ea7){return super['copy'](_0x6b9ea7),Object['keys'](Kc)['forEach'](_0xc942d4=>{this[_0xc942d4]=_0x6b9ea7[_0xc942d4];}),this['userAttrib'+'utes']=new Map(_0x6b9ea7['userAttrib'+'utes']),this;}['setAttribu'+'te'](_0xfdd459,_0x18b0f7){this['userAttrib'+'utes']['set'](_0x18b0f7,_0xfdd459);}['_setParame'+'ter'](_0x42ea57,_0x23d737){no['add'](_0x42ea57),this['setParamet'+'er'](_0x42ea57,_0x23d737);}['_setParame'+'ters'](_0x1247a7){_0x1247a7['forEach'](_0x1dc413=>{this['_setParame'+'ter'](_0x1dc413['name'],_0x1dc413['value']);});}['_processPa'+'rameters'](_0xf255cc){const _0x26f1fe=this[_0xf255cc];_0x26f1fe['forEach'](_0x332508=>{no['has'](_0x332508)||delete this['parameters'][_0x332508];}),this[_0xf255cc]=no,no=_0x26f1fe,no['clear']();}['_updateMap'](_0x3c1952){const _0x2869ef=_0x3c1952+'Map',_0xf4b947=this[_0x2869ef];if(_0xf4b947){this['_setParame'+'ter']('texture_'+_0x2869ef,_0xf4b947);const _0x2dfdef=_0x2869ef+'Transform',_0x4d2de1=this['getUniform'](_0x2dfdef);_0x4d2de1&&this['_setParame'+'ters'](_0x4d2de1);}}['_allocUnif'+'orm'](_0x20dc90,_0x35190f){let _0x260657=this['_uniformCa'+'che'][_0x20dc90];return _0x260657||(_0x260657=_0x35190f(),this['_uniformCa'+'che'][_0x20dc90]=_0x260657),_0x260657;}['getUniform'](_0x15aec6,_0x13199b,_0x454dde){return bv[_0x15aec6](this,_0x13199b,_0x454dde);}['updateUnif'+'orms'](_0x5ef8a9,_0x31d197){const _0x119af5=_0x3e1209=>this['getUniform'](_0x3e1209,_0x5ef8a9,_0x31d197);this['_setParame'+'ter']('material_a'+'mbient',_0x119af5('ambient')),this['_setParame'+'ter']('material_d'+'iffuse',_0x119af5('diffuse')),this['_setParame'+'ter']('material_a'+'oIntensity',this['aoIntensit'+'y']),this['useMetalne'+'ss']?((!this['metalnessM'+'ap']||this['metalness']<-0x1699+0x13d0+0x77*0x6)&&this['_setParame'+'ter']('material_m'+'etalness',this['metalness']),(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x119af5('specular')),(!this['specularit'+'yFactorMap']||this['specularit'+'yFactorTin'+'t'])&&this['_setParame'+'ter']('material_s'+'pecularity'+'Factor',this['specularit'+'yFactor']),this['_setParame'+'ter']('material_s'+'heen',_0x119af5('sheen')),this['_setParame'+'ter']('material_s'+'heenGloss',this['sheenGloss']),this['_setParame'+'ter']('material_r'+'efractionI'+'ndex',this['refraction'+'Index'])):(!this['specularMa'+'p']||this['specularTi'+'nt'])&&this['_setParame'+'ter']('material_s'+'pecular',_0x119af5('specular')),this['enableGGXS'+'pecular']&&(this['_setParame'+'ter']('material_a'+'nisotropyI'+'ntensity',this['anisotropy'+'Intensity']),this['_setParame'+'ter']('material_a'+'nisotropyR'+'otation',[Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']),Math['sin'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD'])])),this['clearCoat']>0x1317+0x60c+0xf*-0x1ad&&(this['_setParame'+'ter']('material_c'+'learCoat',this['clearCoat']),this['_setParame'+'ter']('material_c'+'learCoatGl'+'oss',this['clearCoatG'+'loss']),this['_setParame'+'ter']('material_c'+'learCoatBu'+'mpiness',this['clearCoatB'+'umpiness'])),this['_setParame'+'ter']('material_g'+'loss',this['gloss']),w['call'](()=>{this['emissiveMa'+'p']&&this['emissive']['r']===0x1d89+-0xd2+-0x1*0x1cb7&&this['emissive']['g']===-0x2657+0x39b+0x22bc&&this['emissive']['b']===-0x1*-0x10a3+-0x5*-0x1e7+-0x1a26&&w['warnOnce']('Emissive\x20m'+'ap\x20is\x20set\x20'+'but\x20emissi'+'ve\x20color\x20i'+'s\x20black,\x20m'+'aking\x20the\x20'+'map\x20invisi'+'ble.\x20Set\x20e'+'missive\x20co'+'lor\x20to\x20whi'+'te\x20to\x20make'+'\x20the\x20map\x20v'+'isible.\x20Re'+'ndering\x20['+Q['toString']()+']',this);}),this['_setParame'+'ter']('material_e'+'missive',_0x119af5('emissive')),this['_setParame'+'ter']('material_e'+'missiveInt'+'ensity',this['emissiveIn'+'tensity']),this['refraction']>-0xfee+-0x2132+-0xc48*-0x4&&this['_setParame'+'ter']('material_r'+'efraction',this['refraction']),this['dispersion']>0xeeb+0x12f*-0x11+-0x1*-0x534&&this['_setParame'+'ter']('material_d'+'ispersion',this['dispersion']),this['useDynamic'+'Refraction']&&(this['_setParame'+'ter']('material_t'+'hickness',this['thickness']),this['_setParame'+'ter']('material_a'+'ttenuation',_0x119af5('attenuatio'+'n')),this['_setParame'+'ter']('material_i'+'nvAttenuat'+'ionDistanc'+'e',this['attenuatio'+'nDistance']===-0x1272+0x7f*0x1f+0x311?-0x1*0x12af+0xe23+0x48c:(0x18ee*-0x1+-0x67a*0x3+0x2c5d)/this['attenuatio'+'nDistance'])),this['useIridesc'+'ence']&&(this['_setParame'+'ter']('material_i'+'ridescence',this['iridescenc'+'e']),this['_setParame'+'ter']('material_i'+'ridescence'+'Refraction'+'Index',this['iridescenc'+'eRefractio'+'nIndex']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'in',this['iridescenc'+'eThickness'+'Min']),this['_setParame'+'ter']('material_i'+'ridescence'+'ThicknessM'+'ax',this['iridescenc'+'eThickness'+'Max'])),this['_setParame'+'ter']('material_o'+'pacity',this['opacity']),this['opacityFad'+'esSpecular']===!(-0x101d+-0xf85+0x1fa3)&&this['_setParame'+'ter']('material_a'+'lphaFade',this['alphaFade']),this['occludeSpe'+'cular']&&this['_setParame'+'ter']('material_o'+'ccludeSpec'+'ularIntens'+'ity',this['occludeSpe'+'cularInten'+'sity']),this['cubeMapPro'+'jection']===av&&this['_setParame'+'ter'](_0x119af5('cubeMapPro'+'jectionBox'));for(const _0x44a4ed in bn)this['_updateMap'](_0x44a4ed);this['ambientSH']&&this['_setParame'+'ter']('ambientSH['+'0]',this['ambientSH']),this['normalMap']&&this['_setParame'+'ter']('material_b'+'umpiness',this['bumpiness']),this['normalMap']&&this['normalDeta'+'ilMap']&&this['_setParame'+'ter']('material_n'+'ormalDetai'+'lMapBumpin'+'ess',this['normalDeta'+'ilMapBumpi'+'ness']),this['heightMap']&&this['_setParame'+'ter']('material_h'+'eightMapFa'+'ctor',_0x119af5('heightMapF'+'actor')),this['envAtlas']&&this['cubeMap']?(this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap'])):this['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',this['envAtlas']):this['cubeMap']?this['_setParame'+'ter']('texture_cu'+'beMap',this['cubeMap']):this['sphereMap']&&this['_setParame'+'ter']('texture_sp'+'hereMap',this['sphereMap']),this['_setParame'+'ter']('material_r'+'eflectivit'+'y',this['reflectivi'+'ty']),this['_processPa'+'rameters']('_activePar'+'ams'),super['updateUnif'+'orms'](_0x5ef8a9,_0x31d197);}['updateEnvU'+'niforms'](_0x116cf9,_0x2ad297){!(this['envAtlas']||this['cubeMap']||this['sphereMap'])&&this['useSkybox']&&(_0x2ad297['envAtlas']&&_0x2ad297['skybox']?(this['_setParame'+'ter']('texture_en'+'vAtlas',_0x2ad297['envAtlas']),this['_setParame'+'ter']('texture_cu'+'beMap',_0x2ad297['skybox'])):_0x2ad297['envAtlas']?this['_setParame'+'ter']('texture_en'+'vAtlas',_0x2ad297['envAtlas']):_0x2ad297['skybox']&&this['_setParame'+'ter']('texture_cu'+'beMap',_0x2ad297['skybox'])),this['_processPa'+'rameters']('_activeLig'+'htingParam'+'s');}['getShaderV'+'ariant'](_0x590456){const {device:_0x1151e3,scene:_0x313d68,pass:_0x456bc8,objDefs:_0x10fca1,sortedLights:_0x4fcb1e,cameraShaderParams:_0x5a98d9}=_0x590456;this['updateEnvU'+'niforms'](_0x1151e3,_0x313d68);const _0x1e728d=Si['get'](_0x1151e3)['getByIndex'](_0x456bc8),_0x4a559e=_0x456bc8===Zn||_0x456bc8===Rl||_0x1e728d['isShadow'];let _0x4f4df9=_0x4a559e?Jd['optionsCon'+'textMin']:Jd['optionsCon'+'text'];_0x4f4df9['defines']=$t['getCoreDef'+'ines'](this,_0x590456),_0x4a559e?this['shaderOptB'+'uilder']['updateMinR'+'ef'](_0x4f4df9,_0x313d68,this,_0x10fca1,_0x456bc8,_0x4fcb1e):this['shaderOptB'+'uilder']['updateRef'](_0x4f4df9,_0x313d68,_0x5a98d9,this,_0x10fca1,_0x456bc8,_0x4fcb1e),this['useFog']||_0x4f4df9['defines']['set']('FOG','NONE'),_0x4f4df9['defines']['set']('TONEMAP',ov[_0x4f4df9['litOptions']['toneMap']]),this['onUpdateSh'+'ader']&&(_0x4f4df9=this['onUpdateSh'+'ader'](_0x4f4df9));const _0x160ad3=new Ad(_0x590456['viewUnifor'+'mFormat'],_0x590456['viewBindGr'+'oupFormat'],_0x590456['vertexForm'+'at']),_0x52261b=Hn(_0x1151e3);_0x52261b['register']('standard',Jd);const _0x3eff38=_0x52261b['getProgram']('standard',_0x4f4df9,_0x160ad3,this['userId']);return this['_dirtyShad'+'er']=!(0x14ae+0x1*0x1a92+0x973*-0x5),_0x3eff38;}['destroy'](){for(const _0x48109d in this['_assetRefe'+'rences'])this['_assetRefe'+'rences'][_0x48109d]['_unbind']();this['_assetRefe'+'rences']=null,super['destroy']();}}h(Ut,'TEXTURE_PA'+'RAMETERS',Cd),h(Ut,'CUBEMAP_PA'+'RAMETERS',fm);const Pd=(_0x51ce07,_0x1e85d9)=>{bv[_0x51ce07]=_0x1e85d9;},um=(_0x296e19,_0x2a97a9,_0x2f28c2,_0x213d77)=>{Object['defineProp'+'erty'](Ut['prototype'],_0x296e19,{'get':_0x213d77||function(){return this['_'+_0x296e19];},'set':_0x2f28c2}),Kc[_0x296e19]={'value':_0x2a97a9};},Sb=_0x5a3f9c=>{const _0x34711a='_'+_0x5a3f9c['name'],_0x21512c=_0x5a3f9c['dirtyShade'+'rFunc']||(()=>!(-0xc11*-0x1+0x1*-0x1049+-0x2d*-0x18)),_0x345700=function(_0x5d6414){const _0x4a661d=this[_0x34711a];_0x4a661d!==_0x5d6414&&(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x21512c(_0x4a661d,_0x5d6414),this[_0x34711a]=_0x5d6414);};um(_0x5a3f9c['name'],()=>_0x5a3f9c['defaultVal'+'ue'],_0x345700,_0x5a3f9c['getterFunc']);},yb=_0x5132f2=>{const _0x3755d4='_'+_0x5132f2['name'],_0x34794d=_0x5132f2['dirtyShade'+'rFunc']||(()=>!(0x2596+-0x91a+0xe3e*-0x2)),_0xc9af51=function(_0x38fdc2){const _0x3fa9c7=this[_0x3755d4];_0x3fa9c7['equals'](_0x38fdc2)||(this['_dirtyShad'+'er']=this['_dirtyShad'+'er']||_0x34794d(_0x3fa9c7,_0x38fdc2),this[_0x3755d4]=_0x3fa9c7['copy'](_0x38fdc2));};um(_0x5132f2['name'],()=>_0x5132f2['defaultVal'+'ue']['clone'](),_0xc9af51,_0x5132f2['getterFunc']);},Es=_0x2ea262=>_0x2ea262['defaultVal'+'ue']&&_0x2ea262['defaultVal'+'ue']['clone']?yb(_0x2ea262):Sb(_0x2ea262);function et(_0x2c7df5,_0x277a05='rgb',_0x2eb725=!(-0x3*0x997+-0x2618+0x42dd*0x1),_0x2b7958=0xff7*-0x1+-0xeef+0x1ee6){bn[_0x2c7df5]=_0x277a05['length']||-(-0x3*-0xc2d+0x16af+-0x3b35),Es({'name':_0x2c7df5+'Map','defaultValue':null,'dirtyShaderFunc':(_0x5d6acb,_0x81e394)=>!!_0x5d6acb!=!!_0x81e394||_0x5d6acb&&(_0x5d6acb['type']!==_0x81e394['type']||_0x5d6acb['format']!==_0x81e394['format'])}),Es({'name':_0x2c7df5+'MapTiling','defaultValue':new J(-0x4f9*-0x5+0x2fd*0x7+-0x2dc7,0x2f*-0x9d+-0x6*-0x276+0xe10)}),Es({'name':_0x2c7df5+'MapOffset','defaultValue':new J(-0x1bdb+-0x59*-0x3c+0x6ff,0x1539+0xc0d+0x2*-0x10a3)}),Es({'name':_0x2c7df5+('MapRotatio'+'n'),'defaultValue':0x0}),Es({'name':_0x2c7df5+'MapUv','defaultValue':_0x2b7958}),_0x277a05&&(Es({'name':_0x2c7df5+'MapChannel','defaultValue':_0x277a05}),_0x2eb725&&(Es({'name':_0x2c7df5+('VertexColo'+'r'),'defaultValue':!(0x7*0x44e+0x1d*0xf1+-0x396e)}),Es({'name':_0x2c7df5+('VertexColo'+'rChannel'),'defaultValue':_0x277a05})));const _0x1e44c6=_0x2c7df5+'MapTiling',_0x2cac0c=_0x2c7df5+'MapOffset',_0x131825=_0x2c7df5+('MapRotatio'+'n'),_0xe6f14=_0x2c7df5+('MapTransfo'+'rm');Pd(_0xe6f14,(_0x30485e,_0x29c821,_0x479bb3)=>{const _0x4a17d0=_0x30485e[_0x1e44c6],_0x5f44d6=_0x30485e[_0x2cac0c],_0x536c60=_0x30485e[_0x131825];if(_0x4a17d0['x']===-0x4*0x172+0x262b+-0x2062&&_0x4a17d0['y']===-0x666+-0x1ee5+0xe*0x2aa&&_0x5f44d6['x']===-0x1bef+0x12*0x4f+-0x1661*-0x1&&_0x5f44d6['y']===0x382*-0x5+-0xf27+-0x1*-0x20b1&&_0x536c60===-0xac6+0x1*-0x22d2+-0x2d98*-0x1)return null;const _0x2a3931=_0x30485e['_allocUnif'+'orm'](_0xe6f14,()=>[{'name':'texture_'+_0xe6f14+'0','value':new Float32Array(-0x10ba+-0x564+0x1621)},{'name':'texture_'+_0xe6f14+'1','value':new Float32Array(-0x81*-0x1e+0xf23+0x9e*-0x31)}]),_0x5de5db=Math['cos'](_0x536c60*Y['DEG_TO_RAD']),_0x3b49cd=Math['sin'](_0x536c60*Y['DEG_TO_RAD']),_0x170c14=_0x2a3931[0x1a11*-0x1+0x26d9+-0x8*0x199]['value'];_0x170c14[-0x103f+0x1*-0x1e17+-0x293*-0x12]=_0x5de5db*_0x4a17d0['x'],_0x170c14[-0x25*0xe9+0x20ab+0x103*0x1]=-_0x3b49cd*_0x4a17d0['y'],_0x170c14[-0x2*0x114+0x8e2+0x4*-0x1ae]=_0x5f44d6['x'];const _0x586a6f=_0x2a3931[-0x249f+0x12e9+0x11b7]['value'];return _0x586a6f[-0x3ce*-0x5+0xdab*-0x2+-0x428*-0x2]=_0x3b49cd*_0x4a17d0['x'],_0x586a6f[-0x1*0x151+-0x87+0x1d9]=_0x5de5db*_0x4a17d0['y'],_0x586a6f[0x3e6*0x4+0x345*0x9+0x45*-0xa7]=0x1e17+-0x2*-0xa16+-0x3242-_0x4a17d0['y']-_0x5f44d6['y'],_0x2a3931;});}function Ra(_0xb39884,_0x3d9aa1){Es({'name':_0xb39884,'defaultValue':_0x3d9aa1,'getterFunc':function(){return this['_dirtyShad'+'er']=!(0x3a6*0x2+0x1*-0x198d+0x1241),this['_'+_0xb39884];}}),Pd(_0xb39884,(_0x1442e5,_0x40dc07,_0x5eccde)=>{const _0x10a637=_0x1442e5['_allocUnif'+'orm'](_0xb39884,()=>new Float32Array(-0x12b*-0x13+0x391+-0x19bf)),_0x2d8fc0=_0x1442e5[_0xb39884];return oc['linear'](_0x2d8fc0),_0x10a637[-0x1198+-0x2568+-0x58*-0xa0]=oc['r'],_0x10a637[-0x3*-0x577+-0x1017+-0x4d]=oc['g'],_0x10a637[-0x6e9+0x271*-0xb+-0x5a1*-0x6]=oc['b'],_0x10a637;});}function ze(_0x477567,_0x2a0b5d,_0x15ca43){Es({'name':_0x477567,'defaultValue':_0x2a0b5d,'dirtyShaderFunc':(_0x489094,_0x3ecc3b)=>(_0x489094===-0x26cb+-0xd82+0x3*0x116f||_0x489094===0x98f*-0x1+0x198e+-0x2e*0x59)!=(_0x3ecc3b===-0x1a04+-0x1af1+0x11a7*0x3||_0x3ecc3b===0x2c*0xa3+0x43*0x25+0x78a*-0x5)}),Pd(_0x477567,_0x15ca43);}function oo(_0x28a140,_0x5a521b){Es({'name':_0x28a140,'defaultValue':null,'dirtyShaderFunc':(_0x129590,_0x2f13b1)=>!!_0x129590==!!_0x2f13b1}),Pd(_0x28a140,_0x5a521b);}function ke(_0x20bf8b,_0x68aa69){Es({'name':_0x20bf8b,'defaultValue':_0x68aa69});}function vb(){Ra('ambient',new ie(0x108c+0x2521+0x14*-0x2af,0x1*-0x25a2+0xfd1*-0x1+0x137*0x2c,0x38*0x76+0x105*0x1+-0x1ad4)),Ra('diffuse',new ie(-0x1f0d*-0x1+0x346+-0x17*0x17e,-0x388+-0x223+0x5ac,0x1988+-0x7*0x1a5+-0x17*0x9c)),Ra('specular',new ie(0x1188+0x13*-0x151+0x77b,-0x8*-0x266+0x1eb*0xc+-0x151a*0x2,-0x1*-0x1d7b+-0xd*-0x1f3+-0x6*0x923)),Ra('emissive',new ie(-0x71*-0x1d+-0x1952+0xc85*0x1,-0x145a+0x1871+-0x417,0x1*0x268f+0x13ac+-0x3a3b)),Ra('sheen',new ie(-0x17bf+0x6db+-0x5*-0x361,0xcaf+-0x7c*-0x42+-0x477*0xa,0x8ea+-0x205f+0x1776)),Ra('attenuatio'+'n',new ie(0x37f*-0x1+-0x146*0x8+0xdb0,-0x8f+0x32b*-0x9+0x1d13,-0x609*0x1+-0x2*0x137f+0x2d08)),ze('emissiveIn'+'tensity',-0x301*0xb+-0xf24*-0x1+-0x23d*-0x8),ze('specularit'+'yFactor',0x1e3+-0x1081+0xe9f),ze('sheenGloss',-0x1a9c+-0x2*0x855+0x2b46),ze('gloss',0x89e+0x651+-0xeef+0.25),ze('aoIntensit'+'y',0xa6f+0x298+-0x2*0x683),ze('heightMapF'+'actor',0x15f5+-0xa*0x2b1+0x27b*0x2,(_0x420ad3,_0x4647ef,_0x288b4f)=>_0x420ad3['heightMapF'+'actor']*(0x3*-0x209+-0xab9+0xc*0x167+0.025)),ze('opacity',0x25f8+0x71*0x2e+-0x3a45),ze('alphaFade',0x329+-0x3ed*0x1+0xc5),ze('alphaTest',-0x26e+0x38d+-0x29*0x7),ze('bumpiness',0x26c7+0x1*-0x1439+-0x128d),ze('normalDeta'+'ilMapBumpi'+'ness',-0x1306+0x1ec2+-0x111*0xb),ze('reflectivi'+'ty',0x252c+-0x9ba+-0x19*0x119),ze('occludeSpe'+'cularInten'+'sity',-0x18f4+-0x1*-0x12af+-0x323*-0x2),ze('refraction',0x9b*0x28+-0x1953+0x11b),ze('refraction'+'Index',(-0x54+-0x1*0x353+0x3a8)/(-0x779*-0x5+0x164a+-0x3ba6+0.5)),ze('dispersion',-0x1c1+-0x3b0+0x571),ze('thickness',-0x5bd*0x1+-0x141f+-0x5*-0x52c),ze('attenuatio'+'nDistance',-0x4*-0x902+0x3*-0x5ae+0x12fe*-0x1),ze('metalness',0x1*0x87d+-0x15*-0xe9+-0x933*0x3),ze('anisotropy'+'Intensity',0xe1c+0x33d*-0xb+0x1583),ze('anisotropy'+'Rotation',0xf7d+0xd03+-0x1c80),ze('clearCoat',-0x4*-0x1c9+0x24c8+0x752*-0x6),ze('clearCoatG'+'loss',-0xd2f+-0x1*-0x264b+-0x191b),ze('clearCoatB'+'umpiness',-0x10c1*0x1+-0x1*0xece+0x1f90),ze('aoUvSet',0x5*-0x785+-0x3*-0xbfa+0x1ab*0x1,null),ze('iridescenc'+'e',-0xfcd+-0x455*-0x1+0x16f*0x8),ze('iridescenc'+'eRefractio'+'nIndex',(0xf16+-0xf0d+-0x8)/(0x1*-0x13dd+0x6*0x47+0x1*0x1234+0.5)),ze('iridescenc'+'eThickness'+'Min',0x2287+0x15*0x7d+-0x599*0x8),ze('iridescenc'+'eThickness'+'Max',0xe*-0x1db+0x18ce+0x12c),oo('ambientSH'),oo('cubeMapPro'+'jectionBox',(_0x50cc3b,_0x3614a2,_0x5e520a)=>{const _0x405608=_0x50cc3b['_allocUnif'+'orm']('cubeMapPro'+'jectionBox',()=>[{'name':'envBoxMin','value':new Float32Array(0x1994+-0x1709*0x1+-0x51*0x8)},{'name':'envBoxMax','value':new Float32Array(0x8*0x2ea+-0x74f+-0xffe)}]),_0x1b23c2=_0x50cc3b['cubeMapPro'+'jectionBox']['getMin'](),_0x3d5c13=_0x405608[-0x1293*0x2+0xd90+0x1796]['value'];_0x3d5c13[0x1bcb*-0x1+0x26a2+-0xad7]=_0x1b23c2['x'],_0x3d5c13[0xaf0+-0xd6f*-0x1+-0x185e]=_0x1b23c2['y'],_0x3d5c13[0x16c1+-0x1a29+0x36a]=_0x1b23c2['z'];const _0x253325=_0x50cc3b['cubeMapPro'+'jectionBox']['getMax'](),_0x28bf05=_0x405608[0xc*0x303+-0x2398+-0x1*0x8b]['value'];return _0x28bf05[-0x145a+-0x73a*-0x3+0xaa*-0x2]=_0x253325['x'],_0x28bf05[-0x1495+-0xe2e+0x37a*0xa]=_0x253325['y'],_0x28bf05[0xbb*0x5+0x1889+-0x1c2e]=_0x253325['z'],_0x405608;}),ke('specularTi'+'nt',!(-0x1*0x110b+-0x30*0x7f+0x28dc)),ke('specularit'+'yFactorTin'+'t',!(-0x261a+0xef3*-0x1+0x1a87*0x2)),ke('useMetalne'+'ss',!(-0x711+-0x1f*-0x2d+0x19f)),ke('useMetalne'+'ssSpecular'+'Color',!(-0x26b+0x6*-0x34e+0x20*0xb2)),ke('useSheen',!(-0x7b*-0x16+0x980+-0x1411)),ke('enableGGXS'+'pecular',!(0x1e76*0x1+0x1a65+-0x1*0x38da)),ke('occludeDir'+'ect',!(-0x1cd5+0xb45+0x1191*0x1)),ke('opacityFad'+'esSpecular',!(0x9e3*0x1+0x191*-0x6+-0x1*0x7d)),ke('occludeSpe'+'cular',bd),ke('fresnelMod'+'el',Yp),ke('useDynamic'+'Refraction',!(0x33*0x52+0x544+0x61*-0x39)),ke('cubeMapPro'+'jection',tm),ke('useFog',!(-0x1494+-0x7cb+0x1c5f)),ke('useLightin'+'g',!(0x7*-0x29c+-0x2a6+0x14ea*0x1)),ke('useTonemap',!(-0x26c2+-0x17*0x29+-0xcd*-0x35)),ke('useSkybox',!(0x12e0+-0x1e26+-0x5a3*-0x2)),ke('forceUv1',!(0x2114+-0x135f+-0x6da*0x2)),ke('pixelSnap',!(0x65*-0x26+0x6*-0x4a5+0x2add*0x1)),ke('twoSidedLi'+'ghting',!(-0x40+-0x11*-0xff+-0x10ae)),ke('nineSliced'+'Mode',void(-0x15*-0x1d1+-0x128e+0x3eb*-0x5)),ke('msdfTextAt'+'tribute',!(0xa34+-0x1a27+0xff4)),ke('useIridesc'+'ence',!(-0xd58+-0x8*-0x2b8+-0x9*0xef)),ke('glossInver'+'t',!(0x1418+-0x5b9+0x6*-0x265)),ke('sheenGloss'+'Invert',!(0x15b+0x5*-0x14a+0x518)),ke('clearCoatG'+'lossInvert',!(0x1e66*0x1+-0x62d*-0x3+0x7c*-0x65)),ke('opacityDit'+'her',Sa),ke('opacitySha'+'dowDither',Sa),ke('shadowCatc'+'her',!(-0x1*0x58b+-0x41*0x25+-0x99*-0x19)),et('diffuse'),et('specular'),et('emissive'),et('thickness','g'),et('specularit'+'yFactor','g'),et('normal',''),et('metalness','g'),et('gloss','g'),et('opacity','a'),et('refraction','g'),et('height','g',!(0xce1+-0x322*0x2+-0x69c)),et('ao','g'),et('light','rgb',!(0x514*-0x4+0x342*-0x7+0x2b1e),-0xe55+0xc41*0x3+0x166d*-0x1),et('msdf',''),et('diffuseDet'+'ail','rgb',!(-0x46*-0x57+-0x76d*-0x3+-0x2e10)),et('normalDeta'+'il',''),et('aoDetail','g',!(-0x1*-0x18fc+0x527+-0x196*0x13)),et('clearCoat','g'),et('clearCoatG'+'loss','g'),et('clearCoatN'+'ormal',''),et('sheen','rgb'),et('sheenGloss','g'),et('iridescenc'+'e','g'),et('iridescenc'+'eThickness','g'),et('anisotropy',''),ke('diffuseDet'+'ailMode',p_),ke('aoDetailMo'+'de',p_),oo('cubeMap'),oo('sphereMap'),oo('envAtlas');const _0x386664=function(){return this['_prefilter'+'edCubemaps'];},_0x2993d1=function(_0x1434e0){const _0x588f1f=this['_prefilter'+'edCubemaps'];_0x1434e0=_0x1434e0||[];let _0x5d0f54=!(0x1b1b*-0x1+-0x3*-0x3b9+0xff1),_0x21b617=!(-0xa9+-0x1dfc+0x1ea5);for(let _0x5c6c60=0x1*0x259d+-0x18e5+0x94*-0x16;_0x5c6c60<0x3f+-0xc7*-0xd+-0xa54;++_0x5c6c60){const _0x51ac7d=_0x1434e0[_0x5c6c60]||null;_0x588f1f[_0x5c6c60]!==_0x51ac7d&&(_0x588f1f[_0x5c6c60]=_0x51ac7d,_0x5d0f54=!(-0x1*0x24c9+0xb*-0x1a2+-0x5*-0xaf3)),_0x21b617=_0x21b617&&!!_0x588f1f[_0x5c6c60];}_0x5d0f54&&(_0x21b617?this['envAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x588f1f,{'target':this['envAtlas']}):this['envAtlas']&&(this['envAtlas']['destroy'](),this['envAtlas']=null),this['_dirtyShad'+'er']=!(0x734*-0x4+-0x26*0xd5+-0xa*-0x60b));},_0x2cc5ba=[null,null,null,null,null,null];um('prefiltere'+'dCubemaps',()=>_0x2cc5ba['slice'](),_0x2993d1,_0x386664);}vb();const Rt=class Rt{static['render'](_0x5b6b06,_0x23e26b){const _0x2772a1=_0x23e26b['device'],_0x422498=_0x5b6b06['cells'],_0x54f208=_0x5b6b06['lightsBuff'+'er'],_0x189e1b=_0x54f208['boundsMin'],_0x30ea91=_0x54f208['boundsDelt'+'a'],_0x5a0bff=_0x189e1b['clone']()['add'](_0x30ea91),_0x451e49=_0x54f208['boundsDelt'+'a']['clone']()['div'](_0x422498),_0x5b2cfc=Rt['gridPositi'+'ons'],_0x54461f=Rt['gridColors'],_0x21581b=new ie(-0xb1b+0x2*-0xcf3+0x2501*0x1+0.3,-0x260*0x10+-0x146f+0x859*0x7+0.3,-0xdc5+-0x1ddd+0x2ba2+0.3),_0x53a6c1=(_0x517f40,_0x994ac3,_0x62c207,_0x3926cf,_0x8388d7,_0x3776ee,_0x4a0454,_0x33b0c0,_0x212b4c)=>{for(let _0x4bce9f=0x2320+-0xb85+-0x179b;_0x4bce9f<=_0x517f40;_0x4bce9f++)for(let _0x5f3d4e=0x25*-0xdf+-0x7*-0x269+-0x3d7*-0x4;_0x5f3d4e<=_0x994ac3;_0x5f3d4e++){const _0x3f4a40=_0x62c207+_0x4bce9f*_0x3926cf,_0xd761e4=_0x8388d7+_0x5f3d4e*_0x3776ee;_0x212b4c===-0x23*-0xd1+-0xba6+-0x26b*0x7?_0x5b2cfc['push'](_0x3f4a40,_0x4a0454,_0xd761e4,_0x3f4a40,_0x33b0c0,_0xd761e4):_0x212b4c===0x1277+0x2015*0x1+-0x328b?_0x5b2cfc['push'](_0x3f4a40,_0xd761e4,_0x4a0454,_0x3f4a40,_0xd761e4,_0x33b0c0):_0x212b4c===-0x12*0x7b+-0x1505+0x6b*0x47&&_0x5b2cfc['push'](_0x4a0454,_0x3f4a40,_0xd761e4,_0x33b0c0,_0x3f4a40,_0xd761e4);}};if(_0x53a6c1(_0x422498['x'],_0x422498['z'],_0x189e1b['x'],_0x451e49['x'],_0x189e1b['z'],_0x451e49['z'],_0x189e1b['y'],_0x5a0bff['y'],0x10f7+-0x13c1+-0x15*-0x22),_0x53a6c1(_0x422498['x'],_0x422498['y'],_0x189e1b['x'],_0x451e49['x'],_0x189e1b['y'],_0x451e49['y'],_0x189e1b['z'],_0x5a0bff['z'],0x18d7+0x79e*-0x3+0x1fc*-0x1),_0x53a6c1(_0x422498['y'],_0x422498['z'],_0x189e1b['y'],_0x451e49['y'],_0x189e1b['z'],_0x451e49['z'],_0x189e1b['x'],_0x5a0bff['x'],0x15c*-0x10+0x1e6d+-0x8ab),_0x5b2cfc['length']){const _0xf6866f=_0x5b2cfc['length']/(0x1350+-0x66a+-0xce3);if(_0xf6866f!==_0x54461f['length']/(0x22b+-0xe*0x10c+0xc81)){_0x54461f['length']=-0x2023+-0x1*-0x157+0x1ecc;for(let _0x2647cf=0xac4+-0x1*-0x1330+-0x1df4;_0x2647cf<_0xf6866f;_0x2647cf++)_0x54461f['push'](_0x21581b['r'],_0x21581b['g'],_0x21581b['b'],_0x21581b['a']);}_0x23e26b['drawLineAr'+'rays'](_0x5b2cfc,_0x54461f),_0x5b2cfc['length']=-0x1*0x6d9+-0x17fb+0x1ed4;}let _0x44765e=Rt['mesh'];_0x44765e||(_0x44765e=new Ge(_0x2772a1),_0x44765e['clear'](!(-0x259+-0x759+-0x4d9*-0x2),!(-0x3*-0x5de+0x24*-0x6+-0x10c2)),Rt['mesh']=_0x44765e);const _0x3c878=[],_0x1174a5=[],_0x3cbfab=[],_0x4f147e=_0x5b6b06['_cells']['x'],_0x334bdd=_0x5b6b06['_cells']['z'],_0x17e734=_0x5b6b06['counts'],_0x3ed117=_0x5b6b06['_maxCellLi'+'ghtCount'],_0x42c0e2=new D(),_0x480bd4=new D(),_0x43775a=new D(),_0x3d6cd2=_0x30ea91['clone']()['div'](_0x422498);let _0x20219a=0x236+-0x12f0+0x1*0x10ba;for(let _0x4811e9=0x109a*-0x1+-0xa85+0x1b1f;_0x4811e9<_0x422498['x'];_0x4811e9++)for(let _0x5015fa=-0x9ef+-0xe91+0x1880;_0x5015fa<_0x422498['z'];_0x5015fa++)for(let _0x32d8b5=0x5*0x3b5+0xda6+-0xb*0x2ed;_0x32d8b5<_0x422498['y'];_0x32d8b5++){const _0x19c5cc=_0x4811e9+_0x4f147e*(_0x5015fa+_0x32d8b5*_0x334bdd),_0x5e7fae=_0x17e734[_0x19c5cc];if(_0x5e7fae>-0x2b*-0x6d+0x2*0xecb+-0x2fe5){_0x42c0e2['x']=_0x189e1b['x']+_0x3d6cd2['x']*_0x4811e9,_0x42c0e2['y']=_0x189e1b['y']+_0x3d6cd2['y']*_0x32d8b5,_0x42c0e2['z']=_0x189e1b['z']+_0x3d6cd2['z']*_0x5015fa,_0x480bd4['add2'](_0x42c0e2,_0x3d6cd2),_0x3c878['push'](_0x42c0e2['x'],_0x42c0e2['y'],_0x480bd4['z']),_0x3c878['push'](_0x480bd4['x'],_0x42c0e2['y'],_0x480bd4['z']),_0x3c878['push'](_0x480bd4['x'],_0x480bd4['y'],_0x480bd4['z']),_0x3c878['push'](_0x42c0e2['x'],_0x480bd4['y'],_0x480bd4['z']),_0x3c878['push'](_0x480bd4['x'],_0x42c0e2['y'],_0x42c0e2['z']),_0x3c878['push'](_0x42c0e2['x'],_0x42c0e2['y'],_0x42c0e2['z']),_0x3c878['push'](_0x42c0e2['x'],_0x480bd4['y'],_0x42c0e2['z']),_0x3c878['push'](_0x480bd4['x'],_0x480bd4['y'],_0x42c0e2['z']),_0x43775a['lerp'](Rt['colorLow'],Rt['colorHigh'],_0x5e7fae/_0x3ed117)['round']();for(let _0x5e476f=0x47*0x7a+0x619*0x1+-0x27ef;_0x5e476f<-0xde+-0x2*-0x101+-0x11c;_0x5e476f++)_0x1174a5['push'](_0x43775a['x'],_0x43775a['y'],_0x43775a['z'],0xf31+0x2360+0x1948*-0x2);_0x3cbfab['push'](_0x20219a*(-0x8e*-0x28+-0x1195*-0x2+-0x3a*0xfd)+(-0x1edc*0x1+-0x2357+0x4233),_0x20219a*(-0x36a+0x5*0x59+-0x1b5*-0x1)+(-0x23*0x11+-0xf8+0x34c),_0x20219a*(0x1d76+0x1*-0x3a3+-0x19cb)+(-0x188d+-0x1037+0x28c7)),_0x3cbfab['push'](_0x20219a*(-0x1*-0x261b+0x25fa+-0x1*0x4c0d)+(0x19a1+-0x1801+0x7*-0x3b),_0x20219a*(0x1*-0xda3+-0x108e+0x1*0x1e39)+(-0x204b+0xe0e+0x123e*0x1),_0x20219a*(-0x7*-0x130+-0x253d+-0x7*-0x423)+(-0xfde+-0x1e*0x7d+0x1e86)),_0x3cbfab['push'](_0x20219a*(0x20e1+0x17c+-0x2255*0x1)+(-0x8b*-0x2f+-0x3a7+-0x15da),_0x20219a*(-0x15c5+-0xe9*-0x18+-0xb)+(-0x5c1*0x1+-0x3*0x22+0x62c),_0x20219a*(-0x7*0x251+-0x1505*-0x1+-0xd*0x5e)+(0x1*0x87d+-0xad0+0x25a*0x1)),_0x3cbfab['push'](_0x20219a*(0x12*0x95+-0x1bae+0x1*0x113c)+(0x59*-0x6d+-0x192b+0x3f17),_0x20219a*(-0x1924+-0x1*0x65b+0x1f87)+(-0x1788+0x20bc+-0x92f*0x1),_0x20219a*(-0xe*-0x20+-0x7*0x2b5+0x113b)+(-0x1a12+0x2685+-0xc6d)),_0x3cbfab['push'](_0x20219a*(-0x1b*0xb1+-0x2*0xd32+0x2d17)+(0x13*0x76+-0xa27+0x1e*0xc),_0x20219a*(0x3*0x2c7+-0xf8d+0x740)+(0x161*-0x14+-0x1071+0x2c07),_0x20219a*(0x1224+-0x2674+0x516*0x4)+(-0x1a0+-0x33*-0x7a+-0x16a8)),_0x3cbfab['push'](_0x20219a*(0xae*-0x24+-0x1b76+0x9*0x5c6)+(-0x2101+-0xfef*0x1+-0x1*-0x30f2),_0x20219a*(0x2d6*0xb+-0x7b3+-0x1777)+(0x2f*-0x9c+0x1+0x1caa),_0x20219a*(0x23e0+-0x1f*-0xc9+-0x3c2f)+(-0x2d6+0x1850+-0x1574)),_0x3cbfab['push'](_0x20219a*(0x904+-0x1073+0x777)+(0x18e*-0x5+-0x5d2+0xd99),_0x20219a*(-0x11*-0x11c+-0x978+-0x95c)+(-0x1fe6+-0x3cd*0x9+0x421b),_0x20219a*(0xae7*0x1+-0x2e3*-0x3+-0x28*0x7d)+(-0x1dca+-0x1*0x13a+0x1f08)),_0x3cbfab['push'](_0x20219a*(-0x5*0xdf+-0x1506+0x1969*0x1)+(-0x832+-0x1842+0x10c*0x1f),_0x20219a*(-0x200+-0x634+-0x1f*-0x44)+(0x268+0x1fc9+-0x36*0xa2),_0x20219a*(-0x23e+-0x1*0x23f5+0x263b)+(0x24b6*0x1+0x15ca*0x1+-0x3a7c)),_0x3cbfab['push'](_0x20219a*(-0x39*-0xae+-0x22*-0x107+-0x49a4)+(0x1e14+-0x1072+-0xda1),_0x20219a*(-0x8*-0x10c+0x56e*-0x5+0x3a*0x53)+(-0x140b+-0x7*0x386+-0x6b*-0x6b),_0x20219a*(0x14*-0x1b1+0x210+0x32e*0xa)+(-0x2018+-0x2f2+0x230c)),_0x3cbfab['push'](_0x20219a*(-0x33*-0xa1+-0x1f*-0x12d+-0x447e)+(0x1b09+-0x1*0x68b+-0x147a),_0x20219a*(0x1e*-0x10d+-0x2ef*0xc+-0x42c2*-0x1)+(0x2*0x223+0x15dd+-0x1a1c),_0x20219a*(-0x23f7+-0xe39+0x3238)+(0xcd5+-0x1*0x10e2+0x40f)),_0x3cbfab['push'](_0x20219a*(-0x2cc+-0x10*-0x1+0x2c4)+(0xc0+-0x1323+-0xf8*-0x13),_0x20219a*(0x1fd0+-0x12*0x14b+-0xc6*0xb)+(-0x10a9*0x1+0xa*0x1dc+-0x1ef),_0x20219a*(-0x1*-0x1e09+0x2639+-0x443a)+(0x17*0xf1+-0x3*0x3fb+-0x9b0)),_0x3cbfab['push'](_0x20219a*(-0x593*0x1+0xc39+0x7*-0xf2)+(0x1550+0x1cc5+-0x3215),_0x20219a*(-0x43a*-0x5+0xde4+0x117f*-0x2)+(-0x4e1*0x1+0x6*0x44b+-0x14de),_0x20219a*(0xea1+0x236d*-0x1+-0x1f*-0xac)+(-0x2196+0x1329+0xe73)),_0x20219a++;}}if(_0x20219a){if(_0x44765e['setPositio'+'ns'](_0x3c878),_0x44765e['setNormals'](new Float32Array(_0x3c878['length'])),_0x44765e['setColors3'+'2'](_0x1174a5),_0x44765e['setIndices'](_0x3cbfab),_0x44765e['update'](js,!(0x2*0xb62+-0x1*0xf73+0x48*-0x1a)),!Rt['meshInstan'+'ce']){const _0x304ce0=new Ut();_0x304ce0['useLightin'+'g']=!(-0xbcd+0x261a+-0x21*0xcc),_0x304ce0['emissive']=new ie(0x79d+-0x144e+-0x659*-0x2,-0x3*0xb29+-0xa29+0x2ba5,-0x1730+-0x1169*0x1+-0x1*-0x289a),_0x304ce0['emissiveVe'+'rtexColor']=!(0xcf2*0x1+-0x25b1*-0x1+0x3*-0x10e1),_0x304ce0['blendType']=Ed,_0x304ce0['depthWrite']=!(-0x21d6+0xa*0x18d+0xf7*0x13),_0x304ce0['update']();const _0x4b746a=new Ie('WorldClust'+'ersDebug');_0x4b746a['worldTrans'+'form']=te['IDENTITY'],_0x4b746a['_dirtyWorl'+'d']=_0x4b746a['_dirtyNorm'+'al']=!(-0x8*0x2da+0xfbd+0xc*0x97),Rt['meshInstan'+'ce']=new He(_0x44765e,_0x304ce0,_0x4b746a),Rt['meshInstan'+'ce']['cull']=!(0x1289*0x1+-0x67b*0x1+-0xc0d);}const _0x3fe1a2=Rt['meshInstan'+'ce'];_0x23e26b['immediate']['drawMesh'](_0x3fe1a2['material'],_0x3fe1a2['node']['worldTrans'+'form'],null,_0x3fe1a2,_0x23e26b['defaultDra'+'wLayer']);}}};h(Rt,'gridPositi'+'ons',[]),h(Rt,'gridColors',[]),h(Rt,'mesh',null),h(Rt,'meshInstan'+'ce',null),h(Rt,'colorLow',new D(-0x15*-0x1+0x20d6+-0x17f*0x16,-0xb*0x341+0x2634+-0x268,-0x117d+0x1522+-0x3a4)),h(Rt,'colorHigh',new D(0x238a+-0xe22+-0x1540,-0xaa1+0x4c7*-0x3+-0x9*-0x2c6,-0xb8e+0x1d8b+-0x11fd));let hu=Rt;const xb='muPIHORMLN'+'DCz4DxVR/Z'+'vYfAUVEFR4'+'7KRIC4nwAA'+'AAAP7WxlhD'+'6Ci+2HCe7B'+'F8jRAPZwdH'+'2UPpI5PdLC'+'JdkvG4UTaN'+'DJ/0crAzne'+'71GCrb4kbd'+'MjjCEGzdX6'+'fNxDMLJq5x'+'keoIVTdfiZ'+'kodEeArmZm'+'p/FQzFjD4x'+'8iOW7Dg64n'+'+3mWqyEwLx'+'XT8zoJXfbw'+'8QJKDCaarU'+'YyTlMzNFHb'+'gUe9IQV7g4'+'YOgtSKpIFZ'+'J0qERm7u4P'+'pmiF89ktHW'+'CywaGmD6h+'+'hfh2/Zd8KY'+'lKqqo4Cem4'+'T42bT/Z9Fp'+'CQF1hhSjfB'+'zZ5XFn/y3j'+'egWC6u86Ku'+'ELRundQS/1'+'Rp+XuKKGIg'+'Rv3CvP5y74'+'9yqLlFO495'+'JOT3+f2CXg'+'d71npU0/Kj'+'jpkZucbJ5m'+'78IVyuSrSo'+'zc9jgBUhDr'+'z0hFsyb7LF'+'UH9//wJbBg'+'LdNWJZObfK'+'xrNt8TliLA'+'9w9sXFv6g2'+'6iXpf6r/Bq'+'cAusj/QzGB'+'ZuoUGeEtw8'+'BCXCZ3jUiw'+'4hvM18ZVql'+'UD3C40LAFX'+'W6FRjuAZGR'+'Nstb0/qVk4'+'skwyT+MHrv'+'RorI4rKHVM'+'WZmKyAkzL/'+'78u/9pMQuX'+'14pZN50b2P'+'Hn6fRxeaCQ'+'LsfT4dpvIk'+'WWFuFVENZI'+'h+8xgR6lU+'+'85W0PPdAu1'+'j99kcCG40J'+'BQa4JMyRzq'+'6qriOBLtqF'+'87vpCJan0W'+'EduVr/mOYk'+'S00urVA0mA'+'6M3031+GmG'+'mW48PaJDYO'+'EIb3bIXWPa'+'LoAOEinX1T'+'N3+/vwhG6n'+'qJu0TdHped'+'S7QsGZIoxH'+'3nQYYjQP1j'+'mbahlbNngw'+'5ogsGk1y50'+'XZyUmQBY+/'+'JBJ3Unu4dA'+'pm+WmPwHPU'+'9gLb+4mHh4'+'BiY6M86pq+'+'WeTyWdI3s0'+'CXPEtHGXZ8'+'zMZgUoyRom'+'Bi1VdazzuN'+'+WOmQ9Pa0Z'+'0tlNopUi8A'+'J4x2Xn4mmO'+'KEbXLxlbVs'+'Wu8XhuDGYF'+'OGCRVdSqDP'+'XrHU5SDdUl'+'ti3k5///SB'+'wzTMwK3L4a'+'1H7w4lnpEa'+'s6////AfX8'+('asyIBfeFXV'+'J3tgvxQ/bl'+'ZuUKyIODIf'+'r/UzdWNu7p'+'ciLBpdZRZ4'+'pIfZ1R6szq'+'+XNxkGG///'+'8EZFpu7VHA'+'hFWqHEOrB9'+'unw+YQa5o8'+'/9IR/V5/zq'+'+986rJSyfg'+'JKt2u9hxU1'+'wzyQWPjJGv'+'zG9+eWWxGF'+'OHVKqI4jBQ'+'ALwZZswesn'+'vZ2UmmkEXd'+'iRpz8B+oWE'+'7PY70ZTMnd'+'isYSXg2Tqo'+'I+3y9BxbnY'+'2Y4EfbdcRh'+'AvG59NqDEN'+'NYbxKvK5HJ'+'fPG5M+Wi2A'+'cpLVJrD6ca'+'iEOzgSoVNS'+'gQK8fm2M3z'+'GcF4xtClv/'+'8Hs9oD7C3j'+'itTATYNQxm'+'KqKf1LhIxz'+'f1bmfiNn7U'+'KFmcJu4sLq'+'VLwxGSue3t'+'aBEyknkw5h'+'XTsUCvqmmL'+'/f8n/w0giR'+'7Hu/9EHvpk'+'z3yuu64Tio'+'MkzdTJ30i0'+'+hFnQqW1+v'+'9mMwq+z9qG'+'X0UFu9Momv'+'VG2xod6vc1'+'2AAAAACq7s'+'Ga5qptFR0j'+'F3nQt/D+7P'+'ibKYahaxP3'+'hEixPbGi9n'+'wNf2LAa7Lk'+'EZRKxzXeCD'+'64Xpii5n+8'+'Kpg8eHIv7A'+'WXZltgMoGl'+'tmoJ0XGdOC'+'L8WkzphvR9'+'N2o3ARSZ42'+'l5e5Pe4B58'+'MCRlP3EKv+'+'mcloknH+ft'+'o5BWsmEutW'+'6KvjOVsznF'+'CktkSczVk4'+'aGvj9VXlRc'+'LeDoKG8RkB'+'gdcNG2bf8H'+'UL4MT2DM+a'+'r7NImJhKpx'+'akX4Vk0CnP'+'+/XNhl5UsP'+'0lXgeZXPoD'+'BMSW5An+DX'+'lTCO5FQGwS'+'PYwHLKYVIi'+'mEdAoVe49r'+'QLaaNcye5L'+'xU2/c5TijT'+'gJtD5eQQIe'+'1snxauj5jZ'+'sxJBUJdoP/'+'zqpjqv8qBr'+'uoPsVsP8N4'+'4PCUW5Dd0D'+'zqjSS/Dl5m'+'I9cn1w2ndN'+'/0KAEm1QAA'+'AACwu6KM/0'+'83IBbH5bPa'+'/9oHUwcU8I'+'9v3j6/v18Q'+'Yammrf+P6V'+'L///8BrpuM'+'3fOLCxaLNO'+'FNF1zPbPYT'+'P65ni6njft'+'4eVcyrVXRQ'+'Frs52tr35S'+'tiSp55edVD')+('CBC0H5rIfa'+'c6nzUwxQSt'+'7y15QoKb+5'+'zebEQUmVbr'+'PjXuUa19Ey'+'7sqXMiSUKH'+'aw72PJKDdr'+'utJoQr3u6l'+'EYJ8K0MakW'+'Kj9zjTFi4X'+'94TsKYco0G'+'rLeB60M6D8'+'M/80rhXUW8'+'iMequg8y5F'+'838WI0+gp3'+'GBN5Kj/xIO'+'xTWQuUaPV/'+'LwvARr1VH9'+'3BFgGZR1MF'+'W0Ua30GbYm'+'dnAgo9VWy8'+'SQtpDUgGE2'+'r2zq2eTEMC'+'L7sMKmE1hc'+'hVhuF/TCq9'+'iXKEm86kzO'+'f3Rp9ZnCxb'+'pDUj+FKNxV'+'yXe6pVZkRX'+'v/m95SnB/E'+'B8aME29N85'+'MtAcDoXWlo'+'r8De2Q5Dg1'+'tar+8wgiZu'+'fbMam81j//'+'ASUohoR/zS'+'h2KG4bvT6m'+'kIPz6C5/98'+'DC3LaWlaEZ'+'1zA5JORZRu'+'6J/a0GY285'+'sEYzw71YqO'+'T1ihAG0z5S'+'Dt1xNiDQWZ'+'dFpndArp6x'+'WhqSDkRb4k'+'SJEHb9liPv'+'w7uLV/6i5M'+'Vf//A9Qjr8'+'xkAEUh+KDI'+'+zdtJ68d6M'+'BOktg1iyp/'+'SCq8O9f5pb'+'amn1VVVQPR'+'TWqNBvhQKa'+'07s6P0lc9L'+'uu/3gw4Hey'+'OUfz8MxMwV'+'4UQhua+t9c'+'r4bz/nIB2w'+'nDSK1K7I94'+'M+s6C84hta'+'X/CNlMQUSs'+'2KJO+yaebf'+'TbkNX5yWcq'+'EJevo0vbKU'+'iETuFXiL01'+'9A3E+lmsyZ'+'MwXrXLLiQA'+'Z5t9+jI3Jo'+'bhJTMiDH5Z'+'OQ+8Jau555'+'5NMjHSscP9'+'qCVaa40doh'+'+1a3Ukf6jq'+'BmLddgh79/'+'fwTfCyqiul'+'dNkUoy+nUp'+'+4nerwg0Oj'+'tGv2x485PJ'+'OJvUEokNhY'+'IdWjpx7BWk'+'0VZGWOp3jS'+'FTJ2bnu6KC'+'duZtG/UcBC'+'9RZ3W/jMSf'+'SMw4Etr/Do'+'D/XYP2V5Ov'+'w+YoM3F5g2'+'dGLdvuG6Zk'+'VGLE6Dk5Zr'+'+sdSyGliJP'+'1y2OFf/KFO'+'0RWO+3gsGh'+'esTnfZVpTd'+'8/HwgO216g'+'waqo+vY3Tl'+'jfJWowY+i0'+'p0Os4SLn/1'+'wLqDHMlszg')+('gmT/D8MRFz'+'s+pLv6LNJS'+'sNZ/r41mWi'+'/rF6ZcKp/y'+'zJdK0VU44h'+'skq3RGpgO6'+'mIpJDsf/mZ'+'kFrz0yYOML'+'buaj/wp1v7'+'JMFM5eqvBh'+'mTd7U8frQA'+'tHtys4zgpj'+'ZmzUhOVTfN'+'NLifElGXAD'+'lqHGKrkBT/'+'nYwX8ZRm3R'+'jvyPvjKyEq'+'EGKUpVnvOG'+'x+NKPHiWM/'+'/ZDpDVGvvr'+'jmk8RPF/wi'+'YZD3+Us8YC'+'XjrVOfjdd1'+'UPAfjLp8jg'+'Sn4me7DPTp'+'z1Ggy9XL80'+'guFO7ECT10'+'AvILKfD18Q'+'x+KY/f8aRq'+'u0oOO8hfKR'+'FZa9PUJwCs'+'p6VdZz6LFk'+'m2b9Pl2LIi'+'fCwzRy7Tpd'+'G2uAtOxP2O'+'emY26bJMa9'+'ZGSLIRlMsg'+'pDpnDJwd0o'+'a5pQ13x1hr'+'Hf52HpulUW'+'onGWsfXZbS'+'QYKu9bnEN7'+'6ciQih0opN'+'3deDVrbrxo'+'rfVlnCmL1R'+'9zq3ePGWIv'+'21c7pW8kEi'+'FTM5JX8dAw'+'867s/60cf7'+'9/BH+MDFCZ'+'BHlz1L+qGO'+'Jf/1txhhmr'+'f3//As+RIJ'+'wevDb+fgNX'+'VeHw67QptZ'+'egayhrEwr5'+'Gy+EPo1RLa'+'MtPbqOZYoV'+'zXzwzjMFWZ'+'xyUG9YUIf6'+'////AQWy84'+'iAygLk9COt'+'Xt92+0mT/x'+'g0zMzMBeLk'+'b8y9SL2TDX'+'gSX422hDgp'+'GNLJyuPioA'+'+YJ91G8znr'+'pNqHkwYysc'+'aJDEc9Vc+j'+'4cXle3hvcd'+'2JqDQH2lBZ'+'xDn6mUTs0b'+'75raMvbs72'+'7codX01Anj'+'8f3wir9P2x'+'QaQ22v/TxC'+'MglKDFoTja'+'P01XTLgxnT'+'vPv02JgEUr'+'W6UDgOnobF'+'pLdvKdlypg'+'IzPcq14fgX'+'U5tvVW0FEs'+'7VRlsG1IyA'+'69fN4n+awH'+'hT34cE+xUv'+'dj86C8LgAs'+'FheTjI9Ht9'+'EyYAAAAAAV'+'BVKRx2wLgU'+'TI0/2QfyJo'+'2riRw3JDqz'+'EShmx/Lifo'+'6mRkQVbS7X'+'53t+EvKxcX'+'ogtdts31e9'+'MRHdcHgsA8'+'rt4/mt2unl'+'zQ/wsU8Gu7')+('+W6Oj7eD8E'+'QdDp5XlCsV'+'aS/AV/t5Zp'+'POHR3rGpyA'+'Je9IPV+xMr'+'BL1Oz/8MQh'+'Fs31h0N1cV'+'nq371uqIJY'+'HyafKH1jte'+'AK3VpMXBcu'+'C+yt0ZeKyR'+'UY4QhdrJJ4'+'tJ1wg3Hu6k'+'DsbovxupTM'+'kGdRrm8oZS'+'oYPbJ+PwH/'+'xotgTdkA12'+'05vUEfnqkI'+'04T/fnnd1f'+'iZW5AwNcgg'+'d7fi4j5zas'+'mcntZexIxq'+'FZQMzMJpfn'+'dmI5jn17cg'+'n5EV5t9XN0'+'C///8Q9wlJ'+'pMGXdoiaMT'+'G2sVyHQsn8'+'mWRISCLNG7'+'77S0OuDRP2'+'GlLcJ2UeOg'+'7Fo8hTNPeJ'+'//iTJhyqxh'+'KRUntdXOih'+'q2wfKfH///'+'8B0GGrwT+f'+'SOQRdctKxj'+'jGCSS11d6B'+'lQ9BDfE0J6'+'Z25FaNTKGp'+'FKNCMr2G/0'+'41KpWwBLVe'+'1k08vncseQ'+'bKZdXi8x1t'+'9XA45U/Wd4'+'3D9wAh3Tal'+'0aiLVzGPus'+'OZ1F+W3TWo'+'qlX/A95+dN'+'ef11TsuGfu'+'l+ctGssldk'+'3fqpfqh+43'+'XTxL42+leS'+'HoF/dWHYGX'+'6maqUEuLX7'+'UB+r/6Llr4'+'LKocbVIeu+'+'hB9QTPfz9f'+'CP8RyWmX4S'+'mbhMFsNtCi'+'jV7lVcwejL'+'Klvl0GfCnd'+'nWV7/39VBr'+'tTRuUx92ok'+'e3GBgKkC5f'+'dGK0YvNK+x'+'enKaDmsHDj'+'NFUM3NMz3Z'+'iXXFuLgojo'+'sPVCDEl2W5'+'BjX3Ms+j0G'+'SqACHmh0+R'+'PWyuNm/Qe8'+'vFf9AW7N1u'+'RaxWirrUyt'+'qEJnJ4/Flm'+'8hSoiZ2NQB'+'sS6w/yQlC4'+'gCaFo8q4ny'+'Y6AFdo4hiw'+'hBXzbNKKvZ'+'vktCjSCukR'+'R/BbYVbNwZ'+'i2Yh3hGodE'+'acLW8qijiW'+'JODf0P2bhf'+'aiPspPT4lY'+'JBgi/KfcFw'+'CfvyUIgkJO'+'v///8CG/JE'+'epRBLaMFE+'+'2TgrqsJXOV'+'OWHt6g/bFw'+'VLLMVBsMR5'+'0dis/39/Al'+'BX+/rMTJkU'+'QrnlxpR2iu'+'0Tp8tATkRY'+'GmDIrcAiRP'+'8PjoWIlb7/')+('0ecTdSCE9Y'+'58+a+n/Fov'+'JQTVF4F2jA'+'xMZhTgrM/K'+'VS5BQu6bVb'+'kWY5HXnxRs'+'hks3urDdW4'+'RkWp4M4TeL'+'mFK5KF/uHk'+'kiO5Kv96Ri'+'oH984v/CSD'+'BnG+BwlnU9'+'B+o7Y+0X0N'+'ob+0pLsStx'+'jvPXMy2eCp'+'zhOWV4XbOb'+'BHN4UE2sLQ'+'/DIqXhOzxV'+'f38GlTi6aG'+'7EnePO7TRJ'+'m9yOfUUcqq'+'1I2iQHrVDq'+'n3TUNRi/lM'+'w8KbMW/3/n'+'qCz/Ef8PoW'+'5Qxcz2yHR/'+'f78EPB2Stb'+'d+ZFmfNTUY'+'ILzsb9YNhp'+'aHcaymYrBi'+'NHmFE3Y4cc'+'YJ25Prqm7z'+'HobGHED8/9'+'3ZNlWro9vc'+'KivGZs31Ui'+'K1k5zjUhex'+'UgbqJb+fUT'+'jxce/7Zly8'+'a5KMC1fX5n'+'fjPgibdvzb'+'XV1jRT2asX'+'vmSAusaLdq'+'1TSIJ8fXIN'+'k5AtT34EWP'+'AsfP9IFQqM'+'5K11O6saoH'+'JA==');let Vi=null;const Av=()=>{if(!Vi){const _0x564e82=atob(xb);Vi=Uint8Array['from'](_0x564e82,_0x571554=>_0x571554['charCodeAt'](0x7ec+0x1ea9+-0x2695));}},Tb=()=>(Av(),Vi);class wb{constructor(_0x52da84=0x4cf*-0x5+-0x28a*0x5+0x5f*0x63){h(this,'seed',0x13fe+-0x1*0x1919+0x51b),(this['seed']=_0x52da84*(0x1*-0x80d+-0x344*0x9+0x2575),Av());}['_next'](){this['seed']=(this['seed']+(0x23c6+-0x7*-0x1b9+-0x1*0x2fd1))%Vi['length'];}['value'](){return this['_next'](),Vi[this['seed']]/(-0x153f*-0x1+-0x14eb+-0x13*-0x9);}['vec4'](_0x173ec9=new re()){return this['_next'](),_0x173ec9['set'](Vi[this['seed']],Vi[this['seed']+(0x1b91+-0x155+0x5*-0x53f)],Vi[this['seed']+(0x7*0x1fd+0xe36+-0x1c1f)],Vi[this['seed']+(0x1a2d+-0x1*-0x2017+-0x136b*0x3)])['mulScalar']((-0xf*0x1e+0x101*-0x11+0x2*0x96a)/(0x16f5+0x1*-0x1652+0x1*0x5c));}}const Eb=[new D(-(0x13da+-0x1203+-0x1d6),0xcd3+-0x24d+-0xa86,-0x2350*0x1+0x225*-0x12+0x49ea),new D(-0xbf7+-0x260*0x4+0x1578,-0x1*-0x1c2d+-0x1f24+0x2f7,0x2461*-0x1+-0x3*0x509+0xa4c*0x5),new D(-0x141d+0x2222+-0xe05,-(0x1b70+0x29f+-0x1e0e),0x25f+-0x2686+-0x269*-0xf),new D(0x5*-0x50b+0x19*-0x101+0x3250,-0x2491*-0x1+0x335*0x6+-0x37ce,-0x1b1d+-0x107e+-0x2b9b*-0x1),new D(0x19a9+0x26d9+-0x4082,-0x4b9*0x6+-0x446+0x209c*0x1,-(0x2f6+-0x26*-0x101+-0x26b*0x11)),new D(0x1f9f+0x7f*-0x25+-0xd44,0xca*-0x1+0x640+-0x1d2*0x3,-0x1616+-0x16d6+0x35*0xd9)];class bb{constructor(){h(this,'colors',new Float32Array(-0x1f5d+0x1120+-0x3*-0x4c5));}['update'](_0x4e282e,_0x20fc02){const _0x1ced23=this['colors'],{r:_0x221f6f,g:_0x1ca25d,b:_0x409e8e}=_0x4e282e;for(let _0x4084dc=-0x16fa+0x7*0x323+-0x1*-0x105;_0x4084dc<-0x1*-0x24b3+-0x1*-0x2b7+-0x2764;_0x4084dc++)_0x1ced23[_0x4084dc*(-0x6cc+-0x8e4*-0x2+-0xaf9)]=_0x221f6f,_0x1ced23[_0x4084dc*(-0x11ba+-0x1428+0x25e5)+(-0x1*0x1a37+-0x260d+0x1*0x4045)]=_0x1ca25d,_0x1ced23[_0x4084dc*(0x18d*0x11+-0xcf*-0x1d+-0xb*0x487)+(-0x48f*0x2+-0xc34+0x1554)]=_0x409e8e;for(let _0x5aeae5=0x1*-0x24e3+0x1816+0xccd;_0x5aeae5<_0x20fc02['length'];_0x5aeae5++){const _0x384fc0=_0x20fc02[_0x5aeae5];if(_0x384fc0['_type']===ve)for(let _0x1d04bb=0x2350+0x113*-0x19+-0x875;_0x1d04bb<0x21ef+0x17ad+-0x1*0x3996;_0x1d04bb++){const _0x4aa693=Math['max'](Eb[_0x1d04bb]['dot'](_0x384fc0['_direction']),-0x1*0x10f3+-0x1034+0x171*0x17)*_0x384fc0['_intensity'],_0x254b22=_0x384fc0['_color'];_0x1ced23[_0x1d04bb*(-0xdcc+-0x2*0xd9+0x1b*0x93)]+=_0x254b22['r']*_0x4aa693,_0x1ced23[_0x1d04bb*(0xe45+0x1*0x655+-0x1497)+(0xd*-0x1a0+-0x3c5+0x18e6)]+=_0x254b22['g']*_0x4aa693,_0x1ced23[_0x1d04bb*(-0x19a*0x2+-0x1*0xe19+0x1150)+(-0x2484+0x4a*0x71+-0x4c*-0xd)]+=_0x254b22['b']*_0x4aa693;}}}}const Ab=(_0x550a45,_0x4e0153,_0x6220be,_0x33b440)=>{const _0x306509=new _e(_0x550a45,{'name':''+_0x4e0153+_0x6220be,'width':_0x6220be,'height':_0x6220be,'format':Ne,'addressU':yt,'addressV':yt,'type':Ds,'magFilter':Te,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(0x1*-0x1817+0xae+0x29a*0x9)});return _0x306509['lock']()['set'](_0x33b440),_0x306509['unlock'](),_0x306509;},Cb=new Kt(),Pb=_0x10ca5c=>Cb['get'](_0x10ca5c,()=>{const _0x2a33c0=Tb(),_0x25580d=Math['sqrt'](_0x2a33c0['length']/(0x7b0+-0x102*0x5+0x1*-0x2a2));return Ab(_0x10ca5c,'BlueNoise',_0x25580d,_0x2a33c0);});class va{constructor(_0x59264c,_0x16bd96){this['texture']=_0x59264c,this['cached']=!(0xdf*-0xe+-0x2f2+-0x1*-0xf25),this['renderTarg'+'ets']=_0x16bd96;}['destroy'](){this['texture']&&(this['texture']['destroy'](),this['texture']=null);const _0x3f978a=this['renderTarg'+'ets'];for(let _0x517745=-0x12*-0xb6+0x2+0xcce*-0x1;_0x517745<_0x3f978a['length'];_0x517745++)_0x3f978a[_0x517745]['destroy']();this['renderTarg'+'ets']['length']=0xb34+-0x1*-0x20fb+-0x2c2f;}static['create'](_0x44cf2f,_0x9c0667){let _0x58d8c5=null;return _0x9c0667['_type']===Ke?_0x58d8c5=this['createCube'+'map'](_0x44cf2f,_0x9c0667['_shadowRes'+'olution'],_0x9c0667['_shadowTyp'+'e']):_0x58d8c5=this['create2dMa'+'p'](_0x44cf2f,_0x9c0667['_shadowRes'+'olution'],_0x9c0667['_shadowTyp'+'e']),_0x58d8c5;}static['createAtla'+'s'](_0x3d6aaa,_0x5b55c3,_0x4125be){const _0x2362ed=this['create2dMa'+'p'](_0x3d6aaa,_0x5b55c3,_0x4125be),_0x7a3772=_0x2362ed['renderTarg'+'ets'],_0x59ff3e=_0x7a3772[-0x1*-0x13f6+0x1af*0x2+-0x1754*0x1];for(let _0x480998=0x14f8+0x14d1+-0x233*0x13;_0x480998<0x1291+-0x1505*-0x1+-0x2791;_0x480998++)_0x7a3772['push'](_0x59ff3e);return _0x2362ed;}static['create2dMa'+'p'](_0x374ea8,_0x5e6705,_0x25c2e6){var _0x28aa41;const _0x5b22e8=qi['get'](_0x25c2e6);w['assert'](_0x5b22e8);let _0x37a3e7=_0x5b22e8['format'];_0x37a3e7===Ji&&!_0x374ea8['textureFlo'+'atRenderab'+'le']&&_0x374ea8['textureHal'+'fFloatRend'+'erable']&&(_0x37a3e7=od);const _0x4c2996=(_0x28aa41=Nt['get'](_0x37a3e7))==null?void(0x29e+0x1*0xa62+0xd*-0x100):_0x28aa41['name'];let _0x532d21=vt;_0x25c2e6===Jp&&(_0x532d21=_0x374ea8['extTexture'+'FloatLinea'+'r']?vt:Te),_0x25c2e6===al&&(_0x532d21=Te);const _0x2fdb58=new _e(_0x374ea8,{'profilerHint':eu,'format':_0x37a3e7,'width':_0x5e6705,'height':_0x5e6705,'mipmaps':!(-0x1f7*0x6+-0x17*0x192+0xdf*0x37),'minFilter':_0x532d21,'magFilter':_0x532d21,'addressU':ue,'addressV':ue,'name':'ShadowMap2'+'D_'+_0x4c2996});let _0x294614=null;return _0x5b22e8!=null&&_0x5b22e8['pcf']?(_0x2fdb58['compareOnR'+'ead']=!(-0x6b*0xa+-0x2b*0xc5+-0x553*-0x7),_0x2fdb58['compareFun'+'c']=hh,_0x294614=new gt({'depthBuffer':_0x2fdb58})):_0x294614=new gt({'colorBuffer':_0x2fdb58,'depth':!(0x1fbc*0x1+0x1*0x193d+-0x38f9)}),_0x374ea8['isWebGPU']&&(_0x294614['flipY']=!(-0x8*0x97+0x1d35*0x1+0x1*-0x187d)),new va(_0x2fdb58,[_0x294614]);}static['createCube'+'map'](_0x5e642b,_0x459299,_0x3b7c4e){var _0x338c0f;const _0x2c2f0f=qi['get'](_0x3b7c4e);w['assert'](_0x2c2f0f);const _0x437d10=(_0x338c0f=Nt['get'](_0x2c2f0f['format']))==null?void(0x2426+0x2425*-0x1+-0x1):_0x338c0f['name'],_0x180d01=_0x3b7c4e===al,_0x250ce4=_0x180d01?Te:vt,_0x11a9f7=new _e(_0x5e642b,{'profilerHint':eu,'format':_0x2c2f0f==null?void(-0x9*-0x12f+0x14d0+0x5*-0x64b):_0x2c2f0f['format'],'width':_0x459299,'height':_0x459299,'cubemap':!(0x1916+0x2b0*0x6+-0x2936),'mipmaps':!(0x23*-0x6b+-0x37+0xed9),'minFilter':_0x250ce4,'magFilter':_0x250ce4,'addressU':ue,'addressV':ue,'name':'ShadowMapC'+'ube_'+_0x437d10});_0x180d01||(_0x11a9f7['compareOnR'+'ead']=!(-0x5*-0x6bb+0x1c42+0x3*-0x14a3),_0x11a9f7['compareFun'+'c']=hh);const _0x2f0497=[];for(let _0x2796a5=0x152e+-0x2182+0xc54;_0x2796a5<-0x13d2+0x717+0xcc1;_0x2796a5++)_0x180d01?_0x2f0497['push'](new gt({'colorBuffer':_0x11a9f7,'face':_0x2796a5,'depth':!(-0x1895+-0xd*0x200+0x3295)})):_0x2f0497['push'](new gt({'depthBuffer':_0x11a9f7,'face':_0x2796a5}));return new va(_0x11a9f7,_0x2f0497);}}const Mb=[],Db=[],xi=new re(),ef=new re();class tf{constructor(_0x550f04){this['size']=Math['floor'](_0x550f04['w']*(0x8*-0x1d+-0x26ba+0x2ba2)),this['used']=!(0x1723+-0x6c6+-0x105c),this['lightId']=-(-0x2049+0x24ad+-0x463),this['rect']=_0x550f04;}}class Ib{constructor(_0x2ad7dc){this['device']=_0x2ad7dc,this['version']=-0xa*0x146+-0x7df+-0x1*-0x149c,this['shadowAtla'+'sResolutio'+'n']=-0x131f+0x2ff+0x1820,this['shadowAtla'+'s']=null,this['shadowEdge'+'Pixels']=-0x2666+-0x1015+-0x22e*-0x19,this['cookieAtla'+'sResolutio'+'n']=-0x24e0+0x3d*-0x3e+-0x19d5*-0x2,this['cookieAtla'+'s']=new _e(this['device'],{'name':'CookieAtla'+'s','width':this['cookieAtla'+'sResolutio'+'n'],'height':this['cookieAtla'+'sResolutio'+'n'],'format':_s,'cubemap':!(0x1916+-0x114b+-0x3e5*0x2),'mipmaps':!(-0x1*-0x1db4+0x1*0x1083+-0x2e36),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue}),this['cookieRend'+'erTarget']=new gt({'colorBuffer':this['cookieAtla'+'s'],'depth':!(-0x1*0x1b1+0x1d1c+-0xdb5*0x2),'flipY':!(-0x1d87+-0x7b4+-0x253b*-0x1)}),this['slots']=[],this['atlasSplit']=[],this['cubeSlotsO'+'ffsets']=[new J(0xd*0x1+-0x845+0x838,-0x10*0x106+0x3*-0x59+0x116b),new J(0x22e0+0x5*-0x3f+-0x105*0x21,-0xeba+0x405*0x7+0xd68*-0x1),new J(0x1056+0x2021*0x1+0x3076*-0x1,-0xd8c+0x11*0xd7+-0xbb),new J(-0xe62*-0x1+-0x30*-0x1c+0x3ed*-0x5,0x1a60+-0x19f8+-0x67*0x1),new J(-0x3b*0xa1+-0x1320+0x383d*0x1,-0x1*-0x1151+0xd5d+-0x1eae),new J(0x189d*-0x1+0xbfe+0xca1,0x7dd+0x1af8+-0x22d4)],this['scissorVec']=new re(),this['allocateSh'+'adowAtlas'](0x1cc8+0x2203+0xa77*-0x6),this['allocateCo'+'okieAtlas'](0x1594+0x5*0x5bb+-0x323a),this['allocateUn'+'iforms']();}['destroy'](){this['destroySha'+'dowAtlas'](),this['destroyCoo'+'kieAtlas']();}['destroySha'+'dowAtlas'](){var _0x41812e;(_0x41812e=this['shadowAtla'+'s'])==null||_0x41812e['destroy'](),this['shadowAtla'+'s']=null;}['destroyCoo'+'kieAtlas'](){var _0x3655d1,_0xa229f5;(_0x3655d1=this['cookieAtla'+'s'])==null||_0x3655d1['destroy'](),this['cookieAtla'+'s']=null,(_0xa229f5=this['cookieRend'+'erTarget'])==null||_0xa229f5['destroy'](),this['cookieRend'+'erTarget']=null;}['allocateSh'+'adowAtlas'](_0x1b3342,_0x179b08=$s){var _0x2a7c65;const _0x519fbb=(_0x2a7c65=this['shadowAtla'+'s'])==null?void(-0x1*0x8a3+0xb85+-0x2e2):_0x2a7c65['texture']['format'],_0x22abdd=qi['get'](_0x179b08)['format'];if(!this['shadowAtla'+'s']||this['shadowAtla'+'s']['texture']['width']!==_0x1b3342||_0x519fbb!==_0x22abdd){this['version']++,this['destroySha'+'dowAtlas'](),this['shadowAtla'+'s']=va['createAtla'+'s'](this['device'],_0x1b3342,_0x179b08),this['shadowAtla'+'s']['cached']=!(0x1881+0x19ec+-0x326d);const _0x532d35=(0x1990+0x69*-0x53+0x87f)/this['shadowAtla'+'sResolutio'+'n'];this['scissorVec']['set'](_0x532d35,_0x532d35,-(0xa55+-0xd2c*-0x1+-0x7d5*0x3)*_0x532d35,-(0x301*0x6+0x35d*0x3+-0x1c1b)*_0x532d35);}}['allocateCo'+'okieAtlas'](_0x5bee90){this['cookieAtla'+'s']['width']!==_0x5bee90&&(this['cookieRend'+'erTarget']['resize'](_0x5bee90,_0x5bee90),this['version']++);}['allocateUn'+'iforms'](){this['_shadowAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('shadowAtla'+'sTexture'),this['_shadowAtl'+'asParamsId']=this['device']['scope']['resolve']('shadowAtla'+'sParams'),this['_shadowAtl'+'asParams']=new Float32Array(-0x2394+-0x36c+0x2702),this['_cookieAtl'+'asTextureI'+'d']=this['device']['scope']['resolve']('cookieAtla'+'sTexture');}['updateUnif'+'orms'](){const _0x15e2cf=this['shadowAtla'+'s']['renderTarg'+'ets'][-0x3*-0x60a+-0x3*0x307+-0x909]['depthBuffe'+'r'];this['_shadowAtl'+'asTextureI'+'d']['setValue'](_0x15e2cf),this['_shadowAtl'+'asParams'][0xe99*0x1+-0xd4d+-0x14c*0x1]=this['shadowAtla'+'sResolutio'+'n'],this['_shadowAtl'+'asParams'][-0x107*0x12+-0xfb1+0x2230]=this['shadowEdge'+'Pixels'],this['_shadowAtl'+'asParamsId']['setValue'](this['_shadowAtl'+'asParams']),this['_cookieAtl'+'asTextureI'+'d']['setValue'](this['cookieAtla'+'s']);}['subdivide'](_0x881537,_0x12e8d2){let _0x4abdb4=_0x12e8d2['atlasSplit'];if(!_0x4abdb4){const _0x5d513b=Math['ceil'](Math['sqrt'](_0x881537));_0x4abdb4=Db,_0x4abdb4[0x409+-0x1d5*0x2+0x5*-0x13]=_0x5d513b,_0x4abdb4['length']=-0x1*-0x1d3b+-0x1*-0x1bca+-0x3904;}if(!((_0x4de179,_0x343b31)=>_0x4de179['length']===_0x343b31['length']&&_0x4de179['every']((_0x149791,_0xa45f2a)=>_0x149791===_0x343b31[_0xa45f2a]))(_0x4abdb4,this['atlasSplit'])){this['version']++,this['slots']['length']=-0xb*0x1bd+0x343+0x122*0xe,this['atlasSplit']['length']=0x1*-0x1c4f+0x8a9*-0x1+0x24f8,this['atlasSplit']['push'](..._0x4abdb4);const _0x1d436e=this['atlasSplit'][0x2*0x1247+-0x15*-0x13+-0x261d];if(_0x1d436e>-0xfe9+0x1*0x4b3+0x1d*0x63){const _0x1b4ace=(0x1555+0x1*-0x1f71+0x1*0xa1d)/_0x1d436e;for(let _0x43dbc0=0x1d93+0x1cc8+-0x3a5b;_0x43dbc0<_0x1d436e;_0x43dbc0++)for(let _0x39ca59=-0x1d46+0x97*0x5+-0x17*-0x125;_0x39ca59<_0x1d436e;_0x39ca59++){const _0x2383ab=new re(_0x43dbc0*_0x1b4ace,_0x39ca59*_0x1b4ace,_0x1b4ace,_0x1b4ace),_0x544696=this['atlasSplit'][-0x1*-0x1d6f+-0x1937*0x1+0x1*-0x437+_0x43dbc0*_0x1d436e+_0x39ca59];if(_0x544696>0x1718+0x17b6+-0x2ecd){for(let _0x3538df=-0x2449+0x77d*0x1+0x1ccc;_0x3538df<_0x544696;_0x3538df++)for(let _0x14d3fa=0x1*-0x18fd+-0xa*-0x2ec+-0x43b;_0x14d3fa<_0x544696;_0x14d3fa++){const _0x4bee9e=_0x1b4ace/_0x544696,_0x47bbdb=new re(_0x2383ab['x']+_0x3538df*_0x4bee9e,_0x2383ab['y']+_0x14d3fa*_0x4bee9e,_0x4bee9e,_0x4bee9e);this['slots']['push'](new tf(_0x47bbdb));}}else this['slots']['push'](new tf(_0x2383ab));}}else this['slots']['push'](new tf(new re(-0x1*-0x63a+-0x23e0+-0x4f1*-0x6,-0x1eb*0x9+-0x2279+-0x764*-0x7,0x1*-0x1901+-0x1ec2+0x37c4,0x207*0x1+0x11de*-0x1+0xfd8)));this['slots']['sort']((_0x39af62,_0x524626)=>_0x524626['size']-_0x39af62['size']);}}['collectLig'+'hts'](_0x220c76,_0x206416){const _0x1c4605=_0x206416['cookiesEna'+'bled'],_0x1b7503=_0x206416['shadowsEna'+'bled'];let _0x2052fb=!(-0x239f+0x2*-0xe68+0x4*0x101c),_0x51f7ac=!(0xb3*0x5+0x1254+-0x15d2);const _0x569cb2=Mb;return _0x569cb2['length']=0x74*-0x53+-0x3*-0x62d+0x1315,(_0x1c4605||_0x1b7503)&&(_0x2575c5=>{for(let _0x26b59c=-0x29*0x9d+0x1*-0x9e6+-0x230b*-0x1;_0x26b59c<_0x2575c5['length'];_0x26b59c++){const _0x210525=_0x2575c5[_0x26b59c];if(_0x210525['visibleThi'+'sFrame']){const _0x20cd31=_0x1b7503&&_0x210525['castShadow'+'s'],_0x101066=_0x1c4605&&!!_0x210525['cookie'];_0x2052fb||(_0x2052fb=_0x20cd31),_0x51f7ac||(_0x51f7ac=_0x101066),(_0x20cd31||_0x101066)&&_0x569cb2['push'](_0x210525);}}})(_0x220c76),_0x569cb2['sort']((_0x21e792,_0x456c6d)=>_0x456c6d['maxScreenS'+'ize']-_0x21e792['maxScreenS'+'ize']),_0x2052fb&&this['allocateSh'+'adowAtlas'](this['shadowAtla'+'sResolutio'+'n'],_0x206416['shadowType']),_0x51f7ac&&this['allocateCo'+'okieAtlas'](this['cookieAtla'+'sResolutio'+'n']),(_0x2052fb||_0x51f7ac)&&this['subdivide'](_0x569cb2['length'],_0x206416),_0x569cb2;}['setupSlot'](_0x53487a,_0x55cf90){_0x53487a['atlasViewp'+'ort']['copy'](_0x55cf90);const _0x501741=_0x53487a['numShadowF'+'aces'];for(let _0x49e798=-0x97+0x141*-0x8+0xa9f;_0x49e798<_0x501741;_0x49e798++)if(_0x53487a['castShadow'+'s']||_0x53487a['_cookie']){if(xi['copy'](_0x55cf90),ef['copy'](_0x55cf90),_0x53487a['_type']===Ze&&xi['add'](this['scissorVec']),_0x53487a['_type']===Ke){const _0x3327e1=xi['z']/(-0x25df+-0x621+0x13*0x251),_0xae8174=this['cubeSlotsO'+'ffsets'][_0x49e798];xi['x']+=_0x3327e1*_0xae8174['x'],xi['y']+=_0x3327e1*_0xae8174['y'],xi['z']=_0x3327e1,xi['w']=_0x3327e1,ef['copy'](xi);}if(_0x53487a['castShadow'+'s']){const _0x32a171=_0x53487a['getRenderD'+'ata'](null,_0x49e798);_0x32a171['shadowView'+'port']['copy'](xi),_0x32a171['shadowScis'+'sor']['copy'](ef);}}}['assignSlot'](_0x15a373,_0x16d4aa,_0x2ba4aa){_0x15a373['atlasViewp'+'ortAllocat'+'ed']=!(0x1*-0x22ae+0x1bdf+-0x7*-0xf9);const _0x23b1d9=this['slots'][_0x16d4aa];_0x23b1d9['lightId']=_0x15a373['id'],_0x23b1d9['used']=!(-0x359*-0x1+-0xb87*0x1+-0x15d*-0x6),_0x2ba4aa&&(_0x15a373['atlasSlotU'+'pdated']=!(-0xca3*-0x1+0x692*0x3+-0x1*0x2059),_0x15a373['atlasVersi'+'on']=this['version'],_0x15a373['atlasSlotI'+'ndex']=_0x16d4aa);}['update'](_0x58b5bf,_0x339aca){this['shadowAtla'+'sResolutio'+'n']=_0x339aca['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x339aca['cookieAtla'+'sResolutio'+'n'];const _0x4f69b9=this['collectLig'+'hts'](_0x58b5bf,_0x339aca);if(_0x4f69b9['length']>0x1044*0x2+0x564+0x4*-0x97b){const _0xe165a5=this['slots'];for(let _0x4c4f40=0x2*-0x25b+-0x528+0x2*0x4ef;_0x4c4f40<_0xe165a5['length'];_0x4c4f40++)_0xe165a5[_0x4c4f40]['used']=!(-0x24fa+-0x1*-0x1007+-0x1*-0x14f4);const _0x207f50=Math['min'](_0x4f69b9['length'],_0xe165a5['length']);for(let _0x439c8a=-0x2129+0x1c21+-0xa1*-0x8;_0x439c8a<_0x207f50;_0x439c8a++){const _0x1952e4=_0x4f69b9[_0x439c8a];_0x1952e4['castShadow'+'s']&&(_0x1952e4['_shadowMap']=this['shadowAtla'+'s']);const _0x5965d3=_0xe165a5[_0x1952e4['atlasSlotI'+'ndex']];if(_0x1952e4['atlasVersi'+'on']===this['version']&&_0x1952e4['id']===(_0x5965d3==null?void(-0x1e71*-0x1+-0x55*-0x5f+-0x3dfc):_0x5965d3['lightId'])){const _0x3e0b1c=_0xe165a5[_0x1952e4['atlasSlotI'+'ndex']];_0x3e0b1c['size']===_0xe165a5[_0x439c8a]['size']&&!_0x3e0b1c['used']&&this['assignSlot'](_0x1952e4,_0x1952e4['atlasSlotI'+'ndex'],!(0x4*-0x6c5+0x1*0x177b+0x1cd*0x2));}}let _0x4393a8=-0x306+0x233d+0xabd*-0x3;for(let _0x55e0=0x74c*-0x2+-0xb*-0x5f+-0x1*-0xa83;_0x55e0<_0x207f50;_0x55e0++){for(;_0x4393a8<_0xe165a5['length']&&_0xe165a5[_0x4393a8]['used'];)_0x4393a8++;const _0x4f6738=_0x4f69b9[_0x55e0];_0x4f6738['atlasViewp'+'ortAllocat'+'ed']||this['assignSlot'](_0x4f6738,_0x4393a8,!(0xa8e*-0x2+-0x1ab6+-0x2*-0x17e9));const _0x53ca70=_0xe165a5[_0x4f6738['atlasSlotI'+'ndex']];this['setupSlot'](_0x4f6738,_0x53ca70['rect']);}}this['updateUnif'+'orms']();}}class Lb{constructor(){this['cache']=new Map();}['destroy'](){this['clear'](),this['cache']=null;}['clear'](){this['cache']['forEach'](_0x58bb55=>{_0x58bb55['forEach'](_0x491b2d=>{_0x491b2d['destroy']();});}),this['cache']['clear']();}['getKey'](_0x2432a2){const _0x14898f=_0x2432a2['_type']===Ke,_0x5ce6b0=_0x2432a2['_shadowTyp'+'e'],_0x19c8dd=_0x2432a2['_shadowRes'+'olution'];return _0x14898f+'-'+_0x5ce6b0+'-'+_0x19c8dd;}['get'](_0x2c8cf5,_0x5ee303){const _0x43da6c=this['getKey'](_0x5ee303),_0x522483=this['cache']['get'](_0x43da6c);if(_0x522483&&_0x522483['length'])return _0x522483['pop']();const _0x13e58d=va['create'](_0x2c8cf5,_0x5ee303);return _0x13e58d['cached']=!(-0x255e*-0x1+0x22b2+-0x4810),_0x13e58d;}['add'](_0x3d2be8,_0x289694){const _0x499eec=this['getKey'](_0x3d2be8),_0x5c7013=this['cache']['get'](_0x499eec);_0x5c7013?_0x5c7013['push'](_0x289694):this['cache']['set'](_0x499eec,[_0x289694]);}}class Rb extends ys{constructor(_0x285836,_0x54854d,_0x65031d,_0x5c3413,_0x5140c3){super(_0x285836),Ea['setName'](this,this['name']+'-'+_0x65031d['_node']['name']),this['requiresCu'+'bemaps']=!(-0x1*0xcfb+0x103c+-0x340),this['shadowRend'+'erer']=_0x54854d,this['light']=_0x65031d,this['face']=_0x5c3413,this['applyVsm']=_0x5140c3,this['shadowCame'+'ra']=_0x54854d['prepareFac'+'e'](_0x65031d,null,_0x5c3413),_0x54854d['setupRende'+'rPass'](this,this['shadowCame'+'ra'],!(0x37*0x3+-0x7*0x34a+0x1661));}['execute'](){this['shadowRend'+'erer']['renderFace'](this['light'],null,this['face'],!(0x3b3*-0x1+0x1*0x16d4+-0x1320));}['after'](){this['applyVsm']&&this['shadowRend'+'erer']['renderVsm'](this['light'],this['shadowCame'+'ra']);}}class Ob{constructor(_0xae9b76,_0x216fce){h(this,'shadowLigh'+'ts',[]),h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0xae9b76,this['shadowRend'+'erer']=_0x216fce,this['device']=_0xae9b76['device']);}['cull'](_0x490a41,_0x231c30,_0x2aff07=null){const _0x436502=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled'];_0x490a41['visibleThi'+'sFrame']=!(-0x928+0x12e4+0x1c*-0x59),_0x436502||_0x490a41['_shadowMap']||(_0x490a41['_shadowMap']=va['create'](this['device'],_0x490a41));const _0x36c491=_0x490a41['_type'],_0xf4d3c9=_0x36c491===Ze?0x1efc+0x2*-0x548+-0x146b:0xe74+0xfbe+-0x1e2c;for(let _0x16c521=0x23b7+0x13*-0x148+-0xb5f;_0x16c521<_0xf4d3c9;_0x16c521++){const _0x484bc0=_0x490a41['getRenderD'+'ata'](null,_0x16c521),_0x5a7f61=_0x484bc0['shadowCame'+'ra'];_0x5a7f61['nearClip']=_0x490a41['attenuatio'+'nEnd']/(0x7e+-0xb40+0x2*0x755),_0x5a7f61['farClip']=_0x490a41['attenuatio'+'nEnd'];const _0x4cda76=_0x5a7f61['_node'],_0x59eff1=_0x490a41['_node'];if(_0x4cda76['setPositio'+'n'](_0x59eff1['getPositio'+'n']()),_0x36c491===Ze)_0x5a7f61['fov']=_0x490a41['_outerCone'+'Angle']*(0x13a3+-0x490*0x4+0x161*-0x1),_0x4cda76['setRotatio'+'n'](_0x59eff1['getRotatio'+'n']()),_0x4cda76['rotateLoca'+'l'](-(-0x7ab+0x1dcc+-0x1*0x15c7),0x1e07+-0xca1+-0x22*0x83,-0xc76+0x1*-0x121f+0x1e95);else{if(_0x36c491===Ke){if(_0x436502){const _0x4f8bd9=(0x2311+-0x31+-0x2*0x116f)/(this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowAtla'+'sResolutio'+'n']*_0x490a41['atlasViewp'+'ort']['z']/(-0x203*0x8+-0x1233*0x2+0x3481*0x1))*this['shadowRend'+'erer']['lightTextu'+'reAtlas']['shadowEdge'+'Pixels'];_0x5a7f61['fov']=Math['atan'](-0x1020+-0x3a6+0x13c7+_0x4f8bd9)*Y['RAD_TO_DEG']*(-0xe*0x2ab+-0x10a2+0x35fe);}else _0x5a7f61['fov']=-0x1079+-0xe2*0x29+0x115*0x31;}}this['renderer']['updateCame'+'raFrustum'](_0x5a7f61),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0x231c30,_0x490a41,_0x484bc0['visibleCas'+'ters'],_0x5a7f61,_0x2aff07);}}['prepareLig'+'hts'](_0x182b95,_0x517b49){let _0x48cc9c;for(let _0x3805ed=0x148*0x1+0x114b*-0x1+0x1003;_0x3805ed<_0x517b49['length'];_0x3805ed++){const _0x39cf5a=_0x517b49[_0x3805ed];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x39cf5a)&&_0x39cf5a['atlasViewp'+'ortAllocat'+'ed']){_0x182b95['push'](_0x39cf5a);for(let _0x39403a=-0x17cc+0xd*-0x1+0x17d9;_0x39403a<_0x39cf5a['numShadowF'+'aces'];_0x39403a++)_0x48cc9c=this['shadowRend'+'erer']['prepareFac'+'e'](_0x39cf5a,null,_0x39403a);}}return _0x48cc9c;}['buildNonCl'+'usteredRen'+'derPasses'](_0x172216,_0x39cf3e){for(let _0xf48cd2=0xe2*0x3+0xfd1*0x1+-0x1277;_0xf48cd2<_0x39cf3e['length'];_0xf48cd2++){const _0x5e2c12=_0x39cf3e[_0xf48cd2];if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x5e2c12)){const _0x3362f2=_0x5e2c12['_type']===Ze,_0x3dedbc=_0x5e2c12['numShadowF'+'aces'];for(let _0x46dc8b=0x15bb+0x1*0x16f1+-0x2cac;_0x46dc8b<_0x3dedbc;_0x46dc8b++){const _0x2b3ae0=new Rb(this['device'],this['shadowRend'+'erer'],_0x5e2c12,_0x46dc8b,_0x3362f2);_0x172216['addRenderP'+'ass'](_0x2b3ae0);}}}}}class Fb extends ys{constructor(_0x58464d,_0x5ea3da,_0x50a736,_0x370773,_0x2e56ad){super(_0x58464d),Ea['setName'](this,this['name']+'-'+_0x50a736['_node']['name']),this['shadowRend'+'erer']=_0x5ea3da,this['light']=_0x50a736,this['camera']=_0x370773,this['allCascade'+'sRendering']=_0x2e56ad;}['execute'](){const {light:_0x4924a1,camera:_0x3facf2,shadowRenderer:_0x38799b,allCascadesRendering:_0x5e3533}=this,_0x11cbe3=_0x4924a1['numShadowF'+'aces'],_0x451d76=_0x4924a1['shadowUpda'+'teOverride'+'s'];for(let _0x292f89=-0x6d6+-0x2ea*0xd+-0x2cb8*-0x1;_0x292f89<_0x11cbe3;_0x292f89++)(_0x451d76==null?void(-0xd*0x135+0x1616+-0x665*0x1):_0x451d76[_0x292f89])!==Ps&&_0x38799b['renderFace'](_0x4924a1,_0x3facf2,_0x292f89,!_0x5e3533),(_0x451d76==null?void(0x706*-0x5+0x59*-0x5+0x24db):_0x451d76[_0x292f89])===xr&&(_0x451d76[_0x292f89]=Ps);}['after'](){this['shadowRend'+'erer']['renderVsm'](this['light'],this['camera']);}}const lc=new De(),Ti=new D(),H_=new te(),Xe=[new D(),new D(),new D(),new D(),new D(),new D(),new D(),new D()],sf={'min':0x0,'max':0x0};function Nb(_0x29bb0d,_0x51dc5b,_0x329fe3){Xe[-0x5ae*0x1+-0x1257+0x1805]['x']=Xe[0x1*-0x139d+0x5da+-0x2*-0x6e2]['x']=Xe[-0x2ef*-0x7+0x92*0x27+-0x2ac5]['x']=Xe[0x88d+-0x5*-0xd3+-0xca9]['x']=_0x51dc5b['x'],Xe[-0x1b75+-0x11*-0x9+0x1add]['y']=Xe[0xe5e+-0x1726+0x8cb]['y']=Xe[0x130e+0x1*0xc25+-0x1f2c]['y']=Xe[0x7*-0x24f+0x193a*0x1+-0x90c]['y']=_0x51dc5b['y'],Xe[-0x1900+-0xd*0x28d+0x3a2b]['z']=Xe[-0x1c43+-0x1735*0x1+0x337b*0x1]['z']=Xe[-0x23d9+0x3*-0x9e2+0x1*0x4185]['z']=Xe[-0xf47+0x4ff*0x2+0x550]['z']=_0x51dc5b['z'],Xe[-0x65*0x7+0x2071+0x1*-0x1daa]['x']=Xe[0x1fa6*-0x1+-0x953+0x28fe]['x']=Xe[-0x2*-0xcd9+-0x8c0+0x5a4*-0x3]['x']=Xe[-0x164f+-0x1*0x164d+0x125*0x27]['x']=_0x329fe3['x'],Xe[0x2484+0xf2*0x1+-0x2576]['y']=Xe[-0x9*0x32b+0x45b+0x182a]['y']=Xe[-0x1477+0x246c+-0xff1]['y']=Xe[-0x1d7a+0xde1+0x3*0x535]['y']=_0x329fe3['y'],Xe[-0xff8+0x897*0x1+0x761]['z']=Xe[0x1*0x249b+0x1876+-0x3d10]['z']=Xe[-0x99+-0xe*0x127+0x10bf]['z']=Xe[0x1d8d+-0xa*-0x46+0x4*-0x811]['z']=_0x329fe3['z'];let _0x32dd01=-0x24a42cb21+-0x27b2ea107+0x7197d5027,_0x25b9f0=-(-0xf26078bf*-0x1+-0x29f1320ca+0x31*0x14e9c42a);for(let _0x58a840=-0x2018+0x41f*-0x5+0x34b3;_0x58a840<0x1*0x4b+0x3ec+-0x3f*0x11;++_0x58a840){_0x29bb0d['transformP'+'oint'](Xe[_0x58a840],Xe[_0x58a840]);const _0x52b568=Xe[_0x58a840]['z'];_0x52b568<_0x32dd01&&(_0x32dd01=_0x52b568),_0x52b568>_0x25b9f0&&(_0x25b9f0=_0x52b568);}return sf['min']=_0x32dd01,sf['max']=_0x25b9f0,sf;}class kb{constructor(_0x322843,_0x34caa5){h(this,'renderer'),h(this,'shadowRend'+'erer'),h(this,'device'),(this['renderer']=_0x322843,this['shadowRend'+'erer']=_0x34caa5,this['device']=_0x322843['device']);}['cull'](_0x530a87,_0xa3b1b1,_0x2e3545,_0x2612e6=null){_0x530a87['visibleThi'+'sFrame']=!(-0x2*0x93b+0x1*0xf87+-0x1*-0x2ef),_0x530a87['_shadowMap']||(_0x530a87['_shadowMap']=va['create'](this['device'],_0x530a87));const _0x5e0817=_0x2e3545['_nearClip'];this['generateSp'+'litDistanc'+'es'](_0x530a87,_0x5e0817,Math['min'](_0x2e3545['_farClip'],_0x530a87['shadowDist'+'ance']));const _0x5a8b43=_0x530a87['shadowUpda'+'teOverride'+'s'];for(let _0x823a91=-0x593*0x7+0x4*-0x74f+0x65*0xad;_0x823a91<_0x530a87['numCascade'+'s']&&(_0x5a8b43==null?void(0x209+-0x2*0x11e3+-0x1*-0x21bd):_0x5a8b43[_0x823a91])!==Ps;_0x823a91++){const _0x518f7c=_0x530a87['getRenderD'+'ata'](_0x2e3545,_0x823a91),_0x4180b1=_0x518f7c['shadowCame'+'ra'];_0x4180b1['renderTarg'+'et']=_0x530a87['_shadowMap']['renderTarg'+'ets'][-0x2*0x10a2+0x237b*-0x1+0x44bf],_0x518f7c['shadowView'+'port']['copy'](_0x530a87['cascades'][_0x823a91]),_0x518f7c['shadowScis'+'sor']['copy'](_0x530a87['cascades'][_0x823a91]);const _0xe7b990=_0x4180b1['_node'],_0x4e3b7d=_0x530a87['_node'];_0xe7b990['setPositio'+'n'](_0x4e3b7d['getPositio'+'n']()),_0xe7b990['setRotatio'+'n'](_0x4e3b7d['getRotatio'+'n']()),_0xe7b990['rotateLoca'+'l'](-(-0x26d2+-0x221b*-0x1+0x511),-0x11bb+0x19*-0x3+-0x2*-0x903,0x77*-0x17+-0x1b26+0x25d7);const _0x1a1768=_0x823a91===-0x1de0+0x7*-0x296+-0x10b*-0x2e?_0x5e0817:_0x530a87['_shadowCas'+'cadeDistan'+'ces'][_0x823a91-(-0x19eb*-0x1+-0x1a5a+0x70)],_0x226db5=_0x530a87['_shadowCas'+'cadeDistan'+'ces'][_0x823a91],_0x34a547=_0x2e3545['getFrustum'+'Corners'](_0x1a1768,_0x226db5);Ti['set'](0x110*0xb+-0x1e41+0x1291,0x19e9*0x1+0x1*0x20c6+-0x1*0x3aaf,0x210e+-0x1*0x2c3+-0xa19*0x3);const _0x4d3520=_0x2e3545['node']['getWorldTr'+'ansform']();for(let _0x2b09ef=-0x2f*-0xb3+-0x84e*0x4+0x5b;_0x2b09ef<-0x19b*0x15+0xdbf+-0x1*-0x1400;_0x2b09ef++)_0x4d3520['transformP'+'oint'](_0x34a547[_0x2b09ef],_0x34a547[_0x2b09ef]),Ti['add'](_0x34a547[_0x2b09ef]);Ti['mulScalar']((-0x4bf*0x1+0x1a8d+-0x15cd)/(0x14f*-0x8+0x20c7+-0x1647));let _0x307692=0x178*-0x10+0x15bd+0x1c3;for(let _0x549e3a=-0xd5+0x8*-0x125+0x9fd;_0x549e3a<0x195c+-0x1*0x164b+-0x309;_0x549e3a++){const _0x51e783=_0x34a547[_0x549e3a]['sub'](Ti)['length']();_0x51e783>_0x307692&&(_0x307692=_0x51e783);}const _0x30225d=_0xe7b990['right'],_0x3e2ca5=_0xe7b990['up'],_0x35b044=_0xe7b990['forward'],_0x26c39a=(-0x1525*0x1+0xb15*0x2+0x1*-0x105+0.25)*_0x530a87['_shadowRes'+'olution']/_0x307692,_0x24cf72=Math['ceil'](Ti['dot'](_0x3e2ca5)*_0x26c39a)/_0x26c39a,_0x2a3724=Math['ceil'](Ti['dot'](_0x30225d)*_0x26c39a)/_0x26c39a,_0x2744ac=_0x3e2ca5['mulScalar'](_0x24cf72),_0x3697c7=_0x30225d['mulScalar'](_0x2a3724),_0x5d3261=Ti['dot'](_0x35b044),_0x1c61ea=_0x35b044['mulScalar'](_0x5d3261);Ti['add2'](_0x2744ac,_0x3697c7)['add'](_0x1c61ea),_0xe7b990['setPositio'+'n'](Ti),_0xe7b990['translateL'+'ocal'](0x9*0x331+0x6f*-0xb+-0x17f4,-0x2500+-0x1d*-0x8+0x5*0x738,-0x25*-0x9937+-0x101e52+0x93b9f),_0x4180b1['nearClip']=0x5a5*-0x1+0x92*-0xd+0xd0f+0.01,_0x4180b1['farClip']=-0x42c5*0xb5+0x6*0xfe25+0x47c4eb,_0x4180b1['orthoHeigh'+'t']=_0x307692,this['renderer']['updateCame'+'raFrustum'](_0x4180b1),this['shadowRend'+'erer']['cullShadow'+'Casters'](_0xa3b1b1,_0x530a87,_0x518f7c['visibleCas'+'ters'],_0x4180b1,_0x2612e6);const _0x136900=0xdc+0xd*0x301+-0x27e8<<_0x823a91,_0x308c39=_0x518f7c['visibleCas'+'ters'],_0xfddd34=_0x308c39['length'];let _0x4210d3=-0x1eeb+0x1234+-0x1*-0xcb7;for(let _0x1d479d=0x1420+0x1*0xe5e+-0x6e6*0x5;_0x1d479d<_0xfddd34;_0x1d479d++){const _0x4c3c51=_0x308c39[_0x1d479d];_0x4c3c51['shadowCasc'+'adeMask']&_0x136900&&(_0x308c39[_0x4210d3++]=_0x4c3c51,_0x4210d3===0x1*0xf32+-0x24b*0x7+0xdc?lc['copy'](_0x4c3c51['aabb']):lc['add'](_0x4c3c51['aabb']));}_0xfddd34!==_0x4210d3&&(_0x308c39['length']=_0x4210d3),H_['copy'](_0xe7b990['getWorldTr'+'ansform']())['invert']();const _0x5b44d5=Nb(H_,lc['getMin'](),lc['getMax']());_0xe7b990['translateL'+'ocal'](0x1a61+0x22ce+0x2a9*-0x17,0x6*-0x28d+-0x2a5*-0xc+-0x2bd*0x6,_0x5b44d5['max']+(-0xa15*-0x1+-0x5*-0x26d+-0x1636*0x1+0.1)),_0x4180b1['farClip']=_0x5b44d5['max']-_0x5b44d5['min']+(-0x22b4*0x1+0x77*-0x44+0x4250+0.2),_0x518f7c['projection'+'Compensati'+'on']=_0x307692;}}['generateSp'+'litDistanc'+'es'](_0xf9cd53,_0x5b2cbc,_0x43a5c8){_0xf9cd53['_shadowCas'+'cadeDistan'+'ces']['fill'](_0x43a5c8);for(let _0x2a2c9b=0x1e3*-0xb+0x191*-0x17+0x38c9;_0x2a2c9b<_0xf9cd53['numCascade'+'s'];_0x2a2c9b++){const _0x2042e7=_0x2a2c9b/_0xf9cd53['numCascade'+'s'],_0x48f902=_0x5b2cbc+(_0x43a5c8-_0x5b2cbc)*_0x2042e7,_0x37e0e0=_0x5b2cbc*(_0x43a5c8/_0x5b2cbc)**_0x2042e7,_0xff6ba0=Y['lerp'](_0x48f902,_0x37e0e0,_0xf9cd53['cascadeDis'+'tribution']);_0xf9cd53['_shadowCas'+'cadeDistan'+'ces'][_0x2a2c9b-(-0x1634+0x1220+-0x13*-0x37)]=_0xff6ba0;}}['getLightRe'+'nderPass'](_0x4e1e23,_0x29c7ce){w['assert'](_0x4e1e23&&_0x4e1e23['_type']===ve);let _0x1e748f=null;if(this['shadowRend'+'erer']['needsShado'+'wRendering'](_0x4e1e23)){const _0xf6973d=_0x4e1e23['numShadowF'+'aces'],_0xb3ab30=_0x4e1e23['shadowUpda'+'teOverride'+'s'];let _0x31b75c=!(0x21*0x53+-0x2*-0x805+0x1abd*-0x1),_0x39d119;for(let _0x3f3c66=0x1*-0xac7+0x7f6+0x2d1;_0x3f3c66<_0xf6973d;_0x3f3c66++)(_0xb3ab30==null?void(0xa7f*-0x1+-0x7d2+0x1251):_0xb3ab30[_0x3f3c66])===Ps&&(_0x31b75c=!(-0x1fd+-0x2*-0xead+-0x1b5c)),_0x39d119=this['shadowRend'+'erer']['prepareFac'+'e'](_0x4e1e23,_0x29c7ce,_0x3f3c66);_0x1e748f=new Fb(this['device'],this['shadowRend'+'erer'],_0x4e1e23,_0x29c7ce,_0x31b75c),this['shadowRend'+'erer']['setupRende'+'rPass'](_0x1e748f,_0x39d119,_0x31b75c);}return _0x1e748f;}}const rf=new Set(),W_=new te(),$_=new te(),Fr=new Float32Array(0x24b7+-0x17b4+-0xd01),lo=new re(0x8ad+-0x28c+-0x620,-0x9c2+0x1*-0x1be5+-0xf1*-0x28,0x241f*-0x1+-0x778+0x2b97,-0x4*0x26b+-0x1*-0xb3b+-0x18f),X_=new te();function Ub(_0x102f62,_0x234332){return Math['exp'](-(_0x102f62*_0x102f62)/((-0x133e+0x47*-0x7+0x5*0x43d)*_0x234332*_0x234332));}function Bb(_0xf76630){const _0x30b31b=(_0xf76630-(0x15a1+0x2*-0x8fb+0xe*-0x43))/(0x2201*0x1+-0x8de+0x191d*-0x1),_0x4bda3d=(_0xf76630-(-0x4f*-0x34+-0x16fe+-0x6f3*-0x1))*(-0x1cb+0xfb6+-0xdeb+0.5),_0x10e423=new Array(_0xf76630);let _0x28b7b2=-0x3d3*-0x3+0xc*-0x24c+0x1017;for(let _0x56077f=0x1d*-0xf7+0xb3d+0x10be;_0x56077f<_0xf76630;++_0x56077f)_0x10e423[_0x56077f]=Ub(_0x56077f-_0x4bda3d,_0x30b31b),_0x28b7b2+=_0x10e423[_0x56077f];for(let _0x469c2c=-0xa4e*0x3+-0x7c*-0x44+0xe*-0x25;_0x469c2c<_0xf76630;++_0x469c2c)_0x10e423[_0x469c2c]/=_0x28b7b2;return _0x10e423;}class Cv{constructor(_0x290f1d,_0xb876ae){h(this,'shadowPass'+'Cache',[]),(this['device']=_0x290f1d['device'],this['renderer']=_0x290f1d,this['lightTextu'+'reAtlas']=_0xb876ae);const _0x37ed9f=this['device']['scope'];this['sourceId']=_0x37ed9f['resolve']('source'),this['pixelOffse'+'tId']=_0x37ed9f['resolve']('pixelOffse'+'t'),this['weightId']=_0x37ed9f['resolve']('weight[0]'),this['blurVsmSha'+'der']=[{},{}],this['blurVsmWei'+'ghts']={},this['shadowMapL'+'ightRadius'+'Id']=_0x37ed9f['resolve']('light_radi'+'us'),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['blendState'+'Write']=new pt(),this['blendState'+'NoWrite']=new pt(),this['blendState'+'NoWrite']['setColorWr'+'ite'](!(-0x1432*-0x1+0xb*-0xfd+0x1*-0x952),!(-0x11*-0x223+-0x2a1*-0xe+0x68*-0xb4),!(-0x1e61+-0xad*0x3+-0x1*-0x2069),!(-0x2*0x19+-0x243e+-0x1eb*-0x13));}static['createShad'+'owCamera'](_0x5f409f,_0x217e12,_0xe0db25){const _0x20e76d=Wn['create']('ShadowCame'+'ra',_0x217e12,_0xe0db25),_0x3f6224=qi['get'](_0x5f409f);w['assert'](_0x3f6224);const _0x326124=(_0x3f6224==null?void(-0x1*0x196a+0x1*0x22cf+0x965*-0x1):_0x3f6224['vsm'])??!(0x66c+0x1159+0x1d4*-0xd),_0x47d73b=(_0x3f6224==null?void(0x1c47+0xb0e*-0x1+-0x1139):_0x3f6224['pcf'])??!(0x9c0+-0xcbe+0x2ff);return _0x326124?_0x20e76d['clearColor']=new ie(-0x1*-0x5ad+-0x2*-0x1112+-0x27d1,0x4*0x815+0x12c1+-0x3315,-0x396*-0x9+0x25*0x97+-0x3619,0x1eef+0x2a0+0x30d*-0xb):_0x20e76d['clearColor']=new ie(0x161d+-0x31f+-0x12fd,0x26d4+0xa7f+0x6b*-0x76,0x18b7+-0xe98*-0x2+-0x2*0x1af3,-0x1ef1+-0x4e2*0x1+-0x23d4*-0x1),_0x20e76d['clearDepth'+'Buffer']=!(0xfcb+0x5d9*0x4+-0x272f),_0x20e76d['clearStenc'+'ilBuffer']=!(-0x3*-0x3cd+-0x23e2*0x1+-0x2*-0xc3e),_0x20e76d['clearColor'+'Buffer']=!_0x47d73b,_0x20e76d;}['_cullShado'+'wCastersIn'+'ternal'](_0x586f49,_0xdbf949,_0x21eb11){const _0x4c746d=_0x586f49['length'];for(let _0x484d18=-0x29e+0x7*-0x1b4+-0x745*-0x2;_0x484d18<_0x4c746d;_0x484d18++){const _0x37cb0e=_0x586f49[_0x484d18];_0x37cb0e['castShadow']&&(!_0x37cb0e['cull']||_0x37cb0e['_isVisible'](_0x21eb11))&&(_0x37cb0e['visibleThi'+'sFrame']=!(0xc8e+0x1*0x33b+-0xfc9),_0xdbf949['push'](_0x37cb0e));}}['cullShadow'+'Casters'](_0x91534e,_0x2c1bb8,_0x100f17,_0x100ce9,_0x40c1f8){var _0x32fbcc,_0x3517be;if((_0x32fbcc=this['renderer']['scene'])==null||_0x32fbcc['fire'](mv,_0x100ce9),_0x100f17['length']=-0x40*-0x2d+-0x3*0x17f+-0x241*0x3,_0x40c1f8)this['_cullShado'+'wCastersIn'+'ternal'](_0x40c1f8,_0x100f17,_0x100ce9);else{const _0x58e713=_0x91534e['layerList'],_0x2c69e7=_0x58e713['length'];for(let _0x3f0ef2=-0x1*0x1cd5+0x2004+0x32f*-0x1;_0x3f0ef2<_0x2c69e7;_0x3f0ef2++){const _0x1758f3=_0x58e713[_0x3f0ef2];_0x1758f3['_lightsSet']['has'](_0x2c1bb8)&&(rf['has'](_0x1758f3)||(rf['add'](_0x1758f3),this['_cullShado'+'wCastersIn'+'ternal'](_0x1758f3['shadowCast'+'ers'],_0x100f17,_0x100ce9)));}rf['clear']();}_0x100f17['sort'](this['sortCompar'+'eShader']),(_0x3517be=this['renderer']['scene'])==null||_0x3517be['fire'](_v,_0x100ce9);}['sortCompar'+'eShader'](_0x146493,_0x24e28e){const _0x42ed48=_0x146493['_sortKeySh'+'adow'],_0x3ce960=_0x24e28e['_sortKeySh'+'adow'];return _0x42ed48===_0x3ce960?_0x24e28e['mesh']['id']-_0x146493['mesh']['id']:_0x3ce960-_0x42ed48;}['setupRende'+'rState'](_0x30797b,_0x549be4){const _0x1f99e4=this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']?_0x549be4['_isPcf']:_0x549be4['_isPcf']&&_0x549be4['_type']!==Ke;_0x30797b['setBlendSt'+'ate'](_0x1f99e4?this['blendState'+'NoWrite']:this['blendState'+'Write']),_0x30797b['setDepthSt'+'ate'](_0x549be4['shadowDept'+'hState']),_0x30797b['setStencil'+'State'](null,null);}['dispatchUn'+'iforms'](_0x54171c,_0x30e18c,_0x15a8b8,_0x4876f9){const _0x35ccd6=_0x30e18c['_node'];_0x54171c['_type']!==ve&&(this['renderer']['dispatchVi'+'ewPos'](_0x35ccd6['getPositio'+'n']()),this['shadowMapL'+'ightRadius'+'Id']['setValue'](_0x54171c['attenuatio'+'nEnd'])),W_['setTRS'](_0x35ccd6['getPositio'+'n'](),_0x35ccd6['getRotatio'+'n'](),D['ONE'])['invert'](),$_['mul2'](_0x30e18c['projection'+'Matrix'],W_);const _0x3979cc=_0x15a8b8['shadowView'+'port'];_0x30e18c['rect']=_0x3979cc,_0x30e18c['scissorRec'+'t']=_0x15a8b8['shadowScis'+'sor'],X_['setViewpor'+'t'](_0x3979cc['x'],_0x3979cc['y'],_0x3979cc['z'],_0x3979cc['w']),_0x15a8b8['shadowMatr'+'ix']['mul2'](X_,$_),_0x54171c['_type']===ve&&_0x54171c['_shadowMat'+'rixPalette']['set'](_0x15a8b8['shadowMatr'+'ix']['data'],_0x4876f9*(-0xc9d*0x1+0xf44+-0x297));}['getShadowP'+'ass'](_0x45a9da){var _0x3412e5;const _0x1cafd8=_0x45a9da['_type'],_0x552887=_0x45a9da['_shadowTyp'+'e'];let _0x335479=(_0x3412e5=this['shadowPass'+'Cache'][_0x1cafd8])==null?void(-0x1*-0x3e8+0x89b*-0x1+0x191*0x3):_0x3412e5[_0x552887];if(!_0x335479){const _0x41b248='ShadowPass'+'_'+_0x1cafd8+'_'+_0x552887;_0x335479=Si['get'](this['device'])['allocate'](_0x41b248,{'isShadow':!(-0x1c3d+0x1*-0x1a91+0x36ce),'lightType':_0x1cafd8,'shadowType':_0x552887}),this['shadowPass'+'Cache'][_0x1cafd8]||(this['shadowPass'+'Cache'][_0x1cafd8]=[]),this['shadowPass'+'Cache'][_0x1cafd8][_0x552887]=_0x335479;}return _0x335479['index'];}['submitCast'+'ers'](_0x126563,_0x5b2086,_0x4af883){var _0x239f04;const _0x5340ff=this['device'],_0xf0198d=this['renderer'],_0x45aef7=_0xf0198d['scene'],_0x4a3528=-0x1*0x1b0a+0x240f+-0x904*0x1<<cm,_0x5bec81=this['getShadowP'+'ass'](_0x5b2086),_0xc1737e=_0x4af883['shaderPara'+'ms'],_0x50b098=_0x4af883['renderTarg'+'et']['flipY']?-(0x243d*-0x1+-0x2253+0x4691*0x1):0xcdf+0x1956+0x6*-0x65e,_0x23306a=_0x126563['length'];for(let _0x31be0e=0x21f3+0x210e*0x1+-0x4301;_0x31be0e<_0x23306a;_0x31be0e++){const _0x367c18=_0x126563[_0x31be0e],_0x350604=_0x367c18['mesh'],_0x1786eb=_0x367c18['instancing'+'Data'];if(_0x1786eb&&_0x1786eb['count']<=-0x33f*-0xb+0x1*0x1732+0x1*-0x3ae7)continue;_0x367c18['ensureMate'+'rial'](_0x5340ff);const _0x5c349c=_0x367c18['material'];Q['pushGpuMar'+'ker'](_0x5340ff,'Node:\x20'+_0x367c18['node']['name']+(',\x20Material'+':\x20')+_0x5c349c['name']),_0xf0198d['setBaseCon'+'stants'](_0x5340ff,_0x5c349c),_0xf0198d['setSkinnin'+'g'](_0x5340ff,_0x367c18),_0x5c349c['dirty']&&(_0x5c349c['updateUnif'+'orms'](_0x5340ff,_0x45aef7),_0x5c349c['dirty']=!(-0x1ab8+-0xd3c+0x27f5*0x1)),_0xf0198d['setupCullM'+'ode'](!(-0xa62+0xc6a*-0x1+0x16cc),_0x50b098,_0x367c18),_0x5c349c['setParamet'+'ers'](_0x5340ff),_0x367c18['setParamet'+'ers'](_0x5340ff,_0x4a3528);const _0x4d9295=_0x367c18['getShaderI'+'nstance'](_0x5bec81,0x8c9*-0x1+0x17*-0x19b+0x2db6*0x1,_0x45aef7,_0xc1737e,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat']),_0x2292bd=_0x4d9295['shader'];if(w['assert'](_0x2292bd,'no\x20shader\x20'+'for\x20pass\x20'+_0x5bec81,_0x5c349c),_0x2292bd['failed'])continue;_0x367c18['_sortKeySh'+'adow']=_0x2292bd['id'],_0x5340ff['setShader'](_0x2292bd),_0xf0198d['setVertexB'+'uffers'](_0x5340ff,_0x350604),_0xf0198d['setMorphin'+'g'](_0x5340ff,_0x367c18['morphInsta'+'nce']),_0x1786eb&&_0x5340ff['setVertexB'+'uffer'](_0x1786eb['vertexBuff'+'er']),_0xf0198d['setMeshIns'+'tanceMatri'+'ces'](_0x367c18),_0xf0198d['setupMeshU'+'niformBuff'+'ers'](_0x4d9295);const _0x5b7a39=_0x367c18['renderStyl'+'e'],_0x3491bc=(_0x239f04=_0x367c18['indirectDa'+'ta'])==null?void(-0xbec+-0x1*0x1813+0x23ff):_0x239f04['get'](_0x4af883);_0x5340ff['draw'](_0x350604['primitive'][_0x5b7a39],_0x350604['indexBuffe'+'r'][_0x5b7a39],_0x1786eb==null?void(0xb3d*-0x2+-0x1cf2+0x336c):_0x1786eb['count'],_0x3491bc),_0xf0198d['_shadowDra'+'wCalls']++,_0x1786eb&&_0xf0198d['_instanced'+'DrawCalls']++,Q['popGpuMark'+'er'](_0x5340ff);}}['needsShado'+'wRendering'](_0xcdcb4d){const _0x4237ba=_0xcdcb4d['enabled']&&_0xcdcb4d['castShadow'+'s']&&_0xcdcb4d['shadowUpda'+'teMode']!==Ps&&_0xcdcb4d['visibleThi'+'sFrame'];return _0xcdcb4d['shadowUpda'+'teMode']===xr&&(_0xcdcb4d['shadowUpda'+'teMode']=Ps),_0x4237ba&&(this['renderer']['_shadowMap'+'Updates']+=_0xcdcb4d['numShadowF'+'aces']),_0x4237ba;}['getLightRe'+'nderData'](_0x1a2348,_0x3f64a6,_0x25367a){return _0x1a2348['getRenderD'+'ata'](_0x1a2348['_type']===ve?_0x3f64a6:null,_0x25367a);}['setupRende'+'rPass'](_0x19937d,_0x1b92f6,_0x3d278a){const _0x29fbe2=_0x1b92f6['renderTarg'+'et'];_0x19937d['init'](_0x29fbe2),_0x19937d['depthStenc'+'ilOps']['clearDepth'+'Value']=-0x9c+0x5*0x3b3+-0x11e2,_0x19937d['depthStenc'+'ilOps']['clearDepth']=_0x3d278a,_0x29fbe2['depthBuffe'+'r']?_0x19937d['depthStenc'+'ilOps']['storeDepth']=!(-0x5*-0x3fd+0x196a+-0x1*0x2d5b):(_0x19937d['colorOps']['clearValue']['copy'](_0x1b92f6['clearColor']),_0x19937d['colorOps']['clear']=_0x3d278a,_0x19937d['depthStenc'+'ilOps']['storeDepth']=!(-0x4a+0x1d3b+-0x1cf0)),_0x19937d['requiresCu'+'bemaps']=!(0x8*-0x22a+-0x15e4+0x2735);}['prepareFac'+'e'](_0x420950,_0x37bc8d,_0x1dd4e8){const _0x1f43ad=_0x420950['_type'],_0x3d46a0=this['getLightRe'+'nderData'](_0x420950,_0x37bc8d,_0x1dd4e8)['shadowCame'+'ra'],_0x5ebded=_0x1f43ad===ve?0x8*0x95+-0x1d75+-0x7*-0x38b:_0x1dd4e8;return _0x3d46a0['renderTarg'+'et']=_0x420950['_shadowMap']['renderTarg'+'ets'][_0x5ebded],_0x3d46a0;}['renderFace'](_0x56216b,_0x156e96,_0x11773b,_0x1dfd33,_0x16e136=!(-0x6d7+0xcef+0xd*-0x78)){const _0x4ebf1e=this['device'],_0x25610a=de();Q['pushGpuMar'+'ker'](_0x4ebf1e,'SHADOW\x20'+_0x56216b['_node']['name']+'\x20FACE\x20'+_0x11773b);const _0x1a51ca=this['getLightRe'+'nderData'](_0x56216b,_0x156e96,_0x11773b),_0x4d2304=_0x1a51ca['shadowCame'+'ra'];this['dispatchUn'+'iforms'](_0x56216b,_0x4d2304,_0x1a51ca,_0x11773b);const _0x17265a=_0x4d2304['renderTarg'+'et'],_0x31b621=this['renderer'];_0x31b621['setCameraU'+'niforms'](_0x4d2304,_0x17265a),_0x4ebf1e['supportsUn'+'iformBuffe'+'rs']&&_0x31b621['setupViewU'+'niformBuff'+'ers'](_0x1a51ca['viewBindGr'+'oups'],this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],null),_0x16e136?(_0x31b621['setupViewp'+'ort'](_0x4d2304,_0x17265a),_0x1dfd33&&_0x31b621['clear'](_0x4d2304)):_0x31b621['clearView'](_0x4d2304,_0x17265a,!(-0x69d*-0x5+-0x1728+0x1*-0x9e9),!(0x8*0x3a3+-0x1a91+-0x286)),this['setupRende'+'rState'](_0x4ebf1e,_0x56216b),this['submitCast'+'ers'](_0x1a51ca['visibleCas'+'ters'],_0x56216b,_0x4d2304),Q['popGpuMark'+'er'](_0x4ebf1e),_0x31b621['_shadowMap'+'Time']+=de()-_0x25610a;}['render'](_0x25c47e,_0x42e82d,_0x14b0a6=!(-0x74*-0x47+0x1b53+-0x3b7f)){if(this['needsShado'+'wRendering'](_0x25c47e)){const _0x204040=_0x25c47e['numShadowF'+'aces'];for(let _0x55cc57=0x4*-0x742+0x1251+0xab7;_0x55cc57<_0x204040;_0x55cc57++)this['prepareFac'+'e'](_0x25c47e,_0x42e82d,_0x55cc57),this['renderFace'](_0x25c47e,_0x42e82d,_0x55cc57,!(-0xd83*0x1+0x23af+-0x162c),_0x14b0a6);this['renderVsm'](_0x25c47e,_0x42e82d);}}['renderVsm'](_0x173207,_0x53c603){_0x173207['_isVsm']&&_0x173207['_vsmBlurSi'+'ze']>0x10e2+-0x3*-0x633+-0x13*0x1de&&(!this['renderer']['scene']['clusteredL'+'ightingEna'+'bled']||_0x173207['_type']===ve)&&this['applyVsmBl'+'ur'](_0x173207,_0x53c603);}['getVsmBlur'+'Shader'](_0x34277b,_0xdaf4d2){const _0x3837bc=this['blurVsmSha'+'der'];let _0x3a7d61=_0x3837bc[_0x34277b][_0xdaf4d2];if(!_0x3a7d61){this['blurVsmWei'+'ghts'][_0xdaf4d2]=Bb(_0xdaf4d2);const _0x3f0b3c=new Map();_0x3f0b3c['set']('{SAMPLES}',_0xdaf4d2),_0x34277b===0xcdb*-0x1+-0x6d*0x32+-0x11a*-0x1f&&_0x3f0b3c['set']('GAUSS',''),_0x3a7d61=$t['createShad'+'er'](this['device'],{'uniqueName':'blurVsm'+_0x34277b+_0xdaf4d2,'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'blurVSMPS','fragmentDefines':_0x3f0b3c}),_0x3837bc[_0x34277b][_0xdaf4d2]=_0x3a7d61;}return _0x3a7d61;}['applyVsmBl'+'ur'](_0x1e2f03,_0xab2720){const _0x5853b2=this['device'];Q['pushGpuMar'+'ker'](_0x5853b2,'VSM\x20'+_0x1e2f03['_node']['name']),_0x5853b2['setBlendSt'+'ate'](pt['NOBLEND']);const _0x6024ce=_0x1e2f03['getRenderD'+'ata'](_0x1e2f03['_type']===ve?_0xab2720:null,0x1*0xee8+0xf*-0x10b+0xbd)['shadowCame'+'ra']['renderTarg'+'et'],_0x16092b=this['renderer']['shadowMapC'+'ache']['get'](_0x5853b2,_0x1e2f03),_0x5ed5f9=_0x16092b['renderTarg'+'ets'][0x2*0xc1+0xc7*0x9+-0x881*0x1],_0x3fc51=_0x1e2f03['vsmBlurMod'+'e'],_0x2b77ea=_0x1e2f03['_vsmBlurSi'+'ze'],_0x4a1cfa=this['getVsmBlur'+'Shader'](_0x3fc51,_0x2b77ea);lo['z']=_0x1e2f03['_shadowRes'+'olution']-(-0x43f*-0x4+-0x24f7*0x1+0x2db*0x7),lo['w']=lo['z'],this['sourceId']['setValue'](_0x6024ce['colorBuffe'+'r']),Fr[0x1336*0x1+0x15*0x2f+-0x1711]=(0xbbc+0x6*0x97+-0xf45)/_0x1e2f03['_shadowRes'+'olution'],Fr[0xbf*0x2+0x3d6+-0x1d*0x2f]=0x1016*-0x2+-0x1*0x1bd9+0x3c05*0x1,this['pixelOffse'+'tId']['setValue'](Fr),_0x3fc51===em&&this['weightId']['setValue'](this['blurVsmWei'+'ghts'][_0x2b77ea]),Ar(_0x5853b2,_0x5ed5f9,_0x4a1cfa,null,lo),this['sourceId']['setValue'](_0x5ed5f9['colorBuffe'+'r']),Fr[-0x1d23*-0x1+-0x2*0xbd4+-0x57a]=Fr[0x4ff*0x1+0xc41+0x3*-0x5c0],Fr[-0x1*-0xb7d+-0x14c8+0x94b]=-0x162d+0x25b7+0x1ba*-0x9,this['pixelOffse'+'tId']['setValue'](Fr),Ar(_0x5853b2,_0x6024ce,_0x4a1cfa,null,lo),this['renderer']['shadowMapC'+'ache']['add'](_0x1e2f03,_0x16092b),Q['popGpuMark'+'er'](_0x5853b2);}['initViewBi'+'ndGroupFor'+'mat'](){this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']&&(this['viewUnifor'+'mFormat']=new zy(this['device'],[new dt('matrix_vie'+'wProjectio'+'n',li)]),this['viewBindGr'+'oupFormat']=new Ny(this['device'],[new kp(Np,Fp|by)]));}['frameUpdat'+'e'](){this['initViewBi'+'ndGroupFor'+'mat']();}}const cc=[];class zb{constructor(_0x1525e1){h(this,'_empty',null),h(this,'_allocated',[]),h(this,'_clusters',new Map()),this['device']=_0x1525e1;}['destroy'](){this['_empty']&&(this['_empty']['destroy'](),this['_empty']=null),this['_allocated']['forEach'](_0x5939c3=>{_0x5939c3['destroy']();}),this['_allocated']['length']=0x1f19+0x166d*0x1+-0x3586;}get['count'](){return this['_allocated']['length'];}get['empty'](){if(!this['_empty']){const _0x445edc=new cu(this['device']);_0x445edc['name']='ClusterEmp'+'ty',_0x445edc['update']([]),this['_empty']=_0x445edc;}return this['_empty'];}['assign'](_0x4f5a66){const _0x3621d3=this['empty'];cc['push'](...this['_allocated']),this['_allocated']['length']=0xaa2*-0x2+0x13*-0x1b7+0x35d9,this['_clusters']['clear']();const _0x33106b=_0x4f5a66['length'];for(let _0x419e41=0x5*0x54b+-0x4*-0x71c+-0x1*0x36e7;_0x419e41<_0x33106b;_0x419e41++){const _0x4fe6e7=_0x4f5a66[_0x419e41]['renderActi'+'ons'];if(_0x4fe6e7){const _0x3786ef=_0x4fe6e7['length'];for(let _0x4ae2f1=0x1ebd+-0x34*-0x19+-0x23d1;_0x4ae2f1<_0x3786ef;_0x4ae2f1++){const _0x1c5fad=_0x4fe6e7[_0x4ae2f1];_0x1c5fad['lightClust'+'ers']=null;const _0x61a9a3=_0x1c5fad['layer'];if(_0x61a9a3['hasCluster'+'edLights']&&_0x61a9a3['meshInstan'+'ces']['length']){const _0x24fef3=_0x61a9a3['getLightId'+'Hash'](),_0x4e6a1f=this['_clusters']['get'](_0x24fef3);let _0x6854cf=_0x4e6a1f==null?void(0xd74+0x21bd+-0x2f31):_0x4e6a1f['lightClust'+'ers'];_0x6854cf||(_0x6854cf=cc['pop']()??new cu(this['device']),Ea['setName'](_0x6854cf,'Cluster-'+this['_allocated']['length']),this['_allocated']['push'](_0x6854cf),this['_clusters']['set'](_0x24fef3,_0x1c5fad)),_0x1c5fad['lightClust'+'ers']=_0x6854cf;}_0x1c5fad['lightClust'+'ers']||(_0x1c5fad['lightClust'+'ers']=_0x3621d3);}}}cc['forEach'](_0x4ffc78=>_0x4ffc78['destroy']()),cc['length']=-0x1bf0+0x2*-0x996+0x2f1c;}['update'](_0x401f54,_0x402fc7){this['assign'](_0x401f54),this['_clusters']['forEach'](_0x44b8f4=>{const _0x311f4f=_0x44b8f4['layer'];_0x44b8f4['lightClust'+'ers']['update'](_0x311f4f['clusteredL'+'ightsSet'],_0x402fc7);});}}const rr=new re(),af=[];class pm extends ys{constructor(_0x3f5ff3,_0x220c0b){super(_0x3f5ff3),h(this,'_quadRende'+'rer2D',null),h(this,'_quadRende'+'rerCube',null),h(this,'_filteredL'+'ights',[]),h(this,'_forceCopy',!(-0x11e5+-0x255b+0x17*0x267)),h(this,'_evtDevice'+'Restored',null),(this['_cubeSlots'+'Offsets']=_0x220c0b,this['requiresCu'+'bemaps']=!(-0x16c9*0x1+-0x6*-0x5d5+0xc34*-0x1),this['blitTextur'+'eId']=_0x3f5ff3['scope']['resolve']('blitTextur'+'e'),this['invViewPro'+'jId']=_0x3f5ff3['scope']['resolve']('invViewPro'+'j'),this['_evtDevice'+'Restored']=_0x3f5ff3['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this));}['destroy'](){var _0x178874,_0x4f8145,_0x9307e1;(_0x178874=this['_quadRende'+'rer2D'])==null||_0x178874['destroy'](),this['_quadRende'+'rer2D']=null,(_0x4f8145=this['_quadRende'+'rerCube'])==null||_0x4f8145['destroy'](),this['_quadRende'+'rerCube']=null,(_0x9307e1=this['_evtDevice'+'Restored'])==null||_0x9307e1['off'](),this['_evtDevice'+'Restored']=null;}static['create'](_0x19c5d9,_0x3d85db){w['assert'](_0x19c5d9);const _0x5b7b14=new pm(_0x19c5d9['device'],_0x3d85db);return _0x5b7b14['init'](_0x19c5d9),_0x5b7b14['colorOps']['clear']=!(-0x1*-0x21f8+0x97*-0x36+-0x1*0x21d),_0x5b7b14['depthStenc'+'ilOps']['clearDepth']=!(-0x1b59*0x1+-0x8da+-0x90d*-0x4),_0x5b7b14;}['onDeviceRe'+'stored'](){this['_forceCopy']=!(-0x9d1*0x3+0x472*-0x7+0x3c91);}['update'](_0x1f876e){const _0x225d7a=this['_filteredL'+'ights'];this['filter'](_0x1f876e,_0x225d7a),this['executeEna'+'bled']=_0x225d7a['length']>0x13d*-0x7+0x14f4+-0xc49;}['filter'](_0x599cd1,_0x456d96){for(let _0x487319=0x1d46+0xb3+0x1df9*-0x1;_0x487319<_0x599cd1['length'];_0x487319++){const _0x4ae1ab=_0x599cd1[_0x487319];_0x4ae1ab['_type']!==ve&&_0x4ae1ab['atlasViewp'+'ortAllocat'+'ed']&&(!_0x4ae1ab['atlasSlotU'+'pdated']&&!this['_forceCopy']||_0x4ae1ab['enabled']&&_0x4ae1ab['cookie']&&_0x4ae1ab['visibleThi'+'sFrame']&&_0x456d96['push'](_0x4ae1ab));}this['_forceCopy']=!(-0x1a6b*0x1+-0x1fae+0x1*0x3a1a);}['initInvVie'+'wProjMatri'+'ces'](){if(!af['length'])for(let _0x140f8a=0x14c4+0x7dc+-0x1ca0;_0x140f8a<-0x1f74+-0x2121+-0x3*-0x1589;_0x140f8a++){const _0x40ac09=Wn['create'](null,Ke,_0x140f8a),_0xf8053a=_0x40ac09['projection'+'Matrix'],_0x377549=_0x40ac09['node']['getLocalTr'+'ansform']()['clone']()['invert']();af[_0x140f8a]=new te()['mul2'](_0xf8053a,_0x377549)['invert']();}}get['quadRender'+'er2D'](){if(!this['_quadRende'+'rer2D']){const _0x2f9115=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'erer2d','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'2DPS'});this['_quadRende'+'rer2D']=new Ah(_0x2f9115);}return this['_quadRende'+'rer2D'];}get['quadRender'+'erCube'](){if(!this['_quadRende'+'rerCube']){const _0x53ed10=$t['createShad'+'er'](this['device'],{'uniqueName':'cookieRend'+'ererCube','attributes':{'vertex_position':Me},'vertexChunk':'cookieBlit'+'VS','fragmentChunk':'cookieBlit'+'CubePS'});this['_quadRende'+'rerCube']=new Ah(_0x53ed10);}return this['_quadRende'+'rerCube'];}['execute'](){const _0x418f83=this['device'];_0x418f83['setBlendSt'+'ate'](pt['NOBLEND']),_0x418f83['setCullMod'+'e'](bt),_0x418f83['setDepthSt'+'ate'](Yt['NODEPTH']),_0x418f83['setStencil'+'State']();const _0x17e09e=this['renderTarg'+'et']['colorBuffe'+'r']['width'],_0x5b8a1f=this['_cubeSlots'+'Offsets'],_0x1877e3=this['_filteredL'+'ights'];for(let _0x29d09d=-0x1*0x943+0xd8e+-0x44b;_0x29d09d<_0x1877e3['length'];_0x29d09d++){const _0x4a16d6=_0x1877e3[_0x29d09d];Q['pushGpuMar'+'ker'](this['device'],'COOKIE\x20'+_0x4a16d6['_node']['name']);const _0x391a95=_0x4a16d6['numShadowF'+'aces'],_0x263d43=_0x391a95>-0x209f+0xe60+-0x40*-0x49?this['quadRender'+'erCube']:this['quadRender'+'er2D'];_0x391a95>-0xc90+0xb*0x21b+0x8*-0x153&&this['initInvVie'+'wProjMatri'+'ces'](),this['blitTextur'+'eId']['setValue'](_0x4a16d6['cookie']);for(let _0x4ae961=-0x659+-0x48+-0x1*-0x6a1;_0x4ae961<_0x391a95;_0x4ae961++){if(rr['copy'](_0x4a16d6['atlasViewp'+'ort']),_0x391a95>-0x1175+-0x210b+0x3281){const _0x3a960c=rr['z']/(0x2b6*-0x1+-0x121f+0x14d8),_0x4b6c86=_0x5b8a1f[_0x4ae961];rr['x']+=_0x3a960c*_0x4b6c86['x'],rr['y']+=_0x3a960c*_0x4b6c86['y'],rr['z']=_0x3a960c,rr['w']=_0x3a960c,this['invViewPro'+'jId']['setValue'](af[_0x4ae961]['data']);}rr['mulScalar'](_0x17e09e),_0x263d43['render'](rr);}Q['popGpuMark'+'er'](_0x418f83);}_0x1877e3['length']=0x1b3b+0x2f*-0xbb+0x6*0x12f;}}class Vb extends ys{constructor(_0xb14696,_0x4b9433,_0x1e96c2){super(_0xb14696),this['requiresCu'+'bemaps']=!(-0x847+0x25de+-0x1d96),this['shadowRend'+'erer']=_0x4b9433,this['shadowRend'+'ererLocal']=_0x1e96c2;}['update'](_0x233413){const _0xc711d7=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x5b7f24=this['shadowRend'+'ererLocal']['prepareLig'+'hts'](_0xc711d7,_0x233413),_0x1c65ca=_0xc711d7['length'];this['enabled']=_0x1c65ca>0x1*-0x5bd+0x1db*-0x7+0x12ba,_0x1c65ca&&this['shadowRend'+'erer']['setupRende'+'rPass'](this,_0x5b7f24,!(0x11*0x1b1+-0x15ca+0x252*-0x3));}['execute'](){const _0x45d426=this['shadowRend'+'ererLocal']['shadowLigh'+'ts'],_0x360d39=_0x45d426['length'];for(let _0x281e69=0x201a+-0x1be7+-0xd7*0x5;_0x281e69<_0x360d39;_0x281e69++){const _0x4b4cc7=_0x45d426[_0x281e69];for(let _0x3e5b1f=0x1*0x1fb5+-0x1e5a+-0x15b;_0x3e5b1f<_0x4b4cc7['numShadowF'+'aces'];_0x3e5b1f++)this['shadowRend'+'erer']['renderFace'](_0x4b4cc7,null,_0x3e5b1f,!(0x7e3*0x3+-0x2578+0xdcf));}_0x45d426['length']=0x1d*-0x125+-0x1*0xe63+0x2f94;}}class Gb extends ys{constructor(_0x58b095,_0x4bfd1d,_0x78bdbe,_0x41f1d4,_0x30d5ca){super(_0x58b095),this['renderer']=_0x4bfd1d,this['frameGraph']=null,this['cookiesRen'+'derPass']=pm['create'](_0x30d5ca['cookieRend'+'erTarget'],_0x30d5ca['cubeSlotsO'+'ffsets']),this['beforePass'+'es']['push'](this['cookiesRen'+'derPass']),this['shadowRend'+'erPass']=new Vb(_0x58b095,_0x78bdbe,_0x41f1d4),this['beforePass'+'es']['push'](this['shadowRend'+'erPass']);}['update'](_0x392f4d,_0x114af1,_0x4e32e5,_0x4f3274,_0x57c5c7){this['frameGraph']=_0x392f4d,this['cookiesRen'+'derPass']['enabled']=_0x4e32e5,_0x4e32e5&&this['cookiesRen'+'derPass']['update'](_0x4f3274),this['shadowRend'+'erPass']['enabled']=_0x114af1,_0x114af1&&this['shadowRend'+'erPass']['update'](_0x57c5c7);}['destroy'](){this['cookiesRen'+'derPass']['destroy'](),this['cookiesRen'+'derPass']=null;}['execute'](){const _0xadd9a8=de(),{renderer:_0x2df787}=this,{scene:_0x379937}=_0x2df787;_0x2df787['worldClust'+'ersAllocat'+'or']['update'](this['frameGraph']['renderPass'+'es'],_0x379937['lighting']),_0x2df787['_lightClus'+'tersTime']+=de()-_0xadd9a8,_0x2df787['_lightClus'+'ters']=_0x2df787['worldClust'+'ersAllocat'+'or']['count'];}}let nf=-0x692*-0x5+0xf01*-0x1+-0x11d9;const ar=new te(),nr=new te(),Oa=new te(),q_=new _i(),of=new sp(),j_=new te()['setScale'](-0x24da+0x1ff3*0x1+0x4e8,-(0x111d*0x2+-0x739*-0x1+-0x2972),-0x1*-0x241e+0x1877+-0x3c94),lf=new Set(),cf=new Set(),hf=new ky(),Y_=new te()['set']([0xb70+-0x21c1+-0x2*-0xb29,0x12b8+0x2500+-0x1*0x37b8,0x1b4c+0x1c35+-0x445*0xd,0x178d+-0xea5+-0x5*0x1c8,-0x1945*-0x1+0x283+-0x1bc8,0xaff+0xb*0x279+-0x1*0x2631,-0x25a4+-0x21*0xf4+0x42*0x10c,0x8*-0x20f+0x146*0x1c+-0x1330,0xe*-0x141+-0x1*-0x203e+0x5*-0x2f0,-0xb9d*0x3+-0x1*-0x8bb+-0x2*-0xd0e,0x3*0x34c+-0x25c6*-0x1+-0x2faa+0.5,0x3d*0x7+0x5ec+-0x1*0x797,-0x21+-0x1b*-0x53+-0x60*0x17,-0x830*-0x4+0x16cd+-0x378d,-0x1474+0xe9f*-0x1+-0x1*-0x2313+0.5,-0x6ad*0x1+-0x84b+-0xef9*-0x1]),K_=[new J(0x53*0x35+0xf1*-0x29+0x2*0xab5+0.5,0x11f3*0x1+0x1889+-0x2a7c+0.333333),new J(-0xbd1+0x2365+-0xbca*0x2+0.25,-0x7c8+0x2094+-0x844*0x3+0.666667),new J(0x2e7*0xd+0xb*0x255+-0x3f62+0.75,0x5e*0x39+-0x448*0x8+-0x5*-0x2aa+0.111111),new J(-0x3*-0xa31+-0x2c8+0x58f*-0x5+0.125,-0x1*0x268d+0x181f+0x1*0xe6e+0.444444),new J(-0xced*-0x1+0x612*-0x1+-0x6db+0.625,-0x1*-0x5d3+-0x1561+-0x7c7*-0x2+0.777778),new J(0xec2*-0x1+0x258e+0x1*-0x16cc+0.375,-0x1a3e+0x1b91+-0x153+0.222222),new J(-0x902*-0x1+-0x1cc0+0x7*0x2d2+0.875,0x5be*-0x1+0x166*-0xa+0x65*0x32+0.555556),new J(-0x16f1*-0x1+-0x185a+0x1*0x169+0.0625,-0x225b+-0x1*0xa57+-0x1659*-0x2+0.888889),new J(0x5*-0x8e+0x24c+0x7a+0.5625,-0x1b45+-0x769*-0x1+0x3e*0x52+0.037037),new J(0x11d2+-0x213a+0x7b4*0x2+0.3125,0xcb*0x2e+-0x78a*-0x4+-0x42a2+0.37037),new J(0x93a*0x2+0x45b*0x5+-0xd69*0x3+0.8125,0xece+-0x30*-0x44+-0x1b8e*0x1+0.703704),new J(0x26b*0xa+-0x2*-0x30d+-0x792*0x4+0.1875,-0x11d6*-0x1+0x15ae+-0x119*0x24+0.148148),new J(0x295+-0xffc+-0x2f*-0x49+0.6875,0x14a4+-0x1*-0x1f92+-0x3436+0.481481),new J(0x15ec+-0x20eb+0xaff+0.4375,-0x77*-0x2b+-0x83f+-0xbbe+0.814815),new J(-0x95c+-0x45a*0x5+-0x1*-0x1f1e+0.9375,-0x1*0x1dad+-0x33*-0xaf+-0x53*0x10+0.259259),new J(-0x18a7+0x15a2+0x305+0.03125,0x3*-0x298+-0x6*-0x4cb+-0x14fa+0.592593)],Hb=new te(),Wb=new te(),$b=new te(),Xb=new te(),qb=new te(),jb=new te(),Fa=new Set(),df=[],ff=[];class Yb{constructor(_0x1f9523){h(this,'clustersDe'+'bugRendere'+'d',!(0xd*0x123+0x161*0x2+0x18*-0xbb)),h(this,'processing'+'MeshInstan'+'ces',new Set()),h(this,'worldClust'+'ersAllocat'+'or'),h(this,'lights',[]),h(this,'localLight'+'s',[]),h(this,'cameraDirS'+'hadowLight'+'s',new Map()),h(this,'dirLightSh'+'adows',new Map()),h(this,'blueNoise',new wb(-0x8*0x56+-0xc97+0xfc2)),(this['device']=_0x1f9523,this['scene']=null,this['worldClust'+'ersAllocat'+'or']=new zb(_0x1f9523),this['lightTextu'+'reAtlas']=new Ib(_0x1f9523),this['shadowMapC'+'ache']=new Lb(),this['shadowRend'+'erer']=new Cv(this,this['lightTextu'+'reAtlas']),this['_shadowRen'+'dererLocal']=new Ob(this,this['shadowRend'+'erer']),this['_shadowRen'+'dererDirec'+'tional']=new kb(this,this['shadowRend'+'erer']),this['_renderPas'+'sUpdateClu'+'stered']=new Gb(this['device'],this,this['shadowRend'+'erer'],this['_shadowRen'+'dererLocal'],this['lightTextu'+'reAtlas']),this['viewUnifor'+'mFormat']=null,this['viewBindGr'+'oupFormat']=null,this['_skinTime']=-0x14cd*0x1+-0xa8d+0x1f5a,this['_morphTime']=0x1*-0xa1+0x1*-0x1f+-0x8*-0x18,this['_cullTime']=-0x55a*0x3+0x68b+0x983,this['_shadowMap'+'Time']=-0x1*0x1b7+-0x1aa0+0x1*0x1c57,this['_lightClus'+'tersTime']=-0xea*-0x9+-0x427+-0x413,this['_layerComp'+'ositionUpd'+'ateTime']=0x1f*-0x49+0x3*-0x787+0x4*0x7db,this['_shadowDra'+'wCalls']=-0x7f*-0x1d+-0x1f3*-0x1+-0x1056,this['_skinDrawC'+'alls']=-0x1*0x247f+-0xcf8+0x7*0x711,this['_instanced'+'DrawCalls']=0xbdf*-0x3+-0xa65+-0x1c5*-0x1a,this['_shadowMap'+'Updates']=0x1*-0x1b91+0x7b+-0x1*-0x1b16,this['_numDrawCa'+'llsCulled']=0x21e*-0x5+-0x20a3+0x2b39,this['_camerasRe'+'ndered']=-0x1c6d+0x20bf+-0x229*0x2,this['_lightClus'+'ters']=-0x12f1+0x1992+-0x6a1);const _0x42adb3=_0x1f9523['scope'];this['boneTextur'+'eId']=_0x42adb3['resolve']('texture_po'+'seMap'),this['modelMatri'+'xId']=_0x42adb3['resolve']('matrix_mod'+'el'),this['normalMatr'+'ixId']=_0x42adb3['resolve']('matrix_nor'+'mal'),this['viewInvId']=_0x42adb3['resolve']('matrix_vie'+'wInverse'),this['viewPos']=new Float32Array(-0x1823+0x1c5e+0x28*-0x1b),this['viewPosId']=_0x42adb3['resolve']('view_posit'+'ion'),this['projId']=_0x42adb3['resolve']('matrix_pro'+'jection'),this['projSkybox'+'Id']=_0x42adb3['resolve']('matrix_pro'+'jectionSky'+'box'),this['viewId']=_0x42adb3['resolve']('matrix_vie'+'w'),this['viewId3']=_0x42adb3['resolve']('matrix_vie'+'w3'),this['viewProjId']=_0x42adb3['resolve']('matrix_vie'+'wProjectio'+'n'),this['flipYId']=_0x42adb3['resolve']('projection'+'FlipY'),this['tbnBasis']=_0x42adb3['resolve']('tbnBasis'),this['nearClipId']=_0x42adb3['resolve']('camera_nea'+'r'),this['farClipId']=_0x42adb3['resolve']('camera_far'),this['cameraPara'+'ms']=new Float32Array(0x1c9*0x11+0x24e*0x6+-0x2c29),this['cameraPara'+'msId']=_0x42adb3['resolve']('camera_par'+'ams'),this['viewIndexI'+'d']=_0x42adb3['resolve']('view_index'),this['viewIndexI'+'d']['setValue'](-0x2*-0x137b+0xd42*-0x2+-0xb1*0x12),this['blueNoiseJ'+'itterVersi'+'on']=0xb3*-0x9+-0x1*0x11e9+-0x60d*-0x4,this['blueNoiseJ'+'itterVec']=new re(),this['blueNoiseJ'+'itterData']=new Float32Array(-0x5f9*-0x5+-0x1784+-0x1*0x655),this['blueNoiseJ'+'itterId']=_0x42adb3['resolve']('blueNoiseJ'+'itter'),this['blueNoiseT'+'extureId']=_0x42adb3['resolve']('blueNoiseT'+'ex32'),this['alphaTestI'+'d']=_0x42adb3['resolve']('alpha_ref'),this['opacityMap'+'Id']=_0x42adb3['resolve']('texture_op'+'acityMap'),this['exposureId']=_0x42adb3['resolve']('exposure'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']=_0x42adb3['resolve']('twoSidedLi'+'ghtingNegS'+'caleFactor'),this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](0x4d3+-0x25*0xf+-0x2a8),this['morphPosit'+'ionTex']=_0x42adb3['resolve']('morphPosit'+'ionTex'),this['morphNorma'+'lTex']=_0x42adb3['resolve']('morphNorma'+'lTex'),this['morphTexPa'+'rams']=_0x42adb3['resolve']('morph_tex_'+'params'),this['lightCube']=new bb(),this['constantLi'+'ghtCube']=_0x42adb3['resolve']('lightCube['+'0]');}['destroy'](){this['shadowRend'+'erer']=null,this['_shadowRen'+'dererLocal']=null,this['_shadowRen'+'dererDirec'+'tional']=null,this['shadowMapC'+'ache']['destroy'](),this['shadowMapC'+'ache']=null,this['_renderPas'+'sUpdateClu'+'stered']['destroy'](),this['_renderPas'+'sUpdateClu'+'stered']=null,this['lightTextu'+'reAtlas']['destroy'](),this['lightTextu'+'reAtlas']=null;}['setupViewp'+'ort'](_0x37c25e,_0x5504a8){const _0x31a3dd=this['device'],_0x540292=_0x5504a8?_0x5504a8['width']:_0x31a3dd['width'],_0x4f939b=_0x5504a8?_0x5504a8['height']:_0x31a3dd['height'],_0x1afd26=_0x37c25e['rect'];let _0x5978f1=Math['floor'](_0x1afd26['x']*_0x540292),_0x3f5037=Math['floor'](_0x1afd26['y']*_0x4f939b),_0x2f75d0=Math['floor'](_0x1afd26['z']*_0x540292),_0x882464=Math['floor'](_0x1afd26['w']*_0x4f939b);if(_0x31a3dd['setViewpor'+'t'](_0x5978f1,_0x3f5037,_0x2f75d0,_0x882464),_0x37c25e['_scissorRe'+'ctClear']){const _0x484866=_0x37c25e['scissorRec'+'t'];_0x5978f1=Math['floor'](_0x484866['x']*_0x540292),_0x3f5037=Math['floor'](_0x484866['y']*_0x4f939b),_0x2f75d0=Math['floor'](_0x484866['z']*_0x540292),_0x882464=Math['floor'](_0x484866['w']*_0x4f939b);}_0x31a3dd['setScissor'](_0x5978f1,_0x3f5037,_0x2f75d0,_0x882464);}['setCameraU'+'niforms'](_0x7fb15a,_0xf1767){var _0x139502,_0x55bf9e;const _0x53822a=_0xf1767==null?void(-0x692*-0x5+0x618*-0x6+0x3b6):_0xf1767['flipY'];let _0x567166=null;if(_0x7fb15a['xr']&&_0x7fb15a['xr']['session']){const _0x303933=((_0x55bf9e=(_0x139502=_0x7fb15a['_node'])==null?void(0x2357+0x1*-0xd8+-0x227f):_0x139502['parent'])==null?void(0x1313+-0x1034+-0x2df):_0x55bf9e['getWorldTr'+'ansform']())||null;_0x567166=_0x7fb15a['xr']['views']['list'];for(let _0x1a04db=-0x281*-0x6+0x23b9+-0x32bf;_0x1a04db<_0x567166['length'];_0x1a04db++){const _0x3ffe25=_0x567166[_0x1a04db];_0x3ffe25['updateTran'+'sforms'](_0x303933),_0x7fb15a['frustum']['setFromMat'+'4'](_0x3ffe25['projViewOf'+'fMat']);}}else{let _0x3a8931=_0x7fb15a['projection'+'Matrix'];_0x7fb15a['calculateP'+'rojection']&&_0x7fb15a['calculateP'+'rojection'](_0x3a8931,ec);let _0x3caf19=_0x7fb15a['getProject'+'ionMatrixS'+'kybox']();_0x53822a&&(_0x3a8931=Hb['mul2'](j_,_0x3a8931),_0x3caf19=Wb['mul2'](j_,_0x3caf19)),this['device']['isWebGPU']&&(_0x3a8931=$b['mul2'](Y_,_0x3a8931),_0x3caf19=Xb['mul2'](Y_,_0x3caf19));const {jitter:_0x340da8}=_0x7fb15a;let _0x531229=-0x2113+-0x15fb*-0x1+-0x28*-0x47,_0x5c01bf=-0xd*0x279+0x1*-0x18ee+0x3913;if(_0x340da8>0x8b*0x25+-0xd7b+-0x69c){const _0x54fb62=_0xf1767?_0xf1767['width']:this['device']['width'],_0x5b21c7=_0xf1767?_0xf1767['height']:this['device']['height'],_0x525332=K_[this['device']['renderVers'+'ion']%K_['length']];_0x531229=_0x340da8*(_0x525332['x']*(-0x1*0x65+0x1022+-0xfbb)-(0x1295+0xe9+-0x137d))/_0x54fb62,_0x5c01bf=_0x340da8*(_0x525332['y']*(-0xcef*-0x2+0x11d2*-0x1+0x126*-0x7)-(-0x17b1+0xb24+0xc8e))/_0x5b21c7,_0x3a8931=qb['copy'](_0x3a8931),_0x3a8931['data'][-0x1*0xb3+-0x4f*0xd+-0x4be*-0x1]=_0x531229,_0x3a8931['data'][0x2454+-0xe5a+-0x89*0x29]=_0x5c01bf,_0x3caf19=jb['copy'](_0x3caf19),_0x3caf19['data'][-0x206+0x138*0x11+0x1*-0x12aa]=_0x531229,_0x3caf19['data'][-0x1*-0x1c87+0x908*0x3+-0x3796]=_0x5c01bf,this['blueNoiseJ'+'itterVersi'+'on']!==this['device']['renderVers'+'ion']&&(this['blueNoiseJ'+'itterVersi'+'on']=this['device']['renderVers'+'ion'],this['blueNoise']['vec4'](this['blueNoiseJ'+'itterVec']));}const _0x4825e6=_0x340da8>-0x1c8f*0x1+-0xda*-0x2a+-0x735?this['blueNoiseJ'+'itterVec']:re['ZERO'];if(this['blueNoiseJ'+'itterData'][0x20fc+0x2661+-0x475d]=_0x4825e6['x'],this['blueNoiseJ'+'itterData'][0x4*-0x346+-0xb39+-0x11b*-0x16]=_0x4825e6['y'],this['blueNoiseJ'+'itterData'][0x535+0x1*-0x1a95+0x77*0x2e]=_0x4825e6['z'],this['blueNoiseJ'+'itterData'][0x267+-0x179a+-0xa9b*-0x2]=_0x4825e6['w'],this['blueNoiseJ'+'itterId']['setValue'](this['blueNoiseJ'+'itterData']),this['projId']['setValue'](_0x3a8931['data']),this['projSkybox'+'Id']['setValue'](_0x3caf19['data']),_0x7fb15a['calculateT'+'ransform'])_0x7fb15a['calculateT'+'ransform'](nr,ec);else{const _0x565cdb=_0x7fb15a['_node']['getPositio'+'n'](),_0x385bfc=_0x7fb15a['_node']['getRotatio'+'n']();nr['setTRS'](_0x565cdb,_0x385bfc,D['ONE']);}this['viewInvId']['setValue'](nr['data']),Oa['copy'](nr)['invert'](),this['viewId']['setValue'](Oa['data']),q_['setFromMat'+'4'](Oa),this['viewId3']['setValue'](q_['data']),ar['mul2'](_0x3a8931,Oa),this['viewProjId']['setValue'](ar['data']),_0x7fb15a['_storeShad'+'erMatrices'](ar,_0x531229,_0x5c01bf,this['device']['renderVers'+'ion']),this['flipYId']['setValue'](_0x53822a?-(-0x1ab1+0x2639+-0xb87):0xc*0x308+0x614+-0x1*0x2a73),this['dispatchVi'+'ewPos'](_0x7fb15a['_node']['getPositio'+'n']()),_0x7fb15a['frustum']['setFromMat'+'4'](ar);}this['tbnBasis']['setValue'](_0x53822a?-(-0x216b+-0x1bc5*-0x1+0x5a7*0x1):-0x1*-0x15bd+0x1*-0x1fa9+0x9ed);const _0x537f72=_0x7fb15a['_nearClip'],_0x4ef8f5=_0x7fb15a['_farClip'];return this['nearClipId']['setValue'](_0x537f72),this['farClipId']['setValue'](_0x4ef8f5),this['cameraPara'+'ms'][0x700+0x100f+0x1*-0x170f]=(-0x3*-0x565+0x14d5+0x5*-0x767)/_0x4ef8f5,this['cameraPara'+'ms'][-0x3d4+0x373*-0xb+0x29c6]=_0x4ef8f5,this['cameraPara'+'ms'][-0x1f*0x4d+0x20b7+-0x1762]=_0x537f72,this['cameraPara'+'ms'][-0x1f06+-0x2fe*0x1+0x2207]=_0x7fb15a['projection']===En?-0x431*-0x5+-0xf4c+-0x5a8:-0x9cb*0x3+-0x5*-0x511+0x40c,this['cameraPara'+'msId']['setValue'](this['cameraPara'+'ms']),this['exposureId']['setValue'](this['scene']['physicalUn'+'its']?_0x7fb15a['getExposur'+'e']():this['scene']['exposure']),_0x567166;}['clear'](_0x4ce53a,_0x33cc8a,_0x145c6c,_0x3d4c5c){const _0x5aa951=(_0x33cc8a??_0x4ce53a['_clearColo'+'rBuffer']?jo:-0xc*0x30e+0x1cdc*-0x1+0x4184*0x1)|(_0x145c6c??_0x4ce53a['_clearDept'+'hBuffer']?Yo:0xa*0x9e+0x25c0+-0x2bec)|(_0x3d4c5c??_0x4ce53a['_clearSten'+'cilBuffer']?ch:0x1d51+0x19*-0x45+-0x44*0x55);if(_0x5aa951){const _0x2c16bd=this['device'];Q['pushGpuMar'+'ker'](_0x2c16bd,'CLEAR'),_0x2c16bd['clear']({'color':[_0x4ce53a['_clearColo'+'r']['r'],_0x4ce53a['_clearColo'+'r']['g'],_0x4ce53a['_clearColo'+'r']['b'],_0x4ce53a['_clearColo'+'r']['a']],'depth':_0x4ce53a['_clearDept'+'h'],'stencil':_0x4ce53a['_clearSten'+'cil'],'flags':_0x5aa951}),Q['popGpuMark'+'er'](_0x2c16bd);}}['setCamera'](_0x4ce3c8,_0x15490f,_0x317f78,_0x42898e=null){this['setCameraU'+'niforms'](_0x4ce3c8,_0x15490f),this['clearView'](_0x4ce3c8,_0x15490f,_0x317f78,!(0x1a20+-0x2530+0xb11));}['clearView'](_0x452663,_0x23d2c5,_0x12e56d,_0x124ebd){const _0x128bb7=this['device'];if(Q['pushGpuMar'+'ker'](_0x128bb7,'CLEAR-VIEW'),_0x128bb7['setRenderT'+'arget'](_0x23d2c5),_0x128bb7['updateBegi'+'n'](),_0x124ebd&&(_0x128bb7['setColorWr'+'ite'](!(0xbe*0x34+0x9e*-0x11+-0x1c1a),!(0x253d*0x1+-0x1468+0x1*-0x10d5),!(-0x3*0x5cc+-0x1*0x1f1a+0x307e),!(0xc08+-0x6dc+-0x1*0x52c)),_0x128bb7['setDepthWr'+'ite'](!(-0xf98*0x2+-0xcf0+-0x2c2*-0x10))),this['setupViewp'+'ort'](_0x452663,_0x23d2c5),_0x12e56d){const _0x1727ed=_0x452663['_clearOpti'+'ons'];_0x128bb7['clear'](_0x1727ed||{'color':[_0x452663['_clearColo'+'r']['r'],_0x452663['_clearColo'+'r']['g'],_0x452663['_clearColo'+'r']['b'],_0x452663['_clearColo'+'r']['a']],'depth':_0x452663['_clearDept'+'h'],'flags':(_0x452663['_clearColo'+'rBuffer']?jo:0xdad+-0x313*0x4+0x1*-0x161)|(_0x452663['_clearDept'+'hBuffer']?Yo:-0x1*-0x166f+-0x1*-0x148e+-0x2afd)|(_0x452663['_clearSten'+'cilBuffer']?ch:-0x251*-0xe+0x13c2+-0x3430),'stencil':_0x452663['_clearSten'+'cil']});}Q['popGpuMark'+'er'](_0x128bb7);}['setupCullM'+'ode'](_0x621be4,_0x2010c6,_0xec2001){const _0x2556c3=_0xec2001['material'];let _0x46850e=bt;if(_0x621be4){let _0x4ae999=-0x23e4*-0x1+0xc1*0x25+-0x3fc8;(_0x2556c3['cull']===Fo||_0x2556c3['cull']===pa)&&(_0x4ae999=_0x2010c6*_0xec2001['flipFacesF'+'actor']*_0xec2001['node']['worldScale'+'Sign']),_0x4ae999<0x2531+-0x1*-0x23e1+-0x4912?_0x46850e=_0x2556c3['cull']===Fo?pa:Fo:_0x46850e=_0x2556c3['cull'];}this['device']['setCullMod'+'e'](_0x46850e),_0x46850e===bt&&_0x2556c3['cull']===bt&&this['twoSidedLi'+'ghtingNegS'+'caleFactor'+'Id']['setValue'](_0xec2001['node']['worldScale'+'Sign']);}['updateCame'+'raFrustum'](_0x5a445b){if(_0x5a445b['xr']&&_0x5a445b['xr']['views']['list']['length']){const _0x337330=_0x5a445b['xr']['views']['list'][-0x1630+-0xc5*-0x1+0x156b];ar['mul2'](_0x337330['projMat'],_0x337330['viewOffMat']),_0x5a445b['frustum']['setFromMat'+'4'](ar);return;}const _0x17676f=_0x5a445b['projection'+'Matrix'];if(_0x5a445b['calculateP'+'rojection']&&_0x5a445b['calculateP'+'rojection'](_0x17676f,ec),_0x5a445b['calculateT'+'ransform'])_0x5a445b['calculateT'+'ransform'](nr,ec);else{const _0x21b52a=_0x5a445b['_node']['getPositio'+'n'](),_0x2f0487=_0x5a445b['_node']['getRotatio'+'n']();nr['setTRS'](_0x21b52a,_0x2f0487,D['ONE']),this['viewInvId']['setValue'](nr['data']);}Oa['copy'](nr)['invert'](),ar['mul2'](_0x17676f,Oa),_0x5a445b['frustum']['setFromMat'+'4'](ar);}['setBaseCon'+'stants'](_0x4aba45,_0x246830){_0x4aba45['setCullMod'+'e'](_0x246830['cull']),_0x246830['opacityMap']&&this['opacityMap'+'Id']['setValue'](_0x246830['opacityMap']),(_0x246830['opacityMap']||_0x246830['alphaTest']>-0x39*0x3a+-0x19dd+0x26c7)&&this['alphaTestI'+'d']['setValue'](_0x246830['alphaTest']);}['updateCpuS'+'kinMatrice'+'s'](_0x48b0fc){nf++;const _0x3dff28=_0x48b0fc['length'];if(_0x3dff28===0x2286+-0xb95+0x347*-0x7)return;const _0x165b68=de();for(let _0x4d8dd7=-0x1648+0x1e2d+-0x7e5;_0x4d8dd7<_0x3dff28;_0x4d8dd7++){const _0x145b79=_0x48b0fc[_0x4d8dd7]['skinInstan'+'ce'];_0x145b79&&(_0x145b79['updateMatr'+'ices'](_0x48b0fc[_0x4d8dd7]['node'],nf),_0x145b79['_dirty']=!(-0x11*-0x12e+0x1*0x1541+-0x2f*0xe1));}this['_skinTime']+=de()-_0x165b68;}['updateGpuS'+'kinMatrice'+'s'](_0x3f61cc){const _0x16bb4c=de();for(const _0x1c4a92 of _0x3f61cc){const _0x19a206=_0x1c4a92['skinInstan'+'ce'];_0x19a206&&_0x19a206['_dirty']&&(_0x19a206['updateMatr'+'ixPalette'](_0x1c4a92['node'],nf),_0x19a206['_dirty']=!(0x1*0x1cc1+-0x24e0+0x8*0x104));}this['_skinTime']+=de()-_0x16bb4c;}['updateMorp'+'hing'](_0x5babeb){const _0x3e9fa0=de();for(const _0x3d6178 of _0x5babeb){const _0x273cc5=_0x3d6178['morphInsta'+'nce'];_0x273cc5&&_0x273cc5['_dirty']&&_0x273cc5['update']();}this['_morphTime']+=de()-_0x3e9fa0;}['updateGSpl'+'ats'](_0x16ef94){var _0x474b81;for(const _0x324574 of _0x16ef94)(_0x474b81=_0x324574['gsplatInst'+'ance'])==null||_0x474b81['update']();}['gpuUpdate'](_0x2fc8ce){this['updateGpuS'+'kinMatrice'+'s'](_0x2fc8ce),this['updateMorp'+'hing'](_0x2fc8ce),this['updateGSpl'+'ats'](_0x2fc8ce);}['setVertexB'+'uffers'](_0x5514cd,_0x17ed79){_0x5514cd['setVertexB'+'uffer'](_0x17ed79['vertexBuff'+'er']);}['setMorphin'+'g'](_0x534b71,_0x43bc99){_0x43bc99&&(_0x43bc99['prepareRen'+'dering'](_0x534b71),_0x534b71['setVertexB'+'uffer'](_0x43bc99['morph']['vertexBuff'+'erIds']),this['morphPosit'+'ionTex']['setValue'](_0x43bc99['texturePos'+'itions']),this['morphNorma'+'lTex']['setValue'](_0x43bc99['textureNor'+'mals']),this['morphTexPa'+'rams']['setValue'](_0x43bc99['_texturePa'+'rams']));}['setSkinnin'+'g'](_0x326de5,_0x1986e1){const _0x51abc0=_0x1986e1['skinInstan'+'ce'];if(_0x51abc0){this['_skinDrawC'+'alls']++;const _0x25038f=_0x51abc0['boneTextur'+'e'];this['boneTextur'+'eId']['setValue'](_0x25038f);}}['dispatchVi'+'ewPos'](_0x7584d9){const _0x7e808=this['viewPos'];_0x7e808[-0x349*0x1+-0x134d+0x7*0x33a]=_0x7584d9['x'],_0x7e808[0x1*-0x75a+-0x1aaa*-0x1+-0x134f]=_0x7584d9['y'],_0x7e808[0x2b*-0x25+0x2*-0x1a5+-0x1*-0x983]=_0x7584d9['z'],this['viewPosId']['setValue'](_0x7e808);}['initViewBi'+'ndGroupFor'+'mat'](_0x5e36e8){if(this['device']['supportsUn'+'iformBuffe'+'rs']&&!this['viewUnifor'+'mFormat']){const _0x4fac2c=[new dt('matrix_vie'+'w',li),new dt('matrix_vie'+'wInverse',li),new dt('matrix_pro'+'jection',li),new dt('matrix_pro'+'jectionSky'+'box',li),new dt('matrix_vie'+'wProjectio'+'n',li),new dt('matrix_vie'+'w3',On),new dt('cubeMapRot'+'ationMatri'+'x',On),new dt('view_posit'+'ion',ds),new dt('skyboxInte'+'nsity',Xs),new dt('exposure',Xs),new dt('textureBia'+'s',Xs),new dt('view_index',Xs)];_0x5e36e8&&_0x4fac2c['push'](new dt('clusterCel'+'lsCountByB'+'oundsSize',ds),new dt('clusterTex'+'tureSize',ds),new dt('clusterBou'+'ndsMin',ds),new dt('clusterBou'+'ndsDelta',ds),new dt('clusterCel'+'lsDot',ds),new dt('clusterCel'+'lsMax',ds),new dt('shadowAtla'+'sParams',ga),new dt('clusterMax'+'Cells',_a),new dt('clusterSki'+'p',Xs)),this['viewUnifor'+'mFormat']=new zy(this['device'],_0x4fac2c);const _0x3fe17e=[new kp(Np,Fp|by)];this['viewBindGr'+'oupFormat']=new Ny(this['device'],_0x3fe17e);}}['setupViewU'+'niforms'](_0x188228,_0x59e270){this['projId']['setValue'](_0x188228['projMat']['data']),this['projSkybox'+'Id']['setValue'](_0x188228['projMat']['data']),this['viewId']['setValue'](_0x188228['viewOffMat']['data']),this['viewInvId']['setValue'](_0x188228['viewInvOff'+'Mat']['data']),this['viewId3']['setValue'](_0x188228['viewMat3']['data']),this['viewProjId']['setValue'](_0x188228['projViewOf'+'fMat']['data']),this['viewPosId']['setValue'](_0x188228['positionDa'+'ta']),this['viewIndexI'+'d']['setValue'](_0x59e270);}['setupViewU'+'niformBuff'+'ers'](_0x505778,_0x38b8ab,_0x46a80a,_0x32eafe){w['assert'](Array['isArray'](_0x505778),'viewBindGr'+'oups\x20must\x20'+'be\x20an\x20arra'+'y');const {device:_0x126b41}=this,_0x450b1b=(_0x32eafe==null?void(0x14*0xcb+0x57f+0x47*-0x4d):_0x32eafe['length'])??-0xef5+0xc9+-0xe2d*-0x1;for(;_0x505778['length']<_0x450b1b;){const _0x187ead=new zp(_0x126b41,_0x38b8ab,!(-0xf63+-0x1fdb+0x2f3f)),_0x400eff=new Up(_0x126b41,_0x46a80a,_0x187ead);Ea['setName'](_0x400eff,'ViewBindGr'+'oup_'+_0x400eff['id']),_0x505778['push'](_0x400eff);}if(_0x32eafe)for(let _0x3f2c79=-0x22a1+-0x21d+-0x125f*-0x2;_0x3f2c79<_0x450b1b;_0x3f2c79++){const _0x12fed2=_0x32eafe[_0x3f2c79];this['setupViewU'+'niforms'](_0x12fed2,_0x3f2c79);const _0x152bbe=_0x505778[_0x3f2c79];_0x152bbe['defaultUni'+'formBuffer']['update'](),_0x152bbe['update']();}else{const _0x572e51=_0x505778[-0x1*-0x1ebb+-0x119b+-0x38*0x3c];_0x572e51['defaultUni'+'formBuffer']['update'](),_0x572e51['update']();}_0x32eafe||_0x126b41['setBindGro'+'up'](rl,_0x505778[0x10*0xbd+0x171e+-0x22ee]);}['setupMeshU'+'niformBuff'+'ers'](_0x26bef7){const _0x171587=this['device'];if(_0x171587['supportsUn'+'iformBuffe'+'rs']){const _0x5c31a0=_0x26bef7['getBindGro'+'up'](_0x171587);_0x5c31a0['update'](),_0x171587['setBindGro'+'up'](Oy,_0x5c31a0),_0x26bef7['getUniform'+'Buffer'](_0x171587)['update'](hf),_0x171587['setBindGro'+'up'](su,hf['bindGroup'],hf['offsets']);}}['setMeshIns'+'tanceMatri'+'ces'](_0xe87bf0,_0x2e1ec5=!(0x16e5+0x1*0x2501+-0x39*0x10d)){const _0x500ef0=_0xe87bf0['node']['worldTrans'+'form'];this['modelMatri'+'xId']['setValue'](_0x500ef0['data']),_0x2e1ec5&&this['normalMatr'+'ixId']['setValue'](_0xe87bf0['node']['normalMatr'+'ix']['data']);}['cull'](_0x164bd2,_0x525214,_0x3d2811){const _0xfe41d2=de(),_0x2bb9d1=_0x3d2811['opaque'];_0x2bb9d1['length']=-0x1ccc+-0x154c+0x3218;const _0x2bf8d6=_0x3d2811['transparen'+'t'];_0x2bf8d6['length']=0x1ba6*-0x1+0x26cc+0x2*-0x593;const _0x5114a6=_0x164bd2['frustumCul'+'ling'],_0x6e2118=_0x525214['length'];for(let _0x4295dc=-0x49d*0x7+0x268a+-0x63f;_0x4295dc<_0x6e2118;_0x4295dc++){const _0x3abc26=_0x525214[_0x4295dc];_0x3abc26['visible']&&(!_0x5114a6||!_0x3abc26['cull']||_0x3abc26['_isVisible'](_0x164bd2))&&(_0x3abc26['visibleThi'+'sFrame']=!(0x1933+-0x7d6+-0x379*0x5),(_0x3abc26['transparen'+'t']?_0x2bf8d6:_0x2bb9d1)['push'](_0x3abc26),(_0x3abc26['skinInstan'+'ce']||_0x3abc26['morphInsta'+'nce']||_0x3abc26['gsplatInst'+'ance'])&&(this['processing'+'MeshInstan'+'ces']['add'](_0x3abc26),_0x3abc26['gsplatInst'+'ance']&&_0x3abc26['gsplatInst'+'ance']['cameras']['push'](_0x164bd2)));}this['_cullTime']+=de()-_0xfe41d2,this['_numDrawCa'+'llsCulled']+=_0x5114a6?_0x6e2118:-0x20b7+0x208c+-0x1*-0x2b;}['collectLig'+'hts'](_0x175c59){this['lights']['length']=-0x19d*0x16+0x1*0x1290+-0x877*-0x2,this['localLight'+'s']['length']=-0x5*0x25d+0x17ff*-0x1+-0xbf0*-0x3;const _0x306f68=this['scene']['_stats'];_0x306f68['dynamicLig'+'hts']=-0x17*0x67+0x1b18+-0x11d7*0x1,_0x306f68['bakedLight'+'s']=0x2599+-0x52b*-0x3+-0x351a;const _0x3ed98f=_0x175c59['layerList']['length'];for(let _0x544d54=0x2*-0xcb3+0x3cd*0x5+0x665;_0x544d54<_0x3ed98f;_0x544d54++){const _0x44e96f=_0x175c59['layerList'][_0x544d54];if(!cf['has'](_0x44e96f)){cf['add'](_0x44e96f);const _0x50fda8=_0x44e96f['_lights'];for(let _0x1ab7ec=-0x1*-0x15cd+-0x1b71+-0x26*-0x26;_0x1ab7ec<_0x50fda8['length'];_0x1ab7ec++){const _0x5aa142=_0x50fda8[_0x1ab7ec];lf['has'](_0x5aa142)||(lf['add'](_0x5aa142),this['lights']['push'](_0x5aa142),_0x5aa142['_type']!==ve&&this['localLight'+'s']['push'](_0x5aa142),(_0x5aa142['mask']&Ss||_0x5aa142['mask']&di)&&_0x306f68['dynamicLig'+'hts']++,_0x5aa142['mask']&fi&&_0x306f68['bakedLight'+'s']++);}}}_0x306f68['lights']=this['lights']['length'],lf['clear'](),cf['clear']();}['cullLights'](_0x2bae38,_0x5511c7){const _0x4feb37=this['scene']['clusteredL'+'ightingEna'+'bled'],_0x1e24e6=this['scene']['physicalUn'+'its'];for(let _0x32be58=0x1802+-0x31d*-0xb+-0x3*0x136b;_0x32be58<_0x5511c7['length'];_0x32be58++){const _0x3f2eca=_0x5511c7[_0x32be58];if(_0x3f2eca['enabled']){if(_0x3f2eca['_type']!==ve){if(_0x3f2eca['getBoundin'+'gSphere'](of),_0x2bae38['frustum']['containsSp'+'here'](of)){_0x3f2eca['visibleThi'+'sFrame']=!(-0x1*0x1369+-0x1ca5+-0x1*-0x300e),_0x3f2eca['usePhysica'+'lUnits']=_0x1e24e6;const _0x4e288d=_0x2bae38['getScreenS'+'ize'](of);_0x3f2eca['maxScreenS'+'ize']=Math['max'](_0x3f2eca['maxScreenS'+'ize'],_0x4e288d);}else _0x4feb37||_0x3f2eca['castShadow'+'s']&&!_0x3f2eca['shadowMap']&&(_0x3f2eca['visibleThi'+'sFrame']=!(0xee3+-0x1dbc+0xed9*0x1));}else _0x3f2eca['usePhysica'+'lUnits']=this['scene']['physicalUn'+'its'];}}}['cullShadow'+'maps'](_0x126838){const _0x4b4d74=this['scene']['clusteredL'+'ightingEna'+'bled'];for(let _0x266c7f=0x12df*-0x1+0x21b5+-0xed6;_0x266c7f<this['localLight'+'s']['length'];_0x266c7f++){const _0x13cf66=this['localLight'+'s'][_0x266c7f];_0x13cf66['_type']!==ve&&(_0x4b4d74?_0x13cf66['atlasSlotU'+'pdated']&&_0x13cf66['shadowUpda'+'teMode']===Ps&&(_0x13cf66['shadowUpda'+'teMode']=xr):_0x13cf66['shadowUpda'+'teMode']===Ps&&_0x13cf66['castShadow'+'s']&&(_0x13cf66['getRenderD'+'ata'](null,0x1*-0x1751+-0xcf*-0xc+0xd9d)['shadowCame'+'ra']['renderTarg'+'et']||(_0x13cf66['shadowUpda'+'teMode']=xr)),_0x13cf66['visibleThi'+'sFrame']&&_0x13cf66['castShadow'+'s']&&_0x13cf66['shadowUpda'+'teMode']!==Ps&&this['_shadowRen'+'dererLocal']['cull'](_0x13cf66,_0x126838));}this['cameraDirS'+'hadowLight'+'s']['clear']();const _0x380e6c=_0x126838['cameras'];for(let _0x4ce70c=-0x38*0xa3+0x10d*0x19+0x9*0x10b;_0x4ce70c<_0x380e6c['length'];_0x4ce70c++){const _0x5e49be=_0x380e6c[_0x4ce70c];if(_0x5e49be['enabled']){const _0x381844=_0x5e49be['camera'];let _0x57245c;const _0x7761be=_0x381844['layers'];for(let _0x4104df=0x1d5c+-0x537+-0x1825;_0x4104df<_0x7761be['length'];_0x4104df++){const _0x37448a=_0x126838['getLayerBy'+'Id'](_0x7761be[_0x4104df]);if(_0x37448a){const _0xf91c0b=_0x37448a['splitLight'+'s'][ve];for(let _0x38aaec=0x217*-0xd+0x2*-0xac2+0x79*0x67;_0x38aaec<_0xf91c0b['length'];_0x38aaec++){const _0x4cf0d6=_0xf91c0b[_0x38aaec];_0x4cf0d6['castShadow'+'s']&&!Fa['has'](_0x4cf0d6)&&(Fa['add'](_0x4cf0d6),_0x57245c=_0x57245c??[],_0x57245c['push'](_0x4cf0d6),this['_shadowRen'+'dererDirec'+'tional']['cull'](_0x4cf0d6,_0x126838,_0x381844));}}}_0x57245c&&this['cameraDirS'+'hadowLight'+'s']['set'](_0x381844,_0x57245c),Fa['clear']();}}}['cullCompos'+'ition'](_0x15149b){const _0x5b8154=de(),{scene:_0x3da91a}=this;this['processing'+'MeshInstan'+'ces']['clear']();const _0xd04f84=_0x15149b['cameras']['length'];this['_camerasRe'+'ndered']+=_0xd04f84;for(let _0x256328=0x2*0x629+0x1*0x1529+-0x217b;_0x256328<_0xd04f84;_0x256328++){const _0x7e87d8=_0x15149b['cameras'][_0x256328];_0x3da91a==null||_0x3da91a['fire'](mv,_0x7e87d8);const _0x43e09d=_0x7e87d8['renderTarg'+'et'];_0x7e87d8['frameUpdat'+'e'](_0x43e09d),this['updateCame'+'raFrustum'](_0x7e87d8['camera']);const _0x3f322c=_0x7e87d8['layers'];for(let _0xa9193c=0x2b*0x17+0x11e5+-0x15c2;_0xa9193c<_0x3f322c['length'];_0xa9193c++){const _0x4690b1=_0x15149b['getLayerBy'+'Id'](_0x3f322c[_0xa9193c]);if(_0x4690b1&&_0x4690b1['enabled']){this['cullLights'](_0x7e87d8['camera'],_0x4690b1['_lights']);const _0x12745b=_0x4690b1['getCulledI'+'nstances'](_0x7e87d8['camera']);this['cull'](_0x7e87d8['camera'],_0x4690b1['meshInstan'+'ces'],_0x12745b);}}_0x3da91a==null||_0x3da91a['fire'](_v,_0x7e87d8);}_0x3da91a['clusteredL'+'ightingEna'+'bled']&&this['updateLigh'+'tTextureAt'+'las'](),this['cullShadow'+'maps'](_0x15149b),_0x3da91a==null||_0x3da91a['fire'](lE),this['_cullTime']+=de()-_0x5b8154;}['updateShad'+'ers'](_0xf47ebf,_0x3d730f){const _0x4d6817=_0xf47ebf['length'];for(let _0x43a9bd=0x2*0x482+0xf*-0x14f+-0xa9d*-0x1;_0x43a9bd<_0x4d6817;_0x43a9bd++){const _0x400c82=_0xf47ebf[_0x43a9bd]['material'];if(_0x400c82&&!Fa['has'](_0x400c82)&&(Fa['add'](_0x400c82),_0x400c82['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant'])){if(_0x3d730f&&(!_0x400c82['useLightin'+'g']||_0x400c82['emitter']&&!_0x400c82['emitter']['lighting']))continue;_0x400c82['clearVaria'+'nts']();}}Fa['clear']();}['updateFram'+'eUniforms'](){this['blueNoiseT'+'extureId']['setValue'](Pb(this['device']));}['beginFrame'](_0x32406b){const _0x2dbbd6=this['scene'],_0x1f5967=_0x2dbbd6['updateShad'+'ers']||this['device']['_shadersDi'+'rty'];let _0x4ecb06=0x830+-0x1fd6+-0x3*-0x7e2;const _0x32018e=_0x32406b['layerList'],_0x301e23=_0x32018e['length'];for(let _0xaef5c1=0x19d+-0xb1+-0xec;_0xaef5c1<_0x301e23;_0xaef5c1++){const _0xa133b6=_0x32018e[_0xaef5c1]['meshInstan'+'ces'],_0x23d696=_0xa133b6['length'];_0x4ecb06+=_0x23d696;for(let _0x344e50=0x26e*-0xb+0x1*0x1caa+0x7c*-0x4;_0x344e50<_0x23d696;_0x344e50++){const _0x2b141e=_0xa133b6[_0x344e50];_0x2b141e['visibleThi'+'sFrame']=!(0x5c3+-0x1a*-0x145+0x1362*-0x2),_0x1f5967&&df['push'](_0x2b141e),_0x2b141e['skinInstan'+'ce']&&ff['push'](_0x2b141e);}}if(_0x2dbbd6['_stats']['meshInstan'+'ces']=_0x4ecb06,_0x1f5967){const _0x21968c=!_0x2dbbd6['updateShad'+'ers']||!this['device']['_shadersDi'+'rty'];this['updateShad'+'ers'](df,_0x21968c),_0x2dbbd6['updateShad'+'ers']=!(-0x1e75+-0x1654+0x34ca),this['device']['_shadersDi'+'rty']=!(0x2458+0x29*-0x9a+-0xbad),_0x2dbbd6['_shaderVer'+'sion']++;}this['updateFram'+'eUniforms'](),this['updateCpuS'+'kinMatrice'+'s'](ff),df['length']=0x154a+0x487*-0x3+-0x7b5*0x1,ff['length']=-0x1687+0x1a9+-0x2*-0xa6f;const _0x31b300=this['lights'],_0x3ebc74=_0x31b300['length'];for(let _0x1542c5=0xf04+-0x6c2*-0x4+-0x1*0x2a0c;_0x1542c5<_0x3ebc74;_0x1542c5++)_0x31b300[_0x1542c5]['beginFrame']();}['updateLigh'+'tTextureAt'+'las'](){this['lightTextu'+'reAtlas']['update'](this['localLight'+'s'],this['scene']['lighting']);}['updateLaye'+'rCompositi'+'on'](_0x4cd4b0){const _0x451e8f=de(),_0x4c1dee=_0x4cd4b0['layerList']['length'],_0x575cd4=this['scene']['_shaderVer'+'sion'];for(let _0x367b6f=-0x42b+0x133*-0x2+0x691*0x1;_0x367b6f<_0x4c1dee;_0x367b6f++){const _0x3d02e1=_0x4cd4b0['layerList'][_0x367b6f];_0x3d02e1['_shaderVer'+'sion']=_0x575cd4,_0x3d02e1['_skipRende'+'rCounter']=0x421+0x4*-0x3c1+0x3a1*0x3,_0x3d02e1['_forwardDr'+'awCalls']=0x1*-0x1b84+-0x1fc*0x2+0x1f7c,_0x3d02e1['_shadowDra'+'wCalls']=-0x2*-0x128f+-0x8c4+-0x1c5a,_0x3d02e1['_renderTim'+'e']=-0x3*0x7+-0x8a1*-0x3+0x2de*-0x9;}_0x4cd4b0['_update'](),this['_layerComp'+'ositionUpd'+'ateTime']+=de()-_0x451e8f;}['frameUpdat'+'e'](){this['clustersDe'+'bugRendere'+'d']=!(-0x1a1a*0x1+0x7c*-0x2+0x1*0x1b13),this['initViewBi'+'ndGroupFor'+'mat'](this['scene']['clusteredL'+'ightingEna'+'bled']),this['dirLightSh'+'adows']['clear']();}}class Pv{constructor(){h(this,'camera',null),(this['layer']=null,this['transparen'+'t']=!(-0x1*-0x2476+-0x1438+-0x103d),this['renderTarg'+'et']=null,this['lightClust'+'ers']=null,this['clearColor']=!(0x1f92+-0x2*0x1247+-0x1*-0x4fd),this['clearDepth']=!(-0x2fd+-0x269b+0x17*0x1cf),this['clearStenc'+'il']=!(-0x72a+-0x1ae6+-0xb5b*-0x3),this['triggerPos'+'tprocess']=!(0x270e*0x1+0x4+0x89*-0x49),this['firstCamer'+'aUse']=!(0x1dc9*-0x1+0x8f3*0x1+-0x5*-0x42b),this['lastCamera'+'Use']=!(0xd18+-0x2*-0xfd1+-0x2cb9),this['viewBindGr'+'oups']=[],this['useCameraP'+'asses']=!(-0x2065+-0x1052*0x1+0x30b8));}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x5dd6c5=>{_0x5dd6c5['defaultUni'+'formBuffer']['destroy'](),_0x5dd6c5['destroy']();}),this['viewBindGr'+'oups']['length']=0x1*-0x158c+-0xac1+0x1*0x204d;}['setupClear'+'s'](_0x445519,_0x5950d6){this['clearColor']=(_0x445519==null?void(-0x21e2+0x623*-0x1+0x2805):_0x445519['clearColor'+'Buffer'])||_0x5950d6['clearColor'+'Buffer'],this['clearDepth']=(_0x445519==null?void(-0x1d7*-0x1+0xf63*-0x1+0xd8c):_0x445519['clearDepth'+'Buffer'])||_0x5950d6['clearDepth'+'Buffer'],this['clearStenc'+'il']=(_0x445519==null?void(0x19de+-0x13*-0xa9+-0x2669*0x1):_0x445519['clearStenc'+'ilBuffer'])||_0x5950d6['clearStenc'+'ilBuffer'];}}class Kb extends ys{constructor(_0x1b458c,_0xed88ab,_0x4537a3,_0x9dce2c){super(_0x1b458c),h(this,'layerCompo'+'sition'),h(this,'scene'),h(this,'renderer'),h(this,'renderActi'+'ons',[]),h(this,'gammaCorre'+'ction'),h(this,'toneMappin'+'g'),h(this,'noDepthCle'+'ar',!(-0x46d+-0x1*-0x70c+-0x29e)),(this['layerCompo'+'sition']=_0xed88ab,this['scene']=_0x4537a3,this['renderer']=_0x9dce2c);}get['rendersAny'+'thing'](){return this['renderActi'+'ons']['length']>0x1e69+-0x13cd+-0xa9c;}['addRenderA'+'ction'](_0x487fb4){this['renderActi'+'ons']['push'](_0x487fb4);}['addLayer'](_0x55c0c8,_0x41100f,_0x23bffd,_0x578f73=!(-0x1186+0xc*0x2f+0xf52)){w['assert'](_0x55c0c8),w['assert'](this['renderTarg'+'et']!==void(-0x23f1+0xa*-0x2bb+0x1*0x3f3f),'Render\x20pas'+'s\x20needs\x20to'+'\x20be\x20initia'+'lized\x20befo'+'re\x20adding\x20'+'layers'),w['assert'](_0x55c0c8['camera']['layersSet']['has'](_0x41100f['id']),'Camera\x20'+_0x55c0c8['entity']['name']+('\x20does\x20not\x20'+'render\x20lay'+'er\x20')+_0x41100f['name']+'.');const _0x5ed4e3=new Pv();if(_0x5ed4e3['renderTarg'+'et']=this['renderTarg'+'et'],_0x5ed4e3['camera']=_0x55c0c8,_0x5ed4e3['layer']=_0x41100f,_0x5ed4e3['transparen'+'t']=_0x23bffd,_0x578f73){const _0x1e63b7=this['renderActi'+'ons']['length']===-0x868+-0x16f6+0x1f5e;_0x5ed4e3['setupClear'+'s'](_0x1e63b7?_0x55c0c8:void(0x67b+-0xab5*-0x2+-0x1be5),_0x41100f);}this['addRenderA'+'ction'](_0x5ed4e3);}['addLayers'](_0x513cd5,_0x5532ba,_0x321868,_0x142320,_0x51651c,_0x5b5d1d=!(0x2148+-0x19e0+-0x768)){const {layerList:_0x3e5719,subLayerList:_0x182256}=_0x513cd5;let _0x33b8ca=_0x142320,_0x2005ab=_0x321868;for(;_0x2005ab<_0x3e5719['length'];){const _0x3c6cec=_0x3e5719[_0x2005ab],_0x51cb4a=_0x182256[_0x2005ab];if(_0x5532ba['camera']['layersSet']['has'](_0x3c6cec['id'])&&(this['addLayer'](_0x5532ba,_0x3c6cec,_0x51cb4a,_0x33b8ca),_0x33b8ca=!(0x2*-0x12e6+0x6*-0x87+-0x1*-0x28f7)),_0x2005ab++,_0x3c6cec['id']===_0x51651c&&_0x51cb4a===_0x5b5d1d)break;}return _0x2005ab;}['updateDire'+'ctionalSha'+'dows'](){const {renderer:_0x26d528,renderActions:_0x4c4456}=this;for(let _0x4acada=-0x2dd*0xd+-0x91*0xe+0x1*0x2d27;_0x4acada<_0x4c4456['length'];_0x4acada++){const _0xdddda3=_0x4c4456[_0x4acada]['camera']['camera'],_0x564dc9=this['renderer']['cameraDirS'+'hadowLight'+'s']['get'](_0xdddda3);if(_0x564dc9)for(let _0xc21563=-0x6e6+0x165d*0x1+-0xf77;_0xc21563<_0x564dc9['length'];_0xc21563++){const _0x290566=_0x564dc9[_0xc21563];if(_0x26d528['dirLightSh'+'adows']['get'](_0x290566)!==_0xdddda3){_0x26d528['dirLightSh'+'adows']['set'](_0x290566,_0xdddda3);const _0x3001da=_0x26d528['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x290566,_0xdddda3);_0x3001da&&this['beforePass'+'es']['push'](_0x3001da);}}}}['updateClea'+'rs'](){const _0x1457a2=this['renderActi'+'ons'][0x1*0xe7+-0x1*-0xa5d+-0x4*0x2d1];if(_0x1457a2){const _0x5122df=_0x1457a2['camera']['camera'],_0x184141=_0x5122df['fullSizeCl'+'earRect'];this['setClearCo'+'lor'](_0x184141&&_0x1457a2['clearColor']?_0x5122df['clearColor']:void(0x1c18+0x4ac*-0x2+-0x12c0)),this['setClearDe'+'pth'](_0x184141&&_0x1457a2['clearDepth']&&!this['noDepthCle'+'ar']?_0x5122df['clearDepth']:void(0x2022+0x97*-0x39+0x17d)),this['setClearSt'+'encil'](_0x184141&&_0x1457a2['clearStenc'+'il']?_0x5122df['clearStenc'+'il']:void(-0x74*-0x8+0x4ab+0x1*-0x84b));}}['frameUpdat'+'e'](){super['frameUpdat'+'e'](),this['updateDire'+'ctionalSha'+'dows'](),this['updateClea'+'rs']();}['before'](){const {renderActions:_0x2c76c3}=this;for(let _0x5b4260=0x4a8*0x2+-0x27*-0x8b+0x45b*-0x7;_0x5b4260<_0x2c76c3['length'];_0x5b4260++){const _0x5910fe=_0x2c76c3[_0x5b4260];_0x5910fe['firstCamer'+'aUse']&&this['scene']['fire'](rE,_0x5910fe['camera']);}}['execute'](){const {layerComposition:_0x12455a,renderActions:_0x163e5a}=this;for(let _0x3a23ba=-0x7fd+0x1f12+-0x13*0x137;_0x3a23ba<_0x163e5a['length'];_0x3a23ba++){const _0xe4d24b=_0x163e5a[_0x3a23ba],_0x2a0835=_0xe4d24b['layer'];w['call'](()=>{_0x12455a['getLayerBy'+'Name'](_0x2a0835['name'])||w['warnOnce']('Layer\x20'+_0x2a0835['name']+('\x20is\x20not\x20fo'+'und\x20in\x20the'+'\x20scene\x20and'+'\x20will\x20not\x20'+'be\x20rendere'+'d.\x20Your\x20re'+'nder\x20pass\x20'+'setup\x20migh'+'t\x20need\x20to\x20'+'be\x20updated'+'.'));}),_0x12455a['isEnabled'](_0x2a0835,_0xe4d24b['transparen'+'t'])&&this['renderRend'+'erAction'](_0xe4d24b,_0x3a23ba===0x3*0xc36+0x23*0xbe+-0x3e9c);}}['after'](){for(let _0x5c5aa5=0xc9b+-0xc25+-0x76;_0x5c5aa5<this['renderActi'+'ons']['length'];_0x5c5aa5++){const _0x54d8bc=this['renderActi'+'ons'][_0x5c5aa5];_0x54d8bc['lastCamera'+'Use']&&this['scene']['fire'](aE,_0x54d8bc['camera']);}this['beforePass'+'es']['length']=-0x1c96+-0x412+0x20a8;}['renderRend'+'erAction'](_0x6a2799,_0x436bfd){var _0x36a638;const {renderer:_0x13a650,scene:_0x611c24}=this,_0x431868=_0x13a650['device'],{layer:_0xd19026,transparent:_0x2652b8,camera:_0x934853}=_0x6a2799;Q['pushGpuMar'+'ker'](this['device'],'Camera:\x20'+(_0x934853?_0x934853['entity']['name']:'Unnamed')+',\x20Layer:\x20'+_0xd19026['name']+'('+(_0x2652b8?'TRANSP':'OPAQUE')+')');const _0x486eae=de();if(_0x934853){const _0x5023db=_0x934853['gammaCorre'+'ction'],_0x29e5d1=_0x934853['toneMappin'+'g'];this['gammaCorre'+'ction']!==void(0x1d*0xad+0x2052+-0x33eb)&&(_0x934853['gammaCorre'+'ction']=this['gammaCorre'+'ction']),this['toneMappin'+'g']!==void(-0xc*0x1b4+-0x8*-0x338+-0x550)&&(_0x934853['toneMappin'+'g']=this['toneMappin'+'g']),_0x611c24['fire'](nE,_0x934853,_0xd19026,_0x2652b8);const _0x3bf8dd={'lightClusters':_0x6a2799['lightClust'+'ers']},_0x139c83=((_0x36a638=_0x934853['camera']['shaderPass'+'Info'])==null?void(-0x15c1*-0x1+0xb86+-0x1*0x2147):_0x36a638['index'])??Aa;(!_0x436bfd||!_0x934853['camera']['fullSizeCl'+'earRect'])&&(_0x3bf8dd['clearColor']=_0x6a2799['clearColor'],_0x3bf8dd['clearDepth']=_0x6a2799['clearDepth'],_0x3bf8dd['clearStenc'+'il']=_0x6a2799['clearStenc'+'il']);const _0x1fd7f7=_0x6a2799['renderTarg'+'et']??_0x431868['backBuffer'];_0x13a650['renderForw'+'ardLayer'](_0x934853['camera'],_0x1fd7f7,_0xd19026,_0x2652b8,_0x139c83,_0x6a2799['viewBindGr'+'oups'],_0x3bf8dd),_0x431868['setBlendSt'+'ate'](pt['NOBLEND']),_0x431868['setStencil'+'State'](null,null),_0x431868['setAlphaTo'+'Coverage'](!(-0x2225*0x1+0x6e+0x21b8)),_0x611c24['fire'](oE,_0x934853,_0xd19026,_0x2652b8),this['gammaCorre'+'ction']!==void(0x638+-0x3d1*-0x1+-0x1*0xa09)&&(_0x934853['gammaCorre'+'ction']=_0x5023db),this['toneMappin'+'g']!==void(0x1d86+-0x252+-0x1b34)&&(_0x934853['toneMappin'+'g']=_0x29e5d1);}Q['popGpuMark'+'er'](this['device']),_0xd19026['_renderTim'+'e']+=de()-_0x486eae;}['log'](_0x43ef9a,_0x5e5ba8){if(super['log'](_0x43ef9a,_0x5e5ba8),mi['get'](cn)){const {layerComposition:_0x21ffce}=this;this['renderActi'+'ons']['forEach']((_0x3571c6,_0x17752c)=>{const _0x263e6f=_0x3571c6['layer'],_0x2a4066=_0x263e6f['enabled']&&_0x21ffce['isEnabled'](_0x263e6f,_0x3571c6['transparen'+'t']),_0x218e13=_0x3571c6['camera'];w['trace'](cn,'\x20\x20\x20\x20'+_0x17752c+':'+('\x20Cam:\x20'+(_0x218e13?_0x218e13['entity']['name']:'-'))['padEnd'](0x23b2+0x15e3+-0x397f,'\x20')+('\x20Lay:\x20'+_0x263e6f['name'])['padEnd'](-0x748+0xb5*0x1+0x6a9,'\x20')+(_0x3571c6['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x2a4066?'\x20ENABLED':'\x20DISABLED')+('\x20Meshes:\x20'+_0x263e6f['meshInstan'+'ces']['length'])['padEnd'](0xb*-0x322+0x1de2+-0xb*-0x6b,'\x20'));});}}}class Zb extends ys{constructor(_0x28fcdc,_0x5aff84,_0x331b49){super(_0x28fcdc),this['renderer']=_0x5aff84,this['renderActi'+'on']=_0x331b49,this['requiresCu'+'bemaps']=!(-0x9*-0x24d+-0x15cc+0x118);}['execute'](){const _0x4ba495=this['renderActi'+'on'],_0x390f06=_0x4ba495['camera'];w['assert'](_0x4ba495['triggerPos'+'tprocess']&&_0x390f06['onPostproc'+'essing']),_0x390f06['onPostproc'+'essing']();}}const Qb=[[],[],[]],or=new ie(),Nr={'drawCalls':[],'shaderInstances':[],'isNewMaterial':[],'lightMaskChanged':[],'clear':function(){this['drawCalls']['length']=0x26bb+0x11*-0x136+-0x1225*0x1,this['shaderInst'+'ances']['length']=0xa*0x2eb+-0x33*0xb6+0x25c*0x3,this['isNewMater'+'ial']['length']=0x23dd+-0x28*-0xf2+0x49ad*-0x1,this['lightMaskC'+'hanged']['length']=0x1*-0x7ff+-0x4e1*0x2+0x9*0x1f9;}};function Jb(_0x17f746){const _0xd70014=[];for(let _0x53f4d2=0xe*-0x20b+-0x1168+0x2*0x1701;_0x53f4d2<_0x17f746;++_0x53f4d2){const _0x190a63=Math['sqrt'](_0x53f4d2+(-0xa02+-0xace*0x1+-0x1*-0x14d0+0.5))/Math['sqrt'](_0x17f746);_0xd70014['push'](_0x190a63);}return _0xd70014;}function eA(_0x1984c8){const _0x2e5a82=[];for(let _0x202f60=0x1480+0x2*0x94d+-0x271a;_0x202f60<_0x1984c8;_0x202f60++){const _0x340ec9=_0x202f60/_0x1984c8,_0x347c23=Math['sqrt'](_0x340ec9*_0x340ec9);_0x2e5a82['push'](_0x347c23);}return _0x2e5a82;}const Ni=class Ni extends Yb{constructor(_0x29ea5d){super(_0x29ea5d);const _0x159b4b=this['device'];this['_forwardDr'+'awCalls']=0x24cb+0x29*0x1d+-0x2970,this['_materialS'+'witches']=-0x95d*-0x3+-0x29f+0xcbc*-0x2,this['_depthMapT'+'ime']=0xc*0x95+-0xd51+0x655,this['_forwardTi'+'me']=-0x7*0x38b+-0x2357*-0x1+-0x8e*0x13,this['_sortTime']=0x23ba+0x7*0x1c9+-0x9a5*0x5;const _0x378f16=_0x159b4b['scope'];this['fogColorId']=_0x378f16['resolve']('fog_color'),this['fogStartId']=_0x378f16['resolve']('fog_start'),this['fogEndId']=_0x378f16['resolve']('fog_end'),this['fogDensity'+'Id']=_0x378f16['resolve']('fog_densit'+'y'),this['ambientId']=_0x378f16['resolve']('light_glob'+'alAmbient'),this['skyboxInte'+'nsityId']=_0x378f16['resolve']('skyboxInte'+'nsity'),this['cubeMapRot'+'ationMatri'+'xId']=_0x378f16['resolve']('cubeMapRot'+'ationMatri'+'x'),this['pcssDiskSa'+'mplesId']=_0x378f16['resolve']('pcssDiskSa'+'mples[0]'),this['pcssSphere'+'SamplesId']=_0x378f16['resolve']('pcssSphere'+'Samples[0]'),this['lightColor'+'Id']=[],this['lightDir']=[],this['lightDirId']=[],this['lightShado'+'wMapId']=[],this['lightShado'+'wMatrixId']=[],this['lightShado'+'wParamsId']=[],this['lightShado'+'wIntensity']=[],this['lightRadiu'+'sId']=[],this['lightPos']=[],this['lightPosId']=[],this['lightWidth']=[],this['lightWidth'+'Id']=[],this['lightHeigh'+'t']=[],this['lightHeigh'+'tId']=[],this['lightInAng'+'leId']=[],this['lightOutAn'+'gleId']=[],this['lightCooki'+'eId']=[],this['lightCooki'+'eIntId']=[],this['lightCooki'+'eMatrixId']=[],this['lightCooki'+'eOffsetId']=[],this['lightShado'+'wSearchAre'+'aId']=[],this['lightCamer'+'aParamsId']=[],this['lightSoftS'+'hadowParam'+'sId']=[],this['shadowMatr'+'ixPaletteI'+'d']=[],this['shadowCasc'+'adeDistanc'+'esId']=[],this['shadowCasc'+'adeCountId']=[],this['shadowCasc'+'adeBlendId']=[],this['screenSize'+'Id']=_0x378f16['resolve']('uScreenSiz'+'e'),this['_screenSiz'+'e']=new Float32Array(-0x2289+0x65b*-0x5+0x1095*0x4),this['fogColor']=new Float32Array(-0x58+0xfac+-0xf51*0x1),this['ambientCol'+'or']=new Float32Array(-0x1069*0x2+-0x125*0x1+0x10fd*0x2),this['pcssDiskSa'+'mples']=Jb(-0x512+0xea7+-0x985),this['pcssSphere'+'Samples']=eA(0x31*0x36+0xf33*-0x1+0x4ed);}['destroy'](){super['destroy']();}['dispatchGl'+'obalLights'](_0xcb75f5){const _0x1a1799=this['ambientCol'+'or'];if(or['linear'](_0xcb75f5['ambientLig'+'ht']),_0x1a1799[-0xe65+-0xf2*-0x25+-0x1495]=or['r'],_0x1a1799[0xb*-0x3+0x48+-0x26]=or['g'],_0x1a1799[0xa3*0x22+-0x5*0x1db+-0xc5d*0x1]=or['b'],_0xcb75f5['physicalUn'+'its']){for(let _0x58378d=0xd3*0x19+0x7*-0x422+0x853;_0x58378d<-0x3*0x713+-0x1b65*-0x1+-0x629;_0x58378d++)_0x1a1799[_0x58378d]*=_0xcb75f5['ambientLum'+'inance'];}this['ambientId']['setValue'](_0x1a1799),this['skyboxInte'+'nsityId']['setValue'](_0xcb75f5['physicalUn'+'its']?_0xcb75f5['skyboxLumi'+'nance']:_0xcb75f5['skyboxInte'+'nsity']),this['cubeMapRot'+'ationMatri'+'xId']['setValue'](_0xcb75f5['_skyboxRot'+'ationMat3']['data']);}['_resolveLi'+'ght'](_0x22bc31,_0xf6c0cc){const _0x2f9743='light'+_0xf6c0cc;this['lightColor'+'Id'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+'_color'),this['lightDir'][_0xf6c0cc]=new Float32Array(0xe40*0x1+-0xee*-0x24+-0x2fb5),this['lightDirId'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+'_direction'),this['lightShado'+'wMapId'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+'_shadowMap'),this['lightShado'+'wMatrixId'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+('_shadowMat'+'rix')),this['lightShado'+'wParamsId'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+('_shadowPar'+'ams')),this['lightShado'+'wIntensity'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+('_shadowInt'+'ensity')),this['lightShado'+'wSearchAre'+'aId'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+('_shadowSea'+'rchArea')),this['lightRadiu'+'sId'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+'_radius'),this['lightPos'][_0xf6c0cc]=new Float32Array(-0x1998+-0x1*-0x14bd+0x1*0x4de),this['lightPosId'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+'_position'),this['lightWidth'][_0xf6c0cc]=new Float32Array(-0x256*-0x6+0x3d*0x8f+-0x3014),this['lightWidth'+'Id'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+'_halfWidth'),this['lightHeigh'+'t'][_0xf6c0cc]=new Float32Array(-0x43*-0x61+0x143f+-0x2d9f),this['lightHeigh'+'tId'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+('_halfHeigh'+'t')),this['lightInAng'+'leId'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+('_innerCone'+'Angle')),this['lightOutAn'+'gleId'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+('_outerCone'+'Angle')),this['lightCooki'+'eId'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+'_cookie'),this['lightCooki'+'eIntId'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+('_cookieInt'+'ensity')),this['lightCooki'+'eMatrixId'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+('_cookieMat'+'rix')),this['lightCooki'+'eOffsetId'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+('_cookieOff'+'set')),this['lightCamer'+'aParamsId'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+('_cameraPar'+'ams')),this['lightSoftS'+'hadowParam'+'sId'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+('_softShado'+'wParams')),this['shadowMatr'+'ixPaletteI'+'d'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+('_shadowMat'+'rixPalette'+'[0]')),this['shadowCasc'+'adeDistanc'+'esId'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+('_shadowCas'+'cadeDistan'+'ces')),this['shadowCasc'+'adeCountId'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+('_shadowCas'+'cadeCount')),this['shadowCasc'+'adeBlendId'][_0xf6c0cc]=_0x22bc31['resolve'](_0x2f9743+('_shadowCas'+'cadeBlend'));}['setLTCDire'+'ctionalLig'+'ht'](_0x303c4a,_0x3f624a,_0x287990,_0x585c26,_0x2a1277){this['lightPos'][_0x3f624a][0x1*0x39b+0x11*-0x245+0x22fa]=_0x585c26['x']-_0x287990['x']*_0x2a1277,this['lightPos'][_0x3f624a][0x23d5+-0x206a+-0x36a]=_0x585c26['y']-_0x287990['y']*_0x2a1277,this['lightPos'][_0x3f624a][0x147*0x2+-0x5*-0x296+-0xf7a]=_0x585c26['z']-_0x287990['z']*_0x2a1277,this['lightPosId'][_0x3f624a]['setValue'](this['lightPos'][_0x3f624a]);const _0x133e2e=_0x303c4a['transformV'+'ector'](new D(-(0x1*-0x1a1d+0x6e6+0x1*0x1337+0.5),-0x163a*0x1+0x4*-0x73b+0x2*0x1993,-0x1197*0x1+0x4eb+-0xcac*-0x1));this['lightWidth'][_0x3f624a][-0x3*0x3be+-0xf19+0x1a53]=_0x133e2e['x']*_0x2a1277,this['lightWidth'][_0x3f624a][0x11*-0xed+0x9a3*0x1+0x61b*0x1]=_0x133e2e['y']*_0x2a1277,this['lightWidth'][_0x3f624a][0x19c6+-0x7*-0x455+-0xad*0x53]=_0x133e2e['z']*_0x2a1277,this['lightWidth'+'Id'][_0x3f624a]['setValue'](this['lightWidth'][_0x3f624a]);const _0x59a0d1=_0x303c4a['transformV'+'ector'](new D(0x872+-0x4b1*-0x3+0x1685*-0x1,0x37c*0x2+-0x23d6+0xa*0x2e3,-0x19c5*0x1+-0x2f5*0x5+0x1*0x288e+0.5));this['lightHeigh'+'t'][_0x3f624a][0x26b6+0x1*0xce3+-0x25*0x165]=_0x59a0d1['x']*_0x2a1277,this['lightHeigh'+'t'][_0x3f624a][0x11b7*-0x1+0x1*-0x1e93+0x304b]=_0x59a0d1['y']*_0x2a1277,this['lightHeigh'+'t'][_0x3f624a][0x2372*0x1+-0xe1*0x4+-0x6*0x552]=_0x59a0d1['z']*_0x2a1277,this['lightHeigh'+'tId'][_0x3f624a]['setValue'](this['lightHeigh'+'t'][_0x3f624a]);}['dispatchDi'+'rectLights'](_0x3b4fe0,_0x3d6e50,_0x9697b9){let _0x26f5ec=0x9*-0x3+-0x9*0x171+0xd14;const _0x5b1844=this['device']['scope'];for(let _0x6cbad=0x247b+-0x1*0xc47+-0x1*0x1834;_0x6cbad<_0x3b4fe0['length'];_0x6cbad++){if(!(_0x3b4fe0[_0x6cbad]['mask']&_0x3d6e50))continue;const _0x10e9b5=_0x3b4fe0[_0x6cbad],_0x14d5ef=_0x10e9b5['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x26f5ec]||this['_resolveLi'+'ght'](_0x5b1844,_0x26f5ec),this['lightColor'+'Id'][_0x26f5ec]['setValue'](_0x10e9b5['_colorLine'+'ar']),_0x14d5ef['getY'](_0x10e9b5['_direction'])['mulScalar'](-(-0x9*-0xd9+-0x308*0x3+0x178)),_0x10e9b5['_direction']['normalize'](),this['lightDir'][_0x26f5ec][0x2*0x30a+-0x969+0x355]=_0x10e9b5['_direction']['x'],this['lightDir'][_0x26f5ec][-0x8e*0x1+-0x155b+0x15ea]=_0x10e9b5['_direction']['y'],this['lightDir'][_0x26f5ec][-0x1*0x22e1+-0x370*0xa+0x4543]=_0x10e9b5['_direction']['z'],this['lightDirId'][_0x26f5ec]['setValue'](this['lightDir'][_0x26f5ec]),_0x10e9b5['shape']!==Ys&&this['setLTCDire'+'ctionalLig'+'ht'](_0x14d5ef,_0x26f5ec,_0x10e9b5['_direction'],_0x9697b9['_node']['getPositio'+'n'](),_0x9697b9['farClip']),_0x10e9b5['castShadow'+'s']){const _0x3a21bc=_0x10e9b5['getRenderD'+'ata'](_0x9697b9,-0x5*-0x437+-0x1*0x208d+0x1*0xb7a),_0x15773d=_0x10e9b5['_getUnifor'+'mBiasValue'+'s'](_0x3a21bc);this['lightShado'+'wMapId'][_0x26f5ec]['setValue'](_0x3a21bc['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x26f5ec]['setValue'](_0x3a21bc['shadowMatr'+'ix']['data']),this['shadowMatr'+'ixPaletteI'+'d'][_0x26f5ec]['setValue'](_0x10e9b5['_shadowMat'+'rixPalette']),this['shadowCasc'+'adeDistanc'+'esId'][_0x26f5ec]['setValue'](_0x10e9b5['_shadowCas'+'cadeDistan'+'ces']),this['shadowCasc'+'adeCountId'][_0x26f5ec]['setValue'](_0x10e9b5['numCascade'+'s']),this['shadowCasc'+'adeBlendId'][_0x26f5ec]['setValue'](0x1dc8+0x1e8*-0x10+0x1*0xb9-_0x10e9b5['cascadeBle'+'nd']),this['lightShado'+'wIntensity'][_0x26f5ec]['setValue'](_0x10e9b5['shadowInte'+'nsity']),this['lightSoftS'+'hadowParam'+'sId'][_0x26f5ec]['setValue'](_0x10e9b5['_softShado'+'wParams']),_0x3a21bc['shadowCame'+'ra']['renderTarg'+'et']&&this['lightShado'+'wSearchAre'+'aId'][_0x26f5ec]['setValue'](_0x10e9b5['penumbraSi'+'ze']/_0x3a21bc['shadowCame'+'ra']['renderTarg'+'et']['width']*_0x3a21bc['projection'+'Compensati'+'on']);const _0x1877ce=_0x10e9b5['_shadowCam'+'eraParams'];_0x1877ce['length']=0x1a74*-0x1+-0x4f*0x2f+-0x1*-0x28f9,_0x1877ce[-0xf1+-0x117*0x3+-0x1*-0x436]=-0x2a9*0x7+0x1c4e+-0x9af*0x1,_0x1877ce[-0x10c0+0x226f+0x1f*-0x92]=_0x3a21bc['shadowCame'+'ra']['_farClip'],_0x1877ce[0xac1*-0x2+-0x1328+0x28ac]=_0x3a21bc['shadowCame'+'ra']['_nearClip'],_0x1877ce[0x36d+0x59*0x3b+0xf5*-0x19]=-0x1d96+-0x1bff+0x3996,this['lightCamer'+'aParamsId'][_0x26f5ec]['setValue'](_0x1877ce);const _0xafd52=_0x10e9b5['_shadowRen'+'derParams'];_0xafd52['length']=-0x1d06+-0x1041*0x2+0x3d8c,_0xafd52[-0x163a+0x2438+-0xdfe]=_0x10e9b5['_shadowRes'+'olution'],_0xafd52[0x19a1+-0x19a*0x1+0x1e*-0xcd]=_0x15773d['normalBias'],_0xafd52[-0xebb+0x1f*0x11b+-0x1388]=_0x15773d['bias'],_0xafd52[-0x577+-0x20fb+0x2675]=-0xced+0x1720+-0xa33,this['lightShado'+'wParamsId'][_0x26f5ec]['setValue'](_0xafd52);}_0x26f5ec++;}return _0x26f5ec;}['setLTCPosi'+'tionalLigh'+'t'](_0x1ee90e,_0x2ed802){const _0x27c134=_0x1ee90e['transformV'+'ector'](new D(-(0x5bd*0x3+0x842+0x1979*-0x1+0.5),-0x2f8+-0x1b8*-0xf+-0x16d0*0x1,-0x1*-0x1935+0x117d+-0x2ab2*0x1));this['lightWidth'][_0x2ed802][0x1c8e+-0x21c0+0x5f*0xe]=_0x27c134['x'],this['lightWidth'][_0x2ed802][-0x107a+-0x1bc+0x1237]=_0x27c134['y'],this['lightWidth'][_0x2ed802][-0x531+0x3*-0xc7+-0xf1*-0x8]=_0x27c134['z'],this['lightWidth'+'Id'][_0x2ed802]['setValue'](this['lightWidth'][_0x2ed802]);const _0x63168d=_0x1ee90e['transformV'+'ector'](new D(-0xa40+0x2*0xb08+-0xbd0,0x6*0x364+-0x20d1+0xc79*0x1,-0x1fcd*0x1+0xe6f+0x115e+0.5));this['lightHeigh'+'t'][_0x2ed802][0xbd1+0x246f+0x1820*-0x2]=_0x63168d['x'],this['lightHeigh'+'t'][_0x2ed802][-0x8b6*-0x4+-0x1a8+-0x212f]=_0x63168d['y'],this['lightHeigh'+'t'][_0x2ed802][-0x252f+-0x7d4+-0x1cd*-0x19]=_0x63168d['z'],this['lightHeigh'+'tId'][_0x2ed802]['setValue'](this['lightHeigh'+'t'][_0x2ed802]);}['dispatchOm'+'niLight'](_0x8e4720,_0xa7ee32,_0x4ee262){const _0x400f3c=_0xa7ee32['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x4ee262]||this['_resolveLi'+'ght'](_0x8e4720,_0x4ee262),this['lightRadiu'+'sId'][_0x4ee262]['setValue'](_0xa7ee32['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x4ee262]['setValue'](_0xa7ee32['_colorLine'+'ar']),_0x400f3c['getTransla'+'tion'](_0xa7ee32['_position']),this['lightPos'][_0x4ee262][0xc*0xd7+0xb05+-0xb*0x1eb]=_0xa7ee32['_position']['x'],this['lightPos'][_0x4ee262][-0x234f+-0x32e*0x7+0x3992]=_0xa7ee32['_position']['y'],this['lightPos'][_0x4ee262][0xada+-0x8a7+0x231*-0x1]=_0xa7ee32['_position']['z'],this['lightPosId'][_0x4ee262]['setValue'](this['lightPos'][_0x4ee262]),_0xa7ee32['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0x400f3c,_0x4ee262),_0xa7ee32['castShadow'+'s']){const _0x18055a=_0xa7ee32['getRenderD'+'ata'](null,0x1*-0x817+0x1f63*-0x1+0x277a);this['lightShado'+'wMapId'][_0x4ee262]['setValue'](_0x18055a['shadowBuff'+'er']);const _0x22ce09=_0xa7ee32['_getUnifor'+'mBiasValue'+'s'](_0x18055a),_0x220ac3=_0xa7ee32['_shadowRen'+'derParams'];_0x220ac3['length']=0x16*0xe5+-0x1*-0xe4e+-0x21f8,_0x220ac3[-0xfa9+0x1d9a+-0xdf1]=_0xa7ee32['_shadowRes'+'olution'],_0x220ac3[-0x13b8+0x1f2a+0xb71*-0x1]=_0x22ce09['normalBias'],_0x220ac3[0x797+0x67a*-0x1+-0x11b]=_0x22ce09['bias'],_0x220ac3[0x1c59*-0x1+0x20c5+-0x469]=(-0x1dff*0x1+-0x1*-0x19cf+0x431)/_0xa7ee32['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x4ee262]['setValue'](_0x220ac3),this['lightShado'+'wIntensity'][_0x4ee262]['setValue'](_0xa7ee32['shadowInte'+'nsity']);const _0x42cd02=_0xa7ee32['penumbraSi'+'ze']/_0x18055a['shadowCame'+'ra']['renderTarg'+'et']['width'];this['lightShado'+'wSearchAre'+'aId'][_0x4ee262]['setValue'](_0x42cd02);const _0x4553c9=_0xa7ee32['_shadowCam'+'eraParams'];_0x4553c9['length']=-0x59+0x1aa6+-0x1a49,_0x4553c9[0x26*0x9+-0x3*0x633+0x1143]=-0xfc7+0x1ed*0x9+-0x18e,_0x4553c9[-0x1373+0x2*-0xfb5+0x32de]=_0x18055a['shadowCame'+'ra']['_farClip'],_0x4553c9[0x2*0x1a5+-0x137+-0x17*0x17]=_0x18055a['shadowCame'+'ra']['_nearClip'],_0x4553c9[-0x19*-0xf3+0x71e+-0x1ed6*0x1]=0x26b*0x10+-0x13e2+-0x12ce,this['lightCamer'+'aParamsId'][_0x4ee262]['setValue'](_0x4553c9);}_0xa7ee32['_cookie']&&(this['lightCooki'+'eId'][_0x4ee262]['setValue'](_0xa7ee32['_cookie']),this['lightShado'+'wMatrixId'][_0x4ee262]['setValue'](_0x400f3c['data']),this['lightCooki'+'eIntId'][_0x4ee262]['setValue'](_0xa7ee32['cookieInte'+'nsity']));}['dispatchSp'+'otLight'](_0x2e058a,_0x3964a4,_0x2be034){const _0xbc70c1=_0x3964a4['_node']['getWorldTr'+'ansform']();if(this['lightColor'+'Id'][_0x2be034]||this['_resolveLi'+'ght'](_0x2e058a,_0x2be034),this['lightInAng'+'leId'][_0x2be034]['setValue'](_0x3964a4['_innerCone'+'AngleCos']),this['lightOutAn'+'gleId'][_0x2be034]['setValue'](_0x3964a4['_outerCone'+'AngleCos']),this['lightRadiu'+'sId'][_0x2be034]['setValue'](_0x3964a4['attenuatio'+'nEnd']),this['lightColor'+'Id'][_0x2be034]['setValue'](_0x3964a4['_colorLine'+'ar']),_0xbc70c1['getTransla'+'tion'](_0x3964a4['_position']),this['lightPos'][_0x2be034][-0x1e99*-0x1+-0x1*-0x245f+-0x2*0x217c]=_0x3964a4['_position']['x'],this['lightPos'][_0x2be034][0x1a*0xa7+0x5*0x7b9+0x3792*-0x1]=_0x3964a4['_position']['y'],this['lightPos'][_0x2be034][0xf0*-0x23+0x579*0x4+0xaee]=_0x3964a4['_position']['z'],this['lightPosId'][_0x2be034]['setValue'](this['lightPos'][_0x2be034]),_0x3964a4['shape']!==Ys&&this['setLTCPosi'+'tionalLigh'+'t'](_0xbc70c1,_0x2be034),_0xbc70c1['getY'](_0x3964a4['_direction'])['mulScalar'](-(-0xb7a+-0x123*-0x1b+-0x1336)),_0x3964a4['_direction']['normalize'](),this['lightDir'][_0x2be034][-0x644*-0x1+0x25b*-0xd+0x185b]=_0x3964a4['_direction']['x'],this['lightDir'][_0x2be034][-0x1*0x9a7+0xb7e+-0x1d6]=_0x3964a4['_direction']['y'],this['lightDir'][_0x2be034][0x8f2+0x248b*0x1+-0x2d7b]=_0x3964a4['_direction']['z'],this['lightDirId'][_0x2be034]['setValue'](this['lightDir'][_0x2be034]),_0x3964a4['castShadow'+'s']){const _0x4d8cfc=_0x3964a4['getRenderD'+'ata'](null,0x1*-0x121d+0x8f3+0x92a);this['lightShado'+'wMapId'][_0x2be034]['setValue'](_0x4d8cfc['shadowBuff'+'er']),this['lightShado'+'wMatrixId'][_0x2be034]['setValue'](_0x4d8cfc['shadowMatr'+'ix']['data']);const _0x30b1c7=_0x3964a4['_getUnifor'+'mBiasValue'+'s'](_0x4d8cfc),_0x32596c=_0x3964a4['_shadowRen'+'derParams'];_0x32596c['length']=-0x1a9f+-0xe11*-0x1+0xc92*0x1,_0x32596c[-0x33a*-0x9+0xbb5+-0x28bf]=_0x3964a4['_shadowRes'+'olution'],_0x32596c[0x1665+-0x25ec+0xf88]=_0x30b1c7['normalBias'],_0x32596c[0x2dd*-0xb+-0x1*-0x829+0x1758]=_0x30b1c7['bias'],_0x32596c[-0x1c*-0x4c+-0x1*-0x8dd+-0x112a]=(-0x23c5+-0x1*-0xaa9+0x191d)/_0x3964a4['attenuatio'+'nEnd'],this['lightShado'+'wParamsId'][_0x2be034]['setValue'](_0x32596c),this['lightShado'+'wIntensity'][_0x2be034]['setValue'](_0x3964a4['shadowInte'+'nsity']);const _0x337d11=_0x3964a4['penumbraSi'+'ze']/_0x4d8cfc['shadowCame'+'ra']['renderTarg'+'et']['width'],_0x50908b=_0x4d8cfc['shadowCame'+'ra']['_fov']*Math['PI']/(-0x113f+-0x356+0x1549),_0x139bee=(0xb*0x258+-0x72b*0x5+0xa10)/Math['tan'](_0x50908b/(-0xb*0x8b+0x12c+0x4cf));this['lightShado'+'wSearchAre'+'aId'][_0x2be034]['setValue'](_0x337d11*_0x139bee);const _0x3544c7=_0x3964a4['_shadowCam'+'eraParams'];_0x3544c7['length']=-0x1457+0x244d+-0xff2,_0x3544c7[-0x1f0d+0x40a+0x3*0x901]=-0x67*-0x16+0x265b+0x1*-0x2f35,_0x3544c7[-0x1*-0x1039+-0x214+-0xe24]=_0x4d8cfc['shadowCame'+'ra']['_farClip'],_0x3544c7[-0x1950+-0x1*0x89+0x19db]=_0x4d8cfc['shadowCame'+'ra']['_nearClip'],_0x3544c7[0x1dac+0x1992+-0x373b]=0x114a+-0x2*0x328+0x119*-0xa,this['lightCamer'+'aParamsId'][_0x2be034]['setValue'](_0x3544c7);}if(_0x3964a4['_cookie']){if(!_0x3964a4['castShadow'+'s']){const _0x2fa77c=Wn['evalSpotCo'+'okieMatrix'](_0x3964a4);this['lightShado'+'wMatrixId'][_0x2be034]['setValue'](_0x2fa77c['data']);}this['lightCooki'+'eId'][_0x2be034]['setValue'](_0x3964a4['_cookie']),this['lightCooki'+'eIntId'][_0x2be034]['setValue'](_0x3964a4['cookieInte'+'nsity']),_0x3964a4['_cookieTra'+'nsform']&&(_0x3964a4['_cookieTra'+'nsformUnif'+'orm'][0x1272+-0x1*-0xbdc+-0x1e4e]=_0x3964a4['_cookieTra'+'nsform']['x'],_0x3964a4['_cookieTra'+'nsformUnif'+'orm'][-0x6*0x55d+-0x845*-0x3+-0x20*-0x3b]=_0x3964a4['_cookieTra'+'nsform']['y'],_0x3964a4['_cookieTra'+'nsformUnif'+'orm'][0xf57+0x181c+-0x2771*0x1]=_0x3964a4['_cookieTra'+'nsform']['z'],_0x3964a4['_cookieTra'+'nsformUnif'+'orm'][0x1*0x899+-0x4a+-0x84c]=_0x3964a4['_cookieTra'+'nsform']['w'],this['lightCooki'+'eMatrixId'][_0x2be034]['setValue'](_0x3964a4['_cookieTra'+'nsformUnif'+'orm']),_0x3964a4['_cookieOff'+'setUniform'][0x29*0x82+0x2531*0x1+-0x3a03]=_0x3964a4['_cookieOff'+'set']['x'],_0x3964a4['_cookieOff'+'setUniform'][0xb4+0x182b+-0x18de]=_0x3964a4['_cookieOff'+'set']['y'],this['lightCooki'+'eOffsetId'][_0x2be034]['setValue'](_0x3964a4['_cookieOff'+'setUniform']));}}['dispatchLo'+'calLights'](_0x277fca,_0x2be0de,_0x190c5e){let _0x4f02b6=_0x190c5e;const _0x3b19f7=this['device']['scope'],_0x13e016=_0x277fca[Ke],_0x50b3e1=_0x13e016['length'];for(let _0x106c6e=-0x8*0x166+-0x47*0x4f+-0x1*-0x2119;_0x106c6e<_0x50b3e1;_0x106c6e++){const _0x320ed9=_0x13e016[_0x106c6e];_0x320ed9['mask']&_0x2be0de&&(this['dispatchOm'+'niLight'](_0x3b19f7,_0x320ed9,_0x4f02b6),_0x4f02b6++);}const _0x19f1af=_0x277fca[Ze],_0x2d42e5=_0x19f1af['length'];for(let _0x48c650=-0x1ed0+0x75c+-0x2*-0xbba;_0x48c650<_0x2d42e5;_0x48c650++){const _0x22fe51=_0x19f1af[_0x48c650];_0x22fe51['mask']&_0x2be0de&&(this['dispatchSp'+'otLight'](_0x3b19f7,_0x22fe51,_0x4f02b6),_0x4f02b6++);}}['renderForw'+'ardPrepare'+'Materials'](_0x2e33db,_0x10f19c,_0x403241,_0x4679bd,_0x5bc29b,_0x5defa0){const _0x2530c7=_0x2e33db['fogParams']??this['scene']['fog'],_0x94c52f=_0x2e33db['shaderPara'+'ms'];_0x94c52f['fog']=_0x2530c7['type'],_0x94c52f['srgbRender'+'Target']=(_0x10f19c==null?void(0x2192+0xe8d+-0x301f):_0x10f19c['isColorBuf'+'ferSrgb'](-0x1*-0x12a1+0x25a7+0x4*-0xe12))??!(0x1b7f+0x920*0x3+-0x36de);const _0x5d1532=(_0x3df634,_0x1174cb,_0x2f388e,_0x205593)=>{Nr['drawCalls']['push'](_0x3df634),Nr['shaderInst'+'ances']['push'](_0x1174cb),Nr['isNewMater'+'ial']['push'](_0x2f388e),Nr['lightMaskC'+'hanged']['push'](_0x205593);};Nr['clear']();const _0x3c099f=this['device'],_0x292179=this['scene'],_0x11cf02=_0x292179['clusteredL'+'ightingEna'+'bled'],_0x53d10b=(_0x5bc29b==null?void(0xd1e*-0x2+0x20b9*0x1+-0x67d):_0x5bc29b['getLightHa'+'sh'](_0x11cf02))??0xf67*-0x2+0x1b41+0x38d;let _0x3fa04a=null,_0xc87d7d,_0x1b6b5e;const _0x2d6af9=_0x403241['length'];for(let _0x4781c4=-0x79*-0x30+-0x8aa*-0x4+-0x3958;_0x4781c4<_0x2d6af9;_0x4781c4++){const _0x116ffd=_0x403241[_0x4781c4];if(_0x2e33db===Ni['skipRender'+'Camera']){if(Ni['_skipRende'+'rCounter']>=Ni['skipRender'+'After'])continue;Ni['_skipRende'+'rCounter']++;}if(_0x5bc29b){if(_0x5bc29b['_skipRende'+'rCounter']>=_0x5bc29b['skipRender'+'After'])continue;_0x5bc29b['_skipRende'+'rCounter']++;}const _0x4c269c=_0x116ffd['instancing'+'Data'];if(_0x4c269c&&_0x4c269c['count']<=-0x1c23+0x4c*-0xd+0x1fff)continue;_0x116ffd['ensureMate'+'rial'](_0x3c099f);const _0x5be067=_0x116ffd['material'],_0x580a43=_0x116ffd['_shaderDef'+'s'],_0x8207bd=_0x116ffd['mask'];_0x5be067&&_0x5be067===_0x3fa04a&&_0x580a43!==_0xc87d7d&&(_0x3fa04a=null),_0x5be067!==_0x3fa04a&&(this['_materialS'+'witches']++,_0x5be067['_scene']=_0x292179,_0x5be067['dirty']&&(Q['pushGpuMar'+'ker'](_0x3c099f,'Node:\x20'+_0x116ffd['node']['name']+(',\x20Material'+':\x20')+_0x5be067['name']),_0x5be067['updateUnif'+'orms'](_0x3c099f,_0x292179),_0x5be067['dirty']=!(0x1037+-0x2e*-0x6+-0x114a),Q['popGpuMark'+'er'](_0x3c099f)));const _0x124de0=_0x116ffd['getShaderI'+'nstance'](_0x5defa0,_0x53d10b,_0x292179,_0x94c52f,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x4679bd);_0x5d1532(_0x116ffd,_0x124de0,_0x5be067!==_0x3fa04a,!_0x3fa04a||_0x8207bd!==_0x1b6b5e),_0x3fa04a=_0x5be067,_0xc87d7d=_0x580a43,_0x1b6b5e=_0x8207bd;}return Nr;}['renderForw'+'ardInterna'+'l'](_0x32f78b,_0x27cceb,_0x4bc4be,_0x3914d0,_0x270b07,_0x3419b7,_0x7247a0){var _0x5b2db4,_0x2d1004;const _0x5bb6d8=this['device'],_0x58508c=this['scene'],_0x1e76f4=0x419*-0x1+0xd3+0x1*0x347<<_0x3914d0,_0x41fa0f=_0x3419b7?-(-0x1a*-0x149+-0x1*0xddb+-0x9c7*0x2):0xbe*0xd+0x878*0x4+0x359*-0xd,_0xf752ff=_0x58508c['clusteredL'+'ightingEna'+'bled'],_0x11cbf2=(_0x5b2db4=_0x32f78b['xr'])!=null&&_0x5b2db4['session']&&_0x32f78b['xr']['views']['list']['length']?_0x32f78b['xr']['views']['list']:null,_0xcb8e9c=_0x27cceb['drawCalls']['length'];for(let _0xb9521=-0x1*0x2317+-0x37b+0x2*0x1349;_0xb9521<_0xcb8e9c;_0xb9521++){const _0xcd3b3f=_0x27cceb['drawCalls'][_0xb9521],_0x4cf8a5=_0x27cceb['isNewMater'+'ial'][_0xb9521],_0x3e2ff4=_0x27cceb['lightMaskC'+'hanged'][_0xb9521],_0x13a97b=_0x27cceb['shaderInst'+'ances'][_0xb9521],_0x150960=_0xcd3b3f['material'],_0x1e5228=_0xcd3b3f['mask'];if(_0x13a97b['shader']['failed'])continue;if(_0x4cf8a5){if(_0x5bb6d8['setShader'](_0x13a97b['shader'],!(0x216b+0x2322+-0x448c*0x1)),_0x150960['setParamet'+'ers'](_0x5bb6d8),_0x3e2ff4){const _0x3e3928=this['dispatchDi'+'rectLights'](_0x4bc4be[ve],_0x1e5228,_0x32f78b);_0xf752ff||this['dispatchLo'+'calLights'](_0x4bc4be,_0x1e5228,_0x3e3928);}this['alphaTestI'+'d']['setValue'](_0x150960['alphaTest']),_0x5bb6d8['setBlendSt'+'ate'](_0x150960['blendState']),_0x5bb6d8['setDepthSt'+'ate'](_0x150960['depthState']),_0x5bb6d8['setAlphaTo'+'Coverage'](_0x150960['alphaToCov'+'erage']);}Q['pushGpuMar'+'ker'](_0x5bb6d8,'Node:\x20'+_0xcd3b3f['node']['name']+(',\x20Material'+':\x20')+_0x150960['name']),this['setupCullM'+'ode'](_0x32f78b['_cullFaces'],_0x41fa0f,_0xcd3b3f);const _0x16f109=_0xcd3b3f['stencilFro'+'nt']??_0x150960['stencilFro'+'nt'],_0x31efa8=_0xcd3b3f['stencilBac'+'k']??_0x150960['stencilBac'+'k'];_0x5bb6d8['setStencil'+'State'](_0x16f109,_0x31efa8),_0xcd3b3f['setParamet'+'ers'](_0x5bb6d8,_0x1e76f4),_0x5bb6d8['scope']['resolve']('meshInstan'+'ceId')['setValue'](_0xcd3b3f['id']);const _0x45b275=_0xcd3b3f['mesh'];this['setVertexB'+'uffers'](_0x5bb6d8,_0x45b275),this['setMorphin'+'g'](_0x5bb6d8,_0xcd3b3f['morphInsta'+'nce']),this['setSkinnin'+'g'](_0x5bb6d8,_0xcd3b3f);const _0x595840=_0xcd3b3f['instancing'+'Data'];_0x595840&&_0x5bb6d8['setVertexB'+'uffer'](_0x595840['vertexBuff'+'er']),this['setMeshIns'+'tanceMatri'+'ces'](_0xcd3b3f,!(-0x5bb+0x10c9*-0x2+-0x1*-0x274d)),this['setupMeshU'+'niformBuff'+'ers'](_0x13a97b);const _0x13431f=_0xcd3b3f['renderStyl'+'e'],_0xd3b3f=_0x45b275['indexBuffe'+'r'][_0x13431f];_0x270b07==null||_0x270b07(_0xcd3b3f,_0xb9521);const _0x222069=(_0x2d1004=_0xcd3b3f['indirectDa'+'ta'])==null?void(0xb*-0x185+0x2b*0x13+0x482*0x3):_0x2d1004['get'](_0x32f78b);if(_0x11cbf2)for(let _0x466fcd=-0x2029*0x1+0x240+0x1de9;_0x466fcd<_0x11cbf2['length'];_0x466fcd++){const _0x3189df=_0x11cbf2[_0x466fcd];if(_0x5bb6d8['setViewpor'+'t'](_0x3189df['viewport']['x'],_0x3189df['viewport']['y'],_0x3189df['viewport']['z'],_0x3189df['viewport']['w']),_0x5bb6d8['supportsUn'+'iformBuffe'+'rs']){const _0x4a1815=_0x7247a0[_0x466fcd];_0x5bb6d8['setBindGro'+'up'](rl,_0x4a1815);}else this['setupViewU'+'niforms'](_0x3189df,_0x466fcd);const _0x4ffd7b=_0x466fcd===-0x203a+0xbff*0x3+0x9*-0x6b,_0x348c05=_0x466fcd===_0x11cbf2['length']-(0xd9e+0x8*-0x12a+-0x44d*0x1);_0x5bb6d8['draw'](_0x45b275['primitive'][_0x13431f],_0xd3b3f,_0x595840==null?void(-0x13d*0x1f+0xfad+0x1*0x16b6):_0x595840['count'],_0x222069,_0x4ffd7b,_0x348c05),this['_forwardDr'+'awCalls']++,_0xcd3b3f['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;}else _0x5bb6d8['draw'](_0x45b275['primitive'][_0x13431f],_0xd3b3f,_0x595840==null?void(0x1d*0x35+0xb45*-0x1+-0x2*-0x2a2):_0x595840['count'],_0x222069),this['_forwardDr'+'awCalls']++,_0xcd3b3f['instancing'+'Data']&&this['_instanced'+'DrawCalls']++;_0xb9521<_0xcb8e9c-(-0x101*0x1+0x2*-0x761+-0x1*-0xfc4)&&!_0x27cceb['isNewMater'+'ial'][_0xb9521+(0x40f+-0x9d2*-0x2+0x2*-0xbd9)]&&_0x150960['setParamet'+'ers'](_0x5bb6d8,_0xcd3b3f['parameters']),Q['popGpuMark'+'er'](_0x5bb6d8);}}['renderForw'+'ard'](_0x3c9ed6,_0x2b0a89,_0x5dd5dd,_0x34c2dc,_0x2183c7,_0x465596,_0x43eca0,_0x21eb9,_0x1f027b){const _0x5b34b9=de(),_0x4ab8e8=this['renderForw'+'ardPrepare'+'Materials'](_0x3c9ed6,_0x2b0a89,_0x5dd5dd,_0x34c2dc,_0x43eca0,_0x2183c7);this['renderForw'+'ardInterna'+'l'](_0x3c9ed6,_0x4ab8e8,_0x34c2dc,_0x2183c7,_0x465596,_0x21eb9,_0x1f027b),Nr['clear'](),this['_forwardTi'+'me']+=de()-_0x5b34b9;}['renderForw'+'ardLayer'](_0x227f40,_0x35d74f,_0x670564,_0x1e8605,_0x122ef3,_0x2ed0ad,_0x15199c={}){const {scene:_0x269995,device:_0x13368a}=this,_0x1651a9=_0x269995['clusteredL'+'ightingEna'+'bled'];this['setupViewp'+'ort'](_0x227f40,_0x35d74f);let _0x192588,_0x3275b6;if(_0x670564){const _0x2fef49=de();_0x670564['sortVisibl'+'e'](_0x227f40,_0x1e8605),this['_sortTime']+=de()-_0x2fef49;const _0x24d9b2=_0x670564['getCulledI'+'nstances'](_0x227f40);_0x192588=_0x1e8605?_0x24d9b2['transparen'+'t']:_0x24d9b2['opaque'],_0x269995['immediate']['onPreRende'+'rLayer'](_0x670564,_0x192588,_0x1e8605),_0x670564['requiresLi'+'ghtCube']&&(this['lightCube']['update'](_0x269995['ambientLig'+'ht'],_0x670564['_lights']),this['constantLi'+'ghtCube']['setValue'](this['lightCube']['colors'])),_0x3275b6=_0x670564['splitLight'+'s'];}else _0x192588=_0x15199c['meshInstan'+'ces'],_0x3275b6=_0x15199c['splitLight'+'s']??Qb;if(w['assert'](_0x192588,'Either\x20lay'+'er\x20or\x20opti'+'ons.meshIn'+'stances\x20mu'+'st\x20be\x20prov'+'ided'),_0x1651a9){const _0x32578c=_0x15199c['lightClust'+'ers']??this['worldClust'+'ersAllocat'+'or']['empty'];_0x32578c['activate'](),_0x670564&&!this['clustersDe'+'bugRendere'+'d']&&_0x269995['lighting']['debugLayer']===_0x670564['id']&&(this['clustersDe'+'bugRendere'+'d']=!(-0x164+-0x1*0xc86+0xdea),hu['render'](_0x32578c,this['scene']));}_0x269995['_activeCam'+'era']=_0x227f40;const _0x2a49c2=_0x227f40['fogParams']??this['scene']['fog'];this['setFogCons'+'tants'](_0x2a49c2);const _0x3786e3=this['setCameraU'+'niforms'](_0x227f40,_0x35d74f);_0x13368a['supportsUn'+'iformBuffe'+'rs']&&this['setupViewU'+'niformBuff'+'ers'](_0x2ed0ad,this['viewUnifor'+'mFormat'],this['viewBindGr'+'oupFormat'],_0x3786e3);const _0x3122b9=_0x15199c['clearColor']??!(0x1*0x655+0x3*0x815+-0x1*0x1e93),_0x564f2c=_0x15199c['clearDepth']??!(0x2ea+-0x1*0x1735+0x144c),_0x46eba1=_0x15199c['clearStenc'+'il']??!(0x2*0x296+0x2ef*-0xd+0x20f8);(_0x3122b9||_0x564f2c||_0x46eba1)&&this['clear'](_0x227f40,_0x3122b9,_0x564f2c,_0x46eba1);const _0x15c2b0=!!(_0x227f40['_flipFaces']^(_0x35d74f==null?void(-0x1ed9+0x9*0x1fb+0xd06*0x1):_0x35d74f['flipY'])),_0x175914=this['_forwardDr'+'awCalls'];this['renderForw'+'ard'](_0x227f40,_0x35d74f,_0x192588,_0x3275b6,_0x122ef3,null,_0x670564,_0x15c2b0,_0x2ed0ad),_0x670564&&(_0x670564['_forwardDr'+'awCalls']+=this['_forwardDr'+'awCalls']-_0x175914);}['setFogCons'+'tants'](_0x161726){if(_0x161726['type']!==Kn){or['linear'](_0x161726['color']);const _0x24aab4=this['fogColor'];_0x24aab4[-0x856*0x1+0x21*-0x35+0xf2b]=or['r'],_0x24aab4[0x6b*0x9+-0x178*0x19+0x20f6]=or['g'],_0x24aab4[0xd19*0x2+-0x1d8d+0x35d]=or['b'],this['fogColorId']['setValue'](_0x24aab4),_0x161726['type']===Iw?(this['fogStartId']['setValue'](_0x161726['start']),this['fogEndId']['setValue'](_0x161726['end'])):this['fogDensity'+'Id']['setValue'](_0x161726['density']);}}['setSceneCo'+'nstants'](){const _0x4f709f=this['scene'];this['dispatchGl'+'obalLights'](_0x4f709f);const _0x570dfd=this['device'];this['_screenSiz'+'e'][-0x1f5b*-0x1+-0xad*0x1+-0x1eae]=_0x570dfd['width'],this['_screenSiz'+'e'][0x1*-0x1726+0x2*-0x697+0x2455]=_0x570dfd['height'],this['_screenSiz'+'e'][-0x1*0xf0b+0x16c8+0x1*-0x7bb]=(-0x1f3d*-0x1+-0x1497+0x19*-0x6d)/_0x570dfd['width'],this['_screenSiz'+'e'][-0x162b+-0x1bcc+0x31fa]=(-0xc37+0x1ab9+-0xe81)/_0x570dfd['height'],this['screenSize'+'Id']['setValue'](this['_screenSiz'+'e']),this['pcssDiskSa'+'mplesId']['setValue'](this['pcssDiskSa'+'mples']),this['pcssSphere'+'SamplesId']['setValue'](this['pcssSphere'+'Samples']);}['buildFrame'+'Graph'](_0x4e1111,_0x297df8){const _0xa160ad=this['scene'];if(_0x4e1111['reset'](),_0xa160ad['clusteredL'+'ightingEna'+'bled']){const {shadowsEnabled:_0x5ade12,cookiesEnabled:_0x206862}=_0xa160ad['lighting'];this['_renderPas'+'sUpdateClu'+'stered']['update'](_0x4e1111,_0x5ade12,_0x206862,this['lights'],this['localLight'+'s']),_0x4e1111['addRenderP'+'ass'](this['_renderPas'+'sUpdateClu'+'stered']);}else this['_shadowRen'+'dererLocal']['buildNonCl'+'usteredRen'+'derPasses'](_0x4e1111,this['localLight'+'s']);let _0x4b19a8=0x2ae+-0x1f5b+0x1cad,_0x815504=!(-0x38*0x25+0x37f+-0x499*-0x1),_0x547a37=null;const _0x203672=_0x297df8['_renderAct'+'ions'];for(let _0x39b068=_0x4b19a8;_0x39b068<_0x203672['length'];_0x39b068++){const _0x31a64=_0x203672[_0x39b068],{layer:_0x415854,camera:_0x129d38}=_0x31a64;if(_0x31a64['useCameraP'+'asses'])w['call'](()=>{_0x129d38['postEffect'+'s']['effects']['length']>0x1a42+0x1*-0x29e+-0x17a4&&w['warnOnce']('Camera\x20\x27'+_0x129d38['entity']['name']+('\x27\x20uses\x20ren'+'der\x20passes'+',\x20which\x20ar'+'e\x20not\x20comp'+'atible\x20wit'+'h\x20post-eff'+'ects\x20scrip'+'ts.\x20Render'+'ing\x20of\x20the'+'\x20post-effe'+'cts\x20is\x20ign'+'ored,\x20but\x20'+'they\x20shoul'+'d\x20not\x20be\x20a'+'ttached\x20to'+'\x20the\x20camer'+'a.'));}),_0x129d38['camera']['renderPass'+'es']['forEach'](_0xd26379=>{_0x4e1111['addRenderP'+'ass'](_0xd26379);});else{const _0x42048b=_0x415854['id']===ps,_0x1e145d=_0x42048b&&(_0x129d38['renderScen'+'eColorMap']||_0x129d38['renderScen'+'eDepthMap']);_0x815504&&(_0x815504=!(-0x2290+0x705*0x4+0x67d),_0x4b19a8=_0x39b068,_0x547a37=_0x31a64['renderTarg'+'et']);const _0xa9d02a=_0x203672[_0x39b068+(-0x17b3+0x33*-0x95+0x3563)],_0x1e64ce=(_0xa9d02a?!_0xa9d02a['useCameraP'+'asses']&&_0xa9d02a['layer']['id']===ps:!(0xca7+0x1938+-0x25de))&&(_0x129d38['renderScen'+'eColorMap']||_0x129d38['renderScen'+'eDepthMap']),_0x4a967b=_0xa9d02a?_0xa9d02a['firstCamer'+'aUse']&&this['cameraDirS'+'hadowLight'+'s']['has'](_0xa9d02a['camera']['camera']):!(-0x15a6+-0x12*-0x166+-0x385);if(!_0xa9d02a||_0xa9d02a['renderTarg'+'et']!==_0x547a37||_0x4a967b||_0x1e64ce||_0x1e145d){if(_0x42048b&&_0x4b19a8===_0x39b068||this['addMainRen'+'derPass'](_0x4e1111,_0x297df8,_0x547a37,_0x4b19a8,_0x39b068),_0x42048b){if(_0x129d38['renderScen'+'eColorMap']){const _0x5ab77e=_0x129d38['camera']['renderPass'+'ColorGrab'];_0x5ab77e['source']=_0x129d38['renderTarg'+'et'],_0x4e1111['addRenderP'+'ass'](_0x5ab77e);}_0x129d38['renderScen'+'eDepthMap']&&_0x4e1111['addRenderP'+'ass'](_0x129d38['camera']['renderPass'+'DepthGrab']);}if(_0x31a64['triggerPos'+'tprocess']&&(_0x129d38!=null&&_0x129d38['onPostproc'+'essing'])){const _0x4d249d=new Zb(this['device'],this,_0x31a64);_0x4e1111['addRenderP'+'ass'](_0x4d249d);}_0x815504=!(0x10*0xb8+-0x7a*0x49+-0xb*-0x21e);}}}}['addMainRen'+'derPass'](_0x5161c1,_0xa100fa,_0xb3699b,_0x3dbfb7,_0x2661df){const _0x58a956=new Kb(this['device'],_0xa100fa,this['scene'],this);_0x58a956['init'](_0xb3699b);const _0xc3caf6=_0xa100fa['_renderAct'+'ions'];for(let _0x12ca64=_0x3dbfb7;_0x12ca64<=_0x2661df;_0x12ca64++)_0x58a956['addRenderA'+'ction'](_0xc3caf6[_0x12ca64]);_0x5161c1['addRenderP'+'ass'](_0x58a956);}['update'](_0x2ea94e){this['frameUpdat'+'e'](),this['shadowRend'+'erer']['frameUpdat'+'e'](),this['scene']['_updateSky'+'Mesh'](),this['updateLaye'+'rCompositi'+'on'](_0x2ea94e),this['collectLig'+'hts'](_0x2ea94e),this['beginFrame'](_0x2ea94e),this['setSceneCo'+'nstants'](),this['cullCompos'+'ition'](_0x2ea94e),this['gpuUpdate'](this['processing'+'MeshInstan'+'ces']);}};h(Ni,'skipRender'+'Camera',null),h(Ni,'_skipRende'+'rCounter',-0xb34+0x1e06+-0x12d2*0x1),h(Ni,'skipRender'+'After',0x244c+-0x9*0x9e+0x1ebe*-0x1);let fl=Ni,uf=0x7e1+0x3d*0x2+0x85b*-0x1;const co=[],hc=new Set();function tA(_0x1a63e6,_0x903a8e){return _0x1a63e6['drawOrder']-_0x903a8e['drawOrder'];}function sA(_0x5670b5,_0x2cd079){const _0xbcad3c=_0x5670b5['_sortKeyFo'+'rward'],_0x14ad67=_0x2cd079['_sortKeyFo'+'rward'];return _0xbcad3c===_0x14ad67?_0x2cd079['mesh']['id']-_0x5670b5['mesh']['id']:_0x14ad67-_0xbcad3c;}function iA(_0x525ec4,_0x26e588){return _0x26e588['_sortKeyDy'+'namic']-_0x525ec4['_sortKeyDy'+'namic'];}function rA(_0x2a789d,_0xdb60fb){return _0x2a789d['_sortKeyDy'+'namic']-_0xdb60fb['_sortKeyDy'+'namic'];}const aA=[null,tA,sA,iA,rA];class nA{constructor(){h(this,'opaque',[]),h(this,'transparen'+'t',[]);}}class Ot{constructor(_0xe61918={}){h(this,'meshInstan'+'ces',[]),h(this,'meshInstan'+'cesSet',new Set()),h(this,'shadowCast'+'ers',[]),h(this,'shadowCast'+'ersSet',new Set()),h(this,'_visibleIn'+'stances',new WeakMap()),h(this,'_lights',[]),h(this,'_lightsSet',new Set()),h(this,'_clustered'+'LightsSet',new Set()),h(this,'_splitLigh'+'ts',[[],[],[]]),h(this,'_splitLigh'+'tsDirty',!(0x2645*0x1+0x1*-0xec6+0xf*-0x191)),h(this,'requiresLi'+'ghtCube',!(0x1b9b+-0x45*0x7e+0x25*0x2c)),h(this,'cameras',[]),h(this,'camerasSet',new Set()),h(this,'_dirtyComp'+'osition',!(0x8fc+-0x4f3+-0x1*0x408)),(_0xe61918['id']!==void(-0x581+0x3a1*0x1+-0xa0*-0x3)?(this['id']=_0xe61918['id'],uf=Math['max'](this['id']+(0x11cb+0x487*0x5+-0x4f*0x83),uf)):this['id']=uf++,this['name']=_0xe61918['name'],this['_enabled']=_0xe61918['enabled']??!(0x200f+-0x1dcd+-0x11*0x22),this['_refCounte'+'r']=this['_enabled']?-0x2030+0x31*0x91+0x238*0x2:0xae4+0xcc4*0x2+-0xc*0x309,this['opaqueSort'+'Mode']=_0xe61918['opaqueSort'+'Mode']??Yw,this['transparen'+'tSortMode']=_0xe61918['transparen'+'tSortMode']??m_,_0xe61918['renderTarg'+'et']&&(this['renderTarg'+'et']=_0xe61918['renderTarg'+'et']),this['_clearColo'+'rBuffer']=!!_0xe61918['clearColor'+'Buffer'],this['_clearDept'+'hBuffer']=!!_0xe61918['clearDepth'+'Buffer'],this['_clearSten'+'cilBuffer']=!!_0xe61918['clearStenc'+'ilBuffer'],this['onEnable']=_0xe61918['onEnable'],this['onDisable']=_0xe61918['onDisable'],this['_enabled']&&this['onEnable']&&this['onEnable'](),this['customSort'+'Callback']=null,this['customCalc'+'ulateSortV'+'alues']=null,this['_lightHash']=0x18ea+0x179e+0x1844*-0x2,this['_lightHash'+'Dirty']=!(-0x9b4+-0x1*-0x86+-0x92f*-0x1),this['_lightIdHa'+'sh']=-0x153*0x7+-0xcfa*-0x3+0x1*-0x1da9,this['_lightIdHa'+'shDirty']=!(0x23d5+0x2260+-0x4634),this['skipRender'+'After']=Number['MAX_VALUE'],this['_skipRende'+'rCounter']=-0x16ff+-0x15aa+0x2ca9,this['_renderTim'+'e']=0x21b5+-0x745*0x1+-0x1a70,this['_forwardDr'+'awCalls']=0xadf+-0xf2b+0x44c,this['_shadowDra'+'wCalls']=0x70f*0x3+-0x809*-0x1+0x2*-0xe9b,this['_shaderVer'+'sion']=-(-0x1656*0x1+0x1043+0x1*0x614));}set['enabled'](_0x2456d2){_0x2456d2!==this['_enabled']&&(this['_dirtyComp'+'osition']=!(-0x2261*0x1+-0x1a*0x37+-0x1*-0x27f7),this['_enabled']=_0x2456d2,_0x2456d2?(this['incrementC'+'ounter'](),this['onEnable']&&this['onEnable']()):(this['decrementC'+'ounter'](),this['onDisable']&&this['onDisable']()));}get['enabled'](){return this['_enabled'];}set['clearColor'+'Buffer'](_0x191313){this['_clearColo'+'rBuffer']=_0x191313,this['_dirtyComp'+'osition']=!(0x8cf+0x2*-0x11c0+0x1ab1);}get['clearColor'+'Buffer'](){return this['_clearColo'+'rBuffer'];}set['clearDepth'+'Buffer'](_0xfbd836){this['_clearDept'+'hBuffer']=_0xfbd836,this['_dirtyComp'+'osition']=!(-0x939*-0x1+-0xdf2+0x4b9);}get['clearDepth'+'Buffer'](){return this['_clearDept'+'hBuffer'];}set['clearStenc'+'ilBuffer'](_0x49028c){this['_clearSten'+'cilBuffer']=_0x49028c,this['_dirtyComp'+'osition']=!(0x476+0x248a+-0x2900);}get['clearStenc'+'ilBuffer'](){return this['_clearSten'+'cilBuffer'];}get['hasCluster'+'edLights'](){return this['_clustered'+'LightsSet']['size']>-0x437*-0x7+0xb8c*-0x1+0x1*-0x11f5;}get['clusteredL'+'ightsSet'](){return this['_clustered'+'LightsSet'];}['incrementC'+'ounter'](){this['_refCounte'+'r']===0x3*0x51+-0x105d*-0x2+-0x25*0xe9&&(this['_enabled']=!(0x10*-0x30+0x1*-0x18da+0x136*0x17),this['onEnable']&&this['onEnable']()),this['_refCounte'+'r']++;}['decrementC'+'ounter'](){if(this['_refCounte'+'r']===0x1358+0x111a*0x1+-0x2471*0x1)this['_enabled']=!(-0x211d+0x389+0x1d95*0x1),this['onDisable']&&this['onDisable']();else{if(this['_refCounte'+'r']===0x76*-0x7+0x2*0x3d1+0x468*-0x1){w['warn']('Trying\x20to\x20'+'decrement\x20'+'layer\x20coun'+'ter\x20below\x20'+'0');return;}}this['_refCounte'+'r']--;}['addMeshIns'+'tances'](_0x5697c5,_0x40cb17){const _0x53068b=this['meshInstan'+'ces'],_0x17af62=this['meshInstan'+'cesSet'];for(let _0x4b2ba9=0x1f96+0x1006*0x2+-0x3fa2;_0x4b2ba9<_0x5697c5['length'];_0x4b2ba9++){const _0x561e40=_0x5697c5[_0x4b2ba9];_0x17af62['has'](_0x561e40)||(_0x53068b['push'](_0x561e40),_0x17af62['add'](_0x561e40),hc['add'](_0x561e40['material']));}if(_0x40cb17||this['addShadowC'+'asters'](_0x5697c5),hc['size']>-0x128a+-0x5c2*0x4+0x2992){const _0x262215=this['_shaderVer'+'sion'];hc['forEach'](_0x4f34ad=>{_0x262215>=-0x1f47+-0x1*0x179f+-0x1*-0x36e6&&_0x4f34ad['_shaderVer'+'sion']!==_0x262215&&(_0x4f34ad['getShaderV'+'ariant']!==tr['prototype']['getShaderV'+'ariant']&&_0x4f34ad['clearVaria'+'nts'](),_0x4f34ad['_shaderVer'+'sion']=_0x262215);}),hc['clear']();}}['removeMesh'+'Instances'](_0x4b9d19,_0x3f8d86){const _0x42d37f=this['meshInstan'+'ces'],_0x249290=this['meshInstan'+'cesSet'];for(let _0x31c702=-0x17b5+0xb1*-0xc+0x2001;_0x31c702<_0x4b9d19['length'];_0x31c702++){const _0x206763=_0x4b9d19[_0x31c702];if(_0x249290['has'](_0x206763)){_0x249290['delete'](_0x206763);const _0xa27117=_0x42d37f['indexOf'](_0x206763);_0xa27117>=-0x19ec+-0xd1c+0x4*0x9c2&&_0x42d37f['splice'](_0xa27117,-0x29f+-0x117*0x1c+0x2124);}}_0x3f8d86||this['removeShad'+'owCasters'](_0x4b9d19);}['addShadowC'+'asters'](_0x60d298){const _0x188fee=this['shadowCast'+'ers'],_0x5b61a0=this['shadowCast'+'ersSet'];for(let _0x12e3de=0x703+0x26e*0xd+-0x2699;_0x12e3de<_0x60d298['length'];_0x12e3de++){const _0x528aaa=_0x60d298[_0x12e3de];_0x528aaa['castShadow']&&!_0x5b61a0['has'](_0x528aaa)&&(_0x5b61a0['add'](_0x528aaa),_0x188fee['push'](_0x528aaa));}}['removeShad'+'owCasters'](_0x46dbab){const _0x278e9d=this['shadowCast'+'ers'],_0x16999c=this['shadowCast'+'ersSet'];for(let _0x2dea63=0x1*-0x25e1+-0x1b70+-0x4151*-0x1;_0x2dea63<_0x46dbab['length'];_0x2dea63++){const _0x579932=_0x46dbab[_0x2dea63];if(_0x16999c['has'](_0x579932)){_0x16999c['delete'](_0x579932);const _0x2f6afa=_0x278e9d['indexOf'](_0x579932);_0x2f6afa>=-0x2*0x6f3+0x1809+-0xa23&&_0x278e9d['splice'](_0x2f6afa,0x1*-0x2196+-0xe63+0x2ffa);}}}['clearMeshI'+'nstances'](_0xed088d=!(-0x1cd9+0x1d9f*-0x1+0x3a79)){this['meshInstan'+'ces']['length']=0x5*0x29+-0x2236+0x2169,this['meshInstan'+'cesSet']['clear'](),_0xed088d||(this['shadowCast'+'ers']['length']=-0x25c3+0x5d+0x2566*0x1,this['shadowCast'+'ersSet']['clear']());}['markLights'+'Dirty'](){this['_lightHash'+'Dirty']=!(0xfc1+-0x4*0x71f+0xcbb),this['_lightIdHa'+'shDirty']=!(0x2451+-0x1580+-0xed1),this['_splitLigh'+'tsDirty']=!(-0x1ed2+-0x1c4+-0x1*-0x2096);}['hasLight'](_0x658e63){return this['_lightsSet']['has'](_0x658e63);}['addLight'](_0x4eaed4){const _0x51275f=_0x4eaed4['light'];this['_lightsSet']['has'](_0x51275f)||(this['_lightsSet']['add'](_0x51275f),this['_lights']['push'](_0x51275f),this['markLights'+'Dirty']()),_0x51275f['type']!==ve&&this['_clustered'+'LightsSet']['add'](_0x51275f);}['removeLigh'+'t'](_0x253417){const _0x382289=_0x253417['light'];this['_lightsSet']['has'](_0x382289)&&(this['_lightsSet']['delete'](_0x382289),this['_lights']['splice'](this['_lights']['indexOf'](_0x382289),-0x2b*0x6a+-0x9b7*-0x4+-0x150d),this['markLights'+'Dirty']()),_0x382289['type']!==ve&&this['_clustered'+'LightsSet']['delete'](_0x382289);}['clearLight'+'s'](){this['_lightsSet']['forEach'](_0x407f0c=>_0x407f0c['removeLaye'+'r'](this)),this['_lightsSet']['clear'](),this['_clustered'+'LightsSet']['clear'](),this['_lights']['length']=-0x2173*-0x1+0x1ade+-0x3c51,this['markLights'+'Dirty']();}get['splitLight'+'s'](){if(this['_splitLigh'+'tsDirty']){this['_splitLigh'+'tsDirty']=!(-0xd*0x9d+0xf84+0xa*-0xc1);const _0x5b0245=this['_splitLigh'+'ts'];for(let _0x2902b8=-0x1b05*-0x1+0x21c+-0x1d21*0x1;_0x2902b8<_0x5b0245['length'];_0x2902b8++)_0x5b0245[_0x2902b8]['length']=-0xbf*0xb+-0xc90+0x14c5;const _0x118e38=this['_lights'];for(let _0x4dbb0d=0x2b9+-0xac7+0x80e;_0x4dbb0d<_0x118e38['length'];_0x4dbb0d++){const _0x4b632e=_0x118e38[_0x4dbb0d];_0x4b632e['enabled']&&_0x5b0245[_0x4b632e['_type']]['push'](_0x4b632e);}for(let _0x82527f=0x1d24+-0x2332+-0x2*-0x307;_0x82527f<_0x5b0245['length'];_0x82527f++)_0x5b0245[_0x82527f]['sort']((_0x51c5d0,_0x54563a)=>_0x51c5d0['key']-_0x54563a['key']);}return this['_splitLigh'+'ts'];}['evaluateLi'+'ghtHash'](_0x314764,_0x2cd4d4,_0xb66d5c){let _0x1c2bf9=0x3*0x16d+0x23d5+-0x281c;const _0x247ecd=this['_lights'];for(let _0x2ed5f1=0x1123+0x1*-0x24cd+-0x6*-0x347;_0x2ed5f1<_0x247ecd['length'];_0x2ed5f1++){const _0xebf6fc=_0x247ecd[_0x2ed5f1]['type']!==ve;(_0x314764&&_0xebf6fc||_0x2cd4d4&&!_0xebf6fc)&&co['push'](_0xb66d5c?_0x247ecd[_0x2ed5f1]['id']:_0x247ecd[_0x2ed5f1]['key']);}return co['length']>-0x1db0+0x1b44+0x14*0x1f&&(co['sort'](),_0x1c2bf9=By(co),co['length']=-0x1ec8+0x1*0x886+0x7*0x32e),_0x1c2bf9;}['getLightHa'+'sh'](_0x3b13b4){return this['_lightHash'+'Dirty']&&(this['_lightHash'+'Dirty']=!(-0x1b80+0x2551+-0x9d0),this['_lightHash']=this['evaluateLi'+'ghtHash'](!_0x3b13b4,!(-0x1724+-0x1*-0x97+0x168d),!(0x5*0x14f+0xc51*0x1+-0x12db))),this['_lightHash'];}['getLightId'+'Hash'](){return this['_lightIdHa'+'shDirty']&&(this['_lightIdHa'+'shDirty']=!(-0x1381*-0x1+-0x1*-0x17c9+-0x2b49),this['_lightIdHa'+'sh']=this['evaluateLi'+'ghtHash'](!(0x1c60+0x1ff2+-0x3c52),!(0x1c84+0x44*0xa+-0x1*0x1f2b),!(0x2f8*-0x8+-0x10d*-0x4+0x138c))),this['_lightIdHa'+'sh'];}['addCamera'](_0x41062c){this['camerasSet']['has'](_0x41062c['camera'])||(this['camerasSet']['add'](_0x41062c['camera']),this['cameras']['push'](_0x41062c),this['_dirtyComp'+'osition']=!(-0xa7c+-0x24bd+0xb*0x44b));}['removeCame'+'ra'](_0x3ba485){if(this['camerasSet']['has'](_0x3ba485['camera'])){this['camerasSet']['delete'](_0x3ba485['camera']);const _0x5501af=this['cameras']['indexOf'](_0x3ba485);this['cameras']['splice'](_0x5501af,0x1861+-0x26cd+0xe6d),this['_dirtyComp'+'osition']=!(0x1b*-0x137+0xf7e+0x114f);}}['clearCamer'+'as'](){this['cameras']['length']=-0x1cce+0x541*-0x1+-0x1*-0x220f,this['camerasSet']['clear'](),this['_dirtyComp'+'osition']=!(0xbe3*0x2+0x20*0xa7+-0x2ca6);}['_calculate'+'SortDistan'+'ces'](_0x29800f,_0x5eefc5,_0x1c3243){const _0x912f86=_0x29800f['length'],{x:_0x256f70,y:_0x49b6f6,z:_0xad0540}=_0x5eefc5,{x:_0x102d52,y:_0x1866ac,z:_0x3837fb}=_0x1c3243;for(let _0x4b33b2=0xd3*-0x27+0x8b+0x1f9a;_0x4b33b2<_0x912f86;_0x4b33b2++){const _0x5e68ec=_0x29800f[_0x4b33b2];let _0x48a702;if(_0x5e68ec['calculateS'+'ortDistanc'+'e'])_0x48a702=_0x5e68ec['calculateS'+'ortDistanc'+'e'](_0x5e68ec,_0x5eefc5,_0x1c3243);else{const _0x554132=_0x5e68ec['aabb']['center'];_0x48a702=(_0x554132['x']-_0x256f70)*_0x102d52+(_0x554132['y']-_0x49b6f6)*_0x1866ac+(_0x554132['z']-_0xad0540)*_0x3837fb;}const _0x4f93b2=_0x5e68ec['_drawBucke'+'t']*(-0x3a*-0x20dce96+0xb8a*-0x79c61+0x1c4c734e);_0x5e68ec['_sortKeyDy'+'namic']=_0x4f93b2+_0x48a702;}}['getCulledI'+'nstances'](_0x5aceb5){let _0xc0816f=this['_visibleIn'+'stances']['get'](_0x5aceb5);return _0xc0816f||(_0xc0816f=new nA(),this['_visibleIn'+'stances']['set'](_0x5aceb5,_0xc0816f)),_0xc0816f;}['sortVisibl'+'e'](_0x593078,_0x3ab40e){const _0x518819=_0x3ab40e?this['transparen'+'tSortMode']:this['opaqueSort'+'Mode'];if(_0x518819===Yc)return;const _0xaff43e=this['getCulledI'+'nstances'](_0x593078),_0x39b822=_0x3ab40e?_0xaff43e['transparen'+'t']:_0xaff43e['opaque'],_0xedbd50=_0x593078['node'];if(_0x518819===Zw){const _0x21f12a=_0xedbd50['getPositio'+'n'](),_0xfcc856=_0xedbd50['forward'];this['customCalc'+'ulateSortV'+'alues']&&this['customCalc'+'ulateSortV'+'alues'](_0x39b822,_0x39b822['length'],_0x21f12a,_0xfcc856),this['customSort'+'Callback']&&_0x39b822['sort'](this['customSort'+'Callback']);}else{if(_0x518819===m_||_0x518819===Kw){const _0x561fff=_0xedbd50['getPositio'+'n'](),_0x37bb96=_0xedbd50['forward'];this['_calculate'+'SortDistan'+'ces'](_0x39b822,_0x561fff,_0x37bb96);}_0x39b822['sort'](aA[_0x518819]);}}}const oA=(_0x1ea4df,_0x34d318)=>_0x1ea4df['priority']-_0x34d318['priority'],ul=_0x2b422c=>_0x2b422c['sort'](oA);class du extends me{constructor(_0x2f1965='Untitled'){super(),h(this,'layerList',[]),h(this,'layerIdMap',new Map()),h(this,'layerNameM'+'ap',new Map()),h(this,'layerOpaqu'+'eIndexMap',new Map()),h(this,'layerTrans'+'parentInde'+'xMap',new Map()),h(this,'subLayerLi'+'st',[]),h(this,'subLayerEn'+'abled',[]),h(this,'cameras',[]),h(this,'_renderAct'+'ions',[]),h(this,'_dirty',!(0x497*-0x2+0x1ff*0x5+0x33*-0x4)),(this['name']=_0x2f1965,this['_opaqueOrd'+'er']={},this['_transpare'+'ntOrder']={});}['destroy'](){this['destroyRen'+'derActions']();}['destroyRen'+'derActions'](){this['_renderAct'+'ions']['forEach'](_0x378b5c=>_0x378b5c['destroy']()),this['_renderAct'+'ions']['length']=-0xb*-0x27c+-0x1*-0x704+-0x2258;}['markDirty'](){this['_dirty']=!(-0x9*-0x198+-0x1602+0x7aa);}['_update'](){const _0x156850=this['layerList']['length'];if(!this['_dirty']){for(let _0x198609=0xf15+0x212b+0x608*-0x8;_0x198609<_0x156850;_0x198609++)if(this['layerList'][_0x198609]['_dirtyComp'+'osition']){this['_dirty']=!(0xbf8+0x69b+-0x1293);break;}}if(this['_dirty']){this['_dirty']=!(0x155*-0x8+0x2*0x1117+-0x1785),this['cameras']['length']=-0x1d5+0xd*-0x2ab+0x921*0x4;for(let _0x5dfa66=-0xf21+0x7f7*0x1+0x395*0x2;_0x5dfa66<_0x156850;_0x5dfa66++){const _0x4a04a3=this['layerList'][_0x5dfa66];_0x4a04a3['_dirtyComp'+'osition']=!(-0x4c8+0xc1+-0x1*-0x408);for(let _0x199490=-0x1*-0xb79+-0xc43+0xca*0x1;_0x199490<_0x4a04a3['cameras']['length'];_0x199490++){const _0x240399=_0x4a04a3['cameras'][_0x199490];this['cameras']['indexOf'](_0x240399)<-0x21e+-0x1*0x545+0x763&&this['cameras']['push'](_0x240399);}}this['cameras']['length']>0x1196*0x2+-0x1b4c+-0x7df&&ul(this['cameras']);let _0x554096=-0x1c1e+-0x28*-0x9b+0x3e6;this['destroyRen'+'derActions']();for(let _0x1dcee5=0x172b+0x23e7+-0x3b12;_0x1dcee5<this['cameras']['length'];_0x1dcee5++){const _0x27d787=this['cameras'][_0x1dcee5];if(_0x27d787['camera']['renderPass'+'es']['length']>0x16*0x15b+-0x70*0x2a+-0xb72){this['addDummyRe'+'nderAction'](_0x554096,_0x27d787),_0x554096++;continue;}let _0x1e23c6=!(0x15c3+-0xe52+-0x771);const _0x3a1148=_0x554096;let _0x26a2e3=null,_0x154d40=!(0x4f*0x2e+0x552+-0x1383);for(let _0x4afd99=-0x1841*-0x1+0xc1*-0xe+-0x3*0x491;_0x4afd99<_0x156850;_0x4afd99++){const _0x22c420=this['layerList'][_0x4afd99];if(_0x22c420['enabled']&&this['subLayerEn'+'abled'][_0x4afd99]&&_0x22c420['cameras']['length']>-0x1256+-0xc12+0x1e68&&_0x27d787['layers']['indexOf'](_0x22c420['id'])>=-0x2428+-0x2*0xdc2+-0x1*-0x3fac){!_0x154d40&&_0x22c420['id']===_0x27d787['disablePos'+'tEffectsLa'+'yer']&&(_0x154d40=!(-0x32*-0x61+-0x1db2+0x2b0*0x4),_0x26a2e3&&(_0x26a2e3['triggerPos'+'tprocess']=!(-0x47c+-0x1*0x626+-0xaa2*-0x1)));const _0x5bcaa7=this['subLayerLi'+'st'][_0x4afd99];_0x26a2e3=this['addRenderA'+'ction'](_0x554096,_0x22c420,_0x5bcaa7,_0x27d787,_0x1e23c6,_0x154d40),_0x554096++,_0x1e23c6=!(0x437*-0x8+-0x1aae+0x3c67);}}_0x3a1148<_0x554096&&(_0x26a2e3['lastCamera'+'Use']=!(0x277*-0x1+-0x1391+0x1608)),!_0x154d40&&_0x26a2e3&&(_0x26a2e3['triggerPos'+'tprocess']=!(-0x162d+-0x1f37*-0x1+-0x2*0x485)),_0x27d787['renderTarg'+'et']&&_0x27d787['postEffect'+'sEnabled']&&this['propagateR'+'enderTarge'+'t'](_0x3a1148-(-0x1aac+-0x55f+-0x1*-0x200c),_0x27d787);}this['_logRender'+'Actions']();}}['getNextRen'+'derAction'](_0x17f19a){w['assert'](this['_renderAct'+'ions']['length']===_0x17f19a);const _0x7fdf00=new Pv();return this['_renderAct'+'ions']['push'](_0x7fdf00),_0x7fdf00;}['addDummyRe'+'nderAction'](_0x41e8f0,_0x41ebc5){const _0xf9bce2=this['getNextRen'+'derAction'](_0x41e8f0);_0xf9bce2['camera']=_0x41ebc5,_0xf9bce2['useCameraP'+'asses']=!(0x66*-0x1b+-0x1*0x1249+-0x5*-0x5cf);}['addRenderA'+'ction'](_0x3490a8,_0x20b8b3,_0xb47530,_0x1b91fe,_0x42c149,_0x4bbb80){let _0x3ffb79=_0x20b8b3['id']!==ps?_0x1b91fe['renderTarg'+'et']:null,_0x57e6bb=!(-0x2305*0x1+-0x1*0x883+-0x8b5*-0x5);const _0x2e11e4=this['_renderAct'+'ions'];for(let _0x1cad2e=_0x3490a8-(-0x3*-0x13f+0x1894+-0x1c50);_0x1cad2e>=-0x12cf+0xe61+0x46e;_0x1cad2e--)if(_0x2e11e4[_0x1cad2e]['camera']===_0x1b91fe&&_0x2e11e4[_0x1cad2e]['renderTarg'+'et']===_0x3ffb79){_0x57e6bb=!(-0x19*-0xda+0x2428+0x56*-0xab);break;}_0x4bbb80&&_0x1b91fe['postEffect'+'sEnabled']&&(_0x3ffb79=null);const _0x2869af=this['getNextRen'+'derAction'](_0x3490a8);_0x2869af['triggerPos'+'tprocess']=!(0x1*-0x10a3+0x3*-0x4cc+0x1f08),_0x2869af['layer']=_0x20b8b3,_0x2869af['transparen'+'t']=_0xb47530,_0x2869af['camera']=_0x1b91fe,_0x2869af['renderTarg'+'et']=_0x3ffb79,_0x2869af['firstCamer'+'aUse']=_0x42c149,_0x2869af['lastCamera'+'Use']=!(-0x2106+-0x3*0x91d+0x1e2f*0x2);const _0xaed7ee=_0x42c149||!_0x57e6bb,_0xb6f35a=_0x20b8b3['clearColor'+'Buffer']||_0x20b8b3['clearDepth'+'Buffer']||_0x20b8b3['clearStenc'+'ilBuffer'];return(_0xaed7ee||_0xb6f35a)&&_0x2869af['setupClear'+'s'](_0xaed7ee?_0x1b91fe:void(-0x1fd0+0x1cd*0x7+-0x21*-0x95),_0x20b8b3),_0x2869af;}['propagateR'+'enderTarge'+'t'](_0x2f1f0b,_0x512f12){for(let _0x7cca15=_0x2f1f0b;_0x7cca15>=-0x1*0x24d2+0x6fd+0x1dd5;_0x7cca15--){const _0xbe15d4=this['_renderAct'+'ions'][_0x7cca15],_0x1c5739=_0xbe15d4['layer'];if(_0xbe15d4['renderTarg'+'et']&&_0x1c5739['id']!==ps)break;if(_0x1c5739['id']===ps)continue;if(_0xbe15d4['useCameraP'+'asses'])break;const _0x4bfcab=_0xbe15d4==null?void(0x22b0+-0xf90+-0x1320):_0xbe15d4['camera']['camera'];if(_0x4bfcab&&(!_0x512f12['camera']['rect']['equals'](_0x4bfcab['rect'])||!_0x512f12['camera']['scissorRec'+'t']['equals'](_0x4bfcab['scissorRec'+'t'])))break;_0xbe15d4['renderTarg'+'et']=_0x512f12['renderTarg'+'et'];}}['_logRender'+'Actions'](){if(mi['get'](Vl)){w['trace'](Vl,'Render\x20Act'+'ions\x20for\x20c'+'omposition'+':\x20'+this['name']);for(let _0xbffd76=0x1757+-0x3*-0x18b+0x5*-0x598;_0xbffd76<this['_renderAct'+'ions']['length'];_0xbffd76++){const _0x1aa9a5=this['_renderAct'+'ions'][_0xbffd76],_0x1954b8=_0x1aa9a5['camera'];if(_0x1aa9a5['useCameraP'+'asses'])w['trace'](Vl,_0xbffd76+('CustomPass'+'es\x20Cam:\x20')+(_0x1954b8?_0x1954b8['entity']['name']:'-'));else{const _0x182f1e=_0x1aa9a5['layer'],_0x58bbf6=_0x182f1e['enabled']&&this['isEnabled'](_0x182f1e,_0x1aa9a5['transparen'+'t']),_0x2c89c2=(_0x1aa9a5['clearColor']?'Color\x20':'.....\x20')+(_0x1aa9a5['clearDepth']?'Depth\x20':'.....\x20')+(_0x1aa9a5['clearStenc'+'il']?'Stencil':'.......');w['trace'](Vl,_0xbffd76+('\x20Cam:\x20'+(_0x1954b8?_0x1954b8['entity']['name']:'-'))['padEnd'](-0x24d0+0x415+-0x20d1*-0x1,'\x20')+('\x20Lay:\x20'+_0x182f1e['name'])['padEnd'](0x143d+-0x3*-0x3ef+-0xa*0x332,'\x20')+(_0x1aa9a5['transparen'+'t']?'\x20TRANSP':'\x20OPAQUE')+(_0x58bbf6?'\x20ENABLED\x20':'\x20DISABLED')+('\x20RT:\x20'+(_0x1aa9a5['renderTarg'+'et']?_0x1aa9a5['renderTarg'+'et']['name']:'-'))['padEnd'](0x1c35+0x1ba2+0x9*-0x631,'\x20')+'\x20Clear:\x20'+_0x2c89c2+(_0x1aa9a5['firstCamer'+'aUse']?'\x20CAM-FIRST':'')+(_0x1aa9a5['lastCamera'+'Use']?'\x20CAM-LAST':'')+(_0x1aa9a5['triggerPos'+'tprocess']?'\x20POSTPROCE'+'SS':''));}}}}['_isLayerAd'+'ded'](_0x1a72be){const _0x49555d=this['layerIdMap']['get'](_0x1a72be['id'])===_0x1a72be;return w['assert'](!_0x49555d,'Layer\x20is\x20a'+'lready\x20add'+'ed:\x20'+_0x1a72be['name']),_0x49555d;}['_isSublaye'+'rAdded'](_0xe05cb1,_0x3082e8){return(_0x3082e8?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['get'](_0xe05cb1)!==void(0x8*0x97+0xb1+0x5*-0x115)?(w['error']('Sublayer\x20'+_0xe05cb1['name']+(',\x20transpar'+'ent:\x20')+_0x3082e8+('\x20is\x20alread'+'y\x20added.')),!(-0x1184+0x1*0x2603+-0x147f)):!(-0x182*0x6+0x172a+-0xe1d*0x1);}['push'](_0x5a23e4){this['_isLayerAd'+'ded'](_0x5a23e4)||(this['layerList']['push'](_0x5a23e4),this['layerList']['push'](_0x5a23e4),this['_opaqueOrd'+'er'][_0x5a23e4['id']]=this['subLayerLi'+'st']['push'](!(-0x2*-0xbb5+-0x8cd*-0x2+-0x1*0x2903))-(0x193c+-0x18db+-0x60),this['_transpare'+'ntOrder'][_0x5a23e4['id']]=this['subLayerLi'+'st']['push'](!(-0x5*-0x32f+-0x2cc+0xd1f*-0x1))-(0xe35+-0x1bcb+0xd97),this['subLayerEn'+'abled']['push'](!(-0xc*-0x186+-0x551+0x1*-0xcf7)),this['subLayerEn'+'abled']['push'](!(0x1c3b+-0x1de1+0x1a6)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x2348+-0xd6*0x6+-0x2*0xf22),this['fire']('add',_0x5a23e4));}['insert'](_0x176b13,_0x268027){if(this['_isLayerAd'+'ded'](_0x176b13))return;this['layerList']['splice'](_0x268027,-0x6*0x489+0x67*0x18+0x118e,_0x176b13,_0x176b13),this['subLayerLi'+'st']['splice'](_0x268027,0x1e2e+-0x1a59+0x3d5*-0x1,!(-0x19dd*0x1+0x1a31+-0x1*0x53),!(-0x1*-0x1dc8+0x22b2+-0x1*0x407a));const _0x10fdf6=this['layerList']['length'];this['_updateOpa'+'queOrder'](_0x268027,_0x10fdf6-(0x8*-0x1d6+0x11f*-0x1d+-0xe4*-0x35)),this['_updateTra'+'nsparentOr'+'der'](_0x268027,_0x10fdf6-(0x2*-0x2f5+-0x4*0x19d+0xc5f)),this['subLayerEn'+'abled']['splice'](_0x268027,0x25*0x49+0x15b3+0x102*-0x20,!(-0x88+0x17e*-0x4+-0x4*-0x1a0),!(-0x115*0x5+0x1972+-0x1409)),this['_updateLay'+'erMaps'](),this['_dirty']=!(-0xe*-0x6d+-0x12ef+0xcf9),this['fire']('add',_0x176b13);}['remove'](_0x5ced5f){let _0x18001b=this['layerList']['indexOf'](_0x5ced5f);for(delete this['_opaqueOrd'+'er'][_0x18001b],delete this['_transpare'+'ntOrder'][_0x18001b];_0x18001b>=-0x14e2+0x1*0x1591+-0xaf;)this['layerList']['splice'](_0x18001b,0x1ff2+0x24fb+-0x44ec),this['subLayerLi'+'st']['splice'](_0x18001b,0x1026+0x3d9*-0x1+0x2*-0x626),this['subLayerEn'+'abled']['splice'](_0x18001b,0x1d6f*0x1+0x3b9*0x3+-0x2899),_0x18001b=this['layerList']['indexOf'](_0x5ced5f),this['_dirty']=!(-0x42a+-0x8e0*0x3+-0x233*-0xe),this['fire']('remove',_0x5ced5f);const _0x2cb416=this['layerList']['length'];this['_updateOpa'+'queOrder'](0x1d5e+-0x29*0x92+0x17f*-0x4,_0x2cb416-(-0x1*-0x13a6+-0x225c+0xeb7)),this['_updateTra'+'nsparentOr'+'der'](0x2*-0x503+-0x1*0x1b1f+-0x2525*-0x1,_0x2cb416-(-0xfc3+-0x33*0x51+0x1*0x1fe7)),this['_updateLay'+'erMaps']();}['pushOpaque'](_0x564a8d){this['_isSublaye'+'rAdded'](_0x564a8d,!(-0x1a*-0xc1+-0x6d4+-0xcc5))||(this['layerList']['push'](_0x564a8d),this['_opaqueOrd'+'er'][_0x564a8d['id']]=this['subLayerLi'+'st']['push'](!(-0x14c1+-0x610*-0x6+-0xf9e))-(0x1f01+0x847+0x2747*-0x1),this['subLayerEn'+'abled']['push'](!(-0x2*0x2b5+-0x1d01+-0xb79*-0x3)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0xb3+-0x16cb+-0xca*-0x1c),this['fire']('add',_0x564a8d));}['insertOpaq'+'ue'](_0x2c083c,_0x538d65){if(this['_isSublaye'+'rAdded'](_0x2c083c,!(-0x16fc+0x719+0xfe4)))return;this['layerList']['splice'](_0x538d65,-0x2*-0x9ed+0x2f*0xc2+-0x3778,_0x2c083c),this['subLayerLi'+'st']['splice'](_0x538d65,-0x1*0x266f+-0x11b2+0x3821,!(0x1c7a+0x1517*0x1+-0x3190));const _0xd84d45=this['subLayerLi'+'st']['length'];this['_updateOpa'+'queOrder'](_0x538d65,_0xd84d45-(0x2e*0x5+-0x17ec+0x1707)),this['subLayerEn'+'abled']['splice'](_0x538d65,-0x89e+0x2fe*-0x4+0x1496,!(0x26*0x19+-0x1*-0x1176+-0x152c)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x1*0x233+0x140+-0x373),this['fire']('add',_0x2c083c);}['removeOpaq'+'ue'](_0x5b7df8){for(let _0x58ded6=-0x1c54+-0x1745+0x11*0x309,_0x883907=this['layerList']['length'];_0x58ded6<_0x883907;_0x58ded6++)if(this['layerList'][_0x58ded6]===_0x5b7df8&&!this['subLayerLi'+'st'][_0x58ded6]){this['layerList']['splice'](_0x58ded6,0x69*-0x1+-0x1510+0x2*0xabd),this['subLayerLi'+'st']['splice'](_0x58ded6,0x6fe*-0x3+-0xa1+0x6*0x39a),_0x883907--,this['_updateOpa'+'queOrder'](_0x58ded6,_0x883907-(-0x236a+-0x154f+0x1*0x38ba)),this['subLayerEn'+'abled']['splice'](_0x58ded6,0x6*0x1b3+-0x191c+-0x43*-0x39),this['_dirty']=!(-0x974+-0x73e+0x2*0x859),this['layerList']['indexOf'](_0x5b7df8)<-0x1bb+0xed9+0x2*-0x68f&&this['fire']('remove',_0x5b7df8);break;}this['_updateLay'+'erMaps']();}['pushTransp'+'arent'](_0x34cba7){this['_isSublaye'+'rAdded'](_0x34cba7,!(0x15c7+-0x1a47*-0x1+0x1*-0x300e))||(this['layerList']['push'](_0x34cba7),this['_transpare'+'ntOrder'][_0x34cba7['id']]=this['subLayerLi'+'st']['push'](!(0x10b0+0xaed+0x1*-0x1b9d))-(-0x124b+-0x7*-0x3c0+-0x7f4),this['subLayerEn'+'abled']['push'](!(-0x1b2*0x7+-0x3*-0xcdd+0x1*-0x1ab9)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x59*0x5+0x13*0x13+-0x326),this['fire']('add',_0x34cba7));}['insertTran'+'sparent'](_0x108507,_0x2b95f7){if(this['_isSublaye'+'rAdded'](_0x108507,!(-0x9*0x23b+0x127d+0x196)))return;this['layerList']['splice'](_0x2b95f7,-0x109d+-0x1196+0x2233,_0x108507),this['subLayerLi'+'st']['splice'](_0x2b95f7,-0x2367+-0x1811+-0xede*-0x4,!(0xd7*-0x6+-0xfa5+0x14af));const _0x475b8f=this['subLayerLi'+'st']['length'];this['_updateTra'+'nsparentOr'+'der'](_0x2b95f7,_0x475b8f-(0x1f18+0x13*0x1f1+0xe2*-0x4d)),this['subLayerEn'+'abled']['splice'](_0x2b95f7,0x1374+-0x1e9c*0x1+-0x3b8*-0x3,!(-0xa59+0x653*-0x2+0x349*0x7)),this['_updateLay'+'erMaps'](),this['_dirty']=!(0x170*-0x2+0x16f*0xa+-0x6*0x1e9),this['fire']('add',_0x108507);}['removeTran'+'sparent'](_0x43de09){for(let _0x17fe84=-0x5a5+-0x683*0x3+-0x192e*-0x1,_0x2534fc=this['layerList']['length'];_0x17fe84<_0x2534fc;_0x17fe84++)if(this['layerList'][_0x17fe84]===_0x43de09&&this['subLayerLi'+'st'][_0x17fe84]){this['layerList']['splice'](_0x17fe84,0x154a+0x10b1+-0x25fa),this['subLayerLi'+'st']['splice'](_0x17fe84,-0x18be+0x2701+-0x2da*0x5),_0x2534fc--,this['_updateTra'+'nsparentOr'+'der'](_0x17fe84,_0x2534fc-(-0x77d+0x1*0x10c6+-0x948)),this['subLayerEn'+'abled']['splice'](_0x17fe84,-0x193+-0x19*-0xd3+-0x1307),this['_dirty']=!(-0x19a+0x31*0x65+0x5e9*-0x3),this['layerList']['indexOf'](_0x43de09)<0x3*0x79d+-0xcce+-0xa09&&this['fire']('remove',_0x43de09);break;}this['_updateLay'+'erMaps']();}['getOpaqueI'+'ndex'](_0x5a5c47){return this['layerOpaqu'+'eIndexMap']['get'](_0x5a5c47)??-(-0x192b+0x1943*0x1+-0x17);}['getTranspa'+'rentIndex'](_0x4fb069){return this['layerTrans'+'parentInde'+'xMap']['get'](_0x4fb069)??-(-0x17e8+0x2b*0x33+0xf58);}['isEnabled'](_0x117080,_0x2544d9){if(_0x117080['enabled']){const _0x45853a=_0x2544d9?this['getTranspa'+'rentIndex'](_0x117080):this['getOpaqueI'+'ndex'](_0x117080);if(_0x45853a>=0x1*-0xec2+0xb*-0x2c+0x10a6)return this['subLayerEn'+'abled'][_0x45853a];}return!(-0x750+0xe40+0x163*-0x5);}['_updateLay'+'erMaps'](){this['layerIdMap']['clear'](),this['layerNameM'+'ap']['clear'](),this['layerOpaqu'+'eIndexMap']['clear'](),this['layerTrans'+'parentInde'+'xMap']['clear']();for(let _0x43cb1d=-0x1eda+0x222d+-0x353;_0x43cb1d<this['layerList']['length'];_0x43cb1d++){const _0x570c7c=this['layerList'][_0x43cb1d];this['layerIdMap']['set'](_0x570c7c['id'],_0x570c7c),this['layerNameM'+'ap']['set'](_0x570c7c['name'],_0x570c7c),(this['subLayerLi'+'st'][_0x43cb1d]?this['layerTrans'+'parentInde'+'xMap']:this['layerOpaqu'+'eIndexMap'])['set'](_0x570c7c,_0x43cb1d);}}['getLayerBy'+'Id'](_0x4e70e9){return this['layerIdMap']['get'](_0x4e70e9)??null;}['getLayerBy'+'Name'](_0x11768f){return this['layerNameM'+'ap']['get'](_0x11768f)??null;}['_updateOpa'+'queOrder'](_0x173852,_0x2c348b){for(let _0x3973c8=_0x173852;_0x3973c8<=_0x2c348b;_0x3973c8++)this['subLayerLi'+'st'][_0x3973c8]===!(0x2553+-0x128f+0x12c3*-0x1)&&(this['_opaqueOrd'+'er'][this['layerList'][_0x3973c8]['id']]=_0x3973c8);}['_updateTra'+'nsparentOr'+'der'](_0x5925bf,_0x14a00c){for(let _0x3b7f1f=_0x5925bf;_0x3b7f1f<=_0x14a00c;_0x3b7f1f++)this['subLayerLi'+'st'][_0x3b7f1f]===!(0xed6+-0x115f+0x289*0x1)&&(this['_transpare'+'ntOrder'][this['layerList'][_0x3b7f1f]['id']]=_0x3b7f1f);}['_sortLayer'+'sDescendin'+'g'](_0x20e4d6,_0x10ba3f,_0x294236){let _0x16213a=-(0x3*0x89b+-0x1f6+-0x17da),_0x1afd89=-(-0x4cf*-0x6+-0x6*0xcf+-0x17ff);for(let _0x1075c4=-0x1a56+-0x1c05*-0x1+0x1*-0x1af,_0x23e1de=_0x20e4d6['length'];_0x1075c4<_0x23e1de;_0x1075c4++){const _0x1ffe38=_0x20e4d6[_0x1075c4];_0x294236['hasOwnProp'+'erty'](_0x1ffe38)&&(_0x16213a=Math['max'](_0x16213a,_0x294236[_0x1ffe38]));}for(let _0x1aef75=0x26b1+-0x199f+-0xd12,_0x392043=_0x10ba3f['length'];_0x1aef75<_0x392043;_0x1aef75++){const _0x3bfd0b=_0x10ba3f[_0x1aef75];_0x294236['hasOwnProp'+'erty'](_0x3bfd0b)&&(_0x1afd89=Math['max'](_0x1afd89,_0x294236[_0x3bfd0b]));}return _0x16213a===-(-0xde6+0x1ef0+-0x1109)&&_0x1afd89!==-(0xb62*0x3+-0x2*0xa1+-0x20e3)?-0xd*-0x1b1+-0x1408+-0xfa*0x2:_0x1afd89===-(0xc89*0x3+0x107f+-0x3619)&&_0x16213a!==-(-0x1e12+-0x1*-0xccf+-0x451*-0x4)?-(-0xe5*0x1e+-0x2396+0x3e6d):_0x1afd89-_0x16213a;}['sortTransp'+'arentLayer'+'s'](_0xefcf00,_0x18b3fb){return this['_sortLayer'+'sDescendin'+'g'](_0xefcf00,_0x18b3fb,this['_transpare'+'ntOrder']);}['sortOpaque'+'Layers'](_0x49727e,_0x57a292){return this['_sortLayer'+'sDescendin'+'g'](_0x49727e,_0x57a292,this['_opaqueOrd'+'er']);}}const dc=new D(),wi={'bias':0x0,'normalBias':0x0},ho=new ie(),pf={'r':0x0,'g':0x1,'b':0x2,'a':0x3},fu={'directional':ve,'omni':Ke,'point':Ke,'spot':Ze},lA=[[new re(-0x2*0x77f+-0x555+0x1453,-0x1d18+0xaf4+0x1224,-0x13*0x8b+0x623*0x1+0x3*0x165,0x1*0x13d5+-0x2455+0x1081)],[new re(-0x4*-0x728+-0x1664+-0x63c,-0x2b*0xe+0x1*0x605+-0x3ab,-0x1a72+0x633*0x1+-0x143f*-0x1+0.5,-0x157b+0x646+-0x1*-0xf35+0.5),new re(0x13e2+0x9*0x169+-0x1*0x2093,-0x2a*0x41+0x2*0x12fd+-0x6d4*0x4+0.5,-0x5b0+-0xfc4+0x1*0x1574+0.5,-0x29*-0x44+-0x21fb*0x1+-0x17*-0x101+0.5)],[new re(0x7*0x49f+-0x379*-0xb+-0x468c,0x1f5d+-0x13*-0xb4+-0x2cb9,-0x118e+0x1765+-0x17*0x41+0.5,-0x1*-0x16eb+-0x365*0x4+0x3*-0x31d+0.5),new re(-0x1278+-0x15de*0x1+0x2856,-0x1131+0x1*0xbbd+0x574+0.5,0xf34+-0x18c4+0x990+0.5,-0xb9*-0x7+0x971+-0xe80+0.5),new re(0x4*-0x316+0x920+0x338+0.5,0xe1d+-0x86*-0x2c+-0x2525,-0x27*-0x7c+-0x72d+-0x1*0xbb7+0.5,0x230*0xf+-0x2707+0x637*0x1+0.5)],[new re(-0x1ddb+-0x1694+0x346f,-0x1244+-0x2015+0x1*0x3259,-0x2*0x122b+-0x1*-0xc82+-0x4*-0x5f5+0.5,0x4*0x6c5+0x1281+-0x2d95+0.5),new re(-0x1*0x14ba+0x11*0x8e+-0x3c4*-0x3,0x2446+-0x1ce1*0x1+0x3*-0x277+0.5,0x1243+0x1327+-0x2*0x12b5+0.5,-0x1*-0x1d86+-0x29*0x1f+-0x1*0x188f+0.5),new re(0x1067*-0x2+0xcd4+0x13fa+0.5,-0x4*-0x3ee+-0x2441+0x1489,0xf21*-0x2+0x2566+0x1c9*-0x4+0.5,0x4*0x66+-0x1130+-0x8*-0x1f3+0.5),new re(0x1*-0x2651+-0x19a*-0xa+-0x3*-0x76f+0.5,0x1f1a+-0x7*0x1b7+0x1*-0x1319+0.5,0x1481+-0x1b43+0x5*0x15a+0.5,0x1d88+0x1990+0x2b*-0x148+0.5)]],cA={'rrr':0x1,'ggg':0x2,'bbb':0x4,'aaa':0x8,'rgb':0x7};let hA=-0x7*0x565+-0x228*-0x6+0x18d3;class dA{constructor(_0x910299,_0x16ee3b,_0x1f0eb2){this['light']=_0x1f0eb2,this['camera']=_0x910299,this['shadowCame'+'ra']=Cv['createShad'+'owCamera'](_0x1f0eb2['_shadowTyp'+'e'],_0x1f0eb2['_type'],_0x16ee3b),this['shadowMatr'+'ix']=new te(),this['shadowView'+'port']=new re(0x1eea+-0x127e*-0x1+-0x3168,-0x1023+0x1*-0x5af+0x15d2,0x3d*0x22+0x13*0x35+-0x58*0x23,0x1335+0xbb*-0x1+0x1*-0x1279),this['shadowScis'+'sor']=new re(-0x14bf+-0x583+0x1a42,-0xb*0x359+0x1c27+0x8ac,0x7e5+-0x140c+0xc28,0xe27+-0xcc1+-0x165),this['projection'+'Compensati'+'on']=-0x1*-0x20c+-0x1d9d+0x1b91,this['face']=_0x16ee3b,this['visibleCas'+'ters']=[],this['viewBindGr'+'oups']=[];}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x3d3616=>{_0x3d3616['defaultUni'+'formBuffer']['destroy'](),_0x3d3616['destroy']();}),this['viewBindGr'+'oups']['length']=-0x13*-0x106+-0x25bc+0x124a*0x1;}get['shadowBuff'+'er'](){const _0x475ce8=this['shadowCame'+'ra']['renderTarg'+'et'];return _0x475ce8?this['light']['_isPcf']?_0x475ce8['depthBuffe'+'r']:_0x475ce8['colorBuffe'+'r']:null;}}class pl{constructor(_0x4e92e3,_0x52531d){h(this,'layers',new Set()),h(this,'clusteredL'+'ighting'),h(this,'shadowDept'+'hState',Yt['DEFAULT']['clone']()),h(this,'clusteredF'+'lags',-0xef*0x13+0x42c*0x5+-0x31f*0x1),h(this,'clusteredD'+'ata',new Uint32Array(0x45c+0x2322+-0x277b)),h(this,'clusteredD'+'ata16',new Uint16Array(this['clusteredD'+'ata']['buffer'])),h(this,'_evtDevice'+'Restored',null),(this['device']=_0x4e92e3,this['clusteredL'+'ighting']=_0x52531d,this['id']=hA++,this['_evtDevice'+'Restored']=_0x4e92e3['on']('devicerest'+'ored',this['onDeviceRe'+'stored'],this),this['_type']=ve,this['_color']=new ie(0x819*-0x3+-0x17*-0x125+-0x208+0.8,-0x352*-0x5+0x18bb*0x1+0x2955*-0x1+0.8,-0x1dc8+-0x159d+0x3365+0.8),this['_intensity']=-0x3ed*0x7+-0x266d+0x41e9,this['_affectSpe'+'cularity']=!(0x675*-0x3+0x7f1+0xb6e),this['_luminance']=-0x21*-0x51+0x78a+0x11fb*-0x1,this['_castShado'+'ws']=!(0x55*-0x5b+0x1d04+0x134),this['_enabled']=!(0x15c8+-0x315*0x8+-0x43*-0xb),this['_mask']=Ss,this['isStatic']=!(-0x40f+0x11b2+0x2ba*-0x5),this['key']=-0x2533+0x181d*0x1+0xd16,this['bakeDir']=!(0x4b*0x37+-0x1e5f+-0xe42*-0x1),this['bakeNumSam'+'ples']=0xe91+-0x19a5+0x1*0xb15,this['bakeArea']=-0x1120+-0x16b*-0xf+-0x425,this['attenuatio'+'nStart']=0x2542+-0x1*-0x613+-0x1*0x2b4b,this['attenuatio'+'nEnd']=0x16*0x16f+-0x23ba+-0x21d*-0x2,this['_falloffMo'+'de']=Qp,this['_shadowTyp'+'e']=$s,this['_vsmBlurSi'+'ze']=-0x194c+-0x1534+0x2e8b,this['vsmBlurMod'+'e']=em,this['vsmBias']=(0x4be*0x3+-0x139c+0x6a*0xd+0.01)*(-0x36e+0xc35+-0x8c7+0.25),this['_cookie']=null,this['cookieInte'+'nsity']=-0xc72+-0x25f2+0x85*0x61,this['_cookieFal'+'loff']=!(0xdbe+0x14a4*0x1+0x6*-0x5bb),this['_cookieCha'+'nnel']='rgb',this['_cookieTra'+'nsform']=null,this['_cookieTra'+'nsformUnif'+'orm']=new Float32Array(0x2*0x570+-0xb*-0x1eb+-0x1ff5),this['_cookieOff'+'set']=null,this['_cookieOff'+'setUniform']=new Float32Array(-0x2175+0x62f+0x1b48),this['_cookieTra'+'nsformSet']=!(0x2387+0xd86+0x1886*-0x2),this['_cookieOff'+'setSet']=!(0x59*-0x4e+-0x1113+-0x2c32*-0x1),this['_innerCone'+'Angle']=0x14f5+-0x38b*0x9+0xb16,this['_outerCone'+'Angle']=-0x15*0xfb+0x1c34+-0x770,this['cascades']=null,this['_shadowMat'+'rixPalette']=null,this['_shadowCas'+'cadeDistan'+'ces']=null,this['numCascade'+'s']=-0x29*-0xd1+0x1098+0x90*-0x59,this['_cascadeBl'+'end']=-0x152*-0x10+0x1*-0x1bd7+0x6b7,this['cascadeDis'+'tribution']=-0xbf*-0x2c+0x6cb+-0x279f+0.5,this['_shape']=Ys,this['_colorLine'+'ar']=new Float32Array(-0xd+-0x2599+0x25a9),this['_updateLin'+'earColor'](),this['_position']=new D(-0x1b8b+-0x16f*0xa+-0x97*-0x47,-0xccb+0x893*-0x3+-0x3da*-0xa,0x25ab+-0x2*-0xfc3+0x1*-0x4531),this['_direction']=new D(-0x12*0xd5+-0x2168+0x3062,0x1d2e+0x1*-0x1b27+-0x207,0x9f9+0x105*0x6+-0x55d*0x3),this['_innerCone'+'AngleCos']=Math['cos'](this['_innerCone'+'Angle']*Math['PI']/(0xced*-0x1+0x3*-0x266+0x14d3)),this['_updateOut'+'erAngle'](this['_outerCone'+'Angle']),this['_usePhysic'+'alUnits']=void(0x1*-0xcdd+0xd*0x23+-0xb*-0x102),this['_shadowMap']=null,this['_shadowRen'+'derParams']=[],this['_shadowCam'+'eraParams']=[],this['shadowDist'+'ance']=-0x1216+0x102a+-0x2*-0x10a,this['_shadowRes'+'olution']=-0x4c6+-0x1*-0x2fd+-0x1*-0x5c9,this['_shadowBia'+'s']=-(0x8*-0x123+0x123+0x7f5+0.0005),this['_shadowInt'+'ensity']=0x1047+0x796*0x3+-0x2708,this['_normalOff'+'setBias']=0x10da*0x1+-0x10b1*-0x2+0x191e*-0x2,this['shadowUpda'+'teMode']=lm,this['shadowUpda'+'teOverride'+'s']=null,this['_isVsm']=!(0x97e+-0x115f*0x1+0x7e2),this['_isPcf']=!(0x40*0x1a+-0x9d5*-0x3+-0x23ff*0x1),this['_softShado'+'wParams']=new Float32Array(-0x846+0x795+0xb5),this['shadowSamp'+'les']=-0x989+0x3cc*0x1+0x5cd,this['shadowBloc'+'kerSamples']=0x1*-0x192e+-0x3b9*0x3+0x2469,this['penumbraSi'+'ze']=-0x1e49+0x1c6+0x1c84*0x1,this['penumbraFa'+'lloff']=-0x1*0x17c0+0x1720+0x1*0xa1,this['_cookieMat'+'rix']=null,this['_atlasView'+'port']=null,this['atlasViewp'+'ortAllocat'+'ed']=!(0x17*0x37+-0x3a*-0x51+-0xba5*0x2),this['atlasVersi'+'on']=-0x1*0xcd8+-0x5f1+-0x1*-0x12c9,this['atlasSlotI'+'ndex']=0x1100+0x19bd+-0x2abd,this['atlasSlotU'+'pdated']=!(-0x2*-0x57f+-0x11b6+0x6b9),this['_node']=null,this['_renderDat'+'a']=[],this['visibleThi'+'sFrame']=!(-0x1*-0xe36+-0xe*-0x15d+-0x214b),this['maxScreenS'+'ize']=-0x226e+-0xe9+0x2357,this['_updateSha'+'dowBias']());}['destroy'](){var _0x25250f;(_0x25250f=this['_evtDevice'+'Restored'])==null||_0x25250f['off'](),this['_evtDevice'+'Restored']=null,this['_destroySh'+'adowMap'](),this['releaseRen'+'derData'](),this['_renderDat'+'a']=null;}['onDeviceRe'+'stored'](){this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr);}['releaseRen'+'derData'](){if(this['_renderDat'+'a']){for(let _0x1e6469=0x15*-0x103+0x4e9*-0x5+-0x3*-0xf44;_0x1e6469<this['_renderDat'+'a']['length'];_0x1e6469++)this['_renderDat'+'a'][_0x1e6469]['destroy']();this['_renderDat'+'a']['length']=0x84c+0x97e+-0x11ca;}}['addLayer'](_0x2cd885){this['layers']['add'](_0x2cd885);}['removeLaye'+'r'](_0x204326){this['layers']['delete'](_0x204326);}set['shadowSamp'+'les'](_0xf8ce12){this['_softShado'+'wParams'][0x459+0x1af9+-0x1f52]=_0xf8ce12;}get['shadowSamp'+'les'](){return this['_softShado'+'wParams'][-0x2b*0x7+-0x9*0x171+0xe26*0x1];}set['shadowBloc'+'kerSamples'](_0xf8dcf){this['_softShado'+'wParams'][-0x1bb1*0x1+-0xac*-0x36+0x7*-0x13a]=_0xf8dcf;}get['shadowBloc'+'kerSamples'](){return this['_softShado'+'wParams'][-0xf8a+0x22b0+-0x1325];}set['shadowBias'](_0x55dc6a){this['_shadowBia'+'s']!==_0x55dc6a&&(this['_shadowBia'+'s']=_0x55dc6a,this['_updateSha'+'dowBias']());}get['shadowBias'](){return this['_shadowBia'+'s'];}set['numCascade'+'s'](_0x443f94){(!this['cascades']||this['numCascade'+'s']!==_0x443f94)&&(this['cascades']=lA[_0x443f94-(0x231a+0x1514+-0x382d)],this['_shadowMat'+'rixPalette']=new Float32Array(-0x15*0x11f+-0x775*0x2+0x26b5),this['_shadowCas'+'cadeDistan'+'ces']=new Float32Array(-0x1b*0x7f+0x3*0x101+0xa66),this['_destroySh'+'adowMap'](),this['updateKey']());}get['numCascade'+'s'](){return this['cascades']['length'];}set['cascadeBle'+'nd'](_0x15b398){this['_cascadeBl'+'end']!==_0x15b398&&(this['_cascadeBl'+'end']=_0x15b398,this['updateKey']());}get['cascadeBle'+'nd'](){return this['_cascadeBl'+'end'];}set['shadowMap'](_0x451b34){this['_shadowMap']!==_0x451b34&&(this['_destroySh'+'adowMap'](),this['_shadowMap']=_0x451b34);}get['shadowMap'](){return this['_shadowMap'];}set['mask'](_0x44b2aa){this['_mask']!==_0x44b2aa&&(this['_mask']=_0x44b2aa,this['updateKey'](),this['updateClus'+'teredFlags']());}get['mask'](){return this['_mask'];}get['numShadowF'+'aces'](){const _0x5de4af=this['_type'];return _0x5de4af===ve?this['numCascade'+'s']:_0x5de4af===Ke?-0x118d+0x4bf+-0xcd4*-0x1:0x1c33*0x1+-0x1ada+-0x158;}set['type'](_0x4f9e47){if(this['_type']===_0x4f9e47)return;this['_type']=_0x4f9e47,this['_destroySh'+'adowMap'](),this['_updateSha'+'dowBias'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0xcb9714=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowUpda'+'teOverride'+'s']=null,this['shadowType']=_0xcb9714;}get['type'](){return this['_type'];}set['shape'](_0x48e668){if(this['_shape']===_0x48e668)return;this['_shape']=_0x48e668,this['_destroySh'+'adowMap'](),this['updateKey'](),this['updateClus'+'teredFlags']();const _0x551746=this['_shadowTyp'+'e'];this['_shadowTyp'+'e']=null,this['shadowType']=_0x551746;}get['shape'](){return this['_shape'];}set['usePhysica'+'lUnits'](_0x1674a7){this['_usePhysic'+'alUnits']!==_0x1674a7&&(this['_usePhysic'+'alUnits']=_0x1674a7,this['_updateLin'+'earColor']());}get['usePhysica'+'lUnits'](){return this['_usePhysic'+'alUnits'];}set['shadowType'](_0x25b676){if(this['_shadowTyp'+'e']===_0x25b676)return;let _0x38c4f7=qi['get'](_0x25b676);_0x38c4f7||(_0x25b676=$s);const _0x4a8de1=this['device'];_0x25b676===al&&!_0x4a8de1['textureFlo'+'atRenderab'+'le']&&!_0x4a8de1['textureHal'+'fFloatRend'+'erable']&&(_0x25b676=$s),this['_type']===Ke&&_0x25b676!==tv&&_0x25b676!==$s&&_0x25b676!==sv&&_0x25b676!==iv&&_0x25b676!==al&&(_0x25b676=$s),_0x25b676===Jp&&(!_0x4a8de1['textureFlo'+'atRenderab'+'le']||!_0x4a8de1['textureFlo'+'atFilterab'+'le'])&&(_0x25b676=au),_0x25b676===au&&!_0x4a8de1['textureHal'+'fFloatRend'+'erable']&&(_0x25b676=$s),_0x38c4f7=qi['get'](_0x25b676),this['_isVsm']=(_0x38c4f7==null?void(0x118e+0x8e5*0x3+-0x2c3d):_0x38c4f7['vsm'])??!(0xa63+0x249b+-0x2efd),this['_isPcf']=(_0x38c4f7==null?void(0x27c+-0x5ab*0x6+0x1f86):_0x38c4f7['pcf'])??!(-0xa5*-0x2f+0x29*0x3+0x1ec5*-0x1),this['_shadowTyp'+'e']=_0x25b676,this['_destroySh'+'adowMap'](),this['updateKey']();}get['shadowType'](){return this['_shadowTyp'+'e'];}set['enabled'](_0x3b07a3){this['_enabled']!==_0x3b07a3&&(this['_enabled']=_0x3b07a3,this['layersDirt'+'y']());}get['enabled'](){return this['_enabled'];}set['castShadow'+'s'](_0x1a674a){this['_castShado'+'ws']!==_0x1a674a&&(this['_castShado'+'ws']=_0x1a674a,this['_destroySh'+'adowMap'](),this['layersDirt'+'y'](),this['updateKey']());}get['castShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']!==fi&&this['_mask']!==-0x1*-0x3bf+-0x10*-0x61+-0x9cf;}set['shadowInte'+'nsity'](_0x5e215b){this['_shadowInt'+'ensity']!==_0x5e215b&&(this['_shadowInt'+'ensity']=_0x5e215b,this['updateKey']());}get['shadowInte'+'nsity'](){return this['_shadowInt'+'ensity'];}get['bakeShadow'+'s'](){return this['_castShado'+'ws']&&this['_mask']===fi;}set['shadowReso'+'lution'](_0x1f15b7){this['_shadowRes'+'olution']!==_0x1f15b7&&(this['_type']===Ke?_0x1f15b7=Math['min'](_0x1f15b7,this['device']['maxCubeMap'+'Size']):_0x1f15b7=Math['min'](_0x1f15b7,this['device']['maxTexture'+'Size']),this['_shadowRes'+'olution']=_0x1f15b7,this['_destroySh'+'adowMap']());}get['shadowReso'+'lution'](){return this['_shadowRes'+'olution'];}set['vsmBlurSiz'+'e'](_0xce503c){this['_vsmBlurSi'+'ze']!==_0xce503c&&(_0xce503c%(0x24b0+0x7*-0xd6+-0x1ed4)===-0x1bc+-0x1dbf*-0x1+-0x1c03&&_0xce503c++,this['_vsmBlurSi'+'ze']=_0xce503c);}get['vsmBlurSiz'+'e'](){return this['_vsmBlurSi'+'ze'];}set['normalOffs'+'etBias'](_0x564f43){if(this['_normalOff'+'setBias']!==_0x564f43){const _0x2358db=!this['_normalOff'+'setBias']&&_0x564f43||this['_normalOff'+'setBias']&&!_0x564f43;this['_normalOff'+'setBias']=_0x564f43,_0x2358db&&this['updateKey']();}}get['normalOffs'+'etBias'](){return this['_normalOff'+'setBias'];}set['falloffMod'+'e'](_0x2d6957){this['_falloffMo'+'de']!==_0x2d6957&&(this['_falloffMo'+'de']=_0x2d6957,this['updateKey'](),this['updateClus'+'teredFlags']());}get['falloffMod'+'e'](){return this['_falloffMo'+'de'];}set['innerConeA'+'ngle'](_0x165a29){this['_innerCone'+'Angle']!==_0x165a29&&(this['_innerCone'+'Angle']=_0x165a29,this['_innerCone'+'AngleCos']=Math['cos'](_0x165a29*Math['PI']/(-0x1868+-0x352+0x1c6e)),this['updateClus'+'terData'](!(0x2*-0xba9+0x7c5+0xf8e),!(0xa1*0x2+0x2132+-0x8c*0x3f)),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['innerConeA'+'ngle'](){return this['_innerCone'+'Angle'];}set['outerConeA'+'ngle'](_0xfb3034){this['_outerCone'+'Angle']!==_0xfb3034&&(this['_outerCone'+'Angle']=_0xfb3034,this['_updateOut'+'erAngle'](_0xfb3034),this['_usePhysic'+'alUnits']&&this['_updateLin'+'earColor']());}get['outerConeA'+'ngle'](){return this['_outerCone'+'Angle'];}set['penumbraSi'+'ze'](_0x4eb9e3){this['_penumbraS'+'ize']=_0x4eb9e3,this['_softShado'+'wParams'][-0x2*-0x692+-0xc0c+0x1*-0x116]=_0x4eb9e3;}get['penumbraSi'+'ze'](){return this['_penumbraS'+'ize'];}set['penumbraFa'+'lloff'](_0x312e88){this['_softShado'+'wParams'][-0x16dc+0x1*0x8a9+0x1*0xe36]=_0x312e88;}get['penumbraFa'+'lloff'](){return this['_softShado'+'wParams'][-0x210c+0x4cc*0x2+-0x1*-0x1777];}['_updateOut'+'erAngle'](_0x4edc8f){const _0x114ccd=_0x4edc8f*Math['PI']/(-0x22a*0x1+0x62d+-0x34f);this['_outerCone'+'AngleCos']=Math['cos'](_0x114ccd),this['_outerCone'+'AngleSin']=Math['sin'](_0x114ccd),this['updateClus'+'terData'](!(0x9f8+-0x249+-0x7ae),!(0x4b9+-0x2ab*0xc+-0x1*-0x1b4b));}set['intensity'](_0x4de355){this['_intensity']!==_0x4de355&&(this['_intensity']=_0x4de355,this['_updateLin'+'earColor']());}get['intensity'](){return this['_intensity'];}set['affectSpec'+'ularity'](_0x4fc7b3){this['_type']===ve&&(this['_affectSpe'+'cularity']=_0x4fc7b3,this['updateKey']());}get['affectSpec'+'ularity'](){return this['_affectSpe'+'cularity'];}set['luminance'](_0x4b3df5){this['_luminance']!==_0x4b3df5&&(this['_luminance']=_0x4b3df5,this['_updateLin'+'earColor']());}get['luminance'](){return this['_luminance'];}get['cookieMatr'+'ix'](){return this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new te()),this['_cookieMat'+'rix'];}get['atlasViewp'+'ort'](){return this['_atlasView'+'port']||(this['_atlasView'+'port']=new re(0x97*0x21+-0xf16*0x1+0x13*-0x3b,0x5f3+-0x76c+0x179*0x1,-0x2*0xb1b+0x1*-0x329+0x1960,0x26fd+-0x13d7+-0x1325)),this['_atlasView'+'port'];}set['cookie'](_0x43c6e1){this['_cookie']!==_0x43c6e1&&(this['_cookie']=_0x43c6e1,this['updateKey']());}get['cookie'](){return this['_cookie'];}set['cookieFall'+'off'](_0x26f66e){this['_cookieFal'+'loff']!==_0x26f66e&&(this['_cookieFal'+'loff']=_0x26f66e,this['updateKey']());}get['cookieFall'+'off'](){return this['_cookieFal'+'loff'];}set['cookieChan'+'nel'](_0x5bee1c){if(this['_cookieCha'+'nnel']!==_0x5bee1c){if(_0x5bee1c['length']<-0x17*-0xa9+0x2*0xe35+-0x2b96){const _0x4b6eb7=_0x5bee1c['charAt'](_0x5bee1c['length']-(0x62f*-0x5+0x4d5*0x5+-0x3*-0x241)),_0x9d0a77=0x628+-0x25d7*0x1+0x2*0xfd9-_0x5bee1c['length'];for(let _0x4cd871=-0x14*-0x5+0xb09+-0x75*0x19;_0x4cd871<_0x9d0a77;_0x4cd871++)_0x5bee1c+=_0x4b6eb7;}this['_cookieCha'+'nnel']=_0x5bee1c,this['updateKey'](),this['updateClus'+'teredFlags']();}}get['cookieChan'+'nel'](){return this['_cookieCha'+'nnel'];}set['cookieTran'+'sform'](_0x435cb9){this['_cookieTra'+'nsform']!==_0x435cb9&&(this['_cookieTra'+'nsform']=_0x435cb9,this['_cookieTra'+'nsformSet']=!!_0x435cb9,_0x435cb9&&!this['_cookieOff'+'set']&&(this['cookieOffs'+'et']=new J(),this['_cookieOff'+'setSet']=!(-0xc3b*-0x2+-0x29*-0x63+-0x2850)),this['updateKey']());}get['cookieTran'+'sform'](){return this['_cookieTra'+'nsform'];}set['cookieOffs'+'et'](_0x33525d){if(this['_cookieOff'+'set']===_0x33525d)return;!!(this['_cookieTra'+'nsformSet']||_0x33525d)&&!_0x33525d&&this['_cookieOff'+'set']?this['_cookieOff'+'set']['set'](0x1510+-0x7db*0x2+0xa*-0x89,0x110*0x24+0x191*0x13+0x17*-0x2f5):this['_cookieOff'+'set']=_0x33525d,this['_cookieOff'+'setSet']=!!_0x33525d,_0x33525d&&!this['_cookieTra'+'nsform']&&(this['cookieTran'+'sform']=new re(0x2bf+0x1efe+0x22*-0xfe,-0x36e+-0x71f+0x182*0x7,-0x18bf+-0x1*0x1613+-0xd*-0x39a,-0xa2b+-0x146e+-0xa33*-0x3),this['_cookieTra'+'nsformSet']=!(0x58*-0x10+0x1eea+-0x1969)),this['updateKey']();}get['cookieOffs'+'et'](){return this['_cookieOff'+'set'];}['beginFrame'](){this['visibleThi'+'sFrame']=this['_type']===ve&&this['_enabled'],this['maxScreenS'+'ize']=0x110b*-0x1+0x9a7+0x764,this['atlasViewp'+'ortAllocat'+'ed']=!(0x1*0x1507+-0x95*0x7+-0x10f3),this['atlasSlotU'+'pdated']=!(-0x1b18+0x1e10+0x17*-0x21);}['_destroySh'+'adowMap'](){if(this['releaseRen'+'derData'](),this['_shadowMap']&&(this['_shadowMap']['cached']||this['_shadowMap']['destroy'](),this['_shadowMap']=null),this['shadowUpda'+'teMode']===Ps&&(this['shadowUpda'+'teMode']=xr),this['shadowUpda'+'teOverride'+'s']){for(let _0x3b890d=-0x954+-0x2d7*0x1+-0xc2b*-0x1;_0x3b890d<this['shadowUpda'+'teOverride'+'s']['length'];_0x3b890d++)this['shadowUpda'+'teOverride'+'s'][_0x3b890d]===Ps&&(this['shadowUpda'+'teOverride'+'s'][_0x3b890d]=xr);}}['getRenderD'+'ata'](_0x363145,_0x214560){for(let _0x24d872=0x679*-0x1+-0x88*-0x3a+0x1f*-0xc9;_0x24d872<this['_renderDat'+'a']['length'];_0x24d872++){const _0x5647c1=this['_renderDat'+'a'][_0x24d872];if(_0x5647c1['camera']===_0x363145&&_0x5647c1['face']===_0x214560)return _0x5647c1;}const _0x124d3c=new dA(_0x363145,_0x214560,this);return this['_renderDat'+'a']['push'](_0x124d3c),_0x124d3c;}['clone'](){const _0x5908f5=new pl(this['device'],this['clusteredL'+'ighting']);return _0x5908f5['type']=this['_type'],_0x5908f5['setColor'](this['_color']),_0x5908f5['intensity']=this['_intensity'],_0x5908f5['affectSpec'+'ularity']=this['_affectSpe'+'cularity'],_0x5908f5['luminance']=this['_luminance'],_0x5908f5['castShadow'+'s']=this['castShadow'+'s'],_0x5908f5['_enabled']=this['_enabled'],_0x5908f5['attenuatio'+'nStart']=this['attenuatio'+'nStart'],_0x5908f5['attenuatio'+'nEnd']=this['attenuatio'+'nEnd'],_0x5908f5['falloffMod'+'e']=this['_falloffMo'+'de'],_0x5908f5['shadowType']=this['_shadowTyp'+'e'],_0x5908f5['vsmBlurSiz'+'e']=this['_vsmBlurSi'+'ze'],_0x5908f5['vsmBlurMod'+'e']=this['vsmBlurMod'+'e'],_0x5908f5['vsmBias']=this['vsmBias'],_0x5908f5['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x5908f5['mask']=this['mask'],this['shadowUpda'+'teOverride'+'s']&&(_0x5908f5['shadowUpda'+'teOverride'+'s']=this['shadowUpda'+'teOverride'+'s']['slice']()),_0x5908f5['innerConeA'+'ngle']=this['_innerCone'+'Angle'],_0x5908f5['outerConeA'+'ngle']=this['_outerCone'+'Angle'],_0x5908f5['numCascade'+'s']=this['numCascade'+'s'],_0x5908f5['cascadeDis'+'tribution']=this['cascadeDis'+'tribution'],_0x5908f5['cascadeBle'+'nd']=this['_cascadeBl'+'end'],_0x5908f5['shape']=this['_shape'],_0x5908f5['shadowDept'+'hState']['copy'](this['shadowDept'+'hState']),_0x5908f5['shadowBias']=this['shadowBias'],_0x5908f5['normalOffs'+'etBias']=this['_normalOff'+'setBias'],_0x5908f5['shadowReso'+'lution']=this['_shadowRes'+'olution'],_0x5908f5['shadowDist'+'ance']=this['shadowDist'+'ance'],_0x5908f5['shadowInte'+'nsity']=this['shadowInte'+'nsity'],_0x5908f5['shadowSamp'+'les']=this['shadowSamp'+'les'],_0x5908f5['shadowBloc'+'kerSamples']=this['shadowBloc'+'kerSamples'],_0x5908f5['penumbraSi'+'ze']=this['penumbraSi'+'ze'],_0x5908f5['penumbraFa'+'lloff']=this['penumbraFa'+'lloff'],_0x5908f5;}static['getLightUn'+'itConversi'+'on'](_0x2f0630,_0x359509=Math['PI']/(-0x1*0x19c3+0x1a56+-0x8f),_0x5cfe89=0xa6b+0x152b*-0x1+0xac0){switch(_0x2f0630){case Ze:{const _0x1405cc=Math['cos'](_0x359509),_0x54ed99=Math['cos'](_0x5cfe89);return(-0x15fe+-0x1cd*0x9+0x2635)*Math['PI']*(0x275*0x1+-0xef0+-0x63e*-0x2-_0x54ed99+(_0x54ed99-_0x1405cc)/(-0x1*-0xca3+0x2b6*0xe+0x233*-0x17));}case Ke:return(-0x32*-0xbf+-0x2*-0x115a+0x47fe*-0x1)*Math['PI'];case ve:return 0xe5*-0x14+0x1f14+-0xd2f;}}['_getUnifor'+'mBiasValue'+'s'](_0x2683ce){const _0x1c2c3b=_0x2683ce['shadowCame'+'ra']['_farClip'];switch(this['_type']){case Ke:wi['bias']=this['shadowBias'],wi['normalBias']=this['_normalOff'+'setBias'];break;case Ze:this['_isVsm']?wi['bias']=-(-0x1*-0x17c7+-0x1991+0x1ca*0x1+0.00001)*(-0x568+-0x37*-0x14+-0x130*-0x1):wi['bias']=this['shadowBias']*(0x17b5+-0x14fe+-0x2a3),wi['normalBias']=this['_isVsm']?this['vsmBias']/(this['attenuatio'+'nEnd']/(-0x11b+-0x196e+0x1a90)):this['_normalOff'+'setBias'];break;case ve:this['_isVsm']?wi['bias']=-(0xc5*0x31+0x23b2+-0x13*0x3dd+0.00001)*(0x11*-0x1ea+-0x3b0+-0x1*-0x244e):wi['bias']=this['shadowBias']/_0x1c2c3b*(0x93e+-0x153*-0x19+-0x29f5),wi['normalBias']=this['_isVsm']?this['vsmBias']/(_0x1c2c3b/(-0xd1e+-0x1408+0x212d)):this['_normalOff'+'setBias'];break;}return wi;}['getColor'](){return this['_color'];}['getBoundin'+'gSphere'](_0x2b5f99){if(this['_type']===Ze){const _0x31471e=this['attenuatio'+'nEnd'],_0x1569fd=this['_outerCone'+'Angle'],_0x299d64=this['_outerCone'+'AngleCos'],_0x288988=this['_node'];dc['copy'](_0x288988['up']),_0x1569fd>0x2045*-0x1+-0x6e*-0x1f+0x30*0x66?(_0x2b5f99['radius']=_0x31471e*this['_outerCone'+'AngleSin'],dc['mulScalar'](-_0x31471e*_0x299d64)):(_0x2b5f99['radius']=_0x31471e/((-0x5*0x458+0x108b+0x1*0x52f)*_0x299d64),dc['mulScalar'](-_0x2b5f99['radius'])),_0x2b5f99['center']['add2'](_0x288988['getPositio'+'n'](),dc);}else this['_type']===Ke&&(_0x2b5f99['center']=this['_node']['getPositio'+'n'](),_0x2b5f99['radius']=this['attenuatio'+'nEnd']);}['getBoundin'+'gBox'](_0x2002f3){if(this['_type']===Ze){const _0x91d642=this['attenuatio'+'nEnd'],_0x171ce9=this['_outerCone'+'Angle'],_0x4f343a=this['_node'],_0x18126d=Math['abs'](Math['sin'](_0x171ce9*Y['DEG_TO_RAD'])*_0x91d642);_0x2002f3['center']['set'](0xa*-0x22+-0xd3a+-0x26d*-0x6,-_0x91d642*(-0x1cc4+0x1815+0x4af+0.5),-0x1027+-0x1b3b+0x3*0xe76),_0x2002f3['halfExtent'+'s']['set'](_0x18126d,_0x91d642*(-0x53*0x10+0xf3d*-0x1+-0x53*-0x3f+0.5),_0x18126d),_0x2002f3['setFromTra'+'nsformedAa'+'bb'](_0x2002f3,_0x4f343a['getWorldTr'+'ansform'](),!(0x1*-0xad7+-0x2b9*0x1+0xd90));}else this['_type']===Ke&&(_0x2002f3['center']['copy'](this['_node']['getPositio'+'n']()),_0x2002f3['halfExtent'+'s']['set'](this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd'],this['attenuatio'+'nEnd']));}['_updateSha'+'dowBias'](){if(this['_type']===Ke&&!this['clusteredL'+'ighting'])this['shadowDept'+'hState']['depthBias']=0x5*0x43e+0x3b6+-0x18ec,this['shadowDept'+'hState']['depthBiasS'+'lope']=0x1*-0x1abb+0x8ad*-0x2+0x2c15;else{const _0x5f1d58=this['shadowBias']*-(0x4*0x509+-0x477+-0xbc5);this['shadowDept'+'hState']['depthBias']=_0x5f1d58,this['shadowDept'+'hState']['depthBiasS'+'lope']=_0x5f1d58;}}['_updateLin'+'earColor'](){let _0x3a568c=this['_intensity'];this['_usePhysic'+'alUnits']&&(_0x3a568c=this['_luminance']/pl['getLightUn'+'itConversi'+'on'](this['_type'],this['_outerCone'+'Angle']*Y['DEG_TO_RAD'],this['_innerCone'+'Angle']*Y['DEG_TO_RAD']));const _0x42b953=this['_color'],_0x4ce00a=this['_colorLine'+'ar'];_0x3a568c>=-0x1*-0x1a3d+-0x2183+0x747?ho['linear'](_0x42b953)['mulScalar'](_0x3a568c):ho['copy'](_0x42b953)['mulScalar'](_0x3a568c)['linear'](),_0x4ce00a[0x52d*-0x5+0x204f+-0x337*0x2]=ho['r'],_0x4ce00a[-0x1e4e+-0x13d*-0x5+0x181e]=ho['g'],_0x4ce00a[0x3b*0x97+0x571*-0x7+0x34c]=ho['b'],this['updateClus'+'terData'](!(0xccd+0x1ba7+-0x2874));}['setColor'](){arguments['length']===0x4*0x8cf+0x23ba+-0x46f5?this['_color']['set'](arguments[0x1170+-0xa98+-0x6d8]['r'],arguments[0x532+0xc5*-0x31+-0xcb*-0x29]['g'],arguments[-0x26e7+0x1d70+0x977]['b']):arguments['length']===-0x1afa+-0x2c+0x199*0x11&&this['_color']['set'](arguments[-0x1fc7+0x1*0xd43+-0x4a1*-0x4],arguments[-0x1*-0x2480+0x1251+-0xdb4*0x4],arguments[-0x179*-0x1+0x6*0x2bc+-0x11df]),this['_updateLin'+'earColor']();}['layersDirt'+'y'](){this['layers']['forEach'](_0x43c837=>{_0x43c837['hasLight'](this)&&_0x43c837['markLights'+'Dirty']();});}['updateKey'](){let _0x3d6184=this['_type']<<-0x3*-0x4f6+0xc57+-0x1b1c|this['_shadowTyp'+'e']<<0x1*0x19d+-0x1*-0x2f6+0xbf*-0x6|this['_falloffMo'+'de']<<-0x1237*0x1+0x1*0x117a+0x2*0x6a|(this['_normalOff'+'setBias']!==-0xff3+0x1bb1+-0xbbe?0x158a+0x14*0x164+-0x3159:-0x902*0x1+0x24ee+-0x4*0x6fb)<<0x90+0x1*-0x2392+0x2318|(this['_cookie']?0xdde+0xe8*-0x20+0xf23:0x1ff3+-0x1*0x1b3d+-0x4b6)<<0x132d+0x1*-0x1+0x3*-0x65d|(this['_cookieFal'+'loff']?0x107a*0x1+-0x1d65+0xcec:-0x14fd+-0x7*-0x2a7+0x26c)<<-0x18ca+0x1c*-0x8c+0x282e*0x1|pf[this['_cookieCha'+'nnel']['charAt'](0x7f4+-0x3*-0x73b+-0x1*0x1da5)]<<0x137*0x2+-0xa46*-0x1+-0x31*0x42|(this['_cookieTra'+'nsform']?-0x376+0x1*-0x1b02+0x1e79*0x1:-0x2ca+-0xb9c+0xe66)<<0x248d+0x230*0x5+-0x5*0x97d|this['_shape']<<-0x1*0x19cf+0x1c3a+-0x261|(this['numCascade'+'s']>0xe69+-0x1*-0x2133+0x22a*-0x16?-0x1f6b+0x10f4*0x2+-0x27c:0x446+0x22*0x112+-0x28aa)<<0x9c8*-0x1+0x3*-0xaa1+0x29b4|(this['_cascadeBl'+'end']>0x1315+-0xd99+-0x57c?0x11*0x1ac+0xd0e*-0x1+-0xf5d:0x7*0x31b+-0x1452+-0x16b)<<0x183*0x1+0x2*0x692+-0x13*0xc5|(this['affectSpec'+'ularity']?0x88*-0xd+-0xdbc+-0x1*-0x14a5:0x26c*-0xf+0x1856+0xbfe)<<0x807*-0x1+0x210a+-0x18fc|this['mask']<<0x201f*-0x1+0x186c+0x7b9|(this['_castShado'+'ws']?0x1a03+-0x2696*0x1+0xe*0xe6:-0x5d5*-0x3+-0x3*-0x4e1+0x6*-0x55b)<<0x23b8+-0x26ed+-0x338*-0x1;this['_cookieCha'+'nnel']['length']===0x9cf+-0x3c3*-0x1+-0xd8f&&(_0x3d6184|=pf[this['_cookieCha'+'nnel']['charAt'](-0xea6+-0x7*-0x100+0x7a7)]<<0x175*0xc+-0x834+0x28*-0x3b,_0x3d6184|=pf[this['_cookieCha'+'nnel']['charAt'](-0x258f+0x24f5+0x4e*0x2)]<<-0x1*0x638+0xd58+-0x712),_0x3d6184!==this['key']&&this['layersDirt'+'y'](),this['key']=_0x3d6184;}['updateClus'+'teredFlags'](){const _0x1591d0=!!(this['mask']&Ss),_0x4f3bd9=!!(this['mask']&di);this['clusteredF'+'lags']=(this['type']===Ze?0x2479+0x836+0x2*-0x1657:0x21eb+0x1809+-0x39f4)<<-0xe9*0x10+-0x1*0x2167+0x3015|(this['_shape']&0x1af6*0x1+0x61+-0x1b54)<<-0xaa9+-0x1f8e+0x877*0x5|(this['_falloffMo'+'de']&-0x1efe+0xb08+0x13f7*0x1)<<0x1*0x1b33+0x8a3+-0xbe9*0x3|(cA[this['_cookieCha'+'nnel']]??-0xfb4+-0x135c+0x2310)<<0x1*0x378+0x1970+0x1*-0x1cd1|(_0x1591d0?0x2*-0x127d+0x1a54*0x1+0x65*0x1b:-0x6ee+-0x1*-0x169+0x585*0x1)<<0x6*0x5f3+-0xe95+0x1507*-0x1|(_0x4f3bd9?0x2488+0x5*0x173+-0x2bc6:-0x168a+0x6d2+0x1*0xfb8)<<-0x203d+-0x7a5*-0x1+-0x1*-0x18ad;}['getCluster'+'edFlags'](_0x297abd,_0x47fee5){return this['clusteredF'+'lags']|((_0x297abd?Math['floor'](this['shadowInte'+'nsity']*(0xcad+-0x12f0+0x742)):0x305*0x7+-0x15c4+0xa1*0x1)&-0xd*0x223+-0xb2+0x1d78)<<0x1*-0x1dfb+0x287*0x7+0x2*0x625|((_0x47fee5?Math['floor'](this['cookieInte'+'nsity']*(-0x11*-0x9c+0x2*0xce9+-0x232f*0x1)):-0x1fa1+0x2612+0x1*-0x671)&0x6*-0x5d5+-0x24e2+-0x1*-0x48df)<<0x57*0x1b+0x90c+0x1231*-0x1;}['updateClus'+'terData'](_0x3a2835,_0x4b7c71){const {clusteredData16:_0x52302c}=this,_0x3b2a13=Mn['float2Half'];_0x3a2835&&(_0x52302c[-0x1*-0x26da+0x2545+0xd*-0x5db]=_0x3b2a13(Y['clamp'](this['_colorLine'+'ar'][-0x9bf*0x2+-0x235e+0x36dc]/$c,-0x1165+0x19c2+0x1*-0x85d,-0x1d01e+-0x461f*0x5+0x3d*0x118d)),_0x52302c[-0x931+0x20e2+-0x2*0xbd8]=_0x3b2a13(Y['clamp'](this['_colorLine'+'ar'][-0x5*0x1f3+-0x2690+-0x1828*-0x2]/$c,0x1e09+-0x22de+0x4d5,-0x2*0xac99+0x1cff+0x23c13)),_0x52302c[-0x3a9*-0x7+-0x1f34*0x1+-0x35*-0x1b]=_0x3b2a13(Y['clamp'](this['_colorLine'+'ar'][-0x2076+0x23bb+-0x343]/$c,0x1f46+-0xe2a+-0x111c,0x5adb*-0x3+0x5*-0x5eed+-0x2*-0x1f589))),_0x4b7c71&&(_0x52302c[-0x1*-0x68f+0x2*-0x683+0x67b]=_0x3b2a13(this['_innerCone'+'AngleCos']),_0x52302c[-0x137f+-0x1f*0x49+0x1c5b]=_0x3b2a13(this['_outerCone'+'AngleCos']));}}class Mv{constructor(_0x3edf5f,_0x3a48c9,_0x3cf2c2){h(this,'_areaLight'+'sEnabled',!(0x1029+0x24e1+0x1*-0x3509)),h(this,'_cells',new D(0x1d*0x14e+-0x6*0x66c+0xbc,-0x1*0x1fff+0x1786*0x1+0x87c,-0x71*-0x3f+0xa1b*0x3+-0x3a16)),h(this,'_maxLights'+'PerCell',0x5ef*0x5+-0x19c*0x3+0x2fb*-0x8),h(this,'_shadowsEn'+'abled',!(-0x25*-0x6b+0x15c+-0x10d3*0x1)),h(this,'_shadowTyp'+'e',$s),h(this,'_shadowAtl'+'asResoluti'+'on',0x1*-0x22a+0x2a*-0xc7+0x2ad0*0x1),h(this,'_cookiesEn'+'abled',!(-0x5d8+-0x3*0xce5+0xf*0x2f8)),h(this,'_cookieAtl'+'asResoluti'+'on',0x1bd0+0x1e38+-0x3208),h(this,'debugLayer'),h(this,'atlasSplit',null),(this['_supportsA'+'reaLights']=_0x3edf5f,this['_maxTextur'+'eSize']=_0x3a48c9,this['_dirtyLigh'+'tsFnc']=_0x3cf2c2);}['applySetti'+'ngs'](_0x10e703){this['shadowsEna'+'bled']=_0x10e703['lightingSh'+'adowsEnabl'+'ed']??this['shadowsEna'+'bled'],this['cookiesEna'+'bled']=_0x10e703['lightingCo'+'okiesEnabl'+'ed']??this['cookiesEna'+'bled'],this['areaLights'+'Enabled']=_0x10e703['lightingAr'+'eaLightsEn'+'abled']??this['areaLights'+'Enabled'],this['shadowAtla'+'sResolutio'+'n']=_0x10e703['lightingSh'+'adowAtlasR'+'esolution']??this['shadowAtla'+'sResolutio'+'n'],this['cookieAtla'+'sResolutio'+'n']=_0x10e703['lightingCo'+'okieAtlasR'+'esolution']??this['cookieAtla'+'sResolutio'+'n'],this['maxLightsP'+'erCell']=_0x10e703['lightingMa'+'xLightsPer'+'Cell']??this['maxLightsP'+'erCell'],this['shadowType']=_0x10e703['lightingSh'+'adowType']??this['shadowType'],_0x10e703['lightingCe'+'lls']&&(this['cells']=new D(_0x10e703['lightingCe'+'lls']));}set['cells'](_0x2bb8b6){this['_cells']['copy'](_0x2bb8b6);}get['cells'](){return this['_cells'];}set['maxLightsP'+'erCell'](_0x46d9e2){this['_maxLights'+'PerCell']=Y['clamp'](_0x46d9e2,0xf*0x272+0x155+0x3cd*-0xa,0x1996+0x4f1+-0x1d88);}get['maxLightsP'+'erCell'](){return this['_maxLights'+'PerCell'];}set['cookieAtla'+'sResolutio'+'n'](_0x2777b0){this['_cookieAtl'+'asResoluti'+'on']=Y['clamp'](_0x2777b0,0x1c76+-0xfcb+-0xf7*0xd,this['_maxTextur'+'eSize']);}get['cookieAtla'+'sResolutio'+'n'](){return this['_cookieAtl'+'asResoluti'+'on'];}set['shadowAtla'+'sResolutio'+'n'](_0x278a18){this['_shadowAtl'+'asResoluti'+'on']=Y['clamp'](_0x278a18,0x2*0x8ee+-0x53e+0x29*-0x4e,this['_maxTextur'+'eSize']);}get['shadowAtla'+'sResolutio'+'n'](){return this['_shadowAtl'+'asResoluti'+'on'];}set['shadowType'](_0x299c54){this['_shadowTyp'+'e']!==_0x299c54&&(this['_shadowTyp'+'e']=_0x299c54,this['_dirtyLigh'+'tsFnc']());}get['shadowType'](){return this['_shadowTyp'+'e'];}set['cookiesEna'+'bled'](_0x482032){this['_cookiesEn'+'abled']!==_0x482032&&(this['_cookiesEn'+'abled']=_0x482032,this['_dirtyLigh'+'tsFnc']());}get['cookiesEna'+'bled'](){return this['_cookiesEn'+'abled'];}set['areaLights'+'Enabled'](_0x3ab34c){this['_supportsA'+'reaLights']&&this['_areaLight'+'sEnabled']!==_0x3ab34c&&(this['_areaLight'+'sEnabled']=_0x3ab34c,this['_dirtyLigh'+'tsFnc']());}get['areaLights'+'Enabled'](){return this['_areaLight'+'sEnabled'];}set['shadowsEna'+'bled'](_0x3cdebb){this['_shadowsEn'+'abled']!==_0x3cdebb&&(this['_shadowsEn'+'abled']=_0x3cdebb,this['_dirtyLigh'+'tsFnc']());}get['shadowsEna'+'bled'](){return this['_shadowsEn'+'abled'];}}class xa{constructor(_0x401a1b){this['morph']=_0x401a1b,_0x401a1b['incRefCoun'+'t'](),this['device']=_0x401a1b['device'];const _0x28f171=_0x401a1b['_targets']['length'];this['shader']=this['_createSha'+'der'](_0x28f171),this['_weights']=[],this['_weightMap']=new Map();for(let _0x5a0fea=-0x1acb+-0x81c+0x22e7;_0x5a0fea<_0x401a1b['_targets']['length'];_0x5a0fea++){const _0x400a12=_0x401a1b['_targets'][_0x5a0fea];_0x400a12['name']&&this['_weightMap']['set'](_0x400a12['name'],_0x5a0fea),this['setWeight'](_0x5a0fea,_0x400a12['defaultWei'+'ght']);}this['_shaderMor'+'phWeights']=new Float32Array(_0x28f171),this['_shaderMor'+'phIndex']=new Uint32Array(_0x28f171);const _0x452da0=(_0xafc0c4,_0x81ce89)=>(this[_0x81ce89]=_0x401a1b['_createTex'+'ture'](_0xafc0c4,_0x401a1b['_renderTex'+'tureFormat']),new gt({'colorBuffer':this[_0x81ce89],'depth':!(-0x43c*-0x6+0x14f1+-0x2e58)}));_0x401a1b['morphPosit'+'ions']&&(this['rtPosition'+'s']=_0x452da0('MorphRTPos','texturePos'+'itions')),_0x401a1b['morphNorma'+'ls']&&(this['rtNormals']=_0x452da0('MorphRTNrm','textureNor'+'mals')),this['_texturePa'+'rams']=new Float32Array([_0x401a1b['morphTextu'+'reWidth'],_0x401a1b['morphTextu'+'reHeight']]);const _0x31a94e=_0x401a1b['aabb']['halfExtent'+'s'];this['_aabbSize']=new Float32Array([_0x31a94e['x']*(-0x1*0xc28+0x122f+0x9*-0xab),_0x31a94e['y']*(0x2699*0x1+0x1c17+0x2*-0x2156),_0x31a94e['z']*(0xf61+-0x5d*-0x7+-0x17e*0xc)]);const _0x101f32=_0x401a1b['aabb']['getMin']();this['_aabbMin']=new Float32Array([_0x101f32['x']*(0x76b+-0x9b3*0x2+0xbfd),_0x101f32['y']*(0x4*-0x6b0+0xb*0x1c9+-0x1*-0x71f),_0x101f32['z']*(0x584*-0x2+-0x1*0x164d+0x2157)]),this['_aabbNrmSi'+'ze']=new Float32Array([-0xb16+-0x154d+0x2065,0x1442*0x1+-0xa94+0x1*-0x9ac,0x83*0x2d+-0x3df+-0x2b*0x72]),this['_aabbNrmMi'+'n']=new Float32Array([-(0xb49+-0x2587+0x1a3f),-(0x18ca+-0x1*0xbdf+-0xcea),-(0x1*0x193f+-0x2620+0xce2)]),this['aabbSizeId']=this['device']['scope']['resolve']('aabbSize'),this['aabbMinId']=this['device']['scope']['resolve']('aabbMin'),this['morphTextu'+'reId']=this['device']['scope']['resolve']('morphTextu'+'re'),this['morphFacto'+'r']=this['device']['scope']['resolve']('morphFacto'+'r[0]'),this['morphIndex']=this['device']['scope']['resolve']('morphIndex'+'[0]'),this['countId']=this['device']['scope']['resolve']('count'),this['zeroTextur'+'es']=!(0x27*-0x6a+0x18f1+-0x8ca);}['destroy'](){var _0x1a3faf,_0x2b7580,_0x1de2c5,_0x427e5d;this['shader']=null;const _0x1ebb13=this['morph'];_0x1ebb13&&(this['morph']=null,_0x1ebb13['decRefCoun'+'t'](),_0x1ebb13['refCount']<-0x8*0xba+0x4*0x822+-0x1ab7&&_0x1ebb13['destroy']()),(_0x1a3faf=this['rtPosition'+'s'])==null||_0x1a3faf['destroy'](),this['rtPosition'+'s']=null,(_0x2b7580=this['texturePos'+'itions'])==null||_0x2b7580['destroy'](),this['texturePos'+'itions']=null,(_0x1de2c5=this['rtNormals'])==null||_0x1de2c5['destroy'](),this['rtNormals']=null,(_0x427e5d=this['textureNor'+'mals'])==null||_0x427e5d['destroy'](),this['textureNor'+'mals']=null;}['clone'](){return new xa(this['morph']);}['_getWeight'+'Index'](_0x96420b){if(typeof _0x96420b=='string'){const _0x44256b=this['_weightMap']['get'](_0x96420b);return _0x44256b===void(0x1573+0xa3*-0x3+-0x138a)&&w['errorOnce']('Cannot\x20fin'+'d\x20morph\x20ta'+'rget\x20with\x20'+'name:\x20'+_0x96420b+'.'),_0x44256b;}return _0x96420b;}['getWeight'](_0x28a23d){const _0x168d44=this['_getWeight'+'Index'](_0x28a23d);return this['_weights'][_0x168d44];}['setWeight'](_0x447128,_0x5092d2){const _0x23f8d0=this['_getWeight'+'Index'](_0x447128);w['assert'](_0x23f8d0>=0xfb4+0x8*0x3e7+-0x2eec&&_0x23f8d0<this['morph']['_targets']['length']),this['_weights'][_0x23f8d0]=_0x5092d2,this['_dirty']=!(-0x257*0x3+0x303+0x402);}['_createSha'+'der'](_0xc37ce8){const _0x281896=new Map();_0x281896['set']('{MORPH_TEX'+'TURE_MAX_C'+'OUNT}',_0xc37ce8),this['morph']['intRenderF'+'ormat']&&_0x281896['set']('MORPH_INT','');const _0x22fe33=this['morph']['intRenderF'+'ormat']?'uvec4':'vec4';return $t['createShad'+'er'](this['device'],{'uniqueName':'TextureMor'+'phShader_'+_0xc37ce8+'-'+(this['morph']['intRenderF'+'ormat']?'int':'float'),'attributes':{'vertex_position':Me},'vertexChunk':'morphVS','fragmentChunk':'morphPS','fragmentDefines':_0x281896,'fragmentOutputTypes':[_0x22fe33]});}['_updateTex'+'tureRender'+'Target'](_0x5eec7b,_0x41361d,_0x17365d){const {morph:_0x4589bc,device:_0x397034}=this;this['setAabbUni'+'forms'](_0x17365d),this['morphTextu'+'reId']['setValue'](_0x17365d?_0x4589bc['targetsTex'+'turePositi'+'ons']:_0x4589bc['targetsTex'+'tureNormal'+'s']),_0x397034['setBlendSt'+'ate'](pt['NOBLEND']),this['countId']['setValue'](_0x41361d),this['morphFacto'+'r']['setValue'](this['_shaderMor'+'phWeights']),this['morphIndex']['setValue'](this['_shaderMor'+'phIndex']),Ar(_0x397034,_0x5eec7b,this['shader']);}['_updateTex'+'tureMorph'](_0x48afd5){const _0x21a8fa=this['device'];Q['pushGpuMar'+'ker'](_0x21a8fa,'MorphUpdat'+'e'),(_0x48afd5>0xa3d+0xb5e+-0x1*0x159b||!this['zeroTextur'+'es'])&&(this['rtPosition'+'s']&&this['_updateTex'+'tureRender'+'Target'](this['rtPosition'+'s'],_0x48afd5,!(0x109*-0xf+0x8f2+-0x151*-0x5)),this['rtNormals']&&this['_updateTex'+'tureRender'+'Target'](this['rtNormals'],_0x48afd5,!(-0x3c7+0x2429+-0x133*0x1b)),this['zeroTextur'+'es']=_0x48afd5===-0x24ba+-0xe3*-0x6+0x1f68),Q['popGpuMark'+'er'](_0x21a8fa);}['setAabbUni'+'forms'](_0x376203=!(-0x49f+0x25ed+-0x214e)){this['aabbSizeId']['setValue'](_0x376203?this['_aabbSize']:this['_aabbNrmSi'+'ze']),this['aabbMinId']['setValue'](_0x376203?this['_aabbMin']:this['_aabbNrmMi'+'n']);}['prepareRen'+'dering'](_0x13c965){this['setAabbUni'+'forms']();}['update'](){this['_dirty']=!(0x4*-0x5b9+-0xc60+0x2345);const _0xff1437=this['morph']['_targets'],_0x4f1d6e=0xbff*-0x1+-0x51*0x2b+-0xe2*-0x1d+0.00001,_0x43de13=this['_shaderMor'+'phWeights'],_0x3fd1ae=this['_shaderMor'+'phIndex'];let _0x4236a4=-0x1dff+-0x1de5+0xef9*0x4;for(let _0x15f2c0=0xa35+-0x1dbf*0x1+0x138a;_0x15f2c0<_0xff1437['length'];_0x15f2c0++)Math['abs'](this['getWeight'](_0x15f2c0))>_0x4f1d6e&&(_0x43de13[_0x4236a4]=this['getWeight'](_0x15f2c0),_0x3fd1ae[_0x4236a4]=_0x15f2c0,_0x4236a4++);this['_updateTex'+'tureMorph'](_0x4236a4);}}class sr{constructor(){h(this,'graph',null),h(this,'meshInstan'+'ces',[]),h(this,'skinInstan'+'ces',[]),h(this,'morphInsta'+'nces',[]),(this['cameras']=[],this['lights']=[],this['_shadersVe'+'rsion']=-0x7b6+0x2588+-0x15b*0x16,this['_immutable']=!(-0x1505*-0x1+-0x19d9+-0x1*-0x4d5));}['getGraph'](){return this['graph'];}['setGraph'](_0x217733){this['graph']=_0x217733;}['getCameras'](){return this['cameras'];}['setCameras'](_0x3a18ed){this['cameras']=_0x3a18ed;}['getLights'](){return this['lights'];}['setLights'](_0x29f85e){this['lights']=_0x29f85e;}['getMateria'+'ls'](){const _0x57b3be=[];for(let _0x2e51a8=-0x366*-0x5+-0xbf6*-0x2+-0x28ea;_0x2e51a8<this['meshInstan'+'ces']['length'];_0x2e51a8++){const _0x4b19c0=this['meshInstan'+'ces'][_0x2e51a8];_0x57b3be['indexOf'](_0x4b19c0['material'])===-(-0x9d*0x23+0x2519*0x1+-0x1*0xfa1)&&_0x57b3be['push'](_0x4b19c0['material']);}return _0x57b3be;}['clone'](){const _0x17ca5e=[],_0x29d917=[],_0x4ef462=function(_0x8d7e35){const _0x56570f=_0x8d7e35['clone']();_0x17ca5e['push'](_0x8d7e35),_0x29d917['push'](_0x56570f);for(let _0x4cad2a=0x4*0x84b+0x19f*-0xb+-0xf57;_0x4cad2a<_0x8d7e35['_children']['length'];_0x4cad2a++)_0x56570f['addChild'](_0x4ef462(_0x8d7e35['_children'][_0x4cad2a]));return _0x56570f;},_0x3154ed=_0x4ef462(this['graph']),_0x27151a=[],_0x2c7bb2=[],_0x128f54=[];for(let _0x8076bf=0x23ea*-0x1+0x186e+-0x54*-0x23;_0x8076bf<this['skinInstan'+'ces']['length'];_0x8076bf++){const _0x11a837=this['skinInstan'+'ces'][_0x8076bf]['skin'],_0x4a3cf1=new Ol(_0x11a837),_0x3b6b64=[];for(let _0x13d665=-0x23c1+-0x1e71+0x4232;_0x13d665<_0x11a837['boneNames']['length'];_0x13d665++){const _0x32379c=_0x11a837['boneNames'][_0x13d665],_0x241737=_0x3154ed['findByName'](_0x32379c);_0x3b6b64['push'](_0x241737);}_0x4a3cf1['bones']=_0x3b6b64,_0x2c7bb2['push'](_0x4a3cf1);}for(let _0x3d2931=0x10e2+-0x167*-0x7+0x1*-0x1ab3;_0x3d2931<this['morphInsta'+'nces']['length'];_0x3d2931++){const _0x37fd83=this['morphInsta'+'nces'][_0x3d2931]['morph'],_0x469554=new xa(_0x37fd83);_0x128f54['push'](_0x469554);}for(let _0x97d65e=0x1515+-0x26c3+0x1f*0x92;_0x97d65e<this['meshInstan'+'ces']['length'];_0x97d65e++){const _0x96a342=this['meshInstan'+'ces'][_0x97d65e],_0x115830=_0x17ca5e['indexOf'](_0x96a342['node']),_0x7c7fec=new He(_0x96a342['mesh'],_0x96a342['material'],_0x29d917[_0x115830]);if(_0x96a342['skinInstan'+'ce']){const _0x108fcb=this['skinInstan'+'ces']['indexOf'](_0x96a342['skinInstan'+'ce']);_0x7c7fec['skinInstan'+'ce']=_0x2c7bb2[_0x108fcb];}if(_0x96a342['morphInsta'+'nce']){const _0x12264d=this['morphInsta'+'nces']['indexOf'](_0x96a342['morphInsta'+'nce']);_0x7c7fec['morphInsta'+'nce']=_0x128f54[_0x12264d];}_0x27151a['push'](_0x7c7fec);}const _0x130084=new sr();return _0x130084['graph']=_0x3154ed,_0x130084['meshInstan'+'ces']=_0x27151a,_0x130084['skinInstan'+'ces']=_0x2c7bb2,_0x130084['morphInsta'+'nces']=_0x128f54,_0x130084['getGraph']()['syncHierar'+'chy'](),_0x130084;}['destroy'](){const _0x4604e9=this['meshInstan'+'ces'];for(let _0x182e4e=-0x1cca+-0x15a9+0x3273;_0x182e4e<_0x4604e9['length'];_0x182e4e++)_0x4604e9[_0x182e4e]['destroy']();this['meshInstan'+'ces']['length']=0x2*0x919+0xfb*-0xf+0x1*-0x37d;}['generateWi'+'reframe'](){He['_prepareRe'+'nderStyleF'+'orArray'](this['meshInstan'+'ces'],$r);}}class mm extends wd{constructor(_0x8097c1,_0x139cb1,{preferHighPrecision:_0x234db8=!(-0xa92+0x1e5b+-0x13c8)}={}){super(),h(this,'_aabb'),h(this,'preferHigh'+'Precision'),(w['assert'](_0x139cb1,'Morph\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x139cb1);const _0xdc32bb=_0x139cb1;this['preferHigh'+'Precision']=_0x234db8,w['assert'](_0x8097c1['every'](_0x2fdad5=>!_0x2fdad5['used']),'A\x20specifie'+'d\x20target\x20h'+'as\x20already'+'\x20been\x20used'+'\x20to\x20create'+'\x20a\x20Morph,\x20'+'use\x20its\x20cl'+'one\x20instea'+'d.'),this['_targets']=_0x8097c1['slice']();const _0x4410ba=_0xdc32bb['textureHal'+'fFloatRend'+'erable']?nt:void(0x837+-0x922+0x5*0x2f),_0x496f8e=_0xdc32bb['textureFlo'+'atRenderab'+'le']?Xt:void(-0x1b11+0x26ea+-0xbd9);this['_renderTex'+'tureFormat']=this['preferHigh'+'Precision']?_0x496f8e??_0x4410ba:_0x4410ba??_0x496f8e,this['_renderTex'+'tureFormat']=this['_renderTex'+'tureFormat']??nd,this['intRenderF'+'ormat']=dn(this['_renderTex'+'tureFormat']),this['_textureFo'+'rmat']=this['preferHigh'+'Precision']?Xt:nt,this['_init'](),this['_updateMor'+'phFlags']();}['destroy'](){var _0x1a9a98,_0x57371f,_0x204418;(_0x1a9a98=this['vertexBuff'+'erIds'])==null||_0x1a9a98['destroy'](),this['vertexBuff'+'erIds']=null,(_0x57371f=this['targetsTex'+'turePositi'+'ons'])==null||_0x57371f['destroy'](),this['targetsTex'+'turePositi'+'ons']=null,(_0x204418=this['targetsTex'+'tureNormal'+'s'])==null||_0x204418['destroy'](),this['targetsTex'+'tureNormal'+'s']=null;}get['aabb'](){if(!this['_aabb']){const _0x4640cd=new D(),_0x3cd7c3=new D();for(let _0x2a6b55=0x104+-0x1e37+0x1d33;_0x2a6b55<this['_targets']['length'];_0x2a6b55++){const _0x5a3f44=this['_targets'][_0x2a6b55]['aabb'];_0x4640cd['min'](_0x5a3f44['getMin']()),_0x3cd7c3['max'](_0x5a3f44['getMax']());}this['_aabb']=new De(),this['_aabb']['setMinMax'](_0x4640cd,_0x3cd7c3);}return this['_aabb'];}get['morphPosit'+'ions'](){return this['_morphPosi'+'tions'];}get['morphNorma'+'ls'](){return this['_morphNorm'+'als'];}['_init'](){this['_initTextu'+'reBased']();for(let _0x250086=-0x19ef*-0x1+-0xe23+-0x5*0x25c;_0x250086<this['_targets']['length'];_0x250086++)this['_targets'][_0x250086]['_postInit']();}['_findSpars'+'eSet'](_0xb8ee6b,_0x45cee8,_0x36018e){let _0x2e5f25=0x13*-0x1a9+0x17*0xa3+0x10e7*0x1;const _0x118453=_0xb8ee6b[0x157b+-0x8*-0x3a+-0x174b]['length'];for(let _0x5db76d=0x1*0x1548+-0x95*0x37+0xabb;_0x5db76d<_0x118453;_0x5db76d+=0x13a3+-0x8dd*-0x4+-0x3714){let _0x3c20b4=!(0x1d7f*-0x1+-0x1*0x1c8b+0x3a0b);for(let _0x5bda2a=-0x15d3*-0x1+0x16d7*-0x1+0x104;_0x5bda2a<_0xb8ee6b['length'];_0x5bda2a++){const _0x3e43ae=_0xb8ee6b[_0x5bda2a];if(_0x3e43ae[_0x5db76d]!==0x2580+-0x206d+-0x513*0x1||_0x3e43ae[_0x5db76d+(-0xad9+-0x19fe+0x106*0x24)]!==-0x3*0x3ba+-0x13f9+0x1f27||_0x3e43ae[_0x5db76d+(0x17ad+-0x17a2+-0x9)]!==0x26bd*0x1+0x2595+0x4c52*-0x1){_0x3c20b4=!(0x262f+0x66*0x18+0x2fbf*-0x1);break;}}_0x3c20b4?(_0x45cee8['push'](_0x2e5f25),_0x36018e['push'](_0x5db76d/(-0x21c6+0x4a*0x86+-0x4f3)),_0x2e5f25++):_0x45cee8['push'](-0x1*0x105b+-0x1881+0xa37*0x4);}return _0x2e5f25;}['_initTextu'+'reBased'](){const _0x1342cc=[],_0x25041f=[],_0x43aa8f=this['_targets'];for(let _0x48df26=0x1*-0xc6d+-0x1895+0x1*0x2502;_0x48df26<_0x43aa8f['length'];_0x48df26++){const _0x43cccc=_0x43aa8f[_0x48df26];_0x43cccc['options']['deltaPosit'+'ions']&&(_0x1342cc['push'](_0x43cccc['options']['deltaPosit'+'ions']),_0x25041f['push'](!(0x239f+-0x19c2+0x5*-0x1f9))),_0x43cccc['options']['deltaNorma'+'ls']&&(_0x1342cc['push'](_0x43cccc['options']['deltaNorma'+'ls']),_0x25041f['push'](!(0x198c+0x3d*-0x3a+0xbb9*-0x1)));}const _0x1e2aa2=[],_0x1deae0=[],_0x1f456e=this['_findSpars'+'eSet'](_0x1342cc,_0x1e2aa2,_0x1deae0),_0x69797b=this['device']['maxTexture'+'Size'];let _0x177344=Math['ceil'](Math['sqrt'](_0x1f456e));_0x177344=Math['min'](_0x177344,_0x69797b);const _0x1eb741=Math['ceil'](_0x1f456e/_0x177344);if(_0x1eb741>_0x69797b){w['warnOnce']('Morph\x20targ'+'et\x20data\x20is'+'\x20too\x20large'+'\x20to\x20fit\x20in'+'to\x20a\x20textu'+'re\x20array.\x20'+'Required\x20t'+'exture\x20siz'+'e:\x20'+_0x177344+'x'+_0x1eb741+(',\x20max\x20text'+'ure\x20size:\x20')+_0x69797b+'x'+_0x69797b+'.');return;}this['morphTextu'+'reWidth']=_0x177344,this['morphTextu'+'reHeight']=_0x1eb741;let _0x15379f=!(-0x1623+-0x2070+0x2*0x1b4a);const _0x4dbfa9=Mn['float2Half'];this['_textureFo'+'rmat']===nt&&(_0x15379f=!(0x624+0x1f56+-0x1a*0x171));const _0xab4914=[],_0x424816=[],_0x4fba69=_0x177344*_0x1eb741*(-0x1e03*-0x1+0x19ee+0x1*-0x37ed);for(let _0x35509e=-0x2bd+-0x1*-0x1b6f+-0x3a*0x6d;_0x35509e<_0x1342cc['length'];_0x35509e++){const _0x504904=_0x1342cc[_0x35509e],_0x206a46=this['_textureFo'+'rmat']===nt?new Uint16Array(_0x4fba69):new Float32Array(_0x4fba69);if((_0x25041f[_0x35509e]?_0xab4914:_0x424816)['push'](_0x206a46),_0x15379f)for(let _0x2b26c4=-0x1fe5+-0x9a5+0x2*0x14c5;_0x2b26c4<_0x1deae0['length'];_0x2b26c4++){const _0x49b569=_0x1deae0[_0x2b26c4]*(-0x1f49+0x2*0xf0d+0x132),_0x1cbce6=_0x2b26c4*(-0x16f2*-0x1+0xa09*-0x3+0x72d)+(0x7f*-0x3e+0x239+0x1*0x1c8d);_0x206a46[_0x1cbce6]=_0x4dbfa9(_0x504904[_0x49b569]),_0x206a46[_0x1cbce6+(-0x1846+0x748+0x10ff*0x1)]=_0x4dbfa9(_0x504904[_0x49b569+(-0x25b8+0xc27+0x1992)]),_0x206a46[_0x1cbce6+(0x384+-0xdef+0xa6d)]=_0x4dbfa9(_0x504904[_0x49b569+(-0xbbc+0xb1f*0x3+-0x159f)]);}else for(let _0x10f34f=-0x2*0xf8f+0x1*-0x4fd+0x1*0x241b;_0x10f34f<_0x1deae0['length'];_0x10f34f++){const _0x3367af=_0x1deae0[_0x10f34f]*(-0xab9+-0x2589+0x1*0x3045),_0x27cb13=_0x10f34f*(-0xf9*-0x18+0x361+-0x1*0x1ab5)+(0x3*0x6a+0x4*-0x94f+-0x1201*-0x2);_0x206a46[_0x27cb13]=_0x504904[_0x3367af],_0x206a46[_0x27cb13+(0x15a+-0x6a7*0x3+-0x2*-0x94e)]=_0x504904[_0x3367af+(-0x199d+-0x1837*0x1+0x31d5)],_0x206a46[_0x27cb13+(0x1534+-0x6a*0x39+0x268)]=_0x504904[_0x3367af+(0x15d4+0xca6+0x4*-0x89e)];}}_0xab4914['length']>-0x4*-0x44d+0x1*-0x1ebf+-0x1*-0xd8b&&(this['targetsTex'+'turePositi'+'ons']=this['_createTex'+'ture']('MorphPosit'+'ionsTextur'+'e',this['_textureFo'+'rmat'],_0x43aa8f['length'],[_0xab4914]),this['targetsTex'+'turePositi'+'ons']['upload']()),_0x424816['length']>0x14f+-0x32+0x1*-0x11d&&(this['targetsTex'+'tureNormal'+'s']=this['_createTex'+'ture']('MorphNorma'+'lsTexture',this['_textureFo'+'rmat'],_0x43aa8f['length'],[_0x424816]),this['targetsTex'+'tureNormal'+'s']['upload']());const _0x24f439=[{'semantic':Ln,'components':0x1,'type':el,'asInt':!(-0x7*-0x2b3+-0x629*0x2+-0x693)}];return this['vertexBuff'+'erIds']=new Is(this['device'],new kt(this['device'],_0x24f439,_0x1e2aa2['length']),_0x1e2aa2['length'],{'data':new Uint32Array(_0x1e2aa2)}),!(0x4*-0x67f+0x5cf*0x1+0x142d);}get['targets'](){return this['_targets'];}['_updateMor'+'phFlags'](){this['_morphPosi'+'tions']=!(0xf3*0xa+0x3*0x15f+-0xd9a),this['_morphNorm'+'als']=!(-0x145e+0x26f2+-0x1293);for(let _0x1283dd=0xec6+-0xeae+0x2*-0xc;_0x1283dd<this['_targets']['length'];_0x1283dd++){const _0x486255=this['_targets'][_0x1283dd];_0x486255['morphPosit'+'ions']&&(this['_morphPosi'+'tions']=!(-0x7*-0x3f9+-0x2e*-0x81+0x1*-0x32fd)),_0x486255['morphNorma'+'ls']&&(this['_morphNorm'+'als']=!(-0x1b7c+-0x2*-0xb+0x1b66));}}['_createTex'+'ture'](_0x4f3e51,_0x57862a,_0x38d958,_0x52b0b3){return new _e(this['device'],{'levels':_0x52b0b3,'arrayLength':_0x38d958,'width':this['morphTextu'+'reWidth'],'height':this['morphTextu'+'reHeight'],'format':_0x57862a,'cubemap':!(0x5*-0x91+0x1e91+-0x1*0x1bbb),'mipmaps':!(-0x1ec3+-0x2*0x98b+0x31da),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x4f3e51});}}class Md{constructor(_0x1a6315){h(this,'used',!(0x1f5*-0x11+-0x1*0x982+-0x4a*-0x94)),(w['assert'](arguments['length']===-0xd*-0x10f+0x3*0x9b7+0x3*-0xe4d),this['options']=_0x1a6315,this['_name']=_0x1a6315['name'],this['_defaultWe'+'ight']=_0x1a6315['defaultWei'+'ght']||0x168c+-0x29*0x4f+-0x11*0x95,this['_aabb']=_0x1a6315['aabb'],this['deltaPosit'+'ions']=_0x1a6315['deltaPosit'+'ions'],this['morphPosit'+'ions']=!!_0x1a6315['deltaPosit'+'ions'],this['morphNorma'+'ls']=!!_0x1a6315['deltaNorma'+'ls']);}get['name'](){return this['_name'];}get['defaultWei'+'ght'](){return this['_defaultWe'+'ight'];}get['aabb'](){return this['_aabb']||(this['_aabb']=new De(),this['deltaPosit'+'ions']&&this['_aabb']['compute'](this['deltaPosit'+'ions'])),this['_aabb'];}['clone'](){return w['assert'](this['options'],'MorphTarge'+'t\x20cannot\x20b'+'e\x20cloned,\x20'+'was\x20it\x20cre'+'ated\x20with\x20'+'a\x20preserve'+'Data\x20optio'+'n?'),new Md(this['options']);}['_postInit'](){this['options']['preserveDa'+'ta']||(this['options']=null),this['used']=!(0x1*-0x1cf9+0xa3c+0x12bd);}}let Ei,Z_=0x439*-0x3+0x1f85+-0x12d9;const ce=-0x14e7*0x1+0xb+0x14e0,mf=new te(),_f=new te(),ti=new D(),tt=new D(),Ns=new D(),Na=new D(),ns=new D(),_t=new D(),ka=new D(),Ua=new D(),fo=new D(),Q_=new D(),zt=new D(),fc=new D(),kr=new D();function pn(_0x1b54ec){return _0x1b54ec-Math['floor'](_0x1b54ec);}function fA(_0x497ac9){return Math['max'](Math['min'](_0x497ac9,0xb8f+0x14e3*-0x1+-0x1*-0x955),-0x229*-0x6+-0x18aa+0xbb4);}function gf(_0x1684d1,_0x16b620){return _0x1684d1-_0x16b620*Math['floor'](_0x1684d1/_0x16b620);}function uA(_0x27a70f){let _0x9ec453=pn(_0x27a70f),_0x511efe=pn((-0xd7*0x7+-0x1*0x1c87+0x3*0xbcd)*_0x27a70f),_0x40231b=pn((0x5945+-0x26b*0xbf+0x27291)*_0x27a70f),_0xa2915f=pn((-0x1*0x8d9fc25+-0x5d62b15+0x18426e39)*_0x27a70f);return _0x9ec453-=_0x511efe/(0x5*-0x31e+-0x805+0x189a),_0x511efe-=_0x40231b/(0x1ded+-0x1a84+0x6*-0x67),_0x40231b-=_0xa2915f/(0x19b7+-0x2287+0x9cf),_0xa2915f-=_0xa2915f/(-0x4bb*-0x2+-0x38*-0x1+-0x3*0x2e5),[_0x9ec453,_0x511efe,_0x40231b,_0xa2915f];}function uc(_0x552d32){let _0x478f2f=pn(_0x552d32),_0x1136e7=pn((0x14c0+-0x211c+0xd5b)*_0x552d32);return _0x478f2f-=_0x1136e7/(0x1*0xb6b+0xd51+-0x17bd),_0x1136e7-=_0x1136e7/(0xf81+0x1*-0xed1+0x4f),[_0x478f2f,_0x1136e7];}class pA{constructor(_0x26f18b){this['_emitter']=_0x26f18b;}['calcSpawnP'+'osition'](_0x2a887d,_0x5d18e7,_0x42eaed,_0x46e121,_0x2ea04e){const _0x18de15=this['_emitter'],_0x43936e=Math['random'](),_0x38c5a3=Math['random'](),_0x4d4e21=Math['random'](),_0x438e28=Math['random']();if(_0x18de15['useCpu']&&(_0x2a887d[_0x2ea04e*ce+(-0x22d*-0x11+-0x7f*-0x7+-0x2876*0x1)+_0x18de15['numParticl'+'esPot']*(0x151*-0xa+-0x1*0x61b+0x3*0x66d)*ce]=_0x43936e,_0x2a887d[_0x2ea04e*ce+(-0x145c+-0x33*-0x34+0xa01)+_0x18de15['numParticl'+'esPot']*(-0x1*-0x196d+-0x1207+0x2*-0x3b2)*ce]=_0x38c5a3,_0x2a887d[_0x2ea04e*ce+(0x2026+-0x71c+-0x1908)+_0x18de15['numParticl'+'esPot']*(-0x240+0x1e70+0x1c2e*-0x1)*ce]=_0x4d4e21),tt['x']=_0x43936e-(-0x239d+-0x1be5+0x1*0x3f82+0.5),tt['y']=_0x38c5a3-(0x3*0x768+0x1327*-0x1+-0x311+0.5),tt['z']=_0x4d4e21-(0x1c6a+0x1fac+-0x3c16+0.5),_0x18de15['emitterSha'+'pe']===ai){const _0x103e51=Math['max'](Math['abs'](tt['x']),Math['max'](Math['abs'](tt['y']),Math['abs'](tt['z']))),_0x10cc4e=_0x103e51+(-0x6*-0x3e6+0x22a6*0x1+-0x3a0a+0.5-_0x103e51)*_0x42eaed[-0x236f*0x1+0x25cc+-0x25d],_0x1dae68=_0x103e51+(-0x2e*-0x97+0xf95*0x2+-0x1d26*0x2+0.5-_0x103e51)*_0x42eaed[0x1d0b+0x74*-0x34+-0x57a],_0x255a0c=_0x103e51+(0x1084*0x1+0x9fb+0x1a7f*-0x1+0.5-_0x103e51)*_0x42eaed[-0x3*-0xaad+-0x2026+0x1*0x21];tt['x']=_0x10cc4e*(_0x103e51===Math['abs'](tt['x'])?Math['sign'](tt['x']):(-0x1262+0x26a7*0x1+0x7*-0x2e5)*tt['x']),tt['y']=_0x1dae68*(_0x103e51===Math['abs'](tt['y'])?Math['sign'](tt['y']):(-0x26*0xba+0x1a47+0x157)*tt['y']),tt['z']=_0x255a0c*(_0x103e51===Math['abs'](tt['z'])?Math['sign'](tt['z']):(0x10c6+-0x17b2+0x6ee)*tt['z']),_0x18de15['localSpace']?ti['copy'](_0x5d18e7['transformP'+'oint'](tt)):ti['copy'](_0x46e121)['add'](_0x5d18e7['transformP'+'oint'](tt));}else{tt['normalize']();const _0x1bd9a2=_0x18de15['emitterRad'+'ius']===-0x3a*-0x5c+-0x17a6*0x1+0x2*0x167?-0x2*-0x137c+-0xf30+-0x17c8:_0x18de15['emitterRad'+'iusInner']/_0x18de15['emitterRad'+'ius'],_0xa617b9=_0x438e28*(0x9*0x41c+-0x1ac*-0x6+-0x2f03-_0x1bd9a2)+_0x1bd9a2;_0x18de15['localSpace']?ti['copy'](tt['mulScalar'](_0xa617b9*_0x18de15['emitterRad'+'ius'])):ti['copy'](_0x46e121)['add'](tt['mulScalar'](_0xa617b9*_0x18de15['emitterRad'+'ius']));}let _0x47542a=-Y['lerp'](_0x18de15['rate'],_0x18de15['rate2'],_0x43936e)*_0x2ea04e;if(_0x18de15['pack8']){const _0x458215=(ti['x']-_0x18de15['worldBound'+'s']['center']['x'])/_0x18de15['worldBound'+'sSize']['x']+(-0xa9*-0x2f+-0x222b+0x324+0.5),_0x3dfef8=(ti['y']-_0x18de15['worldBound'+'s']['center']['y'])/_0x18de15['worldBound'+'sSize']['y']+(-0xe53+-0x2b*-0xb1+0x3a*-0x44+0.5),_0x4a807d=(ti['z']-_0x18de15['worldBound'+'s']['center']['z'])/_0x18de15['worldBound'+'sSize']['z']+(-0xe*0x2a1+0x60e+-0x3*-0xa40+0.5);let _0x256401=Y['lerp'](_0x18de15['startAngle']*Y['DEG_TO_RAD'],_0x18de15['startAngle'+'2']*Y['DEG_TO_RAD'],_0x43936e);_0x256401=_0x256401%(Math['PI']*(-0x4ba+-0x1fee+0x2*0x1255))/(Math['PI']*(-0x8*-0x3b+0x1f17+0x20ed*-0x1));const _0x19e969=uc(_0x458215);_0x2a887d[_0x2ea04e*ce]=_0x19e969[0x115*0x7+0x1*0x248a+-0x2c1d],_0x2a887d[_0x2ea04e*ce+(0x769*0x2+0x254c+-0x3*0x115f)]=_0x19e969[0x8*0x38+-0x3*-0x9ec+-0x1f83];const _0xbdd411=uc(_0x3dfef8);_0x2a887d[_0x2ea04e*ce+(0x1b7f+-0x1a15+-0x28*0x9)]=_0xbdd411[-0xee*0x20+0xecb+-0x7*-0x223],_0x2a887d[_0x2ea04e*ce+(-0x225*-0x3+-0x1*0x1a8a+0x141e)]=_0xbdd411[-0x8*0x6a+-0x1be2+-0x7*-0x475];const _0x11c8d6=uc(_0x4a807d);_0x2a887d[_0x2ea04e*ce+(-0x1*-0x6+0x22ae+-0x22b4)+_0x18de15['numParticl'+'esPot']*ce]=_0x11c8d6[0x6d0*0x1+-0x985+0xe7*0x3],_0x2a887d[_0x2ea04e*ce+(-0x2*-0x12af+-0x509*0x7+-0x21e)+_0x18de15['numParticl'+'esPot']*ce]=_0x11c8d6[-0x136b+0x59b*0x4+-0x300];const _0x4bf04e=uc(_0x256401);_0x2a887d[_0x2ea04e*ce+(-0xb3a+0x1073+-0x537)+_0x18de15['numParticl'+'esPot']*ce]=_0x4bf04e[-0x1*-0x8d1+0x18e0*0x1+-0x21b1],_0x2a887d[_0x2ea04e*ce+(0x63e+-0x1*-0xe3+-0x71e)+_0x18de15['numParticl'+'esPot']*ce]=_0x4bf04e[-0x121d+0x1*0x20f1+0x5*-0x2f7];const _0x55501e=-0x6*0x39e+0x1a76+0x1*-0x4c1;_0x2a887d[_0x2ea04e*ce+(-0x15eb+-0x717+0x1d05)+_0x18de15['numParticl'+'esPot']*ce*(0xac5*0x1+0x4f*-0x34+0x549)]=_0x55501e;const _0x19df0d=Math['max'](_0x18de15['lifetime'],(_0x18de15['numParticl'+'es']-(0x26db+-0xf5b*0x1+-0x177f))*Math['max'](_0x18de15['rate'],_0x18de15['rate2'])),_0x5c7449=_0x18de15['lifetime']+(-0x36f*0x8+-0x4c5+0x203e);_0x47542a=(_0x47542a+_0x19df0d)/(_0x19df0d+_0x5c7449);const _0x489040=uA(_0x47542a);_0x2a887d[_0x2ea04e*ce+(-0x5e+-0x1a1b+-0x3*-0x8d3)+_0x18de15['numParticl'+'esPot']*ce*(0x1127+-0xe*-0x15b+0x17*-0x192)]=_0x489040[0x266f+-0x1*-0x1771+-0x8*0x7bc],_0x2a887d[_0x2ea04e*ce+(0x3*-0xa11+0x86f+0x15c5)+_0x18de15['numParticl'+'esPot']*ce*(-0x1*0xe3+-0x471+0x557*0x1)]=_0x489040[0x2537+0x1*-0xdaf+0x1787*-0x1],_0x2a887d[_0x2ea04e*ce+(-0x10f*0x1+-0xbf0+0xd01)+_0x18de15['numParticl'+'esPot']*ce*(0x9fa*-0x2+-0xaf*-0x1+0x1348)]=_0x489040[0x1a*-0x1+-0x5*0x617+-0x1*-0x1e8f],_0x2a887d[_0x2ea04e*ce+(-0x769*0x1+0x138b*-0x1+-0x3b*-0x75)+_0x18de15['numParticl'+'esPot']*ce*(0x566*-0x6+-0x95*0x3+-0x2f*-0xba)]=_0x489040[0xaf6+0x1b42+0x2635*-0x1];}else _0x2a887d[_0x2ea04e*ce]=ti['x'],_0x2a887d[_0x2ea04e*ce+(-0x1c66+-0x1d10+-0x3977*-0x1)]=ti['y'],_0x2a887d[_0x2ea04e*ce+(-0x2*0x3fd+-0x26e0+0x2edc)]=ti['z'],_0x2a887d[_0x2ea04e*ce+(-0x116*0x1+-0x2*-0xfb9+-0x1e59)]=Y['lerp'](_0x18de15['startAngle']*Y['DEG_TO_RAD'],_0x18de15['startAngle'+'2']*Y['DEG_TO_RAD'],_0x43936e),_0x2a887d[_0x2ea04e*ce+(-0x1197+0x2*-0xf38+-0xb*-0x45e)+_0x18de15['numParticl'+'esPot']*ce]=_0x47542a;}['update'](_0x338f2d,_0x356d7a,_0x38dcfc,_0xf629b4,_0x302d8c,_0x2c4d42,_0xcc8e20,_0xc7f717){let _0x1927c2,_0xebe845,_0x5c813b;const _0x4f6cdd=this['_emitter'];if(_0x4f6cdd['meshInstan'+'ce']['node']){const _0x4b61d1=_0x4f6cdd['meshInstan'+'ce']['node']['worldTrans'+'form'];for(let _0x339b51=-0x1af1+0x1898+-0x1*-0x259;_0x339b51<-0x2478*0x1+-0x2629+0x1*0x4aad;_0x339b51++)mf['data'][_0x339b51]=_0x4b61d1['data'][_0x339b51];_f['copy'](mf),_f['invert'](),Ei=_0x4f6cdd['meshInstan'+'ce']['node']['localScale'],Z_=Math['max'](Math['max'](Ei['x'],Ei['y']),Ei['z']);}_0x2c4d42=_0x4f6cdd['meshInstan'+'ce']['node']===null||_0x4f6cdd['localSpace']?D['ZERO']:_0x4f6cdd['meshInstan'+'ce']['node']['getPositio'+'n']();const _0x594f26=_0x4f6cdd['camera']?_0x4f6cdd['camera']['_node']['getPositio'+'n']():D['ZERO'],_0x54f3c3=_0x4f6cdd['useMesh']?-0xd2c+0xcef+-0x2*-0x27:-0xd7f+-0x1c19*-0x1+-0xdb*0x11;let _0xc0a7fe,_0x3e88b3,_0x278fac,_0x173f66,_0x3d8310,_0x2efc88,_0x523b1a,_0x501608,_0x1c7e8a;const _0x5adba0=_0x4f6cdd['precision']-(-0x1f8+0x268f+-0x2496);for(let _0x5beb78=0x83c+-0x6c5+-0x3*0x7d;_0x5beb78<_0x4f6cdd['numParticl'+'es'];_0x5beb78++){const _0x25029e=Math['floor'](_0x4f6cdd['vbCPU'][_0x5beb78*_0x4f6cdd['numParticl'+'eVerts']*(_0x4f6cdd['useMesh']?-0x2445+-0x1ae3*-0x1+0x25a*0x4:-0x1669+0x1232+0x43b)+(-0x13b2+-0x3*-0x895+-0x60a)]),_0xafb48=_0x38dcfc[_0x25029e*ce+(-0x1*-0x6b5+0xf21+-0x22f*0xa)+_0x4f6cdd['numParticl'+'esPot']*(0xf9d+0x2e9*0x5+-0x8*0x3c5)*ce];Ns['x']=_0xafb48,Ns['y']=_0x38dcfc[_0x25029e*ce+(-0xce1+-0x16*0x1a5+0x8*0x622)+_0x4f6cdd['numParticl'+'esPot']*(-0xfb9+-0x7cd+0x1788)*ce],Ns['z']=_0x38dcfc[_0x25029e*ce+(-0x521*-0x3+-0x1*-0x11d8+-0x7*0x4bf)+_0x4f6cdd['numParticl'+'esPot']*(0x1bd0+0x1ef6+0x1*-0x3ac4)*ce];const _0x47873f=_0x4f6cdd['rate']+(_0x4f6cdd['rate2']-_0x4f6cdd['rate'])*_0xafb48,_0x15bc74=_0x4f6cdd['lifetime'];let _0x488147=_0x38dcfc[_0x25029e*ce+(-0x354+0xf5b+-0xc04)+_0x4f6cdd['numParticl'+'esPot']*ce]+_0xcc8e20;const _0x554a6d=fA(_0x488147/_0x15bc74);let _0x21e73c=0x225d+0x3*-0x4e+-0x2173,_0x444a28=-0x1451+-0xf6*0x26+0x38d5;const _0x3bf16a=-0x1cc2+-0x10*0x1fa+0x3c62;(_0x488147-_0xcc8e20<=0x1e54+-0xa82+-0x13d2||_0x488147>=_0x15bc74)&&this['calcSpawnP'+'osition'](_0x38dcfc,_0xf629b4,_0x302d8c,_0x2c4d42,_0x25029e);let _0x4b4d10=_0x488147>-0x1*0xdaf+0x7fd+0x51*0x12&&_0x488147<_0x15bc74;_0x4b4d10&&(_0x5c813b=_0x554a6d*_0x5adba0,_0xc0a7fe=Math['floor'](_0x5c813b),_0x3e88b3=Math['ceil'](_0x5c813b),_0x5c813b%=0xfe1+-0x2670+0x130*0x13,_0x1927c2=_0x4f6cdd['qRotSpeed'][_0xc0a7fe],_0xebe845=_0x4f6cdd['qRotSpeed'][_0x3e88b3],_0x278fac=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_0x1927c2=_0x4f6cdd['qRotSpeed2'][_0xc0a7fe],_0xebe845=_0x4f6cdd['qRotSpeed2'][_0x3e88b3],_0x173f66=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_0x1927c2=_0x4f6cdd['qScale'][_0xc0a7fe],_0xebe845=_0x4f6cdd['qScale'][_0x3e88b3],_0x21e73c=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_0x1927c2=_0x4f6cdd['qScale2'][_0xc0a7fe],_0xebe845=_0x4f6cdd['qScale2'][_0x3e88b3],_0x3d8310=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_0x1927c2=_0x4f6cdd['qAlpha'][_0xc0a7fe],_0xebe845=_0x4f6cdd['qAlpha'][_0x3e88b3],_0x2efc88=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_0x1927c2=_0x4f6cdd['qAlpha2'][_0xc0a7fe],_0xebe845=_0x4f6cdd['qAlpha2'][_0x3e88b3],_0x523b1a=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_0x1927c2=_0x4f6cdd['qRadialSpe'+'ed'][_0xc0a7fe],_0xebe845=_0x4f6cdd['qRadialSpe'+'ed'][_0x3e88b3],_0x501608=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_0x1927c2=_0x4f6cdd['qRadialSpe'+'ed2'][_0xc0a7fe],_0xebe845=_0x4f6cdd['qRadialSpe'+'ed2'][_0x3e88b3],_0x1c7e8a=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_0x501608+=(_0x1c7e8a-_0x501608)*(_0xafb48*(-0x21fb+0x1657+0xc08)%(-0x26e1+0xb42+0x20*0xdd)),Na['x']=_0x38dcfc[_0x25029e*ce],Na['y']=_0x38dcfc[_0x25029e*ce+(0x244c+-0x19*0x7d+-0x1816)],Na['z']=_0x38dcfc[_0x25029e*ce+(-0x1698+0x1945+-0x1*0x2ab)],_0x4f6cdd['localSpace']?fo['copy'](Na):fo['copy'](Na)['sub'](_0x2c4d42),fo['normalize']()['mulScalar'](_0x501608),_0xc0a7fe*=-0x1d30+0x3*0x939+-0x8*-0x31,_0x3e88b3*=-0x4df*0x1+-0x1*-0x2439+0x71*-0x47,_0x1927c2=_0x4f6cdd['qLocalVelo'+'city'][_0xc0a7fe],_0xebe845=_0x4f6cdd['qLocalVelo'+'city'][_0x3e88b3],_t['x']=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_0x1927c2=_0x4f6cdd['qLocalVelo'+'city'][_0xc0a7fe+(0x101b+0xd72+-0x1d8c)],_0xebe845=_0x4f6cdd['qLocalVelo'+'city'][_0x3e88b3+(0x1438+-0x2061+0xc2a)],_t['y']=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_0x1927c2=_0x4f6cdd['qLocalVelo'+'city'][_0xc0a7fe+(-0x1311+-0x1ce+0x5*0x42d)],_0xebe845=_0x4f6cdd['qLocalVelo'+'city'][_0x3e88b3+(0x9*0x26c+-0x2b0*0x5+-0x85a)],_t['z']=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_0x1927c2=_0x4f6cdd['qLocalVelo'+'city2'][_0xc0a7fe],_0xebe845=_0x4f6cdd['qLocalVelo'+'city2'][_0x3e88b3],Ua['x']=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_0x1927c2=_0x4f6cdd['qLocalVelo'+'city2'][_0xc0a7fe+(-0x1783+-0x1*-0x23c3+-0xc3f)],_0xebe845=_0x4f6cdd['qLocalVelo'+'city2'][_0x3e88b3+(0x35*-0x51+-0x22a5+0x336b)],Ua['y']=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_0x1927c2=_0x4f6cdd['qLocalVelo'+'city2'][_0xc0a7fe+(-0x28c*0xb+-0x3*-0xc7+0x19b1)],_0xebe845=_0x4f6cdd['qLocalVelo'+'city2'][_0x3e88b3+(0x4fe+0x1*-0x1f19+0x1a1d)],Ua['z']=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_0x1927c2=_0x4f6cdd['qVelocity'][_0xc0a7fe],_0xebe845=_0x4f6cdd['qVelocity'][_0x3e88b3],ns['x']=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_0x1927c2=_0x4f6cdd['qVelocity'][_0xc0a7fe+(-0x12c8+0x2582+-0x12b9)],_0xebe845=_0x4f6cdd['qVelocity'][_0x3e88b3+(-0x15ce+-0x1*0x13a4+0x2973)],ns['y']=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_0x1927c2=_0x4f6cdd['qVelocity'][_0xc0a7fe+(0x18e*-0xe+0x25ac+-0xfe6)],_0xebe845=_0x4f6cdd['qVelocity'][_0x3e88b3+(0x1f51+0x14a0+-0x33ef)],ns['z']=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_0x1927c2=_0x4f6cdd['qVelocity2'][_0xc0a7fe],_0xebe845=_0x4f6cdd['qVelocity2'][_0x3e88b3],ka['x']=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_0x1927c2=_0x4f6cdd['qVelocity2'][_0xc0a7fe+(-0x24bc+0x933+0x1b8a)],_0xebe845=_0x4f6cdd['qVelocity2'][_0x3e88b3+(-0x185c+-0xdde+0x263b)],ka['y']=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_0x1927c2=_0x4f6cdd['qVelocity2'][_0xc0a7fe+(-0xaa4+-0x6cd*-0x2+-0x2*0x17a)],_0xebe845=_0x4f6cdd['qVelocity2'][_0x3e88b3+(-0x1*0x25dd+0xf1*0x10+0x16cf)],ka['z']=_0x1927c2+(_0xebe845-_0x1927c2)*_0x5c813b,_t['x']+=(Ua['x']-_t['x'])*Ns['x'],_t['y']+=(Ua['y']-_t['y'])*Ns['y'],_t['z']+=(Ua['z']-_t['z'])*Ns['z'],_0x4f6cdd['initialVel'+'ocity']>-0x94*-0x28+0x2*-0x808+-0x710&&(_0x4f6cdd['emitterSha'+'pe']===zw?(tt['copy'](Ns)['mulScalar'](-0xb86+0xfef*-0x1+0x1b77)['sub'](D['ONE'])['normalize'](),_t['add'](tt['mulScalar'](_0x4f6cdd['initialVel'+'ocity']))):_t['add'](D['FORWARD']['mulScalar'](_0x4f6cdd['initialVel'+'ocity']))),ns['x']+=(ka['x']-ns['x'])*Ns['x'],ns['y']+=(ka['y']-ns['y'])*Ns['y'],ns['z']+=(ka['z']-ns['z'])*Ns['z'],_0x278fac+=(_0x173f66-_0x278fac)*Ns['y'],_0x21e73c=(_0x21e73c+(_0x3d8310-_0x21e73c)*(_0xafb48*(0x1*-0x27af+-0x4183+0x9042)%(-0x876+-0x1a84*-0x1+-0x120d)))*Z_,_0x444a28=(_0x523b1a-_0x2efc88)*(_0xafb48*(0xe5*0x7+-0x25c1*-0x1+-0x281c)%(-0x46*-0x1+-0x48+-0x1*-0x3)),_0x4f6cdd['meshInstan'+'ce']['node']&&(_0x4f6cdd['localSpace']?(_t['x']/=Ei['x'],_t['y']/=Ei['y'],_t['z']/=Ei['z']):mf['transformP'+'oint'](_t,_t)),_0x4f6cdd['localSpace']?(_f['transformP'+'oint'](ns,ns),_t['add'](ns)['add'](fo)):(_t['add'](ns['mul'](Ei)),_t['add'](fo['mul'](Ei))),fc['copy'](_t),Q_['copy'](Na)['add'](_t['mulScalar'](_0xcc8e20)),zt['copy'](Q_),_0x38dcfc[_0x25029e*ce]=zt['x'],_0x38dcfc[_0x25029e*ce+(-0x1720+-0x7a*-0x20+0x7e1)]=zt['y'],_0x38dcfc[_0x25029e*ce+(0x2b*-0xad+-0xf92*-0x2+-0x213)]=zt['z'],_0x38dcfc[_0x25029e*ce+(-0x1b83+-0x3*0x570+0x2bd6)]+=_0x278fac*_0xcc8e20,_0x4f6cdd['wrap']&&_0x4f6cdd['wrapBounds']&&(_0x4f6cdd['localSpace']||zt['sub'](_0x2c4d42),zt['x']=gf(zt['x'],_0x4f6cdd['wrapBounds']['x'])-_0x4f6cdd['wrapBounds']['x']*(0x89*0x1d+-0x2*0x909+0x28d+0.5),zt['y']=gf(zt['y'],_0x4f6cdd['wrapBounds']['y'])-_0x4f6cdd['wrapBounds']['y']*(0x116c*-0x1+0x4*-0x365+0x1f00+0.5),zt['z']=gf(zt['z'],_0x4f6cdd['wrapBounds']['z'])-_0x4f6cdd['wrapBounds']['z']*(0x90e+-0x1d*0x10e+0x1588*0x1+0.5),_0x4f6cdd['localSpace']||zt['add'](_0x2c4d42)),_0x4f6cdd['sort']>0x1813*0x1+0xab*-0x1+-0x1768&&(_0x4f6cdd['sort']===-0xdf3+-0x2561+0x3355?(kr['copy'](zt)['sub'](_0x594f26),_0x4f6cdd['particleDi'+'stance'][_0x25029e]=-(kr['x']*kr['x']+kr['y']*kr['y']+kr['z']*kr['z'])):_0x4f6cdd['sort']===-0x35*-0x3c+-0x2*0x91d+0x1*0x5d0?_0x4f6cdd['particleDi'+'stance'][_0x25029e]=_0x488147:_0x4f6cdd['sort']===-0x4*-0x673+0x1579*-0x1+0x2e*-0x18&&(_0x4f6cdd['particleDi'+'stance'][_0x25029e]=-_0x488147))),_0xc7f717?_0x488147<-0x718+-0x3b*0x39+0x143b&&(_0x38dcfc[_0x25029e*ce+(0x1*0xa42+-0x1*0x22f4+0x18b5)+_0x4f6cdd['numParticl'+'esPot']*(-0x9*-0x41+0x1bbb+-0x1e02)*ce]=-(-0x21ec+0x2*0x1021+-0x1ab*-0x1)):(_0x488147>=_0x15bc74&&(_0x488147-=Math['max'](_0x15bc74,(_0x4f6cdd['numParticl'+'es']-(0x1b2c+0x35*0x67+0x1*-0x307e))*_0x47873f),_0x38dcfc[_0x25029e*ce+(-0x1*-0xbcb+-0x12b4+0x4*0x1bb)+_0x4f6cdd['numParticl'+'esPot']*(-0xee9*-0x1+-0x14a1*0x1+0x5ba)*ce]=_0x4f6cdd['loop']?-0x215d+0x55*-0x5b+0x3f95:-(0x18e*0x7+-0x2*-0xbb5+-0x224b)),_0x488147<0x3*-0x9f+-0x492*0x8+0x445*0x9&&_0x4f6cdd['loop']&&(_0x38dcfc[_0x25029e*ce+(0xa21*0x1+0x7*-0x1c9+0x261)+_0x4f6cdd['numParticl'+'esPot']*(-0x40*0xe+-0x18e2+0x1c64)*ce]=-0x7*0x1+-0x109e+-0x10a6*-0x1)),_0x38dcfc[_0x25029e*ce+(-0x14fc+-0x190+0x168f)+_0x4f6cdd['numParticl'+'esPot']*(-0xa33+0x170a+-0xcd5)*ce]<-0x255d+-0x5*-0x692+0x483&&(_0x4b4d10=!(0x67c+-0x2f*0x8b+0x2*0x985)),_0x38dcfc[_0x25029e*ce+(-0xc46*0x1+-0x1*0x3e+0xc87)+_0x4f6cdd['numParticl'+'esPot']*ce]=_0x488147;for(let _0x136fa9=-0x26b6+-0x7f+0x2735;_0x136fa9<_0x4f6cdd['numParticl'+'eVerts'];_0x136fa9++){const _0x4fe618=(_0x5beb78*_0x4f6cdd['numParticl'+'eVerts']+_0x136fa9)*(_0x4f6cdd['useMesh']?0x1*-0x113e+-0x1*0x1caf+0x2df3:0x1302*-0x1+0xcf3+0x613*0x1);let _0xde71ac=_0x4f6cdd['vbCPU'][_0x4fe618],_0x3529cb=_0x4f6cdd['vbCPU'][_0x4fe618+(0x1f*-0x21+0x1*-0x1363+-0x1*-0x1763)],_0x52ac65=_0x4f6cdd['vbCPU'][_0x4fe618+(0x7cd*0x1+0x59e+0x1*-0xd69)];_0x4b4d10||(_0xde71ac=_0x3529cb=_0x52ac65=-0x76f+0x1c1*-0x10+0x237f);const _0x1a9182=_0x5beb78*_0x4f6cdd['numParticl'+'eVerts']*_0x54f3c3+_0x136fa9*_0x54f3c3;_0x338f2d[_0x1a9182]=zt['x'],_0x338f2d[_0x1a9182+(0x1*0x13b1+0x2360+-0x10*0x371)]=zt['y'],_0x338f2d[_0x1a9182+(0xd4*0xb+0xda4+0x47*-0x52)]=zt['z'],_0x338f2d[_0x1a9182+(-0x1c2a+-0x91f+-0x1f*-0x134)]=_0x554a6d,_0x338f2d[_0x1a9182+(-0x267c+0xa21+0x9*0x327)]=_0x4f6cdd['alignToMot'+'ion']?_0x3bf16a:_0x38dcfc[_0x25029e*ce+(-0x7*0xc9+-0x1*-0x5ad+-0x2b)],_0x338f2d[_0x1a9182+(0x57a*-0x5+0x1*0x2051+-0x4ea)]=_0x21e73c,_0x338f2d[_0x1a9182+(-0x1*-0x26fd+-0x781+-0x1f76)]=_0x444a28,_0x338f2d[_0x1a9182+(-0x1a*0x1f+0x3*-0x73b+0x18de)]=fc['x'],_0x338f2d[_0x1a9182+(0x1b15+0x21d0+-0x3cdd)]=_0xde71ac,_0x338f2d[_0x1a9182+(-0x31*0x11+-0x191f+0x1c69)]=_0x3529cb,_0x338f2d[_0x1a9182+(0x89*0x3+0x154b+-0x16dc)]=_0x52ac65,_0x338f2d[_0x1a9182+(-0x119d+0xf*-0x29+0xd*0x18b)]=fc['y'],_0x338f2d[_0x1a9182+(0xddc+0x9c4+0xc*-0x1f7)]=_0x25029e,_0x338f2d[_0x1a9182+(0x2369+0x26c*-0xb+0x24*-0x3e)]=fc['z'],_0x338f2d[_0x1a9182+(0xf68+0x1921+-0x287b)]=_0x4f6cdd['vbCPU'][_0x4fe618+(-0x2584+0x12c*0xf+0x1*0x13f3)],_0x4f6cdd['useMesh']&&(_0x338f2d[_0x1a9182+(-0x13*0x35+-0x1e90+0x1*0x228e)]=_0x4f6cdd['vbCPU'][_0x4fe618+(-0x166b+-0xa2f+0x209e)],_0x338f2d[_0x1a9182+(-0x11*-0x8b+-0x1fc4+0x1bd*0xd)]=_0x4f6cdd['vbCPU'][_0x4fe618+(-0x2526*0x1+0x7*-0x4fd+0x4816)]);}}if(_0x4f6cdd['sort']>nu&&_0x4f6cdd['camera']){const _0x415589=_0x4f6cdd['useMesh']?-0x526+-0x3*0x207+0xb41:-0x1a46+-0x116*0x21+0x8*0x7c4,_0x13e51e=_0x4f6cdd['particleDi'+'stance'];for(let _0x1beecd=-0x2ad+-0x18cd+0x2*0xdbd;_0x1beecd<_0x4f6cdd['numParticl'+'es'];_0x1beecd++)_0x356d7a[_0x1beecd][0x209b+0x71*-0x7+0xec2*-0x2]=_0x1beecd,_0x356d7a[_0x1beecd][0x369*-0x4+0x256a+-0x17c5]=_0x13e51e[Math['floor'](_0x4f6cdd['vbCPU'][_0x1beecd*_0x4f6cdd['numParticl'+'eVerts']*_0x415589+(0x5a*-0x2e+0x8*0x298+-0x1*0x491)])];_0x4f6cdd['vbOld']['set'](_0x4f6cdd['vbCPU']),_0x356d7a['sort']((_0x495438,_0x1be081)=>_0x495438[0x182*0xd+-0xa2*-0x3d+-0x3a33*0x1]-_0x1be081[-0x1718+0x3*-0x822+0x2f7f]);for(let _0x44d56d=0x2*-0x1ff+0x2197+-0x1d99;_0x44d56d<_0x4f6cdd['numParticl'+'es'];_0x44d56d++){const _0x102a0c=_0x356d7a[_0x44d56d][0x16b*-0x1+-0x3*-0x56e+0x51*-0x2f]*_0x4f6cdd['numParticl'+'eVerts']*_0x415589,_0x3b95c8=_0x44d56d*_0x4f6cdd['numParticl'+'eVerts']*_0x415589;for(let _0x34f471=0x8*0xc7+0x249d+0x11*-0x285;_0x34f471<_0x4f6cdd['numParticl'+'eVerts']*_0x415589;_0x34f471++)_0x4f6cdd['vbCPU'][_0x3b95c8+_0x34f471]=_0x4f6cdd['vbOld'][_0x102a0c+_0x34f471];}}}}const J_=new _i(),eg=new _i(),tg=new _i();class mA{constructor(_0x373f1a,_0x2dc41d){this['_emitter']=_0x373f1a,this['frameRando'+'mUniform']=new Float32Array(0xa*-0x3d7+0xb*-0x20d+-0x2*-0x1e7c),this['emitterPos'+'Uniform']=new Float32Array(-0x493*-0x1+-0x3db+-0xb5),this['emitterSca'+'leUniform']=new Float32Array([0x50d*-0x1+-0x521*0x1+0xa2f,-0x275*0x2+0x1925+-0x143a,-0x1ef8+-0x1d3*-0x12+-0x35*0x9]),this['worldBound'+'sMulUnifor'+'m']=new Float32Array(0xe01*-0x2+-0x67d+0x2282),this['worldBound'+'sAddUnifor'+'m']=new Float32Array(0x134a+-0x2205+-0x11*-0xde),this['inBoundsSi'+'zeUniform']=new Float32Array(-0x180a+-0x1ae+0x19bb),this['inBoundsCe'+'nterUnifor'+'m']=new Float32Array(-0x176*0x2+0x4f7+0x5*-0x68),this['constantPa'+'rticleTexI'+'N']=_0x2dc41d['scope']['resolve']('particleTe'+'xIN'),this['constantPa'+'rticleTexO'+'UT']=_0x2dc41d['scope']['resolve']('particleTe'+'xOUT'),this['constantEm'+'itterPos']=_0x2dc41d['scope']['resolve']('emitterPos'),this['constantEm'+'itterScale']=_0x2dc41d['scope']['resolve']('emitterSca'+'le'),this['constantSp'+'awnBounds']=_0x2dc41d['scope']['resolve']('spawnBound'+'s'),this['constantSp'+'awnPosInne'+'rRatio']=_0x2dc41d['scope']['resolve']('spawnPosIn'+'nerRatio'),this['constantSp'+'awnBoundsS'+'phere']=_0x2dc41d['scope']['resolve']('spawnBound'+'sSphere'),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']=_0x2dc41d['scope']['resolve']('spawnBound'+'sSphereInn'+'erRatio'),this['constantIn'+'itialVeloc'+'ity']=_0x2dc41d['scope']['resolve']('initialVel'+'ocity'),this['constantFr'+'ameRandom']=_0x2dc41d['scope']['resolve']('frameRando'+'m'),this['constantDe'+'lta']=_0x2dc41d['scope']['resolve']('delta'),this['constantRa'+'te']=_0x2dc41d['scope']['resolve']('rate'),this['constantRa'+'teDiv']=_0x2dc41d['scope']['resolve']('rateDiv'),this['constantLi'+'fetime']=_0x2dc41d['scope']['resolve']('lifetime'),this['constantGr'+'aphSampleS'+'ize']=_0x2dc41d['scope']['resolve']('graphSampl'+'eSize'),this['constantGr'+'aphNumSamp'+'les']=_0x2dc41d['scope']['resolve']('graphNumSa'+'mples'),this['constantIn'+'ternalTex0']=_0x2dc41d['scope']['resolve']('internalTe'+'x0'),this['constantIn'+'ternalTex1']=_0x2dc41d['scope']['resolve']('internalTe'+'x1'),this['constantIn'+'ternalTex2']=_0x2dc41d['scope']['resolve']('internalTe'+'x2'),this['constantIn'+'ternalTex3']=_0x2dc41d['scope']['resolve']('internalTe'+'x3'),this['constantEm'+'itterMatri'+'x']=_0x2dc41d['scope']['resolve']('emitterMat'+'rix'),this['constantEm'+'itterMatri'+'xInv']=_0x2dc41d['scope']['resolve']('emitterMat'+'rixInv'),this['constantNu'+'mParticles']=_0x2dc41d['scope']['resolve']('numParticl'+'es'),this['constantNu'+'mParticles'+'Pot']=_0x2dc41d['scope']['resolve']('numParticl'+'esPot'),this['constantLo'+'calVelocit'+'yDivMult']=_0x2dc41d['scope']['resolve']('localVeloc'+'ityDivMult'),this['constantVe'+'locityDivM'+'ult']=_0x2dc41d['scope']['resolve']('velocityDi'+'vMult'),this['constantRo'+'tSpeedDivM'+'ult']=_0x2dc41d['scope']['resolve']('rotSpeedDi'+'vMult'),this['constantSe'+'ed']=_0x2dc41d['scope']['resolve']('seed'),this['constantSt'+'artAngle']=_0x2dc41d['scope']['resolve']('startAngle'),this['constantSt'+'artAngle2']=_0x2dc41d['scope']['resolve']('startAngle'+'2'),this['constantOu'+'tBoundsMul']=_0x2dc41d['scope']['resolve']('outBoundsM'+'ul'),this['constantOu'+'tBoundsAdd']=_0x2dc41d['scope']['resolve']('outBoundsA'+'dd'),this['constantIn'+'BoundsSize']=_0x2dc41d['scope']['resolve']('inBoundsSi'+'ze'),this['constantIn'+'BoundsCent'+'er']=_0x2dc41d['scope']['resolve']('inBoundsCe'+'nter'),this['constantMa'+'xVel']=_0x2dc41d['scope']['resolve']('maxVel'),this['constantFa'+'ceTangent']=_0x2dc41d['scope']['resolve']('faceTangen'+'t'),this['constantFa'+'ceBinorm']=_0x2dc41d['scope']['resolve']('faceBinorm');}['_setInputB'+'ounds'](){this['inBoundsSi'+'zeUniform'][-0x1c5b+-0x521*0x5+0x3600]=this['_emitter']['prevWorldB'+'oundsSize']['x'],this['inBoundsSi'+'zeUniform'][-0x8f*-0x17+-0x1*0x1f37+0x125f]=this['_emitter']['prevWorldB'+'oundsSize']['y'],this['inBoundsSi'+'zeUniform'][0x14e7*-0x1+0x36f*-0x2+0x1bc7]=this['_emitter']['prevWorldB'+'oundsSize']['z'],this['constantIn'+'BoundsSize']['setValue'](this['inBoundsSi'+'zeUniform']),this['inBoundsCe'+'nterUnifor'+'m'][0x23f0+0xb6f+0xb5*-0x43]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['x'],this['inBoundsCe'+'nterUnifor'+'m'][-0x184b+-0x1bb5+0x1*0x3401]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['y'],this['inBoundsCe'+'nterUnifor'+'m'][-0x1eb6+0x1c05+0x2b3]=this['_emitter']['prevWorldB'+'oundsCente'+'r']['z'],this['constantIn'+'BoundsCent'+'er']['setValue'](this['inBoundsCe'+'nterUnifor'+'m']);}['randomize'](){this['frameRando'+'mUniform'][-0x1e6f+-0x1*0x3c7+0x12e*0x1d]=Math['random'](),this['frameRando'+'mUniform'][0x70f+0x1c9b+-0xb3*0x33]=Math['random'](),this['frameRando'+'mUniform'][0x1e7f*0x1+0x26ab+-0x4528]=Math['random']();}['update'](_0x270aa0,_0x16f24e,_0x28fcd0,_0x7fce4b,_0x3dd2ca){Q['pushGpuMar'+'ker'](_0x270aa0,'ParticleGP'+'U');const _0x5973cb=this['_emitter'];_0x270aa0['setBlendSt'+'ate'](pt['NOBLEND']),_0x270aa0['setDepthSt'+'ate'](Yt['NODEPTH']),_0x270aa0['setCullMod'+'e'](bt),this['randomize'](),this['constantGr'+'aphSampleS'+'ize']['setValue']((-0x6d*0x4+-0x24e2+0x10b*0x25)/_0x5973cb['precision']),this['constantGr'+'aphNumSamp'+'les']['setValue'](_0x5973cb['precision']),this['constantNu'+'mParticles']['setValue'](_0x5973cb['numParticl'+'es']),this['constantNu'+'mParticles'+'Pot']['setValue'](_0x5973cb['numParticl'+'esPot']),this['constantIn'+'ternalTex0']['setValue'](_0x5973cb['internalTe'+'x0']),this['constantIn'+'ternalTex1']['setValue'](_0x5973cb['internalTe'+'x1']),this['constantIn'+'ternalTex2']['setValue'](_0x5973cb['internalTe'+'x2']),this['constantIn'+'ternalTex3']['setValue'](_0x5973cb['internalTe'+'x3']);const _0x5308b3=_0x5973cb['meshInstan'+'ce']['node'],_0x558b14=_0x5308b3===null?D['ONE']:_0x5308b3['localScale'];if(_0x5973cb['pack8']){this['worldBound'+'sMulUnifor'+'m'][-0x199d+-0x1094*-0x1+0x3*0x303]=_0x5973cb['worldBound'+'sMul']['x'],this['worldBound'+'sMulUnifor'+'m'][0x71*-0x27+-0xbae+-0x6*-0x4d1]=_0x5973cb['worldBound'+'sMul']['y'],this['worldBound'+'sMulUnifor'+'m'][-0x23ca+-0x1*0x1039+-0x17*-0x243]=_0x5973cb['worldBound'+'sMul']['z'],this['constantOu'+'tBoundsMul']['setValue'](this['worldBound'+'sMulUnifor'+'m']),this['worldBound'+'sAddUnifor'+'m'][-0x6b1*0x2+0x416+0x94c]=_0x5973cb['worldBound'+'sAdd']['x'],this['worldBound'+'sAddUnifor'+'m'][0xc70+-0x18e1+-0x36*-0x3b]=_0x5973cb['worldBound'+'sAdd']['y'],this['worldBound'+'sAddUnifor'+'m'][-0x9*0x339+-0x13d+0x1e40]=_0x5973cb['worldBound'+'sAdd']['z'],this['constantOu'+'tBoundsAdd']['setValue'](this['worldBound'+'sAddUnifor'+'m']),this['_setInputB'+'ounds']();let _0x2c2c32=_0x5973cb['maxVel']*Math['max'](Math['max'](_0x558b14['x'],_0x558b14['y']),_0x558b14['z']);_0x2c2c32=Math['max'](_0x2c2c32,-0xad8+-0xa1e+0x14f7),this['constantMa'+'xVel']['setValue'](_0x2c2c32);}const _0x2a57c2=_0x5308b3===null||_0x5973cb['localSpace']?D['ZERO']:_0x5308b3['getPositio'+'n'](),_0x31675c=_0x5308b3===null?te['IDENTITY']:_0x5308b3['getWorldTr'+'ansform']();_0x5973cb['emitterSha'+'pe']===ai?(J_['setFromMat'+'4'](_0x16f24e),this['constantSp'+'awnBounds']['setValue'](J_['data']),this['constantSp'+'awnPosInne'+'rRatio']['setValue'](_0x28fcd0)):(this['constantSp'+'awnBoundsS'+'phere']['setValue'](_0x5973cb['emitterRad'+'ius']),this['constantSp'+'awnBoundsS'+'phereInner'+'Ratio']['setValue'](_0x5973cb['emitterRad'+'ius']===0x16da+-0x20d8+-0x2*-0x4ff?-0x1725+-0x1993*0x1+0x30b8:_0x5973cb['emitterRad'+'iusInner']/_0x5973cb['emitterRad'+'ius'])),this['constantIn'+'itialVeloc'+'ity']['setValue'](_0x5973cb['initialVel'+'ocity']),eg['setFromMat'+'4'](_0x31675c),tg['invertMat4'](_0x31675c),this['emitterPos'+'Uniform'][0x1af*0x8+0x238b+-0x3103]=_0x2a57c2['x'],this['emitterPos'+'Uniform'][-0x29b*0xb+0x397*-0x1+0x167*0x17]=_0x2a57c2['y'],this['emitterPos'+'Uniform'][-0xc*0x1d8+-0x1f3f+0xaad*0x5]=_0x2a57c2['z'],this['constantEm'+'itterPos']['setValue'](this['emitterPos'+'Uniform']),this['constantFr'+'ameRandom']['setValue'](this['frameRando'+'mUniform']),this['constantDe'+'lta']['setValue'](_0x7fce4b),this['constantRa'+'te']['setValue'](_0x5973cb['rate']),this['constantRa'+'teDiv']['setValue'](_0x5973cb['rate2']-_0x5973cb['rate']),this['constantSt'+'artAngle']['setValue'](_0x5973cb['startAngle']*Y['DEG_TO_RAD']),this['constantSt'+'artAngle2']['setValue'](_0x5973cb['startAngle'+'2']*Y['DEG_TO_RAD']),this['constantSe'+'ed']['setValue'](_0x5973cb['seed']),this['constantLi'+'fetime']['setValue'](_0x5973cb['lifetime']),this['emitterSca'+'leUniform'][-0x283*-0x2+0x1a6d+0x1f73*-0x1]=_0x558b14['x'],this['emitterSca'+'leUniform'][-0x2288+-0x1*0xda7+0x3030]=_0x558b14['y'],this['emitterSca'+'leUniform'][0x6be+-0xae8+-0x3*-0x164]=_0x558b14['z'],this['constantEm'+'itterScale']['setValue'](this['emitterSca'+'leUniform']),this['constantEm'+'itterMatri'+'x']['setValue'](eg['data']),this['constantEm'+'itterMatri'+'xInv']['setValue'](tg['data']),this['constantLo'+'calVelocit'+'yDivMult']['setValue'](_0x5973cb['localVeloc'+'ityUMax']),this['constantVe'+'locityDivM'+'ult']['setValue'](_0x5973cb['velocityUM'+'ax']),this['constantRo'+'tSpeedDivM'+'ult']['setValue'](_0x5973cb['rotSpeedUM'+'ax'][-0xe9a+0x277*-0x6+-0xb*-0x2ac]);let _0x2cf77a=_0x5973cb['swapTex']?_0x5973cb['particleTe'+'xOUT']:_0x5973cb['particleTe'+'xIN'];_0x2cf77a=_0x5973cb['beenReset']?_0x5973cb['particleTe'+'xStart']:_0x2cf77a;const _0x57af50=_0x5973cb['swapTex']?_0x5973cb['particleTe'+'xIN']:_0x5973cb['particleTe'+'xOUT'];this['constantPa'+'rticleTexI'+'N']['setValue'](_0x2cf77a),Ar(_0x270aa0,_0x5973cb['swapTex']?_0x5973cb['rtParticle'+'TexIN']:_0x5973cb['rtParticle'+'TexOUT'],_0x3dd2ca?_0x5973cb['shaderPart'+'icleUpdate'+'OnStop']:_0x5973cb['loop']?_0x5973cb['shaderPart'+'icleUpdate'+'Respawn']:_0x5973cb['shaderPart'+'icleUpdate'+'NoRespawn']),_0x5973cb['material']['setParamet'+'er']('particleTe'+'xOUT',_0x2cf77a),_0x5973cb['material']['setParamet'+'er']('particleTe'+'xIN',_0x57af50),_0x5973cb['beenReset']=!(0x743+0xac8+-0x120a),_0x5973cb['swapTex']=!_0x5973cb['swapTex'],_0x5973cb['prevWorldB'+'oundsSize']['copy'](_0x5973cb['worldBound'+'sSize']),_0x5973cb['prevWorldB'+'oundsCente'+'r']['copy'](_0x5973cb['worldBound'+'s']['center']),_0x5973cb['pack8']&&this['_setInputB'+'ounds'](),Q['popGpuMark'+'er'](_0x270aa0);}}const sg=['NONE','VERTEX','MAP'];class _A extends ya{['generateKe'+'y'](_0x2520ff){let _0x71e64='particle_'+ya['definesHas'+'h'](_0x2520ff['defines'])+'_';for(const _0x5439e5 in _0x2520ff)_0x2520ff['hasOwnProp'+'erty'](_0x5439e5)&&(_0x71e64+=_0x2520ff[_0x5439e5]);return _0x71e64;}['createVert'+'exDefines'](_0x13d9b8,_0x77dab1){const _0x19c2dd=new Map(_0x13d9b8['defines']);return _0x13d9b8['mesh']&&_0x19c2dd['set']('USE_MESH',''),_0x13d9b8['meshUv']&&_0x19c2dd['set']('USE_MESH_U'+'V',''),_0x13d9b8['localSpace']&&_0x19c2dd['set']('LOCAL_SPAC'+'E',''),_0x13d9b8['screenSpac'+'e']&&_0x19c2dd['set']('SCREEN_SPA'+'CE',''),_0x13d9b8['animTex']&&_0x19c2dd['set']('ANIMTEX',''),_0x13d9b8['soft']>-0x53*-0x1f+-0x1*-0x1afa+-0x2507&&_0x19c2dd['set']('SOFT',''),_0x13d9b8['stretch']>-0x1*-0xe8b+-0x821+-0x66a&&_0x19c2dd['set']('STRETCH',''),_0x13d9b8['customFace']&&_0x19c2dd['set']('CUSTOM_FAC'+'E',''),_0x13d9b8['pack8']&&_0x19c2dd['set']('PACK8',''),_0x13d9b8['localSpace']&&_0x19c2dd['set']('LOCAL_SPAC'+'E',''),_0x13d9b8['animTexLoo'+'p']&&_0x19c2dd['set']('ANIMTEX_LO'+'OP',''),_0x13d9b8['wrap']&&_0x19c2dd['set']('WRAP',''),_0x13d9b8['alignToMot'+'ion']&&_0x19c2dd['set']('ALIGN_TO_M'+'OTION',''),_0x19c2dd['set']('NORMAL',sg[_0x13d9b8['normal']]),_0x77dab1['particle_v'+'ertexData']=Me,_0x13d9b8['mesh']&&_0x13d9b8['meshUv']&&(_0x77dab1['particle_u'+'v']=is),_0x13d9b8['useCpu']&&(_0x77dab1['particle_v'+'ertexData2']=uh,_0x77dab1['particle_v'+'ertexData3']=Ap,_0x77dab1['particle_v'+'ertexData4']=Cp,_0x77dab1['particle_v'+'ertexData5']=Pp),_0x19c2dd;}['createFrag'+'mentDefine'+'s'](_0x3cce4f){const _0x445ef3=new Map(_0x3cce4f['defines']);return _0x3cce4f['soft']>-0x3*0x3f8+0x1*0x163b+-0x371*0x3&&_0x445ef3['set']('SOFT',''),_0x3cce4f['halflamber'+'t']&&_0x445ef3['set']('HALF_LAMBE'+'RT',''),_0x445ef3['set']('NORMAL',sg[_0x3cce4f['normal']]),_0x445ef3['set']('BLEND',Yy[_0x3cce4f['blend']]),_0x445ef3;}['createShad'+'erDefiniti'+'on'](_0x2f4aab,_0x5ed720){const _0x2b3d9c=_0x2f4aab['isWebGPU']?it:Fe,_0x4682ac=Pe['get'](_0x2f4aab,_0x2b3d9c),_0x39d43c={},_0xad9ec3=this['createVert'+'exDefines'](_0x5ed720,_0x39d43c),_0x1fe156=this['createFrag'+'mentDefine'+'s'](_0x5ed720),_0x34d7c5='PARTICLE_'+(_0x5ed720['useCpu']?'CPU':'GPU')+'\x0a';_0xad9ec3['set'](_0x34d7c5,''),_0x1fe156['set'](_0x34d7c5,'');const _0x1c89ee=new Map(_0x4682ac);return Jt['createDefi'+'nition'](_0x2f4aab,{'name':'ParticleSh'+'ader','shaderLanguage':_0x2b3d9c,'attributes':_0x39d43c,'vertexCode':_0x4682ac['get']('particle_s'+'haderVS'),'fragmentCode':_0x4682ac['get']('particle_s'+'haderPS'),'fragmentDefines':_0x1fe156,'fragmentIncludes':_0x1c89ee,'vertexIncludes':_0x1c89ee,'vertexDefines':_0xad9ec3});}}const gA=new _A();class SA extends tr{constructor(_0x50851d){super(),h(this,'emitter',null),(this['emitter']=_0x50851d,w['assert'](_0x50851d));}['getShaderV'+'ariant'](_0x2c47a9){const {device:_0x4fe8f6,scene:_0x239844,cameraShaderParams:_0x4280e3,objDefs:_0x38c8cb}=_0x2c47a9,{emitter:_0x32a7ca}=this,_0x535924={'defines':$t['getCoreDef'+'ines'](this,_0x2c47a9),'pass':Aa,'useCpu':this['emitter']['useCpu'],'normal':_0x32a7ca['lighting']?_0x32a7ca['normalMap']!==null?0x1f99*0x1+0x9d9*0x3+-0x3d22:-0x5d0+0x7*-0x47c+0x2535:-0x1*0x8cd+0x1*0x13+0x2*0x45d,'halflambert':this['emitter']['halfLamber'+'t'],'stretch':this['emitter']['stretch'],'alignToMotion':this['emitter']['alignToMot'+'ion'],'soft':this['emitter']['depthSofte'+'ning'],'mesh':this['emitter']['useMesh'],'meshUv':_0x38c8cb&nm,'gamma':(_0x4280e3==null?void(0xea5+0x64f*-0x1+0xb*-0xc2):_0x4280e3['shaderOutp'+'utGamma'])??Ll,'toneMap':(_0x4280e3==null?void(-0x2174+-0x1*0x207+-0x1f*-0x125):_0x4280e3['toneMappin'+'g'])??sm,'fog':_0x239844&&!this['emitter']['noFog']?_0x239844['fog']['type']:'none','wrap':this['emitter']['wrap']&&this['emitter']['wrapBounds'],'localSpace':this['emitter']['localSpace'],'screenSpace':_0x32a7ca['inTools']?!(-0x10c9*0x1+0x279*0x8+0x17f*-0x2):this['emitter']['screenSpac'+'e'],'blend':this['emitter']['blendType'],'animTex':this['emitter']['_isAnimate'+'d'](),'animTexLoop':this['emitter']['animLoop'],'pack8':this['emitter']['pack8'],'customFace':this['emitter']['orientatio'+'n']!==yh},_0x218ad4=new Ad(_0x2c47a9['viewUnifor'+'mFormat'],_0x2c47a9['viewBindGr'+'oupFormat'],_0x2c47a9['vertexForm'+'at']),_0x5600d0=Hn(_0x4fe8f6);return _0x5600d0['register']('particle',gA),_0x5600d0['getProgram']('particle',_0x535924,_0x218ad4,this['userId']);}}const ig=[[-(0x88e+-0x9ed+0x160),-(-0x4*0x2+-0x1*-0x1281+-0x2*0x93c)],[0x756*0x1+0x16b1+-0x1e06*0x1,-(-0x14b2+0x12e*-0x17+0x1f*0x18b)],[0x1544*0x1+0x24fb+0x1d1f*-0x2,-0x104f+-0x23*-0x103+0x1319*-0x1],[-(-0x1*-0x2709+0x2a9+-0x29b1),0x24d7+0x528+-0x29fe]];function xs(_0x4b9d14,_0xef9450,_0x44eb94,_0x19b17f,_0xa9228=Xt,_0x2dc5c5,_0x3cc992){let _0x578975=Te;_0x3cc992&&(_0xa9228===Ne||_0xa9228===_s)&&(_0x578975=vt);const _0x3d6901=new _e(_0x4b9d14,{'width':_0xef9450,'height':_0x44eb94,'format':_0xa9228,'cubemap':!(0x260b*0x1+-0x12a*-0x3+-0x2988),'mipmaps':!(0x19e5*0x1+0xe7a+0x1*-0x285e),'minFilter':_0x578975,'magFilter':_0x578975,'addressU':ue,'addressV':ue,'name':'ParticleSy'+'stemTextur'+'e'}),_0x12b2ce=_0x3d6901['lock']();if(_0xa9228===Ne||_0xa9228===_s){const _0x893777=new Uint8Array(_0x19b17f['length']);for(let _0x455988=-0xede*-0x1+0x22a0+-0x317e;_0x455988<_0x19b17f['length'];_0x455988++)_0x893777[_0x455988]=_0x19b17f[_0x455988]*_0x2dc5c5*(0x947*0x3+0xa*0x8f+-0x206c);_0x19b17f=_0x893777;}return _0x12b2ce['set'](_0x19b17f),_0x3d6901['unlock'](),_0x3d6901;}function rg(_0x441ea1){return Math['max'](Math['min'](_0x441ea1,-0xd02+-0xc2*0xb+-0x1559*-0x1),0x1aaf+0x17*-0x7f+-0xf46);}const ag=new qs([0x177*-0x14+0x2*0x874+-0xd*-0xf4,0x14b5+-0x12df*-0x2+-0xd*0x47f,-0x730*0x2+-0x1*-0xe9e+-0x3d*0x1,-0x1471*-0x1+0x1a*0xf1+-0x2ceb]),ng=new qs([-0x138e+0xce+0xc*0x190,0x108a+-0x7f+-0x100a,0x1195+-0x3*0x28d+-0x9ed*0x1,0x12f3+0x1*0x2593+-0x3885]),og=new na([-0x1471*-0x1+-0x11a7+-0x66*0x7,-0x12ae+-0x13d5*-0x1+-0x5*0x3b,0x752+-0x156*-0x2+-0x9fd,0x1*-0x131e+0x3*-0x982+-0xbe9*-0x4],[-0x16e6+0x2316+-0xc30,0x23*-0x39+0x1933*-0x1+0x20fe,-0x2*0xceb+0xba7+-0x718*-0x2,-0xb4+-0x13d*-0x1e+-0x2*0x1239],[0x1*-0xb9d+-0xe9c+-0x3bf*-0x7,0x37f*0x4+0x118a+0x6*-0x541,-0x2582+0x3f5*-0x1+0x2978,-0x1*0x463+0x1*-0xace+-0x1*-0xf31]),yA=new na([0x4*-0x194+0x22a8+-0x1c58,-0x26e8+-0x2*0xe21+0xb5*0x5f,-0xb*0xe9+-0xb7a*0x2+0x4*0x83e,-0x1efe+-0x86f+0x276e],[-0x154e+-0x2ce+0x181c,0x79f*-0x2+-0x3*-0x16a+0x139*0x9,0x1bc5+-0x1930+-0x294*0x1,-0x2*0x84f+-0x16ba+-0x1*-0x2759],[0x24e4+0x1250+0x2*-0x1b9a,0x885+0x230e+-0x2b92,-0x3d*-0x38+-0x1*0x479+-0x8de,0x1*0x265c+-0x13*0x89+0x70c*-0x4]);let bi=-0x1f38+-0x125*-0x1+0x1e15;const pc=-0x27e+-0x7a8+-0x2*-0x515,Ai=new Float32Array(-0x1*0x883+-0x182a*-0x1+-0xfa4),Ur=new te(),lg=new D(),mc=new D(),_c=new D();let uu,Zc;function he(_0x29ab5a,_0x5068d9){Zc[_0x29ab5a]!==void(0x28*-0xf1+0xb*0x355+0x101)&&Zc[_0x29ab5a]!==null?uu[_0x29ab5a]=Zc[_0x29ab5a]:uu[_0x29ab5a]=_0x5068d9;}function Dv(_0x5c090a,_0x3e0be2,_0x5b0334){return(_0x5c090a*(0x4af*-0x2+-0x49e*-0x3+-0x1*0x37d)<<-0x26a6+-0x2296+-0x4*-0x1253|_0x3e0be2*(0x10*-0x43+0xc89*-0x2+-0x1e41*-0x1)<<-0xca*-0x11+-0x1*0x211f+0x1*0x13bd|_0x5b0334*(-0x9c5+-0x938*0x1+0x13fc))/(-0xe68+0x3*-0x6ce+0x1*0x22d3<<0x2245+0x32*0x45+-0x2fa7*0x1);}function cg(_0x378b4f,_0x50cd17){const _0x28d814=_0x378b4f['length']/(-0x186*0x3+0x23a0+-0x1f0b),_0x460b37=new Array(_0x28d814*(0x23bc+-0xfcd*-0x1+-0x3385));for(let _0x275a59=-0x2c*0x44+0x1583*-0x1+0x2133*0x1;_0x275a59<_0x28d814;_0x275a59++)_0x460b37[_0x275a59*(-0x3fe+0x161f+0x121d*-0x1)]=_0x378b4f[_0x275a59*(-0x985+0x10e*-0x7+0x10ea)],_0x460b37[_0x275a59*(-0xd*-0x1a5+0x19cf+-0x2f2c)+(-0x891+0x1f2a+-0x1698)]=_0x378b4f[_0x275a59*(-0x2271+-0x187*-0x11+-0x1*-0x87d)+(0x6c6+-0x1676+0xfb1)],_0x460b37[_0x275a59*(-0x1f87+-0x3*-0x4a7+0x1196)+(0x7b6+-0x3d5+-0x3df)]=_0x378b4f[_0x275a59*(-0x6c*-0x56+0x135a+-0x379f)+(0x1edd+-0x419+-0x1ac2)],_0x460b37[_0x275a59*(-0x2185+-0x17c8+0x3951)+(-0x120d+-0x1801+0xb*0x3d3)]=Dv(_0x50cd17[_0x275a59*(-0x1*0x1655+0x46*0x6+0x6a*0x32)],_0x50cd17[_0x275a59*(0x6*0xbf+-0x7d+-0x3fa)+(-0x10ed*0x1+0x10d+0xfe1)],_0x50cd17[_0x275a59*(0x2647+-0x2080+-0x5c4)+(0x781+0x22ae+-0x2a2d)]);return _0x460b37;}function vA(_0x251fd4,_0x133a12){const _0x32e3d6=new Array(_0x133a12['length']*(0x1*-0x1201+0xa2+0x1163));for(let _0x36ebab=0x26dc+-0xdfe*0x1+0x1*-0x18de;_0x36ebab<_0x133a12['length'];_0x36ebab++)_0x32e3d6[_0x36ebab*(0x1903+0x8*0x1ac+-0x205*0x13)]=_0x251fd4[_0x36ebab*(-0x133e+0x19d8+-0x697)],_0x32e3d6[_0x36ebab*(-0x1635+-0x1*-0x422+-0xb*-0x1a5)+(-0x1101*-0x1+-0x5ef+-0xb11*0x1)]=_0x251fd4[_0x36ebab*(-0x16f0+-0xbb3*-0x1+0x4*0x2d0)+(0x6c5*-0x2+0x2664+-0x18d9*0x1)],_0x32e3d6[_0x36ebab*(-0xb6f+0x144*0x13+-0xc99)+(-0x1*-0x13b1+0x1a47+-0x1*0x2df6)]=_0x251fd4[_0x36ebab*(-0x1d24+-0x2555+0x353*0x14)+(-0x1e9e*-0x1+-0x86*0x3b+0x46)],_0x32e3d6[_0x36ebab*(0xd6*-0x25+0x15f3+0x8ff*0x1)+(-0x6*-0x216+0x2104+0x2b*-0x10f)]=_0x133a12[_0x36ebab];return _0x32e3d6;}function xA(_0x5ef2c7,_0x560f36,_0xd41675,_0x5be92e,_0x2436e2){const _0x120ae5=new Array(_0x5ef2c7['length']*(-0x37*-0x8d+0x1*-0x41c+0xcb*-0x21));for(let _0x29e04c=-0x9c8*-0x1+-0x12cf+0x907;_0x29e04c<_0x5ef2c7['length'];_0x29e04c++)_0x120ae5[_0x29e04c*(0x10de+0x1946+-0x2a20)]=_0x5ef2c7[_0x29e04c],_0x120ae5[_0x29e04c*(-0x1b*0xb7+-0xa83+0x1dd4)+(0x3df*0x4+-0xbd9+-0x3a2)]=_0x560f36[_0x29e04c],_0x120ae5[_0x29e04c*(0xf00+-0x4a*0x5a+0x4*0x2c2)+(0x10a5*-0x1+0x41*-0x7f+0x30e6)]=-0x7e*-0x35+-0x22f3+0x8dd,_0x120ae5[_0x29e04c*(-0x1*0x1583+-0x1bec+0x3173)+(-0x110+0x56b*0x2+-0x9c3)]=Dv(_0xd41675[_0x29e04c],_0x5be92e[_0x29e04c],_0x2436e2[_0x29e04c]);return _0x120ae5;}function TA(_0x5f4efb,_0x3f0ab4){const _0x46b1c0=new Array(_0x5f4efb['length']*(-0x9*-0x3b4+-0x41b*-0x9+-0x4643*0x1));for(let _0x1f7588=-0x6e5+-0x164+-0x65*-0x15;_0x1f7588<_0x5f4efb['length'];_0x1f7588++)_0x46b1c0[_0x1f7588*(-0x1649+-0x2*0x135a+0x3d01)]=_0x5f4efb[_0x1f7588],_0x46b1c0[_0x1f7588*(-0x11*0x1e2+0x8d3*-0x1+-0x1*-0x28d9)+(-0xbd8*0x1+0x732*-0x1+-0x7d*-0x27)]=_0x3f0ab4[_0x1f7588],_0x46b1c0[_0x1f7588*(-0x17a+0x1*0x257e+-0x2400)+(0x3e9+0x43b+-0x822)]=0x254d+0x5bc*-0x1+-0x1f91,_0x46b1c0[_0x1f7588*(0x1bef+-0x1a5*-0x15+-0x3e74)+(-0x59*0x17+-0x1ca*-0xb+-0xbac)]=0x10af*0x1+-0x1623+0x574;return _0x46b1c0;}function wA(_0x96cb3c){const _0x3475d5=Math['max'](_0x96cb3c['rate'],_0x96cb3c['rate2'])*_0x96cb3c['numParticl'+'es']+_0x96cb3c['lifetime'];return Date['now']()+_0x3475d5*(-0x216f*-0x1+0x29*-0x6a+-0x9*0x165);}function EA(_0x31b5bb,_0x58c659){const _0x38996b=new Float32Array(_0x31b5bb['length']);for(let _0x479dc7=0x2173+-0xf74*0x2+-0x3*0xd9;_0x479dc7<_0x31b5bb['length'];_0x479dc7++)_0x38996b[_0x479dc7]=_0x31b5bb[_0x479dc7]-_0x58c659[_0x479dc7];return _0x38996b;}function Xr(_0xffe4e6,_0xd0c5a6){const _0x60b20e=_0xd0c5a6['length'],_0x5c0ff1=_0xffe4e6['length']/_0x60b20e;for(let _0x432acd=-0x7d0+0x7ab+-0x1*-0x25;_0x432acd<_0x5c0ff1;_0x432acd++)for(let _0x42ce89=0x18c1+-0x12*-0xd1+-0x2773;_0x42ce89<_0x60b20e;_0x42ce89++){const _0x1c2374=Math['abs'](_0xffe4e6[_0x432acd*_0x60b20e+_0x42ce89]);_0xd0c5a6[_0x42ce89]=Math['max'](_0xd0c5a6[_0x42ce89],_0x1c2374);}}function bA(_0x5deba1,_0x54fc84){const _0x5d914f=_0x54fc84['length'],_0x5c31c3=_0x5deba1['length']/_0x5d914f;for(let _0x382d84=0x4*0x72b+-0x212e+0x482;_0x382d84<_0x5c31c3;_0x382d84++)for(let _0x2cb3d7=0x1*0x1ecd+0x1c69+-0x3b36;_0x2cb3d7<_0x5d914f;_0x2cb3d7++)_0x5deba1[_0x382d84*_0x5d914f+_0x2cb3d7]/=_0x54fc84[_0x2cb3d7]===0xf25+-0x1*0x1d59+0xe34?-0x238c+-0x11*-0xe2+0x148b:_0x54fc84[_0x2cb3d7],_0x5deba1[_0x382d84*_0x5d914f+_0x2cb3d7]*=0x61*0x64+-0x2425*0x1+-0x95*0x3+0.5,_0x5deba1[_0x382d84*_0x5d914f+_0x2cb3d7]+=0x270d+-0x4*0x952+-0x1c5+0.5;}function Br(_0x884667,_0x599d78,_0x48406b){const _0x14e67f=EA(_0x599d78,_0x884667);return Xr(_0x14e67f,_0x48406b),bA(_0x14e67f,_0x48406b),_0x14e67f;}const AA=new Kt();class CA{constructor(_0x1b58ba,_0x3c0bae){h(this,'material',null),h(this,'internalTe'+'x0',null),h(this,'internalTe'+'x1',null),h(this,'internalTe'+'x2',null),h(this,'colorParam',null),this['graphicsDe'+'vice']=_0x1b58ba;const _0x2ff319=_0x1b58ba,_0x3a61d2=0x1aaa+0x2616+-0x40a0;this['precision']=_0x3a61d2,this['_addTimeTi'+'me']=0x9b4+0x2e*0xa3+0x142*-0x1f,uu=this,Zc=_0x3c0bae,he('numParticl'+'es',0x115*-0x13+-0x2f*-0x3d+0x95d),this['numParticl'+'es']>_0x1b58ba['maxTexture'+'Size']&&(w['warn']('WARNING:\x20c'+'an\x27t\x20creat'+'e\x20more\x20tha'+'n\x20'+_0x1b58ba['maxTexture'+'Size']+('\x20particles'+'\x20on\x20this\x20d'+'evice.')),this['numParticl'+'es']=_0x1b58ba['maxTexture'+'Size']),he('rate',-0x1295+0x16d+0x1129),he('rate2',this['rate']),he('lifetime',0x2327*0x1+0x1*-0x817+-0xb5*0x26),he('emitterExt'+'ents',new D(0xe0a+-0x20f1+0x12e7,0x4f*0x2b+-0x483+-0x3b*0x26,0x96c+0xf65*0x1+-0x18d1)),he('emitterExt'+'entsInner',new D(0x192f+0x1a93+-0x33c2,-0xc5e*0x2+0x873*0x2+0x7d6,0x19*-0xa0+-0x94*0x1b+0x1f3c*0x1)),he('emitterRad'+'ius',-0x7a1+0x185d+-0x10bc),he('emitterRad'+'iusInner',0x1fce*-0x1+0xeb5+0x1119),he('emitterSha'+'pe',ai),he('initialVel'+'ocity',0x1*-0x351+-0x2176+0x24c8),he('wrap',!(0x1ed+-0x4f*-0x2e+-0x1*0x101e)),he('localSpace',!(-0x1*-0xc05+-0x1f44+0x1340)),he('screenSpac'+'e',!(-0x925*0x4+-0x2*0xc53+0x1*0x3d3b)),he('wrapBounds',null),he('colorMap',this['defaultPar'+'amTexture']),he('normalMap',null),he('loop',!(-0x4*-0x73f+0x5f2+-0x1*0x22ee)),he('preWarm',!(0x4*0x115+-0x1e9*-0x7+-0x11b2)),he('sort',nu),he('mode',rv),he('scene',null),he('lighting',!(0x228d+0x42c+0x6*-0x674)),he('halfLamber'+'t',!(-0xf55+-0x1378+0x22ce)),he('intensity',0x628+-0x1*-0x1447+-0x1a6e),he('stretch',0xd7*0x18+0xac3+-0x1eeb),he('alignToMot'+'ion',!(-0xf7d*-0x2+-0x10d*0x2+-0x1cdf)),he('depthSofte'+'ning',0x1a43+-0xe5*-0x19+-0x30a0),he('mesh',null),he('particleNo'+'rmal',new D(0x533*-0x1+0x16a*0x3+0xf5,-0x1*0x18df+-0x268+0x48c*0x6,0x8*0x10c+-0x1489+0xc29*0x1)),he('orientatio'+'n',yh),he('depthWrite',!(0x4d5*-0x3+-0x19*-0x3a+0x8d6)),he('noFog',!(-0x35*0x35+-0x1a4f+0x2549)),he('blendType',Zs),he('node',null),he('startAngle',-0x20db+-0xb01+0x2bdc),he('startAngle'+'2',this['startAngle']),he('animTilesX',-0x1e20+0x1cd5+0x14c),he('animTilesY',-0x6*-0x53b+-0x35b*0x1+-0x1c06),he('animStartF'+'rame',0x6*-0x2f1+-0x2705+0x38ab),he('animNumFra'+'mes',-0x21ab+0xa79*0x3+-0x241*-0x1),he('animNumAni'+'mations',0x25e0+0x1acf+0x2*-0x2057),he('animIndex',0x19f+-0x49d+-0x2fe*-0x1),he('randomizeA'+'nimIndex',!(-0x160*0x1+0x101*-0x20+0x2181)),he('animSpeed',0x30e*0xb+-0xe*-0x2c1+-0x3*0x180d),he('animLoop',!(0x22be+-0x3d6+0x2*-0xf74)),this['_gpuUpdate'+'r']=new mA(this,_0x2ff319),this['_cpuUpdate'+'r']=new pA(this),this['emitterPos'+'Uniform']=new Float32Array(0x2507+-0x18c1+-0xc43),this['wrapBounds'+'Uniform']=new Float32Array(-0x167*-0x19+-0xe0d*-0x2+-0x76*0x89),this['emitterSca'+'leUniform']=new Float32Array([0x17bc+0x778*-0x5+0xd9d,0x2*0x1135+-0x2444+0x1db,-0x57e+-0x257+0x7d6]),he('colorGraph',yA),he('colorGraph'+'2',this['colorGraph']),he('scaleGraph',ng),he('scaleGraph'+'2',this['scaleGraph']),he('alphaGraph',ng),he('alphaGraph'+'2',this['alphaGraph']),he('localVeloc'+'ityGraph',og),he('localVeloc'+'ityGraph2',this['localVeloc'+'ityGraph']),he('velocityGr'+'aph',og),he('velocityGr'+'aph2',this['velocityGr'+'aph']),he('rotationSp'+'eedGraph',ag),he('rotationSp'+'eedGraph2',this['rotationSp'+'eedGraph']),he('radialSpee'+'dGraph',ag),he('radialSpee'+'dGraph2',this['radialSpee'+'dGraph']),this['animTilesP'+'arams']=new Float32Array(0x793+-0x8b4+-0x61*-0x3),this['animParams']=new Float32Array(-0x46*-0x7b+0x13e5*0x1+-0x3583*0x1),this['animIndexP'+'arams']=new Float32Array(-0x1dd7+-0x1cc8+0x3aa1),this['vbToSort']=null,this['vbOld']=null,this['particleDi'+'stance']=null,this['camera']=null,this['swapTex']=!(0x692+0x212*0x10+-0x27b1),this['useMesh']=!(0x11d2+0x228a+-0x345c*0x1),this['useCpu']=!_0x1b58ba['supportsGp'+'uParticles'],this['pack8']=!(0x9eb+-0x1a29+-0x129*-0xe),this['localBound'+'s']=new De(),this['worldBound'+'sNoTrail']=new De(),this['worldBound'+'sTrail']=[new De(),new De()],this['worldBound'+'s']=new De(),this['worldBound'+'sSize']=new D(),this['prevWorldB'+'oundsSize']=new D(),this['prevWorldB'+'oundsCente'+'r']=new D(),this['prevEmitte'+'rExtents']=this['emitterExt'+'ents'],this['prevEmitte'+'rRadius']=this['emitterRad'+'ius'],this['worldBound'+'sMul']=new D(),this['worldBound'+'sAdd']=new D(),this['timeToSwit'+'chBounds']=-0x1dde+-0x15*-0x11e+0x668,this['shaderPart'+'icleUpdate'+'Respawn']=null,this['shaderPart'+'icleUpdate'+'NoRespawn']=null,this['shaderPart'+'icleUpdate'+'OnStop']=null,this['numParticl'+'eVerts']=-0x5*0x3b+0x17*-0x1a7+0x2728,this['numParticl'+'eIndices']=0x6c*0x4f+-0x2db*-0x1+-0x242f,this['material']=null,this['meshInstan'+'ce']=null,this['drawOrder']=-0x2339+0x561+0x28*0xbf,this['seed']=Math['random'](),this['fixedTimeS'+'tep']=(-0xa8d+0xa0e+0x10*0x8)/(-0x18+-0x1884*0x1+0x18d8),this['maxSubStep'+'s']=-0x3b1*-0x5+0x1*-0x25cf+0x1364,this['simTime']=0x2cf*0x5+-0x22a+-0xbe1,this['simTimeTot'+'al']=-0x15c7+-0x1780+-0x1*-0x2d47,this['beenReset']=!(-0xfaa+0x191d+-0x1f*0x4e),this['_layer']=null,this['rebuild']();}get['defaultPar'+'amTexture'](){return w['assert'](this['graphicsDe'+'vice']),AA['get'](this['graphicsDe'+'vice'],()=>{const _0x4cda88=new Float32Array(-0xab7+0x433*-0x9+-0x40a*-0xd);for(let _0x17acb5=0xb*-0x7d+0x239+0x326;_0x17acb5<-0x6*0x32+-0x1ac5+0x1c01;_0x17acb5++)for(let _0x4b11ff=-0x1bd7*0x1+0x781+-0x1*-0x1456;_0x4b11ff<-0xc7d+0xc*0xc0+0x38d;_0x4b11ff++){const _0x2459a0=_0x4b11ff+(-0x9a9+0x4*0x7fa+-0x163e)-(-0xe9*-0x4+0x3*-0x74b+0x1245+0.5),_0x51af98=_0x17acb5+(-0x422+-0x1839+-0x294*-0xb)-(-0x2193+0x1*-0x4c1+0x3d6*0xa+0.5),_0x45b3ae=rg(-0xd5f+-0xf9*0xe+0x566*0x5-rg(Math['sqrt'](_0x2459a0*_0x2459a0+_0x51af98*_0x51af98)/(-0x894+0xa2*0x19+-0x72e))-(-0x1867+-0x1*-0xf47+0x92*0x10+0.5)),_0x5e0900=_0x17acb5*(0x77c*0x3+0x249e+0xb6*-0x53)+_0x4b11ff;_0x4cda88[_0x5e0900*(0xaaf+0x1*0x1031+-0x1adc)]=-0x1*-0x1a03+0x115f+0x1*-0x2b61,_0x4cda88[_0x5e0900*(0x168a+0x23f+0x175*-0x11)+(-0x2160+-0x24d3+0x4634)]=-0x9*-0x34d+0x7*-0x43d+-0x3*0x3,_0x4cda88[_0x5e0900*(0xb4f+-0x1eb*0x2+-0x775)+(0xd7f*0x1+-0x1a2c+-0x1*-0xcaf)]=0x1141*-0x1+-0x18*-0x16+0xf32,_0x4cda88[_0x5e0900*(0x184c+-0x1*-0x1e38+0x6d0*-0x8)+(0xb*0x2e3+-0x6f5*0x2+-0x11d4)]=_0x45b3ae;}const _0x39cab5=xs(this['graphicsDe'+'vice'],0x1*0xd0a+-0x1*0x190+-0xb6a,0x1c3a+0x1ab8+-0x36e2,_0x4cda88,_s,0x1*-0xef+-0xbb9+0xca9,!(-0x244+0x706+-0x4c2));return _0x39cab5['minFilter']=vt,_0x39cab5['magFilter']=vt,_0x39cab5;});}['onChangeCa'+'mera'](){this['resetMater'+'ial']();}['calculateB'+'oundsMad'](){this['worldBound'+'sMul']['x']=(-0x237c+0x34b*-0x3+0x2d5e)/this['worldBound'+'sSize']['x'],this['worldBound'+'sMul']['y']=(0x200a+-0x10*0xc2+0x1*-0x13e9)/this['worldBound'+'sSize']['y'],this['worldBound'+'sMul']['z']=(0xa*-0x266+-0x2b*0x18+0x1c05)/this['worldBound'+'sSize']['z'],this['worldBound'+'sAdd']['copy'](this['worldBound'+'s']['center'])['mul'](this['worldBound'+'sMul'])['mulScalar'](-(0x41f+-0x152f+0x11*0x101)),this['worldBound'+'sAdd']['x']+=0x1401+-0x22be+0xebd+0.5,this['worldBound'+'sAdd']['y']+=-0x8*-0x36b+-0xa3*-0x11+-0x262b+0.5,this['worldBound'+'sAdd']['z']+=-0x19a0+-0x92*0x32+-0x1*-0x3624+0.5;}['calculateW'+'orldBounds'](){if(!this['node'])return;if(this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),!this['useCpu']){let _0x262f61=!(-0x802+-0xb0*-0x25+-0x3*0x5cf);this['emitterSha'+'pe']===ai?_0x262f61=!this['emitterExt'+'ents']['equals'](this['prevEmitte'+'rExtents']):_0x262f61=this['emitterRad'+'ius']!==this['prevEmitte'+'rRadius'],_0x262f61&&this['calculateL'+'ocalBounds']();}const _0x1b1fec=this['node']['getWorldTr'+'ansform']();this['localSpace']?this['worldBound'+'sNoTrail']['copy'](this['localBound'+'s']):this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],_0x1b1fec),this['worldBound'+'sTrail'][-0x757+0x171e+0x1*-0xfc7]['add'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x128+-0xeae+-0x1*-0xfd7]['add'](this['worldBound'+'sNoTrail']);const _0x3fe518=this['simTimeTot'+'al'];_0x3fe518>=this['timeToSwit'+'chBounds']&&(this['worldBound'+'sTrail'][0xc9d+-0x1*0x2579+0x18dc]['copy'](this['worldBound'+'sTrail'][0x754*-0x2+-0x39+0xee2]),this['worldBound'+'sTrail'][0x2474+0x14e7+-0x395a]['copy'](this['worldBound'+'sNoTrail']),this['timeToSwit'+'chBounds']=_0x3fe518+this['lifetime']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][-0x26be+0x2615*0x1+-0xd*-0xd]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](-0x1*0x1a7a+0xd60+-0x1*-0xd1c),this['localSpace']?(this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x1b1fec),this['meshInstan'+'ce']['mesh']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],_0x1b1fec)):(this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['mesh']['aabb']['copy'](this['worldBound'+'s'])),this['meshInstan'+'ce']['_aabbVer']=-0x5*0x8+-0x1ed5+0xf7f*0x2-this['meshInstan'+'ce']['_aabbVer'],this['pack8']&&this['calculateB'+'oundsMad']();}['resetWorld'+'Bounds'](){this['node']&&(this['worldBound'+'sNoTrail']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][0x19ae+0xb37+0x761*-0x5]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'sTrail'][-0x8*-0x233+0x34*0x20+-0x1*0x1817]['copy'](this['worldBound'+'sNoTrail']),this['worldBound'+'s']['copy'](this['worldBound'+'sTrail'][0x1*-0x1f71+0x237d+-0x40c]),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x1*-0x331+-0x33*0x85+0x1db2),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['simTimeTot'+'al']=0x1acf+-0x23b+-0x1894,this['timeToSwit'+'chBounds']=0x5*0x1d2+-0x185c+0xf42);}['calculateL'+'ocalBounds'](){let _0x40b3c0=Number['MAX_VALUE'],_0x26dd55=Number['MAX_VALUE'],_0xb7e401=Number['MAX_VALUE'],_0x3b13d6=-Number['MAX_VALUE'],_0x3fb3bc=-Number['MAX_VALUE'],_0x5f30a8=-Number['MAX_VALUE'],_0x2799a1=-0x2e3*0x1+-0x47*0xa+0x5a9,_0x2cef8c=-0xa41+0x2535+-0xe6*0x1e;const _0x395257=this['lifetime']/this['precision'],_0x1b15ca=[this['qVelocity'],this['qVelocity2']],_0x4e75e8=[this['qLocalVelo'+'city'],this['qLocalVelo'+'city2']],_0x5611d7=[0x65*-0x1+0xef*-0x14+0x1311,-0x10a0*0x1+0x1*0xa3d+-0xf*-0x6d],_0x48aab1=[0x1197+0xf0e+-0x20a5,0x84c+0x2*0x1115+0x1*-0x2a76],_0x439948=[0x71*0x2+-0x16d*0x1+0x8b*0x1,0x2f8+-0x1*0x8a5+0x5ad],_0x150845=[0x1915+-0x1bdd*0x1+0x2c8,-0xbbd*0x1+0x7c*0x46+-0x162b*0x1],_0x28fdb4=[-0x1*0x2348+0x25cf+-0x287*0x1,-0x9bb+0x1032+-0x677];let _0x1c7988,_0x58b2e8,_0x5c342c;for(let _0x299fa8=0xcff+-0x1d*0xe3+0xcb8;_0x299fa8<this['precision']+(0x7cc+-0x243*0xa+0x45*0x37);_0x299fa8++){const _0x5e6b57=Math['min'](_0x299fa8,this['precision']-(0x46f+-0x15d7*0x1+0x1169));for(let _0x590414=0xbfa+-0x245b+0x4f*0x4f;_0x590414<0x28c*-0x1+0xa59*0x1+-0x3*0x299;_0x590414++)_0x1c7988=_0x4e75e8[_0x590414][_0x5e6b57*(0x70a+-0xa80+0x379)+(-0x1dbf+-0x23*0x7b+0x2e90)]*_0x395257+_0x5611d7[_0x590414],_0x58b2e8=_0x4e75e8[_0x590414][_0x5e6b57*(-0x2*0x116f+-0x7a*0x2+0x23d5)+(0x50*-0x74+-0x1*0x1142+-0x67*-0x85)]*_0x395257+_0x48aab1[_0x590414],_0x5c342c=_0x4e75e8[_0x590414][_0x5e6b57*(0x1364+-0x19a2+0x641*0x1)+(-0x83*0x47+0xa58+0xb*0x25d)]*_0x395257+_0x439948[_0x590414],_0x40b3c0=Math['min'](_0x1c7988,_0x40b3c0),_0x26dd55=Math['min'](_0x58b2e8,_0x26dd55),_0xb7e401=Math['min'](_0x5c342c,_0xb7e401),_0x3b13d6=Math['max'](_0x1c7988,_0x3b13d6),_0x3fb3bc=Math['max'](_0x58b2e8,_0x3fb3bc),_0x5f30a8=Math['max'](_0x5c342c,_0x5f30a8),_0x5611d7[_0x590414]=_0x1c7988,_0x48aab1[_0x590414]=_0x58b2e8,_0x439948[_0x590414]=_0x5c342c;for(let _0x5d95ae=-0x2427+0x6c5*0x5+0x24e*0x1;_0x5d95ae<0x1fa0+0xe0a*-0x1+-0x1194;_0x5d95ae++)_0x28fdb4[_0x5d95ae]+=_0x395257*Math['sqrt'](_0x1b15ca[_0x5d95ae][_0x5e6b57*(0x3*0x2f+0x46*0x7c+-0x2272)+(-0x2*0x19e+-0x3*-0x61d+0x509*-0x3)]*_0x1b15ca[_0x5d95ae][_0x5e6b57*(0x16a0+-0x676*0x3+0x1*-0x33b)+(0x461+-0x8d1*-0x1+-0x1*0xd32)]+_0x1b15ca[_0x5d95ae][_0x5e6b57*(0x18e7+-0x100f+-0x8d5)+(-0x608+0x1a4a*0x1+-0x131*0x11)]*_0x1b15ca[_0x5d95ae][_0x5e6b57*(-0x332*-0x1+0x987*-0x1+0x658)+(-0x815+-0x253+-0x41*-0x29)]+_0x1b15ca[_0x5d95ae][_0x5e6b57*(-0x1*-0x180+-0xe44*-0x2+-0x1*0x1e05)+(0x11fb+-0xc*-0x176+-0x2381)]*_0x1b15ca[_0x5d95ae][_0x5e6b57*(0xee+-0xf*0x21a+0x1e9b)+(-0x52*0x11+-0x8e*-0x17+-0x74e)]);_0x150845[0xe7*0xd+-0x5bc*0x1+-0x1*0x5ff]+=this['qRadialSpe'+'ed'][_0x5e6b57]*_0x395257,_0x150845[0x110c+-0x1*0x1285+-0x1b*-0xe]+=this['qRadialSpe'+'ed2'][_0x5e6b57]*_0x395257,_0x2799a1=Math['max'](_0x2799a1,Math['max'](Math['abs'](_0x150845[-0x1f05*0x1+-0x1751+0x3656]),Math['abs'](_0x150845[0x16ff+0x2551+-0x3c4f*0x1]))),_0x2cef8c=Math['max'](_0x2cef8c,this['qScale'][_0x5e6b57]);}this['emitterSha'+'pe']===ai?(_0x1c7988=this['emitterExt'+'ents']['x']*(-0xc23*0x1+-0x59*-0x7+-0x1b*-0x5c+0.5),_0x58b2e8=this['emitterExt'+'ents']['y']*(0x1ca*-0x13+0x2304+-0x106+0.5),_0x5c342c=this['emitterExt'+'ents']['z']*(0x1e10+0x2*-0x7bb+-0xe9a+0.5)):(_0x1c7988=this['emitterRad'+'ius'],_0x58b2e8=this['emitterRad'+'ius'],_0x5c342c=this['emitterRad'+'ius']);const _0x4e95b2=Math['max'](_0x28fdb4[-0x1*0x41+0x20b2+0x2071*-0x1],_0x28fdb4[-0xaa5+0x15fe+0x2*-0x5ac]);mc['x']=_0x40b3c0-_0x2cef8c-_0x1c7988-_0x2799a1-_0x4e95b2,mc['y']=_0x26dd55-_0x2cef8c-_0x58b2e8-_0x2799a1-_0x4e95b2,mc['z']=_0xb7e401-_0x2cef8c-_0x5c342c-_0x2799a1-_0x4e95b2,_c['x']=_0x3b13d6+_0x2cef8c+_0x1c7988+_0x2799a1+_0x4e95b2,_c['y']=_0x3fb3bc+_0x2cef8c+_0x58b2e8+_0x2799a1+_0x4e95b2,_c['z']=_0x5f30a8+_0x2cef8c+_0x5c342c+_0x2799a1+_0x4e95b2,this['localBound'+'s']['setMinMax'](mc,_c);}['rebuild'](){const _0x261ee5=this['graphicsDe'+'vice'];this['colorMap']===null&&(this['colorMap']=this['defaultPar'+'amTexture']),this['spawnBound'+'s']=this['emitterSha'+'pe']===ai?this['emitterExt'+'ents']:this['emitterRad'+'ius'],this['useCpu']=this['useCpu']||this['sort']>nu||_0x261ee5['maxVertexT'+'extures']<=-0x1f93+-0x1bac+-0x768*-0x8||_0x261ee5['fragmentUn'+'iformsCoun'+'t']<0x762+-0x1*0x1a21+0x3*0x655||_0x261ee5['forceCpuPa'+'rticles'],this['_destroyRe'+'sources'](),this['pack8']=(this['pack8']||!_0x261ee5['textureFlo'+'atRenderab'+'le'])&&!this['useCpu'],bi=this['useCpu']||this['pack8']?-0x1*-0x190f+-0x20dd+-0x16*-0x5b:-0x2*-0x120e+-0x1b57+-0x8c3*0x1,this['useMesh']=!!this['mesh'],this['numParticl'+'esPot']=Y['nextPowerO'+'fTwo'](this['numParticl'+'es']),this['rebuildGra'+'phs'](),this['calculateL'+'ocalBounds'](),this['resetWorld'+'Bounds'](),this['node']&&(this['worldBound'+'s']['setFromTra'+'nsformedAa'+'bb'](this['localBound'+'s'],this['localSpace']?te['IDENTITY']:this['node']['getWorldTr'+'ansform']()),this['worldBound'+'sTrail'][-0x61f*0x4+-0x1*0x6e6+0x1*0x1f62]['copy'](this['worldBound'+'s']),this['worldBound'+'sTrail'][-0xe55*0x1+0xa7*0x21+0x1*-0x731]['copy'](this['worldBound'+'s']),this['worldBound'+'sSize']['copy'](this['worldBound'+'s']['halfExtent'+'s'])['mulScalar'](0x8d*0x29+-0x238f+-0x454*-0x3),this['prevWorldB'+'oundsSize']['copy'](this['worldBound'+'sSize']),this['prevWorldB'+'oundsCente'+'r']['copy'](this['worldBound'+'s']['center']),this['pack8']&&this['calculateB'+'oundsMad']()),this['vbToSort']=new Array(this['numParticl'+'es']);for(let _0x3c6e6f=0x19c4+0x2172+-0x3b36;_0x3c6e6f<this['numParticl'+'es'];_0x3c6e6f++)this['vbToSort'][_0x3c6e6f]=[0x1*0x2194+-0x949+-0x184b,0xa00+-0x712+-0x2ee];this['particleDi'+'stance']=new Float32Array(this['numParticl'+'es']),this['_gpuUpdate'+'r']['randomize'](),this['particleTe'+'x']=new Float32Array(this['numParticl'+'esPot']*bi*pc);const _0x1b2b59=this['node']===null||this['localSpace']?D['ZERO']:this['node']['getPositio'+'n']();this['emitterSha'+'pe']===ai&&(this['node']===null||this['localSpace']?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['spawnBound'+'s']):Ur['setTRS'](D['ZERO'],this['node']['getRotatio'+'n'](),lg['copy'](this['spawnBound'+'s'])['mul'](this['node']['localScale'])),Ai[0x198+-0x398+0x200]=this['emitterExt'+'ents']['x']!==0x125*-0x2+-0x1516*0x1+0x1760?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x16b3+0x5*-0x251+0x2*-0x58f,Ai[0x2085+0x24bd+-0x4541]=this['emitterExt'+'ents']['y']!==0x160d+-0x71*-0x46+-0x34f3*0x1?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:-0x722*0x2+-0x1f08+0x2d4c,Ai[0x57f+0xf6f+-0x14ec]=this['emitterExt'+'ents']['z']!==-0x17*-0x17+0xfbd*-0x2+0x1d69?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:0x1c6f+-0x1b75+-0x32*0x5);for(let _0x1123f7=-0x145f+0x28*0x8d+-0x1a9;_0x1123f7<this['numParticl'+'es'];_0x1123f7++)this['_cpuUpdate'+'r']['calcSpawnP'+'osition'](this['particleTe'+'x'],Ur,Ai,_0x1b2b59,_0x1123f7),this['useCpu']&&(this['particleTe'+'x'][_0x1123f7*pc+(0x791*-0x1+0x1*-0x26f4+-0x4*-0xba2)+this['numParticl'+'esPot']*(0x11*-0xb5+0x1*-0x9e5+0x15ec)*pc]=0x1cb5*0x1+0x1be*-0x13+0x466);this['particleTe'+'xStart']=new Float32Array(this['numParticl'+'esPot']*bi*pc);for(let _0x59c4b6=-0x1e5c+-0x188c+0x36e8;_0x59c4b6<this['particleTe'+'xStart']['length'];_0x59c4b6++)this['particleTe'+'xStart'][_0x59c4b6]=this['particleTe'+'x'][_0x59c4b6];this['useCpu']||(this['pack8']?(this['particleTe'+'xIN']=xs(_0x261ee5,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,0x4b6*0x1+0x11*-0xd5+0x970,!(0x1b4*0xd+0xc5e+-0x2281*0x1)),this['particleTe'+'xOUT']=xs(_0x261ee5,this['numParticl'+'esPot'],bi,this['particleTe'+'x'],Ne,0x236c+-0x2290+-0xdb,!(-0x2*-0x235+0x24ab+-0x148a*0x2)),this['particleTe'+'xStart']=xs(_0x261ee5,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'],Ne,0x24be+-0x10*0xb0+-0x1*0x19bd,!(0x2*0x7da+-0x25fd+0xb25*0x2))):(this['particleTe'+'xIN']=xs(_0x261ee5,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xOUT']=xs(_0x261ee5,this['numParticl'+'esPot'],bi,this['particleTe'+'x']),this['particleTe'+'xStart']=xs(_0x261ee5,this['numParticl'+'esPot'],bi,this['particleTe'+'xStart'])),this['rtParticle'+'TexIN']=new gt({'colorBuffer':this['particleTe'+'xIN'],'depth':!(-0xe24+-0x7f2+0x75d*0x3)}),this['rtParticle'+'TexOUT']=new gt({'colorBuffer':this['particleTe'+'xOUT'],'depth':!(0x1a77+-0x1*-0x167d+-0x30f3)}),this['swapTex']=!(-0x157*0x3+0x1a7d+0x47*-0x51));const _0x36590f=new Map();this['localSpace']&&_0x36590f['set']('LOCAL_SPAC'+'E',''),this['pack8']&&_0x36590f['set']('PACK8',''),this['emitterSha'+'pe']===ai&&_0x36590f['set']('EMITTERSHA'+'PE_BOX','');const _0x5235c4='Shape:'+this['emitterSha'+'pe']+'-Pack:'+this['pack8']+'-Local:'+this['localSpace'],_0x3d1cd4=Pe['get'](_0x261ee5,_0x261ee5['isWebGPU']?it:Fe),_0x49ee3b=new Map(_0x3d1cd4),_0xb0a61b={'attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentChunk':'particle_s'+'imulationP'+'S','fragmentDefines':_0x36590f,'fragmentIncludes':_0x49ee3b};_0xb0a61b['uniqueName']='ParticleUp'+'dateRespaw'+'n-'+_0x5235c4,_0x36590f['set']('RESPAWN',''),this['shaderPart'+'icleUpdate'+'Respawn']=$t['createShad'+'er'](_0x261ee5,_0xb0a61b),_0x36590f['delete']('RESPAWN'),_0xb0a61b['uniqueName']='ParticleUp'+'dateNoResp'+'awn-'+_0x5235c4,_0x36590f['set']('NO_RESPAWN',''),this['shaderPart'+'icleUpdate'+'NoRespawn']=$t['createShad'+'er'](_0x261ee5,_0xb0a61b),_0x36590f['delete']('NO_RESPAWN'),_0xb0a61b['uniqueName']='ParticleUp'+'dateStop-'+_0x5235c4,_0x36590f['set']('ON_STOP',''),this['shaderPart'+'icleUpdate'+'OnStop']=$t['createShad'+'er'](_0x261ee5,_0xb0a61b),this['numParticl'+'eVerts']=this['useMesh']?this['mesh']['vertexBuff'+'er']['numVertice'+'s']:0xaa9*0x1+-0x1d16+0x1271,this['numParticl'+'eIndices']=this['useMesh']?this['mesh']['indexBuffe'+'r'][-0x9*-0x344+-0x3*0x4a+0x2*-0xe43]['numIndices']:0x5*-0x2af+-0xe3*0x6+0x12c3,this['_allocate'](this['numParticl'+'es']);const _0x373b56=new Ge(_0x261ee5);_0x373b56['vertexBuff'+'er']=this['vertexBuff'+'er'],_0x373b56['indexBuffe'+'r'][0xc5a+0x1d7a+-0x29d4]=this['indexBuffe'+'r'],_0x373b56['primitive'][0x10*-0x101+0x1d0c+0x115*-0xc]['type']=js,_0x373b56['primitive'][0x1553+0x1*0x165+-0x16b8]['base']=-0x16ac+0xda1*0x1+-0x5*-0x1cf,_0x373b56['primitive'][0x2432*-0x1+-0x1a82+0x3eb4]['count']=this['numParticl'+'es']*this['numParticl'+'eIndices'],_0x373b56['primitive'][0x81+0x15f1+-0x1672]['indexed']=!(-0x243d+0xd*-0x1e1+-0x3caa*-0x1),this['material']=this['_createMat'+'erial'](),this['resetMater'+'ial']();const _0x469bb8=this['meshInstan'+'ce']?this['meshInstan'+'ce']['visible']:!(-0x282*-0x1+0x213e+-0x23c0);this['meshInstan'+'ce']=new He(_0x373b56,this['material'],this['node']),this['meshInstan'+'ce']['pick']=!(-0x20*-0x11b+-0x1307+0x8*-0x20b),this['meshInstan'+'ce']['updateKey'](),this['meshInstan'+'ce']['cull']=!(0x1*-0x3a1+-0x24e2+0x2883*0x1),this['localSpace']?this['meshInstan'+'ce']['aabb']['setFromTra'+'nsformedAa'+'bb'](this['worldBound'+'s'],this['node']['getWorldTr'+'ansform']()):this['meshInstan'+'ce']['aabb']['copy'](this['worldBound'+'s']),this['meshInstan'+'ce']['_updateAab'+'b']=!(-0xdec+0x21dc+0x7*-0x2d9),this['meshInstan'+'ce']['visible']=_0x469bb8,this['_setMateri'+'alTextures'](),this['resetTime'](),this['addTime'](-0x3*0x77f+0x1459*0x1+-0x112*-0x2,!(0x1*-0x155a+0x2*-0xe8d+0x3275)),this['preWarm']&&this['prewarm'](this['lifetime']);}['_isAnimate'+'d'](){return this['animNumFra'+'mes']>=-0x12a2+-0x1*-0xb7e+-0x1*-0x725&&(this['animTilesX']>0xb08*0x1+0x9e3*-0x1+-0x92*0x2||this['animTilesY']>-0x1*-0x323+-0x1fc*0x10+0x1c9e)&&(this['colorMap']&&this['colorMap']!==this['defaultPar'+'amTexture']||this['normalMap']);}['rebuildGra'+'phs'](){const _0x3bac53=this['precision'],_0x2bc721=this['graphicsDe'+'vice'];this['qLocalVelo'+'city']=this['localVeloc'+'ityGraph']['quantize'](_0x3bac53),this['qVelocity']=this['velocityGr'+'aph']['quantize'](_0x3bac53),this['qColor']=this['colorGraph']['quantizeCl'+'amped'](_0x3bac53,-0x44*0x7f+-0x14c+0x2308,-0x31+0xce1+0x11*-0xbf),this['qRotSpeed']=this['rotationSp'+'eedGraph']['quantize'](_0x3bac53),this['qScale']=this['scaleGraph']['quantize'](_0x3bac53),this['qAlpha']=this['alphaGraph']['quantize'](_0x3bac53),this['qRadialSpe'+'ed']=this['radialSpee'+'dGraph']['quantize'](_0x3bac53),this['qLocalVelo'+'city2']=this['localVeloc'+'ityGraph2']['quantize'](_0x3bac53),this['qVelocity2']=this['velocityGr'+'aph2']['quantize'](_0x3bac53),this['qColor2']=this['colorGraph'+'2']['quantizeCl'+'amped'](_0x3bac53,-0x5d1*0x1+0x1099*-0x1+0x166a,-0xa14*0x2+-0xcb*-0x2+0x1293),this['qRotSpeed2']=this['rotationSp'+'eedGraph2']['quantize'](_0x3bac53),this['qScale2']=this['scaleGraph'+'2']['quantize'](_0x3bac53),this['qAlpha2']=this['alphaGraph'+'2']['quantize'](_0x3bac53),this['qRadialSpe'+'ed2']=this['radialSpee'+'dGraph2']['quantize'](_0x3bac53);for(let _0x35814b=-0x95c+0x1*0x1763+0x3f*-0x39;_0x35814b<_0x3bac53;_0x35814b++)this['qRotSpeed'][_0x35814b]*=Y['DEG_TO_RAD'],this['qRotSpeed2'][_0x35814b]*=Y['DEG_TO_RAD'];if(this['localVeloc'+'ityUMax']=new Float32Array(-0x1*-0xb92+-0x1*0x27a+-0x915),this['velocityUM'+'ax']=new Float32Array(0x21b9+0x22a3+0x1*-0x4459),this['colorUMax']=new Float32Array(0x17a1+0x1488+0x1613*-0x2),this['rotSpeedUM'+'ax']=[0x1a3f+-0x8*-0x89+0x5*-0x61b],this['scaleUMax']=[0x26fc+0xce3*0x1+-0x33df],this['alphaUMax']=[0x3*0x713+0x8e1*0x1+-0x1e1a],this['radialSpee'+'dUMax']=[0x1f76+-0x1bce+-0x4e*0xc],this['qLocalVelo'+'cityDiv']=Br(this['qLocalVelo'+'city'],this['qLocalVelo'+'city2'],this['localVeloc'+'ityUMax']),this['qVelocityD'+'iv']=Br(this['qVelocity'],this['qVelocity2'],this['velocityUM'+'ax']),this['qColorDiv']=Br(this['qColor'],this['qColor2'],this['colorUMax']),this['qRotSpeedD'+'iv']=Br(this['qRotSpeed'],this['qRotSpeed2'],this['rotSpeedUM'+'ax']),this['qScaleDiv']=Br(this['qScale'],this['qScale2'],this['scaleUMax']),this['qAlphaDiv']=Br(this['qAlpha'],this['qAlpha2'],this['alphaUMax']),this['qRadialSpe'+'edDiv']=Br(this['qRadialSpe'+'ed'],this['qRadialSpe'+'ed2'],this['radialSpee'+'dUMax']),this['pack8']){const _0x1a8f72=[0x5a0+-0x1f49+-0x19a9*-0x1,0x14*-0x9e+-0x20*0x7c+-0x129*-0x18,-0x1ce2*0x1+0x37*0x64+0x766];Xr(this['qVelocity'],_0x1a8f72);const _0x1cc652=[-0x1d3+0x2*0xad6+0x13d9*-0x1,0x1d5d+-0x1*0x1c6d+-0xf0,0x548*0x2+-0x256b+0x1adb];Xr(this['qVelocity2'],_0x1cc652);const _0x2b1887=[-0x82e+0x1d59+-0x152b,-0xefa+-0x752*-0x4+0x1*-0xe4e,-0xb25+-0x3d*-0x85+-0x148c];Xr(this['qLocalVelo'+'city'],_0x2b1887);const _0x29fa99=[-0x2093+-0x1*-0x220c+0xd*-0x1d,-0x23c5+-0x239e+0x4763,0x2165*-0x1+0x1*-0x37d+0x24e2];Xr(this['qLocalVelo'+'city2'],_0x29fa99);const _0x52743e=[-0x20ae+-0x22c*0x3+0x2732];Xr(this['qRadialSpe'+'ed'],_0x52743e);const _0x4b0e5d=[-0x1232+-0x1287+0x24b9*0x1];Xr(this['qRadialSpe'+'ed2'],_0x4b0e5d);let _0x4f9b26=Math['max'](_0x1a8f72[0x1447+-0x12ec+-0x15b],_0x1cc652[0x165e+-0x7cf*-0x2+-0x25fc]);_0x4f9b26=Math['max'](_0x4f9b26,_0x1a8f72[-0x940+0x32b+0x616]),_0x4f9b26=Math['max'](_0x4f9b26,_0x1cc652[0x68*-0x1d+0x1*0x1317+-0x6e*0x11]),_0x4f9b26=Math['max'](_0x4f9b26,_0x1a8f72[-0x15d9+-0xda*0x13+0x2609]),_0x4f9b26=Math['max'](_0x4f9b26,_0x1cc652[-0x2*0xd7f+-0x21ff+0x3cff]);let _0x4c4659=Math['max'](_0x2b1887[-0x1e98+0x83a+0x165e],_0x29fa99[-0x3da+0x21cd*0x1+-0x1df3]);_0x4c4659=Math['max'](_0x4c4659,_0x2b1887[-0xedc+0x15d+0xd80]),_0x4c4659=Math['max'](_0x4c4659,_0x29fa99[0x206b+0x46e+-0x24d8]),_0x4c4659=Math['max'](_0x4c4659,_0x2b1887[0x1849+0x229a+-0x3ae1]),_0x4c4659=Math['max'](_0x4c4659,_0x29fa99[0xa82+-0x23ea+0x196a]);const _0x3a1d6b=Math['max'](_0x52743e[-0x181c+0x23ac+-0xb90],_0x4b0e5d[-0xd9f+0x103d+-0x29e]);this['maxVel']=_0x4f9b26+_0x4c4659+_0x3a1d6b;}this['useCpu']||(this['internalTe'+'x0']=xs(_0x2bc721,_0x3bac53,0x29f*0x6+0x1828+-0x27e1,cg(this['qLocalVelo'+'city'],this['qLocalVelo'+'cityDiv'])),this['internalTe'+'x1']=xs(_0x2bc721,_0x3bac53,-0x103+-0x25a2+0x26a6,cg(this['qVelocity'],this['qVelocityD'+'iv'])),this['internalTe'+'x2']=xs(_0x2bc721,_0x3bac53,0x14c5+-0x21bc+0xcf8,xA(this['qRotSpeed'],this['qScale'],this['qScaleDiv'],this['qRotSpeedD'+'iv'],this['qAlphaDiv'])),this['internalTe'+'x3']=xs(_0x2bc721,_0x3bac53,0x1*-0x12a+0x24b0+-0x2385,TA(this['qRadialSpe'+'ed'],this['qRadialSpe'+'edDiv']))),this['colorParam']=xs(_0x2bc721,_0x3bac53,-0xad*0x1d+0x20be+-0xd24,vA(this['qColor'],this['qAlpha']),_s,-0x238d*0x1+-0x821*-0x2+0x134c,!(0x8*-0x1b6+-0x5d1+0x1381));}['_setMateri'+'alTextures'](){this['colorMap']&&(w['call'](()=>{py(this['colorMap']['format'])&&w['warnOnce']('ParticleEm'+'itter:\x20col'+'orMap\x20text'+'ure\x20['+this['colorMap']['name']+(']\x20is\x20not\x20u'+'sing\x20sRGB\x20'+'format.\x20Pl'+'ease\x20corre'+'ct\x20it\x20for\x20'+'the\x20correc'+'t\x20renderin'+'g.'),this['colorMap']);}),this['material']['setParamet'+'er']('colorMap',this['colorMap']),this['lighting']&&this['normalMap']&&this['material']['setParamet'+'er']('normalMap',this['normalMap']));}['_createMat'+'erial'](){const _0x210ba8=new SA(this);return _0x210ba8['name']='EmitterMat'+'erial:'+this['node']['name'],_0x210ba8['cull']=bt,_0x210ba8['alphaWrite']=!(-0x9f1+-0x121*-0x1f+-0xb*0x247),_0x210ba8['blendType']=this['blendType'],_0x210ba8['depthWrite']=this['depthWrite'],_0x210ba8;}['resetMater'+'ial'](){const _0x22e5ad=this['material'];_0x22e5ad['setParamet'+'er']('stretch',this['stretch']),this['_isAnimate'+'d']()&&(_0x22e5ad['setParamet'+'er']('animTexTil'+'esParams',this['animTilesP'+'arams']),_0x22e5ad['setParamet'+'er']('animTexPar'+'ams',this['animParams']),_0x22e5ad['setParamet'+'er']('animTexInd'+'exParams',this['animIndexP'+'arams'])),_0x22e5ad['setParamet'+'er']('colorMult',this['intensity']),this['useCpu']||(_0x22e5ad['setParamet'+'er']('internalTe'+'x0',this['internalTe'+'x0']),_0x22e5ad['setParamet'+'er']('internalTe'+'x1',this['internalTe'+'x1']),_0x22e5ad['setParamet'+'er']('internalTe'+'x2',this['internalTe'+'x2']),_0x22e5ad['setParamet'+'er']('internalTe'+'x3',this['internalTe'+'x3'])),_0x22e5ad['setParamet'+'er']('colorParam',this['colorParam']),_0x22e5ad['setParamet'+'er']('numParticl'+'es',this['numParticl'+'es']),_0x22e5ad['setParamet'+'er']('numParticl'+'esPot',this['numParticl'+'esPot']),_0x22e5ad['setParamet'+'er']('lifetime',this['lifetime']),_0x22e5ad['setParamet'+'er']('rate',this['rate']),_0x22e5ad['setParamet'+'er']('rateDiv',this['rate2']-this['rate']),_0x22e5ad['setParamet'+'er']('seed',this['seed']),_0x22e5ad['setParamet'+'er']('scaleDivMu'+'lt',this['scaleUMax'][0x26f5*0x1+0x16aa*0x1+0x5*-0xc53]),_0x22e5ad['setParamet'+'er']('alphaDivMu'+'lt',this['alphaUMax'][0x1ece+-0x2b0+-0x7a*0x3b]),_0x22e5ad['setParamet'+'er']('radialSpee'+'dDivMult',this['radialSpee'+'dUMax'][-0xa*-0x2b1+0x125*-0x1f+0x2b*0x33]),_0x22e5ad['setParamet'+'er']('graphNumSa'+'mples',this['precision']),_0x22e5ad['setParamet'+'er']('graphSampl'+'eSize',(-0x51*0x1+-0x1861+-0x1*-0x18b3)/this['precision']),_0x22e5ad['setParamet'+'er']('emitterSca'+'le',new Float32Array([0x13ce+-0x2d*-0x1+0x13fa*-0x1,0x5a4+0x196+-0x2b*0x2b,-0x31*-0x1b+-0x1057+0xb2d])),this['pack8']&&(this['_gpuUpdate'+'r']['_setInputB'+'ounds'](),_0x22e5ad['setParamet'+'er']('inBoundsSi'+'ze',this['_gpuUpdate'+'r']['inBoundsSi'+'zeUniform']),_0x22e5ad['setParamet'+'er']('inBoundsCe'+'nter',this['_gpuUpdate'+'r']['inBoundsCe'+'nterUnifor'+'m']),_0x22e5ad['setParamet'+'er']('maxVel',this['maxVel'])),this['wrap']&&this['wrapBounds']&&(this['wrapBounds'+'Uniform'][0x529*0x7+0x1be*-0x1+-0x2261]=this['wrapBounds']['x'],this['wrapBounds'+'Uniform'][-0xa*0x14+-0xf42+0x100b*0x1]=this['wrapBounds']['y'],this['wrapBounds'+'Uniform'][-0x24d6+-0xf4*0x6+0x2a90]=this['wrapBounds']['z'],_0x22e5ad['setParamet'+'er']('wrapBounds',this['wrapBounds'+'Uniform'])),this['_setMateri'+'alTextures'](),this['depthSofte'+'ning']>-0xfe*0x1c+-0x2601+0x41c9&&_0x22e5ad['setParamet'+'er']('softening',(-0x11de+-0x1c23+0x3*0xf56)/(this['depthSofte'+'ning']*this['depthSofte'+'ning']*(-0x1df9+-0x803*0x1+-0x133*-0x20))),this['stretch']>0x2281+-0x1*0x1a2d+-0xd*0xa4&&(_0x22e5ad['cull']=bt),this['_compParti'+'cleFacePar'+'ams']();}['_compParti'+'cleFacePar'+'ams'](){let _0x4a0853,_0x1be2f1;if(this['orientatio'+'n']===yh)_0x4a0853=new Float32Array([0xa3*-0x35+0x2301+-0x141,0x859*-0x1+-0x11*-0x115+-0xa0c,-0x1b6d+-0x1044+0x2bb1]),_0x1be2f1=new Float32Array([-0x1337+0x2196+-0x1*0xe5f,0x3*0xc4b+-0x3*0x2f6+-0x1bff,0x4f*0x41+-0x14ac+0x9e]);else{let _0x471f77;this['orientatio'+'n']===Vw?_0x471f77=this['particleNo'+'rmal']['normalize']():_0x471f77=(this['node']===null?te['IDENTITY']:this['node']['getWorldTr'+'ansform']())['transformV'+'ector'](this['particleNo'+'rmal'])['normalize']();const _0x1d435e=new D(-0xc63+-0x1*-0x8ff+0x365,0x22*0xfd+-0x6d*-0x37+0xb*-0x52f,0xffd+0x638*0x5+-0x2f15);Math['abs'](_0x1d435e['dot'](_0x471f77))===0x585*-0x1+0x3*-0x19b+-0xa57*-0x1&&_0x1d435e['set'](0x780+-0x1dc5+0x1*0x1645,-0x81*0x13+-0x5f3*-0x1+0x3a0,0x2238+0xdee*-0x2+-0x65b);const _0x33bb8d=new D()['cross'](_0x471f77,_0x1d435e)['normalize']();_0x1d435e['cross'](_0x33bb8d,_0x471f77)['normalize'](),_0x4a0853=new Float32Array([_0x1d435e['x'],_0x1d435e['y'],_0x1d435e['z']]),_0x1be2f1=new Float32Array([_0x33bb8d['x'],_0x33bb8d['y'],_0x33bb8d['z']]);}this['material']['setParamet'+'er']('faceTangen'+'t',_0x4a0853),this['material']['setParamet'+'er']('faceBinorm',_0x1be2f1);}['getVertexI'+'nfo'](){const _0x42515d=[];return this['useCpu']?_0x42515d['push']({'semantic':Jf,'components':0x4,'type':Ve},{'semantic':uh,'components':0x4,'type':Ve},{'semantic':Ap,'components':0x4,'type':Ve},{'semantic':Cp,'components':0x1,'type':Ve},{'semantic':Pp,'components':this['useMesh']?0x1712+0x1f54*-0x1+0x423*0x2:0xcfb+-0xb3*0xf+-0x27c,'type':Ve}):(_0x42515d['push']({'semantic':Jf,'components':0x4,'type':Ve}),this['useMesh']&&_0x42515d['push']({'semantic':uh,'components':0x2,'type':Ve})),_0x42515d;}['_allocate'](_0x3b17fd){const _0x19c8ac=_0x3b17fd*this['numParticl'+'eVerts'],_0x5b0bce=_0x3b17fd*this['numParticl'+'eIndices'];if(this['vertexBuff'+'er']===void(0x67*-0x1+-0x2*0x281+-0x569*-0x1)||this['vertexBuff'+'er']['getNumVert'+'ices']()!==_0x19c8ac){const _0x1f0d9e=this['getVertexI'+'nfo'](),_0x176fee=new kt(this['graphicsDe'+'vice'],_0x1f0d9e);this['vertexBuff'+'er']=new Is(this['graphicsDe'+'vice'],_0x176fee,_0x19c8ac,{'usage':lh}),this['indexBuffe'+'r']=new br(this['graphicsDe'+'vice'],wr,_0x5b0bce);const _0x19f715=new Float32Array(this['vertexBuff'+'er']['lock']());let _0xc0de18,_0x5d0d06,_0x2fed72;if(this['useMesh']){_0xc0de18=new Float32Array(this['mesh']['vertexBuff'+'er']['lock']()),_0x5d0d06=_0xc0de18['length']/this['mesh']['vertexBuff'+'er']['numVertice'+'s'];for(let _0x3a7192=0x1*0x18b3+-0x242+-0x1671;_0x3a7192<this['mesh']['vertexBuff'+'er']['format']['elements']['length'];_0x3a7192++)if(this['mesh']['vertexBuff'+'er']['format']['elements'][_0x3a7192]['name']===is){_0x2fed72=this['mesh']['vertexBuff'+'er']['format']['elements'][_0x3a7192]['offset']/(0x1288*0x1+-0x1a3c+0xf7*0x8);break;}}for(let _0x4ebe31=0x7*-0x1f4+0x4*-0x39a+0x3*0x95c;_0x4ebe31<_0x19c8ac;_0x4ebe31++){const _0x7271c6=Math['floor'](_0x4ebe31/this['numParticl'+'eVerts']);if(this['useMesh']){const _0x458612=_0x4ebe31%this['numParticl'+'eVerts'];_0x19f715[_0x4ebe31*(0x1*-0x37a+0x1fa4+-0x1c24)]=_0xc0de18[_0x458612*_0x5d0d06],_0x19f715[_0x4ebe31*(0x259f+0x1d57+-0x42f0)+(0x7fb+0x198+0x992*-0x1)]=_0xc0de18[_0x458612*_0x5d0d06+(-0xcd5+0x3*0x36d+0x28f)],_0x19f715[_0x4ebe31*(-0x1*-0xc1f+-0x2*-0x36f+-0x12f7)+(-0x257*-0x1+0x14e+-0x3a3)]=_0xc0de18[_0x458612*_0x5d0d06+(-0x31*0x1d+-0x1be*-0x10+0xc5*-0x1d)],_0x19f715[_0x4ebe31*(-0x1556+0x116c+-0x3f0*-0x1)+(0x1*-0x995+0x213*0x11+-0x19ab)]=_0x7271c6,_0x19f715[_0x4ebe31*(0x1*-0x22bd+0x5e5+-0x5*-0x5c6)+(0x5c6+-0xd1c*0x1+0x2*0x3ad)]=_0xc0de18[_0x458612*_0x5d0d06+_0x2fed72+(0x5b1*0x2+0x6d5*0x3+-0x1fe1*0x1)],_0x19f715[_0x4ebe31*(0x127a+0x1760+-0x2*0x14ea)+(0x157f+0xe*-0x2f+-0x12e8)]=-0x4cd*-0x2+-0xd1*-0x15+-0x1abe-_0xc0de18[_0x458612*_0x5d0d06+_0x2fed72+(-0x51c+-0x1dcf+-0x1*-0x22ec)];}else{const _0xb2fbff=_0x4ebe31%(-0x988+0xab3+0x1*-0x127);_0x19f715[_0x4ebe31*(-0x234a+0x352+-0xb2*-0x2e)]=ig[_0xb2fbff][0x585+0x1009+0xac7*-0x2],_0x19f715[_0x4ebe31*(-0x2534+0x14df*0x1+0x1059)+(0x148f+0x256c+-0x39fa)]=ig[_0xb2fbff][0x259d*-0x1+0x1018+-0x1586*-0x1],_0x19f715[_0x4ebe31*(-0x32d*-0xa+0x14f6*0x1+-0xd2d*0x4)+(0x1*0x647+0x11b*-0x1e+-0x2fd*-0x9)]=0x1b3e+-0x235e+0x820,_0x19f715[_0x4ebe31*(-0x2dd+0xce*-0xe+-0x11*-0xd5)+(-0x5*-0x2c2+-0x23d5*0x1+-0xb07*-0x2)]=_0x7271c6;}}this['useCpu']&&(this['vbCPU']=new Float32Array(_0x19f715),this['vbOld']=new Float32Array(this['vbCPU']['length'])),this['vertexBuff'+'er']['unlock'](),this['useMesh']&&this['mesh']['vertexBuff'+'er']['unlock']();let _0x410343=-0xa*-0x23e+-0x1a8e+0x422*0x1;const _0x32b45c=new Uint32Array(this['indexBuffe'+'r']['lock']());if(this['useMesh']){const _0x36d846=this['mesh']['indexBuffe'+'r'][0x3*0x28d+-0x22db*-0x1+0x2*-0x1541];_0xc0de18=new Sh[_0x36d846['format']](_0x36d846['lock']());}for(let _0x601775=-0x1861+-0x1e*0xb5+0x2d97;_0x601775<_0x3b17fd;_0x601775++)if(this['useMesh']){for(let _0x1505a3=0x1e8f+-0xb9*-0xa+-0x25c9;_0x1505a3<this['numParticl'+'eIndices'];_0x1505a3++)_0x32b45c[_0x601775*this['numParticl'+'eIndices']+_0x1505a3]=_0xc0de18[_0x1505a3]+_0x601775*this['numParticl'+'eVerts'];}else{const _0x28181d=_0x601775*(0x7*0x77+0x1744+-0x1a81);_0x32b45c[_0x410343++]=_0x28181d,_0x32b45c[_0x410343++]=_0x28181d+(-0x11*-0xf2+-0x937+-0x6da),_0x32b45c[_0x410343++]=_0x28181d+(-0x357+-0xded+0x1146),_0x32b45c[_0x410343++]=_0x28181d,_0x32b45c[_0x410343++]=_0x28181d+(0x13f*0x3+-0x1*0x21d7+0x1e1c),_0x32b45c[_0x410343++]=_0x28181d+(0x1215*-0x1+-0x455*0x5+0x27c1);}this['indexBuffe'+'r']['unlock'](),this['useMesh']&&this['mesh']['indexBuffe'+'r'][0x20d5+-0x3*0x143+0xe86*-0x2]['unlock']();}}['reset'](){if(this['beenReset']=!(-0x3*-0xb41+0x2e3*-0x9+-0x7c8),this['seed']=Math['random'](),this['material']['setParamet'+'er']('seed',this['seed']),this['useCpu']){for(let _0x3485bb=0x9d*0xb+-0x871*-0x1+-0xf30;_0x3485bb<this['particleTe'+'xStart']['length'];_0x3485bb++)this['particleTe'+'x'][_0x3485bb]=this['particleTe'+'xStart'][_0x3485bb];}else this['_setMateri'+'alTextures']();this['resetWorld'+'Bounds'](),this['resetTime']();const _0x35461f=this['loop'];this['loop']=!(-0x29*-0xa7+0x204+-0x25*0xc7),this['addTime'](0x24b*-0xb+-0x3*-0x8a5+-0x2*0x5b,!(-0x1*0x25e+-0x658+0x8b7)),this['loop']=_0x35461f,this['preWarm']&&this['prewarm'](this['lifetime']);}['prewarm'](_0x19f29a){const _0x36d7b6=_0x19f29a/this['lifetime'],_0x457502=Math['min'](Math['floor'](_0x36d7b6*this['precision']),this['precision']),_0x204e6f=_0x19f29a/_0x457502;for(let _0x19a141=-0x9b8+-0xe0+0xa98;_0x19a141<_0x457502;_0x19a141++)this['addTime'](_0x204e6f,!(0xabf+0x4af*0x7+-0x3f5*0xb));}['resetTime'](){this['endTime']=wA(this);}['finishFram'+'e'](){this['useCpu']&&this['vertexBuff'+'er']['unlock']();}['addTime'](_0x27f26b,_0x30567e){const _0x2ee1c0=this['graphicsDe'+'vice'],_0x3a0d0d=de();if(this['simTimeTot'+'al']+=_0x27f26b,this['calculateW'+'orldBounds'](),this['_isAnimate'+'d']()){const _0x10f514=this['animTilesP'+'arams'];_0x10f514[0x1674+-0x1bc2+0x61*0xe]=(-0x5f0+-0x1ac2*-0x1+-0x49*0x49)/this['animTilesX'],_0x10f514[-0x11c3*0x1+0x32*-0xa+0x13b8]=(0x1d47+0x9ba+0xd00*-0x3)/this['animTilesY'];const _0x916802=this['animParams'];_0x916802[0x1cf*0x14+-0x1f*0x12f+0x85]=this['animStartF'+'rame'],_0x916802[0x1b91+-0x1*0x2455+0x1*0x8c5]=this['animNumFra'+'mes']*this['animSpeed'],_0x916802[-0xb3*-0x11+0xe*-0x1c9+0xd1d]=this['animNumFra'+'mes']-(-0x1c73+-0x2357+0x3fcb),_0x916802[-0x2*-0x6b9+-0x1f81+0x1212]=this['animNumAni'+'mations']-(0x2635*-0x1+-0xb16+0xa*0x4ee);const _0x5c21c2=this['animIndexP'+'arams'];_0x5c21c2[-0x1f7e+0x946+0x1638]=this['animIndex'],_0x5c21c2[0x1625+0x1cd2+0x16*-0x251]=this['randomizeA'+'nimIndex'];}this['scene']&&this['camera']!==this['scene']['_activeCam'+'era']&&(this['camera']=this['scene']['_activeCam'+'era'],this['onChangeCa'+'mera']()),this['emitterSha'+'pe']===ai&&(Ai[0x623*-0x5+-0x515+0x23c4]=this['emitterExt'+'ents']['x']!==0x3*0xbdf+-0x168d+0x344*-0x4?this['emitterExt'+'entsInner']['x']/this['emitterExt'+'ents']['x']:0x1*-0x17f5+0x301+0x37e*0x6,Ai[0x47a*0x3+0x3*-0x221+-0x6a*0x11]=this['emitterExt'+'ents']['y']!==-0x1ca2+-0x1487+0x3129?this['emitterExt'+'entsInner']['y']/this['emitterExt'+'ents']['y']:0x72e*-0x4+-0x32b+-0xaa1*-0x3,Ai[0x1*0x15d1+-0x10*-0x22d+-0x389f]=this['emitterExt'+'ents']['z']!==0x1472+-0xb86+0x4*-0x23b?this['emitterExt'+'entsInner']['z']/this['emitterExt'+'ents']['z']:-0x2484+0x1297*0x2+-0xaa,this['meshInstan'+'ce']['node']===null?Ur['setTRS'](D['ZERO'],le['IDENTITY'],this['emitterExt'+'ents']):Ur['setTRS'](D['ZERO'],this['meshInstan'+'ce']['node']['getRotatio'+'n'](),lg['copy'](this['emitterExt'+'ents'])['mul'](this['meshInstan'+'ce']['node']['localScale'])));let _0x3eea0d;const _0x38e2c1=this['meshInstan'+'ce']['node']===null?D['ONE']:this['meshInstan'+'ce']['node']['localScale'];if(this['emitterSca'+'leUniform'][0x2311+-0x1*-0x12aa+-0x35bb]=_0x38e2c1['x'],this['emitterSca'+'leUniform'][0x1742+0xf51+0x2*-0x1349]=_0x38e2c1['y'],this['emitterSca'+'leUniform'][0x19*-0x75+0xb28+0x1*0x47]=_0x38e2c1['z'],this['material']['setParamet'+'er']('emitterSca'+'le',this['emitterSca'+'leUniform']),this['localSpace']&&this['meshInstan'+'ce']['node']&&(_0x3eea0d=this['meshInstan'+'ce']['node']['getPositio'+'n'](),this['emitterPos'+'Uniform'][-0x4*-0x205+0x756*0x1+-0xf6a]=_0x3eea0d['x'],this['emitterPos'+'Uniform'][-0x6a*0x5e+0x1c*-0xc9+0x3ce9]=_0x3eea0d['y'],this['emitterPos'+'Uniform'][0x2f*-0x7+0x6e5+-0x59a]=_0x3eea0d['z'],this['material']['setParamet'+'er']('emitterPos',this['emitterPos'+'Uniform'])),this['_compParti'+'cleFacePar'+'ams'](),!this['useCpu'])this['_gpuUpdate'+'r']['update'](_0x2ee1c0,Ur,Ai,_0x27f26b,_0x30567e);else{const _0x22652a=new Float32Array(this['vertexBuff'+'er']['lock']());this['_cpuUpdate'+'r']['update'](_0x22652a,this['vbToSort'],this['particleTe'+'x'],Ur,Ai,_0x3eea0d,_0x27f26b,_0x30567e);}this['loop']||Date['now']()>this['endTime']&&(this['onFinished']&&this['onFinished'](),this['meshInstan'+'ce']['visible']=!(0x1e67*0x1+-0x88*-0x13+-0x287e)),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['drawOrder']=this['drawOrder']),this['_addTimeTi'+'me']+=de()-_0x3a0d0d;}['_destroyRe'+'sources'](){var _0x5c38f6,_0x10a273,_0x2dd648,_0x563db1,_0x4615e3,_0x1b8ae7,_0x135107,_0x38554b,_0x19975f,_0xf540c8,_0x5da837,_0x4da8e2;(_0x5c38f6=this['particleTe'+'xIN'])==null||_0x5c38f6['destroy'](),this['particleTe'+'xIN']=null,(_0x10a273=this['particleTe'+'xOUT'])==null||_0x10a273['destroy'](),this['particleTe'+'xOUT']=null,this['particleTe'+'xStart']&&this['particleTe'+'xStart']['destroy']&&(this['particleTe'+'xStart']['destroy'](),this['particleTe'+'xStart']=null),(_0x2dd648=this['rtParticle'+'TexIN'])==null||_0x2dd648['destroy'](),this['rtParticle'+'TexIN']=null,(_0x563db1=this['rtParticle'+'TexOUT'])==null||_0x563db1['destroy'](),this['rtParticle'+'TexOUT']=null,(_0x4615e3=this['internalTe'+'x0'])==null||_0x4615e3['destroy'](),this['internalTe'+'x0']=null,(_0x1b8ae7=this['internalTe'+'x1'])==null||_0x1b8ae7['destroy'](),this['internalTe'+'x1']=null,(_0x135107=this['internalTe'+'x2'])==null||_0x135107['destroy'](),this['internalTe'+'x2']=null,(_0x38554b=this['internalTe'+'x3'])==null||_0x38554b['destroy'](),this['internalTe'+'x3']=null,(_0x19975f=this['colorParam'])==null||_0x19975f['destroy'](),this['colorParam']=null,(_0xf540c8=this['vertexBuff'+'er'])==null||_0xf540c8['destroy'](),this['vertexBuff'+'er']=void(0xa1*-0x8+-0xa8e+0xf96),(_0x5da837=this['indexBuffe'+'r'])==null||_0x5da837['destroy'](),this['indexBuffe'+'r']=void(0x1*0x1eb8+-0x152c+-0x98c),(_0x4da8e2=this['material'])==null||_0x4da8e2['destroy'](),this['material']=null;}['destroy'](){this['camera']=null,this['_destroyRe'+'sources']();}}class PA extends ya{['generateKe'+'y'](_0x4e26af){var _0x4a9a6e;const _0x687a1c=_0x4e26af['shaderDesc'],_0x46b68a=_0x687a1c['vertexGLSL']?hi(_0x687a1c['vertexGLSL']):-0x2053*-0x1+-0xfbe+-0x587*0x3,_0xd627fe=_0x687a1c['fragmentGL'+'SL']?hi(_0x687a1c['fragmentGL'+'SL']):0x4dd+0x365*0x2+-0xba7,_0x4c847c=_0x687a1c['vertexWGSL']?hi(_0x687a1c['vertexWGSL']):-0x1c*0x1a+-0x1dc8+-0x120*-0x1d,_0x4a923f=_0x687a1c['fragmentWG'+'SL']?hi(_0x687a1c['fragmentWG'+'SL']):0x931*-0x4+-0x1*-0x1c33+0x891*0x1,_0x449211=ya['definesHas'+'h'](_0x4e26af['defines']),_0x1501a0=((_0x4a9a6e=_0x4e26af['shaderChun'+'ks'])==null?void(-0xd91+-0x124e+0x1*0x1fdf):_0x4a9a6e['key'])??'';let _0x11af0e=_0x687a1c['uniqueName']+'_'+_0x449211+'_'+_0x46b68a+'_'+_0xd627fe+'_'+_0x4c847c+'_'+_0x4a923f+'_'+_0x1501a0;return _0x4e26af['skin']&&(_0x11af0e+='_skin'),_0x4e26af['useInstanc'+'ing']&&(_0x11af0e+='_inst'),_0x4e26af['useMorphPo'+'sition']&&(_0x11af0e+='_morphp'),_0x4e26af['useMorphNo'+'rmal']&&(_0x11af0e+='_morphn'),_0x4e26af['useMorphTe'+'xtureBased'+'Int']&&(_0x11af0e+='_morphi'),_0x11af0e;}['createAttr'+'ibutesDefi'+'nition'](_0x4e5de0,_0x8831df){const _0xb660f3=_0x8831df['shaderDesc']['attributes'],_0x47394b=_0xb660f3?{..._0xb660f3}:void(0x1*-0x15b2+0xa8d+-0x1*-0xb25);_0x8831df['skin']&&(_0x47394b['vertex_bon'+'eWeights']=gi,_0x47394b['vertex_bon'+'eIndices']=us),(_0x8831df['useMorphPo'+'sition']||_0x8831df['useMorphNo'+'rmal'])&&(_0x47394b['morph_vert'+'ex_id']=Ln),_0x4e5de0['attributes']=_0x47394b;}['createVert'+'exDefiniti'+'on'](_0x169bb7,_0x494080,_0x59d45b,_0x2be9c3){const _0x488c78=_0x494080['shaderDesc'],_0x43c782=new Map(_0x59d45b);_0x43c782['set']('transformI'+'nstancingV'+'S','');const _0x40660f=new Map(_0x494080['defines']);_0x494080['skin']&&_0x40660f['set']('SKIN',!(0x464*0x1+-0x1a5b*0x1+-0x1*-0x15f7)),_0x494080['useInstanc'+'ing']&&_0x40660f['set']('INSTANCING',!(0x105*-0x26+0x2*0x461+-0x2*-0xefe)),(_0x494080['useMorphPo'+'sition']||_0x494080['useMorphNo'+'rmal'])&&(_0x40660f['set']('MORPHING',!(-0x3bb*-0x5+0x1d3*-0x5+-0x4*0x262)),_0x494080['useMorphTe'+'xtureBased'+'Int']&&_0x40660f['set']('MORPHING_I'+'NT',!(-0xf6e+0x14*-0x89+-0x45b*-0x6)),_0x494080['useMorphPo'+'sition']&&_0x40660f['set']('MORPHING_P'+'OSITION',!(0x21d*0x6+0x190c+-0x1*0x25ba)),_0x494080['useMorphNo'+'rmal']&&_0x40660f['set']('MORPHING_N'+'ORMAL',!(-0x4*0x3f8+-0x511*-0x7+-0x3eb*0x5))),_0x169bb7['vertexCode']=_0x2be9c3?_0x488c78['vertexWGSL']:_0x488c78['vertexGLSL'],_0x169bb7['vertexIncl'+'udes']=_0x43c782,_0x169bb7['vertexDefi'+'nes']=_0x40660f;}['createFrag'+'mentDefini'+'tion'](_0x274e7c,_0x147d5b,_0x40539f,_0x1b7894){const _0x4c8aa5=_0x147d5b['shaderDesc'],_0x1a2cf2=new Map(_0x40539f),_0x2fd915=new Map(_0x147d5b['defines']);_0x274e7c['fragmentCo'+'de']=_0x1b7894?_0x4c8aa5['fragmentWG'+'SL']:_0x4c8aa5['fragmentGL'+'SL'],_0x274e7c['fragmentIn'+'cludes']=_0x1a2cf2,_0x274e7c['fragmentDe'+'fines']=_0x2fd915;}['createShad'+'erDefiniti'+'on'](_0x1be5d6,_0x4e6a9e){var _0x5596e7;const _0x55df2b=_0x4e6a9e['shaderDesc'],_0x358235=_0x1be5d6['isWebGPU']&&!!_0x55df2b['vertexWGSL']&&!!_0x55df2b['fragmentWG'+'SL']&&(((_0x5596e7=_0x4e6a9e['shaderChun'+'ks'])==null?void(-0x2*-0x1134+0x103+-0x236b*0x1):_0x5596e7['useWGSL'])??!(-0xfb*0x1+0x13db+-0x12e0)),_0x43c42a={'name':'ShaderMate'+'rial-'+_0x55df2b['uniqueName'],'shaderLanguage':_0x358235?it:Fe,'fragmentOutputTypes':_0x55df2b['fragmentOu'+'tputTypes'],'meshUniformBufferFormat':_0x55df2b['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x55df2b['meshBindGr'+'oupFormat']},_0x1f4a06=_0x358235?it:Fe,_0x17d096=bh['merge'](Pe['get'](_0x1be5d6,_0x1f4a06),_0x4e6a9e['shaderChun'+'ks'][_0x1f4a06]);return this['createAttr'+'ibutesDefi'+'nition'](_0x43c42a,_0x4e6a9e),this['createVert'+'exDefiniti'+'on'](_0x43c42a,_0x4e6a9e,_0x17d096,_0x358235),this['createFrag'+'mentDefini'+'tion'](_0x43c42a,_0x4e6a9e,_0x17d096,_0x358235),Jt['createDefi'+'nition'](_0x1be5d6,_0x43c42a);}}const MA=new PA();class Xn extends tr{constructor(_0x4ba98b){super(),h(this,'_shaderDes'+'c'),this['shaderDesc']=_0x4ba98b;}set['shaderDesc'](_0x2796fa){if(this['_shaderDes'+'c']=void(0x1*0x151a+0x1e5+-0x1*0x16ff),_0x2796fa&&(this['_shaderDes'+'c']={'uniqueName':_0x2796fa['uniqueName'],'attributes':_0x2796fa['attributes'],'fragmentOutputTypes':_0x2796fa['fragmentOu'+'tputTypes'],'vertexGLSL':_0x2796fa['vertexGLSL'],'fragmentGLSL':_0x2796fa['fragmentGL'+'SL'],'vertexWGSL':_0x2796fa['vertexWGSL'],'fragmentWGSL':_0x2796fa['fragmentWG'+'SL']},_0x2796fa['vertexCode']||_0x2796fa['fragmentCo'+'de']||_0x2796fa['shaderLang'+'uage'])){w['deprecated']('ShaderMate'+'rial\x20['+_0x2796fa['uniqueName']+(']:\x20vertexC'+'ode,\x20fragm'+'entCode\x20an'+'d\x20shaderLa'+'nguage\x20pro'+'perties\x20of'+'\x20ShaderDes'+'c\x20is\x20depre'+'cated.\x20Use'+'\x20vertexGLS'+'L,\x20fragmen'+'tGLSL,\x20ver'+'texWGSL\x20or'+'\x20fragmentW'+'GSL\x20instea'+'d.'));const _0x1e8e62=_0x2796fa['shaderLang'+'uage']??Fe;_0x1e8e62===Fe?(this['_shaderDes'+'c']['vertexGLSL']=_0x2796fa['vertexCode'],this['_shaderDes'+'c']['fragmentGL'+'SL']=_0x2796fa['fragmentCo'+'de']):_0x1e8e62===it&&(this['_shaderDes'+'c']['vertexWGSL']=_0x2796fa['vertexCode'],this['_shaderDes'+'c']['fragmentWG'+'SL']=_0x2796fa['fragmentCo'+'de']);}this['clearVaria'+'nts']();}get['shaderDesc'](){return this['_shaderDes'+'c'];}['copy'](_0xb88dac){return super['copy'](_0xb88dac),this['shaderDesc']=_0xb88dac['shaderDesc'],this;}['getShaderV'+'ariant'](_0x2ecf7a){const {objDefs:_0x3702f3}=_0x2ecf7a,_0x3a7c25={'defines':$t['getCoreDef'+'ines'](this,_0x2ecf7a),'skin':(_0x3702f3&nl)!==0x2*-0x956+-0x5*0x2ef+0x2157,'useInstancing':(_0x3702f3&ol)!==0xdd6+-0x1ab4*-0x1+-0x288a,'useMorphPosition':(_0x3702f3&ll)!==-0x21b1+0x1e*-0x13e+-0x15*-0x361,'useMorphNormal':(_0x3702f3&cl)!==0x13*-0x1e4+-0x31*0x5+0x24e1,'useMorphTextureBasedInt':(_0x3702f3&hl)!==-0x19*-0x4b+-0x3*-0xab6+-0x2775,'pass':_0x2ecf7a['pass'],'gamma':_0x2ecf7a['cameraShad'+'erParams']['shaderOutp'+'utGamma'],'toneMapping':_0x2ecf7a['cameraShad'+'erParams']['toneMappin'+'g'],'fog':_0x2ecf7a['cameraShad'+'erParams']['fog'],'shaderDesc':this['shaderDesc'],'shaderChunks':this['shaderChun'+'ks']},_0x57e16c=new Ad(_0x2ecf7a['viewUnifor'+'mFormat'],_0x2ecf7a['viewBindGr'+'oupFormat'],_0x2ecf7a['vertexForm'+'at']),_0x37858c=Hn(_0x2ecf7a['device']);return _0x37858c['register']('shader-mat'+'erial',MA),_0x37858c['getProgram']('shader-mat'+'erial',_0x3a7c25,_0x57e16c,this['userId']);}}const Iv=(_0x2f3711,_0x2d4307)=>{const _0x424c0a=_0x2d4307['length']/(-0x544+0x16*0xb5+-0xa47),_0x33f97a=_0x2f3711['length']/(0x1707+0x1b9+0x1*-0x18bd),_0x2a55ac=new D(),_0x1cce5f=new D(),_0x41ded0=new D(),_0x24ca00=new D(),_0x5ac428=new D(),_0x4c4267=new D(),_0x4ec35c=[];for(let _0x131709=-0x2a*-0x4+-0x2f9+0x251*0x1;_0x131709<_0x2f3711['length'];_0x131709++)_0x4ec35c[_0x131709]=0x1950+0x159d+-0x2eed*0x1;for(let _0x4e5995=-0xb0d+0x1*0xbb0+-0x1*0xa3;_0x4e5995<_0x424c0a;_0x4e5995++){const _0x4b8ef4=_0x2d4307[_0x4e5995*(0x651+-0x4*-0x5bc+0xc5*-0x26)],_0x5d1b03=_0x2d4307[_0x4e5995*(0x185*-0x5+0x1f0+0x1*0x5ac)+(0x18b3+0xe47+-0xb*0x38b)],_0x510669=_0x2d4307[_0x4e5995*(0x2b*0x1+0x1*-0x9f3+0x9cb*0x1)+(0x1a3a+-0x1*-0x1c36+0x1b37*-0x2)];_0x2a55ac['set'](_0x2f3711[_0x4b8ef4*(-0x1*0x499+-0x1aba+0x15*0x17e)],_0x2f3711[_0x4b8ef4*(-0x1*-0x1ba7+-0x1*-0x9b3+-0x365*0xb)+(0x3b*0x5f+0x202f+-0x1*0x3613)],_0x2f3711[_0x4b8ef4*(-0x202f+-0x1*0xf5b+-0x103*-0x2f)+(0xb*0x16f+0x59*-0x8+0x1*-0xcfb)]),_0x1cce5f['set'](_0x2f3711[_0x5d1b03*(-0x168b+0xd5b+0x311*0x3)],_0x2f3711[_0x5d1b03*(-0x565*-0x5+0x417*0x5+-0x2f69)+(0x2538+-0x23f9+0x3*-0x6a)],_0x2f3711[_0x5d1b03*(-0x1e63+0x18ff+-0x3*-0x1cd)+(-0x4*-0x10e+-0xbf1+0x7bb)]),_0x41ded0['set'](_0x2f3711[_0x510669*(0x1c7*0x5+-0xee4+0x2c*0x23)],_0x2f3711[_0x510669*(-0x29*0x7c+-0x1*-0xfb+0x12e4)+(0x1*0x589+-0x24a4+0x1f1c)],_0x2f3711[_0x510669*(0xb7a+-0x16d+-0xa0a)+(-0x6df*-0x1+0x2579+-0x2c56)]),_0x24ca00['sub2'](_0x1cce5f,_0x2a55ac),_0x5ac428['sub2'](_0x41ded0,_0x2a55ac),_0x4c4267['cross'](_0x24ca00,_0x5ac428)['normalize'](),_0x4ec35c[_0x4b8ef4*(-0x1b66+0xe53+-0x14f*-0xa)]+=_0x4c4267['x'],_0x4ec35c[_0x4b8ef4*(0x3*-0x221+0x1a4c+-0x9f3*0x2)+(-0x12*-0x227+0x5ac+0x2c69*-0x1)]+=_0x4c4267['y'],_0x4ec35c[_0x4b8ef4*(0x9*0x17a+0x1*-0x118c+0x445)+(-0x1*0x1343+0x1d30*-0x1+0x3075)]+=_0x4c4267['z'],_0x4ec35c[_0x5d1b03*(-0x4f0+-0x1eda*0x1+-0x5*-0x729)]+=_0x4c4267['x'],_0x4ec35c[_0x5d1b03*(-0xa45+0x1fea+-0x15a2)+(-0x269a+0x236b+0x330)]+=_0x4c4267['y'],_0x4ec35c[_0x5d1b03*(-0xdb1+0x2667+-0x18b3*0x1)+(-0x1094+0xd0*0x27+-0xf1a)]+=_0x4c4267['z'],_0x4ec35c[_0x510669*(0x7a*-0x25+-0x1ea5+0x304a)]+=_0x4c4267['x'],_0x4ec35c[_0x510669*(0x1740+-0x38*0x32+-0x2f*0x43)+(-0x1e2*0x8+0x210+0xd01)]+=_0x4c4267['y'],_0x4ec35c[_0x510669*(0x1780+0x41*-0x6b+0x2*0x1d7)+(-0x1*0xdf3+-0x16b6+0x3f*0x95)]+=_0x4c4267['z'];}for(let _0x32b1a7=0x2689+0x11e+-0x27a7;_0x32b1a7<_0x33f97a;_0x32b1a7++){const _0x52f136=_0x4ec35c[_0x32b1a7*(-0x883*0x3+0x4*0x5ea+-0x1e4*-0x1)],_0x198f69=_0x4ec35c[_0x32b1a7*(-0xd*-0xc7+0x11ea+-0x1c02)+(-0xf65*-0x2+-0x2484+0x5bb)],_0x5065bf=_0x4ec35c[_0x32b1a7*(-0x5*-0x3c5+-0x1275+-0x61)+(-0x775+0x3da*0x3+0x15d*-0x3)],_0x2464bf=(0x52c*-0x2+-0x3b0+0xe09)/Math['sqrt'](_0x52f136*_0x52f136+_0x198f69*_0x198f69+_0x5065bf*_0x5065bf);_0x4ec35c[_0x32b1a7*(0xedd+-0x1e3c+0xf62)]*=_0x2464bf,_0x4ec35c[_0x32b1a7*(0x1622+-0x157*-0x1+-0x1776)+(0x359+0x19cb+-0x1d23*0x1)]*=_0x2464bf,_0x4ec35c[_0x32b1a7*(0x1993+-0xf53+-0xa3d*0x1)+(0x644+0x2558+0x15cd*-0x2)]*=_0x2464bf;}return _0x4ec35c;},Mr=(_0x4c7f15,_0x25fbc1,_0x207327,_0x8dd54)=>{const _0x4abdf8=_0x8dd54['length']/(-0x6c0+0x1*0x19c7+-0x1304),_0x42c07c=_0x4c7f15['length']/(0x5d1*0x2+-0x1*-0x25a4+-0x3143*0x1),_0x34f05a=new D(),_0x251ca7=new D(),_0x5d3f0b=new D(),_0x1966f7=new J(),_0xc4bd42=new J(),_0x34eac4=new J(),_0x29b7d5=new D(),_0x4a0512=new D(),_0x5874e4=new Float32Array(_0x42c07c*(-0x1af0+-0x20f8+0x3beb)),_0x3038ec=new Float32Array(_0x42c07c*(-0x4f*0x4b+0x1fd4+0x14*-0x6f)),_0xcf0ab1=[];for(let _0x2e153d=0x1ef3+0x5*-0x701+0x412;_0x2e153d<_0x4abdf8;_0x2e153d++){const _0x539103=_0x8dd54[_0x2e153d*(-0x7c*-0x11+0xdcf+-0x1608)],_0x5e68cd=_0x8dd54[_0x2e153d*(0x3b*0x8+-0x11a8+-0x1*-0xfd3)+(-0xf81+0xd*0x106+-0x5e*-0x6)],_0x10d9d1=_0x8dd54[_0x2e153d*(-0x1043+0x15b*0x5+0x97f)+(-0x18b*0x10+-0x385+0x1c37)];_0x34f05a['set'](_0x4c7f15[_0x539103*(0x1*0x10f4+0x341+0xb*-0x1d6)],_0x4c7f15[_0x539103*(0x19c4+0xc37+-0x25f8)+(0x77*-0x2d+0x2*0x641+0x86a)],_0x4c7f15[_0x539103*(-0x151*0x5+0x23*0xc2+0x2*-0x9f7)+(0x3*0xce+0x8*0x19c+-0xf48)]),_0x251ca7['set'](_0x4c7f15[_0x5e68cd*(-0x1281+-0x9*0x290+-0x377*-0xc)],_0x4c7f15[_0x5e68cd*(-0xa8e+0x2*-0x25c+0xf49)+(-0xfa9+0x180d*0x1+0x1*-0x863)],_0x4c7f15[_0x5e68cd*(0xd60+0xc51+-0xcd7*0x2)+(-0x271*-0xf+0x1*0x1e8a+-0x4327)]),_0x5d3f0b['set'](_0x4c7f15[_0x10d9d1*(-0x2*-0x12cd+0xb*-0x8b+-0x13*0x1aa)],_0x4c7f15[_0x10d9d1*(-0x2e2*-0x8+0x517*-0x1+-0x11f6)+(0x287*0x3+-0x485*0x5+0xf05)],_0x4c7f15[_0x10d9d1*(0xea2+0x132+-0xfd1)+(-0x35*-0xaa+0x98e+-0x45*0xa6)]),_0x1966f7['set'](_0x207327[_0x539103*(-0x1*-0x7e2+-0x1e6d+0x17*0xfb)],_0x207327[_0x539103*(0x1063*0x1+-0x1*0x154c+0x1*0x4eb)+(0x19db*0x1+0x30d*0x2+0x2*-0xffa)]),_0xc4bd42['set'](_0x207327[_0x5e68cd*(0xd*-0x30+-0x19d1+0x1c43)],_0x207327[_0x5e68cd*(-0x2349*-0x1+0x145b+-0x37a2*0x1)+(-0x3c8+-0x1317*-0x1+-0x7a7*0x2)]),_0x34eac4['set'](_0x207327[_0x10d9d1*(-0xad*0x3+-0x1cd1+0xb*0x2ce)],_0x207327[_0x10d9d1*(0x2493+0x2183+-0x4614)+(0x7ca+-0x3*-0x122+0x199*-0x7)]);const _0x487fb0=_0x251ca7['x']-_0x34f05a['x'],_0x2ad7b2=_0x5d3f0b['x']-_0x34f05a['x'],_0x69a594=_0x251ca7['y']-_0x34f05a['y'],_0x271493=_0x5d3f0b['y']-_0x34f05a['y'],_0x41fcf8=_0x251ca7['z']-_0x34f05a['z'],_0x3c30d3=_0x5d3f0b['z']-_0x34f05a['z'],_0x5eeddb=_0xc4bd42['x']-_0x1966f7['x'],_0x1bb0b3=_0x34eac4['x']-_0x1966f7['x'],_0x1470f2=_0xc4bd42['y']-_0x1966f7['y'],_0x3b8077=_0x34eac4['y']-_0x1966f7['y'],_0x52e99a=_0x5eeddb*_0x3b8077-_0x1bb0b3*_0x1470f2;if(_0x52e99a===0xf89+-0x1*0x1f13+-0xd*-0x132)_0x29b7d5['set'](-0xb91+-0x1d98+0x2929,-0x1*-0x2111+0x2357+-0x4467,-0xc3b+0x1*-0x1e0e+0x2a49),_0x4a0512['set'](0x1d05+0x2*-0x342+0x168*-0x10,0x17a7+0x1bb9+-0x3360,-0x1*0x188d+-0x18a2+-0x3*-0x1065);else{const _0x4ff607=(-0x182*0x8+0xa5+-0x11*-0xac)/_0x52e99a;_0x29b7d5['set']((_0x3b8077*_0x487fb0-_0x1470f2*_0x2ad7b2)*_0x4ff607,(_0x3b8077*_0x69a594-_0x1470f2*_0x271493)*_0x4ff607,(_0x3b8077*_0x41fcf8-_0x1470f2*_0x3c30d3)*_0x4ff607),_0x4a0512['set']((_0x5eeddb*_0x2ad7b2-_0x1bb0b3*_0x487fb0)*_0x4ff607,(_0x5eeddb*_0x271493-_0x1bb0b3*_0x69a594)*_0x4ff607,(_0x5eeddb*_0x3c30d3-_0x1bb0b3*_0x41fcf8)*_0x4ff607);}_0x5874e4[_0x539103*(-0x8aa+-0xd6e+-0x161b*-0x1)+(0x9*-0x353+-0x1ed1+-0xa9*-0x5c)]+=_0x29b7d5['x'],_0x5874e4[_0x539103*(-0x1*-0x1319+0x1*-0x1aad+0x43*0x1d)+(0x16c4+0x156+0xc7*-0x1f)]+=_0x29b7d5['y'],_0x5874e4[_0x539103*(-0x1*0x88c+0x800+0xb*0xd)+(0x1*0x122c+-0x1e*-0x108+-0x105e*0x3)]+=_0x29b7d5['z'],_0x5874e4[_0x5e68cd*(0x6*0x211+0x88e+0x14f1*-0x1)+(-0x164d+-0x59*0x3a+0x2a77)]+=_0x29b7d5['x'],_0x5874e4[_0x5e68cd*(0xd7*0x6+0x247d+-0x2984)+(-0xd3*0x11+0x2*0x12ce+0x4b8*-0x5)]+=_0x29b7d5['y'],_0x5874e4[_0x5e68cd*(-0x53*-0x49+-0xbc1+-0x1*0xbe7)+(-0x8d0+0x240d+-0x1b3b)]+=_0x29b7d5['z'],_0x5874e4[_0x10d9d1*(-0x2f3+-0x1e*-0xbf+-0x136c)+(0x2694+-0x306+-0x7b*0x4a)]+=_0x29b7d5['x'],_0x5874e4[_0x10d9d1*(-0x11*-0x35+0x15fb+-0x5*0x519)+(0x72f+0x90e+-0x103c)]+=_0x29b7d5['y'],_0x5874e4[_0x10d9d1*(0x4fe+0x440+-0x93b)+(0xbd+-0x159c+-0x14e1*-0x1)]+=_0x29b7d5['z'],_0x3038ec[_0x539103*(-0x154+-0x1*-0x1d62+-0x1c0b)+(0x5c8+0x2bd*0x9+0x1*-0x1e6d)]+=_0x4a0512['x'],_0x3038ec[_0x539103*(-0x10cb*-0x1+-0x3ce*-0x1+-0x1496)+(-0xf76*0x1+0xd4f+-0xc*-0x2e)]+=_0x4a0512['y'],_0x3038ec[_0x539103*(0x194a+0x16*-0xb3+-0x1*0x9e5)+(0x1c29+0x2012+-0x1b*0x23b)]+=_0x4a0512['z'],_0x3038ec[_0x5e68cd*(-0xa7*0x17+0xf81+-0x5*0x19)+(-0x1bff*0x1+0x69*0x9+-0x40d*-0x6)]+=_0x4a0512['x'],_0x3038ec[_0x5e68cd*(0x62a*-0x1+-0x2*-0xf9a+-0x1907)+(0x216e+0xd35+-0x1*0x2ea2)]+=_0x4a0512['y'],_0x3038ec[_0x5e68cd*(-0x1f*-0x1+0xc32+0xa*-0x13b)+(-0x1d2c+0x85*0x44+-0x626)]+=_0x4a0512['z'],_0x3038ec[_0x10d9d1*(-0xd26+0x1740+-0x7b*0x15)+(-0x2*0xc10+0x12d4+0x1*0x54c)]+=_0x4a0512['x'],_0x3038ec[_0x10d9d1*(-0x9e+0x95a+-0x8b9)+(0x1*-0x165a+0x11d9+0x482)]+=_0x4a0512['y'],_0x3038ec[_0x10d9d1*(0xa49+-0x955*-0x2+-0x1cf0)+(0x13c*0xf+0xe*-0x281+0x108c)]+=_0x4a0512['z'];}const _0x34e423=new D(),_0x125890=new D(),_0x131fee=new D(),_0x533d97=new D();for(let _0x5e45f9=0x1321+0xfa9*-0x2+0xc31;_0x5e45f9<_0x42c07c;_0x5e45f9++){_0x131fee['set'](_0x25fbc1[_0x5e45f9*(-0x523+0x12a7+-0xd81*0x1)],_0x25fbc1[_0x5e45f9*(0x5*-0x228+-0x803+0x53*0x3a)+(-0x1441+-0x238a*-0x1+-0xf48)],_0x25fbc1[_0x5e45f9*(-0x1f99*-0x1+-0x52a+-0x1a6c)+(0x1*0x1517+0x6ab*-0x5+-0x2*-0x621)]),_0x34e423['set'](_0x5874e4[_0x5e45f9*(-0x2352+0x211e+0x237)],_0x5874e4[_0x5e45f9*(-0x64e*-0x6+0xda0+-0xd*0x3f5)+(0x1*-0x1a77+0x12e9*-0x1+0x1*0x2d61)],_0x5874e4[_0x5e45f9*(0x26f9*0x1+0xf77+-0x366d)+(0x1*0xd4+-0x3a5+-0x1*-0x2d3)]),_0x125890['set'](_0x3038ec[_0x5e45f9*(-0x12*0x1b9+-0x1a1e+0x3923)],_0x3038ec[_0x5e45f9*(0x429*0x9+0x88a+-0x2df8)+(0x2489*0x1+-0x1485+-0x1003*0x1)],_0x3038ec[_0x5e45f9*(0x139b*-0x1+-0x5cb+-0x1969*-0x1)+(0x1c51*-0x1+0xfb*0x5+-0x176c*-0x1)]);const _0x5bc1b1=_0x131fee['dot'](_0x34e423);_0x533d97['copy'](_0x131fee)['mulScalar'](_0x5bc1b1),_0x533d97['sub2'](_0x34e423,_0x533d97)['normalize'](),_0xcf0ab1[_0x5e45f9*(0xd25*0x1+-0x77a+-0x5a7)]=_0x533d97['x'],_0xcf0ab1[_0x5e45f9*(0x181f+-0x15dd+-0x1*0x23e)+(-0xc*0x189+0x1e23+0x1*-0xbb6)]=_0x533d97['y'],_0xcf0ab1[_0x5e45f9*(-0x1e3c+-0xfa*0x5+0x2322)+(0x1690+0x7df+-0x1e6d)]=_0x533d97['z'],_0x533d97['cross'](_0x131fee,_0x34e423),_0xcf0ab1[_0x5e45f9*(-0x1273+0xf85+0x2f2)+(-0x1040+-0x1ea1+0x2ee4)]=_0x533d97['dot'](_0x125890)<0x158*0x1d+0x1834*0x1+-0x3f2c?-(0x2*0x1191+0x1a*-0xf4+-0xa59):-0x1cc9+-0x6ba+0x2384;}return _0xcf0ab1;};class Ta{constructor(){h(this,'positions'),h(this,'normals'),h(this,'colors'),h(this,'uvs'),h(this,'uvs1'),h(this,'blendIndic'+'es'),h(this,'blendWeigh'+'ts'),h(this,'tangents'),h(this,'indices');}['calculateN'+'ormals'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['normals']=Iv(this['positions'],this['indices']);}['calculateT'+'angents'](){w['assert'](this['positions'],'Geometry\x20m'+'ust\x20have\x20p'+'ositions\x20s'+'et'),w['assert'](this['normals'],'Geometry\x20m'+'ust\x20have\x20n'+'ormals\x20set'),w['assert'](this['uvs'],'Geometry\x20m'+'ust\x20have\x20u'+'vs\x20set'),w['assert'](this['indices'],'Geometry\x20m'+'ust\x20have\x20i'+'ndices\x20set'),this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']);}}const pu=(0x14b5+-0x3fb*0x9+-0x1a*-0x95)/(-0x196d+0x489*0x8+-0xa9b),hg=-0x22b3+-0x3*0x167+0x26e9-pu*(-0x1f1*0x13+0x16d6+0xe0f);class mu extends Ta{constructor(_0x846a17={}){super();const _0x4368db=_0x846a17['halfExtent'+'s']??new D(-0x20f9+0xb3b+0x15be+0.5,-0x1d3d+-0x1*0x64d+0x2*0x11c5+0.5,-0x2b*-0x37+0x27*0x94+-0x1fc9+0.5),_0x508118=_0x846a17['widthSegme'+'nts']??0x141d+-0x11b*-0x11+0x1*-0x26e7,_0xba1407=_0x846a17['lengthSegm'+'ents']??0x18b9+-0x1*0x7e3+-0x10d5,_0x33f180=_0x846a17['heightSegm'+'ents']??-0x23a5+0x42b*0x8+0x24e,_0x3a5c97=_0x846a17['yOffset']??-0x1dfc+0xee*-0x1b+0x3716,_0x19671e=-_0x4368db['y']+_0x3a5c97,_0x22d9ff=_0x4368db['y']+_0x3a5c97,_0x34943f=[new D(-_0x4368db['x'],_0x19671e,_0x4368db['z']),new D(_0x4368db['x'],_0x19671e,_0x4368db['z']),new D(_0x4368db['x'],_0x22d9ff,_0x4368db['z']),new D(-_0x4368db['x'],_0x22d9ff,_0x4368db['z']),new D(_0x4368db['x'],_0x19671e,-_0x4368db['z']),new D(-_0x4368db['x'],_0x19671e,-_0x4368db['z']),new D(-_0x4368db['x'],_0x22d9ff,-_0x4368db['z']),new D(_0x4368db['x'],_0x22d9ff,-_0x4368db['z'])],_0x4548c6=[[0x11e7+-0x9c3*0x4+0x1*0x1525,0x35d+-0x1e3f+-0x1ae3*-0x1,-0x178*-0x4+-0x10b0+-0xad3*-0x1],[-0x612+-0x26b*0x1+0x137*0x7,0x4f7*0x1+0x5d1*0x1+0x227*-0x5,0x170f*0x1+-0x1*0x975+-0xd93],[-0x160*-0x13+-0x5*0x425+0x2*-0x2b2,0x52f*0x7+-0xc4e+-0x17f9,-0x1e7*-0x3+-0x6bd+0x10e],[-0x84c*-0x2+-0xf00+-0x197,-0x1a6+-0x9fb*0x1+-0xe5*-0xd,-0xd*0x2ef+0x8d2+0x1d55],[0x5*-0x16f+-0xfaa+0x16d6*0x1,-0x8*0x4a9+0x1e74+0x4*0x1b6,0x1686+-0x66e+0x1d*-0x8e],[-0x4*0x70d+-0x1d86+-0x39bf*-0x1,0x1fce+-0x14c0+-0xb0e,0xa33*0x1+-0x1cd0+0x12a3*0x1]],_0x2aec16=[[0x13a3+0xce5*0x2+-0x2d6d,-0x1737+0x5de+-0x1*-0x1159,0x1*-0xd51+-0x168d+-0x23df*-0x1],[0x1*-0x389+0x13*0xce+-0xbc1,0x274*0xa+-0xde3+0x1*-0xaa5,-(-0x1*-0x25bd+-0x1887+-0x45*0x31)],[0xb22+0x1*-0x1877+0xd55,-0x7b*-0x22+-0x1aae+0xa59*0x1,0x2*0x301+-0x18cf+0x12cd*0x1],[0x4c5+-0x84f+0x38a,-(0x102*-0x3+0xa52+-0x74b),-0x389*0x1+0xb58+-0x7cf],[0x1d99+0x2395+-0x412d,0x7*-0x4ca+0xd89+0x13fd,-0x1082+-0x2191+0x3213],[-(-0x1ae5+0x6*-0x218+0x2776),-0x7c4+0x753+0x1*0x71,-0x42+-0x8*-0x12a+0x90e*-0x1]],_0x5e0135={'FRONT':0x0,'BACK':0x1,'TOP':0x2,'BOTTOM':0x3,'RIGHT':0x4,'LEFT':0x5},_0x2d416f=[],_0x1f20c3=[],_0x344ae2=[],_0x274f84=[];let _0x3f42c1=0x13de+-0x975*-0x1+-0x1d53;const _0x2fab6b=(_0x53677c,_0x468905,_0x269678)=>{const _0x2e3eda=new D(),_0xcbea5b=new D(),_0x5bda89=new D(),_0xc94609=new D();for(let _0x5210b6=-0x3*0xb1+0x2*0x15a+-0xa1*0x1;_0x5210b6<=_0x468905;_0x5210b6++)for(let _0x40fbb5=0x26c2+-0x1231*0x2+-0x260;_0x40fbb5<=_0x269678;_0x40fbb5++){_0x2e3eda['lerp'](_0x34943f[_0x4548c6[_0x53677c][0x4*0x54d+-0x937*0x1+-0x9*0x155]],_0x34943f[_0x4548c6[_0x53677c][0x1b65+-0x2289+0x725]],_0x5210b6/_0x468905),_0xcbea5b['lerp'](_0x34943f[_0x4548c6[_0x53677c][-0x24d7*-0x1+-0x1*-0xcbd+-0x3194]],_0x34943f[_0x4548c6[_0x53677c][0x187+-0x119*0x2+0xad]],_0x40fbb5/_0x269678),_0x5bda89['sub2'](_0xcbea5b,_0x34943f[_0x4548c6[_0x53677c][-0xbb+-0x26c7+-0x1a*-0x185]]),_0xc94609['add2'](_0x2e3eda,_0x5bda89);let _0x26dbc3=_0x5210b6/_0x468905,_0x473820=_0x40fbb5/_0x269678;_0x2d416f['push'](_0xc94609['x'],_0xc94609['y'],_0xc94609['z']),_0x1f20c3['push'](_0x2aec16[_0x53677c][0x1c14+-0x25f6+0x1*0x9e2],_0x2aec16[_0x53677c][0x1967+-0x18bb*-0x1+-0x139*0x29],_0x2aec16[_0x53677c][0x792+0x257f+-0x2d0f]),_0x344ae2['push'](_0x26dbc3,0x20b*-0x1+0x123+0xe9-_0x473820),_0x26dbc3=_0x26dbc3*hg+pu,_0x473820=_0x473820*hg+pu,_0x26dbc3/=0x5*0x2bb+0x1*0x5fb+-0x139f,_0x473820/=0x204c+-0x1ea1+0x6a*-0x4,_0x26dbc3+=_0x53677c%(-0x95*-0x39+0x1979+-0x3aa3)/(0xd5e*0x1+0xad6+-0x1831),_0x473820+=Math['floor'](_0x53677c/(-0x9e9+0x4*-0x6b0+-0x24ac*-0x1))/(0x195+-0x2650+0x1*0x24be),_0x5210b6<_0x468905&&_0x40fbb5<_0x269678&&(_0x274f84['push'](_0x3f42c1+_0x269678+(-0x1*-0xf0b+-0x209f+-0x1195*-0x1),_0x3f42c1+(-0x1342+-0x2*-0x7c3+0x3bd),_0x3f42c1),_0x274f84['push'](_0x3f42c1+_0x269678+(-0x7*0x169+0x25f*0xd+-0xad*0x1f),_0x3f42c1+_0x269678+(0x26bc+0x849+-0x2f03),_0x3f42c1+(0x183e+0x83e+0x5*-0x67f))),_0x3f42c1++;}};_0x2fab6b(_0x5e0135['FRONT'],_0x508118,_0x33f180),_0x2fab6b(_0x5e0135['BACK'],_0x508118,_0x33f180),_0x2fab6b(_0x5e0135['TOP'],_0x508118,_0xba1407),_0x2fab6b(_0x5e0135['BOTTOM'],_0x508118,_0xba1407),_0x2fab6b(_0x5e0135['RIGHT'],_0xba1407,_0x33f180),_0x2fab6b(_0x5e0135['LEFT'],_0xba1407,_0x33f180),this['positions']=_0x2d416f,this['normals']=_0x1f20c3,this['uvs']=_0x344ae2,this['uvs1']=_0x344ae2,this['indices']=_0x274f84,_0x846a17['calculateT'+'angents']&&(this['tangents']=Mr(_0x2d416f,_0x1f20c3,_0x344ae2,_0x274f84));}}class _m extends Ta{constructor(_0x28d411={}){super();const _0x4ced83=_0x28d411['radius']??0x25b7+0x3e5+-0x1*0x299c+0.5,_0x597844=_0x28d411['latitudeBa'+'nds']??0x1*-0xfa6+0x14f9+0x3*-0x1c1,_0x2ca629=_0x28d411['longitudeB'+'ands']??0x1ad*0x5+-0x35*0x72+0xf49,_0x52ceeb=[],_0x26dfb4=[],_0x7986c5=[],_0xa0d8da=[];for(let _0x2592a9=-0x200e*0x1+0x1b79+-0x1*-0x495;_0x2592a9<=_0x597844;_0x2592a9++){const _0xad0e26=_0x2592a9*Math['PI']/_0x597844,_0x3ab2c4=Math['sin'](_0xad0e26),_0x433d1a=Math['cos'](_0xad0e26);for(let _0x1f9ac4=-0x12*-0x37+-0x73c*-0x5+-0x280a;_0x1f9ac4<=_0x2ca629;_0x1f9ac4++){const _0x5d8695=_0x1f9ac4*(-0x4d9*-0x6+-0x591+-0x1783)*Math['PI']/_0x2ca629-Math['PI']/(0x3bd+-0x200a+-0x1c4f*-0x1),_0x3ac8bc=Math['sin'](_0x5d8695),_0x1b5380=Math['cos'](_0x5d8695)*_0x3ab2c4,_0x49a16e=_0x433d1a,_0x325fda=_0x3ac8bc*_0x3ab2c4,_0x64b52d=-0x492+-0x13ec+0x1*0x187f-_0x1f9ac4/_0x2ca629,_0x4181b6=0x1625+-0x491+-0x1193-_0x2592a9/_0x597844;_0x52ceeb['push'](_0x1b5380*_0x4ced83,_0x49a16e*_0x4ced83,_0x325fda*_0x4ced83),_0x26dfb4['push'](_0x1b5380,_0x49a16e,_0x325fda),_0x7986c5['push'](_0x64b52d,0x2191+0x1*-0x1df9+-0x397-_0x4181b6);}}for(let _0x4af298=0x1c39+0x243a+-0x4073;_0x4af298<_0x597844;++_0x4af298)for(let _0x538c7a=0x25e5+-0x1c2e+0x33d*-0x3;_0x538c7a<_0x2ca629;++_0x538c7a){const _0x15fa38=_0x4af298*(_0x2ca629+(0x36*-0x74+-0x1*0x1a17+-0xca4*-0x4))+_0x538c7a,_0xe1da9b=_0x15fa38+_0x2ca629+(-0x955*-0x3+0x51d*0x5+-0x358f);_0xa0d8da['push'](_0x15fa38+(-0x2151+0xa92+-0xd0*-0x1c),_0xe1da9b,_0x15fa38),_0xa0d8da['push'](_0x15fa38+(-0x3*-0x62b+-0x50e*-0x5+-0x2bc6),_0xe1da9b+(0x583*0x5+-0x1c1a+-0x2*-0x46),_0xe1da9b);}this['positions']=_0x52ceeb,this['normals']=_0x26dfb4,this['uvs']=_0x7986c5,this['uvs1']=_0x7986c5,this['indices']=_0xa0d8da,_0x28d411['calculateT'+'angents']&&(this['tangents']=Mr(_0x52ceeb,_0x26dfb4,_0x7986c5,_0xa0d8da));}}class DA extends _m{constructor(_0x453281={}){const _0x20cfcf=_0x453281['latitudeBa'+'nds']??0x14ac+0x22f9+-0x1287*0x3,_0x3c0b0a=_0x453281['longitudeB'+'ands']??-0x1c*-0x83+-0x2655*-0x1+-0x3499;super({'radius':0.5,'latitudeBands':_0x20cfcf,'longitudeBands':_0x3c0b0a});const _0x7e5ca6=0x81d*-0x1+0xb89*0x3+-0x1a7e+0.1,_0x1668ca=0x118e*-0x1+-0x5*0x5e5+0x3*0xfad+0.95,_0x16db14=_0x1668ca*_0x1668ca,_0x1f3088=this['positions'];for(let _0x1d294a=0x5d*-0x1d+-0xe3e*-0x1+-0x3b5;_0x1d294a<_0x1f3088['length'];_0x1d294a+=-0x24bd+-0xccf+-0x1085*-0x3){const _0x5d6698=_0x1f3088[_0x1d294a]/(0xde*-0x15+0x1ff+0x1037+0.5);let _0x1abdde=_0x1f3088[_0x1d294a+(0x13da+0x1701+-0x2ada)]/(0xaaa+0x2651*-0x1+-0x1ba7*-0x1+0.5);const _0x566bd3=_0x1f3088[_0x1d294a+(0x2b7*-0xb+0x182d+0x5b2)]/(-0xf35+-0xb6+0xfeb+0.5);_0x1abdde<0x67e*-0x4+-0x5*-0x5db+-0x34f*0x1&&(_0x1abdde*=0x19eb+0x24*0x4a+-0x2453+0.3,_0x5d6698*_0x5d6698+_0x566bd3*_0x566bd3<_0x16db14&&(_0x1abdde=-_0x7e5ca6)),_0x1abdde+=_0x7e5ca6,_0x1abdde*=0xb46*-0x2+0x1d*0x44+0xed8+0.5,_0x1f3088[_0x1d294a+(-0x156a*-0x1+0x30*0x28+-0x1ce9)]=_0x1abdde;}}}class zo{static['create'](_0x4463c7,_0x4e1d25){switch(_0x4e1d25){case Qw:return zo['box'](_0x4463c7);case Jw:return zo['dome'](_0x4463c7);}return w['assert'](_0x4e1d25===Bo,'Unsupporte'+'d\x20sky\x20geom'+'etry\x20type\x20'+_0x4e1d25),zo['infinite'](_0x4463c7);}static['infinite'](_0x4fd6f3){return Ge['fromGeomet'+'ry'](_0x4fd6f3,new mu(_0x4fd6f3));}static['box'](_0x4f425a){return Ge['fromGeomet'+'ry'](_0x4f425a,new mu({'yOffset':0.5}));}static['dome'](_0x427d05){const _0x290a4=new DA({'latitudeBands':0x32,'longitudeBands':0x32});return _0x290a4['normals']=void(-0x1d6+0x18de+-0x1708),_0x290a4['uvs']=void(-0x1b*0xe7+0x5c*-0x4d+0x3409),Ge['fromGeomet'+'ry'](_0x427d05,_0x290a4);}}class IA{constructor(_0x587a51,_0x2c570b,_0x49ee7d,_0x4915b8,_0x343eb4){h(this,'meshInstan'+'ce',null),h(this,'_depthWrit'+'e',!(-0x842+0xfe2+-0x1*0x79f));const _0x1e1745=new Xn({'uniqueName':'SkyMateria'+'l','vertexGLSL':Pe['get'](_0x587a51,Fe)['get']('skyboxVS'),'fragmentGLSL':Pe['get'](_0x587a51,Fe)['get']('skyboxPS'),'vertexWGSL':Pe['get'](_0x587a51,it)['get']('skyboxVS'),'fragmentWGSL':Pe['get'](_0x587a51,it)['get']('skyboxPS'),'attributes':{'aPosition':Me}});_0x1e1745['setDefine']('{SKYBOX_DE'+'CODE_FNC}',Tr['decodeFunc'](_0x4915b8['encoding'])),_0x343eb4!==Bo&&_0x1e1745['setDefine']('SKYMESH',''),_0x4915b8['cubemap']&&_0x1e1745['setDefine']('SKY_CUBEMA'+'P',''),_0x1e1745['setParamet'+'er']('skyboxHigh'+'lightMulti'+'plier',_0x2c570b['skyboxHigh'+'lightMulti'+'plier']),_0x4915b8['cubemap']?_0x1e1745['setParamet'+'er']('texture_cu'+'beMap',_0x4915b8):(_0x1e1745['setParamet'+'er']('texture_en'+'vAtlas',_0x4915b8),_0x1e1745['setParamet'+'er']('mipLevel',_0x2c570b['skyboxMip'])),_0x1e1745['cull']=Fo,_0x1e1745['depthWrite']=this['_depthWrit'+'e'];const _0x1b8728=_0x2c570b['layers']['getLayerBy'+'Id'](Kp);if(_0x1b8728){const _0x3abc10=zo['create'](_0x587a51,_0x343eb4),_0x12d491=new He(_0x3abc10,_0x1e1745,_0x49ee7d);this['meshInstan'+'ce']=_0x12d491,_0x12d491['cull']=!(-0x3*-0x678+-0x5b1+-0x36*0x41),_0x12d491['pick']=!(0x1*-0x162e+-0x1a0a+0x3039),_0x1b8728['addMeshIns'+'tances']([_0x12d491]),this['skyLayer']=_0x1b8728;}}['destroy'](){this['meshInstan'+'ce']&&(this['skyLayer']&&this['skyLayer']['removeMesh'+'Instances']([this['meshInstan'+'ce']]),this['meshInstan'+'ce']['destroy'](),this['meshInstan'+'ce']=null);}set['depthWrite'](_0x19d558){this['_depthWrit'+'e']=_0x19d558,this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']['depthWrite']=_0x19d558);}get['depthWrite'](){return this['_depthWrit'+'e'];}}class LA{constructor(_0x3ccd0a){h(this,'_type',Bo),h(this,'_center',new D(0x1*0xb14+-0x429+-0x6eb,0x18a*-0xa+0x1*-0x293+0x11f8,-0x1636+0x17a6*-0x1+-0x14*-0x24b)),h(this,'skyMesh',null),h(this,'_depthWrit'+'e',!(-0x5f*0x15+0x2*0xbfd+-0x13*0xda)),h(this,'node',new Ie('SkyMeshNod'+'e')),(this['device']=_0x3ccd0a['device'],this['scene']=_0x3ccd0a,this['center']=new D(-0x1*-0xd0e+0x21a8+0x7c9*-0x6,0x232+0x27*0x95+-0x18e4,-0xe42+-0x7*0x139+-0x213*-0xb),this['centerArra'+'y']=new Float32Array(-0x16bc*0x1+-0x28*0x62+-0x1*-0x260f),this['projectedS'+'kydomeCent'+'erId']=this['device']['scope']['resolve']('projectedS'+'kydomeCent'+'er'));}['applySetti'+'ngs'](_0x5e07e1){this['type']=_0x5e07e1['skyType']??Bo,this['node']['setLocalPo'+'sition'](new D(_0x5e07e1['skyMeshPos'+'ition']??[-0x11db+0x537+-0x4*-0x329,-0x4d*-0x7f+-0x15*-0x107+0x1de3*-0x2,-0x1*-0x21f0+-0x11f9+-0x3d*0x43])),this['node']['setLocalEu'+'lerAngles'](new D(_0x5e07e1['skyMeshRot'+'ation']??[0x4d3+0x6b9+0x2*-0x5c6,0x285+-0x55*0x10+0x2cb,-0x582+-0x3*0x9c2+0x22c8])),this['node']['setLocalSc'+'ale'](new D(_0x5e07e1['skyMeshSca'+'le']??[-0x462+-0x1f41+0x23a4,-0x182e+0x765+-0x2*-0x865,-0x1*0x1cb3+0x1567*0x1+0x74d])),_0x5e07e1['skyCenter']&&(this['_center']=new D(_0x5e07e1['skyCenter']));}set['type'](_0xd3aaa6){this['_type']!==_0xd3aaa6&&(this['_type']=_0xd3aaa6,this['scene']['updateShad'+'ers']=!(-0x2476+-0x243e+-0x122d*-0x4),this['updateSkyM'+'esh']());}get['type'](){return this['_type'];}set['center'](_0x2d06d9){this['_center']['copy'](_0x2d06d9);}get['center'](){return this['_center'];}set['depthWrite'](_0x5efb53){this['_depthWrit'+'e']!==_0x5efb53&&(this['_depthWrit'+'e']=_0x5efb53,this['skyMesh']&&(this['skyMesh']['depthWrite']=_0x5efb53));}get['depthWrite'](){return this['_depthWrit'+'e'];}['updateSkyM'+'esh'](){const _0x556df5=this['scene']['_getSkybox'+'Tex']();_0x556df5&&(this['resetSkyMe'+'sh'](),this['skyMesh']=new IA(this['device'],this['scene'],this['node'],_0x556df5,this['type']),this['skyMesh']['depthWrite']=this['_depthWrit'+'e'],this['scene']['fire']('set:skybox',_0x556df5));}['resetSkyMe'+'sh'](){var _0x1807e4;(_0x1807e4=this['skyMesh'])==null||_0x1807e4['destroy'](),this['skyMesh']=null;}['update'](){if(this['type']!==Bo){const {center:_0x3ae9ec,centerArray:_0x1a45d9}=this,_0x5dbadb=new D();this['node']['getWorldTr'+'ansform']()['transformP'+'oint'](_0x3ae9ec,_0x5dbadb),_0x1a45d9[-0x207c+0x1*-0x2467+0x44e3]=_0x5dbadb['x'],_0x1a45d9[-0x525+-0x11ec+-0x2*-0xb89]=_0x5dbadb['y'],_0x1a45d9[-0x8a8+0x1e4d+-0x1*0x15a3]=_0x5dbadb['z'],this['projectedS'+'kydomeCent'+'erId']['setValue'](_0x1a45d9);}}}const Ch=new Ie();Ch['worldTrans'+'form']=te['IDENTITY'],Ch['_dirtyWorl'+'d']=Ch['_dirtyNorm'+'al']=!(0x4*0x68c+-0x14e1*-0x1+-0x2f10);class RA{constructor(_0x24e147,_0x1abe3b,_0x138be7){this['material']=_0x1abe3b,this['layer']=_0x138be7,this['positions']=[],this['colors']=[],this['mesh']=new Ge(_0x24e147),this['meshInstan'+'ce']=null;}['addLines'](_0x2e723a,_0x1f6eec){const _0x26b83a=this['positions'],_0x6508e8=_0x2e723a['length'];for(let _0x2aa3f7=-0x91d*0x4+0x6b9*-0x5+-0x175b*-0x3;_0x2aa3f7<_0x6508e8;_0x2aa3f7++){const _0x31b247=_0x2e723a[_0x2aa3f7];_0x26b83a['push'](_0x31b247['x'],_0x31b247['y'],_0x31b247['z']);}const _0x4eb6fa=this['colors'];if(_0x1f6eec['length'])for(let _0x233b59=-0x6a7+-0x459+0xb00;_0x233b59<_0x6508e8;_0x233b59++){const _0x151125=_0x1f6eec[_0x233b59];_0x4eb6fa['push'](_0x151125['r'],_0x151125['g'],_0x151125['b'],_0x151125['a']);}else{for(let _0x5c77f9=-0x1*0x4e2+-0x839+0xd1b;_0x5c77f9<_0x6508e8;_0x5c77f9++)_0x4eb6fa['push'](_0x1f6eec['r'],_0x1f6eec['g'],_0x1f6eec['b'],_0x1f6eec['a']);}}['addLinesAr'+'rays'](_0x40252f,_0x114934){const _0x5c4745=this['positions'];for(let _0x221187=-0x11f2+-0x24bb*-0x1+-0x12c9;_0x221187<_0x40252f['length'];_0x221187+=-0x24*-0x10b+-0x786+0xd*-0x24f)_0x5c4745['push'](_0x40252f[_0x221187],_0x40252f[_0x221187+(0x1cdf+0x95f*0x1+-0x263d)],_0x40252f[_0x221187+(-0xb*0x13d+0xf02*-0x1+0x1ca3)]);const _0x5de8b6=this['colors'];if(_0x114934['length']){for(let _0x53be67=0x1a81+0x16fe+-0x317f;_0x53be67<_0x114934['length'];_0x53be67+=0xedd+0x1525+-0x23fe)_0x5de8b6['push'](_0x114934[_0x53be67],_0x114934[_0x53be67+(-0x248+0x1*-0x1f0d+0x2156)],_0x114934[_0x53be67+(-0x7a*-0x13+0x5d*-0x8+-0x624)],_0x114934[_0x53be67+(0xd78+0x1c49+-0x29be)]);}else{const _0x2d9dc5=_0x40252f['length']/(0x2*-0x448+-0xca7+0xf7*0x16);for(let _0x415d32=0x444+0x1*-0xbd4+-0x1*-0x790;_0x415d32<_0x2d9dc5;_0x415d32++)_0x5de8b6['push'](_0x114934['r'],_0x114934['g'],_0x114934['b'],_0x114934['a']);}}['onPreRende'+'r'](_0x4ed983,_0x5c70b5){this['positions']['length']>0x2b*0x6+0x517*-0x2+0x92c&&this['material']['transparen'+'t']===_0x5c70b5&&(this['mesh']['setPositio'+'ns'](this['positions']),this['mesh']['setColors'](this['colors']),this['mesh']['update'](hd,!(-0x182*0x4+-0x768+0xd71)),this['meshInstan'+'ce']||(this['meshInstan'+'ce']=new He(this['mesh'],this['material'],Ch)),_0x4ed983['push'](this['meshInstan'+'ce']));}['clear'](){this['positions']['length']=-0x9*-0x52+-0x1287+0xfa5,this['colors']['length']=0x16b9+-0x1*-0x723+-0x1ddc;}}class OA{constructor(_0xfdf390){this['device']=_0xfdf390,this['map']=new Map();}['getBatch'](_0x4221b6,_0x4cecb0){let _0x5af321=this['map']['get'](_0x4221b6);return _0x5af321||(_0x5af321=new RA(this['device'],_0x4221b6,_0x4cecb0),this['map']['set'](_0x4221b6,_0x5af321)),_0x5af321;}['onPreRende'+'r'](_0x2500c6,_0x345931){this['map']['forEach'](_0x3245a5=>{_0x3245a5['onPreRende'+'r'](_0x2500c6,_0x345931);});}['clear'](){this['map']['forEach'](_0x4b7035=>_0x4b7035['clear']());}}const Ts=[],Ba=new D();class FA{constructor(_0x27854e){h(this,'shaderDesc'+'s',new Map()),(this['device']=_0x27854e,this['quadMesh']=null,this['textureSha'+'der']=null,this['depthTextu'+'reShader']=null,this['cubeLocalP'+'os']=null,this['cubeWorldP'+'os']=null,this['batchesMap']=new Map(),this['allBatches']=new Set(),this['updatedLay'+'ers']=new Set(),this['_materialD'+'epth']=null,this['_materialN'+'oDepth']=null,this['layerMeshI'+'nstances']=new Map());}['createMate'+'rial'](_0x212514){const _0x4b909b=new Xn({'uniqueName':'ImmediateL'+'ine','vertexGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'ineVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('immediateL'+'inePS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'ineVS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('immediateL'+'inePS'),'attributes':{'vertex_position':Me,'vertex_color':Wt}});return _0x4b909b['blendType']=Zs,_0x4b909b['depthTest']=_0x212514,_0x4b909b['update'](),_0x4b909b;}get['materialDe'+'pth'](){return this['_materialD'+'epth']||(this['_materialD'+'epth']=this['createMate'+'rial'](!(0x1911+-0x1*0x1cc4+0x3b3))),this['_materialD'+'epth'];}get['materialNo'+'Depth'](){return this['_materialN'+'oDepth']||(this['_materialN'+'oDepth']=this['createMate'+'rial'](!(0x1fd*-0x12+0x393+-0x80e*-0x4))),this['_materialN'+'oDepth'];}['getBatch'](_0x5981f7,_0x5a908b){let _0x2954cd=this['batchesMap']['get'](_0x5981f7);_0x2954cd||(_0x2954cd=new OA(this['device']),this['batchesMap']['set'](_0x5981f7,_0x2954cd)),this['allBatches']['add'](_0x2954cd);const _0x4d119b=_0x5a908b?this['materialDe'+'pth']:this['materialNo'+'Depth'];return _0x2954cd['getBatch'](_0x4d119b,_0x5981f7);}['getShaderD'+'esc'](_0x388baf,_0x25b29e,_0x145d1f){return this['shaderDesc'+'s']['has'](_0x388baf)||this['shaderDesc'+'s']['set'](_0x388baf,{'uniqueName':'DebugShade'+'r:'+_0x388baf,'vertexGLSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20matr'+'ix_model;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ve'+'c2\x20uv0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_model\x20*\x20v'+'ec4(vertex'+'_position,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uv0\x20=\x20ve'+'rtex_posit'+'ion.xy\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20','vertexWGSL':'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20attribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20@ver'+'tex\x20fn\x20ver'+'texMain(in'+'put:\x20Verte'+'xInput)\x20->'+'\x20VertexOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20un'+'iform.matr'+'ix_model\x20*'+'\x20vec4f(inp'+'ut.vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.uv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20+\x20vec2f'+'(0.5);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20','fragmentGLSL':_0x25b29e,'fragmentWGSL':_0x145d1f,'attributes':{'vertex_position':Me}}),this['shaderDesc'+'s']['get'](_0x388baf);}['getTexture'+'ShaderDesc'](_0x4b1148){const _0x1baac2=Tr['decodeFunc'](_0x4b1148);return this['getShaderD'+'esc']('textureSha'+'der-'+_0x4b1148,'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20vec2\x20uv0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20colorMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20linear'+'Color\x20=\x20'+_0x1baac2+('(texture2D'+'(colorMap,'+'\x20uv0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(linearC'+'olor),\x201);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'),'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gammaPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20colorMa'+'pSampler:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20@fragment'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output:\x20Fr'+'agmentOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20sample'+'dTex\x20=\x20tex'+'tureSample'+'(colorMap,'+'\x20colorMapS'+'ampler,\x20in'+'put.uv0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'linearColo'+'r:\x20vec3f\x20='+'\x20'+_0x1baac2+('(sampledTe'+'x);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(gammaCorr'+'ectOutput('+'linearColo'+'r),\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20'));}['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](){return this['getShaderD'+'esc']('textureSha'+'derUnfilte'+'rable','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vec2\x20uv0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20highp\x20sam'+'pler2D\x20col'+'orMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'oid\x20main\x20('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'uv\x20=\x20ivec2'+'(uv0\x20*\x20tex'+'tureSize(c'+'olorMap,\x200'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'texelFetch'+'(colorMap,'+'\x20uv,\x200).xy'+'z,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20uv0:\x20vec'+'2f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'colorMap:\x20'+'texture_2d'+'<uff>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20@'+'fragment\x20f'+'n\x20fragment'+'Main(input'+'\x20:\x20Fragmen'+'tInput)\x20->'+'\x20FragmentO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'nput.uv0\x20*'+'\x20vec2f(tex'+'tureDimens'+'ions(color'+'Map,\x200)));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20fetchedCo'+'lor\x20:\x20vec4'+'f\x20=\x20textur'+'eLoad(colo'+'rMap,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20vec4f'+'(fetchedCo'+'lor.xyz,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20');}['getDepthTe'+'xtureShade'+'rDesc'](){return this['getShaderD'+'esc']('depthTextu'+'reShader','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20void\x20main'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x20getLi'+'nearScreen'+'Depth(getI'+'mageEffect'+'UV(uv0))\x20*'+'\x20camera_pa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(vec3(de'+'pth)),\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'gammaPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20u'+'v0:\x20vec2f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20@fragme'+'nt\x20fn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20depth'+':\x20f32\x20=\x20ge'+'tLinearScr'+'eenDepth(g'+'etImageEff'+'ectUV(inpu'+'t.uv0))\x20*\x20'+'uniform.ca'+'mera_param'+'s.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(vec3f(dep'+'th)),\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20');}['getQuadMes'+'h'](){return this['quadMesh']||(this['quadMesh']=new Ge(this['device']),this['quadMesh']['setPositio'+'ns']([-(0x2350+-0x7c+-0xb9c*0x3+0.5),-(0x2502+-0x1e3+-0x231f+0.5),-0x1c44+-0x1aa5+0x36e9,0x2080+-0xece+-0x11b2+0.5,-(-0x9c3+-0x106b+0x2*0xd17+0.5),-0xec+-0x1de8+0x1ed4,-(-0x4ef+-0x2*-0xf32+-0x1975+0.5),0xe3d+0x66e*0x5+-0x2e63*0x1+0.5,-0x250*-0x4+0x218f+0xe45*-0x3,0xd52+0x9d6+-0x8*0x2e5+0.5,-0x5e*0x57+0x5*0x435+0xae9+0.5,-0xaa1+0xeb4+0x7*-0x95]),this['quadMesh']['update'](Er)),this['quadMesh'];}['drawMesh'](_0x24d016,_0x1e2a92,_0x1a6765,_0x490a13,_0x1c510b){if(!_0x490a13){const _0x2c261d=this['getGraphNo'+'de'](_0x1e2a92);_0x490a13=new He(_0x1a6765,_0x24d016,_0x2c261d);}let _0x56da7c=this['layerMeshI'+'nstances']['get'](_0x1c510b);_0x56da7c||(_0x56da7c=[],this['layerMeshI'+'nstances']['set'](_0x1c510b,_0x56da7c)),_0x56da7c['push'](_0x490a13);}['drawWireAl'+'ignedBox'](_0x4a1ebc,_0x438e1a,_0x29e578,_0x27bb24,_0x254e8d,_0x52b2c7){if(_0x52b2c7){const _0x1c7a75=(_0x42a6dc,_0x4c8713,_0x177ed4)=>{Ba['set'](_0x42a6dc,_0x4c8713,_0x177ed4),_0x52b2c7['transformP'+'oint'](Ba,Ba),Ts['push'](Ba['x'],Ba['y'],Ba['z']);};_0x1c7a75(_0x4a1ebc['x'],_0x4a1ebc['y'],_0x4a1ebc['z']),_0x1c7a75(_0x4a1ebc['x'],_0x438e1a['y'],_0x4a1ebc['z']),_0x1c7a75(_0x4a1ebc['x'],_0x438e1a['y'],_0x4a1ebc['z']),_0x1c7a75(_0x438e1a['x'],_0x438e1a['y'],_0x4a1ebc['z']),_0x1c7a75(_0x438e1a['x'],_0x438e1a['y'],_0x4a1ebc['z']),_0x1c7a75(_0x438e1a['x'],_0x4a1ebc['y'],_0x4a1ebc['z']),_0x1c7a75(_0x438e1a['x'],_0x4a1ebc['y'],_0x4a1ebc['z']),_0x1c7a75(_0x4a1ebc['x'],_0x4a1ebc['y'],_0x4a1ebc['z']),_0x1c7a75(_0x4a1ebc['x'],_0x4a1ebc['y'],_0x438e1a['z']),_0x1c7a75(_0x4a1ebc['x'],_0x438e1a['y'],_0x438e1a['z']),_0x1c7a75(_0x4a1ebc['x'],_0x438e1a['y'],_0x438e1a['z']),_0x1c7a75(_0x438e1a['x'],_0x438e1a['y'],_0x438e1a['z']),_0x1c7a75(_0x438e1a['x'],_0x438e1a['y'],_0x438e1a['z']),_0x1c7a75(_0x438e1a['x'],_0x4a1ebc['y'],_0x438e1a['z']),_0x1c7a75(_0x438e1a['x'],_0x4a1ebc['y'],_0x438e1a['z']),_0x1c7a75(_0x4a1ebc['x'],_0x4a1ebc['y'],_0x438e1a['z']),_0x1c7a75(_0x4a1ebc['x'],_0x4a1ebc['y'],_0x4a1ebc['z']),_0x1c7a75(_0x4a1ebc['x'],_0x4a1ebc['y'],_0x438e1a['z']),_0x1c7a75(_0x4a1ebc['x'],_0x438e1a['y'],_0x4a1ebc['z']),_0x1c7a75(_0x4a1ebc['x'],_0x438e1a['y'],_0x438e1a['z']),_0x1c7a75(_0x438e1a['x'],_0x438e1a['y'],_0x4a1ebc['z']),_0x1c7a75(_0x438e1a['x'],_0x438e1a['y'],_0x438e1a['z']),_0x1c7a75(_0x438e1a['x'],_0x4a1ebc['y'],_0x4a1ebc['z']),_0x1c7a75(_0x438e1a['x'],_0x4a1ebc['y'],_0x438e1a['z']);}else Ts['push'](_0x4a1ebc['x'],_0x4a1ebc['y'],_0x4a1ebc['z'],_0x4a1ebc['x'],_0x438e1a['y'],_0x4a1ebc['z'],_0x4a1ebc['x'],_0x438e1a['y'],_0x4a1ebc['z'],_0x438e1a['x'],_0x438e1a['y'],_0x4a1ebc['z'],_0x438e1a['x'],_0x438e1a['y'],_0x4a1ebc['z'],_0x438e1a['x'],_0x4a1ebc['y'],_0x4a1ebc['z'],_0x438e1a['x'],_0x4a1ebc['y'],_0x4a1ebc['z'],_0x4a1ebc['x'],_0x4a1ebc['y'],_0x4a1ebc['z'],_0x4a1ebc['x'],_0x4a1ebc['y'],_0x438e1a['z'],_0x4a1ebc['x'],_0x438e1a['y'],_0x438e1a['z'],_0x4a1ebc['x'],_0x438e1a['y'],_0x438e1a['z'],_0x438e1a['x'],_0x438e1a['y'],_0x438e1a['z'],_0x438e1a['x'],_0x438e1a['y'],_0x438e1a['z'],_0x438e1a['x'],_0x4a1ebc['y'],_0x438e1a['z'],_0x438e1a['x'],_0x4a1ebc['y'],_0x438e1a['z'],_0x4a1ebc['x'],_0x4a1ebc['y'],_0x438e1a['z'],_0x4a1ebc['x'],_0x4a1ebc['y'],_0x4a1ebc['z'],_0x4a1ebc['x'],_0x4a1ebc['y'],_0x438e1a['z'],_0x4a1ebc['x'],_0x438e1a['y'],_0x4a1ebc['z'],_0x4a1ebc['x'],_0x438e1a['y'],_0x438e1a['z'],_0x438e1a['x'],_0x438e1a['y'],_0x4a1ebc['z'],_0x438e1a['x'],_0x438e1a['y'],_0x438e1a['z'],_0x438e1a['x'],_0x4a1ebc['y'],_0x4a1ebc['z'],_0x438e1a['x'],_0x4a1ebc['y'],_0x438e1a['z']);this['getBatch'](_0x254e8d,_0x27bb24)['addLinesAr'+'rays'](Ts,_0x29e578),Ts['length']=-0x1*-0x1544+0xfa7*0x2+-0x3492;}['drawWireSp'+'here'](_0x3a8bb8,_0x2f0aa0,_0x37462d,_0x50ea71,_0x314191,_0x1b1b91){const _0x2dbb89=(0x1851*0x1+-0x482*0x4+-0x1*0x647)*Math['PI']/_0x50ea71;let _0x31b761=0x109*-0x2+0x1*0x1237+-0x1025;for(let _0x47e273=-0xf2*0x8+-0x391+0x103*0xb;_0x47e273<_0x50ea71;_0x47e273++){const _0x3b34de=Math['sin'](_0x31b761),_0x5d5e11=Math['cos'](_0x31b761);_0x31b761+=_0x2dbb89;const _0x14740b=Math['sin'](_0x31b761),_0x2b69cd=Math['cos'](_0x31b761);Ts['push'](_0x3a8bb8['x']+_0x2f0aa0*_0x3b34de,_0x3a8bb8['y'],_0x3a8bb8['z']+_0x2f0aa0*_0x5d5e11),Ts['push'](_0x3a8bb8['x']+_0x2f0aa0*_0x14740b,_0x3a8bb8['y'],_0x3a8bb8['z']+_0x2f0aa0*_0x2b69cd),Ts['push'](_0x3a8bb8['x']+_0x2f0aa0*_0x3b34de,_0x3a8bb8['y']+_0x2f0aa0*_0x5d5e11,_0x3a8bb8['z']),Ts['push'](_0x3a8bb8['x']+_0x2f0aa0*_0x14740b,_0x3a8bb8['y']+_0x2f0aa0*_0x2b69cd,_0x3a8bb8['z']),Ts['push'](_0x3a8bb8['x'],_0x3a8bb8['y']+_0x2f0aa0*_0x3b34de,_0x3a8bb8['z']+_0x2f0aa0*_0x5d5e11),Ts['push'](_0x3a8bb8['x'],_0x3a8bb8['y']+_0x2f0aa0*_0x14740b,_0x3a8bb8['z']+_0x2f0aa0*_0x2b69cd);}this['getBatch'](_0x1b1b91,_0x314191)['addLinesAr'+'rays'](Ts,_0x37462d),Ts['length']=0x12d3+-0xb50*-0x3+0xd*-0x40f;}['getGraphNo'+'de'](_0x22a550){const _0x5f3eb9=new Ie('ImmediateD'+'ebug');return _0x5f3eb9['worldTrans'+'form']=_0x22a550,_0x5f3eb9['_dirtyWorl'+'d']=_0x5f3eb9['_dirtyNorm'+'al']=!(0x49b*0x2+0x11f5+-0x487*0x6),_0x5f3eb9;}['onPreRende'+'rLayer'](_0x515edc,_0x2e34b6,_0x429cc9){if(this['batchesMap']['forEach']((_0xcfe5f7,_0x4aab9b)=>{_0x4aab9b===_0x515edc&&_0xcfe5f7['onPreRende'+'r'](_0x2e34b6,_0x429cc9);}),!this['updatedLay'+'ers']['has'](_0x515edc)){this['updatedLay'+'ers']['add'](_0x515edc);const _0x1be5ba=this['layerMeshI'+'nstances']['get'](_0x515edc);if(_0x1be5ba){for(let _0x275351=-0x1108+-0x21*-0x9a+-0x2d2;_0x275351<_0x1be5ba['length'];_0x275351++)_0x2e34b6['push'](_0x1be5ba[_0x275351]);_0x1be5ba['length']=-0x16f1+0x2*0x441+-0xe6f*-0x1;}}}['onPostRend'+'er'](){this['allBatches']['forEach'](_0x1ccfcb=>_0x1ccfcb['clear']()),this['allBatches']['clear'](),this['updatedLay'+'ers']['clear']();}}class NA{constructor(){h(this,'type',Kn),h(this,'color',new ie(-0x1*0x3ec+0x4fc*0x3+-0x1*0xb08,0x5*0x739+-0x308*0xa+-0xa5*0x9,0x1c2a+-0xa6+-0x496*0x6)),h(this,'density',-0x9*0x2bd+0x467+0x1*0x143e),h(this,'start',-0x122b*0x2+-0x1*-0x16a+0x22ed*0x1),h(this,'end',-0x5c+0x3*-0x75+0x27*0x25);}}class Et extends me{constructor(_0x89eee8){super(),h(this,'ambientBak'+'e',!(-0x199a+-0x4ab*-0x1+-0x10c*-0x14)),h(this,'ambientBak'+'eOcclusion'+'Brightness',-0x1778+-0x17*0x25+0x13*0x169),h(this,'ambientBak'+'eOcclusion'+'Contrast',-0x39a*-0xa+0x3*0xa6+0xe2*-0x2b),h(this,'ambientLig'+'ht',new ie(-0x2*-0xdc9+-0x3df+-0x17b3,0x2448+-0xd*0xf8+-0x17b0*0x1,-0x1*-0x1fe1+0x384*0x8+-0x3c01)),h(this,'ambientLum'+'inance',0x24ad+-0x1193+-0x1e9*0xa),h(this,'exposure',0x50*-0xb+0x19*0x15d+0x4a*-0x6a),h(this,'lightmapSi'+'zeMultipli'+'er',-0xa*-0x2c6+0x3*0x4c0+0x29fb*-0x1),h(this,'lightmapMa'+'xResolutio'+'n',0x2641+0x3*-0x3c9+-0x973*0x2),h(this,'lightmapMo'+'de',jc),h(this,'lightmapFi'+'lterEnable'+'d',!(0x566+0x8b4+-0xe19*0x1)),h(this,'lightmapHD'+'R',!(-0x1d43+-0x7*-0x502+-0x5ca)),h(this,'root',null),h(this,'physicalUn'+'its',!(-0x85*0x4+-0x1a*-0xa3+-0xe79)),h(this,'_envAtlas',null),h(this,'_skyboxCub'+'eMap',null),h(this,'_fogParams',new NA()),h(this,'forcePassT'+'hroughSpec'+'ular',!(0x19fc+-0xb2b+-0xed0)),(w['assert'](_0x89eee8,'Scene\x20cons'+'tructor\x20ta'+'kes\x20a\x20Grap'+'hicsDevice'+'\x20as\x20a\x20para'+'meter,\x20and'+'\x20it\x20was\x20no'+'t\x20provided'+'.'),this['device']=_0x89eee8,this['_gravity']=new D(0xf3a*-0x1+-0x1*0x12db+0x2215,-(-0x5c*-0x15+0xb*-0x2e6+0x185f+0.8000000000000007),0x2432+0x8*0x21b+-0x350a),this['_layers']=null,this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']=null,this['_skyboxInt'+'ensity']=0xeca+-0x5a1+0x928*-0x1,this['_skyboxLum'+'inance']=0x1*-0x1080+-0x14d5*0x1+-0x2555*-0x1,this['_skyboxMip']=-0x10c1*0x1+0x1d2e+0xc6d*-0x1,this['_skyboxHig'+'hlightMult'+'iplier']=0x1262+0x1c7d+-0x2ede,this['_skyboxRot'+'ationShade'+'rInclude']=!(0x421+0x238a*-0x1+0xfb5*0x2),this['_skyboxRot'+'ation']=new le(),this['_skyboxRot'+'ationMat3']=new _i(),this['_skyboxRot'+'ationMat4']=new te(),this['_ambientBa'+'keNumSampl'+'es']=-0xb*-0x22f+0x1*-0x446+-0x13be,this['_ambientBa'+'keSpherePa'+'rt']=-0x1c5f*-0x1+0xfe7+-0x6*0x761+0.4,this['_lightmapF'+'ilterRange']=0x4*-0x5f2+-0x86+-0x98*-0x29,this['_lightmapF'+'ilterSmoot'+'hness']=-0x18b*0x2+0x1c3d*0x1+-0x1927+0.2,this['_clustered'+'LightingEn'+'abled']=!(-0x1484+-0x1d4+0x1658),this['_lightingP'+'arams']=new Mv(this['device']['supportsAr'+'eaLights'],this['device']['maxTexture'+'Size'],()=>{this['updateShad'+'ers']=!(0xc5+-0x428+0x1*0x363);}),this['_sky']=new LA(this),this['_stats']={'meshInstances':0x0,'lights':0x0,'dynamicLights':0x0,'bakedLights':0x0,'updateShadersTime':0x0},this['updateShad'+'ers']=!(-0x337*0x6+0x1*0x1c45+-0xd1*0xb),this['_shaderVer'+'sion']=0x78*-0x6+0xd*-0x1ff+0x1cc3,this['immediate']=new FA(this['device']));}get['defaultDra'+'wLayer'](){return this['layers']['getLayerBy'+'Id'](Zp);}set['ambientBak'+'eNumSample'+'s'](_0x1b6c7a){this['_ambientBa'+'keNumSampl'+'es']=Y['clamp'](Math['floor'](_0x1b6c7a),-0x1045+0x1ddc+-0x2*0x6cb,-0x746+-0x44e+0x431*0x3);}get['ambientBak'+'eNumSample'+'s'](){return this['_ambientBa'+'keNumSampl'+'es'];}set['ambientBak'+'eSpherePar'+'t'](_0x390564){this['_ambientBa'+'keSpherePa'+'rt']=Y['clamp'](_0x390564,-0xc2a+-0x188*0x2+-0x2*-0x79d+0.001,0x1*-0x3c1+-0x883*-0x4+-0x1e4a*0x1);}get['ambientBak'+'eSpherePar'+'t'](){return this['_ambientBa'+'keSpherePa'+'rt'];}set['clusteredL'+'ightingEna'+'bled'](_0x702043){if(this['device']['isWebGPU']&&!_0x702043){w['warnOnce']('WebGPU\x20cur'+'rently\x20onl'+'y\x20supports'+'\x20clustered'+'\x20lighting,'+'\x20and\x20this\x20'+'cannot\x20be\x20'+'disabled.');return;}if(!this['_clustered'+'LightingEn'+'abled']&&_0x702043){console['error']('Turning\x20on'+'\x20disabled\x20'+'clustered\x20'+'lighting\x20i'+'s\x20not\x20curr'+'ently\x20supp'+'orted');return;}this['_clustered'+'LightingEn'+'abled']=_0x702043;}get['clusteredL'+'ightingEna'+'bled'](){return this['_clustered'+'LightingEn'+'abled'];}set['envAtlas'](_0x29179d){_0x29179d!==this['_envAtlas']&&(this['_envAtlas']=_0x29179d,_0x29179d&&(_0x29179d['addressU']=ue,_0x29179d['addressV']=ue,_0x29179d['minFilter']=vt,_0x29179d['magFilter']=vt,_0x29179d['mipmaps']=!(-0x2304+0x17d3+0xb32)),this['_prefilter'+'edCubemaps']=[],this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_resetSkyM'+'esh']());}get['envAtlas'](){return this['_envAtlas'];}set['layers'](_0x3e4f3a){const _0x13bc89=this['_layers'];this['_layers']=_0x3e4f3a,this['fire']('set:layers',_0x13bc89,_0x3e4f3a);}get['layers'](){return this['_layers'];}get['sky'](){return this['_sky'];}get['lighting'](){return this['_lightingP'+'arams'];}get['fog'](){return this['_fogParams'];}set['lightmapFi'+'lterRange'](_0x4dd9ea){this['_lightmapF'+'ilterRange']=Math['max'](_0x4dd9ea,0x3e*-0x48+-0x252d+0x369d+0.001);}get['lightmapFi'+'lterRange'](){return this['_lightmapF'+'ilterRange'];}set['lightmapFi'+'lterSmooth'+'ness'](_0x4fed24){this['_lightmapF'+'ilterSmoot'+'hness']=Math['max'](_0x4fed24,0x1a74+0x56f+-0x1fe3+0.001);}get['lightmapFi'+'lterSmooth'+'ness'](){return this['_lightmapF'+'ilterSmoot'+'hness'];}set['prefiltere'+'dCubemaps'](_0x117d6f){_0x117d6f=_0x117d6f||[];const _0x43412c=this['_prefilter'+'edCubemaps'];(_0x43412c['length']!==_0x117d6f['length']||_0x43412c['some']((_0x5148bc,_0x3ccb10)=>_0x5148bc!==_0x117d6f[_0x3ccb10]))&&(_0x117d6f['length']===-0x7f9*-0x4+0x3b*0x49+-0x30b1&&_0x117d6f['every'](_0x111c53=>!!_0x111c53)?(this['_internalE'+'nvAtlas']=Tv['generatePr'+'efilteredA'+'tlas'](_0x117d6f,{'target':this['_internalE'+'nvAtlas']}),this['_envAtlas']=this['_internalE'+'nvAtlas']):(this['_internalE'+'nvAtlas']&&(this['_internalE'+'nvAtlas']['destroy'](),this['_internalE'+'nvAtlas']=null),this['_envAtlas']=null),this['_prefilter'+'edCubemaps']=_0x117d6f['slice'](),this['_resetSkyM'+'esh']());}get['prefiltere'+'dCubemaps'](){return this['_prefilter'+'edCubemaps'];}set['skybox'](_0x33817f){_0x33817f!==this['_skyboxCub'+'eMap']&&(this['_skyboxCub'+'eMap']=_0x33817f,this['_resetSkyM'+'esh']());}get['skybox'](){return this['_skyboxCub'+'eMap'];}set['skyboxInte'+'nsity'](_0x23e1a6){_0x23e1a6!==this['_skyboxInt'+'ensity']&&(this['_skyboxInt'+'ensity']=_0x23e1a6,this['_resetSkyM'+'esh']());}get['skyboxInte'+'nsity'](){return this['_skyboxInt'+'ensity'];}set['skyboxLumi'+'nance'](_0x30dc56){_0x30dc56!==this['_skyboxLum'+'inance']&&(this['_skyboxLum'+'inance']=_0x30dc56,this['_resetSkyM'+'esh']());}get['skyboxLumi'+'nance'](){return this['_skyboxLum'+'inance'];}set['skyboxMip'](_0x5cbb0d){_0x5cbb0d!==this['_skyboxMip']&&(this['_skyboxMip']=_0x5cbb0d,this['_resetSkyM'+'esh']());}get['skyboxMip'](){return this['_skyboxMip'];}set['skyboxHigh'+'lightMulti'+'plier'](_0x415ef7){_0x415ef7!==this['_skyboxHig'+'hlightMult'+'iplier']&&(this['_skyboxHig'+'hlightMult'+'iplier']=_0x415ef7,this['_resetSkyM'+'esh']());}get['skyboxHigh'+'lightMulti'+'plier'](){return this['_skyboxHig'+'hlightMult'+'iplier'];}set['skyboxRota'+'tion'](_0x4763fc){if(!this['_skyboxRot'+'ation']['equals'](_0x4763fc)){const _0x49aadc=_0x4763fc['equals'](le['IDENTITY']);this['_skyboxRot'+'ation']['copy'](_0x4763fc),_0x49aadc?this['_skyboxRot'+'ationMat3']['setIdentit'+'y']():(this['_skyboxRot'+'ationMat4']['setTRS'](D['ZERO'],_0x4763fc,D['ONE']),this['_skyboxRot'+'ationMat3']['invertMat4'](this['_skyboxRot'+'ationMat4'])),!this['_skyboxRot'+'ationShade'+'rInclude']&&!_0x49aadc&&(this['_skyboxRot'+'ationShade'+'rInclude']=!(-0x4d*0x4d+-0x2*0x840+0x27a9),this['_resetSkyM'+'esh']());}}get['skyboxRota'+'tion'](){return this['_skyboxRot'+'ation'];}['destroy'](){this['_resetSkyM'+'esh'](),this['root']=null,this['off']();}['drawLine'](_0x36529a,_0x262c8d,_0x3330dd=ie['WHITE'],_0xe23263=!(0x1d59+0x71e*-0x4+-0x5*0x2d),_0x12218e=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x12218e,_0xe23263)['addLines']([_0x36529a,_0x262c8d],[_0x3330dd,_0x3330dd]);}['drawLines'](_0x15a98c,_0x4e2d70,_0x538041=!(-0xcf*-0x8+0xc51*-0x3+0x1e7b),_0x167be1=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x167be1,_0x538041)['addLines'](_0x15a98c,_0x4e2d70);}['drawLineAr'+'rays'](_0x3878ce,_0xd27687,_0x77a4cd=!(-0xd72+0x1dd*-0x12+-0x4*-0xbbf),_0x16ebb5=this['defaultDra'+'wLayer']){this['immediate']['getBatch'](_0x16ebb5,_0x77a4cd)['addLinesAr'+'rays'](_0x3878ce,_0xd27687);}['applySetti'+'ngs'](_0x173e34){const _0x204a56=_0x173e34['physics'],_0x3e72d7=_0x173e34['render'];this['_gravity']['set'](_0x204a56['gravity'][0x1744+0x1*-0xe87+-0x8bd],_0x204a56['gravity'][0x1*0x3ef+-0x1aa7*-0x1+-0x1e95],_0x204a56['gravity'][-0xa2b*0x1+0x295*-0x4+0x1d*0xb5]),this['ambientLig'+'ht']['set'](_0x3e72d7['global_amb'+'ient'][-0x1037+-0x28*0x1f+0x257*0x9],_0x3e72d7['global_amb'+'ient'][-0xe5*0x12+-0xe66+-0x1e81*-0x1],_0x3e72d7['global_amb'+'ient'][0x1*0x21fb+0x1*-0x28+-0x21d1]),this['ambientLum'+'inance']=_0x3e72d7['ambientLum'+'inance'],this['fog']['type']=_0x3e72d7['fog'],this['fog']['color']['set'](_0x3e72d7['fog_color'][0x7*-0x369+-0x7cd+-0x4*-0x7eb],_0x3e72d7['fog_color'][-0x269e*-0x1+-0x2116*-0x1+-0x47b3],_0x3e72d7['fog_color'][-0xd3f*0x1+0x1ed3+-0x1192]),this['fog']['start']=_0x3e72d7['fog_start'],this['fog']['end']=_0x3e72d7['fog_end'],this['fog']['density']=_0x3e72d7['fog_densit'+'y'],this['lightmapSi'+'zeMultipli'+'er']=_0x3e72d7['lightmapSi'+'zeMultipli'+'er'],this['lightmapMa'+'xResolutio'+'n']=_0x3e72d7['lightmapMa'+'xResolutio'+'n'],this['lightmapMo'+'de']=_0x3e72d7['lightmapMo'+'de'],this['exposure']=_0x3e72d7['exposure'],this['_skyboxInt'+'ensity']=_0x3e72d7['skyboxInte'+'nsity']??0x15f*-0xc+-0x1a7+0x121c,this['_skyboxLum'+'inance']=_0x3e72d7['skyboxLumi'+'nance']??0x24b*0x1a+-0x9b2+0x1c34,this['_skyboxMip']=_0x3e72d7['skyboxMip']??0xa6c+0x1d9c+0x8*-0x501,_0x3e72d7['skyboxRota'+'tion']&&(this['skyboxRota'+'tion']=new le()['setFromEul'+'erAngles'](_0x3e72d7['skyboxRota'+'tion'][-0x1300+-0x1*0x1204+0x2504],_0x3e72d7['skyboxRota'+'tion'][-0x8f4*0x2+-0x1*-0xd2f+0xb*0x6e],_0x3e72d7['skyboxRota'+'tion'][0x2230+0x1758+-0x3986])),this['sky']['applySetti'+'ngs'](_0x3e72d7),this['clusteredL'+'ightingEna'+'bled']=_0x3e72d7['clusteredL'+'ightingEna'+'bled']??!(0x1*0xa3+0x1061*-0x2+0x2020),this['lighting']['applySetti'+'ngs'](_0x3e72d7),['lightmapFi'+'lterEnable'+'d','lightmapFi'+'lterRange','lightmapFi'+'lterSmooth'+'ness','ambientBak'+'e','ambientBak'+'eNumSample'+'s','ambientBak'+'eSpherePar'+'t','ambientBak'+'eOcclusion'+'Brightness','ambientBak'+'eOcclusion'+'Contrast']['forEach'](_0x16a3de=>{_0x3e72d7['hasOwnProp'+'erty'](_0x16a3de)&&(this[_0x16a3de]=_0x3e72d7[_0x16a3de]);}),this['_resetSkyM'+'esh']();}['_getSkybox'+'Tex'](){const _0x7151aa=this['_prefilter'+'edCubemaps'];return this['_skyboxMip']?_0x7151aa[[-0x13*-0x49+-0x442+0x3*-0x63,0xbdd+0x1*0x2051+-0x2c2d,-0x177b*0x1+-0x1d92+0x3510,-0x1d3a+-0x26b*-0x7+-0x3*-0x41b,-0xa66+0x83d*0x3+-0xe4c,-0x23f8*0x1+0x1484+0xf7a][this['_skyboxMip']]]||this['_envAtlas']||_0x7151aa[-0x6*-0x27b+0xe*0x7b+-0x159c]||this['_skyboxCub'+'eMap']:this['_skyboxCub'+'eMap']||_0x7151aa[0x107b*-0x2+0xbe2+-0x13*-0x11c]||this['_envAtlas'];}['_updateSky'+'Mesh'](){this['sky']['skyMesh']||this['sky']['updateSkyM'+'esh'](),this['sky']['update']();}['_resetSkyM'+'esh'](){this['sky']['resetSkyMe'+'sh'](),this['updateShad'+'ers']=!(-0x9df*0x1+0x176d+-0xd8e);}['setSkybox'](_0x558f71){_0x558f71?(this['skybox']=_0x558f71[0x3b*-0xa4+0x1681+0x91*0x1b]||null,_0x558f71[-0x19dd+0x25e4+-0x12*0xab]&&!_0x558f71[0x2a9*-0x9+-0x7de+0x1fd0]['cubemap']?this['envAtlas']=_0x558f71[0x2682*-0x1+-0x33*0x45+0x3442]:this['prefiltere'+'dCubemaps']=_0x558f71['slice'](-0x1*0xa36+0x165e+-0x1*0xc27)):(this['skybox']=null,this['envAtlas']=null);}get['lightmapPi'+'xelFormat'](){return this['lightmapHD'+'R']&&this['device']['getRendera'+'bleHdrForm'+'at']()||Ne;}}h(Et,'EVENT_SETL'+'AYERS','set:layers'),h(Et,'EVENT_SETS'+'KYBOX','set:skybox'),h(Et,'EVENT_PRER'+'ENDER','prerender'),h(Et,'EVENT_POST'+'RENDER','postrender'),h(Et,'EVENT_PRER'+'ENDER_LAYE'+'R','prerender:'+'layer'),h(Et,'EVENT_POST'+'RENDER_LAY'+'ER','postrender'+':layer'),h(Et,'EVENT_PREC'+'ULL','precull'),h(Et,'EVENT_POST'+'CULL','postcull');class Lv{constructor(_0x4ba61f,_0x503662,_0x42f9d8){this['device']=_0x4ba61f,this['inverseBin'+'dPose']=_0x503662,this['boneNames']=_0x42f9d8;}}const kA=[0x1*-0x395+-0x5b*-0x25+0x19*-0x62,0x1a89+-0x2662+-0x151*-0x9,-0x1*-0x80f+-0x85d+0x4f*0x1,-0xcf7*0x2+0x1*0x1e5+0x36f*0x7,0x18a0+0x1503+-0x2da3,0x17*0x14b+0x20ce+0x1f45*-0x2,0x51*0x37+-0x226*-0xa+-0x26e3,-0x4cf*0x8+0x1a6c+0xc0c,-0x34*0xa9+0x87e+0x19d7,-0x1c71*0x1+-0xaf2+0x2763,-0xb07+-0x17ce+0xf1*0x25,0x8a*0x3+-0x50d+0xdc*0x4],UA=[-0x1*-0x865+-0x40a*0x8+-0x7f9*-0x3,-0x5f7+-0x2*-0xe7d+0x24d*-0xa,-0x23fa*-0x1+0x8fd*0x2+-0x35f1,0x49*0x49+-0x8ef*-0x2+-0x26ad,0x1e42+0x1eb7+0x9*-0x6c6,-0x1*0x2c9+-0x237b*-0x1+0x1*-0x20b1];class BA extends me{constructor(_0x4571e9,_0xcdb705){super(),this['_device']=_0x4571e9,this['_pixelsPer'+'Unit']=_0xcdb705&&_0xcdb705['pixelsPerU'+'nit']!==void(-0x204b+-0xb*0x43+0x232c)?_0xcdb705['pixelsPerU'+'nit']:-0xa5f*-0x1+-0x26cd+0x1d*0xfb,this['_renderMod'+'e']=_0xcdb705&&_0xcdb705['renderMode']!==void(-0x683*0x1+0x26f*0x9+0x3d9*-0x4)?_0xcdb705['renderMode']:ci,this['_atlas']=_0xcdb705&&_0xcdb705['atlas']!==void(0xd03+0x2e*0x1d+0x3a5*-0x5)?_0xcdb705['atlas']:null,this['_frameKeys']=_0xcdb705&&_0xcdb705['frameKeys']!==void(0x31b+0xc2*0x13+0x1181*-0x1)?_0xcdb705['frameKeys']:null,this['_meshes']=[],this['_updatingP'+'roperties']=!(0xab9+0x149*0xc+-0x1a24),this['_meshesDir'+'ty']=!(0x22d8+-0xf0b+-0x13cc*0x1),this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes']();}set['frameKeys'](_0x28a5d3){this['_frameKeys']=_0x28a5d3,this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0x1fc5+-0x251c+0x4d*0xe5):this['_createMes'+'hes']()),this['fire']('set:frameK'+'eys',_0x28a5d3);}get['frameKeys'](){return this['_frameKeys'];}set['atlas'](_0x2971bd){_0x2971bd!==this['_atlas']&&(this['_atlas']&&(this['_atlas']['off']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['off']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['off']('remove:fra'+'me',this['_onFrameRe'+'moved'],this)),this['_atlas']=_0x2971bd,this['_atlas']&&this['_frameKeys']&&(this['_atlas']['on']('set:frames',this['_onSetFram'+'es'],this),this['_atlas']['on']('set:frame',this['_onFrameCh'+'anged'],this),this['_atlas']['on']('remove:fra'+'me',this['_onFrameRe'+'moved'],this),this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x87b+0xaf6+-0x1371):this['_createMes'+'hes']()),this['fire']('set:atlas',_0x2971bd));}get['atlas'](){return this['_atlas'];}set['pixelsPerU'+'nit'](_0x955e52){this['_pixelsPer'+'Unit']!==_0x955e52&&(this['_pixelsPer'+'Unit']=_0x955e52,this['fire']('set:pixels'+'PerUnit',_0x955e52),this['_atlas']&&this['_frameKeys']&&this['renderMode']===ci&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(-0xe*0x283+0xc41+0x16e9):this['_createMes'+'hes']()));}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}set['renderMode'](_0x5b2610){if(this['_renderMod'+'e']===_0x5b2610)return;const _0x1211a1=this['_renderMod'+'e'];this['_renderMod'+'e']=_0x5b2610,this['fire']('set:render'+'Mode',_0x5b2610),(_0x1211a1===ci||_0x5b2610===ci)&&this['_atlas']&&this['_frameKeys']&&(this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x481+-0x1ae8+-0x47b*-0x5):this['_createMes'+'hes']());}get['renderMode'](){return this['_renderMod'+'e'];}get['meshes'](){return this['_meshes'];}['_createMes'+'hes'](){const _0x4f4d49=this['_meshes']['length'];for(let _0x4f1993=0x1b88+-0x14dc+-0x6ac;_0x4f1993<_0x4f4d49;_0x4f1993++){const _0x3634e4=this['_meshes'][_0x4f1993];_0x3634e4&&_0x3634e4['destroy']();}const _0x253fd0=this['_frameKeys']['length'];this['_meshes']=new Array(_0x253fd0);const _0x376148=this['renderMode']===Pt||this['_renderMod'+'e']===Mt?this['_create9Sl'+'iceMesh']:this['_createSim'+'pleMesh'];for(let _0x44e345=0x132c+0xa*-0xf7+-0x986;_0x44e345<_0x253fd0;_0x44e345++){const _0x1303fb=this['_atlas']['frames'][this['_frameKeys'][_0x44e345]];this['_meshes'][_0x44e345]=_0x1303fb?_0x376148['call'](this,_0x1303fb):null;}this['fire']('set:meshes');}['_createSim'+'pleMesh'](_0x110ded){const _0x55a237=_0x110ded['rect'],_0x52435a=this['_atlas']['texture']['width'],_0xf6f24e=this['_atlas']['texture']['height'],_0x270bd5=_0x55a237['z']/this['_pixelsPer'+'Unit'],_0x1ce9bc=_0x55a237['w']/this['_pixelsPer'+'Unit'],_0x163464=_0x110ded['pivot']['x'],_0x4ae527=_0x110ded['pivot']['y'],_0x27c10c=[-_0x163464*_0x270bd5,-_0x4ae527*_0x1ce9bc,-0x917+0x3*0x63+0x7ee,(0x917*-0x3+0x10c1+0xa85-_0x163464)*_0x270bd5,-_0x4ae527*_0x1ce9bc,-0x1408+0x275+-0x1193*-0x1,(0x4e5+0x1*-0x12e5+0xe01-_0x163464)*_0x270bd5,(-0x885*0x3+0x1*0x9db+0xfb5-_0x4ae527)*_0x1ce9bc,-0x1fa1+0x1*0x1345+-0x2*-0x62e,-_0x163464*_0x270bd5,(0x1605+-0x3*-0x534+-0x25a0-_0x4ae527)*_0x1ce9bc,-0xc60+0x1e44+-0xa*0x1ca],_0x42f396=_0x55a237['x']/_0x52435a,_0x3e6317=0x2107+0x10ff+-0x3205-_0x55a237['y']/_0xf6f24e,_0x32b9b5=(_0x55a237['x']+_0x55a237['z'])/_0x52435a,_0x4b13d5=0x6c1*0x1+0x4*0x690+-0x2100-(_0x55a237['y']+_0x55a237['w'])/_0xf6f24e,_0x1d71a1=[_0x42f396,_0x3e6317,_0x32b9b5,_0x3e6317,_0x32b9b5,_0x4b13d5,_0x42f396,_0x4b13d5],_0xec9b39=new Ta();return _0xec9b39['positions']=_0x27c10c,_0xec9b39['normals']=kA,_0xec9b39['uvs']=_0x1d71a1,_0xec9b39['indices']=UA,Ge['fromGeomet'+'ry'](this['_device'],_0xec9b39);}['_create9Sl'+'iceMesh'](){const _0x1307d0=J['ONE'],_0x3b97a9=-0x1*0xa1b+-0x1*-0x1716+-0xcf8,_0x2b161b=-0x15fa+-0xd17+0x4*0x8c5,_0x17a1e0=[],_0x297562=[],_0xd08c72=[],_0x583138=[];let _0x1b910d=-0xf*-0xa7+-0x11c9*0x1+-0x8*-0x100;for(let _0x35b1c3=0x339+0x568+-0x8a1;_0x35b1c3<=_0x3b97a9;_0x35b1c3++){const _0x24b577=_0x35b1c3===-0x2d0+-0x5a7+0x877||_0x35b1c3===_0x3b97a9?0x893+0x321*-0x7+0xd54:-0x191*-0x5+0x184b+-0xab5*0x3;for(let _0x4a9eaf=0x1653+-0x9*0x209+-0x402;_0x4a9eaf<=_0x2b161b;_0x4a9eaf++){const _0x1b30b9=-_0x1307d0['x']+(-0x40f*-0x1+0x81e*0x2+0x9*-0x241)*_0x1307d0['x']*(_0x35b1c3<=-0x1bf*0x3+0xd46+0x101*-0x8?-0x15d2+0x1ef1*-0x1+-0x34c3*-0x1:-0x5*-0x3ee+0x49b*0x3+-0x2174)/_0x3b97a9,_0x4c8c17=0x1868+0x2*0xc5+-0xa2*0x29,_0x4ffa94=-(-_0x1307d0['y']+(0x10a0+0x198b*0x1+0x2b*-0xfb)*_0x1307d0['y']*(_0x4a9eaf<=0xd*0xca+-0x1*0x93a+-0x1*0x107?0x90*-0x31+0x60d*0x1+-0x1*-0x1583:-0x22*0x20+0x11*-0x85+0xd18*0x1)/_0x2b161b),_0x8b47b9=_0x4a9eaf===0x2a5*-0x2+-0x1b5e+0x20a8||_0x4a9eaf===_0x2b161b?0x10f+-0x1b33+0x2*0xd12:0x1a74+-0x146c+-0x607;_0x17a1e0['push'](-_0x1b30b9,_0x4c8c17,_0x4ffa94),_0x297562['push'](0x9*0x2cc+-0xbb7*-0x1+-0x24e3,0xf2*-0x5+-0x2381*-0x1+-0x1ec6,-0x26ef+0x1c11+0x2*0x56f),_0xd08c72['push'](_0x24b577,_0x8b47b9),_0x35b1c3<_0x3b97a9&&_0x4a9eaf<_0x2b161b&&(_0x583138['push'](_0x1b910d+_0x2b161b+(0x13*-0x181+0xa56+-0xa*-0x1d3),_0x1b910d+(-0xca6*-0x1+-0x1384+0x6df),_0x1b910d),_0x583138['push'](_0x1b910d+_0x2b161b+(-0x1*0x2531+0xb84+0x19ae),_0x1b910d+_0x2b161b+(0xa*0x33d+0x1d76+-0x2*0x1eeb),_0x1b910d+(0x112a*-0x1+0xc1d*0x2+0xd*-0x8b))),_0x1b910d++;}}const _0x2d9e25=new Ta();return _0x2d9e25['positions']=_0x17a1e0,_0x2d9e25['normals']=_0x297562,_0x2d9e25['uvs']=_0xd08c72,_0x2d9e25['indices']=_0x583138,Ge['fromGeomet'+'ry'](this['_device'],_0x2d9e25);}['_onSetFram'+'es'](_0x154dfb){this['_updatingP'+'roperties']?this['_meshesDir'+'ty']=!(0x2*-0xa1b+0xc38+0x2*0x3ff):this['_createMes'+'hes']();}['_onFrameCh'+'anged'](_0x4e016e,_0x10bcaf){const _0x26302f=this['_frameKeys']['indexOf'](_0x4e016e);_0x26302f<0xb4b+0x6fc*-0x5+0x17a1||(_0x10bcaf?this['renderMode']===ci&&(this['_meshes'][_0x26302f]=this['_createSim'+'pleMesh'](_0x10bcaf)):this['_meshes'][_0x26302f]=null,this['fire']('set:meshes'));}['_onFrameRe'+'moved'](_0x3e441e){const _0x117dc0=this['_frameKeys']['indexOf'](_0x3e441e);_0x117dc0<-0x2eb+0x210*0x11+-0x2025||(this['_meshes'][_0x117dc0]=null,this['fire']('set:meshes'));}['startUpdat'+'e'](){this['_updatingP'+'roperties']=!(-0x4*-0x20b+-0xe80+0x654),this['_meshesDir'+'ty']=!(-0x19f+0x548+-0x2*0x1d4);}['endUpdate'](){this['_updatingP'+'roperties']=!(-0x798+0x44*0x4d+-0xcdb),this['_meshesDir'+'ty']&&this['_atlas']&&this['_frameKeys']&&this['_createMes'+'hes'](),this['_meshesDir'+'ty']=!(0x193f+-0x1b22+0x1e4);}['destroy'](){for(const _0x1d0202 of this['_meshes'])_0x1d0202&&_0x1d0202['destroy']();this['_meshes']['length']=0x3e3*-0x8+-0x1f82+0x3e9a;}}class zA extends me{constructor(){super(),this['_texture']=null,this['_frames']=null;}set['texture'](_0x544965){this['_texture']=_0x544965,this['fire']('set:textur'+'e',_0x544965);}get['texture'](){return this['_texture'];}set['frames'](_0x4f4da3){this['_frames']=_0x4f4da3,this['fire']('set:frames',_0x4f4da3);}get['frames'](){return this['_frames'];}['setFrame'](_0x178dbf,_0x53f242){let _0xdeea59=this['_frames'][_0x178dbf];_0xdeea59?(_0xdeea59['rect']['copy'](_0x53f242['rect']),_0xdeea59['pivot']['copy'](_0x53f242['pivot']),_0xdeea59['border']['copy'](_0x53f242['border'])):(_0xdeea59={'rect':_0x53f242['rect']['clone'](),'pivot':_0x53f242['pivot']['clone'](),'border':_0x53f242['border']['clone']()},this['_frames'][_0x178dbf]=_0xdeea59),this['fire']('set:frame',_0x178dbf['toString'](),_0xdeea59);}['removeFram'+'e'](_0x2f6509){const _0x371401=this['_frames'][_0x2f6509];_0x371401&&(delete this['_frames'][_0x2f6509],this['fire']('remove:fra'+'me',_0x2f6509['toString'](),_0x371401));}['destroy'](){this['_texture']&&this['_texture']['destroy']();}}class dg{constructor(_0x129833,_0x589368,_0x2f2612,_0x58d181){this['time']=_0x129833,this['position']=_0x589368,this['rotation']=_0x2f2612,this['scale']=_0x58d181;}}class fg{constructor(){this['_name']='',this['_keys']=[];}}class ug{constructor(){h(this,'name',''),h(this,'duration',-0x23c9*-0x1+0x69*0x8+-0x2711),(this['_nodes']=[],this['_nodeDict']={});}['getNode'](_0x30fc37){return this['_nodeDict'][_0x30fc37];}['addNode'](_0x2587c6){this['_nodes']['push'](_0x2587c6),this['_nodeDict'][_0x2587c6['_name']]=_0x2587c6;}get['nodes'](){return this['_nodes'];}}class VA{constructor(){this['_written']=!(-0x63d*0x2+-0x725+0x13a0),this['_name']='',this['_keyFrames']=[],this['_quat']=new le(),this['_pos']=new D(),this['_scale']=new D(),this['_targetNod'+'e']=null;}['getTarget'](){return this['_targetNod'+'e'];}['setTarget'](_0x180ca2){this['_targetNod'+'e']=_0x180ca2;}}class Sf{constructor(_0x5cccac){h(this,'looping',!(0x1*0x15f0+-0x1712+0x91*0x2)),(this['_animation']=null,this['_time']=0xee7+-0x1*0x1e24+0x1*0xf3d,this['_interpola'+'tedKeys']=[],this['_interpola'+'tedKeyDict']={},this['_currKeyIn'+'dices']={},this['graph']=null);const _0x2240be=_0x18a4dc=>{const _0x1dc62c=new VA();_0x1dc62c['_name']=_0x18a4dc['name'],this['_interpola'+'tedKeys']['push'](_0x1dc62c),this['_interpola'+'tedKeyDict'][_0x18a4dc['name']]=_0x1dc62c,this['_currKeyIn'+'dices'][_0x18a4dc['name']]=0x1831+0x1b25+-0x1*0x3356;for(let _0x2d57e0=0x21e3+0x1749+-0x392c;_0x2d57e0<_0x18a4dc['_children']['length'];_0x2d57e0++)_0x2240be(_0x18a4dc['_children'][_0x2d57e0]);};_0x2240be(_0x5cccac);}set['animation'](_0x48666c){this['_animation']=_0x48666c,this['currentTim'+'e']=-0x5*0x3a9+0x1487+-0x23a;}get['animation'](){return this['_animation'];}set['currentTim'+'e'](_0x233142){this['_time']=_0x233142;const _0x9b0590=this['_interpola'+'tedKeys']['length'];for(let _0x248768=0x1fd9*-0x1+-0x1d63*-0x1+0x276;_0x248768<_0x9b0590;_0x248768++){const _0x5a7ecd=this['_interpola'+'tedKeys'][_0x248768]['_name'];this['_currKeyIn'+'dices'][_0x5a7ecd]=-0x1*-0x859+-0x13*-0x1e2+-0x4e7*0x9;}this['addTime'](-0x1c88+-0x1a1+0x1e29),this['updateGrap'+'h']();}get['currentTim'+'e'](){return this['_time'];}get['numNodes'](){return this['_interpola'+'tedKeys']['length'];}['addTime'](_0x4766ec){if(this['_animation']!==null){const _0x1fadb2=this['_animation']['_nodes'],_0x21f6a2=this['_animation']['duration'];if(this['_time']===_0x21f6a2&&!this['looping'])return;if(this['_time']+=_0x4766ec,this['_time']>_0x21f6a2){this['_time']=this['looping']?0x1aff+0xd20+-0x281f:_0x21f6a2;for(let _0xd1458=-0x110d+0x238b+-0x127e;_0xd1458<_0x1fadb2['length'];_0xd1458++){const _0x176a40=_0x1fadb2[_0xd1458]['_name'];this['_currKeyIn'+'dices'][_0x176a40]=-0x2316+-0x21cd*0x1+0x1*0x44e3;}}else{if(this['_time']<0x9ef+-0x115*0x7+-0x4*0x97){this['_time']=this['looping']?_0x21f6a2:0x2654+-0x207c+-0x16*0x44;for(let _0x2144fc=-0x23*-0xb3+0x19ba+-0x3233*0x1;_0x2144fc<_0x1fadb2['length'];_0x2144fc++){const _0x526c07=_0x1fadb2[_0x2144fc],_0x304420=_0x526c07['_name'];this['_currKeyIn'+'dices'][_0x304420]=_0x526c07['_keys']['length']-(-0x1071+0x25af+-0x12e*0x12);}}}const _0x24e0cc=_0x4766ec>=-0x3*0x15b+0x380+0x91?-0x174*0xb+0x18*-0xdf+0x24e5:-(0x107*0x19+0x137b+0x2d29*-0x1);for(let _0x5871c8=-0x1*-0x11e5+0x2b*-0x4d+-0xa*0x7f;_0x5871c8<_0x1fadb2['length'];_0x5871c8++){const _0x6b51f=_0x1fadb2[_0x5871c8],_0x56a45e=_0x6b51f['_name'],_0x5b1b6f=_0x6b51f['_keys'],_0x244a7c=this['_interpola'+'tedKeyDict'][_0x56a45e];if(_0x244a7c===void(0x9d9*-0x3+0x16e5+0x2*0x353)){w['warn']('Unknown\x20sk'+'eleton\x20nod'+'e\x20name:\x20'+_0x56a45e);continue;}let _0x3b89f8=!(-0xdb7+0x8*0x2cc+-0x8a8);if(_0x5b1b6f['length']!==0x7bb*-0x1+0x661*-0x2+0x147e)for(let _0x517f31=this['_currKeyIn'+'dices'][_0x56a45e];_0x517f31<_0x5b1b6f['length']-(-0x1ab2+-0x5b4+0xacd*0x3)&&_0x517f31>=-0x196a*-0x1+-0x17f5*0x1+-0x175;_0x517f31+=_0x24e0cc){const _0x1f9081=_0x5b1b6f[_0x517f31],_0x1805ec=_0x5b1b6f[_0x517f31+(-0x1572+-0x2da*-0x6+-0x1*-0x457)];if(_0x1f9081['time']<=this['_time']&&_0x1805ec['time']>=this['_time']){const _0x3e4ff9=(this['_time']-_0x1f9081['time'])/(_0x1805ec['time']-_0x1f9081['time']);_0x244a7c['_pos']['lerp'](_0x1f9081['position'],_0x1805ec['position'],_0x3e4ff9),_0x244a7c['_quat']['slerp'](_0x1f9081['rotation'],_0x1805ec['rotation'],_0x3e4ff9),_0x244a7c['_scale']['lerp'](_0x1f9081['scale'],_0x1805ec['scale'],_0x3e4ff9),_0x244a7c['_written']=!(-0x235a+0xa09+0x1951),this['_currKeyIn'+'dices'][_0x56a45e]=_0x517f31,_0x3b89f8=!(0x15aa+-0x1681+-0x1*-0xd7);break;}}(_0x5b1b6f['length']===-0x12b*0x3+0x411*-0x9+0x1*0x281b||!_0x3b89f8&&this['_time']===-0x1025*-0x2+-0x643+0x1*-0x1a07&&this['looping'])&&(_0x244a7c['_pos']['copy'](_0x5b1b6f[0x183f+-0x1d30+0x4f1]['position']),_0x244a7c['_quat']['copy'](_0x5b1b6f[0x291+0xdc8+-0x1059]['rotation']),_0x244a7c['_scale']['copy'](_0x5b1b6f[0xae*-0x34+0xa*0x397+-0x8e]['scale']),_0x244a7c['_written']=!(0xe*-0x101+0x10a4+-0x296));}}}['blend'](_0x6c3dcc,_0x12be31,_0x3d2c7a){const _0x391aae=this['_interpola'+'tedKeys']['length'];for(let _0x3a1f7c=-0x67b*0x2+0x83*0x9+0x85b;_0x3a1f7c<_0x391aae;_0x3a1f7c++){const _0x53e0fe=_0x6c3dcc['_interpola'+'tedKeys'][_0x3a1f7c],_0x42f6ba=_0x12be31['_interpola'+'tedKeys'][_0x3a1f7c],_0x303485=this['_interpola'+'tedKeys'][_0x3a1f7c];_0x53e0fe['_written']&&_0x42f6ba['_written']?(_0x303485['_quat']['slerp'](_0x53e0fe['_quat'],_0x12be31['_interpola'+'tedKeys'][_0x3a1f7c]['_quat'],_0x3d2c7a),_0x303485['_pos']['lerp'](_0x53e0fe['_pos'],_0x12be31['_interpola'+'tedKeys'][_0x3a1f7c]['_pos'],_0x3d2c7a),_0x303485['_scale']['lerp'](_0x53e0fe['_scale'],_0x42f6ba['_scale'],_0x3d2c7a),_0x303485['_written']=!(-0xc0b*-0x1+0x3f5*0x1+-0x1000)):_0x53e0fe['_written']?(_0x303485['_quat']['copy'](_0x53e0fe['_quat']),_0x303485['_pos']['copy'](_0x53e0fe['_pos']),_0x303485['_scale']['copy'](_0x53e0fe['_scale']),_0x303485['_written']=!(-0x1699+-0x97*0x5+-0x28e*-0xa)):_0x42f6ba['_written']&&(_0x303485['_quat']['copy'](_0x42f6ba['_quat']),_0x303485['_pos']['copy'](_0x42f6ba['_pos']),_0x303485['_scale']['copy'](_0x42f6ba['_scale']),_0x303485['_written']=!(0x25ce+-0x1a98+-0xb36));}}['setGraph'](_0x39c571){if(this['graph']=_0x39c571,_0x39c571)for(let _0x4e642f=0xeb*-0xe+0x1e*-0x100+0x2ada;_0x4e642f<this['_interpola'+'tedKeys']['length'];_0x4e642f++){const _0x20634d=this['_interpola'+'tedKeys'][_0x4e642f],_0x42dfbc=_0x39c571['findByName'](_0x20634d['_name']);this['_interpola'+'tedKeys'][_0x4e642f]['setTarget'](_0x42dfbc);}else{for(let _0x53b5b2=0x12e5+0x12a6+0x7*-0x55d;_0x53b5b2<this['_interpola'+'tedKeys']['length'];_0x53b5b2++)this['_interpola'+'tedKeys'][_0x53b5b2]['setTarget'](null);}}['updateGrap'+'h'](){if(this['graph'])for(let _0x2cede1=-0x8*0x293+-0xd63*-0x1+-0x735*-0x1;_0x2cede1<this['_interpola'+'tedKeys']['length'];_0x2cede1++){const _0x4efa77=this['_interpola'+'tedKeys'][_0x2cede1];if(_0x4efa77['_written']){const _0x2b9ca9=_0x4efa77['getTarget']();_0x2b9ca9['localPosit'+'ion']['copy'](_0x4efa77['_pos']),_0x2b9ca9['localRotat'+'ion']['copy'](_0x4efa77['_quat']),_0x2b9ca9['localScale']['copy'](_0x4efa77['_scale']),_0x2b9ca9['_dirtyLoca'+'l']||_0x2b9ca9['_dirtifyLo'+'cal'](),_0x4efa77['_written']=!(-0x1256+0x308+-0x1*-0xf4f);}}}}const zs=(0x1547*-0x1+0x125c+0x2ef*0x1)/(-0x111+0xb*0x4+0x125),si=-0x228a*-0x1+0xd28+-0x2fb1-zs*(0x14b*0x19+0x1be*-0x13+0xc9);class gm extends Ta{constructor(_0x34bf67,_0x20ba81,_0x19afb9,_0x2c3ab1,_0x46a9a8,_0x1acde9){super();const _0x3b7f57=new D(),_0x300589=new D(),_0x17ad25=new D(),_0x356c04=new D(),_0x29bff4=new D(),_0x1bccfe=new D(),_0x456b44=[],_0x4ef2b8=[],_0x35b3cf=[],_0x25376d=[],_0x8a7a79=[];let _0x3d8a25;if(_0x19afb9>-0x45a*0x1+-0xfa0+-0x1*-0x13fa){for(let _0x16d999=-0x73a*-0x1+-0x1*-0x10c7+-0x1801*0x1;_0x16d999<=_0x2c3ab1;_0x16d999++)for(let _0x16f0a1=-0x21fd+-0x864+0x2a61;_0x16f0a1<=_0x46a9a8;_0x16f0a1++){const _0x11cbe9=_0x16f0a1/_0x46a9a8*(0xdf*0x2a+0x3b*-0xa6+0x5*0x56)*Math['PI']-Math['PI'],_0x275f65=Math['sin'](_0x11cbe9),_0x316c04=Math['cos'](_0x11cbe9);_0x29bff4['set'](_0x275f65*_0x34bf67,-_0x19afb9/(-0x21a2+0x4e1*0x1+0x1cc3),_0x316c04*_0x34bf67),_0x356c04['set'](_0x275f65*_0x20ba81,_0x19afb9/(-0x2018+0x527*0x7+-0x3f7),_0x316c04*_0x20ba81),_0x3b7f57['lerp'](_0x29bff4,_0x356c04,_0x16d999/_0x2c3ab1),_0x300589['sub2'](_0x356c04,_0x29bff4)['normalize'](),_0x1bccfe['set'](_0x316c04,0x1eb*0x3+-0xc05*-0x1+-0x11c6,-_0x275f65),_0x17ad25['cross'](_0x1bccfe,_0x300589)['normalize'](),_0x456b44['push'](_0x3b7f57['x'],_0x3b7f57['y'],_0x3b7f57['z']),_0x4ef2b8['push'](_0x17ad25['x'],_0x17ad25['y'],_0x17ad25['z']);let _0x321913=_0x16f0a1/_0x46a9a8,_0x1305df=_0x16d999/_0x2c3ab1;_0x35b3cf['push'](_0x321913,-0x17be+0x2*0x112b+-0xa97-_0x1305df);const _0x5dc451=_0x1305df;if(_0x1305df=_0x321913,_0x321913=_0x5dc451,_0x321913=_0x321913*si+zs,_0x1305df=_0x1305df*si+zs,_0x321913/=0x217c+0x19f*0x11+0xe*-0x45c,_0x25376d['push'](_0x321913,0xae*0x7+0x2084+-0x2545-_0x1305df),_0x16d999<_0x2c3ab1&&_0x16f0a1<_0x46a9a8){const _0x3a1136=_0x16d999*(_0x46a9a8+(0x1*-0x1544+0x13eb+0x15a*0x1))+_0x16f0a1,_0x55b700=_0x16d999*(_0x46a9a8+(-0x3*-0x587+0xda*-0x13+-0x66))+(_0x16f0a1+(0x4b*-0x3b+-0x1*-0x1039+-0x27*-0x7)),_0xe66fbf=(_0x16d999+(-0x1363+-0x25af*-0x1+-0x124b))*(_0x46a9a8+(-0x1*0x1e55+0x1c*0xd+0xe75*0x2))+_0x16f0a1,_0x957eb5=(_0x16d999+(-0x2377+-0x5*0x1ce+-0x14f*-0x22))*(_0x46a9a8+(-0x26cc+0x7d3*-0x2+0x1*0x3673))+(_0x16f0a1+(0x2*-0xf1a+-0x1*0x98f+-0x4*-0x9f1));_0x8a7a79['push'](_0x3a1136,_0x55b700,_0xe66fbf),_0x8a7a79['push'](_0x55b700,_0x957eb5,_0xe66fbf);}}}if(_0x1acde9){const _0x51db8f=Math['floor'](_0x46a9a8/(-0xf67+-0x11c6+0x1*0x212f)),_0x31c089=_0x46a9a8,_0x4b746c=_0x19afb9/(-0x74f*-0x1+0x147*-0x7+0x1a4);for(let _0x5b716a=0x1*0xede+0x1a44+0xa*-0x41d;_0x5b716a<=_0x51db8f;_0x5b716a++){const _0x86e3e2=_0x5b716a*Math['PI']*(0x7*-0x524+0x24a*0xd+-0x31d*-0x2+0.5)/_0x51db8f,_0x493052=Math['sin'](_0x86e3e2),_0x12a41c=Math['cos'](_0x86e3e2);for(let _0x59da09=0x17e6+-0x1a89*0x1+0x9*0x4b;_0x59da09<=_0x31c089;_0x59da09++){const _0x157d47=_0x59da09*(0x1f6a+-0x244b+0x9*0x8b)*Math['PI']/_0x31c089-Math['PI']/(-0x1363+0x7cc+0xb99),_0x4224c6=Math['sin'](_0x157d47),_0x4519e3=Math['cos'](_0x157d47)*_0x493052,_0xd1c240=_0x12a41c,_0x4c2313=_0x4224c6*_0x493052;let _0x35fe22=-0x21ac+-0x51e+0x1*0x26cb-_0x59da09/_0x31c089,_0x27f337=-0x1*-0x93+-0x6a9*-0x1+-0x73b-_0x5b716a/_0x51db8f;_0x456b44['push'](_0x4519e3*_0x20ba81,_0xd1c240*_0x20ba81+_0x4b746c,_0x4c2313*_0x20ba81),_0x4ef2b8['push'](_0x4519e3,_0xd1c240,_0x4c2313),_0x35b3cf['push'](_0x35fe22,-0x7f5+0x1d61+-0x156b-_0x27f337),_0x35fe22=_0x35fe22*si+zs,_0x27f337=_0x27f337*si+zs,_0x35fe22/=0x1c*0x153+-0x6d6+0x6d*-0x47,_0x27f337/=0x1a72+-0x3e6*-0x4+0x1d*-0x173,_0x35fe22+=(-0x72*0x3d+-0x1*0xa53+-0x2*-0x12bf)/(0x3*-0x79f+0x1bb2+-0x269*0x2),_0x25376d['push'](_0x35fe22,0x4c2+0x310*-0xb+0x1cef-_0x27f337);}}_0x3d8a25=(_0x2c3ab1+(-0x3*-0x892+0x2416+0x1499*-0x3))*(_0x46a9a8+(0x1a30+0x8f9+0x708*-0x5));for(let _0x571077=-0xc47+0x25*-0x107+0x29*0x13a;_0x571077<_0x51db8f;++_0x571077)for(let _0x25e50c=0x1*0x579+0x20bc+-0x2635;_0x25e50c<_0x31c089;++_0x25e50c){const _0x1e715e=_0x571077*(_0x31c089+(-0x1*-0x1529+0x1b99+-0x1*0x30c1))+_0x25e50c,_0x57f3a6=_0x1e715e+_0x31c089+(-0x841*0x4+0x23fa+0x1*-0x2f5);_0x8a7a79['push'](_0x3d8a25+_0x1e715e+(0x11e7*-0x1+-0x1335+0x251d),_0x3d8a25+_0x57f3a6,_0x3d8a25+_0x1e715e),_0x8a7a79['push'](_0x3d8a25+_0x1e715e+(-0x3d9+0x239c+-0x1fc2),_0x3d8a25+_0x57f3a6+(-0x207+0x40d*0x5+0x3a5*-0x5),_0x3d8a25+_0x57f3a6);}for(let _0x342f73=-0xb*0xa3+0x1d90+0x168f*-0x1;_0x342f73<=_0x51db8f;_0x342f73++){const _0x30ddb4=Math['PI']*(0xb*-0x62+0xe3+0x353+0.5)+_0x342f73*Math['PI']*(-0x42f+0x581*0x2+0x1*-0x6d3+0.5)/_0x51db8f,_0x308c11=Math['sin'](_0x30ddb4),_0x11a53e=Math['cos'](_0x30ddb4);for(let _0x4bfbe2=0x1*0x1d99+-0x7f6+0xbf*-0x1d;_0x4bfbe2<=_0x31c089;_0x4bfbe2++){const _0x344c2b=_0x4bfbe2*(0x151*0x2+-0x1b83*-0x1+-0x1e23)*Math['PI']/_0x31c089-Math['PI']/(0x185b*0x1+-0x1413+-0x446),_0x2bff24=Math['sin'](_0x344c2b),_0xb762f7=Math['cos'](_0x344c2b)*_0x308c11,_0x27a181=_0x11a53e,_0x530d9f=_0x2bff24*_0x308c11;let _0x56b133=0x3b*-0x6a+0x123b+0x31a*0x2-_0x4bfbe2/_0x31c089,_0x10f9a4=0x1*0xe7e+0x1*-0xaf3+-0x38a-_0x342f73/_0x51db8f;_0x456b44['push'](_0xb762f7*_0x20ba81,_0x27a181*_0x20ba81-_0x4b746c,_0x530d9f*_0x20ba81),_0x4ef2b8['push'](_0xb762f7,_0x27a181,_0x530d9f),_0x35b3cf['push'](_0x56b133,0x4*0x86d+0x1a4a+-0x3bfd-_0x10f9a4),_0x56b133=_0x56b133*si+zs,_0x10f9a4=_0x10f9a4*si+zs,_0x56b133/=0x1d35*-0x1+-0x1*0x1c6+0x1efe,_0x10f9a4/=0x140b+0x25f7+0x2c3*-0x15,_0x56b133+=(0x149e+0x1*0x5b0+0x2c*-0x99)/(0x6*0x39b+-0x1*0x237b+0xddc*0x1),_0x25376d['push'](_0x56b133,0x14ae*0x1+0xb*-0x382+0x11e9-_0x10f9a4);}}_0x3d8a25=(_0x2c3ab1+(0xf75+0x12cf+-0x2243))*(_0x46a9a8+(0x1ee8+0x20a2+0x5*-0xcb5))+(_0x31c089+(-0xea5+-0x1*0x99f+-0x3*-0x817))*(_0x51db8f+(0x22af+-0x463+-0x1e4b));for(let _0x3cea8d=-0x223a*-0x1+0x3*0x3c3+-0x2d83*0x1;_0x3cea8d<_0x51db8f;++_0x3cea8d)for(let _0x343ed0=-0x87*0x29+0x1282+0x31d;_0x343ed0<_0x31c089;++_0x343ed0){const _0x26333e=_0x3cea8d*(_0x31c089+(-0xe60+-0x15cb+0x242c*0x1))+_0x343ed0,_0x889a05=_0x26333e+_0x31c089+(0x1*0x117f+-0x25dc+-0x1da*-0xb);_0x8a7a79['push'](_0x3d8a25+_0x26333e+(0x2353*-0x1+-0x244c+0x47a0),_0x3d8a25+_0x889a05,_0x3d8a25+_0x26333e),_0x8a7a79['push'](_0x3d8a25+_0x26333e+(-0x237f+0x29*0xe2+-0x59*0x2),_0x3d8a25+_0x889a05+(0x1fd9+0x2508*-0x1+0x530),_0x3d8a25+_0x889a05);}}else{if(_0x3d8a25=(_0x2c3ab1+(-0x234c+-0x1edc+0x1*0x4229))*(_0x46a9a8+(0x1*0x1fdd+-0x833+0x3*-0x7e3)),_0x34bf67>-0xf1*-0x25+0x35b+-0x2630)for(let _0x382487=-0x240e+-0x1e70+-0x1*-0x427e;_0x382487<_0x46a9a8;_0x382487++){const _0x4582a1=_0x382487/_0x46a9a8*(-0xa*-0x20b+0x251*0xb+0x3*-0xf4d)*Math['PI'],_0x261317=Math['sin'](_0x4582a1),_0xe015df=-_0x19afb9/(0x1*-0x431+0x1b9a+-0x1767),_0x4bb631=Math['cos'](_0x4582a1);let _0xaad20d=0x14*-0x3e+0xc0c+-0x733-(_0x261317+(0x3a1*-0x1+0x20fd+0x5df*-0x5))/(-0x73b*-0x2+0x230a+-0x317e),_0xf53bca=(_0x4bb631+(-0xe*0x1a+0x8be*-0x2+0x12e9))/(0x116f*-0x1+0x19*0x3a+0xbc7);_0x456b44['push'](_0x261317*_0x34bf67,_0xe015df,_0x4bb631*_0x34bf67),_0x4ef2b8['push'](0x13bb+-0x1e6b+0xab0,-(-0x1119+-0x1a67+0x2b81),-0x1*-0x1768+0x17*-0x17+0x71d*-0x3),_0x35b3cf['push'](_0xaad20d,-0x177b*-0x1+-0x10a*-0xe+0x1*-0x2606-_0xf53bca),_0xaad20d=_0xaad20d*si+zs,_0xf53bca=_0xf53bca*si+zs,_0xaad20d/=0x1ce+0x3*-0xc85+0x1*0x23c4,_0xf53bca/=-0x17*-0x117+0xa12*0x1+-0x2320,_0xaad20d+=(0x8*0x157+0x127d+-0x1d34)/(-0x1d0d*0x1+0xe2d+0xee3),_0x25376d['push'](_0xaad20d,0x115c+0x172e+-0x2889-_0xf53bca),_0x382487>-0x1*-0x1e1d+0x222f*-0x1+-0x413*-0x1&&_0x8a7a79['push'](_0x3d8a25,_0x3d8a25+_0x382487,_0x3d8a25+_0x382487-(0x4*-0x25+0x1*-0x149f+0x1534));}if(_0x3d8a25+=_0x46a9a8,_0x20ba81>-0x239a+-0x1c6c+0x5d2*0xb)for(let _0x36551a=0x40d*0x4+0x1f*-0xc7+0x7e5;_0x36551a<_0x46a9a8;_0x36551a++){const _0x2e24d0=_0x36551a/_0x46a9a8*(-0x2400+0x63*-0x51+-0x4355*-0x1)*Math['PI'],_0x3d4d36=Math['sin'](_0x2e24d0),_0x2e358c=_0x19afb9/(0x75f+0x2250+-0x29ad),_0x18bc40=Math['cos'](_0x2e24d0);let _0x56b1d0=0x239c+0x211c+0x44b7*-0x1-(_0x3d4d36+(0x24*-0xbb+-0x160e+0x305b))/(-0xd6*-0xd+-0x1a0b+0xf2f),_0x30ac18=(_0x18bc40+(-0x2*-0x9b3+-0x1efb+0xb96))/(-0x6d7*-0x5+-0x5ea+0x39*-0x7f);_0x456b44['push'](_0x3d4d36*_0x20ba81,_0x2e358c,_0x18bc40*_0x20ba81),_0x4ef2b8['push'](0x1347+0x9a*-0x35+0xc9b,0x24a1+-0x649+0xa1d*-0x3,-0x7*0x2c3+-0x2163+0x34b8),_0x35b3cf['push'](_0x56b1d0,-0x13*0x182+-0x1379*-0x1+-0x497*-0x2-_0x30ac18),_0x56b1d0=_0x56b1d0*si+zs,_0x30ac18=_0x30ac18*si+zs,_0x56b1d0/=0x41*-0x1+-0x1777*0x1+0x17bb,_0x30ac18/=-0xba8+-0x1516+0x3*0xaeb,_0x56b1d0+=(0x2b6+-0xc1*0x27+0x1ab3)/(-0x15fb+0x365*0x2+0xf34),_0x25376d['push'](_0x56b1d0,-0x1*0x13cd+0x1456+0x22*-0x4-_0x30ac18),_0x36551a>-0x2539+-0xd8d+0x10ed*0x3&&_0x8a7a79['push'](_0x3d8a25,_0x3d8a25+_0x36551a-(-0x1a2d*-0x1+-0xc5*-0xb+-0x22a3*0x1),_0x3d8a25+_0x36551a);}}this['positions']=_0x456b44,this['normals']=_0x4ef2b8,this['uvs']=_0x35b3cf,this['uvs1']=_0x25376d,this['indices']=_0x8a7a79;}}class GA extends gm{constructor(_0x533942={}){const _0xaea082=_0x533942['radius']??-0x229d+-0x214f*-0x1+0x1*0x14e+0.3,_0x30236c=_0x533942['height']??-0x122a+-0xd27+0x1f52*0x1,_0x181095=_0x533942['heightSegm'+'ents']??0xcc3+-0xc0+-0xc02,_0x4d21f2=_0x533942['sides']??-0x2*0x20e+-0x12e1+-0x5*-0x49d;super(_0xaea082,_0xaea082,_0x30236c-(0x444+-0x1*0x4e3+0xa1)*_0xaea082,_0x181095,_0x4d21f2,!(0x1*0x15df+0x2636+-0x3c15)),_0x533942['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class HA extends gm{constructor(_0xcf9cc={}){const _0x50177e=_0xcf9cc['baseRadius']??-0x2477+0xc29+0x184e+0.5,_0x53ce68=_0xcf9cc['peakRadius']??0x1068+0x31*0x34+-0x1a5c,_0x54ec20=_0xcf9cc['height']??0x1f8e+-0x17*-0x199+-0x444c,_0x1ad1fc=_0xcf9cc['heightSegm'+'ents']??-0x8*0x454+0x145*-0x1+0x11f5*0x2,_0x35f634=_0xcf9cc['capSegment'+'s']??0x1ea+-0xa9*0x3b+0x251b;super(_0x50177e,_0x53ce68,_0x54ec20,_0x1ad1fc,_0x35f634,!(-0x380+0x17f7+-0xa3b*0x2)),_0xcf9cc['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class WA extends gm{constructor(_0x4bb9df={}){const _0xd4fb5c=_0x4bb9df['radius']??-0x2419+0x5a*0x40+-0xd99*-0x1+0.5,_0x4128ae=_0x4bb9df['height']??-0x170+-0x1b6d+0x1cde,_0x7fee99=_0x4bb9df['heightSegm'+'ents']??-0x51*-0x4f+-0x2*-0x705+-0x2704,_0x421910=_0x4bb9df['capSegment'+'s']??0x257d+-0x5*0x48f+-0xe9e;super(_0xd4fb5c,_0xd4fb5c,_0x4128ae,_0x7fee99,_0x421910,!(0x2*-0xced+-0x2*-0x1206+-0xa31)),_0x4bb9df['calculateT'+'angents']&&(this['tangents']=Mr(this['positions'],this['normals'],this['uvs'],this['indices']));}}class $A extends Ta{constructor(_0x3bb991={}){super();const _0x48f4a4=_0x3bb991['halfExtent'+'s']??new J(0x2fc*-0xd+0xb25+0x1ba7*0x1+0.5,-0x1a7e+-0x341*0x1+0x1*0x1dbf+0.5),_0x13c250=_0x3bb991['widthSegme'+'nts']??-0x156c+-0x2245*-0x1+-0xcd4,_0x4fae2a=_0x3bb991['lengthSegm'+'ents']??-0x162*-0x2+-0x1943+-0x83*-0x2c,_0x10960c=[],_0x29b74b=[],_0x3b1076=[],_0x313767=[];let _0x5c554b=0x36*0x7+0x169d+-0x371*0x7;for(let _0x44ddc8=0xb63+-0xd*0x5f+-0x46*0x18;_0x44ddc8<=_0x13c250;_0x44ddc8++)for(let _0x17353e=0xa*0x2d+-0x1a15+-0x1853*-0x1;_0x17353e<=_0x4fae2a;_0x17353e++){const _0x10098=-_0x48f4a4['x']+(-0x23dd+-0x1*-0x535+0x1eaa)*_0x48f4a4['x']*_0x44ddc8/_0x13c250,_0x3e4f47=0x1*0x1f47+-0x8e5+-0x2*0xb31,_0x38b11a=-(-_0x48f4a4['y']+(-0x1*-0x243d+0xb*-0x12+0x1*-0x2375)*_0x48f4a4['y']*_0x17353e/_0x4fae2a),_0x3a46fc=_0x44ddc8/_0x13c250,_0x5b2e96=_0x17353e/_0x4fae2a;_0x10960c['push'](_0x10098,_0x3e4f47,_0x38b11a),_0x29b74b['push'](0x11c6+0x3d6*0x9+0x2*-0x1a26,0xa69+-0x527*0x3+0x50d*0x1,0xee1+0xe5c+-0x1d3d),_0x3b1076['push'](_0x3a46fc,-0x1897+0xf*-0x223+0x38a5-_0x5b2e96),_0x44ddc8<_0x13c250&&_0x17353e<_0x4fae2a&&(_0x313767['push'](_0x5c554b+_0x4fae2a+(-0x1b*-0x99+0xae+-0x1*0x10d0),_0x5c554b+(-0xd69+-0x412*0x1+0x117c),_0x5c554b),_0x313767['push'](_0x5c554b+_0x4fae2a+(-0x22b8+0x247b+-0x1c2),_0x5c554b+_0x4fae2a+(-0x2174+-0x45e+0x25d4),_0x5c554b+(-0x1a37*0x1+-0x691*0x1+0x20c9))),_0x5c554b++;}this['positions']=_0x10960c,this['normals']=_0x29b74b,this['uvs']=_0x3b1076,this['uvs1']=_0x3b1076,this['indices']=_0x313767,_0x3bb991['calculateT'+'angents']&&(this['tangents']=Mr(_0x10960c,_0x29b74b,_0x3b1076,_0x313767));}}class XA extends Ta{constructor(_0x221a0d={}){super();const _0x953169=_0x221a0d['tubeRadius']??-0x1894+0x4*-0x952+0x3ddc*0x1+0.2,_0x515f0c=_0x221a0d['ringRadius']??-0xd3f*-0x1+0x237*0xe+-0x2c41+0.3,_0x2e96b2=(_0x221a0d['sectorAngl'+'e']??0x22b*-0xf+0xfe*-0x10+0x31cd)*Y['DEG_TO_RAD'],_0x4d3aab=_0x221a0d['segments']??-0x43*0x1+0xcea+-0x1*0xc89,_0x59a0f0=_0x221a0d['sides']??-0xcdf+-0x16ea+0x23dd,_0x3e4296=[],_0x271fa7=[],_0x122688=[],_0x4ebc30=[];for(let _0x2e37c8=-0xdb6+0x213*0xd+0x105*-0xd;_0x2e37c8<=_0x59a0f0;_0x2e37c8++)for(let _0x3d7e97=0xdb2*-0x1+0xa3b+0x377;_0x3d7e97<=_0x4d3aab;_0x3d7e97++){const _0x43d84f=Math['cos'](_0x2e96b2*_0x3d7e97/_0x4d3aab)*(_0x515f0c+_0x953169*Math['cos']((0x26aa+-0x131c+0x342*-0x6)*Math['PI']*_0x2e37c8/_0x59a0f0)),_0x4f21c4=Math['sin']((0xb69+-0x3a0+-0x7c7*0x1)*Math['PI']*_0x2e37c8/_0x59a0f0)*_0x953169,_0x31203b=Math['sin'](_0x2e96b2*_0x3d7e97/_0x4d3aab)*(_0x515f0c+_0x953169*Math['cos']((0xdd*0x21+0x2*-0x8c6+-0xaef*0x1)*Math['PI']*_0x2e37c8/_0x59a0f0)),_0x2c6053=Math['cos'](_0x2e96b2*_0x3d7e97/_0x4d3aab)*Math['cos']((-0x12*0x1b7+-0x143b*-0x1+0xaa5)*Math['PI']*_0x2e37c8/_0x59a0f0),_0x2659a6=Math['sin']((-0x21c8+0x265+-0x1*-0x1f65)*Math['PI']*_0x2e37c8/_0x59a0f0),_0x19fa79=Math['sin'](_0x2e96b2*_0x3d7e97/_0x4d3aab)*Math['cos']((-0x2382+0x377*0x5+0x1231*0x1)*Math['PI']*_0x2e37c8/_0x59a0f0),_0x296aef=_0x2e37c8/_0x59a0f0,_0x18874c=0x1099+0x399*0xa+-0x8c3*0x6-_0x3d7e97/_0x4d3aab;if(_0x3e4296['push'](_0x43d84f,_0x4f21c4,_0x31203b),_0x271fa7['push'](_0x2c6053,_0x2659a6,_0x19fa79),_0x122688['push'](_0x296aef,-0x1c43*-0x1+-0x1*-0x14ca+-0x310c-_0x18874c),_0x2e37c8<_0x59a0f0&&_0x3d7e97<_0x4d3aab){const _0x42db9b=_0x2e37c8*(_0x4d3aab+(-0x1fb5+-0x1924*0x1+-0x38da*-0x1))+_0x3d7e97,_0x11a4af=(_0x2e37c8+(-0x20f8+-0x1338+0x3431))*(_0x4d3aab+(-0x57a+-0x109d+0x1618))+_0x3d7e97,_0x106ed2=_0x2e37c8*(_0x4d3aab+(0xc4*0x8+-0x1*-0x22ed+-0x290c))+(_0x3d7e97+(0x194f+-0x1*-0x25e9+0x1*-0x3f37)),_0x3fccf6=(_0x2e37c8+(-0x5*0x2e9+-0x10fc+0x1f8a))*(_0x4d3aab+(0xb9c+0x8a*0x47+-0x31e1))+(_0x3d7e97+(-0x1*0xa0b+-0x3f+0xa4b));_0x4ebc30['push'](_0x42db9b,_0x11a4af,_0x106ed2),_0x4ebc30['push'](_0x11a4af,_0x3fccf6,_0x106ed2);}}this['positions']=_0x3e4296,this['normals']=_0x271fa7,this['uvs']=_0x122688,this['uvs1']=_0x122688,this['indices']=_0x4ebc30,_0x221a0d['calculateT'+'angents']&&(this['tangents']=Mr(_0x3e4296,_0x271fa7,_0x122688,_0x4ebc30));}}class qA{constructor(_0x14a27e,_0x12d11c){h(this,'processedC'+'ache',new Map()),h(this,'definition'+'sCache',new Map()),h(this,'_generator'+'s',new Map()),(this['_device']=_0x14a27e,this['_isClearin'+'gCache']=!(-0x710+-0x79e+0xeaf),this['_precached']=!(-0xe5*-0x9+0x1caa+-0x24b6),this['_programsC'+'ollection']=[],this['_defaultSt'+'dMatOption']=new dl(),this['_defaultSt'+'dMatOption'+'Min']=new dl());const _0x2580ba=new vv();_0x12d11c['shaderOptB'+'uilder']['updateRef'](this['_defaultSt'+'dMatOption'],{},_0x2580ba,_0x12d11c,null,[],Aa,null),_0x12d11c['shaderOptB'+'uilder']['updateMinR'+'ef'](this['_defaultSt'+'dMatOption'+'Min'],{},_0x12d11c,null,cm,null),_0x14a27e['on']('destroy:sh'+'ader',_0x42f94e=>{this['removeFrom'+'Cache'](_0x42f94e);});}['destroy'](){this['clearCache']();}['register'](_0x2e8492,_0x93982a){this['_generator'+'s']['has'](_0x2e8492)||this['_generator'+'s']['set'](_0x2e8492,_0x93982a);}['unregister'](_0x1c8dbb){this['_generator'+'s']['has'](_0x1c8dbb)&&this['_generator'+'s']['delete'](_0x1c8dbb);}['isRegister'+'ed'](_0x41c4e8){return this['_generator'+'s']['has'](_0x41c4e8);}['generateSh'+'aderDefini'+'tion'](_0x4c632d,_0x1dff7f,_0x257d19,_0x1d086e){var _0x96c03c,_0x2b9fb0;let _0x3c9599=this['definition'+'sCache']['get'](_0x257d19);if(!_0x3c9599){let _0x25bd9d;(_0x96c03c=_0x1d086e['litOptions'])!=null&&_0x96c03c['lights']&&(_0x25bd9d=_0x1d086e['litOptions']['lights'],_0x1d086e['litOptions']['lights']=_0x25bd9d['map'](_0x44e6ef=>{const _0x35a80d=_0x44e6ef['clone']?_0x44e6ef['clone']():_0x44e6ef;return _0x35a80d['key']=_0x44e6ef['key'],_0x35a80d;})),this['storeNewPr'+'ogram'](_0x1dff7f,_0x1d086e),(_0x2b9fb0=_0x1d086e['litOptions'])!=null&&_0x2b9fb0['lights']&&(_0x1d086e['litOptions']['lights']=_0x25bd9d),this['_precached']&&w['log']('ProgramLib'+'rary#getPr'+'ogram:\x20Cac'+'he\x20miss\x20fo'+'r\x20shader\x20'+_0x1dff7f+'\x20key\x20'+_0x257d19+('\x20after\x20sha'+'ders\x20preca'+'ching'));const _0x1ea1fd=this['_device'];_0x3c9599=_0x4c632d['createShad'+'erDefiniti'+'on'](_0x1ea1fd,_0x1d086e),_0x3c9599['name']=_0x3c9599['name']??(_0x1d086e['pass']?_0x1dff7f+'-pass:'+_0x1d086e['pass']:_0x1dff7f),this['definition'+'sCache']['set'](_0x257d19,_0x3c9599);}return _0x3c9599;}['getCachedS'+'hader'](_0x356000){return this['processedC'+'ache']['get'](_0x356000);}['setCachedS'+'hader'](_0x26ef1d,_0x315de4){this['processedC'+'ache']['set'](_0x26ef1d,_0x315de4);}['getProgram'](_0x4aa7fb,_0x5be2,_0x8bf875,_0x882a6f){const _0x3baec4=this['_generator'+'s']['get'](_0x4aa7fb);if(!_0x3baec4)return w['warn']('ProgramLib'+'rary#getPr'+'ogram:\x20No\x20'+'program\x20li'+'brary\x20func'+'tions\x20regi'+'stered\x20for'+':\x20'+_0x4aa7fb),null;const _0x3e4270=_0x3baec4['generateKe'+'y'](_0x5be2),_0x35a4c8=hi(_0x3e4270),_0xbbf55c=_0x8bf875['generateKe'+'y'](this['_device']),_0x2108c1=hi(_0xbbf55c),_0x4c6754=_0x35a4c8+'#'+_0x2108c1;let _0x33aaf7=this['getCachedS'+'hader'](_0x4c6754);if(!_0x33aaf7){const _0x4a46d1=this['generateSh'+'aderDefini'+'tion'](_0x3baec4,_0x4aa7fb,_0x35a4c8,_0x5be2);w['assert'](_0x4a46d1);let _0x38a401='',_0x1641ef;_0x5be2['pass']!==void(0xd4c+-0x14f*-0x11+-0x9*0x3f3)&&(_0x1641ef=Si['get'](this['_device'])['getByIndex'](_0x5be2['pass']),_0x38a401='-'+_0x1641ef['name']),this['_device']['fire']('shader:gen'+'erate',{'userMaterialId':_0x882a6f,'shaderPassInfo':_0x1641ef,'definition':_0x4a46d1});const _0x19b8a5={'name':''+_0x4a46d1['name']+_0x38a401+'-proc','attributes':_0x4a46d1['attributes'],'vshader':_0x4a46d1['vshader'],'vincludes':_0x4a46d1['vincludes'],'fincludes':_0x4a46d1['fincludes'],'fshader':_0x4a46d1['fshader'],'processingOptions':_0x8bf875,'shaderLanguage':_0x4a46d1['shaderLang'+'uage'],'meshUniformBufferFormat':_0x4a46d1['meshUnifor'+'mBufferFor'+'mat'],'meshBindGroupFormat':_0x4a46d1['meshBindGr'+'oupFormat']};_0x33aaf7=new qy(this['_device'],_0x19b8a5),w['call'](()=>{_0x33aaf7['_generatio'+'nKey']=_0x3e4270,_0x33aaf7['_processin'+'gKey']=_0xbbf55c;}),this['setCachedS'+'hader'](_0x4c6754,_0x33aaf7);}return _0x33aaf7;}['storeNewPr'+'ogram'](_0x5844a3,_0x438116){let _0x302a82={};if(_0x5844a3==='standard'){const _0x4c65a9=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x438116['pass']);for(const _0x1b824b in _0x438116)(_0x438116['hasOwnProp'+'erty'](_0x1b824b)&&_0x4c65a9[_0x1b824b]!==_0x438116[_0x1b824b]||_0x1b824b==='pass')&&(_0x302a82[_0x1b824b]=_0x438116[_0x1b824b]);for(const _0x1a3b4d in _0x438116['litOptions'])_0x302a82[_0x1a3b4d]=_0x438116['litOptions'][_0x1a3b4d];}else _0x302a82=_0x438116;this['_programsC'+'ollection']['push'](JSON['stringify']({'name':_0x5844a3,'options':_0x302a82}));}['dumpProgra'+'ms'](){let _0x573674='let\x20device'+'\x20=\x20pc.app\x20'+'?\x20pc.app.g'+'raphicsDev'+'ice\x20:\x20pc.A'+'pplication'+'.getApplic'+'ation().gr'+'aphicsDevi'+'ce;\x0a';_0x573674+='let\x20shader'+'s\x20=\x20[',this['_programsC'+'ollection'][-0x3*-0x2a5+0x1*0x2345+-0x2b34]&&(_0x573674+='\x0a\x09'+this['_programsC'+'ollection'][-0x3*-0x926+-0x168a+0x9d*-0x8]);for(let _0x378651=-0x6ac+0xb22+0x475*-0x1;_0x378651<this['_programsC'+'ollection']['length'];++_0x378651)_0x573674+=',\x0a\x09'+this['_programsC'+'ollection'][_0x378651];_0x573674+='\x0a];\x0a',_0x573674+='pc.getProg'+'ramLibrary'+'(device).p'+'recompile('+'shaders);\x0a',_0x573674+='if\x20(pc.ver'+'sion\x20!=\x20\x22'+hn+('\x22\x20||\x20pc.re'+'vision\x20!=\x20'+'\x22')+$S+'\x22)\x0a',_0x573674+='\x09console.w'+'arn(\x22preco'+'mpile-shad'+'ers.js:\x20en'+'gine\x20versi'+'on\x20mismatc'+'h,\x20rebuild'+'\x20shaders\x20l'+'ib\x20with\x20cu'+'rrent\x20engi'+'ne\x22);';const _0x4bba1d=document['createElem'+'ent']('a');_0x4bba1d['setAttribu'+'te']('href','data:text/'+'plain;char'+'set=utf-8,'+encodeURIComponent(_0x573674)),_0x4bba1d['setAttribu'+'te']('download','precompile'+'-shaders.j'+'s'),_0x4bba1d['style']['display']='none',document['body']['appendChil'+'d'](_0x4bba1d),_0x4bba1d['click'](),document['body']['removeChil'+'d'](_0x4bba1d);}['clearCache'](){this['_isClearin'+'gCache']=!(-0x84e+-0x172c+-0x1*-0x1f7a),this['processedC'+'ache']['forEach'](_0x470e5e=>{_0x470e5e['destroy']();}),this['processedC'+'ache']['clear'](),this['_isClearin'+'gCache']=!(0x5*0x13+-0x12f5+-0x1297*-0x1);}['removeFrom'+'Cache'](_0x2b201e){this['_isClearin'+'gCache']||this['processedC'+'ache']['forEach']((_0x409888,_0x20bf2a)=>{_0x2b201e===_0x409888&&this['processedC'+'ache']['delete'](_0x20bf2a);});}['_getDefaul'+'tStdMatOpt'+'ions'](_0x48470d){const _0xf3e6e9=Si['get'](this['_device'])['getByIndex'](_0x48470d);return _0x48470d===Zn||_0x48470d===Rl||_0xf3e6e9['isShadow']?this['_defaultSt'+'dMatOption'+'Min']:this['_defaultSt'+'dMatOption'];}['precompile'](_0x141ac7){if(_0x141ac7){const _0x3b48c0=new Array(_0x141ac7['length']);for(let _0x5f2b07=-0x17d8+-0xa77*0x1+-0x1*-0x224f;_0x5f2b07<_0x141ac7['length'];_0x5f2b07++){if(_0x141ac7[_0x5f2b07]['name']==='standard'){const _0x59b1be=_0x141ac7[_0x5f2b07]['options'],_0x2b257b=this['_getDefaul'+'tStdMatOpt'+'ions'](_0x59b1be['pass']);for(const _0x1492f8 in _0x2b257b)_0x2b257b['hasOwnProp'+'erty'](_0x1492f8)&&_0x59b1be[_0x1492f8]===void(-0x1*0x136b+0x5*-0x4f4+0x2c2f)&&(_0x59b1be[_0x1492f8]=_0x2b257b[_0x1492f8]);}_0x3b48c0[_0x5f2b07]=this['getProgram'](_0x141ac7[_0x5f2b07]['name'],_0x141ac7[_0x5f2b07]['options']);}}this['_precached']=!(-0x3c9+0x1e8e+-0x1ac5);}}async function jA(){const _0xfd64dd=new Float32Array(0x6dc*-0x4+-0x19c2+0x3533),_0x9f78ea=new Int32Array(_0xfd64dd['buffer']);let _0x416d2f=0x4a2*0x7+0x1bd9+-0xd*0x4a3,_0x5153ae={};self['onmessage']=async _0x38d272=>{const {data:_0x3d2a49}=_0x38d272;switch(_0x3d2a49['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x4cce3d(_0x3d2a49['properties'],_0x3d2a49['timeIndex'],_0x3d2a49['timeOption']);break;case'releaseSeq'+'Data':_0x24131f(_0x3d2a49['index']);break;case'releaseAll'+'SeqData':_0xda4d50();break;case'destroyWor'+'ker':_0xc632e0();break;}};class _0x25439f{constructor(_0x2a883c=-0x49*-0x64+0x19b7+-0x363b,_0x42277a=0xc78+-0x1eff+-0x9*-0x20f,_0x30f25b=-0x2*-0xc10+-0x1c46+0x426,_0xadabd6=0x5*0x191+-0x796+-0x3e){this['x']=_0x2a883c,this['y']=_0x42277a,this['z']=_0x30f25b,this['w']=_0xadabd6;}['set'](_0x2bdf52,_0x4bb51e,_0x491ca3,_0x55b3c0){return this['x']=_0x2bdf52,this['y']=_0x4bb51e,this['z']=_0x491ca3,this['w']=_0x55b3c0,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x551fa2=this){let _0x463cf9=_0x551fa2['length']();return _0x463cf9===0x1ab3+0x13b0+-0x2e63?(this['x']=this['y']=this['z']=0x1c*-0x2e+-0x1a88+0x1f90,this['w']=-0x138+0x1*0x13d6+-0x129d):(_0x463cf9=(0xc10+0x1d*-0x16+-0x991)/_0x463cf9,this['x']=_0x551fa2['x']*_0x463cf9,this['y']=_0x551fa2['y']*_0x463cf9,this['z']=_0x551fa2['z']*_0x463cf9,this['w']=_0x551fa2['w']*_0x463cf9),this;}['mulScalar'](_0x154555,_0x3e8ef1=this){return this['x']=_0x3e8ef1['x']*_0x154555,this['y']=_0x3e8ef1['y']*_0x154555,this['z']=_0x3e8ef1['z']*_0x154555,this['w']=_0x3e8ef1['w']*_0x154555,this;}}const _0x1d4e75=_0x173f8d=>{_0xfd64dd[0xe77+-0x257d+0x1706]=_0x173f8d;const _0x17fbdc=_0x9f78ea[0x35*-0x58+-0x189a+0x2ad2];let _0x362a40=_0x17fbdc>>-0x11c2+-0x35*-0x10+0xe82&0xbe7c+-0x8db3+0x4f37,_0x102448=_0x17fbdc>>-0x1ea8+-0x7*0x149+0x27b3&-0x613+0x26e3+-0x1*0x18d1;const _0x5d3ae4=_0x17fbdc>>-0x239e+0x223f+0x176&-0x2*-0xfd9+0xdf7+-0x2caa;return _0x5d3ae4<0x9ad*0x1+0xb1d*0x2+-0x1c*0x120?_0x362a40:_0x5d3ae4>-0x9eb*-0x2+0x1*-0x988+-0x20*0x4e?(_0x362a40|=0xc7c2+0xbc1a+-0x107dc,_0x362a40|=(_0x5d3ae4===0x22e8+-0x3*0x80b+-0x9c8?0x102*0x2+0x12*0x4a+-0x268*0x3:0x212*-0xf+0x71+-0x1e9e*-0x1)&&_0x17fbdc&-0xeade4d+-0x61e2f9+0x1ccc145,_0x362a40):_0x5d3ae4<-0x6*-0x20b+0x131a+-0x1eeb?(_0x102448|=0x838*0x2+0x8a3+-0x1113,_0x362a40|=(_0x102448>>-0x204+-0x16e0+0x1956-_0x5d3ae4)+(_0x102448>>-0x1ce+0x2187*-0x1+-0xf1*-0x26-_0x5d3ae4&0x11b*-0x5+-0xee3+0x146b),_0x362a40):(_0x362a40|=_0x5d3ae4-(-0xbc9+0xf23+-0x2ea)<<-0x5d*-0x51+0x928+-0x268b|_0x102448>>0x12cb+0x1*0x3b3+-0x167d,_0x362a40+=_0x102448&-0x11*-0x31+0x1*0x3a6+-0x6e6,_0x362a40);},_0x34db31=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x491299=0x857*-0x4+-0x2159*-0x1+0x1*0x3;_0x491299<-0x5fd+0x13be+-0x1*0xd94;++_0x491299)if(!_0x5153ae['f_rest_'+_0x491299])return _0x491299;return 0x9e3+0x1094+-0x1a4a;})())]??-0x1*0x502+0x1*0x157d+-0x1*0x107b),_0x4cce3d=(_0x1f8826,_0x2bff68,_0x25c0be)=>{const _0xb5b4ae=!!_0x1f8826['time_index'];_0xb5b4ae||(_0x1f8826['time_index']=new Float32Array(-0xf*0x259+0x1*-0x1bb1+0x14f8*0x3)),_0x416d2f+=_0x1f8826['x']['length']??0xaf+-0x3*0x24d+0x2*0x31c;const _0x3b4c39=Object['keys'](_0x1f8826);for(let _0x46ea11=-0x4*0x62b+-0x565+-0x1e11*-0x1;_0x46ea11<_0x3b4c39['length'];_0x46ea11++){const _0x18c2f9=_0x3b4c39[_0x46ea11],_0x4fe3f9=_0x1f8826[_0x18c2f9],_0x30fce7=_0x5153ae[_0x18c2f9]??new Float32Array(0x3*0x39+0x1ea9+-0x1f54);if(!_0xb5b4ae&&_0x18c2f9==='time_index'){const _0x1e298d=new Float32Array(_0x416d2f);_0x1e298d['fill'](_0x2bff68),_0x1e298d['set'](_0x30fce7,-0x4*0x239+0x3*0x836+-0x136*0xd),_0x5153ae[_0x18c2f9]=_0x1e298d;}else{if(!_0xb5b4ae&&_0x4fe3f9&&_0x18c2f9==='t'){const _0x2a997c=new Float32Array(_0x416d2f);if(_0x2a997c['set'](_0x30fce7,-0x1933+-0x24b3+0x1a1*0x26),_0x25c0be){for(let _0x36ec2f=_0x30fce7['length'];_0x36ec2f<_0x416d2f;_0x36ec2f++)_0x4fe3f9[_0x36ec2f-_0x30fce7['length']]>-(0x26a+-0x247+0x2*-0xf)?_0x2a997c[_0x36ec2f]=_0x4fe3f9[_0x36ec2f-_0x30fce7['length']]+_0x25c0be[(0x15b8+-0x25b2+0x16*0xba)*_0x2bff68]:_0x2a997c[_0x36ec2f]=_0x4fe3f9[_0x36ec2f-_0x30fce7['length']];}_0x5153ae[_0x18c2f9]=_0x2a997c;}else{if(_0x4fe3f9){const _0x3c8389=new Float32Array(_0x416d2f);_0x3c8389['set'](_0x30fce7,0x1*-0x1a31+0x11f8*0x1+0x839),_0x3c8389['set'](_0x4fe3f9,_0x30fce7['length']),_0x5153ae[_0x18c2f9]=_0x3c8389;}}}}const _0x1ae6fb={};Object['keys'](_0x5153ae)['forEach'](_0x8fa759=>{_0x1ae6fb[_0x8fa759]=new Float32Array(_0x5153ae[_0x8fa759]['buffer']['slice']());});const _0x408b2e=Object['keys'](_0x1ae6fb)['map'](_0x32d702=>_0x1ae6fb[_0x32d702]['buffer']),_0x217446=_0x7bd312(),_0x35b4dc=Object['keys'](_0x217446)['map'](_0x5a14f5=>_0x217446[_0x5a14f5]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x1ae6fb,'transformData':_0x217446},_0x408b2e['concat'](_0x35b4dc));},_0x7bd312=()=>{const _0x147c04=_0x5153ae['x']['length'],_0x195da4=_0x5153ae['x'],_0x5c977d=_0x5153ae['y'],_0x3d2743=_0x5153ae['z'],_0x7a8cee=_0x5153ae['scale_0'],_0x4d7022=_0x5153ae['scale_1'],_0x1ad572=_0x5153ae['scale_2'],_0x2b17f5=_0x5153ae['rot_1'],_0x5736eb=_0x5153ae['rot_2'],_0x576965=_0x5153ae['rot_3'],_0x43bb5a=_0x5153ae['rot_0'],_0x12ee2e=_0x5153ae['motion_0'],_0x15cbbc=_0x5153ae['motion_1'],_0x5326af=_0x5153ae['motion_2'],_0xb10a53=_0x5153ae['t'],_0x18ba97=_0x5153ae['t_scale'],_0x3f2cd1=_0x5153ae['time_index'],_0x22e781=_0x5153ae['f_dc_0'],_0x1d6e9f=_0x5153ae['f_dc_1'],_0x146484=_0x5153ae['f_dc_2'],_0x4ac04a=_0x5153ae['opacity'],_0x18d9e3=(_0xb10a53==null?void(0x2*0xe35+0x63a*0x6+-0x2*0x20e3):_0xb10a53['length'])>0x1*0x241f+0x1218+-0x1*0x3637,_0x68ed88=new Float32Array(_0x147c04*(-0x4*-0x6e6+-0x1e5*-0x1+-0x1d7a)),_0x535d19=new Float32Array(_0x147c04*(-0x7*0x54f+-0x10ae+-0x2*-0x1aed)),_0x2f20a7=new Uint16Array(_0x147c04*(-0x33d+-0xb50+0xe90)),_0x29708d=new Float32Array(_0x147c04*(0x238a+-0x20fb*0x1+-0x28c));let _0x120c0e=null,_0x3d6d2f=null,_0x5a137c=null,_0x17d8dd=null;_0x18d9e3&&(_0x120c0e=new Float32Array(_0x147c04*(0x4*-0x472+0x1*0x133a+0x1*-0x16f)),_0x3d6d2f=new Float32Array(_0x147c04*(-0x133*0x1+-0x4*-0x72e+0xdc1*-0x2)),_0x5a137c=new Float32Array(_0x147c04*(-0x1ab5+0x1df7*0x1+-0x115*0x3)),_0x17d8dd=new Float32Array(_0x147c04));const _0x29bba0=new _0x25439f(-0x8b5+-0x6*-0x2dd+-0x879,0x1ebe*-0x1+-0x107c+0x2f3a,0x1da9*0x1+-0x2*-0xbcf+-0x3547,-0x1*0x78d+-0xba6+-0x1*-0x1333);let _0x10c2cf=0x165d+0x1192+0x27ef*-0x1,_0x32db44=-0xbd8+-0xa7*0x35+0x2e6b,_0x2ca4b9=0x1*-0x8a5+0x1609*-0x1+0xe*0x231,_0x25f921=0x265+0x1dab+-0x2010,_0x436328=0x10ba+0x1315+-0x23cf,_0x164cc2=-0x1*0x7ff+0x1f7f+-0x1780,_0x14e9c0=!(-0x2018*-0x1+0x1a89+-0x3aa1);const _0x4219d9=new Float32Array(0xe82+0x10cf*0x2+-0x301d),_0x5ed146=new Float32Array(-0x13d*-0x11+0x1261+0x1*-0x276b),_0x511cd2=new Uint16Array(_0x147c04*(0xab9+-0xbc5*-0x1+-0x336*0x7)),_0x508db5=-0x22bc+-0x1*-0x1b81+0x73b+0.28209479177387814;for(let _0x4fb3d3=-0x2*0x445+0x1da5+-0x151b;_0x4fb3d3<_0x147c04;++_0x4fb3d3){const _0x5334ae=_0x22e781[_0x4fb3d3]*_0x508db5+(0x69c+-0x74b+0x7*0x19+0.5),_0x955cf8=_0x1d6e9f[_0x4fb3d3]*_0x508db5+(0x2101+0x38f*0x1+-0x2490+0.5),_0x1e4214=_0x146484[_0x4fb3d3]*_0x508db5+(-0x1f5*0x9+-0x7db*0x1+0x1978+0.5),_0x4d319a=_0x4ac04a[_0x4fb3d3];_0x511cd2[_0x4fb3d3*(0x2*-0xe50+-0x1028*0x2+0x3cf4)+(-0x24ea+0x21*-0x124+0x4a8e)]=_0x1d4e75(_0x5334ae),_0x511cd2[_0x4fb3d3*(0x899+0x3*0xc3e+-0x2d4f)+(0x99f+-0xb29*-0x2+-0x1ff0)]=_0x1d4e75(_0x955cf8),_0x511cd2[_0x4fb3d3*(-0x1a73+-0x7b9+0x8*0x446)+(-0x2*0x12dd+0x3cf+-0x1*-0x21ed)]=_0x1d4e75(_0x1e4214),_0x511cd2[_0x4fb3d3*(-0x57*0x1b+-0x205f*0x1+-0x532*-0x8)+(-0xa62+0x38c+0x6d9)]=_0x1d4e75(_0x4d319a);const _0x3316a1=_0x195da4[_0x4fb3d3],_0x4e021e=_0x5c977d[_0x4fb3d3],_0x5dd23b=_0x3d2743[_0x4fb3d3],_0x471f37=Math['max'](_0x7a8cee[_0x4fb3d3],_0x4d7022[_0x4fb3d3],_0x1ad572[_0x4fb3d3]);if(isFinite(_0x3316a1)&&isFinite(_0x4e021e)&&isFinite(_0x5dd23b)&&isFinite(_0x471f37)){const _0x396f80=(-0x3bc*-0x9+0x15c4*0x1+-0x375e)*Math['exp'](_0x471f37);_0x14e9c0?(_0x14e9c0=!(0xd54+-0x2366+0x1*0x1613),_0x10c2cf=_0x3316a1-_0x396f80,_0x32db44=_0x4e021e-_0x396f80,_0x2ca4b9=_0x5dd23b-_0x396f80,_0x25f921=_0x3316a1+_0x396f80,_0x436328=_0x4e021e+_0x396f80,_0x164cc2=_0x5dd23b+_0x396f80):(_0x10c2cf=Math['min'](_0x10c2cf,_0x3316a1-_0x396f80),_0x32db44=Math['min'](_0x32db44,_0x4e021e-_0x396f80),_0x2ca4b9=Math['min'](_0x2ca4b9,_0x5dd23b-_0x396f80),_0x25f921=Math['max'](_0x25f921,_0x3316a1+_0x396f80),_0x436328=Math['max'](_0x436328,_0x4e021e+_0x396f80),_0x164cc2=Math['max'](_0x164cc2,_0x5dd23b+_0x396f80));}_0x29bba0['set'](_0x2b17f5[_0x4fb3d3],_0x5736eb[_0x4fb3d3],_0x576965[_0x4fb3d3],_0x43bb5a[_0x4fb3d3]),_0x29bba0['normalize'](),_0x29bba0['w']<0x1148+-0xd*-0x29+-0x135d*0x1&&_0x29bba0['mulScalar'](-(-0x4be*-0x5+0x13fb+-0x2bb0)),_0x535d19[_0x4fb3d3*(-0x1*0xf2e+-0x1de3+0x2d14)+(-0xd69*0x2+-0x18cf+-0x33a1*-0x1)]=_0x195da4[_0x4fb3d3],_0x535d19[_0x4fb3d3*(0xcec+-0x9d*-0xd+0xc6*-0x1b)+(0xa3*0x5+-0xdf*-0xb+-0xcc3)]=_0x5c977d[_0x4fb3d3],_0x535d19[_0x4fb3d3*(0xb4f+-0x1393+-0xa3*-0xd)+(0x7*-0x13+-0x18*-0x3c+-0x519)]=_0x3d2743[_0x4fb3d3],_0x68ed88[_0x4fb3d3*(0x1c8b+-0x861+-0x1427*0x1)+(0x6af+-0x647+0x1*-0x68)]=_0x195da4[_0x4fb3d3],_0x68ed88[_0x4fb3d3*(-0x27a*0x1+0x1532+0x12b5*-0x1)+(-0x59f*-0x5+-0x15b8*0x1+-0x662)]=_0x5c977d[_0x4fb3d3],_0x68ed88[_0x4fb3d3*(0x272*-0x9+-0x22eb+0x38f0)+(0x452+0xd82*-0x1+0x932)]=_0x3d2743[_0x4fb3d3],_0x2f20a7[_0x4fb3d3*(0x1*0x2177+-0x7*0x449+0xf*-0x3b)+(0x1*0x72d+-0x23e1*-0x1+-0x2b0e)]=_0x1d4e75(Math['exp'](_0x7a8cee[_0x4fb3d3])),_0x2f20a7[_0x4fb3d3*(-0x2068+-0x2*0xc61+0x392d)+(-0x390+-0x515*-0x5+-0x15d8)]=_0x1d4e75(Math['exp'](_0x4d7022[_0x4fb3d3])),_0x2f20a7[_0x4fb3d3*(0x2a+0xee6+-0xf0d)+(-0x108*-0xb+0x1982*0x1+-0x24d8)]=_0x1d4e75(Math['exp'](_0x1ad572[_0x4fb3d3])),_0x29708d[_0x4fb3d3*(0x137*-0x1+0x8*-0x406+0x216a)+(0x1*-0x1d4b+-0x17d2+0x351d)]=_0x29bba0['x'],_0x29708d[_0x4fb3d3*(0x1ed4+0x2332+-0x81*0x83)+(0x1*0x215b+0x19ab+-0x3b05)]=_0x29bba0['y'],_0x29708d[_0x4fb3d3*(0x1071*-0x2+0x629*0x1+-0x1abc*-0x1)+(-0x1b37+-0x919+-0x1229*-0x2)]=_0x29bba0['z'],_0x18d9e3&&_0x120c0e&&_0x3d6d2f&&_0x5a137c&&_0x17d8dd&&(_0x120c0e[_0x4fb3d3*(-0x1ff8+-0x1075+-0x19*-0x1f0)+(-0x2625+0x1*0x78d+0x164*0x16)]=_0x12ee2e[_0x4fb3d3],_0x120c0e[_0x4fb3d3*(-0x29c+-0x1*0x696+-0x935*-0x1)+(0x264a+-0x1a49+-0xc00)]=_0x15cbbc[_0x4fb3d3],_0x120c0e[_0x4fb3d3*(-0x1757+0x268*-0x10+0x3dda)+(0x24c0+0x238+-0x26f6)]=_0x5326af[_0x4fb3d3],_0x5a137c[_0x4fb3d3*(0x1e0e*-0x1+-0x1c54+0x3a65)+(0x132e+0x1a30+0x1*-0x2d5e)]=_0x12ee2e[_0x4fb3d3],_0x5a137c[_0x4fb3d3*(0x1*0x23c7+0x1*0x667+-0x2a2b)+(-0x88f+0x26ea+-0xd2*0x25)]=_0x15cbbc[_0x4fb3d3],_0x5a137c[_0x4fb3d3*(0x1*-0x2112+0x2*-0x86a+-0x1*-0x31e9)+(-0x3*0xa3+0x1f03+-0x2*0xe8c)]=_0x5326af[_0x4fb3d3],_0x17d8dd[_0x4fb3d3]=_0x18ba97?Math['exp'](_0x18ba97[_0x4fb3d3]):-0xe02*-0x2+0x1f29+0x3b2d*-0x1,_0x3d6d2f[_0x4fb3d3*(-0x23bb*0x1+-0x23e9+-0x437*-0x11)+(0x139b+0x118+-0x14b3)]=_0xb10a53?_0xb10a53[_0x4fb3d3]:0x2671+0x1fc7+0x6*-0xbb4,_0x3d6d2f[_0x4fb3d3*(-0x41+-0x264b+0x1*0x268f)+(0xa8c+-0x1*-0x1b23+0x173*-0x1a)]=_0x17d8dd[_0x4fb3d3]);}_0x14e9c0||(_0x4219d9[-0xb09+-0x19d+-0x1*-0xca6]=(_0x10c2cf+_0x25f921)*(-0x1a4b*-0x1+-0x22e7+0x89c+0.5),_0x4219d9[-0x9d9*-0x2+0xa9+0x5*-0x412]=(_0x32db44+_0x436328)*(0x7b*0x21+0x8f*-0x30+0xaf5+0.5),_0x4219d9[-0x7*0xda+0x16a*0x18+0x14*-0x166]=(_0x2ca4b9+_0x164cc2)*(0x7*0x16c+0x9a0+0x1*-0x1394+0.5),_0x5ed146[0x777+0x1264+-0x1*0x19db]=(_0x25f921-_0x10c2cf)*(-0x1bde+-0x14*-0x136+0x1d3*0x2+0.5),_0x5ed146[-0xab7+-0x1*0x1723+0x21db]=(_0x436328-_0x32db44)*(0x835+0xa9a+0x2d*-0x6b+0.5),_0x5ed146[-0x1878+-0x16de+0x2f58]=(_0x164cc2-_0x2ca4b9)*(0x262e+0x1*-0x3b+-0x25f3+0.5));const _0x9fffac=_0xc9b914();let _0x4efaa7={'dataColor':_0x511cd2,'center':_0x4219d9,'halfExtents':_0x5ed146,'dataCenters':_0x68ed88,'dataPosition':_0x535d19,'dataScale':_0x2f20a7,'dataRotation':_0x29708d,..._0x9fffac};return _0x18d9e3&&(_0x4efaa7={..._0x4efaa7,'dataMotion':_0x120c0e,'dataTime':_0x3d6d2f,'motion':_0x5a137c,'tScaleArray':_0x17d8dd,'muT':new Float32Array(_0xb10a53),'timeIndex':new Float32Array(_0x3f2cd1)}),_0x4efaa7;},_0x3f91ac=_0x5ddd68=>{const _0x547926=[];for(let _0x25a8aa=-0x9*0x33a+0x26*-0xed+0x4038;_0x25a8aa<_0x5ddd68;++_0x25a8aa)_0x547926['push'](_0x5153ae['f_rest_'+_0x25a8aa]);return _0x547926;},_0xc9b914=()=>{const _0x1b8354=_0x34db31();if(_0x1b8354<=-0x4*-0x1c4+0x122e+-0x86a*0x3)return{};const _0x4ce9bd=_0x5153ae['x']['length'],_0x5d1471=new Uint32Array(_0x4ce9bd*(0x993*0x3+-0xa4*0x23+-0x649)),_0x5073a6=new Uint32Array(_0x4ce9bd*(0xf7*0x11+0x799*-0x5+0x159a)),_0x562061=new Uint32Array(_0x4ce9bd*(-0x9*-0x40+-0x2334+0x20f8)),_0x16feb7=new Uint32Array(_0x4ce9bd*(-0x91a*0x2+-0x2047*0x1+-0x1a1*-0x1f)),_0x5486b5={0x1:0x3,0x2:0x8,0x3:0xf}[_0x1b8354],_0x63cd28=_0x3f91ac(_0x5486b5*(-0x1eda+-0x224f*0x1+0x412c)),_0x4267d7=0x106c+0x1*-0xb60+0x2f3,_0x3aac27=0x331*0x1+-0x1f61+0x202f,_0x310307=new Float32Array(-0x486+-0x1*-0x4cf+-0x48),_0x5c2a51=new Uint32Array(_0x310307['buffer']),_0x203e74=new Array(_0x5486b5*(0x2166+0x245+0x146*-0x1c))['fill'](0x10*-0x53+0xf08+-0x9d8);for(let _0x39ce35=-0x94c+-0x1a*-0x12a+-0x14f8;_0x39ce35<_0x4ce9bd;++_0x39ce35){for(let _0x585c3a=0xb3a+0x3*0xb73+-0x2d93*0x1;_0x585c3a<_0x5486b5;++_0x585c3a)_0x203e74[_0x585c3a*(-0x1168+0xe96+0x5*0x91)]=_0x63cd28[_0x585c3a][_0x39ce35],_0x203e74[_0x585c3a*(0x559*0x6+-0xbd6*0x1+-0x143d)+(0x2142+0x21*-0x6+-0x207b)]=_0x63cd28[_0x585c3a+_0x5486b5][_0x39ce35],_0x203e74[_0x585c3a*(0x1b34+0x1*-0xe02+-0xd2f)+(-0x4*-0x21d+-0x1*-0x1d0c+-0x257e*0x1)]=_0x63cd28[_0x585c3a+_0x5486b5*(-0x253f+-0x1fcf+0xaa*0x68)][_0x39ce35];let _0x5236e5=_0x203e74[-0x19c*-0xb+0xb2f+0x1ed*-0xf];for(let _0x27829c=0x475*-0x1+-0x1*0xe89+0x12ff;_0x27829c<_0x5486b5*(-0x65b*0x1+-0x10*0xb3+0x118e);++_0x27829c)_0x5236e5=Math['max'](_0x5236e5,Math['abs'](_0x203e74[_0x27829c]));if(_0x5236e5!==0x80a+0x9c7+-0x11d1){for(let _0x4676ae=-0x208+-0x1ce5+0x1eed;_0x4676ae<_0x5486b5;++_0x4676ae)_0x203e74[_0x4676ae*(0x10f3*0x1+-0xa95+0x65b*-0x1)+(0x985*0x2+-0x1*0x748+-0xbc2)]=Math['max'](-0x1bfa+-0x428+0x2022,Math['min'](_0x4267d7,Math['floor']((_0x203e74[_0x4676ae*(0x1*0xa4f+0xe26*-0x1+0x3da)+(-0x2+0x24+-0x1*0x22)]/_0x5236e5*(0x11a5*-0x1+-0x2de+0x1483+0.5)+(0x14e*0xf+-0x119*0x17+0x5ad+0.5))*_0x4267d7+(-0x5d3+0x2d5+0x1*0x2fe+0.5)))),_0x203e74[_0x4676ae*(-0x23e*0x6+-0x709*-0x1+0x1*0x66e)+(0x26cb+0x3*-0x347+-0x1cf5)]=Math['max'](-0x3*-0x96b+-0x19ec+-0x1*0x255,Math['min'](_0x3aac27,Math['floor']((_0x203e74[_0x4676ae*(0xf48+0x1be+-0x1103)+(0x1df7+-0x1a*0x49+-0x1a*0xde)]/_0x5236e5*(0x1a*0x13+0x1ead+-0x209b+0.5)+(0x17*-0x1b1+0x57*-0x1+0x273e+0.5))*_0x3aac27+(-0x1b*-0xd6+0xe39*0x1+0x1*-0x24cb+0.5)))),_0x203e74[_0x4676ae*(-0x548*0x1+-0x786+-0xcd1*-0x1)+(-0x2a8+-0x9a5+0xc4f)]=Math['max'](0x214d+-0x6d5+-0x1a78,Math['min'](_0x4267d7,Math['floor']((_0x203e74[_0x4676ae*(0x7*0x305+0x80e+-0x1d2e)+(0x1636+-0x16fe+0xca)]/_0x5236e5*(-0x24a1+-0x1*0x1277+0x3718+0.5)+(-0x1c11+-0x134+0x1*0x1d45+0.5))*_0x4267d7+(-0x27d+-0xac3+0xd40+0.5))));_0x310307[-0x2614+0x4*-0x1fa+0xb7f*0x4]=_0x5236e5,_0x5d1471[_0x39ce35*(-0x4*0x2b6+-0x1456+-0x2d6*-0xb)+(0x4*0x8d5+-0x205d*-0x1+-0x43b1)]=_0x5c2a51[-0x3*0x599+-0x1e16+-0x1*-0x2ee1],_0x5d1471[_0x39ce35*(0x16*-0x11b+0x609+-0x1*-0x124d)+(0x41c+-0x2657+0x223c)]=_0x203e74[0x24dd*0x1+-0x96e+0x1*-0x1b6f]<<-0x5*-0x335+-0xb00*-0x2+-0x25f4|_0x203e74[-0x105d+0xf81+0xdd]<<0x128b+-0x289*-0x5+-0x1f2d|_0x203e74[0x7*-0x296+0x1*0x2362+-0x1146],_0x5d1471[_0x39ce35*(0x1038+0x1*0x1a32+-0xc9*0x36)+(-0x931+-0x49*-0xd+0x57e)]=_0x203e74[0x1c3*0xf+0x25*0xdb+-0x3df*0xf]<<0x2061*-0x1+-0x89e+-0x2*-0x148a|_0x203e74[-0xacb+0x1dc2+-0x12f3]<<0x2ff*-0xb+0x1*0x1024+-0x2*-0x86e|_0x203e74[-0x6*-0x297+-0x17*0x175+0x8ff*0x2],_0x5d1471[_0x39ce35*(0xbb*-0x13+0xee9*-0x2+0x2bb7)+(-0x2003+-0x9eb*0x3+-0x3dc7*-0x1)]=_0x203e74[-0x22*0x63+-0x4fe*-0x5+-0xbca]<<-0x1e98+0x310+0x1b9d|_0x203e74[-0x41*0x5d+-0x1806+-0x17d5*-0x2]<<0x177b+0x196*-0x4+0x2*-0x88c|_0x203e74[-0x1699+-0x222*0x3+0x1d07],_0x1b8354>0x18dc+0x38d+-0x1c68&&(_0x5073a6[_0x39ce35*(0xc58+0x2*-0xe4+-0xa8c)+(0xc4c+-0xbb9*-0x1+-0x1*0x1805)]=_0x203e74[-0x1*0x2708+0x20c8+0x649]<<-0x1*0x693+-0x1c8b*0x1+0x2333*0x1|_0x203e74[-0x2*0x44b+-0x1029+0x18c9]<<0x2341+0xcf8+0x371*-0xe|_0x203e74[0x2192+0xc37+-0x2dbe*0x1],_0x5073a6[_0x39ce35*(-0xe25+0x1*-0x66d+0x1496)+(-0x1*-0x222b+-0xe07+-0x1423)]=_0x203e74[0x1250+-0x8c3*-0x2+-0x23ca]<<-0xc42*0x1+0x15c3+-0x1*0x96c|_0x203e74[-0x580+-0x12f*0xd+0x14f0]<<0x4d0+-0x26e+-0x257|_0x203e74[-0x1680+-0x925+-0xf*-0x21d],_0x5073a6[_0x39ce35*(-0x4d*0x41+0x1c*0xc3+-0x1*0x1c3)+(0x8b1+-0x24e9+0x1c3a)]=_0x203e74[0xf8e+-0x36*0x81+-0xbb7*-0x1]<<0x2*-0xf0+-0x10b7*-0x2+-0x1f79|_0x203e74[-0x846*0x3+0x250e+-0xc2c]<<0x206+-0x5ae+0x3b3|_0x203e74[0x4f*-0x1f+0x19d2*-0x1+0x2374],_0x5073a6[_0x39ce35*(-0x890*-0x1+0x4*-0x3b+-0x7a0)+(0xc25*0x3+-0x13e+-0x232e)]=_0x203e74[-0x6a7+-0x4a3*0x1+-0x1*-0xb5c]<<-0x9a9+0x18cf+-0xf11|_0x203e74[0x2*0xfda+0x11d3+-0x41f*0xc]<<-0x3*0xaab+0x5e2*-0x4+0x3794|_0x203e74[0x34b+0x11b8+-0x17*0xe9],_0x1b8354>-0xf55+0x1*-0x1e2f+-0x2d86*-0x1?(_0x562061[_0x39ce35*(0x80f+-0xc4f+0x444)+(0x1*-0x2332+0x1*0x16cf+0xc63)]=_0x203e74[0x112a*-0x1+-0xde*-0x24+-0xdf9]<<-0x610*-0x1+-0xf3*0x20+0x5*0x4e1|_0x203e74[0x260*-0x8+-0x5*0x749+0x3783]<<0x16ae+0x241c+-0x3abf|_0x203e74[0x1*0x1d29+-0x19da*0x1+-0x338],_0x562061[_0x39ce35*(-0x2217+0x1daf+0x46c)+(0x4d6+0x187e+-0x1d53)]=_0x203e74[0x264e+0x38c+-0x29c2]<<0x16d3*0x1+-0x1*0x1dc5+0x707*0x1|_0x203e74[-0x10*0x4+-0x11c4*0x2+-0x343*-0xb]<<-0x1*-0x18e5+-0x1*-0x607+-0x1ee1|_0x203e74[-0x1*0x86f+-0xfa6+0x182f],_0x562061[_0x39ce35*(0x3f1*-0x9+-0x9c4+-0x2d41*-0x1)+(-0x46+-0x1*-0x158+-0x110)]=_0x203e74[-0x559*-0x2+-0x21e*0x1+0x9*-0xf1]<<0x241*0x1+-0xaa*0x1+-0x182|_0x203e74[-0x6c0+-0x206e+0x274a]<<-0x9*-0x3d7+-0xc0f+-0x1675|_0x203e74[0x26f4+-0x67*0x2f+-0x13ee*0x1],_0x562061[_0x39ce35*(-0x1*0x78a+-0x1dff+0x1*0x258d)+(-0xd*0x5b+-0x1de8+0x228a)]=_0x203e74[-0xb*-0x1fd+-0x1*-0x192b+-0x2eec]<<-0x13d*-0x6+-0x1073+-0xa*-0xe9|_0x203e74[0xe*-0x1a5+0x5*0x7ae+-0xf41]<<-0xd*-0x1de+0x2*0xddc+-0x33f3|_0x203e74[-0x2*-0x617+-0x199d+-0x1*-0xd8f],_0x16feb7[_0x39ce35*(-0xe7*0x18+-0x23b3+0x13*0x305)+(-0x1*0x164f+-0x3*-0xc85+-0xf40)]=_0x203e74[-0x2596+0x2f7+0x22c0]<<0xbe2+0xbeb+0x4*-0x5ee|_0x203e74[0x1*0x1b0e+-0x26b4+0xbc8]<<-0x1fc1+0xf27*0x2+0x17e|_0x203e74[0x1*-0x7e+0x2410+-0x236f],_0x16feb7[_0x39ce35*(0x445*-0x4+0xec1+0x1*0x257)+(-0x334*0x6+-0x97d*0x3+-0x1*-0x2fb0)]=_0x203e74[0x182e+-0x4*-0x39b+0x2*-0x133b]<<-0x21a5+0x831*-0x1+-0x15*-0x1ff|_0x203e74[0x23*0x3b+0x6*-0x95+-0x46e]<<-0x29+0x25cf+0x1*-0x259b|_0x203e74[0xc04+-0x7e2+-0xcc*0x5],_0x16feb7[_0x39ce35*(0x9*-0x2da+-0xf4f+0x1*0x28fd)+(-0x4*0x775+-0x29*-0x8a+-0x5*-0x18c)]=_0x203e74[0x32e+0x132e*0x1+-0x1635]<<0x1c60+-0x1f66+-0x31b*-0x1|_0x203e74[-0x12e7+0x1*-0x5bc+0x18cb]<<-0x2*-0xa97+0x1180+-0x9d*0x3f|_0x203e74[-0x1c11+-0x10f2+0x7*0x674],_0x16feb7[_0x39ce35*(0x1bea+-0x12a6+-0x940)+(-0x1*0x17d+0x2f*-0x3b+0xc55)]=_0x203e74[0x932+0x1*-0xb9+0x84f*-0x1]<<-0x1159*0x1+0x63a+0xb34|_0x203e74[0x1861+-0x730+-0x1106]<<-0xc2d+0x13bd+-0xb*0xaf|_0x203e74[-0x9eb*-0x1+0x1da8+0x1*-0x2767]):_0x562061[_0x39ce35]=_0x203e74[0x5ea*0x3+0x9*-0x2c1+-0x1c8*-0x4]<<0x25a6+-0x1*0x761+-0x1e30|_0x203e74[-0x9*-0x261+-0x263d+0x875*0x2]<<-0x17ee+0x63d*0x1+0x11bc|_0x203e74[0x2d4+-0x19*-0xc1+-0x1*0x1596]);}}return{'sh1to3Data':_0x5d1471,'sh4to7Data':_0x5073a6,'sh8to11Data':_0x562061,'sh12to15Data':_0x16feb7};},_0x24131f=_0x2147e4=>{if(!_0x5153ae['time_index'])return;const _0x5c89f4=_0x5153ae['time_index']['findIndex'](_0x9024d5=>_0x9024d5===_0x2147e4);let _0x5e2cf9=_0x5153ae['time_index']['findIndex']((_0x11956f,_0x20bf84)=>_0x11956f!==_0x2147e4&&_0x20bf84>_0x5c89f4);if(_0x5e2cf9===-(0xd*-0x2fe+0x1548+-0x1*-0x119f)&&_0x5c89f4===-(-0xe*0x43+0x1d3+-0x76*-0x4))return;_0x5e2cf9===-(-0x22e5+0x1*-0xca1+0x2f87)&&_0x5c89f4!==-(0xd*-0x19a+-0x4*-0x61+0x134f)&&(_0x5e2cf9=_0x5153ae['time_index']['length']),_0x416d2f-=_0x5e2cf9-_0x5c89f4;const _0x253ff1=Object['keys'](_0x5153ae);for(let _0x343234=0xcc8+-0x9*-0x10f+-0x1*0x164f;_0x343234<_0x253ff1['length'];_0x343234++){const _0x4d2e40=_0x253ff1[_0x343234],_0x5d6db0=_0x5153ae[_0x4d2e40];if(_0x5d6db0){const _0x511640=new Float32Array(_0x416d2f);_0x5c89f4>0x1*-0x4cc+-0x7cf*0x2+0x146a?(_0x511640['set'](_0x5d6db0['subarray'](0x1a10+-0x1*0x1786+-0x28a,_0x5c89f4),0x180c+-0x1*-0x1833+-0x45*0xb3),_0x511640['set'](_0x5d6db0['subarray'](_0x5e2cf9),_0x5c89f4)):_0x511640['set'](_0x5d6db0['subarray'](_0x5e2cf9),-0x9ef*0x2+-0xc8f*0x2+0x2cfc),_0x5153ae[_0x4d2e40]=_0x511640;}}},_0xda4d50=()=>{const _0x4d9580=Object['keys'](_0x5153ae);for(let _0x2366cf=0x1*-0x1a7d+-0x16b9+0x3136;_0x2366cf<_0x4d9580['length'];_0x2366cf++){const _0xf1ef44=_0x4d9580[_0x2366cf];_0x5153ae[_0xf1ef44]&&(_0x5153ae[_0xf1ef44]=[]);}},_0xc632e0=()=>{_0x5153ae={},_0x416d2f=0x1a35+-0x384*0x6+-0x51d;};}class YA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+jA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x5d01fc,_0x57c9d8,_0x483a05,_0x2805cd=!(0x1ba1+0x1289+-0x2e29)){var _0x654345,_0x928830;const _0x55e286={};return _0x5d01fc['elements'][-0x8a5+-0x2*0x29d+-0x43*-0x35]['properties']['forEach'](_0xf2b534=>{_0x55e286[_0xf2b534['name']]=_0xf2b534['storage'];}),_0x2805cd?(_0x654345=this['worker'])==null||_0x654345['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x55e286,'timeIndex':_0x57c9d8,'timeOption':_0x483a05},_0x5d01fc['elements'][0x2647+0x65*-0x9+0x6f2*-0x5]['properties']['map'](_0x177b15=>_0x177b15['storage']['buffer'])):(_0x928830=this['worker'])==null||_0x928830['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x55e286,'timeIndex':_0x57c9d8,'timeOption':_0x483a05}),new Promise(_0x36b321=>{this['worker']['onmessage']=_0x202c9c=>{if(!this['worker'])return;const {data:_0x1bcdf0}=_0x202c9c;_0x1bcdf0['type']==='newAppendD'+'ata'&&_0x36b321(_0x1bcdf0);};});}async['releaseSeq'+'Data'](_0x359c8f){var _0x3af952;(_0x3af952=this['worker'])==null||_0x3af952['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x359c8f});}async['releaseAll'+'SeqData'](){var _0x2d8406;(_0x2d8406=this['worker'])==null||_0x2d8406['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x3d8d8d;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x3d8d8d=this['worker'])==null||_0x3d8d8d['terminate'](),this['worker']=null);}}const za=new te(),pg=new le(),yf=new De(),mg=new De(),KA=new ie(0x1*0x16e8+0x143c+-0x2b23,0x223e+-0x49*0x4a+-0x1*0xd23,0x2214+0x13e7*0x1+0x1*-0x35fb,0x41a+-0x19b1*-0x1+-0x1dcb+0.4),vf=-0x16d+0xe92+-0xd25+0.28209479177387814,xf=-0x50943+0x22c5a+0x5ea29;let ZA=class{constructor(_0x4f919c,_0x3d3426,_0xb50dfb,_0x4a70e0,_0x39a28d,_0x5ce707){const _0x353b7d=_0x4f919c['getProp']('x'),_0x732b99=_0x4f919c['getProp']('y'),_0x320d74=_0x4f919c['getProp']('z'),_0x13a20e=_0x4f919c['getProp']('rot_1'),_0x1ea391=_0x4f919c['getProp']('rot_2'),_0x3af4cb=_0x4f919c['getProp']('rot_3'),_0x3e1a00=_0x4f919c['getProp']('rot_0'),_0x5b6296=_0x4f919c['getProp']('motion_0'),_0x25c48b=_0x4f919c['getProp']('motion_1'),_0x591184=_0x4f919c['getProp']('motion_2'),_0x5e0b7f=_0x4f919c['getProp']('scale_0'),_0xfeb53a=_0x4f919c['getProp']('scale_1'),_0x7fcd4f=_0x4f919c['getProp']('scale_2'),_0x3e7d76=_0x4f919c['getProp']('f_dc_0'),_0x52c636=_0x4f919c['getProp']('f_dc_1'),_0x5071fa=_0x4f919c['getProp']('f_dc_2'),_0x239ee9=_0x4f919c['getProp']('opacity');this['read']=_0x17bddc=>{_0x3d3426&&(_0x3d3426['x']=_0x353b7d[_0x17bddc],_0x3d3426['y']=_0x732b99[_0x17bddc],_0x3d3426['z']=_0x320d74[_0x17bddc]),_0xb50dfb&&_0xb50dfb['set'](_0x13a20e[_0x17bddc],_0x1ea391[_0x17bddc],_0x3af4cb[_0x17bddc],_0x3e1a00[_0x17bddc]),_0x4a70e0&&_0x4a70e0['set'](Math['exp'](_0x5e0b7f[_0x17bddc]),Math['exp'](_0xfeb53a[_0x17bddc]),Math['exp'](_0x7fcd4f[_0x17bddc])),_0x5ce707&&_0x5b6296&&_0x5ce707['set'](_0x5b6296[_0x17bddc],_0x25c48b[_0x17bddc],_0x591184[_0x17bddc]),_0x39a28d&&_0x39a28d['set'](0xe0f*-0x1+0x4a7+0x968+0.5+_0x3e7d76[_0x17bddc]*vf,-0x17*-0x26+0x1adf+-0x1*0x1e49+0.5+_0x52c636[_0x17bddc]*vf,-0x2069+-0x142b+0x3494+0.5+_0x5071fa[_0x17bddc]*vf,_0x239ee9[_0x17bddc]);};}};const _g=(_0x534fc7,_0x2911ca,_0x20127c)=>{pg['set'](_0x20127c['x'],_0x20127c['y'],_0x20127c['z'],_0x20127c['w'])['normalize'](),_0x534fc7['setTRS'](_0x2911ca,pg,D['ONE']);};class qn{constructor(_0x2d77a1,_0x26df2c=[]){h(this,'elements'),h(this,'numSplats',0x22d+-0xd*0x1aa+-0x1*-0x1375),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0x4815be;(_0x4815be=this['dataWorker'])==null||_0x4815be['destroy'](),this['dataWorker']=null;});var _0x2bc659,_0x1f4113,_0x1b931c;this['elements']=_0x2d77a1,this['numSplats']=((_0x2bc659=this['getElement']('vertex'))==null?void(0x12d6+-0x1aee+0x818):_0x2bc659['count'])??-0xc*0x2e3+-0xcac+0x2f50,this['comments']=_0x26df2c,this['is4D']=!!((_0x1b931c=(_0x1f4113=this['getElement']('vertex'))==null?void(-0x170b+-0x7a9*-0x3+-0x10*-0x1):_0x1f4113['properties']['find'](_0x2af9a0=>_0x2af9a0['name']==='t'))!=null&&_0x1b931c['storage']);}async['appendGSpl'+'atData'](_0x3f02b2,_0x4d9147,_0xf7a834){var _0x2a42bb;let _0x2d3f88=0x1101+-0x39*-0x4f+-0x1ec*0x12;for(let _0x2606d4=-0x2a*0xb2+-0x178a+-0x9d*-0x56;_0x2606d4<_0xf7a834['length']&&_0x4d9147>_0xf7a834[_0x2606d4];_0x2606d4+=0x1828+-0x176f+0xb7*-0x1)_0x2d3f88=_0x2606d4/(0x2f6+0x123d+-0x1531);console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData',_0x2d3f88),this['dataWorker']||(this['dataWorker']=new YA(),await this['dataWorker']['appendGSpl'+'atData'](this,-0x1e*-0x2b+-0x24bf+-0x1*-0x1fb5,_0xf7a834));const _0x48ef94=this['getElement']('vertex');_0x48ef94&&(_0x48ef94['count']=this['numSplats']);const _0x52cc7a=await this['dataWorker']['appendGSpl'+'atData'](_0x3f02b2,_0x2d3f88,_0xf7a834,!(0x9c9+0x918*-0x3+0x117f)),_0x1477ed=_0x52cc7a['properties'],_0x512734=((_0x2a42bb=this['getElement']('vertex'))==null?void(0x2*0xc6b+0x1*0x2411+-0x3ce7*0x1):_0x2a42bb['properties'])??[];for(const _0x12344c in _0x1477ed){const _0x46e63b=_0x512734['find'](_0x45de83=>_0x45de83['name']===_0x12344c);_0x46e63b?_0x46e63b['storage']=_0x1477ed[_0x12344c]:_0x512734['push']({'type':'float','name':_0x12344c,'storage':_0x1477ed[_0x12344c],'byteSize':0x4});}this['transformD'+'ata']=_0x52cc7a['transformD'+'ata'],this['numSplats']=_0x1477ed['x']['length'],console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20appendGSp'+'latData\x20nu'+'mSplats',this['numSplats']);}async['releaseSeq'+'Data'](_0x3231b3){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20releaseSe'+'qData',_0x3231b3),this['dataWorker']['releaseSeq'+'Data'](_0x3231b3),this;}async['releaseAll'+'SeqData'](){var _0x132c5;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatData'+'\x20release\x20a'+'ll\x20SeqData'),(_0x132c5=this['dataWorker'])==null||_0x132c5['releaseAll'+'SeqData'](),this;}static['calcSplatA'+'abb'](_0x3cdb38,_0x1bdcc1,_0x2fa669,_0x39a3a6){_g(za,_0x1bdcc1,_0x2fa669),yf['center']['set'](0x2*0xfbb+0x977*-0x2+-0x8*0x191,-0x1*0x1fc1+-0x25f2*0x1+-0x1*-0x45b3,-0x132*-0x16+-0x1fa5*-0x1+-0x39f1),yf['halfExtent'+'s']['set'](_0x39a3a6['x']*(0x47*-0x29+-0x2e4*0x1+0x119*0xd),_0x39a3a6['y']*(-0x2401+0x18*0x5+0x238b),_0x39a3a6['z']*(0x1*0x1de3+-0x187e+-0x7*0xc5)),_0x3cdb38['setFromTra'+'nsformedAa'+'bb'](yf,za);}['getProp'](_0x52f84a,_0x4ea9ab='vertex'){var _0x574321,_0x2579dc;return(_0x2579dc=(_0x574321=this['getElement'](_0x4ea9ab))==null?void(0xb*0x283+0x673+-0x2214):_0x574321['properties']['find'](_0x1a8fa0=>_0x1a8fa0['name']===_0x52f84a))==null?void(-0x1dbe+-0x25bd+0x437b):_0x2579dc['storage'];}['getElement'](_0x27127e){return this['elements']['find'](_0x39b740=>_0x39b740['name']===_0x27127e);}['addProp'](_0x5b4403,_0x1cf502){this['getElement']('vertex')['properties']['push']({'type':'float','name':_0x5b4403,'storage':_0x1cf502,'byteSize':0x4});}['createIter'](_0x350bd1,_0x3ba351,_0x1d2253,_0x795f52,_0x2a2ce3){return new ZA(this,_0x350bd1,_0x3ba351,_0x1d2253,_0x795f52,_0x2a2ce3);}async['calcAabbAs'+'ync'](_0x27b63a,_0x257e2d){var _0x3b9437,_0x26d4a2;if((_0x3b9437=this['transformD'+'ata'])!=null&&_0x3b9437['center']&&((_0x26d4a2=this['transformD'+'ata'])!=null&&_0x26d4a2['halfExtent'+'s'])){_0x27b63a['center']['set'](this['transformD'+'ata']['center'][0x1*0x25fb+-0x24fd+-0xfe],this['transformD'+'ata']['center'][0x2*0xa7d+0x207f+0xec*-0x3a],this['transformD'+'ata']['center'][0xd5a+0x75+-0xdcd]),_0x27b63a['halfExtent'+'s']['set'](this['transformD'+'ata']['halfExtent'+'s'][0x33d+0x20dd+-0x241a],this['transformD'+'ata']['halfExtent'+'s'][-0x2*-0xad2+0x10b5+-0x2658],this['transformD'+'ata']['halfExtent'+'s'][-0x1585+0x8*0x4b4+-0x1019]);return;}const _0x5aec51=this['getProp']('x'),_0x2e93eb=this['getProp']('y'),_0x2156d5=this['getProp']('z'),_0x4a9187=this['getProp']('scale_0'),_0x42a20f=this['getProp']('scale_1'),_0x10cf49=this['getProp']('scale_2'),_0x4250ed=await(_0x257e2d==null?void(-0x17ba*-0x1+-0x236*0xe+0x73a):_0x257e2d['calcAabb'](this['numSplats'],_0x5aec51,_0x2e93eb,_0x2156d5,_0x4a9187,_0x42a20f,_0x10cf49));_0x27b63a['center']['set'](_0x4250ed['center'][-0x1ae9+0x216c+-0x683],_0x4250ed['center'][0x25a2+0x1d5f*0x1+0x10c0*-0x4],_0x4250ed['center'][-0x2*-0x9d9+0xab4+-0x1e64]),_0x27b63a['halfExtent'+'s']['set'](_0x4250ed['halfExtent'+'s'][0x1fb7+0x6b4+-0x266b],_0x4250ed['halfExtent'+'s'][0x121e*0x1+-0x7*-0x1fe+0x1*-0x200f],_0x4250ed['halfExtent'+'s'][-0x10*0x1ae+-0x2532+0x4014]);}['calcAabb'](_0x4d3618,_0x2f4547){let _0x85c143,_0x53b066,_0x5141fc,_0x1addc1,_0x15472d,_0x1f4561,_0x1c1ad0=!(-0x1*-0x165f+0x1*0xce5+-0x2344);const _0x48ff17=this['getProp']('x'),_0x49abfb=this['getProp']('y'),_0x467d64=this['getProp']('z'),_0xa91929=this['getProp']('scale_0'),_0x395b9d=this['getProp']('scale_1'),_0x4328db=this['getProp']('scale_2');for(let _0xf32199=0x4ab*-0x5+0x1*0x9bf+0x28*0x57;_0xf32199<this['numSplats'];++_0xf32199){if(_0x2f4547&&!_0x2f4547(_0xf32199))continue;const _0x3b6b4a=_0x48ff17[_0xf32199],_0x520fff=_0x49abfb[_0xf32199],_0x1231dd=_0x467d64[_0xf32199],_0x525d2e=Math['max'](_0xa91929[_0xf32199],_0x395b9d[_0xf32199],_0x4328db[_0xf32199]);if(!isFinite(_0x3b6b4a)||!isFinite(_0x520fff)||!isFinite(_0x1231dd)||!isFinite(_0x525d2e))continue;const _0x43a786=(-0x9a2+-0x13*0x28+0xc9c)*Math['exp'](_0x525d2e);_0x1c1ad0?(_0x1c1ad0=!(-0x736+0x11ee+-0xab7),_0x85c143=_0x3b6b4a-_0x43a786,_0x53b066=_0x520fff-_0x43a786,_0x5141fc=_0x1231dd-_0x43a786,_0x1addc1=_0x3b6b4a+_0x43a786,_0x15472d=_0x520fff+_0x43a786,_0x1f4561=_0x1231dd+_0x43a786):(_0x85c143=Math['min'](_0x85c143,_0x3b6b4a-_0x43a786),_0x53b066=Math['min'](_0x53b066,_0x520fff-_0x43a786),_0x5141fc=Math['min'](_0x5141fc,_0x1231dd-_0x43a786),_0x1addc1=Math['max'](_0x1addc1,_0x3b6b4a+_0x43a786),_0x15472d=Math['max'](_0x15472d,_0x520fff+_0x43a786),_0x1f4561=Math['max'](_0x1f4561,_0x1231dd+_0x43a786));}return _0x1c1ad0||(_0x4d3618['center']['set']((_0x85c143+_0x1addc1)*(0x95*-0x1+-0x6*0x1c3+0xb27*0x1+0.5),(_0x53b066+_0x15472d)*(0x9*0x259+0x467*0x1+0x56*-0x4c+0.5),(_0x5141fc+_0x1f4561)*(0x47*0x1f+0x4b7*0x3+-0xb5f*0x2+0.5)),_0x4d3618['halfExtent'+'s']['set']((_0x1addc1-_0x85c143)*(-0x1bfe*-0x1+0x25ef+-0x96b*0x7+0.5),(_0x15472d-_0x53b066)*(-0x7f*0x2f+-0x1*-0x3cb+-0x1*-0x1386+0.5),(_0x1f4561-_0x5141fc)*(0x4d7+0xb7b*0x3+-0x2748+0.5))),!_0x1c1ad0;}['yieldToMai'+'n'](){var _0x3cff56;return(_0x3cff56=globalThis['scheduler'])!=null&&_0x3cff56['yield']?globalThis['scheduler']['yield']():new Promise(_0x3ee7b8=>{setTimeout(_0x3ee7b8,-0x8c0+0x2*-0x3b8+0x818*0x2);});}['calcAabbEx'+'act'](_0x1e6c42,_0x5f463d){const _0x5a0c9d=new D(),_0x4071c5=new le(),_0x402854=new D(),_0x475cc6=this['createIter'](_0x5a0c9d,_0x4071c5,_0x402854);let _0x306d9a=!(-0x25*0x95+0x2105+-0x69*0x1c);for(let _0x3289b5=0xb*-0x39+-0x5*0x75b+0x2*0x139d;_0x3289b5<this['numSplats'];++_0x3289b5)_0x5f463d&&!_0x5f463d(_0x3289b5)||(_0x475cc6['read'](_0x3289b5),_0x306d9a?(_0x306d9a=!(0x53*-0x11+-0x1*-0x83+0x501),qn['calcSplatA'+'abb'](_0x1e6c42,_0x5a0c9d,_0x4071c5,_0x402854)):(qn['calcSplatA'+'abb'](mg,_0x5a0c9d,_0x4071c5,_0x402854),_0x1e6c42['add'](mg)));return!_0x306d9a;}async['getCenters'](_0x34e604){const _0x260beb=this['getProp']('x'),_0x440848=this['getProp']('y'),_0x394562=this['getProp']('z');for(let _0x41dd39=-0xa93*0x1+-0x1*-0x1aeb+0x4*-0x416;_0x41dd39<this['numSplats'];++_0x41dd39)_0x34e604[_0x41dd39*(-0x29*-0x25+-0x214c+0x1b62)+(0x45*-0x37+-0x1336+-0x2209*-0x1)]=_0x260beb[_0x41dd39],_0x34e604[_0x41dd39*(-0x1c5a+-0x210e+0x1479*0x3)+(0x1*0x2021+-0x1*0xd03+-0x131d)]=_0x440848[_0x41dd39],_0x34e604[_0x41dd39*(0x24ca+0x4ce+-0x2995)+(-0xa26+0x1020+-0x5f8)]=_0x394562[_0x41dd39],_0x41dd39%xf===0xa*0x67+-0x19c+-0x26a&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x1c96b4;if((_0x1c96b4=this['transformD'+'ata'])!=null&&_0x1c96b4['muT'])return this['transformD'+'ata']['muT'];const _0x210348=this['getProp']('t');return _0x210348?new Float32Array(_0x210348):void(-0x56d*-0x5+-0x4cf*0x7+-0xb*-0x98);}async['getTScale'](){const _0x4c8f06=this['getProp']('t_scale');if(!_0x4c8f06)return;const _0x3b5553=new Float32Array(this['numSplats']);for(let _0xe87be6=-0xc7a*-0x2+0xb23*-0x1+-0xdd1;_0xe87be6<this['numSplats'];++_0xe87be6)_0x3b5553[_0xe87be6]=Math['exp'](_0x4c8f06[_0xe87be6]),_0xe87be6%xf===0x1513+-0x1*0x169f+0x18c&&await this['yieldToMai'+'n']();return _0x3b5553;}async['getMotion'](_0xce88f9){const _0x43f7b9=this['getProp']('motion_0'),_0x2568b1=this['getProp']('motion_1'),_0x1f1068=this['getProp']('motion_2');if(!(!_0x43f7b9||!_0x2568b1||!_0x1f1068)){for(let _0x46b527=0x125d*0x1+0xa2d+-0x119*0x1a;_0x46b527<this['numSplats'];++_0x46b527)_0xce88f9[_0x46b527*(-0x491+0x201*-0x7+0x1*0x129b)+(-0x22c5+0xd7e+0x1547)]=_0x43f7b9[_0x46b527],_0xce88f9[_0x46b527*(0x1fef+-0x1ff5+-0x1*-0x9)+(-0x2614+-0x1*-0x178b+0x1*0xe8a)]=_0x2568b1[_0x46b527],_0xce88f9[_0x46b527*(0x295*-0x5+-0x2*-0x161+0x515*0x2)+(-0x2692*-0x1+0xc04+-0x6*0x86e)]=_0x1f1068[_0x46b527],_0x46b527%xf===0x1bf8+-0x1528+-0x6d0&&await this['yieldToMai'+'n']();}}['getTimeInd'+'ex'](){var _0x2abba7;if((_0x2abba7=this['transformD'+'ata'])!=null&&_0x2abba7['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x2e28f7=this['getProp']('time_index');if(_0x2e28f7)return new Float32Array(_0x2e28f7);}['calcFocalP'+'oint'](_0x152ccc,_0x2d34c4){const _0x5d0cf2=this['getProp']('x'),_0x10d4fc=this['getProp']('y'),_0x2096e2=this['getProp']('z'),_0x4e2cd6=this['getProp']('scale_0'),_0x3f929c=this['getProp']('scale_1'),_0x43eea4=this['getProp']('scale_2');_0x152ccc['x']=-0x204f+-0x17be+0x380d,_0x152ccc['y']=-0x788+-0x130+-0x22e*-0x4,_0x152ccc['z']=-0x443*0x8+-0x22d*0xc+-0x2*-0x1e1a;let _0xb2457f=0xd23*0x1+0x15ce+-0x22f1;for(let _0x160580=-0x2e0+0x771+-0x491;_0x160580<this['numSplats'];++_0x160580){if(_0x2d34c4&&!_0x2d34c4(_0x160580))continue;const _0x2be769=_0x5d0cf2[_0x160580],_0x18e20d=_0x10d4fc[_0x160580],_0x6eaff2=_0x2096e2[_0x160580];if(!isFinite(_0x2be769)||!isFinite(_0x18e20d)||!isFinite(_0x6eaff2))continue;const _0x450530=(0x6*0x36b+-0x1ec2+0xaf*0xf)/(0x1*0x13af+-0x1*0x15a9+0x1fb*0x1+Math['exp'](Math['max'](_0x4e2cd6[_0x160580],_0x3f929c[_0x160580],_0x43eea4[_0x160580])));_0x152ccc['x']+=_0x2be769*_0x450530,_0x152ccc['y']+=_0x18e20d*_0x450530,_0x152ccc['z']+=_0x6eaff2*_0x450530,_0xb2457f+=_0x450530;}_0x152ccc['mulScalar']((0x1528+-0x8a8+-0xc7f)/_0xb2457f);}['renderWire'+'frameBound'+'s'](_0xbb025e,_0x61db5b){const _0x368058=new D(),_0x1a3e79=new le(),_0x490233=new D(),_0x3cadb1=new D(),_0x494648=new D(),_0x28f310=this['createIter'](_0x368058,_0x1a3e79,_0x490233);for(let _0x2b1f7c=-0x1992+-0x13c5+0x2d57;_0x2b1f7c<this['numSplats'];++_0x2b1f7c)_0x28f310['read'](_0x2b1f7c),_g(za,_0x368058,_0x1a3e79),za['mul2'](_0x61db5b,za),_0x3cadb1['set'](_0x490233['x']*-(0x15*0x1b7+0x28c+0x8b*-0x47),_0x490233['y']*-(-0x482*0x1+0x129f+-0xe1b),_0x490233['z']*-(-0xd75+0x12a5+0x2*-0x297)),_0x494648['set'](_0x490233['x']*(-0x89e+0xb33+0x1*-0x293),_0x490233['y']*(-0x52f+-0x1de7+0x2318*0x1),_0x490233['z']*(-0xd*0xda+0x1f8f+-0x147b)),_0xbb025e['immediate']['drawWireAl'+'ignedBox'](_0x3cadb1,_0x494648,KA,!(-0xb09+-0x162e+0x2137),_0xbb025e['defaultDra'+'wLayer'],za);}get['isCompress'+'ed'](){return!(0x1*-0x54f+-0x8a*0x45+0x2a82);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x2e4ed6=0xce2+0x9a9*0x3+-0x7*0x5fb;_0x2e4ed6<-0xc5*0x1+0x1*0x1a2f+-0x193d;++_0x2e4ed6)if(!this['getProp']('f_rest_'+_0x2e4ed6))return _0x2e4ed6;return-0x8bf*0x3+-0x516+0x7*0x480;})())]??0x23d5*0x1+0x1867*-0x1+-0xb6e;}['calcMorton'+'Order'](){const _0x22b633=_0x4c7c10=>{let _0x58f6be=_0x4c7c10[0xd1*-0xe+-0x1*-0x5c8+0x5a6],_0x18f94b=_0x4c7c10[0x1a3*0x1+-0x39*0x21+0x5b6];for(let _0x6546cc=-0x23a4+-0x239*0x1+-0x25de*-0x1;_0x6546cc<_0x4c7c10['length'];_0x6546cc++)_0x4c7c10[_0x6546cc]<_0x58f6be&&(_0x58f6be=_0x4c7c10[_0x6546cc]),_0x4c7c10[_0x6546cc]>_0x18f94b&&(_0x18f94b=_0x4c7c10[_0x6546cc]);return{'min':_0x58f6be,'max':_0x18f94b};},_0x45c162=(_0x147d5d,_0x1e7830,_0x16c67c)=>{const _0x1d7d51=_0x123e69=>(_0x123e69&=-0x3*-0x3ab+0xec9+0x31d*-0x7,_0x123e69=(_0x123e69^_0x123e69<<0x420+-0x36d*-0xb+-0x29bf)&0x8c808a81+-0x4f9d4e8*-0x62+-0x175240a52,_0x123e69=(_0x123e69^_0x123e69<<0xe12*-0x2+0x10fb+0xb31)&-0x251e132+0x17817e0+0x3dab961,_0x123e69=(_0x123e69^_0x123e69<<0x5*-0x509+0x218e+-0x1*0x85d)&0x13*-0x4c127c+-0x15d07*0x349+0x193c7*0x85a,_0x123e69=(_0x123e69^_0x123e69<<-0x1*0x9e8+-0xdbd+0x17a7)&-0x5d2445f+0xa1af911+0x6a6d5*0xbb,_0x123e69);return(_0x1d7d51(_0x16c67c)<<0xf*-0x7+0x651+-0x5e6)+(_0x1d7d51(_0x1e7830)<<0x1*-0x1c3d+-0x353+0x1f91)+_0x1d7d51(_0x147d5d);},_0x323605=this['getProp']('x'),_0x27090b=this['getProp']('y'),_0x388728=this['getProp']('z'),{min:_0x30edc4,max:_0x175e46}=_0x22b633(_0x323605),{min:_0x35ae9f,max:_0xb42b4a}=_0x22b633(_0x27090b),{min:_0x389dd0,max:_0x4daa94}=_0x22b633(_0x388728),_0x4e4d6d=_0x30edc4===_0x175e46?-0x15b9+0x700+0xeb9*0x1:(0x23a+0x10d*0x7+-0x595*0x1)/(_0x175e46-_0x30edc4),_0x2b691f=_0x35ae9f===_0xb42b4a?0x1*-0x2034+0x3fb*-0x1+0x242f:(-0x4*-0x866+0x1d6f+-0x68f*0x9)/(_0xb42b4a-_0x35ae9f),_0x34316f=_0x389dd0===_0x4daa94?0x7ae+-0x112b+0x15b*0x7:(0x251*-0x2+0x1075+-0x7d3)/(_0x4daa94-_0x389dd0),_0x403042=new Map();for(let _0x547ea7=0x7*0x449+0x5ec*0x4+-0x5f7*0x9;_0x547ea7<this['numSplats'];_0x547ea7++){const _0x1a56a1=Math['min'](0x2183*-0x1+-0xef*-0x12+-0x32*-0x6a,Math['floor']((_0x323605[_0x547ea7]-_0x30edc4)*_0x4e4d6d)),_0xa1b7f8=Math['min'](-0x9*-0x1d0+-0xd1f*-0x2+0x268f*-0x1,Math['floor']((_0x27090b[_0x547ea7]-_0x35ae9f)*_0x2b691f)),_0x3907e3=Math['min'](-0x12af+0x19*0x15+0x1*0x14a1,Math['floor']((_0x388728[_0x547ea7]-_0x389dd0)*_0x34316f)),_0x500863=_0x45c162(_0x1a56a1,_0xa1b7f8,_0x3907e3),_0x4823bb=_0x403042['get'](_0x500863);_0x4823bb?_0x4823bb['push'](_0x547ea7):_0x403042['set'](_0x500863,[_0x547ea7]);}const _0x259e5d=Array['from'](_0x403042['keys']())['sort']((_0x2decec,_0x7c56ef)=>_0x2decec-_0x7c56ef),_0x453f16=new Uint32Array(this['numSplats']);let _0x16e2bb=0x75a+-0x588+-0x1d2*0x1;for(let _0x497767=-0x1*0x159b+-0x171+-0xa*-0x24e;_0x497767<_0x259e5d['length'];++_0x497767){const _0x58c9ff=_0x403042['get'](_0x259e5d[_0x497767]);for(let _0x2d3316=-0x234+-0xed5+0x1*0x1109;_0x2d3316<_0x58c9ff['length'];++_0x2d3316)_0x453f16[_0x16e2bb++]=_0x58c9ff[_0x2d3316];}return _0x453f16;}['reorder'](_0x2ef24b){const _0x1f39a0=new Map(),_0x12eac9=_0x644ab9=>{if(_0x1f39a0['has'](_0x644ab9)){const _0x197033=_0x1f39a0['get'](_0x644ab9);return _0x1f39a0['delete'](_0x644ab9),_0x197033;}return new ArrayBuffer(_0x644ab9);},_0x371cbd=_0x2c243b=>{_0x1f39a0['set'](_0x2c243b['byteLength'],_0x2c243b);},_0x1c2eb0=_0x30847e=>{const _0x165b0d=new _0x30847e['constructo'+'r'](_0x12eac9(_0x30847e['byteLength']));for(let _0x1fdc5d=-0xbe2+-0x143f*-0x1+-0x85d;_0x1fdc5d<_0x2ef24b['length'];_0x1fdc5d++)_0x165b0d[_0x1fdc5d]=_0x30847e[_0x2ef24b[_0x1fdc5d]];return _0x371cbd(_0x30847e['buffer']),_0x165b0d;};this['elements']['forEach'](_0x1b3700=>{_0x1b3700['properties']['forEach'](_0xc83de6=>{_0xc83de6['storage']&&(_0xc83de6['storage']=_0x1c2eb0(_0xc83de6['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}async function QA(){const _0x22b6b3=new Float32Array(-0x1c80+-0x1ccf+0x20c*0x1c);new Int32Array(_0x22b6b3['buffer']);let _0x14b738=0x1c32+-0x4f3+-0x173f,_0x58afb0={};self['onmessage']=async _0x28979d=>{const {data:_0x5a3a06}=_0x28979d;switch(_0x5a3a06['type']){case'initWorker':break;case'appendGSpl'+'atData':_0x575592(_0x5a3a06['properties'],_0x5a3a06['timeIndex'],_0x5a3a06['timeOption']);break;case'releaseSeq'+'Data':_0x1d8f7e(_0x5a3a06['index']);break;case'releaseAll'+'SeqData':_0x193f7b();break;case'destroyWor'+'ker':_0x225267();break;}};const _0x3e9c3d=()=>({0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x4eb859=0x15e2+0x1*-0x1445+-0x19d;_0x4eb859<-0x1*-0x1f8f+-0x5b4+0xad*-0x26;++_0x4eb859)if(!_0x58afb0['f_rest_'+_0x4eb859])return _0x4eb859;return-0xa2b*0x3+-0x4d9+0x2387;})())]??0x34*0xb8+0x2*-0x5f8+-0x1970),_0x575592=(_0x2b4da0,_0x23e893,_0x24c84d)=>{var _0x3753ea,_0x3cebe3;_0x14b738+=(((_0x3753ea=_0x2b4da0['position'])==null?void(-0x1*-0x1aff+-0x9b7+-0x1148):_0x3753ea['length'])??-0x15b6+0x1d*-0xea+-0x3038*-0x1)/(0x507+-0xa97+0x593),console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20append'+'GSplatData'+'\x20numSplats',_0x14b738,(((_0x3cebe3=_0x2b4da0['position'])==null?void(-0x10*-0x43+0x5*-0x155+0xd3*0x3):_0x3cebe3['length'])??-0x1ba5+-0x24fc+-0x40a1*-0x1)/(-0x25*0x62+-0x21a5+0x17e9*0x2));const _0x3c352e=Object['keys'](_0x2b4da0);for(let _0x5aedbb=0x462+0xfd3*-0x1+-0x1d*-0x65;_0x5aedbb<_0x3c352e['length'];_0x5aedbb++){const _0x1c9f33=_0x3c352e[_0x5aedbb],_0x25a4f5=_0x2b4da0[_0x1c9f33],_0x2abf40=_0x58afb0[_0x1c9f33]??new Float32Array(-0x7cf+-0x1*-0x121+0x11d*0x6);if(_0x25a4f5){let _0x137a51=null;switch(_0x1c9f33){case'position':_0x137a51=new Float32Array(_0x14b738*(0x183f+0x23c4+-0x3c00));break;case'color_opac'+'ity':_0x137a51=new Uint16Array(_0x14b738*(-0x122*-0x6+0x21ef+-0x7*0x5d1));break;case'scale':_0x137a51=new Uint16Array(_0x14b738*(-0x8*0x194+0x171e+0xa7b*-0x1));break;case'motion':_0x137a51=new Float32Array(_0x14b738*(0xe59*-0x2+0x9*0x1f8+0xafd));break;case'rotation':_0x137a51=new Float32Array(_0x14b738*(0x54b*0x7+0x122*0x5+-0xaad*0x4));break;default:_0x137a51=new Float32Array(_0x14b738);break;}_0x137a51['set'](_0x2abf40,-0x2163+-0x37e+0x24e1),_0x137a51['set'](_0x25a4f5,_0x2abf40['length']),_0x58afb0[_0x1c9f33]=_0x137a51;}}const _0x31005d={};Object['keys'](_0x58afb0)['forEach'](_0x362869=>{_0x362869==='scale'||_0x362869==='color_opac'+'ity'?_0x31005d[_0x362869]=new Uint16Array(_0x58afb0[_0x362869]['buffer']['slice']()):_0x31005d[_0x362869]=new Float32Array(_0x58afb0[_0x362869]['buffer']['slice']());});const _0x2da494=Object['keys'](_0x31005d)['map'](_0x48094e=>_0x31005d[_0x48094e]['buffer']),_0xabee5=_0x1dbd94(),_0x28dac1=Object['keys'](_0xabee5)['map'](_0x4b0f3a=>_0xabee5[_0x4b0f3a]['buffer']);self['postMessag'+'e']({'type':'newAppendD'+'ata','properties':_0x31005d,'transformData':_0xabee5},_0x2da494['concat'](_0x28dac1));},_0x1dbd94=()=>{const _0xd8f267=_0x58afb0['position']['length']/(-0xbca*0x3+-0x2449+0x2*0x23d5),_0x29641d=_0x58afb0['position'],_0x1af604=_0x58afb0['scale'],_0x52fee2=_0x58afb0['rotation'],_0x2f0fa3=_0x58afb0['motion'],_0x75748f=_0x58afb0['t'],_0x60499=_0x58afb0['t_scale'],_0x5a8e32=_0x58afb0['time_index'],_0xf228b2=_0x58afb0['color_opac'+'ity'],_0x35ff2=(_0x75748f==null?void(0xd02+-0x3*0x766+0x930):_0x75748f['length'])>-0x391*0x2+-0x2022*-0x1+0xa0*-0x28;let _0x111744=null,_0x5f1d32=null,_0x4ce1b6=null,_0x278ee6=null;_0x35ff2&&(_0x5f1d32=new Float32Array(_0xd8f267*(0x1d98+0x157*0x1c+-0xc1*0x59)),_0x278ee6=new Float32Array(_0xd8f267),_0x111744=new Float32Array(_0x2f0fa3['buffer']['slice']()),_0x4ce1b6=new Float32Array(_0x2f0fa3['buffer']['slice']()));const _0x527216=new Float32Array(_0x29641d['buffer']['slice']()),_0x5ecd4d=new Float32Array(_0x29641d['buffer']['slice']()),_0xf45bcd=new Uint16Array(_0xf228b2['buffer']['slice']()),_0x28d236=new Uint16Array(_0x1af604['buffer']['slice']()),_0x48b205=new Float32Array(_0x52fee2['buffer']['slice']());for(let _0x33a87c=0x1*-0xbba+0x136d+-0x1b*0x49;_0x33a87c<_0xd8f267;++_0x33a87c)_0x35ff2&&_0x5f1d32&&_0x278ee6&&(_0x278ee6[_0x33a87c]=_0x60499?Math['exp'](_0x60499[_0x33a87c]):-0x118e+-0x12*-0x1be+-0xdce,_0x5f1d32[_0x33a87c*(0xc*0x1f1+0x1809+-0xfc6*0x3)+(0x572+0x4f+-0x5c1)]=_0x75748f?_0x75748f[_0x33a87c]:-0xad*0x29+0xcdd*0x2+0x1fb,_0x5f1d32[_0x33a87c*(0x3a0*0x3+-0x1*-0x1187+0x2*-0xe32)+(-0x49*-0x1e+-0x666*0x3+0xaa5)]=_0x278ee6[_0x33a87c]);const _0x136593=_0x222b59();let _0x2e748e={'dataColor':_0xf45bcd,'dataCenters':_0x5ecd4d,'dataPosition':_0x527216,'dataScale':_0x28d236,'dataRotation':_0x48b205,..._0x136593};return _0x35ff2&&(_0x2e748e={..._0x2e748e,'dataMotion':_0x111744,'dataTime':_0x5f1d32,'motion':_0x4ce1b6,'tScaleArray':_0x278ee6,'muT':new Float32Array(_0x75748f),'timeIndex':new Float32Array(_0x5a8e32)}),_0x2e748e;},_0x5bbfac=_0x299ffd=>{const _0xdebde4=[];for(let _0x1fca97=0x1*0x259f+0x4*-0x16d+-0x1feb;_0x1fca97<_0x299ffd;++_0x1fca97)_0xdebde4['push'](_0x58afb0['f_rest_'+_0x1fca97]);return _0xdebde4;},_0x222b59=()=>{const _0x34ac30=_0x3e9c3d();if(_0x34ac30<=-0x2*-0xf5c+-0x3b7*0x1+0xdf*-0x1f)return{};const _0x491f18=_0x58afb0['x']['length'],_0x2f25da=new Uint32Array(_0x491f18*(0x1*0x1cd6+-0x25*-0x8b+-0x13*0x293)),_0x36a528=new Uint32Array(_0x491f18*(0x16a7+-0x2e9+-0x13ba)),_0x3a0895=new Uint32Array(_0x491f18*(-0xbcf+-0x19cd+0x25a0)),_0x1e29fe=new Uint32Array(_0x491f18*(0x3*-0x45d+0x1*-0x2537+-0x72*-0x71)),_0x142b4a={0x1:0x3,0x2:0x8,0x3:0xf}[_0x34ac30],_0x563299=_0x5bbfac(_0x142b4a*(0x1a28+-0x273+-0x17b2)),_0xabb2=0x1a93*0x1+-0x2550+0x12bc,_0x2cc4e9=-0x17*0x107+-0x970+0x2510,_0x13288b=new Float32Array(0x2b*0xbc+0x6e2*-0x4+0x159*-0x3),_0x4ebfbe=new Uint32Array(_0x13288b['buffer']),_0x13b6f5=new Array(_0x142b4a*(-0x21d+0x11e5+-0xfc5))['fill'](-0x1f59+0x1*0x1645+0x914);for(let _0x3fdbd3=0x16ca+0x17*0x115+-0x989*0x5;_0x3fdbd3<_0x491f18;++_0x3fdbd3){for(let _0x44d210=-0x1*0xf9+-0x1fa6*-0x1+0x1ead*-0x1;_0x44d210<_0x142b4a;++_0x44d210)_0x13b6f5[_0x44d210*(-0x231d*-0x1+-0xae*-0x16+-0x320e)]=_0x563299[_0x44d210][_0x3fdbd3],_0x13b6f5[_0x44d210*(-0x1cba+-0x6d4+0x2391)+(0x89*0x32+0x9d*0x25+-0x3172)]=_0x563299[_0x44d210+_0x142b4a][_0x3fdbd3],_0x13b6f5[_0x44d210*(-0x20*-0x52+0x25cd+0x56*-0x8f)+(0x3*-0xbc9+-0x51b*0x5+0x3*0x144c)]=_0x563299[_0x44d210+_0x142b4a*(0x159a+0x8fb+0xa31*-0x3)][_0x3fdbd3];let _0x4186f2=_0x13b6f5[0x16d5+-0x241*-0xd+-0x3422];for(let _0x279567=0xa49*-0x2+0x1ecb*-0x1+-0x19*-0x20e;_0x279567<_0x142b4a*(-0x23fe+-0x1*0xfa8+0x33a9);++_0x279567)_0x4186f2=Math['max'](_0x4186f2,Math['abs'](_0x13b6f5[_0x279567]));if(_0x4186f2!==0x1*-0xacd+-0x1*-0x8c5+0x208){for(let _0x1cfa3f=0x1*-0x1c4+0x2c4+0x2*-0x80;_0x1cfa3f<_0x142b4a;++_0x1cfa3f)_0x13b6f5[_0x1cfa3f*(0x59*-0x43+-0x6e*0x56+0x3c42)+(0x19c4+0xe0*0x11+-0x28a4)]=Math['max'](0x206b+0xe86+-0x2ef1,Math['min'](_0xabb2,Math['floor']((_0x13b6f5[_0x1cfa3f*(-0x1249+-0x20be+-0x5e*-0x8b)+(0x1fa9+-0x1c*0x118+-0x109)]/_0x4186f2*(0x3c+0x24*-0xad+0x1818+0.5)+(-0x2e*-0xd3+-0xbb*-0x33+-0x4b2b+0.5))*_0xabb2+(0x1bd5+-0x7d5+0x50*-0x40+0.5)))),_0x13b6f5[_0x1cfa3f*(-0x126a+-0x251a+0x5*0xb1b)+(-0x1050+-0x16c2+0x2713)]=Math['max'](-0x1fd9*-0x1+0x2*0x455+-0x3*0xd81,Math['min'](_0x2cc4e9,Math['floor']((_0x13b6f5[_0x1cfa3f*(-0x12fc+0x6f3+-0x404*-0x3)+(0xbb8+-0xca2+0xeb*0x1)]/_0x4186f2*(-0xb86+0x1732+-0xbac+0.5)+(-0x851*-0x3+-0x2b*-0xda+-0x3d91+0.5))*_0x2cc4e9+(-0x2*-0x7a3+0x1d3+-0x1119+0.5)))),_0x13b6f5[_0x1cfa3f*(0x1a08+0x11e7*-0x1+0x2*-0x40f)+(-0xe8f+-0x1110+0x1fa1)]=Math['max'](0x7a+-0x3*0xed+0x24d,Math['min'](_0xabb2,Math['floor']((_0x13b6f5[_0x1cfa3f*(0x266*-0xd+0x18ff+-0x3d*-0x1a)+(-0x1781*-0x1+-0x27a+0x1*-0x1505)]/_0x4186f2*(-0x13*-0x151+-0xfb*0x5+-0x141c+0.5)+(0x1499+0x1e0d*0x1+0x2*-0x1953+0.5))*_0xabb2+(-0x13de*-0x1+0x1fb9+0x1*-0x3397+0.5))));_0x13288b[-0x407*0x6+-0x4c*-0x81+-0xe22]=_0x4186f2,_0x2f25da[_0x3fdbd3*(-0xd*-0x209+0xad0+-0x3*0xc6b)+(-0x900+0x12ac+-0x9ac)]=_0x4ebfbe[-0x1f36+-0x1d36+0x3c6c],_0x2f25da[_0x3fdbd3*(0x189c+-0x2ab*0x1+-0x15ed)+(-0x1f03+0x13f1+0xb13)]=_0x13b6f5[-0x1*-0x2665+0xa0a+-0x306f]<<0x1336+0x4c*-0x2+-0x5*0x3b5|_0x13b6f5[-0x6*0x27c+-0x249d+0x3386]<<0x1*0xb3f+0xa*-0xe0+-0x274|_0x13b6f5[-0x19*-0xc7+-0x12b3*0x1+-0x3e*0x3],_0x2f25da[_0x3fdbd3*(-0xc1f*0x2+0xfa3*0x2+-0x2*0x382)+(-0x16*-0xdc+0x1186+-0x29a*0xe)]=_0x13b6f5[0x490+-0x792+-0x305*-0x1]<<0x329*0x9+-0x371+0x1*-0x18eb|_0x13b6f5[-0x1427*0x1+-0x187b+0xa*0x477]<<0xc95+0x1*-0x1ec5+0x123b|_0x13b6f5[0x117f*-0x2+-0x1126+0x3429],_0x2f25da[_0x3fdbd3*(-0x17db*-0x1+0xe2d*0x1+-0x3*0xcac)+(0x4a7+-0x1f2f+0x1a8b)]=_0x13b6f5[0x1*0xb9b+-0x1*-0x56d+-0x1102]<<-0x1756+0x12b9+-0x2*-0x259|_0x13b6f5[0x261+-0xee*0x23+0x1e30]<<-0xa67*-0x1+0x18c7*0x1+-0x23*0x101|_0x13b6f5[0x6d4+0x256e+-0x1*0x2c3a],_0x34ac30>0x23aa+0x20ef+-0x4498&&(_0x36a528[_0x3fdbd3*(0x6c*0x19+-0x186d+0x1*0xde5)+(0x2411+-0x1*0x6d2+-0x1d3f)]=_0x13b6f5[-0xd*0x291+0x1*0x367+0x1*0x1dff]<<-0x188e+-0xee3+0x1*0x2786|_0x13b6f5[0x21e6+-0xaeb+-0x16f1*0x1]<<0x1517*0x1+-0x2218+0xa*0x14e|_0x13b6f5[-0x1*0x3a+-0x2*-0xf47+-0x1*0x1e49],_0x36a528[_0x3fdbd3*(0x1*-0x2231+0x2242+-0xd)+(0xa4*-0x17+-0x20e1+0x35*0xe6)]=_0x13b6f5[-0x1c4*0x3+0x1a9*0x13+-0x1a33]<<-0x15*0x12a+0x2f*0x43+0xc3a|_0x13b6f5[-0xb*-0x271+0xc59+-0x2727]<<-0x3*0xbd2+-0x630*-0x2+0x1721*0x1|_0x13b6f5[0x1392+-0x1*-0x2223+-0x35a7],_0x36a528[_0x3fdbd3*(0x27e*0x1+0x2*0x45b+-0xb3*0x10)+(0x1*-0x3c2+0x1*-0x867+0xc2b)]=_0x13b6f5[0x1*-0x154e+0x3*0x43d+0x8a6]<<0x65*0x36+-0x1b91*-0x1+-0x30ca|_0x13b6f5[-0x2330+-0x11*0x101+0x1*0x3451]<<0x1479+0xda*0x28+-0x367e|_0x13b6f5[-0x1d13+0x3*0x592+-0x637*-0x2],_0x36a528[_0x3fdbd3*(0x158c*0x1+-0x9ee*0x1+-0xb9a)+(-0x1489+0x1fcf*-0x1+0x345b)]=_0x13b6f5[0x3*0x3fa+-0x1f6*0x10+-0x9c2*-0x2]<<0x61d+-0x1333*-0x1+-0x193b|_0x13b6f5[0xb2e+-0x94d*0x4+0x1a19]<<-0x1*0x6f1+-0x1e52*0x1+0x254e|_0x13b6f5[0x2135+0xd*0x65+-0x2*0x1321],_0x34ac30>-0x4a4+0x1a1e+0xe5*-0x18?(_0x3a0895[_0x3fdbd3*(0x1*0x2165+-0xb9e+-0x15c3)+(0xbd6+0x15a1*-0x1+0x1*0x9cb)]=_0x13b6f5[-0x1131+0xae9*0x2+-0x2*0x246]<<-0x31*-0x1c+-0x491+-0xb6|_0x13b6f5[-0x1826+-0x19*-0x1f+0x1535]<<0x11*-0x158+-0x1*-0x245+0x149e|_0x13b6f5[0x1*0x11b9+0xf8*0x8+0x12*-0x169],_0x3a0895[_0x3fdbd3*(0x2109+-0x207e+0x87*-0x1)+(0x1644+-0x1*0x21f7+-0x7*-0x1ac)]=_0x13b6f5[-0x28c*-0x8+-0x1cb*0x5+-0xb51*0x1]<<0x2*-0x867+-0x1*-0x20ba+0xfd7*-0x1|_0x13b6f5[0x1*-0x1c17+0x16a2+0x58e]<<-0x1bf7+0x148b*-0x1+0x308d|_0x13b6f5[-0x1522+-0x1*-0x146b+0xd1*0x1],_0x3a0895[_0x3fdbd3*(0x16d7+-0x4e7*0x7+0xb7e)+(0x8a1+-0x27*0xf1+0x1c18)]=_0x13b6f5[-0x1*0x2192+-0x404+0x25b1*0x1]<<0x1*-0x1a7e+-0x3c0+0x1e53|_0x13b6f5[0x241*-0x10+0x327*-0x1+0x2753]<<-0x476+-0x5*-0x177+0x169*-0x2|_0x13b6f5[0x1*-0x1f4b+0x2f*-0x67+-0x3251*-0x1],_0x3a0895[_0x3fdbd3*(0x3b*0x29+0x12ea+-0x1c59)+(0x1*-0x40d+-0xfff+0x140f)]=_0x13b6f5[-0x1*-0x1a5e+-0x26ce+0xc8e]<<-0x2a8*0x3+-0x118d+0x199a|_0x13b6f5[0x4*-0x422+-0x2*0x362+0x176b*0x1]<<0xef6+-0x126c+0x381|_0x13b6f5[-0x3*-0xbd5+-0x3*0x941+-0x79c],_0x1e29fe[_0x3fdbd3*(0x1723*0x1+0x53*0x31+-0x2702)+(-0x1250+0x6*-0x293+0x21c2)]=_0x13b6f5[-0x1*-0x32f+0x1854+-0x5*0x57a]<<0x20*0x7+0xb*-0x15f+-0xe4a*-0x1|_0x13b6f5[-0x244a+0x8a8+0x1bc4]<<-0x2606+0x109e*-0x2+-0x1*-0x474d|_0x13b6f5[0x270e+0xd4*0x2f+0x1*-0x4dd7],_0x1e29fe[_0x3fdbd3*(0xb73+0x12*-0x16f+-0x11b*-0xd)+(-0x9c8+0x2397+-0x1*0x19ce)]=_0x13b6f5[-0xde0+0x2142+-0x133e]<<0xcf9+-0xd*-0x283+0x2d8b*-0x1|_0x13b6f5[-0x997+-0x1ecf+0x288b]<<-0x7*-0x4f7+-0x395*0x6+-0xd38|_0x13b6f5[-0x253f*-0x1+-0x1*0x875+-0xd*0x234],_0x1e29fe[_0x3fdbd3*(0x3f*-0x38+0x1145+-0x379)+(0x851*0x1+0x1924+-0x1*0x2173)]=_0x13b6f5[-0x26db+-0x266f+0x4d71]<<0x1*0x85d+0xa66+0x6*-0x31d|_0x13b6f5[-0x1b10+-0x389+0x1ec1]<<-0x21*-0xd3+0x20ab*-0x1+0x583|_0x13b6f5[0x1a9f+0x3*-0x79d+0x9*-0x67],_0x1e29fe[_0x3fdbd3*(0x26c7+-0x1b51+0x1*-0xb72)+(0x4e*-0x78+0x1f6*-0x5+-0x2e61*-0x1)]=_0x13b6f5[-0x1*0x2ef+0x885+-0x56c]<<0xaf5+0x2696+-0x3176|_0x13b6f5[0xed9*0x2+-0x2192+0x40b]<<0x117c+-0x1146+-0x2b*0x1|_0x13b6f5[0x660+0x1*0x5db+-0xc0f]):_0x3a0895[_0x3fdbd3]=_0x13b6f5[0x37*0xa9+-0x9fb+-0x1*0x1a3f]<<-0x13*-0xf+0x2dc+-0x4*0xf9|_0x13b6f5[0xf54+0xcf7+-0xf9*0x1d]<<0x917*0x1+-0x1a36+0x112a|_0x13b6f5[0x18c2+0xf9c+-0x2847]);}}return{'sh1to3Data':_0x2f25da,'sh4to7Data':_0x36a528,'sh8to11Data':_0x3a0895,'sh12to15Data':_0x1e29fe};},_0x1d8f7e=_0x4e6093=>{if(!_0x58afb0['time_index'])return;const _0x3002aa=_0x58afb0['time_index']['findIndex'](_0x3eb27d=>_0x3eb27d===_0x4e6093);let _0x5c860b=_0x58afb0['time_index']['findIndex']((_0x192142,_0x5a7483)=>_0x192142!==_0x4e6093&&_0x5a7483>_0x3002aa);if(_0x5c860b===-(-0x8a7*-0x3+-0x17cc+-0x228)&&_0x3002aa===-(0x892+-0x21c*0xa+-0xc87*-0x1))return;_0x5c860b===-(-0x20+-0x1fa4+0x1fc5)&&_0x3002aa!==-(0x46d*0x3+0x332*0xa+-0x2d3a)&&(_0x5c860b=_0x58afb0['time_index']['length']),_0x14b738-=_0x5c860b-_0x3002aa,console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedDataWor'+'ker\x20releas'+'eSeqData\x20n'+'umSplats',_0x14b738,_0x5c860b-_0x3002aa);const _0x83ad02=Object['keys'](_0x58afb0);for(let _0x116487=-0x1b8c+0x3d*-0x3e+-0x2a52*-0x1;_0x116487<_0x83ad02['length'];_0x116487++){const _0x20b91e=_0x83ad02[_0x116487],_0x5caefc=_0x58afb0[_0x20b91e];if(_0x5caefc){let _0xe359f7=-0x250c+0x1*0x1391+0x117c;switch(_0x20b91e){case'position':_0xe359f7=0x3*0x248+-0x263f+-0x2*-0xfb5;break;case'color_opac'+'ity':_0xe359f7=0x3*-0xa66+0x93*-0x1f+0x3103;break;case'scale':_0xe359f7=0x3f*0x1f+-0x109c+-0x8fe*-0x1;break;case'motion':_0xe359f7=-0x94b+0x13cc+-0xa7e;break;case'rotation':_0xe359f7=0x7bb*0x4+-0x1f01+-0x8*-0x3;break;default:_0xe359f7=-0x99d+-0x1*0x24a0+0x2e3e;break;}const _0x14f8f2=new Float32Array(_0x14b738*_0xe359f7);_0x3002aa>0xf*0x34+-0x1ffb+0x1cef?(_0x14f8f2['set'](_0x5caefc['subarray'](-0xb*-0x22a+-0x2ad*0x1+-0x1521*0x1,_0x3002aa*_0xe359f7),-0x1c3a+0x5*-0x269+0x2847),_0x14f8f2['set'](_0x5caefc['subarray'](_0x5c860b*_0xe359f7),_0x3002aa*_0xe359f7)):_0x14f8f2['set'](_0x5caefc['subarray'](_0x5c860b*_0xe359f7),0x2421+-0x7eb*-0x1+-0x1606*0x2),_0x58afb0[_0x20b91e]=_0x14f8f2;}}},_0x193f7b=()=>{const _0x136b38=Object['keys'](_0x58afb0);for(let _0x4fa672=-0x2038+-0x646+0x267e;_0x4fa672<_0x136b38['length'];_0x4fa672++){const _0x58fc1b=_0x136b38[_0x4fa672];_0x58afb0[_0x58fc1b]&&(_0x58afb0[_0x58fc1b]=[]);}},_0x225267=()=>{_0x58afb0={},_0x14b738=0x23e*0xb+0xd6f+0x3*-0xcb3;};}class JA extends me{constructor(){super(),this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+QA['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}async['appendGSpl'+'atData'](_0x45aecb,_0x32fbb0,_0x57d3ca,_0x11df50=!(0x81b*-0x1+-0xff6+-0x4f*-0x4e)){var _0x292104,_0x3ace2e;const _0x13625d={};return _0x45aecb['elements'][0x617*-0x2+0x6f5+0x539]['properties']['forEach'](_0x1e9e08=>{_0x13625d[_0x1e9e08['name']]=_0x1e9e08['storage'];}),_0x11df50?(_0x292104=this['worker'])==null||_0x292104['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x13625d,'timeIndex':_0x32fbb0,'timeOption':_0x57d3ca},_0x45aecb['elements'][0x2*0xaa9+0x27*-0x58+-0x2*0x3f5]['properties']['map'](_0x147fdd=>_0x147fdd['storage']['buffer'])):(_0x3ace2e=this['worker'])==null||_0x3ace2e['postMessag'+'e']({'type':'appendGSpl'+'atData','properties':_0x13625d,'timeIndex':_0x32fbb0,'timeOption':_0x57d3ca}),new Promise(_0x2cc91d=>{this['worker']['onmessage']=_0x2c9819=>{if(!this['worker'])return;const {data:_0x50588a}=_0x2c9819;_0x50588a['type']==='newAppendD'+'ata'&&_0x2cc91d(_0x50588a);};});}async['releaseSeq'+'Data'](_0x46c33f){var _0x5e3990;(_0x5e3990=this['worker'])==null||_0x5e3990['postMessag'+'e']({'type':'releaseSeq'+'Data','index':_0x46c33f});}async['releaseAll'+'SeqData'](){var _0x109123;(_0x109123=this['worker'])==null||_0x109123['postMessag'+'e']({'type':'releaseAll'+'SeqData'});}['destroy'](){var _0x53d49c;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x53d49c=this['worker'])==null||_0x53d49c['terminate'](),this['worker']=null);}}const gc=new te(),gg=new le(),eC=new ie(-0x14a7+0x1ab7+-0x60f,0x2106*-0x1+0xc3*-0x25+0x3d36,-0x1985+-0x2251*0x1+0x3bd6,-0x19b9+-0x279+0x191*0x12+0.4),Sg=0x1*0x3d8c9+0x72da*0xd+-0x6a09b;class tC{constructor(_0x2cca9a,_0x432083,_0x298623,_0xf9ee00,_0x14c46e,_0xf9630c){const _0x4a21f0=_0x2cca9a['getProp']('position'),_0xeb6354=_0x2cca9a['getProp']('color_opac'+'ity'),_0x6a16a8=_0x2cca9a['getProp']('scale'),_0x37cbce=_0x2cca9a['getProp']('motion'),_0x2a8836=_0x2cca9a['getProp']('rotation');this['read']=_0x139555=>{_0x432083&&_0x432083['set'](_0x4a21f0[_0x139555*(0x9e3+-0x199b+0xfbb)+(-0x151*-0x3+-0x81d+0x42a)],_0x4a21f0[_0x139555*(0x1d86+-0xb29*0x1+-0x125a)+(-0x1c7b+0x3*0x15+0x1c3d)],_0x4a21f0[_0x139555*(-0x7ad*0x1+0x22fd+-0x1b4d)+(0x5d9+-0x1aa*0x2+0x1*-0x283)]),_0x298623&&_0x298623['set'](_0x2a8836[_0x139555*(-0x163f+0x21af*-0x1+-0x37f1*-0x1)+(0x7*0x4c9+0x2*-0x67+-0x20b1*0x1)],_0x2a8836[_0x139555*(0x1*-0xc2+0x26*-0x83+0x1437)+(-0x607*-0x1+-0x2*-0x83f+-0x1684)],_0x2a8836[_0x139555*(0x6cf+-0x2*0xa8f+-0x6*-0x263)+(-0x25ab+0x7*0x3+0x2598)]),_0xf9ee00&&_0xf9ee00['set'](_0x6a16a8[_0x139555*(0x359*-0x2+0x757+-0xa2)+(-0x14a4+-0x767+0x1c0b)],_0x6a16a8[_0x139555*(-0x100e*0x2+-0x28e*0x7+-0x10ab*-0x3)+(-0x331*0x4+0x20*0xe2+-0x3*0x529)],_0x6a16a8[_0x139555*(0x1a56*0x1+-0x7*0x4c3+-0xd*-0x8a)+(-0xe2*-0x29+-0x3ae+-0x2082)]),_0xf9630c&&_0x37cbce&&_0xf9630c['set'](_0x37cbce[_0x139555*(-0x2508+-0x1c98+-0x41a3*-0x1)+(-0x110a+0x105e+-0x1*-0xac)],_0x37cbce[_0x139555*(0x981*0x3+-0x560+0xb90*-0x2)+(-0xe7+-0xab*-0x1d+0xa3*-0x1d)],_0x37cbce[_0x139555*(0xb*0x14f+0x188f+-0x1*0x26f1)+(0x1147*0x1+-0x2ad+-0xe98)]),_0x14c46e&&_0x14c46e['set'](_0xeb6354[_0x139555*(-0x9d7+-0x61*-0x43+-0xf88)+(-0xd95+0x29d*0x7+0x3*-0x192)],_0xeb6354[_0x139555*(0x126f+-0xcc7*-0x2+-0x1*0x2bf9)+(-0x4*0x26f+0x4ff*-0x6+0x1*0x27b7)],_0xeb6354[_0x139555*(0x227a*0x1+-0x3e6+-0x1e90)+(-0x2*0x181+-0x1*0x20b1+-0x1*-0x23b5)],_0xeb6354[_0x139555*(0x1a+-0x1*-0x123b+-0x9*0x209)+(-0x21*0xc5+-0x1*-0x2559+-0xbf1)]);};}}const sC=(_0x3c2af1,_0x1035b3,_0x276dcc)=>{gg['set'](_0x276dcc['x'],_0x276dcc['y'],_0x276dcc['z'],_0x276dcc['w'])['normalize'](),_0x3c2af1['setTRS'](_0x1035b3,gg,D['ONE']);};class iC{constructor(_0x36faa7,_0xf985e7=[],_0x1675fe=[]){h(this,'elements'),h(this,'properties'),h(this,'numSplats',-0x2552+-0x1*0x4b8+-0x2a0a*-0x1),h(this,'comments'),h(this,'is4D'),h(this,'dataWorker'),h(this,'destroy',()=>{var _0xb162cd;(_0xb162cd=this['dataWorker'])==null||_0xb162cd['destroy'](),this['dataWorker']=null;});var _0x3bc7f2,_0x48a87a,_0x4edaf4;this['elements']=_0x36faa7,this['properties']=_0x1675fe,this['numSplats']=((_0x3bc7f2=this['getElement']('vertex'))==null?void(-0xe53*0x2+0x106*-0x26+0x438a):_0x3bc7f2['count'])??0x2*0x8c2+0xb09+0x1c8d*-0x1,this['comments']=_0xf985e7,this['is4D']=!!((_0x4edaf4=(_0x48a87a=this['getElement']('vertex'))==null?void(-0x263+0x23f9+-0x2196):_0x48a87a['properties']['find'](_0x451801=>_0x451801['name']==='t'))!=null&&_0x4edaf4['storage']);}async['appendGSpl'+'atData'](_0x6286dd,_0x15bf44,_0x4850e6){var _0x18324e;let _0x450266=0xee3+0x541*-0x7+0x15e4;for(let _0x4c8286=0x24dd*0x1+-0x1a65+-0x4*0x29e;_0x4c8286<_0x4850e6['length']&&_0x15bf44>_0x4850e6[_0x4c8286];_0x4c8286+=-0x5e8*-0x3+0x1c27+-0xc7*0x3b)_0x450266=_0x4c8286/(0x92*-0xe+0x39b+0x1*0x463);this['dataWorker']||(this['dataWorker']=new JA(),await this['dataWorker']['appendGSpl'+'atData'](this,0x2c*0x74+0x11*0x73+-0x1b93,_0x4850e6));const _0x5eea6b=this['getElement']('vertex');_0x5eea6b&&(_0x5eea6b['count']=this['numSplats']);const _0x442892=await this['dataWorker']['appendGSpl'+'atData'](_0x6286dd,_0x450266,_0x4850e6,!(-0x2*0x9c7+-0xcaa+-0x2038*-0x1)),_0x30ca0b=_0x442892['properties'],_0xe50950=((_0x18324e=this['getElement']('vertex'))==null?void(-0x2634+0x1*0x91a+-0x5*-0x5d2):_0x18324e['properties'])??[];for(const _0x5564b4 in _0x30ca0b){const _0x2c4ab7=_0xe50950['find'](_0xaf8996=>_0xaf8996['name']===_0x5564b4);_0x2c4ab7?_0x2c4ab7['storage']=_0x30ca0b[_0x5564b4]:_0xe50950['push']({'type':'float','name':_0x5564b4,'storage':_0x30ca0b[_0x5564b4],'byteSize':0x4});}this['transformD'+'ata']=_0x442892['transformD'+'ata'],this['numSplats']=_0x30ca0b['position']['length']/(0x807+-0x10f1+0x8ed);}async['releaseSeq'+'Data'](_0x18c55b){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'leaseSeqDa'+'ta',_0x18c55b),this['dataWorker']['releaseSeq'+'Data'](_0x18c55b),this;}async['releaseAll'+'SeqData'](){var _0x51d9fb;return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatDeco'+'dedData\x20re'+'lease\x20all\x20'+'SeqData'),(_0x51d9fb=this['dataWorker'])==null||_0x51d9fb['releaseAll'+'SeqData'](),this;}['getProp'](_0x1b6ec4,_0x368cdf='vertex'){var _0x3d0455,_0x466bc9;return(_0x466bc9=(_0x3d0455=this['getElement'](_0x368cdf))==null?void(-0x11*-0x236+-0x6*0xa4+-0x21be):_0x3d0455['properties']['find'](_0x21a60a=>_0x21a60a['name']===_0x1b6ec4))==null?void(0x13ed*-0x1+0xa73*0x1+0x2*0x4bd):_0x466bc9['storage'];}['getElement'](_0x21cc3e){return this['elements']['find'](_0xbae82c=>_0xbae82c['name']===_0x21cc3e);}['createIter'](_0x4bb7e4,_0x3d52fb,_0xf55e9c,_0x33b92e,_0x53f18c){return new tC(this,_0x4bb7e4,_0x3d52fb,_0xf55e9c,_0x33b92e,_0x53f18c);}['calcAabb'](_0x2df168,_0x2dc847){let _0x466cf1=0x1365+-0xd*0x5e+-0x1*0xe9f,_0x4d37a6=0x1c22+0x13*-0x9b+-0x10a1,_0x204358=-0x1*0x136d+0x2222+-0xeb5,_0x1a883a=-0x46d+-0x10dc+0x1549,_0x4b987d=0xc*-0x329+-0x85*-0x27+0x11a9,_0x1da463=0x1530+-0x75e+-0xdd2,_0xe46efe=!(0x5f2+0x2c*0x6f+-0x1906);const _0x32f0e4=this['getProp']('position'),_0x5d968e=this['getProp']('scale');for(let _0x3cbbdb=0x20a6+0x1*-0x4a9+-0x1bfd;_0x3cbbdb<this['numSplats'];++_0x3cbbdb){if(_0x2dc847&&!_0x2dc847(_0x3cbbdb))continue;const _0x456b36=_0x32f0e4[_0x3cbbdb*(0x15d1*-0x1+-0x9df+0x1fb3)+(-0x2672+-0x21ba+0x482c)],_0x5e61a2=_0x32f0e4[_0x3cbbdb*(0x15c*-0x17+-0x1*-0xda6+0x1*0x11a1)+(-0x263a+0x19a8+-0xc93*-0x1)],_0x2b2af5=_0x32f0e4[_0x3cbbdb*(0xc68+-0x247*-0x4+0x72b*-0x3)+(0x16b8+0x144+-0x17fa)],_0x112bdd=Math['max'](_0x5d968e[_0x3cbbdb*(-0xdf3*0x2+0xecc*-0x2+0x837*0x7)+(0x173b+-0xe2*-0x29+-0x567*0xb)],_0x5d968e[_0x3cbbdb*(-0xe94+-0x2701+0x8*0x6b3)+(-0x100a+0xb45*-0x2+-0x1*-0x2695)],_0x5d968e[_0x3cbbdb*(-0x1c6b+0x472*-0x7+0x3b8c)+(0x9f0+0x5*-0x15e+0x4*-0xc6)]);if(!isFinite(_0x456b36)||!isFinite(_0x5e61a2)||!isFinite(_0x2b2af5)||!isFinite(_0x112bdd))continue;const _0x454bd4=(0x24cc+0x1*-0xa03+0xf*-0x1c9)*Math['exp'](_0x112bdd);_0xe46efe?(_0xe46efe=!(-0x1345+-0x1*0x1c7e+0x2fc4),_0x466cf1=_0x456b36-_0x454bd4,_0x4d37a6=_0x5e61a2-_0x454bd4,_0x204358=_0x2b2af5-_0x454bd4,_0x1a883a=_0x456b36+_0x454bd4,_0x4b987d=_0x5e61a2+_0x454bd4,_0x1da463=_0x2b2af5+_0x454bd4):(_0x466cf1=Math['min'](_0x466cf1,_0x456b36-_0x454bd4),_0x4d37a6=Math['min'](_0x4d37a6,_0x5e61a2-_0x454bd4),_0x204358=Math['min'](_0x204358,_0x2b2af5-_0x454bd4),_0x1a883a=Math['max'](_0x1a883a,_0x456b36+_0x454bd4),_0x4b987d=Math['max'](_0x4b987d,_0x5e61a2+_0x454bd4),_0x1da463=Math['max'](_0x1da463,_0x2b2af5+_0x454bd4));}return _0xe46efe||(_0x2df168['center']['set']((_0x466cf1+_0x1a883a)*(0x161*-0x12+0x18f*0x6+0x24*0x6e+0.5),(_0x4d37a6+_0x4b987d)*(0x300*-0x7+0x107f+0x481+0.5),(_0x204358+_0x1da463)*(0x2f*-0x7a+0x6*-0x3d1+0x2d4c+0.5)),_0x2df168['halfExtent'+'s']['set']((_0x1a883a-_0x466cf1)*(-0x3*-0xcc9+0x147*0x5+-0x165f*0x2+0.5),(_0x4b987d-_0x4d37a6)*(-0x2b*-0x8b+0x12ab+-0x2a04+0.5),(_0x1da463-_0x204358)*(0x587*0x6+0x4*0x83b+-0x4216+0.5))),!_0xe46efe;}['yieldToMai'+'n'](){var _0x4d3c3e;return(_0x4d3c3e=globalThis['scheduler'])!=null&&_0x4d3c3e['yield']?globalThis['scheduler']['yield']():new Promise(_0x34f824=>{setTimeout(_0x34f824,0x3e8*-0x5+0x186*-0x17+0x3692);});}async['getCenters'](_0x2ac989){const _0x5472e5=this['getProp']('x'),_0x22fd76=this['getProp']('y'),_0x220421=this['getProp']('z');for(let _0x35cda4=-0x1c4d*-0x1+0x49a*0x1+-0x20e7*0x1;_0x35cda4<this['numSplats'];++_0x35cda4)_0x2ac989[_0x35cda4*(0x111c+-0x977*0x1+-0x7a2)+(-0x631+-0x1016+-0x3*-0x76d)]=_0x5472e5[_0x35cda4],_0x2ac989[_0x35cda4*(-0x1d87+0x19*0x29+0x1989)+(0x5*-0x1c0+0x1ee8+-0x1627*0x1)]=_0x22fd76[_0x35cda4],_0x2ac989[_0x35cda4*(-0x184a+-0x13a*-0x13+0xff)+(-0x81*-0x29+0x2206+-0x36ad)]=_0x220421[_0x35cda4],_0x35cda4%Sg===0x1*-0x130a+-0x5*0x71e+0x170*0x26&&await this['yieldToMai'+'n']();}async['getMuT'](){var _0x5abc7c;if((_0x5abc7c=this['transformD'+'ata'])!=null&&_0x5abc7c['muT'])return this['transformD'+'ata']['muT'];const _0x524164=this['getProp']('t');return _0x524164?new Float32Array(_0x524164):void(-0x21f2+0x2*0x407+-0x4*-0x679);}async['getTScale'](){const _0x12ae6c=this['getProp']('t_scale');if(!_0x12ae6c)return;const _0x4dd445=new Float32Array(this['numSplats']);for(let _0x4e26cf=0x13fe+-0x15ab+-0x21*-0xd;_0x4e26cf<this['numSplats'];++_0x4e26cf)_0x4dd445[_0x4e26cf]=Math['exp'](_0x12ae6c[_0x4e26cf]),_0x4e26cf%Sg===0x23e5+-0xa*0x1a5+0x17f*-0xd&&await this['yieldToMai'+'n']();return _0x4dd445;}['getMotion'](_0x2dbb3f){const _0x4d91f6=this['getProp']('motion');_0x4d91f6&&new Float32Array(_0x4d91f6['buffer']['slice']());}['getTimeInd'+'ex'](){var _0x59deaf;if((_0x59deaf=this['transformD'+'ata'])!=null&&_0x59deaf['timeIndex'])return this['transformD'+'ata']['timeIndex'];const _0x2495e3=this['getProp']('time_index');if(_0x2495e3)return new Float32Array(_0x2495e3);}['calcFocalP'+'oint'](_0xd8e1c,_0x49d9f0){const _0x4360b5=this['getProp']('position'),_0x40484f=this['getProp']('scale');_0xd8e1c['x']=0x24e1+0x2*-0x7af+0x1*-0x1583,_0xd8e1c['y']=-0x3*-0x183+0xbd*0x27+-0x855*0x4,_0xd8e1c['z']=0x19cb*-0x1+0x1f*0x106+-0x5ef;let _0x3d0691=0x1cf7*0x1+0x33*-0x54+-0x1*0xc3b;for(let _0x38d64d=-0x18f0+-0x1924+0x3214;_0x38d64d<this['numSplats'];++_0x38d64d){if(_0x49d9f0&&!_0x49d9f0(_0x38d64d))continue;const _0x182538=_0x4360b5[_0x38d64d*(-0x134b+0x6d*0x13+0xb37)+(-0x14b+0x2565+0x241a*-0x1)],_0x2a5125=_0x4360b5[_0x38d64d*(-0xfab+0x1*0x15e8+-0x63a)+(-0x1*-0x2185+-0x56f*0x1+-0x1c15)],_0x5114b7=_0x4360b5[_0x38d64d*(-0x2*0x12a+-0x9*-0xc5+0x24b*-0x2)+(0x243e+-0x4fa+-0x1f42*0x1)];if(!isFinite(_0x182538)||!isFinite(_0x2a5125)||!isFinite(_0x5114b7))continue;const _0x117e93=(0x2208+-0xc37+-0x4*0x574)/(0x1cef+0x204d+-0x3d3b+Math['max'](_0x40484f[_0x38d64d*(0x6d*0x17+-0x1518+-0x10*-0xb5)+(0x2347+-0x22d*0x11+0x1b6*0x1)],_0x40484f[_0x38d64d*(-0x619*-0x3+0x1*-0xfa0+-0x2a8)+(0x4d7*0x1+0xbea+0x43*-0x40)],_0x40484f[_0x38d64d*(0x1144+0xb7f+-0x1cc0)+(-0xef4+0x129d+-0x3a7)]));_0xd8e1c['x']+=_0x182538*_0x117e93,_0xd8e1c['y']+=_0x2a5125*_0x117e93,_0xd8e1c['z']+=_0x5114b7*_0x117e93,_0x3d0691+=_0x117e93;}_0xd8e1c['mulScalar']((0x4a*-0x86+-0x2314+-0x1*-0x49d1)/_0x3d0691);}['renderWire'+'frameBound'+'s'](_0x1c33fa,_0x1dbd1d){const _0x1a85da=new D(),_0x3f8ff7=new le(),_0x50f55e=new D(),_0x3a6661=new D(),_0x5553db=new D(),_0x1da553=this['createIter'](_0x1a85da,_0x3f8ff7,_0x50f55e);for(let _0x381718=0x455*0x1+0x1ad7+0x54*-0x5f;_0x381718<this['numSplats'];++_0x381718)_0x1da553['read'](_0x381718),sC(gc,_0x1a85da,_0x3f8ff7),gc['mul2'](_0x1dbd1d,gc),_0x3a6661['set'](_0x50f55e['x']*-(-0x10*-0x21b+0x611+-0x27bf),_0x50f55e['y']*-(-0x1*0x443+0x2280+0x1e3b*-0x1),_0x50f55e['z']*-(0x377*0x1+-0x16b4+-0x133f*-0x1)),_0x5553db['set'](_0x50f55e['x']*(-0x1fd0+-0x2263+0x11*0x3e5),_0x50f55e['y']*(-0xab9*0x1+-0x1*0x97c+0x1437),_0x50f55e['z']*(-0x1109+-0x986*-0x2+-0x201)),_0x1c33fa['immediate']['drawWireAl'+'ignedBox'](_0x3a6661,_0x5553db,eC,!(0x6*0x22+0x7*0x9d+0x1*-0x517),_0x1c33fa['defaultDra'+'wLayer'],gc);}get['isCompress'+'ed'](){return!(0x199*-0x3+-0x3d*0x13+-0x155*-0x7);}get['shBands'](){return{0x9:0x1,0x18:0x2,0x2d:0x3}[((()=>{for(let _0x3169c8=-0x26d6+-0x1dd8+0x2257*0x2;_0x3169c8<0x70d+0x5*-0x39f+0xb3b*0x1;++_0x3169c8)if(!this['getProp']('f_rest_'+_0x3169c8))return _0x3169c8;return-0x9e5*-0x3+0x102*0x11+-0x2ea4;})())]??-0x15b7+0x2200+0x55*-0x25;}['calcMorton'+'Order'](){const _0x2603a0=_0x22571d=>{let _0x2d62e7=_0x22571d[-0x1164+-0xb*0x29f+0x2e39],_0x1dc7f9=_0x22571d[-0x258b+-0x112c+0x36b7];for(let _0x945816=-0x2b*-0x3+0x1d69*-0x1+0x9a3*0x3;_0x945816<_0x22571d['length'];_0x945816++)_0x22571d[_0x945816]<_0x2d62e7&&(_0x2d62e7=_0x22571d[_0x945816]),_0x22571d[_0x945816]>_0x1dc7f9&&(_0x1dc7f9=_0x22571d[_0x945816]);return{'min':_0x2d62e7,'max':_0x1dc7f9};},_0x5048cb=(_0x75ab8,_0x5930b2,_0x273c15)=>{const _0x4fff97=_0x393e52=>(_0x393e52&=-0x71*0xb+-0x17ce+0x1054*0x2,_0x393e52=(_0x393e52^_0x393e52<<-0x1318+-0x836+0x1b5e)&-0x19b343f39*0x1+0xf2226032+0x1*0x1a811e006,_0x393e52=(_0x393e52^_0x393e52<<0x2291+-0x1c45*0x1+-0x644)&0x317e734+-0x168871*-0x1d+-0x2a46bf2,_0x393e52=(_0x393e52^_0x393e52<<0x29*0xe9+-0x21*0x95+-0x1218)&-0x288e8b9+-0x49765e2*0x1+0xa2c7f5e,_0x393e52=(_0x393e52^_0x393e52<<0x5b*-0x67+0x43a*-0x5+0x39c1)&-0x5e1455*-0x4+-0xb*0x143d849+-0x1a91e78*-0xd,_0x393e52);return(_0x4fff97(_0x273c15)<<-0x1eb3+0x3*0x571+0xe62)+(_0x4fff97(_0x5930b2)<<-0x14c4+0x1f6f*-0x1+-0x1a1a*-0x2)+_0x4fff97(_0x75ab8);},_0x3af3a9=this['getProp']('x'),_0x2aa252=this['getProp']('y'),_0x2d47f5=this['getProp']('z'),{min:_0x44d7ae,max:_0x318153}=_0x2603a0(_0x3af3a9),{min:_0x435288,max:_0x360ea6}=_0x2603a0(_0x2aa252),{min:_0x354940,max:_0xa5b15b}=_0x2603a0(_0x2d47f5),_0x4c8bb8=_0x44d7ae===_0x318153?-0x1b1*-0x16+0xef3+0x1*-0x3429:(-0x1*-0x20ef+0x149*0x17+-0x3a7e*0x1)/(_0x318153-_0x44d7ae),_0x3283bd=_0x435288===_0x360ea6?-0x2682+0x2*-0xd5+0x359*0xc:(0xd45*-0x2+-0x2579+0x4403)/(_0x360ea6-_0x435288),_0x2041b5=_0x354940===_0xa5b15b?-0xd*0x2f1+0x1c*0x43+-0x1*-0x1ee9:(0x2431+0xb12+-0x2b43*0x1)/(_0xa5b15b-_0x354940),_0x3412e6=new Map();for(let _0x492b53=0x32+-0x2411*0x1+-0x3*-0xbf5;_0x492b53<this['numSplats'];_0x492b53++){const _0x538cc6=Math['min'](-0x1c64+-0x1812+-0x61*-0x95,Math['floor']((_0x3af3a9[_0x492b53]-_0x44d7ae)*_0x4c8bb8)),_0x3c4912=Math['min'](-0xf48+0x1*-0xe3d+0xc*0x2cb,Math['floor']((_0x2aa252[_0x492b53]-_0x435288)*_0x3283bd)),_0x8f2bbf=Math['min'](0x1*0x2510+-0xc0b*0x2+0x13*-0x79,Math['floor']((_0x2d47f5[_0x492b53]-_0x354940)*_0x2041b5)),_0x29fd49=_0x5048cb(_0x538cc6,_0x3c4912,_0x8f2bbf),_0x4ca6a5=_0x3412e6['get'](_0x29fd49);_0x4ca6a5?_0x4ca6a5['push'](_0x492b53):_0x3412e6['set'](_0x29fd49,[_0x492b53]);}const _0x10ef62=Array['from'](_0x3412e6['keys']())['sort']((_0x4738ef,_0x25c406)=>_0x4738ef-_0x25c406),_0x45ae77=new Uint32Array(this['numSplats']);let _0x504396=-0xd4b+0x7b3+0x598;for(let _0x5b26e1=0x1e77+-0x96f+-0x1508;_0x5b26e1<_0x10ef62['length'];++_0x5b26e1){const _0x26a766=_0x3412e6['get'](_0x10ef62[_0x5b26e1]);for(let _0x3f4a79=0x5*-0x7aa+0x25f8+0xf*0x6;_0x3f4a79<_0x26a766['length'];++_0x3f4a79)_0x45ae77[_0x504396++]=_0x26a766[_0x3f4a79];}return _0x45ae77;}['reorder'](_0x3cf7f6){const _0x245dfb=new Map(),_0x559c1e=_0x4f7a36=>{if(_0x245dfb['has'](_0x4f7a36)){const _0x1b6a09=_0x245dfb['get'](_0x4f7a36);return _0x245dfb['delete'](_0x4f7a36),_0x1b6a09;}return new ArrayBuffer(_0x4f7a36);},_0x50b1a9=_0x4b103e=>{_0x245dfb['set'](_0x4b103e['byteLength'],_0x4b103e);},_0x363a31=_0x5111b6=>{const _0x2a700e=new _0x5111b6['constructo'+'r'](_0x559c1e(_0x5111b6['byteLength']));for(let _0x2e4eae=0x235f+-0x13ef+-0xf70;_0x2e4eae<_0x3cf7f6['length'];_0x2e4eae++)_0x2a700e[_0x2e4eae]=_0x5111b6[_0x3cf7f6[_0x2e4eae]];return _0x50b1a9(_0x5111b6['buffer']),_0x2a700e;};this['elements']['forEach'](_0x9b75f6=>{_0x9b75f6['properties']['forEach'](_0x4e13b4=>{_0x4e13b4['storage']&&(_0x4e13b4['storage']=_0x363a31(_0x4e13b4['storage']));});});}['reorderDat'+'a'](){this['reorder'](this['calcMorton'+'Order']());}}const rC='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20void\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(vert'+'ex_positio'+'n,\x200.0,\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a',aC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'vec4\x20packR'+'gb(vec3\x20v)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uvec3\x20vb\x20'+'=\x20uvec3(cl'+'amp(v,\x20vec'+'3(0.0),\x20ve'+'c3(1.0))\x20*'+'\x20vec3(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uint\x20bits\x20'+'=\x20(vb.x\x20<<'+'\x2021)\x20|\x20(vb'+'.y\x20<<\x2010)\x20'+'|\x20vb.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4((u'+'vec4(bits)'+'\x20>>\x20uvec4('+'24,\x2016,\x208,'+'\x200))\x20&\x20uve'+'c4(0xff))\x20'+'/\x20vec4(255'+'.0);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20vec3\x20dir'+';\x0a\x20\x20\x20\x20unif'+'orm\x20medium'+'p\x20sampler2'+'D\x20centroid'+'s;\x0a\x20\x20\x20\x20uni'+'form\x20mediu'+'mp\x20float\x20s'+'hN_mins;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20f'+'loat\x20shN_m'+'axs;\x0a\x0a\x20\x20\x20\x20'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20ivec'+'2\x20uv\x20=\x20ive'+'c2(gl_Frag'+'Coord.xy)\x20'+'*\x20ivec2(SH'+'_COEFFS,\x201'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20mediump\x20v'+'ec3\x20coeffi'+'cients[SH_'+'COEFFS];\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(int\x20i\x20=\x20'+'0;\x20i\x20<\x20SH_'+'COEFFS;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20s\x20=\x20texe'+'lFetch(cen'+'troids,\x20iv'+'ec2(uv.x\x20+'+'\x20i,\x20uv.y),'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20coefficie'+'nts[i]\x20=\x20m'+'ix(vec3(sh'+'N_mins),\x20v'+'ec3(shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20packRgb'+'(evalSH(co'+'efficients'+',\x20dir)\x20*\x200'+('.25\x20+\x200.5)'+';\x0a\x20\x20\x20\x20}\x0a'),nC='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput:\x20Vert'+'exInput)\x20-'+'>\x20VertexOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Ver'+'texOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(vertex_'+'position,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a',oC='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tEvalSHVS\x22'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'akes\x20a\x20nor'+'malized\x203-'+'component\x20'+'value,\x20con'+'vert\x20to\x20(1'+'1,\x2011,\x2010)'+'\x20bit\x20range'+'\x20and\x0a\x20\x20\x20\x20/'+'/\x20then\x20pac'+'kage\x20into\x20'+'RGBA8\x0a\x20\x20\x20\x20'+'fn\x20packRgb'+'(v:\x20vec3f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vb\x20=\x20v'+'ec3u(clamp'+'(v,\x20vec3f('+'0.0),\x20vec3'+'f(1.0))\x20*\x20'+'vec3f(2047'+'.0,\x202047.0'+',\x201023.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20bits\x20='+'\x20dot(vb,\x20v'+'ec3u(1\x20<<\x20'+'21,\x201\x20<<\x201'+'0,\x201));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(('+'vec4u(bits'+')\x20>>\x20vec4u'+'(24,\x2016,\x208'+',\x200))\x20&\x20ve'+'c4u(0xff))'+'\x20/\x20vec4f(2'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20un'+'iform\x20dir:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'shN_mins:\x20'+'f32;\x0a\x20\x20\x20\x20u'+'niform\x20shN'+'_maxs:\x20f32'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20centroids'+':\x20texture_'+'2d<f32>;\x0a\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input:'+'\x20FragmentI'+'nput)\x20->\x20F'+'ragmentOut'+'put\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20uv\x20=\x20'+'vec2i(inpu'+'t.position'+'.xy)\x20*\x20vec'+'2i(SH_COEF'+'FS,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'coefficien'+'ts:\x20array<'+'vec3f,\x20SH_'+'COEFFS>;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20read\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x200;\x20i\x20'+'<\x20SH_COEFF'+'S;\x20i++)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s:\x20v'+'ec3f\x20=\x20tex'+'tureLoad(c'+'entroids,\x20'+'vec2i(uv.x'+'\x20+\x20i,\x20uv.y'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20coeffic'+'ients[i]\x20='+'\x20mix(vec3f'+'(uniform.s'+'hN_mins),\x20'+'vec3f(unif'+('orm.shN_ma'+'xs),\x20s);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20evaluate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20packRgb'+'(evalSH(&c'+'oefficient'+'s,\x20uniform'+'.dir)\x20*\x200.'+'25\x20+\x200.5);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20}'+'\x0a'),lC='\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20sampler2D'+'\x20sh0;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x20\x20\x20\x20u'+'niform\x20med'+'iump\x20sampl'+'er2D\x20sh_re'+'sult;\x0a\x0a\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20sh0_mi'+'ns;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20sh0_maxs;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20SH_C0\x20=\x20'+'0.28209479'+'177387814;'+'\x0a\x0a\x20\x20\x20\x20//\x20u'+'npack\x2011,\x20'+'11,\x2010\x20nor'+'malized\x20va'+'lue\x20from\x20r'+'gba8\x20textu'+'re\x20sample\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackRgb(v'+'ec4\x20v)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uve'+'c4\x20uv\x20=\x20uv'+'ec4(v\x20*\x2025'+'5.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uint\x20b'+'its\x20=\x20(uv.'+'x\x20<<\x2024)\x20|'+'\x20(uv.y\x20<<\x20'+'16)\x20|\x20(uv.'+'z\x20<<\x208)\x20|\x20'+'uv.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uvec3\x20'+'vb\x20=\x20(uvec'+'3(bits)\x20>>'+'\x20uvec3(21,'+'\x2010,\x200))\x20&'+'\x20uvec3(0x7'+'ffu,\x200x7ff'+'u,\x200x3ffu)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3(vb)\x20/\x20ve'+'c3(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20baseSampl'+'e\x20=\x20mix(sh'+'0_mins,\x20sh'+'0_maxs,\x20te'+'xelFetch(s'+'h0,\x20source'+'.uv,\x200));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20resolve\x20'+'base\x20color'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4\x20base\x20='+'\x20vec4(vec3'+'(0.5)\x20+\x20ba'+'seSample.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'baseSample'+'.w)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'xtract\x20sph'+'erical\x20har'+'monics\x20pal'+'ette\x20index'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20label'+'Sample\x20=\x20i'+'vec2(texel'+'Fetch(sh_l'+'abels,\x20sou'+'rce.uv,\x200)'+'.xy\x20*\x20255.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20int\x20n\x20=\x20'+('labelSampl'+'e.x\x20+\x20labe'+'lSample.y\x20'+'*\x20256;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20shSample\x20'+'=\x20texelFet'+'ch(sh_resu'+'lt,\x20ivec2('+'n\x20%\x2064,\x20n\x20'+'/\x2064),\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20sh\x20=\x20('+'unpackRgb('+'shSample)\x20'+'-\x20vec3(0.5'+'))\x20*\x204.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'(base.xyz\x20'+'+\x20sh,\x20base'+'.w);\x0a\x20\x20\x20\x20}'+'\x0a'),cC='\x0a\x20\x20\x20\x20var\x20s'+'h0:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'h_labels:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20sh_re'+'sult:\x20text'+'ure_2d<f32'+'>;\x0a\x0a\x20\x20\x20\x20un'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20sh0_m'+'axs:\x20vec4f'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20SH_C0:\x20'+'f32\x20=\x200.28'+'2094791773'+'87814;\x0a\x0a\x20\x20'+'\x20\x20//\x20unpac'+'k\x2011,\x2011,\x20'+'10\x20normali'+'zed\x20value\x20'+'from\x20rgba8'+'\x20texture\x20s'+'ample\x0a\x20\x20\x20\x20'+'fn\x20unpackR'+'gb(v:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20bits'+'\x20=\x20dot(vec'+'4u(v\x20*\x20255'+'.0),\x20vec4u'+'(1u\x20<<\x2024,'+'\x201u\x20<<\x2016,'+'\x201u\x20<<\x208,\x20'+'1u));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20vb'+'\x20=\x20(vec3u('+'bits)\x20>>\x20v'+'ec3u(21,\x201'+'0,\x200))\x20&\x20v'+'ec3u(0x7ff'+'u,\x200x7ffu,'+'\x200x3ffu);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec3f'+'(vb)\x20/\x20vec'+'3f(2047.0,'+'\x202047.0,\x201'+'023.0);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20f'+'n\x20readColo'+'r(source:\x20'+'ptr<functi'+'on,\x20SplatS'+'ource>)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'sample\x20bas'+'e\x20color\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'baseSample'+':\x20vec4f\x20=\x20'+'mix(unifor'+'m.sh0_mins'+',\x20uniform.'+'sh0_maxs,\x20'+'textureLoa'+'d(sh0,\x20sou'+'rce.uv,\x200)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20base\x20'+'=\x20vec4f(ve'+'c3f(0.5)\x20+'+'\x20baseSampl'+'e.xyz\x20*\x20SH'+'_C0,\x201.0\x20/'+'\x20(1.0\x20+\x20ex'+'p(-baseSam'+'ple.w)));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20extract\x20'+'spherical\x20'+'harmonics\x20'+'palette\x20in'+'dex\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20labe'+'lSample:\x20v'+'ec2i\x20=\x20vec'+'2i(texture'+'Load(sh_la'+'bels,\x20sour'+'ce.uv,\x200).'+'xy\x20*\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20n\x20=\x20l'+('abelSample'+'.x\x20+\x20label'+'Sample.y\x20*'+'\x20256;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hSample:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(s'+'h_result,\x20'+'vec2i(n\x20%\x20'+'64,\x20n\x20/\x2064'+'),\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'h:\x20vec3f\x20='+'\x20(unpackRg'+'b(shSample'+')\x20-\x20vec3f('+'0.5))\x20*\x204.'+'0;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(base.'+'xyz\x20+\x20sh,\x20'+'base.w);\x0a\x20'+'\x20\x20\x20}\x0a'),hC=(_0x21aa08,_0x4d6a11)=>{for(const _0x29c29c in _0x4d6a11)_0x21aa08['resolve'](_0x29c29c)['setValue'](_0x4d6a11[_0x29c29c]);};class dC extends ys{constructor(){super(...arguments),h(this,'executeCal'+'lback',null);}['execute'](){var _0x1c1ec7;(_0x1c1ec7=this['executeCal'+'lback'])==null||_0x1c1ec7['call'](this);}}const yg=new te(),uo=new D();class fC{constructor(_0x95cda3,_0x5d6aeb){h(this,'prevDir',new D()),h(this,'updateMode','enable'),(this['device']=_0x95cda3,this['gsplatInst'+'ance']=_0x5d6aeb);const {resource:_0x5aeebd}=_0x5d6aeb,_0x32f1ac=new Map(Pe['get'](_0x95cda3,_0x95cda3['isWebGPU']?'wgsl':'glsl'));this['shader']=$t['createShad'+'er'](_0x95cda3,{'uniqueName':'gsplatReso'+'lveSH','vertexGLSL':rC,'fragmentGLSL':aC,'vertexWGSL':nC,'fragmentWGSL':oC,'vertexIncludes':_0x32f1ac,'fragmentIncludes':_0x32f1ac,'fragmentDefines':new Map([['SH_BANDS',_0x5aeebd['gsplatData']['shBands']['toString']()]]),'attributes':{'vertex_position':Me}}),this['texture']=_0x5aeebd['createText'+'ure']('centroids',Ne,new J(-0x156b*-0x1+-0x2e3+-0x1248,0xa*0x3+0x2691*-0x1+0x2a73)),this['renderTarg'+'et']=new gt({'colorBuffer':this['texture'],'depth':!(-0x20d1+-0x92c+-0x1ae*-0x19)}),this['renderPass']=new dC(_0x95cda3),this['renderPass']['init'](this['renderTarg'+'et'],{}),this['renderPass']['colorOps']['clear']=!(0x1*-0x884+-0x107d+-0x1901*-0x1),this['quadRender']=new Ah(this['shader']);const {material:_0xf1a8f3}=_0x5d6aeb;_0xf1a8f3['setDefine']('SH_BANDS','0');const {shaderChunks:_0x3b7481}=_0xf1a8f3;_0x3b7481['glsl']['set']('gsplatSogs'+'ColorVS',lC),_0x3b7481['wgsl']['set']('gsplatSogs'+'ColorVS',cC),_0xf1a8f3['update'](),_0x95cda3['scope']['resolve']('sh_result')['setValue'](this['texture']);}['destroy'](){const {gsplatInstance:_0x556a14}=this,{material:_0xda900c}=_0x556a14;_0xda900c['setDefine']('SH_BANDS',_0x556a14['resource']['gsplatData']['shBands']['toString']());const {shaderChunks:_0x51191b}=_0xda900c;_0x51191b['glsl']['delete']('gsplatSogs'+'ColorVS'),_0x51191b['wgsl']['delete']('gsplatSogs'+'ColorVS'),_0xda900c['update'](),this['quadRender']['destroy'](),this['renderPass']['destroy'](),this['renderTarg'+'et']['destroy'](),this['texture']['destroy'](),this['shader']['destroy']();}['render'](_0x29d203,_0x2d6a17){const {prevDir:_0x5d05a0,updateMode:_0x3e7a49}=this;if(_0x3e7a49==='disable'||(yg['invert'](_0x2d6a17),yg['transformV'+'ector'](_0x29d203['forward'],uo),uo['normalize'](),_0x3e7a49==='enable'&&uo['equalsAppr'+'ox'](_0x5d05a0,-0x31f+-0x1537+0xb2*0x23+0.001)))return;_0x5d05a0['copy'](uo);const _0x1a6618=()=>{const {device:_0x493b1a}=this,{sh_centroids:_0x18a44d,meta:_0x303515}=this['gsplatInst'+'ance']['resource']['gsplatData'];hC(_0x493b1a['scope'],{'dir':uo['toArray'](),'centroids':_0x18a44d,'shN_mins':_0x303515['shN']['mins'],'shN_maxs':_0x303515['shN']['maxs']}),_0x493b1a['setCullMod'+'e'](bt),_0x493b1a['setDepthSt'+'ate'](Yt['NODEPTH']),_0x493b1a['setStencil'+'State'](null,null),_0x493b1a['setBlendSt'+'ate'](pt['NOBLEND']),this['quadRender']['render']();};this['renderPass']['executeCal'+'lback']=_0x1a6618,this['renderPass']['render']();}}const uC='\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20means_l'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20means_'+'u;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20quats'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20scales'+';\x0a\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20sh_lab'+'els;\x0a\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20uint\x20n'+'umSplats;\x0a'+'\x0a\x20\x20\x20\x20uint\x20'+'packU32(ve'+'c4\x20v)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20uint(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u\x20|\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20uint('+'v.y\x20*\x20255.'+'0)\x20<<\x2016u\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uin'+'t(v.z\x20*\x2025'+'5.0)\x20<<\x208u'+'\x20|\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(v.w\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20uv'+'ec4\x20packU3'+'2(vec4\x20a,\x20'+'vec4\x20b,\x20ve'+'c4\x20c,\x20vec4'+'\x20d)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uvec4(pac'+'kU32(a),\x20p'+'ackU32(b),'+'\x20packU32(c'+'),\x20packU32'+'(d));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20w\x20='+'\x20int(textu'+'reSize(mea'+'ns_l,\x200).x'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ivec2\x20uv\x20'+'=\x20ivec2(gl'+'_FragCoord'+'.xy);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(ui'+'nt(uv.x\x20+\x20'+'uv.y\x20*\x20w)\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansLSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_l,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20meansUSam'+'ple\x20=\x20texe'+'lFetch(mea'+'ns_u,\x20uv,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20quatsSamp'+'le\x20=\x20texel'+'Fetch(quat'+'s,\x20uv,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20scales'+'Sample\x20=\x20t'+'exelFetch('+'scales,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shLabel'+'sSample\x20=\x20'+'texelFetch'+'(sh_labels'+',\x20uv,\x200).x'+('y;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20pcFragCo'+'lor0\x20=\x20pac'+'kU32(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansLS'+'ample,\x20shL'+'abelsSampl'+'e.x),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(meansUS'+'ample,\x20shL'+'abelsSampl'+'e.y),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c4(quatsSa'+'mple),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec4(scales'+'Sample,\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20}\x0a'),pC='\x0a\x20\x20\x20\x20var\x20m'+'eans_l:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20means_u'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20qua'+'ts:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20s'+'cales:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sh_label'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20numSpla'+'ts:\x20u32;\x0a\x0a'+'\x20\x20\x20\x20fn\x20pac'+'kU32(v:\x20ve'+'c4<f32>)\x20-'+'>\x20u32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(u32(v.'+'x\x20*\x20255.0)'+'\x20<<\x2024u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20(u3'+'2(v.y\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20\x20|\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(u32(v.z\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20u32(v.w'+'\x20*\x20255.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20packU'+'Vec32(a:\x20v'+'ec4<f32>,\x20'+'b:\x20vec4<f3'+'2>,\x20c:\x20vec'+'4<f32>,\x20d:'+'\x20vec4<f32>'+')\x20->\x20vec4<'+'u32>\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4<u32'+'>(packU32('+'a),\x20packU3'+'2(b),\x20pack'+'U32(c),\x20pa'+'ckU32(d));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20@fragmen'+'t\x0a\x20\x20\x20\x20fn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20w:\x20u32\x20'+'=\x20textureD'+'imensions('+'means_l,\x200'+').x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2<u32>'+'\x20=\x20vec2<u3'+'2>(pcPosit'+'ion.xy);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv.x\x20+\x20uv'+'.y\x20*\x20w\x20>=\x20'+'uniform.nu'+'mSplats)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20fetch\x20the'+'\x20source\x20in'+'dex\x20and\x20ca'+'lculate\x20so'+'urce\x20uv\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'meansLSamp'+'le:\x20vec3<f'+('32>\x20=\x20text'+'ureLoad(me'+'ans_l,\x20uv,'+'\x200).xyz;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20meansUSam'+'ple:\x20vec3<'+'f32>\x20=\x20tex'+'tureLoad(m'+'eans_u,\x20uv'+',\x200).xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20quatsSam'+'ple:\x20vec4<'+'f32>\x20=\x20tex'+'tureLoad(q'+'uats,\x20uv,\x20'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20scal'+'esSample:\x20'+'vec3<f32>\x20'+'=\x20textureL'+'oad(scales'+',\x20uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shLa'+'belsSample'+':\x20vec2<f32'+'>\x20=\x20textur'+'eLoad(sh_l'+'abels,\x20uv,'+'\x200).xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20packUVec'+'32(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansLSam'+'ple,\x20shLab'+'elsSample.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(meansUSam'+'ple,\x20shLab'+'elsSample.'+'y),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'(quatsSamp'+'le),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4(scalesSa'+'mple,\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a'),An=-0x23a6+0x19*-0xad+0x348b*0x1+0.28209479177387814,Ci=_0x173fb9=>_0x173fb9['read'](-0x3a9*-0x6+0xd7e*-0x1+-0x878,-0x1e1f+0x3d*0xa+0x1bbd,_0x173fb9['width'],_0x173fb9['height'],{'mipLevel':0x0,'face':0x0,'immediate':!(0x4be+0x1*0xc7d+-0x113b)}),mC=(_0x47e080,_0xf4c5fc)=>{for(const _0x5f0447 in _0xf4c5fc)_0x47e080['resolve'](_0x5f0447)['setValue'](_0xf4c5fc[_0x5f0447]);};class _C{constructor(_0x372291,_0x285a2d,_0x5f008b,_0xca3e46,_0x589ce5,_0x795e6){const _0x56df65=(_0x57734a,_0x3864f3,_0x4bfe8a)=>_0x57734a*(0xefd*0x1+0x1*-0x10c1+0x1c5-_0x4bfe8a)+_0x3864f3*_0x4bfe8a,{meta:_0x5aee6c}=_0x372291,{means:_0x375b47,scales:_0x2224c8,sh0:_0x274022,shN:_0x46edf0}=_0x5aee6c,_0x3dca01=_0x285a2d&&_0x372291['means_l']['_levels'][0x1c19*-0x1+-0x1960+-0x5f1*-0x9],_0x5315fb=_0x285a2d&&_0x372291['means_u']['_levels'][0x1b4e+0x1bad+-0x36fb],_0x299487=_0x5f008b&&_0x372291['quats']['_levels'][0x14b5+-0x34*0xc+0x617*-0x3],_0x3c0e37=_0xca3e46&&_0x372291['scales']['_levels'][0x1fe7*0x1+0x130a+-0x32f1],_0xbdc5a6=_0x589ce5&&_0x372291['sh0']['_levels'][-0x11ad+-0xa19+0x12*0x18b],_0x423c34=_0x795e6&&_0x372291['sh_labels']['_levels'][0x79d*0x5+0x8*0x457+-0x48c9],_0x3445b4=_0x795e6&&_0x372291['sh_centroi'+'ds']['_levels'][0x769*0x1+-0x1*0x17a5+-0x1*-0x103c],_0x410273=(-0x1*-0x26a5+-0x1790+-0xf13)/Math['sqrt'](-0x37e*-0x1+-0x1de5+0x1a69);this['read']=_0x5cf39f=>{if(_0x285a2d){const _0x4fb6a0=_0x56df65(_0x375b47['mins'][-0x296+0x24e0+-0x224a],_0x375b47['maxs'][-0x1c90+-0x2*-0xdbd+-0x116*-0x1],((_0x5315fb[_0x5cf39f*(0x28e*0xd+-0x1e75+-0x1*0x2bd)+(0x2123+0x2186+-0x42a9)]<<0x18a*-0x4+-0x1db7+0x5b*0x65)+_0x3dca01[_0x5cf39f*(-0xa*0x49+-0x1*0x2573+-0x2851*-0x1)+(0x6*-0x648+0x1322+0x947*0x2)])/(-0x6bf8+-0x1ccea+0x338e1)),_0x1ab02d=_0x56df65(_0x375b47['mins'][-0x1*-0x26dd+-0x1faf*0x1+-0x72d],_0x375b47['maxs'][-0x1*-0x30b+-0x2490+-0x10c3*-0x2],((_0x5315fb[_0x5cf39f*(0x4de+0x6ec+-0x1*0xbc6)+(-0x111b*0x1+0xa2e*-0x3+-0x39*-0xd6)]<<-0x48*-0x1+-0x565*-0x2+0xb0a*-0x1)+_0x3dca01[_0x5cf39f*(0x5ad+-0x1*-0x1f33+-0x24dc)+(0x1abd+-0x1*0x2587+0xacb*0x1)])/(-0x19ae*-0x7+0xfa63+-0x2*0x5713)),_0x58cea8=_0x56df65(_0x375b47['mins'][-0x1*-0x1adb+-0x4*0x42d+-0xa25],_0x375b47['maxs'][-0x20*-0x72+0x1*-0x9d+-0xda1*0x1],((_0x5315fb[_0x5cf39f*(-0x1af7+-0x4*0x6e2+0x3683)+(0x5*-0x6b6+0x3f6+-0x6*-0x4ef)]<<-0x7d*-0x2e+0x963+0xa9b*-0x3)+_0x3dca01[_0x5cf39f*(-0x1*-0xd9f+-0x1a78+-0x25*-0x59)+(-0x17b*0x17+-0x11a6+0x33b5)])/(0x2d2e+-0x17f29+-0xc5fe*-0x3));_0x285a2d['x']=Math['sign'](_0x4fb6a0)*(Math['exp'](Math['abs'](_0x4fb6a0))-(-0x1cca+0xd8e*-0x1+0x2a59)),_0x285a2d['y']=Math['sign'](_0x1ab02d)*(Math['exp'](Math['abs'](_0x1ab02d))-(-0x150e+0x7d9*-0x2+0x24c1*0x1)),_0x285a2d['z']=Math['sign'](_0x58cea8)*(Math['exp'](Math['abs'](_0x58cea8))-(-0xa56+0x1bbf+-0x1168));}if(_0x5f008b){const _0x3ca625=(_0x299487[_0x5cf39f*(0x410*-0x2+0x209b*-0x1+0x28bf)+(0x1*-0x2a9+-0x1*0x146c+0x1715)]/(-0x3b*-0x27+0xd32+-0x1530)-(0x52f*-0x2+0x22*0x13+0xfb*0x8+0.5))*_0x410273,_0x4ae692=(_0x299487[_0x5cf39f*(0xaa+0x25b4+-0x265a)+(-0x2f9*-0xa+0x113c+-0x1*0x2ef5)]/(-0x6b+-0xdb*0x26+0x21ec)-(0x352+0x18c7+-0x1c19*0x1+0.5))*_0x410273,_0x2a9d02=(_0x299487[_0x5cf39f*(0x1656+-0x2da+0x2*-0x9bc)+(0x240f+0x2010+0x7*-0x9bb)]/(0x1099+-0x678+-0x491*0x2)-(0x2622+-0x1068+-0x9*0x26a+0.5))*_0x410273,_0x5221a9=Math['sqrt'](Math['max'](0xf31*-0x1+0x2306+-0x13d5,0x12d7*0x1+-0x1efa+0xc24-(_0x3ca625*_0x3ca625+_0x4ae692*_0x4ae692+_0x2a9d02*_0x2a9d02)));switch(_0x299487[_0x5cf39f*(0x204c+-0x30*0x24+-0x662*0x4)+(-0x15c+0x17*0x29+-0x250)]-(0x2311+0x3e8+-0x5*0x799)){case 0xf*-0x16b+-0x1*-0x2135+-0xbf0:_0x5f008b['set'](_0x3ca625,_0x4ae692,_0x2a9d02,_0x5221a9);break;case-0x1772+0x1*0x18f2+-0x17f:_0x5f008b['set'](_0x5221a9,_0x4ae692,_0x2a9d02,_0x3ca625);break;case 0x4*0x953+-0x1cb8+0x449*-0x2:_0x5f008b['set'](_0x4ae692,_0x5221a9,_0x2a9d02,_0x3ca625);break;case 0x1724+-0x24a9+-0x362*-0x4:_0x5f008b['set'](_0x4ae692,_0x2a9d02,_0x5221a9,_0x3ca625);break;}}if(_0xca3e46){const _0x234ba8=_0x56df65(_0x2224c8['mins'][0x26*0x4e+-0xf6d+0x3d9],_0x2224c8['maxs'][0x1231+0x94c+-0x1b7d],_0x3c0e37[_0x5cf39f*(-0x1+-0x1*0x259f+-0x1b6*-0x16)+(-0x1d2b+-0x1204+0x101*0x2f)]/(-0xc10+-0x256+0xf65*0x1)),_0x36b12b=_0x56df65(_0x2224c8['mins'][-0x1aeb+-0xcf8*-0x2+0xfc],_0x2224c8['maxs'][0xf31+-0x24b*0xf+0x1*0x1335],_0x3c0e37[_0x5cf39f*(0x58f+-0x1e39*0x1+0x18ae)+(-0x2*-0xf4f+-0x823*0x1+-0x167a*0x1)]/(-0x32*0x36+-0x7*-0x2bd+-0x20*0x3d)),_0x19c8cf=_0x56df65(_0x2224c8['mins'][0x19b3+0x58c*-0x7+0xd23*0x1],_0x2224c8['maxs'][0x15b4+-0x1eb*0x1+-0x13c7],_0x3c0e37[_0x5cf39f*(0x82*-0x20+-0x1fee+0x3032)+(-0x4eb*-0x1+-0xb11+0x314*0x2)]/(-0x245*0xb+-0xb2d*-0x3+-0x791));_0xca3e46['set'](_0x234ba8,_0x36b12b,_0x19c8cf);}if(_0x589ce5){const _0x1eca14=_0x56df65(_0x274022['mins'][-0x15dd*-0x1+-0x1acf+0x4f2],_0x274022['maxs'][0x1*-0x12b2+-0x16bd+0x296f],_0xbdc5a6[_0x5cf39f*(-0x2332+-0x79a+0x2ad0)+(0x128*-0x2+-0x5*-0x519+0x11*-0x15d)]/(-0x2*0xbb1+-0x18e*0x17+0x5*0xc07)),_0x3a3f8c=_0x56df65(_0x274022['mins'][-0x3*0x36+0x1d8d+-0xe75*0x2],_0x274022['maxs'][0xaf0+-0x2c6+-0x829*0x1],_0xbdc5a6[_0x5cf39f*(0x2100+0x3*-0x771+-0xaa9)+(-0xf42+-0x1*-0x42d+-0x3b2*-0x3)]/(0x1e6b+0x133*-0x1+-0x1c39)),_0x53afa8=_0x56df65(_0x274022['mins'][0xb5*0x2b+0xfe2*-0x1+0x5*-0x2e7],_0x274022['maxs'][0x216b+0x184c+-0x39b5],_0xbdc5a6[_0x5cf39f*(-0x6+-0x540+0x54a)+(0x1*-0x13c9+0x17*-0x2+-0x13f9*-0x1)]/(0x79d+-0x3d*0x2c+0x63*0xa)),_0x4f3d68=_0x56df65(_0x274022['mins'][-0xd31+0x1*-0x17eb+0x251f],_0x274022['maxs'][0x4a2+-0x11a0+0xd01*0x1],_0xbdc5a6[_0x5cf39f*(-0x6e2*-0x4+0x11*0x227+-0x401b)+(0x4ba+-0x7f*0x20+-0x1*-0xb29)]/(0xc*-0x6e+-0x1336+0x195d));_0x589ce5['set'](0xb69+0x10d*0x21+-0x2e16+0.5+_0x1eca14*An,0x146c+0x57d*0x5+-0x2fdd+0.5+_0x3a3f8c*An,-0x118d*0x1+-0x115*-0x4+0xd39+0.5+_0x53afa8*An,(-0x111c*0x1+-0x10bd+0x26b*0xe)/(-0x15f9+0x3fe*0x4+0x1*0x602+Math['exp'](-_0x4f3d68)));}if(_0x795e6){const _0x32a999=_0x423c34[_0x5cf39f*(0x18c2+0x23d9+-0x3c97)+(0x1a9*-0x11+0x18da+0x35f*0x1)]+(_0x423c34[_0x5cf39f*(-0x2*0x6d7+-0x26ac+0x345e)+(-0x8c0+-0x18ae+0x216f)]<<0x12*-0x228+0x12*0x9d+0x1bce),_0x5e21e4=_0x32a999%(-0x132c+-0xa45+0xb*0x2b3)*(-0x1972*0x1+0xa*-0x1fa+0x3*0xf17),_0xb80111=Math['floor'](_0x32a999/(0x1*0x1c50+0x22bd*0x1+-0x3ecd));for(let _0x2bbbb3=-0x1c0a+0x2677*-0x1+0x4281;_0x2bbbb3<0x67*-0x2+0x3*-0x95f+0x1cee;++_0x2bbbb3)for(let _0x522b14=-0x9f1*0x1+-0x12af*-0x1+0x45f*-0x2;_0x522b14<-0x590+0x1d68+-0x17c9*0x1;++_0x522b14)_0x795e6[_0x2bbbb3*(-0x7b3+-0x22df*0x1+0x2aa1)+_0x522b14]=_0x56df65(_0x46edf0['mins'],_0x46edf0['maxs'],_0x3445b4[(_0x5e21e4+_0x522b14)*(0xe39*0x1+0x3*-0x634+0x467)+_0x2bbbb3+_0xb80111*_0x372291['sh_centroi'+'ds']['width']*(0x1*-0x1c3a+0x1eca+-0x28c)]/(-0x7fe+-0x242b+0x2d28));}};}}class gC{constructor(){h(this,'meta'),h(this,'numSplats'),h(this,'means_l'),h(this,'means_u'),h(this,'quats'),h(this,'scales'),h(this,'sh0'),h(this,'sh_centroi'+'ds'),h(this,'sh_labels'),h(this,'packedText'+'ure');}['destroy'](){var _0x1ec925,_0x423c59,_0x243fea,_0x33b3d0,_0x41b0c6,_0x1bf729,_0x378247,_0x6c61be;(_0x1ec925=this['means_l'])==null||_0x1ec925['destroy'](),(_0x423c59=this['means_u'])==null||_0x423c59['destroy'](),(_0x243fea=this['quats'])==null||_0x243fea['destroy'](),(_0x33b3d0=this['scales'])==null||_0x33b3d0['destroy'](),(_0x41b0c6=this['sh0'])==null||_0x41b0c6['destroy'](),(_0x1bf729=this['sh_centroi'+'ds'])==null||_0x1bf729['destroy'](),(_0x378247=this['sh_labels'])==null||_0x378247['destroy'](),(_0x6c61be=this['packedText'+'ure'])==null||_0x6c61be['destroy']();}['createIter'](_0x2e4345,_0x5ed523,_0x6164f,_0x427a44,_0x226a25){return new _C(this,_0x2e4345,_0x5ed523,_0x6164f,_0x427a44,_0x226a25);}['calcAabb'](_0x4cc94d){const {mins:_0x5ea17b,maxs:_0x1df395}=this['meta']['means'],_0x26682f=_0x58f1a2=>Math['sign'](_0x58f1a2)*(Math['exp'](Math['abs'](_0x58f1a2))-(-0x1*0x21db+0x2452+0x15*-0x1e));_0x4cc94d['center']['set']((_0x26682f(_0x5ea17b[0x127e+0x21d6+-0x3454])+_0x26682f(_0x1df395[0x24ae+-0xf21+-0x158d]))*(0x12*-0x2b+0x1*-0x42d+0x733+0.5),(_0x26682f(_0x5ea17b[-0x1fbc*-0x1+-0x15a6+-0xa15])+_0x26682f(_0x1df395[-0x2c2*-0x2+-0xf7*0x3+-0x5*0x86]))*(0x1246*0x1+0x1265+-0x24ab+0.5),(_0x26682f(_0x5ea17b[-0x47c+-0x1*0x1bb3+0x2031])+_0x26682f(_0x1df395[0xa*-0x2ce+-0x1d6b*-0x1+0x15d*-0x1]))*(0x13c*0x1f+-0x1*0x2653+0xf+0.5)),_0x4cc94d['halfExtent'+'s']['set']((_0x26682f(_0x1df395[0x2*0x8e9+-0x2ef*-0x3+0x2f*-0x91])-_0x26682f(_0x5ea17b[-0xb97+0x61*0x3a+-0xa63*0x1]))*(-0x16*0x167+0x9b*0xb+0x1831+0.5),(_0x26682f(_0x1df395[0x7ee+0x16*0x4a+0x1*-0xe49])-_0x26682f(_0x5ea17b[-0x1*0xa0a+0x1d65+-0x135a*0x1]))*(0x2473*-0x1+0xc7f+-0xdb*-0x1c+0.5),(_0x26682f(_0x1df395[-0x13b1*-0x1+-0xc*-0x29c+-0x32ff])-_0x26682f(_0x5ea17b[0x166*-0x2+-0x6*0x287+0x11f8]))*(0x1*0x1de5+-0x1*-0x1f47+-0x36*0x122+0.5));}['getCenters'](_0x5d92d4){const {meta:_0x493d1b,means_l:_0x36b15c,means_u:_0x53ea51,numSplats:_0x43ca63}=this,{means:_0x54973d}=_0x493d1b,_0x355c3b=new Uint32Array(_0x53ea51['_levels'][-0x15a9+0x8c9+0xce0]['buffer']),_0x3cfbc6=new Uint32Array(_0x36b15c['_levels'][0x1dd9+0x8a1+-0x19*0x18a]['buffer']),_0x63e4ca=_0x54973d['mins'][0x10*0x109+-0x13d*-0x13+-0x2817]/(-0x112be+-0xf91e+0x30bdb),_0x58770c=_0x54973d['mins'][-0x1969+-0xfcd+0x2937]/(-0x5*-0x17cb+0x17*0x2e1+0x46d1),_0x5cd7ea=_0x54973d['mins'][0x2*-0x3ca+-0x683+0xe19]/(-0xb0c7+-0x144ca+0x1f0*0x187),_0x30467c=_0x54973d['maxs'][-0x1389+-0x1fe2+0x336b*0x1]/(0x8da*-0x13+-0x14bcb+0x88*0x58f),_0x513421=_0x54973d['maxs'][-0x7a9*0x4+0x1e5d*-0x1+0x336*0x13]/(0xc5bd+-0x3*-0x9bd6+-0x19940*0x1),_0xb95f10=_0x54973d['maxs'][0x267c+0x16cb+0x3d45*-0x1]/(-0x7f*0x111+0x1d1*0xc3+0xc69*0x3);for(let _0x365628=-0x3*-0x36e+-0xc4d*0x1+-0x67*-0x5;_0x365628<_0x43ca63;_0x365628++){const _0x201c68=_0x365628,_0x294ae7=_0x355c3b[_0x201c68],_0x2d1416=_0x3cfbc6[_0x201c68],_0x266169=_0x294ae7<<-0x115*0x1d+-0x162a+0x3593*0x1&0x9b59+-0x313f*0x2+0xc625|_0x2d1416&-0x1137+-0x83d+0x8d1*0x3,_0x1604fa=_0x294ae7&0x1*0x131fe+0xd22*-0x7+-0x5*-0x830|_0x2d1416>>>0x1e5*-0x5+-0x1214+0x1b95&0x1271+-0x1*-0x2527+-0x611*0x9,_0x2eac97=_0x294ae7>>>-0x27f*0x1+0x33*0x85+-0x17f8&0x1b5*0x59+-0xa912+0x9*0x1e3d|_0x2d1416>>>-0x1f4f+0x80b*0x3+-0xce*-0x9&0x181a+-0xc7*0x17+-0x53a,_0x593f97=_0x63e4ca*(0x1*-0x1de+-0x1*-0xb2c4+0x4f19-_0x266169)+_0x30467c*_0x266169,_0xefc462=_0x58770c*(-0xefbb*-0x1+0xef69+-0xdf25-_0x1604fa)+_0x513421*_0x1604fa,_0x205d46=_0x5cd7ea*(0x215*0x16+0xd50f+-0x2de-_0x2eac97)+_0xb95f10*_0x2eac97,_0x20ae6e=_0x593f97<-0x1f*0x15+0x1e4d+0x1*-0x1bc2?-_0x593f97:_0x593f97,_0x3f2911=_0xefc462<0xb*0x5+0x3*0x97+-0xfe*0x2?-_0xefc462:_0xefc462,_0x54d7a3=_0x205d46<0x3df*0x1+-0x81*0x2+0x2dd*-0x1?-_0x205d46:_0x205d46;_0x5d92d4[_0x365628*(-0x3*0xc2f+0x3*-0xccf+0x4afd)]=(_0x593f97<-0x19*0xf4+0xd88+-0x293*-0x4?-(0xd55*-0x2+0x1e6b+-0x3c0):-0x1*0x18b9+0x223e+-0x984)*(Math['exp'](_0x20ae6e)-(-0x13*-0xce+0xb00+-0x1a49)),_0x5d92d4[_0x365628*(0x1e96+-0x3c0*0x1+-0x1ad3)+(0xfd4*0x2+0x949+-0x28f0)]=(_0xefc462<0x1*-0xd81+-0x1dec+0x2b6d?-(0x19*-0x12e+-0x151*-0x2+0x1add):-0xb20+-0x1*-0x893+0x6d*0x6)*(Math['exp'](_0x3f2911)-(0x1ab2+-0x1*0x1555+-0x55c)),_0x5d92d4[_0x365628*(-0x23af+-0x907+0x2cb9)+(0x200d+-0x133*0x10+0x1*-0xcdb)]=(_0x205d46<-0xeef+-0x1f44+0x2e33?-(-0x12e*0x8+-0xbea+0x155b):0x240b*0x1+0x42b*0x9+-0x498d*0x1)*(Math['exp'](_0x54d7a3)-(-0x184f+-0x18*0x1+0x11c*0x16));}}['calcFocalP'+'oint'](_0x3819b9,_0x1fb4e8){_0x3819b9['set'](-0xd64*0x2+-0x5bf*-0x5+-0x1*0x1f3,-0x515*-0x5+0x26*0x12+-0x4f*0x5b,0x6be+0x2*0x9d9+0x178*-0x12);}get['isSogs'](){return!(0x24cd+-0xb5c+0x3*-0x87b);}get['shBands'](){var _0x42eb1f;return{0xc0:0x1,0x200:0x2,0x3c0:0x3}[(_0x42eb1f=this['sh_centroi'+'ds'])==null?void(0x2*0x45a+-0x7fe+-0x1a*0x7):_0x42eb1f['width']]??-0x9af+0x322+-0x2b*-0x27;}async['decompress'](){const _0x3db517=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3'],{shBands:_0x2e6e3a}=this,{means_l:_0x466ae5,means_u:_0x5380af,quats:_0x2d9931,scales:_0x2076ba,sh0:_0x1fa434,sh_labels:_0x2da617,sh_centroids:_0xff4dc2}=this;if(_0x466ae5['_levels'][-0xf1*-0x10+0x3*-0x22+-0xeaa*0x1]=await Ci(_0x466ae5),_0x5380af['_levels'][-0xf70+-0x2138+0x30a8]=await Ci(_0x5380af),_0x2d9931['_levels'][-0xc61*0x1+0x1228+-0x5c7*0x1]=await Ci(_0x2d9931),_0x2076ba['_levels'][-0xec9*-0x2+-0x8*-0x1d+-0x53*0x5e]=await Ci(_0x2076ba),_0x1fa434['_levels'][-0x23e1+-0x23d9+0x1*0x47ba]=await Ci(_0x1fa434),_0x2e6e3a>0x2360+0x1947+-0x3ca7){_0x2da617['_levels'][0x1*-0x10a3+-0x1*0x1efd+0xc*0x3f8]=await Ci(_0x2da617),_0xff4dc2['_levels'][0x2020+0xff+-0x211f]=await Ci(_0xff4dc2);const _0x2aa050=[];for(let _0x3bef20=-0xec3+-0x14e7+-0x33e*-0xb;_0x3bef20<-0x43*0x5+-0x2e3*-0x4+0x70*-0x17;++_0x3bef20)_0x2aa050['push']('f_rest_'+_0x3bef20);_0x3db517['splice'](_0x3db517['indexOf']('f_dc_0')+(-0xefd+0x8*0x492+-0x1592),0x2d+0x2*0xf0e+-0x1e49,..._0x2aa050);}const _0x11541d={};_0x3db517['forEach'](_0x4ebc1b=>{_0x11541d[_0x4ebc1b]=new Float32Array(this['numSplats']);});const _0x4c2dda=new D(),_0x2f4c64=new le(),_0x414e1a=new D(),_0x3a9506=new re(),_0x46ddab=_0x2e6e3a>0x2327+0x2*-0x9c1+-0xfa5?new Float32Array(-0x2ba+-0xa*-0x136+-0x935):null,_0x3458d0=this['createIter'](_0x4c2dda,_0x2f4c64,_0x414e1a,_0x3a9506,_0x46ddab);for(let _0x2c34d0=-0x22*-0x61+0x2*-0xf55+0x11c8;_0x2c34d0<this['numSplats'];++_0x2c34d0)if(_0x3458d0['read'](_0x2c34d0),_0x11541d['x'][_0x2c34d0]=_0x4c2dda['x'],_0x11541d['y'][_0x2c34d0]=_0x4c2dda['y'],_0x11541d['z'][_0x2c34d0]=_0x4c2dda['z'],_0x11541d['rot_1'][_0x2c34d0]=_0x2f4c64['x'],_0x11541d['rot_2'][_0x2c34d0]=_0x2f4c64['y'],_0x11541d['rot_3'][_0x2c34d0]=_0x2f4c64['z'],_0x11541d['rot_0'][_0x2c34d0]=_0x2f4c64['w'],_0x11541d['scale_0'][_0x2c34d0]=_0x414e1a['x'],_0x11541d['scale_1'][_0x2c34d0]=_0x414e1a['y'],_0x11541d['scale_2'][_0x2c34d0]=_0x414e1a['z'],_0x11541d['f_dc_0'][_0x2c34d0]=(_0x3a9506['x']-(0x10ca+-0x1cc7+0xbfd*0x1+0.5))/An,_0x11541d['f_dc_1'][_0x2c34d0]=(_0x3a9506['y']-(-0xaa9*-0x2+0x1963*0x1+-0x2eb5*0x1+0.5))/An,_0x11541d['f_dc_2'][_0x2c34d0]=(_0x3a9506['z']-(0x92f+0xe7*-0x6+-0x3c5+0.5))/An,_0x11541d['opacity'][_0x2c34d0]=_0x3a9506['w']<=0x3bf*0x2+0x117e+-0x18fc?-(-0x7*0x239+0x15f4+0x63d*-0x1):_0x3a9506['w']>=0xc*-0x255+-0x237d+0xcb2*0x5?0x5cf+-0x1af0+0x1549:-Math['log']((0x2481+-0x7a*0xe+0x1dd4*-0x1)/_0x3a9506['w']-(0x20*0x79+-0x10ea+-0x99*-0x3)),_0x46ddab){for(let _0x309750=-0xa*-0x143+0x1296+-0xf9a*0x2;_0x309750<-0x4*0x4c4+-0x1956+0x2c93;++_0x309750)_0x11541d['f_rest_'+_0x309750][_0x2c34d0]=_0x46ddab[_0x309750];}return new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x3db517['map'](_0x143956=>({'name':_0x143956,'type':'float','byteSize':0x4,'storage':_0x11541d[_0x143956]}))}]);}['packGpuMem'+'ory'](){const {means_l:_0x20075a,means_u:_0x24cbf6,quats:_0xcd9259,scales:_0xf6428b,sh_labels:_0x3df1ff,numSplats:_0x588515}=this,{device:_0x45c0fe}=_0x20075a,{scope:_0xc1d0b2}=_0x45c0fe,_0x78ad8a=$t['createShad'+'er'](_0x45c0fe,{'uniqueName':'GsplatSogs'+'ReorderSha'+'der','attributes':{'vertex_position':Me},'vertexChunk':'fullscreen'+'QuadVS','fragmentGLSL':uC,'fragmentWGSL':pC,'fragmentOutputTypes':['uvec4']}),_0x379f79=new gt({'colorBuffer':this['packedText'+'ure'],'depth':!(0x3*0xacb+0x63e+-0x269e),'mipLevel':0x0});_0x45c0fe['setCullMod'+'e'](bt),_0x45c0fe['setBlendSt'+'ate'](pt['NOBLEND']),_0x45c0fe['setDepthSt'+'ate'](Yt['NODEPTH']),mC(_0xc1d0b2,{'means_l':_0x20075a,'means_u':_0x24cbf6,'quats':_0xcd9259,'scales':_0xf6428b,'sh_labels':_0x3df1ff??_0x20075a,'numSplats':_0x588515}),Ar(_0x45c0fe,_0x379f79,_0x78ad8a),_0x379f79['destroy'](),_0x78ad8a['destroy']();}async['prepareGpu'+'Data'](){const {device:_0x890d41,height:_0x58ccf5,width:_0x5f0c48}=this['means_l'];this['means_l']['_levels'][-0x83*0x3f+0xd2f+0x32d*0x6]=await Ci(this['means_l']),this['means_u']['_levels'][-0x12a1*-0x2+0xb*-0x305+-0x40b]=await Ci(this['means_u']),this['packedText'+'ure']=new _e(_0x890d41,{'name':'sogsPacked'+'Texture','width':_0x5f0c48,'height':_0x58ccf5,'format':Ue,'mipmaps':!(-0x1*-0x2374+0x5*-0x191+-0x1b9e)}),_0x890d41['on']('devicerest'+'ored',()=>{this['packGpuMem'+'ory']();}),this['packGpuMem'+'ory']();}['reorderDat'+'a'](){return this['prepareGpu'+'Data']();}}async function SC(){let _0x2ba8a4=null,_0x1c3a3f=null,_0x4a79cc=null,_0x1689ba=null,_0x212266=null,_0xb9cbb1=null,_0x346a2b=null,_0x1032e1=null,_0x3ad7cb=null,_0x178f9b=null,_0x5aa586=null,_0x582489=null,_0x2ff5ad=null,_0x952ddb=null,_0x4d08f7=null,_0x567c56=null,_0x290e7a=null,_0x271f02=null,_0x1ce0a4=null,_0x1c155c=null,_0xe422f5=null,_0x348f13=null,_0x3b8e88=null,_0x45cef0=null,_0x4023bc=Float32Array['BYTES_PER_'+'ELEMENT'],_0x5410c5=Uint32Array['BYTES_PER_'+'ELEMENT'],_0x75a5e0=-0xc30+0x634+0x5fc,_0x2ec622=!(-0x2636+-0x1d99*0x1+0x1*0x43cf),_0x4cb9ca,_0x156b09,_0x18657f={'x':0x0,'y':0x0,'z':0x0},_0x2bbe4e={'x':0x0,'y':0x0,'z':0x0},_0xf20a21=!(-0x3*0x3c7+0x24d5+-0x1980),_0x241195=!(-0xdde+0x5c2*0x2+0x25a),_0x59858b=!(0x1*0x2062+0x6d*-0x2f+-0xc5e),_0x563b91=!(-0x22*-0xf8+0x1ecb+-0x3fba),_0x505fb0=0x74b+-0x1021+-0x1*-0x8d6,_0x1ba7c4=0xe7*-0xe+-0x2165+0x2e07,_0x4be4e3=!(-0x2071+0x21f9+-0x187),_0x19b5da=null,_0x34641e=!(-0x23c*-0xa+-0xa35+0x2*-0x611),_0x32b7a8=-0x1*0x846+0x18fd+-0x10b7,_0x4c3ea6=-0x921+0x2ab+0x676*0x1,_0x547088={'x':0x0,'y':0x0,'z':0x0},_0x5fbc60={'x':0x0,'y':0x0,'z':0x0},_0x264138,_0x551734;self['onmessage']=async _0xf5e52b=>{const {data:_0x419aaf}=_0xf5e52b;switch(_0x419aaf['type']){case'initWorker':await _0x748b5(_0x419aaf['sortWasmUr'+'l']),self['postMessag'+'e']({'type':'initialize'+'d'});break;case'initData':if(_0x75a5e0=_0x419aaf['centers']['length']/(-0x425*-0x1+-0x19b+-0x287),_0x75a5e0<=-0x48d+-0x1603+-0x32*-0x88||!_0x1c3a3f)return;_0x48cd63(),_0x2ec622=_0x419aaf['is4d'],_0x264138=_0x419aaf['id'];const _0x5b79ef=_0x288a96(_0x75a5e0);if(_0x3c7522(_0x5b79ef),_0x4a79cc[-0x2646+-0x1*-0x251b+0x12b]=_0x547088['x'],_0x4a79cc[-0x1*-0x411+-0x1e57+0x1a47*0x1]=_0x547088['y'],_0x4a79cc[-0x6ff*-0x1+0xcd8+-0x13d5]=_0x547088['z'],_0x1689ba[0xc3f+0x1*0x8a5+-0x17e*0xe]=_0x5fbc60['x'],_0x1689ba[0x4*-0x841+0x2*0x1076+0x5*0x5]=_0x5fbc60['y'],_0x1689ba[0x2305+0x955+-0x2c58]=_0x5fbc60['z'],_0xb9cbb1&&_0x419aaf['centers']&&_0xb9cbb1['length']===_0x419aaf['centers']['length']){const _0x5f5592=new Float32Array(_0x419aaf['centers']);_0xb9cbb1['set'](_0x5f5592);}if(_0x1032e1&&_0x419aaf['timeIndex']&&_0x1032e1['length']===_0x419aaf['timeIndex']['length']){const _0x916f40=new Uint32Array(_0x419aaf['timeIndex']);_0x1032e1['set'](_0x916f40);}if(_0x5aa586&&_0x419aaf['motion']&&_0x5aa586['length']===_0x419aaf['motion']['length']){const _0x37e035=new Float32Array(_0x419aaf['motion']);_0x5aa586['set'](_0x37e035);}if(_0x2ec622&&_0x3ad7cb&&_0x178f9b&&_0x419aaf['muT']&&_0x419aaf['tScale']&&_0x3ad7cb['length']===_0x419aaf['muT']['length']&&_0x178f9b['length']===_0x419aaf['tScale']['length']&&(_0x3ad7cb['set'](_0x419aaf['muT']),_0x178f9b['set'](_0x419aaf['tScale'])),_0x346a2b){for(let _0x362250=-0x259f+-0xe44*0x2+-0x1*-0x4227;_0x362250<_0x346a2b['length'];++_0x362250)_0x346a2b[_0x362250]=_0x362250;}_0x212266&&_0x419aaf['timeOption']&&_0x212266['set'](_0x419aaf['timeOption']),_0x522bfe(),_0x34641e=!(0x1fab*-0x1+-0x1*-0x1821+0x78a),_0x59858b=!(0x4*-0x4cc+0x2436+-0x1*0x1106),_0x5a93c9();break;case'setTime':_0x4cb9ca=_0x419aaf['time'],_0x5a93c9();break;case'setUseTemp'+'oralSort':_0xf20a21=_0x419aaf['useTempora'+'lSort'];break;case'setUseDyna'+'micSort':_0x241195=_0x419aaf['useDynamic'+'Sort'];break;case'sort':if(!_0x4a79cc)return;_0x4a79cc[0x25*-0x43+-0x1d61+0x2710]=_0x419aaf['cameraPosi'+'tion']['x'],_0x4a79cc[-0x1c01+-0x24b*0xf+0x2d*0x163]=_0x419aaf['cameraPosi'+'tion']['y'],_0x4a79cc[-0x3b*0x1f+0x3*-0xb9d+0x29fe]=_0x419aaf['cameraPosi'+'tion']['z'],_0x1689ba[-0x6a3+0x14f*0x19+-0x4*0x685]=_0x419aaf['cameraDire'+'ction']['x'],_0x1689ba[0x228e*-0x1+0xd24+0x1*0x156b]=_0x419aaf['cameraDire'+'ction']['y'],_0x1689ba[0x1e7*-0x3+0xcdd+0x131*-0x6]=_0x419aaf['cameraDire'+'ction']['z'],_0x547088['x']=_0x419aaf['cameraPosi'+'tion']['x'],_0x547088['y']=_0x419aaf['cameraPosi'+'tion']['y'],_0x547088['z']=_0x419aaf['cameraPosi'+'tion']['z'],_0x5fbc60['x']=_0x419aaf['cameraDire'+'ction']['x'],_0x5fbc60['y']=_0x419aaf['cameraDire'+'ction']['y'],_0x5fbc60['z']=_0x419aaf['cameraDire'+'ction']['z'],_0x5a93c9();break;}};const _0x48cd63=()=>{_0x1ba7c4=Math['max'](0x1b*-0xe5+0x1abe+-0x28d*0x1,Math['min'](-0x1e98+-0x13d9+0x9*0x59d,Math['round'](Math['log2'](_0x75a5e0/(-0x1848+0x1ef4+0x4*-0x1aa))))),_0x505fb0=(0x1d43+0x1f6c+-0x3cad)**_0x1ba7c4+(-0x158f+0x74f*-0x5+0x19*0x253);},_0x3c7522=_0x1a67ab=>{_0x582489=0x24bc+-0x1a*-0x107+-0x2*0x1fb9,_0x2ff5ad=_0x582489+_0x75a5e0*_0x4023bc*(-0x7b5*0x4+0x339+0x1b9e),_0x271f02=_0x2ff5ad+(-0x1b57+-0x23ef*-0x1+-0x834)*_0x4023bc*(0x1c43+0x11*0xfa+-0x2cdb),_0x1ce0a4=_0x271f02+_0x75a5e0*_0x5410c5,_0x1c155c=_0x1ce0a4+(0xeb1+-0x2556+-0x244*-0xa)*_0x4023bc,_0xe422f5=_0x1c155c+(-0xd51+0x1ea6*0x1+-0x2*0x8a9)*_0x4023bc,_0x348f13=_0xe422f5+(-0x4*0x4b7+-0x623+-0x2*-0xc81)*_0x4023bc,_0x3b8e88=_0x348f13+(-0x17bb+-0x1*-0x247b+-0xcbd*0x1)*_0x4023bc,_0x45cef0=_0x3b8e88+_0x75a5e0*_0x5410c5,_0xb9cbb1=new Float32Array(_0x1a67ab,_0x582489,_0x75a5e0*(0x197a+-0x1*-0xa3f+0x11db*-0x2)),_0x212266=new Float32Array(_0x1a67ab,_0x2ff5ad,0x2b*-0x6e+0x997+-0x4b*-0x21),_0x346a2b=new Uint32Array(_0x1a67ab,_0x271f02,_0x75a5e0),_0x4a79cc=new Float32Array(_0x1a67ab,_0x1ce0a4,-0x1b7+0x103*0xb+-0x967),_0x1689ba=new Float32Array(_0x1a67ab,_0x1c155c,0x1*-0x1749+0x129d+0x4af*0x1),_0x2ec622&&(_0x567c56=_0x45cef0+_0x505fb0*_0x5410c5,_0x290e7a=_0x567c56+_0x75a5e0*_0x4023bc,_0x4d08f7=_0x290e7a+_0x75a5e0*_0x4023bc,_0x952ddb=_0x4d08f7+_0x75a5e0*(0x1a*-0x3b+0x108d+-0xa8c)*_0x4023bc,_0x3ad7cb=new Float32Array(_0x1a67ab,_0x567c56,_0x75a5e0),_0x178f9b=new Float32Array(_0x1a67ab,_0x290e7a,_0x75a5e0),_0x5aa586=new Float32Array(_0x1a67ab,_0x4d08f7,_0x75a5e0*(-0x5ef+-0x1*0x210e+0x2700)),_0x1032e1=new Uint32Array(_0x1a67ab,_0x952ddb,_0x75a5e0));},_0x748b5=async _0x41b215=>{_0x32b7a8=0x7fb*-0x4+-0x1*-0x90d+-0x10*-0x16e;const _0x38c316={'env':{'memory':new WebAssembly['Memory']({'initial':_0x32b7a8}),'pthread_self':function(){return 0x60d+0x11ef+-0x17fc;},'emscripten_builtin_memalign':function(){return-0x2046+-0x7b*-0x3+0x1ed5;},'loggerVec3':(_0x53e024,_0x2f066e,_0x215fb9,_0x409d49)=>{console['log']('C++\x20logger'+'Vec3\x20['+_0x53e024+']\x200:'+_0x2f066e+'\x201:'+_0x215fb9+'\x202:'+_0x409d49);},'loggerFloat':(_0x17493f,_0x151ee4)=>{console['log']('C++\x20LogFlo'+'at\x20['+_0x17493f+']\x20a:'+_0x151ee4);},'loggerValue':(_0x466ed8,_0x47a948,_0x4a51d3,_0x3c2b07,_0x2a488b)=>{console['log']('C++\x20logger'+'Value\x20['+_0x466ed8+']\x20minDist:'+_0x47a948+'\x20maxDist:'+_0x4a51d3+'\x20range:'+_0x3c2b07+'\x20divider:'+_0x2a488b);},'loggerCamera':(_0x253b6a,_0x95fd43,_0xf461c2,_0x1979e4,_0x476722,_0x4b9835,_0x349961)=>{console['log']('C++\x20logger'+'Camera\x20['+_0x253b6a+']\x20x:'+_0x95fd43+'\x20y:'+_0xf461c2+'\x20z:'+_0x1979e4+'\x20dx:'+_0x476722+'\x20dy:'+_0x4b9835+'\x20dz:'+_0x349961);},'loggerBound':(_0x71e8bd,_0x4f11d8,_0x11e437,_0x3d724f,_0xb2bc7b,_0x276b26)=>{console['log']('C++\x20logger'+'Bound\x20minX'+':'+_0x71e8bd+'\x20minY:'+_0x4f11d8+'\x20minZ:'+_0x11e437+'\x20maxX:'+_0x3d724f+'\x20maxY:'+_0xb2bc7b+'\x20maxZ:'+_0x276b26);},'loggerDebug':_0x48dd6e=>{console['log']('C++\x20logger'+'Debug\x20['+_0x48dd6e+']');}}};try{const _0x1f6bf=await(await fetch(_0x41b215))['arrayBuffe'+'r']();return _0x2ba8a4=(await WebAssembly['instantiat'+'e'](_0x1f6bf,_0x38c316))['instance'],_0x1c3a3f=_0x38c316['env']['memory'],_0x2ba8a4;}catch(_0x2a4df6){throw console['error']('WASM'+':',_0x2a4df6),_0x2a4df6;}},_0x4d626a=_0x21c67c=>{if(_0x21c67c<=0x1c2*-0x2+0x1*-0x2246+0x25ca)return 0xb0a+0x26af+-0xc6e*0x4;let _0x4ec7c8=_0x21c67c*_0x4023bc*(0x2d1*0x3+0x2158+0x4*-0xa72);_0x4ec7c8+=_0x21c67c*_0x5410c5,_0x4ec7c8+=(0x1e7e+-0xb*-0x1de+-0x3305)*_0x4023bc,_0x4ec7c8+=(0xa3*0x35+-0xdcb+-0x13f1)*_0x4023bc,_0x4ec7c8+=(0x2*-0x1127+0x2*0x3d+0x21d7*0x1)*_0x4023bc,_0x4ec7c8+=(-0x221+0x1*-0xae7+-0xd0b*-0x1)*_0x4023bc,_0x4ec7c8+=_0x21c67c*_0x4023bc,_0x4ec7c8+=_0x505fb0*_0x5410c5,_0x4ec7c8+=(-0x9f*0x11+-0x9fb+0x26*0x8d)*_0x4023bc*(0x2b*-0x6a+-0x220a+0x33da),_0x4ec7c8+=_0x21c67c*_0x5410c5,_0x2ec622&&(_0x4ec7c8+=_0x21c67c*_0x4023bc,_0x4ec7c8+=_0x21c67c*_0x4023bc,_0x4ec7c8+=_0x21c67c*_0x4023bc*(-0x1*0x547+-0x25dc+-0x315*-0xe));const _0x2f41dd=(0x1404+-0x7e7*-0x1+-0x1bab)*(0x13a3+0x7cc+-0x359*0x7);return Math['ceil'](_0x4ec7c8/_0x2f41dd);},_0x288a96=_0x4434a9=>{const _0x804d3c=_0x4d626a(_0x4434a9);return _0x804d3c>_0x32b7a8?(_0x1c3a3f['grow'](_0x804d3c-_0x32b7a8),_0x32b7a8=_0x804d3c):_0x1c3a3f['grow'](-0x2*0x2d+-0x1*0x10cb+-0x13*-0xe7),_0x1c3a3f['buffer'];},_0x522bfe=()=>{if(!_0x2ba8a4)return;const {calcAABB:_0x1ba46e}=_0x2ba8a4['exports'];_0x1ba46e(_0x582489,_0xe422f5,_0x348f13,_0x75a5e0);},_0x5a93c9=()=>{_0x19b5da&&clearTimeout(_0x19b5da),_0x19b5da=setTimeout(()=>{_0x19b5da=null,_0x420a08();},-0x54f*-0x1+0x4*0x34+-0x61f);},_0x420a08=()=>{if(!_0x2ba8a4||!_0x34641e||_0x346a2b['length']!==_0x75a5e0||_0x271f02===null||_0x582489===null||_0x1ce0a4===null||_0x1c155c===null||_0xe422f5===null||_0x348f13===null)return;const _0x418580=_0x4a79cc[-0x182e+-0x1fbb+-0x44d*-0xd],_0x5f30d6=_0x4a79cc[0x177b+-0x5*0x5ee+0x62c],_0x3a38aa=_0x4a79cc[0x11ae+-0x1b*-0xf+-0x1341],_0x557ce2=_0x1689ba[0x362*0x1+0x7d3+-0x13*0x97],_0x3b270e=_0x1689ba[-0x20ea+0xd64+-0x1*-0x1387],_0x2dbed8=_0x1689ba[0x7b3*0x1+0x22a*-0xf+-0x18c5*-0x1],_0x5cc970=0x1682+0x1f26+-0x35a8+0.001;if(!_0x59858b&&Math['abs'](_0x418580-_0x18657f['x'])<_0x5cc970&&Math['abs'](_0x5f30d6-_0x18657f['y'])<_0x5cc970&&Math['abs'](_0x3a38aa-_0x18657f['z'])<_0x5cc970&&Math['abs'](_0x557ce2-_0x2bbe4e['x'])<_0x5cc970&&Math['abs'](_0x3b270e-_0x2bbe4e['y'])<_0x5cc970&&Math['abs'](_0x2dbed8-_0x2bbe4e['z'])<_0x5cc970&&Math['abs'](_0x4cb9ca-_0x156b09)<0x2629+-0x1d8f+-0x44d*0x2+0.01)return;if(_0x563b91){_0x4be4e3=!(-0x10a2*-0x1+0x917+-0x19b9);return;}_0x563b91=!(-0x1d04+-0x740+0x2444),_0x59858b=!(-0x3*0x257+-0x19f0+0x20f6),_0x156b09=_0x4cb9ca,_0x18657f['x']=_0x418580,_0x18657f['y']=_0x5f30d6,_0x18657f['z']=_0x3a38aa,_0x2bbe4e['x']=_0x557ce2,_0x2bbe4e['y']=_0x3b270e,_0x2bbe4e['z']=_0x2dbed8,_0x4be4e3=!(0x1722+0x9a3+0xe9*-0x24);const {sortIndexes:_0x28efce}=_0x2ba8a4['exports'];try{const _0x5cf333=_0x28efce(_0x271f02,_0x582489,_0x4d08f7,_0x567c56,_0x290e7a,_0x1ce0a4,_0x1c155c,_0xe422f5,_0x348f13,_0x3b8e88,_0x45cef0,_0x4cb9ca||0x560+-0x1*0x7e9+0xb*0x3b,_0xf20a21,_0x241195,_0x2ec622,_0x75a5e0,_0x505fb0,_0x1ba7c4,_0x2ff5ad,_0x952ddb),_0x2684fd=new Uint32Array(_0x346a2b);if(_0x5cf333===-0xc*-0x116+0x26cf+-0x17*0x241){debugger;console['log']('____\x20ENGIN'+'E','Indexes\x20co'+'unt\x20===\x20',_0x5cf333);}const _0x3e6327=_0x75a5e0!==_0x4c3ea6||_0x551734!==_0x264138;self['postMessag'+'e']({'type':'sortComple'+'ted','count':_0x5cf333,'order':_0x2684fd,'isNewOrder':_0x3e6327},[_0x2684fd['buffer']]),_0x4c3ea6=_0x75a5e0,_0x551734=_0x264138;}catch(_0x1491db){console['error'](':',_0x1491db),self['postMessag'+'e']({'type':'error','error':_0x1491db['message']});}_0x563b91=!(0x24fd+-0x1c22+-0x8da),_0x4be4e3&&_0x5a93c9();};}class yC extends me{constructor(){super(),h(this,'worker',null),h(this,'numSplats',-0x644+0x21c5+-0x3*0x92b),h(this,'is4d',!(-0x982+-0xce7+-0x1669*-0x1)),h(this,'sortStartT'+'ime',-0xee9+-0x290*0x3+0x1699),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'data',{}),(this['orderTextu'+'re']=null,this['backOrderT'+'exture']=null,this['worker']=null,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+SC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x304795=>{var _0x4abd34;if(!this['worker'])return;const {data:_0x583bcd}=_0x304795;switch(_0x583bcd['type']){case'initialize'+'d':this['fire']('initialize'+'d');break;case'sortComple'+'ted':_0x583bcd['order']&&(_0x583bcd['isNewOrder']&&(this['orderTextu'+'re']=this['backOrderT'+'exture']),(_0x4abd34=this['orderTextu'+'re'])==null||_0x4abd34['write'](-0xe0d+-0x1266+0x2073,-0x15e4+0x461+0x1183,this['orderTextu'+'re']['width'],this['orderTextu'+'re']['height']-(-0x19ab+0x163b+-0x1*-0x371),_0x583bcd['order']));let _0x571758=-0x26d2+-0x1*0x109c+0x37*0x102;this['sortStartT'+'ime']!==0x2e9+-0x9e2+0x6f9&&(_0x571758=performance['now']()-this['sortStartT'+'ime']),this['fire']('updated',_0x304795['data']['count'],_0x571758,_0x583bcd['isNewOrder']),this['sortStartT'+'ime']=0x14d1+-0x32b+-0x11a6;break;case'error':console['error']('Worker:',_0x583bcd['error']),this['fire']('error',_0x583bcd['error']);break;}},this['worker']['postMessag'+'e']({'type':'initWorker','sortWasmUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/sorter-t'+'railing.wa'+'sm'});}['initData'](_0x367dab,_0x133b51,_0x305501,_0x4f599b,_0xdd2431,_0x2e9534,_0x19b069,_0x340d25){var _0x57676d;this['is4d']=_0x340d25,this['numSplats']=_0x133b51['length']/(0x1463*0x1+0x2687*-0x1+-0x1*-0x1227),(!_0x19b069||_0x19b069['length']===0x313+0x3e9*-0x3+-0x8a8*-0x1)&&(_0x19b069=[0x153+-0xce*-0x15+-0x1239,0xced+0x1*0x6c3+-0x1374]),this['orderTextu'+'re']||(this['orderTextu'+'re']=_0x367dab),this['backOrderT'+'exture']=_0x367dab;const _0x29b51d=new Date()['getTime']();(_0x57676d=this['worker'])==null||_0x57676d['postMessag'+'e']({'type':'initData','centers':_0x133b51,'muT':_0x305501,'tScale':_0x4f599b,'motion':_0xdd2431,'timeIndex':_0x2e9534,'timeOption':_0x19b069,'is4d':_0x340d25,'id':_0x29b51d});}['setCamera'](_0xdf40a6,_0x41ba4c){this['worker']&&(!_0xdf40a6||!_0x41ba4c||(this['data']['cameraPosi'+'tion']={'x':_0xdf40a6['x'],'y':_0xdf40a6['y'],'z':_0xdf40a6['z']},this['data']['cameraDire'+'ction']={'x':_0x41ba4c['x'],'y':_0x41ba4c['y'],'z':_0x41ba4c['z']},this['sortStartT'+'ime']===0x25f6+0x1c47+0x223*-0x1f&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'sort','cameraPosition':{'x':_0xdf40a6['x'],'y':_0xdf40a6['y'],'z':_0xdf40a6['z']},'cameraDirection':{'x':_0x41ba4c['x'],'y':_0x41ba4c['y'],'z':_0x41ba4c['z']}})));}['setCurrent'+'Time'](_0x229c41){this['worker']&&(this['data']['time']=_0x229c41,this['sortStartT'+'ime']===0x31*0x3+0x2696+-0x2729&&(this['sortStartT'+'ime']=performance['now']()),this['worker']['postMessag'+'e']({'type':'setTime','time':_0x229c41}));}['setUseTemp'+'oralSort'](_0x4992ae){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseTemp'+'oralSort','useTemporalSort':_0x4992ae});}['setUseDyna'+'micSort'](_0x110dc8){this['worker']&&this['worker']['postMessag'+'e']({'type':'setUseDyna'+'micSort','useDynamicSort':_0x110dc8});}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}const vC=new te(),Va=new D(),Ga=new D(),Sc=[-0x22d*0xc+0x17*-0xdd+0x2df7,-0x24c0+-0x1220+0x1b7*0x20];class xC{constructor(_0x5e378f,_0x6b18e9={}){h(this,'resource'),h(this,'orderTextu'+'re'),h(this,'backOrderT'+'exture'),h(this,'_material'),h(this,'meshInstan'+'ce'),h(this,'options',{}),h(this,'sorter',null),h(this,'time',-0x74+0x1*0x2267+-0xb51*0x3),h(this,'lastCamera'+'Position',new D()),h(this,'lastCamera'+'Direction',new D()),h(this,'resolveSH',null),h(this,'cameras',[]),h(this,'forceUpDat'+'eSorterTim'+'e',(_0x2ccdd1,_0x2bcec1=void(-0x7d1+0x8dd+-0x10c))=>{(_0x2bcec1||_0x2bcec1===0x12c0+-0x93*0xb+0xc6f*-0x1)&&(this['material']['setParamet'+'er']('uTime',_0x2bcec1),this['updateTime'](_0x2bcec1)),this['sort'](_0x2ccdd1);}),(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Instance',_0x5e378f['numSplats']),this['resource']=_0x5e378f,this['orderTextu'+'re']=this['resource']['createText'+'ure']('splatOrder',Ki,this['resource']['evalTextur'+'eSize'](this['resource']['numSplats'])),this['backOrderT'+'exture']=null,_0x6b18e9['material']?(this['_material']=_0x6b18e9['material'],this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])):(this['_material']=new Xn({'uniqueName':'SplatMater'+'ial','vertexGLSL':'#include\x20\x22'+'gsplatVS\x22','fragmentGLSL':'#include\x20\x22'+'gsplatPS\x22','vertexWGSL':'#include\x20\x22'+'gsplatVS\x22','fragmentWGSL':'#include\x20\x22'+'gsplatPS\x22','attributes':{'vertex_position':Me,'vertex_id_attrib':ph}}),this['configureM'+'aterial'](this['_material']),this['_material']['update']()),this['meshInstan'+'ce']=new He(this['resource']['mesh'],this['_material']),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(0x1f80+-0x559*-0x1+-0x24d9)),this['meshInstan'+'ce']['gsplatInst'+'ance']=this,this['meshInstan'+'ce']['instancing'+'Count']=0x1878+0x25*0x9e+-0x2f4e*0x1,this['sorter']=new yC(),this['sorter']['on']('initialize'+'d',()=>{var _0x5b3b15,_0x4a0f60,_0x9da94c,_0x598b8f,_0x349231,_0xeb0d19,_0xe54456,_0x4db834,_0x3073ad,_0xedbfcb,_0x95ebce;const _0x394048=new Float32Array(this['resource']['centers']['buffer']['slice']()),_0x27bd28=new Float32Array(((_0x4a0f60=(_0x5b3b15=this['resource']['muT'])==null?void(-0x3a*0x3f+0x4d*0x35+-0x1*0x1ab):_0x5b3b15['buffer'])==null?void(0x6*-0x525+-0x80f*-0x1+0x1*0x16cf):_0x4a0f60['slice']())??new Float32Array()),_0x304843=new Float32Array(((_0x598b8f=(_0x9da94c=this['resource']['tScale'])==null?void(-0x185*0xb+0x130*-0x13+0x2747):_0x9da94c['buffer'])==null?void(-0x6be+-0x1*0x20c3+0x2781):_0x598b8f['slice']())??new Float32Array()),_0xe42797=new Float32Array(((_0xeb0d19=(_0x349231=this['resource']['motion'])==null?void(-0x1da5+-0x6*0x221+0x2a6b):_0x349231['buffer'])==null?void(-0xe21*-0x1+0x1d6+-0x1*0xff7):_0xeb0d19['slice']())??new Float32Array()),_0x258a95=new Float32Array(((_0x4db834=(_0xe54456=this['resource']['timeIndex'])==null?void(0x2032+0x3bf*-0x3+-0x14f5):_0xe54456['buffer'])==null?void(0x34b+0x8d3+-0xc1e):_0x4db834['slice']())??new Float32Array(0x2*0xd9d+0x175*-0xd+-0x849)),_0xec3bfe=new Float32Array(((_0xedbfcb=(_0x3073ad=this['resource']['timeOption'])==null?void(-0x22af+-0xcf6+0x1*0x2fa5):_0x3073ad['buffer'])==null?void(0x1*0x1fe8+-0x1d26+-0x2c2):_0xedbfcb['slice']())??new Float32Array());(_0x95ebce=this['sorter'])==null||_0x95ebce['initData'](this['orderTextu'+'re'],_0x394048,_0x27bd28,_0x304843,_0xe42797,_0x258a95,_0xec3bfe,this['resource']['is4D']);}),this['sorter']['on']('updated',async(_0x219d10,_0x5f24ee,_0x3d6f20)=>{var _0x9d0a9f;this['meshInstan'+'ce']['instancing'+'Count']=Math['ceil'](_0x219d10/this['resource']['instanceSi'+'ze']),_0x3d6f20&&this['backOrderT'+'exture']&&(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatInst'+'ance\x20updat'+'ed'),[this['orderTextu'+'re'],this['backOrderT'+'exture']]=[this['backOrderT'+'exture'],this['orderTextu'+'re']],await this['resource']['updateText'+'ure'](),this['resource']['configureM'+'aterial'](this['_material']),this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re'])),_0x3d6f20&&((_0x9d0a9f=this['resource'])==null||_0x9d0a9f['fireAssets'+'ManagerTim'+'eIndex']()),this['material']['setParamet'+'er']('numSplats',_0x219d10);}),this['setHighQua'+'litySH'](_0x6b18e9['highQualit'+'ySH']??!(-0x2*0xcfc+0x2f0*0x6+0x859)));}async['updateInst'+'anceData'](_0xb16aa6){var _0xbc5f2a,_0x24c50b;console['log']('____\x20ENGIN'+'E\x20IVAN','updateInst'+'anceData\x20A'+'SSETS\x20GSpl'+'atInstance',_0xb16aa6['numSplats']),this['resource']=_0xb16aa6;const _0x1fdbe4=this['resource']['evalTextur'+'eSize'](_0xb16aa6['centers']['length']/(-0x563+-0x2*-0x71c+-0x8d2));return(_0xbc5f2a=this['backOrderT'+'exture'])==null||_0xbc5f2a['destroy'](),this['backOrderT'+'exture']=this['resource']['createText'+'ure']('splatOrder'+'2',Ki,_0x1fdbe4),this['meshInstan'+'ce']['setInstanc'+'ing'](this['resource']['instanceIn'+'dices'],!(0x4*0x175+0xe9*-0x19+0x26b*0x7)),(_0x24c50b=this['sorter'])==null||_0x24c50b['initData'](this['backOrderT'+'exture'],_0xb16aa6['centers'],_0xb16aa6['muT'],_0xb16aa6['tScale'],_0xb16aa6['motion'],_0xb16aa6['timeIndex'],_0xb16aa6['timeOption'],_0xb16aa6['is4D']),new Promise(_0x183428=>{var _0x426c9;const _0xf9bdbc=(_0x4d0acd,_0x2111b9,_0x477134)=>{var _0x1881c6;_0x477134&&((_0x1881c6=this['sorter'])==null||_0x1881c6['off']('updated',_0xf9bdbc),_0x183428(!(-0x127f+-0x4d1+-0x8*-0x2ea)));};(_0x426c9=this['sorter'])==null||_0x426c9['on']('updated',_0xf9bdbc);});}['destroy'](){var _0x5b0f17,_0x13f575,_0x469287,_0x2f89db,_0x39f3fa,_0x53c4d8;(_0x5b0f17=this['resolveSH'])==null||_0x5b0f17['destroy'](),(_0x13f575=this['material'])==null||_0x13f575['destroy'](),(_0x469287=this['meshInstan'+'ce'])==null||_0x469287['destroy'](),(_0x2f89db=this['sorter'])==null||_0x2f89db['destroy'](),(_0x39f3fa=this['orderTextu'+'re'])==null||_0x39f3fa['destroy'](),(_0x53c4d8=this['backOrderT'+'exture'])==null||_0x53c4d8['destroy']();}set['material'](_0x2e2987){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.set\x20'+'material'),this['_material']!==_0x2e2987&&(this['_material']=_0x2e2987,this['_material']['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x2e2987));}get['material'](){return this['_material'];}['configureM'+'aterial'](_0x525559,_0x5de37c={}){console['log']('____\x20ENGIN'+'E\x20IVAN','\x20GSplatIns'+'tance.conf'+'igureMater'+'ial'),this['resource']['configureM'+'aterial'](_0x525559),_0x525559['setParamet'+'er']('numSplats',0x1b60+0x38b+-0x1eeb*0x1),_0x525559['setParamet'+'er']('splatOrder',this['orderTextu'+'re']),_0x525559['setParamet'+'er']('alphaClip',-0x1bfa+0x2a9*0x5+0xead+0.3),_0x525559['setDefine']('DITHER_'+(_0x5de37c['dither']?'BLUENOISE':'NONE'),''),_0x525559['cull']=bt,_0x525559['blendType']=_0x5de37c['dither']?Cs:Zs,_0x525559['depthWrite']=!!_0x5de37c['dither'];}['updateView'+'port'](_0x10433f){var _0x5529e2;const _0x4c87df=_0x10433f==null?void(0x2683*-0x1+0x2328+-0x35b*-0x1):_0x10433f['camera'],_0xb0f452=_0x4c87df==null?void(0x77d+-0x1d8f+-0x19*-0xe2):_0x4c87df['renderTarg'+'et'],{width:_0x325865,height:_0x50a922}=_0xb0f452??this['resource']['device'];Sc[0x7*0x337+0x1*0x10f9+-0x277a]=_0x325865,Sc[-0x1179*-0x2+0x2*0x89+-0x2403]=_0x50a922;const _0x22211c=(_0x5529e2=_0x4c87df==null?void(-0x1*0x27f+-0x1*0x50b+0x78a):_0x4c87df['camera'])==null?void(-0xab7+-0x108c*0x2+-0x8c3*-0x5):_0x5529e2['xr'];_0x22211c!=null&&_0x22211c['active']&&_0x22211c['views']['list']['length']===0x99c+-0x1*0x7a3+-0x1*0x1f7&&(Sc[0x233d+0xc3e+0x55*-0x8f]*=-0x1980+0x13d+0x1843+0.5),this['material']['setParamet'+'er']('viewport',Sc);}['sort'](_0x514b25){if(this['sorter']){const _0x33f39d=_0x514b25['getWorldTr'+'ansform']();_0x33f39d['getTransla'+'tion'](Va),_0x33f39d['getZ'](Ga);const _0x496d6e=this['meshInstan'+'ce']['node']['getWorldTr'+'ansform'](),_0x430383=vC['invert'](_0x496d6e);_0x430383['transformP'+'oint'](Va,Va),_0x430383['transformV'+'ector'](Ga,Ga),(!Va['equalsAppr'+'ox'](this['lastCamera'+'Position'])||!Ga['equalsAppr'+'ox'](this['lastCamera'+'Direction']))&&(this['lastCamera'+'Position']['copy'](Va),this['lastCamera'+'Direction']['copy'](Ga),this['sorter']['setCamera'](Va,Ga)),this['sorter']['setCurrent'+'Time'](this['time']);}this['updateView'+'port'](_0x514b25);}['update'](){var _0x3a0460;if(this['cameras']['length']>-0x1f33*0x1+-0x3*0xb2b+0x205a*0x2){const _0x596ce6=this['cameras'][0x166e+0x16c2+0x3*-0xf10];this['sort'](_0x596ce6['_node']),(_0x3a0460=this['resolveSH'])==null||_0x3a0460['render'](_0x596ce6['_node'],this['meshInstan'+'ce']['node']['getWorldTr'+'ansform']()),this['cameras']['length']=-0x267e+-0x66d+0x2ceb;}}['setHighQua'+'litySH'](_0x11a0cd){const {resource:_0x32e7ed}=this,{gsplatData:_0x2b78fe}=_0x32e7ed;_0x2b78fe instanceof gC&&_0x2b78fe['shBands']>0x1f99+0x1*-0x2d5+-0x1cc4&&_0x11a0cd===!!this['resolveSH']&&(this['resolveSH']?(this['resolveSH']['destroy'](),this['resolveSH']=null):this['resolveSH']=new fC(_0x32e7ed['device'],this));}['updateTime'](_0xf3728){this['time']=_0xf3728;}}class Rv{constructor(_0x5a880d,_0x5346bc){h(this,'sceneInfo',{}),h(this,'isDestroye'+'d',!(0x199+0x1*-0x1da+0x41)),h(this,'device'),h(this,'gsplatData'),h(this,'centers'),h(this,'aabb'),h(this,'mesh'),h(this,'instanceIn'+'dices'),h(this,'gsplatInst'+'ance'),(this['device']=_0x5a880d,this['gsplatData']=_0x5346bc,this['isDestroye'+'d']=!(-0x2*0x3df+0x85d*-0x3+0x20d6));const _0x451029=-0x2283+-0x1*-0x853+0x4*0x6ac,_0x5db1eb=Math['ceil'](_0x5346bc['numSplats']/_0x451029)*_0x451029/_0x451029,_0xff3724=new Uint32Array(_0x5db1eb);for(let _0x461b59=0x1*0x1da7+0x22f6+-0x409d;_0x461b59<_0x5db1eb;++_0x461b59)_0xff3724[_0x461b59]=_0x461b59*_0x451029;const _0x3b7c63=new kt(_0x5a880d,[{'semantic':ph,'components':0x1,'type':el,'asInt':!(0x23c+0x35*0x35+-0xd35)}]),_0x29c998=new Float32Array((0x1*-0x713+0x265*0x9+-0xe6e)*_0x451029),_0x225e50=new Uint32Array((0x2*-0xd1+-0x1*-0xbc5+-0xa1d)*_0x451029);for(let _0xa4fad4=0x11ce+0x5*0x36b+0x1*-0x22e5;_0xa4fad4<_0x451029;++_0xa4fad4){_0x29c998['set']([-(0x1979*-0x1+0x2ad+-0x1c1*-0xd),-(0x1d0a+-0x1a02+-0x1f*0x19),_0xa4fad4,0x509*0x5+-0x1a10+0xe4,-(-0xace+-0x1*-0xfd1+-0x1*0x502),_0xa4fad4,-0x1e1*-0x14+0xeb1*0x2+-0x3d*0x119,0xa3a+-0x1c4f+0x1216,_0xa4fad4,-(0x25*-0x95+-0xd*-0xb+0x14fb),0x1a32*0x1+0x1337+-0x4*0xb5a,_0xa4fad4],_0xa4fad4*(0x1104+0x221c+-0x3314));const _0xb5ca29=_0xa4fad4*(0x1*-0x827+-0x37c+0xba7);_0x225e50['set']([-0x3a*-0x38+0x47*-0x7f+0x1*0x1689+_0xb5ca29,0x4c1+0x728*-0x1+0xe*0x2c+_0xb5ca29,-0xa4*-0x11+-0xf4f+0x46d+_0xb5ca29,0x190c+-0x8fd+-0x100f+_0xb5ca29,0x460+-0x1d*0x18+-0x1a6+_0xb5ca29,0x5a2+-0xc08+0x669+_0xb5ca29],_0xa4fad4*(-0x1a5b+-0x2359+0x3dba*0x1));}this['mesh']=new Ge(_0x5a880d),this['mesh']['setPositio'+'ns'](_0x29c998,-0xa80+0x1de+0x8a5*0x1),this['mesh']['setIndices'](_0x225e50),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),this['instanceIn'+'dices']=new Is(_0x5a880d,_0x3b7c63,_0x5db1eb,{'usage':ms,'data':_0xff3724['buffer']});}['updateData'](){var _0x395e08;const _0x2aff6b=this['gsplatData'];if(!_0x2aff6b)return;const _0x492a2c=0x6*0x337+0x16*-0x72+-0x2*0x47f,_0x1d029e=Math['ceil'](_0x2aff6b['numSplats']/_0x492a2c)*_0x492a2c/_0x492a2c,_0x339bb3=new Uint32Array(_0x1d029e);for(let _0x512501=-0x1b7b+0x956*-0x3+-0x1*-0x377d;_0x512501<_0x1d029e;++_0x512501)_0x339bb3[_0x512501]=_0x512501*_0x492a2c;const _0x2519b3=new kt(this['device'],[{'semantic':ph,'components':0x1,'type':el,'asInt':!(-0x1*-0x103f+-0x24*0xfa+0x12e9)}]),_0x41e8a7=new Float32Array((0x1*-0x149f+-0x197f+0x2e2a)*_0x492a2c),_0x218e30=new Uint32Array((-0xb53*-0x2+0x85*0x39+0x2b*-0x137)*_0x492a2c);for(let _0x50de55=-0x2b*0x53+-0x223d*-0x1+-0x144c;_0x50de55<_0x492a2c;++_0x50de55){_0x41e8a7['set']([-(0x1f70+0x171*-0x18+0x329),-(-0x15e6*0x1+-0xae0+0x20c7),_0x50de55,-0x1*-0x783+0x3*-0x4df+0x71b,-(0x4d9*0x2+0x26dd*0x1+-0x308e),_0x50de55,0x1c9*0x13+-0x120d*0x1+0xfdd*-0x1,-0xf82*-0x2+-0x379+0x1*-0x1b8a,_0x50de55,-(0x12b2+0x135b+-0x1306*0x2),-0x171b+-0x16f4+0x218*0x16,_0x50de55],_0x50de55*(-0x1dc8+0x760*0x1+0x1674));const _0x2a1b61=_0x50de55*(-0x5*0x535+-0x18cd+0x32da);_0x218e30['set']([0x1*0x77a+-0x58+0x1*-0x722+_0x2a1b61,0xc24+0x1565+-0x2188+_0x2a1b61,-0x1951+-0x23a8+0x3cfb*0x1+_0x2a1b61,0x6e6+0xe59+-0x153f+_0x2a1b61,-0x1d*-0x91+0x206d+0x2*-0x186c+_0x2a1b61,0x1a68+0x111e+0x2f*-0xed+_0x2a1b61],_0x50de55*(0x1*-0xcd1+0x43*0x5e+-0x1*0xbc3));}this['mesh']['setPositio'+'ns'](_0x41e8a7,0x13*0x199+-0x2462+0x60a),this['mesh']['setIndices'](_0x218e30),this['mesh']['update'](),this['mesh']['incRefCoun'+'t'](),(_0x395e08=this['instanceIn'+'dices'])==null||_0x395e08['destroy'](),this['instanceIn'+'dices']=new Is(this['device'],_0x2519b3,_0x1d029e,{'usage':ms,'data':_0x339bb3['buffer']});}['updateText'+'ure'](){}['destroy'](){var _0x3722b1,_0x129828,_0xdb6aa5,_0x2d72cb;(_0x3722b1=this['mesh'])==null||_0x3722b1['destroy'](),(_0x129828=this['instanceIn'+'dices'])==null||_0x129828['destroy'](),(_0xdb6aa5=this['gsplatData'])==null||_0xdb6aa5['destroy'](),this['gsplatData']=null,(_0x2d72cb=this['gsplatInst'+'ance'])==null||_0x2d72cb['destroy'](),this['gsplatInst'+'ance']=void(-0x838+-0x22f7*0x1+0x2b2f),this['isDestroye'+'d']=!(-0x218*-0x10+0x1c1e+-0xef*0x42),this['mesh']=null;}get['instanceSi'+'ze'](){return 0x1f*0x2b+-0x1aa3*0x1+0x15ee;}get['numSplats'](){var _0xf4a3;return(_0xf4a3=this['gsplatData'])==null?void(-0x2632+0x1fa2+0x3c*0x1c):_0xf4a3['numSplats'];}['setSceneIn'+'fo'](_0x1a4883){}['configureM'+'aterial'](_0x1bf134){}['evalTextur'+'eSize'](_0x1f98ef){return J['ZERO'];}['appendGSpl'+'atResource'](_0x2c97bc,_0x5be9f4,_0x213b86,_0x328e7f,_0x6473e2){}['fireAssets'+'ManagerTim'+'eIndex'](){}['createText'+'ure'](_0x2825bf,_0x44ad0c,_0x30c4ce,_0x3d0f18){return new _e(this['device'],{'name':_0x2825bf,'width':_0x30c4ce['x'],'height':_0x30c4ce['y'],'format':_0x44ad0c,'cubemap':!(0x1793+0x23c7+-0x3b59),'mipmaps':!(0x1d*-0xb+-0x2*-0x102b+-0x1f16),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,..._0x3d0f18?{'levels':[_0x3d0f18]}:{}});}['instantiat'+'e'](){w['removed']('GSplatReso'+'urce.insta'+'ntiate\x20is\x20'+'removed.\x20U'+'se\x20gsplat\x20'+'component\x20'+'instead');}['createInst'+'ance'](_0x332159,_0x4c88e9){return this['gsplatInst'+'ance']=new xC(_0x332159,_0x4c88e9),this['gsplatInst'+'ance'];}}async function TC(){const _0xade84e=new Float32Array(-0x65b+-0xd6d+0x13c9),_0x136348=new Int32Array(_0xade84e['buffer']);let _0x40bd4d=null,_0x5d6f7e=null,_0x2ee7a8=null,_0x1041a8=null,_0x420818=null,_0x2f5a50=null,_0x20aafb=null,_0xddaf47=null;self['onmessage']=async _0x275616=>{const {data:_0x4ea013}=_0x275616;switch(_0x4ea013['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x53faa6(_0x4ea013['numSplats'],_0x4ea013['shBands'],_0x4ea013['SHData']);break;case'updateColo'+'rData':_0xaec412(_0x4ea013['numSplats'],_0x4ea013['cr'],_0x4ea013['cg'],_0x4ea013['cb'],_0x4ea013['ca']);break;case'updateTran'+'sformData':_0x3d392e(_0x4ea013['numSplats'],_0x4ea013['is4D'],_0x4ea013['x'],_0x4ea013['y'],_0x4ea013['z'],_0x4ea013['rx'],_0x4ea013['ry'],_0x4ea013['rz'],_0x4ea013['rw'],_0x4ea013['mx'],_0x4ea013['my'],_0x4ea013['mz'],_0x4ea013['sx'],_0x4ea013['sy'],_0x4ea013['sz'],_0x4ea013['muT'],_0x4ea013['tScale']);break;case'calcAabb':_0x3ec4aa(_0x4ea013['numSplats'],_0x4ea013['x'],_0x4ea013['y'],_0x4ea013['z'],_0x4ea013['sx'],_0x4ea013['sy'],_0x4ea013['sz']);break;case'destroyWor'+'ker':_0x1d5fa9();break;}};class _0xc2405c{constructor(_0x354276=0x1a76+-0xf4d+-0xb29*0x1,_0x32a5d3=0x8d*0x1e+0x2175+-0x31fb,_0x17cc97=0xf9e*-0x1+-0x1f27+0x133*0x27,_0xdea451=0x18d9+0x1f*-0x139+-0xd0f*-0x1){this['x']=_0x354276,this['y']=_0x32a5d3,this['z']=_0x17cc97,this['w']=_0xdea451;}['set'](_0x179ee6,_0x3b381e,_0x26e5cf,_0x24056c){return this['x']=_0x179ee6,this['y']=_0x3b381e,this['z']=_0x26e5cf,this['w']=_0x24056c,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x508f9e=this){let _0xb40a5d=_0x508f9e['length']();return _0xb40a5d===-0x9a7+0xa6d*0x1+-0x42*0x3?(this['x']=this['y']=this['z']=0x6e*0xb+0x65*-0x49+-0x1813*-0x1,this['w']=0x1c89+0xd92+-0x13d*0x22):(_0xb40a5d=(0x1a04+-0x46*-0x5b+-0x32e5)/_0xb40a5d,this['x']=_0x508f9e['x']*_0xb40a5d,this['y']=_0x508f9e['y']*_0xb40a5d,this['z']=_0x508f9e['z']*_0xb40a5d,this['w']=_0x508f9e['w']*_0xb40a5d),this;}['mulScalar'](_0x4dcc0f,_0x1f58bc=this){return this['x']=_0x1f58bc['x']*_0x4dcc0f,this['y']=_0x1f58bc['y']*_0x4dcc0f,this['z']=_0x1f58bc['z']*_0x4dcc0f,this['w']=_0x1f58bc['w']*_0x4dcc0f,this;}}const _0x538672=_0x523b96=>{_0xade84e[-0xc92+-0x14fd+0x218f]=_0x523b96;const _0xf6e47e=_0x136348[-0xd3f+0xd01+0x3e];let _0x27bcdf=_0xf6e47e>>0x1f5b+0x16ff+-0x1b25*0x2&0xe6c7+0x269b+-0x8d62,_0x1aaeeb=_0xf6e47e>>-0x1*0x80a+0xb*-0x171+-0x7fb*-0x3&-0x232*-0x8+0x43*0x62+-0x2337;const _0x432211=_0xf6e47e>>0x970*-0x3+-0x226d*0x1+0x3ed4&0x17*0xe+0xcda+-0xd1d;return _0x432211<0x1*-0x1a8d+-0x517*0x4+0x2f5*0x10?_0x27bcdf:_0x432211>0x1cab+0x3*-0x9a1+-0x21*-0x6?(_0x27bcdf|=0x5f42+0x98*-0x53+-0x4e06*-0x1,_0x27bcdf|=(_0x432211===0xcc6+-0x182+-0xa45?-0x15d*0x6+0x1bc4+-0x1396:0x15e8+0xef4+0x33*-0xb9)&&_0xf6e47e&-0xde1b03+-0x1*0x264292+0x5b615*0x44,_0x27bcdf):_0x432211<0x2bd*0xd+0x2f*0x7a+-0x398e?(_0x1aaeeb|=0x10e2*-0x2+0x6d2+0x5d3*0x6,_0x27bcdf|=(_0x1aaeeb>>-0x1b*0x15b+-0x2d5+-0x3a*-0xb0-_0x432211)+(_0x1aaeeb>>0x1810+-0x971+-0xa*0x16b-_0x432211&0x1631+-0x10e8+-0x548),_0x27bcdf):(_0x27bcdf|=_0x432211-(-0xc80+0x1*0x1009+0x3d*-0xd)<<-0x2a9*-0x7+-0x44*0x1f+-0xa59|_0x1aaeeb>>-0x23d6+-0x1*-0xaed+0x3*0x84e,_0x27bcdf+=_0x1aaeeb&0x1*-0x18e4+0x2589+-0x2*0x652,_0x27bcdf);},_0x3ec4aa=(_0x228f13,_0x5c0463,_0xd795f5,_0x4f24b7,_0x1bbf61,_0x235a53,_0x385429)=>{let _0x220a06=-0x57*0x47+0xf*0xd+0x6*0x3e5,_0x30c70f=0x3fb+0xe62+-0x3*0x61f,_0x4f98f3=-0x19b9+0x7dc*0x2+0xa01,_0x16f2c3=0xd*-0xb3+-0xd7d+0x1694,_0x439962=-0x3*0xaa5+0x258c+0x1df*-0x3,_0x21b1ca=-0x1545+-0x222a+0x269*0x17,_0x3b33f5=!(-0x1*-0x268d+0xe54+-0x1*0x34e1);const _0x4bdea8=new Float32Array(-0x2489+0x1*0xb6a+-0xc91*-0x2),_0x10b8ff=new Float32Array(-0xaa1+0x2106+0x1*-0x1662);for(let _0x290772=-0x1d1f+-0xfca+0x2ce9*0x1;_0x290772<_0x228f13;++_0x290772){const _0x42c195=_0x5c0463[_0x290772],_0xc9809e=_0xd795f5[_0x290772],_0x235deb=_0x4f24b7[_0x290772],_0x4fded2=Math['max'](_0x1bbf61[_0x290772],_0x235a53[_0x290772],_0x385429[_0x290772]);if(!isFinite(_0x42c195)||!isFinite(_0xc9809e)||!isFinite(_0x235deb)||!isFinite(_0x4fded2))continue;const _0x644792=(0x1*-0xb14+-0x1*0xff9+0x1b0f)*Math['exp'](_0x4fded2);_0x3b33f5?(_0x3b33f5=!(-0xb*0x6b+0x41f+0x7b),_0x220a06=_0x42c195-_0x644792,_0x30c70f=_0xc9809e-_0x644792,_0x4f98f3=_0x235deb-_0x644792,_0x16f2c3=_0x42c195+_0x644792,_0x439962=_0xc9809e+_0x644792,_0x21b1ca=_0x235deb+_0x644792):(_0x220a06=Math['min'](_0x220a06,_0x42c195-_0x644792),_0x30c70f=Math['min'](_0x30c70f,_0xc9809e-_0x644792),_0x4f98f3=Math['min'](_0x4f98f3,_0x235deb-_0x644792),_0x16f2c3=Math['max'](_0x16f2c3,_0x42c195+_0x644792),_0x439962=Math['max'](_0x439962,_0xc9809e+_0x644792),_0x21b1ca=Math['max'](_0x21b1ca,_0x235deb+_0x644792));}_0x3b33f5||(_0x4bdea8[0x15*0x41+0x7*0x14d+0x39c*-0x4]=(_0x220a06+_0x16f2c3)*(-0x15*0xa9+0x2*0xf4b+-0x10b9+0.5),_0x4bdea8[0x1ff5*0x1+0x2f*0x26+-0x26ee]=(_0x30c70f+_0x439962)*(0x2de*-0x8+-0x20b1+0x37a1+0.5),_0x4bdea8[-0x16bb+0x122e+0x48f]=(_0x4f98f3+_0x21b1ca)*(0x1*0x22c3+0x9a5+-0x2c68+0.5),_0x10b8ff[0x2*0xe5d+-0xd59+-0xf61]=(_0x16f2c3-_0x220a06)*(0x4c*0x1+0x4*0x3cb+0x18*-0xa5+0.5),_0x10b8ff[-0x53b*-0x3+0x1b70+0x50*-0x8a]=(_0x439962-_0x30c70f)*(0x86c+-0x11d5+0x969+0.5),_0x10b8ff[-0x1a*0x11+-0xb9*-0x6+0x1*-0x29a]=(_0x21b1ca-_0x4f98f3)*(-0xdef+-0xbab*-0x2+-0x53*0x1d+0.5)),self['postMessag'+'e']({'type':'updatedAab'+'bData','center':_0x4bdea8,'halfExtents':_0x10b8ff});},_0x3d392e=(_0x385a26,_0x343b0c,_0x5d522b,_0x358a5d,_0x2346b2,_0x26f23e,_0x3fdee0,_0x448703,_0x3a17fd,_0x2dd261,_0x5dc341,_0x39a43c,_0x33bbc4,_0x11d6ae,_0xb7f6db,_0x24472c,_0x20192d)=>{_0x1d5fa9(),_0x40bd4d=new Float32Array(_0x385a26*(0x26e3+0x3b*-0x6b+-0x3*0x4bd)),_0x1041a8=new Float32Array(_0x385a26*(0x55*-0xf+0xb51+-0x653)),_0x2f5a50=new Uint16Array(_0x385a26*(0x4d8+-0xf*-0x4d+-0x5c*0x1a)),_0x2ee7a8=new Float32Array(_0x385a26*(0xd*-0x1a3+0x985*0x1+0xbc5)),_0x343b0c&&(_0x420818=new Float32Array(_0x385a26*(0x242*-0x1+-0x381+0x5c6)),_0x5d6f7e=new Float32Array(_0x385a26*(0x1*0x28f+-0x32d*-0x5+0x35*-0x59)),_0x20aafb=new Float32Array(_0x385a26*(0x315*0x7+-0xc7*0x29+0xa4f)),_0xddaf47=new Float32Array(_0x385a26));const _0x28b346=new _0xc2405c(-0xb82+0x2427+-0x1*0x18a5,-0x219b+-0x129b*0x2+0x46d1,-0x7f*-0x23+0x15d4+0x1*-0x2731,-0x7a*0xd+-0x13f1+0x1a23*0x1);for(let _0x36a1a3=-0x1*-0x905+0x1*0xe98+0x5*-0x4b9;_0x36a1a3<_0x385a26;_0x36a1a3++)_0x28b346['set'](_0x26f23e[_0x36a1a3],_0x3fdee0[_0x36a1a3],_0x448703[_0x36a1a3],_0x3a17fd[_0x36a1a3]),_0x28b346['normalize'](),_0x28b346['w']<-0x3b*0x47+0xd7*0x1b+0x65*-0x10&&_0x28b346['mulScalar'](-(0x2a8+-0x91*-0x2f+-0x1*0x1d46)),_0x1041a8[_0x36a1a3*(0x1224+0x24f8+0x7df*-0x7)+(0x25+0x129*0x11+-0x13de)]=_0x5d522b[_0x36a1a3],_0x1041a8[_0x36a1a3*(0x3*-0x269+-0x1*0x2501+0x2f*0xf1)+(0x4c8*-0x6+-0x9*0x169+0x2962)]=_0x358a5d[_0x36a1a3],_0x1041a8[_0x36a1a3*(-0xe3*0x13+-0x12*-0xc2+0x338)+(0x25bd+0x1102+-0xad*0x51)]=_0x2346b2[_0x36a1a3],_0x40bd4d[_0x36a1a3*(0x1f1a*-0x1+-0x21ac+0x40c9)+(0x5*0x1e1+-0x2e8*-0x6+-0x1ad5)]=_0x5d522b[_0x36a1a3],_0x40bd4d[_0x36a1a3*(-0x15a0+0x1384+0x21f)+(0x1*0x41e+-0x214a+0x1d2d)]=_0x358a5d[_0x36a1a3],_0x40bd4d[_0x36a1a3*(0xad*-0x10+0x2a8*-0xe+0x3003*0x1)+(-0xb*0x39+-0x1*0x1dc5+0x101d*0x2)]=_0x2346b2[_0x36a1a3],_0x2f5a50[_0x36a1a3*(-0x1*-0x1ac4+-0x2de+0x4c7*-0x5)+(-0x1bbf+-0xe9*-0x19+0x27f*0x2)]=_0x538672(Math['exp'](_0x33bbc4[_0x36a1a3])),_0x2f5a50[_0x36a1a3*(-0x2a2*-0xb+0x995+0x2*-0x1344)+(-0xca9*0x3+0x1935+0xcc7)]=_0x538672(Math['exp'](_0x11d6ae[_0x36a1a3])),_0x2f5a50[_0x36a1a3*(0x1d8b+-0x1bd+-0x5*0x58f)+(0x3*-0xb51+0x5*-0x3e3+-0x3*-0x11cc)]=_0x538672(Math['exp'](_0xb7f6db[_0x36a1a3])),_0x2ee7a8[_0x36a1a3*(0xf*0x167+0x25*0xad+0x2e07*-0x1)+(-0x133d+-0xa1d*0x3+0x14e*0x26)]=_0x28b346['x'],_0x2ee7a8[_0x36a1a3*(-0x29d+0x3ec*0x2+-0x538)+(-0x232+0x9d+-0xcb*-0x2)]=_0x28b346['y'],_0x2ee7a8[_0x36a1a3*(-0x10e3*0x1+0x6a2+0xa44)+(-0xc46+0x1605*-0x1+-0x1*-0x224d)]=_0x28b346['z'],_0x343b0c&&_0x420818&&_0x5d6f7e&&(_0x420818[_0x36a1a3*(-0x2063+0x5*-0xe2+0x24d0)+(0xc56+0x1*0xb9a+-0x17f0)]=_0x2dd261[_0x36a1a3],_0x420818[_0x36a1a3*(0xd64*-0x1+-0x245*0xa+-0x2419*-0x1)+(-0x5a2+0xe45+-0xaa*0xd)]=_0x5dc341[_0x36a1a3],_0x420818[_0x36a1a3*(-0x1*-0x233+-0xe21*-0x1+0x1051*-0x1)+(-0xf50+0x1152+-0x1*0x200)]=_0x39a43c[_0x36a1a3],_0x20aafb[_0x36a1a3*(-0x1*0x38e+0x4c8+-0x137)+(-0x242e+-0x78f+0x2bbd)]=_0x2dd261[_0x36a1a3],_0x20aafb[_0x36a1a3*(0x2*0x1154+0xce+-0x2373)+(-0x122b+-0x2*0x623+0x1e72*0x1)]=_0x5dc341[_0x36a1a3],_0x20aafb[_0x36a1a3*(-0x229b+0x57*0x62+0x15*0x10)+(0x3d3*0x4+-0x556+-0x9f4)]=_0x39a43c[_0x36a1a3],_0xddaf47[_0x36a1a3]=_0x20192d?Math['exp'](_0x20192d[_0x36a1a3]):0x5*0x657+-0x272+-0x1*0x1d41,_0x5d6f7e[_0x36a1a3*(-0x2709+-0x1352*-0x1+0x13ba)+(-0x2455+0x1*0x24b5+-0x60)]=_0x24472c?_0x24472c[_0x36a1a3]:-0xe4b+-0xde*-0x3+0xbb1,_0x5d6f7e[_0x36a1a3*(-0x825+0xb42*-0x1+0x136a)+(0x1383+-0x1a*-0x107+0x1*-0x2e38)]=_0xddaf47[_0x36a1a3]);const _0x4a3485=[_0x40bd4d['buffer'],_0x1041a8['buffer'],_0x2f5a50['buffer'],_0x2ee7a8['buffer']];_0x343b0c&&_0x4a3485['push'](_0x420818['buffer'],_0x5d6f7e['buffer'],_0x20aafb['buffer'],_0xddaf47['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x40bd4d,'dataPosition':_0x1041a8,'dataScale':_0x2f5a50,'dataRotation':_0x2ee7a8,'dataMotion':_0x420818,'dataTime':_0x5d6f7e,'motion':_0x20aafb,'tScaleArray':_0xddaf47},_0x4a3485);},_0xaec412=(_0x347521,_0x5a0fb3,_0x1a8625,_0x3b2c2d,_0x458fa7)=>{const _0x27de85=new Uint16Array(_0x347521*(0xb*-0xb+0xafe*-0x3+0x2177)),_0x4b5302=0x1ea3+-0x9c*-0x2f+-0x25f*0x19+0.28209479177387814;for(let _0x36e2fd=0x1cc4+0x46a*-0x4+-0x12*0x9e;_0x36e2fd<_0x347521;++_0x36e2fd){const _0x4c1db9=_0x5a0fb3[_0x36e2fd]*_0x4b5302+(0x38*-0x80+0x507+-0x1*-0x16f9+0.5),_0x1d5916=_0x1a8625[_0x36e2fd]*_0x4b5302+(-0x1f9+-0xc21*-0x1+-0x514*0x2+0.5),_0x125353=_0x3b2c2d[_0x36e2fd]*_0x4b5302+(0x184a+0x1293+-0x2add+0.5),_0x4ae511=_0x458fa7[_0x36e2fd];_0x27de85[_0x36e2fd*(0xd49+-0x1ac3+-0x2*-0x6bf)+(-0x183c+-0x1*-0x11f0+0x64c)]=_0x538672(_0x4c1db9),_0x27de85[_0x36e2fd*(0x14f*-0x16+0x1779+0x555)+(-0x1dc8+0x1*0x823+0x15a6)]=_0x538672(_0x1d5916),_0x27de85[_0x36e2fd*(-0x25c*-0xe+-0x181b*-0x1+-0x391f*0x1)+(-0xf5a+-0x161c+0x2578)]=_0x538672(_0x125353),_0x27de85[_0x36e2fd*(0x39*-0x41+0x4c7*-0x7+-0x996*-0x5)+(-0xac4+-0x9*0x15f+0x2*0xb8f)]=_0x538672(_0x4ae511);}self['postMessag'+'e']({'type':'updatedCol'+'orData','data':_0x27de85});},_0x53faa6=(_0x27b96e,_0x1a9407,_0x1e0232)=>{const _0x44d357=new Uint32Array(_0x27b96e*(0x3*-0x37e+-0xb8+0xb36)),_0x44dcfe=new Uint32Array(_0x27b96e*(0x11e+-0x737*0x1+0x61d)),_0xa4bbb=new Uint32Array(_0x27b96e*(0x46*-0x1f+-0x1059+0x18d7*0x1)),_0x110bc7=new Uint32Array(_0x27b96e*(0x1*-0x2b3+-0x1*0x115+0x3cc)),_0x96d799={0x1:0x3,0x2:0x8,0x3:0xf}[_0x1a9407],_0x239bf5=_0x1e0232,_0x4d330d=-0x6e*0x26+0x1d30+-0xf*0x53,_0x4dbcca=-0x23ad*0x1+-0x1ce+0x297a,_0x44d154=new Float32Array(-0x1*0x54f+-0xd3*-0x25+-0x133*0x15),_0x5a4735=new Uint32Array(_0x44d154['buffer']),_0x419ae5=new Array(_0x96d799*(0x260+-0x22f4+0x1*0x2097))['fill'](0x38b*0x3+-0x13fd*0x1+0x95c);for(let _0x27ee20=0x7bd+-0x1c0*-0x12+-0x273d;_0x27ee20<_0x27b96e;++_0x27ee20){for(let _0x8a6bf1=-0x177f+-0x80f+0x1f8e;_0x8a6bf1<_0x96d799;++_0x8a6bf1)_0x419ae5[_0x8a6bf1*(0x1051*-0x1+-0xa17+0x1a6b)]=_0x239bf5[_0x8a6bf1][_0x27ee20],_0x419ae5[_0x8a6bf1*(-0x1bee+0x1375+0x3*0x2d4)+(-0x11b+0x721+-0x605*0x1)]=_0x239bf5[_0x8a6bf1+_0x96d799][_0x27ee20],_0x419ae5[_0x8a6bf1*(0x5*-0x45+0x1*0x409+0x1*-0x2ad)+(-0x1*0x91d+-0x8*-0x45e+-0x19d1)]=_0x239bf5[_0x8a6bf1+_0x96d799*(0x195f+0x253d+-0x3e9a)][_0x27ee20];let _0x1d9e98=_0x419ae5[0x128d+0x2a*-0x1c+-0xdf5];for(let _0x43a8eb=0x1*-0x486+-0x7*-0x1f1+0x488*-0x2;_0x43a8eb<_0x96d799*(0x25*-0xd3+-0x78b*-0x2+0xf6c);++_0x43a8eb)_0x1d9e98=Math['max'](_0x1d9e98,Math['abs'](_0x419ae5[_0x43a8eb]));if(_0x1d9e98!==-0x5a3*0x1+-0x252f+-0x3f*-0xae){for(let _0x3c5191=0x25eb*0x1+0x1b0a+-0x40f5;_0x3c5191<_0x96d799;++_0x3c5191)_0x419ae5[_0x3c5191*(0x1b5*-0x13+0x1a7f+-0x5f3*-0x1)+(-0x2*-0xcf8+0x77*0x1a+-0x2606)]=Math['max'](-0x8cb*0x1+0x227f+-0xbc*0x23,Math['min'](_0x4d330d,Math['floor']((_0x419ae5[_0x3c5191*(0x1f28+0xb*0x1+-0x1f30)+(-0x2b7*0x8+0x1d7d+-0x3*0x297)]/_0x1d9e98*(0x2f*0x6b+-0x1*0x198d+-0xa8*-0x9+0.5)+(0x18e9+0xc1a*-0x2+-0xb5*0x1+0.5))*_0x4d330d+(0xca5+-0x1577+0x8d2+0.5)))),_0x419ae5[_0x3c5191*(-0x1e5*0xd+0x1fec*-0x1+0x3890)+(0x2466+0xffe+-0x3463)]=Math['max'](0x1336+0x1*0xf43+-0x2279,Math['min'](_0x4dbcca,Math['floor']((_0x419ae5[_0x3c5191*(0x12d3+0x8a9+-0x21d*0xd)+(0x318+-0x19ef+0x4*0x5b6)]/_0x1d9e98*(0x1161+0x99c+0x2f*-0x93+0.5)+(0xe67+-0x1c3*-0x9+-0x1e42+0.5))*_0x4dbcca+(-0x1*-0x1417+0x2*-0x687+0x1*-0x709+0.5)))),_0x419ae5[_0x3c5191*(-0x1*0x1f05+0xdb7+0x1151*0x1)+(0x920*0x1+-0x15*0x2e+-0x1c8*0x3)]=Math['max'](-0x19a+0x187e+0x5*-0x494,Math['min'](_0x4d330d,Math['floor']((_0x419ae5[_0x3c5191*(-0x19bd+0x22d4+-0x1*0x914)+(-0x30b*-0x2+0x1e0b+0x1*-0x241f)]/_0x1d9e98*(0x2*0x403+-0x7*-0x545+-0x2ce9*0x1+0.5)+(0x1d61*0x1+-0x14d7+-0x88a+0.5))*_0x4d330d+(-0x2b3*-0x4+0x1352*0x1+-0x1e1e+0.5))));_0x44d154[0x130d*-0x1+0x1d53+-0x5*0x20e]=_0x1d9e98,_0x44d357[_0x27ee20*(0x18ef+0x11b*0x1d+0xd*-0x462)+(-0x16d3+0x1*0x1c1+-0x1d*-0xba)]=_0x5a4735[0x1535*-0x1+-0x5*0x529+-0x2*-0x1781],_0x44d357[_0x27ee20*(0x1e*-0x12c+0x17f4+0xb38)+(-0x527+-0x9e*-0x28+-0x1388)]=_0x419ae5[0x1c45+0xdd3+0x704*-0x6]<<0x1025+0x35*0x24+-0x2*0xbc2|_0x419ae5[-0x1922+0x7*-0x157+0x2284]<<-0x1*-0x1543+0xe0f+-0x2347|_0x419ae5[0x1c34+-0x22f7+-0x6c5*-0x1],_0x44d357[_0x27ee20*(-0xf0*0x4+0x775+-0x3b1)+(-0x1a6b+0x20aa+-0x1*0x63d)]=_0x419ae5[0x7*0x1a6+0x115+-0xc9c]<<-0x5d9*-0x1+0x1810+-0x1dd4|_0x419ae5[0x1911*-0x1+-0x1b86+0x349b]<<0x1b10+0xa*0x2f3+-0x3883|_0x419ae5[-0xbd*-0xc+0x1e4a+0x459*-0x9],_0x44d357[_0x27ee20*(0xae9+0x1777*0x1+-0x225c)+(-0x1894+-0x2680+0x3f17)]=_0x419ae5[-0x386*0x1+0xab2+-0x726]<<-0x23b0+-0x3*0x135+-0x9d9*-0x4|_0x419ae5[-0x1b0a+0xe3*-0x29+0x84*0x7b]<<0x349+-0x39c+0x5e|_0x419ae5[-0x2*0x7e1+0x6a3+0x47*0x21],_0x1a9407>0x1cf3+0x620+-0x2312&&(_0x44dcfe[_0x27ee20*(0xe*0x1a1+-0x4*0xf9+-0x12e6)+(-0xbc3+0x535*-0x1+-0x3*-0x5a8)]=_0x419ae5[0x177f+-0x983+0x1*-0xdf3]<<-0x10d*-0x1+0xc43+0x469*-0x3|_0x419ae5[0xa23+0x18fc+-0x2315]<<-0x3eb+-0x21c5+0x25bb*0x1|_0x419ae5[-0x8*-0xf1+-0x13*-0x151+-0x2080],_0x44dcfe[_0x27ee20*(-0x1f5c+-0x11e8+-0x53*-0x98)+(-0x1*-0x1b4+-0x88d*0x4+0x2081)]=_0x419ae5[0x458+-0x2*-0xdb2+-0x1fb0]<<-0x1cce+0x22a2+-0x5bf|_0x419ae5[-0x3*0x676+0x5e*0x21+0x751]<<0x1f2c+0x1214+-0x3135|_0x419ae5[0x1*-0x1636+-0xb4b*-0x1+0x35*0x35],_0x44dcfe[_0x27ee20*(-0xa*-0x14f+-0x125*-0x8+-0x163a)+(-0x1b4*-0x7+-0x1c86+0x427*0x4)]=_0x419ae5[-0x91+0xe9a*0x2+-0x4*0x725]<<-0x14cd+0x1509*-0x1+-0x3*-0xdf9|_0x419ae5[0x9d4+0x13*0x169+-0xbf*0x31]<<0x10b*-0x6+-0x1974+-0x2e3*-0xb|_0x419ae5[0x2*0x6da+0x5*-0x4dc+-0x1*-0xaa9],_0x44dcfe[_0x27ee20*(0x1385+-0x1*0x1efd+-0x14*-0x93)+(-0x1ac+-0x5*-0x687+0xf7a*-0x2)]=_0x419ae5[0x64*-0x1a+0x8ff+0x13b]<<-0x48a+-0xbe4+-0x1083*-0x1|_0x419ae5[-0x313*0xa+0x69*0x5f+-0x826]<<0xb*-0x1f6+-0x125f*-0x1+-0x2*-0x19f|_0x419ae5[-0x1093+-0x17c9+-0x50e*-0x8],_0x1a9407>-0xc92+-0xb1*0x29+0x28ed*0x1?(_0xa4bbb[_0x27ee20*(0x34+-0x7*0x1f6+0xd8a)+(-0x1de1+0x5a*0x18+0x1571)]=_0x419ae5[-0x2676*-0x1+0x3*-0x169+-0x2226]<<0x9*-0x41b+0x1f75+0x593*0x1|_0x419ae5[0x26d0+-0x25fd+-0x15*0x9]<<0x1fc3*0x1+0x3*-0x8c3+-0x6b*0xd|_0x419ae5[-0xdc9+0x13f5*-0x1+0x21d5],_0xa4bbb[_0x27ee20*(-0x1c1b+-0xd*-0x2f6+-0xa5f)+(-0x1dae+-0x20de+0x3e8d)]=_0x419ae5[0xcb4+0xc*0xa7+-0x1470]<<0xeb6+-0xaf4+-0x3ad|_0x419ae5[0x125*-0x17+0x21bf+-0x753]<<0x20aa+0x17*0x5b+0x1c*-0x175|_0x419ae5[0x8da*-0x2+0x1e1d+-0xc4f],_0xa4bbb[_0x27ee20*(-0xf38*0x2+-0x459+0x22cd)+(-0x1385+0x1b2+0x391*0x5)]=_0x419ae5[-0x21eb+0x1*-0x1b2f+-0x3*-0x1467]<<0xf1e+-0xc9d*-0x3+-0x34e0|_0x419ae5[-0x61*0x34+-0x2703+0x1*0x3ad3]<<-0x20c1+0xde0+-0x12ec*-0x1|_0x419ae5[-0x2616+0x1*0x225d+-0x2*-0x1eb],_0xa4bbb[_0x27ee20*(-0x9e3+-0x1a8e+0x2475)+(-0x1f94+0x1f71+0x1*0x26)]=_0x419ae5[0x1*-0x199c+-0x689+0x2043]<<0x5*0x1f7+0x1*-0xc52+0x294|_0x419ae5[-0x1*-0x217+0x1686*0x1+-0x187e]<<0x15dd+-0xf79+-0x5*0x145|_0x419ae5[-0x15*0x16f+0x199a+0x4a1],_0x110bc7[_0x27ee20*(0x179+0x4fa*-0x3+-0x1*-0xd79)+(0x12dd*0x2+-0x9*-0x2c2+0x4*-0xfa3)]=_0x419ae5[0x150b+0x1d54+0x6d*-0x76]<<-0x13f6+-0x4d*0x63+0x31d2|_0x419ae5[0x3*0x597+-0x2071+0xfce]<<0xbd*-0x1d+0xb8d*0x2+-0x1a6*0x1|_0x419ae5[0x60a*0x1+-0xd*-0x25e+0x29*-0xe5],_0x110bc7[_0x27ee20*(0x13a7+0xa9*0x19+-0x606*0x6)+(0x24fc*-0x1+0x9*-0x4a+0x2797)]=_0x419ae5[0x1f5*0x11+0x2*0x9e5+-0x17*0x24d]<<-0x407+-0x1119+-0x1*-0x1535|_0x419ae5[-0x2511+0x281*0xe+0x228]<<-0x758*0x1+-0x1*0xc03+0x1366|_0x419ae5[-0x2a2+-0xe12+-0x10da*-0x1],_0x110bc7[_0x27ee20*(0xfb1*0x1+-0x69*0x8+-0x1*0xc65)+(0x1*-0xf93+-0xd4a+0x1cdf)]=_0x419ae5[0x23ce+0x244f*0x1+-0x1*0x47f6]<<-0x1*-0xbdd+0x12e0+0x48*-0x6d|_0x419ae5[0x2*-0x125d+0x3d4+0x210e]<<0x1*0x1b73+0x1*0x29d+-0x1e05|_0x419ae5[0x3*-0x17+0x25d6+-0x2a*0xe4],_0x110bc7[_0x27ee20*(0x1215+-0x7*-0x3ed+-0x2d8c)+(-0xbb*0x1e+0x4ae+0x113f)]=_0x419ae5[-0x2553+0x7fc+0x1d81]<<0xdfa+-0xa46+-0x39f|_0x419ae5[0x7b4+0x51*-0x19+-0x6*-0x10]<<-0xbb1*-0x1+0x4*0xbf+-0xea2|_0x419ae5[-0x1ce1+0x1f8a+-0x27d]):_0xa4bbb[_0x27ee20]=_0x419ae5[0x2*-0xc41+-0x3a1*-0x1+0x14f6]<<-0x2211+0xf21+0x1305|_0x419ae5[0x17d3+-0x22cd+0xb10]<<0x6c*-0x26+0xa28+0x5eb|_0x419ae5[-0xec*-0x18+-0x1204+-0x405]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x44d357,'sh4to7Data':_0x44dcfe,'sh8to11Data':_0xa4bbb,'sh12to15Data':_0x110bc7}},[_0x44d357['buffer'],_0x44dcfe['buffer'],_0xa4bbb['buffer'],_0x110bc7['buffer']]);},_0x1d5fa9=()=>{_0x40bd4d=null,_0x5d6f7e=null,_0x2ee7a8=null,_0x1041a8=null,_0x420818=null,_0x2f5a50=null,_0x20aafb=null,_0xddaf47=null;};}let wC=class extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+TC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x3f1e3c,_0x592d21,_0x5a4b67){_0x3f1e3c['onmessage']=_0x231c0f=>{if(!this['worker'])return;const {data:_0x4259a9}=_0x231c0f;if(_0x4259a9['type']===_0x592d21)switch(_0x592d21){case'updatedSHD'+'ata1':_0x5a4b67(_0x4259a9['data']);break;case'updatedCol'+'orData':_0x5a4b67(_0x4259a9['data']);break;case'updatedTra'+'nsformData':_0x5a4b67(_0x4259a9);break;case'updatedAab'+'bData':_0x5a4b67(_0x4259a9);break;}};}['updateSHDa'+'ta1'](_0x1fd41d,_0x82fe9b,_0x1b1768){var _0x1cf7f2;return(_0x1cf7f2=this['worker'])==null||_0x1cf7f2['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x1fd41d,'shBands':_0x82fe9b,'SHData':_0x1b1768}),new Promise(_0x399b5f=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x37f11f=>{_0x399b5f(_0x37f11f);});});}async['updateColo'+'rData'](_0x4aaa0f,_0x2ba78e,_0x2b9fa1,_0x51f62f,_0x4a8db8){var _0x349f83;return(_0x349f83=this['worker'])==null||_0x349f83['postMessag'+'e']({'type':'updateColo'+'rData','numSplats':_0x4aaa0f,'cr':_0x2ba78e,'cg':_0x2b9fa1,'cb':_0x51f62f,'ca':_0x4a8db8}),new Promise(_0x2cee81=>{this['workerMess'+'ageFn'](this['worker'],'updatedCol'+'orData',_0x666318=>{_0x2cee81(_0x666318);});});}async['calcAabb'](_0x457c02,_0x1c194d,_0x23b494,_0x2c4e55,_0x263c49,_0x5b031f,_0x5dcbfe){var _0x1f4800;const _0x582803=new Float32Array(_0x1c194d),_0x4f08dc=new Float32Array(_0x23b494),_0x24755c=new Float32Array(_0x2c4e55),_0xfb1069=new Float32Array(_0x263c49),_0x34f89c=new Float32Array(_0x5b031f),_0x17f417=new Float32Array(_0x5dcbfe);return(_0x1f4800=this['worker'])==null||_0x1f4800['postMessag'+'e']({'type':'calcAabb','numSplats':_0x457c02,'x':_0x582803,'y':_0x4f08dc,'z':_0x24755c,'sx':_0xfb1069,'sy':_0x34f89c,'sz':_0x17f417},[_0x582803['buffer'],_0x4f08dc['buffer'],_0x24755c['buffer'],_0xfb1069['buffer'],_0x34f89c['buffer'],_0x17f417['buffer']]),new Promise(_0x47422f=>{this['workerMess'+'ageFn'](this['worker'],'updatedAab'+'bData',_0x4b0f0e=>{_0x47422f(_0x4b0f0e);});});}async['updateTran'+'sData'](_0x331425,_0x1e9b04,_0x52966a,_0x116e63,_0x3e016d,_0x6c696f,_0x1feaed,_0x28998e,_0x4dd264,_0x163cb3,_0x42ee05,_0x5ab3e0,_0x540523,_0x19530c,_0x2cfb8c,_0x58c67d,_0x9c9ca6){var _0x30b481;return(_0x30b481=this['worker'])==null||_0x30b481['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x331425,'is4D':_0x1e9b04,'x':_0x52966a,'y':_0x116e63,'z':_0x3e016d,'rx':_0x6c696f,'ry':_0x1feaed,'rz':_0x28998e,'rw':_0x4dd264,'mx':_0x163cb3,'my':_0x42ee05,'mz':_0x5ab3e0,'sx':_0x540523,'sy':_0x19530c,'sz':_0x2cfb8c,'muT':_0x58c67d,'tScale':_0x9c9ca6}),new Promise(_0x14c89f=>{const _0x739538=_0x18af5f=>{_0x14c89f(_0x18af5f);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x739538);});}['destroy'](){var _0x51e0d3;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x51e0d3=this['worker'])==null||_0x51e0d3['terminate'](),this['worker']=null);}};const vg=(_0x5e93ab,_0x3b5c19)=>{const _0x468ecc=[];for(let _0x1c09a5=0x3a0+-0x1718+0x1378;_0x1c09a5<_0x3b5c19;++_0x1c09a5)_0x468ecc['push'](_0x5e93ab['getProp']('f_rest_'+_0x1c09a5));return _0x468ecc;};class EC extends Rv{constructor(_0x3446e4,_0x36d694){console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),super(_0x3446e4,_0x36d694),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(0x6d7*-0x4+-0x2*-0xc2d+0x303)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new wC(),this['assetsMana'+'gerLoadedT'+'ime']=0x6da*0x3+0x175b+-0x2be4);}async['updateData'](){var _0x475b9a,_0x4e2895,_0x4a7b7c,_0x56d989,_0x1c408f,_0x520712,_0x1fcf26,_0x38f8b2,_0x2ed534,_0x23955d,_0x381358;console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Data'),await super['updateData']();const _0x47c536=this['gsplatData'];if(!_0x47c536)return;this['is4D']=_0x47c536['is4D'];const _0x58a4b0=await this['getTransfo'+'rmDataByWo'+'rker'](_0x47c536);this['aabb']=new De(),await _0x47c536['calcAabbAs'+'ync'](this['aabb'],this['updateData'+'Worker']),this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x58a4b0['centers'],this['motion']=_0x58a4b0['motion'],this['tScale']=_0x58a4b0['tScaleArra'+'y'],this['muT']=await _0x47c536['getMuT'](),this['timeIndex']=await _0x47c536['getTimeInd'+'ex']();const _0x33b4c3=this['evalTextur'+'eSize'](_0x47c536['numSplats']);this['colorTextu'+'re']?((_0x475b9a=this['colorTextu'+'re2'])==null||_0x475b9a['destroy'](),(_0x4e2895=this['transformA'+'Texture2'])==null||_0x4e2895['destroy'](),(_0x4a7b7c=this['transformB'+'Texture2'])==null||_0x4a7b7c['destroy'](),(_0x56d989=this['transformR'+'Texture2'])==null||_0x56d989['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x33b4c3),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x33b4c3),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x33b4c3),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x33b4c3),this['is4D']&&((_0x1c408f=this['transformM'+'otionTextu'+'re2'])==null||_0x1c408f['destroy'](),(_0x520712=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x520712['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x33b4c3),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x33b4c3))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x33b4c3),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x33b4c3),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x33b4c3),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x33b4c3),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x33b4c3),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x33b4c3),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x33b4c3),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x33b4c3),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x33b4c3),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x33b4c3),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x33b4c3),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x33b4c3))),await this['updateColo'+'rData'](_0x47c536),await this['updateTran'+'sformFromD'+'ata'](_0x58a4b0),this['shBands']=_0x47c536['shBands'],this['shBands']>-0x1c6*0xb+-0x135a+0x26dc&&(this['sh1to3Text'+'ure']?((_0x1fcf26=this['sh1to3Text'+'ure2'])==null||_0x1fcf26['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x33b4c3),this['shBands']>-0x1*0x176f+0x14b3+0x2bd&&((_0x38f8b2=this['sh4to7Text'+'ure2'])==null||_0x38f8b2['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x33b4c3),this['shBands']>0x2*0x89+-0x15f7+0x14e7?((_0x2ed534=this['sh8to11Tex'+'ture2'])==null||_0x2ed534['destroy'](),(_0x23955d=this['sh12to15Te'+'xture2'])==null||_0x23955d['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x33b4c3),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x33b4c3)):((_0x381358=this['sh8to11Tex'+'ture2'])==null||_0x381358['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x33b4c3)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x33b4c3),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x33b4c3),this['shBands']>0x2605+0x31a+-0x291e&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x33b4c3),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x33b4c3),this['shBands']>-0x138e+0x1103+0x28d*0x1?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x33b4c3),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x33b4c3),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x33b4c3),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x33b4c3)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x33b4c3),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x33b4c3)))),await this['updateSHDa'+'taByWorker'](_0x47c536));}['updateText'+'ure'](){console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20update'+'Texture'),!this['isDestroye'+'d']&&(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x1d58e0){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x1d58e0}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','ASSETS\x20GSp'+'lat\x20releas'+'eSeqGSplat'+'\x20all'),this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x558498,_0x59678a,_0x417878,_0x4b7a56,_0x5a2da1){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x558498,'timeOption':_0x59678a,'loadedTime':_0x417878,'asset':_0x4b7a56,'events':_0x5a2da1}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(0x1417*0x1+0x1*-0x1a7a+0x663);try{for(;this['appendQueu'+'e']['length']>0x98e*0x2+-0x104*0x2+0x1114*-0x1;){const _0x2550f8=this['appendQueu'+'e']['shift']();_0x2550f8['type']==='append'?await this['processApp'+'endTask'](_0x2550f8['data']):_0x2550f8['type']==='release'&&await this['processRel'+'easeTask'](_0x2550f8['data']);}}finally{this['isProcessi'+'ngQueue']=!(0xda6*-0x2+0xf9*0x13+0x8d2);}}}async['processRel'+'easeTask'](_0x1f584c){const {index:_0x4aeb7d}=_0x1f584c;console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.relea'+'seGSplatRe'+'source',_0x4aeb7d),!this['isDestroye'+'d']&&await this['gsplatData']['releaseSeq'+'Data'](_0x4aeb7d);}async['processApp'+'endTask'](_0x5aaf46){var _0x3fb392;const {gsplatData:_0xeee9ed,timeOption:_0x1a53c8,loadedTime:_0x3c8682,asset:_0x3db459,events:_0x2e5422}=_0x5aaf46;!this['gsplatData']||this['isDestroye'+'d']||(console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatReso'+'urce.appen'+'dGSplatRes'+'ource'),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x1a53c8,await this['gsplatData']['appendGSpl'+'atData'](_0xeee9ed,_0x3c8682,_0x1a53c8),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20gspla'+'tData.appe'+'ndGSplatDa'+'ta',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x4*0x577+0x21ad+0xbcf*-0x1),_0xeee9ed['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0xeee9ed['numSplats'])['toFixed'](-0x159f+-0xa*0x50+0x18c2)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20this.'+'updateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x7f*0x22+0x1*-0xea5+-0x3f*0x9),_0xeee9ed['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),(_0x3fb392=this['gsplatInst'+'ance'])==null||_0x3fb392['updateInst'+'anceData'](this),console['log']('loadTime__'+'__','gsplatReso'+'urce\x20updat'+'eInstanceD'+'ata',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x1d51+0x5d4+-0x3*-0x7d5),_0xeee9ed['numSplats']),this['asset']=_0x3db459,this['assetsMana'+'gerLoadedT'+'ime']=_0x3c8682,this['events']=_0x2e5422);}['fireAssets'+'ManagerTim'+'eIndex'](){var _0x552ee3;const _0x49ab44=this['assetsMana'+'gerLoadedT'+'ime'];console['log']('____\x20ENGIN'+'E\x20IVAN','fireAssets'+'ManagerTim'+'eIndex',_0x49ab44),(_0x552ee3=this['asset'])==null||_0x552ee3['fire']('setAssetsL'+'oaded',_0x49ab44);}['destroy'](){var _0x27bb1,_0x4bf355,_0xea564,_0x35a817,_0x208265,_0x3a0d55,_0x206262,_0x2b42d0,_0x49a43f,_0xc1dc80,_0x43f191,_0x478e11,_0xbe5aba,_0x2846dd,_0x27af36,_0x2f3c7a,_0x114df3,_0x594925,_0x4968f1,_0x23c6c0,_0x1e3045;(_0x27bb1=this['updateData'+'Worker'])==null||_0x27bb1['destroy'](),this['updateData'+'Worker']=void(-0x409+0x142*-0xb+-0x3d*-0x4b),(_0x4bf355=this['colorTextu'+'re'])==null||_0x4bf355['destroy'](),(_0xea564=this['transformA'+'Texture'])==null||_0xea564['destroy'](),(_0x35a817=this['transformB'+'Texture'])==null||_0x35a817['destroy'](),(_0x208265=this['transformR'+'Texture'])==null||_0x208265['destroy'](),(_0x3a0d55=this['transformM'+'otionTextu'+'re'])==null||_0x3a0d55['destroy'](),(_0x206262=this['transformL'+'ifecycleTe'+'xture'])==null||_0x206262['destroy'](),(_0x2b42d0=this['sh1to3Text'+'ure'])==null||_0x2b42d0['destroy'](),(_0x49a43f=this['sh4to7Text'+'ure'])==null||_0x49a43f['destroy'](),(_0xc1dc80=this['sh8to11Tex'+'ture'])==null||_0xc1dc80['destroy'](),(_0x43f191=this['sh12to15Te'+'xture'])==null||_0x43f191['destroy'](),(_0x478e11=this['colorTextu'+'re2'])==null||_0x478e11['destroy'](),(_0xbe5aba=this['transformA'+'Texture2'])==null||_0xbe5aba['destroy'](),(_0x2846dd=this['transformB'+'Texture2'])==null||_0x2846dd['destroy'](),(_0x27af36=this['transformR'+'Texture2'])==null||_0x27af36['destroy'](),(_0x2f3c7a=this['transformM'+'otionTextu'+'re2'])==null||_0x2f3c7a['destroy'](),(_0x114df3=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x114df3['destroy'](),(_0x594925=this['sh1to3Text'+'ure2'])==null||_0x594925['destroy'](),(_0x4968f1=this['sh4to7Text'+'ure2'])==null||_0x4968f1['destroy'](),(_0x23c6c0=this['sh8to11Tex'+'ture2'])==null||_0x23c6c0['destroy'](),(_0x1e3045=this['sh12to15Te'+'xture2'])==null||_0x1e3045['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x475b7b){var _0x522a67,_0x56f1fe,_0x6ae4de,_0x5a641e,_0x593d2a,_0x350650,_0xa11a20,_0x1e2e2c,_0x284de6,_0x5a287b,_0x272a2b,_0x6424c6,_0x4cfdef;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x473463=((_0x522a67=_0x475b7b['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(-0xf85+-0x20*0x102+0x2fc5):_0x522a67['data'])??-0xcd7+-0x1*-0x408+0x8cf,_0x27835f=((_0x56f1fe=_0x475b7b['getParamet'+'er']('uSplatScal'+'e'))==null?void(0x15e9*-0x1+0x865+0xd84):_0x56f1fe['data'])??-0x25*-0x8a+0x134d*0x2+-0x3a8b,_0x3c925f=((_0x6ae4de=_0x475b7b['getParamet'+'er']('uSaturatio'+'n'))==null?void(0x42e+-0xc94+0x866):_0x6ae4de['data'])??-0x3af*0x3+-0x1a*0x109+0x25f8,_0x4808b0=((_0x5a641e=_0x475b7b['getParamet'+'er']('uHueOffset'))==null?void(-0x175*0x7+-0x2625+0x3058):_0x5a641e['data'])??0xbac*0x3+-0xa7e+-0xc43*0x2,_0x21190a=((_0x593d2a=_0x475b7b['getParamet'+'er']('uInvertOpa'+'city'))==null?void(0x11*0x1a3+0x22a9*0x1+-0x3e7c):_0x593d2a['data'])??-0xd69+-0x13c7+0x2130,_0x2ed592=((_0x350650=_0x475b7b['getParamet'+'er']('uOpacity'))==null?void(0xc41*-0x2+0xdde+0xaa4):_0x350650['data'])??0x4*0x2fe+-0x213+-0x9e4,_0x254c2b=((_0xa11a20=_0x475b7b['getParamet'+'er']('clrOffset'))==null?void(0x950*-0x3+0x11b*-0x1f+0x3e35):_0xa11a20['data'])??[-0x19*-0x7a+-0x1a0e+-0xa*-0x16a,0x5*0x45d+0x3*-0x88d+0x3d6,-0xb*0x107+-0x1e6+0x1f*0x6d,-0xa9*0x9+0x3*-0xa26+0x89*0x44],_0x44ed0b=((_0x1e2e2c=_0x475b7b['getParamet'+'er']('clrScale'))==null?void(0xd1c+-0xa6c+0xac*-0x4):_0x1e2e2c['data'])??[-0x49b+0x742+-0x2a6,0x1c2c+-0x46*0x3e+0x1*-0xb37,0x315+0x1a*-0xa7+-0x6f1*-0x2,-0xb5*-0xf+0xb3*0x27+-0x25df],_0x1555d2=((_0x284de6=_0x475b7b['getParamet'+'er']('uShapeN'))==null?void(0x1799+0xaaf+0x1124*-0x2):_0x284de6['data'])??0x1*-0x52+0xf83+-0xf31,_0x396ba9=((_0x5a287b=_0x475b7b['getParamet'+'er']('mode'))==null?void(0x15b5+0x22f*0x3+-0x1c42):_0x5a287b['data'])??0x1ef3+-0xbd0+-0x45*0x47,_0x233448=((_0x272a2b=_0x475b7b['getParamet'+'er']('ringSize'))==null?void(0xa4c*0x3+-0xf*-0x17c+-0x3528):_0x272a2b['data'])??0x4*0x88f+-0x11ef+-0x104d,_0x2595cb=((_0x6424c6=_0x475b7b['defines'])==null?void(0x1888+-0x25aa+0xd22):_0x6424c6['get']('uOpenAnim'))??'0',_0x431fae=((_0x4cfdef=_0x475b7b['defines'])==null?void(0x1d6b+0xaba+0xef*-0x2b):_0x4cfdef['get']('uControlCo'+'lorMode'))??'0';_0x475b7b['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x475b7b['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x475b7b['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x475b7b['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x475b7b['setParamet'+'er']('uSplatScal'+'e',_0x27835f),_0x475b7b['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x473463),_0x475b7b['setParamet'+'er']('uSaturatio'+'n',_0x3c925f),_0x475b7b['setParamet'+'er']('uHueOffset',_0x4808b0),_0x475b7b['setParamet'+'er']('uInvertOpa'+'city',_0x21190a),_0x475b7b['setParamet'+'er']('uOpacity',_0x2ed592),_0x475b7b['setParamet'+'er']('clrOffset',_0x254c2b),_0x475b7b['setParamet'+'er']('clrScale',_0x44ed0b),_0x475b7b['setParamet'+'er']('uShapeN',_0x1555d2),_0x475b7b['setParamet'+'er']('mode',_0x396ba9),_0x475b7b['setParamet'+'er']('ringSize',_0x233448),_0x475b7b['setParamet'+'er']('prerenderC'+'Time',0x265d+-0x1e85*-0x1+-0x44e2),_0x475b7b['setParamet'+'er']('renderSpac'+'e',-0x178+0xe14*-0x1+0xf96),_0x475b7b['setParamet'+'er']('endSpace',-0x1*-0x197f+0xe1+-0x1a56),_0x475b7b['setDefine']('uOpenAnim',_0x2595cb),_0x475b7b['setDefine']('uControlCo'+'lorMode',_0x431fae),this['transformM'+'otionTextu'+'re']&&_0x475b7b['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x475b7b['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x475b7b['setDefine']('SH_BANDS',this['shBands']),_0x475b7b['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x475b7b['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x475b7b['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x475b7b['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x475b7b['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x5accff){const _0x584b43=Math['ceil'](Math['sqrt'](_0x5accff)),_0x1e75c0=Math['ceil'](_0x5accff/_0x584b43);return new J(_0x584b43,_0x1e75c0);}async['updateColo'+'rData'](_0x53c927){var _0x389e8b;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x29efbe=this['colorTextu'+'re2'];if(!_0x29efbe||this['isDestroye'+'d'])return;const _0x157d56=_0x53c927['getProp']('f_dc_0'),_0x48f3f7=_0x53c927['getProp']('f_dc_1'),_0x26b6d2=_0x53c927['getProp']('f_dc_2'),_0x592c71=_0x53c927['getProp']('opacity');let _0x4f6680=(_0x389e8b=_0x53c927['transformD'+'ata'])==null?void(0x1cde+0x9*0x3b7+0x185*-0x29):_0x389e8b['dataColor'];_0x4f6680||(_0x4f6680=await this['updateData'+'Worker']['updateColo'+'rData'](_0x53c927['numSplats'],_0x157d56,_0x48f3f7,_0x26b6d2,_0x592c71)),await this['idleUpdate'+'TexturePro'+'mise'](_0x29efbe,_0x4f6680);}async['getTransfo'+'rmDataByWo'+'rker'](_0x47075c){var _0x5e46b9;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x5e46b9=_0x47075c['transformD'+'ata'])!=null&&_0x5e46b9['dataCenter'+'s'])return{'centers':_0x47075c['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x47075c['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x47075c['transformD'+'ata']['dataScale'],'dataRotation':_0x47075c['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x47075c['transformD'+'ata']['dataMotion'],'dataTime':_0x47075c['transformD'+'ata']['dataTime'],'motion':_0x47075c['transformD'+'ata']['motion'],'tScaleArray':_0x47075c['transformD'+'ata']['tScaleArra'+'y']};const _0x581cc4=_0x47075c['getProp']('x'),_0x12f48d=_0x47075c['getProp']('y'),_0x20bc36=_0x47075c['getProp']('z'),_0x2145d6=_0x47075c['getProp']('rot_1'),_0x1980c6=_0x47075c['getProp']('rot_2'),_0x5524d0=_0x47075c['getProp']('rot_3'),_0x495990=_0x47075c['getProp']('rot_0'),_0x49988b=_0x47075c['getProp']('motion_0'),_0xcc8c5d=_0x47075c['getProp']('motion_1'),_0x4ba3df=_0x47075c['getProp']('motion_2'),_0x32062b=_0x47075c['getProp']('scale_0'),_0x5d4f54=_0x47075c['getProp']('scale_1'),_0x44cf78=_0x47075c['getProp']('scale_2'),_0x292b9c=_0x47075c['getProp']('t'),_0x6842b8=_0x47075c['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x47075c['numSplats'],this['is4D'],_0x581cc4,_0x12f48d,_0x20bc36,_0x2145d6,_0x1980c6,_0x5524d0,_0x495990,_0x49988b,_0xcc8c5d,_0x4ba3df,_0x32062b,_0x5d4f54,_0x44cf78,_0x292b9c,_0x6842b8);}async['updateTran'+'sformFromD'+'ata'](_0x3aba36){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x3aba36['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x3aba36['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x3aba36['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x3aba36['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x3aba36['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x14c1cb,_0x41567a){if(!this['isDestroye'+'d'])return new Promise(_0x5670f5=>{requestIdleCallback(()=>{const _0x1fe5bf=_0x14c1cb['lock']();_0x1fe5bf==null||_0x1fe5bf['set'](_0x41567a),_0x14c1cb['unlock'](),_0x5670f5(!(-0x9d5+-0x115+-0x7f*-0x16));},{'timeout':0x12c});});}async['updateTran'+'sformData'](_0x1e753f){var _0x5457fb,_0x425d15,_0x3d19eb,_0x4c4206;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformData'),this['isDestroye'+'d'])return;const _0x4924cc=Mn['float2Half'];if(!this['transformA'+'Texture'])return;const _0x3772a7=this['transformA'+'Texture']['lock'](),_0x1ddeb9=this['transformR'+'Texture']['lock'](),_0x4947d0=this['transformB'+'Texture']['lock'](),_0x4a5d9a=(_0x5457fb=this['transformM'+'otionTextu'+'re'])==null?void(-0x20ae+0x2557+0x4a9*-0x1):_0x5457fb['lock'](),_0x3018ad=(_0x425d15=this['transformL'+'ifecycleTe'+'xture'])==null?void(-0xdc1+-0xbba*-0x1+-0xad*-0x3):_0x425d15['lock'](),_0x48bfc7=new D(),_0x368162=new le(),_0x17dbc5=new D(),_0xb0c46=new D(),_0x52fd41=_0x1e753f['createIter'](_0x48bfc7,_0x368162,_0x17dbc5,null,_0xb0c46),_0x1d289d=_0x1e753f['getProp']('t'),_0x5d6970=_0x1e753f['getProp']('t_scale');for(let _0x4f7639=0x161c+-0x225c+0xc40;_0x4f7639<_0x1e753f['numSplats'];_0x4f7639++)_0x52fd41['read'](_0x4f7639),_0x368162['normalize'](),_0x368162['w']<-0x1f81+0x8*-0x16e+0x2af1&&_0x368162['mulScalar'](-(0x1*-0x180b+0x199*-0x8+-0x935*-0x4)),_0x3772a7[_0x4f7639*(-0x1*0x200d+-0x2a2*0x6+0x2fdc)+(-0x43e+0x482*0x4+-0x1*0xdca)]=_0x48bfc7['x'],_0x3772a7[_0x4f7639*(0x187e+0x169f+-0x2f1a)+(0x21db+-0x69*-0x35+-0x3797)]=_0x48bfc7['y'],_0x3772a7[_0x4f7639*(-0xa81+0x18aa+-0xe26)+(-0x1*-0x4d7+-0x3*0x4a4+0x917)]=_0x48bfc7['z'],_0x4947d0[_0x4f7639*(-0x20bb+-0x1*-0xe87+-0x1237*-0x1)+(-0x187b+-0x3*0x921+0x33de)]=_0x4924cc(_0x17dbc5['x']),_0x4947d0[_0x4f7639*(0x3b*-0x47+0x946*-0x3+0x2c32)+(0x1337*-0x1+-0x2514+0x384c)]=_0x4924cc(_0x17dbc5['y']),_0x4947d0[_0x4f7639*(0x1*-0x215d+-0x19*-0x83+0x1495)+(-0xd4d+-0x4dd+0x122c)]=_0x4924cc(_0x17dbc5['z']),_0x1ddeb9[_0x4f7639*(-0x5*-0x7bd+-0x112d*0x1+-0x1581)+(-0x50b+-0x9e1+0xeec)]=_0x368162['x'],_0x1ddeb9[_0x4f7639*(0xaf5+0x226e+-0x1*0x2d60)+(-0x25*-0x109+-0x1dfd+-0x84f)]=_0x368162['y'],_0x1ddeb9[_0x4f7639*(-0x3ad*0x7+0x182*-0x8+0x25ce)+(-0x1875+0x2002+0x78b*-0x1)]=_0x368162['z'],this['is4D']&&_0x4a5d9a&&_0x3018ad&&(_0x4a5d9a[_0x4f7639*(-0x1d7*-0x1+-0x4cd+-0x1*-0x2f9)+(0x144b+-0x1*0x16f2+-0x61*-0x7)]=_0xb0c46['x'],_0x4a5d9a[_0x4f7639*(-0x23f2+-0x1d69+0x415e)+(0x1*0xa5b+-0x1*0x1979+-0x4f*-0x31)]=_0xb0c46['y'],_0x4a5d9a[_0x4f7639*(-0x343+-0x23c0+0xb9*0x36)+(-0xdd3+-0x2603+0x33d8)]=_0xb0c46['z'],_0x3018ad[_0x4f7639*(0x19*-0x31+-0x20*0xc7+-0x1a6*-0x12)+(-0x2435+0x19c9+0xa6c)]=_0x1d289d?_0x1d289d[_0x4f7639]:-0xddc+-0xb74*0x3+0x3038,_0x3018ad[_0x4f7639*(0x1c49+0x48c*0x2+0x1*-0x255e)+(-0xe0*-0x20+0x234d+-0x3f4c)]=_0x5d6970?Math['exp'](_0x5d6970[_0x4f7639]):0x404+0x1259+-0x1*0x165d);this['transformA'+'Texture']['unlock'](),this['transformB'+'Texture']['unlock'](),this['transformR'+'Texture']['unlock'](),(_0x3d19eb=this['transformM'+'otionTextu'+'re'])==null||_0x3d19eb['unlock'](),(_0x4c4206=this['transformL'+'ifecycleTe'+'xture'])==null||_0x4c4206['unlock']();}async['updateSHDa'+'ta'](_0x4612f9){var _0x126b58,_0x34f48d,_0x5b3aa2,_0x3a39d4,_0x4f594e,_0x3a521e,_0x39d2a8,_0x27be43;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x499e1=(_0x126b58=this['sh1to3Text'+'ure2'])==null?void(-0x2b*-0xd7+0x16e*-0x11+-0xbcf):_0x126b58['lock'](),_0x59fedf=(_0x34f48d=this['sh4to7Text'+'ure2'])==null?void(-0xe3f+0x1d47+-0xf08):_0x34f48d['lock'](),_0x448c03=(_0x5b3aa2=this['sh8to11Tex'+'ture2'])==null?void(-0x93b+0x4*-0x8e+-0x1*-0xb73):_0x5b3aa2['lock'](),_0x3e7a0c=(_0x3a39d4=this['sh12to15Te'+'xture2'])==null?void(0xa59+0x1b8f+-0x25e8):_0x3a39d4['lock'](),_0x50a447={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x5d85de=vg(_0x4612f9,_0x50a447*(-0xed0+0x3*0x11+-0xd*-0x120)),_0x4785e9=0x2f*0xaf+-0x1*-0x219+-0x1a3b,_0x50d690=-0x1*-0x1945+-0x163b+0xf5,_0x21b48f=new Float32Array(-0x1256*0x2+0x4*0x775+0x1*0x6d9),_0x173b43=new Uint32Array(_0x21b48f['buffer']),_0x4d274a=new Array(_0x50a447*(0xfd9+-0xbce*-0x1+-0x1ba4))['fill'](-0xdaf+0x916*-0x2+-0x48d*-0x7);for(let _0x1714ed=0xc11+-0x7*-0x9e+-0x1063;_0x1714ed<_0x4612f9['numSplats'];++_0x1714ed){for(let _0x14f7b2=0x1*-0x1b65+-0x2245+0x6*0xa47;_0x14f7b2<_0x50a447;++_0x14f7b2)_0x4d274a[_0x14f7b2*(0x1a1d+0x5f9+-0x165*0x17)]=_0x5d85de[_0x14f7b2][_0x1714ed],_0x4d274a[_0x14f7b2*(0x84*-0x3c+0x8*-0x64+0x2213)+(-0x33*0x23+-0x2453+0x2b4d)]=_0x5d85de[_0x14f7b2+_0x50a447][_0x1714ed],_0x4d274a[_0x14f7b2*(0xfa*-0x1c+-0x68f*0x2+-0xd*-0x31d)+(-0x3*0xc28+-0x14e5*0x1+-0x1*-0x395f)]=_0x5d85de[_0x14f7b2+_0x50a447*(-0x1f75+0x9*-0x23b+0x338a)][_0x1714ed];let _0xe7d14a=_0x4d274a[-0x1511+-0x10fd+0x2*0x1307];for(let _0xe4ec20=-0x1379+0x1*-0x77c+0x3a*0x77;_0xe4ec20<_0x50a447*(0x1*-0x1a7d+0x57*-0x43+0x3145);++_0xe4ec20)_0xe7d14a=Math['max'](_0xe7d14a,Math['abs'](_0x4d274a[_0xe4ec20]));if(_0xe7d14a!==-0x17a5+-0x3f*-0x59+-0x2*-0xdf){for(let _0x3b0704=0xb8*0x2e+0x2*0x9c5+-0x349a;_0x3b0704<_0x50a447;++_0x3b0704)_0x4d274a[_0x3b0704*(0x318+0x201f+0x3*-0xbbc)+(0x2*0xfb+0xf90+-0x1186)]=Math['max'](-0x1c8+-0xd26+0xeee,Math['min'](_0x4785e9,Math['floor']((_0x4d274a[_0x3b0704*(0x844*0x4+-0x19f0+-0x25f*0x3)+(-0x115*0x3+-0x1*-0x499+-0x15a)]/_0xe7d14a*(0x97*0x4+-0x436+0x4f*0x6+0.5)+(-0x1d4d+-0x1cd*-0x1+0x2c*0xa0+0.5))*_0x4785e9+(-0xc95+0x1*-0x250a+0x319f+0.5)))),_0x4d274a[_0x3b0704*(0x1dda+0x2*0xa45+-0x3261*0x1)+(0x1a49+0x2029*0x1+-0x3a71)]=Math['max'](-0x265c+0x1526+0x1136,Math['min'](_0x50d690,Math['floor']((_0x4d274a[_0x3b0704*(-0x947+0x311+0x639)+(-0xbe3*-0x1+0x1*0x2408+-0x17f5*0x2)]/_0xe7d14a*(0x1c4+-0x3b*-0x2e+-0xc5e+0.5)+(0x610+0x2*-0x355+0x9a+0.5))*_0x50d690+(-0x16a*-0x1+0xcae+-0xe18+0.5)))),_0x4d274a[_0x3b0704*(0x62e*0x4+0xc9b+-0x4*0x954)+(-0x7*0x9d+-0x670+0xabd)]=Math['max'](-0x2690+-0x2*0xb47+0x3d1e,Math['min'](_0x4785e9,Math['floor']((_0x4d274a[_0x3b0704*(-0x1432+-0x220a+0x1*0x363f)+(0x83*0x44+0x1aff+-0x3dc9)]/_0xe7d14a*(-0x3*-0x6e+0x57*0x4e+-0x1bcc+0.5)+(-0x2490+-0x455*-0x7+0x63d*0x1+0.5))*_0x4785e9+(0x7ce+-0x955+-0x1*-0x187+0.5))));_0x21b48f[0x5d5+0x1*-0x943+0x36e]=_0xe7d14a,_0x499e1[_0x1714ed*(0x2f0*-0x1+0x1f9+0xfb)+(-0x28b*0x3+-0x1*-0x1a97+0x329*-0x6)]=_0x173b43[0x1*0xb17+0x1*-0x1a84+0xb*0x167],_0x499e1[_0x1714ed*(-0x719+0x2399+-0x1c7c)+(-0x2*-0xb2a+-0xc2a+-0xa29)]=_0x4d274a[-0x281+0x1*0x1549+0x1*-0x12c8]<<-0x115b+-0x11c*0xf+0x2214|_0x4d274a[0x21c6+-0x3aa*0x3+-0x16c7]<<-0x5f*0x47+0xe42+0xc22|_0x4d274a[0x595+-0x1a96*0x1+-0x1503*-0x1],_0x499e1[_0x1714ed*(-0x18b3*-0x1+-0x95b+0x2*-0x7aa)+(-0x7cc*0x4+-0x21e*-0xa+0xa06)]=_0x4d274a[-0x649*0x3+0x1d1a+-0xa3c]<<0x1ab+0x241d*-0x1+0x2287|_0x4d274a[-0x1fa6+-0x229d*-0x1+0x97*-0x5]<<-0x1*-0x21f1+-0x5*-0x2ed+-0x3087|_0x4d274a[-0x2677+-0x24bb+0xf0b*0x5],_0x499e1[_0x1714ed*(0x2*0x7f7+-0x1d2*0x11+0x2*0x784)+(-0x106*-0x1a+0x237a+-0x3e13)]=_0x4d274a[0x635*0x2+0x3b6*0x3+-0x1786*0x1]<<0xb*-0x15b+0x3b6+-0x13*-0x98|_0x4d274a[-0x223d+-0x1b9f+-0x3*-0x14a1]<<0x45b*0x4+-0x4ef+-0xc72|_0x4d274a[-0x1b77*-0x1+-0xbef*-0x3+-0x3f3c],this['shBands']>0x1*0x7cf+-0x4*0x33d+0x526&&(_0x59fedf[_0x1714ed*(-0x47*-0x22+0x260d+0x1d*-0x1a3)+(0x184*0x6+-0x16f*-0xa+0x1*-0x176e)]=_0x4d274a[0x45a+0x1051*0x2+-0x24f3]<<-0x6fc+0x193+0x57e|_0x4d274a[-0x1e69+-0x8b*0x4+0x209f]<<0x85b+-0x1*-0x2329+0x167*-0x1f|_0x4d274a[-0x368*0x3+-0x233f*0x1+0x2d82],_0x59fedf[_0x1714ed*(0x1*0x36d+-0x4d5*-0x1+-0x83e)+(-0x1*-0xfb5+0xe46*0x1+0x4ff*-0x6)]=_0x4d274a[0x709*0x1+-0x5c6*0x5+-0x1*-0x15e1]<<0x1*-0x110f+-0x2282+0x33a6|_0x4d274a[-0x1183+-0xb*0x3d+0x142f]<<-0x1084+-0x22c2+0x1c5*0x1d|_0x4d274a[-0x248e+-0x1989+-0x3e25*-0x1],_0x59fedf[_0x1714ed*(-0xa1b*-0x1+-0x23a+-0x7dd)+(-0x3*0x7c4+-0xd7f+0x24cd*0x1)]=_0x4d274a[-0x1762+-0x22d*-0x7+-0x836*-0x1]<<-0x1eef+0x95f+0x15a5|_0x4d274a[-0x12+-0x2*0xd92+0x1b46]<<-0x92*0x33+0xa7*-0x3b+0x439e|_0x4d274a[-0x16d5+0x23fd*-0x1+0x3ae3],_0x59fedf[_0x1714ed*(0x1a4b*0x1+-0x16ad+-0x39a)+(0x23bc+-0x1628*0x1+-0xd91*0x1)]=_0x4d274a[0x36e+-0x15bf+0x621*0x3]<<-0x3fb*-0x1+0x15bb*-0x1+0x11d5|_0x4d274a[-0x7b0+0xd*0x278+0x1*-0x1855]<<-0x1443+0x18b2+-0x464|_0x4d274a[-0x11e*-0x1+-0x92*0x3a+0x200a*0x1],this['shBands']>0x21dc+0xdcc+-0x2fa6?(_0x448c03[_0x1714ed*(-0xd5*-0x15+-0xdd7+-0x39e)+(-0x1*-0x17d2+0x1*-0x1d4d+0x57b)]=_0x4d274a[0x349*0xb+-0x1c86+-0x788]<<-0x13*0x112+-0x1d34+0x1*0x319f|_0x4d274a[-0x482+0xd55+-0x8bd]<<0xb77+0xa10+-0x157c|_0x4d274a[-0x1*-0x5d5+0xa02+-0xfc0],_0x448c03[_0x1714ed*(0x1*-0x1e77+0x8*0x202+-0xe6b*-0x1)+(0x2c7+-0x19*0x7f+0x1ed*0x5)]=_0x4d274a[-0x2083+0x2153+-0xb8]<<-0x4*-0x965+0x95*0x19+-0x340c|_0x4d274a[-0xad+-0x3e5*-0x6+-0x1698]<<-0x25c8+0x5*-0x253+-0x2*-0x18b9|_0x4d274a[0x2*0x10ad+-0x4ed+-0x1c53],_0x448c03[_0x1714ed*(-0x5*-0x765+-0x106d*0x1+0x6*-0x36c)+(-0x5dd+-0x76*0x9+-0x87*-0x13)]=_0x4d274a[0x95f*0x2+0x13fc+-0x269f*0x1]<<-0x1e0f+-0x3c8*-0x4+-0x7c*-0x1f|_0x4d274a[0x1171+-0x337*-0x1+-0x41c*0x5]<<-0xb*0x107+-0xad*-0x1+0xaab|_0x4d274a[0x5f9*-0x3+-0x27a+0x1482],_0x448c03[_0x1714ed*(-0x2*0x119a+0x44d+0x1eeb)+(-0x22c9+0x100c+-0x60*-0x32)]=_0x4d274a[-0x1*0x1c1d+0x3*-0xa6f+-0x14*-0x2fa]<<0x2126*-0x1+-0x2*0x101e+0x4177|_0x4d274a[-0x6*-0x20+0x29*0x89+-0x36*0x6b]<<0xbf9*-0x2+-0xb1*0x13+0x2520|_0x4d274a[-0x2e*0x4c+0x23*-0xc7+0x1*0x28fd],_0x3e7a0c[_0x1714ed*(-0x1cad+0x17b3+-0x4fe*-0x1)+(0x1*-0x164e+-0xab7*-0x1+0xb97)]=_0x4d274a[0x266*-0x6+-0x67*-0x42+0xc09*-0x1]<<-0x62b+-0x1*0x1391+0x1*0x19d1|_0x4d274a[0xba0+-0x5*0xc1+-0x7b9]<<-0x7*-0x58f+0x1*0x1d45+-0x4423|_0x4d274a[-0x236b+0x2df+0x20af],_0x3e7a0c[_0x1714ed*(0x1f90+0x1cd2+0x3c5e*-0x1)+(0x1*-0x29b+-0x35*0x61+0x16b1)]=_0x4d274a[0x2*0x123b+-0x5fe+-0x1e54]<<0x1*-0x1e39+-0x6f*-0x21+-0x111*-0xf|_0x4d274a[-0x40*0x54+-0x191*-0xc+-0x259*-0x1]<<0x1ab7+0x1a16+-0x34c2|_0x4d274a[0x1d9e+0x45f+-0x21d7*0x1],_0x3e7a0c[_0x1714ed*(0xa*0x195+0x183+-0x1151)+(0x22ef+0xb0e*-0x1+-0x17df)]=_0x4d274a[-0x3*0xbb5+-0x26f3+0x4a39]<<0x20e7+-0x1b23*0x1+-0x5af|_0x4d274a[0x1195+0xce*-0x3+-0xf03]<<0x8*0x466+0xc55*0x2+-0x3bcf|_0x4d274a[-0x1d8b*-0x1+0x5*-0x507+-0x43f],_0x3e7a0c[_0x1714ed*(0x63f*0x3+0x786+-0x1a3f)+(0x6*-0x167+0x1cd6+-0x37*0x5f)]=_0x4d274a[-0x1*0xc2f+-0x25ef+0x3248]<<0x257*-0x10+0x1*-0x163+0x26e8|_0x4d274a[-0xeee+-0xc62+0x1b7b]<<0x1240+-0x52b+0x2*-0x685|_0x4d274a[-0x87*-0x49+-0x1*-0x1cf9+0x49*-0xec]):_0x448c03[_0x1714ed]=_0x4d274a[-0x1*-0x25ca+0x63*0x27+-0x34ca]<<0x2434+0x1597*0x1+0x2*-0x1cdb|_0x4d274a[-0x16c2+0x1d18+-0x640]<<-0x1*-0x1fc+-0x1*0xdc1+0xa8*0x12|_0x4d274a[0x1*-0x109c+-0x3d1+-0x65*-0x34]);}}(_0x4f594e=this['sh1to3Text'+'ure2'])==null||_0x4f594e['unlock'](),(_0x3a521e=this['sh4to7Text'+'ure2'])==null||_0x3a521e['unlock'](),(_0x39d2a8=this['sh8to11Tex'+'ture2'])==null||_0x39d2a8['unlock'](),(_0x27be43=this['sh12to15Te'+'xture2'])==null||_0x27be43['unlock']();}async['updateSHDa'+'taByWorker'](_0x317a81){var _0x31b66,_0x52faf2,_0x47299d,_0x677318,_0xbe02b1;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x34c20d={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x486874,_0x59d10d,_0x20a5ac,_0x11cd52;if((_0x31b66=_0x317a81['transformD'+'ata'])!=null&&_0x31b66['sh1to3Data'])_0x486874=(_0x52faf2=_0x317a81['transformD'+'ata'])==null?void(0x29*-0x3a+-0x1db8+-0x1*-0x2702):_0x52faf2['sh1to3Data'],_0x59d10d=(_0x47299d=_0x317a81['transformD'+'ata'])==null?void(-0x20dd+0x13*-0x5f+0x27ea):_0x47299d['sh4to7Data'],_0x20a5ac=(_0x677318=_0x317a81['transformD'+'ata'])==null?void(-0x460+0x18eb*0x1+0x6d9*-0x3):_0x677318['sh8to11Dat'+'a'],_0x11cd52=(_0xbe02b1=_0x317a81['transformD'+'ata'])==null?void(-0x1f05+0xd36*0x1+0x11cf):_0xbe02b1['sh12to15Da'+'ta'];else{const _0x467824=vg(_0x317a81,_0x34c20d*(0x184*-0xd+-0x12fc+-0x26b3*-0x1)),_0xdb249f=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x317a81['numSplats'],this['shBands'],_0x467824);_0x486874=_0xdb249f['sh1to3Data'],_0x59d10d=_0xdb249f['sh4to7Data'],_0x20a5ac=_0xdb249f['sh8to11Dat'+'a'],_0x11cd52=_0xdb249f['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x486874),this['shBands']>0x12e5+0x1d*0x14+-0x1528&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x59d10d),this['shBands']>-0x55d*0x2+0x4e5+0x12b*0x5?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x20a5ac),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x11cd52)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x20a5ac));}}async function bC(){const _0x13c5d4=new Float32Array(-0x23f3+-0x135e+0x3752);new Int32Array(_0x13c5d4['buffer']);let _0x388034=null,_0x25c548=null,_0x11a128=null,_0x120aca=null,_0xbeb9f9=null,_0x2efbf4=null,_0x29ff40=null,_0x11e1e7=null;self['onmessage']=async _0x4579ce=>{const {data:_0x2ac9ad}=_0x4579ce;switch(_0x2ac9ad['type']){case'initWorker':break;case'updateSHDa'+'ta1':_0x538b0c(_0x2ac9ad['numSplats'],_0x2ac9ad['shBands'],_0x2ac9ad['SHData']);break;case'updateTran'+'sformData':_0x1beef1(_0x2ac9ad['numSplats'],_0x2ac9ad['is4D'],_0x2ac9ad['position'],_0x2ac9ad['rotation'],_0x2ac9ad['motion'],_0x2ac9ad['scale'],_0x2ac9ad['muT'],_0x2ac9ad['tScale']);break;case'destroyWor'+'ker':_0x293a37();break;}};const _0x1beef1=(_0x1ab739,_0x56e76e,_0x2edede,_0x231327,_0x345a5d,_0x5ef142,_0x482e0f,_0x2a54ea)=>{_0x293a37(),_0x56e76e&&(_0x25c548=new Float32Array(_0x1ab739*(0x1d00+-0xc33+-0x10ca)),_0x11e1e7=new Float32Array(_0x1ab739),_0xbeb9f9=new Float32Array(_0x345a5d['buffer']['slice']()),_0x29ff40=new Float32Array(_0x345a5d['buffer']['slice']())),_0x120aca=new Float32Array(_0x2edede['buffer']['slice']()),_0x388034=new Float32Array(_0x2edede['buffer']['slice']()),_0x2efbf4=new Uint16Array(_0x5ef142['buffer']['slice']()),_0x11a128=new Float32Array(_0x231327['buffer']['slice']());for(let _0x325333=-0x12d1+-0xec3*-0x1+0xad*0x6;_0x325333<_0x1ab739;_0x325333++)_0x56e76e&&_0x25c548&&(_0x11e1e7[_0x325333]=_0x2a54ea?Math['exp'](_0x2a54ea[_0x325333]):0x18a5+-0x8b5*-0x4+0x1d*-0x20d,_0x25c548[_0x325333*(0x11b9+-0x2545+-0x1*-0x138f)+(-0x186f+-0x3*0x5e+0x1989)]=_0x482e0f?_0x482e0f[_0x325333]:-0x2b*0xd+-0xb4f+0x2*0x6bf,_0x25c548[_0x325333*(-0x759+-0x1e12+0x1*0x256e)+(-0x2692+-0x125d+-0x8*-0x71e)]=_0x11e1e7[_0x325333]);const _0x22f682=[_0x388034['buffer'],_0x120aca['buffer'],_0x2efbf4['buffer'],_0x11a128['buffer']];_0x56e76e&&_0x22f682['push'](_0xbeb9f9['buffer'],_0x25c548['buffer'],_0x29ff40['buffer'],_0x11e1e7['buffer']),self['postMessag'+'e']({'type':'updatedTra'+'nsformData','centers':_0x388034,'dataPosition':_0x120aca,'dataScale':_0x2efbf4,'dataRotation':_0x11a128,'dataMotion':_0xbeb9f9,'dataTime':_0x25c548,'motion':_0x29ff40,'tScaleArray':_0x11e1e7},_0x22f682);},_0x538b0c=(_0x2efec6,_0x52dfe8,_0x1211b9)=>{const _0x56a97b=new Uint32Array(_0x2efec6*(-0x2003+-0x20db+0x2*0x2071)),_0x2212f2=new Uint32Array(_0x2efec6*(-0x5f0+-0x7*0x56e+-0x15fb*-0x2)),_0x9f5464=new Uint32Array(_0x2efec6*(-0x1fac+-0xb4d+0x2afd)),_0xf6619f=new Uint32Array(_0x2efec6*(-0x1f01+0x125f*-0x2+-0x13*-0x391)),_0x4ae74c={0x1:0x3,0x2:0x8,0x3:0xf}[_0x52dfe8],_0x66d33c=_0x1211b9,_0x183b3c=-0x2*-0x1c1+0x173+0x2*0x185,_0x39f367=-0x1*-0x12fb+-0x33d*-0xb+-0x329b,_0x1bce4b=new Float32Array(0x4*-0x758+0x5*0x578+-0x1*-0x209),_0x5298f9=new Uint32Array(_0x1bce4b['buffer']),_0x5043b2=new Array(_0x4ae74c*(0x2cb+0x121a+-0x14e2))['fill'](0x5*-0x6dd+0x1aa7+0x12*0x6d);for(let _0x40211d=-0x18d*0xb+0xa2c+0x1*0x6e3;_0x40211d<_0x2efec6;++_0x40211d){for(let _0x570d27=-0x8*-0x423+0x5e*0x61+0x5*-0xdbe;_0x570d27<_0x4ae74c;++_0x570d27)_0x5043b2[_0x570d27*(-0x8*-0xa6+0x593*-0x1+0x66)]=_0x66d33c[_0x570d27][_0x40211d],_0x5043b2[_0x570d27*(-0x911+-0x1*0x20b0+0x29c4)+(0xe1*0x27+0x3ce+-0x2614)]=_0x66d33c[_0x570d27+_0x4ae74c][_0x40211d],_0x5043b2[_0x570d27*(-0x2e*-0x44+-0x1*0x2631+0xcfe*0x2)+(-0xd92+-0x8ca+0x165e)]=_0x66d33c[_0x570d27+_0x4ae74c*(-0x1c13+0x1*0xa7e+-0x39*-0x4f)][_0x40211d];let _0x2cceb7=_0x5043b2[-0x1*-0x123a+0x1aa7+0x2ce1*-0x1];for(let _0x3e1ca6=-0xae+-0x1c20+0x1ccf;_0x3e1ca6<_0x4ae74c*(0xde6*-0x1+-0x2614+-0x33fd*-0x1);++_0x3e1ca6)_0x2cceb7=Math['max'](_0x2cceb7,Math['abs'](_0x5043b2[_0x3e1ca6]));if(_0x2cceb7!==-0xd3d+-0x1175+-0x2*-0xf59){for(let _0x47c7b2=-0x1e57+0x90*0xf+0x15e7*0x1;_0x47c7b2<_0x4ae74c;++_0x47c7b2)_0x5043b2[_0x47c7b2*(-0x153d+-0x25af+0x6b*0x8d)+(-0x1455+-0xcc0+0x3*0xb07)]=Math['max'](-0x12f4+-0x1*0x26ba+0x39ae,Math['min'](_0x183b3c,Math['floor']((_0x5043b2[_0x47c7b2*(-0x2*0xf95+0x23*-0x6d+0x3d7*0xc)+(-0x45d+-0x5b3+-0x7*-0x170)]/_0x2cceb7*(0x7ae+-0x661+0x6f*-0x3+0.5)+(0x1686+0x1*0x22a5+-0x392b+0.5))*_0x183b3c+(0x1724+0x1*0x26cc+-0x3df0+0.5)))),_0x5043b2[_0x47c7b2*(-0x35*-0x10+0x2*0x113f+-0x81*0x4b)+(0x8*0x179+0x8*-0x51+-0x93f)]=Math['max'](-0x203d+-0x1*-0x7b7+0x92*0x2b,Math['min'](_0x39f367,Math['floor']((_0x5043b2[_0x47c7b2*(0xc27+-0xa*0x281+0xce6)+(-0x1808+0x11c+0x16ed)]/_0x2cceb7*(-0x632+0x59*0x35+-0xc3b+0.5)+(-0x8d1*0x1+-0x1*0xc61+0x1*0x1532+0.5))*_0x39f367+(-0x625*0x4+0x1*-0x248a+-0x2*-0x1e8f+0.5)))),_0x5043b2[_0x47c7b2*(-0x8d1+-0x1d9*0x1+-0xaad*-0x1)+(0x588*0x3+0x9f3+-0x1a89*0x1)]=Math['max'](-0xcd*0x11+0x89+0x5d*0x24,Math['min'](_0x183b3c,Math['floor']((_0x5043b2[_0x47c7b2*(0x270+0x9a+-0x307)+(-0x17fd+-0x20e8+0x7*0x821)]/_0x2cceb7*(0x26d1+-0x241+-0x2490+0.5)+(0x8ba+0x1388+-0x2*0xe21+0.5))*_0x183b3c+(0x1981*-0x1+-0x2*0xad+0x1adb+0.5))));_0x1bce4b[-0x1159*0x1+-0x260d+-0x2*-0x1bb3]=_0x2cceb7,_0x56a97b[_0x40211d*(-0x27*0xa3+-0x9*0x366+0x376f)+(0x1f*-0x9b+0x16f7*-0x1+0x29bc)]=_0x5298f9[0x1*-0x6bd+0x2600+0x1*-0x1f43],_0x56a97b[_0x40211d*(-0x4d0+0xb5c+-0x688)+(0x6a*-0x1+0x228e+-0x2223)]=_0x5043b2[0x1*-0x292+-0x2471+0x2703]<<0xe*-0xc5+-0x25d2+0x30ad|_0x5043b2[-0x1*-0xd42+-0x13e*0x10+0x69f]<<0x13e2+0x1*-0xca9+-0x72e|_0x5043b2[0x20aa+0x22da*0x1+0x2*-0x21c1],_0x56a97b[_0x40211d*(0x21fa*0x1+0x21cf+-0x43c5)+(0x125*-0x1a+0x266*0x3+0x1692)]=_0x5043b2[0x6*-0xe9+0x1340+-0xdc7]<<-0x9*0x337+0x1f40+-0x23c|_0x5043b2[0x677+0x10c6+-0x1739]<<-0x25*-0x41+0x290+0x7a*-0x19|_0x5043b2[-0xaba+0x1*-0xbb1+0x1*0x1670],_0x56a97b[_0x40211d*(-0x1761+-0x1b09+0x1*0x326e)+(0xdd4+0x1f28+0x2cf9*-0x1)]=_0x5043b2[0xb*-0x19c+-0x1c12+0x2dcc]<<0x4*-0x347+-0x2382+-0x7*-0x6f5|_0x5043b2[0x51c+0x143+0x8*-0xcb]<<-0x4*0x20b+0x1409+-0x1*0xbd2|_0x5043b2[-0x1191*-0x2+-0x6*0x165+-0x1abc*0x1],_0x52dfe8>-0x1d7b+0x25ff*0x1+0x883*-0x1&&(_0x2212f2[_0x40211d*(0x2086*0x1+0x2f*0x2e+-0x28f4)+(0x217+-0x1*-0x21dd+-0x23f4)]=_0x5043b2[-0xe*-0x2a6+0x1cda+-0x3*0x15f7]<<-0x17c5+-0x1be8+0x5*0xa5a|_0x5043b2[-0xc5*-0x2+-0x1999+0x1819]<<0x878+0x23d0+-0x2c3d|_0x5043b2[0xb8d*0x1+-0x3*-0x85a+-0x75*0x50],_0x2212f2[_0x40211d*(0x1d7d+-0x26d5+0x95c)+(0x17f6+0x584+0x1d79*-0x1)]=_0x5043b2[0x5*0x5a8+0x14dd+-0x3119*0x1]<<-0x1f3b+0x1539+0xa17|_0x5043b2[-0x1*-0x11e7+-0x1ff3+0x1*0xe19]<<-0x20f4+-0x22d4+0x43d3|_0x5043b2[-0x107*0x10+-0x3e4+0x1*0x1462],_0x2212f2[_0x40211d*(-0xc0f+-0x2*0x905+0x1e1d)+(-0x15ba+0x1f85+-0x9c9)]=_0x5043b2[0xc08+-0x37d*-0x1+-0x7bb*0x2]<<-0x2217+0xe80*-0x1+0x30ac|_0x5043b2[-0x1*0x70c+-0x1e3c+0x2558]<<-0x9ea+-0x2459*-0x1+-0x4*0x699|_0x5043b2[-0x1*0x179b+0x1298+0x514],_0x2212f2[_0x40211d*(0x264+-0xdf0+0xb90)+(-0xfaf+-0x4*0x2f0+0x926*0x3)]=_0x5043b2[0x1c4c+-0x10*0xf5+0x72*-0x1d]<<-0x14*0x1f+-0x150f+0x1790|_0x5043b2[-0x2*0xd8d+-0x1676+0x31a3]<<0x134e+0xc7*-0x13+-0x32*0x17|_0x5043b2[0x142e+0xf7*-0xc+-0x886],_0x52dfe8>0x84*-0x17+-0xc2+0xca0?(_0x9f5464[_0x40211d*(-0x1e10+-0x1*-0x8fb+0x1519)+(0x14f6*-0x1+0x1402+0xf4)]=_0x5043b2[0x75*-0x23+-0xdb7+-0x1*-0x1dcb]<<-0x1*-0x1dc5+0xc*0x2c5+0xfbb*-0x4|_0x5043b2[0x1*0x208f+-0x1b90+-0x1a3*0x3]<<0xedf+-0x7*-0x470+-0x2de4|_0x5043b2[-0x2*-0x52a+0xbb7*-0x3+0xc74*0x2],_0x9f5464[_0x40211d*(-0x74f+0x7dd+-0x8a)+(0x1d2a*0x1+0x206d+-0x3d96)]=_0x5043b2[0x1157*0x1+0x1b6f+0x1*-0x2cae]<<0x1*0x743+0x868+-0x31e*0x5|_0x5043b2[-0x128e*0x2+-0x2*-0x371+0x1e53]<<-0x93f+0x4b2+0x498|_0x5043b2[-0xc9a+-0xb9c+0x8*0x30a],_0x9f5464[_0x40211d*(0x2da*0x2+-0x36d*0x7+0x124b)+(-0xb0e+0x1445+-0x935)]=_0x5043b2[-0xa8b*-0x3+-0xb*0x2fe+0x164]<<0x11c+-0x117c+0x1075|_0x5043b2[0x9*0xdf+-0x1c63+-0x295*-0x8]<<0x24a+0x11e*-0x10+0xfa1|_0x5043b2[0x11cf*0x2+0xb41+-0x2ec2],_0x9f5464[_0x40211d*(-0x20ea+-0x1b7*-0xd+0xaa3)+(-0x5be+-0x1*-0x1955+-0x1394)]=_0x5043b2[-0x35*0x54+-0x2*-0x298+0xc52]<<0x6a3+-0x5ca+0x1*-0xc4|_0x5043b2[-0x1*0x106d+0x2*-0xf0d+0x2ea6]<<-0x1a46+0x147a+-0x5*-0x12b|_0x5043b2[-0x1132+0x1ff7+0x1*-0xea5],_0xf6619f[_0x40211d*(-0x3fe+0xb0*0x6+-0x1e)+(0x1*-0x1aa8+-0x136c+0x2e14)]=_0x5043b2[-0x766+-0x15ee+0x1*0x1d75]<<-0x2c9+0x4c7+-0xa3*0x3|_0x5043b2[-0x1ac0+-0x674+0x2156]<<-0x6d4+-0xb0*-0x1+0x62f|_0x5043b2[0x1a2f+0x1f*0x75+-0x2837],_0xf6619f[_0x40211d*(-0x2425+-0x1bd6+0x3fff)+(-0xcb5*0x1+-0xb4c+0x1*0x1802)]=_0x5043b2[0x56f+-0x944*-0x3+-0x2117*0x1]<<0x8e4+-0x3f*0x10+-0x4df|_0x5043b2[-0x1608+0x276+-0x2d1*-0x7]<<0xb75+0x1f77+-0x2ae1|_0x5043b2[-0x23a2+-0x1*0x24f+0x2617],_0xf6619f[_0x40211d*(0x2278+0x1*-0xc25+0x1*-0x164f)+(-0x7c1*-0x3+-0x6a1*0x1+-0x10a0)]=_0x5043b2[-0x12d7+0xf4b+0x3b3]<<0xd00*-0x3+-0x2067+0x32*0x16e|_0x5043b2[-0x1*0x1585+-0xfc5*-0x1+0x15*0x48]<<-0x83b+-0x2571+-0x2f*-0xf9|_0x5043b2[-0x181d*-0x1+-0x3*0xcdc+0xea0],_0xf6619f[_0x40211d*(0x1a5b+0x24b5+0xc9c*-0x5)+(-0x11*-0xb9+0x29f+-0xee5)]=_0x5043b2[-0x1315+0x1b9b+-0x85c]<<0x1f9e+-0x1*-0x8f5+-0x287e|_0x5043b2[0x1*0xbbb+0xb66*-0x1+-0x2a]<<-0x5*-0x2f0+0x1cb8+-0x2b5d|_0x5043b2[0xd1f+0x20fb*0x1+-0x2*0x16f7]):_0x9f5464[_0x40211d]=_0x5043b2[0x1*-0xfd3+0x2*0x44a+0x754]<<-0x14a9+0x1b6f+-0x6b1|_0x5043b2[0x151+-0xa3d*-0x3+0x1*-0x1ff2]<<-0x1b0f+-0x243f+0x3f59|_0x5043b2[0x23f3*0x1+-0x112+-0x22ca]);}}self['postMessag'+'e']({'type':'updatedSHD'+'ata1','data':{'sh1to3Data':_0x56a97b,'sh4to7Data':_0x2212f2,'sh8to11Data':_0x9f5464,'sh12to15Data':_0xf6619f}},[_0x56a97b['buffer'],_0x2212f2['buffer'],_0x9f5464['buffer'],_0xf6619f['buffer']]);},_0x293a37=()=>{_0x388034=null,_0x25c548=null,_0x11a128=null,_0x120aca=null,_0xbeb9f9=null,_0x2efbf4=null,_0x29ff40=null,_0x11e1e7=null;};}class AC extends me{constructor(){super(),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+bC['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'})));}['workerMess'+'ageFn'](_0x9cccd2,_0x69bd20,_0x3209a9){_0x9cccd2['onmessage']=_0x16d0d0=>{if(!this['worker'])return;const {data:_0x50bab4}=_0x16d0d0;if(_0x50bab4['type']===_0x69bd20)switch(_0x69bd20){case'updatedSHD'+'ata1':_0x3209a9(_0x50bab4['data']);break;case'updatedCol'+'orData':_0x3209a9(_0x50bab4['data']);break;case'updatedTra'+'nsformData':_0x3209a9(_0x50bab4);break;}};}['updateSHDa'+'ta1'](_0x1f3253,_0x5c1482,_0x5b5f08){var _0x4de274;return(_0x4de274=this['worker'])==null||_0x4de274['postMessag'+'e']({'type':'updateSHDa'+'ta1','numSplats':_0x1f3253,'shBands':_0x5c1482,'SHData':_0x5b5f08}),new Promise(_0x1a7ca4=>{this['workerMess'+'ageFn'](this['worker'],'updatedSHD'+'ata1',_0x5c88fb=>{_0x1a7ca4(_0x5c88fb);});});}async['updateTran'+'sData'](_0x6be8bd,_0x53f14b,_0x24b929,_0x54ca6e,_0xb91a0,_0x3a644b,_0x38f0f7,_0xcd2e92){var _0x44d898;return(_0x44d898=this['worker'])==null||_0x44d898['postMessag'+'e']({'type':'updateTran'+'sformData','numSplats':_0x6be8bd,'is4D':_0x53f14b,'position':_0x24b929,'rotation':_0x54ca6e,'motion':_0xb91a0,'scale':_0x3a644b,'muT':_0x38f0f7,'tScale':_0xcd2e92}),new Promise(_0x4d7d26=>{const _0x5aeea5=_0x501866=>{_0x4d7d26(_0x501866);};this['workerMess'+'ageFn'](this['worker'],'updatedTra'+'nsformData',_0x5aeea5);});}['destroy'](){var _0x4ac109;this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),(_0x4ac109=this['worker'])==null||_0x4ac109['terminate'](),this['worker']=null);}}const xg=(_0x34dbe1,_0x303a8c)=>{const _0x9594d=[];for(let _0xedb8a1=0x128f*0x1+0x8*0x371+0x201*-0x17;_0xedb8a1<_0x303a8c;++_0xedb8a1)_0x9594d['push'](_0x34dbe1['getProp']('f_rest_'+_0xedb8a1));return _0x9594d;};class CC extends Rv{constructor(_0x7e44ce,_0x34a8df){super(_0x7e44ce,_0x34a8df),h(this,'timeOption'),h(this,'appendQueu'+'e',[]),h(this,'isProcessi'+'ngQueue',!(0x1b6+-0x1524+-0xc7*-0x19)),h(this,'muT'),h(this,'tScale'),h(this,'motion'),h(this,'timeIndex'),h(this,'colorTextu'+'re'),h(this,'transformA'+'Texture'),h(this,'transformB'+'Texture'),h(this,'transformR'+'Texture'),h(this,'transformM'+'otionTextu'+'re'),h(this,'transformL'+'ifecycleTe'+'xture'),h(this,'colorTextu'+'re2'),h(this,'transformA'+'Texture2'),h(this,'transformB'+'Texture2'),h(this,'transformR'+'Texture2'),h(this,'transformM'+'otionTextu'+'re2'),h(this,'transformL'+'ifecycleTe'+'xture2'),h(this,'is4D'),h(this,'shBands'),h(this,'sh1to3Text'+'ure'),h(this,'sh4to7Text'+'ure'),h(this,'sh8to11Tex'+'ture'),h(this,'sh12to15Te'+'xture'),h(this,'sh1to3Text'+'ure2'),h(this,'sh4to7Text'+'ure2'),h(this,'sh8to11Tex'+'ture2'),h(this,'sh12to15Te'+'xture2'),h(this,'updateData'+'Worker'),(this['updateData'+'Worker']=new AC(),this['assetsMana'+'gerLoadedT'+'ime']=-0x20fb*0x1+0x49*0xa+0x1e26);}['setSceneIn'+'fo'](_0x2fe120){this['sceneInfo']['duration']=_0x2fe120['duration'],this['sceneInfo']['fps']=_0x2fe120['fps'],this['sceneInfo']['totalGauss'+'ians']=_0x2fe120['totalGauss'+'ians'],this['sceneInfo']['globalBoun'+'dingBoxMin']=new D(_0x2fe120['globalBoun'+'dingBox']['min'][0xb6c+0x1*0xac1+0x7*-0x32b],_0x2fe120['globalBoun'+'dingBox']['min'][-0xa05+-0x1a56+0x245c],_0x2fe120['globalBoun'+'dingBox']['min'][0x9aa*0x1+0x149d+-0x1e45*0x1]),this['sceneInfo']['globalBoun'+'dingBoxMax']=new D(_0x2fe120['globalBoun'+'dingBox']['max'][-0x1*0x2597+-0x76a+0x2d01],_0x2fe120['globalBoun'+'dingBox']['max'][-0x965*0x1+-0xe9*-0x29+-0x1beb],_0x2fe120['globalBoun'+'dingBox']['max'][0x19a+0x277*-0x5+0x29*0x43]);const _0x348669=_0x2fe120['globalBoun'+'dingBox']['min'][-0x25c4+0x12c9*0x2+0xa*0x5],_0x125b69=_0x2fe120['globalBoun'+'dingBox']['min'][-0x1dad*-0x1+0x431*0x4+-0x2e70],_0x5ded6e=_0x2fe120['globalBoun'+'dingBox']['min'][0x242c+0x441+0x286b*-0x1],_0x47a012=_0x2fe120['globalBoun'+'dingBox']['max'][-0x23a2+-0xa26+-0xb72*-0x4],_0x26298f=_0x2fe120['globalBoun'+'dingBox']['max'][-0xac*-0x24+0x10ff+-0x292e],_0x47c264=_0x2fe120['globalBoun'+'dingBox']['max'][-0xb*-0x77+-0xc7*-0x2f+-0x29a4],_0x3b9673=new D((_0x348669+_0x47a012)*(-0x1*0x8d2+0x2*0x11f1+-0x1b10+0.5),(_0x125b69+_0x26298f)*(-0x2*0x10a9+0x7c2+0x8*0x332+0.5),(_0x5ded6e+_0x47c264)*(-0x167d*0x1+-0xb0f+-0x218c*-0x1+0.5)),_0x33ebe3=new D((_0x47a012-_0x348669)*(-0x4c*0x15+0xe88+-0x3*0x2c4+0.5),(_0x26298f-_0x125b69)*(-0x4e+-0x3*-0x9ed+0x1*-0x1d79+0.5),(_0x47c264-_0x5ded6e)*(-0x15*0x10a+-0x1*0x2131+0x3703+0.5)),_0x235cc3=new De(_0x3b9673,_0x33ebe3);this['sceneInfo']['globalBoun'+'dingBox']=_0x235cc3,this['aabb']=_0x235cc3;}async['updateData'](){var _0x51407c,_0x174f2d,_0x526f1a,_0x3ae323,_0x240006,_0x1664cd,_0x1959ba,_0x988602,_0x430ef6,_0x3f9775,_0x413721;await super['updateData']();const _0x250913=this['gsplatData'];if(!_0x250913)return;this['is4D']=_0x250913['is4D'];const _0x5ca0fb=await this['getTransfo'+'rmDataByWo'+'rker'](_0x250913);this['mesh']['aabb']['copy'](this['aabb']),this['centers']=_0x5ca0fb['centers'],this['motion']=_0x5ca0fb['motion'],this['tScale']=_0x5ca0fb['tScaleArra'+'y'],this['muT']=await _0x250913['getMuT'](),this['timeIndex']=await _0x250913['getTimeInd'+'ex']();const _0x2700c7=this['evalTextur'+'eSize'](_0x250913['numSplats']);this['colorTextu'+'re']?((_0x51407c=this['colorTextu'+'re2'])==null||_0x51407c['destroy'](),(_0x174f2d=this['transformA'+'Texture2'])==null||_0x174f2d['destroy'](),(_0x526f1a=this['transformB'+'Texture2'])==null||_0x526f1a['destroy'](),(_0x3ae323=this['transformR'+'Texture2'])==null||_0x3ae323['destroy'](),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x2700c7),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x2700c7),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x2700c7),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x2700c7),this['is4D']&&((_0x240006=this['transformM'+'otionTextu'+'re2'])==null||_0x240006['destroy'](),(_0x1664cd=this['transformL'+'ifecycleTe'+'xture2'])==null||_0x1664cd['destroy'](),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x2700c7),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x2700c7))):(this['colorTextu'+'re']=this['createText'+'ure']('splatColor',nt,_0x2700c7),this['colorTextu'+'re2']=this['createText'+'ure']('splatColor'+'2',nt,_0x2700c7),this['transformA'+'Texture']=this['createText'+'ure']('transformA',Ye,_0x2700c7),this['transformA'+'Texture2']=this['createText'+'ure']('transformA'+'2',Ye,_0x2700c7),this['transformB'+'Texture']=this['createText'+'ure']('transformB',ui,_0x2700c7),this['transformB'+'Texture2']=this['createText'+'ure']('transformB'+'2',ui,_0x2700c7),this['transformR'+'Texture']=this['createText'+'ure']('transformR',Ye,_0x2700c7),this['transformR'+'Texture2']=this['createText'+'ure']('transformR'+'2',Ye,_0x2700c7),this['is4D']&&(this['transformM'+'otionTextu'+'re']=this['createText'+'ure']('transformM'+'otion',Ye,_0x2700c7),this['transformM'+'otionTextu'+'re2']=this['createText'+'ure']('transformM'+'otion2',Ye,_0x2700c7),this['transformL'+'ifecycleTe'+'xture']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture',Ye,_0x2700c7),this['transformL'+'ifecycleTe'+'xture2']=this['createText'+'ure']('transformL'+'ifecycleTe'+'xture2',Ye,_0x2700c7))),await this['updateColo'+'rData'](_0x250913),await this['updateTran'+'sformFromD'+'ata'](_0x5ca0fb),this['shBands']=_0x250913['shBands'],this['shBands']>-0xd70+0x1*0x2432+-0x16c2&&(this['sh1to3Text'+'ure']?((_0x1959ba=this['sh1to3Text'+'ure2'])==null||_0x1959ba['destroy'](),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x2700c7),this['shBands']>0x60b+-0x1*-0xbdf+-0x11e9&&((_0x988602=this['sh4to7Text'+'ure2'])==null||_0x988602['destroy'](),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x2700c7),this['shBands']>0x272+0x215f*0x1+0x59*-0x67?((_0x430ef6=this['sh8to11Tex'+'ture2'])==null||_0x430ef6['destroy'](),(_0x3f9775=this['sh12to15Te'+'xture2'])==null||_0x3f9775['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x2700c7),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x2700c7)):((_0x413721=this['sh8to11Tex'+'ture2'])==null||_0x413721['destroy'](),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x2700c7)))):(this['sh1to3Text'+'ure']=this['createText'+'ure']('splatSH_1t'+'o3',Ue,_0x2700c7),this['sh1to3Text'+'ure2']=this['createText'+'ure']('splatSH_1t'+'o32',Ue,_0x2700c7),this['shBands']>-0x235*0xe+0x221a+0xd*-0x3f&&(this['sh4to7Text'+'ure']=this['createText'+'ure']('splatSH_4t'+'o7',Ue,_0x2700c7),this['sh4to7Text'+'ure2']=this['createText'+'ure']('splatSH_4t'+'o72',Ue,_0x2700c7),this['shBands']>-0x152b*0x1+0xfdf+0x61*0xe?(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ue,_0x2700c7),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ue,_0x2700c7),this['sh12to15Te'+'xture']=this['createText'+'ure']('splatSH_12'+'to15',Ue,_0x2700c7),this['sh12to15Te'+'xture2']=this['createText'+'ure']('splatSH_12'+'to152',Ue,_0x2700c7)):(this['sh8to11Tex'+'ture']=this['createText'+'ure']('splatSH_8t'+'o11',Ki,_0x2700c7),this['sh8to11Tex'+'ture2']=this['createText'+'ure']('splatSH_8t'+'o112',Ki,_0x2700c7)))),await this['updateSHDa'+'taByWorker'](_0x250913));}['updateText'+'ure'](){this['isDestroye'+'d']||(super['updateText'+'ure'](),[this['colorTextu'+'re'],this['colorTextu'+'re2']]=[this['colorTextu'+'re2'],this['colorTextu'+'re']],[this['transformA'+'Texture'],this['transformA'+'Texture2']]=[this['transformA'+'Texture2'],this['transformA'+'Texture']],[this['transformB'+'Texture'],this['transformB'+'Texture2']]=[this['transformB'+'Texture2'],this['transformB'+'Texture']],[this['transformR'+'Texture'],this['transformR'+'Texture2']]=[this['transformR'+'Texture2'],this['transformR'+'Texture']],this['is4D']&&([this['transformM'+'otionTextu'+'re'],this['transformM'+'otionTextu'+'re2']]=[this['transformM'+'otionTextu'+'re2'],this['transformM'+'otionTextu'+'re']],[this['transformL'+'ifecycleTe'+'xture'],this['transformL'+'ifecycleTe'+'xture2']]=[this['transformL'+'ifecycleTe'+'xture2'],this['transformL'+'ifecycleTe'+'xture']]),[this['sh1to3Text'+'ure'],this['sh1to3Text'+'ure2']]=[this['sh1to3Text'+'ure2'],this['sh1to3Text'+'ure']],[this['sh4to7Text'+'ure'],this['sh4to7Text'+'ure2']]=[this['sh4to7Text'+'ure2'],this['sh4to7Text'+'ure']],[this['sh8to11Tex'+'ture'],this['sh8to11Tex'+'ture2']]=[this['sh8to11Tex'+'ture2'],this['sh8to11Tex'+'ture']],[this['sh12to15Te'+'xture'],this['sh12to15Te'+'xture2']]=[this['sh12to15Te'+'xture2'],this['sh12to15Te'+'xture']]);}['releaseGSp'+'latResourc'+'e'](_0x359163){this['appendQueu'+'e']['push']({'type':'release','taskId':new Date()['getTime'](),'data':{'index':_0x359163}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['releaseAll'+'GSplatReso'+'urce'](){this['isDestroye'+'d']||(this['appendQueu'+'e']=[],await this['gsplatData']['releaseAll'+'SeqData']());}['appendGSpl'+'atResource'](_0x2b977f,_0x34557b,_0x583267,_0x1b98d9,_0x49d2d9,_0x3cf3e1){this['appendQueu'+'e']['push']({'type':'append','taskId':new Date()['getTime'](),'data':{'gsplatData':_0x2b977f,'timeOption':_0x34557b,'loadedTime':_0x583267,'asset':_0x1b98d9,'events':_0x49d2d9,'seekCB':_0x3cf3e1}}),this['isProcessi'+'ngQueue']||Promise['resolve']()['then'](()=>this['processQue'+'ue']());}async['processQue'+'ue'](){if(!this['isProcessi'+'ngQueue']){this['isProcessi'+'ngQueue']=!(0x1f8f+-0x79*0x49+-0x3a*-0xd);try{for(;this['appendQueu'+'e']['length']>0x5*-0x10c+0x943+0x407*-0x1;){const _0x194321=this['appendQueu'+'e']['shift']();_0x194321['type']==='append'?await this['processApp'+'endTask'](_0x194321['data']):_0x194321['type']==='release'&&await this['processRel'+'easeTask'](_0x194321['data']);}}finally{this['isProcessi'+'ngQueue']=!(-0x1*-0x1fa5+0x479+-0xd7*0x2b);}}}async['processRel'+'easeTask'](_0x510d4d){const {index:_0x322ffe}=_0x510d4d;this['isDestroye'+'d']||await this['gsplatData']['releaseSeq'+'Data'](_0x322ffe);}async['processApp'+'endTask'](_0x46688d){var _0x27bbd5;const {gsplatData:_0x3effe4,timeOption:_0x605b35,loadedTime:_0x34c35d,asset:_0x3172c5,events:_0x35b098,seekCB:_0x411a1a}=_0x46688d;!this['gsplatData']||this['isDestroye'+'d']||(globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),console['log']('loadTime__'+'__','----------'+'----------'+'---'),this['timeOption']=_0x605b35,this['asset']=_0x3172c5,this['assetsMana'+'gerLoadedT'+'ime']=_0x34c35d,this['events']=_0x35b098,await this['gsplatData']['appendGSpl'+'atData'](_0x3effe4,_0x34c35d,_0x605b35),console['log']('loadTime__'+'__','gsplatDeco'+'dedResourc'+'e\x20gsplatDa'+'ta.appendG'+'SplatData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x5ec*-0x4+-0x20a6+0x8f8),_0x3effe4['numSplats'],((performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])/_0x3effe4['numSplats'])['toFixed'](-0xa6f*0x1+-0xbe6+-0x4*-0x596)),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await this['updateData'](),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20this.upd'+'ateData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](0x203a+-0x481+-0x1bb7),_0x3effe4['numSplats']),globalThis['appendGSpl'+'atResource'+'StartTime']=performance['now'](),await((_0x27bbd5=this['gsplatInst'+'ance'])==null?void(-0x2*-0x73d+-0x1*-0x164b+0x1*-0x24c5):_0x27bbd5['updateInst'+'anceData'](this,_0x34c35d,_0x411a1a)),console['log']('loadTime__'+'__','GSplatDeco'+'dedResourc'+'e\x20updateIn'+'stanceData',(performance['now']()-globalThis['appendGSpl'+'atResource'+'StartTime'])['toFixed'](-0x648+0x1757+-0x110d),_0x3effe4['numSplats']));}['fireAssets'+'ManagerTim'+'eIndex'](_0x399e8b,_0x96b33a){var _0x439cfc;const _0x29f058=_0x399e8b||this['assetsMana'+'gerLoadedT'+'ime'];(_0x439cfc=this['asset'])==null||_0x439cfc['fire']('setAssetsL'+'oaded',_0x29f058,_0x96b33a);}['destroy'](){var _0x15fea5,_0x36dfde,_0x544209,_0x13e5ad,_0x1b5a4c,_0x1464da,_0x347b3f,_0x51497b,_0x84a731,_0x56e1ee,_0x5e296a,_0x2d2640,_0x434432,_0x21b913,_0x304f55,_0x58fa60,_0xb1e83a,_0x2997ff,_0x4d691f,_0x422727,_0x510963;(_0x15fea5=this['updateData'+'Worker'])==null||_0x15fea5['destroy'](),this['updateData'+'Worker']=void(-0x9*0xf1+-0xbb6*0x1+-0x142f*-0x1),(_0x36dfde=this['colorTextu'+'re'])==null||_0x36dfde['destroy'](),(_0x544209=this['transformA'+'Texture'])==null||_0x544209['destroy'](),(_0x13e5ad=this['transformB'+'Texture'])==null||_0x13e5ad['destroy'](),(_0x1b5a4c=this['transformR'+'Texture'])==null||_0x1b5a4c['destroy'](),(_0x1464da=this['transformM'+'otionTextu'+'re'])==null||_0x1464da['destroy'](),(_0x347b3f=this['transformL'+'ifecycleTe'+'xture'])==null||_0x347b3f['destroy'](),(_0x51497b=this['sh1to3Text'+'ure'])==null||_0x51497b['destroy'](),(_0x84a731=this['sh4to7Text'+'ure'])==null||_0x84a731['destroy'](),(_0x56e1ee=this['sh8to11Tex'+'ture'])==null||_0x56e1ee['destroy'](),(_0x5e296a=this['sh12to15Te'+'xture'])==null||_0x5e296a['destroy'](),(_0x2d2640=this['colorTextu'+'re2'])==null||_0x2d2640['destroy'](),(_0x434432=this['transformA'+'Texture2'])==null||_0x434432['destroy'](),(_0x21b913=this['transformB'+'Texture2'])==null||_0x21b913['destroy'](),(_0x304f55=this['transformR'+'Texture2'])==null||_0x304f55['destroy'](),(_0x58fa60=this['transformM'+'otionTextu'+'re2'])==null||_0x58fa60['destroy'](),(_0xb1e83a=this['transformL'+'ifecycleTe'+'xture2'])==null||_0xb1e83a['destroy'](),(_0x2997ff=this['sh1to3Text'+'ure2'])==null||_0x2997ff['destroy'](),(_0x4d691f=this['sh4to7Text'+'ure2'])==null||_0x4d691f['destroy'](),(_0x422727=this['sh8to11Tex'+'ture2'])==null||_0x422727['destroy'](),(_0x510963=this['sh12to15Te'+'xture2'])==null||_0x510963['destroy'](),this['releaseAll'+'GSplatReso'+'urce'](),super['destroy'](),this['aabb']=null,this['centers']=null,this['motion']=null,this['tScale']=null,this['muT']=null,this['timeIndex']=null,this['shBands']=null;}['configureM'+'aterial'](_0x100502){var _0xa6730f,_0x26492a,_0x20f2b7,_0x447057,_0x500062,_0x16f336,_0x2fbbec,_0x526b8c,_0x412de7,_0x255cf1,_0x3387cd,_0x58c680,_0x49471a;if(console['log']('======\x20ENG'+'INE\x20IVAN','GSplat.con'+'figureMate'+'rial'),this['isDestroye'+'d'])return;const _0x59e748=((_0xa6730f=_0x100502['getParamet'+'er']('pointCloud'+'ModeEnable'+'d'))==null?void(-0x1817*0x1+-0x2438+0x3c4f):_0xa6730f['data'])??0x468+-0xba1*-0x1+-0x1009,_0x81b364=((_0x26492a=_0x100502['getParamet'+'er']('uSplatScal'+'e'))==null?void(0x915+0x1*0x1e07+-0x271c):_0x26492a['data'])??-0xaa1*-0x3+0x4f*0x43+0x17*-0x249,_0x4be3ac=((_0x20f2b7=_0x100502['getParamet'+'er']('uSaturatio'+'n'))==null?void(-0x2*0x4b5+0x130d*-0x1+0x1c77):_0x20f2b7['data'])??-0x10d7+0x345*0x1+-0x1*-0xd93,_0x56c2ba=((_0x447057=_0x100502['getParamet'+'er']('uHueOffset'))==null?void(-0x13f5+0x6b*-0x17+0x1d92):_0x447057['data'])??-0x2*-0xbda+-0x2*-0x380+-0x1eb4,_0x2c9bb5=((_0x500062=_0x100502['getParamet'+'er']('uInvertOpa'+'city'))==null?void(0x7*-0x187+-0x5f7*-0x3+-0x734):_0x500062['data'])??0x1f2b+-0x2*-0x7b7+-0x2e99,_0x29aa49=((_0x16f336=_0x100502['getParamet'+'er']('uOpacity'))==null?void(0x1677+0x6*-0x6e+-0x1*0x13e3):_0x16f336['data'])??0x211+-0x23eb+0x9*0x3c3,_0xb4f89=((_0x2fbbec=_0x100502['getParamet'+'er']('clrOffset'))==null?void(0xc04+0x3*-0x515+-0x33b*-0x1):_0x2fbbec['data'])??[-0x163*0xb+0x13cb+-0x48a,0x1589+0x9c+-0x1625,-0x1740+-0x1*-0x1ad5+-0x1*0x395,0x3*0x100+0x19f6+-0x1*0x1cf5],_0x437e4a=((_0x526b8c=_0x100502['getParamet'+'er']('clrScale'))==null?void(0x6ac+-0xcb*-0x2b+-0x28c5*0x1):_0x526b8c['data'])??[-0xf44+0x11f*0x5+0x9aa,-0x2cf*0x2+-0x210+0x7af,-0x3*-0x4e3+-0x1dbe+-0x1*-0xf16,0x1363+-0x1129*-0x2+0x4*-0xd6d],_0x5dceee=((_0x412de7=_0x100502['getParamet'+'er']('uShapeN'))==null?void(0x1ab*0xf+0xee3*0x2+-0xd*0x437):_0x412de7['data'])??-0x108c+0x3*0xb3+0xe73,_0x55e827=((_0x255cf1=_0x100502['getParamet'+'er']('mode'))==null?void(0xdc6+0x6*-0x595+-0x4ee*-0x4):_0x255cf1['data'])??0x1da+-0x1a12+-0xf8*-0x19,_0x4d4500=((_0x3387cd=_0x100502['getParamet'+'er']('ringSize'))==null?void(-0x16a8+0x1f*-0x44+-0x2*-0xf72):_0x3387cd['data'])??-0x61*0x25+-0xf5e+0x1d63,_0x399687=((_0x58c680=_0x100502['defines'])==null?void(0x4bb+0x1*-0xa99+0x5de*0x1):_0x58c680['get']('uOpenAnim'))??'0',_0x8a14d7=((_0x49471a=_0x100502['defines'])==null?void(0x2494+0xd08*0x2+-0x26*0x1a6):_0x49471a['get']('uControlCo'+'lorMode'))??'0';_0x100502['setParamet'+'er']('splatColor',this['colorTextu'+'re']),_0x100502['setParamet'+'er']('transformA',this['transformA'+'Texture']),_0x100502['setParamet'+'er']('transformB',this['transformB'+'Texture']),_0x100502['setParamet'+'er']('transformR',this['transformR'+'Texture']),_0x100502['setParamet'+'er']('uSplatScal'+'e',_0x81b364),_0x100502['setParamet'+'er']('pointCloud'+'ModeEnable'+'d',_0x59e748),_0x100502['setParamet'+'er']('uSaturatio'+'n',_0x4be3ac),_0x100502['setParamet'+'er']('uHueOffset',_0x56c2ba),_0x100502['setParamet'+'er']('uInvertOpa'+'city',_0x2c9bb5),_0x100502['setParamet'+'er']('uOpacity',_0x29aa49),_0x100502['setParamet'+'er']('clrOffset',_0xb4f89),_0x100502['setParamet'+'er']('clrScale',_0x437e4a),_0x100502['setParamet'+'er']('uShapeN',_0x5dceee),_0x100502['setParamet'+'er']('mode',_0x55e827),_0x100502['setParamet'+'er']('ringSize',_0x4d4500),_0x100502['setParamet'+'er']('prerenderC'+'Time',0x224d+0x1*-0x56c+-0x1ce1),_0x100502['setParamet'+'er']('renderSpac'+'e',-0x22b*-0x1+-0x101a+0x31*0x49),_0x100502['setParamet'+'er']('endSpace',0x100e+-0x1aee+-0xfe*-0xb),_0x100502['setDefine']('uOpenAnim',_0x399687),_0x100502['setDefine']('uControlCo'+'lorMode',_0x8a14d7),this['transformM'+'otionTextu'+'re']&&_0x100502['setParamet'+'er']('transformM'+'otion',this['transformM'+'otionTextu'+'re']),this['transformL'+'ifecycleTe'+'xture']&&_0x100502['setParamet'+'er']('transformL'+'ifecycle',this['transformL'+'ifecycleTe'+'xture']),_0x100502['setDefine']('SH_BANDS',this['shBands']),_0x100502['setDefine']('IS_4D',this['is4D']),this['sh1to3Text'+'ure']&&_0x100502['setParamet'+'er']('splatSH_1t'+'o3',this['sh1to3Text'+'ure']),this['sh4to7Text'+'ure']&&_0x100502['setParamet'+'er']('splatSH_4t'+'o7',this['sh4to7Text'+'ure']),this['sh8to11Tex'+'ture']&&_0x100502['setParamet'+'er']('splatSH_8t'+'o11',this['sh8to11Tex'+'ture']),this['sh12to15Te'+'xture']&&_0x100502['setParamet'+'er']('splatSH_12'+'to15',this['sh12to15Te'+'xture']);}['evalTextur'+'eSize'](_0x51742e){const _0x170a7f=Math['ceil'](Math['sqrt'](_0x51742e)),_0x4dd9c8=Math['ceil'](_0x51742e/_0x170a7f);return new J(_0x170a7f,_0x4dd9c8);}async['updateColo'+'rData'](_0x1c189b){var _0x4b5527;console['log']('____\x20ENGIN'+'E\x20IVAN','updateColo'+'rData');const _0x33a498=this['colorTextu'+'re2'];if(!_0x33a498||this['isDestroye'+'d'])return;let _0x9c7ff4=(_0x4b5527=_0x1c189b['transformD'+'ata'])==null?void(-0x1969*-0x1+-0x35f+-0x160a):_0x4b5527['dataColor'];if(!_0x9c7ff4){const _0x159e12=_0x1c189b['getProp']('color_opac'+'ity');_0x9c7ff4=new Uint16Array(_0x159e12['buffer']['slice']());}await this['idleUpdate'+'TexturePro'+'mise'](_0x33a498,_0x9c7ff4);}async['getTransfo'+'rmDataByWo'+'rker'](_0x3d3714){var _0x4c0a6b;if(console['log']('____\x20ENGIN'+'E\x20IVAN','getTransfo'+'rmDataByWo'+'rker'),(_0x4c0a6b=_0x3d3714['transformD'+'ata'])!=null&&_0x4c0a6b['dataCenter'+'s'])return{'centers':_0x3d3714['transformD'+'ata']['dataCenter'+'s'],'dataPosition':_0x3d3714['transformD'+'ata']['dataPositi'+'on'],'dataScale':_0x3d3714['transformD'+'ata']['dataScale'],'dataRotation':_0x3d3714['transformD'+'ata']['dataRotati'+'on'],'dataMotion':_0x3d3714['transformD'+'ata']['dataMotion'],'dataTime':_0x3d3714['transformD'+'ata']['dataTime'],'motion':_0x3d3714['transformD'+'ata']['motion'],'tScaleArray':_0x3d3714['transformD'+'ata']['tScaleArra'+'y']};const _0x403629=_0x3d3714['getProp']('position'),_0x2f64a1=_0x3d3714['getProp']('motion'),_0x20682a=_0x3d3714['getProp']('rotation'),_0x31970f=_0x3d3714['getProp']('scale'),_0x14475f=_0x3d3714['getProp']('t'),_0x46aa2d=_0x3d3714['getProp']('t_scale');return await this['updateData'+'Worker']['updateTran'+'sData'](_0x3d3714['numSplats'],this['is4D'],_0x403629,_0x20682a,_0x2f64a1,_0x31970f,_0x14475f,_0x46aa2d);}async['updateTran'+'sformFromD'+'ata'](_0x48cdf7){console['log']('____\x20ENGIN'+'E\x20IVAN','updateTran'+'sformFromD'+'ata'),this['transformA'+'Texture2']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformA'+'Texture2'],_0x48cdf7['dataPositi'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformR'+'Texture2'],_0x48cdf7['dataRotati'+'on']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformB'+'Texture2'],_0x48cdf7['dataScale']),this['is4D']&&(await this['idleUpdate'+'TexturePro'+'mise'](this['transformM'+'otionTextu'+'re2'],_0x48cdf7['dataMotion']),await this['idleUpdate'+'TexturePro'+'mise'](this['transformL'+'ifecycleTe'+'xture2'],_0x48cdf7['dataTime'])));}async['idleUpdate'+'TexturePro'+'mise'](_0x1db11e,_0xbaf824){if(!this['isDestroye'+'d'])return new Promise(_0x56cec7=>{requestIdleCallback(()=>{const _0x31e9b6=_0x1db11e['lock']();_0x31e9b6==null||_0x31e9b6['set'](_0xbaf824),_0x1db11e['unlock'](),_0x56cec7(!(0x1581+0x1*0x1353+-0x192*0x1a));},{'timeout':0x12c});});}async['updateSHDa'+'ta'](_0x186439){var _0xaa69c2,_0x3376fb,_0x21fa23,_0x5ce8ea,_0x1f5623,_0x2075a0,_0x4e111c,_0x310d11;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'ta'),this['isDestroye'+'d'])return;const _0x13a495=(_0xaa69c2=this['sh1to3Text'+'ure2'])==null?void(-0x333+0x1d77+-0x1a44):_0xaa69c2['lock'](),_0x52b692=(_0x3376fb=this['sh4to7Text'+'ure2'])==null?void(0x4a*-0x58+0x109d+0x8d3*0x1):_0x3376fb['lock'](),_0x439f74=(_0x21fa23=this['sh8to11Tex'+'ture2'])==null?void(-0x2500+0x1e19+0x6e7):_0x21fa23['lock'](),_0x549d22=(_0x5ce8ea=this['sh12to15Te'+'xture2'])==null?void(0xd46+-0x312*0xa+-0x2e*-0x61):_0x5ce8ea['lock'](),_0x211ee0={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']],_0x3d55a4=xg(_0x186439,_0x211ee0*(-0x3e*-0x11+0x22fd+0x1*-0x2718)),_0x1ffc16=0x18da+-0x23ea+-0x11f*-0x11,_0x12881c=0x2*0xd3f+0x1d77*-0x1+0x1*0x6f8,_0x67c432=new Float32Array(-0x16f0+0x26*0xe9+-0x10f*0xb),_0x30e081=new Uint32Array(_0x67c432['buffer']),_0x4d03d7=new Array(_0x211ee0*(0x71f*-0x3+-0x17*0x67+0x1ea1))['fill'](-0x1f68+-0x1f4d*-0x1+0x1b);for(let _0x1f7921=-0x759+0x5*0x2d6+-0x3*0x247;_0x1f7921<_0x186439['numSplats'];++_0x1f7921){for(let _0x5abdd7=0x72d+-0x1*-0x1f43+-0x2670;_0x5abdd7<_0x211ee0;++_0x5abdd7)_0x4d03d7[_0x5abdd7*(-0x123*-0x19+-0x3*0x541+-0xca5)]=_0x3d55a4[_0x5abdd7][_0x1f7921],_0x4d03d7[_0x5abdd7*(0x54f+-0x4d*-0x11+-0x1*0xa69)+(0x120*-0x1e+0x2*-0x599+0x2cf3)]=_0x3d55a4[_0x5abdd7+_0x211ee0][_0x1f7921],_0x4d03d7[_0x5abdd7*(0x1*0x2582+-0x20de+-0x4a1)+(-0x101f+-0xd*0x7a+0x1653)]=_0x3d55a4[_0x5abdd7+_0x211ee0*(-0x2218+-0x1+0x221b)][_0x1f7921];let _0x1ec811=_0x4d03d7[0xcc1+0x1*-0x14c0+0x7ff];for(let _0x2bfa38=0x5*-0x443+0x1*-0x2681+0x3bd1;_0x2bfa38<_0x211ee0*(0x22b+0xb00+-0xd28);++_0x2bfa38)_0x1ec811=Math['max'](_0x1ec811,Math['abs'](_0x4d03d7[_0x2bfa38]));if(_0x1ec811!==0x1a4c+0x20*0x62+-0x268c){for(let _0xfc3f04=0x2*-0x1af+0x93c+-0x5de;_0xfc3f04<_0x211ee0;++_0xfc3f04)_0x4d03d7[_0xfc3f04*(-0x212*0x5+-0x2*0x750+0x1*0x18fd)+(0x154e+-0x16a0+0x152)]=Math['max'](-0x101e*0x1+-0x6a1*-0x3+-0x3c5*0x1,Math['min'](_0x1ffc16,Math['floor']((_0x4d03d7[_0xfc3f04*(-0x2*0xa7a+-0x14db+0x29d2)+(-0x61*-0x4f+-0x147d*-0x1+-0x734*0x7)]/_0x1ec811*(-0x2232+0x130e+-0x50c*-0x3+0.5)+(0xf03*0x1+0x1b4b*0x1+-0x876*0x5+0.5))*_0x1ffc16+(-0x2d2+-0x76*0x14+0xc0a+0.5)))),_0x4d03d7[_0xfc3f04*(0x1f*-0xc5+0x1*-0x1faf+0x378d)+(0x401+0x63*-0x5f+0x121*0x1d)]=Math['max'](0x6f*0x51+0x250*0x1+-0x256f,Math['min'](_0x12881c,Math['floor']((_0x4d03d7[_0xfc3f04*(0x77+0xb*-0x34d+0x23db)+(-0x260c+-0x5ea*0x2+0x31e1)]/_0x1ec811*(-0x1676+-0x69c+0x3d*0x7a+0.5)+(-0x121c+-0x2078+0x3294+0.5))*_0x12881c+(0x347*0x8+0x1b18*0x1+0x8*-0x6aa+0.5)))),_0x4d03d7[_0xfc3f04*(-0x24b6+-0xe1b*-0x1+0x169e)+(0x8b*0x13+0x13a7+-0x1df6)]=Math['max'](-0xcc3+-0xa*0x198+0x4f*0x5d,Math['min'](_0x1ffc16,Math['floor']((_0x4d03d7[_0xfc3f04*(0x1*-0x248f+0xb7c+0x1916)+(0x264+-0x243e+0x21dc)]/_0x1ec811*(-0x8a5+0x1972+-0xbb*0x17+0.5)+(-0xaab*-0x1+-0x1c1*-0x14+-0x2dbf+0.5))*_0x1ffc16+(-0x1*-0x1d36+-0x23*-0x4e+-0x58*0x74+0.5))));_0x67c432[0x257d+0x1fd5+0x26*-0x1d3]=_0x1ec811,_0x13a495[_0x1f7921*(-0x183b*-0x1+0x19*0x8+-0x18ff)+(0x597*0x3+-0x17e4+-0x1*-0x71f)]=_0x30e081[0x19fb+-0xdd5+-0xc26],_0x13a495[_0x1f7921*(0x18d6+0x1*0x385+0x1*-0x1c57)+(0x389+0x1*-0x9c9+0x1*0x641)]=_0x4d03d7[-0xaae+-0x1ddc+-0x2*-0x1445]<<0x1830*0x1+-0x1381*-0x1+-0x2*0x15ce|_0x4d03d7[-0x6*0x28d+-0x1*-0x26d5+-0x1786]<<-0xc14*0x1+-0x29*0x2b+0x1302|_0x4d03d7[-0x2*-0x12c4+-0x2*0xaed+-0xfac],_0x13a495[_0x1f7921*(-0x60e+0x34b*-0x3+0xff3)+(0x12de+-0x1e20+-0x4*-0x2d1)]=_0x4d03d7[0x850+0x2333*-0x1+0x1ae6]<<0x3*-0xb5f+0x7*0x3a9+0x893|_0x4d03d7[0x1a5b+0x15e+-0x1bb5]<<0xa*0x11d+-0x1dea+0x12d3|_0x4d03d7[0x18eb+0xfad+-0x2893],_0x13a495[_0x1f7921*(0x47f*-0x5+-0x2285*0x1+-0x1c82*-0x2)+(-0x40f*-0x9+-0x1e41+-0x643)]=_0x4d03d7[-0x1*0x14f3+-0x1d43+0xa0c*0x5]<<-0x114a+0x1*0xc13+0x54c|_0x4d03d7[0x893+-0x1b72+0x52*0x3b]<<-0x3e7*0x2+0x7b*-0x3d+0x2528|_0x4d03d7[0x1624+-0x1a05+0x3e9],this['shBands']>-0x1d0b+-0xc5*0x11+0x1*0x2a21&&(_0x52b692[_0x1f7921*(-0xc34+0x254e+-0x1916)+(-0x18c8+0x25a9+0x44b*-0x3)]=_0x4d03d7[-0xb3e+0x1759*0x1+0x67*-0x1e]<<0x4de*-0x1+0x2*0x994+-0xe35|_0x4d03d7[-0xf26+-0xc1*-0x24+-0x1fe*0x6]<<0x20ea+-0xe71+-0x7*0x2a2|_0x4d03d7[-0x1c70+-0x236e+0x3fe9],_0x52b692[_0x1f7921*(0x18aa+0x1a76+0x1*-0x331c)+(-0xa99+-0x49*0x73+0x2b65)]=_0x4d03d7[0x86*-0xf+0x3b*0x11+0x3fb*0x1]<<0x23d1+0xa30+-0x4*0xb7b|_0x4d03d7[-0x624+-0x111e*0x2+-0x4f*-0x83]<<-0x20eb+-0x54b+0x1*0x2641|_0x4d03d7[-0x6*0x62f+-0x1*0x21c1+0x46e9],_0x52b692[_0x1f7921*(-0x316+0xc8e+-0x974)+(0xed4+0x1b7*-0xa+0x254)]=_0x4d03d7[-0x61+-0x19d2+-0x1*-0x1a42]<<0x22f0+-0x206c+-0x26f|_0x4d03d7[0xcd+0x5e6*-0x2+0xb0f]<<-0x5bb+-0x7*-0x139+0x1f*-0x17|_0x4d03d7[0x3af*-0x6+0x5*0xa7+-0x25d*-0x8],_0x52b692[_0x1f7921*(0x14a9+0x7fd+0x2*-0xe51)+(0xcfc+-0x2b7*0x2+-0x78b)]=_0x4d03d7[-0x15d5+-0x16d7+0x2cbe]<<0x1c6b+-0x1272+-0x6*0x1a6|_0x4d03d7[-0x193f+-0x1f47+-0x1*-0x3899]<<0x966+-0x12a5+0x94a|_0x4d03d7[-0x3*-0x33b+-0x30*-0xa3+-0x282d],this['shBands']>0x5*-0x4b3+0x6c8+0x10b9?(_0x439f74[_0x1f7921*(-0x1dc8+0xf3*0x4+0xd0*0x20)+(-0x1d18+-0xb6*0x24+0x6d6*0x8)]=_0x4d03d7[-0x19f*0x3+0x3e*0x8+0x302]<<-0x655*-0x4+0x1d27+-0x3666|_0x4d03d7[-0x14e+0x682*0x1+0x106*-0x5]<<-0x342*0x2+0x23f9+-0xeb5*0x2|_0x4d03d7[0x259e+-0x15a+-0x405*0x9],_0x439f74[_0x1f7921*(-0x2363+0x1*0x1ac+0x1*0x21bb)+(-0x2381+-0x1*0x6b+0x11*0x21d)]=_0x4d03d7[0x20d7+0x1093+-0x3152]<<-0x1e0b+-0xb*-0x1d+0x1ce1|_0x4d03d7[0x221f+-0x2103+-0x25*0x7]<<-0xe1+0x1c96+-0x1baa|_0x4d03d7[0xf*0x20+0x6*-0x2de+0xf6e],_0x439f74[_0x1f7921*(-0x11*-0x5b+-0xc15+0x60e)+(0x16f6+-0xa2b+0x1*-0xcc9)]=_0x4d03d7[0x7*-0x266+0x25c8+-0x14e3]<<-0x5*0x766+0x1a*-0xb+0x2631|_0x4d03d7[-0x1*0x2567+0x5e*0x4f+0x7*0x137]<<-0xcaf*0x1+0x45e+0x85c|_0x4d03d7[0x5*0x7b9+0x9cc+-0x304c],_0x439f74[_0x1f7921*(0x7*0x26+-0x135f+-0x1ab*-0xb)+(0x1731*-0x1+-0x8dd*-0x3+0x121*-0x3)]=_0x4d03d7[0xcd1+-0x5*0x1e2+-0x349*0x1]<<-0x1d58+0x203d+-0x2d0|_0x4d03d7[0x14*0x101+0x108+-0x14fd]<<-0x1700+-0x1591+0x2c9c|_0x4d03d7[0xdac+-0x6*-0x32+-0xeb8],_0x549d22[_0x1f7921*(-0x1*-0x1739+-0x1bb7+0x241*0x2)+(0x1a56+0x2530+0xad*-0x5e)]=_0x4d03d7[-0x1*-0x23bf+0xe27*-0x1+-0x5*0x44b]<<-0x104*-0x1a+0x59*0x5+0x4*-0x704|_0x4d03d7[0x1fd8*-0x1+0x2045+0x4b*-0x1]<<0x1c37+0xa83+-0x26af|_0x4d03d7[-0xfe*0x3+0x16cb+-0x9d7*0x2],_0x549d22[_0x1f7921*(-0x87*-0x42+-0xf61+-0x1369)+(-0x25a8+-0x7d6+-0x265*-0x13)]=_0x4d03d7[-0x319*-0x2+0x61*0x67+0xf07*-0x3]<<0x19d*-0x8+0x254b+-0x184e|_0x4d03d7[0x234a+0x4d*0x57+-0x3d50]<<-0x1*0x13a7+-0xc8d+-0x7f*-0x41|_0x4d03d7[-0x455*-0x5+-0x4*0x8f5+0xe51],_0x549d22[_0x1f7921*(-0x8b3*-0x1+-0x1e9c+0x15ed)+(0x4*0x29e+-0x97*-0x2c+-0x246a)]=_0x4d03d7[-0x329*-0xb+-0x76b*-0x1+-0x2a07]<<-0x590+-0xb*0x2fb+-0x2*-0x1337|_0x4d03d7[0x2602+0x7f1+0x2dcb*-0x1]<<-0x2d*0x33+-0xc5*-0x11+-0x413|_0x4d03d7[-0x2*-0x42b+-0x997*-0x1+-0x11c4*0x1],_0x549d22[_0x1f7921*(0x11a4+0xa3*0x11+-0x1*0x1c73)+(-0x1c0e+0x18de+0xd*0x3f)]=_0x4d03d7[0x70b*-0x3+-0xb32*-0x2+-0x119]<<0x1c27+-0x186+0x4*-0x6a3|_0x4d03d7[0x1a5f+-0x1*-0x761+0x2195*-0x1]<<-0x264c+-0x1*-0x107e+0x15d9|_0x4d03d7[0x1f94+0x869*-0x1+-0x16ff]):_0x439f74[_0x1f7921]=_0x4d03d7[0x3bf*-0x2+0x1*-0x46f+0xc02]<<0xfb*-0x7+-0x1937+0x2029|_0x4d03d7[0x6d5+-0x1d3*0x15+-0x10*-0x1f9]<<0x617*-0x1+-0x2664+0x2c86|_0x4d03d7[-0x17e5*-0x1+-0x1*-0x1c47+0x1*-0x3415]);}}(_0x1f5623=this['sh1to3Text'+'ure2'])==null||_0x1f5623['unlock'](),(_0x2075a0=this['sh4to7Text'+'ure2'])==null||_0x2075a0['unlock'](),(_0x4e111c=this['sh8to11Tex'+'ture2'])==null||_0x4e111c['unlock'](),(_0x310d11=this['sh12to15Te'+'xture2'])==null||_0x310d11['unlock']();}async['updateSHDa'+'taByWorker'](_0x252153){var _0x2b1ecc,_0x4874f3,_0x3fc661,_0x3304f9,_0x3b2763;if(console['log']('____\x20ENGIN'+'E\x20IVAN','updateSHDa'+'taByWorker'),this['isDestroye'+'d'])return;const _0x82ea75={0x1:0x3,0x2:0x8,0x3:0xf}[this['shBands']];let _0x596a06,_0x5e9c07,_0x16a5f6,_0x4ce7b2;if((_0x2b1ecc=_0x252153['transformD'+'ata'])!=null&&_0x2b1ecc['sh1to3Data'])_0x596a06=(_0x4874f3=_0x252153['transformD'+'ata'])==null?void(0x12da+-0x928*0x3+0x89e):_0x4874f3['sh1to3Data'],_0x5e9c07=(_0x3fc661=_0x252153['transformD'+'ata'])==null?void(-0x17b5+-0x11*-0x1b1+-0x50c):_0x3fc661['sh4to7Data'],_0x16a5f6=(_0x3304f9=_0x252153['transformD'+'ata'])==null?void(0xe*0x2c5+-0x4bd*0x1+-0x1*0x2209):_0x3304f9['sh8to11Dat'+'a'],_0x4ce7b2=(_0x3b2763=_0x252153['transformD'+'ata'])==null?void(0x898+0x2606+0x75*-0x66):_0x3b2763['sh12to15Da'+'ta'];else{const _0x12aada=xg(_0x252153,_0x82ea75*(-0x249c+-0x112c+-0x125*-0x2f)),_0xe776e0=await this['updateData'+'Worker']['updateSHDa'+'ta1'](_0x252153['numSplats'],this['shBands'],_0x12aada);_0x596a06=_0xe776e0['sh1to3Data'],_0x5e9c07=_0xe776e0['sh4to7Data'],_0x16a5f6=_0xe776e0['sh8to11Dat'+'a'],_0x4ce7b2=_0xe776e0['sh12to15Da'+'ta'];}await this['idleUpdate'+'TexturePro'+'mise'](this['sh1to3Text'+'ure2'],_0x596a06),this['shBands']>-0x1*0x22c6+0x46*0x79+0x1b1&&(await this['idleUpdate'+'TexturePro'+'mise'](this['sh4to7Text'+'ure2'],_0x5e9c07),this['shBands']>-0xd17+-0x147a+-0x23d*-0xf?(await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x16a5f6),await this['idleUpdate'+'TexturePro'+'mise'](this['sh12to15Te'+'xture2'],_0x4ce7b2)):await this['idleUpdate'+'TexturePro'+'mise'](this['sh8to11Tex'+'ture2'],_0x16a5f6));}}const PC='FILL_WINDO'+'W',Tg='KEEP_ASPEC'+'T',wg='AUTO',MC='FIXED';let Ov;function Ms(){return Ov;}function _u(_0x518fb0){Ov=_0x518fb0;}class DC{constructor(){h(this,'renderPass'+'es',[]),h(this,'renderTarg'+'etMap',new Map());}['addRenderP'+'ass'](_0x5744ad){w['assert'](_0x5744ad),_0x5744ad['frameUpdat'+'e']();const _0x5cb844=_0x5744ad['beforePass'+'es'];for(let _0x1946ad=0x1032+0x2*-0x189+-0x8c*0x18;_0x1946ad<_0x5cb844['length'];_0x1946ad++){const _0x18b9a9=_0x5cb844[_0x1946ad];_0x18b9a9['enabled']&&this['addRenderP'+'ass'](_0x18b9a9);}_0x5744ad['enabled']&&this['renderPass'+'es']['push'](_0x5744ad);const _0x3d7cea=_0x5744ad['afterPasse'+'s'];for(let _0x34e071=-0x243d+-0x1*0xb1b+0x2f58;_0x34e071<_0x3d7cea['length'];_0x34e071++){const _0x27d30c=_0x3d7cea[_0x34e071];_0x27d30c['enabled']&&this['addRenderP'+'ass'](_0x27d30c);}}['reset'](){this['renderPass'+'es']['length']=0x91b+0xc12+0x70f*-0x3;}['compile'](){const _0x5bc7a0=this['renderTarg'+'etMap'],_0x1884a8=this['renderPass'+'es'];for(let _0x1f8ab5=-0xd1f+0x1410+-0x6f1;_0x1f8ab5<_0x1884a8['length'];_0x1f8ab5++){const _0x3e53c9=_0x1884a8[_0x1f8ab5],_0x12799b=_0x3e53c9['renderTarg'+'et'];if(_0x12799b!==void(-0xab0+0x1*0x32a+-0x1*-0x786)){const _0x26e5f1=_0x5bc7a0['get'](_0x12799b);if(_0x26e5f1){const _0x5754b0=_0x3e53c9['colorArray'+'Ops']['length'];for(let _0x1af7b5=-0x2*-0x3b1+-0x1d4*0xe+-0x4a*-0x3f;_0x1af7b5<_0x5754b0;_0x1af7b5++)_0x3e53c9['colorArray'+'Ops'][_0x1af7b5]['clear']||(_0x26e5f1['colorArray'+'Ops'][_0x1af7b5]['store']=!(0xf81*-0x1+0x282+0x1*0xcff));_0x3e53c9['depthStenc'+'ilOps']['clearDepth']||(_0x26e5f1['depthStenc'+'ilOps']['storeDepth']=!(-0xbda+-0x26ab+0x3285)),_0x3e53c9['depthStenc'+'ilOps']['clearStenc'+'il']||(_0x26e5f1['depthStenc'+'ilOps']['storeStenc'+'il']=!(-0x15b1+0x5*0x4d3+-0x26e));}_0x5bc7a0['set'](_0x12799b,_0x3e53c9);}}for(let _0x13d3f7=-0x8*0x101+0x2*-0x1f3+0x1fd*0x6;_0x13d3f7<_0x1884a8['length']-(-0x1565+0x1d17+-0x7b1);_0x13d3f7++){const _0x3c4b69=_0x1884a8[_0x13d3f7],_0x26f695=_0x3c4b69['renderTarg'+'et'],_0x573452=_0x1884a8[_0x13d3f7+(0x163e+0x16*0x117+-0x2e37)],_0x5eed2a=_0x573452['renderTarg'+'et'];_0x26f695!==_0x5eed2a||_0x26f695===void(0xa55+-0x1726+0x1*0xcd1)||_0x573452['depthStenc'+'ilOps']['clearDepth']||_0x573452['depthStenc'+'ilOps']['clearStenc'+'il']||_0x573452['colorArray'+'Ops']['some'](_0x28492b=>_0x28492b['clear'])||_0x3c4b69['afterPasse'+'s']['length']>-0x1d07+0x461*-0x3+0x2a2a||_0x573452['beforePass'+'es']['length']>-0x1832+-0x2561+-0xb*-0x599||(_0x3c4b69['_skipEnd']=!(-0x2e9*0x9+-0xf90+0x29c1),_0x573452['_skipStart']=!(-0x1*-0x17bd+0xca1*-0x3+0xe26));}let _0x6cd192=null,_0x1cfff5=null;for(let _0x3a0d00=0xc2*-0x2b+0x11e+0x1f78;_0x3a0d00<_0x1884a8['length'];_0x3a0d00++){const _0x152b92=_0x1884a8[_0x3a0d00],_0x905090=_0x152b92['renderTarg'+'et'],_0x4829f8=_0x905090==null?void(-0x1f1*-0x7+0x229f+-0x3*0x1012):_0x905090['colorBuffe'+'r'];if(_0x4829f8!=null&&_0x4829f8['cubemap']){if(_0x6cd192===_0x4829f8){const _0x26268c=_0x1cfff5['colorArray'+'Ops']['length'];for(let _0x4fd752=0x1*-0xb2a+0x8db+0x1*0x24f;_0x4fd752<_0x26268c;_0x4fd752++)_0x1cfff5['colorArray'+'Ops'][_0x4fd752]['mipmaps']=!(-0xa49+-0x2d7*0x5+0x187d);}_0x6cd192=_0x905090['colorBuffe'+'r'],_0x1cfff5=_0x152b92;}else _0x152b92['requiresCu'+'bemaps']&&(_0x6cd192=null,_0x1cfff5=null);}_0x5bc7a0['clear']();}['render'](_0x4c084b){this['compile']();const _0x458d6d=this['renderPass'+'es'];for(let _0x135c38=0x15a6+0x4f*-0x15+-0xf2b*0x1;_0x135c38<_0x458d6d['length'];_0x135c38++)_0x458d6d[_0x135c38]['render']();}}class IC{constructor(_0x3af24e,_0xaf88cc){this['texture0']=_0x3af24e,this['texture1']=_0xaf88cc;}['destroy'](){var _0x6e27fd,_0xf63437;(_0x6e27fd=this['texture0'])==null||_0x6e27fd['destroy'](),(_0xf63437=this['texture1'])==null||_0xf63437['destroy']();}}const Eg=new Kt();class ia{static['createText'+'ure'](_0x51d409,_0x18ae64,_0xab147b,_0x42e8a9=''){return new _e(_0x51d409,{'name':'AreaLightL'+'UT'+_0x42e8a9,'width':_0xab147b,'height':_0xab147b,'format':_0x18ae64,'addressU':ue,'addressV':ue,'type':Ds,'magFilter':vt,'minFilter':Te,'anisotropy':0x1,'mipmaps':!(-0x623*-0x2+0x17*0x45+-0x8*0x24f)});}static['applyTextu'+'res'](_0xfd8e1,_0x1a735c,_0x162b27){Eg['remove'](_0xfd8e1),Eg['get'](_0xfd8e1,()=>new IC(_0x1a735c,_0x1a735c===_0x162b27?null:_0x162b27)),_0xfd8e1['scope']['resolve']('areaLights'+'LutTex1')['setValue'](_0x1a735c),_0xfd8e1['scope']['resolve']('areaLights'+'LutTex2')['setValue'](_0x162b27);}static['createPlac'+'eholder'](_0x5736a0){const _0x141833=ia['createText'+'ure'](_0x5736a0,nt,-0x1b25+0x16c*-0x16+0x3a6f,'placeholde'+'r');_0x141833['lock']()['fill'](-0x2bd*0xb+-0x25b2+-0x1*-0x43d1),_0x141833['unlock'](),ia['applyTextu'+'res'](_0x5736a0,_0x141833,_0x141833);}static['set'](_0x6cb6ca,_0x17c450,_0x546f00){function _0x60f8(_0x5ba885,_0x970c64,_0x2dca11){const _0x158e07=ia['createText'+'ure'](_0x5ba885,_0x2dca11,0x1c87*0x1+-0x1bf4+0x1*-0x53);return _0x158e07['lock']()['set'](_0x970c64),_0x158e07['unlock'](),_0x158e07;}function _0x4fb41b(_0xc0d604){const _0x383a71=_0xc0d604['length'],_0x1aae92=new Uint16Array(_0x383a71),_0xc7b971=Mn['float2Half'];for(let _0x3d2b3c=-0xfa0+-0x9e0+0x1980;_0x3d2b3c<_0x383a71;_0x3d2b3c++)_0x1aae92[_0x3d2b3c]=_0xc7b971(_0xc0d604[_0x3d2b3c]);return _0x1aae92;}const _0x32fb35=_0x17c450,_0x455b46=_0x546f00,_0x3801e1=_0x4fb41b(_0x32fb35),_0x62726c=_0x4fb41b(_0x455b46),_0x4f14a5=_0x60f8(_0x6cb6ca,_0x3801e1,nt),_0x446144=_0x60f8(_0x6cb6ca,_0x62726c,nt);ia['applyTextu'+'res'](_0x6cb6ca,_0x4f14a5,_0x446144);}}const Ph='en-US',Mh={'en':'en-US','es':'en-ES','zh':'zh-CN','zh-HK':'zh-TW','zh-TW':'zh-HK','zh-MO':'zh-HK','fr':'fr-FR','de':'de-DE','it':'it-IT','ru':'ru-RU','ja':'ja-JP'},Sm={};function Dr(_0x492c94,_0x1ec36c){for(let _0x511c26=0x61d+0x1*-0xf0d+0x8f0,_0x3b90b4=_0x492c94['length'];_0x511c26<_0x3b90b4;_0x511c26++)Sm[_0x492c94[_0x511c26]]=_0x1ec36c;}function Oi(_0x3e4977){const _0xf7ae13=_0x3e4977['indexOf']('-');return _0xf7ae13!==-(0x230+0x139f+0xae7*-0x2)?_0x3e4977['substring'](0xc*0x6a+0x1*0xb32+-0x102a,_0xf7ae13):_0x3e4977;}function LC(_0x3992ad,_0x444c13){const _0x19c9c3=_0x3992ad['indexOf']('-');return _0x19c9c3!==-(0x4cc*0x4+0x10d*-0x1f+0xd64)?_0x444c13+_0x3992ad['substring'](_0x19c9c3):_0x444c13;}function Fv(_0x503bae,_0x31e0fb){if(_0x31e0fb[_0x503bae])return _0x503bae;let _0x3ce056=Mh[_0x503bae];if(_0x3ce056&&_0x31e0fb[_0x3ce056])return _0x3ce056;const _0x4f0bda=Oi(_0x503bae);return _0x3ce056=Mh[_0x4f0bda],_0x31e0fb[_0x3ce056]?_0x3ce056:_0x31e0fb[_0x4f0bda]?_0x4f0bda:Ph;}Dr(['ja','ko','th','vi','zh','id'],_0x4dc5dd=>0x7*0xc1+0xd73*0x2+-0x202d),Dr(['fa','hi'],_0x164b1d=>_0x164b1d>=0x351*0x1+0x1605+-0x1956&&_0x164b1d<=-0x233e+-0x1*-0x2683+-0xb*0x4c?-0x7*-0x1fa+-0x159+-0xc7d:-0x1447+-0x331+0x7d3*0x3),Dr(['fr','pt'],_0x2916b1=>_0x2916b1>=0x3c4+0x3*-0x33d+-0x5f3*-0x1&&_0x2916b1<-0xb52+-0xe0a+0x195e?-0x771+0x4e7*-0x1+0xc58:-0xf6e+-0x1fd*0x4+0x1763),Dr(['da'],_0x1747a2=>_0x1747a2===-0x1d24+0x34b*-0x9+0x1398*0x3||!Number['isInteger'](_0x1747a2)&&_0x1747a2>=-0x4*-0xb7+-0x1cd6+0x19fa&&_0x1747a2<=-0x2b3*-0x4+-0x21*-0x11+-0xcfc?-0x1e23+-0xc56+0x2a79:-0xb11*0x1+-0x260a+0x311c),Dr(['de','en','it','el','es','tr','fi','sv','nb','no','ur'],_0x418b78=>_0x418b78===0x13a*0x2+-0x1cf+-0xa4?-0x12*0xf3+-0x14b9*0x1+0x25cf*0x1:0x109e+-0x6d9*-0x1+-0x1776*0x1),Dr(['ru','uk'],_0x1877cc=>{if(Number['isInteger'](_0x1877cc)){const _0x14622a=_0x1877cc%(-0x1b6b+0x13d6*-0x1+-0x1*-0x2f4b),_0x46ca11=_0x1877cc%(0x114f+0x1a25+0xd*-0x350);if(_0x14622a===0xf10+0xf*-0x57+-0x9f6&&_0x46ca11!==-0x1653+-0xf03+0x2561*0x1)return-0x16*-0x8a+0x1852+-0x242e;if(_0x14622a>=0x28c+-0x65*-0x5e+-0x27a0&&_0x14622a<=-0x5*-0x563+-0x236*-0x2+-0x1f57&&(_0x46ca11<0x21*-0xef+0x456+0x1a85||_0x46ca11>0x49*0x76+-0x1827+0x971*-0x1))return 0x26b*0x10+-0x1460*-0x1+-0x3b0f;if(_0x14622a===-0x366+0x167e+-0x1318||_0x14622a>=-0x1eeb+-0x1199+-0x3089*-0x1&&_0x14622a<=0xb6d+0x1903*-0x1+0xd9f||_0x46ca11>=-0x44f*0x1+0x40d+0x4d&&_0x46ca11<=-0x199*0x5+-0x9b*0x35+-0x1d3*-0x16)return 0x21c3+-0x45*0x40+-0x1081;}return 0x2414+-0x47*0xf+-0x7fa*0x4;}),Dr(['pl'],_0x5ebce0=>{if(Number['isInteger'](_0x5ebce0)){if(_0x5ebce0===0x1*-0x887+-0x24d6+0x2*0x16af)return-0x9d+0xdc6+-0xd29;const _0x258a11=_0x5ebce0%(-0xb56+-0x6a0+-0xc*-0x180),_0xf5f297=_0x5ebce0%(0x422*-0x3+0x1dea+-0x1120);if(_0x258a11>=-0x1d28+0x10*0x6a+0x168a&&_0x258a11<=0x101*0x8+-0x107*-0x13+-0x1b89&&(_0xf5f297<0x13f8+-0x136*-0x9+0x107*-0x1e||_0xf5f297>-0x5*-0xc0+0xdf7+-0x11a9))return-0x2*-0xf67+-0xd94+-0x1139;if(_0x258a11>=-0x2*0x757+-0x4fd*-0x1+0x1*0x9b1&&_0x258a11<=-0x86+0x15d2+-0xed*0x17||_0x258a11>=-0x3*-0x349+0x9a9+-0xa1*0x1f&&_0x258a11<=0x744+-0x1*0x1a1b+0x12e0||_0xf5f297>=0x1*-0xe30+0xe27+0x15&&_0xf5f297<=0x17ec+0x1d15+-0x34f3)return 0x11d*-0xf+0x68a+-0x89*-0x13;}return 0x4*-0x45d+-0x9*-0x129+0x3e*0x1d;}),Dr(['ar'],_0x41e698=>{if(_0x41e698===-0x1bb*-0x4+0x313*-0x4+-0x1*-0x560)return-0x2524+0x1*-0x232f+0x4853;if(_0x41e698===0x7*-0x89+0xc04+-0x2e*0x2e)return 0x1fbd*0x1+-0x2580+0x5c4;if(_0x41e698===0xd1f+-0xd*0xc7+-0x302)return 0x547*-0x2+0xbf2+-0x3b*0x6;if(Number['isInteger'](_0x41e698)){const _0x29b526=_0x41e698%(-0xa*0x284+0x7*-0x16d+0x2387);if(_0x29b526>=0xdae+0x3*-0xaa9+0x1250&&_0x29b526<=-0xd96+0x15cf+-0x1a3*0x5)return 0x2175+0x12fd*0x1+-0x346f;if(_0x29b526>=-0x1*-0x1c4e+0x155c+-0x319f&&_0x29b526<=-0x1c92+0x343*0x5+0xca6)return-0x1*0x20ee+0x759+-0x1999*-0x1;}return 0x679*-0x2+-0x65*-0x2b+-0x400;});const RC=Sm[Oi(Ph)];function Tf(_0x36d6f1){return Sm[_0x36d6f1]||RC;}const jn=new RegExp('^\x5cs*(?:(?:'+'[a-z]+[a-z'+'0-9\x5c-+.]*:'+')?//|data:'+'|blob:)','i');class OC{constructor(_0x3e56e8='',_0x1b23e6='',_0x58eb9a=null,_0x4bfbf9=null,_0x56ac25=null,_0x5c0891=null){this['url']=_0x3e56e8,this['filename']=_0x1b23e6,this['hash']=_0x58eb9a,this['size']=_0x4bfbf9,this['opt']=_0x56ac25,this['contents']=_0x5c0891;}['equals'](_0x1a7d45){return this['url']===_0x1a7d45['url']&&this['filename']===_0x1a7d45['filename']&&this['hash']===_0x1a7d45['hash']&&this['size']===_0x1a7d45['size']&&this['opt']===_0x1a7d45['opt']&&this['contents']===_0x1a7d45['contents'];}}let FC=-(0xc*-0x2b0+0x1273+0x26*0x5d);const NC={'pvr':'extCompres'+'sedTexture'+'PVRTC','dxt':'extCompres'+'sedTexture'+'S3TC','etc2':'extCompres'+'sedTexture'+'ETC','etc1':'extCompres'+'sedTexture'+'ETC1','basis':'canvas'},bg=['pvr','dxt','etc2','etc1','basis'];class pe extends me{constructor(_0x1e9d6a,_0x466e15,_0xc3dd1c,_0x1c1281={},_0x35fb28={}){super(),h(this,'_file',null),h(this,'_i18n',{}),h(this,'_preload',!(-0x2152+0x104c+0x1107)),h(this,'_resources',[]),h(this,'id',FC--),h(this,'loaded',!(0x26c3+-0x83*0x15+-0x1c03)),h(this,'loading',!(-0x207+0x177c+-0xaba*0x2)),h(this,'options',{}),h(this,'registry',null),h(this,'tags',new Oo(this)),h(this,'type'),h(this,'urlObject',null),(this['_name']=_0x1e9d6a||'',this['type']=_0x466e15,this['_data']=_0x1c1281||{},this['options']=_0x35fb28||{},_0xc3dd1c&&(this['file']=_0xc3dd1c));}set['name'](_0x462d0e){if(this['_name']===_0x462d0e)return;const _0x155241=this['_name'];this['_name']=_0x462d0e,this['fire']('name',this,this['_name'],_0x155241);}get['name'](){return this['_name'];}set['file'](_0x598e9e){var _0x4bccfe,_0xb987f4;if(_0x598e9e&&_0x598e9e['variants']&&['texture','textureatl'+'as','bundle']['indexOf'](this['type'])!==-(0x858+-0x21a0+0x1949*0x1)){const _0x41a154=((_0xb987f4=(_0x4bccfe=this['registry'])==null?void(-0x4a*-0x6a+-0x3a*-0xb+-0x2122):_0x4bccfe['_loader'])==null?void(0x2038+-0x2*0xfe3+0x26*-0x3):_0xb987f4['_app'])||Ms(),_0x569b22=_0x41a154==null?void(-0x15ba+-0x1cc8+-0x1941*-0x2):_0x41a154['graphicsDe'+'vice'];if(_0x569b22)for(let _0x3d99d5=-0xa94+-0x226f+-0xa7*-0x45,_0x57883f=bg['length'];_0x3d99d5<_0x57883f;_0x3d99d5++){const _0x318534=bg[_0x3d99d5];if(_0x598e9e['variants'][_0x318534]&&_0x569b22[NC[_0x318534]]){_0x598e9e=_0x598e9e['variants'][_0x318534];break;}if(_0x41a154['enableBund'+'les']){const _0x8450c9=_0x41a154['bundles']['listBundle'+'sForAsset'](this);if(_0x8450c9&&_0x8450c9['find'](_0x1606eb=>{var _0x378781;return(_0x378781=_0x1606eb==null?void(0x1ebd+-0x91c+-0x15a1):_0x1606eb['file'])==null?void(0x29b*0xb+0x802*0x4+-0x3cb1):_0x378781['variants'][_0x318534];}))break;}}}const _0x268fed=this['_file'],_0x4742b3=_0x598e9e?new OC(_0x598e9e['url'],_0x598e9e['filename'],_0x598e9e['hash'],_0x598e9e['size'],_0x598e9e['opt'],_0x598e9e['contents']):null;(!!_0x4742b3!=!!_0x268fed||_0x4742b3&&!_0x4742b3['equals'](_0x268fed))&&(this['_file']=_0x4742b3,this['fire']('change',this,'file',_0x4742b3,_0x268fed),this['reload']());}get['file'](){return this['_file'];}set['data'](_0x427bc4){const _0x4a6302=this['_data'];this['_data']=_0x427bc4,_0x427bc4!==_0x4a6302&&(this['fire']('change',this,'data',_0x427bc4,_0x4a6302),this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['data'](){return this['_data'];}set['resource'](_0x5d315e){const _0x14f39c=this['_resources'][0x2094+-0x1*-0x2519+-0x45ad];this['_resources'][-0x1*-0x11e3+-0xd*0x241+0xb6a]=_0x5d315e,this['fire']('change',this,'resource',_0x5d315e,_0x14f39c);}get['resource'](){return this['_resources'][0x1*-0x958+0x2*-0x4bd+0x2*0x969];}set['resources'](_0x502f08){const _0x4ff942=this['_resources'];this['_resources']=_0x502f08,this['fire']('change',this,'resources',_0x502f08,_0x4ff942);}get['resources'](){return this['_resources'];}set['preload'](_0x12d161){_0x12d161=!!_0x12d161,this['_preload']!==_0x12d161&&(this['_preload']=_0x12d161,this['_preload']&&!this['loaded']&&!this['loading']&&this['registry']&&this['registry']['load'](this));}get['preload'](){return this['_preload'];}set['loadFaces'](_0xf1541c){_0xf1541c=!!_0xf1541c,(!this['hasOwnProp'+'erty']('_loadFaces')||_0xf1541c!==this['_loadFaces'])&&(this['_loadFaces']=_0xf1541c,this['loaded']&&this['registry']['_loader']['patch'](this,this['registry']));}get['loadFaces'](){return this['_loadFaces'];}['getFileUrl'](){const _0x3e5232=this['file'];if(!_0x3e5232||!_0x3e5232['url'])return null;let _0x563a59=_0x3e5232['url'];if(this['registry']&&this['registry']['prefix']&&!jn['test'](_0x563a59)&&(_0x563a59=this['registry']['prefix']+_0x563a59),this['type']!=='script'&&_0x3e5232['hash']){const _0x3323dd=_0x563a59['indexOf']('?')!==-(-0x4*-0x15c+-0x155d+0xfee)?'&':'?';_0x563a59+=_0x3323dd+'t='+_0x3e5232['hash'];}return _0x563a59;}['getAbsolut'+'eUrl'](_0xe0b462){if(_0xe0b462['startsWith']('blob:')||_0xe0b462['startsWith']('data:'))return _0xe0b462;const _0x1299f4=xe['getDirecto'+'ry'](this['file']['url']);return xe['join'](_0x1299f4,_0xe0b462);}['getLocaliz'+'edAssetId'](_0x17985f){return _0x17985f=Fv(_0x17985f,this['_i18n']),this['_i18n'][_0x17985f]||null;}['addLocaliz'+'edAssetId'](_0x255b3a,_0x9a1b3e){this['_i18n'][_0x255b3a]=_0x9a1b3e,this['fire']('add:locali'+'zed',_0x255b3a,_0x9a1b3e);}['removeLoca'+'lizedAsset'+'Id'](_0x5db649){const _0x4deb29=this['_i18n'][_0x5db649];_0x4deb29&&(delete this['_i18n'][_0x5db649],this['fire']('remove:loc'+'alized',_0x5db649,_0x4deb29));}['ready'](_0x1af3cd,_0x2401eb){_0x2401eb=_0x2401eb||this,this['loaded']?_0x1af3cd['call'](_0x2401eb,this):this['once']('load',_0x1d861d=>{_0x1af3cd['call'](_0x2401eb,_0x1d861d);});}['reload'](){this['loaded']&&(this['loaded']=!(0x433+-0x19de+0x92*0x26),this['registry']['load'](this));}['unload'](){if(!this['loaded']&&this['_resources']['length']===-0x1065+-0xe0f*0x2+0x2c83)return;this['fire']('unload',this),this['registry']['fire']('unload:'+this['id'],this);const _0x5daa3c=this['_resources'];this['urlObject']&&(URL['revokeObje'+'ctURL'](this['urlObject']),this['urlObject']=null),this['resources']=[],this['loaded']=!(-0x1be*-0xa+-0xb2d+-0x63e),this['file']&&this['registry']['_loader']['clearCache'](this['getFileUrl'](),this['type']);for(let _0x554eaf=-0x2d2+-0xf9f+-0x1*-0x1271;_0x554eaf<_0x5daa3c['length'];++_0x554eaf){const _0x2c33a0=_0x5daa3c[_0x554eaf];_0x2c33a0&&_0x2c33a0['destroy']&&_0x2c33a0['destroy']();}}static['fetchArray'+'Buffer'](_0xa84c45,_0x1c337e,_0x9ef851,_0x4eb6c8=-0x1554+0x1d7f+0x82b*-0x1){var _0x47e577;(_0x47e577=_0x9ef851==null?void(-0x1*-0x1115+-0x1*-0x801+-0x26*0xa9):_0x9ef851['file'])!=null&&_0x47e577['contents']?setTimeout(()=>{_0x1c337e(null,_0x9ef851['file']['contents']);}):ot['get'](_0xa84c45,{'cache':!(-0x20f3+-0x2188+0x427b),'responseType':'arraybuffe'+'r','retry':_0x4eb6c8>-0xaa+-0x2264+-0xe*-0x281,'maxRetries':_0x4eb6c8},_0x1c337e);}}h(pe,'EVENT_LOAD','load'),h(pe,'EVENT_UNLO'+'AD','unload'),h(pe,'EVENT_REMO'+'VE','remove'),h(pe,'EVENT_ERRO'+'R','error'),h(pe,'EVENT_CHAN'+'GE','change'),h(pe,'EVENT_PROG'+'RESS','progress'),h(pe,'EVENT_ADDL'+'OCALIZED','add:locali'+'zed'),h(pe,'EVENT_REMO'+'VELOCALIZE'+'D','remove:loc'+'alized');class kC{constructor(_0x1bddf9=null){h(this,'_index',{}),h(this,'_key'),this['_key']=_0x1bddf9;}['addItem'](_0x4b51ac){const _0x242e6b=_0x4b51ac['tags']['_list'];for(const _0x217d21 of _0x242e6b)this['add'](_0x217d21,_0x4b51ac);}['removeItem'](_0x2bf6da){const _0x403db7=_0x2bf6da['tags']['_list'];for(const _0x32def6 of _0x403db7)this['remove'](_0x32def6,_0x2bf6da);}['add'](_0x331b3d,_0x563b1a){this['_index'][_0x331b3d]&&this['_index'][_0x331b3d]['list']['indexOf'](_0x563b1a)!==-(0xe2*0x8+-0x1aac+0x139d)||(this['_index'][_0x331b3d]||(this['_index'][_0x331b3d]={'list':[]},this['_key']&&(this['_index'][_0x331b3d]['keys']={})),this['_index'][_0x331b3d]['list']['push'](_0x563b1a),this['_key']&&(this['_index'][_0x331b3d]['keys'][_0x563b1a[this['_key']]]=_0x563b1a));}['remove'](_0x5e4baa,_0x553279){if(!this['_index'][_0x5e4baa]||this['_key']&&!this['_index'][_0x5e4baa]['keys'][_0x553279[this['_key']]])return;const _0x1e8ded=this['_index'][_0x5e4baa]['list']['indexOf'](_0x553279);_0x1e8ded!==-(0x3b*0x2b+0x1*0x125e+-0x4d*0x5e)&&(this['_index'][_0x5e4baa]['list']['splice'](_0x1e8ded,-0xdb1+0x1c3a+-0x3c*0x3e),this['_key']&&delete this['_index'][_0x5e4baa]['keys'][_0x553279[this['_key']]],this['_index'][_0x5e4baa]['list']['length']===-0xb*-0x2d9+-0x1*0x1213+0x4*-0x350&&delete this['_index'][_0x5e4baa]);}['find'](_0x36e250){const _0x2295d2={},_0x2b76c2=[];let _0x4cefc0,_0x184063,_0x3f0d9f,_0x206eaa,_0x1cf48d;const _0x178a68=(_0x4b9a91,_0x1877ad)=>this['_index'][_0x4b9a91]['list']['length']-this['_index'][_0x1877ad]['list']['length'];for(let _0x27233b=-0x62c+0x25f6+-0x1*0x1fca;_0x27233b<_0x36e250['length'];_0x27233b++){if(_0x184063=_0x36e250[_0x27233b],_0x184063 instanceof Array){if(_0x184063['length']===-0x1381*-0x1+0xa63*-0x2+0x145)continue;if(_0x184063['length']===-0x43*0x62+0x6*-0x95+-0x1*-0x1d25)_0x184063=_0x184063[0x1101+0x1e77+-0x364*0xe];else{_0x1cf48d=!(-0x4*0x88b+-0xe0f+0x12*0x2ae);for(let _0x29de36=-0x4ea+-0x4*-0x11e+-0x13*-0x6;_0x29de36<_0x184063['length'];_0x29de36++)if(!this['_index'][_0x184063[_0x29de36]]){_0x1cf48d=!(0x13e4+-0x1e4+-0x1200);break;}if(_0x1cf48d)continue;_0x3f0d9f=_0x184063['slice'](-0x7*0x543+0x4*0x866+0x33d)['sort'](_0x178a68),_0x206eaa=_0x3f0d9f['slice'](0x107*-0x11+-0x8b+-0x9f*-0x1d),_0x206eaa['length']===-0xc03+0x30e+0x8f6*0x1&&(_0x206eaa=_0x206eaa[-0x306*0x1+0x4*-0x78d+0x213a]);for(let _0x614350=0xb*-0x4b+0x6*-0x2f+0x453;_0x614350<this['_index'][_0x3f0d9f[-0x7*-0x3c7+-0x73*0x44+0x41b]]['list']['length'];_0x614350++)_0x4cefc0=this['_index'][_0x3f0d9f[-0x1*-0xce3+-0x2197+0x14b4]]['list'][_0x614350],(this['_key']?!_0x2295d2[_0x4cefc0[this['_key']]]:_0x2b76c2['indexOf'](_0x4cefc0)===-(-0x1*-0xc83+-0x1eca+-0x3c*-0x4e))&&_0x4cefc0['tags']['has'](_0x206eaa)&&(this['_key']&&(_0x2295d2[_0x4cefc0[this['_key']]]=!(0x61c*0x4+-0x6b7*-0x3+-0x71*0x65)),_0x2b76c2['push'](_0x4cefc0));continue;}}if(_0x184063&&typeof _0x184063=='string'&&this['_index'][_0x184063]){for(let _0x590145=0xce3+-0xf7*-0x5+-0x11b6;_0x590145<this['_index'][_0x184063]['list']['length'];_0x590145++)_0x4cefc0=this['_index'][_0x184063]['list'][_0x590145],this['_key']?_0x2295d2[_0x4cefc0[this['_key']]]||(_0x2295d2[_0x4cefc0[this['_key']]]=!(0x7bd*0x3+0xe6a+-0x25a1),_0x2b76c2['push'](_0x4cefc0)):_0x2b76c2['indexOf'](_0x4cefc0)===-(-0x2328+0x607*-0x2+0x2f37)&&_0x2b76c2['push'](_0x4cefc0);}}return _0x2b76c2;}}class mn extends me{constructor(_0x14d287){super(),h(this,'_assets',new Set()),h(this,'_loader'),h(this,'_idToAsset',new Map()),h(this,'_urlToAsse'+'t',new Map()),h(this,'_nameToAss'+'et',new Map()),h(this,'_tags',new kC('id')),h(this,'prefix',null),h(this,'bundles',null),this['_loader']=_0x14d287;}['list'](_0x5a0675={}){const _0x62df95=Array['from'](this['_assets']);return _0x5a0675['preload']!==void(0x23f2+0xdd3+-0x31c5)?_0x62df95['filter'](_0x332b7e=>_0x332b7e['preload']===_0x5a0675['preload']):_0x62df95;}['add'](_0x11c8c5){var _0x4416f0,_0x5ab7de;this['_assets']['has'](_0x11c8c5)||(this['_assets']['add'](_0x11c8c5),this['_idToAsset']['set'](_0x11c8c5['id'],_0x11c8c5),(_0x4416f0=_0x11c8c5['file'])!=null&&_0x4416f0['url']&&this['_urlToAsse'+'t']['set'](_0x11c8c5['file']['url'],_0x11c8c5),this['_nameToAss'+'et']['has'](_0x11c8c5['name'])||this['_nameToAss'+'et']['set'](_0x11c8c5['name'],new Set()),this['_nameToAss'+'et']['get'](_0x11c8c5['name'])['add'](_0x11c8c5),_0x11c8c5['on']('name',this['_onNameCha'+'nge'],this),_0x11c8c5['registry']=this,this['_tags']['addItem'](_0x11c8c5),_0x11c8c5['tags']['on']('add',this['_onTagAdd'],this),_0x11c8c5['tags']['on']('remove',this['_onTagRemo'+'ve'],this),this['fire']('add',_0x11c8c5),this['fire']('add:'+_0x11c8c5['id'],_0x11c8c5),(_0x5ab7de=_0x11c8c5['file'])!=null&&_0x5ab7de['url']&&this['fire']('add:url:'+_0x11c8c5['file']['url'],_0x11c8c5),_0x11c8c5['preload']&&this['load'](_0x11c8c5));}['remove'](_0x4bcd9c){var _0x1bac8e,_0x20f5cf;if(!this['_assets']['has'](_0x4bcd9c))return!(-0x22*-0xcc+0x1*0xdd2+-0x1*0x28e9);if(this['_assets']['delete'](_0x4bcd9c),this['_idToAsset']['delete'](_0x4bcd9c['id']),(_0x1bac8e=_0x4bcd9c['file'])!=null&&_0x1bac8e['url']&&this['_urlToAsse'+'t']['delete'](_0x4bcd9c['file']['url']),_0x4bcd9c['off']('name',this['_onNameCha'+'nge'],this),this['_nameToAss'+'et']['has'](_0x4bcd9c['name'])){const _0x28b2ec=this['_nameToAss'+'et']['get'](_0x4bcd9c['name']);_0x28b2ec['delete'](_0x4bcd9c),_0x28b2ec['size']===0x13aa+-0x211f*0x1+-0xd75*-0x1&&this['_nameToAss'+'et']['delete'](_0x4bcd9c['name']);}return this['_tags']['removeItem'](_0x4bcd9c),_0x4bcd9c['tags']['off']('add',this['_onTagAdd'],this),_0x4bcd9c['tags']['off']('remove',this['_onTagRemo'+'ve'],this),_0x4bcd9c['fire']('remove',_0x4bcd9c),this['fire']('remove',_0x4bcd9c),this['fire']('remove:'+_0x4bcd9c['id'],_0x4bcd9c),(_0x20f5cf=_0x4bcd9c['file'])!=null&&_0x20f5cf['url']&&this['fire']('remove:url'+':'+_0x4bcd9c['file']['url'],_0x4bcd9c),!(-0x4*0xbe+-0x25f6+0xd*0x326);}['get'](_0xe923c6){return this['_idToAsset']['get'](Number(_0xe923c6));}['getByUrl'](_0x5e2d38){return this['_urlToAsse'+'t']['get'](_0x5e2d38);}['load'](_0x1ab7dc,_0x1e5a76){if((_0x1ab7dc['loading']||_0x1ab7dc['loaded'])&&!(_0x1e5a76!=null&&_0x1e5a76['force']))return;const _0x399154=_0x1ab7dc['file'],_0x122069=()=>{this['fire']('load',_0x1ab7dc),this['fire']('load:'+_0x1ab7dc['id'],_0x1ab7dc),_0x399154&&_0x399154['url']&&this['fire']('load:url:'+_0x399154['url'],_0x1ab7dc),_0x1ab7dc['fire']('load',_0x1ab7dc);},_0x5f028a=_0x2c0009=>{if(_0x2c0009 instanceof Array?_0x1ab7dc['resources']=_0x2c0009:_0x1ab7dc['resource']=_0x2c0009,this['_loader']['patch'](_0x1ab7dc,this),_0x1ab7dc['type']==='bundle'){const _0x4ad45b=_0x1ab7dc['data']['assets'];for(let _0x34cdf5=-0xa52+-0x188d+0x22df;_0x34cdf5<_0x4ad45b['length'];_0x34cdf5++){const _0x3eef1e=this['_idToAsset']['get'](_0x4ad45b[_0x34cdf5]);_0x3eef1e&&!_0x3eef1e['loaded']&&this['load'](_0x3eef1e,{'force':!(0x245*-0x11+0x45*-0x16+-0x2b*-0x109)});}_0x1ab7dc['resource']['loaded']?_0x122069():(this['fire']('load:start',_0x1ab7dc),this['fire']('load:start'+':'+_0x1ab7dc['id'],_0x1ab7dc),_0x399154&&_0x399154['url']&&this['fire']('load:start'+':url:'+_0x399154['url'],_0x1ab7dc),_0x1ab7dc['fire']('load:start',_0x1ab7dc),_0x1ab7dc['resource']['on']('load',_0x122069));}else _0x122069();},_0x411b8b=(_0x50eb34,_0x449ede,_0x5c91e8)=>{if(_0x1ab7dc['loaded']=!(0x1*-0x8fb+0x61f*-0x1+0xf1a),_0x1ab7dc['loading']=!(0x1b*0x3d+-0x1*-0x10c9+0x1737*-0x1),_0x50eb34)this['fire']('error',_0x50eb34,_0x1ab7dc),this['fire']('error:'+_0x1ab7dc['id'],_0x50eb34,_0x1ab7dc),_0x1ab7dc['fire']('error',_0x50eb34,_0x1ab7dc);else{if(_0x1ab7dc['type']==='script'){const _0x4ce23f=this['_loader']['getHandler']('script');_0x4ce23f['_cache'][_0x1ab7dc['id']]&&_0x4ce23f['_cache'][_0x1ab7dc['id']]['parentNode']===document['head']&&document['head']['removeChil'+'d'](_0x4ce23f['_cache'][_0x1ab7dc['id']]),_0x4ce23f['_cache'][_0x1ab7dc['id']]=_0x5c91e8;}_0x5f028a(_0x449ede);}};if(_0x399154||_0x1ab7dc['type']==='cubemap'){this['fire']('load:start',_0x1ab7dc),this['fire']('load:'+_0x1ab7dc['id']+':start',_0x1ab7dc),_0x1ab7dc['loading']=!(-0x42+-0x153a*-0x1+-0x14f8);const _0x3335ca=_0x1ab7dc['getFileUrl']();if(_0x1ab7dc['type']==='bundle'){const _0x46683a=_0x1ab7dc['data']['assets'];for(let _0x4565a9=0xbc0*-0x2+-0x1*-0x10f+0x1671;_0x4565a9<_0x46683a['length'];_0x4565a9++){const _0x23c836=this['_idToAsset']['get'](_0x46683a[_0x4565a9]);_0x23c836&&(_0x23c836['loaded']||_0x23c836['resource']||_0x23c836['loading']||(_0x23c836['loading']=!(0x169b+0x2*0x1eb+0x1*-0x1a71)));}}this['_loader']['load'](_0x3335ca,_0x1ab7dc['type'],_0x411b8b,_0x1ab7dc,_0x1e5a76);}else{const _0x56d88b=this['_loader']['open'](_0x1ab7dc['type'],_0x1ab7dc['data']);_0x1ab7dc['loaded']=!(0x1482+0x1af*0x11+-0x3121),_0x5f028a(_0x56d88b);}}['reloadInde'+'x'](_0x949b67,_0x5970d0,_0x108e6d){const _0x30d7a8=(_0x148b74,_0x16a734,_0x57e736)=>{_0x5970d0['loaded']=!(0x1*0x160d+-0x43b+0x8e9*-0x2),_0x5970d0['loading']=!(-0x6*0x17d+-0x1c04+0x24f3);};return this['_loader']['load'](_0x949b67,_0x5970d0['type'],_0x30d7a8,_0x5970d0,_0x108e6d),_0x5970d0;}['loadFromUr'+'l'](_0x10feb0,_0x1688d8,_0x29186e){this['loadFromUr'+'lAndFilena'+'me'](_0x10feb0,null,_0x1688d8,_0x29186e);}['loadFromUr'+'lAndFilena'+'me'](_0x3ef3ce,_0x252c2b,_0x2be20b,_0x5c8ddd){const _0x23681b=xe['getBasenam'+'e'](_0x252c2b||_0x3ef3ce),_0x52fbc5={'filename':_0x252c2b||_0x23681b,'url':_0x3ef3ce};let _0x139643=this['getByUrl'](_0x3ef3ce);if(!_0x139643)_0x139643=new pe(_0x23681b,_0x2be20b,_0x52fbc5),this['add'](_0x139643);else{if(_0x139643['loaded']){_0x5c8ddd(_0x139643['loadFromUr'+'lError']||null,_0x139643);return;}}const _0x4e6e10=_0x35a1ef=>{_0x35a1ef['once']('load',_0x7779ad=>{_0x2be20b==='material'?this['_loadTextu'+'res'](_0x7779ad,(_0x5d10d2,_0x2f4cd7)=>{_0x5c8ddd(_0x5d10d2,_0x7779ad);}):_0x5c8ddd(null,_0x7779ad);}),_0x35a1ef['once']('error',_0x55fb6a=>{_0x55fb6a&&(this['loadFromUr'+'lError']=_0x55fb6a),_0x5c8ddd(_0x55fb6a,_0x35a1ef);}),this['load'](_0x35a1ef);};_0x139643['resource']?_0x5c8ddd(null,_0x139643):_0x2be20b==='model'?this['_loadModel'](_0x139643,_0x4e6e10):_0x4e6e10(_0x139643);}['_loadModel'](_0x3cbfd0,_0x2c10e7){const _0x435023=_0x3cbfd0['getFileUrl'](),_0x5d8f5f=xe['getExtensi'+'on'](_0x435023);if(_0x5d8f5f==='.json'||_0x5d8f5f==='.glb'){const _0x4f7c50=xe['getDirecto'+'ry'](_0x435023),_0xfa7328=xe['getBasenam'+'e'](_0x435023),_0x5b2703=xe['join'](_0x4f7c50,_0xfa7328['replace'](_0x5d8f5f,'.mapping.j'+'son'));this['_loader']['load'](_0x5b2703,'json',(_0x18fb50,_0x429b3a)=>{_0x18fb50?(_0x3cbfd0['data']={'mapping':[]},_0x2c10e7(_0x3cbfd0)):this['_loadMater'+'ials'](_0x3cbfd0,_0x429b3a,(_0x6e3eb8,_0x4349df)=>{_0x3cbfd0['data']=_0x429b3a,_0x2c10e7(_0x3cbfd0);});});}else _0x2c10e7(_0x3cbfd0);}['_loadMater'+'ials'](_0x3ab3e1,_0x3a7f02,_0x374f79){const _0x5134bf=[];let _0x301813=-0x383+-0x1b1b+0x1e9e;const _0x58083f=(_0x5f0df9,_0x420398)=>{this['_loadTextu'+'res'](_0x420398,(_0x4d67b3,_0x11eabb)=>{_0x5134bf['push'](_0x420398),_0x5134bf['length']===_0x301813&&_0x374f79(null,_0x5134bf);});};for(let _0x2ff98a=-0x3c7*-0x2+-0xb38+-0x2*-0x1d5;_0x2ff98a<_0x3a7f02['mapping']['length'];_0x2ff98a++){const _0x5931c9=_0x3a7f02['mapping'][_0x2ff98a]['path'];if(_0x5931c9){_0x301813++;const _0x252b21=_0x3ab3e1['getAbsolut'+'eUrl'](_0x5931c9);this['loadFromUr'+'l'](_0x252b21,'material',_0x58083f);}}_0x301813===0x1763+0x2201*-0x1+0x54f*0x2&&_0x374f79(null,_0x5134bf);}['_loadTextu'+'res'](_0x2867f9,_0x47bcca){const _0x468397=[];let _0xc5b599=-0xb56+0x1*0x15e8+0x52*-0x21;const _0x23dab9=_0x2867f9['data'];if(_0x23dab9['mappingFor'+'mat']!=='path'){w['warn']('Skipping:\x20'+_0x2867f9['name']+(',\x20material'+'\x20files\x20mus'+'t\x20be\x20mappi'+'ngFormat:\x20'+'\x22path\x22\x20to\x20'+'be\x20loaded\x20'+'from\x20URL')),_0x47bcca(null,_0x468397);return;}const _0x5b7543=(_0x1bd65d,_0x5de854)=>{_0x1bd65d&&console['error'](_0x1bd65d),_0x468397['push'](_0x5de854),_0x468397['length']===_0xc5b599&&_0x47bcca(null,_0x468397);},_0x4c70e9=Cd;for(let _0x3f95ea=0x6db+0x10ee*0x1+-0x17c9;_0x3f95ea<_0x4c70e9['length'];_0x3f95ea++){const _0x3cf5ae=_0x23dab9[_0x4c70e9[_0x3f95ea]];if(_0x3cf5ae&&typeof _0x3cf5ae=='string'){_0xc5b599++;const _0x18cfbe=_0x2867f9['getAbsolut'+'eUrl'](_0x3cf5ae);this['loadFromUr'+'l'](_0x18cfbe,'texture',_0x5b7543);}}_0xc5b599===0x593*-0x3+-0x7bb+0x1874&&_0x47bcca(null,_0x468397);}['_onTagAdd'](_0x2987e6,_0x45b67a){this['_tags']['add'](_0x2987e6,_0x45b67a);}['_onTagRemo'+'ve'](_0x2a885b,_0x1b0adc){this['_tags']['remove'](_0x2a885b,_0x1b0adc);}['_onNameCha'+'nge'](_0x9818d9,_0x25c645,_0x4e1eb3){if(this['_nameToAss'+'et']['has'](_0x4e1eb3)){const _0x33eceb=this['_nameToAss'+'et']['get'](_0x4e1eb3);_0x33eceb['delete'](_0x9818d9),_0x33eceb['size']===-0x5d1+-0x2390+0x2961&&this['_nameToAss'+'et']['delete'](_0x4e1eb3);}this['_nameToAss'+'et']['has'](_0x9818d9['name'])||this['_nameToAss'+'et']['set'](_0x9818d9['name'],new Set()),this['_nameToAss'+'et']['get'](_0x9818d9['name'])['add'](_0x9818d9);}['findByTag'](..._0x4cd0a1){return this['_tags']['find'](_0x4cd0a1);}['filter'](_0x5cebce){return Array['from'](this['_assets'])['filter'](_0x14938d=>_0x5cebce(_0x14938d));}['find'](_0x19f796,_0x83600b){const _0x25b9ab=this['_nameToAss'+'et']['get'](_0x19f796);if(!_0x25b9ab)return null;for(const _0x20eaea of _0x25b9ab)if(!_0x83600b||_0x20eaea['type']===_0x83600b)return _0x20eaea;return null;}['findAll'](_0x3dbc87,_0x55e2c6){const _0x39d80e=this['_nameToAss'+'et']['get'](_0x3dbc87);if(!_0x39d80e)return[];const _0x6581b1=Array['from'](_0x39d80e);return _0x55e2c6?_0x6581b1['filter'](_0x36ddd7=>_0x36ddd7['type']===_0x55e2c6):_0x6581b1;}}h(mn,'EVENT_LOAD','load'),h(mn,'EVENT_ADD','add'),h(mn,'EVENT_REMO'+'VE','remove'),h(mn,'EVENT_ERRO'+'R','error');class UC{constructor(_0xe4ab1a){h(this,'_idToBundl'+'e',new Map()),h(this,'_assetToBu'+'ndles',new Map()),h(this,'_urlsToBun'+'dles',new Map()),h(this,'_fileReque'+'sts',new Map()),(this['_assets']=_0xe4ab1a,this['_assets']['bundles']=this,this['_assets']['on']('add',this['_onAssetAd'+'d'],this),this['_assets']['on']('remove',this['_onAssetRe'+'move'],this));}['_onAssetAd'+'d'](_0x1f4da9){if(_0x1f4da9['type']==='bundle'){this['_idToBundl'+'e']['set'](_0x1f4da9['id'],_0x1f4da9),this['_assets']['on']('load:start'+':'+_0x1f4da9['id'],this['_onBundleL'+'oadStart'],this),this['_assets']['on']('load:'+_0x1f4da9['id'],this['_onBundleL'+'oad'],this),this['_assets']['on']('error:'+_0x1f4da9['id'],this['_onBundleE'+'rror'],this);const _0x2c7254=_0x1f4da9['data']['assets'];for(let _0x14d3ef=0x257a+-0x637+-0x1f43;_0x14d3ef<_0x2c7254['length'];_0x14d3ef++)this['_indexAsse'+'tInBundle'](_0x2c7254[_0x14d3ef],_0x1f4da9);}else this['_assetToBu'+'ndles']['has'](_0x1f4da9['id'])&&this['_indexAsse'+'tFileUrls'](_0x1f4da9);}['_unbindAss'+'etEvents'](_0x40141b){this['_assets']['off']('load:start'+':'+_0x40141b,this['_onBundleL'+'oadStart'],this),this['_assets']['off']('load:'+_0x40141b,this['_onBundleL'+'oad'],this),this['_assets']['off']('error:'+_0x40141b,this['_onBundleE'+'rror'],this);}['_indexAsse'+'tInBundle'](_0x3485b9,_0x2e9555){let _0x1023d1=this['_assetToBu'+'ndles']['get'](_0x3485b9);_0x1023d1||(_0x1023d1=new Set(),this['_assetToBu'+'ndles']['set'](_0x3485b9,_0x1023d1)),_0x1023d1['add'](_0x2e9555);const _0x5c1f18=this['_assets']['get'](_0x3485b9);_0x5c1f18&&this['_indexAsse'+'tFileUrls'](_0x5c1f18);}['_indexAsse'+'tFileUrls'](_0x3e2ee1){const _0x1c54a6=this['_getAssetF'+'ileUrls'](_0x3e2ee1);if(_0x1c54a6)for(let _0x3530eb=-0x22f1+-0x1ea8+0x7*0x95f;_0x3530eb<_0x1c54a6['length'];_0x3530eb++){const _0x4c3015=this['_assetToBu'+'ndles']['get'](_0x3e2ee1['id']);_0x4c3015&&this['_urlsToBun'+'dles']['set'](_0x1c54a6[_0x3530eb],_0x4c3015);}}['_getAssetF'+'ileUrls'](_0x50d4bf){let _0xf324c5=_0x50d4bf['getFileUrl']();if(!_0xf324c5)return null;_0xf324c5=_0xf324c5['split']('?')[0x1935+-0x643+0x19*-0xc2];const _0x2a63ca=[_0xf324c5];if(_0x50d4bf['type']==='font'){const _0x128eb3=_0x50d4bf['data']['info']['maps']['length'];for(let _0x361088=-0x25f2+-0x68d*-0x3+0x124c*0x1;_0x361088<_0x128eb3;_0x361088++)_0x2a63ca['push'](_0xf324c5['replace']('.png',_0x361088+'.png'));}return _0x2a63ca;}['_onAssetRe'+'move'](_0x55d871){if(_0x55d871['type']==='bundle'){this['_idToBundl'+'e']['delete'](_0x55d871['id']),this['_unbindAss'+'etEvents'](_0x55d871['id']);const _0x4df6ce=_0x55d871['data']['assets'];for(let _0x234e0a=-0x2101+0x3b*-0xa5+0x1*0x4708;_0x234e0a<_0x4df6ce['length'];_0x234e0a++){const _0x1cffb6=this['_assetToBu'+'ndles']['get'](_0x4df6ce[_0x234e0a]);if(_0x1cffb6&&(_0x1cffb6['delete'](_0x55d871),_0x1cffb6['size']===0x18d5+0xb*-0x59+-0x1502*0x1)){this['_assetToBu'+'ndles']['delete'](_0x4df6ce[_0x234e0a]);for(const [_0x20d277,_0x246e0b]of this['_urlsToBun'+'dles'])_0x246e0b===_0x1cffb6&&this['_urlsToBun'+'dles']['delete'](_0x20d277);}}this['_onBundleE'+'rror']('Bundle\x20'+_0x55d871['id']+('\x20was\x20remov'+'ed'));}else{if(!this['_assetToBu'+'ndles']['get'](_0x55d871['id']))return;this['_assetToBu'+'ndles']['delete'](_0x55d871['id']);const _0x60e3e0=this['_getAssetF'+'ileUrls'](_0x55d871);if(!_0x60e3e0)return;for(let _0x27b2a8=0x1*0x51f+-0xb2c+0x60d;_0x27b2a8<_0x60e3e0['length'];_0x27b2a8++)this['_urlsToBun'+'dles']['delete'](_0x60e3e0[_0x27b2a8]);}}['_onBundleL'+'oadStart'](_0x31cc5c){_0x31cc5c['resource']['on']('add',(_0x3df1b5,_0x2fb4a4)=>{const _0x496a90=this['_fileReque'+'sts']['get'](_0x3df1b5);if(_0x496a90){for(let _0x56e596=-0x14b8+0x13ff+0x5*0x25;_0x56e596<_0x496a90['length'];_0x56e596++)_0x496a90[_0x56e596](null,_0x2fb4a4);this['_fileReque'+'sts']['delete'](_0x3df1b5);}});}['_onBundleL'+'oad'](_0x437338){if(!_0x437338['resource']){this['_onBundleE'+'rror']('Bundle\x20'+_0x437338['id']+('\x20failed\x20to'+'\x20load'));return;}if(this['_fileReque'+'sts'])for(const [_0x4c34ff,_0x17b408]of this['_fileReque'+'sts']){const _0x7df882=this['_urlsToBun'+'dles']['get'](_0x4c34ff);if(!_0x7df882||!_0x7df882['has'](_0x437338))continue;const _0x4fa307=decodeURIComponent(_0x4c34ff);let _0x4be83b,_0x2b456d;if(_0x437338['resource']['has'](_0x4fa307))_0x2b456d=_0x437338['resource']['get'](_0x4fa307);else{if(_0x437338['resource']['loaded'])_0x4be83b='Bundle\x20'+_0x437338['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x4c34ff;else continue;}for(let _0x560075=0x25*-0x7f+0x261d+-0x13c2;_0x560075<_0x17b408['length'];_0x560075++)_0x17b408[_0x560075](_0x4be83b,_0x4be83b||_0x2b456d);this['_fileReque'+'sts']['delete'](_0x4c34ff);}}['_onBundleE'+'rror'](_0x4cea69){for(const [_0x11bb82,_0x1eed3f]of this['_fileReque'+'sts'])if(!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x11bb82)){for(let _0x3ce88f=0x1*-0x20e+-0xaac+0xcba;_0x3ce88f<_0x1eed3f['length'];_0x3ce88f++)_0x1eed3f[_0x3ce88f](_0x4cea69);this['_fileReque'+'sts']['delete'](_0x11bb82);}}['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x229fc3){const _0x4f4f0f=this['_urlsToBun'+'dles']['get'](_0x229fc3);if(!_0x4f4f0f)return null;let _0x42abd8=null;for(const _0x59386e of _0x4f4f0f){if(_0x59386e['loaded']&&_0x59386e['resource'])return _0x59386e;_0x59386e['loading']&&(_0x42abd8=_0x59386e);}return _0x42abd8;}['listBundle'+'sForAsset'](_0x5dc5df){const _0x5f1d8b=this['_assetToBu'+'ndles']['get'](_0x5dc5df['id']);return _0x5f1d8b?Array['from'](_0x5f1d8b):null;}['list'](){return Array['from'](this['_idToBundl'+'e']['values']());}['hasUrl'](_0x473d43){return this['_urlsToBun'+'dles']['has'](_0x473d43);}['urlIsLoade'+'dOrLoading'](_0x4b899c){return!!this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x4b899c);}['loadUrl'](_0x13ef53,_0x2f9a68){const _0x470dca=this['_findLoade'+'dOrLoading'+'BundleForU'+'rl'](_0x13ef53);if(!_0x470dca){_0x2f9a68('URL\x20'+_0x13ef53+('\x20not\x20found'+'\x20in\x20any\x20bu'+'ndles'));return;}if(_0x470dca['loaded']){const _0x5a9df5=decodeURIComponent(_0x13ef53);if(_0x470dca['resource']['has'](_0x5a9df5)){_0x2f9a68(null,_0x470dca['resource']['get'](_0x5a9df5));return;}else{if(_0x470dca['resource']['loaded']){_0x2f9a68('Bundle\x20'+_0x470dca['id']+('\x20does\x20not\x20'+'contain\x20UR'+'L\x20')+_0x13ef53);return;}}}let _0x575c8f=this['_fileReque'+'sts']['get'](_0x13ef53);_0x575c8f||(_0x575c8f=[],this['_fileReque'+'sts']['set'](_0x13ef53,_0x575c8f)),_0x575c8f['push'](_0x2f9a68);}['destroy'](){this['_assets']['off']('add',this['_onAssetAd'+'d'],this),this['_assets']['off']('remove',this['_onAssetRe'+'move'],this);for(const _0x1be91b of this['_idToBundl'+'e']['keys']())this['_unbindAss'+'etEvents'](_0x1be91b);this['_assets']=null,this['_idToBundl'+'e']['clear'](),this['_idToBundl'+'e']=null,this['_assetToBu'+'ndles']['clear'](),this['_assetToBu'+'ndles']=null,this['_urlsToBun'+'dles']['clear'](),this['_urlsToBun'+'dles']=null,this['_fileReque'+'sts']['clear'](),this['_fileReque'+'sts']=null;}}class BC extends me{constructor(){super(),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'joint'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'zone'),this['list']=[];}['add'](_0x29042a){const _0x27d9b7=_0x29042a['id'];if(this[_0x27d9b7])throw new Error('ComponentS'+'ystem\x20name'+'\x20\x27'+_0x27d9b7+('\x27\x20already\x20'+'registered'+'\x20or\x20not\x20al'+'lowed'));this[_0x27d9b7]=_0x29042a,this['list']['push'](_0x29042a);}['remove'](_0x4d911e){const _0xa4cb3=_0x4d911e['id'];if(!this[_0xa4cb3])throw new Error('No\x20Compone'+'ntSystem\x20n'+'amed\x20\x27'+_0xa4cb3+('\x27\x20register'+'ed'));delete this[_0xa4cb3];const _0x5b8e7e=this['list']['indexOf'](this[_0xa4cb3]);_0x5b8e7e!==-(-0x86d+-0xbe3*0x1+0x1451)&&this['list']['splice'](_0x5b8e7e,0x3*-0x1d7+-0xe06+0x138c);}['destroy'](){this['off']();for(let _0x318f1f=0x227*-0xd+-0x119*0x17+0x8df*0x6;_0x318f1f<this['list']['length'];_0x318f1f++)this['list'][_0x318f1f]['destroy']();}}class gu extends me{constructor(){super(...arguments),h(this,'_index',new Map()),h(this,'_loaded',!(-0xea*-0x6+-0x71d*-0x3+-0x1ad2));}['addFile'](_0xc61820,_0x39aabb){this['_index']['has'](_0xc61820)||(this['_index']['set'](_0xc61820,_0x39aabb),this['fire']('add',_0xc61820,_0x39aabb));}['has'](_0x249506){return this['_index']['has'](_0x249506);}['get'](_0x183dea){return this['_index']['get'](_0x183dea)||null;}['destroy'](){this['_index']['clear']();}set['loaded'](_0x210cd7){!_0x210cd7||this['_loaded']||(this['_loaded']=!(0x14ee+-0x1fd8+-0x1*-0xaea),this['fire']('load'));}get['loaded'](){return this['_loaded'];}}h(gu,'EVENT_ADD','add'),h(gu,'EVENT_LOAD','load');class zC extends me{constructor(_0x4ea7f3,_0x18dee3=''){super(),h(this,'headerSize',-0x602+-0x1c*-0x2+0x7ca),h(this,'paddingSiz'+'e',0x164+0x1231+-0x1195),h(this,'bytesRead',-0x65f*0x3+0x249+0x10d4),h(this,'bytesRecei'+'ved',0x411+-0x1*0x1d53+0x1942),h(this,'headerRead',!(0x2*-0x7f7+-0x1*0xe17+0x9*0x356)),h(this,'reader',null),h(this,'data',new Uint8Array(0x827+0xe21+0x17*-0xf8)),h(this,'decoder',null),h(this,'prefix',''),h(this,'fileName',''),h(this,'fileSize',-0x1e92+-0x119c+-0x7*-0x6e2),h(this,'fileType',''),h(this,'ustarForma'+'t',''),(this['prefix']=_0x18dee3||'',this['reader']=_0x4ea7f3['body']['getReader'](),this['reader']['read']()['then'](_0x2e26ac=>{this['pump'](_0x2e26ac['done'],_0x2e26ac['value']);})['catch'](_0x4af104=>{this['fire']('error',_0x4af104);}));}['pump'](_0x2c2e7f,_0x5d2cac){if(_0x2c2e7f)return this['fire']('done'),null;this['bytesRecei'+'ved']+=_0x5d2cac['byteLength'];const _0x12d2a9=new Uint8Array(this['data']['length']+_0x5d2cac['length']);for(_0x12d2a9['set'](this['data']),_0x12d2a9['set'](_0x5d2cac,this['data']['length']),this['data']=_0x12d2a9;this['readFile'](););return this['reader']['read']()['then'](_0x51a1ee=>{this['pump'](_0x51a1ee['done'],_0x51a1ee['value']);})['catch'](_0x37c22f=>{this['fire']('error',_0x37c22f);});}['readFile'](){if(!this['headerRead']&&this['bytesRecei'+'ved']>this['bytesRead']+this['headerSize']){this['headerRead']=!(-0x1e*-0x13d+-0x18aa+-0xbc*0x11);const _0x360fc7=new DataView(this['data']['buffer'],this['bytesRead'],this['headerSize']);this['decoder']??(this['decoder']=new TextDecoder('windows-12'+'52'));const _0x47b822=this['decoder']['decode'](_0x360fc7);if(this['fileName']=_0x47b822['substring'](-0x1*-0x6c5+0x14e2*0x1+-0x1ba7,-0xad*0x1+-0x24a+0x35b)['replace'](/\0/g,''),this['fileSize']=parseInt(_0x47b822['substring'](-0x188f+0x3*0x859+0x0,0x82f+0x2*-0xef4+0x1641*0x1),-0x277*0xd+0xe*0x121+-0x5*-0x341),this['fileType']=_0x47b822['substring'](-0x1cfc+0x22*0xb2+-0x5f4*-0x1,-0x758+0x1*-0x8f+-0xda*-0xa),this['ustarForma'+'t']=_0x47b822['substring'](-0xb*-0x5d+-0x3*-0x6ad+-0x1705,0x1*0xc7a+0x6b*0x35+0x219a*-0x1),this['ustarForma'+'t']['indexOf']('ustar')!==-(-0x110c+0x6a7+-0xb*-0xf2)){const _0x16b13e=_0x47b822['substring'](0xcd7+-0x1*-0x1c8f+0x280d*-0x1,-0x3f9*0x6+-0x7b2+0x2*0x10be)['replace'](/\0/g,'');_0x16b13e['length']>0x13*-0x37+-0x168f+0x1aa4&&(this['fileName']=_0x16b13e['trim']()+this['fileName']['trim']());}this['bytesRead']+=0x5d9*-0x1+0x142f*0x1+0x1*-0xc56;}if(this['headerRead']){if(this['bytesRecei'+'ved']<this['bytesRead']+this['fileSize'])return!(0x7eb+-0xec*-0x1c+0xb3e*-0x3);if(this['fileType']===''||this['fileType']==='0'){const _0xb7af23=new DataView(this['data']['buffer'],this['bytesRead'],this['fileSize']),_0x3ce91c={'name':this['prefix']+this['fileName'],'size':this['fileSize'],'data':_0xb7af23};this['fire']('file',_0x3ce91c);}this['bytesRead']+=this['fileSize'],this['headerRead']=!(-0xc2c+-0xf79+-0x2*-0xdd3);const _0x4ee4ec=this['bytesRead']%this['paddingSiz'+'e'];return _0x4ee4ec!==-0x1*0xae5+-0x1d01+-0x1*-0x27e6&&(this['bytesRead']+=this['paddingSiz'+'e']-_0x4ee4ec),!(0x243a+-0x210b+0x5*-0xa3);}return!(-0x1c76+-0x20e1+-0xd*-0x4b8);}}class Qe{constructor(_0x3f4547,_0x515ac8){h(this,'handlerTyp'+'e',''),h(this,'_app'),h(this,'_maxRetrie'+'s',0xb*0x22d+-0x795+-0xd*0x142),(this['_app']=_0x3f4547,this['handlerTyp'+'e']=_0x515ac8);}set['maxRetries'](_0x5adbf0){this['_maxRetrie'+'s']=_0x5adbf0;}get['maxRetries'](){return this['_maxRetrie'+'s'];}['load'](_0x5eadce,_0x4e817d,_0x15866e){}['open'](_0x3f50f2,_0x107292,_0x48f4ec){return _0x107292;}['patch'](_0x13a044,_0x154a22){}}class VC extends Qe{constructor(_0xcf336d){super(_0xcf336d,'bundle'),this['_assets']=_0xcf336d['assets'];}['_fetchRetr'+'ies'](_0x34bfec,_0x3d9a2a,_0x24e461=0x1a*0x8b+-0x1fd2+0xb*0x19c){return new Promise((_0x1f3c25,_0x1db1f4)=>{const _0x18932a=()=>{fetch(_0x34bfec,_0x3d9a2a)['then'](_0x1f3c25)['catch'](_0x3a7406=>{_0x24e461++,_0x24e461<this['maxRetries']?(w['error']('Bundle\x20fai'+'led\x20to\x20loa'+'d\x20retrying'+'\x20(attempt\x20'+_0x24e461),_0x18932a()):_0x1db1f4(_0x3a7406);});};_0x18932a();});}['load'](_0x476569,_0x344ccc){typeof _0x476569=='string'&&(_0x476569={'load':_0x476569,'original':_0x476569}),this['_fetchRetr'+'ies'](_0x476569['load'],{'mode':'cors'},this['maxRetries'])['then'](_0xda2e43=>{const _0x410d01=new gu();_0x344ccc(null,_0x410d01);const _0x5dc840=new zC(_0xda2e43,this['_assets']['prefix']);_0x5dc840['on']('file',_0x5e2e02=>{_0x410d01['addFile'](_0x5e2e02['name'],_0x5e2e02['data']);}),_0x5dc840['on']('done',()=>{_0x410d01['loaded']=!(-0x19fb*-0x1+-0x1486*-0x1+-0x2e81);}),_0x5dc840['on']('error',_0x18372d=>{w['error'](_0x18372d),_0x344ccc(_0x18372d);});})['catch'](_0x52e42c=>{w['error'](_0x52e42c),_0x344ccc(_0x52e42c);});}['open'](_0x239d8b,_0x43d473){return _0x43d473;}}class Cn{constructor(_0x226e06){this['_handlers']={},this['_requests']={},this['_cache']={},this['_app']=_0x226e06;}['addHandler'](_0x36400e,_0x50b1c0){this['_handlers'][_0x36400e]=_0x50b1c0,_0x50b1c0['_loader']=this;}['removeHand'+'ler'](_0x3bbdef){delete this['_handlers'][_0x3bbdef];}['getHandler'](_0x38eeee){return this['_handlers'][_0x38eeee];}static['makeKey'](_0x4e08e7,_0x37c08){return _0x4e08e7+'-'+_0x37c08;}['load'](_0x38eb38,_0x45a45f,_0x3c3e2d,_0x3e5343,_0x3d9991){var _0x1ec235;const _0x2e7a6b=this['_handlers'][_0x45a45f];if(!_0x2e7a6b){const _0x4aa6fa='No\x20resourc'+'e\x20handler\x20'+'for\x20asset\x20'+'type:\x20\x27'+_0x45a45f+('\x27\x20when\x20loa'+'ding\x20[')+_0x38eb38+']';w['errorOnce'](_0x4aa6fa),_0x3c3e2d(_0x4aa6fa);return;}if(!_0x38eb38){this['_loadNull'](_0x2e7a6b,_0x3c3e2d,_0x3e5343);return;}const _0xbd9b7a=Cn['makeKey'](_0x38eb38,_0x45a45f);if(this['_requests'][_0xbd9b7a])this['_requests'][_0xbd9b7a]['push'](_0x3c3e2d);else{this['_requests'][_0xbd9b7a]=[_0x3c3e2d];const _0x301971=this,_0x9cf61a=function(_0x164fd3,_0x51d61b){if(_0x164fd3){_0x301971['_onFailure'](_0xbd9b7a,_0x164fd3);return;}if(_0x51d61b['load']instanceof DataView){if(_0x2e7a6b['openBinary']){if(!_0x301971['_requests'][_0xbd9b7a])return;try{const _0x3a4100=_0x2e7a6b['openBinary'](_0x51d61b['load']);_0x301971['_onSuccess'](_0xbd9b7a,_0x3a4100);}catch(_0x97d21b){_0x301971['_onFailure'](_0xbd9b7a,_0x97d21b);}return;}_0x51d61b['load']=URL['createObje'+'ctURL'](new Blob([_0x51d61b['load']])),_0x3e5343&&(_0x3e5343['urlObject']&&URL['revokeObje'+'ctURL'](_0x3e5343['urlObject']),_0x3e5343['urlObject']=_0x51d61b['load']);}_0x2e7a6b['load'](_0x51d61b,(_0x40fe0f,_0x4d1247,_0x3b94ec)=>{if(_0x301971['_requests'][_0xbd9b7a]){if(_0x40fe0f){_0x301971['_onFailure'](_0xbd9b7a,_0x40fe0f);return;}try{_0x301971['_onSuccess'](_0xbd9b7a,_0x2e7a6b['open'](_0x51d61b['original'],_0x4d1247,_0x3e5343),_0x3b94ec);}catch(_0x3eacbb){_0x301971['_onFailure'](_0xbd9b7a,_0x3eacbb);}}},_0x3e5343);},_0x1fbd1d=_0x38eb38['split']('?')[0xa29*-0x1+-0xb31*0x3+-0x137*-0x24];if(this['_app']['enableBund'+'les']&&this['_app']['bundles']['hasUrl'](_0x1fbd1d)&&!(_0x3d9991&&_0x3d9991['bundlesIgn'+'ore'])){if(!this['_app']['bundles']['urlIsLoade'+'dOrLoading'](_0x1fbd1d)){const _0x551d34=this['_app']['bundles']['listBundle'+'sForAsset'](_0x3e5343);let _0x59faaa;_0x3d9991&&_0x3d9991['bundlesFil'+'ter']&&(_0x59faaa=_0x3d9991['bundlesFil'+'ter'](_0x551d34)),_0x59faaa||(_0x551d34==null||_0x551d34['sort']((_0xd047fd,_0x3e8467)=>_0xd047fd['file']['size']-_0x3e8467['file']['size']),_0x59faaa=_0x551d34==null?void(0x1eab+0x10cb+-0x2f76):_0x551d34[-0x218*0x10+0xbf*0x1b+0xd5b]),_0x59faaa&&((_0x1ec235=this['_app']['assets'])==null||_0x1ec235['load'](_0x59faaa));}this['_app']['bundles']['loadUrl'](_0x1fbd1d,(_0x5e8f0f,_0x54e338)=>{_0x9cf61a(_0x5e8f0f,{'load':_0x54e338,'original':_0x1fbd1d});});}else _0x9cf61a(null,{'load':_0x38eb38,'original':_0x3e5343&&_0x3e5343['file']['filename']||_0x38eb38});}}['_loadNull'](_0xeece1c,_0x27fdaf,_0x139be5){const _0x35ff46=function(_0x537c7a,_0x53a598,_0x233b11){if(_0x537c7a)_0x27fdaf(_0x537c7a);else try{_0x27fdaf(null,_0xeece1c['open'](null,_0x53a598,_0x139be5),_0x233b11);}catch(_0x134538){_0x27fdaf(_0x134538);}};_0xeece1c['load'](null,_0x35ff46,_0x139be5);}['_onSuccess'](_0x4786a0,_0x254af2,_0x31fdd5){for(let _0x409e11=0x10b0+0x40a*-0x8+0xfa0;_0x409e11<this['_requests'][_0x4786a0]['length'];_0x409e11++)this['_requests'][_0x4786a0][_0x409e11](null,_0x254af2,_0x31fdd5);delete this['_requests'][_0x4786a0];}['_onFailure'](_0x302fd4,_0x1c86c1){if(console['error'](_0x1c86c1),this['_requests'][_0x302fd4]){for(let _0x5b3575=-0x1d36+-0x1ac4+0x37fa;_0x5b3575<this['_requests'][_0x302fd4]['length'];_0x5b3575++)this['_requests'][_0x302fd4][_0x5b3575](_0x1c86c1);delete this['_requests'][_0x302fd4];}}['open'](_0x547350,_0x3522cf){const _0x19eff9=this['_handlers'][_0x547350];return _0x19eff9?_0x19eff9['open'](null,_0x3522cf):(console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x547350),_0x3522cf);}['patch'](_0x3a585c,_0x1c37b0){const _0x46d15d=this['_handlers'][_0x3a585c['type']];if(!_0x46d15d){console['warn']('No\x20resourc'+'e\x20handler\x20'+'found\x20for:'+'\x20'+_0x3a585c['type']);return;}_0x46d15d['patch']&&_0x46d15d['patch'](_0x3a585c,_0x1c37b0);}['clearCache'](_0x1c6948,_0x1e5e7a){const _0x2c945b=Cn['makeKey'](_0x1c6948,_0x1e5e7a);delete this['_cache'][_0x2c945b];}['getFromCac'+'he'](_0x33ecad,_0x2e336b){const _0xa6a595=Cn['makeKey'](_0x33ecad,_0x2e336b);if(this['_cache'][_0xa6a595])return this['_cache'][_0xa6a595];}['enableRetr'+'y'](_0x79ea3e=-0x3*-0x88f+-0xc2f*-0x3+-0x1c7*0x23){_0x79ea3e=Math['max'](-0x2228+0x13f2+0xe36,_0x79ea3e)||-0x1af0+-0x289+-0x1f7*-0xf;for(const _0x5397c2 in this['_handlers'])this['_handlers'][_0x5397c2]['maxRetries']=_0x79ea3e;}['disableRet'+'ry'](){for(const _0x2b99f5 in this['_handlers'])this['_handlers'][_0x2b99f5]['maxRetries']=0x3*-0x2ea+0x2*-0x12e0+0x2e7e;}['destroyReq'+'uests'](){this['_requests']={};}['destroy'](){this['_handlers']={},this['_requests']={},this['_cache']={};}}class GC{['_validate'](_0x4befab){if(!_0x4befab['header'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er\x22\x20field');if(!_0x4befab['header']['version'])throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22head'+'er.version'+'\x22\x20field');if(_0x4befab['header']['version']!==-0x25c6+-0x2*-0xb27+-0x1*-0xf79)throw new Error('pc.I18n#ad'+'dData:\x20Inv'+'alid\x20\x22head'+'er.version'+'\x22\x20field');if(_0x4befab['data']){if(!Array['isArray'](_0x4befab['data']))throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta\x22\x20field\x20'+'must\x20be\x20an'+'\x20array');}else throw new Error('pc.I18n#ad'+'dData:\x20Mis'+'sing\x20\x22data'+'\x22\x20field');for(let _0x233ab2=0x235b+-0x7*-0x1fa+-0x3131*0x1,_0x2b0f90=_0x4befab['data']['length'];_0x233ab2<_0x2b0f90;_0x233ab2++){const _0x42bfb8=_0x4befab['data'][_0x233ab2];if(!_0x42bfb8['info'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x233ab2+('].info\x22\x20fi'+'eld'));if(!_0x42bfb8['info']['locale'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x233ab2+('].info.loc'+'ale\x22\x20field'));if(typeof _0x42bfb8['info']['locale']!='string')throw new Error('pc.I18n#ad'+'dData:\x20\x22da'+'ta['+_0x233ab2+('].info.loc'+'ale\x22\x20must\x20'+'be\x20a\x20strin'+'g'));if(!_0x42bfb8['messages'])throw new Error('pc.I18n#ad'+'dData:\x20mis'+'sing\x20\x22data'+'['+_0x233ab2+('].messages'+'\x22\x20field'));}}['parse'](_0x4329fc){return this['_validate'](_0x4329fc),_0x4329fc['data'];}}const Gh=class Gh extends me{constructor(_0xd3c1b0){super(),this['locale']=Ph,this['_translati'+'ons']={},this['_available'+'Langs']={},this['_app']=_0xd3c1b0,this['_assets']=[],this['_parser']=new GC();}set['assets'](_0x370d62){const _0x2e541c={};for(let _0x3643d1=-0x719+0x12a*0x1f+-0x1cfd,_0x5a753f=_0x370d62['length'];_0x3643d1<_0x5a753f;_0x3643d1++){const _0x37e9fa=_0x370d62[_0x3643d1]instanceof pe?_0x370d62[_0x3643d1]['id']:_0x370d62[_0x3643d1];_0x2e541c[_0x37e9fa]=!(0x1bbf*-0x1+0x34e+0x1*0x1871);}let _0x3e75cf=this['_assets']['length'];for(;_0x3e75cf--;){const _0xe14afc=this['_assets'][_0x3e75cf];if(!_0x2e541c[_0xe14afc]){this['_app']['assets']['off']('add:'+_0xe14afc,this['_onAssetAd'+'d'],this);const _0xd9d478=this['_app']['assets']['get'](_0xe14afc);_0xd9d478&&this['_onAssetRe'+'move'](_0xd9d478),this['_assets']['splice'](_0x3e75cf,-0x7*0xf1+-0x157c+0x4ae*0x6);}}for(const _0x22436f in _0x2e541c){const _0xd038cf=parseInt(_0x22436f,0x1*-0x347+-0x61*0x4f+0x2140);if(this['_assets']['indexOf'](_0xd038cf)!==-(0x28*0xe3+-0x3c*-0x59+-0x3853))continue;this['_assets']['push'](_0xd038cf);const _0x4226ac=this['_app']['assets']['get'](_0xd038cf);_0x4226ac?this['_onAssetAd'+'d'](_0x4226ac):this['_app']['assets']['once']('add:'+_0xd038cf,this['_onAssetAd'+'d'],this);}}get['assets'](){return this['_assets'];}set['locale'](_0x67cc49){if(this['_locale']===_0x67cc49)return;let _0x4c05f6=Oi(_0x67cc49);if(_0x4c05f6==='in'&&(_0x4c05f6='id',_0x67cc49=LC(_0x67cc49,_0x4c05f6),this['_locale']===_0x67cc49))return;const _0x111f44=this['_locale'];this['_locale']=_0x67cc49,this['_lang']=_0x4c05f6,this['_pluralFn']=Tf(this['_lang']),this['fire'](Gh['EVENT_CHAN'+'GE'],_0x67cc49,_0x111f44);}get['locale'](){return this['_locale'];}static['findAvaila'+'bleLocale'](_0x4153c7,_0x19235a){return Fv(_0x4153c7,_0x19235a);}['findAvaila'+'bleLocale'](_0x93953f){if(this['_translati'+'ons'][_0x93953f])return _0x93953f;const _0x441a1e=Oi(_0x93953f);return this['_findFallb'+'ackLocale'](_0x93953f,_0x441a1e);}['getText'](_0x322526,_0x5c6fb5){let _0x1f4a39=_0x322526,_0x41a9d9;_0x5c6fb5||(_0x5c6fb5=this['_locale'],_0x41a9d9=this['_lang']);let _0x329fcc=this['_translati'+'ons'][_0x5c6fb5];return _0x329fcc||(_0x41a9d9||(_0x41a9d9=Oi(_0x5c6fb5)),_0x5c6fb5=this['_findFallb'+'ackLocale'](_0x5c6fb5,_0x41a9d9),_0x329fcc=this['_translati'+'ons'][_0x5c6fb5]),_0x329fcc&&_0x329fcc['hasOwnProp'+'erty'](_0x322526)&&(_0x1f4a39=_0x329fcc[_0x322526],Array['isArray'](_0x1f4a39)&&(_0x1f4a39=_0x1f4a39[-0x996+0x2b3*0x7+-0x94f]),_0x1f4a39==null&&(_0x1f4a39=_0x322526)),_0x1f4a39;}['getPluralT'+'ext'](_0x34b8e0,_0x39b24c,_0x4b0819){let _0x817597=_0x34b8e0,_0x33f99e,_0x18ba4f;_0x4b0819?(_0x33f99e=Oi(_0x4b0819),_0x18ba4f=Tf(_0x33f99e)):(_0x4b0819=this['_locale'],_0x33f99e=this['_lang'],_0x18ba4f=this['_pluralFn']);let _0x4053fc=this['_translati'+'ons'][_0x4b0819];if(_0x4053fc||(_0x4b0819=this['_findFallb'+'ackLocale'](_0x4b0819,_0x33f99e),_0x33f99e=Oi(_0x4b0819),_0x18ba4f=Tf(_0x33f99e),_0x4053fc=this['_translati'+'ons'][_0x4b0819]),_0x4053fc&&_0x4053fc[_0x34b8e0]&&_0x18ba4f){const _0x55e582=_0x18ba4f(_0x39b24c);_0x817597=_0x4053fc[_0x34b8e0][_0x55e582],_0x817597==null&&(_0x817597=_0x34b8e0);}return _0x817597;}['addData'](_0xd723cb){let _0x1da770;try{_0x1da770=this['_parser']['parse'](_0xd723cb);}catch(_0x13ec3c){console['error'](_0x13ec3c);return;}for(let _0x3e1a15=-0x2*-0x363+-0x1136*0x2+0x1ba6,_0x1153a4=_0x1da770['length'];_0x3e1a15<_0x1153a4;_0x3e1a15++){const _0x54e0e8=_0x1da770[_0x3e1a15],_0x4effb1=_0x54e0e8['info']['locale'],_0x219890=_0x54e0e8['messages'];if(!this['_translati'+'ons'][_0x4effb1]){this['_translati'+'ons'][_0x4effb1]={};const _0x59a61f=Oi(_0x4effb1);this['_available'+'Langs'][_0x59a61f]||(this['_available'+'Langs'][_0x59a61f]=_0x4effb1);}Object['assign'](this['_translati'+'ons'][_0x4effb1],_0x219890),this['fire']('data:add',_0x4effb1,_0x219890);}}['removeData'](_0x50fc07){let _0x560cfd;try{_0x560cfd=this['_parser']['parse'](_0x50fc07);}catch(_0x2d00b2){console['error'](_0x2d00b2);return;}for(let _0x184970=0x1567+-0x917+-0xc50,_0x2293e6=_0x560cfd['length'];_0x184970<_0x2293e6;_0x184970++){const _0x2a3dae=_0x560cfd[_0x184970],_0x3ab04b=_0x2a3dae['info']['locale'],_0xe67b6a=this['_translati'+'ons'][_0x3ab04b];if(!_0xe67b6a)continue;const _0x8c8b3f=_0x2a3dae['messages'];for(const _0x45c232 in _0x8c8b3f)delete _0xe67b6a[_0x45c232];Object['keys'](_0xe67b6a)['length']===0x2d1*-0xd+-0x211*-0x9+0x1204&&(delete this['_translati'+'ons'][_0x3ab04b],delete this['_available'+'Langs'][Oi(_0x3ab04b)]),this['fire']('data:remov'+'e',_0x3ab04b,_0x8c8b3f);}}['destroy'](){this['_translati'+'ons']=null,this['_available'+'Langs']=null,this['_assets']=null,this['_parser']=null,this['off']();}['_findFallb'+'ackLocale'](_0x3d1117,_0x419c3a){let _0xb8ec16=Mh[_0x3d1117];return _0xb8ec16&&this['_translati'+'ons'][_0xb8ec16]||(_0xb8ec16=Mh[_0x419c3a],_0xb8ec16&&this['_translati'+'ons'][_0xb8ec16])||(_0xb8ec16=this['_available'+'Langs'][_0x419c3a],_0xb8ec16&&this['_translati'+'ons'][_0xb8ec16])?_0xb8ec16:Ph;}['_onAssetAd'+'d'](_0x21cb35){_0x21cb35['on']('load',this['_onAssetLo'+'ad'],this),_0x21cb35['on']('change',this['_onAssetCh'+'ange'],this),_0x21cb35['on']('remove',this['_onAssetRe'+'move'],this),_0x21cb35['on']('unload',this['_onAssetUn'+'load'],this),_0x21cb35['resource']&&this['_onAssetLo'+'ad'](_0x21cb35);}['_onAssetLo'+'ad'](_0x3069a2){this['addData'](_0x3069a2['resource']);}['_onAssetCh'+'ange'](_0x31ad3d){_0x31ad3d['resource']&&this['addData'](_0x31ad3d['resource']);}['_onAssetRe'+'move'](_0x4dd292){_0x4dd292['off']('load',this['_onAssetLo'+'ad'],this),_0x4dd292['off']('change',this['_onAssetCh'+'ange'],this),_0x4dd292['off']('remove',this['_onAssetRe'+'move'],this),_0x4dd292['off']('unload',this['_onAssetUn'+'load'],this),_0x4dd292['resource']&&this['removeData'](_0x4dd292['resource']),this['_app']['assets']['once']('add:'+_0x4dd292['id'],this['_onAssetAd'+'d'],this);}['_onAssetUn'+'load'](_0x25c32e){_0x25c32e['resource']&&this['removeData'](_0x25c32e['resource']);}};h(Gh,'EVENT_CHAN'+'GE','change');let wa=Gh;class HC extends me{constructor(_0x5865f2){super(),h(this,'_scripts',{}),h(this,'_list',[]),h(this,'_scriptSch'+'emas',new Map()),this['app']=_0x5865f2;}['destroy'](){this['app']=null,this['off']();}['addSchema'](_0x477c95,_0x2d88dd){_0x2d88dd&&this['_scriptSch'+'emas']['set'](_0x477c95,_0x2d88dd);}['getSchema'](_0x4ca62a){return this['_scriptSch'+'emas']['get'](_0x4ca62a);}['add'](_0x46e213){const _0x51ad84=_0x46e213['__name'];return this['_scripts']['hasOwnProp'+'erty'](_0x51ad84)?(setTimeout(()=>{if(_0x46e213['prototype']['swap']){const _0xd9e344=this['_scripts'][_0x51ad84],_0x30f2f0=this['_list']['indexOf'](_0xd9e344);this['_list'][_0x30f2f0]=_0x46e213,this['_scripts'][_0x51ad84]=_0x46e213,this['fire']('swap',_0x51ad84,_0x46e213),this['fire']('swap:'+_0x51ad84,_0x46e213);}else console['warn']('script\x20reg'+'istry\x20alre'+'ady\x20has\x20\x27'+_0x51ad84+('\x27\x20script,\x20'+'define\x20\x27sw'+'ap\x27\x20method'+'\x20for\x20new\x20s'+'cript\x20type'+'\x20to\x20enable'+'\x20code\x20hot\x20'+'swapping'));}),!(-0x20ea+-0x19ba+0x3aa5)):(this['_scripts'][_0x51ad84]=_0x46e213,this['_list']['push'](_0x46e213),this['fire']('add',_0x51ad84,_0x46e213),this['fire']('add:'+_0x51ad84,_0x46e213),setTimeout(()=>{if(!this['_scripts']['hasOwnProp'+'erty'](_0x51ad84)||!this['app']||!this['app']['systems']||!this['app']['systems']['script'])return;const _0x4b5b1e=this['app']['systems']['script']['_component'+'s'];let _0x1599fa;const _0xbd570b=[],_0x50dd1b=[];for(_0x4b5b1e['loopIndex']=-0x2481+0x140*-0x3+-0x2841*-0x1;_0x4b5b1e['loopIndex']<_0x4b5b1e['length'];_0x4b5b1e['loopIndex']++){const _0x104f21=_0x4b5b1e['items'][_0x4b5b1e['loopIndex']];if(_0x104f21['_scriptsIn'+'dex'][_0x51ad84]&&_0x104f21['_scriptsIn'+'dex'][_0x51ad84]['awaiting']){_0x104f21['_scriptsDa'+'ta']&&_0x104f21['_scriptsDa'+'ta'][_0x51ad84]&&(_0x1599fa=_0x104f21['_scriptsDa'+'ta'][_0x51ad84]['attributes']);const _0x3757dc=_0x104f21['create'](_0x51ad84,{'preloading':!(-0x1879+-0x1ec6+-0x373f*-0x1),'ind':_0x104f21['_scriptsIn'+'dex'][_0x51ad84]['ind'],'attributes':_0x1599fa});_0x3757dc&&_0xbd570b['push'](_0x3757dc);for(const _0x297c9a of _0x104f21['scripts'])_0x104f21['initialize'+'Attributes'](_0x297c9a);}}for(let _0x178721=0x1253+-0x1a8*-0xc+-0x2633;_0x178721<_0xbd570b['length'];_0x178721++)_0xbd570b[_0x178721]['enabled']&&(_0xbd570b[_0x178721]['_initializ'+'ed']=!(0x1135+-0x158d+0x458),_0x50dd1b['push'](_0xbd570b[_0x178721]),_0xbd570b[_0x178721]['initialize']&&_0xbd570b[_0x178721]['initialize']());for(let _0x5f0f79=-0x1*0x287+-0x1*0x91+0xb*0x48;_0x5f0f79<_0x50dd1b['length'];_0x5f0f79++)!_0x50dd1b[_0x5f0f79]['enabled']||_0x50dd1b[_0x5f0f79]['_postIniti'+'alized']||(_0x50dd1b[_0x5f0f79]['_postIniti'+'alized']=!(-0xb9*0x2b+0x1*-0x14a+0x205d),_0x50dd1b[_0x5f0f79]['postInitia'+'lize']&&_0x50dd1b[_0x5f0f79]['postInitia'+'lize']());}),!(0x1f3e+-0x1f12*0x1+-0x2c));}['remove'](_0x5cd02f){let _0x513e4b=_0x5cd02f,_0xe33bc8=_0x5cd02f;if(typeof _0xe33bc8!='string'?_0xe33bc8=_0x513e4b['__name']:_0x513e4b=this['get'](_0xe33bc8),this['get'](_0xe33bc8)!==_0x513e4b)return!(0x1a0+-0x2b*0x3+-0x11e);delete this['_scripts'][_0xe33bc8];const _0x2e6634=this['_list']['indexOf'](_0x513e4b);return this['_list']['splice'](_0x2e6634,-0xcc4+0x55*0x34+-0x47f),this['fire']('remove',_0xe33bc8,_0x513e4b),this['fire']('remove:'+_0xe33bc8,_0x513e4b),!(-0x36*-0xa6+-0x2*-0xb+-0x231a);}['get'](_0x51f1b1){return this['_scripts'][_0x51f1b1]||null;}['has'](_0x132435){if(typeof _0x132435=='string')return this['_scripts']['hasOwnProp'+'erty'](_0x132435);if(!_0x132435)return!(0x230f*-0x1+-0x1*0x400+0x3e8*0xa);const _0x13535a=_0x132435['__name'];return this['_scripts'][_0x13535a]===_0x132435;}['list'](){return this['_list'];}}const WC=(_0x27b2b6,_0x251ef6)=>_0x27b2b6['constructo'+'r']['order']-_0x251ef6['constructo'+'r']['order'],$C=_0x278cc9=>_0x278cc9['sort'](WC),po=[],Nv=[],XC=()=>Nv['pop']()??[],Ag=_0x36c640=>{_0x36c640['length']=0x48f*0x2+0x1752+0x40e*-0x8,Nv['push'](_0x36c640);},Hh=class Hh extends Ie{constructor(_0x308c25,_0x541403=Ms()){super(_0x308c25),h(this,'anim'),h(this,'animation'),h(this,'audioliste'+'ner'),h(this,'button'),h(this,'camera'),h(this,'collision'),h(this,'element'),h(this,'gsplat'),h(this,'layoutchil'+'d'),h(this,'layoutgrou'+'p'),h(this,'light'),h(this,'model'),h(this,'particlesy'+'stem'),h(this,'render'),h(this,'rigidbody'),h(this,'screen'),h(this,'script'),h(this,'scrollbar'),h(this,'scrollview'),h(this,'sound'),h(this,'sprite'),h(this,'c',{}),h(this,'_app'),h(this,'_destroyin'+'g',!(-0x1f7+-0x15f1+-0x17e9*-0x1)),h(this,'_guid',null),h(this,'_template',!(0x7fc*0x4+-0x2461+0x472)),(w['assert'](_0x541403,'Could\x20not\x20'+'find\x20curre'+'nt\x20applica'+'tion'),this['_app']=_0x541403);}['addCompone'+'nt'](_0x5bc8af,_0x52e7b9){const _0x760d8c=this['_app']['systems'][_0x5bc8af];return _0x760d8c?this['c'][_0x5bc8af]?(w['warn']('addCompone'+'nt:\x20Entity'+'\x20already\x20h'+'as\x20\x27'+_0x5bc8af+('\x27\x20componen'+'t')),null):_0x760d8c['addCompone'+'nt'](this,_0x52e7b9):(w['error']('addCompone'+'nt:\x20System'+'\x20\x27'+_0x5bc8af+('\x27\x20doesn\x27t\x20'+'exist')),null);}['removeComp'+'onent'](_0x22266c){const _0x11d4ee=this['_app']['systems'][_0x22266c];if(!_0x11d4ee){w['error']('removeComp'+'onent:\x20Sys'+'tem\x20\x27'+_0x22266c+('\x27\x20doesn\x27t\x20'+'exist'));return;}if(!this['c'][_0x22266c]){w['warn']('removeComp'+'onent:\x20Ent'+'ity\x20doesn\x27'+'t\x20have\x20\x27'+_0x22266c+('\x27\x20componen'+'t'));return;}_0x11d4ee['removeComp'+'onent'](this);}['findCompon'+'ent'](_0x2250e7){const _0x10b0ef=this['findOne'](_0x232350=>{var _0x4770d3;return(_0x4770d3=_0x232350['c'])==null?void(0x13*-0xeb+0x2e*0xa3+0x1*-0xbd9):_0x4770d3[_0x2250e7];});return _0x10b0ef&&_0x10b0ef['c'][_0x2250e7];}['findCompon'+'ents'](_0xb0fd20){return this['find'](_0x2b120f=>{var _0x1b1850;return(_0x1b1850=_0x2b120f['c'])==null?void(-0x23e*-0x1+-0x184d*-0x1+0x97*-0x2d):_0x1b1850[_0xb0fd20];})['map'](_0x15bb9e=>_0x15bb9e['c'][_0xb0fd20]);}['findScript'](_0x252521){const _0x8e9b1a=this['findOne'](_0x140ae2=>{var _0x8f3748,_0x20892a;return(_0x20892a=(_0x8f3748=_0x140ae2['c'])==null?void(-0x3b*0x14+0x17*-0x17b+0x26a9):_0x8f3748['script'])==null?void(0x1*-0xd76+-0x35*-0x94+-0x112e):_0x20892a['has'](_0x252521);});return _0x8e9b1a==null?void(-0x789+-0x2293+0x2a1c):_0x8e9b1a['c']['script']['get'](_0x252521);}['findScript'+'s'](_0x129434){return this['find'](_0x55de0f=>{var _0x58a8e7,_0x1eaf4d;return(_0x1eaf4d=(_0x58a8e7=_0x55de0f['c'])==null?void(0x20bd+-0x127a+0xe43*-0x1):_0x58a8e7['script'])==null?void(-0x3*0x6ad+0x8c2+-0x241*-0x5):_0x1eaf4d['has'](_0x129434);})['map'](_0x1e7fe0=>_0x1e7fe0['c']['script']['get'](_0x129434));}['getGuid'](){return this['_guid']||this['setGuid'](Q0['create']()),this['_guid'];}['setGuid'](_0x48336f){const _0x30fa62=this['_app']['_entityInd'+'ex'];this['_guid']&&delete _0x30fa62[this['_guid']],this['_guid']=_0x48336f,_0x30fa62[this['_guid']]=this;}['_notifyHie'+'rarchyStat'+'eChanged'](_0x540690,_0x401982){let _0x4ce86e=!(-0x7*0x1af+-0x1993+0x255d);_0x540690===this&&po['length']===0x1ed9*-0x1+-0x59d+0x1a*0x167&&(_0x4ce86e=!(-0xc1*0x13+0x165a+0x2ad*-0x3)),_0x540690['_beingEnab'+'led']=!(0x2f*0xa4+0x4*-0x550+0xfc*-0x9),_0x540690['_onHierarc'+'hyStateCha'+'nged'](_0x401982),_0x540690['_onHierarc'+'hyStatePos'+'tChanged']&&po['push'](_0x540690);const _0x229bc0=_0x540690['_children'];for(let _0x1a2faf=0xa33*0x1+0x22c3+-0x2*0x167b,_0x1c6a9a=_0x229bc0['length'];_0x1a2faf<_0x1c6a9a;_0x1a2faf++)_0x229bc0[_0x1a2faf]['_enabled']&&this['_notifyHie'+'rarchyStat'+'eChanged'](_0x229bc0[_0x1a2faf],_0x401982);if(_0x540690['_beingEnab'+'led']=!(-0x1ecf+-0x1a5*0x15+0x4159),_0x4ce86e){for(let _0xf724f1=0x21b*-0x1+0xa94+-0x879;_0xf724f1<po['length'];_0xf724f1++)po[_0xf724f1]['_onHierarc'+'hyStatePos'+'tChanged']();po['length']=0x462+0xece+-0x1330;}}['_onHierarc'+'hyStateCha'+'nged'](_0x403e29){super['_onHierarc'+'hyStateCha'+'nged'](_0x403e29);const _0x9fcd1b=this['_getSorted'+'Components']();for(let _0x2b1f0e=-0x1a05+0x6f6+0x1*0x130f;_0x2b1f0e<_0x9fcd1b['length'];_0x2b1f0e++){const _0x47f1c2=_0x9fcd1b[_0x2b1f0e];_0x47f1c2['enabled']&&(_0x403e29?_0x47f1c2['onEnable']():_0x47f1c2['onDisable']());}Ag(_0x9fcd1b);}['_onHierarc'+'hyStatePos'+'tChanged'](){const _0x1bc4c4=this['_getSorted'+'Components']();for(let _0x335366=-0xd53+0x2567+-0x1814;_0x335366<_0x1bc4c4['length'];_0x335366++)_0x1bc4c4[_0x335366]['onPostStat'+'eChange']();Ag(_0x1bc4c4);}['findByGuid'](_0x4731ea){if(this['_guid']===_0x4731ea)return this;const _0x152a4f=this['_app']['_entityInd'+'ex'][_0x4731ea];return _0x152a4f&&(_0x152a4f===this||_0x152a4f['isDescenda'+'ntOf'](this))?_0x152a4f:null;}['destroy'](){this['_destroyin'+'g']=!(0x1*0xd05+-0xe21*0x1+0x8e*0x2);for(const _0x3b2bd2 in this['c'])this['c'][_0x3b2bd2]['enabled']=!(-0x1*-0xad8+0xf9*-0xf+0x3c0);for(const _0x43030e in this['c'])this['c'][_0x43030e]['system']['removeComp'+'onent'](this);super['destroy'](),this['_guid']&&delete this['_app']['_entityInd'+'ex'][this['_guid']],this['_destroyin'+'g']=!(0x2560+0x1208+-0x3767);}['clone'](){const _0x331ccc={},_0x2a8c36=this['_cloneRecu'+'rsively'](_0x331ccc);return _0x331ccc[this['getGuid']()]=_0x2a8c36,kv(this,this,_0x2a8c36,_0x331ccc),_0x2a8c36;}['_getSorted'+'Components'](){const _0x4d0fd8=this['c'],_0x1839a0=XC();let _0x25d810=-0x1f59*0x1+-0x1*0xa04+0x295d;for(const _0x53a1ce in _0x4d0fd8)if(_0x4d0fd8['hasOwnProp'+'erty'](_0x53a1ce)){const _0xf8446b=_0x4d0fd8[_0x53a1ce];_0x25d810|=_0xf8446b['constructo'+'r']['order']!==0xd92+-0x3*-0x28d+-0x713*0x3,_0x1839a0['push'](_0xf8446b);}return _0x25d810&&_0x1839a0['length']>0xd*0x121+-0x783*-0x3+-0x2535&&$C(_0x1839a0),_0x1839a0;}['_cloneRecu'+'rsively'](_0x1e5f77){const _0x1f4836=new this['constructo'+'r'](void(0x142b+-0x7*-0x6d+-0x1726),this['_app']);super['_cloneInte'+'rnal'](_0x1f4836);for(const _0x30ef03 in this['c'])this['c'][_0x30ef03]['system']['cloneCompo'+'nent'](this,_0x1f4836);for(let _0x19f8bf=-0x7*0x35e+0x2085+-0x8f3;_0x19f8bf<this['_children']['length'];_0x19f8bf++){const _0x5c1fcc=this['_children'][_0x19f8bf];if(_0x5c1fcc instanceof Hh){const _0xf76600=_0x5c1fcc['_cloneRecu'+'rsively'](_0x1e5f77);_0x1f4836['addChild'](_0xf76600),_0x1e5f77[_0x5c1fcc['getGuid']()]=_0xf76600;}}return _0x1f4836;}};h(Hh,'EVENT_DEST'+'ROY','destroy');let lt=Hh;function kv(_0x28a2c7,_0x5a9c16,_0x396da2,_0x3c04ec){if(_0x5a9c16 instanceof lt){const _0x3c5100=_0x5a9c16['c'];for(const _0x3060b3 in _0x3c5100){const _0x56f6bd=_0x3c5100[_0x3060b3],_0x25eb7b=_0x56f6bd['system']['getPropert'+'iesOfType']('entity');for(let _0x520ad0=0x1945+0x17d1+-0x3116*0x1,_0x99c16f=_0x25eb7b['length'];_0x520ad0<_0x99c16f;_0x520ad0++){const _0x35d107=_0x25eb7b[_0x520ad0]['name'],_0x2fee0a=_0x56f6bd[_0x35d107];if(!!_0x28a2c7['findByGuid'](_0x2fee0a)){const _0x2a8a9c=_0x3c04ec[_0x2fee0a]['getGuid']();_0x2a8a9c?_0x396da2['c'][_0x3060b3][_0x35d107]=_0x2a8a9c:w['warn']('Could\x20not\x20'+'find\x20corre'+'sponding\x20e'+'ntity\x20id\x20w'+'hen\x20resolv'+'ing\x20duplic'+'ated\x20entit'+'y\x20referenc'+'es');}}}_0x3c5100['script']&&_0x396da2['script']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3c5100['script'],_0x3c04ec),_0x3c5100['render']&&_0x396da2['render']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3c5100['render'],_0x3c04ec),_0x3c5100['button']&&_0x396da2['button']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3c5100['button'],_0x3c04ec),_0x3c5100['scrollview']&&_0x396da2['scrollview']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3c5100['scrollview'],_0x3c04ec),_0x3c5100['scrollbar']&&_0x396da2['scrollbar']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3c5100['scrollbar'],_0x3c04ec),_0x3c5100['anim']&&_0x396da2['anim']['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3c5100['anim'],_0x3c04ec);const _0xdfb95c=_0x5a9c16['children']['filter'](_0x409c5d=>_0x409c5d instanceof lt),_0x23ad69=_0x396da2['children']['filter'](_0x5309b9=>_0x5309b9 instanceof lt);for(let _0x5558ba=-0xa0e+-0x4*0xca+0xd36,_0x2d1977=_0xdfb95c['length'];_0x5558ba<_0x2d1977;_0x5558ba++)kv(_0x28a2c7,_0xdfb95c[_0x5558ba],_0x23ad69[_0x5558ba],_0x3c04ec);}}class Cg{constructor(_0x54b4aa,_0x359ffc){h(this,'name'),h(this,'url'),h(this,'data',null),h(this,'_loading',!(-0x13fd+-0x1727+0x2b25)),h(this,'_onLoadedC'+'allbacks',[]),(this['name']=_0x54b4aa,this['url']=_0x359ffc);}get['loaded'](){return!!this['data'];}get['loading'](){return this['_loading'];}}class qC{constructor(_0x48db01){h(this,'_app'),h(this,'_list',[]),h(this,'_index',{}),h(this,'_urlIndex',{}),this['_app']=_0x48db01;}['destroy'](){this['_app']=null;}['list'](){return this['_list'];}['add'](_0x1950de,_0x536120){if(this['_index']['hasOwnProp'+'erty'](_0x1950de))return w['warn']('pc.SceneRe'+'gistry:\x20tr'+'ying\x20to\x20ad'+'d\x20more\x20tha'+'n\x20one\x20scen'+'e\x20called:\x20'+_0x1950de),!(-0xb05+-0x1cf8+-0x1*-0x27fe);const _0x547b11=new Cg(_0x1950de,_0x536120),_0x5d5a5e=this['_list']['push'](_0x547b11);return this['_index'][_0x547b11['name']]=_0x5d5a5e-(0x150d+0x17ef+-0x2cfb),this['_urlIndex'][_0x547b11['url']]=_0x5d5a5e-(0x1*0xa61+-0x4*0x5ab+0x4*0x313),!(0x13*-0xb8+-0xb*-0xdc+0x434);}['find'](_0x326dac){return this['_index']['hasOwnProp'+'erty'](_0x326dac)?this['_list'][this['_index'][_0x326dac]]:null;}['findByUrl'](_0x165932){return this['_urlIndex']['hasOwnProp'+'erty'](_0x165932)?this['_list'][this['_urlIndex'][_0x165932]]:null;}['remove'](_0x5b97ed){if(this['_index']['hasOwnProp'+'erty'](_0x5b97ed)){const _0x6b7276=this['_index'][_0x5b97ed];let _0x23f7e2=this['_list'][_0x6b7276];delete this['_urlIndex'][_0x23f7e2['url']],delete this['_index'][_0x5b97ed],this['_list']['splice'](_0x6b7276,0x1377+-0xc40*-0x2+-0x2bf6);for(let _0x2412f7=-0x88*-0x17+-0xe6b+0x233;_0x2412f7<this['_list']['length'];_0x2412f7++)_0x23f7e2=this['_list'][_0x2412f7],this['_index'][_0x23f7e2['name']]=_0x2412f7,this['_urlIndex'][_0x23f7e2['url']]=_0x2412f7;}}['_loadScene'+'Data'](_0x18f098,_0x27761c,_0x2e55d0){const _0x12d69b=this['_app'];let _0x641e39=_0x18f098;if(typeof _0x18f098=='string'&&(_0x18f098=this['findByUrl'](_0x641e39)||this['find'](_0x641e39)||new Cg('Untitled',_0x641e39)),_0x641e39=_0x18f098['url'],!_0x641e39){_0x2e55d0('Cannot\x20fin'+'d\x20scene\x20to'+'\x20load');return;}if(_0x18f098['loaded']){_0x2e55d0(null,_0x18f098);return;}_0x12d69b['assets']&&_0x12d69b['assets']['prefix']&&!jn['test'](_0x641e39)&&(_0x641e39=xe['join'](_0x12d69b['assets']['prefix'],_0x641e39)),_0x18f098['_onLoadedC'+'allbacks']['push'](_0x2e55d0),_0x18f098['_loading']||_0x12d69b['loader']['getHandler']('hierarchy')['load'](_0x641e39,(_0x47734b,_0x2ab054)=>{_0x18f098['data']=_0x2ab054,_0x18f098['_loading']=!(0x50d+0x150+0x4*-0x197);for(let _0x283a7f=-0xbe4+-0x2496+0x2da*0x11;_0x283a7f<_0x18f098['_onLoadedC'+'allbacks']['length'];_0x283a7f++)_0x18f098['_onLoadedC'+'allbacks'][_0x283a7f](_0x47734b,_0x18f098);_0x27761c||(_0x18f098['data']=null),_0x18f098['_onLoadedC'+'allbacks']['length']=0x9bd*-0x3+-0x128c*-0x2+-0x7e1;}),_0x18f098['_loading']=!(0x2*0x8ba+0x396+-0x150a);}['loadSceneD'+'ata'](_0x2cc3fc,_0x4657f2){this['_loadScene'+'Data'](_0x2cc3fc,!(0x48d*0x5+-0x643+-0x83f*0x2),_0x4657f2);}['unloadScen'+'eData'](_0x3c68b5){typeof _0x3c68b5=='string'&&(_0x3c68b5=this['findByUrl'](_0x3c68b5)),_0x3c68b5&&(_0x3c68b5['data']=null);}['_loadScene'+'Hierarchy'](_0x2bd3cf,_0xa9232a,_0x3c47a1){this['_loadScene'+'Data'](_0x2bd3cf,!(-0xef3+-0x1941+0x2835),(_0x3df23d,_0x3945a4)=>{if(_0x3df23d){_0x3c47a1&&_0x3c47a1(_0x3df23d);return;}_0xa9232a&&_0xa9232a(_0x3945a4);const _0x2e09a2=this['_app'],_0x39308d=()=>{const _0x1cc2eb=_0x2e09a2['loader']['getHandler']('hierarchy');_0x2e09a2['systems']['script']['preloading']=!(-0x40*-0x4a+0x18*-0x134+0x10*0xa6);const _0x2666f5=_0x1cc2eb['open'](_0x3945a4['url'],_0x3945a4['data']);_0x2e09a2['systems']['script']['preloading']=!(0x6e6*0x1+0x1682+-0x1d67),_0x2e09a2['loader']['clearCache'](_0x3945a4['url'],'hierarchy'),_0x2e09a2['root']['addChild'](_0x2666f5),_0x2e09a2['systems']['fire']('initialize',_0x2666f5),_0x2e09a2['systems']['fire']('postInitia'+'lize',_0x2666f5),_0x2e09a2['systems']['fire']('postPostIn'+'itialize',_0x2666f5),_0x3c47a1&&_0x3c47a1(null,_0x2666f5);};_0x2e09a2['_preloadSc'+'ripts'](_0x3945a4['data'],_0x39308d);});}['loadSceneH'+'ierarchy'](_0x42aa94,_0x1ebb0e){this['_loadScene'+'Hierarchy'](_0x42aa94,null,_0x1ebb0e);}['loadSceneS'+'ettings'](_0x521223,_0x3047be){this['_loadScene'+'Data'](_0x521223,!(0x29c*0x3+0x2bb+-0xa8e),(_0x30ae87,_0x1745b0)=>{_0x30ae87?_0x3047be&&_0x3047be(_0x30ae87):(this['_app']['applyScene'+'Settings'](_0x1745b0['data']['settings']),_0x3047be&&_0x3047be(null));});}['changeScen'+'e'](_0x35a07c,_0x76df89){const _0x425177=this['_app'],_0x29996a=_0x2903c1=>{const {children:_0x32f447}=_0x425177['root'];for(;_0x32f447['length'];)_0x32f447[0x2*-0xaae+-0xe09*-0x1+0x177*0x5]['destroy']();_0x425177['applyScene'+'Settings'](_0x2903c1['data']['settings']);};this['_loadScene'+'Hierarchy'](_0x35a07c,_0x29996a,_0x76df89);}['loadScene'](_0x120b44,_0x380caf){const _0x594759=this['_app'],_0x37bd8c=_0x594759['loader']['getHandler']('scene');_0x594759['assets']&&_0x594759['assets']['prefix']&&!jn['test'](_0x120b44)&&(_0x120b44=xe['join'](_0x594759['assets']['prefix'],_0x120b44)),_0x37bd8c['load'](_0x120b44,(_0x3cda00,_0x22e802)=>{if(_0x3cda00)_0x380caf&&_0x380caf(_0x3cda00);else{const _0xd507e8=()=>{_0x594759['systems']['script']['preloading']=!(-0x115b*-0x2+-0x264f+-0x3*-0x133);const _0x17107f=_0x37bd8c['open'](_0x120b44,_0x22e802),_0x305029=this['findByUrl'](_0x120b44);_0x305029&&!_0x305029['loaded']&&(_0x305029['data']=_0x22e802),_0x594759['systems']['script']['preloading']=!(-0x2089+0x130e+0x6be*0x2),_0x594759['loader']['clearCache'](_0x120b44,'scene'),_0x594759['loader']['patch']({'resource':_0x17107f,'type':'scene'},_0x594759['assets']),_0x594759['root']['addChild'](_0x17107f['root']),_0x594759['systems']['rigidbody']&&typeof Ammo<'u'&&_0x594759['systems']['rigidbody']['gravity']['set'](_0x17107f['_gravity']['x'],_0x17107f['_gravity']['y'],_0x17107f['_gravity']['z']),_0x380caf&&_0x380caf(null,_0x17107f);};_0x594759['_preloadSc'+'ripts'](_0x22e802,_0xd507e8);}});}}class jC{constructor(_0x1b0636){this['frame']={'fps':0x0,'ms':0x0,'dt':0x0,'updateStart':0x0,'updateTime':0x0,'renderStart':0x0,'renderTime':0x0,'physicsStart':0x0,'physicsTime':0x0,'cullTime':0x0,'sortTime':0x0,'skinTime':0x0,'morphTime':0x0,'instancingTime':0x0,'triangles':0x0,'otherPrimitives':0x0,'shaders':0x0,'materials':0x0,'cameras':0x0,'shadowMapUpdates':0x0,'shadowMapTime':0x0,'depthMapTime':0x0,'forwardTime':0x0,'lightClustersTime':0x0,'lightClusters':0x0,'_timeToCountFrames':0x0,'_fpsAccum':0x0},this['drawCalls']={'forward':0x0,'depth':0x0,'shadow':0x0,'immediate':0x0,'misc':0x0,'total':0x0,'skinned':0x0,'instanced':0x0,'removedByInstancing':0x0},this['misc']={'renderTargetCreationTime':0x0},this['particles']={'updatesPerFrame':0x0,'_updatesPerFrame':0x0,'frameTime':0x0,'_frameTime':0x0},this['shaders']=_0x1b0636['_shaderSta'+'ts'],this['vram']=_0x1b0636['_vram'],Object['defineProp'+'erty'](this['vram'],'totalUsed',{'get':function(){return this['tex']+this['vb']+this['ib'];}}),Object['defineProp'+'erty'](this['vram'],'geom',{'get':function(){return this['vb']+this['ib'];}});}get['scene'](){return Ms()['scene']['_stats'];}get['lightmappe'+'r'](){var _0x3e4ae2;return(_0x3e4ae2=Ms()['lightmappe'+'r'])==null?void(-0x4*0x8a8+-0x1*-0x1083+-0x1*-0x121d):_0x3e4ae2['stats'];}get['batcher'](){const _0x143281=Ms()['_batcher'];return _0x143281?_0x143281['_stats']:null;}}const YC='\x0auniform\x20f'+'loat\x20alpha'+'_ref;\x0a\x0avoi'+'d\x20alphaTes'+'t(float\x20a)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(a\x20<\x20alpha'+'_ref)\x20disc'+'ard;\x0a}\x0a',KC='\x0a\x0a#ifdef\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+'\x20AMBIENTSH'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20am'+'bientSH[9]'+';\x0a#endif\x0a\x0a'+'#if\x20LIT_AM'+'BIENT_SOUR'+'CE\x20==\x20ENVA'+'LATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fndef\x20ENV_'+'ATLAS\x0a\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_envAtlas'+';\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0avoid\x20addA'+'mbient(vec'+'3\x20worldNor'+'mal)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'AMBIENTSH\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20n\x20=\x20cu'+'beMapRotat'+'e(worldNor'+'mal);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20c'+'olor\x20=\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[0'+']\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ambi'+'entSH[1]\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'mbientSH[2'+']\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[3]\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[4]\x20*\x20'+'n.x\x20*\x20n.z\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ambien'+'tSH[5]\x20*\x20n'+'.z\x20*\x20n.y\x20+'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ambient'+'SH[6]\x20*\x20n.'+'y\x20*\x20n.x\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ambientS'+'H[7]\x20*\x20(3.'+'0\x20*\x20n.z\x20*\x20'+'n.z\x20-\x201.0)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ambie'+'ntSH[8]\x20*\x20'+'(n.x\x20*\x20n.x'+'\x20-\x20n.y\x20*\x20n'+'.y);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20processEn'+'vironment('+'max(color,'+'\x20vec3(0.0)'+'));\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_A'+'MBIENT_SOU'+'RCE\x20==\x20ENV'+'ALATLAS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dir\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20ma'+'pUv(toSphe'+'ricalUv(di'+'r),\x20vec4(1'+('28.0,\x20256.'+'0\x20+\x20128.0,'+'\x2064.0,\x2032.'+'0)\x20/\x20atlas'+'Size);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20raw\x20=\x20tex'+'ture2D(tex'+'ture_envAt'+'las,\x20uv);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20linear\x20'+'=\x20{ambient'+'Decode}(ra'+'w);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20p'+'rocessEnvi'+'ronment(li'+'near);\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_AMBIENT_'+'SOURCE\x20==\x20'+'CONSTANT\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20light'+'_globalAmb'+'ient;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),ZC='\x0a\x0a#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_anisotr'+'opyIntensi'+'ty;\x0a\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20material_'+'anisotropy'+'Rotation;\x0a'+'#endif\x0a\x0avo'+'id\x20getAnis'+'otropy()\x20{'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x200'+'.0;\x0a\x20\x20\x20\x20dA'+'nisotropyR'+'otation\x20=\x20'+'vec2(1.0,\x20'+'0.0);\x0a\x0a#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20m'+'aterial_an'+'isotropyIn'+'tensity;\x0a\x20'+'\x20\x20\x20dAnisot'+'ropyRotati'+'on\x20=\x20mater'+'ial_anisot'+'ropyRotati'+'on;\x0a#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_ANI'+'SOTROPY_TE'+'XTURE\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropyTex\x20='+'\x20texture2D'+'Bias({STD_'+'ANISOTROPY'+'_TEXTURE_N'+'AME},\x20{STD'+'_ANISOTROP'+'Y_TEXTURE_'+'UV},\x20textu'+'reBias).rg'+'b;\x0a\x20\x20\x20\x20dAn'+'isotropy\x20*'+'=\x20anisotro'+'pyTex.b;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20a'+'nisotropyR'+'otationFro'+'mTex\x20=\x20ani'+'sotropyTex'+'.rg\x20*\x202.0\x20'+'-\x20vec2(1.0'+');\x0a\x20\x20\x20\x20mat'+'2\x20rotation'+'Matrix\x20=\x20m'+'at2(dAniso'+'tropyRotat'+'ion.x,\x20dAn'+'isotropyRo'+'tation.y,\x20'+'-dAnisotro'+'pyRotation'+'.y,\x20dAniso'+'tropyRotat'+'ion.x);\x0a\x20\x20'+'\x20\x20dAnisotr'+'opyRotatio'+'n\x20=\x20rotati'+'onMatrix\x20*'+'\x20anisotrop'+'yRotationF'+'romTex;\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20dA'+'nisotropy\x20'+'=\x20clamp(dA'+'nisotropy,'+'\x200.0,\x201.0)'+';\x0a}\x0a',QC='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20materi'+'al_aoInten'+'sity;\x0a#end'+'if\x0a\x0a#ifdef'+'\x20STD_AODET'+'AIL_TEXTUR'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22deta'+'ilModesPS\x22'+'\x0a#endif\x0a\x0av'+'oid\x20getAO('+')\x20{\x0a\x20\x20\x20\x20dA'+'o\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'aoBase\x20=\x20t'+'exture2DBi'+'as({STD_AO'+'_TEXTURE_N'+'AME},\x20{STD'+'_AO_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_AO_TE'+'XTURE_CHAN'+'NEL};\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20aoDetail\x20'+'=\x20texture2'+'DBias({STD'+'_AODETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'AODETAIL_T'+'EXTURE_UV}'+',\x20textureB'+'ias).{STD_'+'AODETAIL_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'oBase\x20=\x20de'+'tailMode_{'+'STD_AODETA'+'IL_DETAILM'+'ODE}(vec3('+'aoBase),\x20v'+'ec3(aoDeta'+'il)).r;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_AO_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(STD_A'+'O_TEXTURE)'+'\x20||\x20define'+'d(STD_AO_V'+'ERTEX)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAo\x20='+'\x20mix(1.0,\x20'+'dAo,\x20mater'+'ial_aoInte'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',JC='\x0avoid\x20occl'+'udeDiffuse'+'(float\x20ao)'+'\x20{\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20ao;\x0a}\x0a',e1='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_occlud'+'eSpecularI'+'ntensity;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0av'+'oid\x20occlud'+'eSpecular('+'float\x20glos'+'s,\x20float\x20a'+'o,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir)\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'AO\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_OCCLUDE_'+'SPECULAR_F'+'LOAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20specOcc'+'\x20=\x20mix(1.0'+',\x20ao,\x20mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20specOc'+'c\x20=\x20ao;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_OCC'+'LUDE_SPECU'+'LAR\x20==\x20GLO'+'SSDEPENDEN'+'T\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20approx'+'imated\x20spe'+'cular\x20occl'+'usion\x20from'+'\x20AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20http:'+'//research'+'.tri-ace.c'+'om/Data/ce'+'dec2011_Re'+'altimePBR_'+'Implementa'+'tion_e.ppt'+'x\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20spec'+'Pow\x20=\x20exp2'+'(gloss\x20*\x201'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'specOcc\x20=\x20'+'saturate(p'+'ow(dot(wor'+'ldNormal,\x20'+'viewDir)\x20+'+'\x20ao,\x200.01\x20'+'*\x20specPow)'+'\x20-\x201.0\x20+\x20a'+'o);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OCCLUD'+'E_SPECULAR'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecOcc\x20=\x20m'+'ix(1.0,\x20sp'+'ecOcc,\x20mat'+'erial_occl'+'udeSpecula'+'rIntensity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'*=\x20specOcc'+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20*=\x20specO'+'cc;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sSpecula'+'rLight\x20*=\x20'+'specOcc;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sReflecti'+'on\x20*=\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a'),t1='\x0a\x20\x20\x20\x20vec4\x20'+'dirLm\x20=\x20te'+'xture2D(te'+'xture_dirL'+'ightMap,\x20v'+'Uv1);\x0a\x0a\x20\x20\x20'+'\x20if\x20(bakeD'+'ir\x20>\x200.5)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dAtten'+'\x20>\x200.00001'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dirL'+'m.xyz\x20=\x20di'+'rLm.xyz\x20*\x20'+'2.0\x20-\x20vec3'+'(1.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20sa'+'turate(dAt'+'ten);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20nor'+'malize(dLi'+'ghtDirNorm'+'W.xyz*dAtt'+'en\x20+\x20dirLm'+'.xyz*dirLm'+'.w)\x20*\x200.5\x20'+'+\x20vec3(0.5'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20dirLm.w\x20'+'+\x20dAtten;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.a\x20=\x20m'+'ax(gl_Frag'+'Color.a,\x201'+'.0\x20/\x20255.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20dir'+'Lm;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20dirLm.'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color.a\x20=\x20'+'max(dirLm.'+'w,\x20dAtten\x20'+'>\x200.00001\x20'+'?\x20(1.0/255'+'.0)\x20:\x200.0)'+';\x0a\x20\x20\x20\x20}\x0a',s1='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'ambientBak'+'eOcclusion'+'Contrast\x20+'+'\x201.0,\x200.0)'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'vec3(ambie'+'ntBakeOccl'+'usionBrigh'+'tness);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20sa'+'turate(dDi'+'ffuseLight'+');\x0a\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20*=\x20dAmbie'+'ntLight;\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHTM'+'AP_RGBM\x0a\x20\x20'+'\x20\x20//\x20encod'+'e\x20to\x20RGBM\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.rgb'+'\x20=\x20dDiffus'+'eLight;\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor.rgb\x20='+'\x20pow(gl_Fr'+'agColor.rg'+'b,\x20vec3(0.'+'5));\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20/=\x208'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.a\x20=\x20clamp'+'(\x20max(\x20max'+'(\x20gl_FragC'+'olor.r,\x20gl'+'_FragColor'+'.g\x20),\x20max('+'\x20gl_FragCo'+'lor.b,\x201.0'+'\x20/\x20255.0\x20)'+'\x20),\x200.0,1.'+'0\x20);\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.a\x20=\x20ceil'+'(gl_FragCo'+'lor.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20/=\x20gl'+'_FragColor'+'.a;\x0a#else\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(dDiffu'+'seLight,\x201'+'.0);\x0a#endi'+'f\x0a',i1='\x0auniform\x20v'+'ec3\x20view_p'+'osition;\x0a\x0a'+'uniform\x20ve'+'c3\x20light_g'+'lobalAmbie'+'nt;\x0a\x0afloat'+'\x20square(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'x*x;\x0a}\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0ave'+'c3\x20saturat'+'e(vec3\x20x)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3(0.0'+'),\x20vec3(1.'+'0));\x0a}\x0a',r1='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'ec2\x20vMask;'+'\x0avarying\x20v'+'ec2\x20vTiled'+'Uv;\x0a\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0au'+'niform\x20med'+'iump\x20vec2\x20'+'outerScale'+';\x0auniform\x20'+'mediump\x20ve'+'c4\x20atlasRe'+'ct;\x0a\x0avec2\x20'+'nineSliced'+'Uv;\x0a',a1='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vec2\x20vMa'+'sk;\x0avaryin'+'g\x20vec2\x20vTi'+'ledUv;\x0a\x0aun'+'iform\x20medi'+'ump\x20vec4\x20i'+'nnerOffset'+';\x0auniform\x20'+'mediump\x20ve'+'c2\x20outerSc'+'ale;\x0aunifo'+'rm\x20mediump'+'\x20vec4\x20atla'+'sRect;\x0a\x0ave'+'c2\x20nineSli'+'cedUv;\x0a',n1='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afloat\x20'+'bayer2(vec'+'2\x20p)\x20{\x0a\x20\x20\x20'+'\x20return\x20mo'+'d(2.0\x20*\x20p.'+'y\x20+\x20p.x\x20+\x20'+'1.0,\x204.0);'+'\x0a}\x0a\x0a//\x204x4'+'\x20matrix,\x20p'+'\x20-\x20pixel\x20c'+'oordinate\x0a'+'float\x20baye'+'r4(vec2\x20p)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20p1\x20=\x20mod'+'(p,\x202.0);\x0a'+'\x20\x20\x20\x20vec2\x20p'+'2\x20=\x20floor('+'0.5\x20*\x20mod('+'p,\x204.0));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afloat\x20bay'+'er8(vec2\x20p'+')\x20{\x0a\x20\x20\x20\x20ve'+'c2\x20p1\x20=\x20mo'+'d(p,\x202.0);'+'\x0a\x20\x20\x20\x20vec2\x20'+'p2\x20=\x20floor'+'(0.5\x20*\x20mod'+'(p,\x204.0));'+'\x0a\x20\x20\x20\x20vec2\x20'+'p4\x20=\x20floor'+'(0.25\x20*\x20mo'+'d(p,\x208.0))'+';\x0a\x20\x20\x20\x20retu'+'rn\x204.0\x20*\x20('+'4.0\x20*\x20baye'+'r2(p1)\x20+\x20b'+'ayer2(p2))'+'\x20+\x20bayer2('+'p4);\x0a}\x0a',o1='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0auni'+'form\x20vec2\x20'+'pixelOffse'+'t;\x0a\x0a#ifdef'+'\x20GAUSS\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20weigh'+'t[{SAMPLES'+'}];\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20m'+'oments\x20=\x20v'+'ec3(0.0);\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vUv0\x20-'+'\x20pixelOffs'+'et\x20*\x20(floa'+'t({SAMPLES'+'})\x20*\x200.5);'+'\x0a\x20\x20\x20\x20for\x20('+'int\x20i\x20=\x200;'+'\x20i\x20<\x20{SAMP'+'LES};\x20i++)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20c\x20=\x20'+'texture2D('+'source,\x20uv'+'\x20+\x20pixelOf'+'fset\x20*\x20flo'+'at(i));\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20GAUSS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20moments\x20'+'+=\x20c.xyz\x20*'+'\x20weight[i]'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'ments\x20+=\x20c'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'GAUSS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20*=\x201.0\x20/'+'\x20float({SA'+'MPLES});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(momen'+'ts.x,\x20mome'+'nts.y,\x20mom'+'ents.z,\x201.'+'0);\x0a}\x0a',l1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oat;\x0a\x0avoid'+'\x20getClearC'+'oat()\x20{\x0a\x20\x20'+'\x20\x20ccSpecul'+'arity\x20=\x20ma'+'terial_cle'+'arCoat;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_CLEARC'+'OAT_TEXTUR'+'E\x0a\x20\x20\x20\x20ccSp'+'ecularity\x20'+'*=\x20texture'+'2DBias({ST'+'D_CLEARCOA'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_CL'+'EARCOAT_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20*=\x20satu'+'rate(vVert'+'exColor.{S'+'TD_CLEARCO'+'AT_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',c1='\x0auniform\x20f'+'loat\x20mater'+'ial_clearC'+'oatGloss;\x0a'+'\x0avoid\x20getC'+'learCoatGl'+'ossiness()'+'\x20{\x0a\x20\x20\x20\x20ccG'+'lossiness\x20'+'=\x20material'+'_clearCoat'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE\x0a\x20\x20\x20\x20'+'ccGlossine'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_CLEAR'+'COATGLOSS_'+'TEXTURE_NA'+'ME},\x20{STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_CLEAR'+'COATGLOSS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_CLEAR'+'COATGLOSS_'+'INVERT\x0a\x20\x20\x20'+'\x20ccGlossin'+'ess\x20=\x201.0\x20'+'-\x20ccGlossi'+'ness;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20+=\x200.'+'0000001;\x0a}'+'\x0a',h1='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0aunif'+'orm\x20float\x20'+'material_c'+'learCoatBu'+'mpiness;\x0a#'+'endif\x0a\x0avoi'+'d\x20getClear'+'CoatNormal'+'()\x20{\x0a#ifde'+'f\x20STD_CLEA'+'RCOATNORMA'+'L_TEXTURE\x0a'+'\x20\x20\x20\x20vec3\x20n'+'ormalMap\x20='+'\x20{STD_CLEA'+'RCOATNORMA'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_UV}'+',\x20textureB'+'ias));\x0a\x20\x20\x20'+'\x20normalMap'+'\x20=\x20mix(vec'+'3(0.0,\x200.0'+',\x201.0),\x20no'+'rmalMap,\x20m'+'aterial_cl'+'earCoatBum'+'piness);\x0a\x20'+'\x20\x20\x20ccNorma'+'lW\x20=\x20norma'+'lize(dTBN\x20'+'*\x20normalMa'+'p);\x0a#else\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20dVer'+'texNormalW'+';\x0a#endif\x0a}'+'\x0a',d1='\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0avec2\x20ge'+'tCubemapFa'+'ceCoordina'+'tes(const\x20'+'vec3\x20dir,\x20'+'out\x20float\x20'+'faceIndex,'+'\x20out\x20vec2\x20'+'tileOffset'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20vAbs\x20=\x20'+'abs(dir);\x0a'+'\x20\x20\x20\x20float\x20'+'ma;\x0a\x20\x20\x20\x20ve'+'c2\x20uv;\x0a\x20\x20\x20'+'\x20if\x20(vAbs.'+'z\x20>=\x20vAbs.'+'x\x20&&\x20vAbs.'+'z\x20>=\x20vAbs.'+'y)\x20{\x20\x20\x20//\x20'+'front\x20/\x20ba'+'ck\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20faceInde'+'x\x20=\x20dir.z\x20'+'<\x200.0\x20?\x205.'+'0\x20:\x204.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2(dir.z\x20'+'<\x200.0\x20?\x20-d'+'ir.x\x20:\x20dir'+'.x,\x20-dir.y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.x\x20=\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20t'+'ileOffset.'+'y\x20=\x20dir.z\x20'+'<\x200.0\x20?\x201.'+'0\x20:\x200.0;\x0a\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if(vAbs.y'+'\x20>=\x20vAbs.x'+')\x20{\x20\x20//\x20to'+'p\x20index\x202,'+'\x20bottom\x20in'+'dex\x203\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20faceI'+'ndex\x20=\x20dir'+'.y\x20<\x200.0\x20?'+'\x203.0\x20:\x202.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ma\x20=\x200.5\x20/'+'\x20vAbs.y;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uv\x20'+'=\x20vec2(dir'+'.x,\x20dir.y\x20'+'<\x200.0\x20?\x20-d'+'ir.z\x20:\x20dir'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20tileOff'+'set.x\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20tileOffse'+'t.y\x20=\x20dir.'+'y\x20<\x200.0\x20?\x20'+'1.0\x20:\x200.0;'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'\x20=\x200.5\x20/\x20v'+'Abs.x;\x0a\x20\x20\x20'+('\x20\x20\x20\x20\x20uv\x20=\x20'+'vec2(dir.x'+'\x20<\x200.0\x20?\x20d'+'ir.z\x20:\x20-di'+'r.z,\x20-dir.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20tileOffs'+'et.x\x20=\x200.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'tileOffset'+'.y\x20=\x20dir.x'+'\x20<\x200.0\x20?\x201'+'.0\x20:\x200.0;\x0a'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20uv'+'\x20*\x20ma\x20+\x200.'+'5;\x0a}\x0a\x0a//\x20c'+'onverts\x20un'+'normalized'+'\x20direction'+'\x20vector\x20to'+'\x20a\x20texture'+'\x20coordinat'+'e\x20for\x20a\x20cu'+'bemap\x20face'+'\x20stored\x20wi'+'thin\x20textu'+'re\x20atlas\x20d'+'escribed\x20b'+'y\x20the\x20view'+'port\x0avec2\x20'+'getCubemap'+'AtlasCoord'+'inates(con'+'st\x20vec3\x20om'+'niAtlasVie'+'wport,\x20flo'+'at\x20shadowE'+'dgePixels,'+'\x20float\x20sha'+'dowTexture'+'Resolution'+',\x20const\x20ve'+'c3\x20dir)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20faceIndex'+';\x0a\x20\x20\x20\x20vec2'+'\x20tileOffse'+'t;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapFac'+'eCoordinat'+'es(dir,\x20fa'+'ceIndex,\x20t'+'ileOffset)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'move\x20uv\x20co'+'ordinates\x20'+'inwards\x20in'+'side\x20to\x20co'+'mpensate\x20f'+'or\x20larger\x20'+'fov\x20when\x20r'+'endering\x20s'+'hadow\x20into'+'\x20atlas\x0a\x20\x20\x20'+'\x20float\x20atl'+'asFaceSize'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20tileSi'+'ze\x20=\x20shado'+'wTextureRe'+'solution\x20*'+'\x20atlasFace'+'Size;\x0a\x20\x20\x20\x20'+'float\x20offs'+'et\x20=\x20shado'+'wEdgePixel'+'s\x20/\x20tileSi'+'ze;\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv\x20*\x20ve'+'c2(1.0\x20-\x20o'+'ffset\x20*\x202.'+'0)\x20+\x20vec2('+'offset\x20*\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20*'+'=\x20atlasFac'+'eSize;\x0a\x0a\x20\x20'+'\x20\x20//\x20offse'+'t\x20into\x20fac'+'e\x20of\x20the\x20a')+('tlas\x20(3x3\x20'+'grid)\x0a\x20\x20\x20\x20'+'uv\x20+=\x20tile'+'Offset\x20*\x20a'+'tlasFaceSi'+'ze;\x0a\x0a\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nto\x20the\x20at'+'las\x20viewpo'+'rt\x0a\x20\x20\x20\x20uv\x20'+'+=\x20omniAtl'+'asViewport'+'.xy;\x0a\x0a\x20\x20\x20\x20'+'return\x20uv;'+'\x0a}\x0a'),f1='\x0avec3\x20_get'+'CookieClus'+'tered(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20uv,\x20floa'+'t\x20intensit'+'y,\x20vec4\x20co'+'okieChanne'+'l)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20pixel\x20'+'=\x20mix(vec4'+'(1.0),\x20tex'+'ture2DLod('+'tex,\x20uv,\x200'+'.0),\x20inten'+'sity);\x0a\x20\x20\x20'+'\x20bool\x20isRg'+'b\x20=\x20dot(co'+'okieChanne'+'l.rgb,\x20vec'+'3(1.0))\x20=='+'\x203.0;\x0a\x20\x20\x20\x20'+'return\x20isR'+'gb\x20?\x20pixel'+'.rgb\x20:\x20vec'+'3(dot(pixe'+'l,\x20cookieC'+'hannel));\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0ave'+'c3\x20getCook'+'ie2DCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20mat4\x20'+'transform,'+'\x20vec3\x20worl'+'dPosition,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieC'+'hannel)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20p'+'rojPos\x20=\x20t'+'ransform\x20*'+'\x20vec4(worl'+'dPosition,'+'\x201.0);\x0a\x20\x20\x20'+'\x20return\x20_g'+'etCookieCl'+'ustered(TE'+'XTURE_PASS'+'(tex),\x20pro'+'jPos.xy\x20/\x20'+'projPos.w,'+'\x20intensity'+',\x20cookieCh'+'annel);\x0a}\x0a'+'\x0a//\x20getCoo'+'kie\x20for\x20cl'+'ustered\x20om'+'ni\x20light\x20w'+'ith\x20the\x20co'+'okie\x20textu'+'re\x20being\x20s'+'tored\x20in\x20t'+'he\x20cookie\x20'+'atlas\x0avec3'+'\x20getCookie'+'CubeCluste'+'red(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec3\x20'+'dir,\x20float'+'\x20intensity'+',\x20vec4\x20coo'+'kieChannel'+',\x20float\x20sh'+'adowTextur'+'eResolutio'+'n,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20omniAtla'+'sViewport)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+('tureResolu'+'tion,\x20dir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getCoo'+'kieCluster'+'ed(TEXTURE'+'_PASS(tex)'+',\x20uv,\x20inte'+'nsity,\x20coo'+'kieChannel'+');\x0a}\x0a'),u1='\x0a\x0avec3\x20_ge'+'tShadowCoo'+'rdPerspZbu'+'ffer(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20wP'+'os)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20shado'+'wMatrix\x20*\x20'+'vec4(wPos,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'yz\x20/=\x20proj'+'Pos.w;\x0a\x20\x20\x20'+'\x20return\x20pr'+'ojPos.xyz;'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20bias\x20i'+'s\x20already\x20'+'applied\x20on'+'\x20render\x0a}\x0a'+'\x0avec3\x20getS'+'hadowCoord'+'PerspZbuff'+'erNormalOf'+'fset(mat4\x20'+'shadowMatr'+'ix,\x20vec4\x20s'+'hadowParam'+'s,\x20vec3\x20no'+'rmal)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20wPo'+'s\x20=\x20vPosit'+'ionW\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowCoordPe'+'rspZbuffer'+'(shadowMat'+'rix,\x20shado'+'wParams,\x20w'+'Pos);\x0a}\x0a\x0av'+'ec3\x20normal'+'OffsetPoin'+'tShadow(ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20lightPos'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm,\x20vec3'+'\x20normal)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20distScale'+'\x20=\x20length('+'lightDir);'+'\x0a\x20\x20\x20\x20vec3\x20'+'wPos\x20=\x20vPo'+'sitionW\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x20/'+'/0.02\x0a\x20\x20\x20\x20'+'vec3\x20dir\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0afloa'+'t\x20getShado'+'wOmniClust'+'eredPCF1(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'3\x20omniAtla'+'sViewport,'+'\x20float\x20sha'+'dowEdgePix'+'els,\x20vec3\x20'+'lightDir)\x20'+'{\x0a\x0a\x20\x20\x20\x20flo'+'at\x20shadowT'+('extureReso'+'lution\x20=\x20s'+'hadowParam'+'s.x;\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etCubemapA'+'tlasCoordi'+'nates(omni'+'AtlasViewp'+'ort,\x20shado'+'wEdgePixel'+'s,\x20shadowT'+'extureReso'+'lution,\x20li'+'ghtDir);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'shadowZ\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(uv,\x20sha'+'dowZ));\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF3'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s'+'hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF3'+'x3(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF5)\x0a\x0afl'+'oat\x20getSha'+'dowOmniClu'+'steredPCF5'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec3\x20omniAt'+'lasViewpor'+'t,\x20float\x20s')+('hadowEdgeP'+'ixels,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wTextureRe'+'solution\x20='+'\x20shadowPar'+'ams.x;\x0a\x20\x20\x20'+'\x20vec2\x20uv\x20='+'\x20getCubema'+'pAtlasCoor'+'dinates(om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20shado'+'wTextureRe'+'solution,\x20'+'lightDir);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20shadowZ\x20'+'=\x20length(l'+'ightDir)\x20*'+'\x20shadowPar'+'ams.w\x20+\x20sh'+'adowParams'+'.z;\x0a\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20vec'+'3(uv,\x20shad'+'owZ);\x0a\x20\x20\x20\x20'+'return\x20get'+'ShadowPCF5'+'x5(SHADOWM'+'AP_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a}\x0a'+'\x0a#endif\x0a\x0a/'+'/\x20Clustere'+'d\x20Spot\x20Sam'+'pling\x20usin'+'g\x20atlas\x0a\x0a#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF1)\x0a\x0afl'+'oat\x20getSha'+'dowSpotClu'+'steredPCF1'+'(SHADOWMAP'+'_ACCEPT(sh'+'adowMap),\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSha'+'dow(shadow'+'Map,\x20shado'+'wCoord);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x0af'+'loat\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF3x3'+'(SHADOWMAP'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a}\x0a\x0a#'+'endif\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x0afloa'+'t\x20getShado'+'wSpotClust'+'eredPCF5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC')+('oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a}'+'\x0a#endif\x0a'),p1='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20clu'+'sterWorldT'+'exture;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20lightsTe'+'xture;\x0a\x0a#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x20\x20\x20\x20//\x20TO'+'DO:\x20when\x20V'+'SM\x20shadow\x20'+'is\x20support'+'ed,\x20it\x20nee'+'ds\x20to\x20use\x20'+'sampler2D\x20'+'in\x20webgl2\x0a'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'DShadow\x20sh'+'adowAtlasT'+'exture;\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20CLUSTER'+'_COOKIES\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20cookieAtl'+'asTexture;'+'\x0a#endif\x0a\x0au'+'niform\x20int'+'\x20clusterMa'+'xCells;\x0a\x0a/'+'/\x201.0\x20if\x20c'+'lustered\x20l'+'ighting\x20ca'+'n\x20be\x20skipp'+'ed\x20(0\x20ligh'+'ts\x20in\x20the\x20'+'clusters)\x0a'+'uniform\x20fl'+'oat\x20cluste'+'rSkip;\x0a\x0aun'+'iform\x20vec3'+'\x20clusterCe'+'llsCountBy'+'BoundsSize'+';\x0auniform\x20'+'vec3\x20clust'+'erTextureS'+'ize;\x0aunifo'+'rm\x20vec3\x20cl'+'usterBound'+'sMin;\x0aunif'+'orm\x20vec3\x20c'+'lusterBoun'+'dsDelta;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsDot;\x0au'+'niform\x20vec'+'3\x20clusterC'+'ellsMax;\x0au'+'niform\x20vec'+'2\x20shadowAt'+'lasParams;'+'\x0a\x0a//\x20struc'+'ture\x20stori'+'ng\x20light\x20p'+'roperties\x20'+'of\x20a\x20clust'+'ered\x20light'+'\x0a//\x20it\x27s\x20s'+('orted\x20to\x20h'+'ave\x20all\x20ve'+'ctors\x20alig'+'ned\x20to\x204\x20f'+'loats\x20to\x20l'+'imit\x20paddi'+'ng\x0astruct\x20'+'ClusterLig'+'htData\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x2032b'+'it\x20of\x20flag'+'s\x0a\x20\x20\x20\x20uint'+'\x20flags;\x0a\x0a\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20siz'+'es\x20/\x20orien'+'tation\x0a\x20\x20\x20'+'\x20vec3\x20half'+'Width;\x0a\x0a\x20\x20'+'\x20\x20bool\x20isS'+'pot;\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20sizes\x20'+'/\x20orientat'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20halfHei'+'ght;\x0a\x0a\x20\x20\x20\x20'+'//\x20light\x20i'+'ndex\x0a\x20\x20\x20\x20i'+'nt\x20lightIn'+'dex;\x0a\x0a\x20\x20\x20\x20'+'//\x20world\x20s'+'pace\x20posit'+'ion\x0a\x20\x20\x20\x20ve'+'c3\x20positio'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20shape\x0a\x20\x20'+'\x20\x20uint\x20sha'+'pe;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20direct'+'ion\x20(spot\x20'+'light\x20only'+')\x0a\x20\x20\x20\x20vec3'+'\x20direction'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20foll'+'ow\x20mode\x0a\x20\x20'+'\x20\x20bool\x20fal'+'loffModeLi'+'near;\x0a\x0a\x20\x20\x20'+'\x20//\x20color\x0a'+'\x20\x20\x20\x20vec3\x20c'+'olor;\x0a\x0a\x20\x20\x20'+'\x20//\x200.0\x20if'+'\x20the\x20light'+'\x20doesn\x27t\x20c'+'ast\x20shadow'+'s\x0a\x20\x20\x20\x20floa'+'t\x20shadowIn'+'tensity;\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20vec3\x20om'+'niAtlasVie'+'wport;\x0a\x0a\x20\x20'+'\x20\x20//\x20range'+'\x20of\x20the\x20li'+'ght\x0a\x20\x20\x20\x20fl'+'oat\x20range;'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'hannel\x20mas'+'k\x20-\x20one\x20of'+'\x20the\x20chann'+'els\x20has\x201,'+'\x20the\x20other'+'s\x20are\x200\x0a\x20\x20'+'\x20\x20vec4\x20coo'+'kieChannel'+'Mask;\x0a\x0a\x20\x20\x20'+'\x20//\x20compre'+'ssed\x20biase'+'s,\x20two\x20haf'+'-floats\x20st'+'ored\x20in\x20a\x20'+'float\x0a\x20\x20\x20\x20'+'float\x20bias'+'esData;\x0a\x0a\x20')+('\x20\x20\x20//\x20shad'+'ow\x20bias\x20va'+'lues\x0a\x20\x20\x20\x20f'+'loat\x20shado'+'wBias;\x0a\x20\x20\x20'+'\x20float\x20sha'+'dowNormalB'+'ias;\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20f'+'loat\x20angle'+'sData;\x0a\x0a\x20\x20'+'\x20\x20//\x20spot\x20'+'light\x20inne'+'r\x20and\x20oute'+'r\x20angle\x20co'+'sine\x0a\x20\x20\x20\x20f'+'loat\x20inner'+'ConeAngleC'+'os;\x0a\x20\x20\x20\x20fl'+'oat\x20outerC'+'oneAngleCo'+'s;\x0a\x0a\x20\x20\x20\x20//'+'\x20intensity'+'\x20of\x20the\x20co'+'okie\x0a\x20\x20\x20\x20f'+'loat\x20cooki'+'eIntensity'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'light\x20mask'+'\x0a\x20\x20\x20\x20//flo'+'at\x20mask;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Dynamic;\x0a\x20'+'\x20\x20\x20bool\x20is'+'Lightmappe'+'d;\x0a};\x0a\x0a//\x20'+'Note:\x20on\x20s'+'ome\x20device'+'s\x20(tested\x20'+'on\x20Pixel\x203'+'A\x20XL),\x20thi'+'s\x20matrix\x20w'+'hen\x20stored'+'\x20inside\x20th'+'e\x20light\x20st'+'ruct\x20has\x20l'+'ower\x20preci'+'sion\x20compa'+'red\x20to\x0a//\x20'+'when\x20store'+'d\x20outside,'+'\x20so\x20we\x20sto'+'re\x20it\x20outs'+'ide\x20to\x20avo'+'id\x20spot\x20sh'+'adow\x20flick'+'ering.\x20Thi'+'s\x20might\x20ne'+'ed\x20to\x20be\x20d'+'one\x20to\x20oth'+'er\x20/\x20all\x20m'+'embers\x0a//\x20'+'of\x20the\x20str'+'ucture\x20if\x20'+'further\x20si'+'milar\x20issu'+'es\x20are\x20obs'+'erved.\x0a\x0a//'+'\x20shadow\x20(s'+'pot\x20light\x20'+'only)\x20/\x20co'+'okie\x20proje'+'ction\x20matr'+'ix\x0amat4\x20li'+'ghtProject'+'ionMatrix;'+'\x0a\x0avec4\x20sam'+'pleLightTe'+'xtureF(con'+'st\x20Cluster'+'LightData\x20'+'clusterLig'+'htData,\x20in'+'t\x20index)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20texelFet'+'ch(lightsT'+'exture,\x20iv'+'ec2(index,'+'\x20clusterLi'+'ghtData.li'+'ghtIndex),'+'\x200);\x0a}\x0a\x0avo'+'id\x20decodeC'+'lusterLigh')+('tCore(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData,\x20flo'+'at\x20lightIn'+'dex)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20index\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.li'+'ghtIndex\x20='+'\x20int(light'+'Index);\x0a\x0a\x20'+'\x20\x20\x20//\x20samp'+'le\x20data\x20en'+'coding\x20hal'+'f-float\x20va'+'lues\x20into\x20'+'32bit\x20uint'+'s\x0a\x20\x20\x20\x20vec4'+'\x20halfData\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_COL'+'OR_ANGLES_'+'BIAS});\x0a\x0a\x20'+'\x20\x20\x20//\x20stor'+'e\x20floats\x20w'+'e\x20decode\x20l'+'ater\x20as\x20ne'+'eded\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.angl'+'esData\x20=\x20h'+'alfData.z;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.biasesDa'+'ta\x20=\x20halfD'+'ata.w;\x0a\x0a\x20\x20'+'\x20\x20//\x20decom'+'press\x20colo'+'r\x20half-flo'+'ats\x0a\x20\x20\x20\x20ve'+'c2\x20colorRG'+'\x20=\x20unpackH'+'alf2x16(fl'+'oatBitsToU'+'int(halfDa'+'ta.x));\x0a\x20\x20'+'\x20\x20vec2\x20col'+'orB_\x20=\x20unp'+'ackHalf2x1'+'6(floatBit'+'sToUint(ha'+'lfData.y))'+';\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.color\x20='+'\x20vec3(colo'+'rRG,\x20color'+'B_.x)\x20*\x20{L'+'IGHT_COLOR'+'_DIVIDER};'+'\x0a\x0a\x20\x20\x20\x20//\x20p'+'osition\x20an'+'d\x20range,\x20f'+'ull\x20floats'+'\x0a\x20\x20\x20\x20vec4\x20'+'lightPosRa'+'nge\x20=\x20samp'+'leLightTex'+'tureF(clus'+'terLightDa'+'ta,\x20{CLUST'+'ER_TEXTURE'+'_POSITION_'+'RANGE});\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'position\x20='+'\x20lightPosR'+'ange.xyz;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.range\x20=\x20l'+'ightPosRan'+'ge.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20d'+'irection\x20&'+'\x20flags\x20dat'+'a\x0a\x20\x20\x20\x20vec4'+'\x20lightDir_'+'Flags\x20=\x20sa'+'mpleLightT'+'extureF(cl')+('usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_DIRECTI'+'ON_FLAGS})'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'spot\x20light'+'\x20direction'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.directio'+'n\x20=\x20lightD'+'ir_Flags.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x2032bit\x20fl'+'ags\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20floatBi'+'tsToUint(l'+'ightDir_Fl'+'ags.w);\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sSpot\x20=\x20(c'+'lusterLigh'+'tData.flag'+'s\x20&\x20(1u\x20<<'+'\x2030u))\x20!=\x20'+'0u;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.shape'+'\x20=\x20(cluste'+'rLightData'+'.flags\x20>>\x20'+'28u)\x20&\x200x3'+'u;\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.fallof'+'fModeLinea'+'r\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2027u'+'))\x20==\x200u;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.shadowInt'+'ensity\x20=\x20f'+'loat((clus'+'terLightDa'+'ta.flags\x20>'+'>\x200u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eIntensity'+'\x20=\x20float(('+'clusterLig'+'htData.fla'+'gs\x20>>\x208u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sDynamic\x20='+'\x20(clusterL'+'ightData.f'+'lags\x20&\x20(1u'+'\x20<<\x2022u))\x20'+'!=\x200u;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.is'+'Lightmappe'+'d\x20=\x20(clust'+'erLightDat'+'a.flags\x20&\x20'+'(1u\x20<<\x2021u'+'))\x20!=\x200u;\x0a'+'}\x0a\x0avoid\x20de'+'codeCluste'+'rLightSpot'+'(inout\x20Clu'+'sterLightD'+'ata\x20cluste'+'rLightData'+')\x20{\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20cos\x20ang'+'les\x0a\x20\x20\x20\x20ve'+'c2\x20angles\x20'+'=\x20unpackHa'+'lf2x16(flo'+'atBitsToUi'+'nt(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight')+('Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0av'+'oid\x20decode'+'ClusterLig'+'htOmniAtla'+'sViewport('+'inout\x20Clus'+'terLightDa'+'ta\x20cluster'+'LightData)'+'\x20{\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.omniAt'+'lasViewpor'+'t\x20=\x20sample'+'LightTextu'+'reF(cluste'+'rLightData'+',\x20{CLUSTER'+'_TEXTURE_P'+'ROJ_MAT_0}'+').xyz;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtAreaDat'+'a(inout\x20Cl'+'usterLight'+'Data\x20clust'+'erLightDat'+'a)\x20{\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.half'+'Width\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data,\x20{CLU'+'STER_TEXTU'+'RE_AREA_DA'+'TA_WIDTH})'+'.xyz;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.hal'+'fHeight\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData,\x20{C'+'LUSTER_TEX'+'TURE_AREA_'+'DATA_HEIGH'+'T}).xyz;\x0a}'+'\x0a\x0avoid\x20dec'+'odeCluster'+'LightProje'+'ctionMatri'+'xData(inou'+'t\x20ClusterL'+'ightData\x20c'+'lusterLigh'+'tData)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20m0\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData,\x20{CL'+'USTER_TEXT'+'URE_PROJ_M'+'AT_0});\x0a\x20\x20'+'\x20\x20vec4\x20m1\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData,\x20'+'{CLUSTER_T'+'EXTURE_PRO'+'J_MAT_1});'+'\x0a\x20\x20\x20\x20vec4\x20'+'m2\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a,\x20{CLUSTE'+'R_TEXTURE_'+'PROJ_MAT_2'+'});\x0a\x20\x20\x20\x20ve'+'c4\x20m3\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight')+('Data,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4('+'m0,\x20m1,\x20m2'+',\x20m3);\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtShadowD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20//\x20s'+'hadow\x20bias'+'es\x0a\x20\x20\x20\x20vec'+'2\x20biases\x20='+'\x20unpackHal'+'f2x16(floa'+'tBitsToUin'+'t(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'void\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(inout\x20'+'ClusterLig'+'htData\x20clu'+'sterLightD'+'ata)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20extra'+'ct\x20channel'+'\x20mask\x20from'+'\x20flags\x0a\x20\x20\x20'+'\x20uint\x20cook'+'ieFlags\x20=\x20'+'(clusterLi'+'ghtData.fl'+'ags\x20>>\x2023u'+')\x20&\x200x0Fu;'+'\x20\x20//\x204bits'+',\x20each\x20bit'+'\x20enables\x20a'+'\x20channel\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'cookieChan'+'nelMask\x20=\x20'+'vec4(uvec4'+'(cookieFla'+'gs)\x20&\x20uvec'+'4(1u,\x202u,\x20'+'4u,\x208u));\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.cookieCha'+'nnelMask\x20='+'\x20step(1.0,'+'\x20clusterLi'+'ghtData.co'+'okieChanne'+'lMask);\x20\x20/'+'/\x20Normaliz'+'e\x20to\x200.0\x20o'+'r\x201.0\x0a}\x0a\x0av'+'oid\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20Cluster'+'LightData\x20'+'light,\x20\x0a\x20\x20'+'\x20\x20vec3\x20wor'+'ldNormal,\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'viewDir,\x20\x0a'+'\x20\x20\x20\x20vec3\x20r'+'eflectionD'+'ir,\x0a#if\x20de'+'fined(LIT_'+'CLEARCOAT)'+'\x0a\x20\x20\x20\x20vec3\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20')+('\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20mat3\x20tb'+'n,\x20\x0a#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20vec'+'3\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20vec3\x20cl'+'earcoat_wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20float'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20float\x20sh'+'een_gloss,'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce_intensi'+'ty\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20vec'+'3(1.0);\x0a\x20\x20'+'\x20\x20float\x20di'+'ffuseAtten'+'uation\x20=\x201'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20fallof'+'fAttenuati'+'on\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20omn'+'i\x20part\x20of\x20'+'the\x20light\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ightDirW\x20='+'\x20evalOmniL'+'ight(light'+'.position)'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'ormW\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20')+('else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fall'+'offAttenua'+'tion\x20=\x20get'+'FalloffLin'+'ear(light.'+'range,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20getFa'+'lloffInvSq'+'uared(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_AREALIGH'+'TS\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shape\x20!='+'\x20{LIGHTSHA'+'PE_PUNCTUA'+'L})\x20{\x20//\x20a'+'rea\x20light\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20hand'+'le\x20light\x20s'+'hape\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20diffuse'+'Attenuatio'+'n\x20=\x20getRec'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirW,\x20lig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'DISK})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getD'+'iskLightDi'+'ffuse(worl'+'dNormal,\x20v'+'iewDir,\x20li'+'ghtDirW,\x20l'+'ightDirNor'+'mW)\x20*\x2016.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20{\x20//\x20sphe'+'re\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getSphereL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20g'+'etLightDif'+'fuse(world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+');\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spot'+'\x20light\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtSpot(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20*=\x20'+'getSpotEff'+'ect(light.'+'direction,'+'\x20light.inn'+'erConeAngl'+'eCos,\x20ligh'+'t.outerCon'+'eAngleCos,'+'\x20lightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_COOK'+'IES)\x20||\x20de'+'fined(CLUS'+'TER_SHADOW'+'S)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(fall'+'offAttenua'+'tion\x20>\x200.0'+'0001)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20shadow'+'\x20/\x20cookie\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'t.shadowIn'+'tensity\x20>\x20'+'0.0\x20||\x20lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'ared\x20shado'+'w\x20/\x20cookie'+'\x20data\x20depe'+'nds\x20on\x20lig'+'ht\x20type\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightOmniAt'+'lasViewpor'+'t(light);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20shadowTex'+'tureResolu'+'tion\x20=\x20sha'+'dowAtlasPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadowEdge'+'Pixels\x20=\x20s'+'hadowAtlas'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20CLUSTE'+'R_COOKIES\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'cookie\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.cookieI'+'ntensity\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20de'+'codeCluste'+'rLightCook'+'ieData(lig'+'ht);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.isSp'+'ot)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'cookieAtte'+'nuation\x20=\x20'+'getCookie2'+'DClustered'+'(TEXTURE_P'+'ASS(cookie'+'AtlasTextu'+'re),\x20light'+'Projection'+'Matrix,\x20vP'+'ositionW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20cookieAt'+'tenuation\x20'+'=\x20getCooki'+'eCubeClust'+'ered(TEXTU'+'RE_PASS(co'+'okieAtlasT'+'exture),\x20l'+'ightDirW,\x20'+'light.cook'+'ieIntensit'+'y,\x20light.c'+'ookieChann'+'elMask,\x20sh'+'adowTextur'+'eResolutio'+'n,\x20shadowE'+'dgePixels,'+'\x20light.omn'+'iAtlasView'+'port);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20CLUST'+'ER_SHADOWS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20shadow\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shadow'+'Intensity\x20'+'>\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d')+('ecodeClust'+'erLightSha'+'dowData(li'+'ght);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20shadowPa'+'rams\x20=\x20vec'+'4(shadowTe'+'xtureResol'+'ution,\x20lig'+'ht.shadowN'+'ormalBias,'+'\x20light.sha'+'dowBias,\x201'+'.0\x20/\x20light'+'.range);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'isSpot)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ot\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'hadowCoord'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat'+'rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F1)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CF1(SHADOW'+'MAP_PASS(s'+'hadowAtlas'+'Texture),\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20de'+'fined(CLUS'+'TER_SHADOW'+'_TYPE_PCF3'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(SHADOWMA'+'P_PASS(sha'+'dowAtlasTe'+'xture),\x20sh'+'adowCoord,'+'\x20shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#elif\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF5('+'SHADOWMAP_'+'PASS(shado'+'wAtlasText'+'ure),\x20shad'+'owCoord,\x20s'+'hadowParam')+('s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCSS)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20shadow\x20='+'\x20getShadow'+'SpotCluste'+'redPCSS(SH'+'ADOWMAP_PA'+'SS(shadowA'+'tlasTextur'+'e),\x20shadow'+'Coord,\x20sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fal'+'loffAttenu'+'ation\x20*=\x20m'+'ix(1.0,\x20sh'+'adow,\x20ligh'+'t.shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20om'+'ni\x20shadow\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20d'+'ir\x20=\x20norma'+'lOffsetPoi'+'ntShadow(s'+'hadowParam'+'s,\x20light.p'+'osition,\x20l'+'ightDirW,\x20'+'lightDirNo'+'rmW,\x20geome'+'tricNormal'+');\x20\x20//\x20nor'+'malBias\x20ad'+'justed\x20for'+'\x20distance\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_SHADO'+'W_TYPE_PCF'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20sha'+'dow\x20=\x20getS'+'hadowOmniC'+'lusteredPC'+'F1(SHADOWM'+'AP_PASS(sh'+'adowAtlasT'+'exture),\x20s'+'hadowParam'+'s,\x20light.o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20dir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#eli'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF3)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadowOm'+'niClustere'+'dPCF3(SHAD'+'OWMAP_PASS'+'(shadowAtl'+'asTexture)'+',\x20shadowPa'+'rams,\x20ligh'+'t.omniAtla'+'sViewport,')+('\x20shadowEdg'+'ePixels,\x20d'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20shadow\x20'+'=\x20getShado'+'wOmniClust'+'eredPCF5(S'+'HADOWMAP_P'+'ASS(shadow'+'AtlasTextu'+'re),\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20*=\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20areaDi'+'ffuse\x20=\x20(d'+'iffuseAtte'+'nuation\x20*\x20'+'falloffAtt'+'enuation)\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaDiffuse\x20'+'=\x20mix(area'+'Diffuse,\x20v'+'ec3(0),\x20dL'+'TCSpecFres'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20area'+'\x20light\x20dif'+'fuse\x20-\x20it\x20'+'does\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20')+('into\x20specu'+'lar\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20a'+'reaDiffuse'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20and\x20clear'+'\x20coat\x20are\x20'+'material\x20s'+'ettings\x20an'+'d\x20get\x20incl'+'uded\x20by\x20a\x20'+'define\x20bas'+'ed\x20on\x20the\x20'+'material\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20area\x20ligh'+'t\x20specular'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20areaLig'+'htSpecular'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.s'+'hape\x20==\x20{L'+'IGHTSHAPE_'+'RECT})\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecular\x20=\x20g'+'etRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20area'+'LightSpecu'+'lar\x20=\x20getD'+'iskLightSp'+'ecular(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x20//\x20sp'+'here\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getSp'+'hereLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp'+'ecFres\x20*\x20a'+'reaLightSp'+'ecular\x20*\x20f'+'alloffAtte'+'nuation\x20*\x20'+'light.colo'+'r\x20*\x20cookie'+'Attenuatio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x20clear'+'\x20coat\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20areaLigh'+'tSpecularC')+('C;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.shape\x20'+'==\x20{LIGHTS'+'HAPE_RECT}'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getRectLig'+'htSpecular'+'(clearcoat'+'_worldNorm'+'al,\x20viewDi'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(light'+'.shape\x20==\x20'+'{LIGHTSHAP'+'E_DISK})\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'arCC\x20=\x20get'+'DiskLightS'+'pecular(cl'+'earcoat_wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x20{\x20'+'//\x20sphere\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaLi'+'ghtSpecula'+'rCC\x20=\x20getS'+'phereLight'+'Specular(c'+'learcoat_w'+'orldNormal'+',\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20+=\x20ccLTCS'+'pecFres\x20*\x20'+'areaLightS'+'pecularCC\x20'+'*\x20falloffA'+'ttenuation'+'\x20*\x20light.c'+'olor\x20\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20{\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'unctualDif'+'fuse\x20=\x20fal'+'loffAttenu'+'ation\x20*\x20li'+'ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'CLUSTER_AR'+'EALIGHTS)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20punctual')+('Diffuse\x20=\x20'+'mix(punctu'+'alDiffuse,'+'\x20vec3(0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20punctu'+'alDiffuse;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20and\x20cle'+'ar\x20coat\x20ar'+'e\x20material'+'\x20settings\x20'+'and\x20get\x20in'+'cluded\x20by\x20'+'a\x20define\x20b'+'ased\x20on\x20th'+'e\x20material'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20halfD'+'ir\x20=\x20norma'+'lize(-ligh'+'tDirNormW\x20'+'+\x20viewDir)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR_FRESNEL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htSpecular'+'(halfDir,\x20'+'reflection'+'Dir,\x20world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation\x20*'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'viewDir,\x20h'+'alfDir),\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descence_i'+'ntensity\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecular('+'halfDir,\x20c'+'learcoatRe'+'flectionDi'+'r,\x20clearco'+'at_worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'clearcoat_'+'gloss,\x20tbn'+')\x20*\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation\x20*\x20g'+'etFresnelC'+'C(dot(view'+'Dir,\x20halfD'+'ir));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20getLi'+'ghtSpecula'+'r(halfDir,'+'\x20clearcoat'+'Reflection'+'Dir,\x20clear'+'coat_world'+'Normal,\x20vi'+'ewDir,\x20lig'+'htDirNormW'+',\x20clearcoa'+'t_gloss,\x20t'+'bn)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HEEN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec')+('ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'ir,\x20worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNormW,'+'\x20sheen_glo'+'ss)\x20*\x20fall'+'offAttenua'+'tion\x20*\x20lig'+'ht.color\x20*'+'\x20cookieAtt'+'enuation;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20Wri'+'te\x20to\x20glob'+'al\x20attenua'+'tion\x20value'+'s\x20(for\x20lig'+'htmapper)\x0a'+'\x20\x20\x20\x20dAtten'+'\x20=\x20falloff'+'Attenuatio'+'n;\x0a\x20\x20\x20\x20dLi'+'ghtDirNorm'+'W\x20=\x20lightD'+'irNormW;\x0a}'+'\x0a\x0avoid\x20eva'+'luateClust'+'erLight(\x0a\x20'+'\x20\x20\x20float\x20l'+'ightIndex,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20worldNorm'+'al,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20viewDi'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20reflect'+'ionDir,\x20\x0a#'+'if\x20defined'+'(LIT_CLEAR'+'COAT)\x0a\x20\x20\x20\x20'+'vec3\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'float\x20glos'+'s,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20specula'+'rity,\x20\x0a\x20\x20\x20'+'\x20vec3\x20geom'+'etricNorma'+'l,\x20\x0a\x20\x20\x20\x20ma'+'t3\x20tbn,\x20\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20ve'+'c3\x20clearco'+'at_worldNo'+'rmal,\x0a\x20\x20\x20\x20'+'float\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20flo'+'at\x20sheen_g'+'loss,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escence_in'+'tensity\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'decode\x20cor'+'e\x20light\x20da'+'ta\x20from\x20te'+'xtures\x0a\x20\x20\x20'+'\x20ClusterLi'+'ghtData\x20cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(cluster'+'LightData,'+'\x20lightInde'+'x);\x0a\x0a\x20\x20\x20\x20/'+'/\x20evaluate'+'\x20light\x20if\x20'+'it\x20uses\x20ac'+'cepted\x20lig'+'ht\x20mask\x0a\x20\x20'+'\x20\x20#ifdef\x20C')+('LUSTER_MES'+'H_DYNAMIC_'+'LIGHTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20bool\x20'+'acceptLigh'+'tMask\x20=\x20cl'+'usterLight'+'Data.isDyn'+'amic;\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20bool\x20a'+'cceptLight'+'Mask\x20=\x20clu'+'sterLightD'+'ata.isLigh'+'tmapped;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20if\x20(a'+'cceptLight'+'Mask)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clusterLi'+'ghtData,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20worldNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20vi'+'ewDir,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'reflection'+'Dir,\x20\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x20\x0a'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_worldNorm'+'al,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sheen'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a}\x0a\x0avoid'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20reflecti'+'onDir,\x20\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20v'+'ec3\x20clearc'+'oatReflect'+'ionDir,\x0a#e'+'ndif\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20geome'+'tricNormal'+',\x20\x0a\x20\x20\x20\x20mat'+'3\x20tbn,\x20\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a#end')+('if\x0a\x20\x20\x20\x20vec'+'3\x20clearcoa'+'t_worldNor'+'mal,\x0a\x20\x20\x20\x20f'+'loat\x20clear'+'coat_gloss'+',\x0a\x20\x20\x20\x20floa'+'t\x20sheen_gl'+'oss,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scence_int'+'ensity\x0a)\x20{'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'kip\x20lights'+'\x20if\x20no\x20lig'+'hts\x20at\x20all'+'\x0a\x20\x20\x20\x20if\x20(c'+'lusterSkip'+'\x20>\x200.5)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x0a\x20\x20\x20\x20/'+'/\x20world\x20sp'+'ace\x20positi'+'on\x20to\x203d\x20i'+'nteger\x20cel'+'l\x20cordinat'+'es\x20in\x20the\x20'+'cluster\x20st'+'ructure\x0a\x20\x20'+'\x20\x20vec3\x20cel'+'lCoords\x20=\x20'+'floor((vPo'+'sitionW\x20-\x20'+'clusterBou'+'ndsMin)\x20*\x20'+'clusterCel'+'lsCountByB'+'oundsSize)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'no\x20lightin'+'g\x20when\x20cel'+'l\x20coordina'+'te\x20is\x20out\x20'+'of\x20range\x0a\x20'+'\x20\x20\x20if\x20(!(a'+'ny(lessTha'+'n(cellCoor'+'ds,\x20vec3(0'+'.0)))\x20||\x20a'+'ny(greater'+'ThanEqual('+'cellCoords'+',\x20clusterC'+'ellsMax)))'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cell'+'\x20index\x20(ma'+'pping\x20from'+'\x203d\x20cell\x20c'+'oordinates'+'\x20to\x20linear'+'\x20memory)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20cellInd'+'ex\x20=\x20dot(c'+'lusterCell'+'sDot,\x20cell'+'Coords);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20convert\x20c'+'ell\x20index\x20'+'to\x20uv\x20coor'+'dinates\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20clusterV'+'\x20=\x20floor(c'+'ellIndex\x20*'+'\x20clusterTe'+'xtureSize.'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20cl'+'usterU\x20=\x20c'+'ellIndex\x20-'+'\x20(clusterV'+'\x20*\x20cluster'+'TextureSiz'+'e.x);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20lo'+'op\x20over\x20ma'+'ximum\x20numb'+'er\x20of\x20ligh'+'t\x20cells\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20light'+'CellIndex\x20'+'=\x200;\x20light'+'CellIndex\x20'+'<\x20clusterM'+'axCells;\x20l'+'ightCellIn')+('dex++)\x20{\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20using'+'\x20a\x20single\x20'+'channel\x20te'+'xture\x20with'+'\x20data\x20in\x20r'+'ed\x20channel'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20l'+'ightIndex\x20'+'=\x20texelFet'+'ch(cluster'+'WorldTextu'+'re,\x20ivec2('+'int(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20clusterV'+'),\x200).x;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(ligh'+'tIndex\x20<=\x20'+'0.0)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20break;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20evaluateC'+'lusterLigh'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightIndex\x20'+'*\x20255.0,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20geometric'+'Normal,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20tbn,\x20'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel,\x0a#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20cl'+'earcoat_gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sheen_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),m1='\x0avec3\x20comb'+'ineColor(v'+'ec3\x20albedo'+',\x20vec3\x20she'+'enSpecular'+'ity,\x20float'+'\x20clearcoat'+'Specularit'+'y)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20ret\x20=\x20'+'vec3(0);\x0a#'+'ifdef\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20ret\x20'+'+=\x20(dDiffu'+'seLight\x20-\x20'+'light_glob'+'alAmbient)'+'\x20*\x20albedo\x20'+'+\x20material'+'_ambient\x20*'+'\x20light_glo'+'balAmbient'+';\x0a#else\x0a\x20\x20'+'\x20\x20ret\x20+=\x20a'+'lbedo\x20*\x20dD'+'iffuseLigh'+'t;\x0a#endif\x0a'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20ret\x20+='+'\x20dSpecular'+'Light;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_REFLE'+'CTIONS\x0a\x20\x20\x20'+'\x20ret\x20+=\x20dR'+'eflection.'+'rgb\x20*\x20dRef'+'lection.a;'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'float\x20shee'+'nScaling\x20='+'\x201.0\x20-\x20max'+'(max(sheen'+'Specularit'+'y.r,\x20sheen'+'Specularit'+'y.g),\x20shee'+'nSpeculari'+'ty.b)\x20*\x200.'+'157;\x0a\x20\x20\x20\x20r'+'et\x20=\x20ret\x20*'+'\x20sheenScal'+'ing\x20+\x20(sSp'+'ecularLigh'+'t\x20+\x20sRefle'+'ction.rgb)'+'\x20*\x20sheenSp'+'ecularity;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20float\x20c'+'learCoatSc'+'aling\x20=\x201.'+'0\x20-\x20ccFres'+'nel\x20*\x20clea'+'rcoatSpecu'+'larity;\x0a\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20clearC'+'oatScaling'+'\x20+\x20(ccSpec'+'ularLight\x20'+'+\x20ccReflec'+'tion)\x20*\x20cl'+'earcoatSpe'+'cularity;\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20return\x20r'+'et;\x0a}\x0a',_1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blitT'+'exture;\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20texture'+'2D(blitTex'+'ture,\x20uv0)'+';\x0a\x20\x20\x20\x20}\x0a',g1='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'erCube\x20bli'+'tTexture;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20inv'+'ViewProj;\x0a'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20vec4('+'uv0\x20*\x202.0\x20'+'-\x201.0,\x200.5'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec4'+'\x20worldPos\x20'+'=\x20invViewP'+'roj\x20*\x20proj'+'Pos;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20te'+'xtureCube('+'blitTextur'+'e,\x20worldPo'+'s.xyz);\x0a\x20\x20'+'\x20\x20}\x0a',S1='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uv0'+'.y\x20=\x201.0\x20-'+'\x20uv0.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20}\x0a',y1='\x0a//\x20light\x20'+'cookie\x20fun'+'ctionality'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0avec4'+'\x20getCookie'+'2D(sampler'+'2D\x20tex,\x20ma'+'t4\x20transfo'+'rm,\x20float\x20'+'intensity)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20projPos\x20'+'=\x20transfor'+'m\x20*\x20vec4(v'+'PositionW,'+'\x201.0);\x0a\x20\x20\x20'+'\x20projPos.x'+'y\x20/=\x20projP'+'os.w;\x0a\x20\x20\x20\x20'+'return\x20mix'+'(vec4(1.0)'+',\x20texture2'+'D(tex,\x20pro'+'jPos.xy),\x20'+'intensity)'+';\x0a}\x0a\x0avec4\x20'+'getCookie2'+'DClip(samp'+'ler2D\x20tex,'+'\x20mat4\x20tran'+'sform,\x20flo'+'at\x20intensi'+'ty)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20projP'+'os\x20=\x20trans'+'form\x20*\x20vec'+'4(vPositio'+'nW,\x201.0);\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20/=\x20pr'+'ojPos.w;\x0a\x20'+'\x20\x20\x20if\x20(pro'+'jPos.x\x20<\x200'+'.0\x20||\x20proj'+'Pos.x\x20>\x201.'+'0\x20||\x20projP'+'os.y\x20<\x200.0'+'\x20||\x20projPo'+'s.y\x20>\x201.0\x20'+'||\x20projPos'+'.z\x20<\x200.0)\x20'+'return\x20vec'+'4(0.0);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(vec4(1.'+'0),\x20textur'+'e2D(tex,\x20p'+'rojPos.xy)'+',\x20intensit'+'y);\x0a}\x0a\x0avec'+'4\x20getCooki'+'e2DXform(s'+'ampler2D\x20t'+'ex,\x20mat4\x20t'+'ransform,\x20'+'float\x20inte'+'nsity,\x20vec'+'4\x20cookieMa'+'trix,\x20vec2'+'\x20cookieOff'+'set)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20proj'+'Pos\x20=\x20tran'+'sform\x20*\x20ve'+'c4(vPositi'+'onW,\x201.0);'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20/=\x20p'+'rojPos.w;\x0a'+'\x20\x20\x20\x20projPo'+'s.xy\x20+=\x20co'+'okieOffset'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookie2D'+'ClipXform('+('sampler2D\x20'+'tex,\x20mat4\x20'+'transform,'+'\x20float\x20int'+'ensity,\x20ve'+'c4\x20cookieM'+'atrix,\x20vec'+'2\x20cookieOf'+'fset)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'jPos\x20=\x20tra'+'nsform\x20*\x20v'+'ec4(vPosit'+'ionW,\x201.0)'+';\x0a\x20\x20\x20\x20proj'+'Pos.xy\x20/=\x20'+'projPos.w;'+'\x0a\x20\x20\x20\x20projP'+'os.xy\x20+=\x20c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20if\x20'+'(projPos.x'+'\x20<\x200.0\x20||\x20'+'projPos.x\x20'+'>\x201.0\x20||\x20p'+'rojPos.y\x20<'+'\x200.0\x20||\x20pr'+'ojPos.y\x20>\x20'+'1.0\x20||\x20pro'+'jPos.z\x20<\x200'+'.0)\x20return'+'\x20vec4(0.0)'+';\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20mat2'+'(cookieMat'+'rix)\x20*\x20(pr'+'ojPos.xy-v'+'ec2(0.5))\x20'+'+\x20vec2(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ve'+'c4(1.0),\x20t'+'exture2D(t'+'ex,\x20uv),\x20i'+'ntensity);'+'\x0a}\x0a\x0avec4\x20g'+'etCookieCu'+'be(sampler'+'Cube\x20tex,\x20'+'mat4\x20trans'+'form,\x20floa'+'t\x20intensit'+'y)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20mix('+'vec4(1.0),'+'\x20textureCu'+'be(tex,\x20dL'+'ightDirNor'+'mW\x20*\x20mat3('+'transform)'+'),\x20intensi'+'ty);\x0a}\x0a'),v1='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20envBoxM'+'in;\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20envBoxMax'+';\x0a#endif\x0a\x0a'+'vec3\x20cubeM'+'apProject('+'vec3\x20nrdir'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIT_CUB'+'EMAP_PROJE'+'CTION\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20c'+'ubeMapRota'+'te(nrdir);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20LIT_CUBEM'+'AP_PROJECT'+'ION\x20==\x20BOX'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'nrdir\x20=\x20cu'+'beMapRotat'+'e(nrdir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20rbmax\x20'+'=\x20(envBoxM'+'ax\x20-\x20vPosi'+'tionW)\x20/\x20n'+'rdir;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20r'+'bmin\x20=\x20(en'+'vBoxMin\x20-\x20'+'vPositionW'+')\x20/\x20nrdir;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20rbmin'+'max\x20=\x20mix('+'rbmin,\x20rbm'+'ax,\x20vec3(g'+'reaterThan'+'(nrdir,\x20ve'+'c3(0.0))))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20fa\x20='+'\x20min(min(r'+'bminmax.x,'+'\x20rbminmax.'+'y),\x20rbminm'+'ax.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20posonbox\x20'+'=\x20vPositio'+'nW\x20+\x20nrdir'+'\x20*\x20fa;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envBoxPos\x20'+'=\x20(envBoxM'+'in\x20+\x20envBo'+'xMax)\x20*\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20no'+'rmalize(po'+'sonbox\x20-\x20e'+'nvBoxPos);'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',x1='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20mat3\x20cu'+'beMapRotat'+'ionMatrix;'+'\x0a#endif\x0a\x0av'+'ec3\x20cubeMa'+'pRotate(ve'+'c3\x20refDir)'+'\x20{\x0a#ifdef\x20'+'CUBEMAP_RO'+'TATION\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'#else\x0a\x20\x20\x20\x20'+'return\x20ref'+'Dir;\x0a#endi'+'f\x0a}\x0a',T1='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0agl_FragCo'+'lor\x20=\x20vec4'+'(litArgs_a'+'lbedo\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_WORLD'+'_NORMAL_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(litArgs'+'_worldNorm'+'al\x20*\x200.5\x20+'+'\x200.5,\x201.0)'+';\x0a#endif\x0a\x0a'+'#ifdef\x20DEB'+'UG_OPACITY'+'_PASS\x0agl_F'+'ragColor\x20='+'\x20vec4(vec3'+'(litArgs_o'+'pacity)\x20,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_SPE'+'CULARITY_P'+'ASS\x0agl_Fra'+'gColor\x20=\x20v'+'ec4(litArg'+'s_specular'+'ity,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_GLOSS_PA'+'SS\x0agl_Frag'+'Color\x20=\x20ve'+'c4(vec3(li'+'tArgs_glos'+'s)\x20,\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_METALNES'+'S_PASS\x0agl_'+'FragColor\x20'+'=\x20vec4(vec'+'3(litArgs_'+'metalness)'+'\x20,\x201.0);\x0a#'+'endif\x0a\x0a#if'+'def\x20DEBUG_'+'AO_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ve'+'c3(litArgs'+'_ao)\x20,\x201.0'+');\x0a#endif\x0a'+'\x0a#ifdef\x20DE'+'BUG_EMISSI'+'ON_PASS\x0agl'+'_FragColor'+'\x20=\x20vec4(ga'+'mmaCorrect'+'Output(lit'+'Args_emiss'+'ion),\x201.0)'+';\x0a#endif\x0a',w1='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0ali'+'tArgs_albe'+'do\x20=\x20vec3('+'0.5);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_UV0'+'_PASS\x0a#ifd'+'ef\x20VARYING'+'_VUV0\x0alitA'+'rgs_albedo'+'\x20=\x20vec3(vU'+'v0,\x200);\x0a#e'+'lse\x0alitArg'+'s_albedo\x20='+'\x20vec3(0);\x0a'+'#endif\x0a#en'+'dif\x0a',E1='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0avec3\x20'+'decodeLine'+'ar(vec4\x20ra'+'w)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw.'+'rgb;\x0a}\x0a\x0afl'+'oat\x20decode'+'Gamma(floa'+'t\x20raw)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'pow(raw,\x202'+'.2);\x0a}\x0a\x0ave'+'c3\x20decodeG'+'amma(vec3\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w(raw,\x20vec'+'3(2.2));\x0a}'+'\x0a\x0avec3\x20dec'+'odeGamma(v'+'ec4\x20raw)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(raw.'+'xyz,\x20vec3('+'2.2));\x0a}\x0a\x0a'+'vec3\x20decod'+'eRGBM(vec4'+'\x20raw)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20col'+'or\x20=\x20(8.0\x20'+'*\x20raw.a)\x20*'+'\x20raw.rgb;\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0av'+'ec3\x20decode'+'RGBP(vec4\x20'+'raw)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20colo'+'r\x20=\x20raw.rg'+'b\x20*\x20(-raw.'+'a\x20*\x207.0\x20+\x20'+'8.0);\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBE'+'(vec4\x20raw)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(raw.a\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec3(0.0'+',\x200.0,\x200.0'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20raw.xyz\x20*'+'\x20pow(2.0,\x20'+'raw.w\x20*\x2025'+'5.0\x20-\x20128.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0avec4\x20pa'+'ssThrough('+'vec4\x20raw)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20raw;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'Z(vec4\x20nma'+'p)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20nmap'+'.xyz\x20*\x202.0'+'\x20-\x201.0;\x0a}\x0a'+'\x0avec3\x20unpa'+'ckNormalXY'+'(vec4\x20nmap'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20normal;'+'\x0a\x20\x20\x20\x20norma'+'l.xy\x20=\x20nma'+'p.wy\x20*\x202.0'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20normal.z'+'\x20=\x20sqrt(1.'+'0\x20-\x20clamp('+'dot(normal'+'.xy,\x20norma'+'l.xy),\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20return\x20'+'normal;\x0a}\x0a'+'\x0a#endif\x0a',b1='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0avec3\x20'+'detailMode'+'_mul(vec3\x20'+'c1,\x20vec3\x20c'+'2)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20c1\x20*'+'\x20c2;\x0a}\x0a\x0ave'+'c3\x20detailM'+'ode_add(ve'+'c3\x20c1,\x20vec'+'3\x20c2)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'1\x20+\x20c2;\x0a}\x0a'+'\x0a//\x20https:'+'//en.wikip'+'edia.org/w'+'iki/Blend_'+'modes#Scre'+'en\x0avec3\x20de'+'tailMode_s'+'creen(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x201.0'+'\x20-\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2);\x0a}\x0a\x0a/'+'/\x20https://'+'en.wikiped'+'ia.org/wik'+'i/Blend_mo'+'des#Overla'+'y\x0avec3\x20det'+'ailMode_ov'+'erlay(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(1.0\x20-\x202.0'+'\x20*\x20(1.0\x20-\x20'+'c1)*(1.0\x20-'+'\x20c2),\x202.0\x20'+'*\x20c1\x20*\x20c2,'+'\x20step(c1,\x20'+'vec3(0.5))'+');\x0a}\x0a\x0avec3'+'\x20detailMod'+'e_min(vec3'+'\x20c1,\x20vec3\x20'+'c2)\x20{\x0a\x20\x20\x20\x20'+'return\x20min'+'(c1,\x20c2);\x0a'+'}\x0a\x0avec3\x20de'+'tailMode_m'+'ax(vec3\x20c1'+',\x20vec3\x20c2)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20max(c1'+',\x20c2);\x0a}\x0a\x0a'+'#endif\x0a',A1='\x0auniform\x20v'+'ec3\x20materi'+'al_diffuse'+';\x0a\x0a#ifdef\x20'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'detailMode'+'sPS\x22\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20mate'+'rial_diffu'+'se.rgb;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_DIFFUS'+'E_TEXTURE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20albedoT'+'exture\x20=\x20{'+'STD_DIFFUS'+'E_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_DIF'+'FUSE_TEXTU'+'RE_NAME},\x20'+'{STD_DIFFU'+'SE_TEXTURE'+'_UV},\x20text'+'ureBias)).'+'{STD_DIFFU'+'SE_TEXTURE'+'_CHANNEL};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSEDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'albedoDeta'+'il\x20=\x20{STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_DECODE}('+'texture2DB'+'ias({STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'DETAIL_TEX'+'TURE_UV},\x20'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20*=\x20albe'+'doTexture;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSE_VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dAlbedo\x20*'+'=\x20gammaCor'+'rectInput('+'saturate(v'+'VertexColo'+'r.{STD_DIF'+'FUSE_VERTE'+'X_CHANNEL}'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',C1='\x0auniform\x20v'+'ec3\x20materi'+'al_emissiv'+'e;\x0auniform'+'\x20float\x20mat'+'erial_emis'+'siveIntens'+'ity;\x0a\x0avoid'+'\x20getEmissi'+'on()\x20{\x0a\x20\x20\x20'+'\x20dEmission'+'\x20=\x20materia'+'l_emissive'+'\x20*\x20materia'+'l_emissive'+'Intensity;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_TEXT'+'URE\x0a\x20\x20\x20\x20dE'+'mission\x20*='+'\x20{STD_EMIS'+'SIVE_TEXTU'+'RE_DECODE}'+'(texture2D'+'Bias({STD_'+'EMISSIVE_T'+'EXTURE_NAM'+'E},\x20{STD_E'+'MISSIVE_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'EMISSIVE_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_EMISSI'+'VE_VERTEX\x0a'+'\x20\x20\x20\x20dEmiss'+'ion\x20*=\x20gam'+'maCorrectI'+'nput(satur'+'ate(vVerte'+'xColor.{ST'+'D_EMISSIVE'+'_VERTEX_CH'+'ANNEL}));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a',P1='\x0avec4\x20enco'+'deLinear(v'+'ec3\x20source'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'source,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeGa'+'mma(vec3\x20s'+'ource)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec4(pow(s'+'ource\x20+\x200.'+'0000001,\x20v'+'ec3(1.0\x20/\x20'+'2.2)),\x201.0'+');\x0a}\x0a\x0avec4'+'\x20encodeRGB'+'M(vec3\x20sou'+'rce)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20result;'+'\x0a\x20\x20\x20\x20resul'+'t.rgb\x20=\x20po'+'w(source.r'+'gb,\x20vec3(0'+'.5));\x0a\x20\x20\x20\x20'+'result.rgb'+'\x20*=\x201.0\x20/\x20'+'8.0;\x0a\x0a\x20\x20\x20\x20'+'result.a\x20='+'\x20saturate('+'\x20max(\x20max('+'\x20result.r,'+'\x20result.g\x20'+'),\x20max(\x20re'+'sult.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20)\x20);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20ceil(res'+'ult.a\x20*\x2025'+'5.0)\x20/\x20255'+'.0;\x0a\x0a\x20\x20\x20\x20r'+'esult.rgb\x20'+'/=\x20result.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0avec4\x20'+'encodeRGBP'+'(vec3\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'//\x20convert'+'\x20incoming\x20'+'linear\x20to\x20'+'gamma(ish)'+'\x0a\x20\x20\x20\x20vec3\x20'+'gamma\x20=\x20po'+'w(source,\x20'+'vec3(0.5))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'the\x20maximu'+'m\x20componen'+'t\x20clamped\x20'+'to\x201..8\x0a\x20\x20'+'\x20\x20float\x20ma'+'xVal\x20=\x20min'+'(8.0,\x20max('+'1.0,\x20max(g'+'amma.x,\x20ma'+'x(gamma.y,'+'\x20gamma.z))'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20storage\x20'+'factor\x0a\x20\x20\x20'+'\x20float\x20v\x20='+'\x201.0\x20-\x20((m'+'axVal\x20-\x201.'+'0)\x20/\x207.0);'+'\x0a\x0a\x20\x20\x20\x20//\x20r'+'ound\x20the\x20v'+'alue\x20for\x20s'+'torage\x20in\x20'+'8bit\x20chann'+'el\x0a\x20\x20\x20\x20v\x20='+'\x20ceil(v\x20*\x20'+'255.0)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(gamma\x20/'+'\x20(-v\x20*\x207.0'+'\x20+\x208.0),\x20v'+');\x20\x20\x20\x20\x0a}\x0a\x0a'+'vec4\x20encod'+'eRGBE(vec3'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20float'+('\x20maxVal\x20=\x20'+'max(source'+'.x,\x20max(so'+'urce.y,\x20so'+'urce.z));\x0a'+'\x20\x20\x20\x20if\x20(ma'+'xVal\x20<\x201e-'+'32)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec4(0,\x200'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20e\x20=\x20'+'ceil(log2('+'maxVal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20vec4('+'source\x20/\x20p'+'ow(2.0,\x20e)'+',\x20(e\x20+\x20128'+'.0)\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),M1='\x0a\x20\x20\x20\x20gl_Fr'+'agColor.rg'+'b\x20=\x20combin'+'eColor(lit'+'Args_albed'+'o,\x20litArgs'+'_sheen_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_sp'+'ecularity)'+';\x0a\x0a\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20+=\x20lit'+'Args_emiss'+'ion;\x0a\x20\x20\x20\x20g'+'l_FragColo'+'r.rgb\x20=\x20ad'+'dFog(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20ton'+'eMap(gl_Fr'+'agColor.rg'+'b);\x0a\x20\x20\x20\x20gl'+'_FragColor'+'.rgb\x20=\x20gam'+'maCorrectO'+'utput(gl_F'+'ragColor.r'+'gb);\x0a',D1='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20floa'+'t\x20atlasSiz'+'e\x20=\x20512.0;'+'\x0aconst\x20flo'+'at\x20seamSiz'+'e\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0avec2\x20ma'+'pUv(vec2\x20u'+'v,\x20vec4\x20re'+'ct)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(mix(rect'+'.x\x20+\x20seamS'+'ize,\x20rect.'+'x\x20+\x20rect.z'+'\x20-\x20seamSiz'+'e,\x20uv.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mix('+'rect.y\x20+\x20s'+'eamSize,\x20r'+'ect.y\x20+\x20re'+'ct.w\x20-\x20sea'+'mSize,\x20uv.'+'y));\x0a}\x0a\x0a//'+'\x20map\x20a\x20nor'+'malized\x20eq'+'uirect\x20UV\x20'+'and\x20roughn'+'ess\x20level\x20'+'to\x20the\x20cor'+'rect\x20atlas'+'\x20rect.\x0avec'+'2\x20mapRough'+'nessUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'0,\x201.0\x20-\x20t'+',\x20t,\x20t\x20*\x200'+'.5));\x0a}\x0a\x0a/'+'/\x20map\x20shin'+'y\x20level\x20UV'+'\x0avec2\x20mapS'+'hinyUv(vec'+'2\x20uv,\x20floa'+'t\x20level)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20t\x20=\x201.0\x20/'+'\x20exp2(leve'+'l);\x0a\x20\x20\x20\x20re'+'turn\x20mapUv'+'(uv,\x20vec4('+'1.0\x20-\x20t,\x201'+'.0\x20-\x20t,\x20t,'+'\x20t\x20*\x200.5))'+';\x0a}\x0a\x0a#endi'+'f\x0a',I1='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20float\x20sky'+'boxIntensi'+'ty;\x0a#endif'+'\x0a\x0avec3\x20pro'+'cessEnviro'+'nment(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20skybo'+'xIntensity'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',L1='\x0afloat\x20get'+'FalloffWin'+'dow(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'sqrDist\x20=\x20'+'dot(lightD'+'ir,\x20lightD'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20invRa'+'dius\x20=\x201.0'+'\x20/\x20lightRa'+'dius;\x0a\x20\x20\x20\x20'+'return\x20squ'+'are(satura'+'te(1.0\x20-\x20s'+'quare(sqrD'+'ist\x20*\x20squa'+'re(invRadi'+'us))));\x0a}\x0a'+'\x0afloat\x20get'+'FalloffInv'+'Squared(fl'+'oat\x20lightR'+'adius,\x20vec'+'3\x20lightDir'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20sqrDis'+'t\x20=\x20dot(li'+'ghtDir,\x20li'+'ghtDir);\x0a\x20'+'\x20\x20\x20float\x20f'+'alloff\x20=\x201'+'.0\x20/\x20(sqrD'+'ist\x20+\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20invRadiu'+'s\x20=\x201.0\x20/\x20'+'lightRadiu'+'s;\x0a\x0a\x20\x20\x20\x20fa'+'lloff\x20*=\x201'+'6.0;\x0a\x20\x20\x20\x20f'+'alloff\x20*=\x20'+'square(sat'+'urate(1.0\x20'+'-\x20square(s'+'qrDist\x20*\x20s'+'quare(invR'+'adius))));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20falloff'+';\x0a}\x0a',R1='\x0afloat\x20get'+'FalloffLin'+'ear(float\x20'+'lightRadiu'+'s,\x20vec3\x20li'+'ghtDir)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20length'+'(lightDir)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20max(((l'+'ightRadius'+'\x20-\x20d)\x20/\x20li'+'ghtRadius)'+',\x200.0);\x0a}\x0a',O1='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x0ave'+'c4\x20float2u'+'int(float\x20'+'value)\x20{\x0a\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20fl'+'oatBitsToU'+'int(value)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20vec4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((intBit'+'s\x20>>\x2024u)\x20'+'&\x200xFFu)\x20/'+'\x20255.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((intBits'+'\x20>>\x2016u)\x20&'+'\x200xFFu)\x20/\x20'+'255.0,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'((intBits\x20'+'>>\x208u)\x20&\x200'+'xFFu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(i'+'ntBits\x20&\x200'+'xFFu)\x20/\x2025'+'5.0\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0a//\x20dec'+'ode\x20RGBA8\x20'+'value\x20to\x20f'+'loat\x0afloat'+'\x20uint2floa'+'t(vec4\x20val'+'ue)\x20{\x0a\x20\x20\x20\x20'+'uint\x20intBi'+'ts\x20=\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20(uint('+'value.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(value.g\x20*'+'\x20255.0)\x20<<'+'\x2016u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20(uin'+'t(value.b\x20'+'*\x20255.0)\x20<'+'<\x208u)\x20|\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uint'+'(value.a\x20*'+'\x20255.0);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20uintBitsT'+'oFloat(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0av'+'ec4\x20float2'+'vec4(float'+'\x20value)\x20{\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(CAPS'+'_TEXTURE_F'+'LOAT_RENDE'+'RABLE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4(val'+'ue,\x201.0,\x201'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20float'+'2uint(valu'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0a#e'+'ndif\x20//\x20FL'+'OAT_AS_UIN'+'T\x0a',F1='\x0a\x0afloat\x20dB'+'lendModeFo'+'gFactor\x20=\x20'+'1.0;\x0a\x0a#if\x20'+'(FOG\x20!=\x20NO'+'NE)\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20fog_color'+';\x0a\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20f'+'og_start;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20fog_end;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20fog_den'+'sity;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afloat'+'\x20getFogFac'+'tor()\x20{\x0a\x0a\x20'+'\x20\x20\x20float\x20d'+'epth\x20=\x20gl_'+'FragCoord.'+'z\x20/\x20gl_Fra'+'gCoord.w;\x0a'+'\x20\x20\x20\x20float\x20'+'fogFactor\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20#if\x20(FOG'+'\x20==\x20LINEAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fogFactor\x20'+'=\x20(fog_end'+'\x20-\x20depth)\x20'+'/\x20(fog_end'+'\x20-\x20fog_sta'+'rt);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fogF'+'actor\x20=\x20ex'+'p(-depth\x20*'+'\x20fog_densi'+'ty);\x0a\x20\x20\x20\x20#'+'elif\x20(FOG\x20'+'==\x20EXP2)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fog'+'Factor\x20=\x20e'+'xp(-depth\x20'+'*\x20depth\x20*\x20'+'fog_densit'+'y\x20*\x20fog_de'+'nsity);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(fog'+'Factor,\x200.'+'0,\x201.0);\x0a}'+'\x0a\x0avec3\x20add'+'Fog(vec3\x20c'+'olor)\x20{\x0a\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'fog_color\x20'+'*\x20dBlendMo'+'deFogFacto'+'r,\x20color,\x20'+'getFogFact'+'or());\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'color;\x0a}\x0a',N1='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0ave'+'c3\x20getFres'+'nel(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20c'+'osTheta,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20specu'+'larity\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20vec3'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a\x20\x20\x20\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20fresnel\x20'+'=\x20pow(1.0\x20'+'-\x20saturate'+'(cosTheta)'+',\x205.0);\x0a\x20\x20'+'\x20\x20float\x20gl'+'ossSq\x20=\x20gl'+'oss\x20*\x20glos'+'s;\x0a\x20\x20\x20\x20vec'+'3\x20ret\x20=\x20sp'+'ecularity\x20'+'+\x20(max(vec'+'3(glossSq)'+',\x20specular'+'ity)\x20-\x20spe'+'cularity)\x20'+'*\x20fresnel;'+'\x0a#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20return'+'\x20mix(ret,\x20'+'iridescenc'+'eFresnel,\x20'+'iridescenc'+'eIntensity'+');\x0a#else\x0a\x20'+'\x20\x20\x20return\x20'+'ret;\x0a#endi'+'f\x20\x20\x20\x20\x0a}\x0a\x0af'+'loat\x20getFr'+'esnelCC(fl'+'oat\x20cosThe'+'ta)\x20{\x0a\x20\x20\x20\x20'+'float\x20fres'+'nel\x20=\x20pow('+'1.0\x20-\x20satu'+'rate(cosTh'+'eta),\x205.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x200.04\x20+\x20'+'(1.0\x20-\x200.0'+'4)\x20*\x20fresn'+'el;\x0a}\x0a',k1='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0a\x0avaryin'+'g\x20vec2\x20vUv'+'0;\x0a\x0avoid\x20m'+'ain(void)\x0a'+'{\x0a\x20\x20\x20\x20gl_P'+'osition\x20=\x20'+'vec4(verte'+'x_position'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20vUv'+'0\x20=\x20vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x200.5;\x0a}\x0a',U1='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(color)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ga'+'mmaCorrect'+'Input(vec3'+'\x20color)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGamma(col'+'or);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20gammaCorr'+'ectInput(v'+'ec4\x20color)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4(decodeG'+'amma(color'+'.xyz),\x20col'+'or.w);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20gammaCo'+'rrectOutpu'+'t(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20pow(color'+'\x20+\x200.00000'+'01,\x20vec3(1'+'.0\x20/\x202.2))'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'else\x20//\x20NO'+'NE\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20gammaC'+'orrectInpu'+'t(float\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectInp'+'ut(vec3\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20gamma'+'CorrectInp'+'ut(vec4\x20co'+'lor)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec3\x20gamma'+'CorrectOut'+'put(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20color;\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a',B1='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0auni'+'form\x20float'+'\x20material_'+'gloss;\x0a#en'+'dif\x0a\x0avoid\x20'+'getGlossin'+'ess()\x20{\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_GLO'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20*='+'\x20material_'+'gloss;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_GLOSS_'+'TEXTURE\x0a\x20\x20'+'\x20\x20dGlossin'+'ess\x20*=\x20tex'+'ture2DBias'+'({STD_GLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_GLOSS_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_G'+'LOSS_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_INVE'+'RT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x201.0\x20-\x20dGl'+'ossiness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dGlo'+'ssiness\x20+='+'\x200.0000001'+';\x0a}\x0a',z1='\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tion;\x0a\x0a//\x20'+'project\x20th'+'e\x20model\x20sp'+'ace\x20gaussi'+'an\x20center\x20'+'to\x20view\x20an'+'d\x20clip\x20spa'+'ce\x0abool\x20in'+'itCenter(v'+'ec3\x20modelC'+'enter,\x20out'+'\x20SplatCent'+'er\x20center)'+'\x20{\x0a\x20\x20\x20\x20mat'+'4\x20modelVie'+'w\x20=\x20matrix'+'_view\x20*\x20ma'+'trix_model'+';\x0a\x20\x20\x20\x20vec4'+'\x20centerVie'+'w\x20=\x20modelV'+'iew\x20*\x20vec4'+'(modelCent'+'er,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly\x20out\x20if'+'\x20splat\x20is\x20'+'behind\x20the'+'\x20camera\x0a\x20\x20'+'\x20\x20if\x20(cent'+'erView.z\x20>'+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20false;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20vec4\x20cent'+'erProj\x20=\x20m'+'atrix_proj'+'ection\x20*\x20c'+'enterView;'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nsure\x20gaus'+'sians\x20are\x20'+'not\x20clippe'+'d\x20by\x20camer'+'a\x20near\x20and'+'\x20far\x0a\x20\x20\x20\x20#'+'if\x20WEBGPU\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ce'+'nterProj.z'+'\x20=\x20clamp(c'+'enterProj.'+'z,\x200,\x20abs('+'centerProj'+'.w));\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20center'+'Proj.z\x20=\x20c'+'lamp(cente'+'rProj.z,\x20-'+'abs(center'+'Proj.w),\x20a'+'bs(centerP'+'roj.w));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20cente'+'r.view\x20=\x20c'+'enterView.'+'xyz\x20/\x20cent'+'erView.w;\x0a'+'\x20\x20\x20\x20center'+'.proj\x20=\x20ce'+'nterProj;\x0a'+'\x20\x20\x20\x20center'+'.projMat00'+'\x20=\x20matrix_'+'projection'+'[0][0];\x0a\x20\x20'+'\x20\x20center.m'+'odelView\x20='+'\x20modelView'+';\x0a\x20\x20\x20\x20retu'+'rn\x20true;\x0a}'+'\x0a',V1='\x0a\x0auniform\x20'+'mediump\x20sa'+'mpler2D\x20sp'+'latColor;\x0a'+'\x0a//\x20:\x200'+'.0\x20~\x201.0\x20'+'\x0afl'+'oat\x20comput'+'eAlpha(flo'+'at\x20muT,\x20fl'+'oat\x20uTime,'+'\x20float\x20uFa'+'deSpeed,\x20f'+'loat\x20life)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20age\x20=\x20('+'uTime\x20-\x20mu'+'T)\x20*\x202.0;\x20'+'//\x20'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'muT\x20>\x20uTim'+'e)\x20return\x20'+'0.0;\x0a\x0a\x20\x20\x20\x20'+'//\x20---\x20'+'\x20life\x20'+'---\x0a\x20\x20\x20\x20fl'+'oat\x20linear'+'Fade\x20=\x201.0'+'\x20-\x20age\x20/\x20l'+'ife;\x0a\x20\x20\x20\x20/'+'/\x20---\x20'+'\x20uFadeS'+'peed\x20---\x0a\x20'+'\x20\x20\x20float\x20e'+'xpFade\x20=\x20e'+'xp(-age\x20*\x20'+'uFadeSpeed'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20cl'+'amp(linear'+'Fade,\x200.0,'+'\x201.0);\x20\x0a\x20\x20'+'\x20\x20return\x20c'+'lamp(expFa'+'de,\x200.0,\x201'+'.0);\x0a}\x0a\x0a\x0av'+'ec4\x20readCo'+'lor(in\x20Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20uTime,\x20'+'bool\x20plusA'+',\x20int\x20poin'+'tCloudMode'+'Enabled)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'color\x20=\x20te'+'xelFetch(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a\x20\x20\x20\x20'+'#ifdef\x20IS_'+'4D\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20tDat'+'a\x20=\x20texelF'+'etch(trans'+'formLifecy'+'cle,\x20sourc'+'e.uv,\x200).x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20muT'+'\x20=\x20tData.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20saveA'+'\x20=\x20pointCl'+'oudModeEna'+'bled\x20==\x201\x20'+'?\x201.0\x20:\x20co'+'lor.a;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20alpha\x20=\x20s'+'aveA;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(uOp'+'enAnim\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20alp'+'ha\x20=\x20alpha'+'\x20*\x20(muT\x20-\x20'+'uTime\x20+\x200.'+'05);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20age\x20=\x20u'+'Time\x20-\x20muT'+';\x20\x20\x20\x20//\x20'+'\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20uFad'+'eSpeed\x20=\x202'+('.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20life\x20=\x200'+'.1;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20alph'+'a\x20=\x20comput'+'eAlpha(muT'+',\x20uTime,\x20u'+'FadeSpeed,'+'\x20life);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'alpha\x20*=\x20a'+'lpha;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor.a\x20=\x20p'+'lusA\x20?\x20alp'+'ha\x20:\x20saveA'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20ret'+'urn\x20color;'+'\x0a}\x0a\x0a'),G1='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20uint\x20o'+'rder;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20uint\x20i'+'d;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'ivec2\x20uv;\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20vec2'+'\x20cornerUV;'+'\x20\x20\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a};\x0a'+'\x0a//\x20stores'+'\x20the\x20camer'+'a\x20and\x20clip'+'\x20space\x20pos'+'ition\x20of\x20t'+'he\x20gaussia'+'n\x20center\x0as'+'truct\x20Spla'+'tCenter\x20{\x0a'+'\x20\x20\x20\x20vec3\x20v'+'iew;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cen'+'ter\x20in\x20vie'+'w\x20space\x0a\x20\x20'+'\x20\x20vec4\x20pro'+'j;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'mat4\x20model'+'View;\x20\x20\x20\x20\x20'+'//\x20model-v'+'iew\x20matrix'+'\x0a\x20\x20\x20\x20float'+'\x20projMat00'+';\x20\x20\x20\x20//\x20el'+'ement\x20[0]['+'0]\x20of\x20the\x20'+'projection'+'\x20matrix\x0a};'+'\x0a\x0a//\x20store'+'s\x20the\x20offs'+'et\x20from\x20ce'+'nter\x20for\x20t'+'he\x20current'+'\x20gaussian\x0a'+'struct\x20Spl'+'atCorner\x20{'+'\x0a\x20\x20\x20\x20vec2\x20'+'offset;\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'rner\x20offse'+'t\x20from\x20cen'+'ter\x20in\x20cli'+'p\x20space\x0a\x20\x20'+'\x20\x20vec2\x20uv;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20aaF'+'actor;\x20//\x20'+'for\x20scenes'+'\x20generated'+'\x20with\x20anti'+'aliasing\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20vec2\x20'+'v;\x0a\x20\x20\x20\x20flo'+'at\x20dlen;\x0a\x20'+'\x20\x20\x20vec2\x20cS'+'ize;\x0a\x20\x20\x20\x20v'+'ec2\x20cUV;\x0a}'+';\x0a\x0a#includ'+'e\x20\x22gsplatE'+'valSHVS\x22\x0a#'+'include\x20\x22g'+'splatQuatT'+'oMat3VS\x22\x0a\x0a'+'#if\x20GSPLAT'+'_COMPRESSE'+('D_DATA\x20==\x20'+'true\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatCompr'+'essedDataV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_COEFFS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x20='+'=\x20true\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22gsplatSog'+'sDataVS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSo'+'gsSHVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'else\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'splatDataV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22gsp'+'latColorVS'+'\x22\x0a\x20\x20\x20\x20#if\x20'+'SH_COEFFS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0avoi'+'d\x20clipCorn'+'er(inout\x20S'+'platCorner'+'\x20corner,\x20f'+'loat\x20alpha'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20clip\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20255.'+'0\x20/\x20alpha)'+')\x20/\x202.0);\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20*='+'\x20clip;\x0a\x20\x20\x20'+'\x20corner.uv'+'\x20*=\x20clip;\x0a'+'}\x0a'),H1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTimeText'+'ure;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20c'+'hunkTextur'+'e;\x0a\x0a//\x20wor'+'k\x20values\x0av'+'ec4\x20chunkD'+'ataA;\x20\x20\x20\x20/'+'/\x20x:\x20min_x'+',\x20y:\x20min_y'+',\x20z:\x20min_z'+',\x20w:\x20max_x'+'\x0avec4\x20chun'+'kDataB;\x20\x20\x20'+'\x20//\x20x:\x20max'+'_y,\x20y:\x20max'+'_z,\x20z:\x20sca'+'le_min_x,\x20'+'w:\x20scale_m'+'in_y\x0avec4\x20'+'chunkDataC'+';\x20\x20\x20\x20//\x20x:'+'\x20scale_min'+'_z,\x20y:\x20sca'+'le_max_x,\x20'+'z:\x20scale_m'+'ax_y,\x20w:\x20s'+'cale_max_z'+'\x0avec4\x20chun'+'kDataD;\x20\x20\x20'+'\x20//\x20x:\x20min'+'_r,\x20y:\x20min'+'_g,\x20z:\x20min'+'_b,\x20w:\x20max'+'_r\x0avec4\x20ch'+'unkDataE;\x20'+'\x20\x20\x20//\x20x:\x20m'+'ax_g,\x20y:\x20m'+'ax_b,\x20z:\x20m'+'in_motion_'+'x,\x20w:\x20min_'+'motion_y\x0av'+'ec4\x20chunkD'+'ataF;\x20\x20\x20\x20/'+'/\x20x:\x20min_m'+'otion_z,\x20y'+':\x20max_moti'+'on_x,\x20z:\x20m'+'ax_motion_'+'y,\x20w:\x20max_'+'motion_z\x0av'+'ec4\x20chunkD'+'ataT;\x20\x20\x20\x20/'+'/\x20x:\x20min_t'+'ime,\x20y:\x20ma'+'x_time,\x20z:'+'\x20min_time_'+'scale,\x20w:\x20'+'max_time_s'+'cale\x0auvec4'+'\x20packedDat'+'a;\x20\x20\x20//\x20x:'+'\x20position\x20'+'bits,\x20y:\x20r'+'otation\x20bi'+'ts,\x20z:\x20sca'+'le\x20bits,\x20w'+':\x20color\x20bi'+'ts\x0auvec2\x20p'+'ackedT;\x20\x20\x20'+'//\x20x:\x20moti'+'on\x20bits(x,'+'\x20y,\x20z),\x20y:'+'\x20time\x20bits'+'(t_scale,\x20'+'t,\x20unused)'+'\x0a\x0a//\x20tool\x20'+'for\x20comput'+'e\x20Marginal'+'\x20time\x0afloa'+'t\x20computeM'+'arginalT(f'+'loat\x20time,'+'\x20float\x20muT'+',\x20float\x20si'+'gmaT)\x20{\x0a\x20\x20'+'\x20\x20if\x20(muT\x20'+'<=\x20-10.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20float\x20re'+('sult\x20=\x20exp'+'(-0.5\x20*\x20(p'+'ow((time\x20-'+'\x20muT),\x202.0'+')\x20/\x20pow(si'+'gmaT,\x202.0)'+'));\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0avec3'+'\x20unpack111'+'011(uint\x20b'+'its)\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'c3(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float(bi'+'ts\x20>>\x2021u)'+'\x20/\x202047.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((bits'+'\x20>>\x2011u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at(bits\x20&\x20'+'0x7ffu)\x20/\x20'+'2047.0\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0avec'+'4\x20unpack88'+'88(uint\x20bi'+'ts)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float(bit'+'s\x20>>\x2024u)\x20'+'/\x20255.0,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at((bits\x20>'+'>\x2016u)\x20&\x200'+'xffu)\x20/\x2025'+'5.0,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float(('+'bits\x20>>\x208u'+')\x20&\x200xffu)'+'\x20/\x20255.0,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat(bits\x20&'+'\x200xffu)\x20/\x20'+'255.0\x0a\x20\x20\x20\x20'+');\x0a}\x0a\x0acons'+'t\x20float\x20no'+'rm\x20=\x201.0\x20/'+'\x20(sqrt(2.0'+')\x20*\x200.5);\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20a\x20=\x20(f'+'loat((bits'+'\x20>>\x2020u)\x20&'+'\x200x3ffu)\x20/'+'\x201023.0\x20-\x20'+'0.5)\x20*\x20nor'+'m;\x0a\x20\x20\x20\x20flo'+'at\x20b\x20=\x20(fl'+'oat((bits\x20'+'>>\x2010u)\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20(flo'+'at(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+';\x0a\x20\x20\x20\x20floa'+'t\x20m\x20=\x20sqrt'+'(1.0\x20-\x20(a\x20'+'*\x20a\x20+\x20b\x20*\x20'+'b\x20+\x20c\x20*\x20c)'+');\x0a\x0a\x20\x20\x20\x20ui'+'nt\x20mode\x20=\x20'+'bits\x20>>\x2030'+'u;\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x200'+'u)\x20return\x20'+'vec4(m,\x20a,'+'\x20b,\x20c);\x0a\x20\x20'+'\x20\x20if\x20(mode'+'\x20==\x201u)\x20re'+'turn\x20vec4('+'a,\x20m,\x20b,\x20c'+');\x0a\x20\x20\x20\x20if\x20'+'(mode\x20==\x202'+'u)\x20return\x20'+'vec4(a,\x20b,'+'\x20m,\x20c);\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4(a,\x20b,\x20')+('c,\x20m);\x0a}\x0a\x0a'+'\x0a//\x20read\x20c'+'enter\x0avec3'+'\x20readCente'+'r(SplatSou'+'rce\x20source'+')\x20{\x0a\x20\x20\x20\x20ui'+'nt\x20w\x20=\x20uin'+'t(textureS'+'ize(chunkT'+'exture,\x200)'+'.x)\x20/\x205u;\x0a'+'\x20\x20\x20\x20uint\x20c'+'hunkId\x20=\x20s'+'ource.id\x20/'+'\x20256u;\x0a\x20\x20\x20'+'\x20ivec2\x20chu'+'nkUV\x20=\x20ive'+'c2((chunkI'+'d\x20%\x20w)\x20*\x205'+'u,\x20chunkId'+'\x20/\x20w);\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'chunk\x20and\x20'+'packed\x20com'+'pressed\x20da'+'ta\x0a\x20\x20\x20\x20chu'+'nkDataA\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV,\x200);\x0a\x20\x20'+'\x20\x20chunkDat'+'aB\x20=\x20texel'+'Fetch(chun'+'kTexture,\x20'+'chunkUV\x20+\x20'+'ivec2(1,\x200'+'),\x200);\x0a\x20\x20\x20'+'\x20chunkData'+'C\x20=\x20texelF'+'etch(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20i'+'vec2(2,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataD'+'\x20=\x20texelFe'+'tch(chunkT'+'exture,\x20ch'+'unkUV\x20+\x20iv'+'ec2(3,\x200),'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataE\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(4,\x200),\x20'+'0);\x0a\x20\x20\x20\x20pa'+'ckedData\x20='+'\x20texelFetc'+'h(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mix(ch'+'unkDataA.x'+'yz,\x20vec3(c'+'hunkDataA.'+'w,\x20chunkDa'+'taB.xy),\x20u'+'npack11101'+'1(packedDa'+'ta.x));\x0a}\x0a'+'\x0avec4\x20read'+'Color(in\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'r\x20=\x20unpack'+'8888(packe'+'dData.w);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4(mix('+'chunkDataD'+'.xyz,\x20vec3'+'(chunkData'+'D.w,\x20chunk'+'DataE.xy),'+'\x20r.rgb),\x20r'+'.w);\x0a}\x0a\x0ave'+'c4\x20getRota'+'tion()\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'unpackRota'+'tion(packe'+'dData.y);\x0a'+'}\x0a\x0avec3\x20ge'+'tScale()\x20{')+('\x0a\x20\x20\x20\x20retur'+'n\x20exp(mix('+'vec3(chunk'+'DataB.zw,\x20'+'chunkDataC'+'.x),\x20chunk'+'DataC.yzw,'+'\x20unpack111'+'011(packed'+'Data.z)));'+'\x0a}\x0a\x0a//\x20giv'+'en\x20a\x20rotat'+'ion\x20matrix'+'\x20and\x20scale'+'\x20vector,\x20c'+'ompute\x203d\x20'+'covariance'+'\x20A\x20and\x20B\x0av'+'oid\x20readCo'+'variance(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20covA,\x20out'+'\x20vec3\x20covB'+')\x20{\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3('+'getRotatio'+'n());\x0a\x20\x20\x20\x20'+'vec3\x20scale'+'\x20=\x20getScal'+'e();\x0a\x0a\x20\x20\x20\x20'+'//\x20M\x20=\x20S\x20*'+'\x20R\x0a\x20\x20\x20\x20mat'+'3\x20M\x20=\x20tran'+'spose(mat3'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'scale.x\x20*\x20'+'rot[0],\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20scal'+'e.y\x20*\x20rot['+'1],\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale.z\x20'+'*\x20rot[2]\x0a\x20'+'\x20\x20\x20));\x0a\x0a\x20\x20'+'\x20\x20covA\x20=\x20v'+'ec3(dot(M['+'0],\x20M[0]),'+'\x20dot(M[0],'+'\x20M[1]),\x20do'+'t(M[0],\x20M['+'2]));\x0a\x20\x20\x20\x20'+'covB\x20=\x20vec'+'3(dot(M[1]'+',\x20M[1]),\x20d'+'ot(M[1],\x20M'+'[2]),\x20dot('+'M[2],\x20M[2]'+'));\x0a}\x0a\x0aflo'+'at\x20getMarg'+'inalT(in\x20S'+'platSource'+'\x20source,\x20i'+'n\x20float\x20ti'+'me)\x20{\x0a\x20\x20\x20\x20'+'float\x20marg'+'inal\x20=\x201.0'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20IS_4D\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20chu'+'nkDataT\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(6,\x200),\x200)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'packedT\x20=\x20'+'texelFetch'+'(packedTim'+'eTexture,\x20'+'source.uv,'+'\x200).xy;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20timeData\x20'+'=\x20mix(vec3'+'(chunkData'+'T.z,\x20chunk'+'DataT.x,\x200'+'),\x20vec3(ch'+'unkDataT.w'+',\x20chunkDat'+'aT.y,\x201),\x20'+'unpack1110'+'11(packedT'+'.y));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'tScale\x20=\x20e'+'xp(timeDat')+('a.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'muT\x20=\x20time'+'Data.y;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20marg'+'inal\x20=\x20com'+'puteMargin'+'alT(time,\x20'+'muT,\x20tScal'+'e);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20r'+'eturn\x20marg'+'inal;\x0a}\x0a\x0av'+'ec3\x20readCe'+'nter4D(Spl'+'atSource\x20s'+'ource,\x20flo'+'at\x20time)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(chunkText'+'ure,\x200).x)'+'\x20/\x207u;\x0a\x20\x20\x20'+'\x20uint\x20chun'+'kId\x20=\x20sour'+'ce.id\x20/\x2025'+'6u;\x0a\x20\x20\x20\x20iv'+'ec2\x20chunkU'+'V\x20=\x20ivec2('+'(chunkId\x20%'+'\x20w)\x20*\x207u,\x20'+'chunkId\x20/\x20'+'w);\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20chu'+'nk\x20and\x20pac'+'ked\x20compre'+'ssed\x20data\x0a'+'\x20\x20\x20\x20chunkD'+'ataA\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV,'+'\x200);\x0a\x20\x20\x20\x20c'+'hunkDataB\x20'+'=\x20texelFet'+'ch(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20ive'+'c2(1,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataC\x20='+'\x20texelFetc'+'h(chunkTex'+'ture,\x20chun'+'kUV\x20+\x20ivec'+'2(2,\x200),\x200'+');\x0a\x20\x20\x20\x20chu'+'nkDataD\x20=\x20'+'texelFetch'+'(chunkText'+'ure,\x20chunk'+'UV\x20+\x20ivec2'+'(3,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataE\x20=\x20t'+'exelFetch('+'chunkTextu'+'re,\x20chunkU'+'V\x20+\x20ivec2('+'4,\x200),\x200);'+'\x0a\x20\x20\x20\x20chunk'+'DataF\x20=\x20te'+'xelFetch(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20ivec2(5'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataT\x20=\x20tex'+'elFetch(ch'+'unkTexture'+',\x20chunkUV\x20'+'+\x20ivec2(6,'+'\x200),\x200);\x0a\x20'+'\x20\x20\x20packedD'+'ata\x20=\x20texe'+'lFetch(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20packedT\x20='+'\x20texelFetc'+'h(packedTi'+'meTexture,'+'\x20source.uv'+',\x200).xy;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20mix(chu')+('nkDataA.xy'+'z,\x20vec3(ch'+'unkDataA.w'+',\x20chunkDat'+'aB.xy),\x20un'+'pack111011'+'(packedDat'+'a.x));\x0a\x20\x20\x20'+'\x20#ifdef\x20IS'+'_4D\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20tim'+'e\x20=\x20mix(ve'+'c3(chunkDa'+'taT.z,\x20chu'+'nkDataT.x,'+'\x200),\x20vec3('+'chunkDataT'+'.w,\x20chunkD'+'ataT.y,\x201)'+',\x20unpack11'+'1011(packe'+'dT.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20muT\x20=\x20ti'+'me.y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'ovingSpeed'+'\x20=\x20mix(vec'+'3(chunkDat'+'aE.zw,\x20chu'+'nkDataF.x)'+',\x20chunkDat'+'aF.yzw,\x20un'+'pack111011'+'(packedT.x'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20spl'+'atOffset\x20='+'\x20movingSpe'+'ed\x20*\x20(time'+'\x20-\x20muT);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20spl'+'atCenter\x20+'+'=\x20splatOff'+'set;\x0a\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'return\x20spl'+'atCenter;\x0a'+'}\x0a'),W1='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20shText'+'ure0;\x0aunif'+'orm\x20highp\x20'+'usampler2D'+'\x20shTexture'+'1;\x0auniform'+'\x20highp\x20usa'+'mpler2D\x20sh'+'Texture2;\x0a'+'\x0avec4\x20unpa'+'ck8888s(in'+'\x20uint\x20bits'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec4('+'(uvec4(bit'+'s)\x20>>\x20uvec'+'4(0u,\x208u,\x20'+'16u,\x2024u))'+'\x20&\x200xffu)\x20'+'*\x20(8.0\x20/\x202'+'55.0)\x20-\x204.'+'0;\x0a}\x0a\x0avoid'+'\x20readSHDat'+'a(in\x20Splat'+'Source\x20sou'+'rce,\x20out\x20v'+'ec3\x20sh[15]'+',\x20out\x20floa'+'t\x20scale)\x20{'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20the\x20sh\x20'+'coefficien'+'ts\x0a\x20\x20\x20\x20uve'+'c4\x20shData0'+'\x20=\x20texelFe'+'tch(shText'+'ure0,\x20sour'+'ce.uv,\x200);'+'\x0a\x20\x20\x20\x20uvec4'+'\x20shData1\x20='+'\x20texelFetc'+'h(shTextur'+'e1,\x20source'+'.uv,\x200);\x0a\x20'+'\x20\x20\x20uvec4\x20s'+'hData2\x20=\x20t'+'exelFetch('+'shTexture2'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec4\x20r0\x20'+'=\x20unpack88'+'88s(shData'+'0.x);\x0a\x20\x20\x20\x20'+'vec4\x20r1\x20=\x20'+'unpack8888'+'s(shData0.'+'y);\x0a\x20\x20\x20\x20ve'+'c4\x20r2\x20=\x20un'+'pack8888s('+'shData0.z)'+';\x0a\x20\x20\x20\x20vec4'+'\x20r3\x20=\x20unpa'+'ck8888s(sh'+'Data0.w);\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'g0\x20=\x20unpac'+'k8888s(shD'+'ata1.x);\x0a\x20'+'\x20\x20\x20vec4\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20vec4\x20g2\x20='+'\x20unpack888'+'8s(shData1'+'.z);\x0a\x20\x20\x20\x20v'+'ec4\x20g3\x20=\x20u'+'npack8888s'+'(shData1.w'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20b0\x20=\x20un'+'pack8888s('+'shData2.x)'+';\x0a\x20\x20\x20\x20vec4'+'\x20b1\x20=\x20unpa'+'ck8888s(sh'+'Data2.y);\x0a'+'\x20\x20\x20\x20vec4\x20b'+'2\x20=\x20unpack'+'8888s(shDa'+'ta2.z);\x0a\x20\x20'+'\x20\x20vec4\x20b3\x20'+'=\x20unpack88'+'88s(shData'+'2.w);\x0a\x0a\x20\x20\x20'+('\x20sh[0]\x20=\x20\x20'+'vec3(r0.x,'+'\x20g0.x,\x20b0.'+'x);\x0a\x20\x20\x20\x20sh'+'[1]\x20=\x20\x20vec'+'3(r0.y,\x20g0'+'.y,\x20b0.y);'+'\x0a\x20\x20\x20\x20sh[2]'+'\x20=\x20\x20vec3(r'+'0.z,\x20g0.z,'+'\x20b0.z);\x0a\x20\x20'+'\x20\x20sh[3]\x20=\x20'+'\x20vec3(r0.w'+',\x20g0.w,\x20b0'+'.w);\x0a\x20\x20\x20\x20s'+'h[4]\x20=\x20\x20ve'+'c3(r1.x,\x20g'+'1.x,\x20b1.x)'+';\x0a\x20\x20\x20\x20sh[5'+']\x20=\x20\x20vec3('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3(r1.'+'z,\x20g1.z,\x20b'+'1.z);\x0a\x20\x20\x20\x20'+'sh[7]\x20=\x20\x20v'+'ec3(r1.w,\x20'+'g1.w,\x20b1.w'+');\x0a\x20\x20\x20\x20sh['+'8]\x20=\x20\x20vec3'+'(r2.x,\x20g2.'+'x,\x20b2.x);\x0a'+'\x20\x20\x20\x20sh[9]\x20'+'=\x20\x20vec3(r2'+'.y,\x20g2.y,\x20'+'b2.y);\x0a\x20\x20\x20'+'\x20sh[10]\x20=\x20'+'vec3(r2.z,'+'\x20g2.z,\x20b2.'+'z);\x0a\x20\x20\x20\x20sh'+'[11]\x20=\x20vec'+'3(r2.w,\x20g2'+'.w,\x20b2.w);'+'\x0a\x20\x20\x20\x20sh[12'+']\x20=\x20vec3(r'+'3.x,\x20g3.x,'+'\x20b3.x);\x0a\x20\x20'+'\x20\x20sh[13]\x20='+'\x20vec3(r3.y'+',\x20g3.y,\x20b3'+'.y);\x0a\x20\x20\x20\x20s'+'h[14]\x20=\x20ve'+'c3(r3.z,\x20g'+'3.z,\x20b3.z)'+';\x0a\x0a\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),$1='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20S'+'H_COEFFS\x203'+'\x0a\x20\x20\x20\x20#elif'+'\x20SH_BANDS\x20'+'==\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20SH_COEFFS'+'\x208\x0a\x20\x20\x20\x20#el'+'if\x20SH_BAND'+'S\x20==\x203\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20SH_COEF'+'FS\x2015\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20SH_COEFF'+'S\x200\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x200\x0a\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20SH_C1\x20'+'=\x200.488602'+'5119029199'+'f;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x201\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20f'+'loat\x20SH_C2'+'_0\x20=\x201.092'+'5484305920'+'792f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'2_1\x20=\x20-1.0'+'9254843059'+'20792f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C2_2\x20=\x200.'+'3153915652'+'5252005f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C2_3\x20=\x20'+'-1.0925484'+'305920792f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'const\x20floa'+'t\x20SH_C2_4\x20'+'=\x200.546274'+'2152960396'+'f;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x202\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'float\x20SH_C'+'3_0\x20=\x20-0.5'+'9004358992'+'66435f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_1\x20=\x202.'+'8906114426'+'40554f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20SH'+'_C3_2\x20=\x20-0'+'.457045799'+'4644658f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'nst\x20float\x20'+'SH_C3_3\x20=\x20'+'0.37317633'+'25901154f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20float'+'\x20SH_C3_4\x20='+'\x20-0.457045'+'7994644658'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_5'+'\x20=\x201.44530'+'5721320277'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20flo'+'at\x20SH_C3_6'+'\x20=\x20-0.5900'+'4358992664'+'35f;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20see\x20ht'+'tps://gith'+'ub.com/gra'+'phdeco-inr'+('ia/gaussia'+'n-splattin'+'g/blob/mai'+'n/utils/sh'+'_utils.py\x0a'+'\x20\x20\x20\x20vec3\x20e'+'valSH(in\x20v'+'ec3\x20sh[SH_'+'COEFFS],\x20i'+'n\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20x\x20'+'=\x20dir.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20y\x20=\x20dir'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20z\x20'+'=\x20dir.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201st\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20resul'+'t\x20=\x20SH_C1\x20'+'*\x20(-sh[0]\x20'+'*\x20y\x20+\x20sh[1'+']\x20*\x20z\x20-\x20sh'+'[2]\x20*\x20x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x201\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x202nd\x20degre'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xx\x20=\x20x\x20*\x20x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yy\x20=\x20y\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'zz\x20=\x20z\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'yz\x20=\x20y\x20*\x20z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'xz\x20=\x20x\x20*\x20z'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[3]\x20*\x20('+'SH_C2_0\x20*\x20'+'xy)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[4]\x20*\x20'+'(SH_C2_1\x20*'+'\x20yz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[5]\x20*'+'\x20(SH_C2_2\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x20xx\x20-\x20y'+'y))\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[6]\x20*\x20'+'(SH_C2_3\x20*'+'\x20xz)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20*'+'\x20(SH_C2_4\x20'+'*\x20(xx\x20-\x20yy'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'+=\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20')+('xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20#endif\x0a'),X1='\x0amat3\x20quat'+'ToMat3(vec'+'4\x20R)\x20{\x0a\x20\x20\x20'+'\x20vec4\x20R2\x20='+'\x20R\x20+\x20R;\x0a\x20\x20'+'\x20\x20float\x20X\x20'+'=\x20R2.x\x20*\x20R'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20Y\x20\x20=\x20R2'+'.y\x20*\x20R;\x0a\x20\x20'+'\x20\x20vec4\x20Z\x20\x20'+'=\x20R2.z\x20*\x20R'+';\x0a\x20\x20\x20\x20floa'+'t\x20W\x20=\x20R2.w'+'\x20*\x20R.w;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x201.0\x20-\x20'+'Z.z\x20-\x20W,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20Y.z\x20+\x20X'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20Y.z\x20-\x20X,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x201.'+'0\x20-\x20Y.y\x20-\x20'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20+\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20Y.w\x20+\x20Z.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20Z.w'+'\x20-\x20Y.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',q1='\x0auniform\x20m'+'ediump\x20sam'+'pler2D\x20sh0'+';\x0a\x0auniform'+'\x20vec4\x20sh0_'+'mins;\x0aunif'+'orm\x20vec4\x20s'+'h0_maxs;\x0a\x0a'+'float\x20SH_C'+'0\x20=\x200.2820'+'9479177387'+'814;\x0a\x0avec4'+'\x20readColor'+'(in\x20SplatS'+'ource\x20sour'+'ce)\x20{\x0a\x20\x20\x20\x20'+'vec4\x20clr\x20='+'\x20mix(sh0_m'+'ins,\x20sh0_m'+'axs,\x20texel'+'Fetch(sh0,'+'\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c4(vec3(0.'+'5)\x20+\x20clr.x'+'yz\x20*\x20SH_C0'+',\x201.0\x20/\x20(1'+'.0\x20+\x20exp(-'+'clr.w)));\x0a'+'}\x0a',j1='\x0auniform\x20h'+'ighp\x20usamp'+'ler2D\x20pack'+'edTexture;'+'\x0a\x0auniform\x20'+'vec3\x20means'+'_mins;\x0auni'+'form\x20vec3\x20'+'means_maxs'+';\x0a\x0auniform'+'\x20vec3\x20scal'+'es_mins;\x0au'+'niform\x20vec'+'3\x20scales_m'+'axs;\x0a\x0avec4'+'\x20unpackU32'+'(uint\x20v)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t((v\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat((v\x20>>'+'\x2016u)\x20&\x200x'+'FFu)\x20/\x20255'+'.0,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float((v'+'\x20>>\x208u)\x20&\x20'+'0xFFu)\x20/\x202'+'55.0,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float('+'v\x20&\x200xFFu)'+'\x20/\x20255.0\x0a\x20'+'\x20\x20\x20);\x0a}\x0a\x0au'+'vec4\x20packe'+'dSample;\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20th'+'e\x20packed\x20t'+'exture\x20sam'+'ple\x0a\x20\x20\x20\x20pa'+'ckedSample'+'\x20=\x20texelFe'+'tch(packed'+'Texture,\x20s'+'ource.uv,\x20'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20l\x20=\x20un'+'packU32(pa'+'ckedSample'+'.x).xyz;\x0a\x20'+'\x20\x20\x20vec3\x20u\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20vec'+'3\x20n\x20=\x20(l\x20*'+'\x20255.0\x20+\x20u'+'\x20*\x20255.0\x20*'+'\x20256.0)\x20/\x20'+'65535.0;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20mix(mean'+'s_mins,\x20me'+'ans_maxs,\x20'+'n);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20sign'+'(v)\x20*\x20(exp'+'(abs(v))\x20-'+'\x201.0);\x0a}\x0a\x0a'+'const\x20floa'+'t\x20norm\x20=\x202'+'.0\x20/\x20sqrt('+'2.0);\x0a\x0a//\x20'+'sample\x20cov'+'ariance\x20ve'+'ctors\x0avoid'+'\x20readCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'qdata\x20=\x20un'+'packU32(pa'+'ckedSample'+'.z);\x0a\x20\x20\x20\x20v'+'ec3\x20sdata\x20'+('=\x20unpackU3'+'2(packedSa'+'mple.w).xy'+'z;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20abc\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20f'+'loat\x20d\x20=\x20s'+'qrt(max(0.'+'0,\x201.0\x20-\x20d'+'ot(abc,\x20ab'+'c)));\x0a\x0a\x20\x20\x20'+'\x20uint\x20mode'+'\x20=\x20uint(qd'+'ata.w\x20*\x2025'+'5.0\x20+\x200.5)'+'\x20-\x20252u;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20q'+'uat\x20=\x20(mod'+'e\x20==\x200u)\x20?'+'\x20vec4(d,\x20a'+'bc)\x20:\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20((mode\x20='+'=\x201u)\x20?\x20ve'+'c4(abc.x,\x20'+'d,\x20abc.yz)'+'\x20:\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20('+'(mode\x20==\x202'+'u)\x20?\x20vec4('+'abc.xy,\x20d,'+'\x20abc.z)\x20:\x20'+'vec4(abc,\x20'+'d)));\x0a\x0a\x20\x20\x20'+'\x20mat3\x20rot\x20'+'=\x20quatToMa'+'t3(quat);\x0a'+'\x20\x20\x20\x20vec3\x20s'+'cale\x20=\x20exp'+'(mix(scale'+'s_mins,\x20sc'+'ales_maxs,'+'\x20sdata));\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20mat3\x20M\x20='+'\x20transpose'+'(mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20cov'+'A\x20=\x20vec3(d'+'ot(M[0],\x20M'+'[0]),\x20dot('+'M[0],\x20M[1]'+'),\x20dot(M[0'+'],\x20M[2]));'+'\x0a\x20\x20\x20\x20covB\x20'+'=\x20vec3(dot'+'(M[1],\x20M[1'+']),\x20dot(M['+'1],\x20M[2]),'+'\x20dot(M[2],'+'\x20M[2]));\x0a}'+'\x0a'),Y1='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20sh_ce'+'ntroids;\x0a\x0a'+'uniform\x20fl'+'oat\x20shN_mi'+'ns;\x0aunifor'+'m\x20float\x20sh'+'N_maxs;\x0a\x0a/'+'/\x20To\x20suppo'+'rt\x20each\x20SH'+'\x20degree,\x20r'+'eadSHData\x20'+'is\x20overloa'+'ded\x20based\x20'+'on\x20the\x20SH\x20'+'vector\x20dep'+'th\x20\x0a\x0avoid\x20'+'readSHData'+'(in\x20SplatS'+'ource\x20sour'+'ce,\x20out\x20ve'+'c3\x20sh[SH_C'+'OEFFS],\x20ou'+'t\x20float\x20sc'+'ale)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'ivec2\x20t\x20=\x20'+'ivec2(pack'+'edSample.x'+'\x20&\x20255u,\x20p'+'ackedSampl'+'e.y\x20&\x20255u'+');\x0a\x20\x20\x20\x20int'+'\x20n\x20=\x20t.x\x20+'+'\x20t.y\x20*\x20256'+';\x0a\x20\x20\x20\x20int\x20'+'u\x20=\x20(n\x20%\x206'+'4)\x20*\x20SH_CO'+'EFFS;\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20n\x20'+'/\x2064;\x0a\x0a\x20\x20\x20'+'\x20//\x20calcul'+'ate\x20offset'+'\x20into\x20the\x20'+'centroids\x20'+'texture\x20an'+'d\x20read\x20con'+'secutive\x20t'+'exels\x0a\x20\x20\x20\x20'+'for\x20(int\x20i'+'\x20=\x200;\x20i\x20<\x20'+'SH_COEFFS;'+'\x20i++)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[i'+']\x20=\x20mix(ve'+'c3(shN_min'+'s),\x20vec3(s'+'hN_maxs),\x20'+'texelFetch'+'(sh_centro'+'ids,\x20ivec2'+'(u\x20+\x20i,\x20v)'+',\x200).xyz);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20scale\x20=\x20'+'1.0;\x0a}\x0a',K1='\x0auniform\x20v'+'ec2\x20viewpo'+'rt;\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20viewpo'+'rt\x20dimensi'+'ons\x0aunifor'+'m\x20vec4\x20cam'+'era_params'+';\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x201\x20/'+'\x20far,\x20far,'+'\x20near,\x20isO'+'rtho\x0aunifo'+'rm\x20float\x20u'+'SplatScale'+';\x0auniform\x20'+'float\x20rend'+'erSpace;\x0au'+'niform\x20flo'+'at\x20endSpac'+'e;\x0auniform'+'\x20int\x20uShap'+'eN;\x0a\x0a//\x20ca'+'lculate\x20th'+'e\x20clip-spa'+'ce\x20offset\x20'+'from\x20the\x20c'+'enter\x20for\x20'+'this\x20gauss'+'ian\x0abool\x20i'+'nitCorner('+'SplatSourc'+'e\x20source,\x20'+'SplatCente'+'r\x20center,\x20'+'out\x20SplatC'+'orner\x20corn'+'er,\x20int\x20po'+'intCloudMo'+'deEnabled)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'get\x20covari'+'ance\x0a\x20\x20\x20\x20v'+'ec3\x20covA,\x20'+'covB;\x0a\x20\x20\x20\x20'+'readCovari'+'ance(sourc'+'e,\x20covA,\x20c'+'ovB);\x0a\x0a\x20\x20\x20'+'\x20mat3\x20Vrk\x20'+'=\x20mat3(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20covA'+'.x,\x20covA.y'+',\x20covA.z,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'vA.y,\x20covB'+'.x,\x20covB.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'covA.z,\x20co'+'vB.y,\x20covB'+'.z\x0a\x20\x20\x20\x20);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20focal\x20=\x20v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'v\x20=\x20camera'+'_params.w\x20'+'==\x201.0\x20?\x20v'+'ec3(0.0,\x200'+'.0,\x201.0)\x20:'+'\x20center.vi'+'ew.xyz;\x0a\x20\x20'+'\x20\x20float\x20J1'+'\x20=\x20focal\x20/'+'\x20v.z;\x0a\x20\x20\x20\x20'+'vec2\x20J2\x20=\x20'+'-J1\x20/\x20v.z\x20'+'*\x20v.xy;\x0a\x20\x20'+'\x20\x20mat3\x20J\x20='+'\x20mat3(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20J1,\x200'+'.0,\x20J2.x,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x200.'+'0,\x20J1,\x20J2.'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.0,\x200.0,'+'\x200.0\x0a\x20\x20\x20\x20)'+';\x0a\x0a\x20\x20\x20\x20mat'+'3\x20W\x20=\x20tran'+'spose(mat3'+'(center.mo'+'delView));'+'\x0a\x20\x20\x20\x20mat3\x20'+'T\x20=\x20W\x20*\x20J;'+'\x0a\x20\x20\x20\x20mat3\x20'+'cov\x20=\x20tran'+'spose(T)\x20*'+('\x20Vrk\x20*\x20T;\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'calculate\x20'+'AA\x20factor\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20detOri'+'g\x20=\x20cov[0]'+'[0]\x20*\x20cov['+'1][1]\x20-\x20co'+'v[0][1]\x20*\x20'+'cov[0][1];'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20detBl'+'ur\x20=\x20(cov['+'0][0]\x20+\x200.'+'3)\x20*\x20(cov['+'1][1]\x20+\x200.'+'3)\x20-\x20cov[0'+'][1]\x20*\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20corn'+'er.aaFacto'+'r\x20=\x20sqrt(m'+'ax(detOrig'+'\x20/\x20detBlur'+',\x200.0));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20diagonal1'+'\x20=\x20cov[0]['+'0]\x20+\x200.3;\x0a'+'\x20\x20\x20\x20float\x20'+'offDiagona'+'l\x20=\x20cov[0]'+'[1];\x0a\x20\x20\x20\x20f'+'loat\x20diago'+'nal2\x20=\x20cov'+'[1][1]\x20+\x200'+'.3;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20mid\x20='+'\x200.5\x20*\x20(di'+'agonal1\x20+\x20'+'diagonal2)'+';\x0a\x20\x20\x20\x20floa'+'t\x20radius\x20='+'\x20length(ve'+'c2((diagon'+'al1\x20-\x20diag'+'onal2)\x20/\x202'+'.0,\x20offDia'+'gonal));\x0a\x20'+'\x20\x20\x20float\x20l'+'ambda1\x20=\x20m'+'id\x20+\x20radiu'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20lambda2'+'\x20=\x20max(mid'+'\x20-\x20radius,'+'\x200.1);\x0a\x20\x20\x20'+'\x20if\x20(point'+'CloudModeE'+'nabled\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20l'+'ambda1\x20=\x20l'+'ambda2\x20=\x202'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Us'+'e\x20the\x20smal'+'ler\x20viewpo'+'rt\x20dimensi'+'on\x20to\x20limi'+'t\x20the\x20kern'+'el\x20size\x20re'+'lative\x20to\x20'+'the\x20screen'+'\x20resolutio'+'n.\x0a\x20\x20\x20\x20flo'+'at\x20vmin\x20=\x20'+'min(1024.0'+',\x20min(view'+'port.x,\x20vi'+'ewport.y))'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20l1\x20=\x202.'+'0\x20*\x20min(sq'+'rt(2.0\x20*\x20l'+'ambda1),\x20v'+'min);\x0a\x20\x20\x20\x20'+'float\x20l2\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda2)'+',\x20vmin);\x0a\x0a'+'\x20\x20\x20\x20//\x20ear'+'ly-out\x20gau'+'ssians\x20sma'+'ller\x20than\x20'+'2\x20pixels\x0a\x20')+('\x20\x20\x20if\x20(l1\x20'+'<\x202.0\x20&&\x20l'+'2\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec2\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'viewport;\x0a'+'\x0a\x20\x20\x20\x20//\x20cu'+'ll\x20against'+'\x20frustum\x20x'+'/y\x20axes\x0a\x20\x20'+'\x20\x20if\x20(any('+'greaterTha'+'n(abs(cent'+'er.proj.xy'+')\x20-\x20vec2(m'+'ax(l1,\x20l2)'+')\x20*\x20c,\x20cen'+'ter.proj.w'+'w)))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20false;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec2\x20diago'+'nalVector\x20'+'=\x20normaliz'+'e(vec2(off'+'Diagonal,\x20'+'lambda1\x20-\x20'+'diagonal1)'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20scale\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20bool\x20inRe'+'nderSpace\x20'+'=\x20(center.'+'view.x\x20>=\x20'+'-renderSpa'+'ce\x20&&\x20cent'+'er.view.x\x20'+'<=\x20renderS'+'pace)\x20&&\x20('+'center.vie'+'w.y\x20>=\x20-re'+'nderSpace\x20'+'&&\x20center.'+'view.y\x20<=\x20'+'renderSpac'+'e);\x0a\x20\x20\x20\x20bo'+'ol\x20openRen'+'derAnim\x20=\x20'+'renderSpac'+'e\x20<\x20endSpa'+'ce;\x0a\x20\x20\x20\x20bo'+'ol\x20inRende'+'r\x20=\x20render'+'Space\x20>=\x20e'+'ndSpace\x20||'+'\x20inRenderS'+'pace\x20||\x20po'+'intCloudMo'+'deEnabled\x20'+'==\x201;\x0a\x20\x20\x20\x20'+'if(!openRe'+'nderAnim\x20&'+'&\x20uSplatSc'+'ale\x20>\x200.0\x20'+'&&\x20uSplatS'+'cale\x20<=\x205.'+'0){\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20scale\x20=\x20'+'uSplatScal'+'e;\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(in'+'Render){\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le\x20=\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(openR'+'enderAnim)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'scale\x20=\x20in'+'RenderSpac'+'e\x20?\x20uSplat'+'Scale\x20:\x200.'+'1;\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20vec2\x20v1'+'\x20=\x20scale\x20*'+'\x20l1\x20*\x20diag'+'onalVector'+';\x0a\x20\x20\x20\x20vec2'+'\x20v2\x20=\x20scal'+'e\x20*\x20l2\x20*\x20v'+'ec2(diagon'+'alVector.y'+',\x20-diagona'+'lVector.x)')+(';\x0a\x0a\x20\x20\x20\x20cor'+'ner.offset'+'\x20=\x20(source'+'.cornerUV.'+'x\x20*\x20v1\x20+\x20s'+'ource.corn'+'erUV.y\x20*\x20v'+'2)\x20*\x20c;\x0a\x20\x20'+'\x20\x20//\x20corne'+'r.uv\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20if\x20(uSh'+'apeN\x20<\x203)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'corner.uv\x20'+'=\x20source.c'+'ornerUV;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'corner.cSi'+'ze\x20=\x20(v1\x20+'+'\x20v2)\x20*\x20c;\x0a'+'\x20\x20\x20\x20corner'+'.cUV\x20=\x20sou'+'rce.corner'+'UV;\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),Z1='\x0a\x0auniform\x20'+'highp\x20samp'+'ler2D\x20tran'+'sformA;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20transfor'+'mB;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformR;\x0a'+'\x0a#ifdef\x20IS'+'_4D\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20tr'+'ansformMot'+'ion;\x0aunifo'+'rm\x20highp\x20s'+'ampler2D\x20t'+'ransformLi'+'fecycle;\x0a#'+'endif\x0a\x0a//\x20'+'work\x20value'+'s\x0a//\x20uint\x20'+'tAw;\x0avec2\x20'+'sampledCov'+'4D;\x0afloat\x20'+'muT;\x0a\x0a//\x20t'+'ool\x20for\x20co'+'mpute\x20Marg'+'inal\x20time\x0a'+'float\x20comp'+'uteMargina'+'lT(float\x20t'+'ime,\x20float'+'\x20muT,\x20floa'+'t\x20sigmaT)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'muT\x20<=\x20-10'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20floa'+'t\x20result\x20='+'\x20exp(-0.5\x20'+'*\x20(pow((ti'+'me\x20-\x20muT),'+'\x202.0)\x20/\x20po'+'w(sigmaT,\x20'+'2.0)));\x0a\x20\x20'+'\x20\x20return\x20r'+'esult;\x0a}\x0a\x0a'+'//\x20read\x20th'+'e\x20model-sp'+'ace\x20center'+'\x20of\x20the\x20ga'+'ussian\x0avec'+'3\x20readCent'+'er(SplatSo'+'urce\x20sourc'+'e)\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20retu'+'rn\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a}\x0a\x0ama'+'t3\x20quatToM'+'at3v2(vec4'+'\x20R)\x20{\x0a\x20\x20\x20\x20'+'float\x20x\x20=\x20'+'R.w;\x0a\x20\x20\x20\x20f'+'loat\x20y\x20=\x20R'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20R.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20w\x20=\x20R.z'+';\x0a\x20\x20\x20\x20retu'+'rn\x20mat3(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x201.0'+'\x20-\x202.0\x20*\x20('+'z\x20*\x20z\x20+\x20w\x20'+'*\x20w),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'2.0\x20*\x20(y\x20*'+'\x20z\x20+\x20x\x20*\x20w'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x202.0'+'\x20*\x20(y\x20*\x20w\x20'+'-\x20x\x20*\x20z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x202.0\x20*\x20'+'(y\x20*\x20z\x20-\x20x'+'\x20*\x20w),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x201.0\x20-'+'\x202.0\x20*\x20(y\x20'+'*\x20y\x20+\x20w\x20*\x20'+'w),\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x202.'+'0\x20*\x20(z\x20*\x20w'+'\x20+\x20x\x20*\x20y),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x202.0\x20*'+'\x20(y\x20*\x20w\x20+\x20'+'x\x20*\x20z),\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x202.0\x20*\x20(z'+'\x20*\x20w\x20-\x20x\x20*'+'\x20y),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.0\x20-\x202'+'.0\x20*\x20(y\x20*\x20'+'y\x20+\x20z\x20*\x20z)'+'\x0a\x20\x20\x20\x20);\x0a}\x0a'+'\x0avec4\x20unpa'+'ckRotation'+'(vec3\x20pack'+'ed)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4(packed.x'+'yz,\x20sqrt(m'+'ax(0.0,\x201.'+'0\x20-\x20dot(pa'+'cked,\x20pack'+'ed))));\x0a}\x0a'+'\x0a//\x20sample'+'\x20covarianc'+'e\x20vectors\x0a'+'void\x20readC'+'ovariance('+'in\x20SplatSo'+'urce\x20sourc'+'e,\x20out\x20vec'+'3\x20covA,\x20ou'+'t\x20vec3\x20cov'+'B)\x20{\x0a\x20\x20\x20\x20v'+'ec4\x20tB\x20=\x20t'+'exelFetch('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20tR\x20'+'=\x20texelFet'+'ch(transfo'+'rmR,\x20sourc'+'e.uv,\x200).x'+'yz;\x0a\x20\x20\x20\x20ma'+'t3\x20rot\x20=\x20q'+'uatToMat3v'+'2(unpackRo'+'tation(tR)'+');\x0a\x20\x20\x20\x20vec'+'3\x20scale\x20=\x20'+'tB.xyz;\x0a\x0a\x20'+'\x20\x20\x20//\x20M\x20=\x20'+'S\x20*\x20R\x0a\x20\x20\x20\x20'+'mat3\x20M\x20=\x20t'+'ranspose(m'+'at3(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.x'+'\x20*\x20rot[0],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.y\x20*\x20r'+'ot[1],\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.z\x20*\x20rot[2'+']\x0a\x20\x20\x20\x20));\x0a'+'\x0a\x20\x20\x20\x20covA\x20'+'=\x20vec3(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20covB\x20=\x20'+'vec3(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a\x0a'+'//\x20sample\x20'+'4D\x20covaria'+'nce\x20vector'+'s\x0avoid\x20rea'+'dFTGSCovar'+'iance(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20co'+'vA,\x20out\x20ve'+'c3\x20covB,ou'+'t\x20vec4\x20cov'+'ariance4D)'+'\x20{\x0a\x20\x20\x20\x20vec'+'4\x20tB\x20=\x20tex'+'elFetch(tr'+'ansformB,\x20'+'source.uv,')+('\x200);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20tR\x20=\x20'+'texelFetch'+'(transform'+'R,\x20source.'+'uv,\x200).xyz'+';\x0a\x20\x20\x20\x20mat3'+'\x20rot\x20=\x20qua'+'tToMat3v2('+'unpackRota'+'tion(tR));'+'\x0a\x20\x20\x20\x20vec3\x20'+'scale\x20=\x20tB'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x20M\x20=\x20S\x20'+'*\x20R\x0a\x20\x20\x20\x20ma'+'t3\x20M\x20=\x20tra'+'nspose(mat'+'3(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20covA\x20=\x20'+'vec3(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20covB\x20=\x20ve'+'c3(dot(M[1'+'],\x20M[1]),\x20'+'dot(M[1],\x20'+'M[2]),\x20dot'+'(M[2],\x20M[2'+']));\x0a\x0a}\x0a\x0a\x0a'+'float\x20getM'+'arginalT(i'+'n\x20SplatSou'+'rce\x20source'+',\x20in\x20float'+'\x20time)\x20{\x0a\x20'+'\x20\x20\x20float\x20m'+'arginal\x20=\x20'+'1.0;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20filter\x20'+'out\x20splats'+'\x20that\x20have'+'\x20too\x20littl'+'e\x20influenc'+'e\x20to\x20now\x20i'+'n\x20the\x20time'+'\x20dimension'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20tData'+'\x20=\x20texelFe'+'tch(transf'+'ormLifecyc'+'le,\x20source'+'.uv,\x200).xy'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'muT\x20=\x20tDat'+'a.x;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20t'+'Scale\x20=\x20tD'+'ata.y;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20margi'+'nal\x20=\x20comp'+'uteMargina'+'lT(time,\x20m'+'uT,\x20tScale'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20re'+'turn\x20margi'+'nal;\x0a}\x0a\x0ave'+'c3\x20readCen'+'ter4D(Spla'+'tSource\x20so'+'urce,\x20floa'+'t\x20time)\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'platCenter'+'\x20=\x20texelFe'+'tch(transf'+'ormA,\x20sour'+'ce.uv,\x200).'+'xyz;\x0a\x20\x20\x20\x20#'+'ifdef\x20IS_4'+'D\x0a\x20\x20\x20\x20if(m'+'uT\x20>\x20-5.0)'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20movin'+'gSpeed\x20=\x20t')+('exelFetch('+'transformM'+'otion,\x20sou'+'rce.uv,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'platOffset'+'\x20=\x20movingS'+'peed\x20*\x20(ti'+'me\x20-\x20muT);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'platCenter'+'\x20+=\x20splatO'+'ffset;\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20spla'+'tCenter;\x0a}'+'\x0a'),Q1='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0avec'+'3\x20prepareO'+'utputFromG'+'amma(vec3\x20'+'gammaColor'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20TONEMAP\x20'+'==\x20NONE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'GAMMA\x20==\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'onvert\x20to\x20'+'linear\x20spa'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20decodeGa'+'mma(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20outp'+'ut\x20gamma\x20s'+'pace\x20color'+'\x20directly\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'ly\x20tonemap'+'ping\x20in\x20li'+'near\x20space'+'\x20and\x20outpu'+'t\x20to\x20linea'+'r\x20or\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20gamm'+'a\x20(which\x20i'+'s\x20handled\x20'+'by\x20gammaCo'+'rrectOutpu'+'t)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ga'+'mmaCorrect'+'Output(ton'+'eMap(decod'+'eGamma(gam'+'maColor)))'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',J1='\x0auniform\x20i'+'nt\x20mode;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x200:\x20c'+'enters,\x201:'+'\x20rings\x0auni'+'form\x20float'+'\x20ringSize;'+'\x0auniform\x20i'+'nt\x20uShapeN'+';\x0a\x0a#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bay'+'erPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'opacityDit'+'herPS\x22\x0a\x20\x20\x20'+'\x20varying\x20f'+'loat\x20id;\x0a#'+'endif\x0a\x0a#if'+'def\x20PICK_P'+'ASS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pi'+'ckPS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'uniform\x20fl'+'oat\x20alphaC'+'lip;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20vLinearDe'+'pth;\x0a\x20\x20\x20\x20#'+'include\x20\x22f'+'loatAsUint'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20Fast\x20'+'approximat'+'e\x20e^x\x20base'+'d\x20on\x20https'+'://nic.sch'+'raudolph.o'+'rg/pubs/Sc'+'hraudolph9'+'9.pdf\x0acons'+'t\x20float\x20\x20E'+'XP_A\x20\x20\x20\x20\x20\x20'+'=\x2012102203'+'.0;\x20\x20\x20//\x20'+'\x202^23\x20/\x20ln'+'(2)\x0aconst\x20'+'int\x20\x20\x20\x20EXP'+'_BC_RMS\x20=\x20'+'1064866808'+';\x20\x20\x20//\x20(12'+'7\x20<<\x2023)\x20-'+'\x2060801\x20*\x208'+'\x0afloat\x20fas'+'tExp(float'+'\x20x)\x20{\x0a\x20\x20\x20\x20'+'int\x20i\x20=\x20in'+'t(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20in'+'tBitsToFlo'+'at(i);\x0a}\x0a\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianU'+'V;\x0avarying'+'\x20mediump\x20v'+'ec4\x20gaussi'+'anColor;\x0av'+'arying\x20med'+'iump\x20vec2\x20'+'gaussianSi'+'ze;\x0avaryin'+'g\x20mediump\x20'+'vec2\x20gauss'+'ianCUV;\x0ava'+'rying\x20medi'+'ump\x20float\x20'+'saveMargin'+'al;\x0a\x0a//\x20'+'\x20p\x20\x20N'+'\x20\x0a//\x20p:'+'\x20\x20(UV\x20'+')\x0a//'+'\x20N:\x20\x0a//\x20'+'r:\x20'+('1\x0a/'+'/\x20center:\x20'+'\x0abool\x20'+'insideRegu'+'larPolygon'+'(vec2\x20p,\x20i'+'nt\x20N,\x20floa'+'t\x20r,\x20vec2\x20'+'center)\x20{\x0a'+'\x20\x20\x20\x20//\x20'+'\x0a\x20'+'\x20\x20\x20vec2\x20d\x20'+'=\x20p\x20-\x20cent'+'er;\x0a\x20\x20\x20\x20fl'+'oat\x20theta\x20'+'=\x20atan(d.y'+',\x20d.x);\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20flo'+'at\x20len\x20=\x20l'+'ength(d);\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20float'+'\x20anglePerS'+'ide\x20=\x202.0\x20'+'*\x203.141592'+'65\x20/\x20float'+'(N);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x200\x20~'+'\x20anglePerS'+'ide\x20\x0a\x20\x20\x20'+'\x20float\x20loc'+'alAngle\x20=\x20'+'mod(theta,'+'\x20anglePerS'+'ide);\x0a\x0a\x20\x20\x20'+'\x20//\x20'+'\x20'+'N\x20\x0a\x20\x20'+'\x20\x20float\x20ma'+'xR\x20=\x20r\x20*\x20c'+'os(anglePe'+'rSide\x20/\x202.'+'0)\x20/\x20cos(l'+'ocalAngle\x20'+'-\x20anglePer'+'Side\x20/\x202.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20len\x20<'+'=\x20maxR;\x0a}\x0a'+'\x0a//\x20'+'N\x20soft\x20'+'mask\x0afloat'+'\x20polygonSo'+'ftMask(vec'+'2\x20p,\x20int\x20N'+',\x20float\x20ra'+'dius,\x20floa'+'t\x20edgeSoft'+'ness)\x20{\x0a\x20\x20'+'\x20\x20float\x20an'+'gle\x20=\x20atan'+'(p.y,\x20p.x)'+';\x0a\x20\x20\x20\x20floa'+'t\x20sector\x20='+'\x206.2831853'+'\x20/\x20float(N'+');\x20\x20//\x20'+'\x0a\x20\x20\x20\x20//'+'\x20\x20['+'-sector/2,'+'\x20sector/2]'+'\x0a\x20\x20\x20\x20float'+'\x20halfSecto'+'r\x20=\x20sector'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20float\x20lo'+'calAngle\x20='+'\x20mod(angle'+'\x20+\x20halfSec'+'tor,\x20secto'+'r)\x20-\x20halfS'+'ector;\x0a\x0a\x20\x20'+'\x20\x20//\x20'+'\x0a'+'\x20\x20\x20\x20float\x20'+'boundary\x20='+'\x20radius\x20*\x20'+'cos(halfSe'+'ctor)\x20/\x20co'+'s(localAng'+'le);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20=\x20'+'\x0a\x20\x20\x20\x20'+'float\x20dist'+'\x20=\x20boundar'+'y\x20-\x20length'+'(p);\x0a\x0a\x20\x20\x20\x20'+'//\x20\x20smoot')+('hstep\x20'+'\x20(edgeSof'+'tness\x20'+')\x0a\x20\x20\x20\x20'+'float\x20alph'+'a\x20=\x20smooth'+'step(0.0,\x20'+'edgeSoftne'+'ss,\x20dist);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20alpha;\x20'+'//\x200~1\x0a}\x0a\x0a'+'void\x20main('+'void)\x20{\x0a\x20\x20'+'\x20\x20mediump\x20'+'float\x20A\x20=\x20'+'dot(gaussi'+'anUV,\x20gaus'+'sianUV);\x0a\x20'+'\x20\x20\x20if\x20(A\x20>'+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'valuate\x20al'+'pha\x0a\x20\x20\x20\x20me'+'diump\x20floa'+'t\x20alpha\x20=\x20'+'fastExp(-A'+'\x20*\x204.0)\x20*\x20'+'gaussianCo'+'lor.a;\x0a\x20\x20\x20'+'\x20//\x20TODO\x20u'+'ShapeN\x20alp'+'ha\x0a\x20\x20\x20\x20//\x20'+'float\x20dx\x20='+'\x20abs(gauss'+'ianCUV.x)\x20'+'/\x20gaussian'+'Size.x;\x0a\x20\x20'+'\x20\x20//\x20float'+'\x20dy\x20=\x20abs('+'gaussianCU'+'V.y)\x20/\x20gau'+'ssianSize.'+'y;\x0a\x20\x20\x20\x20//\x20'+'float\x20B\x20=\x20'+'max(dx,\x20dy'+');\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20'+'\x0a\x20\x20\x20\x20//\x20'+'mediump\x20fl'+'oat\x20alpha\x20'+'=\x20exp(-pow'+'(B,\x202.0)\x20*'+'\x204.0)\x20*\x20ga'+'ussianColo'+'r.a;\x0a\x0a\x20\x20\x20\x20'+'bool\x20openR'+'ingMode\x20=\x20'+'ringSize\x20>'+'\x200.0\x20&&\x20mo'+'de\x20==\x201;\x20/'+'/\x20&&\x20uCont'+'rolMode\x20=='+'\x201;\x20\x0a\x20\x20\x20\x20i'+'f\x20(openRin'+'gMode\x20&&\x20s'+'aveMargina'+'l\x20>=\x200.05)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(A\x20<\x201'+'.0\x20-\x20ringS'+'ize)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'lpha\x20=\x20max'+'(0.05,\x20alp'+'ha);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alpha\x20'+'=\x200.6;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20bool\x20ope'+'nShapeMode'+'\x20=\x20uShapeN'+'\x20>\x202;\x20//\x20&'+'&\x20uControl'+'Mode\x20==\x201;'+'\x0a\x20\x20\x20\x20if\x20(o'+'penShapeMo'+'de)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20gaussi'+'anCUV\x20*\x202.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20rad'+'ius\x20=\x201.0;')+('\x20//\x201.0\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20edgeSoft'+'ness\x20=\x200.0'+'5;\x20//\x200.05'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v\x20*=\x201.0;/'+'/0.9;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20c'+'enter\x20=\x20ve'+'c2(0.0,\x200.'+'0);\x20\x20\x20//\x20'+''+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20alpha\x20'+'=\x20polygonS'+'oftMask(uv'+',\x20uShapeN,'+'\x20radius,\x20e'+'dgeSoftnes'+'s);\x20//\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(!insideR'+'egularPoly'+'gon(uv,\x20uS'+'hapeN,\x20rad'+'ius,\x20cente'+'r))\x20{\x20//'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20discard'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20defined(S'+'HADOW_PASS'+')\x20||\x20defin'+'ed(PICK_PA'+'SS)\x20||\x20def'+'ined(PREPA'+'SS_PASS)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20a'+'lphaClip)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'getPickOut'+'put();\x0a\x0a\x20\x20'+'\x20\x20#elif\x20SH'+'ADOW_PASS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(0'+'.0,\x200.0,\x200'+'.0,\x201.0);\x0a'+'\x0a\x20\x20\x20\x20#elif'+'\x20PREPASS_P'+'ASS\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20fl'+'oat2vec4(v'+'LinearDept'+'h);\x0a\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x201.0\x20/'+'\x20255.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20discard;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20DI'+'THER_NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(alph'+'a,\x20id\x20*\x200.'+'013);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'gaussianCo'+'lor.xyz,\x20a'+'lpha);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),eP='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0avec3\x20unpa'+'ck111011s('+'uint\x20bits)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec3(('+'uvec3(bits'+')\x20>>\x20uvec3'+'(21u,\x2011u,'+'\x200u))\x20&\x20uv'+'ec3(0x7ffu'+',\x200x3ffu,\x20'+'0x7ffu))\x20/'+'\x20vec3(2047'+'.0,\x201023.0'+',\x202047.0)\x20'+'*\x202.0\x20-\x201.'+'0;\x0a}\x0a\x0a//\x20f'+'etch\x20quant'+'ized\x20spher'+'ical\x20harmo'+'nic\x20coeffi'+'cients\x0avoi'+'d\x20fetchSca'+'le(in\x20uvec'+'4\x20t,\x20out\x20f'+'loat\x20scale'+',\x20out\x20vec3'+'\x20a,\x20out\x20ve'+'c3\x20b,\x20out\x20'+'vec3\x20c)\x20{\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20uintBits'+'ToFloat(t.'+'x);\x0a\x20\x20\x20\x20a\x20'+'=\x20unpack11'+'1011s(t.y)'+';\x0a\x20\x20\x20\x20b\x20=\x20'+'unpack1110'+'11s(t.z);\x0a'+'\x20\x20\x20\x20c\x20=\x20un'+'pack111011'+'s(t.w);\x0a}\x0a'+'\x0a//\x20fetch\x20'+'quantized\x20'+'spherical\x20'+'harmonic\x20c'+'oefficient'+'s\x0avoid\x20fet'+'ch(in\x20uvec'+'4\x20t,\x20out\x20v'+'ec3\x20a,\x20out'+'\x20vec3\x20b,\x20o'+'ut\x20vec3\x20c,'+'\x20out\x20vec3\x20'+'d)\x20{\x0a\x20\x20\x20\x20a'+'\x20=\x20unpack1'+'11011s(t.x'+');\x0a\x20\x20\x20\x20b\x20='+'\x20unpack111'+'011s(t.y);'+'\x0a\x20\x20\x20\x20c\x20=\x20u'+'npack11101'+'1s(t.z);\x0a\x20'+'\x20\x20\x20d\x20=\x20unp'+'ack111011s'+'(t.w);\x0a}\x0a\x0a'+'void\x20fetch'+'(in\x20uint\x20t'+',\x20out\x20vec3'+'\x20a)\x20{\x0a\x20\x20\x20\x20'+'a\x20=\x20unpack'+'111011s(t)'+';\x0a}\x0a\x0a#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20splatSH_'+'1to3;\x0a\x20\x20\x20\x20'+'void\x20readS'+'HData(in\x20S'+'platSource'+'\x20source,\x20o'+'ut\x20vec3\x20sh'+'[3],\x20out\x20f'+'loat\x20scale'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetchSca'+'le(texelFe'+'tch(splatS'+'H_1to3,\x20so'+'urce.uv,\x200'+'),\x20scale,\x20'+'sh[0],\x20sh['+'1],\x20sh[2])'+(';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20SH_BAN'+'DS\x20==\x202\x0a\x20\x20'+'\x20\x20uniform\x20'+'highp\x20usam'+'pler2D\x20spl'+'atSH_1to3;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20highp\x20u'+'sampler2D\x20'+'splatSH_4t'+'o7;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_8to11;\x0a\x20\x20'+'\x20\x20void\x20rea'+'dSHData(in'+'\x20SplatSour'+'ce\x20source,'+'\x20out\x20vec3\x20'+'sh[8],\x20out'+'\x20float\x20sca'+'le)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetchS'+'cale(texel'+'Fetch(spla'+'tSH_1to3,\x20'+'source.uv,'+'\x200),\x20scale'+',\x20sh[0],\x20s'+'h[1],\x20sh[2'+']);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fetch(te'+'xelFetch(s'+'platSH_4to'+'7,\x20source.'+'uv,\x200),\x20sh'+'[3],\x20sh[4]'+',\x20sh[5],\x20s'+'h[6]);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20fetch'+'(texelFetc'+'h(splatSH_'+'8to11,\x20sou'+'rce.uv,\x200)'+'.x,\x20sh[7])'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_1to3;\x0a\x20\x20\x20'+'\x20uniform\x20h'+'ighp\x20usamp'+'ler2D\x20spla'+'tSH_4to7;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20us'+'ampler2D\x20s'+'platSH_8to'+'11;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20usampler'+'2D\x20splatSH'+'_12to15;\x0a\x20'+'\x20\x20\x20void\x20re'+'adSHData(i'+'n\x20SplatSou'+'rce\x20source'+',\x20out\x20vec3'+'\x20sh[15],\x20o'+'ut\x20float\x20s'+'cale)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fetc'+'hScale(tex'+'elFetch(sp'+'latSH_1to3'+',\x20source.u'+'v,\x200),\x20sca'+'le,\x20sh[0],'+'\x20sh[1],\x20sh'+'[2]);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20fetch('+'texelFetch'+'(splatSH_4'+'to7,\x20sourc'+'e.uv,\x200),\x20'+'sh[3],\x20sh['+'4],\x20sh[5],'+'\x20sh[6]);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20fet'+'ch(texelFe'+'tch(splatS'+'H_8to11,\x20s'+'ource.uv,\x20'+'0),\x20sh[7],'+'\x20sh[8],\x20sh'+'[9],\x20sh[10'+']);\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20fetch(te'+'xelFetch(s'+'platSH_12t'+'o15,\x20sourc'+'e.uv,\x200),\x20'+'sh[11],\x20sh'+'[12],\x20sh[1'+'3],\x20sh[14]'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0a#en'+'dif\x0a'),tP='\x0aattribute'+'\x20vec3\x20vert'+'ex_positio'+'n;\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20xy:\x20co'+'rnerUV,\x20z:'+'\x20render\x20or'+'der\x20offset'+'\x0aattribute'+'\x20uint\x20vert'+'ex_id_attr'+'ib;\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20render'+'\x20order\x20bas'+'e\x0a\x0auniform'+'\x20uint\x20numS'+'plats;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20tota'+'l\x20number\x20o'+'f\x20splats\x0au'+'niform\x20hig'+'hp\x20usample'+'r2D\x20splatO'+'rder;\x20\x20\x20\x20/'+'/\x20per-spla'+'t\x20index\x20to'+'\x20source\x20ga'+'ussian\x0a\x0a//'+'\x20initializ'+'e\x20the\x20spla'+'t\x20source\x20s'+'tructure\x0ab'+'ool\x20initSo'+'urce(out\x20S'+'platSource'+'\x20source)\x20{'+'\x0a\x20\x20\x20\x20uint\x20'+'w\x20=\x20uint(t'+'extureSize'+'(splatOrde'+'r,\x200).x);\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20ui'+'nt(vertex_'+'position.z'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20return\x20if'+'\x20out\x20of\x20ra'+'nge\x20(since'+'\x20the\x20last\x20'+'block\x20of\x20s'+'plats\x20may\x20'+'be\x20partial'+'ly\x20full)\x0a\x20'+'\x20\x20\x20if\x20(sou'+'rce.order\x20'+'>=\x20numSpla'+'ts)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'vec2\x20order'+'UV\x20=\x20ivec2'+'(source.or'+'der\x20%\x20w,\x20s'+'ource.orde'+'r\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20splat\x20id\x0a'+'\x20\x20\x20\x20source'+'.id\x20=\x20texe'+'lFetch(spl'+'atOrder,\x20o'+'rderUV,\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20/'+'/\x20map\x20id\x20t'+'o\x20uv\x0a\x20\x20\x20\x20s'+'ource.uv\x20='+'\x20ivec2(sou'+'rce.id\x20%\x20w'+',\x20source.i'+'d\x20/\x20w);\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20true;'+'\x0a}\x0a',sP='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0aun'+'iform\x20int\x20'+'pointCloud'+'ModeEnable'+'d;\x0auniform'+'\x20float\x20uTi'+'me;\x0aunifor'+'m\x20float\x20pr'+'erenderCTi'+'me;\x0aunifor'+'m\x20float\x20uS'+'aturation;'+'\x20//\x200.0-2.'+'01.0\x20'+'\x0auniform'+'\x20float\x20uHu'+'eOffset;\x20\x20'+'//\x20'+'360'+'\x0auniform\x20v'+'ec3\x20clrOff'+'set;\x0aunifo'+'rm\x20vec4\x20cl'+'rScale;\x0aun'+'iform\x20floa'+'t\x20uOpacity'+';\x0auniform\x20'+'int\x20uInver'+'tOpacity;\x0a'+'\x0avarying\x20m'+'ediump\x20vec'+'2\x20gaussian'+'UV;\x0avaryin'+'g\x20mediump\x20'+'vec4\x20gauss'+'ianColor;\x0a'+'varying\x20me'+'diump\x20vec2'+'\x20gaussianS'+'ize;\x0avaryi'+'ng\x20mediump'+'\x20vec2\x20gaus'+'sianCUV;\x0av'+'arying\x20med'+'iump\x20float'+'\x20saveMargi'+'nal;\x0a\x0a//\x20='+'====\x20\x20H'+'SV/RGB\x20\x20'+'=====\x0ahigh'+'p\x20vec3\x20rgb'+'2hsv(highp'+'\x20vec3\x20c)\x20{'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20cMa'+'x\x20=\x20max(ma'+'x(c.r,\x20c.g'+'),\x20c.b);\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20cMin\x20'+'=\x20min(min('+'c.r,\x20c.g),'+'\x20c.b);\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20delta\x20='+'\x20cMax\x20-\x20cM'+'in\x20+\x201e-10'+';\x20//\x200\x0a'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20h\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'if\x20(delta\x20'+'>\x201e-6)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(cMax\x20==\x20'+'c.r)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20=\x20mod((c.'+'g\x20-\x20c.b)\x20/'+'\x20delta,\x206.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(cMax\x20=='+'\x20c.g)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.b\x20-'+'\x20c.r)\x20/\x20de'+'lta\x20+\x202.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'h\x20=\x20(c.r\x20-'+'\x20c.g)\x20/\x20de'+'lta\x20+\x204.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'\x20/=\x206.0;\x20/'+'/\x20\x20[0,1]'+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(h\x20<\x200.0'+')\x20h\x20+=\x201.0'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20highp\x20f'+'loat\x20s\x20=\x20('+'cMax\x20<\x201e-'+'6)\x20?\x200.0\x20:'+'\x20delta\x20/\x20c'+'Max;\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20v\x20=\x20cMax;'+'\x0a\x20\x20\x20\x20retur'+'n\x20vec3(h,\x20'+'s,\x20v);\x0a}\x0a\x0a'+'highp\x20vec3'+'\x20hsv2rgb(h'+'ighp\x20vec3\x20'+'c)\x20{\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20h\x20=\x20c.x\x20*'+'\x206.0;\x20//\x200'+'-6\x0a\x20\x20\x20\x20hig'+'hp\x20float\x20s'+'\x20=\x20c.y;\x0a\x20\x20'+'\x20\x20highp\x20fl'+'oat\x20v\x20=\x20c.'+'z;\x0a\x0a\x20\x20\x20\x20hi'+'ghp\x20int\x20i\x20'+'=\x20int(floo'+'r(h));\x0a\x20\x20\x20'+'\x20highp\x20flo'+'at\x20f\x20=\x20h\x20-'+'\x20float(i);'+'\x0a\x20\x20\x20\x20highp'+'\x20float\x20p\x20='+'\x20v\x20*\x20(1.0\x20'+'-\x20s);\x0a\x20\x20\x20\x20'+'highp\x20floa'+'t\x20q\x20=\x20v\x20*\x20'+'(1.0\x20-\x20s\x20*'+'\x20f);\x0a\x20\x20\x20\x20h'+'ighp\x20float'+'\x20t\x20=\x20v\x20*\x20('+'1.0\x20-\x20s\x20*\x20'+'(1.0\x20-\x20f))'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(i\x20==\x200)\x20r'+'eturn\x20vec3'+'(v,\x20t,\x20p);'+'\x0a\x20\x20\x20\x20else\x20'+'if\x20(i\x20==\x201'+')\x20return\x20v'+'ec3(q,\x20v,\x20'+'p);\x0a\x20\x20\x20\x20el'+'se\x20if\x20(i\x20='+'=\x202)\x20retur'+'n\x20vec3(p,\x20'+'v,\x20t);\x0a\x20\x20\x20'+'\x20else\x20if\x20('+'i\x20==\x203)\x20re'+'turn\x20vec3('+'p,\x20q,\x20v);\x0a'+'\x20\x20\x20\x20else\x20i'+'f\x20(i\x20==\x204)'+'\x20return\x20ve'+'c3(t,\x20p,\x20v'+');\x0a\x20\x20\x20\x20els'+'e\x20return\x20v'+'ec3(v,\x20p,\x20'+'q);\x20//\x20i=='+'5\x0a}\x0a\x0a#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20id;\x0a#en'+'dif\x0a\x0amediu'+'mp\x20vec4\x20di'+'scardVec\x20='+'\x20vec4(0.0,'+'\x200.0,\x202.0,'+'\x201.0);\x0a\x0a#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20varying\x20'+'float\x20vLin'+'earDepth;\x0a'+'#endif\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'//\x20read\x20ga'+'ussian\x20det'+'ails\x0a\x20\x20\x20\x20S'+'platSource'+'\x20source;\x0a\x20'+'\x20\x20\x20if\x20(!in'+'itSource(s'+'ource))\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20')+('=\x20discardV'+'ec;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20saveMargi'+'nal\x20=\x20getM'+'arginalT(s'+'ource,\x20uTi'+'me);\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20float\x20'+'marginal\x20='+'\x20uOpenAnim'+'\x20==\x201\x20?\x201.'+'0\x20:\x20saveMa'+'rginal;\x0a\x20\x20'+'\x20\x20if\x20(marg'+'inal\x20<\x200.0'+'5)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Posi'+'tion\x20=\x20dis'+'cardVec;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec3'+'\x20modelCent'+'er;\x0a\x20\x20\x20\x20bo'+'ol\x20isCente'+'r4D\x20=\x20save'+'Marginal\x20>'+'=\x200.05;\x0a\x20\x20'+'\x20\x20if\x20(isCe'+'nter4D)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'delCenter\x20'+'=\x20readCent'+'er4D(sourc'+'e,\x20uTime);'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20modelCen'+'ter\x20=\x20read'+'Center(sou'+'rce);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20Spl'+'atCenter\x20c'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'center))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return;'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20int\x20'+'showCloud\x20'+'=\x20pointClo'+'udModeEnab'+'led;\x0a\x20\x20\x20\x20i'+'f\x20(prerend'+'erCTime\x20=='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(prer'+'enderCTime'+'\x20>=\x201.0\x20&&'+'\x20prerender'+'CTime\x20<\x202.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20showClo'+'ud\x20=\x201;\x0a\x20\x20'+'\x20\x20}\x20else\x20i'+'f\x20(prerend'+'erCTime\x20>='+'\x202.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20show'+'Cloud\x20=\x20po'+'intCloudMo'+'deEnabled;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20proje'+'ct\x20center\x20'+'to\x20screen\x20'+'space\x0a\x20\x20\x20\x20'+'SplatCorne'+'r\x20corner;\x0a'+'\x20\x20\x20\x20if\x20(!i'+'nitCorner('+'source,\x20ce'+'nter,\x20corn'+'er,\x20showCl'+'oud))\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_P'+'osition\x20=\x20')+('discardVec'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20vec'+'4\x20clr\x20=\x20re'+'adColor(so'+'urce,\x20uTim'+'e,\x20!isCent'+'er4D,\x20poin'+'tCloudMode'+'Enabled);\x0a'+'\x0a\x20\x20\x20\x20#if\x20G'+'SPLAT_AA\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'apply\x20AA\x20c'+'ompensatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'clr.a\x20*=\x20c'+'orner.aaFa'+'ctor;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20if(margi'+'nal\x20>\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20clr.w\x20*=\x20'+'marginal;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20\x0a\x20'+'\x20\x20\x20if\x20(uCo'+'ntrolColor'+'Mode\x20==\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'tint/brigh'+'tness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr\x20=\x20'+'clr\x20*\x20clrS'+'cale\x20+\x20vec'+'4(clrOffse'+'t,\x200.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(uInvertO'+'pacity\x20==\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20clr'+'.a\x20=\x201.0\x20-'+'\x20clr.a;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20don\x27t\x20'+'allow\x20out-'+'of-range\x20a'+'lpha\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20clr\x20=\x20c'+'lamp(clr,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20evalu'+'ate\x20spheri'+'cal\x20harmon'+'ics\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20the\x20'+'model-spac'+'e\x20view\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20norm'+'alize(cent'+'er.view\x20*\x20'+'mat3(cente'+'r.modelVie'+'w));\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20rea'+'d\x20sh\x20coeff'+'icients\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sh[SH_COE'+'FFS];\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20readS'+'HData(sour'+'ce,\x20sh,\x20sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr.x'+'yz\x20+=\x20eval'+'SH(sh,\x20dir'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(co'+'rner,\x20clr.'+'w);\x0a\x0a\x20\x20\x20\x20/')+('/\x20pointClo'+'udMode\x0a\x20\x20\x20'+'\x20//\x20if\x20(po'+'intCloudMo'+'deEnabled\x20'+'==\x201)\x20{\x0a\x20\x20'+'\x20\x20//\x20\x20\x20\x20\x20c'+'lr.a\x20=\x201.0'+';\x0a\x20\x20\x20\x20//\x20}'+'\x0a\x20\x20\x20\x20highp'+'\x20vec3\x20colo'+'r\x20=\x20max(cl'+'r.xyz,\x200.0'+');\x0a\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20\x0a'+'\x20\x20\x20\x20if\x20(uC'+'ontrolColo'+'rMode\x20==\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20\x20HSV'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20h'+'ighp\x20vec3\x20'+'hsv\x20=\x20rgb2'+'hsv(color)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20hsv.'+'y\x20*=\x20uSatu'+'ration;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20hsv.x\x20=\x20f'+'ract(hsv.x'+'\x20+\x20uHueOff'+'set\x20/\x20360.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20\x20RGB'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'olor\x20=\x20hsv'+'2rgb(hsv);'+'\x20\x20\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wri'+'te\x20output\x0a'+'\x20\x20\x20\x20gl_Pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4(cor'+'ner.offset'+',\x200,\x200);\x0a\x20'+'\x20\x20\x20gaussia'+'nUV\x20=\x20corn'+'er.uv;\x0a\x20\x20\x20'+'\x20gaussianC'+'UV\x20=\x20corne'+'r.cUV;\x0a\x20\x20\x20'+'\x20gaussianS'+'ize\x20=\x20corn'+'er.cSize;\x0a'+'\x20\x20\x20\x20gaussi'+'anColor\x20=\x20'+'vec4(prepa'+'reOutputFr'+'omGamma(co'+'lor),\x20clr.'+'w);\x0a\x20\x20\x20\x20ga'+'ussianColo'+'r\x20=\x20clamp('+'gaussianCo'+'lor,\x200.0,\x20'+'1.0);\x0a\x0a\x20\x20\x20'+'\x20#ifndef\x20D'+'ITHER_NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'d\x20=\x20float('+'source.id)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20PREPA'+'SS_PASS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vLin'+'earDepth\x20='+'\x20-center.v'+'iew.z;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),iP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'aPosition;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec2\x20uv'+'0;\x0a\x20\x20\x20\x20voi'+'d\x20main(voi'+'d)\x0a\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(aPos'+'ition,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv0\x20'+'=\x20getImage'+'EffectUV(('+'aPosition.'+'xy\x20+\x201.0)\x20'+'*\x200.5);\x0a\x20\x20'+'\x20\x20}\x0a',rP='\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec4\x20c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20void\x20m'+'ain(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20v'+'ec4(gammaC'+'orrectOutp'+'ut(decodeG'+'amma(color'+'.rgb)),\x20co'+'lor.a);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a',aP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec4\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec4\x20vert'+'ex_color;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20co'+'lor;\x0a\x20\x20\x20\x20v'+'oid\x20main(v'+'oid)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20=\x20vertex_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20matrix_'+'model\x20*\x20ve'+'rtex_posit'+'ion;\x0a\x20\x20\x20\x20}'+'\x0a',nP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceRefra'+'ctionIndex'+';\x0a\x0afloat\x20i'+'ridescence'+'_iorToFres'+'nel(float\x20'+'transmitte'+'dIor,\x20floa'+'t\x20incident'+'Ior)\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'incidentIo'+'r)\x20/\x20(tran'+'smittedIor'+'\x20+\x20inciden'+'tIor),\x202.0'+');\x0a}\x0a\x0avec3'+'\x20iridescen'+'ce_iorToFr'+'esnel(vec3'+'\x20transmitt'+'edIor,\x20flo'+'at\x20inciden'+'tIor)\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow((transm'+'ittedIor\x20-'+'\x20vec3(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3(incid'+'entIor)),\x20'+'vec3(2.0))'+';\x0a}\x0a\x0avec3\x20'+'iridescenc'+'e_fresnelT'+'oIor(vec3\x20'+'f0)\x20{\x0a\x20\x20\x20\x20'+'vec3\x20sqrtF'+'0\x20=\x20sqrt(f'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20(vec3'+'(1.0)\x20+\x20sq'+'rtF0)\x20/\x20(v'+'ec3(1.0)\x20-'+'\x20sqrtF0);\x0a'+'}\x0a\x0avec3\x20ir'+'idescence_'+'sensitivit'+'y(float\x20op'+'d,\x20vec3\x20sh'+'ift)\x20{\x0a\x20\x20\x20'+'\x20float\x20PI\x20'+'=\x203.141592'+'653589793;'+'\x0a\x20\x20\x20\x20float'+'\x20phase\x20=\x202'+'.0\x20*\x20PI\x20*\x20'+'opd\x20*\x201.0e'+'-9;\x0a\x20\x20\x20\x20co'+'nst\x20vec3\x20v'+'al\x20=\x20vec3('+'5.4856e-13'+',\x204.4201e-'+'13,\x205.2481'+'e-13);\x0a\x20\x20\x20'+'\x20const\x20vec'+'3\x20pos\x20=\x20ve'+'c3(1.6810e'+'+06,\x201.795'+'3e+06,\x202.2'+'084e+06);\x0a'+'\x20\x20\x20\x20const\x20'+'vec3\x20var\x20='+'\x20vec3(4.32'+'78e+09,\x209.'+'3046e+09,\x20'+'6.6121e+09'+');\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20xyz\x20=\x20v'+'al\x20*\x20sqrt('+'2.0\x20*\x20PI\x20*'+'\x20var)\x20*\x20co'+'s(pos\x20*\x20ph'+'ase\x20+\x20shif'+'t)\x20*\x20exp(-'+'pow(phase,'+'\x202.0)\x20*\x20va'+'r);\x0a\x20\x20\x20\x20xy'+'z.x\x20+=\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+('cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20/=\x20vec3(1'+'.0685e-07)'+';\x0a\x0a\x20\x20\x20\x20con'+'st\x20mat3\x20XY'+'Z_TO_REC70'+'9\x20=\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x203.'+'2404542,\x20-'+'0.9692660,'+'\x20\x200.055643'+'4,\x0a\x20\x20\x20\x20\x20\x20\x20'+'-1.5371385'+',\x20\x201.87601'+'08,\x20-0.204'+'0259,\x0a\x20\x20\x20\x20'+'\x20\x20\x20-0.4985'+'314,\x20\x200.04'+'15560,\x20\x201.'+'0572252\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'return\x20XYZ'+'_TO_REC709'+'\x20*\x20xyz;\x0a}\x0a'+'\x0afloat\x20iri'+'descence_f'+'resnel(flo'+'at\x20cosThet'+'a,\x20float\x20f'+'0)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20x\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20floa'+'t\x20x2\x20=\x20x\x20*'+'\x20x;\x0a\x20\x20\x20\x20fl'+'oat\x20x5\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x20\x0a\x0av'+'ec3\x20irides'+'cence_fres'+'nel(float\x20'+'cosTheta,\x20'+'vec3\x20f0)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20clamp'+'(1.0\x20-\x20cos'+'Theta,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20float\x20x2'+'\x20=\x20x\x20*\x20x;\x0a'+'\x20\x20\x20\x20float\x20'+'x5\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x20\x0a\x20'+'\x20\x20\x20return\x20'+'f0\x20+\x20(vec3'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0avec3\x20calc'+'Iridescenc'+'e(float\x20ou'+'tsideIor,\x20'+'float\x20cosT'+'heta,\x20vec3'+'\x20base_f0,\x20'+'float\x20irid'+'escenceThi'+'ckness)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceIor\x20'+'=\x20mix(outs'+'ideIor,\x20ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20float'+'\x20sinTheta2'+'Sq\x20=\x20pow(o'+'utsideIor\x20'+'/\x20iridesce')+('nceIor,\x202.'+'0)\x20*\x20(1.0\x20'+'-\x20pow(cosT'+'heta,\x202.0)'+');\x0a\x20\x20\x20\x20flo'+'at\x20cosThet'+'a2Sq\x20=\x201.0'+'\x20-\x20sinThet'+'a2Sq;\x0a\x0a\x20\x20\x20'+'\x20if\x20(cosTh'+'eta2Sq\x20<\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20vec3(1.0)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20c'+'osTheta2\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20r0\x20=\x20irid'+'escence_io'+'rToFresnel'+'(iridescen'+'ceIor,\x20out'+'sideIor);\x0a'+'\x20\x20\x20\x20float\x20'+'r12\x20=\x20irid'+'escence_fr'+'esnel(cosT'+'heta,\x20r0);'+'\x0a\x20\x20\x20\x20float'+'\x20r21\x20=\x20r12'+';\x0a\x20\x20\x20\x20floa'+'t\x20t121\x20=\x201'+'.0\x20-\x20r12;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20phi12\x20=\x20i'+'ridescence'+'Ior\x20<\x20outs'+'ideIor\x20?\x20P'+'I\x20:\x200.0;\x0a\x20'+'\x20\x20\x20float\x20p'+'hi21\x20=\x20PI\x20'+'-\x20phi12;\x0a\x0a'+'\x20\x20\x20\x20vec3\x20b'+'aseIor\x20=\x20i'+'ridescence'+'_fresnelTo'+'Ior(base_f'+'0\x20+\x20vec3(0'+'.0001));\x0a\x20'+'\x20\x20\x20vec3\x20r1'+'\x20=\x20iridesc'+'ence_iorTo'+'Fresnel(ba'+'seIor,\x20iri'+'descenceIo'+'r);\x0a\x20\x20\x20\x20ve'+'c3\x20r23\x20=\x20i'+'ridescence'+'_fresnel(c'+'osTheta2,\x20'+'r1);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20phi23'+'\x20=\x20vec3(0.'+'0);\x0a\x20\x20\x20\x20if'+'\x20(baseIor['+'0]\x20<\x20iride'+'scenceIor)'+'\x20phi23[0]\x20'+'=\x20PI;\x0a\x20\x20\x20\x20'+'if\x20(baseIo'+'r[1]\x20<\x20iri'+'descenceIo'+'r)\x20phi23[1'+']\x20=\x20PI;\x0a\x20\x20'+'\x20\x20if\x20(base'+'Ior[2]\x20<\x20i'+'ridescence'+'Ior)\x20phi23'+'[2]\x20=\x20PI;\x0a'+'\x20\x20\x20\x20float\x20'+'opd\x20=\x202.0\x20'+'*\x20iridesce'+'nceIor\x20*\x20i'+'ridescence'+'Thickness\x20'+'*\x20cosTheta'+'2;\x0a\x20\x20\x20\x20vec'+'3\x20phi\x20=\x20ve'+'c3(phi21)\x20'+'+\x20phi23;\x20\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123Sq\x20=\x20c'+'lamp(r12\x20*'+'\x20r23,\x201e-5'+',\x200.9999);'+'\x0a\x20\x20\x20\x20vec3\x20'+'r123\x20=\x20sqr')+('t(r123Sq);'+'\x0a\x20\x20\x20\x20vec3\x20'+'rs\x20=\x20pow(t'+'121,\x202.0)\x20'+'*\x20r23\x20/\x20(1'+'.0\x20-\x20r123S'+'q);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20c0\x20=\x20r'+'12\x20+\x20rs;\x0a\x20'+'\x20\x20\x20vec3\x20i\x20'+'=\x20c0;\x0a\x0a\x20\x20\x20'+'\x20vec3\x20cm\x20='+'\x20rs\x20-\x20t121'+';\x0a\x20\x20\x20\x20for\x20'+'(int\x20m\x20=\x201'+';\x20m\x20<=\x202;\x20'+'m++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20cm\x20*='+'\x20r123;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'sm\x20=\x202.0\x20*'+'\x20iridescen'+'ce_sensiti'+'vity(float'+'(m)\x20*\x20opd,'+'\x20float(m)\x20'+'*\x20phi);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20i\x20+='+'\x20cm\x20*\x20sm;\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20max'+'(i,\x20vec3(0'+'.0));\x0a}\x0a\x0av'+'ec3\x20getIri'+'descence(f'+'loat\x20cosTh'+'eta,\x20vec3\x20'+'specularit'+'y,\x20float\x20i'+'ridescence'+'Thickness)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),oP='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_irid'+'escence;\x0a#'+'endif\x0a\x0avoi'+'d\x20getIride'+'scence()\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20iridescen'+'ce\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_IRID'+'ESCENCE_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20iridescen'+'ce\x20*=\x20mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20*=\x20textur'+'e2DBias({S'+'TD_IRIDESC'+'ENCE_TEXTU'+'RE_NAME},\x20'+'{STD_IRIDE'+'SCENCE_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCE_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scence\x20=\x20i'+'ridescence'+';\x20\x0a}\x0a',lP='\x0auniform\x20f'+'loat\x20mater'+'ial_irides'+'cenceThick'+'nessMax;\x0a\x0a'+'#ifdef\x20STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_iridesc'+'enceThickn'+'essMin;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'end\x20=\x20text'+'ure2DBias('+'{STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE_NAME},'+'\x20{STD_IRID'+'ESCENCETHI'+'CKNESS_TEX'+'TURE_UV},\x20'+'textureBia'+'s).{STD_IR'+'IDESCENCET'+'HICKNESS_T'+'EXTURE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20iridescen'+'ceThicknes'+'s\x20=\x20mix(ma'+'terial_iri'+'descenceTh'+'icknessMin'+',\x20material'+'_iridescen'+'ceThicknes'+'sMax,\x20blen'+'d);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20ir'+'idescenceT'+'hickness\x20='+'\x20material_'+'iridescenc'+'eThickness'+'Max;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dIridesce'+'nceThickne'+'ss\x20=\x20iride'+'scenceThic'+'kness;\x20\x0a}\x0a',cP='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'fractionIn'+'dex;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tIor()\x20{\x0a#'+'ifdef\x20STD_'+'IOR_CONSTA'+'NT\x0a\x20\x20\x20\x20dIo'+'r\x20=\x20materi'+'al_refract'+'ionIndex;\x0a'+'#else\x0a\x20\x20\x20\x20'+'dIor\x20=\x201.0'+'\x20/\x201.5;\x0a#e'+'ndif\x0a}\x0a',hP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20light{i}_'+'color;\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec3\x20light'+'{i}_direct'+'ion;\x0a\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#defin'+'e\x20LIT_CODE'+'_LIGHTS_PO'+'INT\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20point\x20l'+'ights\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_pos'+'ition;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_ra'+'dius;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20SPOT\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20spot\x20ligh'+'ts\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20l'+'ight{i}_di'+'rection;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20light'+'{i}_innerC'+'oneAngle;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_outer'+'ConeAngle;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'3\x20light{i}'+'_position;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20vec3\x20lig'+'ht{i}_half'+'Width;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20li'+'ght{i}_hal'+'fHeight;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'FALLOFF\x20=='+'\x20LINEAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+('T_CODE_FAL'+'LOFF_LINEA'+'R\x20//\x20inclu'+'de\x20functio'+'nality\x20for'+'\x20linear\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}FALLOFF\x20'+'==\x20INVERSE'+'SQUARED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20inverse\x20'+'squared\x20fa'+'lloff\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20shadow\x20ca'+'sting\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'CASTSHADOW'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'at4\x20light{'+'i}_shadowM'+'atrix;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20float\x20l'+'ight{i}_sh'+'adowIntens'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec4\x20ligh'+'t{i}_shado'+'wParams;\x20/'+'/\x20width,\x20h'+'eight,\x20bia'+'s,\x20radius\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_s'+'hadowSearc'+'hArea;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20light{i}'+'_cameraPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_sof'+'tShadowPar'+'ams;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20direction'+'al\x20(cascad'+'ed)\x20shadow'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrixPa'+'lette[4];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'vec4\x20light'+'{i}_shadow'+'CascadeDis'+'tances;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20in'+'t\x20light{i}'+'_shadowCas')+('cadeCount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_shad'+'owCascadeB'+'lend;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'SHADOW_PCF'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2DShado'+'w\x20light{i}'+'_shadowMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_shadowM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'okie\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIGHT{i}C'+'OOKIE)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_COOKIE\x20'+'//\x20include'+'\x20functiona'+'lity\x20for\x20c'+'ookies\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20light{i'+'}_cookie;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'float\x20ligh'+'t{i}_cooki'+'eIntensity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d'+'efined(LIG'+'HT{i}CASTS'+'HADOW)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20mat4\x20ligh'+'t{i}_shado'+'wMatrix;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20SPOT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20lig')+('ht{i}_cook'+'ie;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20float\x20'+'light{i}_c'+'ookieInten'+'sity;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIGHT{i}C'+'ASTSHADOW)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'light{i}_s'+'hadowMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIGH'+'T{i}COOKIE'+'_TRANSFORM'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20light{i}_'+'cookieMatr'+'ix;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c2\x20light{i'+'}_cookieOf'+'fset;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),dP='\x0afloat\x20get'+'LightDiffu'+'se(vec3\x20wo'+'rldNormal,'+'\x20vec3\x20view'+'Dir,\x20vec3\x20'+'lightDirNo'+'rm)\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',fP='\x0avec3\x20eval'+'OmniLight('+'vec3\x20light'+'PosW)\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'PositionW\x20'+'-\x20lightPos'+'W;\x0a}\x0a',uP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',pP='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0avoid\x20e'+'valuateLig'+'ht{i}(\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20iridesc'+'enceFresne'+'l\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20light'+'\x20color\x0a\x20\x20\x20'+'\x20vec3\x20ligh'+'tColor\x20=\x20l'+'ight{i}_co'+'lor;\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x20&&\x20!defi'+'ned(LIT_SH'+'ADOW_CATCH'+'ER)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20return\x20if'+'\x20the\x20light'+'\x20color\x20is\x20'+'black\x20(use'+'d\x20by\x20shado'+'w\x20catcher\x20'+'-\x20this\x20way'+'\x20this\x20ligh'+'t\x20is\x20very\x20'+'cheap)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(a'+'ll(equal(l'+'ightColor,'+'\x20vec3(0.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20dir'+'ectional\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dLight'+'DirNormW\x20='+'\x20light{i}_'+'direction;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20omn'+'i\x20or\x20spot\x20'+'light\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtDirW\x20=\x20'+'evalOmniLi'+'ght(light{'+'i}_positio'+'n);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightDi'+'rNormW\x20=\x20n'+'ormalize(l'+'ightDirW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20cookie\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIGHT{i}'+'COOKIE)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_FALLOF'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}COO'+'KIE_TRANSF'+'ORM\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2DXform('+('light{i}_c'+'ookie,\x20lig'+'ht{i}_shad'+'owMatrix,\x20'+'light{i}_c'+'ookieInten'+'sity,\x20ligh'+'t{i}_cooki'+'eMatrix,\x20l'+'ight{i}_co'+'okieOffset'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20cookieA'+'ttenuation'+'\x20=\x20getCook'+'ie2D(light'+'{i}_cookie'+',\x20light{i}'+'_shadowMat'+'rix,\x20light'+'{i}_cookie'+'Intensity)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}COOKIE_TR'+'ANSFORM\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'Cookie2DCl'+'ipXform(li'+'ght{i}_coo'+'kie,\x20light'+'{i}_shadow'+'Matrix,\x20li'+'ght{i}_coo'+'kieIntensi'+'ty,\x20light{'+'i}_cookieM'+'atrix,\x20lig'+'ht{i}_cook'+'ieOffset).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20cookieAtt'+'enuation\x20='+'\x20getCookie'+'2DClip(lig'+'ht{i}_cook'+'ie,\x20light{'+'i}_shadowM'+'atrix,\x20lig'+'ht{i}_cook'+'ieIntensit'+'y).{LIGHT{'+'i}COOKIE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20OMNI\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20coo'+'kieAttenua'+'tion\x20=\x20get'+'CookieCube'+'(light{i}_'+'cookie,\x20li'+'ght{i}_sha')+('dowMatrix,'+'\x20light{i}_'+'cookieInte'+'nsity).{LI'+'GHT{i}COOK'+'IE_CHANNEL'+'};\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20mu'+'ltiply\x20lig'+'ht\x20color\x20b'+'y\x20the\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lig'+'htColor\x20*='+'\x20cookieAtt'+'enuation;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20di'+'stance\x20fal'+'loff\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20==\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}FAL'+'LOFF\x20==\x20LI'+'NEAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Linear(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20=\x20g'+'etFalloffI'+'nvSquared('+'light{i}_r'+'adius,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20non'+'\x20punctual\x20'+'lights\x20onl'+'y\x20gets\x20the'+'\x20range\x20win'+'dow\x20here\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dAtten\x20=\x20'+'getFalloff'+'Window(lig'+'ht{i}_radi'+'us,\x20lightD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20spot\x20li'+'ght\x20angle\x20'+'falloff\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20SPOT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20!de'+'fined(LIGH'+'T{i}COOKIE'+')\x20||\x20defin'+'ed(LIGHT{i'+'}COOKIE_FA'+'LLOFF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dAtten\x20'+'*=\x20getSpot'+'Effect(lig'+'ht{i}_dire'+'ction,\x20lig'+'ht{i}_inne'+'rConeAngle'+',\x20light{i}'+'_outerCone'+'Angle,\x20dLi'+'ghtDirNorm'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20if\x20(dA'+'tten\x20<\x200.0')+('0001)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20ev'+'aluate\x20are'+'a\x20light\x20va'+'lues\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcR'+'ectLightVa'+'lues(light'+'{i}_positi'+'on,\x20light{'+'i}_halfWid'+'th,\x20light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20calcDi'+'skLightVal'+'ues(light{'+'i}_positio'+'n,\x20light{i'+'}_halfWidt'+'h,\x20light{i'+'}_halfHeig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20calcS'+'phereLight'+'Values(lig'+'ht{i}_posi'+'tion,\x20ligh'+'t{i}_halfW'+'idth,\x20ligh'+'t{i}_halfH'+'eight);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'lighting\x20-'+'\x20LTC\x20light'+'s\x20do\x20not\x20m'+'ix\x20diffuse'+'\x20lighting\x20'+'into\x20atten'+'uation\x20tha'+'t\x20affects\x20'+'specular\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20atten'+'Diffuse\x20-\x20'+'separate\x20d'+'iffuse\x20att'+'enuation\x20f'+'or\x20non-pun'+'ctual\x20ligh'+'t\x20sources\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20NB:\x20'+'A\x20better\x20a'+'pproximati'+'on\x20perhaps'+'\x20using\x20wra'+'p\x20lighting'+'\x20could\x20be\x20'+'implemente'+'d\x20here\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20atten'+'Diffuse\x20=\x20'+'getLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dL'+'ightDirNor'+'mW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x2016.0\x20i'+'s\x20a\x20consta'+'nt\x20that\x20is'+'\x20in\x20getFal'+'loffInvSqu'+'ared()\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20==\x20'+'RECT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getRectL'+'ightDiffus'+'e(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20lightD'+'irW,\x20dLigh'+'tDirNormW)'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20attenDiff'+'use\x20=\x20getD'+'iskLightDi'+'ffuse(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20li'+'ghtDirW,\x20d'+'LightDirNo'+'rmW)\x20*\x2016.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20att'+'enDiffuse\x20'+'=\x20getSpher'+'eLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20ligh'+'tDirW,\x20dLi'+'ghtDirNorm'+'W)\x20*\x2016.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20one\x20'+'parameter\x20'+'is\x20unused\x20'+'for\x20punctu'+'al\x20lights\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20*=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20vec3('+'0.0),\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20apply\x20th'+'e\x20shadow\x20a'+'ttenuation'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'CASTSHADOW'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x20g'+'etShadow{i'+'}(vec3(0.0'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20shad'+'ow\x20=\x20getSh'+'adow{i}(li'+'ghtDirW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20App')+('ly\x20shadow\x20'+'intensity\x20'+'to\x20the\x20sha'+'dow\x20value\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20=\x20mix'+'(1.0,\x20shad'+'ow,\x20light{'+'i}_shadowI'+'ntensity);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAtten\x20*=\x20'+'shadow;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_SHADOW_'+'CATCHER)\x20&'+'&\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20accum'+'ulate\x20shad'+'ows\x20for\x20di'+'rectional\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ShadowCatc'+'her\x20*=\x20sha'+'dow;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHAPE\x20!=\x20'+'PUNCTUAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20-\x20they\x20do'+'\x20not\x20mix\x20d'+'iffuse\x20lig'+'hting\x20into'+'\x20specular\x20'+'attenuatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20+=\x20('+'(attenDiff'+'use\x20*\x20dAtt'+'en)\x20*\x20ligh'+'tColor)\x20*\x20'+'(1.0\x20-\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(atte'+'nDiffuse\x20*'+'\x20dAtten)\x20*'+'\x20lightColo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20punctua'+'l\x20light\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(AR'+'EA_LIGHTS)'+'\x20&&\x20define'+'d(LIT_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20+=\x20(dAtt'+'en\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20litA'+'rgs_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20+='+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20spec'+'ular\x20light'+'ing\x0a\x20\x20\x20\x20#i'+'fdef\x20LIGHT')+('{i}AFFECT_'+'SPECULARIT'+'Y\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x20//\x20area\x20l'+'ight\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccSpecula'+'rLight\x20+=\x20'+'ccLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_clear'+'coat_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20+=\x20ccLTC'+'SpecFres\x20*'+'\x20getDiskLi'+'ghtSpecula'+'r(litArgs_'+'clearcoat_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#elif\x20L'+'IGHT{i}SHA'+'PE\x20==\x20SPHE'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20+'+'=\x20ccLTCSpe'+'cFres\x20*\x20ge'+'tSphereLig'+'htSpecular'+'(litArgs_c'+'learcoat_w'+'orldNormal'+',\x20dViewDir'+'W)\x20*\x20dAtte'+'n\x20*\x20lightC'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20+='+'\x20dLTCSpecF'+'res\x20*\x20getR'+'ectLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSpe'+'cularLight'+'\x20+=\x20dLTCSp')+('ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20SPHERE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20+=\x20d'+'LTCSpecFre'+'s\x20*\x20getSph'+'ereLightSp'+'ecular(lit'+'Args_world'+'Normal,\x20dV'+'iewDirW)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20punctual'+'\x20light\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20is\x20fres'+'nel\x20needed'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20LI'+'T_FRESNEL_'+'MODEL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20LI'+'GHT{i}FRES'+'NEL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20hal'+'fDirW\x20=\x20no'+'rmalize(-d'+'LightDirNo'+'rmW\x20+\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20if\x20LTC\x20'+'lights\x20are'+'\x20present,\x20'+'specular\x20m'+'ust\x20be\x20acc'+'umulated\x20w'+'ith\x20specul'+'arity\x20(spe'+'cularity\x20i'+'s\x20pre\x20mult'+'iplied\x20by\x20'+'punctual\x20l'+'ight\x20fresn'+'el)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'ghtspecula'+'rCC\x20=\x20getL'+'ightSpecul'+'ar(halfDir'+'W,\x20ccReflD'+'irW,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_clearcoat'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tspecularC'+'C\x20*=\x20getFr'+'esnelCC(do'+'t(dViewDir'+'W,\x20halfDir'+'W));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'+=\x20lightsp'+'ecularCC;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20sSpec'+'ularLight\x20'+'+=\x20getLigh'+'tSpecularS'+'heen(halfD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_sheen_glo'+'ss)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20lightSpec'+'ular\x20=\x20get'+'LightSpecu'+'lar(halfDi'+'rW,\x20dReflD'+'irW,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20dLi'+'ghtDirNorm'+'W,\x20litArgs'+'_gloss,\x20dT'+'BN)\x20*\x20dAtt'+'en\x20*\x20light'+'Color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightSpecu'+'lar\x20*=\x20get'+'Fresnel(do'+'t(dViewDir'+'W,\x20halfDir'+'W),\x20litArg'+'s_gloss,\x20l'+'itArgs_spe'+'cularity,\x20'+'iridescenc'+'eFresnel,\x20'+'litArgs_ir'+'idescence_'+'intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20*=\x20g'+'etFresnel('+'dot(dViewD'+'irW,\x20halfD'+'irW),\x20litA'+'rgs_gloss,'+'\x20litArgs_s')+('pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20lightSp'+'ecular\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20+=\x20light'+'Specular;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a#en'+'dif\x0a'),mP='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20vec3\x20'+'getShadowS'+'ampleCoord'+'{i}(mat4\x20s'+'hadowTrans'+'form,\x20vec4'+'\x20shadowPar'+'ams,\x20vec3\x20'+'worldPosit'+'ion,\x20vec3\x20'+'lightPos,\x20'+'inout\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'vec3\x20norma'+'l)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'urfacePosi'+'tion\x20=\x20wor'+'ldPosition'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT{i}_SHA'+'DOW_SAMPLE'+'_POINT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20len'+'gth(lightD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightDir'+'\x20=\x20surface'+'Position\x20-'+'\x20lightPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20lightD'+'ir;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_S'+'OURCE_ZBUF'+'FER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+('NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_NORMAL_O'+'FFSET\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20distScal'+'e\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20distS'+'cale\x20=\x20abs'+'(dot(vPosi'+'tionW\x20-\x20li'+'ghtPos,\x20li'+'ghtDirNorm'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+'\x20*\x20clamp(1'+'.0\x20-\x20dot(n'+'ormal,\x20-li'+'ghtDirNorm'+'),\x200.0,\x201.'+'0)\x20*\x20distS'+'cale;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20posi'+'tionInShad'+'owSpace\x20=\x20'+'shadowTran'+'sform\x20*\x20ve'+'c4(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM'+'PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20/=\x20po'+'sitionInSh'+'adowSpace.')+('w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20posit'+'ionInShado'+'wSpace.xy\x20'+'/=\x20positio'+'nInShadowS'+'pace.w;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20po'+'sitionInSh'+'adowSpace.'+'z\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20thi'+'s\x20is\x20curre'+'ntly\x20unuse'+'d\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20SHADOW_SA'+'MPLE_Z_BIA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20positionI'+'nShadowSpa'+'ce.z\x20+=\x20ge'+'tShadowBia'+'s(shadowPa'+'rams.x,\x20sh'+'adowParams'+'.z);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20positi'+'onInShadow'+'Space.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20surfaceP'+'osition;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'evaluation'+'\x20function\x0a'+'\x20\x20\x20\x20float\x20'+'getShadow{'+'i}(vec3\x20li'+'ghtDirW)\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20shado'+'w\x20cascades'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_CASCADES'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20sel'+'ect\x20shadow'+'\x20cascade\x20m'+'atrix\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'t\x20cascadeI'+'ndex\x20=\x20get'+'ShadowCasc'+'adeIndex(l'+'ight{i}_sh'+'adowCascad'+'eDistances'+',\x20light{i}'+'_shadowCas'+'cadeCount)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'_SHADOW_CA'+'SCADE_BLEN'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'scadeIndex'+'\x20=\x20ditherS'+'hadowCasca'+'deIndex(ca'+'scadeIndex'+',\x20light{i}'+'_shadowCas'+'cadeDistan'+'ces,\x20light')+('{i}_shadow'+'CascadeCou'+'nt,\x20light{'+'i}_shadowC'+'ascadeBlen'+'d);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mat4'+'\x20shadowMat'+'rix\x20=\x20ligh'+'t{i}_shado'+'wMatrixPal'+'ette[casca'+'deIndex];\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t4\x20shadowM'+'atrix\x20=\x20li'+'ght{i}_sha'+'dowMatrix;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20DIRE'+'CTIONAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20directi'+'onal\x20light'+'\x20does\x20not\x20'+'have\x20a\x20pos'+'ition\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20shadowC'+'oord\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20light'+'{i}_shadow'+'Params,\x20vP'+'ositionW,\x20'+'vec3(0.0),'+'\x20lightDirW'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20shad'+'owCoord\x20=\x20'+'getShadowS'+'ampleCoord'+'{i}(shadow'+'Matrix,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20vPosition'+'W,\x20light{i'+'}_position'+',\x20lightDir'+'W,\x20dLightD'+'irNormW,\x20d'+'VertexNorm'+'alW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Fade\x20di'+'rectional\x20'+'shadow\x20at\x20'+'the\x20far\x20di'+'stance\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadowCoord'+'\x20=\x20fadeSha'+'dow(shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owCascadeD'+'istances);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20--'+'---\x20sample'+'\x20the\x20shado'+'w\x20-----\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20DIR'+'ECTIONAL\x20/'+'/\x20-----\x20di'+'rectional\x20'+'light\x20----')+('-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wVSM16(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x205'+'.54);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20VSM_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowVSM32('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x2015.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCS'+'S_32F\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHAPE'+'\x20!=\x20PUNCTU'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20sh'+'adowSearch'+'Area\x20=\x20vec'+'2(length(l'+'ight{i}_ha'+'lfWidth),\x20'+'length(lig'+'ht{i}_half'+'Height))\x20*'+'\x20light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCSS(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x20light{i}_'+'cameraPara'+'ms,\x20shadow'+'SearchArea'+',\x20lightDir'+'W);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20light{i}'+'_softShado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF1_16'+'F\x20||\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'1_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF3'+'_16F\x20||\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCF3x3(SH'+'ADOWMAP_PA'+'SS(light{i'+'}_shadowMa'+'p),\x20shadow'+'Coord,\x20lig'+'ht{i}_shad'+'owParams);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF5_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF5_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(SHADOWMAP'+'_PASS(ligh'+'t{i}_shado'+'wMap),\x20sha'+'dowCoord,\x20'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20S'+'POT\x20//\x20---'+'--\x20spot\x20li'+'ght\x20-----\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20V'+'SM_16F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potVSM16(S'+'HADOWMAP_P'+'ASS(light{'+'i}_shadowM'+'ap),\x20shado'+'wCoord,\x20li'+'ght{i}_sha'+'dowParams,'+'\x205.54,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowSpo')+('tVSM32(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x201'+'5.0,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCSS_'+'32F\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHAPE\x20!'+'=\x20PUNCTUAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20shad'+'owSearchAr'+'ea\x20=\x20vec2('+'length(lig'+'ht{i}_half'+'Width),\x20le'+'ngth(light'+'{i}_halfHe'+'ight))\x20*\x20l'+'ight{i}_sh'+'adowSearch'+'Area;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(lig'+'ht{i}_shad'+'owSearchAr'+'ea);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotPCSS('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+',\x20light{i}'+'_cameraPar'+'ams,\x20shado'+'wSearchAre'+'a,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF1_1'+'6F\x20||\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowS'+'potPCF1x1('+'SHADOWMAP_'+'PASS(light'+'{i}_shadow'+'Map),\x20shad'+'owCoord,\x20l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(SHA')+('DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F5_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'5x5(SHADOW'+'MAP_PASS(l'+'ight{i}_sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20light{i'+'}_shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x20//\x20'+'-----\x20omni'+'\x20light\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCSS_32F'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P'+'UNCTUAL\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20shadowS'+'earchArea\x20'+'=\x20vec2(len'+'gth(light{'+'i}_halfWid'+'th),\x20lengt'+'h(light{i}'+'_halfHeigh'+'t))\x20*\x20ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2(light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ight{i}_ca'+'meraParams'+',\x20shadowSe'+'archArea,\x20'+'lightDirW)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_')+('32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(SHA'+'DOWMAP_PAS'+'S(light{i}'+'_shadowMap'+'),\x20shadowC'+'oord,\x20ligh'+'t{i}_shado'+'wParams,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF3_16F\x20||'+'\x20LIGHT{i}S'+'HADOWTYPE\x20'+'==\x20PCF3_32'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowOmniPC'+'F3x3(SHADO'+'WMAP_PASS('+'light{i}_s'+'hadowMap),'+'\x20shadowCoo'+'rd,\x20light{'+'i}_shadowP'+'arams,\x20lig'+'htDirW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),_P='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20areaLi'+'ghtsLutTex'+'1;\x0a\x20\x20\x20\x20uni'+'form\x20highp'+'\x20sampler2D'+'\x20areaLight'+'sLutTex2;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCSSPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22shadow'+'SoftPS\x22\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(SH'+'ADOW_KIND_'+'VSM)\x0a\x20\x20\x20\x20#'+'include\x20\x22s'+('hadowEVSMP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_LINEA'+'R\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fall'+'offLinearP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_FAL'+'LOFF_SQUAR'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22fal'+'loffInvSqu'+'aredPS\x22\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20LIT_COD'+'E_LIGHTS_P'+'OINT\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'ightDirPoi'+'ntPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_CODE_'+'LIGHTS_SPO'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22spot'+'PS\x22\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_CODE_CO'+'OKIE\x0a\x20\x20\x20\x20#'+'include\x20\x22c'+'ookiePS\x22\x0a#'+'endif\x0a\x0a//\x20'+'clustered\x20'+'lighting\x0a#'+'ifdef\x20LIT_'+'CLUSTERED_'+'LIGHTS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22clustered'+'LightPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIGHT_'+'COUNT\x20>\x200\x0a'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20genera'+'te\x20shadow\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionSha'+'dowPS,\x20LIG'+'HT_COUNT\x22\x0a'+'\x0a\x20\x20\x20\x20//\x20LO'+'OP\x20-\x20gener'+'ate\x20light\x20'+'evaluation'+'\x20functions'+'\x20for\x20all\x20n'+'on-cluster'+'ed\x20lights\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightF'+'unctionLig'+'htPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a'),gP='\x0avoid\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20vec3\x20li'+'ghtmap,\x20\x0a\x20'+'\x20\x20\x20vec3\x20di'+'r,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20worldNo'+'rmal,\x20\x0a\x20\x20\x20'+'\x20vec3\x20view'+'Dir,\x20\x0a\x20\x20\x20\x20'+'vec3\x20refle'+'ctionDir,\x20'+'\x0a\x20\x20\x20\x20float'+'\x20gloss,\x20\x0a\x20'+'\x20\x20\x20vec3\x20sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20vertexNor'+'mal,\x20\x0a\x20\x20\x20\x20'+'mat3\x20tbn\x0a#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20vec3\x20iri'+'descenceFr'+'esnel,\x20\x0a\x20\x20'+'\x20\x20float\x20ir'+'idescenceI'+'ntensity\x0a#'+'endif\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'rectional\x20'+'lightmap\x0a\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x20&'+'&\x20defined('+'LIT_DIR_LI'+'GHTMAP)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dot(dir,\x20'+'dir)\x20<\x200.0'+'001)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20+=\x20'+'lightmap;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20vligh'+'t\x20=\x20satura'+'te(dot(dir'+',\x20-vertexN'+'ormal));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20fli'+'ght\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20nl'+'ight\x20=\x20(fl'+'ight\x20/\x20max'+'(vlight,\x200'+'.01))\x20*\x200.'+'5;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p\x20*\x20nlight'+'\x20*\x202.0;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20half'+'Dir\x20=\x20norm'+'alize(-dir'+'\x20+\x20viewDir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'specularLi'+'ght\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'*=\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20getFre'+'snel(dot(v'+'iewDir,\x20ha'+'lfDir),\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'loss,\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceInt'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'+=\x20specula'+'rLight;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20non-dire'+'ctional\x20li'+'ghtmap\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'+=\x20lightma'+'p;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),SP='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'vec3\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_d'+'irLightMap'+';\x0a#endif\x0a\x0a'+'void\x20getLi'+'ghtMap()\x20{'+'\x0a\x0a\x20\x20\x20\x20dLig'+'htmap\x20=\x20ve'+'c3(1.0);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_LIGHT'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dLi'+'ghtmap\x20*=\x20'+'{STD_LIGHT'+'_TEXTURE_D'+'ECODE}(tex'+'ture2DBias'+'({STD_LIGH'+'T_TEXTURE_'+'NAME},\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as)).{STD_'+'LIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_LIGHTM'+'AP_DIR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dir\x20=\x20'+'texture2DB'+'ias(textur'+'e_dirLight'+'Map,\x20{STD_'+'LIGHT_TEXT'+'URE_UV},\x20t'+'extureBias'+').xyz\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dir'+'Dot\x20=\x20dot('+'dir,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightm'+'apDir\x20=\x20(d'+'irDot\x20>\x200.'+'001)\x20?\x20dir'+'\x20/\x20sqrt(di'+'rDot)\x20:\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_LIGHT_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dLightma'+'p\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_LIGHT_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a}\x0a',yP='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'float\x20calc'+'LightSpecu'+'lar(float\x20'+'gloss,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20h,\x20vec'+'3\x20lightDir'+'Norm,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20float\x20PI'+'\x20=\x203.14159'+'2653589793'+';\x0a\x20\x20\x20\x20floa'+'t\x20roughnes'+'s\x20=\x20max((1'+'.0\x20-\x20gloss'+')\x20*\x20(1.0\x20-'+'\x20gloss),\x200'+'.001);\x0a\x20\x20\x20'+'\x20float\x20alp'+'haRoughnes'+'s\x20=\x20roughn'+'ess\x20*\x20roug'+'hness;\x0a\x20\x20\x20'+'\x20float\x20ani'+'sotropy\x20=\x20'+'dAnisotrop'+'y;\x0a\x20\x20\x20\x20vec'+'2\x20directio'+'n\x20=\x20dAniso'+'tropyRotat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'float\x20at\x20='+'\x20mix(alpha'+'Roughness,'+'\x201.0,\x20anis'+'otropy\x20*\x20a'+'nisotropy)'+';\x0a\x20\x20\x20\x20floa'+'t\x20ab\x20=\x20cla'+'mp(alphaRo'+'ughness,\x200'+'.001,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20anisotro'+'picT\x20=\x20nor'+'malize(tbn'+'\x20*\x20vec3(di'+'rection,\x200'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicB\x20=\x20'+'normalize('+'cross(tbn['+'2],\x20anisot'+'ropicT));\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20NoH\x20=\x20dot'+'(worldNorm'+'al,\x20h);\x0a\x20\x20'+'\x20\x20float\x20To'+'H\x20=\x20dot(an'+'isotropicT'+',\x20h);\x0a\x20\x20\x20\x20'+'float\x20BoH\x20'+'=\x20dot(anis'+'otropicB,\x20'+'h);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20a2\x20=\x20'+'at\x20*\x20ab;\x0a\x20'+'\x20\x20\x20vec3\x20v\x20'+'=\x20vec3(ab\x20'+'*\x20ToH,\x20at\x20'+'*\x20BoH,\x20a2\x20'+'*\x20NoH);\x0a\x20\x20'+'\x20\x20float\x20v2'+'\x20=\x20dot(v,\x20'+'v);\x0a\x20\x20\x20\x20fl'+'oat\x20w2\x20=\x20a'+'2\x20/\x20v2;\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'ToV\x20=\x20dot('+'anisotropi'+'cT,\x20viewDi'+'r);\x0a\x20\x20\x20\x20fl'+'oat\x20BoV\x20=\x20'+'dot(anisot'+'ropicB,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20float\x20To'+'L\x20=\x20dot(an'+'isotropicT'+(',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20Bo'+'L\x20=\x20dot(an'+'isotropicB'+',\x20-lightDi'+'rNorm);\x0a\x20\x20'+'\x20\x20float\x20No'+'V\x20=\x20dot(wo'+'rldNormal,'+'\x20viewDir);'+'\x0a\x20\x20\x20\x20float'+'\x20NoL\x20=\x20dot'+'(worldNorm'+'al,\x20-light'+'DirNorm);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20lambdaV\x20='+'\x20NoL\x20*\x20len'+'gth(vec3(a'+'t\x20*\x20ToV,\x20a'+'b\x20*\x20BoV,\x20N'+'oV));\x0a\x20\x20\x20\x20'+'float\x20lamb'+'daL\x20=\x20NoV\x20'+'*\x20length(v'+'ec3(at\x20*\x20T'+'oL,\x20ab\x20*\x20B'+'oL,\x20NoL));'+'\x0a\x20\x20\x20\x20float'+'\x20G\x20=\x200.5\x20/'+'\x20(lambdaV\x20'+'+\x20lambdaL)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20D\x20*\x20G;'+'\x0a}\x0a\x0afloat\x20'+'getLightSp'+'ecular(vec'+'3\x20h,\x20vec3\x20'+'reflDir,\x20v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir,'+'\x20vec3\x20ligh'+'tDirNorm,\x20'+'float\x20glos'+'s,\x20mat3\x20tb'+'n)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'LightSpecu'+'lar(gloss,'+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20h,\x20ligh'+'tDirNorm,\x20'+'tbn);\x0a}\x0a'),vP='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afloa'+'t\x20calcLigh'+'tSpecular('+'float\x20glos'+'s,\x20vec3\x20wo'+'rldNormal,'+'\x20vec3\x20h)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20nh\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20specPow\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x20//\x20gloss'+'iness\x20is\x20l'+'inear,\x20pow'+'er\x20is\x20not;'+'\x200\x20-\x202048\x0a'+'\x0a\x20\x20\x20\x20//\x20Ha'+'ck:\x20On\x20Mac'+'\x20OS\x20X,\x20cal'+'ling\x20pow\x20w'+'ith\x20zero\x20f'+'or\x20the\x20exp'+'onent\x20gene'+'rates\x20hide'+'ous\x20artifa'+'cts\x20so\x20bia'+'s\x20up\x20a\x20lit'+'tle\x0a\x20\x20\x20\x20sp'+'ecPow\x20=\x20ma'+'x(specPow,'+'\x200.0001);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20pow(nh,\x20'+'specPow)\x20*'+'\x20(specPow\x20'+'+\x202.0)\x20/\x208'+'.0;\x0a}\x0a\x0aflo'+'at\x20getLigh'+'tSpecular('+'vec3\x20h,\x20ve'+'c3\x20reflDir'+',\x20vec3\x20wor'+'ldNormal,\x20'+'vec3\x20viewD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m,\x20float\x20g'+'loss,\x20mat3'+'\x20tbn)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',xP='\x0a\x0afloat\x20sh'+'eenD(vec3\x20'+'normal,\x20ve'+'c3\x20h,\x20floa'+'t\x20roughnes'+'s)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20PI\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20f'+'loat\x20invR\x20'+'=\x201.0\x20/\x20(r'+'oughness\x20*'+'\x20roughness'+');\x0a\x20\x20\x20\x20flo'+'at\x20cos2h\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20*=\x20'+'cos2h;\x0a\x20\x20\x20'+'\x20float\x20sin'+'2h\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'float\x20shee'+'nV(vec3\x20no'+'rmal,\x20vec3'+'\x20viewDir,\x20'+'vec3\x20light'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20NoV\x20=\x20'+'max(dot(no'+'rmal,\x20view'+'Dir),\x200.00'+'0001);\x0a\x20\x20\x20'+'\x20float\x20NoL'+'\x20=\x20max(dot'+'(normal,\x20l'+'ight),\x200.0'+'00001);\x0a\x20\x20'+'\x20\x20return\x201'+'.0\x20/\x20(4.0\x20'+'*\x20(NoL\x20+\x20N'+'oV\x20-\x20NoL\x20*'+'\x20NoV));\x0a}\x0a'+'\x0afloat\x20get'+'LightSpecu'+'larSheen(v'+'ec3\x20h,\x20vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'irNorm,\x20fl'+'oat\x20sheenG'+'loss)\x20{\x0a\x20\x20'+'\x20\x20float\x20D\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20float\x20V\x20'+'=\x20sheenV(w'+'orldNormal'+',\x20viewDir,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20return\x20D\x20'+'*\x20V;\x0a}\x0a',TP='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afloat\x20lin'+'earizeDept'+'hWithParam'+'s(float\x20z,'+'\x20vec4\x20came'+'raParams)\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'cameraPara'+'ms.w\x20==\x200.'+'0)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20(c'+'ameraParam'+'s.z\x20*\x20came'+'raParams.y'+')\x20/\x20(camer'+'aParams.y\x20'+'+\x20z\x20*\x20(cam'+'eraParams.'+'z\x20-\x20camera'+'Params.y))'+';\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20came'+'raParams.z'+'\x20+\x20z\x20*\x20(ca'+'meraParams'+'.y\x20-\x20camer'+'aParams.z)'+';\x0a}\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec4\x20ca'+'mera_param'+'s;\x20//\x20x:\x201'+'\x20/\x20camera_'+'far,\x20\x20\x20\x20\x20\x20'+'y:\x20camera_'+'far,\x20\x20\x20\x20\x20z'+':\x20camera_n'+'ear,\x20\x20\x20\x20\x20\x20'+'\x20\x20w:\x20is_or'+'tho\x0a#endif'+'\x0a\x0afloat\x20li'+'nearizeDep'+'th(float\x20z'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20linea'+'rizeDepthW'+'ithParams('+'z,\x20camera_'+'params);\x0a}'+'\x0a#endif\x0a',wP='\x0avoid\x20eval'+'uateBacken'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'SSAO\x20durin'+'g\x20lighting'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_SSAO'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ao\x20'+'*=\x20texture'+'2DLod(ssao'+'Texture,\x20g'+'l_FragCoor'+'d.xy\x20*\x20ssa'+'oTextureSi'+'zeInv,\x200.0'+').r;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20transf'+'orm\x20tangen'+'t\x20space\x20no'+'rmals\x20to\x20w'+'orld\x20space'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_NEED'+'S_NORMAL\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etReflDir('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20litArgs_'+'gloss,\x20dTB'+'N);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W\x20=\x20normal'+'ize(-refle'+'ct(dViewDi'+'rW,\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR_OR'+'_REFLECTIO'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20f'+'0\x20=\x201.0\x20/\x20'+'litArgs_io'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20f0\x20=\x20'+'(f0\x20-\x201.0)'+'\x20/\x20(f0\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20f0\x20'+'*=\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20i'+'ridescence'+'Fresnel\x20=\x20'+'getIridesc'+('ence(satur'+'ate(dot(dV'+'iewDirW,\x20l'+'itArgs_wor'+'ldNormal))'+',\x20litArgs_'+'specularit'+'y,\x20litArgs'+'_iridescen'+'ce_thickne'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'mbient\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20addAmbie'+'nt(litArgs'+'_worldNorm'+'al);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20dDiffuse'+'Light\x20*\x20(1'+'.0\x20-\x20litAr'+'gs_specula'+'rity);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20move\x20a'+'mbient\x20col'+'or\x20out\x20of\x20'+'diffuse\x20(u'+'sed\x20by\x20Lig'+'htmapper,\x20'+'to\x20multipl'+'y\x20ambient\x20'+'color\x20by\x20a'+'ccumulated'+'\x20AO)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SEPARA'+'TE_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dA'+'mbientLigh'+'t\x20=\x20dDiffu'+'seLight;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_O'+'LD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20*=\x20mate'+'rial_ambie'+'nt;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OCCLUD'+'E_DIRECT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20occludeDi'+'ffuse(litA'+'rgs_ao);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTMAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'dLightMap('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmap,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_lightmap'+'Dir,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_worl'+'dNormal,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dViewDir'+'W,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dRef'+'lDirW,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('litArgs_gl'+'oss,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dTBN\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_LIGHTING\x20'+'||\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tionCC(ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_glo'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_FRESNE'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccFresne'+'l\x20=\x20getFre'+'snelCC(dot'+'(dViewDirW'+',\x20litArgs_'+'clearcoat_'+'worldNorma'+'l));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccRef'+'lection\x20*='+'\x20ccFresnel'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccFres'+'nel\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20*=\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SH'+'EEN\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'addReflect'+'ionSheen(l'+'itArgs_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20litArgs_s'+'heen_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Fr')+('esnel\x20has\x20'+'to\x20be\x20appl'+'ied\x20to\x20ref'+'lections\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20addReflec'+'tion(dRefl'+'DirW,\x20litA'+'rgs_gloss)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_FRES'+'NEL_MODEL\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dRe'+'flection.r'+'gb\x20*=\x20getF'+'resnel(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_iri'+'descence_i'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.rgb\x20*=\x20'+'litArgs_sp'+'ecularity;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n.rgb\x20*=\x20l'+'itArgs_spe'+'cularityFa'+'ctor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20ARE'+'A_LIGHTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'ar\x20has\x20to\x20'+'be\x20accumul'+'ated\x20diffe'+'rently\x20if\x20'+'we\x20want\x20ar'+'ea\x20lights\x20'+'to\x20look\x20co'+'rrect\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dS'+'pecularLig'+'ht\x20*=\x20litA'+'rgs_specul'+'arity;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20e'+'valuate\x20ma'+'terial\x20bas'+'ed\x20area\x20li'+'ghts\x20data,')+('\x20shared\x20by'+'\x20all\x20area\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20calcLTC'+'LightValue'+'s(litArgs_'+'gloss,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_cl'+'earcoat_gl'+'oss,\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_specul'+'arity);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20LOOP\x20-\x20e'+'valuate\x20al'+'l\x20non-clus'+'tered\x20ligh'+'ts\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'GHT_COUNT\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tEvaluatio'+'nPS,\x20LIGHT'+'_COUNT\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clust'+'ered\x20light'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addClust'+'eredLights'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20dReflDi'+'rW,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_CLEA'+'RCOAT)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20ccReflDir'+'W,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_gl'+'oss,\x20litAr'+'gs_specula'+'rity,\x20dVer'+'texNormalW'+',\x20dTBN,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_worldNo'+'rmal,\x20litA'+'rgs_clearc'+'oat_gloss,'+'\x20litArgs_s'+'heen_gloss'+',\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20AR'+'EA_LIGHTS\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity\x20=\x20ve'+'c3(1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dViewD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'thickness,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_sp'+'ecularity,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_albe'+'do,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_t'+'ransmissio'+'n,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_disp'+'ersion\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_iridesc'+'ence_inten'+'sity\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20ambient'+'\x20occlusion'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_OC')+('CLUDE_DIRE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20occlu'+'deDiffuse('+'litArgs_ao'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIT_OCCLU'+'DE_SPECULA'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeS'+'pecular(li'+'tArgs_glos'+'s,\x20litArgs'+'_ao,\x20litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULARIT'+'Y_FACTOR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20*=\x20litAr'+'gs_specula'+'rityFactor'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20!defined'+'(LIT_OPACI'+'TY_FADES_S'+'PECULAR)\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIT_BLEN'+'D_TYPE\x20==\x20'+'NORMAL\x20||\x20'+'LIT_BLEND_'+'TYPE\x20==\x20PR'+'EMULTIPLIE'+'D\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20specLum\x20='+'\x20dot((dSpe'+'cularLight'+'\x20+\x20dReflec'+'tion.rgb\x20*'+'\x20dReflecti'+'on.a),\x20vec'+'3(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecLum\x20+=\x20'+'dot(ccSpec'+'ularLight\x20'+'*\x20litArgs_'+'clearcoat_'+'specularit'+'y\x20+\x20ccRefl'+'ection\x20*\x20l'+'itArgs_cle'+'arcoat_spe'+'cularity,\x20'+'vec3(\x200.21'+'26,\x200.7152'+',\x200.0722\x20)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_opacity\x20'+'=\x20clamp(li'+'tArgs_opac'+'ity\x20+\x20gamm'+'aCorrectIn'+'put(specLu'+'m),\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_op'+'acity\x20*=\x20m'+'aterial_al'+'phaFade;\x0a\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'nd\x20chunks\x20'+'-\x20when\x20bak'+'ing\x20lightm'+'ap\x0a\x20\x20\x20\x20#if'+'def\x20LIT_LI')+('GHTMAP_BAK'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22bak'+'eLmEndPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_LIGHTM'+'AP_BAKING_'+'DIR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22bake'+'DirLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20en'+'d\x20chunks\x20-'+'\x20in\x20all\x20ot'+'her\x20cases\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22en'+'dPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22outputA'+'lphaPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_MSDF\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_FragColor'+'\x20=\x20applyMs'+'df(gl_Frag'+'Color);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22output'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22de'+'bugOutputP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'HADOW_CATC'+'HER\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20when\x20the'+'\x20shadow\x20ca'+'tcher\x20is\x20e'+'nabled\x20-\x20a'+'ccumulated'+'\x20shadows\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor.'+'rgb\x20=\x20vec3'+'(dShadowCa'+'tcher);\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a'),EP='\x0a\x0a//\x20globa'+'ls\x0avec3\x20sR'+'eflection;'+'\x0avec3\x20dVer'+'texNormalW'+';\x0avec3\x20dTa'+'ngentW;\x0ave'+'c3\x20dBinorm'+'alW;\x0avec3\x20'+'dViewDirW;'+'\x0avec3\x20dRef'+'lDirW;\x0avec'+'3\x20ccReflDi'+'rW;\x0a\x0a//\x20Pe'+'r-light\x20te'+'mporaries\x0a'+'vec3\x20dLigh'+'tDirNormW;'+'\x0afloat\x20dAt'+'ten;\x0a\x0a//\x20O'+'utputs\x0amat'+'3\x20dTBN;\x0ave'+'c4\x20dReflec'+'tion;\x0avec3'+'\x20dDiffuseL'+'ight;\x0avec3'+'\x20dSpecular'+'Light;\x0aflo'+'at\x20ccFresn'+'el;\x0avec3\x20c'+'cReflectio'+'n;\x0avec3\x20cc'+'SpecularLi'+'ght;\x0afloat'+'\x20ccSpecula'+'rityNoFres'+';\x0avec3\x20sSp'+'ecularLigh'+'t;\x0a\x0a//\x20FRA'+'GMENT\x20SHAD'+'ER\x20INPUTS:'+'\x20UNIFORMS\x0a'+'\x0a#ifdef\x20LI'+'T_DISPERSI'+'ON\x0a\x20\x20\x20\x20uni'+'form\x20float'+'\x20material_'+'dispersion'+';\x0a#endif\x0a\x0a'+'#ifndef\x20LI'+'T_OPACITY_'+'FADES_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_alphaFad'+'e;\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_SSAO\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20s'+'saoTexture'+';\x0a\x20\x20\x20\x20unif'+'orm\x20vec2\x20s'+'saoTexture'+'SizeInv;\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20a'+'nd\x20shadowi'+'ng\x20declara'+'tions\x0a\x0a#if'+'def\x20LIT_SH'+'ADOW_CATCH'+'ER\x0a\x20\x20\x20\x20//\x20'+'a\x20variable'+'\x20to\x20accumu'+'late\x20shado'+'ws\x20for\x20sha'+'dow\x20catche'+'r\x20material'+'s\x0a\x20\x20\x20\x20floa'+'t\x20dShadowC'+'atcher\x20=\x201'+'.0;\x0a#endif'+'\x0a\x0a//\x20LOOP\x20'+'-\x20uniform\x20'+'declaratio'+'ns\x20for\x20all'+'\x20non-clust'+'ered\x20light'+'s\x0a#if\x20LIGH'+'T_COUNT\x20>\x20'+'0\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDeclarati'+'onPS,\x20LIGH'+'T_COUNT\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+('\x20#if\x20LIT_F'+'RESNEL_MOD'+'EL\x20==\x20NONE'+'\x20&&\x20!defin'+'ed(LIT_REF'+'LECTIONS)\x20'+'&&\x20!define'+'d(LIT_DIFF'+'USE_MAP)\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'OLD_AMBIEN'+'T\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a//\x20lightm'+'ap\x20baking\x0a'+'#ifdef\x20STD'+'_LIGHTMAP_'+'DIR\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20bakeDir;'+'\x0a#endif\x0a#i'+'fdef\x20LIT_L'+'IGHTMAP_BA'+'KING_ADD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20ambie'+'ntBakeOccl'+'usionContr'+'ast;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20ambient'+'BakeOcclus'+'ionBrightn'+'ess;\x0a#endi'+'f\x0a'),bP='\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4(0'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ccS'+'pecularLig'+'ht\x20=\x20vec3('+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ccReflec'+'tion\x20=\x20vec'+'3(0);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'NONE_SLICE'+'_MODE\x20==\x20S'+'LICED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22startN'+'ineSlicedP'+'S\x22\x0a\x20\x20\x20\x20#el'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20TILE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'startNineS'+'licedTiled'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_NEEDS_NOR'+'MAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dVertexN'+'ormalW\x20=\x20n'+'ormalize(v'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'TANGENTS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_HEI'+'GHTS)\x20||\x20d'+'efined(LIT'+'_USE_NORMA'+'LS)\x20||\x20def'+'ined(LIT_U'+'SE_CLEARCO'+'AT_NORMALS'+')\x20||\x20defin'+'ed(LIT_GGX'+'_SPECULAR)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dTa'+'ngentW\x20=\x20v'+'TangentW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dBin'+'ormalW\x20=\x20v'+'BinormalW;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20getVie'+'wDir();\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_TB'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getTBN'+'(dTangentW'+',\x20dBinorma'+'lW,\x20dVerte'+'xNormalW);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_TWO_S'+'IDED_LIGHT'+'ING\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'handleTwoS'+'idedLighti'+'ng();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20i'+'nvoke\x20fron'+'tend\x20funct'+'ions\x0a\x20\x20\x20\x20e'+'valuateFro'+'ntend();\x0a\x0a'+('\x20\x20\x20\x20#inclu'+'de\x20\x22debugP'+'rocessFron'+'tendPS\x22\x0a\x0a\x20'+'\x20\x20\x20evaluat'+'eBackend()'+';\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a'),AP='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20vec3\x20mate'+'rial_ambie'+'nt;\x0a\x0a#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTING\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightSp'+'ecularAnis'+'oGGXPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22lightS'+'pecularBli'+'nnPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'combinePS\x22'+'\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tmapAddPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'ADD_AMBIEN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ambi'+'entPS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIT_MSDF'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22msdfP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'include\x20\x22v'+'iewDirPS\x22\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flDirAniso'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a//\x20li'+'ghting\x20fun'+'ctionality')+('\x0a#include\x20'+'\x22lightingP'+'S\x22\x0a\x0a'),CP='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',PP='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',MP='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec4\x20ve'+'rtex_color'+';\x0a#endif\x0a\x0a'+'#ifdef\x20NIN'+'ESLICED\x0a\x0a\x20'+'\x20\x20\x20varying'+'\x20vec2\x20vMas'+'k;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'vTiledUv;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mediump'+'\x20vec4\x20inne'+'rOffset;\x0a\x20'+'\x20\x20\x20uniform'+'\x20mediump\x20v'+'ec2\x20outerS'+'cale;\x0a\x20\x20\x20\x20'+'uniform\x20me'+'diump\x20vec4'+'\x20atlasRect'+';\x0a\x0a#endif\x0a'+'\x0avec3\x20dPos'+'itionW;\x0ama'+'t4\x20dModelM'+'atrix;\x0a\x0a#i'+'nclude\x20\x22tr'+'ansformCor'+'eVS\x22\x0a\x0a#ifd'+'ef\x20UV0\x0a\x20\x20\x20'+'\x20attribute'+'\x20vec2\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'c2\x20vertex_'+'texCoord1;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22uv1VS'+'\x22\x0a#endif\x0a\x0a'+'\x0a#ifdef\x20LI'+'NEAR_DEPTH'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20#d'+'efine\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#include\x20\x22'+'transformV'+'S\x22\x0a\x0a#ifdef'+'\x20NORMALS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22normalC'+'oreVS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22normalVS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20TANG'+'ENTS\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_tangent;\x0a'+'#endif\x0a\x0a//'+'\x20expand\x20un'+'iforms\x20for'+'\x20uv\x20transf'+'orms\x0a#incl'+'ude\x20\x22uvTra'+'nsformUnif'+'ormsPS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'#ifdef\x20MSD'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22msdf'+'VS\x22\x0a#endif'+'\x0a\x0a#include'+'\x20\x20\x22litUser'+'CodeVS\x22\x0a\x0av'+'oid\x20main(v'+'oid)\x20{\x0a\x0a\x20\x20'+'\x20\x20#include'+('\x20\x22litUserM'+'ainStartVS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'default\x20po'+'int\x20size\x20t'+'o\x201\x20in\x20cas'+'e\x20the\x20shad'+'er\x20is\x20used'+'\x20with\x20poin'+'ts\x0a\x20\x20\x20\x20gl_'+'PointSize\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20getP'+'osition();'+'\x0a\x20\x20\x20\x20vPosi'+'tionW\x20=\x20ge'+'tWorldPosi'+'tion();\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'NORMALS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vNor'+'malW\x20=\x20get'+'Normal();\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20TANGENT'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vTangentW\x20'+'=\x20normaliz'+'e(dNormalM'+'atrix\x20*\x20ve'+'rtex_tange'+'nt.xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vBi'+'normalW\x20=\x20'+'cross(vNor'+'malW,\x20vTan'+'gentW)\x20*\x20v'+'ertex_tang'+'ent.w;\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(GGX_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3(0,\x201'+',\x200));\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV0\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv0'+'\x20=\x20getUv0('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20UV'+'0_UNMODIFI'+'ED\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv1\x20=\x20ge'+'tUv1();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20UV1_UNM'+'ODIFIED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vUv1\x20=\x20uv1'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20expa'+'nd\x20code\x20fo'+'r\x20uv\x20trans'+'forms\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'uvTransfor'+'mVS,\x20UV_TR'+'ANSFORMS_C'+'OUNT\x22\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20VE'+'RTEX_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition')+(',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vPosi'+'tionW,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20M'+'SDF\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20unpackMs'+'dfParams()'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tUserMainE'+'ndVS\x22\x0a}\x0a'),DP='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PICK'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20g'+'etPickOutp'+'ut();\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20P'+'REPASS_PAS'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20float'+'2vec4(vLin'+'earDepth);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'UserMainEn'+'dPS\x22\x0a}\x0a',IP='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avec3\x20litA'+'rgs_albedo'+';\x0a\x0a//\x20Tran'+'sparency\x0af'+'loat\x20litAr'+'gs_opacity'+';\x0a\x0a//\x20Emis'+'sion\x20color'+'\x0avec3\x20litA'+'rgs_emissi'+'on;\x0a\x0a//\x20No'+'rmal\x20direc'+'tion\x20in\x20wo'+'rld\x20space\x0a'+'vec3\x20litAr'+'gs_worldNo'+'rmal;\x0a\x0a//\x20'+'Ambient\x20oc'+'clusion\x20am'+'ount,\x20rang'+'e\x20[0..1]\x0af'+'loat\x20litAr'+'gs_ao;\x0a\x0a//'+'\x20Light\x20map'+'\x20color\x0avec'+'3\x20litArgs_'+'lightmap;\x0a'+'\x0a//\x20Light\x20'+'map\x20direct'+'ion\x0avec3\x20l'+'itArgs_lig'+'htmapDir;\x0a'+'\x0a//\x20Surfac'+'e\x20metalnes'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_met'+'alness;\x0a\x0a/'+'/\x20The\x20f0\x20s'+'pecularity'+'\x20factor\x0ave'+'c3\x20litArgs'+'_speculari'+'ty;\x0a\x0a//\x20Sp'+'ecularity\x20'+'intensity\x20'+'factor,\x20ra'+'nge\x20[0..1]'+'\x0afloat\x20lit'+'Args_specu'+'larityFact'+'or;\x0a\x0a//\x20Th'+'e\x20microfac'+'et\x20glossin'+'ess\x20factor'+',\x20range\x20[0'+'..1]\x0afloat'+'\x20litArgs_g'+'loss;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_sh'+'een_gloss;'+'\x0a\x0a//\x20The\x20c'+'olor\x20of\x20th'+'e\x20f0\x20specu'+'larity\x20fac'+'tor\x20for\x20th'+'e\x20sheen\x20la'+'yer\x0avec3\x20l'+'itArgs_she'+'en_specula'+'rity;\x0a\x0a//\x20'+'Transmissi'+'on\x20factor\x20'+'(refractio'+'n),\x20range\x20'+'[0..1]\x0aflo'+'at\x20litArgs'+'_transmiss'+'ion;\x0a\x0a//\x20U'+'niform\x20thi'+'ckness\x20of\x20'+'medium,\x20us'+'ed\x20by\x20tran'+'smission,\x20'+'range\x20[0..'+'inf]\x0afloat'+'\x20litArgs_t'+'hickness;\x0a'+'\x0a//\x20Index\x20'+'of\x20refract'+'ion\x0afloat\x20'+('litArgs_io'+'r;\x0a\x0a//\x20Dis'+'persion,\x20r'+'ange\x20[0..1'+']\x20typicall'+'y,\x20but\x20can'+'\x20be\x20higher'+'\x0afloat\x20lit'+'Args_dispe'+'rsion;\x0a\x0a//'+'\x20Iridescen'+'ce\x20effect\x20'+'intensity,'+'\x20range\x20[0.'+'.1]\x0afloat\x20'+'litArgs_ir'+'idescence_'+'intensity;'+'\x0a\x0a//\x20Thick'+'ness\x20of\x20th'+'e\x20iridesce'+'nt\x20microfi'+'lm\x20layer,\x20'+'value\x20is\x20i'+'n\x20nanomete'+'rs,\x20range\x20'+'[0..1000]\x0a'+'float\x20litA'+'rgs_irides'+'cence_thic'+'kness;\x0a\x0a//'+'\x20The\x20norma'+'l\x20used\x20for'+'\x20the\x20clear'+'coat\x20layer'+'\x0avec3\x20litA'+'rgs_clearc'+'oat_worldN'+'ormal;\x0a\x0a//'+'\x20Intensity'+'\x20of\x20the\x20cl'+'earcoat\x20la'+'yer,\x20range'+'\x20[0..1]\x0afl'+'oat\x20litArg'+'s_clearcoa'+'t_specular'+'ity;\x0a\x0a//\x20G'+'lossiness\x20'+'of\x20clearco'+'at\x20layer,\x20'+'range\x20[0..'+'1]\x0afloat\x20l'+'itArgs_cle'+'arcoat_glo'+'ss;\x0a\x0a'),LP='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20float\x20te'+'xtureBias\x20'+'=\x20-1000.0;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20texture'+'Bias;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litShade'+'rArgsPS\x22\x0a',RP='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20vec3\x20v'+'iew_positi'+'on;\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20light_ra'+'dius;\x0a#end'+'if\x0a\x0a#if\x20SH'+'ADOW_TYPE\x20'+'==\x20PCSS_32'+'F\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22line'+'arizeDepth'+'PS\x22\x0a#endif'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'evaluateFr'+'ontend();\x0a'+'\x0a\x20\x20\x20\x20//\x20us'+'ing\x20non-st'+'andard\x20dep'+'th,\x20i.e\x20gl'+'_FragCoord'+'.z\x0a\x20\x20\x20\x20#if'+'def\x20PERSPE'+'CTIVE_DEPT'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20gl_Fra'+'gCoord.z;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20SHADOW_'+'TYPE\x20==\x20PC'+'SS_32F\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot/omn'+'i\x20shadows\x20'+'currently\x20'+'use\x20linear'+'\x20depth.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20TODO:\x20u'+'se\x20perspec'+'tive\x20depth'+'\x20for\x20spot/'+'omni\x20the\x20s'+'ame\x20way\x20as'+'\x20direction'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT_TYPE\x20'+'!=\x20DIRECTI'+'ONAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20depth\x20=\x20l'+'inearizeDe'+'pthWithPar'+'ams(depth,'+'\x20camera_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20min(di'+'stance(vie'+'w_position'+',\x20vPositio'+'nW)\x20/\x20ligh'+'t_radius,\x20'+'0.99999);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20MODI'+'FIED_DEPTH'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20VSM_'+'16F\x20||\x20SHA'+'DOW_TYPE\x20='+'=\x20VSM_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20VSM'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20exponen'+'t\x20=\x2015.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+('t\x20exponent'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20depth\x20=\x20'+'2.0\x20*\x20dept'+'h\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dep'+'th\x20=\x20\x20exp('+'exponent\x20*'+'\x20depth);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(dep'+'th,\x20depth*'+'depth,\x201.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'SHADOW_TYP'+'E\x20==\x20PCSS_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'tore\x20depth'+'\x20into\x20R32\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor.r\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ODIFIED_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20If\x20we\x20e'+'nd\x20up\x20usin'+'g\x20modified'+'\x20depth,\x20it'+'\x20needs\x20to\x20'+'be\x20explici'+'tly\x20writte'+'n\x20to\x20gl_Fr'+'agDepth\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gDepth\x20=\x20d'+'epth;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20just\x20the\x20'+'simplest\x20c'+'ode,\x20color'+'\x20is\x20not\x20wr'+'itten\x20anyw'+'ay\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'vec4(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'}\x0a'),OP='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0amat'+'3\x20transpos'+'eMat3(\x20con'+'st\x20in\x20mat3'+'\x20m\x20)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20tmp;'+'\x0a\x20\x20\x20\x20tmp[\x20'+'0\x20]\x20=\x20vec3'+'(\x20m[\x200\x20].x'+',\x20m[\x201\x20].x'+',\x20m[\x202\x20].x'+'\x20);\x0a\x20\x20\x20\x20tm'+'p[\x201\x20]\x20=\x20v'+'ec3(\x20m[\x200\x20'+'].y,\x20m[\x201\x20'+'].y,\x20m[\x202\x20'+'].y\x20);\x0a\x20\x20\x20'+'\x20tmp[\x202\x20]\x20'+'=\x20vec3(\x20m['+'\x200\x20].z,\x20m['+'\x201\x20].z,\x20m['+'\x202\x20].z\x20);\x0a'+'\x20\x20\x20\x20return'+'\x20tmp;\x0a}\x0a\x0av'+'ec2\x20LTC_Uv'+'(\x20const\x20in'+'\x20vec3\x20N,\x20c'+'onst\x20in\x20ve'+'c3\x20V,\x20cons'+'t\x20in\x20float'+'\x20roughness'+'\x20)\x20{\x0a\x20\x20\x20\x20c'+'onst\x20float'+'\x20LUT_SIZE\x20'+'=\x2064.0;\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20LUT_SC'+'ALE\x20=\x20(\x20LU'+'T_SIZE\x20-\x201'+'.0\x20)\x20/\x20LUT'+'_SIZE;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20LUT_BIA'+'S\x20=\x200.5\x20/\x20'+'LUT_SIZE;\x0a'+'\x20\x20\x20\x20float\x20'+'dotNV\x20=\x20sa'+'turate(\x20do'+'t(\x20N,\x20V\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'texture\x20pa'+'rameterize'+'d\x20by\x20sqrt('+'\x20GGX\x20alpha'+'\x20)\x20and\x20sqr'+'t(\x201\x20-\x20cos'+'(\x20theta\x20)\x20'+')\x0a\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20vec2'+'(\x20roughnes'+'s,\x20sqrt(\x201'+'.0\x20-\x20dotNV'+'\x20)\x20);\x0a\x20\x20\x20\x20'+'uv\x20=\x20uv\x20*\x20'+'LUT_SCALE\x20'+'+\x20LUT_BIAS'+';\x0a\x20\x20\x20\x20retu'+'rn\x20uv;\x0a}\x0a\x0a'+'float\x20LTC_'+'ClippedSph'+'ereFormFac'+'tor(\x20const'+'\x20in\x20vec3\x20f'+'\x20)\x20{\x0a\x20\x20\x20\x20/'+'/\x20Real-Tim'+'e\x20Area\x20Lig'+'hting:\x20a\x20J'+'ourney\x20fro'+'m\x20Research'+'\x20to\x20Produc'+'tion\x20(p.10'+'2)\x0a\x20\x20\x20\x20//\x20'+('An\x20approxi'+'mation\x20of\x20'+'the\x20form\x20f'+'actor\x20of\x20a'+'\x20horizon-c'+'lipped\x20rec'+'tangle.\x0a\x20\x20'+'\x20\x20float\x20l\x20'+'=\x20length(\x20'+'f\x20);\x0a\x20\x20\x20\x20r'+'eturn\x20max('+'\x20(\x20l\x20*\x20l\x20+'+'\x20f.z\x20)\x20/\x20('+'\x20l\x20+\x201.0\x20)'+',\x200.0\x20);\x0a}'+'\x0a\x0avec3\x20LTC'+'_EdgeVecto'+'rFormFacto'+'r(\x20const\x20i'+'n\x20vec3\x20v1,'+'\x20const\x20in\x20'+'vec3\x20v2\x20)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20x\x20=\x20dot('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20float'+'\x20y\x20=\x20abs(\x20'+'x\x20);\x0a\x20\x20\x20\x20/'+'/\x20rational'+'\x20polynomia'+'l\x20approxim'+'ation\x20to\x20t'+'heta\x20/\x20sin'+'(\x20theta\x20)\x20'+'/\x202PI\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'0.8543985\x20'+'+\x20(\x200.4965'+'155\x20+\x200.01'+'45206\x20*\x20y\x20'+')\x20*\x20y;\x0a\x20\x20\x20'+'\x20float\x20b\x20='+'\x203.4175940'+'\x20+\x20(\x204.161'+'6724\x20+\x20y\x20)'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'float\x20v\x20=\x20'+'a\x20/\x20b;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta_sinthet'+'a\x20=\x20(\x20x\x20>\x20'+'0.0\x20)\x20?\x20v\x20'+':\x200.5\x20*\x20in'+'versesqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7\x20)\x20)\x20-\x20'+'v;\x0a\x20\x20\x20\x20ret'+'urn\x20cross('+'\x20v1,\x20v2\x20)\x20'+'*\x20theta_si'+'ntheta;\x0a}\x0a'+'\x0astruct\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'d0;\x0a\x20\x20\x20\x20ve'+'c3\x20coord1;'+'\x0a\x20\x20\x20\x20vec3\x20'+'coord2;\x0a\x20\x20'+'\x20\x20vec3\x20coo'+'rd3;\x0a};\x0a\x0af'+'loat\x20LTC_E'+'valuateRec'+'t(\x20const\x20i'+'n\x20vec3\x20N,\x20'+'const\x20in\x20v'+'ec3\x20V,\x20con'+'st\x20in\x20vec3'+'\x20P,\x20const\x20'+'in\x20mat3\x20mI'+'nv,\x20const\x20'+'in\x20Coords\x20'+'rectCoords'+')\x20{\x0a\x20\x20\x20\x20//'+'\x20bail\x20if\x20p'+'oint\x20is\x20on'+'\x20back\x20side'+'\x20of\x20plane\x20'+'of\x20light\x0a\x20'+'\x20\x20\x20//\x20assu'+'mes\x20ccw\x20wi'+'nding\x20orde'+'r\x20of\x20light'+'\x20vertices\x0a'+'\x20\x20\x20\x20vec3\x20v'+'1\x20=\x20rectCo'+'ords.coord'+'1\x20-\x20rectCo'+'ords.coord'+'0;\x0a\x20\x20\x20\x20vec')+('3\x20v2\x20=\x20rec'+'tCoords.co'+'ord3\x20-\x20rec'+'tCoords.co'+'ord0;\x0a\x20\x20\x20\x20'+'\x0a\x20\x20\x20\x20vec3\x20'+'lightNorma'+'l\x20=\x20cross('+'\x20v1,\x20v2\x20);'+'\x0a\x20\x20\x20\x20//\x20if'+'(\x20dot(\x20lig'+'htNormal,\x20'+'P\x20-\x20rectCo'+'ords.coord'+'0\x20)\x20<\x200.0\x20'+')\x20return\x200'+'.0;\x0a\x20\x20\x20\x20fl'+'oat\x20factor'+'\x20=\x20sign(-d'+'ot(\x20lightN'+'ormal,\x20P\x20-'+'\x20rectCoord'+'s.coord0\x20)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20vec3\x20T1,'+'\x20T2;\x0a\x20\x20\x20\x20T'+'1\x20=\x20normal'+'ize(\x20V\x20-\x20N'+'\x20*\x20dot(\x20V,'+'\x20N\x20)\x20);\x0a\x20\x20'+'\x20\x20T2\x20=\x20\x20fa'+'ctor\x20*\x20cro'+'ss(\x20N,\x20T1\x20'+');\x20//\x20nega'+'ted\x20from\x20p'+'aper;\x20poss'+'ibly\x20due\x20t'+'o\x20a\x20differ'+'ent\x20handed'+'ness\x20of\x20wo'+'rld\x20coordi'+'nate\x20syste'+'m\x0a\x20\x20\x20\x20//\x20c'+'ompute\x20tra'+'nsform\x0a\x20\x20\x20'+'\x20mat3\x20mat\x20'+'=\x20mInv\x20*\x20t'+'ransposeMa'+'t3(\x20mat3(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20transfor'+'m\x20rect\x0a\x20\x20\x20'+'\x20vec3\x20coor'+'ds[\x204\x20];\x0a\x20'+'\x20\x20\x20coords['+'\x200\x20]\x20=\x20mat'+'\x20*\x20(\x20rectC'+'oords.coor'+'d0\x20-\x20P\x20);\x0a'+'\x20\x20\x20\x20coords'+'[\x201\x20]\x20=\x20ma'+'t\x20*\x20(\x20rect'+'Coords.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20coord'+'s[\x202\x20]\x20=\x20m'+'at\x20*\x20(\x20rec'+'tCoords.co'+'ord2\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20coor'+'ds[\x203\x20]\x20=\x20'+'mat\x20*\x20(\x20re'+'ctCoords.c'+'oord3\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20//\x20'+'project\x20re'+'ct\x20onto\x20sp'+'here\x0a\x20\x20\x20\x20c'+'oords[\x200\x20]'+'\x20=\x20normali'+'ze(\x20coords'+'[\x200\x20]\x20);\x0a\x20'+'\x20\x20\x20coords['+'\x201\x20]\x20=\x20nor'+'malize(\x20co'+'ords[\x201\x20]\x20'+');\x0a\x20\x20\x20\x20coo'+'rds[\x202\x20]\x20='+'\x20normalize'+'(\x20coords[\x20'+'2\x20]\x20);\x0a\x20\x20\x20'+'\x20coords[\x203'+'\x20]\x20=\x20norma'+'lize(\x20coor'+'ds[\x203\x20]\x20);')+('\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20ve'+'ctor\x20form\x20'+'factor\x0a\x20\x20\x20'+'\x20vec3\x20vect'+'orFormFact'+'or\x20=\x20vec3('+'\x200.0\x20);\x0a\x20\x20'+'\x20\x20vectorFo'+'rmFactor\x20+'+'=\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[\x200\x20],'+'\x20coords[\x201'+'\x20]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20+=\x20'+'LTC_EdgeVe'+'ctorFormFa'+'ctor(\x20coor'+'ds[\x201\x20],\x20c'+'oords[\x202\x20]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa'+'ctor\x20+=\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[\x202\x20],\x20coo'+'rds[\x203\x20]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20+=\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[\x20'+'3\x20],\x20coord'+'s[\x200\x20]\x20);\x0a'+'\x20\x20\x20\x20//\x20adj'+'ust\x20for\x20ho'+'rizon\x20clip'+'ping\x0a\x20\x20\x20\x20f'+'loat\x20resul'+'t\x20=\x20LTC_Cl'+'ippedSpher'+'eFormFacto'+'r(\x20vectorF'+'ormFactor\x20'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20resul'+'t;\x0a}\x0a\x0aCoor'+'ds\x20dLTCCoo'+'rds;\x0aCoord'+'s\x20getLTCLi'+'ghtCoords('+'vec3\x20light'+'Pos,\x20vec3\x20'+'halfWidth,'+'\x20vec3\x20half'+'Height){\x0a\x20'+'\x20\x20\x20Coords\x20'+'coords;\x0a\x20\x20'+'\x20\x20coords.c'+'oord0\x20=\x20li'+'ghtPos\x20+\x20h'+'alfWidth\x20-'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord1'+'\x20=\x20lightPo'+'s\x20-\x20halfWi'+'dth\x20-\x20half'+'Height;\x0a\x20\x20'+'\x20\x20coords.c'+'oord2\x20=\x20li'+'ghtPos\x20-\x20h'+'alfWidth\x20+'+'\x20halfHeigh'+'t;\x0a\x20\x20\x20\x20coo'+'rds.coord3'+'\x20=\x20lightPo'+'s\x20+\x20halfWi'+'dth\x20+\x20half'+'Height;\x0a\x20\x20'+'\x20\x20return\x20c'+'oords;\x0a}\x0a\x0a'+'float\x20dSph'+'ereRadius;'+'\x0aCoords\x20ge'+'tSphereLig'+'htCoords(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight){\x0a\x20\x20'+'\x20\x20//\x20used\x20'+'for\x20simple'+'\x20sphere\x20li')+('ght\x20fallof'+'f\x0a\x20\x20\x20\x20//\x20a'+'lso,\x20the\x20c'+'ode\x20only\x20h'+'andles\x20a\x20s'+'pherical\x20l'+'ight,\x20it\x20c'+'annot\x20be\x20n'+'on-uniform'+'ly\x20scaled\x20'+'in\x20world\x20s'+'pace,\x20and\x20'+'so\x20we\x20enfo'+'rce\x20it\x20her'+'e\x0a\x20\x20\x20\x20dSph'+'ereRadius\x20'+'=\x20max(leng'+'th(halfWid'+'th),\x20lengt'+'h(halfHeig'+'ht));\x0a\x0a\x20\x20\x20'+'\x20//\x20Billbo'+'ard\x20the\x202d'+'\x20light\x20qua'+'d\x20to\x20refle'+'ction\x20vect'+'or,\x20as\x20it\x27'+'s\x20used\x20for'+'\x20specular.'+'\x20This\x20allo'+'ws\x20us\x20to\x20u'+'se\x20disk\x20ma'+'th\x20for\x20the'+'\x20sphere.\x0a\x20'+'\x20\x20\x20vec3\x20f\x20'+'=\x20reflect('+'normalize('+'lightPos\x20-'+'\x20view_posi'+'tion),\x20vNo'+'rmalW);\x0a\x20\x20'+'\x20\x20vec3\x20w\x20='+'\x20normalize'+'(cross(f,\x20'+'halfHeight'+'));\x0a\x20\x20\x20\x20ve'+'c3\x20h\x20=\x20nor'+'malize(cro'+'ss(f,\x20w));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20getLTCL'+'ightCoords'+'(lightPos,'+'\x20w\x20*\x20dSphe'+'reRadius,\x20'+'h\x20*\x20dSpher'+'eRadius);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20LTC\x20L'+'UT\x20texture'+'\x20lookup\x0ave'+'c2\x20dLTCUV;'+'\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20vec2'+'\x20ccLTCUV;\x0a'+'#endif\x0a\x0ave'+'c2\x20getLTCL'+'ightUV(flo'+'at\x20gloss,\x20'+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+')\x0a{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20max('+'(1.0\x20-\x20glo'+'ss)\x20*\x20(1.0'+'\x20-\x20gloss),'+'\x200.001);\x0a\x20'+'\x20\x20\x20return\x20'+'LTC_Uv(\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'roughness\x20'+');\x0a}\x0a\x0a//\x20u'+'sed\x20for\x20en'+'ergy\x20conse'+'rvation\x20an'+'d\x20to\x20modul'+'ate\x20specul'+'ar\x0avec3\x20dL'+'TCSpecFres'+';\x0a#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20vec'+'3\x20ccLTCSpe'+'cFres;\x0a#en'+'dif\x0a\x0avec3\x20'+'getLTCLigh')+('tSpecFres('+'vec2\x20uv,\x20v'+'ec3\x20specul'+'arity)\x0a{\x0a\x20'+'\x20\x20\x20vec4\x20t2'+'\x20=\x20texture'+'2DLod(area'+'LightsLutT'+'ex2,\x20uv,\x200'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20spec'+'ularity\x20*\x20'+'t2.x\x20+\x20(\x20v'+'ec3(\x201.0\x20)'+'\x20-\x20specula'+'rity)\x20*\x20t2'+'.y;\x0a}\x0a\x0avoi'+'d\x20calcLTCL'+'ightValues'+'(float\x20glo'+'ss,\x20vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20speculari'+'ty,\x20float\x20'+'clearcoatG'+'loss,\x20vec3'+'\x20clearcoat'+'WorldNorma'+'l,\x20float\x20c'+'learcoatSp'+'ecularity)'+'\x0a{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x20\x0a\x0a#ifdef\x20'+'LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20cc'+'LTCUV\x20=\x20ge'+'tLTCLightU'+'V(clearcoa'+'tGloss,\x20cl'+'earcoatWor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20ccLTCS'+'pecFres\x20=\x20'+'getLTCLigh'+'tSpecFres('+'ccLTCUV,\x20v'+'ec3(clearc'+'oatSpecula'+'rity));\x0a#e'+'ndif\x0a}\x0a\x0avo'+'id\x20calcRec'+'tLightValu'+'es(vec3\x20li'+'ghtPos,\x20ve'+'c3\x20halfWid'+'th,\x20vec3\x20h'+'alfHeight)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0avoid\x20c'+'alcDiskLig'+'htValues(v'+'ec3\x20lightP'+'os,\x20vec3\x20h'+'alfWidth,\x20'+'vec3\x20halfH'+'eight)\x20{\x0a\x20'+'\x20\x20\x20calcRec'+'tLightValu'+'es(lightPo'+'s,\x20halfWid'+'th,\x20halfHe'+'ight);\x0a}\x0av'+'oid\x20calcSp'+'hereLightV'+'alues(vec3'+'\x20lightPos,'+'\x20vec3\x20half'+'Width,\x20vec'+'3\x20halfHeig'+'ht)\x20{\x0a\x20\x20\x20\x20')+('dLTCCoords'+'\x20=\x20getSphe'+'reLightCoo'+'rds(lightP'+'os,\x20halfWi'+'dth,\x20halfH'+'eight);\x0a}\x0a'+'\x0a//\x20An\x20ext'+'ended\x20vers'+'ion\x20of\x20the'+'\x20implement'+'ation\x20from'+'\x20\x22How\x20to\x20s'+'olve\x20a\x20cub'+'ic\x20equatio'+'n,\x20revisit'+'ed\x22\x0a//\x20htt'+'p://moment'+'singraphic'+'s.de/?p=10'+'5\x0avec3\x20Sol'+'veCubic(ve'+'c4\x20Coeffic'+'ient)\x0a{\x0a\x20\x20'+'\x20\x20float\x20pi'+'\x20=\x203.14159'+';\x0a\x20\x20\x20\x20//\x20N'+'ormalize\x20t'+'he\x20polynom'+'ial\x0a\x20\x20\x20\x20Co'+'efficient.'+'xyz\x20/=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20//\x20D'+'ivide\x20midd'+'le\x20coeffic'+'ients\x20by\x20t'+'hree\x0a\x20\x20\x20\x20C'+'oefficient'+'.yz\x20/=\x203.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20A\x20=\x20Coe'+'fficient.w'+';\x0a\x20\x20\x20\x20floa'+'t\x20B\x20=\x20Coef'+'ficient.z;'+'\x0a\x20\x20\x20\x20float'+'\x20C\x20=\x20Coeff'+'icient.y;\x0a'+'\x20\x20\x20\x20float\x20'+'D\x20=\x20Coeffi'+'cient.x;\x0a\x0a'+'\x20\x20\x20\x20//\x20Com'+'pute\x20the\x20H'+'essian\x20and'+'\x20the\x20discr'+'iminant\x0a\x20\x20'+'\x20\x20vec3\x20Del'+'ta\x20=\x20vec3('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20-'+'Coefficien'+'t.z\x20*\x20Coef'+'ficient.z\x20'+'+\x20Coeffici'+'ent.y,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20-Coef'+'ficient.y\x20'+'*\x20Coeffici'+'ent.z\x20+\x20Co'+'efficient.'+'x,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dot(vec2('+'Coefficien'+'t.z,\x20-Coef'+'ficient.y)'+',\x20Coeffici'+'ent.xy)\x0a\x20\x20'+'\x20\x20);\x0a\x0a\x20\x20\x20\x20'+'float\x20Disc'+'riminant\x20='+'\x20dot(vec2('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20vec2\x20xlc'+',\x20xsc;\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20A\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_a'+'\x20=\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20C_a\x20=\x20De'+'lta.x;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20D_a\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20')+('\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20Theta\x20'+'=\x20atan(sqr'+'t(Discrimi'+'nant),\x20-D_'+'a)\x20/\x203.0;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20x_1a\x20'+'=\x202.0\x20*\x20sq'+'rt(-C_a)\x20*'+'\x20cos(Theta'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20x_3'+'a\x20=\x202.0\x20*\x20'+'sqrt(-C_a)'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20x'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20((x_1a'+'\x20+\x20x_3a)\x20>'+'\x202.0\x20*\x20B)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xl\x20=\x20x_1'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'\x20=\x20x_3a;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20xl'+'c\x20=\x20vec2(x'+'l\x20-\x20B,\x20A);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20Algor'+'ithm\x20D\x0a\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20A_d'+'\x20=\x20D;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'C_d\x20=\x20Delt'+'a.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20D'+'_d\x20=\x20-D\x20*\x20'+'Delta.y\x20+\x20'+'2.0\x20*\x20C\x20*\x20'+'Delta.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20Take\x20the\x20'+'cubic\x20root'+'\x20of\x20a\x20norm'+'alized\x20com'+'plex\x20numbe'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20Thet'+'a\x20=\x20atan(D'+'\x20*\x20sqrt(Di'+'scriminant'+'),\x20-D_d)\x20/'+'\x203.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20x_1d\x20=\x202.'+'0\x20*\x20sqrt(-'+'C_d)\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20x_3d\x20=\x20'+'2.0\x20*\x20sqrt'+'(-C_d)\x20*\x20c'+'os(Theta\x20+'+'\x20(2.0\x20/\x203.'+'0)\x20*\x20pi);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20xs;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(x_1d\x20+\x20x_'+'3d\x20<\x202.0\x20*'+'\x20C)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20xs\x20='+'\x20x_1d;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20xs\x20=\x20x_3'+'d;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20xsc\x20=\x20ve'+'c2(-D,\x20xs\x20'+'+\x20C);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20flo'+'at\x20E\x20=\x20\x20xl'+'c.y\x20*\x20xsc.'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20F\x20=\x20-xl'+'c.x\x20*\x20xsc.'+'y\x20-\x20xlc.y\x20')+('*\x20xsc.x;\x0a\x20'+'\x20\x20\x20float\x20G'+'\x20=\x20\x20xlc.x\x20'+'*\x20xsc.x;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20x'+'mc\x20=\x20vec2('+'C\x20*\x20F\x20-\x20B\x20'+'*\x20G,\x20-B\x20*\x20'+'F\x20+\x20C\x20*\x20E)'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20Root\x20=\x20v'+'ec3(xsc.x\x20'+'/\x20xsc.y,\x20x'+'mc.x\x20/\x20xmc'+'.y,\x20xlc.x\x20'+'/\x20xlc.y);\x0a'+'\x0a\x20\x20\x20\x20if\x20(R'+'oot.x\x20<\x20Ro'+'ot.y\x20&&\x20Ro'+'ot.x\x20<\x20Roo'+'t.z)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root.xy'+'z\x20=\x20Root.y'+'xz;\x0a\x20\x20\x20\x20el'+'se\x20if\x20(Roo'+'t.z\x20<\x20Root'+'.x\x20&&\x20Root'+'.z\x20<\x20Root.'+'y)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root.xyz\x20'+'=\x20Root.xzy'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20Root;\x0a'+'}\x0a\x0afloat\x20L'+'TC_Evaluat'+'eDisk(vec3'+'\x20N,\x20vec3\x20V'+',\x20vec3\x20P,\x20'+'mat3\x20Minv,'+'\x20Coords\x20po'+'ints)\x0a{\x0a\x20\x20'+'\x20\x20//\x20const'+'ruct\x20ortho'+'normal\x20bas'+'is\x20around\x20'+'N\x0a\x20\x20\x20\x20vec3'+'\x20T1\x20=\x20norm'+'alize(V\x20-\x20'+'N\x20*\x20dot(V,'+'\x20N));\x0a\x20\x20\x20\x20'+'vec3\x20T2\x20=\x20'+'cross(N,\x20T'+'1);\x0a\x0a\x20\x20\x20\x20/'+'/\x20rotate\x20a'+'rea\x20light\x20'+'in\x20(T1,\x20T2'+',\x20N)\x20basis'+'\x0a\x20\x20\x20\x20//mat'+'3\x20R\x20=\x20tran'+'spose(mat3'+'(T1,\x20T2,\x20N'+'));\x0a\x20\x20\x20\x20ma'+'t3\x20R\x20=\x20tra'+'nsposeMat3'+'(\x20mat3(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'polygon\x20(a'+'llocate\x205\x20'+'vertices\x20f'+'or\x20clippin'+'g)\x0a\x20\x20\x20\x20vec'+'3\x20L_[\x203\x20];'+'\x0a\x20\x20\x20\x20L_[\x200'+'\x20]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[\x20'+'1\x20]\x20=\x20R\x20*\x20'+'(\x20points.c'+'oord1\x20-\x20P\x20'+');\x0a\x20\x20\x20\x20L_['+'\x202\x20]\x20=\x20R\x20*'+'\x20(\x20points.'+'coord2\x20-\x20P'+'\x20);\x0a\x0a\x20\x20\x20\x20/'+'/\x20init\x20ell'+'ipse\x0a\x20\x20\x20\x20v'+'ec3\x20C\x20\x20=\x200'+'.5\x20*\x20(L_[0'+']\x20+\x20L_[2])'+';\x0a\x20\x20\x20\x20vec3'+'\x20V1\x20=\x200.5\x20'+'*\x20(L_[1]\x20-'+'\x20L_[2]);\x0a\x20'+'\x20\x20\x20vec3\x20V2'+'\x20=\x200.5\x20*\x20('+'L_[1]\x20-\x20L_'+'[0]);\x0a\x0a\x20\x20\x20'+'\x20C\x20\x20=\x20Minv')+('\x20*\x20C;\x0a\x20\x20\x20\x20'+'V1\x20=\x20Minv\x20'+'*\x20V1;\x0a\x20\x20\x20\x20'+'V2\x20=\x20Minv\x20'+'*\x20V2;\x0a\x0a\x20\x20\x20'+'\x20//if(dot('+'cross(V1,\x20'+'V2),\x20C)\x20>\x20'+'0.0)\x0a\x20\x20\x20\x20/'+'/\x20\x20\x20\x20retur'+'n\x200.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20compu'+'te\x20eigenve'+'ctors\x20of\x20e'+'llipse\x0a\x20\x20\x20'+'\x20float\x20a,\x20'+'b;\x0a\x20\x20\x20\x20flo'+'at\x20d11\x20=\x20d'+'ot(V1,\x20V1)'+';\x0a\x20\x20\x20\x20floa'+'t\x20d22\x20=\x20do'+'t(V2,\x20V2);'+'\x0a\x20\x20\x20\x20float'+'\x20d12\x20=\x20dot'+'(V1,\x20V2);\x0a'+'\x20\x20\x20\x20if\x20(ab'+'s(d12)\x20/\x20s'+'qrt(d11\x20*\x20'+'d22)\x20>\x200.0'+'001)\x0a\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20tr\x20=\x20'+'d11\x20+\x20d22;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20det\x20='+'\x20-d12\x20*\x20d1'+'2\x20+\x20d11\x20*\x20'+'d22;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20use'+'\x20sqrt\x20matr'+'ix\x20to\x20solv'+'e\x20for\x20eige'+'nvalues\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20det\x20'+'=\x20sqrt(det'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20u\x20='+'\x200.5\x20*\x20sqr'+'t(tr\x20-\x202.0'+'\x20*\x20det);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20v\x20=\x200.5'+'\x20*\x20sqrt(tr'+'\x20+\x202.0\x20*\x20d'+'et);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20e'+'_max\x20=\x20(u\x20'+'+\x20v)\x20*\x20(u\x20'+'+\x20v);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'e_min\x20=\x20(u'+'\x20-\x20v)\x20*\x20(u'+'\x20-\x20v);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20V1_,\x20V2_;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(d11\x20>\x20'+'d22)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12\x20*\x20V'+'1\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20V2_\x20'+'=\x20d12\x20*\x20V1'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20V1'+'_\x20=\x20d12*V2'+'\x20+\x20(e_max\x20'+'-\x20d22)*V1;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20V2_\x20=\x20d'+'12*V2\x20+\x20(e'+'_min\x20-\x20d22'+')*V1;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20e_max'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'b\x20=\x201.0\x20/\x20'+'e_min;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V1\x20=\x20'+'normalize('+'V1_);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20V2\x20=\x20n'+'ormalize(V'+'2_);\x0a\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20else\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20dot(V1'+',\x20V1);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20b\x20=\x201'+'.0\x20/\x20dot(V'+'2,\x20V2);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20V1\x20*'+'=\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20*=\x20sqrt('+'b);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'V3\x20=\x20norma'+'lize(cross'+'(V1,\x20V2));'+'\x0a\x20\x20\x20\x20if\x20(d'+'ot(C,\x20V3)\x20'+'<\x200.0)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20V3\x20*='+'\x20-1.0;\x0a\x0a\x20\x20'+'\x20\x20float\x20L\x20'+'\x20=\x20dot(V3,'+'\x20C);\x0a\x20\x20\x20\x20f'+'loat\x20x0\x20=\x20'+'dot(V1,\x20C)'+'\x20/\x20L;\x0a\x20\x20\x20\x20'+'float\x20y0\x20='+'\x20dot(V2,\x20C'+')\x20/\x20L;\x0a\x0a\x20\x20'+'\x20\x20float\x20E1'+'\x20=\x20inverse'+'sqrt(a);\x0a\x20'+'\x20\x20\x20float\x20E'+'2\x20=\x20invers'+'esqrt(b);\x0a'+'\x0a\x20\x20\x20\x20a\x20*=\x20'+'L\x20*\x20L;\x0a\x20\x20\x20'+'\x20b\x20*=\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20c0\x20=\x20a'+'\x20*\x20b;\x0a\x20\x20\x20\x20'+'float\x20c1\x20='+'\x20a\x20*\x20b\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0\x20+\x20y0\x20*'+'\x20y0)\x20-\x20a\x20-'+'\x20b;\x0a\x20\x20\x20\x20fl'+'oat\x20c2\x20=\x201'+'.0\x20-\x20a\x20*\x20('+'1.0\x20+\x20x0\x20*'+'\x20x0)\x20-\x20b\x20*'+'\x20(1.0\x20+\x20y0'+'\x20*\x20y0);\x0a\x20\x20'+'\x20\x20float\x20c3'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ro'+'ots\x20=\x20Solv'+'eCubic(vec'+'4(c0,\x20c1,\x20'+'c2,\x20c3));\x0a'+'\x20\x20\x20\x20float\x20'+'e1\x20=\x20roots'+'.x;\x0a\x20\x20\x20\x20fl'+'oat\x20e2\x20=\x20r'+'oots.y;\x0a\x20\x20'+'\x20\x20float\x20e3'+'\x20=\x20roots.z'+';\x0a\x0a\x20\x20\x20\x20vec'+'3\x20avgDir\x20='+'\x20vec3(a\x20*\x20'+'x0\x20/\x20(a\x20-\x20'+'e2),\x20b\x20*\x20y'+'0\x20/\x20(b\x20-\x20e'+'2),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20mat3\x20'+'rotate\x20=\x20m'+'at3(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20L1\x20=\x20sqrt'+'(-e2\x20/\x20e3)'+';\x0a\x20\x20\x20\x20floa'+'t\x20L2\x20=\x20sqr'+'t(-e2\x20/\x20e1'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20formFa'+'ctor\x20=\x20max'+'(0.0,\x20L1\x20*'+'\x20L2\x20*\x20inve')+('rsesqrt((1'+'.0\x20+\x20L1\x20*\x20'+'L1)\x20*\x20(1.0'+'\x20+\x20L2\x20*\x20L2'+')));\x0a\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20const\x20'+'float\x20LUT_'+'SIZE\x20=\x2064.'+'0;\x0a\x20\x20\x20\x20con'+'st\x20float\x20L'+'UT_SCALE\x20='+'\x20(\x20LUT_SIZ'+'E\x20-\x201.0\x20)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20float\x20LU'+'T_BIAS\x20=\x200'+'.5\x20/\x20LUT_S'+'IZE;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20tab'+'ulated\x20hor'+'izon-clipp'+'ed\x20sphere\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v\x20=\x20vec2(a'+'vgDir.z\x20*\x20'+'0.5\x20+\x200.5,'+'\x20formFacto'+'r);\x0a\x20\x20\x20\x20uv'+'\x20=\x20uv*LUT_'+'SCALE\x20+\x20LU'+'T_BIAS;\x0a\x0a\x20'+'\x20\x20\x20float\x20s'+'cale\x20=\x20tex'+'ture2DLod('+'areaLights'+'LutTex2,\x20u'+'v,\x200.0).w;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20formFac'+'tor*scale;'+'\x0a}\x0a\x0a//\x20LTC'+'_EvaluateD'+'isk\x20in\x20som'+'e\x20rare\x20cas'+'es\x20generea'+'tes\x20NaN\x20va'+'lues\x20in\x20a\x20'+'or\x20b,\x20just'+'\x20before\x20\x27f'+'loat\x20c0\x20=\x20'+'a\x20*\x20b;\x27\x0a//'+'\x20Get\x20rid\x20o'+'f\x20those\x20Na'+'n\x20values\x20b'+'efore\x20they'+'\x20propagate'+'\x20further,\x20'+'as\x20in\x20case'+'\x20of\x20bloom\x20'+'/\x20DOF\x20blur'+'s\x20they\x0a//\x20'+'propagate\x20'+'to\x20large\x20a'+'reas.\x20I\x20di'+'dn\x27t\x20find\x20'+'the\x20actual'+'\x20reason\x20wh'+'ere\x20those\x20'+'come\x20from,'+'\x20so\x20that\x20i'+'s\x20still\x20TO'+'DO.\x0a//\x20Not'+'e\x20that\x20onl'+'y\x20disk/sph'+'ere\x20lights'+'\x20are\x20causi'+'ng\x20it,\x20so\x20'+'only\x20handl'+'e\x20those.\x0af'+'loat\x20FixNa'+'n(float\x20va'+'lue)\x20{\x0a\x20\x20\x20'+'\x20#ifdef\x20WE'+'BGPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'value\x20!=\x20v'+'alue\x20?\x200.0'+'\x20:\x20value;\x20'+'\x20//\x20isnan\x20'+'does\x20not\x20t'+'ranspile\x20c'+'orrectly,\x20'+'use\x20a\x20work'+'around\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20isnan(va'+'lue)\x20?\x200.0'+'\x20:\x20value;\x0a')+('\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afloat\x20'+'getRectLig'+'htDiffuse('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir'+',\x20vec3\x20lig'+'htDir,\x20vec'+'3\x20lightDir'+'Norm)\x20{\x0a\x20\x20'+'\x20\x20return\x20L'+'TC_Evaluat'+'eRect(\x20wor'+'ldNormal,\x20'+'viewDir,\x20v'+'PositionW,'+'\x20mat3(\x201.0'+'\x20),\x20dLTCCo'+'ords\x20);\x0a}\x0a'+'\x0afloat\x20get'+'DiskLightD'+'iffuse(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20v'+'ec3\x20lightD'+'ir,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20FixN'+'an(LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mat3('+'\x201.0\x20),\x20dL'+'TCCoords\x20)'+');\x0a}\x0a\x0afloa'+'t\x20getSpher'+'eLightDiff'+'use(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec3'+'\x20lightDir,'+'\x20vec3\x20ligh'+'tDirNorm)\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20float\x20fa'+'lloff\x20=\x20dS'+'phereRadiu'+'s\x20/\x20(dot(l'+'ightDir,\x20l'+'ightDir)\x20+'+'\x20dSphereRa'+'dius);\x0a\x20\x20\x20'+'\x20return\x20Fi'+'xNan(getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNorm)\x20*\x20f'+'alloff);\x0a}'+'\x0a\x0amat3\x20get'+'LTCLightIn'+'vMat(vec2\x20'+'uv)\x0a{\x0a\x20\x20\x20\x20'+'vec4\x20t1\x20=\x20'+'texture2DL'+'od(areaLig'+'htsLutTex1'+',\x20uv,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20mat3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3(\x20t1.x,\x20'+'0,\x20t1.y\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3(\x20\x20\x20\x200,'+'\x201,\x20\x20\x20\x200\x20)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3(\x20t1.z'+',\x200,\x20t1.w\x20'+')\x0a\x20\x20\x20\x20);\x0a}'+'\x0a\x0afloat\x20ca'+'lcRectLigh'+'tSpecular('+'vec3\x20world'+'Normal,\x20ve'+'c3\x20viewDir')+(',\x20vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20mat'+'3\x20mInv\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afl'+'oat\x20getRec'+'tLightSpec'+'ular(vec3\x20'+'worldNorma'+'l,\x20vec3\x20vi'+'ewDir)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'calcRectLi'+'ghtSpecula'+'r(worldNor'+'mal,\x20viewD'+'ir,\x20dLTCUV'+');\x0a}\x0a\x0afloa'+'t\x20calcDisk'+'LightSpecu'+'lar(vec3\x20w'+'orldNormal'+',\x20vec3\x20vie'+'wDir,\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20mat3\x20mInv'+'\x20=\x20getLTCL'+'ightInvMat'+'(uv);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_EvaluateD'+'isk(\x20world'+'Normal,\x20vi'+'ewDir,\x20vPo'+'sitionW,\x20m'+'Inv,\x20dLTCC'+'oords\x20);\x0a}'+'\x0a\x0afloat\x20ge'+'tDiskLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a\x0a'+'float\x20getS'+'phereLight'+'Specular(v'+'ec3\x20worldN'+'ormal,\x20vec'+'3\x20viewDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcDi'+'skLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir,\x20dL'+'TCUV);\x0a}\x0a'),FP='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_metaln'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tMetalness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20metal'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20metalness'+'\x20*=\x20materi'+'al_metalne'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20metalne'+'ss\x20*=\x20text'+'ure2DBias('+'{STD_METAL'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_METAL'+'NESS_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+'.{STD_META'+'LNESS_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_VERTEX\x0a\x20\x20'+'\x20\x20metalnes'+'s\x20*=\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_METALNES'+'S_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dMet'+'alness\x20=\x20m'+'etalness;\x0a'+'}\x0a',NP='\x0auniform\x20s'+'ampler2D\x20t'+'exture_msd'+'fMap;\x0a\x0aflo'+'at\x20median('+'float\x20r,\x20f'+'loat\x20g,\x20fl'+'oat\x20b)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'max(min(r,'+'\x20g),\x20min(m'+'ax(r,\x20g),\x20'+'b));\x0a}\x0a\x0afl'+'oat\x20map\x20(f'+'loat\x20min,\x20'+'float\x20max,'+'\x20float\x20v)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20(v\x20-\x20mi'+'n)\x20/\x20(max\x20'+'-\x20min);\x0a}\x0a'+'\x0auniform\x20f'+'loat\x20font_'+'sdfIntensi'+'ty;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20float\x20f'+'ont_pxrang'+'e;\x20\x20\x20\x20\x20\x20//'+'\x20the\x20numbe'+'r\x20of\x20pixel'+'s\x20between\x20'+'inside\x20and'+'\x20outside\x20t'+'he\x20font\x20in'+'\x20SDF\x0aunifo'+'rm\x20float\x20f'+'ont_textur'+'eWidth;\x20//'+'\x20the\x20width'+'\x20of\x20the\x20te'+'xture\x20atla'+'s\x0a\x0a#ifndef'+'\x20LIT_MSDF_'+'TEXT_ATTRI'+'BUTE\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20shadow_co'+'lor;\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20shadow_o'+'ffset;\x0a#el'+'se\x0a\x20\x20\x20\x20var'+'ying\x20vec4\x20'+'outline_co'+'lor;\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20outline'+'_thickness'+';\x0a\x20\x20\x20\x20vary'+'ing\x20vec4\x20s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20var'+'ying\x20vec2\x20'+'shadow_off'+'set;\x0a#endi'+'f\x0a\x0avec4\x20ap'+'plyMsdf(ve'+'c4\x20color)\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Convert\x20to'+'\x20linear\x20sp'+'ace\x20before'+'\x20processin'+'g\x0a\x20\x20\x20\x20//\x20T'+'ODO:\x20ideal'+'ly\x20this\x20wo'+'uld\x20receiv'+'e\x20the\x20colo'+'r\x20in\x20linea'+'r\x20space,\x20b'+'ut\x20that\x20wo'+'uld\x20requir'+'e\x20larger\x20c'+'hanges\x0a\x20\x20\x20'+('\x20//\x20on\x20the'+'\x20engine\x20si'+'de,\x20with\x20t'+'he\x20way\x20pre'+'multiplied'+'\x20alpha\x20is\x20'+'handled\x20as'+'\x20well.\x0a\x20\x20\x20'+'\x20color.rgb'+'\x20=\x20gammaCo'+'rrectInput'+'(color.rgb'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20sample\x20th'+'e\x20field\x0a\x20\x20'+'\x20\x20vec3\x20tsa'+'mple\x20=\x20tex'+'ture2D(tex'+'ture_msdfM'+'ap,\x20vUv0).'+'rgb;\x0a\x20\x20\x20\x20v'+'ec2\x20uvShdw'+'\x20=\x20vUv0\x20-\x20'+'shadow_off'+'set;\x0a\x20\x20\x20\x20v'+'ec3\x20ssampl'+'e\x20=\x20textur'+'e2D(textur'+'e_msdfMap,'+'\x20uvShdw).r'+'gb;\x0a\x0a\x20\x20\x20\x20/'+'/\x20get\x20the\x20'+'signed\x20dis'+'tance\x20valu'+'e\x0a\x20\x20\x20\x20floa'+'t\x20sigDist\x20'+'=\x20median(t'+'sample.r,\x20'+'tsample.g,'+'\x20tsample.b'+');\x0a\x20\x20\x20\x20flo'+'at\x20sigDist'+'Shdw\x20=\x20med'+'ian(ssampl'+'e.r,\x20ssamp'+'le.g,\x20ssam'+'ple.b);\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20limi'+'t\x20-\x20smalle'+'r\x20value\x20ma'+'kes\x20for\x20sh'+'arper\x20but\x20'+'more\x20alias'+'ed\x20text,\x20e'+'specially\x20'+'on\x20angles\x0a'+'\x20\x20\x20\x20//\x20too'+'\x20large\x20val'+'ue\x20(0.5)\x20c'+'reates\x20a\x20d'+'ark\x20glow\x20a'+'round\x20the\x20'+'letters\x0a\x20\x20'+'\x20\x20float\x20sm'+'oothingMax'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20vec'+'2\x20w\x20=\x20fwid'+'th(vUv0);\x0a'+'\x20\x20\x20\x20float\x20'+'smoothing\x20'+'=\x20clamp(w.'+'x\x20*\x20font_t'+'extureWidt'+'h\x20/\x20font_p'+'xrange,\x200.'+'0,\x20smoothi'+'ngMax);\x0a\x0a\x20'+'\x20\x20\x20float\x20m'+'apMin\x20=\x200.'+'05;\x0a\x20\x20\x20\x20fl'+'oat\x20mapMax'+'\x20=\x20clamp(1'+'.0\x20-\x20font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20float\x20')+('sigDistInn'+'er\x20=\x20map(m'+'apMin,\x20map'+'Max,\x20sigDi'+'st);\x0a\x20\x20\x20\x20f'+'loat\x20sigDi'+'stOutline\x20'+'=\x20map(mapM'+'in,\x20mapMax'+',\x20sigDist\x20'+'+\x20outline_'+'thickness)'+';\x0a\x20\x20\x20\x20sigD'+'istShdw\x20=\x20'+'map(mapMin'+',\x20mapMax,\x20'+'sigDistShd'+'w\x20+\x20outlin'+'e_thicknes'+'s);\x0a\x0a\x20\x20\x20\x20f'+'loat\x20cente'+'r\x20=\x200.5;\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20smoo'+'thing\x20and\x20'+'use\x20to\x20gen'+'erate\x20opac'+'ity\x0a\x20\x20\x20\x20fl'+'oat\x20inside'+'\x20=\x20smooths'+'tep(center'+'-smoothing'+',\x20center+s'+'moothing,\x20'+'sigDistInn'+'er);\x0a\x20\x20\x20\x20f'+'loat\x20outli'+'ne\x20=\x20smoot'+'hstep(cent'+'er-smoothi'+'ng,\x20center'+'+smoothing'+',\x20sigDistO'+'utline);\x0a\x20'+'\x20\x20\x20float\x20s'+'hadow\x20=\x20sm'+'oothstep(c'+'enter-smoo'+'thing,\x20cen'+'ter+smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20vec4\x20t'+'color\x20=\x20(o'+'utline\x20>\x20i'+'nside)\x20?\x20o'+'utline\x20*\x20v'+'ec4(outlin'+'e_color.a\x20'+'*\x20outline_'+'color.rgb,'+'\x20outline_c'+'olor.a)\x20:\x20'+'vec4(0.0);'+'\x0a\x20\x20\x20\x20tcolo'+'r\x20=\x20mix(tc'+'olor,\x20colo'+'r,\x20inside)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20scolor\x20='+'\x20(shadow\x20>'+'\x20outline)\x20'+'?\x20shadow\x20*'+'\x20vec4(shad'+'ow_color.a'+'\x20*\x20shadow_'+'color.rgb,'+'\x20shadow_co'+'lor.a)\x20:\x20t'+'color;\x0a\x20\x20\x20'+'\x20tcolor\x20=\x20'+'mix(scolor'+',\x20tcolor,\x20'+'outline);\x0a'+'\x0a\x20\x20\x20\x20//\x20Co'+'nvert\x20back'+'\x20to\x20gamma\x20'+'space\x20befo'+'re\x20returni'+'ng\x0a\x20\x20\x20\x20tco'+'lor.rgb\x20=\x20'+'gammaCorre'+'ctOutput(t'+'color.rgb)'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20return\x20tc'+'olor;\x0a}\x0a'),kP='\x0a\x0avec3\x20get'+'SpecularMo'+'dulate(in\x20'+'vec3\x20specu'+'larity,\x20in'+'\x20vec3\x20albe'+'do,\x20in\x20flo'+'at\x20metalne'+'ss,\x20in\x20flo'+'at\x20f0)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20di'+'electricF0'+'\x20=\x20f0\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(diel'+'ectricF0,\x20'+'albedo,\x20me'+'talness);\x0a'+'}\x0a\x0avec3\x20ge'+'tAlbedoMod'+'ulate(in\x20v'+'ec3\x20albedo'+',\x20in\x20float'+'\x20metalness'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20albed'+'o\x20*\x20(1.0\x20-'+'\x20metalness'+');\x0a}\x0a',UP='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20vec2\x20u'+'v0;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2DArra'+'y\x20morphTex'+'ture;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20float\x20'+'morphFacto'+'r[{MORPH_T'+'EXTURE_MAX'+'_COUNT}];\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20ui'+'nt\x20morphIn'+'dex[{MORPH'+'_TEXTURE_M'+'AX_COUNT}]'+';\x0a\x20\x20\x20\x20unif'+'orm\x20int\x20co'+'unt;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PH_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec3\x20aa'+'bbSize;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20vec3\x20a'+'abbMin;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20void\x20m'+'ain\x20(void)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20highp\x20vec'+'3\x20color\x20=\x20'+'vec3(0,\x200,'+'\x200);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'pixelCoord'+'s\x20=\x20ivec2('+'uv0\x20*\x20vec2'+'(textureSi'+'ze(morphTe'+'xture,\x200).'+'xy));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20count;\x20'+'i++)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'int\x20textur'+'eIndex\x20=\x20m'+'orphIndex['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20delta\x20=\x20t'+'exelFetch('+'morphTextu'+'re,\x20ivec3('+'pixelCoord'+'s,\x20int(tex'+'tureIndex)'+'),\x200).xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20color\x20+'+'=\x20morphFac'+'tor[i]\x20*\x20d'+'elta;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20MORPH_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20color\x20'+'=\x20(color\x20-'+'\x20aabbMin)\x20'+'/\x20aabbSize'+'\x20*\x2065535.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20u'+'vec4(color'+',\x201u);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gl_Frag'+'Color\x20=\x20ve'+'c4(color,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20}\x0a',BP='\x0a\x20\x20\x20\x20attri'+'bute\x20vec2\x20'+'vertex_pos'+'ition;\x0a\x20\x20\x20'+'\x20varying\x20v'+'ec2\x20uv0;\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion,\x200.5,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'vertex_pos'+'ition.xy\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20}\x0a',zP='\x0aattribute'+'\x20vec3\x20vert'+'ex_outline'+'Parameters'+';\x0aattribut'+'e\x20vec3\x20ver'+'tex_shadow'+'Parameters'+';\x0a\x0avarying'+'\x20vec4\x20outl'+'ine_color;'+'\x0avarying\x20f'+'loat\x20outli'+'ne_thickne'+'ss;\x0avaryin'+'g\x20vec4\x20sha'+'dow_color;'+'\x0avarying\x20v'+'ec2\x20shadow'+'_offset;\x0a\x0a'+'void\x20unpac'+'kMsdfParam'+'s()\x20{\x0a\x20\x20\x20\x20'+'vec3\x20littl'+'e\x20=\x20mod(ve'+'rtex_outli'+'neParamete'+'rs,\x20256.);'+'\x0a\x20\x20\x20\x20vec3\x20'+'big\x20=\x20(ver'+'tex_outlin'+'eParameter'+'s\x20-\x20little'+')\x20/\x20256.;\x0a'+'\x0a\x20\x20\x20\x20outli'+'ne_color.r'+'b\x20=\x20little'+'.xy\x20/\x20255.'+';\x0a\x20\x20\x20\x20outl'+'ine_color.'+'ga\x20=\x20big.x'+'y\x20/\x20255.;\x0a'+'\x0a\x20\x20\x20\x20//\x20_o'+'utlineThic'+'knessScale'+'\x20===\x200.2\x0a\x20'+'\x20\x20\x20outline'+'_thickness'+'\x20=\x20little.'+'z\x20/\x20255.\x20*'+'\x200.2;\x0a\x0a\x20\x20\x20'+'\x20little\x20=\x20'+'mod(vertex'+'_shadowPar'+'ameters,\x202'+'56.);\x0a\x20\x20\x20\x20'+'big\x20=\x20(ver'+'tex_shadow'+'Parameters'+'\x20-\x20little)'+'\x20/\x20256.;\x0a\x0a'+'\x20\x20\x20\x20shadow'+'_color.rb\x20'+'=\x20little.x'+'y\x20/\x20255.;\x0a'+'\x20\x20\x20\x20shadow'+'_color.ga\x20'+'=\x20big.xy\x20/'+'\x20255.;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+'ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20shado'+'w_offset\x20='+'\x20(vec2(lit'+'tle.z,\x20big'+'.z)\x20/\x20127.'+'\x20-\x201.)\x20*\x200'+'.005;\x0a}\x0a',VP='\x0amat3\x20dNor'+'malMatrix;'+'\x0a\x0avec3\x20get'+'Normal()\x20{'+'\x0a\x20\x20\x20\x20dNorm'+'alMatrix\x20='+'\x20getNormal'+'Matrix(dMo'+'delMatrix)'+';\x0a\x20\x20\x20\x20vec3'+'\x20localNorm'+'al\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}\x0a',GP='\x0a\x0aattribut'+'e\x20vec3\x20ver'+'tex_normal'+';\x0a\x0auniform'+'\x20mat3\x20matr'+'ix_normal;'+'\x0a\x0a#ifdef\x20M'+'ORPHING_NO'+'RMAL\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20highp'+'\x20usampler2'+'D\x20morphNor'+'malTex;\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'morphNorma'+'lTex;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0avec3\x20'+'getLocalNo'+'rmal(vec3\x20'+'vertexNorm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20vec3\x20loca'+'lNormal\x20=\x20'+'vertex_nor'+'mal;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_NORM'+'AL\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ivec2\x20mo'+'rphUV\x20=\x20ge'+'tTextureMo'+'rphCoords('+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_IN'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'orphNormal'+'\x20=\x20vec3(te'+'xelFetch(m'+'orphNormal'+'Tex,\x20ivec2'+'(morphUV),'+'\x200).xyz)\x20/'+'\x2065535.0\x20*'+'\x202.0\x20-\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphNo'+'rmal\x20=\x20tex'+'elFetch(mo'+'rphNormalT'+'ex,\x20ivec2('+'morphUV),\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20localNor'+'mal\x20+=\x20mor'+'phNormal;\x0a'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20localN'+'ormal;\x0a}\x0a\x0a'+'#if\x20define'+'d(SKIN)\x20||'+'\x20defined(B'+'ATCH)\x0a\x20\x20\x20\x20'+'mat3\x20getNo'+'rmalMatrix'+'(mat4\x20mode'+'lMatrix)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mat3'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20ma'+'t3\x20getNorm'+'alMatrix(m'+'at4\x20modelM'+'atrix)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20mat3(m'+'odelMatrix'+'[0].xyz,\x20m'+('odelMatrix'+'[1].xyz,\x20m'+'odelMatrix'+'[2].xyz);\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20mat3'+'\x20getNormal'+'Matrix(mat'+'4\x20modelMat'+'rix)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_n'+'ormal;\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'),HP='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mater'+'ial_bumpin'+'ess;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_NORMAL'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20materia'+'l_normalDe'+'tailMapBum'+'piness;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20bl'+'endNormals'+'(vec3\x20n1,\x20'+'vec3\x20n2)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20https://'+'blog.selfs'+'hadow.com/'+'publicatio'+'ns/blendin'+'g-in-detai'+'l/#detail-'+'oriented\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20n1\x20'+'+=\x20vec3(0,'+'\x200,\x201);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20n2\x20*'+'=\x20vec3(-1,'+'\x20-1,\x201);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20n1\x20*\x20d'+'ot(n1,\x20n2)'+'\x20/\x20n1.z\x20-\x20'+'n2;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0avo'+'id\x20getNorm'+'al()\x20{\x0a#if'+'def\x20STD_NO'+'RMAL_TEXTU'+'RE\x0a\x20\x20\x20\x20vec'+'3\x20normalMa'+'p\x20=\x20{STD_N'+'ORMAL_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_NORMAL_TE'+'XTURE_NAME'+'},\x20{STD_NO'+'RMAL_TEXTU'+'RE_UV},\x20te'+'xtureBias)'+');\x0a\x20\x20\x20\x20nor'+'malMap\x20=\x20m'+'ix(vec3(0.'+'0,\x200.0,\x201.'+'0),\x20normal'+'Map,\x20mater'+'ial_bumpin'+'ess);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMALDE'+'TAIL_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20norm'+'alDetailMa'+'p\x20=\x20{STD_N'+'ORMALDETAI'+'L_TEXTURE_'+'DECODE}(te'+'xture2DBia'+'s({STD_NOR'+'MALDETAIL_'+'TEXTURE_NA'+'ME},\x20{STD_'+'NORMALDETA'+'IL_TEXTURE'+'_UV},\x20text'+'ureBias));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20n'+'ormalDetai'+'lMap\x20=\x20mix'+'(vec3(0.0,'+'\x200.0,\x201.0)'+',\x20normalDe'+'tailMap,\x20m'+'aterial_no'+'rmalDetail'+'MapBumpine'+'ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20blend'+'Normals(no'+'rmalMap,\x20n'+('ormalDetai'+'lMap);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20normal'+'ize(dTBN\x20*'+'\x20normalMap'+');\x0a#else\x0a\x20'+'\x20\x20\x20dNormal'+'W\x20=\x20dVerte'+'xNormalW;\x0a'+'#endif\x0a}\x0a'),WP='\x0auniform\x20f'+'loat\x20mater'+'ial_opacit'+'y;\x0a\x0avoid\x20g'+'etOpacity('+')\x20{\x0a\x20\x20\x20\x20dA'+'lpha\x20=\x20mat'+'erial_opac'+'ity;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_OPACITY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20dAlpha\x20*='+'\x20texture2D'+'Bias({STD_'+'OPACITY_TE'+'XTURE_NAME'+'},\x20{STD_OP'+'ACITY_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20*=\x20c'+'lamp(vVert'+'exColor.{S'+'TD_OPACITY'+'_VERTEX_CH'+'ANNEL},\x200.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',$P='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20vec4\x20b'+'lueNoiseJi'+'tter;\x0a\x0a#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BLUENOI'+'SE\x0a\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20blueN'+'oiseTex32;'+'\x0a#endif\x0a\x0av'+'oid\x20opacit'+'yDither(fl'+'oat\x20alpha,'+'\x20float\x20id)'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20STD_OPACI'+'TY_DITHER\x20'+'==\x20BAYER8\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'loat\x20noise'+'\x20=\x20bayer8('+'floor(mod('+'gl_FragCoo'+'rd.xy\x20+\x20bl'+'ueNoiseJit'+'ter.xy\x20+\x20i'+'d,\x208.0)))\x20'+'/\x2064.0;\x0a\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20BLUENO'+'ISE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20uv\x20=\x20frac'+'t(gl_FragC'+'oord.xy\x20/\x20'+'32.0\x20+\x20blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20noise\x20=\x20t'+'exture2DLo'+'d(blueNois'+'eTex32,\x20uv'+',\x200.0).y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20==\x20'+'IGNNOISE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20based\x20'+'on\x20https:/'+'/www.iryok'+'u.com/next'+'-generatio'+'n-post-pro'+'cessing-in'+'-call-of-d'+'uty-advanc'+'ed-warfare'+'/\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20m'+'agic\x20=\x20vec'+'3(0.067110'+'56,\x200.0058'+'3715,\x2052.9'+'829189);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20noi'+'se\x20=\x20fract'+'(magic.z\x20*'+'\x20fract(dot'+'(gl_FragCo'+'ord.xy\x20+\x20b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id,\x20magic.'+'xy)));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20convert\x20'+'the\x20noise\x20'+'to\x20linear\x20'+'space,\x20as\x20'+'that\x20is\x20sp'+'ecified\x20in'+('\x20sRGB\x20spac'+'e\x20(stores\x20'+'perceptual'+'\x20values)\x0a\x20'+'\x20\x20\x20noise\x20='+'\x20pow(noise'+',\x202.2);\x0a\x0a\x20'+'\x20\x20\x20if\x20(alp'+'ha\x20<\x20noise'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a}'+'\x0a'),XP='\x0a',qP='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20gl_Fr'+'agColor.a\x20'+'=\x20litArgs_'+'opacity;\x0a\x0a'+'#elif\x20LIT_'+'BLEND_TYPE'+'\x20==\x20PREMUL'+'TIPLIED\x0a\x0a\x20'+'\x20\x20\x20gl_Frag'+'Color.rgb\x20'+'*=\x20litArgs'+'_opacity;\x0a'+'\x20\x20\x20\x20gl_Fra'+'gColor.a\x20='+'\x20litArgs_o'+'pacity;\x0a\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or.a\x20=\x201.0'+';\x0a\x0a#endif\x0a',jP='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20s'+'ampler2D\x20s'+'ource;\x0a\x0avo'+'id\x20main(vo'+'id)\x20{\x0a\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20textu'+'re2D(sourc'+'e,\x20vUv0);\x0a'+'}\x0a',YP='\x0a\x0auniform\x20'+'vec3\x20mater'+'ial_sheen;'+'\x0a\x0avoid\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20vec3\x20s'+'heenColor\x20'+'=\x20material'+'_sheen;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEEN_'+'TEXTURE\x0a\x20\x20'+'\x20\x20sheenCol'+'or\x20*=\x20{STD'+'_SHEEN_TEX'+'TURE_DECOD'+'E}(texture'+'2DBias({ST'+'D_SHEEN_TE'+'XTURE_NAME'+'},\x20{STD_SH'+'EEN_TEXTUR'+'E_UV},\x20tex'+'tureBias))'+'.{STD_SHEE'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_VERTEX\x0a'+'\x20\x20\x20\x20sheenC'+'olor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20sSpec'+'ularity\x20=\x20'+'sheenColor'+';\x0a}\x0a',KP='\x0auniform\x20f'+'loat\x20mater'+'ial_sheenG'+'loss;\x0a\x0avoi'+'d\x20getSheen'+'Glossiness'+'()\x20{\x0a\x20\x20\x20\x20f'+'loat\x20sheen'+'Glossiness'+'\x20=\x20materia'+'l_sheenGlo'+'ss;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20*'+'=\x20texture2'+'DBias({STD'+'_SHEENGLOS'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_SHEENGLO'+'SS_TEXTURE'+'_UV},\x20text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20*='+'\x20saturate('+'vVertexCol'+'or.{STD_SH'+'EENGLOSS_V'+'ERTEX_CHAN'+'NEL});\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_INVER'+'T\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x201.0\x20-\x20'+'sheenGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20sGlossi'+'ness\x20=\x20she'+'enGlossine'+'ss\x20+\x200.000'+'0001;\x0a}\x0a',ZP='\x0auniform\x20f'+'loat\x20mater'+'ial_height'+'MapFactor;'+'\x0a\x0avoid\x20get'+'Parallax()'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20paralla'+'xScale\x20=\x20m'+'aterial_he'+'ightMapFac'+'tor;\x0a\x0a\x20\x20\x20\x20'+'float\x20heig'+'ht\x20=\x20textu'+'re2DBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_UV},'+'\x20textureBi'+'as).{STD_H'+'EIGHT_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20he'+'ight\x20=\x20hei'+'ght\x20*\x20para'+'llaxScale\x20'+'-\x20parallax'+'Scale\x20*\x200.'+'5;\x0a\x20\x20\x20\x20vec'+'3\x20viewDirT'+'\x20=\x20dViewDi'+'rW\x20*\x20dTBN;'+'\x0a\x0a\x20\x20\x20\x20view'+'DirT.z\x20+=\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',QP='\x0auniform\x20u'+'int\x20meshIn'+'stanceId;\x0a'+'\x0avec4\x20getP'+'ickOutput('+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20vec4\x20i'+'nv\x20=\x20vec4('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20co'+'nst\x20uvec4\x20'+'shifts\x20=\x20u'+'vec4(16,\x208'+',\x200,\x2024);\x0a'+'\x20\x20\x20\x20uvec4\x20'+'col\x20=\x20(uve'+'c4(meshIns'+'tanceId)\x20>'+'>\x20shifts)\x20'+'&\x20uvec4(0x'+'ff);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'(col)\x20*\x20in'+'v;\x0a}\x0a',JP='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20dR'+'eflDirW\x20=\x20'+'normalize('+'-reflect(v'+'iewDir,\x20wo'+'rldNormal)'+');\x0a}\x0a',e2='\x0avoid\x20getR'+'eflDir(vec'+'3\x20worldNor'+'mal,\x20vec3\x20'+'viewDir,\x20f'+'loat\x20gloss'+',\x20mat3\x20tbn'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20roughn'+'ess\x20=\x20sqrt'+'(1.0\x20-\x20min'+'(gloss,\x201.'+'0));\x0a\x0a\x20\x20\x20\x20'+'vec2\x20direc'+'tion\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicT\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3(directi'+'on,\x200.0));'+'\x0a\x20\x20\x20\x20vec3\x20'+'anisotropi'+'cB\x20=\x20norma'+'lize(cross'+'(tbn[2],\x20a'+'nisotropic'+'T));\x0a\x0a\x20\x20\x20\x20'+'float\x20anis'+'otropy\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20vec3'+'\x20anisotrop'+'icDirectio'+'n\x20=\x20anisot'+'ropicB;\x0a\x20\x20'+'\x20\x20vec3\x20ani'+'sotropicTa'+'ngent\x20=\x20cr'+'oss(anisot'+'ropicDirec'+'tion,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'vec3\x20aniso'+'tropicNorm'+'al\x20=\x20cross'+'(anisotrop'+'icTangent,'+'\x20anisotrop'+'icDirectio'+'n);\x0a\x20\x20\x20\x20fl'+'oat\x20bendFa'+'ctor\x20=\x201.0'+'\x20-\x20anisotr'+'opy\x20*\x20(1.0'+'\x20-\x20roughne'+'ss);\x0a\x20\x20\x20\x20f'+'loat\x20bendF'+'actor4\x20=\x20b'+'endFactor\x20'+'*\x20bendFact'+'or\x20*\x20bendF'+'actor\x20*\x20be'+'ndFactor;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'entNormal\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}\x0a',t2='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0avoid\x20add'+'Reflection'+'CC(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20ccRe'+'flection\x20+'+'=\x20calcRefl'+'ection(ref'+'lDir,\x20glos'+'s);\x0a}\x0a#end'+'if\x0a',s2='\x0auniform\x20s'+'amplerCube'+'\x20texture_c'+'ubeMap;\x0aun'+'iform\x20floa'+'t\x20material'+'_reflectiv'+'ity;\x0a\x0avec3'+'\x20calcRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20lookup'+'Vec\x20=\x20cube'+'MapProject'+'(reflDir);'+'\x0a\x20\x20\x20\x20looku'+'pVec.x\x20*=\x20'+'-1.0;\x0a\x20\x20\x20\x20'+'return\x20{re'+'flectionDe'+'code}(text'+'ureCube(te'+'xture_cube'+'Map,\x20looku'+'pVec));\x0a}\x0a'+'\x0avoid\x20addR'+'eflection('+'vec3\x20reflD'+'ir,\x20float\x20'+'gloss)\x20{\x20\x20'+'\x20\x0a\x20\x20\x20\x20dRef'+'lection\x20+='+'\x20vec4(calc'+'Reflection'+'(reflDir,\x20'+'gloss),\x20ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',i2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_envAtlas;'+'\x0a#endif\x0aun'+'iform\x20samp'+'lerCube\x20te'+'xture_cube'+'Map;\x0aunifo'+'rm\x20float\x20m'+'aterial_re'+'flectivity'+';\x0a\x0avec3\x20ca'+'lcReflecti'+'on(vec3\x20re'+'flDir,\x20flo'+'at\x20gloss)\x20'+'{\x0a\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20cub'+'eMapProjec'+'t(reflDir)'+'\x20*\x20vec3(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20t'+'oSpherical'+'Uv(dir);\x0a\x0a'+'\x20\x20\x20\x20//\x20cal'+'culate\x20rou'+'ghness\x20lev'+'el\x0a\x20\x20\x20\x20flo'+'at\x20level\x20='+'\x20saturate('+'1.0\x20-\x20glos'+'s)\x20*\x205.0;\x0a'+'\x20\x20\x20\x20float\x20'+'ilevel\x20=\x20f'+'loor(level'+');\x0a\x20\x20\x20\x20flo'+'at\x20flevel\x20'+'=\x20level\x20-\x20'+'ilevel;\x0a\x0a\x20'+'\x20\x20\x20vec3\x20sh'+'arp\x20=\x20{ref'+'lectionCub'+'emapDecode'+'}(textureC'+'ube(textur'+'e_cubeMap,'+'\x20dir));\x0a\x20\x20'+'\x20\x20vec3\x20rou'+'ghA\x20=\x20{ref'+'lectionDec'+'ode}(textu'+'re2D(textu'+'re_envAtla'+'s,\x20mapRoug'+'hnessUv(uv'+',\x20ilevel))'+');\x0a\x20\x20\x20\x20vec'+'3\x20roughB\x20='+'\x20{reflecti'+'onDecode}('+'texture2D('+'texture_en'+'vAtlas,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20proc'+'essEnviron'+'ment(mix(s'+'harp,\x20mix('+'roughA,\x20ro'+'ughB,\x20flev'+'el),\x20min(l'+'evel,\x201.0)'+'));\x0a}\x0a\x0avoi'+'d\x20addRefle'+'ction(vec3'+'\x20reflDir,\x20'+'float\x20glos'+'s)\x20{\x20\x20\x20\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20+=\x20vec'+'4(calcRefl'+'ection(ref'+'lDir,\x20glos'+'s),\x20materi'+'al_reflect'+'ivity);\x0a}\x0a',r2='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_env'+'Atlas;\x0a#en'+'dif\x0aunifor'+'m\x20float\x20ma'+'terial_ref'+'lectivity;'+'\x0a\x0a//\x20calcu'+'late\x20mip\x20l'+'evel\x20for\x20s'+'hiny\x20refle'+'ction\x20give'+'n\x20equirect'+'\x20coords\x20uv'+'.\x0afloat\x20sh'+'inyMipLeve'+'l(vec2\x20uv)'+'\x20{\x0a\x20\x20\x20\x20vec'+'2\x20dx\x20=\x20dFd'+'x(uv);\x0a\x20\x20\x20'+'\x20vec2\x20dy\x20='+'\x20dFdy(uv);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20s'+'econd\x20dF\x20a'+'t\x20180\x20degr'+'ees\x0a\x20\x20\x20\x20ve'+'c2\x20uv2\x20=\x20v'+'ec2(fract('+'uv.x\x20+\x200.5'+'),\x20uv.y);\x0a'+'\x20\x20\x20\x20vec2\x20d'+'x2\x20=\x20dFdx('+'uv2);\x0a\x20\x20\x20\x20'+'vec2\x20dy2\x20='+'\x20dFdy(uv2)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'calculate\x20'+'min\x20of\x20bot'+'h\x20sets\x20of\x20'+'dF\x20to\x20hand'+'le\x20discont'+'inuity\x20at\x20'+'the\x20azim\x20e'+'dge\x0a\x20\x20\x20\x20fl'+'oat\x20maxd\x20='+'\x20min(max(d'+'ot(dx,\x20dx)'+',\x20dot(dy,\x20'+'dy)),\x20max('+'dot(dx2,\x20d'+'x2),\x20dot(d'+'y2,\x20dy2)))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'0.5\x20*\x20log2'+'(maxd)\x20-\x201'+'.0\x20+\x20textu'+'reBias,\x200.'+'0,\x205.0);\x0a}'+'\x0a\x0avec3\x20cal'+'cReflectio'+'n(vec3\x20ref'+'lDir,\x20floa'+'t\x20gloss)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3(-1.'+'0,\x201.0,\x201.'+'0);\x0a\x20\x20\x20\x20ve'+'c2\x20uv\x20=\x20to'+'SphericalU'+'v(dir);\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20roug'+'hness\x20leve'+'l\x0a\x20\x20\x20\x20floa'+'t\x20level\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20float\x20i'+'level\x20=\x20fl'+'oor(level)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'accessing\x20'+'the\x20shiny\x20'+'(top\x20level'+')\x20reflecti'+'on\x20-\x20perfo'+'rm\x20manual\x20'+'mipmap\x20loo'+'kup\x0a\x20\x20\x20\x20fl'+('oat\x20level2'+'\x20=\x20shinyMi'+'pLevel(uv\x20'+'*\x20atlasSiz'+'e);\x0a\x20\x20\x20\x20fl'+'oat\x20ilevel'+'2\x20=\x20floor('+'level2);\x0a\x0a'+'\x20\x20\x20\x20vec2\x20u'+'v0,\x20uv1;\x0a\x20'+'\x20\x20\x20float\x20w'+'eight;\x0a\x20\x20\x20'+'\x20if\x20(ileve'+'l\x20==\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uv0\x20=\x20mapS'+'hinyUv(uv,'+'\x20ilevel2);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v1\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x20level2\x20'+'-\x20ilevel2;'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20acces'+'sing\x20rough'+'\x20reflectio'+'n\x20-\x20just\x20s'+'ample\x20the\x20'+'same\x20part\x20'+'twice\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv0\x20=\x20'+'uv1\x20=\x20mapR'+'oughnessUv'+'(uv,\x20ileve'+'l);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20weight\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'3\x20linearA\x20'+'=\x20{reflect'+'ionDecode}'+'(texture2D'+'(texture_e'+'nvAtlas,\x20u'+'v0));\x0a\x20\x20\x20\x20'+'vec3\x20linea'+'rB\x20=\x20{refl'+'ectionDeco'+'de}(textur'+'e2D(textur'+'e_envAtlas'+',\x20uv1));\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near0\x20=\x20mi'+'x(linearA,'+'\x20linearB,\x20'+'weight);\x0a\x20'+'\x20\x20\x20vec3\x20li'+'near1\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(line'+'ar0,\x20linea'+'r1,\x20level\x20'+'-\x20ilevel))'+';\x0a}\x0a\x0avoid\x20'+'addReflect'+'ion(vec3\x20r'+'eflDir,\x20fl'+'oat\x20gloss)'+'\x20{\x20\x20\x20\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20+=\x20vec4('+'calcReflec'+'tion(reflD'+'ir,\x20gloss)'+',\x20material'+'_reflectiv'+'ity);\x0a}\x0a'),a2='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'uniform\x20sa'+'mpler2D\x20te'+'xture_sphe'+'reMap;\x0auni'+'form\x20float'+'\x20material_'+'reflectivi'+'ty;\x0a\x0avec3\x20'+'calcReflec'+'tion(vec3\x20'+'reflDir,\x20f'+'loat\x20gloss'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20reflDir'+'V\x20=\x20(mat3('+'matrix_vie'+'w)\x20*\x20reflD'+'ir);\x0a\x0a\x20\x20\x20\x20'+'float\x20m\x20=\x20'+'2.0\x20*\x20sqrt'+'(dot(reflD'+'irV.xy,\x20re'+'flDirV.xy)'+'\x20+\x20(reflDi'+'rV.z\x20+\x201.0'+')\x20*\x20(reflD'+'irV.z\x20+\x201.'+'0));\x0a\x20\x20\x20\x20v'+'ec2\x20sphere'+'MapUv\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(texture2'+'D(texture_'+'sphereMap,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0av'+'oid\x20addRef'+'lection(ve'+'c3\x20reflDir'+',\x20float\x20gl'+'oss)\x20{\x20\x20\x20\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20+=\x20v'+'ec4(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20mate'+'rial_refle'+'ctivity);\x0a'+'}\x0a',n2='\x0a\x0avoid\x20add'+'Reflection'+'Sheen(vec3'+'\x20worldNorm'+'al,\x20vec3\x20v'+'iewDir,\x20fl'+'oat\x20gloss)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20NoV\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'float\x20alph'+'aG\x20=\x20gloss'+'\x20*\x20gloss;\x0a'+'\x0a\x20\x20\x20\x20//\x20Av'+'oid\x20using\x20'+'a\x20LUT\x20and\x20'+'approximat'+'e\x20the\x20valu'+'es\x20analyti'+'cally\x0a\x20\x20\x20\x20'+'float\x20a\x20=\x20'+'gloss\x20<\x200.'+'25\x20?\x20-339.'+'2\x20*\x20alphaG'+'\x20+\x20161.4\x20*'+'\x20gloss\x20-\x202'+'5.9\x20:\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95;\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20gl'+'oss\x20<\x200.25'+'\x20?\x2044.0\x20*\x20'+'alphaG\x20-\x202'+'3.7\x20*\x20glos'+'s\x20+\x203.26\x20:'+'\x201.97\x20*\x20al'+'phaG\x20-\x203.2'+'7\x20*\x20gloss\x20'+'+\x200.72;\x0a\x20\x20'+'\x20\x20float\x20DG'+'\x20=\x20exp(\x20a\x20'+'*\x20NoV\x20+\x20b\x20'+')\x20+\x20(\x20glos'+'s\x20<\x200.25\x20?'+'\x200.0\x20:\x200.1'+'\x20*\x20(\x20gloss'+'\x20-\x200.25\x20)\x20'+');\x0a\x20\x20\x20\x20sRe'+'flection\x20+'+'=\x20calcRefl'+'ection(wor'+'ldNormal,\x20'+'0.0)\x20*\x20sat'+'urate(DG);'+'\x0a}\x0a',o2='\x0avec3\x20refr'+'act2(vec3\x20'+'viewVec,\x20v'+'ec3\x20normal'+',\x20float\x20IO'+'R)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20vn\x20=\x20'+'dot(viewVe'+'c,\x20normal)'+';\x0a\x20\x20\x20\x20floa'+'t\x20k\x20=\x201.0\x20'+'-\x20IOR\x20*\x20IO'+'R\x20*\x20(1.0\x20-'+'\x20vn\x20*\x20vn);'+'\x0a\x20\x20\x20\x20vec3\x20'+'refrVec\x20=\x20'+'IOR\x20*\x20view'+'Vec\x20-\x20(IOR'+'\x20*\x20vn\x20+\x20sq'+'rt(k))\x20*\x20n'+'ormal;\x0a\x20\x20\x20'+'\x20return\x20re'+'frVec;\x0a}\x0a\x0a'+'void\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20vec3\x20w'+'orldNormal'+',\x20\x0a\x20\x20\x20\x20vec'+'3\x20viewDir,'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20thicknes'+'s,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20gloss,'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20speculari'+'ty,\x20\x0a\x20\x20\x20\x20v'+'ec3\x20albedo'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20transmi'+'ssion,\x0a\x20\x20\x20'+'\x20float\x20ref'+'ractionInd'+'ex,\x0a\x20\x20\x20\x20fl'+'oat\x20disper'+'sion\x0a#if\x20d'+'efined(LIT'+'_IRIDESCEN'+'CE)\x0a\x20\x20\x20\x20,\x20'+'vec3\x20iride'+'scenceFres'+'nel,\x0a\x20\x20\x20\x20f'+'loat\x20iride'+'scenceInte'+'nsity\x0a#end'+'if\x20\x0a)\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20s'+'ame\x20reflec'+'tion\x20code\x20'+'with\x20refra'+'ction\x20vect'+'or\x0a\x20\x20\x20\x20vec'+'4\x20tmpRefl\x20'+'=\x20dReflect'+'ion;\x0a\x20\x20\x20\x20v'+'ec3\x20reflec'+'tionDir\x20=\x20'+'refract2(-'+'viewDir,\x20w'+'orldNormal'+',\x20refracti'+'onIndex);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve'+'c4(0);\x0a\x20\x20\x20'+'\x20addReflec'+'tion(refle'+'ctionDir,\x20'+'gloss);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20dRe'+'flection.r'+'gb\x20*\x20albed'+'o,\x20transmi'+'ssion);\x0a\x20\x20'+'\x20\x20dReflect'+'ion\x20=\x20tmpR'+'efl;\x0a}\x0a',l2='\x0auniform\x20f'+'loat\x20mater'+'ial_invAtt'+'enuationDi'+'stance;\x0aun'+'iform\x20vec3'+'\x20material_'+'attenuatio'+'n;\x0a\x0avec3\x20e'+'valRefract'+'ionColor(v'+'ec3\x20refrac'+'tionVector'+',\x20float\x20gl'+'oss,\x20float'+'\x20refractio'+'nIndex)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20Th'+'e\x20refracti'+'on\x20point\x20i'+'s\x20the\x20entr'+'y\x20point\x20+\x20'+'vector\x20to\x20'+'exit\x20point'+'\x0a\x20\x20\x20\x20vec4\x20'+'pointOfRef'+'raction\x20=\x20'+'vec4(vPosi'+'tionW\x20+\x20re'+'fractionVe'+'ctor,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'Project\x20to'+'\x20texture\x20s'+'pace\x20so\x20we'+'\x20can\x20sampl'+'e\x20it\x0a\x20\x20\x20\x20v'+'ec4\x20projec'+'tionPoint\x20'+'=\x20matrix_v'+'iewProject'+'ion\x20*\x20poin'+'tOfRefract'+'ion;\x0a\x0a\x20\x20\x20\x20'+'//\x20use\x20bui'+'lt-in\x20getG'+'rabScreenP'+'os\x20functio'+'n\x20to\x20conve'+'rt\x20screen\x20'+'position\x20t'+'o\x20grab\x20tex'+'ture\x20uv\x20co'+'ords\x0a\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20g'+'etGrabScre'+'enPos(proj'+'ectionPoin'+'t);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Use\x20IOR\x20'+'and\x20roughn'+'ess\x20to\x20sel'+'ect\x20mip\x0a\x20\x20'+'\x20\x20float\x20io'+'rToRoughne'+'ss\x20=\x20(1.0\x20'+'-\x20gloss)\x20*'+'\x20clamp((1.'+'0\x20/\x20refrac'+'tionIndex)'+'\x20*\x202.0\x20-\x202'+'.0,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20f'+'loat\x20refra'+'ctionLod\x20='+'\x20log2(uScr'+'eenSize.x)'+'\x20*\x20iorToRo'+'ughness;\x0a\x20'+'\x20\x20\x20vec3\x20re'+'fraction\x20='+'\x20texture2D'+'Lod(uScene'+'ColorMap,\x20'+'uv,\x20refrac'+'tionLod).r'+'gb;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20refr'+'action;\x0a}\x0a'+'\x0avoid\x20addR'+'efraction('+'\x0a\x20\x20\x20\x20vec3\x20'+'worldNorma'+'l,\x20\x0a\x20\x20\x20\x20ve'+'c3\x20viewDir'+',\x20\x0a\x20\x20\x20\x20flo'+'at\x20thickne'+'ss,\x20\x0a\x20\x20\x20\x20f'+'loat\x20gloss'+',\x20\x0a\x20\x20\x20\x20vec'+('3\x20specular'+'ity,\x20\x0a\x20\x20\x20\x20'+'vec3\x20albed'+'o,\x20\x0a\x20\x20\x20\x20fl'+'oat\x20transm'+'ission,\x0a\x20\x20'+'\x20\x20float\x20re'+'fractionIn'+'dex,\x0a\x20\x20\x20\x20f'+'loat\x20dispe'+'rsion\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20vec3\x20irid'+'escenceFre'+'snel,\x0a\x20\x20\x20\x20'+'float\x20irid'+'escenceInt'+'ensity\x0a#en'+'dif\x0a)\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20Extr'+'act\x20scale\x20'+'from\x20the\x20m'+'odel\x20trans'+'form\x0a\x20\x20\x20\x20v'+'ec3\x20modelS'+'cale;\x0a\x20\x20\x20\x20'+'modelScale'+'.x\x20=\x20lengt'+'h(vec3(mat'+'rix_model['+'0].xyz));\x0a'+'\x20\x20\x20\x20modelS'+'cale.y\x20=\x20l'+'ength(vec3'+'(matrix_mo'+'del[1].xyz'+'));\x0a\x20\x20\x20\x20mo'+'delScale.z'+'\x20=\x20length('+'vec3(matri'+'x_model[2]'+'.xyz));\x0a\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20the\x20'+'refraction'+'\x20vector,\x20s'+'caled\x20by\x20t'+'he\x20thickne'+'ss\x20and\x20sca'+'le\x20of\x20the\x20'+'object\x0a\x20\x20\x20'+'\x20vec3\x20scal'+'e\x20=\x20thickn'+'ess\x20*\x20mode'+'lScale;\x0a\x20\x20'+'\x20\x20vec3\x20ref'+'ractionVec'+'tor\x20=\x20norm'+'alize(refr'+'act(-viewD'+'ir,\x20worldN'+'ormal,\x20ref'+'ractionInd'+'ex))\x20*\x20sca'+'le;\x0a\x20\x20\x20\x20ve'+'c3\x20refract'+'ion\x20=\x20eval'+'Refraction'+'Color(refr'+'actionVect'+'or,\x20gloss,'+'\x20refractio'+'nIndex);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20bas'+'ed\x20on\x20the\x20'+'dispersion'+'\x20material\x20'+'property,\x20'+'calculate\x20'+'modified\x20r'+'efraction\x20'+'index\x20valu'+'es\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20for\x20R\x20'+'and\x20B\x20chan'+'nels\x20and\x20e'+'valuate\x20th'+'e\x20refracti'+'on\x20color\x20f'+'or\x20them.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20halfSpr'+'ead\x20=\x20(1.0'+'\x20/\x20refract'+'ionIndex\x20-')+('\x201.0)\x20*\x200.'+'025\x20*\x20disp'+'ersion;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20refract'+'ionIndexR\x20'+'=\x20refracti'+'onIndex\x20-\x20'+'halfSpread'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'refraction'+'Vector\x20=\x20n'+'ormalize(r'+'efract(-vi'+'ewDir,\x20wor'+'ldNormal,\x20'+'refraction'+'IndexR))\x20*'+'\x20scale;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20refr'+'action.r\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'xR).r;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20refracti'+'onIndexB\x20='+'\x20refractio'+'nIndex\x20+\x20h'+'alfSpread;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efractionV'+'ector\x20=\x20no'+'rmalize(re'+'fract(-vie'+'wDir,\x20worl'+'dNormal,\x20r'+'efractionI'+'ndexB))\x20*\x20'+'scale;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20refra'+'ction.b\x20=\x20'+'evalRefrac'+'tionColor('+'refraction'+'Vector,\x20gl'+'oss,\x20refra'+'ctionIndex'+'B).b;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20Trans'+'mittance\x20i'+'s\x20our\x20fina'+'l\x20refracti'+'on\x20color\x0a\x20'+'\x20\x20\x20vec3\x20tr'+'ansmittanc'+'e;\x0a\x20\x20\x20\x20if\x20'+'(material_'+'invAttenua'+'tionDistan'+'ce\x20!=\x200.0)'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'attenuatio'+'n\x20=\x20-log(m'+'aterial_at'+'tenuation)'+'\x20*\x20materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans'+'mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20vec3'+'\x20fresnel\x20='+'\x20vec3(1.0)'+'\x20-\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dot(')+('viewDir,\x20w'+'orldNormal'+'),\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20,\x20i'+'ridescence'+'Fresnel,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20mi'+'x(dDiffuse'+'Light,\x20ref'+'raction\x20*\x20'+'transmitta'+'nce\x20*\x20fres'+'nel,\x20trans'+'mission);\x0a'+'}\x0a'),c2='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0a//\x20sourc'+'e\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'lerCube\x20so'+'urceCube;\x0a'+'#else\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20so'+'urceTex;\x0a#'+'endif\x0a\x0a#if'+'def\x20USE_SA'+'MPLES_TEX\x0a'+'\x20\x20\x20\x20//\x20sam'+'ples\x0a\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20sam'+'plesTex;\x0a\x20'+'\x20\x20\x20uniform'+'\x20vec2\x20samp'+'lesTexInve'+'rseSize;\x0a#'+'endif\x0a\x0a//\x20'+'params:\x0a//'+'\x20x\x20-\x20targe'+'t\x20cubemap\x20'+'face\x200..6\x0a'+'//\x20y\x20-\x20tar'+'get\x20image\x20'+'total\x20pixe'+'ls\x0a//\x20z\x20-\x20'+'source\x20cub'+'emap\x20size\x0a'+'uniform\x20ve'+'c3\x20params;'+'\x0a\x0afloat\x20ta'+'rgetFace()'+'\x20{\x20return\x20'+'params.x;\x20'+'}\x0afloat\x20ta'+'rgetTotalP'+'ixels()\x20{\x20'+'return\x20par'+'ams.y;\x20}\x0af'+'loat\x20sourc'+'eTotalPixe'+'ls()\x20{\x20ret'+'urn\x20params'+'.z;\x20}\x0a\x0aflo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x0afl'+'oat\x20satura'+'te(float\x20x'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0a#i'+'nclude\x20\x22de'+'codePS\x22\x0a#i'+'nclude\x20\x22en'+'codePS\x22\x0a\x0a/'+'/--\x20suppor'+'ted\x20projec'+'tions\x0a\x0avec'+'3\x20modifySe'+'ams(vec3\x20d'+'ir,\x20float\x20'+'scale)\x20{\x0a\x20'+'\x20\x20\x20vec3\x20ad'+'ir\x20=\x20abs(d'+'ir);\x0a\x20\x20\x20\x20f'+'loat\x20M\x20=\x20m'+'ax(max(adi'+'r.x,\x20adir.'+'y),\x20adir.z'+');\x0a\x20\x20\x20\x20ret'+'urn\x20dir\x20/\x20'+'M\x20*\x20vec3(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.x\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20adir.y\x20'+'==\x20M\x20?\x201.0'+'\x20:\x20scale,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ad'+'ir.z\x20==\x20M\x20'+'?\x201.0\x20:\x20sc'+'ale\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0avec2\x20t'+'oSpherical'+'(vec3\x20dir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec2(d'+'ir.xz\x20==\x20v'+'ec2(0.0)\x20?'+('\x200.0\x20:\x20ata'+'n(dir.x,\x20d'+'ir.z),\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0avec3\x20f'+'romSpheric'+'al(vec2\x20uv'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20vec3('+'cos(uv.y)\x20'+'*\x20sin(uv.x'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'in(uv.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cos('+'uv.y)\x20*\x20co'+'s(uv.x));\x0a'+'}\x0a\x0avec3\x20ge'+'tDirection'+'Equirect()'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20fromSp'+'herical((v'+'ec2(vUv0.x'+',\x201.0\x20-\x20vU'+'v0.y)\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20vec2(PI,\x20'+'PI\x20*\x200.5))'+';\x0a}\x0a\x0a//\x20oc'+'tahedral\x20c'+'ode,\x20based'+'\x20on\x20https:'+'//jcgt.org'+'/published'+'/0003/02/0'+'1/\x0a//\x20\x22Sur'+'vey\x20of\x20Eff'+'icient\x20Rep'+'resentatio'+'ns\x20for\x20Ind'+'ependent\x20U'+'nit\x20Vector'+'s\x22\x20by\x20Cigo'+'lle,\x20Donow'+',\x20Evangela'+'kos,\x20Mara,'+'\x20McGuire,\x20'+'Meyer\x0a\x0aflo'+'at\x20signNot'+'Zero(float'+'\x20k){\x0a\x20\x20\x20\x20r'+'eturn(k\x20>='+'\x200.0)\x20?\x201.'+'0\x20:\x20-1.0;\x0a'+'}\x0a\x0avec2\x20si'+'gnNotZero('+'vec2\x20v)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20vec2(sign'+'NotZero(v.'+'x),\x20signNo'+'tZero(v.y)'+');\x0a}\x0a\x0a//\x20R'+'eturns\x20a\x20u'+'nit\x20vector'+'.\x20Argument'+'\x20o\x20is\x20an\x20o'+'ctahedral\x20'+'vector\x20pac'+'ked\x20via\x20oc'+'tEncode,\x20o'+'n\x20the\x20[-1,'+'\x20+1]\x20squar'+'e\x0avec3\x20oct'+'Decode(vec'+'2\x20o)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20v\x20=\x20'+'vec3(o.x,\x20'+'1.0\x20-\x20abs('+'o.x)\x20-\x20abs'+'(o.y),\x20o.y'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20v.xz\x20=\x20('+'1.0\x20-\x20abs('+'v.zx))\x20*\x20s'+'ignNotZero'+'(v.xz);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20norma'+'lize(v);\x0a}'+'\x0a\x0avec3\x20get'+'DirectionO'+'ctahedral('+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20octDe'+'code(vec2(')+('vUv0.x,\x201.'+'0\x20-\x20vUv0.y'+')\x20*\x202.0\x20-\x20'+'1.0);\x0a}\x0a\x0a/'+'/\x20Assumes\x20'+'that\x20v\x20is\x20'+'a\x20unit\x20vec'+'tor.\x20The\x20r'+'esult\x20is\x20a'+'n\x20octahedr'+'al\x20vector\x20'+'on\x20the\x20[-1'+',\x20+1]\x20squa'+'re\x0avec2\x20oc'+'tEncode(in'+'\x20vec3\x20v)\x20{'+'\x0a\x20\x20\x20\x20float'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20vec2'+'\x20result\x20=\x20'+'v.xz\x20*\x20(1.'+'0\x20/\x20l1norm'+');\x0a\x20\x20\x20\x20if\x20'+'(v.y\x20<\x200.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20result\x20='+'\x20(1.0\x20-\x20ab'+'s(result.y'+'x))\x20*\x20sign'+'NotZero(re'+'sult.xy);\x0a'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'return\x20res'+'ult;\x0a}\x0a\x0a//'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'///////\x0a\x0a#'+'ifdef\x20CUBE'+'MAP_SOURCE'+'\x0a\x20\x20\x20\x20vec4\x20'+'sampleCube'+'map(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureCu'+'be(sourceC'+'ube,\x20modif'+'ySeams(dir'+',\x201.0));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eCubemap(v'+'ec2\x20sph)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leCubemap('+'fromSpheri'+'cal(sph));'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20vec4\x20sam'+'pleCubemap'+'(vec3\x20dir,'+'\x20float\x20mip'+'Level)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20textur'+'eCubeLod(s'+'ourceCube,'+'\x20modifySea'+'ms(dir,\x201.'+'0),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleCub'+'emap(vec2\x20'+'sph,\x20float'+'\x20mipLevel)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleCubema'+'p(fromSphe'+'rical(sph)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x0a\x20\x20\x20\x20'+'vec4\x20sampl'+'eEquirect('+'vec2\x20sph)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'sph\x20/\x20vec2'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'ture2D(sou'+'rceTex,\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20vec4\x20s'+'ampleEquir'+'ect(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleEqu'+'irect(toSp'+'herical(di'+'r));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20sampleEqu'+'irect(vec2'+'\x20sph,\x20floa'+'t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20sph\x20/\x20ve'+'c2(PI\x20*\x202.'+'0,\x20PI)\x20+\x200'+'.5;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2DLo'+'d(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y),\x20mip'+'Level);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Equirect(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20sampleEq'+'uirect(toS'+'pherical(d'+'ir),\x20mipLe'+'vel);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20uv\x20=\x20o'+'ctEncode(d'+'ir)\x20*\x200.5\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20texture2'+'D(sourceTe'+'x,\x20vec2(uv'+'.x,\x201.0\x20-\x20'+'uv.y));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20v'+'ec4\x20sample'+'Octahedral'+'(vec2\x20sph)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20sa'+'mpleOctahe'+'dral(fromS'+'pherical(s'+'ph));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20vec'+'4\x20sampleOc'+'tahedral(v'+'ec3\x20dir,\x20f'+'loat\x20mipLe'+'vel)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20octEn'+'code(dir)\x20'+'*\x200.5\x20+\x200.'+'5;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20te'+'xture2DLod'+'(sourceTex'+',\x20vec2(uv.'+'x,\x201.0\x20-\x20u'+'v.y),\x20mipL'+'evel);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20sampleO'+'ctahedral('+'vec2\x20sph,\x20'+'float\x20mipL'+'evel)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleO'+'ctahedral('+'fromSpheri'+'cal(sph),\x20')+('mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0avec3'+'\x20getDirect'+'ionCubemap'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec2\x20st\x20=\x20v'+'Uv0\x20*\x202.0\x20'+'-\x201.0;\x0a\x20\x20\x20'+'\x20float\x20fac'+'e\x20=\x20target'+'Face();\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ve'+'c;\x0a\x20\x20\x20\x20if\x20'+'(face\x20==\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec\x20=\x20'+'vec3(1,\x20-s'+'t.y,\x20-st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3(-1,\x20-st.'+'y,\x20st.x);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(face\x20'+'==\x202.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c\x20=\x20vec3(s'+'t.x,\x201,\x20st'+'.y);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x203.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3(st.x,\x20'+'-1,\x20-st.y)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(fac'+'e\x20==\x204.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec\x20=\x20vec3'+'(st.x,\x20-st'+'.y,\x201);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec\x20=\x20vec3('+'-st.x,\x20-st'+'.y,\x20-1);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(mod'+'ifySeams(v'+'ec,\x201.0));'+'\x0a}\x0a\x0amat3\x20m'+'atrixFromV'+'ector(vec3'+'\x20n)\x20{\x20//\x20f'+'risvad\x0a\x20\x20\x20'+'\x20float\x20a\x20='+'\x201.0\x20/\x20(1.'+'0\x20+\x20n.z);\x0a'+'\x20\x20\x20\x20float\x20'+'b\x20=\x20-n.x\x20*'+'\x20n.y\x20*\x20a;\x0a'+'\x20\x20\x20\x20vec3\x20b'+'1\x20=\x20vec3(1'+'.0\x20-\x20n.x\x20*'+'\x20n.x\x20*\x20a,\x20'+'b,\x20-n.x);\x0a'+'\x20\x20\x20\x20vec3\x20b'+'2\x20=\x20vec3(b'+',\x201.0\x20-\x20n.'+'y\x20*\x20n.y\x20*\x20'+'a,\x20-n.y);\x0a'+'\x20\x20\x20\x20return'+'\x20mat3(b1,\x20'+'b2,\x20n);\x0a}\x0a'+'\x0amat3\x20matr'+'ixFromVect'+'orSlow(vec'+'3\x20n)\x20{\x0a\x20\x20\x20'+'\x20vec3\x20up\x20='+'\x20(1.0\x20-\x20ab'+'s(n.y)\x20<=\x20'+'0.0000001)'+'\x20?\x20vec3(0.'+'0,\x200.0,\x20n.'+'y\x20>\x200.0\x20?\x20'+'1.0\x20:\x20-1.0'+')\x20:\x20vec3(0'+'.0,\x201.0,\x200'+'.0);\x0a\x20\x20\x20\x20v'+'ec3\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20vec'+'3\x20y\x20=\x20cros')+('s(n,\x20x);\x0a\x20'+'\x20\x20\x20return\x20'+'mat3(x,\x20y,'+'\x20n);\x0a}\x0a\x0ave'+'c4\x20reproje'+'ct()\x20{\x0a\x20\x20\x20'+'\x20if\x20({NUM_'+'SAMPLES}\x20<'+'=\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20si'+'ngle\x20sampl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20{EN'+'CODE_FUNC}'+'({DECODE_F'+'UNC}({SOUR'+'CE_FUNC}({'+'TARGET_FUN'+'C}())));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multi\x20s'+'ample\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20t'+'\x20=\x20{TARGET'+'_FUNC}();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20tu\x20=\x20dF'+'dx(t);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'tv\x20=\x20dFdy('+'t);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(float\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'++u)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(float\x20'+'v\x20=\x200.0;\x20v'+'\x20<\x20{NUM_SA'+'MPLES_SQRT'+'};\x20++v)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20resu'+'lt\x20+=\x20{DEC'+'ODE_FUNC}('+'{SOURCE_FU'+'NC}(normal'+'ize(t\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20tu'+'\x20*\x20(u\x20/\x20{N'+'UM_SAMPLES'+'_SQRT}\x20-\x200'+'.5)\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20tv\x20*'+'\x20(v\x20/\x20{NUM'+'_SAMPLES_S'+'QRT}\x20-\x200.5'+'))));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20({'+'NUM_SAMPLE'+'S_SQRT}\x20*\x20'+'{NUM_SAMPL'+'ES_SQRT}))'+';\x0a\x20\x20\x20\x20}\x0a}\x0a'+'\x0avec4\x20unpa'+'ckFloat\x20=\x20'+'vec4(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20void\x20'+'unpackSamp'+'le(int\x20i,\x20'+'out\x20vec3\x20L'+',\x20out\x20floa')+('t\x20mipLevel'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20u\x20'+'=\x20(float(i'+'\x20*\x204)\x20+\x200.'+'5)\x20*\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20v\x20=\x20(f'+'loor(u)\x20+\x20'+'0.5)\x20*\x20sam'+'plesTexInv'+'erseSize.y'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec4\x20raw;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.x\x20=\x20dot'+'(texture2D'+'(samplesTe'+'x,\x20vec2(u,'+'\x20v)),\x20unpa'+'ckFloat);\x20'+'u\x20+=\x20sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'texture2D('+'samplesTex'+',\x20vec2(u,\x20'+'v)),\x20unpac'+'kFloat);\x20u'+'\x20+=\x20sample'+'sTexInvers'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.z\x20=\x20dot(t'+'exture2D(s'+'amplesTex,'+'\x20vec2(u,\x20v'+')),\x20unpack'+'Float);\x20u\x20'+'+=\x20samples'+'TexInverse'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20raw.'+'w\x20=\x20dot(te'+'xture2D(sa'+'mplesTex,\x20'+'vec2(u,\x20v)'+'),\x20unpackF'+'loat);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20L.xy'+'z\x20=\x20raw.xy'+'z\x20*\x202.0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20mipLeve'+'l\x20=\x20raw.w\x20'+'*\x208.0;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20convolve\x20'+'an\x20environ'+'ment\x20given'+'\x20pre-gener'+'ated\x20sampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamples()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L')+(',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level))\x20*\x20'+'L.z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tot'+'alWeight\x20+'+'=\x20L.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20{ENCODE'+'_FUNC}(res'+'ult\x20/\x20tota'+'lWeight);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20//\x20unweig'+'hted\x20versi'+'on\x20of\x20pref'+'ilterSampl'+'es\x0a\x20\x20\x20\x20vec'+'4\x20prefilte'+'rSamplesUn'+'weighted()'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20constr'+'uct\x20vector'+'\x20space\x20giv'+'en\x20target\x20'+'direction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ma'+'t3\x20vecSpac'+'e\x20=\x20matrix'+'FromVector'+'Slow({TARG'+'ET_FUNC}()'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20L;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20mipLev'+'el;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20re'+'sult\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20++i)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20unpackS'+'ample(i,\x20L'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20resul'+'t\x20+=\x20{DECO'+'DE_FUNC}({'+'SOURCE_FUN'+'C}(vecSpac'+'e\x20*\x20L,\x20mip'+'Level));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}(r'+'esult\x20/\x20fl'+'oat({NUM_S'+'AMPLES}));'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20{PROCESS'+'_FUNC}();\x0a'+'}\x0a'),h2='\x0aattribute'+'\x20vec2\x20vert'+'ex_positio'+'n;\x0auniform'+'\x20vec4\x20uvMo'+'d;\x0avarying'+'\x20vec2\x20vUv0'+';\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20v'+'ec4(vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(vertex_po'+'sition.xy\x20'+'*\x200.5\x20+\x200.'+'5)\x20*\x20uvMod'+'.xy\x20+\x20uvMo'+'d.zw);\x0a}\x0a',d2='\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20uScen'+'eDepthMap;'+'\x0a\x0a#ifndef\x20'+'SCREENSIZE'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20SCREENS'+'IZE\x0a\x20\x20\x20\x20un'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20#defi'+'ne\x20VIEWMAT'+'RIX\x0a\x20\x20\x20\x20un'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#ifndef'+'\x20CAMERAPLA'+'NES\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20v'+'ec4\x20camera'+'_params;\x20/'+'/\x20x:\x201\x20/\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20\x20y:\x20c'+'amera_far,'+'\x20\x20\x20\x20\x20z:\x20ca'+'mera_near,'+'\x20\x20\x20\x20\x20\x20\x20\x20w:'+'\x20is_ortho\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20lineariz'+'eDepth(flo'+'at\x20z)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'camera_par'+'ams.w\x20==\x200'+'.0)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20(camera'+'_params.z\x20'+'*\x20camera_p'+'arams.y)\x20/'+'\x20(camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(camer'+'a_params.z'+'\x20-\x20camera_'+'params.y))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20camera'+'_params.z\x20'+'+\x20z\x20*\x20(cam'+'era_params'+'.y\x20-\x20camer'+'a_params.z'+');\x0a\x20\x20\x20\x20}\x0a#'+'endif\x0a\x0aflo'+'at\x20delinea'+'rizeDepth('+'float\x20line'+'arDepth)\x20{'+'\x0a\x20\x20\x20\x20if\x20(c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'(camera_pa'+'rams.y\x20*\x20('+'camera_par'+'ams.z\x20-\x20li'+'nearDepth)'+')\x20/\x20(linea'+'rDepth\x20*\x20('+'camera_par'+'ams.z\x20-\x20ca'+'mera_param'+'s.y));\x0a\x20\x20\x20'+'\x20}\x20else\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(line'+'arDepth\x20-\x20'+'camera_par'+'ams.z)\x20/\x20('+('camera_par'+'ams.y\x20-\x20ca'+'mera_param'+'s.z);\x0a\x20\x20\x20\x20'+'}\x0a}\x0a\x0a//\x20Re'+'trieves\x20re'+'ndered\x20lin'+'ear\x20camera'+'\x20depth\x20by\x20'+'UV\x0afloat\x20g'+'etLinearSc'+'reenDepth('+'vec2\x20uv)\x20{'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SCENE_DE'+'PTHMAP_LIN'+'EAR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_FLOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'exture2D(u'+'SceneDepth'+'Map,\x20uv).r'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'vec2\x20textu'+'reSize\x20=\x20t'+'extureSize'+'(uSceneDep'+'thMap,\x200);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ivec2\x20t'+'exel\x20=\x20ive'+'c2(uv\x20*\x20ve'+'c2(texture'+'Size));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20data\x20'+'=\x20texelFet'+'ch(uSceneD'+'epthMap,\x20t'+'exel,\x200);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uint\x20in'+'tBits\x20=\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20(uint'+'(data.r\x20*\x20'+'255.0)\x20<<\x20'+'24u)\x20|\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(uint(d'+'ata.g\x20*\x2025'+'5.0)\x20<<\x2016'+'u)\x20|\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(uint(dat'+'a.b\x20*\x20255.'+'0)\x20<<\x208u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ui'+'nt(data.a\x20'+'*\x20255.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uintBitsTo'+'Float(intB'+'its);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20line'+'arizeDepth'+'(texture2D'+'(uSceneDep'+'thMap,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20float\x20'+'getLinearS'+'creenDepth'+'()\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20uv'+'\x20=\x20gl_Frag'+'Coord.xy\x20*'+'\x20uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur')+('n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afloat\x20'+'getLinearD'+'epth(vec3\x20'+'pos)\x20{\x0a\x20\x20\x20'+'\x20return\x20-('+'matrix_vie'+'w\x20*\x20vec4(p'+'os,\x201.0)).'+'z;\x0a}\x0a'),f2='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x20\x0ai'+'nt\x20getShad'+'owCascadeI'+'ndex(vec4\x20'+'shadowCasc'+'adeDistanc'+'es,\x20int\x20sh'+'adowCascad'+'eCount)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20de'+'pth\x20in\x200\x20.'+'.\x20far\x20plan'+'e\x20range\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x0a\x20'+'\x20\x20\x20//\x201.0\x20'+'if\x20depth\x20>'+'=\x20distance'+',\x200.0\x20othe'+'rwise\x0a\x20\x20\x20\x20'+'vec4\x20compa'+'risons\x20=\x20s'+'tep(shadow'+'CascadeDis'+'tances,\x20ve'+'c4(depth))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'sum\x20is\x20the'+'\x20index\x0a\x20\x20\x20'+'\x20int\x20casca'+'deIndex\x20=\x20'+'int(dot(co'+'mparisons,'+'\x20vec4(1.0)'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20limit\x20to'+'\x20actual\x20nu'+'mber\x20of\x20us'+'ed\x20cascade'+'s\x0a\x20\x20\x20\x20retu'+'rn\x20min(cas'+'cadeIndex,'+'\x20shadowCas'+'cadeCount\x20'+'-\x201);\x0a}\x0a\x0a/'+'/\x20function'+'\x20which\x20mod'+'ifies\x20casc'+'ade\x20index\x20'+'to\x20dither\x20'+'between\x20ca'+'scades\x0aint'+'\x20ditherSha'+'dowCascade'+'Index(int\x20'+'cascadeInd'+'ex,\x20vec4\x20s'+'hadowCasca'+'deDistance'+'s,\x20int\x20sha'+'dowCascade'+'Count,\x20flo'+'at\x20blendFa'+'ctor)\x20{\x0a\x20\x0a'+'\x20\x20\x20\x20if\x20(ca'+'scadeIndex'+'\x20<\x20shadowC'+'ascadeCoun'+'t\x20-\x201)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20current'+'RangeEnd\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20transit'+'ionStart\x20='+'\x20blendFact'+'or\x20*\x20curre'+'ntRangeEnd'+';\x20//\x20Start'+'\x20overlap\x20f'+'actor\x20away'+'\x20from\x20the\x20'+'end\x20distan'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dep'+'th\x20=\x201.0\x20/'+('\x20gl_FragCo'+'ord.w;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'depth\x20>\x20tr'+'ansitionSt'+'art)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Calculat'+'e\x20a\x20transi'+'tion\x20facto'+'r\x20(0.0\x20to\x20'+'1.0)\x20withi'+'n\x20the\x20over'+'lap\x20range\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20tr'+'ansitionFa'+'ctor\x20=\x20smo'+'othstep(tr'+'ansitionSt'+'art,\x20curre'+'ntRangeEnd'+',\x20depth);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Add\x20'+'pseudo-ran'+'dom\x20dither'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ODO:\x20repla'+'ce\x20by\x20user'+'\x20selectabl'+'e\x20ditherin'+'g\x20method\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dit'+'her\x20=\x20frac'+'t(sin(dot('+'gl_FragCoo'+'rd.xy,\x20vec'+'2(12.9898,'+'\x2078.233)))'+'\x20*\x2043758.5'+'453);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(dither\x20<'+'\x20transitio'+'nFactor)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20cas'+'cadeIndex\x20'+'+=\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20return\x20ca'+'scadeIndex'+';\x0a}\x0a\x0avec3\x20'+'fadeShadow'+'(vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'CascadeDis'+'tances)\x20{\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20//\x20if\x20th'+'e\x20pixel\x20is'+'\x20past\x20the\x20'+'shadow\x20dis'+'tance,\x20rem'+'ove\x20shadow'+'\x0a\x20\x20\x20\x20//\x20th'+'is\x20enforce'+'s\x20straight'+'\x20line\x20inst'+'ead\x20of\x20cor'+'ner\x20of\x20sha'+'dow\x20which\x20'+'moves\x20when'+'\x20camera\x20ro'+'tates\x20\x20\x0a\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x201.0\x20'+'/\x20gl_FragC'+'oord.w;\x0a\x20\x20'+'\x20\x20if\x20(dept'+'h\x20>\x20shadow'+'CascadeDis'+'tances.w)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'shadowCoor'+'d.z\x20=\x20-999'+'9999.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20shad'+'owCoord;\x0a}'+'\x0a'),u2='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afloat\x20lin'+'step(float'+'\x20a,\x20float\x20'+'b,\x20float\x20v'+')\x20{\x0a\x20\x20\x20\x20re'+'turn\x20satur'+'ate((v\x20-\x20a'+')\x20/\x20(b\x20-\x20a'+'));\x0a}\x0a\x0aflo'+'at\x20reduceL'+'ightBleedi'+'ng(float\x20p'+'Max,\x20float'+'\x20amount)\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'float\x20cheb'+'yshevUpper'+'Bound(vec2'+'\x20moments,\x20'+'float\x20mean'+',\x20float\x20mi'+'nVariance,'+'\x20float\x20lig'+'htBleeding'+'Reduction)'+'\x20{\x0a\x20\x20\x20\x20//\x20'+'Compute\x20va'+'riance\x0a\x20\x20\x20'+'\x20float\x20var'+'iance\x20=\x20mo'+'ments.y\x20-\x20'+'(moments.x'+'\x20*\x20moments'+'.x);\x0a\x20\x20\x20\x20v'+'ariance\x20=\x20'+'max(varian'+'ce,\x20minVar'+'iance);\x0a\x0a\x20'+'\x20\x20\x20//\x20Comp'+'ute\x20probab'+'ilistic\x20up'+'per\x20bound\x0a'+'\x20\x20\x20\x20float\x20'+'d\x20=\x20mean\x20-'+'\x20moments.x'+';\x0a\x20\x20\x20\x20floa'+'t\x20pMax\x20=\x20v'+'ariance\x20/\x20'+'(variance\x20'+'+\x20(d\x20*\x20d))'+';\x0a\x0a\x20\x20\x20\x20pMa'+'x\x20=\x20reduce'+'LightBleed'+'ing(pMax,\x20'+'lightBleed'+'ingReducti'+'on);\x0a\x0a\x20\x20\x20\x20'+'//\x20One-tai'+'led\x20Chebys'+'hev\x0a\x20\x20\x20\x20re'+'turn\x20(mean'+'\x20<=\x20moment'+'s.x\x20?\x201.0\x20'+':\x20pMax);\x0a}'+'\x0a\x0afloat\x20ca'+'lculateEVS'+'M(vec3\x20mom'+'ents,\x20floa'+'t\x20Z,\x20float'+'\x20vsmBias,\x20'+'float\x20expo'+'nent)\x20{\x0a\x20\x20'+'\x20\x20Z\x20=\x202.0\x20'+'*\x20Z\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20warpedDep'+'th\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20m'+'oments.xy\x20'+'+=\x20vec2(wa'+'rpedDepth,'+'\x20warpedDep'+'th*warpedD'+'epth)\x20*\x20(1'+'.0\x20-\x20momen'+'ts.z);\x0a\x0a\x20\x20'+('\x20\x20float\x20VS'+'MBias\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20float'+'\x20depthScal'+'e\x20=\x20VSMBia'+'s\x20*\x20expone'+'nt\x20*\x20warpe'+'dDepth;\x0a\x20\x20'+'\x20\x20float\x20mi'+'nVariance1'+'\x20=\x20depthSc'+'ale\x20*\x20dept'+'hScale;\x0a\x20\x20'+'\x20\x20return\x20c'+'hebyshevUp'+'perBound(m'+'oments.xy,'+'\x20warpedDep'+'th,\x20minVar'+'iance1,\x200.'+'1);\x0a}\x0a\x0a//\x20'+'------\x20VSM'+'\x2016\x20------'+'\x0a\x0afloat\x20VS'+'M16(TEXTUR'+'E_ACCEPT(t'+'ex),\x20vec2\x20'+'texCoords,'+'\x20float\x20res'+'olution,\x20f'+'loat\x20Z,\x20fl'+'oat\x20vsmBia'+'s,\x20float\x20e'+'xponent)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'moments\x20=\x20'+'texture2DL'+'od(tex,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM16('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM16(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM16(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20VSM16('+'TEXTURE_PA'+'SS(shadowM'+'ap),\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----')+('--\x0a\x0afloat\x20'+'VSM32(TEXT'+'URE_ACCEPT'+'(tex),\x20vec'+'2\x20texCoord'+'s,\x20float\x20r'+'esolution,'+'\x20float\x20Z,\x20'+'float\x20vsmB'+'ias,\x20float'+'\x20exponent)'+'\x20{\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20CAPS_'+'TEXTURE_FL'+'OAT_FILTER'+'ABLE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20te'+'xture2DLod'+'(tex,\x20texC'+'oords,\x200.0'+').xyz;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ma'+'nual\x20bilin'+'ear\x20filter'+'ing\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pi'+'xelSize\x20=\x20'+'1.0\x20/\x20reso'+'lution;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20texC'+'oords\x20-=\x20v'+'ec2(pixelS'+'ize);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20s'+'00\x20=\x20textu'+'re2DLod(te'+'x,\x20texCoor'+'ds,\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20s10'+'\x20=\x20texture'+'2DLod(tex,'+'\x20texCoords'+'\x20+\x20vec2(pi'+'xelSize,\x200'+'),\x200.0).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3\x20s01\x20'+'=\x20texture2'+'DLod(tex,\x20'+'texCoords\x20'+'+\x20vec2(0,\x20'+'pixelSize)'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20s11\x20='+'\x20texture2D'+'Lod(tex,\x20t'+'exCoords\x20+'+'\x20vec2(pixe'+'lSize),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20fr\x20=\x20frac'+'t(texCoord'+'s\x20*\x20resolu'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'h0\x20=\x20mix(s'+'00,\x20s10,\x20f'+'r.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20h'+'1\x20=\x20mix(s0'+'1,\x20s11,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20mo'+'ments\x20=\x20mi'+'x(h0,\x20h1,\x20'+'fr.y);\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'loat\x20getSh'+'adowVSM32('+'TEXTURE_AC'+'CEPT(shado'+'wMap),\x20vec'+'3\x20shadowCo'+'ord,\x20vec4\x20'+'shadowPara'+'ms,\x20float\x20'+'exponent)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20VSM32(T')+('EXTURE_PAS'+'S(shadowMa'+'p),\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afloat\x20get'+'ShadowSpot'+'VSM32(TEXT'+'URE_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams,\x20'+'float\x20expo'+'nent,\x20vec3'+'\x20lightDir)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20Z\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20shadowCoo'+'rd.xy,\x20sha'+'dowParams.'+'x,\x20Z,\x20shad'+'owParams.y'+',\x20exponent'+');\x0a}\x0a'),p2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20g'+'etShadowPC'+'F1x1(SHADO'+'WMAP_ACCEP'+'T(shadowMa'+'p),\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20textur'+'eShadow(sh'+'adowMap,\x20s'+'hadowCoord'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wSpotPCF1x'+'1(SHADOWMA'+'P_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params)\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSh'+'adow(shado'+'wMap,\x20shad'+'owCoord);\x0a'+'}\x0a\x0a//\x20----'+'-\x20Omni\x20Sam'+'pling\x20----'+'-\x0a\x0a#ifndef'+'\x20WEBGPU\x0a\x0af'+'loat\x20getSh'+'adowOmniPC'+'F1x1(sampl'+'erCubeShad'+'ow\x20shadowM'+'ap,\x20vec3\x20s'+'hadowCoord'+',\x20vec4\x20sha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20float\x20sh'+'adowZ\x20=\x20le'+'ngth(light'+'Dir)\x20*\x20sha'+'dowParams.'+'w\x20+\x20shadow'+'Params.z;\x0a'+'\x20\x20\x20\x20return'+'\x20texture(s'+'hadowMap,\x20'+'vec4(light'+'Dir,\x20shado'+'wZ));\x0a}\x0a\x0a#'+'endif\x0a',m2='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afloat\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_ACCE'+'PT(shadowM'+'ap),\x20vec3\x20'+'shadowCoor'+'d,\x20vec3\x20sh'+'adowParams'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20z\x20=\x20sh'+'adowCoord.'+'z;\x0a\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20sha'+'dowCoord.x'+'y\x20*\x20shadow'+'Params.x;\x20'+'//\x201\x20unit\x20'+'-\x201\x20texel\x0a'+'\x20\x20\x20\x20float\x20'+'shadowMapS'+'izeInv\x20=\x201'+'.0\x20/\x20shado'+'wParams.x;'+'\x0a\x20\x20\x20\x20vec2\x20'+'base_uv\x20=\x20'+'floor(uv\x20+'+'\x200.5);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20(uv.x\x20+\x200'+'.5\x20-\x20base_'+'uv.x);\x0a\x20\x20\x20'+'\x20float\x20t\x20='+'\x20(uv.y\x20+\x200'+'.5\x20-\x20base_'+'uv.y);\x20\x0a\x20\x20'+'\x20\x20base_uv\x20'+'-=\x20vec2(0.'+'5);\x0a\x20\x20\x20\x20ba'+'se_uv\x20*=\x20s'+'hadowMapSi'+'zeInv;\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'uw0\x20=\x20(3.0'+'\x20-\x202.0\x20*\x20s'+');\x0a\x20\x20\x20\x20flo'+'at\x20uw1\x20=\x20('+'1.0\x20+\x202.0\x20'+'*\x20s);\x0a\x0a\x20\x20\x20'+'\x20float\x20u0\x20'+'=\x20(2.0\x20-\x20s'+')\x20/\x20uw0\x20-\x20'+'1.0;\x0a\x20\x20\x20\x20f'+'loat\x20u1\x20=\x20'+'s\x20/\x20uw1\x20+\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(3.0\x20-\x202'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20t)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20v0\x20=\x20(2'+'.0\x20-\x20t)\x20/\x20'+'vw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20float'+'\x20v1\x20=\x20t\x20/\x20'+'vw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20u0\x20='+'\x20u0\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v0\x20=\x20v0\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u1\x20=\x20'+'u1\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'1\x20=\x20v1\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+('sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw0\x20*\x20v'+'w1\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u0,\x20v'+'1,\x20z));\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w1\x20*\x20vw1\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u1,\x20v1,\x20z'+'));\x0a\x0a\x20\x20\x20\x20s'+'um\x20*=\x201.0f'+'\x20/\x2016.0;\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowPCF3x3('+'SHADOWMAP_'+'ACCEPT(sha'+'dowMap),\x20v'+'ec3\x20shadow'+'Coord,\x20vec'+'4\x20shadowPa'+'rams)\x20{\x0a\x20\x20'+'\x20\x20return\x20_'+'getShadowP'+'CF3x3(SHAD'+'OWMAP_PASS'+'(shadowMap'+'),\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a\x0afl'+'oat\x20getSha'+'dowSpotPCF'+'3x3(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec4\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3('+'SHADOWMAP_'+'PASS(shado'+'wMap),\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0a//\x20-----'+'\x20Omni\x20Samp'+'ling\x20-----'+'\x0a\x0a#ifndef\x20'+'WEBGPU\x0a\x0afl'+'oat\x20getSha'+'dowOmniPCF'+'3x3(sample'+'rCubeShado'+'w\x20shadowMa'+'p,\x20vec4\x20sh'+'adowParams'+',\x20vec3\x20dir'+')\x20{\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a\x20\x20\x20\x20fl'+'oat\x20shadow'+'Z\x20=\x20length'+'(dir)\x20*\x20sh'+'adowParams'+'.w\x20+\x20shado'+'wParams.z;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x0a\x20\x20\x20\x20'+'float\x20z\x20=\x20'+'1.0\x20/\x20floa'+'t(textureS'+'ize(shadow'+'Map,\x200));\x0a'+'\x20\x20\x20\x20vec3\x20t'+'c\x20=\x20normal'+'ize(dir);\x0a'+'\x0a\x20\x20\x20\x20//\x20av'+'erage\x204\x20sa'+'mples\x20-\x20no'+'t\x20a\x20strict')+('\x203x3\x20PCF\x20b'+'ut\x20that\x27s\x20'+'tricky\x20wit'+'h\x20cubemaps'+'\x0a\x20\x20\x20\x20mediu'+'mp\x20vec4\x20sh'+'adows;\x0a\x20\x20\x20'+'\x20shadows.x'+'\x20=\x20texture'+'(shadowMap'+',\x20vec4(tc\x20'+'+\x20vec3(\x20z,'+'\x20z,\x20z),\x20sh'+'adowZ));\x0a\x20'+'\x20\x20\x20shadows'+'.y\x20=\x20textu'+'re(shadowM'+'ap,\x20vec4(t'+'c\x20+\x20vec3(-'+'z,-z,\x20z),\x20'+'shadowZ));'+'\x0a\x20\x20\x20\x20shado'+'ws.z\x20=\x20tex'+'ture(shado'+'wMap,\x20vec4'+'(tc\x20+\x20vec3'+'(-z,\x20z,-z)'+',\x20shadowZ)'+');\x0a\x20\x20\x20\x20sha'+'dows.w\x20=\x20t'+'exture(sha'+'dowMap,\x20ve'+'c4(tc\x20+\x20ve'+'c3(\x20z,-z,-'+'z),\x20shadow'+'Z));\x0a\x0a\x20\x20\x20\x20'+'return\x20dot'+'(shadows,\x20'+'vec4(0.25)'+');\x0a}\x0a\x0afloa'+'t\x20getShado'+'wOmniPCF3x'+'3(samplerC'+'ubeShadow\x20'+'shadowMap,'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20lightDi'+'r)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowOmniP'+'CF3x3(shad'+'owMap,\x20sha'+'dowParams,'+'\x20lightDir)'+';\x0a}\x0a\x0a#endi'+'f\x0a'),_2='\x0afloat\x20_ge'+'tShadowPCF'+'5x5(SHADOW'+'MAP_ACCEPT'+'(shadowMap'+'),\x20vec3\x20sh'+'adowCoord,'+'\x20vec3\x20shad'+'owParams)\x20'+'{\x0a\x20\x20\x20\x20//\x20h'+'ttp://the-'+'witness.ne'+'t/news/201'+'3/09/shado'+'w-mapping-'+'summary-pa'+'rt-1/\x0a\x0a\x20\x20\x20'+'\x20float\x20z\x20='+'\x20shadowCoo'+'rd.z;\x0a\x20\x20\x20\x20'+'vec2\x20uv\x20=\x20'+'shadowCoor'+'d.xy\x20*\x20sha'+'dowParams.'+'x;\x20//\x201\x20un'+'it\x20-\x201\x20tex'+'el\x0a\x20\x20\x20\x20flo'+'at\x20shadowM'+'apSizeInv\x20'+'=\x201.0\x20/\x20sh'+'adowParams'+'.x;\x0a\x20\x20\x20\x20ve'+'c2\x20base_uv'+'\x20=\x20floor(u'+'v\x20+\x200.5);\x0a'+'\x20\x20\x20\x20float\x20'+'s\x20=\x20(uv.x\x20'+'+\x200.5\x20-\x20ba'+'se_uv.x);\x0a'+'\x20\x20\x20\x20float\x20'+'t\x20=\x20(uv.y\x20'+'+\x200.5\x20-\x20ba'+'se_uv.y);\x0a'+'\x20\x20\x20\x20base_u'+'v\x20-=\x20vec2('+'0.5);\x0a\x20\x20\x20\x20'+'base_uv\x20*='+'\x20shadowMap'+'SizeInv;\x0a\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20uw0\x20=\x20(4.'+'0\x20-\x203.0\x20*\x20'+'s);\x0a\x20\x20\x20\x20fl'+'oat\x20uw1\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20f'+'loat\x20uw2\x20='+'\x20(1.0\x20+\x203.'+'0\x20*\x20s);\x0a\x0a\x20'+'\x20\x20\x20float\x20u'+'0\x20=\x20(3.0\x20-'+'\x202.0\x20*\x20s)\x20'+'/\x20uw0\x20-\x202.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20u1\x20=\x20(3'+'.0\x20+\x20s)\x20/\x20'+'uw1;\x0a\x20\x20\x20\x20f'+'loat\x20u2\x20=\x20'+'s\x20/\x20uw2\x20+\x20'+'2.0;\x0a\x0a\x20\x20\x20\x20'+'float\x20vw0\x20'+'=\x20(4.0\x20-\x203'+'.0\x20*\x20t);\x0a\x20'+'\x20\x20\x20float\x20v'+'w1\x20=\x207.0;\x0a'+'\x20\x20\x20\x20float\x20'+'vw2\x20=\x20(1.0'+'\x20+\x203.0\x20*\x20t'+');\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20v0\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20t)\x20/\x20vw0'+'\x20-\x202.0;\x0a\x20\x20'+'\x20\x20float\x20v1'+'\x20=\x20(3.0\x20+\x20'+'t)\x20/\x20vw1;\x0a'+'\x20\x20\x20\x20float\x20'+'v2\x20=\x20t\x20/\x20v'+'w2\x20+\x202.0;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20sum\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20u0\x20'+'=\x20u0\x20*\x20sha'+'dowMapSize'+'Inv\x20+\x20base'+'_uv.x;\x0a\x20\x20\x20'+'\x20v0\x20=\x20v0\x20*'+'\x20shadowMap'+'SizeInv\x20+\x20'+'base_uv.y;'+'\x0a\x0a\x20\x20\x20\x20u1\x20='+('\x20u1\x20*\x20shad'+'owMapSizeI'+'nv\x20+\x20base_'+'uv.x;\x0a\x20\x20\x20\x20'+'v1\x20=\x20v1\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20u2\x20=\x20'+'u2\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20v'+'2\x20=\x20v2\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw0\x20*\x20vw0'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u0,\x20v0,'+'\x20z));\x0a\x20\x20\x20\x20'+'sum\x20+=\x20uw1'+'\x20*\x20vw0\x20*\x20t'+'extureShad'+'ow(shadowM'+'ap,\x20vec3(u'+'1,\x20v0,\x20z))'+';\x0a\x20\x20\x20\x20sum\x20'+'+=\x20uw2\x20*\x20v'+'w0\x20*\x20textu'+'reShadow(s'+'hadowMap,\x20'+'vec3(u2,\x20v'+'0,\x20z));\x0a\x0a\x20'+'\x20\x20\x20sum\x20+=\x20'+'uw0\x20*\x20vw1\x20'+'*\x20textureS'+'hadow(shad'+'owMap,\x20vec'+'3(u0,\x20v1,\x20'+'z));\x0a\x20\x20\x20\x20s'+'um\x20+=\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureShado'+'w(shadowMa'+'p,\x20vec3(u1'+',\x20v1,\x20z));'+'\x0a\x20\x20\x20\x20sum\x20+'+'=\x20uw2\x20*\x20vw'+'1\x20*\x20textur'+'eShadow(sh'+'adowMap,\x20v'+'ec3(u2,\x20v1'+',\x20z));\x0a\x0a\x20\x20'+'\x20\x20sum\x20+=\x20u'+'w0\x20*\x20vw2\x20*'+'\x20textureSh'+'adow(shado'+'wMap,\x20vec3'+'(u0,\x20v2,\x20z'+'));\x0a\x20\x20\x20\x20su'+'m\x20+=\x20uw1\x20*'+'\x20vw2\x20*\x20tex'+'tureShadow'+'(shadowMap'+',\x20vec3(u1,'+'\x20v2,\x20z));\x0a'+'\x20\x20\x20\x20sum\x20+='+'\x20uw2\x20*\x20vw2'+'\x20*\x20texture'+'Shadow(sha'+'dowMap,\x20ve'+'c3(u2,\x20v2,'+'\x20z));\x0a\x0a\x20\x20\x20'+'\x20sum\x20*=\x201.'+'0f\x20/\x20144.0'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20saturate'+'(sum);\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'um;\x0a}\x0a\x0aflo'+'at\x20getShad'+'owPCF5x5(S'+'HADOWMAP_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oord,\x20vec4'+'\x20shadowPar'+'ams)\x20{\x0a\x20\x20\x20'+'\x20return\x20_g'+'etShadowPC'+'F5x5(SHADO'+'WMAP_PASS('+'shadowMap)'+',\x20shadowCo'+'ord,\x20shado')+('wParams.xy'+'z);\x0a}\x0a\x0aflo'+'at\x20getShad'+'owSpotPCF5'+'x5(SHADOWM'+'AP_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getShad'+'owPCF5x5(S'+'HADOWMAP_P'+'ASS(shadow'+'Map),\x20shad'+'owCoord,\x20s'+'hadowParam'+'s.xyz);\x0a}\x0a'),g2='\x0a\x0a/**\x0a\x20*\x20P'+'CSS\x20is\x20a\x20s'+'hadow\x20samp'+'ling\x20metho'+'d\x20that\x20pro'+'vides\x20cont'+'act\x20harden'+'ing\x20soft\x20s'+'hadows,\x20us'+'ed\x20for\x20omn'+'i\x20and\x20spot'+'\x20lights.\x0a\x20'+'*\x20Based\x20on'+':\x20\x0a\x20*\x20-\x20ht'+'tps://www.'+'gamedev.ne'+'t/tutorial'+'s/programm'+'ing/graphi'+'cs/effect-'+'area-light'+'-shadows-p'+'art-1-pcss'+'-r4971/\x0a\x20*'+'\x20-\x20https:/'+'/github.co'+'m/pboechat'+'/PCSS\x20\x0a\x20*/'+'\x0a\x0a#define\x20'+'PCSS_SAMPL'+'E_COUNT\x2016'+'\x0a\x0auniform\x20'+'float\x20pcss'+'DiskSample'+'s[PCSS_SAM'+'PLE_COUNT]'+';\x0auniform\x20'+'float\x20pcss'+'SphereSamp'+'les[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x0avec2\x20'+'vogelDisk('+'int\x20sample'+'Index,\x20flo'+'at\x20count,\x20'+'float\x20phi,'+'\x20float\x20r)\x20'+'{\x0a\x20\x20\x20\x20cons'+'t\x20float\x20Go'+'ldenAngle\x20'+'=\x202.4;\x0a\x20\x20\x20'+'\x20float\x20the'+'ta\x20=\x20float'+'(sampleInd'+'ex)\x20*\x20Gold'+'enAngle\x20+\x20'+'phi;\x0a\x0a\x20\x20\x20\x20'+'float\x20sine'+'\x20=\x20sin(the'+'ta);\x0a\x20\x20\x20\x20f'+'loat\x20cosin'+'e\x20=\x20cos(th'+'eta);\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(r\x20*\x20cosi'+'ne,\x20r\x20*\x20si'+'ne);\x0a}\x0a\x0ave'+'c3\x20vogelSp'+'here(int\x20s'+'ampleIndex'+',\x20float\x20co'+'unt,\x20float'+'\x20phi,\x20floa'+'t\x20r)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20GoldenA'+'ngle\x20=\x202.4'+';\x0a\x20\x20\x20\x20floa'+'t\x20theta\x20=\x20'+'float(samp'+'leIndex)\x20*'+'\x20GoldenAng'+'le\x20+\x20phi;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20weight\x20=\x20'+'float(samp'+'leIndex)\x20/'+'\x20count;\x0a\x20\x20'+'\x20\x20return\x20v'+'ec3(cos(th'+'eta)\x20*\x20r,\x20'+'weight,\x20si'+'n(theta)\x20*'+'\x20r);\x0a}\x0a\x0afl'+'oat\x20noise('+'vec2\x20scree'+'nPos)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PHI\x20=\x20'+('1.61803398'+'8749894848'+'20459;\x20\x20//'+'\x20\x20=\x20Golde'+'n\x20Ratio\x20\x20\x20'+'\x0a\x20\x20\x20\x20retur'+'n\x20fract(si'+'n(dot(scre'+'enPos\x20*\x20PH'+'I,\x20screenP'+'os))\x20*\x20scr'+'eenPos.x);'+'\x0a}\x0a\x0afloat\x20'+'viewSpaceD'+'epth(float'+'\x20depth,\x20ma'+'t4\x20invProj'+'ection)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'z\x20=\x20depth\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20vec'+'4\x20clipSpac'+'e\x20=\x20vec4(0'+'.0,\x200.0,\x20z'+',\x201.0);\x0a\x20\x20'+'\x20\x20vec4\x20vie'+'wSpace\x20=\x20i'+'nvProjecti'+'on\x20*\x20clipS'+'pace;\x0a\x20\x20\x20\x20'+'return\x20vie'+'wSpace.z;\x0a'+'}\x0a\x0afloat\x20P'+'CSSBlocker'+'Distance(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20sampleCoo'+'rds[PCSS_S'+'AMPLE_COUN'+'T],\x20vec2\x20s'+'hadowCoord'+'s,\x20vec2\x20se'+'archSize,\x20'+'float\x20z,\x20v'+'ec4\x20camera'+'Params)\x20{\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20blockers\x20'+'=\x200.0;\x0a\x20\x20\x20'+'\x20float\x20ave'+'rageBlocke'+'r\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20offset\x20='+'\x20sampleCoo'+'rds[i]\x20*\x20s'+'earchSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec2\x20sample'+'UV\x20=\x20shado'+'wCoords\x20+\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20blocker'+'\x20=\x20texture'+'2DLod(shad'+'owMap,\x20sam'+'pleUV,\x200.0'+').r;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20float\x20i'+'sBlocking\x20'+'=\x20step(blo'+'cker,\x20z);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20bl'+'ockers\x20+=\x20'+'isBlocking'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'averageBlo'+'cker\x20+=\x20bl'+'ocker\x20*\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20if\x20(block'+'ers\x20>\x200.0)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20aver'+'ageBlocker'+'\x20/\x20blocker'+'s;\x0a\x20\x20\x20\x20ret'+'urn\x20-1.0;\x0a'+'}\x0a\x0afloat\x20P'+'CSS(TEXTUR')+('E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoords,\x20'+'vec4\x20camer'+'aParams,\x20v'+'ec2\x20shadow'+'SearchArea'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'linearizeD'+'epthWithPa'+'rams(shado'+'wCoords.z,'+'\x20cameraPar'+'ams);\x0a\x0a\x20\x20\x20'+'\x20vec2\x20samp'+'lePoints[P'+'CSS_SAMPLE'+'_COUNT];\x0a\x20'+'\x20\x20\x20const\x20f'+'loat\x20PI\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20float\x20n'+'oise\x20=\x20noi'+'se(\x20gl_Fra'+'gCoord.xy\x20'+')\x20*\x202.0\x20*\x20'+'PI;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x200;\x20i\x20<\x20PC'+'SS_SAMPLE_'+'COUNT;\x20i++'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20pc'+'ssPresampl'+'e\x20=\x20pcssDi'+'skSamples['+'i];\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20samplePo'+'ints[i]\x20=\x20'+'vogelDisk('+'i,\x20float(P'+'CSS_SAMPLE'+'_COUNT),\x20n'+'oise,\x20pcss'+'Presample)'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20a'+'verageBloc'+'ker\x20=\x20PCSS'+'BlockerDis'+'tance(TEXT'+'URE_PASS(s'+'hadowMap),'+'\x20samplePoi'+'nts,\x20shado'+'wCoords.xy'+',\x20shadowSe'+'archArea,\x20'+'receiverDe'+'pth,\x20camer'+'aParams);\x0a'+'\x20\x20\x20\x20if\x20(av'+'erageBlock'+'er\x20==\x20-1.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x201'+'.0;\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depthDiff'+'erence\x20=\x20('+'receiverDe'+'pth\x20-\x20aver'+'ageBlocker'+')\x20/\x203.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20filterRa'+'dius\x20=\x20dep'+'thDifferen'+'ce\x20*\x20shado'+'wSearchAre'+'a;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20sh'+'adow\x20=\x200.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20for\x20(int\x20'+'i\x20=\x200;\x20i\x20<'+'\x20PCSS_SAMP'+'LE_COUNT;\x20'+'i\x20++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20sampleU'+'V\x20=\x20sample'+'Points[i]\x20'+'*\x20filterRa')+('dius;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleUV\x20=\x20s'+'hadowCoord'+'s.xy\x20+\x20sam'+'pleUV;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dept'+'h\x20=\x20textur'+'e2DLod(sha'+'dowMap,\x20sa'+'mpleUV,\x200.'+'0).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'adow\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20shadow\x20/\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT);\x0a\x20\x20\x20\x20'+'}\x20\x0a}\x0a\x0a#ifn'+'def\x20WEBGPU'+'\x0a\x0afloat\x20PC'+'SSCubeBloc'+'kerDistanc'+'e(samplerC'+'ube\x20shadow'+'Map,\x20vec3\x20'+'lightDirNo'+'rm,\x20vec3\x20s'+'amplePoint'+'s[PCSS_SAM'+'PLE_COUNT]'+',\x20float\x20z,'+'\x20float\x20sha'+'dowSearchA'+'rea)\x20{\x0a\x20\x20\x20'+'\x20float\x20blo'+'ckers\x20=\x200.'+'0;\x0a\x20\x20\x20\x20flo'+'at\x20average'+'Blocker\x20=\x20'+'0.0;\x0a\x20\x20\x20\x20f'+'or\x20(int\x20i\x20'+'=\x200;\x20i\x20<\x20P'+'CSS_SAMPLE'+'_COUNT;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sa'+'mpleDir\x20=\x20'+'lightDirNo'+'rm\x20+\x20sampl'+'ePoints[i]'+'\x20*\x20shadowS'+'earchArea;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'ampleDir\x20='+'\x20normalize'+'(sampleDir'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20bl'+'ocker\x20=\x20te'+'xtureCubeL'+'od(shadowM'+'ap,\x20sample'+'Dir,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20isB'+'locking\x20=\x20'+'step(block'+'er,\x20z);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20bloc'+'kers\x20+=\x20is'+'Blocking;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20av'+'erageBlock'+'er\x20+=\x20bloc'+'ker\x20*\x20isBl'+'ocking;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20i'+'f\x20(blocker'+'s\x20>\x200.0)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20averag'+'eBlocker\x20/'+'\x20blockers;'+'\x0a\x20\x20\x20\x20retur'+'n\x20-1.0;\x0a}\x0a'+'\x0afloat\x20PCS'+'SCube(samp'+'lerCube\x20sh'+'adowMap,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c3\x20shadowC'+'oords,\x20vec')+('4\x20cameraPa'+'rams,\x20floa'+'t\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20vec3'+'\x20samplePoi'+'nts[PCSS_S'+'AMPLE_COUN'+'T];\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'PI\x20=\x203.141'+'5926535897'+'93;\x0a\x20\x20\x20\x20fl'+'oat\x20noise\x20'+'=\x20noise(\x20g'+'l_FragCoor'+'d.xy\x20)\x20*\x202'+'.0\x20*\x20PI;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20PCSS_SA'+'MPLE_COUNT'+';\x20i++)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20r\x20=\x20pcs'+'sSphereSam'+'ples[i];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sam'+'plePoints['+'i]\x20=\x20vogel'+'Sphere(i,\x20'+'float(PCSS'+'_SAMPLE_CO'+'UNT),\x20nois'+'e,\x20r);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fl'+'oat\x20receiv'+'erDepth\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20vec3'+'\x20lightDirN'+'orm\x20=\x20norm'+'alize(ligh'+'tDir);\x0a\x20\x20\x20'+'\x20\x0a\x20\x20\x20\x20floa'+'t\x20averageB'+'locker\x20=\x20P'+'CSSCubeBlo'+'ckerDistan'+'ce(shadowM'+'ap,\x20lightD'+'irNorm,\x20sa'+'mplePoints'+',\x20receiver'+'Depth,\x20sha'+'dowSearchA'+'rea);\x0a\x20\x20\x20\x20'+'if\x20(averag'+'eBlocker\x20='+'=\x20-1.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x201.0;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20fi'+'lterRadius'+'\x20=\x20((recei'+'verDepth\x20-'+'\x20averageBl'+'ocker)\x20/\x20a'+'verageBloc'+'ker)\x20*\x20sha'+'dowSearchA'+'rea;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'shadow\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20for\x20(int'+'\x20i\x20=\x200;\x20i\x20'+'<\x20PCSS_SAM'+'PLE_COUNT;'+'\x20i++)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20offset\x20'+'=\x20samplePo'+'ints[i]\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20sampleDir'+'\x20=\x20lightDi'+'rNorm\x20+\x20of'+'fset;\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20sa'+'mpleDir\x20=\x20'+'normalize('+'sampleDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20depth\x20=\x20t'+'extureCube'+'Lod(shadow'+'Map,\x20sampl'+'eDir,\x200.0)'+'.r;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'ow\x20+=\x20step'+'(receiverD'+'epth,\x20dept'+'h);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20s'+'hadow\x20/\x20fl'+'oat(PCSS_S'+'AMPLE_COUN'+'T);\x0a\x20\x20\x20\x20}\x0a'+'}\x0a\x0afloat\x20g'+'etShadowOm'+'niPCSS(sam'+'plerCube\x20s'+'hadowMap,\x20'+'vec3\x20shado'+'wCoord,\x20ve'+'c4\x20shadowP'+'arams,\x20vec'+'4\x20cameraPa'+'rams,\x20vec2'+'\x20shadowSea'+'rchArea,\x20v'+'ec3\x20lightD'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SCube(shad'+'owMap,\x20sha'+'dowParams,'+'\x20shadowCoo'+'rd,\x20camera'+'Params,\x20sh'+'adowSearch'+'Area.x,\x20li'+'ghtDir);\x0a}'+'\x0a\x0a#endif\x0a\x0a'+'float\x20getS'+'hadowSpotP'+'CSS(TEXTUR'+'E_ACCEPT(s'+'hadowMap),'+'\x20vec3\x20shad'+'owCoord,\x20v'+'ec4\x20shadow'+'Params,\x20ve'+'c4\x20cameraP'+'arams,\x20vec'+'2\x20shadowSe'+'archArea,\x20'+'vec3\x20light'+'Dir)\x20{\x0a\x20\x20\x20'+'\x20return\x20PC'+'SS(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoord,'+'\x20cameraPar'+'ams,\x20shado'+'wSearchAre'+'a);\x0a}\x0a\x0a'),S2='\x0a\x0ahighp\x20fl'+'oat\x20fractS'+'inRand(con'+'st\x20in\x20vec2'+'\x20uv)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20PI\x20=\x203.'+'1415926535'+'89793;\x0a\x20\x20\x20'+'\x20const\x20hig'+'hp\x20float\x20a'+'\x20=\x2012.9898'+',\x20b\x20=\x2078.2'+'33,\x20c\x20=\x2043'+'758.5453;\x0a'+'\x20\x20\x20\x20highp\x20'+'float\x20dt\x20='+'\x20dot(uv.xy'+',\x20vec2(a,\x20'+'b)),\x20sn\x20=\x20'+'mod(dt,\x20PI'+');\x0a\x20\x20\x20\x20ret'+'urn\x20fract('+'sin(sn)\x20*\x20'+'c);\x0a}\x0a\x0a//\x20'+'struct\x20to\x20'+'hold\x20preco'+'mputed\x20con'+'stants\x20and'+'\x20current\x20s'+'tate\x0astruc'+'t\x20VogelDis'+'kData\x20{\x0a\x20\x20'+'\x20\x20float\x20in'+'vNumSample'+'s;\x0a\x20\x20\x20\x20flo'+'at\x20initial'+'Angle;\x0a\x20\x20\x20'+'\x20float\x20cur'+'rentPointI'+'d;\x0a};\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'void\x20prepa'+'reDiskCons'+'tants(out\x20'+'VogelDiskD'+'ata\x20data,\x20'+'int\x20sample'+'Count,\x20flo'+'at\x20randomS'+'eed)\x20{\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20pi2\x20=\x206'+'.283185307'+'18;\x0a\x20\x20\x20\x20da'+'ta.invNumS'+'amples\x20=\x201'+'.0\x20/\x20float'+'(sampleCou'+'nt);\x0a\x20\x20\x20\x20d'+'ata.initia'+'lAngle\x20=\x20r'+'andomSeed\x20'+'*\x20pi2;\x0a\x20\x20\x20'+'\x20data.curr'+'entPointId'+'\x20=\x200.0;\x0a}\x0a'+'\x0a\x0avec2\x20gen'+'erateDiskS'+'ample(inou'+'t\x20VogelDis'+'kData\x20data'+')\x20{\x0a\x20\x20\x20\x20co'+'nst\x20float\x20'+'GOLDEN_ANG'+'LE\x20=\x202.399'+'963;\x0a\x20\x20\x20\x20f'+'loat\x20r\x20=\x20s'+'qrt((data.'+'currentPoi'+'ntId\x20+\x200.5'+')\x20*\x20data.i'+'nvNumSampl'+'es);\x0a\x20\x20\x20\x20f'+'loat\x20theta'+'\x20=\x20data.cu'+'rrentPoint'+'Id\x20*\x20GOLDE'+'N_ANGLE\x20+\x20'+'data.initi'+'alAngle;\x0a\x0a'+'\x20\x20\x20\x20vec2\x20o'+'ffset\x20=\x20ve'+('c2(cos(the'+'ta),\x20sin(t'+'heta))\x20*\x20p'+'ow(r,\x201.33'+');\x0a\x0a\x20\x20\x20\x20da'+'ta.current'+'PointId\x20+='+'\x201.0;\x0a\x20\x20\x20\x20'+'return\x20off'+'set;\x0a}\x0a\x0avo'+'id\x20PCSSFin'+'dBlocker(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20out\x20'+'float\x20avgB'+'lockerDept'+'h,\x20out\x20int'+'\x20numBlocke'+'rs,\x0a\x20\x20\x20\x20ve'+'c2\x20shadowC'+'oords,\x20flo'+'at\x20z,\x20int\x20'+'shadowBloc'+'kerSamples'+',\x20float\x20pe'+'numbraSize'+',\x20float\x20in'+'vShadowMap'+'Size,\x20floa'+'t\x20randomSe'+'ed)\x20{\x0a\x0a\x20\x20\x20'+'\x20VogelDisk'+'Data\x20diskD'+'ata;\x0a\x20\x20\x20\x20p'+'repareDisk'+'Constants('+'diskData,\x20'+'shadowBloc'+'kerSamples'+',\x20randomSe'+'ed);\x0a\x0a\x20\x20\x20\x20'+'float\x20sear'+'chWidth\x20=\x20'+'penumbraSi'+'ze\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x20\x20\x20\x20flo'+'at\x20blocker'+'Sum\x20=\x200.0;'+'\x0a\x20\x20\x20\x20numBl'+'ockers\x20=\x200'+';\x0a\x0a\x20\x20\x20\x20for'+'(\x20int\x20i\x20=\x20'+'0;\x20i\x20<\x20sha'+'dowBlocker'+'Samples;\x20+'+'+i\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'diskUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20sampleUV'+'\x20=\x20shadowC'+'oords\x20+\x20di'+'skUV\x20*\x20sea'+'rchWidth;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20shadow'+'MapDepth\x20='+'\x20texture2D'+'Lod(shadow'+'Map,\x20sampl'+'eUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(\x20shad'+'owMapDepth'+'\x20<\x20z\x20)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20blockerSu'+'m\x20+=\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers++;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20av'+'gBlockerDe'+'pth\x20=\x20bloc'+'kerSum\x20/\x20f'+'loat(numBl'+'ockers);\x0a}'+'\x0a\x0afloat\x20PC'+'SSFilter(T'+'EXTURE_ACC'+'EPT(shadow'+'Map),\x20vec2'+'\x20uv,\x20float')+('\x20receiverD'+'epth,\x20int\x20'+'shadowSamp'+'les,\x20float'+'\x20filterRad'+'ius,\x20float'+'\x20randomSee'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'VogelDiskD'+'ata\x20diskDa'+'ta;\x0a\x20\x20\x20\x20pr'+'epareDiskC'+'onstants(d'+'iskData,\x20s'+'hadowSampl'+'es,\x20random'+'Seed);\x0a\x0a\x20\x20'+'\x20\x20float\x20su'+'m\x20=\x200.0;\x0a\x20'+'\x20\x20\x20for\x20(in'+'t\x20i\x20=\x200;\x20i'+'\x20<\x20shadowS'+'amples;\x20i+'+'+)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec2\x20of'+'fsetUV\x20=\x20g'+'enerateDis'+'kSample(di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'pth\x20=\x20text'+'ure2DLod(s'+'hadowMap,\x20'+'uv\x20+\x20offse'+'tUV,\x200.0).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sum\x20+=\x20st'+'ep(receive'+'rDepth,\x20de'+'pth);\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20retu'+'rn\x20sum\x20/\x20f'+'loat(shado'+'wSamples);'+'\x0a}\x0a\x0afloat\x20'+'getPenumbr'+'a(float\x20db'+'locker,\x20fl'+'oat\x20drecei'+'ver,\x20float'+'\x20penumbraS'+'ize,\x20float'+'\x20penumbraF'+'alloff)\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'dist\x20=\x20dre'+'ceiver\x20-\x20d'+'blocker;\x0a\x20'+'\x20\x20\x20float\x20p'+'enumbra\x20=\x20'+'1.0\x20-\x20pow('+'1.0\x20-\x20dist'+',\x20penumbra'+'Falloff);\x0a'+'\x20\x20\x20\x20return'+'\x20penumbra\x20'+'*\x20penumbra'+'Size;\x0a}\x0a\x0af'+'loat\x20PCSSD'+'irectional'+'(TEXTURE_A'+'CCEPT(shad'+'owMap),\x20ve'+'c3\x20shadowC'+'oords,\x20vec'+'4\x20cameraPa'+'rams,\x20vec4'+'\x20softShado'+'wParams)\x20{'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20receiver'+'Depth\x20=\x20sh'+'adowCoords'+'.z;\x0a\x20\x20\x20\x20fl'+'oat\x20random'+'Seed\x20=\x20fra'+'ctSinRand('+'gl_FragCoo'+'rd.xy);\x0a\x20\x20'+'\x20\x20int\x20shad'+'owSamples\x20'+'=\x20int(soft'+'ShadowPara'+'ms.x);\x0a\x20\x20\x20'+'\x20int\x20shado'+'wBlockerSa'+'mples\x20=\x20in'+'t(softShad')+('owParams.y'+');\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'aSize\x20=\x20so'+'ftShadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20float\x20pe'+'numbraFall'+'off\x20=\x20soft'+'ShadowPara'+'ms.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20normal'+'ized\x20inver'+'se\x20shadow\x20'+'map\x20size\x20t'+'o\x20preserve'+'\x20the\x20shado'+'w\x20softness'+'\x20regardles'+'s\x20of\x20the\x20s'+'hadow\x20reso'+'lution\x0a\x20\x20\x20'+'\x20int\x20shado'+'wMapSize\x20='+'\x20textureSi'+'ze(shadowM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20float\x20'+'invShadowM'+'apSize\x20=\x201'+'.0\x20/\x20float'+'(shadowMap'+'Size);\x0a\x20\x20\x20'+'\x20invShadow'+'MapSize\x20*='+'\x20float(sha'+'dowMapSize'+')\x20/\x202048.0'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20penumbr'+'a;\x0a\x0a\x20\x20\x20\x20//'+'\x20contact\x20h'+'ardening\x20p'+'ath\x0a\x20\x20\x20\x20if'+'\x20(shadowBl'+'ockerSampl'+'es\x20>\x200)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20find\x20ave'+'rage\x20block'+'er\x20depth\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20avgBloc'+'kerDepth\x20='+'\x200.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20int\x20nu'+'mBlockers\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(T'+'EXTURE_PAS'+'S(shadowMa'+'p),\x20avgBlo'+'ckerDepth,'+'\x20numBlocke'+'rs,\x20shadow'+'Coords.xy,'+'\x20receiverD'+'epth,\x20shad'+'owBlockerS'+'amples,\x20pe'+'numbraSize'+',\x20invShado'+'wMapSize,\x20'+'randomSeed'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20early'+'\x20out\x20when\x20'+'no\x20blocker'+'s\x20are\x20pres'+'ent\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(numB'+'lockers\x20<\x20'+'1)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x201.0f;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'penumbra\x20s'+'ize\x20is\x20bas'+'ed\x20on\x20the\x20'+'blocker\x20de'+'pth\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20penumbra'+'\x20=\x20getPenu'+'mbra(avgBl'+'ockerDepth'+',\x20shadowCo'+'ords.z,\x20pe'+'numbraSize'+',\x20penumbra')+('Falloff);\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'tant\x20filte'+'r\x20size,\x20no'+'\x20contact\x20h'+'ardening\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pen'+'umbra\x20=\x20pe'+'numbraSize'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20float\x20f'+'ilterRadiu'+'s\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(TEXTURE'+'_PASS(shad'+'owMap),\x20sh'+'adowCoords'+'.xy,\x20recei'+'verDepth,\x20'+'shadowSamp'+'les,\x20filte'+'rRadius,\x20r'+'andomSeed)'+';\x0a}\x0a\x0afloat'+'\x20getShadow'+'PCSS(TEXTU'+'RE_ACCEPT('+'shadowMap)'+',\x20vec3\x20sha'+'dowCoord,\x20'+'vec4\x20shado'+'wParams,\x20v'+'ec4\x20camera'+'Params,\x20ve'+'c4\x20softSha'+'dowParams,'+'\x20vec3\x20ligh'+'tDir)\x20{\x0a\x20\x20'+'\x20\x20return\x20P'+'CSSDirecti'+'onal(TEXTU'+'RE_PASS(sh'+'adowMap),\x20'+'shadowCoor'+'d,\x20cameraP'+'arams,\x20sof'+'tShadowPar'+'ams);\x0a}\x0a\x0a'),y2='\x0aattribute'+'\x20float\x20ver'+'tex_boneIn'+'dices;\x0a\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20texture_'+'poseMap;\x0a\x0a'+'mat4\x20getBo'+'neMatrix(c'+'onst\x20in\x20fl'+'oat\x20indexF'+'loat)\x20{\x0a\x0a\x20'+'\x20\x20\x20int\x20wid'+'th\x20=\x20textu'+'reSize(tex'+'ture_poseM'+'ap,\x200).x;\x0a'+'\x20\x20\x20\x20int\x20in'+'dex\x20=\x20int('+'indexFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x20\x20\x20\x20int'+'\x20iy\x20=\x20inde'+'x\x20/\x20width;'+'\x0a\x20\x20\x20\x20int\x20i'+'x\x20=\x20index\x20'+'%\x20width;\x0a\x0a'+'\x20\x20\x20\x20//\x20rea'+'d\x20elements'+'\x20of\x204x3\x20ma'+'trix\x0a\x20\x20\x20\x20v'+'ec4\x20v1\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x200,'+'\x20iy),\x200);\x0a'+'\x20\x20\x20\x20vec4\x20v'+'2\x20=\x20texelF'+'etch(textu'+'re_poseMap'+',\x20ivec2(ix'+'\x20+\x201,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20v'+'ec4\x20v3\x20=\x20t'+'exelFetch('+'texture_po'+'seMap,\x20ive'+'c2(ix\x20+\x202,'+'\x20iy),\x200);\x0a'+'\x0a\x20\x20\x20\x20//\x20tr'+'anspose\x20to'+'\x204x4\x20matri'+'x\x0a\x20\x20\x20\x20retu'+'rn\x20mat4(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'x,\x20v2.x,\x20v'+'3.x,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.y'+',\x20v2.y,\x20v3'+'.y,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.z,'+'\x20v2.z,\x20v3.'+'z,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.w,\x20'+'v2.w,\x20v3.w'+',\x201\x0a\x20\x20\x20\x20);'+'\x0a}\x0a',v2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_boneWe'+'ights;\x0aatt'+'ribute\x20vec'+'4\x20vertex_b'+'oneIndices'+';\x0a\x0auniform'+'\x20highp\x20sam'+'pler2D\x20tex'+'ture_poseM'+'ap;\x0a\x0avoid\x20'+'getBoneMat'+'rix(const\x20'+'in\x20int\x20wid'+'th,\x20const\x20'+'in\x20int\x20ind'+'ex,\x20out\x20ve'+'c4\x20v1,\x20out'+'\x20vec4\x20v2,\x20'+'out\x20vec4\x20v'+'3)\x20{\x0a\x0a\x20\x20\x20\x20'+'int\x20v\x20=\x20in'+'dex\x20/\x20widt'+'h;\x0a\x20\x20\x20\x20int'+'\x20u\x20=\x20index'+'\x20%\x20width;\x0a'+'\x0a\x20\x20\x20\x20v1\x20=\x20'+'texelFetch'+'(texture_p'+'oseMap,\x20iv'+'ec2(u\x20+\x200,'+'\x20v),\x200);\x0a\x20'+'\x20\x20\x20v2\x20=\x20te'+'xelFetch(t'+'exture_pos'+'eMap,\x20ivec'+'2(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20v3\x20=\x20texe'+'lFetch(tex'+'ture_poseM'+'ap,\x20ivec2('+'u\x20+\x202,\x20v),'+'\x200);\x0a}\x0a\x0ama'+'t4\x20getSkin'+'Matrix(con'+'st\x20in\x20vec4'+'\x20indicesFl'+'oat,\x20const'+'\x20in\x20vec4\x20w'+'eights)\x20{\x0a'+'\x0a\x20\x20\x20\x20int\x20w'+'idth\x20=\x20tex'+'tureSize(t'+'exture_pos'+'eMap,\x200).x'+';\x0a\x20\x20\x20\x20ivec'+'4\x20indices\x20'+'=\x20ivec4(in'+'dicesFloat'+'\x20+\x200.5)\x20*\x20'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20get\x204\x20bon'+'e\x20matrices'+'\x0a\x20\x20\x20\x20vec4\x20'+'a1,\x20a2,\x20a3'+';\x0a\x20\x20\x20\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.x,\x20a1'+',\x20a2,\x20a3);'+'\x0a\x0a\x20\x20\x20\x20vec4'+'\x20b1,\x20b2,\x20b'+'3;\x0a\x20\x20\x20\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y,\x20b'+'1,\x20b2,\x20b3)'+';\x0a\x0a\x20\x20\x20\x20vec'+'4\x20c1,\x20c2,\x20'+'c3;\x0a\x20\x20\x20\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.z,\x20'+'c1,\x20c2,\x20c3'+');\x0a\x0a\x20\x20\x20\x20ve'+'c4\x20d1,\x20d2,'+'\x20d3;\x0a\x20\x20\x20\x20g'+'etBoneMatr'+'ix(width,\x20'+'indices.w,'+'\x20d1,\x20d2,\x20d'+'3);\x0a\x0a\x20\x20\x20\x20/'+'/\x20multiply'+'\x20them\x20by\x20w'+'eights\x20and'+'\x20add\x20up\x20to'+'\x20get\x20final'+'\x204x3\x20matri'+('x\x0a\x20\x20\x20\x20vec4'+'\x20v1\x20=\x20a1\x20*'+'\x20weights.x'+'\x20+\x20b1\x20*\x20we'+'ights.y\x20+\x20'+'c1\x20*\x20weigh'+'ts.z\x20+\x20d1\x20'+'*\x20weights.'+'w;\x0a\x20\x20\x20\x20vec'+'4\x20v2\x20=\x20a2\x20'+'*\x20weights.'+'x\x20+\x20b2\x20*\x20w'+'eights.y\x20+'+'\x20c2\x20*\x20weig'+'hts.z\x20+\x20d2'+'\x20*\x20weights'+'.w;\x0a\x20\x20\x20\x20ve'+'c4\x20v3\x20=\x20a3'+'\x20*\x20weights'+'.x\x20+\x20b3\x20*\x20'+'weights.y\x20'+'+\x20c3\x20*\x20wei'+'ghts.z\x20+\x20d'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'//\x20add\x20up\x20'+'weights\x0a\x20\x20'+'\x20\x20float\x20on'+'e\x20=\x20dot(we'+'ights,\x20vec'+'4(1.0));\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.x'+',\x20v2.x,\x20v3'+'.x,\x200,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20v1.y,'+'\x20v2.y,\x20v3.'+'y,\x200,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20v1.z,\x20'+'v2.z,\x20v3.z'+',\x200,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20v1.w,\x20v'+'2.w,\x20v3.w,'+'\x20one\x0a\x20\x20\x20\x20)'+';\x0a}\x0a'),x2='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20float\x20v'+'LinearDept'+'h;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22floatAsUi'+'ntPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec3\x20vView'+'Dir;\x0a\x20\x20\x20\x20u'+'niform\x20flo'+'at\x20skyboxH'+'ighlightMu'+'ltiplier;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20SKY_CUBE'+'MAP\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20samplerCu'+'be\x20texture'+'_cubeMap;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SKYM'+'ESH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20vec3\x20v'+'WorldPos;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20project'+'edSkydomeC'+'enter;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#el'+'se\x20//\x20env-'+'atlas\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22spher'+'icalPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22envA'+'tlasPS\x22\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_envAtla'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20f'+'loat\x20mipLe'+'vel;\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20void\x20mai'+'n(void)\x20{\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20outpu'+'t\x20linear\x20d'+'epth\x20durin'+'g\x20prepass\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20flo'+'at2vec4(vL'+'inearDepth'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20SK'+'Y_CUBEMAP\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SKYMES'+'H\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+('\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'envDir\x20=\x20n'+'ormalize(v'+'WorldPos\x20-'+'\x20projected'+'SkydomeCen'+'ter);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20dir\x20=\x20env'+'Dir\x20*\x20cube'+'MapRotatio'+'nMatrix;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20di'+'r\x20=\x20vViewD'+'ir;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir.x'+'\x20*=\x20-1.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20linear\x20=\x20'+'{SKYBOX_DE'+'CODE_FNC}('+'textureCub'+'e(texture_'+'cubeMap,\x20d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x20//\x20en'+'v-atlas\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dir\x20=\x20vVie'+'wDir\x20*\x20vec'+'3(-1.0,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'uv\x20=\x20toSph'+'ericalUv(n'+'ormalize(d'+'ir));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'ture2D(tex'+'ture_envAt'+'las,\x20mapRo'+'ughnessUv('+'uv,\x20mipLev'+'el)));\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20our\x20HDR'+'\x20encodes\x20v'+'alues\x20up\x20t'+'o\x2064,\x20so\x20a'+'llow\x20extra'+'\x20brightnes'+'s\x20for\x20the\x20'+'clipped\x20va'+'lues\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(any(great'+'erThanEqua'+'l(linear,\x20'+'vec3(64.0)'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20skyboxHi'+'ghlightMul'+'tiplier;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20gl_F'+'ragColor\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(toneM'+'ap(process'+'Environmen'+'t(linear))'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20}'+'\x0a'),T2='\x0aattribute'+'\x20vec4\x20aPos'+'ition;\x0a\x0aun'+'iform\x20mat4'+'\x20matrix_vi'+'ew;\x0aunifor'+'m\x20mat4\x20mat'+'rix_projec'+'tionSkybox'+';\x0auniform\x20'+'mat3\x20cubeM'+'apRotation'+'Matrix;\x0a\x0av'+'arying\x20vec'+'3\x20vViewDir'+';\x0a\x0a#ifdef\x20'+'PREPASS_PA'+'SS\x0a\x20\x20\x20\x20//\x20'+'when\x20skydo'+'me\x20renders'+'\x20depth\x20dur'+'ing\x20prepas'+'s,\x20generat'+'e\x20linear\x20d'+'epth\x0a\x20\x20\x20\x20v'+'arying\x20flo'+'at\x20vLinear'+'Depth;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20SKYMESH\x0a'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20mat'+'rix_model;'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vec3\x20vW'+'orldPos;\x0a#'+'endif\x0a\x0avoi'+'d\x20main(voi'+'d)\x20{\x0a\x0a\x20\x20\x20\x20'+'mat4\x20view\x20'+'=\x20matrix_v'+'iew;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20SKY'+'MESH\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec4\x20w'+'orldPos\x20=\x20'+'matrix_mod'+'el\x20*\x20aPosi'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vWorld'+'Pos\x20=\x20worl'+'dPos.xyz;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'_Position\x20'+'=\x20matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20PREPASS'+'_PASS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20linear\x20de'+'pth\x20from\x20t'+'he\x20worldPo'+'sition,\x20se'+'e\x20getLinea'+'rDepth\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'LinearDept'+'h\x20=\x20-(matr'+'ix_view\x20*\x20'+'vec4(vWorl'+'dPos,\x201.0)'+').z;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'view[3][0]'+'\x20=\x20view[3]'+'[1]\x20=\x20view'+'[3][2]\x20=\x200'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20gl_Posit'+'ion\x20=\x20matr'+'ix_project'+'ionSkybox\x20'+'*\x20(view\x20*\x20'+'aPosition)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vViewDir\x20='+'\x20aPosition'+'.xyz\x20*\x20cub'+'eMapRotati'+'onMatrix;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20//\x20for\x20in'+'finite\x20sky'+'box,\x20use\x20n'+'egative\x20gl'+'_Position.'+'w\x20to\x20get\x20p'+'ositive\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vLinear'+'Depth\x20=\x20-g'+'l_Position'+'.w;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20Fo'+'rce\x20skybox'+'\x20to\x20far\x20Z,'+'\x20regardles'+'s\x20of\x20the\x20c'+'lip\x20planes'+'\x20on\x20the\x20ca'+'mera\x0a\x20\x20\x20\x20/'+'/\x20Subtract'+'\x20a\x20tiny\x20fu'+'dge\x20factor'+'\x20to\x20ensure'+'\x20floating\x20'+'point\x20erro'+'rs\x20don\x27t\x0a\x20'+'\x20\x20\x20//\x20stil'+'l\x20push\x20pix'+'els\x20beyond'+'\x20far\x20Z.\x20Se'+'e:\x0a\x20\x20\x20\x20//\x20'+'https://co'+'mmunity.kh'+'ronos.org/'+'t/skybox-p'+'roblem/618'+'57\x0a\x0a\x20\x20\x20\x20gl'+'_Position.'+'z\x20=\x20gl_Pos'+'ition.w\x20-\x20'+'1.0e-7;\x0a}\x0a'),w2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0auniform\x20v'+'ec3\x20materi'+'al_specula'+'r;\x0a#endif\x0a'+'\x0avoid\x20getS'+'pecularity'+'()\x20{\x0a\x20\x20\x20\x20v'+'ec3\x20specul'+'arColor\x20=\x20'+'vec3(1,1,1'+');\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20specularC'+'olor\x20*=\x20ma'+'terial_spe'+'cular;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'AR_TEXTURE'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(texture2'+'DBias({STD'+'_SPECULAR_'+'TEXTURE_NA'+'ME},\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20textureB'+'ias)).{STD'+'_SPECULAR_'+'TEXTURE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SPECU'+'LAR_VERTEX'+'\x0a\x20\x20\x20\x20specu'+'larColor\x20*'+'=\x20saturate'+'(vVertexCo'+'lor.{STD_S'+'PECULAR_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20spe'+'cularColor'+';\x0a}\x0a',E2='\x0a//\x20equire'+'ctangular\x20'+'helper\x20fun'+'ctions\x0avec'+'2\x20toSpheri'+'cal(vec3\x20d'+'ir)\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'2(dir.xz\x20='+'=\x20vec2(0.0'+')\x20?\x200.0\x20:\x20'+'atan(dir.x'+',\x20dir.z),\x20'+'asin(dir.y'+'));\x0a}\x0a\x0avec'+'2\x20toSpheri'+'calUv(vec3'+'\x20dir)\x20{\x0a\x20\x20'+'\x20\x20const\x20fl'+'oat\x20PI\x20=\x203'+'.141592653'+'589793;\x0a\x20\x20'+'\x20\x20vec2\x20uv\x20'+'=\x20toSpheri'+'cal(dir)\x20/'+'\x20vec2(PI\x20*'+'\x202.0,\x20PI)\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2(uv.x,\x201'+'.0\x20-\x20uv.y)'+';\x0a}\x0a',b2='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'uniform\x20fl'+'oat\x20materi'+'al_specula'+'rityFactor'+';\x0a#endif\x0a\x0a'+'void\x20getSp'+'ecularityF'+'actor()\x20{\x0a'+'\x20\x20\x20\x20float\x20'+'specularit'+'yFactor\x20=\x20'+'1.0;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULARI'+'TYFACTOR_C'+'ONSTANT\x0a\x20\x20'+'\x20\x20specular'+'ityFactor\x20'+'*=\x20materia'+'l_specular'+'ityFactor;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE\x0a\x20\x20\x20\x20sp'+'ecularityF'+'actor\x20*=\x20t'+'exture2DBi'+'as({STD_SP'+'ECULARITYF'+'ACTOR_TEXT'+'URE_NAME},'+'\x20{STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_UV},\x20tex'+'tureBias).'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_SP'+'ECULARITYF'+'ACTOR_VERT'+'EX\x0a\x20\x20\x20\x20spe'+'cularityFa'+'ctor\x20*=\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SPECU'+'LARITYFACT'+'OR_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dSp'+'ecularityF'+'actor\x20=\x20sp'+'ecularityF'+'actor;\x0a}\x0a',A2='\x0afloat\x20get'+'SpotEffect'+'(vec3\x20ligh'+'tSpotDir,\x20'+'float\x20ligh'+'tInnerCone'+'Angle,\x20flo'+'at\x20lightOu'+'terConeAng'+'le,\x20vec3\x20l'+'ightDirNor'+'m)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20cosAn'+'gle\x20=\x20dot('+'lightDirNo'+'rm,\x20lightS'+'potDir);\x0a\x20'+'\x20\x20\x20return\x20'+'smoothstep'+'(lightOute'+'rConeAngle'+',\x20lightInn'+'erConeAngl'+'e,\x20cosAngl'+'e);\x0a}\x0a',C2='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2(vUv0.'+'x,\x201.0\x20-\x20v'+'Uv0.y);\x0a',P2='\x0a\x20\x20\x20\x20vec2\x20'+'tileMask\x20='+'\x20step(vMas'+'k,\x20vec2(0.'+'99999));\x0a\x20'+'\x20\x20\x20vec2\x20ti'+'leSize\x20=\x200'+'.5\x20*\x20(inne'+'rOffset.xy'+'\x20+\x20innerOf'+'fset.zw);\x0a'+'\x20\x20\x20\x20vec2\x20t'+'ileScale\x20='+'\x20vec2(1.0)'+'\x20/\x20(vec2(1'+'.0)\x20-\x20tile'+'Size);\x0a\x20\x20\x20'+'\x20vec2\x20clam'+'pedUv\x20=\x20mi'+'x(innerOff'+'set.xy\x20*\x200'+'.5,\x20vec2(1'+'.0)\x20-\x20inne'+'rOffset.zw'+'\x20*\x200.5,\x20fr'+'act((vTile'+'dUv\x20-\x20tile'+'Size)\x20*\x20ti'+'leScale));'+'\x0a\x20\x20\x20\x20clamp'+'edUv\x20=\x20cla'+'mpedUv\x20*\x20a'+'tlasRect.z'+'w\x20+\x20atlasR'+'ect.xy;\x0a\x20\x20'+'\x20\x20nineSlic'+'edUv\x20=\x20vUv'+'0\x20*\x20tileMa'+'sk\x20+\x20clamp'+'edUv\x20*\x20(ve'+'c2(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x20\x20\x20\x20\x0a',M2='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20float\x20dAl'+'pha\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_o'+'pacityMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20global'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dAlbe'+'do;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20dNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec3\x20'+'dSpeculari'+'ty\x20=\x20vec3('+'0.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dGlossines'+'s\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20dT'+'ransmissio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dThicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SC'+'ENE_COLOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'uSceneColo'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SCREEN_SI'+'ZE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20uS'+'creenSize;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_TRAN'+'SFORMS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20matrix_v'+'iewProject'+'ion;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_mod'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20parallax\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20dUv'+'Offset;\x0a\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_he'+'ightMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20diffu'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'pler2D\x20tex'+'ture_diffu'+'seMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_diffuseDe'+'tailMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_normal'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'NORMALDETA'+'IL_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_no'+'rmalDetail'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20refracti'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_THICKNES'+'S_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_thi'+'cknessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_REFRA'+'CTION_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_refractio'+'nMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20iridesc'+'ence\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_IRIDES'+'CENCE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20dIride'+'scence;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dIri'+'descenceTh')+('ickness;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_irides'+'cenceThick'+'nessMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20textur'+'e_iridesce'+'nceMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20flo'+'at\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20ccNorm'+'alW;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20dAnisotro'+'py;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20&\x20glossin'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_OR_REFLE'+'CTION\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20sheen\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20sS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fl'+'oat\x20sGloss'+'iness;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_SHEEN'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_sheenM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_sh'+'eenGlossMa')+('p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20metalness'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'float\x20dMet'+'alness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20float\x20'+'dIor;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_met'+'alnessMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20dSpecula'+'rityFactor'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_speculari'+'tyFactorMa'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20specular\x20'+'color\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20sampl'+'er2D\x20textu'+'re_specula'+'rMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20gloss\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'sampler2D\x20'+'texture_gl'+'ossMap;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20dAo'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20s'+'ampler2D\x20t'+'exture_aoM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AODE'+'TAIL_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20text'+'ure_aoDeta'+'ilMap;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dEmis'+'sion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_EMISS'+'IVE_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20sampler2D'+'\x20texture_e'+'missiveMap'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20c'+'learcoat\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'EARCOAT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatM'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20texture_'+'clearCoatG'+'lossMap;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_CLEARCOAT'+'NORMAL_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_clea'+'rCoatNorma'+'lMap;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'anisotropy'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde')+('f\x20STD_ANIS'+'OTROPY_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20te'+'xture_anis'+'otropyMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3\x20dLightma'+'p;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_LIGH'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'2D\x20texture'+'_lightMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20front\x20'+'end\x20output'+'s\x20to\x20lit\x20s'+'hader\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'litShaderC'+'orePS\x22\x0a'),D2='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20voi'+'d\x20getSpecu'+'larity()\x20{'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rity\x20=\x20vec'+'3(1);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20g'+'loss\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22glo'+'ssPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20ao\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_AO\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'aoPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'emissivePS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO')+('AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22clear'+'CoatPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatG'+'lossPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'clearCoatN'+'ormalPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20anis'+'otropy\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ani'+'sotropyPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(STD'+'_LIGHTMAP)'+'\x20||\x20define'+'d(STD_LIGH'+'T_VERTEX_C'+'OLOR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20void\x20eval'+'uateFronte'+'nd()\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20LIT'+'_BLEND_TYP'+'E\x20!=\x20NONE\x20'+'||\x20defined'+'(LIT_ALPHA'+'_TEST)\x20||\x20'+'defined(LI'+'T_ALPHA_TO'+'_COVERAGE)'+'\x20||\x20STD_OP'+'ACITY_DITH'+'ER\x20!=\x20NONE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getOpac'+'ity();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_ALPH'+'A_TEST)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20alphaT'+'est(dAlpha'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20opacityD'+'ither(dAlp'+'ha,\x200.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'opacity\x20=\x20'+'dAlpha;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20F'+'ORWARD_PAS'+'S\x20//\x20-----'+'----------'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20pa'+'rallax\x0a\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'HEIGHT_MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Parallax()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Albedo();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20d'+'Albedo;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20normal'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getNorm'+'al();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'worldNorma'+'l\x20=\x20dNorma'+'lW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_REFRACT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getRefract'+'ion();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_transmiss'+'ion\x20=\x20dTra'+'nsmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tThickness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_th'+'ickness\x20=\x20'+'dThickness'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_d'+'ispersion\x20'+'=\x20material'+'_dispersio'+'n;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20iridescen'+'ce\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_IRID'+'ESCENCE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getIri'+'descence()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tIridescen'+'ceThicknes'+'s();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_i'+'ridescence'+'_intensity'+'\x20=\x20dIrides'+'cence;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_iridescen'+'ce_thickne'+'ss\x20=\x20dIrid'+'escenceThi'+'ckness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('//\x20specula'+'rity\x20&\x20glo'+'ssiness\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR_'+'OR_REFLECT'+'ION\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getShee'+'n();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_sheen_s'+'pecularity'+'\x20=\x20sSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'SheenGloss'+'iness();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_she'+'en_gloss\x20='+'\x20sGlossine'+'ss;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20met'+'alness\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getMet'+'alness();\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_me'+'talness\x20=\x20'+'dMetalness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getIor()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'ior\x20=\x20dIor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20specu'+'larity\x20fac'+'tor\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rityFactor'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ityFactor\x20'+'=\x20dSpecula'+'rityFactor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20gloss'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSpecula'+'rity();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_specular'+'ity\x20=\x20dSpe'+'cularity;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_gloss\x20'+'=\x20dGlossin')+('ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getAO'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ao'+'\x20=\x20dAo;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20emissio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getEmi'+'ssion();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_e'+'mission\x20=\x20'+'dEmission;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cle'+'arcoat\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getC'+'learCoat()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tClearCoat'+'Glossiness'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getClearCo'+'atNormal()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20=\x20'+'ccSpecular'+'ity;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_c'+'learcoat_g'+'loss\x20=\x20ccG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_clear'+'coat_world'+'Normal\x20=\x20c'+'cNormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20aniso'+'tropy\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x20&&\x20def'+'ined(LIT_L'+'IGHTING)\x20&'+'&\x20defined('+'LIT_GGX_SP'+'ECULAR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getAni'+'sotropy();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20ligh'+'tmap\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(S'+'TD_LIGHTMA'+'P)\x20||\x20defi'+'ned(STD_LI'+'GHT_VERTEX'+'_COLOR)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getLig'+'htMap();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_lightma'+'p\x20=\x20dLight'+'map;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_lightm'+'apDir\x20=\x20dL'+'ightmapDir'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20}\x0a'),I2='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20floa'+'t\x20tbnBasis'+';\x0a#endif\x0a\x0a'+'void\x20getTB'+'N(vec3\x20tan'+'gent,\x20vec3'+'\x20binormal,'+'\x20vec3\x20norm'+'al)\x20{\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TB'+'N_TANGENTS'+'\x20//\x20tangen'+'ts\x20/\x20binor'+'mals\x20based'+'\x20TBN\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(tang'+'ent),\x20norm'+'alize(bino'+'rmal),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(TBN_'+'DERIVATIVE'+'S)\x20//\x20deri'+'vatives\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20{li'+'ghtingUv};'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20get\x20edg'+'e\x20vectors\x20'+'of\x20the\x20pix'+'el\x20triangl'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20dp1\x20='+'\x20dFdx(\x20vPo'+'sitionW\x20);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20dp2\x20=\x20'+'dFdy(\x20vPos'+'itionW\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c2\x20duv1\x20=\x20'+'dFdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec2\x20duv2\x20'+'=\x20dFdy(\x20uv'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20solv'+'e\x20the\x20line'+'ar\x20system\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20dp2perp'+'\x20=\x20cross(\x20'+'dp2,\x20norma'+'l\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3\x20dp'+'1perp\x20=\x20cr'+'oss(\x20norma'+'l,\x20dp1\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20T\x20=\x20dp2'+'perp\x20*\x20duv'+'1.x\x20+\x20dp1p'+'erp\x20*\x20duv2'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec3\x20B\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+'dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+('ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20float\x20de'+'nom\x20=\x20max('+'\x20dot(T,T),'+'\x20dot(B,B)\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20float\x20inv'+'max\x20=\x20(den'+'om\x20==\x200.0)'+'\x20?\x200.0\x20:\x20t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3(T\x20*\x20i'+'nvmax,\x20-B\x20'+'*\x20invmax,\x20'+'normal\x20);\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20object'+'\x20space\x20TBN'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec3\x20B\x20=\x20c'+'ross(norma'+'l,\x20vObject'+'SpaceUpW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3\x20T\x20=\x20cr'+'oss(normal'+',\x20B);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(d'+'ot(B,B)==0'+'.0)\x20//\x20dea'+'l\x20with\x20cas'+'e\x20when\x20vOb'+'jectSpaceU'+'pW\x20normal\x20'+'are\x20parall'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20float'+'\x20major=max'+'(max(norma'+'l.x,\x20norma'+'l.y),\x20norm'+'al.z);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(normal'+'.x\x20==\x20majo'+'r)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20B\x20=\x20cro'+'ss(normal,'+'\x20vec3(0,1,'+'0));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20T\x20=\x20cross'+'(normal,\x20B'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20e'+'lse\x20if\x20(no'+'rmal.y\x20==\x20'+'major)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20B\x20='+'\x20cross(nor'+'mal,\x20vec3('+'0,0,1));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20if'+'\x20(normal.z'+'\x20==\x20major)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20B\x20=\x20cross'+'(normal,\x20v'+'ec3(1,0,0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3(norm'+'alize(T),\x20'+'normalize('+'B),\x20normal'+'ize(normal'+'));\x0a\x0a\x20\x20\x20\x20#')+'endif\x0a}\x0a',L2='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20f'+'loat\x20mater'+'ial_thickn'+'ess;\x0a#endi'+'f\x0a\x0avoid\x20ge'+'tThickness'+'()\x20{\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_THICKNE'+'SS_CONSTAN'+'T\x0a\x20\x20\x20\x20dThi'+'ckness\x20*=\x20'+'material_t'+'hickness;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_THI'+'CKNESS_TEX'+'TURE\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20texture'+'2DBias({ST'+'D_THICKNES'+'S_TEXTURE_'+'NAME},\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20textu'+'reBias).{S'+'TD_THICKNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_TH'+'ICKNESS_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Thickness\x20'+'*=\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',R2='\x0a\x0a#if\x20(TON'+'EMAP\x20==\x20NO'+'NE)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22to'+'nemappingN'+'onePS\x22\x0a#el'+'if\x20TONEMAP'+'\x20==\x20FILMIC'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingFilm'+'icPS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20LINEAR\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingLinea'+'rPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20HEJL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngHejlPS\x22\x0a'+'#elif\x20TONE'+'MAP\x20==\x20ACE'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22tone'+'mappingAce'+'sPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20ACES2\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingAces2PS'+'\x22\x0a#elif\x20TO'+'NEMAP\x20==\x20N'+'EUTRAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngNeutralP'+'S\x22\x0a#endif\x0a'+'\x0a',O2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20flo'+'at\x20tA\x20=\x202.'+'51;\x0a\x20\x20\x20\x20fl'+'oat\x20tB\x20=\x200'+'.03;\x0a\x20\x20\x20\x20f'+'loat\x20tC\x20=\x20'+'2.43;\x0a\x20\x20\x20\x20'+'float\x20tD\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20float\x20tE\x20'+'=\x200.14;\x0a\x20\x20'+'\x20\x20vec3\x20x\x20='+'\x20color\x20*\x20e'+'xposure;\x0a\x20'+'\x20\x20\x20return\x20'+'(x*(tA*x+t'+'B))/(x*(tC'+'*x+tD)+tE)'+';\x0a}\x0a',F2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0a//\x20A'+'CES\x20approx'+'imation\x20by'+'\x20Stephen\x20H'+'ill\x0a\x0a//\x20sR'+'GB\x20=>\x20XYZ\x20'+'=>\x20D65_2_D'+'60\x20=>\x20AP1\x20'+'=>\x20RRT_SAT'+'\x0aconst\x20mat'+'3\x20ACESInpu'+'tMat\x20=\x20mat'+'3(\x0a\x20\x20\x20\x200.5'+'9719,\x200.35'+'458,\x200.048'+'23,\x0a\x20\x20\x20\x200.'+'07600,\x200.9'+'0834,\x200.01'+'566,\x0a\x20\x20\x20\x200'+'.02840,\x200.'+'13383,\x200.8'+'3777\x0a);\x0a\x0a/'+'/\x20ODT_SAT\x20'+'=>\x20XYZ\x20=>\x20'+'D60_2_D65\x20'+'=>\x20sRGB\x0aco'+'nst\x20mat3\x20A'+'CESOutputM'+'at\x20=\x20mat3('+'\x0a\x20\x20\x20\x20\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367,\x0a\x20\x20\x20\x20-'+'0.10208,\x20\x20'+'1.10813,\x20-'+'0.00605,\x0a\x20'+'\x20\x20\x20-0.0032'+'7,\x20-0.0727'+'6,\x20\x201.0760'+'2\x0a);\x0a\x0avec3'+'\x20RRTAndODT'+'Fit(vec3\x20v'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20a\x20=\x20v\x20*'+'\x20(v\x20+\x200.02'+'45786)\x20-\x200'+'.000090537'+';\x0a\x20\x20\x20\x20vec3'+'\x20b\x20=\x20v\x20*\x20('+'0.983729\x20*'+'\x20v\x20+\x200.432'+'9510)\x20+\x200.'+'238081;\x0a\x20\x20'+'\x20\x20return\x20a'+'\x20/\x20b;\x0a}\x0a\x0av'+'ec3\x20toneMa'+'p(vec3\x20col'+'or)\x20{\x0a\x20\x20\x20\x20'+'color\x20*=\x20e'+'xposure\x20/\x20'+'0.6;\x0a\x20\x20\x20\x20c'+'olor\x20=\x20col'+'or\x20*\x20ACESI'+'nputMat;\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20RRT\x20and'+'\x20ODT\x0a\x20\x20\x20\x20c'+'olor\x20=\x20RRT'+'AndODTFit('+'color);\x0a\x20\x20'+'\x20\x20color\x20=\x20'+'color\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20color\x20=\x20c'+'lamp(color'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',N2='\x0aconst\x20flo'+'at\x20A\x20=\x20\x200.'+'15;\x0aconst\x20'+'float\x20B\x20=\x20'+'\x200.50;\x0acon'+'st\x20float\x20C'+'\x20=\x20\x200.10;\x0a'+'const\x20floa'+'t\x20D\x20=\x20\x200.2'+'0;\x0aconst\x20f'+'loat\x20E\x20=\x20\x20'+'0.02;\x0acons'+'t\x20float\x20F\x20'+'=\x20\x200.30;\x0ac'+'onst\x20float'+'\x20W\x20=\x20\x2011.2'+';\x0a\x0auniform'+'\x20float\x20exp'+'osure;\x0a\x0ave'+'c3\x20unchart'+'ed2Tonemap'+'(vec3\x20x)\x20{'+'\x0a\x20\x20\x20return'+'\x20((x*(A*x+'+'C*B)+D*E)/'+'(x*(A*x+B)'+'+D*F))-E/F'+';\x0a}\x0a\x0avec3\x20'+'toneMap(ve'+'c3\x20color)\x20'+'{\x0a\x20\x20\x20\x20colo'+'r\x20=\x20unchar'+'ted2Tonema'+'p(color\x20*\x20'+'exposure);'+'\x0a\x20\x20\x20\x20vec3\x20'+'whiteScale'+'\x20=\x201.0\x20/\x20u'+'ncharted2T'+'onemap(vec'+'3(W,W,W));'+'\x0a\x20\x20\x20\x20color'+'\x20=\x20color\x20*'+'\x20whiteScal'+'e;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20color'+';\x0a}\x0a',k2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20col'+'or\x20*=\x20expo'+'sure;\x0a\x20\x20\x20\x20'+'const\x20floa'+'t\x20\x20A\x20=\x200.2'+'2,\x20B\x20=\x200.3'+',\x20C\x20=\x20.1,\x20'+'D\x20=\x200.2,\x20E'+'\x20=\x20.01,\x20F\x20'+'=\x200.3;\x0a\x20\x20\x20'+'\x20const\x20flo'+'at\x20Scl\x20=\x201'+'.25;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20h\x20=\x20m'+'ax(\x20vec3(0'+'.0),\x20color'+'\x20-\x20vec3(0.'+'004)\x20);\x0a\x20\x20'+'\x20\x20return\x20('+'h*((Scl*A)'+'*h+Scl*vec'+'3(C*B,C*B,'+'C*B))+Scl*'+'vec3(D*E,D'+'*E,D*E))\x20/'+'\x20(h*(A*h+v'+'ec3(B,B,B)'+')+vec3(D*F'+',D*F,D*F))'+'\x20-\x20Scl*vec'+'3(E/F,E/F,'+'E/F);\x0a}\x0a',U2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20color\x20'+'*\x20exposure'+';\x0a}\x0a',B2='\x0auniform\x20f'+'loat\x20expos'+'ure;\x0a\x0avec3'+'\x20toneMap(v'+'ec3\x20color)'+'\x20{\x0a\x0a\x20\x20\x20\x20co'+'lor\x20*=\x20exp'+'osure;\x0a\x0a\x20\x20'+'\x20\x20float\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20float\x20d'+'esaturatio'+'n\x20=\x200.15;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20x\x20=\x20min(c'+'olor.r,\x20mi'+'n(color.g,'+'\x20color.b))'+';\x0a\x20\x20\x20\x20floa'+'t\x20offset\x20='+'\x20x\x20<\x200.08\x20'+'?\x20x\x20-\x206.25'+'\x20*\x20x\x20*\x20x\x20:'+'\x200.04;\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'offset;\x0a\x0a\x20'+'\x20\x20\x20float\x20p'+'eak\x20=\x20max('+'color.r,\x20m'+'ax(color.g'+',\x20color.b)'+');\x0a\x20\x20\x20\x20if\x20'+'(peak\x20<\x20st'+'artCompres'+'sion)\x20retu'+'rn\x20color;\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20d\x20=\x201.\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20float\x20ne'+'wPeak\x20=\x201.'+'\x20-\x20d\x20*\x20d\x20/'+'\x20(peak\x20+\x20d'+'\x20-\x20startCo'+'mpression)'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x20newPe'+'ak\x20/\x20peak;'+'\x0a\x0a\x20\x20\x20\x20floa'+'t\x20g\x20=\x201.\x20-'+'\x201.\x20/\x20(des'+'aturation\x20'+'*\x20(peak\x20-\x20'+'newPeak)\x20+'+'\x201.);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ne'+'wPeak\x20*\x20ve'+'c3(1,\x201,\x201'+'),\x20g);\x0a}\x0a',z2='\x0avec3\x20tone'+'Map(vec3\x20c'+'olor)\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'olor;\x0a}\x0a',V2='\x0a#ifdef\x20PI'+'XELSNAP\x0aun'+'iform\x20vec4'+'\x20uScreenSi'+'ze;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'CREENSPACE'+'\x0auniform\x20f'+'loat\x20proje'+'ctionFlipY'+';\x0a#endif\x0a\x0a'+'vec4\x20evalW'+'orldPositi'+'on(vec3\x20ve'+'rtexPositi'+'on,\x20mat4\x20m'+'odelMatrix'+')\x20{\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localP'+'os\x20=\x20getLo'+'calPositio'+'n(vertexPo'+'sition);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20NINESLICE'+'D\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20outer\x20a'+'nd\x20inner\x20v'+'ertices\x20ar'+'e\x20at\x20the\x20s'+'ame\x20positi'+'on,\x20scale\x20'+'both\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s.xz\x20*=\x20ou'+'terScale;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20offset\x20i'+'nner\x20verti'+'ces\x20inside'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20(origina'+'l\x20vertices'+'\x20must\x20be\x20i'+'n\x20[-1;1]\x20r'+'ange)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20p'+'ositiveUni'+'tOffset\x20=\x20'+'clamp(vert'+'exPosition'+'.xz,\x20vec2('+'0.0),\x20vec2'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vec2'+'\x20negativeU'+'nitOffset\x20'+'=\x20clamp(-v'+'ertexPosit'+'ion.xz,\x20ve'+'c2(0.0),\x20v'+'ec2(1.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'ocalPos.xz'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vTiledU'+'v\x20=\x20(local'+'Pos.xz\x20-\x20o'+'uterScale\x20'+'+\x20innerOff'+'set.xy)\x20*\x20'+'-0.5\x20+\x201.0'+';\x20//\x20uv\x20=\x20'+'local\x20pos\x20'+'-\x20inner\x20co'+'rner\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20localP'+'os.xz\x20*=\x20-'+'0.5;\x20//\x20mo'+'ve\x20from\x20-1'+';1\x20to\x20-0.5'+';0.5\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20localPo'+'s\x20=\x20localP'+'os.xzy;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20vec4\x20p'+'osW\x20=\x20mode'+'lMatrix\x20*\x20'+'vec4(local'+('Pos,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREENS'+'PACE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20posW.zw'+'\x20=\x20vec2(0.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20posW;\x0a}\x0a'+'\x0avec4\x20getP'+'osition()\x20'+'{\x0a\x0a\x20\x20\x20\x20dMo'+'delMatrix\x20'+'=\x20getModel'+'Matrix();\x0a'+'\x0a\x20\x20\x20\x20vec4\x20'+'posW\x20=\x20eva'+'lWorldPosi'+'tion(verte'+'x_position'+'.xyz,\x20dMod'+'elMatrix);'+'\x0a\x20\x20\x20\x20dPosi'+'tionW\x20=\x20po'+'sW.xyz;\x0a\x0a\x20'+'\x20\x20\x20vec4\x20sc'+'reenPos;\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'UV1LAYOUT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sc'+'reenPos\x20=\x20'+'vec4(verte'+'x_texCoord'+'1.xy\x20*\x202.0'+'\x20-\x201.0,\x200.'+'5,\x201);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20WEBGPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20SCREENSP'+'ACE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos\x20=\x20po'+'sW;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.y\x20*='+'\x20projectio'+'nFlipY;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20screen'+'Pos\x20=\x20matr'+'ix_viewPro'+'jection\x20*\x20'+'posW;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PIX'+'ELSNAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20snap\x20ver'+'tex\x20to\x20a\x20p'+'ixel\x20bound'+'ary\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x200.5'+')\x20+\x200.5;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.xy\x20*=\x20uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'ScreenSize'+'.zw;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x202.'+'0)\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20sc'+'reenPos;\x0a}')+('\x0a\x0avec3\x20get'+'WorldPosit'+'ion()\x20{\x0a\x20\x20'+'\x20\x20return\x20d'+'PositionW;'+'\x0a}\x0a'),G2='\x0a\x0aattribut'+'e\x20vec4\x20ver'+'tex_positi'+'on;\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifdef\x20MORP'+'HING\x0a\x20\x20\x20\x20u'+'niform\x20vec'+'2\x20morph_te'+'x_params;\x0a'+'\x20\x20\x20\x20attrib'+'ute\x20uint\x20m'+'orph_verte'+'x_id;\x0a\x0a\x20\x20\x20'+'\x20ivec2\x20get'+'TextureMor'+'phCoords()'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20turn\x20'+'morph_vert'+'ex_id\x20into'+'\x20int\x20grid\x20'+'coordinate'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ivec2\x20text'+'ureSize\x20=\x20'+'ivec2(morp'+'h_tex_para'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20int\x20mor'+'phGridV\x20=\x20'+'int(morph_'+'vertex_id)'+'\x20/\x20texture'+'Size.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20int\x20'+'morphGridU'+'\x20=\x20int(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20WEBGPU\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20flipY\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20morphGrid'+'V\x20=\x20textur'+'eSize.y\x20-\x20'+'morphGridV'+'\x20-\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20ivec'+'2(morphGri'+'dU,\x20morphG'+'ridV);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_POSITI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_INT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20vec3\x20aabb'+'Size;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec3'+'\x20aabbMin;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'usampler2D'+'\x20morphPosi'+'tionTex;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20highp\x20s'+'ampler2D\x20m'+'orphPositi'+'onTex;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a#endif\x0a'+'\x0a#ifdef\x20de'+'fined(BATC'+'H)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ski'+'nBatchVS\x22\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getBon'+'eMatrix(ve'+'rtex_boneI'+'ndices);\x0a\x20'+'\x20\x20\x20}\x0a\x0a#eli'+'f\x20defined('+'SKIN)\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x0a\x20'+'\x20\x20\x20mat4\x20ge'+'tModelMatr'+'ix()\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20get'+'SkinMatrix'+'(vertex_bo'+'neIndices,'+'\x20vertex_bo'+'neWeights)'+';\x0a\x20\x20\x20\x20}\x0a\x0a#'+'elif\x20defin'+'ed(INSTANC'+'ING)\x0a\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'transformI'+'nstancingV'+'S\x22\x0a\x0a#else\x0a'+'\x0a\x20\x20\x20\x20mat4\x20'+'getModelMa'+'trix()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20matrix'+'_model;\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a\x0avec3\x20ge'+'tLocalPosi'+'tion(vec3\x20'+'vertexPosi'+'tion)\x20{\x0a\x0a\x20'+'\x20\x20\x20vec3\x20lo'+'calPos\x20=\x20v'+'ertexPosit'+'ion;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ivec2\x20'+'morphUV\x20=\x20'+'getTexture'+'MorphCoord'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20MORPHING_'+'INT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20vec3'+'\x20morphPos\x20'+'=\x20vec3(tex'+'elFetch(mo'+'rphPositio'+'nTex,\x20ivec'+'2(morphUV)'+',\x200).xyz)\x20'+'/\x2065535.0\x20'+'*\x20aabbSize'+'\x20+\x20aabbMin'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20morphPo'+'s\x20=\x20texelF'+'etch(morph'+'PositionTe'+'x,\x20ivec2(m'+'orphUV),\x200'+').xyz;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20localPos\x20'+'+=\x20morphPo'+'s;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20loc'+'alPos;\x0a}\x0a\x0a'),H2='\x0a\x0aattribut'+'e\x20vec4\x20ins'+'tance_line'+'1;\x0aattribu'+'te\x20vec4\x20in'+'stance_lin'+'e2;\x0aattrib'+'ute\x20vec4\x20i'+'nstance_li'+'ne3;\x0aattri'+'bute\x20vec4\x20'+'instance_l'+'ine4;\x0a\x0amat'+'4\x20getModel'+'Matrix()\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20matrix_m'+'odel\x20*\x20mat'+'4(instance'+'_line1,\x20in'+'stance_lin'+'e2,\x20instan'+'ce_line3,\x20'+'instance_l'+'ine4);\x0a}\x0a',W2='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0auniform'+'\x20float\x20mat'+'erial_refr'+'action;\x0a#e'+'ndif\x0a\x0avoid'+'\x20getRefrac'+'tion()\x20{\x0a\x20'+'\x20\x20\x20float\x20r'+'efraction\x20'+'=\x201.0;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20ref'+'raction\x20=\x20'+'material_r'+'efraction;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_RE'+'FRACTION_T'+'EXTURE\x0a\x20\x20\x20'+'\x20refractio'+'n\x20*=\x20textu'+'re2DBias({'+'STD_REFRAC'+'TION_TEXTU'+'RE_NAME},\x20'+'{STD_REFRA'+'CTION_TEXT'+'URE_UV},\x20t'+'extureBias'+').{STD_REF'+'RACTION_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_REFRACT'+'ION_VERTEX'+'\x0a\x20\x20\x20\x20refra'+'ction\x20*=\x20s'+'aturate(vV'+'ertexColor'+'.{STD_REFR'+'ACTION_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20dTransmis'+'sion\x20=\x20ref'+'raction;\x0a}'+'\x0a',$2='\x0auniform\x20f'+'loat\x20twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0avoi'+'d\x20handleTw'+'oSidedLigh'+'ting()\x20{\x0a\x20'+'\x20\x20\x20dTBN[2]'+'\x20*=\x20gl_Fro'+'ntFacing\x20?'+'\x20twoSidedL'+'ightingNeg'+'ScaleFacto'+'r\x20:\x20-twoSi'+'dedLightin'+'gNegScaleF'+'actor;\x0a}\x0a',X2='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20vec2\x20ge'+'tUv0()\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'2\x20uv\x20=\x20ver'+'tex_positi'+'on.xz;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20o'+'ffset\x20inne'+'r\x20vertices'+'\x20inside\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20('+'original\x20v'+'ertices\x20mu'+'st\x20be\x20in\x20['+'-1;1]\x20rang'+'e)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec2\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2(0.'+'0),\x20vec2(1'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec2\x20n'+'egativeUni'+'tOffset\x20=\x20'+'clamp(-ver'+'tex_positi'+'on.xz,\x20vec'+'2(0.0),\x20ve'+'c2(1.0));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20+=\x20(-posi'+'tiveUnitOf'+'fset\x20*\x20inn'+'erOffset.x'+'y\x20+\x20negati'+'veUnitOffs'+'et\x20*\x20inner'+'Offset.zw)'+'\x20*\x20vertex_'+'texCoord0.'+'xy;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20-0.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20atlasRe'+'ct.zw\x20+\x20at'+'lasRect.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vMask\x20=\x20v'+'ertex_texC'+'oord0.xy;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20uv;\x0a'+'\x20\x20\x20\x20}\x0a#els'+'e\x0a\x20\x20\x20\x20vec2'+'\x20getUv0()\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20ver'+'tex_texCoo'+'rd0;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a',q2='\x0avec2\x20getU'+'v1()\x20{\x0a\x20\x20\x20'+'\x20return\x20ve'+'rtex_texCo'+'ord1;\x0a}\x0a',j2='\x0avUV{TRANS'+'FORM_UV_{i'+'}}_{TRANSF'+'ORM_ID_{i}'+'}\x20=\x20vec2(\x0a'+'\x20\x20\x20\x20dot(ve'+'c3(uv{TRAN'+'SFORM_UV_{'+'i}},\x201),\x20{'+'TRANSFORM_'+'NAME_{i}}0'+'),\x0a\x20\x20\x20\x20dot'+'(vec3(uv{T'+'RANSFORM_U'+'V_{i}},\x201)'+',\x20{TRANSFO'+'RM_NAME_{i'+'}}1)\x0a);\x0a',Y2='\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}0;'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20vec3\x20{T'+'RANSFORM_N'+'AME_{i}}1;'+'\x0a',K2='\x0avoid\x20getV'+'iewDir()\x20{'+'\x0a\x20\x20\x20\x20dView'+'DirW\x20=\x20nor'+'malize(vie'+'w_position'+'\x20-\x20vPositi'+'onW);\x0a}\x0a',Z2={'alphaTestPS':YC,'ambientPS':KC,'anisotropyPS':ZC,'aoPS':QC,'aoDiffuseOccPS':JC,'aoSpecOccPS':e1,'bakeDirLmEndPS':t1,'bakeLmEndPS':s1,'basePS':i1,'baseNineSlicedPS':r1,'baseNineSlicedTiledPS':a1,'bayerPS':n1,'blurVSMPS':o1,'clearCoatPS':l1,'clearCoatGlossPS':c1,'clearCoatNormalPS':h1,'clusteredLightCookiesPS':f1,'clusteredLightShadowsPS':u1,'clusteredLightUtilsPS':d1,'clusteredLightPS':p1,'combinePS':m1,'cookieBlit2DPS':_1,'cookieBlitCubePS':g1,'cookieBlitVS':S1,'cookiePS':y1,'cubeMapProjectPS':v1,'cubeMapRotatePS':x1,'debugOutputPS':T1,'debugProcessFrontendPS':w1,'detailModesPS':b1,'diffusePS':A1,'decodePS':E1,'emissivePS':C1,'encodePS':P1,'endPS':M1,'envAtlasPS':D1,'envProcPS':I1,'falloffInvSquaredPS':L1,'falloffLinearPS':R1,'floatAsUintPS':O1,'fogPS':F1,'fresnelSchlickPS':N1,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':k1,'gammaPS':U1,'gles3PS':Vy,'gles3VS':Gy,'glossPS':B1,'gsplatCenterVS':z1,'gsplatCornerVS':K1,'gsplatColorVS':V1,'gsplatCommonVS':G1,'gsplatCompressedDataVS':H1,'gsplatCompressedSHVS':W1,'gsplatEvalSHVS':$1,'gsplatQuatToMat3VS':X1,'gsplatSogsColorVS':q1,'gsplatSogsDataVS':j1,'gsplatSogsSHVS':Y1,'gsplatDataVS':Z1,'gsplatOutputVS':Q1,'gsplatPS':J1,'gsplatSHVS':eP,'gsplatSourceVS':tP,'gsplatVS':sP,'quadVS':iP,'immediateLinePS':rP,'immediateLineVS':aP,'iridescenceDiffractionPS':nP,'iridescencePS':oP,'iridescenceThicknessPS':lP,'iorPS':cP,'lightDeclarationPS':hP,'lightDiffuseLambertPS':dP,'lightDirPointPS':fP,'lightEvaluationPS':uP,'lightFunctionLightPS':pP,'lightFunctionShadowPS':mP,'lightingPS':_P,'lightmapAddPS':gP,'lightmapPS':SP,'lightSpecularAnisoGGXPS':yP,'lightSpecularBlinnPS':vP,'lightSheenPS':xP,'linearizeDepthPS':TP,'litForwardBackendPS':wP,'litForwardDeclarationPS':EP,'litForwardMainPS':bP,'litForwardPostCodePS':AP,'litForwardPreCodePS':CP,'litMainPS':PP,'litMainVS':MP,'litOtherMainPS':DP,'litShaderArgsPS':IP,'litShaderCorePS':LP,'litShadowMainPS':RP,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':OP,'metalnessPS':FP,'metalnessModulatePS':kP,'morphPS':UP,'morphVS':BP,'msdfPS':NP,'msdfVS':zP,'normalVS':VP,'normalCoreVS':GP,'normalMapPS':HP,'opacityPS':WP,'opacityDitherPS':$P,'outputPS':XP,'outputAlphaPS':qP,'outputTex2DPS':jP,'sheenPS':YP,'sheenGlossPS':KP,'parallaxPS':ZP,'pickPS':QP,'reflDirPS':JP,'reflDirAnisoPS':e2,'reflectionCCPS':t2,'reflectionCubePS':s2,'reflectionEnvHQPS':i2,'reflectionEnvPS':r2,'reflectionSpherePS':a2,'reflectionSheenPS':n2,'refractionCubePS':o2,'refractionDynamicPS':l2,'reprojectPS':c2,'reprojectVS':h2,'screenDepthPS':d2,'shadowCascadesPS':f2,'shadowEVSMPS':u2,'shadowPCF1PS':p2,'shadowPCF3PS':m2,'shadowPCF5PS':_2,'shadowPCSSPS':g2,'shadowSoftPS':S2,'skinBatchVS':y2,'skinVS':v2,'skyboxPS':x2,'skyboxVS':T2,'specularPS':w2,'sphericalPS':E2,'specularityFactorPS':b2,'spotPS':A2,'startNineSlicedPS':C2,'startNineSlicedTiledPS':P2,'stdDeclarationPS':M2,'stdFrontEndPS':D2,'TBNPS':I2,'thicknessPS':L2,'tonemappingPS':R2,'tonemappingAcesPS':O2,'tonemappingAces2PS':F2,'tonemappingFilmicPS':N2,'tonemappingHejlPS':k2,'tonemappingLinearPS':U2,'tonemappingNeutralPS':B2,'tonemappingNonePS':z2,'transformVS':V2,'transformCoreVS':G2,'transformInstancingVS':H2,'transmissionPS':W2,'twoSidedLightingPS':$2,'uv0VS':X2,'uv1VS':q2,'uvTransformVS':j2,'uvTransformUniformsPS':Y2,'viewDirPS':K2,'webgpuPS':Hy,'webgpuVS':Wy},Q2='\x0auniform\x20a'+'lpha_ref:\x20'+'f32;\x0a\x0afn\x20a'+'lphaTest(a'+':\x20f32)\x20{\x0a\x20'+'\x20\x20\x20if\x20(a\x20<'+'\x20uniform.a'+'lpha_ref)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',J2='\x0a\x0a#if\x20LIT_'+'AMBIENT_SO'+'URCE\x20==\x20AM'+'BIENTSH\x0a\x20\x20'+'\x20\x20uniform\x20'+'ambientSH:'+'\x20array<vec'+'3f,\x209>;\x0a#e'+'ndif\x0a\x0a#if\x20'+'LIT_AMBIEN'+'T_SOURCE\x20='+'=\x20ENVALATL'+'AS\x0a\x20\x20\x20\x20#in'+'clude\x20\x22env'+'AtlasPS\x22\x0a\x0a'+'\x20\x20\x20\x20#ifnde'+'f\x20ENV_ATLA'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#define\x20EN'+'V_ATLAS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_en'+'vAtlas:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_envAt'+'lasSampler'+':\x20sampler;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'fn\x20addAmbi'+'ent(worldN'+'ormal:\x20vec'+'3f)\x20{\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20A'+'MBIENTSH\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20n:\x20vec3f'+'\x20=\x20cubeMap'+'Rotate(wor'+'ldNormal);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20color:\x20'+'vec3f\x20=\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[0]'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[1]\x20*\x20n.'+'x\x20+\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm.ambien'+'tSH[2]\x20*\x20n'+'.y\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form.ambie'+'ntSH[3]\x20*\x20'+'n.z\x20+\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform.ambi'+'entSH[4]\x20*'+'\x20n.x\x20*\x20n.z'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.ambient'+'SH[5]\x20*\x20n.'+'z\x20*\x20n.y\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform.'+'ambientSH['+'6]\x20*\x20n.y\x20*'+'\x20n.x\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform.amb'+'ientSH[7]\x20'+'*\x20(3.0\x20*\x20n'+'.z\x20*\x20n.z\x20-'+'\x201.0)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform.am'+'bientSH[8]'+'\x20*\x20(n.x\x20*\x20'+'n.x\x20-\x20n.y\x20'+'*\x20n.y);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20proces'+'sEnvironme'+'nt(max(col'+'or,\x20vec3f('+'0.0)));\x0a\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_AMBIENT'+'_SOURCE\x20=='+('\x20ENVALATLA'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalize(cu'+'beMapRotat'+'e(worldNor'+'mal)\x20*\x20vec'+'3f(-1.0,\x201'+'.0,\x201.0));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20mapUv'+'(toSpheric'+'alUv(dir),'+'\x20vec4f(128'+'.0,\x20256.0\x20'+'+\x20128.0,\x206'+'4.0,\x2032.0)'+'\x20/\x20atlasSi'+'ze);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20ra'+'w:\x20vec4f\x20='+'\x20textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20uv'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20linea'+'r:\x20vec3f\x20='+'\x20{ambientD'+'ecode}(raw'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20+=\x20pr'+'ocessEnvir'+'onment(lin'+'ear);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIT'+'_AMBIENT_S'+'OURCE\x20==\x20C'+'ONSTANT\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20+=\x20unifor'+'m.light_gl'+'obalAmbien'+'t;\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a'),eM='\x0a#ifdef\x20LI'+'T_GGX_SPEC'+'ULAR\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_anis'+'otropyInte'+'nsity:\x20f32'+';\x0a\x20\x20\x20\x20unif'+'orm\x20materi'+'al_anisotr'+'opyRotatio'+'n:\x20vec2f;\x0a'+'#endif\x0a\x0afn'+'\x20getAnisot'+'ropy()\x20{\x0a\x20'+'\x20\x20\x20dAnisot'+'ropy\x20=\x200.0'+';\x0a\x20\x20\x20\x20dAni'+'sotropyRot'+'ation\x20=\x20ve'+'c2f(1.0,\x200'+'.0);\x0a\x0a#ifd'+'ef\x20LIT_GGX'+'_SPECULAR\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20=\x20un'+'iform.mate'+'rial_aniso'+'tropyInten'+'sity;\x0a\x20\x20\x20\x20'+'dAnisotrop'+'yRotation\x20'+'=\x20uniform.'+'material_a'+'nisotropyR'+'otation;\x0a#'+'endif\x0a\x0a#if'+'def\x20STD_AN'+'ISOTROPY_T'+'EXTURE\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyTex:\x20'+'vec3f\x20=\x20te'+'xtureSampl'+'eBias({STD'+'_ANISOTROP'+'Y_TEXTURE_'+'NAME},\x20{ST'+'D_ANISOTRO'+'PY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'ANISOTROPY'+'_TEXTURE_U'+'V},\x20unifor'+'m.textureB'+'ias).rgb;\x0a'+'\x20\x20\x20\x20dAniso'+'tropy\x20*=\x20a'+'nisotropyT'+'ex.b;\x0a\x0a\x20\x20\x20'+'\x20let\x20aniso'+'tropyRotat'+'ionFromTex'+':\x20vec2f\x20=\x20'+'anisotropy'+'Tex.rg\x20*\x202'+'.0\x20-\x20vec2f'+'(1.0);\x0a\x20\x20\x20'+'\x20let\x20rotat'+'ionMatrix:'+'\x20mat2x2f\x20='+'\x20mat2x2f(d'+'Anisotropy'+'Rotation.x'+',\x20dAnisotr'+'opyRotatio'+'n.y,\x20-dAni'+'sotropyRot'+'ation.y,\x20d'+'Anisotropy'+'Rotation.x'+');\x0a\x20\x20\x20\x20dAn'+'isotropyRo'+'tation\x20=\x20r'+'otationMat'+'rix\x20*\x20anis'+'otropyRota'+'tionFromTe'+'x;\x0a#endif\x0a'+'\x0a\x20\x20\x20\x20dAnis'+'otropy\x20=\x20c'+'lamp(dAnis'+'otropy,\x200.'+'0,\x201.0);\x0a}'+'\x0a',tM='\x0a\x0a#if\x20defi'+'ned(STD_AO'+'_TEXTURE)\x20'+'||\x20defined'+'(STD_AO_VE'+'RTEX)\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_aoI'+'ntensity:\x20'+'f32;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'STD_AODETA'+'IL_TEXTURE'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22detai'+'lModesPS\x22\x0a'+'#endif\x0a\x0afn'+'\x20getAO()\x20{'+'\x0a\x20\x20\x20\x20dAo\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO_TEXTU'+'RE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20aoBas'+'e:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_AO_TEXTU'+'RE_NAME},\x20'+'{STD_AO_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AO_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_AO_'+'TEXTURE_CH'+'ANNEL};\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_AO'+'DETAIL_TEX'+'TURE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20aoDetail:'+'\x20f32\x20=\x20tex'+'tureSample'+'Bias({STD_'+'AODETAIL_T'+'EXTURE_NAM'+'E},\x20{STD_A'+'ODETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_AODET'+'AIL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_AODETAI'+'L_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20aoBase\x20='+'\x20detailMod'+'e_{STD_AOD'+'ETAIL_DETA'+'ILMODE}(ve'+'c3f(aoBase'+'),\x20vec3f(a'+'oDetail)).'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dAo'+'\x20=\x20dAo\x20*\x20a'+'oBase;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20dAo\x20=\x20dA'+'o\x20*\x20satura'+'te(vVertex'+'Color.{STD'+'_AO_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'STD_AO_TEX'+'TURE)\x20||\x20d'+'efined(STD'+'_AO_VERTEX'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAo\x20=\x20mix('+'1.0,\x20dAo,\x20'+'uniform.ma'+'terial_aoI'+'ntensity);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a',sM='\x0afn\x20occlud'+'eDiffuse(a'+'o:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20ao;\x0a'+'}\x0a',iM='\x0a\x0a#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'OCCLUDE_SP'+'ECULAR_FLO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20m'+'aterial_oc'+'cludeSpecu'+'larIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0afn'+'\x20occludeSp'+'ecular(glo'+'ss:\x20f32,\x20a'+'o:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f)\x20{\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20==\x20A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_OCCLUDE_S'+'PECULAR_FL'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'specOcc:\x20f'+'32\x20=\x20mix(1'+'.0,\x20ao,\x20un'+'iform.mate'+'rial_occlu'+'deSpecular'+'Intensity)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specOcc:'+'\x20f32\x20=\x20ao;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'OCCLUDE_SP'+'ECULAR\x20==\x20'+'GLOSSDEPEN'+'DENT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20app'+'roximated\x20'+'specular\x20o'+'cclusion\x20f'+'rom\x20AO\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ht'+'tp://resea'+'rch.tri-ac'+'e.com/Data'+'/cedec2011'+'_RealtimeP'+'BR_Impleme'+'ntation_e.'+'pptx\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20spe'+'cPow:\x20f32\x20'+'=\x20exp2(glo'+'ss\x20*\x2011.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20specOc'+'c:\x20f32\x20=\x20s'+'aturate(po'+'w(dot(worl'+'dNormal,\x20v'+'iewDir)\x20+\x20'+'ao,\x200.01\x20*'+'\x20specPow)\x20'+'-\x201.0\x20+\x20ao'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_OCCLUDE'+'_SPECULAR_'+'FLOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecOcc\x20=\x20mi'+'x(1.0,\x20spe'+'cOcc,\x20unif'+'orm.materi'+'al_occlude'+'SpecularIn'+'tensity);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_O'+'CCLUDE_SPE'+'CULAR\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+('\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20*\x20spec'+'Occ;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20dRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SHEEN\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'*\x20specOcc;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sReflec'+'tion\x20=\x20sRe'+'flection\x20*'+'\x20specOcc;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a'),rM='\x0a\x20\x20\x20\x20let\x20d'+'irLm\x20=\x20tex'+'tureSample'+'(texture_d'+'irLightMap'+',\x20texture_'+'dirLightMa'+'pSampler,\x20'+'vUv1);\x0a\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.bakeDi'+'r\x20>\x200.5)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(dAtten\x20'+'>\x200.00001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'npacked_di'+'r\x20=\x20dirLm.'+'xyz\x20*\x202.0\x20'+'-\x20vec3f(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x20clamp'+'(dAtten,\x200'+'.0,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20comb'+'ined_dir\x20='+'\x20dLightDir'+'NormW.xyz\x20'+'*\x20dAtten\x20+'+'\x20unpacked_'+'dir\x20*\x20dirL'+'m.w;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20finalRgb\x20'+'=\x20normaliz'+'e(combined'+'_dir)\x20*\x200.'+'5\x20+\x20vec3f('+'0.5);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20finalA\x20='+'\x20max(dirLm'+'.w\x20+\x20dAtte'+'n,\x201.0\x20/\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalRgb,\x20'+'finalA);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.color'+'\x20=\x20dirLm;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20alpha'+'_min\x20=\x20sel'+'ect(0.0,\x201'+'.0\x20/\x20255.0'+',\x20dAtten\x20>'+'\x200.00001);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20finalA\x20'+'=\x20max(dirL'+'m.w,\x20alpha'+'_min);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(dirL'+'m.rgb,\x20fin'+'alA);\x0a\x20\x20\x20\x20'+'}\x0a',aM='\x0a\x0a#ifdef\x20L'+'IT_LIGHTMA'+'P_BAKING_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20//\x20di'+'ffuse\x20ligh'+'t\x20stores\x20a'+'ccumulated'+'\x20AO,\x20apply'+'\x20contrast\x20'+'and\x20bright'+'ness\x20to\x20it'+'\x0a\x20\x20\x20\x20//\x20an'+'d\x20multiply'+'\x20ambient\x20l'+'ight\x20color'+'\x20by\x20the\x20AO'+'\x0a\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20((dDiffus'+'eLight\x20-\x200'+'.5)\x20*\x20max('+'uniform.am'+'bientBakeO'+'cclusionCo'+'ntrast\x20+\x201'+'.0,\x200.0))\x20'+'+\x200.5;\x0a\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20vec3f(u'+'niform.amb'+'ientBakeOc'+'clusionBri'+'ghtness);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'saturate3('+'dDiffuseLi'+'ght);\x0a\x20\x20\x20\x20'+'dDiffuseLi'+'ght\x20=\x20dDif'+'fuseLight\x20'+'*\x20dAmbient'+'Light;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20LIGHTMAP'+'_RGBM\x0a\x20\x20\x20\x20'+'//\x20encode\x20'+'to\x20RGBM\x0a\x20\x20'+'\x20\x20var\x20temp'+'_color_rgb'+'m\x20=\x20vec4f('+'dDiffuseLi'+'ght,\x201.0);'+'\x0a\x20\x20\x20\x20temp_'+'color_rgbm'+'\x20=\x20vec4f(p'+'ow(temp_co'+'lor_rgbm.r'+'gb,\x20vec3f('+'0.5)),\x20tem'+'p_color_rg'+'bm.a);\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+'color_rgbm'+'.rgb\x20/\x208.0'+',\x20temp_col'+'or_rgbm.a)'+';\x0a\x20\x20\x20\x20let\x20'+'max_g_b\x20=\x20'+'max(temp_c'+'olor_rgbm.'+'g,\x20max(tem'+'p_color_rg'+'bm.b,\x201.0\x20'+'/\x20255.0));'+'\x0a\x20\x20\x20\x20let\x20m'+'ax_rgb\x20=\x20m'+'ax(temp_co'+'lor_rgbm.r'+',\x20max_g_b)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20temp'+'_color_rgb'+'m.a\x20=\x20ceil'+'(temp_colo'+'r_rgbm.a\x20*'+'\x20255.0)\x20/\x20'+'255.0;\x0a\x20\x20\x20'+'\x20temp_colo'+'r_rgbm\x20=\x20v'+'ec4f(temp_'+('color_rgbm'+'.rgb\x20/\x20tem'+'p_color_rg'+'bm.a,\x20temp'+'_color_rgb'+'m.a);\x0a\x20\x20\x20\x20'+'output.col'+'or\x20=\x20temp_'+'color_rgbm'+';\x0a#else\x0a\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20vec'+'4f(dDiffus'+'eLight,\x201.'+'0);\x0a#endif'+'\x0a'),nM='\x0auniform\x20v'+'iew_positi'+'on:\x20vec3f;'+'\x0a\x0auniform\x20'+'light_glob'+'alAmbient:'+'\x20vec3f;\x0a\x0af'+'n\x20square(x'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20x*x'+';\x0a}\x0a\x0afn\x20sa'+'turate(x:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20clamp'+'(x,\x200.0,\x201'+'.0);\x0a}\x0a\x0afn'+'\x20saturate3'+'(x:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20clamp(x'+',\x20vec3f(0.'+'0),\x20vec3f('+'1.0));\x0a}\x0a',oM='\x0a#define\x20N'+'INESLICED\x0a'+'\x0avarying\x20v'+'Mask:\x20vec2'+'f;\x0avarying'+'\x20vTiledUv:'+'\x20vec2f;\x0a\x0au'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0auni'+'form\x20outer'+'Scale:\x20vec'+'2f;\x0aunifor'+'m\x20atlasRec'+'t:\x20vec4f;\x0a'+'\x0avar<priva'+'te>\x20nineSl'+'icedUv:\x20ve'+'c2f;\x0a',lM='\x0a#define\x20N'+'INESLICED\x0a'+'#define\x20NI'+'NESLICETIL'+'ED\x0a\x0avaryin'+'g\x20vMask:\x20v'+'ec2f;\x0avary'+'ing\x20vTiled'+'Uv:\x20vec2f;'+'\x0a\x0auniform\x20'+'innerOffse'+'t:\x20vec4f;\x0a'+'uniform\x20ou'+'terScale:\x20'+'vec2f;\x0auni'+'form\x20atlas'+'Rect:\x20vec4'+'f;\x0a\x0avar<pr'+'ivate>\x20nin'+'eSlicedUv:'+'\x20vec2f;\x0a',cM='\x0a//\x202x2\x20ba'+'yer\x20matrix'+'\x20[1\x202][3\x200'+'],\x20p\x20in\x20[0'+',1]\x0afn\x20bay'+'er2(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(2.0\x20*'+'\x20p.y\x20+\x20p.x'+'\x20+\x201.0)\x20%\x20'+'4.0;\x0a}\x0a\x0a//'+'\x204x4\x20matri'+'x,\x20p\x20-\x20pix'+'el\x20coordin'+'ate\x0afn\x20bay'+'er4(p:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20p1:\x20vec2f'+'\x20=\x20p\x20%\x20vec'+'2f(2.0);\x0a\x20'+'\x20\x20\x20let\x20p2:'+'\x20vec2f\x20=\x20f'+'loor(0.5\x20*'+'\x20(p\x20%\x20vec2'+'f(4.0)));\x0a'+'\x20\x20\x20\x20return'+'\x204.0\x20*\x20bay'+'er2(p1)\x20+\x20'+'bayer2(p2)'+';\x0a}\x0a\x0a//\x208x'+'8\x20matrix,\x20'+'p\x20-\x20pixel\x20'+'coordinate'+'\x0afn\x20bayer8'+'(p:\x20vec2f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20p1'+':\x20vec2f\x20=\x20'+'p\x20%\x20vec2f('+'2.0);\x0a\x20\x20\x20\x20'+'let\x20p2:\x20ve'+'c2f\x20=\x20floo'+'r(0.5\x20*\x20(p'+'\x20%\x20vec2f(4'+'.0)));\x0a\x20\x20\x20'+'\x20let\x20p4:\x20v'+'ec2f\x20=\x20flo'+'or(0.25\x20*\x20'+'(p\x20%\x20vec2f'+'(8.0)));\x0a\x20'+'\x20\x20\x20return\x20'+'4.0\x20*\x20(4.0'+'\x20*\x20bayer2('+'p1)\x20+\x20baye'+'r2(p2))\x20+\x20'+'bayer2(p4)'+';\x0a}\x0a',hM='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20sou'+'rce:\x20textu'+'re_2d<f32>'+';\x0avar\x20sour'+'ceSampler:'+'\x20sampler;\x0a'+'\x0a#ifdef\x20GA'+'USS\x0a\x20\x20\x20\x20un'+'iform\x20weig'+'ht:\x20array<'+'f32,\x20{SAMP'+'LES}>;\x0a#en'+'dif\x0aunifor'+'m\x20pixelOff'+'set:\x20vec2f'+';\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20var'+'\x20moments:\x20'+'vec3f\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20let\x20uv'+':\x20vec2f\x20=\x20'+'input.vUv0'+'\x20-\x20uniform'+'.pixelOffs'+'et\x20*\x20(f32('+'{SAMPLES})'+'\x20*\x200.5);\x0a\x0a'+'\x20\x20\x20\x20for\x20(v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20{'+'SAMPLES};\x20'+'i\x20=\x20i\x20+\x201)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20c:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'source,\x20so'+'urceSample'+'r,\x20uv\x20+\x20un'+'iform.pixe'+'lOffset\x20*\x20'+'f32(i));\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20moments'+'\x20=\x20moments'+'\x20+\x20c.xyz\x20*'+'\x20uniform.w'+'eight[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20moment'+'s\x20=\x20moment'+'s\x20+\x20c.xyz;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20GAUSS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'oments\x20=\x20m'+'oments\x20*\x20('+'1.0\x20/\x20f32('+'{SAMPLES})'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'moments,\x201'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a',dM='\x0auniform\x20m'+'aterial_cl'+'earCoat:\x20f'+'32;\x0a\x0afn\x20ge'+'tClearCoat'+'()\x20{\x0a\x20\x20\x20\x20c'+'cSpeculari'+'ty\x20=\x20unifo'+'rm.materia'+'l_clearCoa'+'t;\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_C'+'LEARCOAT_T'+'EXTURE\x0a\x20\x20\x20'+'\x20ccSpecula'+'rity\x20=\x20ccS'+'pecularity'+'\x20*\x20texture'+'SampleBias'+'({STD_CLEA'+'RCOAT_TEXT'+'URE_NAME},'+'\x20{STD_CLEA'+'RCOAT_TEXT'+'URE_NAME}S'+'ampler,\x20{S'+'TD_CLEARCO'+'AT_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_CLEARCOA'+'T_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_CLE'+'ARCOAT_VER'+'TEX\x0a\x20\x20\x20\x20cc'+'Specularit'+'y\x20=\x20ccSpec'+'ularity\x20*\x20'+'saturate(v'+'VertexColo'+'r.{STD_CLE'+'ARCOAT_VER'+'TEX_CHANNE'+'L});\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a',fM='\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_clearCoa'+'tGloss:\x20f3'+'2;\x0a\x0afn\x20get'+'ClearCoatG'+'lossiness('+')\x20{\x0a\x20\x20\x20\x20cc'+'Glossiness'+'\x20=\x20uniform'+'.material_'+'clearCoatG'+'loss;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_CLEARCOA'+'TGLOSS_TEX'+'TURE_NAME}'+',\x20{STD_CLE'+'ARCOATGLOS'+'S_TEXTURE_'+'NAME}Sampl'+'er,\x20{STD_C'+'LEARCOATGL'+'OSS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_CLEARCO'+'ATGLOSS_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATGLOSS_VE'+'RTEX\x0a\x20\x20\x20\x20c'+'cGlossines'+'s\x20=\x20ccGlos'+'siness\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_CLEA'+'RCOATGLOSS'+'_VERTEX_CH'+'ANNEL});\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_CLEA'+'RCOATGLOSS'+'_INVERT\x0a\x20\x20'+'\x20\x20ccGlossi'+'ness\x20=\x201.0'+'\x20-\x20ccGloss'+'iness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20ccGloss'+'iness\x20+=\x200'+'.0000001;\x0a'+'}\x0a',uM='\x0a#ifdef\x20ST'+'D_CLEARCOA'+'TNORMAL_TE'+'XTURE\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_cle'+'arCoatBump'+'iness:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getClea'+'rCoatNorma'+'l()\x20{\x0a#ifd'+'ef\x20STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'\x0a\x20\x20\x20\x20var\x20n'+'ormalMap:\x20'+'vec3f\x20=\x20{S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_DEC'+'ODE}(textu'+'reSampleBi'+'as({STD_CL'+'EARCOATNOR'+'MAL_TEXTUR'+'E_NAME},\x20{'+'STD_CLEARC'+'OATNORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_CLE'+'ARCOATNORM'+'AL_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias));\x0a\x20'+'\x20\x20\x20normalM'+'ap\x20=\x20mix(v'+'ec3f(0.0,\x20'+'0.0,\x201.0),'+'\x20normalMap'+',\x20uniform.'+'material_c'+'learCoatBu'+'mpiness);\x0a'+'\x20\x20\x20\x20ccNorm'+'alW\x20=\x20norm'+'alize(dTBN'+'\x20*\x20normalM'+'ap);\x0a#else'+'\x0a\x20\x20\x20\x20ccNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a',pM='\x0astruct\x20Fa'+'ceCoords\x20{'+'\x0a\x20\x20\x20\x20uv:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Or'+'iginal\x20ret'+'urn\x20value\x0a'+'\x20\x20\x20\x20faceIn'+'dex:\x20f32,\x20'+'\x20\x20\x20//\x20Was\x20'+'out\x20parame'+'ter\x0a\x20\x20\x20\x20ti'+'leOffset:\x20'+'vec2f,\x20//\x20'+'Was\x20out\x20pa'+'rameter\x0a}\x0a'+'\x0a//\x20Conver'+'ts\x20unnorma'+'lized\x20dire'+'ction\x20vect'+'or\x20to\x20a\x20cu'+'bemap\x20face'+'\x20index\x20[0.'+'.5]\x20and\x20uv'+'\x20coordinat'+'es\x20within\x20'+'the\x20face\x20i'+'n\x20[0..1]\x20r'+'ange.\x0a//\x20A'+'dditionall'+'y\x20offset\x20t'+'o\x20a\x20tile\x20i'+'n\x20atlas\x20wi'+'thin\x203x3\x20s'+'ubdivision'+'\x20is\x20provid'+'ed\x0afn\x20getC'+'ubemapFace'+'Coordinate'+'s(dir:\x20vec'+'3f)\x20->\x20Fac'+'eCoords\x20{\x0a'+'\x20\x20\x20\x20var\x20fa'+'ceIndex:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20tileOffs'+'et:\x20vec2f;'+'\x0a\x20\x20\x20\x20var\x20u'+'v:\x20vec2f;\x20'+'//\x20This\x20is'+'\x20the\x20face\x20'+'UV\x20[0..1]\x0a'+'\x20\x20\x20\x20let\x20vA'+'bs:\x20vec3f\x20'+'=\x20abs(dir)'+';\x0a\x20\x20\x20\x20var\x20'+'ma:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20if\x20(vA'+'bs.z\x20>=\x20vA'+'bs.x\x20&&\x20vA'+'bs.z\x20>=\x20vA'+'bs.y)\x20{\x20\x20\x20'+'//\x20front\x20/'+'\x20back\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20i'+'s_neg_z\x20=\x20'+'dir.z\x20<\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20faceIndex'+'\x20=\x20select('+'4.0,\x205.0,\x20'+'is_neg_z);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20m'+'a\x20=\x200.5\x20/\x20'+'vAbs.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20uv\x20='+'\x20vec2f(sel'+'ect(dir.x,'+'\x20-dir.x,\x20i'+'s_neg_z),\x20'+'-dir.y);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20til'+'eOffset\x20=\x20'+'vec2f(2.0,'+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_z));\x0a'+'\x0a\x20\x20\x20\x20}\x20els'+'e\x20if\x20(vAbs'+'.y\x20>=\x20vAbs'+'.x)\x20{\x20\x20//\x20'+'top\x20index\x20'+'2,\x20bottom\x20'+'index\x203\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20is_neg_y\x20'+'=\x20dir.y\x20<\x20'+'0.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20faceInd'+'ex\x20=\x20selec'+('t(2.0,\x203.0'+',\x20is_neg_y'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20ma\x20=\x200.5\x20'+'/\x20vAbs.y;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'\x20=\x20vec2f(d'+'ir.x,\x20sele'+'ct(dir.z,\x20'+'-dir.z,\x20is'+'_neg_y));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ti'+'leOffset\x20='+'\x20vec2f(1.0'+',\x20select(0'+'.0,\x201.0,\x20i'+'s_neg_y));'+'\x0a\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x20\x20\x20\x20//'+'\x20left\x20/\x20ri'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20is_'+'neg_x\x20=\x20di'+'r.x\x20<\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'aceIndex\x20='+'\x20select(0.'+'0,\x201.0,\x20is'+'_neg_x);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ma\x20'+'=\x200.5\x20/\x20vA'+'bs.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20uv\x20=\x20v'+'ec2f(selec'+'t(-dir.z,\x20'+'dir.z,\x20is_'+'neg_x),\x20-d'+'ir.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20tileO'+'ffset\x20=\x20ve'+'c2f(0.0,\x20s'+'elect(0.0,'+'\x201.0,\x20is_n'+'eg_x));\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20u'+'v\x20=\x20uv\x20*\x20m'+'a\x20+\x200.5;\x0a\x20'+'\x20\x20\x20return\x20'+'FaceCoords'+'(uv,\x20faceI'+'ndex,\x20tile'+'Offset);\x0a}'+'\x0a\x0a//\x20conve'+'rts\x20unnorm'+'alized\x20dir'+'ection\x20vec'+'tor\x20to\x20a\x20t'+'exture\x20coo'+'rdinate\x20fo'+'r\x20a\x20cubema'+'p\x20face\x20sto'+'red\x20within'+'\x20texture\x20a'+'tlas\x20descr'+'ibed\x20by\x20th'+'e\x20viewport'+'\x0afn\x20getCub'+'emapAtlasC'+'oordinates'+'(omniAtlas'+'Viewport:\x20'+'vec3f,\x20sha'+'dowEdgePix'+'els:\x20f32,\x20'+'shadowText'+'ureResolut'+'ion:\x20f32,\x20'+'dir:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20faceData'+':\x20FaceCoor'+'ds\x20=\x20getCu'+'bemapFaceC'+'oordinates'+'(dir);\x0a\x20\x20\x20'+'\x20var\x20uv:\x20v'+'ec2f\x20=\x20fac'+'eData.uv;\x0a'+'\x20\x20\x20\x20let\x20ti'+'leOffset:\x20'+'vec2f\x20=\x20fa'+'ceData.til'+'eOffset;\x0a\x0a'+'\x20\x20\x20\x20//\x20mov'+'e\x20uv\x20coord'+'inates\x20inw'+'ards\x20insid'+'e\x20to\x20compe'+'nsate\x20for\x20')+('larger\x20fov'+'\x20when\x20rend'+'ering\x20shad'+'ow\x20into\x20at'+'las\x0a\x20\x20\x20\x20le'+'t\x20atlasFac'+'eSize:\x20f32'+'\x20=\x20omniAtl'+'asViewport'+'.z;\x0a\x20\x20\x20\x20le'+'t\x20tileSize'+':\x20f32\x20=\x20sh'+'adowTextur'+'eResolutio'+'n\x20*\x20atlasF'+'aceSize;\x0a\x20'+'\x20\x20\x20var\x20off'+'set:\x20f32\x20='+'\x20shadowEdg'+'ePixels\x20/\x20'+'tileSize;\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20*\x20(1.0\x20-'+'\x20offset\x20*\x20'+'2.0)\x20+\x20off'+'set;\x0a\x0a\x20\x20\x20\x20'+'//\x20scale\x20u'+'v\x20coordina'+'tes\x20to\x20cub'+'e\x20face\x20are'+'a\x20within\x20t'+'he\x20viewpor'+'t\x0a\x20\x20\x20\x20uv\x20='+'\x20uv\x20*\x20atla'+'sFaceSize;'+'\x0a\x0a\x20\x20\x20\x20//\x20o'+'ffset\x20into'+'\x20face\x20of\x20t'+'he\x20atlas\x20('+'3x3\x20grid)\x0a'+'\x20\x20\x20\x20uv\x20=\x20u'+'v\x20+\x20tileOf'+'fset\x20*\x20atl'+'asFaceSize'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'offset\x20int'+'o\x20the\x20atla'+'s\x20viewport'+'\x0a\x20\x20\x20\x20uv\x20=\x20'+'uv\x20+\x20omniA'+'tlasViewpo'+'rt.xy;\x0a\x0a\x20\x20'+'\x20\x20return\x20u'+'v;\x0a}\x0a'),mM='\x0afn\x20_getCo'+'okieCluste'+'red(tex:\x20t'+'exture_2d<'+'f32>,\x20texS'+'ampler:\x20sa'+'mpler,\x20uv:'+'\x20vec2f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20pixel'+':\x20vec4f\x20=\x20'+'mix(vec4f('+'1.0),\x20text'+'ureSampleL'+'evel(tex,\x20'+'texSampler'+',\x20uv,\x200.0)'+',\x20intensit'+'y);\x0a\x20\x20\x20\x20le'+'t\x20isRgb:\x20b'+'ool\x20=\x20dot('+'cookieChan'+'nel.rgb,\x20v'+'ec3f(1.0))'+'\x20==\x203.0;\x0a\x20'+'\x20\x20\x20return\x20'+'select(vec'+'3f(dot(pix'+'el,\x20cookie'+'Channel)),'+'\x20pixel.rgb'+',\x20isRgb);\x0a'+'}\x0a\x0a//\x20getC'+'ookie2D\x20fo'+'r\x20clustere'+'d\x20lighting'+'\x20including'+'\x20channel\x20s'+'elector\x0afn'+'\x20getCookie'+'2DClustere'+'d(tex:\x20tex'+'ture_2d<f3'+'2>,\x20texSam'+'pler:\x20samp'+'ler,\x20trans'+'form:\x20mat4'+'x4f,\x20world'+'Position:\x20'+'vec3f,\x20int'+'ensity:\x20f3'+'2,\x20cookieC'+'hannel:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20projPo'+'s:\x20vec4f\x20='+'\x20transform'+'\x20*\x20vec4f(w'+'orldPositi'+'on,\x201.0);\x0a'+'\x20\x20\x20\x20return'+'\x20_getCooki'+'eClustered'+'(tex,\x20texS'+'ampler,\x20pr'+'ojPos.xy\x20/'+'\x20projPos.w'+',\x20intensit'+'y,\x20cookieC'+'hannel);\x0a}'+'\x0a\x0a//\x20getCo'+'okie\x20for\x20c'+'lustered\x20o'+'mni\x20light\x20'+'with\x20the\x20c'+'ookie\x20text'+'ure\x20being\x20'+'stored\x20in\x20'+'the\x20cookie'+'\x20atlas\x0afn\x20'+'getCookieC'+'ubeCluster'+'ed(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20dir:'+'\x20vec3f,\x20in'+'tensity:\x20f'+'32,\x20cookie'+'Channel:\x20v'+'ec4f,\x20shad'+'owTextureR'+'esolution:'+'\x20f32,\x20shad'+('owEdgePixe'+'ls:\x20f32,\x20o'+'mniAtlasVi'+'ewport:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20dir);'+'\x0a\x20\x20\x20\x20retur'+'n\x20_getCook'+'ieClustere'+'d(tex,\x20tex'+'Sampler,\x20u'+'v,\x20intensi'+'ty,\x20cookie'+'Channel);\x0a'+'}\x0a'),_M='\x0a\x0afn\x20_getS'+'hadowCoord'+'PerspZbuff'+'er(shadowM'+'atrix:\x20mat'+'4x4f,\x20shad'+'owParams:\x20'+'vec4f,\x20wPo'+'s:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20p'+'rojPos\x20=\x20s'+'hadowMatri'+'x\x20*\x20vec4f('+'wPos,\x201.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20projPos'+'.xyz\x20/\x20pro'+'jPos.w;\x0a\x20\x20'+'\x20\x20//\x20depth'+'\x20bias\x20is\x20a'+'lready\x20app'+'lied\x20on\x20re'+'nder\x0a}\x0a\x0afn'+'\x20getShadow'+'CoordPersp'+'ZbufferNor'+'malOffset('+'shadowMatr'+'ix:\x20mat4x4'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20normal'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20wP'+'os:\x20vec3f\x20'+'=\x20vPositio'+'nW\x20+\x20norma'+'l\x20*\x20shadow'+'Params.y;\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wCoordPers'+'pZbuffer(s'+'hadowMatri'+'x,\x20shadowP'+'arams,\x20wPo'+'s);\x0a}\x0a\x0afn\x20'+'normalOffs'+'etPointSha'+'dow(shadow'+'Params:\x20ve'+'c4f,\x20light'+'Pos:\x20vec3f'+',\x20lightDir'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'normal:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(li'+'ghtDir);\x0a\x20'+'\x20\x20\x20let\x20wPo'+'s:\x20vec3f\x20='+'\x20vPosition'+'W\x20+\x20normal'+'\x20*\x20shadowP'+'arams.y\x20*\x20'+'clamp(1.0\x20'+'-\x20dot(norm'+'al,\x20-light'+'DirNorm),\x20'+'0.0,\x201.0)\x20'+'*\x20distScal'+'e;\x20//0.02\x0a'+'\x20\x20\x20\x20let\x20di'+'r:\x20vec3f\x20='+'\x20wPos\x20-\x20li'+'ghtPos;\x0a\x20\x20'+'\x20\x20return\x20d'+'ir;\x0a}\x0a\x0a#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x0a\x20\x20\x20\x20'+'fn\x20getShad'+'owOmniClus'+'teredPCF1('+'shadowMap:'+'\x20texture_d'+'epth_2d,\x20s'+'hadowMapSa'+'mpler:\x20sam'+'pler_compa'+'rison,\x20sha'+'dowParams:'+('\x20vec4f,\x20om'+'niAtlasVie'+'wport:\x20vec'+'3f,\x20shadow'+'EdgePixels'+':\x20f32,\x20lig'+'htDir:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20shad'+'owTextureR'+'esolution:'+'\x20f32\x20=\x20sha'+'dowParams.'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20get'+'CubemapAtl'+'asCoordina'+'tes(omniAt'+'lasViewpor'+'t,\x20shadowE'+'dgePixels,'+'\x20shadowTex'+'tureResolu'+'tion,\x20ligh'+'tDir);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowZ:\x20f'+'32\x20=\x20lengt'+'h(lightDir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv,'+'\x20shadowZ);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a#if\x20'+'defined(CL'+'USTER_SHAD'+'OW_TYPE_PC'+'F3)\x0a\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'wOmniClust'+'eredPCF3(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owParams:\x20'+'vec4f,\x20omn'+'iAtlasView'+'port:\x20vec3'+'f,\x20shadowE'+'dgePixels:'+'\x20f32,\x20ligh'+'tDir:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wTextureRe'+'solution:\x20'+'f32\x20=\x20shad'+'owParams.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv:\x20ve'+'c2f\x20=\x20getC'+'ubemapAtla'+'sCoordinat'+'es(omniAtl'+'asViewport'+',\x20shadowEd'+'gePixels,\x20'+'shadowText'+'ureResolut'+'ion,\x20light'+'Dir);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadowZ:\x20f3'+'2\x20=\x20length'+'(lightDir)'+'\x20*\x20shadowP'+'arams.w\x20+\x20'+'shadowPara'+'ms.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowCoord:'+'\x20vec3f\x20=\x20v'+'ec3f(uv,\x20s'+'hadowZ);\x0a\x20')+('\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF3x3('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20}\x0a\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(CLUSTE'+'R_SHADOW_T'+'YPE_PCF5)\x0a'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowOmn'+'iClustered'+'PCF5(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20omniAtl'+'asViewport'+':\x20vec3f,\x20s'+'hadowEdgeP'+'ixels:\x20f32'+',\x20lightDir'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadowTex'+'tureResolu'+'tion:\x20f32\x20'+'=\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'uv:\x20vec2f\x20'+'=\x20getCubem'+'apAtlasCoo'+'rdinates(o'+'mniAtlasVi'+'ewport,\x20sh'+'adowEdgePi'+'xels,\x20shad'+'owTextureR'+'esolution,'+'\x20lightDir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(lig'+'htDir)\x20*\x20s'+'hadowParam'+'s.w\x20+\x20shad'+'owParams.z'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20vec3f'+'(uv,\x20shado'+'wZ);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CF5x5(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'#endif\x0a\x0a//'+'\x20Clustered'+'\x20Spot\x20Samp'+'ling\x20using'+'\x20atlas\x0a\x0a#i'+'f\x20defined('+'CLUSTER_SH'+'ADOW_TYPE_'+'PCF1)\x0a\x0a\x20\x20\x20'+'\x20fn\x20getSha'+'dowSpotClu'+'steredPCF1'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu')+('rn\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowCoord.'+'xy,\x20shadow'+'Coord.z);\x0a'+'\x20\x20\x20\x20}\x0a\x0a#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x0a\x20\x20'+'\x20\x20fn\x20getSh'+'adowSpotCl'+'usteredPCF'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowSpotPCF'+'3x3(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams);'+'\x0a\x20\x20\x20\x20}\x0a\x0a#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF5)\x0a\x0a\x20'+'\x20\x20\x20fn\x20getS'+'hadowSpotC'+'lusteredPC'+'F5(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20getSh'+'adowPCF5x5'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20shadowP'+'arams);\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),gM='\x0a\x0a#include'+'\x20\x22lightBuf'+'ferDefines'+'PS\x22\x0a\x0a//\x20in'+'clude\x20this'+'\x20before\x20sh'+'adow\x20/\x20coo'+'kie\x20code\x0a#'+'include\x20\x22c'+'lusteredLi'+'ghtUtilsPS'+'\x22\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightCookie'+'sPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_SH'+'ADOWS\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'clusteredL'+'ightShadow'+'sPS\x22\x0a#endi'+'f\x0a\x0avar\x20clu'+'sterWorldT'+'exture:\x20te'+'xture_2d<f'+'32>;\x0avar\x20l'+'ightsTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x0a#ifdef\x20C'+'LUSTER_SHA'+'DOWS\x0a\x20\x20\x20\x20/'+'/\x20TODO:\x20wh'+'en\x20VSM\x20sha'+'dow\x20is\x20sup'+'ported,\x20it'+'\x20needs\x20to\x20'+'use\x20sample'+'r2D\x20in\x20web'+'gl2\x0a\x20\x20\x20\x20va'+'r\x20shadowAt'+'lasTexture'+':\x20texture_'+'depth_2d;\x0a'+'\x20\x20\x20\x20var\x20sh'+'adowAtlasT'+'extureSamp'+'ler:\x20sampl'+'er_compari'+'son;\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'CLUSTER_CO'+'OKIES\x0a\x20\x20\x20\x20'+'var\x20cookie'+'AtlasTextu'+'re:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20var\x20c'+'ookieAtlas'+'TextureSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0auniform'+'\x20clusterMa'+'xCells:\x20i3'+'2;\x0a\x0a//\x201.0'+'\x20if\x20cluste'+'red\x20lighti'+'ng\x20can\x20be\x20'+'skipped\x20(0'+'\x20lights\x20in'+'\x20the\x20clust'+'ers)\x0aunifo'+'rm\x20cluster'+'Skip:\x20f32;'+'\x0a\x0auniform\x20'+'clusterCel'+'lsCountByB'+'oundsSize:'+'\x20vec3f;\x0aun'+'iform\x20clus'+'terTexture'+'Size:\x20vec3'+'f;\x0auniform'+'\x20clusterBo'+'undsMin:\x20v'+'ec3f;\x0aunif'+'orm\x20cluste'+'rBoundsDel'+'ta:\x20vec3f;'+'\x0auniform\x20c'+'lusterCell'+'sDot:\x20vec3'+'f;\x0auniform'+'\x20clusterCe'+'llsMax:\x20ve'+('c3f;\x0aunifo'+'rm\x20shadowA'+'tlasParams'+':\x20vec2f;\x0a\x0a'+'//\x20structu'+'re\x20storing'+'\x20light\x20pro'+'perties\x20of'+'\x20a\x20cluster'+'ed\x20light\x0a/'+'/\x20it\x27s\x20sor'+'ted\x20to\x20hav'+'e\x20all\x20vect'+'ors\x20aligne'+'d\x20to\x204\x20flo'+'ats\x20to\x20lim'+'it\x20padding'+'\x0astruct\x20Cl'+'usterLight'+'Data\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x2032bit'+'\x20of\x20flags\x0a'+'\x20\x20\x20\x20flags:'+'\x20u32,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfWidth:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20isSpot:\x20'+'bool,\x0a\x0a\x20\x20\x20'+'\x20//\x20area\x20l'+'ight\x20sizes'+'\x20/\x20orienta'+'tion\x0a\x20\x20\x20\x20h'+'alfHeight:'+'\x20vec3f,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20index\x0a\x20\x20'+'\x20\x20lightInd'+'ex:\x20i32,\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x0a\x20\x20'+'\x20\x20position'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sh'+'ape\x0a\x20\x20\x20\x20sh'+'ape:\x20u32,\x0a'+'\x0a\x20\x20\x20\x20//\x20wo'+'rld\x20space\x20'+'direction\x20'+'(spot\x20ligh'+'t\x20only)\x0a\x20\x20'+'\x20\x20directio'+'n:\x20vec3f,\x0a'+'\x0a\x20\x20\x20\x20//\x20li'+'ght\x20follow'+'\x20mode\x0a\x20\x20\x20\x20'+'falloffMod'+'eLinear:\x20b'+'ool,\x0a\x0a\x20\x20\x20\x20'+'//\x20color\x0a\x20'+'\x20\x20\x20color:\x20'+'vec3f,\x0a\x0a\x20\x20'+'\x20\x20//\x200.0\x20i'+'f\x20the\x20ligh'+'t\x20doesn\x27t\x20'+'cast\x20shado'+'ws\x0a\x20\x20\x20\x20sha'+'dowIntensi'+'ty:\x20f32,\x0a\x0a'+'\x20\x20\x20\x20//\x20atl'+'as\x20viewpor'+'t\x20for\x20omni'+'\x20light\x20sha'+'dow\x20and\x20co'+'okie\x20(.xy\x20'+'is\x20offset\x20'+'to\x20the\x20vie'+'wport\x20slot'+',\x20.z\x20is\x20si'+'ze\x20of\x20the\x20'+'face\x20in\x20th'+'e\x20atlas)\x0a\x20'+'\x20\x20\x20omniAtl'+'asViewport'+':\x20vec3f,\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20of\x20the\x20'+'light\x0a\x20\x20\x20\x20'+'range:\x20f32'+',\x0a\x0a\x20\x20\x20\x20//\x20'+'channel\x20ma'+'sk\x20-\x20one\x20o'+'f\x20the\x20chan'+'nels\x20has\x201'+',\x20the\x20othe')+('rs\x20are\x200\x0a\x20'+'\x20\x20\x20cookieC'+'hannelMask'+':\x20vec4f,\x0a\x0a'+'\x20\x20\x20\x20//\x20com'+'pressed\x20bi'+'ases,\x20two\x20'+'haf-floats'+'\x20stored\x20in'+'\x20a\x20float\x0a\x20'+'\x20\x20\x20biasesD'+'ata:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20bias\x20'+'values\x0a\x20\x20\x20'+'\x20shadowBia'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20shadowNo'+'rmalBias:\x20'+'f32,\x0a\x0a\x20\x20\x20\x20'+'//\x20compres'+'sed\x20angles'+',\x20two\x20haf-'+'floats\x20sto'+'red\x20in\x20a\x20f'+'loat\x0a\x20\x20\x20\x20a'+'nglesData:'+'\x20f32,\x0a\x0a\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20inner'+'\x20and\x20outer'+'\x20angle\x20cos'+'ine\x0a\x20\x20\x20\x20in'+'nerConeAng'+'leCos:\x20f32'+',\x0a\x20\x20\x20\x20oute'+'rConeAngle'+'Cos:\x20f32,\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'tensity\x20of'+'\x20the\x20cooki'+'e\x0a\x20\x20\x20\x20cook'+'ieIntensit'+'y:\x20f32,\x0a\x0a\x20'+'\x20\x20\x20//\x20ligh'+'t\x20mask\x0a\x20\x20\x20'+'\x20//float\x20m'+'ask;\x0a\x20\x20\x20\x20i'+'sDynamic:\x20'+'bool,\x0a\x20\x20\x20\x20'+'isLightmap'+'ped:\x20bool\x0a'+'}\x0a\x0a//\x20Note'+':\x20on\x20some\x20'+'devices\x20(t'+'ested\x20on\x20P'+'ixel\x203A\x20XL'+'),\x20this\x20ma'+'trix\x20when\x20'+'stored\x20ins'+'ide\x20the\x20li'+'ght\x20struct'+'\x20has\x20lower'+'\x20precision'+'\x20compared\x20'+'to\x0a//\x20when'+'\x20stored\x20ou'+'tside,\x20so\x20'+'we\x20store\x20i'+'t\x20outside\x20'+'to\x20avoid\x20s'+'pot\x20shadow'+'\x20flickerin'+'g.\x20This\x20mi'+'ght\x20need\x20t'+'o\x20be\x20done\x20'+'to\x20other\x20/'+'\x20all\x20membe'+'rs\x0a//\x20of\x20t'+'he\x20structu'+'re\x20if\x20furt'+'her\x20simila'+'r\x20issues\x20a'+'re\x20observe'+'d.\x0a\x0a//\x20sha'+'dow\x20(spot\x20'+'light\x20only'+')\x20/\x20cookie'+'\x20projectio'+'n\x20matrix\x0av'+'ar<private'+'>\x20lightPro'+'jectionMat'+'rix:\x20mat4x'+'4f;\x0a\x0afn\x20sa'+'mpleLightT'+'extureF(li'+'ghtIndex:\x20'+'i32,\x20index'+':\x20i32)\x20->\x20')+('vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20t'+'extureLoad'+'(lightsTex'+'ture,\x20vec2'+'<i32>(inde'+'x,\x20lightIn'+'dex),\x200);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightCore(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>,\x20'+'lightIndex'+':\x20f32)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20lig'+'ht\x20index\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'lightIndex'+'\x20=\x20i32(lig'+'htIndex);\x0a'+'\x0a\x20\x20\x20\x20//\x20sa'+'mple\x20data\x20'+'encoding\x20h'+'alf-float\x20'+'values\x20int'+'o\x2032bit\x20ui'+'nts\x0a\x20\x20\x20\x20le'+'t\x20halfData'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_COLO'+'R_ANGLES_B'+'IAS});\x0a\x0a\x20\x20'+'\x20\x20//\x20store'+'\x20floats\x20we'+'\x20decode\x20la'+'ter\x20as\x20nee'+'ded\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.angle'+'sData\x20=\x20ha'+'lfData.z;\x0a'+'\x20\x20\x20\x20cluste'+'rLightData'+'.biasesDat'+'a\x20=\x20halfDa'+'ta.w;\x0a\x0a\x20\x20\x20'+'\x20//\x20decomp'+'ress\x20color'+'\x20half-floa'+'ts\x0a\x20\x20\x20\x20let'+'\x20colorRG:\x20'+'vec2f\x20=\x20un'+'pack2x16fl'+'oat(bitcas'+'t<u32>(hal'+'fData.x));'+'\x0a\x20\x20\x20\x20let\x20c'+'olorB_:\x20ve'+'c2f\x20=\x20unpa'+'ck2x16floa'+'t(bitcast<'+'u32>(halfD'+'ata.y));\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'color\x20=\x20ve'+'c3f(colorR'+'G,\x20colorB_'+'.x)\x20*\x20{LIG'+'HT_COLOR_D'+'IVIDER};\x0a\x0a'+'\x20\x20\x20\x20//\x20pos'+'ition\x20and\x20'+'range,\x20ful'+'l\x20floats\x0a\x20'+'\x20\x20\x20let\x20lig'+'htPosRange'+':\x20vec4f\x20=\x20'+'sampleLigh'+'tTextureF('+'clusterLig'+'htData.lig'+'htIndex,\x20{'+'CLUSTER_TE'+'XTURE_POSI'+'TION_RANGE'+'});\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.posit')+('ion\x20=\x20ligh'+'tPosRange.'+'xyz;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.rang'+'e\x20=\x20lightP'+'osRange.w;'+'\x0a\x0a\x20\x20\x20\x20//\x20s'+'pot\x20direct'+'ion\x20&\x20flag'+'s\x20data\x0a\x20\x20\x20'+'\x20let\x20light'+'Dir_Flags:'+'\x20vec4f\x20=\x20s'+'ampleLight'+'TextureF(c'+'lusterLigh'+'tData.ligh'+'tIndex,\x20{C'+'LUSTER_TEX'+'TURE_DIREC'+'TION_FLAGS'+'});\x0a\x0a\x20\x20\x20\x20/'+'/\x20spot\x20lig'+'ht\x20directi'+'on\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.direct'+'ion\x20=\x20ligh'+'tDir_Flags'+'.xyz;\x0a\x0a\x20\x20\x20'+'\x20//\x2032bit\x20'+'flags\x0a\x20\x20\x20\x20'+'let\x20flags_'+'uint:\x20u32\x20'+'=\x20bitcast<'+'u32>(light'+'Dir_Flags.'+'w);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.flags'+'\x20=\x20flags_u'+'int;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.isSp'+'ot\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2030u)'+')\x20!=\x200u;\x0a\x20'+'\x20\x20\x20cluster'+'LightData.'+'shape\x20=\x20(f'+'lags_uint\x20'+'>>\x2028u)\x20&\x20'+'0x3u;\x0a\x20\x20\x20\x20'+'clusterLig'+'htData.fal'+'loffModeLi'+'near\x20=\x20(fl'+'ags_uint\x20&'+'\x20(1u\x20<<\x2027'+'u))\x20==\x200u;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.shadowIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x200'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.cookieIn'+'tensity\x20=\x20'+'f32((flags'+'_uint\x20>>\x208'+'u)\x20&\x200xFFu'+')\x20/\x20255.0;'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.isDynami'+'c\x20=\x20(flags'+'_uint\x20&\x20(1'+'u\x20<<\x2022u))'+'\x20!=\x200u;\x0a\x20\x20'+'\x20\x20clusterL'+'ightData.i'+'sLightmapp'+'ed\x20=\x20(flag'+'s_uint\x20&\x20('+'1u\x20<<\x2021u)'+')\x20!=\x200u;\x0a}'+'\x0a\x0afn\x20decod'+'eClusterLi'+'ghtSpot(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{')+('\x0a\x20\x20\x20\x20//\x20sp'+'ot\x20light\x20c'+'os\x20angles\x0a'+'\x20\x20\x20\x20let\x20an'+'gles:\x20vec2'+'f\x20=\x20unpack'+'2x16float('+'bitcast<u3'+'2>(cluster'+'LightData.'+'anglesData'+'));\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.inner'+'ConeAngleC'+'os\x20=\x20angle'+'s.x;\x0a\x20\x20\x20\x20c'+'lusterLigh'+'tData.oute'+'rConeAngle'+'Cos\x20=\x20angl'+'es.y;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'OmniAtlasV'+'iewport(cl'+'usterLight'+'Data:\x20ptr<'+'function,\x20'+'ClusterLig'+'htData>)\x20{'+'\x0a\x20\x20\x20\x20clust'+'erLightDat'+'a.omniAtla'+'sViewport\x20'+'=\x20sampleLi'+'ghtTexture'+'F(clusterL'+'ightData.l'+'ightIndex,'+'\x20{CLUSTER_'+'TEXTURE_PR'+'OJ_MAT_0})'+'.xyz;\x0a}\x0a\x0af'+'n\x20decodeCl'+'usterLight'+'AreaData(c'+'lusterLigh'+'tData:\x20ptr'+'<function,'+'\x20ClusterLi'+'ghtData>)\x20'+'{\x0a\x20\x20\x20\x20clus'+'terLightDa'+'ta.halfWid'+'th\x20=\x20sampl'+'eLightText'+'ureF(clust'+'erLightDat'+'a.lightInd'+'ex,\x20{CLUST'+'ER_TEXTURE'+'_AREA_DATA'+'_WIDTH}).x'+'yz;\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.halfH'+'eight\x20=\x20sa'+'mpleLightT'+'extureF(cl'+'usterLight'+'Data.light'+'Index,\x20{CL'+'USTER_TEXT'+'URE_AREA_D'+'ATA_HEIGHT'+'}).xyz;\x0a}\x0a'+'\x0afn\x20decode'+'ClusterLig'+'htProjecti'+'onMatrixDa'+'ta(cluster'+'LightData:'+'\x20ptr<funct'+'ion,\x20Clust'+'erLightDat'+'a>)\x20{\x0a\x20\x20\x20\x20'+'//\x20shadow\x20'+'matrix\x0a\x20\x20\x20'+'\x20let\x20m0:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_0});\x0a\x20\x20\x20'+'\x20let\x20m1:\x20v')+('ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_1});\x0a\x20\x20\x20'+'\x20let\x20m2:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_2});\x0a\x20\x20\x20'+'\x20let\x20m3:\x20v'+'ec4f\x20=\x20sam'+'pleLightTe'+'xtureF(clu'+'sterLightD'+'ata.lightI'+'ndex,\x20{CLU'+'STER_TEXTU'+'RE_PROJ_MA'+'T_3});\x0a\x20\x20\x20'+'\x20lightProj'+'ectionMatr'+'ix\x20=\x20mat4x'+'4f(m0,\x20m1,'+'\x20m2,\x20m3);\x0a'+'}\x0a\x0afn\x20deco'+'deClusterL'+'ightShadow'+'Data(clust'+'erLightDat'+'a:\x20ptr<fun'+'ction,\x20Clu'+'sterLightD'+'ata>)\x20{\x0a\x20\x20'+'\x20\x20//\x20shado'+'w\x20biases\x0a\x20'+'\x20\x20\x20let\x20bia'+'ses:\x20vec2f'+'\x20=\x20unpack2'+'x16float(b'+'itcast<u32'+'>(clusterL'+'ightData.b'+'iasesData)'+');\x0a\x20\x20\x20\x20clu'+'sterLightD'+'ata.shadow'+'Bias\x20=\x20bia'+'ses.x;\x0a\x20\x20\x20'+'\x20clusterLi'+'ghtData.sh'+'adowNormal'+'Bias\x20=\x20bia'+'ses.y;\x0a}\x0a\x0a'+'fn\x20decodeC'+'lusterLigh'+'tCookieDat'+'a(clusterL'+'ightData:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>)\x20{\x0a\x0a\x20\x20\x20\x20'+'//\x20extract'+'\x20channel\x20m'+'ask\x20from\x20f'+'lags\x0a\x20\x20\x20\x20l'+'et\x20cookieF'+'lags:\x20u32\x20'+'=\x20(cluster'+'LightData.'+'flags\x20>>\x202'+'3u)\x20&\x200x0F'+'u;\x20\x20//\x204bi'+'ts,\x20each\x20b'+'it\x20enables'+'\x20a\x20channel'+'\x0a\x20\x20\x20\x20let\x20m'+'ask_uvec:\x20'+'vec4<u32>\x20'+'=\x20vec4<u32'+'>(cookieFl'+'ags)\x20&\x20vec'+'4<u32>(1u,'+'\x202u,\x204u,\x208'+'u);\x0a\x20\x20\x20\x20cl'+'usterLight'+'Data.cooki'+'eChannelMa'+'sk\x20=\x20step('+'vec4f(1.0)')+(',\x20vec4f(ma'+'sk_uvec));'+'\x20//\x20Normal'+'ize\x20to\x200.0'+'\x20or\x201.0\x0a}\x0a'+'\x0afn\x20evalua'+'teLight(\x0a\x20'+'\x20\x20\x20light:\x20'+'ptr<functi'+'on,\x20Cluste'+'rLightData'+'>,\x0a\x20\x20\x20\x20wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20reflectio'+'nDir:\x20vec3'+'f,\x0a#if\x20def'+'ined(LIT_C'+'LEARCOAT)\x0a'+'\x20\x20\x20\x20clearc'+'oatReflect'+'ionDir:\x20ve'+'c3f,\x0a#endi'+'f\x0a\x20\x20\x20\x20glos'+'s:\x20f32,\x0a\x20\x20'+'\x20\x20specular'+'ity:\x20vec3f'+',\x0a\x20\x20\x20\x20geom'+'etricNorma'+'l:\x20vec3f,\x0a'+'\x20\x20\x20\x20tbn:\x20m'+'at3x3f,\x0a#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a#e'+'ndif\x0a\x20\x20\x20\x20c'+'learcoat_w'+'orldNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20clearco'+'at_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20s'+'heen_gloss'+':\x20f32,\x0a\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty:\x20f32\x0a)\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ve'+'c3f(1.0);\x0a'+'\x20\x20\x20\x20var\x20di'+'ffuseAtten'+'uation:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20var\x20fal'+'loffAttenu'+'ation:\x20f32'+'\x20=\x201.0;\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20omni\x20'+'part\x20of\x20th'+'e\x20light\x0a\x20\x20'+'\x20\x20let\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(l'+'ight.posit'+'ion);\x0a\x20\x20\x20\x20'+'let\x20lightD'+'irNormW:\x20v'+'ec3f\x20=\x20nor'+'malize(lig'+'htDirW);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_A'+'REALIGHTS\x0a'+'\x0a\x20\x20\x20\x20//\x20di'+'stance\x20att'+'enuation\x0a\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20!'+'=\x20{LIGHTSH'+'APE_PUNCTU'+'AL})\x20{\x20//\x20'+'area\x20light'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20decodeC'+'lusterLigh'+'tAreaData('+'light);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20')+('handle\x20lig'+'ht\x20shape\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'pe\x20==\x20{LIG'+'HTSHAPE_RE'+'CT})\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcRectLig'+'htValues(l'+'ight.posit'+'ion,\x20light'+'.halfWidth'+',\x20light.ha'+'lfHeight);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'light.shap'+'e\x20==\x20{LIGH'+'TSHAPE_DIS'+'K})\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcDiskLigh'+'tValues(li'+'ght.positi'+'on,\x20light.'+'halfWidth,'+'\x20light.hal'+'fHeight);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x20//\x20'+'sphere\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'alcSphereL'+'ightValues'+'(light.pos'+'ition,\x20lig'+'ht.halfWid'+'th,\x20light.'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20falloffA'+'ttenuation'+'\x20=\x20getFall'+'offWindow('+'light.rang'+'e,\x20lightDi'+'rW);\x0a\x0a\x20\x20\x20\x20'+'}\x20else\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20{\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.fallo'+'ffModeLine'+'ar)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20fa'+'lloffAtten'+'uation\x20=\x20g'+'etFalloffL'+'inear(ligh'+'t.range,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'falloffAtt'+'enuation\x20='+'\x20getFallof'+'fInvSquare'+'d(light.ra'+'nge,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20if'+'\x20(falloffA'+'ttenuation'+'\x20>\x200.00001'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_AR'+'EALIGHTS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20!=\x20{LI'+'GHTSHAPE_P'+'UNCTUAL})\x20'+'{\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20handle\x20l'+'ight\x20shape'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.shape\x20='+'=\x20{LIGHTSH'+'APE_RECT})'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iffuseAtte'+'nuation\x20=\x20'+'getRectLig'+'htDiffuse('+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'W,\x20lightDi'+'rNormW)\x20*\x20'+'16.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20diffuseAt'+'tenuation\x20'+'=\x20getDiskL'+'ightDiffus'+'e(worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irW,\x20light'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x20else\x20{\x20/'+'/\x20sphere\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20diffu'+'seAttenuat'+'ion\x20=\x20getS'+'phereLight'+'Diffuse(wo'+'rldNormal,'+'\x20viewDir,\x20'+'lightDirW,'+'\x20lightDirN'+'ormW)\x20*\x2016'+'.0;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getLi'+'ghtDiffuse'+'(worldNorm'+'al,\x20viewDi'+'r,\x20lightDi'+'rNormW);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.is'+'Spot)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'decodeClus'+'terLightSp'+'ot(light);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20getSp'+'otEffect(l'+'ight.direc'+'tion,\x20ligh'+'t.innerCon'+'eAngleCos,'+'\x20light.out'+'erConeAngl'+'eCos,\x20ligh'+'tDirNormW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(CLUSTER'+'_COOKIES)\x20'+'||\x20defined'+'(CLUSTER_S'+'HADOWS)\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(falloffAt'+'tenuation\x20'+'>\x200.00001)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'hadow\x20/\x20co')+('okie\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(light.sha'+'dowIntensi'+'ty\x20>\x200.0\x20|'+'|\x20light.co'+'okieIntens'+'ity\x20>\x200.0)'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20shared\x20'+'shadow\x20/\x20c'+'ookie\x20data'+'\x20depends\x20o'+'n\x20light\x20ty'+'pe\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(light.i'+'sSpot)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ecodeClust'+'erLightPro'+'jectionMat'+'rixData(li'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20decodeClu'+'sterLightO'+'mniAtlasVi'+'ewport(lig'+'ht);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'TextureRes'+'olution:\x20f'+'32\x20=\x20unifo'+'rm.shadowA'+'tlasParams'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20shadow'+'EdgePixels'+':\x20f32\x20=\x20un'+'iform.shad'+'owAtlasPar'+'ams.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CLUSTER_C'+'OOKIES\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(light.'+'cookieInte'+'nsity\x20>\x200.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20decod'+'eClusterLi'+'ghtCookieD'+'ata(light)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(lig'+'ht.isSpot)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'!!!!!!!!!!'+'!\x20TEXTURE_'+'PASS\x20likel'+'y\x20needs\x20sa'+'mpler.\x20Ass'+'uming\x20cook'+'ieAtlasTex'+'tureSample'+'r\x20exists.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20cookie'+'Attenuatio'+'n\x20=\x20getCoo'+'kie2DClust'+'ered(cooki'+'eAtlasText'+'ure,\x20cooki'+'eAtlasText'+'ureSampler'+',\x20lightPro'+'jectionMat'+'rix,\x20vPosi'+'tionW,\x20lig')+('ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20!!!!!!!!'+'!!!\x20TEXTUR'+'E_PASS\x20lik'+'ely\x20needs\x20'+'sampler.\x20A'+'ssuming\x20co'+'okieAtlasT'+'extureSamp'+'ler\x20exists'+'.\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20cook'+'ieAttenuat'+'ion\x20=\x20getC'+'ookieCubeC'+'lustered(c'+'ookieAtlas'+'Texture,\x20c'+'ookieAtlas'+'TextureSam'+'pler,\x20ligh'+'tDirW,\x20lig'+'ht.cookieI'+'ntensity,\x20'+'light.cook'+'ieChannelM'+'ask,\x20shado'+'wTextureRe'+'solution,\x20'+'shadowEdge'+'Pixels,\x20li'+'ght.omniAt'+'lasViewpor'+'t);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20CLUSTER_'+'SHADOWS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sh'+'adow\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20if\x20(light'+'.shadowInt'+'ensity\x20>\x200'+'.0)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20deco'+'deClusterL'+'ightShadow'+'Data(light'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20sh'+'adowParams'+':\x20vec4f\x20=\x20'+'vec4f(shad'+'owTextureR'+'esolution,'+'\x20light.sha'+'dowNormalB'+'ias,\x20light'+'.shadowBia'+'s,\x201.0\x20/\x20l'+'ight.range'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(li'+'ght.isSpot'+')\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20spot\x20sha'+'dow\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20shadowCo'+'ord:\x20vec3f'+'\x20=\x20getShad'+'owCoordPer'+'spZbufferN'+'ormalOffse'+'t(lightPro'+'jectionMat')+('rix,\x20shado'+'wParams,\x20g'+'eometricNo'+'rmal);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20!!!!!'+'!!!!!!\x20SHA'+'DOWMAP_PAS'+'S\x20needs\x20te'+'xture\x20and\x20'+'sampler_co'+'mparison.\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20!!!'+'!!!!!!!!\x20S'+'hadow\x20func'+'tions\x20need'+'\x20update\x20fo'+'r\x20WGSL\x20tex'+'tureSample'+'Compare\x20et'+'c.\x20Assumin'+'g\x20these\x20ar'+'e\x20handled\x20'+'in\x20include'+'s.\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF1)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'SpotCluste'+'redPCF1(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wCoord,\x20sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'if\x20defined'+'(CLUSTER_S'+'HADOW_TYPE'+'_PCF3)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20s'+'hadow:\x20f32'+'\x20=\x20getShad'+'owSpotClus'+'teredPCF3('+'shadowAtla'+'sTexture,\x20'+'shadowAtla'+'sTextureSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20defin'+'ed(CLUSTER'+'_SHADOW_TY'+'PE_PCF5)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20shadow:\x20f'+'32\x20=\x20getSh'+'adowSpotCl'+'usteredPCF'+'5(shadowAt'+'lasTexture'+',\x20shadowAt'+'lasTexture'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCSS)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l')+('et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowSpot'+'ClusteredP'+'CSS(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20fallof'+'fAttenuati'+'on\x20=\x20fallo'+'ffAttenuat'+'ion\x20*\x20mix('+'1.0,\x20shado'+'w,\x20light.s'+'hadowInten'+'sity);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20omni\x20'+'shadow\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20dir:\x20'+'vec3f\x20=\x20no'+'rmalOffset'+'PointShado'+'w(shadowPa'+'rams,\x20ligh'+'t.position'+',\x20lightDir'+'W,\x20lightDi'+'rNormW,\x20ge'+'ometricNor'+'mal);\x20\x20//\x20'+'normalBias'+'\x20adjusted\x20'+'for\x20distan'+'ce\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20!!!!!!!!!'+'!!\x20SHADOWM'+'AP_PASS\x20ne'+'eds\x20textur'+'e\x20and\x20samp'+'ler_compar'+'ison.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20!!!!!!!'+'!!!!\x20Shado'+'w\x20function'+'s\x20need\x20upd'+'ate\x20for\x20WG'+'SL\x20texture'+'SampleComp'+'are\x20etc.\x20A'+'ssuming\x20th'+'ese\x20are\x20ha'+'ndled\x20in\x20i'+'ncludes.\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(CLUST'+'ER_SHADOW_'+'TYPE_PCF1)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadow:'+'\x20f32\x20=\x20get'+'ShadowOmni'+'ClusteredP'+'CF1(shadow'+'AtlasTextu'+'re,\x20shadow'+'AtlasTextu'+'reSampler,'+'\x20shadowPar'+'ams,\x20light'+'.omniAtlas'+'Viewport,\x20'+'shadowEdge'+'Pixels,\x20di'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20define'+'d(CLUSTER_'+'SHADOW_TYP'+'E_PCF3)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20getSha'+'dowOmniClu'+'steredPCF3'+'(shadowAtl'+'asTexture,'+'\x20shadowAtl'+'asTextureS'+'ampler,\x20sh'+'adowParams'+',\x20light.om'+'niAtlasVie'+'wport,\x20sha'+'dowEdgePix'+'els,\x20dir);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20defined(C'+'LUSTER_SHA'+'DOW_TYPE_P'+'CF5)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sha'+'dow:\x20f32\x20='+'\x20getShadow'+'OmniCluste'+'redPCF5(sh'+'adowAtlasT'+'exture,\x20sh'+'adowAtlasT'+'extureSamp'+'ler,\x20shado'+'wParams,\x20l'+'ight.omniA'+'tlasViewpo'+'rt,\x20shadow'+'EdgePixels'+',\x20dir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20falloff'+'Attenuatio'+'n\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20mix(1'+'.0,\x20shadow'+',\x20light.sh'+'adowIntens'+'ity);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20diffuse\x20'+'/\x20specular'+'\x20/\x20clearco'+'at\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20CL'+'USTER_AREA'+'LIGHTS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'light.shap'+'e\x20!=\x20{LIGH'+'TSHAPE_PUN'+'CTUAL})\x20{\x20'+'//\x20area\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'area\x20light'+'\x20diffuse\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20areaDif'+'fuse:\x20vec3'+'f\x20=\x20(diffu'+'seAttenuat'+'ion\x20*\x20fall'+'offAttenua'+'tion)\x20*\x20li')+('ght.color\x20'+'*\x20cookieAt'+'tenuation;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_SPECUL'+'AR)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20areaDi'+'ffuse\x20=\x20mi'+'x(areaDiff'+'use,\x20vec3f'+'(0.0),\x20dLT'+'CSpecFres)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20diff'+'use\x20-\x20it\x20d'+'oes\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dDiffuseL'+'ight\x20=\x20dDi'+'ffuseLight'+'\x20+\x20areaDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20area\x20'+'light\x20spec'+'ular\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20areaL'+'ightSpecul'+'ar:\x20f32;\x20/'+'/\x20Use\x20var\x20'+'because\x20as'+'signed\x20in\x20'+'if/else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_RECT'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20areaL'+'ightSpecul'+'ar\x20=\x20getRe'+'ctLightSpe'+'cular(worl'+'dNormal,\x20v'+'iewDir);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20if\x20(ligh'+'t.shape\x20=='+'\x20{LIGHTSHA'+'PE_DISK})\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecular\x20'+'=\x20getDiskL'+'ightSpecul'+'ar(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x20//\x20sphere'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20areaLight'+'Specular\x20='+'\x20getSphere'+'LightSpecu')+('lar(worldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20dLTC'+'SpecFres\x20*'+'\x20areaLight'+'Specular\x20*'+'\x20falloffAt'+'tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20are'+'a\x20light\x20sp'+'ecular\x20cle'+'ar\x20coat\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20areaLigh'+'tSpecularC'+'C:\x20f32;\x20//'+'\x20Use\x20var\x20b'+'ecause\x20ass'+'igned\x20in\x20i'+'f/else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(light.sh'+'ape\x20==\x20{LI'+'GHTSHAPE_R'+'ECT})\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20areaLigh'+'tSpecularC'+'C\x20=\x20getRec'+'tLightSpec'+'ular(clear'+'coat_world'+'Normal,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20if\x20(l'+'ight.shape'+'\x20==\x20{LIGHT'+'SHAPE_DISK'+'})\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'reaLightSp'+'ecularCC\x20='+'\x20getDiskLi'+'ghtSpecula'+'r(clearcoa'+'t_worldNor'+'mal,\x20viewD'+'ir);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x20els'+'e\x20{\x20//\x20sph'+'ere\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ar'+'eaLightSpe'+'cularCC\x20=\x20'+'getSphereL'+'ightSpecul'+'ar(clearco'+'at_worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20c'+'cSpecularL'+'ight\x20=\x20ccS'+'pecularLig'+'ht\x20+\x20ccLTC'+'SpecFres\x20*'+'\x20areaLight'+'SpecularCC'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20\x20*\x20c'+'ookieAtten')+('uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x20else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20{\x20\x20\x20\x20//'+'\x20punctual\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20punctual'+'\x20light\x20dif'+'fuse\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20p'+'unctualDif'+'fuse:\x20vec3'+'f\x20=\x20fallof'+'fAttenuati'+'on\x20*\x20light'+'.color\x20*\x20c'+'ookieAtten'+'uation;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(CLU'+'STER_AREAL'+'IGHTS)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_S'+'PECULAR)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'unctualDif'+'fuse\x20=\x20mix'+'(punctualD'+'iffuse,\x20ve'+'c3f(0.0),\x20'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dDi'+'ffuseLight'+'\x20=\x20dDiffus'+'eLight\x20+\x20p'+'unctualDif'+'fuse;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20spec'+'ular\x20and\x20c'+'lear\x20coat\x20'+'are\x20materi'+'al\x20setting'+'s\x20and\x20get\x20'+'included\x20b'+'y\x20a\x20define'+'\x20based\x20on\x20'+'the\x20materi'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Dir:\x20vec3f'+'\x20=\x20normali'+'ze(-lightD'+'irNormW\x20+\x20'+'viewDir);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specular\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR_FRESN'+'EL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dSpecul'+'arLight\x20=\x20'+'dSpecularL'+'ight\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD')+('ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20halfD'+'ir),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sp'+'ecularity\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'IRIDESCENC'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ce_intensi'+'ty\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20getLightS'+'pecular(ha'+'lfDir,\x20ref'+'lectionDir'+',\x20worldNor'+'mal,\x20viewD'+'ir,\x20lightD'+'irNormW,\x20g'+'loss,\x20tbn)'+'\x20*\x20falloff'+'Attenuatio'+'n\x20*\x20light.'+'color\x20*\x20co'+'okieAttenu'+'ation\x20*\x20sp'+'ecularity;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccSpec'+'ularLight\x20'+'=\x20ccSpecul'+'arLight\x20+\x20'+'getLightSp'+'ecular(hal'+'fDir,\x20clea'+'rcoatRefle'+'ctionDir,\x20'+'clearcoat_'+'worldNorma'+'l,\x20viewDir'+',\x20lightDir'+'NormW,\x20cle'+'arcoat_glo'+'ss,\x20tbn)\x20*'+'\x20falloffAt')+('tenuation\x20'+'*\x20light.co'+'lor\x20*\x20cook'+'ieAttenuat'+'ion\x20*\x20getF'+'resnelCC(d'+'ot(viewDir'+',\x20halfDir)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccSpecu'+'larLight\x20='+'\x20ccSpecula'+'rLight\x20+\x20g'+'etLightSpe'+'cular(half'+'Dir,\x20clear'+'coatReflec'+'tionDir,\x20c'+'learcoat_w'+'orldNormal'+',\x20viewDir,'+'\x20lightDirN'+'ormW,\x20clea'+'rcoat_glos'+'s,\x20tbn)\x20*\x20'+'falloffAtt'+'enuation\x20*'+'\x20light.col'+'or\x20*\x20cooki'+'eAttenuati'+'on;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sS'+'pecularLig'+'ht\x20=\x20sSpec'+'ularLight\x20'+'+\x20getLight'+'SpecularSh'+'een(halfDi'+'r,\x20worldNo'+'rmal,\x20view'+'Dir,\x20light'+'DirNormW,\x20'+'sheen_glos'+'s)\x20*\x20fallo'+'ffAttenuat'+'ion\x20*\x20ligh'+'t.color\x20*\x20'+'cookieAtte'+'nuation;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20Writ'+'e\x20to\x20globa'+'l\x20attenuat'+'ion\x20values'+'\x20(for\x20ligh'+'tmapper)\x0a\x20'+'\x20\x20\x20dAtten\x20'+'=\x20falloffA'+'ttenuation'+';\x0a\x20\x20\x20\x20dLig'+'htDirNormW'+'\x20=\x20lightDi'+'rNormW;\x0a}\x0a'+'\x0a\x0afn\x20evalu'+'ateCluster'+'Light(\x0a\x20\x20\x20'+'\x20lightInde'+'x:\x20f32,\x0a\x20\x20'+'\x20\x20worldNor'+'mal:\x20vec3f'+',\x0a\x20\x20\x20\x20view'+'Dir:\x20vec3f'+',\x0a\x20\x20\x20\x20refl'+'ectionDir:'+'\x20vec3f,\x0a#i'+'f\x20defined('+'LIT_CLEARC'+'OAT)\x0a\x20\x20\x20\x20c'+'learcoatRe'+'flectionDi'+'r:\x20vec3f,\x0a'+'#endif\x0a\x20\x20\x20')+('\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20geometric'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20t'+'bn:\x20mat3x3'+'f,\x0a#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20clearc'+'oat_worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20cl'+'earcoat_gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20sheen_'+'gloss:\x20f32'+',\x0a\x20\x20\x20\x20irid'+'escence_in'+'tensity:\x20f'+'32\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20decod'+'e\x20core\x20lig'+'ht\x20data\x20fr'+'om\x20texture'+'s\x0a\x20\x20\x20\x20var\x20'+'clusterLig'+'htData:\x20Cl'+'usterLight'+'Data;\x0a\x20\x20\x20\x20'+'decodeClus'+'terLightCo'+'re(&cluste'+'rLightData'+',\x20lightInd'+'ex);\x0a\x0a\x20\x20\x20\x20'+'//\x20evaluat'+'e\x20light\x20if'+'\x20it\x20uses\x20a'+'ccepted\x20li'+'ght\x20mask\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'CLUSTER_ME'+'SH_DYNAMIC'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'acceptLigh'+'tMask:\x20boo'+'l\x20=\x20cluste'+'rLightData'+'.isDynamic'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20accept'+'LightMask:'+'\x20bool\x20=\x20cl'+'usterLight'+'Data.isLig'+'htmapped;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'acceptLigh'+'tMask)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20eva'+'luateLight'+'(\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20&clust'+'erLightDat'+'a,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'viewDir,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20reflectio'+'nDir,\x0a#if\x20'+'defined(LI'+'T_CLEARCOA'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coatReflec'+'tionDir,\x0a#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gl'+'oss,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20spe'+'cularity,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20geometri'+'cNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20tbn,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE')+('NCE)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20iri'+'descenceFr'+'esnel,\x0a#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20clea'+'rcoat_worl'+'dNormal,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20clearcoat'+'_gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'sheen_glos'+'s,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a\x0a\x0afn'+'\x20addCluste'+'redLights('+'\x0a\x20\x20\x20\x20world'+'Normal:\x20ve'+'c3f,\x0a\x20\x20\x20\x20v'+'iewDir:\x20ve'+'c3f,\x0a\x20\x20\x20\x20r'+'eflectionD'+'ir:\x20vec3f,'+'\x0a#if\x20defin'+'ed(LIT_CLE'+'ARCOAT)\x0a\x20\x20'+'\x20\x20clearcoa'+'tReflectio'+'nDir:\x20vec3'+'f,\x0a#endif\x0a'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'specularit'+'y:\x20vec3f,\x0a'+'\x20\x20\x20\x20geomet'+'ricNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20tbn:\x20mat'+'3x3f,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a#end'+'if\x0a\x20\x20\x20\x20cle'+'arcoat_wor'+'ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20clearcoat'+'_gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20she'+'en_gloss:\x20'+'f32,\x0a\x20\x20\x20\x20i'+'ridescence'+'_intensity'+':\x20f32\x0a)\x20{\x0a'+'\x0a\x20\x20\x20\x20//\x20sk'+'ip\x20lights\x20'+'if\x20no\x20ligh'+'ts\x20at\x20all\x0a'+'\x20\x20\x20\x20if\x20(un'+'iform.clus'+'terSkip\x20>\x20'+'0.5)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20wor'+'ld\x20space\x20p'+'osition\x20to'+'\x203d\x20intege'+'r\x20cell\x20cor'+'dinates\x20in'+'\x20the\x20clust'+'er\x20structu'+'re\x0a\x20\x20\x20\x20let'+'\x20cellCoord'+'s:\x20vec3f\x20='+'\x20floor((vP'+'ositionW\x20-'+'\x20uniform.c'+'lusterBoun'+'dsMin)\x20*\x20u'+'niform.clu'+'sterCellsC'+'ountByBoun'+'dsSize);\x0a\x0a'+'\x20\x20\x20\x20//\x20no\x20'+'lighting\x20w'+'hen\x20cell\x20c'+'oordinate\x20'+'is\x20out\x20of\x20'+'range\x0a\x20\x20\x20\x20'+'if\x20(!(any('+'cellCoords')+('\x20<\x20vec3f(0'+'.0))\x20||\x20an'+'y(cellCoor'+'ds\x20>=\x20unif'+'orm.cluste'+'rCellsMax)'+'))\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cel'+'l\x20index\x20(m'+'apping\x20fro'+'m\x203d\x20cell\x20'+'coordinate'+'s\x20to\x20linea'+'r\x20memory)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20cellInde'+'x:\x20f32\x20=\x20d'+'ot(uniform'+'.clusterCe'+'llsDot,\x20ce'+'llCoords);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20convert'+'\x20cell\x20inde'+'x\x20to\x20uv\x20co'+'ordinates\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20clusterV'+':\x20f32\x20=\x20fl'+'oor(cellIn'+'dex\x20*\x20unif'+'orm.cluste'+'rTextureSi'+'ze.y);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20c'+'lusterU:\x20f'+'32\x20=\x20cellI'+'ndex\x20-\x20(cl'+'usterV\x20*\x20u'+'niform.clu'+'sterTextur'+'eSize.x);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20loop\x20ove'+'r\x20maximum\x20'+'number\x20of\x20'+'light\x20cell'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'for\x20(var\x20l'+'ightCellIn'+'dex:\x20i32\x20='+'\x200;\x20lightC'+'ellIndex\x20<'+'\x20uniform.c'+'lusterMaxC'+'ells;\x20ligh'+'tCellIndex'+'\x20=\x20lightCe'+'llIndex\x20+\x20'+'1)\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20using\x20a\x20s'+'ingle\x20chan'+'nel\x20textur'+'e\x20with\x20dat'+'a\x20in\x20red\x20c'+'hannel\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20lightIn'+'dexPacked:'+'\x20f32\x20=\x20tex'+'tureLoad(c'+'lusterWorl'+'dTexture,\x20'+'vec2<i32>('+'i32(cluste'+'rU)\x20+\x20ligh'+'tCellIndex'+',\x20i32(clus'+'terV)),\x200)'+'.r;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(lightInde'+'xPacked\x20<='+'\x200.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20break;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ev'+'aluateClus'+'terLight(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ligh'+'tIndexPack'+'ed\x20*\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20wo'+'rldNormal,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20vie'+'wDir,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20reflecti'+'onDir,\x0a#if'+'\x20defined(L'+'IT_CLEARCO'+'AT)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'clearcoatR'+'eflectionD'+'ir,\x0a#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'eometricNo'+'rmal,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20tbn,\x0a#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20iridesce'+'nceFresnel'+',\x0a#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20clear'+'coat_world'+'Normal,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20clearc'+'oat_gloss,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20she'+'en_gloss,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escence_in'+'tensity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a}'),SM='\x0afn\x20combin'+'eColor(alb'+'edo:\x20vec3f'+',\x20sheenSpe'+'cularity:\x20'+'vec3f,\x20cle'+'arcoatSpec'+'ularity:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20ret:\x20ve'+'c3f\x20=\x20vec3'+'f(0.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20ret\x20=\x20'+'ret\x20+\x20((dD'+'iffuseLigh'+'t\x20-\x20unifor'+'m.light_gl'+'obalAmbien'+'t)\x20*\x20albed'+'o\x20+\x20unifor'+'m.material'+'_ambient\x20*'+'\x20uniform.l'+'ight_globa'+'lAmbient);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(albedo\x20*'+'\x20dDiffuseL'+'ight);\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_OLD_A'+'MBIENT\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20dSpecular'+'Light;\x0a\x20\x20\x20'+'\x20#endif\x20//'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'et\x20=\x20ret\x20+'+'\x20(dReflect'+'ion.rgb\x20*\x20'+'dReflectio'+'n.a);\x0a\x20\x20\x20\x20'+'#endif\x20//\x20'+'LIT_REFLEC'+'TIONS\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'sheenScali'+'ng:\x20f32\x20=\x20'+'1.0\x20-\x20max('+'max(sheenS'+'pecularity'+'.r,\x20sheenS'+'pecularity'+'.g),\x20sheen'+'Specularit'+'y.b)\x20*\x200.1'+'57;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20ret\x20=\x20re'+'t\x20*\x20sheenS'+'caling\x20+\x20('+'sSpecularL'+'ight\x20+\x20sRe'+'flection.r'+'gb)\x20*\x20shee'+'nSpeculari'+'ty;\x0a\x20\x20\x20\x20#e'+'ndif\x20//\x20LI'+'T_SHEEN\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20clear'+'CoatScalin'+'g:\x20f32\x20=\x201'+'.0\x20-\x20ccFre'+'snel\x20*\x20cle'+'arcoatSpec'+'ularity;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'\x20=\x20ret\x20*\x20c'+'learCoatSc'+'aling\x20+\x20(c'+'cSpecularL'+'ight\x20+\x20ccR'+'eflection)'+('\x20*\x20clearco'+'atSpecular'+'ity;\x0a\x20\x20\x20\x20#'+'endif\x20//\x20L'+'IT_CLEARCO'+'AT\x0a\x0a\x20\x20\x20\x20re'+'turn\x20ret;\x0a'+'}\x0a'),yM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x0a\x20\x20\x20\x20'+'var\x20blitTe'+'xture:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20blitText'+'ureSampler'+'\x20:\x20sampler'+';\x0a\x0a\x20\x20\x20\x20@fr'+'agment\x0a\x20\x20\x20'+'\x20fn\x20fragme'+'ntMain(inp'+'ut\x20:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20t'+'extureSamp'+'le(blitTex'+'ture,\x20blit'+'TextureSam'+'pler,\x20inpu'+'t.uv0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a\x20\x20\x20\x20}\x0a',vM='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20u'+'niform\x20inv'+'ViewProj:\x20'+'mat4x4<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'re:\x20textur'+'e_cube<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20blitTextu'+'reSampler\x20'+':\x20sampler;'+'\x0a\x0a\x20\x20\x20\x20@fra'+'gment\x0a\x20\x20\x20\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20pro'+'jPos\x20=\x20vec'+'4f(input.u'+'v0\x20*\x202.0\x20-'+'\x201.0,\x200.5,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20w'+'orldPos\x20=\x20'+'uniform.in'+'vViewProj\x20'+'*\x20projPos;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20textur'+'eSample(bl'+'itTexture,'+'\x20blitTextu'+'reSampler,'+'\x20worldPos.'+'xyz);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20output;\x0a\x20'+'\x20\x20\x20}\x0a',xM='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.uv0.y'+'\x20=\x201.0\x20-\x20o'+'utput.uv0.'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',TM='\x0a\x0a#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20BOX\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMin:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20en'+'vBoxMax:\x20v'+'ec3f;\x0a#end'+'if\x0a\x0afn\x20cub'+'eMapProjec'+'t(nrdir:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIT_'+'CUBEMAP_PR'+'OJECTION\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20cubeMapR'+'otate(nrdi'+'r);\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20LIT_CU'+'BEMAP_PROJ'+'ECTION\x20==\x20'+'BOX\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20nrd'+'ir_rotated'+':\x20vec3f\x20=\x20'+'cubeMapRot'+'ate(nrdir)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20rbmax'+':\x20vec3f\x20=\x20'+'(uniform.e'+'nvBoxMax\x20-'+'\x20vPosition'+'W)\x20/\x20nrdir'+'_rotated;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20rbmin:\x20v'+'ec3f\x20=\x20(un'+'iform.envB'+'oxMin\x20-\x20vP'+'ositionW)\x20'+'/\x20nrdir_ro'+'tated;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'rbminmax:\x20'+'vec3f\x20=\x20se'+'lect(rbmin'+',\x20rbmax,\x20n'+'rdir_rotat'+'ed\x20>\x20vec3f'+'(0.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'fa:\x20f32\x20=\x20'+'min(min(rb'+'minmax.x,\x20'+'rbminmax.y'+'),\x20rbminma'+'x.z);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20p'+'osonbox:\x20v'+'ec3f\x20=\x20vPo'+'sitionW\x20+\x20'+'nrdir_rota'+'ted\x20*\x20fa;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20envBoxPo'+'s:\x20vec3f\x20='+'\x20(uniform.'+'envBoxMin\x20'+'+\x20uniform.'+'envBoxMax)'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20normali'+'ze(posonbo'+'x\x20-\x20envBox'+'Pos);\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',wM='\x0a#ifdef\x20CU'+'BEMAP_ROTA'+'TION\x0aunifo'+'rm\x20cubeMap'+'RotationMa'+'trix:\x20mat3'+'x3f;\x0a#endi'+'f\x0a\x0afn\x20cube'+'MapRotate('+'refDir:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a#ifd'+'ef\x20CUBEMAP'+'_ROTATION\x0a'+'\x20\x20\x20\x20return'+'\x20refDir\x20*\x20'+'uniform.cu'+'beMapRotat'+'ionMatrix;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20re'+'fDir;\x0a#end'+'if\x0a}\x0a',EM='\x0a#ifdef\x20DE'+'BUG_ALBEDO'+'_PASS\x0aoutp'+'ut.color\x20='+'\x20vec4(gamm'+'aCorrectOu'+'tput(dAlbe'+'do),\x201.0);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0aoutput.co'+'lor\x20=\x20vec4'+'f(litArgs_'+'albedo\x20,\x201'+'.0);\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'DEBUG_WORL'+'D_NORMAL_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(litAr'+'gs_worldNo'+'rmal\x20*\x200.5'+'\x20+\x200.5,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_OPACI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_opacity'+')\x20,\x201.0);\x0a'+'#endif\x0a\x0a#i'+'fdef\x20DEBUG'+'_SPECULARI'+'TY_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(l'+'itArgs_spe'+'cularity,\x20'+'1.0);\x0a#end'+'if\x0a\x0a#ifdef'+'\x20DEBUG_GLO'+'SS_PASS\x0aou'+'tput.color'+'\x20=\x20vec4f(v'+'ec3f(litAr'+'gs_gloss)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_M'+'ETALNESS_P'+'ASS\x0aoutput'+'.color\x20=\x20v'+'ec4f(vec3f'+'(litArgs_m'+'etalness)\x20'+',\x201.0);\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20DEBUG_A'+'O_PASS\x0aout'+'put.color\x20'+'=\x20vec4f(ve'+'c3f(litArg'+'s_ao)\x20,\x201.'+'0);\x0a#endif'+'\x0a\x0a#ifdef\x20D'+'EBUG_EMISS'+'ION_PASS\x0ao'+'utput.colo'+'r\x20=\x20vec4f('+'gammaCorre'+'ctOutput(l'+'itArgs_emi'+'ssion),\x201.'+'0);\x0a#endif'+'\x0a',bM='\x0a#ifdef\x20DE'+'BUG_LIGHTI'+'NG_PASS\x0a\x20\x20'+'\x20\x20litArgs_'+'albedo\x20=\x20v'+'ec3f(0.5);'+'\x0a#endif\x0a\x0a#'+'ifdef\x20DEBU'+'G_UV0_PASS'+'\x0a#ifdef\x20VA'+'RYING_VUV0'+'\x0a\x20\x20\x20\x20litAr'+'gs_albedo\x20'+'=\x20vec3f(vU'+'v0,\x200.0);\x0a'+'#else\x0a\x20\x20\x20\x20'+'litArgs_al'+'bedo\x20=\x20vec'+'3f(0.0);\x0a#'+'endif\x0a#end'+'if\x0a',AM='\x0a\x0a#ifndef\x20'+'_DECODE_IN'+'CLUDED_\x0a#d'+'efine\x20_DEC'+'ODE_INCLUD'+'ED_\x0a\x0afn\x20de'+'codeLinear'+'(raw:\x20vec4'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20raw.r'+'gb;\x0a}\x0a\x0afn\x20'+'decodeGamm'+'aFloat(raw'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20pow'+'(raw,\x202.2)'+';\x0a}\x0a\x0afn\x20de'+'codeGamma3'+'(raw:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(r'+'aw,\x20vec3f('+'2.2));\x0a}\x0a\x0a'+'fn\x20decodeG'+'amma(raw:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20return\x20p'+'ow(raw.xyz'+',\x20vec3f(2.'+'2));\x0a}\x0a\x0afn'+'\x20decodeRGB'+'M(raw:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20color\x20='+'\x20(8.0\x20*\x20ra'+'w.a)\x20*\x20raw'+'.rgb;\x0a\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20color'+';\x0a}\x0a\x0afn\x20de'+'codeRGBP(r'+'aw:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20ra'+'w.rgb\x20*\x20(-'+'raw.a\x20*\x207.'+'0\x20+\x208.0);\x0a'+'\x20\x20\x20\x20return'+'\x20color\x20*\x20c'+'olor;\x0a}\x0a\x0af'+'n\x20decodeRG'+'BE(raw:\x20ve'+'c4f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(vec3f('+'0.0),\x20raw.'+'xyz\x20*\x20pow('+'2.0,\x20raw.w'+'\x20*\x20255.0\x20-'+'\x20128.0),\x20r'+'aw.a\x20!=\x200.'+'0);\x0a}\x0a\x0afn\x20'+'passThroug'+'h(raw:\x20vec'+'4f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20raw;'+'\x0a}\x0a\x0afn\x20unp'+'ackNormalX'+'YZ(nmap:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20nm'+'ap.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'}\x0a\x0afn\x20unpa'+'ckNormalXY'+'(nmap:\x20vec'+'4f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20xy\x20=\x20nm'+'ap.wy\x20*\x202.'+'0\x20-\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'vec3f(xy,\x20'+'sqrt(1.0\x20-'+'\x20clamp(dot'+'(xy,\x20xy),\x20'+'0.0,\x201.0))'+');\x0a}\x0a\x0a#end'+'if\x0a',CM='\x0a\x0a#ifndef\x20'+'_DETAILMOD'+'ES_INCLUDE'+'D_\x0a#define'+'\x20_DETAILMO'+'DES_INCLUD'+'ED_\x0a\x0afn\x20de'+'tailMode_m'+'ul(c1:\x20vec'+'3f,\x20c2:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20c1\x20'+'*\x20c2;\x0a}\x0a\x0af'+'n\x20detailMo'+'de_add(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20c1\x20+\x20c2;\x0a'+'}\x0a\x0a//\x20http'+'s://en.wik'+'ipedia.org'+'/wiki/Blen'+'d_modes#Sc'+'reen\x0afn\x20de'+'tailMode_s'+'creen(c1:\x20'+'vec3f,\x20c2:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'1.0\x20-\x20(1.0'+'\x20-\x20c1)*(1.'+'0\x20-\x20c2);\x0a}'+'\x0a\x0a//\x20https'+'://en.wiki'+'pedia.org/'+'wiki/Blend'+'_modes#Ove'+'rlay\x0afn\x20de'+'tailMode_o'+'verlay(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20mix(1.0\x20-'+'\x202.0\x20*\x20(1.'+'0\x20-\x20c1)*(1'+'.0\x20-\x20c2),\x20'+'2.0\x20*\x20c1\x20*'+'\x20c2,\x20step('+'c1,\x20vec3f('+'0.5)));\x0a}\x0a'+'\x0afn\x20detail'+'Mode_min(c'+'1:\x20vec3f,\x20'+'c2:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20min(c1,'+'\x20c2);\x0a}\x0a\x0af'+'n\x20detailMo'+'de_max(c1:'+'\x20vec3f,\x20c2'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(c1,\x20c'+'2);\x0a}\x0a\x0a#en'+'dif\x0a',PM='\x0auniform\x20m'+'aterial_di'+'ffuse:\x20vec'+'3f;\x0a\x0a#ifde'+'f\x20STD_DIFF'+'USEDETAIL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22detailMo'+'desPS\x22\x0a#en'+'dif\x0a\x0afn\x20ge'+'tAlbedo()\x20'+'{\x0a\x20\x20\x20\x20dAlb'+'edo\x20=\x20unif'+'orm.materi'+'al_diffuse'+'.rgb;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSE_'+'TEXTURE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoText'+'ure:\x20vec3f'+'\x20=\x20{STD_DI'+'FFUSE_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_DIFFU'+'SE_TEXTURE'+'_NAME},\x20{S'+'TD_DIFFUSE'+'_TEXTURE_N'+'AME}Sample'+'r,\x20{STD_DI'+'FFUSE_TEXT'+'URE_UV},\x20u'+'niform.tex'+'tureBias))'+'.{STD_DIFF'+'USE_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_DIFFUSED'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'albedoDeta'+'il:\x20vec3f\x20'+'=\x20{STD_DIF'+'FUSEDETAIL'+'_TEXTURE_D'+'ECODE}(tex'+'tureSample'+'Bias({STD_'+'DIFFUSEDET'+'AIL_TEXTUR'+'E_NAME},\x20{'+'STD_DIFFUS'+'EDETAIL_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_DIFFU'+'SEDETAIL_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_D'+'IFFUSEDETA'+'IL_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20albedoT'+'exture\x20=\x20d'+'etailMode_'+'{STD_DIFFU'+'SEDETAIL_D'+'ETAILMODE}'+'(albedoTex'+'ture,\x20albe'+'doDetail);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAlbe'+'do\x20=\x20dAlbe'+'do\x20*\x20albed'+'oTexture;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_DIF'+'FUSE_VERTE'+'X\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'dAlbedo\x20=\x20'+'dAlbedo\x20*\x20'+'gammaCorre'+'ctInputVec'+'3(saturate'+'3(vVertexC'+'olor.{STD_'+('DIFFUSE_VE'+'RTEX_CHANN'+'EL}));\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),MM='\x0auniform\x20m'+'aterial_em'+'issive:\x20ve'+'c3f;\x0aunifo'+'rm\x20materia'+'l_emissive'+'Intensity:'+'\x20f32;\x0a\x0afn\x20'+'getEmissio'+'n()\x20{\x0a\x20\x20\x20\x20'+'dEmission\x20'+'=\x20uniform.'+'material_e'+'missive\x20*\x20'+'uniform.ma'+'terial_emi'+'ssiveInten'+'sity;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_EMISSIVE'+'_TEXTURE\x0a\x20'+'\x20\x20\x20dEmissi'+'on\x20*=\x20{STD'+'_EMISSIVE_'+'TEXTURE_DE'+'CODE}(text'+'ureSampleB'+'ias({STD_E'+'MISSIVE_TE'+'XTURE_NAME'+'},\x20{STD_EM'+'ISSIVE_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_EMISSI'+'VE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias)).{S'+'TD_EMISSIV'+'E_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_EMI'+'SSIVE_VERT'+'EX\x0a\x20\x20\x20\x20dEm'+'ission\x20=\x20d'+'Emission\x20*'+'\x20gammaCorr'+'ectInputVe'+'c3(saturat'+'e3(vVertex'+'Color.{STD'+'_EMISSIVE_'+'VERTEX_CHA'+'NNEL}));\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a',DM='\x0afn\x20encode'+'Linear(sou'+'rce:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'source,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeGamm'+'a(source:\x20'+'vec3f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec4f(pow(s'+'ource\x20+\x20ve'+'c3f(0.0000'+'001),\x20vec3'+'f(1.0\x20/\x202.'+'2)),\x201.0);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBM(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+'r\x20color:\x20v'+'ec3f\x20=\x20pow'+'(source,\x20v'+'ec3f(0.5))'+';\x0a\x20\x20\x20\x20colo'+'r\x20*=\x201.0\x20/'+'\x208.0;\x0a\x0a\x20\x20\x20'+'\x20var\x20a:\x20f3'+'2\x20=\x20satura'+'te(max(max'+'(color.r,\x20'+'color.g),\x20'+'max(color.'+'b,\x201.0\x20/\x202'+'55.0)));\x0a\x20'+'\x20\x20\x20a\x20=\x20cei'+'l(a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20col'+'or\x20/=\x20a;\x0a\x20'+'\x20\x20\x20return\x20'+'vec4f(colo'+'r,\x20a);\x0a}\x0a\x0a'+'fn\x20encodeR'+'GBP(source'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20//\x20con'+'vert\x20incom'+'ing\x20linear'+'\x20to\x20gamma('+'ish)\x0a\x20\x20\x20\x20v'+'ar\x20gamma:\x20'+'vec3f\x20=\x20po'+'w(source,\x20'+'vec3f(0.5)'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20the\x20maxim'+'um\x20compone'+'nt\x20clamped'+'\x20to\x201..8\x0a\x20'+'\x20\x20\x20var\x20max'+'Val:\x20f32\x20='+'\x20min(8.0,\x20'+'max(1.0,\x20m'+'ax(gamma.x'+',\x20max(gamm'+'a.y,\x20gamma'+'.z))));\x0a\x0a\x20'+'\x20\x20\x20//\x20calc'+'ulate\x20stor'+'age\x20factor'+'\x0a\x20\x20\x20\x20var\x20v'+':\x20f32\x20=\x201.'+'0\x20-\x20((maxV'+'al\x20-\x201.0)\x20'+'/\x207.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20roun'+'d\x20the\x20valu'+'e\x20for\x20stor'+'age\x20in\x208bi'+'t\x20channel\x0a'+'\x20\x20\x20\x20v\x20=\x20ce'+'il(v\x20*\x20255'+'.0)\x20/\x20255.'+'0;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(gamma\x20/\x20('+'-v\x20*\x207.0\x20+'+'\x208.0),\x20v);'+'\x0a}\x0a\x0afn\x20enc'+'odeRGBE(so'+'urce:\x20vec3'+'f)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20va'+('r\x20maxVal:\x20'+'f32\x20=\x20max('+'source.x,\x20'+'max(source'+'.y,\x20source'+'.z));\x0a\x20\x20\x20\x20'+'if\x20(maxVal'+'\x20<\x201e-32)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+':\x20f32\x20=\x20ce'+'il(log2(ma'+'xVal));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(s'+'ource\x20/\x20po'+'w(2.0,\x20e),'+'\x20(e\x20+\x20128.'+'0)\x20/\x20255.0'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a'),IM='\x0a\x20\x20\x20\x20var\x20f'+'inalRgb:\x20v'+'ec3f\x20=\x20com'+'bineColor('+'litArgs_al'+'bedo,\x20litA'+'rgs_sheen_'+'specularit'+'y,\x20litArgs'+'_clearcoat'+'_speculari'+'ty);\x0a\x0a\x20\x20\x20\x20'+'finalRgb\x20='+'\x20finalRgb\x20'+'+\x20litArgs_'+'emission;\x0a'+'\x20\x20\x20\x20finalR'+'gb\x20=\x20addFo'+'g(finalRgb'+');\x0a\x20\x20\x20\x20fin'+'alRgb\x20=\x20to'+'neMap(fina'+'lRgb);\x0a\x20\x20\x20'+'\x20finalRgb\x20'+'=\x20gammaCor'+'rectOutput'+'(finalRgb)'+';\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(fin'+'alRgb,\x20out'+'put.color.'+'a);\x0a',LM='\x0a\x0a#ifndef\x20'+'_ENVATLAS_'+'INCLUDED_\x0a'+'#define\x20_E'+'NVATLAS_IN'+'CLUDED_\x0a\x0a/'+'/\x20the\x20envA'+'tlas\x20is\x20fi'+'xed\x20at\x20512'+'\x20pixels.\x20e'+'very\x20equir'+'ect\x20is\x20gen'+'erated\x20wit'+'h\x201\x20pixel\x20'+'boundary.\x0a'+'const\x20atla'+'sSize\x20:\x20f3'+'2\x20=\x20512.0;'+'\x0aconst\x20sea'+'mSize\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'atlasSize;'+'\x0a\x0a//\x20map\x20a'+'\x20normalize'+'d\x20equirect'+'\x20UV\x20to\x20the'+'\x20given\x20rec'+'tangle\x20(ta'+'king\x201\x20pix'+'el\x20seam\x20in'+'to\x20account'+').\x0afn\x20mapU'+'v(uv\x20:\x20vec'+'2f,\x20rect\x20:'+'\x20vec4f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'vec2f(mix('+'rect.x\x20+\x20s'+'eamSize,\x20r'+'ect.x\x20+\x20re'+'ct.z\x20-\x20sea'+'mSize,\x20uv.'+'x),\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20mix(rect.'+'y\x20+\x20seamSi'+'ze,\x20rect.y'+'\x20+\x20rect.w\x20'+'-\x20seamSize'+',\x20uv.y));\x0a'+'}\x0a\x0a//\x20map\x20'+'a\x20normaliz'+'ed\x20equirec'+'t\x20UV\x20and\x20r'+'oughness\x20l'+'evel\x20to\x20th'+'e\x20correct\x20'+'atlas\x20rect'+'.\x0afn\x20mapRo'+'ughnessUv('+'uv\x20:\x20vec2f'+',\x20level\x20:\x20'+'f32)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20t\x20:\x20f3'+'2\x20=\x201.0\x20/\x20'+'exp2(level'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mapUv('+'uv,\x20vec4f('+'0.0,\x201.0\x20-'+'\x20t,\x20t,\x20t\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20map\x20sh'+'iny\x20level\x20'+'UV\x0afn\x20mapS'+'hinyUv(uv\x20'+':\x20vec2f,\x20l'+'evel\x20:\x20f32'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20t\x20:\x20f32\x20='+'\x201.0\x20/\x20exp'+'2(level);\x0a'+'\x20\x20\x20\x20return'+'\x20mapUv(uv,'+'\x20vec4f(1.0'+'\x20-\x20t,\x201.0\x20'+'-\x20t,\x20t,\x20t\x20'+'*\x200.5));\x0a}'+'\x0a\x0a#endif\x0a',RM='\x0a#ifdef\x20LI'+'T_SKYBOX_I'+'NTENSITY\x0a\x20'+'\x20\x20\x20uniform'+'\x20skyboxInt'+'ensity\x20:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20proce'+'ssEnvironm'+'ent(color\x20'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SKYBO'+'X_INTENSIT'+'Y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20col'+'or\x20*\x20unifo'+'rm.skyboxI'+'ntensity;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a',OM='\x0afn\x20getFal'+'loffWindow'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20sqrDist'+':\x20f32\x20=\x20do'+'t(lightDir'+',\x20lightDir'+');\x0a\x20\x20\x20\x20let'+'\x20invRadius'+':\x20f32\x20=\x201.'+'0\x20/\x20lightR'+'adius;\x0a\x20\x20\x20'+'\x20return\x20sq'+'uare(satur'+'ate(1.0\x20-\x20'+'square(sqr'+'Dist\x20*\x20squ'+'are(invRad'+'ius))));\x0a}'+'\x0a\x0afn\x20getFa'+'lloffInvSq'+'uared(ligh'+'tRadius:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20sq'+'rDist:\x20f32'+'\x20=\x20dot(lig'+'htDir,\x20lig'+'htDir);\x0a\x20\x20'+'\x20\x20var\x20fall'+'off:\x20f32\x20='+'\x201.0\x20/\x20(sq'+'rDist\x20+\x201.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20invRadiu'+'s:\x20f32\x20=\x201'+'.0\x20/\x20light'+'Radius;\x0a\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x2016.0;\x0a\x20'+'\x20\x20\x20falloff'+'\x20=\x20falloff'+'\x20*\x20square('+'saturate(1'+'.0\x20-\x20squar'+'e(sqrDist\x20'+'*\x20square(i'+'nvRadius))'+'));\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20fall'+'off;\x0a}\x0a',FM='\x0afn\x20getFal'+'loffLinear'+'(lightRadi'+'us:\x20f32,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20length(l'+'ightDir);\x0a'+'\x20\x20\x20\x20return'+'\x20max(((lig'+'htRadius\x20-'+'\x20d)\x20/\x20ligh'+'tRadius),\x20'+'0.0);\x0a}\x0a',NM='\x0a\x0a#ifndef\x20'+'FLOAT_AS_U'+'INT\x0a#defin'+'e\x20FLOAT_AS'+'_UINT\x0a\x0a//\x20'+'encode\x20flo'+'at\x20value\x20t'+'o\x20RGBA8\x20re'+'presentati'+'on\x20(0.0-1.'+'0\x20range)\x0af'+'n\x20float2ui'+'nt(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20intBit'+'s\x20=\x20bitcas'+'t<u32>(val'+'ue);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20f32((intB'+'its\x20>>\x2024u'+')\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((intBi'+'ts\x20>>\x2016u)'+'\x20&\x200xffu),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((intBit'+'s\x20>>\x208u)\x20&'+'\x200xffu),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20f32'+'(intBits\x20&'+'\x200xffu)\x0a\x20\x20'+'\x20\x20)\x20/\x20255.'+'0;\x0a}\x0a\x0a//\x20d'+'ecode\x20RGBA'+'8\x20value\x20to'+'\x20float\x0afn\x20'+'uint2float'+'(value:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20rgba_u32'+'\x20=\x20vec4<u3'+'2>(value\x20*'+'\x20255.0);\x0a\x20'+'\x20\x20\x20let\x20int'+'Bits:\x20u32\x20'+'=\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'r\x20<<\x2024u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'g\x20<<\x2016u)\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'(rgba_u32.'+'b\x20<<\x208u)\x20\x20'+'|\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20rgba_u32.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20bitcas'+'t<f32>(int'+'Bits);\x0a}\x0a\x0a'+'//\x20store\x20a'+'\x20single\x20fl'+'oat\x20value\x20'+'in\x20vec4,\x20a'+'ssuming\x20ei'+'ther\x20RGBA8'+'\x20or\x20float\x20'+'renderable'+'\x20texture\x0af'+'n\x20float2ve'+'c4(value:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'#if\x20define'+'d(CAPS_TEX'+'TURE_FLOAT'+'_RENDERABL'+'E)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(value,'+'\x201.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20float2ui'+'nt(value);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0a#endi'+'f\x20//\x20FLOAT'+'_AS_UINT\x0a',kM='\x0a\x0avar<priv'+'ate>\x20dBlen'+'dModeFogFa'+'ctor\x20:\x20f32'+'\x20=\x201.0;\x0a\x0a#'+'if\x20(FOG\x20!='+'\x20NONE)\x0a\x20\x20\x20'+'\x20uniform\x20f'+'og_color\x20:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x0a\x20\x20\x20\x20#if'+'\x20(FOG\x20==\x20L'+'INEAR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20fog_sta'+'rt\x20:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20fog_'+'end\x20:\x20f32;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20fog'+'_density\x20:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0afn\x20ge'+'tFogFactor'+'()\x20->\x20f32\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20depth\x20=\x20p'+'cPosition.'+'z\x20/\x20pcPosi'+'tion.w;\x0a\x0a\x20'+'\x20\x20\x20var\x20fog'+'Factor\x20:\x20f'+'32\x20=\x200.0;\x0a'+'\x0a\x20\x20\x20\x20#if\x20('+'FOG\x20==\x20LIN'+'EAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20(unif'+'orm.fog_en'+'d\x20-\x20depth)'+'\x20/\x20(unifor'+'m.fog_end\x20'+'-\x20uniform.'+'fog_start)'+';\x0a\x20\x20\x20\x20#eli'+'f\x20(FOG\x20==\x20'+'EXP)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20fogFact'+'or\x20=\x20exp(-'+'depth\x20*\x20un'+'iform.fog_'+'density);\x0a'+'\x20\x20\x20\x20#elif\x20'+'(FOG\x20==\x20EX'+'P2)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20fogFacto'+'r\x20=\x20exp(-d'+'epth\x20*\x20dep'+'th\x20*\x20unifo'+'rm.fog_den'+'sity\x20*\x20uni'+'form.fog_d'+'ensity);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(fo'+'gFactor,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0afn\x20addF'+'og(color\x20:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20#if\x20(FO'+'G\x20!=\x20NONE)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20mix('+'uniform.fo'+'g_color\x20*\x20'+'dBlendMode'+'FogFactor,'+'\x20color,\x20ge'+'tFogFactor'+'());\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'color;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',UM='\x0a//\x20Schlic'+'k\x27s\x20approx'+'imation\x0afn'+'\x20getFresne'+'l(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20cosTheta:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gloss:'+'\x20f32,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20,\x20irid'+'escenceFre'+'snel:\x20vec3'+'f,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20iridescen'+'ceIntensit'+'y:\x20f32\x0a\x20\x20\x20'+'\x20#endif\x0a)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20f'+'resnel:\x20f3'+'2\x20=\x20pow(1.'+'0\x20-\x20satura'+'te(cosThet'+'a),\x205.0);\x0a'+'\x20\x20\x20\x20let\x20gl'+'ossSq:\x20f32'+'\x20=\x20gloss\x20*'+'\x20gloss;\x0a\x20\x20'+'\x20\x20let\x20ret:'+'\x20vec3f\x20=\x20s'+'pecularity'+'\x20+\x20(max(ve'+'c3f(glossS'+'q),\x20specul'+'arity)\x20-\x20s'+'pecularity'+')\x20*\x20fresne'+'l;\x0a\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20mix(ret,'+'\x20iridescen'+'ceFresnel,'+'\x20iridescen'+'ceIntensit'+'y);\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20r'+'et;\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0afn'+'\x20getFresne'+'lCC(cosThe'+'ta:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20fres'+'nel:\x20f32\x20='+'\x20pow(1.0\x20-'+'\x20saturate('+'cosTheta),'+'\x205.0);\x0a\x20\x20\x20'+'\x20return\x200.'+'04\x20+\x20(1.0\x20'+'-\x200.04)\x20*\x20'+'fresnel;\x0a}',BM='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0a\x0avary'+'ing\x20vUv0:\x20'+'vec2f;\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4f(inpu'+'t.vertex_p'+'osition,\x200'+'.5,\x201.0);\x0a'+'\x20\x20\x20\x20output'+'.vUv0\x20=\x20in'+'put.vertex'+'_position.'+'xy\x20*\x200.5\x20+'+'\x20vec2f(0.5'+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',zM='\x0a\x0a#include'+'\x20\x22decodePS'+'\x22\x0a\x0a#if\x20(GA'+'MMA\x20==\x20SRG'+'B)\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInput(c'+'olor:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eGammaFloa'+'t(color);\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20fn\x20gammaC'+'orrectInpu'+'tVec3(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20deco'+'deGamma3(c'+'olor);\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20fn'+'\x20gammaCorr'+'ectInputVe'+'c4(color:\x20'+'vec4f)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20vec4f(d'+'ecodeGamma'+'3(color.xy'+'z),\x20color.'+'w);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Output(col'+'or:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20pow'+'(color\x20+\x200'+'.0000001,\x20'+'vec3f(1.0\x20'+'/\x202.2));\x0a\x20'+'\x20\x20\x20}\x0a\x0a#els'+'e\x20//\x20NONE\x0a'+'\x0a\x20\x20\x20\x20fn\x20ga'+'mmaCorrect'+'Input(colo'+'r:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20color;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20gammaCo'+'rrectInput'+'Vec3(color'+':\x20vec3f)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20color'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20gamm'+'aCorrectIn'+'putVec4(co'+'lor:\x20vec4f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20g'+'ammaCorrec'+'tOutput(co'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a',VM='\x0a#ifdef\x20ST'+'D_GLOSS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_gl'+'oss:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getGlossi'+'ness()\x20{\x0a\x20'+'\x20\x20\x20dGlossi'+'ness\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_GL'+'OSS_CONSTA'+'NT\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20unifo'+'rm.materia'+'l_gloss;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_GLOS'+'S_TEXTURE\x0a'+'\x20\x20\x20\x20dGloss'+'iness\x20=\x20dG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_GLOSS'+'_TEXTURE_N'+'AME},\x20{STD'+'_GLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_GLOSS_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as).{STD_G'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_VERT'+'EX\x0a\x20\x20\x20\x20dGl'+'ossiness\x20='+'\x20dGlossine'+'ss\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_GLOSS_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_GLOSS_I'+'NVERT\x0a\x20\x20\x20\x20'+'dGlossines'+'s\x20=\x201.0\x20-\x20'+'dGlossines'+'s;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20d'+'Glossiness'+'\x20=\x20dGlossi'+'ness\x20+\x200.0'+'000001;\x0a}\x0a',GM='\x0auniform\x20m'+'atrix_mode'+'l:\x20mat4x4f'+';\x0auniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0auniform\x20'+'matrix_pro'+'jection:\x20m'+'at4x4f;\x0a\x0a/'+'/\x20project\x20'+'the\x20model\x20'+'space\x20gaus'+'sian\x20cente'+'r\x20to\x20view\x20'+'and\x20clip\x20s'+'pace\x0afn\x20in'+'itCenter(m'+'odelCenter'+':\x20vec3f,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>)\x20->\x20bo'+'ol\x20{\x0a\x20\x20\x20\x20l'+'et\x20modelVi'+'ew:\x20mat4x4'+'f\x20=\x20unifor'+'m.matrix_v'+'iew\x20*\x20unif'+'orm.matrix'+'_model;\x0a\x20\x20'+'\x20\x20let\x20cent'+'erView:\x20ve'+'c4f\x20=\x20mode'+'lView\x20*\x20ve'+'c4f(modelC'+'enter,\x201.0'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20if\x20splat\x20'+'is\x20behind\x20'+'the\x20camera'+'\x0a\x20\x20\x20\x20if\x20(c'+'enterView.'+'z\x20>\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20fals'+'e;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20ce'+'nterProj:\x20'+'vec4f\x20=\x20un'+'iform.matr'+'ix_project'+'ion\x20*\x20cent'+'erView;\x0a\x0a\x20'+'\x20\x20\x20//\x20ensu'+'re\x20gaussia'+'ns\x20are\x20not'+'\x20clipped\x20b'+'y\x20camera\x20n'+'ear\x20and\x20fa'+'r\x0a\x20\x20\x20\x20cent'+'erProj.z\x20='+'\x20clamp(cen'+'terProj.z,'+'\x200.0,\x20abs('+'centerProj'+'.w));\x0a\x0a\x20\x20\x20'+'\x20center.vi'+'ew\x20=\x20cente'+'rView.xyz\x20'+'/\x20centerVi'+'ew.w;\x0a\x20\x20\x20\x20'+'center.pro'+'j\x20=\x20center'+'Proj;\x0a\x20\x20\x20\x20'+'center.pro'+'jMat00\x20=\x20u'+'niform.mat'+'rix_projec'+'tion[0][0]'+';\x0a\x20\x20\x20\x20cent'+'er.modelVi'+'ew\x20=\x20model'+'View;\x0a\x20\x20\x20\x20'+'return\x20tru'+'e;\x0a}\x0a',HM='\x0a\x0avar\x20spla'+'tColor:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20r'+'eadColor(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20tex'+'tureLoad(s'+'platColor,'+'\x20source.uv'+',\x200);\x0a}\x0a',WM='\x0a\x0a//\x20store'+'s\x20the\x20sour'+'ce\x20UV\x20and\x20'+'order\x20of\x20t'+'he\x20splat\x0as'+'truct\x20Spla'+'tSource\x20{\x0a'+'\x20\x20\x20\x20order:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ren'+'der\x20order\x0a'+'\x20\x20\x20\x20id:\x20u3'+'2,\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20spl'+'at\x20id\x0a\x20\x20\x20\x20'+'uv:\x20vec2<i'+'32>,\x20\x20\x20\x20\x20\x20'+'//\x20splat\x20u'+'v\x0a\x20\x20\x20\x20corn'+'erUV:\x20vec2'+'f,\x20\x20\x20\x20//\x20c'+'orner\x20coor'+'dinates\x20fo'+'r\x20this\x20ver'+'tex\x20of\x20the'+'\x20gaussian\x20'+'(-1,\x20-1)..'+'(1,\x201)\x0a}\x0a\x0a'+'//\x20stores\x20'+'the\x20camera'+'\x20and\x20clip\x20'+'space\x20posi'+'tion\x20of\x20th'+'e\x20gaussian'+'\x20center\x0ast'+'ruct\x20Splat'+'Center\x20{\x0a\x20'+'\x20\x20\x20view:\x20v'+'ec3f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20vi'+'ew\x20space\x0a\x20'+'\x20\x20\x20proj:\x20v'+'ec4f,\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ce'+'nter\x20in\x20cl'+'ip\x20space\x0a\x20'+'\x20\x20\x20modelVi'+'ew:\x20mat4x4'+'f,\x20\x20\x20//\x20mo'+'del-view\x20m'+'atrix\x0a\x20\x20\x20\x20'+'projMat00:'+'\x20f32,\x20\x20\x20\x20\x20'+'\x20\x20//\x20eleme'+'mt\x20[0][0]\x20'+'of\x20the\x20pro'+'jection\x20ma'+'trix\x0a}\x0a\x0a//'+'\x20stores\x20th'+'e\x20offset\x20f'+'rom\x20center'+'\x20for\x20the\x20c'+'urrent\x20gau'+'ssian\x0astru'+'ct\x20SplatCo'+'rner\x20{\x0a\x20\x20\x20'+'\x20offset:\x20v'+'ec2f,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20corn'+'er\x20offset\x20'+'from\x20cente'+'r\x20in\x20clip\x20'+'space\x0a\x20\x20\x20\x20'+'uv:\x20vec2f,'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20corne'+'r\x20uv\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20aaFactor:'+'\x20f32,\x20//\x20f'+'or\x20scenes\x20'+'generated\x20'+'with\x20antia'+'liasing\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0a#include'+'\x20\x22gsplatEv'+'alSHVS\x22\x0a#i'+'nclude\x20\x22gs'+'platQuatTo'+'Mat3VS\x22\x0a\x0a#'+'if\x20GSPLAT_'+'COMPRESSED'+'_DATA\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatComp'+'ressedData'+'VS\x22\x0a\x20\x20\x20\x20#i'+('f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatC'+'ompressedS'+'HVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a#eli'+'f\x20GSPLAT_S'+'OGS_DATA\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsDataVS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gspla'+'tSogsColor'+'VS\x22\x0a\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x200\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22gsplatS'+'ogsSHVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#else\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'gsplatData'+'VS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22gs'+'platColorV'+'S\x22\x0a\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x200\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22gsplatSH'+'VS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a#endi'+'f\x0a\x0a#includ'+'e\x20\x22gsplatS'+'ourceVS\x22\x0a#'+'include\x20\x22g'+'splatCente'+'rVS\x22\x0a#incl'+'ude\x20\x22gspla'+'tCornerVS\x22'+'\x0a#include\x20'+'\x22gsplatOut'+'putVS\x22\x0a\x0a//'+'\x20modify\x20th'+'e\x20gaussian'+'\x20corner\x20so'+'\x20it\x20exclud'+'es\x20gaussia'+'n\x20regions\x20'+'with\x20alpha'+'\x20less\x20than'+'\x201/255\x0afn\x20'+'clipCorner'+'(corner:\x20p'+'tr<functio'+'n,\x20SplatCo'+'rner>,\x20alp'+'ha:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'lip:\x20f32\x20='+'\x20min(1.0,\x20'+'sqrt(-log('+'1.0\x20/\x20(255'+'.0\x20*\x20alpha'+')))\x20/\x202.0)'+';\x0a\x20\x20\x20\x20corn'+'er.offset\x20'+'=\x20corner.o'+'ffset\x20*\x20cl'+'ip;\x0a\x20\x20\x20\x20co'+'rner.uv\x20=\x20'+'corner.uv\x20'+'*\x20clip;\x0a}\x0a'+'\x0a'),$M='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0avar'+'\x20chunkText'+'ure:\x20textu'+'re_2d<f32>'+';\x0a\x0a//\x20work'+'\x20values\x0ava'+'r<private>'+'\x20chunkData'+'A:\x20vec4f;\x20'+'\x20\x20\x20//\x20x:\x20m'+'in_x,\x20y:\x20m'+'in_y,\x20z:\x20m'+'in_z,\x20w:\x20m'+'ax_x\x0avar<p'+'rivate>\x20ch'+'unkDataB:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20max_'+'y,\x20y:\x20max_'+'z,\x20z:\x20scal'+'e_min_x,\x20w'+':\x20scale_mi'+'n_y\x0avar<pr'+'ivate>\x20chu'+'nkDataC:\x20v'+'ec4f;\x20\x20\x20\x20/'+'/\x20x:\x20scale'+'_min_z,\x20y:'+'\x20scale_max'+'_x,\x20z:\x20sca'+'le_max_y,\x20'+'w:\x20scale_m'+'ax_z\x0avar<p'+'rivate>\x20ch'+'unkDataD:\x20'+'vec4f;\x20\x20\x20\x20'+'//\x20x:\x20min_'+'r,\x20y:\x20min_'+'g,\x20z:\x20min_'+'b,\x20w:\x20max_'+'r\x0avar<priv'+'ate>\x20chunk'+'DataE:\x20vec'+'4f;\x20\x20\x20\x20//\x20'+'x:\x20max_g,\x20'+'y:\x20max_b,\x20'+'z:\x20unused,'+'\x20w:\x20unused'+'\x0avar<priva'+'te>\x20packed'+'Data:\x20vec4'+'u;\x20\x20\x20\x20//\x20x'+':\x20position'+'\x20bits,\x20y:\x20'+'rotation\x20b'+'its,\x20z:\x20sc'+'ale\x20bits,\x20'+'w:\x20color\x20b'+'its\x0a\x0afn\x20un'+'pack111011'+'(bits:\x20u32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(vec3f'+'((vec3<u32'+'>(bits)\x20>>'+'\x20vec3<u32>'+'(21u,\x2011u,'+'\x200u))\x20&\x20ve'+'c3<u32>(0x'+'7ffu,\x200x3f'+'fu,\x200x7ffu'+')))\x20/\x20vec3'+'f(2047.0,\x20'+'1023.0,\x2020'+'47.0);\x0a}\x0a\x0a'+'fn\x20unpack8'+'888(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20f32((bit'+'s\x20>>\x2024u)\x20'+'&\x200xffu),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((bits\x20>>'+'\x2016u)\x20&\x200x'+'ffu),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20f32((b'+'its\x20>>\x208u)'+'\x20\x20&\x200xffu)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(bits\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20&\x200'+'xffu)\x0a\x20\x20\x20\x20'+')\x20/\x20255.0;'+('\x0a}\x0a\x0aconst\x20'+'norm_const'+':\x20f32\x20=\x201.'+'0\x20/\x20(sqrt('+'2.0)\x20*\x200.5'+');\x0a\x0afn\x20unp'+'ackRotatio'+'n(bits:\x20u3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x20(f32'+'((bits\x20>>\x20'+'20u)\x20&\x200x3'+'ffu)\x20/\x20102'+'3.0\x20-\x200.5)'+'\x20*\x20norm_co'+'nst;\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20(f3'+'2((bits\x20>>'+'\x2010u)\x20&\x200x'+'3ffu)\x20/\x2010'+'23.0\x20-\x200.5'+')\x20*\x20norm_c'+'onst;\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20(f'+'32(bits\x20&\x20'+'0x3ffu)\x20/\x20'+'1023.0\x20-\x200'+'.5)\x20*\x20norm'+'_const;\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'sqrt(1.0\x20-'+'\x20(a\x20*\x20a\x20+\x20'+'b\x20*\x20b\x20+\x20c\x20'+'*\x20c));\x0a\x0a\x20\x20'+'\x20\x20let\x20mode'+'\x20=\x20bits\x20>>'+'\x2030u;\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x200u)\x20{\x20re'+'turn\x20vec4f'+'(m,\x20a,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20m,\x20b,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'if\x20(mode\x20='+'=\x202u)\x20{\x20re'+'turn\x20vec4f'+'(a,\x20b,\x20m,\x20'+'c);\x20}\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(a,\x20b,\x20c'+',\x20m);\x0a}\x0a\x0a/'+'/\x20read\x20cen'+'ter\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex_siz'+'e_u\x20=\x20text'+'ureDimensi'+'ons(chunkT'+'exture,\x200)'+';\x0a\x20\x20\x20\x20let\x20'+'w:\x20u32\x20=\x20t'+'ex_size_u.'+'x\x20/\x205u;\x0a\x20\x20'+'\x20\x20let\x20chun'+'kId:\x20u32\x20='+'\x20source.id'+'\x20/\x20256u;\x0a\x20'+'\x20\x20\x20let\x20chu'+'nkUV:\x20vec2'+'<i32>\x20=\x20ve'+'c2<i32>(i3'+'2((chunkId'+'\x20%\x20w)\x20*\x205u'+'),\x20i32(chu'+'nkId\x20/\x20w))'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'read\x20chunk'+'\x20and\x20packe'+'d\x20compress'+'ed\x20data\x0a\x20\x20'+'\x20\x20chunkDat'+'aA\x20=\x20textu'+'reLoad(chu'+'nkTexture,'+'\x20chunkUV\x20+'+'\x20vec2<i32>'+'(0,\x200),\x200)'+';\x0a\x20\x20\x20\x20chun'+'kDataB\x20=\x20t'+'extureLoad')+('(chunkText'+'ure,\x20chunk'+'UV\x20+\x20vec2<'+'i32>(1,\x200)'+',\x200);\x0a\x20\x20\x20\x20'+'chunkDataC'+'\x20=\x20texture'+'Load(chunk'+'Texture,\x20c'+'hunkUV\x20+\x20v'+'ec2<i32>(2'+',\x200),\x200);\x0a'+'\x20\x20\x20\x20chunkD'+'ataD\x20=\x20tex'+'tureLoad(c'+'hunkTextur'+'e,\x20chunkUV'+'\x20+\x20vec2<i3'+'2>(3,\x200),\x20'+'0);\x0a\x20\x20\x20\x20ch'+'unkDataE\x20='+'\x20textureLo'+'ad(chunkTe'+'xture,\x20chu'+'nkUV\x20+\x20vec'+'2<i32>(4,\x20'+'0),\x200);\x0a\x20\x20'+'\x20\x20packedDa'+'ta\x20=\x20textu'+'reLoad(pac'+'kedTexture'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(chunkDa'+'taA.xyz,\x20v'+'ec3f(chunk'+'DataA.w,\x20c'+'hunkDataB.'+'xy),\x20unpac'+'k111011(pa'+'ckedData.x'+'));\x0a}\x0a\x0afn\x20'+'readColor('+'source:\x20pt'+'r<function'+',\x20SplatSou'+'rce>)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20let\x20r\x20=\x20u'+'npack8888('+'packedData'+'.w);\x0a\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(mix(chun'+'kDataD.xyz'+',\x20vec3f(ch'+'unkDataD.w'+',\x20chunkDat'+'aE.xy),\x20r.'+'rgb),\x20r.w)'+';\x0a}\x0a\x0afn\x20ge'+'tRotation('+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20unpack'+'Rotation(p'+'ackedData.'+'y);\x0a}\x0a\x0afn\x20'+'getScale()'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20exp(mix'+'(vec3f(chu'+'nkDataB.zw'+',\x20chunkDat'+'aC.x),\x20chu'+'nkDataC.yz'+'w,\x20unpack1'+'11011(pack'+'edData.z))'+');\x0a}\x0a\x0a//\x20g'+'iven\x20a\x20rot'+'ation\x20matr'+'ix\x20and\x20sca'+'le\x20vector,'+'\x20compute\x203'+'d\x20covarian'+'ce\x20A\x20and\x20B'+'\x0afn\x20readCo'+'variance(s'+'ource:\x20ptr'+'<function,'+'\x20SplatSour'+'ce>,\x20covA_'+'ptr:\x20ptr<f'+'unction,\x20v'+'ec3f>,\x20cov'+'B_ptr:\x20ptr'+'<function,')+('\x20vec3f>)\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'ot\x20=\x20quatT'+'oMat3(getR'+'otation())'+';\x0a\x20\x20\x20\x20let\x20'+'scale\x20=\x20ge'+'tScale();\x0a'+'\x0a\x20\x20\x20\x20//\x20M\x20'+'=\x20S\x20*\x20R\x0a\x20\x20'+'\x20\x20let\x20M\x20=\x20'+'transpose('+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.x\x20*\x20rot'+'[0],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.y'+'\x20*\x20rot[1],'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'cale.z\x20*\x20r'+'ot[2]\x0a\x20\x20\x20\x20'+'));\x0a\x0a\x20\x20\x20\x20*'+'covA_ptr\x20='+'\x20vec3f(dot'+'(M[0],\x20M[0'+']),\x20dot(M['+'0],\x20M[1]),'+'\x20dot(M[0],'+'\x20M[2]));\x0a\x20'+'\x20\x20\x20*covB_p'+'tr\x20=\x20vec3f'+'(dot(M[1],'+'\x20M[1]),\x20do'+'t(M[1],\x20M['+'2]),\x20dot(M'+'[2],\x20M[2])'+');\x0a}\x0a'),XM='\x0a#if\x20SH_BA'+'NDS\x20>\x200\x0a\x0av'+'ar\x20shTextu'+'re0:\x20textu'+'re_2d<u32>'+';\x0avar\x20shTe'+'xture1:\x20te'+'xture_2d<u'+'32>;\x0avar\x20s'+'hTexture2:'+'\x20texture_2'+'d<u32>;\x0a\x0af'+'n\x20unpack88'+'88s(bits:\x20'+'u32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'let\x20unpack'+'ed_u\x20=\x20(ve'+'c4<u32>(bi'+'ts)\x20>>\x20vec'+'4<u32>(0u,'+'\x208u,\x2016u,\x20'+'24u))\x20&\x20ve'+'c4<u32>(0x'+'ffu);\x0a\x20\x20\x20\x20'+'return\x20vec'+'4f(unpacke'+'d_u)\x20*\x20(8.'+'0\x20/\x20255.0)'+'\x20-\x204.0;\x0a}\x0a'+'\x0afn\x20readSH'+'Data(sourc'+'e:\x20ptr<fun'+'ction,\x20Spl'+'atSource>,'+'\x20sh:\x20ptr<f'+'unction,\x20a'+'rray<vec3f'+',\x2015>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20read\x20t'+'he\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20let\x20shD'+'ata0:\x20vec4'+'<u32>\x20=\x20te'+'xtureLoad('+'shTexture0'+',\x20source.u'+'v,\x200);\x0a\x20\x20\x20'+'\x20let\x20shDat'+'a1:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(sh'+'Texture1,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20shData2'+':\x20vec4<u32'+'>\x20=\x20textur'+'eLoad(shTe'+'xture2,\x20so'+'urce.uv,\x200'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20r0\x20=\x20unp'+'ack8888s(s'+'hData0.x);'+'\x0a\x20\x20\x20\x20let\x20r'+'1\x20=\x20unpack'+'8888s(shDa'+'ta0.y);\x0a\x20\x20'+'\x20\x20let\x20r2\x20='+'\x20unpack888'+'8s(shData0'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20r3\x20=\x20un'+'pack8888s('+'shData0.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20g0\x20=\x20unpa'+'ck8888s(sh'+'Data1.x);\x0a'+'\x20\x20\x20\x20let\x20g1'+'\x20=\x20unpack8'+'888s(shDat'+'a1.y);\x0a\x20\x20\x20'+'\x20let\x20g2\x20=\x20'+'unpack8888'+'s(shData1.'+'z);\x0a\x20\x20\x20\x20le'+'t\x20g3\x20=\x20unp'+'ack8888s(s'+'hData1.w);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'b0\x20=\x20unpac'+'k8888s(shD'+'ata2.x);\x0a\x20'+'\x20\x20\x20let\x20b1\x20'+('=\x20unpack88'+'88s(shData'+'2.y);\x0a\x20\x20\x20\x20'+'let\x20b2\x20=\x20u'+'npack8888s'+'(shData2.z'+');\x0a\x20\x20\x20\x20let'+'\x20b3\x20=\x20unpa'+'ck8888s(sh'+'Data2.w);\x0a'+'\x0a\x20\x20\x20\x20sh[0]'+'\x20=\x20\x20vec3f('+'r0.x,\x20g0.x'+',\x20b0.x);\x0a\x20'+'\x20\x20\x20sh[1]\x20='+'\x20\x20vec3f(r0'+'.y,\x20g0.y,\x20'+'b0.y);\x0a\x20\x20\x20'+'\x20sh[2]\x20=\x20\x20'+'vec3f(r0.z'+',\x20g0.z,\x20b0'+'.z);\x0a\x20\x20\x20\x20s'+'h[3]\x20=\x20\x20ve'+'c3f(r0.w,\x20'+'g0.w,\x20b0.w'+');\x0a\x20\x20\x20\x20sh['+'4]\x20=\x20\x20vec3'+'f(r1.x,\x20g1'+'.x,\x20b1.x);'+'\x0a\x20\x20\x20\x20sh[5]'+'\x20=\x20\x20vec3f('+'r1.y,\x20g1.y'+',\x20b1.y);\x0a\x20'+'\x20\x20\x20sh[6]\x20='+'\x20\x20vec3f(r1'+'.z,\x20g1.z,\x20'+'b1.z);\x0a\x20\x20\x20'+'\x20sh[7]\x20=\x20\x20'+'vec3f(r1.w'+',\x20g1.w,\x20b1'+'.w);\x0a\x20\x20\x20\x20s'+'h[8]\x20=\x20\x20ve'+'c3f(r2.x,\x20'+'g2.x,\x20b2.x'+');\x0a\x20\x20\x20\x20sh['+'9]\x20=\x20\x20vec3'+'f(r2.y,\x20g2'+'.y,\x20b2.y);'+'\x0a\x20\x20\x20\x20sh[10'+']\x20=\x20vec3f('+'r2.z,\x20g2.z'+',\x20b2.z);\x0a\x20'+'\x20\x20\x20sh[11]\x20'+'=\x20vec3f(r2'+'.w,\x20g2.w,\x20'+'b2.w);\x0a\x20\x20\x20'+'\x20sh[12]\x20=\x20'+'vec3f(r3.x'+',\x20g3.x,\x20b3'+'.x);\x0a\x20\x20\x20\x20s'+'h[13]\x20=\x20ve'+'c3f(r3.y,\x20'+'g3.y,\x20b3.y'+');\x0a\x20\x20\x20\x20sh['+'14]\x20=\x20vec3'+'f(r3.z,\x20g3'+'.z,\x20b3.z);'+'\x0a\x0a\x20\x20\x20\x20*sca'+'le\x20=\x201.0;\x0a'+'}\x0a\x0a#endif\x0a'),qM='\x0a\x20\x20\x20\x20#if\x20S'+'H_BANDS\x20=='+'\x201\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'COEFFS:\x20i3'+'2\x20=\x203;\x0a\x20\x20\x20'+'\x20#elif\x20SH_'+'BANDS\x20==\x202'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20c'+'onst\x20SH_CO'+'EFFS:\x20i32\x20'+'=\x208;\x0a\x20\x20\x20\x20#'+'elif\x20SH_BA'+'NDS\x20==\x203\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20con'+'st\x20SH_COEF'+'FS:\x20i32\x20=\x20'+'15;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20const\x20SH'+'_COEFFS:\x20i'+'32\x20=\x200;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20SH'+'_BANDS\x20>\x200'+'\x0a\x0a\x20\x20\x20\x20cons'+'t\x20SH_C1:\x20f'+'32\x20=\x200.488'+'6025119029'+'199;\x0a\x0a\x20\x20\x20\x20'+'#if\x20SH_BAN'+'DS\x20>\x201\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20const'+'\x20SH_C2_0:\x20'+'f32\x20=\x201.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_1:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_2:\x20f'+'32\x20=\x200.315'+'3915652525'+'2005;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_3:\x20f'+'32\x20=\x20-1.09'+'2548430592'+'0792;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C2_4:\x20f'+'32\x20=\x200.546'+'2742152960'+'396;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SH_BA'+'NDS\x20>\x202\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_0:'+'\x20f32\x20=\x20-0.'+'5900435899'+'266435;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20cons'+'t\x20SH_C3_1:'+'\x20f32\x20=\x202.8'+'9061144264'+'0554;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_2:\x20f'+'32\x20=\x20-0.45'+'7045799464'+'4658;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20const\x20'+'SH_C3_3:\x20f'+'32\x20=\x200.373'+'1763325901'+'154;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_4:\x20f3'+'2\x20=\x20-0.457'+'0457994644'+'658;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20const\x20S'+'H_C3_5:\x20f3'+'2\x20=\x201.4453'+'0572132027'+'7;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20const\x20SH_'+'C3_6:\x20f32\x20'+'=\x20-0.59004'+'3589926643'+'5;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20see\x20http'+'s://github'+'.com/graph'+'deco-inria'+('/gaussian-'+'splatting/'+'blob/main/'+'utils/sh_u'+'tils.py\x0a\x20\x20'+'\x20\x20fn\x20evalS'+'H(sh:\x20ptr<'+'function,\x20'+'array<vec3'+'f,\x20SH_COEF'+'FS>>,\x20dir:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x\x20=\x20dir.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20y\x20=\x20di'+'r.y;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20z\x20='+'\x20dir.z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'1st\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20result\x20'+'=\x20SH_C1\x20*\x20'+'(-sh[0]\x20*\x20'+'y\x20+\x20sh[1]\x20'+'*\x20z\x20-\x20sh[2'+']\x20*\x20x);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SH_BANDS\x20'+'>\x201\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x202'+'nd\x20degree\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xx\x20='+'\x20x\x20*\x20x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20yy\x20=\x20y'+'\x20*\x20y;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20zz\x20=\x20z\x20*'+'\x20z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'xy\x20=\x20x\x20*\x20y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20yz'+'\x20=\x20y\x20*\x20z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20xz\x20='+'\x20x\x20*\x20z;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'result\x20+\x20('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'3]\x20*\x20(SH_C'+'2_0\x20*\x20xy)\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[4]\x20*\x20(SH_'+'C2_1\x20*\x20yz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[5]\x20*\x20(SH'+'_C2_2\x20*\x20(2'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[6]\x20*\x20(SH_'+'C2_3\x20*\x20xz)'+'\x20+\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[7]\x20*\x20(SH'+'_C2_4\x20*\x20(x'+'x\x20-\x20yy))\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SH_BANDS'+'\x20>\x202\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'3rd\x20degree'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20result\x20'+'=\x20result\x20+'+'\x20(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[8]\x20\x20*\x20(S'+'H_C3_0\x20*\x20y'+'\x20*\x20(3.0\x20*\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[9]\x20\x20*\x20(SH'+'_C3_1\x20*\x20xy'+'\x20*\x20z)\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20sh[10]'+'\x20*\x20(SH_C3_'+'2\x20*\x20y\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[11]\x20*\x20(SH'+'_C3_3\x20*\x20z\x20'+'*\x20(2.0\x20*\x20z'+'z\x20-\x203.0\x20*\x20'+'xx\x20-\x203.0\x20*'+'\x20yy))\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[12]'+'\x20*\x20(SH_C3_'+'4\x20*\x20x\x20*\x20(4'+'.0\x20*\x20zz\x20-\x20'+'xx\x20-\x20yy))\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[13]\x20*\x20(SH'+'_C3_5\x20*\x20z\x20'+'*\x20(xx\x20-\x20yy'+'))\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[14]\x20*\x20'+'(SH_C3_6\x20*'+'\x20x\x20*\x20(xx\x20-'+'\x203.0\x20*\x20yy)'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20re'+'sult;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20#end'+'if\x0a'),jM='\x0afn\x20quatTo'+'Mat3(R:\x20ve'+'c4<f32>)\x20-'+'>\x20mat3x3<f'+'32>\x20{\x0a\x20\x20\x20\x20'+'let\x20R2:\x20ve'+'c4<f32>\x20=\x20'+'R\x20+\x20R;\x0a\x20\x20\x20'+'\x20let\x20X:\x20f3'+'2\x20\x20\x20\x20\x20\x20\x20=\x20'+'R2.x\x20*\x20R.w'+';\x0a\x20\x20\x20\x20let\x20'+'Y:\x20vec4<f3'+'2>\x20=\x20R2.y\x20'+'*\x20R;\x0a\x20\x20\x20\x20l'+'et\x20Z:\x20vec4'+'<f32>\x20=\x20R2'+'.z\x20*\x20R;\x0a\x20\x20'+'\x20\x20let\x20W:\x20f'+'32\x20\x20\x20\x20\x20\x20\x20='+'\x20R2.w\x20*\x20R.'+'w;\x0a\x0a\x20\x20\x20\x20re'+'turn\x20mat3x'+'3<f32>(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x201.0\x20'+'-\x20Z.z\x20-\x20W,'+'\x20\x20Y.z\x20+\x20X,'+'\x20\x20\x20\x20\x20\x20Y.w\x20'+'-\x20Z.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.z\x20-'+'\x20X,\x20\x20\x20\x20\x20\x20\x20'+'\x201.0\x20-\x20Y.y'+'\x20-\x20W,\x20Z.w\x20'+'+\x20Y.x,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20Y.w\x20+'+'\x20Z.x,\x20\x20\x20\x20\x20'+'\x20Z.w\x20-\x20Y.x'+',\x20\x20\x20\x20\x201.0\x20'+'-\x20Y.y\x20-\x20Z.'+'z\x0a\x20\x20\x20\x20);\x0a}'+'\x0a',YM='\x0avar\x20sh0:\x20'+'texture_2d'+'<f32>;\x0a\x0aun'+'iform\x20sh0_'+'mins:\x20vec4'+'f;\x0auniform'+'\x20sh0_maxs:'+'\x20vec4f;\x0a\x0ac'+'onst\x20SH_C0'+':\x20f32\x20=\x200.'+'2820947917'+'7387814;\x0a\x0a'+'fn\x20readCol'+'or(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20let\x20cl'+'r:\x20vec4f\x20='+'\x20mix(unifo'+'rm.sh0_min'+'s,\x20uniform'+'.sh0_maxs,'+'\x20textureLo'+'ad(sh0,\x20so'+'urce.uv,\x200'+'));\x0a\x20\x20\x20\x20re'+'turn\x20vec4f'+'(vec3f(0.5'+')\x20+\x20clr.xy'+'z\x20*\x20SH_C0,'+'\x201.0\x20/\x20(1.'+'0\x20+\x20exp(-c'+'lr.w)));\x0a}'+'\x0a',KM='\x0avar\x20packe'+'dTexture:\x20'+'texture_2d'+'<u32>;\x0a\x0aun'+'iform\x20mean'+'s_mins:\x20ve'+'c3f;\x0aunifo'+'rm\x20means_m'+'axs:\x20vec3f'+';\x0a\x0auniform'+'\x20scales_mi'+'ns:\x20vec3f;'+'\x0auniform\x20s'+'cales_maxs'+':\x20vec3f;\x0a\x0a'+'fn\x20unpackU'+'32(u:\x20u32)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20vec4f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20f3'+'2((u\x20>>\x2024'+'u)\x20&\x200xFFu'+')\x20/\x20255.0,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'32((u\x20>>\x201'+'6u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32((u\x20>>\x20'+'8u)\x20&\x200xFF'+'u)\x20/\x20255.0'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'f32(u\x20&\x200x'+'FFu)\x20/\x20255'+'.0\x0a\x20\x20\x20\x20);\x0a'+'}\x0a\x0avar<pri'+'vate>\x20pack'+'edSample:\x20'+'vec4<u32>;'+'\x0a\x0a//\x20read\x20'+'the\x20model-'+'space\x20cent'+'er\x20of\x20the\x20'+'gaussian\x0af'+'n\x20readCent'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>)\x20-'+'>\x20vec3f\x20{\x0a'+'\x0a\x20\x20\x20\x20packe'+'dSample\x20=\x20'+'textureLoa'+'d(packedTe'+'xture,\x20sou'+'rce.uv,\x200)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20l:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.x).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20u:\x20vec3f\x20'+'=\x20unpackU3'+'2(packedSa'+'mple.y).xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20n:\x20vec3f\x20'+'=\x20(l\x20*\x20255'+'.0\x20+\x20u\x20*\x202'+'55.0\x20*\x20256'+'.0)\x20/\x206553'+'5.0;\x0a\x20\x20\x20\x20l'+'et\x20v:\x20vec3'+'f\x20=\x20mix(un'+'iform.mean'+'s_mins,\x20un'+'iform.mean'+'s_maxs,\x20n)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20sign(v'+')\x20*\x20(exp(a'+'bs(v))\x20-\x201'+'.0);\x0a}\x0a\x0aco'+'nst\x20norm:\x20'+'f32\x20=\x202.0\x20'+'/\x20sqrt(2.0'+');\x0a\x0a//\x20sam'+'ple\x20covari'+'ance\x20vecto'+'rs\x0afn\x20read'+'Covariance'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>,\x20cov'+'A_ptr:\x20ptr'+'<function,'+'\x20vec3f>,\x20c'+('ovB_ptr:\x20p'+'tr<functio'+'n,\x20vec3f>)'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20qdata:\x20ve'+'c4f\x20=\x20unpa'+'ckU32(pack'+'edSample.z'+');\x0a\x20\x20\x20\x20let'+'\x20sdata:\x20ve'+'c3f\x20=\x20unpa'+'ckU32(pack'+'edSample.w'+').xyz;\x0a\x0a\x20\x20'+'\x20\x20let\x20abc:'+'\x20vec3f\x20=\x20('+'qdata.xyz\x20'+'-\x200.5)\x20*\x20n'+'orm;\x0a\x20\x20\x20\x20l'+'et\x20d:\x20f32\x20'+'=\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(abc,'+'\x20abc)));\x0a\x0a'+'\x20\x20\x20\x20let\x20mo'+'de:\x20u32\x20=\x20'+'u32(qdata.'+'w\x20*\x20255.0\x20'+'+\x200.5)\x20-\x202'+'52u;\x0a\x0a\x20\x20\x20\x20'+'var\x20quat:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20if\x20(mode\x20'+'==\x200u)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20qua'+'t\x20=\x20vec4f('+'d,\x20abc);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(mode\x20='+'=\x201u)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20quat'+'\x20=\x20vec4f(a'+'bc.x,\x20d,\x20a'+'bc.y,\x20abc.'+'z);\x0a\x20\x20\x20\x20}\x20'+'else\x20if\x20(m'+'ode\x20==\x202u)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20quat\x20=\x20ve'+'c4f(abc.x,'+'\x20abc.y,\x20d,'+'\x20abc.z);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'quat\x20=\x20vec'+'4f(abc.x,\x20'+'abc.y,\x20abc'+'.z,\x20d);\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x0a\x20\x20\x20\x20'+'let\x20rot:\x20m'+'at3x3f\x20=\x20q'+'uatToMat3('+'quat);\x0a\x20\x20\x20'+'\x20let\x20scale'+':\x20vec3f\x20=\x20'+'exp(mix(un'+'iform.scal'+'es_mins,\x20u'+'niform.sca'+'les_maxs,\x20'+'sdata));\x0a\x0a'+'\x20\x20\x20\x20//\x20M\x20='+'\x20S\x20*\x20R\x0a\x20\x20\x20'+'\x20let\x20M:\x20ma'+'t3x3f\x20=\x20tr'+'anspose(ma'+'t3x3f(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20scale'+'.x\x20*\x20rot[0'+'],\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.y\x20*'+'\x20rot[1],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.z\x20*\x20rot'+'[2]\x0a\x20\x20\x20\x20))'+';\x0a\x0a\x20\x20\x20\x20*co'+'vA_ptr\x20=\x20v'+'ec3f(dot(M'+'[0],\x20M[0])'+',\x20dot(M[0]'+',\x20M[1]),\x20d'+'ot(M[0],\x20M'+'[2]));\x0a\x20\x20\x20'+'\x20*covB_ptr'+'\x20=\x20vec3f(d'+'ot(M[1],\x20M'+'[1]),\x20dot('+'M[1],\x20M[2]'+'),\x20dot(M[2'+'],\x20M[2]));')+'\x0a}\x0a',ZM='\x0avar\x20sh_ce'+'ntroids:\x20t'+'exture_2d<'+'f32>;\x0a\x0auni'+'form\x20shN_m'+'ins:\x20f32;\x0a'+'uniform\x20sh'+'N_maxs:\x20f3'+'2;\x0a\x0afn\x20rea'+'dSHData(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>,\x20sh:\x20pt'+'r<function'+',\x20array<ve'+'c3f,\x20SH_CO'+'EFFS>>,\x20sc'+'ale:\x20ptr<f'+'unction,\x20f'+'32>)\x20{\x0a\x20\x20\x20'+'\x20//\x20extrac'+'t\x20spherica'+'l\x20harmonic'+'s\x20palette\x20'+'index\x0a\x20\x20\x20\x20'+'let\x20t:\x20vec'+'2<i32>\x20=\x20v'+'ec2<i32>(i'+'32(packedS'+'ample.x\x20&\x20'+'255u),\x20i32'+'(packedSam'+'ple.y\x20&\x2025'+'5u));\x0a\x20\x20\x20\x20'+'let\x20n:\x20i32'+'\x20=\x20t.x\x20+\x20t'+'.y\x20*\x20256;\x0a'+'\x20\x20\x20\x20let\x20u:'+'\x20i32\x20=\x20(n\x20'+'%\x2064)\x20*\x20SH'+'_COEFFS;\x0a\x20'+'\x20\x20\x20let\x20v:\x20'+'i32\x20=\x20n\x20/\x20'+'64;\x0a\x0a\x20\x20\x20\x20/'+'/\x20calculat'+'e\x20offset\x20i'+'nto\x20the\x20ce'+'ntroids\x20te'+'xture\x20and\x20'+'read\x20conse'+'cutive\x20tex'+'els\x0a\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'i32\x20=\x200;\x20i'+'\x20<\x20SH_COEF'+'FS;\x20i\x20=\x20i\x20'+'+\x201)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[i]'+'\x20=\x20mix(vec'+'3f(uniform'+'.shN_mins)'+',\x20vec3f(un'+'iform.shN_'+'maxs),\x20tex'+'tureLoad(s'+'h_centroid'+'s,\x20vec2<i3'+'2>(u\x20+\x20i,\x20'+'v),\x200).xyz'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20*scale'+'\x20=\x201.0;\x0a}\x0a',QM='\x0auniform\x20v'+'iewport:\x20v'+'ec2f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20view'+'port\x20dimen'+'sions\x0aunif'+'orm\x20camera'+'_params:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x201\x20/\x20far,\x20'+'far,\x20near,'+'\x20isOrtho\x0a\x0a'+'//\x20calcula'+'te\x20the\x20cli'+'p-space\x20of'+'fset\x20from\x20'+'the\x20center'+'\x20for\x20this\x20'+'gaussian\x0af'+'n\x20initCorn'+'er(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20c'+'enter:\x20ptr'+'<function,'+'\x20SplatCent'+'er>,\x20corne'+'r:\x20ptr<fun'+'ction,\x20Spl'+'atCorner>)'+'\x20->\x20bool\x20{'+'\x0a\x20\x20\x20\x20//\x20ge'+'t\x20covarian'+'ce\x0a\x20\x20\x20\x20var'+'\x20covA:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20covB:\x20ve'+'c3f;\x0a\x20\x20\x20\x20r'+'eadCovaria'+'nce(source'+',\x20&covA,\x20&'+'covB);\x0a\x0a\x20\x20'+'\x20\x20let\x20Vrk\x20'+'=\x20mat3x3f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(covA.'+'x,\x20covA.y,'+'\x20covA.z),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(covA.y'+',\x20covB.x,\x20'+'covB.y),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(covA.z,'+'\x20covB.y,\x20c'+'ovB.z)\x0a\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20l'+'et\x20focal\x20='+'\x20uniform.v'+'iewport.x\x20'+'*\x20center.p'+'rojMat00;\x0a'+'\x0a\x20\x20\x20\x20let\x20v'+'\x20=\x20select('+'center.vie'+'w.xyz,\x20vec'+'3f(0.0,\x200.'+'0,\x201.0),\x20u'+'niform.cam'+'era_params'+'.w\x20==\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'J1\x20=\x20focal'+'\x20/\x20v.z;\x0a\x20\x20'+'\x20\x20let\x20J2\x20='+'\x20-J1\x20/\x20v.z'+'\x20*\x20v.xy;\x0a\x20'+'\x20\x20\x20let\x20J\x20='+'\x20mat3x3f(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(J1,\x200.'+'0,\x20J2.x),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x20J'+'1,\x20J2.y),\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3f(0.0,\x200'+'.0,\x200.0)\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20W\x20=\x20t'+'ranspose(m'+'at3x3f(cen'+'ter.modelV'+'iew[0].xyz'+',\x20center.m'+'odelView[1'+'].xyz,\x20cen'+('ter.modelV'+'iew[2].xyz'+'));\x0a\x20\x20\x20\x20le'+'t\x20T\x20=\x20W\x20*\x20'+'J;\x0a\x20\x20\x20\x20let'+'\x20cov\x20=\x20tra'+'nspose(T)\x20'+'*\x20Vrk\x20*\x20T;'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'GSPLAT_AA\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20calculate'+'\x20AA\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20detOrig'+'\x20=\x20cov[0]['+'0]\x20*\x20cov[1'+'][1]\x20-\x20cov'+'[0][1]\x20*\x20c'+'ov[1][0];\x20'+'//\x20Using\x20['+'0][1]\x20*\x20[1'+'][0]\x20as\x20ma'+'trix\x20might'+'\x20not\x20be\x20pe'+'rfectly\x20sy'+'mmetric\x20nu'+'merically\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20detBlur\x20'+'=\x20(cov[0]['+'0]\x20+\x200.3)\x20'+'*\x20(cov[1]['+'1]\x20+\x200.3)\x20'+'-\x20cov[0][1'+']\x20*\x20cov[1]'+'[0];\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20corner.'+'aaFactor\x20='+'\x20sqrt(detO'+'rig\x20/\x20detB'+'lur);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal1\x20=\x20co'+'v[0][0]\x20+\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20offDiag'+'onal\x20=\x20cov'+'[0][1];\x0a\x20\x20'+'\x20\x20let\x20diag'+'onal2\x20=\x20co'+'v[1][1]\x20+\x20'+'0.3;\x0a\x0a\x20\x20\x20\x20'+'let\x20mid\x20=\x20'+'0.5\x20*\x20(dia'+'gonal1\x20+\x20d'+'iagonal2);'+'\x0a\x20\x20\x20\x20let\x20r'+'adius\x20=\x20le'+'ngth(vec2f'+'((diagonal'+'1\x20-\x20diagon'+'al2)\x20/\x202.0'+',\x20offDiago'+'nal));\x0a\x20\x20\x20'+'\x20let\x20lambd'+'a1\x20=\x20mid\x20+'+'\x20radius;\x0a\x20'+'\x20\x20\x20let\x20lam'+'bda2\x20=\x20max'+'(mid\x20-\x20rad'+'ius,\x200.1);'+'\x0a\x0a\x20\x20\x20\x20//\x20U'+'se\x20the\x20sma'+'ller\x20viewp'+'ort\x20dimens'+'ion\x20to\x20lim'+'it\x20the\x20ker'+'nel\x20size\x20r'+'elative\x20to'+'\x20the\x20scree'+'n\x20resoluti'+'on.\x0a\x20\x20\x20\x20le'+'t\x20vmin\x20=\x20m'+'in(1024.0,'+'\x20min(unifo'+'rm.viewpor'+'t.x,\x20unifo'+'rm.viewpor'+'t.y));\x0a\x0a\x20\x20'+'\x20\x20let\x20l1\x20='+'\x202.0\x20*\x20min'+'(sqrt(2.0\x20'+'*\x20lambda1)'+',\x20vmin);\x0a\x20'+'\x20\x20\x20let\x20l2\x20'+'=\x202.0\x20*\x20mi'+'n(sqrt(2.0'+'\x20*\x20lambda2')+('),\x20vmin);\x0a'+'\x0a\x20\x20\x20\x20//\x20ea'+'rly-out\x20ga'+'ussians\x20sm'+'aller\x20than'+'\x202\x20pixels\x0a'+'\x20\x20\x20\x20if\x20(l1'+'\x20<\x202.0\x20&&\x20'+'l2\x20<\x202.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20fal'+'se;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'\x20=\x20center.'+'proj.ww\x20/\x20'+'uniform.vi'+'ewport;\x0a\x0a\x20'+'\x20\x20\x20//\x20cull'+'\x20against\x20f'+'rustum\x20x/y'+'\x20axes\x0a\x20\x20\x20\x20'+'if\x20(any((a'+'bs(center.'+'proj.xy)\x20-'+'\x20vec2f(max'+'(l1,\x20l2))\x20'+'*\x20c)\x20>\x20cen'+'ter.proj.w'+'w))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20false;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20diagona'+'lVector\x20=\x20'+'normalize('+'vec2f(offD'+'iagonal,\x20l'+'ambda1\x20-\x20d'+'iagonal1))'+';\x0a\x20\x20\x20\x20let\x20'+'v1\x20=\x20l1\x20*\x20'+'diagonalVe'+'ctor;\x0a\x20\x20\x20\x20'+'let\x20v2\x20=\x20l'+'2\x20*\x20vec2f('+'diagonalVe'+'ctor.y,\x20-d'+'iagonalVec'+'tor.x);\x20//'+'\x20Swizzle\x0a\x0a'+'\x20\x20\x20\x20corner'+'.offset\x20=\x20'+'(source.co'+'rnerUV.x\x20*'+'\x20v1\x20+\x20sour'+'ce.cornerU'+'V.y\x20*\x20v2)\x20'+'*\x20c;\x0a\x20\x20\x20\x20c'+'orner.uv\x20='+'\x20source.co'+'rnerUV;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'true;\x0a}\x0a'),JM='\x0avar\x20trans'+'formA:\x20tex'+'ture_2d<u3'+'2>;\x0avar\x20tr'+'ansformB:\x20'+'texture_2d'+'<f32>;\x0a\x0a//'+'\x20work\x20valu'+'es\x0avar<pri'+'vate>\x20tAw:'+'\x20u32;\x0a\x0a//\x20'+'read\x20the\x20m'+'odel-space'+'\x20center\x20of'+'\x20the\x20gauss'+'ian\x0afn\x20rea'+'dCenter(so'+'urce:\x20ptr<'+'function,\x20'+'SplatSourc'+'e>)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20/'+'/\x20read\x20tra'+'nsform\x20dat'+'a\x0a\x20\x20\x20\x20let\x20'+'tA:\x20vec4<u'+'32>\x20=\x20text'+'ureLoad(tr'+'ansformA,\x20'+'source.uv,'+'\x200);\x0a\x20\x20\x20\x20t'+'Aw\x20=\x20tA.w;'+'\x0a\x20\x20\x20\x20retur'+'n\x20bitcast<'+'vec3f>(tA.'+'xyz);\x0a}\x0a\x0af'+'n\x20unpackRo'+'tation(pac'+'ked:\x20vec3f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20vec4f('+'packed.xyz'+',\x20sqrt(max'+'(0.0,\x201.0\x20'+'-\x20dot(pack'+'ed,\x20packed'+'))));\x0a}\x0a\x0a/'+'/\x20sample\x20c'+'ovariance\x20'+'vectors\x0afn'+'\x20readCovar'+'iance(sour'+'ce:\x20ptr<fu'+'nction,\x20Sp'+'latSource>'+',\x20covA_ptr'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20covB_p'+'tr:\x20ptr<fu'+'nction,\x20ve'+'c3f>)\x20{\x0a\x20\x20'+'\x20\x20let\x20tB:\x20'+'vec4f\x20=\x20te'+'xtureLoad('+'transformB'+',\x20source.u'+'v,\x200);\x0a\x0a\x20\x20'+'\x20\x20let\x20rot:'+'\x20mat3x3f\x20='+'\x20quatToMat'+'3(unpackRo'+'tation(vec'+'3f(unpack2'+'x16float(b'+'itcast<u32'+'>(tAw)),\x20t'+'B.w)).wxyz'+');\x0a\x20\x20\x20\x20let'+'\x20scale:\x20ve'+'c3f\x20=\x20tB.x'+'yz;\x0a\x0a\x20\x20\x20\x20/'+'/\x20M\x20=\x20S\x20*\x20'+'R\x0a\x20\x20\x20\x20let\x20'+'M\x20=\x20transp'+'ose(mat3x3'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20scale.x\x20*'+'\x20rot[0],\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sca'+'le.y\x20*\x20rot'+'[1],\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20scale.z'+'\x20*\x20rot[2]\x0a'+'\x20\x20\x20\x20));\x0a\x0a\x20'+'\x20\x20\x20*covA_p'+'tr\x20=\x20vec3f'+'(dot(M[0],'+'\x20M[0]),\x20do'+('t(M[0],\x20M['+'1]),\x20dot(M'+'[0],\x20M[2])'+');\x0a\x20\x20\x20\x20*co'+'vB_ptr\x20=\x20v'+'ec3f(dot(M'+'[1],\x20M[1])'+',\x20dot(M[1]'+',\x20M[2]),\x20d'+'ot(M[2],\x20M'+'[2]));\x0a}\x0a'),eD='\x0a\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22gam'+'maPS\x22\x0a\x0a//\x20'+'prepare\x20th'+'e\x20output\x20c'+'olor\x20for\x20t'+'he\x20given\x20g'+'amma-space'+'\x20color\x0afn\x20'+'prepareOut'+'putFromGam'+'ma(gammaCo'+'lor:\x20vec3f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20#if'+'\x20TONEMAP\x20='+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20G'+'AMMA\x20==\x20NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20co'+'nvert\x20to\x20l'+'inear\x20spac'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20decodeGam'+'ma3(gammaC'+'olor);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20gamma\x20'+'space\x20colo'+'r\x20directly'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'gammaColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ap'+'ply\x20tonema'+'pping\x20in\x20l'+'inear\x20spac'+'e\x20and\x20outp'+'ut\x20to\x20line'+'ar\x20or\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20gam'+'ma\x20(which\x20'+'is\x20handled'+'\x20by\x20gammaC'+'orrectOutp'+'ut)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'ammaCorrec'+'tOutput(to'+'neMap(deco'+'deGamma3(g'+'ammaColor)'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a',tD='\x0a\x0a#ifndef\x20'+'DITHER_NON'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22baye'+'rPS\x22\x0a\x20\x20\x20\x20#'+'include\x20\x22o'+'pacityDith'+'erPS\x22\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20PICK_PAS'+'S\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22pick'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_PASS)\x20||\x20'+'defined(PI'+'CK_PASS)\x20|'+'|\x20defined('+'PREPASS_PA'+'SS)\x0a\x20\x20\x20\x20un'+'iform\x20alph'+'aClip:\x20f32'+';\x0a#endif\x0a\x0a'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vLinearD'+'epth:\x20f32;'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22float'+'AsUintPS\x22\x0a'+'#endif\x0a\x0a//'+'\x20Fast\x20appr'+'oximate\x20e^'+'x\x20based\x20on'+'\x20https://n'+'ic.schraud'+'olph.org/p'+'ubs/Schrau'+'dolph99.pd'+'f\x0aconst\x20EX'+'P_A:\x20f32\x20\x20'+'\x20\x20\x20\x20=\x201210'+'2203.0;\x20\x20\x20'+'//\x20\x202^23\x20'+'/\x20ln(2)\x0aco'+'nst\x20EXP_BC'+'_RMS:\x20i32\x20'+'=\x2010648668'+'08;\x20\x20\x20//\x20('+'127\x20<<\x2023)'+'\x20-\x2060801\x20*'+'\x208\x0afn\x20fast'+'Exp(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20var\x20i'+':\x20i32\x20=\x20i3'+'2(EXP_A\x20*\x20'+'x)\x20+\x20EXP_B'+'C_RMS;\x0a\x20\x20\x20'+'\x20return\x20bi'+'tcast<f32>'+'(i);\x0a}\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'FragmentOu'+'tput;\x0a\x0a\x20\x20\x20'+'\x20let\x20A:\x20f3'+'2\x20=\x20dot(ga'+'ussianUV,\x20'+'gaussianUV'+');\x0a\x20\x20\x20\x20if\x20'+'(A\x20>\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'discard;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20alpha'+'\x0a\x20\x20\x20\x20var\x20a'+'lpha:\x20f32\x20'+'=\x20fastExp('+'-A\x20*\x204.0)\x20'+'*\x20gaussian'+('Color.a;\x0a\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(SHAD'+'OW_PASS)\x20|'+'|\x20defined('+'PICK_PASS)'+'\x20||\x20define'+'d(PREPASS_'+'PASS)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20if\x20(al'+'pha\x20<\x20unif'+'orm.alphaC'+'lip)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20out'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20PI'+'CK_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20getPickO'+'utput();\x0a\x0a'+'\x20\x20\x20\x20#elif\x20'+'SHADOW_PAS'+'S\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(0.0,\x200.0'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20PREPAS'+'S_PASS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20float2vec'+'4(vLinearD'+'epth);\x0a\x0a\x20\x20'+'\x20\x20#else\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(alpha\x20<\x20('+'1.0\x20/\x20255.'+'0))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20di'+'scard;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifndef'+'\x20DITHER_NO'+'NE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20opaci'+'tyDither(&'+'alpha,\x20id\x20'+'*\x200.013);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(input'+'.gaussianC'+'olor.xyz,\x20'+'alpha);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'),sD='\x0a\x0a#if\x20SH_B'+'ANDS\x20>\x200\x0a\x0a'+'//\x20unpack\x20'+'signed\x2011\x20'+'10\x2011\x20bits'+'\x0afn\x20unpack'+'111011s(bi'+'ts:\x20u32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20(vec3f((v'+'ec3<u32>(b'+'its)\x20>>\x20ve'+'c3<u32>(21'+'u,\x2011u,\x200u'+'))\x20&\x20vec3<'+'u32>(0x7ff'+'u,\x200x3ffu,'+'\x200x7ffu))\x20'+'/\x20vec3f(20'+'47.0,\x201023'+'.0,\x202047.0'+'))\x20*\x202.0\x20-'+'\x201.0;\x0a}\x0a\x0as'+'truct\x20Scal'+'eAndSH\x20{\x0a\x20'+'\x20\x20\x20scale:\x20'+'f32,\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f\x0a};\x0a\x0a'+'//\x20fetch\x20q'+'uantized\x20s'+'pherical\x20h'+'armonic\x20co'+'efficients'+'\x0afn\x20fetchS'+'cale(t_in:'+'\x20vec4<u32>'+')\x20->\x20Scale'+'AndSH\x20{\x0a\x20\x20'+'\x20\x20var\x20resu'+'lt:\x20ScaleA'+'ndSH;\x0a\x20\x20\x20\x20'+'result.sca'+'le\x20=\x20bitca'+'st<f32>(t_'+'in.x);\x0a\x20\x20\x20'+'\x20result.a\x20'+'=\x20unpack11'+'1011s(t_in'+'.y);\x0a\x20\x20\x20\x20r'+'esult.b\x20=\x20'+'unpack1110'+'11s(t_in.z'+');\x0a\x20\x20\x20\x20res'+'ult.c\x20=\x20un'+'pack111011'+'s(t_in.w);'+'\x0a\x20\x20\x20\x20retur'+'n\x20result;\x0a'+'}\x0a\x0astruct\x20'+'SH\x20{\x0a\x20\x20\x20\x20a'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20b:\x20vec3'+'f,\x0a\x20\x20\x20\x20c:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20d:\x20vec3f\x0a'+'};\x0a\x0a//\x20fet'+'ch\x20quantiz'+'ed\x20spheric'+'al\x20harmoni'+'c\x20coeffici'+'ents\x0afn\x20fe'+'tch4(t_in:'+'\x20vec4<u32>'+')\x20->\x20SH\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'sult:\x20SH;\x0a'+'\x20\x20\x20\x20result'+'.a\x20=\x20unpac'+'k111011s(t'+'_in.x);\x0a\x20\x20'+'\x20\x20result.b'+'\x20=\x20unpack1'+'11011s(t_i'+'n.y);\x0a\x20\x20\x20\x20'+'result.c\x20='+'\x20unpack111'+'011s(t_in.'+'z);\x0a\x20\x20\x20\x20re'+'sult.d\x20=\x20u'+'npack11101'+'1s(t_in.w)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20result;'+'\x0a}\x0a\x0afn\x20fet'+'ch1(t_in:\x20'+'u32)\x20->\x20ve'+('c3f\x20{\x0a\x20\x20\x20\x20'+'return\x20unp'+'ack111011s'+'(t_in);\x0a}\x0a'+'\x0a#if\x20SH_BA'+'NDS\x20==\x201\x0a\x20'+'\x20\x20\x20var\x20spl'+'atSH_1to3:'+'\x20texture_2'+'d<u32>;\x0a\x0a\x20'+'\x20\x20\x20fn\x20read'+'SHData(sou'+'rce:\x20ptr<f'+'unction,\x20S'+'platSource'+'>,\x20sh:\x20ptr'+'<function,'+'\x20array<vec'+'3f,\x203>>,\x20s'+'cale:\x20ptr<'+'function,\x20'+'f32>)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'result\x20=\x20f'+'etchScale('+'textureLoa'+'d(splatSH_'+'1to3,\x20sour'+'ce.uv,\x200))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'*scale\x20=\x20r'+'esult.scal'+'e;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20sh[0]\x20=\x20r'+'esult.a;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'1]\x20=\x20resul'+'t.b;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[2]\x20='+'\x20result.c;'+'\x0a\x20\x20\x20\x20}\x0a#el'+'if\x20SH_BAND'+'S\x20==\x202\x0a\x20\x20\x20'+'\x20var\x20splat'+'SH_1to3:\x20t'+'exture_2d<'+'u32>;\x0a\x20\x20\x20\x20'+'var\x20splatS'+'H_4to7:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_8to11:\x20te'+'xture_2d<u'+'32>;\x0a\x0a\x20\x20\x20\x20'+'fn\x20readSHD'+'ata(source'+':\x20ptr<func'+'tion,\x20Spla'+'tSource>,\x20'+'sh:\x20ptr<fu'+'nction,\x20ar'+'ray<vec3f,'+'\x208>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se')+('cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[7]\x20='+'\x20fetch1(te'+'xtureLoad('+'splatSH_8t'+'o11,\x20sourc'+'e.uv,\x200).x'+');\x0a\x20\x20\x20\x20}\x0a#'+'else\x0a\x20\x20\x20\x20v'+'ar\x20splatSH'+'_1to3:\x20tex'+'ture_2d<u3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20splatSH_'+'4to7:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_8'+'to11:\x20text'+'ure_2d<u32'+'>;\x0a\x20\x20\x20\x20var'+'\x20splatSH_1'+'2to15:\x20tex'+'ture_2d<u3'+'2>;\x0a\x0a\x20\x20\x20\x20f'+'n\x20readSHDa'+'ta(source:'+'\x20ptr<funct'+'ion,\x20Splat'+'Source>,\x20s'+'h:\x20ptr<fun'+'ction,\x20arr'+'ay<vec3f,\x20'+'15>>,\x20scal'+'e:\x20ptr<fun'+'ction,\x20f32'+'>)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fir'+'st:\x20ScaleA'+'ndSH\x20=\x20fet'+'chScale(te'+'xtureLoad('+'splatSH_1t'+'o3,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*s'+'cale\x20=\x20fir'+'st.scale;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[0]\x20=\x20firs'+'t.a;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20sh[1]\x20='+'\x20first.b;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[2]\x20=\x20firs'+'t.c;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20se'+'cond:\x20SH\x20='+'\x20fetch4(te'+'xtureLoad('+'splatSH_4t'+'o7,\x20source'+'.uv,\x200));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20sh'+'[3]\x20=\x20seco'+'nd.a;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20sh[4]\x20'+'=\x20second.b'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'sh[5]\x20=\x20se'+'cond.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[6'+']\x20=\x20second'+'.d;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20thi'+'rd:\x20SH\x20=\x20f'+'etch4(text'+'ureLoad(sp'+'latSH_8to1'+'1,\x20source.'+'uv,\x200));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'7]\x20=\x20third'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[8]\x20=\x20'+'third.b;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20sh['+'9]\x20=\x20third'+'.c;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[10]\x20='+'\x20third.d;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20fourth:'+'\x20SH\x20=\x20fetc'+'h4(texture'+'Load(splat'+'SH_12to15,')+('\x20source.uv'+',\x200));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20sh[11'+']\x20=\x20fourth'+'.a;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20sh[12]\x20='+'\x20fourth.b;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'h[13]\x20=\x20fo'+'urth.c;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20sh[1'+'4]\x20=\x20fourt'+'h.d;\x0a\x20\x20\x20\x20}'+'\x0a#endif\x0a\x0a#'+'endif\x0a'),iD='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c3f;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20xy:\x20'+'cornerUV,\x20'+'z:\x20render\x20'+'order\x20offs'+'et\x0aattribu'+'te\x20vertex_'+'id_attrib:'+'\x20u32;\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'nder\x20order'+'\x20base\x0a\x0auni'+'form\x20numSp'+'lats:\x20u32;'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20total\x20nu'+'mber\x20of\x20sp'+'lats\x0avar\x20s'+'platOrder:'+'\x20texture_2'+'d<u32>;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'per-splat\x20'+'index\x20to\x20s'+'ource\x20gaus'+'sian\x0a\x0a//\x20i'+'nitialize\x20'+'the\x20splat\x20'+'source\x20str'+'ucture\x0afn\x20'+'initSource'+'(source:\x20p'+'tr<functio'+'n,\x20SplatSo'+'urce>)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20let\x20w:\x20u3'+'2\x20=\x20textur'+'eDimension'+'s(splatOrd'+'er,\x200).x;\x0a'+'\x0a\x20\x20\x20\x20//\x20ca'+'lculate\x20sp'+'lat\x20order\x0a'+'\x20\x20\x20\x20source'+'.order\x20=\x20v'+'ertex_id_a'+'ttrib\x20+\x20u3'+'2(vertex_p'+'osition.z)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'return\x20if\x20'+'out\x20of\x20ran'+'ge\x20(since\x20'+'the\x20last\x20b'+'lock\x20of\x20sp'+'lats\x20may\x20b'+'e\x20partiall'+'y\x20full)\x0a\x20\x20'+'\x20\x20if\x20(sour'+'ce.order\x20>'+'=\x20uniform.'+'numSplats)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20fa'+'lse;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'orderUV\x20=\x20'+'vec2i(vec2'+'u(source.o'+'rder\x20%\x20w,\x20'+'source.ord'+'er\x20/\x20w));\x0a'+'\x0a\x20\x20\x20\x20//\x20re'+'ad\x20splat\x20i'+'d\x0a\x20\x20\x20\x20sour'+'ce.id\x20=\x20te'+'xtureLoad('+'splatOrder'+',\x20orderUV,'+'\x200).r;\x0a\x0a\x20\x20'+'\x20\x20//\x20map\x20i'+'d\x20to\x20uv\x0a\x20\x20'+'\x20\x20source.u'+'v\x20=\x20vec2i('+'vec2u(sour'+'ce.id\x20%\x20w,'+'\x20source.id'+'\x20/\x20w));\x0a\x0a\x20'+'\x20\x20\x20//\x20get\x20'+'the\x20corner'+'\x0a\x20\x20\x20\x20sourc'+'e.cornerUV'+'\x20=\x20vertex_'+'position.x'+'y;\x0a\x0a\x20\x20\x20\x20re'+('turn\x20true;'+'\x0a}\x0a'),rD='\x0a#include\x20'+'\x22gsplatCom'+'monVS\x22\x0a\x0ava'+'rying\x20gaus'+'sianUV:\x20ve'+'c2f;\x0avaryi'+'ng\x20gaussia'+'nColor:\x20ve'+'c4f;\x0a\x0a#ifn'+'def\x20DITHER'+'_NONE\x0a\x20\x20\x20\x20'+'varying\x20id'+':\x20f32;\x0a#en'+'dif\x0a\x0aconst'+'\x20discardVe'+'c:\x20vec4f\x20='+'\x20vec4f(0.0'+',\x200.0,\x202.0'+',\x201.0);\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20varying'+'\x20vLinearDe'+'pth:\x20f32;\x0a'+'#endif\x0a\x0a@v'+'ertex\x0afn\x20v'+'ertexMain('+'input:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Vertex'+'Output;\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20gaussian\x20'+'details\x0a\x20\x20'+'\x20\x20var\x20sour'+'ce:\x20SplatS'+'ource;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Source(&so'+'urce))\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.positi'+'on\x20=\x20disca'+'rdVec;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20let\x20model'+'Center:\x20ve'+'c3f\x20=\x20read'+'Center(&so'+'urce);\x0a\x0a\x20\x20'+'\x20\x20var\x20cent'+'er:\x20SplatC'+'enter;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Center(mod'+'elCenter,\x20'+'&center))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20di'+'scardVec;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20pro'+'ject\x20cente'+'r\x20to\x20scree'+'n\x20space\x0a\x20\x20'+'\x20\x20var\x20corn'+'er:\x20SplatC'+'orner;\x0a\x20\x20\x20'+'\x20if\x20(!init'+'Corner(&so'+'urce,\x20&cen'+'ter,\x20&corn'+'er))\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.position'+'\x20=\x20discard'+'Vec;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20/'+'/\x20read\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20clr:\x20vec4'+'f\x20=\x20readCo'+'lor(&sourc'+'e);\x0a\x0a\x20\x20\x20\x20#'+'if\x20GSPLAT_'+'AA\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20apply\x20'+'AA\x20compens'+'ation\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20clr.a\x20'+('=\x20clr.a\x20*\x20'+'corner.aaF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20eval'+'uate\x20spher'+'ical\x20harmo'+'nics\x0a\x20\x20\x20\x20#'+'if\x20SH_BAND'+'S\x20>\x200\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20cal'+'culate\x20the'+'\x20model-spa'+'ce\x20view\x20di'+'rection\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'modelView3'+'x3\x20=\x20mat3x'+'3f(center.'+'modelView['+'0].xyz,\x20ce'+'nter.model'+'View[1].xy'+'z,\x20center.'+'modelView['+'2].xyz);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dir\x20=\x20nor'+'malize(mod'+'elView3x3\x20'+'*\x20center.v'+'iew);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'ad\x20sh\x20coef'+'ficients\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20sh:\x20array'+'<vec3f,\x20SH'+'_COEFFS>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20scale:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20readSHDa'+'ta(&source'+',\x20&sh,\x20&sc'+'ale);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ev'+'aluate\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20clr\x20='+'\x20vec4f(clr'+'.xyz\x20+\x20eva'+'lSH(&sh,\x20d'+'ir)\x20*\x20scal'+'e,\x20clr.a);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20cli'+'pCorner(&c'+'orner,\x20clr'+'.w);\x0a\x0a\x20\x20\x20\x20'+'//\x20write\x20o'+'utput\x0a\x20\x20\x20\x20'+'output.pos'+'ition\x20=\x20ce'+'nter.proj\x20'+'+\x20vec4f(co'+'rner.offse'+'t,\x200.0,\x200.'+'0);\x0a\x20\x20\x20\x20ou'+'tput.gauss'+'ianUV\x20=\x20co'+'rner.uv;\x0a\x20'+'\x20\x20\x20output.'+'gaussianCo'+'lor\x20=\x20vec4'+'f(prepareO'+'utputFromG'+'amma(max(c'+'lr.xyz,\x20ve'+'c3f(0.0)))'+',\x20clr.w);\x0a'+'\x0a\x20\x20\x20\x20#ifnd'+'ef\x20DITHER_'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'id\x20=\x20f32(s'+'ource.id);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vLinearD'+'epth\x20=\x20-ce'+'nter.view.'+'z;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),aD='\x0a\x20\x20\x20\x20attri'+'bute\x20aPosi'+'tion:\x20vec2'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20uv0:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20@vertex\x20f'+'n\x20vertexMa'+'in(input:\x20'+'VertexInpu'+'t)\x20->\x20Vert'+'exOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20vec4f(inp'+'ut.aPositi'+'on,\x200.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'uv0\x20=\x20getI'+'mageEffect'+'UV((input.'+'aPosition\x20'+'+\x201.0)\x20*\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'output;\x0a\x20\x20'+'\x20\x20}\x0a',nD='\x0a//\x20Indire'+'ct\x20indexed'+'\x20draw\x20call'+'\x20parameter'+'s\x0astruct\x20D'+'rawIndexed'+'IndirectAr'+'gs\x20{\x0a\x20\x20\x20\x20i'+'ndexCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Numb'+'er\x20of\x20indi'+'ces\x20to\x20dra'+'w\x0a\x20\x20\x20\x20inst'+'anceCount:'+'\x20u32,\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20instanc'+'es\x20to\x20draw'+'\x0a\x20\x20\x20\x20first'+'Index:\x20u32'+',\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Index\x20of'+'\x20the\x20first'+'\x20index\x20in\x20'+'the\x20index\x20'+'buffer\x0a\x20\x20\x20'+'\x20baseVerte'+'x:\x20i32,\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Of'+'fset\x20added'+'\x20to\x20each\x20i'+'ndex\x20befor'+'e\x20fetching'+'\x20vertex\x0a\x20\x20'+'\x20\x20firstIns'+'tance:\x20u32'+'\x20\x20\x20\x20\x20\x20//\x20F'+'irst\x20insta'+'nce\x20ID\x0a};\x0a'+'\x0a//\x20Indire'+'ct\x20non-ind'+'exed\x20draw\x20'+'call\x20param'+'eters\x0astru'+'ct\x20DrawInd'+'irectArgs\x20'+'{\x0a\x20\x20\x20\x20vert'+'exCount:\x20u'+'32,\x20\x20\x20\x20\x20\x20\x20'+'//\x20Number\x20'+'of\x20vertice'+'s\x20to\x20draw\x0a'+'\x20\x20\x20\x20instan'+'ceCount:\x20u'+'32,\x20\x20\x20\x20\x20//'+'\x20Number\x20of'+'\x20instances'+'\x20to\x20draw\x0a\x20'+'\x20\x20\x20firstVe'+'rtex:\x20u32,'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Index\x20of\x20t'+'he\x20first\x20v'+'ertex\x0a\x20\x20\x20\x20'+'firstInsta'+'nce:\x20u32,\x20'+'\x20\x20\x20\x20//\x20Fir'+'st\x20instanc'+'e\x20ID\x0a\x20\x20\x20\x20_'+'pad:\x20u32\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Padd'+'ing\x20to\x20mat'+'ch\x20indexed'+'\x20size\x20(unu'+'sed)\x0a};\x0a',oD='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22gamma'+'PS\x22\x0a\x20\x20\x20\x20va'+'rying\x20colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20@fragm'+'ent\x0a\x20\x20\x20\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utput:\x20Fra'+'gmentOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20vec4'+'f(gammaCor'+'rectOutput'+'(decodeGam'+'ma3(input.'+'color.rgb)'+'),\x20input.c'+'olor.a);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a\x20\x20\x20\x20}\x0a',lD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20matr'+'ix_model:\x20'+'mat4x4f;\x0a\x20'+'\x20\x20\x20uniform'+'\x20matrix_vi'+'ewProjecti'+'on:\x20mat4x4'+'f;\x0a\x20\x20\x20\x20var'+'ying\x20color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20@vertex'+'\x0a\x20\x20\x20\x20fn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'output\x20:\x20V'+'ertexOutpu'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20inpu'+'t.vertex_c'+'olor;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20unifor'+'m.matrix_m'+'odel\x20*\x20inp'+'ut.vertex_'+'position;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',cD='\x0auniform\x20m'+'aterial_ir'+'idescenceR'+'efractionI'+'ndex:\x20f32;'+'\x0a\x0afn\x20iride'+'scence_ior'+'ToFresnelS'+'calar(tran'+'smittedIor'+':\x20f32,\x20inc'+'identIor:\x20'+'f32)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20pow(('+'transmitte'+'dIor\x20-\x20inc'+'identIor)\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'incidentIo'+'r),\x202.0);\x0a'+'}\x0a\x0afn\x20irid'+'escence_io'+'rToFresnel'+'Vec3(trans'+'mittedIor:'+'\x20vec3f,\x20in'+'cidentIor:'+'\x20f32)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20po'+'w((transmi'+'ttedIor\x20-\x20'+'vec3f(inci'+'dentIor))\x20'+'/\x20(transmi'+'ttedIor\x20+\x20'+'vec3f(inci'+'dentIor)),'+'\x20vec3f(2.0'+'));\x0a}\x0a\x0afn\x20'+'iridescenc'+'e_fresnelT'+'oIor(f0:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20sqrtF'+'0:\x20vec3f\x20='+'\x20sqrt(f0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20(vec3f(1'+'.0)\x20+\x20sqrt'+'F0)\x20/\x20(vec'+'3f(1.0)\x20-\x20'+'sqrtF0);\x0a}'+'\x0a\x0aconst\x20XY'+'Z_TO_REC70'+'9:\x20mat3x3f'+'\x20=\x20mat3x3f'+'(\x0a\x20\x20\x20\x20vec3'+'f(3.240454'+'2,\x20-1.5371'+'385,\x20-0.49'+'85314),\x0a\x20\x20'+'\x20\x20vec3f(-0'+'.9692660,\x20'+'\x201.8760108'+',\x20\x200.04155'+'60),\x0a\x20\x20\x20\x20v'+'ec3f(0.055'+'6434,\x20-0.2'+'040259,\x20\x201'+'.0572252)\x0a'+');\x0a\x0afn\x20iri'+'descence_s'+'ensitivity'+'(opd:\x20f32,'+'\x20shift:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x20\x20\x20\x20let'+'\x20phase:\x20f3'+'2\x20=\x202.0\x20*\x20'+'PI\x20*\x20opd\x20*'+'\x201.0e-9;\x0a\x20'+'\x20\x20\x20const\x20v'+'al:\x20vec3f\x20'+'=\x20vec3f(5.'+'4856e-13,\x20'+'4.4201e-13'+',\x205.2481e-'+'13);\x0a\x20\x20\x20\x20c'+'onst\x20pos:\x20'+'vec3f\x20=\x20ve'+'c3f(1.6810'+'e+06,\x201.79'+('53e+06,\x202.'+'2084e+06);'+'\x0a\x20\x20\x20\x20const'+'\x20var_:\x20vec'+'3f\x20=\x20vec3f'+'(4.3278e+0'+'9,\x209.3046e'+'+09,\x206.612'+'1e+09);\x0a\x0a\x20'+'\x20\x20\x20var\x20xyz'+':\x20vec3f\x20=\x20'+'val\x20*\x20sqrt'+'(2.0\x20*\x20PI\x20'+'*\x20var_)\x20*\x20'+'cos(pos\x20*\x20'+'phase\x20+\x20sh'+'ift)\x20*\x20exp'+'(-pow(phas'+'e,\x202.0)\x20*\x20'+'var_);\x0a\x20\x20\x20'+'\x20xyz.x\x20=\x20x'+'yz.x\x20+\x209.7'+'470e-14\x20*\x20'+'sqrt(2.0\x20*'+'\x20PI\x20*\x204.52'+'82e+09)\x20*\x20'+'cos(2.2399'+'e+06\x20*\x20pha'+'se\x20+\x20shift'+'[0])\x20*\x20exp'+'(-4.5282e+'+'09\x20*\x20pow(p'+'hase,\x202.0)'+');\x0a\x20\x20\x20\x20xyz'+'\x20=\x20xyz\x20/\x20v'+'ec3f(1.068'+'5e-07);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'XYZ_TO_REC'+'709\x20*\x20xyz;'+'\x0a}\x0a\x0afn\x20iri'+'descence_f'+'resnelScal'+'ar(cosThet'+'a:\x20f32,\x20f0'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20x:\x20f32'+'\x20=\x20clamp(1'+'.0\x20-\x20cosTh'+'eta,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'let\x20x2:\x20f3'+'2\x20=\x20x\x20*\x20x;'+'\x0a\x20\x20\x20\x20let\x20x'+'5:\x20f32\x20=\x20x'+'\x20*\x20x2\x20*\x20x2'+';\x0a\x20\x20\x20\x20retu'+'rn\x20f0\x20+\x20(1'+'.0\x20-\x20f0)\x20*'+'\x20x5;\x0a}\x0a\x0afn'+'\x20iridescen'+'ce_fresnel'+'Vec3(cosTh'+'eta:\x20f32,\x20'+'f0:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'x:\x20f32\x20=\x20c'+'lamp(1.0\x20-'+'\x20cosTheta,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20let\x20'+'x2:\x20f32\x20=\x20'+'x\x20*\x20x;\x0a\x20\x20\x20'+'\x20let\x20x5:\x20f'+'32\x20=\x20x\x20*\x20x'+'2\x20*\x20x2;\x0a\x20\x20'+'\x20\x20return\x20f'+'0\x20+\x20(vec3f'+'(1.0)\x20-\x20f0'+')\x20*\x20x5;\x0a}\x0a'+'\x0afn\x20calcIr'+'idescence('+'outsideIor'+':\x20f32,\x20cos'+'Theta:\x20f32'+',\x20base_f0:'+'\x20vec3f,\x20ir'+'idescenceT'+'hickness:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0a\x20\x20\x20\x20le'+'t\x20iridesce'+'nceIor:\x20f3'+'2\x20=\x20mix(ou')+('tsideIor,\x20'+'uniform.ma'+'terial_iri'+'descenceRe'+'fractionIn'+'dex,\x20smoot'+'hstep(0.0,'+'\x200.03,\x20iri'+'descenceTh'+'ickness));'+'\x0a\x20\x20\x20\x20let\x20s'+'inTheta2Sq'+':\x20f32\x20=\x20po'+'w(outsideI'+'or\x20/\x20iride'+'scenceIor,'+'\x202.0)\x20*\x20(1'+'.0\x20-\x20pow(c'+'osTheta,\x202'+'.0));\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2Sq:\x20f32'+'\x20=\x201.0\x20-\x20s'+'inTheta2Sq'+';\x0a\x0a\x20\x20\x20\x20if\x20'+'(cosTheta2'+'Sq\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20vec'+'3f(1.0);\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20cosThe'+'ta2:\x20f32\x20='+'\x20sqrt(cosT'+'heta2Sq);\x0a'+'\x0a\x20\x20\x20\x20let\x20r'+'0:\x20f32\x20=\x20i'+'ridescence'+'_iorToFres'+'nelScalar('+'iridescenc'+'eIor,\x20outs'+'ideIor);\x0a\x20'+'\x20\x20\x20let\x20r12'+':\x20f32\x20=\x20ir'+'idescence_'+'fresnelSca'+'lar(cosThe'+'ta,\x20r0);\x0a\x20'+'\x20\x20\x20let\x20r21'+':\x20f32\x20=\x20r1'+'2;\x0a\x20\x20\x20\x20let'+'\x20t121:\x20f32'+'\x20=\x201.0\x20-\x20r'+'12;\x0a\x0a\x20\x20\x20\x20l'+'et\x20phi12:\x20'+'f32\x20=\x20sele'+'ct(0.0,\x20PI'+',\x20iridesce'+'nceIor\x20<\x20o'+'utsideIor)'+';\x0a\x20\x20\x20\x20let\x20'+'phi21:\x20f32'+'\x20=\x20PI\x20-\x20ph'+'i12;\x0a\x0a\x20\x20\x20\x20'+'let\x20baseIo'+'r:\x20vec3f\x20='+'\x20iridescen'+'ce_fresnel'+'ToIor(base'+'_f0\x20+\x20vec3'+'f(0.0001))'+';\x0a\x20\x20\x20\x20let\x20'+'r1:\x20vec3f\x20'+'=\x20iridesce'+'nce_iorToF'+'resnelVec3'+'(baseIor,\x20'+'iridescenc'+'eIor);\x0a\x20\x20\x20'+'\x20let\x20r23:\x20'+'vec3f\x20=\x20ir'+'idescence_'+'fresnelVec'+'3(cosTheta'+'2,\x20r1);\x0a\x0a\x20'+'\x20\x20\x20let\x20phi'+'23:\x20vec3f\x20'+'=\x20select(v'+'ec3f(0.0),'+'\x20vec3f(PI)'+',\x20baseIor\x20'+'<\x20vec3f(ir'+'idescenceI'+'or));\x0a\x20\x20\x20\x20'+'let\x20opd:\x20f'+'32\x20=\x202.0\x20*'+'\x20iridescen'+'ceIor\x20*\x20ir'+'idescenceT')+('hickness\x20*'+'\x20cosTheta2'+';\x0a\x20\x20\x20\x20let\x20'+'phi:\x20vec3f'+'\x20=\x20vec3f(p'+'hi21)\x20+\x20ph'+'i23;\x20//\x20Pr'+'omote\x20scal'+'ar\x20phi21\x20t'+'o\x20vec3f\x0a\x0a\x20'+'\x20\x20\x20let\x20r12'+'3Sq:\x20vec3f'+'\x20=\x20clamp(v'+'ec3f(r12)\x20'+'*\x20r23,\x20vec'+'3f(1e-5),\x20'+'vec3f(0.99'+'99));\x0a\x20\x20\x20\x20'+'let\x20r123:\x20'+'vec3f\x20=\x20sq'+'rt(r123Sq)'+';\x0a\x20\x20\x20\x20let\x20'+'rs:\x20vec3f\x20'+'=\x20pow(vec3'+'f(t121),\x20v'+'ec3f(2.0))'+'\x20*\x20r23\x20/\x20('+'vec3f(1.0)'+'\x20-\x20r123Sq)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20c0:\x20vec3f'+'\x20=\x20vec3f(r'+'12)\x20+\x20rs;\x0a'+'\x20\x20\x20\x20var\x20i_'+'irid:\x20vec3'+'f\x20=\x20c0;\x0a\x0a\x20'+'\x20\x20\x20var\x20cm:'+'\x20vec3f\x20=\x20r'+'s\x20-\x20vec3f('+'t121);\x0a\x0a\x20\x20'+'\x20\x20cm\x20=\x20cm\x20'+'*\x20r123;\x0a\x20\x20'+'\x20\x20let\x20sm1:'+'\x20vec3f\x20=\x202'+'.0\x20*\x20iride'+'scence_sen'+'sitivity(1'+'.0\x20*\x20opd,\x20'+'1.0\x20*\x20phi)'+';\x0a\x20\x20\x20\x20i_ir'+'id\x20=\x20i_iri'+'d\x20+\x20cm\x20*\x20s'+'m1;\x0a\x0a\x20\x20\x20\x20c'+'m\x20=\x20cm\x20*\x20r'+'123;\x0a\x20\x20\x20\x20l'+'et\x20sm2:\x20ve'+'c3f\x20=\x202.0\x20'+'*\x20iridesce'+'nce_sensit'+'ivity(2.0\x20'+'*\x20opd,\x202.0'+'\x20*\x20phi);\x0a\x20'+'\x20\x20\x20i_irid\x20'+'=\x20i_irid\x20+'+'\x20cm\x20*\x20sm2;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20max(i_i'+'rid,\x20vec3f'+'(0.0));\x0a}\x0a'+'\x0afn\x20getIri'+'descenceDi'+'ffraction('+'cosTheta:\x20'+'f32,\x20specu'+'larity:\x20ve'+'c3f,\x20iride'+'scenceThic'+'kness:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20calcIr'+'idescence('+'1.0,\x20cosTh'+'eta,\x20specu'+'larity,\x20ir'+'idescenceT'+'hickness);'+'\x0a}\x0a'),hD='\x0a#ifdef\x20ST'+'D_IRIDESCE'+'NCE_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_irides'+'cence:\x20f32'+';\x0a#endif\x0a\x0a'+'fn\x20getIrid'+'escence()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'iridescenc'+'e\x20=\x201.0;\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_CON'+'STANT\x0a\x20\x20\x20\x20'+'iridescenc'+'e\x20=\x20irides'+'cence\x20*\x20un'+'iform.mate'+'rial_iride'+'scence;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE\x0a\x20\x20\x20\x20i'+'ridescence'+'\x20=\x20iridesc'+'ence\x20*\x20tex'+'tureSample'+'Bias({STD_'+'IRIDESCENC'+'E_TEXTURE_'+'NAME},\x20{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CE_TEXTURE'+'_UV},\x20unif'+'orm.textur'+'eBias).{ST'+'D_IRIDESCE'+'NCE_TEXTUR'+'E_CHANNEL}'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dI'+'ridescence'+'\x20=\x20iridesc'+'ence;\x20\x0a}\x0a',dD='\x0auniform\x20m'+'aterial_ir'+'idescenceT'+'hicknessMa'+'x:\x20f32;\x0a\x0a#'+'ifdef\x20STD_'+'IRIDESCENC'+'ETHICKNESS'+'_TEXTURE\x0a\x20'+'\x20\x20\x20uniform'+'\x20material_'+'iridescenc'+'eThickness'+'Min:\x20f32;\x0a'+'#endif\x0a\x0afn'+'\x20getIrides'+'cenceThick'+'ness()\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCETHIC'+'KNESS_TEXT'+'URE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20blen'+'d:\x20f32\x20=\x20t'+'extureSamp'+'leBias({ST'+'D_IRIDESCE'+'NCETHICKNE'+'SS_TEXTURE'+'_NAME},\x20{S'+'TD_IRIDESC'+'ENCETHICKN'+'ESS_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_IRIDESCEN'+'CETHICKNES'+'S_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20iridesce'+'nceThickne'+'ss:\x20f32\x20=\x20'+'mix(unifor'+'m.material'+'_iridescen'+'ceThicknes'+'sMin,\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax,\x20bl'+'end);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceT'+'hickness:\x20'+'f32\x20=\x20unif'+'orm.materi'+'al_iridesc'+'enceThickn'+'essMax;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dIride'+'scenceThic'+'kness\x20=\x20ir'+'idescenceT'+'hickness;\x20'+'\x0a}\x0a',fD='\x0a#ifdef\x20ST'+'D_IOR_CONS'+'TANT\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'erial_refr'+'actionInde'+'x:\x20f32;\x0a#e'+'ndif\x0a\x0afn\x20g'+'etIor()\x20{\x0a'+'#ifdef\x20STD'+'_IOR_CONST'+'ANT\x0a\x20\x20\x20\x20dI'+'or\x20=\x20unifo'+'rm.materia'+'l_refracti'+'onIndex;\x0a#'+'else\x0a\x20\x20\x20\x20d'+'Ior\x20=\x201.0\x20'+'/\x201.5;\x0a#en'+'dif\x0a}\x0a',uD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0a\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_color'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_direction'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#else\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_POINT\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20poi'+'nt\x20lights\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20lig'+'ht{i}_posi'+'tion:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ra'+'dius:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'SPOT\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20LIT_'+'CODE_LIGHT'+'S_SPOT\x20//\x20'+'include\x20fu'+'nctionalit'+'y\x20for\x20spot'+'\x20lights\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_di'+'rection:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_inner'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20ligh'+'t{i}_outer'+'ConeAngle:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20//\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_FALLOFF_'+'SQUARED\x20//'+'\x20include\x20f'+'unctionali'+'ty\x20for\x20inv'+'erse\x20squar'+'ed\x20falloff'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_position:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20l'+'ight{i}_ha'+'lfWidth:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_halfHeigh'+'t:\x20vec3f;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}FALLOFF\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_LINE'+'AR\x20//\x20incl'+'ude\x20functi'+'onality\x20fo'+'r\x20linear\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}FALLOFF'+'\x20==\x20INVERS'+'ESQUARED\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#define\x20L'+'IT_CODE_FA'+'LLOFF_SQUA'+'RED\x20//\x20inc'+'lude\x20funct'+'ionality\x20f'+'or\x20inverse'+'\x20squared\x20f'+'alloff\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20shadow\x20c'+'asting\x0a\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowMatri'+'x:\x20mat4x4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20li'+'ght{i}_sha'+'dowIntensi'+'ty:\x20f32;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'{i}_shadow'+'Params:\x20ve'+'c4f;\x20//\x20wi'+'dth,\x20heigh'+'t,\x20bias,\x20r'+'adius\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowSearc'+'hArea:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20light{i}'+'_cameraPar'+'ams:\x20vec4f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'oftShadowP'+'arams:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'directiona'+'l\x20(cascade'+'d)\x20shadows'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}TYPE\x20==\x20D'+'IRECTIONAL'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20light{i}_'+'shadowMatr'+'ixPalette:'+'\x20array<mat'+'4x4f,\x204>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deDistance'+'s:\x20vec4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20uniform\x20'+'light{i}_s'+'hadowCasca'+'deCount:\x20i'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20light{'+'i}_shadowC'+'ascadeBlen'+'d:\x20f32;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20OMNI\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20N'+'OT\x20SUPPORT'+'ED\x0a/*\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IGHT{i}SHA'+'DOW_PCF)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'CubeShadow'+'\x20light{i}_'+'shadowMap;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20sampler'+'Cube\x20light'+'{i}_shadow'+'Map;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIG'+'HT{i}SHADO'+'W_PCF)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMap:\x20tex'+'ture_depth'+'_2d;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'{i}_shadow'+'MapSampler'+':\x20sampler_'+'comparison'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'light{i}_s'+'hadowMap:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20lig'+'ht{i}_shad'+'owMapSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20coo'+'kie\x0a\x20\x20\x20\x20#i'+'f\x20defined('+'LIGHT{i}CO'+'OKIE)\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_COD'+'E_COOKIE\x20/'+'/\x20include\x20'+'functional'+'ity\x20for\x20co'+'okies\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20OMNI\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20NOT\x20SUPP'+'ORTED\x0a/*\x20\x20'+'\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20sam'+'plerCube\x20l'+'ight{i}_co'+'okie;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un')+('iform\x20floa'+'t\x20light{i}'+'_cookieInt'+'ensity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20!defin'+'ed(LIGHT{i'+'}CASTSHADO'+'W)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20mat'+'4\x20light{i}'+'_shadowMat'+'rix;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a*/\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20NO'+'T\x20SUPPORTE'+'D\x0a/*\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20sample'+'r2D\x20light{'+'i}_cookie;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20uniform'+'\x20float\x20lig'+'ht{i}_cook'+'ieIntensit'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20!'+'defined(LI'+'GHT{i}CAST'+'SHADOW)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20mat4\x20lig'+'ht{i}_shad'+'owMatrix;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIGHT{i'+'}COOKIE_TR'+'ANSFORM)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec4\x20li'+'ght{i}_coo'+'kieMatrix;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20vec2\x20'+'light{i}_c'+'ookieOffse'+'t;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a*/\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a'),pD='\x0afn\x20getLig'+'htDiffuse('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20max'+'(dot(world'+'Normal,\x20-l'+'ightDirNor'+'m),\x200.0);\x0a'+'}\x0a',mD='\x0afn\x20evalOm'+'niLight(li'+'ghtPosW:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20vP'+'ositionW\x20-'+'\x20lightPosW'+';\x0a}\x0a',_D='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x20\x20\x20\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIT_I'+'RIDESCENCE'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20irides'+'cenceFresn'+'el\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20);\x0a#endi'+'f\x0a',gD='\x0a#if\x20defin'+'ed(LIGHT{i'+'})\x0a\x0afn\x20eva'+'luateLight'+'{i}(\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20irid'+'escenceFre'+'snel:\x20vec3'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a)\x20{\x0a\x20\x20\x20'+'\x20//\x20light\x20'+'color\x0a\x20\x20\x20\x20'+'var\x20lightC'+'olor:\x20vec3'+'f\x20=\x20unifor'+'m.light{i}'+'_color;\x0a\x0a\x20'+'\x20\x20\x20#if\x20LIG'+'HT{i}TYPE\x20'+'==\x20DIRECTI'+'ONAL\x20&&\x20!d'+'efined(LIT'+'_SHADOW_CA'+'TCHER)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ea'+'rly\x20return'+'\x20if\x20the\x20li'+'ght\x20color\x20'+'is\x20black\x20('+'used\x20by\x20sh'+'adow\x20catch'+'er\x20-\x20this\x20'+'way\x20this\x20l'+'ight\x20is\x20ve'+'ry\x20cheap)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(all(ligh'+'tColor\x20==\x20'+'vec3f(0.0,'+'\x200.0,\x200.0)'+'))\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20DIRECTION'+'AL\x20//\x20dire'+'ctional\x20li'+'ght\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dLightD'+'irNormW\x20=\x20'+'uniform.li'+'ght{i}_dir'+'ection;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dAtt'+'en\x20=\x201.0;\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x20//\x20omni\x20o'+'r\x20spot\x20lig'+'ht\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tDirW:\x20vec'+'3f\x20=\x20evalO'+'mniLight(u'+'niform.lig'+'ht{i}_posi'+'tion);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tDirNormW\x20'+'=\x20normaliz'+'e(lightDir'+'W);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cook'+'ie\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(LIGHT'+'{i}COOKIE)'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20SPOT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_FAL'+'LOFF\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+('eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DXform(u'+'niform.lig'+'ht{i}_cook'+'ie,\x20unifor'+'m.light{i}'+'_shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_cookieIn'+'tensity,\x20u'+'niform.lig'+'ht{i}_cook'+'ieMatrix,\x20'+'uniform.li'+'ght{i}_coo'+'kieOffset)'+'.{LIGHT{i}'+'COOKIE_CHA'+'NNEL};\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookie2D('+'uniform.li'+'ght{i}_coo'+'kie,\x20unifo'+'rm.light{i'+'}_shadowMa'+'trix,\x20unif'+'orm.light{'+'i}_cookieI'+'ntensity).'+'{LIGHT{i}C'+'OOKIE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'COOKIE_TRA'+'NSFORM\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClipXfo'+'rm(uniform'+'.light{i}_'+'cookie,\x20un'+'iform.ligh'+'t{i}_shado'+'wMatrix,\x20u'+'niform.lig'+'ht{i}_cook'+'ieIntensit'+'y,\x20uniform'+'.light{i}_'+'cookieMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieOff'+'set).{LIGH'+'T{i}COOKIE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20cooki'+'eAttenuati'+'on:\x20vec3f\x20'+'=\x20getCooki'+'e2DClip(un'+'iform.ligh'+'t{i}_cooki'+'e,\x20uniform'+'.light{i}_'+'shadowMatr'+'ix,\x20unifor'+'m.light{i}'+'_cookieInt'+'ensity).{L'+'IGHT{i}COO'+'KIE_CHANNE'+'L};\x0a\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}TY'+'PE\x20==\x20OMNI'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20cookieAtt'+'enuation:\x20'+'vec3f\x20=\x20ge'+'tCookieCub'+'e(uniform.'+'light{i}_c'+'ookie,\x20uni'+'form.light'+'{i}_shadow'+'Matrix,\x20un'+'iform.ligh'+'t{i}_cooki'+'eIntensity'+').{LIGHT{i'+'}COOKIE_CH'+'ANNEL};\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20multipl'+'y\x20light\x20co'+'lor\x20by\x20the'+'\x20cookie\x20at'+'tenuation\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightCol'+'or\x20=\x20light'+'Color\x20*\x20co'+'okieAttenu'+'ation;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dista'+'nce\x20fallof'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20PUNCTUAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}FALLOF'+'F\x20==\x20LINEA'+'R\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dA'+'tten\x20=\x20get'+'FalloffLin'+'ear(unifor'+'m.light{i}'+'_radius,\x20l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20getFal'+'loffInvSqu'+'ared(unifo'+'rm.light{i'+'}_radius,\x20'+'lightDirW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'non\x20punctu'+'al\x20lights\x20'+'only\x20gets\x20'+'the\x20range\x20'+'window\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20getFall'+'offWindow('+'uniform.li'+'ght{i}_rad'+'ius,\x20light'+'DirW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20spot\x20l'+'ight\x20angle'+'\x20falloff\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}T'+'YPE\x20==\x20SPO'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20!d')+('efined(LIG'+'HT{i}COOKI'+'E)\x20||\x20defi'+'ned(LIGHT{'+'i}COOKIE_F'+'ALLOFF)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dAtten'+'\x20=\x20dAtten\x20'+'*\x20getSpotE'+'ffect(unif'+'orm.light{'+'i}_directi'+'on,\x20unifor'+'m.light{i}'+'_innerCone'+'Angle,\x20uni'+'form.light'+'{i}_outerC'+'oneAngle,\x20'+'dLightDirN'+'ormW);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20if\x20'+'(dAtten\x20<\x20'+'0.00001)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20evaluate\x20'+'area\x20light'+'\x20values\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHAPE\x20=='+'\x20RECT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcRectLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#elif\x20LIG'+'HT{i}SHAPE'+'\x20==\x20DISK\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20calcDiskL'+'ightValues'+'(uniform.l'+'ight{i}_po'+'sition,\x20un'+'iform.ligh'+'t{i}_halfW'+'idth,\x20unif'+'orm.light{'+'i}_halfHei'+'ght);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20SPH'+'ERE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20calc'+'SphereLigh'+'tValues(un'+'iform.ligh'+'t{i}_posit'+'ion,\x20unifo'+'rm.light{i'+'}_halfWidt'+'h,\x20uniform'+'.light{i}_'+'halfHeight'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20dif'+'fuse\x20light'+'ing\x20-\x20LTC\x20'+'lights\x20do\x20'+'not\x20mix\x20di'+'ffuse\x20ligh'+'ting\x20into\x20'+'attenuatio'+'n\x20that\x20aff'+'ects\x20specu'+'lar\x0a\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'SHAPE\x20!=\x20P')+('UNCTUAL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'attenDiffu'+'se\x20-\x20separ'+'ate\x20diffus'+'e\x20attenuat'+'ion\x20for\x20no'+'n-punctual'+'\x20light\x20sou'+'rces\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}TYPE'+'\x20==\x20DIRECT'+'IONAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20NB:\x20A\x20bet'+'ter\x20approx'+'imation\x20pe'+'rhaps\x20usin'+'g\x20wrap\x20lig'+'hting\x20coul'+'d\x20be\x20imple'+'mented\x20her'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20at'+'tenDiffuse'+':\x20f32\x20=\x20ge'+'tLightDiff'+'use(litArg'+'s_worldNor'+'mal,\x20dView'+'DirW,\x20dLig'+'htDirNormW'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x2016.0\x20is\x20'+'a\x20constant'+'\x20that\x20is\x20i'+'n\x20getFallo'+'ffInvSquar'+'ed()\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20==\x20RE'+'CT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20attenDi'+'ffuse:\x20f32'+'\x20=\x20getRect'+'LightDiffu'+'se(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20light'+'DirW,\x20dLig'+'htDirNormW'+')\x20*\x2016.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20DISK\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'attenDiffu'+'se:\x20f32\x20=\x20'+'getDiskLig'+'htDiffuse('+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20lightDir'+'W,\x20dLightD'+'irNormW)\x20*'+'\x2016.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'elif\x20LIGHT'+'{i}SHAPE\x20='+'=\x20SPHERE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20a'+'ttenDiffus'+'e:\x20f32\x20=\x20g'+'etSphereLi'+'ghtDiffuse'+'(litArgs_w'+'orldNormal'+',\x20dViewDir'+'W,\x20lightDi'+'rW,\x20dLight'+'DirNormW)\x20'+'*\x2016.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20one\x20par'+'ameter\x20is\x20'+'unused\x20for')+('\x20punctual\x20'+'lights\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20dAtte'+'n\x20=\x20dAtten'+'\x20*\x20getLigh'+'tDiffuse(l'+'itArgs_wor'+'ldNormal,\x20'+'vec3(0.0),'+'\x20dLightDir'+'NormW);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20app'+'ly\x20the\x20sha'+'dow\x20attenu'+'ation\x0a\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}CASTS'+'HADOW\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20shadow:'+'\x20f32\x20=\x20get'+'Shadow{i}('+'vec3(0.0))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20shadow:\x20'+'f32\x20=\x20getS'+'hadow{i}(l'+'ightDirW);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20Ap'+'ply\x20shadow'+'\x20intensity'+'\x20to\x20the\x20sh'+'adow\x20value'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20s'+'hadow\x20=\x20mi'+'x(1.0,\x20sha'+'dow,\x20unifo'+'rm.light{i'+'}_shadowIn'+'tensity);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Atten\x20=\x20dA'+'tten\x20*\x20sha'+'dow;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(LIT_'+'SHADOW_CAT'+'CHER)\x20&&\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC'+'TIONAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20accumula'+'te\x20shadows'+'\x20for\x20direc'+'tional\x20lig'+'hts\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dSha'+'dowCatcher'+'\x20=\x20dShadow'+'Catcher\x20*\x20'+'shadow;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20area\x20li'+'ght\x20-\x20they'+'\x20do\x20not\x20mi'+'x\x20diffuse\x20'+'lighting\x20i'+'nto\x20specul'+'ar\x20attenua'+'tion\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((('+'attenDiffu'+'se\x20*\x20dAtte'+'n)\x20*\x20light'+'Color)\x20*\x20('+'1.0\x20-\x20dLTC'+'SpecFres))')+(';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'((attenDif'+'fuse\x20*\x20dAt'+'ten)\x20*\x20lig'+'htColor);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'punctual\x20l'+'ight\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20def'+'ined(AREA_'+'LIGHTS)\x20&&'+'\x20defined(L'+'IT_SPECULA'+'R)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dDiff'+'useLight\x20='+'\x20dDiffuseL'+'ight\x20+\x20((d'+'Atten\x20*\x20li'+'ghtColor)\x20'+'*\x20(1.0\x20-\x20l'+'itArgs_spe'+'cularity))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dD'+'iffuseLigh'+'t\x20=\x20dDiffu'+'seLight\x20+\x20'+'(dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20spe'+'cular\x20ligh'+'ting\x0a\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}AFFECT'+'_SPECULARI'+'TY\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x20//\x20area\x20'+'light\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20==\x20REC'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getRe'+'ctLightSpe'+'cular(litA'+'rgs_clearc'+'oat_worldN'+'ormal,\x20dVi'+'ewDirW)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lif\x20LIGHT{'+'i}SHAPE\x20=='+'\x20DISK\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccSp'+'ecularLigh'+'t\x20=\x20ccSpec'+'ularLight\x20'+'+\x20(ccLTCSp'+'ecFres\x20*\x20g'+'etDiskLigh'+'tSpecular('+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20dViewDirW'+')\x20*\x20dAtten'+'\x20*\x20lightCo'+'lor);\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#elif\x20LI'+'GHT{i}SHAP'+'E\x20==\x20SPHER'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20ccSpecul'+'arLight\x20=\x20'+'ccSpecular'+'Light\x20+\x20(c'+'cLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_clea'+'rcoat_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'SPECULAR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'PE\x20==\x20RECT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dSpecular'+'Light\x20=\x20dS'+'pecularLig'+'ht\x20+\x20(dLTC'+'SpecFres\x20*'+'\x20getRectLi'+'ghtSpecula'+'r(litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW)\x20*\x20dAtt'+'en\x20*\x20light'+'Color);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#elif\x20'+'LIGHT{i}SH'+'APE\x20==\x20DIS'+'K\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dSpecula'+'rLight\x20=\x20d'+'SpecularLi'+'ght\x20+\x20(dLT'+'CSpecFres\x20'+'*\x20getDiskL'+'ightSpecul'+'ar(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW)\x20*\x20dAt'+'ten\x20*\x20ligh'+'tColor);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#elif'+'\x20LIGHT{i}S'+'HAPE\x20==\x20SP'+'HERE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dSpec'+'ularLight\x20'+'=\x20dSpecula'+'rLight\x20+\x20('+'dLTCSpecFr'+'es\x20*\x20getSp'+'hereLightS'+'pecular(li'+'tArgs_worl'+'dNormal,\x20d'+'ViewDirW)\x20'+'*\x20dAtten\x20*'+'\x20lightColo'+'r);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x20//\x20punctu'+'al\x20light\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20is\x20fr'+'esnel\x20need'+'ed\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}TYP'+'E\x20==\x20DIREC')+('TIONAL\x20&&\x20'+'LIT_FRESNE'+'L_MODEL\x20!='+'\x20NONE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'LIGHT{i}FR'+'ESNEL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ha'+'lfDirW:\x20ve'+'c3f\x20=\x20norm'+'alize(-dLi'+'ghtDirNorm'+'W\x20+\x20dViewD'+'irW);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20if\x20LTC\x20li'+'ghts\x20are\x20p'+'resent,\x20sp'+'ecular\x20mus'+'t\x20be\x20accum'+'ulated\x20wit'+'h\x20specular'+'ity\x20(specu'+'larity\x20is\x20'+'pre\x20multip'+'lied\x20by\x20pu'+'nctual\x20lig'+'ht\x20fresnel'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20light'+'specularCC'+':\x20vec3f\x20=\x20'+'getLightSp'+'ecular(hal'+'fDirW,\x20ccR'+'eflDirW,\x20l'+'itArgs_cle'+'arcoat_wor'+'ldNormal,\x20'+'dViewDirW,'+'\x20dLightDir'+'NormW,\x20lit'+'Args_clear'+'coat_gloss'+',\x20dTBN)\x20*\x20'+'dAtten\x20*\x20l'+'ightColor;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'lightspecu'+'larCC\x20=\x20li'+'ghtspecula'+'rCC\x20*\x20getF'+'resnelCC(d'+'ot(dViewDi'+'rW,\x20halfDi'+'rW));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20ccSpe'+'cularLight'+'\x20=\x20ccSpecu'+'larLight\x20+'+'\x20lightspec'+'ularCC;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20sSpecul'+'arLight\x20=\x20'+'sSpecularL'+'ight\x20+\x20(ge'+'tLightSpec'+'ularSheen('+'halfDirW,\x20'+'litArgs_wo'+'rldNormal,'+'\x20dViewDirW'+',\x20dLightDi')+('rNormW,\x20li'+'tArgs_shee'+'n_gloss)\x20*'+'\x20dAtten\x20*\x20'+'lightColor'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20ligh'+'tSpecular:'+'\x20vec3f\x20=\x20g'+'etLightSpe'+'cular(half'+'DirW,\x20dRef'+'lDirW,\x20lit'+'Args_world'+'Normal,\x20dV'+'iewDirW,\x20d'+'LightDirNo'+'rmW,\x20litAr'+'gs_gloss,\x20'+'dTBN)\x20*\x20dA'+'tten\x20*\x20lig'+'htColor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIGHT{i}'+'FRESNEL\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_IRIDE'+'SCENCE)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20lightSpe'+'cular\x20=\x20li'+'ghtSpecula'+'r\x20*\x20getFre'+'snel(dot(d'+'ViewDirW,\x20'+'halfDirW),'+'\x20litArgs_g'+'loss,\x20litA'+'rgs_specul'+'arity,\x20iri'+'descenceFr'+'esnel,\x20lit'+'Args_iride'+'scence_int'+'ensity);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'ightSpecul'+'ar\x20=\x20light'+'Specular\x20*'+'\x20getFresne'+'l(dot(dVie'+'wDirW,\x20hal'+'fDirW),\x20li'+'tArgs_glos'+'s,\x20litArgs'+'_speculari'+'ty);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20light'+'Specular\x20='+'\x20lightSpec'+'ular\x20*\x20lit'+'Args_specu'+'larity;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20+\x20li'+'ghtSpecula'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'#endif\x0a'),SD='\x0a\x0a//\x20shado'+'w\x20casting\x20'+'functional'+'ity\x0a#ifdef'+'\x20LIGHT{i}C'+'ASTSHADOW\x0a'+'\x0a\x20\x20\x20\x20//\x20ge'+'nerate\x20sha'+'dow\x20coordi'+'nates\x20func'+'tion,\x20base'+'d\x20on\x20per\x20l'+'ight\x20defin'+'es:\x0a\x20\x20\x20\x20//'+'\x20-\x20_SHADOW'+'_SAMPLE_NO'+'RMAL_OFFSE'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_ORTH'+'O\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_POIN'+'T\x0a\x20\x20\x20\x20//\x20-'+'\x20_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20fn\x20ge'+'tShadowSam'+'pleCoord{i'+'}(shadowTr'+'ansform:\x20m'+'at4x4f,\x20sh'+'adowParams'+':\x20vec4f,\x20w'+'orldPositi'+'on:\x20vec3f,'+'\x20lightPos:'+'\x20vec3f,\x20li'+'ghtDir:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'lightDirNo'+'rm:\x20vec3f,'+'\x20normal:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'surfacePos'+'ition\x20=\x20wo'+'rldPositio'+'n;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IGHT{i}_SH'+'ADOW_SAMPL'+'E_POINT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_SAMPLE_'+'NORMAL_OFF'+'SET\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20distSc'+'ale:\x20f32\x20='+'\x20length(*l'+'ightDir);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20surf'+'acePositio'+'n\x20=\x20surfac'+'ePosition\x20'+'+\x20normal\x20*'+'\x20shadowPar'+'ams.y\x20*\x20cl'+'amp(1.0\x20-\x20'+'dot(normal'+',\x20-lightDi'+'rNorm),\x200.'+'0,\x201.0)\x20*\x20'+'distScale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20*li'+'ghtDir\x20=\x20s'+'urfacePosi'+'tion\x20-\x20lig'+'htPos;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'*lightDir;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT{i'+'}_SHADOW_S'+'AMPLE_SOUR'+'CE_ZBUFFER'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIGHT{'+'i}_SHADOW_'+'SAMPLE_NOR'+'MAL_OFFSET'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20s'+'urfacePosi'+'tion\x20+\x20nor'+'mal\x20*\x20shad'+'owParams.y'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIGH'+'T{i}_SHADO'+'W_SAMPLE_N'+'ORMAL_OFFS'+'ET\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_SAMP'+'LE_ORTHO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dis'+'tScale:\x20f3'+'2\x20=\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20distSca'+'le:\x20f32\x20=\x20'+'abs(dot(vP'+'ositionW\x20-'+'\x20lightPos,'+'\x20lightDirN'+'orm));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20surfac'+'ePosition\x20'+'=\x20surfaceP'+'osition\x20+\x20'+'normal\x20*\x20s'+'hadowParam'+'s.y\x20*\x20clam'+'p(1.0\x20-\x20do'+'t(normal,\x20'+'-lightDirN'+'orm),\x200.0,'+'\x201.0)\x20*\x20di'+'stScale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Use'+'\x20var\x20for\x20m'+'odificatio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20po'+'sitionInSh'+'adowSpace:'+'\x20vec4f\x20=\x20s'+'hadowTrans'+'form\x20*\x20vec'+'4f(surface'+'Position,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIGHT'+'{i}_SHADOW'+'_SAMPLE_OR'+'THO\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'positionIn'+'ShadowSpac'+'e.z\x20=\x20satu'+'rate(posit'+'ionInShado'+'wSpace.z)\x20'+'-\x200.0001;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIGHT{i}_'+'SHADOW_SAM')+('PLE_SOURCE'+'_ZBUFFER\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20p'+'ositionInS'+'hadowSpace'+'.xyz\x20=\x20pos'+'itionInSha'+'dowSpace.x'+'yz\x20/\x20posit'+'ionInShado'+'wSpace.w;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20position'+'InShadowSp'+'ace.xy\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xy\x20/\x20posi'+'tionInShad'+'owSpace.w;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20positionI'+'nShadowSpa'+'ce.z\x20=\x20len'+'gth(*light'+'Dir)\x20*\x20sha'+'dowParams.'+'w;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20this\x20is\x20c'+'urrently\x20u'+'nused\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SHADO'+'W_SAMPLE_Z'+'_BIAS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20posit'+'ionInShado'+'wSpace.z\x20+'+'=\x20getShado'+'wBias(shad'+'owParams.x'+',\x20shadowPa'+'rams.z);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20surfacePo'+'sition\x20=\x20p'+'ositionInS'+'hadowSpace'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20sur'+'facePositi'+'on;\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20sh'+'adow\x20evalu'+'ation\x20func'+'tion\x0a\x20\x20\x20\x20f'+'n\x20getShado'+'w{i}(light'+'DirW_in:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20s'+'hadow\x20casc'+'ades\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIGHT{i}_S'+'HADOW_CASC'+'ADES\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20select\x20sh'+'adow\x20casca'+'de\x20matrix\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20casc'+'adeIndex:\x20'+'i32\x20=\x20getS'+'hadowCasca'+'deIndex(un'+'iform.ligh'+'t{i}_shado'+'wCascadeDi'+'stances,\x20u'+'niform.lig'+'ht{i}_shad')+('owCascadeC'+'ount);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIG'+'HT{i}_SHAD'+'OW_CASCADE'+'_BLEND\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20cascade'+'Index\x20=\x20di'+'therShadow'+'CascadeInd'+'ex(cascade'+'Index,\x20uni'+'form.light'+'{i}_shadow'+'CascadeDis'+'tances,\x20un'+'iform.ligh'+'t{i}_shado'+'wCascadeCo'+'unt,\x20unifo'+'rm.light{i'+'}_shadowCa'+'scadeBlend'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowMatri'+'x:\x20mat4x4f'+'\x20=\x20uniform'+'.light{i}_'+'shadowMatr'+'ixPalette['+'cascadeInd'+'ex];\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20sha'+'dowMatrix:'+'\x20mat4x4f\x20='+'\x20uniform.l'+'ight{i}_sh'+'adowMatrix'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20lightDirA'+'rg\x20=\x20light'+'DirW_in;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20LIGHT{i}'+'TYPE\x20==\x20DI'+'RECTIONAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20direc'+'tional\x20lig'+'ht\x20does\x20no'+'t\x20have\x20a\x20p'+'osition\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'Coord:\x20vec'+'3f\x20=\x20getSh'+'adowSample'+'Coord{i}(s'+'hadowMatri'+'x,\x20uniform'+'.light{i}_'+'shadowPara'+'ms,\x20vPosit'+'ionW,\x20vec3'+'f(0.0),\x20&l'+'ightDirArg'+',\x20dLightDi'+'rNormW,\x20dV'+'ertexNorma'+'lW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owCoord:\x20v'+'ec3f\x20=\x20get'+'ShadowSamp'+'leCoord{i}'+'(shadowMat'+'rix,\x20unifo'+'rm.light{i'+'}_shadowPa'+'rams,\x20vPos'+'itionW,\x20un'+'iform.ligh'+'t{i}_posit'+'ion,\x20&ligh'+'tDirArg,\x20d'+'LightDirNo'+'rmW,\x20dVert'+'exNormalW)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('#endif\x0a\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Fade\x20direc'+'tional\x20sha'+'dow\x20at\x20the'+'\x20far\x20dista'+'nce\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20shad'+'owCoord\x20=\x20'+'fadeShadow'+'(shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowCas'+'cadeDistan'+'ces);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20-----\x20s'+'ample\x20the\x20'+'shadow\x20---'+'--\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}TYPE\x20='+'=\x20DIRECTIO'+'NAL\x20//\x20---'+'--\x20directi'+'onal\x20light'+'\x20-----\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20VSM_'+'16F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowVSM1'+'6(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s,\x205.54);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20VS'+'M_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowVS'+'M32(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x2015.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'APE\x20!=\x20PUN'+'CTUAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'shadowSear'+'chArea\x20=\x20v'+'ec2f(lengt'+'h(uniform.'+'light{i}_h'+'alfWidth),'+'\x20length(un'+'iform.ligh'+'t{i}_halfH'+'eight))\x20*\x20'+'uniform.li'+'ght{i}_sha'+'dowSearchA'+'rea;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wPCSS(ligh'+'t{i}_shado'+'wMap,\x20ligh'+'t{i}_shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20unif'+'orm.light{'+'i}_shadowP'+'arams,\x20uni'+'form.light'+'{i}_camera'+'Params,\x20sh'+'adowSearch'+'Area,\x20ligh'+'tDirW_in);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'getShadowP'+'CSS(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams,\x20unifo'+'rm.light{i'+'}_cameraPa'+'rams,\x20unif'+'orm.light{'+'i}_softSha'+'dowParams,'+'\x20lightDirW'+'_in);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHADOW'+'TYPE\x20==\x20PC'+'F1_16F\x20||\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF1_32F'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20getSha'+'dowPCF1x1('+'light{i}_s'+'hadowMap,\x20'+'light{i}_s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'uniform.li'+'ght{i}_sha'+'dowParams)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCF3_16F\x20|'+'|\x20LIGHT{i}'+'SHADOWTYPE'+'\x20==\x20PCF3_3'+'2F\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20getS'+'hadowPCF3x'+'3(light{i}'+'_shadowMap'+',\x20light{i}'+'_shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20uniform.'+'light{i}_s'+'hadowParam'+'s);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'LIGHT{i}SH'+'ADOWTYPE\x20='+'=\x20PCF5_16F'+'\x20||\x20LIGHT{'+'i}SHADOWTY'+'PE\x20==\x20PCF5')+('_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ge'+'tShadowPCF'+'5x5(light{'+'i}_shadowM'+'ap,\x20light{'+'i}_shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20unifor'+'m.light{i}'+'_shadowPar'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}TYPE\x20=='+'\x20SPOT\x20//\x20-'+'----\x20spot\x20'+'light\x20----'+'-\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_16F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM16'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x205.54,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getShado'+'wSpotVSM32'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x2015.0,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCSS_32F\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20LIGHT{i}S'+'HAPE\x20!=\x20PU'+'NCTUAL\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f\x20=\x20vec'+'2f(length('+'uniform.li'+'ght{i}_hal'+'fWidth),\x20l'+'ength(unif'+'orm.light{'+'i}_halfHei'+'ght))\x20*\x20un'+'iform.ligh'+'t{i}_shado'+'wSearchAre'+'a;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20s'+'hadowSearc'+'hArea:\x20vec')+('2f\x20=\x20vec2f'+'(uniform.l'+'ight{i}_sh'+'adowSearch'+'Area);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCSS'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+',\x20uniform.'+'light{i}_c'+'ameraParam'+'s,\x20shadowS'+'earchArea,'+'\x20lightDirW'+'_in);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'16F\x20||\x20LIG'+'HT{i}SHADO'+'WTYPE\x20==\x20P'+'CF1_32F\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20getShadow'+'SpotPCF1x1'+'(light{i}_'+'shadowMap,'+'\x20light{i}_'+'shadowMapS'+'ampler,\x20sh'+'adowCoord,'+'\x20uniform.l'+'ight{i}_sh'+'adowParams'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowSpot'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIGHT'+'{i}SHADOWT'+'YPE\x20==\x20PCF'+'5_16F\x20||\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF5_32F\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20getShad'+'owSpotPCF5'+'x5(light{i'+'}_shadowMa'+'p,\x20light{i'+'}_shadowMa'+'pSampler,\x20'+'shadowCoor'+'d,\x20uniform'+'.light{i}_'+'shadowPara'+'ms);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20')+('\x20\x20\x20#endif\x0a'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20LIGHT{'+'i}TYPE\x20==\x20'+'OMNI\x20//\x20--'+'---\x20omni\x20l'+'ight\x20-----'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT{i}SHAD'+'OWTYPE\x20==\x20'+'PCSS_32F\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadowSea'+'rchArea:\x20v'+'ec2f;\x20//\x20U'+'se\x20var\x20bec'+'ause\x20assig'+'ned\x20in\x20if/'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIGH'+'T{i}SHAPE\x20'+'!=\x20PUNCTUA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20shad'+'owSearchAr'+'ea:\x20vec2f\x20'+'=\x20vec2f(le'+'ngth(unifo'+'rm.light{i'+'}_halfWidt'+'h),\x20length'+'(uniform.l'+'ight{i}_ha'+'lfHeight))'+'\x20*\x20uniform'+'.light{i}_'+'shadowSear'+'chArea;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20shadow'+'SearchArea'+':\x20vec2f\x20=\x20'+'vec2f(unif'+'orm.light{'+'i}_shadowS'+'earchArea)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCSS(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20un'+'iform.ligh'+'t{i}_camer'+'aParams,\x20s'+'hadowSearc'+'hArea,\x20lig'+'htDirW_in)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF1_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF1_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF1x1(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in')+(');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20L'+'IGHT{i}SHA'+'DOWTYPE\x20=='+'\x20PCF3_16F\x20'+'||\x20LIGHT{i'+'}SHADOWTYP'+'E\x20==\x20PCF3_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20get'+'ShadowOmni'+'PCF3x3(lig'+'ht{i}_shad'+'owMap,\x20lig'+'ht{i}_shad'+'owMapSampl'+'er,\x20shadow'+'Coord,\x20uni'+'form.light'+'{i}_shadow'+'Params,\x20li'+'ghtDirW_in'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20}\x0a\x0a#endi'+'f\x0a'),yD='\x0a\x0a#ifdef\x20L'+'IT_CLUSTER'+'ED_LIGHTS\x0a'+'\x20\x20\x20\x20//\x20all'+'\x20this\x20func'+'tionality\x20'+'that\x20needs'+'\x20to\x20be\x20inc'+'luded\x20for\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20#define'+'\x20LIT_CODE_'+'FALLOFF_LI'+'NEAR\x0a\x20\x20\x20\x20#'+'define\x20LIT'+'_CODE_FALL'+'OFF_SQUARE'+'D\x0a\x20\x20\x20\x20#def'+'ine\x20LIT_CO'+'DE_LIGHTS_'+'POINT\x0a\x20\x20\x20\x20'+'#define\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a#'+'endif\x0a\x0a#if'+'def\x20AREA_L'+'IGHTS\x0a\x20\x20\x20\x20'+'var\x20areaLi'+'ghtsLutTex'+'1:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20areaLight'+'sLutTex2:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20areaL'+'ightsLutTe'+'x2Sampler:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_L'+'IGHTING\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22lightDif'+'fuseLamber'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'//\x20area\x20li'+'ghts\x0a\x20\x20\x20\x20#'+'if\x20defined'+'(AREA_LIGH'+'TS)\x20||\x20def'+'ined(LIT_C'+'LUSTERED_A'+'REA_LIGHTS'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'ltcPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#ifd'+'ef\x20SHADOW_'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owCascades'+'PS\x22\x0a#endif'+'\x0a\x0a#if\x20defi'+'ned(SHADOW'+'_KIND_PCF1'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owPCF1PS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20defined('+'SHADOW_KIN'+'D_PCF3)\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22shadowPC'+'F3PS\x22\x0a#end'+'if\x0a\x0a#if\x20de'+'fined(SHAD'+'OW_KIND_PC'+'F5)\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22sh'+'adowPCF5PS'+'\x22\x0a#endif\x0a\x0a'+'#if\x20define'+'d(SHADOW_K'+'IND_PCSS)\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22linear'+'izeDepthPS'+'\x22\x0a\x0a\x20\x20\x20\x20//\x20'+'omni\x20/\x20spo'+'t\x20PCSS\x20is\x20'+('not\x20suppor'+'ted\x20on\x20Web'+'GPU\x20curren'+'tly,\x20as\x20th'+'is\x20is\x20only'+'\x20for\x20non-c'+'lustered\x20l'+'ights\x0a\x20\x20\x20\x20'+'//\x20#includ'+'e\x20\x22shadowP'+'CSSPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22shadowSof'+'tPS\x22\x0a#endi'+'f\x0a\x0a#if\x20def'+'ined(SHADO'+'W_KIND_VSM'+')\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22shad'+'owEVSMPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22falloff'+'LinearPS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_C'+'ODE_FALLOF'+'F_SQUARED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fallof'+'fInvSquare'+'dPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_CODE_L'+'IGHTS_POIN'+'T\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tDirPointP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_CODE_LIG'+'HTS_SPOT\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22spotPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'CODE_COOKI'+'E\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22cook'+'iePS\x22\x0a#end'+'if\x0a\x0a//\x20clu'+'stered\x20lig'+'hting\x0a#ifd'+'ef\x20LIT_CLU'+'STERED_LIG'+'HTS\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22cl'+'usteredLig'+'htPS\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIGHT_COU'+'NT\x20>\x200\x0a\x20\x20\x20'+'\x20//\x20LOOP\x20-'+'\x20generate\x20'+'shadow\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionShadow'+'PS,\x20LIGHT_'+'COUNT\x22\x0a\x0a\x20\x20'+'\x20\x20//\x20LOOP\x20'+'-\x20generate'+'\x20light\x20eva'+'luation\x20fu'+'nctions\x20fo'+'r\x20all\x20non-'+'clustered\x20'+'lights\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightFunc'+'tionLightP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a'),vD='\x0afn\x20addLig'+'htMap(\x0a\x20\x20\x20'+'\x20lightmap:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20dir:\x20vec'+'3f,\x0a\x20\x20\x20\x20wo'+'rldNormal:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20viewDir:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20reflecti'+'onDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20ve'+'rtexNormal'+':\x20vec3f,\x0a\x20'+'\x20\x20\x20tbn:\x20ma'+'t3x3f\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel:'+'\x20vec3f,\x0a\x20\x20'+'\x20\x20iridesce'+'nceIntensi'+'ty:\x20f32\x0a#e'+'ndif\x0a)\x20{\x0a\x0a'+'\x20\x20\x20\x20//\x20dir'+'ectional\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20#if\x20defi'+'ned(LIT_SP'+'ECULAR)\x20&&'+'\x20defined(L'+'IT_DIR_LIG'+'HTMAP)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20if\x20('+'dot(dir,\x20d'+'ir)\x20<\x200.00'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dDiffuse'+'Light\x20=\x20dD'+'iffuseLigh'+'t\x20+\x20lightm'+'ap;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20vli'+'ght:\x20f32\x20='+'\x20saturate('+'dot(dir,\x20-'+'vertexNorm'+'al));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20flight:\x20'+'f32\x20=\x20satu'+'rate(dot(d'+'ir,\x20-world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20nlig'+'ht:\x20f32\x20=\x20'+'(flight\x20/\x20'+'max(vlight'+',\x200.01))\x20*'+'\x200.5;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'DiffuseLig'+'ht\x20=\x20dDiff'+'useLight\x20+'+'\x20lightmap\x20'+'*\x20nlight\x20*'+'\x202.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20halfDir'+':\x20vec3f\x20=\x20'+'normalize('+'-dir\x20+\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20specula'+'rLight:\x20ve'+'c3f\x20=\x20ligh'+'tmap\x20*\x20get'+'LightSpecu'+'lar(halfDi'+'r,\x20reflect'+'ionDir,\x20wo'+'rldNormal,'+'\x20viewDir,\x20'+'dir,\x20gloss'+',\x20tbn);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+('_FRESNEL\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'ularLight\x20'+'=\x20specular'+'Light\x20*\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(d'+'ot(viewDir'+',\x20halfDir)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20gloss,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20s'+'pecularity'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_IRIDESC'+'ENCE)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20,\x20ir'+'idescenceF'+'resnel,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ir'+'idescenceI'+'ntensity\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20+'+'\x20specularL'+'ight;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'non-direct'+'ional\x20ligh'+'tmap\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20+\x20ligh'+'tmap;\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'),xD='\x0a\x0a#ifdef\x20S'+'TD_LIGHTMA'+'P_DIR\x0a\x20\x20\x20\x20'+'var<privat'+'e>\x20dLightm'+'apDir:\x20vec'+'3f;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'dirLightMa'+'p:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_dirL'+'ightMapSam'+'pler:\x20samp'+'ler;\x0a#endi'+'f\x0a\x0afn\x20getL'+'ightMap()\x20'+'{\x0a\x0a\x20\x20\x20\x20dLi'+'ghtmap\x20=\x20v'+'ec3f(1.0);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_TEXTURE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'Lightmap\x20='+'\x20dLightmap'+'\x20*\x20{STD_LI'+'GHT_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_LIGHT_T'+'EXTURE_NAM'+'E},\x20{STD_L'+'IGHT_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_LIGHT_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+')).{STD_LI'+'GHT_TEXTUR'+'E_CHANNEL}'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_LIGHTMAP'+'_DIR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20dir:\x20vec3'+'f\x20=\x20textur'+'eSampleBia'+'s(texture_'+'dirLightMa'+'p,\x20texture'+'_dirLightM'+'apSampler,'+'\x20{STD_LIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).xyz\x20'+'*\x202.0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20d'+'irDot\x20=\x20do'+'t(dir,\x20dir'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dLigh'+'tmapDir\x20=\x20'+'select(vec'+'3(0.0),\x20di'+'r\x20/\x20sqrt(d'+'irDot),\x20di'+'rDot\x20>\x200.0'+'01);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_LIG'+'HT_VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dL'+'ightmap\x20=\x20'+'dLightmap\x20'+'*\x20saturate'+'(vVertexCo'+'lor.{STD_L'+'IGHT_VERTE'+'X_CHANNEL}'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a',TD='\x0a//\x20Anisot'+'ropic\x20GGX\x0a'+'fn\x20calcLig'+'htSpecular'+'(gloss:\x20f3'+'2,\x20worldNo'+'rmal:\x20vec3'+'f,\x20viewDir'+':\x20vec3f,\x20h'+':\x20vec3f,\x20l'+'ightDirNor'+'m:\x20vec3f,\x20'+'tbn:\x20mat3x'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20PI:\x20f32\x20='+'\x203.1415926'+'53589793;\x0a'+'\x20\x20\x20\x20let\x20ro'+'ughness:\x20f'+'32\x20=\x20max(('+'1.0\x20-\x20glos'+'s)\x20*\x20(1.0\x20'+'-\x20gloss),\x20'+'0.001);\x0a\x20\x20'+'\x20\x20let\x20alph'+'aRoughness'+':\x20f32\x20=\x20ro'+'ughness\x20*\x20'+'roughness;'+'\x0a\x20\x20\x20\x20let\x20a'+'nisotropy:'+'\x20f32\x20=\x20dAn'+'isotropy;\x0a'+'\x20\x20\x20\x20let\x20di'+'rection:\x20v'+'ec2f\x20=\x20dAn'+'isotropyRo'+'tation;\x0a\x0a\x20'+'\x20\x20\x20let\x20at:'+'\x20f32\x20=\x20mix'+'(alphaRoug'+'hness,\x201.0'+',\x20anisotro'+'py\x20*\x20aniso'+'tropy);\x0a\x20\x20'+'\x20\x20let\x20ab:\x20'+'f32\x20=\x20clam'+'p(alphaRou'+'ghness,\x200.'+'001,\x201.0);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20NoH:\x20f32\x20'+'=\x20dot(worl'+'dNormal,\x20h'+');\x0a\x20\x20\x20\x20let'+'\x20ToH:\x20f32\x20'+'=\x20dot(anis'+'otropicT,\x20'+'h);\x0a\x20\x20\x20\x20le'+'t\x20BoH:\x20f32'+'\x20=\x20dot(ani'+'sotropicB,'+'\x20h);\x0a\x0a\x20\x20\x20\x20'+'let\x20a2:\x20f3'+'2\x20=\x20at\x20*\x20a'+'b;\x0a\x20\x20\x20\x20let'+'\x20v:\x20vec3f\x20'+'=\x20vec3f(ab'+'\x20*\x20ToH,\x20at'+'\x20*\x20BoH,\x20a2'+'\x20*\x20NoH);\x0a\x20'+'\x20\x20\x20let\x20v2:'+'\x20f32\x20=\x20dot'+'(v,\x20v);\x0a\x20\x20'+'\x20\x20let\x20w2:\x20'+'f32\x20=\x20a2\x20/'+'\x20v2;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20a2\x20*\x20w2\x20'+'*\x20w2\x20*\x20(1.'+'0\x20/\x20PI);\x0a\x0a'+'\x20\x20\x20\x20let\x20To'+'V:\x20f32\x20=\x20d'+'ot(anisotr'+'opicT,\x20vie'+('wDir);\x0a\x20\x20\x20'+'\x20let\x20BoV:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20viewDi'+'r);\x0a\x20\x20\x20\x20le'+'t\x20ToL:\x20f32'+'\x20=\x20dot(ani'+'sotropicT,'+'\x20-lightDir'+'Norm);\x0a\x20\x20\x20'+'\x20let\x20BoL:\x20'+'f32\x20=\x20dot('+'anisotropi'+'cB,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20let\x20No'+'V:\x20f32\x20=\x20d'+'ot(worldNo'+'rmal,\x20view'+'Dir);\x0a\x20\x20\x20\x20'+'let\x20NoL:\x20f'+'32\x20=\x20dot(w'+'orldNormal'+',\x20-lightDi'+'rNorm);\x0a\x0a\x20'+'\x20\x20\x20let\x20lam'+'bdaV:\x20f32\x20'+'=\x20NoL\x20*\x20le'+'ngth(vec3f'+'(at\x20*\x20ToV,'+'\x20ab\x20*\x20BoV,'+'\x20NoV));\x0a\x20\x20'+'\x20\x20let\x20lamb'+'daL:\x20f32\x20='+'\x20NoV\x20*\x20len'+'gth(vec3f('+'at\x20*\x20ToL,\x20'+'ab\x20*\x20BoL,\x20'+'NoL));\x0a\x20\x20\x20'+'\x20let\x20G:\x20f3'+'2\x20=\x200.5\x20/\x20'+'(lambdaV\x20+'+'\x20lambdaL);'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20D\x20*\x20G;\x0a'+'}\x0a\x0afn\x20getL'+'ightSpecul'+'ar(h:\x20vec3'+'f,\x20reflDir'+':\x20vec3f,\x20w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'DirNorm:\x20v'+'ec3f,\x20glos'+'s:\x20f32,\x20tb'+'n:\x20mat3x3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20calcLigh'+'tSpecular('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir,\x20h'+',\x20lightDir'+'Norm,\x20tbn)'+';\x0a}\x0a'),wD='\x0a//\x20Energy'+'-conservin'+'g\x20(hopeful'+'ly)\x20Blinn-'+'Phong\x0afn\x20c'+'alcLightSp'+'ecular(glo'+'ss:\x20f32,\x20w'+'orldNormal'+':\x20vec3f,\x20h'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20nh:\x20'+'f32\x20=\x20max('+'\x20dot(\x20h,\x20w'+'orldNormal'+'\x20),\x200.0\x20);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'specPow:\x20f'+'32\x20=\x20exp2('+'gloss\x20*\x2011'+'.0);\x20//\x20gl'+'ossiness\x20i'+'s\x20linear,\x20'+'power\x20is\x20n'+'ot;\x200\x20-\x2020'+'48\x0a\x0a\x20\x20\x20\x20//'+'\x20Hack:\x20On\x20'+'Mac\x20OS\x20X,\x20'+'calling\x20po'+'w\x20with\x20zer'+'o\x20for\x20the\x20'+'exponent\x20g'+'enerates\x20h'+'ideous\x20art'+'ifacts\x20so\x20'+'bias\x20up\x20a\x20'+'little\x0a\x20\x20\x20'+'\x20specPow\x20='+'\x20max(specP'+'ow,\x200.0001'+');\x0a\x0a\x20\x20\x20\x20re'+'turn\x20pow(n'+'h,\x20specPow'+')\x20*\x20(specP'+'ow\x20+\x202.0)\x20'+'/\x208.0;\x0a}\x0a\x0a'+'fn\x20getLigh'+'tSpecular('+'h:\x20vec3f,\x20'+'reflDir:\x20v'+'ec3f,\x20worl'+'dNormal:\x20v'+'ec3f,\x20view'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20tbn:\x20'+'mat3x3f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20c'+'alcLightSp'+'ecular(glo'+'ss,\x20worldN'+'ormal,\x20h);'+'\x0a}\x0a',ED='\x0a\x0afn\x20sheen'+'D(normal:\x20'+'vec3f,\x20h:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'PI:\x20f32\x20=\x20'+'3.14159265'+'3589793;\x0a\x20'+'\x20\x20\x20let\x20inv'+'R:\x20f32\x20=\x201'+'.0\x20/\x20(roug'+'hness\x20*\x20ro'+'ughness);\x0a'+'\x20\x20\x20\x20var\x20co'+'s2h:\x20f32\x20='+'\x20max(dot(n'+'ormal,\x20h),'+'\x200.0);\x0a\x20\x20\x20'+'\x20cos2h\x20=\x20c'+'os2h\x20*\x20cos'+'2h;\x0a\x20\x20\x20\x20le'+'t\x20sin2h:\x20f'+'32\x20=\x20max(1'+'.0\x20-\x20cos2h'+',\x200.007812'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20(2.0\x20'+'+\x20invR)\x20*\x20'+'pow(sin2h,'+'\x20invR\x20*\x200.'+'5)\x20/\x20(2.0\x20'+'*\x20PI);\x0a}\x0a\x0a'+'fn\x20sheenV('+'normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20light:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20max(dot'+'(normal,\x20v'+'iewDir),\x200'+'.000001);\x0a'+'\x20\x20\x20\x20let\x20No'+'L:\x20f32\x20=\x20m'+'ax(dot(nor'+'mal,\x20light'+'),\x200.00000'+'1);\x0a\x20\x20\x20\x20re'+'turn\x201.0\x20/'+'\x20(4.0\x20*\x20(N'+'oL\x20+\x20NoV\x20-'+'\x20NoL\x20*\x20NoV'+'));\x0a}\x0a\x0afn\x20'+'getLightSp'+'ecularShee'+'n(h:\x20vec3f'+',\x20worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f,\x20li'+'ghtDirNorm'+':\x20vec3f,\x20s'+'heenGloss:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20sheenD(w'+'orldNormal'+',\x20h,\x20sheen'+'Gloss);\x0a\x20\x20'+'\x20\x20let\x20V:\x20f'+'32\x20=\x20sheen'+'V(worldNor'+'mal,\x20viewD'+'ir,\x20-light'+'DirNorm);\x0a'+'\x20\x20\x20\x20return'+'\x20D\x20*\x20V;\x0a}',bD='\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a#def'+'ine\x20LINEAR'+'IZE_DEPTH\x0a'+'\x0afn\x20linear'+'izeDepthWi'+'thParams(z'+':\x20f32,\x20cam'+'eraParams:'+'\x20vec4f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20if\x20(camer'+'aParams.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(came'+'raParams.z'+'\x20*\x20cameraP'+'arams.y)\x20/'+'\x20(cameraPa'+'rams.y\x20+\x20z'+'\x20*\x20(camera'+'Params.z\x20-'+'\x20cameraPar'+'ams.y));\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20cam'+'eraParams.'+'z\x20+\x20z\x20*\x20(c'+'ameraParam'+'s.y\x20-\x20came'+'raParams.z'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0a#ifndef\x20'+'CAMERAPLAN'+'ES\x0a\x20\x20\x20\x20#de'+'fine\x20CAMER'+'APLANES\x0a\x20\x20'+'\x20\x20uniform\x20'+'camera_par'+'ams:\x20vec4f'+';\x20\x20\x20//\x20x:\x20'+'1\x20/\x20camera'+'_far,\x20\x20\x20\x20\x20'+'\x20y:\x20camera'+'_far,\x20\x20\x20\x20\x20'+'z:\x20camera_'+'near,\x20\x20\x20\x20\x20'+'\x20\x20\x20w:\x20is_o'+'rtho\x0a#endi'+'f\x0a\x0afn\x20line'+'arizeDepth'+'(z:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pthWithPar'+'ams(z,\x20uni'+'form.camer'+'a_params);'+'\x0a}\x0a#endif\x20'+'//\x20LINEARI'+'ZE_DEPTH\x0a',AD='\x0afn\x20evalua'+'teBackend('+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'//\x20apply\x20S'+'SAO\x20during'+'\x20lighting\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SSAO\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_ao\x20='+'\x20litArgs_a'+'o\x20*\x20textur'+'eSampleLev'+'el(ssaoTex'+'ture,\x20ssao'+'TextureSam'+'pler,\x20pcPo'+'sition.xy\x20'+'*\x20uniform.'+'ssaoTextur'+'eSizeInv,\x20'+'0.0).r;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nsform\x20tan'+'gent\x20space'+'\x20normals\x20t'+'o\x20world\x20sp'+'ace\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_N'+'EEDS_NORMA'+'L\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULAR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getReflD'+'ir(litArgs'+'_worldNorm'+'al,\x20dViewD'+'irW,\x20litAr'+'gs_gloss,\x20'+'dTBN);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'DirW\x20=\x20nor'+'malize(-re'+'flect(dVie'+'wDirW,\x20lit'+'Args_clear'+'coat_world'+'Normal));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_METALN'+'ESS\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'f0:\x20f32\x20=\x20'+'1.0\x20/\x20litA'+'rgs_ior;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20f0\x20=\x20(f0\x20'+'-\x201.0)\x20/\x20('+'f0\x20+\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20f0\x20=\x20f0'+'\x20*\x20f0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_spe'+'cularity\x20='+'\x20getSpecul'+'arModulate'+'(litArgs_s'+'pecularity'+',\x20litArgs_'+'albedo,\x20li'+'tArgs_meta'+'lness,\x20f0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_albedo\x20='+'\x20getAlbedo'+'Modulate(l'+'itArgs_alb'+'edo,\x20litAr'+'gs_metalne'+('ss);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20ir'+'idescenceF'+'resnel:\x20ve'+'c3f\x20=\x20getI'+'ridescence'+'Diffractio'+'n(saturate'+'(dot(dView'+'DirW,\x20litA'+'rgs_worldN'+'ormal)),\x20l'+'itArgs_spe'+'cularity,\x20'+'litArgs_ir'+'idescence_'+'thickness)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20ambi'+'ent\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'DD_AMBIENT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddAmbient('+'litArgs_wo'+'rldNormal)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dDiffus'+'eLight\x20=\x20d'+'DiffuseLig'+'ht\x20*\x20(1.0\x20'+'-\x20litArgs_'+'specularit'+'y);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20move\x20ambi'+'ent\x20color\x20'+'out\x20of\x20dif'+'fuse\x20(used'+'\x20by\x20Lightm'+'apper,\x20to\x20'+'multiply\x20a'+'mbient\x20col'+'or\x20by\x20accu'+'mulated\x20AO'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SEPARATE_'+'AMBIENT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20dAmbie'+'ntLight:\x20v'+'ec3f\x20=\x20dDi'+'ffuseLight'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'vec3(0.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LIT_OLD_AM'+'BIENT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'dDiffuseLi'+'ght\x20*\x20unif'+'orm.materi'+'al_ambient'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_A'+'O\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifndef\x20LI'+'T_OCCLUDE_'+'DIRECT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeDiff'+'use(litArg'+'s_ao);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTMAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20addL'+'ightMap(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20litArgs_l'+'ightmap,\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmapDi'+'r,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_worldN'+'ormal,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dViewDirW,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dReflD'+'irW,\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_glos'+'s,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_specul'+'arity,\x20\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dVertexNor'+'malW,\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'BN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(LIT_IRI'+'DESCENCE)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20,\x20irides'+'cenceFresn'+'el,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_irides'+'cence_inte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20LIT_L'+'IGHTING\x20||'+'\x20LIT_REFLE'+'CTIONS\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'LECTIONS\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_CLEARCO'+'AT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20a'+'ddReflecti'+'onCC(ccRef'+'lDirW,\x20lit'+'Args_clear'+'coat_gloss'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SPECULA'+'R_FRESNEL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'ccFresnel\x20'+'=\x20getFresn'+'elCC(dot(d'+'ViewDirW,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20ccRefle'+'ction\x20=\x20cc'+'Reflection'+'\x20*\x20ccFresn'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20ccFr'+'esnel\x20=\x200.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20ccRefl'+'ection\x20=\x20c'+'cReflectio'+'n\x20*\x20litArg'+'s_specular'+'ityFactor;')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20addR'+'eflectionS'+'heen(litAr'+'gs_worldNo'+'rmal,\x20dVie'+'wDirW,\x20lit'+'Args_sheen'+'_gloss);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20Fresne'+'l\x20has\x20to\x20b'+'e\x20applied\x20'+'to\x20reflect'+'ions\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'Reflection'+'(dReflDirW'+',\x20litArgs_'+'gloss);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_FRESNEL_'+'MODEL\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction.rgb\x20'+'*\x20getFresn'+'el(\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20do'+'t(dViewDir'+'W,\x20litArgs'+'_worldNorm'+'al),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_glo'+'ss,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_spec'+'ularity\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20defined('+'LIT_IRIDES'+'CENCE)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dReflecti'+'on.a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'dReflectio'+'n.rgb\x20*\x20li'+'tArgs_spec'+'ularity,\x20d'+'Reflection'+'.a);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'PECULARITY'+'_FACTOR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20ve')+('c4f(dRefle'+'ction.rgb\x20'+'*\x20litArgs_'+'specularit'+'yFactor,\x20d'+'Reflection'+'.a);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20AREA'+'_LIGHTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'r\x20has\x20to\x20b'+'e\x20accumula'+'ted\x20differ'+'ently\x20if\x20w'+'e\x20want\x20are'+'a\x20lights\x20t'+'o\x20look\x20cor'+'rect\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dSp'+'ecularLigh'+'t\x20=\x20dSpecu'+'larLight\x20*'+'\x20litArgs_s'+'pecularity'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20evalua'+'te\x20materia'+'l\x20based\x20ar'+'ea\x20lights\x20'+'data,\x20shar'+'ed\x20by\x20all\x20'+'area\x20light'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ca'+'lcLTCLight'+'Values(lit'+'Args_gloss'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW,\x20litArg'+'s_specular'+'ity,\x20litAr'+'gs_clearco'+'at_gloss,\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_s'+'pecularity'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20LOO'+'P\x20-\x20evalua'+'te\x20all\x20non'+'-clustered'+'\x20lights\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22lightEval'+'uationPS,\x20'+'LIGHT_COUN'+'T\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clustered\x20'+'lighting\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_CL'+'USTERED_LI'+'GHTS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20add'+'ClusteredL'+'ights(litA'+'rgs_worldN'+'ormal,\x20dVi'+'ewDirW,\x20dR'+'eflDirW,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_CLEARCOAT'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20ccRe'+'flDirW,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'litArgs_sp'+'ecularity,'+'\x20dVertexNo'+'rmalW,\x20dTB'+'N,\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_cl'+'earcoat_wo'+'rldNormal,'+'\x20litArgs_c'+'learcoat_g'+'loss,\x20litA'+'rgs_sheen_'+'gloss,\x20lit'+'Args_iride'+'scence_int'+'ensity\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20AREA_LI'+'GHTS\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20sp'+'ecular\x20has'+'\x20to\x20be\x20acc'+'umulated\x20d'+'ifferently'+'\x20if\x20we\x20wan'+'t\x20area\x20lig'+'hts\x20to\x20loo'+'k\x20correct\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_clearc'+'oat_specul'+'arity\x20=\x201.'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SPEC'+'ULAR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20vec3(1.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_R'+'EFRACTION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20addRefra'+'ction(\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_worldNorm'+'al,\x20\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20dViewDirW'+',\x20\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_gloss,\x20'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_specu'+'larity,\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr')+('gs_albedo,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_tran'+'smission,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_ior,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_dispers'+'ion\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20,'+'\x20iridescen'+'ceFresnel,'+'\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'iridescenc'+'e_intensit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20apply\x20'+'ambient\x20oc'+'clusion\x0a\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_OCCLU'+'DE_DIRECT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20occludeD'+'iffuse(lit'+'Args_ao);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'T_OCCLUDE_'+'SPECULAR\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'ccludeSpec'+'ular(litAr'+'gs_gloss,\x20'+'litArgs_ao'+',\x20litArgs_'+'worldNorma'+'l,\x20dViewDi'+'rW);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULARITY_F'+'ACTOR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dSpecu'+'larLight\x20='+'\x20dSpecular'+'Light\x20*\x20li'+'tArgs_spec'+'ularityFac'+'tor;\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20!defi'+'ned(LIT_OP'+'ACITY_FADE'+'S_SPECULAR'+')\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'==\x20NORMAL\x20'+'||\x20LIT_BLE'+'ND_TYPE\x20=='+'\x20PREMULTIP'+'LIED\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20specLum:'+'\x20f32\x20=\x20dot'+'((dSpecula'+'rLight\x20+\x20d'+'Reflection'+'.rgb\x20*\x20dRe'+'flection.a'+'),\x20vec3f(\x20'+'0.2126,\x200.'+'7152,\x200.07'+'22\x20));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'CLEARCOAT\x0a')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20spec'+'Lum\x20=\x20spec'+'Lum\x20+\x20dot('+'ccSpecular'+'Light\x20*\x20li'+'tArgs_clea'+'rcoat_spec'+'ularity\x20+\x20'+'ccReflecti'+'on\x20*\x20litAr'+'gs_clearco'+'at_specula'+'rity,\x20vec3'+'f(\x200.2126,'+'\x200.7152,\x200'+'.0722\x20));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20c'+'lamp(litAr'+'gs_opacity'+'\x20+\x20gammaCo'+'rrectInput'+'(specLum),'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_opaci'+'ty\x20=\x20litAr'+'gs_opacity'+'\x20*\x20uniform'+'.material_'+'alphaFade;'+'\x0a\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20//'+'\x20end\x20chunk'+'s\x20-\x20when\x20b'+'aking\x20ligh'+'tmap\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'LIGHTMAP_B'+'AKING\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_COLOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22b'+'akeLmEndPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_LIGH'+'TMAP_BAKIN'+'G_DIR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22ba'+'keDirLmEnd'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'end\x20chunks'+'\x20-\x20in\x20all\x20'+'other\x20case'+'s\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'endPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22outpu'+'tAlphaPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_MSD'+'F\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.col'+'or\x20=\x20apply'+'Msdf(outpu'+'t.color);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22outp'+'utPS\x22\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'debugOutpu'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SHADOW_CA'+'TCHER\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20out'+'put\x20when\x20t'+'he\x20shadow\x20'+'catcher\x20is'+'\x20enabled\x20-'+'\x20accumulat'+'ed\x20shadows')+('\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'vec3f(dSha'+'dowCatcher'+'),\x20output.'+'color.a);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),CD='\x0a\x0a//\x20globa'+'ls\x0avar<pri'+'vate>\x20sRef'+'lection:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'VertexNorm'+'alW:\x20vec3f'+';\x0avar<priv'+'ate>\x20dTang'+'entW:\x20vec3'+'f;\x0avar<pri'+'vate>\x20dBin'+'ormalW:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dV'+'iewDirW:\x20v'+'ec3f;\x0avar<'+'private>\x20d'+'ReflDirW:\x20'+'vec3f;\x0avar'+'<private>\x20'+'ccReflDirW'+':\x20vec3f;\x0a\x0a'+'//\x20Per-lig'+'ht\x20tempora'+'ries\x0avar<p'+'rivate>\x20dL'+'ightDirNor'+'mW:\x20vec3f;'+'\x0avar<priva'+'te>\x20dAtten'+':\x20f32;\x0a\x0a//'+'\x20Outputs\x0av'+'ar<private'+'>\x20dTBN:\x20ma'+'t3x3f;\x0avar'+'<private>\x20'+'dReflectio'+'n:\x20vec4f;\x0a'+'var<privat'+'e>\x20dDiffus'+'eLight:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20dS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccFres'+'nel:\x20f32;\x0a'+'var<privat'+'e>\x20ccRefle'+'ction:\x20vec'+'3f;\x0avar<pr'+'ivate>\x20ccS'+'pecularLig'+'ht:\x20vec3f;'+'\x0avar<priva'+'te>\x20ccSpec'+'ularityNoF'+'res:\x20f32;\x0a'+'var<privat'+'e>\x20sSpecul'+'arLight:\x20v'+'ec3f;\x0a\x0a//\x20'+'FRAGMENT\x20S'+'HADER\x20INPU'+'TS:\x20UNIFOR'+'MS\x0a\x0a#ifdef'+'\x20LIT_DISPE'+'RSION\x0a\x20\x20\x20\x20'+'uniform\x20ma'+'terial_dis'+'persion:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LIT_OPACIT'+'Y_FADES_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_al'+'phaFade:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20L'+'IT_SSAO\x0a\x20\x20'+'\x20\x20var\x20ssao'+'Texture\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20ssaoT'+'extureSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20u'+'niform\x20ssa'+'oTextureSi'+'zeInv:\x20vec'+'2f;\x0a#endif'+'\x0a\x0a//\x20light'+'ing\x20and\x20sh'+'adowing\x20de'+('clarations'+'\x0a\x0a#ifdef\x20L'+'IT_SHADOW_'+'CATCHER\x0a\x20\x20'+'\x20\x20//\x20a\x20var'+'iable\x20to\x20a'+'ccumulate\x20'+'shadows\x20fo'+'r\x20shadow\x20c'+'atcher\x20mat'+'erials\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dShado'+'wCatcher:\x20'+'f32\x20=\x201.0;'+'\x0a#endif\x0a\x0a/'+'/\x20LOOP\x20-\x20u'+'niform\x20dec'+'larations\x20'+'for\x20all\x20no'+'n-clustere'+'d\x20lights\x0a#'+'if\x20LIGHT_C'+'OUNT\x20>\x200\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22lightDe'+'clarationP'+'S,\x20LIGHT_C'+'OUNT\x22\x0a#end'+'if\x0a\x0a#ifdef'+'\x20LIT_SPECU'+'LAR\x0a\x20\x20\x20\x20#i'+'f\x20LIT_FRES'+'NEL_MODEL\x20'+'==\x20NONE\x20&&'+'\x20!defined('+'LIT_REFLEC'+'TIONS)\x20&&\x20'+'!defined(L'+'IT_DIFFUSE'+'_MAP)\x20\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#defi'+'ne\x20LIT_OLD'+'_AMBIENT\x0a\x20'+'\x20\x20\x20#endif\x0a'+'#endif\x0a\x0a//'+'\x20lightmap\x20'+'baking\x0a#if'+'def\x20STD_LI'+'GHTMAP_DIR'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20bakeDir'+':\x20f32;\x0a#en'+'dif\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP_BAKING'+'_ADD_AMBIE'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20ambie'+'ntBakeOccl'+'usionContr'+'ast:\x20f32;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20ambientB'+'akeOcclusi'+'onBrightne'+'ss:\x20f32;\x0a#'+'endif\x0a'),PD='\x0a\x0a@fragmen'+'t\x0afn\x20fragm'+'entMain(in'+'put:\x20Fragm'+'entInput)\x20'+'->\x20Fragmen'+'tOutput\x20{\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainStar'+'tPS\x22\x0a\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20vec4f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_CLEARCOA'+'T\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'ccSpecular'+'Light\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20cc'+'Reflection'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20LIT_N'+'ONE_SLICE_'+'MODE\x20==\x20SL'+'ICED\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22startNi'+'neSlicedPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20LIT_NONE'+'_SLICE_MOD'+'E\x20==\x20TILED'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'tartNineSl'+'icedTiledP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'NEEDS_NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20dVertexNo'+'rmalW\x20=\x20no'+'rmalize(vN'+'ormalW);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_T'+'ANGENTS\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_HEIG'+'HTS)\x20||\x20de'+'fined(LIT_'+'USE_NORMAL'+'S)\x20||\x20defi'+'ned(LIT_US'+'E_CLEARCOA'+'T_NORMALS)'+'\x20||\x20define'+'d(LIT_GGX_'+'SPECULAR)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20dTan'+'gentW\x20=\x20vT'+'angentW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dBino'+'rmalW\x20=\x20vB'+'inormalW;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20getView'+'Dir();\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_TBN'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getTBN('+'dTangentW,'+'\x20dBinormal'+'W,\x20dVertex'+'NormalW);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20h'+'andleTwoSi'+'dedLightin'+'g();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+('\x0a\x20\x20\x20\x20//\x20in'+'voke\x20front'+'end\x20functi'+'ons\x0a\x20\x20\x20\x20ev'+'aluateFron'+'tend();\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22debugPr'+'ocessFront'+'endPS\x22\x0a\x0a\x20\x20'+'\x20\x20var\x20outp'+'ut:\x20Fragme'+'ntOutput\x20='+'\x20evaluateB'+'ackend();\x0a'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litUs'+'erMainEndP'+'S\x22\x0a\x0a\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a}\x0a'),MD='\x0a\x0a#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'cubeMapRot'+'atePS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22cubeMapPr'+'ojectPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22envProc'+'PS\x22\x0a#endif'+'\x0a\x0a//\x20-----'+'\x20specular\x20'+'or\x20reflect'+'ions\x20-----'+'\x0a#ifdef\x20LI'+'T_SPECULAR'+'_OR_REFLEC'+'TION\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'METALNESS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessMod'+'ulatePS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_FRESNEL'+'_MODEL\x20==\x20'+'SCHLICK\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22fres'+'nelSchlick'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_IRIDESCEN'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22iridescen'+'ceDiffract'+'ionPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a//\x20-'+'----\x20ambie'+'nt\x20occlusi'+'on\x20-----\x0a#'+'ifdef\x20LIT_'+'AO\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoD'+'iffuseOccP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22aoS'+'pecOccPS\x22\x0a'+'#endif\x0a\x0a#i'+'f\x20LIT_REFL'+'ECTION_SOU'+'RCE\x20==\x20ENV'+'ATLASHQ\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22envAtlas'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22re'+'flectionEn'+'vHQPS\x22\x0a#el'+'if\x20LIT_REF'+'LECTION_SO'+'URCE\x20==\x20EN'+'VATLAS\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22envAtlasP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionEnv'+'PS\x22\x0a#elif\x20'+'LIT_REFLEC'+'TION_SOURC'+'E\x20==\x20CUBEM'+'AP\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ref'+'lectionCub'+'ePS\x22\x0a#elif'+'\x20LIT_REFLE'+'CTION_SOUR'+'CE\x20==\x20SPHE'+'REMAP\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'reflection'+'SpherePS\x22\x0a'+'#endif\x0a\x0a#i'+'fdef\x20LIT_R'+'EFLECTIONS'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20LIT_CLEA'+'RCOAT\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22reflec'+'tionCCPS\x22\x0a'+'\x20\x20\x20\x20#endif'+('\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SHE'+'EN\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22reflectio'+'nSheenPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a#endif\x0a\x0a#'+'ifdef\x20LIT_'+'REFRACTION'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_DYNAMIC_R'+'EFRACTION)'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22r'+'efractionD'+'ynamicPS\x22\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(LI'+'T_REFLECTI'+'ONS)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22refract'+'ionCubePS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a'+'#ifdef\x20LIT'+'_SHEEN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22lightShee'+'nPS\x22\x0a#endi'+'f\x0a\x0auniform'+'\x20material_'+'ambient:\x20v'+'ec3f;\x0a\x0a#if'+'def\x20LIT_SP'+'ECULAR\x0a\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_LIGHTING'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'GGX_SPECUL'+'AR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22light'+'SpecularAn'+'isoGGXPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22ligh'+'tSpecularB'+'linnPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0a#include'+'\x20\x22combineP'+'S\x22\x0a\x0a#ifdef'+'\x20LIT_LIGHT'+'MAP\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'ghtmapAddP'+'S\x22\x0a#endif\x0a'+'\x0a#ifdef\x20LI'+'T_ADD_AMBI'+'ENT\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22am'+'bientPS\x22\x0a#'+'endif\x0a\x0a#if'+'def\x20LIT_MS'+'DF\x0a\x20\x20\x20\x20#in'+'clude\x20\x22msd'+'fPS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'LIT_NEEDS_'+'NORMAL\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22viewDirPS'+'\x22\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_GGX_S'+'PECULAR\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'reflDirAni'+'soPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22reflDirP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a#'+'endif\x0a\x0a//\x20'+'lighting\x20f'+'unctionali')+('ty\x0a#includ'+'e\x20\x22lightin'+'gPS\x22\x0a\x0a'),DD='\x0a\x0a#include'+'\x20\x22basePS\x22\x0a'+'#include\x20\x22'+'sphericalP'+'S\x22\x0a#includ'+'e\x20\x22decodeP'+'S\x22\x0a#includ'+'e\x20\x22gammaPS'+'\x22\x0a#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a#in'+'clude\x20\x22fog'+'PS\x22\x0a\x0a//\x209-'+'slice\x20supp'+'ort\x20code\x0a#'+'if\x20LIT_NON'+'E_SLICE_MO'+'DE\x20==\x20SLIC'+'ED\x0a\x20\x20\x20\x20#in'+'clude\x20\x22bas'+'eNineSlice'+'dPS\x22\x0a#elif'+'\x20LIT_NONE_'+'SLICE_MODE'+'\x20==\x20TILED\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22baseNi'+'neSlicedTi'+'ledPS\x22\x0a#en'+'dif\x0a\x0a//\x20TB'+'N\x0a#ifdef\x20L'+'IT_TBN\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22TBNPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_TWO_SI'+'DED_LIGHTI'+'NG\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22twoSidedL'+'ightingPS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a#endif\x0a\x0a',ID='\x0a\x0a#include'+'\x20\x22varyings'+'PS\x22\x0a#inclu'+'de\x20\x22litUse'+'rDeclarati'+'onPS\x22\x0a#inc'+'lude\x20\x22fron'+'tendDeclPS'+'\x22\x0a\x0a#if\x20def'+'ined(PICK_'+'PASS)\x20||\x20d'+'efined(PRE'+'PASS_PASS)'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fron'+'tendCodePS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serCodePS\x22'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22litOt'+'herMainPS\x22'+'\x0a\x0a#elif\x20de'+'fined(SHAD'+'OW_PASS)\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22fronte'+'ndCodePS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rCodePS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litShad'+'owMainPS\x22\x0a'+'\x0a#else\x20//\x20'+'FORWARD_PA'+'SS\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardDe'+'clarationP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ForwardPre'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22frontend'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdPostCode'+'PS\x22\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22li'+'tForwardBa'+'ckendPS\x22\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'CodePS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litForwa'+'rdMainPS\x22\x0a'+'\x0a#endif\x0a\x0a',LD='\x0a\x0a#include'+'\x20\x22varyings'+'VS\x22\x0a\x0a#incl'+'ude\x20\x20\x22litU'+'serDeclara'+'tionVS\x22\x0a\x0a#'+'ifdef\x20VERT'+'EX_COLOR\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vertex_'+'color:\x20vec'+'4f;\x0a#endif'+'\x0a\x0a#ifdef\x20N'+'INESLICED\x0a'+'\x0a\x20\x20\x20\x20varyi'+'ng\x20vMask:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20varying\x20v'+'TiledUv:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dMaskG'+'lobal:\x20vec'+'2f;\x0a\x20\x20\x20\x20va'+'r<private>'+'\x20dTiledUvG'+'lobal:\x20vec'+'2f;\x0a\x0a\x20\x20\x20\x20u'+'niform\x20inn'+'erOffset:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'uterScale:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20uniform\x20'+'atlasRect:'+'\x20vec4f;\x0a\x0a#'+'endif\x0a\x0avar'+'<private>\x20'+'dPositionW'+':\x20vec3f;\x0av'+'ar<private'+'>\x20dModelMa'+'trix:\x20mat4'+'x4f;\x0a\x0a#inc'+'lude\x20\x22tran'+'sformCoreV'+'S\x22\x0a\x0a#ifdef'+'\x20UV0\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ertex_texC'+'oord0:\x20vec'+'2f;\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22uv'+'0VS\x22\x0a#endi'+'f\x0a\x0a#ifdef\x20'+'UV1\x0a\x20\x20\x20\x20at'+'tribute\x20ve'+'rtex_texCo'+'ord1:\x20vec2'+'f;\x0a\x20\x20\x20\x20#in'+'clude\x20\x22uv1'+'VS\x22\x0a#endif'+'\x0a\x0a\x0a#ifdef\x20'+'LINEAR_DEP'+'TH\x0a\x20\x20\x20\x20#if'+'ndef\x20VIEWM'+'ATRIX\x0a\x20\x20\x20\x20'+'#define\x20VI'+'EWMATRIX\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0a#inc'+'lude\x20\x22tran'+'sformVS\x22\x0a\x0a'+'#ifdef\x20NOR'+'MALS\x0a\x20\x20\x20\x20#'+'include\x20\x22n'+'ormalCoreV'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malVS\x22\x0a#en'+'dif\x0a\x0a#ifde'+'f\x20TANGENTS'+'\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_tangent:'+'\x20vec4f;\x0a#e'+'ndif\x0a\x0a//\x20e'+'xpand\x20unif'+'orms\x20for\x20u'+'v\x20transfor'+'ms\x0a#includ'+'e\x20\x22uvTrans'+'formUnifor'+'msPS,\x20UV_T'+'RANSFORMS_'+('COUNT\x22\x0a\x0a#i'+'fdef\x20MSDF\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22msdfVS'+'\x22\x0a#endif\x0a\x0a'+'#include\x20\x20'+'\x22litUserCo'+'deVS\x22\x0a\x0a@ve'+'rtex\x0afn\x20ve'+'rtexMain(i'+'nput\x20:\x20Ver'+'texInput)\x20'+'->\x20VertexO'+'utput\x20{\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22litUser'+'MainStartV'+'S\x22\x0a\x0a\x20\x20\x20\x20va'+'r\x20output\x20:'+'\x20VertexOut'+'put;\x0a\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20get'+'Position()'+';\x0a\x20\x20\x20\x20outp'+'ut.vPositi'+'onW\x20=\x20getW'+'orldPositi'+'on();\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20NO'+'RMALS\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vNormalW\x20'+'=\x20getNorma'+'l();\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20TA'+'NGENTS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outpu'+'t.vTangent'+'W\x20=\x20normal'+'ize(dNorma'+'lMatrix\x20*\x20'+'vertex_tan'+'gent.xyz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vBin'+'ormalW\x20=\x20c'+'ross(outpu'+'t.vNormalW'+',\x20output.v'+'TangentW)\x20'+'*\x20vertex_t'+'angent.w;\x0a'+'\x20\x20\x20\x20#elif\x20'+'defined(GG'+'X_SPECULAR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.vOb'+'jectSpaceU'+'pW\x20=\x20norma'+'lize(dNorm'+'alMatrix\x20*'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'));\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20UV0'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f\x20=\x20getU'+'v0();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20UV0_UNMOD'+'IFIED\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vUv0\x20'+'=\x20uv0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20UV1\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20uv1:\x20vec2'+'f\x20=\x20getUv1'+'();\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20U'+'V1_UNMODIF'+'IED\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.vUv1\x20=\x20'+'uv1;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20e'+'xpand\x20code'+'\x20for\x20uv\x20tr'+'ansforms\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22uvTrans')+('formVS,\x20UV'+'_TRANSFORM'+'S_COUNT\x22\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20VERTEX_CO'+'LOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.v'+'VertexColo'+'r\x20=\x20vertex'+'_color;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LINEAR_DE'+'PTH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20linea'+'r\x20depth\x20fr'+'om\x20the\x20wor'+'ldPosition'+',\x20see\x20getL'+'inearDepth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-(uniform'+'.matrix_vi'+'ew\x20*\x20vec4f'+'(output.vP'+'ositionW,\x20'+'1.0)).z;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MSDF\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unpac'+'kMsdfParam'+'s();\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.outline_c'+'olor\x20=\x20dOu'+'tlineColor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.out'+'line_thick'+'ness\x20=\x20dOu'+'tlineThick'+'ness;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.shadow_co'+'lor\x20=\x20dSha'+'dowColor;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.shado'+'w_offset\x20='+'\x20dShadowOf'+'fset;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.vMask'+'\x20=\x20dMaskGl'+'obal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.vTiledUv\x20'+'=\x20dTiledUv'+'Global;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndVS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),RD='\x0a\x0a#ifdef\x20P'+'ICK_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22pickPS\x22'+'\x0a#endif\x0a\x0a#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22floatAs'+'UintPS\x22\x0a#e'+'ndif\x0a\x0a@fra'+'gment\x0afn\x20f'+'ragmentMai'+'n(input:\x20F'+'ragmentInp'+'ut)\x20->\x20Fra'+'gmentOutpu'+'t\x20{\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22l'+'itUserMain'+'StartPS\x22\x0a\x0a'+'\x20\x20\x20\x20var\x20ou'+'tput:\x20Frag'+'mentOutput'+';\x0a\x20\x20\x20\x20\x0a\x20\x20\x20'+'\x20evaluateF'+'rontend();'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PICK_PA'+'SS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20getP'+'ickOutput('+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PREP'+'ASS_PASS\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20float2ve'+'c4(vLinear'+'Depth);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22litUse'+'rMainEndPS'+'\x22\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',OD='\x0a\x0a//\x20Surfa'+'ce\x20albedo\x20'+'absorbance'+'\x0avar<priva'+'te>\x20litArg'+'s_albedo:\x20'+'vec3f;\x0a\x0a//'+'\x20Transpare'+'ncy\x0avar<pr'+'ivate>\x20lit'+'Args_opaci'+'ty:\x20f32;\x0a\x0a'+'//\x20Emissio'+'n\x20color\x0ava'+'r<private>'+'\x20litArgs_e'+'mission:\x20v'+'ec3f;\x0a\x0a//\x20'+'Normal\x20dir'+'ection\x20in\x20'+'world\x20spac'+'e\x0avar<priv'+'ate>\x20litAr'+'gs_worldNo'+'rmal:\x20vec3'+'f;\x0a\x0a//\x20Amb'+'ient\x20occlu'+'sion\x20amoun'+'t,\x20range\x20['+'0..1]\x0avar<'+'private>\x20l'+'itArgs_ao:'+'\x20f32;\x0a\x0a//\x20'+'Light\x20map\x20'+'color\x0avar<'+'private>\x20l'+'itArgs_lig'+'htmap:\x20vec'+'3f;\x0a\x0a//\x20Li'+'ght\x20map\x20di'+'rection\x0ava'+'r<private>'+'\x20litArgs_l'+'ightmapDir'+':\x20vec3f;\x0a\x0a'+'//\x20Surface'+'\x20metalness'+'\x20factor,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_metalne'+'ss:\x20f32;\x0a\x0a'+'//\x20The\x20f0\x20'+'specularit'+'y\x20factor\x0av'+'ar<private'+'>\x20litArgs_'+'specularit'+'y:\x20vec3f;\x0a'+'\x0a//\x20Specul'+'arity\x20inte'+'nsity\x20fact'+'or,\x20range\x20'+'[0..1]\x0avar'+'<private>\x20'+'litArgs_sp'+'ecularityF'+'actor:\x20f32'+';\x0a\x0a//\x20The\x20'+'microfacet'+'\x20glossines'+'s\x20factor,\x20'+'range\x20[0..'+'1]\x0avar<pri'+'vate>\x20litA'+'rgs_gloss:'+'\x20f32;\x0a\x0a//\x20'+'Glossiness'+'\x20of\x20the\x20sh'+'een\x20layer,'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_sheen'+'_gloss:\x20f3'+'2;\x0a\x0a//\x20The'+'\x20color\x20of\x20'+'the\x20f0\x20spe'+'cularity\x20f'+'actor\x20for\x20'+'the\x20sheen\x20'+'layer\x0avar<'+'private>\x20l'+'itArgs_she'+'en_specula'+'rity:\x20vec3'+'f;\x0a\x0a//\x20Tra'+'nsmission\x20'+'factor\x20(re'+('fraction),'+'\x20range\x20[0.'+'.1]\x0avar<pr'+'ivate>\x20lit'+'Args_trans'+'mission:\x20f'+'32;\x0a\x0a//\x20Un'+'iform\x20thic'+'kness\x20of\x20m'+'edium,\x20use'+'d\x20by\x20trans'+'mission,\x20r'+'ange\x20[0..i'+'nf]\x0avar<pr'+'ivate>\x20lit'+'Args_thick'+'ness:\x20f32;'+'\x0a\x0a//\x20Index'+'\x20of\x20refrac'+'tion\x0avar<p'+'rivate>\x20li'+'tArgs_ior:'+'\x20f32;\x0a\x0a//\x20'+'Dispersion'+',\x20range\x20[0'+'..1]\x20typic'+'ally,\x20but\x20'+'can\x20be\x20hig'+'her\x0avar<pr'+'ivate>\x20lit'+'Args_dispe'+'rsion:\x20f32'+';\x0a\x0a//\x20Irid'+'escence\x20ef'+'fect\x20inten'+'sity,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'iridescenc'+'e_intensit'+'y:\x20f32;\x0a\x0a/'+'/\x20Thicknes'+'s\x20of\x20the\x20i'+'ridescent\x20'+'microfilm\x20'+'layer,\x20val'+'ue\x20is\x20in\x20n'+'anometers,'+'\x20range\x20[0.'+'.1000]\x0avar'+'<private>\x20'+'litArgs_ir'+'idescence_'+'thickness:'+'\x20f32;\x0a\x0a//\x20'+'The\x20normal'+'\x20used\x20for\x20'+'the\x20clearc'+'oat\x20layer\x0a'+'var<privat'+'e>\x20litArgs'+'_clearcoat'+'_worldNorm'+'al:\x20vec3f;'+'\x0a\x0a//\x20Inten'+'sity\x20of\x20th'+'e\x20clearcoa'+'t\x20layer,\x20r'+'ange\x20[0..1'+']\x0avar<priv'+'ate>\x20litAr'+'gs_clearco'+'at_specula'+'rity:\x20f32;'+'\x0a\x0a//\x20Gloss'+'iness\x20of\x20c'+'learcoat\x20l'+'ayer,\x20rang'+'e\x20[0..1]\x0av'+'ar<private'+'>\x20litArgs_'+'clearcoat_'+'gloss:\x20f32'+';\x0a\x0a'),FD='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobal\x20text'+'ure\x20bias\x20f'+'or\x20standar'+'d\x20textures'+'\x0a\x20\x20\x20\x20#if\x20L'+'IT_NONE_SL'+'ICE_MODE\x20='+'=\x20TILED\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20t'+'extureBias'+':\x20f32\x20=\x20-1'+'000.0;\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20texture'+'Bias:\x20f32;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lit'+'ShaderArgs'+'PS\x22\x0a',ND='\x0a\x0a#if\x20LIGH'+'T_TYPE\x20!=\x20'+'DIRECTIONA'+'L\x0a\x20\x20\x20\x20unif'+'orm\x20view_p'+'osition:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'uniform\x20li'+'ght_radius'+':\x20f32;\x0a#en'+'dif\x0a\x0a#if\x20S'+'HADOW_TYPE'+'\x20==\x20PCSS_3'+'2F\x0a\x20\x20\x20\x20#in'+'clude\x20\x22lin'+'earizeDept'+'hPS\x22\x0a#endi'+'f\x0a\x0a@fragme'+'nt\x0afn\x20frag'+'mentMain(i'+'nput:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22litU'+'serMainSta'+'rtPS\x22\x0a\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20evalua'+'teFrontend'+'();\x0a\x0a\x20\x20\x20\x20/'+'/\x20using\x20no'+'n-standard'+'\x20depth,\x20i.'+'e\x20gl_FragC'+'oord.z\x0a\x20\x20\x20'+'\x20#ifdef\x20PE'+'RSPECTIVE_'+'DEPTH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20de'+'pth:\x20f32\x20='+'\x20input.pos'+'ition.z;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20SHADOW_T'+'YPE\x20==\x20PCS'+'S_32F\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20spot/omni'+'\x20shadows\x20c'+'urrently\x20u'+'se\x20linear\x20'+'depth.\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20TODO:\x20us'+'e\x20perspect'+'ive\x20depth\x20'+'for\x20spot/o'+'mni\x20the\x20sa'+'me\x20way\x20as\x20'+'directiona'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20LI'+'GHT_TYPE\x20!'+'=\x20DIRECTIO'+'NAL\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'depth\x20=\x20li'+'nearizeDep'+'thWithPara'+'ms(depth,\x20'+'camera_par'+'ams);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20depth:\x20'+'f32\x20=\x20min('+'distance(u'+'niform.vie'+'w_position'+',\x20input.vP'+'ositionW)\x20'+'/\x20uniform.'+'light_radi'+'us,\x200.9999'+'9);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'MODIFIED_D'+'EPTH\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20SHADO'+'W_TYPE\x20==\x20'+'VSM_16F\x20||'+'\x20SHADOW_TY'+('PE\x20==\x20VSM_'+'32F\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20SHAD'+'OW_TYPE\x20=='+'\x20VSM_32F\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20expon'+'ent:\x20f32\x20='+'\x2015.0;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20exp'+'onent:\x20f32'+'\x20=\x205.54;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20dep'+'th_vsm\x20=\x202'+'.0\x20*\x20depth'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dept'+'h_vsm\x20=\x20ex'+'p(exponent'+'\x20*\x20depth_v'+'sm);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(depth_'+'vsm,\x20depth'+'_vsm\x20*\x20dep'+'th_vsm,\x201.'+'0,\x201.0);\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'\x20SHADOW_TY'+'PE\x20==\x20PCSS'+'_32F\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(de'+'pth,\x200.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MODIFI'+'ED_DEPTH\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20If'+'\x20we\x20end\x20up'+'\x20using\x20mod'+'ified\x20dept'+'h,\x20it\x20need'+'s\x20to\x20be\x20ex'+'plicitly\x20w'+'ritten\x20to\x20'+'gl_FragDep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.frag'+'Depth\x20=\x20de'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'just\x20the\x20s'+'implest\x20co'+'de,\x20color\x20'+'is\x20not\x20wri'+'tten\x20anywa'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20v'+'ec4f(1.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22litUserM'+'ainEndPS\x22\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a}\x0a'),kD='\x0a//\x20Real-T'+'ime\x20Polygo'+'nal-Light\x20'+'Shading\x20wi'+'th\x20Linearl'+'y\x20Transfor'+'med\x20Cosine'+'s\x0a//\x20by\x20Er'+'ic\x20Heitz,\x20'+'Jonathan\x20D'+'upuy,\x20Step'+'hen\x20Hill\x20a'+'nd\x20David\x20N'+'eubelt\x0a//\x20'+'code:\x20http'+'s://github'+'.com/selfs'+'hadow/ltc_'+'code/\x0a\x0afn\x20'+'LTC_Uv(N:\x20'+'vec3f,\x20V:\x20'+'vec3f,\x20rou'+'ghness:\x20f3'+'2)\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20co'+'nst\x20LUT_SI'+'ZE:\x20f32\x20=\x20'+'64.0;\x0a\x20\x20\x20\x20'+'const\x20LUT_'+'SCALE:\x20f32'+'\x20=\x20(LUT_SI'+'ZE\x20-\x201.0)\x20'+'/\x20LUT_SIZE'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_BIAS'+':\x20f32\x20=\x200.'+'5\x20/\x20LUT_SI'+'ZE;\x0a\x20\x20\x20\x20le'+'t\x20dotNV:\x20f'+'32\x20=\x20satur'+'ate(dot(\x20N'+',\x20V\x20));\x0a\x20\x20'+'\x20\x20//\x20textu'+'re\x20paramet'+'erized\x20by\x20'+'sqrt(\x20GGX\x20'+'alpha\x20)\x20an'+'d\x20sqrt(\x201\x20'+'-\x20cos(\x20the'+'ta\x20)\x20)\x0a\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20vec'+'2f(\x20roughn'+'ess,\x20sqrt('+'\x201.0\x20-\x20dot'+'NV\x20)\x20);\x0a\x20\x20'+'\x20\x20return\x20u'+'v\x20*\x20LUT_SC'+'ALE\x20+\x20LUT_'+'BIAS;\x0a}\x0a\x0af'+'n\x20LTC_Clip'+'pedSphereF'+'ormFactor('+'\x20f:\x20vec3f\x20'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20//\x20Re'+'al-Time\x20Ar'+'ea\x20Lightin'+'g:\x20a\x20Journ'+'ey\x20from\x20Re'+'search\x20to\x20'+'Production'+'\x20(p.102)\x0a\x20'+'\x20\x20\x20//\x20An\x20a'+'pproximati'+'on\x20of\x20the\x20'+'form\x20facto'+'r\x20of\x20a\x20hor'+'izon-clipp'+'ed\x20rectang'+'le.\x0a\x20\x20\x20\x20le'+'t\x20l:\x20f32\x20='+'\x20length(\x20f'+'\x20);\x0a\x20\x20\x20\x20re'+'turn\x20max(\x20'+'(\x20l\x20*\x20l\x20+\x20'+'f.z\x20)\x20/\x20(\x20'+'l\x20+\x201.0\x20),'+'\x200.0\x20);\x0a}\x0a'+'\x0afn\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'v1:\x20vec3f,'+'\x20v2:\x20vec3f'+'\x20)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20x:\x20f32\x20='+'\x20dot(\x20v1,\x20'+'v2\x20);\x0a\x20\x20\x20\x20'+'let\x20y:\x20f32'+('\x20=\x20abs(\x20x\x20'+');\x0a\x20\x20\x20\x20//\x20'+'rational\x20p'+'olynomial\x20'+'approximat'+'ion\x20to\x20the'+'ta\x20/\x20sin(\x20'+'theta\x20)\x20/\x20'+'2PI\x0a\x20\x20\x20\x20le'+'t\x20a:\x20f32\x20='+'\x200.8543985'+'\x20+\x20(\x200.496'+'5155\x20+\x200.0'+'145206\x20*\x20y'+'\x20)\x20*\x20y;\x0a\x20\x20'+'\x20\x20let\x20b:\x20f'+'32\x20=\x203.417'+'5940\x20+\x20(\x204'+'.1616724\x20+'+'\x20y\x20)\x20*\x20y;\x0a'+'\x20\x20\x20\x20let\x20v:'+'\x20f32\x20=\x20a\x20/'+'\x20b;\x0a\x20\x20\x20\x20le'+'t\x20inv_sqrt'+'_term\x20=\x20in'+'verseSqrt('+'\x20max(\x201.0\x20'+'-\x20x\x20*\x20x,\x201'+'e-7f\x20)\x20);\x0a'+'\x20\x20\x20\x20let\x20th'+'eta_sinthe'+'ta:\x20f32\x20=\x20'+'select(\x20(0'+'.5\x20*\x20inv_s'+'qrt_term\x20-'+'\x20v),\x20v,\x20x\x20'+'>\x200.0\x20);\x0a\x20'+'\x20\x20\x20return\x20'+'cross(\x20v1,'+'\x20v2\x20)\x20*\x20th'+'eta_sinthe'+'ta;\x0a}\x0a\x0astr'+'uct\x20Coords'+'\x20{\x0a\x20\x20\x20\x20coo'+'rd0:\x20vec3f'+',\x0a\x20\x20\x20\x20coor'+'d1:\x20vec3f,'+'\x0a\x20\x20\x20\x20coord'+'2:\x20vec3f,\x0a'+'\x20\x20\x20\x20coord3'+':\x20vec3f,\x0a}'+'\x0a\x0afn\x20LTC_E'+'valuateRec'+'t(\x20N:\x20vec3'+'f,\x20V:\x20vec3'+'f,\x20P:\x20vec3'+'f,\x20mInv:\x20m'+'at3x3f,\x20re'+'ctCoords:\x20'+'Coords)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20//\x20bail\x20i'+'f\x20point\x20is'+'\x20on\x20back\x20s'+'ide\x20of\x20pla'+'ne\x20of\x20ligh'+'t\x0a\x20\x20\x20\x20//\x20a'+'ssumes\x20ccw'+'\x20winding\x20o'+'rder\x20of\x20li'+'ght\x20vertic'+'es\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec3f'+'\x20=\x20rectCoo'+'rds.coord1'+'\x20-\x20rectCoo'+'rds.coord0'+';\x0a\x20\x20\x20\x20let\x20'+'v2:\x20vec3f\x20'+'=\x20rectCoor'+'ds.coord3\x20'+'-\x20rectCoor'+'ds.coord0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'lightNorma'+'l:\x20vec3f\x20='+'\x20cross(\x20v1'+',\x20v2\x20);\x0a\x20\x20'+'\x20\x20let\x20fact'+'or:\x20f32\x20=\x20'+'sign(-dot('+'\x20lightNorm'+'al,\x20P\x20-\x20re'+'ctCoords.c'+'oord0\x20));\x0a'+'\x0a\x20\x20\x20\x20//\x20co'+'nstruct\x20or'+'thonormal\x20'+'basis\x20arou'+'nd\x20N\x0a\x20\x20\x20\x20l')+('et\x20T1:\x20vec'+'3f\x20=\x20norma'+'lize(\x20V\x20-\x20'+'N\x20*\x20dot(\x20V'+',\x20N\x20)\x20);\x0a\x20'+'\x20\x20\x20let\x20T2:'+'\x20vec3f\x20=\x20f'+'actor\x20*\x20cr'+'oss(\x20N,\x20T1'+'\x20);\x20//\x20neg'+'ated\x20from\x20'+'paper;\x20pos'+'sibly\x20due\x20'+'to\x20a\x20diffe'+'rent\x20hande'+'dness\x20of\x20w'+'orld\x20coord'+'inate\x20syst'+'em\x0a\x20\x20\x20\x20//\x20'+'compute\x20tr'+'ansform\x0a\x20\x20'+'\x20\x20let\x20mat:'+'\x20mat3x3f\x20='+'\x20mInv\x20*\x20tr'+'anspose(\x20m'+'at3x3f(\x20T1'+',\x20T2,\x20N\x20)\x20'+');\x0a\x20\x20\x20\x20//\x20'+'transform\x20'+'rect\x0a\x20\x20\x20\x20v'+'ar\x20coords:'+'\x20array<vec'+'3f,\x204>;\x0a\x20\x20'+'\x20\x20coords[0'+']\x20=\x20mat\x20*\x20'+'(\x20rectCoor'+'ds.coord0\x20'+'-\x20P\x20);\x0a\x20\x20\x20'+'\x20coords[1]'+'\x20=\x20mat\x20*\x20('+'\x20rectCoord'+'s.coord1\x20-'+'\x20P\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20mat\x20*\x20(\x20'+'rectCoords'+'.coord2\x20-\x20'+'P\x20);\x0a\x20\x20\x20\x20c'+'oords[3]\x20='+'\x20mat\x20*\x20(\x20r'+'ectCoords.'+'coord3\x20-\x20P'+'\x20);\x0a\x20\x20\x20\x20//'+'\x20project\x20r'+'ect\x20onto\x20s'+'phere\x0a\x20\x20\x20\x20'+'coords[0]\x20'+'=\x20normaliz'+'e(\x20coords['+'0]\x20);\x0a\x20\x20\x20\x20'+'coords[1]\x20'+'=\x20normaliz'+'e(\x20coords['+'1]\x20);\x0a\x20\x20\x20\x20'+'coords[2]\x20'+'=\x20normaliz'+'e(\x20coords['+'2]\x20);\x0a\x20\x20\x20\x20'+'coords[3]\x20'+'=\x20normaliz'+'e(\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20vector\x20'+'form\x20facto'+'r\x0a\x20\x20\x20\x20var\x20'+'vectorForm'+'Factor:\x20ve'+'c3f\x20=\x20vec3'+'f(\x200.0\x20);\x0a'+'\x20\x20\x20\x20vector'+'FormFactor'+'\x20=\x20vectorF'+'ormFactor\x20'+'+\x20LTC_Edge'+'VectorForm'+'Factor(\x20co'+'ords[0],\x20c'+'oords[1]\x20)'+';\x0a\x20\x20\x20\x20vect'+'orFormFact'+'or\x20=\x20vecto'+'rFormFacto'+'r\x20+\x20LTC_Ed'+'geVectorFo'+'rmFactor(\x20'+'coords[1],'+'\x20coords[2]'+'\x20);\x0a\x20\x20\x20\x20ve'+'ctorFormFa')+('ctor\x20=\x20vec'+'torFormFac'+'tor\x20+\x20LTC_'+'EdgeVector'+'FormFactor'+'(\x20coords[2'+'],\x20coords['+'3]\x20);\x0a\x20\x20\x20\x20'+'vectorForm'+'Factor\x20=\x20v'+'ectorFormF'+'actor\x20+\x20LT'+'C_EdgeVect'+'orFormFact'+'or(\x20coords'+'[3],\x20coord'+'s[0]\x20);\x0a\x20\x20'+'\x20\x20//\x20adjus'+'t\x20for\x20hori'+'zon\x20clippi'+'ng\x0a\x20\x20\x20\x20let'+'\x20result:\x20f'+'32\x20=\x20LTC_C'+'lippedSphe'+'reFormFact'+'or(\x20vector'+'FormFactor'+'\x20);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20resu'+'lt;\x0a}\x0a\x0avar'+'<private>\x20'+'dLTCCoords'+':\x20Coords;\x0a'+'fn\x20getLTCL'+'ightCoords'+'(lightPos:'+'\x20vec3f,\x20ha'+'lfWidth:\x20v'+'ec3f,\x20half'+'Height:\x20ve'+'c3f)\x20->\x20Co'+'ords\x20{\x0a\x20\x20\x20'+'\x20var\x20coord'+'s:\x20Coords;'+'\x0a\x20\x20\x20\x20coord'+'s.coord0\x20='+'\x20lightPos\x20'+'+\x20halfWidt'+'h\x20-\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd1\x20=\x20ligh'+'tPos\x20-\x20hal'+'fWidth\x20-\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20coord'+'s.coord2\x20='+'\x20lightPos\x20'+'-\x20halfWidt'+'h\x20+\x20halfHe'+'ight;\x0a\x20\x20\x20\x20'+'coords.coo'+'rd3\x20=\x20ligh'+'tPos\x20+\x20hal'+'fWidth\x20+\x20h'+'alfHeight;'+'\x0a\x20\x20\x20\x20retur'+'n\x20coords;\x0a'+'}\x0a\x0avar<pri'+'vate>\x20dSph'+'ereRadius:'+'\x20f32;\x0afn\x20g'+'etSphereLi'+'ghtCoords('+'lightPos:\x20'+'vec3f,\x20hal'+'fWidth:\x20ve'+'c3f,\x20halfH'+'eight:\x20vec'+'3f)\x20->\x20Coo'+'rds\x20{\x0a\x20\x20\x20\x20'+'//\x20used\x20fo'+'r\x20simple\x20s'+'phere\x20ligh'+'t\x20falloff\x0a'+'\x20\x20\x20\x20//\x20als'+'o,\x20the\x20cod'+'e\x20only\x20han'+'dles\x20a\x20sph'+'erical\x20lig'+'ht,\x20it\x20can'+'not\x20be\x20non'+'-uniformly'+'\x20scaled\x20in'+'\x20world\x20spa'+'ce,\x20and\x20so'+'\x20we\x20enforc'+'e\x20it\x20here\x0a'+'\x20\x20\x20\x20dSpher'+'eRadius\x20=\x20')+('max(length'+'(halfWidth'+'),\x20length('+'halfHeight'+'));\x0a\x0a\x20\x20\x20\x20/'+'/\x20Billboar'+'d\x20the\x202d\x20l'+'ight\x20quad\x20'+'to\x20reflect'+'ion\x20vector'+',\x20as\x20it\x27s\x20'+'used\x20for\x20s'+'pecular.\x20T'+'his\x20allows'+'\x20us\x20to\x20use'+'\x20disk\x20math'+'\x20for\x20the\x20s'+'phere.\x0a\x20\x20\x20'+'\x20let\x20f:\x20ve'+'c3f\x20=\x20refl'+'ect(normal'+'ize(lightP'+'os\x20-\x20unifo'+'rm.view_po'+'sition),\x20v'+'NormalW);\x0a'+'\x20\x20\x20\x20let\x20w:'+'\x20vec3f\x20=\x20n'+'ormalize(c'+'ross(f,\x20ha'+'lfHeight))'+';\x0a\x20\x20\x20\x20let\x20'+'h:\x20vec3f\x20='+'\x20normalize'+'(cross(f,\x20'+'w));\x0a\x0a\x20\x20\x20\x20'+'return\x20get'+'LTCLightCo'+'ords(light'+'Pos,\x20w\x20*\x20d'+'SphereRadi'+'us,\x20h\x20*\x20dS'+'phereRadiu'+'s);\x0a}\x0a\x0a//\x20'+'used\x20for\x20L'+'TC\x20LUT\x20tex'+'ture\x20looku'+'p\x0avar<priv'+'ate>\x20dLTCU'+'V:\x20vec2f;\x0a'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20var<p'+'rivate>\x20cc'+'LTCUV:\x20vec'+'2f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightUV(g'+'loss:\x20f32,'+'\x20worldNorm'+'al:\x20vec3f,'+'\x20viewDir:\x20'+'vec3f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20roug'+'hness:\x20f32'+'\x20=\x20max((1.'+'0\x20-\x20gloss)'+'\x20*\x20(1.0\x20-\x20'+'gloss),\x200.'+'001);\x0a\x20\x20\x20\x20'+'return\x20LTC'+'_Uv(\x20world'+'Normal,\x20vi'+'ewDir,\x20rou'+'ghness\x20);\x0a'+'}\x0a\x0a//\x20used'+'\x20for\x20energ'+'y\x20conserva'+'tion\x20and\x20t'+'o\x20modulate'+'\x20specular\x0a'+'var<privat'+'e>\x20dLTCSpe'+'cFres:\x20vec'+'3f;\x0a#ifdef'+'\x20LIT_CLEAR'+'COAT\x0a\x20\x20\x20\x20v'+'ar<private'+'>\x20ccLTCSpe'+'cFres:\x20vec'+'3f;\x0a#endif'+'\x0a\x0afn\x20getLT'+'CLightSpec'+'Fres(uv:\x20v'+'ec2f,\x20spec'+'ularity:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20let\x20t2:\x20v')+('ec4f\x20=\x20tex'+'tureSample'+'Level(area'+'LightsLutT'+'ex2,\x20areaL'+'ightsLutTe'+'x2Sampler,'+'\x20uv,\x200.0);'+'\x0a\x20\x20\x20\x20retur'+'n\x20specular'+'ity\x20*\x20t2.x'+'\x20+\x20(\x20vec3f'+'(\x201.0\x20)\x20-\x20'+'specularit'+'y)\x20*\x20t2.y;'+'\x0a}\x0a\x0afn\x20cal'+'cLTCLightV'+'alues(glos'+'s:\x20f32,\x20wo'+'rldNormal:'+'\x20vec3f,\x20vi'+'ewDir:\x20vec'+'3f,\x20specul'+'arity:\x20vec'+'3f,\x20clearc'+'oatGloss:\x20'+'f32,\x20clear'+'coatWorldN'+'ormal:\x20vec'+'3f,\x20clearc'+'oatSpecula'+'rity:\x20f32)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CUV\x20=\x20getL'+'TCLightUV('+'gloss,\x20wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20dLTCSp'+'ecFres\x20=\x20g'+'etLTCLight'+'SpecFres(d'+'LTCUV,\x20spe'+'cularity);'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'UV\x20=\x20getLT'+'CLightUV(c'+'learcoatGl'+'oss,\x20clear'+'coatWorldN'+'ormal,\x20vie'+'wDir);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20ccLTC'+'SpecFres\x20='+'\x20getLTCLig'+'htSpecFres'+'(ccLTCUV,\x20'+'vec3f(clea'+'rcoatSpecu'+'larity));\x0a'+'\x20\x20\x20\x20#endif'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20dLT'+'CCoords\x20=\x20'+'getLTCLigh'+'tCoords(li'+'ghtPos,\x20ha'+'lfWidth,\x20h'+'alfHeight)'+';\x0a}\x0afn\x20cal'+'cDiskLight'+'Values(lig'+'htPos:\x20vec'+'3f,\x20halfWi'+'dth:\x20vec3f'+',\x20halfHeig'+'ht:\x20vec3f)'+'\x20{\x0a\x20\x20\x20\x20cal'+'cRectLight'+'Values(lig'+'htPos,\x20hal'+'fWidth,\x20ha'+'lfHeight);'+'\x0a}\x0afn\x20calc'+'SphereLigh'+'tValues(li'+'ghtPos:\x20ve'+'c3f,\x20halfW'+'idth:\x20vec3'+'f,\x20halfHei')+('ght:\x20vec3f'+')\x20{\x0a\x20\x20\x20\x20dL'+'TCCoords\x20='+'\x20getSphere'+'LightCoord'+'s(lightPos'+',\x20halfWidt'+'h,\x20halfHei'+'ght);\x0a}\x0a\x0a/'+'/\x20An\x20exten'+'ded\x20versio'+'n\x20of\x20the\x20i'+'mplementat'+'ion\x20from\x20\x22'+'How\x20to\x20sol'+'ve\x20a\x20cubic'+'\x20equation,'+'\x20revisited'+'\x22\x0a//\x20http:'+'//momentsi'+'ngraphics.'+'de/?p=105\x0a'+'fn\x20SolveCu'+'bic(Coeffi'+'cient_in:\x20'+'vec4f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20pi:\x20'+'f32\x20=\x203.14'+'159;\x0a\x20\x20\x20\x20v'+'ar\x20Coeffic'+'ient\x20=\x20Coe'+'fficient_i'+'n;\x0a\x0a\x20\x20\x20\x20//'+'\x20Normalize'+'\x20the\x20polyn'+'omial\x0a\x20\x20\x20\x20'+'Coefficien'+'t\x20=\x20vec4f('+'Coefficien'+'t.xyz\x20/\x20Co'+'efficient.'+'w,\x20Coeffic'+'ient.w);\x0a\x0a'+'\x20\x20\x20\x20//\x20Div'+'ide\x20middle'+'\x20coefficie'+'nts\x20by\x20thr'+'ee\x0a\x20\x20\x20\x20let'+'\x20new_yz:\x20v'+'ec2f\x20=\x20Coe'+'fficient.y'+'z\x20/\x203.0;\x0a\x20'+'\x20\x20\x20Coeffic'+'ient\x20=\x20vec'+'4f(Coeffic'+'ient.x,\x20ne'+'w_yz.x,\x20ne'+'w_yz.y,\x20Co'+'efficient.'+'w);\x0a\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20let\x20A:\x20'+'f32\x20=\x20Coef'+'ficient.w;'+'\x0a\x20\x20\x20\x20let\x20B'+':\x20f32\x20=\x20Co'+'efficient.'+'z;\x0a\x20\x20\x20\x20let'+'\x20C:\x20f32\x20=\x20'+'Coefficien'+'t.y;\x0a\x20\x20\x20\x20l'+'et\x20D:\x20f32\x20'+'=\x20Coeffici'+'ent.x;\x0a\x0a\x20\x20'+'\x20\x20//\x20Compu'+'te\x20the\x20Hes'+'sian\x20and\x20t'+'he\x20discrim'+'inant\x0a\x20\x20\x20\x20'+'let\x20Delta:'+'\x20vec3f\x20=\x20v'+'ec3f(\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20-Coeff'+'icient.z\x20*'+'\x20Coefficie'+'nt.z\x20+\x20Coe'+'fficient.y'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'-Coefficie'+'nt.y\x20*\x20Coe'+'fficient.z'+'\x20+\x20Coeffic'+'ient.x,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20dot('+'vec2f(Coef'+'ficient.z,'+'\x20-Coeffici'+'ent.y),\x20Co'+'efficient.'+'xy)\x0a\x20\x20\x20\x20);')+('\x0a\x0a\x20\x20\x20\x20let\x20'+'Discrimina'+'nt:\x20f32\x20=\x20'+'dot(vec2f('+'4.0\x20*\x20Delt'+'a.x,\x20-Delt'+'a.y),\x20Delt'+'a.zy);\x0a\x0a\x20\x20'+'\x20\x20var\x20xlc:'+'\x20vec2f;\x0a\x20\x20'+'\x20\x20var\x20xsc:'+'\x20vec2f;\x0a\x0a\x20'+'\x20\x20\x20//\x20Algo'+'rithm\x20A\x0a\x20\x20'+'\x20\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20A_a:'+'\x20f32\x20=\x201.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_a:\x20f'+'32\x20=\x20Delta'+'.x;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_a:'+'\x20f32\x20=\x20-2.'+'0\x20*\x20B\x20*\x20De'+'lta.x\x20+\x20De'+'lta.y;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20T'+'ake\x20the\x20cu'+'bic\x20root\x20o'+'f\x20a\x20normal'+'ized\x20compl'+'ex\x20number\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20Theta:\x20f'+'32\x20=\x20atan2'+'(sqrt(Disc'+'riminant),'+'\x20-D_a)\x20/\x203'+'.0;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20sqr'+'t_neg_Ca\x20='+'\x20sqrt(-C_a'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20x_1a:'+'\x20f32\x20=\x202.0'+'\x20*\x20sqrt_ne'+'g_Ca\x20*\x20cos'+'(Theta);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20x_3a:\x20f32'+'\x20=\x202.0\x20*\x20s'+'qrt_neg_Ca'+'\x20*\x20cos(The'+'ta\x20+\x20(2.0\x20'+'/\x203.0)\x20*\x20p'+'i);\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20xl:'+'\x20f32\x20=\x20sel'+'ect(x_3a,\x20'+'x_1a,\x20(x_1'+'a\x20+\x20x_3a)\x20'+'>\x202.0\x20*\x20B)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'xlc\x20=\x20vec2'+'f(xl\x20-\x20B,\x20'+'A);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20//\x20Al'+'gorithm\x20D\x0a'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20A_'+'d:\x20f32\x20=\x20D'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20C_d:\x20f'+'32\x20=\x20Delta'+'.z;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20D_d:'+'\x20f32\x20=\x20-D\x20'+'*\x20Delta.y\x20'+'+\x202.0\x20*\x20C\x20'+'*\x20Delta.z;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Take\x20th'+'e\x20cubic\x20ro'+'ot\x20of\x20a\x20no'+'rmalized\x20c'+'omplex\x20num'+'ber\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20Thet'+'a:\x20f32\x20=\x20a'+'tan2(D\x20*\x20s'+'qrt(Discri'+'minant),\x20-'+'D_d)\x20/\x203.0'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20sqrt_'+'neg_Cd\x20=\x20s'+'qrt(-C_d);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20x_1d:\x20f'+'32\x20=\x202.0\x20*')+('\x20sqrt_neg_'+'Cd\x20*\x20cos(T'+'heta);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20x'+'_3d:\x20f32\x20='+'\x202.0\x20*\x20sqr'+'t_neg_Cd\x20*'+'\x20cos(Theta'+'\x20+\x20(2.0\x20/\x20'+'3.0)\x20*\x20pi)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20xs:\x20f'+'32\x20=\x20selec'+'t(x_3d,\x20x_'+'1d,\x20x_1d\x20+'+'\x20x_3d\x20<\x202.'+'0\x20*\x20C);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20xsc\x20'+'=\x20vec2f(-D'+',\x20xs\x20+\x20C);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20let\x20E:\x20f'+'32\x20=\x20\x20xlc.'+'y\x20*\x20xsc.y;'+'\x0a\x20\x20\x20\x20let\x20F'+':\x20f32\x20=\x20-x'+'lc.x\x20*\x20xsc'+'.y\x20-\x20xlc.y'+'\x20*\x20xsc.x;\x0a'+'\x20\x20\x20\x20let\x20G:'+'\x20f32\x20=\x20\x20xl'+'c.x\x20*\x20xsc.'+'x;\x0a\x0a\x20\x20\x20\x20le'+'t\x20xmc:\x20vec'+'2f\x20=\x20vec2f'+'(C\x20*\x20F\x20-\x20B'+'\x20*\x20G,\x20-B\x20*'+'\x20F\x20+\x20C\x20*\x20E'+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20Root:\x20ve'+'c3f\x20=\x20vec3'+'f(xsc.x\x20/\x20'+'xsc.y,\x20xmc'+'.x\x20/\x20xmc.y'+',\x20xlc.x\x20/\x20'+'xlc.y);\x0a\x0a\x20'+'\x20\x20\x20if\x20(Roo'+'t.x\x20<\x20Root'+'.y\x20&&\x20Root'+'.x\x20<\x20Root.'+'z)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20Root\x20=\x20'+'Root.yxz;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20if\x20(Root.'+'z\x20<\x20Root.x'+'\x20&&\x20Root.z'+'\x20<\x20Root.y)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20Root\x20=\x20Ro'+'ot.xzy;\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20Root;'+'\x0a}\x0a\x0afn\x20LTC'+'_EvaluateD'+'isk(N:\x20vec'+'3f,\x20V:\x20vec'+'3f,\x20P:\x20vec'+'3f,\x20Minv:\x20'+'mat3x3f,\x20p'+'oints:\x20Coo'+'rds)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20//'+'\x20construct'+'\x20orthonorm'+'al\x20basis\x20a'+'round\x20N\x0a\x20\x20'+'\x20\x20let\x20T1:\x20'+'vec3f\x20=\x20no'+'rmalize(V\x20'+'-\x20N\x20*\x20dot('+'V,\x20N));\x0a\x20\x20'+'\x20\x20let\x20T2:\x20'+'vec3f\x20=\x20cr'+'oss(N,\x20T1)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'rotate\x20are'+'a\x20light\x20in'+'\x20(T1,\x20T2,\x20'+'N)\x20basis\x0a\x20'+'\x20\x20\x20let\x20R:\x20'+'mat3x3f\x20=\x20'+'transpose('+'\x20mat3x3f(\x20'+'T1,\x20T2,\x20N\x20'+')\x20);\x0a\x20\x20\x20\x20/'+'/\x20polygon\x20'+'(allocate\x20'+'5\x20vertices'+'\x20for\x20clipp')+('ing\x0a\x20\x20\x20\x20va'+'r\x20L_:\x20arra'+'y<vec3f,\x203'+'>;\x0a\x20\x20\x20\x20L_['+'0]\x20=\x20R\x20*\x20('+'\x20points.co'+'ord0\x20-\x20P\x20)'+';\x0a\x20\x20\x20\x20L_[1'+']\x20=\x20R\x20*\x20(\x20'+'points.coo'+'rd1\x20-\x20P\x20);'+'\x0a\x20\x20\x20\x20L_[2]'+'\x20=\x20R\x20*\x20(\x20p'+'oints.coor'+'d2\x20-\x20P\x20);\x0a'+'\x0a\x20\x20\x20\x20//\x20in'+'it\x20ellipse'+'\x0a\x20\x20\x20\x20let\x20C'+':\x20vec3f\x20\x20='+'\x200.5\x20*\x20(L_'+'[0]\x20+\x20L_[2'+']);\x0a\x20\x20\x20\x20va'+'r\x20V1:\x20vec3'+'f\x20=\x200.5\x20*\x20'+'(L_[1]\x20-\x20L'+'_[2]);\x0a\x20\x20\x20'+'\x20var\x20V2:\x20v'+'ec3f\x20=\x200.5'+'\x20*\x20(L_[1]\x20'+'-\x20L_[0]);\x0a'+'\x0a\x20\x20\x20\x20let\x20C'+'_Minv:\x20vec'+'3f\x20\x20=\x20Minv'+'\x20*\x20C;\x0a\x20\x20\x20\x20'+'let\x20V1_Min'+'v:\x20vec3f\x20='+'\x20Minv\x20*\x20V1'+';\x0a\x20\x20\x20\x20let\x20'+'V2_Minv:\x20v'+'ec3f\x20=\x20Min'+'v\x20*\x20V2;\x0a\x0a\x20'+'\x20\x20\x20//\x20comp'+'ute\x20eigenv'+'ectors\x20of\x20'+'ellipse\x0a\x20\x20'+'\x20\x20var\x20a:\x20f'+'32;\x0a\x20\x20\x20\x20va'+'r\x20b:\x20f32;\x0a'+'\x20\x20\x20\x20let\x20d1'+'1:\x20f32\x20=\x20d'+'ot(V1_Minv'+',\x20V1_Minv)'+';\x0a\x20\x20\x20\x20let\x20'+'d22:\x20f32\x20='+'\x20dot(V2_Mi'+'nv,\x20V2_Min'+'v);\x0a\x20\x20\x20\x20le'+'t\x20d12:\x20f32'+'\x20=\x20dot(V1_'+'Minv,\x20V2_M'+'inv);\x0a\x20\x20\x20\x20'+'if\x20(abs(d1'+'2)\x20/\x20sqrt('+'d11\x20*\x20d22)'+'\x20>\x200.0001)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20tr:\x20f'+'32\x20=\x20d11\x20+'+'\x20d22;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'t_inner:\x20f'+'32\x20=\x20-d12\x20'+'*\x20d12\x20+\x20d1'+'1\x20*\x20d22;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20det:\x20f32\x20'+'=\x20sqrt(det'+'_inner);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20u:\x20f32\x20=\x20'+'0.5\x20*\x20sqrt'+'(tr\x20-\x202.0\x20'+'*\x20det);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'v:\x20f32\x20=\x200'+'.5\x20*\x20sqrt('+'tr\x20+\x202.0\x20*'+'\x20det);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20e'+'_max:\x20f32\x20'+'=\x20(u\x20+\x20v)\x20'+'*\x20(u\x20+\x20v);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20e_min:\x20'+'f32\x20=\x20(u\x20-'+'\x20v)\x20*\x20(u\x20-'+'\x20v);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20V1'+'_:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va')+('r\x20V2_:\x20vec'+'3f;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(d11'+'\x20>\x20d22)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V1_\x20=\x20d1'+'2\x20*\x20V1_Min'+'v\x20+\x20(e_max'+'\x20-\x20d11)\x20*\x20'+'V2_Minv;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20V2_\x20=\x20d12'+'\x20*\x20V1_Minv'+'\x20+\x20(e_min\x20'+'-\x20d11)\x20*\x20V'+'2_Minv;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20V1_'+'\x20=\x20d12*V2_'+'Minv\x20+\x20(e_'+'max\x20-\x20d22)'+'*V1_Minv;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20V2_\x20=\x20d1'+'2*V2_Minv\x20'+'+\x20(e_min\x20-'+'\x20d22)*V1_M'+'inv;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20a\x20=\x201.'+'0\x20/\x20e_max;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20b'+'\x20=\x201.0\x20/\x20e'+'_min;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20V1\x20=\x20n'+'ormalize(V'+'1_);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20V2\x20=\x20no'+'rmalize(V2'+'_);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20a\x20=\x201'+'.0\x20/\x20dot(V'+'1_Minv,\x20V1'+'_Minv);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20b\x20=\x20'+'1.0\x20/\x20dot('+'V2_Minv,\x20V'+'2_Minv);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V1\x20'+'=\x20V1_Minv\x20'+'*\x20sqrt(a);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20V'+'2\x20=\x20V2_Min'+'v\x20*\x20sqrt(b'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20var\x20V3'+':\x20vec3f\x20=\x20'+'normalize('+'cross(V1,\x20'+'V2));\x0a\x20\x20\x20\x20'+'if\x20(dot(C_'+'Minv,\x20V3)\x20'+'<\x200.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20V3\x20'+'=\x20V3\x20*\x20-1.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20let\x20L:'+'\x20f32\x20\x20=\x20do'+'t(V3,\x20C_Mi'+'nv);\x0a\x20\x20\x20\x20l'+'et\x20x0:\x20f32'+'\x20=\x20dot(V1,'+'\x20C_Minv)\x20/'+'\x20L;\x0a\x20\x20\x20\x20le'+'t\x20y0:\x20f32\x20'+'=\x20dot(V2,\x20'+'C_Minv)\x20/\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20E1:\x20f32\x20'+'=\x20inverseS'+'qrt(a);\x0a\x20\x20'+'\x20\x20let\x20E2:\x20'+'f32\x20=\x20inve'+'rseSqrt(b)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20a_scaled\x20'+'=\x20a\x20*\x20L\x20*\x20'+'L;\x0a\x20\x20\x20\x20let'+'\x20b_scaled\x20'+'=\x20b\x20*\x20L\x20*\x20'+'L;\x0a\x0a\x20\x20\x20\x20le'+'t\x20c0:\x20f32\x20'+'=\x20a_scaled'+'\x20*\x20b_scale'+'d;\x0a\x20\x20\x20\x20let'+'\x20c1:\x20f32\x20='+'\x20a_scaled\x20'+'*\x20b_scaled')+('\x20*\x20(1.0\x20+\x20'+'x0\x20*\x20x0\x20+\x20'+'y0\x20*\x20y0)\x20-'+'\x20a_scaled\x20'+'-\x20b_scaled'+';\x0a\x20\x20\x20\x20let\x20'+'c2:\x20f32\x20=\x20'+'1.0\x20-\x20a_sc'+'aled\x20*\x20(1.'+'0\x20+\x20x0\x20*\x20x'+'0)\x20-\x20b_sca'+'led\x20*\x20(1.0'+'\x20+\x20y0\x20*\x20y0'+');\x0a\x20\x20\x20\x20let'+'\x20c3:\x20f32\x20='+'\x201.0;\x0a\x0a\x20\x20\x20'+'\x20let\x20roots'+':\x20vec3f\x20=\x20'+'SolveCubic'+'(vec4f(c0,'+'\x20c1,\x20c2,\x20c'+'3));\x0a\x20\x20\x20\x20l'+'et\x20e1:\x20f32'+'\x20=\x20roots.x'+';\x0a\x20\x20\x20\x20let\x20'+'e2:\x20f32\x20=\x20'+'roots.y;\x0a\x20'+'\x20\x20\x20let\x20e3:'+'\x20f32\x20=\x20roo'+'ts.z;\x0a\x0a\x20\x20\x20'+'\x20var\x20avgDi'+'r:\x20vec3f\x20='+'\x20vec3f(a_s'+'caled\x20*\x20x0'+'\x20/\x20(a_scal'+'ed\x20-\x20e2),\x20'+'b_scaled\x20*'+'\x20y0\x20/\x20(b_s'+'caled\x20-\x20e2'+'),\x201.0);\x0a\x0a'+'\x20\x20\x20\x20let\x20ro'+'tate:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(V1,\x20V2'+',\x20V3);\x0a\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20rotate\x20*\x20'+'avgDir;\x0a\x20\x20'+'\x20\x20avgDir\x20='+'\x20normalize'+'(avgDir);\x0a'+'\x0a\x20\x20\x20\x20let\x20L'+'1:\x20f32\x20=\x20s'+'qrt(-e2\x20/\x20'+'e3);\x0a\x20\x20\x20\x20l'+'et\x20L2:\x20f32'+'\x20=\x20sqrt(-e'+'2\x20/\x20e1);\x0a\x0a'+'\x20\x20\x20\x20let\x20fo'+'rmFactor:\x20'+'f32\x20=\x20max('+'0.0,\x20L1\x20*\x20'+'L2\x20*\x20inver'+'seSqrt((1.'+'0\x20+\x20L1\x20*\x20L'+'1)\x20*\x20(1.0\x20'+'+\x20L2\x20*\x20L2)'+'));\x0a\x0a\x20\x20\x20\x20c'+'onst\x20LUT_S'+'IZE_disk:\x20'+'f32\x20=\x2064.0'+';\x0a\x20\x20\x20\x20cons'+'t\x20LUT_SCAL'+'E_disk:\x20f3'+'2\x20=\x20(\x20LUT_'+'SIZE_disk\x20'+'-\x201.0\x20)\x20/\x20'+'LUT_SIZE_d'+'isk;\x0a\x20\x20\x20\x20c'+'onst\x20LUT_B'+'IAS_disk:\x20'+'f32\x20=\x200.5\x20'+'/\x20LUT_SIZE'+'_disk;\x0a\x0a\x20\x20'+'\x20\x20//\x20use\x20t'+'abulated\x20h'+'orizon-cli'+'pped\x20spher'+'e\x0a\x20\x20\x20\x20var\x20'+'uv:\x20vec2f\x20'+'=\x20vec2f(av'+'gDir.z\x20*\x200'+'.5\x20+\x200.5,\x20'+'formFactor'+');\x0a\x20\x20\x20\x20uv\x20'+'=\x20uv\x20*\x20LUT'+'_SCALE_dis'+'k\x20+\x20LUT_BI'+'AS_disk;\x0a\x0a'+'\x20\x20\x20\x20let\x20sc')+('ale:\x20f32\x20='+'\x20textureSa'+'mpleLevel('+'areaLights'+'LutTex2,\x20a'+'reaLightsL'+'utTex2Samp'+'ler,\x20uv,\x200'+'.0).w;\x0a\x0a\x20\x20'+'\x20\x20return\x20f'+'ormFactor\x20'+'*\x20scale;\x0a}'+'\x0a\x0a//\x20LTC_E'+'valuateDis'+'k\x20in\x20some\x20'+'rare\x20cases'+'\x20genereate'+'s\x20NaN\x20valu'+'es\x20in\x20a\x20or'+'\x20b,\x20just\x20b'+'efore\x20\x27flo'+'at\x20c0\x20=\x20a\x20'+'*\x20b;\x27\x0a//\x20G'+'et\x20rid\x20of\x20'+'those\x20Nan\x20'+'values\x20bef'+'ore\x20they\x20p'+'ropagate\x20f'+'urther,\x20as'+'\x20in\x20case\x20o'+'f\x20bloom\x20/\x20'+'DOF\x20blurs\x20'+'they\x0a//\x20pr'+'opagate\x20to'+'\x20large\x20are'+'as.\x20I\x20didn'+'\x27t\x20find\x20th'+'e\x20actual\x20r'+'eason\x20wher'+'e\x20those\x20co'+'me\x20from,\x20s'+'o\x20that\x20is\x20'+'still\x20TODO'+'.\x0a//\x20Note\x20'+'that\x20only\x20'+'disk/spher'+'e\x20lights\x20a'+'re\x20causing'+'\x20it,\x20so\x20on'+'ly\x20handle\x20'+'those.\x0afn\x20'+'FixNan(val'+'ue:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20//\x20use\x20v'+'alue\x20!=\x20va'+'lue\x20check\x20'+'for\x20NaN\x20as'+'\x20isnan()\x20i'+'s\x20not\x20avai'+'lable\x20in\x20W'+'GSL\x0a\x20\x20\x20\x20re'+'turn\x20selec'+'t(value,\x200'+'.0,\x20value\x20'+'!=\x20value);'+'\x0a}\x0a\x0afn\x20get'+'RectLightD'+'iffuse(wor'+'ldNormal:\x20'+'vec3f,\x20vie'+'wDir:\x20vec3'+'f,\x20lightDi'+'r:\x20vec3f,\x20'+'lightDirNo'+'rm:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20id'+'entityMat\x20'+'=\x20mat3x3f('+'vec3f(1.0,'+'\x200.0,\x200.0)'+',\x20vec3f(0.'+'0,\x201.0,\x200.'+'0),\x20vec3f('+'0.0,\x200.0,\x20'+'1.0));\x0a\x20\x20\x20'+'\x20return\x20LT'+'C_Evaluate'+'Rect(\x20worl'+'dNormal,\x20v'+'iewDir,\x20vP'+'ositionW,\x20'+'identityMa'+'t,\x20dLTCCoo'+'rds\x20);\x0a}\x0a\x0a'+'fn\x20getDisk'+'LightDiffu'+'se(worldNo'+'rmal:\x20vec3')+('f,\x20viewDir'+':\x20vec3f,\x20l'+'ightDir:\x20v'+'ec3f,\x20ligh'+'tDirNorm:\x20'+'vec3f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'let\x20identi'+'tyMat\x20=\x20ma'+'t3x3f(vec3'+'f(1.0,\x200.0'+',\x200.0),\x20ve'+'c3f(0.0,\x201'+'.0,\x200.0),\x20'+'vec3f(0.0,'+'\x200.0,\x201.0)'+');\x0a\x20\x20\x20\x20ret'+'urn\x20FixNan'+'(LTC_Evalu'+'ateDisk(\x20w'+'orldNormal'+',\x20viewDir,'+'\x20vPosition'+'W,\x20identit'+'yMat,\x20dLTC'+'Coords\x20));'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tDiffuse(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20light'+'Dir:\x20vec3f'+',\x20lightDir'+'Norm:\x20vec3'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20//\x20N'+'B:\x20this\x20co'+'uld\x20be\x20imp'+'roved\x20furt'+'her\x20with\x20d'+'istance\x20ba'+'sed\x20wrap\x20l'+'ighting\x0a\x20\x20'+'\x20\x20let\x20fall'+'off:\x20f32\x20='+'\x20dSphereRa'+'dius\x20/\x20(do'+'t(lightDir'+',\x20lightDir'+')\x20+\x20dSpher'+'eRadius);\x0a'+'\x20\x20\x20\x20return'+'\x20FixNan(ge'+'tLightDiff'+'use(worldN'+'ormal,\x20vie'+'wDir,\x20ligh'+'tDirNorm)\x20'+'*\x20falloff)'+';\x0a}\x0a\x0afn\x20ge'+'tLTCLightI'+'nvMat(uv:\x20'+'vec2f)\x20->\x20'+'mat3x3f\x20{\x0a'+'\x20\x20\x20\x20let\x20t1'+':\x20vec4f\x20=\x20'+'textureSam'+'pleLevel(a'+'reaLightsL'+'utTex1,\x20ar'+'eaLightsLu'+'tTex1Sampl'+'er,\x20uv,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(\x20'+'t1.x,\x200.0,'+'\x20t1.y\x20),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(\x200.0,\x201'+'.0,\x200.0\x20),'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ec3f(\x20t1.z'+',\x200.0,\x20t1.'+'w\x20)\x0a\x20\x20\x20\x20);'+'\x0a}\x0a\x0afn\x20cal'+'cRectLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight')+('InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateRect('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getRectLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcRectLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20cal'+'cDiskLight'+'Specular(w'+'orldNormal'+':\x20vec3f,\x20v'+'iewDir:\x20ve'+'c3f,\x20uv:\x20v'+'ec2f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20l'+'et\x20mInv:\x20m'+'at3x3f\x20=\x20g'+'etLTCLight'+'InvMat(uv)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20LTC_Eva'+'luateDisk('+'\x20worldNorm'+'al,\x20viewDi'+'r,\x20vPositi'+'onW,\x20mInv,'+'\x20dLTCCoord'+'s\x20);\x0a}\x0a\x0afn'+'\x20getDiskLi'+'ghtSpecula'+'r(worldNor'+'mal:\x20vec3f'+',\x20viewDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20ca'+'lcDiskLigh'+'tSpecular('+'worldNorma'+'l,\x20viewDir'+',\x20dLTCUV);'+'\x0a}\x0a\x0afn\x20get'+'SphereLigh'+'tSpecular('+'worldNorma'+'l:\x20vec3f,\x20'+'viewDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20calc'+'DiskLightS'+'pecular(wo'+'rldNormal,'+'\x20viewDir,\x20'+'dLTCUV);\x0a}'+'\x0a'),UD='\x0a#ifdef\x20ST'+'D_METALNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_me'+'talness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getMe'+'talness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'metalness:'+'\x20f32\x20=\x201.0'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20metal'+'ness\x20=\x20met'+'alness\x20*\x20u'+'niform.mat'+'erial_meta'+'lness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_METALN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'metalness\x20'+'=\x20metalnes'+'s\x20*\x20textur'+'eSampleBia'+'s({STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+',\x20{STD_MET'+'ALNESS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_METALN'+'ESS_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias).{S'+'TD_METALNE'+'SS_TEXTURE'+'_CHANNEL};'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_ME'+'TALNESS_VE'+'RTEX\x0a\x20\x20\x20\x20m'+'etalness\x20='+'\x20metalness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'METALNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20dMetal'+'ness\x20=\x20met'+'alness;\x0a}\x0a',BD='\x0avar\x20textu'+'re_msdfMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20texture'+'_msdfMapSa'+'mpler:\x20sam'+'pler;\x0a\x0afn\x20'+'median(r:\x20'+'f32,\x20g:\x20f3'+'2,\x20b:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20max(min(r'+',\x20g),\x20min('+'max(r,\x20g),'+'\x20b));\x0a}\x0a\x0af'+'n\x20map(min:'+'\x20f32,\x20max:'+'\x20f32,\x20v:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20(v\x20-\x20m'+'in)\x20/\x20(max'+'\x20-\x20min);\x0a}'+'\x0a\x0auniform\x20'+'font_sdfIn'+'tensity:\x20f'+'32;\x20//\x20int'+'ensity\x20is\x20'+'used\x20to\x20bo'+'ost\x20the\x20va'+'lue\x20read\x20f'+'rom\x20the\x20SD'+'F,\x200\x20is\x20no'+'\x20boost,\x201.'+'0\x20is\x20max\x20b'+'oost\x0aunifo'+'rm\x20font_px'+'range:\x20f32'+';\x20\x20\x20\x20\x20\x20//\x20'+'the\x20number'+'\x20of\x20pixels'+'\x20between\x20i'+'nside\x20and\x20'+'outside\x20th'+'e\x20font\x20in\x20'+'SDF\x0aunifor'+'m\x20font_tex'+'tureWidth:'+'\x20f32;\x20//\x20t'+'he\x20width\x20o'+'f\x20the\x20text'+'ure\x20atlas\x0a'+'\x0a#ifndef\x20L'+'IT_MSDF_TE'+'XT_ATTRIBU'+'TE\x0a\x20\x20\x20\x20uni'+'form\x20outli'+'ne_color:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20uniform\x20o'+'utline_thi'+'ckness:\x20f3'+'2;\x0a\x20\x20\x20\x20uni'+'form\x20shado'+'w_color:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'uniform\x20sh'+'adow_offse'+'t:\x20vec2f;\x0a'+'#else\x0a\x20\x20\x20\x20'+'varying\x20ou'+'tline_colo'+'r:\x20vec4f;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20outline_'+'thickness:'+'\x20f32;\x0a\x20\x20\x20\x20'+'varying\x20sh'+'adow_color'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20varying'+'\x20shadow_of'+'fset:\x20vec2'+'f;\x0a#endif\x0a'+'\x0afn\x20applyM'+'sdf(color_'+'in:\x20vec4f)'+'\x20->\x20vec4f\x20'+'{\x0a\x0a\x20\x20\x20\x20#if'+'ndef\x20LIT_M'+'SDF_TEXT_A'+'TTRIBUTE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20uniform.'+'outline_co'+'lor;\x0a\x20\x20\x20\x20\x20'+('\x20\x20\x20var\x20out'+'line_thick'+'nessValue\x20'+'=\x20uniform.'+'outline_th'+'ickness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_co'+'lorValue\x20='+'\x20uniform.s'+'hadow_colo'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_offsetVa'+'lue\x20=\x20unif'+'orm.shadow'+'_offset;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20outline_c'+'olorValue\x20'+'=\x20outline_'+'color;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20o'+'utline_thi'+'cknessValu'+'e\x20=\x20outlin'+'e_thicknes'+'s;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20shado'+'w_colorVal'+'ue\x20=\x20shado'+'w_color;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20shadow_of'+'fsetValue\x20'+'=\x20shadow_o'+'ffset;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20//\x20Conv'+'ert\x20to\x20lin'+'ear\x20space\x20'+'before\x20pro'+'cessing\x0a\x20\x20'+'\x20\x20//\x20TODO:'+'\x20ideally\x20t'+'his\x20would\x20'+'receive\x20th'+'e\x20color\x20in'+'\x20linear\x20sp'+'ace,\x20but\x20t'+'hat\x20would\x20'+'require\x20la'+'rger\x20chang'+'es\x0a\x20\x20\x20\x20//\x20'+'on\x20the\x20eng'+'ine\x20side,\x20'+'with\x20the\x20w'+'ay\x20premult'+'iplied\x20alp'+'ha\x20is\x20hand'+'led\x20as\x20wel'+'l.\x0a\x20\x20\x20\x20var'+'\x20color\x20=\x20v'+'ec4f(gamma'+'CorrectInp'+'utVec3(col'+'or_in.rgb)'+',\x20color_in'+'.a);\x0a\x0a\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20field\x0a'+'\x20\x20\x20\x20let\x20ts'+'ample:\x20vec'+'3f\x20=\x20textu'+'reSample(t'+'exture_msd'+'fMap,\x20text'+'ure_msdfMa'+'pSampler,\x20'+'vUv0).rgb;'+'\x0a\x20\x20\x20\x20let\x20u'+'vShdw:\x20vec'+'2f\x20=\x20vUv0\x20'+'-\x20shadow_o'+'ffsetValue'+';\x0a\x20\x20\x20\x20let\x20'+'ssample:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'(texture_m'+'sdfMap,\x20te'+'xture_msdf'+'MapSampler'+',\x20uvShdw).'+'rgb;\x0a\x0a\x20\x20\x20\x20'+'//\x20get\x20the'+'\x20signed\x20di'+'stance\x20val'+'ue\x0a\x20\x20\x20\x20let')+('\x20sigDist:\x20'+'f32\x20=\x20medi'+'an(tsample'+'.r,\x20tsampl'+'e.g,\x20tsamp'+'le.b);\x0a\x20\x20\x20'+'\x20var\x20sigDi'+'stShdw:\x20f3'+'2\x20=\x20median'+'(ssample.r'+',\x20ssample.'+'g,\x20ssample'+'.b);\x0a\x0a\x20\x20\x20\x20'+'//\x20smoothi'+'ng\x20limit\x20-'+'\x20smaller\x20v'+'alue\x20makes'+'\x20for\x20sharp'+'er\x20but\x20mor'+'e\x20aliased\x20'+'text,\x20espe'+'cially\x20on\x20'+'angles\x0a\x20\x20\x20'+'\x20//\x20too\x20la'+'rge\x20value\x20'+'(0.5)\x20crea'+'tes\x20a\x20dark'+'\x20glow\x20arou'+'nd\x20the\x20let'+'ters\x0a\x20\x20\x20\x20l'+'et\x20smoothi'+'ngMax:\x20f32'+'\x20=\x200.2;\x0a\x0a\x20'+'\x20\x20\x20//\x20smoo'+'thing\x20depe'+'nds\x20on\x20siz'+'e\x20of\x20textu'+'re\x20on\x20scre'+'en\x0a\x20\x20\x20\x20let'+'\x20w:\x20vec2f\x20'+'=\x20abs(dpdx'+'(vUv0))\x20+\x20'+'abs(dpdy(v'+'Uv0));\x0a\x20\x20\x20'+'\x20let\x20smoot'+'hing:\x20f32\x20'+'=\x20clamp(w.'+'x\x20*\x20unifor'+'m.font_tex'+'tureWidth\x20'+'/\x20uniform.'+'font_pxran'+'ge,\x200.0,\x20s'+'moothingMa'+'x);\x0a\x0a\x20\x20\x20\x20l'+'et\x20mapMin:'+'\x20f32\x20=\x200.0'+'5;\x0a\x20\x20\x20\x20let'+'\x20mapMax:\x20f'+'32\x20=\x20clamp'+'(1.0\x20-\x20uni'+'form.font_'+'sdfIntensi'+'ty,\x20mapMin'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20//\x20rema'+'p\x20to\x20a\x20sma'+'ller\x20range'+'\x20(used\x20on\x20'+'smaller\x20fo'+'nt\x20sizes)\x0a'+'\x20\x20\x20\x20let\x20si'+'gDistInner'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist);\x0a\x20\x20'+'\x20\x20let\x20sigD'+'istOutline'+':\x20f32\x20=\x20ma'+'p(mapMin,\x20'+'mapMax,\x20si'+'gDist\x20+\x20ou'+'tline_thic'+'knessValue'+');\x0a\x20\x20\x20\x20sig'+'DistShdw\x20='+'\x20map(mapMi'+'n,\x20mapMax,'+'\x20sigDistSh'+'dw\x20+\x20outli'+'ne_thickne'+'ssValue);\x0a'+'\x0a\x20\x20\x20\x20let\x20c'+'enter:\x20f32'+'\x20=\x200.5;\x0a\x20\x20'+'\x20\x20//\x20calcu'+'late\x20smoot'+'hing\x20and\x20u'+'se\x20to\x20gene')+('rate\x20opaci'+'ty\x0a\x20\x20\x20\x20let'+'\x20inside:\x20f'+'32\x20=\x20smoot'+'hstep(cent'+'er\x20-\x20smoot'+'hing,\x20cent'+'er\x20+\x20smoot'+'hing,\x20sigD'+'istInner);'+'\x0a\x20\x20\x20\x20let\x20o'+'utline:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stOutline)'+';\x0a\x20\x20\x20\x20let\x20'+'shadow:\x20f3'+'2\x20=\x20smooth'+'step(cente'+'r\x20-\x20smooth'+'ing,\x20cente'+'r\x20+\x20smooth'+'ing,\x20sigDi'+'stShdw);\x0a\x0a'+'\x20\x20\x20\x20let\x20tc'+'olor_outli'+'ne:\x20vec4f\x20'+'=\x20outline\x20'+'*\x20vec4f(ou'+'tline_colo'+'rValue.a\x20*'+'\x20outline_c'+'olorValue.'+'rgb,\x20outli'+'ne_colorVa'+'lue.a);\x0a\x20\x20'+'\x20\x20var\x20tcol'+'or:\x20vec4f\x20'+'=\x20select(v'+'ec4f(0.0),'+'\x20tcolor_ou'+'tline,\x20out'+'line\x20>\x20ins'+'ide);\x0a\x20\x20\x20\x20'+'tcolor\x20=\x20m'+'ix(tcolor,'+'\x20color,\x20in'+'side);\x0a\x0a\x20\x20'+'\x20\x20let\x20scol'+'or_shadow:'+'\x20vec4f\x20=\x20s'+'hadow\x20*\x20ve'+'c4f(shadow'+'_colorValu'+'e.a\x20*\x20shad'+'ow_colorVa'+'lue.rgb,\x20s'+'hadow_colo'+'rValue.a);'+'\x0a\x20\x20\x20\x20let\x20s'+'color:\x20vec'+'4f\x20=\x20selec'+'t(tcolor,\x20'+'scolor_sha'+'dow,\x20shado'+'w\x20>\x20outlin'+'e);\x0a\x20\x20\x20\x20tc'+'olor\x20=\x20mix'+'(scolor,\x20t'+'color,\x20out'+'line);\x0a\x0a\x20\x20'+'\x20\x20//\x20Conve'+'rt\x20back\x20to'+'\x20gamma\x20spa'+'ce\x20before\x20'+'returning\x0a'+'\x20\x20\x20\x20tcolor'+'\x20=\x20vec4f(g'+'ammaCorrec'+'tOutput(tc'+'olor.rgb),'+'\x20tcolor.a)'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20tcolor'+';\x0a}\x0a'),zD='\x0a\x0afn\x20getSp'+'ecularModu'+'late(specu'+'larity:\x20ve'+'c3f,\x20albed'+'o:\x20vec3f,\x20'+'metalness:'+'\x20f32,\x20f0:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20dielec'+'tricF0:\x20ve'+'c3f\x20=\x20f0\x20*'+'\x20speculari'+'ty;\x0a\x20\x20\x20\x20re'+'turn\x20mix(d'+'ielectricF'+'0,\x20albedo,'+'\x20metalness'+');\x0a}\x0a\x0afn\x20g'+'etAlbedoMo'+'dulate(alb'+'edo:\x20vec3f'+',\x20metalnes'+'s:\x20f32)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'albedo\x20*\x20('+'1.0\x20-\x20meta'+'lness);\x0a}\x0a',VD='\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec2f;\x0a\x0a\x20\x20\x20'+'\x20var\x20morph'+'Texture:\x20t'+'exture_2d_'+'array<f32>'+';\x0a\x20\x20\x20\x20unif'+'orm\x20morphF'+'actor:\x20arr'+'ay<f32,\x20{M'+'ORPH_TEXTU'+'RE_MAX_COU'+'NT}>;\x0a\x20\x20\x20\x20'+'uniform\x20mo'+'rphIndex:\x20'+'array<u32,'+'\x20{MORPH_TE'+'XTURE_MAX_'+'COUNT}>;\x0a\x20'+'\x20\x20\x20uniform'+'\x20count:\x20u3'+'2;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x0a\x20\x20'+'\x20\x20fn\x20fragm'+'entMain(in'+'put\x20:\x20Frag'+'mentInput)'+'\x20->\x20Fragme'+'ntOutput\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20color\x20='+'\x20vec3f(0,\x20'+'0,\x200);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20t'+'extureDims'+'\x20=\x20texture'+'Dimensions'+'(morphText'+'ure);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20pi'+'xelCoords\x20'+'=\x20vec2i(in'+'put.uv0\x20*\x20'+'vec2f(text'+'ureDims));'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20i:\x20'+'u32\x20=\x200;\x20i'+'\x20<\x20uniform'+'.count;\x20i\x20'+'=\x20i\x20+\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'tureIndex:'+'\x20u32\x20=\x20uni'+'form.morph'+'Index[i].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20delta\x20'+'=\x20textureL'+'oad(morphT'+'exture,\x20pi'+'xelCoords,'+'\x20textureIn'+'dex,\x200).xy'+'z;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20color'+'\x20+=\x20unifor'+'m.morphFac'+'tor[i].ele'+'ment\x20*\x20del'+'ta;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'color,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a\x20\x20\x20\x20'+'}\x0a',GD='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec2f;\x0a\x20'+'\x20\x20\x20varying'+'\x20uv0:\x20vec2'+'f;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input:'+'\x20VertexInp'+'ut)\x20->\x20Ver'+'texOutput\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20output'+':\x20VertexOu'+'tput;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20vec4f(in'+'put.vertex'+'_position,'+'\x200.5,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.uv0'+'\x20=\x20input.v'+'ertex_posi'+'tion\x20*\x200.5'+'\x20+\x20vec2f(0'+'.5,\x200.5);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',HD='\x0aattribute'+'\x20vertex_ou'+'tlineParam'+'eters:\x20vec'+'3f;\x0aattrib'+'ute\x20vertex'+'_shadowPar'+'ameters:\x20v'+'ec3f;\x0a\x0avar'+'ying\x20outli'+'ne_color:\x20'+'vec4f;\x0avar'+'ying\x20outli'+'ne_thickne'+'ss:\x20f32;\x0av'+'arying\x20sha'+'dow_color:'+'\x20vec4f;\x0ava'+'rying\x20shad'+'ow_offset:'+'\x20vec2f;\x0a\x0av'+'ar<private'+'>\x20dOutline'+'Color:\x20vec'+'4f;\x0avar<pr'+'ivate>\x20dOu'+'tlineThick'+'ness:\x20f32;'+'\x0avar<priva'+'te>\x20dShado'+'wColor:\x20ve'+'c4f;\x0avar<p'+'rivate>\x20dS'+'hadowOffse'+'t:\x20vec2f;\x0a'+'\x0afn\x20unpack'+'MsdfParams'+'()\x20{\x0a\x20\x20\x20\x20l'+'et\x20little:'+'\x20vec3f\x20=\x20v'+'ertex_outl'+'ineParamet'+'ers\x20%\x20vec3'+'f(256.0);\x0a'+'\x20\x20\x20\x20let\x20bi'+'g:\x20vec3f\x20='+'\x20(vertex_o'+'utlinePara'+'meters\x20-\x20l'+'ittle)\x20/\x202'+'56.0;\x0a\x0a\x20\x20\x20'+'\x20dOutlineC'+'olor\x20=\x20vec'+'4f(little.'+'x,\x20big.x,\x20'+'little.y,\x20'+'big.y)\x20/\x202'+'55.0;\x0a\x0a\x20\x20\x20'+'\x20//\x20_outli'+'neThicknes'+'sScale\x20==='+'\x200.2\x0a\x20\x20\x20\x20d'+'OutlineThi'+'ckness\x20=\x20l'+'ittle.z\x20/\x20'+'255.0\x20*\x200.'+'2;\x0a\x0a\x20\x20\x20\x20le'+'t\x20little_s'+'hadow\x20=\x20ve'+'rtex_shado'+'wParameter'+'s\x20%\x20vec3f('+'256.0);\x0a\x20\x20'+'\x20\x20let\x20big_'+'shadow\x20=\x20('+'vertex_sha'+'dowParamet'+'ers\x20-\x20litt'+'le_shadow)'+'\x20/\x20256.0;\x0a'+'\x0a\x20\x20\x20\x20dShad'+'owColor\x20=\x20'+'vec4f(litt'+'le_shadow.'+'x,\x20big_sha'+'dow.x,\x20lit'+'tle_shadow'+'.y,\x20big_sh'+'adow.y)\x20/\x20'+'255.0;\x0a\x0a\x20\x20'+'\x20\x20//\x20vec2('+'little.z,\x20'+'big.z)\x20/\x201'+'27.\x20-\x201.\x20r'+'emaps\x20shad'+'ow\x20offset\x20'+'from\x20[0,\x202'+'54]\x20to\x20[-1'+',\x201]\x0a\x20\x20\x20\x20/'+'/\x20_shadowO'+('ffsetScale'+'\x20===\x200.005'+'\x0a\x20\x20\x20\x20dShad'+'owOffset\x20='+'\x20(vec2f(li'+'ttle_shado'+'w.z,\x20big_s'+'hadow.z)\x20/'+'\x20127.0\x20-\x201'+'.0)\x20*\x200.00'+'5;\x0a}\x0a'),WD='\x0avar<priva'+'te>\x20dNorma'+'lMatrix:\x20m'+'at3x3f;\x0a\x0af'+'n\x20getNorma'+'l()\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20d'+'NormalMatr'+'ix\x20=\x20getNo'+'rmalMatrix'+'(dModelMat'+'rix);\x0a\x20\x20\x20\x20'+'let\x20localN'+'ormal:\x20vec'+'3f\x20=\x20getLo'+'calNormal('+'vertex_nor'+'mal);\x0a\x20\x20\x20\x20'+'return\x20nor'+'malize(dNo'+'rmalMatrix'+'\x20*\x20localNo'+'rmal);\x0a}',$D='\x0a\x0aattribut'+'e\x20vertex_n'+'ormal:\x20vec'+'3f;\x0a\x0aunifo'+'rm\x20matrix_'+'normal:\x20ma'+'t3x3f;\x0a\x0a#i'+'fdef\x20MORPH'+'ING_NORMAL'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20MORPHING'+'_INT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20mor'+'phNormalTe'+'x:\x20texture'+'_2d<u32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphNor'+'malTexSamp'+'ler:\x20sampl'+'er;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hNormalTex'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20morphNorm'+'alTexSampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20#en'+'dif\x0a#endif'+'\x0a\x0afn\x20getLo'+'calNormal('+'vertexNorm'+'al:\x20vec3f)'+'\x20->\x20vec3f\x20'+'{\x0a\x0a\x20\x20\x20\x20var'+'\x20localNorm'+'al:\x20vec3f\x20'+'=\x20vertexNo'+'rmal;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20MO'+'RPHING_NOR'+'MAL\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20mor'+'phUV:\x20vec2'+'i\x20=\x20getTex'+'tureMorphC'+'oords();\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20MORPH'+'ING_INT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20morphN'+'ormalInt:\x20'+'vec4u\x20=\x20te'+'xtureLoad('+'morphNorma'+'lTex,\x20morp'+'hUV,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20morph'+'NormalF:\x20v'+'ec3f\x20=\x20vec'+'3f(morphNo'+'rmalInt.xy'+'z)\x20/\x2065535'+'.0\x20*\x202.0\x20-'+'\x201.0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormalF;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'morphNorma'+'l:\x20vec3f\x20='+'\x20textureLo'+'ad(morphNo'+'rmalTex,\x20m'+'orphUV,\x200)'+'.xyz;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20lo'+'calNormal\x20'+'=\x20localNor'+'mal\x20+\x20morp'+'hNormal;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20return\x20lo'+'calNormal;'+'\x0a}\x0a\x0a#if\x20de'+'fined(SKIN'+')\x20||\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20fn\x20get'+('NormalMatr'+'ix(modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ma'+'t3x3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20mat3x3f'+'(modelMatr'+'ix[0].xyz,'+'\x20modelMatr'+'ix[1].xyz,'+'\x20modelMatr'+'ix[2].xyz)'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lif\x20define'+'d(INSTANCI'+'NG)\x0a\x20\x20\x20\x20fn'+'\x20getNormal'+'Matrix(mod'+'elMatrix:\x20'+'mat4x4f)\x20-'+'>\x20mat3x3f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20mat'+'3x3f(model'+'Matrix[0].'+'xyz,\x20model'+'Matrix[1].'+'xyz,\x20model'+'Matrix[2].'+'xyz);\x0a\x20\x20\x20\x20'+'}\x0a#else\x0a\x20\x20'+'\x20\x20fn\x20getNo'+'rmalMatrix'+'(modelMatr'+'ix:\x20mat4x4'+'f)\x20->\x20mat3'+'x3f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_norm'+'al;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a'),XD='\x0a#ifdef\x20ST'+'D_NORMAL_T'+'EXTURE\x0a\x20\x20\x20'+'\x20uniform\x20m'+'aterial_bu'+'mpiness:\x20f'+'32;\x0a#endif'+'\x0a\x0a#ifdef\x20S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE\x0a\x20\x20\x20\x20un'+'iform\x20mate'+'rial_norma'+'lDetailMap'+'Bumpiness:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20//\x20https:'+'//blog.sel'+'fshadow.co'+'m/publicat'+'ions/blend'+'ing-in-det'+'ail/#detai'+'l-oriented'+'\x0a\x20\x20\x20\x20fn\x20bl'+'endNormals'+'(inN1:\x20vec'+'3f,\x20inN2:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'n1:\x20vec3f\x20'+'=\x20inN1\x20+\x20v'+'ec3f(0.0,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20n2:\x20vec'+'3f\x20=\x20inN2\x20'+'*\x20vec3f(-1'+'.0,\x20-1.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20n1\x20*\x20dot('+'n1,\x20n2)\x20/\x20'+'n1.z\x20-\x20n2;'+'\x0a\x20\x20\x20\x20}\x0a#en'+'dif\x0a\x0afn\x20ge'+'tNormal()\x20'+'{\x0a#ifdef\x20S'+'TD_NORMAL_'+'TEXTURE\x0a\x20\x20'+'\x20\x20var\x20norm'+'alMap:\x20vec'+'3f\x20=\x20{STD_'+'NORMAL_TEX'+'TURE_DECOD'+'E}(texture'+'SampleBias'+'({STD_NORM'+'AL_TEXTURE'+'_NAME},\x20{S'+'TD_NORMAL_'+'TEXTURE_NA'+'ME}Sampler'+',\x20{STD_NOR'+'MAL_TEXTUR'+'E_UV},\x20uni'+'form.textu'+'reBias));\x0a'+'\x20\x20\x20\x20normal'+'Map\x20=\x20mix('+'vec3f(0.0,'+'\x200.0,\x201.0)'+',\x20normalMa'+'p,\x20uniform'+'.material_'+'bumpiness)'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20STD_NO'+'RMALDETAIL'+'_TEXTURE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20normalDet'+'ailMap:\x20ve'+'c3f\x20=\x20{STD'+'_NORMALDET'+'AIL_TEXTUR'+'E_DECODE}('+'textureSam'+'pleBias({S'+'TD_NORMALD'+'ETAIL_TEXT'+'URE_NAME},'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_NAM'+'E}Sampler,'+'\x20{STD_NORM'+'ALDETAIL_T'+'EXTURE_UV}'+(',\x20uniform.'+'textureBia'+'s));\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20normalD'+'etailMap\x20='+'\x20mix(vec3f'+'(0.0,\x200.0,'+'\x201.0),\x20nor'+'malDetailM'+'ap,\x20unifor'+'m.material'+'_normalDet'+'ailMapBump'+'iness);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20norm'+'alMap\x20=\x20bl'+'endNormals'+'(normalMap'+',\x20normalDe'+'tailMap);\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20nor'+'malize(dTB'+'N\x20*\x20normal'+'Map);\x0a#els'+'e\x0a\x20\x20\x20\x20dNor'+'malW\x20=\x20dVe'+'rtexNormal'+'W;\x0a#endif\x0a'+'}\x0a'),qD='\x0auniform\x20m'+'aterial_op'+'acity:\x20f32'+';\x0a\x0afn\x20getO'+'pacity()\x20{'+'\x0a\x20\x20\x20\x20dAlph'+'a\x20=\x20unifor'+'m.material'+'_opacity;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_OPAC'+'ITY_TEXTUR'+'E\x0a\x20\x20\x20\x20dAlp'+'ha\x20=\x20dAlph'+'a\x20*\x20textur'+'eSampleBia'+'s({STD_OPA'+'CITY_TEXTU'+'RE_NAME},\x20'+'{STD_OPACI'+'TY_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'OPACITY_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_OPA'+'CITY_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'OPACITY_VE'+'RTEX\x0a\x20\x20\x20\x20d'+'Alpha\x20=\x20dA'+'lpha\x20*\x20cla'+'mp(vVertex'+'Color.{STD'+'_OPACITY_V'+'ERTEX_CHAN'+'NEL},\x200.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a',jD='\x0a\x0a#if\x20STD_'+'OPACITY_DI'+'THER\x20==\x20BA'+'YER8\x0a\x20\x20\x20\x20#'+'include\x20\x22b'+'ayerPS\x22\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20blueNo'+'iseJitter:'+'\x20vec4f;\x0a\x0a#'+'if\x20STD_OPA'+'CITY_DITHE'+'R\x20==\x20BLUEN'+'OISE\x0a\x20\x20\x20\x20v'+'ar\x20blueNoi'+'seTex32\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20blueN'+'oiseTex32S'+'ampler\x20:\x20s'+'ampler;\x0a#e'+'ndif\x0a\x0afn\x20o'+'pacityDith'+'er(alpha:\x20'+'f32,\x20id:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'#if\x20STD_OP'+'ACITY_DITH'+'ER\x20==\x20BAYE'+'R8\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20nois'+'e:\x20f32\x20=\x20b'+'ayer8(floo'+'r((pcPosit'+'ion.xy\x20+\x20u'+'niform.blu'+'eNoiseJitt'+'er.xy\x20+\x20id'+')\x20%\x20vec2f('+'8.0)))\x20/\x206'+'4.0;\x0a\x0a\x20\x20\x20\x20'+'#else\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20S'+'TD_OPACITY'+'_DITHER\x20=='+'\x20BLUENOISE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uv\x20'+'=\x20fract(pc'+'Position.x'+'y\x20/\x2032.0\x20+'+'\x20uniform.b'+'lueNoiseJi'+'tter.xy\x20+\x20'+'id);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20noise:\x20f3'+'2\x20=\x20textur'+'eSampleLev'+'el(blueNoi'+'seTex32,\x20b'+'lueNoiseTe'+'x32Sampler'+',\x20uv,\x200.0)'+'.y;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'f\x20STD_OPAC'+'ITY_DITHER'+'\x20==\x20IGNNOI'+'SE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ba'+'sed\x20on\x20htt'+'ps://www.i'+'ryoku.com/'+'next-gener'+'ation-post'+'-processin'+'g-in-call-'+'of-duty-ad'+'vanced-war'+'fare/\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20magic\x20=\x20'+'vec3f(0.06'+'711056,\x200.'+'00583715,\x20'+'52.9829189'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'oise:\x20f32\x20'+'=\x20fract(ma'+'gic.z\x20*\x20fr'+'act(dot(pc'+'Position.x'+'y\x20+\x20unifor'+'m.blueNois'+'eJitter.xy'+'\x20+\x20id,\x20mag'+('ic.xy)));\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20conve'+'rt\x20the\x20noi'+'se\x20to\x20line'+'ar\x20space,\x20'+'as\x20that\x20is'+'\x20specified'+'\x20in\x20sRGB\x20s'+'pace\x20(stor'+'es\x20percept'+'ual\x20values'+')\x0a\x20\x20\x20\x20nois'+'e\x20=\x20pow(no'+'ise,\x202.2);'+'\x0a\x0a\x20\x20\x20\x20if\x20('+'alpha\x20<\x20no'+'ise)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20}\x0a'+'}\x0a'),YD='\x0a',KD='\x0a\x0a#if\x20LIT_'+'BLEND_TYPE'+'\x20==\x20NORMAL'+'\x20||\x20LIT_BL'+'END_TYPE\x20='+'=\x20ADDITIVE'+'ALPHA\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x0a'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'vec4f(outp'+'ut.color.r'+'gb,\x20litArg'+'s_opacity)'+';\x0a\x0a#elif\x20L'+'IT_BLEND_T'+'YPE\x20==\x20PRE'+'MULTIPLIED'+'\x0a\x0a\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(out'+'put.color.'+'rgb\x20*\x20litA'+'rgs_opacit'+'y,\x20litArgs'+'_opacity);'+'\x0a\x0a#else\x0a\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20ve'+'c4f(output'+'.color.rgb'+',\x201.0);\x0a\x0a#'+'endif\x0a',ZD='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0avar\x20sour'+'ce:\x20textur'+'e_2d<f32>;'+'\x0avar\x20sourc'+'eSampler:\x20'+'sampler;\x0a\x0a'+'@fragment\x20'+'fn\x20fragmen'+'tMain(inpu'+'t\x20:\x20Fragme'+'ntInput)\x20-'+'>\x20Fragment'+'Output\x20{\x0a\x20'+'\x20\x20\x20var\x20out'+'put:\x20Fragm'+'entOutput;'+'\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'textureSam'+'ple(source'+',\x20sourceSa'+'mpler,\x20inp'+'ut.vUv0);\x0a'+'\x20\x20\x20\x20return'+'\x20output;\x0a}'+'\x0a',QD='\x0a\x0auniform\x20'+'material_s'+'heen:\x20vec3'+'f;\x0a\x0afn\x20get'+'Sheen()\x20{\x0a'+'\x20\x20\x20\x20var\x20sh'+'eenColor\x20='+'\x20uniform.m'+'aterial_sh'+'een;\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_TEX'+'TURE\x0a\x20\x20\x20\x20s'+'heenColor\x20'+'=\x20sheenCol'+'or\x20*\x20{STD_'+'SHEEN_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SHEEN'+'_TEXTURE_N'+'AME},\x20{STD'+'_SHEEN_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEEN_'+'TEXTURE_UV'+'},\x20uniform'+'.textureBi'+'as)).{STD_'+'SHEEN_TEXT'+'URE_CHANNE'+'L};\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEEN_VER'+'TEX\x0a\x20\x20\x20\x20sh'+'eenColor\x20='+'\x20sheenColo'+'r\x20*\x20satura'+'te3(vVerte'+'xColor.{ST'+'D_SHEEN_VE'+'RTEX_CHANN'+'EL});\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20sSpecula'+'rity\x20=\x20she'+'enColor;\x0a}'+'\x0a',JD='\x0auniform\x20m'+'aterial_sh'+'eenGloss:\x20'+'f32;\x0a\x0afn\x20g'+'etSheenGlo'+'ssiness()\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'sheenGloss'+'iness\x20=\x20un'+'iform.mate'+'rial_sheen'+'Gloss;\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SHEENGL'+'OSS_TEXTUR'+'E\x0a\x20\x20\x20\x20shee'+'nGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'*\x20textureS'+'ampleBias('+'{STD_SHEEN'+'GLOSS_TEXT'+'URE_NAME},'+'\x20{STD_SHEE'+'NGLOSS_TEX'+'TURE_NAME}'+'Sampler,\x20{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_UV},\x20un'+'iform.text'+'ureBias).{'+'STD_SHEENG'+'LOSS_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SHEENGLOSS'+'_VERTEX\x0a\x20\x20'+'\x20\x20sheenGlo'+'ssiness\x20=\x20'+'sheenGloss'+'iness\x20*\x20sa'+'turate(vVe'+'rtexColor.'+'{STD_SHEEN'+'GLOSS_VERT'+'EX_CHANNEL'+'});\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SHEENGLOS'+'S_INVERT\x0a\x20'+'\x20\x20\x20sheenGl'+'ossiness\x20='+'\x201.0\x20-\x20she'+'enGlossine'+'ss;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'sGlossines'+'s\x20=\x20sheenG'+'lossiness\x20'+'+\x200.000000'+'1;\x0a}\x0a',eI='\x0auniform\x20m'+'aterial_he'+'ightMapFac'+'tor:\x20f32;\x0a'+'\x0afn\x20getPar'+'allax()\x20{\x0a'+'\x20\x20\x20\x20var\x20pa'+'rallaxScal'+'e\x20=\x20unifor'+'m.material'+'_heightMap'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20var\x20hei'+'ght:\x20f32\x20='+'\x20textureSa'+'mpleBias({'+'STD_HEIGHT'+'_TEXTURE_N'+'AME},\x20{STD'+'_HEIGHT_TE'+'XTURE_NAME'+'}Sampler,\x20'+'{STD_HEIGH'+'T_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_HEIGHT_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'height\x20=\x20h'+'eight\x20*\x20pa'+'rallaxScal'+'e\x20-\x20parall'+'axScale\x20*\x20'+'0.5;\x0a\x20\x20\x20\x20v'+'ar\x20viewDir'+'T:\x20vec3f\x20='+'\x20dViewDirW'+'\x20*\x20dTBN;\x0a\x0a'+'\x20\x20\x20\x20viewDi'+'rT.z\x20=\x20vie'+'wDirT.z\x20+\x20'+'0.42;\x0a\x20\x20\x20\x20'+'dUvOffset\x20'+'=\x20height\x20*'+'\x20(viewDirT'+'.xy\x20/\x20view'+'DirT.z);\x0a}'+'\x0a',tI='\x0auniform\x20m'+'eshInstanc'+'eId:\x20u32;\x0a'+'\x0afn\x20getPic'+'kOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20let\x20i'+'nv:\x20vec4f\x20'+'=\x20vec4f(1.'+'0\x20/\x20255.0)'+';\x0a\x20\x20\x20\x20let\x20'+'shifts:\x20ve'+'c4u\x20=\x20vec4'+'u(16u,\x208u,'+'\x200u,\x2024u);'+'\x0a\x20\x20\x20\x20let\x20c'+'ol:\x20vec4u\x20'+'=\x20(vec4u(u'+'niform.mes'+'hInstanceI'+'d)\x20>>\x20shif'+'ts)\x20&\x20vec4'+'u(0xffu);\x0a'+'\x20\x20\x20\x20return'+'\x20vec4f(col'+')\x20*\x20inv;\x0a}',sI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20dReflDi'+'rW\x20=\x20norma'+'lize(-refl'+'ect(viewDi'+'r,\x20worldNo'+'rmal));\x0a}\x0a',iI='\x0afn\x20getRef'+'lDir(world'+'Normal:\x20ve'+'c3f,\x20viewD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2,\x20tbn:\x20ma'+'t3x3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20rou'+'ghness:\x20f3'+'2\x20=\x20sqrt(1'+'.0\x20-\x20min(g'+'loss,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20directio'+'n:\x20vec2f\x20='+'\x20dAnisotro'+'pyRotation'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cT:\x20vec3f\x20'+'=\x20normaliz'+'e(tbn\x20*\x20ve'+'c3f(direct'+'ion,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cB:\x20vec3f\x20'+'=\x20normaliz'+'e(cross(tb'+'n[2],\x20anis'+'otropicT))'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20anisotrop'+'y:\x20f32\x20=\x20d'+'Anisotropy'+';\x0a\x20\x20\x20\x20let\x20'+'anisotropi'+'cDirection'+':\x20vec3f\x20=\x20'+'anisotropi'+'cB;\x0a\x20\x20\x20\x20le'+'t\x20anisotro'+'picTangent'+':\x20vec3f\x20=\x20'+'cross(anis'+'otropicDir'+'ection,\x20vi'+'ewDir);\x0a\x20\x20'+'\x20\x20let\x20anis'+'otropicNor'+'mal:\x20vec3f'+'\x20=\x20cross(a'+'nisotropic'+'Tangent,\x20a'+'nisotropic'+'Direction)'+';\x0a\x20\x20\x20\x20let\x20'+'bendFactor'+':\x20f32\x20=\x201.'+'0\x20-\x20anisot'+'ropy\x20*\x20(1.'+'0\x20-\x20roughn'+'ess);\x0a\x20\x20\x20\x20'+'let\x20bendFa'+'ctor4:\x20f32'+'\x20=\x20bendFac'+'tor\x20*\x20bend'+'Factor\x20*\x20b'+'endFactor\x20'+'*\x20bendFact'+'or;\x0a\x20\x20\x20\x20le'+'t\x20bentNorm'+'al:\x20vec3f\x20'+'=\x20normaliz'+'e(mix(norm'+'alize(anis'+'otropicNor'+'mal),\x20norm'+'alize(worl'+'dNormal),\x20'+'bendFactor'+'4));\x0a\x20\x20\x20\x20d'+'ReflDirW\x20='+'\x20reflect(-'+'viewDir,\x20b'+'entNormal)'+';\x0a}',rI='\x0a#ifdef\x20LI'+'T_CLEARCOA'+'T\x0afn\x20addRe'+'flectionCC'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20ccRef'+'lection\x20=\x20'+'ccReflecti'+'on\x20+\x20calcR'+'eflection('+'reflDir,\x20g'+'loss);\x0a}\x0a#'+'endif\x0a',aI='\x0avar\x20textu'+'re_cubeMap'+':\x20texture_'+'cube<f32>;'+'\x0avar\x20textu'+'re_cubeMap'+'Sampler:\x20s'+'ampler;\x0aun'+'iform\x20mate'+'rial_refle'+'ctivity:\x20f'+'32;\x0a\x0afn\x20ca'+'lcReflecti'+'on(reflDir'+':\x20vec3f,\x20g'+'loss:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'lookupVec:'+'\x20vec3f\x20=\x20c'+'ubeMapProj'+'ect(reflDi'+'r);\x0a\x20\x20\x20\x20lo'+'okupVec.x\x20'+'=\x20lookupVe'+'c.x\x20*\x20-1.0'+';\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_cubeMa'+'p,\x20texture'+'_cubeMapSa'+'mpler,\x20loo'+'kupVec));\x0a'+'}\x0a\x0afn\x20addR'+'eflection('+'reflDir:\x20v'+'ec3f,\x20glos'+'s:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20dR'+'eflection\x20'+'+\x20vec4f(ca'+'lcReflecti'+'on(reflDir'+',\x20gloss),\x20'+'uniform.ma'+'terial_ref'+'lectivity)'+';\x0a}\x0a',nI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a\x20'+'\x20\x20\x20#define'+'\x20ENV_ATLAS'+'\x0a\x20\x20\x20\x20var\x20t'+'exture_env'+'Atlas:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20texture_'+'envAtlasSa'+'mpler:\x20sam'+'pler;\x0a#end'+'if\x0a\x0avar\x20te'+'xture_cube'+'Map:\x20textu'+'re_cube<f3'+'2>;\x0avar\x20te'+'xture_cube'+'MapSampler'+':\x20sampler;'+'\x0auniform\x20m'+'aterial_re'+'flectivity'+':\x20f32;\x0a\x0afn'+'\x20calcRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20dir:\x20ve'+'c3f\x20=\x20cube'+'MapProject'+'(reflDir)\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20uv:\x20vec'+'2f\x20=\x20toSph'+'ericalUv(d'+'ir);\x0a\x0a\x20\x20\x20\x20'+'//\x20calcula'+'te\x20roughne'+'ss\x20level\x0a\x20'+'\x20\x20\x20let\x20lev'+'el:\x20f32\x20=\x20'+'saturate(1'+'.0\x20-\x20gloss'+')\x20*\x205.0;\x0a\x20'+'\x20\x20\x20let\x20ile'+'vel:\x20f32\x20='+'\x20floor(lev'+'el);\x0a\x20\x20\x20\x20l'+'et\x20flevel:'+'\x20f32\x20=\x20lev'+'el\x20-\x20ileve'+'l;\x0a\x0a\x20\x20\x20\x20le'+'t\x20sharp:\x20v'+'ec3f\x20=\x20{re'+'flectionCu'+'bemapDecod'+'e}(texture'+'Sample(tex'+'ture_cubeM'+'ap,\x20textur'+'e_cubeMapS'+'ampler,\x20di'+'r));\x0a\x20\x20\x20\x20l'+'et\x20roughA:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+')));\x0a\x20\x20\x20\x20l'+'et\x20roughB:'+'\x20vec3f\x20=\x20{'+'reflection'+'Decode}(te'+'xtureSampl'+'e(texture_'+'envAtlas,\x20'+'texture_en'+'vAtlasSamp'+'ler,\x20mapRo'+'ughnessUv('+'uv,\x20ilevel'+'\x20+\x201.0)));'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20process'+'Environmen'+'t(mix(shar'+'p,\x20mix(rou'+('ghA,\x20rough'+'B,\x20flevel)'+',\x20min(leve'+'l,\x201.0)));'+'\x0a}\x0a\x0afn\x20add'+'Reflection'+'(reflDir:\x20'+'vec3f,\x20glo'+'ss:\x20f32)\x20{'+'\x0a\x20\x20\x20\x20dRefl'+'ection\x20=\x20d'+'Reflection'+'\x20+\x20vec4f(c'+'alcReflect'+'ion(reflDi'+'r,\x20gloss),'+'\x20uniform.m'+'aterial_re'+'flectivity'+');\x0a}\x0a'),oI='\x0a#ifndef\x20E'+'NV_ATLAS\x0a#'+'define\x20ENV'+'_ATLAS\x0a\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20var\x20te'+'xture_envA'+'tlasSample'+'r:\x20sampler'+';\x0a#endif\x0au'+'niform\x20mat'+'erial_refl'+'ectivity:\x20'+'f32;\x0a\x0a//\x20c'+'alculate\x20m'+'ip\x20level\x20f'+'or\x20shiny\x20r'+'eflection\x20'+'given\x20equi'+'rect\x20coord'+'s\x20uv.\x0afn\x20s'+'hinyMipLev'+'el(uv:\x20vec'+'2f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20dx:\x20vec2f'+'\x20=\x20dpdx(uv'+');\x0a\x20\x20\x20\x20let'+'\x20dy:\x20vec2f'+'\x20=\x20dpdy(uv'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20second\x20dF'+'\x20at\x20180\x20de'+'grees\x0a\x20\x20\x20\x20'+'let\x20uv2:\x20v'+'ec2f\x20=\x20vec'+'2f(fract(u'+'v.x\x20+\x200.5)'+',\x20uv.y);\x0a\x20'+'\x20\x20\x20let\x20dx2'+':\x20vec2f\x20=\x20'+'dpdx(uv2);'+'\x0a\x20\x20\x20\x20let\x20d'+'y2:\x20vec2f\x20'+'=\x20dpdy(uv2'+');\x0a\x0a\x20\x20\x20\x20//'+'\x20calculate'+'\x20min\x20of\x20bo'+'th\x20sets\x20of'+'\x20dF\x20to\x20han'+'dle\x20discon'+'tinuity\x20at'+'\x20the\x20azim\x20'+'edge\x0a\x20\x20\x20\x20l'+'et\x20maxd:\x20f'+'32\x20=\x20min(m'+'ax(dot(dx,'+'\x20dx),\x20dot('+'dy,\x20dy)),\x20'+'max(dot(dx'+'2,\x20dx2),\x20d'+'ot(dy2,\x20dy'+'2)));\x0a\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(0.5\x20*\x20'+'log2(maxd)'+'\x20-\x201.0\x20+\x20u'+'niform.tex'+'tureBias,\x20'+'0.0,\x205.0);'+'\x0a}\x0a\x0afn\x20cal'+'cReflectio'+'n(reflDir:'+'\x20vec3f,\x20gl'+'oss:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20d'+'ir:\x20vec3f\x20'+'=\x20cubeMapP'+'roject(ref'+'lDir)\x20*\x20ve'+'c3f(-1.0,\x20'+'1.0,\x201.0);'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20toSpheric'+'alUv(dir);'+'\x0a\x0a\x20\x20\x20\x20//\x20c'+'alculate\x20r'+'oughness\x20l'+'evel\x0a\x20\x20\x20\x20l'+'et\x20level:\x20'+'f32\x20=\x20satu'+'rate(1.0\x20-'+'\x20gloss)\x20*\x20'+'5.0;\x0a\x20\x20\x20\x20l'+('et\x20ilevel:'+'\x20f32\x20=\x20flo'+'or(level);'+'\x0a\x0a\x20\x20\x20\x20//\x20a'+'ccessing\x20t'+'he\x20shiny\x20('+'top\x20level)'+'\x20reflectio'+'n\x20-\x20perfor'+'m\x20manual\x20m'+'ipmap\x20look'+'up\x0a\x20\x20\x20\x20let'+'\x20level2:\x20f'+'32\x20=\x20shiny'+'MipLevel(u'+'v\x20*\x20atlasS'+'ize);\x0a\x20\x20\x20\x20'+'let\x20ilevel'+'2:\x20f32\x20=\x20f'+'loor(level'+'2);\x0a\x0a\x20\x20\x20\x20v'+'ar\x20uv0:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20uv1:\x20ve'+'c2f;\x0a\x20\x20\x20\x20v'+'ar\x20weight:'+'\x20f32;\x0a\x20\x20\x20\x20'+'if\x20(ilevel'+'\x20==\x200.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20mapSh'+'inyUv(uv,\x20'+'ilevel2);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20uv'+'1\x20=\x20mapShi'+'nyUv(uv,\x20i'+'level2\x20+\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20weight\x20'+'=\x20level2\x20-'+'\x20ilevel2;\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20access'+'ing\x20rough\x20'+'reflection'+'\x20-\x20just\x20sa'+'mple\x20the\x20s'+'ame\x20part\x20t'+'wice\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv0\x20=\x20m'+'apRoughnes'+'sUv(uv,\x20il'+'evel);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20uv1\x20='+'\x20uv0;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20weight'+'\x20=\x200.0;\x0a\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20l'+'et\x20linearA'+':\x20vec3f\x20=\x20'+'{reflectio'+'nDecode}(t'+'extureSamp'+'le(texture'+'_envAtlas,'+'\x20texture_e'+'nvAtlasSam'+'pler,\x20uv0)'+');\x0a\x20\x20\x20\x20let'+'\x20linearB:\x20'+'vec3f\x20=\x20{r'+'eflectionD'+'ecode}(tex'+'tureSample'+'(texture_e'+'nvAtlas,\x20t'+'exture_env'+'AtlasSampl'+'er,\x20uv1));'+'\x0a\x20\x20\x20\x20let\x20l'+'inear0:\x20ve'+'c3f\x20=\x20mix('+'linearA,\x20l'+'inearB,\x20we'+'ight);\x0a\x20\x20\x20'+'\x20let\x20linea'+'r1:\x20vec3f\x20'+'=\x20{reflect'+'ionDecode}'+'(textureSa'+'mple(textu'+'re_envAtla'+'s,\x20texture'+'_envAtlasS'+'ampler,\x20ma'+'pRoughness'+'Uv(uv,\x20ile'+'vel\x20+\x201.0)'+'));\x0a\x0a\x20\x20\x20\x20r')+('eturn\x20proc'+'essEnviron'+'ment(mix(l'+'inear0,\x20li'+'near1,\x20lev'+'el\x20-\x20ileve'+'l));\x0a}\x0a\x0afn'+'\x20addReflec'+'tion(reflD'+'ir:\x20vec3f,'+'\x20gloss:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20d'+'Reflection'+'\x20=\x20dReflec'+'tion\x20+\x20vec'+'4f(calcRef'+'lection(re'+'flDir,\x20glo'+'ss),\x20unifo'+'rm.materia'+'l_reflecti'+'vity);\x0a}\x0a'),lI='\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20matri'+'x_view:\x20ma'+'t4x4f;\x0a#en'+'dif\x0a\x0avar\x20t'+'exture_sph'+'ereMap:\x20te'+'xture_2d<f'+'32>;\x0avar\x20t'+'exture_sph'+'ereMapSamp'+'ler:\x20sampl'+'er;\x0aunifor'+'m\x20material'+'_reflectiv'+'ity:\x20f32;\x0a'+'\x0afn\x20calcRe'+'flection(r'+'eflDir:\x20ve'+'c3f,\x20gloss'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20view'+'RotationMa'+'trix\x20=\x20mat'+'3x3f(unifo'+'rm.matrix_'+'view[0].xy'+'z,\x20uniform'+'.matrix_vi'+'ew[1].xyz,'+'\x20uniform.m'+'atrix_view'+'[2].xyz);\x0a'+'\x20\x20\x20\x20let\x20re'+'flDirV:\x20ve'+'c3f\x20=\x20view'+'RotationMa'+'trix\x20*\x20ref'+'lDir;\x0a\x0a\x20\x20\x20'+'\x20let\x20m:\x20f3'+'2\x20=\x202.0\x20*\x20'+'sqrt(dot(r'+'eflDirV.xy'+',\x20reflDirV'+'.xy)\x20+\x20(re'+'flDirV.z\x20+'+'\x201.0)\x20*\x20(r'+'eflDirV.z\x20'+'+\x201.0));\x0a\x20'+'\x20\x20\x20let\x20sph'+'ereMapUv:\x20'+'vec2f\x20=\x20re'+'flDirV.xy\x20'+'/\x20m\x20+\x200.5;'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20{reflec'+'tionDecode'+'}(textureS'+'ample(text'+'ure_sphere'+'Map,\x20textu'+'re_sphereM'+'apSampler,'+'\x20sphereMap'+'Uv));\x0a}\x0a\x0af'+'n\x20addRefle'+'ction(refl'+'Dir:\x20vec3f'+',\x20gloss:\x20f'+'32)\x20{\x0a\x20\x20\x20\x20'+'dReflectio'+'n\x20=\x20dRefle'+'ction\x20+\x20ve'+'c4f(calcRe'+'flection(r'+'eflDir,\x20gl'+'oss),\x20unif'+'orm.materi'+'al_reflect'+'ivity);\x0a}\x0a',cI='\x0a\x0afn\x20addRe'+'flectionSh'+'een(worldN'+'ormal:\x20vec'+'3f,\x20viewDi'+'r:\x20vec3f,\x20'+'gloss:\x20f32'+')\x20{\x0a\x20\x20\x20\x20le'+'t\x20NoV:\x20f32'+'\x20=\x20dot(wor'+'ldNormal,\x20'+'viewDir);\x0a'+'\x20\x20\x20\x20let\x20al'+'phaG:\x20f32\x20'+'=\x20gloss\x20*\x20'+'gloss;\x0a\x0a\x20\x20'+'\x20\x20//\x20Avoid'+'\x20using\x20a\x20L'+'UT\x20and\x20app'+'roximate\x20t'+'he\x20values\x20'+'analytical'+'ly\x0a\x20\x20\x20\x20let'+'\x20a:\x20f32\x20=\x20'+'select(\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20-8.4'+'8\x20*\x20alphaG'+'\x20+\x2014.3\x20*\x20'+'gloss\x20-\x209.'+'95,\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20-339.2\x20*'+'\x20alphaG\x20+\x20'+'161.4\x20*\x20gl'+'oss\x20-\x2025.9'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gloss\x20<\x200.'+'25\x0a\x20\x20\x20\x20);\x0a'+'\x20\x20\x20\x20let\x20b:'+'\x20f32\x20=\x20sel'+'ect(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x201.97\x20*\x20'+'alphaG\x20-\x203'+'.27\x20*\x20glos'+'s\x20+\x200.72,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x2044'+'.0\x20*\x20alpha'+'G\x20-\x2023.7\x20*'+'\x20gloss\x20+\x203'+'.26,\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20gloss\x20<'+'\x200.25\x0a\x20\x20\x20\x20'+');\x0a\x20\x20\x20\x20let'+'\x20dg_add:\x20f'+'32\x20=\x20selec'+'t(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x200.1\x20*\x20(\x20g'+'loss\x20-\x200.2'+'5\x20),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x200.0,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20glos'+'s\x20<\x200.25\x0a\x20'+'\x20\x20\x20);\x0a\x20\x20\x20\x20'+'let\x20dg:\x20f3'+'2\x20=\x20exp(\x20a'+'\x20*\x20NoV\x20+\x20b'+'\x20)\x20+\x20dg_ad'+'d;\x0a\x20\x20\x20\x20sRe'+'flection\x20='+'\x20sReflecti'+'on\x20+\x20(calc'+'Reflection'+'(worldNorm'+'al,\x200.0)\x20*'+'\x20saturate('+'dg));\x0a}',hI='\x0afn\x20refrac'+'t2(viewVec'+':\x20vec3f,\x20n'+'ormal:\x20vec'+'3f,\x20IOR:\x20f'+'32)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20vn:\x20f32'+'\x20=\x20dot(vie'+'wVec,\x20norm'+'al);\x0a\x20\x20\x20\x20l'+'et\x20k:\x20f32\x20'+'=\x201.0\x20-\x20IO'+'R\x20*\x20IOR\x20*\x20'+'(1.0\x20-\x20vn\x20'+'*\x20vn);\x0a\x20\x20\x20'+'\x20let\x20refrV'+'ec:\x20vec3f\x20'+'=\x20IOR\x20*\x20vi'+'ewVec\x20-\x20(I'+'OR\x20*\x20vn\x20+\x20'+'sqrt(k))\x20*'+'\x20normal;\x0a\x20'+'\x20\x20\x20return\x20'+'refrVec;\x0a}'+'\x0a\x0afn\x20addRe'+'fraction(\x0a'+'\x20\x20\x20\x20worldN'+'ormal:\x20vec'+'3f,\x0a\x20\x20\x20\x20vi'+'ewDir:\x20vec'+'3f,\x0a\x20\x20\x20\x20th'+'ickness:\x20f'+'32,\x0a\x20\x20\x20\x20gl'+'oss:\x20f32,\x0a'+'\x20\x20\x20\x20specul'+'arity:\x20vec'+'3f,\x0a\x20\x20\x20\x20al'+'bedo:\x20vec3'+'f,\x0a\x20\x20\x20\x20tra'+'nsmission:'+'\x20f32,\x0a\x20\x20\x20\x20'+'refraction'+'Index:\x20f32'+',\x0a\x20\x20\x20\x20disp'+'ersion:\x20f3'+'2\x0a#if\x20defi'+'ned(LIT_IR'+'IDESCENCE)'+'\x0a\x20\x20\x20\x20,\x20iri'+'descenceFr'+'esnel:\x20vec'+'3f,\x0a\x20\x20\x20\x20ir'+'idescenceI'+'ntensity:\x20'+'f32\x0a#endif'+'\x0a)\x20{\x0a\x20\x20\x20\x20/'+'/\x20use\x20same'+'\x20reflectio'+'n\x20code\x20wit'+'h\x20refracti'+'on\x20vector\x0a'+'\x20\x20\x20\x20let\x20tm'+'pRefl:\x20vec'+'4f\x20=\x20dRefl'+'ection;\x0a\x20\x20'+'\x20\x20let\x20refl'+'ectionDir:'+'\x20vec3f\x20=\x20r'+'efract2(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndex);\x0a\x20'+'\x20\x20\x20dReflec'+'tion\x20=\x20vec'+'4f(0.0);\x0a\x20'+'\x20\x20\x20addRefl'+'ection(ref'+'lectionDir'+',\x20gloss);\x0a'+'\x20\x20\x20\x20dDiffu'+'seLight\x20=\x20'+'mix(dDiffu'+'seLight,\x20d'+'Reflection'+'.rgb\x20*\x20alb'+'edo,\x20trans'+'mission);\x0a'+'\x20\x20\x20\x20dRefle'+'ction\x20=\x20tm'+'pRefl;\x0a}\x0a',dI='\x0auniform\x20m'+'aterial_in'+'vAttenuati'+'onDistance'+':\x20f32;\x0auni'+'form\x20mater'+'ial_attenu'+'ation:\x20vec'+'3f;\x0a\x0afn\x20ev'+'alRefracti'+'onColor(re'+'fractionVe'+'ctor:\x20vec3'+'f,\x20gloss:\x20'+'f32,\x20refra'+'ctionIndex'+':\x20f32)\x20->\x20'+'vec3f\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20The\x20'+'refraction'+'\x20point\x20is\x20'+'the\x20entry\x20'+'point\x20+\x20ve'+'ctor\x20to\x20ex'+'it\x20point\x0a\x20'+'\x20\x20\x20let\x20poi'+'ntOfRefrac'+'tion:\x20vec4'+'f\x20=\x20vec4f('+'vPositionW'+'\x20+\x20refract'+'ionVector,'+'\x201.0);\x0a\x0a\x20\x20'+'\x20\x20//\x20Proje'+'ct\x20to\x20text'+'ure\x20space\x20'+'so\x20we\x20can\x20'+'sample\x20it\x0a'+'\x20\x20\x20\x20let\x20pr'+'ojectionPo'+'int:\x20vec4f'+'\x20=\x20uniform'+'.matrix_vi'+'ewProjecti'+'on\x20*\x20point'+'OfRefracti'+'on;\x0a\x0a\x20\x20\x20\x20/'+'/\x20use\x20buil'+'t-in\x20getGr'+'abScreenPo'+'s\x20function'+'\x20to\x20conver'+'t\x20screen\x20p'+'osition\x20to'+'\x20grab\x20text'+'ure\x20uv\x20coo'+'rds\x0a\x20\x20\x20\x20le'+'t\x20uv:\x20vec2'+'f\x20=\x20getGra'+'bScreenPos'+'(projectio'+'nPoint);\x0a\x0a'+'\x20\x20\x20\x20//\x20Use'+'\x20IOR\x20and\x20r'+'oughness\x20t'+'o\x20select\x20m'+'ip\x0a\x20\x20\x20\x20let'+'\x20iorToRoug'+'hness:\x20f32'+'\x20=\x20(1.0\x20-\x20'+'gloss)\x20*\x20c'+'lamp((1.0\x20'+'/\x20refracti'+'onIndex)\x20*'+'\x202.0\x20-\x202.0'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20let'+'\x20refractio'+'nLod:\x20f32\x20'+'=\x20log2(uni'+'form.uScre'+'enSize.x)\x20'+'*\x20iorToRou'+'ghness;\x0a\x20\x20'+'\x20\x20let\x20refr'+'action:\x20ve'+'c3f\x20=\x20text'+'ureSampleL'+'evel(uScen'+'eColorMap,'+'\x20uSceneCol'+'orMapSampl'+'er,\x20uv,\x20re'+'fractionLo'+'d).rgb;\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'refraction'+';\x0a}\x0a\x0afn\x20ad'+'dRefractio'+'n(\x0a\x20\x20\x20\x20wor'+('ldNormal:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20viewDir:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20thickness'+':\x20f32,\x0a\x20\x20\x20'+'\x20gloss:\x20f3'+'2,\x0a\x20\x20\x20\x20spe'+'cularity:\x20'+'vec3f,\x0a\x20\x20\x20'+'\x20albedo:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'transmissi'+'on:\x20f32,\x0a\x20'+'\x20\x20\x20refract'+'ionIndex:\x20'+'f32,\x0a\x20\x20\x20\x20d'+'ispersion:'+'\x20f32,\x0a#if\x20'+'defined(LI'+'T_IRIDESCE'+'NCE)\x0a\x20\x20\x20\x20i'+'ridescence'+'Fresnel:\x20v'+'ec3f,\x0a\x20\x20\x20\x20'+'iridescenc'+'eIntensity'+':\x20f32\x0a#end'+'if\x0a)\x20{\x0a\x0a\x20\x20'+'\x20\x20//\x20Extra'+'ct\x20scale\x20f'+'rom\x20the\x20mo'+'del\x20transf'+'orm\x0a\x20\x20\x20\x20va'+'r\x20modelSca'+'le:\x20vec3f;'+'\x0a\x20\x20\x20\x20model'+'Scale.x\x20=\x20'+'length(uni'+'form.matri'+'x_model[0]'+'.xyz);\x0a\x20\x20\x20'+'\x20modelScal'+'e.y\x20=\x20leng'+'th(uniform'+'.matrix_mo'+'del[1].xyz'+');\x0a\x20\x20\x20\x20mod'+'elScale.z\x20'+'=\x20length(u'+'niform.mat'+'rix_model['+'2].xyz);\x0a\x0a'+'\x20\x20\x20\x20//\x20Cal'+'culate\x20the'+'\x20refractio'+'n\x20vector,\x20'+'scaled\x20by\x20'+'the\x20thickn'+'ess\x20and\x20sc'+'ale\x20of\x20the'+'\x20object\x0a\x20\x20'+'\x20\x20let\x20scal'+'e:\x20vec3f\x20='+'\x20thickness'+'\x20*\x20modelSc'+'ale;\x0a\x20\x20\x20\x20v'+'ar\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndex))'+'\x20*\x20scale;\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction\x20='+'\x20evalRefra'+'ctionColor'+'(refractio'+'nVector,\x20g'+'loss,\x20refr'+'actionInde'+'x);\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'DISPERSION'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20based\x20on'+'\x20the\x20dispe'+'rsion\x20mate'+'rial\x20prope'+'rty,\x20calcu'+'late\x20modif'+'ied\x20refrac'+'tion\x20index'+'\x20values\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20f'+'or\x20R\x20and\x20B'+'\x20channels\x20')+('and\x20evalua'+'te\x20the\x20ref'+'raction\x20co'+'lor\x20for\x20th'+'em.\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20half'+'Spread:\x20f3'+'2\x20=\x20(1.0\x20/'+'\x20refractio'+'nIndex\x20-\x201'+'.0)\x20*\x200.02'+'5\x20*\x20disper'+'sion;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20r'+'efractionI'+'ndexR:\x20f32'+'\x20=\x20refract'+'ionIndex\x20-'+'\x20halfSprea'+'d;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20refractio'+'nVector\x20=\x20'+'normalize('+'refract(-v'+'iewDir,\x20wo'+'rldNormal,'+'\x20refractio'+'nIndexR))\x20'+'*\x20scale;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ref'+'raction.r\x20'+'=\x20evalRefr'+'actionColo'+'r(refracti'+'onVector,\x20'+'gloss,\x20ref'+'ractionInd'+'exR).r;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20refractio'+'nIndexB:\x20f'+'32\x20=\x20refra'+'ctionIndex'+'\x20+\x20halfSpr'+'ead;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20refract'+'ionVector\x20'+'=\x20normaliz'+'e(refract('+'-viewDir,\x20'+'worldNorma'+'l,\x20refract'+'ionIndexB)'+')\x20*\x20scale;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'efraction.'+'b\x20=\x20evalRe'+'fractionCo'+'lor(refrac'+'tionVector'+',\x20gloss,\x20r'+'efractionI'+'ndexB).b;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20//\x20T'+'ransmittan'+'ce\x20is\x20our\x20'+'final\x20refr'+'action\x20col'+'or\x0a\x20\x20\x20\x20var'+'\x20transmitt'+'ance:\x20vec3'+'f;\x0a\x20\x20\x20\x20if\x20'+'(uniform.m'+'aterial_in'+'vAttenuati'+'onDistance'+'\x20!=\x200.0)\x0a\x20'+'\x20\x20\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20att'+'enuation:\x20'+'vec3f\x20=\x20-l'+'og(uniform'+'.material_'+'attenuatio'+'n)\x20*\x20unifo'+'rm.materia'+'l_invAtten'+'uationDist'+'ance;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20transm'+'ittance\x20=\x20'+'exp(-atten'+'uation\x20*\x20l'+'ength(refr'+'actionVect'+'or));\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20else'+'\x0a\x20\x20\x20\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20trans')+('mittance\x20='+'\x20refractio'+'n;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20App'+'ly\x20fresnel'+'\x20effect\x20on'+'\x20refractio'+'n\x0a\x20\x20\x20\x20let\x20'+'fresnel:\x20v'+'ec3f\x20=\x20vec'+'3f(1.0)\x20-\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ge'+'tFresnel(\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20dot(view'+'Dir,\x20world'+'Normal),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20gloss,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'specularit'+'y\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20define'+'d(LIT_IRID'+'ESCENCE)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20,\x20iridesc'+'enceFresne'+'l,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20iride'+'scenceInte'+'nsity\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20)'+';\x0a\x20\x20\x20\x20dDif'+'fuseLight\x20'+'=\x20mix(dDif'+'fuseLight,'+'\x20refractio'+'n\x20*\x20transm'+'ittance\x20*\x20'+'fresnel,\x20t'+'ransmissio'+'n);\x0a}\x0a'),fI='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0a#ifdef'+'\x20CUBEMAP_S'+'OURCE\x0a\x20\x20\x20\x20'+'var\x20source'+'Cube:\x20text'+'ure_cube<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20sourceC'+'ubeSampler'+'\x20:\x20sampler'+';\x0a#else\x0a\x20\x20'+'\x20\x20var\x20sour'+'ceTex:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20sourceTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20//\x20sa'+'mples\x0a\x20\x20\x20\x20'+'var\x20sample'+'sTex:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20var'+'\x20samplesTe'+'xSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20unifor'+'m\x20samplesT'+'exInverseS'+'ize:\x20vec2f'+';\x0a#endif\x0a\x0a'+'//\x20params:'+'\x0a//\x20x\x20-\x20ta'+'rget\x20cubem'+'ap\x20face\x200.'+'.6\x0a//\x20y\x20-\x20'+'target\x20ima'+'ge\x20total\x20p'+'ixels\x0a//\x20z'+'\x20-\x20source\x20'+'cubemap\x20si'+'ze\x0auniform'+'\x20params:\x20v'+'ec3f;\x0a\x0afn\x20'+'targetFace'+'()\x20->\x20f32\x20'+'{\x20return\x20u'+'niform.par'+'ams.x;\x20}\x0af'+'n\x20targetTo'+'talPixels('+')\x20->\x20f32\x20{'+'\x20return\x20un'+'iform.para'+'ms.y;\x20}\x0afn'+'\x20sourceTot'+'alPixels()'+'\x20->\x20f32\x20{\x20'+'return\x20uni'+'form.param'+'s.z;\x20}\x0a\x0aco'+'nst\x20PI:\x20f3'+'2\x20=\x203.1415'+'9265358979'+'3;\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0a#in'+'clude\x20\x22dec'+'odePS\x22\x0a#in'+'clude\x20\x22enc'+'odePS\x22\x0a\x0a//'+'--\x20support'+'ed\x20project'+'ions\x0a\x0afn\x20m'+'odifySeams'+'(dir:\x20vec3'+'f,\x20scale:\x20'+'f32)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'let\x20adir\x20='+'\x20abs(dir);'+'\x0a\x20\x20\x20\x20let\x20M'+'\x20=\x20max(max'+'(adir.x,\x20a'+'dir.y),\x20ad'+'ir.z);\x0a\x20\x20\x20'+'\x20return\x20di'+'r\x20/\x20M\x20*\x20ve'+'c3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20select('+('scale,\x201.0'+',\x20adir.x\x20='+'=\x20M),\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20select'+'(scale,\x201.'+'0,\x20adir.y\x20'+'==\x20M),\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20selec'+'t(scale,\x201'+'.0,\x20adir.z'+'\x20==\x20M)\x0a\x20\x20\x20'+'\x20);\x0a}\x0a\x0afn\x20'+'toSpherica'+'l(dir:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20l'+'et\x20nonZero'+'XZ\x20=\x20any(d'+'ir.xz\x20!=\x20v'+'ec2f(0.0,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20return\x20ve'+'c2f(select'+'(0.0,\x20atan'+'2(dir.x,\x20d'+'ir.z),\x20non'+'ZeroXZ),\x20a'+'sin(dir.y)'+');\x0a}\x0a\x0afn\x20f'+'romSpheric'+'al(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20vec3'+'f(cos(uv.y'+')\x20*\x20sin(uv'+'.x),\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20sin(uv.y)'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20co'+'s(uv.y)\x20*\x20'+'cos(uv.x))'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Equirect(u'+'v:\x20vec2f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20fromSphe'+'rical((vec'+'2f(uv.x,\x201'+'.0\x20-\x20uv.y)'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20vec2'+'f(PI,\x20PI\x20*'+'\x200.5));\x0a}\x0a'+'\x0a//\x20octahe'+'dral\x20code,'+'\x20based\x20on\x20'+'https://jc'+'gt.org/pub'+'lished/000'+'3/02/01/\x0a/'+'/\x20\x22Survey\x20'+'of\x20Efficie'+'nt\x20Represe'+'ntations\x20f'+'or\x20Indepen'+'dent\x20Unit\x20'+'Vectors\x22\x20b'+'y\x20Cigolle,'+'\x20Donow,\x20Ev'+'angelakos,'+'\x20Mara,\x20McG'+'uire,\x20Meye'+'r\x0a\x0afn\x20sign'+'NotZero(k:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20sele'+'ct(-1.0,\x201'+'.0,\x20k\x20>=\x200'+'.0);\x0a}\x0a\x0afn'+'\x20signNotZe'+'roVec2(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20return\x20v'+'ec2f(signN'+'otZero(v.x'+'),\x20signNot'+'Zero(v.y))'+';\x0a}\x0a\x0a//\x20Re'+'turns\x20a\x20un'+'it\x20vector.'+'\x20Argument\x20'+'o\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20pack')+('ed\x20via\x20oct'+'Encode,\x20on'+'\x20the\x20[-1,\x20'+'+1]\x20square'+'\x0afn\x20octDec'+'ode(o:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20v\x20=\x20vec'+'3f(o.x,\x201.'+'0\x20-\x20abs(o.'+'x)\x20-\x20abs(o'+'.y),\x20o.y);'+'\x0a\x20\x20\x20\x20if\x20(v'+'.y\x20<\x200.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20temp:\x20'+'vec2f\x20=\x20(1'+'.0\x20-\x20abs(v'+'.zx))\x20*\x20si'+'gnNotZeroV'+'ec2(v.xz);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'\x20=\x20vec3f(t'+'emp.x,\x20v.y'+',\x20temp.y);'+'\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20return\x20no'+'rmalize(v)'+';\x0a}\x0a\x0afn\x20ge'+'tDirection'+'Octahedral'+'(uv:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20octDec'+'ode(vec2f('+'uv.x,\x201.0\x20'+'-\x20uv.y)\x20*\x20'+'2.0\x20-\x201.0)'+';\x0a}\x0a\x0a//\x20As'+'sumes\x20that'+'\x20v\x20is\x20a\x20un'+'it\x20vector.'+'\x20The\x20resul'+'t\x20is\x20an\x20oc'+'tahedral\x20v'+'ector\x20on\x20t'+'he\x20[-1,\x20+1'+']\x20square\x0af'+'n\x20octEncod'+'e(v:\x20vec3f'+')\x20->\x20vec2f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20l1norm\x20=\x20'+'abs(v.x)\x20+'+'\x20abs(v.y)\x20'+'+\x20abs(v.z)'+';\x0a\x20\x20\x20\x20var\x20'+'result\x20=\x20v'+'.xz\x20*\x20(1.0'+'\x20/\x20l1norm)'+';\x0a\x20\x20\x20\x20if\x20('+'v.y\x20<\x200.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20result\x20=\x20'+'(1.0\x20-\x20abs'+'(result.yx'+'))\x20*\x20signN'+'otZeroVec2'+'(result.xy'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20return\x20'+'result;\x0a}\x0a'+'\x0a/////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'//////////'+'\x0a\x0a#ifdef\x20C'+'UBEMAP_SOU'+'RCE\x0a\x20\x20\x20\x20fn'+'\x20sampleCub'+'emapDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'sourceCube'+',\x20sourceCu'+'beSampler,'+'\x20modifySea'+'ms(dir,\x201.'+'0));\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleCubem'+'apSph(sph:')+('\x20vec2f)\x20->'+'\x20vec4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20sample'+'CubemapDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leCubemapD'+'irLod(dir:'+'\x20vec3f,\x20mi'+'pLevel:\x20f3'+'2)\x20->\x20vec4'+'f\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leLevel(so'+'urceCube,\x20'+'sourceCube'+'Sampler,\x20m'+'odifySeams'+'(dir,\x201.0)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleCubemap'+'SphLod(sph'+':\x20vec2f,\x20m'+'ipLevel:\x20f'+'32)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'sampleCube'+'mapDirLod('+'fromSpheri'+'cal(sph),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a#el'+'se\x0a\x0a\x20\x20\x20\x20fn'+'\x20sampleEqu'+'irectSph(s'+'ph:\x20vec2f)'+'\x20->\x20vec4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20uv\x20=\x20s'+'ph\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'(sourceTex'+',\x20sourceTe'+'xSampler,\x20'+'vec2f(uv.x'+',\x201.0\x20-\x20uv'+'.y));\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20fn\x20'+'sampleEqui'+'rectDir(di'+'r:\x20vec3f)\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20samp'+'leEquirect'+'Sph(toSphe'+'rical(dir)'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleEquirec'+'tSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20uv'+'\x20=\x20sph\x20/\x20v'+'ec2f(PI\x20*\x20'+'2.0,\x20PI)\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleLevel('+'sourceTex,'+'\x20sourceTex'+'Sampler,\x20v'+'ec2f(uv.x,'+'\x201.0\x20-\x20uv.'+'y),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20fn\x20s'+'ampleEquir'+'ectDirLod('+'dir:\x20vec3f'+',\x20mipLevel'+':\x20f32)\x20->\x20'+'vec4f\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20sampleE')+('quirectSph'+'Lod(toSphe'+'rical(dir)'+',\x20mipLevel'+');\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20fn\x20sam'+'pleOctahed'+'ralDir(dir'+':\x20vec3f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20uv\x20=\x20oct'+'Encode(dir'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'textureSam'+'ple(source'+'Tex,\x20sourc'+'eTexSample'+'r,\x20vec2f(u'+'v.x,\x201.0\x20-'+'\x20uv.y));\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'fn\x20sampleO'+'ctahedralS'+'ph(sph:\x20ve'+'c2f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'(fromSpher'+'ical(sph))'+';\x0a\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20fn\x20samp'+'leOctahedr'+'alDirLod(d'+'ir:\x20vec3f,'+'\x20mipLevel:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20u'+'v\x20=\x20octEnc'+'ode(dir)\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20tex'+'tureSample'+'Level(sour'+'ceTex,\x20sou'+'rceTexSamp'+'ler,\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y),\x20'+'mipLevel);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20fn\x20sampl'+'eOctahedra'+'lSphLod(sp'+'h:\x20vec2f,\x20'+'mipLevel:\x20'+'f32)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20sampleOct'+'ahedralDir'+'Lod(fromSp'+'herical(sp'+'h),\x20mipLev'+'el);\x0a\x20\x20\x20\x20}'+'\x0a\x0a#endif\x0a\x0a'+'fn\x20getDire'+'ctionCubem'+'ap(uv:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20l'+'et\x20st\x20=\x20uv'+'\x20*\x202.0\x20-\x201'+'.0;\x0a\x20\x20\x20\x20le'+'t\x20face\x20=\x20t'+'argetFace('+');\x0a\x0a\x20\x20\x20\x20va'+'r\x20vec:\x20vec'+'3f;\x0a\x20\x20\x20\x20if'+'\x20(face\x20==\x20'+'0.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(1,\x20'+'-st.y,\x20-st'+'.x);\x0a\x20\x20\x20\x20}'+'\x20else\x20if\x20('+'face\x20==\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec\x20=\x20v'+'ec3f(-1,\x20-'+'st.y,\x20st.x'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(fa'+'ce\x20==\x202.0)')+('\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec\x20=\x20vec'+'3f(st.x,\x201'+',\x20st.y);\x0a\x20'+'\x20\x20\x20}\x20else\x20'+'if\x20(face\x20='+'=\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'\x20=\x20vec3f(s'+'t.x,\x20-1,\x20-'+'st.y);\x0a\x20\x20\x20'+'\x20}\x20else\x20if'+'\x20(face\x20==\x20'+'4.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(st.'+'x,\x20-st.y,\x20'+'1);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20vec\x20='+'\x20vec3f(-st'+'.x,\x20-st.y,'+'\x20-1);\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20normal'+'ize(modify'+'Seams(vec,'+'\x201.0));\x0a}\x0a'+'\x0afn\x20matrix'+'FromVector'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20a\x20=\x201.0\x20'+'/\x20(1.0\x20+\x20n'+'.z);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20-n.'+'x\x20*\x20n.y\x20*\x20'+'a;\x0a\x20\x20\x20\x20let'+'\x20b1\x20=\x20vec3'+'f(1.0\x20-\x20n.'+'x\x20*\x20n.x\x20*\x20'+'a,\x20b,\x20-n.x'+');\x0a\x20\x20\x20\x20let'+'\x20b2\x20=\x20vec3'+'f(b,\x201.0\x20-'+'\x20n.y\x20*\x20n.y'+'\x20*\x20a,\x20-n.y'+');\x0a\x20\x20\x20\x20ret'+'urn\x20mat3x3'+'f(b1,\x20b2,\x20'+'n);\x0a}\x0a\x0afn\x20'+'matrixFrom'+'VectorSlow'+'(n:\x20vec3f)'+'\x20->\x20mat3x3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20up\x20=\x20sel'+'ect(vec3f('+'0.0,\x200.0,\x20'+'select(-1.'+'0,\x201.0,\x20n.'+'y\x20>\x200.0)),'+'\x20vec3f(0.0'+',\x201.0,\x200.0'+'),\x20abs(n.y'+')\x20>\x200.0000'+'001);\x0a\x20\x20\x20\x20'+'let\x20x\x20=\x20no'+'rmalize(cr'+'oss(up,\x20n)'+');\x0a\x20\x20\x20\x20let'+'\x20y\x20=\x20cross'+'(n,\x20x);\x0a\x20\x20'+'\x20\x20return\x20m'+'at3x3f(x,\x20'+'y,\x20n);\x0a}\x0a\x0a'+'fn\x20reproje'+'ct(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20i'+'f\x20({NUM_SA'+'MPLES}\x20<=\x20'+'1)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20sing'+'le\x20sample\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20{ENCO'+'DE_FUNC}({'+'DECODE_FUN'+'C}({SOURCE'+'_FUNC}Dir('+'{TARGET_FU'+'NC}(uv))))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mult'+'i\x20sample\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20t\x20=\x20{TARG')+('ET_FUNC}(u'+'v);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20tu\x20='+'\x20dpdx(t);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20tv\x20=\x20dpd'+'y(t);\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20fo'+'r\x20(var\x20u\x20='+'\x200.0;\x20u\x20<\x20'+'{NUM_SAMPL'+'ES_SQRT};\x20'+'u\x20+=\x201.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20for\x20(v'+'ar\x20v\x20=\x200.0'+';\x20v\x20<\x20{NUM'+'_SAMPLES_S'+'QRT};\x20v\x20+='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}Dir(norma'+'lize(t\x20+\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20t'+'u\x20*\x20(u\x20/\x20{'+'NUM_SAMPLE'+'S_SQRT}\x20-\x20'+'0.5)\x20+\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20tv\x20'+'*\x20(v\x20/\x20{NU'+'M_SAMPLES_'+'SQRT}\x20-\x200.'+'5))));\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20{ENC'+'ODE_FUNC}('+'result\x20/\x20('+'{NUM_SAMPL'+'ES_SQRT}\x20*'+'\x20{NUM_SAMP'+'LES_SQRT})'+');\x0a\x20\x20\x20\x20}\x0a}'+'\x0a\x0aconst\x20un'+'packFloat:'+'\x20vec4f\x20=\x20v'+'ec4f(1.0,\x20'+'1.0\x20/\x20255.'+'0,\x201.0\x20/\x206'+'5025.0,\x201.'+'0\x20/\x20165813'+'75.0);\x0a\x0a#i'+'fdef\x20USE_S'+'AMPLES_TEX'+'\x0a\x20\x20\x20\x20fn\x20un'+'packSample'+'(i:\x20i32,\x20L'+':\x20ptr<func'+'tion,\x20vec3'+'f>,\x20mipLev'+'el:\x20ptr<fu'+'nction,\x20f3'+'2>)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20u\x20'+'=\x20(f32(i\x20*'+'\x204)\x20+\x200.5)'+'\x20*\x20uniform'+'.samplesTe'+'xInverseSi'+'ze.x;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20v\x20'+'=\x20(floor(u'+')\x20+\x200.5)\x20*'+'\x20uniform.s'+'amplesTexI'+'nverseSize'+'.y;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20raw'+':\x20vec4f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20raw'+'.x\x20=\x20dot(t'+'extureSamp')+('le(samples'+'Tex,\x20sampl'+'esTexSampl'+'er,\x20vec2f('+'u,\x20v)),\x20un'+'packFloat)'+';\x20u\x20+=\x20uni'+'form.sampl'+'esTexInver'+'seSize.x;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ra'+'w.y\x20=\x20dot('+'textureSam'+'ple(sample'+'sTex,\x20samp'+'lesTexSamp'+'ler,\x20vec2f'+'(u,\x20v)),\x20u'+'npackFloat'+');\x20u\x20+=\x20un'+'iform.samp'+'lesTexInve'+'rseSize.x;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'aw.z\x20=\x20dot'+'(textureSa'+'mple(sampl'+'esTex,\x20sam'+'plesTexSam'+'pler,\x20vec2'+'f(u,\x20v)),\x20'+'unpackFloa'+'t);\x20u\x20+=\x20u'+'niform.sam'+'plesTexInv'+'erseSize.x'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'raw.w\x20=\x20do'+'t(textureS'+'ample(samp'+'lesTex,\x20sa'+'mplesTexSa'+'mpler,\x20vec'+'2f(u,\x20v)),'+'\x20unpackFlo'+'at);\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20*L\x20=\x20r'+'aw.xyz\x20*\x202'+'.0\x20-\x201.0;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20*m'+'ipLevel\x20=\x20'+'raw.w\x20*\x208.'+'0;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20con'+'volve\x20an\x20e'+'nvironment'+'\x20given\x20pre'+'-generated'+'\x20samples\x0a\x20'+'\x20\x20\x20fn\x20pref'+'ilterSampl'+'es(uv:\x20vec'+'2f)\x20->\x20vec'+'4f\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20cons'+'truct\x20vect'+'or\x20space\x20g'+'iven\x20targe'+'t\x20directio'+'n\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20vecSpa'+'ce\x20=\x20matri'+'xFromVecto'+'rSlow({TAR'+'GET_FUNC}('+'uv));\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20L'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20mipLevel:'+'\x20f32;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20r'+'esult\x20=\x20ve'+'c3f(0.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20totalWei'+'ght\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'or\x20(var\x20i\x20'+'=\x200;\x20i\x20<\x20{'+'NUM_SAMPLE'+'S};\x20i\x20+=\x201'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unpa'+'ckSample(i'+',\x20&L,\x20&mip'+'Level);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'result\x20+=\x20'+'{DECODE_FU')+('NC}({SOURC'+'E_FUNC}Dir'+'Lod(vecSpa'+'ce\x20*\x20L,\x20mi'+'pLevel))\x20*'+'\x20L.z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20to'+'talWeight\x20'+'+=\x20L.z;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20{ENCOD'+'E_FUNC}(re'+'sult\x20/\x20tot'+'alWeight);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20//\x20unwei'+'ghted\x20vers'+'ion\x20of\x20pre'+'filterSamp'+'les\x0a\x20\x20\x20\x20fn'+'\x20prefilter'+'SamplesUnw'+'eighted(uv'+':\x20vec2f)\x20-'+'>\x20vec4f\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20construct'+'\x20vector\x20sp'+'ace\x20given\x20'+'target\x20dir'+'ection\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20v'+'ecSpace\x20=\x20'+'matrixFrom'+'VectorSlow'+'({TARGET_F'+'UNC}(uv));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20L:\x20vec'+'3f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20mipL'+'evel:\x20f32;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20result'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20for\x20(va'+'r\x20i\x20=\x200;\x20i'+'\x20<\x20{NUM_SA'+'MPLES};\x20i\x20'+'+=\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'unpackSamp'+'le(i,\x20&L,\x20'+'&mipLevel)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20result'+'\x20+=\x20{DECOD'+'E_FUNC}({S'+'OURCE_FUNC'+'}DirLod(ve'+'cSpace\x20*\x20L'+',\x20mipLevel'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'{ENCODE_FU'+'NC}(result'+'\x20/\x20f32({NU'+'M_SAMPLES}'+'));\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20output.'+'color\x20=\x20{P'+'ROCESS_FUN'+'C}(input.v'+'Uv0);\x0a\x20\x20\x20\x20'+'return\x20out'+'put;\x0a}\x0a'),uI='\x0aattribute'+'\x20vertex_po'+'sition:\x20ve'+'c2f;\x0aunifo'+'rm\x20uvMod:\x20'+'vec4f;\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0a\x0a@'+'vertex\x0afn\x20'+'vertexMain'+'(input:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20var\x20outpu'+'t:\x20VertexO'+'utput;\x0a\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(input.v'+'ertex_posi'+'tion,\x200.5,'+'\x201.0);\x0a\x20\x20o'+'utput.vUv0'+'\x20=\x20getImag'+'eEffectUV('+'(input.ver'+'tex_positi'+'on\x20*\x200.5\x20+'+'\x20vec2f(0.5'+',\x200.5))\x20*\x20'+'uniform.uv'+'Mod.xy\x20+\x20u'+'niform.uvM'+'od.zw);\x0a\x20\x20'+'return\x20out'+'put;\x0a}\x0a',pI='\x0a\x0avar\x20uSce'+'neDepthMap'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20uSceneD'+'epthMapSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifn'+'def\x20SCREEN'+'SIZE\x0a\x20\x20\x20\x20#'+'define\x20SCR'+'EENSIZE\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fndef\x20VIEW'+'MATRIX\x0a\x20\x20\x20'+'\x20#define\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20unifor'+'m\x20matrix_v'+'iew:\x20mat4x'+'4f;\x0a#endif'+'\x0a\x0a#ifndef\x20'+'LINEARIZE_'+'DEPTH\x0a\x20\x20\x20\x20'+'#define\x20LI'+'NEARIZE_DE'+'PTH\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20CAM'+'ERAPLANES\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#d'+'efine\x20CAME'+'RAPLANES\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20camer'+'a_params:\x20'+'vec4f;\x20//\x20'+'x:\x201\x20/\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20\x20y:\x20cam'+'era_far,\x20\x20'+'\x20\x20\x20z:\x20came'+'ra_near,\x20\x20'+'\x20\x20\x20\x20\x20\x20w:\x20i'+'s_ortho\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20fn\x20lin'+'earizeDept'+'h(z:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uniform.c'+'amera_para'+'ms.w\x20==\x200.'+'0)\x20{\x20//\x20Pe'+'rspective\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20('+'uniform.ca'+'mera_param'+'s.z\x20*\x20unif'+'orm.camera'+'_params.y)'+'\x20/\x20(unifor'+'m.camera_p'+'arams.y\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.z\x20-'+'\x20uniform.c'+'amera_para'+'ms.y));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20unifor'+'m.camera_p'+'arams.z\x20+\x20'+'z\x20*\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a#endif\x0a'+'\x0afn\x20deline'+'arizeDepth'+'(linearDep'+'th:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20if\x20(unif'+'orm.camera'+'_params.w\x20'+'==\x200.0)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20(unif'+'orm.camera'+('_params.y\x20'+'*\x20(uniform'+'.camera_pa'+'rams.z\x20-\x20l'+'inearDepth'+'))\x20/\x20(line'+'arDepth\x20*\x20'+'(uniform.c'+'amera_para'+'ms.z\x20-\x20uni'+'form.camer'+'a_params.y'+'));\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20(linearD'+'epth\x20-\x20uni'+'form.camer'+'a_params.z'+')\x20/\x20(unifo'+'rm.camera_'+'params.y\x20-'+'\x20uniform.c'+'amera_para'+'ms.z);\x0a\x20\x20\x20'+'\x20}\x0a}\x0a\x0a//\x20R'+'etrieves\x20r'+'endered\x20li'+'near\x20camer'+'a\x20depth\x20by'+'\x20UV\x0afn\x20get'+'LinearScre'+'enDepth(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'CENE_DEPTH'+'MAP_LINEAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20SCEN'+'E_DEPTHMAP'+'_FLOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20text'+'ureSample('+'uSceneDept'+'hMap,\x20uSce'+'neDepthMap'+'Sampler,\x20u'+'v).r;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20tex'+'tureSize\x20='+'\x20textureDi'+'mensions(u'+'SceneDepth'+'Map,\x200);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20texel'+':\x20vec2i\x20=\x20'+'vec2i(uv\x20*'+'\x20vec2f(tex'+'tureSize))'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta:\x20vec4f\x20'+'=\x20textureL'+'oad(uScene'+'DepthMap,\x20'+'texel,\x200);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20da'+'ta_u32:\x20ve'+'c4u\x20=\x20vec4'+'u(data\x20*\x202'+'55.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20intBits'+':\x20u32\x20=\x20(d'+'ata_u32.r\x20'+'<<\x2024u)\x20|\x20'+'(data_u32.'+'g\x20<<\x2016u)\x20'+'|\x20(data_u3'+'2.b\x20<<\x208u)'+'\x20|\x20data_u3'+'2.a;\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20bitca'+'st<f32>(in'+'tBits);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20l'+'inearizeDe'+'pth(textur'+'eSample(uS'+'ceneDepthM')+('ap,\x20uScene'+'DepthMapSa'+'mpler,\x20uv)'+'.r);\x0a\x20\x20\x20\x20#'+'endif\x0a}\x0a\x0a#'+'ifndef\x20VER'+'TEXSHADER\x0a'+'\x20\x20\x20\x20//\x20Ret'+'rieves\x20ren'+'dered\x20line'+'ar\x20camera\x20'+'depth\x20unde'+'r\x20the\x20curr'+'ent\x20pixel\x0a'+'\x20\x20\x20\x20fn\x20get'+'LinearScre'+'enDepthFra'+'g()\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv:\x20v'+'ec2f\x20=\x20pcP'+'osition.xy'+'\x20*\x20uniform'+'.uScreenSi'+'ze.zw;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getLinea'+'rScreenDep'+'th(uv);\x0a\x20\x20'+'\x20\x20}\x0a#endif'+'\x0a\x0a//\x20Gener'+'ates\x20linea'+'r\x20camera\x20d'+'epth\x20for\x20t'+'he\x20given\x20w'+'orld\x20posit'+'ion\x0afn\x20get'+'LinearDept'+'h(pos:\x20vec'+'3f)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20-(unif'+'orm.matrix'+'_view\x20*\x20ve'+'c4f(pos,\x201'+'.0)).z;\x0a}\x0a'),mI='\x0a\x0a//\x20funct'+'ion\x20which\x20'+'selects\x20a\x20'+'shadow\x20pro'+'jection\x20ma'+'trix\x20index'+'\x20based\x20on\x20'+'cascade\x20di'+'stances\x0afn'+'\x20getShadow'+'CascadeInd'+'ex(shadowC'+'ascadeDist'+'ances:\x20vec'+'4f,\x20shadow'+'CascadeCou'+'nt:\x20i32)\x20-'+'>\x20i32\x20{\x0a\x0a\x20'+'\x20\x20\x20//\x20dept'+'h\x20in\x200\x20..\x20'+'far\x20plane\x20'+'range\x0a\x20\x20\x20\x20'+'let\x20depth:'+'\x20f32\x20=\x201.0'+'\x20/\x20pcPosit'+'ion.w;\x0a\x0a\x20\x20'+'\x20\x20//\x201.0\x20i'+'f\x20depth\x20>='+'\x20distance,'+'\x200.0\x20other'+'wise\x0a\x20\x20\x20\x20l'+'et\x20compari'+'sons:\x20vec4'+'f\x20=\x20step(s'+'hadowCasca'+'deDistance'+'s,\x20vec4f(d'+'epth));\x0a\x0a\x20'+'\x20\x20\x20//\x20sum\x20'+'is\x20the\x20ind'+'ex\x0a\x20\x20\x20\x20let'+'\x20cascadeIn'+'dex:\x20i32\x20='+'\x20i32(dot(c'+'omparisons'+',\x20vec4f(1.'+'0)));\x0a\x0a\x20\x20\x20'+'\x20//\x20limit\x20'+'to\x20actual\x20'+'number\x20of\x20'+'used\x20casca'+'des\x0a\x20\x20\x20\x20re'+'turn\x20min(c'+'ascadeInde'+'x,\x20shadowC'+'ascadeCoun'+'t\x20-\x201);\x0a}\x0a'+'\x0a//\x20functi'+'on\x20which\x20m'+'odifies\x20ca'+'scade\x20inde'+'x\x20to\x20dithe'+'r\x20between\x20'+'cascades\x0af'+'n\x20ditherSh'+'adowCascad'+'eIndex(cas'+'cadeIndex_'+'in:\x20i32,\x20s'+'hadowCasca'+'deDistance'+'s:\x20vec4f,\x20'+'shadowCasc'+'adeCount:\x20'+'i32,\x20blend'+'Factor:\x20f3'+'2)\x20->\x20i32\x20'+'{\x0a\x0a\x20\x20\x20\x20//\x20'+'Use\x20var\x20as'+'\x20cascadeIn'+'dex\x20might\x20'+'be\x20modifie'+'d\x0a\x20\x20\x20\x20var\x20'+'cascadeInd'+'ex:\x20i32\x20=\x20'+'cascadeInd'+'ex_in;\x0a\x20\x20\x20'+'\x20if\x20(casca'+'deIndex\x20<\x20'+'shadowCasc'+'adeCount\x20-'+'\x201)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20cu'+'rrentRange'+'End:\x20f32\x20='+'\x20shadowCas'+'cadeDistan'+'ces[cascad'+'eIndex];\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+('\x20transitio'+'nStart:\x20f3'+'2\x20=\x20blendF'+'actor\x20*\x20cu'+'rrentRange'+'End;\x20//\x20St'+'art\x20overla'+'p\x20factor\x20a'+'way\x20from\x20t'+'he\x20end\x20dis'+'tance\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(depth\x20'+'>\x20transiti'+'onStart)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20a\x20tr'+'ansition\x20f'+'actor\x20(0.0'+'\x20to\x201.0)\x20w'+'ithin\x20the\x20'+'overlap\x20ra'+'nge\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'transition'+'Factor:\x20f3'+'2\x20=\x20smooth'+'step(trans'+'itionStart'+',\x20currentR'+'angeEnd,\x20d'+'epth);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20Add\x20pse'+'udo-random'+'\x20dithering'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20TODO'+':\x20replace\x20'+'by\x20user\x20se'+'lectable\x20d'+'ithering\x20m'+'ethod\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20dither:\x20'+'f32\x20=\x20frac'+'t(sin(dot('+'pcPosition'+'.xy,\x20vec2f'+'(12.9898,\x20'+'78.233)))\x20'+'*\x2043758.54'+'53);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(dither\x20<\x20'+'transition'+'Factor)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20casc'+'adeIndex\x20='+'\x20cascadeIn'+'dex\x20+\x201;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20cascadeIn'+'dex;\x0a}\x0a\x0afn'+'\x20fadeShado'+'w(shadowCo'+'ord_in:\x20ve'+'c3f,\x20shado'+'wCascadeDi'+'stances:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20//\x20if\x20the'+'\x20pixel\x20is\x20'+'past\x20the\x20s'+'hadow\x20dist'+'ance,\x20remo'+'ve\x20shadow\x0a'+'\x20\x20\x20\x20//\x20thi'+'s\x20enforces'+'\x20straight\x20'+'line\x20inste'+'ad\x20of\x20corn'+'er\x20of\x20shad'+'ow\x20which\x20m'+'oves\x20when\x20'+'camera\x20rot'+'ates\x0a\x20\x20\x20\x20v'+'ar\x20shadowC'+'oord:\x20vec3'+'f\x20=\x20shadow')+('Coord_in;\x0a'+'\x20\x20\x20\x20let\x20de'+'pth:\x20f32\x20='+'\x201.0\x20/\x20pcP'+'osition.w;'+'\x0a\x20\x20\x20\x20if\x20(d'+'epth\x20>\x20sha'+'dowCascade'+'Distances.'+'w)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20shadowC'+'oord.z\x20=\x20-'+'9999999.0;'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20return\x20s'+'hadowCoord'+';\x0a}\x0a'),_I='\x0a\x0a//\x20-----'+'-\x20VSM\x20Shar'+'ed\x20------\x0a'+'\x0afn\x20linste'+'p(a:\x20f32,\x20'+'b:\x20f32,\x20v:'+'\x20f32)\x20->\x20f'+'32\x20{\x0a\x20\x20\x20\x20/'+'/\x20WGSL\x20sat'+'urate\x20->\x20c'+'lamp\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p((v\x20-\x20a)\x20'+'/\x20(b\x20-\x20a),'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0afn\x20re'+'duceLightB'+'leeding(pM'+'ax:\x20f32,\x20a'+'mount:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20//\x20Rem'+'ove\x20the\x20[0'+',\x20amount]\x20'+'tail\x20and\x20l'+'inearly\x20re'+'scale\x20(amo'+'unt,\x201].\x0a\x20'+'\x20\x20return\x20l'+'instep(amo'+'unt,\x201.0,\x20'+'pMax);\x0a}\x0a\x0a'+'fn\x20chebysh'+'evUpperBou'+'nd(moments'+':\x20vec2f,\x20m'+'ean:\x20f32,\x20'+'minVarianc'+'e:\x20f32,\x20li'+'ghtBleedin'+'gReduction'+':\x20f32)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'//\x20Compute'+'\x20variance\x0a'+'\x20\x20\x20\x20var\x20va'+'riance:\x20f3'+'2\x20=\x20moment'+'s.y\x20-\x20(mom'+'ents.x\x20*\x20m'+'oments.x);'+'\x0a\x20\x20\x20\x20varia'+'nce\x20=\x20max('+'variance,\x20'+'minVarianc'+'e);\x0a\x0a\x20\x20\x20\x20/'+'/\x20Compute\x20'+'probabilis'+'tic\x20upper\x20'+'bound\x0a\x20\x20\x20\x20'+'let\x20d:\x20f32'+'\x20=\x20mean\x20-\x20'+'moments.x;'+'\x0a\x20\x20\x20\x20var\x20p'+'Max:\x20f32\x20='+'\x20variance\x20'+'/\x20(varianc'+'e\x20+\x20(d\x20*\x20d'+'));\x0a\x0a\x20\x20\x20\x20p'+'Max\x20=\x20redu'+'ceLightBle'+'eding(pMax'+',\x20lightBle'+'edingReduc'+'tion);\x0a\x0a\x20\x20'+'\x20\x20//\x20One-t'+'ailed\x20Cheb'+'yshev\x0a\x20\x20\x20\x20'+'return\x20sel'+'ect(pMax,\x20'+'1.0,\x20mean\x20'+'<=\x20moments'+'.x);\x0a}\x0a\x0afn'+'\x20calculate'+'EVSM(momen'+'ts_in:\x20vec'+'3f,\x20Z_in:\x20'+'f32,\x20vsmBi'+'as:\x20f32,\x20e'+'xponent:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20Z:\x20f32\x20=\x20'+'2.0\x20*\x20Z_in'+'\x20-\x201.0;\x0a\x20\x20'+'\x20\x20let\x20warp'+'edDepth:\x20f'+'32\x20=\x20exp(e'+'xponent\x20*\x20'+'Z);\x0a\x0a\x20\x20\x20\x20l'+('et\x20moments'+':\x20vec2f\x20=\x20'+'moments_in'+'.xy\x20+\x20vec2'+'f(warpedDe'+'pth,\x20warpe'+'dDepth*war'+'pedDepth)\x20'+'*\x20(1.0\x20-\x20m'+'oments_in.'+'z);\x0a\x0a\x20\x20\x20\x20l'+'et\x20VSMBias'+':\x20f32\x20=\x20vs'+'mBias;//0.'+'01\x20*\x200.25;'+'\x0a\x20\x20\x20\x20let\x20d'+'epthScale:'+'\x20f32\x20=\x20VSM'+'Bias\x20*\x20exp'+'onent\x20*\x20wa'+'rpedDepth;'+'\x0a\x20\x20\x20\x20let\x20m'+'inVariance'+'1:\x20f32\x20=\x20d'+'epthScale\x20'+'*\x20depthSca'+'le;\x0a\x20\x20\x20\x20re'+'turn\x20cheby'+'shevUpperB'+'ound(momen'+'ts,\x20warped'+'Depth,\x20min'+'Variance1,'+'\x200.1);\x0a}\x0a/'+'/\x20------\x20V'+'SM\x2016\x20----'+'--\x0a\x0afn\x20VSM'+'16(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords:\x20vec'+'2f,\x20resolu'+'tion:\x20f32,'+'\x20Z:\x20f32,\x20v'+'smBias:\x20f3'+'2,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20let\x20momen'+'ts:\x20vec3f\x20'+'=\x20textureS'+'ampleLevel'+'(tex,\x20texS'+'ampler,\x20te'+'xCoords,\x200'+'.0).xyz;\x0a\x20'+'\x20\x20\x20return\x20'+'calculateE'+'VSM(moment'+'s,\x20Z,\x20vsmB'+'ias,\x20expon'+'ent);\x0a}\x0a\x0af'+'n\x20getShado'+'wVSM16(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f,\x20exponen'+'t:\x20f32)\x20->'+'\x20f32\x20{\x0a\x20\x20\x20'+'\x20return\x20VS'+'M16(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord.xy,\x20s'+'hadowParam'+'s.x,\x20shado'+'wCoord.z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotVSM1'+'6(shadowMa'+'p:\x20texture'+'_2d<f32>,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler,\x20sha'+'dowCoord:\x20'+'vec3f,\x20sha')+('dowParams:'+'\x20vec4f,\x20ex'+'ponent:\x20f3'+'2,\x20lightDi'+'r:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20Z:\x20'+'f32\x20=\x20leng'+'th(lightDi'+'r)\x20*\x20shado'+'wParams.w\x20'+'+\x20shadowPa'+'rams.z;\x0a\x20\x20'+'\x20\x20return\x20V'+'SM16(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20Z,\x20s'+'hadowParam'+'s.y,\x20expon'+'ent);\x0a}\x0a\x0a/'+'/\x20------\x20V'+'SM\x2032\x20----'+'--\x0a\x0afn\x20VSM'+'32(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20texC'+'oords_in:\x20'+'vec2f,\x20res'+'olution:\x20f'+'32,\x20Z:\x20f32'+',\x20vsmBias:'+'\x20f32,\x20expo'+'nent:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20CAPS_TEX'+'TURE_FLOAT'+'_FILTERABL'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20moment'+'s:\x20vec3f\x20='+'\x20textureSa'+'mpleLevel('+'tex,\x20texSa'+'mpler,\x20tex'+'Coords_in,'+'\x200.0).xyz;'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20manual\x20b'+'ilinear\x20fi'+'ltering\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'pixelSize\x20'+':\x20f32\x20=\x201.'+'0\x20/\x20resolu'+'tion;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20te'+'xCoords:\x20v'+'ec2f\x20=\x20tex'+'Coords_in\x20'+'-\x20vec2f(pi'+'xelSize);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20s00:\x20vec'+'3f\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20texCoords'+',\x200.0).xyz'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20s10:\x20v'+'ec3f\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20texCoor'+'ds\x20+\x20vec2f'+'(pixelSize'+',\x200.0),\x200.'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'s01:\x20vec3f'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'exCoords\x20+'+'\x20vec2f(0.0'+',\x20pixelSiz'+'e),\x200.0).x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20s11:')+('\x20vec3f\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20texCo'+'ords\x20+\x20vec'+'2f(pixelSi'+'ze),\x200.0).'+'xyz;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20fr:'+'\x20vec2f\x20=\x20f'+'ract(texCo'+'ords\x20*\x20res'+'olution);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20h0:\x20vec3'+'f\x20=\x20mix(s0'+'0,\x20s10,\x20fr'+'.x);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20h1:'+'\x20vec3f\x20=\x20m'+'ix(s01,\x20s1'+'1,\x20fr.x);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20moments:'+'\x20vec3f\x20=\x20m'+'ix(h0,\x20h1,'+'\x20fr.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20calculate'+'EVSM(momen'+'ts,\x20Z,\x20vsm'+'Bias,\x20expo'+'nent);\x0a}\x0a\x0a'+'fn\x20getShad'+'owVSM32(sh'+'adowMap:\x20t'+'exture_2d<'+'f32>,\x20shad'+'owMapSampl'+'er:\x20sample'+'r,\x20shadowC'+'oord:\x20vec3'+'f,\x20shadowP'+'arams:\x20vec'+'4f,\x20expone'+'nt:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20return\x20V'+'SM32(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20shadow'+'Coord.xy,\x20'+'shadowPara'+'ms.x,\x20shad'+'owCoord.z,'+'\x20shadowPar'+'ams.y,\x20exp'+'onent);\x0a}\x0a'+'\x0afn\x20getSha'+'dowSpotVSM'+'32(shadowM'+'ap:\x20textur'+'e_2d<f32>,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20e'+'xponent:\x20f'+'32,\x20lightD'+'ir:\x20vec3f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20Z:'+'\x20f32\x20=\x20len'+'gth(lightD'+'ir)\x20*\x20shad'+'owParams.w'+'\x20+\x20shadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20return\x20'+'VSM32(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowPar'+'ams.x,\x20Z,\x20'+'shadowPara'+'ms.y,\x20expo'+'nent);\x0a}\x0a'),gI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0a\x0afn\x20getS'+'hadowPCF1x'+'1(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec4f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20shado'+'wCoord.xy,'+'\x20shadowCoo'+'rd.z);\x0a}\x0a\x0a'+'fn\x20getShad'+'owSpotPCF1'+'x1(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20shad'+'owCoord.xy'+',\x20shadowCo'+'ord.z);\x0a}\x0a'+'\x0a//\x20-----\x20'+'Omni\x20Sampl'+'ing\x20-----\x0a'+'\x0a//\x20Not\x20su'+'pported\x20on'+'\x20WebGPU\x20de'+'vice\x0a//\x20fn'+'\x20getShadow'+'OmniPCF1x1'+'(shadowMap'+':\x20texture_'+'depth_cube'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f,'+'\x20lightDir:'+'\x20vec3f)\x20->'+'\x20f32\x20{\x0a//\x20'+'\x20\x20\x20\x20let\x20sh'+'adowZ:\x20f32'+'\x20=\x20length('+'lightDir)\x20'+'*\x20shadowPa'+'rams.w\x20+\x20s'+'hadowParam'+'s.z;\x0a//\x20\x20\x20'+'\x20\x20return\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20lightD'+'ir,\x20shadow'+'Z);\x0a//\x20}\x0a',SI='\x0a//\x20-----\x20'+'Directiona'+'l/Spot\x20Sam'+'pling\x20----'+'-\x0afn\x20_getS'+'hadowPCF3x'+'3(shadowMa'+'p:\x20texture'+'_depth_2d,'+'\x20shadowMap'+'Sampler:\x20s'+'ampler_com'+'parison,\x20s'+'hadowCoord'+':\x20vec3f,\x20s'+'hadowParam'+'s:\x20vec3f)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20sum:\x20f3'+'2\x20=\x200.0;\x0a\x0a'+'\x20\x20\x20\x20let\x20uw'+'0:\x20f32\x20=\x20('+'3.0\x20-\x202.0\x20'+'*\x20s);\x0a\x20\x20\x20\x20'+'let\x20uw1:\x20f'+'32\x20=\x20(1.0\x20'+'+\x202.0\x20*\x20s)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20u0_offset'+':\x20f32\x20=\x20(2'+'.0\x20-\x20s)\x20/\x20'+'uw0\x20-\x201.0;'+'\x0a\x20\x20\x20\x20let\x20u'+'1_offset:\x20'+'f32\x20=\x20s\x20/\x20'+'uw1\x20+\x201.0;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'vw0:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t);\x0a\x20\x20'+'\x20\x20let\x20vw1:'+'\x20f32\x20=\x20(1.'+'0\x20+\x202.0\x20*\x20'+'t);\x0a\x0a\x20\x20\x20\x20l'+'et\x20v0_offs'+'et:\x20f32\x20=\x20'+'(2.0\x20-\x20t)\x20'+'/\x20vw0\x20-\x201.'+'0;\x0a\x20\x20\x20\x20let'+'\x20v1_offset'+':\x20f32\x20=\x20t\x20'+'/\x20vw1\x20+\x201.'+'0;\x0a\x0a\x20\x20\x20\x20le'+'t\x20u0:\x20f32\x20'+'=\x20u0_offse'+'t\x20*\x20shadow'+'MapSizeInv'+'\x20+\x20base_uv'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20v0:\x20f32\x20'+'=\x20v0_offse'+'t\x20*\x20shadow'+('MapSizeInv'+'\x20+\x20base_uv'+'.y;\x0a\x0a\x20\x20\x20\x20l'+'et\x20u1:\x20f32'+'\x20=\x20u1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.x;\x0a\x20\x20\x20\x20l'+'et\x20v1:\x20f32'+'\x20=\x20v1_offs'+'et\x20*\x20shado'+'wMapSizeIn'+'v\x20+\x20base_u'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'sum\x20=\x20sum\x20'+'+\x20uw0\x20*\x20vw'+'0\x20*\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20v'+'ec2f(u0,\x20v'+'0),\x20z);\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw1\x20*\x20'+'vw0\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u1,'+'\x20v0),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw0\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'0,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'1\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u1,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20*'+'\x20(1.0\x20/\x2016'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20sum;'+'\x0a}\x0a\x0afn\x20get'+'ShadowPCF3'+'x3(shadowM'+'ap:\x20textur'+'e_depth_2d'+',\x20shadowMa'+'pSampler:\x20'+'sampler_co'+'mparison,\x20'+'shadowCoor'+'d:\x20vec3f,\x20'+'shadowPara'+'ms:\x20vec4f)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20_getShado'+'wPCF3x3(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20sha'+'dowCoord,\x20'+'shadowPara'+'ms.xyz);\x0a}'+'\x0a\x0afn\x20getSh'+'adowSpotPC'+'F3x3(shado'+'wMap:\x20text'+'ure_depth_'+'2d,\x20shadow'+'MapSampler'+':\x20sampler_'+'comparison'+',\x20shadowCo'+'ord:\x20vec3f'+',\x20shadowPa'+'rams:\x20vec4'+'f)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20_getSha'+'dowPCF3x3(')+('shadowMap,'+'\x20shadowMap'+'Sampler,\x20s'+'hadowCoord'+',\x20shadowPa'+'rams.xyz);'+'\x0a}\x0a\x0a//\x20---'+'--\x20Omni\x20Sa'+'mpling\x20---'+'--\x0a\x0a//\x20Not'+'\x20currently'+'\x20supported'+'\x20on\x20WebGPU'+'\x20device\x0a//'+'\x20fn\x20getSha'+'dowOmniPCF'+'3x3(shadow'+'Map:\x20textu'+'re_depth_c'+'ube,\x20shado'+'wMapSample'+'r:\x20sampler'+'_compariso'+'n,\x20shadowP'+'arams:\x20vec'+'4f,\x20dir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a\x0a//\x20\x20'+'\x20\x20\x20//\x20Calc'+'ulate\x20shad'+'ow\x20depth\x20f'+'rom\x20the\x20li'+'ght\x20direct'+'ion\x0a//\x20\x20\x20\x20'+'\x20let\x20shado'+'wZ:\x20f32\x20=\x20'+'length(dir'+')\x20*\x20shadow'+'Params.w\x20+'+'\x20shadowPar'+'ams.z;\x0a\x0a//'+'\x20\x20\x20\x20\x20//\x20of'+'fset\x0a//\x20\x20\x20'+'\x20\x20let\x20texS'+'ize_i\x20=\x20te'+'xtureDimen'+'sions(shad'+'owMap,\x200);'+'\x0a//\x20\x20\x20\x20\x20le'+'t\x20z:\x20f32\x20='+'\x201.0\x20/\x20f32'+'(texSize_i'+'.x);\x0a//\x20\x20\x20'+'\x20\x20let\x20tc:\x20'+'vec3f\x20=\x20no'+'rmalize(di'+'r);\x0a\x0a//\x20\x20\x20'+'\x20\x20//\x20avera'+'ge\x204\x20sampl'+'es\x20-\x20not\x20a'+'\x20strict\x203x'+'3\x20PCF\x20but\x20'+'that\x27s\x20tri'+'cky\x20with\x20c'+'ubemaps\x0a//'+'\x20\x20\x20\x20\x20var\x20s'+'hadows:\x20ve'+'c4f;\x0a//\x20\x20\x20'+'\x20\x20shadows.'+'x\x20=\x20textur'+'eSampleCom'+'pareLevel('+'shadowMap,'+'\x20shadowMap'+'Sampler,\x20t'+'c\x20+\x20vec3f('+'\x20z,\x20\x20z,\x20\x20z'+'),\x20shadowZ'+');\x0a//\x20\x20\x20\x20\x20'+'shadows.y\x20'+'=\x20textureS'+'ampleCompa'+'reLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20tc\x20'+'+\x20vec3f(-z'+',\x20-z,\x20\x20z),'+'\x20shadowZ);'+'\x0a//\x20\x20\x20\x20\x20sh'+'adows.z\x20=\x20'+'textureSam'+'pleCompare'+'Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20tc\x20+\x20'+'vec3f(-z,\x20'+'\x20z,\x20-z),\x20s'+'hadowZ);\x0a/')+('/\x20\x20\x20\x20\x20shad'+'ows.w\x20=\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20tc\x20+\x20ve'+'c3f(\x20z,\x20-z'+',\x20-z),\x20sha'+'dowZ);\x0a\x0a//'+'\x20\x20\x20\x20\x20retur'+'n\x20dot(shad'+'ows,\x20vec4f'+'(0.25));\x0a/'+'/\x20}\x0a\x0a//\x20fn'+'\x20getShadow'+'OmniPCF3x3'+'_Wrapper(s'+'hadowMap:\x20'+'texture_de'+'pth_cube,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec4f,\x20l'+'ightDir:\x20v'+'ec3f)\x20->\x20f'+'32\x20{\x0a//\x20\x20\x20'+'\x20\x20return\x20g'+'etShadowOm'+'niPCF3x3(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20sh'+'adowParams'+',\x20lightDir'+');\x0a//\x20}\x0a'),yI='\x0a//\x20http:/'+'/the-witne'+'ss.net/new'+'s/2013/09/'+'shadow-map'+'ping-summa'+'ry-part-1/'+'\x0afn\x20_getSh'+'adowPCF5x5'+'(shadowMap'+':\x20texture_'+'depth_2d,\x20'+'shadowMapS'+'ampler:\x20sa'+'mpler_comp'+'arison,\x20sh'+'adowCoord:'+'\x20vec3f,\x20sh'+'adowParams'+':\x20vec3f)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20let\x20z:\x20'+'f32\x20=\x20shad'+'owCoord.z;'+'\x0a\x20\x20\x20\x20let\x20u'+'v:\x20vec2f\x20='+'\x20shadowCoo'+'rd.xy\x20*\x20sh'+'adowParams'+'.x;\x20//\x201\x20u'+'nit\x20-\x201\x20te'+'xel\x0a\x20\x20\x20\x20le'+'t\x20shadowMa'+'pSizeInv:\x20'+'f32\x20=\x201.0\x20'+'/\x20shadowPa'+'rams.x;\x0a\x20\x20'+'\x20\x20let\x20base'+'_uv_temp:\x20'+'vec2f\x20=\x20fl'+'oor(uv\x20+\x200'+'.5);\x0a\x20\x20\x20\x20l'+'et\x20s:\x20f32\x20'+'=\x20(uv.x\x20+\x20'+'0.5\x20-\x20base'+'_uv_temp.x'+');\x0a\x20\x20\x20\x20let'+'\x20t:\x20f32\x20=\x20'+'(uv.y\x20+\x200.'+'5\x20-\x20base_u'+'v_temp.y);'+'\x0a\x20\x20\x20\x20let\x20b'+'ase_uv:\x20ve'+'c2f\x20=\x20(bas'+'e_uv_temp\x20'+'-\x20vec2f(0.'+'5))\x20*\x20shad'+'owMapSizeI'+'nv;\x0a\x0a\x20\x20\x20\x20l'+'et\x20uw0:\x20f3'+'2\x20=\x20(4.0\x20-'+'\x203.0\x20*\x20s);'+'\x0a\x20\x20\x20\x20let\x20u'+'w1:\x20f32\x20=\x20'+'7.0;\x0a\x20\x20\x20\x20l'+'et\x20uw2:\x20f3'+'2\x20=\x20(1.0\x20+'+'\x203.0\x20*\x20s);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'u0_offset:'+'\x20f32\x20=\x20(3.'+'0\x20-\x202.0\x20*\x20'+'s)\x20/\x20uw0\x20-'+'\x202.0;\x0a\x20\x20\x20\x20'+'let\x20u1_off'+'set:\x20f32\x20='+'\x20(3.0\x20+\x20s)'+'\x20/\x20uw1;\x0a\x20\x20'+'\x20\x20let\x20u2_o'+'ffset:\x20f32'+'\x20=\x20s\x20/\x20uw2'+'\x20+\x202.0;\x0a\x0a\x20'+'\x20\x20\x20let\x20vw0'+':\x20f32\x20=\x20(4'+'.0\x20-\x203.0\x20*'+'\x20t);\x0a\x20\x20\x20\x20l'+'et\x20vw1:\x20f3'+'2\x20=\x207.0;\x0a\x20'+'\x20\x20\x20let\x20vw2'+':\x20f32\x20=\x20(1'+'.0\x20+\x203.0\x20*'+'\x20t);\x0a\x0a\x20\x20\x20\x20'+'let\x20v0_off'+'set:\x20f32\x20='+'\x20(3.0\x20-\x202.'+'0\x20*\x20t)\x20/\x20v'+'w0\x20-\x202.0;\x0a'+'\x20\x20\x20\x20let\x20v1'+'_offset:\x20f'+'32\x20=\x20(3.0\x20'+('+\x20t)\x20/\x20vw1'+';\x0a\x20\x20\x20\x20let\x20'+'v2_offset:'+'\x20f32\x20=\x20t\x20/'+'\x20vw2\x20+\x202.0'+';\x0a\x0a\x20\x20\x20\x20var'+'\x20sum:\x20f32\x20'+'=\x200.0;\x0a\x0a\x20\x20'+'\x20\x20let\x20u0:\x20'+'f32\x20=\x20u0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.x;\x0a\x20\x20'+'\x20\x20let\x20v0:\x20'+'f32\x20=\x20v0_o'+'ffset\x20*\x20sh'+'adowMapSiz'+'eInv\x20+\x20bas'+'e_uv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20u1:'+'\x20f32\x20=\x20u1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.x;\x0a\x20'+'\x20\x20\x20let\x20v1:'+'\x20f32\x20=\x20v1_'+'offset\x20*\x20s'+'hadowMapSi'+'zeInv\x20+\x20ba'+'se_uv.y;\x0a\x0a'+'\x20\x20\x20\x20let\x20u2'+':\x20f32\x20=\x20u2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.x;\x0a'+'\x20\x20\x20\x20let\x20v2'+':\x20f32\x20=\x20v2'+'_offset\x20*\x20'+'shadowMapS'+'izeInv\x20+\x20b'+'ase_uv.y;\x0a'+'\x0a\x20\x20\x20\x20sum\x20='+'\x20sum\x20+\x20uw0'+'\x20*\x20vw0\x20*\x20t'+'extureSamp'+'leCompareL'+'evel(shado'+'wMap,\x20shad'+'owMapSampl'+'er,\x20vec2f('+'u0,\x20v0),\x20z'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20sum\x20+\x20u'+'w1\x20*\x20vw0\x20*'+'\x20textureSa'+'mpleCompar'+'eLevel(sha'+'dowMap,\x20sh'+'adowMapSam'+'pler,\x20vec2'+'f(u1,\x20v0),'+'\x20z);\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw2\x20*\x20vw0'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u2,\x20v0'+'),\x20z);\x0a\x0a\x20\x20'+'\x20\x20sum\x20=\x20su'+'m\x20+\x20uw0\x20*\x20'+'vw1\x20*\x20text'+'ureSampleC'+'ompareLeve'+'l(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20vec2f(u0,'+'\x20v1),\x20z);\x0a'+'\x20\x20\x20\x20sum\x20=\x20'+'sum\x20+\x20uw1\x20'+'*\x20vw1\x20*\x20te'+'xtureSampl'+'eCompareLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20vec2f(u'+'1,\x20v1),\x20z)'+';\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20+\x20uw'+'2\x20*\x20vw1\x20*\x20'+'textureSam'+'pleCompare')+('Level(shad'+'owMap,\x20sha'+'dowMapSamp'+'ler,\x20vec2f'+'(u2,\x20v1),\x20'+'z);\x0a\x0a\x20\x20\x20\x20s'+'um\x20=\x20sum\x20+'+'\x20uw0\x20*\x20vw2'+'\x20*\x20texture'+'SampleComp'+'areLevel(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20ve'+'c2f(u0,\x20v2'+'),\x20z);\x0a\x20\x20\x20'+'\x20sum\x20=\x20sum'+'\x20+\x20uw1\x20*\x20v'+'w2\x20*\x20textu'+'reSampleCo'+'mpareLevel'+'(shadowMap'+',\x20shadowMa'+'pSampler,\x20'+'vec2f(u1,\x20'+'v2),\x20z);\x0a\x20'+'\x20\x20\x20sum\x20=\x20s'+'um\x20+\x20uw2\x20*'+'\x20vw2\x20*\x20tex'+'tureSample'+'CompareLev'+'el(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20vec2f(u2'+',\x20v2),\x20z);'+'\x0a\x0a\x20\x20\x20\x20sum\x20'+'=\x20sum\x20*\x20(1'+'.0\x20/\x20144.0'+');\x0a\x20\x20\x20\x20sum'+'\x20=\x20saturat'+'e(sum);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'sum;\x0a}\x0a\x0afn'+'\x20getShadow'+'PCF5x5(sha'+'dowMap:\x20te'+'xture_dept'+'h_2d,\x20shad'+'owMapSampl'+'er:\x20sample'+'r_comparis'+'on,\x20shadow'+'Coord:\x20vec'+'3f,\x20shadow'+'Params:\x20ve'+'c4f)\x20->\x20f3'+'2\x20{\x0a\x20\x20\x20\x20re'+'turn\x20_getS'+'hadowPCF5x'+'5(shadowMa'+'p,\x20shadowM'+'apSampler,'+'\x20shadowCoo'+'rd,\x20shadow'+'Params.xyz'+');\x0a}\x0a\x0afn\x20g'+'etShadowSp'+'otPCF5x5(s'+'hadowMap:\x20'+'texture_de'+'pth_2d,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler_compar'+'ison,\x20shad'+'owCoord:\x20v'+'ec3f,\x20shad'+'owParams:\x20'+'vec4f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20_ge'+'tShadowPCF'+'5x5(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20shadowC'+'oord,\x20shad'+'owParams.x'+'yz);\x0a}\x0a'),vI='\x0a\x0afn\x20fract'+'SinRand(uv'+':\x20vec2f)\x20-'+'>\x20f32\x20{\x0a\x20\x20'+'\x20\x20let\x20PI:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20a:\x20f32\x20'+'=\x2012.9898;'+'\x20let\x20b:\x20f3'+'2\x20=\x2078.233'+';\x20let\x20c:\x20f'+'32\x20=\x2043758'+'.5453;\x0a\x20\x20\x20'+'\x20let\x20dt:\x20f'+'32\x20=\x20dot(u'+'v.xy,\x20vec2'+'f(a,\x20b));\x0a'+'\x20\x20\x20\x20let\x20sn'+':\x20f32\x20=\x20dt'+'\x20%\x20PI;\x0a\x20\x20\x20'+'\x20return\x20fr'+'act(sin(sn'+')\x20*\x20c);\x0a}\x0a'+'\x0a//\x20struct'+'\x20to\x20hold\x20p'+'recomputed'+'\x20constants'+'\x20and\x20curre'+'nt\x20state\x0as'+'truct\x20Voge'+'lDiskData\x20'+'{\x0a\x20\x20\x20\x20invN'+'umSamples:'+'\x20f32,\x0a\x20\x20\x20\x20'+'initialAng'+'le:\x20f32,\x0a\x20'+'\x20\x20\x20current'+'PointId:\x20f'+'32,\x0a}\x0a\x0a//\x20'+'prepare\x20th'+'e\x20Vogel\x20di'+'sk\x20constan'+'ts\x20and\x20ini'+'tialize\x20th'+'e\x20current\x20'+'state\x20in\x20t'+'he\x20struct\x0a'+'fn\x20prepare'+'DiskConsta'+'nts(data:\x20'+'ptr<functi'+'on,\x20VogelD'+'iskData>,\x20'+'sampleCoun'+'t:\x20i32,\x20ra'+'ndomSeed:\x20'+'f32)\x20{\x0a\x20\x20\x20'+'\x20let\x20pi2:\x20'+'f32\x20=\x206.28'+'318530718;'+'\x0a\x20\x20\x20\x20data.'+'invNumSamp'+'les\x20=\x201.0\x20'+'/\x20f32(samp'+'leCount);\x0a'+'\x20\x20\x20\x20data.i'+'nitialAngl'+'e\x20=\x20random'+'Seed\x20*\x20pi2'+';\x0a\x20\x20\x20\x20data'+'.currentPo'+'intId\x20=\x200.'+'0;\x0a}\x0a\x0a\x0afn\x20'+'generateDi'+'skSample(d'+'ata:\x20ptr<f'+'unction,\x20V'+'ogelDiskDa'+'ta>)\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'let\x20GOLDEN'+'_ANGLE:\x20f3'+'2\x20=\x202.3999'+'63;\x0a\x20\x20\x20\x20le'+'t\x20r:\x20f32\x20='+'\x20sqrt((dat'+'a.currentP'+'ointId\x20+\x200'+'.5)\x20*\x20data'+'.invNumSam'+'ples);\x0a\x20\x20\x20'+'\x20let\x20theta'+':\x20f32\x20=\x20da'+'ta.current'+'PointId\x20*\x20'+'GOLDEN_ANG'+'LE\x20+\x20data.'+'initialAng'+('le;\x0a\x0a\x20\x20\x20\x20l'+'et\x20offset:'+'\x20vec2f\x20=\x20v'+'ec2f(cos(t'+'heta),\x20sin'+'(theta))\x20*'+'\x20pow(r,\x201.'+'33);\x0a\x0a\x20\x20\x20\x20'+'data.curre'+'ntPointId\x20'+'=\x20data.cur'+'rentPointI'+'d\x20+\x201.0;\x0a\x20'+'\x20\x20\x20return\x20'+'offset;\x0a}\x0a'+'\x0afn\x20PCSSFi'+'ndBlocker('+'shadowMap:'+'\x20texture_2'+'d<f32>,\x20sh'+'adowMapSam'+'pler:\x20samp'+'ler,\x20avgBl'+'ockerDepth'+':\x20ptr<func'+'tion,\x20f32>'+',\x20numBlock'+'ers:\x20ptr<f'+'unction,\x20i'+'32>,\x0a\x20\x20\x20\x20s'+'hadowCoord'+'s:\x20vec2f,\x20'+'z:\x20f32,\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32,\x20penum'+'braSize:\x20f'+'32,\x20invSha'+'dowMapSize'+':\x20f32,\x20ran'+'domSeed:\x20f'+'32)\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20diskD'+'ata:\x20Vogel'+'DiskData;\x0a'+'\x20\x20\x20\x20prepar'+'eDiskConst'+'ants(&disk'+'Data,\x20shad'+'owBlockerS'+'amples,\x20ra'+'ndomSeed);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'searchWidt'+'h:\x20f32\x20=\x20p'+'enumbraSiz'+'e\x20*\x20invSha'+'dowMapSize'+';\x0a\x20\x20\x20\x20var\x20'+'blockerSum'+':\x20f32\x20=\x200.'+'0;\x0a\x20\x20\x20\x20var'+'\x20numBlocke'+'rs_local:\x20'+'i32\x20=\x200;\x0a\x0a'+'\x20\x20\x20\x20for(\x20v'+'ar\x20i:\x20i32\x20'+'=\x200;\x20i\x20<\x20s'+'hadowBlock'+'erSamples;'+'\x20i\x20=\x20i\x20+\x201'+'\x20)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20dis'+'kUV:\x20vec2f'+'\x20=\x20generat'+'eDiskSampl'+'e(&diskDat'+'a);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20samp'+'leUV:\x20vec2'+'f\x20=\x20shadow'+'Coords\x20+\x20d'+'iskUV\x20*\x20se'+'archWidth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20l'+'et\x20shadowM'+'apDepth:\x20f'+'32\x20=\x20textu'+'reSampleLe'+'vel(shadow'+'Map,\x20shado'+'wMapSample'+'r,\x20sampleU'+'V,\x200.0).r;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20i'+'f\x20(\x20shadow'+'MapDepth\x20<'+'\x20z\x20)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20b'+'lockerSum\x20')+('=\x20blockerS'+'um\x20+\x20shado'+'wMapDepth;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20numBloc'+'kers_local'+'\x20=\x20numBloc'+'kers_local'+'\x20+\x201;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20*avg'+'BlockerDep'+'th\x20=\x20block'+'erSum\x20/\x20f3'+'2(numBlock'+'ers_local)'+';\x0a\x20\x20\x20\x20*num'+'Blockers\x20='+'\x20numBlocke'+'rs_local;\x0a'+'}\x0a\x0afn\x20PCSS'+'Filter(sha'+'dowMap:\x20te'+'xture_2d<f'+'32>,\x20shado'+'wMapSample'+'r:\x20sampler'+',\x20uv:\x20vec2'+'f,\x20receive'+'rDepth:\x20f3'+'2,\x20shadowS'+'amples:\x20i3'+'2,\x20filterR'+'adius:\x20f32'+',\x20randomSe'+'ed:\x20f32)\x20-'+'>\x20f32\x20{\x0a\x0a\x20'+'\x20\x20\x20var\x20dis'+'kData:\x20Vog'+'elDiskData'+';\x0a\x20\x20\x20\x20prep'+'areDiskCon'+'stants(&di'+'skData,\x20sh'+'adowSample'+'s,\x20randomS'+'eed);\x0a\x0a\x20\x20\x20'+'\x20var\x20sum:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20for\x20('+'var\x20i:\x20i32'+'\x20=\x200;\x20i\x20<\x20'+'shadowSamp'+'les;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'offsetUV:\x20'+'vec2f\x20=\x20ge'+'nerateDisk'+'Sample(&di'+'skData)\x20*\x20'+'filterRadi'+'us;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dept'+'h:\x20f32\x20=\x20t'+'extureSamp'+'leLevel(sh'+'adowMap,\x20s'+'hadowMapSa'+'mpler,\x20uv\x20'+'+\x20offsetUV'+',\x200.0).r;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20su'+'m\x20=\x20sum\x20+\x20'+'step(recei'+'verDepth,\x20'+'depth);\x0a\x20\x20'+'\x20\x20}\x0a\x20\x20\x20\x20re'+'turn\x20sum\x20/'+'\x20f32(shado'+'wSamples);'+'\x0a}\x0a\x0afn\x20get'+'Penumbra(d'+'blocker:\x20f'+'32,\x20drecei'+'ver:\x20f32,\x20'+'penumbraSi'+'ze:\x20f32,\x20p'+'enumbraFal'+'loff:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20let\x20di'+'st:\x20f32\x20=\x20'+'dreceiver\x20'+'-\x20dblocker'+';\x0a\x20\x20\x20\x20let\x20'+'penumbra:\x20'+'f32\x20=\x201.0\x20'+'-\x20pow(1.0\x20'+'-\x20dist,\x20pe')+('numbraFall'+'off);\x0a\x20\x20\x20\x20'+'return\x20pen'+'umbra\x20*\x20pe'+'numbraSize'+';\x0a}\x0a\x0afn\x20PC'+'SSDirectio'+'nal(shadow'+'Map:\x20textu'+'re_2d<f32>'+',\x20shadowMa'+'pSampler:\x20'+'sampler,\x20s'+'hadowCoord'+'s:\x20vec3f,\x20'+'cameraPara'+'ms:\x20vec4f,'+'\x20softShado'+'wParams:\x20v'+'ec4f)\x20->\x20f'+'32\x20{\x0a\x0a\x20\x20\x20\x20'+'let\x20receiv'+'erDepth:\x20f'+'32\x20=\x20shado'+'wCoords.z;'+'\x0a\x20\x20\x20\x20let\x20r'+'andomSeed:'+'\x20f32\x20=\x20fra'+'ctSinRand('+'pcPosition'+'.xy);\x0a\x20\x20\x20\x20'+'let\x20shadow'+'Samples:\x20i'+'32\x20=\x20i32(s'+'oftShadowP'+'arams.x);\x0a'+'\x20\x20\x20\x20let\x20sh'+'adowBlocke'+'rSamples:\x20'+'i32\x20=\x20i32('+'softShadow'+'Params.y);'+'\x0a\x20\x20\x20\x20let\x20p'+'enumbraSiz'+'e:\x20f32\x20=\x20s'+'oftShadowP'+'arams.z;\x0a\x20'+'\x20\x20\x20let\x20pen'+'umbraFallo'+'ff:\x20f32\x20=\x20'+'softShadow'+'Params.w;\x0a'+'\x0a\x20\x20\x20\x20let\x20s'+'hadowMapSi'+'ze:\x20i32\x20=\x20'+'i32(textur'+'eDimension'+'s(shadowMa'+'p,\x200).x);\x0a'+'\x20\x20\x20\x20var\x20in'+'vShadowMap'+'Size:\x20f32\x20'+'=\x201.0\x20/\x20f3'+'2(shadowMa'+'pSize);\x0a\x20\x20'+'\x20\x20invShado'+'wMapSize\x20='+'\x20invShadow'+'MapSize\x20*\x20'+'(f32(shado'+'wMapSize)\x20'+'/\x202048.0);'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'penumbra:\x20'+'f32;\x0a\x0a\x20\x20\x20\x20'+'//\x20contact'+'\x20hardening'+'\x20path\x0a\x20\x20\x20\x20'+'if\x20(shadow'+'BlockerSam'+'ples\x20>\x200)\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20find\x20a'+'verage\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20avgBloc'+'kerDepth:\x20'+'f32\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20numBloc'+'kers:\x20i32\x20'+'=\x200;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20PCSSFin'+'dBlocker(s'+'hadowMap,\x20'+'shadowMapS'+'ampler,\x20&a'+'vgBlockerD'+'epth,\x20&num')+('Blockers,\x20'+'shadowCoor'+'ds.xy,\x20rec'+'eiverDepth'+',\x20shadowBl'+'ockerSampl'+'es,\x20penumb'+'raSize,\x20in'+'vShadowMap'+'Size,\x20rand'+'omSeed);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20early\x20out'+'\x20when\x20no\x20b'+'lockers\x20ar'+'e\x20present\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20if'+'\x20(numBlock'+'ers\x20<\x201)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'1.0;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20pen'+'umbra\x20size'+'\x20is\x20based\x20'+'on\x20the\x20blo'+'cker\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20p'+'enumbra\x20=\x20'+'getPenumbr'+'a(avgBlock'+'erDepth,\x20s'+'hadowCoord'+'s.z,\x20penum'+'braSize,\x20p'+'enumbraFal'+'loff);\x0a\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20constan'+'t\x20filter\x20s'+'ize,\x20no\x20co'+'ntact\x20hard'+'ening\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20penumb'+'ra\x20=\x20penum'+'braSize;\x0a\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'let\x20filter'+'Radius:\x20f3'+'2\x20=\x20penumb'+'ra\x20*\x20invSh'+'adowMapSiz'+'e;\x0a\x0a\x20\x20\x20\x20//'+'\x20filtering'+'\x0a\x20\x20\x20\x20retur'+'n\x20PCSSFilt'+'er(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ords.xy,\x20r'+'eceiverDep'+'th,\x20shadow'+'Samples,\x20f'+'ilterRadiu'+'s,\x20randomS'+'eed);\x0a}\x0a\x0af'+'n\x20getShado'+'wPCSS(shad'+'owMap:\x20tex'+'ture_2d<f3'+'2>,\x20shadow'+'MapSampler'+':\x20sampler,'+'\x20shadowCoo'+'rd:\x20vec3f,'+'\x20shadowPar'+'ams:\x20vec4f'+',\x20cameraPa'+'rams:\x20vec4'+'f,\x20softSha'+'dowParams:'+'\x20vec4f,\x20li'+'ghtDir:\x20ve'+'c3f)\x20->\x20f3'+'2\x20{\x20//\x20lig'+'htDir\x20unus'+'ed?\x20Kept\x20p'+'aram.\x0a\x20\x20\x20\x20'+'return\x20PCS'+'SDirection'+'al(shadowM'+'ap,\x20shadow'+'MapSampler'+',\x20shadowCo'+'ord,\x20camer'+'aParams,\x20s'+'oftShadowP')+'arams);\x0a}\x0a',xI='\x0aattribute'+'\x20vertex_bo'+'neIndices:'+'\x20f32;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0afn\x20g'+'etBoneMatr'+'ix(indexFl'+'oat:\x20f32)\x20'+'->\x20mat4x4f'+'\x20{\x0a\x0a\x20\x20\x20\x20le'+'t\x20width\x20=\x20'+'i32(textur'+'eDimension'+'s(texture_'+'poseMap).x'+');\x0a\x20\x20\x20\x20let'+'\x20index:\x20i3'+'2\x20=\x20i32(in'+'dexFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x20\x20\x20\x20let\x20i'+'y:\x20i32\x20=\x20i'+'ndex\x20/\x20wid'+'th;\x0a\x20\x20\x20\x20le'+'t\x20ix:\x20i32\x20'+'=\x20index\x20%\x20'+'width;\x0a\x0a\x20\x20'+'\x20\x20//\x20read\x20'+'elements\x20o'+'f\x204x3\x20matr'+'ix\x0a\x20\x20\x20\x20let'+'\x20v1:\x20vec4f'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(ix'+'\x20+\x200,\x20iy),'+'\x200);\x0a\x20\x20\x20\x20l'+'et\x20v2:\x20vec'+'4f\x20=\x20textu'+'reLoad(tex'+'ture_poseM'+'ap,\x20vec2i('+'ix\x20+\x201,\x20iy'+'),\x200);\x0a\x20\x20\x20'+'\x20let\x20v3:\x20v'+'ec4f\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(ix\x20+\x202,\x20'+'iy),\x200);\x0a\x0a'+'\x20\x20\x20\x20//\x20tra'+'nspose\x20to\x20'+'4x4\x20matrix'+'\x0a\x20\x20\x20\x20retur'+'n\x20mat4x4f('+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.x,\x20v2.x,'+'\x20v3.x,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.y,\x20v2.y,\x20'+'v3.y,\x200,\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20v1.'+'z,\x20v2.z,\x20v'+'3.z,\x200,\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20v1.w'+',\x20v2.w,\x20v3'+'.w,\x201.0\x0a\x20\x20'+'\x20\x20);\x0a}\x0a',TI='\x0a\x0aattribut'+'e\x20vertex_b'+'oneWeights'+':\x20vec4f;\x0aa'+'ttribute\x20v'+'ertex_bone'+'Indices:\x20v'+'ec4f;\x0a\x0avar'+'\x20texture_p'+'oseMap:\x20te'+'xture_2d<f'+'32>;\x0a\x0astru'+'ct\x20BoneMat'+'rix\x20{\x0a\x20\x20\x20\x20'+'v1:\x20vec4f,'+'\x0a\x20\x20\x20\x20v2:\x20v'+'ec4f,\x0a\x20\x20\x20\x20'+'v3:\x20vec4f,'+'\x0a}\x0a\x0afn\x20get'+'BoneMatrix'+'(width:\x20i3'+'2,\x20index:\x20'+'i32)\x20->\x20Bo'+'neMatrix\x20{'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'v\x20=\x20index\x20'+'/\x20width;\x0a\x20'+'\x20\x20\x20let\x20u\x20='+'\x20index\x20%\x20w'+'idth;\x0a\x0a\x20\x20\x20'+'\x20var\x20resul'+'t:\x20BoneMat'+'rix;\x0a\x20\x20\x20\x20r'+'esult.v1\x20='+'\x20textureLo'+'ad(texture'+'_poseMap,\x20'+'vec2i(u\x20+\x20'+'0,\x20v),\x200);'+'\x0a\x20\x20\x20\x20resul'+'t.v2\x20=\x20tex'+'tureLoad(t'+'exture_pos'+'eMap,\x20vec2'+'i(u\x20+\x201,\x20v'+'),\x200);\x0a\x20\x20\x20'+'\x20result.v3'+'\x20=\x20texture'+'Load(textu'+'re_poseMap'+',\x20vec2i(u\x20'+'+\x202,\x20v),\x200'+');\x0a\x20\x20\x20\x20ret'+'urn\x20result'+';\x0a}\x0a\x0afn\x20ge'+'tSkinMatri'+'x(indicesF'+'loat:\x20vec4'+'f,\x20weights'+':\x20vec4f)\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x0a\x20\x20\x20\x20let'+'\x20width\x20=\x20i'+'32(texture'+'Dimensions'+'(texture_p'+'oseMap).x)'+';\x0a\x20\x20\x20\x20var\x20'+'indices\x20=\x20'+'vec4i(indi'+'cesFloat\x20+'+'\x200.5)\x20*\x203;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'boneA\x20=\x20ge'+'tBoneMatri'+'x(width,\x20i'+'ndices.x);'+'\x0a\x20\x20\x20\x20let\x20b'+'oneB\x20=\x20get'+'BoneMatrix'+'(width,\x20in'+'dices.y);\x0a'+'\x20\x20\x20\x20let\x20bo'+'neC\x20=\x20getB'+'oneMatrix('+'width,\x20ind'+'ices.z);\x0a\x20'+'\x20\x20\x20let\x20bon'+'eD\x20=\x20getBo'+'neMatrix(w'+'idth,\x20indi'+'ces.w);\x0a\x0a\x20'+'\x20\x20\x20//\x20...\x20'+'rest\x20of\x20ge'+'tSkinMatri'+'x\x20remains\x20'+'the\x20same\x20.'+'..\x0a\x20\x20\x20\x20let'+'\x20v1\x20=\x20bone'+'A.v1\x20*\x20wei'+('ghts.x\x20+\x20b'+'oneB.v1\x20*\x20'+'weights.y\x20'+'+\x20boneC.v1'+'\x20*\x20weights'+'.z\x20+\x20boneD'+'.v1\x20*\x20weig'+'hts.w;\x0a\x20\x20\x20'+'\x20let\x20v2\x20=\x20'+'boneA.v2\x20*'+'\x20weights.x'+'\x20+\x20boneB.v'+'2\x20*\x20weight'+'s.y\x20+\x20bone'+'C.v2\x20*\x20wei'+'ghts.z\x20+\x20b'+'oneD.v2\x20*\x20'+'weights.w;'+'\x0a\x20\x20\x20\x20let\x20v'+'3\x20=\x20boneA.'+'v3\x20*\x20weigh'+'ts.x\x20+\x20bon'+'eB.v3\x20*\x20we'+'ights.y\x20+\x20'+'boneC.v3\x20*'+'\x20weights.z'+'\x20+\x20boneD.v'+'3\x20*\x20weight'+'s.w;\x0a\x0a\x20\x20\x20\x20'+'let\x20one\x20=\x20'+'dot(weight'+'s,\x20vec4f(1'+'.0,\x201.0,\x201'+'.0,\x201.0));'+'\x0a\x0a\x20\x20\x20\x20//\x20t'+'ranspose\x20t'+'o\x204x4\x20matr'+'ix\x0a\x20\x20\x20\x20ret'+'urn\x20mat4x4'+'f(\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20v1.x,\x20v2.'+'x,\x20v3.x,\x200'+',\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'v1.y,\x20v2.y'+',\x20v3.y,\x200,'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'1.z,\x20v2.z,'+'\x20v3.z,\x200,\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20v1'+'.w,\x20v2.w,\x20'+'v3.w,\x20one\x0a'+'\x20\x20\x20\x20);\x0a}\x0a'),wI='\x0a\x20\x20\x20\x20#defi'+'ne\x20LIT_SKY'+'BOX_INTENS'+'ITY\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22e'+'nvProcPS\x22\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vLinear'+'Depth:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'floatAsUin'+'tPS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20//\x20Varyin'+'g\x20and\x20unif'+'orm\x20declar'+'ations\x0a\x20\x20\x20'+'\x20varying\x20v'+'ViewDir\x20:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20uniform\x20s'+'kyboxHighl'+'ightMultip'+'lier\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20SKY_CU'+'BEMAP\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cub'+'eMap\x20:\x20tex'+'ture_cube<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_cube'+'Map_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vWo'+'rldPos\x20:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20p'+'rojectedSk'+'ydomeCente'+'r\x20:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#else\x20//\x20'+'env-atlas\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22s'+'phericalPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'envAtlasPS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_envAtla'+'s\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_envAtlas_'+'sampler\x20:\x20'+'sampler;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20mipL'+'evel\x20:\x20f32'+';\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20@'+'fragment\x0a\x20'+'\x20\x20\x20fn\x20frag'+'mentMain(i'+'nput\x20:\x20Fra'+'gmentInput'+')\x20->\x20Fragm'+'entOutput\x20'+'{\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20PREPA'+('SS_PASS\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20output'+'\x20linear\x20de'+'pth\x20during'+'\x20prepass\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20floa'+'t2vec4(vLi'+'nearDepth)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20linear'+'\x20:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20dir\x20'+':\x20vec3f;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'KY_CUBEMAP'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20get\x20'+'vector\x20fro'+'m\x20world\x20sp'+'ace\x20pos\x20to'+'\x20tripod\x20or'+'igin\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20e'+'nvDir\x20:\x20ve'+'c3f\x20=\x20norm'+'alize(inpu'+'t.vWorldPo'+'s\x20-\x20unifor'+'m.projecte'+'dSkydomeCe'+'nter);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'\x20=\x20envDir\x20'+'*\x20uniform.'+'cubeMapRot'+'ationMatri'+'x;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20dir\x20='+'\x20input.vVi'+'ewDir;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20dir'+'.x\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'near\x20=\x20{SK'+'YBOX_DECOD'+'E_FNC}(tex'+'tureSample'+'(texture_c'+'ubeMap,\x20te'+'xture_cube'+'Map_sample'+'r,\x20dir));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x20/'+'/\x20env-atla'+'s\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20d'+'ir\x20=\x20input'+'.vViewDir\x20'+'*\x20vec3f(-1'+'.0,\x201.0,\x201'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20uv\x20:\x20'+'vec2f\x20=\x20to'+'SphericalU'+'v(normaliz'+'e(dir));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20linea'+'r\x20=\x20{SKYBO'+'X_DECODE_F'+'NC}(textur'+'eSample(te'+'xture_envA'+'tlas,\x20text'+'ure_envAtl'+'as_sampler'+',\x20mapRough'+'nessUv(uv,')+('\x20uniform.m'+'ipLevel)))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ou'+'r\x20HDR\x20enco'+'des\x20values'+'\x20up\x20to\x2064,'+'\x20so\x20allow\x20'+'extra\x20brig'+'htness\x20for'+'\x20the\x20clipp'+'ed\x20values\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(any('+'linear\x20>=\x20'+'vec3f(64.0'+')))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20linear\x20*'+'=\x20uniform.'+'skyboxHigh'+'lightMulti'+'plier;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.color\x20='+'\x20vec4f(gam'+'maCorrectO'+'utput(tone'+'Map(proces'+'sEnvironme'+'nt(linear)'+')),\x201.0);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),EI='\x0a\x20\x20\x20\x20//\x20At'+'tribute\x0a\x20\x20'+'\x20\x20attribut'+'e\x20aPositio'+'n\x20:\x20vec4f;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20matrix'+'_view\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20uniform\x20m'+'atrix_proj'+'ectionSkyb'+'ox\x20:\x20mat4x'+'4f;\x0a\x20\x20\x20\x20un'+'iform\x20cube'+'MapRotatio'+'nMatrix\x20:\x20'+'mat3x3f;\x0a\x0a'+'\x20\x20\x20\x20varyin'+'g\x20vViewDir'+'\x20:\x20vec3f;\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PREPASS_'+'PASS\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20when'+'\x20skydome\x20r'+'enders\x20dep'+'th\x20during\x20'+'prepass,\x20g'+'enerate\x20li'+'near\x20depth'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vLi'+'nearDepth:'+'\x20f32;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'KYMESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'model\x20:\x20ma'+'t4x4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vWorldP'+'os\x20:\x20vec3f'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x0a\x20\x20\x20\x20'+'fn\x20vertexM'+'ain(input\x20'+':\x20VertexIn'+'put)\x20->\x20Ve'+'rtexOutput'+'\x20{\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20outp'+'ut\x20:\x20Verte'+'xOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20view\x20:\x20ma'+'t4x4f\x20=\x20un'+'iform.matr'+'ix_view;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20SKYME'+'SH\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'worldPos\x20:'+'\x20vec4f\x20=\x20u'+'niform.mat'+'rix_model\x20'+'*\x20input.aP'+'osition;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vW'+'orldPos\x20=\x20'+'worldPos.x'+'yz;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_p'+'rojectionS'+'kybox\x20*\x20(v'+'iew\x20*\x20worl'+'dPos);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20PRE'+'PASS_PASS\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'inear\x20dept'+'h\x20from\x20the'+'\x20worldPosi'+'tion,\x20see\x20'+'getLinearD'+'epth\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20output.vL'+'inearDepth'+'\x20=\x20-(unifo'+('rm.matrix_'+'view\x20*\x20vec'+'4f(worldPo'+'s.xyz,\x201.0'+')).z;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[0]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[1]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20view[3]'+'[2]\x20=\x200.0;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'position\x20='+'\x20uniform.m'+'atrix_proj'+'ectionSkyb'+'ox\x20*\x20(view'+'\x20*\x20input.a'+'Position);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'vViewDir\x20='+'\x20input.aPo'+'sition.xyz'+'\x20*\x20uniform'+'.cubeMapRo'+'tationMatr'+'ix;\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20PREPAS'+'S_PASS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20for\x20'+'infinite\x20s'+'kybox,\x20use'+'\x20negative\x20'+'gl_Positio'+'n.w\x20to\x20get'+'\x20positive\x20'+'linear\x20dep'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.vLin'+'earDepth\x20='+'\x20-pcPositi'+'on.w;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Force\x20sk'+'ybox\x20to\x20fa'+'r\x20Z,\x20regar'+'dless\x20of\x20t'+'he\x20clip\x20pl'+'anes\x20on\x20th'+'e\x20camera\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'Subtract\x20a'+'\x20tiny\x20fudg'+'e\x20factor\x20t'+'o\x20ensure\x20f'+'loating\x20po'+'int\x20errors'+'\x20don\x27t\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20st'+'ill\x20push\x20p'+'ixels\x20beyo'+'nd\x20far\x20Z.\x20'+'See:\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20http'+'s://commun'+'ity.khrono'+'s.org/t/sk'+'ybox-probl'+'em/61857\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.posit'+'ion.z\x20=\x20ou'+'tput.posit'+'ion.w\x20-\x201.'+'0e-7;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20output;\x0a'+'\x20\x20\x20\x20}\x0a'),bI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'R_CONSTANT'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20materia'+'l_specular'+':\x20vec3f;\x0a#'+'endif\x0a\x0afn\x20'+'getSpecula'+'rity()\x20{\x0a\x20'+'\x20\x20\x20var\x20spe'+'cularColor'+'\x20=\x20vec3f(1'+'.0,\x201.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20STD'+'_SPECULAR_'+'CONSTANT\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20unifo'+'rm.materia'+'l_specular'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'PECULAR_TE'+'XTURE\x0a\x20\x20\x20\x20'+'specularCo'+'lor\x20=\x20spec'+'ularColor\x20'+'*\x20{STD_SPE'+'CULAR_TEXT'+'URE_DECODE'+'}(textureS'+'ampleBias('+'{STD_SPECU'+'LAR_TEXTUR'+'E_NAME},\x20{'+'STD_SPECUL'+'AR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULAR_T'+'EXTURE_UV}'+',\x20uniform.'+'textureBia'+'s)).{STD_S'+'PECULAR_TE'+'XTURE_CHAN'+'NEL};\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_SPECULA'+'R_VERTEX\x0a\x20'+'\x20\x20\x20specula'+'rColor\x20=\x20s'+'pecularCol'+'or\x20*\x20satur'+'ate3(vVert'+'exColor.{S'+'TD_SPECULA'+'R_VERTEX_C'+'HANNEL});\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20dSpe'+'cularity\x20='+'\x20specularC'+'olor;\x0a}\x0a',AI='\x0a\x0afn\x20toSph'+'erical(dir'+':\x20vec3f)\x20-'+'>\x20vec2f\x20{\x0a'+'\x20\x20\x20\x20let\x20an'+'gle_xz\x20=\x20s'+'elect(0.0,'+'\x20atan2(dir'+'.x,\x20dir.z)'+',\x20any(dir.'+'xz\x20!=\x20vec2'+'f(0.0)));\x0a'+'\x20\x20\x20\x20return'+'\x20vec2f(ang'+'le_xz,\x20asi'+'n(dir.y));'+'\x0a}\x0a\x0afn\x20toS'+'phericalUv'+'(dir\x20:\x20vec'+'3f)\x20->\x20vec'+'2f\x20{\x0a\x20\x20\x20\x20c'+'onst\x20PI\x20:\x20'+'f32\x20=\x203.14'+'1592653589'+'793;\x0a\x20\x20\x20\x20l'+'et\x20uv\x20:\x20ve'+'c2f\x20=\x20toSp'+'herical(di'+'r)\x20/\x20vec2f'+'(PI\x20*\x202.0,'+'\x20PI)\x20+\x20vec'+'2f(0.5,\x200.'+'5);\x0a\x20\x20\x20\x20re'+'turn\x20vec2f'+'(uv.x,\x201.0'+'\x20-\x20uv.y);\x0a'+'}\x0a',CI='\x0a\x0a#ifdef\x20S'+'TD_SPECULA'+'RITYFACTOR'+'_CONSTANT\x0a'+'\x20\x20\x20\x20unifor'+'m\x20material'+'_speculari'+'tyFactor:\x20'+'f32;\x0a#endi'+'f\x0a\x0afn\x20getS'+'pecularity'+'Factor()\x20{'+'\x0a\x20\x20\x20\x20var\x20s'+'pecularity'+'Factor\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20speculari'+'tyFactor\x20='+'\x20speculari'+'tyFactor\x20*'+'\x20uniform.m'+'aterial_sp'+'ecularityF'+'actor;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_SPECUL'+'ARITYFACTO'+'R_TEXTURE\x0a'+'\x20\x20\x20\x20specul'+'arityFacto'+'r\x20=\x20specul'+'arityFacto'+'r\x20*\x20textur'+'eSampleBia'+'s({STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_NAME},\x20'+'{STD_SPECU'+'LARITYFACT'+'OR_TEXTURE'+'_NAME}Samp'+'ler,\x20{STD_'+'SPECULARIT'+'YFACTOR_TE'+'XTURE_UV},'+'\x20uniform.t'+'extureBias'+').{STD_SPE'+'CULARITYFA'+'CTOR_TEXTU'+'RE_CHANNEL'+'};\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULARIT'+'YFACTOR_VE'+'RTEX\x0a\x20\x20\x20\x20s'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor\x20*\x20s'+'aturate(vV'+'ertexColor'+'.{STD_SPEC'+'ULARITYFAC'+'TOR_VERTEX'+'_CHANNEL})'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20dS'+'pecularity'+'Factor\x20=\x20s'+'pecularity'+'Factor;\x0a}\x0a',PI='\x0afn\x20getSpo'+'tEffect(li'+'ghtSpotDir'+':\x20vec3f,\x20l'+'ightInnerC'+'oneAngle:\x20'+'f32,\x20light'+'OuterConeA'+'ngle:\x20f32,'+'\x20lightDirN'+'orm:\x20vec3f'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20let\x20c'+'osAngle:\x20f'+'32\x20=\x20dot(l'+'ightDirNor'+'m,\x20lightSp'+'otDir);\x0a\x20\x20'+'\x20\x20return\x20s'+'moothstep('+'lightOuter'+'ConeAngle,'+'\x20lightInne'+'rConeAngle'+',\x20cosAngle'+');\x0a}',MI='\x0a\x20\x20\x20\x20nineS'+'licedUv\x20=\x20'+'vec2f(vUv0'+'.x,\x201.0\x20-\x20'+'vUv0.y);\x0a',DI='\x0a\x20\x20\x20\x20let\x20t'+'ileMask:\x20v'+'ec2f\x20=\x20ste'+'p(vMask,\x20v'+'ec2f(0.999'+'99));\x0a\x20\x20\x20\x20'+'let\x20tileSi'+'ze:\x20vec2f\x20'+'=\x200.5\x20*\x20(i'+'nnerOffset'+'.xy\x20+\x20inne'+'rOffset.zw'+');\x0a\x20\x20\x20\x20let'+'\x20tileScale'+':\x20vec2f\x20=\x20'+'vec2f(1.0)'+'\x20/\x20(vec2f('+'1.0)\x20-\x20til'+'eSize);\x0a\x20\x20'+'\x20\x20var\x20clam'+'pedUv:\x20vec'+'2f\x20=\x20mix(i'+'nnerOffset'+'.xy\x20*\x200.5,'+'\x20vec2f(1.0'+')\x20-\x20innerO'+'ffset.zw\x20*'+'\x200.5,\x20frac'+'t((vTiledU'+'v\x20-\x20tileSi'+'ze)\x20*\x20tile'+'Scale));\x0a\x20'+'\x20\x20\x20clamped'+'Uv\x20=\x20clamp'+'edUv\x20*\x20atl'+'asRect.zw\x20'+'+\x20atlasRec'+'t.xy;\x0a\x20\x20\x20\x20'+'var\x20nineSl'+'icedUv:\x20ve'+'c2f\x20=\x20vUv0'+'\x20*\x20tileMas'+'k\x20+\x20clampe'+'dUv\x20*\x20(vec'+'2f(1.0)\x20-\x20'+'tileMask);'+'\x0a\x20\x20\x20\x20nineS'+'licedUv.y\x20'+'=\x201.0\x20-\x20ni'+'neSlicedUv'+'.y;\x0a\x0a',II='\x0a\x0a\x20\x20\x20\x20//\x20g'+'lobals\x0a\x20\x20\x20'+'\x20var<priva'+'te>\x20dAlpha'+':\x20f32\x20=\x201.'+'0;\x0a\x0a\x20\x20\x20\x20//'+'\x20all\x20passe'+'s\x20handle\x20o'+'pacity\x0a\x20\x20\x20'+'\x20#if\x20LIT_B'+'LEND_TYPE\x20'+'!=\x20NONE\x20||'+'\x20defined(L'+'IT_ALPHA_T'+'EST)\x20||\x20de'+'fined(LIT_'+'ALPHA_TO_C'+'OVERAGE)\x20|'+'|\x20STD_OPAC'+'ITY_DITHER'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_OP'+'ACITY_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_opa'+'cityMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_opacityMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20globals'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dAlbedo:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'NormalW:\x20v'+'ec3f;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dSp'+'ecularity:'+'\x20vec3f\x20=\x20v'+'ec3f(0.0,\x20'+'0.0,\x200.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dGlossin'+'ess:\x20f32\x20='+'\x200.0;\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_REFR'+'ACTION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dTransmi'+'ssion:\x20f32'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dTh'+'ickness:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_S'+'CENE_COLOR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20uSc'+'eneColorMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SCREE'+'N_SIZE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20uSc'+'reenSize:\x20'+'vec4f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+('f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_TRANSFOR'+'MS\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20ma'+'trix_viewP'+'rojection:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20matri'+'x_model:\x20m'+'at4x4f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20paral'+'lax\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_HEIGHT_'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'UvOffset:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'DIFFUSE_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_heightM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'heightMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20diffus'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_DIFFUSE_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'diffuseMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_diffus'+'eMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_DI'+'FFUSEDETAI'+'L_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_diffuse'+'DetailMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20norma'+'l\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_NORMAL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_normalMa'+'pSampler\x20:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20')+('\x20\x20\x20\x20#ifdef'+'\x20STD_NORMA'+'LDETAIL_TE'+'XTURE_ALLO'+'CATE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_n'+'ormalDetai'+'lMap\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_no'+'rmalDetail'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20r'+'efraction\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_T'+'HICKNESS_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'thicknessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_thic'+'knessMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_REFRACTIO'+'N_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_refract'+'ionMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'refraction'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20i'+'ridescence'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20LIT_'+'IRIDESCENC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dIr'+'idescence:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20dIridesce'+'nceThickne'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_IRIDESC'+'ENCE_THICK'+'NESS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'iridescenc'+'eThickness'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_iridescen'+'ceThicknes'+'sMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20STD_IRIDE'+'SCENCE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur')+('e_iridesce'+'nceMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_irides'+'cenceMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_CLEARCOAT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20ccSp'+'ecularity:'+'\x20f32;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20ccGlossin'+'ess:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var<priv'+'ate>\x20ccNor'+'malW:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_GG'+'X_SPECULAR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dAni'+'sotropy:\x20f'+'32;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var<'+'private>\x20d'+'Anisotropy'+'Rotation:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20specul'+'arity\x20&\x20gl'+'ossiness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20she'+'en\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20LIT_SHEE'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sSpecular'+'ity:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r<private>'+'\x20sGlossine'+'ss:\x20f32;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20STD_SHE'+'EN_TEXTURE'+'_ALLOCATE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'\x20:\x20texture'+'_2d<f32>;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_sheenMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_S'+'HEENGLOSS_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_s'+'heenGlossM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_sheenG'+'lossMapSam'+'pler\x20:\x20sam'+'pler;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_MET'+'ALNESS\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var<pri'+'vate>\x20dMet'+'alness:\x20f3'+'2;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar<private'+'>\x20dIor:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_METALNESS'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'metalnessM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_metaln'+'essMapSamp'+'ler\x20:\x20samp'+'ler;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20specula'+'rity\x20facto'+'r\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LARITY_FAC'+'TOR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var<privat'+'e>\x20dSpecul'+'arityFacto'+'r:\x20f32;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_SPEC'+'ULARITYFAC'+'TOR_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rityFactor'+'Map\x20:\x20text'+'ure_2d<f32'+'>;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_specu'+'larityFact'+'orMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_SPECULAR'+'_TEXTURE_A'+'LLOCATE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_')+('specularMa'+'p\x20:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_specula'+'rMapSample'+'r\x20:\x20sample'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20gloss\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'GLOSS_TEXT'+'URE_ALLOCA'+'TE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'_glossMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_glo'+'ssMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'ao\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_AO\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dAo:\x20f32;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_AO_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'var\x20textur'+'e_aoMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoMap'+'Sampler\x20:\x20'+'sampler;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20STD'+'_AODETAIL_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aoDet'+'ailMap\x20:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_aoDeta'+'ilMapSampl'+'er\x20:\x20sampl'+'er;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20<private>'+'\x20dEmission'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_EM'+'ISSIVE_TEX'+'TURE_ALLOC'+'ATE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'texture_em'+'issiveMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20textu'+'re_emissiv'+'eMapSample'+'r\x20:\x20sample')+('r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'clearcoat\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_C'+'LEARCOAT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20ST'+'D_CLEARCOA'+'T_TEXTURE_'+'ALLOCATE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMap\x20'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20t'+'exture_cle'+'arCoatMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'CLEARCOATG'+'LOSS_TEXTU'+'RE_ALLOCAT'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatG'+'lossMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_clear'+'CoatGlossM'+'apSampler\x20'+':\x20sampler;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_CLEARCO'+'ATNORMAL_T'+'EXTURE_ALL'+'OCATE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20text'+'ure_clearC'+'oatNormalM'+'ap\x20:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20texture_'+'clearCoatN'+'ormalMapSa'+'mpler\x20:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20anisotr'+'opy\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_GGX_SPE'+'CULAR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_A'+'NISOTROPY_'+'TEXTURE_AL'+'LOCATE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_aniso'+'tropyMap\x20:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20te'+'xture_anis'+'otropyMapS'+'ampler\x20:\x20s'+'ampler;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20lightm'+'ap\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#if\x20defin'+'ed(STD_LIG'+'HTMAP)\x20||\x20')+('defined(ST'+'D_LIGHT_VE'+'RTEX_COLOR'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var<pr'+'ivate>\x20dLi'+'ghtmap:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20STD_LI'+'GHT_TEXTUR'+'E_ALLOCATE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20texture_l'+'ightMap\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20tex'+'ture_light'+'MapSampler'+'\x20:\x20sampler'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20//\x20front'+'\x20end\x20outpu'+'ts\x20to\x20lit\x20'+'shader\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22litShader'+'CorePS\x22\x0a'),LI='\x0a\x0a\x20\x20\x20\x20//\x20a'+'ll\x20passes\x20'+'handle\x20opa'+'city\x0a\x20\x20\x20\x20#'+'if\x20LIT_BLE'+'ND_TYPE\x20!='+'\x20NONE\x20||\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x20||\x20defi'+'ned(LIT_AL'+'PHA_TO_COV'+'ERAGE)\x20||\x20'+'STD_OPACIT'+'Y_DITHER\x20!'+'=\x20NONE\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22opaci'+'tyPS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_ALPHA_TES'+'T)\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22alpha'+'TestPS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20dithe'+'ring\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#if\x20STD'+'_OPACITY_D'+'ITHER\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22opac'+'ityDitherP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20FORWARD_P'+'ASS\x20//\x20---'+'----------'+'---\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20para'+'llax\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'STD_HEIGHT'+'_MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'allaxPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x20\x22diffuse'+'PS\x22\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20norm'+'al\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_NEEDS_NO'+'RMAL\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22nor'+'malMapPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ref'+'raction\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_REF'+'RACTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'transmissi'+'onPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22th'+'icknessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_I'+'RIDESCENCE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22iridesc'+'encePS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'iridescenc'+'eThickness'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+('\x20speculari'+'ty\x20&\x20gloss'+'iness\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20LIT_SPECU'+'LAR_OR_REF'+'LECTION\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sheen\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_SHEEN\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22sheen'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'sheenGloss'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'etalness\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_METALNES'+'S\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22me'+'talnessPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22ior'+'PS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20s'+'pecularity'+'\x20factor\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_SPECULARI'+'TY_FACTOR\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22spec'+'ularityFac'+'torPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'\x20color\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_'+'SPECULAR_C'+'OLOR\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22specularP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20fn\x20'+'getSpecula'+'rity()\x20{\x20\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'dSpeculari'+'ty\x20=\x20vec3f'+'(1.0,\x201.0,'+'\x201.0);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'gloss\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22gl'+'ossPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20ao\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20STD_AO\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22aoPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20emissi'+'on\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22emissiveP'+'S\x22\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20clear'+'coat\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20')+('LIT_CLEARC'+'OAT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22clea'+'rCoatPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'GlossPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22clearCoat'+'NormalPS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ani'+'sotropy\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(LI'+'T_SPECULAR'+')\x20&&\x20defin'+'ed(LIT_LIG'+'HTING)\x20&&\x20'+'defined(LI'+'T_GGX_SPEC'+'ULAR)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22an'+'isotropyPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20l'+'ightmap\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#if\x20'+'defined(ST'+'D_LIGHTMAP'+')\x20||\x20defin'+'ed(STD_LIG'+'HT_VERTEX_'+'COLOR)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22l'+'ightmapPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20fn\x20evalu'+'ateFronten'+'d()\x20{\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20al'+'l\x20passes\x20h'+'andle\x20opac'+'ity\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20LIT_'+'BLEND_TYPE'+'\x20!=\x20NONE\x20|'+'|\x20defined('+'LIT_ALPHA_'+'TEST)\x20||\x20d'+'efined(LIT'+'_ALPHA_TO_'+'COVERAGE)\x20'+'||\x20STD_OPA'+'CITY_DITHE'+'R\x20!=\x20NONE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getOpaci'+'ty();\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'if\x20defined'+'(LIT_ALPHA'+'_TEST)\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20alphaTe'+'st(dAlpha)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20ST'+'D_OPACITY_'+'DITHER\x20!=\x20'+'NONE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20opacityDi'+'ther(dAlph'+'a,\x200.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_o'+'pacity\x20=\x20d'+'Alpha;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20FO'+'RWARD_PASS'+'\x20//\x20------'+'----------'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20par')+('allax\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20STD_H'+'EIGHT_MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getP'+'arallax();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20diff'+'use\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20getA'+'lbedo();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_a'+'lbedo\x20=\x20dA'+'lbedo;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20normal\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_NEEDS_N'+'ORMAL\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getNorma'+'l();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_w'+'orldNormal'+'\x20=\x20dNormal'+'W;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20re'+'fraction\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20LI'+'T_REFRACTI'+'ON\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etRefracti'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'transmissi'+'on\x20=\x20dTran'+'smission;\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Thickness('+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_thi'+'ckness\x20=\x20d'+'Thickness;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20LIT_D'+'ISPERSION\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_di'+'spersion\x20='+'\x20uniform.m'+'aterial_di'+'spersion;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20ir'+'idescence\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20L'+'IT_IRIDESC'+'ENCE\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getIrides'+'cence();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getIr'+'idescenceT'+'hickness()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_irid'+'escence_in'+'tensity\x20=\x20'+'dIridescen'+'ce;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'litArgs_ir'+'idescence_'+'thickness\x20'+'=\x20dIridesc'+'enceThickn'+'ess;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en')+('dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'specularit'+'y\x20&\x20glossi'+'ness\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULAR_OR_'+'REFLECTION'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20sheen\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'LIT_SHEEN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'getSheen()'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'sheen_spec'+'ularity\x20=\x20'+'sSpeculari'+'ty;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getShe'+'enGlossine'+'ss();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20litA'+'rgs_sheen_'+'gloss\x20=\x20sG'+'lossiness;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20metaln'+'ess\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20LIT'+'_METALNESS'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getMetaln'+'ess();\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_metal'+'ness\x20=\x20dMe'+'talness;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'etIor();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20l'+'itArgs_ior'+'\x20=\x20dIor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20specular'+'ity\x20factor'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20LIT_SP'+'ECULARITY_'+'FACTOR\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'yFactor();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'Factor\x20=\x20d'+'Specularit'+'yFactor;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20gloss\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20getGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'Specularit'+'y();\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20litArgs_s'+'pecularity'+'\x20=\x20dSpecul'+'arity;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs')+('_gloss\x20=\x20d'+'Glossiness'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20ao\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'TD_AO\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20getAO();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20lit'+'Args_ao\x20=\x20'+'dAo;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'emission\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getEmissi'+'on();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_emis'+'sion\x20=\x20dEm'+'ission;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20clearc'+'oat\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20LIT_CLE'+'ARCOAT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20getClea'+'rCoat();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20getCl'+'earCoatGlo'+'ssiness();'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20get'+'ClearCoatN'+'ormal();\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20litAr'+'gs_clearco'+'at_specula'+'rity\x20=\x20ccS'+'pecularity'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20li'+'tArgs_clea'+'rcoat_glos'+'s\x20=\x20ccGlos'+'siness;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20litArg'+'s_clearcoa'+'t_worldNor'+'mal\x20=\x20ccNo'+'rmalW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20anisotro'+'py\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#if\x20d'+'efined(LIT'+'_SPECULAR)'+'\x20&&\x20define'+'d(LIT_LIGH'+'TING)\x20&&\x20d'+'efined(LIT'+'_GGX_SPECU'+'LAR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getAnisot'+'ropy();\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20lightma'+'p\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#if\x20de'+'fined(STD_'+'LIGHTMAP)\x20'+'||\x20defined'+'(STD_LIGHT'+'_VERTEX_CO'+'LOR)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20getLightM'+'ap();\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20litArgs_'+'lightmap\x20='+'\x20dLightmap'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20STD_')+('LIGHTMAP_D'+'IR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20litArgs'+'_lightmapD'+'ir\x20=\x20dLigh'+'tmapDir;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'}\x0a'),RI='\x0a\x0a#ifdef\x20L'+'IT_TANGENT'+'S\x0a\x20\x20\x20\x20#def'+'ine\x20TBN_TA'+'NGENTS\x0a#el'+'se\x0a\x20\x20\x20\x20#if'+'\x20defined(L'+'IT_USE_NOR'+'MALS)\x20||\x20d'+'efined(LIT'+'_USE_CLEAR'+'COAT_NORMA'+'LS)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#define\x20'+'TBN_DERIVA'+'TIVES\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0a#if\x20d'+'efined(TBN'+'_DERIVATIV'+'ES)\x0a\x20\x20\x20\x20un'+'iform\x20tbnB'+'asis:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getTBN(t'+'angent:\x20ve'+'c3f,\x20binor'+'mal:\x20vec3f'+',\x20normal:\x20'+'vec3f)\x20{\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20TBN_TANGE'+'NTS\x20//\x20tan'+'gents\x20/\x20bi'+'normals\x20ba'+'sed\x20TBN\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dTB'+'N\x20=\x20mat3x3'+'f(normaliz'+'e(tangent)'+',\x20normaliz'+'e(binormal'+'),\x20normali'+'ze(normal)'+');\x0a\x0a\x20\x20\x20\x20#e'+'lif\x20define'+'d(TBN_DERI'+'VATIVES)\x20/'+'/\x20derivati'+'ves\x20based\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20let\x20uv:'+'\x20vec2f\x20=\x20{'+'lightingUv'+'};\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20get\x20e'+'dge\x20vector'+'s\x20of\x20the\x20p'+'ixel\x20trian'+'gle\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20dp1:'+'\x20vec3f\x20=\x20d'+'pdx(\x20vPosi'+'tionW\x20);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20dp2:\x20vec3'+'f\x20=\x20dpdy(\x20'+'vPositionW'+'\x20);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20duv1'+':\x20vec2f\x20=\x20'+'dpdx(\x20uv\x20)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'let\x20duv2:\x20'+'vec2f\x20=\x20dp'+'dy(\x20uv\x20);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20solve\x20th'+'e\x20linear\x20s'+'ystem\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20dp'+'2perp:\x20vec'+'3f\x20=\x20cross'+'(\x20dp2,\x20nor'+'mal\x20);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20let\x20d'+'p1perp:\x20ve'+'c3f\x20=\x20cros'+'s(\x20normal,'+'\x20dp1\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'T:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.x\x20+\x20'+'dp1perp\x20*\x20'+'duv2.x;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'B:\x20vec3f\x20='+'\x20dp2perp\x20*'+'\x20duv1.y\x20+\x20'+('dp1perp\x20*\x20'+'duv2.y;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'construct\x20'+'a\x20scale-in'+'variant\x20fr'+'ame\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20deno'+'m:\x20f32\x20=\x20m'+'ax(\x20dot(T,'+'\x20T),\x20dot(B'+',\x20B)\x20);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'invmax:\x20f3'+'2\x20=\x20select'+'(uniform.t'+'bnBasis\x20/\x20'+'sqrt(\x20deno'+'m\x20),\x200.0,\x20'+'denom\x20==\x200'+'.0);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20dTBN\x20=\x20'+'mat3x3f(T\x20'+'*\x20invmax,\x20'+'-B\x20*\x20invma'+'x,\x20normal\x20'+');\x0a\x0a\x20\x20\x20\x20#e'+'lse\x20//\x20obj'+'ect\x20space\x20'+'TBN\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20B:\x20'+'vec3f\x20=\x20cr'+'oss(normal'+',\x20vObjectS'+'paceUpW);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20T:\x20vec3f'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'if\x20(dot(B,'+'B)\x20==\x200.0)'+'\x20//\x20deal\x20w'+'ith\x20case\x20w'+'hen\x20vObjec'+'tSpaceUpW\x20'+'normal\x20are'+'\x20parallel\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20majo'+'r:\x20f32\x20=\x20m'+'ax(max(nor'+'mal.x,\x20nor'+'mal.y),\x20no'+'rmal.z);\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(norm'+'al.x\x20==\x20ma'+'jor)\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20B\x20=\x20c'+'ross(norma'+'l,\x20vec3f(0'+'.0,\x201.0,\x200'+'.0));\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20T\x20=\x20cros'+'s(normal,\x20'+'B);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x20if\x20(n'+'ormal.y\x20=='+'\x20major)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20B\x20'+'=\x20cross(no'+'rmal,\x20vec3'+'f(0.0,\x200.0'+',\x201.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20T\x20=\x20c'+'ross(norma'+'l,\x20B);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20}'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20else\x20//'+'\x20removed\x20\x22'+'if\x20(normal'+'.z\x20==\x20majo'+'r)\x22\x20assumi'+'ng\x20it\x27s\x20th'+'e\x20only\x20rem'+'aining\x20cas'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20B\x20=\x20cros'+'s(normal,\x20'+'vec3f(1.0,'+'\x200.0,\x200.0)'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20T'+'\x20=\x20cross(n'+'ormal,\x20B);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20dTBN\x20='+'\x20mat3x3f(n'+'ormalize(T'+'),\x20normali'+'ze(B),\x20nor'+'malize(nor'+'mal));\x0a\x0a\x20\x20'+'\x20\x20#endif\x0a}'),OI='\x0a#ifdef\x20ST'+'D_THICKNES'+'S_CONSTANT'+'\x0auniform\x20m'+'aterial_th'+'ickness:\x20f'+'32;\x0a#endif'+'\x0a\x0afn\x20getTh'+'ickness()\x20'+'{\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x201'+'.0;\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'THICKNESS_'+'CONSTANT\x0a\x20'+'\x20\x20\x20dThickn'+'ess\x20=\x20dThi'+'ckness\x20*\x20u'+'niform.mat'+'erial_thic'+'kness;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'STD_THICKN'+'ESS_TEXTUR'+'E\x0a\x20\x20\x20\x20dThi'+'ckness\x20=\x20d'+'Thickness\x20'+'*\x20textureS'+'ampleBias('+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME},\x20'+'{STD_THICK'+'NESS_TEXTU'+'RE_NAME}Sa'+'mpler,\x20{ST'+'D_THICKNES'+'S_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_THICKNESS'+'_TEXTURE_C'+'HANNEL};\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STD_THIC'+'KNESS_VERT'+'EX\x0a\x20\x20\x20\x20dTh'+'ickness\x20=\x20'+'dThickness'+'\x20*\x20saturat'+'e(vVertexC'+'olor.{STD_'+'THICKNESS_'+'VERTEX_CHA'+'NNEL});\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a',FI='\x0a#if\x20(TONE'+'MAP\x20==\x20NON'+'E)\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingNo'+'nePS\x22\x0a#eli'+'f\x20TONEMAP\x20'+'==\x20FILMIC\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22tonema'+'ppingFilmi'+'cPS\x22\x0a#elif'+'\x20TONEMAP\x20='+'=\x20LINEAR\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22tonemap'+'pingLinear'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20HEJL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gHejlPS\x22\x0a#'+'elif\x20TONEM'+'AP\x20==\x20ACES'+'\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22tonem'+'appingAces'+'PS\x22\x0a#elif\x20'+'TONEMAP\x20=='+'\x20ACES2\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22tonemappi'+'ngAces2PS\x22'+'\x0a#elif\x20TON'+'EMAP\x20==\x20NE'+'UTRAL\x0a\x20\x20\x20\x20'+'#include\x20\x22'+'tonemappin'+'gNeutralPS'+'\x22\x0a#endif\x0a',NI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20t'+'A:\x20f32\x20=\x202'+'.51;\x0a\x20\x20\x20\x20l'+'et\x20tB:\x20f32'+'\x20=\x200.03;\x0a\x20'+'\x20\x20\x20let\x20tC:'+'\x20f32\x20=\x202.4'+'3;\x0a\x20\x20\x20\x20let'+'\x20tD:\x20f32\x20='+'\x200.59;\x0a\x20\x20\x20'+'\x20let\x20tE:\x20f'+'32\x20=\x200.14;'+'\x0a\x20\x20\x20\x20let\x20x'+':\x20vec3f\x20=\x20'+'color\x20*\x20un'+'iform.expo'+'sure;\x0a\x20\x20\x20\x20'+'return\x20(x\x20'+'*\x20(tA\x20*\x20x\x20'+'+\x20tB))\x20/\x20('+'x\x20*\x20(tC\x20*\x20'+'x\x20+\x20tD)\x20+\x20'+'tE);\x0a}\x0a',kI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0a//\x20AC'+'ES\x20approxi'+'mation\x20by\x20'+'Stephen\x20Hi'+'ll\x0a\x0a//\x20sRG'+'B\x20=>\x20XYZ\x20='+'>\x20D65_2_D6'+'0\x20=>\x20AP1\x20='+'>\x20RRT_SAT\x0a'+'const\x20ACES'+'InputMat:\x20'+'mat3x3f\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20vec3f(0'+'.59719,\x200.'+'35458,\x200.0'+'4823),\x0a\x20\x20\x20'+'\x20vec3f(0.0'+'7600,\x200.90'+'834,\x200.015'+'66),\x0a\x20\x20\x20\x20v'+'ec3f(0.028'+'40,\x200.1338'+'3,\x200.83777'+')\x0a);\x0a\x0a//\x20O'+'DT_SAT\x20=>\x20'+'XYZ\x20=>\x20D60'+'_2_D65\x20=>\x20'+'sRGB\x0aconst'+'\x20ACESOutpu'+'tMat:\x20mat3'+'x3f\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20v'+'ec3f(\x201.60'+'475,\x20-0.53'+'108,\x20-0.07'+'367),\x0a\x20\x20\x20\x20'+'vec3f(-0.1'+'0208,\x20\x201.1'+'0813,\x20-0.0'+'0605),\x0a\x20\x20\x20'+'\x20vec3f(-0.'+'00327,\x20-0.'+'07276,\x20\x201.'+'07602)\x0a);\x0a'+'\x0afn\x20RRTAnd'+'ODTFit(v:\x20'+'vec3f)\x20->\x20'+'vec3f\x20{\x0a\x20\x20'+'\x20\x20let\x20a:\x20v'+'ec3f\x20=\x20v\x20*'+'\x20(v\x20+\x20vec3'+'f(0.024578'+'6))\x20-\x20vec3'+'f(0.000090'+'537);\x0a\x20\x20\x20\x20'+'let\x20b:\x20vec'+'3f\x20=\x20v\x20*\x20('+'vec3f(0.98'+'3729)\x20*\x20v\x20'+'+\x20vec3f(0.'+'4329510))\x20'+'+\x20vec3f(0.'+'238081);\x0a\x20'+'\x20\x20\x20return\x20'+'a\x20/\x20b;\x0a}\x0a\x0a'+'fn\x20toneMap'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c3f\x20{\x0a\x20\x20\x20\x20'+'var\x20c:\x20vec'+'3f\x20=\x20color'+'\x20*\x20(unifor'+'m.exposure'+'\x20/\x200.6);\x0a\x20'+'\x20\x20\x20c\x20=\x20c\x20*'+'\x20ACESInput'+'Mat;\x0a\x0a\x20\x20\x20\x20'+'//\x20Apply\x20R'+'RT\x20and\x20ODT'+'\x0a\x20\x20\x20\x20c\x20=\x20R'+'RTAndODTFi'+'t(c);\x0a\x20\x20\x20\x20'+'c\x20=\x20c\x20*\x20AC'+'ESOutputMa'+'t;\x0a\x0a\x20\x20\x20\x20//'+'\x20Clamp\x20to\x20'+'[0,\x201]\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(c,\x20vec'+'3f(0.0),\x20v'+'ec3f(1.0))'+';\x0a}\x0a',UI='\x0aconst\x20A:\x20'+'f32\x20=\x200.15'+';\x0aconst\x20B:'+'\x20f32\x20=\x200.5'+'0;\x0aconst\x20C'+':\x20f32\x20=\x200.'+'10;\x0aconst\x20'+'D:\x20f32\x20=\x200'+'.20;\x0aconst'+'\x20E:\x20f32\x20=\x20'+'0.02;\x0acons'+'t\x20F:\x20f32\x20='+'\x200.30;\x0acon'+'st\x20W:\x20f32\x20'+'=\x2011.2;\x0a\x0au'+'niform\x20exp'+'osure:\x20f32'+';\x0a\x0afn\x20unch'+'arted2Tone'+'map(x:\x20vec'+'3f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20((x\x20'+'*\x20(A\x20*\x20x\x20+'+'\x20C\x20*\x20B)\x20+\x20'+'D\x20*\x20E)\x20/\x20('+'x\x20*\x20(A\x20*\x20x'+'\x20+\x20B)\x20+\x20D\x20'+'*\x20F))\x20-\x20ve'+'c3f(E\x20/\x20F)'+';\x0a}\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20var\x20c'+':\x20vec3f\x20=\x20'+'uncharted2'+'Tonemap(co'+'lor\x20*\x20unif'+'orm.exposu'+'re);\x0a\x20\x20\x20\x20l'+'et\x20whiteSc'+'ale:\x20vec3f'+'\x20=\x20vec3f(1'+'.0)\x20/\x20unch'+'arted2Tone'+'map(vec3f('+'W,\x20W,\x20W));'+'\x0a\x20\x20\x20\x20c\x20*=\x20'+'whiteScale'+';\x0a\x20\x20\x20\x20retu'+'rn\x20c;\x0a}\x0a',BI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20A'+':\x20f32\x20=\x200.'+'22;\x0a\x20\x20\x20\x20le'+'t\x20B:\x20f32\x20='+'\x200.3;\x0a\x20\x20\x20\x20'+'let\x20C:\x20f32'+'\x20=\x200.1;\x0a\x20\x20'+'\x20\x20let\x20D:\x20f'+'32\x20=\x200.2;\x0a'+'\x20\x20\x20\x20let\x20E:'+'\x20f32\x20=\x200.0'+'1;\x0a\x20\x20\x20\x20let'+'\x20F:\x20f32\x20=\x20'+'0.3;\x0a\x20\x20\x20\x20l'+'et\x20Scl:\x20f3'+'2\x20=\x201.25;\x0a'+'\x0a\x20\x20\x20\x20let\x20a'+'djusted_co'+'lor\x20=\x20colo'+'r\x20*\x20unifor'+'m.exposure'+';\x0a\x20\x20\x20\x20let\x20'+'h\x20=\x20max(ve'+'c3f(0.0),\x20'+'adjusted_c'+'olor\x20-\x20vec'+'3f(0.004))'+';\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20(h\x20*\x20('+'(Scl\x20*\x20A)\x20'+'*\x20h\x20+\x20Scl\x20'+'*\x20vec3f(C\x20'+'*\x20B))\x20+\x20Sc'+'l\x20*\x20vec3f('+'D\x20*\x20E))\x20/\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20(h\x20*\x20(A\x20*'+'\x20h\x20+\x20vec3f'+'(B))\x20+\x20vec'+'3f(D\x20*\x20F))'+'\x20-\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20Scl\x20*\x20'+'vec3f(E\x20/\x20'+'F);\x0a}\x0a',zI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(colo'+'r:\x20vec3f)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20color\x20*\x20'+'uniform.ex'+'posure;\x0a}\x0a',VI='\x0auniform\x20e'+'xposure:\x20f'+'32;\x0a\x0afn\x20to'+'neMap(col:'+'\x20vec3f)\x20->'+'\x20vec3f\x20{\x0a\x20'+'\x20\x20\x20var\x20col'+'or\x20=\x20col\x20*'+'\x20uniform.e'+'xposure;\x0a\x0a'+'\x20\x20\x20\x20let\x20st'+'artCompres'+'sion\x20=\x200.8'+'\x20-\x200.04;\x0a\x20'+'\x20\x20\x20let\x20des'+'aturation\x20'+'=\x200.15;\x0a\x0a\x20'+'\x20\x20\x20let\x20x\x20='+'\x20min(color'+'.r,\x20min(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20let\x20offs'+'et\x20=\x20selec'+'t(0.04,\x20x\x20'+'-\x206.25\x20*\x20x'+'\x20*\x20x,\x20x\x20<\x20'+'0.08);\x0a\x20\x20\x20'+'\x20color\x20-=\x20'+'vec3f(offs'+'et);\x0a\x0a\x20\x20\x20\x20'+'let\x20peak\x20='+'\x20max(color'+'.r,\x20max(co'+'lor.g,\x20col'+'or.b));\x0a\x20\x20'+'\x20\x20if\x20(peak'+'\x20<\x20startCo'+'mpression)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a\x20\x20\x20\x20}'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'d\x20=\x201.0\x20-\x20'+'startCompr'+'ession;\x0a\x20\x20'+'\x20\x20let\x20newP'+'eak\x20=\x201.0\x20'+'-\x20d\x20*\x20d\x20/\x20'+'(peak\x20+\x20d\x20'+'-\x20startCom'+'pression);'+'\x0a\x20\x20\x20\x20color'+'\x20*=\x20newPea'+'k\x20/\x20peak;\x0a'+'\x0a\x20\x20\x20\x20let\x20g'+'\x20=\x201.0\x20-\x201'+'.0\x20/\x20(desa'+'turation\x20*'+'\x20(peak\x20-\x20n'+'ewPeak)\x20+\x20'+'1.0);\x0a\x20\x20\x20\x20'+'return\x20mix'+'(color,\x20ve'+'c3f(newPea'+'k),\x20vec3f('+'g));\x0a}\x0a',GI='\x0afn\x20toneMa'+'p(color:\x20v'+'ec3f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20return\x20co'+'lor;\x0a}\x0a',HI='\x0a#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20uniform\x20'+'uScreenSiz'+'e:\x20vec4f;\x0a'+'#endif\x0a\x0a#i'+'fdef\x20SCREE'+'NSPACE\x0a\x20\x20\x20'+'\x20uniform\x20p'+'rojectionF'+'lipY:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20evalWorl'+'dPosition('+'vertexPosi'+'tion:\x20vec3'+'f,\x20modelMa'+'trix:\x20mat4'+'x4f)\x20->\x20ve'+'c4f\x20{\x0a\x0a\x20\x20\x20'+'\x20var\x20local'+'Pos:\x20vec3f'+'\x20=\x20getLoca'+'lPosition('+'vertexPosi'+'tion);\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'INESLICED\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20//'+'\x20outer\x20and'+'\x20inner\x20ver'+'tices\x20are\x20'+'at\x20the\x20sam'+'e\x20position'+',\x20scale\x20bo'+'th\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20local'+'PosXZ:\x20vec'+'2f\x20=\x20local'+'Pos.xz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20loca'+'lPosXZ\x20=\x20l'+'ocalPosXZ\x20'+'*\x20uniform.'+'outerScale'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20offset'+'\x20inner\x20ver'+'tices\x20insi'+'de\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20(origi'+'nal\x20vertic'+'es\x20must\x20be'+'\x20in\x20[-1;1]'+'\x20range)\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'positiveUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(vertex'+'Position.x'+'z,\x20vec2f(0'+'.0),\x20vec2f'+'(1.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset:\x20'+'vec2f\x20=\x20cl'+'amp(-verte'+'xPosition.'+'xz,\x20vec2f('+'0.0),\x20vec2'+'f(1.0));\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20loc'+'alPosXZ\x20=\x20'+'localPosXZ'+'\x20+\x20(-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy\x20+'+'\x20negativeU'+'nitOffset\x20'+'*\x20uniform.'+'innerOffse'+'t.zw)\x20*\x20ve'+'rtex_texCo'+'ord0.xy;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20dT'+'iledUvGlob'+'al\x20=\x20(loca'+'lPosXZ\x20-\x20u'+'niform.out'+'erScale\x20+\x20'+'uniform.in'+'nerOffset.'+'xy)\x20*\x20-0.5'+'\x20+\x201.0;\x20//'+'\x20uv\x20=\x20loca'+'l\x20pos\x20-\x20in'+('ner\x20corner'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPosXZ'+'\x20=\x20localPo'+'sXZ\x20*\x20-0.5'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20='+'\x20vec3f(loc'+'alPosXZ.x,'+'\x20localPosX'+'Z.y,\x20local'+'Pos.y);\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20var\x20po'+'sW:\x20vec4f\x20'+'=\x20modelMat'+'rix\x20*\x20vec4'+'f(localPos'+',\x201.0);\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREENSPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'posW\x20=\x20vec'+'4f(posW.xy'+',\x200.0,\x201.0'+');\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20posW'+';\x0a}\x0a\x0afn\x20ge'+'tPosition('+')\x20->\x20vec4f'+'\x20{\x0a\x0a\x20\x20\x20\x20dM'+'odelMatrix'+'\x20=\x20getMode'+'lMatrix();'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'posW:\x20vec4'+'f\x20=\x20evalWo'+'rldPositio'+'n(vertex_p'+'osition.xy'+'z,\x20dModelM'+'atrix);\x0a\x20\x20'+'\x20\x20dPositio'+'nW\x20=\x20posW.'+'xyz;\x0a\x0a\x20\x20\x20\x20'+'var\x20screen'+'Pos:\x20vec4f'+';\x0a\x20\x20\x20\x20#ifd'+'ef\x20UV1LAYO'+'UT\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20vec4f(v'+'ertex_texC'+'oord1.xy\x20*'+'\x202.0\x20-\x201.0'+',\x200.5,\x201.0'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20-1.0'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20SCR'+'EENSPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'\x20=\x20posW;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20screenPos'+'.y\x20*=\x20unif'+'orm.projec'+'tionFlipY;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos\x20=\x20u'+'niform.mat'+'rix_viewPr'+'ojection\x20*'+'\x20posW;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PI'+'XELSNAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20snap\x20ve'+'rtex\x20to\x20a\x20'+'pixel\x20boun'+'dary\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20scr'+'eenPos.xy\x20'+'=\x20(screenP'+'os.xy\x20*\x200.'+'5)\x20+\x200.5;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20screenPo'+'s.xy\x20*=\x20un'+'iforms.uSc'+'reenSize.x'+'y;\x0a\x20\x20\x20\x20\x20\x20\x20')+('\x20\x20\x20\x20\x20scree'+'nPos.xy\x20=\x20'+'floor(scre'+'enPos.xy);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20screenP'+'os.xy\x20*=\x20u'+'niforms.uS'+'creenSize.'+'zw;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20scre'+'enPos.xy\x20='+'\x20(screenPo'+'s.xy\x20*\x202.0'+')\x20-\x201.0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'return\x20scr'+'eenPos;\x0a}\x0a'+'\x0afn\x20getWor'+'ldPosition'+'()\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20dPosi'+'tionW;\x0a}\x0a'),WI='\x0a\x0a\x20\x20\x20\x20attr'+'ibute\x20vert'+'ex_positio'+'n:\x20vec4f;\x0a'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0a\x20\x20\x20\x20u'+'niform\x20mat'+'rix_model:'+'\x20mat4x4f;\x0a'+'\x20\x20\x20\x20\x0a\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20morph_te'+'x_params:\x20'+'vec2f;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20attri'+'bute\x20morph'+'_vertex_id'+':\x20u32;\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etTextureM'+'orphCoords'+'()\x20->\x20vec2'+'i\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'turn\x20morph'+'_vertex_id'+'\x20into\x20int\x20'+'grid\x20coord'+'inates\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20texture'+'Size:\x20vec2'+'i\x20=\x20vec2i('+'uniform.mo'+'rph_tex_pa'+'rams);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphGr'+'idV:\x20i32\x20='+'\x20i32(morph'+'_vertex_id'+')\x20/\x20textur'+'eSize.x;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20morph'+'GridU:\x20i32'+'\x20=\x20i32(mor'+'ph_vertex_'+'id)\x20-\x20(mor'+'phGridV\x20*\x20'+'textureSiz'+'e.x);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20mo'+'rphGridV\x20='+'\x20textureSi'+'ze.y\x20-\x20mor'+'phGridV\x20-\x20'+'1;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec2i(mo'+'rphGridU,\x20'+'morphGridV'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20M'+'ORPHING_PO'+'SITION\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20MORP'+'HING_INT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20aabbSiz'+'e:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20unif'+'orm\x20aabbMi'+'n:\x20vec3f;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'morphPosit'+'ionTex:\x20te'+'xture_2d<u'+'32>;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'sitionTex:'+'\x20texture_2'+'d<f32>;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20#end'+('if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20defin'+'ed(BATCH)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sk'+'inBatchVS\x22'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'fn\x20getMode'+'lMatrix()\x20'+'->\x20mat4x4f'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20getBoneM'+'atrix(vert'+'ex_boneInd'+'ices);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20#elif\x20de'+'fined(SKIN'+')\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'skinVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20fn\x20g'+'etModelMat'+'rix()\x20->\x20m'+'at4x4f\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20un'+'iform.matr'+'ix_model\x20*'+'\x20getSkinMa'+'trix(verte'+'x_boneIndi'+'ces,\x20verte'+'x_boneWeig'+'hts);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20'+'\x20#elif\x20def'+'ined(INSTA'+'NCING)\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22tran'+'sformInsta'+'ncingVS\x22\x0a\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20f'+'n\x20getModel'+'Matrix()\x20-'+'>\x20mat4x4f\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20uniform.m'+'atrix_mode'+'l;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'fn\x20getLoca'+'lPosition('+'vertexPosi'+'tion:\x20vec3'+'f)\x20->\x20vec3'+'f\x20{\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20loc'+'alPos:\x20vec'+'3f\x20=\x20verte'+'xPosition;'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20MOR'+'PHING_POSI'+'TION\x0a\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20morphUV:'+'\x20vec2i\x20=\x20g'+'etTextureM'+'orphCoords'+'();\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20MORPHI'+'NG_INT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20Use\x20'+'textureLoa'+'d\x20instead\x20'+'of\x20texelFe'+'tch.\x20Coord'+'inates\x20mus'+'t\x20be\x20integ'+'er\x20type\x20(v'+'ec2i).\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20WGSL'+'\x20requires\x20'+'explicit\x20t'+'ype\x20conver'+'sion\x20for\x20v'+'ectors.\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20Div'+'ision\x20by\x20f'+'loat\x20liter')+('al\x20ensures'+'\x20floating\x20'+'point\x20divi'+'sion.\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20var\x20morp'+'hPos:\x20vec3'+'f\x20=\x20vec3f('+'textureLoa'+'d(morphPos'+'itionTex,\x20'+'morphUV,\x200'+').xyz)\x20/\x206'+'5535.0\x20*\x20u'+'niform.aab'+'bSize\x20+\x20un'+'iform.aabb'+'Min;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20Use\x20text'+'ureLoad\x20in'+'stead\x20of\x20t'+'exelFetch.'+'\x20Coordinat'+'es\x20must\x20be'+'\x20integer\x20t'+'ype\x20(vec2i'+').\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20morphPo'+'s:\x20vec3f\x20='+'\x20textureLo'+'ad(morphPo'+'sitionTex,'+'\x20morphUV,\x20'+'0).xyz;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'localPos\x20+'+'=\x20morphPos'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20localP'+'os;\x0a\x20\x20\x20\x20}\x0a'),$I='\x0a\x0aattribut'+'e\x20instance'+'_line1:\x20ve'+'c4f;\x0aattri'+'bute\x20insta'+'nce_line2:'+'\x20vec4f;\x0aat'+'tribute\x20in'+'stance_lin'+'e3:\x20vec4f;'+'\x0aattribute'+'\x20instance_'+'line4:\x20vec'+'4f;\x0a\x0afn\x20ge'+'tModelMatr'+'ix()\x20->\x20ma'+'t4x4f\x20{\x0a\x20\x20'+'\x20\x20return\x20u'+'niform.mat'+'rix_model\x20'+'*\x20mat4x4f('+'instance_l'+'ine1,\x20inst'+'ance_line2'+',\x20instance'+'_line3,\x20in'+'stance_lin'+'e4);\x0a}\x0a',XI='\x0a\x0a#ifdef\x20S'+'TD_REFRACT'+'ION_CONSTA'+'NT\x0a\x20\x20\x20\x20uni'+'form\x20mater'+'ial_refrac'+'tion:\x20f32;'+'\x0a#endif\x0a\x0af'+'n\x20getRefra'+'ction()\x20{\x0a'+'\x20\x20\x20\x20var\x20re'+'fraction:\x20'+'f32\x20=\x201.0;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_CO'+'NSTANT\x0a\x20\x20\x20'+'\x20refractio'+'n\x20=\x20unifor'+'m.material'+'_refractio'+'n;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STD_'+'REFRACTION'+'_TEXTURE\x0a\x20'+'\x20\x20\x20refract'+'ion\x20=\x20refr'+'action\x20*\x20t'+'extureSamp'+'leBias({ST'+'D_REFRACTI'+'ON_TEXTURE'+'_NAME},\x20{S'+'TD_REFRACT'+'ION_TEXTUR'+'E_NAME}Sam'+'pler,\x20{STD'+'_REFRACTIO'+'N_TEXTURE_'+'UV},\x20unifo'+'rm.texture'+'Bias).{STD'+'_REFRACTIO'+'N_TEXTURE_'+'CHANNEL};\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20STD_REF'+'RACTION_VE'+'RTEX\x0a\x20\x20\x20\x20r'+'efraction\x20'+'=\x20refracti'+'on\x20*\x20satur'+'ate(vVerte'+'xColor.{ST'+'D_REFRACTI'+'ON_VERTEX_'+'CHANNEL});'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20dTr'+'ansmission'+'\x20=\x20refract'+'ion;\x0a}\x0a',qI='\x0auniform\x20t'+'woSidedLig'+'htingNegSc'+'aleFactor:'+'\x20f32;\x0a\x0afn\x20'+'handleTwoS'+'idedLighti'+'ng()\x20{\x0a\x20\x20\x20'+'\x20dTBN[2]\x20='+'\x20dTBN[2]\x20*'+'\x20select(-u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20u'+'niform.two'+'SidedLight'+'ingNegScal'+'eFactor,\x20p'+'cFrontFaci'+'ng);\x0a}\x0a',jI='\x0a#ifdef\x20NI'+'NESLICED\x0a\x20'+'\x20\x20\x20fn\x20getU'+'v0()\x20->\x20ve'+'c2f\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20uv'+'\x20=\x20vertex_'+'position.x'+'z;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20//\x20offse'+'t\x20inner\x20ve'+'rtices\x20ins'+'ide\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20let\x20posi'+'tiveUnitOf'+'fset\x20=\x20cla'+'mp(vertex_'+'position.x'+'z,\x20vec2f(0'+'.0,\x200.0),\x20'+'vec2f(1.0,'+'\x201.0));\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'negativeUn'+'itOffset\x20='+'\x20clamp(-ve'+'rtex_posit'+'ion.xz,\x20ve'+'c2f(0.0,\x200'+'.0),\x20vec2f'+'(1.0,\x201.0)'+');\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20uv\x20=\x20uv\x20'+'+\x20((-posit'+'iveUnitOff'+'set\x20*\x20unif'+'orm.innerO'+'ffset.xy)\x20'+'+\x20(negativ'+'eUnitOffse'+'t\x20*\x20unifor'+'m.innerOff'+'set.zw))\x20*'+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uv\x20=\x20uv\x20*'+'\x20-0.5\x20+\x20ve'+'c2f(0.5,\x200'+'.5);\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20uv\x20=\x20uv'+'\x20*\x20uniform'+'.atlasRect'+'.zw\x20+\x20unif'+'orm.atlasR'+'ect.xy;\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20dMa'+'skGlobal\x20='+'\x20vertex_te'+'xCoord0.xy'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20uv'+';\x0a\x20\x20\x20\x20}\x0a#e'+'lse\x0a\x20\x20\x20\x20fn'+'\x20getUv0()\x20'+'->\x20vec2f\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vert'+'ex_texCoor'+'d0;\x0a\x20\x20\x20\x20}\x0a'+'#endif\x0a',YI='\x0afn\x20getUv1'+'()\x20->\x20vec2'+'f\x20{\x0a\x20\x20\x20\x20re'+'turn\x20verte'+'x_texCoord'+'1;\x0a}\x0a',KI='\x0aoutput.vU'+'V{TRANSFOR'+'M_UV_{i}}_'+'{TRANSFORM'+'_ID_{i}}\x20='+'\x20vec2f(\x0a\x20\x20'+'\x20\x20dot(vec3'+'f(uv{TRANS'+'FORM_UV_{i'+'}},\x201),\x20un'+'iform.{TRA'+'NSFORM_NAM'+'E_{i}}0),\x0a'+'\x20\x20\x20\x20dot(ve'+'c3f(uv{TRA'+'NSFORM_UV_'+'{i}},\x201),\x20'+'uniform.{T'+'RANSFORM_N'+'AME_{i}}1)'+'\x0a);\x0a',ZI='\x0a\x20\x20\x20\x20unifo'+'rm\x20{TRANSF'+'ORM_NAME_{'+'i}}0:\x20vec3'+'f;\x0a\x20\x20\x20\x20uni'+'form\x20{TRAN'+'SFORM_NAME'+'_{i}}1:\x20ve'+'c3f;\x0a',QI='\x0afn\x20getVie'+'wDir()\x20{\x0a\x20'+'\x20\x20\x20dViewDi'+'rW\x20=\x20norma'+'lize(unifo'+'rm.view_po'+'sition\x20-\x20v'+'PositionW)'+';\x0a}\x0a',JI={'alphaTestPS':Q2,'ambientPS':J2,'anisotropyPS':eM,'aoPS':tM,'aoDiffuseOccPS':sM,'aoSpecOccPS':iM,'bakeDirLmEndPS':rM,'bakeLmEndPS':aM,'basePS':nM,'baseNineSlicedPS':oM,'baseNineSlicedTiledPS':lM,'bayerPS':cM,'blurVSMPS':hM,'clearCoatPS':dM,'clearCoatGlossPS':fM,'clearCoatNormalPS':uM,'clusteredLightCookiesPS':mM,'clusteredLightShadowsPS':_M,'clusteredLightUtilsPS':pM,'clusteredLightPS':gM,'combinePS':SM,'cookieBlit2DPS':yM,'cookieBlitCubePS':vM,'cookieBlitVS':xM,'cubeMapProjectPS':TM,'cubeMapRotatePS':wM,'debugOutputPS':EM,'debugProcessFrontendPS':bM,'detailModesPS':CM,'diffusePS':PM,'decodePS':AM,'emissivePS':MM,'encodePS':DM,'endPS':IM,'envAtlasPS':LM,'envProcPS':RM,'falloffInvSquaredPS':OM,'falloffLinearPS':FM,'floatAsUintPS':NM,'fogPS':kM,'fresnelSchlickPS':UM,'frontendCodePS':'','frontendDeclPS':'','fullscreenQuadVS':BM,'gammaPS':zM,'glossPS':VM,'gsplatCenterVS':GM,'gsplatCornerVS':QM,'gsplatColorVS':HM,'gsplatCommonVS':WM,'gsplatCompressedDataVS':$M,'gsplatCompressedSHVS':XM,'gsplatEvalSHVS':qM,'gsplatQuatToMat3VS':jM,'gsplatSogsColorVS':YM,'gsplatSogsDataVS':KM,'gsplatSogsSHVS':ZM,'gsplatDataVS':JM,'gsplatOutputVS':eD,'gsplatPS':tD,'gsplatSHVS':sD,'gsplatSourceVS':iD,'gsplatVS':rD,'quadVS':aD,'indirectCoreCS':nD,'immediateLinePS':oD,'immediateLineVS':lD,'iridescenceDiffractionPS':cD,'iridescencePS':hD,'iridescenceThicknessPS':dD,'iorPS':fD,'lightDeclarationPS':uD,'lightDiffuseLambertPS':pD,'lightDirPointPS':mD,'lightEvaluationPS':_D,'lightFunctionLightPS':gD,'lightFunctionShadowPS':SD,'lightingPS':yD,'lightmapAddPS':vD,'lightmapPS':xD,'lightSpecularAnisoGGXPS':TD,'lightSpecularBlinnPS':wD,'lightSheenPS':ED,'linearizeDepthPS':bD,'litForwardBackendPS':AD,'litForwardDeclarationPS':CD,'litForwardMainPS':PD,'litForwardPostCodePS':MD,'litForwardPreCodePS':DD,'litMainPS':ID,'litMainVS':LD,'litOtherMainPS':RD,'litShaderArgsPS':OD,'litShaderCorePS':FD,'litShadowMainPS':ND,'litUserDeclarationPS':'','litUserDeclarationVS':'','litUserCodePS':'','litUserCodeVS':'','litUserMainStartPS':'','litUserMainStartVS':'','litUserMainEndPS':'','litUserMainEndVS':'','ltcPS':kD,'metalnessPS':UD,'metalnessModulatePS':zD,'morphPS':VD,'morphVS':GD,'msdfPS':BD,'msdfVS':HD,'normalVS':WD,'normalCoreVS':$D,'normalMapPS':XD,'opacityPS':qD,'opacityDitherPS':jD,'outputPS':YD,'outputAlphaPS':KD,'outputTex2DPS':ZD,'sheenPS':QD,'sheenGlossPS':JD,'parallaxPS':eI,'pickPS':tI,'reflDirPS':sI,'reflDirAnisoPS':iI,'reflectionCCPS':rI,'reflectionCubePS':aI,'reflectionEnvHQPS':nI,'reflectionEnvPS':oI,'reflectionSpherePS':lI,'reflectionSheenPS':cI,'refractionCubePS':hI,'refractionDynamicPS':dI,'reprojectPS':fI,'reprojectVS':uI,'screenDepthPS':pI,'shadowCascadesPS':mI,'shadowEVSMPS':_I,'shadowPCF1PS':gI,'shadowPCF3PS':SI,'shadowPCF5PS':yI,'shadowSoftPS':vI,'skinBatchVS':xI,'skinVS':TI,'skyboxPS':wI,'skyboxVS':EI,'specularPS':bI,'sphericalPS':AI,'specularityFactorPS':CI,'spotPS':PI,'startNineSlicedPS':MI,'startNineSlicedTiledPS':DI,'stdDeclarationPS':II,'stdFrontEndPS':LI,'TBNPS':RI,'thicknessPS':OI,'tonemappingPS':FI,'tonemappingAcesPS':NI,'tonemappingAces2PS':kI,'tonemappingFilmicPS':UI,'tonemappingHejlPS':BI,'tonemappingLinearPS':zI,'tonemappingNeutralPS':VI,'tonemappingNonePS':GI,'transformVS':HI,'transformCoreVS':WI,'transformInstancingVS':$I,'transmissionPS':XI,'twoSidedLightingPS':qI,'uv0VS':jI,'uv1VS':YI,'uvTransformVS':KI,'uvTransformUniformsPS':ZI,'viewDirPS':QI,'webgpuPS':$y,'webgpuVS':Xy},ea=class ea extends me{constructor(_0x226b9a){super(),h(this,'_batcher',null),h(this,'_destroyRe'+'quested',!(0x9*-0x373+0x1748+0x7c4)),h(this,'_inFrameUp'+'date',!(0x4bb+-0x1b80+0x16c6)),h(this,'_libraries'+'Loaded',!(-0x1a54+-0x301*0xd+0x4162)),h(this,'_fillMode',Tg),h(this,'_resolutio'+'nMode',MC),h(this,'_allowResi'+'ze',!(-0x355*-0x2+-0x1*-0x240d+-0x1b*0x195)),h(this,'_skyboxAss'+'et',null),h(this,'_soundMana'+'ger'),h(this,'_visibilit'+'yChangeHan'+'dler'),h(this,'_entityInd'+'ex',{}),h(this,'_inTools',!(-0x1f8f+-0x985+0x329*0xd)),h(this,'_scriptPre'+'fix',''),h(this,'_time',0x5ff+-0x2507+0x1f08),h(this,'enableBund'+'les',typeof TextDecoder<'u'),h(this,'frameReque'+'stId'),h(this,'timeScale',-0x1d*0x4+-0x19*-0x3d+-0xb*0x80),h(this,'maxDeltaTi'+'me',0x25b*-0x10+-0x2449+0x28d*0x1d+0.1),h(this,'frame',0xf*0x282+0x174c+-0x3cea),h(this,'frameGraph',new DC()),h(this,'renderer'),h(this,'scriptsOrd'+'er',[]),h(this,'stats'),h(this,'autoRender',!(0xca1*0x1+0xccc+-0x196d)),h(this,'renderNext'+'Frame',!(0x4a*0x29+-0x2450+-0x1*-0x1877)),h(this,'graphicsDe'+'vice'),h(this,'root'),h(this,'scene'),h(this,'lightmappe'+'r',null),h(this,'loader',new Cn(this)),h(this,'assets'),h(this,'bundles'),h(this,'scenes',new qC(this)),h(this,'scripts',new HC(this)),h(this,'systems',new BC()),h(this,'i18n',new wa(this)),h(this,'keyboard',null),h(this,'mouse',null),h(this,'touch',null),h(this,'gamepads',null),h(this,'elementInp'+'ut',null),h(this,'xr',null),((hn==null?void(-0xa93+0xe4e*0x1+-0x5*0xbf):hn['indexOf']('$'))<0x3*-0x2c1+-0x7e3+0x1026&&w['log']('Powered\x20by'+'\x20PlayCanva'+'s\x20'+hn+'\x20'+$S),ea['_applicati'+'ons'][_0x226b9a['id']]=this,_u(this),this['root']=new lt(),this['root']['_enabledIn'+'Hierarchy']=!(-0x11*0x93+-0xaa*-0xe+0x77));}['init'](_0x42b2f4){const {assetPrefix:_0x12666f,batchManager:_0x51ebee,componentSystems:_0x144403,elementInput:_0x1c83bd,gamepads:_0xf1fe6,graphicsDevice:_0x1744bc,keyboard:_0x4ed34b,lightmapper:_0x41961a,mouse:_0x3cc19e,resourceHandlers:_0x43bb4c,scriptsOrder:_0x3bbac2,scriptPrefix:_0x5c918f,soundManager:_0x5a181c,touch:_0x17510e,xr:_0xf97461}=_0x42b2f4;w['assert'](_0x1744bc,'The\x20applic'+'ation\x20cann'+'ot\x20be\x20crea'+'ted\x20withou'+'t\x20a\x20valid\x20'+'GraphicsDe'+'vice'),this['graphicsDe'+'vice']=_0x1744bc,Pe['get'](_0x1744bc,Fe)['add'](Z2),Pe['get'](_0x1744bc,it)['add'](JI),this['_initDefau'+'ltMaterial'](),this['_initProgr'+'amLibrary'](),this['stats']=new jC(_0x1744bc),this['_soundMana'+'ger']=_0x5a181c,this['scene']=new Et(_0x1744bc),this['_registerS'+'ceneImmedi'+'ate'](this['scene']),this['assets']=new mn(this['loader']),_0x12666f&&(this['assets']['prefix']=_0x12666f),this['bundles']=new UC(this['assets']),this['scriptsOrd'+'er']=_0x3bbac2||[],this['defaultLay'+'erWorld']=new Ot({'name':'World','id':er}),this['defaultLay'+'erDepth']=new Ot({'name':'Depth','id':ps,'enabled':!(0x246b+-0x118f+-0x12db),'opaqueSortMode':Yc}),this['defaultLay'+'erSkybox']=new Ot({'name':'Skybox','id':Kp,'opaqueSortMode':Yc}),this['defaultLay'+'erUi']=new Ot({'name':'UI','id':Il,'transparentSortMode':jw}),this['defaultLay'+'erImmediat'+'e']=new Ot({'name':'Immediate','id':Zp,'opaqueSortMode':Yc});const _0x24bb0b=new du('default');_0x24bb0b['pushOpaque'](this['defaultLay'+'erWorld']),_0x24bb0b['pushOpaque'](this['defaultLay'+'erDepth']),_0x24bb0b['pushOpaque'](this['defaultLay'+'erSkybox']),_0x24bb0b['pushTransp'+'arent'](this['defaultLay'+'erWorld']),_0x24bb0b['pushOpaque'](this['defaultLay'+'erImmediat'+'e']),_0x24bb0b['pushTransp'+'arent'](this['defaultLay'+'erImmediat'+'e']),_0x24bb0b['pushTransp'+'arent'](this['defaultLay'+'erUi']),this['scene']['layers']=_0x24bb0b,ia['createPlac'+'eholder'](_0x1744bc),this['renderer']=new fl(_0x1744bc),this['renderer']['scene']=this['scene'],_0x41961a&&(this['lightmappe'+'r']=new _0x41961a(_0x1744bc,this['root'],this['scene'],this['renderer'],this['assets']),this['once']('prerender',this['_firstBake'],this)),_0x51ebee&&(this['_batcher']=new _0x51ebee(_0x1744bc,this['root'],this['scene']),this['once']('prerender',this['_firstBatc'+'h'],this)),this['keyboard']=_0x4ed34b||null,this['mouse']=_0x3cc19e||null,this['touch']=_0x17510e||null,this['gamepads']=_0xf1fe6||null,_0x1c83bd&&(this['elementInp'+'ut']=_0x1c83bd,this['elementInp'+'ut']['app']=this),this['xr']=_0xf97461?new _0xf97461(this):null,this['elementInp'+'ut']&&this['elementInp'+'ut']['attachSele'+'ctEvents'](),this['_scriptPre'+'fix']=_0x5c918f||'',this['enableBund'+'les']&&this['loader']['addHandler']('bundle',new VC(this)),_0x43bb4c['forEach'](_0x3d3c87=>{const _0x44ba2c=new _0x3d3c87(this);this['loader']['addHandler'](_0x44ba2c['handlerTyp'+'e'],_0x44ba2c);}),_0x144403['forEach'](_0x4e0b9a=>{this['systems']['add'](new _0x4e0b9a(this));}),this['_visibilit'+'yChangeHan'+'dler']=this['onVisibili'+'tyChange']['bind'](this),typeof document<'u'&&(document['hidden']!==void(-0x108*-0x6+0xd45+-0x1375)?(this['_hiddenAtt'+'r']='hidden',document['addEventLi'+'stener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0xfd*0x1f+0x628+0x187c))):document['mozHidden']!==void(-0x1153+-0x8*-0xb5+-0x1*-0xbab)?(this['_hiddenAtt'+'r']='mozHidden',document['addEventLi'+'stener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0xa*0xeb+-0x1f40+0x3ad*0xb))):document['msHidden']!==void(0xbb*0x13+-0x5f*0xd+-0x90e)?(this['_hiddenAtt'+'r']='msHidden',document['addEventLi'+'stener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0xe*0x27+-0x1afa+0x1d1d))):document['webkitHidd'+'en']!==void(0xb*-0x19a+0x9a3+-0xe3*-0x9)&&(this['_hiddenAtt'+'r']='webkitHidd'+'en',document['addEventLi'+'stener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x9b1*-0x3+-0x1e8a*-0x1+-0x3b9c)))),this['tick']=eL(this);}static['getApplica'+'tion'](_0x5f571a){return _0x5f571a?ea['_applicati'+'ons'][_0x5f571a]:Ms();}['_initDefau'+'ltMaterial'](){const _0x1b117d=new Ut();_0x1b117d['name']='Default\x20Ma'+'terial',xE(this['graphicsDe'+'vice'],_0x1b117d);}['_initProgr'+'amLibrary'](){const _0x38c8e6=new qA(this['graphicsDe'+'vice'],new Ut());cE(this['graphicsDe'+'vice'],_0x38c8e6);}get['soundManag'+'er'](){return this['_soundMana'+'ger'];}get['batcher'](){return w['assert'](this['_batcher'],'BatchManag'+'er\x20has\x20not'+'\x20been\x20crea'+'ted\x20and\x20is'+'\x20required\x20'+'for\x20correc'+'t\x20function'+'ality.'),this['_batcher'];}get['fillMode'](){return this['_fillMode'];}get['resolution'+'Mode'](){return this['_resolutio'+'nMode'];}['configure'](_0x548b69,_0x2314f8){ot['get'](_0x548b69,(_0x3f3f6c,_0x11ea2d)=>{if(_0x3f3f6c){_0x2314f8(_0x3f3f6c);return;}const _0x150616=_0x11ea2d['applicatio'+'n_properti'+'es'],_0x579da1=_0x11ea2d['scenes'],_0x3d705d=_0x11ea2d['assets'];this['_parseAppl'+'icationPro'+'perties'](_0x150616,_0xf2691c=>{this['_parseScen'+'es'](_0x579da1),this['_parseAsse'+'ts'](_0x3d705d),_0x2314f8(_0xf2691c||null);});});}['preload'](_0x1de8a8){this['fire']('preload:st'+'art');const _0x158d57=this['assets']['list']({'preload':!(0x1d15+-0x412*-0x1+-0x2127)});if(_0x158d57['length']===0x4*0x76+-0x464*-0x5+-0x17cc*0x1){this['fire']('preload:en'+'d'),_0x1de8a8();return;}let _0x38b26e=0x1a36+0x129d+-0x2cd3;const _0x59ba10=()=>{_0x38b26e++,this['fire']('preload:pr'+'ogress',_0x38b26e/_0x158d57['length']),_0x38b26e===_0x158d57['length']&&(this['fire']('preload:en'+'d'),_0x1de8a8());};_0x158d57['forEach'](_0x298588=>{_0x298588['loaded']?_0x59ba10():(_0x298588['once']('load',_0x59ba10),_0x298588['once']('error',_0x59ba10),this['assets']['load'](_0x298588));});}['_preloadSc'+'ripts'](_0x126557,_0x3a9219){_0x3a9219();}['_parseAppl'+'icationPro'+'perties'](_0x425350,_0xee9f30){if(typeof _0x425350['maxAssetRe'+'tries']=='number'&&_0x425350['maxAssetRe'+'tries']>0x4a7*0x5+-0xa53*-0x2+-0x2be9&&this['loader']['enableRetr'+'y'](_0x425350['maxAssetRe'+'tries']),_0x425350['useDeviceP'+'ixelRatio']||(_0x425350['useDeviceP'+'ixelRatio']=_0x425350['use_device'+'_pixel_rat'+'io']),_0x425350['resolution'+'Mode']||(_0x425350['resolution'+'Mode']=_0x425350['resolution'+'_mode']),_0x425350['fillMode']||(_0x425350['fillMode']=_0x425350['fill_mode']),this['_width']=_0x425350['width'],this['_height']=_0x425350['height'],_0x425350['useDeviceP'+'ixelRatio']&&(this['graphicsDe'+'vice']['maxPixelRa'+'tio']=window['devicePixe'+'lRatio']),this['setCanvasR'+'esolution'](_0x425350['resolution'+'Mode'],this['_width'],this['_height']),this['setCanvasF'+'illMode'](_0x425350['fillMode'],this['_width'],this['_height']),_0x425350['layers']&&_0x425350['layerOrder']){const _0x248c8e=new du('applicatio'+'n'),_0x426e5b={};for(const _0x1c058c in _0x425350['layers']){const _0xf8ac44=_0x425350['layers'][_0x1c058c];_0xf8ac44['id']=parseInt(_0x1c058c,0x2f*0x4a+-0x367*-0x2+-0x1*0x145a),_0xf8ac44['enabled']=_0xf8ac44['id']!==ps,_0x426e5b[_0x1c058c]=new Ot(_0xf8ac44);}for(let _0x41780f=0x5*0x677+-0x18f7+-0x75c,_0x2d7111=_0x425350['layerOrder']['length'];_0x41780f<_0x2d7111;_0x41780f++){const _0x3f2e59=_0x425350['layerOrder'][_0x41780f],_0x2d6eee=_0x426e5b[_0x3f2e59['layer']];_0x2d6eee&&(_0x3f2e59['transparen'+'t']?_0x248c8e['pushTransp'+'arent'](_0x2d6eee):_0x248c8e['pushOpaque'](_0x2d6eee),_0x248c8e['subLayerEn'+'abled'][_0x41780f]=_0x3f2e59['enabled']);}this['scene']['layers']=_0x248c8e;}if(_0x425350['batchGroup'+'s']){const _0x44e03c=this['batcher'];if(_0x44e03c)for(let _0x4df923=0xa5c+0xe6b+-0x18c7,_0x5ac86f=_0x425350['batchGroup'+'s']['length'];_0x4df923<_0x5ac86f;_0x4df923++){const _0x23a7f9=_0x425350['batchGroup'+'s'][_0x4df923];_0x44e03c['addGroup'](_0x23a7f9['name'],_0x23a7f9['dynamic'],_0x23a7f9['maxAabbSiz'+'e'],_0x23a7f9['id'],_0x23a7f9['layers']);}}_0x425350['i18nAssets']&&(this['i18n']['assets']=_0x425350['i18nAssets']),this['_loadLibra'+'ries'](_0x425350['libraries'],_0xee9f30);}['_loadLibra'+'ries'](_0x13fc01,_0x4f4ecd){const _0x4b2178=_0x13fc01['length'];let _0x368032=_0x4b2178;const _0x3e3dec=/^https?:\/\//;if(_0x4b2178){const _0x3db56d=(_0x5bb3d4,_0x23bd2a)=>{_0x368032--,_0x5bb3d4?_0x4f4ecd(_0x5bb3d4):_0x368032===-0x1*-0x233b+-0x2*-0xc37+0x13e3*-0x3&&(this['onLibrarie'+'sLoaded'](),_0x4f4ecd(null));};for(let _0xb18cdf=-0x40*0x5f+0x5*-0x4+-0x19*-0xf4;_0xb18cdf<_0x4b2178;++_0xb18cdf){let _0x24f034=_0x13fc01[_0xb18cdf];!_0x3e3dec['test'](_0x24f034['toLowerCas'+'e']())&&this['_scriptPre'+'fix']&&(_0x24f034=xe['join'](this['_scriptPre'+'fix'],_0x24f034)),this['loader']['load'](_0x24f034,'script',_0x3db56d);}}else this['onLibrarie'+'sLoaded'](),_0x4f4ecd(null);}['_parseScen'+'es'](_0x25218c){if(_0x25218c){for(let _0x5555e0=-0xe2*-0x7+0xc4b*-0x1+-0x5*-0x139;_0x5555e0<_0x25218c['length'];_0x5555e0++)this['scenes']['add'](_0x25218c[_0x5555e0]['name'],_0x25218c[_0x5555e0]['url']);}}['_parseAsse'+'ts'](_0x1d921e){const _0x4c26d6=[],_0x33114c={},_0x5692f6={};for(let _0x2a2167=0x3*0xbdb+0x1c*-0xf7+-0x88d;_0x2a2167<this['scriptsOrd'+'er']['length'];_0x2a2167++){const _0xa6c1d4=this['scriptsOrd'+'er'][_0x2a2167];_0x1d921e[_0xa6c1d4]&&(_0x33114c[_0xa6c1d4]=!(0x27+-0xa*-0x183+-0xf45),_0x4c26d6['push'](_0x1d921e[_0xa6c1d4]));}if(this['enableBund'+'les']){for(const _0x51fa1d in _0x1d921e)_0x1d921e[_0x51fa1d]['type']==='bundle'&&(_0x5692f6[_0x51fa1d]=!(-0x3*0xabd+0x9*0x5b+0x9ac*0x3),_0x4c26d6['push'](_0x1d921e[_0x51fa1d]));}for(const _0x4ab253 in _0x1d921e)_0x33114c[_0x4ab253]||_0x5692f6[_0x4ab253]||_0x4c26d6['push'](_0x1d921e[_0x4ab253]);for(let _0x467786=-0xd*-0x8f+-0x611*0x4+-0x1101*-0x1;_0x467786<_0x4c26d6['length'];_0x467786++){const _0x5f0ad6=_0x4c26d6[_0x467786],_0x1891ce=new pe(_0x5f0ad6['name'],_0x5f0ad6['type'],_0x5f0ad6['file'],_0x5f0ad6['data']);if(_0x1891ce['id']=parseInt(_0x5f0ad6['id'],-0x6d9+-0xff0+0x16d3),_0x1891ce['preload']=_0x5f0ad6['preload']?_0x5f0ad6['preload']:!(-0x10*0x18d+-0x2*0xb02+0x2ed5),_0x1891ce['loaded']=_0x5f0ad6['type']==='script'&&_0x5f0ad6['data']&&_0x5f0ad6['data']['loadingTyp'+'e']>-0xacd+-0x1*-0x1c5e+0x3*-0x5db,_0x1891ce['tags']['add'](_0x5f0ad6['tags']),_0x5f0ad6['i18n']){for(const _0x18ee5e in _0x5f0ad6['i18n'])_0x1891ce['addLocaliz'+'edAssetId'](_0x18ee5e,_0x5f0ad6['i18n'][_0x18ee5e]);}this['assets']['add'](_0x1891ce);}}['start'](){w['call'](()=>{w['assert'](!this['_alreadySt'+'arted'],'The\x20applic'+'ation\x20can\x20'+'be\x20started'+'\x20only\x20one\x20'+'time.'),this['_alreadySt'+'arted']=!(-0x1cde+-0x2*0x395+0x4*0x902);}),this['frame']=-0x1*0xb7f+0x106f+0x1*-0x4f0,this['fire']('start',{'timestamp':de(),'target':this}),this['_libraries'+'Loaded']||this['onLibrarie'+'sLoaded'](),this['systems']['fire']('initialize',this['root']),this['fire']('initialize'),this['systems']['fire']('postInitia'+'lize',this['root']),this['systems']['fire']('postPostIn'+'itialize',this['root']),this['fire']('postinitia'+'lize'),this['tick']();}['inputUpdat'+'e'](_0x163edc){this['controller']&&this['controller']['update'](_0x163edc),this['mouse']&&this['mouse']['update'](),this['keyboard']&&this['keyboard']['update'](),this['gamepads']&&this['gamepads']['update']();}['update'](_0x4b57ec){this['frame']++,this['graphicsDe'+'vice']['update'](),this['stats']['frame']['updateStar'+'t']=de(),this['systems']['fire'](this['_inTools']?'toolsUpdat'+'e':'update',_0x4b57ec),this['systems']['fire']('animationU'+'pdate',_0x4b57ec),this['systems']['fire']('postUpdate',_0x4b57ec),this['fire']('update',_0x4b57ec),this['inputUpdat'+'e'](_0x4b57ec),this['stats']['frame']['updateTime']=de()-this['stats']['frame']['updateStar'+'t'];}['render'](){this['updateCanv'+'asSize'](),this['graphicsDe'+'vice']['frameStart'](),this['stats']['frame']['renderStar'+'t']=de(),this['fire']('prerender'),this['root']['syncHierar'+'chy'](),this['_batcher']&&this['_batcher']['updateAll'](),fl['_skipRende'+'rCounter']=-0x2*0xdf4+-0xb2e+0x2716,this['renderComp'+'osition'](this['scene']['layers']),this['fire']('postrender'),this['stats']['frame']['renderTime']=de()-this['stats']['frame']['renderStar'+'t'],this['graphicsDe'+'vice']['frameEnd']();}['renderComp'+'osition'](_0x471f70){Q['clearGpuMa'+'rkers'](),this['renderer']['update'](_0x471f70),this['renderer']['buildFrame'+'Graph'](this['frameGraph'],_0x471f70),this['frameGraph']['render'](this['graphicsDe'+'vice']);}['_fillFrame'+'StatsBasic'](_0x2782ed,_0x45226a,_0x1a5480){const _0x4d4a90=this['stats']['frame'];_0x4d4a90['dt']=_0x45226a,_0x4d4a90['ms']=_0x1a5480,_0x2782ed>_0x4d4a90['_timeToCou'+'ntFrames']?(_0x4d4a90['fps']=_0x4d4a90['_fpsAccum'],_0x4d4a90['_fpsAccum']=0x11af*0x1+-0x1ba4+0x9f5,_0x4d4a90['_timeToCou'+'ntFrames']=_0x2782ed+(-0x1de7+0x1*-0xb12+0x2ce1*0x1)):_0x4d4a90['_fpsAccum']++,this['stats']['drawCalls']['total']=this['graphicsDe'+'vice']['_drawCalls'+'PerFrame'],this['graphicsDe'+'vice']['_drawCalls'+'PerFrame']=0x6*-0x647+-0x6*0x258+0x33ba;}['_fillFrame'+'Stats'](){let _0x1a3e72=this['stats']['frame'];_0x1a3e72['cameras']=this['renderer']['_camerasRe'+'ndered'],_0x1a3e72['materials']=this['renderer']['_materialS'+'witches'],_0x1a3e72['shaders']=this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame'],_0x1a3e72['shadowMapU'+'pdates']=this['renderer']['_shadowMap'+'Updates'],_0x1a3e72['shadowMapT'+'ime']=this['renderer']['_shadowMap'+'Time'],_0x1a3e72['depthMapTi'+'me']=this['renderer']['_depthMapT'+'ime'],_0x1a3e72['forwardTim'+'e']=this['renderer']['_forwardTi'+'me'];const _0x24e1d7=this['graphicsDe'+'vice']['_primsPerF'+'rame'];_0x1a3e72['triangles']=_0x24e1d7[js]/(-0x7*0x95+-0x2399+-0x1*-0x27af)+Math['max'](_0x24e1d7[Er]-(-0x489+0x1556*-0x1+0x19e1),-0x24*-0x61+-0xc68*0x2+0xb2c)+Math['max'](_0x24e1d7[oa]-(0x16b6+0xd4*-0x25+-0x7f*-0x10),-0x1*-0xce3+-0x155*-0x8+-0x178b),_0x1a3e72['cullTime']=this['renderer']['_cullTime'],_0x1a3e72['sortTime']=this['renderer']['_sortTime'],_0x1a3e72['skinTime']=this['renderer']['_skinTime'],_0x1a3e72['morphTime']=this['renderer']['_morphTime'],_0x1a3e72['lightClust'+'ers']=this['renderer']['_lightClus'+'ters'],_0x1a3e72['lightClust'+'ersTime']=this['renderer']['_lightClus'+'tersTime'],_0x1a3e72['otherPrimi'+'tives']=-0x3a2+0x174e+-0x13ac;for(let _0x487697=-0xa3d+-0x19b*0x1+0x1*0xbd8;_0x487697<_0x24e1d7['length'];_0x487697++)_0x487697<js&&(_0x1a3e72['otherPrimi'+'tives']+=_0x24e1d7[_0x487697]),_0x24e1d7[_0x487697]=-0x1cee+0x812+0x14dc*0x1;this['renderer']['_camerasRe'+'ndered']=-0x1*-0x10a3+0xe6c+0x1*-0x1f0f,this['renderer']['_materialS'+'witches']=-0x1fb1+-0xdf*-0xe+0x1*0x137f,this['renderer']['_shadowMap'+'Updates']=0x43*0x2b+-0x22db+0x179a,this['graphicsDe'+'vice']['_shaderSwi'+'tchesPerFr'+'ame']=-0x2401+-0x1f5b+0x435c,this['renderer']['_cullTime']=-0x4f9+0x3a9*-0x6+0x1aef,this['renderer']['_layerComp'+'ositionUpd'+'ateTime']=0x189e+0x2271+0x48b*-0xd,this['renderer']['_lightClus'+'tersTime']=0x256a+0x14c1+0x1*-0x3a2b,this['renderer']['_sortTime']=-0xb1*-0x20+-0x160e+-0x12,this['renderer']['_skinTime']=0x56*0x6a+-0x12aa+-0x5a6*0x3,this['renderer']['_morphTime']=-0x472+-0x1*-0x300+0x172,this['renderer']['_shadowMap'+'Time']=0x283*-0xf+0x1c*0x3d+0x1*0x1f01,this['renderer']['_depthMapT'+'ime']=0x1*-0x11e4+0x133*-0xa+0x1de2,this['renderer']['_forwardTi'+'me']=-0x1*0x19+0x1f9+0x20*-0xf,_0x1a3e72=this['stats']['drawCalls'],_0x1a3e72['forward']=this['renderer']['_forwardDr'+'awCalls'],_0x1a3e72['culled']=this['renderer']['_numDrawCa'+'llsCulled'],_0x1a3e72['depth']=0x1f*0x137+-0x18e9+-0xcc0,_0x1a3e72['shadow']=this['renderer']['_shadowDra'+'wCalls'],_0x1a3e72['skinned']=this['renderer']['_skinDrawC'+'alls'],_0x1a3e72['immediate']=-0x2533+-0x1bb3+0x40e6,_0x1a3e72['instanced']=-0x1061+-0x4d3+-0x1*-0x1534,_0x1a3e72['removedByI'+'nstancing']=0x153+-0x2*0x989+0x4d*0x3b,_0x1a3e72['misc']=_0x1a3e72['total']-(_0x1a3e72['forward']+_0x1a3e72['shadow']),this['renderer']['_depthDraw'+'Calls']=-0x20d5*0x1+-0x14f0+-0x5*-0xac1,this['renderer']['_shadowDra'+'wCalls']=-0x1*0x17f5+-0x977+0x216c,this['renderer']['_forwardDr'+'awCalls']=-0x2022+0x58a*0x1+0x1a98,this['renderer']['_numDrawCa'+'llsCulled']=-0x1*0x1101+-0x6b7+0x17b8,this['renderer']['_skinDrawC'+'alls']=0x6cd*0x3+0x2d*0xbb+0x11c2*-0x3,this['renderer']['_immediate'+'Rendered']=0x1702+-0x301*0x5+0x1*-0x7fd,this['renderer']['_instanced'+'DrawCalls']=-0x1516+-0x25f0*0x1+-0xa*-0x5e7,this['stats']['misc']['renderTarg'+'etCreation'+'Time']=this['graphicsDe'+'vice']['renderTarg'+'etCreation'+'Time'],_0x1a3e72=this['stats']['particles'],_0x1a3e72['updatesPer'+'Frame']=_0x1a3e72['_updatesPe'+'rFrame'],_0x1a3e72['frameTime']=_0x1a3e72['_frameTime'],_0x1a3e72['_updatesPe'+'rFrame']=-0x11c5+-0x169b+0x20*0x143,_0x1a3e72['_frameTime']=0x97*0x15+-0x183e+-0x1*-0xbdb;}['setCanvasF'+'illMode'](_0x3f8ffb,_0x42da47,_0x378f40){this['_fillMode']=_0x3f8ffb,this['resizeCanv'+'as'](_0x42da47,_0x378f40);}['setCanvasR'+'esolution'](_0x5505d7,_0x471cbf,_0x1cae2b){this['_resolutio'+'nMode']=_0x5505d7,_0x5505d7===wg&&_0x471cbf===void(0x2056+-0xac2+-0x1594)&&(_0x471cbf=this['graphicsDe'+'vice']['canvas']['clientWidt'+'h'],_0x1cae2b=this['graphicsDe'+'vice']['canvas']['clientHeig'+'ht']),this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x471cbf,_0x1cae2b);}['isHidden'](){return document[this['_hiddenAtt'+'r']];}['onVisibili'+'tyChange'](){this['isHidden']()?this['_soundMana'+'ger']&&this['_soundMana'+'ger']['suspend']():this['_soundMana'+'ger']&&this['_soundMana'+'ger']['resume']();}['resizeCanv'+'as'](_0x252e60,_0x2b071a){if(!this['_allowResi'+'ze']||this['xr']&&this['xr']['session'])return;const _0x10b7a1=window['innerWidth'],_0x7f5cd2=window['innerHeigh'+'t'];if(this['_fillMode']===Tg){const _0x27ea5a=this['graphicsDe'+'vice']['canvas']['width']/this['graphicsDe'+'vice']['canvas']['height'],_0x3346bc=_0x10b7a1/_0x7f5cd2;_0x27ea5a>_0x3346bc?(_0x252e60=_0x10b7a1,_0x2b071a=_0x252e60/_0x27ea5a):(_0x2b071a=_0x7f5cd2,_0x252e60=_0x2b071a*_0x27ea5a);}else this['_fillMode']===PC&&(_0x252e60=_0x10b7a1,_0x2b071a=_0x7f5cd2);return this['graphicsDe'+'vice']['canvas']['style']['width']=_0x252e60+'px',this['graphicsDe'+'vice']['canvas']['style']['height']=_0x2b071a+'px',this['updateCanv'+'asSize'](),{'width':_0x252e60,'height':_0x2b071a};}['updateCanv'+'asSize'](){var _0xa539ca;if(!(!this['_allowResi'+'ze']||(_0xa539ca=this['xr'])!=null&&_0xa539ca['active'])&&this['_resolutio'+'nMode']===wg){const _0x4c0cbe=this['graphicsDe'+'vice']['canvas'];this['graphicsDe'+'vice']['resizeCanv'+'as'](_0x4c0cbe['clientWidt'+'h'],_0x4c0cbe['clientHeig'+'ht']);}}['onLibrarie'+'sLoaded'](){this['_libraries'+'Loaded']=!(-0x53*0x13+-0xd3*0x9+0xd94*0x1),this['systems']['rigidbody']&&this['systems']['rigidbody']['onLibraryL'+'oaded']();}['applyScene'+'Settings'](_0x492fcd){let _0x535598;if(this['systems']['rigidbody']&&typeof Ammo<'u'){const [_0x4d67fd,_0x3771ff,_0x51af14]=_0x492fcd['physics']['gravity'];this['systems']['rigidbody']['gravity']['set'](_0x4d67fd,_0x3771ff,_0x51af14);}this['scene']['applySetti'+'ngs'](_0x492fcd),_0x492fcd['render']['hasOwnProp'+'erty']('skybox')&&(_0x492fcd['render']['skybox']?(_0x535598=this['assets']['get'](_0x492fcd['render']['skybox']),_0x535598?this['setSkybox'](_0x535598):this['assets']['once']('add:'+_0x492fcd['render']['skybox'],this['setSkybox'],this)):this['setSkybox'](null));}['setAreaLig'+'htLuts'](_0x15d1ed,_0x3b81df){_0x15d1ed&&_0x3b81df?ia['set'](this['graphicsDe'+'vice'],_0x15d1ed,_0x3b81df):w['warn']('setAreaLig'+'htLuts:\x20LU'+'Ts\x20for\x20are'+'a\x20light\x20ar'+'e\x20not\x20vali'+'d');}['setSkybox'](_0x519644){if(_0x519644!==this['_skyboxAss'+'et']){const _0x1e09c8=()=>{this['setSkybox'](null);},_0xf7c77e=()=>{this['scene']['setSkybox'](this['_skyboxAss'+'et']?this['_skyboxAss'+'et']['resources']:null);};this['_skyboxAss'+'et']&&(this['assets']['off']('load:'+this['_skyboxAss'+'et']['id'],_0xf7c77e,this),this['assets']['off']('remove:'+this['_skyboxAss'+'et']['id'],_0x1e09c8,this),this['_skyboxAss'+'et']['off']('change',_0xf7c77e,this)),this['_skyboxAss'+'et']=_0x519644,this['_skyboxAss'+'et']&&(this['assets']['on']('load:'+this['_skyboxAss'+'et']['id'],_0xf7c77e,this),this['assets']['once']('remove:'+this['_skyboxAss'+'et']['id'],_0x1e09c8,this),this['_skyboxAss'+'et']['on']('change',_0xf7c77e,this),this['scene']['skyboxMip']===0x425+0x444+0x1*-0x869&&!this['_skyboxAss'+'et']['loadFaces']&&(this['_skyboxAss'+'et']['loadFaces']=!(0x2269+0x35*-0x4+-0x1*0x2195)),this['assets']['load'](this['_skyboxAss'+'et'])),_0xf7c77e();}}['_firstBake'](){var _0x14e000;(_0x14e000=this['lightmappe'+'r'])==null||_0x14e000['bake'](null,this['scene']['lightmapMo'+'de']);}['_firstBatc'+'h'](){var _0x5f0e8d;(_0x5f0e8d=this['batcher'])==null||_0x5f0e8d['generate']();}['_processTi'+'mestamp'](_0x57557f){return _0x57557f;}['drawLine'](_0x5e44b7,_0x20c396,_0x7f690a,_0x4c53ac,_0x459a29){this['scene']['drawLine'](_0x5e44b7,_0x20c396,_0x7f690a,_0x4c53ac,_0x459a29);}['drawLines'](_0x465c24,_0x55e1a4,_0x3a9958=!(0x915+-0x2*0x4a9+0x3d),_0x2bb998=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLines'](_0x465c24,_0x55e1a4,_0x3a9958,_0x2bb998);}['drawLineAr'+'rays'](_0x4d4843,_0x3bc9e2,_0x4bb956=!(-0x16*0x36+0x2f8+-0xd6*-0x2),_0x3b47fb=this['scene']['defaultDra'+'wLayer']){this['scene']['drawLineAr'+'rays'](_0x4d4843,_0x3bc9e2,_0x4bb956,_0x3b47fb);}['drawWireSp'+'here'](_0x42e1d6,_0xe622cc,_0x21b7b2=ie['WHITE'],_0x399543=0x1*0xd45+-0x50c+-0x5*0x1a1,_0x44cc10=!(-0xc*0xd3+0x12f7+-0x913),_0x9b3210=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawWireSp'+'here'](_0x42e1d6,_0xe622cc,_0x21b7b2,_0x399543,_0x44cc10,_0x9b3210);}['drawWireAl'+'ignedBox'](_0x1fda66,_0x404c67,_0x5d6002=ie['WHITE'],_0x1968fa=!(0x1*-0x14f7+-0x9a*0x2e+0x30a3),_0x2c58b0=this['scene']['defaultDra'+'wLayer'],_0x2f4fb0){this['scene']['immediate']['drawWireAl'+'ignedBox'](_0x1fda66,_0x404c67,_0x5d6002,_0x1968fa,_0x2c58b0,_0x2f4fb0);}['drawMeshIn'+'stance'](_0x15b3b2,_0x16b400=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](null,null,null,_0x15b3b2,_0x16b400);}['drawMesh'](_0x1116a9,_0x14b8d3,_0x1ff288,_0x3cc994=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0x14b8d3,_0x1ff288,_0x1116a9,null,_0x3cc994);}['drawQuad'](_0x2aaa8c,_0xa5aa6c,_0x213938=this['scene']['defaultDra'+'wLayer']){this['scene']['immediate']['drawMesh'](_0xa5aa6c,_0x2aaa8c,this['scene']['immediate']['getQuadMes'+'h'](),null,_0x213938);}['drawTextur'+'e'](_0x3ed737,_0x1b20bb,_0x4b5d6d,_0x674d6c,_0x17c99d,_0xb993f8,_0x5c46ff=this['scene']['defaultDra'+'wLayer'],_0x54776a=!(-0x7d7+-0xb92+0x1369)){if(_0x54776a===!(-0x2320+0x8*0x2fc+0xb41)&&!this['graphicsDe'+'vice']['isWebGPU'])return;const _0x528085=new te();_0x528085['setTRS'](new D(_0x3ed737,_0x1b20bb,0x8da+-0xe*-0x155+0x50*-0x58),le['IDENTITY'],new D(_0x4b5d6d,-_0x674d6c,0x3*-0x681+0x25a+0x1129)),_0xb993f8||(_0xb993f8=new Xn(),_0xb993f8['cull']=bt,_0xb993f8['setParamet'+'er']('colorMap',_0x17c99d),_0xb993f8['shaderDesc']=_0x54776a?this['scene']['immediate']['getTexture'+'ShaderDesc'](_0x17c99d['encoding']):this['scene']['immediate']['getUnfilte'+'rableTextu'+'reShaderDe'+'sc'](),_0xb993f8['update']()),this['drawQuad'](_0x528085,_0xb993f8,_0x5c46ff);}['drawDepthT'+'exture'](_0x56b7e5,_0x531df9,_0x1ba6a7,_0x57210b,_0x3292d0=this['scene']['defaultDra'+'wLayer']){const _0x4793f4=new Xn();_0x4793f4['cull']=bt,_0x4793f4['shaderDesc']=this['scene']['immediate']['getDepthTe'+'xtureShade'+'rDesc'](),_0x4793f4['update'](),this['drawTextur'+'e'](_0x56b7e5,_0x531df9,_0x1ba6a7,_0x57210b,null,_0x4793f4,_0x3292d0);}['destroy'](){var _0x108bf1,_0x52142d,_0x3037e7,_0x2e7ff2;if(this['_inFrameUp'+'date']){this['_destroyRe'+'quested']=!(0x3*-0x679+-0x1cae*0x1+-0x1*-0x3019);return;}const _0x2fe6f9=this['graphicsDe'+'vice']['canvas']['id'];this['fire']('destroy',this),this['off']('librariesl'+'oaded'),typeof document<'u'&&(document['removeEven'+'tListener']('visibility'+'change',this['_visibilit'+'yChangeHan'+'dler'],!(-0x20fb+-0x54c*0x3+0x30e0)),document['removeEven'+'tListener']('mozvisibil'+'itychange',this['_visibilit'+'yChangeHan'+'dler'],!(0x5e*0x28+-0x3*0xae4+0x11fd)),document['removeEven'+'tListener']('msvisibili'+'tychange',this['_visibilit'+'yChangeHan'+'dler'],!(-0x47f+0x123e+-0x2*0x6df)),document['removeEven'+'tListener']('webkitvisi'+'bilitychan'+'ge',this['_visibilit'+'yChangeHan'+'dler'],!(-0x12c7+-0x2262+-0x1a95*-0x2))),this['_visibilit'+'yChangeHan'+'dler']=null,this['root']['destroy'](),this['root']=null,this['mouse']&&(this['mouse']['off'](),this['mouse']['detach'](),this['mouse']=null),this['keyboard']&&(this['keyboard']['off'](),this['keyboard']['detach'](),this['keyboard']=null),this['touch']&&(this['touch']['off'](),this['touch']['detach'](),this['touch']=null),this['elementInp'+'ut']&&(this['elementInp'+'ut']['detach'](),this['elementInp'+'ut']=null),this['gamepads']&&(this['gamepads']['destroy'](),this['gamepads']=null),this['controller']&&(this['controller']=null),this['systems']['destroy'](),this['scene']['layers']&&this['scene']['layers']['destroy']();const _0xfe2dea=this['assets']['list']();for(let _0x1c1846=0x1*0xfb+-0xc6d*0x2+0x17df;_0x1c1846<_0xfe2dea['length'];_0x1c1846++)_0xfe2dea[_0x1c1846]['unload'](),_0xfe2dea[_0x1c1846]['off']();this['assets']['off'](),this['bundles']['destroy'](),this['bundles']=null,this['i18n']['destroy'](),this['i18n']=null;const _0x300374=this['loader']['getHandler']('script');_0x300374==null||_0x300374['clearCache'](),this['loader']['destroy'](),this['loader']=null,this['scene']['destroy'](),this['scene']=null,this['systems']=null,this['context']=null,this['scripts']['destroy'](),this['scripts']=null,this['scenes']['destroy'](),this['scenes']=null,(_0x108bf1=this['lightmappe'+'r'])==null||_0x108bf1['destroy'](),this['lightmappe'+'r']=null,this['_batcher']&&(this['_batcher']['destroy'](),this['_batcher']=null),this['_entityInd'+'ex']={},this['defaultLay'+'erDepth']['onDisable']=null,this['defaultLay'+'erDepth']['onEnable']=null,this['defaultLay'+'erDepth']=null,this['defaultLay'+'erWorld']=null,(_0x52142d=this['xr'])==null||_0x52142d['end'](),(_0x3037e7=this['xr'])==null||_0x3037e7['destroy'](),this['renderer']['destroy'](),this['renderer']=null,this['graphicsDe'+'vice']['destroy'](),this['graphicsDe'+'vice']=null,this['tick']=null,this['off'](),(_0x2e7ff2=this['_soundMana'+'ger'])==null||_0x2e7ff2['destroy'](),this['_soundMana'+'ger']=null,ea['_applicati'+'ons'][_0x2fe6f9]=null,Ms()===this&&_u(null),ea['cancelTick'](this);}static['cancelTick'](_0x557bf0){_0x557bf0['frameReque'+'stId']&&(window['cancelAnim'+'ationFrame'](_0x557bf0['frameReque'+'stId']),_0x557bf0['frameReque'+'stId']=void(0xe20*0x1+0x15e9+-0x29*0xe1));}['getEntityF'+'romIndex'](_0x1bcdb0){return this['_entityInd'+'ex'][_0x1bcdb0];}['_registerS'+'ceneImmedi'+'ate'](_0x215001){this['on']('postrender',_0x215001['immediate']['onPostRend'+'er'],_0x215001['immediate']);}};h(ea,'_applicati'+'ons',{});let Ks=ea;const eL=function(_0x2493cb){const _0x2d6d6e=_0x2493cb;return function(_0x1002ac,_0x269311){var _0x13a6a5,_0x7f2db3,_0x4aa9e4,_0x22f7cf;if(!_0x2d6d6e['graphicsDe'+'vice'])return;_0x2d6d6e['frameReque'+'stId']&&((_0x7f2db3=(_0x13a6a5=_0x2d6d6e['xr'])==null?void(-0x2487+0x4*0x487+0x126b):_0x13a6a5['session'])==null||_0x7f2db3['cancelAnim'+'ationFrame'](_0x2d6d6e['frameReque'+'stId']),cancelAnimationFrame(_0x2d6d6e['frameReque'+'stId']),_0x2d6d6e['frameReque'+'stId']=null),_0x2d6d6e['_inFrameUp'+'date']=!(0x1741+0xab+-0x17ec),_u(_0x2d6d6e);const _0x24783e=_0x2d6d6e['_processTi'+'mestamp'](_0x1002ac)||de(),_0x1e09fc=_0x24783e-(_0x2d6d6e['_time']||_0x24783e);let _0x423998=_0x1e09fc/(0xf*0x34+0xd5a+-0xf6*0xd);if(_0x423998=Y['clamp'](_0x423998,-0x5e3+0xb66*-0x3+0x2815,_0x2d6d6e['maxDeltaTi'+'me']),_0x423998*=_0x2d6d6e['timeScale'],_0x2d6d6e['_time']=_0x24783e,(_0x4aa9e4=_0x2d6d6e['xr'])!=null&&_0x4aa9e4['session']?_0x2d6d6e['frameReque'+'stId']=_0x2d6d6e['xr']['session']['requestAni'+'mationFram'+'e'](_0x2d6d6e['tick']):_0x2d6d6e['frameReque'+'stId']=Ae['browser']||Ae['worker']?requestAnimationFrame(_0x2d6d6e['tick']):null,_0x2d6d6e['graphicsDe'+'vice']['contextLos'+'t'])return;_0x2d6d6e['_fillFrame'+'StatsBasic'](_0x24783e,_0x423998,_0x1e09fc),_0x2d6d6e['_fillFrame'+'Stats'](),_0x2d6d6e['fire']('frameupdat'+'e',_0x1e09fc);let _0x16862b=!(0x1*0x2489+-0x1478+-0x4*0x404);_0x269311?(_0x16862b=!((_0x22f7cf=_0x2d6d6e['xr'])!=null&&_0x22f7cf['update'](_0x269311)),_0x2d6d6e['graphicsDe'+'vice']['defaultFra'+'mebuffer']=_0x269311['session']['renderStat'+'e']['baseLayer']['framebuffe'+'r']):_0x2d6d6e['graphicsDe'+'vice']['defaultFra'+'mebuffer']=null,!_0x16862b&&!_0x2d6d6e['stopSort']&&(w['trace'](W0,'----\x20Frame'+'\x20'+_0x2d6d6e['frame']),w['trace'](Ld,'--\x20UpdateS'+'tart\x20'+de()['toFixed'](-0xb*-0x1f3+0x2473*0x1+-0x39e2)+'ms'),_0x2d6d6e['update'](_0x423998),_0x2d6d6e['fire']('framerende'+'r'),(_0x2d6d6e['autoRender']||_0x2d6d6e['renderNext'+'Frame'])&&(w['trace'](Ld,'--\x20RenderS'+'tart\x20'+de()['toFixed'](-0x8*-0x17+-0xded+0xd37)+'ms'),_0x2d6d6e['render'](),_0x2d6d6e['renderNext'+'Frame']=!(0x1791*-0x1+-0x612+0x1da4),w['trace'](Ld,'--\x20RenderE'+'nd\x20'+de()['toFixed'](0x1814+0x74b+0x25*-0xd9)+'ms')),_0x2d6d6e['fire']('frameend')),_0x2d6d6e['_inFrameUp'+'date']=!(-0x5*0x397+-0xe71*-0x2+-0x1*0xaee),_0x2d6d6e['_destroyRe'+'quested']&&_0x2d6d6e['destroy']();};};class tL{constructor(){h(this,'elementInp'+'ut'),h(this,'keyboard'),h(this,'mouse'),h(this,'touch'),h(this,'gamepads'),h(this,'scriptPref'+'ix'),h(this,'assetPrefi'+'x'),h(this,'scriptsOrd'+'er'),h(this,'soundManag'+'er'),h(this,'graphicsDe'+'vice'),h(this,'lightmappe'+'r'),h(this,'batchManag'+'er'),h(this,'xr'),h(this,'componentS'+'ystems',[]),h(this,'resourceHa'+'ndlers',[]);}}const mo=new sp();class Uv{constructor(_0x9466f3,_0x137416,_0x1eb732){this['scene']=_0x9466f3,this['light']=_0x137416,this['store'](),_0x137416['numCascade'+'s']=-0x229c+-0x1*0xbc9+0x2e66,this['scene']['clusteredL'+'ightingEna'+'bled']&&!_0x1eb732['shadowsEna'+'bled']&&(_0x137416['castShadow'+'s']=!(0x2235+-0x17*0x5d+-0x19d9)),_0x137416['type']!==ve&&(_0x137416['_node']['getWorldTr'+'ansform'](),_0x137416['getBoundin'+'gSphere'](mo),this['lightBound'+'s']=new De(),this['lightBound'+'s']['center']['copy'](mo['center']),this['lightBound'+'s']['halfExtent'+'s']['set'](mo['radius'],mo['radius'],mo['radius']));}['store'](){this['mask']=this['light']['mask'],this['shadowUpda'+'teMode']=this['light']['shadowUpda'+'teMode'],this['enabled']=this['light']['enabled'],this['intensity']=this['light']['intensity'],this['rotation']=this['light']['_node']['getLocalRo'+'tation']()['clone'](),this['numCascade'+'s']=this['light']['numCascade'+'s'],this['castShadow'+'s']=this['light']['_castShado'+'ws'];}['restore'](){const _0x217bc7=this['light'];_0x217bc7['mask']=this['mask'],_0x217bc7['shadowUpda'+'teMode']=this['shadowUpda'+'teMode'],_0x217bc7['enabled']=this['enabled'],_0x217bc7['intensity']=this['intensity'],_0x217bc7['_node']['setLocalRo'+'tation'](this['rotation']),_0x217bc7['numCascade'+'s']=this['numCascade'+'s'],_0x217bc7['_castShado'+'ws']=this['castShadow'+'s'];}['startBake'](){this['light']['enabled']=!(-0xd*0x1d9+0x1f8e+-0x789),this['light']['_destroySh'+'adowMap'](),this['light']['beginFrame']();}['endBake'](_0x7479b5){const _0x367104=this['light'];_0x367104['enabled']=!(-0x215d+-0x5*0xeb+-0x29*-0xed),_0x367104['shadowMap']&&(_0x367104['shadowMap']['cached']&&_0x7479b5['add'](_0x367104,_0x367104['shadowMap']),_0x367104['shadowMap']=null);}}const yc=new J();class sL extends Uv{constructor(_0x1a88a0,_0xcf385e){super(_0x1a88a0['scene'],_0xcf385e,_0x1a88a0['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['type']===ve?this['light']['bakeNumSam'+'ples']:-0x17cd+0x1700+0xce;}['prepareVir'+'tualLight'](_0xc37b81,_0x1a2344){const _0xe4fd85=this['light'];if(_0xe4fd85['_node']['setLocalRo'+'tation'](this['rotation']),_0xc37b81>0x9*0xb+-0xa6b+-0x1ac*-0x6){const _0x55aa06=_0xe4fd85['bakeArea'];Nl['circlePoin'+'tDetermini'+'stic'](yc,_0xc37b81,_0x1a2344),yc['mulScalar'](_0x55aa06*(-0x151*-0x7+0x155*0x1+-0x4*0x2a3+0.5)),_0xe4fd85['_node']['rotateLoca'+'l'](yc['x'],-0x199*-0x9+0x2439+-0x329a,yc['y']);}_0xe4fd85['_node']['getWorldTr'+'ansform']();const _0x3bd925=0x36a*-0xb+-0x5e6+-0x2b76*-0x1+0.20000000000000018,_0x384906=Math['pow'](this['intensity'],_0x3bd925);_0xe4fd85['intensity']=Math['pow'](_0x384906/_0x1a2344,(-0x26fc+0x509+-0x1*-0x21f4)/_0x3bd925);}}const Pg=new D();class Mg extends Uv{constructor(_0x3067f8){const _0x55157f=_0x3067f8['scene'],_0x563767=new lt('AmbientLig'+'ht');_0x563767['addCompone'+'nt']('light',{'type':'directiona'+'l','affectDynamic':!(-0x607+0x1793+0x118c*-0x1),'affectLightmapped':!(-0x1d0b*-0x1+-0x1*0x1fd+-0x5*0x569),'bake':!(0x229d+-0x1a18+-0x2d7*0x3),'bakeNumSamples':_0x55157f['ambientBak'+'eNumSample'+'s'],'castShadows':!(-0x8c0+0xd9b+-0x4db),'normalOffsetBias':0.05,'shadowBias':0.2,'shadowDistance':0x1,'shadowResolution':0x800,'shadowType':$s,'color':ie['WHITE'],'intensity':0x1,'bakeDir':!(-0xd*0x65+-0xd9*0x4+0x886)}),super(_0x55157f,_0x563767['light']['light'],_0x3067f8['lightingPa'+'rams']);}get['numVirtual'+'Lights'](){return this['light']['bakeNumSam'+'ples'];}['prepareVir'+'tualLight'](_0x439d73,_0x2a5cd1){Nl['spherePoin'+'tDetermini'+'stic'](Pg,_0x439d73,_0x2a5cd1,0x23a2+0x2*-0x1312+0x282,this['scene']['ambientBak'+'eSpherePar'+'t']),this['light']['_node']['lookAt'](Pg['mulScalar'](-(-0x449*-0x2+0x205c+0x28ed*-0x1))),this['light']['_node']['rotateLoca'+'l'](0x80d+0x1c6f+-0x2422,-0x1c2e+-0x1dbb+0x39e9,-0x2454+-0x1bb*0xc+0x3918);const _0xff0fca=0x12f6+-0xd3e+-0x5b6+0.20000000000000018,_0x351ab7=(0x5*0x15b+0x57e+-0xc43)*Math['PI']*this['scene']['ambientBak'+'eSpherePar'+'t'],_0x25ceb5=Math['pow'](_0x351ab7,_0xff0fca);this['light']['intensity']=Math['pow'](_0x25ceb5/_0x2a5cd1,(0x1*0x124b+0x21c2+-0xd03*0x4)/_0xff0fca);}}class vc{constructor(_0x1d8371,_0x28e837=null){this['node']=_0x1d8371,this['component']=_0x1d8371['render']||_0x1d8371['model'],_0x28e837=_0x28e837||this['component']['meshInstan'+'ces'],this['store'](),this['meshInstan'+'ces']=_0x28e837,this['bounds']=null,this['renderTarg'+'ets']=[];}['store'](){this['castShadow'+'s']=this['component']['castShadow'+'s'];}['restore'](){this['component']['castShadow'+'s']=this['castShadow'+'s'];}}const iL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afl'+'oat\x20normpd'+'f3(in\x20vec3'+'\x20v,\x20in\x20flo'+'at\x20sigma)\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x200.39894'+'\x20*\x20exp(-0.'+'5\x20*\x20dot(v,'+'\x20v)\x20/\x20(sig'+'ma\x20*\x20sigma'+'))\x20/\x20sigma'+';\x0a}\x0a\x0avec3\x20'+'decodeRGBM'+'(vec4\x20rgbm'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20color\x20='+'\x20(8.0\x20*\x20rg'+'bm.a)\x20*\x20rg'+'bm.rgb;\x0a\x20\x20'+'\x20\x20return\x20c'+'olor\x20*\x20col'+'or;\x0a}\x0a\x0aflo'+'at\x20saturat'+'e(float\x20x)'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0avec'+'4\x20encodeRG'+'BM(vec3\x20co'+'lor)\x20{\x20//\x20'+'modified\x20R'+'GBM\x0a\x20\x20\x20\x20ve'+'c4\x20encoded'+';\x0a\x20\x20\x20\x20enco'+'ded.rgb\x20=\x20'+'pow(color.'+('rgb,\x20vec3('+'0.5));\x0a\x20\x20\x20'+'\x20encoded.r'+'gb\x20*=\x201.0\x20'+'/\x208.0;\x0a\x0a\x20\x20'+'\x20\x20encoded.'+'a\x20=\x20satura'+'te(\x20max(\x20m'+'ax(\x20encode'+'d.r,\x20encod'+'ed.g\x20),\x20ma'+'x(\x20encoded'+'.b,\x201.0\x20/\x20'+'255.0\x20)\x20)\x20'+');\x0a\x20\x20\x20\x20enc'+'oded.a\x20=\x20c'+'eil(encode'+'d.a\x20*\x20255.'+'0)\x20/\x20255.0'+';\x0a\x0a\x20\x20\x20\x20enc'+'oded.rgb\x20/'+'=\x20encoded.'+'a;\x0a\x20\x20\x20\x20ret'+'urn\x20encode'+'d;\x0a}\x0a\x0avec3'+'\x20decode(ve'+'c4\x20pixel)\x20'+'{\x0a\x20\x20\x20\x20#if\x20'+'HDR\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20p'+'ixel.rgb;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20decod'+'eRGBM(pixe'+'l);\x0a\x20\x20\x20\x20#e'+'ndif\x0a}\x0a\x0abo'+'ol\x20isUsed('+'vec4\x20pixel'+')\x20{\x0a\x20\x20\x20\x20#i'+'f\x20HDR\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20any(great'+'erThan(pix'+'el.rgb,\x20ve'+'c3(0.0)));'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20pixe'+'l.a\x20>\x200.0;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a}\x0a\x0avaryi'+'ng\x20vec2\x20vU'+'v0;\x0aunifor'+'m\x20sampler2'+'D\x20source;\x0a'+'uniform\x20ve'+'c2\x20pixelOf'+'fset;\x0aunif'+'orm\x20vec2\x20s'+'igmas;\x0auni'+'form\x20float'+'\x20bZnorm;\x0au'+'niform\x20flo'+'at\x20kernel['+'{MSIZE}];\x0a'+'\x0avoid\x20main'+'(void)\x20{\x0a\x20'+'\x20\x20\x20\x0a\x20\x20\x20\x20ve'+'c4\x20pixel\x20='+'\x20texture2D'+'Lod(source'+',\x20vUv0,\x200.'+'0);\x0a\x0a\x20\x20\x20\x20/'+'/\x20lightmap'+'\x20specific\x20'+'optimizati'+'on\x20-\x20skip\x20'+'pixels\x20tha'+'t\x20were\x20not'+'\x20baked\x0a\x20\x20\x20'+'\x20//\x20this\x20a'+'lso\x20allows'+'\x20dilate\x20fi'+'lter\x20that\x20'+'work\x20on\x20th'+'e\x20output\x20o'+'f\x20this\x20to\x20'+'work\x20corre'+'ctly,\x20as\x20i'+'t\x20depends\x20'+'on\x20.a\x20bein'+'g\x20zero\x0a\x20\x20\x20'+'\x20//\x20to\x20dil'+'ate,\x20which'+'\x20the\x20follo'+'wing\x20blur\x20'+'filter\x20wou'+'ld\x20otherwi'+'se\x20modify\x0a')+('\x20\x20\x20\x20if\x20(!i'+'sUsed(pixe'+'l))\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20p'+'ixel;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20return'+'\x20;\x0a\x20\x20\x20\x20}\x0a\x0a'+'\x20\x20\x20\x20//\x20ran'+'ge\x20sigma\x20-'+'\x20controls\x20'+'blurriness'+'\x20based\x20on\x20'+'a\x20pixel\x20di'+'stance\x0a\x20\x20\x20'+'\x20float\x20sig'+'ma\x20=\x20sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'float\x20bSig'+'ma\x20=\x20sigma'+'s.y;\x0a\x0a\x20\x20\x20\x20'+'vec3\x20pixel'+'Hdr\x20=\x20deco'+'de(pixel);'+'\x0a\x20\x20\x20\x20vec3\x20'+'accumulate'+'dHdr\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20float\x20ac'+'cumulatedF'+'actor\x20=\x200.'+'000001;\x20\x20/'+'/\x20avoid\x20di'+'vision\x20by\x20'+'zero\x0a\x0a\x20\x20\x20\x20'+'//\x20read\x20ou'+'t\x20the\x20texe'+'ls\x0a\x20\x20\x20\x20con'+'st\x20int\x20kSi'+'ze\x20=\x20({MSI'+'ZE}\x20-\x201)\x20/'+'\x202;\x0a\x20\x20\x20\x20fo'+'r\x20(int\x20i\x20='+'\x20-kSize;\x20i'+'\x20<=\x20kSize;'+'\x20++i)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(int\x20j\x20=\x20-'+'kSize;\x20j\x20<'+'=\x20kSize;\x20+'+'+j)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20//\x20sample'+'\x20the\x20pixel'+'\x20with\x20offs'+'et\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20vec2\x20'+'coord\x20=\x20vU'+'v0\x20+\x20vec2('+'float(i),\x20'+'float(j))\x20'+'*\x20pixelOff'+'set;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20pix\x20=\x20te'+'xture2DLod'+'(source,\x20c'+'oord,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20li'+'ghtmap\x20-\x20o'+'nly\x20use\x20ba'+'ked\x20pixels'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20if\x20(isU'+'sed(pix))\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20hdr\x20=\x20d'+'ecode(pix)'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20bilatera'+'l\x20factors\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20floa'+'t\x20factor\x20='+'\x20kernel[kS'+'ize\x20+\x20j]\x20*'+'\x20kernel[kS')+('ize\x20+\x20i];\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20fact'+'or\x20*=\x20norm'+'pdf3(hdr\x20-'+'\x20pixelHdr,'+'\x20bSigma)\x20*'+'\x20bZnorm;\x0a\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20a'+'ccumulate\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20accu'+'mulatedHdr'+'\x20+=\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20+=\x20facto'+'r;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20}\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20finalHD'+'R\x20=\x20accumu'+'latedHdr\x20/'+'\x20accumulat'+'edFactor;\x0a'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(finalHDR,'+'\x201.0);\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20gl_Fr'+'agColor\x20=\x20'+'encodeRGBM'+'(finalHDR)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a}\x0a'),rL='\x0a\x0avarying\x20'+'vec2\x20vUv0;'+'\x0a\x0auniform\x20'+'sampler2D\x20'+'source;\x0aun'+'iform\x20vec2'+'\x20pixelOffs'+'et;\x0a\x0abool\x20'+'isUsed(vec'+'4\x20pixel)\x20{'+'\x0a\x20\x20\x20\x20#if\x20H'+'DR\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20an'+'y(greaterT'+'han(pixel.'+'rgb,\x20vec3('+'0.0)));\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20retu'+'rn\x20pixel.a'+'\x20>\x200.0;\x0a\x20\x20'+'\x20\x20#endif\x0a}'+'\x0a\x0avoid\x20mai'+'n(void)\x20{\x0a'+'\x20\x20\x20\x20vec4\x20c'+'\x20=\x20texture'+'2DLod(sour'+'ce,\x20vUv0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'c\x20=\x20isUsed'+'(c)\x20?\x20c\x20:\x20'+'texture2DL'+'od(source,'+'\x20vUv0\x20-\x20pi'+'xelOffset,'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20v'+'ec2(0,\x20-pi'+'xelOffset.'+'y),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(pix'+'elOffset.x'+',\x20-pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(-pixelOf'+'fset.x,\x200)'+',\x200.0);\x0a\x20\x20'+'\x20\x20c\x20=\x20isUs'+'ed(c)\x20?\x20c\x20'+':\x20texture2'+'DLod(sourc'+'e,\x20vUv0\x20+\x20'+'vec2(pixel'+'Offset.x,\x20'+'0),\x200.0);\x0a'+'\x20\x20\x20\x20c\x20=\x20is'+'Used(c)\x20?\x20'+'c\x20:\x20textur'+'e2DLod(sou'+'rce,\x20vUv0\x20'+'+\x20vec2(-pi'+'xelOffset.'+'x,\x20pixelOf'+'fset.y),\x200'+'.0);\x0a\x20\x20\x20\x20c'+'\x20=\x20isUsed('+'c)\x20?\x20c\x20:\x20t'+'exture2DLo'+'d(source,\x20'+'vUv0\x20+\x20vec'+'2(0,\x20pixel'+'Offset.y),'+'\x200.0);\x0a\x20\x20\x20'+'\x20c\x20=\x20isUse'+'d(c)\x20?\x20c\x20:'+'\x20texture2D'+'Lod(source'+',\x20vUv0\x20+\x20p'+'ixelOffset'+',\x200.0);\x0a\x20\x20'+'\x20\x20gl_FragC'+'olor\x20=\x20c;\x0a'+'}\x0a',aL='\x0a//\x20bilate'+'ral\x20filter'+',\x20based\x20on'+'\x20https://w'+'ww.shadert'+'oy.com/vie'+'w/4dfGDH#\x20'+'and\x0a//\x20htt'+'p://people'+'.csail.mit'+'.edu/spari'+'s/bf_cours'+'e/course_n'+'otes.pdf\x0a\x0a'+'//\x20A\x20bilat'+'eral\x20filte'+'r\x20is\x20a\x20non'+'-linear,\x20e'+'dge-preser'+'ving,\x20and\x20'+'noise-redu'+'cing\x20smoot'+'hing\x20filte'+'r\x20for\x20imag'+'es.\x0a//\x20It\x20'+'replaces\x20t'+'he\x20intensi'+'ty\x20of\x20each'+'\x20pixel\x20wit'+'h\x20a\x20weight'+'ed\x20average'+'\x20of\x20intens'+'ity\x20values'+'\x20from\x20near'+'by\x20pixels.'+'\x0a//\x20This\x20w'+'eight\x20can\x20'+'be\x20based\x20o'+'n\x20a\x20Gaussi'+'an\x20distrib'+'ution.\x20Cru'+'cially,\x20th'+'e\x20weights\x20'+'depend\x20not'+'\x20only\x20on\x0a/'+'/\x20Euclidea'+'n\x20distance'+'\x20of\x20pixels'+',\x20but\x20also'+'\x20on\x20the\x20ra'+'diometric\x20'+'difference'+'s\x20(e.g.,\x20r'+'ange\x20diffe'+'rences,\x20su'+'ch\x0a//\x20as\x20c'+'olor\x20inten'+'sity,\x20dept'+'h\x20distance'+',\x20etc.).\x20T'+'his\x20preser'+'ves\x20sharp\x20'+'edges.\x0a\x0afn'+'\x20normpdf3('+'v:\x20vec3f,\x20'+'sigma:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x200.39894\x20'+'*\x20exp(-0.5'+'\x20*\x20dot(v,\x20'+'v)\x20/\x20(sigm'+'a\x20*\x20sigma)'+')\x20/\x20sigma;'+'\x0a}\x0a\x0afn\x20dec'+'odeRGBM(rg'+'bm:\x20vec4f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'color\x20=\x20(8'+'.0\x20*\x20rgbm.'+'a)\x20*\x20rgbm.'+'rgb;\x0a\x20\x20\x20\x20r'+'eturn\x20colo'+'r\x20*\x20color;'+'\x0a}\x0a\x0afn\x20sat'+'urate(x:\x20f'+'32)\x20->\x20f32'+'\x20{\x0a\x20\x20\x20\x20ret'+'urn\x20clamp('+'x,\x200.0,\x201.'+'0);\x0a}\x0a\x0afn\x20'+'encodeRGBM'+'(color:\x20ve'+'c3f)\x20->\x20ve'+'c4f\x20{\x0a\x20\x20\x20\x20'+'var\x20encode'+'d:\x20vec4f;\x0a'+'\x20\x20\x20\x20let\x20rg'+'b_processe'+('d\x20=\x20pow(co'+'lor.rgb,\x20v'+'ec3f(0.5))'+'\x20*\x20(1.0\x20/\x20'+'8.0);\x0a\x20\x20\x20\x20'+'encoded\x20=\x20'+'vec4f(rgb_'+'processed,'+'\x200.0);\x0a\x0a\x20\x20'+'\x20\x20let\x20max_'+'g_b\x20=\x20max('+'\x20encoded.g'+',\x20max(\x20enc'+'oded.b,\x201.'+'0\x20/\x20255.0\x20'+')\x20);\x0a\x20\x20\x20\x20l'+'et\x20max_rgb'+'\x20=\x20max(\x20en'+'coded.r,\x20m'+'ax_g_b\x20);\x0a'+'\x20\x20\x20\x20encode'+'d.a\x20=\x20clam'+'p(max_rgb,'+'\x200.0,\x201.0)'+';\x0a\x20\x20\x20\x20enco'+'ded.a\x20=\x20ce'+'il(encoded'+'.a\x20*\x20255.0'+')\x20/\x20255.0;'+'\x0a\x0a\x20\x20\x20\x20enco'+'ded\x20=\x20vec4'+'f(encoded.'+'rgb\x20/\x20enco'+'ded.a,\x20enc'+'oded.a);\x0a\x20'+'\x20\x20\x20return\x20'+'encoded;\x0a}'+'\x0a\x0afn\x20decod'+'e(pixel:\x20v'+'ec4f)\x20->\x20v'+'ec3f\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20pixel.'+'rgb;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'decodeRGBM'+'(pixel);\x0a\x20'+'\x20\x20\x20#endif\x0a'+'}\x0a\x0afn\x20isUs'+'ed(pixel:\x20'+'vec4f)\x20->\x20'+'bool\x20{\x0a\x20\x20\x20'+'\x20#if\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0avar'+'ying\x20vUv0:'+'\x20vec2f;\x0ava'+'r\x20source:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20sourceSam'+'pler:\x20samp'+'ler;\x0aunifo'+'rm\x20kernel:'+'\x20array<f32'+',\x20{MSIZE}>'+';\x0auniform\x20'+'pixelOffse'+'t:\x20vec2f;\x0a'+'uniform\x20si'+'gmas:\x20vec2'+'f;\x0auniform'+'\x20bZnorm:\x20f'+'32;\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20pixel\x20'+'=\x20textureS'+'ampleLevel'+'(source,\x20s'+'ourceSampl'+'er,\x20input.')+('vUv0,\x200.0)'+';\x0a\x0a\x20\x20\x20\x20//\x20'+'lightmap\x20s'+'pecific\x20op'+'timization'+'\x20-\x20skip\x20pi'+'xels\x20that\x20'+'were\x20not\x20b'+'aked\x0a\x20\x20\x20\x20/'+'/\x20this\x20als'+'o\x20allows\x20d'+'ilate\x20filt'+'er\x20that\x20wo'+'rk\x20on\x20the\x20'+'output\x20of\x20'+'this\x20to\x20wo'+'rk\x20correct'+'ly,\x20as\x20it\x20'+'depends\x20on'+'\x20.a\x20being\x20'+'zero\x0a\x20\x20\x20\x20/'+'/\x20to\x20dilat'+'e,\x20which\x20t'+'he\x20followi'+'ng\x20blur\x20fi'+'lter\x20would'+'\x20otherwise'+'\x20modify\x0a\x20\x20'+'\x20\x20if\x20(!isU'+'sed(pixel)'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.c'+'olor\x20=\x20pix'+'el;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20//'+'\x20range\x20sig'+'ma\x20-\x20contr'+'ols\x20blurri'+'ness\x20based'+'\x20on\x20a\x20pixe'+'l\x20distance'+'\x0a\x20\x20\x20\x20let\x20s'+'igma\x20=\x20uni'+'form.sigma'+'s.x;\x0a\x0a\x20\x20\x20\x20'+'//\x20domain\x20'+'sigma\x20-\x20co'+'ntrols\x20blu'+'rriness\x20ba'+'sed\x20on\x20a\x20p'+'ixel\x20simil'+'arity\x20(to\x20'+'preserve\x20e'+'dges)\x0a\x20\x20\x20\x20'+'let\x20bSigma'+'\x20=\x20uniform'+'.sigmas.y;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'pixelHdr\x20='+'\x20decode(pi'+'xel);\x0a\x20\x20\x20\x20'+'var\x20accumu'+'latedHdr\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20var'+'\x20accumulat'+'edFactor\x20='+'\x200.000001;'+'\x20\x20//\x20avoid'+'\x20division\x20'+'by\x20zero\x0a\x0a\x20'+'\x20\x20\x20//\x20read'+'\x20out\x20the\x20t'+'exels\x0a\x20\x20\x20\x20'+'const\x20kSiz'+'e\x20=\x20({MSIZ'+'E}\x20-\x201)\x20/\x20'+'2;\x0a\x20\x20\x20\x20for'+'\x20(var\x20i:\x20i'+'32\x20=\x20-kSiz'+'e;\x20i\x20<=\x20kS'+'ize;\x20i\x20=\x20i'+'\x20+\x201)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20for\x20'+'(var\x20j:\x20i3'+'2\x20=\x20-kSize'+';\x20j\x20<=\x20kSi'+'ze;\x20j\x20=\x20j\x20'+'+\x201)\x20{\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20sample\x20'+'the\x20pixel\x20'+'with\x20offse'+'t\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20co'+'ord\x20=\x20inpu'+'t.vUv0\x20+\x20v'+'ec2f(f32(i')+('),\x20f32(j))'+'\x20*\x20uniform'+'.pixelOffs'+'et;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20let\x20'+'pix\x20=\x20text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20co'+'ord,\x200.0);'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20//\x20lig'+'htmap\x20-\x20on'+'ly\x20use\x20bak'+'ed\x20pixels\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(isUs'+'ed(pix))\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20let'+'\x20hdr\x20=\x20dec'+'ode(pix);\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'bilateral\x20'+'factors\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20var\x20fa'+'ctor\x20=\x20uni'+'form.kerne'+'l[u32(kSiz'+'e\x20+\x20j)].el'+'ement\x20*\x20un'+'iform.kern'+'el[u32(kSi'+'ze\x20+\x20i)].e'+'lement;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20factor'+'\x20=\x20factor\x20'+'*\x20normpdf3'+'(hdr\x20-\x20pix'+'elHdr,\x20bSi'+'gma)\x20*\x20uni'+'form.bZnor'+'m;\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'//\x20accumul'+'ate\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'accumulate'+'dHdr\x20=\x20acc'+'umulatedHd'+'r\x20+\x20factor'+'\x20*\x20hdr;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20accumu'+'latedFacto'+'r\x20=\x20accumu'+'latedFacto'+'r\x20+\x20factor'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20}\x0a\x20\x20\x20\x20'+'}\x0a\x0a\x20\x20\x20\x20let'+'\x20finalHDR\x20'+'=\x20accumula'+'tedHdr\x20/\x20a'+'ccumulated'+'Factor;\x0a\x0a\x20'+'\x20\x20\x20#if\x20HDR'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.colo'+'r\x20=\x20vec4f('+'finalHDR,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.color\x20=\x20e'+'ncodeRGBM('+'finalHDR);'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a'),nL='\x0a\x0avarying\x20'+'vUv0:\x20vec2'+'f;\x0a\x0avar\x20so'+'urce:\x20text'+'ure_2d<f32'+'>;\x0avar\x20sou'+'rceSampler'+':\x20sampler;'+'\x0auniform\x20p'+'ixelOffset'+':\x20vec2f;\x0a\x0a'+'fn\x20isUsed('+'pixel:\x20vec'+'4f)\x20->\x20boo'+'l\x20{\x0a\x20\x20\x20\x20#i'+'fdef\x20HDR\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20ret'+'urn\x20any(pi'+'xel.rgb\x20>\x20'+'vec3f(0.0)'+');\x0a\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20pi'+'xel.a\x20>\x200.'+'0;\x0a\x20\x20\x20\x20#en'+'dif\x0a}\x0a\x0a@fr'+'agment\x0afn\x20'+'fragmentMa'+'in(input:\x20'+'FragmentIn'+'put)\x20->\x20Fr'+'agmentOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20c:\x20vec4'+'f\x20=\x20textur'+'eSampleLev'+'el(source,'+'\x20sourceSam'+'pler,\x20inpu'+'t.vUv0,\x200.'+'0);\x0a\x20\x20\x20\x20c\x20'+'=\x20select(t'+'extureSamp'+'leLevel(so'+'urce,\x20sour'+'ceSampler,'+'\x20input.vUv'+'0\x20-\x20unifor'+'m.pixelOff'+'set,\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20-un'+'iform.pixe'+'lOffset.y)'+',\x200.0),\x20c,'+'\x20isUsed(c)'+');\x0a\x20\x20\x20\x20c\x20='+'\x20select(te'+'xtureSampl'+'eLevel(sou'+'rce,\x20sourc'+'eSampler,\x20'+'input.vUv0'+'\x20+\x20vec2f(u'+'niform.pix'+'elOffset.x'+',\x20-uniform'+'.pixelOffs'+'et.y),\x200.0'+'),\x20c,\x20isUs'+'ed(c));\x0a\x20\x20'+'\x20\x20c\x20=\x20sele'+'ct(texture'+'SampleLeve'+'l(source,\x20'+'sourceSamp'+'ler,\x20input'+'.vUv0\x20+\x20ve'+'c2f(-unifo'+'rm.pixelOf'+'fset.x,\x200.'+'0),\x200.0),\x20'+'c,\x20isUsed('+'c));\x0a\x20\x20\x20\x20c'+'\x20=\x20select('+'textureSam'+'pleLevel(s'+'ource,\x20sou'+'rceSampler'+',\x20input.vU'+'v0\x20+\x20vec2f'+'(uniform.p'+('ixelOffset'+'.x,\x200.0),\x20'+'0.0),\x20c,\x20i'+'sUsed(c));'+'\x0a\x20\x20\x20\x20c\x20=\x20s'+'elect(text'+'ureSampleL'+'evel(sourc'+'e,\x20sourceS'+'ampler,\x20in'+'put.vUv0\x20+'+'\x20vec2f(-un'+'iform.pixe'+'lOffset.x,'+'\x20uniform.p'+'ixelOffset'+'.y),\x200.0),'+'\x20c,\x20isUsed'+'(c));\x0a\x20\x20\x20\x20'+'c\x20=\x20select'+'(textureSa'+'mpleLevel('+'source,\x20so'+'urceSample'+'r,\x20input.v'+'Uv0\x20+\x20vec2'+'f(0.0,\x20uni'+'form.pixel'+'Offset.y),'+'\x200.0),\x20c,\x20'+'isUsed(c))'+';\x0a\x20\x20\x20\x20c\x20=\x20'+'select(tex'+'tureSample'+'Level(sour'+'ce,\x20source'+'Sampler,\x20i'+'nput.vUv0\x20'+'+\x20uniform.'+'pixelOffse'+'t,\x200.0),\x20c'+',\x20isUsed(c'+'));\x0a\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20FragmentO'+'utput;\x0a\x20\x20\x20'+'\x20output.co'+'lor\x20=\x20c;\x0a\x20'+'\x20\x20\x20return\x20'+'output;\x0a}\x0a'),Dg=0x51f+-0x1a8b+0x157b,oL={'glslBilateralDeNoisePS':iL,'glslDilatePS':rL},lL={'wgslBilateralDeNoisePS':aL,'wgslDilatePS':nL};class cL{constructor(_0x208a8e){h(this,'shaderDila'+'te',[]),h(this,'shaderDeno'+'ise',[]),(this['device']=_0x208a8e,Pe['get'](this['device'],Fe)['add'](oL),Pe['get'](this['device'],it)['add'](lL),this['constantTe'+'xSource']=_0x208a8e['scope']['resolve']('source'),this['constantPi'+'xelOffset']=_0x208a8e['scope']['resolve']('pixelOffse'+'t'),this['pixelOffse'+'t']=new Float32Array(-0x3df*-0x3+0x27*0x15+0x1*-0xece),this['sigmas']=null,this['constantSi'+'gmas']=null,this['kernel']=null);}['setSourceT'+'exture'](_0x40e842){this['constantTe'+'xSource']['setValue'](_0x40e842);}['prepare'](_0x2de52d,_0x54b7dd){this['pixelOffse'+'t'][0x9fe+-0x194b+0xf4d]=(-0x20c8*-0x1+-0x1008+-0x10bf)/_0x2de52d,this['pixelOffse'+'t'][-0x24ba+0x1609+0x16*0xab]=(-0x1815+-0x204b+0x11*0x351)/_0x54b7dd,this['constantPi'+'xelOffset']['setValue'](this['pixelOffse'+'t']);}['prepareDen'+'oise'](_0x320f2d,_0x1da249,_0x2b95e5){const _0x1e8f2a=_0x2b95e5?0x61*-0x1f+-0x8f1+0x14b0:0x129c+0x2149+-0x33e4;if(!this['shaderDeno'+'ise'][_0x1e8f2a]){const _0x21b509=new Map();_0x21b509['set']('{MSIZE}',0x1d6c+-0x171e*0x1+-0x63f),_0x2b95e5&&_0x21b509['set']('HDR',''),this['shaderDeno'+'ise'][_0x1e8f2a]=$t['createShad'+'er'](this['device'],{'uniqueName':'lmBilatera'+'lDeNoise-'+(_0x2b95e5?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':Pe['get'](this['device'],Fe)['get']('glslBilate'+'ralDeNoise'+'PS'),'fragmentWGSL':Pe['get'](this['device'],it)['get']('wgslBilate'+'ralDeNoise'+'PS'),'fragmentDefines':_0x21b509}),this['sigmas']=new Float32Array(0x1*0x567+-0x44d+0xe*-0x14),this['constantSi'+'gmas']=this['device']['scope']['resolve']('sigmas'),this['constantKe'+'rnel']=this['device']['scope']['resolve']('kernel[0]'),this['bZnorm']=this['device']['scope']['resolve']('bZnorm');}this['sigmas'][0x89e*0x1+-0x7*0x422+0x1450]=_0x320f2d,this['sigmas'][0x2166+0xfc4+0x5*-0x9d5]=_0x1da249,this['constantSi'+'gmas']['setValue'](this['sigmas']),this['evaluateDe'+'noiseUnifo'+'rms'](_0x320f2d,_0x1da249);}['getDenoise'](_0x1f61ce){const _0x2042b1=_0x1f61ce?-0x12f9+0x257e+-0x1285:-0x64f*0x6+-0x2014+0x45ef;return this['shaderDeno'+'ise'][_0x2042b1];}['getDilate'](_0x2fefe0,_0x8a2948){const _0x3a7930=_0x8a2948?0xa*0x243+0x3*0xbcf+-0x3a0b:-0x1674+-0x1f71+0x35e6;if(!this['shaderDila'+'te'][_0x3a7930]){const _0x5105a1=_0x8a2948?'#define\x20HD'+'R\x0a':'';this['shaderDila'+'te'][_0x3a7930]=$t['createShad'+'er'](_0x2fefe0,{'uniqueName':'lmDilate-'+(_0x8a2948?'hdr':'rgbm'),'attributes':{'vertex_position':Me},'vertexGLSL':Pe['get'](this['device'],Fe)['get']('fullscreen'+'QuadVS'),'vertexWGSL':Pe['get'](this['device'],it)['get']('fullscreen'+'QuadVS'),'fragmentGLSL':_0x5105a1+Pe['get'](this['device'],Fe)['get']('glslDilate'+'PS'),'fragmentWGSL':_0x5105a1+Pe['get'](this['device'],it)['get']('wgslDilate'+'PS')});}return this['shaderDila'+'te'][_0x3a7930];}['evaluateDe'+'noiseUnifo'+'rms'](_0x4c21be,_0x447d79){function _0xfa5d2b(_0x27e952,_0x20d522){return(0xdbf+-0x4*0x955+0x1*0x1795+0.39894)*Math['exp'](-(-0x24d8+-0x230b+0x47e3+0.5)*_0x27e952*_0x27e952/(_0x20d522*_0x20d522))/_0x20d522;}this['kernel']=this['kernel']||new Float32Array(Dg);const _0x36f3c9=this['kernel'],_0x4cdb12=Math['floor']((Dg-(-0x191*0x1+0x26ee+-0x255c))/(0xbc*0x1+0xa6e+-0xb28));for(let _0x31fd1b=-0x25f*-0xc+-0x802+-0x1472*0x1;_0x31fd1b<=_0x4cdb12;++_0x31fd1b){const _0x24f9e4=_0xfa5d2b(_0x31fd1b,_0x4c21be);_0x36f3c9[_0x4cdb12+_0x31fd1b]=_0x24f9e4,_0x36f3c9[_0x4cdb12-_0x31fd1b]=_0x24f9e4;}this['constantKe'+'rnel']['setValue'](this['kernel']);const _0x1c071d=(-0x2*-0x71b+-0x4*0x6fd+-0x187*-0x9)/_0xfa5d2b(0x1601*0x1+-0x1082+-0x57f,_0x447d79);this['bZnorm']['setValue'](_0x1c071d);}}class hL extends ys{constructor(_0x594887,_0x3de073,_0x141423,_0x3874dd,_0x1f9a62,_0x3ddc6d){super(_0x594887),h(this,'viewBindGr'+'oups',[]),(this['renderer']=_0x3de073,this['camera']=_0x141423,this['worldClust'+'ers']=_0x3874dd,this['receivers']=_0x1f9a62,this['lightArray']=_0x3ddc6d);}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0x394d20=>{_0x394d20['defaultUni'+'formBuffer']['destroy'](),_0x394d20['destroy']();}),this['viewBindGr'+'oups']['length']=-0x1715*-0x1+0x2*-0xec3+0x671;}['execute'](){const _0x3e06e8=this['device'];Q['pushGpuMar'+'ker'](_0x3e06e8,'Lightmappe'+'r');const {renderer:_0x540a05,camera:_0x4da331,receivers:_0x33b657,renderTarget:_0x14f1f2,worldClusters:_0x1f28a4,lightArray:_0x18728e}=this;_0x540a05['renderForw'+'ardLayer'](_0x4da331,_0x14f1f2,null,void(0x190f+-0x1*-0x14a3+-0x2db2),Aa,this['viewBindGr'+'oups'],{'meshInstances':_0x33b657,'splitLights':_0x18728e,'lightClusters':_0x1f28a4}),Q['popGpuMark'+'er'](_0x3e06e8);}}const dL=-0x16b9+-0xdc9+0x1a6*0x1b,fL=0x200a+0x185d*0x1+-0x3867,uL=0x1*0x1114+-0x3*-0x76+-0x1275,xc=new D();class pL{constructor(_0x415f97,_0x17a2c0,_0x29c5c8,_0x293597,_0x158090){this['device']=_0x415f97,this['root']=_0x17a2c0,this['scene']=_0x29c5c8,this['renderer']=_0x293597,this['assets']=_0x158090,this['shadowMapC'+'ache']=_0x293597['shadowMapC'+'ache'],this['_tempSet']=new Set(),this['_initCalle'+'d']=!(0xde5*-0x1+-0x1e14+0xd*0x362),this['passMateri'+'als']=[],this['ambientAOM'+'aterial']=null,this['fog']='',this['ambientLig'+'ht']=new ie(),this['renderTarg'+'ets']=new Map(),this['stats']={'renderPasses':0x0,'lightmapCount':0x0,'totalRenderTime':0x0,'forwardTime':0x0,'fboTime':0x0,'shadowMapTime':0x0,'compileTime':0x0,'shadersLinked':0x0};}['destroy'](){var _0x1edb12;zi['decRef'](this['blackTex']),this['blackTex']=null,zi['destroy'](),this['device']=null,this['root']=null,this['scene']=null,this['renderer']=null,this['assets']=null,(_0x1edb12=this['camera'])==null||_0x1edb12['destroy'](),this['camera']=null;}['initBake'](_0x272577){if(this['bakeHDR']=this['scene']['lightmapPi'+'xelFormat']!==Ne,!this['_initCalle'+'d']){this['_initCalle'+'d']=!(0x1*0x1d35+0x166*0x2+-0x1*0x2001),this['lightmapFi'+'lters']=new cL(_0x272577),this['constantBa'+'keDir']=_0x272577['scope']['resolve']('bakeDir'),this['materials']=[],this['blackTex']=new _e(this['device'],{'width':0x4,'height':0x4,'format':Ne,'type':Zi,'name':'lightmapBl'+'ack'}),zi['incRef'](this['blackTex']);const _0x1a73ee=new Fl();_0x1a73ee['clearColor']['set'](-0x1ae6+-0x1312*0x2+0x410a,0x1*-0x13b+0xcf*0x1f+0x3f9*-0x6,-0x5*0x25d+-0xd2b*0x1+0x18fc,-0x1*0xbb+-0x1*0x3b3+0x46e),_0x1a73ee['clearColor'+'Buffer']=!(0x1cb2*0x1+0x1aa1*-0x1+-0x211),_0x1a73ee['clearDepth'+'Buffer']=!(-0x823*-0x4+0x77*0x45+-0x409e),_0x1a73ee['clearStenc'+'ilBuffer']=!(-0x205d+0xfe*0x10+-0x1*-0x107e),_0x1a73ee['frustumCul'+'ling']=!(-0x1*-0x2d+0x319+-0x345),_0x1a73ee['projection']=En,_0x1a73ee['aspectRati'+'o']=0x1*-0x767+0x1ba4+-0x143c,_0x1a73ee['node']=new Ie(),this['camera']=_0x1a73ee,this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=Ll,this['camera']['shaderPara'+'ms']['toneMappin'+'g']=sm;}if(this['scene']['clusteredL'+'ightingEna'+'bled']){const _0x1145bf=new Mv(_0x272577['supportsAr'+'eaLights'],_0x272577['maxTexture'+'Size'],()=>{});this['lightingPa'+'rams']=_0x1145bf;const _0x5588dc=this['scene']['lighting'];_0x1145bf['shadowsEna'+'bled']=_0x5588dc['shadowsEna'+'bled'],_0x1145bf['shadowAtla'+'sResolutio'+'n']=_0x5588dc['shadowAtla'+'sResolutio'+'n'],_0x1145bf['cookiesEna'+'bled']=_0x5588dc['cookiesEna'+'bled'],_0x1145bf['cookieAtla'+'sResolutio'+'n']=_0x5588dc['cookieAtla'+'sResolutio'+'n'],_0x1145bf['areaLights'+'Enabled']=_0x5588dc['areaLights'+'Enabled'],_0x1145bf['cells']=new D(-0x18eb+-0x1681+-0x1*-0x2f6f,0x107*-0x1+0x6d*-0x36+0x8*0x301,0x20b9+0x8ff+-0x29b5),_0x1145bf['maxLightsP'+'erCell']=0x7b3+0x982*-0x3+-0x5*-0x42b,this['worldClust'+'ers']=new cu(_0x272577),this['worldClust'+'ers']['name']='ClusterLig'+'htmapper';}}['finishBake'](_0x2c3684){this['materials']=[];function _0x3e207f(_0x82eb31){zi['decRef'](_0x82eb31['colorBuffe'+'r']),_0x82eb31['destroy']();}this['renderTarg'+'ets']['forEach'](_0x454377=>{_0x3e207f(_0x454377);}),this['renderTarg'+'ets']['clear'](),_0x2c3684['forEach'](_0x1d48ba=>{_0x1d48ba['renderTarg'+'ets']['forEach'](_0x5eddf5=>{_0x3e207f(_0x5eddf5);}),_0x1d48ba['renderTarg'+'ets']['length']=-0x5*0x306+-0x1067+0x1f85*0x1;}),this['ambientAOM'+'aterial']=null,this['worldClust'+'ers']&&(this['worldClust'+'ers']['destroy'](),this['worldClust'+'ers']=null);}['createMate'+'rialForPas'+'s'](_0x17d027,_0x15a5ef,_0x4cf334){const _0x56c933=new Ut();return _0x56c933['name']='lmMaterial'+'-pass:'+_0x15a5ef+'-ambient:'+_0x4cf334,_0x56c933['setDefine']('UV1LAYOUT',''),_0x56c933['setDefine']('LIT_LIGHTM'+'AP_BAKING',''),_0x15a5ef===fL?(_0x56c933['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'COLOR',''),_0x4cf334?_0x56c933['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'ADD_AMBIEN'+'T',''):_0x56c933['ambient']=new ie(-0xca+0x165b+0x1591*-0x1,0x1b*0xe9+-0x2*0x112+-0x1*0x166f,0x164e+0x2cd*-0x1+0x1*-0x1381),this['bakeHDR']||_0x56c933['setDefine']('LIGHTMAP_R'+'GBM',''),_0x56c933['lightMap']=this['blackTex']):(_0x56c933['setDefine']('LIT_LIGHTM'+'AP_BAKING_'+'DIR',''),_0x56c933['setDefine']('STD_LIGHTM'+'AP_DIR','')),_0x56c933['cull']=bt,_0x56c933['forceUv1']=!(0x22aa+0x555+-0x3*0xd55),_0x56c933['update'](),_0x56c933;}['createMate'+'rials'](_0xb0e0b9,_0x2b3cd4,_0x58396a){for(let _0x4bd48a=0x2388+0x1*0x1bb5+0x3f3d*-0x1;_0x4bd48a<_0x58396a;_0x4bd48a++)this['passMateri'+'als'][_0x4bd48a]||(this['passMateri'+'als'][_0x4bd48a]=this['createMate'+'rialForPas'+'s'](_0x2b3cd4,_0x4bd48a,!(-0x22f6+0xf15*0x1+0x3fa*0x5)));this['ambientAOM'+'aterial']||(this['ambientAOM'+'aterial']=this['createMate'+'rialForPas'+'s'](_0x2b3cd4,0xb*0x98+-0x13b6+-0x7*-0x1e2,!(0xd*-0x9a+0x91a+-0x148)),this['ambientAOM'+'aterial']['onUpdateSh'+'ader']=function(_0x5e45b4){return _0x5e45b4['litOptions']['lightMapWi'+'thoutAmbie'+'nt']=!(-0x150f*0x1+-0xf7a*-0x1+-0x595*-0x1),_0x5e45b4['litOptions']['separateAm'+'bient']=!(-0x5af+-0x68*0x3d+0x1*0x1e77),_0x5e45b4;});}['createText'+'ure'](_0x57fe86,_0x38704a){return new _e(this['device'],{'profilerHint':vy,'width':_0x57fe86,'height':_0x57fe86,'format':this['scene']['lightmapPi'+'xelFormat'],'mipmaps':!(-0x1*-0x43+0x1*0x49+0x1*-0x8b),'type':this['bakeHDR']?Ds:Zi,'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':_0x38704a});}['collectMod'+'els'](_0x569a4b,_0x4c1eca,_0x4c3f6d){var _0x1b751f,_0x47afb9,_0x66b775;if(!_0x569a4b['enabled'])return;let _0x62aa7;if((_0x1b751f=_0x569a4b['model'])!=null&&_0x1b751f['model']&&((_0x47afb9=_0x569a4b['model'])!=null&&_0x47afb9['enabled'])&&(_0x4c3f6d&&_0x4c3f6d['push'](new vc(_0x569a4b)),_0x569a4b['model']['lightmappe'+'d']&&_0x4c1eca&&(_0x62aa7=_0x569a4b['model']['model']['meshInstan'+'ces'])),(_0x66b775=_0x569a4b['render'])!=null&&_0x66b775['enabled']&&(_0x4c3f6d&&_0x4c3f6d['push'](new vc(_0x569a4b)),_0x569a4b['render']['lightmappe'+'d']&&_0x4c1eca&&(_0x62aa7=_0x569a4b['render']['meshInstan'+'ces'])),_0x62aa7){let _0x115dd2=!(-0x558*-0x1+0x205+-0x75d);for(let _0x3a1285=0x67*-0x42+0x1ab6+-0x28;_0x3a1285<_0x62aa7['length'];_0x3a1285++)if(!_0x62aa7[_0x3a1285]['mesh']['vertexBuff'+'er']['format']['hasUv1']){w['log']('Lightmappe'+'r\x20-\x20node\x20['+_0x569a4b['name']+(']\x20contains'+'\x20meshes\x20wi'+'thout\x20requ'+'ired\x20uv1,\x20'+'excluding\x20'+'it\x20from\x20ba'+'king.')),_0x115dd2=!(0x27b+0x169+-0x3e3*0x1);break;}if(_0x115dd2){const _0x14b1bc=[];for(let _0x57cfea=0x23*0x5+-0x21e+0x16f;_0x57cfea<_0x62aa7['length'];_0x57cfea++){const _0x4a7e16=_0x62aa7[_0x57cfea]['mesh'];this['_tempSet']['has'](_0x4a7e16)?_0x4c1eca['push'](new vc(_0x569a4b,[_0x62aa7[_0x57cfea]])):_0x14b1bc['push'](_0x62aa7[_0x57cfea]),this['_tempSet']['add'](_0x4a7e16);}this['_tempSet']['clear'](),_0x14b1bc['length']>-0x567*0x6+0x2*-0x16e+0x2346&&_0x4c1eca['push'](new vc(_0x569a4b,_0x14b1bc));}}for(let _0x2c1fbd=-0xc07+0x1d40+-0x1*0x1139;_0x2c1fbd<_0x569a4b['_children']['length'];_0x2c1fbd++)this['collectMod'+'els'](_0x569a4b['_children'][_0x2c1fbd],_0x4c1eca,_0x4c3f6d);}['prepareSha'+'dowCasters'](_0x3f0fed){const _0x4fb481=[];for(let _0x4154d7=-0x1*-0x907+-0x1cd8+0x59*0x39;_0x4154d7<_0x3f0fed['length'];_0x4154d7++){const _0x3c239c=_0x3f0fed[_0x4154d7]['component'];if(_0x3c239c['castShadow'+'s']=_0x3c239c['castShadow'+'sLightmap'],_0x3c239c['castShadow'+'sLightmap']){const _0x49b28a=_0x3f0fed[_0x4154d7]['meshInstan'+'ces'];for(let _0x29d386=0x11cf+-0x1*0x2077+0xea8;_0x29d386<_0x49b28a['length'];_0x29d386++)_0x49b28a[_0x29d386]['visibleThi'+'sFrame']=!(0x819+-0x1*0xb2f+0x316),_0x4fb481['push'](_0x49b28a[_0x29d386]);}}return _0x4fb481;}['updateTran'+'sforms'](_0x1f7721){for(let _0x3ad109=-0x1864+0x1d90+-0x296*0x2;_0x3ad109<_0x1f7721['length'];_0x3ad109++){const _0x51f0f8=_0x1f7721[_0x3ad109]['meshInstan'+'ces'];for(let _0x2e3e38=-0x761*-0x1+-0x654+-0x10d;_0x2e3e38<_0x51f0f8['length'];_0x2e3e38++)_0x51f0f8[_0x2e3e38]['node']['getWorldTr'+'ansform']();}}['calculateL'+'ightmapSiz'+'e'](_0x319259){let _0x4aaf19;const _0x4d721d=this['scene']['lightmapSi'+'zeMultipli'+'er']||-0x577*0x7+-0x1ebe+0x3*0x1705,_0x1bc711=xc;let _0xb744a9,_0xb8ee37;_0x319259['model']?(_0xb8ee37=_0x319259['model']['lightmapSi'+'zeMultipli'+'er'],_0x319259['model']['asset']?(_0x4aaf19=this['assets']['get'](_0x319259['model']['asset'])['data'],_0x4aaf19['area']&&(_0xb744a9=_0x4aaf19['area'])):_0x319259['model']['_area']&&(_0x4aaf19=_0x319259['model'],_0x4aaf19['_area']&&(_0xb744a9=_0x4aaf19['_area']))):_0x319259['render']&&(_0xb8ee37=_0x319259['render']['lightmapSi'+'zeMultipli'+'er'],_0x319259['render']['type']!=='asset'&&_0x319259['render']['_area']&&(_0x4aaf19=_0x319259['render'],_0x4aaf19['_area']&&(_0xb744a9=_0x4aaf19['_area'])));const _0x3c15d7={'x':0x1,'y':0x1,'z':0x1,'uv':0x1};_0xb744a9&&(_0x3c15d7['x']=_0xb744a9['x'],_0x3c15d7['y']=_0xb744a9['y'],_0x3c15d7['z']=_0xb744a9['z'],_0x3c15d7['uv']=_0xb744a9['uv']);const _0x18ea5b=_0xb8ee37||0x20a6*0x1+0x1*-0x405+-0x1ca0;_0x3c15d7['x']*=_0x18ea5b,_0x3c15d7['y']*=_0x18ea5b,_0x3c15d7['z']*=_0x18ea5b;const _0xe5c023=_0x319259['render']||_0x319259['model'],_0x35144f=this['computeNod'+'eBounds'](_0xe5c023['meshInstan'+'ces']);_0x1bc711['copy'](_0x35144f['halfExtent'+'s']);let _0x4d630e=_0x3c15d7['x']*_0x1bc711['y']*_0x1bc711['z']+_0x3c15d7['y']*_0x1bc711['x']*_0x1bc711['z']+_0x3c15d7['z']*_0x1bc711['x']*_0x1bc711['y'];return _0x4d630e/=_0x3c15d7['uv'],_0x4d630e=Math['sqrt'](_0x4d630e),Math['min'](Y['nextPowerO'+'fTwo'](_0x4d630e*_0x4d721d),this['scene']['lightmapMa'+'xResolutio'+'n']||dL);}['setLightma'+'pping'](_0x153549,_0x49bca9,_0x5189b9,_0x4e1494){for(let _0x53d8b2=0x1c*0xef+0xd3b+0x1*-0x275f;_0x53d8b2<_0x153549['length'];_0x53d8b2++){const _0x4bc103=_0x153549[_0x53d8b2],_0x48e31e=_0x4bc103['meshInstan'+'ces'];for(let _0x24595a=0x1*-0x28b+-0x8b1+0xb3c;_0x24595a<_0x48e31e['length'];_0x24595a++){const _0x45d880=_0x48e31e[_0x24595a];if(_0x45d880['setLightma'+'pped'](_0x49bca9),_0x49bca9){_0x4e1494&&(_0x45d880['_shaderDef'+'s']|=_0x4e1494),_0x45d880['mask']=di;for(let _0xaa216f=0x80+0x2076+0x1*-0x20f6;_0xaa216f<_0x5189b9;_0xaa216f++){const _0x1e3030=_0x4bc103['renderTarg'+'ets'][_0xaa216f]['colorBuffe'+'r'];_0x1e3030['minFilter']=vt,_0x1e3030['magFilter']=vt,_0x45d880['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0xaa216f],_0x1e3030);}}}}}['bake'](_0x479638,_0x4a8ac3=jc){const _0x461515=this['device'],_0x27227c=de();this['scene']['_updateSky'+'Mesh'](),_0x461515['fire']('lightmappe'+'r:start',{'timestamp':_0x27227c,'target':this}),this['stats']['renderPass'+'es']=0x97+0x34e+-0x1*0x3e5,this['stats']['shadowMapT'+'ime']=0xb*-0xb1+0x1*-0x389+0xb24,this['stats']['forwardTim'+'e']=0x147*-0x17+0xb0f+0x1252;const _0x5b0049=_0x461515['_shaderSta'+'ts']['linked'],_0x17432f=_0x461515['_renderTar'+'getCreatio'+'nTime'],_0x455899=_0x461515['_shaderSta'+'ts']['compileTim'+'e'],_0x42a3e4=[],_0x4480d8=[];if(_0x479638){for(let _0x3155b7=0x8*-0x1b2+0xb7*-0x1d+-0x1*-0x224b;_0x3155b7<_0x479638['length'];_0x3155b7++)this['collectMod'+'els'](_0x479638[_0x3155b7],_0x42a3e4,null);this['collectMod'+'els'](this['root'],null,_0x4480d8);}else this['collectMod'+'els'](this['root'],_0x42a3e4,_0x4480d8);if(Q['pushGpuMar'+'ker'](this['device'],'LMBake'),_0x42a3e4['length']>0x5*0x3af+0x1a2b+-0x2c96){this['renderer']['shadowRend'+'erer']['frameUpdat'+'e']();const _0x516d24=_0x4a8ac3===jc?-0xb39+0x104d*-0x2+0x2bd5:-0x1*0x132e+-0x48a+-0x17b9*-0x1;this['setLightma'+'pping'](_0x42a3e4,!(0x1*0x2b3+-0x1c34+0x1982*0x1),_0x516d24),this['initBake'](_0x461515),this['bakeIntern'+'al'](_0x516d24,_0x42a3e4,_0x4480d8);let _0x19711a=ou;_0x4a8ac3===jc&&(_0x19711a|=uv),this['scene']['ambientBak'+'e']&&(_0x19711a|=pv),this['setLightma'+'pping'](_0x42a3e4,!(0x2e7*-0xa+0x11f5*0x1+0xb11),_0x516d24,_0x19711a),this['finishBake'](_0x42a3e4);}Q['popGpuMark'+'er'](this['device']);const _0x5f29f1=de();this['stats']['totalRende'+'rTime']=_0x5f29f1-_0x27227c,this['stats']['shadersLin'+'ked']=_0x461515['_shaderSta'+'ts']['linked']-_0x5b0049,this['stats']['compileTim'+'e']=_0x461515['_shaderSta'+'ts']['compileTim'+'e']-_0x455899,this['stats']['fboTime']=_0x461515['_renderTar'+'getCreatio'+'nTime']-_0x17432f,this['stats']['lightmapCo'+'unt']=_0x42a3e4['length'],_0x461515['fire']('lightmappe'+'r:end',{'timestamp':_0x5f29f1,'target':this});}['allocateTe'+'xtures'](_0x4ff26e,_0xd84654){for(let _0x35297c=0xdfc+0x19ae+-0x27aa;_0x35297c<_0x4ff26e['length'];_0x35297c++){const _0x2e159a=_0x4ff26e[_0x35297c],_0x2af6e3=this['calculateL'+'ightmapSiz'+'e'](_0x2e159a['node']);for(let _0x34fcea=-0x623+-0xa03*0x2+-0x1*-0x1a29;_0x34fcea<_0xd84654;_0x34fcea++){const _0x5e626f=this['createText'+'ure'](_0x2af6e3,'lightmappe'+'r_lightmap'+'_'+_0x35297c);zi['incRef'](_0x5e626f),_0x2e159a['renderTarg'+'ets'][_0x34fcea]=new gt({'colorBuffer':_0x5e626f,'depth':!(-0x275*0x1+-0xd4*0x29+0x246a)});}if(!this['renderTarg'+'ets']['has'](_0x2af6e3)){const _0x1de37b=this['createText'+'ure'](_0x2af6e3,'lightmappe'+'r_temp_lig'+'htmap_'+_0x2af6e3);zi['incRef'](_0x1de37b),this['renderTarg'+'ets']['set'](_0x2af6e3,new gt({'colorBuffer':_0x1de37b,'depth':!(-0x48b*0x2+-0x14f7+-0x1e0e*-0x1)}));}}}['prepareLig'+'htsToBake'](_0x1a8310,_0x4957a1){if(this['scene']['ambientBak'+'e']){const _0x582fc5=new Mg(this);_0x4957a1['push'](_0x582fc5);}const _0x34286d=this['renderer']['lights'];for(let _0x46f28b=0x6*0x362+0x200d+-0x3459;_0x46f28b<_0x34286d['length'];_0x46f28b++){const _0x22be5c=_0x34286d[_0x46f28b],_0x2f22ac=new sL(this,_0x22be5c);_0x1a8310['push'](_0x2f22ac),_0x22be5c['enabled']&&(_0x22be5c['mask']&fi)!==-0x6*-0x52c+-0x1689+-0x87f&&(_0x22be5c['mask']=fi|di|Ss,_0x22be5c['shadowUpda'+'teMode']=_0x22be5c['type']===ve?lm:xr,_0x4957a1['push'](_0x2f22ac));}_0x4957a1['sort']();}['restoreLig'+'hts'](_0x1eb8b4){for(let _0xdbf6c=-0xf9f+0x1de1*-0x1+0x2d80;_0xdbf6c<_0x1eb8b4['length'];_0xdbf6c++)_0x1eb8b4[_0xdbf6c]['restore']();}['setupScene'](){this['ambientLig'+'ht']['copy'](this['scene']['ambientLig'+'ht']),this['scene']['ambientBak'+'e']||this['scene']['ambientLig'+'ht']['set'](-0x1*0x2441+-0xac+0x24ed,-0xb3a+-0x5*-0x4cd+-0xcc7,0x1*0x5fe+0x12b5*0x2+-0x2b68),this['renderer']['setSceneCo'+'nstants'](),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Contrast')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Contrast']),this['device']['scope']['resolve']('ambientBak'+'eOcclusion'+'Brightness')['setValue'](this['scene']['ambientBak'+'eOcclusion'+'Brightness']);}['restoreSce'+'ne'](){this['scene']['ambientLig'+'ht']['copy'](this['ambientLig'+'ht']);}['computeNod'+'eBounds'](_0x2077dc){const _0x3d78da=new De();if(_0x2077dc['length']>-0x3d*-0x23+-0x2639+0x1de2){_0x3d78da['copy'](_0x2077dc[0x3*-0x827+-0x13*0x41+0x8*0x3a9]['aabb']);for(let _0x17696b=-0x19*0xb5+-0xbde+0x1d8c;_0x17696b<_0x2077dc['length'];_0x17696b++)_0x3d78da['add'](_0x2077dc[_0x17696b]['aabb']);}return _0x3d78da;}['computeNod'+'esBounds'](_0x419fbd){for(let _0x1a3b7c=0x639+-0x15d8+0xf9f;_0x1a3b7c<_0x419fbd['length'];_0x1a3b7c++){const _0x3d0c8a=_0x419fbd[_0x1a3b7c]['meshInstan'+'ces'];_0x419fbd[_0x1a3b7c]['bounds']=this['computeNod'+'eBounds'](_0x3d0c8a);}}['computeBou'+'nds'](_0x55df4c){const _0x415ea1=new De();for(let _0x4a3025=-0x1fe3+0x9f*-0x1+0x2082;_0x4a3025<_0x55df4c['length'];_0x4a3025++){_0x415ea1['copy'](_0x55df4c[0x1dbb+-0x972+-0x9*0x241]['aabb']);for(let _0x739e1e=-0x3*-0x671+0xc27+-0x47f*0x7;_0x739e1e<_0x55df4c['length'];_0x739e1e++)_0x415ea1['add'](_0x55df4c[_0x739e1e]['aabb']);}return _0x415ea1;}['backupMate'+'rials'](_0x3997f4){for(let _0x42ecbb=0xd*-0x24e+-0xbe5+-0x5*-0x85f;_0x42ecbb<_0x3997f4['length'];_0x42ecbb++)this['materials'][_0x42ecbb]=_0x3997f4[_0x42ecbb]['material'];}['restoreMat'+'erials'](_0x565a4c){for(let _0x555e0a=-0x155e+0x1*-0x209+0x7cd*0x3;_0x555e0a<_0x565a4c['length'];_0x555e0a++)_0x565a4c[_0x555e0a]['material']=this['materials'][_0x555e0a];}['lightCamer'+'aPrepare'](_0x18d777,_0x23bd72){const _0x19c6c4=_0x23bd72['light'];let _0x20c013;return _0x19c6c4['type']===Ze&&(_0x20c013=_0x19c6c4['getRenderD'+'ata'](null,0x21cd+0xd67*0x1+-0x2f34)['shadowCame'+'ra'],_0x20c013['_node']['setPositio'+'n'](_0x19c6c4['_node']['getPositio'+'n']()),_0x20c013['_node']['setRotatio'+'n'](_0x19c6c4['_node']['getRotatio'+'n']()),_0x20c013['_node']['rotateLoca'+'l'](-(-0x1*-0x1d77+-0x2*0x647+0x108f*-0x1),-0x109b+-0x150b+0x25a6,0xd*-0x8b+0x82d+0x16*-0xd),_0x20c013['projection']=ni,_0x20c013['nearClip']=_0x19c6c4['attenuatio'+'nEnd']/(0xcc7*0x1+-0xc5*-0x30+-0x1*0x2dcf),_0x20c013['farClip']=_0x19c6c4['attenuatio'+'nEnd'],_0x20c013['aspectRati'+'o']=0x174+-0x530+0x21*0x1d,_0x20c013['fov']=_0x19c6c4['_outerCone'+'Angle']*(0x1d87+0x36*0x6d+-0x3483),this['renderer']['updateCame'+'raFrustum'](_0x20c013)),_0x20c013;}['lightCamer'+'aPrepareAn'+'dCull'](_0xf9ee78,_0x1e79c8,_0x27a9a8,_0x2967d8){const _0x143ca6=_0xf9ee78['light'];let _0x2bdbd3=!(0x5a0+0xa3*0x2+-0x6e6);if(_0x143ca6['type']===ve){xc['copy'](_0x2967d8['center']),xc['y']+=_0x2967d8['halfExtent'+'s']['y'],this['camera']['node']['setPositio'+'n'](xc),this['camera']['node']['setEulerAn'+'gles'](-(0x910+-0x594*-0x1+0x2*-0x725),-0x25*-0xa1+-0x2506+0xdc1,-0x36*-0x1e+0x64*-0x8+0x4*-0xcd),this['camera']['nearClip']=0x1c9c*-0x1+-0x28e+-0x1*-0x1f2a,this['camera']['farClip']=_0x2967d8['halfExtent'+'s']['y']*(-0x953+0x23f1+-0x1a9c);const _0x3fea18=Math['max'](_0x2967d8['halfExtent'+'s']['x'],_0x2967d8['halfExtent'+'s']['z']);this['camera']['orthoHeigh'+'t']=_0x3fea18;}else _0xf9ee78['lightBound'+'s']['intersects'](_0x1e79c8['bounds'])||(_0x2bdbd3=!(-0x2*0x12ad+0x1ab0+-0x1*-0xaab));if(_0x143ca6['type']===Ze){let _0x4ab92d=!(0x21e+-0x3*0x841+-0x1*-0x16a6);const _0xd1c018=_0x1e79c8['meshInstan'+'ces'];for(let _0x3ba519=0x3a*-0x50+-0x842+0x1a62;_0x3ba519<_0xd1c018['length'];_0x3ba519++)if(_0xd1c018[_0x3ba519]['_isVisible'](_0x27a9a8)){_0x4ab92d=!(-0xb*-0x1+-0x7*-0x2b1+-0x2*0x971);break;}_0x4ab92d||(_0x2bdbd3=!(0x47f*0x1+-0x1*0x1111+0xc93));}return _0x2bdbd3;}['setupLight'+'Array'](_0x13f82b,_0x400897){_0x13f82b[ve]['length']=-0x5*0x4e3+-0x143+0x11e*0x17,_0x13f82b[Ke]['length']=0x16f8+-0x2b8*-0xd+-0x10*0x3a5,_0x13f82b[Ze]['length']=0x15e1+0x181e+-0x2dff,_0x13f82b[_0x400897['type']][-0x1*0x11f5+-0xf*0x27e+-0x1*-0x3757]=_0x400897,_0x400897['visibleThi'+'sFrame']=!(0x1e21+0xba7+-0x29c8);}['renderShad'+'owMap'](_0x28bf7e,_0x5d7a62,_0x511c85,_0x22f302){const _0x40ba16=_0x22f302['light'],_0x248b22=this['scene']['clusteredL'+'ightingEna'+'bled'],_0xcb4fa1=_0x40ba16['castShadow'+'s']&&(!_0x248b22||this['scene']['lighting']['shadowsEna'+'bled']);if(!_0x5d7a62&&_0xcb4fa1){if(!_0x40ba16['shadowMap']&&!_0x248b22&&(_0x40ba16['shadowMap']=this['shadowMapC'+'ache']['get'](this['device'],_0x40ba16)),_0x40ba16['type']===ve){this['renderer']['_shadowRen'+'dererDirec'+'tional']['cull'](_0x40ba16,_0x28bf7e,this['camera'],_0x511c85);const _0x107d08=this['renderer']['_shadowRen'+'dererDirec'+'tional']['getLightRe'+'nderPass'](_0x40ba16,this['camera']);_0x107d08==null||_0x107d08['render']();}else{if(this['device']['isWebGPU'])return w['warnOnce']('Lightmappe'+'r\x20on\x20WebGP'+'U\x20does\x20not'+'\x20yet\x20suppo'+'rt\x20spot\x20an'+'d\x20omni\x20sha'+'dows.'),!(-0x1*0x143d+0x120+0x131d);this['renderer']['_shadowRen'+'dererLocal']['cull'](_0x40ba16,_0x28bf7e,_0x511c85),this['renderer']['shadowRend'+'erer']['render'](_0x40ba16,this['camera'],!(0x289*0x2+-0x8cc+-0xbf*-0x5));}}return!(-0x1*-0x21b+-0xa24+0x809*0x1);}['postproces'+'sTextures'](_0x5745d2,_0x1297f4,_0x2ac2ce){const _0x296129=this['lightmapFi'+'lters']['getDilate'](_0x5745d2,this['bakeHDR']);let _0x1bd60f;const _0x51c73f=this['scene']['lightmapFi'+'lterEnable'+'d'];_0x51c73f&&(this['lightmapFi'+'lters']['prepareDen'+'oise'](this['scene']['lightmapFi'+'lterRange'],this['scene']['lightmapFi'+'lterSmooth'+'ness'],this['bakeHDR']),_0x1bd60f=this['lightmapFi'+'lters']['getDenoise'](this['bakeHDR'])),_0x5745d2['setBlendSt'+'ate'](pt['NOBLEND']),_0x5745d2['setDepthSt'+'ate'](Yt['NODEPTH']),_0x5745d2['setStencil'+'State'](null,null);for(let _0x1bfc48=0x2*-0x1137+-0x215a+-0xc*-0x5a6;_0x1bfc48<_0x1297f4['length'];_0x1bfc48++){const _0x3d1a5d=_0x1297f4[_0x1bfc48];Q['pushGpuMar'+'ker'](this['device'],'LMPost:'+_0x1bfc48);for(let _0x32ddf1=-0x2*-0x7a3+-0x2610+0x16ca;_0x32ddf1<_0x2ac2ce;_0x32ddf1++){const _0xac572a=_0x3d1a5d['renderTarg'+'ets'][_0x32ddf1],_0x32add4=_0xac572a['colorBuffe'+'r'],_0x56998d=this['renderTarg'+'ets']['get'](_0x32add4['width']),_0x3bf6b3=_0x56998d['colorBuffe'+'r'];this['lightmapFi'+'lters']['prepare'](_0x32add4['width'],_0x32add4['height']);for(let _0x2e6e63=0x2eb*-0x4+0x239c*0x1+-0x17f0;_0x2e6e63<0x4*-0x5c1+0xf35*-0x1+-0xe9*-0x2a;_0x2e6e63++)this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x32add4),Ar(_0x5745d2,_0x56998d,_0x51c73f&&_0x32ddf1===0x1f91*-0x1+0x2a7*0xb+-0x44*-0x9&&_0x2e6e63===0xb72+-0x11db*0x1+0x669?_0x1bd60f:_0x296129),this['lightmapFi'+'lters']['setSourceT'+'exture'](_0x3bf6b3),Ar(_0x5745d2,_0xac572a,_0x296129);}Q['popGpuMark'+'er'](this['device']);}}['bakeIntern'+'al'](_0x45bbf2,_0x5331b7,_0x51d1ee){const _0x8fffd6=this['scene'],_0x54c848=_0x8fffd6['layers'],_0x582aa1=this['device'],_0x17425e=_0x8fffd6['clusteredL'+'ightingEna'+'bled'];this['createMate'+'rials'](_0x582aa1,_0x8fffd6,_0x45bbf2),this['setupScene'](),_0x54c848['_update'](),this['computeNod'+'esBounds'](_0x5331b7),this['allocateTe'+'xtures'](_0x5331b7,_0x45bbf2),this['renderer']['collectLig'+'hts'](_0x54c848);const _0x586423=[],_0x2ddfcb=[];this['prepareLig'+'htsToBake'](_0x586423,_0x2ddfcb),this['updateTran'+'sforms'](_0x51d1ee);const _0x15ef89=this['prepareSha'+'dowCasters'](_0x51d1ee);this['renderer']['updateCpuS'+'kinMatrice'+'s'](_0x15ef89),this['renderer']['gpuUpdate'](_0x15ef89);const _0x115b6a=this['computeBou'+'nds'](_0x15ef89);let _0x5d553f,_0x3ff633,_0xf6afbb,_0x58a22a;for(_0x5d553f=-0x20fb+-0x1*0x18ce+0x39c9;_0x5d553f<_0x5331b7['length'];_0x5d553f++)for(_0xf6afbb=_0x5331b7[_0x5d553f]['meshInstan'+'ces'],_0x3ff633=0x1*0x15dd+0x66d+-0x1c4a;_0x3ff633<_0xf6afbb['length'];_0x3ff633++)_0x58a22a=_0xf6afbb[_0x3ff633],_0x58a22a['setLightma'+'pped'](!(-0x6ee*0x5+0x264e+-0x3a7)),_0x58a22a['mask']=fi,_0x58a22a['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][0x1*0x191f+0x251+0x1b70*-0x1],this['blackTex']),_0x58a22a['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][-0x2221*-0x1+-0x64*0x60+-0x48*-0xc],this['blackTex']);for(_0x3ff633=0x1aa1+0x1e63+-0x3904*0x1;_0x3ff633<_0x2ddfcb['length'];_0x3ff633++)_0x2ddfcb[_0x3ff633]['light']['enabled']=!(0x1*-0x264b+-0x131a+0x3966);const _0x4c7888=[[],[],[]];let _0x424c83,_0x47945f,_0x73fec9=!(-0x1e54+0x370+0x1b*0xff);for(_0x5d553f=-0x2227+-0x50f+-0x2*-0x139b;_0x5d553f<_0x2ddfcb['length'];_0x5d553f++){const _0x33b2dd=_0x2ddfcb[_0x5d553f],_0x366c31=_0x33b2dd instanceof Mg,_0x344e19=_0x33b2dd['light']['type']===ve;let _0x1ce4e5=_0x33b2dd['numVirtual'+'Lights'];_0x45bbf2>-0x2069+-0x15c8*0x1+0x3632&&_0x1ce4e5>0x1f9f+0x1f*0xf9+-0x3dc5&&_0x33b2dd['light']['bakeDir']&&(_0x1ce4e5=-0x1*-0x2197+-0x6a1*-0x1+0x163*-0x1d,w['warn']('Lightmappe'+'r\x27s\x20BAKE_C'+'OLORDIR\x20mo'+'de\x20is\x20not\x20'+'compatible'+'\x20with\x20Ligh'+'t\x27s\x20bakeNu'+'mSamples\x20l'+'arger\x20than'+'\x20one.\x20Forc'+'ing\x20it\x20to\x20'+'one.'));for(let _0xce1d28=-0x2f6+0x1288*-0x2+0x2806;_0xce1d28<_0x1ce4e5;_0xce1d28++){Q['pushGpuMar'+'ker'](_0x582aa1,'Light:'+_0x33b2dd['light']['_node']['name']+':'+_0xce1d28),_0x1ce4e5>0xa13+-0x92*0x9+-0x4f0&&_0x33b2dd['prepareVir'+'tualLight'](_0xce1d28,_0x1ce4e5),_0x33b2dd['startBake']();let _0x4a2bba=!(0x14*-0xe2+-0x828+0x1*0x19d1);const _0x49f06b=this['lightCamer'+'aPrepare'](_0x582aa1,_0x33b2dd);for(_0x47945f=-0x25a7+-0xb16+0x3*0x103f;_0x47945f<_0x5331b7['length'];_0x47945f++){const _0x49271c=_0x5331b7[_0x47945f];if(_0xf6afbb=_0x49271c['meshInstan'+'ces'],!this['lightCamer'+'aPrepareAn'+'dCull'](_0x33b2dd,_0x49271c,_0x49f06b,_0x115b6a))continue;this['setupLight'+'Array'](_0x4c7888,_0x33b2dd['light']);const _0x2919eb=_0x344e19?[]:[_0x33b2dd['light']];for(_0x17425e&&this['renderer']['lightTextu'+'reAtlas']['update'](_0x2919eb,this['lightingPa'+'rams']),_0x4a2bba=this['renderShad'+'owMap'](_0x54c848,_0x4a2bba,_0x15ef89,_0x33b2dd),_0x17425e&&this['worldClust'+'ers']['update'](_0x2919eb,this['lightingPa'+'rams']),this['backupMate'+'rials'](_0xf6afbb),_0x424c83=-0x20da+0x235*0xe+0x1f4;_0x424c83<_0x45bbf2&&!(_0x424c83>-0x971*-0x4+0x1031+0x35f5*-0x1&&_0xce1d28>-0x1*0x44f+-0xb03*-0x3+-0x1cba||_0x366c31&&_0x424c83>-0x26*-0x80+0x2022+-0x3322);_0x424c83++){Q['pushGpuMar'+'ker'](_0x582aa1,'LMPass:'+_0x424c83);const _0x29ee1c=_0x49271c['renderTarg'+'ets'][_0x424c83],_0x130108=_0x49271c['renderTarg'+'ets'][_0x424c83]['colorBuffe'+'r']['width'],_0x206f05=this['renderTarg'+'ets']['get'](_0x130108),_0x5a7e19=_0x206f05['colorBuffe'+'r'];_0x424c83===-0x17*0x136+-0x2201+0x3ddb?_0x73fec9=_0x8fffd6['updateShad'+'ers']:_0x73fec9&&(_0x8fffd6['updateShad'+'ers']=!(0x726+-0x998*0x3+0x3*0x736));let _0x34d74a=this['passMateri'+'als'][_0x424c83];for(_0x366c31&&_0xce1d28+(0x1b5e+0x1d1b*-0x1+0x2*0xdf)===_0x1ce4e5&&_0x424c83===-0x218d+0x4*0xe+-0x35*-0xa1&&(_0x34d74a=this['ambientAOM'+'aterial']),_0x3ff633=0x1*0x18f4+0x2127+-0x3a1b;_0x3ff633<_0xf6afbb['length'];_0x3ff633++)_0xf6afbb[_0x3ff633]['material']=_0x34d74a;if(this['renderer']['updateShad'+'ers'](_0xf6afbb),_0x424c83===uL&&this['constantBa'+'keDir']['setValue'](_0x33b2dd['light']['bakeDir']?-0x1*0x209e+-0x13*-0x125+0x3*0x3a0:0x1c84+0x539+-0x21bd),_0x582aa1['isWebGPU']){const _0x4ca47e=new hL(_0x582aa1,this['renderer'],this['camera'],_0x17425e?this['worldClust'+'ers']:null,_0xf6afbb,_0x4c7888);_0x4ca47e['init'](_0x206f05),_0x4ca47e['render'](),_0x4ca47e['destroy']();}else this['renderer']['setCamera'](this['camera'],_0x206f05,!(-0x2025+-0xb3e+-0x1*-0x2b63)),_0x17425e&&this['worldClust'+'ers']['activate'](),this['renderer']['_forwardTi'+'me']=-0x1bfb+0xb28*-0x1+0x2723,this['renderer']['_shadowMap'+'Time']=0x1*-0x728+-0x273+0x99b,this['renderer']['renderForw'+'ard'](this['camera'],_0x206f05,_0xf6afbb,_0x4c7888,Aa),_0x582aa1['updateEnd']();for(this['stats']['shadowMapT'+'ime']+=this['renderer']['_shadowMap'+'Time'],this['stats']['forwardTim'+'e']+=this['renderer']['_forwardTi'+'me'],this['stats']['renderPass'+'es']++,_0x49271c['renderTarg'+'ets'][_0x424c83]=_0x206f05,this['renderTarg'+'ets']['set'](_0x130108,_0x29ee1c),_0x3ff633=-0xa*0x2d3+-0x12e3+0x7f*0x5f;_0x3ff633<_0xf6afbb['length'];_0x3ff633++)_0x58a22a=_0xf6afbb[_0x3ff633],_0x58a22a['setRealtim'+'eLightmap'](He['lightmapPa'+'ramNames'][_0x424c83],_0x5a7e19),_0x58a22a['_shaderDef'+'s']|=ou;Q['popGpuMark'+'er'](_0x582aa1);}this['restoreMat'+'erials'](_0xf6afbb);}_0x33b2dd['endBake'](this['shadowMapC'+'ache']),Q['popGpuMark'+'er'](_0x582aa1);}}for(this['postproces'+'sTextures'](_0x582aa1,_0x5331b7,_0x45bbf2),_0x47945f=0xab5+-0x17*0xcb+0x788;_0x47945f<_0x51d1ee['length'];_0x47945f++)_0x51d1ee[_0x47945f]['restore']();this['restoreLig'+'hts'](_0x586423),this['restoreSce'+'ne'](),_0x17425e||this['shadowMapC'+'ache']['clear']();}}const Wh=class Wh extends me{constructor(_0x225c56,_0x5dd013){super(),h(this,'system'),h(this,'entity'),(this['system']=_0x225c56,this['entity']=_0x5dd013,this['system']['schema']&&!this['_accessors'+'Built']&&this['buildAcces'+'sors'](this['system']['schema']),this['on']('set',function(_0x1f6c70,_0x3c17a7,_0xeb0c70){this['fire']('set_'+_0x1f6c70,_0x1f6c70,_0x3c17a7,_0xeb0c70);}),this['on']('set_enable'+'d',this['onSetEnabl'+'ed'],this));}static['_buildAcce'+'ssors'](_0x156436,_0x41587c){_0x41587c['forEach'](_0x32ddab=>{const _0xb6dd8=typeof _0x32ddab=='object'?_0x32ddab['name']:_0x32ddab;Object['defineProp'+'erty'](_0x156436,_0xb6dd8,{'get':function(){return this['data'][_0xb6dd8];},'set':function(_0x217dfa){const _0x49fcca=this['data'],_0xd00817=_0x49fcca[_0xb6dd8];_0x49fcca[_0xb6dd8]=_0x217dfa,this['fire']('set',_0xb6dd8,_0xd00817,_0x217dfa);},'configurable':!(0x123c+-0x2004+0xdc8)});}),_0x156436['_accessors'+'Built']=!(0x3b*-0x36+0x3*0x96a+0x544*-0x3);}['buildAcces'+'sors'](_0x17f8b3){Wh['_buildAcce'+'ssors'](this,_0x17f8b3);}['onSetEnabl'+'ed'](_0x22f99e,_0x3db11b,_0x4ff5c5){_0x3db11b!==_0x4ff5c5&&this['entity']['enabled']&&(_0x4ff5c5?this['onEnable']():this['onDisable']());}['onEnable'](){}['onDisable'](){}['onPostStat'+'eChange'](){}get['data'](){const _0x3e7728=this['system']['store'][this['entity']['getGuid']()];return _0x3e7728?_0x3e7728['data']:null;}set['enabled'](_0x4c67b6){}get['enabled'](){return!(-0x56b+-0x35*0x9d+0x4*0x97b);}};h(Wh,'order',-0x273*0x1+0x1297*-0x2+0x1*0x27a1);let we=Wh;class ct extends me{constructor(_0x25f5a8){super(),this['app']=_0x25f5a8,this['store']={},this['schema']=[];}['addCompone'+'nt'](_0x14618d,_0x59b507={}){const _0x8e6a0c=new this['ComponentT'+'ype'](this,_0x14618d),_0x259ef5=new this['DataType']();return this['store'][_0x14618d['getGuid']()]={'entity':_0x14618d,'data':_0x259ef5},_0x14618d[this['id']]=_0x8e6a0c,_0x14618d['c'][this['id']]=_0x8e6a0c,this['initialize'+'ComponentD'+'ata'](_0x8e6a0c,_0x59b507,[]),this['fire']('add',_0x14618d,_0x8e6a0c),_0x8e6a0c;}['removeComp'+'onent'](_0x410f7e){const _0x471abb=this['id'],_0x52e015=this['store'][_0x410f7e['getGuid']()],_0x20e74e=_0x410f7e['c'][_0x471abb];_0x20e74e['fire']('beforeremo'+'ve'),this['fire']('beforeremo'+'ve',_0x410f7e,_0x20e74e),delete this['store'][_0x410f7e['getGuid']()],_0x410f7e[_0x471abb]=void(-0x80f+0x2045+-0x6*0x409),delete _0x410f7e['c'][_0x471abb],this['fire']('remove',_0x410f7e,_0x52e015['data']);}['cloneCompo'+'nent'](_0x2125b3,_0x5b479d){const _0x185e26=this['store'][_0x2125b3['getGuid']()];return this['addCompone'+'nt'](_0x5b479d,_0x185e26['data']);}['initialize'+'ComponentD'+'ata'](_0x1d0db0,_0x98ddb3={},_0x41e050){for(let _0x1f77de=0x2564+0x172b*-0x1+-0xb*0x14b,_0x27fe02=_0x41e050['length'];_0x1f77de<_0x27fe02;_0x1f77de++){const _0x1e303e=_0x41e050[_0x1f77de];let _0x3de43f,_0x5bc713;typeof _0x1e303e=='object'?(_0x3de43f=_0x1e303e['name'],_0x5bc713=_0x1e303e['type']):(_0x3de43f=_0x1e303e,_0x5bc713=void(0x2dc+0x1a1*-0x13+0x1c17));let _0x5c5adc=_0x98ddb3[_0x3de43f];_0x5c5adc!==void(-0xf1f+0x1bd0+-0xcb1)?(_0x5bc713!==void(0xf*0x121+0x1a3+-0x1292)&&(_0x5c5adc=mL(_0x5c5adc,_0x5bc713)),_0x1d0db0[_0x3de43f]=_0x5c5adc):_0x1d0db0[_0x3de43f]=_0x1d0db0['data'][_0x3de43f];}_0x1d0db0['enabled']&&_0x1d0db0['entity']['enabled']&&_0x1d0db0['onEnable']();}['getPropert'+'iesOfType'](_0x33e2ca){const _0x502159=[];return(this['schema']||[])['forEach'](_0x35d206=>{_0x35d206&&typeof _0x35d206=='object'&&_0x35d206['type']===_0x33e2ca&&_0x502159['push'](_0x35d206);}),_0x502159;}['destroy'](){this['off']();}}function mL(_0x436a79,_0x5903f3){if(!_0x436a79)return _0x436a79;switch(_0x5903f3){case'rgb':return _0x436a79 instanceof ie?_0x436a79['clone']():new ie(_0x436a79[-0x1600+0xff4+0x60c],_0x436a79[0x6ef+0x1426*-0x1+0xd38],_0x436a79[0x303+-0x15*-0xe9+0x161e*-0x1]);case'rgba':return _0x436a79 instanceof ie?_0x436a79['clone']():new ie(_0x436a79[0xba2+-0x23c6*-0x1+-0x5ed*0x8],_0x436a79[-0x1f37+-0x1394*0x1+0x32cc],_0x436a79[0x4d8+-0x558+0x82],_0x436a79[-0x13db+-0x33f*-0xc+-0x1316]);case'vec2':return _0x436a79 instanceof J?_0x436a79['clone']():new J(_0x436a79[0x21b1+0x7c*-0x8+-0x1dd1*0x1],_0x436a79[0x3*0x7af+-0x39*-0x96+-0x3872]);case'vec3':return _0x436a79 instanceof D?_0x436a79['clone']():new D(_0x436a79[0x8*-0x462+-0x4b*0x5e+0x3e9a],_0x436a79[0x2142+0x3*-0x47f+0x13c4*-0x1],_0x436a79[-0x1*0x933+-0x2581*0x1+0x2eb6]);case'vec4':return _0x436a79 instanceof re?_0x436a79['clone']():new re(_0x436a79[-0x179e+0x2703+-0xf65],_0x436a79[-0x213+0xa0*0x2e+-0x1aac],_0x436a79[0x2b*-0x4f+0x3e7+-0x4b*-0x20],_0x436a79[0x6*-0x2db+-0x1093+-0xa6*-0x34]);case'boolean':case'number':case'string':return _0x436a79;case'entity':return _0x436a79;default:throw new Error('Could\x20not\x20'+'convert\x20un'+'handled\x20ty'+'pe:\x20'+_0x5903f3);}}const Bv=-0x1dc4+-0x24b*-0x5+0x124d,Su=-0x655*-0x2+-0x351*0x6+-0x6d*-0x11,yu=-0x199a+0xf*-0x136+0x1af*0x1a;class _L{constructor(){this['_left']=(-0x68+-0x1*0x649+-0x2*-0x359)/(0x6f*-0x16+0x543+-0x49*-0xf),this['_right']=-(-0x23ad*-0x1+-0x1b4c+0x43*-0x20)/(0x169a+0x97*-0x1f+0x55*-0xd),this['_len']=-0x20c*-0x3+-0xa72+0x44e,this['_recip']=0x264+-0x7ed+0x589*0x1,this['_p0']=0x1f1e+-0x12c4+-0xc5a*0x1,this['_p1']=0x8d*-0x17+-0x70*-0x37+0x1*-0xb65,this['_t']=0x1471+-0x1960+0x4ef,this['_hermite']={'valid':!(-0x136*0x3+-0x5a4+-0x947*-0x1),'p0':0x0,'m0':0x0,'p1':0x0,'m1':0x0};}['update'](_0x4064ee,_0xf3a524){if(_0x4064ee<this['_left']||_0x4064ee>=this['_right']){const _0x22626f=_0xf3a524['length'];if(!_0x22626f)this['_left']=-(0x255c+-0x3*-0x81f+-0x3db8)/(0x2*0xe11+-0x12ab+-0x977),this['_right']=(-0x17ff+-0x16a7+-0x9*-0x52f)/(-0x19ed+0x238+0x17b5),this['_len']=-0xcb*-0x2a+0x1f*0x1a+-0x2474,this['_recip']=0x2380+-0x1*0x1c+-0x2364,this['_p0']=this['_p1']=-0xe3*-0x1d+-0x1*-0xc96+-0x264d;else{if(_0x4064ee<_0xf3a524[0x1*0x1b45+0x13a5*-0x1+-0x7a0])this['_left']=-(0x1cf9*-0x1+0x181+-0x1b79*-0x1)/(-0x234*-0x7+-0x2b*-0x23+0x1*-0x154d),this['_right']=_0xf3a524[0x1*0x1e83+-0x252a+0x83*0xd],this['_len']=0x1c2c+-0x8ba*0x4+0x1af*0x4,this['_recip']=0x3*0x60f+-0x1826+0x5f9,this['_p0']=this['_p1']=-0x20a1+-0x20ec+0x418d;else{if(_0x4064ee>=_0xf3a524[_0x22626f-(-0x1*-0x2042+0x2420+-0x4461)])this['_left']=_0xf3a524[_0x22626f-(0xdc6+0x1c31+-0x14fb*0x2)],this['_right']=(0x1afd+-0x3ff*0x1+-0x16fd)/(-0x25a3+-0x7*0x21+0x268a),this['_len']=0x1b70+0x8a*0x18+-0x2860,this['_recip']=-0x76*-0x8+0x2072+-0x172*0x19,this['_p0']=this['_p1']=_0x22626f-(0x20b*-0x5+-0x11e7*-0x1+-0x7af);else{const _0x152a67=this['_findKey'](_0x4064ee,_0xf3a524);this['_left']=_0xf3a524[_0x152a67],this['_right']=_0xf3a524[_0x152a67+(-0x3*0x5bb+0xe75*-0x2+0x2e1c)],this['_len']=this['_right']-this['_left'];const _0x565ea0=(0x1472*-0x1+-0x15f4+0x2a67)/this['_len'];this['_recip']=isFinite(_0x565ea0)?_0x565ea0:0xe54+-0x2a+-0xe2a,this['_p0']=_0x152a67,this['_p1']=_0x152a67+(0x23f7+-0xccf*-0x1+-0x30c5);}}}}this['_t']=this['_recip']===0x1*0x1449+-0x191e+0x4d5?0x10d*-0x2+0xbbf+-0x3*0x337:(_0x4064ee-this['_left'])*this['_recip'],this['_hermite']['valid']=!(-0x2*0x6a0+-0x2f2+0xb*0x179);}['_findKey'](_0x1cac28,_0x475969){let _0x352812=-0x1*0x22e5+-0x11*0x23e+0x4903;for(;_0x1cac28>=_0x475969[_0x352812+(-0x1e2f+0x2f*-0x2b+-0x2615*-0x1)];)_0x352812++;return _0x352812;}['eval'](_0x93a866,_0x35ca60,_0x2a3da9){const _0xc31f21=_0x2a3da9['_data'],_0x28434d=_0x2a3da9['_component'+'s'],_0x5cbf8e=this['_p0']*_0x28434d;if(_0x35ca60===Bv){for(let _0x5d479c=-0xf*-0x81+0x1c*0x4f+0x13f*-0xd;_0x5d479c<_0x28434d;++_0x5d479c)_0x93a866[_0x5d479c]=_0xc31f21[_0x5cbf8e+_0x5d479c];}else{const _0x53643f=this['_t'],_0x436647=this['_p1']*_0x28434d;switch(_0x35ca60){case Su:for(let _0x212607=-0x16*-0x2f+0x2142+0x554*-0x7;_0x212607<_0x28434d;++_0x212607)_0x93a866[_0x212607]=Y['lerp'](_0xc31f21[_0x5cbf8e+_0x212607],_0xc31f21[_0x436647+_0x212607],_0x53643f);break;case yu:{const _0x563a64=this['_hermite'];if(!_0x563a64['valid']){const _0x1e657e=_0x53643f*_0x53643f,_0xc79b16=_0x53643f+_0x53643f,_0x4f420e=-0x1a68+0x1bcb+-0x162-_0x53643f,_0x395376=_0x4f420e*_0x4f420e;_0x563a64['valid']=!(-0xaa5*0x1+-0x1*-0x1411+-0x9*0x10c),_0x563a64['p0']=(0x748+-0x1*0x22cf+0x1b88+_0xc79b16)*_0x395376,_0x563a64['m0']=_0x53643f*_0x395376,_0x563a64['p1']=_0x1e657e*(0xd0c+0x1*-0x1501+0x7f8-_0xc79b16),_0x563a64['m1']=_0x1e657e*(_0x53643f-(0x11ae+0x1483+-0x2630));}const _0x464e3a=(this['_p0']*(-0x22da+-0x46e+-0x15*-0x1df)+(-0xfd+-0xed4+-0x96*-0x1b))*_0x28434d,_0x3a6bdd=(this['_p0']*(0x1cd7+-0x1e25+0x151*0x1)+(-0x1cd0+0x164f*0x1+0x683))*_0x28434d,_0x31ec1b=(this['_p1']*(-0x768*-0x1+0xc3c+0x1*-0x13a1)+(0xf4*-0x4+-0xa4*0x1b+0x151d))*_0x28434d,_0x500170=(this['_p1']*(-0x193b+-0x7*-0x2be+0x102*0x6)+(0x992+0x1b45+-0x24d7*0x1))*_0x28434d;for(let _0x3d1ac8=0x6cd*0x1+-0x8*0x5+0x51*-0x15;_0x3d1ac8<_0x28434d;++_0x3d1ac8)_0x93a866[_0x3d1ac8]=_0x563a64['p0']*_0xc31f21[_0x464e3a+_0x3d1ac8]+_0x563a64['m0']*_0xc31f21[_0x3a6bdd+_0x3d1ac8]*this['_len']+_0x563a64['p1']*_0xc31f21[_0x31ec1b+_0x3d1ac8]+_0x563a64['m1']*_0xc31f21[_0x500170+_0x3d1ac8]*this['_len'];break;}}}}}class Ig{constructor(_0x3562a1){this['_name']=_0x3562a1['name']+'Snapshot',this['_time']=-(0x1f12+0x25*0x6b+-0x2e88),this['_cache']=[],this['_results']=[];for(let _0x24e857=0xd82+-0x4b9+-0x1*0x8c9;_0x24e857<_0x3562a1['_inputs']['length'];++_0x24e857)this['_cache'][_0x24e857]=new _L();const _0xe57dcf=_0x3562a1['_curves'],_0xf808f3=_0x3562a1['_outputs'];for(let _0x3e839d=-0x5ee*-0x6+-0x1b02+-0x2*0x449;_0x3e839d<_0xe57dcf['length'];++_0x3e839d){const _0x53a147=_0xe57dcf[_0x3e839d],_0x304486=_0xf808f3[_0x53a147['_output']],_0x1cfa3d=[];for(let _0x30c822=0xcd8+0xc5*0x10+-0x118*0x17;_0x30c822<_0x304486['_component'+'s'];++_0x30c822)_0x1cfa3d[_0x30c822]=0x273*-0x9+0x1*-0x1dc1+0x4*0xcf3;this['_results'][_0x3e839d]=_0x1cfa3d;}}}const qo=class qo{constructor(_0x9e072c,_0x477ddc,_0x3622f3,_0x536c88,_0x122afb,_0x354850){this['_name']=_0x9e072c['name'],this['_track']=_0x9e072c,this['_snapshot']=new Ig(_0x9e072c),this['_playing']=_0x536c88,this['_time']=_0x477ddc,this['_speed']=_0x3622f3,this['_loop']=_0x122afb,this['_blendWeig'+'ht']=-0x782*0x2+0xdfd+0x108,this['_blendOrde'+'r']=-0xad*0x2d+0x11*0xa3+-0x9cb*-0x2,this['_eventHand'+'ler']=_0x354850,this['alignCurso'+'rToCurrent'+'Time']();}set['name'](_0xc0bc99){this['_name']=_0xc0bc99;}get['name'](){return this['_name'];}set['track'](_0x39dd86){this['_track']=_0x39dd86,this['_snapshot']=new Ig(_0x39dd86);}get['track'](){return this['_track'];}get['snapshot'](){return this['_snapshot'];}set['time'](_0x397c0a){this['_time']=_0x397c0a,this['alignCurso'+'rToCurrent'+'Time']();}get['time'](){return this['_time'];}set['speed'](_0x1646a8){const _0x38e6f0=Math['sign'](_0x1646a8)!==Math['sign'](this['_speed']);this['_speed']=_0x1646a8,_0x38e6f0&&this['alignCurso'+'rToCurrent'+'Time']();}get['speed'](){return this['_speed'];}set['loop'](_0x1b9a3c){this['_loop']=_0x1b9a3c;}get['loop'](){return this['_loop'];}set['blendWeigh'+'t'](_0x509d42){this['_blendWeig'+'ht']=_0x509d42;}get['blendWeigh'+'t'](){return this['_blendWeig'+'ht'];}set['blendOrder'](_0x2fcbe8){this['_blendOrde'+'r']=_0x2fcbe8;}get['blendOrder'](){return this['_blendOrde'+'r'];}set['eventCurso'+'r'](_0x3b4893){this['_eventCurs'+'or']=_0x3b4893;}get['eventCurso'+'r'](){return this['_eventCurs'+'or'];}get['eventCurso'+'rEnd'](){return this['isReverse']?-0x1*0x2001+-0xc*0x1f3+0x3765:this['_track']['events']['length']-(0x15b1+0x14ac+-0x2a5c);}get['nextEvent'](){return this['_track']['events'][this['_eventCurs'+'or']];}get['isReverse'](){return this['_speed']<0x19c5+0x1b4d+-0x1a89*0x2;}['nextEventA'+'headOfTime'](_0x3a926d){return this['nextEvent']?this['isReverse']?this['nextEvent']['time']<=_0x3a926d:this['nextEvent']['time']>=_0x3a926d:!(-0x9fe*0x2+0x219c+-0xb*0x13d);}['nextEventB'+'ehindTime'](_0x3a041c){return this['nextEvent']?_0x3a041c===this['track']['duration']?this['isReverse']?this['nextEvent']['time']>=_0x3a041c:this['nextEvent']['time']<=_0x3a041c:this['isReverse']?this['nextEvent']['time']>_0x3a041c:this['nextEvent']['time']<_0x3a041c:!(0xb9d*0x1+-0x22d1+0x1735);}['resetEvent'+'Cursor'](){this['_eventCurs'+'or']=this['isReverse']?this['_track']['events']['length']-(-0x103c+0x98*0x17+0x295):-0x1*0xc4d+0x606*-0x5+0x1*0x2a6b;}['moveEventC'+'ursor'](){this['_eventCurs'+'or']+=this['isReverse']?-(0x1b75*0x1+-0x117b+-0x9f9):-0x71c+0x41b*-0x5+0x1ba4,this['_eventCurs'+'or']>=this['track']['events']['length']?this['_eventCurs'+'or']=-0x3*-0x78d+-0x11ee+0x3*-0x193:this['_eventCurs'+'or']<-0x5c6*0x2+0x1*-0x3d3+0xf5f&&(this['_eventCurs'+'or']=this['track']['events']['length']-(-0x7b*-0x29+0x78e+-0x1b40));}['clipFrameT'+'ime'](_0x3078cd){const _0x1fd03b=qo['eventFrame'];_0x1fd03b['start']=0x1d42+0x1*-0x1c4c+-0xf6,_0x1fd03b['end']=_0x3078cd,_0x1fd03b['residual']=0x4ab+0x511*0x5+-0x280*0xc,this['isReverse']?_0x3078cd<-0x259c*-0x1+-0x2f*0x8b+-0x26b*0x5&&(_0x1fd03b['start']=this['track']['duration'],_0x1fd03b['end']=0x2*0x9f5+-0x2638+0x124e,_0x1fd03b['residual']=_0x3078cd+this['track']['duration']):_0x3078cd>this['track']['duration']&&(_0x1fd03b['start']=-0xa2c+-0x1105+0x1b31,_0x1fd03b['end']=this['track']['duration'],_0x1fd03b['residual']=_0x3078cd-this['track']['duration']);}['alignCurso'+'rToCurrent'+'Time'](){for(this['resetEvent'+'Cursor']();this['nextEventB'+'ehindTime'](this['_time'])&&this['_eventCurs'+'or']!==this['eventCurso'+'rEnd'];)this['moveEventC'+'ursor']();}['fireNextEv'+'ent'](){this['_eventHand'+'ler']['fire'](this['nextEvent']['name'],{'track':this['track'],...this['nextEvent']}),this['moveEventC'+'ursor']();}['fireNextEv'+'entInFrame'](_0x2ab894,_0x2bfca1){return this['nextEventA'+'headOfTime'](_0x2ab894)&&this['nextEventB'+'ehindTime'](_0x2bfca1)?(this['fireNextEv'+'ent'](),!(-0x19*-0xb7+0x1*0x5ba+-0x1799)):!(-0x1578*-0x1+0x1bd*-0x13+-0xa*-0x128);}['activeEven'+'tsForFrame'](_0x525e1f,_0x4497ab){const _0x40f314=qo['eventFrame'];this['clipFrameT'+'ime'](_0x4497ab);const _0x227a57=this['eventCurso'+'r'];for(;this['fireNextEv'+'entInFrame'](_0x525e1f,_0x40f314['end'])&&_0x227a57!==this['eventCurso'+'r'];);this['loop']&&Math['abs'](_0x40f314['residual'])>0x1a41*-0x1+-0x2d*0xb4+-0x1*-0x39e5&&this['activeEven'+'tsForFrame'](_0x40f314['start'],_0x40f314['residual']);}['progressFo'+'rTime'](_0x495065){return _0x495065*this['_speed']/this['_track']['duration'];}['_update'](_0x208b6e){if(this['_playing']){let _0x31add2=this['_time'];const _0x280bb4=this['_track']['duration'],_0x1efd3c=this['_speed'],_0x388dd9=this['_loop'];this['_track']['events']['length']>0x5*-0x62f+0x59b*0x3+0x5*0x2d2&&_0x280bb4>0xe*-0xb3+0xfe5*-0x2+0x2*0x14ca&&this['activeEven'+'tsForFrame'](_0x31add2,_0x31add2+_0x1efd3c*_0x208b6e),_0x31add2+=_0x1efd3c*_0x208b6e,_0x1efd3c>=0x236e+-0x1450+0xf*-0x102?_0x31add2>_0x280bb4&&(_0x388dd9?_0x31add2=_0x31add2%_0x280bb4||-0x51d+-0x22*0x10+0x73d:(_0x31add2=this['_track']['duration'],this['pause']())):_0x31add2<0x42e+-0xfed*-0x1+-0x141b&&(_0x388dd9?_0x31add2=_0x280bb4+(_0x31add2%_0x280bb4||0x1cf1+0x24bd+-0x41ae):(_0x31add2=-0x5e6*-0x5+0x1a00+-0x377e,this['pause']())),this['_time']=_0x31add2;}this['_time']!==this['_snapshot']['_time']&&this['_track']['eval'](this['_time'],this['_snapshot']);}['play'](){this['_playing']=!(-0xfb2+-0x1*-0x2064+-0x10b2),this['_time']=0x31*-0xc2+-0x19df+0x3f01;}['stop'](){this['_playing']=!(-0x71b*0x2+-0x13e5+-0x110e*-0x2),this['_time']=0x17e0+-0x605*0x6+0xc3e;}['pause'](){this['_playing']=!(-0x257e*0x1+-0x8f+0x260e);}['resume'](){this['_playing']=!(0x1197+-0x45*-0x8f+0x1*-0x3822);}['reset'](){this['_time']=0x1349*-0x1+0x6*-0x90+0x16a9;}};h(qo,'eventFrame',{'start':0x0,'end':0x0,'residual':0x0});let Dh=qo;const zv='NONE',gL='PREV_STATE',SL='NEXT_STATE',yL='PREV_STATE'+'_NEXT_STAT'+'E',vL='NEXT_STATE'+'_PREV_STAT'+'E',xL='GREATER_TH'+'AN',TL='LESS_THAN',wL='GREATER_TH'+'AN_EQUAL_T'+'O',EL='LESS_THAN_'+'EQUAL_TO',bL='EQUAL_TO',AL='NOT_EQUAL_'+'TO',Lg='INTEGER',Rg='FLOAT',Og='BOOLEAN',Qc='TRIGGER',CL='1D',PL='2D_DIRECTI'+'ONAL',ML='2D_CARTESI'+'AN',DL='DIRECT',Co='START',vu='END',qr='ANY',Ih=[Co,vu,qr],Vv='OVERWRITE',IL='ADDITIVE';class Ht{static['dot'](_0x38f48e,_0x554f3f){const _0xfe0211=_0x38f48e['length'];let _0x19a93d=-0x99*0x29+0x15d9+0x2a8;for(let _0x58035a=0xb*-0x71+-0x2*-0x10f6+-0x1d11;_0x58035a<_0xfe0211;++_0x58035a)_0x19a93d+=_0x38f48e[_0x58035a]*_0x554f3f[_0x58035a];return _0x19a93d;}static['normalize'](_0x1fd6ee){let _0x2a5cf9=Ht['dot'](_0x1fd6ee,_0x1fd6ee);if(_0x2a5cf9>-0x2373+-0x4*0x7a5+0x4207){_0x2a5cf9=(-0x1c1a+-0x2165+0x3d80)/Math['sqrt'](_0x2a5cf9);const _0x5a6740=_0x1fd6ee['length'];for(let _0x324b95=0xa*-0x147+0x1e77*-0x1+0x1*0x2b3d;_0x324b95<_0x5a6740;++_0x324b95)_0x1fd6ee[_0x324b95]*=_0x2a5cf9;}}static['set'](_0x4bc1b3,_0x10b783,_0x3cab2f){const _0x1284dd=_0x4bc1b3['length'];if(_0x3cab2f==='quaternion'){let _0x13eac9=Ht['dot'](_0x10b783,_0x10b783);_0x13eac9>0x20ec+0x2017+-0x4103&&(_0x13eac9=(0x7*0x503+0x1cb1+0xcc1*-0x5)/Math['sqrt'](_0x13eac9));for(let _0x2cb562=0x13f*0x19+0x1a12+-0x3939;_0x2cb562<_0x1284dd;++_0x2cb562)_0x4bc1b3[_0x2cb562]=_0x10b783[_0x2cb562]*_0x13eac9;}else{for(let _0x40d0a2=0x1480+0x1*-0x17b9+0x339;_0x40d0a2<_0x1284dd;++_0x40d0a2)_0x4bc1b3[_0x40d0a2]=_0x10b783[_0x40d0a2];}}static['blendVec'](_0x277953,_0x5c0d58,_0x5ab452,_0x20b354){const _0x13ebbc=_0x20b354?-0x9a4+-0x246c+0x2e11:0x170c+0x1*-0xf57+-0x11*0x74-_0x5ab452,_0x4724fb=_0x277953['length'];for(let _0x4c6f39=-0x7*0x3d1+0xe6c+0xc4b;_0x4c6f39<_0x4724fb;++_0x4c6f39)_0x277953[_0x4c6f39]=_0x277953[_0x4c6f39]*_0x13ebbc+_0x5c0d58[_0x4c6f39]*_0x5ab452;}static['blendQuat'](_0x5b1ed1,_0x779876,_0x10e29b,_0x1a62f0){const _0x558672=_0x5b1ed1['length'],_0x204765=_0x1a62f0?-0xc*-0x289+0x234a+-0x1*0x41b5:0x15cc+0x124a+-0x1f*0x14b-_0x10e29b;Ht['dot'](_0x5b1ed1,_0x779876)<0x7d8*-0x3+-0x4c5+0x1c4d&&(_0x10e29b=-_0x10e29b);for(let _0x391f8b=0x16f*0xd+0x104f+-0x22f2;_0x391f8b<_0x558672;++_0x391f8b)_0x5b1ed1[_0x391f8b]=_0x5b1ed1[_0x391f8b]*_0x204765+_0x779876[_0x391f8b]*_0x10e29b;_0x1a62f0||Ht['normalize'](_0x5b1ed1);}static['blend'](_0x43a2f5,_0x5c9f3d,_0xc12483,_0x2b754c,_0x25dc99){_0x2b754c==='quaternion'?Ht['blendQuat'](_0x43a2f5,_0x5c9f3d,_0xc12483,_0x25dc99):Ht['blendVec'](_0x43a2f5,_0x5c9f3d,_0xc12483,_0x25dc99);}static['stableSort'](_0x498ebe,_0x2810a0){const _0x177644=_0x498ebe['length'];for(let _0x513ab3=-0x7d2+0x17*-0x19d+0x2ced;_0x513ab3<_0x177644-(0xe0*-0x18+0x1114*-0x1+-0x1*-0x2615);++_0x513ab3)for(let _0x353f62=_0x513ab3+(0xa*-0x199+-0x237b+0x7*0x75a);_0x353f62<_0x177644;++_0x353f62)if(_0x2810a0(_0x498ebe[_0x353f62],_0x498ebe[_0x513ab3])){const _0xc1f594=_0x498ebe[_0x513ab3];_0x498ebe[_0x513ab3]=_0x498ebe[_0x353f62],_0x498ebe[_0x353f62]=_0xc1f594;}}}const st=class st{constructor(_0x19c8be,_0x173bfe){this['_component']=_0x19c8be,this['mask']=new Int8Array(_0x19c8be['layers']['length']),this['weights']=new Float32Array(_0x19c8be['layers']['length']),this['totalWeigh'+'t']=0x24a8+-0x1e90+-0x618,this['counter']=0x1347+-0xe2a+-0x51d,this['layerCount'+'er']=0x2*0x134f+-0x3d*-0x51+0x39eb*-0x1,this['valueType']=_0x173bfe,this['dirty']=!(0x1716+0x5f0+0x2e7*-0xa),this['value']=_0x173bfe===st['TYPE_QUAT']?[0x4ff*0x1+0x87a+0x1*-0xd79,-0x25*-0xb+0x3ee*-0x5+0x120f,0xe67+0x2e*-0x3e+0x343*-0x1,0x195a+-0x19af+-0x56*-0x1]:[-0x2687*0x1+0x20e0+-0x5a7*-0x1,0x3b8+0x1*-0x527+-0x1*-0x16f,-0x1522+0xffb+-0x1*-0x527],this['baseValue']=null,this['setter']=null;}get['_normalize'+'Weights'](){return this['_component']['normalizeW'+'eights'];}['getWeight'](_0x3a3c7b){return this['dirty']&&this['updateWeig'+'hts'](),this['_normalize'+'Weights']&&this['totalWeigh'+'t']===0x164c+0x1ae9+-0x1067*0x3||!this['mask'][_0x3a3c7b]?-0x9e*-0xd+0x4*-0x3a1+0x67e:this['_normalize'+'Weights']?this['weights'][_0x3a3c7b]/this['totalWeigh'+'t']:Y['clamp'](this['weights'][_0x3a3c7b],-0x1*-0x1c9+-0x10ac*-0x2+-0x11*0x211,-0x1ecc+-0x4a8+-0x139*-0x1d);}['_layerBlen'+'dType'](_0x48b86a){return this['_component']['layers'][_0x48b86a]['blendType'];}['setMask'](_0x54fae2,_0x514f8e){this['mask'][_0x54fae2]=_0x514f8e,this['_normalize'+'Weights']&&(this['_component']['layers'][_0x54fae2]['blendType']===Vv&&(this['mask']=this['mask']['fill'](0x22fd+-0x1*0x23a4+0xa7,0xb47*0x1+0x1841*-0x1+-0xb*-0x12e,_0x54fae2)),this['dirty']=!(-0x185+0xfe5+-0xe60));}['updateWeig'+'hts'](){this['totalWeigh'+'t']=0xd*0x6a+-0x20d7+-0xb*-0x27f;for(let _0x3f4182=-0xa71+0x510*-0x4+-0x51*-0x61;_0x3f4182<this['weights']['length'];_0x3f4182++)this['weights'][_0x3f4182]=this['_component']['layers'][_0x3f4182]['weight'],this['totalWeigh'+'t']+=this['mask'][_0x3f4182]*this['weights'][_0x3f4182];this['dirty']=!(0x12b+0xfe9*0x1+0x5b1*-0x3);}['updateValu'+'e'](_0x1ecb29,_0x10d2de){if(this['counter']===0x1bcb+-0x2359*-0x1+-0x3f24&&(Ht['set'](this['value'],st['IDENTITY_Q'+'UAT_ARR'],this['valueType']),this['_normalize'+'Weights']||Ht['blend'](this['value'],this['baseValue'],0xe5*0x7+0x5a4+-0xbe6,this['valueType'])),!(!this['mask'][_0x1ecb29]||this['getWeight'](_0x1ecb29)===-0xe95+-0x4cf+0x1364)){if(this['_layerBlen'+'dType'](_0x1ecb29)===IL&&!this['_normalize'+'Weights']){if(this['valueType']===st['TYPE_QUAT']){const _0x584c26=st['q1']['set'](this['value'][0x1dbd+0xbd0+-0x298d],this['value'][-0x14ec*0x1+0x1ade+-0x5f1],this['value'][-0x68*0xd+-0xea5+0x9*0x237],this['value'][0xdcf+-0x472+-0x95a]),_0x14cddd=st['q2']['set'](this['baseValue'][-0x10cf+-0x4be*0x5+0x2885],this['baseValue'][-0x12da+-0x1cf1+-0x17e6*-0x2],this['baseValue'][0x5*-0x464+-0x4eb+-0x3d7*-0x7],this['baseValue'][-0xb7c+-0x1dab+0x292a]),_0x36f451=st['q3']['set'](_0x10d2de[0x1a*-0x61+-0x26b1+0x2db*0x11],_0x10d2de[0x255f+-0x76c+0xef9*-0x2],_0x10d2de[-0x1*-0x1a7b+0x1f*0x3c+-0xb3f*0x3],_0x10d2de[0x11b5+-0x7*0xd0+-0xc02]),_0x5b0278=_0x14cddd['invert']()['mul'](_0x36f451);_0x5b0278['slerp'](le['IDENTITY'],_0x5b0278,this['getWeight'](_0x1ecb29)),_0x584c26['mul'](_0x5b0278),st['quatArr'][0xf27+0x2da+-0x1a3*0xb]=_0x584c26['x'],st['quatArr'][0x24e6+0xcef*0x1+-0x31d4]=_0x584c26['y'],st['quatArr'][-0x1d6+-0x1*0x1e25+0x1ffd]=_0x584c26['z'],st['quatArr'][-0xae3+-0x767*0x5+-0x1*-0x2fe9]=_0x584c26['w'],Ht['set'](this['value'],st['quatArr'],this['valueType']);}else st['vecArr'][0x21cb+0x1*0x102b+-0x18fb*0x2]=_0x10d2de[-0x1e88+-0x11e2+0x1835*0x2]-this['baseValue'][-0x14db*-0x1+0x12*0x3e+0x5*-0x50b],st['vecArr'][-0x1f70+-0x2050+-0x35b*-0x13]=_0x10d2de[0x2325+-0x175*-0xa+0x586*-0x9]-this['baseValue'][-0x16bb+0x137e+0x33e],st['vecArr'][0x199d+0x11d5+-0x2b70]=_0x10d2de[0x1db1+0x1450+-0x1*0x31ff]-this['baseValue'][0x18f1+0x223c+-0x693*0x9],Ht['blend'](this['value'],st['vecArr'],this['getWeight'](_0x1ecb29),this['valueType'],!(-0x17*0x3+-0x12e*0x6+0x3*0x273));}else Ht['blend'](this['value'],_0x10d2de,this['getWeight'](_0x1ecb29),this['valueType']);this['setter']&&this['setter'](this['value']);}}['unbind'](){this['setter']&&this['setter'](this['baseValue']);}};h(st,'TYPE_QUAT','quaternion'),h(st,'TYPE_VEC3','vector3'),h(st,'q1',new le()),h(st,'q2',new le()),h(st,'q3',new le()),h(st,'quatArr',[0x25fc+0x84c+-0x1724*0x2,0x3*-0xc39+0x2e7*-0x4+-0x2d7*-0x11,-0x3*0x3a1+-0x1a03*0x1+0x24e6,-0x1*-0x19a+0xb78+-0xd11]),h(st,'vecArr',[-0xfa0+0x5*-0x7ab+0x35f7,0x2575+0x492+-0x2a07,0x16e3+0x2c9*-0x8+-0x9b]),h(st,'IDENTITY_Q'+'UAT_ARR',[0x1181*-0x1+-0x1ae7+0x2c68,0x23a3+0x1558+-0x1f7*0x1d,0x23*-0x39+0x98e*-0x2+0x1ae7,0x32b*0x2+0x2624*-0x1+0x1fcf]);let Vo=st;class Gv{constructor(_0x24e358){this['_binder']=_0x24e358,this['_clips']=[],this['_inputs']=[],this['_outputs']=[],this['_targets']={};}get['clips'](){return this['_clips'];}['addClip'](_0x4e49dc){const _0xe5655d=this['_targets'],_0x2f01e7=this['_binder'],_0x12cd64=_0x4e49dc['track']['curves'],_0x217d27=_0x4e49dc['snapshot'],_0x195bf3=[],_0x54628f=[];for(let _0x2da365=-0x1*0xf5e+0xb*0x1d0+-0xea*0x5;_0x2da365<_0x12cd64['length'];++_0x2da365){const _0xd6e350=_0x12cd64[_0x2da365]['paths'];for(let _0x5687aa=-0xba+0x10d*-0xc+0x6ab*0x2;_0x5687aa<_0xd6e350['length'];++_0x5687aa){const _0x246943=_0xd6e350[_0x5687aa],_0x29f1ab=_0x2f01e7['resolve'](_0x246943);let _0x2c9b5c=_0xe5655d[_0x29f1ab&&_0x29f1ab['targetPath']||null];if(!_0x2c9b5c&&_0x29f1ab){_0x2c9b5c={'target':_0x29f1ab,'value':[],'curves':0x0,'blendCounter':0x0};for(let _0x6006f0=-0x24ce+-0xb80+-0x2*-0x1827;_0x6006f0<_0x2c9b5c['target']['components'];++_0x6006f0)_0x2c9b5c['value']['push'](-0x2*-0x16+0x24e2+-0x1*0x250e);if(_0xe5655d[_0x29f1ab['targetPath']]=_0x2c9b5c,_0x2f01e7['animCompon'+'ent']){if(!_0x2f01e7['animCompon'+'ent']['targets'][_0x29f1ab['targetPath']]){let _0x2466f8;_0x29f1ab['targetPath']['substring'](_0x29f1ab['targetPath']['length']-(0x1*-0x16a7+0x11ef+-0x197*-0x3))==='localRotat'+'ion'?_0x2466f8=Vo['TYPE_QUAT']:_0x2466f8=Vo['TYPE_VEC3'],_0x2f01e7['animCompon'+'ent']['targets'][_0x29f1ab['targetPath']]=new Vo(_0x2f01e7['animCompon'+'ent'],_0x2466f8);}_0x2f01e7['animCompon'+'ent']['targets'][_0x29f1ab['targetPath']]['layerCount'+'er']++,_0x2f01e7['animCompon'+'ent']['targets'][_0x29f1ab['targetPath']]['setMask'](_0x2f01e7['layerIndex'],-0x2*0xd99+-0x5*0x1d6+-0x8b*-0x43);}}_0x2c9b5c&&(_0x2c9b5c['curves']++,_0x195bf3['push'](_0x217d27['_results'][_0x2da365]),_0x54628f['push'](_0x2c9b5c));}}this['_clips']['push'](_0x4e49dc),this['_inputs']['push'](_0x195bf3),this['_outputs']['push'](_0x54628f);}['removeClip'](_0x4bb2f1){const _0x1be7cd=this['_targets'],_0x1e8422=this['_binder'],_0x4e1871=this['_clips'],_0x268669=_0x4e1871[_0x4bb2f1]['track']['curves'];for(let _0x2a6bb6=0x509*0x5+-0xbe7*-0x1+-0x1*0x2514;_0x2a6bb6<_0x268669['length'];++_0x2a6bb6){const _0x5dc605=_0x268669[_0x2a6bb6]['paths'];for(let _0x313629=-0x1747+0x1ee8+0x7*-0x117;_0x313629<_0x5dc605['length'];++_0x313629){const _0x169fc7=_0x5dc605[_0x313629],_0x486dfc=this['_binder']['resolve'](_0x169fc7);_0x486dfc&&(_0x486dfc['curves']--,_0x486dfc['curves']===0x15e*-0x9+-0x7fe*0x3+0x2448&&(_0x1e8422['unresolve'](_0x169fc7),delete _0x1be7cd[_0x486dfc['targetPath']],_0x1e8422['animCompon'+'ent']&&_0x1e8422['animCompon'+'ent']['targets'][_0x486dfc['targetPath']]['layerCount'+'er']--));}}_0x4e1871['splice'](_0x4bb2f1,-0xd*-0x2a2+0x1*-0x878+-0x15b*0x13),this['_inputs']['splice'](_0x4bb2f1,-0x26bb*0x1+-0x121*-0x1c+-0x72*-0x10),this['_outputs']['splice'](_0x4bb2f1,-0x9*-0x404+-0x1*-0xcff+-0x1891*0x2);}['removeClip'+'s'](){for(;this['_clips']['length']>-0x1de7+-0x1f*-0x13c+-0x1*0x85d;)this['removeClip'](0x161*0x16+-0x2637+-0x7e1*-0x1);}['updateClip'+'Track'](_0x5644a4,_0x294d25){this['_clips']['forEach'](_0x449647=>{_0x449647['name']['includes'](_0x5644a4)&&(_0x449647['track']=_0x294d25);}),this['rebind']();}['findClip'](_0x4a90e1){const _0x27a26b=this['_clips'];for(let _0x26c7da=0x80e+0x1a3+-0x9b1*0x1;_0x26c7da<_0x27a26b['length'];++_0x26c7da){const _0x4a263c=_0x27a26b[_0x26c7da];if(_0x4a263c['name']===_0x4a90e1)return _0x4a263c;}return null;}['rebind'](){this['_binder']['rebind'](),this['_targets']={};const _0xc3bfca=[...this['clips']];this['removeClip'+'s'](),_0xc3bfca['forEach'](_0x85c69a=>{this['addClip'](_0x85c69a);});}['assignMask'](_0x367efd){return this['_binder']['assignMask'](_0x367efd);}['update'](_0x3b9472,_0x184ee9=!(-0xd*-0x3e+0x315*0x9+0x1*-0x1ee3)){const _0x299856=this['_clips'],_0x36ef45=_0x299856['map']((_0x38b5da,_0x87e64d)=>_0x87e64d);Ht['stableSort'](_0x36ef45,(_0x330fd8,_0x773d9e)=>_0x299856[_0x330fd8]['blendOrder']<_0x299856[_0x773d9e]['blendOrder']);for(let _0x472bf1=0x7*0x469+-0x2b*-0xa8+-0x7*0x871;_0x472bf1<_0x36ef45['length'];++_0x472bf1){const _0x45835c=_0x36ef45[_0x472bf1],_0x2d8b34=_0x299856[_0x45835c],_0x1601d3=this['_inputs'][_0x45835c],_0x306a4a=this['_outputs'][_0x45835c],_0x523ad4=_0x2d8b34['blendWeigh'+'t'];if(_0x523ad4>-0x173a+0x67*-0x1+0x107*0x17&&_0x2d8b34['_update'](_0x3b9472),!_0x184ee9)break;let _0x35f946,_0x5d42a9,_0x494665;if(_0x523ad4>=0x499*-0x2+0x1*-0xeb+0xa1e){for(let _0x80ff45=-0x19aa+-0x207e+-0x4*-0xe8a;_0x80ff45<_0x1601d3['length'];++_0x80ff45)_0x35f946=_0x1601d3[_0x80ff45],_0x5d42a9=_0x306a4a[_0x80ff45],_0x494665=_0x5d42a9['value'],Ht['set'](_0x494665,_0x35f946,_0x5d42a9['target']['type']),_0x5d42a9['blendCount'+'er']++;}else{if(_0x523ad4>0xa*0xab+-0xd90+0x6e2){for(let _0x5a94a5=0xd3+-0x23a*0x7+-0xec3*-0x1;_0x5a94a5<_0x1601d3['length'];++_0x5a94a5)_0x35f946=_0x1601d3[_0x5a94a5],_0x5d42a9=_0x306a4a[_0x5a94a5],_0x494665=_0x5d42a9['value'],_0x5d42a9['blendCount'+'er']===-0x1047+0x1d9e+0x1*-0xd57?Ht['set'](_0x494665,_0x35f946,_0x5d42a9['target']['type']):Ht['blend'](_0x494665,_0x35f946,_0x523ad4,_0x5d42a9['target']['type']),_0x5d42a9['blendCount'+'er']++;}}}const _0x1a9fe5=this['_targets'],_0x575b41=this['_binder'];for(const _0x2fd79c in _0x1a9fe5)if(_0x1a9fe5['hasOwnProp'+'erty'](_0x2fd79c)){const _0xa7a28d=_0x1a9fe5[_0x2fd79c];if(_0x575b41['animCompon'+'ent']&&_0xa7a28d['target']['isTransfor'+'m']){const _0x173507=_0x575b41['animCompon'+'ent']['targets'][_0x2fd79c];_0x173507['counter']===_0x173507['layerCount'+'er']&&(_0x173507['counter']=-0x1*-0x224d+0x2*-0x10d1+-0xab),_0x173507['path']||(_0x173507['path']=_0x2fd79c,_0x173507['baseValue']=_0xa7a28d['target']['get'](),_0x173507['setter']=_0xa7a28d['target']['set']),_0x173507['updateValu'+'e'](_0x575b41['layerIndex'],_0xa7a28d['value']),_0x173507['counter']++;}else _0xa7a28d['target']['set'](_0xa7a28d['value']);_0xa7a28d['blendCount'+'er']=-0x2ff*-0x9+-0x3ed+0xb85*-0x2;}this['_binder']['update'](_0x3b9472);}}class Hv{constructor(_0x5d5aef){this['_events']=[..._0x5d5aef],this['_events']['sort']((_0x44e562,_0x113b29)=>_0x44e562['time']-_0x113b29['time']);}get['events'](){return this['_events'];}}const $h=class $h{constructor(_0x5d983e,_0x20c8c4,_0x20de36,_0x5089ee,_0x111aca,_0x181496=new Hv([])){this['_name']=_0x5d983e,this['_duration']=_0x20c8c4,this['_inputs']=_0x20de36,this['_outputs']=_0x5089ee,this['_curves']=_0x111aca,this['_animEvent'+'s']=_0x181496;}get['name'](){return this['_name'];}get['duration'](){return this['_duration'];}get['inputs'](){return this['_inputs'];}get['outputs'](){return this['_outputs'];}get['curves'](){return this['_curves'];}set['events'](_0x3f396b){this['_animEvent'+'s']=_0x3f396b;}get['events'](){return this['_animEvent'+'s']['events'];}['eval'](_0xbe1b01,_0x2a63c6){_0x2a63c6['_time']=_0xbe1b01;const _0x286a53=this['_inputs'],_0x1600f9=this['_outputs'],_0x220a40=this['_curves'],_0x4d4a83=_0x2a63c6['_cache'],_0x518085=_0x2a63c6['_results'];for(let _0x901c7d=0x1*0x1f1b+0x2d6+-0x21f1;_0x901c7d<_0x286a53['length'];++_0x901c7d)_0x4d4a83[_0x901c7d]['update'](_0xbe1b01,_0x286a53[_0x901c7d]['_data']);for(let _0x3085b8=0x2695+0x1f3*0x5+-0x3054;_0x3085b8<_0x220a40['length'];++_0x3085b8){const _0x449d0a=_0x220a40[_0x3085b8],_0x448490=_0x1600f9[_0x449d0a['_output']],_0x3cabe0=_0x518085[_0x3085b8];_0x4d4a83[_0x449d0a['_input']]['eval'](_0x3cabe0,_0x449d0a['_interpola'+'tion'],_0x448490);}}};h($h,'EMPTY',Object['freeze'](new $h('empty',Number['MAX_VALUE'],[],[],[])));let Qi=$h;class ra{static['joinPath'](_0x284aa2,_0x71d196){_0x71d196=_0x71d196||'.';const _0xbbaea7=function(_0x519ae5){return _0x519ae5['replace'](/\\/g,'\x5c\x5c')['replace'](new RegExp('\x5c'+_0x71d196,'g'),'\x5c'+_0x71d196);};return _0x284aa2['map'](_0xbbaea7)['join'](_0x71d196);}static['splitPath'](_0xe38e9c,_0x4b92ce){_0x4b92ce=_0x4b92ce||'.';const _0x46cacf=[];let _0xa6b2e9='',_0x271e1c=0x7*0x2db+0x97d+-0x1d7a;for(;_0x271e1c<_0xe38e9c['length'];){let _0x147467=_0xe38e9c[_0x271e1c++];_0x147467==='\x5c'&&_0x271e1c<_0xe38e9c['length']?(_0x147467=_0xe38e9c[_0x271e1c++],_0x147467==='\x5c'||_0x147467===_0x4b92ce?_0xa6b2e9+=_0x147467:_0xa6b2e9+='\x5c'+_0x147467):_0x147467===_0x4b92ce?(_0x46cacf['push'](_0xa6b2e9),_0xa6b2e9=''):_0xa6b2e9+=_0x147467;}return _0xa6b2e9['length']>-0x799*-0x5+-0x44+-0x25b9&&_0x46cacf['push'](_0xa6b2e9),_0x46cacf;}static['encode'](_0x5ca138,_0x316774,_0x3c065f){return(Array['isArray'](_0x5ca138)?_0x5ca138['join']('/'):_0x5ca138)+'/'+_0x316774+'/'+(Array['isArray'](_0x3c065f)?_0x3c065f['join']('/'):_0x3c065f);}['resolve'](_0x25a084){return null;}['unresolve'](_0x14a563){}['update'](_0x10c245){}}class xu{constructor(_0x4cb0b3,_0x50ee92,_0x29c4ba,_0x163dc0){_0x4cb0b3['set']?(this['_set']=_0x4cb0b3['set'],this['_get']=_0x4cb0b3['get']):this['_set']=_0x4cb0b3,this['_type']=_0x50ee92,this['_component'+'s']=_0x29c4ba,this['_targetPat'+'h']=_0x163dc0,this['_isTransfo'+'rm']=this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x2053*0x1+-0x1515+-0xb31))==='localRotat'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(-0x445*0x1+0x818+-0x3c6))==='localPosit'+'ion'||this['_targetPat'+'h']['substring'](this['_targetPat'+'h']['length']-(0x1*-0x425+-0x2384+0x27b3*0x1))==='localScale';}get['set'](){return this['_set'];}get['get'](){return this['_get'];}get['type'](){return this['_type'];}get['components'](){return this['_component'+'s'];}get['targetPath'](){return this['_targetPat'+'h'];}get['isTransfor'+'m'](){return this['_isTransfo'+'rm'];}}class Sr{constructor(_0x5096f3){h(this,'_isPathInM'+'ask',(_0x567e6e,_0x25e096)=>{const _0x52ea38=this['_mask'][_0x567e6e];if(_0x52ea38){if(_0x52ea38['children']||_0x25e096&&_0x52ea38['value']!==!(-0x16ed+0x88*-0x15+-0x2*-0x110b))return!(0x24c7+0x1*0x1e25+-0x42ec);}else return!(-0x1*-0x4eb+0x3d*0x31+-0x1097);return!(0x207*0x13+-0x2e2+0x2*-0x11d1);});if(this['graph']=_0x5096f3,!_0x5096f3)return;this['_mask']=null;const _0xf4f6b={},_0x467493=function(_0x20a4fd){_0xf4f6b[_0x20a4fd['name']]=_0x20a4fd;for(let _0x39c4e1=0x20e6+-0x8e0+-0x1806;_0x39c4e1<_0x20a4fd['children']['length'];++_0x39c4e1)_0x467493(_0x20a4fd['children'][_0x39c4e1]);};_0x467493(_0x5096f3),this['nodes']=_0xf4f6b,this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={};const _0x57abb4=function(_0x4a36fd){let _0xc44255=_0x4a36fd;for(;_0xc44255&&!(_0xc44255 instanceof lt);)_0xc44255=_0xc44255['parent'];let _0x2fdcea;return _0xc44255&&(_0xc44255['render']?_0x2fdcea=_0xc44255['render']['meshInstan'+'ces']:_0xc44255['model']&&(_0x2fdcea=_0xc44255['model']['meshInstan'+'ces'])),_0x2fdcea;};this['nodeCounts']={},this['activeNode'+'s']=[],this['handlers']={'localPosition':function(_0x2685fb){const _0x22e7a2=_0x2685fb['localPosit'+'ion'],_0x21d67e=function(_0x5d00dd){_0x22e7a2['set'](..._0x5d00dd);};return Sr['createAnim'+'Target'](_0x21d67e,'vector',0x2277+0x7e4*-0x1+0x55*-0x50,_0x2685fb,'localPosit'+'ion');},'localRotation':function(_0x8a6c77){const _0xa96317=_0x8a6c77['localRotat'+'ion'],_0x334ea6=function(_0x5196a3){_0xa96317['set'](..._0x5196a3);};return Sr['createAnim'+'Target'](_0x334ea6,'quaternion',-0x6bd+-0x318+0x9d9,_0x8a6c77,'localRotat'+'ion');},'localScale':function(_0x13804d){const _0x178833=_0x13804d['localScale'],_0x7d2b9f=function(_0x49cb36){_0x178833['set'](..._0x49cb36);};return Sr['createAnim'+'Target'](_0x7d2b9f,'vector',-0x1*0x112f+0x3c7*-0xa+0x36f8,_0x13804d,'localScale');},'weight':function(_0x836837,_0x28ade0){_0x28ade0['indexOf']('name.')===-0x1151*-0x2+-0x5ef+-0x1cb3?_0x28ade0=_0x28ade0['replace']('name.',''):_0x28ade0=Number(_0x28ade0);const _0x2a7cc9=_0x57abb4(_0x836837);let _0x133a53;if(_0x2a7cc9){for(let _0x1ba920=0x73+0x385+-0x1fc*0x2;_0x1ba920<_0x2a7cc9['length'];++_0x1ba920)if(_0x2a7cc9[_0x1ba920]['node']['name']===_0x836837['name']&&_0x2a7cc9[_0x1ba920]['morphInsta'+'nce']){const _0x37b4e0=_0x2a7cc9[_0x1ba920]['morphInsta'+'nce'],_0x5aab46=_0x273197=>{_0x37b4e0['setWeight'](_0x28ade0,_0x273197[-0x223a+-0x24d*-0x5+0x16b9]);};_0x133a53||(_0x133a53=[]),_0x133a53['push'](_0x5aab46);}}if(_0x133a53){const _0x33286e=_0x19e3c0=>{for(let _0x5a4a95=0x89f*0x1+0x224c+0x1*-0x2aeb;_0x5a4a95<_0x133a53['length'];++_0x5a4a95)_0x133a53[_0x5a4a95](_0x19e3c0);};return Sr['createAnim'+'Target'](_0x33286e,'number',-0xfeb*0x1+0xa9*0x13+0x1*0x361,_0x836837,'weight.'+_0x28ade0);}return null;},'materialTexture':(_0x30a3f5,_0x2c5b32)=>{const _0x9c9cba=_0x57abb4(_0x30a3f5);if(_0x9c9cba){let _0x283df8;for(let _0x51a66b=0x10a6+0x7*0x370+0x2*-0x145b;_0x51a66b<_0x9c9cba['length'];++_0x51a66b)if(_0x9c9cba[_0x51a66b]['node']['name']===_0x30a3f5['name']){_0x283df8=_0x9c9cba[_0x51a66b];break;}if(_0x283df8){const _0x1c99db=_0x2131c4=>{const _0x1a470b=this['animCompon'+'ent']['system']['app']['assets']['get'](_0x2131c4[0x1deb+0xac9+-0x209*0x14]);_0x1a470b&&_0x1a470b['resource']&&_0x1a470b['type']==='texture'&&(_0x283df8['material'][_0x2c5b32]=_0x1a470b['resource'],_0x283df8['material']['update']());};return Sr['createAnim'+'Target'](_0x1c99db,'vector',0x656*0x2+0x1*-0x78d+-0x51e,_0x30a3f5,'materialTe'+'xture','material');}}return null;}};}['_isPathAct'+'ive'](_0x487dca){if(!this['_mask'])return!(-0x267d+0x3*0x1b7+0x1*0x2158);const _0x43589e=[_0x487dca['entityPath'][0x12*0xa3+0x32b+-0x1*0xea1],this['graph']['name']];for(let _0x41d51c=0x14c8+0x1*-0x3b9+-0x110f;_0x41d51c<_0x43589e['length'];++_0x41d51c){let _0x4df409=_0x43589e[_0x41d51c];if(this['_isPathInM'+'ask'](_0x4df409,_0x487dca['entityPath']['length']===-0xb2a+0x13f*-0x3+-0x6*-0x27c))return!(0x4cf*-0x8+0x128f*0x1+0x3*0x6a3);for(let _0x59f3a8=0x1d*0x35+0x161b+-0x1c1b;_0x59f3a8<_0x487dca['entityPath']['length'];_0x59f3a8++)if(_0x4df409+='/'+_0x487dca['entityPath'][_0x59f3a8],this['_isPathInM'+'ask'](_0x4df409,_0x59f3a8===_0x487dca['entityPath']['length']-(0x1fd1+-0x23a9+0x3d9)))return!(0x2f*-0x43+-0x2485+0x30d2);}return!(-0x2412+0x2a7*0xe+-0x10f);}['findNode'](_0x4d4fbf){if(!this['_isPathAct'+'ive'](_0x4d4fbf))return null;let _0x414dab;if(this['graph']&&(_0x414dab=this['graph']['findByPath'](_0x4d4fbf['entityPath']),_0x414dab||(_0x414dab=this['graph']['findByPath'](_0x4d4fbf['entityPath']['slice'](0x1*-0x268e+0x1e1+0x24ae)))),!_0x414dab){_0x414dab=this['nodes'][_0x4d4fbf['entityPath'][_0x4d4fbf['entityPath']['length']-(-0x1*0x250c+-0xaca+0x2fd7)]||''];const _0x2aee01=ra['encode'](_0x4d4fbf['entityPath'][_0x4d4fbf['entityPath']['length']-(-0x16be+-0x1*-0x59f+0x1120)]||'','graph',_0x4d4fbf['propertyPa'+'th']);this['visitedFal'+'lbackGraph'+'Paths'][_0x2aee01]===0x1a10+-0x23d*-0xb+-0x32ae&&w['warnOnce']('Anim\x20Binde'+'r:\x20Multipl'+'e\x20animatio'+'n\x20curves\x20w'+'ith\x20the\x20pa'+'th\x20'+_0x2aee01+('\x20are\x20prese'+'nt\x20in\x20the\x20')+this['graph']['path']+('\x20graph\x20whi'+'ch\x20may\x20res'+'ult\x20in\x20the'+'\x20incorrect'+'\x20binding\x20o'+'f\x20animatio'+'ns')),Number['isFinite'](this['visitedFal'+'lbackGraph'+'Paths'][_0x2aee01])?this['visitedFal'+'lbackGraph'+'Paths'][_0x2aee01]++:this['visitedFal'+'lbackGraph'+'Paths'][_0x2aee01]=-0x1bfe*-0x1+0x223*-0xd+0xb*-0x5;}return _0x414dab;}static['createAnim'+'Target'](_0x3435cc,_0x3adfae,_0x34c519,_0x404daa,_0xa9129c,_0x3020e4){const _0x42e084=ra['encode'](_0x404daa['path'],_0x3020e4||'entity',_0xa9129c);return new xu(_0x3435cc,_0x3adfae,_0x34c519,_0x42e084);}['resolve'](_0x46dc00){const _0x4ad87d=ra['encode'](_0x46dc00['entityPath'],_0x46dc00['component'],_0x46dc00['propertyPa'+'th']);let _0x28c38d=this['targetCach'+'e'][_0x4ad87d];if(_0x28c38d)return _0x28c38d;const _0x41ed9d=this['findNode'](_0x46dc00);if(!_0x41ed9d)return null;const _0x2c134a=this['handlers'][_0x46dc00['propertyPa'+'th']];return!_0x2c134a||(_0x28c38d=_0x2c134a(_0x41ed9d),!_0x28c38d)?null:(this['targetCach'+'e'][_0x4ad87d]=_0x28c38d,this['nodeCounts'][_0x41ed9d['path']]?this['nodeCounts'][_0x41ed9d['path']]++:(this['activeNode'+'s']['push'](_0x41ed9d),this['nodeCounts'][_0x41ed9d['path']]=0x164d+-0x1ec0+0x874),_0x28c38d);}['unresolve'](_0x133acb){if(_0x133acb['component']!=='graph')return;const _0x48c273=this['nodes'][_0x133acb['entityPath'][_0x133acb['entityPath']['length']-(-0x1*0x8ba+-0x148b+0x1d46)]||''];if(this['nodeCounts'][_0x48c273['path']]--,this['nodeCounts'][_0x48c273['path']]===-0x1*-0x1ecd+-0x404+0x1*-0x1ac9){const _0x384b88=this['activeNode'+'s'],_0x2b643d=_0x384b88['indexOf'](_0x48c273['node']),_0x322c91=_0x384b88['length'];_0x2b643d<_0x322c91-(0x107*0x1c+0x189e*-0x1+0x1*-0x425)&&(_0x384b88[_0x2b643d]=_0x384b88[_0x322c91-(0x21a+0x211a+0x2333*-0x1)]),_0x384b88['pop']();}}['update'](_0x4c5455){const _0x445b2a=this['activeNode'+'s'];for(let _0x5c02ea=-0x2*0xf15+0x14c0+0x96a;_0x5c02ea<_0x445b2a['length'];++_0x5c02ea)_0x445b2a[_0x5c02ea]['_dirtifyLo'+'cal']();}['assignMask'](_0x32e85d){return _0x32e85d!==this['_mask']?(this['_mask']=_0x32e85d,!(0x15d5*-0x1+-0x1*-0x213e+-0xb69)):!(-0x8*-0xd5+0x67a*0x6+0xbf*-0x3d);}}class Wv extends we{constructor(){super(...arguments),h(this,'_animation'+'s',{}),h(this,'_assets',[]),h(this,'_loop',!(0x9ad+0x1ff2+-0x299f)),h(this,'animEvalua'+'tor',null),h(this,'model',null),h(this,'skeleton',null),h(this,'fromSkel',null),h(this,'toSkel',null),h(this,'animations'+'Index',{}),h(this,'prevAnim',null),h(this,'currAnim',null),h(this,'blend',0x1b17+-0x14a6+-0x61*0x11),h(this,'blending',!(-0x1a7a+0x1*0x1691+0x3ea)),h(this,'blendSpeed',-0x1*0x1a3f+-0xc2c+0x266b),h(this,'activate',!(0x22fa+-0x1*0x2425+0x12b)),h(this,'speed',-0x1efb+-0x18b*0x1+0x2087);}set['animations'](_0x2e912b){this['_animation'+'s']=_0x2e912b,this['onSetAnima'+'tions']();}get['animations'](){return this['_animation'+'s'];}set['assets'](_0x135efd){const _0x11aef0=this['_assets'];if(_0x11aef0&&_0x11aef0['length']){for(let _0x4aa48e=0x17*-0x59+-0x41*-0x16+0x269;_0x4aa48e<_0x11aef0['length'];_0x4aa48e++)if(_0x11aef0[_0x4aa48e]){const _0x4eaef5=this['system']['app']['assets']['get'](_0x11aef0[_0x4aa48e]);if(_0x4eaef5){_0x4eaef5['off']('change',this['onAssetCha'+'nged'],this),_0x4eaef5['off']('remove',this['onAssetRem'+'oved'],this);const _0x4d9864=this['animations'+'Index'][_0x4eaef5['id']];this['currAnim']===_0x4d9864&&this['_stopCurre'+'ntAnimatio'+'n'](),delete this['animations'][_0x4d9864],delete this['animations'+'Index'][_0x4eaef5['id']];}}}this['_assets']=_0x135efd;const _0x2abeea=_0x135efd['map'](_0x30c4cd=>_0x30c4cd instanceof pe?_0x30c4cd['id']:_0x30c4cd);this['loadAnimat'+'ionAssets'](_0x2abeea);}get['assets'](){return this['_assets'];}set['currentTim'+'e'](_0x3755b8){if(this['skeleton']&&(this['skeleton']['currentTim'+'e']=_0x3755b8,this['skeleton']['addTime'](0x2*-0x96a+-0x577*-0x5+0x2d5*-0x3),this['skeleton']['updateGrap'+'h']()),this['animEvalua'+'tor']){const _0x51c45d=this['animEvalua'+'tor']['clips'];for(let _0x47eb8f=0x78*-0x52+0x523+0x214d;_0x47eb8f<_0x51c45d['length'];++_0x47eb8f)_0x51c45d[_0x47eb8f]['time']=_0x3755b8;}}get['currentTim'+'e'](){if(this['skeleton'])return this['skeleton']['_time'];if(this['animEvalua'+'tor']){const _0x2cf142=this['animEvalua'+'tor']['clips'];if(_0x2cf142['length']>-0x13c7+0x1*0x180e+-0x447)return _0x2cf142[_0x2cf142['length']-(0x5*-0x103+0x26a9+0x1*-0x2199)]['time'];}return 0xe21*0x2+0x25f7+-0x3*0x1613;}get['duration'](){return this['currAnim']?this['animations'][this['currAnim']]['duration']:(w['warn']('No\x20animati'+'on\x20is\x20play'+'ing\x20to\x20get'+'\x20a\x20duratio'+'n.\x20Returni'+'ng\x200.'),0x10c*-0xe+0x1a1e+0x12*-0xa3);}set['loop'](_0x32788e){if(this['_loop']=_0x32788e,this['skeleton']&&(this['skeleton']['looping']=_0x32788e),this['animEvalua'+'tor']){for(let _0x14b866=-0x3db+-0x1*0x327+0x27*0x2e;_0x14b866<this['animEvalua'+'tor']['clips']['length'];++_0x14b866)this['animEvalua'+'tor']['clips'][_0x14b866]['loop']=_0x32788e;}}get['loop'](){return this['_loop'];}['play'](_0x482706,_0x31045d=-0x577+-0x1f93*0x1+0xb*0x35e){if(!(!this['enabled']||!this['entity']['enabled'])){if(!this['animations'][_0x482706]){w['error']('Trying\x20to\x20'+'play\x20anima'+'tion\x20\x27'+_0x482706+('\x27\x20which\x20do'+'esn\x27t\x20exis'+'t'));return;}if(this['prevAnim']=this['currAnim'],this['currAnim']=_0x482706,this['model']){!this['skeleton']&&!this['animEvalua'+'tor']&&this['_createAni'+'mationCont'+'roller']();const _0x147f35=this['animations'][this['prevAnim']],_0x5bb3b7=this['animations'][this['currAnim']];if(this['blending']=_0x31045d>-0x1285+0x127*-0x1+0x1*0x13ac&&!!this['prevAnim'],this['blending']&&(this['blend']=0x8a+-0x667*-0x1+-0x6f1*0x1,this['blendSpeed']=(0xdf9+0x98*-0x18+0x9*0x8)/_0x31045d),this['skeleton']&&(this['blending']?(this['fromSkel']['animation']=_0x147f35,this['fromSkel']['addTime'](this['skeleton']['_time']),this['toSkel']['animation']=_0x5bb3b7):this['skeleton']['animation']=_0x5bb3b7),this['animEvalua'+'tor']){const _0x39ac99=this['animEvalua'+'tor'];if(this['blending']){for(;_0x39ac99['clips']['length']>-0x1*0x2237+-0xf18+-0xc54*-0x4;)_0x39ac99['removeClip'](-0xade+-0xf32+0x1a10);}else this['animEvalua'+'tor']['removeClip'+'s']();const _0x1489b0=new Dh(this['animations'][this['currAnim']],-0xfb1+-0xbfd+0x1bae,-0x59*0x15+-0x77*0x14+0xa*0x1a9,!(-0xa3*0x18+0x1e77+-0x17*0xa9),this['loop']);_0x1489b0['name']=this['currAnim'],_0x1489b0['blendWeigh'+'t']=this['blending']?0x1bee+0x12e*0x7+-0x2430:-0xe59*-0x1+-0x1ea8+0x1050,_0x1489b0['reset'](),this['animEvalua'+'tor']['addClip'](_0x1489b0);}}this['playing']=!(-0x11*-0x1fd+-0x1df5+-0x3d8*0x1);}}['getAnimati'+'on'](_0x50862f){return this['animations'][_0x50862f];}['setModel'](_0x483c79){_0x483c79!==this['model']&&(this['_resetAnim'+'ationContr'+'oller'](),this['model']=_0x483c79,this['animations']&&this['currAnim']&&this['animations'][this['currAnim']]&&this['play'](this['currAnim']));}['onSetAnima'+'tions'](){const _0x40debe=this['entity']['model'];if(_0x40debe){const _0xb8bdb3=_0x40debe['model'];_0xb8bdb3&&_0xb8bdb3!==this['model']&&this['setModel'](_0xb8bdb3);}if(!this['currAnim']&&this['activate']&&this['enabled']&&this['entity']['enabled']){const _0x5183b8=Object['keys'](this['_animation'+'s']);_0x5183b8['length']>0x2602+0x1db7*-0x1+-0x84b*0x1&&this['play'](_0x5183b8[0x49d*-0x2+0x92b+-0xf*-0x1]);}}['_resetAnim'+'ationContr'+'oller'](){this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['_createAni'+'mationCont'+'roller'](){const _0x72890a=this['model'],_0x467109=this['animations'];let _0x1a0c02=!(-0x21ac+0x5a7*0x1+-0x22*-0xd3),_0x4bf580=!(0x1*0x2275+-0x80c+0xa9*-0x28);for(const _0x51af54 in _0x467109)_0x467109['hasOwnProp'+'erty'](_0x51af54)&&(_0x467109[_0x51af54]['constructo'+'r']===Qi?_0x4bf580=!(0x2268+0x1a3b+0x1*-0x3ca3):_0x1a0c02=!(-0x7*-0x2a5+0x67*-0x6+-0x1019));const _0x4f0ce1=_0x72890a['getGraph']();_0x1a0c02?(this['fromSkel']=new Sf(_0x4f0ce1),this['toSkel']=new Sf(_0x4f0ce1),this['skeleton']=new Sf(_0x4f0ce1),this['skeleton']['looping']=this['loop'],this['skeleton']['setGraph'](_0x4f0ce1)):_0x4bf580&&(this['animEvalua'+'tor']=new Gv(new Sr(this['entity'])));}['loadAnimat'+'ionAssets'](_0x3b6be0){if(!_0x3b6be0||!_0x3b6be0['length'])return;const _0x54a298=this['system']['app']['assets'],_0x4bddb6=_0x25c84a=>{if(_0x25c84a['resources']['length']>-0x15ad*-0x1+-0x1c66+-0x3*-0x23e){for(let _0x25c74c=0x1ccc+-0x124a+0xa*-0x10d;_0x25c74c<_0x25c84a['resources']['length'];_0x25c74c++)this['animations'][_0x25c84a['resources'][_0x25c74c]['name']]=_0x25c84a['resources'][_0x25c74c],this['animations'+'Index'][_0x25c84a['id']]=_0x25c84a['resources'][_0x25c74c]['name'];}else this['animations'][_0x25c84a['name']]=_0x25c84a['resource'],this['animations'+'Index'][_0x25c84a['id']]=_0x25c84a['name'];this['animations']=this['animations'];},_0xcb313f=_0x41c566=>{_0x41c566['off']('change',this['onAssetCha'+'nged'],this),_0x41c566['on']('change',this['onAssetCha'+'nged'],this),_0x41c566['off']('remove',this['onAssetRem'+'oved'],this),_0x41c566['on']('remove',this['onAssetRem'+'oved'],this),_0x41c566['resource']?_0x4bddb6(_0x41c566):(_0x41c566['once']('load',_0x4bddb6,this),this['enabled']&&this['entity']['enabled']&&_0x54a298['load'](_0x41c566));};for(let _0x4e5999=-0xca*-0x1d+0x5ee+-0x1cd0,_0x3cca00=_0x3b6be0['length'];_0x4e5999<_0x3cca00;_0x4e5999++){const _0x70ca9f=_0x54a298['get'](_0x3b6be0[_0x4e5999]);_0x70ca9f?_0xcb313f(_0x70ca9f):_0x54a298['on']('add:'+_0x3b6be0[_0x4e5999],_0xcb313f);}}['onAssetCha'+'nged'](_0x4ca6a1,_0x1b9494,_0x2afce5,_0x3502ad){if(_0x1b9494==='resource'||_0x1b9494==='resources'){if(_0x1b9494==='resources'&&_0x2afce5&&_0x2afce5['length']===0x1*0xb65+-0x1*0x124+-0x36b*0x3&&(_0x2afce5=null),_0x2afce5){let _0x2f2149=!(-0x29*-0x1e+-0x1*-0x24e5+-0x29b2);if(_0x2afce5['length']>0x269d+0x1cd7*-0x1+0x1*-0x9c5){if(_0x3502ad&&_0x3502ad['length']>0x11b7+0xf12+-0x1064*0x2){for(let _0x3ed70c=0x24b7+-0x1709+-0xdae;_0x3ed70c<_0x3502ad['length'];_0x3ed70c++)delete this['animations'][_0x3502ad[_0x3ed70c]['name']];}else delete this['animations'][_0x4ca6a1['name']];_0x2f2149=!(-0x20*0x3d+-0x1f*-0xca+-0x10d5);for(let _0x4019f6=0x52f+-0x10f*-0x16+0x25*-0xc5;_0x4019f6<_0x2afce5['length'];_0x4019f6++)this['animations'][_0x2afce5[_0x4019f6]['name']]=_0x2afce5[_0x4019f6],!_0x2f2149&&this['currAnim']===_0x2afce5[_0x4019f6]['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x2f2149=!(-0x1e04+0xf9+0x1d0b),this['play'](_0x2afce5[_0x4019f6]['name']));_0x2f2149||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}else{if(_0x3502ad&&_0x3502ad['length']>-0x66*0x3b+-0x1f3*-0x7+-0x4ef*-0x2){for(let _0x502aa3=-0x8f*0x1f+-0x31a*0x2+-0x9*-0x29d;_0x502aa3<_0x3502ad['length'];_0x502aa3++)delete this['animations'][_0x3502ad[_0x502aa3]['name']];}this['animations'][_0x4ca6a1['name']]=_0x2afce5[0x1893+0x27*-0xcd+-0x6*-0x11c]||_0x2afce5,_0x2f2149=!(0xd9*0x10+0x1b63+0xda6*-0x3),this['currAnim']===_0x4ca6a1['name']&&this['playing']&&this['enabled']&&this['entity']['enabled']&&(_0x2f2149=!(0x27*-0xa4+0x1fe9+-0x6ed),this['play'](_0x4ca6a1['name'])),_0x2f2149||(this['_stopCurre'+'ntAnimatio'+'n'](),this['onSetAnima'+'tions']());}this['animations'+'Index'][_0x4ca6a1['id']]=_0x4ca6a1['name'];}else{if(_0x3502ad['length']>0x52f+-0x12a6+0xd78){for(let _0x3525f8=0xb7d+0x1c4d+-0x27ca;_0x3525f8<_0x3502ad['length'];_0x3525f8++)delete this['animations'][_0x3502ad[_0x3525f8]['name']],this['currAnim']===_0x3502ad[_0x3525f8]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x4ca6a1['name']],this['currAnim']===_0x4ca6a1['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x4ca6a1['id']];}}}['onAssetRem'+'oved'](_0x17305a){if(_0x17305a['off']('remove',this['onAssetRem'+'oved'],this),this['animations']){if(_0x17305a['resources']['length']>0x2*-0x6b+-0x15cb+0xb51*0x2){for(let _0x345a86=0x2226+-0x3*-0x96d+0x7*-0x8eb;_0x345a86<_0x17305a['resources']['length'];_0x345a86++)delete this['animations'][_0x17305a['resources'][_0x345a86]['name']],this['currAnim']===_0x17305a['resources'][_0x345a86]['name']&&this['_stopCurre'+'ntAnimatio'+'n']();}else delete this['animations'][_0x17305a['name']],this['currAnim']===_0x17305a['name']&&this['_stopCurre'+'ntAnimatio'+'n']();delete this['animations'+'Index'][_0x17305a['id']];}}['_stopCurre'+'ntAnimatio'+'n'](){if(this['currAnim']=null,this['playing']=!(-0x2075*0x1+0xcfb*-0x3+0x1*0x4767),this['skeleton']&&(this['skeleton']['currentTim'+'e']=-0x15bb*-0x1+0x180*-0x17+0xcc5,this['skeleton']['animation']=null),this['animEvalua'+'tor']){for(let _0x3558f0=-0x149b+0x3*0x1cd+0xe*0x116;_0x3558f0<this['animEvalua'+'tor']['clips']['length'];++_0x3558f0)this['animEvalua'+'tor']['clips'][_0x3558f0]['stop']();this['animEvalua'+'tor']['update'](0x1dae+0xb*-0xd3+-0x3*0x6df),this['animEvalua'+'tor']['removeClip'+'s']();}}['onEnable'](){super['onEnable']();const _0x803bc0=this['assets'],_0x138e13=this['system']['app']['assets'];if(_0x803bc0)for(let _0x28320c=-0xf97+-0x1f*0x8+0x108f,_0x5aed3c=_0x803bc0['length'];_0x28320c<_0x5aed3c;_0x28320c++){let _0x5f0c8d=_0x803bc0[_0x28320c];_0x5f0c8d instanceof pe||(_0x5f0c8d=_0x138e13['get'](_0x5f0c8d)),_0x5f0c8d&&!_0x5f0c8d['resource']&&_0x138e13['load'](_0x5f0c8d);}if(this['activate']&&!this['currAnim']){const _0x234aba=Object['keys'](this['animations']);_0x234aba['length']>-0x1ba+0x125f*0x2+-0x2304&&this['play'](_0x234aba[0x385*-0x3+0x1440+-0x3*0x33b]);}}['onBeforeRe'+'move'](){for(let _0x5d874e=-0x17e6+0x14dd+0x309;_0x5d874e<this['assets']['length'];_0x5d874e++){let _0x758e7b=this['assets'][_0x5d874e];typeof _0x758e7b=='number'&&(_0x758e7b=this['system']['app']['assets']['get'](_0x758e7b)),_0x758e7b&&(_0x758e7b['off']('change',this['onAssetCha'+'nged'],this),_0x758e7b['off']('remove',this['onAssetRem'+'oved'],this));}this['skeleton']=null,this['fromSkel']=null,this['toSkel']=null,this['animEvalua'+'tor']=null;}['update'](_0x5ea4c5){if(this['blending']&&(this['blend']+=_0x5ea4c5*this['blendSpeed'],this['blend']>=0x3*0x125+-0x61*-0x1+-0x3cf&&(this['blend']=0x1de4+0x12d*0x4+-0x2297)),this['playing']){const _0x54e718=this['skeleton'];if(_0x54e718!==null&&this['model']!==null){if(this['blending'])_0x54e718['blend'](this['fromSkel'],this['toSkel'],this['blend']);else{const _0x1be7dc=_0x5ea4c5*this['speed'];_0x54e718['addTime'](_0x1be7dc),this['speed']>-0x3be+-0x923+0xce1&&_0x54e718['_time']===_0x54e718['animation']['duration']&&!this['loop']?this['playing']=!(-0x2*-0x919+-0x2*-0x4a+0x12c5*-0x1):this['speed']<-0x10c3+-0x1*-0x183f+-0x77c&&_0x54e718['_time']===-0x65a*-0x3+0x1*0x242f+0x4f*-0xb3&&!this['loop']&&(this['playing']=!(-0x266c+-0x1*-0x251e+0x14f));}this['blending']&&this['blend']===-0x2*0x40d+0x216c+-0x1*0x1951&&(_0x54e718['animation']=this['toSkel']['animation']),_0x54e718['updateGrap'+'h']();}}const _0x564d7a=this['animEvalua'+'tor'];if(_0x564d7a){for(let _0x50af08=-0x8*-0x2d3+0x49*-0x24+-0xc54;_0x50af08<_0x564d7a['clips']['length'];++_0x50af08){const _0x4afb57=_0x564d7a['clips'][_0x50af08];_0x4afb57['speed']=this['speed'],this['playing']?_0x4afb57['resume']():_0x4afb57['pause']();}this['blending']&&_0x564d7a['clips']['length']>-0x105a+0x283+0xdd8&&(_0x564d7a['clips'][0x1*-0x21b5+0x6*-0x1d0+0x2c96]['blendWeigh'+'t']=this['blend']),_0x564d7a['update'](_0x5ea4c5);}this['blending']&&this['blend']===0x218e+0xf6*-0x2+-0x1*0x1fa1&&(this['blending']=!(0x1*-0xfc7+-0x2*-0x7e1+0x6));}}class LL{constructor(){this['enabled']=!(-0x1*0x22f3+-0x205*-0x1+0x20ee);}}const Tu=['enabled'];class RL extends ct{constructor(_0x181a9d){super(_0x181a9d),this['id']='animation',this['ComponentT'+'ype']=Wv,this['DataType']=LL,this['schema']=Tu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x4382b4,_0x4216ee,_0x465430){_0x465430=['activate','enabled','loop','speed','assets'];for(const _0x18e569 of _0x465430)_0x4216ee['hasOwnProp'+'erty'](_0x18e569)&&(_0x4382b4[_0x18e569]=_0x4216ee[_0x18e569]);super['initialize'+'ComponentD'+'ata'](_0x4382b4,_0x4216ee,Tu);}['cloneCompo'+'nent'](_0xbfff6a,_0xc0671f){this['addCompone'+'nt'](_0xc0671f,{}),_0xc0671f['animation']['assets']=_0xbfff6a['animation']['assets']['slice'](),_0xc0671f['animation']['speed']=_0xbfff6a['animation']['speed'],_0xc0671f['animation']['loop']=_0xbfff6a['animation']['loop'],_0xc0671f['animation']['activate']=_0xbfff6a['animation']['activate'],_0xc0671f['animation']['enabled']=_0xbfff6a['animation']['enabled'];const _0x30b9a2={},_0x7da75c=_0xbfff6a['animation']['animations'];for(const _0x540c1b in _0x7da75c)_0x7da75c['hasOwnProp'+'erty'](_0x540c1b)&&(_0x30b9a2[_0x540c1b]=_0x7da75c[_0x540c1b]);_0xc0671f['animation']['animations']=_0x30b9a2;const _0x16dabd={},_0x18f2cb=_0xbfff6a['animation']['animations'+'Index'];for(const _0x4c35ea in _0x18f2cb)_0x18f2cb['hasOwnProp'+'erty'](_0x4c35ea)&&(_0x16dabd[_0x4c35ea]=_0x18f2cb[_0x4c35ea]);return _0xc0671f['animation']['animations'+'Index']=_0x16dabd,_0xc0671f['animation'];}['onBeforeRe'+'move'](_0x2eaed8,_0x2c34fb){_0x2c34fb['onBeforeRe'+'move']();}['onUpdate'](_0x5b45aa){const _0x354e07=this['store'];for(const _0x5753a in _0x354e07)if(_0x354e07['hasOwnProp'+'erty'](_0x5753a)){const _0x17bd50=_0x354e07[_0x5753a];_0x17bd50['data']['enabled']&&_0x17bd50['entity']['enabled']&&_0x17bd50['entity']['animation']['update'](_0x5b45aa);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Wv['prototype'],Tu);class ml{constructor(_0x1214ba,_0x292fdd,_0x5a3217,_0x59d755,_0x2cedfa=-0xaf8+-0xd*0x7b+0x1138){this['_state']=_0x1214ba,this['_parent']=_0x292fdd,this['_name']=_0x5a3217,Array['isArray'](_0x59d755)?(this['_point']=new J(_0x59d755[0x1b91*0x1+0x1*0xd12+-0x28a3],_0x59d755[-0xb0d*-0x1+0xb11+0x6f*-0x33]),this['_pointLeng'+'th']=this['_point']['length']()):(this['_point']=_0x59d755,this['_pointLeng'+'th']=_0x59d755),this['_speed']=_0x2cedfa,this['_weightedS'+'peed']=-0x8a4+0x2a7*-0x1+-0x2d3*-0x4,this['_weight']=0x1*0x7cf+0x1d28+-0x6*0x629,this['_animTrack']=null;}get['parent'](){return this['_parent'];}get['name'](){return this['_name'];}get['path'](){return this['_parent']?this['_parent']['path']+'.'+this['_name']:this['_name'];}get['point'](){return this['_point'];}get['pointLengt'+'h'](){return this['_pointLeng'+'th'];}set['weight'](_0x340e3a){this['_weight']=_0x340e3a;}get['weight'](){return this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['normalized'+'Weight'](){const _0x3d4e26=this['_state']['totalWeigh'+'t'];return _0x3d4e26===-0x1e82+-0x62d*-0x1+0x1855?-0xc8e+-0xd*0x22b+0x28bd*0x1:this['weight']/_0x3d4e26;}get['speed'](){return this['_weightedS'+'peed']*this['_speed'];}get['absoluteSp'+'eed'](){return Math['abs'](this['_speed']);}set['weightedSp'+'eed'](_0x4f86e3){this['_weightedS'+'peed']=_0x4f86e3;}get['weightedSp'+'eed'](){return this['_weightedS'+'peed'];}set['animTrack'](_0x3f55c5){this['_animTrack']=_0x3f55c5;}get['animTrack'](){return this['_animTrack'];}}class Jn extends ml{constructor(_0x5b5d5c,_0xa437a3,_0x261950,_0x4cc2c3,_0x4b1854,_0xb8326a,_0x34db27,_0xd2ae93,_0x3ea0e8){super(_0x5b5d5c,_0xa437a3,_0x261950,_0x4cc2c3),this['_parameter'+'s']=_0x4b1854,this['_parameter'+'Values']=new Array(_0x4b1854['length']),this['_children']=[],this['_findParam'+'eter']=_0x3ea0e8,this['_syncAnima'+'tions']=_0x34db27!==!(0x13cf+-0x2140+-0x2*-0x6b9),this['_pointCach'+'e']={};for(let _0x53af9a=0x1872+0x2*0xb6b+0x22*-0x164;_0x53af9a<_0xb8326a['length'];_0x53af9a++){const _0x2919c9=_0xb8326a[_0x53af9a];_0x2919c9['children']?this['_children']['push'](_0xd2ae93(_0x2919c9['type'],_0x5b5d5c,this,_0x2919c9['name'],0x13*-0x1ee+0x2185+0x326,_0x2919c9['parameter']?[_0x2919c9['parameter']]:_0x2919c9['parameters'],_0x2919c9['children'],_0x2919c9['syncAnimat'+'ions'],_0xd2ae93,_0x3ea0e8)):this['_children']['push'](new ml(_0x5b5d5c,this,_0x2919c9['name'],_0x2919c9['point'],_0x2919c9['speed']));}}get['weight'](){return this['calculateW'+'eights'](),this['_parent']?this['_parent']['weight']*this['_weight']:this['_weight'];}get['syncAnimat'+'ions'](){return this['_syncAnima'+'tions'];}['getChild'](_0x16122c){for(let _0x30fa40=0x1d*0x10f+0x1e05+-0x3cb8;_0x30fa40<this['_children']['length'];_0x30fa40++)if(this['_children'][_0x30fa40]['name']===_0x16122c)return this['_children'][_0x30fa40];return null;}['updatePara'+'meterValue'+'s'](){let _0x33a695=!(-0xcb7+-0x25cd+0x3284);for(let _0x21e816=-0x2*-0x7b6+-0x21d6+0x126a*0x1;_0x21e816<this['_parameter'+'Values']['length'];_0x21e816++){const _0x58dc45=this['_findParam'+'eter'](this['_parameter'+'s'][_0x21e816])['value'];this['_parameter'+'Values'][_0x21e816]!==_0x58dc45&&(this['_parameter'+'Values'][_0x21e816]=_0x58dc45,_0x33a695=!(0x49*0x56+-0x487+-0x13fe));}return _0x33a695;}['getNodeWei'+'ghtedDurat'+'ion'](_0x5a6128){return this['_children'][_0x5a6128]['animTrack']['duration']/this['_children'][_0x5a6128]['speedMulti'+'plier']*this['_children'][_0x5a6128]['weight'];}['getNodeCou'+'nt'](){let _0x44c4d1=-0x1fba+0x1c51+0x369*0x1;for(let _0x3d5037=-0x1b8a+-0x518*-0x3+-0x416*-0x3;_0x3d5037<this['_children']['length'];_0x3d5037++)this['_children'][_0x3d5037]['constructo'+'r']===Jn?_0x44c4d1+=this['_children'][_0x3d5037]['getNodeCou'+'nt']():_0x44c4d1++;return _0x44c4d1;}}class OL extends Jn{constructor(_0xf3688,_0x3ff087,_0x502775,_0x25e8aa,_0x47fe9a,_0x4d36cb,_0x3b6697,_0xfd57ca,_0x393284){_0x4d36cb['sort']((_0x38ac4b,_0x51245d)=>_0x38ac4b['point']-_0x51245d['point']),super(_0xf3688,_0x3ff087,_0x502775,_0x25e8aa,_0x47fe9a,_0x4d36cb,_0x3b6697,_0xfd57ca,_0x393284);}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x75c256=0xf5a*-0x1+0x79d*-0x1+0x16f7;this['_children'][0x3*0xc59+-0x747+-0xee2*0x2]['weight']=-0x2677+0x1ab+0x24cc;for(let _0x2b1977=-0xaf*-0x37+0x10dd*-0x2+0x3df*-0x1;_0x2b1977<this['_children']['length'];_0x2b1977++){const _0x42795e=this['_children'][_0x2b1977];if(_0x2b1977!==this['_children']['length']-(-0x1*-0x22e5+0x20c8+-0x43ac)){const _0x4d5cdc=this['_children'][_0x2b1977+(-0x1292+-0x248e+0x3721)];if(_0x42795e['point']===_0x4d5cdc['point'])_0x42795e['weight']=-0xa80+0x16ba+-0xc3a+0.5,_0x4d5cdc['weight']=-0x1*-0x1fe3+-0x184*-0x16+-0x413b+0.5;else{if(Y['between'](this['_parameter'+'Values'][-0x2202+0x22da+-0xd8],_0x42795e['point'],_0x4d5cdc['point'],!(-0x19e5*-0x1+-0x1*-0xd24+-0x2709))){const _0x2158f1=Math['abs'](_0x42795e['point']-_0x4d5cdc['point']),_0x450b53=Math['abs'](_0x42795e['point']-this['_parameter'+'Values'][-0x1d30+0x22c0+-0x590]),_0x1b1bc1=(_0x2158f1-_0x450b53)/_0x2158f1;_0x42795e['weight']=_0x1b1bc1,_0x4d5cdc['weight']=-0x88f+0x124c+-0x26f*0x4-_0x1b1bc1;}else _0x4d5cdc['weight']=0x2d+0x514+-0x541;}}this['_syncAnima'+'tions']&&(_0x75c256+=_0x42795e['animTrack']['duration']/_0x42795e['absoluteSp'+'eed']*_0x42795e['weight']);}if(this['_syncAnima'+'tions'])for(let _0x1c37ab=-0xa5c*0x1+0x269b*0x1+-0x1c3f;_0x1c37ab<this['_children']['length'];_0x1c37ab++){const _0x261c88=this['_children'][_0x1c37ab];_0x261c88['weightedSp'+'eed']=_0x261c88['animTrack']['duration']/_0x261c88['absoluteSp'+'eed']/_0x75c256;}}}const ki=class ki extends Jn{['pointDista'+'nceCache'](_0x2b3d68,_0xb6fa4f){const _0x5cf396=''+_0x2b3d68+_0xb6fa4f;return this['_pointCach'+'e'][_0x5cf396]||(this['_pointCach'+'e'][_0x5cf396]=this['_children'][_0xb6fa4f]['point']['clone']()['sub'](this['_children'][_0x2b3d68]['point'])),this['_pointCach'+'e'][_0x5cf396];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x29609d,_0x557a34;ki['_p']['set'](...this['_parameter'+'Values']),_0x29609d=0x5c1*0x6+-0xde0+0xa53*-0x2,_0x557a34=-0xc81+-0x1*-0xa61+-0x2*-0x110;for(let _0x179867=-0x2418+0x6d*-0x3f+0x1*0x3eeb;_0x179867<this['_children']['length'];_0x179867++){const _0xff72c2=this['_children'][_0x179867],_0x4edcfb=_0xff72c2['point'];ki['_pip']['set'](ki['_p']['x'],ki['_p']['y'])['sub'](_0x4edcfb);let _0x661f29=Number['MAX_VALUE'];for(let _0x1658fc=0x53*0x2+0x489+-0x52f;_0x1658fc<this['_children']['length'];_0x1658fc++){if(_0x179867===_0x1658fc)continue;const _0x271266=this['pointDista'+'nceCache'](_0x179867,_0x1658fc),_0x1844e3=Y['clamp'](0x370+-0xe64+0x11*0xa5-ki['_pip']['dot'](_0x271266)/_0x271266['lengthSq'](),-0x12fd+-0x18e9+0x2be6,0x5f*0x61+-0x95*0x14+0xc2d*-0x2);_0x1844e3<_0x661f29&&(_0x661f29=_0x1844e3);}_0xff72c2['weight']=_0x661f29,_0x29609d+=_0x661f29,this['_syncAnima'+'tions']&&(_0x557a34+=_0xff72c2['animTrack']['duration']/_0xff72c2['absoluteSp'+'eed']*_0xff72c2['weight']);}for(let _0x4b7534=0x7ca+-0x167f+0x5*0x2f1;_0x4b7534<this['_children']['length'];_0x4b7534++){const _0x3a0405=this['_children'][_0x4b7534];_0x3a0405['weight']=_0x3a0405['_weight']/_0x29609d,this['_syncAnima'+'tions']&&(_0x3a0405['weightedSp'+'eed']=_0x3a0405['animTrack']['duration']/_0x3a0405['absoluteSp'+'eed']/_0x557a34);}}};h(ki,'_p',new J()),h(ki,'_pip',new J());let wu=ki;const Ui=class Ui extends Jn{['pointCache'](_0x5c6c53,_0x51d8bc){const _0xf6f0a3=''+_0x5c6c53+_0x51d8bc;return this['_pointCach'+'e'][_0xf6f0a3]||(this['_pointCach'+'e'][_0xf6f0a3]=new J((this['_children'][_0x51d8bc]['pointLengt'+'h']-this['_children'][_0x5c6c53]['pointLengt'+'h'])/((this['_children'][_0x51d8bc]['pointLengt'+'h']+this['_children'][_0x5c6c53]['pointLengt'+'h'])/(-0x393*0x4+0x141f+0x5d1*-0x1)),J['angleRad'](this['_children'][_0x5c6c53]['point'],this['_children'][_0x51d8bc]['point'])*(-0x2*-0x4a1+-0x2*-0x93d+-0x1bba))),this['_pointCach'+'e'][_0xf6f0a3];}['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x563242,_0x26b916;Ui['_p']['set'](...this['_parameter'+'Values']);const _0x8adeb4=Ui['_p']['length']();_0x563242=-0x773*-0x1+-0x265b+0x2b*0xb8,_0x26b916=0x1572+-0xc7a+0xa4*-0xe;for(let _0x43357e=-0x3b3*-0x8+-0xe28+-0xf70;_0x43357e<this['_children']['length'];_0x43357e++){const _0x1fbef5=this['_children'][_0x43357e],_0x3a3c5b=_0x1fbef5['point'],_0x177b12=_0x1fbef5['pointLengt'+'h'];let _0x4647f8=Number['MAX_VALUE'];for(let _0x3aabb5=-0x7*0x113+0x19eb+0x1d7*-0xa;_0x3aabb5<this['_children']['length'];_0x3aabb5++){if(_0x43357e===_0x3aabb5)continue;const _0x19aca4=this['pointCache'](_0x43357e,_0x3aabb5),_0x503c94=this['_children'][_0x3aabb5]['pointLengt'+'h'];Ui['_pip']['set']((_0x8adeb4-_0x177b12)/((_0x503c94+_0x177b12)/(0x2086+-0x21be+0x1*0x13a)),J['angleRad'](_0x3a3c5b,Ui['_p'])*(-0x14de+-0x71f*0x3+0x2a3d));const _0x3d0243=Y['clamp'](0x41a+-0xf48+0xb2f-Math['abs'](Ui['_pip']['dot'](_0x19aca4)/_0x19aca4['lengthSq']()),-0x9*0x138+-0x1b04+0x25fc,-0x3*-0xb0f+-0xa74+0x5ae*-0x4);_0x3d0243<_0x4647f8&&(_0x4647f8=_0x3d0243);}_0x1fbef5['weight']=_0x4647f8,_0x563242+=_0x4647f8,this['_syncAnima'+'tions']&&(_0x26b916+=_0x1fbef5['animTrack']['duration']/_0x1fbef5['absoluteSp'+'eed']*_0x1fbef5['weight']);}for(let _0x388e5f=0x8d*0x45+-0xca*-0x1+-0x26cb*0x1;_0x388e5f<this['_children']['length'];_0x388e5f++){const _0x454439=this['_children'][_0x388e5f];if(_0x454439['weight']=_0x454439['_weight']/_0x563242,this['_syncAnima'+'tions']){const _0x40cd2e=_0x454439['animTrack']['duration']/_0x26b916*_0x563242;_0x454439['weightedSp'+'eed']=_0x454439['absoluteSp'+'eed']*_0x40cd2e;}}}};h(Ui,'_p',new J()),h(Ui,'_pip',new J());let Eu=Ui;class FL extends Jn{['calculateW'+'eights'](){if(this['updatePara'+'meterValue'+'s']())return;let _0x2a65ae=-0x2615*-0x1+0xc14*0x2+-0x3e3d,_0x1ee1d5=-0x2247+0xe44+0x1403;for(let _0x4b4ba8=0x266d+0x1*0x1011+-0x367e;_0x4b4ba8<this['_children']['length'];_0x4b4ba8++)if(_0x2a65ae+=Math['max'](this['_parameter'+'Values'][_0x4b4ba8],-0x2*-0x404+-0x4*-0x52f+0x20e*-0xe),this['_syncAnima'+'tions']){const _0x5ce51b=this['_children'][_0x4b4ba8];_0x1ee1d5+=_0x5ce51b['animTrack']['duration']/_0x5ce51b['absoluteSp'+'eed']*_0x5ce51b['weight'];}for(let _0x40f76b=-0xaed+-0x24*-0xf0+-0x16d3;_0x40f76b<this['_children']['length'];_0x40f76b++){const _0x23648d=this['_children'][_0x40f76b],_0x599ba4=Math['max'](this['_parameter'+'Values'][_0x40f76b],0x1*-0x1789+0x1b8f+0x406*-0x1);_0x2a65ae?(_0x23648d['weight']=_0x599ba4/_0x2a65ae,this['_syncAnima'+'tions']&&(_0x23648d['weightedSp'+'eed']=_0x23648d['animTrack']['duration']/_0x23648d['absoluteSp'+'eed']/_0x1ee1d5)):(_0x23648d['weight']=0x59f+0x59*0x1+-0x5f8,this['_syncAnima'+'tions']&&(_0x23648d['weightedSp'+'eed']=0xa*0x18b+0x1b82+-0x2af0));}}}class Fg{constructor(_0x1a6675,_0x2f9bb9,_0x2cf33a=-0x6a7+-0x49*0x6+0xe*0x99,_0x52e74a=!(-0x4d*0x2b+0xadf+0x210),_0x9a2b83){h(this,'_animation'+'s',{}),h(this,'_animation'+'List',[]),(this['_controlle'+'r']=_0x1a6675,this['_name']=_0x2f9bb9,this['_speed']=_0x2cf33a,this['_loop']=_0x52e74a,this['_hasAnimat'+'ions']=!(-0x1165+0x153f+-0x1*0x3d9),_0x9a2b83?this['_blendTree']=this['_createTre'+'e'](_0x9a2b83['type'],this,null,_0x2f9bb9,-0x14cb+0x1*0x16cf+0x67*-0x5,_0x9a2b83['parameter']?[_0x9a2b83['parameter']]:_0x9a2b83['parameters'],_0x9a2b83['children'],_0x9a2b83['syncAnimat'+'ions'],this['_createTre'+'e'],this['_controlle'+'r']['findParame'+'ter']):this['_blendTree']=new ml(this,null,_0x2f9bb9,0x24ee*0x1+-0x17f1+0x2*-0x67e,_0x2cf33a));}['_createTre'+'e'](_0x469626,_0x358077,_0x1f118c,_0x172be1,_0x1da528,_0x4bb7b0,_0x4781bd,_0x426d9c,_0x2717da,_0x12fc16){switch(_0x469626){case CL:return new OL(_0x358077,_0x1f118c,_0x172be1,_0x1da528,_0x4bb7b0,_0x4781bd,_0x426d9c,_0x2717da,_0x12fc16);case ML:return new wu(_0x358077,_0x1f118c,_0x172be1,_0x1da528,_0x4bb7b0,_0x4781bd,_0x426d9c,_0x2717da,_0x12fc16);case PL:return new Eu(_0x358077,_0x1f118c,_0x172be1,_0x1da528,_0x4bb7b0,_0x4781bd,_0x426d9c,_0x2717da,_0x12fc16);case DL:return new FL(_0x358077,_0x1f118c,_0x172be1,_0x1da528,_0x4bb7b0,_0x4781bd,_0x426d9c,_0x2717da,_0x12fc16);}w['error']('Invalid\x20an'+'im\x20blend\x20t'+'ype:\x20'+_0x469626);}['_getNodeFr'+'omPath'](_0x1e68b4){let _0xf2468d=this['_blendTree'];for(let _0x4a067d=-0x6b8+-0x1f21+-0x792*-0x5;_0x4a067d<_0x1e68b4['length'];_0x4a067d++)_0xf2468d=_0xf2468d['getChild'](_0x1e68b4[_0x4a067d]);return _0xf2468d;}['addAnimati'+'on'](_0x3c3abd,_0x247ca9){const _0x405b78=_0x3c3abd['join']('.'),_0x30582b=this['_animation'+'List']['findIndex'](_0x21e761=>_0x21e761['path']===_0x405b78);if(_0x30582b>=0x104c+0x3*-0x404+-0x1*0x440)this['_animation'+'List'][_0x30582b]['animTrack']=_0x247ca9;else{const _0x44079d=this['_getNodeFr'+'omPath'](_0x3c3abd);_0x44079d['animTrack']=_0x247ca9,this['_animation'+'List']['push'](_0x44079d);}this['_updateHas'+'Animations']();}['_updateHas'+'Animations'](){this['_hasAnimat'+'ions']=this['_animation'+'List']['length']>0x138a+0x11b0+0x5*-0x772&&this['_animation'+'List']['every'](_0x35ab89=>_0x35ab89['animTrack']&&_0x35ab89['animTrack']!==Qi['EMPTY']);}get['name'](){return this['_name'];}set['animations'](_0x18203a){this['_animation'+'List']=_0x18203a,this['_updateHas'+'Animations']();}get['animations'](){return this['_animation'+'List'];}get['hasAnimati'+'ons'](){return this['_hasAnimat'+'ions'];}set['speed'](_0x5ca320){this['_speed']=_0x5ca320;}get['speed'](){return this['_speed'];}set['loop'](_0x1a2868){this['_loop']=_0x1a2868;}get['loop'](){return this['_loop'];}get['nodeCount'](){return!this['_blendTree']||this['_blendTree']['constructo'+'r']===ml?-0x265*-0x6+-0x2589+0x172c:this['_blendTree']['getNodeCou'+'nt']();}get['playable'](){return Ih['indexOf'](this['name'])!==-(0x1696+0x3*-0xf9+0x2*-0x9d5)||this['animations']['length']===this['nodeCount'];}get['looping'](){if(this['animations']['length']>-0x1*0x1689+0x20af+0x3*-0x362){const _0x430135=this['name']+'.'+this['animations'][0x1*0x1507+0x4*0x78c+-0x3337]['animTrack']['name'],_0x4440a7=this['_controlle'+'r']['animEvalua'+'tor']['findClip'](_0x430135);if(_0x4440a7)return _0x4440a7['loop'];}return!(-0x11fc+0x853+-0x9aa*-0x1);}get['totalWeigh'+'t'](){let _0x18e2f1=-0xc8d+-0xd7e+0x1a0b;for(let _0x4a376b=-0x15fa+0x238+0x9e1*0x2;_0x4a376b<this['animations']['length'];_0x4a376b++)_0x18e2f1+=this['animations'][_0x4a376b]['weight'];return _0x18e2f1;}get['timelineDu'+'ration'](){let _0x279201=0x17*0x133+-0xbc+-0x1ad9;for(let _0xa12c98=-0x1274+0x2a4+0x2c*0x5c;_0xa12c98<this['animations']['length'];_0xa12c98++){const _0x12c902=this['animations'][_0xa12c98];_0x12c902['animTrack']['duration']>_0x279201&&(_0x279201=_0x12c902['animTrack']['duration']);}return _0x279201;}}class Lh{constructor({from:_0x54071b,to:_0x5e271e,time:_0x2a0b54=0x130a+0x1*-0x5b5+0x1*-0xd55,priority:_0x368670=-0x1674+0x230c+-0xc98,conditions:_0xaf1c6b=[],exitTime:_0xf9d7cb=null,transitionOffset:_0x47e37c=null,interruptionSource:_0x326c22=zv}){this['_from']=_0x54071b,this['_to']=_0x5e271e,this['_time']=_0x2a0b54,this['_priority']=_0x368670,this['_condition'+'s']=_0xaf1c6b,this['_exitTime']=_0xf9d7cb,this['_transitio'+'nOffset']=_0x47e37c,this['_interrupt'+'ionSource']=_0x326c22;}get['from'](){return this['_from'];}set['to'](_0x242644){this['_to']=_0x242644;}get['to'](){return this['_to'];}get['time'](){return this['_time'];}get['priority'](){return this['_priority'];}get['conditions'](){return this['_condition'+'s'];}get['exitTime'](){return this['_exitTime'];}get['transition'+'Offset'](){return this['_transitio'+'nOffset'];}get['interrupti'+'onSource'](){return this['_interrupt'+'ionSource'];}get['hasExitTim'+'e'](){return!!this['exitTime'];}}class NL{constructor(_0x4c816c,_0x57e46e,_0x2e298a,_0x313ac0,_0x3030b2,_0x2303cf,_0x1e910e){h(this,'_states',{}),h(this,'_stateName'+'s',[]),h(this,'_findTrans'+'itionsFrom'+'StateCache',{}),h(this,'_findTrans'+'itionsBetw'+'eenStatesC'+'ache',{}),h(this,'_previousS'+'tateName',null),h(this,'_activeSta'+'teName',Co),h(this,'_activeSta'+'teDuration',0x1*0x691+0x657*-0x5+-0x2*-0xc91),h(this,'_activeSta'+'teDuration'+'Dirty',!(-0x1291+-0x1a28+0x1*0x2cb9)),h(this,'_playing',!(-0x25b5+0x1732*0x1+-0x4*-0x3a1)),h(this,'_activate'),h(this,'_transitio'+'ns'),h(this,'_currTrans'+'itionTime',-0x259*0x3+-0x26e9+0xd*0x389),h(this,'_totalTran'+'sitionTime',-0x2108+-0x9e6+0x2aef),h(this,'_isTransit'+'ioning',!(0x1c*-0xc7+0x2*-0x3b+0x163b)),h(this,'_transitio'+'nInterrupt'+'ionSource',zv),h(this,'_transitio'+'nPreviousS'+'tates',[]),h(this,'_timeInSta'+'te',0xbd*0x29+0x881+-0x26c6*0x1),h(this,'_timeInSta'+'teBefore',0xd4+0x1a6e+-0x1b42),h(this,'findParame'+'ter',_0x2d0d99=>this['_findParam'+'eter'](_0x2d0d99)),(this['_animEvalu'+'ator']=_0x4c816c,this['_eventHand'+'ler']=_0x3030b2,this['_findParam'+'eter']=_0x2303cf,this['_consumeTr'+'igger']=_0x1e910e);for(let _0x174878=0x4f*-0x8+-0x5*-0xdf+-0x17*0x15;_0x174878<_0x57e46e['length'];_0x174878++)this['_states'][_0x57e46e[_0x174878]['name']]=new Fg(this,_0x57e46e[_0x174878]['name'],_0x57e46e[_0x174878]['speed'],_0x57e46e[_0x174878]['loop'],_0x57e46e[_0x174878]['blendTree']),this['_stateName'+'s']['push'](_0x57e46e[_0x174878]['name']);this['_transitio'+'ns']=_0x2e298a['map'](_0x3b1066=>new Lh({..._0x3b1066})),this['_activate']=_0x313ac0;}get['animEvalua'+'tor'](){return this['_animEvalu'+'ator'];}set['activeStat'+'e'](_0x3908a6){this['_activeSta'+'teName']=_0x3908a6;}get['activeStat'+'e'](){return this['_findState'](this['_activeSta'+'teName']);}get['activeStat'+'eName'](){return this['_activeSta'+'teName'];}get['activeStat'+'eAnimation'+'s'](){return this['activeStat'+'e']['animations'];}set['previousSt'+'ate'](_0x5f0bfb){this['_previousS'+'tateName']=_0x5f0bfb;}get['previousSt'+'ate'](){return this['_findState'](this['_previousS'+'tateName']);}get['previousSt'+'ateName'](){return this['_previousS'+'tateName'];}get['playable'](){let _0x582775=!(0x1463+0x1*-0x9dc+-0xa87);for(let _0x2c33ba=0x1ee9+0x229d+-0x4186;_0x2c33ba<this['_stateName'+'s']['length'];_0x2c33ba++)this['_states'][this['_stateName'+'s'][_0x2c33ba]]['playable']||(_0x582775=!(0x624*0x1+0x7ea+0x1*-0xe0d));return _0x582775;}set['playing'](_0x17c360){this['_playing']=_0x17c360;}get['playing'](){return this['_playing'];}get['activeStat'+'eProgress'](){return this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);}get['activeStat'+'eDuration'](){if(this['_activeSta'+'teDuration'+'Dirty']){let _0x490c67=-0x24*0xd6+0x23ea+0x95*-0xa;for(let _0x160944=0x1*-0x26fb+0x754+0x1fa7;_0x160944<this['activeStat'+'eAnimation'+'s']['length'];_0x160944++){const _0x48ab52=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x160944]['name']);_0x48ab52&&(_0x490c67=Math['max'](_0x490c67,_0x48ab52['track']['duration']));}this['_activeSta'+'teDuration']=_0x490c67,this['_activeSta'+'teDuration'+'Dirty']=!(-0x1d9f+0x2*-0xcb9+0x7*0x7de);}return this['_activeSta'+'teDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x238561){this['_timeInSta'+'teBefore']=_0x238561,this['_timeInSta'+'te']=_0x238561;for(let _0x4654e0=-0x1*0xc95+-0x2444+0xcd*0x3d;_0x4654e0<this['activeStat'+'eAnimation'+'s']['length'];_0x4654e0++){const _0x101fdd=this['animEvalua'+'tor']['findClip'](this['activeStat'+'eAnimation'+'s'][_0x4654e0]['name']);_0x101fdd&&(_0x101fdd['time']=_0x238561);}}get['activeStat'+'eCurrentTi'+'me'](){return this['_timeInSta'+'te'];}get['transition'+'ing'](){return this['_isTransit'+'ioning'];}get['transition'+'Progress'](){return this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime'];}get['states'](){return this['_stateName'+'s'];}['assignMask'](_0x498021){return this['_animEvalu'+'ator']['assignMask'](_0x498021);}['_findState'](_0x1348cd){return this['_states'][_0x1348cd];}['_getActive'+'StateProgr'+'essForTime'](_0x8cb401){if(this['activeStat'+'eName']===Co||this['activeStat'+'eName']===vu||this['activeStat'+'eName']===qr)return 0x4d5*0x3+-0xea2+-0x1*-0x24;const _0x14ee19=this['_animEvalu'+'ator']['findClip'](this['activeStat'+'eAnimation'+'s'][0x5*0x574+0x5*-0x683+0x54b]['name']);return _0x14ee19?_0x14ee19['progressFo'+'rTime'](_0x8cb401):null;}['_findTrans'+'itionsFrom'+'State'](_0x5e7266){let _0xe34e0c=this['_findTrans'+'itionsFrom'+'StateCache'][_0x5e7266];return _0xe34e0c||(_0xe34e0c=this['_transitio'+'ns']['filter'](_0x3efb77=>_0x3efb77['from']===_0x5e7266),ul(_0xe34e0c),this['_findTrans'+'itionsFrom'+'StateCache'][_0x5e7266]=_0xe34e0c),_0xe34e0c;}['_findTrans'+'itionsBetw'+'eenStates'](_0x2d2352,_0x45fc56){let _0x599540=this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x2d2352+'->'+_0x45fc56];return _0x599540||(_0x599540=this['_transitio'+'ns']['filter'](_0xf8dac4=>_0xf8dac4['from']===_0x2d2352&&_0xf8dac4['to']===_0x45fc56),ul(_0x599540),this['_findTrans'+'itionsBetw'+'eenStatesC'+'ache'][_0x2d2352+'->'+_0x45fc56]=_0x599540),_0x599540;}['_transitio'+'nHasCondit'+'ionsMet'](_0x4582a5){const _0x4129c7=_0x4582a5['conditions'];for(let _0x253965=-0xa8c+0x3a1*-0x1+0xe2d;_0x253965<_0x4129c7['length'];_0x253965++){const _0x2b5003=_0x4129c7[_0x253965],_0x401ca6=this['_findParam'+'eter'](_0x2b5003['parameterN'+'ame']);switch(_0x2b5003['predicate']){case xL:if(!(_0x401ca6['value']>_0x2b5003['value']))return!(-0xdf*0x1+-0x160a+0x7*0x346);break;case TL:if(!(_0x401ca6['value']<_0x2b5003['value']))return!(0x4a*0x22+-0x2311+0x2*0xc9f);break;case wL:if(!(_0x401ca6['value']>=_0x2b5003['value']))return!(0xfc7+-0x46a*-0x4+-0x216e);break;case EL:if(!(_0x401ca6['value']<=_0x2b5003['value']))return!(-0x1*-0x1289+-0x8d7+-0x9b1*0x1);break;case bL:if(_0x401ca6['value']!==_0x2b5003['value'])return!(-0x3*-0x83e+0x1d87+-0x3640);break;case AL:if(_0x401ca6['value']===_0x2b5003['value'])return!(0xfe*0x21+-0x13b1+-0xd0c);break;}}return!(-0x12c8+0x36f*-0xa+-0xd*-0x416);}['_findTrans'+'ition'](_0x1fde6f,_0x4bd239){let _0x1b40db=[];if(_0x1fde6f&&_0x4bd239)_0x1b40db=_0x1b40db['concat'](this['_findTrans'+'itionsBetw'+'eenStates'](_0x1fde6f,_0x4bd239));else{if(!this['_isTransit'+'ioning'])_0x1b40db=_0x1b40db['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x1b40db=_0x1b40db['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));else switch(this['_transitio'+'nInterrupt'+'ionSource']){case gL:_0x1b40db=_0x1b40db['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x1b40db=_0x1b40db['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case SL:_0x1b40db=_0x1b40db['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x1b40db=_0x1b40db['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case yL:_0x1b40db=_0x1b40db['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x1b40db=_0x1b40db['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x1b40db=_0x1b40db['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;case vL:_0x1b40db=_0x1b40db['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_activeSta'+'teName'])),_0x1b40db=_0x1b40db['concat'](this['_findTrans'+'itionsFrom'+'State'](this['_previousS'+'tateName'])),_0x1b40db=_0x1b40db['concat'](this['_findTrans'+'itionsFrom'+'State'](qr));break;}}if(_0x1b40db=_0x1b40db['filter'](_0xe7b2b7=>{if(_0xe7b2b7['to']===this['activeStat'+'eName'])return!(0x1*-0x1337+0x1ec6+0x3*-0x3da);if(_0xe7b2b7['hasExitTim'+'e']){let _0x1b7d95=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'teBefore']),_0x254a47=this['_getActive'+'StateProgr'+'essForTime'](this['_timeInSta'+'te']);if(_0xe7b2b7['exitTime']<0x1*0x776+-0x4a3*-0x4+-0x1a01*0x1&&this['activeStat'+'e']['loop']&&(_0x1b7d95-=Math['floor'](_0x1b7d95),_0x254a47-=Math['floor'](_0x254a47)),_0x254a47===_0x1b7d95){if(_0x254a47!==_0xe7b2b7['exitTime'])return null;}else{if(!(_0xe7b2b7['exitTime']>_0x1b7d95&&_0xe7b2b7['exitTime']<=_0x254a47))return null;}}return this['_transitio'+'nHasCondit'+'ionsMet'](_0xe7b2b7);}),_0x1b40db['length']>0x154a+0x19fa+-0x2f44){const _0x107314=_0x1b40db[-0x1936+0x172e+0x208];if(_0x107314['to']===vu){const _0x3e40e2=this['_findTrans'+'itionsFrom'+'State'](Co)[0xf07*-0x1+0x1*0xcfb+-0x2*-0x106];_0x107314['to']=_0x3e40e2['to'];}return _0x107314;}return null;}['updateStat'+'eFromTrans'+'ition'](_0x399559){let _0x381a85,_0x673837,_0x200620;this['previousSt'+'ate']=_0x399559['from']?this['activeStat'+'eName']:null,this['activeStat'+'e']=_0x399559['to'],this['_activeSta'+'teDuration'+'Dirty']=!(0x88e+0x1a2e+0x24*-0xf7);for(let _0x29c204=0x11*0x116+-0xe9b*-0x1+-0x2111;_0x29c204<_0x399559['conditions']['length'];_0x29c204++){const _0x2bc694=_0x399559['conditions'][_0x29c204];this['_findParam'+'eter'](_0x2bc694['parameterN'+'ame'])['type']===Qc&&this['_consumeTr'+'igger'](_0x2bc694['parameterN'+'ame']);}if(this['previousSt'+'ate']){this['_isTransit'+'ioning']||(this['_transitio'+'nPreviousS'+'tates']=[]),this['_transitio'+'nPreviousS'+'tates']['push']({'name':this['_previousS'+'tateName'],'weight':0x1});const _0x439120=Math['min'](this['_totalTran'+'sitionTime']!==-0x161c+-0x919*0x1+0x1f35?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:0xd69*0x1+-0xa1*0x13+-0x175,0x1dc9+0x3*0x2d5+-0x2647);for(let _0x30d0c7=0x169e+-0x1ac9*-0x1+-0x1*0x3167;_0x30d0c7<this['_transitio'+'nPreviousS'+'tates']['length'];_0x30d0c7++){this['_isTransit'+'ioning']?_0x30d0c7!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x1676+-0x1330+-0x345)?this['_transitio'+'nPreviousS'+'tates'][_0x30d0c7]['weight']*=0x2527+-0x2*0x75+0x90f*-0x4-_0x439120:this['_transitio'+'nPreviousS'+'tates'][_0x30d0c7]['weight']=_0x439120:this['_transitio'+'nPreviousS'+'tates'][_0x30d0c7]['weight']=-0x4d2*0x5+-0x337*0xb+0x3b78,_0x381a85=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x30d0c7]['name']);for(let _0xe56f07=0x31a*-0x3+0x1af+0x79f;_0xe56f07<_0x381a85['animations']['length'];_0xe56f07++)_0x673837=_0x381a85['animations'][_0xe56f07],_0x200620=this['_animEvalu'+'ator']['findClip'](_0x673837['name']+'.previous.'+_0x30d0c7),_0x200620||(_0x200620=this['_animEvalu'+'ator']['findClip'](_0x673837['name']),_0x200620['name']=_0x673837['name']+'.previous.'+_0x30d0c7),_0x30d0c7!==this['_transitio'+'nPreviousS'+'tates']['length']-(0x7b8+-0x733+-0x84*0x1)&&_0x200620['pause']();}}this['_isTransit'+'ioning']=!(0xcfd+0xd55*-0x1+0x1*0x58),this['_totalTran'+'sitionTime']=_0x399559['time'],this['_currTrans'+'itionTime']=0x10c5+-0x1*0xea5+-0x220,this['_transitio'+'nInterrupt'+'ionSource']=_0x399559['interrupti'+'onSource'];const _0x208e07=this['activeStat'+'e'],_0x25542f=_0x399559['transition'+'Offset']&&_0x399559['transition'+'Offset']>0xb1c+0x1739+-0x2255&&_0x399559['transition'+'Offset']<0x11ed*0x2+-0x841+-0x1b98;let _0x37b4a9=0xb*0xc+0x1*0x1e3d+-0x1*0x1ec1,_0x51cd4c=-0x90d*0x1+-0x3*-0x6e9+-0xbae*0x1;if(_0x25542f){const _0x30a5ea=_0x208e07['timelineDu'+'ration']*_0x399559['transition'+'Offset'];_0x37b4a9=_0x30a5ea,_0x51cd4c=_0x30a5ea;}this['_timeInSta'+'te']=_0x37b4a9,this['_timeInSta'+'teBefore']=_0x51cd4c;for(let _0x5cc4ad=0x5*-0x1da+-0x6c3*0x4+0x244e;_0x5cc4ad<_0x208e07['animations']['length'];_0x5cc4ad++){if(_0x200620=this['_animEvalu'+'ator']['findClip'](_0x208e07['animations'][_0x5cc4ad]['name']),_0x200620)_0x200620['reset']();else{const _0x5c9fe2=Number['isFinite'](_0x208e07['animations'][_0x5cc4ad]['speed'])?_0x208e07['animations'][_0x5cc4ad]['speed']:_0x208e07['speed'];_0x200620=new Dh(_0x208e07['animations'][_0x5cc4ad]['animTrack'],this['_timeInSta'+'te'],_0x5c9fe2,!(0x1be2+-0x165c+-0x586),_0x208e07['loop'],this['_eventHand'+'ler']),_0x200620['name']=_0x208e07['animations'][_0x5cc4ad]['name'],this['_animEvalu'+'ator']['addClip'](_0x200620);}if(_0x399559['time']>-0x50f*-0x1+0x867+-0xd76*0x1?_0x200620['blendWeigh'+'t']=0x1427*-0x1+0x66a*0x6+-0x1255:_0x200620['blendWeigh'+'t']=_0x208e07['animations'][_0x5cc4ad]['normalized'+'Weight'],_0x200620['play'](),_0x25542f)_0x200620['time']=_0x208e07['timelineDu'+'ration']*_0x399559['transition'+'Offset'];else{const _0x557a39=_0x208e07['speed']>=-0x1*0x17b+0xebd+0x2*-0x6a1?-0x1*0x155e+-0x17ae+0x2d0c:this['activeStat'+'eDuration'];_0x200620['time']=_0x557a39;}}}['_transitio'+'nToState'](_0x5b975b){if(!this['_findState'](_0x5b975b))return;let _0x5d7b7d=this['_findTrans'+'ition'](this['_activeSta'+'teName'],_0x5b975b);_0x5d7b7d||(this['_animEvalu'+'ator']['removeClip'+'s'](),_0x5d7b7d=new Lh({'from':null,'to':_0x5b975b})),this['updateStat'+'eFromTrans'+'ition'](_0x5d7b7d);}['assignAnim'+'ation'](_0x2ced7a,_0x5c4d98,_0x5d1554,_0x46de71){const _0x4ee27=_0x2ced7a['split']('.');let _0x312f96=this['_findState'](_0x4ee27[0x63d+-0x152b+0x111*0xe]);_0x312f96||(_0x312f96=new Fg(this,_0x4ee27[-0x1577+-0x1*-0x1749+-0x1d2],_0x5d1554),this['_states'][_0x4ee27[0x3*0x2e1+0x2261*0x1+-0x2b04]]=_0x312f96,this['_stateName'+'s']['push'](_0x4ee27[-0xb*-0xda+-0x72c+-0x1*0x232])),_0x312f96['addAnimati'+'on'](_0x4ee27,_0x5c4d98),this['_animEvalu'+'ator']['updateClip'+'Track'](_0x312f96['name'],_0x5c4d98),_0x5d1554!==void(-0x3*0x13d+0xd53+0x3*-0x334)&&(_0x312f96['speed']=_0x5d1554),_0x46de71!==void(-0x1*-0x1e8f+0x14ce+-0x335d)&&(_0x312f96['loop']=_0x46de71),!this['_playing']&&this['_activate']&&this['playable']&&this['play'](),this['_activeSta'+'teDuration'+'Dirty']=!(-0x115*0x7+-0x113d+0x1*0x18d0);}['removeNode'+'Animations'](_0x1e055f){if(Ih['indexOf'](_0x1e055f)!==-(-0x208d*-0x1+-0x5*0x5df+0x1*-0x331))return!(-0xb0d+-0x1*-0xe99+-0x38b);const _0x23c168=this['_findState'](_0x1e055f);return _0x23c168?(_0x23c168['animations']=[],!(0x97a*0x1+0xa3*-0x4+-0x2*0x377)):(w['error']('Attempting'+'\x20to\x20unassi'+'gn\x20animati'+'on\x20tracks\x20'+'from\x20a\x20sta'+'te\x20that\x20do'+'es\x20not\x20exi'+'st.',_0x1e055f),!(-0xa3+-0x232*-0x5+-0xa56));}['play'](_0x7a1b63){_0x7a1b63&&this['_transitio'+'nToState'](_0x7a1b63),this['_playing']=!(0x2f*-0x99+-0x2429*-0x1+-0x812);}['pause'](){this['_playing']=!(0x101f+0x7*0xd+-0x1079);}['reset'](){this['_previousS'+'tateName']=null,this['_activeSta'+'teName']=Co,this['_playing']=!(0x2151+-0xf05+-0x124b),this['_currTrans'+'itionTime']=0x1c5*0xe+0x20*0xc0+-0x30c5*0x1,this['_totalTran'+'sitionTime']=-0x1e6a+0x7*-0x1b5+-0x27e*-0x11,this['_isTransit'+'ioning']=!(-0x6*-0x67f+0xd55+-0x344e),this['_timeInSta'+'te']=0xd13+-0x2511+-0xa6*-0x25,this['_timeInSta'+'teBefore']=-0x25*-0x9d+-0xe4d+-0xc*0xb3,this['_animEvalu'+'ator']['removeClip'+'s']();}['rebind'](){this['_animEvalu'+'ator']['rebind']();}['update'](_0xca21b7){if(!this['_playing'])return;let _0x13a6b3,_0x5f31c4,_0x2bf858;(this['activeStat'+'e']['loop']||this['_timeInSta'+'te']<this['activeStat'+'eDuration'])&&(this['_timeInSta'+'teBefore']=this['_timeInSta'+'te'],this['_timeInSta'+'te']+=_0xca21b7*this['activeStat'+'e']['speed'],!this['activeStat'+'e']['loop']&&this['_timeInSta'+'te']>this['activeStat'+'eDuration']&&(this['_timeInSta'+'te']=this['activeStat'+'eDuration'],_0xca21b7=this['activeStat'+'eDuration']-this['_timeInSta'+'teBefore']));const _0xde96ff=this['_findTrans'+'ition'](this['_activeSta'+'teName']);if(_0xde96ff&&this['updateStat'+'eFromTrans'+'ition'](_0xde96ff),this['_isTransit'+'ioning']){if(this['_currTrans'+'itionTime']+=_0xca21b7,this['_currTrans'+'itionTime']<=this['_totalTran'+'sitionTime']){const _0x4025a9=this['_totalTran'+'sitionTime']!==0x1f56+-0x191*0x2+-0x1c34?this['_currTrans'+'itionTime']/this['_totalTran'+'sitionTime']:-0x238a+0x323*0x8+0xa73;for(let _0x1adfea=0xca9*-0x1+0x217e+-0x14d5;_0x1adfea<this['_transitio'+'nPreviousS'+'tates']['length'];_0x1adfea++){_0x13a6b3=this['_findState'](this['_transitio'+'nPreviousS'+'tates'][_0x1adfea]['name']);const _0x50037b=this['_transitio'+'nPreviousS'+'tates'][_0x1adfea]['weight'];for(let _0x10b04b=-0x2a*0x5+-0x2b4*-0x4+-0x1*0x9fe;_0x10b04b<_0x13a6b3['animations']['length'];_0x10b04b++)_0x5f31c4=_0x13a6b3['animations'][_0x10b04b],_0x2bf858=this['_animEvalu'+'ator']['findClip'](_0x5f31c4['name']+'.previous.'+_0x1adfea),_0x2bf858&&(_0x2bf858['blendWeigh'+'t']=(-0x1fb2+-0xd3a+0x66b*0x7-_0x4025a9)*_0x5f31c4['normalized'+'Weight']*_0x50037b);}_0x13a6b3=this['activeStat'+'e'];for(let _0x340fd1=0x12d7*0x1+-0x8*-0x2a0+0x149*-0x1f;_0x340fd1<_0x13a6b3['animations']['length'];_0x340fd1++)_0x5f31c4=_0x13a6b3['animations'][_0x340fd1],this['_animEvalu'+'ator']['findClip'](_0x5f31c4['name'])['blendWeigh'+'t']=_0x4025a9*_0x5f31c4['normalized'+'Weight'];}else{this['_isTransit'+'ioning']=!(0x2*0xa37+0x2*0xf6f+-0x334b);const _0x2c6db2=this['activeStat'+'eAnimation'+'s']['length'],_0x2e5389=this['_animEvalu'+'ator']['clips']['length'];for(let _0x114064=-0x99e+0x203e+0x5a8*-0x4;_0x114064<_0x2e5389-_0x2c6db2;_0x114064++)this['_animEvalu'+'ator']['removeClip'](-0x9*0x227+-0x944+0x1ca3);this['_transitio'+'nPreviousS'+'tates']=[],_0x13a6b3=this['activeStat'+'e'];for(let _0x1e8413=-0x4*0x177+0x1*-0x2ee+0x465*0x2;_0x1e8413<_0x13a6b3['animations']['length'];_0x1e8413++)_0x5f31c4=_0x13a6b3['animations'][_0x1e8413],_0x2bf858=this['_animEvalu'+'ator']['findClip'](_0x5f31c4['name']),_0x2bf858&&(_0x2bf858['blendWeigh'+'t']=_0x5f31c4['normalized'+'Weight']);}}else{if(this['activeStat'+'e']['_blendTree']['constructo'+'r']!==ml){_0x13a6b3=this['activeStat'+'e'];for(let _0x512877=-0xaf4+0x2165+-0x1671;_0x512877<_0x13a6b3['animations']['length'];_0x512877++)_0x5f31c4=_0x13a6b3['animations'][_0x512877],_0x2bf858=this['_animEvalu'+'ator']['findClip'](_0x5f31c4['name']),_0x2bf858&&(_0x2bf858['blendWeigh'+'t']=_0x5f31c4['normalized'+'Weight'],_0x5f31c4['parent']['syncAnimat'+'ions']&&(_0x2bf858['speed']=_0x5f31c4['speed']));}}this['_animEvalu'+'ator']['update'](_0xca21b7,this['activeStat'+'e']['hasAnimati'+'ons']);}}const wf=new J(),Tc=new D(),_o=new re(),go=new ie(),So=new le();class Fi extends Sr{constructor(_0xe50b72,_0x11018a,_0x3abbbd,_0x3308fc,_0x37d2aa){super(_0x11018a),this['animCompon'+'ent']=_0xe50b72,this['_mask']=_0x3308fc,this['layerName']=_0x3abbbd,this['layerIndex']=_0x37d2aa;}static['_packFloat'](_0x456f94){return _0x456f94[-0x1242+0x1cff*0x1+0xabd*-0x1];}static['_packBoole'+'an'](_0x118e66){return!!_0x118e66[0x1a*-0x106+-0x111e+0x2bba];}static['_packVec2'](_0x3f2295){return wf['x']=_0x3f2295[0x25df+0x24da+-0xb*0x6cb],wf['y']=_0x3f2295[-0x17*-0x27+-0x714*0x1+0x394],wf;}static['_packVec3'](_0xd848f5){return Tc['x']=_0xd848f5[-0x1*0x10d5+-0x1bb5+-0x2c8a*-0x1],Tc['y']=_0xd848f5[-0xb71*-0x1+0x91a+0x2*-0xa45],Tc['z']=_0xd848f5[-0x159c+-0x10eb+0x2689],Tc;}static['_packVec4'](_0x1a8577){return _o['x']=_0x1a8577[0xa*0x1f+0x163f+-0x1775],_o['y']=_0x1a8577[0xc0b*-0x3+-0x2435+0x181d*0x3],_o['z']=_0x1a8577[0x93a+0x136b*0x1+-0x1*0x1ca3],_o['w']=_0x1a8577[-0x9b4+-0x2f6+0xcad],_o;}static['_packColor'](_0x561d39){return go['r']=_0x561d39[0x1*0x179e+-0x2b2*0xa+-0xe*-0x3d],go['g']=_0x561d39[-0x1b81+0x201f+-0x49d],go['b']=_0x561d39[-0x13be+0x18f1+0x1*-0x531],go['a']=_0x561d39[-0x29*-0x91+-0x2623+0x1*0xeed],go;}static['_packQuat'](_0x379631){return So['x']=_0x379631[-0x195a+-0x188e+-0x8*-0x63d],So['y']=_0x379631[0xb47*-0x2+-0x3a*0x7+0x373*0x7],So['z']=_0x379631[0x22*0x18+-0x9fc+-0x1a*-0x43],So['w']=_0x379631[-0x2593+0x750+-0xa*-0x307],So;}['resolve'](_0x3ce800){const _0x54ff69=ra['encode'](_0x3ce800['entityPath'],_0x3ce800['component'],_0x3ce800['propertyPa'+'th']);let _0x435398=this['targetCach'+'e'][_0x54ff69];if(_0x435398)return _0x435398;let _0x2f4721,_0x296880,_0x190c63;switch(_0x3ce800['component']){case'entity':_0x2f4721=this['_getEntity'+'FromHierar'+'chy'](_0x3ce800['entityPath']),_0x190c63=ra['encode'](_0x2f4721['path'],'entity',_0x3ce800['propertyPa'+'th']),_0x296880=_0x2f4721;break;case'graph':if(_0x296880=this['findNode'](_0x3ce800),!_0x296880)return null;_0x190c63=ra['encode'](_0x296880['path'],'graph',_0x3ce800['propertyPa'+'th']);break;default:if(_0x2f4721=this['_getEntity'+'FromHierar'+'chy'](_0x3ce800['entityPath']),_0x296880=_0x2f4721['findCompon'+'ent'](_0x3ce800['component']),!_0x296880)return null;_0x190c63=ra['encode'](_0x2f4721['path'],_0x3ce800['component'],_0x3ce800['propertyPa'+'th']);break;}return _0x435398=this['_createAni'+'mTargetFor'+'Property'](_0x296880,_0x3ce800['propertyPa'+'th'],_0x190c63),this['targetCach'+'e'][_0x54ff69]=_0x435398,_0x435398;}['update'](_0x5c9e89){const _0x1c7a0f=this['activeNode'+'s'];if(_0x1c7a0f){for(let _0x3cb1bc=-0x1*0x171b+-0x714+0x1*0x1e2f;_0x3cb1bc<_0x1c7a0f['length'];_0x3cb1bc++)_0x1c7a0f[_0x3cb1bc]['_dirtifyLo'+'cal']();}}['_getEntity'+'FromHierar'+'chy'](_0x6fc7aa){if(!this['animCompon'+'ent']['entity']['name']===_0x6fc7aa[-0x22c0+0xa36*0x2+0xe54])return null;const _0x57c4d3=this['animCompon'+'ent']['entity'];return _0x6fc7aa['length']===-0x1f4b*-0x1+-0xbcc+-0x1*0x137e?_0x57c4d3:_0x57c4d3['_parent']['findByPath'](_0x6fc7aa);}['_resolvePa'+'th'](_0x32a22b,_0x53c919,_0x105e08){const _0x230e71=_0x53c919['length']-(_0x105e08?0x6b*-0x1a+0x4*0x8eb+-0x18ce:-0x35*-0x9d+0x4*-0x6b7+-0x5a4);for(let _0xbc0cd7=0xbf4+0x1*0x2366+0x1a2*-0x1d;_0xbc0cd7<_0x230e71;_0xbc0cd7++)_0x32a22b=_0x32a22b[_0x53c919[_0xbc0cd7]];return _0x32a22b;}['_setter'](_0x3ad561,_0x4258f0,_0x213583){const _0x5e1caa=this['_resolvePa'+'th'](_0x3ad561,_0x4258f0),_0x2d0eca=_0x4258f0[_0x4258f0['length']-(-0x15c0+0x1*-0x1e0e+0x33cf)],_0x36fca1='set'+_0x2d0eca['substring'](0x1672+0x1e36+-0x34a8,0x1*0x6e6+-0x16*0x29+-0x35f)['toUpperCas'+'e']()+_0x2d0eca['substring'](0x51+0x5*0x771+-0x2585);if(_0x5e1caa[_0x36fca1]){let _0xf2e927=_0x5e1caa['get'+_0x2d0eca['substring'](0xde8+-0x1e87+0x109f,0xdaf*-0x1+-0x72e+0x14de)['toUpperCas'+'e']()+_0x2d0eca['substring'](0x243*0x7+0x31d*0x1+-0xd*0x175)]['bind'](_0x5e1caa)();_0xf2e927=[_0xf2e927['x'],_0xf2e927['y'],_0xf2e927['z'],_0xf2e927['w']];const _0x74bcde=_0x5e1caa[_0x36fca1]['bind'](_0x5e1caa);return{'set':_0x4d4d3f=>{_0x74bcde(_0x213583(_0x4d4d3f));},'get':()=>_0xf2e927};}const _0x1ba5ef=_0x5e1caa[_0x2d0eca];if(typeof _0x1ba5ef=='object'&&_0x1ba5ef['hasOwnProp'+'erty']('copy'))return function(_0x10f8ac){_0x1ba5ef['copy'](_0x213583(_0x10f8ac));};if([J,D,re,ie,le]['indexOf'](_0x5e1caa['constructo'+'r'])!==-(0x1*-0xaab+0x12d*0x1c+-0xb2*0x20)&&_0x4258f0['length']>-0x1bbb+0x79*-0x3b+-0x1d*-0x1eb){const _0xc87e71=_0x4258f0['length']>-0x1b3b*0x1+-0x2*0x27b+-0x2033*-0x1?this['_resolvePa'+'th'](_0x3ad561,_0x4258f0['slice'](0xa1*-0x3b+0x2*0x844+0x1493,-(-0x151e+-0x5*-0x252+-0x1*-0x985))):_0x3ad561,_0x166f97=_0x4258f0[_0x4258f0['length']-(0x3ea+0x7*-0x141+0x2b*0x1d)];return function(_0x1e852b){_0x5e1caa[_0x2d0eca]=_0x213583(_0x1e852b),_0xc87e71[_0x166f97]=_0x5e1caa;};}return function(_0x3ce85f){_0x5e1caa[_0x2d0eca]=_0x213583(_0x3ce85f);};}['_createAni'+'mTargetFor'+'Property'](_0x3e992e,_0x45e9a5,_0x3f755c){if(this['handlers']&&_0x45e9a5[-0x1156+-0x71*0x1f+-0x1f05*-0x1]['startsWith']('weight.'))return this['handlers']['weight'](_0x3e992e,_0x45e9a5[0x2*0x3ff+0x1d*-0x3b+0x14f*-0x1]['replace']('weight.',''));if(this['handlers']&&_0x45e9a5[0x1*-0xd99+-0x2*0x10f3+0x2f7f]==='material'&&_0x45e9a5['length']===-0xff6+-0x3b4*-0x2+0x89*0x10){const _0x3c5bc8=_0x45e9a5[0x7a9*-0x2+-0x1159+0x20ac];if(_0x3c5bc8['endsWith']('Map'))return this['handlers']['materialTe'+'xture'](_0x3e992e,_0x3c5bc8);}const _0x11f7dd=this['_resolvePa'+'th'](_0x3e992e,_0x45e9a5,!(-0x168d+-0xb*0x30d+0x26*0x17a));if(typeof _0x11f7dd>'u')return null;let _0xa1d6bb,_0xf4eb48,_0x121076;if(typeof _0x11f7dd=='number')_0xa1d6bb=this['_setter'](_0x3e992e,_0x45e9a5,Fi['_packFloat']),_0xf4eb48='vector',_0x121076=-0xb*0x277+0xc2e+0xef0;else{if(typeof _0x11f7dd=='boolean')_0xa1d6bb=this['_setter'](_0x3e992e,_0x45e9a5,Fi['_packBoole'+'an']),_0xf4eb48='vector',_0x121076=-0x13f*-0x2+-0x4ac*0x1+0xd*0x2b;else{if(typeof _0x11f7dd=='object')switch(_0x11f7dd['constructo'+'r']){case J:_0xa1d6bb=this['_setter'](_0x3e992e,_0x45e9a5,Fi['_packVec2']),_0xf4eb48='vector',_0x121076=0x69a+0x1*0x269e+0x3*-0xf12;break;case D:_0xa1d6bb=this['_setter'](_0x3e992e,_0x45e9a5,Fi['_packVec3']),_0xf4eb48='vector',_0x121076=-0x23a7*-0x1+-0x679*-0x4+-0x3d88;break;case re:_0xa1d6bb=this['_setter'](_0x3e992e,_0x45e9a5,Fi['_packVec4']),_0xf4eb48='vector',_0x121076=0x26f6+0x1fb5+-0x46a7;break;case ie:_0xa1d6bb=this['_setter'](_0x3e992e,_0x45e9a5,Fi['_packColor']),_0xf4eb48='vector',_0x121076=-0x160e+0xca*0x4+0x12ea;break;case le:_0xa1d6bb=this['_setter'](_0x3e992e,_0x45e9a5,Fi['_packQuat']),_0xf4eb48='quaternion',_0x121076=0x2303+0x1148+0x5cf*-0x9;break;default:return null;}}}return _0x45e9a5['indexOf']('material')!==-(0x117f+0x2552+-0x36d0)?new xu(_0x21e50f=>{_0xa1d6bb(_0x21e50f),_0x3e992e['material']['update']();},_0xf4eb48,_0x121076,_0x3f755c):new xu(_0xa1d6bb,_0xf4eb48,_0x121076,_0x3f755c);}['rebind'](){this['targetCach'+'e']={},this['visitedFal'+'lbackGraph'+'Paths']={},this['animCompon'+'ent']['rootBone']?this['graph']=this['animCompon'+'ent']['rootBone']:this['graph']=this['animCompon'+'ent']['entity'];const _0xbe7329={},_0x1d8961=function(_0x5d4f5a){_0xbe7329[_0x5d4f5a['name']]=_0x5d4f5a;for(let _0x4c3367=-0x25*0xef+0x313*0x1+0x1f78;_0x4c3367<_0x5d4f5a['children']['length'];++_0x4c3367)_0x1d8961(_0x5d4f5a['children'][_0x4c3367]);};_0x1d8961(this['graph']),this['nodes']=_0xbe7329;}}class kL{constructor(_0x26f8ef,_0x2d2b7b,_0x4cf9ac,_0x195225=0x2f1*0x1+0x14e6+0x1*-0x17d6,_0x24c273=Vv){h(this,'_name'),h(this,'_controlle'+'r'),h(this,'_component'),h(this,'_weight'),h(this,'_blendType'),h(this,'_mask',null),h(this,'_blendTime',-0x22b3+0x9*-0x435+-0x60c*-0xc),h(this,'_blendTime'+'Elapsed',0xc53+-0x13e4+0x791),h(this,'_startingW'+'eight',0x4*0x44b+0x1941+0x2a6d*-0x1),h(this,'_targetWei'+'ght',0x1a*-0x16+0x243b+-0x21ff),(this['_name']=_0x26f8ef,this['_controlle'+'r']=_0x2d2b7b,this['_component']=_0x4cf9ac,this['_weight']=_0x195225,this['_blendType']=_0x24c273);}get['name'](){return this['_name'];}set['playing'](_0x1c583d){this['_controlle'+'r']['playing']=_0x1c583d;}get['playing'](){return this['_controlle'+'r']['playing'];}get['playable'](){return this['_controlle'+'r']['playable'];}get['activeStat'+'e'](){return this['_controlle'+'r']['activeStat'+'eName'];}get['previousSt'+'ate'](){return this['_controlle'+'r']['previousSt'+'ateName'];}get['activeStat'+'eProgress'](){return this['_controlle'+'r']['activeStat'+'eProgress'];}get['activeStat'+'eDuration'](){return this['_controlle'+'r']['activeStat'+'eDuration'];}set['activeStat'+'eCurrentTi'+'me'](_0x176d7f){const _0x1d58d7=this['_controlle'+'r'],_0xe6c30=_0x1d58d7['playing'];_0x1d58d7['playing']=!(-0x1a*-0x14f+-0x760+-0x1aa6),_0x1d58d7['activeStat'+'eCurrentTi'+'me']=_0x176d7f,_0xe6c30||_0x1d58d7['update'](-0x5ce+-0xf1*0x7+0xa7*0x13),_0x1d58d7['playing']=_0xe6c30;}get['activeStat'+'eCurrentTi'+'me'](){return this['_controlle'+'r']['activeStat'+'eCurrentTi'+'me'];}get['transition'+'ing'](){return this['_controlle'+'r']['transition'+'ing'];}get['transition'+'Progress'](){return this['transition'+'ing']?this['_controlle'+'r']['transition'+'Progress']:null;}get['states'](){return this['_controlle'+'r']['states'];}set['weight'](_0x2dd72e){this['_weight']=_0x2dd72e,this['_component']['dirtifyTar'+'gets']();}get['weight'](){return this['_weight'];}set['blendType'](_0x1c5486){_0x1c5486!==this['_blendType']&&(this['_blendType']=_0x1c5486,this['_controlle'+'r']['normalizeW'+'eights']&&this['_component']['rebind']());}get['blendType'](){return this['_blendType'];}set['mask'](_0x3f12ca){this['_controlle'+'r']['assignMask'](_0x3f12ca)&&this['_component']['rebind'](),this['_mask']=_0x3f12ca;}get['mask'](){return this['_mask'];}['play'](_0x263b5d){this['_controlle'+'r']['play'](_0x263b5d);}['pause'](){this['_controlle'+'r']['pause']();}['reset'](){this['_controlle'+'r']['reset']();}['rebind'](){this['_controlle'+'r']['rebind']();}['update'](_0x115dce){this['_blendTime']&&(this['_blendTime'+'Elapsed']<this['_blendTime']?(this['weight']=Y['lerp'](this['_startingW'+'eight'],this['_targetWei'+'ght'],this['_blendTime'+'Elapsed']/this['_blendTime']),this['_blendTime'+'Elapsed']+=_0x115dce):(this['weight']=this['_targetWei'+'ght'],this['_blendTime']=0x1a1c+0x3*0x3cb+0x3*-0xc7f,this['_blendTime'+'Elapsed']=-0x1425+-0x100*-0x3+0x85*0x21,this['_startingW'+'eight']=-0x25a2+-0x69c+0x329*0xe,this['_targetWei'+'ght']=-0x143+0x2250+-0x210d)),this['_controlle'+'r']['update'](_0x115dce);}['blendToWei'+'ght'](_0x42defa,_0x48aa28){this['_startingW'+'eight']=this['weight'],this['_targetWei'+'ght']=_0x42defa,this['_blendTime']=Math['max'](-0x3ae+0x7*0x111+-0x3c9,_0x48aa28),this['_blendTime'+'Elapsed']=-0xd*-0x201+0x1ef5+-0x3902;}['assignAnim'+'ation'](_0x2254a5,_0x3c3860,_0x117651,_0x3e421a){if(!(_0x3c3860 instanceof Qi)){w['error']('assignAnim'+'ation:\x20ani'+'mTrack\x20sup'+'plied\x20to\x20f'+'unction\x20wa'+'s\x20not\x20of\x20t'+'ype\x20AnimTr'+'ack');return;}this['_controlle'+'r']['assignAnim'+'ation'](_0x2254a5,_0x3c3860,_0x117651,_0x3e421a),this['_controlle'+'r']['_transitio'+'ns']['length']===0xfbb*0x1+0x11aa+0x53*-0x67&&this['_controlle'+'r']['_transitio'+'ns']['push'](new Lh({'from':'START','to':_0x2254a5})),this['_component']['activate']&&this['_component']['playable']&&(this['_component']['playing']=!(-0x1*-0x20d5+-0x2*0xd54+-0x62d*0x1));}['removeNode'+'Animations'](_0x227ff2){this['_controlle'+'r']['removeNode'+'Animations'](_0x227ff2)&&(this['_component']['playing']=!(-0x1d*-0x56+-0xd40+0x383*0x1));}['getAnimati'+'onAsset'](_0x4aa814){return this['_component']['animationA'+'ssets'][this['name']+':'+_0x4aa814];}['transition'](_0x23faf1,_0x83df36=0x2378+-0xd66+0x71*-0x32,_0x5422ad=null){this['_controlle'+'r']['updateStat'+'eFromTrans'+'ition'](new Lh({'from':this['_controlle'+'r']['activeStat'+'eName'],'to':_0x23faf1,'time':_0x83df36,'transitionOffset':_0x5422ad}));}}class Jc{constructor(_0x31e0e6){if(this['_layers']=[],this['_parameter'+'s']={},Array['isArray'](_0x31e0e6['layers']))this['_layers']=_0x31e0e6['layers'];else for(const _0x34e728 in _0x31e0e6['layers']){const _0x4edcce=_0x31e0e6['layers'][_0x34e728],_0x2e88ba={'name':_0x4edcce['name'],'blendType':_0x4edcce['blendType'],'weight':_0x4edcce['weight'],'states':[],'transitions':[]};for(let _0x340edd=-0xb*-0x2b9+0xfbe+-0x2db1;_0x340edd<_0x4edcce['states']['length'];_0x340edd++)_0x2e88ba['states']['push'](_0x31e0e6['states'][_0x4edcce['states'][_0x340edd]]);for(let _0x5e06c1=0x38*-0x39+0x1bae+-0x76*0x21;_0x5e06c1<_0x4edcce['transition'+'s']['length'];_0x5e06c1++){const _0x439a8a=_0x31e0e6['transition'+'s'][_0x4edcce['transition'+'s'][_0x5e06c1]];if(_0x439a8a['conditions']&&!Array['isArray'](_0x439a8a['conditions'])){const _0x4c81e3=Object['keys'](_0x439a8a['conditions']),_0x19ff60=[];for(let _0xecb467=0x37f*0x3+0xb*-0x388+0x1c5b;_0xecb467<_0x4c81e3['length'];_0xecb467++){const _0x1fbd55=_0x439a8a['conditions'][_0x4c81e3[_0xecb467]];_0x1fbd55['parameterN'+'ame']&&_0x19ff60['push'](_0x1fbd55);}_0x439a8a['conditions']=_0x19ff60;}Number['isInteger'](_0x439a8a['from'])&&(_0x439a8a['from']=_0x31e0e6['states'][_0x439a8a['from']]['name']),Number['isInteger'](_0x439a8a['to'])&&(_0x439a8a['to']=_0x31e0e6['states'][_0x439a8a['to']]['name']),_0x2e88ba['transition'+'s']['push'](_0x439a8a);}this['_layers']['push'](_0x2e88ba);}for(const _0x902f52 in _0x31e0e6['parameters']){const _0x158644=_0x31e0e6['parameters'][_0x902f52];this['_parameter'+'s'][_0x158644['name']]={'type':_0x158644['type'],'value':_0x158644['value']};}}get['parameters'](){return Object['assign']({},this['_parameter'+'s']);}get['layers'](){return this['_layers'];}}class $v extends we{constructor(){super(...arguments),h(this,'_stateGrap'+'hAsset',null),h(this,'_animation'+'Assets',{}),h(this,'_speed',-0x4e*-0xd+0x39*0x49+-0x1436),h(this,'_activate',!(0xed*-0x12+0x17*-0xfe+0x277c)),h(this,'_playing',!(-0x351*-0x3+0x222c*-0x1+0x183a)),h(this,'_rootBone',null),h(this,'_stateGrap'+'h',null),h(this,'_layers',[]),h(this,'_layerIndi'+'ces',{}),h(this,'_parameter'+'s',{}),h(this,'_targets',{}),h(this,'_consumedT'+'riggers',new Set()),h(this,'_normalize'+'Weights',!(-0x205e+0x23*0xbf+0x642)),h(this,'findParame'+'ter',_0x42c592=>this['_parameter'+'s'][_0x42c592]),h(this,'consumeTri'+'gger',_0x510ec7=>{this['_consumedT'+'riggers']['add'](_0x510ec7);});}set['stateGraph'+'Asset'](_0x5255e9){if(_0x5255e9===null){this['removeStat'+'eGraph']();return;}this['_stateGrap'+'hAsset']&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);let _0x35cfc7,_0x1e1e62;_0x5255e9 instanceof pe?(_0x35cfc7=_0x5255e9['id'],_0x1e1e62=this['system']['app']['assets']['get'](_0x35cfc7),_0x1e1e62||(this['system']['app']['assets']['add'](_0x5255e9),_0x1e1e62=this['system']['app']['assets']['get'](_0x35cfc7))):(_0x35cfc7=_0x5255e9,_0x1e1e62=this['system']['app']['assets']['get'](_0x35cfc7)),!(!_0x1e1e62||this['_stateGrap'+'hAsset']===_0x35cfc7)&&(_0x1e1e62['resource']?(this['_stateGrap'+'h']=_0x1e1e62['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']),_0x1e1e62['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this)):(_0x1e1e62['once']('load',_0x993d4d=>{this['_stateGrap'+'h']=_0x993d4d['resource'],this['loadStateG'+'raph'](this['_stateGrap'+'h']);}),_0x1e1e62['on']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this),this['system']['app']['assets']['load'](_0x1e1e62)),this['_stateGrap'+'hAsset']=_0x35cfc7);}get['stateGraph'+'Asset'](){return this['_stateGrap'+'hAsset'];}set['normalizeW'+'eights'](_0x466b62){this['_normalize'+'Weights']=_0x466b62,this['unbind']();}get['normalizeW'+'eights'](){return this['_normalize'+'Weights'];}set['animationA'+'ssets'](_0x2f6747){this['_animation'+'Assets']=_0x2f6747,this['loadAnimat'+'ionAssets']();}get['animationA'+'ssets'](){return this['_animation'+'Assets'];}set['speed'](_0x4d334a){this['_speed']=_0x4d334a;}get['speed'](){return this['_speed'];}set['activate'](_0x344a9c){this['_activate']=_0x344a9c;}get['activate'](){return this['_activate'];}set['playing'](_0x160fa1){this['_playing']=_0x160fa1;}get['playing'](){return this['_playing'];}set['rootBone'](_0x67a18f){if(typeof _0x67a18f=='string'){const _0x922805=this['entity']['root']['findByGuid'](_0x67a18f);w['assert'](_0x922805,'rootBone\x20e'+'ntity\x20for\x20'+'supplied\x20g'+'uid:'+_0x67a18f+('\x20cannot\x20be'+'\x20found\x20in\x20'+'the\x20scene')),this['_rootBone']=_0x922805;}else _0x67a18f instanceof lt?this['_rootBone']=_0x67a18f:this['_rootBone']=null;this['rebind']();}get['rootBone'](){return this['_rootBone'];}set['stateGraph'](_0x53733b){this['_stateGrap'+'h']=_0x53733b;}get['stateGraph'](){return this['_stateGrap'+'h'];}get['layers'](){return this['_layers'];}set['layerIndic'+'es'](_0x4c6215){this['_layerIndi'+'ces']=_0x4c6215;}get['layerIndic'+'es'](){return this['_layerIndi'+'ces'];}set['parameters'](_0x6fce74){this['_parameter'+'s']=_0x6fce74;}get['parameters'](){return this['_parameter'+'s'];}set['targets'](_0x5e7a19){this['_targets']=_0x5e7a19;}get['targets'](){return this['_targets'];}get['playable'](){for(let _0x28d141=0x12*0x9e+-0xb*0x1a3+-0x161*-0x5;_0x28d141<this['_layers']['length'];_0x28d141++)if(!this['_layers'][_0x28d141]['playable'])return!(0x22*0x49+0x131f+0x10*-0x1cd);return!(0x17dd+0x9*0x421+0x1e83*-0x2);}get['baseLayer'](){return this['_layers']['length']>-0x5*-0x605+-0x24a2*0x1+0x1*0x689?this['_layers'][0x2482+0x2*-0x24b+0x3*-0xaa4]:null;}['_onStateGr'+'aphAssetCh'+'angeEvent'](_0x8ec6c7){const _0x50a3ed=this['animationA'+'ssets'],_0xad929d=this['layers']['map'](_0x43e221=>_0x43e221['mask']);this['removeStat'+'eGraph'](),this['_stateGrap'+'h']=new Jc(_0x8ec6c7['_data']),this['loadStateG'+'raph'](this['_stateGrap'+'h']),this['animationA'+'ssets']=_0x50a3ed,this['loadAnimat'+'ionAssets'](),this['layers']['forEach']((_0x4b9148,_0x4e2133)=>{_0x4b9148['mask']=_0xad929d[_0x4e2133];}),this['rebind']();}['dirtifyTar'+'gets'](){const _0x2e5db2=Object['values'](this['_targets']);for(let _0x1e2703=0x26e2+0x14b2+0xee5*-0x4;_0x1e2703<_0x2e5db2['length'];_0x1e2703++)_0x2e5db2[_0x1e2703]['dirty']=!(0x1*-0x13fd+-0x659+0xd2b*0x2);}['_addLayer']({name:_0x11a25e,states:_0x31fd41,transitions:_0x158885,weight:_0x1d66b3,mask:_0x271042,blendType:_0x43a128}){let _0xab27e;this['rootBone']?_0xab27e=this['rootBone']:_0xab27e=this['entity'];const _0x38069d=this['_layers']['length'],_0x756723=new Fi(this,_0xab27e,_0x11a25e,_0x271042,_0x38069d),_0x4da281=new Gv(_0x756723),_0x4d62fe=new NL(_0x4da281,_0x31fd41,_0x158885,this['_activate'],this,this['findParame'+'ter'],this['consumeTri'+'gger']);return this['_layers']['push'](new kL(_0x11a25e,_0x4d62fe,this,_0x1d66b3,_0x43a128)),this['_layerIndi'+'ces'][_0x11a25e]=_0x38069d,this['_layers'][_0x38069d];}['addLayer'](_0x3dd780,_0x3ce871,_0x42011c,_0x176f2f){const _0x9fd9c5=this['findAnimat'+'ionLayer'](_0x3dd780);if(_0x9fd9c5)return _0x9fd9c5;const _0x36a643=[{'name':'START','speed':0x1}],_0x2c88c6=[];return this['_addLayer']({'name':_0x3dd780,'states':_0x36a643,'transitions':_0x2c88c6,'weight':_0x3ce871,'mask':_0x42011c,'blendType':_0x176f2f});}['_assignPar'+'ameters'](_0x517421){this['_parameter'+'s']={};const _0x381af4=Object['keys'](_0x517421['parameters']);for(let _0x40eb3a=-0x103*-0xb+0x19de+0x7*-0x549;_0x40eb3a<_0x381af4['length'];_0x40eb3a++){const _0x10b32d=_0x381af4[_0x40eb3a];this['_parameter'+'s'][_0x10b32d]={'type':_0x517421['parameters'][_0x10b32d]['type'],'value':_0x517421['parameters'][_0x10b32d]['value']};}}['loadStateG'+'raph'](_0x4ea270){this['_stateGrap'+'h']=_0x4ea270,this['_assignPar'+'ameters'](_0x4ea270),this['_layers']=[];let _0x1fe398=!(-0xb*0x47+0x1ad*0x1+0x161);for(let _0x5b04cd=0x1249+0x22f5*-0x1+0x10ac;_0x5b04cd<_0x4ea270['layers']['length'];_0x5b04cd++){const _0xe580d3=_0x4ea270['layers'][_0x5b04cd];this['_addLayer']({..._0xe580d3}),_0xe580d3['states']['some'](_0x22b3e9=>_0x22b3e9['blendTree'])&&(_0x1fe398=!(0x7*-0x144+-0x8a8+0x1184));}_0x1fe398||this['setupAnima'+'tionAssets']();}['setupAnima'+'tionAssets'](){for(let _0x2f4bb1=-0x21f6+-0x1a0*-0x16+0x1*-0x1ca;_0x2f4bb1<this['_layers']['length'];_0x2f4bb1++){const _0xe265dd=this['_layers'][_0x2f4bb1],_0x3de12f=_0xe265dd['name'];for(let _0x1674f9=0x1*0x1636+0x1*-0x17a1+-0x21*-0xb;_0x1674f9<_0xe265dd['states']['length'];_0x1674f9++){const _0x4c8864=_0xe265dd['states'][_0x1674f9];if(Ih['indexOf'](_0x4c8864)===-(-0x14ff+0x942*-0x4+0x3a08)){const _0x35585d=_0x3de12f+':'+_0x4c8864;this['_animation'+'Assets'][_0x35585d]||(this['_animation'+'Assets'][_0x35585d]={'asset':null});}}}this['loadAnimat'+'ionAssets']();}['loadAnimat'+'ionAssets'](){for(let _0x4bbb61=0x4d6*0x6+0x20d2+-0x3dd6;_0x4bbb61<this['_layers']['length'];_0x4bbb61++){const _0x51b00b=this['_layers'][_0x4bbb61];for(let _0x3ee4c2=0x76*0x2e+-0x70a+0x206*-0x7;_0x3ee4c2<_0x51b00b['states']['length'];_0x3ee4c2++){const _0x59ab87=_0x51b00b['states'][_0x3ee4c2];if(Ih['indexOf'](_0x59ab87)!==-(0xd34+0x1*0x1caf+-0x29e2))continue;const _0x399cbd=this['_animation'+'Assets'][_0x51b00b['name']+':'+_0x59ab87];if(!_0x399cbd||!_0x399cbd['asset']){this['findAnimat'+'ionLayer'](_0x51b00b['name'])['assignAnim'+'ation'](_0x59ab87,Qi['EMPTY']);continue;}const _0x75dd1c=_0x399cbd['asset'],_0x3cd07b=this['system']['app']['assets']['get'](_0x75dd1c);_0x3cd07b&&(_0x3cd07b['resource']?this['onAnimatio'+'nAssetLoad'+'ed'](_0x51b00b['name'],_0x59ab87,_0x3cd07b):(_0x3cd07b['once']('load',function(_0x17a437,_0x9ecb91){return function(_0x1d76b5){this['onAnimatio'+'nAssetLoad'+'ed'](_0x17a437,_0x9ecb91,_0x1d76b5);}['bind'](this);}['bind'](this)(_0x51b00b['name'],_0x59ab87)),this['system']['app']['assets']['load'](_0x3cd07b)));}}}['onAnimatio'+'nAssetLoad'+'ed'](_0x4b27e5,_0xeec5f4,_0x357243){this['findAnimat'+'ionLayer'](_0x4b27e5)['assignAnim'+'ation'](_0xeec5f4,_0x357243['resource']);}['removeStat'+'eGraph'](){this['_stateGrap'+'h']=null,this['_stateGrap'+'hAsset']=null,this['_animation'+'Assets']={},this['_layers']=[],this['_layerIndi'+'ces']={},this['_parameter'+'s']={},this['_playing']=!(-0x4c7*0x1+0xfa9+-0xae1),this['unbind'](),this['_targets']={};}['reset'](){this['_assignPar'+'ameters'](this['_stateGrap'+'h']);for(let _0x3f0a5c=0x11d7+0x242f+-0xace*0x5;_0x3f0a5c<this['_layers']['length'];_0x3f0a5c++){const _0x233ae8=this['_layers'][_0x3f0a5c]['playing'];this['_layers'][_0x3f0a5c]['reset'](),this['_layers'][_0x3f0a5c]['playing']=_0x233ae8;}}['unbind'](){this['_normalize'+'Weights']||Object['keys'](this['_targets'])['forEach'](_0x267f1f=>{this['_targets'][_0x267f1f]['unbind']();});}['rebind'](){this['_targets']={};for(let _0x2b11f6=-0x2327*-0x1+-0x1c6f+-0x6b8;_0x2b11f6<this['_layers']['length'];_0x2b11f6++)this['_layers'][_0x2b11f6]['rebind']();}['findAnimat'+'ionLayer'](_0x15fee1){const _0x19bdd3=this['_layerIndi'+'ces'][_0x15fee1];return this['_layers'][_0x19bdd3]||null;}['addAnimati'+'onState'](_0x4f9a29,_0xedd3ba,_0x1cbda3=-0x3*0xb1e+-0x216e+0x1*0x42c9,_0x1743fe=!(0x3cb*-0x4+-0x98d+0x18b9),_0x2a35a5='Base'){var _0xd7bfa8;this['_stateGrap'+'h']||this['loadStateG'+'raph'](new Jc({'layers':[{'name':_0x2a35a5,'states':[{'name':'START','speed':0x1},{'name':_0x4f9a29,'speed':_0x1cbda3,'loop':_0x1743fe,'defaultState':!(0xf63+-0x5c*0x47+0xa21)}],'transitions':[{'from':'START','to':_0x4f9a29}]}],'parameters':{}}));const _0xf3be33=this['findAnimat'+'ionLayer'](_0x2a35a5);_0xf3be33?_0xf3be33['assignAnim'+'ation'](_0x4f9a29,_0xedd3ba,_0x1cbda3,_0x1743fe):(_0xd7bfa8=this['addLayer'](_0x2a35a5))==null||_0xd7bfa8['assignAnim'+'ation'](_0x4f9a29,_0xedd3ba,_0x1cbda3,_0x1743fe);}['assignAnim'+'ation'](_0x157c1f,_0x280842,_0x266f57,_0x539c7e=-0x17c4+-0x182*-0x1+0x1643,_0x4c0b80=!(0x19da+0xd8d*-0x1+-0xc4d)){if(!this['_stateGrap'+'h']&&_0x157c1f['indexOf']('.')===-(0x1f68+-0x1dc2+-0x1a5)){this['loadStateG'+'raph'](new Jc({'layers':[{'name':'Base','states':[{'name':'START','speed':0x1},{'name':_0x157c1f,'speed':_0x539c7e,'loop':_0x4c0b80,'defaultState':!(-0x5*0x145+-0x497+0x8*0x15e)}],'transitions':[{'from':'START','to':_0x157c1f}]}],'parameters':{}})),this['baseLayer']['assignAnim'+'ation'](_0x157c1f,_0x280842);return;}const _0x313b29=_0x266f57?this['findAnimat'+'ionLayer'](_0x266f57):this['baseLayer'];if(!_0x313b29){w['error']('assignAnim'+'ation:\x20Try'+'ing\x20to\x20ass'+'ign\x20an\x20ani'+'m\x20track\x20to'+'\x20a\x20layer\x20t'+'hat\x20doesn\x27'+'t\x20exist');return;}_0x313b29['assignAnim'+'ation'](_0x157c1f,_0x280842,_0x539c7e,_0x4c0b80);}['removeNode'+'Animations'](_0x1447c0,_0x4fd164){const _0x380d9e=_0x4fd164?this['findAnimat'+'ionLayer'](_0x4fd164):this['baseLayer'];if(!_0x380d9e){w['error']('removeStat'+'eAnimation'+'s:\x20Trying\x20'+'to\x20remove\x20'+'animation\x20'+'tracks\x20fro'+'m\x20a\x20state\x20'+'before\x20the'+'\x20state\x20gra'+'ph\x20has\x20bee'+'n\x20loaded.\x20'+'Have\x20you\x20c'+'alled\x20load'+'StateGraph'+'?');return;}_0x380d9e['removeNode'+'Animations'](_0x1447c0);}['getParamet'+'erValue'](_0x3856f3,_0x54f16a){const _0x357315=this['_parameter'+'s'][_0x3856f3];if(_0x357315&&_0x357315['type']===_0x54f16a)return _0x357315['value'];w['log']('Cannot\x20get'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x3856f3+('\x22\x20of\x20type\x20'+'\x22')+_0x54f16a+'\x22');}['setParamet'+'erValue'](_0x4a69de,_0x125883,_0x20cdbc){const _0xfe5859=this['_parameter'+'s'][_0x4a69de];if(_0xfe5859&&_0xfe5859['type']===_0x125883){_0xfe5859['value']=_0x20cdbc;return;}w['log']('Cannot\x20set'+'\x20parameter'+'\x20value.\x20No'+'\x20parameter'+'\x20found\x20in\x20'+'anim\x20contr'+'oller\x20name'+'d\x20\x22'+_0x4a69de+('\x22\x20of\x20type\x20'+'\x22')+_0x125883+'\x22');}['getFloat'](_0x512272){return this['getParamet'+'erValue'](_0x512272,Rg);}['setFloat'](_0x41f080,_0x4c0689){this['setParamet'+'erValue'](_0x41f080,Rg,_0x4c0689);}['getInteger'](_0x9c813a){return this['getParamet'+'erValue'](_0x9c813a,Lg);}['setInteger'](_0x52a3df,_0x259a08){typeof _0x259a08=='number'&&_0x259a08%(-0xaa4+0xef*0x23+-0x1608)===0xb29*-0x1+0x1*-0xcc7+0x1*0x17f0?this['setParamet'+'erValue'](_0x52a3df,Lg,_0x259a08):w['error']('Attempting'+'\x20to\x20assign'+'\x20non\x20integ'+'er\x20value\x20t'+'o\x20integer\x20'+'parameter',_0x52a3df,_0x259a08);}['getBoolean'](_0x2ad150){return this['getParamet'+'erValue'](_0x2ad150,Og);}['setBoolean'](_0x574238,_0xe50b46){this['setParamet'+'erValue'](_0x574238,Og,!!_0xe50b46);}['getTrigger'](_0x53eb08){return this['getParamet'+'erValue'](_0x53eb08,Qc);}['setTrigger'](_0x3b8fcb,_0x50cff1=!(-0xac0+-0x15ef+0x20b0)){this['setParamet'+'erValue'](_0x3b8fcb,Qc,!(-0xc45+-0x18b3+0x5b*0x68)),_0x50cff1&&this['_consumedT'+'riggers']['add'](_0x3b8fcb);}['resetTrigg'+'er'](_0x34e124){this['setParamet'+'erValue'](_0x34e124,Qc,!(-0x1*0x90d+-0x61a+0x308*0x5));}['onBeforeRe'+'move'](){Number['isFinite'](this['_stateGrap'+'hAsset'])&&this['system']['app']['assets']['get'](this['_stateGrap'+'hAsset'])['off']('change',this['_onStateGr'+'aphAssetCh'+'angeEvent'],this);}['update'](_0x2e45a5){for(let _0x1b786f=0x1095+-0x873+-0x822;_0x1b786f<this['layers']['length'];_0x1b786f++)this['layers'][_0x1b786f]['update'](_0x2e45a5*this['speed']);this['_consumedT'+'riggers']['forEach'](_0x33d731=>{this['parameters'][_0x33d731]['value']=!(0x2b*0xd3+-0x1*-0x16d9+-0x1*0x3a49);}),this['_consumedT'+'riggers']['clear']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3ad3f4,_0x4c7765){_0x3ad3f4['rootBone']&&_0x4c7765[_0x3ad3f4['rootBone']['getGuid']()]?this['rootBone']=_0x4c7765[_0x3ad3f4['rootBone']['getGuid']()]:this['rebind']();}}class UL{constructor(){this['enabled']=!(-0xb*-0x149+0x1*-0x207d+0x125a);}}const bu=['enabled'];class BL extends ct{constructor(_0x4810e1){super(_0x4810e1),this['id']='anim',this['ComponentT'+'ype']=$v,this['DataType']=UL,this['schema']=bu,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x2774d6,_0x442943,_0x4505dd){super['initialize'+'ComponentD'+'ata'](_0x2774d6,_0x442943,bu);const _0x2eee4c=['animationA'+'ssets','stateGraph','layers','masks'];Object['keys'](_0x442943)['forEach'](_0x1c53ab=>{_0x2eee4c['includes'](_0x1c53ab)||(_0x2774d6[_0x1c53ab]=_0x442943[_0x1c53ab]);}),_0x442943['stateGraph']&&(_0x2774d6['stateGraph']=_0x442943['stateGraph'],_0x2774d6['loadStateG'+'raph'](_0x2774d6['stateGraph'])),_0x442943['layers']&&_0x442943['layers']['forEach']((_0x47bc90,_0x47d077)=>{_0x47bc90['_controlle'+'r']['states']['forEach'](_0xb77841=>{_0x47bc90['_controlle'+'r']['_states'][_0xb77841]['_animation'+'List']['forEach'](_0x389669=>{if(!_0x389669['animTrack']||_0x389669['animTrack']===Qi['EMPTY']){const _0x2310f3=this['app']['assets']['get'](_0x47bc90['_component']['_animation'+'Assets'][_0x47bc90['name']+':'+_0x389669['name']]['asset']);_0x2310f3&&!_0x2310f3['loaded']&&_0x2310f3['once']('load',()=>{_0x2774d6['layers'][_0x47d077]['assignAnim'+'ation'](_0x389669['name'],_0x2310f3['resource']);});}else _0x2774d6['layers'][_0x47d077]['assignAnim'+'ation'](_0x389669['name'],_0x389669['animTrack']);});});}),_0x442943['animationA'+'ssets']&&(_0x2774d6['animationA'+'ssets']=Object['assign'](_0x2774d6['animationA'+'ssets'],_0x442943['animationA'+'ssets'])),_0x442943['masks']&&Object['keys'](_0x442943['masks'])['forEach'](_0x31d280=>{if(_0x2774d6['layers'][_0x31d280]){const _0x34d06c=_0x442943['masks'][_0x31d280]['mask'],_0x4aacce={};Object['keys'](_0x34d06c)['forEach'](_0x3d043e=>{_0x4aacce[decodeURI(_0x3d043e)]=_0x34d06c[_0x3d043e];}),_0x2774d6['layers'][_0x31d280]['mask']=_0x4aacce;}});}['onAnimatio'+'nUpdate'](_0x2e05ec){const _0x1a4995=this['store'];for(const _0x20b002 in _0x1a4995)if(_0x1a4995['hasOwnProp'+'erty'](_0x20b002)){const _0x5cdf97=_0x1a4995[_0x20b002]['entity']['anim'];_0x5cdf97['data']['enabled']&&_0x5cdf97['entity']['enabled']&&_0x5cdf97['playing']&&_0x5cdf97['update'](_0x2e05ec);}}['cloneCompo'+'nent'](_0x4c8d02,_0xbbfc79){let _0x1deb48;(!_0x4c8d02['anim']['rootBone']||_0x4c8d02['anim']['rootBone']===_0x4c8d02)&&(_0x1deb48={},_0x4c8d02['anim']['layers']['forEach']((_0x243ef5,_0x4b1901)=>{if(_0x243ef5['mask']){const _0x3a7cb1={};Object['keys'](_0x243ef5['mask'])['forEach'](_0x1eec49=>{const _0x15497b=_0x1eec49['split']('/');_0x15497b['shift']();const _0x4e405f=[_0xbbfc79['name'],..._0x15497b]['join']('/');_0x3a7cb1[_0x4e405f]=_0x243ef5['mask'][_0x1eec49];}),_0x1deb48[_0x4b1901]={'mask':_0x3a7cb1};}}));const _0x1eb4ac={'enabled':_0x4c8d02['anim']['enabled'],'stateGraphAsset':_0x4c8d02['anim']['stateGraph'+'Asset'],'animationAssets':_0x4c8d02['anim']['animationA'+'ssets'],'speed':_0x4c8d02['anim']['speed'],'activate':_0x4c8d02['anim']['activate'],'playing':_0x4c8d02['anim']['playing'],'rootBone':_0x4c8d02['anim']['rootBone'],'stateGraph':_0x4c8d02['anim']['stateGraph'],'layers':_0x4c8d02['anim']['layers'],'layerIndices':_0x4c8d02['anim']['layerIndic'+'es'],'parameters':_0x4c8d02['anim']['parameters'],'normalizeWeights':_0x4c8d02['anim']['normalizeW'+'eights'],'masks':_0x1deb48};return this['addCompone'+'nt'](_0xbbfc79,_0x1eb4ac);}['onBeforeRe'+'move'](_0x172550,_0x5c8c66){_0x5c8c66['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('animationU'+'pdate',this['onAnimatio'+'nUpdate'],this);}}we['_buildAcce'+'ssors']($v['prototype'],bu);class Xv extends we{['setCurrent'+'Listener'](){if(this['enabled']&&this['entity']['audioliste'+'ner']&&this['entity']['enabled']){this['system']['current']=this['entity'];const _0x26225a=this['system']['current']['getPositio'+'n']();this['system']['manager']['listener']['setPositio'+'n'](_0x26225a);}}['onEnable'](){this['setCurrent'+'Listener']();}['onDisable'](){this['system']['current']===this['entity']&&(this['system']['current']=null);}}class zL{constructor(){this['enabled']=!(0xd*0x77+-0x230e+-0x425*-0x7);}}const qv=['enabled'];class VL extends ct{constructor(_0x1714c4){super(_0x1714c4),this['id']='audioliste'+'ner',this['ComponentT'+'ype']=Xv,this['DataType']=zL,this['schema']=qv,this['manager']=_0x1714c4['soundManag'+'er'],w['assert'](this['manager'],'AudioListe'+'nerCompone'+'ntSystem\x20c'+'annot\x20be\x20c'+'reated\x20wit'+'hout\x20sound'+'\x20manager'),this['current']=null,this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x358726,_0x1c678e,_0x272f8a){_0x272f8a=['enabled'],super['initialize'+'ComponentD'+'ata'](_0x358726,_0x1c678e,_0x272f8a);}['onUpdate'](_0x2a25ca){if(this['current']){const _0xb2bb99=this['current']['getPositio'+'n']();this['manager']['listener']['setPositio'+'n'](_0xb2bb99);const _0x5b921a=this['current']['getWorldTr'+'ansform']();this['manager']['listener']['setOrienta'+'tion'](_0x5b921a);}}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Xv['prototype'],qv);const Au=0xafc+0x17*0xdb+0x1*-0x1ea9,Ng=0x1a44+0x82f+0x1*-0x2272,eh='group',Cu='image',jv='text',th='stretch',GL='contain',HL='cover',ft={'DEFAULT':'DEFAULT','HOVER':'HOVER','PRESSED':'PRESSED','INACTIVE':'INACTIVE'},kl={};kl[ft['DEFAULT']]='_defaultTi'+'nt',kl[ft['HOVER']]='hoverTint',kl[ft['PRESSED']]='pressedTin'+'t',kl[ft['INACTIVE']]='inactiveTi'+'nt';const Ul={};Ul[ft['DEFAULT']]='_defaultSp'+'riteAsset',Ul[ft['HOVER']]='hoverSprit'+'eAsset',Ul[ft['PRESSED']]='pressedSpr'+'iteAsset',Ul[ft['INACTIVE']]='inactiveSp'+'riteAsset';const Bl={};Bl[ft['DEFAULT']]='_defaultSp'+'riteFrame',Bl[ft['HOVER']]='hoverSprit'+'eFrame',Bl[ft['PRESSED']]='pressedSpr'+'iteFrame',Bl[ft['INACTIVE']]='inactiveSp'+'riteFrame';class It extends we{constructor(_0x3ceb2d,_0x3e79e4){super(_0x3ceb2d,_0x3e79e4),h(this,'_visualSta'+'te',ft['DEFAULT']),h(this,'_isHoverin'+'g',!(-0x1586+-0x10a9*0x1+0x2*0x1318)),h(this,'_hoveringC'+'ounter',-0x4cd*-0x1+0x26f+-0x39e*0x2),h(this,'_isPressed',!(-0x1d35*0x1+0x6d*-0x59+0x431b)),h(this,'_defaultTi'+'nt',new ie(-0x61*0x15+0xd69+0x1f*-0x2d,-0xa*-0x216+-0x17*-0x5d+0xe9b*-0x2,0x18eb+0x2461+-0x3d4b,0xeb*-0x6+-0x1*0x2027+-0x25aa*-0x1)),h(this,'_defaultSp'+'riteAsset',null),h(this,'_defaultSp'+'riteFrame',-0x1ba7+0x176*-0x11+-0x117f*-0x3),h(this,'_imageEnti'+'ty',null),h(this,'_evtElemen'+'tAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntAdd',null),h(this,'_evtImageE'+'ntityEleme'+'ntRemove',null),h(this,'_evtImageE'+'ntityEleme'+'ntColor',null),h(this,'_evtImageE'+'ntityEleme'+'ntOpacity',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set',null),h(this,'_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame',null),(this['_visualSta'+'te']=ft['DEFAULT'],this['_isHoverin'+'g']=!(0x1dd+0x1f*0x112+-0x230a),this['_hoveringC'+'ounter']=0xc8*-0x4+-0x1beb+0x1f0b,this['_isPressed']=!(0x65d+0x1*-0x875+0x3*0xb3),this['_defaultTi'+'nt']=new ie(-0x179b+-0x1c67*0x1+0x5*0xa67,-0x1871*-0x1+0x1885+-0x53*0x97,0x1193+-0x9e9*0x1+0x1*-0x7a9,-0x11*-0x185+-0xe29*-0x2+0x1de*-0x1d),this['_defaultSp'+'riteAsset']=null,this['_defaultSp'+'riteFrame']=0x123d+0x3*0x20f+0x4e2*-0x5,this['_toggleLif'+'ecycleList'+'eners']('on',_0x3ceb2d));}get['data'](){const _0x392066=this['system']['store'][this['entity']['getGuid']()];return _0x392066?_0x392066['data']:null;}set['enabled'](_0x4e70cc){this['_setValue']('enabled',_0x4e70cc);}get['enabled'](){return this['data']['enabled'];}set['active'](_0x170e11){this['_setValue']('active',_0x170e11);}get['active'](){return this['data']['active'];}set['imageEntit'+'y'](_0x2f28c6){if(this['_imageEnti'+'ty']!==_0x2f28c6){const _0x15653d=typeof _0x2f28c6=='string';if(this['_imageEnti'+'ty']&&_0x15653d&&this['_imageEnti'+'ty']['getGuid']()===_0x2f28c6)return;this['_imageEnti'+'ty']&&this['_imageEnti'+'tyUnsubscr'+'ibe'](),_0x2f28c6 instanceof Ie?this['_imageEnti'+'ty']=_0x2f28c6:_0x15653d?this['_imageEnti'+'ty']=this['system']['app']['getEntityF'+'romIndex'](_0x2f28c6)||null:this['_imageEnti'+'ty']=null,this['_imageEnti'+'ty']&&this['_imageEnti'+'tySubscrib'+'e'](),this['_imageEnti'+'ty']?this['data']['imageEntit'+'y']=this['_imageEnti'+'ty']['getGuid']():_0x15653d&&_0x2f28c6&&(this['data']['imageEntit'+'y']=_0x2f28c6);}}get['imageEntit'+'y'](){return this['_imageEnti'+'ty'];}set['hitPadding'](_0x14d4df){this['_setValue']('hitPadding',_0x14d4df);}get['hitPadding'](){return this['data']['hitPadding'];}set['transition'+'Mode'](_0x55518c){this['_setValue']('transition'+'Mode',_0x55518c);}get['transition'+'Mode'](){return this['data']['transition'+'Mode'];}set['hoverTint'](_0x33258b){this['_setValue']('hoverTint',_0x33258b);}get['hoverTint'](){return this['data']['hoverTint'];}set['pressedTin'+'t'](_0x529777){this['_setValue']('pressedTin'+'t',_0x529777);}get['pressedTin'+'t'](){return this['data']['pressedTin'+'t'];}set['inactiveTi'+'nt'](_0xbbf7ee){this['_setValue']('inactiveTi'+'nt',_0xbbf7ee);}get['inactiveTi'+'nt'](){return this['data']['inactiveTi'+'nt'];}set['fadeDurati'+'on'](_0x41aa43){this['_setValue']('fadeDurati'+'on',_0x41aa43);}get['fadeDurati'+'on'](){return this['data']['fadeDurati'+'on'];}set['hoverSprit'+'eAsset'](_0x21699f){this['_setValue']('hoverSprit'+'eAsset',_0x21699f);}get['hoverSprit'+'eAsset'](){return this['data']['hoverSprit'+'eAsset'];}set['hoverSprit'+'eFrame'](_0x457925){this['_setValue']('hoverSprit'+'eFrame',_0x457925);}get['hoverSprit'+'eFrame'](){return this['data']['hoverSprit'+'eFrame'];}set['pressedSpr'+'iteAsset'](_0x53a034){this['_setValue']('pressedSpr'+'iteAsset',_0x53a034);}get['pressedSpr'+'iteAsset'](){return this['data']['pressedSpr'+'iteAsset'];}set['pressedSpr'+'iteFrame'](_0x447018){this['_setValue']('pressedSpr'+'iteFrame',_0x447018);}get['pressedSpr'+'iteFrame'](){return this['data']['pressedSpr'+'iteFrame'];}set['inactiveSp'+'riteAsset'](_0xd9e838){this['_setValue']('inactiveSp'+'riteAsset',_0xd9e838);}get['inactiveSp'+'riteAsset'](){return this['data']['inactiveSp'+'riteAsset'];}set['inactiveSp'+'riteFrame'](_0xac9723){this['_setValue']('inactiveSp'+'riteFrame',_0xac9723);}get['inactiveSp'+'riteFrame'](){return this['data']['inactiveSp'+'riteFrame'];}['_setValue'](_0x5706ae,_0x3f518f){const _0x2e91e2=this['data'],_0x5f0107=_0x2e91e2[_0x5706ae];_0x2e91e2[_0x5706ae]=_0x3f518f,this['fire']('set',_0x5706ae,_0x5f0107,_0x3f518f);}['_toggleLif'+'ecycleList'+'eners'](_0x14f6ef,_0x1c4be0){var _0x5e02ab;this[_0x14f6ef]('set_active',this['_onSetActi'+'ve'],this),this[_0x14f6ef]('set_transi'+'tionMode',this['_onSetTran'+'sitionMode'],this),this[_0x14f6ef]('set_hoverT'+'int',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x14f6ef]('set_presse'+'dTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x14f6ef]('set_inacti'+'veTint',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x14f6ef]('set_hoverS'+'priteAsset',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x14f6ef]('set_hoverS'+'priteFrame',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x14f6ef]('set_presse'+'dSpriteAss'+'et',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x14f6ef]('set_presse'+'dSpriteFra'+'me',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x14f6ef]('set_inacti'+'veSpriteAs'+'set',this['_onSetTran'+'sitionValu'+'e'],this),this[_0x14f6ef]('set_inacti'+'veSpriteFr'+'ame',this['_onSetTran'+'sitionValu'+'e'],this),_0x14f6ef==='on'?this['_evtElemen'+'tAdd']=this['entity']['on']('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this):((_0x5e02ab=this['_evtElemen'+'tAdd'])==null||_0x5e02ab['off'](),this['_evtElemen'+'tAdd']=null);}['_onSetActi'+'ve'](_0x380b68,_0x80b111,_0x19535b){_0x80b111!==_0x19535b&&this['_updateVis'+'ualState']();}['_onSetTran'+'sitionMode'](_0x3eb33a,_0x475aa1,_0x2edc4e){_0x475aa1!==_0x2edc4e&&(this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](_0x475aa1),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetTran'+'sitionValu'+'e'](_0x252431,_0x33f27c,_0x139fa0){_0x33f27c!==_0x139fa0&&this['_forceReap'+'plyVisualS'+'tate']();}['_imageEnti'+'tySubscrib'+'e'](){this['_evtImageE'+'ntityEleme'+'ntAdd']=this['_imageEnti'+'ty']['on']('element:ad'+'d',this['_onImageEl'+'ementGain'],this),this['_imageEnti'+'ty']['element']&&this['_onImageEl'+'ementGain']();}['_imageEnti'+'tyUnsubscr'+'ibe'](){var _0x4ad16a,_0x1a3a86;(_0x4ad16a=this['_evtImageE'+'ntityEleme'+'ntAdd'])==null||_0x4ad16a['off'](),this['_evtImageE'+'ntityEleme'+'ntAdd']=null,(_0x1a3a86=this['_imageEnti'+'ty'])!=null&&_0x1a3a86['element']&&this['_onImageEl'+'ementLose']();}['_imageEnti'+'tyElementS'+'ubscribe'](){const _0x2d27ed=this['_imageEnti'+'ty']['element'];this['_evtImageE'+'ntityEleme'+'ntRemove']=_0x2d27ed['once']('beforeremo'+'ve',this['_onImageEl'+'ementLose'],this),this['_evtImageE'+'ntityEleme'+'ntColor']=_0x2d27ed['on']('set:color',this['_onSetColo'+'r'],this),this['_evtImageE'+'ntityEleme'+'ntOpacity']=_0x2d27ed['on']('set:opacit'+'y',this['_onSetOpac'+'ity'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=_0x2d27ed['on']('set:sprite'+'Asset',this['_onSetSpri'+'teAsset'],this),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=_0x2d27ed['on']('set:sprite'+'Frame',this['_onSetSpri'+'teFrame'],this);}['_imageEnti'+'tyElementU'+'nsubscribe'](){var _0x35c120,_0x20a865,_0x38ef3d,_0x199a9f,_0x5a9fa0;(_0x35c120=this['_evtImageE'+'ntityEleme'+'ntRemove'])==null||_0x35c120['off'](),this['_evtImageE'+'ntityEleme'+'ntRemove']=null,(_0x20a865=this['_evtImageE'+'ntityEleme'+'ntColor'])==null||_0x20a865['off'](),this['_evtImageE'+'ntityEleme'+'ntColor']=null,(_0x38ef3d=this['_evtImageE'+'ntityEleme'+'ntOpacity'])==null||_0x38ef3d['off'](),this['_evtImageE'+'ntityEleme'+'ntOpacity']=null,(_0x199a9f=this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set'])==null||_0x199a9f['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteAs'+'set']=null,(_0x5a9fa0=this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame'])==null||_0x5a9fa0['off'](),this['_evtImageE'+'ntityEleme'+'ntSpriteFr'+'ame']=null;}['_onElement'+'ComponentR'+'emove'](){this['_toggleHit'+'ElementLis'+'teners']('off');}['_onElement'+'ComponentA'+'dd'](){this['_toggleHit'+'ElementLis'+'teners']('on');}['_onImageEl'+'ementLose'](){this['_imageEnti'+'tyElementU'+'nsubscribe'](),this['_cancelTwe'+'en'](),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['_onImageEl'+'ementGain'](){this['_imageEnti'+'tyElementS'+'ubscribe'](),this['_storeDefa'+'ultVisualS'+'tate'](),this['_forceReap'+'plyVisualS'+'tate']();}['_toggleHit'+'ElementLis'+'teners'](_0x352bc4){if(this['entity']['element']){const _0x50daa4=_0x352bc4==='on';if(_0x50daa4&&this['_hasHitEle'+'mentListen'+'ers'])return;this['entity']['element'][_0x352bc4]('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['entity']['element'][_0x352bc4]('mouseenter',this['_onMouseEn'+'ter'],this),this['entity']['element'][_0x352bc4]('mouseleave',this['_onMouseLe'+'ave'],this),this['entity']['element'][_0x352bc4]('mousedown',this['_onMouseDo'+'wn'],this),this['entity']['element'][_0x352bc4]('mouseup',this['_onMouseUp'],this),this['entity']['element'][_0x352bc4]('touchstart',this['_onTouchSt'+'art'],this),this['entity']['element'][_0x352bc4]('touchend',this['_onTouchEn'+'d'],this),this['entity']['element'][_0x352bc4]('touchleave',this['_onTouchLe'+'ave'],this),this['entity']['element'][_0x352bc4]('touchcance'+'l',this['_onTouchCa'+'ncel'],this),this['entity']['element'][_0x352bc4]('selectstar'+'t',this['_onSelectS'+'tart'],this),this['entity']['element'][_0x352bc4]('selectend',this['_onSelectE'+'nd'],this),this['entity']['element'][_0x352bc4]('selectente'+'r',this['_onSelectE'+'nter'],this),this['entity']['element'][_0x352bc4]('selectleav'+'e',this['_onSelectL'+'eave'],this),this['entity']['element'][_0x352bc4]('click',this['_onClick'],this),this['_hasHitEle'+'mentListen'+'ers']=_0x50daa4;}}['_storeDefa'+'ultVisualS'+'tate'](){var _0x17ce86;const _0x2c48c0=(_0x17ce86=this['_imageEnti'+'ty'])==null?void(-0x1*0xfad+0x495+0xb18):_0x17ce86['element'];!_0x2c48c0||_0x2c48c0['type']===eh||(this['_storeDefa'+'ultColor'](_0x2c48c0['color']),this['_storeDefa'+'ultOpacity'](_0x2c48c0['opacity']),this['_storeDefa'+'ultSpriteA'+'sset'](_0x2c48c0['spriteAsse'+'t']),this['_storeDefa'+'ultSpriteF'+'rame'](_0x2c48c0['spriteFram'+'e']));}['_storeDefa'+'ultColor'](_0x2606ff){this['_defaultTi'+'nt']['r']=_0x2606ff['r'],this['_defaultTi'+'nt']['g']=_0x2606ff['g'],this['_defaultTi'+'nt']['b']=_0x2606ff['b'];}['_storeDefa'+'ultOpacity'](_0x5a2583){this['_defaultTi'+'nt']['a']=_0x5a2583;}['_storeDefa'+'ultSpriteA'+'sset'](_0x1da419){this['_defaultSp'+'riteAsset']=_0x1da419;}['_storeDefa'+'ultSpriteF'+'rame'](_0xfe3917){this['_defaultSp'+'riteFrame']=_0xfe3917;}['_onSetColo'+'r'](_0x40dbc0){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultColor'](_0x40dbc0),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetOpac'+'ity'](_0x4b741d){this['_isApplyin'+'gTint']||(this['_storeDefa'+'ultOpacity'](_0x4b741d),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teAsset'](_0x429566){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteA'+'sset'](_0x429566),this['_forceReap'+'plyVisualS'+'tate']());}['_onSetSpri'+'teFrame'](_0x3204e7){this['_isApplyin'+'gSprite']||(this['_storeDefa'+'ultSpriteF'+'rame'](_0x3204e7),this['_forceReap'+'plyVisualS'+'tate']());}['_onMouseEn'+'ter'](_0x16217a){this['_isHoverin'+'g']=!(0x2b*0x32+-0x71*-0x11+-0xb1*0x17),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseenter',_0x16217a);}['_onMouseLe'+'ave'](_0x44812a){this['_isHoverin'+'g']=!(0x26c7+-0x197b+-0xd4b),this['_isPressed']=!(-0x1763+-0x13b5+0x2b19),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseleave',_0x44812a);}['_onMouseDo'+'wn'](_0x2134fd){this['_isPressed']=!(-0xb5*-0x31+0x2c*-0x34+-0x19b5),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mousedown',_0x2134fd);}['_onMouseUp'](_0x41990b){this['_isPressed']=!(0x5ad+0x8*0x1c2+-0x2*0x9de),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('mouseup',_0x41990b);}['_onTouchSt'+'art'](_0x77884e){this['_isPressed']=!(0x22a8+-0x128d+-0x13*0xd9),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchstart',_0x77884e);}['_onTouchEn'+'d'](_0x3e64f8){_0x3e64f8['event']['preventDef'+'ault'](),this['_isPressed']=!(0x136c+-0x2203*-0x1+-0x1ab7*0x2),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchend',_0x3e64f8);}['_onTouchLe'+'ave'](_0x596e06){this['_isPressed']=!(0x14f*0x2+-0x1*-0xb5a+-0x5*0x2cb),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchleave',_0x596e06);}['_onTouchCa'+'ncel'](_0x2a4430){this['_isPressed']=!(0x2*0xc0d+0x1*0x1d14+-0x352d),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('touchcance'+'l',_0x2a4430);}['_onSelectS'+'tart'](_0xc69ac){this['_isPressed']=!(0x259c+0x19b9+-0x3f55),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectstar'+'t',_0xc69ac);}['_onSelectE'+'nd'](_0x1a1d32){this['_isPressed']=!(-0x267+-0x4*0x13e+0x76*0x10),this['_updateVis'+'ualState'](),this['_fireIfAct'+'ive']('selectend',_0x1a1d32);}['_onSelectE'+'nter'](_0x4b2698){this['_hoveringC'+'ounter']++,this['_hoveringC'+'ounter']===-0xea*-0x1+-0x3d3*0x1+0x2ea&&(this['_isHoverin'+'g']=!(-0x1d66*-0x1+0x1*0x12df+-0x3045),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectente'+'r',_0x4b2698);}['_onSelectL'+'eave'](_0x5cf5f6){this['_hoveringC'+'ounter']--,this['_hoveringC'+'ounter']===0x5a9+-0xe2a+0x881&&(this['_isHoverin'+'g']=!(-0x20d9+0x1d17+0x3c3),this['_isPressed']=!(-0x3b*-0x6+-0x821+0x6c0),this['_updateVis'+'ualState']()),this['_fireIfAct'+'ive']('selectleav'+'e',_0x5cf5f6);}['_onClick'](_0x30566a){this['_fireIfAct'+'ive']('click',_0x30566a);}['_fireIfAct'+'ive'](_0x2742ae,_0x5c48f5){this['data']['active']&&this['fire'](_0x2742ae,_0x5c48f5);}['_updateVis'+'ualState'](_0x2e42ac){const _0x243b0b=this['_visualSta'+'te'],_0x1211bf=this['_determine'+'VisualStat'+'e']();if((_0x243b0b!==_0x1211bf||_0x2e42ac)&&this['enabled'])switch(this['_visualSta'+'te']=_0x1211bf,_0x243b0b===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverend'),_0x243b0b===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedend'),_0x1211bf===ft['HOVER']&&this['_fireIfAct'+'ive']('hoverstart'),_0x1211bf===ft['PRESSED']&&this['_fireIfAct'+'ive']('pressedsta'+'rt'),this['transition'+'Mode']){case Au:{const _0xe9c74b=kl[this['_visualSta'+'te']],_0x164ae2=this[_0xe9c74b];this['_applyTint'](_0x164ae2);break;}case Ng:{const _0x5098b4=Ul[this['_visualSta'+'te']],_0x5e88d4=Bl[this['_visualSta'+'te']],_0x34ba5d=this[_0x5098b4],_0x413abd=this[_0x5e88d4];this['_applySpri'+'te'](_0x34ba5d,_0x413abd);break;}}}['_forceReap'+'plyVisualS'+'tate'](){this['_updateVis'+'ualState'](!(0x511+0x575+0x543*-0x2));}['_resetToDe'+'faultVisua'+'lState'](_0x53c191){var _0x4093fa;if((_0x4093fa=this['_imageEnti'+'ty'])!=null&&_0x4093fa['element'])switch(_0x53c191){case Au:this['_cancelTwe'+'en'](),this['_applyTint'+'Immediatel'+'y'](this['_defaultTi'+'nt']);break;case Ng:this['_applySpri'+'te'](this['_defaultSp'+'riteAsset'],this['_defaultSp'+'riteFrame']);break;}}['_determine'+'VisualStat'+'e'](){if(this['active']){if(this['_isPressed'])return ft['PRESSED'];if(this['_isHoverin'+'g'])return ft['HOVER'];}else return ft['INACTIVE'];return ft['DEFAULT'];}['_applySpri'+'te'](_0xc701c1,_0x304857){var _0x56f59c;const _0xc1cf9=(_0x56f59c=this['_imageEnti'+'ty'])==null?void(-0x1*-0x229+0x2351+-0x257a):_0x56f59c['element'];_0xc1cf9&&(_0x304857=_0x304857||-0x9a+-0x1904+0x199e,this['_isApplyin'+'gSprite']=!(-0xfc8+-0x301+0x12c9),_0xc1cf9['spriteAsse'+'t']!==_0xc701c1&&(_0xc1cf9['spriteAsse'+'t']=_0xc701c1),_0xc1cf9['spriteFram'+'e']!==_0x304857&&(_0xc1cf9['spriteFram'+'e']=_0x304857),this['_isApplyin'+'gSprite']=!(0x151d+-0xb6f+-0x9ad));}['_applyTint'](_0x10b3ea){this['_cancelTwe'+'en'](),this['fadeDurati'+'on']===-0x24f+-0x60*-0x53+-0x1cd1?this['_applyTint'+'Immediatel'+'y'](_0x10b3ea):this['_applyTint'+'WithTween'](_0x10b3ea);}['_applyTint'+'Immediatel'+'y'](_0x582201){var _0x4badd8;const _0x6a763a=(_0x4badd8=this['_imageEnti'+'ty'])==null?void(-0x6ea+0x1b18+-0x142e):_0x4badd8['element'];if(!_0x582201||!_0x6a763a||_0x6a763a['type']===eh)return;const _0x2129ce=kg(_0x582201);this['_isApplyin'+'gTint']=!(0x1652+-0x7*-0x338+-0x2cda),_0x2129ce['equals'](_0x6a763a['color'])||(_0x6a763a['color']=_0x2129ce),_0x6a763a['opacity']!==_0x582201['a']&&(_0x6a763a['opacity']=_0x582201['a']),this['_isApplyin'+'gTint']=!(-0x1931*-0x1+0x242*-0xc+0x1e8);}['_applyTint'+'WithTween'](_0x2a34c3){var _0x1ed84f;const _0x54cccf=(_0x1ed84f=this['_imageEnti'+'ty'])==null?void(-0x163f+-0x1577+0x2bb6):_0x1ed84f['element'];if(!_0x2a34c3||!_0x54cccf||_0x54cccf['type']===eh)return;const _0x11a3aa=kg(_0x2a34c3),_0x1fc76e=_0x54cccf['color'],_0x30c72d=_0x54cccf['opacity'];_0x11a3aa['equals'](_0x1fc76e)&&_0x2a34c3['a']===_0x30c72d||(this['_tweenInfo']={'startTime':de(),'from':new ie(_0x1fc76e['r'],_0x1fc76e['g'],_0x1fc76e['b'],_0x30c72d),'to':_0x2a34c3['clone'](),'lerpColor':new ie()});}['_updateTin'+'tTween'](){const _0x5b1f8b=de()-this['_tweenInfo']['startTime'];let _0x32a453=this['fadeDurati'+'on']===-0xf6d+0x42*0x29+0x71*0xb?0x1*0x14ee+-0x1*0x1a40+-0x1d*-0x2f:_0x5b1f8b/this['fadeDurati'+'on'];if(_0x32a453=Y['clamp'](_0x32a453,0xb95+0x8c*-0x39+0x11*0x127,0x264a+0x1de3+-0x442c),Math['abs'](_0x32a453-(-0x617*-0x1+0x1852+-0x7*0x458))>0xb6d+-0xd*0x21d+0x100c+0.00001){const _0x3bbeb3=this['_tweenInfo']['lerpColor'];_0x3bbeb3['lerp'](this['_tweenInfo']['from'],this['_tweenInfo']['to'],_0x32a453),this['_applyTint'+'Immediatel'+'y'](new ie(_0x3bbeb3['r'],_0x3bbeb3['g'],_0x3bbeb3['b'],_0x3bbeb3['a']));}else this['_applyTint'+'Immediatel'+'y'](this['_tweenInfo']['to']),this['_cancelTwe'+'en']();}['_cancelTwe'+'en'](){delete this['_tweenInfo'];}['onUpdate'](){this['_tweenInfo']&&this['_updateTin'+'tTween']();}['onEnable'](){this['_isHoverin'+'g']=!(0x22a8*0x1+0xb67+-0x2e0e),this['_hoveringC'+'ounter']=-0x133f+0x293+0x2c*0x61,this['_isPressed']=!(-0x2641+-0xd53*0x1+-0x5f*-0x8b),this['_toggleHit'+'ElementLis'+'teners']('on'),this['_forceReap'+'plyVisualS'+'tate']();}['onDisable'](){this['_toggleHit'+'ElementLis'+'teners']('off'),this['_resetToDe'+'faultVisua'+'lState'](this['transition'+'Mode']);}['onRemove'](){this['_imageEnti'+'tyUnsubscr'+'ibe'](),this['_toggleLif'+'ecycleList'+'eners']('off',this['system']),this['onDisable']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x1e839c,_0x5de385){_0x1e839c['imageEntit'+'y']&&(this['imageEntit'+'y']=_0x5de385[_0x1e839c['imageEntit'+'y']['getGuid']()]);}}h(It,'EVENT_MOUS'+'EDOWN','mousedown'),h(It,'EVENT_MOUS'+'EUP','mouseup'),h(It,'EVENT_MOUS'+'EENTER','mouseenter'),h(It,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(It,'EVENT_CLIC'+'K','click'),h(It,'EVENT_TOUC'+'HSTART','touchstart'),h(It,'EVENT_TOUC'+'HEND','touchend'),h(It,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),h(It,'EVENT_TOUC'+'HLEAVE','touchleave'),h(It,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(It,'EVENT_SELE'+'CTEND','selectend'),h(It,'EVENT_SELE'+'CTENTER','selectente'+'r'),h(It,'EVENT_SELE'+'CTLEAVE','selectleav'+'e'),h(It,'EVENT_HOVE'+'RSTART','hoverstart'),h(It,'EVENT_HOVE'+'REND','hoverend'),h(It,'EVENT_PRES'+'SEDSTART','pressedsta'+'rt'),h(It,'EVENT_PRES'+'SEDEND','pressedend');function kg(_0x494f4f){return new ie(_0x494f4f['r'],_0x494f4f['g'],_0x494f4f['b']);}class WL{constructor(){this['enabled']=!(-0x6a6+0x2*0xb5f+-0x1018),this['active']=!(-0x973*0x4+-0x385+-0x5e7*-0x7),this['imageEntit'+'y']=null,this['hitPadding']=new re(),this['transition'+'Mode']=Au,this['hoverTint']=new ie(0x22*0x1f+-0x11*-0x23d+-0x2a2b+0.75,-0x122b+-0xf76*-0x1+0x2b5+0.75,0x26df+-0x1f7c+0x1f*-0x3d+0.75),this['pressedTin'+'t']=new ie(-0x1*-0x1173+-0xb*-0xd+0x1cd*-0xa+0.5,-0x16b1+0x17f*-0x14+0x349d+0.5,0x20*-0x64+-0xd1a+-0x199a*-0x1+0.5),this['inactiveTi'+'nt']=new ie(0x12f*-0x4+0x9d3+-0x517*0x1+0.25,-0x1*0x5b3+0x4b5*0x7+-0x1b4*0x10+0.25,-0x1f*-0x2f+0x19c1+-0x1f72+0.25),this['fadeDurati'+'on']=-0x4*-0xbf+-0xfd7+0x1*0xcdb,this['hoverSprit'+'eAsset']=null,this['hoverSprit'+'eFrame']=0xccb*0x3+0x9a9+-0x300a,this['pressedSpr'+'iteAsset']=null,this['pressedSpr'+'iteFrame']=0xae2*0x2+-0x29*0x6a+0x265*-0x2,this['inactiveSp'+'riteAsset']=null,this['inactiveSp'+'riteFrame']=0x179*-0x5+-0x95*0x2b+0x819*0x4;}}const Ug=['enabled','active',{'name':'hitPadding','type':'vec4'},'transition'+'Mode',{'name':'hoverTint','type':'rgba'},{'name':'pressedTin'+'t','type':'rgba'},{'name':'inactiveTi'+'nt','type':'rgba'},'fadeDurati'+'on','hoverSprit'+'eAsset','hoverSprit'+'eFrame','pressedSpr'+'iteAsset','pressedSpr'+'iteFrame','inactiveSp'+'riteAsset','inactiveSp'+'riteFrame'];class $L extends ct{constructor(_0x249732){super(_0x249732),this['id']='button',this['ComponentT'+'ype']=It,this['DataType']=WL,this['schema']=Ug,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x3b8527,_0x499ce9,_0x291c48){_0x3b8527['imageEntit'+'y']=_0x499ce9['imageEntit'+'y'],super['initialize'+'ComponentD'+'ata'](_0x3b8527,_0x499ce9,Ug);}['onUpdate'](_0x3280ee){const _0x4b2761=this['store'];for(const _0x196844 in _0x4b2761){const _0x19350d=_0x4b2761[_0x196844]['entity'],_0x5116bf=_0x19350d['button'];_0x5116bf['enabled']&&_0x19350d['enabled']&&_0x5116bf['onUpdate']();}}['_onRemoveC'+'omponent'](_0xd28283,_0x113f45){_0x113f45['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}const Bg=new D(),zg=new le();class rn extends we{constructor(_0x80309b,_0x263b8){super(_0x80309b,_0x263b8),h(this,'_compoundP'+'arent',null),h(this,'_hasOffset',!(-0x9*0x12d+-0x269d+-0x479*-0xb)),(this['entity']['on']('insert',this['_onInsert'],this),this['on']('set_type',this['onSetType'],this),this['on']('set_convex'+'Hull',this['onSetModel'],this),this['on']('set_halfEx'+'tents',this['onSetHalfE'+'xtents'],this),this['on']('set_linear'+'Offset',this['onSetOffse'+'t'],this),this['on']('set_angula'+'rOffset',this['onSetOffse'+'t'],this),this['on']('set_radius',this['onSetRadiu'+'s'],this),this['on']('set_height',this['onSetHeigh'+'t'],this),this['on']('set_axis',this['onSetAxis'],this),this['on']('set_asset',this['onSetAsset'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_model',this['onSetModel'],this),this['on']('set_render',this['onSetRende'+'r'],this));}get['data'](){const _0xd4af56=this['system']['store'][this['entity']['getGuid']()];return _0xd4af56?_0xd4af56['data']:null;}set['enabled'](_0x2ee310){this['_setValue']('enabled',_0x2ee310);}get['enabled'](){return this['data']['enabled'];}set['type'](_0x488628){this['_setValue']('type',_0x488628);}get['type'](){return this['data']['type'];}set['halfExtent'+'s'](_0x574f3b){this['_setValue']('halfExtent'+'s',_0x574f3b);}get['halfExtent'+'s'](){return this['data']['halfExtent'+'s'];}set['linearOffs'+'et'](_0x22f307){this['_setValue']('linearOffs'+'et',_0x22f307);}get['linearOffs'+'et'](){return this['data']['linearOffs'+'et'];}set['angularOff'+'set'](_0x38dfd1){this['_setValue']('angularOff'+'set',_0x38dfd1);}get['angularOff'+'set'](){return this['data']['angularOff'+'set'];}set['radius'](_0xad0424){this['_setValue']('radius',_0xad0424);}get['radius'](){return this['data']['radius'];}set['axis'](_0x2c10ad){this['_setValue']('axis',_0x2c10ad);}get['axis'](){return this['data']['axis'];}set['height'](_0xb3317b){this['_setValue']('height',_0xb3317b);}get['height'](){return this['data']['height'];}set['asset'](_0x58441d){this['_setValue']('asset',_0x58441d);}get['asset'](){return this['data']['asset'];}set['renderAsse'+'t'](_0x2f46a7){this['_setValue']('renderAsse'+'t',_0x2f46a7);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['convexHull'](_0x396f39){this['_setValue']('convexHull',_0x396f39);}get['convexHull'](){return this['data']['convexHull'];}set['shape'](_0x41c898){this['_setValue']('shape',_0x41c898);}get['shape'](){return this['data']['shape'];}set['model'](_0x7d38f8){this['_setValue']('model',_0x7d38f8);}get['model'](){return this['data']['model'];}set['render'](_0x1b2007){this['_setValue']('render',_0x1b2007);}get['render'](){return this['data']['render'];}set['checkVerte'+'xDuplicate'+'s'](_0xe6d4a3){this['_setValue']('checkVerte'+'xDuplicate'+'s',_0xe6d4a3);}get['checkVerte'+'xDuplicate'+'s'](){return this['data']['checkVerte'+'xDuplicate'+'s'];}['_setValue'](_0x377bc5,_0x1bafd2){const _0x1c0309=this['data'],_0x192b44=_0x1c0309[_0x377bc5];_0x1c0309[_0x377bc5]=_0x1bafd2,this['fire']('set',_0x377bc5,_0x192b44,_0x1bafd2);}['onSetType'](_0x432128,_0x1e3c33,_0x5494ab){_0x1e3c33!==_0x5494ab&&this['system']['changeType'](this,_0x1e3c33,_0x5494ab);}['onSetHalfE'+'xtents'](_0x2b7e55,_0x108c16,_0x16af96){const _0x2dc4ec=this['data']['type'];this['data']['initialize'+'d']&&_0x2dc4ec==='box'&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetOffse'+'t'](_0x64f06,_0x3b7183,_0x553f3){this['_hasOffset']=!this['data']['linearOffs'+'et']['equals'](D['ZERO'])||!this['data']['angularOff'+'set']['equals'](le['IDENTITY']),this['data']['initialize'+'d']&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetRadiu'+'s'](_0x2125b1,_0x2a7a92,_0x553022){const _0x4d193e=this['data']['type'];this['data']['initialize'+'d']&&(_0x4d193e==='sphere'||_0x4d193e==='capsule'||_0x4d193e==='cylinder'||_0x4d193e==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetHeigh'+'t'](_0xef3204,_0x513bd7,_0x5d78da){const _0xc829b7=this['data']['type'];this['data']['initialize'+'d']&&(_0xc829b7==='capsule'||_0xc829b7==='cylinder'||_0xc829b7==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAxis'](_0x42a78f,_0x230a7f,_0x5edcb2){const _0x376cd9=this['data']['type'];this['data']['initialize'+'d']&&(_0x376cd9==='capsule'||_0x376cd9==='cylinder'||_0x376cd9==='cone')&&this['system']['recreatePh'+'ysicalShap'+'es'](this);}['onSetAsset'](_0x314f64,_0x1cdff2,_0x3966d4){const _0x34a278=this['system']['app']['assets'];if(_0x1cdff2){const _0x517aca=_0x34a278['get'](_0x1cdff2);_0x517aca&&_0x517aca['off']('remove',this['onAssetRem'+'oved'],this);}if(_0x3966d4){_0x3966d4 instanceof pe&&(this['data']['asset']=_0x3966d4['id']);const _0x27059a=_0x34a278['get'](this['data']['asset']);_0x27059a&&(_0x27059a['off']('remove',this['onAssetRem'+'oved'],this),_0x27059a['on']('remove',this['onAssetRem'+'oved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x3966d4||(this['data']['model']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetRende'+'rAsset'](_0x5bc222,_0x5f3f01,_0x374efc){const _0x31184a=this['system']['app']['assets'];if(_0x5f3f01){const _0xed56ae=_0x31184a['get'](_0x5f3f01);_0xed56ae&&_0xed56ae['off']('remove',this['onRenderAs'+'setRemoved'],this);}if(_0x374efc){_0x374efc instanceof pe&&(this['data']['renderAsse'+'t']=_0x374efc['id']);const _0x2515c4=_0x31184a['get'](this['data']['renderAsse'+'t']);_0x2515c4&&(_0x2515c4['off']('remove',this['onRenderAs'+'setRemoved'],this),_0x2515c4['on']('remove',this['onRenderAs'+'setRemoved'],this));}this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&(_0x374efc||(this['data']['render']=null),this['system']['recreatePh'+'ysicalShap'+'es'](this));}['onSetModel'](_0x183013,_0x4d7396,_0x33825a){this['data']['initialize'+'d']&&this['data']['type']==='mesh'&&this['system']['implementa'+'tions']['mesh']['doRecreate'+'PhysicalSh'+'ape'](this);}['onSetRende'+'r'](_0x27b675,_0x2009d9,_0x472e7b){this['onSetModel'](_0x27b675,_0x2009d9,_0x472e7b);}['onAssetRem'+'oved'](_0x407cc2){_0x407cc2['off']('remove',this['onAssetRem'+'oved'],this),this['data']['asset']===_0x407cc2['id']&&(this['asset']=null);}['onRenderAs'+'setRemoved'](_0x1b6be3){_0x1b6be3['off']('remove',this['onRenderAs'+'setRemoved'],this),this['data']['renderAsse'+'t']===_0x1b6be3['id']&&(this['renderAsse'+'t']=null);}['getCompoun'+'dChildShap'+'eIndex'](_0x5914a8){const _0x4f03fd=this['data']['shape'],_0x524f1f=_0x4f03fd['getNumChil'+'dShapes']();for(let _0x31c781=0xaeb+-0xc99*-0x1+-0x1784;_0x31c781<_0x524f1f;_0x31c781++){const _0x173441=_0x4f03fd['getChildSh'+'ape'](_0x31c781);if(Ammo['getPointer'](_0x173441)===Ammo['getPointer'](_0x5914a8))return _0x31c781;}return null;}['_onInsert'](_0x5e8e47){if(!(typeof Ammo>'u')){if(this['_compoundP'+'arent'])this['system']['recreatePh'+'ysicalShap'+'es'](this);else{if(!this['entity']['rigidbody']){let _0x2be20d=this['entity']['parent'];for(;_0x2be20d;){if(_0x2be20d['collision']&&_0x2be20d['collision']['type']==='compound'){_0x2be20d['collision']['shape']['getNumChil'+'dShapes']()===-0x2f3*-0x2+-0x1d*0x6f+-0x6ad*-0x1?this['system']['recreatePh'+'ysicalShap'+'es'](_0x2be20d['collision']):this['system']['recreatePh'+'ysicalShap'+'es'](this);break;}_0x2be20d=_0x2be20d['parent'];}}}}}['_updateCom'+'pound'](){const _0x3bab3d=this['entity'];if(_0x3bab3d['_dirtyWorl'+'d']){let _0x41e926=_0x3bab3d['_dirtyLoca'+'l'],_0x1d6dd3=_0x3bab3d;for(;_0x1d6dd3&&!_0x41e926&&!(_0x1d6dd3['collision']&&_0x1d6dd3['collision']===this['_compoundP'+'arent']);)_0x1d6dd3['_dirtyLoca'+'l']&&(_0x41e926=!(-0x22d6*-0x1+0x1dc2+-0x4098)),_0x1d6dd3=_0x1d6dd3['parent'];if(_0x41e926){_0x3bab3d['forEach'](this['system']['implementa'+'tions']['compound']['_updateEac'+'hDescendan'+'tTransform'],_0x3bab3d);const _0x30c7b3=this['_compoundP'+'arent']['entity']['rigidbody'];_0x30c7b3&&_0x30c7b3['activate']();}}}['getShapePo'+'sition'](){const _0x515115=this['entity']['getPositio'+'n']();if(this['_hasOffset']){const _0xdbe9b9=this['entity']['getRotatio'+'n'](),_0x4d28ca=this['data']['linearOffs'+'et'];return zg['copy'](_0xdbe9b9)['transformV'+'ector'](_0x4d28ca,Bg),Bg['add'](_0x515115);}return _0x515115;}['getShapeRo'+'tation'](){const _0x4ad627=this['entity']['getRotatio'+'n']();return this['_hasOffset']?zg['copy'](_0x4ad627)['mul'](this['data']['angularOff'+'set']):_0x4ad627;}['onEnable'](){if(this['data']['type']==='mesh'&&(this['data']['asset']||this['data']['renderAsse'+'t'])&&this['data']['initialize'+'d']){const _0x5b803a=this['system']['app']['assets']['get'](this['data']['asset']||this['data']['renderAsse'+'t']);if(_0x5b803a&&(!_0x5b803a['resource']||!this['data']['shape'])){this['system']['recreatePh'+'ysicalShap'+'es'](this);return;}}if(this['entity']['rigidbody'])this['entity']['rigidbody']['enabled']&&this['entity']['rigidbody']['enableSimu'+'lation']();else{if(this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']){if(this['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x164*0xe+0x1*-0x25ab+0x3923)this['system']['recreatePh'+'ysicalShap'+'es'](this['_compoundP'+'arent']);else{const _0x435b89=this['system']['_getNodeTr'+'ansform'](this['entity'],this['_compoundP'+'arent']['entity']);this['_compoundP'+'arent']['shape']['addChildSh'+'ape'](_0x435b89,this['data']['shape']),Ammo['destroy'](_0x435b89),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']();}}else this['entity']['trigger']&&this['entity']['trigger']['enable']();}}['onDisable'](){this['entity']['rigidbody']?this['entity']['rigidbody']['disableSim'+'ulation']():this['_compoundP'+'arent']&&this!==this['_compoundP'+'arent']?this['_compoundP'+'arent']['entity']['_destroyin'+'g']||(this['system']['_removeCom'+'poundChild'](this['_compoundP'+'arent'],this['data']['shape']),this['_compoundP'+'arent']['entity']['rigidbody']&&this['_compoundP'+'arent']['entity']['rigidbody']['activate']()):this['entity']['trigger']&&this['entity']['trigger']['disable']();}['onBeforeRe'+'move'](){this['asset']&&(this['asset']=null),this['renderAsse'+'t']&&(this['renderAsse'+'t']=null),this['entity']['off']('insert',this['_onInsert'],this),this['off']();}}h(rn,'EVENT_CONT'+'ACT','contact'),h(rn,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(rn,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(rn,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(rn,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve');class XL{constructor(){this['enabled']=!(-0x65*-0x17+-0x2688+0x1d75),this['type']='box',this['halfExtent'+'s']=new D(-0x1b2d+-0x9*0xbf+0x21e4+0.5,-0x27c*-0x6+0x19de+-0x28c6+0.5,-0x1c0*-0x1+0x1*-0x47f+0x2bf+0.5),this['linearOffs'+'et']=new D(),this['angularOff'+'set']=new le(),this['radius']=-0x5b1+-0xcf*-0x2d+-0x2*0xf59+0.5,this['axis']=0xff0+0x26b1+-0x36a0,this['height']=-0xfb8+-0x88a+0x611*0x4,this['convexHull']=!(-0x2*-0x17e+0x1bd*-0x5+0x5b6),this['asset']=null,this['renderAsse'+'t']=null,this['checkVerte'+'xDuplicate'+'s']=!(0x1659+0x2*-0xba4+0xef),this['shape']=null,this['model']=null,this['render']=null,this['initialize'+'d']=!(-0x67c+-0x2aa+0x927);}}const yo='static',ks='dynamic',Ha='kinematic',qL=0x1*-0x22f3+0x2*0x301+-0x1*-0x1cf3,Po=0x15*0xe3+0x24*-0x6b+0x1*-0x38f,Pu=-0x12d3+-0x1*0x97b+0x1c4f,Vg=-0x1*0xf59+0x650*-0x4+-0x25*-0x119,Yv=0x20b*0x13+-0x4*0x874+-0x4fc,jL=0x266c+0x6df+-0x2aa*0x11,Gg=-0x23fe*0x1+0x5*-0x7a9+-0x1*-0x4a4d,YL=-0x2635*0x1+-0x885*-0x3+-0xcaa*-0x1,Hg=0xd*0x22f+-0x1dbc+0x169,Wg=-0x82e6+0x744f+-0xf*-0x120a,Mu=0x65d9+-0x1a7ab+0x1*0x241cf;let Us,zr,Wa;class Kv{constructor(_0x36baab,_0x4d30ad,_0x4ff175){this['entity']=_0x4d30ad['entity'],this['component']=_0x4d30ad,this['app']=_0x36baab,typeof Ammo<'u'&&!Us&&(Us=new Ammo['btVector3'](),zr=new Ammo['btQuaterni'+'on'](),Wa=new Ammo['btTransfor'+'m']()),this['initialize'](_0x4ff175);}['initialize'](_0x5960f2){const _0x9339a7=this['entity'],_0x29d62d=_0x5960f2['shape'];if(_0x29d62d&&typeof Ammo<'u'){_0x9339a7['trigger']&&_0x9339a7['trigger']['destroy']();const _0x530d5b=0x1*-0x2527+0xced+0x183b,_0x1791df=this['component'];if(_0x1791df){const _0x39c290=_0x1791df['getShapePo'+'sition'](),_0x4fc6dd=_0x1791df['getShapeRo'+'tation']();Us['setValue'](_0x39c290['x'],_0x39c290['y'],_0x39c290['z']),zr['setValue'](_0x4fc6dd['x'],_0x4fc6dd['y'],_0x4fc6dd['z'],_0x4fc6dd['w']);}else{const _0x2a2a6f=_0x9339a7['getPositio'+'n'](),_0x575447=_0x9339a7['getRotatio'+'n']();Us['setValue'](_0x2a2a6f['x'],_0x2a2a6f['y'],_0x2a2a6f['z']),zr['setValue'](_0x575447['x'],_0x575447['y'],_0x575447['z'],_0x575447['w']);}Wa['setOrigin'](Us),Wa['setRotatio'+'n'](zr);const _0x2df0a9=this['app']['systems']['rigidbody']['createBody'](_0x530d5b,_0x29d62d,Wa);_0x2df0a9['setRestitu'+'tion'](0x247a+0x15e3+-0x3a5d),_0x2df0a9['setFrictio'+'n'](0x7*-0x1d+0x178d+-0x796*0x3),_0x2df0a9['setDamping'](-0x169*0x13+0x10e9*0x1+0x9e2,0x131+0x56*-0x5+-0x1*-0x7d),Us['setValue'](0x1791+-0x3a9*0x2+0x103f*-0x1,-0x28f*0x2+-0x1350+0x186e,0xe4*-0xb+-0xe4d*-0x1+-0x1*0x481),_0x2df0a9['setLinearF'+'actor'](Us),_0x2df0a9['setAngular'+'Factor'](Us),_0x2df0a9['setCollisi'+'onFlags'](_0x2df0a9['getCollisi'+'onFlags']()|Po),_0x2df0a9['entity']=_0x9339a7,this['body']=_0x2df0a9,this['component']['enabled']&&_0x9339a7['enabled']&&this['enable']();}}['destroy'](){this['body']&&(this['disable'](),this['app']['systems']['rigidbody']['destroyBod'+'y'](this['body']),this['body']=null);}['_getEntity'+'Transform'](_0x194587){const _0x4a2e38=this['component'];if(_0x4a2e38){const _0x21e6d1=_0x4a2e38['getShapePo'+'sition'](),_0x5efd3a=_0x4a2e38['getShapeRo'+'tation']();Us['setValue'](_0x21e6d1['x'],_0x21e6d1['y'],_0x21e6d1['z']),zr['setValue'](_0x5efd3a['x'],_0x5efd3a['y'],_0x5efd3a['z'],_0x5efd3a['w']);}else{const _0x1fdeed=this['entity']['getPositio'+'n'](),_0x129a9b=this['entity']['getRotatio'+'n']();Us['setValue'](_0x1fdeed['x'],_0x1fdeed['y'],_0x1fdeed['z']),zr['setValue'](_0x129a9b['x'],_0x129a9b['y'],_0x129a9b['z'],_0x129a9b['w']);}_0x194587['setOrigin'](Us),_0x194587['setRotatio'+'n'](zr);}['updateTran'+'sform'](){this['_getEntity'+'Transform'](Wa);const _0x3b33cb=this['body'];_0x3b33cb['setWorldTr'+'ansform'](Wa),_0x3b33cb['activate']();}['enable'](){const _0x408ca8=this['body'];if(!_0x408ca8)return;const _0x221cef=this['app']['systems']['rigidbody'];_0x221cef['_triggers']['indexOf'](this)<-0x1*-0x329+-0x79b+0x472&&(_0x221cef['addBody'](_0x408ca8,Hg,Mu^Hg),_0x221cef['_triggers']['push'](this)),_0x408ca8['forceActiv'+'ationState'](Pu),this['updateTran'+'sform']();}['disable'](){const _0x3f2625=this['body'];if(!_0x3f2625)return;const _0x5c440d=this['app']['systems']['rigidbody'],_0x2cd076=_0x5c440d['_triggers']['indexOf'](this);_0x2cd076>-(-0x22*-0xb3+0x63b+-0x1e00)&&(_0x5c440d['removeBody'](_0x3f2625),_0x5c440d['_triggers']['splice'](_0x2cd076,-0x1*0x2246+-0x8d1*-0x1+0x1976)),_0x3f2625['forceActiv'+'ationState'](Yv);}}const wc=new te(),KL=new D(),ZL=new D(),Vr=new le(),$g=new Ie(),QL=['enabled','type','halfExtent'+'s','linearOffs'+'et','angularOff'+'set','radius','axis','height','convexHull','asset','renderAsse'+'t','shape','model','render','checkVerte'+'xDuplicate'+'s'];class Ca{constructor(_0x2e2773){this['system']=_0x2e2773;}['beforeInit'+'ialize'](_0x1fe534,_0x4d026d){_0x4d026d['shape']=null,_0x4d026d['model']=new sr(),_0x4d026d['model']['graph']=new Ie();}['afterIniti'+'alize'](_0x3bb671,_0x18d085){this['recreatePh'+'ysicalShap'+'es'](_0x3bb671),_0x3bb671['data']['initialize'+'d']=!(0x1ac2*-0x1+0x26f6+-0xc34);}['reset'](_0x6477c8,_0x4ab0d3){this['beforeInit'+'ialize'](_0x6477c8,_0x4ab0d3),this['afterIniti'+'alize'](_0x6477c8,_0x4ab0d3);}['recreatePh'+'ysicalShap'+'es'](_0x4917da){const _0x236db4=_0x4917da['entity'],_0x235d5f=_0x4917da['data'];if(typeof Ammo<'u'){_0x236db4['trigger']&&(_0x236db4['trigger']['destroy'](),delete _0x236db4['trigger']),_0x235d5f['shape']&&(_0x4917da['_compoundP'+'arent']&&(_0x4917da!==_0x4917da['_compoundP'+'arent']&&this['system']['_removeCom'+'poundChild'](_0x4917da['_compoundP'+'arent'],_0x235d5f['shape']),_0x4917da['_compoundP'+'arent']['entity']['rigidbody']&&_0x4917da['_compoundP'+'arent']['entity']['rigidbody']['activate']()),this['destroySha'+'pe'](_0x235d5f)),_0x235d5f['shape']=this['createPhys'+'icalShape'](_0x4917da['entity'],_0x235d5f);const _0x32d476=!_0x4917da['_compoundP'+'arent'];if(_0x235d5f['type']==='compound'&&(!_0x4917da['_compoundP'+'arent']||_0x4917da===_0x4917da['_compoundP'+'arent']))_0x4917da['_compoundP'+'arent']=_0x4917da,_0x236db4['forEach'](this['_addEachDe'+'scendant'],_0x4917da);else{if(_0x235d5f['type']!=='compound'&&!_0x4917da['rigidbody']){_0x4917da['_compoundP'+'arent']=null;let _0x4db57d=_0x236db4['parent'];for(;_0x4db57d;){if(_0x4db57d['collision']&&_0x4db57d['collision']['type']==='compound'){_0x4917da['_compoundP'+'arent']=_0x4db57d['collision'];break;}_0x4db57d=_0x4db57d['parent'];}}}_0x4917da['_compoundP'+'arent']&&_0x4917da!==_0x4917da['_compoundP'+'arent']&&(_0x32d476&&_0x4917da['_compoundP'+'arent']['shape']['getNumChil'+'dShapes']()===-0x29*0xf2+0x5*-0x41f+-0x5b*-0xa7?this['system']['recreatePh'+'ysicalShap'+'es'](_0x4917da['_compoundP'+'arent']):(this['system']['updateComp'+'oundChildT'+'ransform'](_0x236db4,!(-0x1*-0x11fd+-0x1ec6+0x1*0xcc9)),_0x4917da['_compoundP'+'arent']['entity']['rigidbody']&&_0x4917da['_compoundP'+'arent']['entity']['rigidbody']['activate']())),_0x236db4['rigidbody']?(_0x236db4['rigidbody']['disableSim'+'ulation'](),_0x236db4['rigidbody']['createBody'](),_0x236db4['enabled']&&_0x236db4['rigidbody']['enabled']&&_0x236db4['rigidbody']['enableSimu'+'lation']()):_0x4917da['_compoundP'+'arent']||(_0x236db4['trigger']?_0x236db4['trigger']['initialize'](_0x235d5f):_0x236db4['trigger']=new Kv(this['system']['app'],_0x4917da,_0x235d5f));}}['createPhys'+'icalShape'](_0x2fb7d1,_0x1e977c){}['updateTran'+'sform'](_0x94e347,_0x521a21,_0x25ee27,_0x4472e0){_0x94e347['entity']['trigger']&&_0x94e347['entity']['trigger']['updateTran'+'sform']();}['destroySha'+'pe'](_0x7de2aa){_0x7de2aa['shape']&&(Ammo['destroy'](_0x7de2aa['shape']),_0x7de2aa['shape']=null);}['beforeRemo'+'ve'](_0x181a7,_0x153c9a){_0x153c9a['data']['shape']&&(_0x153c9a['_compoundP'+'arent']&&!_0x153c9a['_compoundP'+'arent']['entity']['_destroyin'+'g']&&(this['system']['_removeCom'+'poundChild'](_0x153c9a['_compoundP'+'arent'],_0x153c9a['data']['shape']),_0x153c9a['_compoundP'+'arent']['entity']['rigidbody']&&_0x153c9a['_compoundP'+'arent']['entity']['rigidbody']['activate']()),_0x153c9a['_compoundP'+'arent']=null,this['destroySha'+'pe'](_0x153c9a['data']));}['remove'](_0x1f4ead,_0x3df626){_0x1f4ead['rigidbody']&&_0x1f4ead['rigidbody']['body']&&_0x1f4ead['rigidbody']['disableSim'+'ulation'](),_0x1f4ead['trigger']&&(_0x1f4ead['trigger']['destroy'](),delete _0x1f4ead['trigger']);}['clone'](_0x4cb8b0,_0x38043){const _0x309b93=this['system']['store'][_0x4cb8b0['getGuid']()],_0x3afb47={'enabled':_0x309b93['data']['enabled'],'type':_0x309b93['data']['type'],'halfExtents':[_0x309b93['data']['halfExtent'+'s']['x'],_0x309b93['data']['halfExtent'+'s']['y'],_0x309b93['data']['halfExtent'+'s']['z']],'linearOffset':[_0x309b93['data']['linearOffs'+'et']['x'],_0x309b93['data']['linearOffs'+'et']['y'],_0x309b93['data']['linearOffs'+'et']['z']],'angularOffset':[_0x309b93['data']['angularOff'+'set']['x'],_0x309b93['data']['angularOff'+'set']['y'],_0x309b93['data']['angularOff'+'set']['z'],_0x309b93['data']['angularOff'+'set']['w']],'radius':_0x309b93['data']['radius'],'axis':_0x309b93['data']['axis'],'height':_0x309b93['data']['height'],'convexHull':_0x309b93['data']['convexHull'],'asset':_0x309b93['data']['asset'],'renderAsset':_0x309b93['data']['renderAsse'+'t'],'model':_0x309b93['data']['model'],'render':_0x309b93['data']['render'],'checkVertexDuplicates':_0x309b93['data']['checkVerte'+'xDuplicate'+'s']};return this['system']['addCompone'+'nt'](_0x38043,_0x3afb47);}}class JL extends Ca{['createPhys'+'icalShape'](_0x737ec2,_0x4f77e8){if(typeof Ammo<'u'){const _0xacd6ad=_0x4f77e8['halfExtent'+'s'],_0x1aece6=new Ammo['btVector3'](_0xacd6ad?_0xacd6ad['x']:-0x9b2+0x1*-0x1cd3+0xcd7*0x3+0.5,_0xacd6ad?_0xacd6ad['y']:-0x159c+-0x22da+-0x1c3b*-0x2+0.5,_0xacd6ad?_0xacd6ad['z']:0x8bd+0x335*0x3+-0x32*0x5e+0.5),_0x49d879=new Ammo['btBoxShape'](_0x1aece6);return Ammo['destroy'](_0x1aece6),_0x49d879;}}}class eR extends Ca{['createPhys'+'icalShape'](_0x2ba11f,_0x176d83){if(typeof Ammo<'u')return new Ammo['btSphereSh'+'ape'](_0x176d83['radius']);}}class tR extends Ca{['createPhys'+'icalShape'](_0x2d4259,_0x366173){const _0xd54870=_0x366173['axis']??-0x2*0xc67+-0x3*0x82e+0x3159,_0x2b3ee2=_0x366173['radius']??0x5dd*-0x1+-0x17b*0x17+-0x13f5*-0x2+0.5,_0x3b7c7f=Math['max']((_0x366173['height']??0x2*-0x53+0x1*0xd1f+-0x1*0xc77)-(0xf42+-0x3*-0x803+-0x2749)*_0x2b3ee2,-0x154e+-0x1180+-0x1367*-0x2);let _0x44b23d=null;if(typeof Ammo<'u')switch(_0xd54870){case-0x1258+-0x1869+-0x3e3*-0xb:_0x44b23d=new Ammo['btCapsuleS'+'hapeX'](_0x2b3ee2,_0x3b7c7f);break;case 0x3*0x579+-0x108b+0x21*0x1:_0x44b23d=new Ammo['btCapsuleS'+'hape'](_0x2b3ee2,_0x3b7c7f);break;case-0x1e9d+-0x1*0x204b+-0x1f75*-0x2:_0x44b23d=new Ammo['btCapsuleS'+'hapeZ'](_0x2b3ee2,_0x3b7c7f);break;}return _0x44b23d;}}class sR extends Ca{['createPhys'+'icalShape'](_0xa83664,_0x4db8ef){const _0x3c491c=_0x4db8ef['axis']??-0x1*-0x2449+0x2167+-0x45af,_0x29e5c0=_0x4db8ef['radius']??0x6*0x54b+-0x1*-0xb2d+-0x2aef*0x1+0.5,_0x13cb84=_0x4db8ef['height']??-0xe3*-0x29+0x2*0x1177+0x11d2*-0x4;let _0x5ce55c=null,_0x339a49=null;if(typeof Ammo<'u')switch(_0x3c491c){case 0x2425+-0x564*0x1+-0x1ec1:_0x5ce55c=new Ammo['btVector3'](_0x13cb84*(-0x6d*-0x53+0x1e02+-0x4159+0.5),_0x29e5c0,_0x29e5c0),_0x339a49=new Ammo['btCylinder'+'ShapeX'](_0x5ce55c);break;case-0x8b7+0x20d8+-0x1820:_0x5ce55c=new Ammo['btVector3'](_0x29e5c0,_0x13cb84*(0x223*-0xc+-0x1*0x7a0+0x2144*0x1+0.5),_0x29e5c0),_0x339a49=new Ammo['btCylinder'+'Shape'](_0x5ce55c);break;case 0x1c38+0x5e1+-0x2217*0x1:_0x5ce55c=new Ammo['btVector3'](_0x29e5c0,_0x29e5c0,_0x13cb84*(0x1b9b+0x7a6+0x5*-0x70d+0.5)),_0x339a49=new Ammo['btCylinder'+'ShapeZ'](_0x5ce55c);break;}return _0x5ce55c&&Ammo['destroy'](_0x5ce55c),_0x339a49;}}class iR extends Ca{['createPhys'+'icalShape'](_0x2507ef,_0x15aa56){const _0x26407a=_0x15aa56['axis']??0x461*0x1+0x12cd*-0x1+0xe6d,_0x4770fb=_0x15aa56['radius']??0x131b*-0x1+-0x9e1+0x1cfc+0.5,_0xe6cfd5=_0x15aa56['height']??0x22d*-0xe+0x6a5+0x17d2*0x1;let _0x19430f=null;if(typeof Ammo<'u')switch(_0x26407a){case 0xe21+-0xb4d+0x2d4*-0x1:_0x19430f=new Ammo['btConeShap'+'eX'](_0x4770fb,_0xe6cfd5);break;case 0xd17+0x1b1f+-0x2835:_0x19430f=new Ammo['btConeShap'+'e'](_0x4770fb,_0xe6cfd5);break;case-0x1497+0x19f+-0x12fa*-0x1:_0x19430f=new Ammo['btConeShap'+'eZ'](_0x4770fb,_0xe6cfd5);break;}return _0x19430f;}}class rR extends Ca{['beforeInit'+'ialize'](_0x4a32d6,_0x2bc2e1){}['createAmmo'+'Hull'](_0xcb9a07,_0x164e16,_0x4eda0f,_0x2f5cfe){const _0x2ba475=new Ammo['btConvexHu'+'llShape'](),_0x47a39a=new Ammo['btVector3'](),_0x325497=[];_0xcb9a07['getPositio'+'ns'](_0x325497);for(let _0x172548=-0x108a+0x54+-0x19f*-0xa;_0x172548<_0x325497['length'];_0x172548+=-0x4*0x683+-0x2028+-0x7*-0x851)_0x47a39a['setValue'](_0x325497[_0x172548]*_0x2f5cfe['x'],_0x325497[_0x172548+(-0x1*-0x9a3+-0x41*0x1d+-0x245)]*_0x2f5cfe['y'],_0x325497[_0x172548+(-0x9*0x3a3+0x244+0x1e79)]*_0x2f5cfe['z']),_0x2ba475['addPoint'](_0x47a39a,!(0x495+-0x3e*0x35+-0x421*-0x2));Ammo['destroy'](_0x47a39a),_0x2ba475['recalcLoca'+'lAabb'](),_0x2ba475['setMargin'](0x1229+0x1*-0x477+-0xdb2*0x1+0.01);const _0xcd5eb=this['system']['_getNodeTr'+'ansform'](_0x164e16);_0x4eda0f['addChildSh'+'ape'](_0xcd5eb,_0x2ba475),Ammo['destroy'](_0xcd5eb);}['createAmmo'+'Mesh'](_0x101414,_0x38c766,_0x322d13,_0x355e75,_0x469b1e=!(-0x1061+0x2*0xf1d+-0x2c5*0x5)){const _0x5cf183=this['system'];let _0x581f18;if(_0x5cf183['_triMeshCa'+'che'][_0x101414['id']])_0x581f18=_0x5cf183['_triMeshCa'+'che'][_0x101414['id']];else{const _0x670289=_0x101414['vertexBuff'+'er'],_0x4d8d00=_0x670289['getFormat']();let _0x2ad598,_0x1d8e3a;for(let _0x3d58fa=0x2265+0x4c9+-0x272e;_0x3d58fa<_0x4d8d00['elements']['length'];_0x3d58fa++){const _0x5866c6=_0x4d8d00['elements'][_0x3d58fa];if(_0x5866c6['name']===Me){_0x1d8e3a=new Float32Array(_0x670289['lock'](),_0x5866c6['offset']),_0x2ad598=_0x5866c6['stride']/(-0x11*-0x16d+0x22*-0x3d+0x101f*-0x1);break;}}const _0xad6519=[];_0x101414['getIndices'](_0xad6519);const _0x3b6193=_0x101414['primitive'][-0x3*0x402+-0xea2+0x4*0x6aa]['count']/(-0x99d*-0x3+-0x1*0x6d0+-0x1604),_0x55a44c=new Ammo['btVector3']();let _0x3a0d17,_0x286b4f,_0x54713c;const _0x4b494d=_0x101414['primitive'][-0x5d1*-0x6+-0x31f*0x2+-0x1ca8]['base'];_0x581f18=new Ammo['btTriangle'+'Mesh'](),_0x5cf183['_triMeshCa'+'che'][_0x101414['id']]=_0x581f18;const _0x4e31a9=new Map();w['assert'](typeof _0x581f18['getIndexed'+'MeshArray']=='function','Ammo.js\x20ve'+'rsion\x20is\x20t'+'oo\x20old,\x20pl'+'ease\x20updat'+'e\x20to\x20a\x20new'+'er\x20Ammo.');const _0x516e6c=_0x581f18['getIndexed'+'MeshArray']();_0x516e6c['at'](-0x178a+0xe8c+0x2*0x47f)['m_numTrian'+'gles']=_0x3b6193;const _0x394378=_0x355e75?_0x355e75['x']:-0x29*-0xda+-0x6*0x55d+0x2bb*-0x1,_0x4518f8=_0x355e75?_0x355e75['y']:0x1*0x11c2+-0x13e+-0x1083,_0x5d10c4=_0x355e75?_0x355e75['z']:-0x15b2+-0x1*-0x25d+0x1356,_0x29bc73=_0x3b1407=>{const _0x3459a6=_0x1d8e3a[_0x3b1407*_0x2ad598]*_0x394378,_0x6ba651=_0x1d8e3a[_0x3b1407*_0x2ad598+(-0x1be0*-0x1+0x1*0x1967+-0x8e1*0x6)]*_0x4518f8,_0x18c663=_0x1d8e3a[_0x3b1407*_0x2ad598+(-0x2*0xb5d+0x1fcf*-0x1+0x1*0x368b)]*_0x5d10c4;let _0x45fc4d;if(_0x469b1e){const _0x5c9e98=_0x3459a6+':'+_0x6ba651+':'+_0x18c663;if(_0x45fc4d=_0x4e31a9['get'](_0x5c9e98),_0x45fc4d!==void(-0x579+-0x1293+0x180c))return _0x45fc4d;_0x55a44c['setValue'](_0x3459a6,_0x6ba651,_0x18c663),_0x45fc4d=_0x581f18['findOrAddV'+'ertex'](_0x55a44c,!(0x17a6+0xbee+-0x2393)),_0x4e31a9['set'](_0x5c9e98,_0x45fc4d);}else _0x55a44c['setValue'](_0x3459a6,_0x6ba651,_0x18c663),_0x45fc4d=_0x581f18['findOrAddV'+'ertex'](_0x55a44c,!(0x24a8*-0x1+0x1c10+-0x1*-0x899));return _0x45fc4d;};for(let _0x2d8e39=0xb2b+-0x1124+0x5f9;_0x2d8e39<_0x3b6193;_0x2d8e39++)_0x3a0d17=_0x29bc73(_0xad6519[_0x4b494d+_0x2d8e39*(-0x185e+0xc3a+0x1*0xc27)]),_0x286b4f=_0x29bc73(_0xad6519[_0x4b494d+_0x2d8e39*(-0xf32+0x1f87*0x1+-0x2*0x829)+(0x77d+0x2625+0x2da1*-0x1)]),_0x54713c=_0x29bc73(_0xad6519[_0x4b494d+_0x2d8e39*(0x174d+-0xb9*-0xf+0x2221*-0x1)+(-0xec9+-0xc37+0x1b02)]),_0x581f18['addIndex'](_0x3a0d17),_0x581f18['addIndex'](_0x286b4f),_0x581f18['addIndex'](_0x54713c);Ammo['destroy'](_0x55a44c);}const _0x3e9868=new Ammo['btBvhTrian'+'gleMeshSha'+'pe'](_0x581f18,!(-0x3b3*0x8+0x9*0x327+0x139));if(!_0x355e75){const _0x2efe7c=_0x5cf183['_getNodeSc'+'aling'](_0x38c766);_0x3e9868['setLocalSc'+'aling'](_0x2efe7c),Ammo['destroy'](_0x2efe7c);}const _0x35375f=_0x5cf183['_getNodeTr'+'ansform'](_0x38c766);_0x322d13['addChildSh'+'ape'](_0x35375f,_0x3e9868),Ammo['destroy'](_0x35375f);}['createPhys'+'icalShape'](_0x34a921,_0x5a6ac5){if(!(typeof Ammo>'u')&&(_0x5a6ac5['model']||_0x5a6ac5['render'])){const _0x358306=new Ammo['btCompound'+'Shape'](),_0x1bb985=_0x34a921['getWorldTr'+'ansform']()['getScale']();if(_0x5a6ac5['render']){const _0x1711bc=_0x5a6ac5['render']['meshes'];for(let _0x48e333=-0xbfb+-0x184b+0x2446;_0x48e333<_0x1711bc['length'];_0x48e333++)_0x5a6ac5['convexHull']?this['createAmmo'+'Hull'](_0x1711bc[_0x48e333],$g,_0x358306,_0x1bb985):this['createAmmo'+'Mesh'](_0x1711bc[_0x48e333],$g,_0x358306,_0x1bb985,_0x5a6ac5['checkVerte'+'xDuplicate'+'s']);}else{if(_0x5a6ac5['model']){const _0x4424a4=_0x5a6ac5['model']['meshInstan'+'ces'];for(let _0x451e16=0x9d*0x1b+0x173*0xa+-0x1*0x1f0d;_0x451e16<_0x4424a4['length'];_0x451e16++)this['createAmmo'+'Mesh'](_0x4424a4[_0x451e16]['mesh'],_0x4424a4[_0x451e16]['node'],_0x358306,null,_0x5a6ac5['checkVerte'+'xDuplicate'+'s']);const _0x194a9=new Ammo['btVector3'](_0x1bb985['x'],_0x1bb985['y'],_0x1bb985['z']);_0x358306['setLocalSc'+'aling'](_0x194a9),Ammo['destroy'](_0x194a9);}}return _0x358306;}}['recreatePh'+'ysicalShap'+'es'](_0x4f63c8){const _0x558322=_0x4f63c8['data'];if((_0x558322['renderAsse'+'t']||_0x558322['asset'])&&_0x4f63c8['enabled']&&_0x4f63c8['entity']['enabled']){this['loadAsset'](_0x4f63c8,_0x558322['renderAsse'+'t']||_0x558322['asset'],_0x558322['renderAsse'+'t']?'render':'model');return;}this['doRecreate'+'PhysicalSh'+'ape'](_0x4f63c8);}['loadAsset'](_0xd3251,_0x59ef4e,_0x34f008){const _0x2f758e=_0xd3251['data'],_0x1d7d91=this['system']['app']['assets'],_0x3cd629=_0x2f758e[_0x34f008],_0x39575f=_0x46dbc0=>{_0x2f758e[_0x34f008]===_0x3cd629&&(_0x2f758e[_0x34f008]=_0x46dbc0['resource'],this['doRecreate'+'PhysicalSh'+'ape'](_0xd3251));},_0x43445c=_0x29cd56=>{_0x29cd56['ready'](_0x17731e=>{if(_0x17731e['data']['containerA'+'sset']){const _0x1dd6e1=_0x1d7d91['get'](_0x17731e['data']['containerA'+'sset']);_0x1dd6e1['loaded']?_0x39575f(_0x17731e):(_0x1dd6e1['ready'](()=>{_0x39575f(_0x17731e);}),_0x1d7d91['load'](_0x1dd6e1));}else _0x39575f(_0x17731e);}),_0x1d7d91['load'](_0x29cd56);},_0x9ee868=_0x1d7d91['get'](_0x59ef4e);_0x9ee868?_0x43445c(_0x9ee868):_0x1d7d91['once']('add:'+_0x59ef4e,_0x43445c);}['doRecreate'+'PhysicalSh'+'ape'](_0x21dbb4){const _0x5313a0=_0x21dbb4['entity'],_0x45c51c=_0x21dbb4['data'];_0x45c51c['model']||_0x45c51c['render']?(this['destroySha'+'pe'](_0x45c51c),_0x45c51c['shape']=this['createPhys'+'icalShape'](_0x5313a0,_0x45c51c),_0x5313a0['rigidbody']?(_0x5313a0['rigidbody']['disableSim'+'ulation'](),_0x5313a0['rigidbody']['createBody'](),_0x5313a0['enabled']&&_0x5313a0['rigidbody']['enabled']&&_0x5313a0['rigidbody']['enableSimu'+'lation']()):_0x5313a0['trigger']?_0x5313a0['trigger']['initialize'](_0x45c51c):_0x5313a0['trigger']=new Kv(this['system']['app'],_0x21dbb4,_0x45c51c)):(this['beforeRemo'+'ve'](_0x5313a0,_0x21dbb4),this['remove'](_0x5313a0,_0x45c51c));}['updateTran'+'sform'](_0x47ed9d,_0x5555e2,_0x3f4357,_0xabc3e4){if(_0x47ed9d['shape']){const _0x493f88=_0x47ed9d['entity']['getWorldTr'+'ansform']()['getScale'](),_0xe682f1=_0x47ed9d['shape']['getLocalSc'+'aling']();(_0x493f88['x']!==_0xe682f1['x']()||_0x493f88['y']!==_0xe682f1['y']()||_0x493f88['z']!==_0xe682f1['z']())&&this['doRecreate'+'PhysicalSh'+'ape'](_0x47ed9d);}super['updateTran'+'sform'](_0x47ed9d,_0x5555e2,_0x3f4357,_0xabc3e4);}['destroySha'+'pe'](_0x3b9a56){if(!_0x3b9a56['shape'])return;const _0x2273e5=_0x3b9a56['shape']['getNumChil'+'dShapes']();for(let _0x1e557b=-0x1*0x2635+-0x5*0x12c+0x2c11;_0x1e557b<_0x2273e5;_0x1e557b++){const _0x69d1cb=_0x3b9a56['shape']['getChildSh'+'ape'](_0x1e557b);Ammo['destroy'](_0x69d1cb);}Ammo['destroy'](_0x3b9a56['shape']),_0x3b9a56['shape']=null;}}class aR extends Ca{['createPhys'+'icalShape'](_0x4f4d8c,_0x16f341){if(typeof Ammo<'u')return new Ammo['btCompound'+'Shape']();}['_addEachDe'+'scendant'](_0x196309){!_0x196309['collision']||_0x196309['rigidbody']||(_0x196309['collision']['_compoundP'+'arent']=this,_0x196309!==this['entity']&&_0x196309['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x196309['collision']));}['_updateEac'+'hDescendan'+'t'](_0x1d3235){_0x1d3235['collision']&&_0x1d3235['collision']['_compoundP'+'arent']===this&&(_0x1d3235['collision']['_compoundP'+'arent']=null,_0x1d3235!==this['entity']&&!_0x1d3235['rigidbody']&&_0x1d3235['collision']['system']['recreatePh'+'ysicalShap'+'es'](_0x1d3235['collision']));}['_updateEac'+'hDescendan'+'tTransform'](_0x3e0184){!_0x3e0184['collision']||_0x3e0184['collision']['_compoundP'+'arent']!==this['collision']['_compoundP'+'arent']||this['collision']['system']['updateComp'+'oundChildT'+'ransform'](_0x3e0184,!(0x238a+-0x12a4+-0x361*0x5));}}class nR extends ct{constructor(_0x14ef8f){super(_0x14ef8f),this['id']='collision',this['ComponentT'+'ype']=rn,this['DataType']=XL,this['schema']=QL,this['implementa'+'tions']={},this['_triMeshCa'+'che']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['on']('remove',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x57bd65,_0x5357f5,_0x3292bb){_0x3292bb=['type','halfExtent'+'s','radius','axis','height','convexHull','shape','model','asset','render','renderAsse'+'t','enabled','linearOffs'+'et','angularOff'+'set','checkVerte'+'xDuplicate'+'s'];const _0x46874e={};for(let _0x36e2f2=0x2*-0x34+0x634+-0x173*0x4,_0x102e60=_0x3292bb['length'];_0x36e2f2<_0x102e60;_0x36e2f2++){const _0x568dd3=_0x3292bb[_0x36e2f2];_0x46874e[_0x568dd3]=_0x5357f5[_0x568dd3];}let _0x1d4b24;if(_0x5357f5['hasOwnProp'+'erty']('asset')?(_0x1d4b24=_0x3292bb['indexOf']('model'),_0x1d4b24!==-(-0x1a30+-0x267+0x1c98)&&_0x3292bb['splice'](_0x1d4b24,-0x146e*-0x1+0x217f+-0x35ec),_0x1d4b24=_0x3292bb['indexOf']('render'),_0x1d4b24!==-(0x237c+0x1*0x157c+-0x38f7)&&_0x3292bb['splice'](_0x1d4b24,-0x2b1*0x5+-0x1951+-0x1*-0x26c7)):_0x5357f5['hasOwnProp'+'erty']('model')&&(_0x1d4b24=_0x3292bb['indexOf']('asset'),_0x1d4b24!==-(0x1*0x890+0x5*-0x707+-0x51*-0x54)&&_0x3292bb['splice'](_0x1d4b24,0x16ed+-0x40+-0x16ac)),_0x46874e['type']||(_0x46874e['type']=_0x57bd65['data']['type']),_0x57bd65['data']['type']=_0x46874e['type'],Array['isArray'](_0x46874e['halfExtent'+'s'])&&(_0x46874e['halfExtent'+'s']=new D(_0x46874e['halfExtent'+'s'])),Array['isArray'](_0x46874e['linearOffs'+'et'])&&(_0x46874e['linearOffs'+'et']=new D(_0x46874e['linearOffs'+'et'])),Array['isArray'](_0x46874e['angularOff'+'set'])){const _0x1d9acb=_0x46874e['angularOff'+'set'];_0x1d9acb['length']===0x1aa4+0x2*0x1276+0x13f*-0x33?_0x46874e['angularOff'+'set']=new le()['setFromEul'+'erAngles'](_0x1d9acb[0x2596+-0x19f+-0x23f7],_0x1d9acb[0x212e+-0x11cd+-0xf60],_0x1d9acb[-0x15*-0x81+-0x17*0xa7+0x46e]):_0x46874e['angularOff'+'set']=new le(_0x46874e['angularOff'+'set']);}const _0xe40761=this['_createImp'+'lementatio'+'n'](_0x46874e['type']);_0xe40761['beforeInit'+'ialize'](_0x57bd65,_0x46874e),super['initialize'+'ComponentD'+'ata'](_0x57bd65,_0x46874e,_0x3292bb),_0xe40761['afterIniti'+'alize'](_0x57bd65,_0x46874e);}['_createImp'+'lementatio'+'n'](_0x44e859){if(this['implementa'+'tions'][_0x44e859]===void(-0xaba+0x7*-0x11f+0x1293)){let _0x2e7ad5;switch(_0x44e859){case'box':_0x2e7ad5=new JL(this);break;case'sphere':_0x2e7ad5=new eR(this);break;case'capsule':_0x2e7ad5=new tR(this);break;case'cylinder':_0x2e7ad5=new sR(this);break;case'cone':_0x2e7ad5=new iR(this);break;case'mesh':_0x2e7ad5=new rR(this);break;case'compound':_0x2e7ad5=new aR(this);break;default:w['error']('_createImp'+'lementatio'+'n:\x20Invalid'+'\x20collision'+'\x20system\x20ty'+'pe:\x20'+_0x44e859);}this['implementa'+'tions'][_0x44e859]=_0x2e7ad5;}return this['implementa'+'tions'][_0x44e859];}['_getImplem'+'entation'](_0x503df1){return this['implementa'+'tions'][_0x503df1['collision']['data']['type']];}['cloneCompo'+'nent'](_0x5a66ff,_0x14f1f8){return this['_getImplem'+'entation'](_0x5a66ff)['clone'](_0x5a66ff,_0x14f1f8);}['onBeforeRe'+'move'](_0x2ae2ce,_0x434217){this['implementa'+'tions'][_0x434217['data']['type']]['beforeRemo'+'ve'](_0x2ae2ce,_0x434217),_0x434217['onBeforeRe'+'move']();}['onRemove'](_0x3aad2e,_0x2105a3){this['implementa'+'tions'][_0x2105a3['type']]['remove'](_0x3aad2e,_0x2105a3);}['updateComp'+'oundChildT'+'ransform'](_0x47a68c,_0x14aba6){const _0x594bf4=_0x47a68c['collision']['_compoundP'+'arent'];if(_0x594bf4!==_0x47a68c['collision']&&_0x47a68c['enabled']&&_0x47a68c['collision']['enabled']&&(_0x47a68c['_dirtyLoca'+'l']||_0x14aba6)){const _0x1394a6=this['_getNodeTr'+'ansform'](_0x47a68c,_0x594bf4['entity']),_0x5d8129=_0x594bf4['getCompoun'+'dChildShap'+'eIndex'](_0x47a68c['collision']['shape']);_0x5d8129===null?_0x594bf4['shape']['addChildSh'+'ape'](_0x1394a6,_0x47a68c['collision']['data']['shape']):_0x594bf4['shape']['updateChil'+'dTransform'](_0x5d8129,_0x1394a6,!(-0x6b5+0x1*0x1599+0x1*-0xee4)),Ammo['destroy'](_0x1394a6);}}['_removeCom'+'poundChild'](_0x2739a6,_0x13a010){if(_0x2739a6['shape']['getNumChil'+'dShapes']()!==0x1e7d*-0x1+0x28c+0x1bf1){if(_0x2739a6['shape']['removeChil'+'dShape'])_0x2739a6['shape']['removeChil'+'dShape'](_0x13a010);else{const _0x2c68f7=_0x2739a6['getCompoun'+'dChildShap'+'eIndex'](_0x13a010);_0x2c68f7!==null&&_0x2739a6['shape']['removeChil'+'dShapeByIn'+'dex'](_0x2c68f7);}}}['onTransfor'+'mChanged'](_0x1c1b10,_0x263d61,_0x5c329a,_0x388812){this['implementa'+'tions'][_0x1c1b10['data']['type']]['updateTran'+'sform'](_0x1c1b10,_0x263d61,_0x5c329a,_0x388812);}['changeType'](_0x549fae,_0x1f8de6,_0x2083ac){this['implementa'+'tions'][_0x1f8de6]['beforeRemo'+'ve'](_0x549fae['entity'],_0x549fae),this['implementa'+'tions'][_0x1f8de6]['remove'](_0x549fae['entity'],_0x549fae['data']),this['_createImp'+'lementatio'+'n'](_0x2083ac)['reset'](_0x549fae,_0x549fae['data']);}['recreatePh'+'ysicalShap'+'es'](_0x14cd9c){this['implementa'+'tions'][_0x14cd9c['data']['type']]['recreatePh'+'ysicalShap'+'es'](_0x14cd9c);}['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x401b6b,_0xf51588){if(_0x401b6b===_0xf51588){const _0x58b586=_0x401b6b['getWorldTr'+'ansform']()['getScale']();wc['setScale'](_0x58b586['x'],_0x58b586['y'],_0x58b586['z']);}else this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x401b6b['parent'],_0xf51588),wc['mul'](_0x401b6b['getLocalTr'+'ansform']());}['_getNodeSc'+'aling'](_0x3868a3){const _0x11b538=_0x3868a3['getWorldTr'+'ansform']()['getScale']();return new Ammo['btVector3'](_0x11b538['x'],_0x11b538['y'],_0x11b538['z']);}['_getNodeTr'+'ansform'](_0x5671cd,_0x3ff284){let _0x554eca,_0x43e428;_0x3ff284?(this['_calculate'+'NodeRelati'+'veTransfor'+'m'](_0x5671cd,_0x3ff284),_0x554eca=KL,_0x43e428=Vr,wc['getTransla'+'tion'](_0x554eca),_0x43e428['setFromMat'+'4'](wc)):(_0x554eca=_0x5671cd['getPositio'+'n'](),_0x43e428=_0x5671cd['getRotatio'+'n']());const _0x48720c=new Ammo['btQuaterni'+'on'](),_0x4cdf7d=new Ammo['btTransfor'+'m']();_0x4cdf7d['setIdentit'+'y']();const _0x2ad551=_0x4cdf7d['getOrigin'](),_0x1f9285=_0x5671cd['collision'];if(_0x1f9285&&_0x1f9285['_hasOffset']){const _0xbaaabc=_0x1f9285['data']['linearOffs'+'et'],_0x5545bb=_0x1f9285['data']['angularOff'+'set'],_0x1bced3=ZL;Vr['copy'](_0x43e428)['transformV'+'ector'](_0xbaaabc,_0x1bced3),_0x1bced3['add'](_0x554eca),Vr['copy'](_0x43e428)['mul'](_0x5545bb),_0x2ad551['setValue'](_0x1bced3['x'],_0x1bced3['y'],_0x1bced3['z']),_0x48720c['setValue'](Vr['x'],Vr['y'],Vr['z'],Vr['w']);}else _0x2ad551['setValue'](_0x554eca['x'],_0x554eca['y'],_0x554eca['z']),_0x48720c['setValue'](_0x43e428['x'],_0x43e428['y'],_0x43e428['z'],_0x43e428['w']);return _0x4cdf7d['setRotatio'+'n'](_0x48720c),Ammo['destroy'](_0x48720c),_0x4cdf7d;}['destroy'](){for(const _0x144c77 in this['_triMeshCa'+'che'])Ammo['destroy'](this['_triMeshCa'+'che'][_0x144c77]);this['_triMeshCa'+'che']=null,super['destroy']();}}const Ec=new ie(),oR=new Kt();class lR{constructor(_0x3e02cb,_0x563392,_0x552927){this['_entity']=_0x3e02cb,this['_element']=_0x3e02cb['element'],this['model']=new sr(),this['node']=new Ie(),this['model']['graph']=this['node'],this['mesh']=_0x563392,this['meshInstan'+'ce']=new He(this['mesh'],_0x552927,this['node']),this['meshInstan'+'ce']['name']='ImageEleme'+'nt:\x20'+_0x3e02cb['name'],this['meshInstan'+'ce']['castShadow']=!(0x25*-0x16+-0x1012+0x1341),this['meshInstan'+'ce']['receiveSha'+'dow']=!(-0xdc*0xd+0x4*0x4fc+-0x8c3),this['_meshDirty']=!(0x1*-0x19cb+-0x171*-0xe+0x59e),this['model']['meshInstan'+'ces']['push'](this['meshInstan'+'ce']),this['_entity']['addChild'](this['model']['graph']),this['model']['_entity']=this['_entity'],this['unmaskMesh'+'Instance']=null;}['destroy'](){var _0x43cd76,_0x5d03bd;this['setMateria'+'l'](null),this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),this['model']['destroy'](),this['model']=null,this['node']=null,this['mesh']=null,(_0x43cd76=this['meshInstan'+'ce'])==null||_0x43cd76['destroy'](),this['meshInstan'+'ce']=null,(_0x5d03bd=this['unmaskMesh'+'Instance'])==null||_0x5d03bd['destroy'](),this['unmaskMesh'+'Instance']=null,this['_entity']=null,this['_element']=null;}['setMesh'](_0x58c190){this['meshInstan'+'ce']&&(this['mesh']=_0x58c190,this['meshInstan'+'ce']['mesh']=_0x58c190,this['meshInstan'+'ce']['visible']=!!_0x58c190,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['mesh']=_0x58c190),this['forceUpdat'+'eAabb']());}['setMask'](_0x510a61){var _0x136041;if(this['meshInstan'+'ce']){if(this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['model']),_0x510a61){this['unmaskMesh'+'Instance']=new He(this['mesh'],this['meshInstan'+'ce']['material'],this['node']),this['unmaskMesh'+'Instance']['name']='Unmask:\x20'+this['_entity']['name'],this['unmaskMesh'+'Instance']['castShadow']=!(-0x2651+0x57*-0x3+-0x9*-0x45f),this['unmaskMesh'+'Instance']['receiveSha'+'dow']=!(0x1*-0x476+0x185b+-0x13e4),this['unmaskMesh'+'Instance']['pick']=!(-0xa09+0x1*0x14e7+-0xadd),this['model']['meshInstan'+'ces']['push'](this['unmaskMesh'+'Instance']);for(const _0x14f624 in this['meshInstan'+'ce']['parameters'])this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x14f624,this['meshInstan'+'ce']['parameters'][_0x14f624]['data']);}else{const _0x5e1c6b=this['model']['meshInstan'+'ces']['indexOf'](this['unmaskMesh'+'Instance']);_0x5e1c6b>=0x26f*-0x5+-0x11f+-0x17a*-0x9&&this['model']['meshInstan'+'ces']['splice'](_0x5e1c6b,0xd73+-0xc86+0x1*-0xec);}this['_entity']['enabled']&&this['_element']['enabled']&&this['_element']['addModelTo'+'Layers'](this['model']),_0x510a61||((_0x136041=this['unmaskMesh'+'Instance'])==null||_0x136041['destroy'](),this['unmaskMesh'+'Instance']=null);}}['setMateria'+'l'](_0x1a9507){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['material']=_0x1a9507,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['material']=_0x1a9507));}['setParamet'+'er'](_0x1e744f,_0x42073c){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['setParamet'+'er'](_0x1e744f,_0x42073c),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['setParamet'+'er'](_0x1e744f,_0x42073c));}['deletePara'+'meter'](_0x4b6bfb){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['deletePara'+'meter'](_0x4b6bfb),this['unmaskMesh'+'Instance']&&this['unmaskMesh'+'Instance']['deletePara'+'meter'](_0x4b6bfb));}['setUnmaskD'+'rawOrder'](){if(!this['meshInstan'+'ce'])return;const _0xaa9aa9=function(_0x2602d4){let _0xb119f2;const _0x466287=_0x2602d4['children'],_0x40ba56=_0x466287['length'];if(_0x40ba56){for(let _0x7832f6=-0x2b9*0xe+0xe*0xbe+-0x3f6*-0x7;_0x7832f6<_0x40ba56;_0x7832f6++)_0x466287[_0x7832f6]['element']&&(_0xb119f2=_0x466287[_0x7832f6]);if(!_0xb119f2)return null;const _0xf15159=_0xaa9aa9(_0xb119f2);return _0xf15159||_0xb119f2;}return null;};if(this['unmaskMesh'+'Instance']){const _0x377af1=_0xaa9aa9(this['_entity']);_0x377af1&&_0x377af1['element']?this['unmaskMesh'+'Instance']['drawOrder']=_0x377af1['element']['drawOrder']+_0x377af1['element']['getMaskOff'+'set']():this['unmaskMesh'+'Instance']['drawOrder']=this['meshInstan'+'ce']['drawOrder']+this['_element']['getMaskOff'+'set'](),w['trace'](Vs,'setDrawOrd'+'er:\x20',this['unmaskMesh'+'Instance']['name'],this['unmaskMesh'+'Instance']['drawOrder']);}}['setDrawOrd'+'er'](_0x4e3563){this['meshInstan'+'ce']&&(w['trace'](Vs,'setDrawOrd'+'er:\x20',this['meshInstan'+'ce']['name'],_0x4e3563),this['meshInstan'+'ce']['drawOrder']=_0x4e3563);}['setCull'](_0x5e5ac5){if(!this['meshInstan'+'ce'])return;const _0x47fe93=this['_element'];let _0x3bf465=null;_0x5e5ac5&&_0x47fe93['_isScreenS'+'pace']()&&(_0x3bf465=function(_0x1d0621){return _0x47fe93['isVisibleF'+'orCamera'](_0x1d0621);}),this['meshInstan'+'ce']['cull']=_0x5e5ac5,this['meshInstan'+'ce']['isVisibleF'+'unc']=_0x3bf465,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['cull']=_0x5e5ac5,this['unmaskMesh'+'Instance']['isVisibleF'+'unc']=_0x3bf465);}['setScreenS'+'pace'](_0x1c8ac2){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['screenSpac'+'e']=_0x1c8ac2,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['screenSpac'+'e']=_0x1c8ac2));}['setLayer'](_0x56f749){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['layer']=_0x56f749,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['layer']=_0x56f749));}['forceUpdat'+'eAabb'](_0xafdbf8){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_aabbVer']=-(0x53d*-0x5+-0x1e53+-0x7*-0x813),this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_aabbVer']=-(0x8ab+0x26*0x89+-0x1d00)));}['setAabbFun'+'c'](_0x1593a1){this['meshInstan'+'ce']&&(this['meshInstan'+'ce']['_updateAab'+'bFunc']=_0x1593a1,this['unmaskMesh'+'Instance']&&(this['unmaskMesh'+'Instance']['_updateAab'+'bFunc']=_0x1593a1));}}class cR{constructor(_0x5e5be0){h(this,'_evtSetMes'+'hes',null),(this['_element']=_0x5e5be0,this['_entity']=_0x5e5be0['entity'],this['_system']=_0x5e5be0['system'],this['_textureAs'+'set']=null,this['_texture']=null,this['_materialA'+'sset']=null,this['_material']=null,this['_spriteAss'+'et']=null,this['_sprite']=null,this['_spriteFra'+'me']=0xb*0x1+-0x2*-0x78a+-0x229*0x7,this['_pixelsPer'+'Unit']=null,this['_targetAsp'+'ectRatio']=-(0x1255+0x23cf*-0x1+0x117b),this['_rect']=new re(0x719+-0x1d51+-0x1da*-0xc,-0x5*0x404+0x1e2b+-0xa17,0x2668+-0x14cc+-0x119b,0xb*0x28b+0x123*-0x1b+0x2b9*0x1),this['_mask']=!(0x1e1f+-0x15be+0x218*-0x4),this['_maskRef']=0x1230+0x1fc*0x12+0x14*-0x2b2,this['_outerScal'+'e']=new J(),this['_outerScal'+'eUniform']=new Float32Array(0x19a3+-0xd13+-0x1*0xc8e),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(-0x71*-0x7+-0x9fc+0x6e9),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(0x17c4+-0x25ee+0xe2e),this['_defaultMe'+'sh']=this['_createMes'+'h'](),this['_renderabl'+'e']=new lR(this['_entity'],this['_defaultMe'+'sh'],this['_material']),this['_color']=new ie(-0x2*-0x1d2+-0xb2c+0x789,0x4*0x14f+-0x3*-0x3f+-0x4*0x17e,0x125e+-0x2*0x43f+-0x9df,-0x17c1+0x10c7+0x6fb*0x1),this['_colorUnif'+'orm']=new Float32Array([0x2*-0x89b+-0x138e+0x24c5*0x1,-0x43b*0x5+0x1*0x15cb+-0xa3,0x15*0x19c+-0xe*-0x2+-0x107*0x21]),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',0x14*0x26+0x9*0x411+0x4f2*-0x8),this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_onScreenC'+'hange'](this['_element']['screen']),this['_element']['on']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['on']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['on']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this));}['destroy'](){this['textureAss'+'et']=null,this['spriteAsse'+'t']=null,this['materialAs'+'set']=null,this['_renderabl'+'e']['setMesh'](this['_defaultMe'+'sh']),this['_renderabl'+'e']['destroy'](),this['_defaultMe'+'sh']=null,this['_element']['off']('resize',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('set:pivot',this['_onParentR'+'esizeOrPiv'+'otChange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('screen:set'+':resolutio'+'n',this['_onResolut'+'ionChange'],this);}['_onResolut'+'ionChange'](_0x387d62){}['_onParentR'+'esizeOrPiv'+'otChange'](){this['_renderabl'+'e']['mesh']&&this['_updateMes'+'h'](this['_renderabl'+'e']['mesh']);}['_onScreenS'+'paceChange'](_0x3fc889){this['_updateMat'+'erial'](_0x3fc889);}['_onScreenC'+'hange'](_0x3e334c,_0x3686e6){_0x3e334c?this['_updateMat'+'erial'](_0x3e334c['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(0x16*-0x1b9+-0x1*-0x12e+-0x229*-0x11));}['_onDrawOrd'+'erChange'](_0x1a3c84){this['_renderabl'+'e']['setDrawOrd'+'er'](_0x1a3c84),this['mask']&&this['_element']['screen']&&this['_element']['screen']['screen']['once']('syncdrawor'+'der',function(){this['_renderabl'+'e']['setUnmaskD'+'rawOrder']();},this);}['_hasUserMa'+'terial'](){return!!this['_materialA'+'sset']||!!this['_material']&&this['_system']['defaultIma'+'geMaterial'+'s']['indexOf'](this['_material'])===-(0x61*-0x1d+0xc07*0x2+-0xd10);}['_use9Slici'+'ng'](){return this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt);}['_updateMat'+'erial'](_0x396e14){const _0x4b6467=!!this['_mask'],_0x48ab13=!!(this['sprite']&&this['sprite']['renderMode']===Pt),_0xe262e5=!!(this['sprite']&&this['sprite']['renderMode']===Mt);this['_hasUserMa'+'terial']()||(this['_material']=this['_system']['getImageEl'+'ementMater'+'ial'](_0x396e14,_0x4b6467,_0x48ab13,_0xe262e5)),this['_renderabl'+'e']&&(this['_renderabl'+'e']['setCull'](!this['_element']['_isScreenS'+'pace']()||this['_element']['_isScreenC'+'ulled']()),this['_renderabl'+'e']['setMateria'+'l'](this['_material']),this['_renderabl'+'e']['setScreenS'+'pace'](_0x396e14),this['_renderabl'+'e']['setLayer'](_0x396e14?Ow:Ky));}['_createMes'+'h'](){const _0x23d280=this['_element'],_0x1bc844=_0x23d280['calculated'+'Width'],_0x322c71=_0x23d280['calculated'+'Height'],_0xad9fc3=this['_rect'],_0x26989e=this['_system']['app']['graphicsDe'+'vice'],_0xa7d0cb=new Float32Array([_0x1bc844,0x8*0x2c9+-0x5*0x5a1+-0x4f*-0x13,-0x15b5+-0x1af9*-0x1+0x4*-0x151,-0x83*-0xb+0x5*0x4a5+0x1*-0x1cda,0x12df*-0x2+0x924*-0x2+0x2*0x1c03,-0x2f9+-0x3*0xa47+0x21cf,_0xad9fc3['x']+_0xad9fc3['z'],0xc53*-0x1+-0x2588+0x31dc-_0xad9fc3['y'],_0x1bc844,_0x322c71,-0x236e*0x1+0x7d*0x2b+0xe6f,-0x83d+0x1*0x1ceb+-0x14ae,0x165a*-0x1+0x47b+-0x19*-0xb7,0x29a*-0x1+-0xced+0xf88,_0xad9fc3['x']+_0xad9fc3['z'],-0x26a9+0x1*-0x3fa+0x1*0x2aa4-(_0xad9fc3['y']+_0xad9fc3['w']),0xc06+-0x9*-0x2f4+0x44a*-0x9,0xf1e+-0x1acc+0xbae,-0x57c+0x5a7*0x5+-0x16c7,0x1a*-0x108+-0x1b7*-0x1+-0x1919*-0x1,-0x1f0d+0x4f*0x47+0x924,-0x839+0x83*-0x1c+0x168e,_0xad9fc3['x'],0xdb9+-0x13*0x89+-0x38d-_0xad9fc3['y'],0xd9d+-0x4*-0x4d2+-0x20e5,_0x322c71,0x210c+-0x163*-0x7+-0x2ac1,0xc28*0x2+-0x14ee+0x1b1*-0x2,0x1e5b*-0x1+-0xf4b+0x2da6,-0x2026+0x1ca4*-0x1+0xc5*0x4f,_0xad9fc3['x'],-0x691+-0x13+0x6a5-(_0xad9fc3['y']+_0xad9fc3['w'])]),_0xf7da43=oR['get'](_0x26989e,()=>new kt(_0x26989e,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':gs,'components':0x3,'type':Ve},{'semantic':is,'components':0x2,'type':Ve}])),_0x37395e=new Is(_0x26989e,_0xf7da43,-0xf*0x57+0xdf2+-0x8d5,{'data':_0xa7d0cb['buffer']}),_0x2beccb=new Ge(_0x26989e);return _0x2beccb['vertexBuff'+'er']=_0x37395e,_0x2beccb['primitive'][0x517+0xbff+-0x1116]['type']=Er,_0x2beccb['primitive'][-0x2090+-0x2311+0x43a1]['base']=0xd*0x2ad+0x5d8*0x5+-0x4001,_0x2beccb['primitive'][-0x30a*-0x1+-0x1de9+0x1adf]['count']=-0x86*0x8+-0x247b+-0x28af*-0x1,_0x2beccb['primitive'][-0x5ef+0x167d+-0x108e]['indexed']=!(0x1*-0x5c1+-0x224d+0x280f),_0x2beccb['aabb']['setMinMax'](D['ZERO'],new D(_0x1bc844,_0x322c71,0xd9f+0xbbe*0x3+-0x30d9)),this['_updateMes'+'h'](_0x2beccb),_0x2beccb;}['_updateMes'+'h'](_0x4d1870){const _0x5b9f9f=this['_element'];let _0x134eb3=_0x5b9f9f['calculated'+'Width'],_0x264033=_0x5b9f9f['calculated'+'Height'];if(_0x5b9f9f['fitMode']!==th&&this['_targetAsp'+'ectRatio']>0x71*-0x1+0x22a6+-0x2235){const _0x2f1c56=_0x5b9f9f['calculated'+'Width']/_0x5b9f9f['calculated'+'Height'];_0x5b9f9f['fitMode']===GL&&_0x2f1c56>this['_targetAsp'+'ectRatio']||_0x5b9f9f['fitMode']===HL&&_0x2f1c56<this['_targetAsp'+'ectRatio']?_0x134eb3=_0x5b9f9f['calculated'+'Height']*this['_targetAsp'+'ectRatio']:_0x264033=_0x5b9f9f['calculated'+'Width']/this['_targetAsp'+'ectRatio'];}const _0x23b1ef=_0x5b9f9f['_isScreenS'+'pace']();if(this['_updateMat'+'erial'](_0x23b1ef),this['_renderabl'+'e']&&this['_renderabl'+'e']['forceUpdat'+'eAabb'](),this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){const _0x436204=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]],_0x25c89e=(-0x266a+-0x20b*-0x6+0x1*0x1a2a)/_0x436204['rect']['z'],_0x1d09d7=(0x26ce+0x1ebb+-0x4587)/_0x436204['rect']['w'];this['_innerOffs'+'et']['set'](_0x436204['border']['x']*_0x25c89e,_0x436204['border']['y']*_0x1d09d7,_0x436204['border']['z']*_0x25c89e,_0x436204['border']['w']*_0x1d09d7);const _0x199118=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x436204['rect']['x']/_0x199118['width'],_0x436204['rect']['y']/_0x199118['height'],_0x436204['rect']['z']/_0x199118['width'],_0x436204['rect']['w']/_0x199118['height']);const _0x3056c2=this['_pixelsPer'+'Unit']!==null?this['_pixelsPer'+'Unit']:this['sprite']['pixelsPerU'+'nit'],_0x4cd0ad=_0x436204['rect']['z']/_0x3056c2,_0x55bfc2=_0x436204['rect']['w']/_0x3056c2;this['_outerScal'+'e']['set'](Math['max'](_0x134eb3,this['_innerOffs'+'et']['x']*_0x4cd0ad),Math['max'](_0x264033,this['_innerOffs'+'et']['y']*_0x55bfc2));let _0xd371a9=_0x4cd0ad,_0x5d895d=_0x55bfc2;this['_outerScal'+'e']['x']/=_0x4cd0ad,this['_outerScal'+'e']['y']/=_0x55bfc2,_0xd371a9*=Y['clamp'](_0x134eb3/(this['_innerOffs'+'et']['x']*_0x4cd0ad),0x1*-0x25f+0xdf7+0x1c*-0x6a+0.0001,0x66+-0x3*-0x6d3+0x14de*-0x1),_0x5d895d*=Y['clamp'](_0x264033/(this['_innerOffs'+'et']['y']*_0x55bfc2),-0x2b*-0x81+0x180a+-0x2db5+0.0001,0x529*0x7+-0x1ad*-0x1+-0x25cb),this['_renderabl'+'e']&&(this['_innerOffs'+'etUniform'][0x1447+-0x37b+0x1ae*-0xa]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x1c28+-0x2e*0x6c+-0x8bf]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][0x1566+-0x1a02*-0x1+0x2*-0x17b3]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x1f5c+-0x17d0+0x1*-0x789]=this['_innerOffs'+'et']['w'],this['_renderabl'+'e']['setParamet'+'er']('innerOffse'+'t',this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x1972*-0x1+-0x1*-0xe17+-0x2789]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x11a4+-0x25*0x7d+0x23b6]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][-0x3d0+0x2c1+0x111]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][0x31c*0x4+0x73*-0x6+0x1*-0x9bb]=this['_atlasRect']['w'],this['_renderabl'+'e']['setParamet'+'er']('atlasRect',this['_atlasRect'+'Uniform']),this['_outerScal'+'eUniform'][0x1f1+0x219c+-0x238d]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][-0x6*-0x529+0x1c6f*0x1+-0xe*0x43e]=this['_outerScal'+'e']['y'],this['_renderabl'+'e']['setParamet'+'er']('outerScale',this['_outerScal'+'eUniform']),this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']),this['_renderabl'+'e']['node']['setLocalSc'+'ale'](_0xd371a9,_0x5d895d,0x2435+0x2086+-0x44ba),this['_renderabl'+'e']['node']['setLocalPo'+'sition']((-0x3a*0xa6+0x3d*-0x47+0x3687+0.5-_0x5b9f9f['pivot']['x'])*_0x134eb3,(-0x1cdc+-0x4*0x19d+0x2350+0.5-_0x5b9f9f['pivot']['y'])*_0x264033,-0x4*-0x87e+0x37e+-0x46*0x89));}else{const _0x5d78ed=_0x4d1870['vertexBuff'+'er'],_0x2550df=new Float32Array(_0x5d78ed['lock']()),_0x5019a4=_0x5b9f9f['pivot']['x'],_0x24fc66=_0x5b9f9f['pivot']['y'];_0x2550df[-0x5e9+-0x61*0xb+-0x6*-0x1ae]=_0x134eb3-_0x5019a4*_0x134eb3,_0x2550df[-0x4*0x858+-0x259c+-0x1*-0x46fd]=-0x425*0x2+-0x157d+0x3f*0x79-_0x24fc66*_0x264033,_0x2550df[0x58a*0x3+-0xd18+-0x3*0x12a]=_0x134eb3-_0x5019a4*_0x134eb3,_0x2550df[0x150*-0x1b+-0x19b1*-0x1+0x8*0x139]=_0x264033-_0x24fc66*_0x264033,_0x2550df[-0x5a0+0x1fbe+-0x1a0e]=-0x651+-0xb1*0x26+0xadd*0x3-_0x5019a4*_0x134eb3,_0x2550df[-0x3*0x8a1+0x1a9+0x184b]=-0x254f+0x6ac*-0x2+0x1*0x32a7-_0x24fc66*_0x264033,_0x2550df[-0x1390+-0x8*0x4d7+0x3a60]=0x1c68+0x1393*-0x1+0x7*-0x143-_0x5019a4*_0x134eb3,_0x2550df[0x57a*0x2+0x2e3*0x8+-0x21f3]=_0x264033-_0x24fc66*_0x264033;let _0x2b366d=-0x1058+0x1*-0x1b27+-0x3a0*-0xc,_0xf50d=-0x2471+0x7*0x585+0x33*-0xb,_0x2a9fd7=this['_rect'];if(this['_sprite']&&this['_sprite']['frameKeys'][this['_spriteFra'+'me']]&&this['_sprite']['atlas']){const _0x2dfe67=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];_0x2dfe67&&(_0x2a9fd7=_0x2dfe67['rect'],_0x2b366d=this['_sprite']['atlas']['texture']['width'],_0xf50d=this['_sprite']['atlas']['texture']['height']);}_0x2550df[-0x72a*0x4+0x2*0x469+0x13dc]=(_0x2a9fd7['x']+_0x2a9fd7['z'])/_0x2b366d,_0x2550df[0xb63+0x9*-0xcb+-0x439]=0x13*0x119+-0x25ac+0x10d2-_0x2a9fd7['y']/_0xf50d,_0x2550df[-0xd3f*0x1+-0x23b3+0x310*0x10]=(_0x2a9fd7['x']+_0x2a9fd7['z'])/_0x2b366d,_0x2550df[-0x2151+0x455+-0x1d0b*-0x1]=0x1*-0x962+0x1*0x18ed+-0xf8a-(_0x2a9fd7['y']+_0x2a9fd7['w'])/_0xf50d,_0x2550df[0x1267+0x4*-0x821+0xe33]=_0x2a9fd7['x']/_0x2b366d,_0x2550df[0xc49+-0x1d*0x13d+0x1d3*0xd]=0x1fd6+0x27c+-0x2251-_0x2a9fd7['y']/_0xf50d,_0x2550df[-0x751*-0x1+-0x4*0xf3+-0x367*0x1]=_0x2a9fd7['x']/_0x2b366d,_0x2550df[0xb51+-0x195d*-0x1+-0x248f]=-0xa89+-0x270f+0x3199-(_0x2a9fd7['y']+_0x2a9fd7['w'])/_0xf50d,_0x5d78ed['unlock']();const _0x553bbd=new D(0x601*-0x2+-0x47f*0x8+0x8a*0x59-_0x5019a4*_0x134eb3,-0x1fdf*-0x1+-0xfeb+-0xff4-_0x24fc66*_0x264033,0x167*-0x3+-0x3*0x89+-0xf8*-0x6),_0xc8d45e=new D(_0x134eb3-_0x5019a4*_0x134eb3,_0x264033-_0x24fc66*_0x264033,0x24fb+-0x1494+-0x1067);_0x4d1870['aabb']['setMinMax'](_0x553bbd,_0xc8d45e),this['_renderabl'+'e']&&(this['_renderabl'+'e']['node']['setLocalSc'+'ale'](-0x21*-0x1b+-0x1c7*0xd+0x13a1,0xab0+-0x1b9d*-0x1+-0x264c,-0x1*0x26f5+-0x23e8+0x4ade),this['_renderabl'+'e']['node']['setLocalPo'+'sition'](-0x102*0x19+0x233e+-0xa0c*0x1,0x1*-0xc4b+0xa27*-0x2+-0x2099*-0x1,-0xb5e+-0x22*0x89+0x2c*0xac),this['_renderabl'+'e']['setAabbFun'+'c'](null));}this['_meshDirty']=!(0x32*-0x9d+0x1*-0x221+0x1066*0x2);}['_updateSpr'+'ite'](){let _0x4294bb=!(0xb*-0x297+-0x16f2+0x3370),_0x22d9be=null;if(this['_targetAsp'+'ectRatio']=-(0xc69+0x1a55+-0x26bd),this['_sprite']&&this['_sprite']['atlas']){_0x22d9be=this['_sprite']['meshes'][this['spriteFram'+'e']],_0x4294bb=this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt;const _0x2f6125=this['_sprite']['atlas']['frames'][this['_sprite']['frameKeys'][this['_spriteFra'+'me']]];(_0x2f6125==null?void(0x1*-0x19e2+-0xbce+0x25b0):_0x2f6125['rect']['w'])>-0x47*-0x58+0x1*-0x2039+-0x57*-0x17&&(this['_targetAsp'+'ectRatio']=_0x2f6125['rect']['z']/_0x2f6125['rect']['w']);}this['mesh']=_0x4294bb?_0x22d9be:this['_defaultMe'+'sh'],this['refreshMes'+'h']();}['refreshMes'+'h'](){this['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(0x5f8+-0xcb4+0x6bc):this['_updateMes'+'h'](this['mesh']));}['_updateAab'+'b'](_0x1b2d27){return _0x1b2d27['center']['set'](-0x2565+0x1*-0x1d27+0x10a3*0x4,0x1110+-0x287*-0x7+-0x22c1,-0x3*-0x989+-0x2358+0x6bd),_0x1b2d27['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(-0xd4*0x3+-0x1d3c*0x1+0x28*0xcb+0.5),this['_outerScal'+'e']['y']*(0x10fa+0x26f3+-0x37ed+0.5),-0x1258*0x1+-0x9f1*0x1+0x1c49+0.001),_0x1b2d27['setFromTra'+'nsformedAa'+'bb'](_0x1b2d27,this['_renderabl'+'e']['node']['getWorldTr'+'ansform']()),_0x1b2d27;}['_toggleMas'+'k'](){this['_element']['_dirtifyMa'+'sk']();const _0xe9da2d=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0xe9da2d),this['_renderabl'+'e']['setMask'](!!this['_mask']);}['_onMateria'+'lLoad'](_0x4bdcb2){this['material']=_0x4bdcb2['resource'];}['_onMateria'+'lAdded'](_0x59fc69){this['_system']['app']['assets']['off']('add:'+_0x59fc69['id'],this['_onMateria'+'lAdded'],this),this['_materialA'+'sset']===_0x59fc69['id']&&this['_bindMater'+'ialAsset'](_0x59fc69);}['_bindMater'+'ialAsset'](_0x33daf2){this['_entity']['enabled']&&(_0x33daf2['on']('load',this['_onMateria'+'lLoad'],this),_0x33daf2['on']('change',this['_onMateria'+'lChange'],this),_0x33daf2['on']('remove',this['_onMateria'+'lRemove'],this),_0x33daf2['resource']?this['_onMateria'+'lLoad'](_0x33daf2):this['_system']['app']['assets']['load'](_0x33daf2));}['_unbindMat'+'erialAsset'](_0x49d8a4){_0x49d8a4['off']('load',this['_onMateria'+'lLoad'],this),_0x49d8a4['off']('change',this['_onMateria'+'lChange'],this),_0x49d8a4['off']('remove',this['_onMateria'+'lRemove'],this);}['_onMateria'+'lChange'](){}['_onMateria'+'lRemove'](){}['_onTexture'+'Added'](_0x59af2f){this['_system']['app']['assets']['off']('add:'+_0x59af2f['id'],this['_onTexture'+'Added'],this),this['_textureAs'+'set']===_0x59af2f['id']&&this['_bindTextu'+'reAsset'](_0x59af2f);}['_bindTextu'+'reAsset'](_0x516c6b){this['_entity']['enabled']&&(_0x516c6b['on']('load',this['_onTexture'+'Load'],this),_0x516c6b['on']('change',this['_onTexture'+'Change'],this),_0x516c6b['on']('remove',this['_onTexture'+'Remove'],this),_0x516c6b['resource']?this['_onTexture'+'Load'](_0x516c6b):this['_system']['app']['assets']['load'](_0x516c6b));}['_unbindTex'+'tureAsset'](_0x3c9d2d){_0x3c9d2d['off']('load',this['_onTexture'+'Load'],this),_0x3c9d2d['off']('change',this['_onTexture'+'Change'],this),_0x3c9d2d['off']('remove',this['_onTexture'+'Remove'],this);}['_onTexture'+'Load'](_0x1b0bbd){this['texture']=_0x1b0bbd['resource'];}['_onTexture'+'Change'](_0x1b503d){}['_onTexture'+'Remove'](_0x2a9b69){}['_onSpriteA'+'ssetAdded'](_0x480975){this['_system']['app']['assets']['off']('add:'+_0x480975['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x480975['id']&&this['_bindSprit'+'eAsset'](_0x480975);}['_bindSprit'+'eAsset'](_0x413532){this['_entity']['enabled']&&(_0x413532['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x413532['on']('change',this['_onSpriteA'+'ssetChange'],this),_0x413532['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x413532['resource']?this['_onSpriteA'+'ssetLoad'](_0x413532):this['_system']['app']['assets']['load'](_0x413532));}['_unbindSpr'+'iteAsset'](_0x4c4f1c){_0x4c4f1c['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x4c4f1c['off']('change',this['_onSpriteA'+'ssetChange'],this),_0x4c4f1c['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x4c4f1c['data']['textureAtl'+'asAsset']&&this['_system']['app']['assets']['off']('load:'+_0x4c4f1c['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this);}['_onSpriteA'+'ssetLoad'](_0x186a10){if(!_0x186a10||!_0x186a10['resource'])this['sprite']=null;else{if(_0x186a10['resource']['atlas'])this['sprite']=_0x186a10['resource'];else{const _0x574a04=_0x186a10['data']['textureAtl'+'asAsset'];if(_0x574a04){const _0x100cb3=this['_system']['app']['assets'];_0x100cb3['off']('load:'+_0x574a04,this['_onTexture'+'AtlasLoad'],this),_0x100cb3['once']('load:'+_0x574a04,this['_onTexture'+'AtlasLoad'],this);}}}}['_onSpriteA'+'ssetChange'](_0x46ee12){this['_onSpriteA'+'ssetLoad'](_0x46ee12);}['_onSpriteA'+'ssetRemove'](_0xbcc8e2){}['_bindSprit'+'e'](_0xfc0578){this['_evtSetMes'+'hes']=_0xfc0578['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),_0xfc0578['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0xfc0578['on']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0xfc0578['atlas']&&_0xfc0578['atlas']['on']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_unbindSpr'+'ite'](_0x1b1934){var _0x5b30d4;(_0x5b30d4=this['_evtSetMes'+'hes'])==null||_0x5b30d4['off'](),this['_evtSetMes'+'hes']=null,_0x1b1934['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChange'],this),_0x1b1934['off']('set:atlas',this['_onAtlasTe'+'xtureChang'+'e'],this),_0x1b1934['atlas']&&_0x1b1934['atlas']['off']('set:textur'+'e',this['_onAtlasTe'+'xtureChang'+'e'],this);}['_onSpriteM'+'eshesChang'+'e'](){this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],0x134f*-0x1+0x232f*0x1+-0xfe0,this['_sprite']['frameKeys']['length']-(-0x342+0x1dfb+-0x1ab8))),this['_updateSpr'+'ite']();}['_onSpriteP'+'puChange'](){this['sprite']['renderMode']!==ci&&this['_pixelsPer'+'Unit']===null&&this['_updateSpr'+'ite']();}['_onAtlasTe'+'xtureChang'+'e'](){this['sprite']&&this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'));}['_onTexture'+'AtlasLoad'](_0x16ce9e){const _0x4ccbb5=this['_spriteAss'+'et'];_0x4ccbb5 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x4ccbb5):this['_onSpriteA'+'ssetLoad'](this['_system']['app']['assets']['get'](_0x4ccbb5));}['onEnable'](){if(this['_materialA'+'sset']){const _0x5ec14c=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);_0x5ec14c&&_0x5ec14c['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x5ec14c);}if(this['_textureAs'+'set']){const _0x2d4257=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x2d4257&&_0x2d4257['resource']!==this['_texture']&&this['_bindTextu'+'reAsset'](_0x2d4257);}if(this['_spriteAss'+'et']){const _0x587ede=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x587ede&&_0x587ede['resource']!==this['_sprite']&&this['_bindSprit'+'eAsset'](_0x587ede);}this['_element']['addModelTo'+'Layers'](this['_renderabl'+'e']['model']);}['onDisable'](){this['_element']['removeMode'+'lFromLayer'+'s'](this['_renderabl'+'e']['model']);}['_setStenci'+'l'](_0x542970){this['_renderabl'+'e']['meshInstan'+'ce']['stencilFro'+'nt']=_0x542970,this['_renderabl'+'e']['meshInstan'+'ce']['stencilBac'+'k']=_0x542970;let _0x4ebe27=0x1dcc+0x11d6+-0x2*0x17d1;if(this['_element']['maskedBy']&&(_0x4ebe27=this['_element']['maskedBy']['element']['_image']['_maskRef']),this['_renderabl'+'e']['unmaskMesh'+'Instance']){const _0xda9ff7=new pi({'ref':_0x4ebe27+(-0xe3d*-0x1+-0xa62+-0x3da*0x1),'func':dh,'zpass':Bx});this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilFro'+'nt']=_0xda9ff7,this['_renderabl'+'e']['unmaskMesh'+'Instance']['stencilBac'+'k']=_0xda9ff7;}}['_updateRen'+'derableEmi'+'ssive'](){Ec['linear'](this['_color']),this['_colorUnif'+'orm'][-0x23f3+0x126c+0x1187]=Ec['r'],this['_colorUnif'+'orm'][-0x5*-0x59d+0x57*-0x9+-0x1901]=Ec['g'],this['_colorUnif'+'orm'][0x2062+-0x1779+-0x8e7]=Ec['b'],this['_renderabl'+'e']['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}set['color'](_0x52eb00){this['_color']===_0x52eb00&&w['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t');const {r:_0x11b27e,g:_0x339fe5,b:_0xaaef03}=_0x52eb00;(this['_color']['r']!==_0x11b27e||this['_color']['g']!==_0x339fe5||this['_color']['b']!==_0xaaef03)&&(this['_color']['r']=_0x11b27e,this['_color']['g']=_0x339fe5,this['_color']['b']=_0xaaef03,this['_updateRen'+'derableEmi'+'ssive']()),this['_element']&&this['_element']['fire']('set:color',this['_color']);}get['color'](){return this['_color'];}set['opacity'](_0x59a48e){_0x59a48e!==this['_color']['a']&&(this['_color']['a']=_0x59a48e,this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',_0x59a48e)),this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x59a48e);}get['opacity'](){return this['_color']['a'];}set['rect'](_0x265202){this['_rect']===_0x265202&&console['warn']('Setting\x20el'+'ement.rect'+'\x20to\x20itself'+'\x20will\x20have'+'\x20no\x20effect');let _0x4b6ee2,_0x44e339,_0x3dad22,_0x3e11fe;_0x265202 instanceof re?(_0x4b6ee2=_0x265202['x'],_0x44e339=_0x265202['y'],_0x3dad22=_0x265202['z'],_0x3e11fe=_0x265202['w']):(_0x4b6ee2=_0x265202[0x1*0x238f+-0x23*-0xa4+-0x39fb],_0x44e339=_0x265202[-0x18c9+-0x1039*0x1+0x2903],_0x3dad22=_0x265202[0x2423+0x1*-0x64d+-0x2e*0xa6],_0x3e11fe=_0x265202[0x2648+-0x2*-0xe35+-0x42af]),!(_0x4b6ee2===this['_rect']['x']&&_0x44e339===this['_rect']['y']&&_0x3dad22===this['_rect']['z']&&_0x3e11fe===this['_rect']['w'])&&(this['_rect']['set'](_0x4b6ee2,_0x44e339,_0x3dad22,_0x3e11fe),this['_renderabl'+'e']['mesh']&&(this['_element']['_beingInit'+'ialized']?this['_meshDirty']=!(-0x175b+0x526+0x1235):this['_updateMes'+'h'](this['_renderabl'+'e']['mesh'])));}get['rect'](){return this['_rect'];}['_removeMat'+'erialAsset'+'Events'](){if(this['_materialA'+'sset']){const _0x543cdf=this['_system']['app']['assets'];_0x543cdf['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this);const _0x22ecd3=_0x543cdf['get'](this['_materialA'+'sset']);_0x22ecd3&&(_0x22ecd3['off']('load',this['_onMateria'+'lLoad'],this),_0x22ecd3['off']('change',this['_onMateria'+'lChange'],this),_0x22ecd3['off']('remove',this['_onMateria'+'lRemove'],this));}}set['material'](_0x5681ea){if(this['_material']!==_0x5681ea){if(!_0x5681ea){const _0x3a5bc3=this['_element']['_isScreenS'+'pace']();this['mask']?_0x5681ea=_0x3a5bc3?this['_system']['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']:this['_system']['defaultIma'+'geMaskMate'+'rial']:_0x5681ea=_0x3a5bc3?this['_system']['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']:this['_system']['defaultIma'+'geMaterial'];}if(this['_material']=_0x5681ea,this['_materialA'+'sset']){const _0x4804ab=this['_system']['app']['assets']['get'](this['_materialA'+'sset']);(!_0x4804ab||_0x4804ab['resource']!==_0x5681ea)&&(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=null);}_0x5681ea&&(this['_renderabl'+'e']['setMateria'+'l'](_0x5681ea),this['_hasUserMa'+'terial']()?(this['_renderabl'+'e']['deletePara'+'meter']('material_o'+'pacity'),this['_renderabl'+'e']['deletePara'+'meter']('material_e'+'missive')):(this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a'])));}}get['material'](){return this['_material'];}set['materialAs'+'set'](_0x4b3050){const _0x31c663=this['_system']['app']['assets'];let _0x3dc8a3=_0x4b3050;if(_0x4b3050 instanceof pe&&(_0x3dc8a3=_0x4b3050['id']),this['_materialA'+'sset']!==_0x3dc8a3){if(this['_removeMat'+'erialAsset'+'Events'](),this['_materialA'+'sset']=_0x3dc8a3,this['_materialA'+'sset']){const _0x2d2748=_0x31c663['get'](this['_materialA'+'sset']);_0x2d2748?this['_bindMater'+'ialAsset'](_0x2d2748):(this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x3dc8a3,_0x31c663['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAdded'],this));}else this['_materialA'+'sset']=null,this['material']=null,this['_materialA'+'sset']=_0x3dc8a3;}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['texture'](_0xc12374){if(this['_texture']!==_0xc12374){if(this['_textureAs'+'set']){const _0x5f3ea4=this['_system']['app']['assets']['get'](this['_textureAs'+'set']);_0x5f3ea4&&_0x5f3ea4['resource']!==_0xc12374&&(this['textureAss'+'et']=null);}if(this['_texture']=_0xc12374,_0xc12374){this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null),this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_texture']),this['_updateRen'+'derableEmi'+'ssive'](),this['_renderabl'+'e']['setParamet'+'er']('material_o'+'pacity',this['_color']['a']);const _0x557a2b=this['_texture']['width']/this['_texture']['height'];_0x557a2b!==this['_targetAsp'+'ectRatio']&&(this['_targetAsp'+'ectRatio']=_0x557a2b,this['_element']['fitMode']!==th&&this['refreshMes'+'h']());}else this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap'),this['_targetAsp'+'ectRatio']=-(-0x1e3d*0x1+-0x2003+-0x1*-0x3e41),this['_element']['fitMode']!==th&&this['refreshMes'+'h']();}}get['texture'](){return this['_texture'];}set['textureAss'+'et'](_0x9a0dbd){const _0x322429=this['_system']['app']['assets'];let _0x867e47=_0x9a0dbd;if(_0x9a0dbd instanceof pe&&(_0x867e47=_0x9a0dbd['id']),this['_textureAs'+'set']!==_0x867e47){if(this['_textureAs'+'set']){_0x322429['off']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this);const _0x2985f4=_0x322429['get'](this['_textureAs'+'set']);_0x2985f4&&(_0x2985f4['off']('load',this['_onTexture'+'Load'],this),_0x2985f4['off']('change',this['_onTexture'+'Change'],this),_0x2985f4['off']('remove',this['_onTexture'+'Remove'],this));}if(this['_textureAs'+'set']=_0x867e47,this['_textureAs'+'set']){const _0x4017c9=_0x322429['get'](this['_textureAs'+'set']);_0x4017c9?this['_bindTextu'+'reAsset'](_0x4017c9):(this['texture']=null,_0x322429['on']('add:'+this['_textureAs'+'set'],this['_onTexture'+'Added'],this));}else this['texture']=null;}}get['textureAss'+'et'](){return this['_textureAs'+'set'];}set['spriteAsse'+'t'](_0x129bbc){const _0x59fa21=this['_system']['app']['assets'];let _0x2987a8=_0x129bbc;if(_0x129bbc instanceof pe&&(_0x2987a8=_0x129bbc['id']),this['_spriteAss'+'et']!==_0x2987a8){if(this['_spriteAss'+'et']){_0x59fa21['off']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this);const _0x25f093=_0x59fa21['get'](this['_spriteAss'+'et']);_0x25f093&&this['_unbindSpr'+'iteAsset'](_0x25f093);}if(this['_spriteAss'+'et']=_0x2987a8,this['_spriteAss'+'et']){const _0x19cda7=_0x59fa21['get'](this['_spriteAss'+'et']);_0x19cda7?this['_bindSprit'+'eAsset'](_0x19cda7):(this['sprite']=null,_0x59fa21['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}this['_element']&&this['_element']['fire']('set:sprite'+'Asset',_0x2987a8);}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['sprite'](_0x5f32cf){if(this['_sprite']!==_0x5f32cf){if(this['_sprite']&&this['_unbindSpr'+'ite'](this['_sprite']),this['_spriteAss'+'et']){const _0x3713ce=this['_system']['app']['assets']['get'](this['_spriteAss'+'et']);_0x3713ce&&_0x3713ce['resource']!==_0x5f32cf&&(this['spriteAsse'+'t']=null);}this['_sprite']=_0x5f32cf,this['_sprite']&&(this['_bindSprit'+'e'](this['_sprite']),this['_textureAs'+'set']&&(this['textureAss'+'et']=null)),this['_sprite']&&this['_sprite']['atlas']&&this['_sprite']['atlas']['texture']?(this['_renderabl'+'e']['setParamet'+'er']('texture_em'+'issiveMap',this['_sprite']['atlas']['texture']),this['_renderabl'+'e']['setParamet'+'er']('texture_op'+'acityMap',this['_sprite']['atlas']['texture'])):(this['_renderabl'+'e']['deletePara'+'meter']('texture_em'+'issiveMap'),this['_renderabl'+'e']['deletePara'+'meter']('texture_op'+'acityMap')),this['_sprite']&&(this['_spriteFra'+'me']=Y['clamp'](this['_spriteFra'+'me'],-0xc2f*-0x3+-0x1ee2+-0x5ab,this['_sprite']['frameKeys']['length']-(-0x13a8+-0x15c+0x1*0x1505))),this['_updateSpr'+'ite']();}}get['sprite'](){return this['_sprite'];}set['spriteFram'+'e'](_0x42fdff){const _0x7a62a3=this['_spriteFra'+'me'];this['_sprite']?this['_spriteFra'+'me']=Y['clamp'](_0x42fdff,0x155+-0x14f0+0x139b*0x1,this['_sprite']['frameKeys']['length']-(0xb*-0x17b+-0x48a*-0x6+0x6*-0x1d3)):this['_spriteFra'+'me']=_0x42fdff,this['_spriteFra'+'me']!==_0x7a62a3&&this['_updateSpr'+'ite'](),this['_element']&&this['_element']['fire']('set:sprite'+'Frame',_0x42fdff);}get['spriteFram'+'e'](){return this['_spriteFra'+'me'];}set['mesh'](_0x3b7d5f){this['_renderabl'+'e']['setMesh'](_0x3b7d5f),this['_defaultMe'+'sh']===_0x3b7d5f?this['_renderabl'+'e']['setAabbFun'+'c'](null):this['_renderabl'+'e']['setAabbFun'+'c'](this['_updateAab'+'bFunc']);}get['mesh'](){return this['_renderabl'+'e']['mesh'];}set['mask'](_0x50e7c1){this['_mask']!==_0x50e7c1&&(this['_mask']=_0x50e7c1,this['_toggleMas'+'k']());}get['mask'](){return this['_mask'];}set['pixelsPerU'+'nit'](_0x4d35f7){this['_pixelsPer'+'Unit']!==_0x4d35f7&&(this['_pixelsPer'+'Unit']=_0x4d35f7,this['_sprite']&&(this['_sprite']['renderMode']===Pt||this['_sprite']['renderMode']===Mt)&&this['_updateSpr'+'ite']());}get['pixelsPerU'+'nit'](){return this['_pixelsPer'+'Unit'];}get['aabb'](){return this['_renderabl'+'e']['meshInstan'+'ce']?this['_renderabl'+'e']['meshInstan'+'ce']['aabb']:null;}}class hR extends me{constructor(_0x51fafd){super(),this['_app']=_0x51fafd,_0x51fafd['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['_autoLoad']=!(0x18+-0x9d*-0x1+0x9*-0x14),this['_disableLo'+'calization']=!(0x419*0x9+-0x1867+-0xc79),this['_defaultAs'+'set']=null,this['_localized'+'Asset']=null;}set['defaultAss'+'et'](_0x10af57){const _0x26628e=_0x10af57 instanceof pe?_0x10af57['id']:_0x10af57;this['_defaultAs'+'set']!==_0x26628e&&(this['_defaultAs'+'set']&&this['_unbindDef'+'aultAsset'](),this['_defaultAs'+'set']=_0x26628e,this['_defaultAs'+'set']&&this['_bindDefau'+'ltAsset'](),this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['defaultAss'+'et'](){return this['_defaultAs'+'set'];}set['localizedA'+'sset'](_0x4fdb38){const _0xb45777=_0x4fdb38 instanceof pe?_0x4fdb38['id']:_0x4fdb38;this['_localized'+'Asset']!==_0xb45777&&(this['_localized'+'Asset']&&(this['_app']['assets']['off']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this),this['_unbindLoc'+'alizedAsse'+'t']()),this['_localized'+'Asset']=_0xb45777,this['_localized'+'Asset']&&(this['_app']['assets']['get'](this['_localized'+'Asset'])?this['_bindLocal'+'izedAsset']():this['_app']['assets']['once']('add:'+this['_localized'+'Asset'],this['_onLocaliz'+'edAssetAdd'],this)));}get['localizedA'+'sset'](){return this['_localized'+'Asset'];}set['autoLoad'](_0x25f916){this['_autoLoad']!==_0x25f916&&(this['_autoLoad']=_0x25f916,this['_autoLoad']&&this['_localized'+'Asset']&&(this['_unbindLoc'+'alizedAsse'+'t'](),this['_bindLocal'+'izedAsset']()));}get['autoLoad'](){return this['_autoLoad'];}set['disableLoc'+'alization'](_0x1cab13){this['_disableLo'+'calization']!==_0x1cab13&&(this['_disableLo'+'calization']=_0x1cab13,this['_onSetLoca'+'le'](this['_app']['i18n']['locale']));}get['disableLoc'+'alization'](){return this['_disableLo'+'calization'];}['_bindDefau'+'ltAsset'](){const _0x4ab3aa=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x4ab3aa?this['_onDefault'+'AssetAdd'](_0x4ab3aa):this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);}['_unbindDef'+'aultAsset'](){if(!this['_defaultAs'+'set'])return;this['_app']['assets']['off']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this);const _0x33e714=this['_app']['assets']['get'](this['_defaultAs'+'set']);_0x33e714&&(_0x33e714['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x33e714['off']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x33e714['off']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetAdd'](_0x12ec45){this['_defaultAs'+'set']===_0x12ec45['id']&&(_0x12ec45['on']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x12ec45['on']('remove:loc'+'alized',this['_onLocaleR'+'emove'],this),_0x12ec45['once']('remove',this['_onDefault'+'AssetRemov'+'e'],this));}['_onDefault'+'AssetRemov'+'e'](_0x4cc559){this['_defaultAs'+'set']===_0x4cc559['id']&&(_0x4cc559['off']('add:locali'+'zed',this['_onLocaleA'+'dd'],this),_0x4cc559['off']('remove:loc'+'alized',this['_onLocaleA'+'dd'],this),this['_app']['assets']['once']('add:'+this['_defaultAs'+'set'],this['_onDefault'+'AssetAdd'],this));}['_bindLocal'+'izedAsset'](){if(!this['_autoLoad'])return;const _0x3266b1=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x3266b1&&(_0x3266b1['on']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x3266b1['on']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x3266b1['on']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this),_0x3266b1['resource']?this['_onLocaliz'+'edAssetLoa'+'d'](_0x3266b1):this['_app']['assets']['load'](_0x3266b1));}['_unbindLoc'+'alizedAsse'+'t'](){const _0x4a5397=this['_app']['assets']['get'](this['_localized'+'Asset']);_0x4a5397&&(_0x4a5397['off']('load',this['_onLocaliz'+'edAssetLoa'+'d'],this),_0x4a5397['off']('change',this['_onLocaliz'+'edAssetCha'+'nge'],this),_0x4a5397['off']('remove',this['_onLocaliz'+'edAssetRem'+'ove'],this));}['_onLocaliz'+'edAssetAdd'](_0x57d6a5){this['_localized'+'Asset']===_0x57d6a5['id']&&this['_bindLocal'+'izedAsset']();}['_onLocaliz'+'edAssetLoa'+'d'](_0x4796fe){this['fire']('load',_0x4796fe);}['_onLocaliz'+'edAssetCha'+'nge'](_0x2dafc6,_0x110215,_0x59894a,_0x4eac5a){this['fire']('change',_0x2dafc6,_0x110215,_0x59894a,_0x4eac5a);}['_onLocaliz'+'edAssetRem'+'ove'](_0x1572de){this['_localized'+'Asset']===_0x1572de['id']&&(this['localizedA'+'sset']=this['_defaultAs'+'set']),this['fire']('remove',_0x1572de);}['_onLocaleA'+'dd'](_0x202f36,_0xeea8aa){this['_app']['i18n']['locale']===_0x202f36&&this['_onSetLoca'+'le'](_0x202f36);}['_onLocaleR'+'emove'](_0x3da3ab,_0x3bb401){this['_app']['i18n']['locale']===_0x3da3ab&&this['_onSetLoca'+'le'](_0x3da3ab);}['_onSetLoca'+'le'](_0x26a8af){if(!this['_defaultAs'+'set']){this['localizedA'+'sset']=null;return;}const _0x574dce=this['_app']['assets']['get'](this['_defaultAs'+'set']);if(!_0x574dce||this['_disableLo'+'calization']){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}const _0x4fa869=_0x574dce['getLocaliz'+'edAssetId'](_0x26a8af);if(!_0x4fa869){this['localizedA'+'sset']=this['_defaultAs'+'set'];return;}this['localizedA'+'sset']=_0x4fa869;}['destroy'](){this['defaultAss'+'et']=null,this['_app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onSetLoca'+'le'],this),this['off']();}}const Rh='msdf',dR='bitmap',Mo=-0x2*0x27b+-0x6d8*0x4+0x2056,an=0x1987+0x2*0xd6+-0x1b32,Du=-0x134e+0xb*-0x31e+0x11de*0x3,Zv=0x110+-0x19b*0x11+0x2*0xd1f,Iu=0x1b6a+0x2d6+0xd7*-0x24,Lu=0x75+-0x1*-0x1cd7+-0x5*0x5db,Ru=-0x7e1*-0x2+0xec1+0x23*-0xdf,Ou=0x2385+-0x8d*-0x3+-0x2525,Xg=0x17ce+0x1*0x2446+-0x356*0x12,fR='\x20\x09\x0a\x0d\x0b\x0c',uR=/[\w|/]/;class pR{constructor(_0x2a58ef){this['_symbols']=_0x2a58ef,this['_index']=0x43c+-0x7ac+-0x16*-0x28,this['_last']=-0x125*0x1d+-0x1bd7*-0x1+0x55a,this['_cur']=this['_symbols']['length']>-0xd4*-0x2b+0x1*-0xe2f+-0x5*0x449?this['_symbols'][-0x2*0x118b+0x17d*0x15+0x3d5]:null,this['_buf']=[],this['_mode']='text',this['_error']=null;}['read'](){let _0x266376=this['_read']();for(;_0x266376===Xg;)_0x266376=this['_read']();return _0x266376!==Mo&&_0x266376!==an&&(this['_last']=this['_index']),_0x266376;}['buf'](){return this['_buf'];}['last'](){return this['_last'];}['error'](){return this['_error'];}['debugPrint'](){const _0x2f3c15=['EOF','ERROR','TEXT','OPEN_BRACK'+'ET','CLOSE_BRAC'+'KET','EQUALS','STRING','IDENTIFIER','WHITESPACE'];let _0x5dbb6f=this['read'](),_0x1dd12a='';for(;_0x1dd12a+=(_0x1dd12a['length']>-0x134e+-0x9a5*-0x1+0x9a9*0x1?'\x0a':'')+_0x2f3c15[_0x5dbb6f]+'\x20\x27'+this['buf']()['join']('')+'\x27',!(_0x5dbb6f===Mo||_0x5dbb6f===an);)_0x5dbb6f=this['read']();return _0x1dd12a;}['_read'](){return this['_buf']=[],this['_eof']()?Mo:this['_mode']==='text'?this['_text']():this['_tag']();}['_text'](){for(;;)switch(this['_cur']){case null:return this['_buf']['length']>-0x133f*-0x2+0x1*0x1106+-0x3784?Du:Mo;case'[':return this['_mode']='tag',this['_buf']['length']>-0x59*0x57+-0x2*0x1+0x1e41?Du:this['_tag']();case'\x5c':switch(this['_next'](),this['_cur']){case'[':this['_store']();break;default:this['_output']('\x5c');break;}break;default:this['_store']();break;}}['_tag'](){switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20tag',an;case'[':return this['_store'](),Zv;case']':return this['_store'](),this['_mode']='text',Iu;case'=':return this['_store'](),Lu;case'\x20':case'\x09':case'\x0a':case'\x0d':case'\x0b':case'\x0c':return this['_whitespac'+'e']();case'\x22':return this['_string']();default:return this['_isIdentif'+'ierSymbol'](this['_cur'])?this['_identifie'+'r']():(this['_error']='unrecogniz'+'ed\x20charact'+'er',an);}}['_whitespac'+'e'](){for(this['_store']();fR['indexOf'](this['_cur'])!==-(-0x5*-0x7ba+-0x3*-0x1e2+-0x2c47*0x1);)this['_store']();return Xg;}['_string'](){for(this['_next']();;)switch(this['_cur']){case null:return this['_error']='unexpected'+'\x20end\x20of\x20in'+'put\x20readin'+'g\x20string',an;case'\x22':return this['_next'](),Ru;default:this['_store']();break;}}['_identifie'+'r'](){for(this['_store']();this['_cur']!==null&&this['_isIdentif'+'ierSymbol'](this['_cur']);)this['_store']();return Ou;}['_isIdentif'+'ierSymbol'](_0x260183){return _0x260183['length']===0x2*0x9a3+0x37+0x3a*-0x56&&_0x260183['match'](uR)!==null;}['_eof'](){return this['_cur']===null;}['_next'](){return this['_eof']()||(this['_index']++,this['_cur']=this['_index']<this['_symbols']['length']?this['_symbols'][this['_index']]:null),this['_cur'];}['_store'](){return this['_buf']['push'](this['_cur']),this['_next']();}['_output'](_0x16e10a){this['_buf']['push'](_0x16e10a);}}class mR{constructor(_0x3d9aa5){this['_scanner']=new pR(_0x3d9aa5),this['_error']=null;}['parse'](_0xd52edf,_0x9a598d){for(;;)switch(this['_scanner']['read']()){case Mo:return!(-0x301*-0x1+0xa89+0x6c5*-0x2);case an:return!(-0x1863+0x61*0x4d+0xaf*-0x7);case Du:Array['prototype']['push']['apply'](_0xd52edf,this['_scanner']['buf']());break;case Zv:if(!this['_parseTag'](_0xd52edf,_0x9a598d))return!(0x3eb+-0x904+0x51a);break;default:return!(0xfa1+-0x6*-0x246+-0x1d44);}}['error'](){return'Error\x20eval'+'uating\x20mar'+'kup\x20at\x20#'+this['_scanner']['last']()['toString']()+'\x20('+(this['_scanner']['error']()||this['_error'])+')';}['_parseTag'](_0xd9741f,_0x7b3836){let _0x7dc2fa=this['_scanner']['read']();if(_0x7dc2fa!==Ou)return this['_error']='expected\x20i'+'dentifier',!(0x22e5+0x5*-0xad+0x3*-0xa81);const _0x2e2f8c=this['_scanner']['buf']()['join']('');if(_0x2e2f8c[0xaed*0x2+-0x27*0x77+-0x3b9]==='/'){for(let _0x435881=_0x7b3836['length']-(-0xd*-0x2f9+0xabb+-0x315f);_0x435881>=-0x1*0x2611+0x1d3f+0x8d2;--_0x435881)if(_0x2e2f8c==='/'+_0x7b3836[_0x435881]['name']&&_0x7b3836[_0x435881]['end']===null)return _0x7b3836[_0x435881]['end']=_0xd9741f['length'],_0x7dc2fa=this['_scanner']['read'](),_0x7dc2fa!==Iu?(this['_error']='expected\x20c'+'lose\x20brack'+'et',!(-0x164f+-0x1e57+-0x34a7*-0x1)):!(-0x155*0x3+-0x2*-0xfa7+-0x1b4f);return this['_error']='failed\x20to\x20'+'find\x20match'+'ing\x20tag',!(-0xd4e+0x1*-0x16a9+0x2*0x11fc);}const _0x3ef491={'name':_0x2e2f8c,'value':null,'attributes':{},'start':_0xd9741f['length'],'end':null};if(_0x7dc2fa=this['_scanner']['read'](),_0x7dc2fa===Lu){if(_0x7dc2fa=this['_scanner']['read'](),_0x7dc2fa!==Ru)return this['_error']='expected\x20s'+'tring',!(0x1988+-0x55b*0x1+-0x142c);_0x3ef491['value']=this['_scanner']['buf']()['join'](''),_0x7dc2fa=this['_scanner']['read']();}for(;;){switch(_0x7dc2fa){case Iu:return _0x7b3836['push'](_0x3ef491),!(0x5*0x7cf+-0x1d2c+0x169*-0x7);case Ou:{const _0x2a482e=this['_scanner']['buf']()['join']('');if(_0x7dc2fa=this['_scanner']['read'](),_0x7dc2fa!==Lu)return this['_error']='expected\x20e'+'quals',!(0x211a+0x1b76+0x1*-0x3c8f);if(_0x7dc2fa=this['_scanner']['read'](),_0x7dc2fa!==Ru)return this['_error']='expected\x20s'+'tring',!(0x32d*0x9+-0x2696+0xa02);const _0x304817=this['_scanner']['buf']()['join']('');_0x3ef491['attributes'][_0x2a482e]=_0x304817;break;}default:return this['_error']='expected\x20c'+'lose\x20brack'+'et\x20or\x20iden'+'tifier',!(-0x191b+0x7a*0x35+-0x2*0x13);}_0x7dc2fa=this['_scanner']['read']();}}}function Qv(_0x3c98fb,_0x353570){for(const _0xc79936 in _0x353570){if(!_0x353570['hasOwnProp'+'erty'](_0xc79936))continue;const _0x550c8e=_0x353570[_0xc79936];_0x550c8e instanceof Object?(_0x3c98fb['hasOwnProp'+'erty'](_0xc79936)||(_0x3c98fb[_0xc79936]={}),Qv(_0x3c98fb[_0xc79936],_0x353570[_0xc79936])):_0x3c98fb[_0xc79936]=_0x550c8e;}}function _R(_0x1ecb3d){if(_0x1ecb3d['length']===0x1359+-0x2648+0x83*0x25)return null;const _0x7a9493={};for(let _0x36f8e1=-0x1180+-0x382+0xa81*0x2;_0x36f8e1<_0x1ecb3d['length'];++_0x36f8e1){const _0x50d9f7=_0x1ecb3d[_0x36f8e1],_0x2c7d09={};_0x2c7d09[_0x50d9f7['name']]={'value':_0x50d9f7['value'],'attributes':_0x50d9f7['attributes']},Qv(_0x7a9493,_0x2c7d09);}return _0x7a9493;}function gR(_0x48d6e3,_0x1dc0db){if(_0x48d6e3['length']===-0x3e7+0x199*-0x2+0x719)return null;const _0x5e57b2={};for(let _0x4ba5e0=0x2*-0x1253+0x3*-0xcac+0x4aaa;_0x4ba5e0<_0x48d6e3['length'];++_0x4ba5e0){const _0x4f88c6=_0x48d6e3[_0x4ba5e0];_0x5e57b2['hasOwnProp'+'erty'](_0x4f88c6['start'])?_0x5e57b2[_0x4f88c6['start']]['open']===null?_0x5e57b2[_0x4f88c6['start']]['open']=[_0x4f88c6]:_0x5e57b2[_0x4f88c6['start']]['open']['push'](_0x4f88c6):_0x5e57b2[_0x4f88c6['start']]={'open':[_0x4f88c6],'close':null},_0x5e57b2['hasOwnProp'+'erty'](_0x4f88c6['end'])?_0x5e57b2[_0x4f88c6['end']]['close']===null?_0x5e57b2[_0x4f88c6['end']]['close']=[_0x4f88c6]:_0x5e57b2[_0x4f88c6['end']]['close']['push'](_0x4f88c6):_0x5e57b2[_0x4f88c6['end']]={'open':null,'close':[_0x4f88c6]};}let _0x4771bc=[];function _0x3bb0e9(_0x5b5d38){_0x4771bc=_0x4771bc['filter'](_0x2d7e01=>_0x5b5d38['find'](_0x33e272=>_0x33e272===_0x2d7e01)===void(0xd*-0x1d4+0x138*-0x7+0x204c));}function _0x467ffb(_0xc92ba2){for(let _0x57b90c=-0x3*0x9bd+0x1b6f+0xe4*0x2;_0x57b90c<_0xc92ba2['length'];++_0x57b90c)_0x4771bc['push'](_0xc92ba2[_0x57b90c]);}const _0x5c13cc=Object['keys'](_0x5e57b2)['sort']((_0x2914e3,_0x8f4600)=>_0x2914e3-_0x8f4600),_0x1eb003=[];for(let _0x48ee33=-0x2f5+0x25dc*-0x1+0x28d1;_0x48ee33<_0x5c13cc['length'];++_0x48ee33){const _0x13c4af=_0x5e57b2[_0x5c13cc[_0x48ee33]];_0x13c4af['close']!==null&&_0x3bb0e9(_0x13c4af['close']),_0x13c4af['open']!==null&&_0x467ffb(_0x13c4af['open']),_0x1eb003['push']({'start':_0x5c13cc[_0x48ee33],'tags':_R(_0x4771bc)});}const _0xde036e=[];let _0x3f3edd=null;for(let _0x7c1f4d=0xcfe+-0x16*0x19e+-0x1*-0x1696;_0x7c1f4d<_0x1eb003['length'];++_0x7c1f4d){const _0x4a0b9d=_0x1eb003[_0x7c1f4d];for(;_0xde036e['length']<_0x4a0b9d['start'];)_0xde036e['push'](_0x3f3edd?_0x3f3edd['tags']:null);_0x3f3edd=_0x4a0b9d;}for(;_0xde036e['length']<_0x1dc0db;)_0xde036e['push'](null);return _0xde036e;}function SR(_0x58cd40){const _0x4660bc=new mR(_0x58cd40),_0x311a6c=[],_0x4ca5c2=[];if(!_0x4660bc['parse'](_0x311a6c,_0x4ca5c2))return console['warn'](_0x4660bc['error']()),{'symbols':_0x58cd40,'tags':null};const _0x379e45=_0x4ca5c2['find'](_0x480cd2=>_0x480cd2['end']===null);if(_0x379e45)return console['warn']('Markup\x20err'+'or:\x20found\x20'+'unclosed\x20t'+'ag=\x27'+_0x379e45['name']+'\x27'),{'symbols':_0x58cd40,'tags':null};const _0x3cb8a7=gR(_0x4ca5c2,_0x311a6c['length']);return{'symbols':_0x311a6c,'tags':_0x3cb8a7};}class yR{static['evaluate'](_0x27ba72){return SR(_0x27ba72);}}class vR{constructor(){this['count']=0x7b*-0x1+-0x1ee0+0x1f5b,this['quad']=-0x1e9b+0x1*-0x244d+-0x10ba*-0x4,this['lines']={},this['positions']=[],this['normals']=[],this['uvs']=[],this['colors']=[],this['indices']=[],this['outlines']=[],this['shadows']=[],this['meshInstan'+'ce']=null;}}function xR(_0x111514,_0x544c09){const _0x4921a1=new Ge(_0x111514);return _0x4921a1['setPositio'+'ns'](_0x544c09['positions']),_0x4921a1['setNormals'](_0x544c09['normals']),_0x4921a1['setColors3'+'2'](_0x544c09['colors']),_0x4921a1['setUvs'](-0x14c3+-0x3cd*-0x4+-0x1*-0x58f,_0x544c09['uvs']),_0x4921a1['setIndices'](_0x544c09['indices']),_0x4921a1['setVertexS'+'tream'](Ko,_0x544c09['outlines'],0x1*-0x2219+0x242*0x5+0x16d2,void(0xb*-0x185+0x3c8+-0x7*-0x1d9),Ve,!(-0x21ee+0x3*-0x595+0x3e6*0xd)),_0x4921a1['setVertexS'+'tream'](Zo,_0x544c09['shadows'],-0x6ff*0x2+0x609*-0x5+-0x3*-0xeba,void(0x175a+0x2389+-0x3ae3),Ve,!(0xe1a+-0x10de+0x2c5)),_0x4921a1['update'](),_0x4921a1;}const qg=/^[\r\n]$/,TR=/^[ \t]$/,jg=/^[ \t\-]|\u200b$/,wR=/^[a-z0-9]$/i,Yg=/^[\u1100-\u11ff]|[\u3000-\u9fff\ua960-\ua97f]|[\uac00-\ud7ff]$/,ER=/^[]$/,bR=['','','','','','','','','','','','',''],AR={'width':0x0,'height':0x0,'xadvance':0x0,'xoffset':0x0,'yoffset':0x0},Kg=new ie(),CR=new J(),We=new ie();class PR{constructor(_0x3801f2){this['_element']=_0x3801f2,this['_system']=_0x3801f2['system'],this['_entity']=_0x3801f2['entity'],this['_text']='',this['_symbols']=[],this['_colorPale'+'tte']=[],this['_outlinePa'+'lette']=[],this['_shadowPal'+'ette']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null,this['_i18nKey']=null,this['_fontAsset']=new hR(this['_system']['app']),this['_fontAsset']['disableLoc'+'alization']=!(0x562+0xfa7*-0x2+0x19ec),this['_fontAsset']['on']('load',this['_onFontLoa'+'d'],this),this['_fontAsset']['on']('change',this['_onFontCha'+'nge'],this),this['_fontAsset']['on']('remove',this['_onFontRem'+'ove'],this),this['_font']=null,this['_color']=new ie(0x1c66+-0x1a90+-0x1d5,0x105c+0x1*-0x2395+0x133a,0x113c+0x392*-0x3+-0x685,-0xeee+-0xa*-0x2c2+0xca5*-0x1),this['_colorUnif'+'orm']=new Float32Array(0xbf9*-0x2+0x6+0x1*0x17ef),this['_spacing']=-0x6f*0x2a+-0x211c+0x3353,this['_fontSize']=0x541+0x1fa0+0x1*-0x24c1,this['_fontMinY']=-0x1897+-0xb9a+0x2431,this['_fontMaxY']=0x99b+0x3*0x357+0x13a*-0x10,this['_originalF'+'ontSize']=0xcc6+-0x7*-0x2cf+0x9*-0x397,this['_maxFontSi'+'ze']=-0xded+-0x1726*0x1+0x2533,this['_minFontSi'+'ze']=0x1*0x8a9+-0x90*0x1d+0x119*0x7,this['_autoFitWi'+'dth']=!(-0x2ad+0x9fa+-0x74c),this['_autoFitHe'+'ight']=!(0xc6a+-0x1*-0x1205+-0x1e6e),this['_maxLines']=-(-0x2b*0x7+-0x380*0x4+0x3a*0x43),this['_lineHeigh'+'t']=-0x1a93*-0x1+-0x1*-0xb6f+0x12f1*-0x2,this['_scaledLin'+'eHeight']=0x160f+0x14f*-0x14+0x5*0xd9,this['_wrapLines']=!(-0x3*0x2c7+-0x7*-0x4bd+-0x18d5),this['_drawOrder']=-0x4*-0x3aa+-0x1e8*0x4+-0x1e*0x3c,this['_alignment']=new J(-0xd5f+-0x22c8+0x24b*0x15+0.5,-0x7ac*-0x5+0x52a*-0x1+0xe*-0x25f+0.5),this['_autoWidth']=!(0x4*-0x40f+0x6*0x382+0xe*-0x58),this['_autoHeigh'+'t']=!(0x43*0x89+-0x1*-0x881+-0x2c5c),this['width']=0x2328+0x2f*-0x9f+-0x5f7,this['height']=0xbaa+-0x69b+0x25*-0x23,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_entity']['addChild'](this['_node']),this['_meshInfo']=[],this['_material']=null,this['_aabbDirty']=!(0x374+0x1954+-0x1cc8),this['_aabb']=new De(),this['_noResize']=!(-0x2bf*0xd+-0x465*0x6+0xa*0x635),this['_currentMa'+'terialType']=null,this['_maskedMat'+'erialSrc']=null,this['_rtlReorde'+'r']=!(0x24dd+-0x7db+-0x1d01),this['_unicodeCo'+'nverter']=!(-0x58*0x2+0x6d0+0x61f*-0x1),this['_rtl']=!(-0x220c+-0xbb0+-0x9*-0x515),this['_outlineCo'+'lor']=new ie(0xb48+-0x2b*0x8b+-0x1*-0xc11,-0x177*-0x19+-0x1*0x1349+-0x1156,-0x663+0x11d4+-0x65*0x1d,0x7ef*0x2+0x1a2d*0x1+-0x2a0a),this['_outlineCo'+'lorUniform']=new Float32Array(0x51e*0x1+-0x27e+-0x29c),this['_outlineTh'+'icknessSca'+'le']=-0xff3+0xc*-0x302+0x340b+0.2,this['_outlineTh'+'ickness']=-0x728*-0x2+0x33b*-0xb+0x1*0x1539,this['_shadowCol'+'or']=new ie(0x18ce+0x3*-0xcbe+0xd6c,0x2475+0x8e3*-0x3+-0x9cc,0x3a9*-0x8+0x2063+-0xf*0x35,-0x5f*0x64+-0x944+-0x1f*-0x17f),this['_shadowCol'+'orUniform']=new Float32Array(0xdc0+-0x280+-0xb3c),this['_shadowOff'+'setScale']=-0x396+-0x1f73+0x2309+0.005,this['_shadowOff'+'set']=new J(-0x1*-0x3bd+-0x2696+-0x1*-0x22d9,-0x225+0x113d+-0xf18),this['_shadowOff'+'setUniform']=new Float32Array(0x8c8+0x266d+-0x2f33),this['_enableMar'+'kup']=!(-0x1129+-0x18c2+0x29ec),this['_onScreenC'+'hange'](this['_element']['screen']),_0x3801f2['on']('resize',this['_onParentR'+'esize'],this),_0x3801f2['on']('set:screen',this['_onScreenC'+'hange'],this),_0x3801f2['on']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),_0x3801f2['on']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),_0x3801f2['on']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['on'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['on']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['on']('data:remov'+'e',this['_onLocaliz'+'ationData'],this),this['_rangeStar'+'t']=0x1f50+0xead+0x2dfd*-0x1,this['_rangeEnd']=-0x1b92+0x417+0x177b;}['destroy'](){this['_setMateri'+'al'](null),this['_model']&&(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),this['_model']['destroy'](),this['_model']=null),this['_fontAsset']['destroy'](),this['font']=null,this['_element']['off']('resize',this['_onParentR'+'esize'],this),this['_element']['off']('set:screen',this['_onScreenC'+'hange'],this),this['_element']['off']('screen:set'+':screenspa'+'ce',this['_onScreenS'+'paceChange'],this),this['_element']['off']('set:drawor'+'der',this['_onDrawOrd'+'erChange'],this),this['_element']['off']('set:pivot',this['_onPivotCh'+'ange'],this),this['_system']['app']['i18n']['off'](wa['EVENT_CHAN'+'GE'],this['_onLocaleS'+'et'],this),this['_system']['app']['i18n']['off']('data:add',this['_onLocaliz'+'ationData'],this),this['_system']['app']['i18n']['off']('data:remov'+'e',this['_onLocaliz'+'ationData'],this);}['_onParentR'+'esize'](_0x5b845e,_0x2d87cb){this['_noResize']||this['_font']&&this['_updateTex'+'t']();}['_onScreenC'+'hange'](_0x19a696){_0x19a696?this['_updateMat'+'erial'](_0x19a696['screen']['screenSpac'+'e']):this['_updateMat'+'erial'](!(-0x8ab+0x7e2*0x2+0x4*-0x1c6));}['_onScreenS'+'paceChange'](_0x2bd8ee){this['_updateMat'+'erial'](_0x2bd8ee);}['_onDrawOrd'+'erChange'](_0x2022d0){if(this['_drawOrder']=_0x2022d0,this['_model']){for(let _0xf02981=0x13*-0x155+0xc9d+0x7d*0x1a,_0x19a27d=this['_model']['meshInstan'+'ces']['length'];_0xf02981<_0x19a27d;_0xf02981++)this['_model']['meshInstan'+'ces'][_0xf02981]['drawOrder']=_0x2022d0;}}['_onPivotCh'+'ange'](_0x497203){this['_font']&&this['_updateTex'+'t']();}['_onLocaleS'+'et'](_0x5ed5e3){if(this['_i18nKey']){if(this['fontAsset']){const _0x1c68c1=this['_system']['app']['assets']['get'](this['fontAsset']);(!_0x1c68c1||!_0x1c68c1['resource']||_0x1c68c1['resource']!==this['_font'])&&(this['font']=null);}this['_resetLoca'+'lizedText']();}}['_onLocaliz'+'ationData'](_0x1c85b6,_0x1fa9c1){this['_i18nKey']&&_0x1fa9c1[this['_i18nKey']]&&this['_resetLoca'+'lizedText']();}['_resetLoca'+'lizedText'](){this['_setText'](this['_system']['app']['i18n']['getText'](this['_i18nKey']));}['_setText'](_0x58a4c0){if(this['unicodeCon'+'verter']){const _0x1a8874=this['_system']['getUnicode'+'Converter']();_0x1a8874?_0x58a4c0=_0x1a8874(_0x58a4c0):console['warn']('Element\x20cr'+'eated\x20with'+'\x20unicodeCo'+'nverter\x20op'+'tion\x20but\x20n'+'o\x20unicodeC'+'onverter\x20f'+'unction\x20re'+'gistered');}this['_text']!==_0x58a4c0&&(this['_font']&&this['_updateTex'+'t'](_0x58a4c0),this['_text']=_0x58a4c0);}['_updateTex'+'t'](_0x5a47b8){let _0x1c31fd;if(_0x5a47b8===void(-0x7*0x48b+0x108*-0x6+0x1*0x25fd)&&(_0x5a47b8=this['_text']),this['_symbols']=Hc['getSymbols'](_0x5a47b8['normalize']?_0x5a47b8['normalize']('NFC'):_0x5a47b8),this['_symbols']['length']===0x6*-0x1e7+-0x875+0x13df&&(this['_symbols']=['\x20']),this['_enableMar'+'kup']){const _0x13a49a=yR['evaluate'](this['_symbols']);this['_symbols']=_0x13a49a['symbols'],_0x1c31fd=_0x13a49a['tags']||[];}if(this['_rtlReorde'+'r']){const _0x2bf725=this['_system']['app']['systems']['element']['getRtlReor'+'der']();if(_0x2bf725){const _0x1a56fe=_0x2bf725(this['_symbols']);this['_rtl']=_0x1a56fe['rtl'],this['_symbols']=_0x1a56fe['mapping']['map'](function(_0x432cef){return this['_symbols'][_0x432cef];},this),_0x1c31fd&&(_0x1c31fd=_0x1a56fe['mapping']['map'](_0x438b11=>_0x1c31fd[_0x438b11]));}else console['warn']('Element\x20cr'+'eated\x20with'+'\x20rtlReorde'+'r\x20option\x20b'+'ut\x20no\x20rtlR'+'eorder\x20fun'+'ction\x20regi'+'stered');}else this['_rtl']=!(0x6e*0x3d+0x1*-0x13f0+0xf*-0x6b);const _0x1bfe54=(_0x348797,_0x5a068e)=>_0x348797['toString'](!(0x1b50+-0x16ad+-0x4a3))['toLowerCas'+'e']()+':'+_0x5a068e['toFixed'](-0x414+0x1fd3+-0x1bbd),_0x487dd6=(_0x3c9e41,_0x16e06c)=>_0x3c9e41['toString'](!(0xa6c+0x197*0x15+-0x2bcf))['toLowerCas'+'e']()+':'+_0x16e06c['x']['toFixed'](0x1d9a+0x5cc*0x5+-0x3a94)+':'+_0x16e06c['y']['toFixed'](0x21f6+-0x1d97+-0x45d);if(_0x1c31fd){const _0x153ab9={},_0x434fcf={},_0x3d7cdb={};this['_colorPale'+'tte']=[Math['round'](this['_color']['r']*(0x3b*0x4+-0x21af+0x21c2)),Math['round'](this['_color']['g']*(-0x2*0x765+-0x1bfc+0x2bc5)),Math['round'](this['_color']['b']*(0x1*0x1f42+-0x17cf+-0x674*0x1))],this['_outlinePa'+'lette']=[Math['round'](this['_outlineCo'+'lor']['r']*(-0x15e6*0x1+0x21c9+-0x2b9*0x4)),Math['round'](this['_outlineCo'+'lor']['g']*(-0x1d42+0x17b8+0x689)),Math['round'](this['_outlineCo'+'lor']['b']*(-0x1f9f+-0x11e9+0x3287)),Math['round'](this['_outlineCo'+'lor']['a']*(0xe38+0x2255+-0x2f8e)),Math['round'](this['_outlineTh'+'ickness']*(-0x10*-0xb2+-0x1cc9*-0x1+-0x22*0x125))],this['_shadowPal'+'ette']=[Math['round'](this['_shadowCol'+'or']['r']*(-0x2c*-0xc2+0x202c+0x53*-0xc7)),Math['round'](this['_shadowCol'+'or']['g']*(0x17c*-0x2+-0xc16+0x1*0x100d)),Math['round'](this['_shadowCol'+'or']['b']*(0x562+-0x1b4e*-0x1+0x1*-0x1fb1)),Math['round'](this['_shadowCol'+'or']['a']*(-0xe9d+-0xacf+0x1a6b*0x1)),Math['round'](this['_shadowOff'+'set']['x']*(0x1a0f*0x1+-0x2078+0x6e8)),Math['round'](this['_shadowOff'+'set']['y']*(-0xf*0x26b+-0x2*0x136b+-0x1*-0x4b9a))],this['_symbolCol'+'ors']=[],this['_symbolOut'+'lineParams']=[],this['_symbolSha'+'dowParams']=[],_0x153ab9[this['_color']['toString'](!(0x409*-0x9+0x3*-0x1f7+0x2a37))['toLowerCas'+'e']()]=-0x2554+-0x2a5*0xe+0x1*0x4a5a,_0x434fcf[_0x1bfe54(this['_outlineCo'+'lor'],this['_outlineTh'+'ickness'])]=-0xf*-0x4c+0x981+-0xdf5,_0x3d7cdb[_0x487dd6(this['_shadowCol'+'or'],this['_shadowOff'+'set'])]=-0xad*0x1+0x14a5+-0x13f8;for(let _0x33b46d=-0x14b5+-0x2270+0x13*0x2e7,_0x42ea5b=this['_symbols']['length'];_0x33b46d<_0x42ea5b;++_0x33b46d){const _0x1f15aa=_0x1c31fd[_0x33b46d];let _0x4160c1=0x2090+-0x1046+-0x5*0x342;if(_0x1f15aa&&_0x1f15aa['color']&&_0x1f15aa['color']['value']){const _0x3ceb66=_0x1f15aa['color']['value'];if(_0x3ceb66['length']===0x12da+-0x31d+0x2*-0x7db&&_0x3ceb66[0x326+-0x1803+-0x7*-0x2fb]==='#'){const _0x3e9a4f=_0x3ceb66['substring'](0x1*0x1a93+0x1*0x1669+-0x30fb)['toLowerCas'+'e']();_0x153ab9['hasOwnProp'+'erty'](_0x3e9a4f)?_0x4160c1=_0x153ab9[_0x3e9a4f]:/^[0-9a-f]{6}$/['test'](_0x3e9a4f)&&(_0x4160c1=this['_colorPale'+'tte']['length']/(0x1193+-0x7*0x219+-0x2e1),_0x153ab9[_0x3e9a4f]=_0x4160c1,this['_colorPale'+'tte']['push'](parseInt(_0x3e9a4f['substring'](-0x4ff+-0x21f+-0x71e*-0x1,0xce4+-0x13*0x12b+0x94f*0x1),-0xa8*0xf+0xf53*-0x1+-0x3*-0x869)),this['_colorPale'+'tte']['push'](parseInt(_0x3e9a4f['substring'](0xa*-0x6a+0x954+-0x52e,0xf97+-0xd1e+0x25*-0x11),-0x2f*0x4a+0x238b+-0x15e5)),this['_colorPale'+'tte']['push'](parseInt(_0x3e9a4f['substring'](-0x1*0x20c9+0x1*-0x8a6+0x2973,-0x143f+0x1*-0x2042+0x77*0x71),-0x31a*0xa+-0x1*0xdc9+0x2cdd*0x1)));}}this['_symbolCol'+'ors']['push'](_0x4160c1);let _0x2c60c6=-0x1e2b+-0xee9*-0x2+0x59;if(_0x1f15aa&&_0x1f15aa['outline']&&(_0x1f15aa['outline']['attributes']['color']||_0x1f15aa['outline']['attributes']['thickness'])){let _0x3b47fe=_0x1f15aa['outline']['attributes']['color']?Kg['fromString'](_0x1f15aa['outline']['attributes']['color']):this['_outlineCo'+'lor'],_0xfafffd=Number(_0x1f15aa['outline']['attributes']['thickness']);(Number['isNaN'](_0x3b47fe['r'])||Number['isNaN'](_0x3b47fe['g'])||Number['isNaN'](_0x3b47fe['b'])||Number['isNaN'](_0x3b47fe['a']))&&(_0x3b47fe=this['_outlineCo'+'lor']),Number['isNaN'](_0xfafffd)&&(_0xfafffd=this['_outlineTh'+'ickness']);const _0x218cef=_0x1bfe54(_0x3b47fe,_0xfafffd);_0x434fcf['hasOwnProp'+'erty'](_0x218cef)?_0x2c60c6=_0x434fcf[_0x218cef]:(_0x2c60c6=this['_outlinePa'+'lette']['length']/(-0x1*0x26d+0x2009*-0x1+0x227b),_0x434fcf[_0x218cef]=_0x2c60c6,this['_outlinePa'+'lette']['push'](Math['round'](_0x3b47fe['r']*(-0x2197+-0x708+0x299e)),Math['round'](_0x3b47fe['g']*(-0x22bc+0x2708+-0x34d)),Math['round'](_0x3b47fe['b']*(-0xefa+-0x1087*-0x1+-0x8e)),Math['round'](_0x3b47fe['a']*(0x1*-0x1493+-0x1337+0x28c9)),Math['round'](_0xfafffd*(-0x1a0d+0x135e+0x7ae))));}this['_symbolOut'+'lineParams']['push'](_0x2c60c6);let _0x19d244=-0xdeb*-0x1+0x1ef4+-0x2cdf;if(_0x1f15aa&&_0x1f15aa['shadow']&&(_0x1f15aa['shadow']['attributes']['color']||_0x1f15aa['shadow']['attributes']['offset']||_0x1f15aa['shadow']['attributes']['offsetX']||_0x1f15aa['shadow']['attributes']['offsetY'])){let _0x99de2=_0x1f15aa['shadow']['attributes']['color']?Kg['fromString'](_0x1f15aa['shadow']['attributes']['color']):this['_shadowCol'+'or'];const _0x4a1547=Number(_0x1f15aa['shadow']['attributes']['offset']),_0x343d39=Number(_0x1f15aa['shadow']['attributes']['offsetX']),_0x476273=Number(_0x1f15aa['shadow']['attributes']['offsetY']);(Number['isNaN'](_0x99de2['r'])||Number['isNaN'](_0x99de2['g'])||Number['isNaN'](_0x99de2['b'])||Number['isNaN'](_0x99de2['a']))&&(_0x99de2=this['_shadowCol'+'or']);const _0x47b2e5=CR['set'](Number['isNaN'](_0x343d39)?Number['isNaN'](_0x4a1547)?this['_shadowOff'+'set']['x']:_0x4a1547:_0x343d39,Number['isNaN'](_0x476273)?Number['isNaN'](_0x4a1547)?this['_shadowOff'+'set']['y']:_0x4a1547:_0x476273),_0x139bb6=_0x487dd6(_0x99de2,_0x47b2e5);_0x3d7cdb['hasOwnProp'+'erty'](_0x139bb6)?_0x19d244=_0x3d7cdb[_0x139bb6]:(_0x19d244=this['_shadowPal'+'ette']['length']/(-0x19b7+0x25*-0x84+0x2cd1),_0x3d7cdb[_0x139bb6]=_0x19d244,this['_shadowPal'+'ette']['push'](Math['round'](_0x99de2['r']*(0xdc9*0x1+-0x7*0x478+0x9*0x20e)),Math['round'](_0x99de2['g']*(-0x11aa+-0x13*0xc0+0x20e9)),Math['round'](_0x99de2['b']*(0x1*-0x90b+-0x11ff*-0x1+-0x3*0x2a7)),Math['round'](_0x99de2['a']*(-0x2064+-0xc6d*-0x2+0x889)),Math['round'](_0x47b2e5['x']*(-0x17ab+-0x1109+0x1*0x2933)),Math['round'](_0x47b2e5['y']*(0x22d8+0x21d5+-0x442e))));}this['_symbolSha'+'dowParams']['push'](_0x19d244);}}else this['_colorPale'+'tte']=[],this['_symbolCol'+'ors']=null,this['_symbolOut'+'lineParams']=null,this['_symbolSha'+'dowParams']=null;this['_updateMat'+'erialEmiss'+'ive'](),this['_updateMat'+'erialOutli'+'ne'](),this['_updateMat'+'erialShado'+'w']();const _0x3a0f1b=this['_calculate'+'CharsPerTe'+'xture']();let _0x3c4416=!(0x1*-0x2543+-0xd7*0x17+0x3895);const _0x3414a5=this['_element'],_0x169ee3=_0x3414a5['_isScreenS'+'pace'](),_0x480dc6=_0x3414a5['_isScreenC'+'ulled'](),_0xd57bd=function(_0xa32b2e){return _0x3414a5['isVisibleF'+'orCamera'](_0xa32b2e);};for(let _0x55af6b=0x9f6*-0x3+-0x4*-0x2c2+-0x2*-0x96d,_0x556251=this['_meshInfo']['length'];_0x55af6b<_0x556251;_0x55af6b++){const _0x55423b=_0x3a0f1b[_0x55af6b]||-0x1*-0x131d+0x8*-0x197+-0x665,_0x1bcb6d=this['_meshInfo'][_0x55af6b];if(_0x1bcb6d['count']!==_0x55423b){if(_0x3c4416||(_0x3414a5['removeMode'+'lFromLayer'+'s'](this['_model']),_0x3c4416=!(0x4*-0x69f+0xdda+0xca2)),_0x1bcb6d['count']=_0x55423b,_0x1bcb6d['positions']['length']=_0x1bcb6d['normals']['length']=_0x55423b*(0x4fa+0xee4+-0x13db)*(-0x133*-0x1d+0x3d*0x5f+-0x3966),_0x1bcb6d['indices']['length']=_0x55423b*(0x1bb4+-0x1*0x151f+0x1*-0x692)*(0x17a5+0x248d+0x24*-0x1ac),_0x1bcb6d['uvs']['length']=_0x55423b*(0xf0f+0x2574+-0x1*0x3481)*(0x5c9*0x2+0x1*0x842+-0x13d0),_0x1bcb6d['colors']['length']=_0x55423b*(0x4bc*-0x1+-0x11ff*-0x2+-0x3e*0x81)*(-0x2e1*0x1+-0x3*-0x621+-0xf7e),_0x1bcb6d['outlines']['length']=_0x55423b*(0x2521*-0x1+0x1893+0xc92)*(0x11bd*0x1+-0x1ca*0xa+0x2a),_0x1bcb6d['shadows']['length']=_0x55423b*(-0x1534+-0x1ce6+0x321e)*(-0x883*-0x2+0x26ef*0x1+-0x37f2),_0x1bcb6d['meshInstan'+'ce']&&this['_removeMes'+'hInstance'](_0x1bcb6d['meshInstan'+'ce']),_0x55423b===0x24a5*0x1+-0x2*0xbe7+-0xcd7){_0x1bcb6d['meshInstan'+'ce']=null;continue;}for(let _0x37d5f4=-0xc81+0x163*0x15+-0x109e;_0x37d5f4<_0x55423b;_0x37d5f4++)_0x1bcb6d['indices'][_0x37d5f4*(-0xd83+0x1*-0xd+0x19*0x8b)*(0x1022+-0x6*0x472+0xa8c)+(-0x1915+0x15ae+-0x43*-0xd)]=_0x37d5f4*(-0x1*0x1e9c+0x1*0xba2+0x11*0x11e),_0x1bcb6d['indices'][_0x37d5f4*(0x253f*-0x1+0xb*-0x185+0x29*0x151)*(-0x2*-0x973+0x8bc*0x2+-0x245c)+(-0xb*0x37c+-0x4*-0x7b1+0x791)]=_0x37d5f4*(0x19c3+0x10*0x162+0x81*-0x5f)+(0xc*0x330+-0x1*-0x56e+-0x2bad),_0x1bcb6d['indices'][_0x37d5f4*(-0xcf*0x11+-0x1da9+0x2b6b)*(-0xf62+-0x1aab*0x1+-0x123*-0x25)+(-0xb15+-0xb92+0x1*0x16a9)]=_0x37d5f4*(0x14f1+-0xc18+0x7*-0x143)+(0xe5c+-0x224e+-0x27*-0x83),_0x1bcb6d['indices'][_0x37d5f4*(0x5*-0x7+-0x15e+0x184)*(-0x6fd*-0x3+-0x101+-0x13f4)+(-0x1e55+-0x1*0x14bc+0x3314)]=_0x37d5f4*(0x21d5+0x1d*0x12b+-0x43b0)+(-0x350*-0x3+-0x114b+0x1d*0x41),_0x1bcb6d['indices'][_0x37d5f4*(-0x321*0x4+0xc85*-0x3+0x3216)*(0x95*0x2b+-0x1b*-0x3+-0x45*0x5e)+(-0x1b3*-0xf+-0x18*-0x19+-0x1bd1*0x1)]=_0x37d5f4*(0x3*-0x219+-0x17c9+0x1e18)+(0x194*0x13+-0x1611+-0x7e8),_0x1bcb6d['indices'][_0x37d5f4*(-0x62*-0x33+0x1d*0x83+-0x112d*0x2)*(0x2559*-0x1+0x9*-0x121+-0x4*-0xbe1)+(-0x492+-0x22*0x93+-0x1*-0x181d)]=_0x37d5f4*(-0xb18+0x1*-0x7a+-0xb96*-0x1)+(0x1768+0x124e+-0x29b5),_0x1bcb6d['normals'][_0x37d5f4*(-0xdcc+0xee9*-0x1+-0x993*-0x3)*(0x1252+0x3*0xa9f+-0xc8b*0x4)+(-0x1*0x1e23+-0xa14+0x5*0x80b)]=-0x1ac4+0x171a+0x3aa,_0x1bcb6d['normals'][_0x37d5f4*(-0x23a9+-0xa*-0x89+-0x7*-0x455)*(0x80*-0x2b+-0x1*-0xcb9+0x5*0x1c2)+(-0x1e74+-0x1*-0x1779+-0x37e*-0x2)]=0x509*-0x3+-0x243f+-0x1*-0x335a,_0x1bcb6d['normals'][_0x37d5f4*(0x11cd+-0x1b96+0x9cd)*(0x1*0x21b3+0x1065+0x3215*-0x1)+(-0x8e*-0x31+0x1b3e+-0xc7*0x46)]=-(0x1d5a+0x1*0x189c+0x35f5*-0x1),_0x1bcb6d['normals'][_0x37d5f4*(0x1a2+-0x1d*-0x1+-0x1bb*0x1)*(0x211e+-0x9ef*-0x2+-0x34f9)+(-0xd7d+-0x1132+-0xf59*-0x2)]=0x17b7+-0x1*-0x171f+0x2*-0x176b,_0x1bcb6d['normals'][_0x37d5f4*(0x1222*0x1+-0xb22+-0x6fc)*(0xf99+-0x1405+0x46f)+(-0x181*0xc+0x1b94+-0x984)]=0x139d*-0x1+-0x395*0x3+0x1e5c,_0x1bcb6d['normals'][_0x37d5f4*(0x21b1+-0x1c81+-0x2*0x296)*(-0x3*-0x5db+0x2462+0x6be*-0x8)+(0xb*0x67+0x267d+-0x2ae5)]=-(-0x181d+0x322*0xb+-0xa58),_0x1bcb6d['normals'][_0x37d5f4*(-0x1087*-0x1+-0xa61+-0x622)*(0xedd+0x1607+0x1*-0x24e1)+(0x4f*-0x4c+0x116a+0x2*0x308)]=-0x78c+0x536*-0x4+0xe32*0x2,_0x1bcb6d['normals'][_0x37d5f4*(0x1f7b*0x1+0x1700+-0x3677)*(0xb*-0x295+-0x2ae+0x1f18)+(-0x851*-0x1+-0x469*-0x4+-0x19ee)]=-0x195d+-0x1*-0x9c1+0xf9c*0x1,_0x1bcb6d['normals'][_0x37d5f4*(0xc5*-0x26+-0x202d+-0x3d6f*-0x1)*(-0x1d21*-0x1+0x1396+-0x30b4)+(-0xcc0+0x17e4+0x4f*-0x24)]=-(-0x4*0x613+-0x301*-0x1+0x154c),_0x1bcb6d['normals'][_0x37d5f4*(-0xe73+0xbc2+0x2b5)*(-0x3be*-0x1+0x1448+-0x1803)+(-0x52*-0x5d+0xed+-0x1eae)]=-0x2045+0x841*0x1+0x1804,_0x1bcb6d['normals'][_0x37d5f4*(0x217e+-0x1c7*0xe+-0x1b8*0x5)*(0x1000+-0x2685+0x1*0x1688)+(-0x2bb+-0x3*0x457+-0x2*-0x7e5)]=-0x1*0x134e+0xb23+-0x11*-0x7b,_0x1bcb6d['normals'][_0x37d5f4*(0x287*0xd+-0x1*-0x18b2+-0x53b*0xb)*(-0xbe4+0x2185+-0x1*0x159e)+(0x16*-0x59+0x233+0x57e)]=-(0xbc+0x91a+-0x9d5);const _0x1c2b37=xR(this['_system']['app']['graphicsDe'+'vice'],_0x1bcb6d),_0x363fa4=new He(_0x1c2b37,this['_material'],this['_node']);if(_0x363fa4['name']='Text\x20Eleme'+'nt:\x20'+this['_entity']['name'],_0x363fa4['castShadow']=!(0x11c0+-0x1*-0xceb+-0x622*0x5),_0x363fa4['receiveSha'+'dow']=!(-0x3d7+-0x11b6*-0x2+-0x1f94*0x1),_0x363fa4['cull']=!_0x169ee3,_0x363fa4['screenSpac'+'e']=_0x169ee3,_0x363fa4['drawOrder']=this['_drawOrder'],_0x480dc6&&(_0x363fa4['cull']=!(0x12e7+-0x17a7+0x4c0),_0x363fa4['isVisibleF'+'unc']=_0xd57bd),this['_setTextur'+'eParams'](_0x363fa4,this['_font']['textures'][_0x55af6b]),_0x363fa4['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']),_0x363fa4['setParamet'+'er']('material_o'+'pacity',this['_color']['a']),_0x363fa4['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x363fa4['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x363fa4['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x55af6b]['width']),_0x363fa4['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']),_0x363fa4['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']),_0x363fa4['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']),this['_symbolSha'+'dowParams'])this['_shadowOff'+'setUniform'][0x307*0x2+-0x6e6+0x12*0xc]=-0xe*-0x166+0x6e*-0x47+0x1*0xaee,this['_shadowOff'+'setUniform'][0x18b+-0x40a+-0x1*-0x280]=0x215d+0x287*-0x8+0x1*-0xd25;else{const _0x157904=-this['_font']['data']['info']['maps'][_0x55af6b]['width']/this['_font']['data']['info']['maps'][_0x55af6b]['height'];this['_shadowOff'+'setUniform'][0x1*0x25a2+-0x12*0x127+-0x10e4]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][0x3*-0x65+-0xa21*0x3+-0x1*-0x1f93]=_0x157904*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'];}_0x363fa4['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']),_0x1bcb6d['meshInstan'+'ce']=_0x363fa4,this['_model']['meshInstan'+'ces']['push'](_0x363fa4);}}this['_element']['maskedBy']&&this['_element']['_setMasked'+'By'](this['_element']['maskedBy']),_0x3c4416&&this['_element']['enabled']&&this['_entity']['enabled']&&this['_element']['addModelTo'+'Layers'](this['_model']),this['_updateMes'+'hes'](),this['_rangeStar'+'t']=0xd48+-0x1*-0xb02+-0x2*0xc25,this['_rangeEnd']=this['_symbols']['length'],this['_updateRen'+'derRange']();}['_removeMes'+'hInstance'](_0x5aa966){_0x5aa966['destroy']();const _0x52317f=this['_model']['meshInstan'+'ces']['indexOf'](_0x5aa966);_0x52317f!==-(-0x12e*-0x15+0x1*0xe3b+0x680*-0x6)&&this['_model']['meshInstan'+'ces']['splice'](_0x52317f,0x13bf+0x575*0x1+-0x1933);}['_setMateri'+'al'](_0x542419){if(this['_material']=_0x542419,this['_model'])for(let _0x10f858=0x1539+-0x6*-0x61d+-0x39e7,_0x33b161=this['_model']['meshInstan'+'ces']['length'];_0x10f858<_0x33b161;_0x10f858++){const _0x539cdd=this['_model']['meshInstan'+'ces'][_0x10f858];_0x539cdd['material']=_0x542419;}}['_updateMat'+'erial'](_0x1c2fe0){const _0x5b5c96=this['_element'],_0x1fa934=_0x5b5c96['_isScreenC'+'ulled'](),_0xc42420=function(_0x40f0e6){return _0x5b5c96['isVisibleF'+'orCamera'](_0x40f0e6);},_0x390c95=this['_font']&&this['_font']['type']===Rh;if(this['_material']=this['_system']['getTextEle'+'mentMateri'+'al'](_0x1c2fe0,_0x390c95,this['_enableMar'+'kup']),this['_model'])for(let _0x38868f=-0x1*0x589+0x223a+-0x71*0x41,_0x4f7f7f=this['_model']['meshInstan'+'ces']['length'];_0x38868f<_0x4f7f7f;_0x38868f++){const _0xcd391c=this['_model']['meshInstan'+'ces'][_0x38868f];_0xcd391c['cull']=!_0x1c2fe0,_0xcd391c['material']=this['_material'],_0xcd391c['screenSpac'+'e']=_0x1c2fe0,_0x1fa934?(_0xcd391c['cull']=!(-0x1d72+0xc76+-0x1*-0x10fc),_0xcd391c['isVisibleF'+'unc']=_0xc42420):_0xcd391c['isVisibleF'+'unc']=null;}}['_updateMat'+'erialEmiss'+'ive'](){this['_symbolCol'+'ors']?(this['_colorUnif'+'orm'][0x176f+-0x22ca+0xb5b]=0x455+-0x1725+0x12d1,this['_colorUnif'+'orm'][-0x2190+0x1651+0xb40]=0xa4*0x39+-0xb*-0x325+-0x471a*0x1,this['_colorUnif'+'orm'][-0x1520+-0x1c53*-0x1+0x7*-0x107]=0x1d*-0x10d+-0x1f26+-0x3a0*-0x11):(We['linear'](this['_color']),this['_colorUnif'+'orm'][0xaff*0x1+-0x178c+0xc8d]=We['r'],this['_colorUnif'+'orm'][0xccd+-0x1ca6+0xfda*0x1]=We['g'],this['_colorUnif'+'orm'][0x2*0xfa6+-0x585+0x3*-0x897]=We['b']);}['_updateMat'+'erialOutli'+'ne'](){this['_symbolOut'+'lineParams']?(this['_outlineCo'+'lorUniform'][0xa*0x259+0x214+-0x198e]=0x2642+-0x18e2*0x1+-0xd60,this['_outlineCo'+'lorUniform'][0x1*0x25f1+0x1e80*0x1+-0x4470]=0x136*-0x14+0x267d+0xd*-0x119,this['_outlineCo'+'lorUniform'][0x1868+0x1*-0xd24+-0x1*0xb42]=-0xeb4+-0x2*0x1115+-0x1e*-0x1a1,this['_outlineCo'+'lorUniform'][0x10d1+0x7a6*0x2+0x100d*-0x2]=-0x6*-0x387+-0x1396+-0x193):(We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][-0x1*-0x131e+-0x1*-0xa59+-0x1d77]=We['r'],this['_outlineCo'+'lorUniform'][0x5ba*-0x1+0xd3e+-0x783]=We['g'],this['_outlineCo'+'lorUniform'][-0xeaf+-0x1ab5+-0x7*-0x5ea]=We['b'],this['_outlineCo'+'lorUniform'][0x2*-0x68f+-0x13*-0x61+0xb*0x8a]=We['a']);}['_updateMat'+'erialShado'+'w'](){this['_symbolOut'+'lineParams']?(this['_shadowCol'+'orUniform'][-0xf2c*-0x2+0x2*-0x1204+0x5b0]=0x1c*0x65+-0x5*0x62a+-0x2*-0x9e3,this['_shadowCol'+'orUniform'][0x3*0xc2e+0x1fa7+-0x4430]=-0x3*0x7c2+0x96f+-0x49d*-0x3,this['_shadowCol'+'orUniform'][0x1902+0x1*-0x2495+-0x251*-0x5]=0xfe9+-0x2051+0x96*0x1c,this['_shadowCol'+'orUniform'][-0x1540+0x2*0x3e+0x14c7]=0x376+0xd*-0x1df+0x2fb*0x7):(We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0xf4+-0xfa9+-0xfb*-0xf]=We['r'],this['_shadowCol'+'orUniform'][-0x27*-0x41+-0x1037*-0x1+-0x1a1d]=We['g'],this['_shadowCol'+'orUniform'][-0x2*0x539+-0xa16+0x148a]=We['b'],this['_shadowCol'+'orUniform'][-0x6bc+0x1*-0x13ed+0x1aac]=We['a']);}['_isWordBou'+'ndary'](_0x4d0019){return jg['test'](_0x4d0019);}['_isValidNe'+'xtChar'](_0x4819b9){return _0x4819b9!==null&&!ER['test'](_0x4819b9);}['_isNextCJK'+'Boundary'](_0x5ece32,_0x4d3d9d){return Yg['test'](_0x5ece32)&&(jg['test'](_0x4d3d9d)||wR['test'](_0x4d3d9d));}['_isNextCJK'+'WholeWord'](_0x3ca6a7){return Yg['test'](_0x3ca6a7);}['_updateMes'+'hes'](){const _0x5d2662=this['_font']['data'],_0x2360a6=this,_0x2e07bc=Math['min'](this['_minFontSi'+'ze'],this['_maxFontSi'+'ze']),_0x5124e7=this['_maxFontSi'+'ze'],_0x2ffa76=this['_shouldAut'+'oFit']();_0x2ffa76&&(this['_fontSize']=this['_maxFontSi'+'ze']);const _0x4fb431=-0x1880+-0x7f6*0x1+0x2096*0x1,_0x1f28aa=this['_symbols']['length'];let _0x3e0649=0xf59+-0xb55+-0x404,_0x12c9f7=0x25ce+-0x3*-0x731+-0x13cb*0x3,_0x4d64a1=0x1*-0x1c90+-0x1052*0x1+-0x2ce2*-0x1,_0x1472e8=-0x139f*-0x1+0x8ec+-0x1*0x1c8b,_0x3487a3=-0x20df+-0x1ca1+-0x43*-0xeb,_0x423e68=-0xa76+0x1*-0x1675+0x20eb,_0xc6e89f=-0x128b*-0x1+-0x3*0x74d+0x35c,_0x37f9f5=0x1072+-0xede+-0x194,_0x408110=-0x69f+0x19c*0x7+-0x4a5,_0x5215cf=-0x10a+0x67*0x1+0xa3,_0x464e26=-0xf94+-0x15b3+0x1*0x2547;const _0xf68b8=Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])>=-0xc9a+-0xcfb+0x1995+0.0001;let _0x27128a=this['_element']['calculated'+'Width'];(this['autoWidth']&&!_0xf68b8||!this['_wrapLines'])&&(_0x27128a=Number['POSITIVE_I'+'NFINITY']);let _0x51e902=0x42*-0xd+0x2*0x491+-0x5c8,_0x9fd27b=0x24cc+0xb68+-0x3034,_0x231495,_0x5c3d21,_0x5c9ce8,_0x16bb83;function _0x3e72a3(_0x24ac5d,_0x5a340a,_0x154001){_0x2360a6['_lineWidth'+'s']['push'](Math['abs'](_0x154001));const _0x358488=_0x37f9f5>_0x5a340a?_0x5a340a+(0x3ca+-0xae6+0x71d*0x1):_0x37f9f5,_0x3195f7=_0x37f9f5>_0x5a340a?_0x37f9f5+(-0x3*0x65+0x1345*0x2+0xe*-0x2ab):_0x5a340a,_0x3d5221=_0x24ac5d['slice'](_0x358488,_0x3195f7);if(_0x464e26){let _0x44544c=_0x3d5221['length'];for(;_0x44544c--&&_0x464e26>-0x5*-0x25b+-0x32b+-0x3a*0x26;)qg['test'](_0x3d5221[_0x44544c])&&(_0x3d5221['splice'](_0x44544c,-0x15a8+0x92*0x4+0x1361),_0x464e26--);}_0x2360a6['_lineConte'+'nts']['push'](_0x3d5221['join']('')),_0x3e0649=0x4a*0x3+-0x1*-0xf97+-0x1075,_0x12c9f7-=_0x2360a6['_scaledLin'+'eHeight'],_0x3487a3++,_0x408110=0x136*-0xb+-0x695+0x13e7,_0x5215cf=-0x26d6+0x2*0x4b+-0x11*-0x240,_0x464e26=0x875+0x1d22+0x1*-0x2597,_0x423e68=-0x223f+-0x530+-0x1*-0x276f,_0x37f9f5=_0x5a340a;}let _0x567f63=!(-0x2256+-0x111f+0x3375);for(;_0x567f63;){_0x567f63=!(-0x254d+-0x18de+0x3e2c),_0x2ffa76?this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t']*this['_fontSize']/(this['_maxFontSi'+'ze']||0x1a27+-0x8e0+-0x1147+0.0001):this['_scaledLin'+'eHeight']=this['_lineHeigh'+'t'],this['width']=0xbd7+-0x16bd+-0xa*-0x117,this['height']=-0x1236*-0x1+-0x2a7*-0xe+-0xfd*0x38,this['_lineWidth'+'s']=[],this['_lineConte'+'nts']=[],_0x3e0649=-0x1af*0xd+-0x67*0x57+0x52c*0xb,_0x12c9f7=-0x854+0x815*0x1+0x3f,_0x4d64a1=0x951+-0x23dc+0x1c5*0xf,_0x1472e8=0xd*0x1df+-0x1*-0x2509+0x77*-0x84,_0x3487a3=0x253a+0x22b5+0x3*-0x17fa,_0x423e68=-0x7*-0x292+-0x20e1*-0x1+-0x32df*0x1,_0xc6e89f=0x2246+0xed0+0x67*-0x7a,_0x37f9f5=0x22cd+0x1711+-0x134a*0x3,_0x408110=-0x5*0xfd+-0x1ec1+0x23b2,_0x5215cf=-0x2*-0x1245+-0x1dcf*-0x1+-0x4259,_0x464e26=0x10*0x22+-0x1afb*-0x1+0x1d1b*-0x1;const _0x3d4086=this['_fontSize']/_0x4fb431;_0x51e902=this['_fontMinY']*_0x3d4086,_0x9fd27b=this['_fontMaxY']*_0x3d4086;for(let _0x28f2e0=0xf3f*-0x2+0x1*0x2cd+0x1bb1;_0x28f2e0<this['_meshInfo']['length'];_0x28f2e0++)this['_meshInfo'][_0x28f2e0]['quad']=-0x5c5*-0x2+0x1068+-0x1bf2,this['_meshInfo'][_0x28f2e0]['lines']={};let _0x55971c=0x53+-0x1ddb*-0x1+-0x1d2f,_0x27c2c9=-0x19db+0x1*-0x4b1+0x1f8b,_0x65a47f=-0x164*-0x15+-0x2652+0xa1d,_0xa70a67=0xdff*0x2+0x5*-0x9b+-0x1a*0xec+(0x1663+-0x12bf+0x2a5*-0x1)*(0x1559+-0x166f+0x6*0x59),_0x4ba739=-0x66+-0x4e*-0x3+0x7b+(0x2235+0x545*0x4+-0x364a)*(-0x3b*0x1f+-0x1a66+0x228b),_0x4db960=-0x23f1+-0x217+0x1*0x2608,_0x5775c1=-0xa3*-0x11+0x1a9b+-0x3*0xc25+(-0x3d*-0x7d+-0x4bd+-0x180d*0x1)*(-0xb5*-0x1b+0x3*-0xa84+0xd75),_0x94e4ad=0xf95+-0x19*0x85+-0x199+(-0x2585+0xb62*0x1+0x2e*0x97)*(-0x1*0x3bd+-0x14a2+0x195f),_0x53689e=0x149b+0x47*0x44+0x2b*-0xe8+(-0x1*0x2632+0x1*-0xa97+0x18a4*0x2)*(-0xb*-0x16b+0x15d*-0x13+0x2*0x5a7);for(let _0x5cf4b3=-0x1b*0x17+-0x161d+0x188a;_0x5cf4b3<_0x1f28aa;_0x5cf4b3++){if(_0x231495=this['_symbols'][_0x5cf4b3],_0x16bb83=_0x5cf4b3+(-0xa*0x24+-0xf30+0x1099)>=_0x1f28aa?null:this['_symbols'][_0x5cf4b3+(-0xdee+-0x1*0x14c+0x7*0x22d)],qg['test'](_0x231495)){_0x464e26++,(!this['_wrapLines']||this['_maxLines']<0x22c5+0x125c+0x43*-0xcb||_0x3487a3<this['_maxLines'])&&(_0x3e72a3(this['_symbols'],_0x5cf4b3,_0x1472e8),_0xc6e89f=_0x5cf4b3+(-0x1*0x1e95+0x7c*0x40+0x1*-0x6a),_0x37f9f5=_0x5cf4b3+(-0x195d+0x26c4+-0xd66));continue;}let _0x104040=0xecd*0x2+0xa75+-0x280f,_0x4f4a74=-0x7c3*0x1+0x189*0x7+-0x2fc,_0x2cdb40=0x245*0xa+0x133*-0x1+-0x157f,_0x51b7b5=-0x9af*0x1+-0x2*-0x1ca+0x44*0x17,_0x2b3194,_0x5b7b0e;if(_0x5c3d21=_0x5d2662['chars'][_0x231495],!_0x5c3d21){if(bR['indexOf'](_0x231495)!==-(0xd61+-0x6b*-0x1c+-0x1914))_0x5c3d21=AR;else{if(_0x5d2662['chars']['\x20'])_0x5c3d21=_0x5d2662['chars']['\x20'];else for(const _0x2ea520 in _0x5d2662['chars']){_0x5c3d21=_0x5d2662['chars'][_0x2ea520];break;}_0x5d2662['missingCha'+'rs']||(_0x5d2662['missingCha'+'rs']=new Set()),_0x5d2662['missingCha'+'rs']['has'](_0x231495)||(console['warn']('Character\x20'+'\x27'+_0x231495+('\x27\x20is\x20missi'+'ng\x20from\x20th'+'e\x20font\x20')+_0x5d2662['info']['face']),_0x5d2662['missingCha'+'rs']['add'](_0x231495));}}if(_0x5c3d21){let _0x16a78e=-0x668+-0x1eef*-0x1+-0x1887;if(_0x5215cf>0x2f8+0x1b0b+-0x1e03){const _0x9ddfa8=this['_font']['data']['kerning'];if(_0x9ddfa8){const _0x59a905=_0x9ddfa8[Hc['getCodePoi'+'nt'](this['_symbols'][_0x5cf4b3-(-0x2167+-0x199a+-0x1*-0x3b02)])||-0x58b*0x2+-0x26ca+-0xe4*-0x38];_0x59a905&&(_0x16a78e=_0x59a905[Hc['getCodePoi'+'nt'](this['_symbols'][_0x5cf4b3])||0xd*0x2+-0x147*0x8+0x172*0x7]||-0x7*0x221+-0x15c4+0x24ab);}}_0x2b3194=_0x5c3d21['scale']||-0xf87+0x24d8+-0x1550,_0x5b7b0e=(_0x5c3d21['width']+_0x5c3d21['height'])/(0x6fb+-0x1b1d+0x1424*0x1),_0x51b7b5=_0x3d4086*_0x5b7b0e/_0x2b3194,_0x2cdb40=(_0x5c3d21['xadvance']+_0x16a78e)*_0x3d4086,_0x104040=(_0x5c3d21['xoffset']-_0x16a78e)*_0x3d4086,_0x4f4a74=_0x5c3d21['yoffset']*_0x3d4086;}else console['error']('Couldn\x27t\x20s'+'ubstitute\x20'+'missing\x20ch'+'aracter:\x20\x27'+_0x231495+'\x27');const _0x204192=TR['test'](_0x231495),_0x21a150=_0x5c3d21&&_0x5c3d21['map']||-0x1550+-0x125*-0x3+0x11e1*0x1,_0x3ddf18=-this['_font']['data']['info']['maps'][_0x21a150]['width']/this['_font']['data']['info']['maps'][_0x21a150]['height'],_0x593069=this['_meshInfo'][_0x21a150],_0x217600=_0x3e0649+this['_spacing']*_0x2cdb40;if(_0x217600>_0x27128a&&_0x5215cf>-0x1bd8+0x4f3*-0x7+0x3e7d&&!_0x204192&&(this['_maxLines']<0x5*-0x613+-0x1*-0xb79+0x29*0x76||_0x3487a3<this['_maxLines'])){if(_0x408110===-0x1*-0xeab+0x769*0x1+-0x3ae*0x6)_0xc6e89f=_0x5cf4b3,_0x3e72a3(this['_symbols'],_0x5cf4b3,_0x1472e8);else{const _0x24f38e=Math['max'](_0x5cf4b3-_0xc6e89f,0x1105*0x2+-0x254d+0x5*0xa7);if(this['_meshInfo']['length']<=-0x3*0xafc+-0x1*-0x1303+0xdf2)_0x593069['lines'][_0x3487a3-(0xb8*-0x2e+-0x24e1+0x45f2)]-=_0x24f38e,_0x593069['quad']-=_0x24f38e;else{const _0x1640d4=_0xc6e89f,_0x59e184=_0x5cf4b3;for(let _0x45ac6a=_0x1640d4;_0x45ac6a<_0x59e184;_0x45ac6a++){const _0x22df80=this['_symbols'][_0x45ac6a],_0x242c3c=_0x5d2662['chars'][_0x22df80],_0x588eca=this['_meshInfo'][_0x242c3c&&_0x242c3c['map']||0x621+-0x15a7+-0x7c3*-0x2];_0x588eca['lines'][_0x3487a3-(0x10ed+-0xb*0x19+0xfd9*-0x1)]-=-0x1*-0x22eb+-0x1bb*-0xd+-0x3969,_0x588eca['quad']-=-0x204b+-0x1627*0x1+0x3673;}}_0x5cf4b3-=_0x24f38e+(0x604+0xa33+-0x1036),_0x3e72a3(this['_symbols'],_0xc6e89f,_0x423e68);continue;}}_0x5c9ce8=_0x593069['quad'],_0x593069['lines'][_0x3487a3-(0xe*-0x176+0x1484+-0xf)]=_0x5c9ce8;let _0x2c71f0=_0x3e0649-_0x104040,_0xfe958d=_0x2c71f0+_0x51b7b5;const _0x495d2b=_0x12c9f7-_0x4f4a74,_0x49c80b=_0x495d2b+_0x51b7b5;if(this['_rtl']){const _0x28884f=_0x51b7b5-_0x104040-this['_spacing']*_0x2cdb40-_0x104040;_0x2c71f0-=_0x28884f,_0xfe958d-=_0x28884f;}_0x593069['positions'][_0x5c9ce8*(-0xca6*0x1+0xcbd*0x1+-0x13)*(0x6*0x17d+-0x911+0x13*0x2)+(-0x249b*0x1+-0x8cb*-0x2+0x1305)]=_0x2c71f0,_0x593069['positions'][_0x5c9ce8*(-0x1691*0x1+-0x2646+0x6c3*0x9)*(0x1*0x6be+-0xc51+-0x41*-0x16)+(-0x1*0x136d+-0x230b*0x1+0x3679)]=_0x495d2b,_0x593069['positions'][_0x5c9ce8*(0x1*0x2386+0x1ddd+-0x415f)*(0xd43+-0x240b*0x1+-0x1*-0x16cb)+(0x1507+0xb*0x14c+0x2349*-0x1)]=_0x4d64a1,_0x593069['positions'][_0x5c9ce8*(-0x1431+0x57d*0x1+0x13a*0xc)*(-0x209f+0x1f*0xa6+0xc88)+(-0x1555+0x7*-0x383+0x2ded)]=_0xfe958d,_0x593069['positions'][_0x5c9ce8*(-0x11d7*-0x1+-0x779*-0x1+-0x194c)*(0x1629*0x1+-0x5*-0x83+0x37*-0x73)+(-0x1231*-0x2+0x701+0xe75*-0x3)]=_0x495d2b,_0x593069['positions'][_0x5c9ce8*(-0x238f*0x1+0x2*0x595+-0x1869*-0x1)*(0xa*-0x8+-0x2b*0xe+-0x2ad*-0x1)+(0x1*-0x18d+0x1*0x182+0x10)]=_0x4d64a1,_0x593069['positions'][_0x5c9ce8*(-0x1243*-0x1+0x20c5+-0x3304)*(0x1*0x15c3+0x7*0x43+0x1795*-0x1)+(0x1f52+-0xcd9+0x1*-0x1273)]=_0xfe958d,_0x593069['positions'][_0x5c9ce8*(-0x6f*-0x43+-0x24c8+0x7bf*0x1)*(-0x3d*-0x29+-0x1497*-0x1+-0x1e59)+(-0x2a*-0x36+0xc*-0x317+-0x7*-0x409)]=_0x49c80b,_0x593069['positions'][_0x5c9ce8*(0x1*-0x1e1c+-0x28f*-0x6+0x2*0x763)*(-0x1*0x927+0x11d8+-0x8ae)+(0x105+-0x1a4c+0x155*0x13)]=_0x4d64a1,_0x593069['positions'][_0x5c9ce8*(-0xba2+0x138+0xa6e)*(0xd1*0x18+-0x202*0x6+0x283*-0x3)+(0x8cf+-0x2ae+-0x618)]=_0x2c71f0,_0x593069['positions'][_0x5c9ce8*(-0x1*0x1061+-0xd4*-0x9+0x147*0x7)*(0x1*-0xf46+0x7*0x2+0xf3b)+(-0x1b96+-0x156d+0x310d)]=_0x49c80b,_0x593069['positions'][_0x5c9ce8*(-0x8ec+0x9fe+-0x10e)*(-0x3*-0x630+-0x1f*0x8b+-0x14*0x16)+(0x5a9+-0x433+0x3*-0x79)]=_0x4d64a1,this['width']=Math['max'](this['width'],_0x217600);let _0x59d7f1;if(this['_shouldAut'+'oFitWidth']()&&this['width']>this['_element']['calculated'+'Width']&&(_0x59d7f1=Math['floor'](this['_element']['fontSize']*this['_element']['calculated'+'Width']/(this['width']||0xa13*-0x1+-0x1377+-0x1d8a*-0x1+0.0001)),_0x59d7f1=Y['clamp'](_0x59d7f1,_0x2e07bc,_0x5124e7),_0x59d7f1!==this['_element']['fontSize'])){this['_fontSize']=_0x59d7f1,_0x567f63=!(-0xb1e+0x17ee+0x29*-0x50);break;}if(this['height']=Math['max'](this['height'],_0x9fd27b-(_0x12c9f7+_0x51e902)),this['_shouldAut'+'oFitHeight']()&&this['height']>this['_element']['calculated'+'Height']&&(_0x59d7f1=Y['clamp'](this['_fontSize']-(-0x89f+-0xf0f+-0x17af*-0x1),_0x2e07bc,_0x5124e7),_0x59d7f1!==this['_element']['fontSize'])){this['_fontSize']=_0x59d7f1,_0x567f63=!(-0x14fa+-0x95*-0x1+0x1465);break;}_0x3e0649+=this['_spacing']*_0x2cdb40,_0x204192||(_0x1472e8=_0x3e0649),(this['_isWordBou'+'ndary'](_0x231495)||this['_isValidNe'+'xtChar'](_0x16bb83)&&(this['_isNextCJK'+'Boundary'](_0x231495,_0x16bb83)||this['_isNextCJK'+'WholeWord'](_0x16bb83)))&&(_0x408110++,_0x423e68=_0x1472e8,_0xc6e89f=_0x5cf4b3+(-0xb15*0x1+0x2*0x539+0x1*0xa4)),_0x5215cf++;const _0x2bbc61=this['_getUv'](_0x231495);if(_0x593069['uvs'][_0x5c9ce8*(-0x1dbf+0x1aff+0x3*0xec)*(0x181a+0x1896*-0x1+0x9*0xe)+(-0x18a7+0xaf+-0x17f8*-0x1)]=_0x2bbc61[0x22f8+-0x24e2+0x1ea],_0x593069['uvs'][_0x5c9ce8*(-0x5b9+0x11ce*0x2+-0x1ddf)*(0x11f+-0x5*0x362+0xfcd)+(0x5fc+-0x1*0x1dc2+-0x7ed*-0x3)]=-0x2*0x757+0x2147+-0x8*0x253-_0x2bbc61[0x10c8+0x1*0x51b+0x1*-0x15e2],_0x593069['uvs'][_0x5c9ce8*(-0x1*0x883+-0x97+0x91e)*(-0x1d7e+0x2698+-0x918)+(0x1c34+0x10a4+-0x2cd6)]=_0x2bbc61[-0xb*0x346+0x455*-0x1+0x2859],_0x593069['uvs'][_0x5c9ce8*(-0x1d20+0xe*0x5f+-0x265*-0xa)*(-0x1*0x148d+-0x1924+0x2db3)+(-0x1a90+0x7ff*0x2+0xa95)]=0x14b8+0x37*0x71+-0x1a*0x1bb-_0x2bbc61[0x25ad+0x2f0+0xa27*-0x4],_0x593069['uvs'][_0x5c9ce8*(-0x1fb5*-0x1+-0x1bb2+0x3*-0x155)*(-0x209e+0x2536*0x1+-0x496)+(0x1d*0x2+-0x35a*-0x8+-0x1b06)]=_0x2bbc61[0x150b+-0xee3+-0x626],_0x593069['uvs'][_0x5c9ce8*(0x613+-0x899*-0x3+-0x12*0x1c5)*(0x2ef*-0x9+0xa58+0x1011)+(-0x302+-0x1*0x106b+0x1372)]=-0x59d+0x1bad+-0x160f-_0x2bbc61[0x69*0x5b+0x1936*-0x1+-0xc1a*0x1],_0x593069['uvs'][_0x5c9ce8*(0x211*0x5+-0x1ca4+0x1253)*(-0x1088+0x1*0xdb1+0x2d9)+(-0x3be*0x1+0x1feb+-0x1*0x1c27)]=_0x2bbc61[-0x528+-0x13a3+0x1*0x18cb],_0x593069['uvs'][_0x5c9ce8*(0x935*-0x4+-0x1a02+0x3eda)*(0x26e6+-0x69*0x3d+-0xddf)+(-0x2*-0x773+0xe2d+-0x1a*0x11e)]=-0x1269+0xbd6+0x694-_0x2bbc61[-0x15c3+-0x515*0x6+0x8b6*0x6],this['_symbolCol'+'ors']){const _0x29ba07=this['_symbolCol'+'ors'][_0x5cf4b3]*(0x2db+-0x1*-0xa04+-0xcdc);_0x55971c=this['_colorPale'+'tte'][_0x29ba07],_0x27c2c9=this['_colorPale'+'tte'][_0x29ba07+(-0x1*-0x22b5+-0x9d*0x2c+-0x7b8)],_0x65a47f=this['_colorPale'+'tte'][_0x29ba07+(0x55*-0xa+-0x1*0x504+0x858)];}if(_0x593069['colors'][_0x5c9ce8*(-0x1e83+0x14*0x14+-0x1cf7*-0x1)*(-0xcc*0x1f+-0x1*-0x1757+0x161)+(-0xce*-0x8+0xbd6+-0x923*0x2)]=_0x55971c,_0x593069['colors'][_0x5c9ce8*(0x716+0x9e5+-0x10f7*0x1)*(0x7c*0xd+-0x1*0x1ae5+-0x149d*-0x1)+(-0xe59+0x1fd*0x3+0x863)]=_0x27c2c9,_0x593069['colors'][_0x5c9ce8*(-0x5*0x737+0x11e7*-0x1+-0x35fe*-0x1)*(0x1f46*-0x1+-0x2*0xcbb+0x38c0)+(-0x5a5+-0x3*0xb33+0x2740)]=_0x65a47f,_0x593069['colors'][_0x5c9ce8*(0x2*0x240+-0x1d46+0x18ca)*(0x8e*-0x3c+0x2425+0x2d9*-0x1)+(-0x1fdc+0x18d3+-0x16*-0x52)]=0x5c+0x14c*-0xd+0x117f*0x1,_0x593069['colors'][_0x5c9ce8*(-0x1663+-0x1*0x6ec+-0x1d53*-0x1)*(-0x1*-0x50c+0xd5b+-0x1263)+(0xa64*0x1+-0x32*0x41+0x252)]=_0x55971c,_0x593069['colors'][_0x5c9ce8*(-0x1144+0xadb+-0x149*-0x5)*(0x4d5*-0x7+0xfa*0x1a+0x873)+(0x2052+0x1*0x803+-0x3c*0xac)]=_0x27c2c9,_0x593069['colors'][_0x5c9ce8*(-0x172+-0xd*-0x1eb+0x7d3*-0x3)*(0x9*0x3fd+-0x6fc+-0xd*0x239)+(-0x1b9f+-0x1c1*0x11+0x3976)]=_0x65a47f,_0x593069['colors'][_0x5c9ce8*(-0x34*-0x7d+-0x16ae+-0x2*0x159)*(0x1*0x1c87+0x6e4+0x1dd*-0x13)+(0x146a+0x16d3*-0x1+0x270)]=0x16*-0xa5+0x5cb+0x962,_0x593069['colors'][_0x5c9ce8*(0x1*0x11bd+-0x8bf+-0x8fa*0x1)*(0x5*0x14e+0x1e12+-0x1*0x2494)+(-0x2652+-0x2189+0x47e3)]=_0x55971c,_0x593069['colors'][_0x5c9ce8*(0x2*0xc99+-0x3*-0x125+-0x1c9d)*(-0x7*0x317+-0x68*0x4f+0x1*0x35bd)+(-0xebb*-0x1+-0x72*0x31+-0x4c*-0x18)]=_0x27c2c9,_0x593069['colors'][_0x5c9ce8*(-0x49*0xb+0x4b8*0x4+-0xfb9)*(0x2*0x12e+0xd15+-0xf6d)+(-0x7ca*-0x4+0x16a6+-0xba*0x4a)]=_0x65a47f,_0x593069['colors'][_0x5c9ce8*(0x52e+-0x3f*0x6b+0x1*0x152b)*(-0x1d32+0x2042+0x30c*-0x1)+(0x43*0x6d+-0x1*0x2498+0xad*0xc)]=0x12cd+-0x12a1+-0xd3*-0x1,_0x593069['colors'][_0x5c9ce8*(-0x7a1+0x1535*0x1+-0xd90)*(0x10f*-0x16+-0x3*-0xb11+-0x1*0x9e5)+(0xbd2+-0x12a6+0x6e0)]=_0x55971c,_0x593069['colors'][_0x5c9ce8*(-0xc*0x2cc+-0x11*0xcd+0xfbb*0x3)*(-0x1f5c+-0xd37+0x2f9*0xf)+(-0x1*-0x1d1b+-0xf12+-0x2*0x6fe)]=_0x27c2c9,_0x593069['colors'][_0x5c9ce8*(0x5c8+0x1*-0xb51+0x58d*0x1)*(-0x2*0xbdd+0x1*-0xfef+0x27ad)+(0x12b*0x5+-0xb*0x21f+0x118c)]=_0x65a47f,_0x593069['colors'][_0x5c9ce8*(-0x2a1*-0x5+0x10af+-0x1dd0)*(0x13c4+0x4*-0x42+-0x12b8)+(0x1779+-0x10de+-0x2*0x346)]=0x4ff*0x1+-0x22d1+0x17*0x157,this['_symbolOut'+'lineParams']){const _0x3954fb=this['_symbolOut'+'lineParams'][_0x5cf4b3]*(-0x1e6d+-0x2371+0x41e3);_0xa70a67=this['_outlinePa'+'lette'][_0x3954fb]+this['_outlinePa'+'lette'][_0x3954fb+(-0xe33*0x2+0x293*0xb+-0x1*-0x16)]*(-0x22a1+-0x493+0x2834),_0x4ba739=this['_outlinePa'+'lette'][_0x3954fb+(0x823*-0x1+0x1ff6+-0x17d1)]+this['_outlinePa'+'lette'][_0x3954fb+(-0xe0+0x658+-0x575*0x1)]*(-0x1cc1+0x3d5*-0x7+0x3894),_0x4db960=this['_outlinePa'+'lette'][_0x3954fb+(0x2401*-0x1+-0x1*-0x18a7+0x5*0x246)];}if(_0x593069['outlines'][_0x5c9ce8*(-0x13b*-0x7+0xc41*0x2+-0x211b)*(-0x1813*-0x1+0x1*-0xecf+-0x67*0x17)+(0x12e9*-0x1+-0x144e+0x1*0x2737)]=_0xa70a67,_0x593069['outlines'][_0x5c9ce8*(0x34*-0x2+-0x8e*0x7+-0x26*-0x1d)*(0x1*-0x1713+-0x5*-0x46d+0x31*0x5)+(0x1fed+0x1184+-0x3170)]=_0x4ba739,_0x593069['outlines'][_0x5c9ce8*(0x1ea+-0x2a7*0xb+0x1b47)*(0x665*0x3+0xd*-0x224+-0x8a8*-0x1)+(-0x1751+-0x1e57+0x35aa)]=_0x4db960,_0x593069['outlines'][_0x5c9ce8*(-0xdc2+0x156f+-0x7a9)*(-0xbe*0x2+0x65a*0x1+-0x4db)+(-0x48c*0x5+0x1abd+-0x2*0x1ff)]=_0xa70a67,_0x593069['outlines'][_0x5c9ce8*(0x1*-0x10d5+0x838+0x8a1)*(0x1*0x10bb+-0x1850+0x798)+(-0x2130+-0x9eb*-0x2+-0x2*-0x6af)]=_0x4ba739,_0x593069['outlines'][_0x5c9ce8*(0x21ac*-0x1+0x7e2*-0x3+-0x166*-0x29)*(-0x37*0x5e+-0x20d9+0x350e)+(0x25bd+0x31b*-0x9+-0x9c5)]=_0x4db960,_0x593069['outlines'][_0x5c9ce8*(0x779*-0x2+-0x25af+0x34a5)*(-0x1e64+-0x240+0x283*0xd)+(0x1*-0xaa9+0x16f2*0x1+-0xc43)]=_0xa70a67,_0x593069['outlines'][_0x5c9ce8*(0xf2+0x11f+-0x4b*0x7)*(0x17a2*-0x1+-0x24c*0x11+0xb*0x5b3)+(0x18*-0x74+0x1*-0xca7+0x178e)]=_0x4ba739,_0x593069['outlines'][_0x5c9ce8*(0xa*0x135+0x1d4*-0xa+-0x2*-0x31d)*(0xd2+-0x4f*-0x1+-0x11e*0x1)+(0x1c35+-0xbdd+0x6*-0x2b8)]=_0x4db960,_0x593069['outlines'][_0x5c9ce8*(-0x184*0x17+-0x2*-0xdf7+0x6f2)*(-0xb64+-0x20*-0x103+-0x14f9)+(-0x41*-0x3+-0x1*-0x1b3d+-0x1bf7)]=_0xa70a67,_0x593069['outlines'][_0x5c9ce8*(-0x3*-0x831+0x70b*0x1+-0x329*0xa)*(-0x13e1+0x51b+0xec9*0x1)+(-0xde5+0x7cf+-0xe*-0x70)]=_0x4ba739,_0x593069['outlines'][_0x5c9ce8*(0x2297+0x3*-0x474+-0x1*0x1537)*(-0x25*0x7b+0x8c3*-0x1+0x1a8d)+(0x16d+-0xd5c+0xe*0xdb)]=_0x4db960,this['_symbolSha'+'dowParams']){const _0x3732c9=this['_symbolSha'+'dowParams'][_0x5cf4b3]*(-0x1*0xb55+-0x1647+-0x23*-0xf6);_0x5775c1=this['_shadowPal'+'ette'][_0x3732c9]+this['_shadowPal'+'ette'][_0x3732c9+(0xda*0xd+0x18ac*-0x1+0xd9b)]*(0x1c*-0xb5+0x1d0+0xa2*0x1e),_0x94e4ad=this['_shadowPal'+'ette'][_0x3732c9+(-0x2*0xfbf+0x7f*-0x1a+0x2c66)]+this['_shadowPal'+'ette'][_0x3732c9+(0x1*0x671+0x3bb+-0xa29)]*(-0x1091+0x22b8+-0x1127*0x1),_0x53689e=this['_shadowPal'+'ette'][_0x3732c9+(-0x7*-0x25+0x1dea+0x1*-0x1ee9)]+(-0x1d2a*-0x1+-0x1*-0x1213+0x175f*-0x2)+Math['round'](_0x3ddf18*this['_shadowPal'+'ette'][_0x3732c9+(0x117d+-0x1632+0x4ba)]+(-0x241*-0x7+0x255a+-0x34a2*0x1))*(0x1*-0xb6+0xd8c+0xbd6*-0x1);}_0x593069['shadows'][_0x5c9ce8*(-0xa5e+-0x2027+0x2a89)*(-0x1b*0x8+0x1189*-0x1+0x1264)+(-0x49*-0x2d+0x19d8+-0x26ad)]=_0x5775c1,_0x593069['shadows'][_0x5c9ce8*(0x17cc+-0x1a5a+0x7*0x5e)*(0x1*-0x1516+-0x13d*-0x4+0x1025)+(-0x1dbf+0x1936+-0x7*-0xa6)]=_0x94e4ad,_0x593069['shadows'][_0x5c9ce8*(0x13f9*0x1+0x7f*0x22+-0xb*0x359)*(0x1a67*-0x1+-0xc7b+0x26e5)+(-0x1c7c+-0x137*-0x1+0x1b47)]=_0x53689e,_0x593069['shadows'][_0x5c9ce8*(-0x2275*0x1+0x2033+0x246)*(0x14b3+0x2593+-0x3a43*0x1)+(-0x94*-0xb+0x1ea+-0x5*0x1a7)]=_0x5775c1,_0x593069['shadows'][_0x5c9ce8*(0x1*0x1acd+0x64a*-0x1+-0x9*0x247)*(0x47*0x16+-0x1954+-0xc5*-0x19)+(0x1b41+0xed1*0x1+0x602*-0x7)]=_0x94e4ad,_0x593069['shadows'][_0x5c9ce8*(-0x13d3+0x1889+-0x259*0x2)*(-0x23a4*-0x1+-0x1ae9*0x1+-0x8b8)+(0x21be+0x16e+0x1*-0x2327)]=_0x53689e,_0x593069['shadows'][_0x5c9ce8*(-0xc1d+-0xfdc+0x1bfd*0x1)*(0x8*0x67+0xc3c+-0x1*0xf71)+(0x2305*-0x1+-0x261*-0x3+-0x37d*-0x8)]=_0x5775c1,_0x593069['shadows'][_0x5c9ce8*(-0x108e+0x23e6+-0x1354)*(-0x409*-0x9+-0x9c8+-0x61*0x46)+(0x74+-0x3fa+0x9*0x65)]=_0x94e4ad,_0x593069['shadows'][_0x5c9ce8*(-0x5d9+-0x78e+0xd6b)*(0xee*0x3+-0x2233+0x1f6c)+(-0xa8d*-0x1+0x2633+-0x1*0x30b8)]=_0x53689e,_0x593069['shadows'][_0x5c9ce8*(0x13d5+0x1*0x16f9+-0x2aca)*(0x1*0xdc7+-0x5a3+-0x1*0x821)+(0x1f97+-0x193d+-0x651)]=_0x5775c1,_0x593069['shadows'][_0x5c9ce8*(-0x1*-0x125+-0x78*0x11+0x6d7)*(-0x63a*0x6+0x192e+0xc31)+(0x515*-0x1+-0x1*-0xdaf+-0x890)]=_0x94e4ad,_0x593069['shadows'][_0x5c9ce8*(-0x1593+-0x1ceb*-0x1+-0x754)*(-0x4*-0x2c9+0x128e+-0x9e5*0x3)+(-0x842+-0x79c*-0x1+0xb1)]=_0x53689e,_0x593069['quad']++;}_0x567f63||_0x37f9f5<_0x1f28aa&&_0x3e72a3(this['_symbols'],_0x1f28aa,_0x3e0649);}this['_noResize']=!(0x2127+0x958+-0x2a7f),this['autoWidth']=this['_autoWidth'],this['autoHeight']=this['_autoHeigh'+'t'],this['_noResize']=!(-0x160+-0x1ffa+0x215b);const _0x2d2091=this['_element']['pivot']['x'],_0xf4ec6e=this['_element']['pivot']['y'],_0x1065aa=this['_alignment']['x'],_0xd01852=this['_alignment']['y'];for(let _0x449634=-0xf7a*0x1+-0x15d*0x3+0x1391;_0x449634<this['_meshInfo']['length'];_0x449634++){if(this['_meshInfo'][_0x449634]['count']===0x25cf*0x1+0xeca+-0x3499)continue;let _0x35d67e=-0xb2*-0x22+-0x1d35+0x591;for(const _0x13ec6d in this['_meshInfo'][_0x449634]['lines']){const _0x1d5064=this['_meshInfo'][_0x449634]['lines'][_0x13ec6d],_0x408bb7=this['_lineWidth'+'s'][parseInt(_0x13ec6d,0x1450+-0x142c+0x2*-0xd)],_0x8b1b6d=-_0x2d2091*this['_element']['calculated'+'Width']+_0x1065aa*(this['_element']['calculated'+'Width']-_0x408bb7)*(this['_rtl']?-(-0xca*-0x30+0x1e07+-0x43e6):0x10f3+0x9*0x16d+-0x34f*0x9),_0x3bacdb=(0x1f1e+0x256b+-0x4488-_0xf4ec6e)*this['_element']['calculated'+'Height']-_0x9fd27b-(-0x8b0+-0x171d+0x1fce-_0xd01852)*(this['_element']['calculated'+'Height']-this['height']);for(let _0x402dca=_0x35d67e;_0x402dca<=_0x1d5064;_0x402dca++)this['_meshInfo'][_0x449634]['positions'][_0x402dca*(0x7b*0x49+0x2fe*0x1+-0x260d)*(-0x10e1+-0xdba+0x1e9e)]+=_0x8b1b6d,this['_meshInfo'][_0x449634]['positions'][_0x402dca*(-0x1*-0x23ae+0xd29+0x1d*-0x1af)*(-0x4*0x64d+-0x2*0x7c3+0x28bd)+(-0x1*-0x1b65+0xafb+-0x265d)]+=_0x8b1b6d,this['_meshInfo'][_0x449634]['positions'][_0x402dca*(-0x6d*-0x51+-0x1503+0x6bb*-0x2)*(-0xf6f*0x2+-0xd94+0x2c75)+(0x100*0x19+-0x946+-0xfb4)]+=_0x8b1b6d,this['_meshInfo'][_0x449634]['positions'][_0x402dca*(-0xbfc+-0xa*-0x28b+-0xd6e)*(-0x2ed*0xa+0xf7*0x5+0x1872)+(0x697+0x1*-0x11d+-0x571)]+=_0x8b1b6d,this['_meshInfo'][_0x449634]['positions'][_0x402dca*(0x258d*-0x1+-0x26bd*0x1+0x4c4e)*(0x99f*0x3+-0x14b4+-0x7*0x12a)+(-0x213*-0x9+-0x1*0x2014+0xd6a)]+=_0x3bacdb,this['_meshInfo'][_0x449634]['positions'][_0x402dca*(0x2a*0xe9+0x2241+-0x4877)*(0x616+-0x21*0xd9+0x15e6)+(0x31e+-0x23c5+0x20ab)]+=_0x3bacdb,this['_meshInfo'][_0x449634]['positions'][_0x402dca*(-0x3c6+-0xa7*-0xd+-0x4b1)*(-0xe*0x98+-0x248b+-0x2cde*-0x1)+(-0x2371*0x1+0x2284+0x7a*0x2)]+=_0x3bacdb,this['_meshInfo'][_0x449634]['positions'][_0x402dca*(0xbd5*-0x1+0x1da0+-0x11c7)*(-0x105a+-0x122a+0x2287)+(0x11c1+0x18fc+-0x2ab3)]+=_0x3bacdb;if(this['_rtl'])for(let _0x48c156=_0x35d67e;_0x48c156<=_0x1d5064;_0x48c156++){const _0x158f61=_0x48c156*(0x509+0x138b+0x1890*-0x1)*(0x17*-0x1af+0xf79+0x4a7*0x5);for(let _0x4cd2c0=-0x71*0x5+-0x4e3+0x718;_0x4cd2c0<0x34c*0xa+0x139*-0x1f+0x4f3;++_0x4cd2c0)this['_meshInfo'][_0x449634]['positions'][_0x158f61+_0x4cd2c0*(-0x207*-0x6+0x228d+-0x2eb4)]=this['_element']['calculated'+'Width']-this['_meshInfo'][_0x449634]['positions'][_0x158f61+_0x4cd2c0*(0x7e*0xd+0x1c*-0xb2+0xd15)]+_0x8b1b6d*(0x79e+0x3*0x52f+-0x1729);const _0x3f994d=this['_meshInfo'][_0x449634]['positions'][_0x158f61+(0x5*-0x316+-0x6*-0x567+-0x365*0x5)],_0x39abdb=this['_meshInfo'][_0x449634]['positions'][_0x158f61+(-0xaf8+-0x1*-0x25d9+-0x5*0x55f)];this['_meshInfo'][_0x449634]['positions'][_0x158f61+(-0x2422+0x1*-0x1912+0x3d37)]=this['_meshInfo'][_0x449634]['positions'][_0x158f61+(0x1aa+0x1444+-0x15ee*0x1)],this['_meshInfo'][_0x449634]['positions'][_0x158f61+(0x473+-0xb65*0x1+0x2*0x37c)]=this['_meshInfo'][_0x449634]['positions'][_0x158f61+(-0x1*0x1cb3+-0x73+0x1d2f)],this['_meshInfo'][_0x449634]['positions'][_0x158f61+(0x2641*-0x1+-0x293*-0x9+-0x1*-0xf16)]=_0x3f994d,this['_meshInfo'][_0x449634]['positions'][_0x158f61+(-0x1517*-0x1+0x91*0x3d+-0x379b)]=_0x39abdb;}_0x35d67e=_0x1d5064+(0x1cf0+-0x1963+-0x4*0xe3);}const _0x1dcacc=this['_meshInfo'][_0x449634]['count']*(-0x117c+-0x3*-0x4c4+-0xa*-0x52),_0x2cf099=this['_meshInfo'][_0x449634]['quad']*(0x1493+-0x2e1+0x3e*-0x49),_0xa5f3be=new Uo(this['_meshInfo'][_0x449634]['meshInstan'+'ce']['mesh']['vertexBuff'+'er']);for(let _0x5baa8e=0x183c+0x8dc+-0x2118;_0x5baa8e<_0x1dcacc;_0x5baa8e++)_0x5baa8e>=_0x2cf099?(_0xa5f3be['element'][Me]['set'](0xfb*-0x7+-0x1404+0x1ae1*0x1,0x379+0x701+-0x95*0x12,0x1a2*0x17+0x1021+-0x35af),_0xa5f3be['element'][is]['set'](-0x3e8*0xa+-0x13d*-0x4+-0xec*-0x25,-0x1a3*-0x12+-0x11af+-0xc9*0xf),_0xa5f3be['element'][Wt]['set'](0x209c+-0x1564*-0x1+-0x3600,0x4c2+0x2462+0x1*-0x2924,-0x196a+-0x8ad*-0x1+0x10bd,0x158b*-0x1+-0xd31*0x2+0x2fed),_0xa5f3be['element'][Ko]['set'](0x11a3+0x1*0x1343+0x2*-0x1273,-0x2075+-0xcf+-0x2144*-0x1,-0xcd7*-0x1+-0x5e*-0x66+0x7d*-0x67,0xb*0x137+-0x160c+0x8af),_0xa5f3be['element'][Zo]['set'](-0x1482+0x1cbc+-0x83a,-0x23f4+-0x51a+0x290e,0xb17+0x1ae0+0x1*-0x25f7,-0xa6*0x30+-0x152d*-0x1+0x9*0x11b)):(_0xa5f3be['element'][Me]['set'](this['_meshInfo'][_0x449634]['positions'][_0x5baa8e*(-0x66f+-0x5*-0x34d+-0x5*0x203)+(-0x1230+-0x2*-0x823+0x1ea)],this['_meshInfo'][_0x449634]['positions'][_0x5baa8e*(0x40*-0x11+0x24a*0x8+-0xe0d)+(0x9d7+0x53c+-0xf12)],this['_meshInfo'][_0x449634]['positions'][_0x5baa8e*(0x1*-0x1463+0x226a+-0xe04)+(-0x1e3d+-0x1a5*-0x17+-0x794)]),_0xa5f3be['element'][is]['set'](this['_meshInfo'][_0x449634]['uvs'][_0x5baa8e*(0x177e+-0x575+-0x1207)+(0x246+-0x1d77+0x1b31)],this['_meshInfo'][_0x449634]['uvs'][_0x5baa8e*(0x806+0x41*0x22+0x2*-0x853)+(0xef5*-0x2+-0xecd+0x165c*0x2)]),_0xa5f3be['element'][Wt]['set'](this['_meshInfo'][_0x449634]['colors'][_0x5baa8e*(-0x1f*0x10d+-0xbd3+0x2c6a)+(-0x65*-0x25+-0x1f*0x115+0x12f2)],this['_meshInfo'][_0x449634]['colors'][_0x5baa8e*(0x1*-0x10cd+0x3*0x13+0x1098)+(-0xd97+-0x2520+0x4*0xcae)],this['_meshInfo'][_0x449634]['colors'][_0x5baa8e*(0x29*0x56+0x23e5*-0x1+0x1623)+(-0x1023*-0x2+0x1a68+-0x3aac)],this['_meshInfo'][_0x449634]['colors'][_0x5baa8e*(-0x8ee+-0x5b4+0xea6)+(-0x19ae+-0x4*-0x365+0xc1d)]),_0xa5f3be['element'][Ko]['set'](this['_meshInfo'][_0x449634]['outlines'][_0x5baa8e*(-0x1ae9+-0x1e1f+0x390b)+(0x1*0x343+0x7*0x455+-0x2196)],this['_meshInfo'][_0x449634]['outlines'][_0x5baa8e*(-0x20f2+-0x2244+-0x1*-0x4339)+(-0x2117+0x101a+0x10fe)],this['_meshInfo'][_0x449634]['outlines'][_0x5baa8e*(0x99a+0x3*-0x94d+0x1250)+(0x1e2f+-0xd64+-0x1*0x10c9)]),_0xa5f3be['element'][Zo]['set'](this['_meshInfo'][_0x449634]['shadows'][_0x5baa8e*(0x1a*0x14b+-0x3*-0x7e1+0x11*-0x35e)+(-0x4fb*0x7+0xa88+0x1855)],this['_meshInfo'][_0x449634]['shadows'][_0x5baa8e*(0x1885+-0x3a6*-0x1+-0x1c28)+(0x145e+-0x720+0x1*-0xd3d)],this['_meshInfo'][_0x449634]['shadows'][_0x5baa8e*(0x2d*0x97+0x1c3+-0x1*0x1c4b)+(-0xb39+-0x646*0x1+0x1*0x1181)])),_0xa5f3be['next']();_0xa5f3be['end'](),this['_meshInfo'][_0x449634]['meshInstan'+'ce']['mesh']['aabb']['compute'](this['_meshInfo'][_0x449634]['positions']),this['_meshInfo'][_0x449634]['meshInstan'+'ce']['_aabbVer']=-(-0x123e+-0x732+0x1971);}this['_aabbDirty']=!(0x3*-0x503+-0x6*0x4ff+0x2d03);}['_onFontRen'+'der'](){this['font']=this['_font'];}['_onFontLoa'+'d'](_0x2195e2){this['font']!==_0x2195e2['resource']&&(this['font']=_0x2195e2['resource']);}['_onFontCha'+'nge'](_0xad230,_0x1bef9e,_0x11c2fb,_0x21133c){if(_0x1bef9e==='data'){this['_font']['data']=_0x11c2fb;const _0x2757cf=this['_font']['data']['info']['maps']['length'];for(let _0x20f60c=-0x1f0f+-0x1017+0x2f26;_0x20f60c<_0x2757cf;_0x20f60c++){if(!this['_meshInfo'][_0x20f60c])continue;const _0x49248b=this['_meshInfo'][_0x20f60c]['meshInstan'+'ce'];_0x49248b&&(_0x49248b['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x49248b['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x49248b['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x20f60c]['width']));}}}['_onFontRem'+'ove'](_0x794e09){}['_setTextur'+'eParams'](_0x304b8d,_0x468ac0){this['_font']&&(this['_font']['type']===Rh?(_0x304b8d['deletePara'+'meter']('texture_em'+'issiveMap'),_0x304b8d['deletePara'+'meter']('texture_op'+'acityMap'),_0x304b8d['setParamet'+'er']('texture_ms'+'dfMap',_0x468ac0)):this['_font']['type']===dR&&(_0x304b8d['deletePara'+'meter']('texture_ms'+'dfMap'),_0x304b8d['setParamet'+'er']('texture_em'+'issiveMap',_0x468ac0),_0x304b8d['setParamet'+'er']('texture_op'+'acityMap',_0x468ac0)));}['_getPxRang'+'e'](_0xfc6a7e){const _0x540e02=Object['keys'](this['_font']['data']['chars']);for(let _0x32b238=0x18c0+0x15f8+-0x2eb8;_0x32b238<_0x540e02['length'];_0x32b238++){const _0x79aa9a=this['_font']['data']['chars'][_0x540e02[_0x32b238]];if(_0x79aa9a['range'])return(_0x79aa9a['scale']||-0xcc8*0x2+-0x1ce5+0x3676)*_0x79aa9a['range'];}return-0x22c9+0xf20+0x5f*0x35;}['_getUv'](_0x40738b){const _0x4b2eb1=this['_font']['data'];if(!_0x4b2eb1['chars'][_0x40738b])return _0x4b2eb1['chars']['\x20']?this['_getUv']('\x20'):[0x4*0x252+-0x7*-0x54d+-0x2e63,-0x2588*-0x1+-0xc*-0x1fd+0x1*-0x3d64,-0x1d*0x25+0x1655*0x1+-0x1224,0x1da+0x180f+-0x19e9];const _0x2c916f=_0x4b2eb1['chars'][_0x40738b]['map'],_0x3d241f=_0x4b2eb1['info']['maps'][_0x2c916f]['width'],_0x4ca7e1=_0x4b2eb1['info']['maps'][_0x2c916f]['height'],_0x3d40f8=_0x4b2eb1['chars'][_0x40738b]['x'],_0x1e8cb9=_0x4b2eb1['chars'][_0x40738b]['y'],_0x48e910=_0x3d40f8,_0x2cf8d1=_0x1e8cb9,_0x5edb7e=_0x3d40f8+_0x4b2eb1['chars'][_0x40738b]['width'],_0x1e48b4=_0x1e8cb9-_0x4b2eb1['chars'][_0x40738b]['height'],_0x12ad20=0x1dd6+0x289*-0xe+0x3f*0x17-_0x4b2eb1['chars'][_0x40738b]['height']/_0x4ca7e1;return[_0x48e910/_0x3d241f,_0x12ad20-_0x2cf8d1/_0x4ca7e1,_0x5edb7e/_0x3d241f,_0x12ad20-_0x1e48b4/_0x4ca7e1];}['onEnable'](){this['_fontAsset']['autoLoad']=!(-0x1119*-0x1+-0xcc0+0x173*-0x3),this['_model']&&this['_element']['addModelTo'+'Layers'](this['_model']);}['onDisable'](){this['_fontAsset']['autoLoad']=!(-0x26f6+-0x1*-0x4eb+-0x4*-0x883),this['_model']&&this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']);}['_setStenci'+'l'](_0x2367ab){if(this['_model']){const _0x517b7a=this['_model']['meshInstan'+'ces'];for(let _0x4e44c7=0x2ff*-0x1+0x1916+-0x1617;_0x4e44c7<_0x517b7a['length'];_0x4e44c7++)_0x517b7a[_0x4e44c7]['stencilFro'+'nt']=_0x2367ab,_0x517b7a[_0x4e44c7]['stencilBac'+'k']=_0x2367ab;}}['_shouldAut'+'oFitWidth'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth'];}['_shouldAut'+'oFitHeight'](){return this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_shouldAut'+'oFit'](){return this['_autoFitWi'+'dth']&&!this['_autoWidth']||this['_autoFitHe'+'ight']&&!this['_autoHeigh'+'t'];}['_calculate'+'CharsPerTe'+'xture'](_0x3b3542){const _0x56cc8a={};_0x3b3542===void(-0xda5+0x360+-0xef*-0xb)&&(_0x3b3542=this['_symbols']['length']);for(let _0x472a57=-0xdd1+0x13*0x1aa+0x5d*-0x31,_0x45153b=_0x3b3542;_0x472a57<_0x45153b;_0x472a57++){const _0xee56e1=this['_symbols'][_0x472a57];let _0x94ebc9=this['_font']['data']['chars'][_0xee56e1];_0x94ebc9||(_0x94ebc9=this['_font']['data']['chars']['\x20'],_0x94ebc9||(_0x94ebc9=this['_font']['data']['chars'][Object['keys'](this['_font']['data']['chars'])[-0xc29*-0x1+-0x8c6+0x3*-0x121]]));const _0x19fae6=_0x94ebc9['map'];_0x56cc8a[_0x19fae6]?_0x56cc8a[_0x19fae6]++:_0x56cc8a[_0x19fae6]=-0x50a+-0x16f8+0x1c03*0x1;}return _0x56cc8a;}['_updateRen'+'derRange'](){const _0x2c8618=this['_rangeStar'+'t']===-0x1e8+-0x5*-0xc1+0x1*-0x1dd?0x2329+-0x10*-0x8b+-0x2bd9:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeStar'+'t']),_0xe7ce2=this['_rangeEnd']===-0x35*-0x7f+-0x6*-0x10f+-0x20a5*0x1?-0x1*0x970+0x7*0x3e5+-0x15f*0xd:this['_calculate'+'CharsPerTe'+'xture'](this['_rangeEnd']);for(let _0x3065d1=0x1*-0xf4d+-0x308+0x1255,_0x1d6f67=this['_meshInfo']['length'];_0x3065d1<_0x1d6f67;_0x3065d1++){const _0x496cbf=_0x2c8618[_0x3065d1]||-0x111d*-0x1+0x3*-0x99b+0xbb4,_0x1c265f=_0xe7ce2[_0x3065d1]||0xfbd+-0xb3f*0x2+-0x13*-0x5b,_0x1ec7c7=this['_meshInfo'][_0x3065d1]['meshInstan'+'ce'];if(_0x1ec7c7){const _0x4a6211=_0x1ec7c7['mesh'];_0x4a6211&&(_0x4a6211['primitive'][-0x21c1+-0x21*0x35+0x2896]['base']=_0x496cbf*(-0x837+-0x248e+-0x2cc8*-0x1)*(0x6b*0x35+-0x631*0x2+0x33*-0x31),_0x4a6211['primitive'][0x989*-0x1+-0x1*-0xec1+-0x538]['count']=(_0x1c265f-_0x496cbf)*(0x381+0x1f2d+-0x22ab*0x1)*(0x51e*-0x4+-0x335*0x1+0x17af*0x1));}}}set['text'](_0x2c2214){this['_i18nKey']=null;const _0x2dcb85=_0x2c2214!=null&&_0x2c2214['toString']()||'';this['_setText'](_0x2dcb85);}get['text'](){return this['_text'];}set['key'](_0x5102be){const _0x43a27f=_0x5102be!==null?_0x5102be['toString']():null;this['_i18nKey']!==_0x43a27f&&(this['_i18nKey']=_0x43a27f,_0x43a27f?(this['_fontAsset']['disableLoc'+'alization']=!(0x21b5+-0x1*0x1e5f+-0x355),this['_resetLoca'+'lizedText']()):this['_fontAsset']['disableLoc'+'alization']=!(0x42d*-0x7+0x151*0x5+0x16a6));}get['key'](){return this['_i18nKey'];}set['color'](_0x156db2){const _0x544f1e=_0x156db2['r'],_0x2ccea4=_0x156db2['g'],_0x2b1d59=_0x156db2['b'];if(this['_color']===_0x156db2&&console['warn']('Setting\x20el'+'ement.colo'+'r\x20to\x20itsel'+'f\x20will\x20hav'+'e\x20no\x20effec'+'t'),!(this['_color']['r']===_0x544f1e&&this['_color']['g']===_0x2ccea4&&this['_color']['b']===_0x2b1d59)&&(this['_color']['r']=_0x544f1e,this['_color']['g']=_0x2ccea4,this['_color']['b']=_0x2b1d59,!!this['_model'])){if(this['_symbolCol'+'ors'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_color']),this['_colorUnif'+'orm'][-0x1170+-0xf1*0x2+0x1352]=We['r'],this['_colorUnif'+'orm'][-0x2610+0x3*-0x203+-0x160d*-0x2]=We['g'],this['_colorUnif'+'orm'][0x104+0x1*-0x1cfe+-0x1*-0x1bfc]=We['b'];for(let _0xdfffff=-0x238c+0x74b+0x3*0x96b,_0x4d9c1e=this['_model']['meshInstan'+'ces']['length'];_0xdfffff<_0x4d9c1e;_0xdfffff++)this['_model']['meshInstan'+'ces'][_0xdfffff]['setParamet'+'er']('material_e'+'missive',this['_colorUnif'+'orm']);}this['_element']&&this['_element']['fire']('set:color',this['_color']);}}get['color'](){return this['_color'];}set['opacity'](_0x17c725){if(this['_color']['a']!==_0x17c725&&(this['_color']['a']=_0x17c725,this['_model'])){for(let _0x5a1fbb=-0x1046+0xc*0x2b4+0x815*-0x2,_0x1d510d=this['_model']['meshInstan'+'ces']['length'];_0x5a1fbb<_0x1d510d;_0x5a1fbb++)this['_model']['meshInstan'+'ces'][_0x5a1fbb]['setParamet'+'er']('material_o'+'pacity',_0x17c725);}this['_element']&&this['_element']['fire']('set:opacit'+'y',_0x17c725);}get['opacity'](){return this['_color']['a'];}set['lineHeight'](_0x5ee7c1){const _0x3af264=this['_lineHeigh'+'t'];this['_lineHeigh'+'t']=_0x5ee7c1,this['_scaledLin'+'eHeight']=_0x5ee7c1,_0x3af264!==_0x5ee7c1&&this['_font']&&this['_updateTex'+'t']();}get['lineHeight'](){return this['_lineHeigh'+'t'];}set['wrapLines'](_0x3a3207){const _0x1fcf51=this['_wrapLines'];this['_wrapLines']=_0x3a3207,_0x1fcf51!==_0x3a3207&&this['_font']&&this['_updateTex'+'t']();}get['wrapLines'](){return this['_wrapLines'];}get['lines'](){return this['_lineConte'+'nts'];}set['spacing'](_0x158844){const _0x2020af=this['_spacing'];this['_spacing']=_0x158844,_0x2020af!==_0x158844&&this['_font']&&this['_updateTex'+'t']();}get['spacing'](){return this['_spacing'];}set['fontSize'](_0x1f1aa2){const _0x8bed70=this['_fontSize'];this['_fontSize']=_0x1f1aa2,this['_originalF'+'ontSize']=_0x1f1aa2,_0x8bed70!==_0x1f1aa2&&this['_font']&&this['_updateTex'+'t']();}get['fontSize'](){return this['_fontSize'];}set['fontAsset'](_0x1bfed0){this['_fontAsset']['defaultAss'+'et']=_0x1bfed0;}get['fontAsset'](){return this['_fontAsset']['localizedA'+'sset'];}set['font'](_0xc089a4){let _0x466b4a;if(this['_font']&&(_0x466b4a=this['_font']['type'],this['_font']['off']&&this['_font']['off']('render',this['_onFontRen'+'der'],this)),this['_font']=_0xc089a4,this['_fontMinY']=0x1aa*-0x1+-0x1245*-0x1+0x109b*-0x1,this['_fontMaxY']=0x9*0x3c4+0x26e7*0x1+0x48cb*-0x1,!_0xc089a4)return;const _0x9d1e18=this['_font']['data'];for(const _0x370d6a in _0x9d1e18['chars']){const _0x151e75=_0x9d1e18['chars'][_0x370d6a];_0x151e75['bounds']&&(this['_fontMinY']=Math['min'](this['_fontMinY'],_0x151e75['bounds'][0x988+0x5a+-0x9e1]),this['_fontMaxY']=Math['max'](this['_fontMaxY'],_0x151e75['bounds'][-0x8c*-0x46+0x4*0x483+-0x3851]));}if(this['_font']['on']&&this['_font']['on']('render',this['_onFontRen'+'der'],this),this['_fontAsset']['localizedA'+'sset']&&this['_system']['app']['assets']['get'](this['_fontAsset']['localizedA'+'sset'])['resource']!==this['_font']&&(this['_fontAsset']['defaultAss'+'et']=null),_0xc089a4['type']!==_0x466b4a){const _0x53ba5c=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0x53ba5c);}for(let _0x800659=0x22*0x105+0x48b+-0x2735,_0x223841=this['_font']['textures']['length'];_0x800659<_0x223841;_0x800659++)if(!this['_meshInfo'][_0x800659])this['_meshInfo'][_0x800659]=new vR();else{const _0x2c30e6=this['_meshInfo'][_0x800659]['meshInstan'+'ce'];_0x2c30e6&&(_0x2c30e6['setParamet'+'er']('font_sdfIn'+'tensity',this['_font']['intensity']),_0x2c30e6['setParamet'+'er']('font_pxran'+'ge',this['_getPxRang'+'e'](this['_font'])),_0x2c30e6['setParamet'+'er']('font_textu'+'reWidth',this['_font']['data']['info']['maps'][_0x800659]['width']),this['_setTextur'+'eParams'](_0x2c30e6,this['_font']['textures'][_0x800659]));}let _0x48bdd4=!(0x7ff*-0x3+0x1fce+0x4*-0x1f4);for(let _0x18f4af=this['_font']['textures']['length'];_0x18f4af<this['_meshInfo']['length'];_0x18f4af++)this['_meshInfo'][_0x18f4af]['meshInstan'+'ce']&&(_0x48bdd4||(this['_element']['removeMode'+'lFromLayer'+'s'](this['_model']),_0x48bdd4=!(0x242b+-0x1*-0x1d89+-0x41b4)),this['_removeMes'+'hInstance'](this['_meshInfo'][_0x18f4af]['meshInstan'+'ce']));this['_meshInfo']['length']>this['_font']['textures']['length']&&(this['_meshInfo']['length']=this['_font']['textures']['length']),this['_updateTex'+'t']();}get['font'](){return this['_font'];}set['alignment'](_0x33cc7f){_0x33cc7f instanceof J?this['_alignment']['set'](_0x33cc7f['x'],_0x33cc7f['y']):this['_alignment']['set'](_0x33cc7f[0x1*0x21bd+0x1207+0x1*-0x33c4],_0x33cc7f[-0x1*-0x2596+0x1ea7+-0x443c]),this['_font']&&this['_updateTex'+'t']();}get['alignment'](){return this['_alignment'];}set['autoWidth'](_0x4ccdc2){const _0x31ffae=this['_autoWidth'];if(this['_autoWidth']=_0x4ccdc2,_0x4ccdc2&&Math['abs'](this['_element']['anchor']['x']-this['_element']['anchor']['z'])<0xd26+0x7*-0x2b6+-0x175*-0x4+0.0001&&(this['_element']['width']=this['width']),_0x31ffae!==_0x4ccdc2){const _0x5830ce=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x5830ce!==this['_fontSize']&&(this['_fontSize']=_0x5830ce,this['_font']&&this['_updateTex'+'t']());}}get['autoWidth'](){return this['_autoWidth'];}set['autoHeight'](_0x27406c){const _0x595eff=this['_autoHeigh'+'t'];if(this['_autoHeigh'+'t']=_0x27406c,_0x27406c&&Math['abs'](this['_element']['anchor']['y']-this['_element']['anchor']['w'])<0x1*0xe0f+0xf3*0x23+0x88*-0x59+0.0001&&(this['_element']['height']=this['height']),_0x595eff!==_0x27406c){const _0x124469=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'];_0x124469!==this['_fontSize']&&(this['_fontSize']=_0x124469,this['_font']&&this['_updateTex'+'t']());}}get['autoHeight'](){return this['_autoHeigh'+'t'];}set['rtlReorder'](_0x53b463){this['_rtlReorde'+'r']!==_0x53b463&&(this['_rtlReorde'+'r']=_0x53b463,this['_font']&&this['_updateTex'+'t']());}get['rtlReorder'](){return this['_rtlReorde'+'r'];}set['unicodeCon'+'verter'](_0x34297f){this['_unicodeCo'+'nverter']!==_0x34297f&&(this['_unicodeCo'+'nverter']=_0x34297f,this['_setText'](this['_text']));}get['unicodeCon'+'verter'](){return this['_unicodeCo'+'nverter'];}get['aabb'](){if(this['_aabbDirty']){let _0x5456c2=!(-0x63+-0x9*0x311+0x5*0x599);for(let _0x56e8e4=-0x157*0x5+0x15f0+-0xf3d;_0x56e8e4<this['_meshInfo']['length'];_0x56e8e4++)this['_meshInfo'][_0x56e8e4]['meshInstan'+'ce']&&(_0x5456c2?this['_aabb']['add'](this['_meshInfo'][_0x56e8e4]['meshInstan'+'ce']['aabb']):(this['_aabb']['copy'](this['_meshInfo'][_0x56e8e4]['meshInstan'+'ce']['aabb']),_0x5456c2=!(-0x7*-0x380+0x337*-0x2+0x202*-0x9)));this['_aabbDirty']=!(-0x1fe+0x2*0x1146+-0x208d);}return this['_aabb'];}set['outlineCol'+'or'](_0x2b7e78){const _0x19f60d=_0x2b7e78 instanceof ie?_0x2b7e78['r']:_0x2b7e78[-0x158a+0x429*-0x5+0x2a57],_0x4939c5=_0x2b7e78 instanceof ie?_0x2b7e78['g']:_0x2b7e78[0x2198+0x1*0x1881+-0x8*0x743],_0x2a04e2=_0x2b7e78 instanceof ie?_0x2b7e78['b']:_0x2b7e78[-0x1ebb+-0x1b44+0x1*0x3a01],_0x4e235e=_0x2b7e78 instanceof ie?_0x2b7e78['a']:_0x2b7e78[0x1dd1+0x1489+-0x3257];if(this['_outlineCo'+'lor']===_0x2b7e78&&console['warn']('Setting\x20el'+'ement.outl'+'ineColor\x20t'+'o\x20itself\x20w'+'ill\x20have\x20n'+'o\x20effect'),!(this['_outlineCo'+'lor']['r']===_0x19f60d&&this['_outlineCo'+'lor']['g']===_0x4939c5&&this['_outlineCo'+'lor']['b']===_0x2a04e2&&this['_outlineCo'+'lor']['a']===_0x4e235e)&&(this['_outlineCo'+'lor']['r']=_0x19f60d,this['_outlineCo'+'lor']['g']=_0x4939c5,this['_outlineCo'+'lor']['b']=_0x2a04e2,this['_outlineCo'+'lor']['a']=_0x4e235e,!!this['_model'])){if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_outlineCo'+'lor']),this['_outlineCo'+'lorUniform'][0x1*-0x1967+0x1aa7+-0x140]=We['r'],this['_outlineCo'+'lorUniform'][0x995+0x1448+0x9c*-0x31]=We['g'],this['_outlineCo'+'lorUniform'][-0x189*0x1+0x3b*-0xa4+0x175*0x1b]=We['b'],this['_outlineCo'+'lorUniform'][0x1d81+0xf82+-0x2d00]=We['a'];for(let _0x3f2dfb=-0x1cdb+-0x9b7*0x3+0x3a00,_0x5ebc16=this['_model']['meshInstan'+'ces']['length'];_0x3f2dfb<_0x5ebc16;_0x3f2dfb++)this['_model']['meshInstan'+'ces'][_0x3f2dfb]['setParamet'+'er']('outline_co'+'lor',this['_outlineCo'+'lorUniform']);}this['_element']&&this['_element']['fire']('set:outlin'+'e',this['_color']);}}get['outlineCol'+'or'](){return this['_outlineCo'+'lor'];}set['outlineThi'+'ckness'](_0x3ec79f){const _0x36acc9=this['_outlineTh'+'ickness'];if(this['_outlineTh'+'ickness']=_0x3ec79f,_0x36acc9!==_0x3ec79f&&this['_font']){if(!this['_model'])return;if(this['_symbolOut'+'lineParams'])this['_font']&&this['_updateTex'+'t']();else{for(let _0x56494d=-0x10*0x30+0x346*-0x6+0x16a4,_0x5493e3=this['_model']['meshInstan'+'ces']['length'];_0x56494d<_0x5493e3;_0x56494d++)this['_model']['meshInstan'+'ces'][_0x56494d]['setParamet'+'er']('outline_th'+'ickness',this['_outlineTh'+'icknessSca'+'le']*this['_outlineTh'+'ickness']);}}}get['outlineThi'+'ckness'](){return this['_outlineTh'+'ickness'];}set['shadowColo'+'r'](_0x5ce96b){const _0x3eda1a=_0x5ce96b instanceof ie?_0x5ce96b['r']:_0x5ce96b[0x24fe+0x13f6+-0xf3*0x3c],_0x4d24ae=_0x5ce96b instanceof ie?_0x5ce96b['g']:_0x5ce96b[-0x6f1*0x3+0x536+0xf9e],_0xc1fd6e=_0x5ce96b instanceof ie?_0x5ce96b['b']:_0x5ce96b[0x1*0x1930+0x6e9+0x1f*-0x109],_0x1a677a=_0x5ce96b instanceof ie?_0x5ce96b['a']:_0x5ce96b[-0x388*0xb+0x2ee+0x23ed];if(this['_shadowCol'+'or']===_0x5ce96b&&w['warn']('Setting\x20el'+'ement.shad'+'owColor\x20to'+'\x20itself\x20wi'+'ll\x20have\x20no'+'\x20effect'),!(this['_shadowCol'+'or']['r']===_0x3eda1a&&this['_shadowCol'+'or']['g']===_0x4d24ae&&this['_shadowCol'+'or']['b']===_0xc1fd6e&&this['_shadowCol'+'or']['a']===_0x1a677a)&&(this['_shadowCol'+'or']['r']=_0x3eda1a,this['_shadowCol'+'or']['g']=_0x4d24ae,this['_shadowCol'+'or']['b']=_0xc1fd6e,this['_shadowCol'+'or']['a']=_0x1a677a,!!this['_model'])){if(this['_symbolSha'+'dowParams'])this['_font']&&this['_updateTex'+'t']();else{We['linear'](this['_shadowCol'+'or']),this['_shadowCol'+'orUniform'][0x5*-0x1ff+-0xf2c+0x1927]=We['r'],this['_shadowCol'+'orUniform'][0x144e+-0x4*-0x5f7+0x2c29*-0x1]=We['g'],this['_shadowCol'+'orUniform'][0x1*-0x100e+-0x45*0x2d+0x1c31]=We['b'],this['_shadowCol'+'orUniform'][-0x2*0xa1b+0x1f23*0x1+-0xaea]=We['a'];for(let _0xe47e5=-0x1146+0x3*0x79c+-0x58e,_0x466d5d=this['_model']['meshInstan'+'ces']['length'];_0xe47e5<_0x466d5d;_0xe47e5++)this['_model']['meshInstan'+'ces'][_0xe47e5]['setParamet'+'er']('shadow_col'+'or',this['_shadowCol'+'orUniform']);}}}get['shadowColo'+'r'](){return this['_shadowCol'+'or'];}set['shadowOffs'+'et'](_0x5d5080){const _0x572a43=_0x5d5080 instanceof J?_0x5d5080['x']:_0x5d5080[0x15f5+0x297+0x623*-0x4],_0x350e34=_0x5d5080 instanceof J?_0x5d5080['y']:_0x5d5080[0x5*0x7c7+0x1*0x1519+0x5*-0xbff];if(!(this['_shadowOff'+'set']['x']===_0x572a43&&this['_shadowOff'+'set']['y']===_0x350e34)&&(this['_shadowOff'+'set']['set'](_0x572a43,_0x350e34),this['_font']&&this['_model'])){if(this['_symbolSha'+'dowParams'])this['_updateTex'+'t']();else for(let _0x28d7cb=-0x74c*0x4+0x133c+0x9f4,_0x526140=this['_model']['meshInstan'+'ces']['length'];_0x28d7cb<_0x526140;_0x28d7cb++){const _0x558f50=-this['_font']['data']['info']['maps'][_0x28d7cb]['width']/this['_font']['data']['info']['maps'][_0x28d7cb]['height'];this['_shadowOff'+'setUniform'][0x1b92+0x7*-0x91+-0x179b]=this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['x'],this['_shadowOff'+'setUniform'][-0xc90+0x12bc+-0x62b]=_0x558f50*this['_shadowOff'+'setScale']*this['_shadowOff'+'set']['y'],this['_model']['meshInstan'+'ces'][_0x28d7cb]['setParamet'+'er']('shadow_off'+'set',this['_shadowOff'+'setUniform']);}}}get['shadowOffs'+'et'](){return this['_shadowOff'+'set'];}set['minFontSiz'+'e'](_0x54cff0){this['_minFontSi'+'ze']!==_0x54cff0&&(this['_minFontSi'+'ze']=_0x54cff0,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['minFontSiz'+'e'](){return this['_minFontSi'+'ze'];}set['maxFontSiz'+'e'](_0x959e89){this['_maxFontSi'+'ze']!==_0x959e89&&(this['_maxFontSi'+'ze']=_0x959e89,this['font']&&this['_shouldAut'+'oFit']()&&this['_updateTex'+'t']());}get['maxFontSiz'+'e'](){return this['_maxFontSi'+'ze'];}set['autoFitWid'+'th'](_0x5b55b8){this['_autoFitWi'+'dth']!==_0x5b55b8&&(this['_autoFitWi'+'dth']=_0x5b55b8,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitWid'+'th'](){return this['_autoFitWi'+'dth'];}set['autoFitHei'+'ght'](_0x44b081){this['_autoFitHe'+'ight']!==_0x44b081&&(this['_autoFitHe'+'ight']=_0x44b081,this['_fontSize']=this['_shouldAut'+'oFit']()?this['_maxFontSi'+'ze']:this['_originalF'+'ontSize'],this['font']&&this['_updateTex'+'t']());}get['autoFitHei'+'ght'](){return this['_autoFitHe'+'ight'];}set['maxLines'](_0x2323b1){this['_maxLines']!==_0x2323b1&&(_0x2323b1===null&&this['_maxLines']===-(-0x3fb*-0x6+0xa20+0x6cd*-0x5)||(this['_maxLines']=_0x2323b1===null?-(-0x6b7+-0x2*0x493+-0x2a5*-0x6):_0x2323b1,this['font']&&this['_wrapLines']&&this['_updateTex'+'t']()));}get['maxLines'](){return this['_maxLines'];}set['enableMark'+'up'](_0xbfc81d){if(_0xbfc81d=!!_0xbfc81d,this['_enableMar'+'kup']===_0xbfc81d)return;this['_enableMar'+'kup']=_0xbfc81d,this['font']&&this['_updateTex'+'t']();const _0xc73f6e=this['_element']['_isScreenS'+'pace']();this['_updateMat'+'erial'](_0xc73f6e);}get['enableMark'+'up'](){return this['_enableMar'+'kup'];}get['symbols'](){return this['_symbols'];}get['symbolColo'+'rs'](){return this['_symbolCol'+'ors']===null?null:this['_symbolCol'+'ors']['map'](function(_0x2b886a){return this['_colorPale'+'tte']['slice'](_0x2b886a*(-0xccd+0x2d5*0x1+0x9fb),_0x2b886a*(-0x1*0x2215+-0xd3*-0x2e+-0x3d2)+(-0x1642+0x851*-0x2+0x26e7));},this);}get['symbolOutl'+'ineParams'](){return this['_symbolOut'+'lineParams']===null?null:this['_symbolOut'+'lineParams']['map'](function(_0x6032a8){return this['_outlinePa'+'lette']['slice'](_0x6032a8*(-0x25cf+0x22d1+0x1*0x303),_0x6032a8*(-0x12a2+0x1ab1*0x1+-0x80a)+(0x1caf*0x1+0x1476+0x4*-0xc48));},this);}get['symbolShad'+'owParams'](){return this['_symbolSha'+'dowParams']===null?null:this['_symbolSha'+'dowParams']['map'](function(_0x5315f3){return this['_shadowPal'+'ette']['slice'](_0x5315f3*(0x142d+-0x1*0x1f93+0xb6c),_0x5315f3*(-0x10ce+0x2670+-0x4*0x567)+(0x1*-0xaba+0x7ac+0xc5*0x4));},this);}get['rtl'](){return this['_rtl'];}set['rangeStart'](_0x4fce42){_0x4fce42=Math['max'](-0x106e+0x1*-0x1521+0x258f,Math['min'](_0x4fce42,this['_symbols']['length'])),_0x4fce42!==this['_rangeStar'+'t']&&(this['_rangeStar'+'t']=_0x4fce42,this['_updateRen'+'derRange']());}get['rangeStart'](){return this['_rangeStar'+'t'];}set['rangeEnd'](_0x4b8370){_0x4b8370=Math['max'](this['_rangeStar'+'t'],Math['min'](_0x4b8370,this['_symbols']['length'])),_0x4b8370!==this['_rangeEnd']&&(this['_rangeEnd']=_0x4b8370,this['_updateRen'+'derRange']());}get['rangeEnd'](){return this['_rangeEnd'];}}const Ef=new D(),Zg=new te(),Pi=new D(),MR=new D(),ws=new te(),bc=new te(),Ac=new te(),$a=new te();class hs extends we{constructor(_0x552289,_0x463b70){super(_0x552289,_0x463b70),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_beingInit'+'ialized']=!(0xecd*-0x2+0x3*-0xb75+0x3ffa),this['_anchor']=new re(),this['_localAnch'+'or']=new re(),this['_pivot']=new J(),this['_width']=this['_calculate'+'dWidth']=-0xf43*0x1+0x5*-0x3b7+0x21f6,this['_height']=this['_calculate'+'dHeight']=0x1ef2+0x349+-0x221b*0x1,this['_margin']=new re(0x76b+0x1af4+-0x4e9*0x7,0x2b+0x194*-0x2+0x33*0xf,-(0xc*-0xf5+-0x1f70+-0xa*-0x44e),-(-0x1885+-0x8e2+0x2187)),this['_modelTran'+'sform']=new te(),this['_screenToW'+'orld']=new te(),this['_anchorTra'+'nsform']=new te(),this['_anchorDir'+'ty']=!(-0x107b*-0x1+0x16e7+-0x47*0x8e),this['_parentWor'+'ldTransfor'+'m']=new te(),this['_screenTra'+'nsform']=new te(),this['_screenCor'+'ners']=[new D(),new D(),new D(),new D()],this['_canvasCor'+'ners']=[new J(),new J(),new J(),new J()],this['_worldCorn'+'ers']=[new D(),new D(),new D(),new D()],this['_cornersDi'+'rty']=!(-0x8da+0xcb3*-0x3+-0x65*-0x77),this['_canvasCor'+'nersDirty']=!(-0x47*0x35+0xba*0x1+0xdf9),this['_worldCorn'+'ersDirty']=!(-0x124f+-0x62f*0x5+0x313a),this['entity']['on']('insert',this['_onInsert'],this),this['_patch'](),this['screen']=null,this['_type']=eh,this['_image']=null,this['_text']=null,this['_group']=null,this['_drawOrder']=0x217c+-0xe93*0x1+-0x1*0x12e9,this['_fitMode']=th,this['_useInput']=!(-0x1f58+-0x1*0x1d68+0x3cc1),this['_layers']=[Il],this['_addedMode'+'ls']=[],this['_batchGrou'+'pId']=-(0x11c4+-0x11*0x119+0x2*0x73),this['_batchGrou'+'p']=null,this['_offsetRea'+'dAt']=0x118+0x1*-0x663+0x1*0x54b,this['_maskOffse'+'t']=-0x108f+0x853*0x1+-0x44*-0x1f+0.5,this['_maskedBy']=null);}get['data'](){const _0x1ba7bd=this['system']['store'][this['entity']['getGuid']()];return _0x1ba7bd?_0x1ba7bd['data']:null;}set['enabled'](_0x367886){const _0x1000c6=this['data'],_0x4e24df=_0x1000c6['enabled'];_0x1000c6['enabled']=_0x367886,this['fire']('set','enabled',_0x4e24df,_0x367886);}get['enabled'](){return this['data']['enabled'];}get['_absLeft'](){return this['_localAnch'+'or']['x']+this['_margin']['x'];}get['_absRight'](){return this['_localAnch'+'or']['z']-this['_margin']['z'];}get['_absTop'](){return this['_localAnch'+'or']['w']-this['_margin']['w'];}get['_absBottom'](){return this['_localAnch'+'or']['y']+this['_margin']['y'];}get['_hasSplitA'+'nchorsX'](){return Math['abs'](this['_anchor']['x']-this['_anchor']['z'])>0xb17*0x3+-0x9fb*-0x3+0x20a*-0x1f+0.001;}get['_hasSplitA'+'nchorsY'](){return Math['abs'](this['_anchor']['y']-this['_anchor']['w'])>-0x1367+0x11ce*-0x1+-0x27b*-0xf+0.001;}get['aabb'](){return this['_image']?this['_image']['aabb']:this['_text']?this['_text']['aabb']:null;}set['anchor'](_0x211a94){_0x211a94 instanceof re?this['_anchor']['copy'](_0x211a94):this['_anchor']['set'](..._0x211a94),!this['entity']['_parent']&&!this['screen']?this['_calculate'+'LocalAncho'+'rs']():this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['_anchorDir'+'ty']=!(0x14a5+-0x23b1+-0x282*-0x6),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:anchor',this['_anchor']);}get['anchor'](){return this['_anchor'];}set['batchGroup'+'Id'](_0x5d4cf4){var _0x3800d6,_0x56464d;this['_batchGrou'+'pId']!==_0x5d4cf4&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x1886+0xb23+-0x23a9&&((_0x3800d6=this['system']['app']['batcher'])==null||_0x3800d6['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x5d4cf4>=0x1*-0x8a+0xe5b+0xdd1*-0x1&&((_0x56464d=this['system']['app']['batcher'])==null||_0x56464d['insert'](St['ELEMENT'],_0x5d4cf4,this['entity'])),_0x5d4cf4<0x13*-0xcb+0x2356+-0x1*0x1445&&this['_batchGrou'+'pId']>=0xe15+0x1571+-0x2386&&this['enabled']&&this['entity']['enabled']&&(this['_image']&&this['_image']['_renderabl'+'e']['model']?this['addModelTo'+'Layers'](this['_image']['_renderabl'+'e']['model']):this['_text']&&this['_text']['_model']&&this['addModelTo'+'Layers'](this['_text']['_model'])),this['_batchGrou'+'pId']=_0x5d4cf4);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['bottom'](_0x19f14b){this['_margin']['y']=_0x19f14b;const _0x1a553b=this['entity']['getLocalPo'+'sition'](),_0x18de35=this['_absTop'],_0x4b8b74=this['_localAnch'+'or']['y']+_0x19f14b;this['_setHeight'](_0x18de35-_0x4b8b74),_0x1a553b['y']=_0x19f14b+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0x1a553b);}get['bottom'](){return this['_margin']['y'];}set['calculated'+'Width'](_0x152a4a){this['_setCalcul'+'atedWidth'](_0x152a4a,!(-0x25d4+-0xd7a+0x334e));}get['calculated'+'Width'](){return this['_calculate'+'dWidth'];}set['calculated'+'Height'](_0x4f2320){this['_setCalcul'+'atedHeight'](_0x4f2320,!(0xba+-0x13*-0x61+0x7ed*-0x1));}get['calculated'+'Height'](){return this['_calculate'+'dHeight'];}get['canvasCorn'+'ers'](){if(!this['_canvasCor'+'nersDirty']||!this['screen']||!this['screen']['screen']['screenSpac'+'e'])return this['_canvasCor'+'ners'];const _0x3a2efa=this['system']['app']['graphicsDe'+'vice'],_0x5d712b=this['screenCorn'+'ers'],_0x31b957=_0x3a2efa['canvas']['clientWidt'+'h']/_0x3a2efa['width'],_0x7bd024=_0x3a2efa['canvas']['clientHeig'+'ht']/_0x3a2efa['height'];for(let _0x41d7d9=-0x1dea+0x29*0xaf+0x1e3;_0x41d7d9<0xf03+0xd7e+-0x1c7d;_0x41d7d9++)this['_canvasCor'+'ners'][_0x41d7d9]['set'](_0x5d712b[_0x41d7d9]['x']*_0x31b957,(_0x3a2efa['height']-_0x5d712b[_0x41d7d9]['y'])*_0x7bd024);return this['_canvasCor'+'nersDirty']=!(-0x37e+-0xe7f+0x11fe),this['_canvasCor'+'ners'];}set['drawOrder'](_0x24ff6e){let _0x26507b=0x685+-0x1b11+0xa*0x20e;this['screen']&&(_0x26507b=this['screen']['screen']['priority']),_0x24ff6e>-0x112d*0xd2b+-0x539f*0x22d+-0x1*-0x2981c81&&(w['warn']('Element.dr'+'awOrder\x20la'+'rger\x20than\x20'+'max\x20size\x20o'+'f:\x201677721'+'5'),_0x24ff6e=0x899413+0x2cfca0+0x1*0x496f4c),this['_drawOrder']=(_0x26507b<<-0x2292+-0x1*-0xa81+0x1829)+_0x24ff6e,this['fire']('set:drawor'+'der',this['_drawOrder']);}get['drawOrder'](){return this['_drawOrder'];}set['height'](_0x5db021){this['_height']=_0x5db021,this['_hasSplitA'+'nchorsY']||this['_setCalcul'+'atedHeight'](_0x5db021,!(-0xa7*0x1+0x6*0x25c+0xd81*-0x1)),this['fire']('set:height',this['_height']);}get['height'](){return this['_height'];}set['layers'](_0xbd4c55){if(this['_addedMode'+'ls']['length'])for(let _0x1ffc24=0x4d6*-0x4+-0x5*-0x19f+0x15*0x89;_0x1ffc24<this['_layers']['length'];_0x1ffc24++){const _0x40b972=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x1ffc24]);if(_0x40b972){for(let _0x1a1a88=-0x1*-0x1173+0x164a*0x1+-0x27bd;_0x1a1a88<this['_addedMode'+'ls']['length'];_0x1a1a88++)_0x40b972['removeMesh'+'Instances'](this['_addedMode'+'ls'][_0x1a1a88]['meshInstan'+'ces']);}}if(this['_layers']=_0xbd4c55,!(!this['enabled']||!this['entity']['enabled']||!this['_addedMode'+'ls']['length']))for(let _0x275a83=-0x7*-0x4e5+0x363+-0x25a6;_0x275a83<this['_layers']['length'];_0x275a83++){const _0x468246=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x275a83]);if(_0x468246){for(let _0x55f3ae=-0x23d9+0x1271+0x8*0x22d;_0x55f3ae<this['_addedMode'+'ls']['length'];_0x55f3ae++)_0x468246['addMeshIns'+'tances'](this['_addedMode'+'ls'][_0x55f3ae]['meshInstan'+'ces']);}}}get['layers'](){return this['_layers'];}set['left'](_0x411696){this['_margin']['x']=_0x411696;const _0x216518=this['entity']['getLocalPo'+'sition'](),_0x47a4a4=this['_absRight'],_0x56657b=this['_localAnch'+'or']['x']+_0x411696;this['_setWidth'](_0x47a4a4-_0x56657b),_0x216518['x']=_0x411696+this['_calculate'+'dWidth']*this['_pivot']['x'],this['entity']['setLocalPo'+'sition'](_0x216518);}get['left'](){return this['_margin']['x'];}set['margin'](_0x2a485e){this['_margin']['copy'](_0x2a485e),this['_calculate'+'Size'](!(-0x681+-0x8b*-0x37+-0x175c),!(0x877*0x1+-0x269*-0x6+-0x16ed)),this['fire']('set:margin',this['_margin']);}get['margin'](){return this['_margin'];}get['maskedBy'](){return this['_maskedBy'];}set['pivot'](_0x2e51ce){const {pivot:_0x3571e5,margin:_0x2437f6}=this,_0x5801db=_0x3571e5['x'],_0x13cf11=_0x3571e5['y'];_0x2e51ce instanceof J?_0x3571e5['copy'](_0x2e51ce):_0x3571e5['set'](..._0x2e51ce);const _0x1f4e65=_0x2437f6['x']+_0x2437f6['z'],_0x555b4d=_0x3571e5['x']-_0x5801db;_0x2437f6['x']+=_0x1f4e65*_0x555b4d,_0x2437f6['z']-=_0x1f4e65*_0x555b4d;const _0x371f4e=_0x2437f6['y']+_0x2437f6['w'],_0x4eaa41=_0x3571e5['y']-_0x13cf11;_0x2437f6['y']+=_0x371f4e*_0x4eaa41,_0x2437f6['w']-=_0x371f4e*_0x4eaa41,this['_anchorDir'+'ty']=!(0xcc9+0x178c+-0x2455),this['_cornersDi'+'rty']=!(0x1*0x1069+0x97f+-0x19e8),this['_worldCorn'+'ersDirty']=!(-0x2c*0x40+0x22b0+-0x17b*0x10),this['_calculate'+'Size'](!(-0x54a*-0x4+0x3b*0x1+-0x1562),!(-0x23e0+-0x1*-0x1f4b+0x496)),this['_flagChild'+'renAsDirty'](),this['fire']('set:pivot',_0x3571e5);}get['pivot'](){return this['_pivot'];}set['right'](_0x36bbcf){this['_margin']['z']=_0x36bbcf;const _0x2cb286=this['entity']['getLocalPo'+'sition'](),_0x3e5699=this['_absLeft'],_0x16f236=this['_localAnch'+'or']['z']-_0x36bbcf;this['_setWidth'](_0x16f236-_0x3e5699),_0x2cb286['x']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-_0x36bbcf-this['_calculate'+'dWidth']*(0x40*0x52+-0x3f6*0x1+-0x1089-this['_pivot']['x']),this['entity']['setLocalPo'+'sition'](_0x2cb286);}get['right'](){return this['_margin']['z'];}get['screenCorn'+'ers'](){if(!this['_cornersDi'+'rty']||!this['screen'])return this['_screenCor'+'ners'];const _0x216ee7=this['entity']['parent']&&this['entity']['parent']['element']&&this['entity']['parent']['element']['screenCorn'+'ers'][0x2*-0xed0+0x7af+-0x15f1*-0x1];this['_screenCor'+'ners'][0x1*-0x20e6+-0x8*-0x35c+0x606]['set'](this['_absLeft'],this['_absBottom'],-0x15*-0x154+-0x1fb5+0x3d1),this['_screenCor'+'ners'][-0x1*0xf08+0x48*0x8+0xcc9]['set'](this['_absRight'],this['_absBottom'],-0x17*-0xab+-0x427*0x4+0x1d*0xb),this['_screenCor'+'ners'][-0x1*0xbfb+0x17b+0xa82]['set'](this['_absRight'],this['_absTop'],0x7*-0x295+-0x44d*-0x9+-0x14a2),this['_screenCor'+'ners'][-0x1474+0x9cb+0xaac]['set'](this['_absLeft'],this['_absTop'],0x3*0xce7+0x159d+-0x3c52);const _0x2f8060=this['screen']['screen']['screenSpac'+'e'];for(let _0x5b2998=0xf97*0x2+-0x7ec*0x4+0x82;_0x5b2998<-0x1e9*-0x4+0x216+-0x9b6;_0x5b2998++)this['_screenTra'+'nsform']['transformP'+'oint'](this['_screenCor'+'ners'][_0x5b2998],this['_screenCor'+'ners'][_0x5b2998]),_0x2f8060&&this['_screenCor'+'ners'][_0x5b2998]['mulScalar'](this['screen']['screen']['scale']),_0x216ee7&&this['_screenCor'+'ners'][_0x5b2998]['add'](_0x216ee7);return this['_cornersDi'+'rty']=!(0x827+0x674+0xe*-0x10b),this['_canvasCor'+'nersDirty']=!(0x642+-0x221*-0x9+-0x196b),this['_worldCorn'+'ersDirty']=!(0x665*-0x3+0x1c2e+-0x7*0x149),this['_screenCor'+'ners'];}get['textWidth'](){return this['_text']?this['_text']['width']:0xf3f*-0x1+0x578+-0x1*-0x9c7;}get['textHeight'](){return this['_text']?this['_text']['height']:-0x25ac+-0x14cf+0xb*0x551;}set['top'](_0x19cebd){this['_margin']['w']=_0x19cebd;const _0x5c5af6=this['entity']['getLocalPo'+'sition'](),_0x2e53f2=this['_absBottom'],_0x441bf0=this['_localAnch'+'or']['w']-_0x19cebd;this['_setHeight'](_0x441bf0-_0x2e53f2),_0x5c5af6['y']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-_0x19cebd-this['_calculate'+'dHeight']*(-0x1*-0x20a5+0x1*-0x25b5+0x511-this['_pivot']['y']),this['entity']['setLocalPo'+'sition'](_0x5c5af6);}get['top'](){return this['_margin']['w'];}set['type'](_0x5ab7ec){_0x5ab7ec!==this['_type']&&(this['_type']=_0x5ab7ec,this['_image']&&(this['_image']['destroy'](),this['_image']=null),this['_text']&&(this['_text']['destroy'](),this['_text']=null),_0x5ab7ec===Cu?this['_image']=new cR(this):_0x5ab7ec===jv&&(this['_text']=new PR(this)));}get['type'](){return this['_type'];}set['useInput'](_0x5260c5){this['_useInput']!==_0x5260c5&&(this['_useInput']=_0x5260c5,this['system']['app']['elementInp'+'ut']?_0x5260c5?this['enabled']&&this['entity']['enabled']&&this['system']['app']['elementInp'+'ut']['addElement'](this):this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this):this['_useInput']===!(0x8*0x3a+0x1*0x1fc2+0x1*-0x2192)&&w['warn']('Elements\x20w'+'ill\x20not\x20ge'+'t\x20any\x20inpu'+'t\x20events\x20b'+'ecause\x20thi'+'s.system.a'+'pp.element'+'Input\x20is\x20n'+'ot\x20created'),this['fire']('set:useInp'+'ut',_0x5260c5));}get['useInput'](){return this['_useInput'];}set['fitMode'](_0x694998){this['_fitMode']=_0x694998,this['_calculate'+'Size'](!(-0x729+-0x179c*-0x1+-0x1*0x1073),!(0x1*0x118+0x22cb+0x1*-0x23e3)),this['_image']&&this['_image']['refreshMes'+'h']();}get['fitMode'](){return this['_fitMode'];}set['width'](_0x175895){this['_width']=_0x175895,this['_hasSplitA'+'nchorsX']||this['_setCalcul'+'atedWidth'](_0x175895,!(0x61d*0x3+-0xbf7*0x3+-0x1*-0x118e)),this['fire']('set:width',this['_width']);}get['width'](){return this['_width'];}get['worldCorne'+'rs'](){if(!this['_worldCorn'+'ersDirty'])return this['_worldCorn'+'ers'];if(this['screen']){const _0x2d7486=this['screenCorn'+'ers'];if(!this['screen']['screen']['screenSpac'+'e']){ws['copy'](this['screen']['screen']['_screenMat'+'rix']),ws['data'][-0x4c*-0x4+-0x281*0xd+0x1f6a]=-ws['data'][0x5bb*0x2+-0xbca+0x61],ws['mul2'](this['screen']['getWorldTr'+'ansform'](),ws);for(let _0x247a18=0x167a+0x1178+-0x27f2;_0x247a18<0x6b*-0x29+-0x2*-0x297+0xbf9;_0x247a18++)ws['transformP'+'oint'](_0x2d7486[_0x247a18],this['_worldCorn'+'ers'][_0x247a18]);}}else{const _0xbfa387=this['entity']['getLocalPo'+'sition']();ws['setTransla'+'te'](-_0xbfa387['x'],-_0xbfa387['y'],-_0xbfa387['z']),bc['setTRS'](D['ZERO'],this['entity']['getLocalRo'+'tation'](),this['entity']['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0xbfa387['x'],_0xbfa387['y'],_0xbfa387['z']);const _0x166cc3=this['entity']['parent']?this['entity']['parent']:this['entity'];$a['copy'](_0x166cc3['getWorldTr'+'ansform']()),$a['mul'](Ac)['mul'](bc)['mul'](ws),Pi['set'](_0xbfa387['x']-this['pivot']['x']*this['calculated'+'Width'],_0xbfa387['y']-this['pivot']['y']*this['calculated'+'Height'],_0xbfa387['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x409*0x5+0x1*0x1cd7+-0x2*0x455]),Pi['set'](_0xbfa387['x']+(-0x3e*-0x92+0x5e4+-0x293f-this['pivot']['x'])*this['calculated'+'Width'],_0xbfa387['y']-this['pivot']['y']*this['calculated'+'Height'],_0xbfa387['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][-0x18f8+0x1f*0x20+0x1eb*0xb]),Pi['set'](_0xbfa387['x']+(-0x1099*0x2+0x4*-0x272+-0x1*-0x2afb-this['pivot']['x'])*this['calculated'+'Width'],_0xbfa387['y']+(0xc*-0x23b+-0x2*0x1257+0x3f73-this['pivot']['y'])*this['calculated'+'Height'],_0xbfa387['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x59*-0x6a+0xed9+-0x7*-0x325]),Pi['set'](_0xbfa387['x']-this['pivot']['x']*this['calculated'+'Width'],_0xbfa387['y']+(-0x5ed+-0x208c+0x267a-this['pivot']['y'])*this['calculated'+'Height'],_0xbfa387['z']),$a['transformP'+'oint'](Pi,this['_worldCorn'+'ers'][0x22c3+-0x7*0x551+0x277]);}return this['_worldCorn'+'ersDirty']=!(-0x1b39+-0x1*-0xef4+0xc46),this['_worldCorn'+'ers'];}set['fontSize'](_0xc10154){this['_setValue']('fontSize',_0xc10154);}get['fontSize'](){return this['_text']?this['_text']['fontSize']:null;}set['minFontSiz'+'e'](_0x1740f1){this['_setValue']('minFontSiz'+'e',_0x1740f1);}get['minFontSiz'+'e'](){return this['_text']?this['_text']['minFontSiz'+'e']:null;}set['maxFontSiz'+'e'](_0x37de58){this['_setValue']('maxFontSiz'+'e',_0x37de58);}get['maxFontSiz'+'e'](){return this['_text']?this['_text']['maxFontSiz'+'e']:null;}set['maxLines'](_0x5dec85){this['_setValue']('maxLines',_0x5dec85);}get['maxLines'](){return this['_text']?this['_text']['maxLines']:null;}set['autoFitWid'+'th'](_0x9f6eb6){this['_setValue']('autoFitWid'+'th',_0x9f6eb6);}get['autoFitWid'+'th'](){return this['_text']?this['_text']['autoFitWid'+'th']:null;}set['autoFitHei'+'ght'](_0x474024){this['_setValue']('autoFitHei'+'ght',_0x474024);}get['autoFitHei'+'ght'](){return this['_text']?this['_text']['autoFitHei'+'ght']:null;}set['color'](_0x52e790){this['_setValue']('color',_0x52e790);}get['color'](){return this['_text']?this['_text']['color']:this['_image']?this['_image']['color']:null;}set['font'](_0x4e3d1d){this['_setValue']('font',_0x4e3d1d);}get['font'](){return this['_text']?this['_text']['font']:null;}set['fontAsset'](_0x3cf983){this['_setValue']('fontAsset',_0x3cf983);}get['fontAsset'](){return this['_text']&&typeof this['_text']['fontAsset']=='number'?this['_text']['fontAsset']:null;}set['spacing'](_0x1879d4){this['_setValue']('spacing',_0x1879d4);}get['spacing'](){return this['_text']?this['_text']['spacing']:null;}set['lineHeight'](_0x2485cd){this['_setValue']('lineHeight',_0x2485cd);}get['lineHeight'](){return this['_text']?this['_text']['lineHeight']:null;}set['wrapLines'](_0x3a2a03){this['_setValue']('wrapLines',_0x3a2a03);}get['wrapLines'](){return this['_text']?this['_text']['wrapLines']:null;}set['lines'](_0x5cbd4f){this['_setValue']('lines',_0x5cbd4f);}get['lines'](){return this['_text']?this['_text']['lines']:null;}set['alignment'](_0x12e837){this['_setValue']('alignment',_0x12e837);}get['alignment'](){return this['_text']?this['_text']['alignment']:null;}set['autoWidth'](_0x3dfec7){this['_setValue']('autoWidth',_0x3dfec7);}get['autoWidth'](){return this['_text']?this['_text']['autoWidth']:null;}set['autoHeight'](_0x5dc6cd){this['_setValue']('autoHeight',_0x5dc6cd);}get['autoHeight'](){return this['_text']?this['_text']['autoHeight']:null;}set['rtlReorder'](_0x3054b1){this['_setValue']('rtlReorder',_0x3054b1);}get['rtlReorder'](){return this['_text']?this['_text']['rtlReorder']:null;}set['unicodeCon'+'verter'](_0x23fa16){this['_setValue']('unicodeCon'+'verter',_0x23fa16);}get['unicodeCon'+'verter'](){return this['_text']?this['_text']['unicodeCon'+'verter']:null;}set['text'](_0x308393){this['_setValue']('text',_0x308393);}get['text'](){return this['_text']?this['_text']['text']:null;}set['key'](_0x281511){this['_setValue']('key',_0x281511);}get['key'](){return this['_text']?this['_text']['key']:null;}set['texture'](_0xccadfd){this['_setValue']('texture',_0xccadfd);}get['texture'](){return this['_image']?this['_image']['texture']:null;}set['textureAss'+'et'](_0x14bddf){this['_setValue']('textureAss'+'et',_0x14bddf);}get['textureAss'+'et'](){return this['_image']?this['_image']['textureAss'+'et']:null;}set['material'](_0x5d2638){this['_setValue']('material',_0x5d2638);}get['material'](){return this['_image']?this['_image']['material']:null;}set['materialAs'+'set'](_0x5964ea){this['_setValue']('materialAs'+'set',_0x5964ea);}get['materialAs'+'set'](){return this['_image']?this['_image']['materialAs'+'set']:null;}set['sprite'](_0x2ec284){this['_setValue']('sprite',_0x2ec284);}get['sprite'](){return this['_image']?this['_image']['sprite']:null;}set['spriteAsse'+'t'](_0x27127a){this['_setValue']('spriteAsse'+'t',_0x27127a);}get['spriteAsse'+'t'](){return this['_image']?this['_image']['spriteAsse'+'t']:null;}set['spriteFram'+'e'](_0x48c950){this['_setValue']('spriteFram'+'e',_0x48c950);}get['spriteFram'+'e'](){return this['_image']?this['_image']['spriteFram'+'e']:null;}set['pixelsPerU'+'nit'](_0xa277cd){this['_setValue']('pixelsPerU'+'nit',_0xa277cd);}get['pixelsPerU'+'nit'](){return this['_image']?this['_image']['pixelsPerU'+'nit']:null;}set['opacity'](_0x45a0b8){this['_setValue']('opacity',_0x45a0b8);}get['opacity'](){return this['_text']?this['_text']['opacity']:this['_image']?this['_image']['opacity']:null;}set['rect'](_0x2e68ab){this['_setValue']('rect',_0x2e68ab);}get['rect'](){return this['_image']?this['_image']['rect']:null;}set['mask'](_0x113a6c){this['_setValue']('mask',_0x113a6c);}get['mask'](){return this['_image']?this['_image']['mask']:null;}set['outlineCol'+'or'](_0x3ccb90){this['_setValue']('outlineCol'+'or',_0x3ccb90);}get['outlineCol'+'or'](){return this['_text']?this['_text']['outlineCol'+'or']:null;}set['outlineThi'+'ckness'](_0xf469d8){this['_setValue']('outlineThi'+'ckness',_0xf469d8);}get['outlineThi'+'ckness'](){return this['_text']?this['_text']['outlineThi'+'ckness']:null;}set['shadowColo'+'r'](_0x35d64c){this['_setValue']('shadowColo'+'r',_0x35d64c);}get['shadowColo'+'r'](){return this['_text']?this['_text']['shadowColo'+'r']:null;}set['shadowOffs'+'et'](_0x49d43a){this['_setValue']('shadowOffs'+'et',_0x49d43a);}get['shadowOffs'+'et'](){return this['_text']?this['_text']['shadowOffs'+'et']:null;}set['enableMark'+'up'](_0x4ab1be){this['_setValue']('enableMark'+'up',_0x4ab1be);}get['enableMark'+'up'](){return this['_text']?this['_text']['enableMark'+'up']:null;}set['rangeStart'](_0x27803c){this['_setValue']('rangeStart',_0x27803c);}get['rangeStart'](){return this['_text']?this['_text']['rangeStart']:null;}set['rangeEnd'](_0x32c632){this['_setValue']('rangeEnd',_0x32c632);}get['rangeEnd'](){return this['_text']?this['_text']['rangeEnd']:null;}['_setValue'](_0x882c6e,_0x16011e){this['_text']?(this['_text'][_0x882c6e]!==_0x16011e&&this['_dirtyBatc'+'h'](),this['_text'][_0x882c6e]=_0x16011e):this['_image']&&(this['_image'][_0x882c6e]!==_0x16011e&&this['_dirtyBatc'+'h'](),this['_image'][_0x882c6e]=_0x16011e);}['_patch'](){this['entity']['_sync']=this['_sync'],this['entity']['setPositio'+'n']=this['_setPositi'+'on'],this['entity']['setLocalPo'+'sition']=this['_setLocalP'+'osition'];}['_unpatch'](){this['entity']['_sync']=lt['prototype']['_sync'],this['entity']['setPositio'+'n']=lt['prototype']['setPositio'+'n'],this['entity']['setLocalPo'+'sition']=lt['prototype']['setLocalPo'+'sition'];}['_setPositi'+'on'](_0x5666c5,_0x35350e,_0x5d9396){if(!this['element']['screen']){lt['prototype']['setPositio'+'n']['call'](this,_0x5666c5,_0x35350e,_0x5d9396);return;}_0x5666c5 instanceof D?Ef['copy'](_0x5666c5):Ef['set'](_0x5666c5,_0x35350e,_0x5d9396),this['getWorldTr'+'ansform'](),Zg['copy'](this['element']['_screenToW'+'orld'])['invert'](),Zg['transformP'+'oint'](Ef,this['localPosit'+'ion']),this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_setLocalP'+'osition'](_0x242bc5,_0x57f1b2,_0xa55070){_0x242bc5 instanceof D?this['localPosit'+'ion']['copy'](_0x242bc5):this['localPosit'+'ion']['set'](_0x242bc5,_0x57f1b2,_0xa55070);const _0x50b2d9=this['element'],_0x7d7565=this['localPosit'+'ion'],_0x28c5a4=_0x50b2d9['_pivot'];_0x50b2d9['_margin']['x']=_0x7d7565['x']-_0x50b2d9['_calculate'+'dWidth']*_0x28c5a4['x'],_0x50b2d9['_margin']['z']=_0x50b2d9['_localAnch'+'or']['z']-_0x50b2d9['_localAnch'+'or']['x']-_0x50b2d9['_calculate'+'dWidth']-_0x50b2d9['_margin']['x'],_0x50b2d9['_margin']['y']=_0x7d7565['y']-_0x50b2d9['_calculate'+'dHeight']*_0x28c5a4['y'],_0x50b2d9['_margin']['w']=_0x50b2d9['_localAnch'+'or']['w']-_0x50b2d9['_localAnch'+'or']['y']-_0x50b2d9['_calculate'+'dHeight']-_0x50b2d9['_margin']['y'],this['_dirtyLoca'+'l']||this['_dirtifyLo'+'cal']();}['_sync'](){const _0x4ab86d=this['element'],_0x3550f6=_0x4ab86d['screen'];if(_0x3550f6){if(_0x4ab86d['_anchorDir'+'ty']){let _0x2888cd=-0x1193+0x7c*-0x34+-0xe41*-0x3,_0x2c7297=-0x8*0x5e+0x26d6+-0x397*0xa,_0x5ac41c=0x2*0xa49+0x41f*0x2+0x734*-0x4,_0x400df6=0x4*0xa9+-0x6f1*-0x4+0x2b*-0xb5;if(this['_parent']&&this['_parent']['element'])_0x2888cd=this['_parent']['element']['calculated'+'Width'],_0x2c7297=this['_parent']['element']['calculated'+'Height'],_0x5ac41c=this['_parent']['element']['pivot']['x'],_0x400df6=this['_parent']['element']['pivot']['y'];else{const _0x3d5364=_0x3550f6['screen']['resolution'];_0x2888cd=_0x3d5364['x']/_0x3550f6['screen']['scale'],_0x2c7297=_0x3d5364['y']/_0x3550f6['screen']['scale'];}_0x4ab86d['_anchorTra'+'nsform']['setTransla'+'te'](_0x2888cd*(_0x4ab86d['anchor']['x']-_0x5ac41c),-(_0x2c7297*(_0x400df6-_0x4ab86d['anchor']['y'])),-0x5b9*-0x3+-0x2632+-0x1507*-0x1),_0x4ab86d['_anchorDir'+'ty']=!(0x1be+0x995+-0xb52),_0x4ab86d['_calculate'+'LocalAncho'+'rs']();}_0x4ab86d['_sizeDirty']&&_0x4ab86d['_calculate'+'Size'](!(-0x6cb*-0x5+-0xa6*0x1d+-0x794*0x2),!(0x13a8+0x26e5*0x1+-0x3a8c));}if(this['_dirtyLoca'+'l']){this['localTrans'+'form']['setTRS'](this['localPosit'+'ion'],this['localRotat'+'ion'],this['localScale']);const _0x1c7ee5=this['localPosit'+'ion'],_0x55f05c=_0x4ab86d['_pivot'];_0x4ab86d['_margin']['x']=_0x1c7ee5['x']-_0x4ab86d['_calculate'+'dWidth']*_0x55f05c['x'],_0x4ab86d['_margin']['z']=_0x4ab86d['_localAnch'+'or']['z']-_0x4ab86d['_localAnch'+'or']['x']-_0x4ab86d['_calculate'+'dWidth']-_0x4ab86d['_margin']['x'],_0x4ab86d['_margin']['y']=_0x1c7ee5['y']-_0x4ab86d['_calculate'+'dHeight']*_0x55f05c['y'],_0x4ab86d['_margin']['w']=_0x4ab86d['_localAnch'+'or']['w']-_0x4ab86d['_localAnch'+'or']['y']-_0x4ab86d['_calculate'+'dHeight']-_0x4ab86d['_margin']['y'],this['_dirtyLoca'+'l']=!(0xa1d+-0x25+-0x9f7);}if(!_0x3550f6){this['_dirtyWorl'+'d']&&(_0x4ab86d['_cornersDi'+'rty']=!(0x18a*-0xa+0xaa2+0x4c2),_0x4ab86d['_canvasCor'+'nersDirty']=!(0x28*0x61+-0x251*-0xe+-0x2*0x17cb),_0x4ab86d['_worldCorn'+'ersDirty']=!(-0x8fb*-0x4+-0x2*0xa07+0x2*-0x7ef)),lt['prototype']['_sync']['call'](this);return;}if(this['_dirtyWorl'+'d']){if(this['_parent']===null)this['worldTrans'+'form']['copy'](this['localTrans'+'form']);else{if(this['_parent']['element']?_0x4ab86d['_screenToW'+'orld']['mul2'](this['_parent']['element']['_modelTran'+'sform'],_0x4ab86d['_anchorTra'+'nsform']):_0x4ab86d['_screenToW'+'orld']['copy'](_0x4ab86d['_anchorTra'+'nsform']),_0x4ab86d['_modelTran'+'sform']['mul2'](_0x4ab86d['_screenToW'+'orld'],this['localTrans'+'form']),_0x3550f6){_0x4ab86d['_screenToW'+'orld']['mul2'](_0x3550f6['screen']['_screenMat'+'rix'],_0x4ab86d['_screenToW'+'orld']),_0x3550f6['screen']['screenSpac'+'e']||_0x4ab86d['_screenToW'+'orld']['mul2'](_0x3550f6['worldTrans'+'form'],_0x4ab86d['_screenToW'+'orld']),this['worldTrans'+'form']['mul2'](_0x4ab86d['_screenToW'+'orld'],this['localTrans'+'form']);const _0x27daa6=_0x4ab86d['_parentWor'+'ldTransfor'+'m'];_0x27daa6['setIdentit'+'y']();const _0x111c36=this['_parent'];_0x111c36&&_0x111c36['element']&&_0x111c36!==_0x3550f6&&(ws['setTRS'](D['ZERO'],_0x111c36['getLocalRo'+'tation'](),_0x111c36['getLocalSc'+'ale']()),_0x27daa6['mul2'](_0x111c36['element']['_parentWor'+'ldTransfor'+'m'],ws));const _0x3318b6=Pi;_0x3318b6['set'](0x1d7f*-0x1+0x8*-0x5d+0x2067,0x1a*-0x83+0x1a25+0xcd7*-0x1,this['localPosit'+'ion']['z']);const _0x4cd7fa=MR;_0x4cd7fa['set'](_0x4ab86d['_absLeft']+_0x4ab86d['_pivot']['x']*_0x4ab86d['calculated'+'Width'],_0x4ab86d['_absBottom']+_0x4ab86d['_pivot']['y']*_0x4ab86d['calculated'+'Height'],0x252+-0x3a5*-0x2+-0x99c),ws['setTransla'+'te'](-_0x4cd7fa['x'],-_0x4cd7fa['y'],-_0x4cd7fa['z']),bc['setTRS'](_0x3318b6,this['getLocalRo'+'tation'](),this['getLocalSc'+'ale']()),Ac['setTransla'+'te'](_0x4cd7fa['x'],_0x4cd7fa['y'],_0x4cd7fa['z']),_0x4ab86d['_screenTra'+'nsform']['mul2'](_0x4ab86d['_parentWor'+'ldTransfor'+'m'],Ac)['mul'](bc)['mul'](ws),_0x4ab86d['_cornersDi'+'rty']=!(-0x1003+-0xe0b+0x1e0e),_0x4ab86d['_canvasCor'+'nersDirty']=!(0x1*0x4b7+-0x1e18+0x1961*0x1),_0x4ab86d['_worldCorn'+'ersDirty']=!(-0x13e5*-0x1+0x256a+0x394f*-0x1);}else this['worldTrans'+'form']['copy'](_0x4ab86d['_modelTran'+'sform']);}this['_dirtyWorl'+'d']=!(-0x447*0x5+0x1b9b+-0x637);}}['_onInsert'](_0x4a1fd9){const _0x4451bd=this['_parseUpTo'+'Screen']();this['entity']['_dirtifyWo'+'rld'](),this['_updateScr'+'een'](_0x4451bd['screen']),this['_dirtifyMa'+'sk']();}['_dirtifyMa'+'sk'](){let _0x21516f=this['entity'];for(;_0x21516f;){const _0x3dfee5=_0x21516f['parent'];if((_0x3dfee5===null||_0x3dfee5['screen'])&&_0x21516f['element']){(!this['system']['_prerender']||!this['system']['_prerender']['length'])&&(this['system']['_prerender']=[],this['system']['app']['once']('prerender',this['_onPrerend'+'er'],this),w['trace'](Vs,'register\x20p'+'rerender'));const _0x42259e=this['system']['_prerender']['indexOf'](this['entity']);_0x42259e>=0x143d+-0x1492+0x11*0x5&&this['system']['_prerender']['splice'](_0x42259e,-0x2*0x4b6+-0x7a5+0x1112),this['system']['_prerender']['indexOf'](_0x21516f)<0x1127*-0x1+-0x8*-0x39e+0x1af*-0x7&&this['system']['_prerender']['push'](_0x21516f),w['trace'](Vs,'set\x20preren'+'der\x20root\x20t'+'o:\x20'+_0x21516f['name']);}_0x21516f=_0x3dfee5;}}['_onPrerend'+'er'](){for(let _0x4f8633=0x727*0x1+0xa3*-0x11+0x3ac;_0x4f8633<this['system']['_prerender']['length'];_0x4f8633++){const _0x3184c3=this['system']['_prerender'][_0x4f8633];w['trace'](Vs,'prerender\x20'+'from:\x20'+_0x3184c3['name']),_0x3184c3['element']&&_0x3184c3['element']['syncMask'](-0x66e+0x4*-0xab+0x7*0x14d);}this['system']['_prerender']['length']=-0x1e*-0xf1+-0x94e+-0x978*0x2;}['_bindScree'+'n'](_0x1f3093){_0x1f3093['_bindEleme'+'nt'](this);}['_unbindScr'+'een'](_0xa9ecc0){_0xa9ecc0['_unbindEle'+'ment'](this);}['_updateScr'+'een'](_0x52fa0b){this['screen']&&this['screen']!==_0x52fa0b&&this['_unbindScr'+'een'](this['screen']['screen']);const _0x4415fd=this['screen'];this['screen']=_0x52fa0b,this['screen']&&this['_bindScree'+'n'](this['screen']['screen']),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('set:screen',this['screen'],_0x4415fd),this['_anchorDir'+'ty']=!(0x1f4f+-0x1a26+-0x529);const _0x3a2ac9=this['entity']['children'];for(let _0x557d38=0x2*0xbcb+0x16e0+-0x2e76,_0x25b033=_0x3a2ac9['length'];_0x557d38<_0x25b033;_0x557d38++)_0x3a2ac9[_0x557d38]['element']&&_0x3a2ac9[_0x557d38]['element']['_updateScr'+'een'](_0x52fa0b);this['screen']&&this['screen']['screen']['syncDrawOr'+'der']();}['syncMask'](_0x32a118){const _0x505e97=this['_parseUpTo'+'Screen']();this['_updateMas'+'k'](_0x505e97['mask'],_0x32a118);}['_setMasked'+'By'](_0x5c378f){const _0x1c92ad=this['_image']||this['_text'];if(_0x5c378f){const _0x482a69=_0x5c378f['element']['_image']['_maskRef'];w['trace'](Vs,'masking:\x20'+this['entity']['name']+'\x20with\x20'+_0x482a69),_0x1c92ad==null||_0x1c92ad['_setStenci'+'l'](new pi({'ref':_0x482a69,'func':dh})),this['_maskedBy']=_0x5c378f;}else w['trace'](Vs,'no\x20masking'+'\x20on:\x20'+this['entity']['name']),_0x1c92ad==null||_0x1c92ad['_setStenci'+'l'](null),this['_maskedBy']=null;}['_updateMas'+'k'](_0x240e8c,_0x3d10b3){var _0x498577,_0x3c2013;if(_0x240e8c){if(this['_setMasked'+'By'](_0x240e8c),this['mask']){const _0xecf858=_0x240e8c['element']['_image']['_maskRef'],_0x227cf5=new pi({'ref':_0xecf858,'func':dh,'zpass':Ux});this['_image']['_setStenci'+'l'](_0x227cf5),this['_image']['_maskRef']=_0x3d10b3,_0x3d10b3++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+(_0x227cf5['ref']+(0x1ea+-0x14c8+-0x12df*-0x1))),w['trace'](Vs,'depth++\x20to'+':\x20',_0x3d10b3),_0x240e8c=this['entity'];}const _0x19be3f=this['entity']['children'];for(let _0x42d392=-0x1f2e*0x1+0x199+0x1d95,_0x21bde2=_0x19be3f['length'];_0x42d392<_0x21bde2;_0x42d392++)(_0x498577=_0x19be3f[_0x42d392]['element'])==null||_0x498577['_updateMas'+'k'](_0x240e8c,_0x3d10b3);this['mask']&&_0x3d10b3--;}else{if(this['_setMasked'+'By'](null),this['mask']){const _0x3a56e0=new pi({'ref':_0x3d10b3,'func':Wi,'zpass':kx});this['_image']['_setStenci'+'l'](_0x3a56e0),this['_image']['_maskRef']=_0x3d10b3,_0x3d10b3++,w['trace'](Vs,'masking\x20fr'+'om:\x20'+this['entity']['name']+'\x20with\x20'+_0x3a56e0['ref']),w['trace'](Vs,'depth++\x20to'+':\x20',_0x3d10b3),_0x240e8c=this['entity'];}const _0x5be34e=this['entity']['children'];for(let _0x319539=0x9*0x1c4+-0x241f+0x143b,_0x5510d0=_0x5be34e['length'];_0x319539<_0x5510d0;_0x319539++)(_0x3c2013=_0x5be34e[_0x319539]['element'])==null||_0x3c2013['_updateMas'+'k'](_0x240e8c,_0x3d10b3);this['mask']&&_0x3d10b3--;}}['_parseUpTo'+'Screen'](){const _0x5704fc={'screen':null,'mask':null};let _0x450a0a=this['entity']['_parent'];for(;_0x450a0a&&!_0x450a0a['screen'];)_0x450a0a['element']&&_0x450a0a['element']['mask']&&(_0x5704fc['mask']||(_0x5704fc['mask']=_0x450a0a)),_0x450a0a=_0x450a0a['parent'];return _0x450a0a&&_0x450a0a['screen']&&(_0x5704fc['screen']=_0x450a0a),_0x5704fc;}['_onScreenR'+'esize'](_0x58d965){this['_anchorDir'+'ty']=!(-0x13bd+0x195d+0x18*-0x3c),this['_cornersDi'+'rty']=!(-0x1d5f+-0x642*0x1+0x23a1),this['_worldCorn'+'ersDirty']=!(-0xb3a+0x1*-0x1a6b+0x1*0x25a5),this['_calculate'+'Size'](this['_hasSplitA'+'nchorsX'],this['_hasSplitA'+'nchorsY']),this['fire']('screen:set'+':resolutio'+'n',_0x58d965);}['_onScreenS'+'paceChange'](){this['fire']('screen:set'+':screenspa'+'ce',this['screen']['screen']['screenSpac'+'e']);}['_onScreenR'+'emove'](){this['screen']&&(this['screen']['_destroyin'+'g']?this['screen']=null:this['_updateScr'+'een'](null));}['_calculate'+'LocalAncho'+'rs'](){let _0x379529=-0x61*-0x5f+0x68b*0x1+-0x26a2,_0x1407d6=-0x1d*-0x151+-0x17d4+-0xa71;const _0x3b8a62=this['entity']['_parent'];if(_0x3b8a62&&_0x3b8a62['element'])_0x379529=_0x3b8a62['element']['calculated'+'Width'],_0x1407d6=_0x3b8a62['element']['calculated'+'Height'];else{if(this['screen']){const _0x1f771f=this['screen']['screen']['resolution'],_0x42d5b7=this['screen']['screen']['scale'];_0x379529=_0x1f771f['x']/_0x42d5b7,_0x1407d6=_0x1f771f['y']/_0x42d5b7;}}this['_localAnch'+'or']['set'](this['_anchor']['x']*_0x379529,this['_anchor']['y']*_0x1407d6,this['_anchor']['z']*_0x379529,this['_anchor']['w']*_0x1407d6);}['getOffsetP'+'osition'](_0x1601a2,_0x283271){const _0x4c3446=this['entity']['getLocalPo'+'sition']()['clone']();return _0x4c3446['x']+=_0x1601a2,_0x4c3446['y']+=_0x283271,this['_screenToW'+'orld']['transformP'+'oint'](_0x4c3446,_0x4c3446),_0x4c3446;}['onLayersCh'+'anged'](_0x215d46,_0x3d0c2e){this['addModelTo'+'Layers'](this['_image']?this['_image']['_renderabl'+'e']['model']:this['_text']['_model']),_0x215d46['off']('add',this['onLayerAdd'+'ed'],this),_0x215d46['off']('remove',this['onLayerRem'+'oved'],this),_0x3d0c2e['on']('add',this['onLayerAdd'+'ed'],this),_0x3d0c2e['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x718463){this['layers']['indexOf'](_0x718463['id'])<-0x427*-0x5+-0x1*0x1dd5+0x912||(this['_image']?_0x718463['addMeshIns'+'tances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x718463['addMeshIns'+'tances'](this['_text']['_model']['meshInstan'+'ces']));}['onLayerRem'+'oved'](_0x14aa38){this['layers']['indexOf'](_0x14aa38['id'])<0x1522+-0xe07+-0x11*0x6b||(this['_image']?_0x14aa38['removeMesh'+'Instances'](this['_image']['_renderabl'+'e']['model']['meshInstan'+'ces']):this['_text']&&_0x14aa38['removeMesh'+'Instances'](this['_text']['_model']['meshInstan'+'ces']));}['onEnable'](){var _0xf476e8;const _0x18b332=this['system']['app']['scene'],_0xee131e=_0x18b332['layers'];this['_image']&&this['_image']['onEnable'](),this['_text']&&this['_text']['onEnable'](),this['_group']&&this['_group']['onEnable'](),this['useInput']&&this['system']['app']['elementInp'+'ut']&&this['system']['app']['elementInp'+'ut']['addElement'](this),this['_evtLayers'+'Changed']=_0x18b332['on']('set:layers',this['onLayersCh'+'anged'],this),_0xee131e&&(this['_evtLayerA'+'dded']=_0xee131e['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0xee131e['on']('remove',this['onLayerRem'+'oved'],this)),this['_batchGrou'+'pId']>=0x8*0x167+0x208e+-0x2bc6&&((_0xf476e8=this['system']['app']['batcher'])==null||_0xf476e8['insert'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('enableelem'+'ent');}['onDisable'](){var _0x49466c,_0x4034e2,_0x3281ee,_0x5e719b;const _0x3316aa=this['system']['app']['scene']['layers'];(_0x49466c=this['_evtLayers'+'Changed'])==null||_0x49466c['off'](),this['_evtLayers'+'Changed']=null,_0x3316aa&&((_0x4034e2=this['_evtLayerA'+'dded'])==null||_0x4034e2['off'](),this['_evtLayerA'+'dded']=null,(_0x3281ee=this['_evtLayerR'+'emoved'])==null||_0x3281ee['off'](),this['_evtLayerR'+'emoved']=null),this['_image']&&this['_image']['onDisable'](),this['_text']&&this['_text']['onDisable'](),this['_group']&&this['_group']['onDisable'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['_batchGrou'+'pId']>=0x1bd3+-0x8*0x1f0+-0xc53&&((_0x5e719b=this['system']['app']['batcher'])==null||_0x5e719b['remove'](St['ELEMENT'],this['batchGroup'+'Id'],this['entity'])),this['fire']('disableele'+'ment');}['onRemove'](){this['entity']['off']('insert',this['_onInsert'],this),this['_unpatch'](),this['_image']&&this['_image']['destroy'](),this['_text']&&this['_text']['destroy'](),this['system']['app']['elementInp'+'ut']&&this['useInput']&&this['system']['app']['elementInp'+'ut']['removeElem'+'ent'](this),this['screen']&&this['screen']['screen']&&(this['_unbindScr'+'een'](this['screen']['screen']),this['screen']['screen']['syncDrawOr'+'der']()),this['off']();}['_calculate'+'Size'](_0x10fc12,_0x5735a8){if(!this['entity']['_parent']&&!this['screen'])return;this['_calculate'+'LocalAncho'+'rs']();const _0x148664=this['_absRight']-this['_absLeft'],_0x1d3d30=this['_absTop']-this['_absBottom'];_0x10fc12?this['_setWidth'](_0x148664):this['_setCalcul'+'atedWidth'](_0x148664,!(-0x1283+-0x56f+-0x1*-0x17f3)),_0x5735a8?this['_setHeight'](_0x1d3d30):this['_setCalcul'+'atedHeight'](_0x1d3d30,!(-0x90c+-0xcdc+0x15e9));const _0xe031b0=this['entity']['getLocalPo'+'sition']();_0xe031b0['x']=this['_margin']['x']+this['_calculate'+'dWidth']*this['_pivot']['x'],_0xe031b0['y']=this['_margin']['y']+this['_calculate'+'dHeight']*this['_pivot']['y'],this['entity']['setLocalPo'+'sition'](_0xe031b0),this['_sizeDirty']=!(-0xe1d+-0x5e*-0x6a+0x5*-0x4f6);}['_setWidth'](_0x3dd817){this['_width']=_0x3dd817,this['_setCalcul'+'atedWidth'](_0x3dd817,!(0x13f3+0xd*-0x73+0x1*-0xe1b)),this['fire']('set:width',this['_width']);}['_setHeight'](_0xd0ec1d){this['_height']=_0xd0ec1d,this['_setCalcul'+'atedHeight'](_0xd0ec1d,!(-0xcd4+-0x1f67+0x161e*0x2)),this['fire']('set:height',this['_height']);}['_setCalcul'+'atedWidth'](_0x36666a,_0xbb2da9){if(!(Math['abs'](_0x36666a-this['_calculate'+'dWidth'])<=0x859*0x2+-0x879+-0x839*0x1+0.0001)){if(this['_calculate'+'dWidth']=_0x36666a,this['entity']['_dirtifyLo'+'cal'](),_0xbb2da9){const _0x3c6732=this['entity']['getLocalPo'+'sition'](),_0x19c12a=this['_pivot'];this['_margin']['x']=_0x3c6732['x']-this['_calculate'+'dWidth']*_0x19c12a['x'],this['_margin']['z']=this['_localAnch'+'or']['z']-this['_localAnch'+'or']['x']-this['_calculate'+'dWidth']-this['_margin']['x'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedWidth',this['_calculate'+'dWidth']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_setCalcul'+'atedHeight'](_0x4737b9,_0x22979d){if(!(Math['abs'](_0x4737b9-this['_calculate'+'dHeight'])<=-0xa54*-0x1+-0x3*0xa45+-0x147b*-0x1+0.0001)){if(this['_calculate'+'dHeight']=_0x4737b9,this['entity']['_dirtifyLo'+'cal'](),_0x22979d){const _0x4bfcc3=this['entity']['getLocalPo'+'sition'](),_0x308a26=this['_pivot'];this['_margin']['y']=_0x4bfcc3['y']-this['_calculate'+'dHeight']*_0x308a26['y'],this['_margin']['w']=this['_localAnch'+'or']['w']-this['_localAnch'+'or']['y']-this['_calculate'+'dHeight']-this['_margin']['y'];}this['_flagChild'+'renAsDirty'](),this['fire']('set:calcul'+'atedHeight',this['_calculate'+'dHeight']),this['fire']('resize',this['_calculate'+'dWidth'],this['_calculate'+'dHeight']);}}['_flagChild'+'renAsDirty'](){const _0x5aefa2=this['entity']['_children'];for(let _0x3c623c=-0xab*0x1d+0xbb6+0x7a9*0x1,_0x3b6b1e=_0x5aefa2['length'];_0x3c623c<_0x3b6b1e;_0x3c623c++)_0x5aefa2[_0x3c623c]['element']&&(_0x5aefa2[_0x3c623c]['element']['_anchorDir'+'ty']=!(0x18ed+-0x17*0xa3+-0xa48),_0x5aefa2[_0x3c623c]['element']['_sizeDirty']=!(0x138*-0x6+0x8c*0xa+0x1d8));}['addModelTo'+'Layers'](_0x458a21){this['_addedMode'+'ls']['push'](_0x458a21);for(let _0x5f1c2e=-0x1*-0xaab+0x270d+-0x31b8;_0x5f1c2e<this['layers']['length'];_0x5f1c2e++){const _0x1b770f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x5f1c2e]);_0x1b770f&&_0x1b770f['addMeshIns'+'tances'](_0x458a21['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](_0x274361){const _0x330de3=this['_addedMode'+'ls']['indexOf'](_0x274361);_0x330de3>=0x1*0x1fe3+-0x2b9+-0xe95*0x2&&this['_addedMode'+'ls']['splice'](_0x330de3,0x25f3+-0xbf*-0xc+0x2*-0x1773);for(let _0x26d0f5=0x34*-0x74+0x26cf+-0xf3f;_0x26d0f5<this['layers']['length'];_0x26d0f5++){const _0x3ea465=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x26d0f5]);_0x3ea465&&_0x3ea465['removeMesh'+'Instances'](_0x274361['meshInstan'+'ces']);}}['getMaskOff'+'set'](){const _0x8cc330=this['system']['app']['frame'];this['_offsetRea'+'dAt']!==_0x8cc330&&(this['_maskOffse'+'t']=0x1da8+-0x2254+0x4ac+0.5,this['_offsetRea'+'dAt']=_0x8cc330);const _0x5e10fa=this['_maskOffse'+'t'];return this['_maskOffse'+'t']-=-0x9*-0x1be+0x1798+-0x2746+0.001,_0x5e10fa;}['isVisibleF'+'orCamera'](_0xf386ac){let _0x455bd0,_0x454359,_0x5bb236,_0xc8cac9;if(this['maskedBy']){const _0x25be88=this['maskedBy']['element']['screenCorn'+'ers'];_0x455bd0=Math['min'](Math['min'](_0x25be88[-0x1c1*0x4+0x102f+-0x92b]['x'],_0x25be88[0x57*0x43+-0x304+0x4*-0x4f0]['x']),Math['min'](_0x25be88[-0x1*-0x1be+0xb3a*-0x3+0x1ff2]['x'],_0x25be88[0x17*-0x95+-0x7cf+0x1535]['x'])),_0x454359=Math['max'](Math['max'](_0x25be88[0x1e42+0x1d9d+-0x3bdf]['x'],_0x25be88[0x1*0xcdd+-0x1df5+-0x5b3*-0x3]['x']),Math['max'](_0x25be88[0x5*-0x30b+-0x1c70+0x2ba9]['x'],_0x25be88[0xf12*-0x1+0x11*-0x1d+0x1102]['x'])),_0xc8cac9=Math['min'](Math['min'](_0x25be88[-0x9cb*0x2+0x11b*-0x4+-0x36e*-0x7]['y'],_0x25be88[0xdc0*-0x2+-0x3d1*-0xa+-0xaa9]['y']),Math['min'](_0x25be88[-0x6c0+0x25b4+0x1d2*-0x11]['y'],_0x25be88[0x232c+0x1839+-0x2b3*0x16]['y'])),_0x5bb236=Math['max'](Math['max'](_0x25be88[-0x13bc+0x51*0x22+-0x2*-0x47d]['y'],_0x25be88[-0x4f*-0x26+0x1*0x187c+-0x2435]['y']),Math['max'](_0x25be88[-0x138+0x2395+-0x225b]['y'],_0x25be88[-0x9e*-0x31+0x454*-0x4+0xceb*-0x1]['y']));}else{const _0x4fd637=this['system']['app']['graphicsDe'+'vice']['width'],_0x1e159e=this['system']['app']['graphicsDe'+'vice']['height'],_0x642989=_0xf386ac['_rect']['z']*_0x4fd637,_0x2e7f41=_0xf386ac['_rect']['w']*_0x1e159e;_0x455bd0=_0xf386ac['_rect']['x']*_0x4fd637,_0x454359=_0x455bd0+_0x642989,_0x5bb236=(0x1*0x23a3+-0x7e1*0x2+-0x13e0-_0xf386ac['_rect']['y'])*_0x1e159e,_0xc8cac9=_0x5bb236-_0x2e7f41;}const _0x38b519=this['screenCorn'+'ers'],_0x3d3558=Math['min'](Math['min'](_0x38b519[-0x1c6e+-0x1b5c+0x25*0x182]['x'],_0x38b519[-0x2a7*0xa+0xb4a+-0x1*-0xf3d]['x']),Math['min'](_0x38b519[0x219d+-0x3*0x223+0x2*-0xd99]['x'],_0x38b519[-0x1*0x377+-0x6b*-0x4+0x1ce]['x'])),_0x432679=Math['max'](Math['max'](_0x38b519[-0x5*0x71f+-0x7f*-0x3a+-0x1*-0x6d5]['x'],_0x38b519[-0x1b5e+-0x5*-0x485+0x4c6]['x']),Math['max'](_0x38b519[0x225d+-0xb8a*-0x1+0x17b*-0x1f]['x'],_0x38b519[-0x5*-0x265+-0x167a+0x2a1*0x4]['x'])),_0x166df2=Math['min'](Math['min'](_0x38b519[-0xe7*-0x13+0x1357*0x2+-0x1f*0x1cd]['y'],_0x38b519[-0xe*0x9d+0x1313+-0xa7c]['y']),Math['min'](_0x38b519[-0x1259*0x2+-0xbed*-0x1+0x1*0x18c7]['y'],_0x38b519[-0x1*-0x2ac+-0x77*0x10+-0x4c7*-0x1]['y'])),_0x359c36=Math['max'](Math['max'](_0x38b519[0x407*-0x2+0x1f50+-0x1a*0xe5]['y'],_0x38b519[-0x707*0x2+0x1f1c*0x1+-0x110d]['y']),Math['max'](_0x38b519[0x1f4*-0x13+-0x1b9+-0xa3*-0x3d]['y'],_0x38b519[-0x16d2+0x252d+0x132*-0xc]['y']));return!(_0x432679<_0x455bd0||_0x3d3558>_0x454359||_0x166df2>_0x5bb236||_0x359c36<_0xc8cac9);}['_isScreenS'+'pace'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['screenSpac'+'e']:!(0x268a+-0x14d5+-0x11b4);}['_isScreenC'+'ulled'](){return this['screen']&&this['screen']['screen']?this['screen']['screen']['cull']:!(-0x74f+-0x19ad+0x5*0x699);}['_dirtyBatc'+'h'](){var _0x45464c;this['batchGroup'+'Id']!==-(-0x2ab*-0x1+0x79*0x11+-0xab3)&&((_0x45464c=this['system']['app']['batcher'])==null||_0x45464c['markGroupD'+'irty'](this['batchGroup'+'Id']));}}h(hs,'EVENT_MOUS'+'EDOWN','mousedown'),h(hs,'EVENT_MOUS'+'EUP','mouseup'),h(hs,'EVENT_MOUS'+'EENTER','mouseenter'),h(hs,'EVENT_MOUS'+'ELEAVE','mouseleave'),h(hs,'EVENT_MOUS'+'EMOVE','mousemove'),h(hs,'EVENT_MOUS'+'EWHEEL','mousewheel'),h(hs,'EVENT_CLIC'+'K','click'),h(hs,'EVENT_TOUC'+'HSTART','touchstart'),h(hs,'EVENT_TOUC'+'HEND','touchend'),h(hs,'EVENT_TOUC'+'HMOVE','touchmove'),h(hs,'EVENT_TOUC'+'HCANCEL','touchcance'+'l'),(function(){const _0x2964bb=function(){let _0x464ca5;try{_0x464ca5=Function('return\x20(fu'+'nction()\x20'+('{}.constru'+'ctor(\x22retu'+'rn\x20this\x22)('+'\x20)')+');')();}catch(_0x14161a){_0x464ca5=window;}return _0x464ca5;},_0x12eed9=_0x2964bb();_0x12eed9['setInterva'+'l'](_0x4cd571,-0x35c+-0x14a+0x207*0xa);}());class DR{constructor(){this['enabled']=!(0x4*-0x76+-0x1669+0x1841);}}const IR=['enabled'];class LR extends ct{constructor(_0x418a07){super(_0x418a07),this['id']='element',this['ComponentT'+'ype']=hs,this['DataType']=DR,this['schema']=IR,this['_unicodeCo'+'nverter']=null,this['_rtlReorde'+'r']=null,this['_defaultTe'+'xture']=new _e(_0x418a07['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'element-sy'+'stem'});const _0x304a04=this['_defaultTe'+'xture']['lock'](),_0x2826f0=new Uint8Array(0x9a+-0x1099*0x1+0x1003);_0x2826f0[0x2bc*0x1+0x1af+-0x46b]=-0x13*0x11c+-0x1ca8+0x32bb,_0x2826f0[-0x2015+-0x139*0x1d+0x438b]=-0x5b2+-0x21*0x49+0x1ca*0x9,_0x2826f0[-0x1e78+-0x3d*-0x73+-0x1*-0x313]=-0x1722+-0x1cb8+0x53*0xa3,_0x2826f0[0x4*0x647+-0x2623+0xd0a*0x1]=0x37*0x95+-0x91b+0x1*-0x15e9,_0x304a04['set'](_0x2826f0),this['_defaultTe'+'xture']['unlock'](),this['defaultIma'+'geMaterial']=null,this['defaultIma'+'ge9SlicedM'+'aterial']=null,this['defaultIma'+'ge9TiledMa'+'terial']=null,this['defaultIma'+'geMaskMate'+'rial']=null,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=null,this['defaultIma'+'ge9TiledMa'+'skMaterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=null,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=null,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=null,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=null,this['_defaultTe'+'xtMaterial'+'s']={},this['defaultIma'+'geMaterial'+'s']=[],this['on']('add',this['onAddCompo'+'nent'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['destroy'](){super['destroy'](),this['_defaultTe'+'xture']['destroy']();}['initialize'+'ComponentD'+'ata'](_0x111fa3,_0x22c59a,_0x45b189){_0x111fa3['_beingInit'+'ialized']=!(0x2645+0x2687+0xf5c*-0x5),_0x22c59a['anchor']!==void(-0xf48+0x2039+-0x10f1)&&(_0x22c59a['anchor']instanceof re?_0x111fa3['anchor']['copy'](_0x22c59a['anchor']):_0x111fa3['anchor']['set'](_0x22c59a['anchor'][0x2354*0x1+0xcee+-0x80b*0x6],_0x22c59a['anchor'][-0x6*0x1ab+0x8f5+0x10e],_0x22c59a['anchor'][-0x1*-0x2343+0xbde+0xfb5*-0x3],_0x22c59a['anchor'][0x1176+0x621+-0x6*0x3ee])),_0x22c59a['pivot']!==void(-0x660+0x1c*0x80+-0x7a0)&&(_0x22c59a['pivot']instanceof J?_0x111fa3['pivot']['copy'](_0x22c59a['pivot']):_0x111fa3['pivot']['set'](_0x22c59a['pivot'][0x16f*0x7+0xf*-0x39+-0x6b2],_0x22c59a['pivot'][0x17*-0x15b+-0x5*-0xe9+0x1aa1]));const _0x56b390=Math['abs'](_0x111fa3['anchor']['x']-_0x111fa3['anchor']['z'])>0x19ef+0x1c41+-0x3630+0.001,_0x3b98b7=Math['abs'](_0x111fa3['anchor']['y']-_0x111fa3['anchor']['w'])>-0xa7*-0x4+0x191+-0x42d+0.001;let _0x3e4e8e=!(0xbf6*0x2+-0x6*0x23+-0x1719),_0x1aed47;_0x22c59a['margin']!==void(-0x1ccb+0x136f+0x95c)&&(_0x22c59a['margin']instanceof re?_0x111fa3['margin']['copy'](_0x22c59a['margin']):_0x111fa3['_margin']['set'](_0x22c59a['margin'][-0x15fa+-0x188*0xd+0x29e2],_0x22c59a['margin'][-0x1*0x263+0x1d05*0x1+-0x191*0x11],_0x22c59a['margin'][-0x1*0xf86+-0x594+0x151c],_0x22c59a['margin'][-0x79f*-0x1+-0x24b+-0x551]),_0x3e4e8e=!(0x10ad+-0x17*0xf2+0x511)),_0x22c59a['left']!==void(-0xd6+0x9d2+-0x8fc)&&(_0x111fa3['_margin']['x']=_0x22c59a['left'],_0x3e4e8e=!(-0x1a*-0x14f+0x78b*0x1+-0x2991)),_0x22c59a['bottom']!==void(-0x38c*-0x2+0x4d7+-0xbef)&&(_0x111fa3['_margin']['y']=_0x22c59a['bottom'],_0x3e4e8e=!(0x1*0x24df+-0x7*0x1f1+-0x1748)),_0x22c59a['right']!==void(-0x179c+-0x148e+0x2c2a)&&(_0x111fa3['_margin']['z']=_0x22c59a['right'],_0x3e4e8e=!(0x25cd*-0x1+0x2af*-0xd+0x48b0)),_0x22c59a['top']!==void(0x1a6f+0x2425+-0x3e94)&&(_0x111fa3['_margin']['w']=_0x22c59a['top'],_0x3e4e8e=!(0x49*-0x1+-0x18e5+-0x192e*-0x1)),_0x3e4e8e&&(_0x111fa3['margin']=_0x111fa3['_margin']);let _0x5d81d6=!(0x5*-0x6c4+-0x1d23+0x3ef8);_0x22c59a['width']!==void(-0xe5e*0x2+-0x2b7+0x1f73)&&!_0x56b390?_0x111fa3['width']=_0x22c59a['width']:_0x56b390&&(_0x5d81d6=!(0x126*0x15+0x1603+-0x1*0x2e21)),_0x22c59a['height']!==void(-0x1*-0x1fbc+0x2502*-0x1+0x546)&&!_0x3b98b7?_0x111fa3['height']=_0x22c59a['height']:_0x3b98b7&&(_0x5d81d6=!(0x1*-0x2218+0x189d+-0x97b*-0x1)),_0x5d81d6&&(_0x111fa3['anchor']=_0x111fa3['anchor']),_0x22c59a['enabled']!==void(-0xbff+0x921+-0x2de*-0x1)&&(_0x111fa3['enabled']=_0x22c59a['enabled']),_0x22c59a['useInput']!==void(0xa*-0x1dd+-0x1933+0x31*0xe5)&&(_0x111fa3['useInput']=_0x22c59a['useInput']),_0x22c59a['fitMode']!==void(-0x13e*0xf+0xac8*-0x1+-0xf*-0x1f6)&&(_0x111fa3['fitMode']=_0x22c59a['fitMode']),_0x111fa3['batchGroup'+'Id']=_0x22c59a['batchGroup'+'Id']===void(0x1*0x1e07+-0x1dd5+-0x1*0x32)||_0x22c59a['batchGroup'+'Id']===null?-(-0x4f*0x5d+-0x1*-0x4ac+0x4*0x602):_0x22c59a['batchGroup'+'Id'],_0x22c59a['layers']&&Array['isArray'](_0x22c59a['layers'])&&(_0x111fa3['layers']=_0x22c59a['layers']['slice'](-0x255f+-0x1ecb+0x2215*0x2)),_0x22c59a['type']!==void(-0x1c54+-0xc*0x2d1+-0x2*-0x1f10)&&(_0x111fa3['type']=_0x22c59a['type']),_0x111fa3['type']===Cu?(_0x22c59a['rect']!==void(-0x5*0x42+0x1f19*0x1+-0xd*0x24b)&&(_0x111fa3['rect']=_0x22c59a['rect']),_0x22c59a['color']!==void(0x9d*0x25+-0x9*-0x123+-0x20ec)&&(_0x1aed47=_0x22c59a['color'],_0x1aed47 instanceof ie||(_0x1aed47=new ie(_0x22c59a['color'][-0x1*0x19+0x21de+0x299*-0xd],_0x22c59a['color'][-0xfcb*-0x2+-0x124d*0x1+-0xd48],_0x22c59a['color'][-0x1498+-0x160+0xafd*0x2])),_0x111fa3['color']=_0x1aed47),_0x22c59a['opacity']!==void(-0xec3*-0x1+0x27*0xb3+0x1*-0x2a08)&&(_0x111fa3['opacity']=_0x22c59a['opacity']),_0x22c59a['textureAss'+'et']!==void(-0x7ff*0x3+0xf4f*0x1+-0x65*-0x16)&&(_0x111fa3['textureAss'+'et']=_0x22c59a['textureAss'+'et']),_0x22c59a['texture']&&(_0x111fa3['texture']=_0x22c59a['texture']),_0x22c59a['spriteAsse'+'t']!==void(-0x12d6+-0xbda+-0x8*-0x3d6)&&(_0x111fa3['spriteAsse'+'t']=_0x22c59a['spriteAsse'+'t']),_0x22c59a['sprite']&&(_0x111fa3['sprite']=_0x22c59a['sprite']),_0x22c59a['spriteFram'+'e']!==void(-0x135b*-0x2+0x25e+-0x2914)&&(_0x111fa3['spriteFram'+'e']=_0x22c59a['spriteFram'+'e']),_0x22c59a['pixelsPerU'+'nit']!==void(0xa92+-0x1653+0xb1*0x11)&&_0x22c59a['pixelsPerU'+'nit']!==null&&(_0x111fa3['pixelsPerU'+'nit']=_0x22c59a['pixelsPerU'+'nit']),_0x22c59a['materialAs'+'set']!==void(0x91*-0x1b+-0x14ce*-0x1+-0x53*0x11)&&(_0x111fa3['materialAs'+'set']=_0x22c59a['materialAs'+'set']),_0x22c59a['material']&&(_0x111fa3['material']=_0x22c59a['material']),_0x22c59a['mask']!==void(0xb4*0x1f+0x1*-0x8cd+0x1*-0xcff)&&(_0x111fa3['mask']=_0x22c59a['mask'])):_0x111fa3['type']===jv&&(_0x22c59a['autoWidth']!==void(-0x62*0x1+0x15*0x115+-0x1657)&&(_0x111fa3['autoWidth']=_0x22c59a['autoWidth']),_0x22c59a['autoHeight']!==void(-0x28f*-0x5+0x1*-0xcd2+-0x7*-0x1)&&(_0x111fa3['autoHeight']=_0x22c59a['autoHeight']),_0x22c59a['rtlReorder']!==void(0x2*0x11d7+-0x26ce+0x320)&&(_0x111fa3['rtlReorder']=_0x22c59a['rtlReorder']),_0x22c59a['unicodeCon'+'verter']!==void(0x1a*0x172+-0x1b36+0xa5e*-0x1)&&(_0x111fa3['unicodeCon'+'verter']=_0x22c59a['unicodeCon'+'verter']),_0x22c59a['text']!==null&&_0x22c59a['text']!==void(0x6*0x189+-0x15ad+0xc77)?_0x111fa3['text']=_0x22c59a['text']:_0x22c59a['key']!==null&&_0x22c59a['key']!==void(-0x1*0xfe9+0x1d28+-0xd3f*0x1)&&(_0x111fa3['key']=_0x22c59a['key']),_0x22c59a['color']!==void(0x1*-0x8bf+-0x1fde+0x1*0x289d)&&(_0x1aed47=_0x22c59a['color'],_0x1aed47 instanceof ie||(_0x1aed47=new ie(_0x1aed47[-0xa32+-0xf1*-0x9+-0x31*-0x9],_0x1aed47[-0x167b+-0xcb+0x1747],_0x1aed47[-0xfa1+-0x98f+0x1932])),_0x111fa3['color']=_0x1aed47),_0x22c59a['opacity']!==void(-0xee0+0x2196+-0x12b6)&&(_0x111fa3['opacity']=_0x22c59a['opacity']),_0x22c59a['spacing']!==void(0x1*0x1679+0x12d0+-0x2949)&&(_0x111fa3['spacing']=_0x22c59a['spacing']),_0x22c59a['fontSize']!==void(-0x8*-0x3e1+-0x25ba+0x6b2)&&(_0x111fa3['fontSize']=_0x22c59a['fontSize'],_0x22c59a['lineHeight']||(_0x111fa3['lineHeight']=_0x22c59a['fontSize'])),_0x22c59a['lineHeight']!==void(-0x1980+-0x23ca+-0x5*-0xc42)&&(_0x111fa3['lineHeight']=_0x22c59a['lineHeight']),_0x22c59a['maxLines']!==void(0x279*-0x4+0x1b65+-0x1181)&&(_0x111fa3['maxLines']=_0x22c59a['maxLines']),_0x22c59a['wrapLines']!==void(-0x71*-0x49+0xfd1+0x2*-0x1805)&&(_0x111fa3['wrapLines']=_0x22c59a['wrapLines']),_0x22c59a['minFontSiz'+'e']!==void(0x157f+-0x803+-0xd7c)&&(_0x111fa3['minFontSiz'+'e']=_0x22c59a['minFontSiz'+'e']),_0x22c59a['maxFontSiz'+'e']!==void(-0x97*-0x37+0x3c*-0x18+-0x1ad1)&&(_0x111fa3['maxFontSiz'+'e']=_0x22c59a['maxFontSiz'+'e']),_0x22c59a['autoFitWid'+'th']&&(_0x111fa3['autoFitWid'+'th']=_0x22c59a['autoFitWid'+'th']),_0x22c59a['autoFitHei'+'ght']&&(_0x111fa3['autoFitHei'+'ght']=_0x22c59a['autoFitHei'+'ght']),_0x22c59a['fontAsset']!==void(-0x2*0x40b+-0xc0a+0x1420)&&(_0x111fa3['fontAsset']=_0x22c59a['fontAsset']),_0x22c59a['font']!==void(-0x1f97+-0x1326+-0x1*-0x32bd)&&(_0x111fa3['font']=_0x22c59a['font']),_0x22c59a['alignment']!==void(-0x4b*0x75+-0x1825*-0x1+0xa22)&&(_0x111fa3['alignment']=_0x22c59a['alignment']),_0x22c59a['outlineCol'+'or']!==void(0x1f57+-0x12ae+0x1cf*-0x7)&&(_0x111fa3['outlineCol'+'or']=_0x22c59a['outlineCol'+'or']),_0x22c59a['outlineThi'+'ckness']!==void(0x347+-0x3*0x57d+0xd3*0x10)&&(_0x111fa3['outlineThi'+'ckness']=_0x22c59a['outlineThi'+'ckness']),_0x22c59a['shadowColo'+'r']!==void(0x563+0x5*-0x655+-0x8c2*-0x3)&&(_0x111fa3['shadowColo'+'r']=_0x22c59a['shadowColo'+'r']),_0x22c59a['shadowOffs'+'et']!==void(0x5*-0x67b+-0xfb4+-0x335*-0xf)&&(_0x111fa3['shadowOffs'+'et']=_0x22c59a['shadowOffs'+'et']),_0x22c59a['enableMark'+'up']!==void(-0x1d84*-0x1+-0x61*0x3b+-0x729)&&(_0x111fa3['enableMark'+'up']=_0x22c59a['enableMark'+'up']));const _0x21e74d=_0x111fa3['_parseUpTo'+'Screen']();_0x21e74d['screen']&&_0x111fa3['_updateScr'+'een'](_0x21e74d['screen']),super['initialize'+'ComponentD'+'ata'](_0x111fa3,_0x22c59a,_0x45b189),_0x111fa3['_beingInit'+'ialized']=!(0x1d2f+0x1142+0x8*-0x5ce),_0x111fa3['type']===Cu&&_0x111fa3['_image']['_meshDirty']&&_0x111fa3['_image']['_updateMes'+'h'](_0x111fa3['_image']['mesh']);}['onAddCompo'+'nent'](_0x5d244a,_0x37cbe3){_0x5d244a['fire']('element:ad'+'d');}['onRemoveCo'+'mponent'](_0x56729f,_0x44a626){_0x44a626['onRemove']();}['cloneCompo'+'nent'](_0x1e0d05,_0x1898d8){const _0x308a5a=_0x1e0d05['element'],_0x38dca3={'enabled':_0x308a5a['enabled'],'width':_0x308a5a['width'],'height':_0x308a5a['height'],'anchor':_0x308a5a['anchor']['clone'](),'pivot':_0x308a5a['pivot']['clone'](),'margin':_0x308a5a['margin']['clone'](),'alignment':_0x308a5a['alignment']&&_0x308a5a['alignment']['clone']()||_0x308a5a['alignment'],'autoWidth':_0x308a5a['autoWidth'],'autoHeight':_0x308a5a['autoHeight'],'type':_0x308a5a['type'],'rect':_0x308a5a['rect']&&_0x308a5a['rect']['clone']()||_0x308a5a['rect'],'rtlReorder':_0x308a5a['rtlReorder'],'unicodeConverter':_0x308a5a['unicodeCon'+'verter'],'materialAsset':_0x308a5a['materialAs'+'set'],'material':_0x308a5a['material'],'color':_0x308a5a['color']&&_0x308a5a['color']['clone']()||_0x308a5a['color'],'opacity':_0x308a5a['opacity'],'textureAsset':_0x308a5a['textureAss'+'et'],'texture':_0x308a5a['texture'],'spriteAsset':_0x308a5a['spriteAsse'+'t'],'sprite':_0x308a5a['sprite'],'spriteFrame':_0x308a5a['spriteFram'+'e'],'pixelsPerUnit':_0x308a5a['pixelsPerU'+'nit'],'spacing':_0x308a5a['spacing'],'lineHeight':_0x308a5a['lineHeight'],'wrapLines':_0x308a5a['wrapLines'],'layers':_0x308a5a['layers'],'fontSize':_0x308a5a['fontSize'],'minFontSize':_0x308a5a['minFontSiz'+'e'],'maxFontSize':_0x308a5a['maxFontSiz'+'e'],'autoFitWidth':_0x308a5a['autoFitWid'+'th'],'autoFitHeight':_0x308a5a['autoFitHei'+'ght'],'maxLines':_0x308a5a['maxLines'],'fontAsset':_0x308a5a['fontAsset'],'font':_0x308a5a['font'],'useInput':_0x308a5a['useInput'],'fitMode':_0x308a5a['fitMode'],'batchGroupId':_0x308a5a['batchGroup'+'Id'],'mask':_0x308a5a['mask'],'outlineColor':_0x308a5a['outlineCol'+'or']&&_0x308a5a['outlineCol'+'or']['clone']()||_0x308a5a['outlineCol'+'or'],'outlineThickness':_0x308a5a['outlineThi'+'ckness'],'shadowColor':_0x308a5a['shadowColo'+'r']&&_0x308a5a['shadowColo'+'r']['clone']()||_0x308a5a['shadowColo'+'r'],'shadowOffset':_0x308a5a['shadowOffs'+'et']&&_0x308a5a['shadowOffs'+'et']['clone']()||_0x308a5a['shadowOffs'+'et'],'enableMarkup':_0x308a5a['enableMark'+'up']};return _0x308a5a['key']!==void(-0x1ee2+-0x1894+-0x2*-0x1bbb)&&_0x308a5a['key']!==null?_0x38dca3['key']=_0x308a5a['key']:_0x38dca3['text']=_0x308a5a['text'],this['addCompone'+'nt'](_0x1898d8,_0x38dca3);}['getTextEle'+'mentMateri'+'al'](_0x2da559,_0x1f3533,_0x35a6ac){const _0x47fd8e=(_0x2da559&&-0x194e+-0x1284+0xd*0x35f)|(_0x1f3533&&-0x346*0x1+-0x186*0x11+0x1d2e)|(_0x35a6ac&&0x1949+0x170*0x8+-0x1*0x24c5);let _0x5035b8=this['_defaultTe'+'xtMaterial'+'s'][_0x47fd8e];if(_0x5035b8)return _0x5035b8;let _0xd862a='TextMateri'+'al';return _0x5035b8=new Ut(),_0x1f3533?(_0x5035b8['msdfMap']=this['_defaultTe'+'xture'],_0x5035b8['msdfTextAt'+'tribute']=_0x35a6ac,_0x5035b8['emissive']['set'](-0xa4+-0xe3d+0xee2,-0x15b*0x17+-0x6d3+-0x3*-0xcab,-0x725*0x5+-0xff*-0x1+-0x22bb*-0x1)):(_0xd862a='Bitmap'+_0xd862a,_0x5035b8['emissive']['set'](0x23*0x115+-0x1eb*-0x3+0x2b9f*-0x1,-0x24f3+-0x10e3+0x7*0x7b1,0x247*0xd+0x26d4+0x26*-0x1cd),_0x5035b8['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x5035b8['opacityMap']=this['_defaultTe'+'xture'],_0x5035b8['opacityMap'+'Channel']='a'),_0x2da559&&(_0xd862a='ScreenSpac'+'e'+_0xd862a,_0x5035b8['depthTest']=!(0x9f5+-0xd47+0x353)),_0x5035b8['name']='default'+_0xd862a,_0x5035b8['useLightin'+'g']=!(0x1162+-0x1*0x1746+0x5e5),_0x5035b8['useTonemap']=!(-0x1200+0x1ad4+0x9*-0xfb),_0x5035b8['useFog']=!(-0x1a69+-0x110+0x1b7a),_0x5035b8['useSkybox']=!(-0x1d19+-0xb11+-0x5b*-0x71),_0x5035b8['diffuse']['set'](-0x1d0f*0x1+-0x1*-0x16af+-0x6*-0x110,-0x163+0x13c3+-0x2a0*0x7,-0x2177+-0x14d*-0x1d+-0x442),_0x5035b8['opacity']=-0x8fc+-0x8b*-0x35+-0x699*0x3+0.5,_0x5035b8['blendType']=Gn,_0x5035b8['depthWrite']=!(0x2*0xc89+0x13*-0x29+-0x1*0x1606),_0x5035b8['emissiveVe'+'rtexColor']=!(-0x399+-0x2cf*-0x5+-0x7*0x17e),_0x5035b8['update'](),this['_defaultTe'+'xtMaterial'+'s'][_0x47fd8e]=_0x5035b8,_0x5035b8;}['_createBas'+'eImageMate'+'rial'](){const _0x6248f3=new Ut();return _0x6248f3['diffuse']['set'](-0x1*-0x2d7+0x18f3+0xde5*-0x2,0x2360+-0x101b+-0x1345,0x18*0xd6+0x2*0xb28+-0x2a60),_0x6248f3['emissive']['set'](0x2193+0x1*-0x39f+0xb*-0x2b9,-0x2511+0x116c+0x13a6,0x1d17+0x3*-0xdf+-0x3*0x8d3),_0x6248f3['emissiveMa'+'p']=this['_defaultTe'+'xture'],_0x6248f3['opacityMap']=this['_defaultTe'+'xture'],_0x6248f3['opacityMap'+'Channel']='a',_0x6248f3['useLightin'+'g']=!(0x824+-0x9ad+0xc5*0x2),_0x6248f3['useTonemap']=!(0x681+0xb*-0x296+-0x15f2*-0x1),_0x6248f3['useFog']=!(0x69*0x19+0x1525+-0x1f65),_0x6248f3['useSkybox']=!(-0xbf+0x1ca3+-0x1be3),_0x6248f3['blendType']=Gn,_0x6248f3['depthWrite']=!(-0x24fd+0x21ee+0x310),_0x6248f3;}['getImageEl'+'ementMater'+'ial'](_0x999cc8,_0x19dc50,_0x809d26,_0xbdfb17){return _0x999cc8?_0x19dc50?_0x809d26?(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al',this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['depthTest']=!(0x5*-0x797+0xc67+0x198d*0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaTest']=0xe8b+-0xd*0x29+-0xc75,this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['redWrite']=!(0x6f1+-0xc69*-0x1+0x3*-0x673),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['greenWrite']=!(0x2419+-0x17f3+-0xc25*0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['blueWrite']=!(0x22d*-0x7+0x1918+-0x9dc*0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['alphaWrite']=!(0x1*0x88e+0xd3*-0x1f+0x1100),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Sl'+'icedMateri'+'al']):_0xbdfb17?(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']=this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['clone'](),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['depthTest']=!(0x6*0x3be+0xbe*0x13+-0x248d),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaTest']=-0x1d74+-0xede+-0x7*-0x655,this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['redWrite']=!(0xa3*0x37+0x26fc+0x40*-0x128),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['greenWrite']=!(0x1*0xdb9+0x859+0x1611*-0x1),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['blueWrite']=!(-0x15c7*-0x1+-0x1d6c+0x16*0x59),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['alphaWrite']=!(-0xbff+0x2bb*-0x3+0x1431),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMask9Ti'+'ledMateria'+'l']):(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']||(this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['name']='defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial',this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['depthTest']=!(-0x2*0x11ff+-0x11*0xbf+-0x192*-0x1f),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaTest']=-0x1e82+0x2a5*-0x1+0x2128,this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['redWrite']=!(-0xdfc+-0x8b6+0x16b3),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['greenWrite']=!(0x171f+-0xa*-0xac+0x1dd6*-0x1),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['blueWrite']=!(0xbd8+-0x1732+0xb5b),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['alphaWrite']=!(-0x1718+-0x80c+-0x1*-0x1f25),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial'])),this['defaultScr'+'eenSpaceIm'+'ageMaskMat'+'erial']):_0x809d26?(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']||(this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['name']='defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material',this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['nineSliced'+'Mode']=Pt,this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['depthTest']=!(0x7*-0x56c+-0x2*-0xd81+0xaf3),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material'])),this['defaultScr'+'eenSpaceIm'+'age9Sliced'+'Material']):_0xbdfb17?(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']||(this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['name']='defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial',this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['nineSliced'+'Mode']=Mt,this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['depthTest']=!(0x181e+-0xacb+-0x1*0xd52),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial'])),this['defaultScr'+'eenSpaceIm'+'age9TiledM'+'aterial']):(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']||(this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['name']='defaultScr'+'eenSpaceIm'+'ageMateria'+'l',this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['depthTest']=!(-0x99*-0x17+-0x4d0*-0x7+0x2f6e*-0x1),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l'])),this['defaultScr'+'eenSpaceIm'+'ageMateria'+'l']):_0x19dc50?_0x809d26?(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']||(this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['name']='defaultIma'+'ge9SlicedM'+'askMateria'+'l',this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaTest']=0x24ac+-0x3*-0x1ff+-0x2aa8,this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['redWrite']=!(0xf17+-0x2*0x57a+-0x2*0x211),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['greenWrite']=!(-0x1*0xd43+-0x1b08*-0x1+-0x6e2*0x2),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['blueWrite']=!(-0x1*-0x15a6+0x1*0x1b4+-0x1759),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['alphaWrite']=!(0xf15+-0x1a99+0xb85),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'askMateria'+'l'])),this['defaultIma'+'ge9SlicedM'+'askMateria'+'l']):_0xbdfb17?(this['defaultIma'+'ge9TiledMa'+'skMaterial']||(this['defaultIma'+'ge9TiledMa'+'skMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'skMaterial']['name']='defaultIma'+'ge9TiledMa'+'skMaterial',this['defaultIma'+'ge9TiledMa'+'skMaterial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaTest']=0x1272+-0x12ce+0x1*0x5d,this['defaultIma'+'ge9TiledMa'+'skMaterial']['redWrite']=!(0x65*0x1+-0x14cf+-0x146b*-0x1),this['defaultIma'+'ge9TiledMa'+'skMaterial']['greenWrite']=!(0x13*-0x5e+0x23f7+-0x1cfc),this['defaultIma'+'ge9TiledMa'+'skMaterial']['blueWrite']=!(-0x4*-0x600+-0x6dc*-0x2+0x5*-0x78b),this['defaultIma'+'ge9TiledMa'+'skMaterial']['alphaWrite']=!(-0xb*-0x2e3+0x1*-0x1a42+-0x57e),this['defaultIma'+'ge9TiledMa'+'skMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'skMaterial'])),this['defaultIma'+'ge9TiledMa'+'skMaterial']):(this['defaultIma'+'geMaskMate'+'rial']||(this['defaultIma'+'geMaskMate'+'rial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaskMate'+'rial']['name']='defaultIma'+'geMaskMate'+'rial',this['defaultIma'+'geMaskMate'+'rial']['alphaTest']=0x22d3+0x1*-0x1b2a+-0xa*0xc4,this['defaultIma'+'geMaskMate'+'rial']['redWrite']=!(-0x21*-0x9d+0x1a9a+-0x221*0x16),this['defaultIma'+'geMaskMate'+'rial']['greenWrite']=!(0x23c1+-0x1*0xe95+-0x152b*0x1),this['defaultIma'+'geMaskMate'+'rial']['blueWrite']=!(-0x3fb+-0x23b2+-0x3*-0xd3a),this['defaultIma'+'geMaskMate'+'rial']['alphaWrite']=!(0x5b*0x7+-0x9*0x253+0x21*0x8f),this['defaultIma'+'geMaskMate'+'rial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaskMate'+'rial'])),this['defaultIma'+'geMaskMate'+'rial']):_0x809d26?(this['defaultIma'+'ge9SlicedM'+'aterial']||(this['defaultIma'+'ge9SlicedM'+'aterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9SlicedM'+'aterial']['name']='defaultIma'+'ge9SlicedM'+'aterial',this['defaultIma'+'ge9SlicedM'+'aterial']['nineSliced'+'Mode']=Pt,this['defaultIma'+'ge9SlicedM'+'aterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9SlicedM'+'aterial'])),this['defaultIma'+'ge9SlicedM'+'aterial']):_0xbdfb17?(this['defaultIma'+'ge9TiledMa'+'terial']||(this['defaultIma'+'ge9TiledMa'+'terial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'ge9TiledMa'+'terial']['name']='defaultIma'+'ge9TiledMa'+'terial',this['defaultIma'+'ge9TiledMa'+'terial']['nineSliced'+'Mode']=Mt,this['defaultIma'+'ge9TiledMa'+'terial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'ge9TiledMa'+'terial'])),this['defaultIma'+'ge9TiledMa'+'terial']):(this['defaultIma'+'geMaterial']||(this['defaultIma'+'geMaterial']=this['_createBas'+'eImageMate'+'rial'](),this['defaultIma'+'geMaterial']['name']='defaultIma'+'geMaterial',this['defaultIma'+'geMaterial']['update'](),this['defaultIma'+'geMaterial'+'s']['push'](this['defaultIma'+'geMaterial'])),this['defaultIma'+'geMaterial']);}['registerUn'+'icodeConve'+'rter'](_0x445450){this['_unicodeCo'+'nverter']=_0x445450;}['registerRt'+'lReorder'](_0x99ada8){this['_rtlReorde'+'r']=_0x99ada8;}['getUnicode'+'Converter'](){return this['_unicodeCo'+'nverter'];}['getRtlReor'+'der'](){return this['_rtlReorde'+'r'];}}const Xa='free',qa='limited',ja='locked',RR=['angularDam'+'pingX','angularDam'+'pingY','angularDam'+'pingZ','angularEqu'+'ilibriumX','angularEqu'+'ilibriumY','angularEqu'+'ilibriumZ','angularLim'+'itsX','angularLim'+'itsY','angularLim'+'itsZ','angularMot'+'ionX','angularMot'+'ionY','angularMot'+'ionZ','angularSpr'+'ingX','angularSpr'+'ingY','angularSpr'+'ingZ','angularSti'+'ffnessX','angularSti'+'ffnessY','angularSti'+'ffnessZ','breakForce','enableColl'+'ision','enabled','entityA','entityB','linearDamp'+'ingX','linearDamp'+'ingY','linearDamp'+'ingZ','linearEqui'+'libriumX','linearEqui'+'libriumY','linearEqui'+'libriumZ','linearLimi'+'tsX','linearLimi'+'tsY','linearLimi'+'tsZ','linearMoti'+'onX','linearMoti'+'onY','linearMoti'+'onZ','linearSpri'+'ngX','linearSpri'+'ngY','linearSpri'+'ngZ','linearStif'+'fnessX','linearStif'+'fnessY','linearStif'+'fnessZ'];class ym extends we{constructor(_0x46c449,_0x26430e){super(_0x46c449,_0x26430e),w['assert'](typeof Ammo<'u','ERROR:\x20Att'+'empting\x20to'+'\x20create\x20a\x20'+'pc.JointCo'+'mponent\x20bu'+'t\x20Ammo.js\x20'+'is\x20not\x20loa'+'ded'),this['_constrain'+'t']=null,this['_entityA']=null,this['_entityB']=null,this['_breakForc'+'e']=0xffc99e3c66fd68000000000000000000,this['_enableCol'+'lision']=!(0x1735+-0xa3+-0x12*0x141),this['_linearMot'+'ionX']=ja,this['_linearLim'+'itsX']=new J(0x6*0x29e+-0x1022+0xa*0xb,-0x1*-0x9c3+0x7b*0x23+-0x1a94),this['_linearSpr'+'ingX']=!(0x436+0x133*0xa+-0x1033),this['_linearSti'+'ffnessX']=-0x26c9+0x7e*-0x3d+-0x1*-0x44cf,this['_linearDam'+'pingX']=0xb53+-0x258f+-0x1a3d*-0x1,this['_linearEqu'+'ilibriumX']=-0x170+-0x1e07*0x1+0x1f77,this['_linearMot'+'ionY']=ja,this['_linearLim'+'itsY']=new J(-0xd9*-0x22+-0x185*-0x16+0x53*-0xc0,-0x39*0x6c+-0xfab+0x27b7),this['_linearSpr'+'ingY']=!(-0x2275+-0xf7f*0x1+-0x93*-0x57),this['_linearSti'+'ffnessY']=0xd3c+-0x2615+-0x18d9*-0x1,this['_linearDam'+'pingY']=0x128a+0x5ba+-0x1843,this['_linearEqu'+'ilibriumY']=0x6*-0x512+0x129d*0x1+0x1*0xbcf,this['_linearMot'+'ionZ']=ja,this['_linearLim'+'itsZ']=new J(-0xd9*0xa+0x14*0x55+0x1d6,-0x25ad+-0x16da+0xf*0x409),this['_linearSpr'+'ingZ']=!(-0x3*0x725+0x47*0x71+-0x9e7),this['_linearSti'+'ffnessZ']=0x21b*-0x10+0x1*0x389+0x1e27,this['_linearDam'+'pingZ']=-0xd*0x2d7+-0x62e*0x2+0x14c*0x26,this['_linearEqu'+'ilibriumZ']=-0x1*-0xa81+-0x86*-0x40+-0x2c01,this['_angularMo'+'tionX']=ja,this['_angularLi'+'mitsX']=new J(0x3*-0x7bb+0x205+0x152c,-0x15*0x1d2+0x19df+0xc5b),this['_angularSp'+'ringX']=!(-0x1463+0x130a+-0x1*-0x15a),this['_angularSt'+'iffnessX']=0x2*0x509+0x22ac+-0x2cbe,this['_angularDa'+'mpingX']=0xe9b*-0x2+0x26a5+-0x1*0x96e,this['_angularEq'+'uilibriumX']=0x1d18+0x15ed*0x1+-0x3305,this['_angularMo'+'tionY']=ja,this['_angularLi'+'mitsY']=new J(0x1ff2*-0x1+0x1*0x663+0x3*0x885,-0xa19+-0x2*0xe5f+0xa3*0x3d),this['_angularSp'+'ringY']=!(0x14e5*0x1+-0x1103+-0x3e1),this['_angularSt'+'iffnessY']=0x2267*-0x1+0xfdd*0x2+0x2ad,this['_angularDa'+'mpingY']=0xd*-0xf3+-0x2063*-0x1+0x140b*-0x1,this['_angularEq'+'uilibriumY']=-0x1f71+0x1071*-0x2+0x4053,this['_angularMo'+'tionZ']=ja,this['_angularLi'+'mitsZ']=new J(-0x44c+-0x1534+0x198*0x10,-0x6d3*-0x4+-0x3e*-0x20+-0x230c),this['_angularSp'+'ringZ']=!(0x1812+-0x699+-0x2*0x8bc),this['_angularEq'+'uilibriumZ']=0x1759+-0xd*-0x241+0x1a53*-0x2,this['_angularDa'+'mpingZ']=0x1e85+0xab+-0x1f2f,this['_angularSt'+'iffnessZ']=-0x2229+-0x5*-0x21+0x2184,this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['entityA'](_0x531a89){this['_destroyCo'+'nstraint'](),this['_entityA']=_0x531a89,this['_createCon'+'straint']();}get['entityA'](){return this['_entityA'];}set['entityB'](_0x3a926f){this['_destroyCo'+'nstraint'](),this['_entityB']=_0x3a926f,this['_createCon'+'straint']();}get['entityB'](){return this['_entityB'];}set['breakForce'](_0x240838){this['_constrain'+'t']&&this['_breakForc'+'e']!==_0x240838&&(this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](_0x240838),this['_breakForc'+'e']=_0x240838);}get['breakForce'](){return this['_breakForc'+'e'];}set['enableColl'+'ision'](_0x586b95){this['_destroyCo'+'nstraint'](),this['_enableCol'+'lision']=_0x586b95,this['_createCon'+'straint']();}get['enableColl'+'ision'](){return this['_enableCol'+'lision'];}set['angularLim'+'itsX'](_0x2ad255){this['_angularLi'+'mitsX']['equals'](_0x2ad255)||(this['_angularLi'+'mitsX']['copy'](_0x2ad255),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsX'](){return this['_angularLi'+'mitsX'];}set['angularMot'+'ionX'](_0x2568a6){this['_angularMo'+'tionX']!==_0x2568a6&&(this['_angularMo'+'tionX']=_0x2568a6,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionX'](){return this['_angularMo'+'tionX'];}set['angularLim'+'itsY'](_0x464902){this['_angularLi'+'mitsY']['equals'](_0x464902)||(this['_angularLi'+'mitsY']['copy'](_0x464902),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsY'](){return this['_angularLi'+'mitsY'];}set['angularMot'+'ionY'](_0x393984){this['_angularMo'+'tionY']!==_0x393984&&(this['_angularMo'+'tionY']=_0x393984,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionY'](){return this['_angularMo'+'tionY'];}set['angularLim'+'itsZ'](_0x2f8ff1){this['_angularLi'+'mitsZ']['equals'](_0x2f8ff1)||(this['_angularLi'+'mitsZ']['copy'](_0x2f8ff1),this['_updateAng'+'ularLimits']());}get['angularLim'+'itsZ'](){return this['_angularLi'+'mitsZ'];}set['angularMot'+'ionZ'](_0x1fd059){this['_angularMo'+'tionZ']!==_0x1fd059&&(this['_angularMo'+'tionZ']=_0x1fd059,this['_updateAng'+'ularLimits']());}get['angularMot'+'ionZ'](){return this['_angularMo'+'tionZ'];}set['linearLimi'+'tsX'](_0x3eb429){this['_linearLim'+'itsX']['equals'](_0x3eb429)||(this['_linearLim'+'itsX']['copy'](_0x3eb429),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsX'](){return this['_linearLim'+'itsX'];}set['linearMoti'+'onX'](_0x157341){this['_linearMot'+'ionX']!==_0x157341&&(this['_linearMot'+'ionX']=_0x157341,this['_updateLin'+'earLimits']());}get['linearMoti'+'onX'](){return this['_linearMot'+'ionX'];}set['linearLimi'+'tsY'](_0x56cde0){this['_linearLim'+'itsY']['equals'](_0x56cde0)||(this['_linearLim'+'itsY']['copy'](_0x56cde0),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsY'](){return this['_linearLim'+'itsY'];}set['linearMoti'+'onY'](_0xc73aa5){this['_linearMot'+'ionY']!==_0xc73aa5&&(this['_linearMot'+'ionY']=_0xc73aa5,this['_updateLin'+'earLimits']());}get['linearMoti'+'onY'](){return this['_linearMot'+'ionY'];}set['linearLimi'+'tsZ'](_0x8b9769){this['_linearLim'+'itsZ']['equals'](_0x8b9769)||(this['_linearLim'+'itsZ']['copy'](_0x8b9769),this['_updateLin'+'earLimits']());}get['linearLimi'+'tsZ'](){return this['_linearLim'+'itsZ'];}set['linearMoti'+'onZ'](_0x519fb4){this['_linearMot'+'ionZ']!==_0x519fb4&&(this['_linearMot'+'ionZ']=_0x519fb4,this['_updateLin'+'earLimits']());}get['linearMoti'+'onZ'](){return this['_linearMot'+'ionZ'];}['_convertTr'+'ansform'](_0x4b5678,_0x3654ae){const _0x467f8d=_0x4b5678['getTransla'+'tion'](),_0x59d5cd=new le();_0x59d5cd['setFromMat'+'4'](_0x4b5678);const _0x325cc7=new Ammo['btVector3'](_0x467f8d['x'],_0x467f8d['y'],_0x467f8d['z']),_0x43f1c5=new Ammo['btQuaterni'+'on'](_0x59d5cd['x'],_0x59d5cd['y'],_0x59d5cd['z'],_0x59d5cd['w']);_0x3654ae['setOrigin'](_0x325cc7),_0x3654ae['setRotatio'+'n'](_0x43f1c5),Ammo['destroy'](_0x325cc7),Ammo['destroy'](_0x43f1c5);}['_updateAng'+'ularLimits'](){const _0x9e7c6a=this['_constrain'+'t'];if(_0x9e7c6a){let _0x188cd7,_0x543240,_0x3e1e0d,_0x5b4911,_0x33fd10,_0x5259c7;this['_angularMo'+'tionX']===qa?(_0x188cd7=this['_angularLi'+'mitsX']['x']*Y['DEG_TO_RAD'],_0x5b4911=this['_angularLi'+'mitsX']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionX']===Xa?(_0x188cd7=0xed3+-0x1bfe+0x2*0x696,_0x5b4911=-0x1*-0xc05+-0x19aa+0xda5):_0x188cd7=_0x5b4911=-0x1*0xf59+0x18ff*-0x1+-0x2858*-0x1,this['_angularMo'+'tionY']===qa?(_0x543240=this['_angularLi'+'mitsY']['x']*Y['DEG_TO_RAD'],_0x33fd10=this['_angularLi'+'mitsY']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionY']===Xa?(_0x543240=0x5c3*-0x4+0x2696+0x1*-0xf89,_0x33fd10=0x20ac*0x1+0x25c4*-0x1+-0x2*-0x28c):_0x543240=_0x33fd10=0x4e1*-0x1+0x1*-0xb61+-0x821*-0x2,this['_angularMo'+'tionZ']===qa?(_0x3e1e0d=this['_angularLi'+'mitsZ']['x']*Y['DEG_TO_RAD'],_0x5259c7=this['_angularLi'+'mitsZ']['y']*Y['DEG_TO_RAD']):this['_angularMo'+'tionZ']===Xa?(_0x3e1e0d=0x1eee+-0x1*-0x164c+0x7d*-0x6d,_0x5259c7=-0x19d*0x3+0x109d+-0xbc6):_0x3e1e0d=_0x5259c7=-0x1*0xa8b+0x214b+-0x16c0;const _0x1702e1=new Ammo['btVector3'](_0x188cd7,_0x543240,_0x3e1e0d);_0x9e7c6a['setAngular'+'LowerLimit'](_0x1702e1),_0x1702e1['setValue'](_0x5b4911,_0x33fd10,_0x5259c7),_0x9e7c6a['setAngular'+'UpperLimit'](_0x1702e1),Ammo['destroy'](_0x1702e1);}}['_updateLin'+'earLimits'](){const _0x1f9343=this['_constrain'+'t'];if(_0x1f9343){let _0x2e32a5,_0x4d2c0f,_0x570379,_0x913f37,_0x3c5c5c,_0x48ec19;this['_linearMot'+'ionX']===qa?(_0x2e32a5=this['_linearLim'+'itsX']['x'],_0x913f37=this['_linearLim'+'itsX']['y']):this['_linearMot'+'ionX']===Xa?(_0x2e32a5=0x599*0x5+0xf71*0x1+0x2b6d*-0x1,_0x913f37=0x171a*0x1+-0x1c3d+0x5*0x107):_0x2e32a5=_0x913f37=-0x9e1*0x3+-0x3*-0xab5+-0xd4*0x3,this['_linearMot'+'ionY']===qa?(_0x4d2c0f=this['_linearLim'+'itsY']['x'],_0x3c5c5c=this['_linearLim'+'itsY']['y']):this['_linearMot'+'ionY']===Xa?(_0x4d2c0f=-0x106+-0x1cc3+0x1dca,_0x3c5c5c=-0x4*-0x5f9+0x22f6+-0x345*0x12):_0x4d2c0f=_0x3c5c5c=0x3e2+0xc9f+-0x1081,this['_linearMot'+'ionZ']===qa?(_0x570379=this['_linearLim'+'itsZ']['x'],_0x48ec19=this['_linearLim'+'itsZ']['y']):this['_linearMot'+'ionZ']===Xa?(_0x570379=-0x1c43*0x1+0x2562+-0x91e,_0x48ec19=-0x2449+-0x4c*-0x17+0x1d75):_0x570379=_0x48ec19=-0x2129+-0xd*0xf7+0x41*0xb4;const _0x70615b=new Ammo['btVector3'](_0x2e32a5,_0x4d2c0f,_0x570379);_0x1f9343['setLinearL'+'owerLimit'](_0x70615b),_0x70615b['setValue'](_0x913f37,_0x3c5c5c,_0x48ec19),_0x1f9343['setLinearU'+'pperLimit'](_0x70615b),Ammo['destroy'](_0x70615b);}}['_createCon'+'straint'](){if(this['_entityA']&&this['_entityA']['rigidbody']){this['_destroyCo'+'nstraint']();const _0x2f3d5e=new te(),_0xdadf76=this['_entityA']['rigidbody']['body'];_0xdadf76['activate']();const _0x3f6242=this['entity']['getWorldTr'+'ansform'](),_0x5c0dee=this['_entityA']['getWorldTr'+'ansform']()['clone']()['invert']();_0x2f3d5e['mul2'](_0x5c0dee,_0x3f6242);const _0x1a8d28=new Ammo['btTransfor'+'m']();if(this['_convertTr'+'ansform'](_0x2f3d5e,_0x1a8d28),this['_entityB']&&this['_entityB']['rigidbody']){const _0x2ec17b=this['_entityB']['rigidbody']['body'];_0x2ec17b['activate']();const _0x2ee9f0=this['_entityB']['getWorldTr'+'ansform']()['clone']()['invert']();_0x2f3d5e['mul2'](_0x2ee9f0,_0x3f6242);const _0xb25899=new Ammo['btTransfor'+'m']();this['_convertTr'+'ansform'](_0x2f3d5e,_0xb25899),this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0xdadf76,_0x2ec17b,_0x1a8d28,_0xb25899,!this['_enableCol'+'lision']),Ammo['destroy'](_0xb25899);}else this['_constrain'+'t']=new Ammo['btGeneric6'+'DofSpringC'+'onstraint'](_0xdadf76,_0x1a8d28,!this['_enableCol'+'lision']);Ammo['destroy'](_0x1a8d28);const _0x73e18=['X','Y','Z','X','Y','Z'];for(let _0x269b22=-0x6*0x265+-0x3d6+0x5*0x3a4;_0x269b22<-0x4*0x127+-0x2646+0x2ae8;_0x269b22++){const _0x36988e=_0x269b22<0x1*-0x18af+-0x77b+0x202d?'_linear':'_angular';this['_constrain'+'t']['enableSpri'+'ng'](_0x269b22,this[_0x36988e+'Spring'+_0x73e18[_0x269b22]]),this['_constrain'+'t']['setDamping'](_0x269b22,this[_0x36988e+'Damping'+_0x73e18[_0x269b22]]),this['_constrain'+'t']['setEquilib'+'riumPoint'](_0x269b22,this[_0x36988e+('Equilibriu'+'m')+_0x73e18[_0x269b22]]),this['_constrain'+'t']['setStiffne'+'ss'](_0x269b22,this[_0x36988e+'Stiffness'+_0x73e18[_0x269b22]]);}this['_constrain'+'t']['setBreakin'+'gImpulseTh'+'reshold'](this['_breakForc'+'e']),this['_updateLin'+'earLimits'](),this['_updateAng'+'ularLimits'](),this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['addConstra'+'int'](this['_constrain'+'t'],!this['_enableCol'+'lision']);}}['_destroyCo'+'nstraint'](){this['_constrain'+'t']&&(this['system']['app']['systems']['rigidbody']['dynamicsWo'+'rld']['removeCons'+'traint'](this['_constrain'+'t']),Ammo['destroy'](this['_constrain'+'t']),this['_constrain'+'t']=null);}['initFromDa'+'ta'](_0x5a1c26){for(const _0x37fa8b of RR)_0x5a1c26['hasOwnProp'+'erty'](_0x37fa8b)&&(_0x5a1c26[_0x37fa8b]instanceof J?this['_'+_0x37fa8b]['copy'](_0x5a1c26[_0x37fa8b]):this['_'+_0x37fa8b]=_0x5a1c26[_0x37fa8b]);this['_createCon'+'straint']();}['onEnable'](){this['_createCon'+'straint']();}['onDisable'](){this['_destroyCo'+'nstraint']();}['_onSetEnab'+'led'](_0x55da6d,_0x123615,_0x307aec){}['_onBeforeR'+'emove'](){this['fire']('remove');}}const OR={'Damping':'setDamping','Equilibrium':'setEquilib'+'riumPoint','Spring':'enableSpri'+'ng','Stiffness':'setStiffne'+'ss'};['linear','angular']['forEach'](_0x5849ef=>{['Damping','Equilibriu'+'m','Spring','Stiffness']['forEach'](_0x593b62=>{['X','Y','Z']['forEach'](_0x465809=>{const _0xa91326=_0x5849ef+_0x593b62+_0x465809,_0x2139a3='_'+_0xa91326;let _0x3a1fbb=_0x5849ef==='linear'?0xf*0x19+-0x3e9+0x2*0x139:-0xb92*0x1+0x38f*-0x2+0x12b3;_0x465809==='Y'&&(_0x3a1fbb+=-0x1f50+0x43*-0x11+0x23c4),_0x465809==='Z'&&(_0x3a1fbb+=-0xfc6*0x1+-0x1d6f+0x2d37),Object['defineProp'+'erty'](ym['prototype'],_0xa91326,{'get':function(){return this[_0x2139a3];},'set':function(_0x5b26a3){this[_0x2139a3]!==_0x5b26a3&&(this[_0x2139a3]=_0x5b26a3,this['_constrain'+'t'][OR[_0x593b62]](_0x3a1fbb,_0x5b26a3));}});});});});class FR{constructor(){this['enabled']=!(-0xdbe+0x1dfa*-0x1+0x2bb8);}}const Fu=['enabled'];class NR extends ct{constructor(_0x139628){super(_0x139628),this['id']='joint',this['app']=_0x139628,this['ComponentT'+'ype']=ym,this['DataType']=FR,this['schema']=Fu;}['initialize'+'ComponentD'+'ata'](_0x471f71,_0x5214ae,_0x26fd78){_0x471f71['initFromDa'+'ta'](_0x5214ae),super['initialize'+'ComponentD'+'ata'](_0x471f71,_0x5214ae,Fu);}}we['_buildAcce'+'ssors'](ym['prototype'],Fu);class Jv extends we{constructor(){super(...arguments),h(this,'_minWidth',0x1*0x151f+-0x66f*-0x3+0xa1b*-0x4),h(this,'_minHeight',0x3b*0x35+0x1479+-0x416*0x8),h(this,'_maxWidth',null),h(this,'_maxHeight',null),h(this,'_fitWidthP'+'roportion',0x1ce2+0xd3*-0x1+-0x1*0x1c0f),h(this,'_fitHeight'+'Proportion',0x1aa4+0xb42+-0x25e6),h(this,'_excludeFr'+'omLayout',!(-0x144*0x14+-0x8bf+0x6d*0x50));}set['minWidth'](_0x12c586){_0x12c586!==this['_minWidth']&&(this['_minWidth']=_0x12c586,this['fire']('resize'));}get['minWidth'](){return this['_minWidth'];}set['minHeight'](_0x5e9c22){_0x5e9c22!==this['_minHeight']&&(this['_minHeight']=_0x5e9c22,this['fire']('resize'));}get['minHeight'](){return this['_minHeight'];}set['maxWidth'](_0x463caa){_0x463caa!==this['_maxWidth']&&(this['_maxWidth']=_0x463caa,this['fire']('resize'));}get['maxWidth'](){return this['_maxWidth'];}set['maxHeight'](_0x138579){_0x138579!==this['_maxHeight']&&(this['_maxHeight']=_0x138579,this['fire']('resize'));}get['maxHeight'](){return this['_maxHeight'];}set['fitWidthPr'+'oportion'](_0x3be5eb){_0x3be5eb!==this['_fitWidthP'+'roportion']&&(this['_fitWidthP'+'roportion']=_0x3be5eb,this['fire']('resize'));}get['fitWidthPr'+'oportion'](){return this['_fitWidthP'+'roportion'];}set['fitHeightP'+'roportion'](_0x987542){_0x987542!==this['_fitHeight'+'Proportion']&&(this['_fitHeight'+'Proportion']=_0x987542,this['fire']('resize'));}get['fitHeightP'+'roportion'](){return this['_fitHeight'+'Proportion'];}set['excludeFro'+'mLayout'](_0x19eadb){_0x19eadb!==this['_excludeFr'+'omLayout']&&(this['_excludeFr'+'omLayout']=_0x19eadb,this['fire']('resize'));}get['excludeFro'+'mLayout'](){return this['_excludeFr'+'omLayout'];}}class kR{constructor(){this['enabled']=!(0x1ea6+0xd74+0x469*-0xa);}}const e0=['enabled'];class UR extends ct{constructor(_0xa77c8a){super(_0xa77c8a),this['id']='layoutchil'+'d',this['ComponentT'+'ype']=Jv,this['DataType']=kR,this['schema']=e0;}['initialize'+'ComponentD'+'ata'](_0x2aac29,_0x47266d,_0x15b6f9){_0x47266d['enabled']!==void(0xd95+0x31d*-0x2+-0x75b)&&(_0x2aac29['enabled']=_0x47266d['enabled']),_0x47266d['minWidth']!==void(-0x533*-0x4+0x29*-0x84+0x58)&&(_0x2aac29['minWidth']=_0x47266d['minWidth']),_0x47266d['minHeight']!==void(-0x2025+0x6*0x256+0x15*0xdd)&&(_0x2aac29['minHeight']=_0x47266d['minHeight']),_0x47266d['maxWidth']!==void(-0x3*-0x9ef+-0x1239+-0xb94)&&(_0x2aac29['maxWidth']=_0x47266d['maxWidth']),_0x47266d['maxHeight']!==void(-0x1*-0x1e62+0x455*-0x5+-0x1*0x8b9)&&(_0x2aac29['maxHeight']=_0x47266d['maxHeight']),_0x47266d['fitWidthPr'+'oportion']!==void(-0x103d+0x114*0x11+-0x217)&&(_0x2aac29['fitWidthPr'+'oportion']=_0x47266d['fitWidthPr'+'oportion']),_0x47266d['fitHeightP'+'roportion']!==void(0x2578+0x2043+0x45bb*-0x1)&&(_0x2aac29['fitHeightP'+'roportion']=_0x47266d['fitHeightP'+'roportion']),_0x47266d['excludeFro'+'mLayout']!==void(0xcca+0x8aa*-0x1+0x10*-0x42)&&(_0x2aac29['excludeFro'+'mLayout']=_0x47266d['excludeFro'+'mLayout']),super['initialize'+'ComponentD'+'ata'](_0x2aac29,_0x47266d,_0x15b6f9);}['cloneCompo'+'nent'](_0x5ce307,_0x171e2e){const _0x852b85=_0x5ce307['layoutchil'+'d'];return this['addCompone'+'nt'](_0x171e2e,{'enabled':_0x852b85['enabled'],'minWidth':_0x852b85['minWidth'],'minHeight':_0x852b85['minHeight'],'maxWidth':_0x852b85['maxWidth'],'maxHeight':_0x852b85['maxHeight'],'fitWidthProportion':_0x852b85['fitWidthPr'+'oportion'],'fitHeightProportion':_0x852b85['fitHeightP'+'roportion'],'excludeFromLayout':_0x852b85['excludeFro'+'mLayout']});}}we['_buildAcce'+'ssors'](Jv['prototype'],e0);const Nu=-0x8a9*-0x4+-0xef9+-0x13ab,BR=-0x5*0x19f+0xe0b*0x2+-0x13fa*0x1,Qg=-0x376+-0x20ce+-0x2*-0x1223,zR=0x20dd+0x1*-0x1502+-0xbd8,Oh={};Oh[Ce]={'axis':'x','size':'width','calculatedSize':'calculated'+'Width','minSize':'minWidth','maxSize':'maxWidth','fitting':'widthFitti'+'ng','fittingProportion':'fitWidthPr'+'oportion'},Oh[je]={'axis':'y','size':'height','calculatedSize':'calculated'+'Height','minSize':'minHeight','maxSize':'maxHeight','fitting':'heightFitt'+'ing','fittingProportion':'fitHeightP'+'roportion'};const vm={};vm[Ce]=je,vm[je]=Ce;const VR={'minWidth':0x0,'minHeight':0x0,'maxWidth':Number['POSITIVE_I'+'NFINITY'],'maxHeight':Number['POSITIVE_I'+'NFINITY'],'width':null,'height':null,'fitWidthProportion':0x0,'fitHeightProportion':0x0},os={'NONE':'NONE','APPLY_STRETCHING':'APPLY_STRE'+'TCHING','APPLY_SHRINKING':'APPLY_SHRI'+'NKING'},ls=new J();function t0(_0x2e0bd3){let _0x1634ae;const _0x178739=Oh[_0x2e0bd3],_0x7f0e73=Oh[vm[_0x2e0bd3]];function _0x34f9ca(_0x49e322,_0x1d78fd){return-_0x1d78fd[_0x178739['size']]*_0x49e322['pivot'][_0x178739['axis']];}function _0x19086a(_0x5f4c7c,_0x44a4d9){return-_0x44a4d9[_0x7f0e73['size']]*_0x5f4c7c['pivot'][_0x7f0e73['axis']];}function _0x32f54(_0x3c850c,_0x2fb82c){return _0x2fb82c[_0x178739['size']]*(0x19fa+-0x13ec+-0x60d-_0x3c850c['pivot'][_0x178739['axis']]);}function _0xf04a86(_0x414353,_0x44581e){_0x414353=_0x414353['filter'](_0x20ce27),_0x1634ae=_0x44581e,ls['x']=_0x1634ae['containerS'+'ize']['x']-_0x1634ae['padding']['x']-_0x1634ae['padding']['z'],ls['y']=_0x1634ae['containerS'+'ize']['y']-_0x1634ae['padding']['y']-_0x1634ae['padding']['w'],_0x54bd13(_0x414353);const _0x6eb6e1=_0x5aedce(_0x144125(_0x414353)),_0x4b59b1=_0x29ad4f(_0x6eb6e1,_0x40ada2(_0x6eb6e1)),_0x36693b=_0xf5b436(_0x6eb6e1,_0x4b59b1);return _0x21094c(_0x6eb6e1,_0x4b59b1,_0x36693b),_0x13505b(_0x6eb6e1,_0x4b59b1,_0x36693b),_0x4f9546(_0x6eb6e1);}function _0x20ce27(_0x36d6f9){const _0x4ab5d2=_0x36d6f9['entity']['layoutchil'+'d'];return!_0x4ab5d2||!_0x4ab5d2['enabled']||!_0x4ab5d2['excludeFro'+'mLayout'];}function _0x54bd13(_0x1a847b){for(let _0x194578=0x145e+0x2481+-0x38df;_0x194578<_0x1a847b['length'];++_0x194578){const _0x1891f5=_0x1a847b[_0x194578],_0x1cf206=_0x1891f5['anchor'];(_0x1cf206['x']!==-0x5*-0x7bf+0xa*0x21a+-0x17*0x299||_0x1cf206['y']!==-0x1*-0x2ea+-0x1f99*0x1+0x1caf||_0x1cf206['z']!==0x1eb*-0x7+0x1016+0x2a9*-0x1||_0x1cf206['w']!==0xb*-0x121+0x2154+-0x14e9)&&(_0x1891f5['anchor']=re['ZERO']);}}function _0x144125(_0x2a687f){if(!_0x1634ae['wrap'])return[_0x2a687f];const _0x1e70a6=[[]],_0x586e85=_0x32a88a(_0x2a687f);let _0x52f853=0x2417+0x97*-0x15+0x25*-0xa4;const _0x4db9b3=_0x1634ae[_0x178739['fitting']]===Qg;for(let _0x18cd74=-0x1*0x2018+-0x1*0xd9b+0x2db3;_0x18cd74<_0x2a687f['length'];++_0x18cd74){_0x1e70a6[_0x1e70a6['length']-(-0x189e+-0x2621*0x1+0x3ec0)]['length']>-0x3*0x3a9+-0x481*-0x2+0x1f9*0x1&&(_0x52f853+=_0x1634ae['spacing'][_0x178739['axis']]);const _0x365074=_0x586e85[_0x18cd74][_0x178739['size']];_0x52f853+=_0x365074,!_0x4db9b3&&_0x52f853>ls[_0x178739['axis']]&&_0x1e70a6[_0x1e70a6['length']-(-0x22*-0xe2+0x1*-0x2c3+-0x1b40)]['length']!==0x6eb+0x1c4b+-0x119b*0x2&&(_0x52f853=_0x365074,_0x1e70a6['push']([])),_0x1e70a6[_0x1e70a6['length']-(0x871+-0x1*-0x851+-0x10c1)]['push'](_0x2a687f[_0x18cd74]),_0x4db9b3&&_0x52f853>ls[_0x178739['axis']]&&_0x18cd74!==_0x2a687f['length']-(0x2136+-0x17b8+0x7*-0x15b)&&(_0x52f853=0xa2b+0x20b7+-0x2ae2,_0x1e70a6['push']([]));}return _0x1e70a6;}function _0x5aedce(_0x3ad85c){const _0x24b730=_0x1634ae['orientatio'+'n']===Ce&&_0x1634ae['reverseX']||_0x1634ae['orientatio'+'n']===je&&_0x1634ae['reverseY'],_0x2dc32=_0x1634ae['orientatio'+'n']===Ce&&_0x1634ae['reverseY']||_0x1634ae['orientatio'+'n']===je&&_0x1634ae['reverseX'];if(_0x24b730){for(let _0x278034=0x25d+0x37*-0x1+-0x37*0xa;_0x278034<_0x3ad85c['length'];++_0x278034)_0x24b730&&_0x3ad85c[_0x278034]['reverse']();}return _0x2dc32&&_0x3ad85c['reverse'](),_0x3ad85c;}function _0x40ada2(_0x2bc576){const _0x1fe1d8=[];for(let _0x42054e=-0x1654+0x1*-0xfd2+0x13*0x202;_0x42054e<_0x2bc576['length'];++_0x42054e){const _0x20691a=_0x2bc576[_0x42054e],_0x434da0=_0x32a88a(_0x20691a),_0x1f1059=_0x5aac55(_0x434da0,_0x178739),_0x2ecf48=_0x4c1753(_0x1634ae[_0x178739['fitting']],_0x1f1059,ls[_0x178739['axis']]);_0x2ecf48===os['APPLY_STRE'+'TCHING']?_0x836eb0(_0x434da0,_0x1f1059,_0x178739):_0x2ecf48===os['APPLY_SHRI'+'NKING']&&_0x3930b3(_0x434da0,_0x1f1059,_0x178739),_0x1fe1d8['push'](_0x434da0);}return _0x1fe1d8;}function _0x29ad4f(_0x5a60dd,_0x410eae){const _0x176d7=[],_0x33ca38=[];for(let _0x222469=-0x6c5+0x23c9*-0x1+0x1*0x2a8e;_0x222469<_0x5a60dd['length'];++_0x222469){const _0xeed7ba=_0x5a60dd[_0x222469];_0xeed7ba['largestEle'+'ment']=null,_0xeed7ba['largestSiz'+'e']={'width':Number['NEGATIVE_I'+'NFINITY'],'height':Number['NEGATIVE_I'+'NFINITY']};for(let _0x9c4cfe=-0x1206+-0xb*-0x287+-0x1*0x9c7;_0x9c4cfe<_0xeed7ba['length'];++_0x9c4cfe){const _0x39a273=_0x410eae[_0x222469][_0x9c4cfe];_0x39a273[_0x7f0e73['size']]>_0xeed7ba['largestSiz'+'e'][_0x7f0e73['size']]&&(_0xeed7ba['largestEle'+'ment']=_0xeed7ba[_0x9c4cfe],_0xeed7ba['largestSiz'+'e']=_0x39a273);}_0x176d7['push'](_0xeed7ba['largestEle'+'ment']),_0x33ca38['push'](_0xeed7ba['largestSiz'+'e']);}const _0x2ee987=_0x5aac55(_0x33ca38,_0x7f0e73),_0x53c452=_0x4c1753(_0x1634ae[_0x7f0e73['fitting']],_0x2ee987,ls[_0x7f0e73['axis']]);_0x53c452===os['APPLY_STRE'+'TCHING']?_0x836eb0(_0x33ca38,_0x2ee987,_0x7f0e73):_0x53c452===os['APPLY_SHRI'+'NKING']&&_0x3930b3(_0x33ca38,_0x2ee987,_0x7f0e73);for(let _0x57222d=0x2*0x131c+0x6dd+-0x2d15*0x1;_0x57222d<_0x5a60dd['length'];++_0x57222d){const _0x38d15c=_0x5a60dd[_0x57222d];for(let _0x124171=0x45*-0x6+-0x6*-0xcf+-0x33c;_0x124171<_0x38d15c['length'];++_0x124171){const _0xf3be8d=_0x410eae[_0x57222d][_0x124171],_0x315fba=_0xf3be8d[_0x7f0e73['size']],_0x4a64d9=_0x5a60dd['length']===0x116+-0x23a+-0x125*-0x1?ls[_0x7f0e73['axis']]:_0x38d15c['largestSiz'+'e'][_0x7f0e73['size']],_0x697c1d=_0x4c1753(_0x1634ae[_0x7f0e73['fitting']],_0x315fba,_0x4a64d9);_0x697c1d===os['APPLY_STRE'+'TCHING']?_0xf3be8d[_0x7f0e73['size']]=Math['min'](_0x4a64d9,_0xf3be8d[_0x7f0e73['maxSize']]):_0x697c1d===os['APPLY_SHRI'+'NKING']&&(_0xf3be8d[_0x7f0e73['size']]=Math['max'](_0x4a64d9,_0xf3be8d[_0x7f0e73['minSize']]));}}return _0x410eae;}function _0x4c1753(_0x25c5e4,_0x420708,_0xcbadad){switch(_0x25c5e4){case Nu:return os['NONE'];case BR:return _0x420708<_0xcbadad?os['APPLY_STRE'+'TCHING']:os['NONE'];case Qg:return _0x420708>=_0xcbadad?os['APPLY_SHRI'+'NKING']:os['NONE'];case zR:return _0x420708<_0xcbadad?os['APPLY_STRE'+'TCHING']:os['APPLY_SHRI'+'NKING'];default:throw new Error('Unrecogniz'+'ed\x20fitting'+'\x20mode:\x20'+_0x25c5e4);}}function _0x5aac55(_0x368dea,_0x1b670d){const _0x23aa47=_0x60e395(_0x368dea,_0x1b670d['size']),_0x3aa5fd=(_0x368dea['length']-(0x2*0x75f+-0xe7a+-0x1*0x43))*_0x1634ae['spacing'][_0x1b670d['axis']];return _0x23aa47+_0x3aa5fd;}function _0x836eb0(_0x1ae7d0,_0x5d9689,_0x262c05){const _0x5e78b7=_0xc42018(_0x1ae7d0,_0x262c05['maxSize']),_0xf6d5cb=_0x56f528(_0x1ae7d0,_0x262c05['fittingPro'+'portion']),_0x30be8a=_0xab6d56(_0xf6d5cb,_0x5e78b7);let _0x4de660=ls[_0x262c05['axis']]-_0x5d9689;for(let _0x747ad2=-0xad0+-0x79*0x13+0x9*0x233;_0x747ad2<_0x1ae7d0['length'];++_0x747ad2){const _0x581a00=_0x5e78b7[_0x747ad2],_0x27e634=_0x499a5b(_0x581a00,_0x4de660,_0xf6d5cb,_0x30be8a),_0x4a66b1=_0x1ae7d0[_0x581a00][_0x262c05['size']]+_0x27e634,_0x3d50c6=_0x1ae7d0[_0x581a00][_0x262c05['maxSize']],_0x46af9a=Math['min'](_0x4a66b1,_0x3d50c6);_0x1ae7d0[_0x581a00][_0x262c05['size']]=_0x46af9a;const _0x5b6331=Math['max'](_0x4a66b1-_0x46af9a,0x584*0x1+0x7*0x26f+-0x168d*0x1),_0x3bc156=_0x27e634-_0x5b6331;_0x4de660-=_0x3bc156;}}function _0x3930b3(_0x351fe8,_0x3e2721,_0x15d04b){const _0xfb6583=_0xc42018(_0x351fe8,_0x15d04b['minSize'],!(0x109d*-0x2+-0x223*-0x1+0x1*0x1f17)),_0x58177f=_0x56f528(_0x351fe8,_0x15d04b['fittingPro'+'portion']),_0x1d3686=_0x5a4aea(_0x58177f),_0x2d1ad8=_0xab6d56(_0x1d3686,_0xfb6583);let _0x5d5468=_0x3e2721-ls[_0x15d04b['axis']];for(let _0x2794bd=-0xc36+-0x1ae+-0x1c*-0x7f;_0x2794bd<_0x351fe8['length'];++_0x2794bd){const _0x182528=_0xfb6583[_0x2794bd],_0xe493c6=_0x499a5b(_0x182528,_0x5d5468,_0x1d3686,_0x2d1ad8),_0x1375b2=_0x351fe8[_0x182528][_0x15d04b['size']]-_0xe493c6,_0x314e3e=_0x351fe8[_0x182528][_0x15d04b['minSize']],_0x4f2c8b=Math['max'](_0x1375b2,_0x314e3e);_0x351fe8[_0x182528][_0x15d04b['size']]=_0x4f2c8b;const _0x2ee93d=Math['max'](_0x4f2c8b-_0x1375b2,0x1397+-0x26d*0x1+-0x112a),_0x1784a6=_0xe493c6-_0x2ee93d;_0x5d5468-=_0x1784a6;}}function _0x499a5b(_0x457bd3,_0x27f340,_0x3b1fce,_0x2c1b99){const _0x3bc6c1=_0x3b1fce[_0x457bd3],_0x4080b3=_0x2c1b99[_0x457bd3];return Math['abs'](_0x3bc6c1)<-0x5ca+-0x25c8+-0x6*-0x743+0.00001&&Math['abs'](_0x4080b3)<0x47*0x3d+-0x44*0xe+-0x6d*0x1f+0.00001?_0x27f340:_0x27f340*_0x3bc6c1/_0x4080b3;}function _0xf5b436(_0x444452,_0x12fc76){const _0x16ebf2={};_0x16ebf2[_0x178739['axis']]=0x2eb+0xbc7*-0x1+0x8dc,_0x16ebf2[_0x7f0e73['axis']]=-0x204e+-0x15*-0x41+0x1af9,_0x444452[_0x178739['size']]=Number['NEGATIVE_I'+'NFINITY'];const _0x320ec2=[];for(let _0x163d92=-0x5c4+-0x16eb+0x1caf;_0x163d92<_0x444452['length'];++_0x163d92){const _0x1e33c7=_0x444452[_0x163d92];if(_0x1e33c7['length']===-0xbe1+0x1*0x373+-0xa6*-0xd){_0x320ec2['push']([]);continue;}const _0x5ef7ab=[],_0x5629c6=_0x12fc76[_0x163d92];for(let _0x57ce89=0x4eb*0x7+-0x424*0x2+-0x1a25;_0x57ce89<_0x1e33c7['length'];++_0x57ce89){const _0x453b8a=_0x1e33c7[_0x57ce89],_0x5938d3=_0x5629c6[_0x57ce89];_0x16ebf2[_0x7f0e73['axis']]-=_0x19086a(_0x453b8a,_0x5938d3),_0x16ebf2[_0x178739['axis']]-=_0x34f9ca(_0x453b8a,_0x5938d3),_0x5ef7ab[_0x57ce89]={},_0x5ef7ab[_0x57ce89][_0x178739['axis']]=_0x16ebf2[_0x178739['axis']],_0x5ef7ab[_0x57ce89][_0x7f0e73['axis']]=_0x16ebf2[_0x7f0e73['axis']],_0x16ebf2[_0x7f0e73['axis']]+=_0x19086a(_0x453b8a,_0x5938d3),_0x16ebf2[_0x178739['axis']]+=_0x32f54(_0x453b8a,_0x5938d3)+_0x1634ae['spacing'][_0x178739['axis']];}_0x1e33c7[_0x178739['size']]=_0x16ebf2[_0x178739['axis']]-_0x1634ae['spacing'][_0x178739['axis']],_0x1e33c7[_0x7f0e73['size']]=_0x1e33c7['largestSiz'+'e'][_0x7f0e73['size']],_0x444452[_0x178739['size']]=Math['max'](_0x444452[_0x178739['size']],_0x1e33c7[_0x178739['size']]),_0x16ebf2[_0x178739['axis']]=0x1145*-0x2+0x149+-0x1*-0x2141,_0x16ebf2[_0x7f0e73['axis']]+=_0x1e33c7[_0x7f0e73['size']]+_0x1634ae['spacing'][_0x7f0e73['axis']],_0x320ec2['push'](_0x5ef7ab);}return _0x444452[_0x7f0e73['size']]=_0x16ebf2[_0x7f0e73['axis']]-_0x1634ae['spacing'][_0x7f0e73['axis']],_0x320ec2;}function _0x21094c(_0x1c0637,_0x4001c3,_0x518dd0){const _0x1df004=_0x1634ae['alignment'][_0x178739['axis']],_0x438f23=_0x1634ae['alignment'][_0x7f0e73['axis']],_0x5951a3=_0x1634ae['padding'][_0x178739['axis']],_0x1a7905=_0x1634ae['padding'][_0x7f0e73['axis']];for(let _0x3bcb2c=-0x22d0+-0x313*0x1+0x25e3;_0x3bcb2c<_0x1c0637['length'];++_0x3bcb2c){const _0x16a240=_0x1c0637[_0x3bcb2c],_0x35ff5b=_0x4001c3[_0x3bcb2c],_0x5c5c8d=_0x518dd0[_0x3bcb2c],_0x5c5c41=(ls[_0x178739['axis']]-_0x16a240[_0x178739['size']])*_0x1df004+_0x5951a3,_0x1f40c7=(ls[_0x7f0e73['axis']]-_0x1c0637[_0x7f0e73['size']])*_0x438f23+_0x1a7905;for(let _0x5e84bb=0x36a+-0x3*-0x36+-0x40c;_0x5e84bb<_0x16a240['length'];++_0x5e84bb){const _0x33e59c=(_0x16a240[_0x7f0e73['size']]-_0x35ff5b[_0x5e84bb][_0x7f0e73['size']])*_0x1634ae['alignment'][_0x7f0e73['axis']];_0x5c5c8d[_0x5e84bb][_0x178739['axis']]+=_0x5c5c41,_0x5c5c8d[_0x5e84bb][_0x7f0e73['axis']]+=_0x1f40c7+_0x33e59c;}}}function _0x13505b(_0xdabde1,_0x25e042,_0x587fa4){for(let _0x5dcbdd=-0x9fb+-0x2335*0x1+0x2d30;_0x5dcbdd<_0xdabde1['length'];++_0x5dcbdd){const _0x2f6df8=_0xdabde1[_0x5dcbdd],_0x35193b=_0x25e042[_0x5dcbdd],_0x15ed56=_0x587fa4[_0x5dcbdd];for(let _0x1914d2=-0x45*0x7f+0xb69+0x16d2;_0x1914d2<_0x2f6df8['length'];++_0x1914d2){const _0x385165=_0x2f6df8[_0x1914d2];_0x385165[_0x178739['calculated'+'Size']]=_0x35193b[_0x1914d2][_0x178739['size']],_0x385165[_0x7f0e73['calculated'+'Size']]=_0x35193b[_0x1914d2][_0x7f0e73['size']],_0x1634ae['orientatio'+'n']===Ce?_0x385165['entity']['setLocalPo'+'sition'](_0x15ed56[_0x1914d2][_0x178739['axis']],_0x15ed56[_0x1914d2][_0x7f0e73['axis']],_0x385165['entity']['getLocalPo'+'sition']()['z']):_0x385165['entity']['setLocalPo'+'sition'](_0x15ed56[_0x1914d2][_0x7f0e73['axis']],_0x15ed56[_0x1914d2][_0x178739['axis']],_0x385165['entity']['getLocalPo'+'sition']()['z']);}}}function _0x4f9546(_0x38d5cd){const _0x20aeb5=_0x38d5cd['width'],_0x41aa04=_0x38d5cd['height'],_0x16a685=(ls['x']-_0x20aeb5)*_0x1634ae['alignment']['x']+_0x1634ae['padding']['x'],_0x2fef0c=(ls['y']-_0x41aa04)*_0x1634ae['alignment']['y']+_0x1634ae['padding']['y'];return{'bounds':new re(_0x16a685,_0x2fef0c,_0x20aeb5,_0x41aa04)};}function _0x32a88a(_0x57161b){const _0x4c9377=[];for(let _0x4d401a=0x14c+-0xefa+-0x11*-0xce;_0x4d401a<_0x57161b['length'];++_0x4d401a){const _0x4e0ebb=_0x57161b[_0x4d401a],_0x578523=Math['max'](_0x1a58a1(_0x4e0ebb,'minWidth'),0x18d*0x5+0x2121+-0x28e2),_0x3a380a=Math['max'](_0x1a58a1(_0x4e0ebb,'minHeight'),-0x429+0x1e25*0x1+-0xcfe*0x2),_0x178896=Math['max'](_0x1a58a1(_0x4e0ebb,'maxWidth'),_0x578523),_0x5921d9=Math['max'](_0x1a58a1(_0x4e0ebb,'maxHeight'),_0x3a380a),_0x498728=_0x492d44(_0x1a58a1(_0x4e0ebb,'width'),_0x578523,_0x178896),_0x50b54b=_0x492d44(_0x1a58a1(_0x4e0ebb,'height'),_0x3a380a,_0x5921d9),_0x38d3bc=_0x1a58a1(_0x4e0ebb,'fitWidthPr'+'oportion'),_0x1c6d99=_0x1a58a1(_0x4e0ebb,'fitHeightP'+'roportion');_0x4c9377['push']({'minWidth':_0x578523,'minHeight':_0x3a380a,'maxWidth':_0x178896,'maxHeight':_0x5921d9,'width':_0x498728,'height':_0x50b54b,'fitWidthProportion':_0x38d3bc,'fitHeightProportion':_0x1c6d99});}return _0x4c9377;}function _0x1a58a1(_0x37f6c3,_0x568548){const _0x47b616=_0x37f6c3['entity']['layoutchil'+'d'];return _0x47b616&&_0x47b616['enabled']&&_0x47b616[_0x568548]!==void(0x70+0xd4e+-0xdbe)&&_0x47b616[_0x568548]!==null?_0x47b616[_0x568548]:_0x37f6c3[_0x568548]!==void(-0x11e7*0x1+-0x2640+0x3827)?_0x37f6c3[_0x568548]:VR[_0x568548];}function _0x492d44(_0x35cf9e,_0x2655c9,_0x404af5){return Math['min'](Math['max'](_0x35cf9e,_0x2655c9),_0x404af5);}function _0x60e395(_0x1a4ce8,_0x5626ee){return _0x1a4ce8['reduce']((_0x36bc50,_0x12a1ec)=>_0x36bc50+_0x12a1ec[_0x5626ee],-0x7*-0x377+-0x1a4b*0x1+-0x20a*-0x1);}function _0x56f528(_0x3064b3,_0x1a3350){const _0x4f486c=_0x60e395(_0x3064b3,_0x1a3350),_0x59b137=[],_0x57542e=_0x3064b3['length'];if(_0x4f486c===0x1*-0x239b+-0x1*0x1c6+0x557*0x7){for(let _0x3e86f1=0xebd*-0x2+-0x1*-0xbe4+0x1196;_0x3e86f1<_0x57542e;++_0x3e86f1)_0x59b137['push']((0x1860+-0x78b*-0x1+0x2*-0xff5)/_0x57542e);}else{for(let _0x9b7283=0x1*0x16cc+0x414*-0x5+-0x268;_0x9b7283<_0x57542e;++_0x9b7283)_0x59b137['push'](_0x3064b3[_0x9b7283][_0x1a3350]/_0x4f486c);}return _0x59b137;}function _0x5a4aea(_0x778981){if(_0x778981['length']===0x1357+0x1*-0x25e1+0x128b)return[0x2622+0xbfb*-0x1+-0x1*0x1a26];const _0x5da2c5=[],_0x4894f3=_0x778981['length'];for(let _0x50312f=0xbbc*0x1+-0x1*0x195c+0xda*0x10;_0x50312f<_0x4894f3;++_0x50312f)_0x5da2c5['push']((-0x4af+0x44f+-0x1*-0x61-_0x778981[_0x50312f])/(_0x4894f3-(0x1*-0x151c+-0x2359+0x12*0x323)));return _0x5da2c5;}function _0xc42018(_0x449ded,_0x415a3b,_0x302413){return _0x449ded['forEach'](_0x289940),_0x449ded['slice']()['sort']((_0x2cd9c3,_0x782602)=>_0x302413?_0x782602[_0x415a3b]-_0x2cd9c3[_0x415a3b]:_0x2cd9c3[_0x415a3b]-_0x782602[_0x415a3b])['map'](_0x1cac7f);}function _0x289940(_0x330889,_0xcdb3b2){_0x330889['index']=_0xcdb3b2;}function _0x1cac7f(_0x81e22e){return _0x81e22e['index'];}function _0xab6d56(_0x47e712,_0x4c8924){const _0x29ef12=[];_0x29ef12[_0x4c8924[_0x47e712['length']-(0x19fc+-0x2*-0x1+0x19fd*-0x1)]]=_0x47e712[_0x4c8924[_0x47e712['length']-(-0xb*0x68+-0x1*0x1495+0x190e)]];for(let _0x4961eb=_0x47e712['length']-(-0x844*-0x2+-0x1*0xd91+-0x2f5);_0x4961eb>=-0x91+-0x1544+-0x9*-0x26d;--_0x4961eb)_0x29ef12[_0x4c8924[_0x4961eb]]=_0x29ef12[_0x4c8924[_0x4961eb+(-0x204e+-0x5*0x20f+0x2a9a)]]+_0x47e712[_0x4c8924[_0x4961eb]];return _0x29ef12;}return _0xf04a86;}const xm={};xm[Ce]=t0(Ce),xm[je]=t0(je);class GR{['calculateL'+'ayout'](_0x5a7e82,_0x9781d5){const _0x590d2e=xm[_0x9781d5['orientatio'+'n']];if(_0x590d2e)return _0x590d2e(_0x5a7e82,_0x9781d5);throw new Error('Unrecogniz'+'ed\x20orienta'+'tion\x20value'+':\x20'+_0x9781d5['orientatio'+'n']);}}function Jg(_0x4c98d0){return _0x4c98d0['element'];}function HR(_0x101990){return _0x101990['enabled']&&_0x101990['element']&&_0x101990['element']['enabled'];}class s0 extends we{constructor(_0x2f4888,_0x2be73d){super(_0x2f4888,_0x2be73d),h(this,'_orientati'+'on',Ce),h(this,'_reverseX',!(0x124e+0x1ae1+-0x1697*0x2)),h(this,'_reverseY',!(-0x763*0x3+0x95f+0xcca)),h(this,'_alignment',new J(-0x1c53*0x1+-0x1024+0x2c77,0x1*0xdd8+-0x15c7*-0x1+-0x5e*0x61)),h(this,'_padding',new re()),h(this,'_spacing',new J()),h(this,'_widthFitt'+'ing',Nu),h(this,'_heightFit'+'ting',Nu),h(this,'_wrap',!(0x8c1+-0x1*-0x4d5+-0xd95)),h(this,'_layoutCal'+'culator',new GR()),(this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'on'),this['entity']['children']['forEach'](_0x4aa01e=>{this['_listenFor'+'ReflowEven'+'ts'](_0x4aa01e,'on');}),this['entity']['on']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['on']('childremov'+'e',this['_onChildRe'+'move'],this),w['assert'](_0x2f4888['app']['systems']['element'],'System\x20\x27el'+'ement\x27\x20doe'+'sn\x27t\x20exist'),_0x2f4888['app']['systems']['element']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x2f4888['app']['systems']['element']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),w['assert'](_0x2f4888['app']['systems']['layoutchil'+'d'],'System\x20\x27la'+'youtchild\x27'+'\x20doesn\x27t\x20e'+'xist'),_0x2f4888['app']['systems']['layoutchil'+'d']['on']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),_0x2f4888['app']['systems']['layoutchil'+'d']['on']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this));}set['orientatio'+'n'](_0x1a644a){_0x1a644a!==this['_orientati'+'on']&&(this['_orientati'+'on']=_0x1a644a,this['_scheduleR'+'eflow']());}get['orientatio'+'n'](){return this['_orientati'+'on'];}set['reverseX'](_0x5f5b2a){_0x5f5b2a!==this['_reverseX']&&(this['_reverseX']=_0x5f5b2a,this['_scheduleR'+'eflow']());}get['reverseX'](){return this['_reverseX'];}set['reverseY'](_0x46277d){_0x46277d!==this['_reverseY']&&(this['_reverseY']=_0x46277d,this['_scheduleR'+'eflow']());}get['reverseY'](){return this['_reverseY'];}set['alignment'](_0x525f33){_0x525f33['equals'](this['_alignment'])||(this['_alignment']['copy'](_0x525f33),this['_scheduleR'+'eflow']());}get['alignment'](){return this['_alignment'];}set['padding'](_0x137a32){_0x137a32['equals'](this['_padding'])||(this['_padding']['copy'](_0x137a32),this['_scheduleR'+'eflow']());}get['padding'](){return this['_padding'];}set['spacing'](_0x5247d0){_0x5247d0['equals'](this['_spacing'])||(this['_spacing']['copy'](_0x5247d0),this['_scheduleR'+'eflow']());}get['spacing'](){return this['_spacing'];}set['widthFitti'+'ng'](_0xac3c08){_0xac3c08!==this['_widthFitt'+'ing']&&(this['_widthFitt'+'ing']=_0xac3c08,this['_scheduleR'+'eflow']());}get['widthFitti'+'ng'](){return this['_widthFitt'+'ing'];}set['heightFitt'+'ing'](_0x98b1a2){_0x98b1a2!==this['_heightFit'+'ting']&&(this['_heightFit'+'ting']=_0x98b1a2,this['_scheduleR'+'eflow']());}get['heightFitt'+'ing'](){return this['_heightFit'+'ting'];}set['wrap'](_0x32da01){_0x32da01!==this['_wrap']&&(this['_wrap']=_0x32da01,this['_scheduleR'+'eflow']());}get['wrap'](){return this['_wrap'];}['_isSelfOrC'+'hild'](_0x5c4e12){return _0x5c4e12===this['entity']||this['entity']['children']['indexOf'](_0x5c4e12)!==-(-0x125*-0x1+0x1*-0x13d7+0x12b3);}['_listenFor'+'ReflowEven'+'ts'](_0x118362,_0x1cd23b){_0x118362['element']&&(_0x118362['element'][_0x1cd23b]('enableelem'+'ent',this['_scheduleR'+'eflow'],this),_0x118362['element'][_0x1cd23b]('disableele'+'ment',this['_scheduleR'+'eflow'],this),_0x118362['element'][_0x1cd23b]('resize',this['_scheduleR'+'eflow'],this),_0x118362['element'][_0x1cd23b]('set:pivot',this['_scheduleR'+'eflow'],this)),_0x118362['layoutchil'+'d']&&(_0x118362['layoutchil'+'d'][_0x1cd23b]('set_enable'+'d',this['_scheduleR'+'eflow'],this),_0x118362['layoutchil'+'d'][_0x1cd23b]('resize',this['_scheduleR'+'eflow'],this));}['_onElement'+'OrLayoutCo'+'mponentAdd'](_0x1dc42a){this['_isSelfOrC'+'hild'](_0x1dc42a)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x1dc42a,'on'),this['_scheduleR'+'eflow']());}['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'](_0x3407bc){this['_isSelfOrC'+'hild'](_0x3407bc)&&(this['_listenFor'+'ReflowEven'+'ts'](_0x3407bc,'off'),this['_scheduleR'+'eflow']());}['_onChildIn'+'sert'](_0x53d354){this['_listenFor'+'ReflowEven'+'ts'](_0x53d354,'on'),this['_scheduleR'+'eflow']();}['_onChildRe'+'move'](_0x5339e9){this['_listenFor'+'ReflowEven'+'ts'](_0x5339e9,'off'),this['_scheduleR'+'eflow']();}['_scheduleR'+'eflow'](){this['enabled']&&this['entity']&&this['entity']['enabled']&&!this['_isPerform'+'ingReflow']&&this['system']['scheduleRe'+'flow'](this);}['reflow'](){const _0xde34ff=Jg(this['entity']),_0x13bec7=this['entity']['children']['filter'](HR)['map'](Jg);if(!_0xde34ff||_0x13bec7['length']===-0x5*-0x43f+-0x605+-0xf36)return;const _0x43a809=Math['max'](_0xde34ff['calculated'+'Width'],-0x2bc*0x1+0x1*-0xf25+0x11e1),_0x21dab9=Math['max'](_0xde34ff['calculated'+'Height'],0x2*-0xac1+0x1*0x1e3d+-0x8bb),_0x29da4d={'orientation':this['_orientati'+'on'],'reverseX':this['_reverseX'],'reverseY':this['_reverseY'],'alignment':this['_alignment'],'padding':this['_padding'],'spacing':this['_spacing'],'widthFitting':this['_widthFitt'+'ing'],'heightFitting':this['_heightFit'+'ting'],'wrap':this['_wrap'],'containerSize':new J(_0x43a809,_0x21dab9)};this['_isPerform'+'ingReflow']=!(0x84e+-0xd65+0x517);const _0x4ae24e=this['_layoutCal'+'culator']['calculateL'+'ayout'](_0x13bec7,_0x29da4d);this['_isPerform'+'ingReflow']=!(0x1644+0x1*-0xed2+-0x771),this['fire']('reflow',_0x4ae24e);}['onEnable'](){this['_scheduleR'+'eflow']();}['onRemove'](){this['entity']['off']('childinser'+'t',this['_onChildIn'+'sert'],this),this['entity']['off']('childremov'+'e',this['_onChildRe'+'move'],this),this['_listenFor'+'ReflowEven'+'ts'](this['entity'],'off'),this['entity']['children']['forEach'](_0x24ea21=>{this['_listenFor'+'ReflowEven'+'ts'](_0x24ea21,'off');}),this['system']['app']['systems']['element']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['element']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('add',this['_onElement'+'OrLayoutCo'+'mponentAdd'],this),this['system']['app']['systems']['layoutchil'+'d']['off']('beforeremo'+'ve',this['_onElement'+'OrLayoutCo'+'mponentRem'+'ove'],this);}}class WR{constructor(){this['enabled']=!(-0x26ab+-0x1*-0x9aa+0x5cd*0x5);}}const i0=['enabled'],$R=-0x29f*0x4+-0xbe6*0x2+0x22ac;class XR extends ct{constructor(_0x54343c){super(_0x54343c),this['id']='layoutgrou'+'p',this['ComponentT'+'ype']=s0,this['DataType']=WR,this['schema']=i0,this['_reflowQue'+'ue']=[],this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x122ba9,_0x398aad,_0x32d86d){_0x398aad['enabled']!==void(0x3f5+-0x1f9c+0x1ba7)&&(_0x122ba9['enabled']=_0x398aad['enabled']),_0x398aad['orientatio'+'n']!==void(-0x10f4+0x2099+0x1bd*-0x9)&&(_0x122ba9['orientatio'+'n']=_0x398aad['orientatio'+'n']),_0x398aad['reverseX']!==void(0x1a72*-0x1+0x2*0x643+0xdec)&&(_0x122ba9['reverseX']=_0x398aad['reverseX']),_0x398aad['reverseY']!==void(0x173f+0x2072+-0x37b1)&&(_0x122ba9['reverseY']=_0x398aad['reverseY']),_0x398aad['alignment']!==void(0x1d7e+-0x5db*-0x3+-0x2f0f*0x1)&&(_0x122ba9['alignment']=Array['isArray'](_0x398aad['alignment'])?new J(_0x398aad['alignment']):_0x398aad['alignment']),_0x398aad['padding']!==void(0x406*0x5+0x17fe*-0x1+-0x1f*-0x20)&&(_0x122ba9['padding']=Array['isArray'](_0x398aad['padding'])?new re(_0x398aad['padding']):_0x398aad['padding']),_0x398aad['spacing']!==void(-0x52*-0x23+-0x1557+-0xa21*-0x1)&&(_0x122ba9['spacing']=Array['isArray'](_0x398aad['spacing'])?new J(_0x398aad['spacing']):_0x398aad['spacing']),_0x398aad['widthFitti'+'ng']!==void(-0x268*-0x4+-0x17e8+0xe48)&&(_0x122ba9['widthFitti'+'ng']=_0x398aad['widthFitti'+'ng']),_0x398aad['heightFitt'+'ing']!==void(0x1ad8+0x1*0xc07+-0x141*0x1f)&&(_0x122ba9['heightFitt'+'ing']=_0x398aad['heightFitt'+'ing']),_0x398aad['wrap']!==void(-0x423+-0x110e+-0x1531*-0x1)&&(_0x122ba9['wrap']=_0x398aad['wrap']),super['initialize'+'ComponentD'+'ata'](_0x122ba9,_0x398aad,_0x32d86d);}['cloneCompo'+'nent'](_0x333f1d,_0x1bd32b){const _0xdb97ad=_0x333f1d['layoutgrou'+'p'];return this['addCompone'+'nt'](_0x1bd32b,{'enabled':_0xdb97ad['enabled'],'orientation':_0xdb97ad['orientatio'+'n'],'reverseX':_0xdb97ad['reverseX'],'reverseY':_0xdb97ad['reverseY'],'alignment':_0xdb97ad['alignment'],'padding':_0xdb97ad['padding'],'spacing':_0xdb97ad['spacing'],'widthFitting':_0xdb97ad['widthFitti'+'ng'],'heightFitting':_0xdb97ad['heightFitt'+'ing'],'wrap':_0xdb97ad['wrap']});}['scheduleRe'+'flow'](_0x1a1aed){this['_reflowQue'+'ue']['indexOf'](_0x1a1aed)===-(0x1*-0x111e+0x999+0x786)&&this['_reflowQue'+'ue']['push'](_0x1a1aed);}['_onPostUpd'+'ate'](){this['_processRe'+'flowQueue']();}['_processRe'+'flowQueue'](){if(this['_reflowQue'+'ue']['length']===0xfa+0x1*-0x2401+0x501*0x7)return;let _0x113179=0xb2c*0x1+-0x1ef5+0x13c9;for(;this['_reflowQue'+'ue']['length']>0x8*-0x28f+-0x166d+-0x4f*-0x8b;){const _0x13f0fc=this['_reflowQue'+'ue']['slice']();this['_reflowQue'+'ue']['length']=0x11ff+0xf36+-0x1*0x2135,_0x13f0fc['sort']((_0x4ca5e0,_0x1068a5)=>_0x4ca5e0['entity']['graphDepth']-_0x1068a5['entity']['graphDepth']);for(let _0xf0056f=-0xe72+0x3*-0x8cf+0x1*0x28df;_0xf0056f<_0x13f0fc['length'];++_0xf0056f)_0x13f0fc[_0xf0056f]['reflow']();if(++_0x113179>=$R){console['warn']('Max\x20reflow'+'\x20iteration'+'s\x20limit\x20re'+'ached,\x20bai'+'ling.');break;}}}['_onRemoveC'+'omponent'](_0x5f5598,_0x3d0521){_0x3d0521['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}we['_buildAcce'+'ssors'](s0['prototype'],i0);class qR{constructor(){h(this,'map',new Map());}['destroy'](_0x1afdd9){this['map']['forEach'](_0x2c6487=>_0x2c6487['mesh']['destroy']());}}const jR=new Kt(),r0=(_0x3428b1,_0x45d3b5)=>{const _0x6fbbd8=jR['get'](_0x3428b1,()=>new qR());let _0x5e2f33=_0x6fbbd8['map']['get'](_0x45d3b5);if(!_0x5e2f33){let _0x3f974f,_0x303072;switch(_0x45d3b5){case'box':_0x3f974f=Ge['fromGeomet'+'ry'](_0x3428b1,new mu()),_0x303072={'x':0x2,'y':0x2,'z':0x2,'uv':(0x7c*-0x21+0x3*-0x2fb+0x18ef)/(0x1af*0x4+-0x23ca+0x1d11)};break;case'capsule':_0x3f974f=Ge['fromGeomet'+'ry'](_0x3428b1,new GA({'radius':0.5,'height':0x2})),_0x303072={'x':Math['PI']*(-0x44+0x250d+-0x24c7),'y':Math['PI'],'z':Math['PI']*(-0xa0b+0x15c*0x12+-0xe6b),'uv':(0x1c24*0x1+-0x10b*0x2+-0x1a0d)/(0x9fe+0x23d2+-0x2dcd)+(-0x1004+0x9*0x35f+-0xe52)/(0x34*-0x86+-0x23e0+0x3f1b)/(0x1664*0x1+0x5*0x5e3+-0x33d0)*(0x48b*-0x4+0x1*-0x8ed+0x1b1b)};break;case'cone':_0x3f974f=Ge['fromGeomet'+'ry'](_0x3428b1,new HA({'baseRadius':0.5,'peakRadius':0x0,'height':0x1})),_0x303072={'x':2.54,'y':2.54,'z':2.54,'uv':(0xf7a+-0x29*-0x43+0x45e*-0x6)/(-0x1560+0x1*0x254d+0xfea*-0x1)+(0x1eda+-0x312*0x4+-0x1291)/(0x1d19+-0x6*-0x91+-0x207c)/(0x2e9+0x101*-0xe+-0x88*-0x15)};break;case'cylinder':_0x3f974f=Ge['fromGeomet'+'ry'](_0x3428b1,new WA({'radius':0.5,'height':0x1})),_0x303072={'x':Math['PI'],'y':(0x6b*0x5b+-0x784*-0x3+0x1*-0x3c95+0.79)*(0x2c*-0x3d+0x1a8f+0x1011*-0x1),'z':Math['PI'],'uv':(0x4*0x224+-0x1ae1+0x1252)/(-0xcca+0x72*0x42+-0x1f*0x89)+(0x9bb*-0x1+0x2*-0x641+0x163e)/(-0x48d*-0x5+-0x546+-0x1178)/(0xa7a+0xea5+-0x191c)*(0x107+0x1356+-0x145b)};break;case'plane':_0x3f974f=Ge['fromGeomet'+'ry'](_0x3428b1,new $A({'halfExtents':new J(-0x8*-0x427+0x596+-0x26ce+0.5,0x817+-0x2*0x67f+-0xfb*-0x5+0.5),'widthSegments':0x1,'lengthSegments':0x1})),_0x303072={'x':0x0,'y':0x1,'z':0x0,'uv':0x1};break;case'sphere':_0x3f974f=Ge['fromGeomet'+'ry'](_0x3428b1,new _m({'radius':0.5})),_0x303072={'x':Math['PI'],'y':Math['PI'],'z':Math['PI'],'uv':0x1};break;case'torus':_0x3f974f=Ge['fromGeomet'+'ry'](_0x3428b1,new XA({'tubeRadius':0.2,'ringRadius':0.3})),_0x303072={'x':Math['PI']*(0x235b+0x12a5+0xc0*-0x48+0.5)*(-0x22b7+0x22*0x97+-0x3*-0x4e3+0.5)-Math['PI']*(-0xefb+0x911+0x2f5*0x2+0.1)*(0x47a+-0x5c0*-0x4+0x1b7a*-0x1+0.1),'y':0.4,'z':0.4,'uv':0x1};break;default:throw new Error('Invalid\x20pr'+'imitive\x20ty'+'pe:\x20'+_0x45d3b5);}_0x3f974f['incRefCoun'+'t'](),_0x5e2f33={'mesh':_0x3f974f,'area':_0x303072},_0x6fbbd8['map']['set'](_0x45d3b5,_0x5e2f33);}return _0x5e2f33;};class Tm extends we{constructor(_0x29ce99,_0x22abc0){super(_0x29ce99,_0x22abc0),h(this,'_type','asset'),h(this,'_asset',null),h(this,'_model',null),h(this,'_mapping',{}),h(this,'_castShado'+'ws',!(0x19d+0x1439*-0x1+0x129c)),h(this,'_receiveSh'+'adows',!(0xaa5*-0x1+0x1*-0x6b2+0x17*0xc1)),h(this,'_materialA'+'sset',null),h(this,'_material'),h(this,'_castShado'+'wsLightmap',!(0x10d*-0x1+-0x1*-0x2533+-0x1*0x2426)),h(this,'_lightmapp'+'ed',!(0x22ef+-0xb4b*0x1+-0x17a3)),h(this,'_lightmapS'+'izeMultipl'+'ier',-0x5ea*0x5+-0x7f*0x1+-0x1e12*-0x1),h(this,'isStatic',!(0x2203+-0x9a+-0x42d*0x8)),h(this,'_layers',[er]),h(this,'_batchGrou'+'pId',-(0x26ce+0x5*-0x2af+-0x1962)),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_materialE'+'vents',null),h(this,'_clonedMod'+'el',!(0x13a7+0xf5b+-0x1d*0x135)),h(this,'_batchGrou'+'p',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_material']=_0x29ce99['defaultMat'+'erial'],_0x22abc0['on']('remove',this['onRemoveCh'+'ild'],this),_0x22abc0['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x22abc0['on']('insert',this['onInsertCh'+'ild'],this),_0x22abc0['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['meshInstan'+'ces'](_0x527667){this['_model']&&(this['_model']['meshInstan'+'ces']=_0x527667);}get['meshInstan'+'ces'](){return this['_model']?this['_model']['meshInstan'+'ces']:null;}set['customAabb'](_0x17f05f){if(this['_customAab'+'b']=_0x17f05f,this['_model']){const _0x54e6c6=this['_model']['meshInstan'+'ces'];if(_0x54e6c6){for(let _0x186ba8=0x139f*0x1+-0x4e0+0xebf*-0x1;_0x186ba8<_0x54e6c6['length'];_0x186ba8++)_0x54e6c6[_0x186ba8]['setCustomA'+'abb'](this['_customAab'+'b']);}}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x3dffe8){if(this['_type']!==_0x3dffe8){if(this['_area']=null,this['_type']=_0x3dffe8,_0x3dffe8==='asset')this['_asset']!==null?this['_bindModel'+'Asset'](this['_asset']):this['model']=null;else{const _0x31260f=r0(this['system']['app']['graphicsDe'+'vice'],_0x3dffe8);this['_area']=_0x31260f['area'];const _0x2b5459=_0x31260f['mesh'],_0x25268c=new Ie(),_0x522076=new sr();_0x522076['graph']=_0x25268c,_0x522076['meshInstan'+'ces']=[new He(_0x2b5459,this['_material'],_0x25268c)],this['model']=_0x522076,this['_asset']=null;}}}get['type'](){return this['_type'];}set['asset'](_0x4d4648){const _0x25b9b2=this['system']['app']['assets'];let _0x46d574=_0x4d4648;if(_0x4d4648 instanceof pe&&(_0x46d574=_0x4d4648['id']),this['_asset']!==_0x46d574){if(this['_asset']){_0x25b9b2['off']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this);const _0x5cd953=_0x25b9b2['get'](this['_asset']);_0x5cd953&&this['_unbindMod'+'elAsset'](_0x5cd953);}if(this['_asset']=_0x46d574,this['_asset']){const _0x4c50a7=_0x25b9b2['get'](this['_asset']);_0x4c50a7?this['_bindModel'+'Asset'](_0x4c50a7):(this['model']=null,_0x25b9b2['on']('add:'+this['_asset'],this['_onModelAs'+'setAdded'],this));}else this['model']=null;}}get['asset'](){return this['_asset'];}set['model'](_0x524247){if(this['_model']!==_0x524247){if(_0x524247&&_0x524247['_immutable']){w['error']('Invalid\x20at'+'tempt\x20to\x20a'+'ssign\x20a\x20mo'+'del\x20to\x20mul'+'tiple\x20Mode'+'lComponent'+'s');return;}if(this['_model']&&(this['_model']['_immutable']=!(0x80f+0x1*-0x25eb+0x1ddd),this['removeMode'+'lFromLayer'+'s'](),this['_model']['getGraph']()['destroy'](),delete this['_model']['_entity'],this['_clonedMod'+'el']&&(this['_model']['destroy'](),this['_clonedMod'+'el']=!(0x1314+-0x3*-0x6a3+-0x9bf*0x4))),this['_model']=_0x524247,this['_model']){this['_model']['_immutable']=!(0x1*-0x18d9+-0x75*-0x9+0x14bc);const _0x4d7fae=this['_model']['meshInstan'+'ces'];for(let _0xe34f35=-0x3*-0xbf7+0x35*-0x21+-0x1d10;_0xe34f35<_0x4d7fae['length'];_0xe34f35++)_0x4d7fae[_0xe34f35]['castShadow']=this['_castShado'+'ws'],_0x4d7fae[_0xe34f35]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x4d7fae[_0xe34f35]['setCustomA'+'abb'](this['_customAab'+'b']);this['lightmappe'+'d']=this['_lightmapp'+'ed'],this['entity']['addChild'](this['_model']['graph']),this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_model']['_entity']=this['entity'],this['entity']['animation']&&this['entity']['animation']['setModel'](this['_model']),this['entity']['anim']&&this['entity']['anim']['rebind'](),this['type']==='asset'?this['mapping']=this['_mapping']:this['_unsetMate'+'rialEvents']();}}}get['model'](){return this['_model'];}set['lightmappe'+'d'](_0x5ba5fe){if(_0x5ba5fe!==this['_lightmapp'+'ed']&&(this['_lightmapp'+'ed']=_0x5ba5fe,this['_model'])){const _0x2a40a0=this['_model']['meshInstan'+'ces'];for(let _0x44bd85=0x4a9+-0x3*0x70e+0x1081;_0x44bd85<_0x2a40a0['length'];_0x44bd85++)_0x2a40a0[_0x44bd85]['setLightma'+'pped'](_0x5ba5fe);}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x273b8a){if(this['_castShado'+'ws']===_0x273b8a)return;const _0x308c9b=this['_model'];if(_0x308c9b){const _0xbeb51=this['layers'],_0x794a64=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x273b8a)for(let _0xffdbf4=-0xb*0x313+0xbc7+-0x1*-0x160a;_0xffdbf4<_0xbeb51['length'];_0xffdbf4++){const _0x4826f9=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0xffdbf4]);_0x4826f9&&_0x4826f9['removeShad'+'owCasters'](_0x308c9b['meshInstan'+'ces']);}const _0x155383=_0x308c9b['meshInstan'+'ces'];for(let _0x4bd712=-0x1*-0x4ac+0xf03+-0x13af;_0x4bd712<_0x155383['length'];_0x4bd712++)_0x155383[_0x4bd712]['castShadow']=_0x273b8a;if(!this['_castShado'+'ws']&&_0x273b8a)for(let _0x34a3e4=0x1d2+0x878*-0x2+0xf1e;_0x34a3e4<_0xbeb51['length'];_0x34a3e4++){const _0xc6e22f=_0x794a64['layers']['getLayerBy'+'Id'](_0xbeb51[_0x34a3e4]);_0xc6e22f&&_0xc6e22f['addShadowC'+'asters'](_0x308c9b['meshInstan'+'ces']);}}this['_castShado'+'ws']=_0x273b8a;}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x1815fa){if(this['_receiveSh'+'adows']!==_0x1815fa&&(this['_receiveSh'+'adows']=_0x1815fa,this['_model'])){const _0x36b0e1=this['_model']['meshInstan'+'ces'];for(let _0x38a7e0=0xb35*-0x1+-0x1*-0x6ad+0x488,_0x245f3a=_0x36b0e1['length'];_0x38a7e0<_0x245f3a;_0x38a7e0++)_0x36b0e1[_0x38a7e0]['receiveSha'+'dow']=_0x1815fa;}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x520ba5){this['_castShado'+'wsLightmap']=_0x520ba5;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x3950b0){this['_lightmapS'+'izeMultipl'+'ier']=_0x3950b0;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x25abb7){const _0x5cbbc6=this['system']['app']['scene']['layers'];if(this['meshInstan'+'ces'])for(let _0x5bff03=0x35e*-0x1+-0x2*0x2b6+0x9*0xfa;_0x5bff03<this['_layers']['length'];_0x5bff03++){const _0x157bf2=_0x5cbbc6['getLayerBy'+'Id'](this['_layers'][_0x5bff03]);_0x157bf2&&_0x157bf2['removeMesh'+'Instances'](this['meshInstan'+'ces']);}this['_layers']['length']=0xa*-0x4d+-0x16f4+0x2*0xcfb;for(let _0x587737=0x1acb+-0x2*0x9fc+-0x6d3;_0x587737<_0x25abb7['length'];_0x587737++)this['_layers'][_0x587737]=_0x25abb7[_0x587737];if(!(!this['enabled']||!this['entity']['enabled']||!this['meshInstan'+'ces']))for(let _0x59a884=-0x53*0x56+0x8f9+0x12e9;_0x59a884<this['_layers']['length'];_0x59a884++){const _0x51ecea=_0x5cbbc6['getLayerBy'+'Id'](this['_layers'][_0x59a884]);_0x51ecea&&_0x51ecea['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x470166){var _0x5215ec,_0x5925e5;this['_batchGrou'+'pId']!==_0x470166&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=0x108e+0xfb*-0x6+-0xaac*0x1&&((_0x5215ec=this['system']['app']['batcher'])==null||_0x5215ec['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x470166>=-0x25*-0xc1+-0x23e3+0x7fe&&((_0x5925e5=this['system']['app']['batcher'])==null||_0x5925e5['insert'](St['MODEL'],_0x470166,this['entity'])),_0x470166<-0x57*0x44+0x1e6b+-0x74f*0x1&&this['_batchGrou'+'pId']>=-0x7*0x164+-0x180e+0x21ca&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers'](),this['_batchGrou'+'pId']=_0x470166);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['materialAs'+'set'](_0x45e40b){let _0x2ad9e4=_0x45e40b;_0x45e40b instanceof pe&&(_0x2ad9e4=_0x45e40b['id']);const _0x49ced9=this['system']['app']['assets'];if(_0x2ad9e4!==this['_materialA'+'sset']){if(this['_materialA'+'sset']){_0x49ced9['off']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this);const _0x12e7ea=_0x49ced9['get'](this['_materialA'+'sset']);_0x12e7ea&&this['_unbindMat'+'erialAsset'](_0x12e7ea);}if(this['_materialA'+'sset']=_0x2ad9e4,this['_materialA'+'sset']){const _0x38e2a0=_0x49ced9['get'](this['_materialA'+'sset']);_0x38e2a0?this['_bindMater'+'ialAsset'](_0x38e2a0):(this['_setMateri'+'al'](this['system']['defaultMat'+'erial']),_0x49ced9['on']('add:'+this['_materialA'+'sset'],this['_onMateria'+'lAssetAdd'],this));}else this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}}get['materialAs'+'set'](){return this['_materialA'+'sset'];}set['material'](_0x318f79){this['_material']!==_0x318f79&&(this['materialAs'+'set']=null,this['_setMateri'+'al'](_0x318f79));}get['material'](){return this['_material'];}set['mapping'](_0x375607){if(this['_type']!=='asset'||(this['_unsetMate'+'rialEvents'](),_0x375607||(_0x375607={}),this['_mapping']=_0x375607,!this['_model']))return;const _0x3f2a73=this['_model']['meshInstan'+'ces'],_0x40bfc1=this['asset']?this['system']['app']['assets']['get'](this['asset']):null,_0x4b8ffe=_0x40bfc1?_0x40bfc1['data']['mapping']:null;let _0x32af66=null;for(let _0x5e6615=-0xfac+0x1*0x26a4+-0x16f8,_0x2ee818=_0x3f2a73['length'];_0x5e6615<_0x2ee818;_0x5e6615++)if(_0x375607[_0x5e6615]!==void(0x13ae+-0x1ca8+0x8fa))_0x375607[_0x5e6615]?(_0x32af66=this['system']['app']['assets']['get'](_0x375607[_0x5e6615]),this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x32af66,_0x3f2a73[_0x5e6615],_0x5e6615)):_0x3f2a73[_0x5e6615]['material']=this['system']['defaultMat'+'erial'];else{if(_0x4b8ffe){if(_0x4b8ffe[_0x5e6615]&&(_0x4b8ffe[_0x5e6615]['material']||_0x4b8ffe[_0x5e6615]['path'])){if(_0x4b8ffe[_0x5e6615]['material']!==void(-0x509*0x6+0x1168+0xcce))_0x32af66=this['system']['app']['assets']['get'](_0x4b8ffe[_0x5e6615]['material']);else{if(_0x4b8ffe[_0x5e6615]['path']!==void(0x2597*-0x1+-0x2c+0x25c3)){const _0x2ed939=this['_getMateri'+'alAssetUrl'](_0x4b8ffe[_0x5e6615]['path']);_0x2ed939&&(_0x32af66=this['system']['app']['assets']['getByUrl'](_0x2ed939));}}this['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x32af66,_0x3f2a73[_0x5e6615],_0x5e6615);}else _0x3f2a73[_0x5e6615]['material']=this['system']['defaultMat'+'erial'];}}}get['mapping'](){return this['_mapping'];}['addModelTo'+'Layers'](){const _0x111adf=this['system']['app']['scene']['layers'];for(let _0x3fe9c6=0x2349+0x50*-0x32+0x7*-0x2cf;_0x3fe9c6<this['_layers']['length'];_0x3fe9c6++){const _0x51c504=_0x111adf['getLayerBy'+'Id'](this['_layers'][_0x3fe9c6]);_0x51c504&&_0x51c504['addMeshIns'+'tances'](this['meshInstan'+'ces']);}}['removeMode'+'lFromLayer'+'s'](){const _0x43fe79=this['system']['app']['scene']['layers'];for(let _0x2b27d4=-0x14*-0xa0+-0xb8*0x10+-0x100;_0x2b27d4<this['_layers']['length'];_0x2b27d4++){const _0x4945aa=_0x43fe79['getLayerBy'+'Id'](this['_layers'][_0x2b27d4]);_0x4945aa&&_0x4945aa['removeMesh'+'Instances'](this['meshInstan'+'ces']);}}['onRemoveCh'+'ild'](){this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['onInsertCh'+'ild'](){this['_model']&&this['enabled']&&this['entity']['enabled']&&this['addModelTo'+'Layers']();}['onRemove'](){this['asset']=null,this['model']=null,this['materialAs'+'set']=null,this['_unsetMate'+'rialEvents'](),this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x4f5a79,_0x409644){this['addModelTo'+'Layers'](),_0x4f5a79['off']('add',this['onLayerAdd'+'ed'],this),_0x4f5a79['off']('remove',this['onLayerRem'+'oved'],this),_0x409644['on']('add',this['onLayerAdd'+'ed'],this),_0x409644['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x117bda){this['layers']['indexOf'](_0x117bda['id'])<0x178d+0x1dbd+-0x354a||_0x117bda['addMeshIns'+'tances'](this['meshInstan'+'ces']);}['onLayerRem'+'oved'](_0x1b5652){this['layers']['indexOf'](_0x1b5652['id'])<-0x1*0x25af+0x5d6+0x1fd9||_0x1b5652['removeMesh'+'Instances'](this['meshInstan'+'ces']);}['_setMateri'+'alEvent'](_0x4b4938,_0x185c5b,_0x1124b0,_0x414f61){const _0x2a5ce4=_0x185c5b+':'+_0x1124b0;this['system']['app']['assets']['on'](_0x2a5ce4,_0x414f61,this),this['_materialE'+'vents']||(this['_materialE'+'vents']=[]),this['_materialE'+'vents'][_0x4b4938]||(this['_materialE'+'vents'][_0x4b4938]={}),this['_materialE'+'vents'][_0x4b4938][_0x2a5ce4]={'id':_0x1124b0,'handler':_0x414f61};}['_unsetMate'+'rialEvents'](){const _0x37ae25=this['system']['app']['assets'],_0xf50fe7=this['_materialE'+'vents'];if(_0xf50fe7){for(let _0x1241cc=-0x452+0xd*-0x1b7+-0x2f5*-0x9,_0x2667cb=_0xf50fe7['length'];_0x1241cc<_0x2667cb;_0x1241cc++){if(!_0xf50fe7[_0x1241cc])continue;const _0x45b5c9=_0xf50fe7[_0x1241cc];for(const _0x5b8f20 in _0x45b5c9)_0x37ae25['off'](_0x5b8f20,_0x45b5c9[_0x5b8f20]['handler'],this);}this['_materialE'+'vents']=null;}}['_getAssetB'+'yIdOrPath'](_0x3014a2){let _0x405fa3=null;if(!isNaN(parseInt(_0x3014a2,0x1785+0xe6+0x4f*-0x4f)))_0x405fa3=this['system']['app']['assets']['get'](_0x3014a2);else{if(this['asset']){const _0x1af965=this['_getMateri'+'alAssetUrl'](_0x3014a2);_0x1af965&&(_0x405fa3=this['system']['app']['assets']['getByUrl'](_0x1af965));}}return _0x405fa3;}['_getMateri'+'alAssetUrl'](_0x325a51){if(!this['asset'])return null;const _0x3a2a4f=this['system']['app']['assets']['get'](this['asset']);return _0x3a2a4f?_0x3a2a4f['getAbsolut'+'eUrl'](_0x325a51):null;}['_loadAndSe'+'tMeshInsta'+'nceMateria'+'l'](_0x823140,_0x195ba5,_0x5b45e2){const _0x3f89cc=this['system']['app']['assets'];_0x823140&&(_0x823140['resource']?(_0x195ba5['material']=_0x823140['resource'],this['_setMateri'+'alEvent'](_0x5b45e2,'remove',_0x823140['id'],function(){_0x195ba5['material']=this['system']['defaultMat'+'erial'];})):(this['_setMateri'+'alEvent'](_0x5b45e2,'load',_0x823140['id'],function(_0x3f05d2){_0x195ba5['material']=_0x3f05d2['resource'],this['_setMateri'+'alEvent'](_0x5b45e2,'remove',_0x823140['id'],function(){_0x195ba5['material']=this['system']['defaultMat'+'erial'];});}),this['enabled']&&this['entity']['enabled']&&_0x3f89cc['load'](_0x823140)));}['onEnable'](){var _0x4eefe3;const _0x596bfb=this['system']['app'],_0x4484c8=_0x596bfb['scene'],_0x5b563e=_0x4484c8==null?void(-0x157+-0x5*0x6fd+0x2448):_0x4484c8['layers'];this['_evtLayers'+'Changed']=_0x4484c8['on']('set:layers',this['onLayersCh'+'anged'],this),_0x5b563e&&(this['_evtLayerA'+'dded']=_0x5b563e['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x5b563e['on']('remove',this['onLayerRem'+'oved'],this));const _0x2b6e77=this['_type']==='asset';let _0x132690;if(this['_model']?this['addModelTo'+'Layers']():_0x2b6e77&&this['_asset']&&(_0x132690=_0x596bfb['assets']['get'](this['_asset']),_0x132690&&_0x132690['resource']!==this['_model']&&this['_bindModel'+'Asset'](_0x132690)),this['_materialA'+'sset']&&(_0x132690=_0x596bfb['assets']['get'](this['_materialA'+'sset']),_0x132690&&_0x132690['resource']!==this['_material']&&this['_bindMater'+'ialAsset'](_0x132690)),_0x2b6e77&&this['_mapping']){for(const _0x4bd6a7 in this['_mapping'])this['_mapping'][_0x4bd6a7]&&(_0x132690=this['_getAssetB'+'yIdOrPath'](this['_mapping'][_0x4bd6a7]),_0x132690&&!_0x132690['resource']&&_0x596bfb['assets']['load'](_0x132690));}this['_batchGrou'+'pId']>=0x14*0x167+-0x1528+-0x6e4&&((_0x4eefe3=_0x596bfb['batcher'])==null||_0x4eefe3['insert'](St['MODEL'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x281b42,_0x2432b4,_0x201647,_0x5865db;const _0xda2193=this['system']['app'],_0x672a2d=_0xda2193['scene']['layers'];(_0x281b42=this['_evtLayers'+'Changed'])==null||_0x281b42['off'](),this['_evtLayers'+'Changed']=null,_0x672a2d&&((_0x2432b4=this['_evtLayerA'+'dded'])==null||_0x2432b4['off'](),this['_evtLayerA'+'dded']=null,(_0x201647=this['_evtLayerR'+'emoved'])==null||_0x201647['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x26bf+-0x50d*0x2+-0x1ca5*0x1&&((_0x5865db=_0xda2193['batcher'])==null||_0x5865db['remove'](St['MODEL'],this['batchGroup'+'Id'],this['entity'])),this['_model']&&this['removeMode'+'lFromLayer'+'s']();}['hide'](){if(this['_model']){const _0x43f44a=this['_model']['meshInstan'+'ces'];for(let _0x4c58df=0x28*-0x85+-0xbe8+0x20b0,_0x56b499=_0x43f44a['length'];_0x4c58df<_0x56b499;_0x4c58df++)_0x43f44a[_0x4c58df]['visible']=!(-0x21b3+0x7b7*0x1+0x1*0x19fd);}}['show'](){if(this['_model']){const _0x341a93=this['_model']['meshInstan'+'ces'];for(let _0x572928=0xd*0x7d+-0x63*0x17+0x28c,_0x19d345=_0x341a93['length'];_0x572928<_0x19d345;_0x572928++)_0x341a93[_0x572928]['visible']=!(0x25aa+-0x442*-0x4+-0x1b59*0x2);}}['_bindMater'+'ialAsset'](_0x588f54){if(_0x588f54['on']('load',this['_onMateria'+'lAssetLoad'],this),_0x588f54['on']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x588f54['on']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x588f54['on']('change',this['_onMateria'+'lAssetChan'+'ge'],this),_0x588f54['resource'])this['_onMateria'+'lAssetLoad'](_0x588f54);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x588f54);}}['_unbindMat'+'erialAsset'](_0x4ea989){_0x4ea989['off']('load',this['_onMateria'+'lAssetLoad'],this),_0x4ea989['off']('unload',this['_onMateria'+'lAssetUnlo'+'ad'],this),_0x4ea989['off']('remove',this['_onMateria'+'lAssetRemo'+'ve'],this),_0x4ea989['off']('change',this['_onMateria'+'lAssetChan'+'ge'],this);}['_onMateria'+'lAssetAdd'](_0x2f5cba){this['system']['app']['assets']['off']('add:'+_0x2f5cba['id'],this['_onMateria'+'lAssetAdd'],this),this['_materialA'+'sset']===_0x2f5cba['id']&&this['_bindMater'+'ialAsset'](_0x2f5cba);}['_onMateria'+'lAssetLoad'](_0x553f15){this['_setMateri'+'al'](_0x553f15['resource']);}['_onMateria'+'lAssetUnlo'+'ad'](_0x116797){this['_setMateri'+'al'](this['system']['defaultMat'+'erial']);}['_onMateria'+'lAssetRemo'+'ve'](_0x5e0984){this['_onMateria'+'lAssetUnlo'+'ad'](_0x5e0984);}['_onMateria'+'lAssetChan'+'ge'](_0x3a5a2c){}['_bindModel'+'Asset'](_0x22c0b5){if(this['_unbindMod'+'elAsset'](_0x22c0b5),_0x22c0b5['on']('load',this['_onModelAs'+'setLoad'],this),_0x22c0b5['on']('unload',this['_onModelAs'+'setUnload'],this),_0x22c0b5['on']('change',this['_onModelAs'+'setChange'],this),_0x22c0b5['on']('remove',this['_onModelAs'+'setRemove'],this),_0x22c0b5['resource'])this['_onModelAs'+'setLoad'](_0x22c0b5);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x22c0b5);}}['_unbindMod'+'elAsset'](_0xf8f1ec){_0xf8f1ec['off']('load',this['_onModelAs'+'setLoad'],this),_0xf8f1ec['off']('unload',this['_onModelAs'+'setUnload'],this),_0xf8f1ec['off']('change',this['_onModelAs'+'setChange'],this),_0xf8f1ec['off']('remove',this['_onModelAs'+'setRemove'],this);}['_onModelAs'+'setAdded'](_0x7f3010){this['system']['app']['assets']['off']('add:'+_0x7f3010['id'],this['_onModelAs'+'setAdded'],this),_0x7f3010['id']===this['_asset']&&this['_bindModel'+'Asset'](_0x7f3010);}['_onModelAs'+'setLoad'](_0x17ccc9){this['model']=_0x17ccc9['resource']['clone'](),this['_clonedMod'+'el']=!(0x1147+0x1a9*0xe+-0x29*0xfd);}['_onModelAs'+'setUnload'](_0x330792){this['model']=null;}['_onModelAs'+'setChange'](_0x17ab4a,_0x5854ec,_0xd79334,_0x17ddfd){_0x5854ec==='data'&&(this['mapping']=this['_mapping']);}['_onModelAs'+'setRemove'](_0x5dd6c2){this['model']=null;}['_setMateri'+'al'](_0x5bcec7){if(this['_material']===_0x5bcec7)return;this['_material']=_0x5bcec7;const _0x44caeb=this['_model'];if(_0x44caeb&&this['_type']!=='asset'){const _0x4cd32c=_0x44caeb['meshInstan'+'ces'];for(let _0x3a42b1=-0x78b+0x1*0x1b63+-0x2*0x9ec,_0x2a965e=_0x4cd32c['length'];_0x3a42b1<_0x2a965e;_0x3a42b1++)_0x4cd32c[_0x3a42b1]['material']=_0x5bcec7;}}}class YR{constructor(){this['enabled']=!(0x2270+-0x91e*0x3+-0x716);}}const a0=['enabled'];class KR extends ct{constructor(_0x28e9c4){super(_0x28e9c4),this['id']='model',this['ComponentT'+'ype']=Tm,this['DataType']=YR,this['schema']=a0,this['defaultMat'+'erial']=Qn(_0x28e9c4['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x4c6a3d,_0x944346,_0x2f73fb){_0x2f73fb=['material','materialAs'+'set','asset','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','type','mapping','layers','isStatic','batchGroup'+'Id'],(_0x944346['batchGroup'+'Id']===null||_0x944346['batchGroup'+'Id']===void(-0x22ce+-0x3*-0x8b5+0xf7*0x9))&&(_0x944346['batchGroup'+'Id']=-(0xb7*0x11+-0x49b*-0x6+0x43*-0x98)),_0x944346['layers']&&_0x944346['layers']['length']&&(_0x944346['layers']=_0x944346['layers']['slice'](-0x12df*-0x1+-0x832+-0xaad));for(let _0x18a90b=-0x20f6+0x1b23+0x5d3*0x1;_0x18a90b<_0x2f73fb['length'];_0x18a90b++)_0x944346['hasOwnProp'+'erty'](_0x2f73fb[_0x18a90b])&&(_0x4c6a3d[_0x2f73fb[_0x18a90b]]=_0x944346[_0x2f73fb[_0x18a90b]]);_0x944346['aabbCenter']&&_0x944346['aabbHalfEx'+'tents']&&(_0x4c6a3d['customAabb']=new De(new D(_0x944346['aabbCenter']),new D(_0x944346['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x4c6a3d,_0x944346,['enabled']);}['cloneCompo'+'nent'](_0x1ad71f,_0x18fe1e){const _0x44ea4d={'type':_0x1ad71f['model']['type'],'asset':_0x1ad71f['model']['asset'],'castShadows':_0x1ad71f['model']['castShadow'+'s'],'receiveShadows':_0x1ad71f['model']['receiveSha'+'dows'],'castShadowsLightmap':_0x1ad71f['model']['castShadow'+'sLightmap'],'lightmapped':_0x1ad71f['model']['lightmappe'+'d'],'lightmapSizeMultiplier':_0x1ad71f['model']['lightmapSi'+'zeMultipli'+'er'],'isStatic':_0x1ad71f['model']['isStatic'],'enabled':_0x1ad71f['model']['enabled'],'layers':_0x1ad71f['model']['layers'],'batchGroupId':_0x1ad71f['model']['batchGroup'+'Id'],'mapping':ah({},_0x1ad71f['model']['mapping'])};let _0x330444=_0x1ad71f['model']['materialAs'+'set'];!(_0x330444 instanceof pe)&&_0x330444!=null&&(_0x330444=this['app']['assets']['get'](_0x330444));const _0x4cde26=_0x1ad71f['model']['material'];(!_0x4cde26||_0x4cde26===this['defaultMat'+'erial']||!_0x330444||_0x4cde26===_0x330444['resource'])&&(_0x44ea4d['materialAs'+'set']=_0x330444);const _0x32073b=this['addCompone'+'nt'](_0x18fe1e,_0x44ea4d);if(_0x1ad71f['model']['model']&&_0x1ad71f['model']['type']==='asset'&&!_0x1ad71f['model']['asset']&&(_0x32073b['model']=_0x1ad71f['model']['model']['clone'](),_0x32073b['_clonedMod'+'el']=!(0x1*0x195e+-0x1*0x11bd+0x28b*-0x3)),_0x44ea4d['materialAs'+'set']||(_0x32073b['material']=_0x4cde26),_0x1ad71f['model']['model']){const _0x3d5a93=_0x1ad71f['model']['model']['meshInstan'+'ces'],_0x4af20c=_0x32073b['model']['meshInstan'+'ces'];for(let _0x33c5bd=-0x1f38+-0x1130+0x3068;_0x33c5bd<_0x3d5a93['length'];_0x33c5bd++)_0x4af20c[_0x33c5bd]['mask']=_0x3d5a93[_0x33c5bd]['mask'],_0x4af20c[_0x33c5bd]['material']=_0x3d5a93[_0x33c5bd]['material'],_0x4af20c[_0x33c5bd]['layer']=_0x3d5a93[_0x33c5bd]['layer'],_0x4af20c[_0x33c5bd]['receiveSha'+'dow']=_0x3d5a93[_0x33c5bd]['receiveSha'+'dow'];}return _0x1ad71f['model']['customAabb']&&(_0x32073b['customAabb']=_0x1ad71f['model']['customAabb']['clone']()),_0x32073b;}['onRemove'](_0x4a097c,_0x38fe3d){_0x38fe3d['onRemove']();}}we['_buildAcce'+'ssors'](Tm['prototype'],a0);const ZR=['emitterExt'+'ents','emitterRad'+'ius','emitterExt'+'entsInner','emitterRad'+'iusInner','loop','initialVel'+'ocity','animSpeed','normalMap','particleNo'+'rmal'],QR=['numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','lighting','halfLamber'+'t','intensity','wrap','wrapBounds','depthWrite','noFog','sort','stretch','alignToMot'+'ion','preWarm','emitterSha'+'pe','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animLoop','colorMap','localSpace','screenSpac'+'e','orientatio'+'n'],JR=['scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','velocityGr'+'aph','velocityGr'+'aph2','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2'],Cc=['colorMapAs'+'set','normalMapA'+'sset','meshAsset','renderAsse'+'t'];let Ya;class e3 extends we{constructor(_0x26aade,_0x3bb6a3){super(_0x26aade,_0x3bb6a3),h(this,'_requested'+'Depth',!(0x5fb*-0x1+-0x2061+0x265d)),h(this,'_drawOrder',-0x18cc+0x15e+0x176e),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['on']('set_colorM'+'apAsset',this['onSetColor'+'MapAsset'],this),this['on']('set_normal'+'MapAsset',this['onSetNorma'+'lMapAsset'],this),this['on']('set_meshAs'+'set',this['onSetMeshA'+'sset'],this),this['on']('set_mesh',this['onSetMesh'],this),this['on']('set_render'+'Asset',this['onSetRende'+'rAsset'],this),this['on']('set_loop',this['onSetLoop'],this),this['on']('set_blendT'+'ype',this['onSetBlend'+'Type'],this),this['on']('set_depthS'+'oftening',this['onSetDepth'+'Softening'],this),this['on']('set_layers',this['onSetLayer'+'s'],this),ZR['forEach'](_0x44776d=>{this['on']('set_'+_0x44776d,this['onSetSimpl'+'eProperty'],this);}),QR['forEach'](_0x59b7fb=>{this['on']('set_'+_0x59b7fb,this['onSetCompl'+'exProperty'],this);}),JR['forEach'](_0x4976bf=>{this['on']('set_'+_0x4976bf,this['onSetGraph'+'Property'],this);}));}get['data'](){const _0xb95aa9=this['system']['store'][this['entity']['getGuid']()];return _0xb95aa9?_0xb95aa9['data']:null;}set['enabled'](_0x236164){this['_setValue']('enabled',_0x236164);}get['enabled'](){return this['data']['enabled'];}set['autoPlay'](_0x209f25){this['_setValue']('autoPlay',_0x209f25);}get['autoPlay'](){return this['data']['autoPlay'];}set['numParticl'+'es'](_0x14447b){this['_setValue']('numParticl'+'es',_0x14447b);}get['numParticl'+'es'](){return this['data']['numParticl'+'es'];}set['lifetime'](_0x16e2fb){this['_setValue']('lifetime',_0x16e2fb);}get['lifetime'](){return this['data']['lifetime'];}set['rate'](_0x468ab9){this['_setValue']('rate',_0x468ab9);}get['rate'](){return this['data']['rate'];}set['rate2'](_0x49636c){this['_setValue']('rate2',_0x49636c);}get['rate2'](){return this['data']['rate2'];}set['startAngle'](_0x11fa94){this['_setValue']('startAngle',_0x11fa94);}get['startAngle'](){return this['data']['startAngle'];}set['startAngle'+'2'](_0x13ac99){this['_setValue']('startAngle'+'2',_0x13ac99);}get['startAngle'+'2'](){return this['data']['startAngle'+'2'];}set['loop'](_0x58351e){this['_setValue']('loop',_0x58351e);}get['loop'](){return this['data']['loop'];}set['preWarm'](_0x3584c4){this['_setValue']('preWarm',_0x3584c4);}get['preWarm'](){return this['data']['preWarm'];}set['lighting'](_0x23c551){this['_setValue']('lighting',_0x23c551);}get['lighting'](){return this['data']['lighting'];}set['halfLamber'+'t'](_0x436ee9){this['_setValue']('halfLamber'+'t',_0x436ee9);}get['halfLamber'+'t'](){return this['data']['halfLamber'+'t'];}set['intensity'](_0x4358db){this['_setValue']('intensity',_0x4358db);}get['intensity'](){return this['data']['intensity'];}set['depthWrite'](_0xa27aaf){this['_setValue']('depthWrite',_0xa27aaf);}get['depthWrite'](){return this['data']['depthWrite'];}set['noFog'](_0xcaac6){this['_setValue']('noFog',_0xcaac6);}get['noFog'](){return this['data']['noFog'];}set['depthSofte'+'ning'](_0x1cbc4f){this['_setValue']('depthSofte'+'ning',_0x1cbc4f);}get['depthSofte'+'ning'](){return this['data']['depthSofte'+'ning'];}set['sort'](_0x2633f6){this['_setValue']('sort',_0x2633f6);}get['sort'](){return this['data']['sort'];}set['blendType'](_0x27ce3e){this['_setValue']('blendType',_0x27ce3e);}get['blendType'](){return this['data']['blendType'];}set['stretch'](_0xca919f){this['_setValue']('stretch',_0xca919f);}get['stretch'](){return this['data']['stretch'];}set['alignToMot'+'ion'](_0x2b3323){this['_setValue']('alignToMot'+'ion',_0x2b3323);}get['alignToMot'+'ion'](){return this['data']['alignToMot'+'ion'];}set['emitterSha'+'pe'](_0x25d4e2){this['_setValue']('emitterSha'+'pe',_0x25d4e2);}get['emitterSha'+'pe'](){return this['data']['emitterSha'+'pe'];}set['emitterExt'+'ents'](_0x18dde7){this['_setValue']('emitterExt'+'ents',_0x18dde7);}get['emitterExt'+'ents'](){return this['data']['emitterExt'+'ents'];}set['emitterExt'+'entsInner'](_0x1acaee){this['_setValue']('emitterExt'+'entsInner',_0x1acaee);}get['emitterExt'+'entsInner'](){return this['data']['emitterExt'+'entsInner'];}set['emitterRad'+'ius'](_0x5d54c4){this['_setValue']('emitterRad'+'ius',_0x5d54c4);}get['emitterRad'+'ius'](){return this['data']['emitterRad'+'ius'];}set['emitterRad'+'iusInner'](_0x4ff13e){this['_setValue']('emitterRad'+'iusInner',_0x4ff13e);}get['emitterRad'+'iusInner'](){return this['data']['emitterRad'+'iusInner'];}set['initialVel'+'ocity'](_0x25cad1){this['_setValue']('initialVel'+'ocity',_0x25cad1);}get['initialVel'+'ocity'](){return this['data']['initialVel'+'ocity'];}set['wrap'](_0x10f3b0){this['_setValue']('wrap',_0x10f3b0);}get['wrap'](){return this['data']['wrap'];}set['wrapBounds'](_0x4f130b){this['_setValue']('wrapBounds',_0x4f130b);}get['wrapBounds'](){return this['data']['wrapBounds'];}set['localSpace'](_0x1d97aa){this['_setValue']('localSpace',_0x1d97aa);}get['localSpace'](){return this['data']['localSpace'];}set['screenSpac'+'e'](_0xf6aa2d){this['_setValue']('screenSpac'+'e',_0xf6aa2d);}get['screenSpac'+'e'](){return this['data']['screenSpac'+'e'];}set['colorMapAs'+'set'](_0x49df8c){this['_setValue']('colorMapAs'+'set',_0x49df8c);}get['colorMapAs'+'set'](){return this['data']['colorMapAs'+'set'];}set['normalMapA'+'sset'](_0x4af39f){this['_setValue']('normalMapA'+'sset',_0x4af39f);}get['normalMapA'+'sset'](){return this['data']['normalMapA'+'sset'];}set['mesh'](_0x540a39){this['_setValue']('mesh',_0x540a39);}get['mesh'](){return this['data']['mesh'];}set['meshAsset'](_0x452110){this['_setValue']('meshAsset',_0x452110);}get['meshAsset'](){return this['data']['meshAsset'];}set['renderAsse'+'t'](_0x1b7b14){this['_setValue']('renderAsse'+'t',_0x1b7b14);}get['renderAsse'+'t'](){return this['data']['renderAsse'+'t'];}set['orientatio'+'n'](_0x4cc5ee){this['_setValue']('orientatio'+'n',_0x4cc5ee);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['particleNo'+'rmal'](_0xd11511){this['_setValue']('particleNo'+'rmal',_0xd11511);}get['particleNo'+'rmal'](){return this['data']['particleNo'+'rmal'];}set['localVeloc'+'ityGraph'](_0x1bfb6f){this['_setValue']('localVeloc'+'ityGraph',_0x1bfb6f);}get['localVeloc'+'ityGraph'](){return this['data']['localVeloc'+'ityGraph'];}set['localVeloc'+'ityGraph2'](_0x28a40d){this['_setValue']('localVeloc'+'ityGraph2',_0x28a40d);}get['localVeloc'+'ityGraph2'](){return this['data']['localVeloc'+'ityGraph2'];}set['velocityGr'+'aph'](_0x10af00){this['_setValue']('velocityGr'+'aph',_0x10af00);}get['velocityGr'+'aph'](){return this['data']['velocityGr'+'aph'];}set['velocityGr'+'aph2'](_0x53b9d1){this['_setValue']('velocityGr'+'aph2',_0x53b9d1);}get['velocityGr'+'aph2'](){return this['data']['velocityGr'+'aph2'];}set['rotationSp'+'eedGraph'](_0x3bcf13){this['_setValue']('rotationSp'+'eedGraph',_0x3bcf13);}get['rotationSp'+'eedGraph'](){return this['data']['rotationSp'+'eedGraph'];}set['rotationSp'+'eedGraph2'](_0x483a9e){this['_setValue']('rotationSp'+'eedGraph2',_0x483a9e);}get['rotationSp'+'eedGraph2'](){return this['data']['rotationSp'+'eedGraph2'];}set['radialSpee'+'dGraph'](_0x179ca0){this['_setValue']('radialSpee'+'dGraph',_0x179ca0);}get['radialSpee'+'dGraph'](){return this['data']['radialSpee'+'dGraph'];}set['radialSpee'+'dGraph2'](_0x1c0728){this['_setValue']('radialSpee'+'dGraph2',_0x1c0728);}get['radialSpee'+'dGraph2'](){return this['data']['radialSpee'+'dGraph2'];}set['scaleGraph'](_0x5bfa2a){this['_setValue']('scaleGraph',_0x5bfa2a);}get['scaleGraph'](){return this['data']['scaleGraph'];}set['scaleGraph'+'2'](_0x199832){this['_setValue']('scaleGraph'+'2',_0x199832);}get['scaleGraph'+'2'](){return this['data']['scaleGraph'+'2'];}set['colorGraph'](_0x593fcb){this['_setValue']('colorGraph',_0x593fcb);}get['colorGraph'](){return this['data']['colorGraph'];}set['colorGraph'+'2'](_0x27288f){this['_setValue']('colorGraph'+'2',_0x27288f);}get['colorGraph'+'2'](){return this['data']['colorGraph'+'2'];}set['alphaGraph'](_0x3ae3ca){this['_setValue']('alphaGraph',_0x3ae3ca);}get['alphaGraph'](){return this['data']['alphaGraph'];}set['alphaGraph'+'2'](_0x53309d){this['_setValue']('alphaGraph'+'2',_0x53309d);}get['alphaGraph'+'2'](){return this['data']['alphaGraph'+'2'];}set['colorMap'](_0x3a9250){this['_setValue']('colorMap',_0x3a9250);}get['colorMap'](){return this['data']['colorMap'];}set['normalMap'](_0x5a989d){this['_setValue']('normalMap',_0x5a989d);}get['normalMap'](){return this['data']['normalMap'];}set['animTilesX'](_0x22ee4d){this['_setValue']('animTilesX',_0x22ee4d);}get['animTilesX'](){return this['data']['animTilesX'];}set['animTilesY'](_0x1bb86e){this['_setValue']('animTilesY',_0x1bb86e);}get['animTilesY'](){return this['data']['animTilesY'];}set['animStartF'+'rame'](_0x2e4fe8){this['_setValue']('animStartF'+'rame',_0x2e4fe8);}get['animStartF'+'rame'](){return this['data']['animStartF'+'rame'];}set['animNumFra'+'mes'](_0x239436){this['_setValue']('animNumFra'+'mes',_0x239436);}get['animNumFra'+'mes'](){return this['data']['animNumFra'+'mes'];}set['animNumAni'+'mations'](_0x128215){this['_setValue']('animNumAni'+'mations',_0x128215);}get['animNumAni'+'mations'](){return this['data']['animNumAni'+'mations'];}set['animIndex'](_0x3ca2e0){this['_setValue']('animIndex',_0x3ca2e0);}get['animIndex'](){return this['data']['animIndex'];}set['randomizeA'+'nimIndex'](_0xd73705){this['_setValue']('randomizeA'+'nimIndex',_0xd73705);}get['randomizeA'+'nimIndex'](){return this['data']['randomizeA'+'nimIndex'];}set['animSpeed'](_0x9d5b2f){this['_setValue']('animSpeed',_0x9d5b2f);}get['animSpeed'](){return this['data']['animSpeed'];}set['animLoop'](_0x3f80e0){this['_setValue']('animLoop',_0x3f80e0);}get['animLoop'](){return this['data']['animLoop'];}set['layers'](_0x12dc02){this['_setValue']('layers',_0x12dc02);}get['layers'](){return this['data']['layers'];}set['drawOrder'](_0x41fe58){this['_drawOrder']=_0x41fe58,this['emitter']&&(this['emitter']['drawOrder']=_0x41fe58);}get['drawOrder'](){return this['_drawOrder'];}['_setValue'](_0x2b2883,_0x4ff2d4){const _0x14c06f=this['data'],_0x1e3014=_0x14c06f[_0x2b2883];_0x14c06f[_0x2b2883]=_0x4ff2d4,this['fire']('set',_0x2b2883,_0x1e3014,_0x4ff2d4);}['addMeshIns'+'tanceToLay'+'ers'](){if(this['emitter'])for(let _0x4bfdac=0x8ab+0xb*-0x1a5+-0x86*-0x12;_0x4bfdac<this['layers']['length'];_0x4bfdac++){const _0x344ca6=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x4bfdac]);_0x344ca6&&(_0x344ca6['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]),this['emitter']['_layer']=_0x344ca6);}}['removeMesh'+'InstanceFr'+'omLayers'](){if(this['emitter'])for(let _0x1ef7b2=-0x1*0x1b6d+0x2346+-0x7d9;_0x1ef7b2<this['layers']['length'];_0x1ef7b2++){const _0x49e4b6=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x1ef7b2]);_0x49e4b6&&_0x49e4b6['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}}['onSetLayer'+'s'](_0x1da080,_0x15ed52,_0x2b17e0){if(this['emitter']){for(let _0x557f62=-0x7*0x2df+0x1*0x1562+-0x149;_0x557f62<_0x15ed52['length'];_0x557f62++){const _0x340d9f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x15ed52[_0x557f62]);_0x340d9f&&_0x340d9f['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}if(!(!this['enabled']||!this['entity']['enabled']))for(let _0x2eba37=0x6*-0x11+-0x13eb+-0x7*-0x2e7;_0x2eba37<_0x2b17e0['length'];_0x2eba37++){const _0x4287c9=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x2b17e0[_0x2eba37]);_0x4287c9&&_0x4287c9['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}}}['onLayersCh'+'anged'](_0x50a814,_0x19783d){this['addMeshIns'+'tanceToLay'+'ers'](),_0x50a814['off']('add',this['onLayerAdd'+'ed'],this),_0x50a814['off']('remove',this['onLayerRem'+'oved'],this),_0x19783d['on']('add',this['onLayerAdd'+'ed'],this),_0x19783d['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x4048c8){!this['emitter']||this['layers']['indexOf'](_0x4048c8['id'])<0x241b+0xd*0xb1+-0x1a*0x1bc||_0x4048c8['addMeshIns'+'tances']([this['emitter']['meshInstan'+'ce']]);}['onLayerRem'+'oved'](_0x295d7d){!this['emitter']||this['layers']['indexOf'](_0x295d7d['id'])<-0x1315+-0x3*-0xc07+0x880*-0x2||_0x295d7d['removeMesh'+'Instances']([this['emitter']['meshInstan'+'ce']]);}['_bindColor'+'MapAsset'](_0xf45c43){if(_0xf45c43['on']('load',this['_onColorMa'+'pAssetLoad'],this),_0xf45c43['on']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0xf45c43['on']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0xf45c43['on']('change',this['_onColorMa'+'pAssetChan'+'ge'],this),_0xf45c43['resource'])this['_onColorMa'+'pAssetLoad'](_0xf45c43);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0xf45c43);}}['_unbindCol'+'orMapAsset'](_0x555bb2){_0x555bb2['off']('load',this['_onColorMa'+'pAssetLoad'],this),_0x555bb2['off']('unload',this['_onColorMa'+'pAssetUnlo'+'ad'],this),_0x555bb2['off']('remove',this['_onColorMa'+'pAssetRemo'+'ve'],this),_0x555bb2['off']('change',this['_onColorMa'+'pAssetChan'+'ge'],this);}['_onColorMa'+'pAssetLoad'](_0x1e8c6e){this['colorMap']=_0x1e8c6e['resource'];}['_onColorMa'+'pAssetUnlo'+'ad'](_0x2bec36){this['colorMap']=null;}['_onColorMa'+'pAssetRemo'+'ve'](_0x2112dd){this['_onColorMa'+'pAssetUnlo'+'ad'](_0x2112dd);}['_onColorMa'+'pAssetChan'+'ge'](_0x568aa3){}['onSetColor'+'MapAsset'](_0x35f9b4,_0x38f511,_0x447f94){const _0x2b8887=this['system']['app']['assets'];if(_0x38f511){const _0x7bce64=_0x2b8887['get'](_0x38f511);_0x7bce64&&this['_unbindCol'+'orMapAsset'](_0x7bce64);}if(_0x447f94){_0x447f94 instanceof pe&&(this['data']['colorMapAs'+'set']=_0x447f94['id'],_0x447f94=_0x447f94['id']);const _0x5c6013=_0x2b8887['get'](_0x447f94);_0x5c6013?this['_bindColor'+'MapAsset'](_0x5c6013):_0x2b8887['once']('add:'+_0x447f94,_0x32e1bf=>{this['_bindColor'+'MapAsset'](_0x32e1bf);});}else this['colorMap']=null;}['_bindNorma'+'lMapAsset'](_0x42f055){if(_0x42f055['on']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x42f055['on']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x42f055['on']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x42f055['on']('change',this['_onNormalM'+'apAssetCha'+'nge'],this),_0x42f055['resource'])this['_onNormalM'+'apAssetLoa'+'d'](_0x42f055);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x42f055);}}['_unbindNor'+'malMapAsse'+'t'](_0x1717ab){_0x1717ab['off']('load',this['_onNormalM'+'apAssetLoa'+'d'],this),_0x1717ab['off']('unload',this['_onNormalM'+'apAssetUnl'+'oad'],this),_0x1717ab['off']('remove',this['_onNormalM'+'apAssetRem'+'ove'],this),_0x1717ab['off']('change',this['_onNormalM'+'apAssetCha'+'nge'],this);}['_onNormalM'+'apAssetLoa'+'d'](_0x289ef3){this['normalMap']=_0x289ef3['resource'];}['_onNormalM'+'apAssetUnl'+'oad'](_0x46f58a){this['normalMap']=null;}['_onNormalM'+'apAssetRem'+'ove'](_0x52880f){this['_onNormalM'+'apAssetUnl'+'oad'](_0x52880f);}['_onNormalM'+'apAssetCha'+'nge'](_0x17d363){}['onSetNorma'+'lMapAsset'](_0x224394,_0x5d7e37,_0xfc13c9){const _0x53c423=this['system']['app']['assets'];if(_0x5d7e37){const _0x44be0c=_0x53c423['get'](_0x5d7e37);_0x44be0c&&this['_unbindNor'+'malMapAsse'+'t'](_0x44be0c);}if(_0xfc13c9){_0xfc13c9 instanceof pe&&(this['data']['normalMapA'+'sset']=_0xfc13c9['id'],_0xfc13c9=_0xfc13c9['id']);const _0x2d329c=_0x53c423['get'](_0xfc13c9);_0x2d329c?this['_bindNorma'+'lMapAsset'](_0x2d329c):_0x53c423['once']('add:'+_0xfc13c9,_0x550cd8=>{this['_bindNorma'+'lMapAsset'](_0x550cd8);});}else this['normalMap']=null;}['_bindMeshA'+'sset'](_0x420ee9){if(_0x420ee9['on']('load',this['_onMeshAss'+'etLoad'],this),_0x420ee9['on']('unload',this['_onMeshAss'+'etUnload'],this),_0x420ee9['on']('remove',this['_onMeshAss'+'etRemove'],this),_0x420ee9['on']('change',this['_onMeshAss'+'etChange'],this),_0x420ee9['resource'])this['_onMeshAss'+'etLoad'](_0x420ee9);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x420ee9);}}['_unbindMes'+'hAsset'](_0x496232){_0x496232['off']('load',this['_onMeshAss'+'etLoad'],this),_0x496232['off']('unload',this['_onMeshAss'+'etUnload'],this),_0x496232['off']('remove',this['_onMeshAss'+'etRemove'],this),_0x496232['off']('change',this['_onMeshAss'+'etChange'],this);}['_onMeshAss'+'etLoad'](_0x492294){this['_onMeshCha'+'nged'](_0x492294['resource']);}['_onMeshAss'+'etUnload'](_0x16a534){this['mesh']=null;}['_onMeshAss'+'etRemove'](_0xbf84e0){this['_onMeshAss'+'etUnload'](_0xbf84e0);}['_onMeshAss'+'etChange'](_0x2f1c3c){}['onSetMeshA'+'sset'](_0x156692,_0x42bfc2,_0x2e77a6){const _0x37ceb7=this['system']['app']['assets'];if(_0x42bfc2){const _0x578ec2=_0x37ceb7['get'](_0x42bfc2);_0x578ec2&&this['_unbindMes'+'hAsset'](_0x578ec2);}if(_0x2e77a6){_0x2e77a6 instanceof pe&&(this['data']['meshAsset']=_0x2e77a6['id'],_0x2e77a6=_0x2e77a6['id']);const _0x52e95a=_0x37ceb7['get'](_0x2e77a6);_0x52e95a&&this['_bindMeshA'+'sset'](_0x52e95a);}else this['_onMeshCha'+'nged'](null);}['onSetMesh'](_0x3fe94d,_0x57da0a,_0x5605e5){!_0x5605e5||_0x5605e5 instanceof pe||typeof _0x5605e5=='number'?this['meshAsset']=_0x5605e5:this['_onMeshCha'+'nged'](_0x5605e5);}['_onMeshCha'+'nged'](_0x14dc1f){_0x14dc1f&&!(_0x14dc1f instanceof Ge)&&(_0x14dc1f['meshInstan'+'ces'][-0x12f9+-0x1cb5+0x2fae]?_0x14dc1f=_0x14dc1f['meshInstan'+'ces'][0x2*-0x327+0xd7+-0x1*-0x577]['mesh']:_0x14dc1f=null),this['data']['mesh']=_0x14dc1f,this['emitter']&&(this['emitter']['mesh']=_0x14dc1f,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['onSetRende'+'rAsset'](_0x5b011a,_0x1435b6,_0x25e744){const _0x3c9030=this['system']['app']['assets'];if(_0x1435b6){const _0x543725=_0x3c9030['get'](_0x1435b6);_0x543725&&this['_unbindRen'+'derAsset'](_0x543725);}if(_0x25e744){_0x25e744 instanceof pe&&(this['data']['renderAsse'+'t']=_0x25e744['id'],_0x25e744=_0x25e744['id']);const _0x1f3075=_0x3c9030['get'](_0x25e744);_0x1f3075&&this['_bindRende'+'rAsset'](_0x1f3075);}else this['_onRenderC'+'hanged'](null);}['_bindRende'+'rAsset'](_0x191704){if(_0x191704['on']('load',this['_onRenderA'+'ssetLoad'],this),_0x191704['on']('unload',this['_onRenderA'+'ssetUnload'],this),_0x191704['on']('remove',this['_onRenderA'+'ssetRemove'],this),_0x191704['resource'])this['_onRenderA'+'ssetLoad'](_0x191704);else{if(!this['enabled']||!this['entity']['enabled'])return;this['system']['app']['assets']['load'](_0x191704);}}['_unbindRen'+'derAsset'](_0x327e5e){var _0x665364;_0x327e5e['off']('load',this['_onRenderA'+'ssetLoad'],this),_0x327e5e['off']('unload',this['_onRenderA'+'ssetUnload'],this),_0x327e5e['off']('remove',this['_onRenderA'+'ssetRemove'],this),(_0x665364=this['_evtSetMes'+'hes'])==null||_0x665364['off'](),this['_evtSetMes'+'hes']=null;}['_onRenderA'+'ssetLoad'](_0x2f4ed7){this['_onRenderC'+'hanged'](_0x2f4ed7['resource']);}['_onRenderA'+'ssetUnload'](_0x5c096c){this['_onRenderC'+'hanged'](null);}['_onRenderA'+'ssetRemove'](_0x511d65){this['_onRenderA'+'ssetUnload'](_0x511d65);}['_onRenderC'+'hanged'](_0x246e5a){var _0x3a4887;if(!_0x246e5a){this['_onMeshCha'+'nged'](null);return;}(_0x3a4887=this['_evtSetMes'+'hes'])==null||_0x3a4887['off'](),this['_evtSetMes'+'hes']=_0x246e5a['on']('set:meshes',this['_onRenderS'+'etMeshes'],this),_0x246e5a['meshes']&&this['_onRenderS'+'etMeshes'](_0x246e5a['meshes']);}['_onRenderS'+'etMeshes'](_0x428474){this['_onMeshCha'+'nged'](_0x428474&&_0x428474[0x39*0x43+0x2707+-0x35f2]);}['onSetLoop'](_0x2f68d9,_0x21cb15,_0x53f9d0){this['emitter']&&(this['emitter'][_0x2f68d9]=_0x53f9d0,this['emitter']['resetTime']());}['onSetBlend'+'Type'](_0xae1ad5,_0x1ed67e,_0x52b868){this['emitter']&&(this['emitter'][_0xae1ad5]=_0x52b868,this['emitter']['material']['blendType']=_0x52b868,this['emitter']['resetMater'+'ial'](),this['rebuild']());}['_requestDe'+'pth'](){this['_requested'+'Depth']||(Ya||(Ya=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps)),Ya&&(Ya['incrementC'+'ounter'](),this['_requested'+'Depth']=!(-0x13*0xbf+-0x28*0xf+-0x1085*-0x1)));}['_releaseDe'+'pth'](){this['_requested'+'Depth']&&Ya&&(Ya['decrementC'+'ounter'](),this['_requested'+'Depth']=!(0x2444+-0x760+-0x1ce3));}['onSetDepth'+'Softening'](_0x42d810,_0x54659c,_0x2d07b6){_0x54659c!==_0x2d07b6&&(_0x2d07b6?(this['enabled']&&this['entity']['enabled']&&this['_requestDe'+'pth'](),this['emitter']&&(this['emitter'][_0x42d810]=_0x2d07b6)):(this['enabled']&&this['entity']['enabled']&&this['_releaseDe'+'pth'](),this['emitter']&&(this['emitter'][_0x42d810]=_0x2d07b6)),this['emitter']&&(this['reset'](),this['emitter']['resetMater'+'ial'](),this['rebuild']()));}['onSetSimpl'+'eProperty'](_0x5b554c,_0x3247a2,_0x2ba886){this['emitter']&&(this['emitter'][_0x5b554c]=_0x2ba886,this['emitter']['resetMater'+'ial']());}['onSetCompl'+'exProperty'](_0x52eb7f,_0x4bf2eb,_0x9b7640){this['emitter']&&(this['emitter'][_0x52eb7f]=_0x9b7640,this['emitter']['resetMater'+'ial'](),this['rebuild'](),this['reset']());}['onSetGraph'+'Property'](_0x5bd0e3,_0x2722fc,_0xf7620c){this['emitter']&&(this['emitter'][_0x5bd0e3]=_0xf7620c,this['emitter']['rebuildGra'+'phs'](),this['emitter']['resetMater'+'ial']());}['onEnable'](){const _0x2d86a5=this['system']['app']['scene'],_0x278f04=_0x2d86a5['layers'],_0x15f672=this['data'];for(let _0x212c2c=-0x1*0x8e7+0x18b6*0x1+-0xfcf,_0x5b1115=Cc['length'];_0x212c2c<_0x5b1115;_0x212c2c++){let _0x2d5504=_0x15f672[Cc[_0x212c2c]];if(_0x2d5504){if(!(_0x2d5504 instanceof pe)){if(parseInt(_0x2d5504,-0x2549+0x14c7+-0x161*-0xc)>=-0x4*-0x2f+-0x1*-0x1463+-0x151f)_0x2d5504=this['system']['app']['assets']['get'](_0x2d5504);else continue;}_0x2d5504&&!_0x2d5504['resource']&&this['system']['app']['assets']['load'](_0x2d5504);}}if(!this['system']['app']['graphicsDe'+'vice']['disablePar'+'ticleSyste'+'m']){if(!this['emitter']){let _0xc9e3bb=_0x15f672['mesh'];_0xc9e3bb instanceof Ge||(_0xc9e3bb=null),this['emitter']=new CA(this['system']['app']['graphicsDe'+'vice'],{'numParticles':_0x15f672['numParticl'+'es'],'emitterExtents':_0x15f672['emitterExt'+'ents'],'emitterExtentsInner':_0x15f672['emitterExt'+'entsInner'],'emitterRadius':_0x15f672['emitterRad'+'ius'],'emitterRadiusInner':_0x15f672['emitterRad'+'iusInner'],'emitterShape':_0x15f672['emitterSha'+'pe'],'initialVelocity':_0x15f672['initialVel'+'ocity'],'wrap':_0x15f672['wrap'],'localSpace':_0x15f672['localSpace'],'screenSpace':_0x15f672['screenSpac'+'e'],'wrapBounds':_0x15f672['wrapBounds'],'lifetime':_0x15f672['lifetime'],'rate':_0x15f672['rate'],'rate2':_0x15f672['rate2'],'orientation':_0x15f672['orientatio'+'n'],'particleNormal':_0x15f672['particleNo'+'rmal'],'animTilesX':_0x15f672['animTilesX'],'animTilesY':_0x15f672['animTilesY'],'animStartFrame':_0x15f672['animStartF'+'rame'],'animNumFrames':_0x15f672['animNumFra'+'mes'],'animNumAnimations':_0x15f672['animNumAni'+'mations'],'animIndex':_0x15f672['animIndex'],'randomizeAnimIndex':_0x15f672['randomizeA'+'nimIndex'],'animSpeed':_0x15f672['animSpeed'],'animLoop':_0x15f672['animLoop'],'startAngle':_0x15f672['startAngle'],'startAngle2':_0x15f672['startAngle'+'2'],'scaleGraph':_0x15f672['scaleGraph'],'scaleGraph2':_0x15f672['scaleGraph'+'2'],'colorGraph':_0x15f672['colorGraph'],'colorGraph2':_0x15f672['colorGraph'+'2'],'alphaGraph':_0x15f672['alphaGraph'],'alphaGraph2':_0x15f672['alphaGraph'+'2'],'localVelocityGraph':_0x15f672['localVeloc'+'ityGraph'],'localVelocityGraph2':_0x15f672['localVeloc'+'ityGraph2'],'velocityGraph':_0x15f672['velocityGr'+'aph'],'velocityGraph2':_0x15f672['velocityGr'+'aph2'],'rotationSpeedGraph':_0x15f672['rotationSp'+'eedGraph'],'rotationSpeedGraph2':_0x15f672['rotationSp'+'eedGraph2'],'radialSpeedGraph':_0x15f672['radialSpee'+'dGraph'],'radialSpeedGraph2':_0x15f672['radialSpee'+'dGraph2'],'colorMap':_0x15f672['colorMap'],'normalMap':_0x15f672['normalMap'],'loop':_0x15f672['loop'],'preWarm':_0x15f672['preWarm'],'sort':_0x15f672['sort'],'stretch':_0x15f672['stretch'],'alignToMotion':_0x15f672['alignToMot'+'ion'],'lighting':_0x15f672['lighting'],'halfLambert':_0x15f672['halfLamber'+'t'],'intensity':_0x15f672['intensity'],'depthSoftening':_0x15f672['depthSofte'+'ning'],'scene':this['system']['app']['scene'],'mesh':_0xc9e3bb,'depthWrite':_0x15f672['depthWrite'],'noFog':_0x15f672['noFog'],'node':this['entity'],'blendType':_0x15f672['blendType']}),this['emitter']['meshInstan'+'ce']['node']=this['entity'],this['emitter']['drawOrder']=this['drawOrder'],_0x15f672['autoPlay']||(this['pause'](),this['emitter']['meshInstan'+'ce']['visible']=!(-0x6*0x83+-0x1aab+0x4f5*0x6));}this['emitter']['colorMap']&&this['addMeshIns'+'tanceToLay'+'ers'](),this['_evtLayers'+'Changed']=_0x2d86a5['on']('set:layers',this['onLayersCh'+'anged'],this),_0x278f04&&(this['_evtLayerA'+'dded']=_0x278f04['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x278f04['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&_0x15f672['depthSofte'+'ning']&&this['_requestDe'+'pth']();}}['onDisable'](){var _0x43c8e7,_0x541672,_0x57a82b;const _0x17d6ee=this['system']['app']['scene']['layers'];(_0x43c8e7=this['_evtLayers'+'Changed'])==null||_0x43c8e7['off'](),this['_evtLayers'+'Changed']=null,_0x17d6ee&&((_0x541672=this['_evtLayerA'+'dded'])==null||_0x541672['off'](),this['_evtLayerA'+'dded']=null,(_0x57a82b=this['_evtLayerR'+'emoved'])==null||_0x57a82b['off'](),this['_evtLayerR'+'emoved']=null),this['emitter']&&(this['removeMesh'+'InstanceFr'+'omLayers'](),this['data']['depthSofte'+'ning']&&this['_releaseDe'+'pth'](),this['emitter']['camera']=null);}['onBeforeRe'+'move'](){this['enabled']&&(this['enabled']=!(-0x21b4+0x62c+0x1b89)),this['emitter']&&(this['emitter']['destroy'](),this['emitter']=null);for(let _0x200e50=-0x4*0x41+-0x323*-0x7+-0x14f1;_0x200e50<Cc['length'];_0x200e50++){const _0x2e8082=Cc[_0x200e50];this['data'][_0x2e8082]&&(this[_0x2e8082]=null);}this['off']();}['reset'](){this['emitter']&&this['emitter']['reset']();}['stop'](){this['emitter']&&(this['emitter']['loop']=!(0x29e+-0x1443+0x11a6),this['emitter']['resetTime'](),this['emitter']['addTime'](0x1948+0x1*-0x26ef+0xf*0xe9,!(-0x1e13+-0x7b0*-0x5+-0x85d)));}['pause'](){this['data']['paused']=!(-0x1*-0x250c+-0x3*-0x4f7+-0x33f1);}['unpause'](){this['data']['paused']=!(-0xe5b+0x87*0x31+-0xb7b);}['play'](){this['data']['paused']=!(0x94*0x18+-0x14f7+0x718),this['emitter']&&(this['emitter']['meshInstan'+'ce']['visible']=!(-0x15de+0x1aa1+-0x4c3),this['emitter']['loop']=this['data']['loop'],this['emitter']['resetTime']());}['isPlaying'](){return this['data']['paused']?!(0x383+-0x2318+0x2*0xfcb):this['emitter']&&this['emitter']['loop']?!(0x1705+0x4*-0x270+-0xd45):Date['now']()<=this['emitter']['endTime'];}['setInTools'](){const {emitter:_0x409042}=this;_0x409042&&!_0x409042['inTools']&&(_0x409042['inTools']=!(-0xe65*-0x1+-0x5f*-0x17+0x2*-0xb77),this['rebuild']());}['rebuild'](){const _0xe2d7d3=this['enabled'];this['enabled']=!(0x9*0x8b+-0x1734+0x1252*0x1),this['emitter']&&this['emitter']['rebuild'](),this['enabled']=_0xe2d7d3;}}class t3{constructor(){this['numParticl'+'es']=-0x5*-0x3dd+-0x135f+0xf,this['rate']=-0x5f3+0x1c7d+-0x1689,this['rate2']=null,this['startAngle']=-0x1637+-0xaeb+0x2122,this['startAngle'+'2']=null,this['lifetime']=-0x215*0x1+0x8ed+-0x4a*0x17,this['emitterExt'+'ents']=new D(),this['emitterExt'+'entsInner']=new D(),this['emitterRad'+'ius']=-0x1*0x13e1+-0x1*0x1318+0x26f9,this['emitterRad'+'iusInner']=0x25*-0xbf+-0x1e9e+0x3a39,this['emitterSha'+'pe']=ai,this['initialVel'+'ocity']=0x25*-0xf1+-0x25c4*0x1+0xa5f*0x7,this['wrap']=!(0x2600+-0x1baf*0x1+-0xa50),this['wrapBounds']=new D(),this['localSpace']=!(0x1bc6+-0x83*0x7+0x9*-0x2b0),this['screenSpac'+'e']=!(0x1*0x26c4+0xe9*-0x27+-0x1a2*0x2),this['colorMap']=null,this['colorMapAs'+'set']=null,this['normalMap']=null,this['normalMapA'+'sset']=null,this['loop']=!(0x286*-0x4+0x6*-0x59c+-0x38*-0xc8),this['preWarm']=!(-0x6*0x146+-0x1b73+0x2318),this['sort']=-0x1a1*0x11+0x1f31+0x380*-0x1,this['mode']=rv,this['scene']=null,this['lighting']=!(-0x2*0x8a7+-0x1*-0x2572+-0x1423),this['halfLamber'+'t']=!(-0x3*-0x5ab+-0x11*-0xfd+-0x21cd*0x1),this['intensity']=-0x14af*-0x1+0x1*0x1ae1+-0x1*0x2f8f,this['stretch']=0x2de*-0xb+-0x7ba+0x1*0x2744,this['alignToMot'+'ion']=!(-0x1a03*-0x1+0x272+0x25f*-0xc),this['depthSofte'+'ning']=0x264b*-0x1+-0x3cc*-0x4+0x171b,this['renderAsse'+'t']=null,this['meshAsset']=null,this['mesh']=null,this['depthWrite']=!(0x456+0x1b13+0xfb4*-0x2),this['noFog']=!(-0x185*0xa+-0x58a+0x14bd),this['orientatio'+'n']=yh,this['particleNo'+'rmal']=new D(0x11*0x4f+0x266e+-0x2bad,-0xae7*-0x3+0x105a+-0x256*0x15,0x183a+0x7cb+0x493*-0x7),this['animTilesX']=-0x11c9*-0x1+-0x1*0x1705+-0x53d*-0x1,this['animTilesY']=-0xb14+-0x1f3f+-0x2*-0x152a,this['animStartF'+'rame']=-0x19eb+0xe6+0x1905,this['animNumFra'+'mes']=0x1*0x1726+-0x143f+-0x2e6,this['animNumAni'+'mations']=0xb*-0x28d+-0x1d*-0x14c+-0x1*0x98c,this['animIndex']=0xcaa+-0x22bd+0x1613,this['randomizeA'+'nimIndex']=!(0x78*0x20+-0x8c7+-0x4*0x18e),this['animSpeed']=-0x211d+0x3d3*-0x1+0x1*0x24f1,this['animLoop']=!(-0x1a93*0x1+0xfb8+0x7*0x18d),this['scaleGraph']=null,this['scaleGraph'+'2']=null,this['colorGraph']=null,this['colorGraph'+'2']=null,this['alphaGraph']=null,this['alphaGraph'+'2']=null,this['localVeloc'+'ityGraph']=null,this['localVeloc'+'ityGraph2']=null,this['velocityGr'+'aph']=null,this['velocityGr'+'aph2']=null,this['rotationSp'+'eedGraph']=null,this['rotationSp'+'eedGraph2']=null,this['radialSpee'+'dGraph']=null,this['radialSpee'+'dGraph2']=null,this['blendType']=Zs,this['enabled']=!(0x7*-0x4b2+0x1653+0xa8b),this['paused']=!(0x23+-0x1dc6+0x1da4),this['autoPlay']=!(0x1335+-0x1c99*0x1+0x964),this['layers']=[er];}}const s3='\x0avarying\x20v'+'ec4\x20texCoo'+'rdsAlphaLi'+'fe;\x0a\x0aunifo'+'rm\x20sampler'+'2D\x20colorMa'+'p;\x0auniform'+'\x20sampler2D'+'\x20colorPara'+'m;\x0auniform'+'\x20float\x20gra'+'phSampleSi'+'ze;\x0aunifor'+'m\x20float\x20gr'+'aphNumSamp'+'les;\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0auniform\x20'+'float\x20soft'+'ening;\x0auni'+'form\x20float'+'\x20colorMult'+';\x0a\x0afloat\x20s'+'aturate(fl'+'oat\x20x)\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0avoid\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex\x20\x20=\x20tex'+'ture2D(col'+'orMap,\x20vec'+'2(texCoord'+'sAlphaLife'+'.x,\x201.0\x20-\x20'+'texCoordsA'+'lphaLife.y'+'));\x0a\x20\x20\x20\x20ve'+'c4\x20ramp\x20=\x20'+'texture2D('+'colorParam'+',\x20vec2(tex'+'CoordsAlph'+'aLife.w,\x200'+'.0));\x0a\x20\x20\x20\x20'+'ramp.rgb\x20*'+'=\x20colorMul'+'t;\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20+=\x20te'+'xCoordsAlp'+'haLife.z;\x0a'+'\x0a\x20\x20\x20\x20vec3\x20'+'rgb\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'float\x20a\x20\x20='+'\x20tex.a\x20*\x20r'+'amp.a;\x0a',i3='\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0af'+'loat\x20satur'+'ate(float\x20'+'x)\x20{\x0a\x20\x20\x20\x20r'+'eturn\x20clam'+'p(x,\x200.0,\x20'+'1.0);\x0a}\x0a\x0av'+'ec4\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc)\x20{\x0a\x20\x20\x20\x20'+'return\x20mix'+'(\x20texture2'+'D(tex,tc),'+'\x20texture2D'+'(tex,tc\x20+\x20'+'graphSampl'+'eSize),\x20fr'+'act(tc.x*g'+'raphNumSam'+'ples)\x20);\x0a}'+'\x0a\x0avec4\x20tex'+'1Dlod_lerp'+'(TEXTURE_A'+'CCEPT_HIGH'+'P(tex),\x20ve'+'c2\x20tc,\x20out'+'\x20vec3\x20w)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'a\x20=\x20textur'+'e2D(tex,tc'+');\x0a\x20\x20\x20\x20vec'+'4\x20b\x20=\x20text'+'ure2D(tex,'+'tc\x20+\x20graph'+'SampleSize'+');\x0a\x20\x20\x20\x20flo'+'at\x20c\x20=\x20fra'+'ct(tc.x*gr'+'aphNumSamp'+'les);\x0a\x0a\x20\x20\x20'+'\x20vec3\x20unpa'+'ckedA\x20=\x20un'+'pack3NFloa'+'ts(a.w);\x0a\x20'+'\x20\x20\x20vec3\x20un'+'packedB\x20=\x20'+'unpack3NFl'+'oats(b.w);'+'\x0a\x20\x20\x20\x20w\x20=\x20m'+'ix(unpacke'+'dA,\x20unpack'+'edB,\x20c);\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20mix(a,\x20b,'+'\x20c);\x0a}\x0a\x0ave'+'c2\x20rotate('+'vec2\x20quadX'+'Y,\x20float\x20p'+'Rotation,\x20'+'out\x20mat2\x20r'+'otMatrix)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20cos('+'pRotation)'+';\x0a\x20\x20\x20\x20floa'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x0a\x20\x20\x20\x20mat'+'2\x20m\x20=\x20mat2'+'(c,\x20-s,\x20s,'+'\x20c);\x0a\x20\x20\x20\x20r'+'otMatrix\x20='+'\x20m;\x0a\x0a\x20\x20\x20\x20r'+'eturn\x20m\x20*\x20'+'quadXY;\x0a}\x0a'+'\x0avec3\x20bill'+'board(vec3'+'\x20InstanceC'+'oords,\x20vec'+'2\x20quadXY)\x20'+'{\x0a\x20\x20\x20\x20#ifd'+'ef\x20SCREEN_'+('SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20vec3\x20p'+'os\x20=\x20vec3('+'-1,\x200,\x200)\x20'+'*\x20quadXY.x'+'\x20+\x20vec3(0,'+'\x20-1,\x200)\x20*\x20'+'quadXY.y;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20return'+'\x20pos;\x0a}\x0a\x0av'+'ec3\x20custom'+'Face(vec3\x20'+'InstanceCo'+'ords,\x20vec2'+'\x20quadXY)\x20{'+'\x0a\x20\x20\x20\x20vec3\x20'+'pos\x20=\x20face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20faceBinor'+'m\x20*\x20quadXY'+'.y;\x0a\x20\x20\x20\x20re'+'turn\x20pos;\x0a'+'}\x0a\x0avec2\x20sa'+'feNormaliz'+'e(vec2\x20v)\x20'+'{\x0a\x20\x20\x20\x20floa'+'t\x20l\x20=\x20leng'+'th(v);\x0a\x20\x20\x20'+'\x20return\x20(l'+'\x20>\x201e-06)\x20'+'?\x20v\x20/\x20l\x20:\x20'+'v;\x0a}\x0a\x0avoid'+'\x20main(void'+')\x20{\x0a\x20\x20\x20\x20ve'+'c3\x20meshLoc'+'alPos\x20=\x20pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20flo'+'at\x20id\x20=\x20fl'+'oor(partic'+'le_vertexD'+'ata.w);\x0a\x0a\x20'+'\x20\x20\x20float\x20r'+'ndFactor\x20='+'\x20fract(sin'+'(id\x20+\x201.0\x20'+'+\x20seed));\x0a'+'\x20\x20\x20\x20vec3\x20r'+'ndFactor3\x20'+'=\x20vec3(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20float\x20uv\x20'+'=\x20id\x20/\x20num'+'ParticlesP'+'ot;\x0a\x20\x20\x20\x20re'+'adInput(uv'+');\x0a\x0a#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20inV'+'el\x20=\x20mat3('+'matrix_mod'+'el)\x20*\x20inVe'+'l;\x0a#endif\x0a'+'\x20\x20\x20\x20vec2\x20v'+'elocityV\x20='+'\x20safeNorma'+'lize((mat3'+'(matrix_vi'+'ew)\x20*\x20inVe'+'l).xy);\x20//'+'\x20should\x20be'+'\x20removed\x20b'+'y\x20compiler'+'\x20if\x20align/'+'stretch\x20is'+'\x20not\x20used\x0a'+'\x0a\x20\x20\x20\x20float'+'\x20particleL'+'ifetime\x20=\x20'+'lifetime;\x0a'+'\x0a\x20\x20\x20\x20if\x20(i')+('nLife\x20<=\x200'+'.0\x20||\x20inLi'+'fe\x20>\x20parti'+'cleLifetim'+'e\x20||\x20!inSh'+'ow)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20meshLoca'+'lPos\x20=\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20vec2\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20flo'+'at\x20nlife\x20='+'\x20clamp(inL'+'ife\x20/\x20part'+'icleLifeti'+'me,\x200.0,\x201'+'.0);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20param'+'Div;\x0a\x20\x20\x20\x20v'+'ec4\x20params'+'\x20=\x20tex1Dlo'+'d_lerp(TEX'+'TURE_PASS('+'internalTe'+'x2),\x20vec2('+'nlife,\x200),'+'\x20paramDiv)'+';\x0a\x20\x20\x20\x20floa'+'t\x20scale\x20=\x20'+'params.y;\x0a'+'\x20\x20\x20\x20float\x20'+'scaleDiv\x20='+'\x20paramDiv.'+'x;\x0a\x20\x20\x20\x20flo'+'at\x20alphaDi'+'v\x20=\x20paramD'+'iv.z;\x0a\x0a\x20\x20\x20'+'\x20scale\x20+=\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20scale'+'DivMult\x20*\x20'+'fract(rndF'+'actor*1000'+'0.0);\x0a\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(quadXY'+'\x20*\x20-0.5\x20+\x20'+'0.5,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'alphaDivMu'+'lt\x20*\x20fract'+'(rndFactor'+'*1000.0),\x20'+'nlife);\x0a#e'+'lse\x0a\x20\x20\x20\x20te'+'xCoordsAlp'+'haLife\x20=\x20v'+'ec4(partic'+'le_uv,\x20(al'+'phaDiv\x20*\x202'+'.0\x20-\x201.0)\x20'+'*\x20alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'#endif\x0a\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePos\x20='+'\x20inPos;\x0a\x20\x20'+'\x20\x20vec3\x20par'+'ticlePosMo'+'ved\x20=\x20vec3'+'(0.0);\x0a\x0a\x20\x20'+'\x20\x20mat2\x20rot'+'Matrix;\x0a'),r3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20min(flo'+'or(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y)\x20+\x20animT'+'exParams.x'+',\x20animTexP'+'arams.z);\x0a',a3='\x0a\x20\x20\x20\x20float'+'\x20animFrame'+'\x20=\x20floor(m'+'od(texCoor'+'dsAlphaLif'+'e.w\x20*\x20anim'+'TexParams.'+'y\x20+\x20animTe'+'xParams.x,'+'\x20animTexPa'+'rams.z\x20+\x201'+'.0));\x0a',n3='\x0a\x20\x20\x20\x20float'+'\x20animation'+'Index;\x0a\x0a\x20\x20'+'\x20\x20if\x20(anim'+'TexIndexPa'+'rams.y\x20==\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20anima'+'tionIndex\x20'+'=\x20floor((a'+'nimTexPara'+'ms.w\x20+\x201.0'+')\x20*\x20rndFac'+'tor3.z)\x20*\x20'+'(animTexPa'+'rams.z\x20+\x201'+'.0);\x0a\x20\x20\x20\x20}'+'\x20else\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20animTex'+'IndexParam'+'s.x\x20*\x20(ani'+'mTexParams'+'.z\x20+\x201.0);'+'\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20'+'\x20\x20float\x20at'+'lasX\x20=\x20(an'+'imationInd'+'ex\x20+\x20animF'+'rame)\x20*\x20an'+'imTexTiles'+'Params.x;\x0a'+'\x20\x20\x20\x20float\x20'+'atlasY\x20=\x201'+'.0\x20-\x20floor'+'(atlasX\x20+\x20'+'1.0)\x20*\x20ani'+'mTexTilesP'+'arams.y;\x0a\x20'+'\x20\x20\x20atlasX\x20'+'=\x20fract(at'+'lasX);\x0a\x0a\x20\x20'+'\x20\x20texCoord'+'sAlphaLife'+'.xy\x20*=\x20ani'+'mTexTilesP'+'arams.xy;\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe.xy\x20+=\x20v'+'ec2(atlasX'+',\x20atlasY);'+'\x0a',o3='\x0avoid\x20read'+'Input(floa'+'t\x20uv)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'\x20=\x20texture'+'2D(particl'+'eTexIN,\x20ve'+'c2(uv,\x200.2'+'5));\x0a\x20\x20\x20\x20v'+'ec4\x20tex2\x20='+'\x20texture2D'+'(particleT'+'exIN,\x20vec2'+'(uv,\x200.75)'+');\x0a\x0a\x20\x20\x20\x20in'+'Pos\x20=\x20tex.'+'xyz;\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inAngle\x20='+'\x20(tex.w\x20<\x20'+'0.0?\x20-tex.'+'w\x20:\x20tex.w)'+'\x20-\x201000.0;'+'\x0a\x20\x20\x20\x20inSho'+'w\x20=\x20tex.w\x20'+'>=\x200.0;\x0a\x20\x20'+'\x20\x20inLife\x20='+'\x20tex2.w;\x0a}'+'\x0a',l3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0a#'+'define\x20PI2'+'\x206.2831853'+'07179586\x0a\x0a'+'uniform\x20ve'+'c3\x20inBound'+'sSize;\x0auni'+'form\x20vec3\x20'+'inBoundsCe'+'nter;\x0a\x0auni'+'form\x20float'+'\x20maxVel;\x0a\x0a'+'float\x20deco'+'deFloatRG('+'vec2\x20rg)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20rg.y\x20*\x20('+'1.0\x20/\x20255.'+'0)\x20+\x20rg.x;'+'\x0a}\x0a\x0afloat\x20'+'decodeFloa'+'tRGBA(\x20vec'+'4\x20rgba\x20)\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20dot(rgba'+',\x20vec4(1.0'+',\x201.0\x20/\x2025'+'5.0,\x201.0\x20/'+'\x2065025.0,\x20'+'1.0\x20/\x201605'+'81375.0));'+'\x0a}\x0a\x0avoid\x20r'+'eadInput(f'+'loat\x20uv)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'tex0\x20=\x20tex'+'ture2D(par'+'ticleTexIN'+',\x20vec2(uv,'+'\x200.125));\x0a'+'\x20\x20\x20\x20vec4\x20t'+'ex1\x20=\x20text'+'ure2D(part'+'icleTexIN,'+'\x20vec2(uv,\x20'+'0.375));\x0a\x20'+'\x20\x20\x20vec4\x20te'+'x2\x20=\x20textu'+'re2D(parti'+'cleTexIN,\x20'+'vec2(uv,\x200'+'.625));\x0a\x20\x20'+'\x20\x20vec4\x20tex'+'3\x20=\x20textur'+'e2D(partic'+'leTexIN,\x20v'+'ec2(uv,\x200.'+'875));\x0a\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'vec3(decod'+'eFloatRG(t'+'ex0.rg),\x20d'+'ecodeFloat'+'RG(tex0.ba'+'),\x20decodeF'+'loatRG(tex'+'1.rg));\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'(inPos\x20-\x20v'+'ec3(0.5))\x20'+'*\x20inBounds'+'Size\x20+\x20inB'+'oundsCente'+'r;\x0a\x0a\x20\x20\x20\x20in'+'Vel\x20=\x20tex2'+'.xyz;\x0a\x20\x20\x20\x20'+'inVel\x20=\x20(i'+'nVel\x20-\x20vec'+'3(0.5))\x20*\x20'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20float\x20max'+'NegLife\x20=\x20'+'max(lifeti'+'me,\x20(numPa'+('rticles\x20-\x20'+'1.0)\x20*\x20(ra'+'te+rateDiv'+'));\x0a\x20\x20\x20\x20fl'+'oat\x20maxPos'+'Life\x20=\x20lif'+'etime+1.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20inLife'+'\x20*\x20(maxNeg'+'Life\x20+\x20max'+'PosLife)\x20-'+'\x20maxNegLif'+'e;\x0a}\x0a'),c3='\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20if\x20('+'gl_FragCoo'+'rd.y<1.0)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'gl_FragCol'+'or\x20=\x20vec4('+'outPos,\x20(o'+'utAngle\x20+\x20'+'1000.0)\x20*\x20'+'visMode);\x0a'+'\x20\x20\x20\x20}\x20else'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(outVel,\x20o'+'utLife);\x0a\x20'+'\x20\x20\x20}\x0a}\x0a',h3='\x0auniform\x20v'+'ec3\x20outBou'+'ndsMul;\x0aun'+'iform\x20vec3'+'\x20outBounds'+'Add;\x0a\x0avec2'+'\x20encodeFlo'+'atRG(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec2\x20enc'+'\x20=\x20vec2(1.'+'0,\x20255.0)\x20'+'*\x20v;\x0a\x20\x20\x20\x20e'+'nc\x20=\x20fract'+'(enc);\x0a\x20\x20\x20'+'\x20enc\x20-=\x20en'+'c.yy\x20*\x20vec'+'2(1.0/255.'+'0,\x201.0/255'+'.0);\x0a\x20\x20\x20\x20r'+'eturn\x20enc;'+'\x0a}\x0a\x0avec4\x20e'+'ncodeFloat'+'RGBA(\x20floa'+'t\x20v\x20)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20enc'+'\x20=\x20vec4(1.'+'0,\x20255.0,\x20'+'65025.0,\x201'+'60581375.0'+')\x20*\x20v;\x0a\x20\x20\x20'+'\x20enc\x20=\x20fra'+'ct(enc);\x0a\x20'+'\x20\x20\x20enc\x20-=\x20'+'enc.yzww\x20*'+'\x20vec4(1.0/'+'255.0,1.0/'+'255.0,1.0/'+'255.0,0.0)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20enc;\x0a}\x0a'+'\x0avoid\x20writ'+'eOutput()\x20'+'{\x0a\x20\x20\x20\x20outP'+'os\x20=\x20outPo'+'s\x20*\x20outBou'+'ndsMul\x20+\x20o'+'utBoundsAd'+'d;\x0a\x20\x20\x20\x20out'+'Angle\x20=\x20fr'+'act(outAng'+'le\x20/\x20PI2);'+'\x0a\x0a\x20\x20\x20\x20outV'+'el\x20=\x20(outV'+'el\x20/\x20maxVe'+'l)\x20+\x20vec3('+'0.5);\x20//\x20T'+'ODO:\x20mul\x0a\x0a'+'\x20\x20\x20\x20float\x20'+'maxNegLife'+'\x20=\x20max(lif'+'etime,\x20(nu'+'mParticles'+'\x20-\x201.0)\x20*\x20'+'(rate+rate'+'Div));\x0a\x20\x20\x20'+'\x20float\x20max'+'PosLife\x20=\x20'+'lifetime+1'+'.0;\x0a\x20\x20\x20\x20ou'+'tLife\x20=\x20(o'+'utLife\x20+\x20m'+'axNegLife)'+'\x20/\x20(maxNeg'+'Life\x20+\x20max'+'PosLife);\x0a'+'\x0a\x20\x20\x20\x20if\x20(g'+'l_FragCoor'+'d.y\x20<\x201.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20gl_FragCo'+'lor\x20=\x20vec4'+'(encodeFlo'+'atRG(outPo'+'s.x),\x20enco'+'deFloatRG('+'outPos.y))'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20if\x20(gl_'+'FragCoord.'+'y\x20<\x202.0)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20vec4(e'+'ncodeFloat'+'RG(outPos.'+'z),\x20encode'+'FloatRG(ou'+'tAngle));\x0a'+'\x20\x20\x20\x20}\x20else'+('\x20if\x20(gl_Fr'+'agCoord.y\x20'+'<\x203.0)\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(out'+'Vel,\x20visMo'+'de*0.5+0.5'+');\x0a\x20\x20\x20\x20}\x20e'+'lse\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20gl_Fra'+'gColor\x20=\x20e'+'ncodeFloat'+'RGBA(outLi'+'fe);\x0a\x20\x20\x20\x20}'+'\x0a}\x0a'),d3='\x0auniform\x20m'+'at3\x20spawnB'+'ounds;\x0auni'+'form\x20vec3\x20'+'spawnPosIn'+'nerRatio;\x0a'+'\x0avec3\x20calc'+'SpawnPosit'+'ion(vec3\x20i'+'nBounds,\x20f'+'loat\x20rndFa'+'ctor)\x20{\x0a\x20\x20'+'\x20\x20vec3\x20pos'+'\x20=\x20inBound'+'s\x20-\x20vec3(0'+'.5);\x0a\x0a\x20\x20\x20\x20'+'vec3\x20posAb'+'s\x20=\x20abs(po'+'s);\x0a\x20\x20\x20\x20ve'+'c3\x20maxPos\x20'+'=\x20vec3(max'+'(posAbs.x,'+'\x20max(posAb'+'s.y,\x20posAb'+'s.z)));\x0a\x0a\x20'+'\x20\x20\x20vec3\x20ed'+'ge\x20=\x20maxPo'+'s\x20+\x20(vec3('+'0.5)\x20-\x20max'+'Pos)\x20*\x20spa'+'wnPosInner'+'Ratio;\x0a\x0a\x20\x20'+'\x20\x20pos.x\x20=\x20'+'edge.x\x20*\x20('+'maxPos.x\x20='+'=\x20posAbs.x'+'\x20?\x20sign(po'+'s.x)\x20:\x202.0'+'\x20*\x20pos.x);'+'\x0a\x20\x20\x20\x20pos.y'+'\x20=\x20edge.y\x20'+'*\x20(maxPos.'+'y\x20==\x20posAb'+'s.y\x20?\x20sign'+'(pos.y)\x20:\x20'+'2.0\x20*\x20pos.'+'y);\x0a\x20\x20\x20\x20po'+'s.z\x20=\x20edge'+'.z\x20*\x20(maxP'+'os.z\x20==\x20po'+'sAbs.z\x20?\x20s'+'ign(pos.z)'+'\x20:\x202.0\x20*\x20p'+'os.z);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20return\x20e'+'mitterPos\x20'+'+\x20spawnBou'+'nds\x20*\x20pos;'+'\x0a#else\x0a\x20\x20\x20'+'\x20return\x20sp'+'awnBounds\x20'+'*\x20pos;\x0a#en'+'dif\x0a}\x0a\x0avoi'+'d\x20addIniti'+'alVelocity'+'(inout\x20vec'+'3\x20localVel'+'ocity,\x20vec'+'3\x20inBounds'+')\x20{\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20-=\x20vec3('+'0,\x200,\x20init'+'ialVelocit'+'y);\x0a}\x0a',f3='\x0a\x20\x20\x20\x20write'+'Output();\x0a'+'}\x0a',u3='\x0avarying\x20v'+'ec2\x20vUv0;\x0a'+'\x0auniform\x20h'+'ighp\x20sampl'+'er2D\x20parti'+'cleTexIN;\x0a'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex0;\x0aun'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0aunif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x2;\x0aunifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex3'+';\x0a\x0auniform'+'\x20mat3\x20emit'+'terMatrix;'+'\x0auniform\x20m'+'at3\x20emitte'+'rMatrixInv'+';\x0auniform\x20'+'vec3\x20emitt'+'erScale;\x0a\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Pos;\x0aunifo'+'rm\x20vec3\x20fr'+'ameRandom;'+'\x0auniform\x20v'+'ec3\x20localV'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20vec3\x20v'+'elocityDiv'+'Mult;\x0aunif'+'orm\x20float\x20'+'delta;\x0auni'+'form\x20float'+'\x20rate;\x0auni'+'form\x20float'+'\x20rateDiv;\x0a'+'uniform\x20fl'+'oat\x20lifeti'+'me;\x0aunifor'+'m\x20float\x20nu'+'mParticles'+';\x0auniform\x20'+'float\x20rotS'+'peedDivMul'+'t;\x0auniform'+'\x20float\x20rad'+'ialSpeedDi'+'vMult;\x0auni'+'form\x20float'+'\x20seed;\x0auni'+'form\x20float'+'\x20startAngl'+'e;\x0auniform'+'\x20float\x20sta'+'rtAngle2;\x0a'+'uniform\x20fl'+'oat\x20initia'+'lVelocity;'+'\x0a\x0auniform\x20'+'float\x20grap'+'hSampleSiz'+'e;\x0auniform'+'\x20float\x20gra'+'phNumSampl'+'es;\x0a\x0avec3\x20'+'inPos;\x0avec'+'3\x20inVel;\x0af'+'loat\x20inAng'+'le;\x0abool\x20i'+'nShow;\x0aflo'+'at\x20inLife;'+'\x0afloat\x20vis'+'Mode;\x0a\x0avec'+'3\x20outPos;\x0a'+'vec3\x20outVe'+'l;\x0afloat\x20o'+'utAngle;\x0ab'+'ool\x20outSho'+'w;\x0afloat\x20o'+'utLife;\x0a',p3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x20-1.0;\x0a\x20\x20\x20'+'\x20}\x0a',m3='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20outLi'+'fe\x20<\x200.0?\x20'+'-1.0:\x20visM'+'ode;\x0a',_3='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'lifetime)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'outLife\x20-='+'\x20max(lifet'+'ime,\x20(numP'+'articles\x20-'+'\x201.0)\x20*\x20pa'+'rticleRate'+');\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20visMode\x20='+'\x201.0;\x0a\x20\x20\x20\x20'+'}\x0a\x20\x20\x20\x20visM'+'ode\x20=\x20outL'+'ife\x20<\x200.0?'+'\x201.0:\x20visM'+'ode;\x0a',g3='\x0auniform\x20f'+'loat\x20spawn'+'BoundsSphe'+'re;\x0aunifor'+'m\x20float\x20sp'+'awnBoundsS'+'phereInner'+'Ratio;\x0a\x0ave'+'c3\x20calcSpa'+'wnPosition'+'(vec3\x20inBo'+'unds,\x20floa'+'t\x20rndFacto'+'r)\x20{\x0a\x20\x20\x20\x20f'+'loat\x20rnd4\x20'+'=\x20fract(rn'+'dFactor\x20*\x20'+'1000.0);\x0a\x20'+'\x20\x20\x20vec3\x20no'+'rm\x20=\x20norma'+'lize(inBou'+'nds.xyz\x20-\x20'+'vec3(0.5))'+';\x0a\x20\x20\x20\x20floa'+'t\x20r\x20=\x20rnd4'+'\x20*\x20(1.0\x20-\x20'+'spawnBound'+'sSphereInn'+'erRatio)\x20+'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio;\x0a'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20return'+'\x20emitterPo'+'s\x20+\x20norm\x20*'+'\x20r\x20*\x20spawn'+'BoundsSphe'+'re;\x0a#else\x0a'+'\x20\x20\x20\x20return'+'\x20norm\x20*\x20r\x20'+'*\x20spawnBou'+'ndsSphere;'+'\x0a#endif\x0a}\x0a'+'\x0avoid\x20addI'+'nitialVelo'+'city(inout'+'\x20vec3\x20loca'+'lVelocity,'+'\x20vec3\x20inBo'+'unds)\x20{\x0a\x20\x20'+'\x20\x20localVel'+'ocity\x20+=\x20n'+'ormalize(i'+'nBounds\x20-\x20'+'vec3(0.5))'+'\x20*\x20initial'+'Velocity;\x0a'+'}\x0a',S3='\x0afloat\x20sat'+'urate(floa'+'t\x20x)\x20{\x0a\x20\x20\x20'+'\x20return\x20cl'+'amp(x,\x200.0'+',\x201.0);\x0a}\x0a'+'\x0avec3\x20unpa'+'ck3NFloats'+'(float\x20src'+')\x20{\x0a\x20\x20\x20\x20fl'+'oat\x20r\x20=\x20fr'+'act(src);\x0a'+'\x20\x20\x20\x20float\x20'+'g\x20=\x20fract('+'src\x20*\x20256.'+'0);\x0a\x20\x20\x20\x20fl'+'oat\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3(r,\x20g'+',\x20b);\x0a}\x0a\x0av'+'ec3\x20tex1Dl'+'od_lerp(TE'+'XTURE_ACCE'+'PT_HIGHP(t'+'ex),\x20vec2\x20'+'tc,\x20out\x20ve'+'c3\x20w)\x20{\x0a\x20\x20'+'\x20\x20vec4\x20a\x20='+'\x20texture2D'+'(tex,\x20tc);'+'\x0a\x20\x20\x20\x20vec4\x20'+'b\x20=\x20textur'+'e2D(tex,\x20t'+'c\x20+\x20graphS'+'ampleSize)'+';\x0a\x20\x20\x20\x20floa'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20g'+'raphNumSam'+'ples);\x0a\x0a\x20\x20'+'\x20\x20vec3\x20unp'+'ackedA\x20=\x20u'+'npack3NFlo'+'ats(a.w);\x0a'+'\x20\x20\x20\x20vec3\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20w\x20=\x20'+'mix(unpack'+'edA,\x20unpac'+'kedB,\x20c);\x0a'+'\x0a\x20\x20\x20\x20retur'+'n\x20mix(a.xy'+'z,\x20b.xyz,\x20'+'c);\x0a}\x0a\x0a#de'+'fine\x20HASHS'+'CALE4\x20vec4'+'(1031,\x20.10'+'30,\x20.0973,'+'\x20.1099)\x0ave'+'c4\x20hash41('+'float\x20p)\x20{'+'\x0a\x20\x20\x20\x20vec4\x20'+'p4\x20=\x20fract'+'(vec4(p)\x20*'+'\x20HASHSCALE'+'4);\x0a\x20\x20\x20\x20p4'+'\x20+=\x20dot(p4'+',\x20p4.wzxy+'+'19.19);\x0a\x20\x20'+'\x20\x20return\x20f'+'ract(vec4('+'(p4.x\x20+\x20p4'+'.y)*p4.z,\x20'+'(p4.x\x20+\x20p4'+'.z)*p4.y,\x20'+'(p4.y\x20+\x20p4'+'.z)*p4.w,\x20'+'(p4.z\x20+\x20p4'+'.w)*p4.x))'+';\x0a}\x0a\x0avoid\x20'+'main(void)'+'\x20{\x0a\x20\x20\x20\x20if\x20'+'(gl_FragCo'+'ord.x\x20>\x20nu'+'mParticles'+')\x20discard;'+'\x0a\x0a\x20\x20\x20\x20read'+'Input(vUv0'+'.x);\x0a\x20\x20\x20\x20v'+'isMode\x20=\x20i'+'nShow?\x201.0'+'\x20:\x20-1.0;\x0a\x0a'+'\x20\x20\x20\x20vec4\x20r'+'ndFactor\x20='+'\x20hash41(gl'+'_FragCoord'+('.x\x20+\x20seed)'+';\x0a\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eRate\x20=\x20ra'+'te\x20+\x20rateD'+'iv\x20*\x20rndFa'+'ctor.x;\x0a\x0a\x20'+'\x20\x20\x20outLife'+'\x20=\x20inLife\x20'+'+\x20delta;\x0a\x20'+'\x20\x20\x20float\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20lifetim'+'e,\x200.0,\x201.'+'0);\x0a\x0a\x20\x20\x20\x20v'+'ec3\x20localV'+'elocityDiv'+';\x0a\x20\x20\x20\x20vec3'+'\x20velocityD'+'iv;\x0a\x20\x20\x20\x20ve'+'c3\x20paramDi'+'v;\x0a\x20\x20\x20\x20vec'+'3\x20localVel'+'ocity\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex0),\x20'+'vec2(nlife'+',\x200),\x20loca'+'lVelocityD'+'iv);\x0a\x20\x20\x20\x20v'+'ec3\x20veloci'+'ty\x20=\x20\x20\x20\x20\x20\x20'+'tex1Dlod_l'+'erp(TEXTUR'+'E_PASS(int'+'ernalTex1)'+',\x20vec2(nli'+'fe,\x200),\x20ve'+'locityDiv)'+';\x0a\x20\x20\x20\x20vec3'+'\x20params\x20=\x20'+'\x20\x20\x20\x20\x20\x20\x20tex'+'1Dlod_lerp'+'(TEXTURE_P'+'ASS(intern'+'alTex2),\x20v'+'ec2(nlife,'+'\x200),\x20param'+'Div);\x0a\x20\x20\x20\x20'+'float\x20rotS'+'peed\x20=\x20par'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rot'+'SpeedDiv\x20='+'\x20paramDiv.'+'y;\x0a\x0a\x20\x20\x20\x20ve'+'c3\x20radialP'+'arams\x20=\x20te'+'x1Dlod_ler'+'p(TEXTURE_'+'PASS(inter'+'nalTex3),\x20'+'vec2(nlife'+',\x200),\x20para'+'mDiv);\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeed\x20='+'\x20radialPar'+'ams.x;\x0a\x20\x20\x20'+'\x20float\x20rad'+'ialSpeedDi'+'v\x20=\x20radial'+'Params.y;\x0a'+'\x0a\x20\x20\x20\x20bool\x20'+'respawn\x20=\x20'+'inLife\x20<=\x20'+'0.0\x20||\x20out'+'Life\x20>=\x20li'+'fetime;\x0a\x20\x20'+'\x20\x20inPos\x20=\x20'+'respawn\x20?\x20'+'calcSpawnP'+'osition(rn'+'dFactor.xy'+'z,\x20rndFact'+'or.x)\x20:\x20in'+'Pos;\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20r'+'espawn\x20?\x20m'+'ix(startAn'+'gle,\x20start'+'Angle2,\x20rn'+'dFactor.x)'+'\x20:\x20inAngle'+';\x0a\x0a#ifndef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20vec')+('3\x20radialVe'+'l\x20=\x20inPos\x20'+'-\x20emitterP'+'os;\x0a#else\x0a'+'\x20\x20\x20\x20vec3\x20r'+'adialVel\x20='+'\x20inPos;\x0a#e'+'ndif\x0a\x20\x20\x20\x20r'+'adialVel\x20='+'\x20(dot(radi'+'alVel,\x20rad'+'ialVel)\x20>\x20'+'1.0E-8)\x20?\x20'+'radialSpee'+'d\x20*\x20normal'+'ize(radial'+'Vel)\x20:\x20vec'+'3(0.0);\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20+=\x20(radi'+'alSpeedDiv'+'\x20*\x20vec3(2.'+'0)\x20-\x20vec3('+'1.0))\x20*\x20ra'+'dialSpeedD'+'ivMult\x20*\x20r'+'ndFactor.x'+'yz;\x0a\x0a\x20\x20\x20\x20l'+'ocalVeloci'+'ty\x20+=\x20\x20\x20\x20('+'localVeloc'+'ityDiv\x20*\x20v'+'ec3(2.0)\x20-'+'\x20vec3(1.0)'+')\x20*\x20localV'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20velo'+'city\x20+=\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20(vel'+'ocityDiv\x20*'+'\x20vec3(2.0)'+'\x20-\x20vec3(1.'+'0))\x20*\x20velo'+'cityDivMul'+'t\x20*\x20rndFac'+'tor.xyz;\x0a\x20'+'\x20\x20\x20rotSpee'+'d\x20+=\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20(rotSpe'+'edDiv\x20*\x202.'+'0\x20-\x201.0)\x20*'+'\x20rotSpeedD'+'ivMult\x20*\x20r'+'ndFactor.y'+';\x0a\x0a\x20\x20\x20\x20add'+'InitialVel'+'ocity(loca'+'lVelocity,'+'\x20rndFactor'+'.xyz);\x0a\x0a#i'+'fndef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20em'+'itterScale'+';\x0a#else\x0a\x20\x20'+'\x20\x20outVel\x20='+'\x20(localVel'+'ocity\x20+\x20ra'+'dialVel)\x20/'+'\x20emitterSc'+'ale\x20+\x20emit'+'terMatrixI'+'nv\x20*\x20veloc'+'ity;\x0a#endi'+'f\x0a\x0a\x20\x20\x20\x20out'+'Pos\x20=\x20inPo'+'s\x20+\x20outVel'+'\x20*\x20delta;\x0a'+'\x20\x20\x20\x20outAng'+'le\x20=\x20inAng'+'le\x20+\x20rotSp'+'eed\x20*\x20delt'+'a;\x0a'),y3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',v3='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'*=\x20saturat'+'e(gammaCor'+'rectInput('+'max(a,\x200.0'+')));\x0a\x20\x20\x20\x20i'+'f\x20((rgb.r\x20'+'+\x20rgb.g\x20+\x20'+'rgb.b)\x20<\x200'+'.000001)\x20d'+'iscard;\x0a',x3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3('+'1.0),\x20rgb,'+'\x20vec3(a));'+'\x0a\x20\x20\x20\x20if\x20(r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+'\x20>\x202.99)\x20d'+'iscard;\x0a',T3='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20d'+'iscard;\x0a',w3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20\x20\x20/'+'/\x20XYZ\x20=\x20wo'+'rld\x20pos,\x20W'+'\x20=\x20life\x0aat'+'tribute\x20ve'+'c4\x20particl'+'e_vertexDa'+'ta2;\x20\x20//\x20X'+'\x20=\x20angle,\x20'+'Y\x20=\x20scale,'+'\x20Z\x20=\x20alpha'+',\x20W\x20=\x20velo'+'city.x\x0aatt'+'ribute\x20vec'+'4\x20particle'+'_vertexDat'+'a3;\x20\x20//\x20XY'+'Z\x20=\x20partic'+'le\x20local\x20p'+'os,\x20W\x20=\x20ve'+'locity.y\x0aa'+'ttribute\x20f'+'loat\x20parti'+'cle_vertex'+'Data4;\x20//\x20'+'particle\x20i'+'d\x0a\x0a//\x20type'+'\x20depends\x20o'+'n\x20useMesh\x20'+'property.\x20'+'Start\x20with'+'\x20X\x20=\x20veloc'+'ity.z,\x20Y\x20='+'\x20particle\x20'+'ID\x20and\x20for'+'\x20mesh\x20part'+'icles\x20proc'+'eeds\x20with\x20'+'Z\x20=\x20mesh\x20U'+'V.x,\x20W\x20=\x20m'+'esh\x20UV.y\x0a/'+'/\x20Note:\x20Th'+'is\x20generat'+'es\x20a\x20dupli'+'cate\x20attri'+'bute\x20warni'+'ng,\x20as\x20the'+'\x20scanning\x20'+'we\x20do\x20is\x20v'+'ery\x20simple'+'.\x0a#ifndef\x20'+'USE_MESH\x0a\x20'+'\x20\x20\x20attribu'+'te\x20vec2\x20pa'+'rticle_ver'+'texData5;\x0a'+'#else\x0a\x20\x20\x20\x20'+'attribute\x20'+'vec4\x20parti'+'cle_vertex'+'Data5;\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20mat4\x20ma'+'trix_viewP'+'rojection;'+'\x0auniform\x20m'+'at4\x20matrix'+'_model;\x0a\x0a#'+'ifndef\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20#define\x20'+'VIEWMATRIX'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20mat4\x20ma'+'trix_view;'+'\x0a#endif\x0a\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20lifetim'+'e;\x0auniform'+'\x20float\x20str'+'etch;\x0aunif'+'orm\x20float\x20'+'seed;\x0aunif'+'orm\x20vec3\x20w'+'rapBounds;'+'\x0auniform\x20v'+'ec3\x20emitte'+'rScale;\x0aun'+('iform\x20vec3'+'\x20faceTange'+'nt;\x0aunifor'+'m\x20vec3\x20fac'+'eBinorm;\x0a\x0a'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x20\x20\x20\x20unifor'+'m\x20highp\x20sa'+'mpler2D\x20in'+'ternalTex0'+';\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x1;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex2;\x0a#end'+'if\x0auniform'+'\x20vec3\x20emit'+'terPos;\x0a\x0av'+'arying\x20vec'+'4\x20texCoord'+'sAlphaLife'+';\x0a\x0avec2\x20ro'+'tate(vec2\x20'+'quadXY,\x20fl'+'oat\x20pRotat'+'ion,\x20out\x20m'+'at2\x20rotMat'+'rix)\x0a{\x0a\x20\x20\x20'+'\x20float\x20c\x20='+'\x20cos(pRota'+'tion);\x0a\x20\x20\x20'+'\x20float\x20s\x20='+'\x20sin(pRota'+'tion);\x0a\x20\x20\x20'+'\x20//vec4\x20ro'+'tationMatr'+'ix\x20=\x20vec4('+'c,\x20-s,\x20s,\x20'+'c);\x0a\x0a\x20\x20\x20\x20m'+'at2\x20m\x20=\x20ma'+'t2(c,\x20-s,\x20'+'s,\x20c);\x0a\x20\x20\x20'+'\x20rotMatrix'+'\x20=\x20m;\x0a\x0a\x20\x20\x20'+'\x20return\x20m\x20'+'*\x20quadXY;\x0a'+'}\x0a\x0avec3\x20bi'+'llboard(ve'+'c3\x20Instanc'+'eCoords,\x20v'+'ec2\x20quadXY'+')\x0a{\x0a\x20\x20\x20\x20ve'+'c3\x20pos\x20=\x20-'+'matrix_vie'+'wInverse[0'+'].xyz\x20*\x20qu'+'adXY.x\x20+\x20-'+'matrix_vie'+'wInverse[1'+'].xyz\x20*\x20qu'+'adXY.y;\x0a\x20\x20'+'\x20\x20return\x20p'+'os;\x0a}\x0a\x0avec'+'3\x20customFa'+'ce(vec3\x20In'+'stanceCoor'+'ds,\x20vec2\x20q'+'uadXY)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20po'+'s\x20=\x20faceTa'+'ngent\x20*\x20qu'+'adXY.x\x20+\x20f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0avoid\x20main'+'(void)\x0a{\x0a\x20'+'\x20\x20\x20vec3\x20pa'+'rticlePos\x20'+'=\x20particle'+'_vertexDat'+'a.xyz;\x0a\x20\x20\x20'+'\x20vec3\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20vec3\x20vert'+'Pos\x20=\x20part'+'icle_verte'+'xData3.xyz'+';\x0a\x20\x20\x20\x20vec3'+'\x20inVel\x20=\x20v'+'ec3(partic'+'le_vertexD'+'ata2.w,\x20pa')+('rticle_ver'+'texData3.w'+',\x20particle'+'_vertexDat'+'a5.x);\x0a\x0a\x20\x20'+'\x20\x20float\x20id'+'\x20=\x20floor(p'+'article_ve'+'rtexData4)'+';\x0a\x20\x20\x20\x20floa'+'t\x20rndFacto'+'r\x20=\x20fract('+'sin(id\x20+\x201'+'.0\x20+\x20seed)'+');\x0a\x20\x20\x20\x20vec'+'3\x20rndFacto'+'r3\x20=\x20vec3('+'rndFactor,'+'\x20fract(rnd'+'Factor*10.'+'0),\x20fract('+'rndFactor*'+'100.0));\x0a\x0a'+'#ifdef\x20LOC'+'AL_SPACE\x0a\x20'+'\x20\x20\x20inVel\x20='+'\x20mat3(matr'+'ix_model)\x20'+'*\x20inVel;\x0a#'+'endif\x0a\x20\x20\x20\x20'+'vec2\x20veloc'+'ityV\x20=\x20nor'+'malize((ma'+'t3(matrix_'+'view)\x20*\x20in'+'Vel).xy);\x20'+'//\x20should\x20'+'be\x20removed'+'\x20by\x20compil'+'er\x20if\x20alig'+'n/stretch\x20'+'is\x20not\x20use'+'d\x0a\x0a\x20\x20\x20\x20vec'+'2\x20quadXY\x20='+'\x20vertPos.x'+'y;\x0a\x0a#ifdef'+'\x20USE_MESH\x0a'+'\x20\x20\x20\x20texCoo'+'rdsAlphaLi'+'fe\x20=\x20vec4('+'particle_v'+'ertexData5'+'.zw,\x20parti'+'cle_vertex'+'Data2.z,\x20p'+'article_ve'+'rtexData.w'+');\x0a#else\x0a\x20'+'\x20\x20\x20texCoor'+'dsAlphaLif'+'e\x20=\x20vec4(q'+'uadXY\x20*\x20-0'+'.5\x20+\x200.5,\x20'+'particle_v'+'ertexData2'+'.z,\x20partic'+'le_vertexD'+'ata.w);\x0a#e'+'ndif\x0a\x20\x20\x20\x20m'+'at2\x20rotMat'+'rix;\x0a\x0a\x20\x20\x20\x20'+'float\x20inAn'+'gle\x20=\x20part'+'icle_verte'+'xData2.x;\x0a'+'\x20\x20\x20\x20vec3\x20p'+'articlePos'+'Moved\x20=\x20ve'+'c3(0.0);\x0a\x20'+'\x20\x20\x20vec3\x20me'+'shLocalPos'+'\x20=\x20particl'+'e_vertexDa'+'ta3.xyz;\x0a'),E3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20par'+'ticle_vert'+'exData2.y\x20'+'*\x20emitterS'+'cale;\x0a\x20\x20\x20\x20'+'localPos\x20+'+'=\x20particle'+'Pos;\x0a\x0a\x20\x20\x20\x20'+'gl_Positio'+'n\x20=\x20matrix'+'_viewProje'+'ction\x20*\x20ve'+'c4(localPo'+'s,\x201.0);\x0a',b3='\x0a\x20\x20\x20\x20quadX'+'Y\x20=\x20rotate'+'(quadXY,\x20i'+'nAngle,\x20ro'+'tMatrix);\x0a'+'\x20\x20\x20\x20vec3\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20quadXY'+');\x0a',A3='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20gl_'+'FragColor\x20'+'=\x20vec4(rgb'+',\x20a);\x0a}\x0a',C3='\x0a\x20\x20\x20\x20local'+'Pos\x20*=\x20sca'+'le\x20*\x20emitt'+'erScale;\x0a\x20'+'\x20\x20\x20localPo'+'s\x20+=\x20parti'+'clePos;\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SCREEN_SPA'+'CE\x0a\x20\x20\x20\x20gl_'+'Position\x20='+'\x20vec4(loca'+'lPos.x,\x20lo'+'calPos.y,\x20'+'0.0,\x201.0);'+'\x0a\x20\x20\x20\x20#else'+'\x0a\x20\x20\x20\x20gl_Po'+'sition\x20=\x20m'+'atrix_view'+'Projection'+'\x20*\x20vec4(lo'+'calPos.xyz'+',\x201.0);\x0a\x20\x20'+'\x20\x20#endif\x0a',P3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20normal\x20*'+'\x200.5\x20+\x200.5'+';\x0a\x20\x20\x20\x20vec3'+'\x20posNormal'+'\x20=\x20-normal'+'\x20*\x200.5\x20+\x200'+'.5;\x0a\x20\x20\x20\x20ne'+'gNormal\x20*='+'\x20negNormal'+';\x0a\x20\x20\x20\x20posN'+'ormal\x20*=\x20p'+'osNormal;\x0a',M3='\x0aattribute'+'\x20vec4\x20part'+'icle_verte'+'xData;\x20//\x20'+'XYZ\x20=\x20part'+'icle\x20posit'+'ion,\x20W\x20=\x20p'+'article\x20ID'+'\x20+\x20random\x20'+'factor\x0a\x0a#i'+'f\x20defined('+'USE_MESH)\x0a'+'\x20\x20\x20\x20#if\x20de'+'fined(USE_'+'MESH_UV)\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20att'+'ribute\x20vec'+'2\x20particle'+'_uv;\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20mesh'+'\x20UV\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20vec2\x20par'+'ticle_uv\x20='+'\x20vec2(0.0,'+'\x200.0);\x0a\x20\x20\x20'+'\x20#endif\x0a#e'+'ndif\x0a\x0aunif'+'orm\x20mat4\x20m'+'atrix_view'+'Projection'+';\x0auniform\x20'+'mat4\x20matri'+'x_model;\x0au'+'niform\x20mat'+'3\x20matrix_n'+'ormal;\x0auni'+'form\x20mat4\x20'+'matrix_vie'+'wInverse;\x0a'+'\x0a#ifndef\x20V'+'IEWMATRIX\x0a'+'\x20\x20\x20\x20#defin'+'e\x20VIEWMATR'+'IX\x0a\x20\x20\x20\x20uni'+'form\x20mat4\x20'+'matrix_vie'+'w;\x0a#endif\x0a'+'\x0auniform\x20f'+'loat\x20numPa'+'rticles;\x0au'+'niform\x20flo'+'at\x20numPart'+'iclesPot;\x0a'+'uniform\x20fl'+'oat\x20graphS'+'ampleSize;'+'\x0auniform\x20f'+'loat\x20graph'+'NumSamples'+';\x0auniform\x20'+'float\x20stre'+'tch;\x0aunifo'+'rm\x20vec3\x20wr'+'apBounds;\x0a'+'uniform\x20ve'+'c3\x20emitter'+'Scale;\x0auni'+'form\x20vec3\x20'+'emitterPos'+';\x0auniform\x20'+'vec3\x20faceT'+'angent;\x0aun'+'iform\x20vec3'+'\x20faceBinor'+'m;\x0auniform'+'\x20float\x20rat'+'e;\x0auniform'+'\x20float\x20rat'+'eDiv;\x0aunif'+'orm\x20float\x20'+'lifetime;\x0a'+'uniform\x20fl'+'oat\x20deltaR'+'andomnessS'+'tatic;\x0auni'+'form\x20float'+'\x20scaleDivM'+'ult;\x0aunifo'+'rm\x20float\x20a'+'lphaDivMul'+'t;\x0auniform'+'\x20float\x20see'+'d;\x0auniform'+'\x20float\x20del'+'ta;\x0aunifor'+'m\x20sampler2'+'D\x20particle'+'TexOUT;\x0aun'+'iform\x20samp'+('ler2D\x20part'+'icleTexIN;'+'\x0a\x0a#ifdef\x20P'+'ARTICLE_GP'+'U\x0a\x20\x20\x20\x20unif'+'orm\x20highp\x20'+'sampler2D\x20'+'internalTe'+'x0;\x0a\x20\x20\x20\x20un'+'iform\x20high'+'p\x20sampler2'+'D\x20internal'+'Tex1;\x0a\x20\x20\x20\x20'+'uniform\x20hi'+'ghp\x20sample'+'r2D\x20intern'+'alTex2;\x0a#e'+'ndif\x0a\x0a#ifn'+'def\x20CAMERA'+'PLANES\x0a\x20\x20\x20'+'\x20#define\x20C'+'AMERAPLANE'+'S\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'amera_para'+'ms;\x0a#endif'+'\x0a\x0avarying\x20'+'vec4\x20texCo'+'ordsAlphaL'+'ife;\x0a\x0avec3'+'\x20inPos;\x0ave'+'c3\x20inVel;\x0a'+'float\x20inAn'+'gle;\x0abool\x20'+'inShow;\x0afl'+'oat\x20inLife'+';\x0a'),D3='\x0a\x20\x20\x20\x20vec3\x20'+'negNormal\x20'+'=\x20max(norm'+'al,\x20vec3(0'+'.0));\x0a\x20\x20\x20\x20'+'vec3\x20posNo'+'rmal\x20=\x20max'+'(-normal,\x20'+'vec3(0.0))'+';\x0a',I3='\x0a\x20\x20\x20\x20vec3\x20'+'light\x20=\x20ne'+'gNormal.x*'+'lightCube['+'0]\x20+\x20posNo'+'rmal.x*lig'+'htCube[1]\x20'+'+\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20negN'+'ormal.y*li'+'ghtCube[2]'+'\x20+\x20posNorm'+'al.y*light'+'Cube[3]\x20+\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20negNor'+'mal.z*ligh'+'tCube[4]\x20+'+'\x20posNormal'+'.z*lightCu'+'be[5];\x0a\x0a\x20\x20'+'\x20\x20rgb\x20*=\x20l'+'ight;\x0a',L3='\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20('+'matrix_mod'+'el\x20*\x20vec4('+'particlePo'+'s,\x201.0)).x'+'yz;\x0a',R3='\x0a\x20\x20\x20\x20vec3\x20'+'localPos\x20='+'\x20meshLocal'+'Pos;\x0a\x20\x20\x20\x20l'+'ocalPos.xy'+'\x20=\x20rotate('+'localPos.x'+'y,\x20inAngle'+',\x20rotMatri'+'x);\x0a\x20\x20\x20\x20lo'+'calPos.yz\x20'+'=\x20rotate(l'+'ocalPos.yz'+',\x20inAngle,'+'\x20rotMatrix'+');\x0a\x0a\x20\x20\x20\x20bi'+'llboard(pa'+'rticlePos,'+'\x20quadXY);\x0a',O3='\x0a\x20\x20\x20\x20Norma'+'l\x20=\x20normal'+'ize(localP'+'os\x20+\x20matri'+'x_viewInve'+'rse[2].xyz'+');\x0a',F3='\x0a\x20\x20\x20\x20vec3\x20'+'normalMap\x20'+'=\x20normaliz'+'e(texture2'+'D(normalMa'+'p,\x20vec2(te'+'xCoordsAlp'+'haLife.x,\x20'+'1.0\x20-\x20texC'+'oordsAlpha'+'Life.y)).x'+'yz\x20*\x202.0\x20-'+'\x201.0);\x0a\x20\x20\x20'+'\x20vec3\x20norm'+'al\x20=\x20Parti'+'cleMat\x20*\x20n'+'ormalMap;\x0a',N3='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan(veloci'+'tyV.x,\x20vel'+'ocityV.y);'+'\x0a\x0a',k3='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',U3='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20vec3\x20No'+'rmal;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'uniform\x20ve'+'c3\x20lightCu'+'be[6];\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20float\x20vDe'+'pth;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22screenD'+'epthPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#inclu'+'de\x20\x22gammaP'+'S\x22\x0a\x20\x20\x20\x20#in'+'clude\x20\x22ton'+'emappingPS'+'\x22\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22fogP'+'S\x22\x0a\x0a\x20\x20\x20\x20#i'+'f\x20NORMAL\x20='+'=\x20MAP\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20unifor'+'m\x20sampler2'+'D\x20normalMa'+'p;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22p'+'articlePS\x22'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_softP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20VERTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ve'+'c3\x20normal\x20'+'=\x20Normal;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'MAP\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalMap'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20!=\x20NONE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20HALF_L'+'AMBERT\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_ha'+'lflambertP'+'S\x22\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_la'+'mbertPS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_lighting'+'PS\x22\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20BLEND\x20'+'==\x20NORMAL\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndNormalPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+('\x20ADDITIVE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_ble'+'ndAddPS\x22\x0a\x20'+'\x20\x20\x20#elif\x20B'+'LEND\x20==\x20MU'+'LTIPLICATI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendMulti'+'plyPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endPS\x22\x0a'),B3='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20vec2'+'\x20animTexTi'+'lesParams;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20vec'+'4\x20animTexP'+'arams;\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm\x20vec2\x20an'+'imTexIndex'+'Params;\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#if\x20NO'+'RMAL\x20==\x20MA'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20ma'+'t3\x20Particl'+'eMat;\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20varying\x20v'+'ec3\x20Normal'+';\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'fdef\x20SOFT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'rying\x20floa'+'t\x20vDepth;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_initVS'+'\x22\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#ifdef\x20PA'+'CK8\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleInputR'+'gba8PS\x22\x20\x20\x20'+'\x20\x20//\x20why\x20a'+'re\x20these\x20P'+'S\x20and\x20not\x20'+'VS?\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x20'+'\x22particleI'+'nputFloatP'+'S\x22\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20S'+'OFT\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22scre'+'enDepthPS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleVS\x22\x0a\x0a\x20\x20'+'\x20\x20#else\x20//'+'\x20PARTICLE_'+'CPU\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22scr'+'eenDepthPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_cpuVS'+'\x22\x0a\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20LOCA'+'L_SPACE\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_local'+'ShiftVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'fdef\x20ANIMT'+'EX_LOOP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+('#include\x20\x22'+'particleAn'+'imFrameLoo'+'pVS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particleA'+'nimFrameCl'+'ampVS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleAn'+'imTexVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20//\x20wr'+'ap\x20is\x20not\x20'+'used\x20on\x20CP'+'U,\x20it\x20was\x20'+'commented\x20'+'out.\x20TODO:'+'\x20investiga'+'te\x20why\x0a\x20\x20\x20'+'\x20#ifdef\x20PA'+'RTICLE_GPU'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'ifdef\x20WRAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_wrapVS\x22\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#e'+'ndif\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20AL'+'IGN_TO_MOT'+'ION\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_pointAlon'+'gVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20US'+'E_MESH\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_meshVS'+'\x22\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20CUS'+'TOM_FACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'customFace'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_b'+'illboardVS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20VER'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_normalVS\x22'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20MAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_TBNVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20STRETCH\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticle_str'+'etchVS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_endVS\x22\x0a\x20'+'\x20\x20\x20#else\x20/'+'/\x20PARTICLE'+'_CPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_cpu_endV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#')+('ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_so'+'ftVS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20}\x0a'),z3='\x0a\x20\x20\x20\x20float'+'\x20depth\x20=\x20g'+'etLinearSc'+'reenDepth('+');\x0a\x20\x20\x20\x20flo'+'at\x20particl'+'eDepth\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20float\x20dep'+'thDiff\x20=\x20s'+'aturate(ab'+'s(particle'+'Depth\x20-\x20de'+'pth)\x20*\x20sof'+'tening);\x0a\x20'+'\x20\x20\x20a\x20*=\x20de'+'pthDiff;\x0a',V3='\x0a\x20\x20\x20\x20vDept'+'h\x20=\x20getLin'+'earDepth(l'+'ocalPos);\x0a',G3='\x0a\x20\x20\x20\x20vec3\x20'+'moveDir\x20=\x20'+'inVel\x20*\x20st'+'retch;\x0a\x20\x20\x20'+'\x20vec3\x20posP'+'rev\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20+=\x20partic'+'lePosMoved'+';\x0a\x0a\x20\x20\x20\x20vec'+'2\x20centerTo'+'VertexV\x20=\x20'+'normalize('+'(mat3(matr'+'ix_view)\x20*'+'\x20localPos)'+'.xy);\x0a\x0a\x20\x20\x20'+'\x20float\x20int'+'erpolation'+'\x20=\x20dot(-ve'+'locityV,\x20c'+'enterToVer'+'texV)\x20*\x200.'+'5\x20+\x200.5;\x0a\x0a'+'\x20\x20\x20\x20partic'+'lePos\x20=\x20mi'+'x(particle'+'Pos,\x20posPr'+'ev,\x20interp'+'olation);\x0a',H3='\x0a\x20\x20\x20\x20mat3\x20'+'rot3\x20=\x20mat'+'3(rotMatri'+'x[0][0],\x20r'+'otMatrix[0'+'][1],\x200.0,'+'\x20rotMatrix'+'[1][0],\x20ro'+'tMatrix[1]'+'[1],\x200.0,\x20'+'0.0,\x200.0,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'ParticleMa'+'t\x20=\x20mat3(-'+'matrix_vie'+'wInverse[0'+'].xyz,\x20-ma'+'trix_viewI'+'nverse[1].'+'xyz,\x20matri'+'x_viewInve'+'rse[2].xyz'+')\x20*\x20rot3;\x0a',W3='\x0a\x20\x20\x20\x20vec3\x20'+'origPartic'+'lePos\x20=\x20pa'+'rticlePos;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20-=\x20'+'matrix_mod'+'el[3].xyz;'+'\x0a\x20\x20\x20\x20parti'+'clePos\x20=\x20m'+'od(particl'+'ePos,\x20wrap'+'Bounds)\x20-\x20'+'wrapBounds'+'\x20*\x200.5;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20+=\x20mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'PosMoved\x20='+'\x20particleP'+'os\x20-\x20origP'+'articlePos'+';\x0a',$3={'particlePS':s3,'particleVS':i3,'particleAnimFrameClampVS':r3,'particleAnimFrameLoopVS':a3,'particleAnimTexVS':n3,'particleInputFloatPS':o3,'particleInputRgba8PS':l3,'particleOutputFloatPS':c3,'particleOutputRgba8PS':h3,'particleUpdaterAABBPS':d3,'particleUpdaterEndPS':f3,'particleUpdaterInitPS':u3,'particleUpdaterNoRespawnPS':p3,'particleUpdaterOnStopPS':m3,'particleUpdaterRespawnPS':_3,'particleUpdaterSpherePS':g3,'particleUpdaterStartPS':S3,'particle_billboardVS':y3,'particle_blendAddPS':v3,'particle_blendMultiplyPS':x3,'particle_blendNormalPS':T3,'particle_cpuVS':w3,'particle_cpu_endVS':E3,'particle_customFaceVS':b3,'particle_endPS':A3,'particle_endVS':C3,'particle_halflambertPS':P3,'particle_initVS':M3,'particle_lambertPS':D3,'particle_lightingPS':I3,'particle_localShiftVS':L3,'particle_meshVS':R3,'particle_normalVS':O3,'particle_normalMapPS':F3,'particle_pointAlongVS':N3,'particle_simulationPS':k3,'particle_shaderPS':U3,'particle_shaderVS':B3,'particle_softPS':z3,'particle_softVS':V3,'particle_stretchVS':G3,'particle_TBNVS':H3,'particle_wrapVS':W3},X3='\x0avarying\x20t'+'exCoordsAl'+'phaLife:\x20v'+'ec4f;\x0a\x0avar'+'\x20colorMap:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20colorMap'+'Sampler:\x20s'+'ampler;\x0ava'+'r\x20colorPar'+'am:\x20textur'+'e_2d<f32>;'+'\x0avar\x20color'+'ParamSampl'+'er:\x20sample'+'r;\x0a\x0aunifor'+'m\x20graphSam'+'pleSize:\x20f'+'32;\x0aunifor'+'m\x20graphNum'+'Samples:\x20f'+'32;\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0auniform'+'\x20softening'+':\x20f32;\x0auni'+'form\x20color'+'Mult:\x20f32;'+'\x0a\x0afn\x20satur'+'ate(x:\x20f32'+')\x20->\x20f32\x20{'+'\x0a\x20\x20\x20\x20retur'+'n\x20clamp(x,'+'\x200.0,\x201.0)'+';\x0a}\x0a\x0a@frag'+'ment\x0afn\x20fr'+'agmentMain'+'(input:\x20Fr'+'agmentInpu'+'t)\x20->\x20Frag'+'mentOutput'+'\x20{\x0a\x20\x20\x20\x20var'+'\x20output:\x20F'+'ragmentOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20tex:\x20v'+'ec4f\x20\x20=\x20te'+'xtureSampl'+'e(colorMap'+',\x20colorMap'+'Sampler,\x20v'+'ec2f(input'+'.texCoords'+'AlphaLife.'+'x,\x201.0\x20-\x20i'+'nput.texCo'+'ordsAlphaL'+'ife.y));\x0a\x20'+'\x20\x20\x20var\x20ram'+'p:\x20vec4f\x20='+'\x20textureSa'+'mple(color'+'Param,\x20col'+'orParamSam'+'pler,\x20vec2'+'f(input.te'+'xCoordsAlp'+'haLife.w,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20ramp\x20=\x20ve'+'c4f(ramp.r'+'gb\x20*\x20unifo'+'rm.colorMu'+'lt,\x20ramp.a'+');\x0a\x0a\x20\x20\x20\x20ra'+'mp.a\x20=\x20ram'+'p.a\x20+\x20inpu'+'t.texCoord'+'sAlphaLife'+'.z;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20rgb:\x20ve'+'c3f\x20=\x20tex.'+'rgb\x20*\x20ramp'+'.rgb;\x0a\x20\x20\x20\x20'+'var\x20a:\x20f32'+'\x20=\x20tex.a\x20*'+'\x20ramp.a;\x0a',q3='\x0afn\x20unpack'+'3NFloats(s'+'rc:\x20f32)\x20-'+'>\x20vec3f\x20{\x0a'+'\x20\x20\x20\x20let\x20r\x20'+'=\x20fract(sr'+'c);\x0a\x20\x20\x20\x20le'+'t\x20g\x20=\x20frac'+'t(src\x20*\x2025'+'6.0);\x0a\x20\x20\x20\x20'+'let\x20b\x20=\x20fr'+'act(src\x20*\x20'+'65536.0);\x0a'+'\x20\x20\x20\x20return'+'\x20vec3f(r,\x20'+'g,\x20b);\x0a}\x0a\x0a'+'fn\x20saturat'+'e(x:\x20f32)\x20'+'->\x20f32\x20{\x0a\x20'+'\x20\x20\x20return\x20'+'clamp(x,\x200'+'.0,\x201.0);\x0a'+'}\x0a\x0astruct\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20resu'+'lt:\x20vec4f,'+'\x0a\x20\x20\x20\x20unpac'+'ked:\x20vec3f'+'\x0a}\x0a\x0afn\x20tex'+'1Dlod_lerp'+'_simple(te'+'x:\x20texture'+'_2d<f32>,\x20'+'texSampler'+':\x20sampler,'+'\x20tc:\x20vec2f'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20tc_next\x20='+'\x20tc\x20+\x20vec2'+'f(uniform.'+'graphSampl'+'eSize);\x0a\x20\x20'+'\x20\x20return\x20m'+'ix(\x20textur'+'eSample(te'+'x,\x20texSamp'+'ler,\x20tc),\x20'+'textureSam'+'ple(tex,\x20t'+'exSampler,'+'\x20tc_next),'+'\x20fract(tc.'+'x\x20*\x20unifor'+'m.graphNum'+'Samples)\x20)'+';\x0a}\x0a\x0afn\x20te'+'x1Dlod_ler'+'p_unpack(t'+'ex:\x20textur'+'e_2d<f32>,'+'\x20texSample'+'r:\x20sampler'+',\x20tc:\x20vec2'+'f)\x20->\x20TexL'+'erpUnpackR'+'esult\x20{\x0a\x20\x20'+'\x20\x20let\x20tc_n'+'ext\x20=\x20tc\x20+'+'\x20vec2f(uni'+'form.graph'+'SampleSize'+');\x0a\x20\x20\x20\x20let'+'\x20a\x20=\x20textu'+'reSampleLe'+'vel(tex,\x20t'+'exSampler,'+'\x20tc,\x200.0);'+'\x0a\x20\x20\x20\x20let\x20b'+'\x20=\x20texture'+'SampleLeve'+'l(tex,\x20tex'+'Sampler,\x20t'+'c_next,\x200.'+'0);\x0a\x20\x20\x20\x20le'+'t\x20c\x20=\x20frac'+'t(tc.x\x20*\x20u'+'niform.gra'+'phNumSampl'+'es);\x0a\x20\x20\x20\x20l'+'et\x20unpacke'+'dA\x20=\x20unpac'+'k3NFloats('+'a.w);\x0a\x20\x20\x20\x20'+'let\x20unpack'+'edB\x20=\x20unpa'+'ck3NFloats'+'(b.w);\x0a\x20\x20\x20'+'\x20let\x20w_out'+('\x20=\x20mix(unp'+'ackedA,\x20un'+'packedB,\x20c'+');\x0a\x20\x20\x20\x20ret'+'urn\x20TexLer'+'pUnpackRes'+'ult(mix(a,'+'\x20b,\x20c),\x20w_'+'out);\x0a}\x0a\x0as'+'truct\x20Rota'+'teResult\x20{'+'\x0a\x20\x20\x20\x20rotat'+'edVec:\x20vec'+'2f,\x0a\x20\x20\x20\x20ma'+'trix:\x20mat2'+'x2f\x0a}\x0a\x0afn\x20'+'rotateWith'+'Matrix(qua'+'dXY:\x20vec2f'+',\x20pRotatio'+'n:\x20f32)\x20->'+'\x20RotateRes'+'ult\x20{\x0a\x20\x20\x20\x20'+'let\x20c\x20=\x20co'+'s(pRotatio'+'n);\x0a\x20\x20\x20\x20le'+'t\x20s\x20=\x20sin('+'pRotation)'+';\x0a\x20\x20\x20\x20let\x20'+'m\x20=\x20mat2x2'+'f(vec2f(c,'+'\x20s),\x20vec2f'+'(-s,\x20c));\x0a'+'\x20\x20\x20\x20return'+'\x20RotateRes'+'ult(m\x20*\x20qu'+'adXY,\x20m);\x0a'+'}\x0a\x0afn\x20bill'+'board(Inst'+'anceCoords'+':\x20vec3f,\x20q'+'uadXY:\x20vec'+'2f)\x20->\x20vec'+'3f\x20{\x0a\x20\x20\x20\x20v'+'ar\x20pos:\x20ve'+'c3f;\x0a\x20\x20\x20\x20#'+'ifdef\x20SCRE'+'EN_SPACE\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20pos'+'\x20=\x20vec3f(-'+'1.0,\x200.0,\x20'+'0.0)\x20*\x20qua'+'dXY.x\x20+\x20ve'+'c3f(0.0,\x20-'+'1.0,\x200.0)\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20custom'+'Face(Insta'+'nceCoords:'+'\x20vec3f,\x20qu'+'adXY:\x20vec2'+'f)\x20->\x20vec3'+'f\x20{\x0a\x20\x20\x20\x20le'+'t\x20pos\x20=\x20un'+'iform.face'+'Tangent\x20*\x20'+'quadXY.x\x20+'+'\x20uniform.f'+'aceBinorm\x20'+'*\x20quadXY.y'+';\x0a\x20\x20\x20\x20retu'+'rn\x20pos;\x0a}\x0a'+'\x0afn\x20safeNo'+'rmalize(v:'+'\x20vec2f)\x20->'+'\x20vec2f\x20{\x0a\x20'+'\x20\x20\x20let\x20l\x20='+'\x20length(v)'+';\x0a\x20\x20\x20\x20retu'+'rn\x20select('+'v,\x20v\x20/\x20l,\x20'+'l\x20>\x201e-06)'+';\x0a}\x0a\x0a@vert'+'ex\x0afn\x20vert'+'exMain(inp')+('ut:\x20Vertex'+'Input)\x20->\x20'+'VertexOutp'+'ut\x20{\x0a\x20\x20\x20\x20v'+'ar\x20output:'+'\x20VertexOut'+'put;\x0a\x0a\x20\x20\x20\x20'+'let\x20meshLo'+'calPos_in\x20'+'=\x20input.pa'+'rticle_ver'+'texData.xy'+'z;\x0a\x20\x20\x20\x20let'+'\x20id\x20=\x20floo'+'r(input.pa'+'rticle_ver'+'texData.w)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20rndFactor'+'\x20=\x20fract(s'+'in(id\x20+\x201.'+'0\x20+\x20unifor'+'m.seed));\x0a'+'\x20\x20\x20\x20let\x20rn'+'dFactor3\x20='+'\x20vec3f(rnd'+'Factor,\x20fr'+'act(rndFac'+'tor*10.0),'+'\x20fract(rnd'+'Factor*100'+'.0));\x0a\x0a\x20\x20\x20'+'\x20let\x20uv\x20=\x20'+'id\x20/\x20unifo'+'rm.numPart'+'iclesPot;\x0a'+'\x20\x20\x20\x20readIn'+'put(uv);\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20LOCAL_SPA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20let\x20model'+'Rotation\x20='+'\x20mat3x3f(u'+'niform.mat'+'rix_model['+'0].xyz,\x20un'+'iform.matr'+'ix_model[1'+'].xyz,\x20uni'+'form.matri'+'x_model[2]'+'.xyz);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20inVel'+'\x20=\x20modelRo'+'tation\x20*\x20i'+'nVel;\x0a\x20\x20\x20\x20'+'#endif\x0a\x20\x20\x20'+'\x20let\x20viewR'+'otation\x20=\x20'+'mat3x3f(un'+'iform.matr'+'ix_view[0]'+'.xyz,\x20unif'+'orm.matrix'+'_view[1].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[2].xyz'+');\x0a\x20\x20\x20\x20let'+'\x20velocityV'+'\x20=\x20safeNor'+'malize((vi'+'ewRotation'+'\x20*\x20inVel).'+'xy);\x0a\x0a\x20\x20\x20\x20'+'let\x20partic'+'leLifetime'+'\x20=\x20uniform'+'.lifetime;'+'\x0a\x0a\x20\x20\x20\x20var\x20'+'meshLocalP'+'os\x20=\x20meshL'+'ocalPos_in'+';\x0a\x20\x20\x20\x20if\x20('+'inLife\x20<=\x20'+'0.0\x20||\x20inL'+'ife\x20>\x20part'+'icleLifeti'+'me\x20||\x20!inS'+'how)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20mesh'+'LocalPos\x20='+'\x20vec3f(0.0'+');\x0a\x20\x20\x20\x20}\x0a\x20'+'\x20\x20\x20let\x20qua'+'dXY\x20=\x20mesh'+'LocalPos.x'+'y;\x0a\x20\x20\x20\x20let'+'\x20nlife\x20=\x20c')+('lamp(inLif'+'e\x20/\x20partic'+'leLifetime'+',\x200.0,\x201.0'+');\x0a\x0a\x20\x20\x20\x20le'+'t\x20lerp_res'+'ult\x20=\x20tex1'+'Dlod_lerp_'+'unpack(int'+'ernalTex2,'+'\x20internalT'+'ex2Sampler'+',\x20vec2f(nl'+'ife,\x200.0))'+';\x0a\x20\x20\x20\x20let\x20'+'params\x20=\x20l'+'erp_result'+'.result;\x0a\x20'+'\x20\x20\x20let\x20par'+'amDiv\x20=\x20le'+'rp_result.'+'unpacked;\x0a'+'\x0a\x20\x20\x20\x20var\x20s'+'cale\x20=\x20par'+'ams.y;\x0a\x20\x20\x20'+'\x20let\x20scale'+'Div\x20=\x20para'+'mDiv.x;\x0a\x20\x20'+'\x20\x20let\x20alph'+'aDiv\x20=\x20par'+'amDiv.z;\x0a\x0a'+'\x20\x20\x20\x20scale\x20'+'=\x20scale\x20+\x20'+'(scaleDiv\x20'+'*\x202.0\x20-\x201.'+'0)\x20*\x20unifo'+'rm.scaleDi'+'vMult\x20*\x20fr'+'act(rndFac'+'tor*10000.'+'0);\x0a\x0a\x20\x20\x20\x20#'+'ifndef\x20USE'+'_MESH\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20output'+'.texCoords'+'AlphaLife\x20'+'=\x20vec4f(qu'+'adXY\x20*\x20-0.'+'5\x20+\x200.5,\x20('+'alphaDiv\x20*'+'\x202.0\x20-\x201.0'+')\x20*\x20unifor'+'m.alphaDiv'+'Mult\x20*\x20fra'+'ct(rndFact'+'or*1000.0)'+',\x20nlife);\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife\x20=\x20vec4'+'f(particle'+'_uv,\x20(alph'+'aDiv\x20*\x202.0'+'\x20-\x201.0)\x20*\x20'+'uniform.al'+'phaDivMult'+'\x20*\x20fract(r'+'ndFactor*1'+'000.0),\x20nl'+'ife);\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20var\x20part'+'iclePos\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20var\x20parti'+'clePosMove'+'d\x20=\x20vec3f('+'0.0);\x0a\x0a\x20\x20\x20'+'\x20var\x20rotMa'+'trix:\x20mat2'+'x2f;\x0a'),j3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20min('+'floor(inpu'+'t.texCoord'+'sAlphaLife'+'.w\x20*\x20unifo'+'rm.animTex'+'Params.y)\x20'+'+\x20uniform.'+'animTexPar'+'ams.x,\x20uni'+'form.animT'+'exParams.z'+');\x0a',Y3='\x0a\x20\x20\x20\x20let\x20a'+'nimFrame:\x20'+'f32\x20=\x20floo'+'r((output.'+'texCoordsA'+'lphaLife.w'+'\x20*\x20uniform'+'.animTexPa'+'rams.y\x20+\x20u'+'niform.ani'+'mTexParams'+'.x)\x20%\x20(uni'+'form.animT'+'exParams.z'+'\x20+\x201.0));\x20'+'\x20\x20\x20\x0a',K3='\x0a\x20\x20\x20\x20var\x20a'+'nimationIn'+'dex:\x20f32;\x0a'+'\x0a\x20\x20\x20\x20if\x20(u'+'niform.ani'+'mTexIndexP'+'arams.y\x20=='+'\x201.0)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20anim'+'ationIndex'+'\x20=\x20floor(('+'uniform.an'+'imTexParam'+'s.w\x20+\x201.0)'+'\x20*\x20rndFact'+'or3.z)\x20*\x20('+'uniform.an'+'imTexParam'+'s.z\x20+\x201.0)'+';\x0a\x20\x20\x20\x20}\x20el'+'se\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20animati'+'onIndex\x20=\x20'+'uniform.an'+'imTexIndex'+'Params.x\x20*'+'\x20(uniform.'+'animTexPar'+'ams.z\x20+\x201.'+'0);\x0a\x20\x20\x20\x20}\x0a'+'\x0a\x20\x20\x20\x20var\x20a'+'tlasX:\x20f32'+'\x20=\x20(animat'+'ionIndex\x20+'+'\x20animFrame'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.x;\x0a\x20\x20\x20\x20le'+'t\x20atlasY:\x20'+'f32\x20=\x201.0\x20'+'-\x20floor(at'+'lasX\x20+\x201.0'+')\x20*\x20unifor'+'m.animTexT'+'ilesParams'+'.y;\x0a\x20\x20\x20\x20at'+'lasX\x20=\x20fra'+'ct(atlasX)'+';\x20//\x20Reass'+'ign\x20atlasX'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'current_tc'+'al_xy\x20=\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.xy;\x0a\x20\x20'+'\x20\x20let\x20scal'+'ed_tcal_xy'+'\x20=\x20current'+'_tcal_xy\x20*'+'\x20uniform.a'+'nimTexTile'+'sParams.xy'+';\x0a\x20\x20\x20\x20let\x20'+'final_tcal'+'_xy\x20=\x20scal'+'ed_tcal_xy'+'\x20+\x20vec2f(a'+'tlasX,\x20atl'+'asY);\x0a\x20\x20\x20\x20'+'output.tex'+'CoordsAlph'+'aLife\x20=\x20ve'+'c4f(final_'+'tcal_xy,\x20o'+'utput.texC'+'oordsAlpha'+'Life.z,\x20ou'+'tput.texCo'+'ordsAlphaL'+'ife.w);\x0a',Z3='\x0afn\x20readIn'+'put(uv:\x20f3'+'2)\x20{\x0a\x20\x20\x20\x20l'+'et\x20tex:\x20ve'+'c4f\x20=\x20text'+'ureSampleL'+'evel(parti'+'cleTexIN,\x20'+'particleTe'+'xINSampler'+',\x20vec2f(uv'+',\x200.25),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex2:\x20v'+'ec4f\x20=\x20tex'+'tureSample'+'Level(part'+'icleTexIN,'+'\x20particleT'+'exINSample'+'r,\x20vec2f(u'+'v,\x200.75),\x20'+'0.0);\x0a\x0a\x20\x20\x20'+'\x20inPos\x20=\x20t'+'ex.xyz;\x0a\x20\x20'+'\x20\x20inVel\x20=\x20'+'tex2.xyz;\x0a'+'\x20\x20\x20\x20inAngl'+'e\x20=\x20abs(te'+'x.w)\x20-\x20100'+'0.0;\x0a\x20\x20\x20\x20i'+'nShow\x20=\x20te'+'x.w\x20>=\x200.0'+';\x0a\x20\x20\x20\x20inLi'+'fe\x20=\x20tex2.'+'w;\x0a}\x0a',Q3='\x0a//RG=X,\x20B'+'A=Y\x0a//RG=Z'+',\x20BA=A\x0a//R'+'GB=V,\x20A=vi'+'sMode\x0a//RG'+'BA=life\x0a\x0ac'+'onst\x20PI2:\x20'+'f32\x20=\x206.28'+'3185307179'+'586;\x0a\x0aunif'+'orm\x20inBoun'+'dsSize:\x20ve'+'c3f;\x0aunifo'+'rm\x20inBound'+'sCenter:\x20v'+'ec3f;\x0a\x0auni'+'form\x20maxVe'+'l:\x20f32;\x0a\x0af'+'n\x20decodeFl'+'oatRG(rg:\x20'+'vec2f)\x20->\x20'+'f32\x20{\x0a\x20\x20\x20\x20'+'return\x20rg.'+'y\x20*\x20(1.0\x20/'+'\x20255.0)\x20+\x20'+'rg.x;\x0a}\x0a\x0af'+'n\x20decodeFl'+'oatRGBA(\x20r'+'gba:\x20vec4f'+'\x20)\x20->\x20f32\x20'+'{\x0a\x20\x20\x20\x20retu'+'rn\x20dot(rgb'+'a,\x20vec4f(1'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x2065025.0'+',\x201.0\x20/\x2016'+'0581375.0)'+');\x0a}\x0a\x0afn\x20r'+'eadInput(u'+'v:\x20f32)\x20{\x0a'+'\x20\x20\x20\x20let\x20te'+'x0\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.125),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex1\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.37'+'5),\x200.0);\x0a'+'\x20\x20\x20\x20let\x20te'+'x2\x20=\x20textu'+'reSampleLe'+'vel(partic'+'leTexIN,\x20p'+'articleTex'+'INSampler,'+'\x20vec2f(uv,'+'\x200.625),\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20tex3\x20=\x20'+'textureSam'+'pleLevel(p'+'articleTex'+'IN,\x20partic'+'leTexINSam'+'pler,\x20vec2'+'f(uv,\x200.87'+'5),\x200.0);\x0a'+'\x0a\x20\x20\x20\x20inPos'+'\x20=\x20vec3f(d'+'ecodeFloat'+'RG(tex0.rg'+'),\x20decodeF'+'loatRG(tex'+'0.ba),\x20dec'+'odeFloatRG'+'(tex1.rg))'+';\x0a\x20\x20\x20\x20inPo'+'s\x20=\x20(inPos'+'\x20-\x20vec3f(0'+'.5))\x20*\x20uni'+'form.inBou'+'ndsSize\x20+\x20'+'uniform.in'+'BoundsCent'+'er;\x0a\x0a\x20\x20\x20\x20i'+'nVel\x20=\x20tex'+'2.xyz;\x0a\x20\x20\x20'+'\x20inVel\x20=\x20('+('inVel\x20-\x20ve'+'c3f(0.5))\x20'+'*\x20uniform.'+'maxVel;\x0a\x0a\x20'+'\x20\x20\x20inAngle'+'\x20=\x20decodeF'+'loatRG(tex'+'1.ba)\x20*\x20PI'+'2;\x0a\x20\x20\x20\x20inS'+'how\x20=\x20tex2'+'.a\x20>\x200.5;\x0a'+'\x0a\x20\x20\x20\x20let\x20l'+'ife_decode'+'d\x20=\x20decode'+'FloatRGBA('+'tex3);\x0a\x20\x20\x20'+'\x20let\x20maxNe'+'gLife\x20=\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20(uniform.'+'rate\x20+\x20uni'+'form.rateD'+'iv));\x0a\x20\x20\x20\x20'+'let\x20maxPos'+'Life\x20=\x20uni'+'form.lifet'+'ime\x20+\x201.0;'+'\x0a\x20\x20\x20\x20inLif'+'e\x20=\x20life_d'+'ecoded\x20*\x20('+'maxNegLife'+'\x20+\x20maxPosL'+'ife)\x20-\x20max'+'NegLife;\x0a}'),J3='\x0afn\x20getOut'+'put()\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20if\x20(pcPos'+'ition.y\x20<\x20'+'1.0)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20vec4f(ou'+'tPos,\x20(out'+'Angle\x20+\x2010'+'00.0)\x20*\x20vi'+'sMode);\x0a\x20\x20'+'\x20\x20}\x20else\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20vec4'+'f(outVel,\x20'+'outLife);\x0a'+'\x20\x20\x20\x20}\x0a}\x0a',eO='\x0auniform\x20o'+'utBoundsMu'+'l:\x20vec3f;\x0a'+'uniform\x20ou'+'tBoundsAdd'+':\x20vec3f;\x0a\x0a'+'fn\x20encodeF'+'loatRG(\x20v:'+'\x20f32\x20)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20var\x20enc:'+'\x20vec2f\x20=\x20v'+'ec2f(1.0,\x20'+'255.0)\x20*\x20v'+';\x0a\x20\x20\x20\x20enc\x20'+'=\x20fract(en'+'c);\x0a\x20\x20\x20\x20en'+'c\x20=\x20enc\x20-\x20'+'enc.yy\x20*\x20('+'1.0\x20/\x20255.'+'0);\x0a\x20\x20\x20\x20re'+'turn\x20enc;\x0a'+'}\x0a\x0afn\x20enco'+'deFloatRGB'+'A(\x20v:\x20f32\x20'+')\x20->\x20vec4f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20factors\x20='+'\x20vec4f(1.0'+',\x20255.0,\x206'+'5025.0,\x2016'+'0581375.0)'+';\x0a\x20\x20\x20\x20var\x20'+'enc:\x20vec4f'+'\x20=\x20factors'+'\x20*\x20v;\x0a\x20\x20\x20\x20'+'enc\x20=\x20frac'+'t(enc);\x0a\x20\x20'+'\x20\x20enc\x20=\x20en'+'c\x20-\x20enc.yz'+'ww\x20*\x20vec4f'+'(1.0\x20/\x20255'+'.0,\x201.0\x20/\x20'+'255.0,\x201.0'+'\x20/\x20255.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'return\x20enc'+';\x0a}\x0a\x0afn\x20ge'+'tOutput()\x20'+'->\x20vec4f\x20{'+'\x0a\x20\x20\x20\x20outPo'+'s\x20=\x20outPos'+'\x20*\x20uniform'+'.outBounds'+'Mul\x20+\x20unif'+'orm.outBou'+'ndsAdd;\x0a\x20\x20'+'\x20\x20outAngle'+'\x20=\x20fract(o'+'utAngle\x20/\x20'+'PI2);\x0a\x0a\x20\x20\x20'+'\x20outVel\x20=\x20'+'(outVel\x20/\x20'+'uniform.ma'+'xVel)\x20+\x20ve'+'c3f(0.5);\x20'+'//\x20TODO:\x20m'+'ul\x0a\x0a\x20\x20\x20\x20le'+'t\x20maxNegLi'+'fe\x20=\x20max(u'+'niform.lif'+'etime,\x20(un'+'iform.numP'+'articles\x20-'+'\x201.0)\x20*\x20(u'+'niform.rat'+'e\x20+\x20unifor'+'m.rateDiv)'+');\x0a\x20\x20\x20\x20let'+'\x20maxPosLif'+'e\x20=\x20unifor'+'m.lifetime'+'\x20+\x201.0;\x0a\x20\x20'+'\x20\x20outLife\x20'+'=\x20(outLife'+'\x20+\x20maxNegL'+'ife)\x20/\x20(ma'+'xNegLife\x20+'+'\x20maxPosLif'+'e);\x0a\x0a\x20\x20\x20\x20i'+'f\x20(pcPosit'+'ion.y\x20<\x201.'+'0)\x20{\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'vec4f(enco'+'deFloatRG('+'outPos.x),'+'\x20encodeFlo'+'atRG(outPo'+'s.y));\x0a\x20\x20\x20'+('\x20}\x20else\x20if'+'\x20(pcPositi'+'on.y\x20<\x202.0'+')\x20{\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20v'+'ec4f(encod'+'eFloatRG(o'+'utPos.z),\x20'+'encodeFloa'+'tRG(outAng'+'le));\x0a\x20\x20\x20\x20'+'}\x20else\x20if\x20'+'(pcPositio'+'n.y\x20<\x203.0)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20return\x20ve'+'c4f(outVel'+',\x20visMode\x20'+'*\x200.5\x20+\x200.'+'5);\x0a\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20retur'+'n\x20encodeFl'+'oatRGBA(ou'+'tLife);\x0a\x20\x20'+'\x20\x20}\x0a}\x0a'),tO='\x0auniform\x20s'+'pawnBounds'+':\x20mat3x3f;'+'\x0auniform\x20s'+'pawnPosInn'+'erRatio:\x20v'+'ec3f;\x0a\x0afn\x20'+'calcSpawnP'+'osition(in'+'Bounds:\x20ve'+'c3f,\x20rndFa'+'ctor:\x20f32)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20var\x20'+'pos\x20=\x20inBo'+'unds\x20-\x20vec'+'3f(0.5);\x0a\x0a'+'\x20\x20\x20\x20let\x20po'+'sAbs\x20=\x20abs'+'(pos);\x0a\x20\x20\x20'+'\x20let\x20maxCo'+'mp\x20=\x20max(p'+'osAbs.x,\x20m'+'ax(posAbs.'+'y,\x20posAbs.'+'z));\x0a\x20\x20\x20\x20l'+'et\x20maxPos\x20'+'=\x20vec3f(ma'+'xComp);\x0a\x0a\x20'+'\x20\x20\x20let\x20edg'+'e\x20=\x20maxPos'+'\x20+\x20(vec3f('+'0.5)\x20-\x20max'+'Pos)\x20*\x20uni'+'form.spawn'+'PosInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'pos.x\x20=\x20ed'+'ge.x\x20*\x20sel'+'ect(2.0\x20*\x20'+'pos.x,\x20sig'+'n(pos.x),\x20'+'maxPos.x\x20='+'=\x20posAbs.x'+');\x0a\x20\x20\x20\x20pos'+'.y\x20=\x20edge.'+'y\x20*\x20select'+'(2.0\x20*\x20pos'+'.y,\x20sign(p'+'os.y),\x20max'+'Pos.y\x20==\x20p'+'osAbs.y);\x0a'+'\x20\x20\x20\x20pos.z\x20'+'=\x20edge.z\x20*'+'\x20select(2.'+'0\x20*\x20pos.z,'+'\x20sign(pos.'+'z),\x20maxPos'+'.z\x20==\x20posA'+'bs.z);\x0a\x0a\x20\x20'+'\x20\x20#ifndef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'return\x20uni'+'form.emitt'+'erPos\x20+\x20un'+'iform.spaw'+'nBounds\x20*\x20'+'pos;\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20return\x20'+'uniform.sp'+'awnBounds\x20'+'*\x20pos;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20*localV'+'elocity\x20=\x20'+'*localVelo'+'city\x20-\x20vec'+'3f(0.0,\x200.'+'0,\x20uniform'+'.initialVe'+'locity);\x0a}'+'\x0a',sO='\x0a\x20\x20\x20\x20outpu'+'t.color\x20=\x20'+'getOutput('+');\x0a\x20\x20\x20\x20ret'+'urn\x20output'+';\x0a}\x0a',iO='\x0avarying\x20v'+'Uv0:\x20vec2f'+';\x0a\x0avar\x20par'+'ticleTexIN'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20particl'+'eTexINSamp'+'ler:\x20sampl'+'er;\x0avar\x20in'+'ternalTex0'+':\x20texture_'+'2d<f32>;\x0av'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0avar\x20int'+'ernalTex1:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20internal'+'Tex1Sample'+'r:\x20sampler'+';\x0avar\x20inte'+'rnalTex2:\x20'+'texture_2d'+'<f32>;\x0avar'+'\x20internalT'+'ex2Sampler'+':\x20sampler;'+'\x0avar\x20inter'+'nalTex3:\x20t'+'exture_2d<'+'f32>;\x0avar\x20'+'internalTe'+'x3Sampler:'+'\x20sampler;\x0a'+'\x0auniform\x20e'+'mitterMatr'+'ix:\x20mat3x3'+'f;\x0auniform'+'\x20emitterMa'+'trixInv:\x20m'+'at3x3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0a\x0aun'+'iform\x20emit'+'terPos:\x20ve'+'c3f;\x0aunifo'+'rm\x20frameRa'+'ndom:\x20vec3'+'f;\x0auniform'+'\x20localVelo'+'cityDivMul'+'t:\x20vec3f;\x0a'+'uniform\x20ve'+'locityDivM'+'ult:\x20vec3f'+';\x0auniform\x20'+'delta:\x20f32'+';\x0auniform\x20'+'rate:\x20f32;'+'\x0auniform\x20r'+'ateDiv:\x20f3'+'2;\x0auniform'+'\x20lifetime:'+'\x20f32;\x0aunif'+'orm\x20numPar'+'ticles:\x20f3'+'2;\x0auniform'+'\x20rotSpeedD'+'ivMult:\x20f3'+'2;\x0auniform'+'\x20radialSpe'+'edDivMult:'+'\x20f32;\x0aunif'+'orm\x20seed:\x20'+'f32;\x0aunifo'+'rm\x20startAn'+'gle:\x20f32;\x0a'+'uniform\x20st'+'artAngle2:'+'\x20f32;\x0aunif'+'orm\x20initia'+'lVelocity:'+'\x20f32;\x0a\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0a\x0ava'+'r<private>'+'\x20inPos:\x20ve'+'c3f;\x0avar<p'+'rivate>\x20in'+'Vel:\x20vec3f'+';\x0avar<priv'+'ate>\x20inAng'+('le:\x20f32;\x0av'+'ar<private'+'>\x20inShow:\x20'+'bool;\x0avar<'+'private>\x20i'+'nLife:\x20f32'+';\x0avar<priv'+'ate>\x20visMo'+'de:\x20f32;\x0a\x0a'+'var<privat'+'e>\x20outPos:'+'\x20vec3f;\x0ava'+'r<private>'+'\x20outVel:\x20v'+'ec3f;\x0avar<'+'private>\x20o'+'utAngle:\x20f'+'32;\x0avar<pr'+'ivate>\x20out'+'Show:\x20bool'+';\x0avar<priv'+'ate>\x20outLi'+'fe:\x20f32;\x0a'),rO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tLife\x20=\x20ou'+'tLife\x20-\x20ma'+'x(uniform.'+'lifetime,\x20'+'(uniform.n'+'umParticle'+'s\x20-\x201.0)\x20*'+'\x20particleR'+'ate);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20visMod'+'e\x20=\x20-1.0;\x0a'+'\x20\x20\x20\x20}\x0a',aO='\x0a\x20\x20\x20\x20visMo'+'de\x20=\x20selec'+'t(visMode,'+'\x20-1.0,\x20out'+'Life\x20<\x200.0'+');\x0a',nO='\x0a\x20\x20\x20\x20if\x20(o'+'utLife\x20>=\x20'+'uniform.li'+'fetime)\x20{\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20le'+'t\x20subtract'+'Amount\x20=\x20m'+'ax(uniform'+'.lifetime,'+'\x20(uniform.'+'numParticl'+'es\x20-\x201.0)\x20'+'*\x20particle'+'Rate);\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20outLi'+'fe\x20=\x20outLi'+'fe\x20-\x20subtr'+'actAmount;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'isMode\x20=\x201'+'.0;\x0a\x20\x20\x20\x20}\x0a'+'\x20\x20\x20\x20visMod'+'e\x20=\x20select'+'(visMode,\x20'+'1.0,\x20outLi'+'fe\x20<\x200.0);'+'\x0a',oO='\x0auniform\x20s'+'pawnBounds'+'Sphere:\x20f3'+'2;\x0auniform'+'\x20spawnBoun'+'dsSphereIn'+'nerRatio:\x20'+'f32;\x0a\x0afn\x20c'+'alcSpawnPo'+'sition(inB'+'ounds:\x20vec'+'3f,\x20rndFac'+'tor:\x20f32)\x20'+'->\x20vec3f\x20{'+'\x0a\x20\x20\x20\x20let\x20r'+'nd4:\x20f32\x20='+'\x20fract(rnd'+'Factor\x20*\x201'+'000.0);\x0a\x20\x20'+'\x20\x20let\x20norm'+':\x20vec3f\x20=\x20'+'normalize('+'inBounds.x'+'yz\x20-\x20vec3f'+'(0.5));\x0a\x20\x20'+'\x20\x20let\x20r:\x20f'+'32\x20=\x20rnd4\x20'+'*\x20(1.0\x20-\x20u'+'niform.spa'+'wnBoundsSp'+'hereInnerR'+'atio)\x20+\x20un'+'iform.spaw'+'nBoundsSph'+'ereInnerRa'+'tio;\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20unifo'+'rm.emitter'+'Pos\x20+\x20norm'+'\x20*\x20r\x20*\x20uni'+'form.spawn'+'BoundsSphe'+'re;\x0a\x20\x20\x20\x20#e'+'lse\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20n'+'orm\x20*\x20r\x20*\x20'+'uniform.sp'+'awnBoundsS'+'phere;\x0a\x20\x20\x20'+'\x20#endif\x0a}\x0a'+'\x0afn\x20addIni'+'tialVeloci'+'ty(localVe'+'locity:\x20pt'+'r<function'+',\x20vec3f>,\x20'+'inBounds:\x20'+'vec3f)\x20{\x0a\x20'+'\x20\x20\x20let\x20ini'+'tialVelOff'+'set:\x20vec3f'+'\x20=\x20normali'+'ze(inBound'+'s\x20-\x20vec3f('+'0.5))\x20*\x20un'+'iform.init'+'ialVelocit'+'y;\x0a\x20\x20\x20\x20*lo'+'calVelocit'+'y\x20=\x20*local'+'Velocity\x20+'+'\x20initialVe'+'lOffset;\x0a}'+'\x0a',lO='\x0afn\x20satura'+'te(x:\x20f32)'+'\x20->\x20f32\x20{\x0a'+'\x20\x20\x20\x20return'+'\x20clamp(x,\x20'+'0.0,\x201.0);'+'\x0a}\x0a\x0afn\x20unp'+'ack3NFloat'+'s(src:\x20f32'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20r\x20=\x20fract'+'(src);\x0a\x20\x20\x20'+'\x20let\x20g\x20=\x20f'+'ract(src\x20*'+'\x20256.0);\x0a\x20'+'\x20\x20\x20let\x20b\x20='+'\x20fract(src'+'\x20*\x2065536.0'+');\x0a\x20\x20\x20\x20ret'+'urn\x20vec3f('+'r,\x20g,\x20b);\x0a'+'}\x0a\x0a//\x20Stru'+'ct\x20to\x20hand'+'le\x20multipl'+'e\x20return\x20v'+'alues\x20from'+'\x20tex1Dlod_'+'lerp\x0astruc'+'t\x20TexLerpU'+'npackResul'+'t\x20{\x0a\x20\x20\x20\x20re'+'sult:\x20vec3'+'f,\x0a\x20\x20\x20\x20unp'+'acked:\x20vec'+'3f\x0a}\x0a\x0afn\x20t'+'ex1Dlod_le'+'rp(tex:\x20te'+'xture_2d<f'+'32>,\x20texSa'+'mpler:\x20sam'+'pler,\x20tc:\x20'+'vec2f)\x20->\x20'+'TexLerpUnp'+'ackResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'tc_next\x20=\x20'+'tc\x20+\x20vec2f'+'(uniform.g'+'raphSample'+'Size);\x0a\x20\x20\x20'+'\x20let\x20a\x20=\x20t'+'extureSamp'+'leLevel(te'+'x,\x20texSamp'+'ler,\x20tc,\x200'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20b\x20=\x20tex'+'tureSample'+'Level(tex,'+'\x20texSample'+'r,\x20tc_next'+',\x200.0);\x0a\x20\x20'+'\x20\x20let\x20c\x20=\x20'+'fract(tc.x'+'\x20*\x20uniform'+'.graphNumS'+'amples);\x0a\x0a'+'\x20\x20\x20\x20let\x20un'+'packedA\x20=\x20'+'unpack3NFl'+'oats(a.w);'+'\x0a\x20\x20\x20\x20let\x20u'+'npackedB\x20='+'\x20unpack3NF'+'loats(b.w)'+';\x0a\x20\x20\x20\x20let\x20'+'w_out\x20=\x20mi'+'x(unpacked'+'A,\x20unpacke'+'dB,\x20c);\x0a\x0a\x20'+'\x20\x20\x20return\x20'+'TexLerpUnp'+'ackResult('+'mix(a.xyz,'+'\x20b.xyz,\x20c)'+',\x20w_out);\x0a'+'}\x0a\x0aconst\x20H'+'ASHSCALE4:'+'\x20vec4f\x20=\x20v'+'ec4f(1031.'+'0,\x200.1030,'+'\x200.0973,\x200'+'.1099);\x0afn'+'\x20hash41(p:'+'\x20f32)\x20->\x20v'+'ec4f\x20{\x0a\x20\x20\x20'+'\x20var\x20p4\x20=\x20'+'fract(vec4'+'f(p)\x20*\x20HAS'+('HSCALE4);\x0a'+'\x20\x20\x20\x20p4\x20=\x20p'+'4\x20+\x20dot(p4'+',\x20p4.wzxy\x20'+'+\x2019.19);\x0a'+'\x20\x20\x20\x20return'+'\x20fract(vec'+'4f((p4.x\x20+'+'\x20p4.y)*p4.'+'z,\x20(p4.x\x20+'+'\x20p4.z)*p4.'+'y,\x20(p4.y\x20+'+'\x20p4.z)*p4.'+'w,\x20(p4.z\x20+'+'\x20p4.w)*p4.'+'x));\x0a}\x0a\x0a@f'+'ragment\x0afn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x0a'+'\x20\x20\x20\x20if\x20(pc'+'Position.x'+'\x20>\x20uniform'+'.numPartic'+'les)\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20disca'+'rd;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20return\x20o'+'utput;\x0a\x20\x20\x20'+'\x20}\x0a\x0a\x20\x20\x20\x20re'+'adInput(in'+'put.vUv0.x'+');\x0a\x20\x20\x20\x20vis'+'Mode\x20=\x20sel'+'ect(-1.0,\x20'+'1.0,\x20inSho'+'w);\x0a\x0a\x20\x20\x20\x20l'+'et\x20rndFact'+'or\x20=\x20hash4'+'1(pcPositi'+'on.x\x20+\x20uni'+'form.seed)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20particleR'+'ate\x20=\x20unif'+'orm.rate\x20+'+'\x20uniform.r'+'ateDiv\x20*\x20r'+'ndFactor.x'+';\x0a\x0a\x20\x20\x20\x20out'+'Life\x20=\x20inL'+'ife\x20+\x20unif'+'orm.delta;'+'\x0a\x20\x20\x20\x20let\x20n'+'life\x20=\x20cla'+'mp(outLife'+'\x20/\x20uniform'+'.lifetime,'+'\x200.0,\x201.0)'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t0\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'0,\x20interna'+'lTex0Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20va'+'r\x20localVel'+'ocity\x20=\x20le'+'rpResult0.'+'result;\x0a\x20\x20'+'\x20\x20let\x20loca'+'lVelocityD'+'iv\x20=\x20lerpR'+'esult0.unp'+'acked;\x0a\x0a\x20\x20'+'\x20\x20let\x20lerp'+'Result1\x20=\x20'+'tex1Dlod_l'+'erp(intern'+'alTex1,\x20in'+'ternalTex1'+'Sampler,\x20v'+'ec2f(nlife'+',\x200.0));\x0a\x20'+'\x20\x20\x20var\x20vel'+'ocity\x20=\x20le'+'rpResult1.'+'result;\x0a\x20\x20'+'\x20\x20let\x20velo'+'cityDiv\x20=\x20'+'lerpResult')+('1.unpacked'+';\x0a\x0a\x20\x20\x20\x20let'+'\x20lerpResul'+'t2\x20=\x20tex1D'+'lod_lerp(i'+'nternalTex'+'2,\x20interna'+'lTex2Sampl'+'er,\x20vec2f('+'nlife,\x200.0'+'));\x0a\x20\x20\x20\x20le'+'t\x20params\x20='+'\x20lerpResul'+'t2.result;'+'\x0a\x20\x20\x20\x20let\x20p'+'aramDiv\x20=\x20'+'lerpResult'+'2.unpacked'+';\x0a\x20\x20\x20\x20var\x20'+'rotSpeed\x20='+'\x20params.x;'+'\x0a\x20\x20\x20\x20let\x20r'+'otSpeedDiv'+'\x20=\x20paramDi'+'v.y;\x0a\x0a\x20\x20\x20\x20'+'let\x20lerpRe'+'sult3\x20=\x20te'+'x1Dlod_ler'+'p(internal'+'Tex3,\x20inte'+'rnalTex3Sa'+'mpler,\x20vec'+'2f(nlife,\x20'+'0.0));\x0a\x20\x20\x20'+'\x20let\x20radia'+'lParams\x20=\x20'+'lerpResult'+'3.result;\x0a'+'\x20\x20\x20\x20let\x20ra'+'dialParamD'+'iv\x20=\x20lerpR'+'esult3.unp'+'acked;\x0a\x20\x20\x20'+'\x20let\x20radia'+'lSpeed\x20=\x20r'+'adialParam'+'s.x;\x0a\x20\x20\x20\x20l'+'et\x20radialS'+'peedDiv\x20=\x20'+'radialPara'+'mDiv.y;\x0a\x0a\x20'+'\x20\x20\x20let\x20res'+'pawn\x20=\x20inL'+'ife\x20<=\x200.0'+'\x20||\x20outLif'+'e\x20>=\x20unifo'+'rm.lifetim'+'e;\x0a\x20\x20\x20\x20inP'+'os\x20=\x20selec'+'t(inPos,\x20c'+'alcSpawnPo'+'sition(rnd'+'Factor.xyz'+',\x20rndFacto'+'r.x),\x20resp'+'awn);\x0a\x20\x20\x20\x20'+'inAngle\x20=\x20'+'select(inA'+'ngle,\x20mix('+'uniform.st'+'artAngle,\x20'+'uniform.st'+'artAngle2,'+'\x20rndFactor'+'.x),\x20respa'+'wn);\x0a\x0a\x20\x20\x20\x20'+'#ifndef\x20LO'+'CAL_SPACE\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20va'+'r\x20radialVe'+'l:\x20vec3f\x20='+'\x20inPos\x20-\x20u'+'niform.emi'+'tterPos;\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20radialVel'+':\x20vec3f\x20=\x20'+'inPos;\x0a\x20\x20\x20'+'\x20#endif\x0a\x20\x20'+'\x20\x20radialVe'+'l\x20=\x20select'+'(vec3f(0.0'+'),\x20radialS'+'peed\x20*\x20nor'+'malize(rad'+'ialVel),\x20d'+'ot(radialV'+'el,\x20radial'+'Vel)\x20>\x201.0')+('E-8);\x0a\x20\x20\x20\x20'+'radialVel\x20'+'=\x20radialVe'+'l\x20+\x20(radia'+'lSpeedDiv\x20'+'*\x20vec3f(2.'+'0)\x20-\x20vec3f'+'(1.0))\x20*\x20u'+'niform.rad'+'ialSpeedDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x0a\x20\x20\x20\x20lo'+'calVelocit'+'y\x20=\x20localV'+'elocity\x20+\x20'+'(localVelo'+'cityDiv\x20*\x20'+'vec3f(2.0)'+'\x20-\x20vec3f(1'+'.0))\x20*\x20uni'+'form.local'+'VelocityDi'+'vMult\x20*\x20rn'+'dFactor.xy'+'z;\x0a\x20\x20\x20\x20vel'+'ocity\x20=\x20ve'+'locity\x20+\x20('+'velocityDi'+'v\x20*\x20vec3f('+'2.0)\x20-\x20vec'+'3f(1.0))\x20*'+'\x20uniform.v'+'elocityDiv'+'Mult\x20*\x20rnd'+'Factor.xyz'+';\x0a\x20\x20\x20\x20rotS'+'peed\x20=\x20rot'+'Speed\x20+\x20(r'+'otSpeedDiv'+'\x20*\x202.0\x20-\x201'+'.0)\x20*\x20unif'+'orm.rotSpe'+'edDivMult\x20'+'*\x20rndFacto'+'r.y;\x0a\x0a\x20\x20\x20\x20'+'addInitial'+'Velocity(&'+'localVeloc'+'ity,\x20rndFa'+'ctor.xyz);'+'\x0a\x0a\x20\x20\x20\x20#ifn'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20outVel'+'\x20=\x20uniform'+'.emitterMa'+'trix\x20*\x20loc'+'alVelocity'+'\x20+\x20(radial'+'Vel\x20+\x20velo'+'city)\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20ou'+'tVel\x20=\x20(lo'+'calVelocit'+'y\x20+\x20radial'+'Vel)\x20/\x20uni'+'form.emitt'+'erScale\x20+\x20'+'uniform.em'+'itterMatri'+'xInv\x20*\x20vel'+'ocity;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20outPos\x20'+'=\x20inPos\x20+\x20'+'outVel\x20*\x20u'+'niform.del'+'ta;\x0a\x20\x20\x20\x20ou'+'tAngle\x20=\x20i'+'nAngle\x20+\x20r'+'otSpeed\x20*\x20'+'uniform.de'+'lta;\x0a'),cO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'billboard('+'particlePo'+'s,\x20rotated'+'QuadXY);\x0a',hO='\x0a\x20\x20\x20\x20dBlen'+'dModeFogFa'+'ctor\x20=\x200.0'+';\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20sa'+'turate(gam'+'maCorrectI'+'nput(max(a'+',\x200.0)));\x0a'+'\x20\x20\x20\x20if\x20((r'+'gb.r\x20+\x20rgb'+'.g\x20+\x20rgb.b'+')\x20<\x200.0000'+'01)\x20{\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20discar'+'d;\x0a\x20\x20\x20\x20}\x20\x20'+'\x20\x20\x0a',dO='\x0a\x20\x20\x20\x20rgb\x20='+'\x20mix(vec3f'+'(1.0),\x20rgb'+',\x20a);\x0a\x20\x20\x20\x20'+'if\x20((rgb.r'+'\x20+\x20rgb.g\x20+'+'\x20rgb.b)\x20>\x20'+'2.99)\x20{\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20disc'+'ard;\x0a\x20\x20\x20\x20}'+'\x0a',fO='\x0a\x20\x20\x20\x20if\x20(a'+'\x20<\x200.01)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20d'+'iscard;\x0a\x20\x20'+'\x20\x20}\x0a',uO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20\x20'+'\x20//\x20XYZ\x20=\x20'+'world\x20pos,'+'\x20W\x20=\x20life\x0a'+'attribute\x20'+'particle_v'+'ertexData2'+':\x20vec4f;\x20\x20'+'//\x20X\x20=\x20ang'+'le,\x20Y\x20=\x20sc'+'ale,\x20Z\x20=\x20a'+'lpha,\x20W\x20=\x20'+'velocity.x'+'\x0aattribute'+'\x20particle_'+'vertexData'+'3:\x20vec4f;\x20'+'\x20//\x20XYZ\x20=\x20'+'particle\x20l'+'ocal\x20pos,\x20'+'W\x20=\x20veloci'+'ty.y\x0aattri'+'bute\x20parti'+'cle_vertex'+'Data4:\x20f32'+';\x20\x20\x20\x20//\x20pa'+'rticle\x20id\x0a'+'\x0a//\x20type\x20d'+'epends\x20on\x20'+'useMesh\x20pr'+'operty.\x20St'+'art\x20with\x20X'+'\x20=\x20velocit'+'y.z,\x20Y\x20=\x20p'+'article\x20ID'+'\x20and\x20for\x20m'+'esh\x20partic'+'les\x20procee'+'ds\x20with\x20Z\x20'+'=\x20mesh\x20UV.'+'x,\x20W\x20=\x20mes'+'h\x20UV.y\x0a#if'+'ndef\x20USE_M'+'ESH\x0a\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_ver'+'texData5:\x20'+'vec2f;\x0a#el'+'se\x0a\x20\x20\x20\x20att'+'ribute\x20par'+'ticle_vert'+'exData5:\x20v'+'ec4f;\x0a#end'+'if\x0a\x0aunifor'+'m\x20matrix_v'+'iewProject'+'ion:\x20mat4x'+'4f;\x0aunifor'+'m\x20matrix_m'+'odel:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20ma'+'trix_norma'+'l:\x20mat3x3f'+';\x0auniform\x20'+'matrix_vie'+'wInverse:\x20'+'mat4x4f;\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20lifet'+'ime:\x20f32;\x0a'+'uniform\x20st'+'retch:\x20f32'+';\x0auniform\x20'+'seed:\x20f32;'+'\x0auniform\x20w'+'rapBounds:'+'\x20vec3f;\x0aun'+'iform\x20emit'+'terScale:\x20'+'vec3f;\x0auni'+'form\x20faceT'+'angent:\x20ve'+'c3f;\x0aunifo'+'rm\x20faceBin'+'orm:\x20vec3f'+';\x0a\x0a#ifdef\x20'+('PARTICLE_G'+'PU\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex0:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x0Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex1'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex1S'+'ampler:\x20sa'+'mpler;\x0a\x20\x20\x20'+'\x20var\x20inter'+'nalTex2:\x20t'+'exture_2d<'+'f32>;\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex2Samp'+'ler:\x20sampl'+'er;\x0a#endif'+'\x0auniform\x20e'+'mitterPos:'+'\x20vec3f;\x0a\x0av'+'arying\x20tex'+'CoordsAlph'+'aLife:\x20vec'+'4f;\x0a\x0astruc'+'t\x20RotateRe'+'sult\x20{\x0a\x20\x20\x20'+'\x20rotatedVe'+'c:\x20vec2f,\x0a'+'\x20\x20\x20\x20matrix'+':\x20mat2x2f\x0a'+'}\x0a\x0afn\x20rota'+'teWithMatr'+'ix(quadXY:'+'\x20vec2f,\x20pR'+'otation:\x20f'+'32)\x20->\x20Rot'+'ateResult\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'c\x20=\x20cos(pR'+'otation);\x0a'+'\x20\x20\x20\x20let\x20s\x20'+'=\x20sin(pRot'+'ation);\x0a\x20\x20'+'\x20\x20let\x20m\x20=\x20'+'mat2x2f(ve'+'c2f(c,\x20s),'+'\x20vec2f(-s,'+'\x20c));\x0a\x20\x20\x20\x20'+'return\x20Rot'+'ateResult('+'m\x20*\x20quadXY'+',\x20m);\x0a}\x0a\x0a\x0a'+'fn\x20billboa'+'rd(Instanc'+'eCoords:\x20v'+'ec3f,\x20quad'+'XY:\x20vec2f)'+'\x20->\x20vec3f\x20'+'{\x0a\x20\x20\x20\x20let\x20'+'pos\x20=\x20-uni'+'form.matri'+'x_viewInve'+'rse[0].xyz'+'\x20*\x20quadXY.'+'x\x20+\x20-unifo'+'rm.matrix_'+'viewInvers'+'e[1].xyz\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20customF'+'ace(Instan'+'ceCoords:\x20'+'vec3f,\x20qua'+'dXY:\x20vec2f'+')\x20->\x20vec3f'+'\x20{\x0a\x20\x20\x20\x20let'+'\x20pos\x20=\x20uni'+'form.faceT'+'angent\x20*\x20q'+'uadXY.x\x20+\x20'+'uniform.fa'+'ceBinorm\x20*'+'\x20quadXY.y;'+'\x0a\x20\x20\x20\x20retur'+'n\x20pos;\x0a}\x0a\x0a'+'fn\x20safeNor'+'malize(v:\x20'+'vec2f)\x20->\x20'+'vec2f\x20{\x0a\x20\x20'+'\x20\x20let\x20l\x20=\x20')+('length(v);'+'\x0a\x20\x20\x20\x20retur'+'n\x20select(v'+',\x20v\x20/\x20l,\x20l'+'\x20>\x201e-06);'+'\x0a}\x0a\x0a@verte'+'x\x0afn\x20verte'+'xMain(inpu'+'t:\x20VertexI'+'nput)\x20->\x20V'+'ertexOutpu'+'t\x20{\x0a\x20\x20\x20\x20va'+'r\x20output:\x20'+'VertexOutp'+'ut;\x0a\x0a\x20\x20\x20\x20v'+'ar\x20particl'+'ePos\x20=\x20inp'+'ut.particl'+'e_vertexDa'+'ta.xyz;\x0a\x20\x20'+'\x20\x20let\x20inPo'+'s\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20let\x20vertP'+'os\x20=\x20input'+'.particle_'+'vertexData'+'3.xyz;\x0a\x20\x20\x20'+'\x20var\x20inVel'+'\x20=\x20vec3f(i'+'nput.parti'+'cle_vertex'+'Data2.w,\x20i'+'nput.parti'+'cle_vertex'+'Data3.w,\x20i'+'nput.parti'+'cle_vertex'+'Data5.x);\x0a'+'\x0a\x20\x20\x20\x20let\x20i'+'d\x20=\x20floor('+'input.part'+'icle_verte'+'xData4);\x0a\x20'+'\x20\x20\x20let\x20rnd'+'Factor\x20=\x20f'+'ract(sin(i'+'d\x20+\x201.0\x20+\x20'+'uniform.se'+'ed));\x0a\x20\x20\x20\x20'+'let\x20rndFac'+'tor3\x20=\x20vec'+'3f(rndFact'+'or,\x20fract('+'rndFactor*'+'10.0),\x20fra'+'ct(rndFact'+'or*100.0))'+';\x0a\x0a\x20\x20\x20\x20#if'+'def\x20LOCAL_'+'SPACE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20let\x20mo'+'delRotatio'+'n\x20=\x20mat3x3'+'f(uniform.'+'matrix_mod'+'el[0].xyz,'+'\x20uniform.m'+'atrix_mode'+'l[1].xyz,\x20'+'uniform.ma'+'trix_model'+'[2].xyz);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20in'+'Vel\x20=\x20mode'+'lRotation\x20'+'*\x20inVel;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x20\x20\x20\x20let\x20ve'+'locityV\x20=\x20'+'safeNormal'+'ize((mat3x'+'3f(uniform'+'.matrix_vi'+'ew[0].xyz,'+'\x20uniform.m'+'atrix_view'+'[1].xyz,\x20u'+'niform.mat'+'rix_view[2'+'].xyz)\x20*\x20i'+'nVel).xy);'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'quadXY\x20=\x20v'+'ertPos.xy;'+'\x0a\x0a\x20\x20\x20\x20#ifd'+'ef\x20USE_MES'+'H\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'output.tex'+'CoordsAlph')+('aLife\x20=\x20ve'+'c4f(input.'+'particle_v'+'ertexData5'+'.zw,\x20input'+'.particle_'+'vertexData'+'2.z,\x20input'+'.particle_'+'vertexData'+'.w);\x0a\x20\x20\x20\x20#'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20output.'+'texCoordsA'+'lphaLife\x20='+'\x20vec4f(qua'+'dXY\x20*\x20-0.5'+'\x20+\x200.5,\x20in'+'put.partic'+'le_vertexD'+'ata2.z,\x20in'+'put.partic'+'le_vertexD'+'ata.w);\x0a\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20var\x20rot'+'Matrix:\x20ma'+'t2x2f;\x0a\x0a\x20\x20'+'\x20\x20var\x20inAn'+'gle\x20=\x20inpu'+'t.particle'+'_vertexDat'+'a2.x;\x0a\x20\x20\x20\x20'+'var\x20partic'+'lePosMoved'+'\x20=\x20vec3f(0'+'.0);\x0a\x20\x20\x20\x20l'+'et\x20meshLoc'+'alPos\x20=\x20in'+'put.partic'+'le_vertexD'+'ata3.xyz;\x0a'),pO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20inp'+'ut.particl'+'e_vertexDa'+'ta2.y\x20*\x20un'+'iform.emit'+'terScale;\x0a'+'\x20\x20\x20\x20localP'+'os\x20=\x20local'+'Pos\x20+\x20part'+'iclePos;\x0a\x0a'+'\x20\x20\x20\x20output'+'.position\x20'+'=\x20uniform.'+'matrix_vie'+'wProjectio'+'n\x20*\x20vec4f('+'localPos,\x20'+'1.0);\x0a',mO='\x0a\x20\x20\x20\x20let\x20r'+'otationRes'+'ult\x20=\x20rota'+'teWithMatr'+'ix(quadXY,'+'\x20inAngle);'+'\x0a\x20\x20\x20\x20let\x20r'+'otatedQuad'+'XY\x20=\x20rotat'+'ionResult.'+'rotatedVec'+';\x0a\x20\x20\x20\x20rotM'+'atrix\x20=\x20ro'+'tationResu'+'lt.matrix;'+'\x0a\x20\x20\x20\x20var\x20l'+'ocalPos\x20=\x20'+'customFace'+'(particleP'+'os,\x20rotate'+'dQuadXY);\x0a',_O='\x0a\x20\x20\x20\x20rgb\x20='+'\x20addFog(rg'+'b);\x0a\x20\x20\x20\x20rg'+'b\x20=\x20toneMa'+'p(rgb);\x0a\x20\x20'+'\x20\x20rgb\x20=\x20ga'+'mmaCorrect'+'Output(rgb'+');\x0a\x20\x20\x20\x20out'+'put.color\x20'+'=\x20vec4f(rg'+'b,\x20a);\x0a\x20\x20\x20'+'\x20return\x20ou'+'tput;\x0a}\x0a',gO='\x0a\x20\x20\x20\x20local'+'Pos\x20=\x20loca'+'lPos\x20*\x20sca'+'le\x20*\x20unifo'+'rm.emitter'+'Scale;\x0a\x20\x20\x20'+'\x20localPos\x20'+'=\x20localPos'+'\x20+\x20particl'+'ePos;\x0a\x0a\x20\x20\x20'+'\x20#ifdef\x20SC'+'REEN_SPACE'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20o'+'utput.posi'+'tion\x20=\x20vec'+'4f(localPo'+'s.x,\x20local'+'Pos.y,\x200.0'+',\x201.0);\x0a\x20\x20'+'\x20\x20#else\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20outp'+'ut.positio'+'n\x20=\x20unifor'+'m.matrix_v'+'iewProject'+'ion\x20*\x20vec4'+'f(localPos'+'.xyz,\x201.0)'+';\x0a\x20\x20\x20\x20#end'+'if\x0a',SO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20no'+'rmal\x20*\x200.5'+'\x20+\x200.5;\x0a\x20\x20'+'\x20\x20var\x20posN'+'ormal:\x20vec'+'3f\x20=\x20-norm'+'al\x20*\x200.5\x20+'+'\x200.5;\x0a\x20\x20\x20\x20'+'negNormal\x20'+'=\x20negNorma'+'l\x20*\x20negNor'+'mal;\x0a\x20\x20\x20\x20p'+'osNormal\x20='+'\x20posNormal'+'\x20*\x20posNorm'+'al;\x0a',yO='\x0aattribute'+'\x20particle_'+'vertexData'+':\x20vec4f;\x20/'+'/\x20XYZ\x20=\x20pa'+'rticle\x20pos'+'ition,\x20W\x20='+'\x20particle\x20'+'ID\x20+\x20rando'+'m\x20factor\x0a#'+'if\x20defined'+'(USE_MESH)'+'\x0a\x20\x20\x20\x20#if\x20d'+'efined(USE'+'_MESH_UV)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20at'+'tribute\x20pa'+'rticle_uv:'+'\x20vec2f;\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20//\x20m'+'esh\x20UV\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var<p'+'rivate>\x20pa'+'rticle_uv:'+'\x20vec2f\x20=\x20v'+'ec2f(0.0,\x20'+'0.0);\x0a\x20\x20\x20\x20'+'#endif\x0a#en'+'dif\x0a\x0aunifo'+'rm\x20matrix_'+'viewProjec'+'tion:\x20mat4'+'x4f;\x0aunifo'+'rm\x20matrix_'+'model:\x20mat'+'4x4f;\x0aunif'+'orm\x20matrix'+'_normal:\x20m'+'at3x3f;\x0aun'+'iform\x20matr'+'ix_viewInv'+'erse:\x20mat4'+'x4f;\x0a\x0a#ifn'+'def\x20VIEWMA'+'TRIX\x0a\x20\x20\x20\x20#'+'define\x20VIE'+'WMATRIX\x0a\x20\x20'+'\x20\x20uniform\x20'+'matrix_vie'+'w:\x20mat4x4f'+';\x0a#endif\x0a\x0a'+'uniform\x20nu'+'mParticles'+':\x20f32;\x0auni'+'form\x20numPa'+'rticlesPot'+':\x20f32;\x0auni'+'form\x20graph'+'SampleSize'+':\x20f32;\x0auni'+'form\x20graph'+'NumSamples'+':\x20f32;\x0auni'+'form\x20stret'+'ch:\x20f32;\x0au'+'niform\x20wra'+'pBounds:\x20v'+'ec3f;\x0aunif'+'orm\x20emitte'+'rScale:\x20ve'+'c3f;\x0aunifo'+'rm\x20emitter'+'Pos:\x20vec3f'+';\x0auniform\x20'+'faceTangen'+'t:\x20vec3f;\x0a'+'uniform\x20fa'+'ceBinorm:\x20'+'vec3f;\x0auni'+'form\x20rate:'+'\x20f32;\x0aunif'+'orm\x20rateDi'+'v:\x20f32;\x0aun'+'iform\x20life'+'time:\x20f32;'+'\x0auniform\x20d'+'eltaRandom'+'nessStatic'+':\x20f32;\x0auni'+'form\x20scale'+'DivMult:\x20f'+'32;\x0aunifor'+'m\x20alphaDiv'+'Mult:\x20f32;'+'\x0auniform\x20s'+'eed:\x20f32;\x0a'+'uniform\x20de'+'lta:\x20f32;\x0a'+'\x0avar\x20parti'+('cleTexOUT:'+'\x20texture_2'+'d<f32>;\x0ava'+'r\x20particle'+'TexOUTSamp'+'ler:\x20sampl'+'er;\x0avar\x20pa'+'rticleTexI'+'N:\x20texture'+'_2d<f32>;\x0a'+'var\x20partic'+'leTexINSam'+'pler:\x20samp'+'ler;\x0a\x0a#ifd'+'ef\x20PARTICL'+'E_GPU\x0a\x20\x20\x20\x20'+'var\x20intern'+'alTex0:\x20te'+'xture_2d<f'+'32>;\x0a\x20\x20\x20\x20v'+'ar\x20interna'+'lTex0Sampl'+'er:\x20sample'+'r;\x0a\x20\x20\x20\x20var'+'\x20internalT'+'ex1:\x20textu'+'re_2d<f32>'+';\x0a\x20\x20\x20\x20var\x20'+'internalTe'+'x1Sampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20var\x20in'+'ternalTex2'+':\x20texture_'+'2d<f32>;\x0a\x20'+'\x20\x20\x20var\x20int'+'ernalTex2S'+'ampler:\x20sa'+'mpler;\x0a#en'+'dif\x0a\x0a#ifnd'+'ef\x20CAMERAP'+'LANES\x0a\x20\x20\x20\x20'+'#define\x20CA'+'MERAPLANES'+'\x0a\x20\x20\x20\x20unifo'+'rm\x20camera_'+'params:\x20ve'+'c4f;\x0a#endi'+'f\x0a\x0avarying'+'\x20texCoords'+'AlphaLife:'+'\x20vec4f;\x0a\x0av'+'ar<private'+'>\x20inPos:\x20v'+'ec3f;\x0avar<'+'private>\x20i'+'nVel:\x20vec3'+'f;\x0avar<pri'+'vate>\x20inAn'+'gle:\x20f32;\x0a'+'var<privat'+'e>\x20inShow:'+'\x20bool;\x0avar'+'<private>\x20'+'inLife:\x20f3'+'2;\x0a'),vO='\x0a\x20\x20\x20\x20var\x20n'+'egNormal:\x20'+'vec3f\x20=\x20ma'+'x(normal,\x20'+'vec3(0.0))'+';\x0a\x20\x20\x20\x20var\x20'+'posNormal:'+'\x20vec3f\x20=\x20m'+'ax(-normal'+',\x20vec3(0.0'+'));\x0a',xO='\x0a\x20\x20\x20\x20let\x20l'+'ight:\x20vec3'+'f\x20=\x20negNor'+'mal.x\x20*\x20un'+'iform.ligh'+'tCube[0]\x20+'+'\x20posNormal'+'.x\x20*\x20unifo'+'rm.lightCu'+'be[1]\x20+\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20negNormal'+'.y\x20*\x20unifo'+'rm.lightCu'+'be[2]\x20+\x20po'+'sNormal.y\x20'+'*\x20uniform.'+'lightCube['+'3]\x20+\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20ne'+'gNormal.z\x20'+'*\x20uniform.'+'lightCube['+'4]\x20+\x20posNo'+'rmal.z\x20*\x20u'+'niform.lig'+'htCube[5];'+'\x0a\x0a\x20\x20\x20\x20rgb\x20'+'=\x20rgb\x20*\x20li'+'ght;\x0a',TO='\x0aparticleP'+'os\x20=\x20(unif'+'orm.matrix'+'_model\x20*\x20v'+'ec4f(parti'+'clePos,\x201.'+'0)).xyz;\x0a',wO='\x0avar\x20local'+'Pos\x20=\x20mesh'+'LocalPos;\x0a'+'let\x20rotRes'+'ultXY\x20=\x20ro'+'tateWithMa'+'trix(local'+'Pos.xy,\x20in'+'Angle);\x0alo'+'calPos\x20=\x20v'+'ec3f(rotRe'+'sultXY.rot'+'atedVec,\x20l'+'ocalPos.z)'+';\x0arotMatri'+'x\x20=\x20rotRes'+'ultXY.matr'+'ix;\x0a\x0alet\x20r'+'otResultYZ'+'\x20=\x20rotateW'+'ithMatrix('+'localPos.y'+'z,\x20inAngle'+');\x0alocalPo'+'s\x20=\x20vec3f('+'localPos.x'+',\x20rotResul'+'tYZ.rotate'+'dVec);\x0arot'+'Matrix\x20=\x20r'+'otResultYZ'+'.matrix;\x0a\x0a'+'billboard('+'particlePo'+'s,\x20quadXY)'+';\x0a',EO='\x0aoutput.No'+'rmal\x20=\x20nor'+'malize(loc'+'alPos\x20+\x20un'+'iform.matr'+'ix_viewInv'+'erse[2].xy'+'z);\x0a',bO='\x0a\x20\x20\x20\x20let\x20s'+'ampledNorm'+'al:\x20vec4f\x20'+'=\x20textureS'+'ample(norm'+'alMap,\x20nor'+'malMapSamp'+'ler,\x20vec2f'+'(input.tex'+'CoordsAlph'+'aLife.x,\x201'+'.0\x20-\x20input'+'.texCoords'+'AlphaLife.'+'y));\x0a\x20\x20\x20\x20l'+'et\x20normalM'+'ap:\x20vec3f\x20'+'=\x20normaliz'+'e(sampledN'+'ormal.xyz\x20'+'*\x202.0\x20-\x201.'+'0);\x0a\x0a\x20\x20\x20\x20l'+'et\x20Particl'+'eMat\x20=\x20mat'+'3x3<f32>(P'+'articleMat'+'0,\x20Particl'+'eMat1,\x20Par'+'ticleMat2)'+';\x0a\x20\x20\x20\x20let\x20'+'normal:\x20ve'+'c3f\x20=\x20Part'+'icleMat\x20*\x20'+'normalMap;'+'\x0a',AO='\x0a\x20\x20\x20\x20//\x20no'+'t\x20the\x20fast'+'est\x20way,\x20b'+'ut\x20easier\x20'+'to\x20plug\x20in'+';\x20TODO:\x20cr'+'eate\x20rot\x20m'+'atrix\x20righ'+'t\x20from\x20vec'+'tors\x0a\x20\x20\x20\x20i'+'nAngle\x20=\x20a'+'tan2(veloc'+'ityV.x,\x20ve'+'locityV.y)'+';\x0a',CO='\x0a\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'InitPS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'PACK8\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leInputRgb'+'a8PS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leOutputRg'+'ba8PS\x22\x0a\x20\x20\x20'+'\x20#else\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleInputFl'+'oatPS\x22\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleOutputF'+'loatPS\x22\x0a\x20\x20'+'\x20\x20#endif\x0a\x0a'+'\x20\x20\x20\x20#ifdef'+'\x20EMITTERSH'+'APE_BOX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rAABBPS\x22\x0a\x20'+'\x20\x20\x20#else\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticleUpdat'+'erSpherePS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terStartPS'+'\x22\x0a\x0a\x20\x20\x20\x20#if'+'def\x20RESPAW'+'N\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleUp'+'daterRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20N'+'O_RESPAWN\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22pa'+'rticleUpda'+'terNoRespa'+'wnPS\x22\x0a\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20#ifdef\x20O'+'N_STOP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleUpdater'+'OnStopPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icleUpdate'+'rEndPS\x22\x0a',PO='\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20!=\x20N'+'ONE\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20VERT'+'EX\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20varyi'+'ng\x20Normal:'+'\x20vec3f;\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#end'+'if\x0a\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#if\x20NORM'+'AL\x20==\x20MAP\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20varying\x20'+'ParticleMa'+'t0:\x20vec3f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Particle'+'Mat2:\x20vec3'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20uni'+'form\x20light'+'Cube:\x20arra'+'y<vec3f,\x206'+'>;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20SOFT'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'arying\x20vDe'+'pth:\x20f32;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20#i'+'nclude\x20\x22sc'+'reenDepthP'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'include\x20\x22g'+'ammaPS\x22\x0a\x20\x20'+'\x20\x20#include'+'\x20\x22tonemapp'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#include\x20'+'\x22fogPS\x22\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20==\x20MAP'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'ap:\x20textur'+'e_2d<f32>;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20v'+'ar\x20normalM'+'apSampler:'+'\x20sampler;\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'iclePS\x22\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#if\x20'+'NORMAL\x20==\x20'+'VERTEX\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20n'+'ormal:\x20vec'+'3f\x20=\x20Norma'+'l;\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'if\x20NORMAL\x20'+'==\x20MAP\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_normal'+'MapPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20NOR'+'MAL\x20!=\x20NON'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#ifdef\x20HAL'+'F_LAMBERT\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_halflambe'+'rtPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#else\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_lambertPS'+'\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+('#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_light'+'ingPS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#if\x20BLE'+'ND\x20==\x20NORM'+'AL\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendNorma'+'lPS\x22\x0a\x20\x20\x20\x20#'+'elif\x20BLEND'+'\x20==\x20ADDITI'+'VE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22particle_'+'blendAddPS'+'\x22\x0a\x20\x20\x20\x20#eli'+'f\x20BLEND\x20=='+'\x20MULTIPLIC'+'ATIVE\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_blendMu'+'ltiplyPS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_endPS'+'\x22\x0a'),MO='\x0a\x20\x20\x20\x20#ifde'+'f\x20ANIMTEX\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20un'+'iform\x20anim'+'TexTilesPa'+'rams:\x20vec2'+'f;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20uniform\x20a'+'nimTexPara'+'ms:\x20vec4f;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'niform\x20ani'+'mTexIndexP'+'arams:\x20vec'+'2f;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#if\x20NORMAL'+'\x20==\x20MAP\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20vary'+'ing\x20Partic'+'leMat0:\x20ve'+'c3f;\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20ParticleM'+'at1:\x20vec3f'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'varying\x20Pa'+'rticleMat2'+':\x20vec3f;\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#if\x20N'+'ORMAL\x20==\x20V'+'ERTEX\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20varyin'+'g\x20Normal:\x20'+'vec3f;\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20varying'+'\x20vDepth:\x20f'+'32;\x0a\x20\x20\x20\x20#e'+'ndif\x0a\x0a\x20\x20\x20\x20'+'#ifdef\x20PAR'+'TICLE_GPU\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_in'+'itVS\x22\x0a\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20#ifde'+'f\x20PACK8\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particleIn'+'putRgba8PS'+'\x22\x20\x20\x20\x20\x20//\x20w'+'hy\x20are\x20the'+'se\x20PS\x20and\x20'+'not\x20VS?\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x20\x22parti'+'cleInputFl'+'oatPS\x22\x20\x20\x20\x20'+'//\x20why\x20are'+'\x20these\x20PS\x20'+'and\x20not\x20VS'+'?\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#endif\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#ifd'+'ef\x20SOFT\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'screenDept'+'hPS\x22\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'articleVS\x22'+'\x0a\x0a\x20\x20\x20\x20#els'+'e\x20//\x20PARTI'+'CLE_CPU\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#if'+'def\x20SOFT\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20#include\x20'+'\x22screenDep'+'thPS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_c'+'puVS\x22\x0a\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'LOCAL_SPAC'+'E\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'#include\x20\x22'+'particle_l'+('ocalShiftV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20ANIM'+'TEX\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#ifdef\x20A'+'NIMTEX_LOO'+'P\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimFram'+'eLoopVS\x22\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#el'+'se\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cleAnimFra'+'meClampVS\x22'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'endif\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'leAnimTexV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20/'+'/\x20wrap\x20is\x20'+'not\x20used\x20o'+'n\x20CPU,\x20it\x20'+'was\x20commen'+'ted\x20out.\x20T'+'ODO:\x20inves'+'tigate\x20why'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20PARTICLE'+'_GPU\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#ifdef\x20'+'WRAP\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_wrap'+'VS\x22\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#endif\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20ALIGN_TO'+'_MOTION\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_point'+'AlongVS\x22\x0a\x20'+'\x20\x20\x20#endif\x0a'+'\x0a\x20\x20\x20\x20#ifde'+'f\x20USE_MESH'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20#'+'include\x20\x22p'+'article_me'+'shVS\x22\x0a\x20\x20\x20\x20'+'#else\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#ifdef'+'\x20CUSTOM_FA'+'CE\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20#incl'+'ude\x20\x22parti'+'cle_custom'+'FaceVS\x22\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#els'+'e\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20#inclu'+'de\x20\x22partic'+'le_billboa'+'rdVS\x22\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20#endif'+'\x0a\x20\x20\x20\x20#endi'+'f\x0a\x0a\x20\x20\x20\x20#if'+'\x20NORMAL\x20=='+'\x20VERTEX\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20#inc'+'lude\x20\x22part'+'icle_norma'+'lVS\x22\x0a\x20\x20\x20\x20#'+'endif\x0a\x0a\x20\x20\x20'+'\x20#if\x20NORMA'+'L\x20==\x20MAP\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_TBNV'+'S\x22\x0a\x20\x20\x20\x20#en'+'dif\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20STRE'+'TCH\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20#include'+'\x20\x22particle'+'_stretchVS'+'\x22\x0a\x20\x20\x20\x20#end'+'if\x0a\x0a\x0a\x20\x20\x20\x20#'+'ifdef\x20PART'+'ICLE_GPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_endV')+('S\x22\x0a\x20\x20\x20\x20#el'+'se\x20//\x20PART'+'ICLE_CPU\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20#in'+'clude\x20\x22par'+'ticle_cpu_'+'endVS\x22\x0a\x20\x20\x20'+'\x20#endif\x0a\x0a\x20'+'\x20\x20\x20#ifdef\x20'+'SOFT\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20#includ'+'e\x20\x22particl'+'e_softVS\x22\x0a'+'\x20\x20\x20\x20#endif'+'\x0a\x0a\x20\x20\x20\x20retu'+'rn\x20output;'+'\x0a}\x0a'),DO='\x0a\x20\x20\x20\x20var\x20d'+'epth:\x20f32\x20'+'=\x20getLinea'+'rScreenDep'+'thFrag();\x0a'+'\x20\x20\x20\x20var\x20pa'+'rticleDept'+'h:\x20f32\x20=\x20v'+'Depth;\x0a\x20\x20\x20'+'\x20var\x20depth'+'Diff:\x20f32\x20'+'=\x20saturate'+'(abs(parti'+'cleDepth\x20-'+'\x20depth)\x20*\x20'+'uniform.so'+'ftening);\x0a'+'\x20\x20\x20\x20a\x20=\x20a\x20'+'*\x20depthDif'+'f;\x0a',IO='\x0a\x20\x20\x20\x20outpu'+'t.vDepth\x20='+'\x20getLinear'+'Depth(loca'+'lPos);\x0a',LO='\x0a\x20\x20\x20\x20let\x20m'+'oveDir:\x20ve'+'c3f\x20=\x20inVe'+'l\x20*\x20unifor'+'m.stretch;'+'\x0a\x20\x20\x20\x20var\x20p'+'osPrev:\x20ve'+'c3f\x20=\x20part'+'iclePos\x20-\x20'+'moveDir;\x0a\x20'+'\x20\x20\x20posPrev'+'\x20=\x20posPrev'+'\x20+\x20particl'+'ePosMoved;'+'\x0a\x0a\x20\x20\x20\x20let\x20'+'viewRotati'+'onTemp:\x20ma'+'t3x3f\x20=\x20ma'+'t3x3f(unif'+'orm.matrix'+'_view[0].x'+'yz,\x20unifor'+'m.matrix_v'+'iew[1].xyz'+',\x20uniform.'+'matrix_vie'+'w[2].xyz);'+'\x0a\x20\x20\x20\x20let\x20c'+'enterToVer'+'texV:\x20vec2'+'f\x20=\x20normal'+'ize((viewR'+'otationTem'+'p\x20*\x20localP'+'os).xy);\x0a\x0a'+'\x20\x20\x20\x20let\x20in'+'terpolatio'+'n:\x20f32\x20=\x20d'+'ot(-veloci'+'tyV,\x20cente'+'rToVertexV'+')\x20*\x200.5\x20+\x20'+'0.5;\x0a\x0a\x20\x20\x20\x20'+'particlePo'+'s\x20=\x20mix(pa'+'rticlePos,'+'\x20posPrev,\x20'+'interpolat'+'ion);\x0a',RO='\x0a\x20\x20\x20\x20let\x20r'+'ot3\x20=\x20mat3'+'x3f(\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20vec3f(r'+'otMatrix[0'+'][0],\x20rotM'+'atrix[1][0'+'],\x200.0),\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'3f(rotMatr'+'ix[0][1],\x20'+'rotMatrix['+'1][1],\x200.0'+'),\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20vec3f(0.0'+',\x200.0,\x201.0'+')\x0a\x20\x20\x20\x20);\x0a\x0a'+'\x20\x20\x20\x20let\x20vi'+'ewBasis\x20=\x20'+'mat3x3f(\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20-un'+'iform.matr'+'ix_viewInv'+'erse[0].xy'+'z,\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20-uniform.'+'matrix_vie'+'wInverse[1'+'].xyz,\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20unifo'+'rm.matrix_'+'viewInvers'+'e[2].xyz\x0a\x20'+'\x20\x20\x20);\x0a\x0a\x20\x20\x20'+'\x20let\x20tempM'+'at\x20=\x20viewB'+'asis\x20*\x20rot'+'3;\x0a\x0a\x20\x20\x20\x20//'+'\x20WGSL\x20does'+'\x20not\x20suppo'+'rt\x20matrix\x20'+'varyings,\x20'+'decompose\x20'+'it\x20to\x20vec3'+'s\x0a\x20\x20\x20\x20outp'+'ut.Particl'+'eMat0\x20=\x20te'+'mpMat[0];\x0a'+'\x20\x20\x20\x20output'+'.ParticleM'+'at1\x20=\x20temp'+'Mat[1];\x0a\x20\x20'+'\x20\x20output.P'+'articleMat'+'2\x20=\x20tempMa'+'t[2];\x0a',OO='\x0a\x20\x20\x20\x20let\x20o'+'rigParticl'+'ePos:\x20vec3'+'f\x20=\x20partic'+'lePos;\x0a\x20\x20\x20'+'\x20particleP'+'os\x20=\x20parti'+'clePos\x20-\x20u'+'niform.mat'+'rix_model['+'3].xyz;\x0a\x20\x20'+'\x20\x20particle'+'Pos\x20=\x20(par'+'ticlePos\x20%'+'\x20uniform.w'+'rapBounds)'+'\x20-\x20uniform'+'.wrapBound'+'s\x20*\x200.5;\x0a\x20'+'\x20\x20\x20particl'+'ePos\x20=\x20par'+'ticlePos\x20+'+'\x20uniform.m'+'atrix_mode'+'l[3].xyz;\x0a'+'\x20\x20\x20\x20partic'+'lePosMoved'+'\x20=\x20particl'+'ePos\x20-\x20ori'+'gParticleP'+'os;\x0a',FO={'particlePS':X3,'particleVS':q3,'particleAnimFrameClampVS':j3,'particleAnimFrameLoopVS':Y3,'particleAnimTexVS':K3,'particleInputFloatPS':Z3,'particleInputRgba8PS':Q3,'particleOutputFloatPS':J3,'particleOutputRgba8PS':eO,'particleUpdaterAABBPS':tO,'particleUpdaterEndPS':sO,'particleUpdaterInitPS':iO,'particleUpdaterNoRespawnPS':rO,'particleUpdaterOnStopPS':aO,'particleUpdaterRespawnPS':nO,'particleUpdaterSpherePS':oO,'particleUpdaterStartPS':lO,'particle_billboardVS':cO,'particle_blendAddPS':hO,'particle_blendMultiplyPS':dO,'particle_blendNormalPS':fO,'particle_cpuVS':uO,'particle_cpu_endVS':pO,'particle_customFaceVS':mO,'particle_endPS':_O,'particle_endVS':gO,'particle_halflambertPS':SO,'particle_initVS':yO,'particle_lambertPS':vO,'particle_lightingPS':xO,'particle_localShiftVS':TO,'particle_meshVS':wO,'particle_normalVS':EO,'particle_normalMapPS':bO,'particle_pointAlongVS':AO,'particle_simulationPS':CO,'particle_shaderPS':PO,'particle_shaderVS':MO,'particle_softPS':DO,'particle_softVS':IO,'particle_stretchVS':LO,'particle_TBNVS':RO,'particle_wrapVS':OO},NO=['enabled','autoPlay','numParticl'+'es','lifetime','rate','rate2','startAngle','startAngle'+'2','loop','preWarm','lighting','halfLamber'+'t','intensity','depthWrite','noFog','depthSofte'+'ning','sort','blendType','stretch','alignToMot'+'ion','emitterSha'+'pe','emitterExt'+'ents','emitterExt'+'entsInner','emitterRad'+'ius','emitterRad'+'iusInner','initialVel'+'ocity','wrap','wrapBounds','localSpace','screenSpac'+'e','colorMapAs'+'set','normalMapA'+'sset','mesh','meshAsset','renderAsse'+'t','orientatio'+'n','particleNo'+'rmal','localVeloc'+'ityGraph','localVeloc'+'ityGraph2','velocityGr'+'aph','velocityGr'+'aph2','rotationSp'+'eedGraph','rotationSp'+'eedGraph2','radialSpee'+'dGraph','radialSpee'+'dGraph2','scaleGraph','scaleGraph'+'2','colorGraph','colorGraph'+'2','alphaGraph','alphaGraph'+'2','colorMap','normalMap','animTilesX','animTilesY','animStartF'+'rame','animNumFra'+'mes','animNumAni'+'mations','animIndex','randomizeA'+'nimIndex','animSpeed','animLoop','layers'];class kO extends ct{constructor(_0x7db11e){super(_0x7db11e),this['id']='particlesy'+'stem',this['ComponentT'+'ype']=e3,this['DataType']=t3,this['schema']=NO,this['propertyTy'+'pes']={'emitterExtents':'vec3','emitterExtentsInner':'vec3','particleNormal':'vec3','wrapBounds':'vec3','localVelocityGraph':'curveset','localVelocityGraph2':'curveset','velocityGraph':'curveset','velocityGraph2':'curveset','colorGraph':'curveset','colorGraph2':'curveset','alphaGraph':'curve','alphaGraph2':'curve','rotationSpeedGraph':'curve','rotationSpeedGraph2':'curve','radialSpeedGraph':'curve','radialSpeedGraph2':'curve','scaleGraph':'curve','scaleGraph2':'curve'},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['systems']['on']('update',this['onUpdate'],this),Pe['get'](_0x7db11e['graphicsDe'+'vice'],Fe)['add']($3),Pe['get'](_0x7db11e['graphicsDe'+'vice'],it)['add'](FO);}['initialize'+'ComponentD'+'ata'](_0x23c22f,_0x234105,_0x3e1112){const _0x5e7122={};_0x3e1112=[];const _0x5cd601=this['propertyTy'+'pes'];(_0x234105['mesh']instanceof pe||typeof _0x234105['mesh']=='number')&&(_0x234105['meshAsset']=_0x234105['mesh'],delete _0x234105['mesh']);for(const _0x1845bd in _0x234105){if(_0x234105['hasOwnProp'+'erty'](_0x1845bd)&&(_0x3e1112['push'](_0x1845bd),_0x5e7122[_0x1845bd]=_0x234105[_0x1845bd]),_0x5cd601[_0x1845bd]==='vec3')Array['isArray'](_0x5e7122[_0x1845bd])&&(_0x5e7122[_0x1845bd]=new D(_0x5e7122[_0x1845bd][0x16f*0x17+0x110a+-0x3203],_0x5e7122[_0x1845bd][-0x1304+-0xaec+0x1df1],_0x5e7122[_0x1845bd][-0x2*0x511+-0xe7a+0x189e]));else{if(_0x5cd601[_0x1845bd]==='curve'){if(!(_0x5e7122[_0x1845bd]instanceof qs)){const _0x2c58c9=_0x5e7122[_0x1845bd]['type'];_0x5e7122[_0x1845bd]=new qs(_0x5e7122[_0x1845bd]['keys']),_0x5e7122[_0x1845bd]['type']=_0x2c58c9;}}else{if(_0x5cd601[_0x1845bd]==='curveset'&&!(_0x5e7122[_0x1845bd]instanceof na)){const _0x2cb6ab=_0x5e7122[_0x1845bd]['type'];_0x5e7122[_0x1845bd]=new na(_0x5e7122[_0x1845bd]['keys']),_0x5e7122[_0x1845bd]['type']=_0x2cb6ab;}}}_0x5e7122['layers']&&Array['isArray'](_0x5e7122['layers'])&&(_0x5e7122['layers']=_0x5e7122['layers']['slice'](0x15*0x137+0x25de*0x1+-0x3f61));}super['initialize'+'ComponentD'+'ata'](_0x23c22f,_0x5e7122,_0x3e1112);}['cloneCompo'+'nent'](_0x53de42,_0x5a7e8c){const _0x422205=_0x53de42['particlesy'+'stem']['data'],_0x39b13e=this['schema'],_0x468f90={};for(let _0x106ae4=0x2689*0x1+0x145*0x9+-0x4ff*0xa,_0x4ae97a=_0x39b13e['length'];_0x106ae4<_0x4ae97a;_0x106ae4++){const _0x23fbcd=_0x39b13e[_0x106ae4];let _0x1c833a=_0x422205[_0x23fbcd];_0x1c833a instanceof D||_0x1c833a instanceof qs||_0x1c833a instanceof na?(_0x1c833a=_0x1c833a['clone'](),_0x468f90[_0x23fbcd]=_0x1c833a):_0x23fbcd==='layers'?_0x468f90['layers']=_0x422205['layers']['slice'](0x1*-0x8f7+-0x8a7+0x119e):_0x1c833a!=null&&(_0x468f90[_0x23fbcd]=_0x1c833a);}return this['addCompone'+'nt'](_0x5a7e8c,_0x468f90);}['onUpdate'](_0x1933b7){const _0x358060=this['store'],_0x4d6ddd=this['app']['stats']['particles'],_0x148107=this['app']['scene']['layers'];for(let _0x921b05=-0xafa+-0x1*0x1874+0x236e;_0x921b05<_0x148107['layerList']['length'];_0x921b05++)_0x148107['layerList'][_0x921b05]['requiresLi'+'ghtCube']=!(-0x1020+0x13b1+0x30*-0x13);for(const _0x4246be in _0x358060)if(_0x358060['hasOwnProp'+'erty'](_0x4246be)){const _0x1d1ce4=_0x358060[_0x4246be],_0x5f3333=_0x1d1ce4['entity'],_0x211040=_0x1d1ce4['data'];if(_0x211040['enabled']&&_0x5f3333['enabled']){const _0x5ed055=_0x5f3333['particlesy'+'stem']['emitter'];if(!(_0x5ed055!=null&&_0x5ed055['meshInstan'+'ce']['visible']))continue;if(_0x5ed055['lighting']){const _0x4630a0=_0x211040['layers'];for(let _0x31a78d=0x24f3+-0x1c6c+0x3b*-0x25;_0x31a78d<_0x4630a0['length'];_0x31a78d++){const _0x283106=_0x148107['getLayerBy'+'Id'](_0x4630a0[_0x31a78d]);_0x283106&&(_0x283106['requiresLi'+'ghtCube']=!(0x14*-0x3+0x2*0x959+-0x1276));}}if(!_0x211040['paused']){let _0x334d72=-0x5b0+0x5ea+0x2*-0x1d;if(_0x5ed055['simTime']+=_0x1933b7,_0x5ed055['simTime']>=_0x5ed055['fixedTimeS'+'tep']&&(_0x334d72=Math['floor'](_0x5ed055['simTime']/_0x5ed055['fixedTimeS'+'tep']),_0x5ed055['simTime']-=_0x334d72*_0x5ed055['fixedTimeS'+'tep']),_0x334d72){_0x334d72=Math['min'](_0x334d72,_0x5ed055['maxSubStep'+'s']);for(let _0x5aefeb=0x607*-0x6+-0x14f8+-0xce*-0x47;_0x5aefeb<_0x334d72;_0x5aefeb++)_0x5ed055['addTime'](_0x5ed055['fixedTimeS'+'tep'],!(-0x7*-0x32f+0x1364+0x54*-0x7f));_0x4d6ddd['_updatesPe'+'rFrame']+=_0x334d72,_0x4d6ddd['_frameTime']+=_0x5ed055['_addTimeTi'+'me'],_0x5ed055['_addTimeTi'+'me']=0x433*0x5+0x3fb*0x6+0x2ce1*-0x1;}_0x5ed055['finishFram'+'e']();}}}}['onBeforeRe'+'move'](_0x94dd79,_0x2f17df){_0x2f17df['onBeforeRe'+'move']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class UO extends wd{constructor(_0x501c7a,_0x549488){super(),this['skin']=_0x501c7a,this['skinInstan'+'ce']=_0x549488;}}const Gs=class Gs{static['logCachedS'+'kinInstanc'+'es'](){console['log']('CachedSkin'+'Instances'),Gs['_skinInsta'+'nceCache']['forEach']((_0x153e47,_0x3ba0e4)=>{console['log'](_0x3ba0e4['name']+':\x20Array('+_0x153e47['length']+')');for(let _0x30f4ef=-0x1c*-0x11a+0x13a0+-0x3278;_0x30f4ef<_0x153e47['length'];_0x30f4ef++)console['log']('\x20\x20'+_0x30f4ef+(':\x20RefCount'+'\x20')+_0x153e47[_0x30f4ef]['refCount']);});}static['createCach'+'edSkinInst'+'ance'](_0x2a35f9,_0x4f0ce4,_0x59b3d8){let _0x3e4119=Gs['getCachedS'+'kinInstanc'+'e'](_0x2a35f9,_0x4f0ce4);return _0x3e4119||(_0x3e4119=new Ol(_0x2a35f9),_0x3e4119['resolve'](_0x4f0ce4,_0x59b3d8),Gs['addCachedS'+'kinInstanc'+'e'](_0x2a35f9,_0x4f0ce4,_0x3e4119)),_0x3e4119;}static['getCachedS'+'kinInstanc'+'e'](_0x4dc754,_0xc7dd6e){let _0x5c58b4=null;const _0x5e90ca=Gs['_skinInsta'+'nceCache']['get'](_0xc7dd6e);if(_0x5e90ca){const _0x2f0dd5=_0x5e90ca['find'](_0x40f068=>_0x40f068['skin']===_0x4dc754);_0x2f0dd5&&(_0x2f0dd5['incRefCoun'+'t'](),_0x5c58b4=_0x2f0dd5['skinInstan'+'ce']);}return _0x5c58b4;}static['addCachedS'+'kinInstanc'+'e'](_0x4952a8,_0x45531a,_0x180138){let _0x578e5f=Gs['_skinInsta'+'nceCache']['get'](_0x45531a);_0x578e5f||(_0x578e5f=[],Gs['_skinInsta'+'nceCache']['set'](_0x45531a,_0x578e5f));let _0x2df71a=_0x578e5f['find'](_0x776f57=>_0x776f57['skin']===_0x4952a8);_0x2df71a||(_0x2df71a=new UO(_0x4952a8,_0x180138),_0x578e5f['push'](_0x2df71a)),_0x2df71a['incRefCoun'+'t']();}static['removeCach'+'edSkinInst'+'ance'](_0x768a13){if(_0x768a13){const _0x1e67ea=_0x768a13['rootBone'];if(_0x1e67ea){const _0x2fef9f=Gs['_skinInsta'+'nceCache']['get'](_0x1e67ea);if(_0x2fef9f){const _0x28b970=_0x2fef9f['findIndex'](_0x341923=>_0x341923['skinInstan'+'ce']===_0x768a13);if(_0x28b970>=-0x2*-0x6ee+0x1*0x853+0x765*-0x3){const _0x50a1b0=_0x2fef9f[_0x28b970];_0x50a1b0['decRefCoun'+'t'](),_0x50a1b0['refCount']===-0x3*0xb9b+0xbdb+-0x16f6*-0x1&&(_0x2fef9f['splice'](_0x28b970,0x49d+-0x9*-0x3df+-0x2773),_0x2fef9f['length']||Gs['_skinInsta'+'nceCache']['delete'](_0x1e67ea),_0x768a13&&(_0x768a13['destroy'](),_0x50a1b0['skinInstan'+'ce']=null));}}}}}};h(Gs,'_skinInsta'+'nceCache',new Map());let _l=Gs;class gl{constructor(_0x1af63d,_0x188eb3,_0x238395,_0x1905a6,_0x4436d3){h(this,'_evtLoadBy'+'Id',null),h(this,'_evtUnload'+'ById',null),h(this,'_evtAddByI'+'d',null),h(this,'_evtRemove'+'ById',null),h(this,'_evtLoadBy'+'Url',null),h(this,'_evtAddByU'+'rl',null),h(this,'_evtRemove'+'ByUrl',null),(this['propertyNa'+'me']=_0x1af63d,this['parent']=_0x188eb3,this['_scope']=_0x4436d3,this['_registry']=_0x238395,this['id']=null,this['url']=null,this['asset']=null,this['_onAssetLo'+'ad']=_0x1905a6['load'],this['_onAssetAd'+'d']=_0x1905a6['add'],this['_onAssetRe'+'move']=_0x1905a6['remove'],this['_onAssetUn'+'load']=_0x1905a6['unload']);}set['id'](_0x193720){if(this['url'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_id']=_0x193720,this['asset']=this['_registry']['get'](this['_id']),this['_bind']();}get['id'](){return this['_id'];}set['url'](_0x160ae9){if(this['id'])throw Error('Can\x27t\x20set\x20'+'id\x20and\x20url');this['_unbind'](),this['_url']=_0x160ae9,this['asset']=this['_registry']['getByUrl'](this['_url']),this['_bind']();}get['url'](){return this['_url'];}['_bind'](){this['id']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Id']=this['_registry']['on']('load:'+this['id'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByI'+'d']=this['_registry']['once']('add:'+this['id'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ById']=this['_registry']['on']('remove:'+this['id'],this['_onRemove'],this)),this['_onAssetUn'+'load']&&(this['_evtUnload'+'ById']=this['_registry']['on']('unload:'+this['id'],this['_onUnload'],this))),this['url']&&(this['_onAssetLo'+'ad']&&(this['_evtLoadBy'+'Url']=this['_registry']['on']('load:url:'+this['url'],this['_onLoad'],this)),this['_onAssetAd'+'d']&&(this['_evtAddByU'+'rl']=this['_registry']['once']('add:url:'+this['url'],this['_onAdd'],this)),this['_onAssetRe'+'move']&&(this['_evtRemove'+'ByUrl']=this['_registry']['on']('remove:url'+':'+this['url'],this['_onRemove'],this)));}['_unbind'](){var _0x321688,_0x45f4cc,_0x2cbae4,_0x400170,_0x3efb5e,_0x47540a,_0xe79ab7;this['id']&&((_0x321688=this['_evtLoadBy'+'Id'])==null||_0x321688['off'](),this['_evtLoadBy'+'Id']=null,(_0x45f4cc=this['_evtAddByI'+'d'])==null||_0x45f4cc['off'](),this['_evtAddByI'+'d']=null,(_0x2cbae4=this['_evtRemove'+'ById'])==null||_0x2cbae4['off'](),this['_evtRemove'+'ById']=null,(_0x400170=this['_evtUnload'+'ById'])==null||_0x400170['off'](),this['_evtUnload'+'ById']=null),this['url']&&((_0x3efb5e=this['_evtLoadBy'+'Url'])==null||_0x3efb5e['off'](),this['_evtLoadBy'+'Url']=null,(_0x47540a=this['_evtAddByU'+'rl'])==null||_0x47540a['off'](),this['_evtAddByU'+'rl']=null,(_0xe79ab7=this['_evtRemove'+'ByUrl'])==null||_0xe79ab7['off'](),this['_evtRemove'+'ByUrl']=null);}['_onLoad'](_0x10593a){this['_onAssetLo'+'ad']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x10593a);}['_onAdd'](_0x21ff48){this['asset']=_0x21ff48,this['_onAssetAd'+'d']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x21ff48);}['_onRemove'](_0x2fb9f2){this['_onAssetRe'+'move']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x2fb9f2),this['asset']=null;}['_onUnload'](_0x1eae13){this['_onAssetUn'+'load']['call'](this['_scope'],this['propertyNa'+'me'],this['parent'],_0x1eae13);}}class n0 extends we{constructor(_0x38408a,_0x4d2abd){super(_0x38408a,_0x4d2abd),h(this,'_type','asset'),h(this,'_castShado'+'ws',!(-0x5*-0x74+0x150a+0x13*-0x13a)),h(this,'_receiveSh'+'adows',!(0x759+0x65*0x18+-0x10d1)),h(this,'_castShado'+'wsLightmap',!(0xb85*-0x3+0xd6d+0x1522)),h(this,'_lightmapp'+'ed',!(0x24b*0x1+0x1723*0x1+-0x196d*0x1)),h(this,'_lightmapS'+'izeMultipl'+'ier',0x1293+-0x1233+-0x5*0x13),h(this,'isStatic',!(0x4*0x3a5+0x8*-0x19a+-0x1*0x1c3)),h(this,'_batchGrou'+'pId',-(0x127*0x1d+-0x1825+-0x945)),h(this,'_layers',[er]),h(this,'_renderSty'+'le',un),h(this,'_meshInsta'+'nces',[]),h(this,'_customAab'+'b',null),h(this,'_area',null),h(this,'_assetRefe'+'rence'),h(this,'_materialR'+'eferences',[]),h(this,'_material'),h(this,'_rootBone',null),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_evtSetMes'+'hes',null),(this['_assetRefe'+'rence']=new gl('asset',this,_0x38408a['app']['assets'],{'add':this['_onRenderA'+'ssetAdded'],'load':this['_onRenderA'+'ssetLoad'],'remove':this['_onRenderA'+'ssetRemove'],'unload':this['_onRenderA'+'ssetUnload']},this),this['_material']=_0x38408a['defaultMat'+'erial'],_0x4d2abd['on']('remove',this['onRemoveCh'+'ild'],this),_0x4d2abd['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x4d2abd['on']('insert',this['onInsertCh'+'ild'],this),_0x4d2abd['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['renderStyl'+'e'](_0xdcaed4){this['_renderSty'+'le']!==_0xdcaed4&&(this['_renderSty'+'le']=_0xdcaed4,He['_prepareRe'+'nderStyleF'+'orArray'](this['_meshInsta'+'nces'],_0xdcaed4));}get['renderStyl'+'e'](){return this['_renderSty'+'le'];}set['customAabb'](_0x1d5f20){this['_customAab'+'b']=_0x1d5f20;const _0x36bd21=this['_meshInsta'+'nces'];if(_0x36bd21){for(let _0x284557=-0xf24+0x3*-0x355+-0x861*-0x3;_0x284557<_0x36bd21['length'];_0x284557++)_0x36bd21[_0x284557]['setCustomA'+'abb'](this['_customAab'+'b']);}}get['customAabb'](){return this['_customAab'+'b'];}set['type'](_0x23c0a){if(this['_type']!==_0x23c0a&&(this['_area']=null,this['_type']=_0x23c0a,this['destroyMes'+'hInstances'](),_0x23c0a!=='asset')){let _0x52a948=this['_material'];(!_0x52a948||_0x52a948===this['system']['defaultMat'+'erial'])&&(_0x52a948=this['_materialR'+'eferences'][-0x7cf*0x3+0x1f43*-0x1+0x36b0]&&this['_materialR'+'eferences'][0x1383+-0x4*-0x711+0x1b*-0x1c5]['asset']&&this['_materialR'+'eferences'][-0x1a*-0x4f+-0x1e3c+0x1636]['asset']['resource']);const _0x59d3c8=r0(this['system']['app']['graphicsDe'+'vice'],_0x23c0a);this['_area']=_0x59d3c8['area'],this['meshInstan'+'ces']=[new He(_0x59d3c8['mesh'],_0x52a948||this['system']['defaultMat'+'erial'],this['entity'])];}}get['type'](){return this['_type'];}set['meshInstan'+'ces'](_0x1ad403){if(w['assert'](Array['isArray'](_0x1ad403),'MeshInstan'+'ces\x20set\x20to'+'\x20a\x20Render\x20'+'component\x20'+'must\x20be\x20an'+'\x20array.'),this['destroyMes'+'hInstances'](),this['_meshInsta'+'nces']=_0x1ad403,this['_meshInsta'+'nces']){const _0x374612=this['_meshInsta'+'nces'];for(let _0xb72cb2=-0x16f0*-0x1+0x9b8+0x415*-0x8;_0xb72cb2<_0x374612['length'];_0xb72cb2++)_0x374612[_0xb72cb2]['node']||(_0x374612[_0xb72cb2]['node']=this['entity']),_0x374612[_0xb72cb2]['castShadow']=this['_castShado'+'ws'],_0x374612[_0xb72cb2]['receiveSha'+'dow']=this['_receiveSh'+'adows'],_0x374612[_0xb72cb2]['renderStyl'+'e']=this['_renderSty'+'le'],_0x374612[_0xb72cb2]['setLightma'+'pped'](this['_lightmapp'+'ed']),_0x374612[_0xb72cb2]['setCustomA'+'abb'](this['_customAab'+'b']);this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['meshInstan'+'ces'](){return this['_meshInsta'+'nces'];}set['lightmappe'+'d'](_0x4b9549){if(_0x4b9549!==this['_lightmapp'+'ed']){this['_lightmapp'+'ed']=_0x4b9549;const _0x418b2d=this['_meshInsta'+'nces'];if(_0x418b2d){for(let _0x37e006=-0x1128+-0xc77*0x2+0x1*0x2a16;_0x37e006<_0x418b2d['length'];_0x37e006++)_0x418b2d[_0x37e006]['setLightma'+'pped'](_0x4b9549);}}}get['lightmappe'+'d'](){return this['_lightmapp'+'ed'];}set['castShadow'+'s'](_0x1f0ecf){if(this['_castShado'+'ws']!==_0x1f0ecf){const _0x170e98=this['_meshInsta'+'nces'];if(_0x170e98){const _0x9c9853=this['layers'],_0x34bfbf=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x1f0ecf)for(let _0x11a90f=-0x20c5+-0x257b+0x1190*0x4;_0x11a90f<_0x9c9853['length'];_0x11a90f++){const _0x1b3f90=_0x34bfbf['layers']['getLayerBy'+'Id'](this['layers'][_0x11a90f]);_0x1b3f90&&_0x1b3f90['removeShad'+'owCasters'](_0x170e98);}for(let _0x42c9ed=-0x2ed*-0x3+0x18ce+-0x2195;_0x42c9ed<_0x170e98['length'];_0x42c9ed++)_0x170e98[_0x42c9ed]['castShadow']=_0x1f0ecf;if(!this['_castShado'+'ws']&&_0x1f0ecf)for(let _0x490ca8=-0x63*-0x43+-0x136a+-0x67f;_0x490ca8<_0x9c9853['length'];_0x490ca8++){const _0x171275=_0x34bfbf['layers']['getLayerBy'+'Id'](_0x9c9853[_0x490ca8]);_0x171275&&_0x171275['addShadowC'+'asters'](_0x170e98);}}this['_castShado'+'ws']=_0x1f0ecf;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['receiveSha'+'dows'](_0x2d2f28){if(this['_receiveSh'+'adows']!==_0x2d2f28){this['_receiveSh'+'adows']=_0x2d2f28;const _0x219595=this['_meshInsta'+'nces'];if(_0x219595){for(let _0xbc947b=0xe04+0x209*0xb+-0x2467*0x1;_0xbc947b<_0x219595['length'];_0xbc947b++)_0x219595[_0xbc947b]['receiveSha'+'dow']=_0x2d2f28;}}}get['receiveSha'+'dows'](){return this['_receiveSh'+'adows'];}set['castShadow'+'sLightmap'](_0x1df3cd){this['_castShado'+'wsLightmap']=_0x1df3cd;}get['castShadow'+'sLightmap'](){return this['_castShado'+'wsLightmap'];}set['lightmapSi'+'zeMultipli'+'er'](_0x28300b){this['_lightmapS'+'izeMultipl'+'ier']=_0x28300b;}get['lightmapSi'+'zeMultipli'+'er'](){return this['_lightmapS'+'izeMultipl'+'ier'];}set['layers'](_0x414899){const _0x39f95f=this['system']['app']['scene']['layers'];let _0x4838bb;if(this['_meshInsta'+'nces']){for(let _0xdbac98=0xb*0x1c1+0x9c6+-0x1d11;_0xdbac98<this['_layers']['length'];_0xdbac98++)_0x4838bb=_0x39f95f['getLayerBy'+'Id'](this['_layers'][_0xdbac98]),_0x4838bb&&_0x4838bb['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}this['_layers']['length']=0x371*-0x7+-0x2*-0x4bd+0xe9d;for(let _0xfa5544=-0x1a9b+-0xecc*0x1+0x2967;_0xfa5544<_0x414899['length'];_0xfa5544++)this['_layers'][_0xfa5544]=_0x414899[_0xfa5544];if(!(!this['enabled']||!this['entity']['enabled']||!this['_meshInsta'+'nces'])){for(let _0x5d648d=0x40d+0x1cce+-0x20db;_0x5d648d<this['_layers']['length'];_0x5d648d++)_0x4838bb=_0x39f95f['getLayerBy'+'Id'](this['_layers'][_0x5d648d]),_0x4838bb&&_0x4838bb['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}get['layers'](){return this['_layers'];}set['batchGroup'+'Id'](_0x29c35a){var _0xfb8c50,_0x422645;this['_batchGrou'+'pId']!==_0x29c35a&&(this['entity']['enabled']&&this['_batchGrou'+'pId']>=-0x1*-0xad9+0x3e*0x53+0x8b*-0x39&&((_0xfb8c50=this['system']['app']['batcher'])==null||_0xfb8c50['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['entity']['enabled']&&_0x29c35a>=-0x2*0xff3+0x1e2c+0xdd*0x2&&((_0x422645=this['system']['app']['batcher'])==null||_0x422645['insert'](St['RENDER'],_0x29c35a,this['entity'])),_0x29c35a<-0xc*0x214+0xb*0x316+0x902*-0x1&&this['_batchGrou'+'pId']>=-0x32b*-0x3+-0x1627+0xca6&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s'](),this['_batchGrou'+'pId']=_0x29c35a);}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['material'](_0x114d22){if(this['_material']!==_0x114d22&&(this['_material']=_0x114d22,this['_meshInsta'+'nces']&&this['_type']!=='asset')){for(let _0x571618=0x307+-0x25ca+0x22c3;_0x571618<this['_meshInsta'+'nces']['length'];_0x571618++)this['_meshInsta'+'nces'][_0x571618]['material']=_0x114d22;}}get['material'](){return this['_material'];}set['materialAs'+'sets'](_0x33733e=[]){if(this['_materialR'+'eferences']['length']>_0x33733e['length']){for(let _0x3584e2=_0x33733e['length'];_0x3584e2<this['_materialR'+'eferences']['length'];_0x3584e2++)this['_materialR'+'eferences'][_0x3584e2]['id']=null;this['_materialR'+'eferences']['length']=_0x33733e['length'];}for(let _0x3371c6=-0x6ec+0x1a3d+-0x1351;_0x3371c6<_0x33733e['length'];_0x3371c6++)if(this['_materialR'+'eferences'][_0x3371c6]||this['_materialR'+'eferences']['push'](new gl(_0x3371c6,this,this['system']['app']['assets'],{'add':this['_onMateria'+'lAdded'],'load':this['_onMateria'+'lLoad'],'remove':this['_onMateria'+'lRemove'],'unload':this['_onMateria'+'lUnload']},this)),_0x33733e[_0x3371c6]){const _0x437032=_0x33733e[_0x3371c6]instanceof pe?_0x33733e[_0x3371c6]['id']:_0x33733e[_0x3371c6];this['_materialR'+'eferences'][_0x3371c6]['id']!==_0x437032&&(this['_materialR'+'eferences'][_0x3371c6]['id']=_0x437032),this['_materialR'+'eferences'][_0x3371c6]['asset']&&this['_onMateria'+'lAdded'](_0x3371c6,this,this['_materialR'+'eferences'][_0x3371c6]['asset']);}else this['_materialR'+'eferences'][_0x3371c6]['id']=null,this['_meshInsta'+'nces'][_0x3371c6]&&(this['_meshInsta'+'nces'][_0x3371c6]['material']=this['system']['defaultMat'+'erial']);}get['materialAs'+'sets'](){return this['_materialR'+'eferences']['map'](_0x66d568=>_0x66d568['id']);}set['asset'](_0x5cfb47){const _0x145787=_0x5cfb47 instanceof pe?_0x5cfb47['id']:_0x5cfb47;this['_assetRefe'+'rence']['id']!==_0x145787&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onRenderA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x145787,this['_assetRefe'+'rence']['asset']&&this['_onRenderA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['assignAsse'+'t'](_0x37309a){const _0x522daa=_0x37309a instanceof pe?_0x37309a['id']:_0x37309a;this['_assetRefe'+'rence']['id']=_0x522daa;}set['rootBone'](_0x317ff5){if(this['_rootBone']!==_0x317ff5){const _0x29460a=typeof _0x317ff5=='string';if(this['_rootBone']&&_0x29460a&&this['_rootBone']['getGuid']()===_0x317ff5)return;this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x317ff5 instanceof Ie?this['_rootBone']=_0x317ff5:_0x29460a?(this['_rootBone']=this['system']['app']['getEntityF'+'romIndex'](_0x317ff5)||null,this['_rootBone']||w['warn']('Failed\x20to\x20'+'find\x20rootB'+'one\x20Entity'+'\x20by\x20GUID')):this['_rootBone']=null,this['_rootBone']&&this['_cloneSkin'+'Instances']();}}get['rootBone'](){return this['_rootBone'];}['destroyMes'+'hInstances'](){const _0x782594=this['_meshInsta'+'nces'];if(_0x782594){this['removeFrom'+'Layers'](),this['_clearSkin'+'Instances']();for(let _0x12cf24=0x2233+0x285+-0xbc*0x32;_0x12cf24<_0x782594['length'];_0x12cf24++)_0x782594[_0x12cf24]['destroy']();this['_meshInsta'+'nces']['length']=0x20ed+-0x67*0x3d+0x862*-0x1;}}['addToLayer'+'s'](){const _0x190460=this['system']['app']['scene']['layers'];for(let _0x174688=-0x532+-0xbcb+-0x1*-0x10fd;_0x174688<this['_layers']['length'];_0x174688++){const _0x28a1e9=_0x190460['getLayerBy'+'Id'](this['_layers'][_0x174688]);_0x28a1e9&&_0x28a1e9['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}}['removeFrom'+'Layers'](){if(this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']){const _0x5beea=this['system']['app']['scene']['layers'];for(let _0x339956=0x25*-0x2f+-0xb38+0x1203;_0x339956<this['_layers']['length'];_0x339956++){const _0x238b2b=_0x5beea['getLayerBy'+'Id'](this['_layers'][_0x339956]);_0x238b2b&&_0x238b2b['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_meshInsta'+'nces']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyMes'+'hInstances'](),this['asset']=null,this['materialAs'+'set']=null,this['_assetRefe'+'rence']['id']=null;for(let _0x527b78=0xd2b+-0x5d*-0xd+-0x11e4;_0x527b78<this['_materialR'+'eferences']['length'];_0x527b78++)this['_materialR'+'eferences'][_0x527b78]['id']=null;this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x594246,_0x5c81da){this['addToLayer'+'s'](),_0x594246['off']('add',this['onLayerAdd'+'ed'],this),_0x594246['off']('remove',this['onLayerRem'+'oved'],this),_0x5c81da['on']('add',this['onLayerAdd'+'ed'],this),_0x5c81da['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x5d01e0){this['layers']['indexOf'](_0x5d01e0['id'])<-0x1*0x1f2a+0x2446+-0x1*0x51c||_0x5d01e0['addMeshIns'+'tances'](this['_meshInsta'+'nces']);}['onLayerRem'+'oved'](_0x489468){this['layers']['indexOf'](_0x489468['id'])<0x11ca+0x1fb*0xb+-0xd31*0x3||_0x489468['removeMesh'+'Instances'](this['_meshInsta'+'nces']);}['onEnable'](){var _0x18f029;const _0x129dd3=this['system']['app'],_0x5389ca=_0x129dd3['scene'],_0x3133c6=_0x5389ca['layers'];this['_rootBone']&&this['_cloneSkin'+'Instances'](),this['_evtLayers'+'Changed']=_0x5389ca['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3133c6&&(this['_evtLayerA'+'dded']=_0x3133c6['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x3133c6['on']('remove',this['onLayerRem'+'oved'],this));const _0x3f01e3=this['_type']==='asset';this['_meshInsta'+'nces']&&this['_meshInsta'+'nces']['length']?this['addToLayer'+'s']():_0x3f01e3&&this['asset']&&this['_onRenderA'+'ssetAdded']();for(let _0x53a89c=-0xca*0x11+-0x51*0x4+0x2*0x757;_0x53a89c<this['_materialR'+'eferences']['length'];_0x53a89c++)this['_materialR'+'eferences'][_0x53a89c]['asset']&&this['system']['app']['assets']['load'](this['_materialR'+'eferences'][_0x53a89c]['asset']);this['_batchGrou'+'pId']>=0xa*0xe2+-0x1*-0x2287+0x1*-0x2b5b&&((_0x18f029=_0x129dd3['batcher'])==null||_0x18f029['insert'](St['RENDER'],this['batchGroup'+'Id'],this['entity']));}['onDisable'](){var _0x2cc090,_0x8442f5,_0x3b823d,_0x3e885b;const _0xad2239=this['system']['app'],_0x136008=_0xad2239['scene']['layers'];(_0x2cc090=this['_evtLayers'+'Changed'])==null||_0x2cc090['off'](),this['_evtLayers'+'Changed']=null,this['_rootBone']&&this['_clearSkin'+'Instances'](),_0x136008&&((_0x8442f5=this['_evtLayerA'+'dded'])==null||_0x8442f5['off'](),this['_evtLayerA'+'dded']=null,(_0x3b823d=this['_evtLayerR'+'emoved'])==null||_0x3b823d['off'](),this['_evtLayerR'+'emoved']=null),this['_batchGrou'+'pId']>=0x2308+0x251*0x7+-0x1115*0x3&&((_0x3e885b=_0xad2239['batcher'])==null||_0x3e885b['remove'](St['RENDER'],this['batchGroup'+'Id'],this['entity'])),this['removeFrom'+'Layers']();}['hide'](){if(this['_meshInsta'+'nces']){for(let _0x46d3a0=0x653+0x595*-0x2+0x4d7;_0x46d3a0<this['_meshInsta'+'nces']['length'];_0x46d3a0++)this['_meshInsta'+'nces'][_0x46d3a0]['visible']=!(0x265*0x2+-0x1a*-0x73+0x1077*-0x1);}}['show'](){if(this['_meshInsta'+'nces']){for(let _0x5717ed=-0x10b+-0x1*0x1a26+0x1b31;_0x5717ed<this['_meshInsta'+'nces']['length'];_0x5717ed++)this['_meshInsta'+'nces'][_0x5717ed]['visible']=!(0x1f4d+-0x1*0x35b+-0x62*0x49);}}['_onRenderA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onRenderA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onRenderA'+'ssetLoad'](){var _0x163db1;if(this['destroyMes'+'hInstances'](),this['_assetRefe'+'rence']['asset']){const _0x2a4616=this['_assetRefe'+'rence']['asset']['resource'];(_0x163db1=this['_evtSetMes'+'hes'])==null||_0x163db1['off'](),this['_evtSetMes'+'hes']=_0x2a4616['on']('set:meshes',this['_onSetMesh'+'es'],this),_0x2a4616['meshes']&&this['_onSetMesh'+'es'](_0x2a4616['meshes']);}}['_onSetMesh'+'es'](_0x5bb97a){this['_cloneMesh'+'es'](_0x5bb97a);}['_clearSkin'+'Instances'](){for(let _0x43934c=-0x503*-0x1+0x1cac+-0x21af;_0x43934c<this['_meshInsta'+'nces']['length'];_0x43934c++){const _0x33bd84=this['_meshInsta'+'nces'][_0x43934c];_l['removeCach'+'edSkinInst'+'ance'](_0x33bd84['skinInstan'+'ce']),_0x33bd84['skinInstan'+'ce']=null;}}['_cloneSkin'+'Instances'](){if(this['_meshInsta'+'nces']['length']&&this['_rootBone']instanceof Ie)for(let _0x1bfcd8=-0xd*0x9e+0x2580+-0xebd*0x2;_0x1bfcd8<this['_meshInsta'+'nces']['length'];_0x1bfcd8++){const _0x11c100=this['_meshInsta'+'nces'][_0x1bfcd8],_0x4dde8a=_0x11c100['mesh'];_0x4dde8a['skin']&&!_0x11c100['skinInstan'+'ce']&&(_0x11c100['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x4dde8a['skin'],this['_rootBone'],this['entity']));}}['_cloneMesh'+'es'](_0x43e019){if(_0x43e019&&_0x43e019['length']){const _0x2ad5a7=[];for(let _0x49377e=-0x83*0x1a+0x2*0x9a3+-0x5f8;_0x49377e<_0x43e019['length'];_0x49377e++){const _0x23d529=_0x43e019[_0x49377e],_0xce0ba6=this['_materialR'+'eferences'][_0x49377e]&&this['_materialR'+'eferences'][_0x49377e]['asset']&&this['_materialR'+'eferences'][_0x49377e]['asset']['resource'],_0x2b33e3=new He(_0x23d529,_0xce0ba6||this['system']['defaultMat'+'erial'],this['entity']);_0x2ad5a7['push'](_0x2b33e3),_0x23d529['morph']&&(_0x2b33e3['morphInsta'+'nce']=new xa(_0x23d529['morph']));}this['meshInstan'+'ces']=_0x2ad5a7,this['_cloneSkin'+'Instances']();}}['_onRenderA'+'ssetUnload'](){this['_type']==='asset'&&this['destroyMes'+'hInstances']();}['_onRenderA'+'ssetRemove'](){var _0x45ccb9;(_0x45ccb9=this['_evtSetMes'+'hes'])==null||_0x45ccb9['off'](),this['_evtSetMes'+'hes']=null,this['_onRenderA'+'ssetUnload']();}['_onMateria'+'lAdded'](_0x470cbd,_0x1a5101,_0x4754b5){_0x4754b5['resource']?this['_onMateria'+'lLoad'](_0x470cbd,_0x1a5101,_0x4754b5):this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](_0x4754b5);}['_updateMai'+'nMaterial'](_0x4520db,_0x12c009){_0x4520db===0x1d9a+0x9ba+-0x13aa*0x2&&(this['material']=_0x12c009);}['_onMateria'+'lLoad'](_0x58fe91,_0x282e60,_0x4514c0){this['_meshInsta'+'nces'][_0x58fe91]&&(this['_meshInsta'+'nces'][_0x58fe91]['material']=_0x4514c0['resource']),this['_updateMai'+'nMaterial'](_0x58fe91,_0x4514c0['resource']);}['_onMateria'+'lRemove'](_0x9bfeaa,_0x5a40c6,_0x4a7535){this['_meshInsta'+'nces'][_0x9bfeaa]&&(this['_meshInsta'+'nces'][_0x9bfeaa]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x9bfeaa,this['system']['defaultMat'+'erial']);}['_onMateria'+'lUnload'](_0x2a263b,_0x47fa62,_0x136530){this['_meshInsta'+'nces'][_0x2a263b]&&(this['_meshInsta'+'nces'][_0x2a263b]['material']=this['system']['defaultMat'+'erial']),this['_updateMai'+'nMaterial'](_0x2a263b,this['system']['defaultMat'+'erial']);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x6e0d39,_0x2c853b){_0x6e0d39['rootBone']&&(this['rootBone']=_0x2c853b[_0x6e0d39['rootBone']['getGuid']()]);}}class BO{constructor(){this['enabled']=!(-0x1b4+-0x13*-0xae+-0xb36);}}const ku=['enabled'],Gr=['material','meshInstan'+'ces','asset','materialAs'+'sets','castShadow'+'s','receiveSha'+'dows','castShadow'+'sLightmap','lightmappe'+'d','lightmapSi'+'zeMultipli'+'er','renderStyl'+'e','type','layers','isStatic','batchGroup'+'Id','rootBone'];class zO extends ct{constructor(_0x2b044b){super(_0x2b044b),this['id']='render',this['ComponentT'+'ype']=n0,this['DataType']=BO,this['schema']=ku,this['defaultMat'+'erial']=Qn(_0x2b044b['graphicsDe'+'vice']),this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0x24d264,_0x56325e,_0x97f930){(_0x56325e['batchGroup'+'Id']===null||_0x56325e['batchGroup'+'Id']===void(-0x9e5*0x2+0x4eb*-0x2+-0x8*-0x3b4))&&(_0x56325e['batchGroup'+'Id']=-(-0x239d+-0x11fe*0x1+0x359c)),_0x56325e['layers']&&_0x56325e['layers']['length']&&(_0x56325e['layers']=_0x56325e['layers']['slice'](0x13ed*-0x1+-0x52*-0x1f+0x9ff));for(let _0x91668b=-0x117*0x11+-0xa*-0x34a+-0xe5d;_0x91668b<Gr['length'];_0x91668b++)_0x56325e['hasOwnProp'+'erty'](Gr[_0x91668b])&&(_0x24d264[Gr[_0x91668b]]=_0x56325e[Gr[_0x91668b]]);_0x56325e['aabbCenter']&&_0x56325e['aabbHalfEx'+'tents']&&(_0x24d264['customAabb']=new De(new D(_0x56325e['aabbCenter']),new D(_0x56325e['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0x24d264,_0x56325e,ku);}['cloneCompo'+'nent'](_0x3da7a9,_0xb3675e){const _0x3a52af={};for(let _0x33b3d2=0x2527+0x3*-0x8f+-0x1de*0x13;_0x33b3d2<Gr['length'];_0x33b3d2++)_0x3a52af[Gr[_0x33b3d2]]=_0x3da7a9['render'][Gr[_0x33b3d2]];_0x3a52af['enabled']=_0x3da7a9['render']['enabled'],delete _0x3a52af['meshInstan'+'ces'];const _0x4a1112=this['addCompone'+'nt'](_0xb3675e,_0x3a52af),_0x3d81f1=_0x3da7a9['render']['meshInstan'+'ces'],_0x3a7289=_0x3d81f1['map'](_0x742140=>_0x742140['mesh']);_0x4a1112['_onSetMesh'+'es'](_0x3a7289);for(let _0x13c099=0x17*-0x53+0x5*-0x557+-0x1114*-0x2;_0x13c099<_0x3d81f1['length'];_0x13c099++)_0x4a1112['meshInstan'+'ces'][_0x13c099]['material']=_0x3d81f1[_0x13c099]['material'];return _0x3da7a9['render']['customAabb']&&(_0x4a1112['customAabb']=_0x3da7a9['render']['customAabb']['clone']()),_0x4a1112;}['onRemove'](_0x3a4f9f,_0x939418){_0x939418['onRemove']();}}we['_buildAcce'+'ssors'](n0['prototype'],ku);class bf{constructor(_0x1e279e,_0x549142){h(this,'_construct'+'or'),h(this,'_pool',[]),h(this,'_count',-0x231b+-0x2ef*0x8+-0x3a93*-0x1),(this['_construct'+'or']=_0x1e279e,this['_resize'](_0x549142));}['_resize'](_0x3ec0e4){if(_0x3ec0e4>this['_pool']['length']){for(let _0x41e85a=this['_pool']['length'];_0x41e85a<_0x3ec0e4;_0x41e85a++)this['_pool'][_0x41e85a]=new this['_construct'+'or']();}}['allocate'](){return this['_count']>=this['_pool']['length']&&this['_resize'](this['_pool']['length']*(0x1*-0x11ef+0xc8a+0x567)),this['_pool'][this['_count']++];}['freeAll'](){this['_count']=0x146*0x5+0x1266+0x631*-0x4;}}let cs,Re,Bs,Ka;const VO=new le(),GO=new le(),Pc=new D();class bs extends we{constructor(){super(...arguments),h(this,'_angularDa'+'mping',-0x1661*0x1+0x2710+-0x10af),h(this,'_angularFa'+'ctor',new D(-0x1f3+0x463*-0x5+-0x5*-0x4c7,-0x10c2+-0x2*-0x12eb+-0x1513,0xa65*-0x1+0x2358+-0x3e*0x67)),h(this,'_angularVe'+'locity',new D()),h(this,'_body',null),h(this,'_friction',0x3f1*-0x5+-0x1038+-0x11*-0x21d+0.5),h(this,'_group',Gg),h(this,'_linearDam'+'ping',-0x1*0x2218+-0x1d7c+0x3f94),h(this,'_linearFac'+'tor',new D(0x2f*0x11+-0x16*-0x17f+-0x4*0x902,-0xc0a+0x2042+-0x1437,0x1*-0xb2+-0x3fa*-0x6+-0xb*0x21b)),h(this,'_linearVel'+'ocity',new D()),h(this,'_mask',Mu),h(this,'_mass',0x25c9+-0x1*-0x1ecb+0x1*-0x4493),h(this,'_restituti'+'on',-0x110a+-0x7*-0x569+-0x1*0x14d5),h(this,'_rollingFr'+'iction',-0x371*-0x5+-0x2*0xddd+0xa85),h(this,'_simulatio'+'nEnabled',!(-0x4f3+0x165a+-0x1166)),h(this,'_type',yo);}static['onLibraryL'+'oaded'](){typeof Ammo<'u'&&(cs=new Ammo['btTransfor'+'m'](),Re=new Ammo['btVector3'](),Bs=new Ammo['btVector3'](),Ka=new Ammo['btQuaterni'+'on']());}static['onAppDestr'+'oy'](){Ammo['destroy'](cs),Ammo['destroy'](Re),Ammo['destroy'](Bs),Ammo['destroy'](Ka),cs=null,Re=null,Bs=null,Ka=null;}set['angularDam'+'ping'](_0x20c553){this['_angularDa'+'mping']!==_0x20c553&&(this['_angularDa'+'mping']=_0x20c553,this['_body']&&this['_body']['setDamping'](this['_linearDam'+'ping'],_0x20c553));}get['angularDam'+'ping'](){return this['_angularDa'+'mping'];}set['angularFac'+'tor'](_0x4477dc){this['_angularFa'+'ctor']['equals'](_0x4477dc)||(this['_angularFa'+'ctor']['copy'](_0x4477dc),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x4477dc['x'],_0x4477dc['y'],_0x4477dc['z']),this['_body']['setAngular'+'Factor'](Re)));}get['angularFac'+'tor'](){return this['_angularFa'+'ctor'];}set['angularVel'+'ocity'](_0x2646b3){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x2646b3['x'],_0x2646b3['y'],_0x2646b3['z']),this['_body']['setAngular'+'Velocity'](Re),this['_angularVe'+'locity']['copy'](_0x2646b3));}get['angularVel'+'ocity'](){if(this['_body']&&this['_type']===ks){const _0x3cb2d8=this['_body']['getAngular'+'Velocity']();this['_angularVe'+'locity']['set'](_0x3cb2d8['x'](),_0x3cb2d8['y'](),_0x3cb2d8['z']());}return this['_angularVe'+'locity'];}set['body'](_0x40be90){this['_body']!==_0x40be90&&(this['_body']=_0x40be90,_0x40be90&&this['_simulatio'+'nEnabled']&&_0x40be90['activate']());}get['body'](){return this['_body'];}set['friction'](_0x5208ba){this['_friction']!==_0x5208ba&&(this['_friction']=_0x5208ba,this['_body']&&this['_body']['setFrictio'+'n'](_0x5208ba));}get['friction'](){return this['_friction'];}set['group'](_0x41b98a){this['_group']!==_0x41b98a&&(this['_group']=_0x41b98a,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['group'](){return this['_group'];}set['linearDamp'+'ing'](_0x217b46){this['_linearDam'+'ping']!==_0x217b46&&(this['_linearDam'+'ping']=_0x217b46,this['_body']&&this['_body']['setDamping'](_0x217b46,this['_angularDa'+'mping']));}get['linearDamp'+'ing'](){return this['_linearDam'+'ping'];}set['linearFact'+'or'](_0x2742f0){this['_linearFac'+'tor']['equals'](_0x2742f0)||(this['_linearFac'+'tor']['copy'](_0x2742f0),this['_body']&&this['_type']===ks&&(Re['setValue'](_0x2742f0['x'],_0x2742f0['y'],_0x2742f0['z']),this['_body']['setLinearF'+'actor'](Re)));}get['linearFact'+'or'](){return this['_linearFac'+'tor'];}set['linearVelo'+'city'](_0x1f7409){this['_body']&&this['_type']===ks&&(this['_body']['activate'](),Re['setValue'](_0x1f7409['x'],_0x1f7409['y'],_0x1f7409['z']),this['_body']['setLinearV'+'elocity'](Re),this['_linearVel'+'ocity']['copy'](_0x1f7409));}get['linearVelo'+'city'](){if(this['_body']&&this['_type']===ks){const _0x340be5=this['_body']['getLinearV'+'elocity']();this['_linearVel'+'ocity']['set'](_0x340be5['x'](),_0x340be5['y'](),_0x340be5['z']());}return this['_linearVel'+'ocity'];}set['mask'](_0x23f4b4){this['_mask']!==_0x23f4b4&&(this['_mask']=_0x23f4b4,this['enabled']&&this['entity']['enabled']&&(this['disableSim'+'ulation'](),this['enableSimu'+'lation']()));}get['mask'](){return this['_mask'];}set['mass'](_0x1cfef1){if(this['_mass']!==_0x1cfef1&&(this['_mass']=_0x1cfef1,this['_body']&&this['_type']===ks)){const _0x4dd82e=this['enabled']&&this['entity']['enabled'];_0x4dd82e&&this['disableSim'+'ulation'](),this['_body']['getCollisi'+'onShape']()['calculateL'+'ocalInerti'+'a'](_0x1cfef1,Re),this['_body']['setMassPro'+'ps'](_0x1cfef1,Re),this['_body']['updateIner'+'tiaTensor'](),_0x4dd82e&&this['enableSimu'+'lation']();}}get['mass'](){return this['_mass'];}set['restitutio'+'n'](_0x1739a3){this['_restituti'+'on']!==_0x1739a3&&(this['_restituti'+'on']=_0x1739a3,this['_body']&&this['_body']['setRestitu'+'tion'](_0x1739a3));}get['restitutio'+'n'](){return this['_restituti'+'on'];}set['rollingFri'+'ction'](_0x1299fd){this['_rollingFr'+'iction']!==_0x1299fd&&(this['_rollingFr'+'iction']=_0x1299fd,this['_body']&&this['_body']['setRolling'+'Friction'](_0x1299fd));}get['rollingFri'+'ction'](){return this['_rollingFr'+'iction'];}set['type'](_0x13827f){if(this['_type']!==_0x13827f){switch(this['_type']=_0x13827f,this['disableSim'+'ulation'](),_0x13827f){case ks:this['_group']=jL,this['_mask']=Wg;break;case Ha:this['_group']=YL,this['_mask']=Wg;break;case yo:default:this['_group']=Gg,this['_mask']=Mu;break;}this['createBody']();}}get['type'](){return this['_type'];}['createBody'](){const _0x222c65=this['entity'];let _0x1a6dbe;if(_0x222c65['collision']&&(_0x1a6dbe=_0x222c65['collision']['shape'],_0x222c65['trigger']&&(_0x222c65['trigger']['destroy'](),delete _0x222c65['trigger'])),_0x1a6dbe){this['_body']&&(this['system']['removeBody'](this['_body']),this['system']['destroyBod'+'y'](this['_body']),this['_body']=null);const _0x14717b=this['_type']===ks?this['_mass']:-0x1*0x19c7+-0x21d*0xb+-0x4e7*-0xa;this['_getEntity'+'Transform'](cs);const _0x28bb42=this['system']['createBody'](_0x14717b,_0x1a6dbe,cs);if(_0x28bb42['setRestitu'+'tion'](this['_restituti'+'on']),_0x28bb42['setFrictio'+'n'](this['_friction']),_0x28bb42['setRolling'+'Friction'](this['_rollingFr'+'iction']),_0x28bb42['setDamping'](this['_linearDam'+'ping'],this['_angularDa'+'mping']),this['_type']===ks){const _0x46bf2b=this['_linearFac'+'tor'];Re['setValue'](_0x46bf2b['x'],_0x46bf2b['y'],_0x46bf2b['z']),_0x28bb42['setLinearF'+'actor'](Re);const _0x5905bc=this['_angularFa'+'ctor'];Re['setValue'](_0x5905bc['x'],_0x5905bc['y'],_0x5905bc['z']),_0x28bb42['setAngular'+'Factor'](Re);}else this['_type']===Ha&&(_0x28bb42['setCollisi'+'onFlags'](_0x28bb42['getCollisi'+'onFlags']()|qL),_0x28bb42['setActivat'+'ionState'](Vg));_0x28bb42['entity']=_0x222c65,this['body']=_0x28bb42,this['enabled']&&_0x222c65['enabled']&&this['enableSimu'+'lation']();}}['isActive'](){return this['_body']?this['_body']['isActive']():!(-0x1262+-0xbb1+0x1e14);}['activate'](){this['_body']&&this['_body']['activate']();}['enableSimu'+'lation'](){const _0xe043b7=this['entity'];if(_0xe043b7['collision']&&_0xe043b7['collision']['enabled']&&!this['_simulatio'+'nEnabled']){const _0x19b029=this['_body'];if(_0x19b029){switch(this['system']['addBody'](_0x19b029,this['_group'],this['_mask']),this['_type']){case ks:this['system']['_dynamic']['push'](this),_0x19b029['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;case Ha:this['system']['_kinematic']['push'](this),_0x19b029['forceActiv'+'ationState'](Vg);break;case yo:_0x19b029['forceActiv'+'ationState'](Pu),this['syncEntity'+'ToBody']();break;}_0xe043b7['collision']['type']==='compound'&&this['system']['_compounds']['push'](_0xe043b7['collision']),_0x19b029['activate'](),this['_simulatio'+'nEnabled']=!(0x10*-0xd6+-0x3a5*0xa+-0x1*-0x31d2);}}}['disableSim'+'ulation'](){const _0x4aa9be=this['_body'];if(_0x4aa9be&&this['_simulatio'+'nEnabled']){const _0x2fa90e=this['system'];let _0x1deadc=_0x2fa90e['_compounds']['indexOf'](this['entity']['collision']);_0x1deadc>-(0x544*-0x5+0x1381*0x1+0x5c*0x13)&&_0x2fa90e['_compounds']['splice'](_0x1deadc,-0x10ce+0x1121+-0x2*0x29),_0x1deadc=_0x2fa90e['_dynamic']['indexOf'](this),_0x1deadc>-(-0xa2b+0x200e+-0xaf1*0x2)&&_0x2fa90e['_dynamic']['splice'](_0x1deadc,0x116*-0x14+0x1397+0x222),_0x1deadc=_0x2fa90e['_kinematic']['indexOf'](this),_0x1deadc>-(0x1dd7+-0x5*-0x32b+-0x2dad)&&_0x2fa90e['_kinematic']['splice'](_0x1deadc,0xe7b+0x1404+-0x227e),_0x2fa90e['removeBody'](_0x4aa9be),_0x4aa9be['forceActiv'+'ationState'](Yv),this['_simulatio'+'nEnabled']=!(-0x1c39+-0xc09+0x2843);}}['applyForce'](_0x2c221b,_0x20f77c,_0x1ed5a1,_0x42c5a2,_0x56688d,_0x3abe4f){const _0x18ae8e=this['_body'];_0x18ae8e&&(_0x18ae8e['activate'](),_0x2c221b instanceof D?Re['setValue'](_0x2c221b['x'],_0x2c221b['y'],_0x2c221b['z']):Re['setValue'](_0x2c221b,_0x20f77c,_0x1ed5a1),_0x20f77c instanceof D?Bs['setValue'](_0x20f77c['x'],_0x20f77c['y'],_0x20f77c['z']):_0x42c5a2!==void(-0x113*-0x6+-0x337+-0x33b)?Bs['setValue'](_0x42c5a2,_0x56688d,_0x3abe4f):Bs['setValue'](0x249a+-0x2*-0x29c+-0x29d2,0x118a+0x23ca+-0x3554,0x1*0x7db+0x14f*0x6+-0xfb5),_0x18ae8e['applyForce'](Re,Bs));}['applyTorqu'+'e'](_0x58dcf3,_0x489e75,_0x10d8ce){const _0x1aaedd=this['_body'];_0x1aaedd&&(_0x1aaedd['activate'](),_0x58dcf3 instanceof D?Re['setValue'](_0x58dcf3['x'],_0x58dcf3['y'],_0x58dcf3['z']):Re['setValue'](_0x58dcf3,_0x489e75,_0x10d8ce),_0x1aaedd['applyTorqu'+'e'](Re));}['applyImpul'+'se'](_0x25b36b,_0x15c234,_0x2bf87f,_0x5088de,_0x35d409,_0xd478e6){const _0x146f31=this['_body'];_0x146f31&&(_0x146f31['activate'](),_0x25b36b instanceof D?Re['setValue'](_0x25b36b['x'],_0x25b36b['y'],_0x25b36b['z']):Re['setValue'](_0x25b36b,_0x15c234,_0x2bf87f),_0x15c234 instanceof D?Bs['setValue'](_0x15c234['x'],_0x15c234['y'],_0x15c234['z']):_0x5088de!==void(-0x1fce+0xed5*0x1+0x10f9)?Bs['setValue'](_0x5088de,_0x35d409,_0xd478e6):Bs['setValue'](-0x36a+0x264e*0x1+-0x22e4,0x1549+0x211f+0x3668*-0x1,-0x1b4c+-0x1*-0xa51+0x10fb),_0x146f31['applyImpul'+'se'](Re,Bs));}['applyTorqu'+'eImpulse'](_0x3a9217,_0xf68c52,_0xff4ad3){const _0x322dba=this['_body'];_0x322dba&&(_0x322dba['activate'](),_0x3a9217 instanceof D?Re['setValue'](_0x3a9217['x'],_0x3a9217['y'],_0x3a9217['z']):Re['setValue'](_0x3a9217,_0xf68c52,_0xff4ad3),_0x322dba['applyTorqu'+'eImpulse'](Re));}['isStatic'](){return this['_type']===yo;}['isStaticOr'+'Kinematic'](){return this['_type']===yo||this['_type']===Ha;}['isKinemati'+'c'](){return this['_type']===Ha;}['_getEntity'+'Transform'](_0x25859b){const _0x2e9408=this['entity'],_0x5499cb=_0x2e9408['collision'];if(_0x5499cb){const _0x2f3231=_0x5499cb['getShapePo'+'sition'](),_0x26b122=_0x5499cb['getShapeRo'+'tation']();Re['setValue'](_0x2f3231['x'],_0x2f3231['y'],_0x2f3231['z']),Ka['setValue'](_0x26b122['x'],_0x26b122['y'],_0x26b122['z'],_0x26b122['w']);}else{const _0x3acc73=_0x2e9408['getPositio'+'n'](),_0x5a82a7=_0x2e9408['getRotatio'+'n']();Re['setValue'](_0x3acc73['x'],_0x3acc73['y'],_0x3acc73['z']),Ka['setValue'](_0x5a82a7['x'],_0x5a82a7['y'],_0x5a82a7['z'],_0x5a82a7['w']);}_0x25859b['setOrigin'](Re),_0x25859b['setRotatio'+'n'](Ka);}['syncEntity'+'ToBody'](){const _0x2cc1e7=this['_body'];if(_0x2cc1e7){if(this['_getEntity'+'Transform'](cs),_0x2cc1e7['setWorldTr'+'ansform'](cs),this['_type']===Ha){const _0x72ecad=_0x2cc1e7['getMotionS'+'tate']();_0x72ecad&&_0x72ecad['setWorldTr'+'ansform'](cs);}_0x2cc1e7['activate']();}}['_updateDyn'+'amic'](){const _0x53a1db=this['_body'];if(_0x53a1db['isActive']()){const _0x338b3e=_0x53a1db['getMotionS'+'tate']();if(_0x338b3e){const _0x1fbabf=this['entity'];_0x338b3e['getWorldTr'+'ansform'](cs);const _0xa3be89=cs['getOrigin'](),_0x1b3c18=cs['getRotatio'+'n'](),_0x4d0eb7=_0x1fbabf['collision'];if(_0x4d0eb7&&_0x4d0eb7['_hasOffset']){const _0x8c0f8b=_0x4d0eb7['data']['linearOffs'+'et'],_0x54c9d3=_0x4d0eb7['data']['angularOff'+'set'],_0x461249=GO['copy'](_0x54c9d3)['invert'](),_0x50e6ac=VO['set'](_0x1b3c18['x'](),_0x1b3c18['y'](),_0x1b3c18['z'](),_0x1b3c18['w']())['mul'](_0x461249);_0x50e6ac['transformV'+'ector'](_0x8c0f8b,Pc),_0x1fbabf['setPositio'+'n'](_0xa3be89['x']()-Pc['x'],_0xa3be89['y']()-Pc['y'],_0xa3be89['z']()-Pc['z']),_0x1fbabf['setRotatio'+'n'](_0x50e6ac);}else _0x1fbabf['setPositio'+'n'](_0xa3be89['x'](),_0xa3be89['y'](),_0xa3be89['z']()),_0x1fbabf['setRotatio'+'n'](_0x1b3c18['x'](),_0x1b3c18['y'](),_0x1b3c18['z'](),_0x1b3c18['w']());}}}['_updateKin'+'ematic'](){const _0x396595=this['_body']['getMotionS'+'tate']();_0x396595&&(this['_getEntity'+'Transform'](cs),_0x396595['setWorldTr'+'ansform'](cs));}['teleport'](_0x2d7b66,_0x1e7df3,_0x2b5426,_0x4a9dbc,_0x455275,_0x557de1){_0x2d7b66 instanceof D?this['entity']['setPositio'+'n'](_0x2d7b66):this['entity']['setPositio'+'n'](_0x2d7b66,_0x1e7df3,_0x2b5426),_0x1e7df3 instanceof le?this['entity']['setRotatio'+'n'](_0x1e7df3):_0x1e7df3 instanceof D?this['entity']['setEulerAn'+'gles'](_0x1e7df3):_0x4a9dbc!==void(0x1c5c+-0x29*0x97+-0x42d)&&this['entity']['setEulerAn'+'gles'](_0x4a9dbc,_0x455275,_0x557de1),this['syncEntity'+'ToBody']();}['onEnable'](){this['_body']||this['createBody'](),this['enableSimu'+'lation']();}['onDisable'](){this['disableSim'+'ulation']();}}h(bs,'EVENT_CONT'+'ACT','contact'),h(bs,'EVENT_COLL'+'ISIONSTART','collisions'+'tart'),h(bs,'EVENT_COLL'+'ISIONEND','collisione'+'nd'),h(bs,'EVENT_TRIG'+'GERENTER','triggerent'+'er'),h(bs,'EVENT_TRIG'+'GERLEAVE','triggerlea'+'ve'),h(bs,'order',-(0x1f95+0xb*0x287+-0x3b61));class HO{constructor(){this['enabled']=!(0x63f*-0x6+-0xc9d+0x3217);}}let Mi,Di;class eS{constructor(_0x1454c5,_0x180c6e,_0x38b803,_0x39af91){h(this,'entity'),h(this,'point'),h(this,'normal'),h(this,'hitFractio'+'n'),(this['entity']=_0x1454c5,this['point']=_0x180c6e,this['normal']=_0x38b803,this['hitFractio'+'n']=_0x39af91);}}class WO{constructor(_0x37fd5d,_0xf9edc4,_0x252d56){h(this,'a'),h(this,'b'),h(this,'impulse'),h(this,'localPoint'+'A'),h(this,'localPoint'+'B'),h(this,'pointA'),h(this,'pointB'),h(this,'normal'),arguments['length']!==0x1*0xf9d+-0x12*-0xd7+-0x1*0x1ebb?(this['a']=_0x37fd5d,this['b']=_0xf9edc4,this['impulse']=_0x252d56['impulse'],this['localPoint'+'A']=_0x252d56['localPoint'],this['localPoint'+'B']=_0x252d56['localPoint'+'Other'],this['pointA']=_0x252d56['point'],this['pointB']=_0x252d56['pointOther'],this['normal']=_0x252d56['normal']):(this['a']=null,this['b']=null,this['impulse']=0x2074+-0x25*0xcd+-0x2d3,this['localPoint'+'A']=new D(),this['localPoint'+'B']=new D(),this['pointA']=new D(),this['pointB']=new D(),this['normal']=new D());}}class $O{constructor(_0x311e18=new D(),_0x4e11db=new D(),_0x48b900=new D(),_0x306734=new D(),_0x59e54e=new D(),_0x2de1f3=0x3*0x91+-0x718+0x565){h(this,'localPoint'),h(this,'localPoint'+'Other'),h(this,'point'),h(this,'pointOther'),h(this,'normal'),h(this,'impulse'),(this['localPoint']=_0x311e18,this['localPoint'+'Other']=_0x4e11db,this['point']=_0x48b900,this['pointOther']=_0x306734,this['normal']=_0x59e54e,this['impulse']=_0x2de1f3);}}class XO{constructor(_0x30d52f,_0x4fc51c){h(this,'other'),h(this,'contacts'),(this['other']=_0x30d52f,this['contacts']=_0x4fc51c);}}const o0=['enabled'];class wm extends ct{constructor(_0x34946a){super(_0x34946a),h(this,'maxSubStep'+'s',0x3e*-0x57+0x130a+0x212),h(this,'fixedTimeS'+'tep',(-0x14ad+-0x23de+0x388c)/(0x397*-0x2+-0x5da*0x3+0x18f8)),h(this,'gravity',new D(0xe*0xc7+-0x54d*-0x1+-0x102f,-(0x1fd1+0x26a2+-0x466a+0.8100000000000005),-0xa*-0x325+0xeb+0x205d*-0x1)),h(this,'_gravityFl'+'oat32',new Float32Array(-0x1f*0xc7+-0xb17+0x2333)),h(this,'_dynamic',[]),h(this,'_kinematic',[]),h(this,'_triggers',[]),h(this,'_compounds',[]),(this['id']='rigidbody',this['_stats']=_0x34946a['stats']['frame'],this['ComponentT'+'ype']=bs,this['DataType']=HO,this['contactPoi'+'ntPool']=null,this['contactRes'+'ultPool']=null,this['singleCont'+'actResultP'+'ool']=null,this['schema']=o0,this['collisions']={},this['frameColli'+'sions']={},this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this));}['onLibraryL'+'oaded'](){if(typeof Ammo<'u'){if(this['collisionC'+'onfigurati'+'on']=new Ammo['btDefaultC'+'ollisionCo'+'nfiguratio'+'n'](),this['dispatcher']=new Ammo['btCollisio'+'nDispatche'+'r'](this['collisionC'+'onfigurati'+'on']),this['overlappin'+'gPairCache']=new Ammo['btDbvtBroa'+'dphase'](),this['solver']=new Ammo['btSequenti'+'alImpulseC'+'onstraintS'+'olver'](),this['dynamicsWo'+'rld']=new Ammo['btDiscrete'+'DynamicsWo'+'rld'](this['dispatcher'],this['overlappin'+'gPairCache'],this['solver'],this['collisionC'+'onfigurati'+'on']),this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']){const _0x472384=Ammo['addFunctio'+'n'](this['_checkForC'+'ollisions']['bind'](this),'vif');this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack'](_0x472384);}else w['warn']('WARNING:\x20T'+'his\x20versio'+'n\x20of\x20ammo.'+'js\x20can\x20pot'+'entially\x20f'+'ail\x20to\x20rep'+'ort\x20contac'+'ts.\x20Please'+'\x20update\x20it'+'\x20to\x20the\x20la'+'test\x20versi'+'on.');Mi=new Ammo['btVector3'](),Di=new Ammo['btVector3'](),bs['onLibraryL'+'oaded'](),this['contactPoi'+'ntPool']=new bf($O,0x67*-0x21+0x1b93+-0xe4b*0x1),this['contactRes'+'ultPool']=new bf(XO,-0x2019+-0x3*0xc2e+-0x1129*-0x4),this['singleCont'+'actResultP'+'ool']=new bf(WO,-0x685*-0x1+-0x8*-0x3+-0x69c),this['app']['systems']['on']('update',this['onUpdate'],this);}else this['app']['systems']['off']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x4bf4f8,_0x382b49,_0xbbcc02){const _0x21009b=['mass','linearDamp'+'ing','angularDam'+'ping','linearFact'+'or','angularFac'+'tor','friction','rollingFri'+'ction','restitutio'+'n','type','group','mask'];for(const _0x3698bd of _0x21009b)if(_0x382b49['hasOwnProp'+'erty'](_0x3698bd)){const _0x16fe40=_0x382b49[_0x3698bd];Array['isArray'](_0x16fe40)?_0x4bf4f8[_0x3698bd]=new D(_0x16fe40[-0x6*-0x21c+-0x7de+-0x4ca],_0x16fe40[0xf5c+-0x1ece+0xf73],_0x16fe40[0x6*0x405+-0xdca+0x2*-0x529]):_0x4bf4f8[_0x3698bd]=_0x16fe40;}super['initialize'+'ComponentD'+'ata'](_0x4bf4f8,_0x382b49,['enabled']);}['cloneCompo'+'nent'](_0x509bd2,_0x135444){const _0x48619e=_0x509bd2['rigidbody'],_0x402560={'enabled':_0x48619e['enabled'],'mass':_0x48619e['mass'],'linearDamping':_0x48619e['linearDamp'+'ing'],'angularDamping':_0x48619e['angularDam'+'ping'],'linearFactor':[_0x48619e['linearFact'+'or']['x'],_0x48619e['linearFact'+'or']['y'],_0x48619e['linearFact'+'or']['z']],'angularFactor':[_0x48619e['angularFac'+'tor']['x'],_0x48619e['angularFac'+'tor']['y'],_0x48619e['angularFac'+'tor']['z']],'friction':_0x48619e['friction'],'rollingFriction':_0x48619e['rollingFri'+'ction'],'restitution':_0x48619e['restitutio'+'n'],'type':_0x48619e['type'],'group':_0x48619e['group'],'mask':_0x48619e['mask']};return this['addCompone'+'nt'](_0x135444,_0x402560);}['onBeforeRe'+'move'](_0x13112a,_0x5e9e96){_0x5e9e96['enabled']&&(_0x5e9e96['enabled']=!(0x1292+-0x2615+0x9c2*0x2)),_0x5e9e96['body']&&(this['destroyBod'+'y'](_0x5e9e96['body']),_0x5e9e96['body']=null);}['addBody'](_0x43d41f,_0x26f6b8,_0x396ade){_0x26f6b8!==void(0x2547+0xc1*-0x11+-0x2*0xc3b)&&_0x396ade!==void(-0x2*-0xc73+-0x6*-0x34c+-0x2cae)?this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x43d41f,_0x26f6b8,_0x396ade):this['dynamicsWo'+'rld']['addRigidBo'+'dy'](_0x43d41f);}['removeBody'](_0x20239e){this['dynamicsWo'+'rld']['removeRigi'+'dBody'](_0x20239e);}['createBody'](_0x37a632,_0x299f25,_0x48949d){const _0x3a0d25=new Ammo['btVector3'](0x2*0x44f+0x333+-0xbd1,0x19f6+0xef*-0x1d+0x3*0x5f,0x3a0+-0x2612+-0x2*-0x1139);_0x37a632!==-0xc63+0x2e3+0x980&&_0x299f25['calculateL'+'ocalInerti'+'a'](_0x37a632,_0x3a0d25);const _0x2cf0f1=new Ammo['btDefaultM'+'otionState'](_0x48949d),_0x1aa4ab=new Ammo['btRigidBod'+'yConstruct'+'ionInfo'](_0x37a632,_0x2cf0f1,_0x299f25,_0x3a0d25),_0x174292=new Ammo['btRigidBod'+'y'](_0x1aa4ab);return Ammo['destroy'](_0x1aa4ab),Ammo['destroy'](_0x3a0d25),_0x174292;}['destroyBod'+'y'](_0x3cb677){const _0x5e060e=_0x3cb677['getMotionS'+'tate']();_0x5e060e&&Ammo['destroy'](_0x5e060e),Ammo['destroy'](_0x3cb677);}['raycastFir'+'st'](_0x28553b,_0x3ffa26,_0x4d8bf9={}){if(_0x4d8bf9['filterTags']||_0x4d8bf9['filterCall'+'back'])return _0x4d8bf9['sort']=!(0x1*0x54f+-0x21b4+0x1c65),this['raycastAll'](_0x28553b,_0x3ffa26,_0x4d8bf9)[0x225a+-0xc43+-0x1617]||null;let _0x359e89=null;Mi['setValue'](_0x28553b['x'],_0x28553b['y'],_0x28553b['z']),Di['setValue'](_0x3ffa26['x'],_0x3ffa26['y'],_0x3ffa26['z']);const _0x5417f6=new Ammo['ClosestRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0x4d8bf9['filterColl'+'isionGroup']=='number'&&_0x5417f6['set_m_coll'+'isionFilte'+'rGroup'](_0x4d8bf9['filterColl'+'isionGroup']),typeof _0x4d8bf9['filterColl'+'isionMask']=='number'&&_0x5417f6['set_m_coll'+'isionFilte'+'rMask'](_0x4d8bf9['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x5417f6),_0x5417f6['hasHit']()){const _0x2a07e8=_0x5417f6['get_m_coll'+'isionObjec'+'t'](),_0x4853e5=Ammo['castObject'](_0x2a07e8,Ammo['btRigidBod'+'y']);if(_0x4853e5){const _0x2b23e3=_0x5417f6['get_m_hitP'+'ointWorld'](),_0x4ef26f=_0x5417f6['get_m_hitN'+'ormalWorld']();_0x359e89=new eS(_0x4853e5['entity'],new D(_0x2b23e3['x'](),_0x2b23e3['y'](),_0x2b23e3['z']()),new D(_0x4ef26f['x'](),_0x4ef26f['y'](),_0x4ef26f['z']()),_0x5417f6['get_m_clos'+'estHitFrac'+'tion']());}}return Ammo['destroy'](_0x5417f6),_0x359e89;}['raycastAll'](_0x3f3ea7,_0x3b52c8,_0xfa9722={}){w['assert'](Ammo['AllHitsRay'+'ResultCall'+'back'],'pc.RigidBo'+'dyComponen'+'tSystem#ra'+'ycastAll:\x20'+'Your\x20versi'+'on\x20of\x20ammo'+'.js\x20does\x20n'+'ot\x20expose\x20'+'Ammo.AllHi'+'tsRayResul'+'tCallback.'+'\x20Update\x20it'+'\x20to\x20latest'+'.');const _0x566e74=[];Mi['setValue'](_0x3f3ea7['x'],_0x3f3ea7['y'],_0x3f3ea7['z']),Di['setValue'](_0x3b52c8['x'],_0x3b52c8['y'],_0x3b52c8['z']);const _0x288cd8=new Ammo['AllHitsRay'+'ResultCall'+'back'](Mi,Di);if(typeof _0xfa9722['filterColl'+'isionGroup']=='number'&&_0x288cd8['set_m_coll'+'isionFilte'+'rGroup'](_0xfa9722['filterColl'+'isionGroup']),typeof _0xfa9722['filterColl'+'isionMask']=='number'&&_0x288cd8['set_m_coll'+'isionFilte'+'rMask'](_0xfa9722['filterColl'+'isionMask']),this['dynamicsWo'+'rld']['rayTest'](Mi,Di,_0x288cd8),_0x288cd8['hasHit']()){const _0x545366=_0x288cd8['get_m_coll'+'isionObjec'+'ts'](),_0x24eda6=_0x288cd8['get_m_hitP'+'ointWorld'](),_0x3c1f07=_0x288cd8['get_m_hitN'+'ormalWorld'](),_0xa51492=_0x288cd8['get_m_hitF'+'ractions'](),_0x2cb66c=_0x545366['size']();for(let _0x4a198d=-0x1*-0x25bd+0x2*-0xb51+-0xf1b;_0x4a198d<_0x2cb66c;_0x4a198d++){const _0x3d8673=Ammo['castObject'](_0x545366['at'](_0x4a198d),Ammo['btRigidBod'+'y']);if(_0x3d8673&&_0x3d8673['entity']){if(_0xfa9722['filterTags']&&!_0x3d8673['entity']['tags']['has'](..._0xfa9722['filterTags'])||_0xfa9722['filterCall'+'back']&&!_0xfa9722['filterCall'+'back'](_0x3d8673['entity']))continue;const _0x51566b=_0x24eda6['at'](_0x4a198d),_0x3cd737=_0x3c1f07['at'](_0x4a198d),_0x4ad0d9=new eS(_0x3d8673['entity'],new D(_0x51566b['x'](),_0x51566b['y'](),_0x51566b['z']()),new D(_0x3cd737['x'](),_0x3cd737['y'](),_0x3cd737['z']()),_0xa51492['at'](_0x4a198d));_0x566e74['push'](_0x4ad0d9);}}_0xfa9722['sort']&&_0x566e74['sort']((_0x381dca,_0x1182e5)=>_0x381dca['hitFractio'+'n']-_0x1182e5['hitFractio'+'n']);}return Ammo['destroy'](_0x288cd8),_0x566e74;}['_storeColl'+'ision'](_0x24e212,_0x17f97c){let _0x15049e=!(0xd07+-0x26e7+0x19e1);const _0x2fcb49=_0x24e212['getGuid']();return this['collisions'][_0x2fcb49]=this['collisions'][_0x2fcb49]||{'others':[],'entity':_0x24e212},this['collisions'][_0x2fcb49]['others']['indexOf'](_0x17f97c)<-0x2264+-0x53*0x3a+0x16*0x26b&&(this['collisions'][_0x2fcb49]['others']['push'](_0x17f97c),_0x15049e=!(-0x1f99*-0x1+-0x7e+-0x1f1b*0x1)),this['frameColli'+'sions'][_0x2fcb49]=this['frameColli'+'sions'][_0x2fcb49]||{'others':[],'entity':_0x24e212},this['frameColli'+'sions'][_0x2fcb49]['others']['push'](_0x17f97c),_0x15049e;}['_createCon'+'tactPointF'+'romAmmo'](_0xd44453){const _0x2b54c5=_0xd44453['get_m_loca'+'lPointA'](),_0x1f1e41=_0xd44453['get_m_loca'+'lPointB'](),_0x4bbccc=_0xd44453['getPositio'+'nWorldOnA'](),_0x1f84cf=_0xd44453['getPositio'+'nWorldOnB'](),_0x108daa=_0xd44453['get_m_norm'+'alWorldOnB'](),_0x58c401=this['contactPoi'+'ntPool']['allocate']();return _0x58c401['localPoint']['set'](_0x2b54c5['x'](),_0x2b54c5['y'](),_0x2b54c5['z']()),_0x58c401['localPoint'+'Other']['set'](_0x1f1e41['x'](),_0x1f1e41['y'](),_0x1f1e41['z']()),_0x58c401['point']['set'](_0x4bbccc['x'](),_0x4bbccc['y'](),_0x4bbccc['z']()),_0x58c401['pointOther']['set'](_0x1f84cf['x'](),_0x1f84cf['y'](),_0x1f84cf['z']()),_0x58c401['normal']['set'](_0x108daa['x'](),_0x108daa['y'](),_0x108daa['z']()),_0x58c401['impulse']=_0xd44453['getApplied'+'Impulse'](),_0x58c401;}['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x3d978d){const _0x2245b5=_0x3d978d['get_m_loca'+'lPointA'](),_0x1d2d4b=_0x3d978d['get_m_loca'+'lPointB'](),_0xe529b0=_0x3d978d['getPositio'+'nWorldOnA'](),_0x212f61=_0x3d978d['getPositio'+'nWorldOnB'](),_0x1a1866=_0x3d978d['get_m_norm'+'alWorldOnB'](),_0x21b4cf=this['contactPoi'+'ntPool']['allocate']();return _0x21b4cf['localPoint'+'Other']['set'](_0x2245b5['x'](),_0x2245b5['y'](),_0x2245b5['z']()),_0x21b4cf['localPoint']['set'](_0x1d2d4b['x'](),_0x1d2d4b['y'](),_0x1d2d4b['z']()),_0x21b4cf['pointOther']['set'](_0xe529b0['x'](),_0xe529b0['y'](),_0xe529b0['z']()),_0x21b4cf['point']['set'](_0x212f61['x'](),_0x212f61['y'](),_0x212f61['z']()),_0x21b4cf['normal']['set'](_0x1a1866['x'](),_0x1a1866['y'](),_0x1a1866['z']()),_0x21b4cf['impulse']=_0x3d978d['getApplied'+'Impulse'](),_0x21b4cf;}['_createSin'+'gleContact'+'Result'](_0x326a43,_0x2f484b,_0x244eb7){const _0x46c94a=this['singleCont'+'actResultP'+'ool']['allocate']();return _0x46c94a['a']=_0x326a43,_0x46c94a['b']=_0x2f484b,_0x46c94a['localPoint'+'A']=_0x244eb7['localPoint'],_0x46c94a['localPoint'+'B']=_0x244eb7['localPoint'+'Other'],_0x46c94a['pointA']=_0x244eb7['point'],_0x46c94a['pointB']=_0x244eb7['pointOther'],_0x46c94a['normal']=_0x244eb7['normal'],_0x46c94a['impulse']=_0x244eb7['impulse'],_0x46c94a;}['_createCon'+'tactResult'](_0x1c620f,_0x2eb288){const _0x270110=this['contactRes'+'ultPool']['allocate']();return _0x270110['other']=_0x1c620f,_0x270110['contacts']=_0x2eb288,_0x270110;}['_cleanOldC'+'ollisions'](){for(const _0x41dffe in this['collisions'])if(this['collisions']['hasOwnProp'+'erty'](_0x41dffe)){const _0x34f6c8=this['frameColli'+'sions'][_0x41dffe],_0x5b0bea=this['collisions'][_0x41dffe],_0x218040=_0x5b0bea['entity'],_0x23f235=_0x218040['collision'],_0x240599=_0x218040['rigidbody'],_0x2ee048=_0x5b0bea['others'];let _0x21369a=_0x2ee048['length'];for(;_0x21369a--;){const _0x2facec=_0x2ee048[_0x21369a];(!_0x34f6c8||_0x34f6c8['others']['indexOf'](_0x2facec)<-0x76*0x53+-0x228c+0x48ce)&&(_0x2ee048['splice'](_0x21369a,0x36d*0xb+0x11cb+-0x3779),_0x218040['trigger']?(_0x23f235&&_0x23f235['fire']('triggerlea'+'ve',_0x2facec),_0x2facec['rigidbody']&&_0x2facec['rigidbody']['fire']('triggerlea'+'ve',_0x218040)):_0x2facec['trigger']||(_0x240599&&_0x240599['fire']('collisione'+'nd',_0x2facec),_0x23f235&&_0x23f235['fire']('collisione'+'nd',_0x2facec)));}_0x2ee048['length']===-0x236b+-0x2*-0x358+0x1cbb&&delete this['collisions'][_0x41dffe];}}['_hasContac'+'tEvent'](_0x424a6a){const _0x17d2b6=_0x424a6a['collision'];if(_0x17d2b6&&(_0x17d2b6['hasEvent']('collisions'+'tart')||_0x17d2b6['hasEvent']('collisione'+'nd')||_0x17d2b6['hasEvent']('contact')))return!(0xad9+-0x33*-0x38+-0x1*0x1601);const _0x1e62e7=_0x424a6a['rigidbody'];return _0x1e62e7&&(_0x1e62e7['hasEvent']('collisions'+'tart')||_0x1e62e7['hasEvent']('collisione'+'nd')||_0x1e62e7['hasEvent']('contact'));}['_checkForC'+'ollisions'](_0x202379,_0x49e561){const _0xaf06b3=Ammo['wrapPointe'+'r'](_0x202379,Ammo['btDynamics'+'World'])['getDispatc'+'her'](),_0x5d86d2=_0xaf06b3['getNumMani'+'folds']();this['frameColli'+'sions']={};for(let _0xcc8569=0x1*-0xbdb+-0x1d*0xf7+0x27d6;_0xcc8569<_0x5d86d2;_0xcc8569++){const _0x488279=_0xaf06b3['getManifol'+'dByIndexIn'+'ternal'](_0xcc8569),_0x3d0759=_0x488279['getBody0'](),_0x36a71c=_0x488279['getBody1'](),_0x453760=Ammo['castObject'](_0x3d0759,Ammo['btRigidBod'+'y']),_0x9b81eb=Ammo['castObject'](_0x36a71c,Ammo['btRigidBod'+'y']),_0x28e8c3=_0x453760['entity'],_0x41be4b=_0x9b81eb['entity'];if(!_0x28e8c3||!_0x41be4b)continue;const _0x21cac8=_0x453760['getCollisi'+'onFlags'](),_0x5712c2=_0x9b81eb['getCollisi'+'onFlags'](),_0x1d8d59=_0x488279['getNumCont'+'acts'](),_0x464080=[],_0x4fcb49=[];let _0xbfb398;if(_0x1d8d59>0xd6e+-0x137d+0x60f){if(_0x21cac8&Po||_0x5712c2&Po){const _0x105fc5=_0x28e8c3['collision']&&(_0x28e8c3['collision']['hasEvent']('triggerent'+'er')||_0x28e8c3['collision']['hasEvent']('triggerlea'+'ve')),_0x142811=_0x41be4b['collision']&&(_0x41be4b['collision']['hasEvent']('triggerent'+'er')||_0x41be4b['collision']['hasEvent']('triggerlea'+'ve')),_0x2457a5=_0x28e8c3['rigidbody']&&(_0x28e8c3['rigidbody']['hasEvent']('triggerent'+'er')||_0x28e8c3['rigidbody']['hasEvent']('triggerlea'+'ve')),_0x448414=_0x41be4b['rigidbody']&&(_0x41be4b['rigidbody']['hasEvent']('triggerent'+'er')||_0x41be4b['rigidbody']['hasEvent']('triggerlea'+'ve'));_0x105fc5&&(_0xbfb398=this['_storeColl'+'ision'](_0x28e8c3,_0x41be4b),_0xbfb398&&!(_0x5712c2&Po)&&_0x28e8c3['collision']['fire']('triggerent'+'er',_0x41be4b)),_0x142811&&(_0xbfb398=this['_storeColl'+'ision'](_0x41be4b,_0x28e8c3),_0xbfb398&&!(_0x21cac8&Po)&&_0x41be4b['collision']['fire']('triggerent'+'er',_0x28e8c3)),_0x2457a5&&(_0xbfb398||(_0xbfb398=this['_storeColl'+'ision'](_0x41be4b,_0x28e8c3)),_0xbfb398&&_0x28e8c3['rigidbody']['fire']('triggerent'+'er',_0x41be4b)),_0x448414&&(_0xbfb398||(_0xbfb398=this['_storeColl'+'ision'](_0x28e8c3,_0x41be4b)),_0xbfb398&&_0x41be4b['rigidbody']['fire']('triggerent'+'er',_0x28e8c3));}else{const _0x2c9f41=this['_hasContac'+'tEvent'](_0x28e8c3),_0x537811=this['_hasContac'+'tEvent'](_0x41be4b),_0x3a1d31=this['hasEvent']('contact');if(_0x3a1d31||_0x2c9f41||_0x537811){for(let _0x4334c7=-0x2606+0x1451*-0x1+0x3a57;_0x4334c7<_0x1d8d59;_0x4334c7++){const _0x4042b3=_0x488279['getContact'+'Point'](_0x4334c7),_0x223641=this['_createCon'+'tactPointF'+'romAmmo'](_0x4042b3);if(_0x2c9f41||_0x537811){_0x464080['push'](_0x223641);const _0x16ee08=this['_createRev'+'erseContac'+'tPointFrom'+'Ammo'](_0x4042b3);_0x4fcb49['push'](_0x16ee08);}if(_0x3a1d31){const _0x66573a=this['_createSin'+'gleContact'+'Result'](_0x28e8c3,_0x41be4b,_0x223641);this['fire']('contact',_0x66573a);}}if(_0x2c9f41){const _0x39c0e2=this['_createCon'+'tactResult'](_0x41be4b,_0x464080);_0xbfb398=this['_storeColl'+'ision'](_0x28e8c3,_0x41be4b),_0x28e8c3['collision']&&(_0x28e8c3['collision']['fire']('contact',_0x39c0e2),_0xbfb398&&_0x28e8c3['collision']['fire']('collisions'+'tart',_0x39c0e2)),_0x28e8c3['rigidbody']&&(_0x28e8c3['rigidbody']['fire']('contact',_0x39c0e2),_0xbfb398&&_0x28e8c3['rigidbody']['fire']('collisions'+'tart',_0x39c0e2));}if(_0x537811){const _0x13d04f=this['_createCon'+'tactResult'](_0x28e8c3,_0x4fcb49);_0xbfb398=this['_storeColl'+'ision'](_0x41be4b,_0x28e8c3),_0x41be4b['collision']&&(_0x41be4b['collision']['fire']('contact',_0x13d04f),_0xbfb398&&_0x41be4b['collision']['fire']('collisions'+'tart',_0x13d04f)),_0x41be4b['rigidbody']&&(_0x41be4b['rigidbody']['fire']('contact',_0x13d04f),_0xbfb398&&_0x41be4b['rigidbody']['fire']('collisions'+'tart',_0x13d04f));}}}}}this['_cleanOldC'+'ollisions'](),this['contactPoi'+'ntPool']['freeAll'](),this['contactRes'+'ultPool']['freeAll'](),this['singleCont'+'actResultP'+'ool']['freeAll']();}['onUpdate'](_0x2e42c8){let _0x23e2ac,_0x715dc1;this['_stats']['physicsSta'+'rt']=de(),this['_gravityFl'+'oat32'][0x19c3+0xfb9+-0x297c]=this['gravity']['x'],this['_gravityFl'+'oat32'][-0xce0+0x1*0x235+0xaac]=this['gravity']['y'],this['_gravityFl'+'oat32'][0x1fa1+0x1b28+-0x3ac7]=this['gravity']['z'];const _0x3ec1cc=this['dynamicsWo'+'rld']['getGravity']();(_0x3ec1cc['x']()!==this['_gravityFl'+'oat32'][0xf7e+0x9ff+-0x197d]||_0x3ec1cc['y']()!==this['_gravityFl'+'oat32'][-0x7ef+-0x1*0x1997+0x2187]||_0x3ec1cc['z']()!==this['_gravityFl'+'oat32'][0x2*-0x113+0xa48+-0x68*0x14])&&(_0x3ec1cc['setValue'](this['gravity']['x'],this['gravity']['y'],this['gravity']['z']),this['dynamicsWo'+'rld']['setGravity'](_0x3ec1cc));const _0x1039f0=this['_triggers'];for(_0x23e2ac=0x20a6+0x247c+0x1*-0x4522,_0x715dc1=_0x1039f0['length'];_0x23e2ac<_0x715dc1;_0x23e2ac++)_0x1039f0[_0x23e2ac]['updateTran'+'sform']();const _0x4737fd=this['_compounds'];for(_0x23e2ac=0x116c+-0x214a+0x6*0x2a5,_0x715dc1=_0x4737fd['length'];_0x23e2ac<_0x715dc1;_0x23e2ac++)_0x4737fd[_0x23e2ac]['_updateCom'+'pound']();const _0xd6dc1b=this['_kinematic'];for(_0x23e2ac=-0x309*-0xb+0x1ddf+0x6*-0xa8b,_0x715dc1=_0xd6dc1b['length'];_0x23e2ac<_0x715dc1;_0x23e2ac++)_0xd6dc1b[_0x23e2ac]['_updateKin'+'ematic']();this['dynamicsWo'+'rld']['stepSimula'+'tion'](_0x2e42c8,this['maxSubStep'+'s'],this['fixedTimeS'+'tep']);const _0x21fce8=this['_dynamic'];for(_0x23e2ac=-0x9*-0x25+0x1*-0x10c3+0xf76,_0x715dc1=_0x21fce8['length'];_0x23e2ac<_0x715dc1;_0x23e2ac++)_0x21fce8[_0x23e2ac]['_updateDyn'+'amic']();this['dynamicsWo'+'rld']['setInterna'+'lTickCallb'+'ack']||this['_checkForC'+'ollisions'](Ammo['getPointer'](this['dynamicsWo'+'rld']),_0x2e42c8),this['_stats']['physicsTim'+'e']=de()-this['_stats']['physicsSta'+'rt'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),typeof Ammo<'u'&&(Ammo['destroy'](this['dynamicsWo'+'rld']),Ammo['destroy'](this['solver']),Ammo['destroy'](this['overlappin'+'gPairCache']),Ammo['destroy'](this['dispatcher']),Ammo['destroy'](this['collisionC'+'onfigurati'+'on']),Ammo['destroy'](Mi),Ammo['destroy'](Di),this['dynamicsWo'+'rld']=null,this['solver']=null,this['overlappin'+'gPairCache']=null,this['dispatcher']=null,this['collisionC'+'onfigurati'+'on']=null,Mi=null,Di=null,bs['onAppDestr'+'oy']());}}h(wm,'EVENT_CONT'+'ACT','contact'),we['_buildAcce'+'ssors'](bs['prototype'],o0);const Za='none',qO='blend',tS=new te();class l0 extends we{constructor(_0x37d3ed,_0x4fe119){super(_0x37d3ed,_0x4fe119),this['_resolutio'+'n']=new J(-0x19ea*-0x1+0x1ecc+-0x3636,-0x45b*-0x3+-0x107*-0x4+-0xfed),this['_reference'+'Resolution']=new J(0x69c+-0x208c+0x1c70,-0x114a+0x8*0x380+-0x976),this['_scaleMode']=Za,this['scale']=-0x604+-0x1282+0x1887,this['_scaleBlen'+'d']=0xe07+-0xba9+-0x1*0x25e+0.5,this['_priority']=-0xefd+0x194*-0x9+0x1d31,this['_screenSpa'+'ce']=!(0x1c6+0x1*-0x1c49+0x1a84),this['cull']=this['_screenSpa'+'ce'],this['_screenMat'+'rix']=new te(),this['_elements']=new Set(),_0x37d3ed['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this);}['syncDrawOr'+'der'](){this['system']['queueDrawO'+'rderSync'](this['entity']['getGuid'](),this['_processDr'+'awOrderSyn'+'c'],this);}['_recurseDr'+'awOrderSyn'+'c'](_0x34d822,_0x5608f8){var _0x37c2e7;if(!(_0x34d822 instanceof lt))return _0x5608f8;if(_0x34d822['element']){const _0x6cb1cf=_0x34d822['element']['drawOrder'];_0x34d822['element']['drawOrder']=_0x5608f8++,_0x34d822['element']['_batchGrou'+'pId']>=-0x97c*0x4+0x1458+0x1198&&_0x6cb1cf!==_0x34d822['element']['drawOrder']&&((_0x37c2e7=this['system']['app']['batcher'])==null||_0x37c2e7['markGroupD'+'irty'](_0x34d822['element']['_batchGrou'+'pId']));}_0x34d822['particlesy'+'stem']&&(_0x34d822['particlesy'+'stem']['drawOrder']=_0x5608f8++);const _0x38d495=_0x34d822['children'];for(let _0x47942e=0x8b5*-0x3+-0x626+0x2045;_0x47942e<_0x38d495['length'];_0x47942e++)_0x5608f8=this['_recurseDr'+'awOrderSyn'+'c'](_0x38d495[_0x47942e],_0x5608f8);return _0x5608f8;}['_processDr'+'awOrderSyn'+'c'](){this['_recurseDr'+'awOrderSyn'+'c'](this['entity'],0x1*0x1c09+0x17*0x105+-0x337b),this['fire']('syncdrawor'+'der');}['_calcProje'+'ctionMatri'+'x'](){const _0x5e0266=this['_resolutio'+'n']['x']/this['scale'],_0x251aa1=this['_resolutio'+'n']['y']/this['scale'],_0x203e44=-0xe40+-0x14f3+0x2333,_0x37e912=_0x5e0266,_0x21e27e=-_0x251aa1;this['_screenMat'+'rix']['setOrtho'](_0x203e44,_0x37e912,_0x21e27e,-0x1c*0xda+0x50c+0x12cc,0x1*-0x413+-0xbfb+0x100f,-(-0x6fd+0x16a8+-0xfaa)),this['_screenSpa'+'ce']||(tS['setScale']((0x6aa*0x3+-0xc01+0x1*-0x7fd+0.5)*_0x5e0266,(-0x1db3+-0x49d*-0x1+0x1916+0.5)*_0x251aa1,0x59*0x57+0x75*0x35+0x49*-0xbf),this['_screenMat'+'rix']['mul2'](tS,this['_screenMat'+'rix']));}['_updateSca'+'le'](){this['scale']=this['_calcScale'](this['_resolutio'+'n'],this['referenceR'+'esolution']);}['_calcScale'](_0x33b7d9,_0x2f01b9){const _0xd41df2=Math['log2']((_0x33b7d9['x']||-0x7b4+-0x256c+0x1*0x2d21)/_0x2f01b9['x']),_0xaa00f6=Math['log2']((_0x33b7d9['y']||-0x5d5*-0x2+0x215a+-0x1f5*0x17)/_0x2f01b9['y']);return Math['pow'](0x34*-0x6+-0x199*0x6+0xad0,_0xd41df2*(-0x11d4*-0x1+0x282+-0x3*0x6c7-this['_scaleBlen'+'d'])+_0xaa00f6*this['_scaleBlen'+'d']);}['_onResize'](_0x3a4559,_0x519f95){this['_screenSpa'+'ce']&&(this['_resolutio'+'n']['set'](_0x3a4559,_0x519f95),this['resolution']=this['_resolutio'+'n']);}['_bindEleme'+'nt'](_0xffe265){this['_elements']['add'](_0xffe265);}['_unbindEle'+'ment'](_0x669770){this['_elements']['delete'](_0x669770);}['onRemove'](){this['system']['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['fire']('remove'),this['_elements']['forEach'](_0x57aef7=>_0x57aef7['_onScreenR'+'emove']()),this['_elements']['clear'](),this['off']();}set['resolution'](_0x459ffd){this['_screenSpa'+'ce']?this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']):this['_resolutio'+'n']['set'](_0x459ffd['x'],_0x459ffd['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:resolu'+'tion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x36ff3d=>_0x36ff3d['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['resolution'](){return this['_resolutio'+'n'];}set['referenceR'+'esolution'](_0x1dfd54){this['_reference'+'Resolution']['set'](_0x1dfd54['x'],_0x1dfd54['y']),this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:refere'+'nceresolut'+'ion',this['_resolutio'+'n']),this['_elements']['forEach'](_0x58cbac=>_0x58cbac['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['referenceR'+'esolution'](){return this['_scaleMode']===Za?this['_resolutio'+'n']:this['_reference'+'Resolution'];}set['screenSpac'+'e'](_0x455418){this['_screenSpa'+'ce']=_0x455418,this['_screenSpa'+'ce']&&this['_resolutio'+'n']['set'](this['system']['app']['graphicsDe'+'vice']['width'],this['system']['app']['graphicsDe'+'vice']['height']),this['resolution']=this['_resolutio'+'n'],this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:screen'+'space',this['_screenSpa'+'ce']),this['_elements']['forEach'](_0x41864b=>_0x41864b['_onScreenS'+'paceChange']());}get['screenSpac'+'e'](){return this['_screenSpa'+'ce'];}set['scaleMode'](_0x3086bf){_0x3086bf!==Za&&_0x3086bf!==qO&&(_0x3086bf=Za),!this['_screenSpa'+'ce']&&_0x3086bf!==Za&&(_0x3086bf=Za),this['_scaleMode']=_0x3086bf,this['resolution']=this['_resolutio'+'n'],this['fire']('set:scalem'+'ode',this['_scaleMode']);}get['scaleMode'](){return this['_scaleMode'];}set['scaleBlend'](_0x4f6876){this['_scaleBlen'+'d']=_0x4f6876,this['_updateSca'+'le'](),this['_calcProje'+'ctionMatri'+'x'](),this['entity']['_dirtyLoca'+'l']||this['entity']['_dirtifyLo'+'cal'](),this['fire']('set:scaleb'+'lend',this['_scaleBlen'+'d']),this['_elements']['forEach'](_0x2132ec=>_0x2132ec['_onScreenR'+'esize'](this['_resolutio'+'n']));}get['scaleBlend'](){return this['_scaleBlen'+'d'];}set['priority'](_0x55463f){_0x55463f>-0xdae*0x2+0xb*0x23+-0x7*-0x3d6&&(w['warn']('Clamping\x20s'+'creen\x20prio'+'rity\x20from\x20'+_0x55463f+'\x20to\x20255'),_0x55463f=-0x3c0*-0x1+0x1edd*0x1+0xd*-0x296),this['_priority']!==_0x55463f&&(this['_priority']=_0x55463f,this['syncDrawOr'+'der']());}get['priority'](){return this['_priority'];}}class jO{constructor(){this['enabled']=!(0x23f*0x1+0x1fde+-0x221d);}}const Uu=['enabled'];class YO extends ct{constructor(_0xd7e063){super(_0xd7e063),this['id']='screen',this['ComponentT'+'ype']=l0,this['DataType']=jO,this['schema']=Uu,this['windowReso'+'lution']=new J(),this['_drawOrder'+'SyncQueue']=new fx(),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['on']('beforeremo'+'ve',this['onRemoveCo'+'mponent'],this);}['initialize'+'ComponentD'+'ata'](_0x3c6a88,_0x2ae2cb,_0x2434a2){_0x2ae2cb['priority']!==void(-0x1cf9+-0x1e73+0x1db6*0x2)&&(_0x3c6a88['priority']=_0x2ae2cb['priority']),_0x2ae2cb['screenSpac'+'e']!==void(0x23fa+-0x368+-0x2092)&&(_0x3c6a88['screenSpac'+'e']=_0x2ae2cb['screenSpac'+'e']),_0x3c6a88['cull']=_0x3c6a88['screenSpac'+'e'],_0x2ae2cb['scaleMode']!==void(-0x8*0x209+0x11c8*0x1+0x20*-0xc)&&(_0x3c6a88['scaleMode']=_0x2ae2cb['scaleMode']),_0x2ae2cb['scaleBlend']!==void(-0x71*-0x52+0x21ae+-0x158*0x34)&&(_0x3c6a88['scaleBlend']=_0x2ae2cb['scaleBlend']),_0x2ae2cb['resolution']!==void(-0x190d+0x2513+-0xc06)&&(_0x2ae2cb['resolution']instanceof J?_0x3c6a88['_resolutio'+'n']['copy'](_0x2ae2cb['resolution']):_0x3c6a88['_resolutio'+'n']['set'](_0x2ae2cb['resolution'][-0xb54+-0x7d8+0xc*0x199],_0x2ae2cb['resolution'][-0x1a1c*0x1+-0x2ab*-0x2+0x14c7]),_0x3c6a88['resolution']=_0x3c6a88['_resolutio'+'n']),_0x2ae2cb['referenceR'+'esolution']!==void(-0x1f7e+-0xe*0x1e8+0x3a2e)&&(_0x2ae2cb['referenceR'+'esolution']instanceof J?_0x3c6a88['_reference'+'Resolution']['copy'](_0x2ae2cb['referenceR'+'esolution']):_0x3c6a88['_reference'+'Resolution']['set'](_0x2ae2cb['referenceR'+'esolution'][0x16ee+-0x6dd*-0x1+-0x1dcb],_0x2ae2cb['referenceR'+'esolution'][0x37*-0x2d+0x1*0x1+-0x1*-0x9ab]),_0x3c6a88['referenceR'+'esolution']=_0x3c6a88['_reference'+'Resolution']),_0x3c6a88['syncDrawOr'+'der'](),super['initialize'+'ComponentD'+'ata'](_0x3c6a88,_0x2ae2cb,Uu);}['destroy'](){super['destroy'](),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onResize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this);}['_onUpdate'](_0x571a5d){const _0x32ad1e=this['store'];for(const _0x464388 in _0x32ad1e)_0x32ad1e[_0x464388]['entity']['screen']['update']&&_0x32ad1e[_0x464388]['entity']['screen']['update'](_0x571a5d);}['_onResize'](_0x4280d9,_0xa33d50){this['windowReso'+'lution']['x']=_0x4280d9,this['windowReso'+'lution']['y']=_0xa33d50;}['cloneCompo'+'nent'](_0x3b4a5c,_0x531cd0){const _0x3b6b7b=_0x3b4a5c['screen'];return this['addCompone'+'nt'](_0x531cd0,{'enabled':_0x3b6b7b['enabled'],'screenSpace':_0x3b6b7b['screenSpac'+'e'],'scaleMode':_0x3b6b7b['scaleMode'],'resolution':_0x3b6b7b['resolution']['clone'](),'referenceResolution':_0x3b6b7b['referenceR'+'esolution']['clone']()});}['onRemoveCo'+'mponent'](_0x522644,_0x5f0902){_0x5f0902['onRemove']();}['processDra'+'wOrderSync'+'Queue'](){const _0x153efe=this['_drawOrder'+'SyncQueue']['list']();for(let _0x222dec=-0xff9+-0x2152+0x1*0x314b;_0x222dec<_0x153efe['length'];_0x222dec++){const _0x1cd5fa=_0x153efe[_0x222dec];_0x1cd5fa['callback']['call'](_0x1cd5fa['scope']);}this['_drawOrder'+'SyncQueue']['clear']();}['queueDrawO'+'rderSync'](_0x36eeeb,_0x333a7c,_0x30b89d){this['_drawOrder'+'SyncQueue']['list']()['length']||this['app']['once']('prerender',this['processDra'+'wOrderSync'+'Queue'],this),this['_drawOrder'+'SyncQueue']['has'](_0x36eeeb)||this['_drawOrder'+'SyncQueue']['push'](_0x36eeeb,{'callback':_0x333a7c,'scope':_0x30b89d});}}we['_buildAcce'+'ssors'](l0['prototype'],Uu);const lr=new J(),sS=new D(),Hr=new Dn(),iS=new QS(),rS=new D(),vo=new D(),KO=new le(),ZO={'x':'y','y':'x'};class Go extends me{constructor(_0x169640,_0xfe000a){if(super(),!_0x169640||!(_0x169640 instanceof hs))throw new Error('Element\x20wa'+'s\x20null\x20or\x20'+'not\x20an\x20Ele'+'mentCompon'+'ent');if(_0xfe000a&&_0xfe000a!=='x'&&_0xfe000a!=='y')throw new Error('Unrecogniz'+'ed\x20axis:\x20'+_0xfe000a);this['_element']=_0x169640,this['_app']=_0x169640['system']['app'],this['_axis']=_0xfe000a||null,this['_enabled']=!(0x1268+0x225*0x11+0x5*-0xaf9),this['_dragScale']=new D(),this['_dragStart'+'MousePosit'+'ion']=new D(),this['_dragStart'+'HandlePosi'+'tion']=new D(),this['_deltaMous'+'ePosition']=new D(),this['_deltaHand'+'lePosition']=new D(),this['_isDraggin'+'g']=!(0x2242+-0x5cf+-0xb*0x296),this['_toggleLif'+'ecycleList'+'eners']('on');}['_toggleLif'+'ecycleList'+'eners'](_0xb089e6){this['_element'][_0xb089e6]('mousedown',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0xb089e6]('touchstart',this['_onMouseDo'+'wnOrTouchS'+'tart'],this),this['_element'][_0xb089e6]('selectstar'+'t',this['_onMouseDo'+'wnOrTouchS'+'tart'],this);}['_toggleDra'+'gListeners'](_0x1994b5){const _0x1077cd=_0x1994b5==='on';this['_hasDragLi'+'steners']&&_0x1077cd||(this['_app']['mouse']&&(this['_element'][_0x1994b5]('mousemove',this['_onMove'],this),this['_element'][_0x1994b5]('mouseup',this['_onMouseUp'+'OrTouchEnd'],this)),Ae['touch']&&(this['_element'][_0x1994b5]('touchmove',this['_onMove'],this),this['_element'][_0x1994b5]('touchend',this['_onMouseUp'+'OrTouchEnd'],this),this['_element'][_0x1994b5]('touchcance'+'l',this['_onMouseUp'+'OrTouchEnd'],this)),this['_element'][_0x1994b5]('selectmove',this['_onMove'],this),this['_element'][_0x1994b5]('selectend',this['_onMouseUp'+'OrTouchEnd'],this),this['_hasDragLi'+'steners']=_0x1077cd);}['_onMouseDo'+'wnOrTouchS'+'tart'](_0x4c51eb){if(this['_element']&&!this['_isDraggin'+'g']&&this['enabled']){this['_dragCamer'+'a']=_0x4c51eb['camera'],this['_calculate'+'DragScale']();const _0x2fb06a=this['_screenToL'+'ocal'](_0x4c51eb);_0x2fb06a&&(this['_toggleDra'+'gListeners']('on'),this['_isDraggin'+'g']=!(-0x1*-0x115+-0x15e4*-0x1+-0x16f9),this['_dragStart'+'MousePosit'+'ion']['copy'](_0x2fb06a),this['_dragStart'+'HandlePosi'+'tion']['copy'](this['_element']['entity']['getLocalPo'+'sition']()),this['fire']('drag:start'));}}['_onMouseUp'+'OrTouchEnd'](){this['_isDraggin'+'g']&&(this['_isDraggin'+'g']=!(-0x24d+0x53a+-0x2ec),this['_toggleDra'+'gListeners']('off'),this['fire']('drag:end'));}['_screenToL'+'ocal'](_0x472a6e){return _0x472a6e['inputSourc'+'e']?Hr['set'](_0x472a6e['inputSourc'+'e']['getOrigin'](),_0x472a6e['inputSourc'+'e']['getDirecti'+'on']()):(this['_determine'+'InputPosit'+'ion'](_0x472a6e),this['_chooseRay'+'OriginAndD'+'irection']()),rS['copy'](this['_element']['entity']['forward'])['mulScalar'](-(0x448+0x1*0x1aaa+-0x1*0x1ef1)),iS['setFromPoi'+'ntNormal'](this['_element']['entity']['getPositio'+'n'](),rS),iS['intersects'+'Ray'](Hr,vo)?(KO['copy'](this['_element']['entity']['getRotatio'+'n']())['invert']()['transformV'+'ector'](vo,vo),vo['mul'](this['_dragScale']),vo):null;}['_determine'+'InputPosit'+'ion'](_0x198bcc){const _0x13b34f=this['_app']['graphicsDe'+'vice']['maxPixelRa'+'tio'];typeof _0x198bcc['x']<'u'&&typeof _0x198bcc['y']<'u'?(lr['x']=_0x198bcc['x']*_0x13b34f,lr['y']=_0x198bcc['y']*_0x13b34f):_0x198bcc['changedTou'+'ches']?(lr['x']=_0x198bcc['changedTou'+'ches'][0xc2+0x91*0x37+-0x1fe9]['x']*_0x13b34f,lr['y']=_0x198bcc['changedTou'+'ches'][-0x238f+-0xb*0x285+0x3f46]['y']*_0x13b34f):console['warn']('Could\x20not\x20'+'determine\x20'+'position\x20f'+'rom\x20input\x20'+'event');}['_chooseRay'+'OriginAndD'+'irection'](){this['_element']['screen']&&this['_element']['screen']['screen']['screenSpac'+'e']?(Hr['origin']['set'](lr['x'],-lr['y'],0x7eb*-0x2+0x5*0x4e8+-0x8b2),Hr['direction']['copy'](D['FORWARD'])):(sS['copy'](this['_dragCamer'+'a']['screenToWo'+'rld'](lr['x'],lr['y'],-0xf*-0x169+0x2a*0x26+-0x1b62)),Hr['origin']['copy'](this['_dragCamer'+'a']['entity']['getPositio'+'n']()),Hr['direction']['copy'](sS)['sub'](Hr['origin'])['normalize']());}['_calculate'+'DragScale'](){let _0x47fec3=this['_element']['entity']['parent'];const _0x3c165d=this['_element']['screen']&&this['_element']['screen']['screen'],_0x3da983=_0x3c165d&&_0x3c165d['screenSpac'+'e'],_0x40b982=_0x3da983?_0x3c165d['scale']:-0x306+0x5df+-0x38*0xd,_0x3d6160=this['_dragScale'];for(_0x3d6160['set'](_0x40b982,_0x40b982,_0x40b982);_0x47fec3&&(_0x3d6160['mul'](_0x47fec3['getLocalSc'+'ale']()),_0x47fec3=_0x47fec3['parent'],!(_0x3da983&&_0x47fec3['screen'])););_0x3d6160['x']=(0x19b1*-0x1+-0x1a0a+-0xac*-0x4d)/_0x3d6160['x'],_0x3d6160['y']=(0x17a2+0x747+-0x1ee8)/_0x3d6160['y'],_0x3d6160['z']=0xed*0x17+-0x1*-0x100f+-0x1*0x255a;}['_onMove'](_0x2e3288){const {_element:_0x2b6d0a,_deltaMousePosition:_0x48e5d3,_deltaHandlePosition:_0x10eeed,_axis:_0x5dc864}=this;if(_0x2b6d0a&&this['_isDraggin'+'g']&&this['enabled']&&_0x2b6d0a['enabled']&&_0x2b6d0a['entity']['enabled']){const _0x4bdfbc=this['_screenToL'+'ocal'](_0x2e3288);if(_0x4bdfbc){if(_0x48e5d3['sub2'](_0x4bdfbc,this['_dragStart'+'MousePosit'+'ion']),_0x10eeed['add2'](this['_dragStart'+'HandlePosi'+'tion'],_0x48e5d3),_0x5dc864){const _0x30f8df=_0x2b6d0a['entity']['getLocalPo'+'sition'](),_0x1773c4=ZO[_0x5dc864];_0x10eeed[_0x1773c4]=_0x30f8df[_0x1773c4];}_0x2b6d0a['entity']['setLocalPo'+'sition'](_0x10eeed),this['fire']('drag:move',_0x10eeed);}}}['destroy'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleDra'+'gListeners']('off');}set['enabled'](_0x4f9692){this['_enabled']=_0x4f9692;}get['enabled'](){return this['_enabled'];}get['isDragging'](){return this['_isDraggin'+'g'];}}h(Go,'EVENT_DRAG'+'START','drag:start'),h(Go,'EVENT_DRAG'+'END','drag:end'),h(Go,'EVENT_DRAG'+'MOVE','drag:move');const QO=0x1cab+-0x23cf+0x724,aS=0x7*-0x10f+-0x2*0xb17+0x1d98,JO=0x1*-0x926+-0x1e64+0x278c,eF=-0x20ca*0x1+-0x1c02+0x3ccc,tF=0x8f+-0x3*0x83f+0x182f,xo=new J();class c0 extends we{constructor(_0x39c712,_0x805437){super(_0x39c712,_0x805437),h(this,'_viewportE'+'ntity',null),h(this,'_contentEn'+'tity',null),h(this,'_horizonta'+'lScrollbar'+'Entity',null),h(this,'_verticalS'+'crollbarEn'+'tity',null),h(this,'_evtElemen'+'tRemove',null),h(this,'_evtViewpo'+'rtElementR'+'emove',null),h(this,'_evtViewpo'+'rtResize',null),h(this,'_evtConten'+'tEntityEle'+'mentAdd',null),h(this,'_evtConten'+'tElementRe'+'move',null),h(this,'_evtConten'+'tResize',null),h(this,'_evtHorizo'+'ntalScroll'+'barAdd',null),h(this,'_evtHorizo'+'ntalScroll'+'barRemove',null),h(this,'_evtHorizo'+'ntalScroll'+'barValue',null),h(this,'_evtVertic'+'alScrollba'+'rAdd',null),h(this,'_evtVertic'+'alScrollba'+'rRemove',null),h(this,'_evtVertic'+'alScrollba'+'rValue',null),(this['_scrollbar'+'UpdateFlag'+'s']={},this['_scrollbar'+'Entities']={},this['_prevConte'+'ntSizes']={},this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_scroll']=new J(),this['_velocity']=new D(),this['_dragStart'+'Position']=new D(),this['_disabledC'+'ontentInpu'+'t']=!(0x7*0x593+0x1307+0x477*-0xd),this['_disabledC'+'ontentInpu'+'tEntities']=[],this['_toggleLif'+'ecycleList'+'eners']('on'),this['_toggleEle'+'mentListen'+'ers']('on'));}get['data'](){const _0x4f1387=this['system']['store'][this['entity']['getGuid']()];return _0x4f1387?_0x4f1387['data']:null;}set['enabled'](_0x2845f0){this['_setValue']('enabled',_0x2845f0);}get['enabled'](){return this['data']['enabled'];}set['horizontal'](_0x1d8c7d){this['_setValue']('horizontal',_0x1d8c7d);}get['horizontal'](){return this['data']['horizontal'];}set['vertical'](_0x451dc3){this['_setValue']('vertical',_0x451dc3);}get['vertical'](){return this['data']['vertical'];}set['scrollMode'](_0x4d88d1){this['_setValue']('scrollMode',_0x4d88d1);}get['scrollMode'](){return this['data']['scrollMode'];}set['bounceAmou'+'nt'](_0x148118){this['_setValue']('bounceAmou'+'nt',_0x148118);}get['bounceAmou'+'nt'](){return this['data']['bounceAmou'+'nt'];}set['friction'](_0x42f4e7){this['_setValue']('friction',_0x42f4e7);}get['friction'](){return this['data']['friction'];}set['dragThresh'+'old'](_0x241d7e){this['_setValue']('dragThresh'+'old',_0x241d7e);}get['dragThresh'+'old'](){return this['data']['dragThresh'+'old'];}set['useMouseWh'+'eel'](_0x5054bb){this['_setValue']('useMouseWh'+'eel',_0x5054bb);}get['useMouseWh'+'eel'](){return this['data']['useMouseWh'+'eel'];}set['mouseWheel'+'Sensitivit'+'y'](_0x1aa29b){this['_setValue']('mouseWheel'+'Sensitivit'+'y',_0x1aa29b);}get['mouseWheel'+'Sensitivit'+'y'](){return this['data']['mouseWheel'+'Sensitivit'+'y'];}set['horizontal'+'ScrollbarV'+'isibility'](_0x484119){this['_setValue']('horizontal'+'ScrollbarV'+'isibility',_0x484119);}get['horizontal'+'ScrollbarV'+'isibility'](){return this['data']['horizontal'+'ScrollbarV'+'isibility'];}set['verticalSc'+'rollbarVis'+'ibility'](_0x4ae616){this['_setValue']('verticalSc'+'rollbarVis'+'ibility',_0x4ae616);}get['verticalSc'+'rollbarVis'+'ibility'](){return this['data']['verticalSc'+'rollbarVis'+'ibility'];}set['viewportEn'+'tity'](_0x23b1cf){if(this['_viewportE'+'ntity']===_0x23b1cf)return;const _0x50fa92=typeof _0x23b1cf=='string';this['_viewportE'+'ntity']&&_0x50fa92&&this['_viewportE'+'ntity']['getGuid']()===_0x23b1cf||(this['_viewportE'+'ntity']&&this['_viewportE'+'ntityUnsub'+'scribe'](),_0x23b1cf instanceof Ie?this['_viewportE'+'ntity']=_0x23b1cf:_0x50fa92?this['_viewportE'+'ntity']=this['system']['app']['getEntityF'+'romIndex'](_0x23b1cf)||null:this['_viewportE'+'ntity']=null,this['_viewportE'+'ntity']&&this['_viewportE'+'ntitySubsc'+'ribe'](),this['_viewportE'+'ntity']?this['data']['viewportEn'+'tity']=this['_viewportE'+'ntity']['getGuid']():_0x50fa92&&_0x23b1cf&&(this['data']['viewportEn'+'tity']=_0x23b1cf));}get['viewportEn'+'tity'](){return this['_viewportE'+'ntity'];}set['contentEnt'+'ity'](_0x2b8715){if(this['_contentEn'+'tity']===_0x2b8715)return;const _0x3cb3e2=typeof _0x2b8715=='string';this['_contentEn'+'tity']&&_0x3cb3e2&&this['_contentEn'+'tity']['getGuid']()===_0x2b8715||(this['_contentEn'+'tity']&&this['_contentEn'+'tityUnsubs'+'cribe'](),_0x2b8715 instanceof Ie?this['_contentEn'+'tity']=_0x2b8715:_0x3cb3e2?this['_contentEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x2b8715)||null:this['_contentEn'+'tity']=null,this['_contentEn'+'tity']&&this['_contentEn'+'titySubscr'+'ibe'](),this['_contentEn'+'tity']?this['data']['contentEnt'+'ity']=this['_contentEn'+'tity']['getGuid']():_0x3cb3e2&&_0x2b8715&&(this['data']['contentEnt'+'ity']=_0x2b8715));}get['contentEnt'+'ity'](){return this['_contentEn'+'tity'];}set['horizontal'+'ScrollbarE'+'ntity'](_0x5ea300){if(this['_horizonta'+'lScrollbar'+'Entity']===_0x5ea300)return;const _0xf5a0bc=typeof _0x5ea300=='string';this['_horizonta'+'lScrollbar'+'Entity']&&_0xf5a0bc&&this['_horizonta'+'lScrollbar'+'Entity']['getGuid']()===_0x5ea300||(this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](),_0x5ea300 instanceof Ie?this['_horizonta'+'lScrollbar'+'Entity']=_0x5ea300:_0xf5a0bc?this['_horizonta'+'lScrollbar'+'Entity']=this['system']['app']['getEntityF'+'romIndex'](_0x5ea300)||null:this['_horizonta'+'lScrollbar'+'Entity']=null,this['_scrollbar'+'Entities'][Ce]=this['_horizonta'+'lScrollbar'+'Entity'],this['_horizonta'+'lScrollbar'+'Entity']&&this['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](),this['_horizonta'+'lScrollbar'+'Entity']?this['data']['horizontal'+'ScrollbarE'+'ntity']=this['_horizonta'+'lScrollbar'+'Entity']['getGuid']():_0xf5a0bc&&_0x5ea300&&(this['data']['horizontal'+'ScrollbarE'+'ntity']=_0x5ea300));}get['horizontal'+'ScrollbarE'+'ntity'](){return this['_horizonta'+'lScrollbar'+'Entity'];}set['verticalSc'+'rollbarEnt'+'ity'](_0x29f62e){if(this['_verticalS'+'crollbarEn'+'tity']===_0x29f62e)return;const _0xafa43c=typeof _0x29f62e=='string';this['_verticalS'+'crollbarEn'+'tity']&&_0xafa43c&&this['_verticalS'+'crollbarEn'+'tity']['getGuid']()===_0x29f62e||(this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](),_0x29f62e instanceof Ie?this['_verticalS'+'crollbarEn'+'tity']=_0x29f62e:_0xafa43c?this['_verticalS'+'crollbarEn'+'tity']=this['system']['app']['getEntityF'+'romIndex'](_0x29f62e)||null:this['_verticalS'+'crollbarEn'+'tity']=null,this['_scrollbar'+'Entities'][je]=this['_verticalS'+'crollbarEn'+'tity'],this['_verticalS'+'crollbarEn'+'tity']&&this['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](),this['_verticalS'+'crollbarEn'+'tity']?this['data']['verticalSc'+'rollbarEnt'+'ity']=this['_verticalS'+'crollbarEn'+'tity']['getGuid']():_0xafa43c&&_0x29f62e&&(this['data']['verticalSc'+'rollbarEnt'+'ity']=_0x29f62e));}get['verticalSc'+'rollbarEnt'+'ity'](){return this['_verticalS'+'crollbarEn'+'tity'];}set['scroll'](_0x16241c){this['_onSetScro'+'ll'](_0x16241c['x'],_0x16241c['y']);}get['scroll'](){return this['_scroll'];}['_setValue'](_0x46556a,_0xa19c1b){const _0x52e207=this['data'],_0x444f38=_0x52e207[_0x46556a];_0x52e207[_0x46556a]=_0xa19c1b,this['fire']('set',_0x46556a,_0x444f38,_0xa19c1b);}['_toggleLif'+'ecycleList'+'eners'](_0x491eb1){this[_0x491eb1]('set_horizo'+'ntal',this['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'],this),this[_0x491eb1]('set_vertic'+'al',this['_onSetVert'+'icalScroll'+'ingEnabled'],this),this['entity'][_0x491eb1]('element:ad'+'d',this['_onElement'+'ComponentA'+'dd'],this);}['_toggleEle'+'mentListen'+'ers'](_0x4a3fdb){if(this['entity']['element']){if(_0x4a3fdb==='on'&&this['_hasElemen'+'tListeners'])return;this['entity']['element'][_0x4a3fdb]('resize',this['_syncAll'],this),this['entity']['element'][_0x4a3fdb]('mousewheel',this['_onMouseWh'+'eel'],this),this['_hasElemen'+'tListeners']=_0x4a3fdb==='on';}}['_onElement'+'ComponentA'+'dd'](_0x4a9c82){this['_evtElemen'+'tRemove']=this['entity']['element']['once']('beforeremo'+'ve',this['_onElement'+'ComponentR'+'emove'],this),this['_toggleEle'+'mentListen'+'ers']('on');}['_onElement'+'ComponentR'+'emove'](_0x295407){var _0x548e90;(_0x548e90=this['_evtElemen'+'tRemove'])==null||_0x548e90['off'](),this['_evtElemen'+'tRemove']=null,this['_toggleEle'+'mentListen'+'ers']('off');}['_viewportE'+'ntitySubsc'+'ribe'](){this['_evtViewpo'+'rtEntityEl'+'ementAdd']=this['_viewportE'+'ntity']['on']('element:ad'+'d',this['_onViewpor'+'tElementGa'+'in'],this),this['_viewportE'+'ntity']['element']&&this['_onViewpor'+'tElementGa'+'in']();}['_viewportE'+'ntityUnsub'+'scribe'](){var _0x172c15,_0x403e12;(_0x172c15=this['_evtViewpo'+'rtEntityEl'+'ementAdd'])==null||_0x172c15['off'](),this['_evtViewpo'+'rtEntityEl'+'ementAdd']=null,(_0x403e12=this['_viewportE'+'ntity'])!=null&&_0x403e12['element']&&this['_onViewpor'+'tElementLo'+'se']();}['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](){const _0x50bd5b=this['_viewportE'+'ntity']['element'];this['_evtViewpo'+'rtElementR'+'emove']=_0x50bd5b['once']('beforeremo'+'ve',this['_onViewpor'+'tElementLo'+'se'],this),this['_evtViewpo'+'rtResize']=_0x50bd5b['on']('resize',this['_syncAll'],this);}['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe'](){var _0x8ad20e,_0x453f78;(_0x8ad20e=this['_evtViewpo'+'rtElementR'+'emove'])==null||_0x8ad20e['off'](),this['_evtViewpo'+'rtElementR'+'emove']=null,(_0x453f78=this['_evtViewpo'+'rtResize'])==null||_0x453f78['off'](),this['_evtViewpo'+'rtResize']=null;}['_onViewpor'+'tElementGa'+'in'](){this['_viewportE'+'ntityEleme'+'ntSubscrib'+'e'](),this['_syncAll']();}['_onViewpor'+'tElementLo'+'se'](){this['_viewportE'+'ntityEleme'+'ntUnsubscr'+'ibe']();}['_contentEn'+'titySubscr'+'ibe'](){this['_evtConten'+'tEntityEle'+'mentAdd']=this['_contentEn'+'tity']['on']('element:ad'+'d',this['_onContent'+'ElementGai'+'n'],this),this['_contentEn'+'tity']['element']&&this['_onContent'+'ElementGai'+'n']();}['_contentEn'+'tityUnsubs'+'cribe'](){var _0x2708b4,_0x153698;(_0x2708b4=this['_evtConten'+'tEntityEle'+'mentAdd'])==null||_0x2708b4['off'](),this['_evtConten'+'tEntityEle'+'mentAdd']=null,(_0x153698=this['_contentEn'+'tity'])!=null&&_0x153698['element']&&this['_onContent'+'ElementLos'+'e']();}['_contentEn'+'tityElemen'+'tSubscribe'](){const _0xf17c59=this['_contentEn'+'tity']['element'];this['_evtConten'+'tElementRe'+'move']=_0xf17c59['once']('beforeremo'+'ve',this['_onContent'+'ElementLos'+'e'],this),this['_evtConten'+'tResize']=_0xf17c59['on']('resize',this['_syncAll'],this);}['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](){var _0xe8b40a,_0x4c2734;(_0xe8b40a=this['_evtConten'+'tElementRe'+'move'])==null||_0xe8b40a['off'](),this['_evtConten'+'tElementRe'+'move']=null,(_0x4c2734=this['_evtConten'+'tResize'])==null||_0x4c2734['off'](),this['_evtConten'+'tResize']=null;}['_onContent'+'ElementGai'+'n'](){this['_contentEn'+'tityElemen'+'tSubscribe'](),this['_destroyDr'+'agHelper'](),this['_contentDr'+'agHelper']=new Go(this['_contentEn'+'tity']['element']),this['_contentDr'+'agHelper']['on']('drag:start',this['_onContent'+'DragStart'],this),this['_contentDr'+'agHelper']['on']('drag:end',this['_onContent'+'DragEnd'],this),this['_contentDr'+'agHelper']['on']('drag:move',this['_onContent'+'DragMove'],this),this['_prevConte'+'ntSizes'][Ce]=null,this['_prevConte'+'ntSizes'][je]=null,this['_syncAll']();}['_onContent'+'ElementLos'+'e'](){this['_contentEn'+'tityElemen'+'tUnsubscri'+'be'](),this['_destroyDr'+'agHelper']();}['_onContent'+'DragStart'](){this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&this['_dragStart'+'Position']['copy'](this['_contentEn'+'tity']['getLocalPo'+'sition']());}['_onContent'+'DragEnd'](){this['_prevConte'+'ntDragPosi'+'tion']=null,this['_enableCon'+'tentInput']();}['_onContent'+'DragMove'](_0x28e309){if(this['_contentEn'+'tity']&&this['enabled']&&this['entity']['enabled']&&(this['_wasDragge'+'d']=!(-0x856+0x1*0x6e3+-0x7*-0x35),this['_setScroll'+'FromConten'+'tPosition'](_0x28e309),this['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0x28e309),!this['_disabledC'+'ontentInpu'+'t'])){const _0x106227=_0x28e309['x']-this['_dragStart'+'Position']['x'],_0x1f6691=_0x28e309['y']-this['_dragStart'+'Position']['y'];(Math['abs'](_0x106227)>this['dragThresh'+'old']||Math['abs'](_0x1f6691)>this['dragThresh'+'old'])&&this['_disableCo'+'ntentInput']();}}['_horizonta'+'lScrollbar'+'EntitySubs'+'cribe'](){this['_evtHorizo'+'ntalScroll'+'barAdd']=this['_horizonta'+'lScrollbar'+'Entity']['on']('scrollbar:'+'add',this['_onHorizon'+'talScrollb'+'arGain'],this),this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arGain']();}['_verticalS'+'crollbarEn'+'titySubscr'+'ibe'](){this['_evtVertic'+'alScrollba'+'rAdd']=this['_verticalS'+'crollbarEn'+'tity']['on']('scrollbar:'+'add',this['_onVertica'+'lScrollbar'+'Gain'],this),this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Gain']();}['_horizonta'+'lScrollbar'+'EntityUnsu'+'bscribe'](){var _0x5eda87;(_0x5eda87=this['_evtHorizo'+'ntalScroll'+'barAdd'])==null||_0x5eda87['off'](),this['_evtHorizo'+'ntalScroll'+'barAdd']=null,this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']&&this['_onHorizon'+'talScrollb'+'arLose']();}['_verticalS'+'crollbarEn'+'tityUnsubs'+'cribe'](){var _0x3f03ec;(_0x3f03ec=this['_evtVertic'+'alScrollba'+'rAdd'])==null||_0x3f03ec['off'](),this['_evtVertic'+'alScrollba'+'rAdd']=null,this['_verticalS'+'crollbarEn'+'tity']['scrollbar']&&this['_onVertica'+'lScrollbar'+'Lose']();}['_onSetHori'+'zontalScro'+'llbarValue'](_0x33e9e9){!this['_scrollbar'+'UpdateFlag'+'s'][Ce]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](_0x33e9e9,null);}['_onSetVert'+'icalScroll'+'barValue'](_0x68fbcd){!this['_scrollbar'+'UpdateFlag'+'s'][je]&&this['enabled']&&this['entity']['enabled']&&this['_onSetScro'+'ll'](null,_0x68fbcd);}['_onHorizon'+'talScrollb'+'arGain'](){var _0x1042be;const _0x3ff576=(_0x1042be=this['_horizonta'+'lScrollbar'+'Entity'])==null?void(0x2*-0xb2b+-0x186c+0x2ec2):_0x1042be['scrollbar'];this['_evtHorizo'+'ntalScroll'+'barRemove']=_0x3ff576['on']('beforeremo'+'ve',this['_onHorizon'+'talScrollb'+'arLose'],this),this['_evtHorizo'+'ntalScroll'+'barValue']=_0x3ff576['on']('set:value',this['_onSetHori'+'zontalScro'+'llbarValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarPositi'+'on'](Ce);}['_onVertica'+'lScrollbar'+'Gain'](){var _0x919d8a;const _0x192052=(_0x919d8a=this['_verticalS'+'crollbarEn'+'tity'])==null?void(0x1bab+-0xf48+-0xc63):_0x919d8a['scrollbar'];this['_evtVertic'+'alScrollba'+'rRemove']=_0x192052['on']('beforeremo'+'ve',this['_onVertica'+'lScrollbar'+'Lose'],this),this['_evtVertic'+'alScrollba'+'rValue']=_0x192052['on']('set:value',this['_onSetVert'+'icalScroll'+'barValue'],this),this['_syncScrol'+'lbarEnable'+'dState'](je),this['_syncScrol'+'lbarPositi'+'on'](je);}['_onHorizon'+'talScrollb'+'arLose'](){var _0x46c6a1,_0x17b0a7;(_0x46c6a1=this['_evtHorizo'+'ntalScroll'+'barRemove'])==null||_0x46c6a1['off'](),this['_evtHorizo'+'ntalScroll'+'barRemove']=null,(_0x17b0a7=this['_evtHorizo'+'ntalScroll'+'barValue'])==null||_0x17b0a7['off'](),this['_evtHorizo'+'ntalScroll'+'barValue']=null;}['_onVertica'+'lScrollbar'+'Lose'](){var _0x176ed5,_0x27a5d9;(_0x176ed5=this['_evtVertic'+'alScrollba'+'rRemove'])==null||_0x176ed5['off'](),this['_evtVertic'+'alScrollba'+'rRemove']=null,(_0x27a5d9=this['_evtVertic'+'alScrollba'+'rValue'])==null||_0x27a5d9['off'](),this['_evtVertic'+'alScrollba'+'rValue']=null;}['_onSetHori'+'zontalScro'+'llingEnabl'+'ed'](){this['_syncScrol'+'lbarEnable'+'dState'](Ce);}['_onSetVert'+'icalScroll'+'ingEnabled'](){this['_syncScrol'+'lbarEnable'+'dState'](je);}['_onSetScro'+'ll'](_0x11ecb6,_0x208ec4,_0xc8ffdb){_0xc8ffdb!==!(0x114*0x1+0x1*0xdd7+-0xeea)&&this['_velocity']['set'](0x127*0x1c+-0x232b+0x2e7,-0x2da*-0xc+0x1215+-0x344d,-0x2*-0xc73+0xf*0x34+0x49*-0x62);const _0x409286=this['_updateAxi'+'s'](_0x11ecb6,'x',Ce),_0x824241=this['_updateAxi'+'s'](_0x208ec4,'y',je);(_0x409286||_0x824241)&&this['fire']('set:scroll',this['_scroll']);}['_updateAxi'+'s'](_0x2ad92e,_0x5a9b15,_0x5e831b){const _0x2ff988=_0x2ad92e!==null&&Math['abs'](_0x2ad92e-this['_scroll'][_0x5a9b15])>-0x1*-0x2327+0x1b11+-0x2d4*0x16+0.00001;return(_0x2ff988||this['_isDraggin'+'g']()||_0x2ad92e===0x29*-0x15+-0x943+0xca0)&&(this['_scroll'][_0x5a9b15]=this['_determine'+'NewScrollV'+'alue'](_0x2ad92e,_0x5a9b15,_0x5e831b),this['_syncConte'+'ntPosition'](_0x5e831b),this['_syncScrol'+'lbarPositi'+'on'](_0x5e831b)),_0x2ff988;}['_determine'+'NewScrollV'+'alue'](_0x49b209,_0x4b2a9d,_0x5e5111){if(!this['_getScroll'+'ingEnabled'](_0x5e5111))return this['_scroll'][_0x4b2a9d];switch(this['scrollMode']){case QO:return Y['clamp'](_0x49b209,0x16d6+-0x5e4+-0x10f2,this['_getMaxScr'+'ollValue'](_0x5e5111));case aS:return this['_setVeloci'+'tyFromOver'+'shoot'](_0x49b209,_0x4b2a9d,_0x5e5111),_0x49b209;case JO:return _0x49b209;default:return console['warn']('Unhandled\x20'+'scroll\x20mod'+'e:'+this['scrollMode']),_0x49b209;}}['_syncAll'](){this['_syncConte'+'ntPosition'](Ce),this['_syncConte'+'ntPosition'](je),this['_syncScrol'+'lbarPositi'+'on'](Ce),this['_syncScrol'+'lbarPositi'+'on'](je),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je);}['_syncConte'+'ntPosition'](_0x43bb05){if(!this['_contentEn'+'tity'])return;const _0x2749c7=this['_getAxis'](_0x43bb05),_0x2744fc=this['_getSign'](_0x43bb05),_0xc0846b=this['_prevConte'+'ntSizes'][_0x43bb05],_0x2b92da=this['_getConten'+'tSize'](_0x43bb05);if(_0xc0846b!==null&&Math['abs'](_0xc0846b-_0x2b92da)>0x6f8*0x1+-0x216f+0x10f*0x19+0.0001){const _0x4ad797=this['_getMaxOff'+'set'](_0x43bb05,_0xc0846b),_0x4b62ac=this['_getMaxOff'+'set'](_0x43bb05,_0x2b92da);_0x4b62ac===-0x16be*0x1+-0xf3d+0x25fb?this['_scroll'][_0x2749c7]=0x4*-0x467+0x36a*0x6+-0x2df:this['_scroll'][_0x2749c7]=Y['clamp'](this['_scroll'][_0x2749c7]*_0x4ad797/_0x4b62ac,0x2263+-0x3*-0x8d6+-0x3ce5,-0xa6*0xd+-0x2*-0x175+0x585);}const _0x354ce8=this['_scroll'][_0x2749c7]*this['_getMaxOff'+'set'](_0x43bb05),_0x4c3fde=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x4c3fde[_0x2749c7]=_0x354ce8*_0x2744fc,this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x4c3fde),this['_prevConte'+'ntSizes'][_0x43bb05]=_0x2b92da;}['_syncScrol'+'lbarPositi'+'on'](_0x8b02cb){const _0x4e1d23=this['_scrollbar'+'Entities'][_0x8b02cb];if(!(_0x4e1d23!=null&&_0x4e1d23['scrollbar']))return;const _0x2eb0b7=this['_getAxis'](_0x8b02cb);this['_scrollbar'+'UpdateFlag'+'s'][_0x8b02cb]=!(0x233+-0x1*0x4e1+0x2ae),_0x4e1d23['scrollbar']['value']=this['_scroll'][_0x2eb0b7],_0x4e1d23['scrollbar']['handleSize']=this['_getScroll'+'barHandleS'+'ize'](_0x2eb0b7,_0x8b02cb),this['_scrollbar'+'UpdateFlag'+'s'][_0x8b02cb]=!(0x170a+0x470+-0xd*0x21d);}['_syncScrol'+'lbarEnable'+'dState'](_0x53d4e0){const _0x2d024d=this['_scrollbar'+'Entities'][_0x53d4e0];if(!_0x2d024d)return;const _0x2aae58=this['_getScroll'+'ingEnabled'](_0x53d4e0),_0xd7c90e=this['_getScroll'+'barVisibil'+'ity'](_0x53d4e0);switch(_0xd7c90e){case eF:_0x2d024d['enabled']=_0x2aae58;return;case tF:_0x2d024d['enabled']=_0x2aae58&&this['_contentIs'+'LargerThan'+'Viewport'](_0x53d4e0);return;default:console['warn']('Unhandled\x20'+'scrollbar\x20'+'visibility'+':'+_0xd7c90e),_0x2d024d['enabled']=_0x2aae58;}}['_contentIs'+'LargerThan'+'Viewport'](_0x281672){return this['_getConten'+'tSize'](_0x281672)>this['_getViewpo'+'rtSize'](_0x281672);}['_contentPo'+'sitionToSc'+'rollValue'](_0x4ce59e){const _0x3adada=this['_getMaxOff'+'set'](Ce),_0x149fd2=this['_getMaxOff'+'set'](je);return _0x3adada===-0xb2b+0x1*0xee3+0x22*-0x1c?xo['x']=-0x1fe9+-0x22ab+-0x1*-0x4294:xo['x']=_0x4ce59e['x']/_0x3adada,_0x149fd2===-0x1b56+0x1dfe+0x44*-0xa?xo['y']=-0x175*-0x3+-0x4d*0x29+-0x2*-0x3fb:xo['y']=_0x4ce59e['y']/-_0x149fd2,xo;}['_getMaxOff'+'set'](_0x23306e,_0x9f6fcc){_0x9f6fcc=_0x9f6fcc===void(-0xaef*0x2+-0x1e39+-0x69*-0x7f)?this['_getConten'+'tSize'](_0x23306e):_0x9f6fcc;const _0x2d4cec=this['_getViewpo'+'rtSize'](_0x23306e);return _0x9f6fcc<_0x2d4cec?-this['_getViewpo'+'rtSize'](_0x23306e):_0x2d4cec-_0x9f6fcc;}['_getMaxScr'+'ollValue'](_0x3b1acd){return this['_contentIs'+'LargerThan'+'Viewport'](_0x3b1acd)?0x2704+-0x2*-0x6dc+-0x34bb:0x10da+0x1*0xec5+0x653*-0x5;}['_getScroll'+'barHandleS'+'ize'](_0x259bd9,_0x441c31){const _0x169756=this['_getViewpo'+'rtSize'](_0x441c31),_0x1d905f=this['_getConten'+'tSize'](_0x441c31);if(Math['abs'](_0x1d905f)<0x1b84+0x1*0x127d+-0x1*0x2e01+0.001)return-0xb7*0x13+0x3ee*0x4+-0x2a*0xd;const _0x3fb3d4=Math['min'](_0x169756/_0x1d905f,-0x847+0x18a*-0xe+-0x14c*-0x17),_0x7fec27=this['_toOversho'+'ot'](this['_scroll'][_0x259bd9],_0x441c31);return _0x7fec27===0x1*-0xe6e+-0x1*-0xeb2+-0x44?_0x3fb3d4:_0x3fb3d4/(-0x9b7+-0x1*0x466+0xe1e+Math['abs'](_0x7fec27));}['_getViewpo'+'rtSize'](_0xa3495a){return this['_getSize'](_0xa3495a,this['_viewportE'+'ntity']);}['_getConten'+'tSize'](_0x11afc7){return this['_getSize'](_0x11afc7,this['_contentEn'+'tity']);}['_getSize'](_0x432875,_0x392a38){return _0x392a38!=null&&_0x392a38['element']?_0x392a38['element'][this['_getCalcul'+'atedDimens'+'ion'](_0x432875)]:-0xb5*0x17+0x3f0+-0x5*-0x277;}['_getScroll'+'ingEnabled'](_0x12fd58){if(_0x12fd58===Ce)return this['horizontal'];if(_0x12fd58===je)return this['vertical'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x12fd58);}['_getScroll'+'barVisibil'+'ity'](_0x506432){if(_0x506432===Ce)return this['horizontal'+'ScrollbarV'+'isibility'];if(_0x506432===je)return this['verticalSc'+'rollbarVis'+'ibility'];w['warn']('Unrecogniz'+'ed\x20orienta'+'tion:\x20'+_0x506432);}['_getSign'](_0x224e17){return _0x224e17===Ce?-0x171f+0x6*-0x184+0x2038:-(-0xd45*-0x1+-0xd57+0x13);}['_getAxis'](_0x22581c){return _0x22581c===Ce?'x':'y';}['_getCalcul'+'atedDimens'+'ion'](_0x499a83){return _0x499a83===Ce?'calculated'+'Width':'calculated'+'Height';}['_destroyDr'+'agHelper'](){this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['destroy']();}['onUpdate'](){this['_contentEn'+'tity']&&(this['_updateVel'+'ocity'](),this['_syncScrol'+'lbarEnable'+'dState'](Ce),this['_syncScrol'+'lbarEnable'+'dState'](je));}['_updateVel'+'ocity'](){if(!this['_isDraggin'+'g']()){if(this['scrollMode']===aS&&(this['_hasOversh'+'oot']('x',Ce)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['x'],'x',Ce),this['_hasOversh'+'oot']('y',je)&&this['_setVeloci'+'tyFromOver'+'shoot'](this['scroll']['y'],'y',je)),Math['abs'](this['_velocity']['x'])>-0x9b*-0x13+-0x2*-0x59f+0x16bf*-0x1+0.0001||Math['abs'](this['_velocity']['y'])>-0x17b3*-0x1+0x1a5*-0x4+0x111f*-0x1+0.0001){const _0x1dfac7=this['_contentEn'+'tity']['getLocalPo'+'sition']();_0x1dfac7['x']+=this['_velocity']['x'],_0x1dfac7['y']+=this['_velocity']['y'],this['_contentEn'+'tity']['setLocalPo'+'sition'](_0x1dfac7),this['_setScroll'+'FromConten'+'tPosition'](_0x1dfac7);}this['_velocity']['x']*=0x26eb+0x215c+-0x2423*0x2-this['friction'],this['_velocity']['y']*=0xbd3+-0x18b6*-0x1+-0x2488-this['friction'];}}['_hasOversh'+'oot'](_0xb04847,_0x3bb987){return Math['abs'](this['_toOversho'+'ot'](this['scroll'][_0xb04847],_0x3bb987))>-0x29*-0x5a+0x1f38+-0x2da2+0.001;}['_toOversho'+'ot'](_0x5447d1,_0x107a1f){const _0x1d6620=this['_getMaxScr'+'ollValue'](_0x107a1f);return _0x5447d1<-0x1*0xfc2+-0xda+0x109c?_0x5447d1:_0x5447d1>_0x1d6620?_0x5447d1-_0x1d6620:0xa4a+-0x1*-0x12da+0x175*-0x14;}['_setVeloci'+'tyFromOver'+'shoot'](_0x22f262,_0x51674b,_0x323307){const _0x59495b=this['_toOversho'+'ot'](_0x22f262,_0x323307)*this['_getMaxOff'+'set'](_0x323307)*this['_getSign'](_0x323307);Math['abs'](_0x59495b)>0x1718+0x17*-0x4+-0x16bc&&(this['_velocity'][_0x51674b]=-_0x59495b/(this['bounceAmou'+'nt']*(-0x8e9*0x2+0x1eed+0x1*-0xce9)+(-0x9c1*0x2+-0x1*-0x1331+0x52)));}['_setVeloci'+'tyFromCont'+'entPositio'+'nDelta'](_0xc45517){this['_prevConte'+'ntDragPosi'+'tion']?(this['_velocity']['sub2'](_0xc45517,this['_prevConte'+'ntDragPosi'+'tion']),this['_prevConte'+'ntDragPosi'+'tion']['copy'](_0xc45517)):(this['_velocity']['set'](0x9f*-0x4+-0x6*0x14+0x2f4,0x5*0x4a5+0x2*0xb20+0x1*-0x2d79,-0x1691+0x1*-0xffc+0x268d),this['_prevConte'+'ntDragPosi'+'tion']=_0xc45517['clone']());}['_setScroll'+'FromConten'+'tPosition'](_0x4698bd){let _0x43ac7e=this['_contentPo'+'sitionToSc'+'rollValue'](_0x4698bd);this['_isDraggin'+'g']()&&(_0x43ac7e=this['_applyScro'+'llValueTen'+'sion'](_0x43ac7e)),this['_onSetScro'+'ll'](_0x43ac7e['x'],_0x43ac7e['y'],!(-0x1374+-0x827*0x3+0x2*0x15f5));}['_applyScro'+'llValueTen'+'sion'](_0x53ce1e){let _0x21e3ab=this['_getMaxScr'+'ollValue'](Ce),_0x500e97=this['_toOversho'+'ot'](_0x53ce1e['x'],Ce);return _0x500e97>0x1*0x2051+-0x117c+-0xed5?_0x53ce1e['x']=_0x21e3ab+(0xe2*-0x25+0x6fd*0x1+0x19ae)*Math['log10'](0x21dd+-0x15cb+-0xc11*0x1+_0x500e97):_0x500e97<0x9c5+-0x1eb6*0x1+0x14f1&&(_0x53ce1e['x']=-(-0x2*0x50+-0xcc5+-0x1*-0xd66)*Math['log10'](-0xaf5+0x31*0x21+0x4a5-_0x500e97)),_0x21e3ab=this['_getMaxScr'+'ollValue'](je),_0x500e97=this['_toOversho'+'ot'](_0x53ce1e['y'],je),_0x500e97>-0xf1d+-0x248e+0x33ab?_0x53ce1e['y']=_0x21e3ab+(-0x1799*0x1+0x8dc+0xebe*0x1)*Math['log10'](-0xf8a+0x24df+0xc*-0x1c7+_0x500e97):_0x500e97<-0x147d+0xeff*-0x2+0x327b&&(_0x53ce1e['y']=-(0x1*-0x913+-0xa38+0x134c)*Math['log10'](0x2483+-0x2a9*-0x5+-0x31cf-_0x500e97)),_0x53ce1e;}['_isDraggin'+'g'](){return this['_contentDr'+'agHelper']&&this['_contentDr'+'agHelper']['isDragging'];}['_setScroll'+'barCompone'+'ntsEnabled'](_0x13e445){var _0x6323da,_0xf4686c;(_0x6323da=this['_horizonta'+'lScrollbar'+'Entity'])!=null&&_0x6323da['scrollbar']&&(this['_horizonta'+'lScrollbar'+'Entity']['scrollbar']['enabled']=_0x13e445),(_0xf4686c=this['_verticalS'+'crollbarEn'+'tity'])!=null&&_0xf4686c['scrollbar']&&(this['_verticalS'+'crollbarEn'+'tity']['scrollbar']['enabled']=_0x13e445);}['_setConten'+'tDraggingE'+'nabled'](_0x529a99){this['_contentDr'+'agHelper']&&(this['_contentDr'+'agHelper']['enabled']=_0x529a99);}['_onMouseWh'+'eel'](_0x2224d6){var _0x5a29af;if(!this['useMouseWh'+'eel']||!((_0x5a29af=this['_contentEn'+'tity'])!=null&&_0x5a29af['element']))return;const _0x530d66=_0x2224d6['event'],_0x531fa0=_0x530d66['deltaX']/this['_contentEn'+'tity']['element']['calculated'+'Width']*this['mouseWheel'+'Sensitivit'+'y']['x'],_0x4b2471=_0x530d66['deltaY']/this['_contentEn'+'tity']['element']['calculated'+'Height']*this['mouseWheel'+'Sensitivit'+'y']['y'],_0x487843=Y['clamp'](this['_scroll']['x']+_0x531fa0,0xcea+-0x1*0x1e1a+0x1130,this['_getMaxScr'+'ollValue'](Ce)),_0x183951=Y['clamp'](this['_scroll']['y']+_0x4b2471,-0x4*-0x178+-0x2099+0x1*0x1ab9,this['_getMaxScr'+'ollValue'](je));this['scroll']=new J(_0x487843,_0x183951);}['_enableCon'+'tentInput'](){for(;this['_disabledC'+'ontentInpu'+'tEntities']['length'];){const _0x3703d0=this['_disabledC'+'ontentInpu'+'tEntities']['pop']();_0x3703d0['element']&&(_0x3703d0['element']['useInput']=!(0xf1*0x7+-0x1*-0x22a3+0x2*-0x149d));}this['_disabledC'+'ontentInpu'+'t']=!(-0x1da7+0x851+0x1557);}['_disableCo'+'ntentInput'](){const _0x5d1e88=_0x5294d7=>{_0x5294d7['element']&&_0x5294d7['element']['useInput']&&(this['_disabledC'+'ontentInpu'+'tEntities']['push'](_0x5294d7),_0x5294d7['element']['useInput']=!(-0x4*0x2f3+-0x1e2*-0x9+-0x1*0x525));const _0x2f4048=_0x5294d7['children'];for(let _0x2a21f6=-0x1*-0xba1+0x7b*0x4a+-0x2f2f*0x1,_0x3db7ca=_0x2f4048['length'];_0x2a21f6<_0x3db7ca;_0x2a21f6++)_0x5d1e88(_0x2f4048[_0x2a21f6]);};if(this['_contentEn'+'tity']){const _0x469b60=this['_contentEn'+'tity']['children'];for(let _0x2fde50=-0x1d5c+-0x2151+0x1*0x3ead,_0x46fdaf=_0x469b60['length'];_0x2fde50<_0x46fdaf;_0x2fde50++)_0x5d1e88(_0x469b60[_0x2fde50]);}this['_disabledC'+'ontentInpu'+'t']=!(0x1791*-0x1+0x8*0x218+0x6d1);}['onEnable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(0x1*0x146d+0x1*-0xd41+0x72c*-0x1)),this['_setConten'+'tDraggingE'+'nabled'](!(0x1136+-0x2*-0x4ed+-0x2*0xd88)),this['_syncAll']();}['onDisable'](){this['_setScroll'+'barCompone'+'ntsEnabled'](!(-0x24e7+0x96e*0x4+-0xd0)),this['_setConten'+'tDraggingE'+'nabled'](!(-0x82c*-0x1+0x815*0x2+0x1*-0x1855));}['onRemove'](){this['_toggleLif'+'ecycleList'+'eners']('off'),this['_toggleEle'+'mentListen'+'ers']('off'),this['_destroyDr'+'agHelper']();}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x433165,_0x1d9607){_0x433165['viewportEn'+'tity']&&(this['viewportEn'+'tity']=_0x1d9607[_0x433165['viewportEn'+'tity']['getGuid']()]),_0x433165['contentEnt'+'ity']&&(this['contentEnt'+'ity']=_0x1d9607[_0x433165['contentEnt'+'ity']['getGuid']()]),_0x433165['horizontal'+'ScrollbarE'+'ntity']&&(this['horizontal'+'ScrollbarE'+'ntity']=_0x1d9607[_0x433165['horizontal'+'ScrollbarE'+'ntity']['getGuid']()]),_0x433165['verticalSc'+'rollbarEnt'+'ity']&&(this['verticalSc'+'rollbarEnt'+'ity']=_0x1d9607[_0x433165['verticalSc'+'rollbarEnt'+'ity']['getGuid']()]);}}h(c0,'EVENT_SETS'+'CROLL','set:scroll');const sF=-0x25fb+0xb*0x254+-0x9*-0x161;class iF{constructor(){h(this,'enabled',!(-0x1*0x1e6d+0x3*-0x3ee+-0x2a37*-0x1)),h(this,'horizontal'),h(this,'vertical'),h(this,'scrollMode'),h(this,'bounceAmou'+'nt'),h(this,'friction'),h(this,'dragThresh'+'old',sF),h(this,'useMouseWh'+'eel',!(0xa69+0x4*-0x8aa+0x183f*0x1)),h(this,'mouseWheel'+'Sensitivit'+'y',new J(0x1*-0xb09+0x1149+0x27*-0x29,-0x916+-0x2*-0x8b8+0x859*-0x1)),h(this,'horizontal'+'ScrollbarV'+'isibility',0x5*-0x3b9+-0xe7a+0xc5*0x2b),h(this,'verticalSc'+'rollbarVis'+'ibility',0x102a+-0x20db+0x10b1),h(this,'viewportEn'+'tity',null),h(this,'contentEnt'+'ity',null),h(this,'horizontal'+'ScrollbarE'+'ntity',null),h(this,'verticalSc'+'rollbarEnt'+'ity',null);}}const nS=[{'name':'enabled','type':'boolean'},{'name':'horizontal','type':'boolean'},{'name':'vertical','type':'boolean'},{'name':'scrollMode','type':'number'},{'name':'bounceAmou'+'nt','type':'number'},{'name':'friction','type':'number'},{'name':'dragThresh'+'old','type':'number'},{'name':'useMouseWh'+'eel','type':'boolean'},{'name':'mouseWheel'+'Sensitivit'+'y','type':'vec2'},{'name':'horizontal'+'ScrollbarV'+'isibility','type':'number'},{'name':'verticalSc'+'rollbarVis'+'ibility','type':'number'}],rF=0x2f*-0x48+0x5*0x716+-0x16*0x102;class aF extends ct{constructor(_0x370112){super(_0x370112),this['id']='scrollview',this['ComponentT'+'ype']=c0,this['DataType']=iF,this['schema']=nS,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this),this['app']['systems']['on']('update',this['onUpdate'],this);}['initialize'+'ComponentD'+'ata'](_0x1c18d4,_0x44905c,_0x2b901f){_0x44905c['dragThresh'+'old']===void(0xf4*0x4+0x1*-0x16b1+0x12e1)&&(_0x44905c['dragThresh'+'old']=rF),_0x44905c['useMouseWh'+'eel']===void(0x1e89*0x1+-0x5b8*0x1+-0x18d1*0x1)&&(_0x44905c['useMouseWh'+'eel']=!(0xbaf*-0x3+0x7*0x376+0xad3)),_0x44905c['mouseWheel'+'Sensitivit'+'y']===void(-0x2*-0x8d4+-0x16cf*-0x1+-0x2877)&&(_0x44905c['mouseWheel'+'Sensitivit'+'y']=new J(0x13cb+-0xf42+-0x488,0x16ff+0x1d88+0x9*-0x5d6)),super['initialize'+'ComponentD'+'ata'](_0x1c18d4,_0x44905c,nS),_0x1c18d4['viewportEn'+'tity']=_0x44905c['viewportEn'+'tity'],_0x1c18d4['contentEnt'+'ity']=_0x44905c['contentEnt'+'ity'],_0x1c18d4['horizontal'+'ScrollbarE'+'ntity']=_0x44905c['horizontal'+'ScrollbarE'+'ntity'],_0x1c18d4['verticalSc'+'rollbarEnt'+'ity']=_0x44905c['verticalSc'+'rollbarEnt'+'ity'];}['onUpdate'](_0x2fb6b8){const _0x238e04=this['store'];for(const _0x3e0706 in _0x238e04){const _0x3d42a9=_0x238e04[_0x3e0706]['entity'],_0x34ff48=_0x3d42a9['scrollview'];_0x34ff48['enabled']&&_0x3d42a9['enabled']&&_0x34ff48['onUpdate']();}}['_onRemoveC'+'omponent'](_0x3f3e44,_0x2c05c5){_0x2c05c5['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}class h0 extends we{constructor(_0x1e4ffe,_0x13255c){super(_0x1e4ffe,_0x13255c),h(this,'_handleEnt'+'ity',null),h(this,'_evtHandle'+'EntityElem'+'entAdd',null),h(this,'_evtHandle'+'EntityChan'+'ges',[]),this['_toggleLif'+'ecycleList'+'eners']('on');}get['data'](){const _0x363674=this['system']['store'][this['entity']['getGuid']()];return _0x363674?_0x363674['data']:null;}set['enabled'](_0x535d13){this['_setValue']('enabled',_0x535d13);}get['enabled'](){return this['data']['enabled'];}set['orientatio'+'n'](_0x3b2cf1){this['_setValue']('orientatio'+'n',_0x3b2cf1);}get['orientatio'+'n'](){return this['data']['orientatio'+'n'];}set['value'](_0x161d2e){this['_setValue']('value',_0x161d2e);}get['value'](){return this['data']['value'];}set['handleSize'](_0x278d2e){this['_setValue']('handleSize',_0x278d2e);}get['handleSize'](){return this['data']['handleSize'];}set['handleEnti'+'ty'](_0x5a08b4){if(this['_handleEnt'+'ity']===_0x5a08b4)return;const _0x502850=typeof _0x5a08b4=='string';this['_handleEnt'+'ity']&&_0x502850&&this['_handleEnt'+'ity']['getGuid']()===_0x5a08b4||(this['_handleEnt'+'ity']&&this['_handleEnt'+'ityUnsubsc'+'ribe'](),_0x5a08b4 instanceof Ie?this['_handleEnt'+'ity']=_0x5a08b4:_0x502850?this['_handleEnt'+'ity']=this['system']['app']['getEntityF'+'romIndex'](_0x5a08b4)||null:this['_handleEnt'+'ity']=null,this['_handleEnt'+'ity']&&this['_handleEnt'+'itySubscri'+'be'](),this['_handleEnt'+'ity']?this['data']['handleEnti'+'ty']=this['_handleEnt'+'ity']['getGuid']():_0x502850&&_0x5a08b4&&(this['data']['handleEnti'+'ty']=_0x5a08b4));}get['handleEnti'+'ty'](){return this['_handleEnt'+'ity'];}['_setValue'](_0x2bc303,_0xde0470){const _0x188398=this['data'],_0x551280=_0x188398[_0x2bc303];_0x188398[_0x2bc303]=_0xde0470,this['fire']('set',_0x2bc303,_0x551280,_0xde0470);}['_toggleLif'+'ecycleList'+'eners'](_0x170a7b){this[_0x170a7b]('set_value',this['_onSetValu'+'e'],this),this[_0x170a7b]('set_handle'+'Size',this['_onSetHand'+'leSize'],this),this[_0x170a7b]('set_orient'+'ation',this['_onSetOrie'+'ntation'],this);}['_handleEnt'+'itySubscri'+'be'](){this['_evtHandle'+'EntityElem'+'entAdd']=this['_handleEnt'+'ity']['on']('element:ad'+'d',this['_onHandleE'+'lementGain'],this),this['_handleEnt'+'ity']['element']&&this['_onHandleE'+'lementGain']();}['_handleEnt'+'ityUnsubsc'+'ribe'](){var _0x1036c7,_0x1671d2;(_0x1036c7=this['_evtHandle'+'EntityElem'+'entAdd'])==null||_0x1036c7['off'](),this['_evtHandle'+'EntityElem'+'entAdd']=null,(_0x1671d2=this['_handleEnt'+'ity'])!=null&&_0x1671d2['element']&&this['_onHandleE'+'lementLose']();}['_handleEnt'+'ityElement'+'Subscribe'](){const _0x5442bd=this['_handleEnt'+'ity']['element'],_0x67f180=this['_evtHandle'+'EntityChan'+'ges'];_0x67f180['push'](_0x5442bd['once']('beforeremo'+'ve',this['_onHandleE'+'lementLose'],this)),_0x67f180['push'](_0x5442bd['on']('set:anchor',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x67f180['push'](_0x5442bd['on']('set:margin',this['_onSetHand'+'leAlignmen'+'t'],this)),_0x67f180['push'](_0x5442bd['on']('set:pivot',this['_onSetHand'+'leAlignmen'+'t'],this));}['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](){for(let _0x1ce393=-0xbd6+0x1a*0x9a+-0x3ce*0x1;_0x1ce393<this['_evtHandle'+'EntityChan'+'ges']['length'];_0x1ce393++)this['_evtHandle'+'EntityChan'+'ges'][_0x1ce393]['off']();this['_evtHandle'+'EntityChan'+'ges']['length']=0x1*0xa77+-0x185f+0x2c8*0x5;}['_onHandleE'+'lementGain'](){this['_handleEnt'+'ityElement'+'Subscribe'](),this['_destroyDr'+'agHelper'](),this['_handleDra'+'gHelper']=new Go(this['_handleEnt'+'ity']['element'],this['_getAxis']()),this['_handleDra'+'gHelper']['on']('drag:move',this['_onHandleD'+'rag'],this),this['_updateHan'+'dlePositio'+'nAndSize']();}['_onHandleE'+'lementLose'](){this['_handleEnt'+'ityElement'+'Unsubscrib'+'e'](),this['_destroyDr'+'agHelper']();}['_onHandleD'+'rag'](_0x111ad4){this['_handleEnt'+'ity']&&this['enabled']&&this['entity']['enabled']&&(this['value']=this['_handlePos'+'itionToScr'+'ollValue'](_0x111ad4[this['_getAxis']()]));}['_onSetValu'+'e'](_0x40d21b,_0xf09cac,_0x4a5206){Math['abs'](_0x4a5206-_0xf09cac)>0x2607+0xa*0x239+0x3c41*-0x1+0.00001&&(this['data']['value']=Y['clamp'](_0x4a5206,0x1*-0x20e5+-0x11*0xd3+0x2ee8*0x1,0xb2d+0x7d8+-0x1304),this['_updateHan'+'dlePositio'+'nAndSize'](),this['fire']('set:value',this['data']['value']));}['_onSetHand'+'leSize'](_0x2d7825,_0x4cdb22,_0x21922e){Math['abs'](_0x21922e-_0x4cdb22)>0x1*-0xda1+0x190f+0x7*-0x1a2+0.00001&&(this['data']['handleSize']=Y['clamp'](_0x21922e,-0x405+0xc72+-0x86d,0x1193+-0x290*-0x5+-0x1e62*0x1),this['_updateHan'+'dlePositio'+'nAndSize']());}['_onSetHand'+'leAlignmen'+'t'](){this['_updateHan'+'dlePositio'+'nAndSize']();}['_onSetOrie'+'ntation'](_0x2a3939,_0x37e6d5,_0x5dd17b){var _0xd5ad6a;_0x5dd17b!==_0x37e6d5&&((_0xd5ad6a=this['_handleEnt'+'ity'])!=null&&_0xd5ad6a['element'])&&(this['_handleEnt'+'ity']['element'][this['_getOpposi'+'teDimensio'+'n']()]=0x8e3+0x214e+-0x1*0x2a31);}['_updateHan'+'dlePositio'+'nAndSize'](){const _0x1a4e65=this['_handleEnt'+'ity'],_0x60b6ab=_0x1a4e65==null?void(0x10ca*0x1+-0x1*-0x1046+0x4*-0x844):_0x1a4e65['element'];if(_0x1a4e65){const _0x481906=_0x1a4e65['getLocalPo'+'sition']();_0x481906[this['_getAxis']()]=this['_getHandle'+'Position'](),_0x1a4e65['setLocalPo'+'sition'](_0x481906);}_0x60b6ab&&(_0x60b6ab[this['_getDimens'+'ion']()]=this['_getHandle'+'Length']());}['_handlePos'+'itionToScr'+'ollValue'](_0x34a493){return _0x34a493*this['_getSign']()/this['_getUsable'+'TrackLengt'+'h']();}['_scrollVal'+'ueToHandle'+'Position'](_0x5f31d7){return _0x5f31d7*this['_getSign']()*this['_getUsable'+'TrackLengt'+'h']();}['_getUsable'+'TrackLengt'+'h'](){return Math['max'](this['_getTrackL'+'ength']()-this['_getHandle'+'Length'](),-0x1*0x25cf+-0x2ce*0x1+-0x1*-0x289d+0.001);}['_getTrackL'+'ength'](){return this['entity']['element']?this['orientatio'+'n']===Ce?this['entity']['element']['calculated'+'Width']:this['entity']['element']['calculated'+'Height']:0x669+-0xd37*-0x2+-0x4b1*0x7;}['_getHandle'+'Length'](){return this['_getTrackL'+'ength']()*this['handleSize'];}['_getHandle'+'Position'](){return this['_scrollVal'+'ueToHandle'+'Position'](this['value']);}['_getSign'](){return this['orientatio'+'n']===Ce?0x771+0x2185*0x1+-0x48d*0x9:-(0x85*-0xb+-0x10*-0x139+-0xdd8);}['_getAxis'](){return this['orientatio'+'n']===Ce?'x':'y';}['_getDimens'+'ion'](){return this['orientatio'+'n']===Ce?'width':'height';}['_getOpposi'+'teDimensio'+'n'](){return this['orientatio'+'n']===Ce?'height':'width';}['_destroyDr'+'agHelper'](){this['_handleDra'+'gHelper']&&this['_handleDra'+'gHelper']['destroy']();}['_setHandle'+'DraggingEn'+'abled'](_0x5a742b){this['_handleDra'+'gHelper']&&(this['_handleDra'+'gHelper']['enabled']=_0x5a742b);}['onEnable'](){this['_setHandle'+'DraggingEn'+'abled'](!(-0x115*0x12+-0x1dae+0x3128));}['onDisable'](){this['_setHandle'+'DraggingEn'+'abled'](!(0x11a9+-0x626*0x5+0xd16));}['onRemove'](){this['_destroyDr'+'agHelper'](),this['_toggleLif'+'ecycleList'+'eners']('off');}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x3ea4d6,_0xd135b){_0x3ea4d6['handleEnti'+'ty']&&(this['handleEnti'+'ty']=_0xd135b[_0x3ea4d6['handleEnti'+'ty']['getGuid']()]);}}h(h0,'EVENT_SETV'+'ALUE','set:value');class nF{constructor(){h(this,'enabled',!(-0x4*0x185+0x1b5e+0x2*-0xaa5)),h(this,'orientatio'+'n',Ce),h(this,'value',0x1142+0x1063*-0x1+0x1*-0xdf),h(this,'handleSize',0x1*-0x1380+-0x2b3+0x1633),h(this,'handleEnti'+'ty',null);}}const oS=[{'name':'enabled','type':'boolean'},{'name':'orientatio'+'n','type':'number'},{'name':'value','type':'number'},{'name':'handleSize','type':'number'}];class oF extends ct{constructor(_0xaa6112){super(_0xaa6112),this['id']='scrollbar',this['ComponentT'+'ype']=h0,this['DataType']=nF,this['schema']=oS,this['on']('add',this['_onAddComp'+'onent'],this),this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0x264e45,_0x5a11d2,_0x570091){super['initialize'+'ComponentD'+'ata'](_0x264e45,_0x5a11d2,oS),_0x264e45['handleEnti'+'ty']=_0x5a11d2['handleEnti'+'ty'];}['_onAddComp'+'onent'](_0x1ae8e4){_0x1ae8e4['fire']('scrollbar:'+'add');}['_onRemoveC'+'omponent'](_0x2d572d,_0x5d10eb){_0x5d10eb['onRemove']();}}const lF={'volume':0x0,'pitch':0x0,'loop':!(-0x91*-0x5+0x26ef+-0x29c3),'startTime':0x0,'duration':0x0,'position':new D(),'maxDistance':0x0,'refDistance':0x0,'rollOffFactor':0x0,'distanceModel':0x0,'onPlay':null,'onPause':null,'onResume':null,'onStop':null,'onEnd':null};class Gi extends me{constructor(_0x493ecd,_0x5e4e04='Untitled',_0x28f9ff={}){super(),h(this,'name'),h(this,'instances',[]),(this['_component']=_0x493ecd,this['_assets']=_0x493ecd['system']['app']['assets'],this['_manager']=_0x493ecd['system']['manager'],this['name']=_0x5e4e04,this['_volume']=_0x28f9ff['volume']!==void(-0x75d+-0x1caf+-0x1206*-0x2)?Y['clamp'](Number(_0x28f9ff['volume'])||-0x1ebc+-0x283+-0x3*-0xb15,-0x1*-0x258d+0xc*-0xf3+-0x1a29,0xd*0xbd+-0x1201*-0x2+-0x2d9a):-0x12*-0x182+-0x7*-0x4a3+0x773*-0x8,this['_pitch']=_0x28f9ff['pitch']!==void(0x3ba+0xe*0x115+-0x12e0)?Math['max'](0x1*0x1a8e+-0x148b+0x39*-0x1b+0.01,Number(_0x28f9ff['pitch'])||0x1352*0x1+-0x1*-0x20a7+-0x377*0xf):-0x1*-0x197f+-0x5*-0x43f+-0x2eb9,this['_loop']=!!(_0x28f9ff['loop']!==void(-0x4b*0x44+0x12fb+0xf1)&&_0x28f9ff['loop']),this['_duration']=_0x28f9ff['duration']>0x2bd+-0x2*0xe0f+0x1961?_0x28f9ff['duration']:null,this['_startTime']=Math['max'](-0x49*0x5+-0x1171+0x12de,Number(_0x28f9ff['startTime'])||-0x2d4*0x1+-0xa77*-0x2+-0x121a),this['_overlap']=!!_0x28f9ff['overlap'],this['_autoPlay']=!!_0x28f9ff['autoPlay'],this['_firstNode']=null,this['_lastNode']=null,this['_asset']=_0x28f9ff['asset'],this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_onInstanc'+'ePlayHandl'+'er']=this['_onInstanc'+'ePlay']['bind'](this),this['_onInstanc'+'ePauseHand'+'ler']=this['_onInstanc'+'ePause']['bind'](this),this['_onInstanc'+'eResumeHan'+'dler']=this['_onInstanc'+'eResume']['bind'](this),this['_onInstanc'+'eStopHandl'+'er']=this['_onInstanc'+'eStop']['bind'](this),this['_onInstanc'+'eEndHandle'+'r']=this['_onInstanc'+'eEnd']['bind'](this));}['play'](_0x1db08c){if(this['overlap']||this['stop'](),!this['isLoaded']&&!this['_hasAsset']()){w['warn']('Trying\x20to\x20'+'play\x20Sound'+'Slot\x20'+this['name']+('\x20but\x20it\x20is'+'\x20not\x20loade'+'d\x20and\x20does'+'n\x27t\x20have\x20a'+'n\x20asset.'));return;}let _0x2e1e16=_0x1db08c;if(_0x2e1e16||(_0x2e1e16=this['_createIns'+'tance'](),this['instances']['push'](_0x2e1e16)),this['isLoaded'])_0x2e1e16['play']();else{const _0x163741=function(_0x33a1d1){const _0x281bd7=_0x2e1e16['_playWhenL'+'oaded'];_0x2e1e16['sound']=_0x33a1d1,_0x281bd7&&_0x2e1e16['play']();};this['off']('load',_0x163741),this['once']('load',_0x163741),this['load']();}return _0x2e1e16;}['pause'](){let _0x16e665=!(0x92*0x29+-0xbe0+-0x5f*0x1f);const _0x36594e=this['instances'];for(let _0x1e8463=0x857+-0x7c*0x3e+0x1*0x15b1,_0x24ccc9=_0x36594e['length'];_0x1e8463<_0x24ccc9;_0x1e8463++)_0x36594e[_0x1e8463]['pause']()&&(_0x16e665=!(0x14e0+0xb0b+-0x1feb));return _0x16e665;}['resume'](){let _0x2e5e88=!(0xb*0x19b+-0x17a6+-0x76*-0xd);const _0x2a5ae8=this['instances'];for(let _0xa9f81a=-0xfd1+-0xd1*-0x2d+-0x14ec,_0x2d84f2=_0x2a5ae8['length'];_0xa9f81a<_0x2d84f2;_0xa9f81a++)_0x2a5ae8[_0xa9f81a]['resume']()&&(_0x2e5e88=!(0x1*-0x144d+-0xad2+0x1f1f));return _0x2e5e88;}['stop'](){let _0x5ccc3f=!(0x1a25+0x195c+-0x3380);const _0x5eaf11=this['instances'];let _0x476c05=_0x5eaf11['length'];for(;_0x476c05--;)_0x5eaf11[_0x476c05]['stop'](),_0x5ccc3f=!(-0x16d4+-0x1*0x10b2+0x2786);return _0x5eaf11['length']=0x13*0xe0+0x7a8*0x2+0x7fc*-0x4,_0x5ccc3f;}['load'](){if(!this['_hasAsset']())return;const _0x7f45e2=this['_assets']['get'](this['_asset']);if(!_0x7f45e2){this['_assets']['off']('add:'+this['_asset'],this['_onAssetAd'+'d'],this),this['_assets']['once']('add:'+this['_asset'],this['_onAssetAd'+'d'],this);return;}if(_0x7f45e2['off']('remove',this['_onAssetRe'+'moved'],this),_0x7f45e2['on']('remove',this['_onAssetRe'+'moved'],this),!_0x7f45e2['resource']){_0x7f45e2['off']('load',this['_onAssetLo'+'ad'],this),_0x7f45e2['once']('load',this['_onAssetLo'+'ad'],this),this['_assets']['load'](_0x7f45e2);return;}this['fire']('load',_0x7f45e2['resource']);}['setExterna'+'lNodes'](_0xbbd151,_0x350c42){if(!_0xbbd151){console['error']('The\x20firstN'+'ode\x20must\x20h'+'ave\x20a\x20vali'+'d\x20AudioNod'+'e');return;}if(_0x350c42||(_0x350c42=_0xbbd151),this['_firstNode']=_0xbbd151,this['_lastNode']=_0x350c42,!this['_overlap']){const _0x225427=this['instances'];for(let _0x1c317e=0x1331+-0x1f4+-0x113d,_0x113795=_0x225427['length'];_0x1c317e<_0x113795;_0x1c317e++)_0x225427[_0x1c317e]['setExterna'+'lNodes'](_0xbbd151,_0x350c42);}}['clearExter'+'nalNodes'](){if(this['_firstNode']=null,this['_lastNode']=null,!this['_overlap']){const _0x2e6bea=this['instances'];for(let _0x16a569=-0x1*-0x32e+-0x12f5*-0x2+-0x2918,_0x24d73a=_0x2e6bea['length'];_0x16a569<_0x24d73a;_0x16a569++)_0x2e6bea[_0x16a569]['clearExter'+'nalNodes']();}}['getExterna'+'lNodes'](){return[this['_firstNode'],this['_lastNode']];}['_hasAsset'](){return this['_asset']!=null;}['_createIns'+'tance'](){let _0xc6185e=null;const _0x2c9747=this['_component'];let _0xa450a9=null;if(this['_hasAsset']()){const _0x253d2e=this['_assets']['get'](this['_asset']);_0x253d2e&&(_0xa450a9=_0x253d2e['resource']);}const _0x2afea6=lF;return _0x2afea6['volume']=this['_volume']*_0x2c9747['volume'],_0x2afea6['pitch']=this['_pitch']*_0x2c9747['pitch'],_0x2afea6['loop']=this['_loop'],_0x2afea6['startTime']=this['_startTime'],_0x2afea6['duration']=this['_duration'],_0x2afea6['onPlay']=this['_onInstanc'+'ePlayHandl'+'er'],_0x2afea6['onPause']=this['_onInstanc'+'ePauseHand'+'ler'],_0x2afea6['onResume']=this['_onInstanc'+'eResumeHan'+'dler'],_0x2afea6['onStop']=this['_onInstanc'+'eStopHandl'+'er'],_0x2afea6['onEnd']=this['_onInstanc'+'eEndHandle'+'r'],_0x2c9747['positional']?(_0x2afea6['position']['copy'](_0x2c9747['entity']['getPositio'+'n']()),_0x2afea6['maxDistanc'+'e']=_0x2c9747['maxDistanc'+'e'],_0x2afea6['refDistanc'+'e']=_0x2c9747['refDistanc'+'e'],_0x2afea6['rollOffFac'+'tor']=_0x2c9747['rollOffFac'+'tor'],_0x2afea6['distanceMo'+'del']=_0x2c9747['distanceMo'+'del'],_0xc6185e=new sn(this['_manager'],_0xa450a9,_0x2afea6)):_0xc6185e=new As(this['_manager'],_0xa450a9,_0x2afea6),this['_firstNode']&&_0xc6185e['setExterna'+'lNodes'](this['_firstNode'],this['_lastNode']),_0xc6185e;}['_onInstanc'+'ePlay'](_0x289ffb){this['fire']('play',_0x289ffb),this['_component']['fire']('play',this,_0x289ffb);}['_onInstanc'+'ePause'](_0x559313){this['fire']('pause',_0x559313),this['_component']['fire']('pause',this,_0x559313);}['_onInstanc'+'eResume'](_0x30cbfb){this['fire']('resume',_0x30cbfb),this['_component']['fire']('resume',this,_0x30cbfb);}['_onInstanc'+'eStop'](_0x2cfff8){const _0xd8120a=this['instances']['indexOf'](_0x2cfff8);_0xd8120a!==-(0x219c+0x25ce+-0x4769)&&this['instances']['splice'](_0xd8120a,-0x1*0xa11+0xac4+-0x59*0x2),this['fire']('stop',_0x2cfff8),this['_component']['fire']('stop',this,_0x2cfff8);}['_onInstanc'+'eEnd'](_0x4eda9d){const _0xbe1326=this['instances']['indexOf'](_0x4eda9d);_0xbe1326!==-(-0x164c+-0x2016+0x3663)&&this['instances']['splice'](_0xbe1326,-0x6cd*0x5+0xaed*0x1+0x1715),this['fire']('end',_0x4eda9d),this['_component']['fire']('end',this,_0x4eda9d);}['_onAssetAd'+'d'](_0x4542d0){this['load']();}['_onAssetLo'+'ad'](_0x558461){this['load']();}['_onAssetRe'+'moved'](_0x534e1f){_0x534e1f['off']('remove',this['_onAssetRe'+'moved'],this),this['_assets']['off']('add:'+_0x534e1f['id'],this['_onAssetAd'+'d'],this),this['stop']();}['updatePosi'+'tion'](_0x488aec){const _0x4456d8=this['instances'];for(let _0x50bcc4=-0xf8d+0x2072+-0x19*0xad,_0x367502=_0x4456d8['length'];_0x50bcc4<_0x367502;_0x50bcc4++)_0x4456d8[_0x50bcc4]['position']=_0x488aec;}set['asset'](_0x7362ea){const _0x263c94=this['_asset'];if(_0x263c94){this['_assets']['off']('add:'+_0x263c94,this['_onAssetAd'+'d'],this);const _0xf3459=this['_assets']['get'](_0x263c94);_0xf3459&&_0xf3459['off']('remove',this['_onAssetRe'+'moved'],this);}this['_asset']=_0x7362ea,this['_asset']instanceof pe&&(this['_asset']=this['_asset']['id']),this['_hasAsset']()&&this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['load']();}get['asset'](){return this['_asset'];}set['autoPlay'](_0x1023cf){this['_autoPlay']=!!_0x1023cf;}get['autoPlay'](){return this['_autoPlay'];}set['duration'](_0x538555){if(this['_duration']=Math['max'](-0x1e65+-0x1109+0x2f6e,Number(_0x538555)||-0xdc6*0x2+0xe*-0x5+0x1bd2)||null,!this['_overlap']){const _0x3d314b=this['instances'];for(let _0x94871a=-0x1a41+-0x94b+-0x16c*-0x19,_0x242ada=_0x3d314b['length'];_0x94871a<_0x242ada;_0x94871a++)_0x3d314b[_0x94871a]['duration']=this['_duration'];}}get['duration'](){let _0x122c2a=0x2335+0x1b24+0x1*-0x3e59;if(this['_hasAsset']()){const _0x32e3fc=this['_assets']['get'](this['_asset']);_0x122c2a=_0x32e3fc!=null&&_0x32e3fc['resource']?_0x32e3fc['resource']['duration']:0x1cb8+0x39*-0x32+0x1196*-0x1;}return this['_duration']!=null?this['_duration']%(_0x122c2a||0x4*0x329+-0x1457+0x7b4):_0x122c2a;}get['isLoaded'](){if(this['_hasAsset']()){const _0x3c2097=this['_assets']['get'](this['_asset']);if(_0x3c2097)return!!_0x3c2097['resource'];}return!(-0x190a+-0x25*-0x3e+-0x1*-0x1015);}get['isPaused'](){const _0x4b3b26=this['instances'],_0x1dbb63=_0x4b3b26['length'];if(_0x1dbb63===0x1012+0x21ae+0x40*-0xc7)return!(0x1df0+-0x449*-0x1+0x248*-0xf);for(let _0xbda926=0x1c38+0x263f+0x29*-0x19f;_0xbda926<_0x1dbb63;_0xbda926++)if(!_0x4b3b26[_0xbda926]['isPaused'])return!(-0x10c1*0x2+0x5a7*-0x3+0x3278);return!(-0x256*0x3+0x2c7*0x2+0x174);}get['isPlaying'](){const _0x323f75=this['instances'];for(let _0x3bf582=-0xa78+-0x1*-0x1dbe+0x2*-0x9a3,_0x374f53=_0x323f75['length'];_0x3bf582<_0x374f53;_0x3bf582++)if(_0x323f75[_0x3bf582]['isPlaying'])return!(-0xa21+0x15*0x29+-0x2*-0x362);return!(0x1977+-0x24c3+0xb4d);}get['isStopped'](){const _0x456ead=this['instances'];for(let _0x55a2be=0x18*-0x46+-0x1cc7+0x2357,_0x56baa6=_0x456ead['length'];_0x55a2be<_0x56baa6;_0x55a2be++)if(!_0x456ead[_0x55a2be]['isStopped'])return!(-0xf81+-0x6ec*0x3+0x1*0x2446);return!(-0x338*-0xa+-0x20c+-0x1e24);}set['loop'](_0x4cbf7d){this['_loop']=!!_0x4cbf7d;const _0x44ac36=this['instances'];for(let _0x43d62b=-0x1389+0x14bd+-0x134*0x1,_0x8351c4=_0x44ac36['length'];_0x43d62b<_0x8351c4;_0x43d62b++)_0x44ac36[_0x43d62b]['loop']=this['_loop'];}get['loop'](){return this['_loop'];}set['overlap'](_0x2e06a8){this['_overlap']=!!_0x2e06a8;}get['overlap'](){return this['_overlap'];}set['pitch'](_0x42898b){if(this['_pitch']=Math['max'](Number(_0x42898b)||-0x2423+-0x1078+-0x3*-0x1189,0x580+0x4bf+-0xa3f*0x1+0.01),!this['_overlap']){const _0x53d985=this['instances'];for(let _0x217a89=-0x266a+-0x2e*-0x60+0x152a,_0x574401=_0x53d985['length'];_0x217a89<_0x574401;_0x217a89++)_0x53d985[_0x217a89]['pitch']=this['pitch']*this['_component']['pitch'];}}get['pitch'](){return this['_pitch'];}set['startTime'](_0x5cebc4){if(this['_startTime']=Math['max'](-0xb*0x337+-0x86a+0x641*0x7,Number(_0x5cebc4)||-0x47*-0x49+0x101f*0x2+-0x3*0x117f),!this['_overlap']){const _0x4716dc=this['instances'];for(let _0xf7a368=0x3e*0x49+0x135f+-0x250d,_0x122d65=_0x4716dc['length'];_0xf7a368<_0x122d65;_0xf7a368++)_0x4716dc[_0xf7a368]['startTime']=this['_startTime'];}}get['startTime'](){return this['_startTime'];}set['volume'](_0x34654e){if(this['_volume']=Y['clamp'](Number(_0x34654e)||-0x3*-0xa4e+-0x1226+-0xcc4,-0x293*-0x1+-0x1*-0x11a4+-0x1437,-0x1*-0x2446+0x12fe+0x7*-0x7e5),!this['_overlap']){const _0x132fd4=this['instances'];for(let _0x341b66=0x6c9+0x1fa+0x8c3*-0x1,_0x40131e=_0x132fd4['length'];_0x341b66<_0x40131e;_0x341b66++)_0x132fd4[_0x341b66]['volume']=this['_volume']*this['_component']['volume'];}}get['volume'](){return this['_volume'];}}h(Gi,'EVENT_PLAY','play'),h(Gi,'EVENT_PAUS'+'E','pause'),h(Gi,'EVENT_RESU'+'ME','resume'),h(Gi,'EVENT_STOP','stop'),h(Gi,'EVENT_END','end'),h(Gi,'EVENT_LOAD','load');class Kr extends we{constructor(){super(...arguments),h(this,'_volume',-0x1ec0+0x1ca0+-0x5*-0x6d),h(this,'_pitch',0x5a*-0x52+-0x1ef*0x9+0x2e3c),h(this,'_positiona'+'l',!(-0x83*0x1c+0x3a*-0x90+0x964*0x5)),h(this,'_refDistan'+'ce',0x1d01+-0xad2+-0x122e),h(this,'_maxDistan'+'ce',-0x199f+-0x13*-0x259+0x1414),h(this,'_rollOffFa'+'ctor',0x1e20+0x59*0x12+-0x1*0x2461),h(this,'_distanceM'+'odel',Vp),h(this,'_slots',{}),h(this,'_playingBe'+'foreDisabl'+'e',{});}['_updateSou'+'ndInstance'+'s'](_0x76125d,_0x55b115,_0x1b2241){const _0x463886=this['_slots'];for(const _0x3d3436 in _0x463886){const _0x5f72a9=_0x463886[_0x3d3436];if(!_0x5f72a9['overlap']){const _0x394e09=_0x5f72a9['instances'];for(let _0x63066d=0x8b*0x15+0x2ca+-0xe31,_0x48bed7=_0x394e09['length'];_0x63066d<_0x48bed7;_0x63066d++)_0x394e09[_0x63066d][_0x76125d]=_0x1b2241?_0x5f72a9[_0x76125d]*_0x55b115:_0x55b115;}}}set['distanceMo'+'del'](_0x15e5a4){this['_distanceM'+'odel']=_0x15e5a4,this['_updateSou'+'ndInstance'+'s']('distanceMo'+'del',_0x15e5a4,!(0x4aa*-0x4+0x6ea+0xbbf));}get['distanceMo'+'del'](){return this['_distanceM'+'odel'];}set['maxDistanc'+'e'](_0x22409a){this['_maxDistan'+'ce']=_0x22409a,this['_updateSou'+'ndInstance'+'s']('maxDistanc'+'e',_0x22409a,!(-0x24ba+-0xdb2+0x326d));}get['maxDistanc'+'e'](){return this['_maxDistan'+'ce'];}set['refDistanc'+'e'](_0x215be6){this['_refDistan'+'ce']=_0x215be6,this['_updateSou'+'ndInstance'+'s']('refDistanc'+'e',_0x215be6,!(-0x1f71+-0xf24+0x2e96));}get['refDistanc'+'e'](){return this['_refDistan'+'ce'];}set['rollOffFac'+'tor'](_0x472ac4){this['_rollOffFa'+'ctor']=_0x472ac4,this['_updateSou'+'ndInstance'+'s']('rollOffFac'+'tor',_0x472ac4,!(-0x339+-0x70d+-0xa47*-0x1));}get['rollOffFac'+'tor'](){return this['_rollOffFa'+'ctor'];}set['pitch'](_0x1f14f4){this['_pitch']=_0x1f14f4,this['_updateSou'+'ndInstance'+'s']('pitch',_0x1f14f4,!(-0x21a4+0x1aab+0x6f9));}get['pitch'](){return this['_pitch'];}set['volume'](_0x128805){this['_volume']=_0x128805,this['_updateSou'+'ndInstance'+'s']('volume',_0x128805,!(-0x2+0x4*0x183+0x305*-0x2));}get['volume'](){return this['_volume'];}set['positional'](_0x43f1d6){this['_positiona'+'l']=_0x43f1d6;const _0x4650d5=this['_slots'];for(const _0x5544c8 in _0x4650d5){const _0xc5bc88=_0x4650d5[_0x5544c8];if(!_0xc5bc88['overlap']){const _0xb158e1=_0xc5bc88['instances'],_0x122b86=_0xb158e1['length'];for(let _0x1d9a0d=_0x122b86-(0x22e6+0x46*0x68+-0x3f55);_0x1d9a0d>=-0xd9e+0x150d+-0x76f;_0x1d9a0d--){const _0xec35ac=_0xb158e1[_0x1d9a0d]['isPlaying']||_0xb158e1[_0x1d9a0d]['isSuspende'+'d'],_0x27d532=_0xb158e1[_0x1d9a0d]['currentTim'+'e'];_0xec35ac&&_0xb158e1[_0x1d9a0d]['stop']();const _0x35cfb8=_0xc5bc88['_createIns'+'tance']();_0xec35ac&&(_0x35cfb8['play'](),_0x35cfb8['currentTim'+'e']=_0x27d532),_0xb158e1['push'](_0x35cfb8);}}}}get['positional'](){return this['_positiona'+'l'];}set['slots'](_0x23385a){const _0x3fa61e=this['_slots'];if(_0x3fa61e){for(const _0x153113 in _0x3fa61e)_0x3fa61e[_0x153113]['stop']();}const _0xafdf4e={};for(const _0xb49c36 in _0x23385a)_0x23385a[_0xb49c36]instanceof Gi?_0xafdf4e[_0x23385a[_0xb49c36]['name']]=_0x23385a[_0xb49c36]:_0x23385a[_0xb49c36]['name']&&(_0xafdf4e[_0x23385a[_0xb49c36]['name']]=new Gi(this,_0x23385a[_0xb49c36]['name'],_0x23385a[_0xb49c36]));this['_slots']=_0xafdf4e,this['enabled']&&this['entity']['enabled']&&this['onEnable']();}get['slots'](){return this['_slots'];}['onEnable'](){if(this['system']['_inTools'])return;const _0x2ec4e3=this['_slots'],_0x1e7a80=this['_playingBe'+'foreDisabl'+'e'];for(const _0x24bbb1 in _0x2ec4e3){const _0x140ef2=_0x2ec4e3[_0x24bbb1];_0x140ef2['autoPlay']&&_0x140ef2['isStopped']?_0x140ef2['play']():_0x1e7a80[_0x24bbb1]?_0x140ef2['resume']():_0x140ef2['isLoaded']||_0x140ef2['load']();}}['onDisable'](){const _0x36cabf=this['_slots'],_0x2c027a={};for(const _0x19a94c in _0x36cabf)_0x36cabf[_0x19a94c]['overlap']||_0x36cabf[_0x19a94c]['isPlaying']&&(_0x36cabf[_0x19a94c]['pause'](),_0x2c027a[_0x19a94c]=!(0xc9*-0x7+-0x20d5+-0x4*-0x995));this['_playingBe'+'foreDisabl'+'e']=_0x2c027a;}['onRemove'](){this['off']();}['addSlot'](_0x67f178,_0x195bd6){const _0x578999=this['_slots'];if(_0x578999[_0x67f178])return w['warn']('A\x20sound\x20sl'+'ot\x20with\x20na'+'me\x20'+_0x67f178+('\x20already\x20e'+'xists\x20on\x20E'+'ntity\x20')+this['entity']['path']),null;const _0x2ba8f9=new Gi(this,_0x67f178,_0x195bd6);return _0x578999[_0x67f178]=_0x2ba8f9,_0x2ba8f9['autoPlay']&&this['enabled']&&this['entity']['enabled']&&_0x2ba8f9['play'](),_0x2ba8f9;}['removeSlot'](_0x292728){const _0x2e5167=this['_slots'];_0x2e5167[_0x292728]&&(_0x2e5167[_0x292728]['stop'](),delete _0x2e5167[_0x292728]);}['slot'](_0x472b73){return this['_slots'][_0x472b73];}['_getSlotPr'+'operty'](_0x3d73b5,_0x3fee6c){if(!this['enabled']||!this['entity']['enabled'])return;const _0x1bf2fc=this['_slots'][_0x3d73b5];if(!_0x1bf2fc){w['warn']('Trying\x20to\x20'+'get\x20'+_0x3fee6c+('\x20from\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20')+_0x3d73b5+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}return _0x1bf2fc[_0x3fee6c];}['isPlaying'](_0x30801b){return this['_getSlotPr'+'operty'](_0x30801b,'isPlaying')||!(-0xc23*-0x1+-0x1e4c+-0x1f*-0x96);}['isLoaded'](_0x2a71a1){return this['_getSlotPr'+'operty'](_0x2a71a1,'isLoaded')||!(0x118*0xb+0x4df+0x1*-0x10e6);}['isPaused'](_0x34cde1){return this['_getSlotPr'+'operty'](_0x34cde1,'isPaused')||!(-0x1c9e+0xd03*-0x1+0x2*0x14d1);}['isStopped'](_0x1c2377){return this['_getSlotPr'+'operty'](_0x1c2377,'isStopped')||!(-0x1*0x886+0x1201+-0x97a);}['play'](_0x5a4e7b){if(!this['enabled']||!this['entity']['enabled'])return null;const _0x30b7f7=this['_slots'][_0x5a4e7b];return _0x30b7f7?_0x30b7f7['play']():(w['warn']('Trying\x20to\x20'+'play\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x5a4e7b+('\x20which\x20doe'+'s\x20not\x20exis'+'t')),null);}['pause'](_0x4841d0){const _0x32dd45=this['_slots'];if(_0x4841d0){const _0x6bbbfa=_0x32dd45[_0x4841d0];if(!_0x6bbbfa){w['warn']('Trying\x20to\x20'+'pause\x20soun'+'d\x20slot\x20wit'+'h\x20name\x20'+_0x4841d0+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x6bbbfa['pause']();}else{for(const _0x5d5400 in _0x32dd45)_0x32dd45[_0x5d5400]['pause']();}}['resume'](_0x589bd0){const _0x3f10e7=this['_slots'];if(_0x589bd0){const _0x55f953=_0x3f10e7[_0x589bd0];if(!_0x55f953){w['warn']('Trying\x20to\x20'+'resume\x20sou'+'nd\x20slot\x20wi'+'th\x20name\x20'+_0x589bd0+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x55f953['isPaused']&&_0x55f953['resume']();}else{for(const _0x3e0c75 in _0x3f10e7)_0x3f10e7[_0x3e0c75]['resume']();}}['stop'](_0x2b362c){const _0x5b9bbf=this['_slots'];if(_0x2b362c){const _0x38e677=_0x5b9bbf[_0x2b362c];if(!_0x38e677){w['warn']('Trying\x20to\x20'+'stop\x20sound'+'\x20slot\x20with'+'\x20name\x20'+_0x2b362c+('\x20which\x20doe'+'s\x20not\x20exis'+'t'));return;}_0x38e677['stop']();}else{for(const _0x4941b9 in _0x5b9bbf)_0x5b9bbf[_0x4941b9]['stop']();}}}h(Kr,'EVENT_PLAY','play'),h(Kr,'EVENT_PAUS'+'E','pause'),h(Kr,'EVENT_RESU'+'ME','resume'),h(Kr,'EVENT_STOP','stop'),h(Kr,'EVENT_END','end');class cF{constructor(){this['enabled']=!(0x22*-0x7f+0x1c*0xe7+-0x866);}}const d0=['enabled'];class hF extends ct{constructor(_0x2312a4){super(_0x2312a4),this['id']='sound',this['ComponentT'+'ype']=Kr,this['DataType']=cF,this['schema']=d0,this['manager']=_0x2312a4['soundManag'+'er'],w['assert'](this['manager'],'SoundCompo'+'nentSystem'+'\x20cannot\x20be'+'\x20created\x20w'+'ithout\x20sou'+'nd\x20manager'),this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['volume'](_0x4f1008){this['manager']['volume']=_0x4f1008;}get['volume'](){return this['manager']['volume'];}get['context'](){return Dl()?this['manager']['context']:(w['warn']('WARNING:\x20A'+'udio\x20conte'+'xt\x20is\x20not\x20'+'supported\x20'+'on\x20this\x20br'+'owser'),null);}['initialize'+'ComponentD'+'ata'](_0x3006be,_0x5c14bf,_0x249c9a){_0x249c9a=['volume','pitch','positional','refDistanc'+'e','maxDistanc'+'e','rollOffFac'+'tor','distanceMo'+'del','slots'];for(let _0x45fc96=-0x120+-0x2*-0xd1e+-0x191c;_0x45fc96<_0x249c9a['length'];_0x45fc96++)_0x5c14bf['hasOwnProp'+'erty'](_0x249c9a[_0x45fc96])&&(_0x3006be[_0x249c9a[_0x45fc96]]=_0x5c14bf[_0x249c9a[_0x45fc96]]);super['initialize'+'ComponentD'+'ata'](_0x3006be,_0x5c14bf,['enabled']);}['cloneCompo'+'nent'](_0x37d6ab,_0x1c9c72){const _0x5d3c15=_0x37d6ab['sound'],_0x265205=_0x5d3c15['slots'],_0x1b9e80={};for(const _0x6ce2a0 in _0x265205){const _0x3eb29b=_0x265205[_0x6ce2a0];_0x1b9e80[_0x6ce2a0]={'name':_0x3eb29b['name'],'volume':_0x3eb29b['volume'],'pitch':_0x3eb29b['pitch'],'loop':_0x3eb29b['loop'],'duration':_0x3eb29b['duration'],'startTime':_0x3eb29b['startTime'],'overlap':_0x3eb29b['overlap'],'autoPlay':_0x3eb29b['autoPlay'],'asset':_0x3eb29b['asset']};}const _0x126d8b={'distanceModel':_0x5d3c15['distanceMo'+'del'],'enabled':_0x5d3c15['enabled'],'maxDistance':_0x5d3c15['maxDistanc'+'e'],'pitch':_0x5d3c15['pitch'],'positional':_0x5d3c15['positional'],'refDistance':_0x5d3c15['refDistanc'+'e'],'rollOffFactor':_0x5d3c15['rollOffFac'+'tor'],'slots':_0x1b9e80,'volume':_0x5d3c15['volume']};return this['addCompone'+'nt'](_0x1c9c72,_0x126d8b);}['onUpdate'](_0x5acda7){const _0x57bc99=this['store'];for(const _0x10bc0e in _0x57bc99)if(_0x57bc99['hasOwnProp'+'erty'](_0x10bc0e)){const _0x1c405b=_0x57bc99[_0x10bc0e]['entity'];if(_0x1c405b['enabled']){const _0x46542d=_0x1c405b['sound'];if(_0x46542d['enabled']&&_0x46542d['positional']){const _0x2ac943=_0x1c405b['getPositio'+'n'](),_0x555f28=_0x46542d['slots'];for(const _0x1ebca5 in _0x555f28)_0x555f28[_0x1ebca5]['updatePosi'+'tion'](_0x2ac943);}}}}['onBeforeRe'+'move'](_0x1b7f87,_0x4eb0ac){const _0x2d09ce=_0x4eb0ac['slots'];for(const _0x1ad0a7 in _0x2d09ce)_0x2d09ce[_0x1ad0a7]['overlap']||_0x2d09ce[_0x1ad0a7]['stop']();_0x4eb0ac['onRemove']();}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this);}}we['_buildAcce'+'ssors'](Kr['prototype'],d0);const lS='simple',cS='animated';class Hi extends me{constructor(_0x457569,_0x23b22d){super(),h(this,'_evtSetMes'+'hes',null),(this['_component']=_0x457569,this['_frame']=-0xde8+0xf6*-0x7+0x14a2,this['_sprite']=null,this['_spriteAss'+'et']=null,this['spriteAsse'+'t']=_0x23b22d['spriteAsse'+'t'],this['name']=_0x23b22d['name'],this['fps']=_0x23b22d['fps']||-0x21d7*0x1+0x824+-0x2db*-0x9,this['loop']=_0x23b22d['loop']||!(-0x3*-0x6b+0x83*-0x1+0x1*-0xbd),this['_playing']=!(0x135*0x3+0x1ec6+-0x4*0x899),this['_paused']=!(0x1990+0x25d5+-0x3f64),this['_time']=0x19dc+-0xb*-0x2c3+-0x1*0x383d);}get['duration'](){if(this['_sprite']){const _0x172e4e=this['fps']||Number['MIN_VALUE'];return this['_sprite']['frameKeys']['length']/Math['abs'](_0x172e4e);}return-0x10*0x187+0x705*0x2+0xa66;}set['frame'](_0x33cfde){this['_setFrame'](_0x33cfde);const _0x2761d0=this['fps']||Number['MIN_VALUE'];this['_setTime'](this['_frame']/_0x2761d0);}get['frame'](){return this['_frame'];}get['isPaused'](){return this['_paused'];}get['isPlaying'](){return this['_playing'];}set['sprite'](_0x187ccb){var _0x1648f1;if(this['_sprite']&&((_0x1648f1=this['_evtSetMes'+'hes'])==null||_0x1648f1['off'](),this['_evtSetMes'+'hes']=null,this['_sprite']['off']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['off']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['off']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_sprite']=_0x187ccb,this['_sprite']&&(this['_evtSetMes'+'hes']=this['_sprite']['on']('set:meshes',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['on']('set:pixels'+'PerUnit',this['_onSpriteP'+'puChanged'],this),this['_sprite']['on']('set:atlas',this['_onSpriteM'+'eshesChang'+'e'],this),this['_sprite']['atlas']&&this['_sprite']['atlas']['on']('set:textur'+'e',this['_onSpriteM'+'eshesChang'+'e'],this)),this['_component']['currentCli'+'p']===this){let _0x556162;!_0x187ccb||!_0x187ccb['atlas']?(_0x556162=this['_component']['_meshInsta'+'nce'],_0x556162&&(_0x556162['deletePara'+'meter']('texture_em'+'issiveMap'),_0x556162['deletePara'+'meter']('texture_op'+'acityMap')),this['_component']['_hideModel']()):(_0x187ccb['atlas']['texture']&&(_0x556162=this['_component']['_meshInsta'+'nce'],_0x556162&&(_0x556162['setParamet'+'er']('texture_em'+'issiveMap',_0x187ccb['atlas']['texture']),_0x556162['setParamet'+'er']('texture_op'+'acityMap',_0x187ccb['atlas']['texture'])),this['_component']['enabled']&&this['_component']['entity']['enabled']&&this['_component']['_showModel']()),this['time']&&this['fps']?this['time']=this['time']:this['frame']=this['frame']);}}get['sprite'](){return this['_sprite'];}set['spriteAsse'+'t'](_0x49e0c4){const _0xa4b439=this['_component']['system']['app']['assets'];let _0x23d022=_0x49e0c4;if(_0x49e0c4 instanceof pe&&(_0x23d022=_0x49e0c4['id']),this['_spriteAss'+'et']!==_0x23d022){if(this['_spriteAss'+'et']){const _0xba1011=_0xa4b439['get'](this['_spriteAss'+'et']);_0xba1011&&this['_unbindSpr'+'iteAsset'](_0xba1011);}if(this['_spriteAss'+'et']=_0x23d022,this['_spriteAss'+'et']){const _0x2a244c=_0xa4b439['get'](this['_spriteAss'+'et']);_0x2a244c?this['_bindSprit'+'eAsset'](_0x2a244c):(this['sprite']=null,_0xa4b439['on']('add:'+this['_spriteAss'+'et'],this['_onSpriteA'+'ssetAdded'],this));}else this['sprite']=null;}}get['spriteAsse'+'t'](){return this['_spriteAss'+'et'];}set['time'](_0x50746c){this['_setTime'](_0x50746c),this['_sprite']?this['frame']=Math['min'](this['_sprite']['frameKeys']['length']-(-0x586*-0x7+-0x55*-0x6e+-0x4b2f),Math['floor'](this['_time']*Math['abs'](this['fps']))):this['frame']=0x12a*0x12+0x1b02+0x6da*-0x7;}get['time'](){return this['_time'];}['_onSpriteA'+'ssetAdded'](_0x4494c3){this['_component']['system']['app']['assets']['off']('add:'+_0x4494c3['id'],this['_onSpriteA'+'ssetAdded'],this),this['_spriteAss'+'et']===_0x4494c3['id']&&this['_bindSprit'+'eAsset'](_0x4494c3);}['_bindSprit'+'eAsset'](_0x299cf6){_0x299cf6['on']('load',this['_onSpriteA'+'ssetLoad'],this),_0x299cf6['on']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x299cf6['resource']?this['_onSpriteA'+'ssetLoad'](_0x299cf6):this['_component']['system']['app']['assets']['load'](_0x299cf6);}['_unbindSpr'+'iteAsset'](_0x36e861){_0x36e861&&(_0x36e861['off']('load',this['_onSpriteA'+'ssetLoad'],this),_0x36e861['off']('remove',this['_onSpriteA'+'ssetRemove'],this),_0x36e861['resource']&&!_0x36e861['resource']['atlas']&&this['_component']['system']['app']['assets']['off']('load:'+_0x36e861['data']['textureAtl'+'asAsset'],this['_onTexture'+'AtlasLoad'],this));}['_onSpriteA'+'ssetLoad'](_0x5482fc){if(!_0x5482fc['resource'])this['sprite']=null;else{if(_0x5482fc['resource']['atlas'])this['sprite']=_0x5482fc['resource'];else{const _0x48bad1=_0x5482fc['data']['textureAtl'+'asAsset'],_0x4e6234=this['_component']['system']['app']['assets'];_0x4e6234['off']('load:'+_0x48bad1,this['_onTexture'+'AtlasLoad'],this),_0x4e6234['once']('load:'+_0x48bad1,this['_onTexture'+'AtlasLoad'],this);}}}['_onTexture'+'AtlasLoad'](_0x48ffb1){const _0x26a0b2=this['_spriteAss'+'et'];_0x26a0b2 instanceof pe?this['_onSpriteA'+'ssetLoad'](_0x26a0b2):this['_onSpriteA'+'ssetLoad'](this['_component']['system']['app']['assets']['get'](_0x26a0b2));}['_onSpriteA'+'ssetRemove'](_0x274092){this['sprite']=null;}['_onSpriteM'+'eshesChang'+'e'](){this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['frame']);}['_onSpriteP'+'puChanged'](){this['_component']['currentCli'+'p']===this&&this['sprite']['renderMode']!==ci&&this['_component']['_showFrame'](this['frame']);}['_update'](_0x2dbd82){if(this['fps']===-0x858+0xd09*0x1+-0x1*0x4b1||!this['_playing']||this['_paused']||!this['_sprite'])return;const _0x56506f=this['fps']<0x23d5+0x2333*-0x1+-0xa2?-(-0x1d1a+-0x1aef+-0x9*-0x63a):0x14f9+-0x13a5+-0x153*0x1,_0x5765f3=this['_time']+_0x2dbd82*this['_component']['speed']*_0x56506f,_0x3c989e=this['duration'],_0xe0d4f5=_0x5765f3>_0x3c989e||_0x5765f3<0x9a9*0x3+-0x253d*0x1+-0xe*-0x97;this['_setTime'](_0x5765f3);let _0x10d526=this['frame'];this['_sprite']?_0x10d526=Math['floor'](this['_sprite']['frameKeys']['length']*this['_time']/_0x3c989e):_0x10d526=0x4f5*-0x3+-0x15e6+0x24c5,_0x10d526!==this['_frame']&&this['_setFrame'](_0x10d526),_0xe0d4f5&&(this['loop']?(this['fire']('loop'),this['_component']['fire']('loop',this)):(this['_playing']=!(0x1592+-0x2*0x1d3+-0x11eb*0x1),this['_paused']=!(-0x9b0+-0x1215*-0x1+0x219*-0x4),this['fire']('end'),this['_component']['fire']('end',this)));}['_setTime'](_0x1aafb8){this['_time']=_0x1aafb8;const _0x403595=this['duration'];this['_time']<0x1d67*0x1+-0x2485+0x71e?this['loop']?this['_time']=this['_time']%_0x403595+_0x403595:this['_time']=0x10f6+0x911+0x1*-0x1a07:this['_time']>_0x403595&&(this['loop']?this['_time']%=_0x403595:this['_time']=_0x403595);}['_setFrame'](_0x328d20){this['_sprite']?this['_frame']=Y['clamp'](_0x328d20,-0x1*-0x1b8e+0xbab*-0x2+0x48*-0xf,this['_sprite']['frameKeys']['length']-(-0x931+-0x1*0x25bf+-0xc5*-0x3d)):this['_frame']=_0x328d20,this['_component']['currentCli'+'p']===this&&this['_component']['_showFrame'](this['_frame']);}['_destroy'](){if(this['_spriteAss'+'et']){const _0x378432=this['_component']['system']['app']['assets'];this['_unbindSpr'+'iteAsset'](_0x378432['get'](this['_spriteAss'+'et']));}this['_sprite']&&(this['sprite']=null),this['_spriteAss'+'et']&&(this['spriteAsse'+'t']=null);}['play'](){this['_playing']||(this['_playing']=!(-0x17e3*-0x1+0x1*-0x1ca5+0x4c2*0x1),this['_paused']=!(-0x1*0x236+-0x51*-0x1e+-0xcf*0x9),this['frame']=-0x4*0x731+0x10ba+0xc0a*0x1,this['fire']('play'),this['_component']['fire']('play',this));}['pause'](){!this['_playing']||this['_paused']||(this['_paused']=!(0xeb4+0x5*0xe9+-0x1341),this['fire']('pause'),this['_component']['fire']('pause',this));}['resume'](){this['_paused']&&(this['_paused']=!(-0x3*-0x973+-0x23a3+0x74b),this['fire']('resume'),this['_component']['fire']('resume',this));}['stop'](){this['_playing']&&(this['_playing']=!(0x1c4e+0xf99+-0x2be6),this['_paused']=!(0x1a80+0x3f3*-0x1+-0x1a*0xde),this['_time']=0xb*-0x58+-0x1e56+0x221e,this['frame']=-0x4d*-0x9+-0x77c+0x4c7*0x1,this['fire']('stop'),this['_component']['fire']('stop',this));}}h(Hi,'EVENT_PLAY','play'),h(Hi,'EVENT_PAUS'+'E','pause'),h(Hi,'EVENT_RESU'+'ME','resume'),h(Hi,'EVENT_STOP','stop'),h(Hi,'EVENT_END','end'),h(Hi,'EVENT_LOOP','loop');const hS='texture_em'+'issiveMap',dS='texture_op'+'acityMap',fS='material_e'+'missive',uS='material_o'+'pacity',dF='innerOffse'+'t',fF='outerScale',uF='atlasRect';class ur extends we{constructor(_0xf33e0c,_0xe6fcb){super(_0xf33e0c,_0xe6fcb),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_type']=lS,this['_material']=_0xf33e0c['defaultMat'+'erial'],this['_color']=new ie(0x2184*0x1+-0x1*0xbf7+-0x2*0xac6,0x1*-0x2ab+0x355*0x4+0x2*-0x554,-0x26*0x24+-0x13df+-0x1938*-0x1,-0x680+-0x236+0x8b7),this['_colorUnif'+'orm']=new Float32Array(-0x13d*0xd+0x88*-0x13+0x68d*0x4),this['_speed']=0x3c5*0xa+-0x33d+-0x2274,this['_flipX']=!(0x3*-0x7c9+-0x1281*0x1+0x7*0x5fb),this['_flipY']=!(0x21c1+0x1*0x1688+0x3848*-0x1),this['_width']=-0x1ca5+0x2283+-0x5dd*0x1,this['_height']=0x2155+-0x2203+-0xaf*-0x1,this['_drawOrder']=0x89*-0x3f+-0x23e3+0x459a,this['_layers']=[er],this['_outerScal'+'e']=new J(-0x1417*0x1+-0x1fba*0x1+0x33d2,0x245+0x22d2+-0x1*0x2516),this['_outerScal'+'eUniform']=new Float32Array(-0x1223*0x1+-0x10bc+0x22e1*0x1),this['_innerOffs'+'et']=new re(),this['_innerOffs'+'etUniform']=new Float32Array(-0x1*-0x1e24+0x1*-0x2441+0x3*0x20b),this['_atlasRect']=new re(),this['_atlasRect'+'Uniform']=new Float32Array(-0xdab*0x1+0xf91+-0x1e2),this['_batchGrou'+'pId']=-(-0x34a*-0x4+0x80*0x1f+-0x1ca7),this['_batchGrou'+'p']=null,this['_node']=new Ie(),this['_model']=new sr(),this['_model']['graph']=this['_node'],this['_meshInsta'+'nce']=null,_0xe6fcb['addChild'](this['_model']['graph']),this['_model']['_entity']=_0xe6fcb,this['_updateAab'+'bFunc']=this['_updateAab'+'b']['bind'](this),this['_addedMode'+'l']=!(0x143a+-0x369*0x1+-0x10d0),this['_autoPlayC'+'lip']=null,this['_clips']={},this['_defaultCl'+'ip']=new Hi(this,{'name':this['entity']['name'],'fps':0x0,'loop':!(-0x9ee+-0x133e+0x1d2d*0x1),'spriteAsset':null}),this['_currentCl'+'ip']=this['_defaultCl'+'ip']);}set['type'](_0xd720e4){this['_type']!==_0xd720e4&&(this['_type']=_0xd720e4,this['_type']===lS?(this['stop'](),this['_currentCl'+'ip']=this['_defaultCl'+'ip'],this['enabled']&&this['entity']['enabled']&&(this['_currentCl'+'ip']['frame']=this['frame'],this['_currentCl'+'ip']['sprite']?this['_showModel']():this['_hideModel']())):this['_type']===cS&&(this['stop'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_currentCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['enabled']&&this['entity']['enabled']?this['_showModel']():this['_hideModel']()));}get['type'](){return this['_type'];}set['frame'](_0x38c4a0){this['_currentCl'+'ip']['frame']=_0x38c4a0;}get['frame'](){return this['_currentCl'+'ip']['frame'];}set['spriteAsse'+'t'](_0xbd6fb4){this['_defaultCl'+'ip']['spriteAsse'+'t']=_0xbd6fb4;}get['spriteAsse'+'t'](){return this['_defaultCl'+'ip']['_spriteAss'+'et'];}set['sprite'](_0x57da5e){this['_currentCl'+'ip']['sprite']=_0x57da5e;}get['sprite'](){return this['_currentCl'+'ip']['sprite'];}set['material'](_0x58c3b7){this['_material']=_0x58c3b7,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=_0x58c3b7);}get['material'](){return this['_material'];}set['color'](_0x216f5c){this['_color']['r']=_0x216f5c['r'],this['_color']['g']=_0x216f5c['g'],this['_color']['b']=_0x216f5c['b'],this['_meshInsta'+'nce']&&(this['_colorUnif'+'orm'][0x8f0+0x19a7+0x325*-0xb]=this['_color']['r'],this['_colorUnif'+'orm'][0x196e+-0x132c+0x1*-0x641]=this['_color']['g'],this['_colorUnif'+'orm'][0x1*0x1813+-0x156e+-0x2a3]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']));}get['color'](){return this['_color'];}set['opacity'](_0x23d3bb){this['_color']['a']=_0x23d3bb,this['_meshInsta'+'nce']&&this['_meshInsta'+'nce']['setParamet'+'er'](uS,_0x23d3bb);}get['opacity'](){return this['_color']['a'];}set['clips'](_0x16cde2){if(!_0x16cde2){for(const _0x5d1da1 in this['_clips'])this['removeClip'](_0x5d1da1);return;}for(const _0x447075 in this['_clips']){let _0x59e235=!(-0x2284+0x3*-0x21+0x22e8);for(const _0x226a37 in _0x16cde2)if(_0x16cde2[_0x226a37]['name']===_0x447075){_0x59e235=!(0x1*-0x9b7+-0x1*-0x326+0x29*0x29),this['_clips'][_0x447075]['fps']=_0x16cde2[_0x226a37]['fps'],this['_clips'][_0x447075]['loop']=_0x16cde2[_0x226a37]['loop'],_0x16cde2[_0x226a37]['hasOwnProp'+'erty']('sprite')?this['_clips'][_0x447075]['sprite']=_0x16cde2[_0x226a37]['sprite']:_0x16cde2[_0x226a37]['hasOwnProp'+'erty']('spriteAsse'+'t')&&(this['_clips'][_0x447075]['spriteAsse'+'t']=_0x16cde2[_0x226a37]['spriteAsse'+'t']);break;}_0x59e235||this['removeClip'](_0x447075);}for(const _0x2675d0 in _0x16cde2)this['_clips'][_0x16cde2[_0x2675d0]['name']]||this['addClip'](_0x16cde2[_0x2675d0]);this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['sprite'])&&this['_hideModel']();}get['clips'](){return this['_clips'];}get['currentCli'+'p'](){return this['_currentCl'+'ip'];}set['speed'](_0x2e03b4){this['_speed']=_0x2e03b4;}get['speed'](){return this['_speed'];}set['flipX'](_0x43357b){this['_flipX']!==_0x43357b&&(this['_flipX']=_0x43357b,this['_updateTra'+'nsform']());}get['flipX'](){return this['_flipX'];}set['flipY'](_0x308dbf){this['_flipY']!==_0x308dbf&&(this['_flipY']=_0x308dbf,this['_updateTra'+'nsform']());}get['flipY'](){return this['_flipY'];}set['width'](_0x1cfe4c){_0x1cfe4c!==this['_width']&&(this['_width']=_0x1cfe4c,this['_outerScal'+'e']['x']=this['_width'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['width'](){return this['_width'];}set['height'](_0x4c55a3){_0x4c55a3!==this['_height']&&(this['_height']=_0x4c55a3,this['_outerScal'+'e']['y']=this['height'],this['sprite']&&(this['sprite']['renderMode']===Mt||this['sprite']['renderMode']===Pt)&&this['_updateTra'+'nsform']());}get['height'](){return this['_height'];}set['batchGroup'+'Id'](_0x3c6d07){var _0x32d738,_0x2c843a;if(this['_batchGrou'+'pId']===_0x3c6d07)return;const _0x4b62c9=this['_batchGrou'+'pId'];this['_batchGrou'+'pId']=_0x3c6d07,this['entity']['enabled']&&_0x4b62c9>=-0x1046+0x5ed*-0x1+0x1633&&((_0x32d738=this['system']['app']['batcher'])==null||_0x32d738['remove'](St['SPRITE'],_0x4b62c9,this['entity'])),this['entity']['enabled']&&_0x3c6d07>=0x1e40+0xa*-0xa3+0x2*-0xbf1?(_0x2c843a=this['system']['app']['batcher'])==null||_0x2c843a['insert'](St['SPRITE'],_0x3c6d07,this['entity']):_0x4b62c9>=-0x1b6c+0x248a+-0x91e&&this['_currentCl'+'ip']&&this['_currentCl'+'ip']['sprite']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['batchGroup'+'Id'](){return this['_batchGrou'+'pId'];}set['autoPlayCl'+'ip'](_0x2b91d3){this['_autoPlayC'+'lip']=_0x2b91d3 instanceof Hi?_0x2b91d3['name']:_0x2b91d3,this['_tryAutoPl'+'ay']();}get['autoPlayCl'+'ip'](){return this['_autoPlayC'+'lip'];}set['drawOrder'](_0x51d100){this['_drawOrder']=_0x51d100,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['drawOrder']=_0x51d100);}get['drawOrder'](){return this['_drawOrder'];}set['layers'](_0x9eca39){this['_addedMode'+'l']&&this['_hideModel'](),this['_layers']=_0x9eca39,this['_meshInsta'+'nce']&&this['enabled']&&this['entity']['enabled']&&this['_showModel']();}get['layers'](){return this['_layers'];}get['aabb'](){return this['_meshInsta'+'nce']?this['_meshInsta'+'nce']['aabb']:null;}['onEnable'](){var _0x38939e;const _0x5a2833=this['system']['app'],_0x22864a=_0x5a2833['scene'],_0xe2aca8=_0x22864a['layers'];this['_evtLayers'+'Changed']=_0x22864a['on']('set:layers',this['_onLayersC'+'hanged'],this),_0xe2aca8&&(this['_evtLayerA'+'dded']=_0xe2aca8['on']('add',this['_onLayerAd'+'ded'],this),this['_evtLayerR'+'emoved']=_0xe2aca8['on']('remove',this['_onLayerRe'+'moved'],this)),this['_showModel'](),this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),this['_batchGrou'+'pId']>=-0x3*-0x95+0xd65+0x33*-0x4c&&((_0x38939e=_0x5a2833['batcher'])==null||_0x38939e['insert'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDisable'](){var _0x361e8a,_0x2be286,_0x425005,_0x16341a;const _0x45e3a1=this['system']['app'],_0x4c6c95=_0x45e3a1['scene']['layers'];(_0x361e8a=this['_evtLayers'+'Changed'])==null||_0x361e8a['off'](),this['_evtLayers'+'Changed']=null,_0x4c6c95&&((_0x2be286=this['_evtLayerA'+'dded'])==null||_0x2be286['off'](),this['_evtLayerA'+'dded']=null,(_0x425005=this['_evtLayerR'+'emoved'])==null||_0x425005['off'](),this['_evtLayerR'+'emoved']=null),this['stop'](),this['_hideModel'](),this['_batchGrou'+'pId']>=0x15e1+0x2*-0xe55+0x6c9&&((_0x16341a=_0x45e3a1['batcher'])==null||_0x16341a['remove'](St['SPRITE'],this['_batchGrou'+'pId'],this['entity']));}['onDestroy'](){var _0x5d54fe;this['_currentCl'+'ip']=null,this['_defaultCl'+'ip']&&(this['_defaultCl'+'ip']['_destroy'](),this['_defaultCl'+'ip']=null);for(const _0x107c23 in this['_clips'])this['_clips'][_0x107c23]['_destroy']();this['_clips']=null,this['_hideModel'](),this['_model']=null,(_0x5d54fe=this['_node'])==null||_0x5d54fe['remove'](),this['_node']=null,this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['material']=null,this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']=null);}['_showModel'](){if(this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x430c28=[this['_meshInsta'+'nce']];for(let _0x213d07=-0x27b*-0x1+-0x5*-0x713+-0x25da,_0x290861=this['_layers']['length'];_0x213d07<_0x290861;_0x213d07++){const _0x31601a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x213d07]);_0x31601a&&_0x31601a['addMeshIns'+'tances'](_0x430c28);}this['_addedMode'+'l']=!(0x5*-0x481+-0x2*0x46+0x1711*0x1);}['_hideModel'](){if(!this['_addedMode'+'l']||!this['_meshInsta'+'nce'])return;const _0x471dbb=[this['_meshInsta'+'nce']];for(let _0x574f35=-0x1bfa*-0x1+-0x3*-0x53f+0x1*-0x2bb7,_0x109bc7=this['_layers']['length'];_0x574f35<_0x109bc7;_0x574f35++){const _0x2a1290=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['_layers'][_0x574f35]);_0x2a1290&&_0x2a1290['removeMesh'+'Instances'](_0x471dbb);}this['_addedMode'+'l']=!(-0x3*-0x8f9+0xeb8+-0x29a2);}['_showFrame'](_0x122b81){if(!this['sprite'])return;const _0x1dcddf=this['sprite']['meshes'][_0x122b81];if(!_0x1dcddf){this['_meshInsta'+'nce']&&(this['_meshInsta'+'nce']['mesh']=null,this['_meshInsta'+'nce']['visible']=!(0x6b*-0x2d+0x3*0x215+0xc91*0x1));return;}let _0x4f00e9;if(this['sprite']['renderMode']===Pt?_0x4f00e9=this['system']['default9Sl'+'icedMateri'+'alSlicedMo'+'de']:this['sprite']['renderMode']===Mt?_0x4f00e9=this['system']['default9Sl'+'icedMateri'+'alTiledMod'+'e']:_0x4f00e9=this['system']['defaultMat'+'erial'],this['_meshInsta'+'nce']||(this['_meshInsta'+'nce']=new He(_0x1dcddf,this['_material'],this['_node']),this['_meshInsta'+'nce']['castShadow']=!(0x5*0x6eb+-0xf*0x61+-0x97*0x31),this['_meshInsta'+'nce']['receiveSha'+'dow']=!(-0x1542*-0x1+0x259*-0x3+-0xe36),this['_meshInsta'+'nce']['drawOrder']=this['_drawOrder'],this['_model']['meshInstan'+'ces']['push'](this['_meshInsta'+'nce']),this['_colorUnif'+'orm'][-0x7a4+0x131a+0x146*-0x9]=this['_color']['r'],this['_colorUnif'+'orm'][-0x2c9+0xa85+-0x7bb]=this['_color']['g'],this['_colorUnif'+'orm'][-0x1*0x1230+-0x4*-0x70c+-0x9fe]=this['_color']['b'],this['_meshInsta'+'nce']['setParamet'+'er'](fS,this['_colorUnif'+'orm']),this['_meshInsta'+'nce']['setParamet'+'er'](uS,this['_color']['a']),this['enabled']&&this['entity']['enabled']&&this['_showModel']()),this['_meshInsta'+'nce']['material']!==_0x4f00e9&&(this['_meshInsta'+'nce']['material']=_0x4f00e9),this['_meshInsta'+'nce']['mesh']!==_0x1dcddf&&(this['_meshInsta'+'nce']['mesh']=_0x1dcddf,this['_meshInsta'+'nce']['visible']=!(-0x3*-0x14f+-0x1e2b+0x1a3e),this['_meshInsta'+'nce']['_aabbVer']=-(-0x34a*0x1+-0x1a89+0x1dd4)),this['sprite']['atlas']&&this['sprite']['atlas']['texture']?(this['_meshInsta'+'nce']['setParamet'+'er'](hS,this['sprite']['atlas']['texture']),this['_meshInsta'+'nce']['setParamet'+'er'](dS,this['sprite']['atlas']['texture'])):(this['_meshInsta'+'nce']['deletePara'+'meter'](hS),this['_meshInsta'+'nce']['deletePara'+'meter'](dS)),this['sprite']['atlas']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){this['_meshInsta'+'nce']['_updateAab'+'bFunc']=this['_updateAab'+'bFunc'];const _0x30e899=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][_0x122b81]];if(_0x30e899){const _0x386373=(0x382*0xb+-0xce7+-0x19ad)/_0x30e899['rect']['z'],_0x55a634=(-0xeae*-0x1+0x1*0x727+-0x1*0x15d3)/_0x30e899['rect']['w'];this['_innerOffs'+'et']['set'](_0x30e899['border']['x']*_0x386373,_0x30e899['border']['y']*_0x55a634,_0x30e899['border']['z']*_0x386373,_0x30e899['border']['w']*_0x55a634);const _0x4acbce=this['sprite']['atlas']['texture'];this['_atlasRect']['set'](_0x30e899['rect']['x']/_0x4acbce['width'],_0x30e899['rect']['y']/_0x4acbce['height'],_0x30e899['rect']['z']/_0x4acbce['width'],_0x30e899['rect']['w']/_0x4acbce['height']);}else this['_innerOffs'+'et']['set'](-0x151f+-0x1*0x3a5+0x18c4,-0x229*-0x11+-0x2546+-0x1*-0x8d,0x6d*0x9+0x47f*0x1+-0x854,-0x1069+0xfd7+0x92);this['_innerOffs'+'etUniform'][-0x198b*0x1+-0x1a1a+-0x3f9*-0xd]=this['_innerOffs'+'et']['x'],this['_innerOffs'+'etUniform'][0x1c73+-0x420+0xb*-0x236]=this['_innerOffs'+'et']['y'],this['_innerOffs'+'etUniform'][-0x7d3+-0xc5b+0x286*0x8]=this['_innerOffs'+'et']['z'],this['_innerOffs'+'etUniform'][0x3*0xbc5+0xbff+-0x1*0x2f4b]=this['_innerOffs'+'et']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](dF,this['_innerOffs'+'etUniform']),this['_atlasRect'+'Uniform'][-0x3*-0x531+0xf48+-0x1*0x1edb]=this['_atlasRect']['x'],this['_atlasRect'+'Uniform'][-0x79*-0x2f+0x2*0x2ee+-0x1c12]=this['_atlasRect']['y'],this['_atlasRect'+'Uniform'][0x167d+-0x1*0x20e6+0xa6b]=this['_atlasRect']['z'],this['_atlasRect'+'Uniform'][-0x841*0x2+0x1809+-0x784]=this['_atlasRect']['w'],this['_meshInsta'+'nce']['setParamet'+'er'](uF,this['_atlasRect'+'Uniform']);}else this['_meshInsta'+'nce']['_updateAab'+'bFunc']=null;this['_updateTra'+'nsform']();}['_updateTra'+'nsform'](){let _0x401c0e=this['flipX']?-(-0x52*0x5a+-0xb*0x263+0x3716):0x1a24+-0x18c5+-0x19*0xe,_0x5c0329=this['flipY']?-(-0x2682+0x1b*0x7+0x25c6):0x1*-0x1697+-0x283*0x3+0x1e21,_0x10d652=0x17f2+0x5ae*-0x1+-0x922*0x2,_0x1a262e=-0x75d+-0x2b7+0x81*0x14;if(this['sprite']&&(this['sprite']['renderMode']===Pt||this['sprite']['renderMode']===Mt)){let _0x42cddd=-0xa5d*0x1+0x25*0xac+0x2e6*-0x5,_0x16b9b5=-0x44e+0x79*0x4+0x26b*0x1;if(this['sprite']['atlas']){const _0x4ca3fd=this['sprite']['atlas']['frames'][this['sprite']['frameKeys'][this['frame']]];_0x4ca3fd&&(_0x42cddd=_0x4ca3fd['rect']['z'],_0x16b9b5=_0x4ca3fd['rect']['w'],_0x10d652=(0x183f+0x2*-0x10f1+0x1*0x9a3+0.5-_0x4ca3fd['pivot']['x'])*this['_width'],_0x1a262e=(-0x1357+-0xf*0x14b+-0x135e*-0x2+0.5-_0x4ca3fd['pivot']['y'])*this['_height']);}const _0x2930b4=_0x42cddd/this['sprite']['pixelsPerU'+'nit'],_0xd34f86=_0x16b9b5/this['sprite']['pixelsPerU'+'nit'];this['_outerScal'+'e']['set'](Math['max'](this['_width'],this['_innerOffs'+'et']['x']*_0x2930b4),Math['max'](this['_height'],this['_innerOffs'+'et']['y']*_0xd34f86)),_0x401c0e*=_0x2930b4,_0x5c0329*=_0xd34f86,this['_outerScal'+'e']['x']/=_0x2930b4,this['_outerScal'+'e']['y']/=_0xd34f86,_0x401c0e*=Y['clamp'](this['_width']/(this['_innerOffs'+'et']['x']*_0x2930b4),-0x154c+-0x5dd+0x1b29+0.0001,-0x7*0x11c+0x180e*-0x1+0x1fd3),_0x5c0329*=Y['clamp'](this['_height']/(this['_innerOffs'+'et']['y']*_0xd34f86),-0x3af+0x1*-0x24dd+0x2*0x1446+0.0001,-0xbe9+-0x955*0x2+0xf4a*0x2),this['_meshInsta'+'nce']&&(this['_outerScal'+'eUniform'][0x16cb*-0x1+0x206c+-0x9a1]=this['_outerScal'+'e']['x'],this['_outerScal'+'eUniform'][0x1ea6+-0x9fe*-0x2+-0x32a1]=this['_outerScal'+'e']['y'],this['_meshInsta'+'nce']['setParamet'+'er'](fF,this['_outerScal'+'eUniform']));}this['_node']['setLocalSc'+'ale'](_0x401c0e,_0x5c0329,0x1ac5+0x1931*0x1+-0x33f5),this['_node']['setLocalPo'+'sition'](_0x10d652,_0x1a262e,0x473+0x43*-0xf+0x2*-0x43);}['_updateAab'+'b'](_0x44043f){return _0x44043f['center']['set'](0x1*0x11ce+0xdf2+0x7f*-0x40,0xaec+-0x1*0x7c3+-0x1*0x329,0x15*-0x2d+0x1c78+-0x18c7),_0x44043f['halfExtent'+'s']['set'](this['_outerScal'+'e']['x']*(0x13*0x1b0+0x1e2c*-0x1+-0x16*0x16+0.5),this['_outerScal'+'e']['y']*(-0x16cd+-0x29c+-0x5*-0x515+0.5),0x2522+-0x3*0xbfb+-0x5*0x3d+0.001),_0x44043f['setFromTra'+'nsformedAa'+'bb'](_0x44043f,this['_node']['getWorldTr'+'ansform']()),_0x44043f;}['_tryAutoPl'+'ay'](){if(!this['_autoPlayC'+'lip']||this['type']!==cS)return;const _0x4cb832=this['_clips'][this['_autoPlayC'+'lip']];_0x4cb832&&!_0x4cb832['isPlaying']&&(!this['_currentCl'+'ip']||!this['_currentCl'+'ip']['isPlaying'])&&this['enabled']&&this['entity']['enabled']&&this['play'](_0x4cb832['name']);}['_onLayersC'+'hanged'](_0x25c231,_0x48f380){_0x25c231['off']('add',this['onLayerAdd'+'ed'],this),_0x25c231['off']('remove',this['onLayerRem'+'oved'],this),_0x48f380['on']('add',this['onLayerAdd'+'ed'],this),_0x48f380['on']('remove',this['onLayerRem'+'oved'],this),this['enabled']&&this['entity']['enabled']&&this['_showModel']();}['_onLayerAd'+'ded'](_0x5c3178){this['layers']['indexOf'](_0x5c3178['id'])<0x13ef+0x13ba+-0x27a9||this['_addedMode'+'l']&&this['enabled']&&this['entity']['enabled']&&this['_meshInsta'+'nce']&&_0x5c3178['addMeshIns'+'tances']([this['_meshInsta'+'nce']]);}['_onLayerRe'+'moved'](_0xf8edc2){!this['_meshInsta'+'nce']||this['layers']['indexOf'](_0xf8edc2['id'])<0x1b8d+0x95b*0x1+0x2*-0x1274||_0xf8edc2['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}['removeMode'+'lFromLayer'+'s'](){for(let _0x17b9d5=0x2155+0x19*-0xc2+-0xe63;_0x17b9d5<this['layers']['length'];_0x17b9d5++){const _0x523bd3=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x17b9d5]);_0x523bd3&&_0x523bd3['removeMesh'+'Instances']([this['_meshInsta'+'nce']]);}}['addClip'](_0x6f09b7){const _0x13607d=new Hi(this,{'name':_0x6f09b7['name'],'fps':_0x6f09b7['fps'],'loop':_0x6f09b7['loop'],'spriteAsset':_0x6f09b7['spriteAsse'+'t']});return this['_clips'][_0x6f09b7['name']]=_0x13607d,_0x13607d['name']&&_0x13607d['name']===this['_autoPlayC'+'lip']&&this['_tryAutoPl'+'ay'](),_0x13607d;}['removeClip'](_0x435ba2){delete this['_clips'][_0x435ba2];}['clip'](_0x33eb83){return this['_clips'][_0x33eb83];}['play'](_0x30fdb5){const _0x7b8891=this['_clips'][_0x30fdb5],_0x5eef2f=this['_currentCl'+'ip'];return _0x5eef2f&&_0x5eef2f!==_0x7b8891&&(_0x5eef2f['_playing']=!(-0x56a+0x1*0x1537+0x3*-0x544)),this['_currentCl'+'ip']=_0x7b8891,this['_currentCl'+'ip']?(this['_currentCl'+'ip']=_0x7b8891,this['_currentCl'+'ip']['play']()):w['warn']('Trying\x20to\x20'+'play\x20sprit'+'e\x20animatio'+'n\x20'+_0x30fdb5+('\x20which\x20doe'+'s\x20not\x20exis'+'t.')),_0x7b8891;}['pause'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPlaying']&&this['_currentCl'+'ip']['pause']();}['resume'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['isPaused']&&this['_currentCl'+'ip']['resume']();}['stop'](){this['_currentCl'+'ip']!==this['_defaultCl'+'ip']&&this['_currentCl'+'ip']['stop']();}}h(ur,'EVENT_PLAY','play'),h(ur,'EVENT_PAUS'+'E','pause'),h(ur,'EVENT_RESU'+'ME','resume'),h(ur,'EVENT_STOP','stop'),h(ur,'EVENT_END','end'),h(ur,'EVENT_LOOP','loop');class pF{constructor(){this['enabled']=!(-0x7e3+-0x1f8*0x1+-0x9db*-0x1);}}const f0=['enabled'];class mF extends ct{constructor(_0x463c10){super(_0x463c10),this['id']='sprite',this['ComponentT'+'ype']=ur,this['DataType']=pF,this['schema']=f0,this['_defaultTe'+'xture']=null,this['_defaultMa'+'terial']=null,this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=null,this['_default9S'+'licedMater'+'ialTiledMo'+'de']=null,this['app']['systems']['on']('update',this['onUpdate'],this),this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this);}set['defaultMat'+'erial'](_0xb445b2){this['_defaultMa'+'terial']=_0xb445b2;}get['defaultMat'+'erial'](){if(!this['_defaultMa'+'terial']){const _0x258097=new _e(this['app']['graphicsDe'+'vice'],{'width':0x1,'height':0x1,'format':_s,'name':'sprite'}),_0x5aa58f=new Uint8Array(_0x258097['lock']());_0x5aa58f[-0x1f7f+-0x9b*-0x1d+-0x1be*-0x8]=_0x5aa58f[-0x10*-0x17f+-0x28a+-0x1565]=_0x5aa58f[-0x85+0xd*-0x1e1+-0x4*-0x63d]=_0x5aa58f[-0xbd5+-0x1*0x8c3+0xd3*0x19]=-0x32b*-0x1+0x1*0x1f8d+-0x21b9,_0x258097['unlock']();const _0x570f4d=new Ut();_0x570f4d['diffuse']['set'](0x4f6+-0x1279+0x3*0x481,-0x22b+-0x4*-0x766+-0x1b6d,0x1dbd+-0x2*0xb2b+-0x767*0x1),_0x570f4d['emissive']['set'](-0xef3+0x24cd*0x1+-0x15d9,0x1*-0x11a1+-0x19fc+-0x15cf*-0x2,-0x1369*-0x1+-0x935*0x1+-0xa33),_0x570f4d['emissiveMa'+'p']=_0x258097,_0x570f4d['opacityMap']=_0x258097,_0x570f4d['opacityMap'+'Channel']='a',_0x570f4d['useLightin'+'g']=!(-0x1188+-0x6c3*-0x1+0x1*0xac6),_0x570f4d['useTonemap']=!(-0x1fb0+-0x4*-0x671+0x29*0x25),_0x570f4d['useFog']=!(-0x2304+0x8*0x11a+-0x1a35*-0x1),_0x570f4d['useSkybox']=!(0x3f*0x77+0x2566+-0x42ae),_0x570f4d['blendType']=Gn,_0x570f4d['depthWrite']=!(-0x470+0x1e*0x11+0x273),_0x570f4d['pixelSnap']=!(-0x5ca+0x9a*-0x26+0x1ca7),_0x570f4d['cull']=bt,_0x570f4d['update'](),this['_defaultTe'+'xture']=_0x258097,this['_defaultMa'+'terial']=_0x570f4d;}return this['_defaultMa'+'terial'];}set['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](_0x431396){this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x431396;}get['default9Sl'+'icedMateri'+'alSlicedMo'+'de'](){if(!this['_default9S'+'licedMater'+'ialSlicedM'+'ode']){const _0x473619=this['defaultMat'+'erial']['clone']();_0x473619['nineSliced'+'Mode']=Pt,_0x473619['update'](),this['_default9S'+'licedMater'+'ialSlicedM'+'ode']=_0x473619;}return this['_default9S'+'licedMater'+'ialSlicedM'+'ode'];}set['default9Sl'+'icedMateri'+'alTiledMod'+'e'](_0x1c8b00){this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x1c8b00;}get['default9Sl'+'icedMateri'+'alTiledMod'+'e'](){if(!this['_default9S'+'licedMater'+'ialTiledMo'+'de']){const _0x4445f4=this['defaultMat'+'erial']['clone']();_0x4445f4['nineSliced'+'Mode']=Mt,_0x4445f4['update'](),this['_default9S'+'licedMater'+'ialTiledMo'+'de']=_0x4445f4;}return this['_default9S'+'licedMater'+'ialTiledMo'+'de'];}['destroy'](){super['destroy'](),this['app']['systems']['off']('update',this['onUpdate'],this),this['_defaultTe'+'xture']&&(this['_defaultTe'+'xture']['destroy'](),this['_defaultTe'+'xture']=null);}['initialize'+'ComponentD'+'ata'](_0xe8edee,_0x5ec6cd,_0xaee36c){if(_0x5ec6cd['enabled']!==void(-0x19a9+-0x49*-0x43+0x68e)&&(_0xe8edee['enabled']=_0x5ec6cd['enabled']),_0xe8edee['type']=_0x5ec6cd['type'],_0x5ec6cd['layers']&&Array['isArray'](_0x5ec6cd['layers'])&&(_0xe8edee['layers']=_0x5ec6cd['layers']['slice'](0x3b1+0xc83*0x1+0xf4*-0x11)),_0x5ec6cd['drawOrder']!==void(0x209*-0xf+0x1159+-0xd2e*-0x1)&&(_0xe8edee['drawOrder']=_0x5ec6cd['drawOrder']),_0x5ec6cd['color']!==void(-0x29+-0x191*0x5+0x7fe)&&(_0x5ec6cd['color']instanceof ie?_0xe8edee['color']['set'](_0x5ec6cd['color']['r'],_0x5ec6cd['color']['g'],_0x5ec6cd['color']['b'],_0x5ec6cd['opacity']??-0x777*0x2+-0x347*-0x2+0x861):_0xe8edee['color']['set'](_0x5ec6cd['color'][0x1*-0x2144+-0xfca+0x310e],_0x5ec6cd['color'][0xcad*-0x1+-0x274*0xe+0x2f06],_0x5ec6cd['color'][0x2b9*0x9+0x6*-0xe3+0x1*-0x132d],_0x5ec6cd['opacity']??-0x1*0x1f51+0x2075+-0x123),_0xe8edee['color']=_0xe8edee['color']),_0x5ec6cd['opacity']!==void(-0x2139+-0x109a*-0x2+-0x1*-0x5)&&(_0xe8edee['opacity']=_0x5ec6cd['opacity']),_0x5ec6cd['flipX']!==void(0x1*0xd0b+0x65*0x47+-0x836*0x5)&&(_0xe8edee['flipX']=_0x5ec6cd['flipX']),_0x5ec6cd['flipY']!==void(0x565*0x2+0x2014+-0x2ade)&&(_0xe8edee['flipY']=_0x5ec6cd['flipY']),_0x5ec6cd['width']!==void(-0x716*-0x4+-0x9a*0xd+-0x1486)&&(_0xe8edee['width']=_0x5ec6cd['width']),_0x5ec6cd['height']!==void(-0x259c+0xa73+0x1b29)&&(_0xe8edee['height']=_0x5ec6cd['height']),_0x5ec6cd['spriteAsse'+'t']!==void(-0x2*-0x11a2+0x18b+-0x24cf)&&(_0xe8edee['spriteAsse'+'t']=_0x5ec6cd['spriteAsse'+'t']),_0x5ec6cd['sprite']&&(_0xe8edee['sprite']=_0x5ec6cd['sprite']),_0x5ec6cd['frame']!==void(-0x83e+-0x7*-0xef+0x1b5)&&(_0xe8edee['frame']=_0x5ec6cd['frame']),_0x5ec6cd['clips']){for(const _0x8f1d5d in _0x5ec6cd['clips'])_0xe8edee['addClip'](_0x5ec6cd['clips'][_0x8f1d5d]);}_0x5ec6cd['speed']!==void(-0x77*0x43+-0x1*-0x2665+-0x740*0x1)&&(_0xe8edee['speed']=_0x5ec6cd['speed']),_0x5ec6cd['autoPlayCl'+'ip']&&(_0xe8edee['autoPlayCl'+'ip']=_0x5ec6cd['autoPlayCl'+'ip']),_0xe8edee['batchGroup'+'Id']=_0x5ec6cd['batchGroup'+'Id']===void(-0xe3*0xe+-0x2*0xae1+0x222c)||_0x5ec6cd['batchGroup'+'Id']===null?-(0x1*0x14e5+-0x111d+0x3c7*-0x1):_0x5ec6cd['batchGroup'+'Id'],super['initialize'+'ComponentD'+'ata'](_0xe8edee,_0x5ec6cd,_0xaee36c);}['cloneCompo'+'nent'](_0x171fbe,_0x46c31e){const _0x3bb7fc=_0x171fbe['sprite'];return this['addCompone'+'nt'](_0x46c31e,{'enabled':_0x3bb7fc['enabled'],'type':_0x3bb7fc['type'],'spriteAsset':_0x3bb7fc['spriteAsse'+'t'],'sprite':_0x3bb7fc['sprite'],'width':_0x3bb7fc['width'],'height':_0x3bb7fc['height'],'frame':_0x3bb7fc['frame'],'color':_0x3bb7fc['color']['clone'](),'opacity':_0x3bb7fc['opacity'],'flipX':_0x3bb7fc['flipX'],'flipY':_0x3bb7fc['flipY'],'speed':_0x3bb7fc['speed'],'clips':_0x3bb7fc['clips'],'autoPlayClip':_0x3bb7fc['autoPlayCl'+'ip'],'batchGroupId':_0x3bb7fc['batchGroup'+'Id'],'drawOrder':_0x3bb7fc['drawOrder'],'layers':_0x3bb7fc['layers']['slice'](0xe98*0x1+0xfb6+0x35e*-0x9)});}['onUpdate'](_0x2ab7a6){const _0x197888=this['store'];for(const _0x712a95 in _0x197888)if(_0x197888['hasOwnProp'+'erty'](_0x712a95)){const _0x1b0093=_0x197888[_0x712a95];if(_0x1b0093['data']['enabled']&&_0x1b0093['entity']['enabled']){const _0x206fa0=_0x1b0093['entity']['sprite'];_0x206fa0['_currentCl'+'ip']&&_0x206fa0['_currentCl'+'ip']['_update'](_0x2ab7a6);}}}['onBeforeRe'+'move'](_0x577761,_0x55eeac){_0x55eeac['onDestroy']();}}we['_buildAcce'+'ssors'](ur['prototype'],f0);class _n extends we{constructor(_0x5b4a8b,_0x4778f1){super(_0x5b4a8b,_0x4778f1),this['_oldState']=!(0x77d*0x3+0x1060*0x2+-0x3737),this['_size']=new D(),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this);}set['size'](_0x37cdc1){_0x37cdc1 instanceof D?this['_size']['copy'](_0x37cdc1):_0x37cdc1 instanceof Array&&_0x37cdc1['length']>=-0x7aa*-0x2+0x1b8f+-0x2ae0&&this['size']['set'](_0x37cdc1[-0x51*0x6e+0x7d5*0x1+0x1af9*0x1],_0x37cdc1[-0x1*-0x2b+-0x29*0xe5+0x2483],_0x37cdc1[-0x22d*0x1+-0x127f+0x14ae]);}get['size'](){return this['_size'];}['onEnable'](){this['_checkStat'+'e']();}['onDisable'](){this['_checkStat'+'e']();}['_onSetEnab'+'led'](_0x40e3d2,_0x271d5f,_0x514e4b){this['_checkStat'+'e']();}['_checkStat'+'e'](){const _0x391e2c=this['enabled']&&this['entity']['enabled'];_0x391e2c!==this['_oldState']&&(this['_oldState']=_0x391e2c,this['fire']('enable'),this['fire']('state',this['enabled']));}['_onBeforeR'+'emove'](){this['fire']('remove');}}h(_n,'EVENT_ENAB'+'LE','enable'),h(_n,'EVENT_DISA'+'BLE','disable'),h(_n,'EVENT_STAT'+'E','state'),h(_n,'EVENT_REMO'+'VE','remove');class _F{constructor(){this['enabled']=!(0x1b43+-0x1*0xc3c+-0xf07*0x1);}}const u0=['enabled'];class gF extends ct{constructor(_0x467a70){super(_0x467a70),this['id']='zone',this['ComponentT'+'ype']=_n,this['DataType']=_F,this['schema']=u0,this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this);}['initialize'+'ComponentD'+'ata'](_0x132430,_0x49b8fd,_0x230051){_0x132430['enabled']=_0x49b8fd['hasOwnProp'+'erty']('enabled')?!!_0x49b8fd['enabled']:!(-0x5*-0x34b+0x1acb+0x2b42*-0x1),_0x49b8fd['size']&&(_0x49b8fd['size']instanceof D?_0x132430['size']['copy'](_0x49b8fd['size']):_0x49b8fd['size']instanceof Array&&_0x49b8fd['size']['length']>=0xb06+-0x13*-0x1ef+-0x2fc0&&_0x132430['size']['set'](_0x49b8fd['size'][0x2*0x671+0x1cd0+-0x29b2],_0x49b8fd['size'][-0x240a+0x1d09+0x702],_0x49b8fd['size'][-0x1fa5*-0x1+-0x1*0x672+-0x1931*0x1]));}['cloneCompo'+'nent'](_0x40f98f,_0x3375cf){const _0x15d32f={'enabled':_0x40f98f['zone']['enabled'],'size':_0x40f98f['zone']['size']};return this['addCompone'+'nt'](_0x3375cf,_0x15d32f);}['_onBeforeR'+'emove'](_0x4b73c9,_0x551ab9){_0x551ab9['_onBeforeR'+'emove']();}}we['_buildAcce'+'ssors'](_n['prototype'],u0);class SF{constructor(_0x57c522,_0x1f72c0){this['effect']=_0x57c522,this['inputTarge'+'t']=_0x1f72c0,this['outputTarg'+'et']=null,this['name']=_0x57c522['constructo'+'r']['name'];}}class yF{constructor(_0x523f36,_0x1e81ad){this['app']=_0x523f36,this['camera']=_0x1e81ad,this['destinatio'+'nRenderTar'+'get']=null,this['effects']=[],this['enabled']=!(0xfde*-0x2+-0x13d0*0x1+-0x112f*-0x3),this['depthTarge'+'t']=null,_0x1e81ad['on']('set:rect',this['onCameraRe'+'ctChanged'],this);}['_allocateC'+'olorBuffer'](_0x17d64d,_0x2a8d45){const _0x5f2389=this['camera']['rect'],_0xd9816f=this['destinatio'+'nRenderTar'+'get'],_0x5240ea=this['app']['graphicsDe'+'vice'],_0x46fc1f=Math['floor'](_0x5f2389['z']*((_0xd9816f==null?void(-0x19a7+-0xb7e*-0x2+0x2ab*0x1):_0xd9816f['width'])??_0x5240ea['width'])),_0x516937=Math['floor'](_0x5f2389['w']*((_0xd9816f==null?void(-0x330+0x1*0x2519+0x21e9*-0x1):_0xd9816f['height'])??_0x5240ea['height']));return new _e(_0x5240ea,{'name':_0x2a8d45,'format':_0x17d64d,'width':_0x46fc1f,'height':_0x516937,'mipmaps':!(-0x1797+0x2f+0x1769),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue});}['_createOff'+'screenTarg'+'et'](_0x63379e,_0x48ba25){const _0x171a1c=this['app']['graphicsDe'+'vice'],_0xa1c6aa=(this['destinatio'+'nRenderTar'+'get']??_0x171a1c['backBuffer'])['isColorBuf'+'ferSrgb'](-0xee6*0x2+-0xa*0x2cf+0x1*0x39e2),_0x502ee2=(_0x48ba25&&_0x171a1c['getRendera'+'bleHdrForm'+'at']([nt,Xt],!(-0x16*-0xe3+-0x4f*-0x79+-0x129*0x31)))??(_0xa1c6aa?_s:Ne),_0x2eb4d7=this['camera']['entity']['name']+('-posteffec'+'t-')+this['effects']['length'],_0x1b39e5=this['_allocateC'+'olorBuffer'](_0x502ee2,_0x2eb4d7);return new gt({'colorBuffer':_0x1b39e5,'depth':_0x63379e,'stencil':_0x63379e&&this['app']['graphicsDe'+'vice']['supportsSt'+'encil'],'samples':_0x63379e?_0x171a1c['samples']:-0x110c+0x95b+0x7b2});}['_resizeOff'+'screenTarg'+'et'](_0xa1cc81){const _0x36c30b=_0xa1cc81['colorBuffe'+'r']['format'],_0xee8386=_0xa1cc81['colorBuffe'+'r']['name'];_0xa1cc81['destroyFra'+'meBuffers'](),_0xa1cc81['destroyTex'+'tureBuffer'+'s'](),_0xa1cc81['_colorBuff'+'er']=this['_allocateC'+'olorBuffer'](_0x36c30b,_0xee8386),_0xa1cc81['_colorBuff'+'ers']=[_0xa1cc81['_colorBuff'+'er']];}['_destroyOf'+'fscreenTar'+'get'](_0x4848f7){_0x4848f7['destroyTex'+'tureBuffer'+'s'](),_0x4848f7['destroy']();}['addEffect'](_0x5e451e){const _0x19f420=this['effects'],_0x2e063f=_0x19f420['length']===-0xba3*-0x3+-0xd8+-0x11*0x201,_0x337dd3=this['_createOff'+'screenTarg'+'et'](_0x2e063f,_0x5e451e['hdr']),_0x904c96=new SF(_0x5e451e,_0x337dd3);_0x19f420['push'](_0x904c96),this['_sourceTar'+'get']=_0x904c96['inputTarge'+'t'],_0x19f420['length']>-0x911+-0x13b7+-0x1*-0x1cc9&&(_0x19f420[_0x19f420['length']-(0x3*-0xbdd+0xc25+0x1774)]['outputTarg'+'et']=_0x904c96['inputTarge'+'t']),this['_newPostEf'+'fect']=_0x5e451e,_0x5e451e['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap'](),this['enable'](),this['_newPostEf'+'fect']=void(-0x189a*0x1+0x1c47+0x3ad*-0x1);}['removeEffe'+'ct'](_0x6a37ea){let _0x3a2585=-(-0x530*0x4+-0xf34+-0x23f5*-0x1);for(let _0x3de1b5=-0x33d*0xb+0x26e9+-0x34a,_0x54e53a=this['effects']['length'];_0x3de1b5<_0x54e53a;_0x3de1b5++)if(this['effects'][_0x3de1b5]['effect']===_0x6a37ea){_0x3a2585=_0x3de1b5;break;}_0x3a2585>=-0x9d5+0x2094+0x795*-0x3&&(_0x3a2585>0xa*-0xa6+-0xdb3+0x142f?this['effects'][_0x3a2585-(-0x7*0x314+-0x220f*-0x1+-0xc82)]['outputTarg'+'et']=_0x3a2585+(0x16c0+-0xd0e*0x1+-0x1*0x9b1)<this['effects']['length']?this['effects'][_0x3a2585+(0x15*0x93+-0x1ba4+-0x46*-0x39)]['inputTarge'+'t']:null:this['effects']['length']>-0x1*0x675+0x1eb*-0x14+0x1*0x2cd2&&(this['effects'][-0x241b+-0x1025+0x3441]['inputTarge'+'t']['_depth']||(this['_destroyOf'+'fscreenTar'+'get'](this['effects'][0xa4*-0x7+-0x29*-0x3b+0x27b*-0x2]['inputTarge'+'t']),this['effects'][0x1db6+-0x1818+-0x59d*0x1]['inputTarge'+'t']=this['_createOff'+'screenTarg'+'et'](!(0x1*-0x120a+-0x4e9+-0x497*-0x5),this['effects'][0x1bb*-0x7+-0x6fd*0x1+0x131b]['hdr']),this['_sourceTar'+'get']=this['effects'][-0x865+-0x65*-0x1+0x801]['inputTarge'+'t']),this['camera']['renderTarg'+'et']=this['effects'][0x2074+0x189+0xb54*-0x3]['inputTarge'+'t']),this['_destroyOf'+'fscreenTar'+'get'](this['effects'][_0x3a2585]['inputTarge'+'t']),this['effects']['splice'](_0x3a2585,0xa8*-0x20+0x25b7+-0x10b6)),this['enabled']&&_0x6a37ea['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap'](),this['effects']['length']===0x2337+-0x1d0e*-0x1+-0x4045&&this['disable']();}['_requestDe'+'pthMaps'](){for(let _0x228877=-0x1522+0x9aa*-0x2+0x2876,_0x5f513d=this['effects']['length'];_0x228877<_0x5f513d;_0x228877++){const _0x14f117=this['effects'][_0x228877]['effect'];this['_newPostEf'+'fect']!==_0x14f117&&_0x14f117['needsDepth'+'Buffer']&&this['_requestDe'+'pthMap']();}}['_releaseDe'+'pthMaps'](){for(let _0x3a0228=0x24d0+0x13*0x2f+-0x284d,_0x3c721d=this['effects']['length'];_0x3a0228<_0x3c721d;_0x3a0228++)this['effects'][_0x3a0228]['effect']['needsDepth'+'Buffer']&&this['_releaseDe'+'pthMap']();}['_requestDe'+'pthMap'](){const _0xa97ec1=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0xa97ec1&&(_0xa97ec1['incrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0xa3*-0x3+0x100c+-0xe23)));}['_releaseDe'+'pthMap'](){const _0xd8093d=this['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0xd8093d&&(_0xd8093d['decrementC'+'ounter'](),this['camera']['requestSce'+'neDepthMap'](!(0x8*0xce+0x7*0x295+-0x1882)));}['destroy'](){for(let _0x5681c1=-0x3cb*0x4+-0xaa8+-0x26*-0xae,_0x3a6f04=this['effects']['length'];_0x5681c1<_0x3a6f04;_0x5681c1++)this['effects'][_0x5681c1]['inputTarge'+'t']['destroy']();this['effects']['length']=0x16cf+-0x26bb+0xfec,this['disable']();}['enable'](){!this['enabled']&&this['effects']['length']&&(this['enabled']=!(0x1141*0x1+0xa*0x83+0x3*-0x775),this['_requestDe'+'pthMaps'](),this['app']['graphicsDe'+'vice']['on']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['destinatio'+'nRenderTar'+'get']=this['camera']['renderTarg'+'et'],this['camera']['renderTarg'+'et']=this['effects'][0x42b*-0x8+0x1e86+0x2d2]['inputTarge'+'t'],this['camera']['onPostproc'+'essing']=()=>{if(this['enabled']){let _0x3892e7=null;const _0x176b2d=this['effects']['length'];if(_0x176b2d)for(let _0x417c13=0x214a+-0xc85+0x199*-0xd;_0x417c13<_0x176b2d;_0x417c13++){const _0x24cb3b=this['effects'][_0x417c13];let _0x587f9b=_0x24cb3b['outputTarg'+'et'];_0x417c13===_0x176b2d-(0x245f+0x647+0x4bd*-0x9)&&(_0x3892e7=this['camera']['rect'],this['destinatio'+'nRenderTar'+'get']&&(_0x587f9b=this['destinatio'+'nRenderTar'+'get'])),Q['pushGpuMar'+'ker'](this['app']['graphicsDe'+'vice'],_0x24cb3b['name']),_0x24cb3b['effect']['render'](_0x24cb3b['inputTarge'+'t'],_0x587f9b,_0x3892e7),Q['popGpuMark'+'er'](this['app']['graphicsDe'+'vice']);}}});}['disable'](){this['enabled']&&(this['enabled']=!(-0xdc3+-0xf14+0x1*0x1cd8),this['app']['graphicsDe'+'vice']['off']('resizecanv'+'as',this['_onCanvasR'+'esized'],this),this['_releaseDe'+'pthMaps'](),this['_destroyOf'+'fscreenTar'+'get'](this['_sourceTar'+'get']),this['camera']['renderTarg'+'et']=this['destinatio'+'nRenderTar'+'get'],this['camera']['onPostproc'+'essing']=null);}['_onCanvasR'+'esized'](_0x330e8a,_0x148d9f){const _0x150d45=this['camera']['rect'],_0x2ca8fd=this['destinatio'+'nRenderTar'+'get'];_0x330e8a=(_0x2ca8fd==null?void(-0xfd7+0xb6b*0x2+-0x9*0xc7):_0x2ca8fd['width'])??_0x330e8a,_0x148d9f=(_0x2ca8fd==null?void(-0xbc9+0x9*-0x37a+0x2b13):_0x2ca8fd['height'])??_0x148d9f,this['camera']['camera']['aspectRati'+'o']=_0x330e8a*_0x150d45['z']/(_0x148d9f*_0x150d45['w']),this['resizeRend'+'erTargets']();}['resizeRend'+'erTargets'](){const _0x56471d=this['app']['graphicsDe'+'vice'],_0x490498=this['destinatio'+'nRenderTar'+'get'],_0x55e0db=(_0x490498==null?void(-0x40a*-0x4+0x28b+-0x12b3*0x1):_0x490498['width'])??_0x56471d['width'],_0x41312d=(_0x490498==null?void(0x12b+-0x1827*-0x1+0x1cf*-0xe):_0x490498['height'])??_0x56471d['height'],_0x1dda01=this['camera']['rect'],_0x57e981=Math['floor'](_0x1dda01['z']*_0x55e0db),_0x9560db=Math['floor'](_0x1dda01['w']*_0x41312d),_0x190aaf=this['effects'];for(let _0x24d9be=-0x60e+0x4f8*-0x3+-0x14f6*-0x1,_0x4eab68=_0x190aaf['length'];_0x24d9be<_0x4eab68;_0x24d9be++){const _0x3adb5a=_0x190aaf[_0x24d9be];(_0x3adb5a['inputTarge'+'t']['width']!==_0x57e981||_0x3adb5a['inputTarge'+'t']['height']!==_0x9560db)&&this['_resizeOff'+'screenTarg'+'et'](_0x3adb5a['inputTarge'+'t']);}}['onCameraRe'+'ctChanged'](_0x56d294,_0x12982a,_0x515e24){this['enabled']&&this['resizeRend'+'erTargets']();}}class Ir extends we{constructor(_0x302bbc,_0xfea842){super(_0x302bbc,_0xfea842),h(this,'onPostproc'+'essing',null),h(this,'_renderSce'+'neDepthMap',-0x11da+-0x5*-0xd3+0x25*0x5f),h(this,'_renderSce'+'neColorMap',0xb21+0x1327*0x1+-0x1e48),h(this,'_sceneDept'+'hMapReques'+'ted',!(-0x47*0x51+0x1f36+0x8be*-0x1)),h(this,'_sceneColo'+'rMapReques'+'ted',!(0x127e+-0x1bf2+0x975)),h(this,'_priority',0x2531+0x542*0x5+-0x1*0x3f7b),h(this,'_disablePo'+'stEffectsL'+'ayer',Il),h(this,'_camera',new Fl()),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),(this['_camera']['node']=_0xfea842,this['_postEffec'+'ts']=new yF(_0x302bbc['app'],this));}['setShaderP'+'ass'](_0xe4993c){const _0x256e28=Si['get'](this['system']['app']['graphicsDe'+'vice']),_0x3086ad=_0xe4993c?_0x256e28['allocate'](_0xe4993c,{'isForward':!(0x73*0x1+-0xff0+0xf7d)}):null;return this['_camera']['shaderPass'+'Info']=_0x3086ad,_0x3086ad['index'];}['getShaderP'+'ass'](){var _0x327805;return(_0x327805=this['_camera']['shaderPass'+'Info'])==null?void(0x1eea+-0x93*0x13+0x3*-0x6ab):_0x327805['name'];}set['renderPass'+'es'](_0x50362f){this['_camera']['renderPass'+'es']=_0x50362f||[],this['dirtyLayer'+'Compositio'+'nCameras'](),this['system']['app']['scene']['updateShad'+'ers']=!(-0x20b2+-0x21f8+0x2e6*0x17);}get['renderPass'+'es'](){return this['_camera']['renderPass'+'es'];}get['shaderPara'+'ms'](){return this['_camera']['shaderPara'+'ms'];}set['gammaCorre'+'ction'](_0x188324){this['camera']['shaderPara'+'ms']['gammaCorre'+'ction']=_0x188324;}get['gammaCorre'+'ction'](){return this['camera']['shaderPara'+'ms']['gammaCorre'+'ction'];}set['toneMappin'+'g'](_0xe311bf){this['camera']['shaderPara'+'ms']['toneMappin'+'g']=_0xe311bf;}get['toneMappin'+'g'](){return this['camera']['shaderPara'+'ms']['toneMappin'+'g'];}set['fog'](_0x56584c){this['_camera']['fogParams']=_0x56584c;}get['fog'](){return this['_camera']['fogParams'];}set['aperture'](_0x4b47ef){this['_camera']['aperture']=_0x4b47ef;}get['aperture'](){return this['_camera']['aperture'];}set['aspectRati'+'o'](_0x2524c9){this['_camera']['aspectRati'+'o']=_0x2524c9;}get['aspectRati'+'o'](){return this['_camera']['aspectRati'+'o'];}set['aspectRati'+'oMode'](_0x17c20c){this['_camera']['aspectRati'+'oMode']=_0x17c20c;}get['aspectRati'+'oMode'](){return this['_camera']['aspectRati'+'oMode'];}set['calculateP'+'rojection'](_0x55d49a){this['_camera']['calculateP'+'rojection']=_0x55d49a;}get['calculateP'+'rojection'](){return this['_camera']['calculateP'+'rojection'];}set['calculateT'+'ransform'](_0x5d8a0f){this['_camera']['calculateT'+'ransform']=_0x5d8a0f;}get['calculateT'+'ransform'](){return this['_camera']['calculateT'+'ransform'];}get['camera'](){return this['_camera'];}set['clearColor'](_0x26422f){this['_camera']['clearColor']=_0x26422f;}get['clearColor'](){return this['_camera']['clearColor'];}set['clearColor'+'Buffer'](_0x29d29e){this['_camera']['clearColor'+'Buffer']=_0x29d29e,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearColor'+'Buffer'](){return this['_camera']['clearColor'+'Buffer'];}set['clearDepth'+'Buffer'](_0x491576){this['_camera']['clearDepth'+'Buffer']=_0x491576,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearDepth'+'Buffer'](){return this['_camera']['clearDepth'+'Buffer'];}set['clearStenc'+'ilBuffer'](_0x425796){this['_camera']['clearStenc'+'ilBuffer']=_0x425796,this['dirtyLayer'+'Compositio'+'nCameras']();}get['clearStenc'+'ilBuffer'](){return this['_camera']['clearStenc'+'ilBuffer'];}set['cullFaces'](_0x24e0c0){this['_camera']['cullFaces']=_0x24e0c0;}get['cullFaces'](){return this['_camera']['cullFaces'];}set['disablePos'+'tEffectsLa'+'yer'](_0x3bd425){this['_disablePo'+'stEffectsL'+'ayer']=_0x3bd425,this['dirtyLayer'+'Compositio'+'nCameras']();}get['disablePos'+'tEffectsLa'+'yer'](){return this['_disablePo'+'stEffectsL'+'ayer'];}set['farClip'](_0x528fed){this['_camera']['farClip']=_0x528fed;}get['farClip'](){return this['_camera']['farClip'];}set['flipFaces'](_0x1c02fe){this['_camera']['flipFaces']=_0x1c02fe;}get['flipFaces'](){return this['_camera']['flipFaces'];}set['fov'](_0x58cf04){this['_camera']['fov']=_0x58cf04;}get['fov'](){return this['_camera']['fov'];}get['frustum'](){return this['_camera']['frustum'];}set['frustumCul'+'ling'](_0x3d55b0){this['_camera']['frustumCul'+'ling']=_0x3d55b0;}get['frustumCul'+'ling'](){return this['_camera']['frustumCul'+'ling'];}set['horizontal'+'Fov'](_0x1031d6){this['_camera']['horizontal'+'Fov']=_0x1031d6;}get['horizontal'+'Fov'](){return this['_camera']['horizontal'+'Fov'];}set['layers'](_0x3c2f00){const _0x541b1a=this['_camera']['layers'],_0x5c1de5=this['system']['app']['scene'];_0x541b1a['forEach'](_0x36a103=>{const _0x55a1f8=_0x5c1de5['layers']['getLayerBy'+'Id'](_0x36a103);_0x55a1f8==null||_0x55a1f8['removeCame'+'ra'](this);}),this['_camera']['layers']=_0x3c2f00,this['enabled']&&this['entity']['enabled']&&_0x3c2f00['forEach'](_0x20fc40=>{const _0x29d5a4=_0x5c1de5['layers']['getLayerBy'+'Id'](_0x20fc40);_0x29d5a4==null||_0x29d5a4['addCamera'](this);}),this['fire']('set:layers');}get['layers'](){return this['_camera']['layers'];}get['layersSet'](){return this['_camera']['layersSet'];}set['jitter'](_0x60a9f7){this['_camera']['jitter']=_0x60a9f7;}get['jitter'](){return this['_camera']['jitter'];}set['nearClip'](_0x4348f7){this['_camera']['nearClip']=_0x4348f7;}get['nearClip'](){return this['_camera']['nearClip'];}set['orthoHeigh'+'t'](_0x4aa7cb){this['_camera']['orthoHeigh'+'t']=_0x4aa7cb;}get['orthoHeigh'+'t'](){return this['_camera']['orthoHeigh'+'t'];}get['postEffect'+'s'](){return this['_postEffec'+'ts'];}get['postEffect'+'sEnabled'](){return this['_postEffec'+'ts']['enabled'];}set['priority'](_0x100c37){this['_priority']=_0x100c37,this['dirtyLayer'+'Compositio'+'nCameras']();}get['priority'](){return this['_priority'];}set['projection'](_0x30039d){this['_camera']['projection']=_0x30039d;}get['projection'](){return this['_camera']['projection'];}get['projection'+'Matrix'](){return this['_camera']['projection'+'Matrix'];}set['rect'](_0x1bb1b4){this['_camera']['rect']=_0x1bb1b4,this['fire']('set:rect',this['_camera']['rect']);}get['rect'](){return this['_camera']['rect'];}set['renderScen'+'eColorMap'](_0x1c3047){_0x1c3047&&!this['_sceneColo'+'rMapReques'+'ted']?(this['requestSce'+'neColorMap'](!(0x416*-0x4+0x2556+-0x14fe)),this['_sceneColo'+'rMapReques'+'ted']=!(-0xce3*-0x1+0x7d4+-0x14b7)):this['_sceneColo'+'rMapReques'+'ted']&&(this['requestSce'+'neColorMap'](!(0x1c8b*-0x1+0x233c+-0x6b0)),this['_sceneColo'+'rMapReques'+'ted']=!(0x14*-0x59+-0x283*0x1+0x25e*0x4));}get['renderScen'+'eColorMap'](){return this['_renderSce'+'neColorMap']>-0xb49+-0x161a+0xb*0x309;}set['renderScen'+'eDepthMap'](_0x326a52){_0x326a52&&!this['_sceneDept'+'hMapReques'+'ted']?(this['requestSce'+'neDepthMap'](!(0x1c30+-0x2fa*-0xd+-0x2171*0x2)),this['_sceneDept'+'hMapReques'+'ted']=!(-0xb9d*-0x1+-0x11be+0x621)):this['_sceneDept'+'hMapReques'+'ted']&&(this['requestSce'+'neDepthMap'](!(-0x175*-0x6+-0x15b9*-0x1+-0x1e76)),this['_sceneDept'+'hMapReques'+'ted']=!(0x1a46+-0x2707+-0x8e*-0x17));}get['renderScen'+'eDepthMap'](){return this['_renderSce'+'neDepthMap']>0x152e+-0x49a+-0x1094;}set['renderTarg'+'et'](_0x2ea456){w['call'](()=>{this['_camera']['renderPass'+'es']['length']>0xa2f+-0x16e7+0xcb8&&w['warn']('Setting\x20a\x20'+'render\x20tar'+'get\x20on\x20the'+'\x20camera\x20'+this['entity']['name']+('\x20after\x20the'+'\x20render\x20pa'+'sses\x20is\x20no'+'t\x20supporte'+'d,\x20set\x20it\x20'+'up\x20first.'));}),this['_camera']['renderTarg'+'et']=_0x2ea456,this['dirtyLayer'+'Compositio'+'nCameras']();}get['renderTarg'+'et'](){return this['_camera']['renderTarg'+'et'];}set['scissorRec'+'t'](_0x3107d9){this['_camera']['scissorRec'+'t']=_0x3107d9;}get['scissorRec'+'t'](){return this['_camera']['scissorRec'+'t'];}set['sensitivit'+'y'](_0x460ed9){this['_camera']['sensitivit'+'y']=_0x460ed9;}get['sensitivit'+'y'](){return this['_camera']['sensitivit'+'y'];}set['shutter'](_0x1bcf5c){this['_camera']['shutter']=_0x1bcf5c;}get['shutter'](){return this['_camera']['shutter'];}get['viewMatrix'](){return this['_camera']['viewMatrix'];}['_enableDep'+'thLayer'](_0x6ffdef){if(this['layers']['find'](_0x20a09d=>_0x20a09d===ps)){const _0x2b7f3a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](ps);_0x6ffdef?_0x2b7f3a==null||_0x2b7f3a['incrementC'+'ounter']():_0x2b7f3a==null||_0x2b7f3a['decrementC'+'ounter']();}else{if(_0x6ffdef)return!(0x5b9+-0x541*-0x3+-0x157b);}return!(-0x20d5+-0x6d7*0x3+-0x355a*-0x1);}['requestSce'+'neColorMap'](_0x4a8f08){this['_renderSce'+'neColorMap']+=_0x4a8f08?-0x1a57*-0x1+-0xabd+-0x16b*0xb:-(0x2594+-0x15a*-0xe+-0x647*0x9),w['assert'](this['_renderSce'+'neColorMap']>=-0x2277+0x11b9*-0x1+-0x50*-0xa7),this['_enableDep'+'thLayer'](_0x4a8f08)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneCo'+'lorMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassCol'+'orGrab'](this['system']['app']['graphicsDe'+'vice'],this['renderScen'+'eColorMap']),this['system']['app']['scene']['layers']['markDirty']();}['requestSce'+'neDepthMap'](_0xb7284f){this['_renderSce'+'neDepthMap']+=_0xb7284f?-0x5ad+-0xbfa+-0x4*-0x46a:-(0x1619+-0xcfc+-0x91c),w['assert'](this['_renderSce'+'neDepthMap']>=0x593*-0x1+0x1e1b+-0x622*0x4),this['_enableDep'+'thLayer'](_0xb7284f)||w['warnOnce']('CameraComp'+'onent.requ'+'estSceneDe'+'pthMap\x20was'+'\x20called,\x20b'+'ut\x20the\x20cam'+'era\x20does\x20n'+'ot\x20have\x20a\x20'+'Depth\x20laye'+'r,\x20ignorin'+'g.'),this['camera']['_enableRen'+'derPassDep'+'thGrab'](this['system']['app']['graphicsDe'+'vice'],this['system']['app']['renderer'],this['renderScen'+'eDepthMap']),this['system']['app']['scene']['layers']['markDirty']();}['dirtyLayer'+'Compositio'+'nCameras'](){const _0x4a9063=this['system']['app']['scene']['layers'];_0x4a9063['_dirty']=!(0x2cd*-0x3+0x1097+-0x830);}['screenToWo'+'rld'](_0x7a9559,_0x38d02e,_0x38a0b1,_0x3ed4f1){const _0x52931c=this['system']['app']['graphicsDe'+'vice'],{width:_0x6eaebf,height:_0xe0fda7}=_0x52931c['clientRect'];return this['_camera']['screenToWo'+'rld'](_0x7a9559,_0x38d02e,_0x38a0b1,_0x6eaebf,_0xe0fda7,_0x3ed4f1);}['worldToScr'+'een'](_0x24b803,_0x26c6b0){const _0x22904d=this['system']['app']['graphicsDe'+'vice'],{width:_0x2554f1,height:_0x52586a}=_0x22904d['clientRect'];return this['_camera']['worldToScr'+'een'](_0x24b803,_0x2554f1,_0x52586a,_0x26c6b0);}['onAppPrere'+'nder'](){this['_camera']['_viewMatDi'+'rty']=!(-0x219f+-0x1b*-0x126+0xdf*0x3),this['_camera']['_viewProjM'+'atDirty']=!(-0x6d*-0x5b+0x5*0x553+-0x415e);}['addCameraT'+'oLayers'](){const _0x5335e8=this['layers'];for(let _0x1db203=0x187*-0xd+-0x1*0x14bd+0x2898;_0x1db203<_0x5335e8['length'];_0x1db203++){const _0x23ca69=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x5335e8[_0x1db203]);_0x23ca69&&_0x23ca69['addCamera'](this);}}['removeCame'+'raFromLaye'+'rs'](){const _0x305bf4=this['layers'];for(let _0x1ceacb=0x113*-0x3+0x217d+-0x1e44;_0x1ceacb<_0x305bf4['length'];_0x1ceacb++){const _0xc174bd=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x305bf4[_0x1ceacb]);_0xc174bd&&_0xc174bd['removeCame'+'ra'](this);}}['onLayersCh'+'anged'](_0x557dc0,_0x11d604){this['addCameraT'+'oLayers'](),_0x557dc0['off']('add',this['onLayerAdd'+'ed'],this),_0x557dc0['off']('remove',this['onLayerRem'+'oved'],this),_0x11d604['on']('add',this['onLayerAdd'+'ed'],this),_0x11d604['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x29906a){this['layers']['indexOf'](_0x29906a['id'])<0x9e1+0xf3c+-0x191d||_0x29906a['addCamera'](this);}['onLayerRem'+'oved'](_0xd60427){this['layers']['indexOf'](_0xd60427['id'])<-0x466+0xd3a+-0x8d4||_0xd60427['removeCame'+'ra'](this);}['onEnable'](){var _0x38aeb5,_0x210ed0,_0x28cf50;const _0x32e560=this['system']['app']['scene'],_0x3f7229=_0x32e560['layers'];this['system']['addCamera'](this),(_0x38aeb5=this['_evtLayers'+'Changed'])==null||_0x38aeb5['off'](),this['_evtLayers'+'Changed']=_0x32e560['on']('set:layers',this['onLayersCh'+'anged'],this),_0x3f7229&&((_0x210ed0=this['_evtLayerA'+'dded'])==null||_0x210ed0['off'](),this['_evtLayerA'+'dded']=_0x3f7229['on']('add',this['onLayerAdd'+'ed'],this),(_0x28cf50=this['_evtLayerR'+'emoved'])==null||_0x28cf50['off'](),this['_evtLayerR'+'emoved']=_0x3f7229['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addCameraT'+'oLayers'](),this['postEffect'+'s']['enable']();}['onDisable'](){var _0x2f61d8,_0xe3282b,_0x476ee8;const _0x399b92=this['system']['app']['scene']['layers'];this['postEffect'+'s']['disable'](),this['removeCame'+'raFromLaye'+'rs'](),(_0x2f61d8=this['_evtLayers'+'Changed'])==null||_0x2f61d8['off'](),this['_evtLayers'+'Changed']=null,_0x399b92&&((_0xe3282b=this['_evtLayerA'+'dded'])==null||_0xe3282b['off'](),this['_evtLayerA'+'dded']=null,(_0x476ee8=this['_evtLayerR'+'emoved'])==null||_0x476ee8['off'](),this['_evtLayerR'+'emoved']=null),this['system']['removeCame'+'ra'](this);}['onRemove'](){this['onDisable'](),this['off'](),this['camera']['destroy']();}['calculateA'+'spectRatio'](_0x274906){const _0x27a336=this['system']['app']['graphicsDe'+'vice'],_0x33306d=_0x274906?_0x274906['width']:_0x27a336['width'],_0x1ec04e=_0x274906?_0x274906['height']:_0x27a336['height'];return _0x33306d*this['rect']['z']/(_0x1ec04e*this['rect']['w']);}['frameUpdat'+'e'](_0x4d7965){this['aspectRati'+'oMode']===hm&&(this['aspectRati'+'o']=this['calculateA'+'spectRatio'](_0x4d7965));}['startXr'](_0x1cd18e,_0xb8c6d,_0x1367a2){this['system']['app']['xr']['start'](this,_0x1cd18e,_0xb8c6d,_0x1367a2);}['endXr'](_0x1009de){if(!this['_camera']['xr']){_0x1009de&&_0x1009de(new Error('Camera\x20is\x20'+'not\x20in\x20XR'));return;}this['_camera']['xr']['end'](_0x1009de);}['copy'](_0x4de04a){this['aperture']=_0x4de04a['aperture'],this['aspectRati'+'o']=_0x4de04a['aspectRati'+'o'],this['aspectRati'+'oMode']=_0x4de04a['aspectRati'+'oMode'],this['calculateP'+'rojection']=_0x4de04a['calculateP'+'rojection'],this['calculateT'+'ransform']=_0x4de04a['calculateT'+'ransform'],this['clearColor']=_0x4de04a['clearColor'],this['clearColor'+'Buffer']=_0x4de04a['clearColor'+'Buffer'],this['clearDepth'+'Buffer']=_0x4de04a['clearDepth'+'Buffer'],this['clearStenc'+'ilBuffer']=_0x4de04a['clearStenc'+'ilBuffer'],this['cullFaces']=_0x4de04a['cullFaces'],this['disablePos'+'tEffectsLa'+'yer']=_0x4de04a['disablePos'+'tEffectsLa'+'yer'],this['farClip']=_0x4de04a['farClip'],this['flipFaces']=_0x4de04a['flipFaces'],this['fov']=_0x4de04a['fov'],this['frustumCul'+'ling']=_0x4de04a['frustumCul'+'ling'],this['horizontal'+'Fov']=_0x4de04a['horizontal'+'Fov'],this['layers']=_0x4de04a['layers'],this['nearClip']=_0x4de04a['nearClip'],this['orthoHeigh'+'t']=_0x4de04a['orthoHeigh'+'t'],this['priority']=_0x4de04a['priority'],this['projection']=_0x4de04a['projection'],this['rect']=_0x4de04a['rect'],this['renderTarg'+'et']=_0x4de04a['renderTarg'+'et'],this['scissorRec'+'t']=_0x4de04a['scissorRec'+'t'],this['sensitivit'+'y']=_0x4de04a['sensitivit'+'y'],this['shutter']=_0x4de04a['shutter'];}}class vF{constructor(){this['enabled']=!(-0xac*-0x1+0x2092+0x4a*-0x73);}}const p0=['enabled'];class xF extends ct{constructor(_0x58bd9d){super(_0x58bd9d),h(this,'cameras',[]),(this['id']='camera',this['ComponentT'+'ype']=Ir,this['DataType']=vF,this['schema']=p0,this['on']('beforeremo'+'ve',this['onBeforeRe'+'move'],this),this['app']['on']('prerender',this['onAppPrere'+'nder'],this));}['initialize'+'ComponentD'+'ata'](_0x3261dd,_0x22b089,_0x58ed14){_0x58ed14=['aspectRati'+'o','aspectRati'+'oMode','calculateP'+'rojection','calculateT'+'ransform','clearColor','clearColor'+'Buffer','clearDepth'+'Buffer','clearStenc'+'ilBuffer','renderScen'+'eColorMap','renderScen'+'eDepthMap','cullFaces','farClip','flipFaces','fog','fov','frustumCul'+'ling','horizontal'+'Fov','layers','renderTarg'+'et','nearClip','orthoHeigh'+'t','projection','priority','rect','scissorRec'+'t','aperture','shutter','sensitivit'+'y','gammaCorre'+'ction','toneMappin'+'g'];for(let _0x1515bf=-0x21c+0x10*0xbb+-0x4ca*0x2;_0x1515bf<_0x58ed14['length'];_0x1515bf++){const _0x1b426e=_0x58ed14[_0x1515bf];if(_0x22b089['hasOwnProp'+'erty'](_0x1b426e)){const _0x110fff=_0x22b089[_0x1b426e];switch(_0x1b426e){case'rect':case'scissorRec'+'t':Array['isArray'](_0x110fff)?_0x3261dd[_0x1b426e]=new re(_0x110fff[-0x1*0x1514+0x12*-0x1c5+0x34ee],_0x110fff[-0x1*-0xbbd+-0x204f+0x1493],_0x110fff[-0x48*0x64+0x13a8+0x1b2*0x5],_0x110fff[-0x672+-0x26ea+0x5*0x913]):_0x3261dd[_0x1b426e]=_0x110fff;break;case'clearColor':Array['isArray'](_0x110fff)?_0x3261dd[_0x1b426e]=new ie(_0x110fff[0x29a+-0x1db5+0x1b1b],_0x110fff[0x17f3*-0x1+0x6c+-0x1788*-0x1],_0x110fff[0x930+-0x1947+0x1019],_0x110fff[-0x153f+0x24b8+-0x1*0xf76]):_0x3261dd[_0x1b426e]=_0x110fff;break;default:_0x3261dd[_0x1b426e]=_0x110fff;break;}}}super['initialize'+'ComponentD'+'ata'](_0x3261dd,_0x22b089,['enabled']);}['cloneCompo'+'nent'](_0x566408,_0x70f984){const _0x5c2002=_0x566408['camera'];return this['addCompone'+'nt'](_0x70f984,{'aspectRatio':_0x5c2002['aspectRati'+'o'],'aspectRatioMode':_0x5c2002['aspectRati'+'oMode'],'calculateProjection':_0x5c2002['calculateP'+'rojection'],'calculateTransform':_0x5c2002['calculateT'+'ransform'],'clearColor':_0x5c2002['clearColor'],'clearColorBuffer':_0x5c2002['clearColor'+'Buffer'],'clearDepthBuffer':_0x5c2002['clearDepth'+'Buffer'],'clearStencilBuffer':_0x5c2002['clearStenc'+'ilBuffer'],'renderSceneDepthMap':_0x5c2002['renderScen'+'eDepthMap'],'renderSceneColorMap':_0x5c2002['renderScen'+'eColorMap'],'cullFaces':_0x5c2002['cullFaces'],'enabled':_0x5c2002['enabled'],'farClip':_0x5c2002['farClip'],'flipFaces':_0x5c2002['flipFaces'],'fov':_0x5c2002['fov'],'frustumCulling':_0x5c2002['frustumCul'+'ling'],'horizontalFov':_0x5c2002['horizontal'+'Fov'],'layers':_0x5c2002['layers'],'renderTarget':_0x5c2002['renderTarg'+'et'],'nearClip':_0x5c2002['nearClip'],'orthoHeight':_0x5c2002['orthoHeigh'+'t'],'projection':_0x5c2002['projection'],'priority':_0x5c2002['priority'],'rect':_0x5c2002['rect'],'scissorRect':_0x5c2002['scissorRec'+'t'],'aperture':_0x5c2002['aperture'],'sensitivity':_0x5c2002['sensitivit'+'y'],'shutter':_0x5c2002['shutter'],'gammaCorrection':_0x5c2002['gammaCorre'+'ction'],'toneMapping':_0x5c2002['toneMappin'+'g']});}['onBeforeRe'+'move'](_0x5530e9,_0x262c39){this['removeCame'+'ra'](_0x262c39),_0x262c39['onRemove']();}['onAppPrere'+'nder'](){for(let _0x22c6c8=-0x696*-0x1+-0x1*0x1e26+0xd0*0x1d,_0x160bce=this['cameras']['length'];_0x22c6c8<_0x160bce;_0x22c6c8++)this['cameras'][_0x22c6c8]['onAppPrere'+'nder']();}['addCamera'](_0x47c348){this['cameras']['push'](_0x47c348),ul(this['cameras']);}['removeCame'+'ra'](_0x4d0e06){const _0x343172=this['cameras']['indexOf'](_0x4d0e06);_0x343172>=0x19da+0x15*0xa1+0xd05*-0x3&&(this['cameras']['splice'](_0x343172,-0x1112+-0xf20+0x2033*0x1),ul(this['cameras']));}['destroy'](){this['app']['off']('prerender',this['onAppPrere'+'nder'],this),super['destroy']();}}we['_buildAcce'+'ssors'](Ir['prototype'],p0);class m0{constructor(){h(this,'enabled',!(0x1*0x205d+0x95*-0x21+0x1a5*-0x8)),h(this,'light'),h(this,'type','directiona'+'l'),h(this,'color',new ie(-0x1*-0xd01+0x23f+-0xf3f,0x704*-0x3+0xf72+0x59b,0x49*-0x49+0x22fa+0x97*-0x18)),h(this,'intensity',0x3*-0x84a+0x9e5+0xefa),h(this,'luminance',0x1*-0x7e2+0x107c+0x44d*-0x2),h(this,'shape',Ys),h(this,'affectSpec'+'ularity',!(-0x281*-0x7+0x172+-0x12f9)),h(this,'castShadow'+'s',!(0x1d8c+0x912+-0x269d)),h(this,'shadowDist'+'ance',0x2385+-0x1*0xfcb+-0x1392),h(this,'shadowInte'+'nsity',-0x1d*-0x19+0x1d87+-0x205b),h(this,'shadowReso'+'lution',0x3*-0xa13+-0x485+0x26be),h(this,'shadowBias',-0x13*0x85+0x1c13+-0x5*0x3a4+0.05),h(this,'numCascade'+'s',0x1bb9+-0xd7*0x2a+0x78e),h(this,'cascadeBle'+'nd',0x1a64+0x16a+0xde7*-0x2),h(this,'bakeNumSam'+'ples',-0x134a+0xfe2+0x369),h(this,'bakeArea',-0x1559+0x11*0x202+-0xcc9),h(this,'cascadeDis'+'tribution',-0x1e02+0x204d+-0x1*0x24b+0.5),h(this,'normalOffs'+'etBias',0xc77*-0x2+0x208+0x16e6),h(this,'range',0x3ea*-0x3+0x3b2*0xa+-0x192c),h(this,'innerConeA'+'ngle',-0x1e75*0x1+-0xb8*0x7+-0x49*-0x7d),h(this,'outerConeA'+'ngle',0xdd5+-0x851+-0x557),h(this,'falloffMod'+'e',Qp),h(this,'shadowType',$s),h(this,'vsmBlurSiz'+'e',0x2*-0xe1c+0x1db3+-0x170),h(this,'vsmBlurMod'+'e',em),h(this,'vsmBias',(-0x24e3+-0x2483+0x4966+0.01)*(-0x8*0xa4+0x2535+-0x2015+0.25)),h(this,'cookieAsse'+'t',null),h(this,'cookie',null),h(this,'cookieInte'+'nsity',-0x2023+-0x3*-0x68b+0xc83),h(this,'cookieFall'+'off',!(-0x1477+-0x120a*0x1+0x2681)),h(this,'cookieChan'+'nel','rgb'),h(this,'cookieAngl'+'e',0x1*-0x1373+-0x2211+0x3584),h(this,'cookieScal'+'e',null),h(this,'cookieOffs'+'et',null),h(this,'shadowUpda'+'teMode',lm),h(this,'mask',-0x4c*-0x61+-0x9d9+0x2*-0x979),h(this,'affectDyna'+'mic',!(0x162f+-0x1e73*-0x1+0x34a2*-0x1)),h(this,'affectLigh'+'tmapped',!(-0x5ba+-0x1d74+0x232f)),h(this,'bake',!(-0x23*0x41+-0x23bd+0x2ca1)),h(this,'bakeDir',!(0x4a8+-0x2269+0x9eb*0x3)),h(this,'isStatic',!(0x373+-0xc89+0x917)),h(this,'layers',[er]),h(this,'penumbraSi'+'ze',0xc*0x332+-0x1bd8+0xa7f*-0x1),h(this,'penumbraFa'+'lloff',0x185b+0x1225+-0xfd*0x2b),h(this,'shadowSamp'+'les',-0x98e*-0x1+-0x18d0+0xf52),h(this,'shadowBloc'+'kerSamples',0x151*-0x1+-0x1271+0x13d2);}}const Ho=Object['keys'](new m0());class TF extends we{constructor(){super(...arguments),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_cookieAss'+'et',null),h(this,'_cookieAss'+'etId',null),h(this,'_cookieAss'+'etAdd',!(-0x3*-0x5f3+-0x57e*-0x3+-0x17e*0x17)),h(this,'_cookieMat'+'rix',null);}get['data'](){const _0xefe5cc=this['system']['store'][this['entity']['getGuid']()];return _0xefe5cc?_0xefe5cc['data']:null;}set['enabled'](_0x36e88b){this['_setValue']('enabled',_0x36e88b,function(_0x5e70b5,_0xeaacaa){this['onSetEnabl'+'ed'](null,_0xeaacaa,_0x5e70b5);});}get['enabled'](){return this['data']['enabled'];}set['light'](_0x3dbca6){this['_setValue']('light',_0x3dbca6);}get['light'](){return this['data']['light'];}set['type'](_0x1d9a89){this['_setValue']('type',_0x1d9a89,function(_0x51b0e1,_0x49c7d5){this['system']['changeType'](this,_0x49c7d5,_0x51b0e1),this['refreshPro'+'perties']();});}get['type'](){return this['data']['type'];}set['color'](_0x44af33){this['_setValue']('color',_0x44af33,function(_0x6a6ffd,_0x20fde0){this['light']['setColor'](_0x6a6ffd);},!(-0x493*-0x1+0x1*-0x1b83+-0x5bc*-0x4));}get['color'](){return this['data']['color'];}set['intensity'](_0xc17c5f){this['_setValue']('intensity',_0xc17c5f,function(_0x3e0e63,_0x71ec5f){this['light']['intensity']=_0x3e0e63;});}get['intensity'](){return this['data']['intensity'];}set['luminance'](_0x5390f5){this['_setValue']('luminance',_0x5390f5,function(_0x5a0211,_0xec5d5d){this['light']['luminance']=_0x5a0211;});}get['luminance'](){return this['data']['luminance'];}set['shape'](_0x22b414){this['_setValue']('shape',_0x22b414,function(_0x391bb4,_0x36da33){this['light']['shape']=_0x391bb4;});}get['shape'](){return this['data']['shape'];}set['affectSpec'+'ularity'](_0x4839de){this['_setValue']('affectSpec'+'ularity',_0x4839de,function(_0x533d7b,_0x4db944){this['light']['affectSpec'+'ularity']=_0x533d7b;});}get['affectSpec'+'ularity'](){return this['data']['affectSpec'+'ularity'];}set['castShadow'+'s'](_0x5d2b96){this['_setValue']('castShadow'+'s',_0x5d2b96,function(_0x116fba,_0x1c1c62){this['light']['castShadow'+'s']=_0x116fba;});}get['castShadow'+'s'](){return this['data']['castShadow'+'s'];}set['shadowDist'+'ance'](_0x5bd9e5){this['_setValue']('shadowDist'+'ance',_0x5bd9e5,function(_0x537317,_0x42dfb8){this['light']['shadowDist'+'ance']=_0x537317;});}get['shadowDist'+'ance'](){return this['data']['shadowDist'+'ance'];}set['shadowInte'+'nsity'](_0x7b45af){this['_setValue']('shadowInte'+'nsity',_0x7b45af,function(_0xc32573,_0x1ed06e){this['light']['shadowInte'+'nsity']=_0xc32573;});}get['shadowInte'+'nsity'](){return this['data']['shadowInte'+'nsity'];}set['shadowReso'+'lution'](_0x3d6137){this['_setValue']('shadowReso'+'lution',_0x3d6137,function(_0x47b300,_0x4d0ae8){this['light']['shadowReso'+'lution']=_0x47b300;});}get['shadowReso'+'lution'](){return this['data']['shadowReso'+'lution'];}set['shadowBias'](_0x5d8a0d){this['_setValue']('shadowBias',_0x5d8a0d,function(_0x5e3b6a,_0x319e25){this['light']['shadowBias']=-(0x16c9+0x23ae+-0x3a77+0.01)*Y['clamp'](_0x5e3b6a,-0x12dd+-0x1*0x207a+-0x27*-0x151,-0x148d*0x1+0xe84*0x1+0x60a);});}get['shadowBias'](){return this['data']['shadowBias'];}set['numCascade'+'s'](_0x1bb285){this['_setValue']('numCascade'+'s',_0x1bb285,function(_0x1e1bae,_0x1a6b36){this['light']['numCascade'+'s']=Y['clamp'](Math['floor'](_0x1e1bae),0x113d+-0x235b+0x121f*0x1,-0x247+-0x134*0x19+0x205f);});}get['numCascade'+'s'](){return this['data']['numCascade'+'s'];}set['cascadeBle'+'nd'](_0x427229){this['_setValue']('cascadeBle'+'nd',_0x427229,function(_0x204135,_0x56b50d){this['light']['cascadeBle'+'nd']=Y['clamp'](_0x204135,-0x15*0x13+0x7*0x87+-0x6*0x5b,-0x1322+0x351*0xa+-0xe07);});}get['cascadeBle'+'nd'](){return this['data']['cascadeBle'+'nd'];}set['bakeNumSam'+'ples'](_0x3fbf74){this['_setValue']('bakeNumSam'+'ples',_0x3fbf74,function(_0x3d1448,_0x1c7761){this['light']['bakeNumSam'+'ples']=Y['clamp'](Math['floor'](_0x3d1448),-0x1d66+0x7*-0xb3+-0x36e*-0xa,-0x11b0*0x2+-0x12*-0x16f+0xa91);});}get['bakeNumSam'+'ples'](){return this['data']['bakeNumSam'+'ples'];}set['bakeArea'](_0x4079c3){this['_setValue']('bakeArea',_0x4079c3,function(_0x3c85fc,_0x164ffe){this['light']['bakeArea']=Y['clamp'](_0x3c85fc,0x1*-0x1d85+0x2087+0x23*-0x16,-0x1*-0x8b3+0xc71+-0x1470);});}get['bakeArea'](){return this['data']['bakeArea'];}set['cascadeDis'+'tribution'](_0x45def9){this['_setValue']('cascadeDis'+'tribution',_0x45def9,function(_0x544d9b,_0x14c91f){this['light']['cascadeDis'+'tribution']=Y['clamp'](_0x544d9b,0x2114+-0x1ba1+-0x573,-0x1693*0x1+-0x1c3*0x13+0x380d);});}get['cascadeDis'+'tribution'](){return this['data']['cascadeDis'+'tribution'];}set['normalOffs'+'etBias'](_0x18faba){this['_setValue']('normalOffs'+'etBias',_0x18faba,function(_0x3a91f2,_0x5eeff0){this['light']['normalOffs'+'etBias']=Y['clamp'](_0x3a91f2,0x112+0x25e6+-0x74*0x56,-0x17*0x61+-0x2437*-0x1+-0x1b7f);});}get['normalOffs'+'etBias'](){return this['data']['normalOffs'+'etBias'];}set['range'](_0x172eff){this['_setValue']('range',_0x172eff,function(_0x5e1566,_0x2789a3){this['light']['attenuatio'+'nEnd']=_0x5e1566;});}get['range'](){return this['data']['range'];}set['innerConeA'+'ngle'](_0x572d11){this['_setValue']('innerConeA'+'ngle',_0x572d11,function(_0x2a2a70,_0x540186){this['light']['innerConeA'+'ngle']=_0x2a2a70;});}get['innerConeA'+'ngle'](){return this['data']['innerConeA'+'ngle'];}set['outerConeA'+'ngle'](_0x2f0025){this['_setValue']('outerConeA'+'ngle',_0x2f0025,function(_0x4e861b,_0x167ff){this['light']['outerConeA'+'ngle']=_0x4e861b;});}get['outerConeA'+'ngle'](){return this['data']['outerConeA'+'ngle'];}set['falloffMod'+'e'](_0x5d14aa){this['_setValue']('falloffMod'+'e',_0x5d14aa,function(_0x144efa,_0x54d500){this['light']['falloffMod'+'e']=_0x144efa;});}get['falloffMod'+'e'](){return this['data']['falloffMod'+'e'];}set['shadowType'](_0x42b705){this['_setValue']('shadowType',_0x42b705,function(_0x569195,_0x3ead33){this['light']['shadowType']=_0x569195;});}get['shadowType'](){return this['data']['shadowType'];}set['vsmBlurSiz'+'e'](_0x2026fa){this['_setValue']('vsmBlurSiz'+'e',_0x2026fa,function(_0x4ea804,_0x16770e){this['light']['vsmBlurSiz'+'e']=_0x4ea804;});}get['vsmBlurSiz'+'e'](){return this['data']['vsmBlurSiz'+'e'];}set['vsmBlurMod'+'e'](_0xa27ec0){this['_setValue']('vsmBlurMod'+'e',_0xa27ec0,function(_0x1b4138,_0x1968c4){this['light']['vsmBlurMod'+'e']=_0x1b4138;});}get['vsmBlurMod'+'e'](){return this['data']['vsmBlurMod'+'e'];}set['vsmBias'](_0xfb1798){this['_setValue']('vsmBias',_0xfb1798,function(_0x2e605a,_0x538c4e){this['light']['vsmBias']=Y['clamp'](_0x2e605a,0x1*0x5db+-0x3*0xadd+0x1abc,0x21dd+0x1a1e+-0x3bfa);});}get['vsmBias'](){return this['data']['vsmBias'];}set['cookieAsse'+'t'](_0x3261b1){this['_setValue']('cookieAsse'+'t',_0x3261b1,function(_0x268cac,_0x1ff3d5){if(!(this['_cookieAss'+'etId']&&(_0x268cac instanceof pe&&_0x268cac['id']===this['_cookieAss'+'etId']||_0x268cac===this['_cookieAss'+'etId']))){if(this['onCookieAs'+'setRemove'](),this['_cookieAss'+'etId']=null,_0x268cac instanceof pe)this['data']['cookieAsse'+'t']=_0x268cac['id'],this['_cookieAss'+'etId']=_0x268cac['id'],this['onCookieAs'+'setAdd'](_0x268cac);else{if(typeof _0x268cac=='number'){this['_cookieAss'+'etId']=_0x268cac;const _0xe379ef=this['system']['app']['assets']['get'](_0x268cac);_0xe379ef?this['onCookieAs'+'setAdd'](_0xe379ef):(this['_cookieAss'+'etAdd']=!(0xb34+0xf*0x189+-0x223b),this['system']['app']['assets']['on']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this));}}}});}get['cookieAsse'+'t'](){return this['data']['cookieAsse'+'t'];}set['cookie'](_0x4341e6){this['_setValue']('cookie',_0x4341e6,function(_0x396094,_0x5d38af){this['light']['cookie']=_0x396094;});}get['cookie'](){return this['data']['cookie'];}set['cookieInte'+'nsity'](_0x119f7e){this['_setValue']('cookieInte'+'nsity',_0x119f7e,function(_0x35c5a8,_0x729b85){this['light']['cookieInte'+'nsity']=Y['clamp'](_0x35c5a8,0x1*-0x369+0x1b71*0x1+-0x1808,0x891+0xc2*-0x10+-0x13*-0x30);});}get['cookieInte'+'nsity'](){return this['data']['cookieInte'+'nsity'];}set['cookieFall'+'off'](_0x4f595a){this['_setValue']('cookieFall'+'off',_0x4f595a,function(_0x55d664,_0x15fc73){this['light']['cookieFall'+'off']=_0x55d664;});}get['cookieFall'+'off'](){return this['data']['cookieFall'+'off'];}set['cookieChan'+'nel'](_0x23e502){this['_setValue']('cookieChan'+'nel',_0x23e502,function(_0x4e7fd0,_0x1e1776){this['light']['cookieChan'+'nel']=_0x4e7fd0;});}get['cookieChan'+'nel'](){return this['data']['cookieChan'+'nel'];}set['cookieAngl'+'e'](_0x1b638c){this['_setValue']('cookieAngl'+'e',_0x1b638c,function(_0x419cfd,_0x198f2f){if(_0x419cfd!==-0xe31+-0x1ea2+0xf*0x2fd||this['cookieScal'+'e']!==null){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());let _0xd351b6=0x669*0x5+0xde3+0x2def*-0x1,_0x401c10=0x3*0x62e+-0x12af+-0x13*-0x2;this['cookieScal'+'e']&&(_0xd351b6=this['cookieScal'+'e']['x'],_0x401c10=this['cookieScal'+'e']['y']);const _0x4285c9=Math['cos'](_0x419cfd*Y['DEG_TO_RAD']),_0x5e1996=Math['sin'](_0x419cfd*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x4285c9/_0xd351b6,-_0x5e1996/_0xd351b6,_0x5e1996/_0x401c10,_0x4285c9/_0x401c10),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;});}get['cookieAngl'+'e'](){return this['data']['cookieAngl'+'e'];}set['cookieScal'+'e'](_0x4fc961){this['_setValue']('cookieScal'+'e',_0x4fc961,function(_0xc3e420,_0x349469){if(_0xc3e420!==null||this['cookieAngl'+'e']!==0x7*-0x16d+0x1ceb+-0x12f0){this['_cookieMat'+'rix']||(this['_cookieMat'+'rix']=new re());const _0x1fe89e=_0xc3e420['x'],_0x30f91e=_0xc3e420['y'],_0x2bee95=Math['cos'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']),_0xe20571=Math['sin'](this['cookieAngl'+'e']*Y['DEG_TO_RAD']);this['_cookieMat'+'rix']['set'](_0x2bee95/_0x1fe89e,-_0xe20571/_0x1fe89e,_0xe20571/_0x30f91e,_0x2bee95/_0x30f91e),this['light']['cookieTran'+'sform']=this['_cookieMat'+'rix'];}else this['light']['cookieTran'+'sform']=null;},!(0xf60+-0x3a9*-0x2+-0x16b2));}get['cookieScal'+'e'](){return this['data']['cookieScal'+'e'];}set['cookieOffs'+'et'](_0x141a8d){this['_setValue']('cookieOffs'+'et',_0x141a8d,function(_0x60414f,_0x569bc2){this['light']['cookieOffs'+'et']=_0x60414f;},!(0x1b6b+-0x10ef+-0xa7c));}get['cookieOffs'+'et'](){return this['data']['cookieOffs'+'et'];}set['shadowUpda'+'teMode'](_0x95b405){this['_setValue']('shadowUpda'+'teMode',_0x95b405,function(_0x24c3d4,_0x1bb199){this['light']['shadowUpda'+'teMode']=_0x24c3d4;},!(-0x434*-0x2+-0x1270+0xa08));}get['shadowUpda'+'teMode'](){return this['data']['shadowUpda'+'teMode'];}set['mask'](_0x1083cf){this['_setValue']('mask',_0x1083cf,function(_0x5d3ca4,_0x477c00){this['light']['mask']=_0x5d3ca4;});}get['mask'](){return this['data']['mask'];}set['affectDyna'+'mic'](_0x77fb48){this['_setValue']('affectDyna'+'mic',_0x77fb48,function(_0x28cb2f,_0x3dbf14){_0x28cb2f?this['light']['mask']|=Ss:this['light']['mask']&=~Ss,this['light']['layersDirt'+'y']();});}get['affectDyna'+'mic'](){return this['data']['affectDyna'+'mic'];}set['affectLigh'+'tmapped'](_0x305ba9){this['_setValue']('affectLigh'+'tmapped',_0x305ba9,function(_0x26a910,_0xb33172){_0x26a910?(this['light']['mask']|=di,this['bake']&&(this['light']['mask']&=~fi)):(this['light']['mask']&=~di,this['bake']&&(this['light']['mask']|=fi));});}get['affectLigh'+'tmapped'](){return this['data']['affectLigh'+'tmapped'];}set['bake'](_0x58b22){this['_setValue']('bake',_0x58b22,function(_0x4fba0d,_0x3b6139){_0x4fba0d?(this['light']['mask']|=fi,this['affectLigh'+'tmapped']&&(this['light']['mask']&=~di)):(this['light']['mask']&=~fi,this['affectLigh'+'tmapped']&&(this['light']['mask']|=di)),this['light']['layersDirt'+'y']();});}get['bake'](){return this['data']['bake'];}set['bakeDir'](_0x44663d){this['_setValue']('bakeDir',_0x44663d,function(_0x33b9d1,_0x43ed83){this['light']['bakeDir']=_0x33b9d1;});}get['bakeDir'](){return this['data']['bakeDir'];}set['isStatic'](_0x4ff552){this['_setValue']('isStatic',_0x4ff552,function(_0x21e9de,_0x5c23ae){this['light']['isStatic']=_0x21e9de;});}get['isStatic'](){return this['data']['isStatic'];}set['layers'](_0x552acf){this['_setValue']('layers',_0x552acf,function(_0x557613,_0x5356b5){for(let _0x4395b7=0x1357+-0x2*0x870+-0x277;_0x4395b7<_0x5356b5['length'];_0x4395b7++){const _0x8d9a68=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x5356b5[_0x4395b7]);_0x8d9a68&&(_0x8d9a68['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x8d9a68));}for(let _0x5e1afa=0x1aac+0x2239*-0x1+0x1*0x78d;_0x5e1afa<_0x557613['length'];_0x5e1afa++){const _0x5c4c7a=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](_0x557613[_0x5e1afa]);_0x5c4c7a&&this['enabled']&&this['entity']['enabled']&&(_0x5c4c7a['addLight'](this),this['light']['addLayer'](_0x5c4c7a));}});}get['layers'](){return this['data']['layers'];}set['shadowUpda'+'teOverride'+'s'](_0x4daa71){this['light']['shadowUpda'+'teOverride'+'s']=_0x4daa71;}get['shadowUpda'+'teOverride'+'s'](){return this['light']['shadowUpda'+'teOverride'+'s'];}set['shadowSamp'+'les'](_0x52c6e2){this['light']['shadowSamp'+'les']=_0x52c6e2;}get['shadowSamp'+'les'](){return this['light']['shadowSamp'+'les'];}set['shadowBloc'+'kerSamples'](_0x51d056){this['light']['shadowBloc'+'kerSamples']=_0x51d056;}get['shadowBloc'+'kerSamples'](){return this['light']['shadowBloc'+'kerSamples'];}set['penumbraSi'+'ze'](_0x3898db){this['light']['penumbraSi'+'ze']=_0x3898db;}get['penumbraSi'+'ze'](){return this['light']['penumbraSi'+'ze'];}set['penumbraFa'+'lloff'](_0x7c7dc3){this['light']['penumbraFa'+'lloff']=_0x7c7dc3;}get['penumbraFa'+'lloff'](){return this['light']['penumbraFa'+'lloff'];}['_setValue'](_0x42b85d,_0x559952,_0x43136b,_0x456edd){const _0x3460c5=this['data'],_0x1d5163=_0x3460c5[_0x42b85d];!_0x456edd&&_0x1d5163===_0x559952||(_0x3460c5[_0x42b85d]=_0x559952,_0x43136b&&_0x43136b['call'](this,_0x559952,_0x1d5163));}['addLightTo'+'Layers'](){for(let _0xe29a7a=-0x1a6*-0x14+-0x977*0x1+-0x1781;_0xe29a7a<this['layers']['length'];_0xe29a7a++){const _0x46868c=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0xe29a7a]);_0x46868c&&(_0x46868c['addLight'](this),this['light']['addLayer'](_0x46868c));}}['removeLigh'+'tFromLayer'+'s'](){for(let _0x3d546f=0x1*0xd13+-0x18f8+0xbe5;_0x3d546f<this['layers']['length'];_0x3d546f++){const _0x35bb4f=this['system']['app']['scene']['layers']['getLayerBy'+'Id'](this['layers'][_0x3d546f]);_0x35bb4f&&(_0x35bb4f['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x35bb4f));}}['onLayersCh'+'anged'](_0xf5aecd,_0x534778){this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),_0xf5aecd['off']('add',this['onLayerAdd'+'ed'],this),_0xf5aecd['off']('remove',this['onLayerRem'+'oved'],this),_0x534778['on']('add',this['onLayerAdd'+'ed'],this),_0x534778['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0xc9794e){this['layers']['indexOf'](_0xc9794e['id'])>=0xbec+0x2c0+-0xeac&&this['enabled']&&this['entity']['enabled']&&(_0xc9794e['addLight'](this),this['light']['addLayer'](_0xc9794e));}['onLayerRem'+'oved'](_0x12e3ee){this['layers']['indexOf'](_0x12e3ee['id'])>=0x1*0x2b1+-0xa53*0x1+0x7a2&&(_0x12e3ee['removeLigh'+'t'](this),this['light']['removeLaye'+'r'](_0x12e3ee));}['refreshPro'+'perties'](){for(let _0x38945d=0x1d73+-0x1*-0x2074+-0x17*0x2b1;_0x38945d<Ho['length'];_0x38945d++){const _0x32cc41=Ho[_0x38945d];this[_0x32cc41]=this[_0x32cc41];}this['enabled']&&this['entity']['enabled']&&this['onEnable']();}['onCookieAs'+'setSet'](){let _0x5adc47=!(-0x1237+-0xc75*-0x1+0x5c3);this['_cookieAss'+'et']['type']==='cubemap'&&!this['_cookieAss'+'et']['loadFaces']&&(this['_cookieAss'+'et']['loadFaces']=!(0x2279+0xe0c+0x3085*-0x1),_0x5adc47=!(0x111d*-0x1+0x1a7c+0x1*-0x95f)),(!this['_cookieAss'+'et']['resource']||_0x5adc47)&&this['system']['app']['assets']['load'](this['_cookieAss'+'et']),this['_cookieAss'+'et']['resource']&&this['onCookieAs'+'setLoad']();}['onCookieAs'+'setAdd'](_0x111b73){this['_cookieAss'+'etId']===_0x111b73['id']&&(this['_cookieAss'+'et']=_0x111b73,this['light']['enabled']&&this['onCookieAs'+'setSet'](),this['_cookieAss'+'et']['on']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['on']('remove',this['onCookieAs'+'setRemove'],this));}['onCookieAs'+'setLoad'](){!this['_cookieAss'+'et']||!this['_cookieAss'+'et']['resource']||(this['cookie']=this['_cookieAss'+'et']['resource']);}['onCookieAs'+'setRemove'](){this['_cookieAss'+'etId']&&(this['_cookieAss'+'etAdd']&&(this['system']['app']['assets']['off']('add:'+this['_cookieAss'+'etId'],this['onCookieAs'+'setAdd'],this),this['_cookieAss'+'etAdd']=!(-0x104c+0x77a*0x1+0x3*0x2f1)),this['_cookieAss'+'et']&&(this['_cookieAss'+'et']['off']('load',this['onCookieAs'+'setLoad'],this),this['_cookieAss'+'et']['off']('remove',this['onCookieAs'+'setRemove'],this),this['_cookieAss'+'et']=null),this['cookie']=null);}['onEnable'](){const _0x26f1f9=this['system']['app']['scene'],_0x4b89df=_0x26f1f9['layers'];this['light']['enabled']=!(-0x184b+0x143c+0x40f*0x1),this['_evtLayers'+'Changed']=_0x26f1f9['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4b89df&&(this['_evtLayerA'+'dded']=_0x4b89df['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4b89df['on']('remove',this['onLayerRem'+'oved'],this)),this['enabled']&&this['entity']['enabled']&&this['addLightTo'+'Layers'](),this['_cookieAss'+'et']&&!this['cookie']&&this['onCookieAs'+'setSet']();}['onDisable'](){var _0x47abae,_0x587c17,_0xba10a;const _0x29dba3=this['system']['app']['scene']['layers'];this['light']['enabled']=!(-0x12ef*0x1+0x16d1+-0x3e1),(_0x47abae=this['_evtLayers'+'Changed'])==null||_0x47abae['off'](),this['_evtLayers'+'Changed']=null,_0x29dba3&&((_0x587c17=this['_evtLayerA'+'dded'])==null||_0x587c17['off'](),this['_evtLayerA'+'dded']=null,(_0xba10a=this['_evtLayerR'+'emoved'])==null||_0xba10a['off'](),this['_evtLayerR'+'emoved']=null),this['removeLigh'+'tFromLayer'+'s']();}['onRemove'](){this['onDisable'](),this['light']['destroy'](),this['cookieAsse'+'t']=null;}}class wF extends ct{constructor(_0x54613f){super(_0x54613f),this['id']='light',this['ComponentT'+'ype']=TF,this['DataType']=m0,this['on']('beforeremo'+'ve',this['_onRemoveC'+'omponent'],this);}['initialize'+'ComponentD'+'ata'](_0xf2a2bf,_0x57df04){const _0x174da3={..._0x57df04};_0x174da3['type']||(_0x174da3['type']=_0xf2a2bf['data']['type']),_0xf2a2bf['data']['type']=_0x174da3['type'],_0x174da3['layers']&&Array['isArray'](_0x174da3['layers'])&&(_0x174da3['layers']=_0x174da3['layers']['slice'](-0x1a9b+-0x17*0x10a+0x1*0x3281)),_0x174da3['color']&&Array['isArray'](_0x174da3['color'])&&(_0x174da3['color']=new ie(_0x174da3['color'][0x2295+-0x1*-0x18fa+0x1*-0x3b8f],_0x174da3['color'][0x11a0*-0x1+-0x1a54+-0x1f*-0x16b],_0x174da3['color'][0x53*0x15+0x152a+0x1*-0x1bf7])),_0x174da3['cookieOffs'+'et']&&_0x174da3['cookieOffs'+'et']instanceof Array&&(_0x174da3['cookieOffs'+'et']=new J(_0x174da3['cookieOffs'+'et'][-0xcdf*-0x2+0x1*-0x1813+-0x1ab],_0x174da3['cookieOffs'+'et'][0xb92+0x29a+-0xe2b])),_0x174da3['cookieScal'+'e']&&_0x174da3['cookieScal'+'e']instanceof Array&&(_0x174da3['cookieScal'+'e']=new J(_0x174da3['cookieScal'+'e'][-0x49*-0x4e+0x1b82+-0x31c0],_0x174da3['cookieScal'+'e'][0xe5d*0x1+-0x17b*0x4+-0x9*0xf0])),_0x174da3['enable']&&(console['warn']('WARNING:\x20e'+'nable:\x20Pro'+'perty\x20is\x20d'+'eprecated.'+'\x20Set\x20enabl'+'ed\x20propert'+'y\x20instead.'),_0x174da3['enabled']=_0x174da3['enable']),_0x174da3['shape']||(_0x174da3['shape']=Ys);const _0x5dd39e=new pl(this['app']['graphicsDe'+'vice'],this['app']['scene']['clusteredL'+'ightingEna'+'bled']);_0x5dd39e['type']=fu[_0x174da3['type']],_0x5dd39e['_node']=_0xf2a2bf['entity'],_0xf2a2bf['data']['light']=_0x5dd39e,super['initialize'+'ComponentD'+'ata'](_0xf2a2bf,_0x174da3,Ho);}['_onRemoveC'+'omponent'](_0x3f5008,_0x742ecf){_0x742ecf['onRemove']();}['cloneCompo'+'nent'](_0x56f3d9,_0x5e3659){const _0x321518=_0x56f3d9['light'],_0x5f589d=[];let _0x2c41d2;for(let _0x6a633d=-0x24a1+0xa*0x15c+0x1709;_0x6a633d<Ho['length'];_0x6a633d++)_0x2c41d2=Ho[_0x6a633d],_0x2c41d2!=='light'&&(_0x321518[_0x2c41d2]&&_0x321518[_0x2c41d2]['clone']?_0x5f589d[_0x2c41d2]=_0x321518[_0x2c41d2]['clone']():_0x5f589d[_0x2c41d2]=_0x321518[_0x2c41d2]);return this['addCompone'+'nt'](_0x5e3659,_0x5f589d);}['changeType'](_0x127ea4,_0x211301,_0x2de19b){_0x211301!==_0x2de19b&&(_0x127ea4['light']['type']=fu[_0x2de19b]);}}const EF=['x','y','z','w'],bF=[void(0x1d4d+0x1d1e+-0x1379*0x3),void(-0x1*-0x605+0x2*0x932+-0x1869),J,D,re];function Yn(_0x1294a7,_0x5c7563,_0x45bbb8,_0x4f3e0a){switch(_0x5c7563['type']){case'boolean':return!!_0x45bbb8;case'number':if(typeof _0x45bbb8=='number')return _0x45bbb8;if(typeof _0x45bbb8=='string'){const _0xb0a940=parseInt(_0x45bbb8,0x134c+-0x1f4b+0x27*0x4f);return isNaN(_0xb0a940)?null:_0xb0a940;}else{if(typeof _0x45bbb8=='boolean')return-0x170+0x1273*0x1+-0x1103+_0x45bbb8;}return null;case'json':{const _0x2f5f1c={};if(Array['isArray'](_0x5c7563['schema'])){(!_0x45bbb8||typeof _0x45bbb8!='object')&&(_0x45bbb8={});for(let _0xb0ec1e=-0x5*-0x142+-0x21a4+0x1b5a*0x1;_0xb0ec1e<_0x5c7563['schema']['length'];_0xb0ec1e++){const _0x532c0f=_0x5c7563['schema'][_0xb0ec1e];if(_0x532c0f['name']){if(_0x532c0f['array']){_0x2f5f1c[_0x532c0f['name']]=[];const _0x4efd9e=Array['isArray'](_0x45bbb8[_0x532c0f['name']])?_0x45bbb8[_0x532c0f['name']]:[];for(let _0x33b680=0xdd7+-0x1224+0x44d;_0x33b680<_0x4efd9e['length'];_0x33b680++)_0x2f5f1c[_0x532c0f['name']]['push'](Yn(_0x1294a7,_0x532c0f,_0x4efd9e[_0x33b680]));}else{const _0x1193df=_0x45bbb8['hasOwnProp'+'erty'](_0x532c0f['name'])?_0x45bbb8[_0x532c0f['name']]:_0x532c0f['default'];_0x2f5f1c[_0x532c0f['name']]=Yn(_0x1294a7,_0x532c0f,_0x1193df);}}}}return _0x2f5f1c;}case'asset':return _0x45bbb8 instanceof pe?_0x45bbb8:typeof _0x45bbb8=='number'?_0x1294a7['assets']['get'](_0x45bbb8)||null:typeof _0x45bbb8=='string'&&_0x1294a7['assets']['get'](parseInt(_0x45bbb8,-0xde0+-0x1c64+0x2a4e))||null;case'entity':return _0x45bbb8 instanceof Ie?_0x45bbb8:typeof _0x45bbb8=='string'?_0x1294a7['getEntityF'+'romIndex'](_0x45bbb8):null;case'rgb':case'rgba':if(_0x45bbb8 instanceof ie)return _0x4f3e0a instanceof ie?(_0x4f3e0a['copy'](_0x45bbb8),_0x4f3e0a):_0x45bbb8['clone']();if(_0x45bbb8 instanceof Array&&_0x45bbb8['length']>=0x1ccc*-0x1+0x194f+0x380&&_0x45bbb8['length']<=-0x2112+-0x1387*0x1+0x1*0x349d){for(let _0x4868ae=0x2a*-0xe5+-0x4*-0x3ac+-0x3a*-0x65;_0x4868ae<_0x45bbb8['length'];_0x4868ae++)if(typeof _0x45bbb8[_0x4868ae]!='number')return null;return _0x4f3e0a||(_0x4f3e0a=new ie()),_0x4f3e0a['r']=_0x45bbb8[-0x2217+-0x13*-0x29+-0x7c3*-0x4],_0x4f3e0a['g']=_0x45bbb8[-0x2c+-0xb*0x1b1+-0x4b2*-0x4],_0x4f3e0a['b']=_0x45bbb8[-0xb*-0x28c+-0xb88+0x2*-0x83d],_0x4f3e0a['a']=_0x45bbb8['length']===0x6*0x205+-0x1*0x3dd+-0xd3*0xa?0x1*-0xfd3+0x14e6+-0x512:_0x45bbb8[0x8a9+-0x6e8*-0x4+0x2446*-0x1],_0x4f3e0a;}else{if(typeof _0x45bbb8=='string'&&/#(?:[0-9a-f]{2}){3,4}/i['test'](_0x45bbb8))return _0x4f3e0a||(_0x4f3e0a=new ie()),_0x4f3e0a['fromString'](_0x45bbb8),_0x4f3e0a;}return null;case'vec2':case'vec3':case'vec4':{const _0x3c53cc=parseInt(_0x5c7563['type']['slice'](0x2*-0x313+-0xfd*0x27+-0xb2d*-0x4),0xb3d+0x22d2+0x165*-0x21),_0x5ca16e=bF[_0x3c53cc];if(_0x45bbb8 instanceof _0x5ca16e)return _0x4f3e0a instanceof _0x5ca16e?(_0x4f3e0a['copy'](_0x45bbb8),_0x4f3e0a):_0x45bbb8['clone']();if(_0x45bbb8 instanceof Array&&_0x45bbb8['length']===_0x3c53cc){for(let _0x480a69=0x1901+-0x53*0x1+0x2be*-0x9;_0x480a69<_0x45bbb8['length'];_0x480a69++)if(typeof _0x45bbb8[_0x480a69]!='number')return null;_0x4f3e0a||(_0x4f3e0a=new _0x5ca16e());for(let _0x43d617=-0x11fa+-0x213f+0x3339;_0x43d617<_0x3c53cc;_0x43d617++)_0x4f3e0a[EF[_0x43d617]]=_0x45bbb8[_0x43d617];return _0x4f3e0a;}return null;}case'curve':if(_0x45bbb8){let _0x12b1c0;if(_0x45bbb8 instanceof qs||_0x45bbb8 instanceof na)_0x12b1c0=_0x45bbb8['clone']();else{const _0x51cc05=_0x45bbb8['keys'][0x1*0x1900+0x3*0x584+0x298c*-0x1]instanceof Array?na:qs;_0x12b1c0=new _0x51cc05(_0x45bbb8['keys']),_0x12b1c0['type']=_0x45bbb8['type'];}return _0x12b1c0;}break;}return _0x45bbb8;}function _0(_0x3d90a7,_0x43ef7a,_0x49d63a,_0x2f3305){return _0x43ef7a['array']?_0x49d63a['map']((_0x40b9cd,_0x522677)=>Yn(_0x3d90a7,_0x43ef7a,_0x40b9cd,_0x2f3305?_0x2f3305[_0x522677]:null)):Yn(_0x3d90a7,_0x43ef7a,_0x49d63a,_0x2f3305);}function g0(_0x5764c5,_0x2e4310,_0x4548d4,_0x150cf8){if(_0x4548d4)for(const _0x45d7be in _0x2e4310){const _0x5e63ec=_0x2e4310[_0x45d7be],_0x4e5361=_0x4548d4[_0x45d7be];_0x4e5361!==void(0x2353*0x1+0x657+0x1*-0x29aa)&&(_0x150cf8[_0x45d7be]=_0(_0x5764c5,_0x5e63ec,_0x4e5361,_0x150cf8[_0x45d7be]));}}const yn=class yn{constructor(_0x210aef){this['scriptType']=_0x210aef,this['index']={};}['add'](_0x1972c5,_0x32411f){if(this['index'][_0x1972c5]){w['warn']('attribute\x20'+'\x27'+_0x1972c5+('\x27\x20is\x20alrea'+'dy\x20defined'+'\x20for\x20scrip'+'t\x20type\x20\x27')+this['scriptType']['name']+'\x27');return;}else{if(yn['reservedNa'+'mes']['has'](_0x1972c5)){w['warn']('attribute\x20'+'\x27'+_0x1972c5+('\x27\x20is\x20a\x20res'+'erved\x20attr'+'ibute\x20name'));return;}}this['index'][_0x1972c5]=_0x32411f,Object['defineProp'+'erty'](this['scriptType']['prototype'],_0x1972c5,{'get':function(){return this['__attribut'+'es'][_0x1972c5];},'set':function(_0x2b0abd){const _0x5f482e='attr',_0x3d0cce='attr:'+_0x1972c5,_0x5eb9b5=this['__attribut'+'es'][_0x1972c5];let _0x221a86=_0x5eb9b5;if(_0x5eb9b5&&_0x32411f['type']!=='json'&&_0x32411f['type']!=='entity'&&_0x5eb9b5['clone']&&(this['hasEvent'](_0x5f482e)||this['hasEvent'](_0x3d0cce))&&(_0x221a86=_0x5eb9b5['clone']()),_0x32411f['array']){if(this['__attribut'+'es'][_0x1972c5]=[],_0x2b0abd){for(let _0x5d624b=-0xde8+0x23f2+-0x160a,_0x4a9c68=_0x2b0abd['length'];_0x5d624b<_0x4a9c68;_0x5d624b++)this['__attribut'+'es'][_0x1972c5]['push'](Yn(this['app'],_0x32411f,_0x2b0abd[_0x5d624b],_0x5eb9b5?_0x5eb9b5[_0x5d624b]:null));}}else this['__attribut'+'es'][_0x1972c5]=Yn(this['app'],_0x32411f,_0x2b0abd,_0x5eb9b5);this['fire'](_0x5f482e,_0x1972c5,this['__attribut'+'es'][_0x1972c5],_0x221a86),this['fire'](_0x3d0cce,this['__attribut'+'es'][_0x1972c5],_0x221a86);}});}['remove'](_0x4dcf5a){return this['index'][_0x4dcf5a]?(delete this['index'][_0x4dcf5a],delete this['scriptType']['prototype'][_0x4dcf5a],!(-0x9*0x15+0x596+-0x4d9)):!(0x142d+-0x1be5+-0x293*-0x3);}['has'](_0x451a4a){return!!this['index'][_0x451a4a];}['get'](_0x5bfa0d){return this['index'][_0x5bfa0d]||null;}};h(yn,'assignAttr'+'ibutesToSc'+'ript',g0),h(yn,'attributeT'+'oValue',_0),h(yn,'reservedNa'+'mes',new Set(['app','entity','enabled','_enabled','_enabledOl'+'d','_destroyed','__attribut'+'es','__attribut'+'esRaw','__scriptTy'+'pe','__executio'+'nOrder','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']));let Sl=yn;const Bu='initialize',zu='postInitia'+'lize',AF='update',CF='postUpdate',PF='swap';class ts extends me{constructor(_0x26c2d4){super(),h(this,'app'),h(this,'entity'),h(this,'_enabled'),h(this,'_enabledOl'+'d'),h(this,'_initializ'+'ed'),h(this,'_postIniti'+'alized'),h(this,'__destroye'+'d'),h(this,'__scriptTy'+'pe'),h(this,'__executio'+'nOrder'),this['initScript'](_0x26c2d4);}set['enabled'](_0x3b86f3){this['_enabled']=!!_0x3b86f3,this['enabled']!==this['_enabledOl'+'d']&&(this['_enabledOl'+'d']=this['enabled'],this['fire'](this['enabled']?'enable':'disable'),this['fire']('state',this['enabled']),!this['_initializ'+'ed']&&this['enabled']&&(this['_initializ'+'ed']=!(0xc10+0xa*-0x31a+0x4bd*0x4),this['fire']('preInitial'+'ize'),this['initialize']&&this['entity']['script']['_scriptMet'+'hod'](this,Bu)),this['_initializ'+'ed']&&!this['_postIniti'+'alized']&&this['enabled']&&!this['entity']['script']['_beingEnab'+'led']&&(this['_postIniti'+'alized']=!(0x162c+-0x5*-0x249+-0x2199),this['postInitia'+'lize']&&this['entity']['script']['_scriptMet'+'hod'](this,zu)));}get['enabled'](){return this['_enabled']&&!this['_destroyed']&&this['entity']['script']['enabled']&&this['entity']['enabled'];}['initScript'](_0x5bca35){const _0x5ac644=this['constructo'+'r'];w['assert'](_0x5bca35&&_0x5bca35['app']&&_0x5bca35['entity'],'script\x20['+_0x5ac644['__name']+(']\x20has\x20miss'+'ing\x20argume'+'nts\x20in\x20con'+'structor')),this['app']=_0x5bca35['app'],this['entity']=_0x5bca35['entity'],this['_enabled']=typeof _0x5bca35['enabled']=='boolean'?_0x5bca35['enabled']:!(-0xff5+0x1b6*0xc+-0x493),this['_enabledOl'+'d']=this['enabled'],this['__destroye'+'d']=!(0x2*0xd85+0x1b*-0x12a+-0xf*-0x4b),this['__scriptTy'+'pe']=_0x5ac644,this['__executio'+'nOrder']=-(0x1*-0xda7+0x6*-0x32f+0x20c2);}static get['scriptName'](){return this['__name'];}}h(ts,'EVENT_ENAB'+'LE','enable'),h(ts,'EVENT_DISA'+'BLE','disable'),h(ts,'EVENT_STAT'+'E','state'),h(ts,'EVENT_DEST'+'ROY','destroy'),h(ts,'EVENT_ATTR','attr'),h(ts,'EVENT_ERRO'+'R','error'),h(ts,'__name',null),h(ts,'__getScrip'+'tName',S0);const MF=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s\/]*)\s*/;function S0(_0x1a8bc9){if(typeof _0x1a8bc9!='function')return;if(_0x1a8bc9['scriptName'])return _0x1a8bc9['scriptName'];if('name'in Function['prototype'])return _0x1a8bc9['name'];if(_0x1a8bc9===Function||_0x1a8bc9===Function['prototype']['constructo'+'r'])return'Function';const _0x3b66ad=(''+_0x1a8bc9)['match'](MF);return _0x3b66ad?_0x3b66ad[-0x285*-0x2+0x5ab*-0x5+0x174e]:void(-0x1b01+0xb03*-0x1+0x6*0x656);}class Wo extends ts{constructor(_0x4d99d2){super(_0x4d99d2),h(this,'__attribut'+'es'),h(this,'__attribut'+'esRaw'),this['initScript'+'Type'](_0x4d99d2);}static get['attributes'](){return this['hasOwnProp'+'erty']('__attribut'+'es')||(this['__attribut'+'es']=new Sl(this)),this['__attribut'+'es'];}['initScript'](_0x26bcfc){ts['prototype']['initScript']['call'](this,_0x26bcfc),this['__attribut'+'es']={},this['__attribut'+'esRaw']=_0x26bcfc['attributes']||{};}['initScript'+'Type'](_0x317579){this['initScript'](_0x317579);}['__initiali'+'zeAttribut'+'es'](_0x2af3d8){if(!(!_0x2af3d8&&!this['__attribut'+'esRaw'])){for(const _0x29b905 in this['__scriptTy'+'pe']['attributes']['index'])this['__attribut'+'esRaw']&&this['__attribut'+'esRaw']['hasOwnProp'+'erty'](_0x29b905)?this[_0x29b905]=this['__attribut'+'esRaw'][_0x29b905]:this['__attribut'+'es']['hasOwnProp'+'erty'](_0x29b905)||(this['__scriptTy'+'pe']['attributes']['index'][_0x29b905]['hasOwnProp'+'erty']('default')?this[_0x29b905]=this['__scriptTy'+'pe']['attributes']['index'][_0x29b905]['default']:this[_0x29b905]=null);this['__attribut'+'esRaw']=null;}}static['extend'](_0x56199b){for(const _0x33a48f in _0x56199b)_0x56199b['hasOwnProp'+'erty'](_0x33a48f)&&(this['prototype'][_0x33a48f]=_0x56199b[_0x33a48f]);}}const DF=_0x526fef=>_0x526fef[-0x125b+0x39b*0x4+0x3ef]['toLowerCas'+'e']()+_0x526fef['substring'](0x575+0x1*-0xd4b+0x1*0x7d7);class Ii extends we{constructor(_0x424af2,_0x1f91d4){super(_0x424af2,_0x1f91d4),h(this,'_attribute'+'DataMap',new Map()),(this['_scripts']=[],this['_updateLis'+'t']=new oh({'sortBy':'__executio'+'nOrder'}),this['_postUpdat'+'eList']=new oh({'sortBy':'__executio'+'nOrder'}),this['_scriptsIn'+'dex']={},this['_destroyed'+'Scripts']=[],this['_destroyed']=!(0x6b5+-0x1754+0x10a0),this['_scriptsDa'+'ta']=null,this['_oldState']=!(0xa85+0x16fc+-0x3*0xb2b),this['_enabled']=!(-0x21fc+-0x127f+0x347b*0x1),this['_beingEnab'+'led']=!(0x326*-0x3+-0x1f91+0x15e*0x1e),this['_isLooping'+'ThroughScr'+'ipts']=!(-0x14c1+-0x1*-0x1afe+-0x63c),this['_execution'+'Order']=-(0x84a*0x1+0x1*-0x62d+0x3c*-0x9),this['on']('set_enable'+'d',this['_onSetEnab'+'led'],this));}set['scripts'](_0x1a7557){this['_scriptsDa'+'ta']=_0x1a7557;for(const _0x3cc9bc in _0x1a7557){if(!_0x1a7557['hasOwnProp'+'erty'](_0x3cc9bc))continue;const _0x3cb684=this['_scriptsIn'+'dex'][_0x3cc9bc];if(_0x3cb684){if(typeof _0x1a7557[_0x3cc9bc]['enabled']=='boolean'&&(_0x3cb684['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x3cb684);}),_0x3cb684['enabled']=!!_0x1a7557[_0x3cc9bc]['enabled']),typeof _0x1a7557[_0x3cc9bc]['attributes']=='object'){for(const _0x4edbbb in _0x1a7557[_0x3cc9bc]['attributes'])if(!Sl['reservedNa'+'mes']['has'](_0x4edbbb)){if(!_0x3cb684['__attribut'+'es']['hasOwnProp'+'erty'](_0x4edbbb)){const _0x124c8c=this['system']['app']['scripts']['get'](_0x3cc9bc);_0x124c8c&&_0x124c8c['attributes']['add'](_0x4edbbb,{});}_0x3cb684[_0x4edbbb]=_0x1a7557[_0x3cc9bc]['attributes'][_0x4edbbb];}}}else console['log'](this['order']);}}get['scripts'](){return this['_scripts'];}set['enabled'](_0x286881){const _0x53bf2b=this['_enabled'];this['_enabled']=_0x286881,this['fire']('set','enabled',_0x53bf2b,_0x286881);}get['enabled'](){return this['_enabled'];}['onEnable'](){this['_beingEnab'+'led']=!(-0x1*-0x17f8+-0x1c81+0x489),this['_checkStat'+'e'](),this['entity']['_beingEnab'+'led']||this['onPostStat'+'eChange'](),this['_beingEnab'+'led']=!(0x98d+0xc*0x125+-0x4*0x5d2);}['onDisable'](){this['_checkStat'+'e']();}['onPostStat'+'eChange'](){const _0x45817e=this['_beginLoop'+'ing']();for(let _0x429184=0x63b+0x9b*0x16+-0x138d,_0x34daa8=this['scripts']['length'];_0x429184<_0x34daa8;_0x429184++){const _0x78d3b0=this['scripts'][_0x429184];_0x78d3b0['_initializ'+'ed']&&!_0x78d3b0['_postIniti'+'alized']&&_0x78d3b0['enabled']&&(_0x78d3b0['_postIniti'+'alized']=!(-0x40d+-0xcf7*-0x1+-0x2*0x475),_0x78d3b0['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x78d3b0,zu));}this['_endLoopin'+'g'](_0x45817e);}['_beginLoop'+'ing'](){const _0x14080f=this['_isLooping'+'ThroughScr'+'ipts'];return this['_isLooping'+'ThroughScr'+'ipts']=!(-0x26*0xf2+0x16f+0x3d5*0x9),_0x14080f;}['_endLoopin'+'g'](_0x595515){this['_isLooping'+'ThroughScr'+'ipts']=_0x595515,this['_isLooping'+'ThroughScr'+'ipts']||this['_removeDes'+'troyedScri'+'pts']();}['_onSetEnab'+'led'](_0x4e51c6,_0x219793,_0x25f5c5){this['_beingEnab'+'led']=!(-0x1476+-0xd39+0x21af),this['_checkStat'+'e'](),this['_beingEnab'+'led']=!(-0x89*0x15+0xc3e*-0x1+0xa7*0x24);}['_checkStat'+'e'](){const _0x156e68=this['enabled']&&this['entity']['enabled'];if(_0x156e68===this['_oldState'])return;this['_oldState']=_0x156e68,this['fire'](_0x156e68?'enable':'disable'),this['fire']('state',_0x156e68),_0x156e68?this['system']['_addCompon'+'entToEnabl'+'ed'](this):this['system']['_removeCom'+'ponentFrom'+'Enabled'](this);const _0x3886ce=this['_beginLoop'+'ing']();for(let _0x505b08=-0x12*-0x224+0x3*0x40f+-0x32b5,_0x148659=this['scripts']['length'];_0x505b08<_0x148659;_0x505b08++){const _0x229e0d=this['scripts'][_0x505b08];_0x229e0d['once']('preInitial'+'ize',()=>{this['initialize'+'Attributes'](_0x229e0d);}),_0x229e0d['enabled']=_0x229e0d['_enabled'];}this['_endLoopin'+'g'](_0x3886ce);}['_onBeforeR'+'emove'](){this['fire']('remove');const _0x369be7=this['_beginLoop'+'ing']();for(let _0x18a304=-0xe*0x10a+0x7*0x239+0x103*-0x1;_0x18a304<this['scripts']['length'];_0x18a304++){const _0x16031c=this['scripts'][_0x18a304];_0x16031c&&this['destroy'](_0x16031c['__scriptTy'+'pe']['__name']);}this['_endLoopin'+'g'](_0x369be7);}['_removeDes'+'troyedScri'+'pts'](){const _0x5053d9=this['_destroyed'+'Scripts']['length'];if(_0x5053d9){for(let _0x2149ac=-0x4*0x310+-0xa5*0x33+-0x2d1f*-0x1;_0x2149ac<_0x5053d9;_0x2149ac++){const _0x5c5871=this['_destroyed'+'Scripts'][_0x2149ac];this['_removeScr'+'iptInstanc'+'e'](_0x5c5871);}this['_destroyed'+'Scripts']['length']=-0x1b59*-0x1+-0x20ef*0x1+0x5*0x11e,this['_resetExec'+'utionOrder'](-0x1*0x1d+0x5e0+-0x5c3,this['_scripts']['length']);}}['_onInitial'+'izeAttribu'+'tes'](){for(let _0x3fca64=0x3b9*0x9+0x3d*0x2f+-0x2cb4*0x1,_0x339a5d=this['scripts']['length'];_0x3fca64<_0x339a5d;_0x3fca64++){const _0x58da48=this['scripts'][_0x3fca64];this['initialize'+'Attributes'](_0x58da48);}}['initialize'+'Attributes'](_0x18abde){var _0x35158e;if(_0x18abde instanceof Wo)_0x18abde['__initiali'+'zeAttribut'+'es']();else{const _0x329507=_0x18abde['__scriptTy'+'pe']['__name'],_0x2070bb=this['_attribute'+'DataMap']['get'](_0x329507);if(!_0x2070bb)return;const _0x4d868c=(_0x35158e=this['system']['app']['scripts'])==null?void(0x1a96+-0x7*0x1ee+-0xd14):_0x35158e['getSchema'](_0x329507);_0x4d868c||w['warnOnce']('No\x20schema\x20'+'exists\x20for'+'\x20the\x20scrip'+'t\x20\x27'+_0x329507+('\x27.\x20A\x20schem'+'a\x20must\x20exi'+'st\x20for\x20dat'+'a\x20to\x20be\x20in'+'stantiated'+'\x20on\x20the\x20sc'+'ript.')),g0(this['system']['app'],_0x4d868c['attributes'],_0x2070bb,_0x18abde);}}['_scriptMet'+'hod'](_0x3c0213,_0x531366,_0x407041){try{_0x3c0213[_0x531366](_0x407041);}catch(_0x288670){_0x3c0213['enabled']=!(0xb81+0x202d*0x1+-0x2bad),_0x3c0213['hasEvent']('error')||(console['warn']('unhandled\x20'+'exception\x20'+'while\x20call'+'ing\x20\x22'+_0x531366+'\x22\x20for\x20\x22'+_0x3c0213['__scriptTy'+'pe']['__name']+'\x22\x20script:\x20',_0x288670),console['error'](_0x288670)),_0x3c0213['fire']('error',_0x288670,_0x531366),this['fire']('error',_0x3c0213,_0x288670,_0x531366);}}['_onInitial'+'ize'](){const _0x185b1b=this['_scripts'],_0x43a55f=this['_beginLoop'+'ing']();for(let _0x47824c=-0x3*-0x242+-0x1*0x188b+0x11c5,_0x5655f2=_0x185b1b['length'];_0x47824c<_0x5655f2;_0x47824c++){const _0x2b635c=_0x185b1b[_0x47824c];!_0x2b635c['_initializ'+'ed']&&_0x2b635c['enabled']&&(_0x2b635c['_initializ'+'ed']=!(0xdc3+-0x3ec*-0x5+-0x215f),_0x2b635c['initialize']&&this['_scriptMet'+'hod'](_0x2b635c,Bu));}this['_endLoopin'+'g'](_0x43a55f);}['_onPostIni'+'tialize'](){this['onPostStat'+'eChange']();}['_onUpdate'](_0x4fff06){const _0x5816b5=this['_updateLis'+'t'];if(!_0x5816b5['length'])return;const _0x37f331=this['_beginLoop'+'ing']();for(_0x5816b5['loopIndex']=0x11*-0xd4+0xb25+0x2ef*0x1;_0x5816b5['loopIndex']<_0x5816b5['length'];_0x5816b5['loopIndex']++){const _0x117ca7=_0x5816b5['items'][_0x5816b5['loopIndex']];_0x117ca7['enabled']&&this['_scriptMet'+'hod'](_0x117ca7,AF,_0x4fff06);}this['_endLoopin'+'g'](_0x37f331);}['_onPostUpd'+'ate'](_0x52d68d){const _0x5bea30=this['_postUpdat'+'eList'];if(!_0x5bea30['length'])return;const _0x334532=this['_beginLoop'+'ing']();for(_0x5bea30['loopIndex']=-0x43*-0x3b+-0x1*-0x1583+0x56*-0x6e;_0x5bea30['loopIndex']<_0x5bea30['length'];_0x5bea30['loopIndex']++){const _0x5b6e51=_0x5bea30['items'][_0x5bea30['loopIndex']];_0x5b6e51['enabled']&&this['_scriptMet'+'hod'](_0x5b6e51,CF,_0x52d68d);}this['_endLoopin'+'g'](_0x334532);}['_insertScr'+'iptInstanc'+'e'](_0x452c66,_0xdbace7,_0x15f2af){_0xdbace7===-(0x16e1+0x461+-0x1*0x1b41)?(this['_scripts']['push'](_0x452c66),_0x452c66['__executio'+'nOrder']=_0x15f2af,_0x452c66['update']&&this['_updateLis'+'t']['append'](_0x452c66),_0x452c66['postUpdate']&&this['_postUpdat'+'eList']['append'](_0x452c66)):(this['_scripts']['splice'](_0xdbace7,0x1dc5+0x53*-0x2b+-0xfd4,_0x452c66),_0x452c66['__executio'+'nOrder']=_0xdbace7,this['_resetExec'+'utionOrder'](_0xdbace7+(0x2039+-0xd3*0x11+-0x1235),_0x15f2af+(0x1d38+-0x5*-0xd2+-0x2151)),_0x452c66['update']&&this['_updateLis'+'t']['insert'](_0x452c66),_0x452c66['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x452c66));}['_removeScr'+'iptInstanc'+'e'](_0x1e6ac7){const _0x4db5fe=this['_scripts']['indexOf'](_0x1e6ac7);return _0x4db5fe===-(0x18a*0xc+0x17*0x14f+-0x4*0xc24)||(this['_scripts']['splice'](_0x4db5fe,-0x1fd*0xe+-0x1bdb+0x37b2),_0x1e6ac7['update']&&this['_updateLis'+'t']['remove'](_0x1e6ac7),_0x1e6ac7['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x1e6ac7)),_0x4db5fe;}['_resetExec'+'utionOrder'](_0xb55f4a,_0x1055d3){for(let _0x2dd9eb=_0xb55f4a;_0x2dd9eb<_0x1055d3;_0x2dd9eb++)this['_scripts'][_0x2dd9eb]['__executio'+'nOrder']=_0x2dd9eb;}['_resolveEn'+'tityScript'+'Attribute'](_0x98db19,_0x403f6a,_0x5a3c48,_0x49f444,_0x5547b4,_0x3d8b42){if(_0x98db19['array']){const _0x51fed0=_0x5a3c48['length'];if(!_0x51fed0)return;const _0x41e97b=_0x5a3c48['slice']();for(let _0x58e6e4=0x18b4+0xb78+-0x4*0x90b;_0x58e6e4<_0x51fed0;_0x58e6e4++){const _0x294a9a=_0x41e97b[_0x58e6e4]instanceof lt?_0x41e97b[_0x58e6e4]['getGuid']():_0x41e97b[_0x58e6e4];_0x3d8b42[_0x294a9a]&&(_0x41e97b[_0x58e6e4]=_0x49f444?_0x3d8b42[_0x294a9a]['getGuid']():_0x3d8b42[_0x294a9a]);}_0x5547b4[_0x403f6a]=_0x41e97b;}else{if(_0x5a3c48 instanceof lt)_0x5a3c48=_0x5a3c48['getGuid']();else{if(typeof _0x5a3c48!='string')return;}_0x3d8b42[_0x5a3c48]&&(_0x5547b4[_0x403f6a]=_0x3d8b42[_0x5a3c48]);}}['has'](_0x50e1e1){if(typeof _0x50e1e1=='string')return!!this['_scriptsIn'+'dex'][_0x50e1e1];if(!_0x50e1e1)return!(-0x2311+-0xd*-0x107+0x1*0x15b7);const _0x4e3dd3=_0x50e1e1,_0x376519=_0x4e3dd3['__name'],_0x158d73=this['_scriptsIn'+'dex'][_0x376519];return(_0x158d73&&_0x158d73['instance'])instanceof _0x4e3dd3;}['get'](_0x3b9e5c){if(typeof _0x3b9e5c=='string'){const _0x431b23=this['_scriptsIn'+'dex'][_0x3b9e5c];return _0x431b23?_0x431b23['instance']:null;}if(!_0x3b9e5c)return null;const _0x1dda40=_0x3b9e5c,_0x2fed4f=_0x1dda40['__name'],_0xa39cb2=this['_scriptsIn'+'dex'][_0x2fed4f],_0x14b95c=_0xa39cb2&&_0xa39cb2['instance'];return _0x14b95c instanceof _0x1dda40?_0x14b95c:null;}['create'](_0xe56707,_0x149180={}){const _0x265303=this;let _0x196f7f=_0xe56707,_0xbf5553=_0xe56707;if(typeof _0x196f7f=='string')_0x196f7f=this['system']['app']['scripts']['get'](_0x196f7f);else{if(_0x196f7f){const _0x2366df=S0(_0x196f7f),_0x1c149e=DF(_0x2366df);!(_0x196f7f['prototype']instanceof Wo)&&!_0x196f7f['scriptName']&&w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x2366df+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x2366df+('.scriptNam'+'e\x20=\x20\x22')+_0x1c149e+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.')),_0x196f7f['__name']??(_0x196f7f['__name']=_0x196f7f['scriptName']??_0x1c149e),_0xbf5553=_0x196f7f['__name'];}}if(_0x196f7f){if(!this['_scriptsIn'+'dex'][_0xbf5553]||!this['_scriptsIn'+'dex'][_0xbf5553]['instance']){const _0x619708=new _0x196f7f({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x149180['hasOwnProp'+'erty']('enabled')?_0x149180['enabled']:!(0x2f*-0xa7+-0x214+0x121*0x1d),'attributes':_0x149180['attributes']||{}});_0x149180['properties']&&typeof _0x149180['properties']=='object'&&Object['assign'](_0x619708,_0x149180['properties']),_0x619708 instanceof Wo||this['_attribute'+'DataMap']['set'](_0xbf5553,_0x149180['attributes']);const _0x167757=this['_scripts']['length'];let _0x1145bb=-(0x93d*-0x1+-0x2526+0x2e64);return typeof _0x149180['ind']=='number'&&_0x149180['ind']!==-(-0x35d*-0x3+-0x197e+0xf68)&&_0x167757>_0x149180['ind']&&(_0x1145bb=_0x149180['ind']),this['_insertScr'+'iptInstanc'+'e'](_0x619708,_0x1145bb,_0x167757),this['_scriptsIn'+'dex'][_0xbf5553]={'instance':_0x619708,'onSwap':function(){_0x265303['swap'](_0xbf5553);}},this[_0xbf5553]=_0x619708,_0x149180['preloading']||this['initialize'+'Attributes'](_0x619708),this['fire']('create',_0xbf5553,_0x619708),this['fire']('create:'+_0xbf5553,_0x619708),this['system']['app']['scripts']['on']('swap:'+_0xbf5553,this['_scriptsIn'+'dex'][_0xbf5553]['onSwap']),_0x149180['preloading']||(_0x619708['enabled']&&!_0x619708['_initializ'+'ed']&&(_0x619708['_initializ'+'ed']=!(0x238d*0x1+0x7*-0x593+0x128*0x3),_0x619708['initialize']&&this['_scriptMet'+'hod'](_0x619708,Bu)),_0x619708['enabled']&&!_0x619708['_postIniti'+'alized']&&(_0x619708['_postIniti'+'alized']=!(0x2b*-0xd6+-0x3bc+0x1*0x27ae),_0x619708['postInitia'+'lize']&&this['_scriptMet'+'hod'](_0x619708,zu))),_0x619708;}w['warn']('script\x20\x27'+_0xbf5553+('\x27\x20is\x20alrea'+'dy\x20added\x20t'+'o\x20entity\x20\x27')+this['entity']['name']+'\x27');}else this['_scriptsIn'+'dex'][_0xbf5553]={'awaiting':!(0x1710+0x2040+-0x3750),'ind':this['_scripts']['length']},w['warn']('script\x20\x27'+_0xbf5553+('\x27\x20is\x20not\x20f'+'ound,\x20awai'+'ting\x20it\x20to'+'\x20be\x20added\x20'+'to\x20registr'+'y'));return null;}['destroy'](_0x2ebd52){let _0x17eee1=_0x2ebd52,_0x34e7fd=_0x2ebd52;typeof _0x34e7fd=='string'?_0x34e7fd=this['system']['app']['scripts']['get'](_0x34e7fd):_0x34e7fd&&(_0x17eee1=_0x34e7fd['__name']);const _0x403cf4=this['_scriptsIn'+'dex'][_0x17eee1];if(delete this['_scriptsIn'+'dex'][_0x17eee1],!_0x403cf4)return!(0x27b+0x10bf+-0x103*0x13);this['_attribute'+'DataMap']['delete'](_0x17eee1);const _0x76a518=_0x403cf4['instance'];if(_0x76a518&&!_0x76a518['_destroyed']){if(_0x76a518['enabled']=!(-0x2d8+0xff0+-0xd17),_0x76a518['_destroyed']=!(-0x251c+-0x1ee0+0x43fc),this['_isLooping'+'ThroughScr'+'ipts'])this['_destroyed'+'Scripts']['push'](_0x76a518);else{const _0x5a08a2=this['_removeScr'+'iptInstanc'+'e'](_0x76a518);_0x5a08a2>=0x1ad6+0x1343+0x2e19*-0x1&&this['_resetExec'+'utionOrder'](_0x5a08a2,this['_scripts']['length']);}}return this['system']['app']['scripts']['off']('swap:'+_0x17eee1,_0x403cf4['onSwap']),delete this[_0x17eee1],this['fire']('destroy',_0x17eee1,_0x76a518||null),this['fire']('destroy:'+_0x17eee1,_0x76a518||null),_0x76a518&&_0x76a518['fire']('destroy'),!(-0x268b+0x8d7+-0xeda*-0x2);}['swap'](_0x3d5160){let _0x582e1b=_0x3d5160,_0x543771=_0x3d5160;typeof _0x543771=='string'?_0x543771=this['system']['app']['scripts']['get'](_0x543771):_0x543771&&(_0x582e1b=_0x543771['__name']);const _0x5474d4=this['_scriptsIn'+'dex'][_0x582e1b];if(!_0x5474d4||!_0x5474d4['instance'])return!(0x26d*-0xd+-0x240b*-0x1+-0x481*0x1);const _0x61ac=_0x5474d4['instance'],_0x5dfff8=this['_scripts']['indexOf'](_0x61ac),_0x10f621=new _0x543771({'app':this['system']['app'],'entity':this['entity'],'enabled':_0x61ac['enabled'],'attributes':_0x61ac['__attribut'+'es']});return _0x10f621['swap']?(this['initialize'+'Attributes'](_0x10f621),this['_scripts'][_0x5dfff8]=_0x10f621,this['_scriptsIn'+'dex'][_0x582e1b]['instance']=_0x10f621,this[_0x582e1b]=_0x10f621,_0x10f621['__executio'+'nOrder']=_0x5dfff8,_0x61ac['update']&&this['_updateLis'+'t']['remove'](_0x61ac),_0x61ac['postUpdate']&&this['_postUpdat'+'eList']['remove'](_0x61ac),_0x10f621['update']&&this['_updateLis'+'t']['insert'](_0x10f621),_0x10f621['postUpdate']&&this['_postUpdat'+'eList']['insert'](_0x10f621),this['_scriptMet'+'hod'](_0x10f621,PF,_0x61ac),this['fire']('swap',_0x582e1b,_0x10f621),this['fire']('swap:'+_0x582e1b,_0x10f621),!(0x4a2*0x3+-0xcb4+-0x11*0x12)):!(0x96d*0x3+-0x16*0xad+-0xd68);}['resolveDup'+'licatedEnt'+'ityReferen'+'ceProperti'+'es'](_0x33115f,_0x5ad1b6){var _0x54c8bf,_0x4293ab,_0x4ab94b;const _0x2361d9=this['entity']['script'];for(const _0x221ff5 in _0x33115f['_scriptsIn'+'dex']){const _0x223e9b=this['system']['app']['scripts']['get'](_0x221ff5);if(!_0x223e9b)continue;const _0xdd74ba=_0x33115f['_scriptsIn'+'dex'][_0x221ff5];if(!_0xdd74ba||!_0xdd74ba['instance'])continue;const _0xe9a23f=_0x2361d9[_0x221ff5]['__attribut'+'esRaw']??_0x2361d9['_attribute'+'DataMap']['get'](_0x221ff5),_0x4b33cd=_0x2361d9[_0x221ff5]['__attribut'+'es'];if(!_0xe9a23f&&!_0x4b33cd)continue;const _0x1836da=!!_0xe9a23f,_0x3c4474=_0xdd74ba['instance']['__attribut'+'es']??_0x2361d9['_attribute'+'DataMap']['get'](_0x221ff5);for(const _0xc785cf in _0x3c4474){if(!_0x3c4474[_0xc785cf])continue;const _0x319c8d=((_0x54c8bf=_0x223e9b['attributes'])==null?void(0xf6*0x7+-0x129b+0xbe1):_0x54c8bf['get'](_0xc785cf))??((_0x4ab94b=(_0x4293ab=this['system']['app']['scripts']['getSchema'](_0x221ff5))==null?void(0x3*0x6ed+0x25*0x5f+-0x2282):_0x4293ab['attributes'])==null?void(-0x1*0x655+0x5*0x179+-0x1*0x108):_0x4ab94b[_0xc785cf]);if(_0x319c8d){if(_0x319c8d['type']==='entity')this['_resolveEn'+'tityScript'+'Attribute'](_0x319c8d,_0xc785cf,_0x3c4474[_0xc785cf],_0x1836da,_0xe9a23f||_0x4b33cd,_0x5ad1b6);else{if(_0x319c8d['type']==='json'&&Array['isArray'](_0x319c8d['schema'])){const _0x470185=_0x3c4474[_0xc785cf],_0x4a7f81=_0xe9a23f?_0xe9a23f[_0xc785cf]:_0x4b33cd[_0xc785cf];for(let _0x2bd26c=0x1415+0x188b+0xee*-0x30;_0x2bd26c<_0x319c8d['schema']['length'];_0x2bd26c++){const _0x5c9642=_0x319c8d['schema'][_0x2bd26c];if(_0x5c9642['type']==='entity'){if(_0x319c8d['array']){for(let _0x13f287=-0x1702+-0x15*0x9c+0x23ce;_0x13f287<_0x470185['length'];_0x13f287++)this['_resolveEn'+'tityScript'+'Attribute'](_0x5c9642,_0x5c9642['name'],_0x470185[_0x13f287][_0x5c9642['name']],_0x1836da,_0x4a7f81[_0x13f287],_0x5ad1b6);}else this['_resolveEn'+'tityScript'+'Attribute'](_0x5c9642,_0x5c9642['name'],_0x470185[_0x5c9642['name']],_0x1836da,_0x4a7f81,_0x5ad1b6);}}}}}}}}['move'](_0x5be9ee,_0x4b5fec){const _0x32428e=this['_scripts']['length'];if(_0x4b5fec>=_0x32428e||_0x4b5fec<0x322+-0x2*-0x837+-0x1390)return!(-0xd4a+-0x1*0x250a+0x3255*0x1);let _0x2aefa9=_0x5be9ee,_0x3b09cb=_0x5be9ee;typeof _0x3b09cb!='string'?_0x3b09cb=_0x5be9ee['__name']:_0x2aefa9=null;const _0x445aec=this['_scriptsIn'+'dex'][_0x3b09cb];if(!_0x445aec||!_0x445aec['instance'])return!(0x655*0x3+-0x1*0xe2+-0x121c);const _0x59daf1=_0x445aec['instance'];if(_0x2aefa9&&!(_0x59daf1 instanceof _0x2aefa9))return!(0x2609+0x1*0xe0e+0x1*-0x3416);const _0x556820=this['_scripts']['indexOf'](_0x59daf1);return _0x556820===-(-0x1ea7+0x746*-0x1+0x25ee)||_0x556820===_0x4b5fec?!(-0x1fd7+-0x1*-0x87f+0x1759):(this['_scripts']['splice'](_0x4b5fec,0x26eb+0x10ce+0x9*-0x631,this['_scripts']['splice'](_0x556820,0x1181*-0x1+0x62e+0xb54)[0xc7f+-0x7f3*-0x1+-0x1472]),this['_resetExec'+'utionOrder'](0x4ce+-0xf28+0xa5a,_0x32428e),this['_updateLis'+'t']['sort'](),this['_postUpdat'+'eList']['sort'](),this['fire']('move',_0x3b09cb,_0x59daf1,_0x4b5fec,_0x556820),this['fire']('move:'+_0x3b09cb,_0x59daf1,_0x4b5fec,_0x556820),!(-0x16cc+-0x737*0x1+0x1*0x1e03));}}h(Ii,'EVENT_CREA'+'TE','create'),h(Ii,'EVENT_DEST'+'ROY','destroy'),h(Ii,'EVENT_ENAB'+'LE','enable'),h(Ii,'EVENT_DISA'+'BLE','disable'),h(Ii,'EVENT_REMO'+'VE','remove'),h(Ii,'EVENT_STAT'+'E','state'),h(Ii,'EVENT_MOVE','move'),h(Ii,'EVENT_ERRO'+'R','error');class IF{constructor(){this['enabled']=!(0x1*-0x793+-0x7*0x405+0x23b6);}}const LF='_onInitial'+'izeAttribu'+'tes',RF='_onInitial'+'ize',OF='_onPostIni'+'tialize',FF='_onUpdate',NF='_onPostUpd'+'ate';let Mc=0x1*0x164d+-0xfee+0x65f*-0x1;class kF extends ct{constructor(_0x237290){super(_0x237290),this['id']='script',this['ComponentT'+'ype']=Ii,this['DataType']=IF,this['_component'+'s']=new oh({'sortBy':'_execution'+'Order'}),this['_enabledCo'+'mponents']=new oh({'sortBy':'_execution'+'Order'}),this['preloading']=!(0x1*-0x209b+0xc13*0x1+0x1488),this['on']('beforeremo'+'ve',this['_onBeforeR'+'emove'],this),this['app']['systems']['on']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['on']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['on']('update',this['_onUpdate'],this),this['app']['systems']['on']('postUpdate',this['_onPostUpd'+'ate'],this);}['initialize'+'ComponentD'+'ata'](_0x1f14ee,_0x261da0){if(_0x1f14ee['_execution'+'Order']=Mc++,this['_component'+'s']['append'](_0x1f14ee),Mc>Number['MAX_SAFE_I'+'NTEGER']&&this['_resetExec'+'utionOrder'](),_0x1f14ee['enabled']=_0x261da0['hasOwnProp'+'erty']('enabled')?!!_0x261da0['enabled']:!(-0x1db1+-0xb62+0x2913),_0x1f14ee['enabled']&&_0x1f14ee['entity']['enabled']&&this['_enabledCo'+'mponents']['append'](_0x1f14ee),_0x261da0['hasOwnProp'+'erty']('order')&&_0x261da0['hasOwnProp'+'erty']('scripts')){_0x1f14ee['_scriptsDa'+'ta']=_0x261da0['scripts'];for(let _0xa1bf94=0x13c*-0xf+-0x1abf+0x2d43;_0xa1bf94<_0x261da0['order']['length'];_0xa1bf94++)_0x1f14ee['create'](_0x261da0['order'][_0xa1bf94],{'enabled':_0x261da0['scripts'][_0x261da0['order'][_0xa1bf94]]['enabled'],'attributes':_0x261da0['scripts'][_0x261da0['order'][_0xa1bf94]]['attributes'],'preloading':this['preloading']});}}['cloneCompo'+'nent'](_0x38d92d,_0xfcf654){var _0x240970;const _0x45e66e=[],_0x574d18={};for(let _0x561f26=-0xddc+0x4de+0x8fe;_0x561f26<_0x38d92d['script']['_scripts']['length'];_0x561f26++){const _0x34221e=_0x38d92d['script']['_scripts'][_0x561f26],_0x58dea0=_0x34221e['__scriptTy'+'pe']['__name'];_0x45e66e['push'](_0x58dea0);const _0x118573=((_0x240970=_0x38d92d['script']['_attribute'+'DataMap'])==null?void(0xc9d*-0x1+0x1823+-0x127*0xa):_0x240970['get'](_0x58dea0))||{};for(const _0x26e9a5 in _0x34221e['__attribut'+'es'])_0x118573[_0x26e9a5]=_0x34221e['__attribut'+'es'][_0x26e9a5];_0x574d18[_0x58dea0]={'enabled':_0x34221e['_enabled'],'attributes':_0x118573};}for(const _0x9e1d56 in _0x38d92d['script']['_scriptsIn'+'dex'])_0x9e1d56['awaiting']&&_0x45e66e['splice'](_0x9e1d56['ind'],-0x1*-0x245b+0x15aa+-0x3a05,_0x9e1d56);const _0x234b69={'enabled':_0x38d92d['script']['enabled'],'order':_0x45e66e,'scripts':_0x574d18};return this['addCompone'+'nt'](_0xfcf654,_0x234b69);}['_resetExec'+'utionOrder'](){Mc=0xca5+0x14*0x4+-0xcf5;for(let _0x456bde=0x1*-0x1557+-0x95f*0x2+0x1*0x2815,_0x588228=this['_component'+'s']['length'];_0x456bde<_0x588228;_0x456bde++)this['_component'+'s']['items'][_0x456bde]['_execution'+'Order']=Mc++;}['_callCompo'+'nentMethod'](_0x570431,_0x18c207,_0x35fd56){for(_0x570431['loopIndex']=-0x73d+-0xa96+-0xd*-0x15f;_0x570431['loopIndex']<_0x570431['length'];_0x570431['loopIndex']++)_0x570431['items'][_0x570431['loopIndex']][_0x18c207](_0x35fd56);}['_onInitial'+'ize'](){this['preloading']=!(-0x47c+0xab5*-0x2+0x19e7*0x1),this['_callCompo'+'nentMethod'](this['_component'+'s'],LF),this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],RF);}['_onPostIni'+'tialize'](){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],OF);}['_onUpdate'](_0x4cbffd){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],FF,_0x4cbffd);}['_onPostUpd'+'ate'](_0x43bfaf){this['_callCompo'+'nentMethod'](this['_enabledCo'+'mponents'],NF,_0x43bfaf);}['_addCompon'+'entToEnabl'+'ed'](_0xcf339e){this['_enabledCo'+'mponents']['insert'](_0xcf339e);}['_removeCom'+'ponentFrom'+'Enabled'](_0x13f09d){this['_enabledCo'+'mponents']['remove'](_0x13f09d);}['_onBeforeR'+'emove'](_0x52e9e3,_0x96177b){this['_component'+'s']['items']['indexOf'](_0x96177b)>=-0x6f*0x9+0xb95*-0x3+0x671*0x6&&_0x96177b['_onBeforeR'+'emove'](),this['_removeCom'+'ponentFrom'+'Enabled'](_0x96177b),this['_component'+'s']['remove'](_0x96177b);}['destroy'](){super['destroy'](),this['app']['systems']['off']('initialize',this['_onInitial'+'ize'],this),this['app']['systems']['off']('postInitia'+'lize',this['_onPostIni'+'tialize'],this),this['app']['systems']['off']('update',this['_onUpdate'],this),this['app']['systems']['off']('postUpdate',this['_onPostUpd'+'ate'],this);}}class y0 extends we{constructor(_0x5675aa,_0x422b8f){super(_0x5675aa,_0x422b8f),h(this,'_layers',[er]),h(this,'_instance',null),h(this,'_materialT'+'mp',null),h(this,'_highQuali'+'tySH',!(0x3*0x9d1+-0x155b+-0x818)),h(this,'_customAab'+'b',null),h(this,'_assetRefe'+'rence'),h(this,'_evtLayers'+'Changed',null),h(this,'_evtLayerA'+'dded',null),h(this,'_evtLayerR'+'emoved',null),h(this,'_castShado'+'ws',!(-0x175*-0x13+0x713+-0x1*0x22c1)),(this['_assetRefe'+'rence']=new gl('asset',this,_0x5675aa['app']['assets'],{'add':this['_onGSplatA'+'ssetAdded'],'load':this['_onGSplatA'+'ssetLoad'],'remove':this['_onGSplatA'+'ssetRemove'],'unload':this['_onGSplatA'+'ssetUnload']},this),_0x422b8f['on']('remove',this['onRemoveCh'+'ild'],this),_0x422b8f['on']('removehier'+'archy',this['onRemoveCh'+'ild'],this),_0x422b8f['on']('insert',this['onInsertCh'+'ild'],this),_0x422b8f['on']('inserthier'+'archy',this['onInsertCh'+'ild'],this));}set['customAabb'](_0x381509){var _0x26e7a1,_0x52736b;this['_customAab'+'b']=_0x381509,(_0x52736b=(_0x26e7a1=this['_instance'])==null?void(-0x132d*0x2+-0x95e+0x7f4*0x6):_0x26e7a1['meshInstan'+'ce'])==null||_0x52736b['setCustomA'+'abb'](this['_customAab'+'b']);}get['customAabb'](){return this['_customAab'+'b'];}set['instance'](_0x4cbb74){if(this['destroyIns'+'tance'](),this['_instance']=_0x4cbb74,this['_instance']){const _0x4d2f9d=this['_instance']['meshInstan'+'ce'];_0x4d2f9d['node']||(_0x4d2f9d['node']=this['entity']),_0x4d2f9d['castShadow']=this['_castShado'+'ws'],_0x4d2f9d['setCustomA'+'abb'](this['_customAab'+'b']),this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}}get['instance'](){return this['_instance'];}set['material'](_0x37f954){this['_instance']?this['_instance']['material']=_0x37f954:this['_materialT'+'mp']=_0x37f954;}get['material'](){var _0x5305e8;return((_0x5305e8=this['_instance'])==null?void(-0x132a+0x2535+0x1f*-0x95):_0x5305e8['material'])??this['_materialT'+'mp']??null;}set['highQualit'+'ySH'](_0x2e5af3){_0x2e5af3!==this['_highQuali'+'tySH']&&(this['_highQuali'+'tySH']=_0x2e5af3,this['_instance']&&this['_instance']['setHighQua'+'litySH'](_0x2e5af3));}get['highQualit'+'ySH'](){return this['_highQuali'+'tySH'];}set['castShadow'+'s'](_0x55fe8a){var _0x1ddcff;if(this['_castShado'+'ws']!==_0x55fe8a){const _0x3d9cc5=(_0x1ddcff=this['instance'])==null?void(0xa*0x1e1+0x724+-0x1*0x19ee):_0x1ddcff['meshInstan'+'ce'];if(_0x3d9cc5){const _0x356612=this['layers'],_0x23e544=this['system']['app']['scene'];if(this['_castShado'+'ws']&&!_0x55fe8a)for(let _0x1da524=-0xc2f*0x1+-0x23d*-0xd+-0x10ea;_0x1da524<_0x356612['length'];_0x1da524++){const _0x139078=_0x23e544['layers']['getLayerBy'+'Id'](this['layers'][_0x1da524]);_0x139078&&_0x139078['removeShad'+'owCasters']([_0x3d9cc5]);}if(_0x3d9cc5['castShadow']=_0x55fe8a,!this['_castShado'+'ws']&&_0x55fe8a)for(let _0x1a076a=-0x5*-0x1c9+0x707+-0x2*0x7fa;_0x1a076a<_0x356612['length'];_0x1a076a++){const _0x3312fe=_0x23e544['layers']['getLayerBy'+'Id'](_0x356612[_0x1a076a]);_0x3312fe&&_0x3312fe['addShadowC'+'asters']([_0x3d9cc5]);}}this['_castShado'+'ws']=_0x55fe8a;}}get['castShadow'+'s'](){return this['_castShado'+'ws'];}set['layers'](_0x64f789){this['removeFrom'+'Layers'](),this['_layers']['length']=0x1340+-0x275*-0x6+0x13*-0x1ca;for(let _0x31bb22=-0x24ba+0x1bad+-0x1*-0x90d;_0x31bb22<_0x64f789['length'];_0x31bb22++)this['_layers'][_0x31bb22]=_0x64f789[_0x31bb22];!this['enabled']||!this['entity']['enabled']||this['addToLayer'+'s']();}get['layers'](){return this['_layers'];}set['asset'](_0xaa23a5){const _0x352e7e=_0xaa23a5 instanceof pe?_0xaa23a5['id']:_0xaa23a5;this['_assetRefe'+'rence']['id']!==_0x352e7e&&(this['_assetRefe'+'rence']['asset']&&this['_assetRefe'+'rence']['asset']['resource']&&this['_onGSplatA'+'ssetRemove'](),this['_assetRefe'+'rence']['id']=_0x352e7e,this['_assetRefe'+'rence']['asset']&&this['_onGSplatA'+'ssetAdded']());}get['asset'](){return this['_assetRefe'+'rence']['id'];}['destroyIns'+'tance'](){var _0x5a1bd0;this['_instance']&&(this['removeFrom'+'Layers'](),(_0x5a1bd0=this['_instance'])==null||_0x5a1bd0['destroy'](),this['_instance']=null);}['addToLayer'+'s'](){var _0x50fd58,_0x402c92;const _0x4884e1=(_0x50fd58=this['instance'])==null?void(0xeb*-0x29+-0xcd2+-0x3275*-0x1):_0x50fd58['meshInstan'+'ce'];if(_0x4884e1){const _0x2f4e5d=this['system']['app']['scene']['layers'];for(let _0x2d54a7=0x5*0x66d+0x541+-0x2562;_0x2d54a7<this['_layers']['length'];_0x2d54a7++)(_0x402c92=_0x2f4e5d['getLayerBy'+'Id'](this['_layers'][_0x2d54a7]))==null||_0x402c92['addMeshIns'+'tances']([_0x4884e1]);}}['removeFrom'+'Layers'](){var _0x1834e7,_0x572ffb;const _0x5e876c=(_0x1834e7=this['instance'])==null?void(-0x43*0x31+-0x167*0x8+0x180b):_0x1834e7['meshInstan'+'ce'];if(_0x5e876c){const _0x46a0b4=this['system']['app']['scene']['layers'];for(let _0x1dd922=-0x18*0xa7+-0x2b*0xb5+0x2e0f;_0x1dd922<this['_layers']['length'];_0x1dd922++)(_0x572ffb=_0x46a0b4['getLayerBy'+'Id'](this['_layers'][_0x1dd922]))==null||_0x572ffb['removeMesh'+'Instances']([_0x5e876c]);}}['onRemoveCh'+'ild'](){this['removeFrom'+'Layers']();}['onInsertCh'+'ild'](){this['_instance']&&this['enabled']&&this['entity']['enabled']&&this['addToLayer'+'s']();}['onRemove'](){this['destroyIns'+'tance'](),this['asset']=null,this['_assetRefe'+'rence']['id']=null,this['entity']['off']('remove',this['onRemoveCh'+'ild'],this),this['entity']['off']('insert',this['onInsertCh'+'ild'],this);}['onLayersCh'+'anged'](_0x1d1cba,_0x3a5049){this['addToLayer'+'s'](),_0x1d1cba['off']('add',this['onLayerAdd'+'ed'],this),_0x1d1cba['off']('remove',this['onLayerRem'+'oved'],this),_0x3a5049['on']('add',this['onLayerAdd'+'ed'],this),_0x3a5049['on']('remove',this['onLayerRem'+'oved'],this);}['onLayerAdd'+'ed'](_0x3c09e1){this['layers']['indexOf'](_0x3c09e1['id'])<-0x1c67+-0x21*0xea+0x3a91||this['_instance']&&_0x3c09e1['addMeshIns'+'tances'](this['_instance']['meshInstan'+'ce']);}['onLayerRem'+'oved'](_0x208ec6){this['layers']['indexOf'](_0x208ec6['id'])<0x839*0x3+-0x1643*-0x1+-0x2*0x1777||this['_instance']&&_0x208ec6['removeMesh'+'Instances'](this['_instance']['meshInstan'+'ce']);}['onEnable'](){const _0x3dce67=this['system']['app']['scene'],_0x4082c8=_0x3dce67['layers'];this['_evtLayers'+'Changed']=_0x3dce67['on']('set:layers',this['onLayersCh'+'anged'],this),_0x4082c8&&(this['_evtLayerA'+'dded']=_0x4082c8['on']('add',this['onLayerAdd'+'ed'],this),this['_evtLayerR'+'emoved']=_0x4082c8['on']('remove',this['onLayerRem'+'oved'],this)),this['_instance']?this['addToLayer'+'s']():this['asset']&&this['_onGSplatA'+'ssetAdded']();}['onDisable'](){var _0x130142,_0x29bf92,_0x4e769a;const _0x174c72=this['system']['app']['scene']['layers'];(_0x130142=this['_evtLayers'+'Changed'])==null||_0x130142['off'](),this['_evtLayers'+'Changed']=null,_0x174c72&&((_0x29bf92=this['_evtLayerA'+'dded'])==null||_0x29bf92['off'](),this['_evtLayerA'+'dded']=null,(_0x4e769a=this['_evtLayerR'+'emoved'])==null||_0x4e769a['off'](),this['_evtLayerR'+'emoved']=null),this['removeFrom'+'Layers']();}['hide'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(0x1*0xba3+-0x4*-0x227+0xa1f*-0x2));}['show'](){this['_instance']&&(this['_instance']['meshInstan'+'ce']['visible']=!(-0x1de8+0x7a0+0x1648));}['_onGSplatA'+'ssetAdded'](){this['_assetRefe'+'rence']['asset']&&(this['_assetRefe'+'rence']['asset']['resource']?this['_onGSplatA'+'ssetLoad']():this['enabled']&&this['entity']['enabled']&&this['system']['app']['assets']['load'](this['_assetRefe'+'rence']['asset']));}['_onGSplatA'+'ssetLoad'](){this['destroyIns'+'tance']();const _0x58023b=this['_assetRefe'+'rence']['asset'];_0x58023b&&(this['instance']=_0x58023b['resource']['createInst'+'ance'](_0x58023b['resource'],{'material':this['_materialT'+'mp'],'highQualitySH':this['_highQuali'+'tySH']}),this['_materialT'+'mp']=null,this['customAabb']=this['instance']['resource']['aabb']['clone']());}['_onGSplatA'+'ssetUnload'](){this['destroyIns'+'tance']();}['_onGSplatA'+'ssetRemove'](){this['_onGSplatA'+'ssetUnload']();}}class UF{constructor(){this['enabled']=!(0xcfc+-0x2638+0x193c);}}const Vu=['enabled'],To=['castShadow'+'s','material','highQualit'+'ySH','asset','layers'];class BF extends ct{constructor(_0x44a6a4){super(_0x44a6a4),this['id']='gsplat',this['ComponentT'+'ype']=y0,this['DataType']=UF,this['schema']=Vu,this['on']('beforeremo'+'ve',this['onRemove'],this);}['initialize'+'ComponentD'+'ata'](_0xa283a4,_0x4b42a3,_0x675efe){_0x4b42a3['layers']&&_0x4b42a3['layers']['length']&&(_0x4b42a3['layers']=_0x4b42a3['layers']['slice'](0x3*-0xa20+0x9c0+0x14a0));for(let _0x2ffb6c=-0x2*-0x281+-0x46b+-0x97;_0x2ffb6c<To['length'];_0x2ffb6c++)_0x4b42a3['hasOwnProp'+'erty'](To[_0x2ffb6c])&&(_0xa283a4[To[_0x2ffb6c]]=_0x4b42a3[To[_0x2ffb6c]]);_0x4b42a3['aabbCenter']&&_0x4b42a3['aabbHalfEx'+'tents']&&(_0xa283a4['customAabb']=new De(new D(_0x4b42a3['aabbCenter']),new D(_0x4b42a3['aabbHalfEx'+'tents']))),super['initialize'+'ComponentD'+'ata'](_0xa283a4,_0x4b42a3,Vu);}['cloneCompo'+'nent'](_0x37fe1d,_0x1fab1e){const _0x4e06fc=_0x37fe1d['gsplat'],_0x45c67d={};To['forEach'](_0x53b2e5=>{_0x53b2e5==='material'?_0x45c67d[_0x53b2e5]=_0x4e06fc[_0x53b2e5]['clone']():_0x45c67d[_0x53b2e5]=_0x4e06fc[_0x53b2e5];}),_0x45c67d['enabled']=_0x4e06fc['enabled'];const _0x587d5d=this['addCompone'+'nt'](_0x1fab1e,_0x45c67d);return _0x4e06fc['customAabb']&&(_0x587d5d['customAabb']=_0x4e06fc['customAabb']['clone']()),_0x587d5d;}['onRemove'](_0x19353c,_0x5d91e3){_0x5d91e3['onRemove']();}}we['_buildAcce'+'ssors'](y0['prototype'],Vu);class Em extends me{constructor(){super(...arguments),h(this,'_meshes',null);}set['meshes'](_0x3a959d){this['decRefMesh'+'es'](),this['_meshes']=_0x3a959d,this['incRefMesh'+'es'](),this['fire']('set:meshes',_0x3a959d);}get['meshes'](){return this['_meshes'];}['destroy'](){this['meshes']=null;}['decRefMesh'+'es'](){var _0x573de2;(_0x573de2=this['_meshes'])==null||_0x573de2['forEach']((_0x5cb49d,_0x126920)=>{_0x5cb49d&&(_0x5cb49d['decRefCoun'+'t'](),_0x5cb49d['refCount']<-0x1*0x7e1+0x9c0+-0x1de&&(_0x5cb49d['destroy'](),this['_meshes'][_0x126920]=null));});}['incRefMesh'+'es'](){var _0x49ac4d;(_0x49ac4d=this['_meshes'])==null||_0x49ac4d['forEach'](_0x43f462=>{_0x43f462==null||_0x43f462['incRefCoun'+'t']();});}}h(Em,'EVENT_SETM'+'ESHES','set:meshes');function sh(_0x5af002){const _0x4d9316=this;if(!_0x4d9316['resource'])return;const _0x143047=_0x5af002['resource'],_0x7b905a=_0x143047['renders']&&_0x143047['renders'][_0x4d9316['data']['renderInde'+'x']];_0x7b905a&&(_0x4d9316['resource']['meshes']=_0x7b905a['resource']['meshes']);}function pS(_0x2728f0){const _0x33a8c0=this;_0x33a8c0['registry']['off']('load:'+_0x2728f0['id'],sh,_0x33a8c0),_0x33a8c0['registry']['on']('load:'+_0x2728f0['id'],sh,_0x33a8c0),_0x33a8c0['registry']['off']('remove:'+_0x2728f0['id'],mS,_0x33a8c0),_0x33a8c0['registry']['once']('remove:'+_0x2728f0['id'],mS,_0x33a8c0),_0x2728f0['resource']?sh['call'](_0x33a8c0,_0x2728f0):_0x33a8c0['registry']['load'](_0x2728f0);}function mS(_0x181b02){const _0x2e2fce=this;_0x2e2fce['registry']['off']('load:'+_0x181b02['id'],sh,_0x2e2fce),_0x2e2fce['resource']&&_0x2e2fce['resource']['destroy']();}class zF extends Qe{constructor(_0x3dcc6f){super(_0x3dcc6f,'render'),this['_registry']=_0x3dcc6f['assets'];}['open'](_0x374403,_0x46292d){return new Em();}['patch'](_0x593320,_0x23882a){if(!_0x593320['data']['containerA'+'sset'])return;const _0x78576d=_0x23882a['get'](_0x593320['data']['containerA'+'sset']);if(!_0x78576d){_0x23882a['once']('add:'+_0x593320['data']['containerA'+'sset'],pS,_0x593320);return;}pS['call'](_0x593320,_0x78576d);}}class v0{constructor(_0xb809a3,_0x1142f4,_0x20e7e1,_0x188af5){this['_paths']=_0xb809a3,this['_input']=_0x1142f4,this['_output']=_0x20e7e1,this['_interpola'+'tion']=_0x188af5;}get['paths'](){return this['_paths'];}get['input'](){return this['_input'];}get['output'](){return this['_output'];}get['interpolat'+'ion'](){return this['_interpola'+'tion'];}}class Fh{constructor(_0x145c81,_0x59497a){this['_component'+'s']=_0x145c81,this['_data']=_0x59497a;}get['components'](){return this['_component'+'s'];}get['data'](){return this['_data'];}}function VF(_0x38a832,_0x3321ab){let _0x395d74;const _0x113fda=(_0x50f84c,_0x31faba)=>{switch(_0x31faba){case _0x395d74['DT_INT8']:return new Int8Array(_0x50f84c['buffer'],_0x50f84c['byteOffset'],_0x50f84c['byteLength']);case _0x395d74['DT_INT16']:return new Int16Array(_0x50f84c['buffer'],_0x50f84c['byteOffset'],_0x50f84c['byteLength']/(0xda3+0x2178+-0x2f19*0x1));case _0x395d74['DT_INT32']:return new Int32Array(_0x50f84c['buffer'],_0x50f84c['byteOffset'],_0x50f84c['byteLength']/(-0x1b9a+-0x201b+0x3bb9*0x1));case _0x395d74['DT_UINT8']:return new Uint8Array(_0x50f84c['buffer'],_0x50f84c['byteOffset'],_0x50f84c['byteLength']);case _0x395d74['DT_UINT16']:return new Uint16Array(_0x50f84c['buffer'],_0x50f84c['byteOffset'],_0x50f84c['byteLength']/(-0x2194+0x23db+-0x53*0x7));case _0x395d74['DT_UINT32']:return new Uint32Array(_0x50f84c['buffer'],_0x50f84c['byteOffset'],_0x50f84c['byteLength']/(0x5bf+0x2*-0x12b2+0x1fa9));case _0x395d74['DT_FLOAT32']:return new Float32Array(_0x50f84c['buffer'],_0x50f84c['byteOffset'],_0x50f84c['byteLength']/(0x264+0x235e+0x2*-0x12df));}return null;},_0x3bdc76=_0xb48b4a=>{switch(_0xb48b4a){case _0x395d74['DT_INT8']:return 0x4fe+0x2192+0x268f*-0x1;case _0x395d74['DT_INT16']:return-0x53f+-0x7*-0x271+-0x65*0x1e;case _0x395d74['DT_INT32']:return-0xc06*0x1+0x263*-0x6+-0x7*-0x3c4;case _0x395d74['DT_UINT8']:return 0xbbf*-0x2+-0x1b4c+0x32cb;case _0x395d74['DT_UINT16']:return 0x8f+-0x75f+-0x6d2*-0x1;case _0x395d74['DT_UINT32']:return 0x3*-0x187+-0x4b5*0x6+-0x20d7*-0x1;case _0x395d74['DT_FLOAT32']:return 0x2234+-0x1522+-0xd0e;}return 0xee3+0x89*0x1d+-0x1e67;},_0x34525d=_0x2df3b0=>_0x2df3b0['num_compon'+'ents']()*_0x3bdc76(_0x2df3b0['data_type']()),_0x41eb87={0x0:0x0,0x1:0x1,0x5:0x2,0x2:0x3,0x7:0x4,0x8:0x5,0x4:0x6,0x3:0x7},_0x376bd=(_0xbcd3b,_0x63561b)=>{const _0x2cf165=(_0x237d80,_0x592835,_0xbb2a)=>{_0x237d80[-0xc6*-0x2f+-0x1*-0x5dd+-0x2a37]=_0x592835[-0x2459+0xaf7*-0x1+0x2f50]-_0xbb2a[0x1ddb+0x5*-0x7ae+-0x3*-0x2d9],_0x237d80[0x28f*-0x4+0x1*0x8d1+0x16c]=_0x592835[0x1e86+-0x1e80+-0x5*0x1]-_0xbb2a[-0x2501+-0x1*-0x1364+-0x37*-0x52],_0x237d80[0x1c9*0x1+0x5*0x59d+-0x1dd8]=_0x592835[-0x67*0x53+-0x81*-0x30+0x937]-_0xbb2a[0x4b5*-0x1+0x2*-0x599+0xfe9];},_0x4f2bfa=(_0x327ae6,_0x23eccd,_0x16cc39)=>{_0x327ae6[0xf*-0x1ea+0x22b0+-0xaa*0x9]=_0x23eccd[-0x19db+-0xa1*0x31+-0x1*-0x38ad]*_0x16cc39[0x2b7+0x25c5+-0x287a]-_0x16cc39[0xcc7+0xa8b+-0x1751]*_0x23eccd[0x22f3+-0x3f1*-0x5+-0x36a6*0x1],_0x327ae6[-0x350+0x37+0x18d*0x2]=_0x23eccd[-0x2ce*0xa+-0x79c*0x1+0x1*0x23aa]*_0x16cc39[-0x1269*-0x1+0x9fa+-0x1*0x1c63]-_0x16cc39[0x23*0x9d+0x2612+-0x3b87]*_0x23eccd[-0xe*0x221+-0x3*-0x4ff+-0x1*-0xed1],_0x327ae6[-0x1*0x1fc9+-0x135*-0x17+-0x102*-0x4]=_0x23eccd[0x6*-0x52f+0xdf*-0xb+0x28af]*_0x16cc39[0x1872+0x1*0x45d+-0x1cce]-_0x16cc39[0x2*-0x8c8+0x2*-0xb45+0x281a]*_0x23eccd[0x443*0x6+-0x26e5+0xd54];},_0x19bd60=(_0x2390e3,_0x371d83)=>{const _0x423bc8=_0x2390e3[_0x371d83+(-0x12d0+-0x807+0x1ad7)],_0x3a9a58=_0x2390e3[_0x371d83+(0x2*-0xa2+-0x1acd*-0x1+-0x1988)],_0x54a43c=_0x2390e3[_0x371d83+(0x191e+0x2306*-0x1+0x9ea)],_0x5905b8=(-0x45f+0x1e*-0xc7+-0x5*-0x58a)/Math['sqrt'](_0x423bc8*_0x423bc8+_0x3a9a58*_0x3a9a58+_0x54a43c*_0x54a43c);_0x2390e3[_0x371d83+(-0x3e+-0x1c9d+0x1cdb)]*=_0x5905b8,_0x2390e3[_0x371d83+(0x2*0x11ef+-0x13ab+-0x1032)]*=_0x5905b8,_0x2390e3[_0x371d83+(-0x64c+-0x2*0xcb3+0x1fb4)]*=_0x5905b8;},_0x55e9da=(_0x118d5a,_0x366ef6,_0x932572)=>{for(let _0x3f6378=0x170a+0x1281+-0x5*0x84f;_0x3f6378<-0xfe6+-0x3d*0x6d+0x29e2;++_0x3f6378)_0x118d5a[_0x3f6378]=_0x366ef6[_0x932572+_0x3f6378];},_0x1331ed=_0x63561b['length']/(0x20cc*0x1+-0x4db*-0x1+-0x25a4),_0x14d42a=_0xbcd3b['length']/(0x21af+-0x1*0x1993+0x819*-0x1),_0x3157b1=new Float32Array(_0xbcd3b['length']),_0x3297d1=[-0x344+-0x40f+0x753,-0x112*-0x9+0x1a5*0x5+-0x11db,-0x134+-0x2b3+0x3e7],_0x48a3a7=[-0x1*0x1e86+0x2*0x9ff+0xa88,0x3*0x649+0x1e*-0xaa+-0x7*-0x27,0x20f4+-0x5*-0x753+0x7bb*-0x9],_0x436e4b=[0x1*-0x1c2+0x12*-0x6d+-0x324*-0x3,-0x511+-0x1a60+0xa7b*0x3,0x183+-0x2161*0x1+0x1fde*0x1],_0x11e87a=[0x2*-0x3ac+0x4*0x668+-0x1248,0x1*-0x1a91+-0xa99+-0x86*-0x47,0x43c+0x2111+-0x425*0x9],_0x20fe7c=[0x17*-0x5f+0xcba*-0x1+0x1543,-0x1258+-0x43a*-0x1+0xe1e*0x1,-0x1e8+-0x20cb+0x22b3],_0x19d26b=[0x1069*-0x1+-0x2b*-0x23+0xa88,-0x516+-0x25bc+0x2ad2,0x159f+0x1*-0x2bb+-0x12e4];for(let _0x4fa31c=-0x1f9f+0xd*-0x275+0x3f90;_0x4fa31c<_0x1331ed;++_0x4fa31c){const _0x37887d=_0x63561b[_0x4fa31c*(-0x1030+0x148a+-0x457)+(0x2300+0xc42+0x2e*-0x107)]*(0x2318+-0x5*-0x4f8+-0x3bed),_0x47e13e=_0x63561b[_0x4fa31c*(-0x14db+0x1d*0xb7+0x5*0x7)+(0x2081+0x7be*-0x3+-0x946)]*(-0x1742+0xbb6+0xb8f),_0x457be3=_0x63561b[_0x4fa31c*(0x1*-0x3ad+-0x1286+0x1636)+(-0x1235*0x2+-0x23b8+0x4824)]*(0x1830+0x98c+-0x61*0x59);_0x55e9da(_0x3297d1,_0xbcd3b,_0x37887d),_0x55e9da(_0x48a3a7,_0xbcd3b,_0x47e13e),_0x55e9da(_0x436e4b,_0xbcd3b,_0x457be3),_0x2cf165(_0x11e87a,_0x48a3a7,_0x3297d1),_0x2cf165(_0x20fe7c,_0x436e4b,_0x3297d1),_0x4f2bfa(_0x19d26b,_0x11e87a,_0x20fe7c),_0x19bd60(_0x19d26b,-0x1*0x929+0x133f+-0x50b*0x2);for(let _0x348391=-0xa37+0xb*0x1a1+0x2*-0x3da;_0x348391<-0xbb7*0x2+0x1c*-0x112+-0xb*-0x4db;++_0x348391)_0x3157b1[_0x37887d+_0x348391]+=_0x19d26b[_0x348391],_0x3157b1[_0x47e13e+_0x348391]+=_0x19d26b[_0x348391],_0x3157b1[_0x457be3+_0x348391]+=_0x19d26b[_0x348391];}for(let _0x5ec2cf=0x3*0x930+0x4*-0x4c+0xd30*-0x2;_0x5ec2cf<_0x14d42a;++_0x5ec2cf)_0x19bd60(_0x3157b1,_0x5ec2cf*(0x6ef+0x3ea*0x4+-0x55*0x44));return new Uint8Array(_0x3157b1['buffer']);},_0x32e421=_0xaf84b=>{const _0x48730e={},_0x4f37bc=new _0x395d74['DecoderBuf'+'fer']();_0x4f37bc['Init'](_0xaf84b,_0xaf84b['length']);const _0x28ee5a=new _0x395d74['Decoder']();if(_0x28ee5a['GetEncoded'+'GeometryTy'+'pe'](_0x4f37bc)!==_0x395d74['TRIANGULAR'+'_MESH'])return _0x48730e['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20mesh:\x20n'+'ot\x20a\x20mesh',_0x48730e;const _0x2a8eaf=new _0x395d74['Mesh'](),_0x2081f2=_0x28ee5a['DecodeBuff'+'erToMesh'](_0x4f37bc,_0x2a8eaf);if(!_0x2081f2||!_0x2081f2['ok']()||_0x395d74['getPointer'](_0x2a8eaf)===0x461+-0x1bf9+-0x8*-0x2f3)return _0x48730e['error']='Failed\x20to\x20'+'decode\x20dra'+'co\x20asset',_0x48730e;const _0x179a67=_0x2a8eaf['num_faces']()*(-0x1714+0x1*0x10f1+0x626*0x1),_0x135d48=_0x2a8eaf['num_points']()<=0x1*0x1ebf5+-0x16ca+0xe*-0xf3a,_0x19eb65=_0x179a67*(_0x135d48?-0xfd4+-0x229b+0x25*0x15d:-0x1b0f+0x3ec*-0x1+0x1eff),_0x2123b7=_0x395d74['_malloc'](_0x19eb65);_0x135d48?(_0x28ee5a['GetTriangl'+'esUInt16Ar'+'ray'](_0x2a8eaf,_0x19eb65,_0x2123b7),_0x48730e['indices']=new Uint16Array(_0x395d74['HEAPU16']['buffer'],_0x2123b7,_0x179a67)['slice']()['buffer']):(_0x28ee5a['GetTriangl'+'esUInt32Ar'+'ray'](_0x2a8eaf,_0x19eb65,_0x2123b7),_0x48730e['indices']=new Uint32Array(_0x395d74['HEAPU32']['buffer'],_0x2123b7,_0x179a67)['slice']()['buffer']),_0x395d74['_free'](_0x2123b7);const _0x262550=[];for(let _0x26d550=0x3*0x67a+-0x25a1+0x611*0x3;_0x26d550<_0x2a8eaf['num_attrib'+'utes']();++_0x26d550)_0x262550['push'](_0x28ee5a['GetAttribu'+'te'](_0x2a8eaf,_0x26d550));_0x262550['sort']((_0x52e3cd,_0x7f69e3)=>(_0x41eb87[_0x52e3cd['attribute_'+'type']()]??_0x41eb87['length'])-(_0x41eb87[_0x7f69e3['attribute_'+'type']()]??_0x41eb87['length'])),_0x48730e['attributes']=_0x262550['map'](_0x217a54=>_0x217a54['unique_id']());let _0x2c2e20=0x505+0x15cd+0x1*-0x1ad2;const _0x527a8e=_0x262550['map'](_0x5d4cb5=>{const _0x4e22cc=_0x2c2e20;return _0x2c2e20+=Math['ceil'](_0x34525d(_0x5d4cb5)/(0x15ad+0x3*0x452+0x1*-0x229f))*(0x1c7b+-0xd6*-0xc+-0x267f),_0x4e22cc;}),_0xd8a5e3=_0x262550['some'](_0x4ad888=>_0x4ad888['attribute_'+'type']()===0x3c7*-0x1+-0xbb8+-0x10*-0xf8),_0x422363=_0x527a8e[-0x46+-0x5b6+0x5fd];if(!_0xd8a5e3){for(let _0x24aab1=0x832*-0x3+0x139*0xb+0x3e*0x2e;_0x24aab1<_0x527a8e['length'];++_0x24aab1)_0x527a8e[_0x24aab1]+=0x2*-0x535+0x3*0x839+-0xe35;_0x2c2e20+=0x5*0x229+0x24c4+-0x981*0x5;}_0x48730e['vertices']=new ArrayBuffer(_0x2a8eaf['num_points']()*_0x2c2e20);const _0xdd81c2=new Uint8Array(_0x48730e['vertices']);for(let _0x4ca52e=0x1*-0x1a26+-0xe*0x2a5+0x3f2c*0x1;_0x4ca52e<_0x2a8eaf['num_attrib'+'utes']();++_0x4ca52e){const _0x170826=_0x262550[_0x4ca52e],_0x3a540a=_0x34525d(_0x170826),_0x4a29f6=_0x2a8eaf['num_points']()*_0x3a540a,_0x51d3b3=_0x395d74['_malloc'](_0x4a29f6);_0x28ee5a['GetAttribu'+'teDataArra'+'yForAllPoi'+'nts'](_0x2a8eaf,_0x170826,_0x170826['data_type'](),_0x4a29f6,_0x51d3b3);const _0x3136fd=new Uint8Array(_0x395d74['HEAPU8']['buffer'],_0x51d3b3,_0x4a29f6);for(let _0x207104=-0x693+0xfa*0xa+-0x331;_0x207104<_0x2a8eaf['num_points']();++_0x207104)for(let _0x2caec5=-0xc82+-0x71d*0x1+0x1*0x139f;_0x2caec5<_0x3a540a;++_0x2caec5)_0xdd81c2[_0x207104*_0x2c2e20+_0x527a8e[_0x4ca52e]+_0x2caec5]=_0x3136fd[_0x207104*_0x3a540a+_0x2caec5];if(!_0xd8a5e3&&_0x170826['attribute_'+'type']()===0x2654+0x22a4*-0x1+0x1d8*-0x2){const _0x3d7323=_0x376bd(_0x113fda(_0x3136fd,_0x170826['data_type']()),_0x135d48?new Uint16Array(_0x48730e['indices']):new Uint32Array(_0x48730e['indices']));for(let _0x12f9fe=0x25ed+-0x1d3c+0x1*-0x8b1;_0x12f9fe<_0x2a8eaf['num_points']();++_0x12f9fe)for(let _0x2005ed=-0x991+0x1038+-0x6a7;_0x2005ed<-0x6cc*0x3+-0x3d4*-0x7+0x2*-0x32e;++_0x2005ed)_0xdd81c2[_0x12f9fe*_0x2c2e20+_0x422363+_0x2005ed]=_0x3d7323[_0x12f9fe*(0x1a18+-0x131d+-0x6ef)+_0x2005ed];}_0x395d74['_free'](_0x51d3b3);}return _0x395d74['destroy'](_0x2a8eaf),_0x395d74['destroy'](_0x28ee5a),_0x395d74['destroy'](_0x4f37bc),_0x48730e;},_0x4e7f56=_0xe9e82b=>{const _0x27a38a=_0x32e421(new Uint8Array(_0xe9e82b['buffer']));self['postMessag'+'e']({'jobId':_0xe9e82b['jobId'],'error':_0x27a38a['error'],'indices':_0x27a38a['indices'],'vertices':_0x27a38a['vertices'],'attributes':_0x27a38a['attributes']},[_0x27a38a['indices'],_0x27a38a['vertices']]['filter'](_0x3d33fd=>_0x3d33fd!=null));},_0x44f1c5=[];self['onmessage']=_0x29a67b=>{const _0x453b50=_0x29a67b['data'];switch(_0x453b50['type']){case'init':self['DracoDecod'+'erModule']({'instantiateWasm':(_0x55e9b8,_0x7238c9)=>(WebAssembly['instantiat'+'e'](_0x453b50['module'],_0x55e9b8)['then'](_0x4f4b04=>_0x7238c9(_0x4f4b04))['catch'](_0x5bfc07=>console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x5bfc07)),{})})['then'](_0x150410=>{_0x395d74=_0x150410,_0x44f1c5['forEach'](_0x3ce2fd=>_0x4e7f56(_0x3ce2fd));});break;case'decodeMesh':_0x395d74?_0x4e7f56(_0x453b50):_0x44f1c5['push'](_0x453b50);break;}};}const _S=0x1af9+-0x1a7*0x15+0x7bd;class GF{constructor(){this['workers']=[[],[],[]],this['jobId']=0xaea+-0x17*-0x1a3+-0x1*0x308f,this['jobQueue']=[],this['jobCallbac'+'ks']=new Map(),this['run']=(_0x1a7f4f,_0x478370)=>{_0x1a7f4f['postMessag'+'e']({'type':'decodeMesh','jobId':_0x478370['jobId'],'buffer':_0x478370['buffer']},[_0x478370['buffer']]);};}['init'](_0x3128c6){for(_0x3128c6['forEach'](_0x663a46=>{_0x663a46['addEventLi'+'stener']('message',_0x2409a4=>{const _0x1c7e9e=_0x2409a4['data'],_0x42d835=this['jobCallbac'+'ks']['get'](_0x1c7e9e['jobId']);if(_0x42d835&&_0x42d835(_0x1c7e9e['error'],{'indices':_0x1c7e9e['indices'],'vertices':_0x1c7e9e['vertices'],'attributes':_0x1c7e9e['attributes']}),this['jobCallbac'+'ks']['delete'](_0x1c7e9e['jobId']),this['jobQueue']['length']>-0x985*-0x3+0x178d+-0x341c){const _0x5d2087=this['jobQueue']['shift']();this['run'](_0x663a46,_0x5d2087);}else{const _0x2ca620=this['workers'][0x2469+0x224b+-0x2359*0x2]['indexOf'](_0x663a46);if(_0x2ca620!==-(0x20ce+0xe*0x182+-0x35e9))this['workers'][0xcfa+-0x2318+0x1620]['splice'](_0x2ca620,0x2*0x1257+0x169d+0x3b4a*-0x1),this['workers'][0xc2+-0x1*-0x1b95+0x4b9*-0x6]['push'](_0x663a46);else{const _0x427fb4=this['workers'][-0xd43*-0x1+0x141*-0x1d+0x171b]['indexOf'](_0x663a46);_0x427fb4!==-(-0x12bd+-0xa4*0x38+-0x2*-0x1b4f)?(this['workers'][0x19ad+0xfe7+-0x2993]['splice'](_0x427fb4,-0x3*-0x73f+0x3d*-0xa0+0x2*0x832),this['workers'][0x14ce+0x1*-0x20ff+0xc31]['push'](_0x663a46)):w['error']('logical\x20er'+'ror');}}});}),this['workers'][-0x3d*-0x5+0xa50+-0xb81]=_0x3128c6;this['jobQueue']['length']&&(this['workers'][-0x148f+0x10ac+0x3e3]['length']||this['workers'][0x83+-0x4*-0x6fb+-0x1c6e]['length']);){const _0x11c686=this['jobQueue']['shift']();if(this['workers'][0x195e+0x1*0x1587+-0x2ee5]['length']>0x6a*-0x35+-0x2472*-0x1+0x3a*-0x40){const _0x1100e8=this['workers'][0x1e5f+-0x1*0x2ab+0x4*-0x6ed]['shift']();this['workers'][0x22a3+0x7*0x307+0x1*-0x37d3]['push'](_0x1100e8),this['run'](_0x1100e8,_0x11c686);}else{const _0x54276e=this['workers'][0xc19*0x1+-0xdd*-0x1f+-0x26db]['shift']();this['workers'][0x949+0x8*-0x24e+0x1d5*0x5]['push'](_0x54276e),this['run'](_0x54276e,_0x11c686);}}}['enqueueJob'](_0x3aa12a,_0x30842e){const _0x56555e={'jobId':this['jobId']++,'buffer':_0x3aa12a};if(this['jobCallbac'+'ks']['set'](_0x56555e['jobId'],_0x30842e),this['workers'][0x209a+0x25b*-0x5+0x3*-0x6f1]['length']>0x255f+-0x1d22+-0x83d){const _0x2b8464=this['workers'][0x1297+-0x394*-0x8+-0x4f*0x99]['shift']();this['workers'][-0x10f1*-0x1+0x2602+0x36f2*-0x1]['push'](_0x2b8464),this['run'](_0x2b8464,_0x56555e);}else{if(this['workers'][-0x1fa9+-0x1f3d*0x1+-0x1*-0x3ee7]['length']>0x16aa*0x1+0x1eec+-0x3596){const _0x23de6a=this['workers'][0x1*0x827+-0x25b*-0x7+-0x18a3]['shift']();this['workers'][-0x290+-0x8ed+0x9*0x147]['push'](_0x23de6a),this['run'](_0x23de6a,_0x56555e);}else this['jobQueue']['push'](_0x56555e);}}}const HF=_0x480096=>new Promise((_0x485148,_0x511f10)=>{const _0x29fb9b={'cache':!(0x1998+0x6a*0x17+0x1d*-0x136),'responseType':'text','retry':_S>0xf31*-0x2+0x2a6+-0xa*-0x2c6,'maxRetries':_S};ot['get'](_0x480096,_0x29fb9b,(_0x2a0bd6,_0x8c4256)=>{_0x2a0bd6?_0x511f10(_0x2a0bd6):_0x485148(_0x8c4256);});}),WF=_0x4780a9=>{const _0x496572=()=>fetch(_0x4780a9)['then'](_0x3e3bc3=>_0x3e3bc3['arrayBuffe'+'r']())['then'](_0x4deeba=>WebAssembly['compile'](_0x4deeba)),_0x3705a3=()=>WebAssembly['compileStr'+'eaming'](fetch(_0x4780a9))['catch'](_0x466d42=>(w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x4780a9+'\x20('+_0x466d42+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x496572()));return WebAssembly['compileStr'+'eaming']?_0x3705a3():_0x496572();},gS=0x25da+0xcc1*-0x2+-0x1b*0x75;let ih;const $F=_0x1419c6=>{if(ih)return!(0x170e+-0x13d*0x17+0x56d);if(!_0x1419c6){const _0xd9e849=YS['getConfig']('DracoDecod'+'erModule');_0xd9e849?_0x1419c6={'jsUrl':_0xd9e849['glueUrl'],'wasmUrl':_0xd9e849['wasmUrl'],'numWorkers':_0xd9e849['numWorkers']}:_0x1419c6={'jsUrl':'draco.wasm'+'.js','wasmUrl':'draco.wasm'+'.wasm','numWorkers':gS};}return!_0x1419c6['jsUrl']||!_0x1419c6['wasmUrl']?!(0x1a63+0x21e4+-0x3c46):(ih=new GF(),Promise['all']([HF(_0x1419c6['jsUrl']),WF(_0x1419c6['wasmUrl'])])['then'](([_0x3e391e,_0xe8c4c7])=>{const _0x42f283=['/*\x20draco\x20*'+'/',_0x3e391e,'/*\x20worker\x20'+'*/','(\x0a'+VF['toString']()+'\x0a)()\x0a\x0a']['join']('\x0a'),_0xddfb7e=new Blob([_0x42f283],{'type':'applicatio'+'n/javascri'+'pt'}),_0x7ab8ca=URL['createObje'+'ctURL'](_0xddfb7e),_0x55285a=Math['max'](-0x2*-0x1359+0x80f*-0x1+-0x1ea2,Math['min'](-0x16*0x85+-0x94d+0x14cb,_0x1419c6['numWorkers']||gS)),_0x27f01d=[];for(let _0x388446=-0x8de+-0x21f7+0x2ad5*0x1;_0x388446<_0x55285a;++_0x388446){const _0x47e394=new Worker(_0x7ab8ca);_0x47e394['postMessag'+'e']({'type':'init','module':_0xe8c4c7}),_0x27f01d['push'](_0x47e394);}ih['init'](_0x27f01d);}),!(-0xd*0x2df+0x631+0x1f22));},XF=(_0x590e01,_0xaaa759)=>$F()?(ih['enqueueJob'](_0x590e01,_0xaaa759),!(-0x22f1*-0x1+0x1606+-0x38f7)):!(-0xbcb+0x1*0x829+0x3a3);class qF{constructor(){h(this,'gltf'),h(this,'nodes'),h(this,'scenes'),h(this,'animations'),h(this,'textures'),h(this,'materials'),h(this,'variants'),h(this,'meshVarian'+'ts'),h(this,'meshDefaul'+'tMaterials'),h(this,'renders'),h(this,'skins'),h(this,'lights'),h(this,'cameras'),h(this,'nodeInstan'+'cingMap');}['destroy'](){this['renders']&&this['renders']['forEach'](_0x4f85d5=>{_0x4f85d5['meshes']=null;});}}const x0=_0x213a16=>/^data:[^\n\r,\u2028\u2029]*,.*$/i['test'](_0x213a16),jF=_0x40da8c=>_0x40da8c['substring'](_0x40da8c['indexOf'](':')+(0x857+0x18fa+0x29*-0xd0),_0x40da8c['indexOf'](';')),yl=_0x4379e9=>{switch(_0x4379e9){case'SCALAR':return 0x1380+-0x1dcd+0x2*0x527;case'VEC2':return-0x17f3+-0xd5*0x2d+0x3a*0x10f;case'VEC3':return-0x1826+-0x3*0xb4d+0x8*0x742;case'VEC4':return 0x416*-0x2+-0x174*-0x5+-0xec*-0x1;case'MAT2':return-0x20d5+-0x104c+0x3125;case'MAT3':return 0x1861+-0x6*0x356+-0x454;case'MAT4':return 0x624+0x482*-0x3+0x772;default:return-0x1*0x26fd+-0x1b2+0x1459*0x2;}},Dd=_0x5b0cf6=>{switch(_0x5b0cf6){case-0x1a7a+-0x1081*-0x1+-0x1df9*-0x1:return dd;case-0x2557+0x211c+-0xc1e*-0x2:return la;case-0x1*-0x728+0x207*0x13+-0x19ab:return fd;case 0x37b+-0x8ec+0x1974:return Ml;case-0x24c4+-0x16*0x1a9+-0x3*-0x1f1a:return Ty;case-0x1f2+0x3*0x87e+-0x383:return el;case 0x12a2+-0x243d+0x1*0x25a1:return Ve;default:return 0x84e+-0x1ca8+0x145a;}},YF=_0x4b4144=>{switch(_0x4b4144){case 0x1d5*-0x6+0x5de+0x1920:return-0x305*-0x2+-0x1e73+0x186a;case 0x1*0x1465+0x382+-0x3e6:return 0x1202+-0x1949+0x748;case-0x2227+-0x1ce+0x37f7*0x1:return-0x13f*0x9+0x1a5a*0x1+-0xf21*0x1;case-0xa2a+0x187f+0x5ae*0x1:return-0x882+-0x1a5*-0xc+-0xb38;case 0x2*0x25b+0x4*-0x997+-0x2*-0x1ad5:return 0x23d7+0x137*0x14+-0x3c1f;case 0x1646+-0x56e+0x1*0x32d:return 0x1a4d*-0x1+-0x920+0x2371;case 0xf4a+-0xe74+-0x10*-0x133:return 0x16a2*0x1+-0x3*0x72d+0x9*-0x1f;default:return 0x4e*-0x7d+0x21f4*0x1+0x422;}},KF=_0x54e0a3=>{switch(_0x54e0a3){case 0x365+-0x5*0x2f9+0x1f78:return Int8Array;case-0x55c+-0x1d45+-0x4a*-0xbd:return Uint8Array;case-0x1*0xe7d+-0x152e+0x37ad:return Int16Array;case 0x1b8d+0x6c9+0x1*-0xe53:return Uint16Array;case-0x18dd+-0x218*0xe+0x4a31:return Int32Array;case-0x15bb*0x1+0x174+0x284c*0x1:return Uint32Array;case-0x24df+0x1*0x228f+0x1*0x1656:return Float32Array;default:return null;}},Nh={'POSITION':Me,'NORMAL':gs,'TANGENT':yi,'COLOR_0':Wt,'JOINTS_0':us,'WEIGHTS_0':gi,'TEXCOORD_0':is,'TEXCOORD_1':ba,'TEXCOORD_2':wl,'TEXCOORD_3':El,'TEXCOORD_4':bl,'TEXCOORD_5':Al,'TEXCOORD_6':Cl,'TEXCOORD_7':Pl},SS={[Me]:-0x18a0+-0xbf+0x195f*0x1,[gs]:0x22be+0xcce+-0xfd9*0x3,[yi]:0x24db+-0x250b+-0x2*-0x19,[Wt]:0x350+-0x1*0xc17+-0x2d*-0x32,[us]:-0x1*-0x135a+-0x89f+0xd*-0xd3,[gi]:-0x12ff+-0x22b3+0x35b7*0x1,[is]:0x2*0x1066+-0x4*-0x94f+0x4602*-0x1,[ba]:0x978+-0x5*0x491+0xd64,[wl]:-0x2*-0x22+-0x574+0x538,[El]:-0x455*-0x6+-0xd3d*-0x1+0x1399*-0x2,[bl]:0x9*-0x445+0x1*0xfd3+0x16a4,[Al]:-0x2388+0x3*-0xec+0x5*0x7ab,[Cl]:-0x14e7+0xf3f*0x1+-0x5b4*-0x1,[Pl]:0x10a*0x19+0x3ad+-0x1d9a},ZF=_0x11e440=>{switch(_0x11e440){case dd:return _0x365bcd=>Math['max'](_0x365bcd/(-0xd2c+-0x1859*0x1+0x2604),-(-0x1024+0x1ddd*-0x1+0x2e02));case la:return _0x21c3ce=>_0x21c3ce/(-0x184e+-0x30*-0x5d+0x7dd);case fd:return _0x6d8cd=>Math['max'](_0x6d8cd/(-0x3*0x4d01+0x3e96+0x1286c),-(0x593+-0xbe*-0x17+-0x16a4));case Ml:return _0x3af888=>_0x3af888/(-0x14a5d+0x1a3e1*-0x1+0x3ee3d*0x1);default:return _0x2c1468=>_0x2c1468;}},Gu=(_0xf8c435,_0x53ffb7,_0xe45a4f)=>{const _0x55211c=ZF(_0xe45a4f),_0xba476e=_0x53ffb7['length'];for(let _0x56fbac=-0x1bbc+-0x581*0x3+0xf1*0x2f;_0x56fbac<_0xba476e;++_0x56fbac)_0xf8c435[_0x56fbac]=_0x55211c(_0x53ffb7[_0x56fbac]);return _0xf8c435;},ua=(_0x5ae146,_0x4db5f7,_0x26d632=!(0x2682+-0x2*-0x12f8+-0x4c71))=>{const _0x117ce4=yl(_0x5ae146['type']),_0x3550de=KF(_0x5ae146['componentT'+'ype']);if(!_0x3550de)return null;let _0x2d621b;if(_0x5ae146['sparse']){const _0x4d4209=_0x5ae146['sparse'],_0x3203fd={'count':_0x4d4209['count'],'type':'SCALAR'},_0x4c5ea5=ua(Object['assign'](_0x3203fd,_0x4d4209['indices']),_0x4db5f7,!(-0x25*0x83+0x261a*0x1+-0x132b)),_0x463020={'count':_0x4d4209['count'],'type':_0x5ae146['type'],'componentType':_0x5ae146['componentT'+'ype']},_0x28fbd5=ua(Object['assign'](_0x463020,_0x4d4209['values']),_0x4db5f7,!(-0x1326+-0x4e*0x1a+-0x302*-0x9));if(_0x5ae146['hasOwnProp'+'erty']('bufferView')){const _0x23188f={'bufferView':_0x5ae146['bufferView'],'byteOffset':_0x5ae146['byteOffset'],'componentType':_0x5ae146['componentT'+'ype'],'count':_0x5ae146['count'],'type':_0x5ae146['type']};_0x2d621b=ua(_0x23188f,_0x4db5f7,!(0xbf*-0x31+0x29d+-0xb*-0x316))['slice']();}else _0x2d621b=new _0x3550de(_0x5ae146['count']*_0x117ce4);for(let _0x505575=0x1*-0x19de+0x117c+-0x1*-0x862;_0x505575<_0x4d4209['count'];++_0x505575){const _0x45dbdc=_0x4c5ea5[_0x505575];for(let _0x2f93e5=0x7*0x7f+0x9d9+-0xd52;_0x2f93e5<_0x117ce4;++_0x2f93e5)_0x2d621b[_0x45dbdc*_0x117ce4+_0x2f93e5]=_0x28fbd5[_0x505575*_0x117ce4+_0x2f93e5];}}else{if(_0x5ae146['hasOwnProp'+'erty']('bufferView')){const _0x206a37=_0x4db5f7[_0x5ae146['bufferView']];if(_0x26d632&&_0x206a37['hasOwnProp'+'erty']('byteStride')){const _0x3c84d0=_0x117ce4*_0x3550de['BYTES_PER_'+'ELEMENT'],_0x2d32a2=new ArrayBuffer(_0x5ae146['count']*_0x3c84d0),_0x5502f8=new Uint8Array(_0x2d32a2);let _0x1e35e3=0x12ce+0x58a*-0x4+0x35a;for(let _0x3e3da0=-0x137*-0xb+0x2705+0x53d*-0xa;_0x3e3da0<_0x5ae146['count'];++_0x3e3da0){let _0x52c0fa=(_0x5ae146['byteOffset']||0x1*-0x2c8+-0x6*-0x5ff+-0x2132)+_0x3e3da0*_0x206a37['byteStride'];for(let _0x39e901=0xf03+-0xa24*-0x2+0x2b7*-0xd;_0x39e901<_0x3c84d0;++_0x39e901)_0x5502f8[_0x1e35e3++]=_0x206a37[_0x52c0fa++];}_0x2d621b=new _0x3550de(_0x2d32a2);}else _0x2d621b=new _0x3550de(_0x206a37['buffer'],_0x206a37['byteOffset']+(_0x5ae146['byteOffset']||0xbf2+-0x214+0x3*-0x34a),_0x5ae146['count']*_0x117ce4);}else _0x2d621b=new _0x3550de(_0x5ae146['count']*_0x117ce4);}return _0x2d621b;},Pn=(_0x5bd826,_0x5e044e)=>{const _0x31f75a=ua(_0x5bd826,_0x5e044e,!(-0x6a3*0x2+0x23ed+-0x16a7));if(_0x31f75a instanceof Float32Array||!_0x5bd826['normalized'])return _0x31f75a;const _0x485899=new Float32Array(_0x31f75a['length']);return Gu(_0x485899,_0x31f75a,Dd(_0x5bd826['componentT'+'ype'])),_0x485899;},Hu=_0x3a07ea=>{let _0x3fa33f=_0x3a07ea['min'],_0x350e57=_0x3a07ea['max'];if(!_0x3fa33f||!_0x350e57)return null;if(_0x3a07ea['normalized']){const _0xbe6f20=Dd(_0x3a07ea['componentT'+'ype']);_0x3fa33f=Gu([],_0x3fa33f,_0xbe6f20),_0x350e57=Gu([],_0x350e57,_0xbe6f20);}return new De(new D((_0x350e57[0x1258+-0x14e7+0x28f]+_0x3fa33f[0x2*0x996+0x1619*0x1+-0x2945])*(0x836+0x29*-0xac+0x1356+0.5),(_0x350e57[-0x24a2+0x103e+0x1465]+_0x3fa33f[0x17*-0x80+0x1280+-0x1*0x6ff])*(0x3*-0x143+0xde7+0x7*-0x172+0.5),(_0x350e57[-0x26c8+0x2246+0x484]+_0x3fa33f[-0x1*-0x511+0x1ee8+-0x23f7])*(-0x4b*0x25+0xd07+0x1*-0x230+0.5)),new D((_0x350e57[-0x1b4f+-0x8bf+-0xd*-0x2c6]-_0x3fa33f[0x13f+-0x25f*0x4+0x83d])*(-0xbd7*0x1+-0xcf8+-0xdb*-0x1d+0.5),(_0x350e57[-0x1f09+-0x1*-0x1337+0xbd3*0x1]-_0x3fa33f[0x168+0x1e35*-0x1+-0x3*-0x99a])*(0x1979+0x2145+-0x3abe+0.5),(_0x350e57[-0x129d+0xa7d+0x822]-_0x3fa33f[-0xad8+-0x3*0xcdd+0x3171])*(-0x5ae+0x1*0x18da+-0x132c+0.5)));},T0=_0x52db80=>{if(!_0x52db80['hasOwnProp'+'erty']('mode'))return js;switch(_0x52db80['mode']){case 0x26e6+0x35*-0x57+-0x14e3:return cd;case 0x1*0x18e1+0x11e9*0x1+0x9*-0x4c1:return hd;case 0x1*-0xa35+0x3df+0x658:return _y;case-0x1e34*-0x1+-0xe*0x27+-0x1c0f:return gy;case-0x48b*-0x7+0x89b*0x1+-0x2864:return js;case 0x2*0x67f+-0xba*0x2c+0x12ff:return Er;case 0x4b8+-0x61e+0x16c:return oa;default:return js;}},QF=_0x12f6d9=>{const _0x551558=new Uint16Array(_0x12f6d9);for(let _0x38c184=-0xbdf*-0x3+0x2*0x7c0+-0x331d;_0x38c184<_0x12f6d9;_0x38c184++)_0x551558[_0x38c184]=_0x38c184;return _0x551558;},JF=(_0x24deb2,_0x496ae9)=>{const _0x157f62=_0x24deb2[Me];if(!_0x157f62||_0x157f62['components']!==-0x24b4+-0x1b*0x11b+0x163*0x30)return;let _0x59ec2e;if(_0x157f62['size']!==_0x157f62['stride']){const _0x45bc78=_0x157f62['stride']/No[_0x157f62['type']],_0x1a804e=new wn[_0x157f62['type']](_0x157f62['buffer'],_0x157f62['offset'],_0x157f62['count']*_0x45bc78);_0x59ec2e=new wn[_0x157f62['type']](_0x157f62['count']*(0x1ada+0xa43+0x62f*-0x6));for(let _0x56460d=0x8bb+-0x608*-0x5+-0x26e3;_0x56460d<_0x157f62['count'];++_0x56460d)_0x59ec2e[_0x56460d*(0x172b+-0x306*0xa+0x12e*0x6)+(-0x44a+0x114e+-0xd04)]=_0x1a804e[_0x56460d*_0x45bc78+(-0xdce+-0x8cf+0x1*0x169d)],_0x59ec2e[_0x56460d*(0xc3*0x1d+-0x16*0x167+0x463*0x2)+(-0x1cb3+0x7*0x49+0x1ab5)]=_0x1a804e[_0x56460d*_0x45bc78+(0x13*-0x19b+-0xc89*-0x3+-0x1*0x719)],_0x59ec2e[_0x56460d*(-0x6ef+0x3*0x1d2+0x17c)+(-0x795+-0x214f*0x1+0x28e6)]=_0x1a804e[_0x56460d*_0x45bc78+(-0x2001+0x1b2e+0x4d5*0x1)];}else _0x59ec2e=new wn[_0x157f62['type']](_0x157f62['buffer'],_0x157f62['offset'],_0x157f62['count']*(0x15+-0x4d4+-0x15*-0x3a));const _0x1787d0=_0x157f62['count'];_0x496ae9||(_0x496ae9=QF(_0x1787d0));const _0x195e94=Iv(_0x59ec2e,_0x496ae9),_0x2a5816=new Float32Array(_0x195e94['length']);_0x2a5816['set'](_0x195e94),_0x24deb2[gs]={'buffer':_0x2a5816['buffer'],'size':0xc,'offset':0x0,'stride':0xc,'count':_0x1787d0,'components':0x3,'type':Ve};},eN=_0x41e503=>{const _0x2ea2af=_0x3bcfa4=>{const _0xbe13d8=[];for(let _0x40d701=-0x1c90+-0x5cb*0x1+-0x6df*-0x5;_0x40d701<_0x3bcfa4['_levels']['length'];++_0x40d701){let _0x5d1529=[];if(_0x3bcfa4['cubemap']){for(let _0x4e0d8e=-0x10*-0x14f+0x1db6+-0x1*0x32a6;_0x4e0d8e<-0x9*0x15+0x1ef5+-0x2*0xf19;++_0x4e0d8e)_0x5d1529['push'](_0x3bcfa4['_levels'][_0x40d701][_0x4e0d8e]);}else _0x5d1529=_0x3bcfa4['_levels'][_0x40d701];_0xbe13d8['push'](_0x5d1529);}return _0xbe13d8;},_0x341ada=new _e(_0x41e503['device'],_0x41e503);return _0x341ada['_levels']=_0x2ea2af(_0x41e503),_0x341ada;},tN=_0x1af696=>{const _0x4941fe=new pe(_0x1af696['name']+'_clone',_0x1af696['type'],_0x1af696['file'],_0x1af696['data'],_0x1af696['options']);return _0x4941fe['loaded']=!(0x44f+-0xd3a+0x1*0x8eb),_0x4941fe['resource']=eN(_0x1af696['resource']),_0x1af696['registry']['add'](_0x4941fe),_0x4941fe;},sN=(_0x59c194,_0x503d8b)=>{const _0x3fd343=_0x503d8b[Me];if(!_0x3fd343)return null;const _0x2a60b8=_0x3fd343['count'],_0x3153d1=[];for(const _0x332222 in _0x503d8b)if(_0x503d8b['hasOwnProp'+'erty'](_0x332222)){const _0xdcf3c6={'semantic':_0x332222,'components':_0x503d8b[_0x332222]['components'],'type':_0x503d8b[_0x332222]['type'],'normalize':!!_0x503d8b[_0x332222]['normalize']};kt['isElementV'+'alid'](_0x59c194,_0xdcf3c6)||_0xdcf3c6['components']++,_0x3153d1['push'](_0xdcf3c6);}_0x3153d1['sort']((_0x1a2d68,_0x526660)=>SS[_0x1a2d68['semantic']]-SS[_0x526660['semantic']]);let _0x43ff52,_0xd9eccf,_0x101f60,_0xa16ebb,_0x2d0288,_0x4e70a4;const _0x8699e0=new kt(_0x59c194,_0x3153d1);let _0x148c11=!(0x3*-0x346+-0x119f+0x1b71);for(_0x43ff52=0xa21*-0x2+-0x1*0x2321+0x3763;_0x43ff52<_0x8699e0['elements']['length'];++_0x43ff52)if(_0x2d0288=_0x8699e0['elements'][_0x43ff52],_0xa16ebb=_0x503d8b[_0x2d0288['name']],_0x4e70a4=_0xa16ebb['offset']-_0x3fd343['offset'],_0xa16ebb['buffer']!==_0x3fd343['buffer']||_0xa16ebb['stride']!==_0x2d0288['stride']||_0xa16ebb['size']!==_0x2d0288['size']||_0x4e70a4!==_0x2d0288['offset']){_0x148c11=!(0x1c8a+0x3ec*0x2+-0x8b*0x43);break;}const _0x48759a=new Is(_0x59c194,_0x8699e0,_0x2a60b8),_0x4b0a75=_0x48759a['lock'](),_0x8d9ad4=new Uint32Array(_0x4b0a75);let _0x5ac467;if(_0x148c11)_0x5ac467=new Uint32Array(_0x3fd343['buffer'],_0x3fd343['offset'],_0x2a60b8*_0x48759a['format']['size']/(0x2100+-0x3*-0x472+-0x2e52)),_0x8d9ad4['set'](_0x5ac467);else{let _0x57716b,_0x305f22;for(_0x43ff52=-0x1*-0x769+0xc7d+0x9*-0x236;_0x43ff52<_0x48759a['format']['elements']['length'];++_0x43ff52){_0x2d0288=_0x48759a['format']['elements'][_0x43ff52],_0x57716b=_0x2d0288['stride']/(-0x1240+-0x3d*-0x3b+0x435),_0xa16ebb=_0x503d8b[_0x2d0288['name']],_0x305f22=_0xa16ebb['stride']/(0x111a*0x1+0x145e+-0x2574),_0x5ac467=new Uint32Array(_0xa16ebb['buffer'],_0xa16ebb['offset'],(_0xa16ebb['count']-(0x232*-0x9+0x1ec4+-0x9*0x139))*_0x305f22+(_0xa16ebb['size']+(0x25b5+0x1*-0x827+-0x1d8b))/(0xad8+0x1ff0+-0x2e*0xee));let _0x5d6613=-0x8ae+-0x61*-0x27+0x619*-0x1,_0x26a5cf=_0x2d0288['offset']/(0x1b27+-0x1*-0x1fd4+-0x3af7*0x1);const _0x46c71e=Math['floor']((_0xa16ebb['size']+(-0xc95*-0x1+-0x1264+0x5d2))/(-0xac6*-0x3+-0x26c7+0x679));for(_0xd9eccf=-0x788+-0xa40+0x8*0x239;_0xd9eccf<_0x2a60b8;++_0xd9eccf){for(_0x101f60=0x242f+0x1199+0x8*-0x6b9;_0x101f60<_0x46c71e;++_0x101f60)_0x8d9ad4[_0x26a5cf+_0x101f60]=_0x5ac467[_0x5d6613+_0x101f60];_0x5d6613+=_0x305f22,_0x26a5cf+=_0x57716b;}}}return _0x48759a['unlock'](),_0x48759a;},iN=(_0x220497,_0x37de88,_0x8db136,_0x9915a0,_0x5cf5c6,_0x3722b6)=>{const _0x352017={},_0x48a8ea=[];for(const _0x5f485c in _0x37de88)_0x37de88['hasOwnProp'+'erty'](_0x5f485c)&&Nh['hasOwnProp'+'erty'](_0x5f485c)&&(_0x352017[_0x5f485c]=_0x37de88[_0x5f485c],_0x48a8ea['push'](_0x5f485c+':'+_0x37de88[_0x5f485c]));_0x48a8ea['sort']();const _0x2edcea=_0x48a8ea['join']();let _0x5c0764=_0x3722b6[_0x2edcea];if(!_0x5c0764){const _0x31767d={};for(const _0x498c15 in _0x352017){const _0x27ac9e=_0x9915a0[_0x37de88[_0x498c15]],_0x3ab038=ua(_0x27ac9e,_0x5cf5c6),_0x58a461=_0x5cf5c6[_0x27ac9e['bufferView']],_0x24119d=Nh[_0x498c15],_0x3b5cf7=yl(_0x27ac9e['type'])*YF(_0x27ac9e['componentT'+'ype']),_0x35b202=_0x58a461&&_0x58a461['hasOwnProp'+'erty']('byteStride')?_0x58a461['byteStride']:_0x3b5cf7;_0x31767d[_0x24119d]={'buffer':_0x3ab038['buffer'],'size':_0x3b5cf7,'offset':_0x3ab038['byteOffset'],'stride':_0x35b202,'count':_0x27ac9e['count'],'components':yl(_0x27ac9e['type']),'type':Dd(_0x27ac9e['componentT'+'ype']),'normalize':_0x27ac9e['normalized']};}_0x31767d['hasOwnProp'+'erty'](gs)||JF(_0x31767d,_0x8db136),_0x5c0764=sN(_0x220497,_0x31767d),_0x3722b6[_0x2edcea]=_0x5c0764;}return _0x5c0764;},rN=(_0x5e7ae2,_0x2b37da,_0x233cc4,_0x186548,_0x3e4194,_0x3a0cab)=>{let _0x149f25,_0x28c70f,_0xf25ce8;const _0xb622e0=_0x2b37da['joints'],_0x1f8391=_0xb622e0['length'],_0x43edab=[];if(_0x2b37da['hasOwnProp'+'erty']('inverseBin'+'dMatrices')){const _0x56c3d0=_0x2b37da['inverseBin'+'dMatrices'],_0x45f878=ua(_0x233cc4[_0x56c3d0],_0x186548,!(-0x11*0x229+0x268a+-0x1d1)),_0x426f2c=[];for(_0x149f25=-0x17a0+-0x2*0x102f+-0x2*-0x1bff;_0x149f25<_0x1f8391;_0x149f25++){for(_0x28c70f=-0xa4*-0x25+0x2070+-0x3824;_0x28c70f<0xce2+-0x1*0x3e5+-0x8ed;_0x28c70f++)_0x426f2c[_0x28c70f]=_0x45f878[_0x149f25*(-0x49*0x8+0x7*-0x48d+0x6d7*0x5)+_0x28c70f];_0xf25ce8=new te(),_0xf25ce8['set'](_0x426f2c),_0x43edab['push'](_0xf25ce8);}}else{for(_0x149f25=-0x236c+-0x1198*0x1+0x3504;_0x149f25<_0x1f8391;_0x149f25++)_0xf25ce8=new te(),_0x43edab['push'](_0xf25ce8);}const _0x158e2=[];for(_0x149f25=-0x2526+-0x656+0x2b7c;_0x149f25<_0x1f8391;_0x149f25++)_0x158e2[_0x149f25]=_0x3e4194[_0xb622e0[_0x149f25]]['name'];const _0x4498b3=_0x158e2['join']('#');let _0x2fa490=_0x3a0cab['get'](_0x4498b3);return _0x2fa490||(_0x2fa490=new Lv(_0x5e7ae2,_0x43edab,_0x158e2),_0x3a0cab['set'](_0x4498b3,_0x2fa490)),_0x2fa490;},aN=(_0xafa250,_0x5aa14b,_0x216ce2,_0xb806f3,_0x21d0a0,_0x52902e,_0x2bab08)=>{var _0x4a9d49;const _0x4fa960=new Ge(_0xafa250);_0x4fa960['aabb']=Hu(_0x216ce2[_0x5aa14b['attributes']['POSITION']]);const _0x4a9be8=[];for(const [_0xa639ff,_0x3f6941]of Object['entries'](_0x5aa14b['attributes'])){const _0x864db5=_0x216ce2[_0x3f6941],_0x163f36=Nh[_0xa639ff],_0x4ce01a=Dd(_0x864db5['componentT'+'ype']);_0x4a9be8['push']({'semantic':_0x163f36,'components':yl(_0x864db5['type']),'type':_0x4ce01a,'normalize':_0x864db5['normalized']??(_0x163f36===Wt&&(_0x4ce01a===la||_0x4ce01a===Ml))});}if(_0x2bab08['push'](new Promise((_0x1bbf50,_0x4c448f)=>{const _0x5ddec0=_0x5aa14b['extensions']['KHR_draco_'+'mesh_compr'+'ession'];XF(_0xb806f3[_0x5ddec0['bufferView']]['slice']()['buffer'],(_0x44fc14,_0x274c4c)=>{var _0x4a3b50;if(_0x44fc14)console['log'](_0x44fc14),_0x4c448f(_0x44fc14);else{const _0x4e2984={};for(const [_0x45bec9,_0x51f38b]of Object['entries'](_0x5ddec0['attributes']))_0x4e2984[Nh[_0x45bec9]]=_0x274c4c['attributes']['indexOf'](_0x51f38b);_0x4a9be8['sort']((_0x114fd6,_0x579b9b)=>_0x4e2984[_0x114fd6['semantic']]-_0x4e2984[_0x579b9b['semantic']]),(_0x4a3b50=_0x5aa14b['attributes'])!=null&&_0x4a3b50['NORMAL']||_0x4a9be8['splice'](0x5*-0x5bd+0x2*-0x10ca+-0x14c2*-0x3,0x1d02+-0x1ee8+0x1e6,{'semantic':'NORMAL','components':0x3,'type':Ve});const _0x24e91f=new kt(_0xafa250,_0x4a9be8),_0x14a367=_0x274c4c['vertices']['byteLength']/_0x24e91f['size'],_0x465419=_0x14a367<=-0x161ee*0x1+-0xb973+-0x12f0*-0x2a?Yi:wr,_0x4f512d=_0x274c4c['indices']['byteLength']/(_0x14a367<=0xf9b*0x1d+-0x1d5*-0x8b+-0x1*0x1c337?-0x2*0x497+0x241c+-0x2*0xd76:0x4b1*-0x3+-0x3a*-0x3d+0x45);w['call'](()=>{_0x14a367!==_0x216ce2[_0x5aa14b['attributes']['POSITION']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ver'+'tex\x20count'),_0x4f512d!==_0x216ce2[_0x5aa14b['indices']]['count']&&w['warn']('mesh\x20has\x20i'+'nvalid\x20ind'+'ex\x20count');});const _0xbf0225=new Is(_0xafa250,_0x24e91f,_0x14a367,{'data':_0x274c4c['vertices']}),_0x5ec9b4=new br(_0xafa250,_0x465419,_0x4f512d,ms,_0x274c4c['indices']);_0x4fa960['vertexBuff'+'er']=_0xbf0225,_0x4fa960['indexBuffe'+'r'][0x156c+-0x250d+0xfa1]=_0x5ec9b4,_0x4fa960['primitive'][-0x223f+0x621*-0x5+0x40e4]['type']=T0(_0x5aa14b),_0x4fa960['primitive'][0x30*0xa+0xf3+-0x2d3]['base']=0x14d5+-0x2259+0xd84,_0x4fa960['primitive'][0x1e8a+0xa8b+0x1*-0x2915]['count']=_0x5ec9b4?_0x4f512d:_0x14a367,_0x4fa960['primitive'][-0x277*-0x5+-0x791+-0x2*0x261]['indexed']=!!_0x5ec9b4,_0x1bbf50();}});})),(_0x4a9d49=_0x5aa14b==null?void(-0x2*-0xbaa+0x14bf+-0x2c13):_0x5aa14b['extensions'])!=null&&_0x4a9d49['KHR_materi'+'als_varian'+'ts']){const _0x1cbca4=_0x5aa14b['extensions']['KHR_materi'+'als_varian'+'ts'],_0x1bc566={};_0x1cbca4['mappings']['forEach'](_0x2978e9=>{_0x2978e9['variants']['forEach'](_0x2df6a4=>{_0x1bc566[_0x2df6a4]=_0x2978e9['material'];});}),_0x21d0a0[_0x4fa960['id']]=_0x1bc566;}return _0x52902e[_0x4fa960['id']]=_0x5aa14b['material'],_0x4fa960;},nN=(_0x439de3,_0x14c264,_0x3bf0f7,_0x101ae4,_0x5c753c,_0x197c79,_0x3d41a7,_0x9d828d,_0x2c16a0)=>{const _0x25b13d=[];return _0x14c264['primitives']['forEach'](_0x4b63ce=>{var _0x11b21c;if((_0x11b21c=_0x4b63ce['extensions'])!=null&&_0x11b21c['KHR_draco_'+'mesh_compr'+'ession'])_0x25b13d['push'](aN(_0x439de3,_0x4b63ce,_0x3bf0f7,_0x101ae4,_0x197c79,_0x3d41a7,_0x2c16a0));else{let _0x1bf4be=_0x4b63ce['hasOwnProp'+'erty']('indices')?ua(_0x3bf0f7[_0x4b63ce['indices']],_0x101ae4,!(0x208b*-0x1+0xb24+0x1567)):null;const _0x11cb10=iN(_0x439de3,_0x4b63ce['attributes'],_0x1bf4be,_0x3bf0f7,_0x101ae4,_0x5c753c),_0x1ceb9e=T0(_0x4b63ce),_0x4b60e5=new Ge(_0x439de3);if(_0x4b60e5['vertexBuff'+'er']=_0x11cb10,_0x4b60e5['primitive'][-0x116*-0x1d+0x97*0x2+-0x20ac]['type']=_0x1ceb9e,_0x4b60e5['primitive'][0x183*-0xc+0x1*-0x1d6+0x13fa]['base']=0xd60+-0xc67+-0xf9,_0x4b60e5['primitive'][-0x1957+0x831+0x1126]['indexed']=_0x1bf4be!==null,_0x1bf4be!==null){let _0x25278a;_0x1bf4be instanceof Uint8Array?_0x25278a=$f:_0x1bf4be instanceof Uint16Array?_0x25278a=Yi:_0x25278a=wr,_0x25278a===$f&&_0x439de3['isWebGPU']&&(_0x25278a=Yi,_0x1bf4be=new Uint16Array(_0x1bf4be));const _0x422dca=new br(_0x439de3,_0x25278a,_0x1bf4be['length'],ms,_0x1bf4be);_0x4b60e5['indexBuffe'+'r'][-0x1ba+-0x996*0x2+0x14e6]=_0x422dca,_0x4b60e5['primitive'][-0xda2+-0x24b5+0x7*0x731]['count']=_0x1bf4be['length'];}else _0x4b60e5['primitive'][0x6d*-0x34+0x97*-0x2+0xc7*0x1e]['count']=_0x11cb10['numVertice'+'s'];if(_0x4b63ce['hasOwnProp'+'erty']('extensions')&&_0x4b63ce['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts')){const _0x33aa08=_0x4b63ce['extensions']['KHR_materi'+'als_varian'+'ts'],_0x211dfa={};_0x33aa08['mappings']['forEach'](_0x5bed37=>{_0x5bed37['variants']['forEach'](_0x19e4f2=>{_0x211dfa[_0x19e4f2]=_0x5bed37['material'];});}),_0x197c79[_0x4b60e5['id']]=_0x211dfa;}_0x3d41a7[_0x4b60e5['id']]=_0x4b63ce['material'];let _0x227332=_0x3bf0f7[_0x4b63ce['attributes']['POSITION']];if(_0x4b60e5['aabb']=Hu(_0x227332),_0x4b63ce['hasOwnProp'+'erty']('targets')){const _0xc9d584=[];_0x4b63ce['targets']['forEach']((_0x2a7ae0,_0x3c3a0b)=>{const _0x2a1e5c={};_0x2a7ae0['hasOwnProp'+'erty']('POSITION')&&(_0x227332=_0x3bf0f7[_0x2a7ae0['POSITION']],_0x2a1e5c['deltaPosit'+'ions']=Pn(_0x227332,_0x101ae4),_0x2a1e5c['aabb']=Hu(_0x227332)),_0x2a7ae0['hasOwnProp'+'erty']('NORMAL')&&(_0x227332=_0x3bf0f7[_0x2a7ae0['NORMAL']],_0x2a1e5c['deltaNorma'+'ls']=Pn(_0x227332,_0x101ae4)),_0x14c264['hasOwnProp'+'erty']('extras')&&_0x14c264['extras']['hasOwnProp'+'erty']('targetName'+'s')?_0x2a1e5c['name']=_0x14c264['extras']['targetName'+'s'][_0x3c3a0b]:_0x2a1e5c['name']=_0x3c3a0b['toString'](0x1*0x1fc7+0x4cd+-0x248a),_0x14c264['hasOwnProp'+'erty']('weights')&&(_0x2a1e5c['defaultWei'+'ght']=_0x14c264['weights'][_0x3c3a0b]),_0x2a1e5c['preserveDa'+'ta']=_0x9d828d['morphPrese'+'rveData'],_0xc9d584['push'](new Md(_0x2a1e5c));}),_0x4b60e5['morph']=new mm(_0xc9d584,_0x439de3,{'preferHighPrecision':_0x9d828d['morphPrefe'+'rHighPreci'+'sion']});}_0x25b13d['push'](_0x4b60e5);}}),_0x25b13d;},Dt=(_0x1582da,_0x566b49,_0x525e19)=>{var _0x4f4b71;let _0x376401;const _0x22b5f1=_0x1582da['texCoord'];if(_0x22b5f1){for(_0x376401=-0x4ce+0x2326+0x1e58*-0x1;_0x376401<_0x525e19['length'];++_0x376401)_0x566b49[_0x525e19[_0x376401]+'MapUv']=_0x22b5f1;}const _0xf271a6=[-0x15f1+-0x18d0+-0x1*-0x2ec1,0x3be*0x1+-0x179b+0x13dd],_0x1dd1ca=[0x660+-0x71*0x3d+0x148e,-0x23cf+0x1240+0x119*0x10],_0x18c0d8=(_0x4f4b71=_0x1582da['extensions'])==null?void(0x16bf+-0x119f+0x20*-0x29):_0x4f4b71['KHR_textur'+'e_transfor'+'m'];if(_0x18c0d8){const _0x29d92c=_0x18c0d8['offset']||_0xf271a6,_0x3a2b23=_0x18c0d8['scale']||_0x1dd1ca,_0x1afcef=_0x18c0d8['rotation']?-_0x18c0d8['rotation']*Y['RAD_TO_DEG']:0x1*-0x68f+-0xea5+0x54d*0x4,_0x172f23=new J(_0x3a2b23[-0x1*0x24c1+-0x1c9+0x268a*0x1],_0x3a2b23[0x2*0x23c+0x8d1+-0xd48]),_0x299e9a=new J(_0x29d92c[-0x2461+-0xc*-0x2a9+0x475],0x2*-0x7fd+-0x137c+0x2377-_0x3a2b23[-0x1*0xbf+-0x7cf+0x88f]-_0x29d92c[0x1c64+0x1*-0x5e3+0x3c*-0x60]);for(_0x376401=0x74*0x3a+0x8e9*0x1+0x7*-0x507;_0x376401<_0x525e19['length'];++_0x376401)_0x566b49[_0x525e19[_0x376401]+'MapTiling']=_0x172f23,_0x566b49[_0x525e19[_0x376401]+'MapOffset']=_0x299e9a,_0x566b49[_0x525e19[_0x376401]+('MapRotatio'+'n')]=_0x1afcef;}},oN=(_0x2d04bf,_0x2792ad,_0x3b7001)=>{let _0x595c2c,_0x2ebfdf;if(_0x2d04bf['hasOwnProp'+'erty']('diffuseFac'+'tor')?(_0x595c2c=_0x2d04bf['diffuseFac'+'tor'],_0x2792ad['diffuse']['set'](Math['pow'](_0x595c2c[0x9*0x3d7+-0x1*-0x2353+-0x45e2],(0x40+-0x4*-0x1fd+-0x833)/(-0xc58+0xbca+0x2*0x48+0.20000000000000018)),Math['pow'](_0x595c2c[-0x92d+0x2*0x64c+0x1b5*-0x2],(0x2b*0xd9+-0x4d3*-0x7+0xe0b*-0x5)/(-0x2653+-0x55*-0x4c+0xd19+0.20000000000000018)),Math['pow'](_0x595c2c[-0x154c+-0xb9*-0x1d+0x59],(0x7d*0x4+-0x1410+-0x1*-0x121d)/(-0xc12+0x896+0x37e+0.20000000000000018))),_0x2792ad['opacity']=_0x595c2c[-0x2*0x84b+-0x2*-0x106a+-0x569*0x3]):(_0x2792ad['diffuse']['set'](0x21e9+0x122*-0x2+-0x1fa4,-0x5*-0x40a+-0x2ea+0x1*-0x1147,0xb23+0x11e*0x14+-0x217a),_0x2792ad['opacity']=0x21a4+-0x215d+-0x46),_0x2d04bf['hasOwnProp'+'erty']('diffuseTex'+'ture')){const _0x2bcc77=_0x2d04bf['diffuseTex'+'ture'];_0x2ebfdf=_0x3b7001[_0x2bcc77['index']],_0x2792ad['diffuseMap']=_0x2ebfdf,_0x2792ad['diffuseMap'+'Channel']='rgb',_0x2792ad['opacityMap']=_0x2ebfdf,_0x2792ad['opacityMap'+'Channel']='a',Dt(_0x2bcc77,_0x2792ad,['diffuse','opacity']);}if(_0x2792ad['useMetalne'+'ss']=!(-0x4*0x8ec+-0x1c91+-0x92e*-0x7),_0x2d04bf['hasOwnProp'+'erty']('specularFa'+'ctor')?(_0x595c2c=_0x2d04bf['specularFa'+'ctor'],_0x2792ad['specular']['set'](Math['pow'](_0x595c2c[-0x102f*-0x2+0x7bd+-0x281b],(-0x9be*-0x2+0x1c3e+0x2fb9*-0x1)/(0x29e+0x1a0+-0x43c+0.20000000000000018)),Math['pow'](_0x595c2c[-0x22a4+0x1c31+-0x1c*-0x3b],(-0x19f8*0x1+-0xfb4+0x29ad)/(0x23c2+0x3*-0x420+-0x1*0x1760+0.20000000000000018)),Math['pow'](_0x595c2c[-0x42e*-0x2+0x145e+0xe5c*-0x2],(0x23ad*-0x1+-0x1cc9+0x3*0x157d)/(-0x10d9+0x14da+-0x3ff+0.20000000000000018)))):_0x2792ad['specular']['set'](0x62*-0x1+-0x3*-0x3fe+-0x81*0x17,0x79a*-0x5+0x2030+0x5d3,-0x232e+0xadb*-0x1+0x2e0a),_0x2d04bf['hasOwnProp'+'erty']('glossiness'+'Factor')?_0x2792ad['gloss']=_0x2d04bf['glossiness'+'Factor']:_0x2792ad['gloss']=-0x11*0x97+-0x1011+0x1*0x1a19,_0x2d04bf['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x2bd926=_0x2d04bf['specularGl'+'ossinessTe'+'xture'];_0x2792ad['specularMa'+'p']=_0x2792ad['glossMap']=_0x3b7001[_0x2bd926['index']],_0x2792ad['specularMa'+'pChannel']='rgb',_0x2792ad['glossMapCh'+'annel']='a',Dt(_0x2bd926,_0x2792ad,['gloss','metalness']);}},lN=(_0xa8df4e,_0x16ab59,_0x837cd)=>{if(_0xa8df4e['hasOwnProp'+'erty']('clearcoatF'+'actor')?_0x16ab59['clearCoat']=_0xa8df4e['clearcoatF'+'actor']*(-0x146b*-0x1+0x459*-0x1+-0x1012+0.25):_0x16ab59['clearCoat']=0x186e+-0x69b*0x1+0xa9*-0x1b,_0xa8df4e['hasOwnProp'+'erty']('clearcoatT'+'exture')){const _0x1389c8=_0xa8df4e['clearcoatT'+'exture'];_0x16ab59['clearCoatM'+'ap']=_0x837cd[_0x1389c8['index']],_0x16ab59['clearCoatM'+'apChannel']='r',Dt(_0x1389c8,_0x16ab59,['clearCoat']);}if(_0xa8df4e['hasOwnProp'+'erty']('clearcoatR'+'oughnessFa'+'ctor')?_0x16ab59['clearCoatG'+'loss']=_0xa8df4e['clearcoatR'+'oughnessFa'+'ctor']:_0x16ab59['clearCoatG'+'loss']=-0x810+0x1*-0x11a8+0x1*0x19b8,_0xa8df4e['hasOwnProp'+'erty']('clearcoatR'+'oughnessTe'+'xture')){const _0x353d95=_0xa8df4e['clearcoatR'+'oughnessTe'+'xture'];_0x16ab59['clearCoatG'+'lossMap']=_0x837cd[_0x353d95['index']],_0x16ab59['clearCoatG'+'lossMapCha'+'nnel']='g',Dt(_0x353d95,_0x16ab59,['clearCoatG'+'loss']);}if(_0xa8df4e['hasOwnProp'+'erty']('clearcoatN'+'ormalTextu'+'re')){const _0x5cbc71=_0xa8df4e['clearcoatN'+'ormalTextu'+'re'];_0x16ab59['clearCoatN'+'ormalMap']=_0x837cd[_0x5cbc71['index']],Dt(_0x5cbc71,_0x16ab59,['clearCoatN'+'ormal']),_0x5cbc71['hasOwnProp'+'erty']('scale')?_0x16ab59['clearCoatB'+'umpiness']=_0x5cbc71['scale']:_0x16ab59['clearCoatB'+'umpiness']=0x199d*-0x1+-0x7*0x3fd+-0x3589*-0x1;}_0x16ab59['clearCoatG'+'lossInvert']=!(0x97d*-0x1+0x10a9+-0x11*0x6c);},cN=(_0x53245e,_0x421f35,_0x209766)=>{_0x421f35['useLightin'+'g']=!(0x3*-0x794+-0xa0f+-0x2*-0x1066),_0x421f35['emissive']['copy'](_0x421f35['diffuse']),_0x421f35['emissiveMa'+'p']=_0x421f35['diffuseMap'],_0x421f35['emissiveMa'+'pUv']=_0x421f35['diffuseMap'+'Uv'],_0x421f35['emissiveMa'+'pTiling']['copy'](_0x421f35['diffuseMap'+'Tiling']),_0x421f35['emissiveMa'+'pOffset']['copy'](_0x421f35['diffuseMap'+'Offset']),_0x421f35['emissiveMa'+'pRotation']=_0x421f35['diffuseMap'+'Rotation'],_0x421f35['emissiveMa'+'pChannel']=_0x421f35['diffuseMap'+'Channel'],_0x421f35['emissiveVe'+'rtexColor']=_0x421f35['diffuseVer'+'texColor'],_0x421f35['emissiveVe'+'rtexColorC'+'hannel']=_0x421f35['diffuseVer'+'texColorCh'+'annel'],_0x421f35['useLightin'+'g']=!(-0x11*-0x9e+0xfd3+0x8*-0x34a),_0x421f35['useSkybox']=!(0x2179+-0x309+-0x1e6f),_0x421f35['diffuse']['set'](-0xa1*-0x2e+0x62*-0xb+-0x83d*0x3,-0x1d44+0x11f1+0xb54,-0xa2a+-0x1f1d+0x2948),_0x421f35['diffuseMap']=null,_0x421f35['diffuseVer'+'texColor']=!(-0x208c+-0x184d+0x38da);},hN=(_0x511fa0,_0xe15314,_0x463025)=>{if(_0xe15314['useMetalne'+'ssSpecular'+'Color']=!(-0x4a1+0xd9+-0x2c*-0x16),_0x511fa0['hasOwnProp'+'erty']('specularCo'+'lorTexture')&&(_0xe15314['specularMa'+'p']=_0x463025[_0x511fa0['specularCo'+'lorTexture']['index']],_0xe15314['specularMa'+'pChannel']='rgb',Dt(_0x511fa0['specularCo'+'lorTexture'],_0xe15314,['specular'])),_0x511fa0['hasOwnProp'+'erty']('specularCo'+'lorFactor')){const _0x21fb6c=_0x511fa0['specularCo'+'lorFactor'];_0xe15314['specular']['set'](Math['pow'](_0x21fb6c[0x2194+0x1*0x1bc4+-0x3d58],(0xcd*0x12+0x16b8+-0x1*0x2521)/(0x89a+-0x1*0x1bb0+-0x8*-0x263+0.20000000000000018)),Math['pow'](_0x21fb6c[-0x88e+0x209*0xd+-0x8f3*0x2],(-0x6*0x170+-0xf1*-0x1c+-0x11bb)/(-0x1*0x1e9e+-0x13*-0x101+0xb8d+0.20000000000000018)),Math['pow'](_0x21fb6c[-0x81a*0x3+0x6b+0x17e5],(-0x2b*-0xe3+-0x1*0x22f7+-0x329*0x1)/(-0x1*-0xa5b+-0x4d+-0xa0c+0.20000000000000018)));}else _0xe15314['specular']['set'](-0x5*0x427+-0x5fb*-0x5+-0x923*0x1,-0x753+-0x1*0x9fd+-0x155*-0xd,-0x19b1+-0x1*0x1393+0x2d45);_0x511fa0['hasOwnProp'+'erty']('specularFa'+'ctor')?_0xe15314['specularit'+'yFactor']=_0x511fa0['specularFa'+'ctor']:_0xe15314['specularit'+'yFactor']=0x1*-0x392+-0x9b1*-0x1+-0x20a*0x3,_0x511fa0['hasOwnProp'+'erty']('specularTe'+'xture')&&(_0xe15314['specularit'+'yFactorMap'+'Channel']='a',_0xe15314['specularit'+'yFactorMap']=_0x463025[_0x511fa0['specularTe'+'xture']['index']],Dt(_0x511fa0['specularTe'+'xture'],_0xe15314,['specularit'+'yFactor']));},dN=(_0x55fad7,_0x3ae793,_0x134561)=>{_0x55fad7['hasOwnProp'+'erty']('ior')&&(_0x3ae793['refraction'+'Index']=(-0xf76+0x1655+0x3*-0x24a)/_0x55fad7['ior']);},fN=(_0x21879a,_0x46449e,_0x55ad38)=>{_0x21879a['hasOwnProp'+'erty']('dispersion')&&(_0x46449e['dispersion']=_0x21879a['dispersion']);},uN=(_0xf69f97,_0x464d17,_0x615b24)=>{_0x464d17['blendType']=Zs,_0x464d17['useDynamic'+'Refraction']=!(0x233f+0x1a7d*0x1+-0x3dbc),_0xf69f97['hasOwnProp'+'erty']('transmissi'+'onFactor')&&(_0x464d17['refraction']=_0xf69f97['transmissi'+'onFactor']),_0xf69f97['hasOwnProp'+'erty']('transmissi'+'onTexture')&&(_0x464d17['refraction'+'MapChannel']='r',_0x464d17['refraction'+'Map']=_0x615b24[_0xf69f97['transmissi'+'onTexture']['index']],Dt(_0xf69f97['transmissi'+'onTexture'],_0x464d17,['refraction']));},pN=(_0x4cc801,_0x191896,_0x4d8ec5)=>{if(_0x191896['useSheen']=!(-0x1de5+-0x1*0x13d5+0x31ba),_0x4cc801['hasOwnProp'+'erty']('sheenColor'+'Factor')){const _0x17f9a8=_0x4cc801['sheenColor'+'Factor'];_0x191896['sheen']['set'](Math['pow'](_0x17f9a8[-0x65*-0x6+0x3d*0x23+-0xab5*0x1],(-0x223f*0x1+-0x2*-0xb89+0x6*0x1dd)/(0x1d16+-0x10a6*0x2+-0x9*-0x78+0.20000000000000018)),Math['pow'](_0x17f9a8[0x2*0xe22+-0x67*0x38+-0x5bb],(0x1d11*0x1+-0xc83*-0x1+0x1d*-0x16f)/(0x6*0x3b+0xd27+-0x1*0xe87+0.20000000000000018)),Math['pow'](_0x17f9a8[-0x16ff+-0x20d3*-0x1+-0x9d2],(0x1*-0x1719+-0x2*-0xd0c+-0x2fe)/(-0x129e*0x1+-0x65*-0x3d+-0x571+0.20000000000000018)));}else _0x191896['sheen']['set'](0x130b+0x3*0xf6+0x7a*-0x2e,0x1636+-0x1c34+0x133*0x5,0x31e*-0xc+-0xae9+0x3052*0x1);_0x4cc801['hasOwnProp'+'erty']('sheenColor'+'Texture')&&(_0x191896['sheenMap']=_0x4d8ec5[_0x4cc801['sheenColor'+'Texture']['index']],Dt(_0x4cc801['sheenColor'+'Texture'],_0x191896,['sheen'])),_0x191896['sheenGloss']=_0x4cc801['hasOwnProp'+'erty']('sheenRough'+'nessFactor')?_0x4cc801['sheenRough'+'nessFactor']:-0x12d5+0xc23+0x6b2,_0x4cc801['hasOwnProp'+'erty']('sheenRough'+'nessTextur'+'e')&&(_0x191896['sheenGloss'+'Map']=_0x4d8ec5[_0x4cc801['sheenRough'+'nessTextur'+'e']['index']],_0x191896['sheenGloss'+'MapChannel']='a',Dt(_0x4cc801['sheenRough'+'nessTextur'+'e'],_0x191896,['sheenGloss'])),_0x191896['sheenGloss'+'Invert']=!(0x1b37+-0x1bd+0x6*-0x43f);},mN=(_0x18e85c,_0x165dd3,_0x5523b3)=>{if(_0x165dd3['blendType']=Zs,_0x165dd3['useDynamic'+'Refraction']=!(0xd0f*-0x1+-0x1de2+0x2af1*0x1),_0x18e85c['hasOwnProp'+'erty']('thicknessF'+'actor')&&(_0x165dd3['thickness']=_0x18e85c['thicknessF'+'actor']),_0x18e85c['hasOwnProp'+'erty']('thicknessT'+'exture')&&(_0x165dd3['thicknessM'+'ap']=_0x5523b3[_0x18e85c['thicknessT'+'exture']['index']],_0x165dd3['thicknessM'+'apChannel']='g',Dt(_0x18e85c['thicknessT'+'exture'],_0x165dd3,['thickness'])),_0x18e85c['hasOwnProp'+'erty']('attenuatio'+'nDistance')&&(_0x165dd3['attenuatio'+'nDistance']=_0x18e85c['attenuatio'+'nDistance']),_0x18e85c['hasOwnProp'+'erty']('attenuatio'+'nColor')){const _0x516724=_0x18e85c['attenuatio'+'nColor'];_0x165dd3['attenuatio'+'n']['set'](Math['pow'](_0x516724[0x23*0x8+-0x2*-0x175+0x12*-0x39],(-0x12e5+-0x1*-0x2135+-0xe4f)/(0x1f4d*0x1+-0xc44+-0x1*0x1307+0.20000000000000018)),Math['pow'](_0x516724[-0x1*-0x229+-0x1b06*0x1+0x18de],(0x54b+0x11a5*0x1+-0x16ef)/(0x1*-0x853+0x259f+-0x17*0x146+0.20000000000000018)),Math['pow'](_0x516724[-0x929+-0x1c54+-0x1d*-0x14b],(-0xd*-0xeb+0x13fa+-0x1fe8)/(0x4cc+-0x3*-0x71d+-0x1*0x1a21+0.20000000000000018)));}},_N=(_0x520079,_0x5c1d38,_0x732b6f)=>{_0x520079['hasOwnProp'+'erty']('emissiveSt'+'rength')&&(_0x5c1d38['emissiveIn'+'tensity']=_0x520079['emissiveSt'+'rength']);},gN=(_0x28f55f,_0x29c4b6,_0x2a406f)=>{_0x29c4b6['useIridesc'+'ence']=!(-0x1014+-0xe0f+0x1e23),_0x28f55f['hasOwnProp'+'erty']('iridescenc'+'eFactor')&&(_0x29c4b6['iridescenc'+'e']=_0x28f55f['iridescenc'+'eFactor']),_0x28f55f['hasOwnProp'+'erty']('iridescenc'+'eTexture')&&(_0x29c4b6['iridescenc'+'eMapChanne'+'l']='r',_0x29c4b6['iridescenc'+'eMap']=_0x2a406f[_0x28f55f['iridescenc'+'eTexture']['index']],Dt(_0x28f55f['iridescenc'+'eTexture'],_0x29c4b6,['iridescenc'+'e'])),_0x28f55f['hasOwnProp'+'erty']('iridescenc'+'eIor')&&(_0x29c4b6['iridescenc'+'eRefractio'+'nIndex']=_0x28f55f['iridescenc'+'eIor']),_0x28f55f['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Minimum')&&(_0x29c4b6['iridescenc'+'eThickness'+'Min']=_0x28f55f['iridescenc'+'eThickness'+'Minimum']),_0x28f55f['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Maximum')&&(_0x29c4b6['iridescenc'+'eThickness'+'Max']=_0x28f55f['iridescenc'+'eThickness'+'Maximum']),_0x28f55f['hasOwnProp'+'erty']('iridescenc'+'eThickness'+'Texture')&&(_0x29c4b6['iridescenc'+'eThickness'+'MapChannel']='g',_0x29c4b6['iridescenc'+'eThickness'+'Map']=_0x2a406f[_0x28f55f['iridescenc'+'eThickness'+'Texture']['index']],Dt(_0x28f55f['iridescenc'+'eThickness'+'Texture'],_0x29c4b6,['iridescenc'+'eThickness']));},SN=(_0x547d52,_0x38ce4a,_0x325d97)=>{if(_0x38ce4a['enableGGXS'+'pecular']=!(-0x1150+-0x129*-0x1f+-0x12a7),_0x547d52['hasOwnProp'+'erty']('anisotropy'+'Strength')?_0x38ce4a['anisotropy'+'Intensity']=_0x547d52['anisotropy'+'Strength']:_0x38ce4a['anisotropy'+'Intensity']=0x455*0x1+-0x63*-0x49+0x412*-0x8,_0x547d52['hasOwnProp'+'erty']('anisotropy'+'Texture')){const _0x14684c=_0x547d52['anisotropy'+'Texture'];_0x38ce4a['anisotropy'+'Map']=_0x325d97[_0x14684c['index']],Dt(_0x14684c,_0x38ce4a,['anisotropy']);}_0x547d52['hasOwnProp'+'erty']('anisotropy'+'Rotation')?_0x38ce4a['anisotropy'+'Rotation']=_0x547d52['anisotropy'+'Rotation']*Y['RAD_TO_DEG']:_0x38ce4a['anisotropy'+'Rotation']=-0x16d7+0x1*-0x25b2+0x3c89;},w0=(_0x1c5a44,_0x3b3ff0)=>{const _0x58afeb=new Ut();_0x1c5a44['hasOwnProp'+'erty']('name')&&(_0x58afeb['name']=_0x1c5a44['name']),_0x58afeb['occludeSpe'+'cular']=bd,_0x58afeb['diffuseVer'+'texColor']=!(0x11e1+-0x54*-0x9+0x1*-0x14d5),_0x58afeb['specularTi'+'nt']=!(0x18ce+0x152b+-0xf53*0x3),_0x58afeb['specularVe'+'rtexColor']=!(0x2262+0x53a+0x9c*-0x41),_0x58afeb['specular']['set'](0x266f*0x1+0x1825+-0x3e93,-0x1d*0xa7+0x755*0x2+0x442,-0x4*0x19+0x716*-0x1+0x77b),_0x58afeb['gloss']=-0x115a+-0x120f+0x236a,_0x58afeb['glossInver'+'t']=!(0xadd*0x2+-0xdb8+-0x802),_0x58afeb['useMetalne'+'ss']=!(-0x23+0x11b0+-0x118d*0x1);let _0xc7e256,_0x4fd706;if(_0x1c5a44['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x475d9a=_0x1c5a44['pbrMetalli'+'cRoughness'];if(_0x475d9a['hasOwnProp'+'erty']('baseColorF'+'actor')&&(_0xc7e256=_0x475d9a['baseColorF'+'actor'],_0x58afeb['diffuse']['set'](Math['pow'](_0xc7e256[-0x3*0xb3+-0x1149+-0x676*-0x3],(0x888+-0x751*-0x1+-0xfd8)/(0x15*-0x19+-0x43*0x83+-0x4*-0x916+0.20000000000000018)),Math['pow'](_0xc7e256[0xbd7*-0x1+-0x11ec*0x2+-0x1*-0x2fb0],(-0x161+0x1*-0x100f+0x5*0x37d)/(0x22f1+0x22*-0xdd+-0x1*0x595+0.20000000000000018)),Math['pow'](_0xc7e256[0x35c+-0xdf*0x13+0x6d*0x1f],(0x4*0x347+-0x22b7+0x159c)/(-0xa1b+0x7*0x370+-0x1*0xdf3+0.20000000000000018))),_0x58afeb['opacity']=_0xc7e256[-0x27*-0x8e+-0x16ed+0x1*0x14e]),_0x475d9a['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x23bd96=_0x475d9a['baseColorT'+'exture'];_0x4fd706=_0x3b3ff0[_0x23bd96['index']],_0x58afeb['diffuseMap']=_0x4fd706,_0x58afeb['diffuseMap'+'Channel']='rgb',_0x58afeb['opacityMap']=_0x4fd706,_0x58afeb['opacityMap'+'Channel']='a',Dt(_0x23bd96,_0x58afeb,['diffuse','opacity']);}if(_0x475d9a['hasOwnProp'+'erty']('metallicFa'+'ctor')&&(_0x58afeb['metalness']=_0x475d9a['metallicFa'+'ctor']),_0x475d9a['hasOwnProp'+'erty']('roughnessF'+'actor')&&(_0x58afeb['gloss']=_0x475d9a['roughnessF'+'actor']),_0x475d9a['hasOwnProp'+'erty']('metallicRo'+'ughnessTex'+'ture')){const _0x5c30db=_0x475d9a['metallicRo'+'ughnessTex'+'ture'];_0x58afeb['metalnessM'+'ap']=_0x58afeb['glossMap']=_0x3b3ff0[_0x5c30db['index']],_0x58afeb['metalnessM'+'apChannel']='b',_0x58afeb['glossMapCh'+'annel']='g',Dt(_0x5c30db,_0x58afeb,['gloss','metalness']);}}if(_0x1c5a44['hasOwnProp'+'erty']('normalText'+'ure')){const _0x3e04bb=_0x1c5a44['normalText'+'ure'];_0x58afeb['normalMap']=_0x3b3ff0[_0x3e04bb['index']],Dt(_0x3e04bb,_0x58afeb,['normal']),_0x3e04bb['hasOwnProp'+'erty']('scale')&&(_0x58afeb['bumpiness']=_0x3e04bb['scale']);}if(_0x1c5a44['hasOwnProp'+'erty']('occlusionT'+'exture')){const _0x5e8b4e=_0x1c5a44['occlusionT'+'exture'];_0x58afeb['aoMap']=_0x3b3ff0[_0x5e8b4e['index']],_0x58afeb['aoMapChann'+'el']='r',Dt(_0x5e8b4e,_0x58afeb,['ao']);}if(_0x1c5a44['hasOwnProp'+'erty']('emissiveFa'+'ctor')&&(_0xc7e256=_0x1c5a44['emissiveFa'+'ctor'],_0x58afeb['emissive']['set'](Math['pow'](_0xc7e256[0x1ae2+-0x3a4+-0x7*0x352],(-0x1ed5+0xa82+0x515*0x4)/(0xbd5*0x2+-0xa1*-0x6+0x2*-0xdb7+0.20000000000000018)),Math['pow'](_0xc7e256[0xa7d+0x1*-0x16b7+0x65*0x1f],(-0x1642+0x18c8+0x1*-0x285)/(0x73c*0x3+-0x52*0x3e+0x5*-0x5e+0.20000000000000018)),Math['pow'](_0xc7e256[-0xd91+-0x109a+0x1e2d],(0x704*0x2+-0x30a*-0x8+-0x2657)/(0x1*0x551+-0x1b59+-0x3e*-0x5b+0.20000000000000018)))),_0x1c5a44['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x1c592b=_0x1c5a44['emissiveTe'+'xture'];_0x58afeb['emissiveMa'+'p']=_0x3b3ff0[_0x1c592b['index']],Dt(_0x1c592b,_0x58afeb,['emissive']);}if(_0x1c5a44['hasOwnProp'+'erty']('alphaMode'))switch(_0x1c5a44['alphaMode']){case'MASK':_0x58afeb['blendType']=Cs,_0x1c5a44['hasOwnProp'+'erty']('alphaCutof'+'f')?_0x58afeb['alphaTest']=_0x1c5a44['alphaCutof'+'f']:_0x58afeb['alphaTest']=0x2563+0x13*0x116+-0x3*0x1357+0.5;break;case'BLEND':_0x58afeb['blendType']=Zs,_0x58afeb['depthWrite']=!(0x3a*-0x9d+0xeb1+0x14e2);break;default:case'OPAQUE':_0x58afeb['blendType']=Cs;break;}else _0x58afeb['blendType']=Cs;_0x1c5a44['hasOwnProp'+'erty']('doubleSide'+'d')?(_0x58afeb['twoSidedLi'+'ghting']=_0x1c5a44['doubleSide'+'d'],_0x58afeb['cull']=_0x1c5a44['doubleSide'+'d']?bt:pa):(_0x58afeb['twoSidedLi'+'ghting']=!(-0xec5+-0x22*0x4+0xf4e),_0x58afeb['cull']=pa);const _0x5e5b14={'KHR_materials_clearcoat':lN,'KHR_materials_emissive_strength':_N,'KHR_materials_ior':dN,'KHR_materials_dispersion':fN,'KHR_materials_iridescence':gN,'KHR_materials_pbrSpecularGlossiness':oN,'KHR_materials_sheen':pN,'KHR_materials_specular':hN,'KHR_materials_transmission':uN,'KHR_materials_unlit':cN,'KHR_materials_volume':mN,'KHR_materials_anisotropy':SN};if(_0x1c5a44['hasOwnProp'+'erty']('extensions'))for(const _0x40d9b8 in _0x1c5a44['extensions']){const _0x4a307f=_0x5e5b14[_0x40d9b8];_0x4a307f!==void(0x1adf+-0x129f+-0x60*0x16)&&_0x4a307f(_0x1c5a44['extensions'][_0x40d9b8],_0x58afeb,_0x3b3ff0);}return _0x58afeb['update'](),_0x58afeb;},yN=(_0x13f209,_0x36aa97,_0x4b95c4,_0xc66488,_0x2c44f4,_0x43aa50,_0x39d7f1)=>{const _0x2a417c=_0x11508e=>new Fh(yl(_0x11508e['type']),Pn(_0x11508e,_0xc66488)),_0x240e33={'STEP':Bv,'LINEAR':Su,'CUBICSPLINE':yu},_0x2190ce={},_0x41db51={},_0x4700d9={};let _0x4306eb=-0x3e*-0x28+-0x270f*-0x1+0x16f*-0x22,_0x3c9856;for(_0x3c9856=0x2244+0x1bdf+-0x3e23;_0x3c9856<_0x13f209['samplers']['length'];++_0x3c9856){const _0x4c2224=_0x13f209['samplers'][_0x3c9856];_0x2190ce['hasOwnProp'+'erty'](_0x4c2224['input'])||(_0x2190ce[_0x4c2224['input']]=_0x2a417c(_0x4b95c4[_0x4c2224['input']])),_0x41db51['hasOwnProp'+'erty'](_0x4c2224['output'])||(_0x41db51[_0x4c2224['output']]=_0x2a417c(_0x4b95c4[_0x4c2224['output']]));const _0x1fa71c=_0x4c2224['hasOwnProp'+'erty']('interpolat'+'ion')&&_0x240e33['hasOwnProp'+'erty'](_0x4c2224['interpolat'+'ion'])?_0x240e33[_0x4c2224['interpolat'+'ion']]:Su,_0x55f48c={'paths':[],'input':_0x4c2224['input'],'output':_0x4c2224['output'],'interpolation':_0x1fa71c};_0x4700d9[_0x3c9856]=_0x55f48c;}const _0x1d28d2=[],_0x6949cf={'translation':'localPosit'+'ion','rotation':'localRotat'+'ion','scale':'localScale'},_0x443366=_0x5cf8f7=>{const _0x28676b=[];for(;_0x5cf8f7;)_0x28676b['unshift'](_0x5cf8f7['name']),_0x5cf8f7=_0x5cf8f7['parent'];return _0x28676b;},_0x2161e5=(_0x4a1ec6,_0x2fa8ff,_0x55b2e3)=>{const _0x544948=_0x41db51[_0x4a1ec6['output']];if(!_0x544948){w['warn']('glb-parser'+':\x20No\x20outpu'+'t\x20data\x20is\x20'+'available\x20'+'for\x20the\x20mo'+'rph\x20target'+'\x20curve\x20('+_0x55b2e3+('/graph/wei'+'ghts).\x20Ski'+'pping.'));return;}let _0x3f606e;if(_0x43aa50&&_0x43aa50[_0x2fa8ff['mesh']]){const _0x24a80f=_0x43aa50[_0x2fa8ff['mesh']];_0x24a80f['hasOwnProp'+'erty']('extras')&&_0x24a80f['extras']['hasOwnProp'+'erty']('targetName'+'s')&&(_0x3f606e=_0x24a80f['extras']['targetName'+'s']);}const _0xa32256=_0x544948['data'],_0x2bbc3=_0xa32256['length']/_0x2190ce[_0x4a1ec6['input']]['data']['length'],_0x31c297=_0xa32256['length']/_0x2bbc3,_0x288e19=_0x31c297*(0x12d2+0x1387*0x1+-0x1*0x2655),_0x139795=new ArrayBuffer(_0x288e19*_0x2bbc3);for(let _0xdba45=0x1b57+0x174f+-0x32a6;_0xdba45<_0x2bbc3;_0xdba45++){const _0x20c587=new Float32Array(_0x139795,_0x288e19*_0xdba45,_0x31c297);for(let _0x2fc9f6=0x1b8c+-0xa9*-0x1+-0x53*0x57;_0x2fc9f6<_0x31c297;_0x2fc9f6++)_0x20c587[_0x2fc9f6]=_0xa32256[_0x2fc9f6*_0x2bbc3+_0xdba45];const _0x1fc310=new Fh(-0x166a+0x3*0xbe6+-0xd47,_0x20c587),_0x574a29=_0x3f606e!=null&&_0x3f606e[_0xdba45]?'name.'+_0x3f606e[_0xdba45]:_0xdba45;_0x41db51[-_0x4306eb]=_0x1fc310;const _0x244710={'paths':[{'entityPath':_0x55b2e3,'component':'graph','propertyPath':['weight.'+_0x574a29]}],'input':_0x4a1ec6['input'],'output':-_0x4306eb,'interpolation':_0x4a1ec6['interpolat'+'ion']};_0x4306eb++,_0x4700d9['morphCurve'+'-'+_0x3c9856+'-'+_0xdba45]=_0x244710;}};for(_0x3c9856=0x28*-0x5f+-0xc*-0x1f7+0x2*-0x45e;_0x3c9856<_0x13f209['channels']['length'];++_0x3c9856){const _0x184061=_0x13f209['channels'][_0x3c9856],_0x4a43df=_0x184061['target'],_0x219ac9=_0x4700d9[_0x184061['sampler']],_0x518702=_0x2c44f4[_0x4a43df['node']],_0x290693=_0x39d7f1[_0x4a43df['node']],_0x143163=_0x443366(_0x518702);_0x4a43df['path']['startsWith']('weights')?(_0x2161e5(_0x219ac9,_0x290693,_0x143163),_0x4700d9[_0x184061['sampler']]['morphCurve']=!(-0xf08+-0x9*0xc5+0x15f5)):_0x219ac9['paths']['push']({'entityPath':_0x143163,'component':'graph','propertyPath':[_0x6949cf[_0x4a43df['path']]]});}const _0x21bccc=[],_0xf852a=[],_0x3714bc=[];for(const _0x442614 in _0x2190ce)_0x21bccc['push'](_0x2190ce[_0x442614]),_0x2190ce[_0x442614]=_0x21bccc['length']-(0x11b*0x9+-0x1*0x15cf+0xbdd);for(const _0x587196 in _0x41db51)_0xf852a['push'](_0x41db51[_0x587196]),_0x41db51[_0x587196]=_0xf852a['length']-(0x1a15+0x10d*0xb+-0x29*0xeb);for(const _0x7bf5a3 in _0x4700d9){const _0x281c4b=_0x4700d9[_0x7bf5a3];_0x281c4b['morphCurve']||(_0x3714bc['push'](new v0(_0x281c4b['paths'],_0x2190ce[_0x281c4b['input']],_0x41db51[_0x281c4b['output']],_0x281c4b['interpolat'+'ion'])),_0x281c4b['paths']['length']>-0x2268*-0x1+-0x1d12+0x556*-0x1&&_0x281c4b['paths'][-0x1c37+-0x1d9*-0xb+0x7e4]['propertyPa'+'th'][0x3d*-0x7f+-0x260+0x20a3]==='localRotat'+'ion'&&_0x281c4b['interpolat'+'ion']!==yu&&_0x1d28d2['push'](_0x3714bc[_0x3714bc['length']-(-0x210f+-0x1*0x43+0x2153)]['output']));}_0x1d28d2['sort']();let _0x32159d=null,_0x439630;for(_0x3c9856=-0x8b*-0x9+-0x1e4e+0x196b;_0x3c9856<_0x1d28d2['length'];++_0x3c9856){const _0x428f8c=_0x1d28d2[_0x3c9856];if(_0x3c9856===0x256*-0xa+0x6b*0x1d+0xb3d||_0x428f8c!==_0x32159d){if(_0x439630=_0xf852a[_0x428f8c],_0x439630['components']===-0x3b0*0x4+-0x7*0x375+0x26f7){const _0x442285=_0x439630['data'],_0x9d97a9=_0x442285['length']-(0x23f5+0x1d13+-0x6*0xad6);for(let _0x58a5dc=0x174c+-0x214a+0x9fe;_0x58a5dc<_0x9d97a9;_0x58a5dc+=0x3e5*-0x7+-0x1112+-0x1*-0x2c59)_0x442285[_0x58a5dc+(-0x22ba+0x6e0+0x1f*0xe6)]*_0x442285[_0x58a5dc+(-0xd*-0x196+-0x1197+-0x303)]+_0x442285[_0x58a5dc+(-0x2*-0x7dd+-0x6db+-0x8de)]*_0x442285[_0x58a5dc+(-0x1f3d*-0x1+-0x1*0x17b3+-0x785)]+_0x442285[_0x58a5dc+(-0x1*-0x21ad+-0x1*0x114d+-0x346*0x5)]*_0x442285[_0x58a5dc+(0x23ea+0x15f2*0x1+0x16*-0x2a1)]+_0x442285[_0x58a5dc+(-0x1a2f+0x3*0x357+0x102d)]*_0x442285[_0x58a5dc+(-0x212f+-0x49*0x61+0x3cdf)]<-0xcb7+-0x4*-0x520+0x1*-0x7c9&&(_0x442285[_0x58a5dc+(-0x4f7*-0x1+0x1b6d+-0x2060)]*=-(-0x601+-0x1f03*0x1+0x1*0x2505),_0x442285[_0x58a5dc+(-0x2109+-0x1*0x24d4+-0x2*-0x22f1)]*=-(0x2*-0x737+-0x1765+0x25d4),_0x442285[_0x58a5dc+(-0x17b7+-0x504*-0x1+0x12b9)]*=-(0xf79*-0x2+-0xca9+0x2b9c),_0x442285[_0x58a5dc+(-0x1dc3*0x1+0x2*-0xbb7+0x3538)]*=-(0x385*-0x5+-0x1*-0x1232+-0x4c*0x2));}_0x32159d=_0x428f8c;}}let _0x2f8476=-0x1*0xd79+-0x4*0x4db+0x191*0x15;for(_0x3c9856=0x1*-0x236b+-0x9ad*-0x1+-0x5*-0x526;_0x3c9856<_0x21bccc['length'];_0x3c9856++)_0x439630=_0x21bccc[_0x3c9856]['_data'],_0x2f8476=Math['max'](_0x2f8476,_0x439630['length']===0x22e1+0xbf7+0x176c*-0x2?0x105e+0x41a+-0xa*0x20c:_0x439630[_0x439630['length']-(0x2297+-0x1da5*0x1+-0x73*0xb)]);return new Qi(_0x13f209['hasOwnProp'+'erty']('name')?_0x13f209['name']:'animation_'+_0x36aa97,_0x2f8476,_0x21bccc,_0xf852a,_0x3714bc);},Dc=new te(),Qa=new D(),vN=(_0x2e2618,_0x3df842,_0x39a10a)=>{const _0x41b339=new Ie();if(_0x2e2618['hasOwnProp'+'erty']('name')&&_0x2e2618['name']['length']>0x1b50+-0xf90+-0xbc0?_0x41b339['name']=_0x2e2618['name']:_0x41b339['name']='node_'+_0x3df842,_0x2e2618['hasOwnProp'+'erty']('matrix')&&(Dc['data']['set'](_0x2e2618['matrix']),Dc['getTransla'+'tion'](Qa),_0x41b339['setLocalPo'+'sition'](Qa),Dc['getEulerAn'+'gles'](Qa),_0x41b339['setLocalEu'+'lerAngles'](Qa),Dc['getScale'](Qa),_0x41b339['setLocalSc'+'ale'](Qa)),_0x2e2618['hasOwnProp'+'erty']('rotation')){const _0x249337=_0x2e2618['rotation'];_0x41b339['setLocalRo'+'tation'](_0x249337[-0x75b+-0xc*0x16f+0x188f],_0x249337[0x28*-0x58+0xcf8+0xc9],_0x249337[-0xf32+-0x874+-0x2f5*-0x8],_0x249337[-0xbb1+0x92*0x3b+-0x15f2]);}if(_0x2e2618['hasOwnProp'+'erty']('translatio'+'n')){const _0x5b2d44=_0x2e2618['translatio'+'n'];_0x41b339['setLocalPo'+'sition'](_0x5b2d44[0x81+-0x161d+0x159c],_0x5b2d44[-0x1*0x170a+0x8*-0x1e5+-0x4d*-0x7f],_0x5b2d44[-0xe2c+0x7*-0x4cd+0x1*0x2fc9]);}if(_0x2e2618['hasOwnProp'+'erty']('scale')){const _0x4d5952=_0x2e2618['scale'];_0x41b339['setLocalSc'+'ale'](_0x4d5952[-0x271+-0x1354+0x1*0x15c5],_0x4d5952[-0x1397+-0x819*-0x2+0x366],_0x4d5952[0x54b*-0x1+0x4*-0x38f+0x1389]);}return _0x2e2618['hasOwnProp'+'erty']('extensions')&&_0x2e2618['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']&&_0x39a10a['set'](_0x2e2618,{'ext':_0x2e2618['extensions']['EXT_mesh_g'+'pu_instanc'+'ing']}),_0x41b339;},xN=(_0x24f999,_0x2ac1f4)=>{const _0x1baa4=_0x24f999['type']==='orthograph'+'ic'?En:ni,_0x516dfb=_0x1baa4===En?_0x24f999['orthograph'+'ic']:_0x24f999['perspectiv'+'e'],_0xb36d1c={'enabled':!(-0x2*0x8ea+-0x2e3*0x8+0x28ed),'projection':_0x1baa4,'nearClip':_0x516dfb['znear'],'aspectRatioMode':hm};_0x516dfb['zfar']&&(_0xb36d1c['farClip']=_0x516dfb['zfar']),_0x1baa4===En?(_0xb36d1c['orthoHeigh'+'t']=(-0x444+-0xdf3+0x1237+0.5)*_0x516dfb['ymag'],_0x516dfb['ymag']&&(_0xb36d1c['aspectRati'+'oMode']=lu,_0xb36d1c['aspectRati'+'o']=_0x516dfb['xmag']/_0x516dfb['ymag'])):(_0xb36d1c['fov']=_0x516dfb['yfov']*Y['RAD_TO_DEG'],_0x516dfb['aspectRati'+'o']&&(_0xb36d1c['aspectRati'+'oMode']=lu,_0xb36d1c['aspectRati'+'o']=_0x516dfb['aspectRati'+'o']));const _0x1cd116=new lt(_0x24f999['name']);return _0x1cd116['addCompone'+'nt']('camera',_0xb36d1c),_0x1cd116;},TN=(_0x328158,_0xdb1cde)=>{const _0x46e99e={'enabled':!(-0x1056+-0x1507*-0x1+0x4b0*-0x1),'type':_0x328158['type']==='point'?'omni':_0x328158['type'],'color':_0x328158['hasOwnProp'+'erty']('color')?new ie(_0x328158['color']):ie['WHITE'],'range':_0x328158['hasOwnProp'+'erty']('range')?_0x328158['range']:-0x1422+0x1*-0x1f09+-0x5a3a*-0x1,'falloffMode':ev,'intensity':_0x328158['hasOwnProp'+'erty']('intensity')?Y['clamp'](_0x328158['intensity'],0xae+0x6*0x269+-0xf24,0x52*-0x5+0x6c3*-0x1+-0x85f*-0x1):0x1cd1*0x1+0x319+-0x48f*0x7};_0x328158['hasOwnProp'+'erty']('spot')&&(_0x46e99e['innerConeA'+'ngle']=_0x328158['spot']['hasOwnProp'+'erty']('innerConeA'+'ngle')?_0x328158['spot']['innerConeA'+'ngle']*Y['RAD_TO_DEG']:0x1e55*-0x1+0x1a2+0x1cb3,_0x46e99e['outerConeA'+'ngle']=_0x328158['spot']['hasOwnProp'+'erty']('outerConeA'+'ngle')?_0x328158['spot']['outerConeA'+'ngle']*Y['RAD_TO_DEG']:Math['PI']/(-0x1aef+0x2065*-0x1+-0xc*-0x4f2)),_0x328158['hasOwnProp'+'erty']('intensity')&&(_0x46e99e['luminance']=_0x328158['intensity']*pl['getLightUn'+'itConversi'+'on'](fu[_0x46e99e['type']],_0x46e99e['outerConeA'+'ngle'],_0x46e99e['innerConeA'+'ngle']));const _0x82c888=new lt(_0xdb1cde['name']);return _0x82c888['rotateLoca'+'l'](0x1d*-0x19+-0x1362+0x35*0x6d,0x2*-0xc52+0x15*-0xec+0x400*0xb,0x26c2+-0x21a*0x1+0x114*-0x22),_0x82c888['addCompone'+'nt']('light',_0x46e99e),_0x82c888;},wN=(_0x2b40c0,_0x4a6906,_0x2a70c0,_0x387e03)=>{if(!_0x4a6906['hasOwnProp'+'erty']('skins')||_0x4a6906['skins']['length']===-0x2*-0x1292+-0x1c89+0x1*-0x89b)return[];const _0x20dee0=new Map();return _0x4a6906['skins']['map'](_0x25372d=>rN(_0x2b40c0,_0x25372d,_0x4a6906['accessors'],_0x387e03,_0x2a70c0,_0x20dee0));},EN=(_0x240dba,_0xd15ef7,_0x32a4a9,_0x178ee5)=>{var _0x115ad7,_0x55076c,_0x266699;const _0x5bf99f={},_0x2d8401={},_0x2ddfd2={},_0x22a8da=[];return{'meshes':!_0x178ee5['skipMeshes']&&((_0x115ad7=_0xd15ef7==null?void(-0xde*0x1+-0x7e4+0x8c2):_0xd15ef7['meshes'])==null?void(-0xe77+0x1d80+-0xf09):_0x115ad7['length'])&&((_0x55076c=_0xd15ef7==null?void(0x773+0x226*0xc+-0x213b):_0xd15ef7['accessors'])==null?void(0x35*0x7f+0xb07+0x119*-0x22):_0x55076c['length'])&&((_0x266699=_0xd15ef7==null?void(0x2462+-0x229f+-0x1c3):_0xd15ef7['bufferView'+'s'])==null?void(0x1ed7*-0x1+-0x1a24+0x38fb):_0x266699['length'])?_0xd15ef7['meshes']['map'](_0x417dc4=>nN(_0x240dba,_0x417dc4,_0xd15ef7['accessors'],_0x32a4a9,_0x5bf99f,_0x2d8401,_0x2ddfd2,_0x178ee5,_0x22a8da)):[],'meshVariants':_0x2d8401,'meshDefaultMaterials':_0x2ddfd2,'promises':_0x22a8da};},bN=(_0x1fcf49,_0x518aec,_0x301560)=>{var _0x215b83,_0x2e5074,_0x6edc66;if(!_0x1fcf49['hasOwnProp'+'erty']('materials')||_0x1fcf49['materials']['length']===-0x5*-0x676+0x1*-0x1aaa+-0x5a4)return[];const _0x1f405f=(_0x215b83=_0x301560==null?void(-0x1cf0+-0x4*-0x572+-0x8*-0xe5):_0x301560['material'])==null?void(0xebe+-0x1*0x2425+0x1567):_0x215b83['preprocess'],_0x59e3c6=((_0x2e5074=_0x301560==null?void(0x207*0x11+-0x1dd3+0x84*-0x9):_0x301560['material'])==null?void(-0x3*0x241+0x2323+-0x718*0x4):_0x2e5074['process'])??w0,_0xb6283c=(_0x6edc66=_0x301560==null?void(0x1051+-0x13*-0x1a2+-0x1*0x2f57):_0x301560['material'])==null?void(0x43*-0x53+-0x1ab+0x2*0xbb2):_0x6edc66['postproces'+'s'];return _0x1fcf49['materials']['map'](_0x24b347=>{_0x1f405f&&_0x1f405f(_0x24b347);const _0x12cb9f=_0x59e3c6(_0x24b347,_0x518aec);return _0xb6283c&&_0xb6283c(_0x24b347,_0x12cb9f),_0x12cb9f;});},AN=_0x38b573=>{if(!_0x38b573['hasOwnProp'+'erty']('extensions')||!_0x38b573['extensions']['hasOwnProp'+'erty']('KHR_materi'+'als_varian'+'ts'))return null;const _0x5e5d11=_0x38b573['extensions']['KHR_materi'+'als_varian'+'ts']['variants'],_0x4a5823={};for(let _0x55bbbb=-0x209*0x4+-0xd*-0x1aa+-0xd7e;_0x55bbbb<_0x5e5d11['length'];_0x55bbbb++)_0x4a5823[_0x5e5d11[_0x55bbbb]['name']]=_0x55bbbb;return _0x4a5823;},CN=(_0x384a75,_0x4b3908,_0x257f73,_0x52bef3)=>{var _0x55cb35,_0x2ff4ad;if(!_0x384a75['hasOwnProp'+'erty']('animations')||_0x384a75['animations']['length']===0x180f+-0x52+-0x17bd*0x1)return[];const _0x20018c=(_0x55cb35=_0x52bef3==null?void(-0x1e71+-0xaa3+0xa45*0x4):_0x52bef3['animation'])==null?void(-0x37f*0x3+0x12ea+0x86d*-0x1):_0x55cb35['preprocess'],_0x491387=(_0x2ff4ad=_0x52bef3==null?void(-0x2079+0x1064+0x1015):_0x52bef3['animation'])==null?void(-0x2*-0x1258+0x103*0x17+-0x3bf5):_0x2ff4ad['postproces'+'s'];return _0x384a75['animations']['map']((_0x56971b,_0x50776f)=>{_0x20018c&&_0x20018c(_0x56971b);const _0x519dae=yN(_0x56971b,_0x50776f,_0x384a75['accessors'],_0x257f73,_0x4b3908,_0x384a75['meshes'],_0x384a75['nodes']);return _0x491387&&_0x491387(_0x56971b,_0x519dae),_0x519dae;});},PN=(_0x48f43e,_0x47314d,_0x1614e4,_0x4d7795)=>{const _0xfcbccc=_0x47314d['accessors'];_0x1614e4['forEach']((_0x2c4687,_0x2fae1a)=>{const _0x1b4b11=_0x2c4687['ext']['attributes'];let _0x2dd31a;if(_0x1b4b11['hasOwnProp'+'erty']('TRANSLATIO'+'N')){const _0x3969aa=_0xfcbccc[_0x1b4b11['TRANSLATIO'+'N']];_0x2dd31a=Pn(_0x3969aa,_0x4d7795);}let _0x291766;if(_0x1b4b11['hasOwnProp'+'erty']('ROTATION')){const _0x5d28e0=_0xfcbccc[_0x1b4b11['ROTATION']];_0x291766=Pn(_0x5d28e0,_0x4d7795);}let _0xc80407;if(_0x1b4b11['hasOwnProp'+'erty']('SCALE')){const _0x503cff=_0xfcbccc[_0x1b4b11['SCALE']];_0xc80407=Pn(_0x503cff,_0x4d7795);}const _0x5291d7=(_0x2dd31a?_0x2dd31a['length']/(0x13e6+-0xbf*0xb+0xa*-0x12b):-0x1d3*-0x7+0x21dc+-0x2ea1)||(_0x291766?_0x291766['length']/(0xd10+0x201d+-0x2d29):-0x17c6+-0x614*-0x2+0x5cf*0x2)||(_0xc80407?_0xc80407['length']/(0x2590+-0x4*0x1c5+-0x1e79):-0xe2f+0x72b+0x704);if(_0x5291d7){const _0x548840=new Float32Array(_0x5291d7*(-0xf1*0x3+0x147d+0x119a*-0x1)),_0x4989bf=new D(),_0x24cede=new le(),_0x331865=new D(-0x1ccd+0xfbc+-0xd12*-0x1,0x2509+-0x15d5+-0xf33,-0x12c*-0x5+-0x10ed+-0xb12*-0x1),_0x4903ae=new te();let _0x2a1386=-0x1f37+0x1*-0x7bb+0x5*0x7ca;for(let _0x1366cf=-0x1*-0x8f+0x1*-0x15f3+-0x4a*-0x4a;_0x1366cf<_0x5291d7;_0x1366cf++){const _0x1c34c5=_0x1366cf*(-0x1d0b+0x1347+0x9c7);if(_0x2dd31a&&_0x4989bf['set'](_0x2dd31a[_0x1c34c5],_0x2dd31a[_0x1c34c5+(0x24a5+-0x8e9+-0x1bbb*0x1)],_0x2dd31a[_0x1c34c5+(0x1*0x9d6+0x11*0x238+0x2f8c*-0x1)]),_0x291766){const _0x11a210=_0x1366cf*(-0x2017*-0x1+0x1929+0x1*-0x393c);_0x24cede['set'](_0x291766[_0x11a210],_0x291766[_0x11a210+(-0xdc4+0x1*0x703+-0x1*-0x6c2)],_0x291766[_0x11a210+(0x1*-0x26be+0xc3b+0x8d7*0x3)],_0x291766[_0x11a210+(-0x571*-0x4+-0xba3+-0xa1e)]);}_0xc80407&&_0x331865['set'](_0xc80407[_0x1c34c5],_0xc80407[_0x1c34c5+(-0x8d*-0x32+0x428*0x3+0xd1*-0x31)],_0xc80407[_0x1c34c5+(0x1934+-0x7bf+-0x1173)]),_0x4903ae['setTRS'](_0x4989bf,_0x24cede,_0x331865);for(let _0x127755=0x11ef+0x332+-0x1*0x1521;_0x127755<-0x1904*-0x1+0x3*0x48e+-0x134f*0x2;_0x127755++)_0x548840[_0x2a1386++]=_0x4903ae['data'][_0x127755];}_0x2c4687['matrices']=_0x548840;}});},MN=(_0x147de8,_0x125ffb,_0x5a5b2c)=>{var _0x2ab2b0,_0xbd7ef,_0x4b0df3;if(!_0x147de8['hasOwnProp'+'erty']('nodes')||_0x147de8['nodes']['length']===0x1*0xa9d+-0x20cf+0x766*0x3)return[];const _0x3dc44f=(_0x2ab2b0=_0x125ffb==null?void(0x14f6+0x1*0x12aa+-0x27a0):_0x125ffb['node'])==null?void(0x23e1+0x43a+-0x1*0x281b):_0x2ab2b0['preprocess'],_0x50863d=((_0xbd7ef=_0x125ffb==null?void(0x1920+0x1dc8+-0x1b74*0x2):_0x125ffb['node'])==null?void(0x3*0x999+0x1dba+-0x3a85):_0xbd7ef['process'])??vN,_0x5cf81a=(_0x4b0df3=_0x125ffb==null?void(-0x3*0x1f3+0x8e9*-0x3+-0xf*-0x22c):_0x125ffb['node'])==null?void(0x9*0x2+0x65*0x1d+-0xb83):_0x4b0df3['postproces'+'s'],_0x3f246c=_0x147de8['nodes']['map']((_0x5c78b2,_0x3b64bc)=>{_0x3dc44f&&_0x3dc44f(_0x5c78b2);const _0xa8ac64=_0x50863d(_0x5c78b2,_0x3b64bc,_0x5a5b2c);return _0x5cf81a&&_0x5cf81a(_0x5c78b2,_0xa8ac64),_0xa8ac64;});for(let _0x1ca1c7=0x1928+0x1*-0xc7a+-0xcae;_0x1ca1c7<_0x147de8['nodes']['length'];++_0x1ca1c7){const _0x3482ae=_0x147de8['nodes'][_0x1ca1c7];if(_0x3482ae['hasOwnProp'+'erty']('children')){const _0x237e9b=_0x3f246c[_0x1ca1c7],_0x1ce546={};for(let _0x1a830e=0x1*-0xc3e+-0x723*-0x2+0x28*-0xd;_0x1a830e<_0x3482ae['children']['length'];++_0x1a830e){const _0x2279c6=_0x3f246c[_0x3482ae['children'][_0x1a830e]];_0x2279c6['parent']||(_0x1ce546['hasOwnProp'+'erty'](_0x2279c6['name'])?_0x2279c6['name']+=_0x1ce546[_0x2279c6['name']]++:_0x1ce546[_0x2279c6['name']]=-0x17af+0xf*-0x32+0x1a9e,_0x237e9b['addChild'](_0x2279c6));}}}return _0x3f246c;},DN=(_0x3ee175,_0x386d88)=>{var _0x5632a0;const _0x2145f4=[],_0x13fd4a=_0x3ee175['scenes']['length'];if(_0x13fd4a===-0x2001+0x9*0x40c+0x46a*-0x1&&((_0x5632a0=_0x3ee175['scenes'][0x1ae0+0xb*-0x62+-0x16aa]['nodes'])==null?void(-0x2*-0x1196+-0x47*-0x3b+0x4f*-0xa7):_0x5632a0['length'])===0xf6d+0x2*0xc98+-0x289c){const _0x506c20=_0x3ee175['scenes'][0x1666+0x10f2+-0x2758]['nodes'][-0xd*0xd1+-0x630+0x11*0xfd];_0x2145f4['push'](_0x386d88[_0x506c20]);}else for(let _0x20cc24=0x208f+0x14*0xf4+-0x339f;_0x20cc24<_0x13fd4a;_0x20cc24++){const _0x2075b0=_0x3ee175['scenes'][_0x20cc24];if(_0x2075b0['nodes']){const _0x369f1b=new Ie(_0x2075b0['name']);for(let _0x1422e2=-0x16d1+0x194f+0x27e*-0x1;_0x1422e2<_0x2075b0['nodes']['length'];_0x1422e2++){const _0xa6ccd5=_0x386d88[_0x2075b0['nodes'][_0x1422e2]];_0x369f1b['addChild'](_0xa6ccd5);}_0x2145f4['push'](_0x369f1b);}}return _0x2145f4;},IN=(_0x58ce54,_0x3f63b1,_0xedf4a)=>{var _0x392950,_0x265791,_0x31ed82;let _0x59c32a=null;if(_0x58ce54['hasOwnProp'+'erty']('nodes')&&_0x58ce54['hasOwnProp'+'erty']('cameras')&&_0x58ce54['cameras']['length']>0x205c+0x1187+-0x31e3){const _0x1b336e=(_0x392950=_0xedf4a==null?void(-0x693*0x1+-0x649+0xcdc):_0xedf4a['camera'])==null?void(-0x4*-0x4f7+0x191*-0x5+-0xc07):_0x392950['preprocess'],_0x4731d5=((_0x265791=_0xedf4a==null?void(-0xeeb*0x1+-0x1*-0x123+0xdc8):_0xedf4a['camera'])==null?void(0x14+0x1b4d+-0x1b61):_0x265791['process'])??xN,_0xf795be=(_0x31ed82=_0xedf4a==null?void(0x1f81+0x622*0x4+0x97*-0x5f):_0xedf4a['camera'])==null?void(0x18e8+0x3*-0x9dd+0x4af):_0x31ed82['postproces'+'s'];_0x58ce54['nodes']['forEach']((_0x345c4b,_0x4c58a)=>{if(_0x345c4b['hasOwnProp'+'erty']('camera')){const _0x24f1b4=_0x58ce54['cameras'][_0x345c4b['camera']];if(_0x24f1b4){_0x1b336e&&_0x1b336e(_0x24f1b4);const _0x16b27c=_0x4731d5(_0x24f1b4,_0x3f63b1[_0x4c58a]);_0xf795be&&_0xf795be(_0x24f1b4,_0x16b27c),_0x16b27c&&(_0x59c32a||(_0x59c32a=new Map()),_0x59c32a['set'](_0x345c4b,_0x16b27c));}}});}return _0x59c32a;},LN=(_0x345165,_0x24cd25,_0xaf451)=>{var _0x28a57c,_0x12adee,_0x701e58;let _0x100a3f=null;if(_0x345165['hasOwnProp'+'erty']('nodes')&&_0x345165['hasOwnProp'+'erty']('extensions')&&_0x345165['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x345165['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('lights')){const _0x254a45=_0x345165['extensions']['KHR_lights'+'_punctual']['lights'];if(_0x254a45['length']){const _0x182f9f=(_0x28a57c=_0xaf451==null?void(0x3*-0x37+-0x13*-0xb9+0x29e*-0x5):_0xaf451['light'])==null?void(0x13d9+0x21df+0x1*-0x35b8):_0x28a57c['preprocess'],_0x191464=((_0x12adee=_0xaf451==null?void(0x24c3*-0x1+-0x15*-0xf7+0x160*0xc):_0xaf451['light'])==null?void(0x262d+0x1c36+-0x4263):_0x12adee['process'])??TN,_0x28be19=(_0x701e58=_0xaf451==null?void(-0x1dff+-0x103*-0x3+0x1af6):_0xaf451['light'])==null?void(-0x2041+-0x14d9+-0x796*-0x7):_0x701e58['postproces'+'s'];_0x345165['nodes']['forEach']((_0x4b5251,_0x3b23fd)=>{if(_0x4b5251['hasOwnProp'+'erty']('extensions')&&_0x4b5251['extensions']['hasOwnProp'+'erty']('KHR_lights'+'_punctual')&&_0x4b5251['extensions']['KHR_lights'+'_punctual']['hasOwnProp'+'erty']('light')){const _0x3e5459=_0x4b5251['extensions']['KHR_lights'+'_punctual']['light'],_0x27c61a=_0x254a45[_0x3e5459];if(_0x27c61a){_0x182f9f&&_0x182f9f(_0x27c61a);const _0xddee9c=_0x191464(_0x27c61a,_0x24cd25[_0x3b23fd]);_0x28be19&&_0x28be19(_0x27c61a,_0xddee9c),_0xddee9c&&(_0x100a3f||(_0x100a3f=new Map()),_0x100a3f['set'](_0x4b5251,_0xddee9c));}}});}}return _0x100a3f;},RN=(_0x5b84c9,_0x5c55ed,_0x584dbc)=>{_0x5b84c9['nodes']['forEach'](_0x282343=>{_0x282343['hasOwnProp'+'erty']('mesh')&&_0x282343['hasOwnProp'+'erty']('skin')&&_0x5c55ed[_0x282343['mesh']]['meshes']['forEach'](_0x3bb72c=>{_0x3bb72c['skin']=_0x584dbc[_0x282343['skin']];});});},ON=async(_0x5b5511,_0x2ce46d,_0x485835,_0x51efca,_0xa78e6)=>{var _0x47298f,_0x30c710;const _0x4a629c=(_0x47298f=_0xa78e6==null?void(-0x1a89+-0x2*0xc59+0x333b):_0xa78e6['global'])==null?void(0x245+0x1*0x761+-0x9a6):_0x47298f['preprocess'],_0x2cf373=(_0x30c710=_0xa78e6==null?void(0x21dd+-0xd7c+-0x1461):_0xa78e6['global'])==null?void(-0x1d1f+-0x157*-0x1+0xe*0x1fc):_0x30c710['postproces'+'s'];_0x4a629c&&_0x4a629c(_0x2ce46d),_0x2ce46d['asset']&&_0x2ce46d['asset']['generator']==='PlayCanvas'&&w['warn']('glTF\x20model'+'\x20may\x20have\x20'+'been\x20gener'+'ated\x20with\x20'+'flipped\x20UV'+'s.\x20Please\x20'+'reconvert.');const _0x4a16ed=new Map(),_0x4a1337=MN(_0x2ce46d,_0xa78e6,_0x4a16ed),_0x383ab6=DN(_0x2ce46d,_0x4a1337),_0x405cfe=LN(_0x2ce46d,_0x4a1337,_0xa78e6),_0x24c94d=IN(_0x2ce46d,_0x4a1337,_0xa78e6),_0x4e708d=AN(_0x2ce46d),_0x3d7bc5=await Promise['all'](_0x485835),{meshes:_0x2abd13,meshVariants:_0x5e9cb9,meshDefaultMaterials:_0xa1d8fa,promises:_0x98f198}=EN(_0x5b5511,_0x2ce46d,_0x3d7bc5,_0xa78e6),_0x3f1ff8=CN(_0x2ce46d,_0x4a1337,_0x3d7bc5,_0xa78e6);PN(_0x5b5511,_0x2ce46d,_0x4a16ed,_0x3d7bc5);const _0x4f46bd=await Promise['all'](_0x51efca),_0x5dcde6=_0x4f46bd['map'](_0x3d7d5a=>_0x3d7d5a['resource']),_0x5da199=bN(_0x2ce46d,_0x5dcde6,_0xa78e6),_0x19f005=wN(_0x5b5511,_0x2ce46d,_0x4a1337,_0x3d7bc5),_0x34bfee=[];for(let _0x15e4af=-0x15f3+-0x1*0x182b+0x2e1e;_0x15e4af<_0x2abd13['length'];_0x15e4af++)_0x34bfee[_0x15e4af]=new Em(),_0x34bfee[_0x15e4af]['meshes']=_0x2abd13[_0x15e4af];RN(_0x2ce46d,_0x34bfee,_0x19f005);const _0x46ed6a=new qF();return _0x46ed6a['gltf']=_0x2ce46d,_0x46ed6a['nodes']=_0x4a1337,_0x46ed6a['scenes']=_0x383ab6,_0x46ed6a['animations']=_0x3f1ff8,_0x46ed6a['textures']=_0x4f46bd,_0x46ed6a['materials']=_0x5da199,_0x46ed6a['variants']=_0x4e708d,_0x46ed6a['meshVarian'+'ts']=_0x5e9cb9,_0x46ed6a['meshDefaul'+'tMaterials']=_0xa1d8fa,_0x46ed6a['renders']=_0x34bfee,_0x46ed6a['skins']=_0x19f005,_0x46ed6a['lights']=_0x405cfe,_0x46ed6a['cameras']=_0x24c94d,_0x46ed6a['nodeInstan'+'cingMap']=_0x4a16ed,_0x2cf373&&_0x2cf373(_0x2ce46d,_0x46ed6a),await Promise['all'](_0x98f198),_0x46ed6a;},FN=(_0x37f6d9,_0x4afb19)=>{const _0x32fad5=(_0x428676,_0xab229d)=>{switch(_0x428676){case 0x20ee+-0x4846+0xb*0x708:return Te;case 0x19a+-0x15ad+-0x1c*-0x213:return vt;case-0x1707+-0x1458+0x525f:return Kh;case-0x1a*-0x194+-0x1*0xf76+0xb5*0x13:return Qh;case 0x1*-0x4adb+0x4b5b+-0x35*-0xba:return Zh;case 0x21b1+0x808+-0x2b6:return ma;default:return _0xab229d;}},_0x5d3f83=(_0x2573f6,_0x25859d)=>{switch(_0x2573f6){case-0x8b45*0x1+0xdb6f+-0x8d*-0x59:return ue;case 0x29f1+0xbe7e+-0x64ff:return ip;case-0xb*0x377+-0x44c6*0x1+0xc*0xc53:return yt;default:return _0x25859d;}};_0x37f6d9&&(_0x4afb19=_0x4afb19??{},_0x37f6d9['minFilter']=_0x32fad5(_0x4afb19['minFilter'],ma),_0x37f6d9['magFilter']=_0x32fad5(_0x4afb19['magFilter'],vt),_0x37f6d9['addressU']=_0x5d3f83(_0x4afb19['wrapS'],yt),_0x37f6d9['addressV']=_0x5d3f83(_0x4afb19['wrapT'],yt));};let NN=-0x1a20+0x4*0x99d+0x6*-0x20e;const nn=_0x2a7419=>{var _0x5dd404,_0x395298,_0x14d22b,_0x25116e;return((_0x395298=(_0x5dd404=_0x2a7419['extensions'])==null?void(0x1f82+0xa7b*0x3+0x1*-0x3ef3):_0x5dd404['KHR_textur'+'e_basisu'])==null?void(0xac1+0x188f+-0x8*0x46a):_0x395298['source'])??((_0x25116e=(_0x14d22b=_0x2a7419['extensions'])==null?void(0x28c+-0x5e9+-0x35d*-0x1):_0x14d22b['EXT_textur'+'e_webp'])==null?void(0x125*-0x1f+-0xd98+0x3113):_0x25116e['source'])??_0x2a7419['source'];},kN=(_0x440838,_0x59e540,_0x4afbcb,_0x278ab3,_0x2b30ec)=>{var _0x54f41b,_0x146406,_0x5e6e4d;if(!_0x440838['images']||_0x440838['images']['length']===0x15d*-0x7+-0x17ce+0x1*0x2159)return[];const _0x3e846d=(_0x54f41b=_0x2b30ec==null?void(-0xd*-0x2dd+0x5ad*-0x5+-0x8d8):_0x2b30ec['image'])==null?void(0x1bfe+0x145a+0x34*-0xee):_0x54f41b['preprocess'],_0x4cf23e=(_0x146406=_0x2b30ec==null?void(0x63*-0x17+0x1459+-0xb74):_0x2b30ec['image'])==null?void(0x3be*-0x7+0x2161*-0x1+0x3b93):_0x146406['processAsy'+'nc'],_0x81619f=(_0x5e6e4d=_0x2b30ec==null?void(-0x1235+0x167*-0x14+0x2e41):_0x2b30ec['image'])==null?void(0x2*-0xca6+0x6*-0x113+0xfdf*0x2):_0x5e6e4d['postproces'+'s'],_0x22ccc1={'image/png':'png','image/jpeg':'jpg','image/basis':'basis','image/ktx':'ktx','image/ktx2':'ktx2','image/vnd-ms.dds':'dds'},_0x417382=_0x50f2d8=>{const _0x550230=new Set();return _0x50f2d8['hasOwnProp'+'erty']('materials')&&_0x50f2d8['materials']['forEach'](_0x2c2aba=>{if(_0x2c2aba['hasOwnProp'+'erty']('pbrMetalli'+'cRoughness')){const _0x217ad5=_0x2c2aba['pbrMetalli'+'cRoughness'];if(_0x217ad5['hasOwnProp'+'erty']('baseColorT'+'exture')){const _0x486c10=_0x50f2d8['textures'][_0x217ad5['baseColorT'+'exture']['index']];_0x550230['add'](nn(_0x486c10));}}if(_0x2c2aba['hasOwnProp'+'erty']('emissiveTe'+'xture')){const _0x38b9d7=_0x50f2d8['textures'][_0x2c2aba['emissiveTe'+'xture']['index']];_0x550230['add'](nn(_0x38b9d7));}if(_0x2c2aba['hasOwnProp'+'erty']('extensions')){const _0x3f170b=_0x2c2aba['extensions']['KHR_materi'+'als_sheen'];if(_0x3f170b&&_0x3f170b['hasOwnProp'+'erty']('sheenColor'+'Texture')){const _0x83cfad=_0x50f2d8['textures'][_0x3f170b['sheenColor'+'Texture']['index']];_0x550230['add'](nn(_0x83cfad));}const _0x5f4c83=_0x2c2aba['extensions']['KHR_materi'+'als_pbrSpe'+'cularGloss'+'iness'];if(_0x5f4c83&&_0x5f4c83['hasOwnProp'+'erty']('specularGl'+'ossinessTe'+'xture')){const _0x595cf5=_0x50f2d8['textures'][_0x5f4c83['specularGl'+'ossinessTe'+'xture']['index']];_0x550230['add'](nn(_0x595cf5));}const _0x494346=_0x2c2aba['extensions']['KHR_materi'+'als_specul'+'ar'];if(_0x494346&&_0x494346['hasOwnProp'+'erty']('specularCo'+'lorTexture')){const _0x516787=_0x50f2d8['textures'][_0x494346['specularCo'+'lorTexture']['index']];_0x550230['add'](nn(_0x516787));}}}),_0x550230;},_0x224b79=(_0x1e1e59,_0x558627,_0x34ee7d,_0x155c50,_0x2ae93a,_0xa3baee)=>new Promise((_0x2c14e0,_0xf6837f)=>{const _0x1f9521=_0x26470f=>{const _0x522287=(_0x1e1e59['name']||'gltf-textu'+'re')+'-'+NN++,_0x5b4b96={'url':_0x558627||_0x522287};if(_0x26470f&&(_0x5b4b96['contents']=_0x26470f['slice'](0x4*-0x515+-0x19ab+-0xf55*-0x3)['buffer']),_0x155c50){const _0x7028b1=_0x22ccc1[_0x155c50];_0x7028b1&&(_0x5b4b96['filename']=_0x5b4b96['url']+'.'+_0x7028b1);}const _0x3b4790={'srgb':_0xa3baee},_0x1d13cc=new pe(_0x522287,'texture',_0x5b4b96,_0x3b4790,_0x2ae93a);_0x1d13cc['on']('load',_0x3970ea=>_0x2c14e0(_0x3970ea)),_0x1d13cc['on']('error',_0x30fd05=>_0xf6837f(_0x30fd05)),_0x278ab3['add'](_0x1d13cc),_0x278ab3['load'](_0x1d13cc);};_0x34ee7d?_0x34ee7d['then'](_0x475f0b=>_0x1f9521(_0x475f0b)):_0x1f9521(null);}),_0x281779=_0x417382(_0x440838);return _0x440838['images']['map']((_0x41c2d0,_0x4a5fa4)=>{_0x3e846d&&_0x3e846d(_0x41c2d0);let _0x2c87ba;return _0x4cf23e?_0x2c87ba=new Promise((_0x52c662,_0x42888c)=>{_0x4cf23e(_0x41c2d0,(_0xba8d55,_0x21737a)=>{_0xba8d55?_0x42888c(_0xba8d55):_0x52c662(_0x21737a);});}):_0x2c87ba=new Promise(_0x4754c6=>{_0x4754c6(null);}),_0x2c87ba=_0x2c87ba['then'](_0x228038=>{const _0x153927=_0x281779['has'](_0x4a5fa4);return _0x228038||(_0x41c2d0['hasOwnProp'+'erty']('uri')?x0(_0x41c2d0['uri'])?_0x224b79(_0x41c2d0,_0x41c2d0['uri'],null,jF(_0x41c2d0['uri']),null,_0x153927):_0x224b79(_0x41c2d0,jn['test'](_0x41c2d0['uri'])?_0x41c2d0['uri']:xe['join'](_0x4afbcb,_0x41c2d0['uri']),null,null,{'crossOrigin':'anonymous'},_0x153927):_0x41c2d0['hasOwnProp'+'erty']('bufferView')&&_0x41c2d0['hasOwnProp'+'erty']('mimeType')?_0x224b79(_0x41c2d0,null,_0x59e540[_0x41c2d0['bufferView']],_0x41c2d0['mimeType'],null,_0x153927):Promise['reject'](new Error('Invalid\x20im'+'age\x20found\x20'+'in\x20gltf\x20(n'+'either\x20uri'+'\x20or\x20buffer'+'View\x20found'+').\x20index='+_0x4a5fa4)));}),_0x81619f&&(_0x2c87ba=_0x2c87ba['then'](_0x1306ff=>(_0x81619f(_0x41c2d0,_0x1306ff),_0x1306ff))),_0x2c87ba;});},UN=(_0x57a6f2,_0x4f4018,_0x52208b)=>{var _0x5c37fe,_0x318d07,_0x22d3db,_0xe522fa,_0x4e33d9;if(!((_0x5c37fe=_0x57a6f2==null?void(-0xf45+0x3f1+0x2d5*0x4):_0x57a6f2['images'])!=null&&_0x5c37fe['length'])||!((_0x318d07=_0x57a6f2==null?void(-0x164f*0x1+0x98+0x15b7):_0x57a6f2['textures'])!=null&&_0x318d07['length']))return[];const _0x5e210c=(_0x22d3db=_0x52208b==null?void(0x2443*-0x1+0x111+0x2332):_0x52208b['texture'])==null?void(-0x1dc8+0x5f4+0x1*0x17d4):_0x22d3db['preprocess'],_0x212765=(_0xe522fa=_0x52208b==null?void(-0x1*-0x233+0x2652+-0x2885):_0x52208b['texture'])==null?void(-0x1781+-0x1a2f+0x31b0):_0xe522fa['processAsy'+'nc'],_0x8ccc09=(_0x4e33d9=_0x52208b==null?void(-0x1a5*-0x1+0x1331*-0x1+0x118c):_0x52208b['texture'])==null?void(0x47*0x2f+0x188d+-0x2596):_0x4e33d9['postproces'+'s'],_0x32a6b6=new Set();return _0x57a6f2['textures']['map'](_0x532132=>{_0x5e210c&&_0x5e210c(_0x532132);let _0x451a92;return _0x212765?_0x451a92=new Promise((_0x4eda5e,_0x223092)=>{_0x212765(_0x532132,_0x57a6f2['images'],(_0x33e08f,_0x1870d1)=>{_0x33e08f?_0x223092(_0x33e08f):_0x4eda5e(_0x1870d1);});}):_0x451a92=new Promise(_0x2f46a9=>{_0x2f46a9(null);}),_0x451a92=_0x451a92['then'](_0x2ab413=>{_0x2ab413=_0x2ab413??nn(_0x532132);const _0x6845ac=_0x32a6b6['has'](_0x2ab413);return _0x32a6b6['add'](_0x2ab413),_0x4f4018[_0x2ab413]['then'](_0x1e5b47=>{const _0x131fdf=_0x6845ac?tN(_0x1e5b47):_0x1e5b47;return FN(_0x131fdf['resource'],(_0x57a6f2['samplers']??[])[_0x532132['sampler']]),_0x131fdf;});}),_0x8ccc09&&(_0x451a92=_0x451a92['then'](_0x52e3b0=>(_0x8ccc09(_0x532132,_0x52e3b0),_0x52e3b0))),_0x451a92;});},BN=(_0x11b907,_0x56b211,_0x45271c,_0x14fc2f)=>{var _0x23e76f,_0xcee3f5,_0x4eba8e;if(!_0x11b907['buffers']||_0x11b907['buffers']['length']===-0x1*-0x113b+-0x1*-0x1867+-0x29a2)return[];const _0x491b0a=(_0x23e76f=_0x14fc2f==null?void(0x2687+-0x12ab+-0x13dc):_0x14fc2f['buffer'])==null?void(0x165f+-0x5db*-0x2+-0x6d1*0x5):_0x23e76f['preprocess'],_0x22e5f3=(_0xcee3f5=_0x14fc2f==null?void(0x43e+-0x21*0x4f+-0x1fb*-0x3):_0x14fc2f['buffer'])==null?void(-0x16b0*0x1+0x128f*0x1+0x421):_0xcee3f5['processAsy'+'nc'],_0x39a2c0=(_0x4eba8e=_0x14fc2f==null?void(-0x26b+0x4f7+0x28c*-0x1):_0x14fc2f['buffer'])==null?void(-0xd52+-0xf11+-0xd*-0x22f):_0x4eba8e['postproces'+'s'];return _0x11b907['buffers']['map']((_0x1c4edc,_0x4fb95c)=>{_0x491b0a&&_0x491b0a(_0x1c4edc);let _0xcea8ce;return _0x22e5f3?_0xcea8ce=new Promise((_0x2b46e1,_0x38cc81)=>{_0x22e5f3(_0x1c4edc,(_0x270e12,_0x3e9b9d)=>{_0x270e12?_0x38cc81(_0x270e12):_0x2b46e1(_0x3e9b9d);});}):_0xcea8ce=new Promise(_0x1116ea=>{_0x1116ea(null);}),_0xcea8ce=_0xcea8ce['then'](_0x29be15=>{if(_0x29be15)return _0x29be15;if(_0x1c4edc['hasOwnProp'+'erty']('uri')){if(x0(_0x1c4edc['uri'])){const _0xfc3801=atob(_0x1c4edc['uri']['split'](',')[0x32f+-0x4d+-0x2e1]),_0x3d9716=new Uint8Array(_0xfc3801['length']);for(let _0x40ddd4=0x2*-0xc45+-0xc5*-0x26+0x7*-0xac;_0x40ddd4<_0xfc3801['length'];_0x40ddd4++)_0x3d9716[_0x40ddd4]=_0xfc3801['charCodeAt'](_0x40ddd4);return _0x3d9716;}return new Promise((_0x13e91b,_0x2b67cd)=>{ot['get'](jn['test'](_0x1c4edc['uri'])?_0x1c4edc['uri']:xe['join'](_0x45271c,_0x1c4edc['uri']),{'cache':!(0x176a+0x1829*0x1+0x13*-0x281),'responseType':'arraybuffe'+'r','retry':!(0x902+0x522+0x4d*-0x2f)},(_0x546860,_0x66da40)=>{_0x546860?_0x2b67cd(_0x546860):_0x13e91b(new Uint8Array(_0x66da40));});});}return _0x56b211;}),_0x39a2c0&&(_0xcea8ce=_0xcea8ce['then'](_0x10c09c=>(_0x39a2c0(_0x11b907['buffers'][_0x4fb95c],_0x10c09c),_0x10c09c))),_0xcea8ce;});},zN=(_0x517379,_0x404a05)=>{const _0x5d0af6=JSON['parse']((_0x220ef0=>{if(typeof TextDecoder<'u')return new TextDecoder()['decode'](_0x220ef0);let _0x341ea3='';for(let _0x3bd36a=0x1c+-0x1d25+0x1*0x1d09;_0x3bd36a<_0x220ef0['length'];_0x3bd36a++)_0x341ea3+=String['fromCharCo'+'de'](_0x220ef0[_0x3bd36a]);return decodeURIComponent(escape(_0x341ea3));})(_0x517379));if(_0x5d0af6['asset']&&_0x5d0af6['asset']['version']&&parseFloat(_0x5d0af6['asset']['version'])<0x160b*0x1+-0x2138+0xb2f){_0x404a05('Invalid\x20gl'+'tf\x20version'+'.\x20Expected'+'\x20version\x202'+'.0\x20or\x20abov'+'e\x20but\x20foun'+'d\x20version\x20'+'\x27'+_0x5d0af6['asset']['version']+'\x27.');return;}_0x404a05(null,_0x5d0af6);},VN=(_0x313d5c,_0x25bd22)=>{const _0x266200=_0x313d5c instanceof ArrayBuffer?new DataView(_0x313d5c):new DataView(_0x313d5c['buffer'],_0x313d5c['byteOffset'],_0x313d5c['byteLength']),_0x565b7b=_0x266200['getUint32'](0x226b+-0x1*-0x5a8+-0x2813,!(0x4cb*0x3+0x1b3*0x9+-0x1dac)),_0x3ba258=_0x266200['getUint32'](-0x2*0xce2+0x1a6f*-0x1+0x3437,!(-0xead*-0x1+-0x23fd+-0x155*-0x10)),_0x477698=_0x266200['getUint32'](0x379*-0x5+-0xf3*0x26+-0x1*-0x3577,!(-0x7*-0x171+0x19dc*-0x1+0xfc5));if(_0x565b7b!==-0x44d40d9e+-0x1b19*0x69f7+0x965fe024){_0x25bd22('Invalid\x20ma'+'gic\x20number'+'\x20found\x20in\x20'+'glb\x20header'+'.\x20Expected'+'\x200x46546C6'+'7,\x20found\x200'+'x'+_0x565b7b['toString'](-0xaff+-0x814+-0x17*-0xd5));return;}if(_0x3ba258!==-0x1c3*-0x2+0x6*0xe5+-0x8e2){_0x25bd22('Invalid\x20ve'+'rsion\x20numb'+'er\x20found\x20i'+'n\x20glb\x20head'+'er.\x20Expect'+'ed\x202,\x20foun'+'d\x20'+_0x3ba258);return;}if(_0x477698<=0x1c0a+-0x18de+-0x32c||_0x477698>_0x266200['byteLength']){_0x25bd22('Invalid\x20le'+'ngth\x20found'+'\x20in\x20glb\x20he'+'ader.\x20Foun'+'d\x20'+_0x477698);return;}const _0x74ac36=[];let _0xdf17ae=-0x235b*-0x1+0x8*-0x42+0x3*-0xb15;for(;_0xdf17ae<_0x477698;){const _0x49451a=_0x266200['getUint32'](_0xdf17ae,!(-0x6d6+0x23d3+-0x1cfd));_0xdf17ae+_0x49451a+(-0x798+0x511+0x83*0x5)>_0x266200['byteLength']&&_0x25bd22('Invalid\x20ch'+'unk\x20length'+'\x20found\x20in\x20'+'glb.\x20Found'+'\x20'+_0x49451a);const _0x30ff7c=_0x266200['getUint32'](_0xdf17ae+(-0x5e7+-0x7de*0x2+0x15a7),!(-0x2203*-0x1+-0x1f*-0x25+-0x267e*0x1)),_0x2d1ffe=new Uint8Array(_0x266200['buffer'],_0x266200['byteOffset']+_0xdf17ae+(-0x1df*-0xf+0x225a+-0x3e63),_0x49451a);_0x74ac36['push']({'length':_0x49451a,'type':_0x30ff7c,'data':_0x2d1ffe}),_0xdf17ae+=_0x49451a+(-0xf3*-0x29+0x1603+0x1*-0x3ce6);}if(_0x74ac36['length']!==-0x5*-0x51a+-0xbd3+0x1*-0xdae&&_0x74ac36['length']!==0x83a+0x1*-0x1c2b+-0x13f3*-0x1){_0x25bd22('Invalid\x20nu'+'mber\x20of\x20ch'+'unks\x20found'+'\x20in\x20glb\x20fi'+'le.');return;}if(_0x74ac36[-0x1498+0xe0+0x2*0x9dc]['type']!==-0x7d5d8e5e+-0xfd3baa*-0x61+0x2*0x35dca31f){_0x25bd22('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x4'+'E4F534A,\x20f'+'ound\x200x'+_0x74ac36[-0xeb1*-0x1+0x1cce+-0x2b7f]['type']['toString'](0x6df*-0x5+0x1e55+0x416));return;}if(_0x74ac36['length']>0x15e*0x1+-0x3e2+0x285&&_0x74ac36[-0x48e*-0x3+-0x226b+0x14c2]['type']!==0x4c3814+-0x9*0x5dfc9+0x1*0x36ef3f){_0x25bd22('Invalid\x20ch'+'unk\x20type\x20f'+'ound\x20in\x20gl'+'b\x20file.\x20Ex'+'pected\x200x0'+'04E4942,\x20f'+'ound\x200x'+_0x74ac36[0x12*-0x181+0x2291*-0x1+0x3da4]['type']['toString'](0x1db+-0x86+-0x145));return;}_0x25bd22(null,{'gltfChunk':_0x74ac36[-0x2*-0x518+0x128*0x8+-0x26e*0x8]['data'],'binaryChunk':_0x74ac36['length']===-0x93*0x12+0x236f+-0x1917?_0x74ac36[0x3*0x425+-0x2312+-0x1e3*-0xc]['data']:null});},GN=(_0x163637,_0xe97f71,_0x3edb7c)=>{const _0x460ff9=()=>{const _0x5bc5e5=new Uint8Array(_0xe97f71);return _0x5bc5e5[0x14b9+0x363*-0x9+-0x1*-0x9c2]===-0x85a+-0x40f*0x1+0xa*0x148&&_0x5bc5e5[0x455*-0x9+-0x148+-0x80e*-0x5]===0x22dd+-0x2*-0x1039+-0x42e3&&_0x5bc5e5[0x68e+0x6ce+0x2*-0x6ad]===0x3a9+0x2429+-0x277e&&_0x5bc5e5[0x4*-0x832+-0x123f+-0x1985*-0x2]===0x24cf+0xc39+-0x30c2;};_0x163637&&_0x163637['toLowerCas'+'e']()['endsWith']('.glb')||_0x460ff9()?VN(_0xe97f71,_0x3edb7c):_0x3edb7c(null,{'gltfChunk':_0xe97f71,'binaryChunk':null});},HN=(_0x190798,_0x455bcb,_0xfdb627)=>{var _0x585986,_0x5a3865,_0x3f8185,_0xf2dfef;const _0x71f86d=[],_0x6c42e0=(_0x585986=_0xfdb627==null?void(0x15a3*-0x1+-0x14b*-0x1+0x2e8*0x7):_0xfdb627['bufferView'])==null?void(0x1*-0xba1+-0x31*-0x60+-0x6bf):_0x585986['preprocess'],_0x3d1a00=(_0x5a3865=_0xfdb627==null?void(-0x4a*0x19+0x25bf+-0x1e85*0x1):_0xfdb627['bufferView'])==null?void(-0x1*0x1fb+0x1bc6+-0x1*0x19cb):_0x5a3865['processAsy'+'nc'],_0x3d069f=(_0x3f8185=_0xfdb627==null?void(-0x15ee+0x2*0x625+0x9a4):_0xfdb627['bufferView'])==null?void(-0x21e5+-0x16e4+0x38c9):_0x3f8185['postproces'+'s'];if(!((_0xf2dfef=_0x190798['bufferView'+'s'])!=null&&_0xf2dfef['length']))return _0x71f86d;for(let _0x5919e8=0x589*-0x6+-0x20bc+-0x20f9*-0x2;_0x5919e8<_0x190798['bufferView'+'s']['length'];++_0x5919e8){const _0xaea428=_0x190798['bufferView'+'s'][_0x5919e8];_0x6c42e0&&_0x6c42e0(_0xaea428);let _0xd80fe1;_0x3d1a00?_0xd80fe1=new Promise((_0x36bb20,_0x38ef87)=>{_0x3d1a00(_0xaea428,_0x455bcb,(_0x1aa404,_0x1d5bf6)=>{_0x1aa404?_0x38ef87(_0x1aa404):_0x36bb20(_0x1d5bf6);});}):_0xd80fe1=new Promise(_0x209b41=>{_0x209b41(null);}),_0xd80fe1=_0xd80fe1['then'](_0x445598=>_0x445598||_0x455bcb[_0xaea428['buffer']]['then'](_0xf2d5e=>new Uint8Array(_0xf2d5e['buffer'],_0xf2d5e['byteOffset']+(_0xaea428['byteOffset']||-0x1da9*0x1+-0x161b+0x33c4),_0xaea428['byteLength']))),_0xaea428['hasOwnProp'+'erty']('byteStride')&&(_0xd80fe1=_0xd80fe1['then'](_0x257c61=>(_0x257c61['byteStride']=_0xaea428['byteStride'],_0x257c61))),_0x3d069f&&(_0xd80fe1=_0xd80fe1['then'](_0x1dd2f6=>(_0x3d069f(_0xaea428,_0x1dd2f6),_0x1dd2f6))),_0x71f86d['push'](_0xd80fe1);}return _0x71f86d;};class kh{static['parse'](_0x2baf9b,_0x236048,_0xfc5867,_0x2c80e6,_0x270187,_0x4b27b7,_0x4a309c){GN(_0x2baf9b,_0xfc5867,(_0x47aaa4,_0x37ddd1)=>{if(_0x47aaa4){_0x4a309c(_0x47aaa4);return;}zN(_0x37ddd1['gltfChunk'],(_0x57cd1c,_0x2eb39f)=>{if(_0x57cd1c){_0x4a309c(_0x57cd1c);return;}const _0x575656=BN(_0x2eb39f,_0x37ddd1['binaryChun'+'k'],_0x236048,_0x4b27b7),_0x2c6da6=HN(_0x2eb39f,_0x575656,_0x4b27b7),_0x95bd02=kN(_0x2eb39f,_0x2c6da6,_0x236048,_0x270187,_0x4b27b7),_0x109626=UN(_0x2eb39f,_0x95bd02,_0x4b27b7);ON(_0x2c80e6,_0x2eb39f,_0x2c6da6,_0x109626,_0x4b27b7)['then'](_0x4417cb=>_0x4a309c(null,_0x4417cb))['catch'](_0x38a135=>_0x4a309c(_0x38a135));});});}static['createDefa'+'ultMateria'+'l'](){return w0({'name':'defaultGlb'+'Material'},[]);}}class WN extends Qe{constructor(_0x58d60d){super(_0x58d60d,'animation'),this['device']=_0x58d60d['graphicsDe'+'vice'],this['assets']=_0x58d60d['assets'];}['load'](_0x47c558,_0x20f3a2,_0x3aa782){typeof _0x47c558=='string'&&(_0x47c558={'load':_0x47c558,'original':_0x47c558});const _0x23145f={'retry':this['maxRetries']>0x1c3d+-0x1cf*0x13+0x620,'maxRetries':this['maxRetries']};(_0x47c558['load']['startsWith']('blob:')||_0x47c558['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x47c558['original'])['toLowerCas'+'e']()==='.glb'?_0x23145f['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x23145f['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x47c558['load'],_0x23145f,(_0x4d5f3e,_0x22fcc0)=>{_0x4d5f3e?_0x20f3a2('Error\x20load'+'ing\x20animat'+'ion\x20resour'+'ce:\x20'+_0x47c558['original']+'\x20['+_0x4d5f3e+']'):xe['getExtensi'+'on'](_0x47c558['original'])['toLowerCas'+'e']()==='.glb'?kh['parse']('filename.g'+'lb','',_0x22fcc0,this['device'],this['assets'],(_0x3aa782==null?void(-0x2239+-0x25ae+0x47e7):_0x3aa782['options'])??{},(_0x157522,_0x49ccba)=>{var _0x14e117;if(_0x157522)_0x20f3a2(_0x157522);else{const _0x2c130c=_0x49ccba['animations'];if((_0x14e117=_0x3aa782==null?void(0x216*0x1+-0x3b6*-0x8+0x1fc6*-0x1):_0x3aa782['data'])!=null&&_0x14e117['events']){for(let _0x572942=-0x3a6*-0x4+0x7f6+-0x168e;_0x572942<_0x2c130c['length'];_0x572942++)_0x2c130c[_0x572942]['events']=new Hv(Object['values'](_0x3aa782['data']['events']));}_0x49ccba['destroy'](),_0x20f3a2(null,_0x2c130c);}}):_0x20f3a2(null,this['_parseAnim'+'ationV'+_0x22fcc0['animation']['version']](_0x22fcc0));});}['open'](_0x3d2480,_0x205c3f,_0xe83bef){return _0x205c3f;}['_parseAnim'+'ationV3'](_0x3b2634){const _0x41fdd8=_0x3b2634['animation'],_0x5d2c4a=new ug();_0x5d2c4a['name']=_0x41fdd8['name'],_0x5d2c4a['duration']=_0x41fdd8['duration'];for(let _0x5bd11f=0x85*-0x6+-0x28*0x2f+0xa76;_0x5bd11f<_0x41fdd8['nodes']['length'];_0x5bd11f++){const _0x3f4e48=new fg(),_0x34f3b5=_0x41fdd8['nodes'][_0x5bd11f];_0x3f4e48['_name']=_0x34f3b5['name'];for(let _0x2786ad=-0x5d3*0x6+-0x230e+0x4600;_0x2786ad<_0x34f3b5['keys']['length'];_0x2786ad++){const _0x2ada14=_0x34f3b5['keys'][_0x2786ad],_0x2bb01c=_0x2ada14['time'],_0x4df704=_0x2ada14['pos'],_0x595f6b=_0x2ada14['rot'],_0x11c4fa=_0x2ada14['scale'],_0x35c4a4=new D(_0x4df704[0xe8d*0x2+0x21a8+-0x3ec2],_0x4df704[-0xb11+-0x4*-0x631+-0x2*0x6d9],_0x4df704[-0x1c98+-0x442+0x20dc]),_0x4e75ba=new le()['setFromEul'+'erAngles'](_0x595f6b[-0x5*-0xa3+0xdb5+-0x10e4],_0x595f6b[-0xa*-0x12f+-0x1722+0xb4d],_0x595f6b[0x13d9+-0x1*0x1e4f+-0x86*-0x14]),_0x549d2d=new D(_0x11c4fa[-0x5d*-0x67+-0x242*0x2+-0x20e7],_0x11c4fa[-0x2*-0xb5+-0x1*0x327+0x1be*0x1],_0x11c4fa[-0x1*-0x341+0xe*-0x5d+0x3*0x9d]),_0x3b5f92=new dg(_0x2bb01c,_0x35c4a4,_0x4e75ba,_0x549d2d);_0x3f4e48['_keys']['push'](_0x3b5f92);}_0x5d2c4a['addNode'](_0x3f4e48);}return _0x5d2c4a;}['_parseAnim'+'ationV4'](_0x4cc44c){const _0x62f296=_0x4cc44c['animation'],_0x2df2d7=new ug();_0x2df2d7['name']=_0x62f296['name'],_0x2df2d7['duration']=_0x62f296['duration'];for(let _0x3ebf93=0x24d9+0x22*0x58+-0x19*0x1f1;_0x3ebf93<_0x62f296['nodes']['length'];_0x3ebf93++){const _0x153016=new fg(),_0x6d058f=_0x62f296['nodes'][_0x3ebf93];_0x153016['_name']=_0x6d058f['name'];const _0x5c9364=_0x6d058f['defaults']['p'],_0xe51134=_0x6d058f['defaults']['r'],_0x2994f=_0x6d058f['defaults']['s'];for(let _0x2b685b=-0x365*0x7+-0x14ca+0x1*0x2c8d;_0x2b685b<_0x6d058f['keys']['length'];_0x2b685b++){const _0x5ddf18=_0x6d058f['keys'][_0x2b685b],_0x38bb4c=_0x5ddf18['t'],_0x2d5740=_0x5c9364||_0x5ddf18['p'],_0x42adb7=_0xe51134||_0x5ddf18['r'],_0x382778=_0x2994f||_0x5ddf18['s'],_0x15b1b4=new D(_0x2d5740[-0x13*0xa9+0x916+0x127*0x3],_0x2d5740[-0x643*0x1+-0xb*0xce+0xf1e],_0x2d5740[0x209*-0x1+-0x148d+0x1698]),_0x3b4062=new le()['setFromEul'+'erAngles'](_0x42adb7[-0x1*0x1156+0x31d+0xe39*0x1],_0x42adb7[0x2606+-0x143*0x1b+-0x3f4],_0x42adb7[0x752*0x1+0x10eb+-0x183b]),_0x49b9ee=new D(_0x382778[-0x1097+-0x8*0x1ca+0x1ee7],_0x382778[-0xc*-0x1e6+-0xc58+-0xa6f],_0x382778[0x8c2*0x3+0x14da+-0x1*0x2f1e]),_0x2f4bd0=new dg(_0x38bb4c,_0x15b1b4,_0x3b4062,_0x49b9ee);_0x153016['_keys']['push'](_0x2f4bd0);}_0x2df2d7['addNode'](_0x153016);}return _0x2df2d7;}}class $N extends Qe{constructor(_0x4af473){super(_0x4af473,'animclip');}['load'](_0x60a291,_0x279a88){typeof _0x60a291=='string'&&(_0x60a291={'load':_0x60a291,'original':_0x60a291});const _0x3d204d={'retry':this['maxRetries']>0x33b*0x1+0x830+-0xb6b,'maxRetries':this['maxRetries']};_0x60a291['load']['startsWith']('blob:')&&(_0x3d204d['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x60a291['load'],_0x3d204d,(_0x2a8a0a,_0x4b9e47)=>{_0x2a8a0a?_0x279a88('Error\x20load'+'ing\x20animat'+'ion\x20clip\x20r'+'esource:\x20'+_0x60a291['original']+'\x20['+_0x2a8a0a+']'):_0x279a88(null,_0x4b9e47);});}['open'](_0xdad902,_0x31847b){const _0x1bf0b9=_0x31847b['name'],_0x39b8bb=_0x31847b['duration'],_0xa91b3a=_0x31847b['inputs']['map'](_0x2ec528=>new Fh(0x1346*-0x2+0x745*-0x1+-0xff*-0x2e,_0x2ec528)),_0x43762a=_0x31847b['outputs']['map'](_0x394dd9=>new Fh(_0x394dd9['components'],_0x394dd9['data'])),_0x105ed4=_0x31847b['curves']['map'](_0x579249=>new v0([_0x579249['path']],_0x579249['inputIndex'],_0x579249['outputInde'+'x'],_0x579249['interpolat'+'ion']));return new Qi(_0x1bf0b9,_0x39b8bb,_0xa91b3a,_0x43762a,_0x105ed4);}}class XN extends Qe{constructor(_0x275fa9){super(_0x275fa9,'animstateg'+'raph');}['load'](_0x55029b,_0x18d6b2){typeof _0x55029b=='string'&&(_0x55029b={'load':_0x55029b,'original':_0x55029b});const _0x41d6da={'retry':this['maxRetries']>-0x1862+-0x44*0x56+0xa*0x4b9,'maxRetries':this['maxRetries']};_0x55029b['load']['startsWith']('blob:')&&(_0x41d6da['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x55029b['load'],_0x41d6da,(_0x5ef844,_0x5f18e2)=>{_0x5ef844?_0x18d6b2('Error\x20load'+'ing\x20animat'+'ion\x20state\x20'+'graph\x20reso'+'urce:\x20'+_0x55029b['original']+'\x20['+_0x5ef844+']'):_0x18d6b2(null,_0x5f18e2);});}['open'](_0x4169fc,_0x21380c){return new Jc(_0x21380c);}}const Af=(function(){if(typeof window>'u')return!(-0x20c8+0x16ec+-0x1f9*-0x5);const _0x1c9d12=window['navigator']['userAgent'],_0x593d75=_0x1c9d12['indexOf']('MSIE\x20');if(_0x593d75>0x1*-0x1101+-0x2*-0xe2d+-0xb59)return parseInt(_0x1c9d12['substring'](_0x593d75+(-0x7*-0x173+0x1bf7*-0x1+0x11d7),_0x1c9d12['indexOf']('.',_0x593d75)),-0x4ba+-0x17*-0xdd+-0xf17*0x1);if(_0x1c9d12['indexOf']('Trident/')>-0x1*-0x1532+0xd89+-0x22bb){const _0x3f0017=_0x1c9d12['indexOf']('rv:');return parseInt(_0x1c9d12['substring'](_0x3f0017+(-0x87e+-0xdbe*0x1+-0x5*-0x473),_0x1c9d12['indexOf']('.',_0x3f0017)),-0x1253+-0x1624+-0x1*-0x2881);}return!(0xbb1+-0x575*0x3+0x4af);}()),qN=['.ogg','.mp3','.wav','.mp4a','.m4a','.mp4','.aac','.opus'];class jN extends Qe{constructor(_0x12d37f){super(_0x12d37f,'audio'),this['manager']=_0x12d37f['soundManag'+'er'],w['assert'](this['manager'],'AudioHandl'+'er\x20cannot\x20'+'be\x20created'+'\x20without\x20s'+'ound\x20manag'+'er');}['_isSupport'+'ed'](_0x2eba8e){const _0x109fde=xe['getExtensi'+'on'](_0x2eba8e);return qN['indexOf'](_0x109fde)>-(0x903+-0x1*0x116f+0x86d)||_0x2eba8e['startsWith']('blob:');}['load'](_0x3d0f94,_0x440892){typeof _0x3d0f94=='string'&&(_0x3d0f94={'load':_0x3d0f94,'original':_0x3d0f94});const _0x5d141f=function(_0x5a03a2){_0x440892(null,new Mw(_0x5a03a2));},_0x4305e1=function(_0x4ceb98){let _0x330e2b='Error\x20load'+'ing\x20audio\x20'+'url:\x20'+_0x3d0f94['original'];_0x4ceb98&&(_0x330e2b+=':\x20'+(_0x4ceb98['message']||_0x4ceb98)),console['warn'](_0x330e2b),_0x440892(_0x330e2b);};if(this['_createSou'+'nd']){if(!this['_isSupport'+'ed'](_0x3d0f94['original'])){_0x4305e1('Audio\x20form'+'at\x20for\x20'+_0x3d0f94['original']+('\x20not\x20suppo'+'rted'));return;}this['_createSou'+'nd'](_0x3d0f94['load'],_0x5d141f,_0x4305e1);}else _0x4305e1(null);}['_createSou'+'nd'](_0x69edc8,_0x58bda6,_0x53512f){if(Dl()){const _0x5905d0=this['manager'];if(!_0x5905d0['context']){_0x53512f('Audio\x20mana'+'ger\x20has\x20no'+'\x20audio\x20con'+'text');return;}const _0x1595dc={'retry':this['maxRetries']>0x117*-0x21+0x11da*0x1+0x121d,'maxRetries':this['maxRetries']};(_0x69edc8['startsWith']('blob:')||_0x69edc8['startsWith']('data:'))&&(_0x1595dc['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']),ot['get'](_0x69edc8,_0x1595dc,(_0x588565,_0x11f9fd)=>{if(_0x588565){_0x53512f(_0x588565);return;}_0x5905d0['context']['decodeAudi'+'oData'](_0x11f9fd,_0x58bda6,_0x53512f);});}else{let _0x3c905e=null;try{_0x3c905e=new Audio();}catch{_0x53512f('No\x20support'+'\x20for\x20Audio'+'\x20element');return;}Af&&document['body']['appendChil'+'d'](_0x3c905e);const _0x2e80dd=function(){_0x3c905e['removeEven'+'tListener']('canplaythr'+'ough',_0x2e80dd),Af&&document['body']['removeChil'+'d'](_0x3c905e),_0x58bda6(_0x3c905e);};_0x3c905e['onerror']=function(){_0x3c905e['onerror']=null,Af&&document['body']['removeChil'+'d'](_0x3c905e),_0x53512f();},_0x3c905e['addEventLi'+'stener']('canplaythr'+'ough',_0x2e80dd),_0x3c905e['src']=_0x69edc8;}}}class YN extends Qe{constructor(_0x407601){super(_0x407601,'binary');}['load'](_0x18e135,_0x365e7f){typeof _0x18e135=='string'&&(_0x18e135={'load':_0x18e135,'original':_0x18e135}),ot['get'](_0x18e135['load'],{'responseType':Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER'],'retry':this['maxRetries']>-0x8ef*0x4+0x26b*0x9+0xdf9,'maxRetries':this['maxRetries']},(_0x317e6a,_0x43b0d0)=>{_0x317e6a?_0x365e7f('Error\x20load'+'ing\x20binary'+'\x20resource:'+'\x20'+_0x18e135['original']+'\x20['+_0x317e6a+']'):_0x365e7f(null,_0x43b0d0);});}['openBinary'](_0x504711){return _0x504711['buffer'];}}class yr{constructor(_0x1c3a03,_0x1501fa,_0x337a4f,_0x43d953){const _0xe96de0=function(_0x145b30,_0x5a268d,_0x19b523){const _0x990107=yr['createAsse'+'t'](_0x1501fa['name'],_0x145b30,_0x5a268d,_0x19b523);return _0x337a4f['add'](_0x990107),_0x990107;},_0x2a50a2=[];for(let _0x408f74=-0x1*0x1176+0x20ff*0x1+-0x61*0x29;_0x408f74<_0x1c3a03['renders']['length'];++_0x408f74)_0x2a50a2['push'](_0xe96de0('render',_0x1c3a03['renders'][_0x408f74],_0x408f74));const _0x366ada=[];for(let _0x44f26c=0x2*-0x9b+0x1a3f+-0x1909*0x1;_0x44f26c<_0x1c3a03['materials']['length'];++_0x44f26c)_0x366ada['push'](_0xe96de0('material',_0x1c3a03['materials'][_0x44f26c],_0x44f26c));const _0x5f5dc0=[];for(let _0x81c709=-0x23f5+-0x15e2+0x39d7;_0x81c709<_0x1c3a03['animations']['length'];++_0x81c709)_0x5f5dc0['push'](_0xe96de0('animation',_0x1c3a03['animations'][_0x81c709],_0x81c709));this['data']=_0x1c3a03,this['_model']=null,this['_assetName']=_0x1501fa['name'],this['_assets']=_0x337a4f,this['_defaultMa'+'terial']=_0x43d953,this['renders']=_0x2a50a2,this['materials']=_0x366ada,this['textures']=_0x1c3a03['textures'],this['animations']=_0x5f5dc0;}get['model'](){if(!this['_model']){const _0x185c8a=yr['createMode'+'l'](this['data'],this['_defaultMa'+'terial']),_0x5aab15=yr['createAsse'+'t'](this['_assetName'],'model',_0x185c8a,-0x4d*0x47+-0x1c40+-0x33*-0xf9);this['_assets']['add'](_0x5aab15),this['_model']=_0x5aab15;}return this['_model'];}static['createAsse'+'t'](_0x4d5b2e,_0x95533,_0x4995bf,_0x28ac68){const _0x480e35=new pe(_0x4d5b2e+'/'+_0x95533+'/'+_0x28ac68,_0x95533,{'url':''});return _0x480e35['resource']=_0x4995bf,_0x480e35['loaded']=!(-0x1f86+-0x9d*-0x20+0x5f3*0x2),_0x480e35;}['instantiat'+'eModelEnti'+'ty'](_0x36c4b9){const _0x1709c2=new lt(void(-0x116c+0x34f*-0x1+0x3d*0x57),this['_assets']['_loader']['_app']);return _0x1709c2['addCompone'+'nt']('model',Object['assign']({'type':'asset','asset':this['model']},_0x36c4b9)),_0x1709c2;}['instantiat'+'eRenderEnt'+'ity'](_0x53c9bc){const _0x741899=this['_defaultMa'+'terial'],_0x3b3bb6=[],_0x175140=function(_0x459bb9,_0x25c48a,_0x460270,_0xf7d376,_0x429e28,_0x4d1b57,_0x5f4395,_0xaed45c){const _0x593d17=_0x429e28[_0x460270['id']],_0x39d580=_0x593d17===void(0xafe+0x251*0xe+-0xadb*0x4)?_0x741899:_0xf7d376[_0x593d17],_0x56c3f2=new He(_0x460270,_0x39d580);_0x460270['morph']&&(_0x56c3f2['morphInsta'+'nce']=new xa(_0x460270['morph'])),_0x5f4395['hasOwnProp'+'erty']('skin')&&_0x3b3bb6['push']({'meshInstance':_0x56c3f2,'rootBone':_0x459bb9,'entity':_0x25c48a});const _0x3301d5=_0xaed45c['get'](_0x5f4395);if(_0x3301d5){const _0x42a0cc=_0x3301d5['matrices'],_0x45656b=kt['getDefault'+'Instancing'+'Format'](_0x460270['device']),_0x19b51f=new Is(_0x460270['device'],_0x45656b,_0x42a0cc['length']/(0x5*0x4d1+-0x18f7+0xf2),{'data':_0x42a0cc});_0x56c3f2['setInstanc'+'ing'](_0x19b51f),_0x56c3f2['instancing'+'Data']['_destroyVe'+'rtexBuffer']=!(0x29c+0x6ec+-0x988);}return _0x56c3f2;},_0x5389bd=(_0x1c0f3c,_0x43aff5,_0x424dab)=>{const _0x266f35=new lt(void(-0x14c7+-0x1b55*0x1+-0xc07*-0x4),this['_assets']['_loader']['_app']);_0x43aff5['_cloneInte'+'rnal'](_0x266f35),_0x1c0f3c||(_0x1c0f3c=_0x266f35);let _0x5e5e6d=null,_0x5b5f89=null;for(let _0x200993=-0xe20+-0x5e*0x30+0xfe*0x20;_0x200993<_0x424dab['nodes']['length'];_0x200993++)if(_0x424dab['nodes'][_0x200993]===_0x43aff5){const _0x2f1529=_0x424dab['gltf']['nodes'][_0x200993];if(_0x2f1529['hasOwnProp'+'erty']('mesh')){const _0x3a5e09=_0x424dab['renders'][_0x2f1529['mesh']]['meshes'];_0x5b5f89=this['renders'][_0x2f1529['mesh']];for(let _0x428502=-0x2341+0x23ca*-0x1+0x470b;_0x428502<_0x3a5e09['length'];_0x428502++){const _0x3e8a15=_0x3a5e09[_0x428502];if(_0x3e8a15){const _0x35c214=_0x175140(_0x1c0f3c,_0x266f35,_0x3e8a15,_0x424dab['materials'],_0x424dab['meshDefaul'+'tMaterials'],_0x424dab['skins'],_0x2f1529,_0x424dab['nodeInstan'+'cingMap']);_0x5e5e6d||(_0x5e5e6d=[]),_0x5e5e6d['push'](_0x35c214);}}}if(_0x424dab['lights']){const _0x1a5074=_0x424dab['lights']['get'](_0x2f1529);_0x1a5074&&_0x266f35['addChild'](_0x1a5074['clone']());}if(_0x424dab['cameras']){const _0x55269b=_0x424dab['cameras']['get'](_0x2f1529);_0x55269b&&_0x55269b['camera']['system']['cloneCompo'+'nent'](_0x55269b,_0x266f35);}}_0x5e5e6d&&(_0x266f35['addCompone'+'nt']('render',Object['assign']({'type':'asset','meshInstances':_0x5e5e6d},_0x53c9bc)),_0x266f35['render']['assignAsse'+'t'](_0x5b5f89));const _0x1bbd4c=_0x43aff5['children'];for(let _0x1ee161=0x1f1b+-0x1*0x21ff+-0x4*-0xb9;_0x1ee161<_0x1bbd4c['length'];_0x1ee161++){const _0x43c4da=_0x5389bd(_0x1c0f3c,_0x1bbd4c[_0x1ee161],_0x424dab);_0x266f35['addChild'](_0x43c4da);}return _0x266f35;},_0x39f1f8=[];for(const _0x21b216 of this['data']['scenes'])_0x39f1f8['push'](_0x5389bd(null,_0x21b216,this['data']));return _0x3b3bb6['forEach'](_0x1596b7=>{_0x1596b7['meshInstan'+'ce']['skinInstan'+'ce']=_l['createCach'+'edSkinInst'+'ance'](_0x1596b7['meshInstan'+'ce']['mesh']['skin'],_0x1596b7['rootBone'],_0x1596b7['entity']),_0x1596b7['meshInstan'+'ce']['node']['render']['rootBone']=_0x1596b7['rootBone'];}),yr['createScen'+'eHierarchy'](_0x39f1f8,lt);}['getMateria'+'lVariants'](){return this['data']['variants']?Object['keys'](this['data']['variants']):[];}['applyMater'+'ialVariant'](_0x308a52,_0x34b070){const _0x12d813=_0x34b070?this['data']['variants'][_0x34b070]:null;if(_0x12d813===void(0xe7f+-0x1f7a+0x10fb)){w['warn']('No\x20variant'+'\x20named\x20'+_0x34b070+('\x20exists\x20in'+'\x20resource'));return;}const _0x5e9d29=_0x308a52['findCompon'+'ents']('render');for(let _0x389d03=-0x1e6a+-0x2*0xdea+0x5*0xba6;_0x389d03<_0x5e9d29['length'];_0x389d03++){const _0xec49dd=_0x5e9d29[_0x389d03];this['_applyMate'+'rialVarian'+'t'](_0x12d813,_0xec49dd['meshInstan'+'ces']);}}['applyMater'+'ialVariant'+'Instances'](_0x3afa28,_0x195780){const _0x3bfc90=_0x195780?this['data']['variants'][_0x195780]:null;if(_0x3bfc90===void(0x67+0x2*0x645+-0xcf1)){w['warn']('No\x20variant'+'\x20named\x20'+_0x195780+('\x20exists\x20in'+'\x20resource'));return;}this['_applyMate'+'rialVarian'+'t'](_0x3bfc90,_0x3afa28);}['_applyMate'+'rialVarian'+'t'](_0x18b9db,_0x3aeb32){_0x3aeb32['forEach'](_0x1d5cad=>{if(_0x18b9db===null)_0x1d5cad['material']=this['_defaultMa'+'terial'];else{const _0x28c9c8=this['data']['meshVarian'+'ts'][_0x1d5cad['mesh']['id']];_0x28c9c8&&(_0x1d5cad['material']=this['data']['materials'][_0x28c9c8[_0x18b9db]]);}w['assert'](_0x1d5cad['material']);});}static['createScen'+'eHierarchy'](_0x2b7c27,_0x26b07c){let _0x5b7f26=null;if(_0x2b7c27['length']===-0x3a8+0x4b4*0x1+-0x10b)_0x5b7f26=_0x2b7c27[0x20ce+0x1d0b+0x47*-0xdf];else{_0x5b7f26=new _0x26b07c('SceneGroup');for(const _0x3e0a4f of _0x2b7c27)_0x5b7f26['addChild'](_0x3e0a4f);}return _0x5b7f26;}static['createMode'+'l'](_0x1f4725,_0x3f728a){const _0x2530d5=function(_0xdf2ff,_0x10121f,_0x1a48e0,_0x34b2c4,_0x9c14ab,_0x42c215,_0xd5797f){const _0x3e526d=_0x1f4725['meshDefaul'+'tMaterials'][_0x10121f['id']],_0x5f1ad9=_0x3e526d===void(-0x1*-0x166d+0xf*-0x51+-0x11ae)?_0x3f728a:_0x9c14ab[_0x3e526d],_0x32f20e=new He(_0x10121f,_0x5f1ad9,_0x42c215);if(_0x10121f['morph']){const _0x3f2831=new xa(_0x10121f['morph']);_0x32f20e['morphInsta'+'nce']=_0x3f2831,_0xdf2ff['morphInsta'+'nces']['push'](_0x3f2831);}if(_0xd5797f['hasOwnProp'+'erty']('skin')){const _0x2a5e32=_0xd5797f['skin'],_0x4bbcc9=_0x1a48e0[_0x2a5e32];_0x10121f['skin']=_0x4bbcc9;const _0x3d8bbd=_0x34b2c4[_0x2a5e32];_0x32f20e['skinInstan'+'ce']=_0x3d8bbd,_0xdf2ff['skinInstan'+'ces']['push'](_0x3d8bbd);}_0xdf2ff['meshInstan'+'ces']['push'](_0x32f20e);},_0x121b05=new sr(),_0xf83bae=[];for(const _0x156c3f of _0x1f4725['skins']){const _0x4ecf24=new Ol(_0x156c3f);_0x4ecf24['bones']=_0x156c3f['bones'],_0xf83bae['push'](_0x4ecf24);}_0x121b05['graph']=yr['createScen'+'eHierarchy'](_0x1f4725['scenes'],Ie);for(let _0xc9e77b=0x2f*0xd2+-0xb35+-0x1b59;_0xc9e77b<_0x1f4725['nodes']['length'];_0xc9e77b++){const _0x45b710=_0x1f4725['nodes'][_0xc9e77b];if(_0x45b710['root']===_0x121b05['graph']){const _0x400548=_0x1f4725['gltf']['nodes'][_0xc9e77b];if(_0x400548['hasOwnProp'+'erty']('mesh')){const _0x45ccb6=_0x1f4725['renders'][_0x400548['mesh']]['meshes'];for(let _0x38101c=-0x2644+-0xf29*0x1+0x356d;_0x38101c<_0x45ccb6['length'];_0x38101c++){const _0xf2f5c9=_0x45ccb6[_0x38101c];_0xf2f5c9&&_0x2530d5(_0x121b05,_0xf2f5c9,_0x1f4725['skins'],_0xf83bae,_0x1f4725['materials'],_0x45b710,_0x400548);}}}}return _0x121b05;}['destroy'](){const _0x2f9210=this['_assets'],_0x22ab9e=function(_0x2aaeab){_0x2f9210['remove'](_0x2aaeab),_0x2aaeab['unload']();},_0x60089c=function(_0xfb5105){_0xfb5105['forEach'](_0x2ddbd8=>{_0x22ab9e(_0x2ddbd8);});};this['animations']&&(_0x60089c(this['animations']),this['animations']=null),this['textures']&&(_0x60089c(this['textures']),this['textures']=null),this['materials']&&(_0x60089c(this['materials']),this['materials']=null),this['renders']&&(_0x60089c(this['renders']),this['renders']=null),this['_model']&&(_0x22ab9e(this['_model']),this['_model']=null),this['data']=null,this['assets']=null;}}class KN{constructor(_0x231703,_0x2df9dc,_0x5c4618){this['_device']=_0x231703,this['_assets']=_0x2df9dc,this['_defaultMa'+'terial']=kh['createDefa'+'ultMateria'+'l'](),this['maxRetries']=_0x5c4618;}['_getUrlWit'+'houtParams'](_0x248db3){return _0x248db3['indexOf']('?')>=-0x5*-0x5c9+0x1844*-0x1+-0x4a9?_0x248db3['split']('?')[-0x1*-0x1d95+-0x1cf+-0x4f*0x5a]:_0x248db3;}['load'](_0x5bc3ce,_0x4c51fb,_0x2ae236){pe['fetchArray'+'Buffer'](_0x5bc3ce['load'],(_0x24ee29,_0x1ad55a)=>{_0x24ee29?_0x4c51fb(_0x24ee29):kh['parse'](this['_getUrlWit'+'houtParams'](_0x5bc3ce['original']),xe['extractPat'+'h'](_0x5bc3ce['load']),_0x1ad55a,this['_device'],_0x2ae236['registry'],_0x2ae236['options'],(_0x268526,_0x2f3f25)=>{_0x268526?_0x4c51fb(_0x268526):_0x4c51fb(null,new yr(_0x2f3f25,_0x2ae236,this['_assets'],this['_defaultMa'+'terial']));});},_0x2ae236,this['maxRetries']);}['open'](_0x3ce12c,_0x3147ba,_0x4a5b37){return _0x3147ba;}['patch'](_0x5d4e60,_0x296624){}}class ZN extends Qe{constructor(_0x56da63){super(_0x56da63,'container'),this['glbContain'+'erParser']=new KN(_0x56da63['graphicsDe'+'vice'],_0x56da63['assets'],-0x2e*-0x4c+-0x170d+0x965),this['parsers']={};}set['maxRetries'](_0x3610c0){this['glbContain'+'erParser']['maxRetries']=_0x3610c0;for(const _0x34f9b0 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x34f9b0)&&(this['parsers'][_0x34f9b0]['maxRetries']=_0x3610c0);}get['maxRetries'](){return this['glbContain'+'erParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x15659d){return _0x15659d['indexOf']('?')>=0xbe*-0x6+0x37b+-0x3*-0x53?_0x15659d['split']('?')[-0x2319+-0x1cd*-0x10+0x1*0x649]:_0x15659d;}['_getParser'](_0x303b68){const _0x2c1aa9=_0x303b68?xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x303b68))['toLowerCas'+'e']()['replace']('.',''):null;return this['parsers'][_0x2c1aa9]||this['glbContain'+'erParser'];}['load'](_0x3424dc,_0x21f2b8,_0x2f32c5){typeof _0x3424dc=='string'&&(_0x3424dc={'load':_0x3424dc,'original':_0x3424dc}),this['_getParser'](_0x3424dc['original'])['load'](_0x3424dc,_0x21f2b8,_0x2f32c5);}['open'](_0x52acc6,_0x60f0ec,_0x1a24e6){return this['_getParser'](_0x52acc6)['open'](_0x52acc6,_0x60f0ec,_0x1a24e6);}}class QN extends Qe{constructor(_0x29d6cc){super(_0x29d6cc,'css'),h(this,'decoder',null);}['load'](_0x1f377e,_0x1794bd){typeof _0x1f377e=='string'&&(_0x1f377e={'load':_0x1f377e,'original':_0x1f377e}),ot['get'](_0x1f377e['load'],{'retry':this['maxRetries']>-0x9*-0x24b+0x1*0xa5a+-0x1efd,'maxRetries':this['maxRetries']},(_0x984410,_0x369014)=>{_0x984410?_0x1794bd('Error\x20load'+'ing\x20css\x20re'+'source:\x20'+_0x1f377e['original']+'\x20['+_0x984410+']'):_0x1794bd(null,_0x369014);});}['openBinary'](_0x11061a){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x11061a);}}class JN extends Qe{constructor(_0x1e5ea0){super(_0x1e5ea0,'cubemap'),this['_device']=_0x1e5ea0['graphicsDe'+'vice'],this['_registry']=_0x1e5ea0['assets'],this['_loader']=_0x1e5ea0['loader'];}['load'](_0x2adbbe,_0x10f1e5,_0x14d015){this['loadAssets'](_0x14d015,_0x10f1e5);}['open'](_0x16012b,_0x114809,_0x50ac60){return _0x50ac60?_0x50ac60['resource']:null;}['patch'](_0x4d0a78,_0x6a077e){this['loadAssets'](_0x4d0a78,(_0x32c420,_0x38050a)=>{_0x32c420&&(_0x6a077e['fire']('error',_0x4d0a78),_0x6a077e['fire']('error:'+_0x4d0a78['id'],_0x32c420,_0x4d0a78),_0x4d0a78['fire']('error',_0x4d0a78));});}['getAssetId'+'s'](_0x4960cc){const _0x1d6696=[];if(_0x1d6696[0x2225*-0x1+0xea9+-0x9be*-0x2]=_0x4960cc['file'],(_0x4960cc['loadFaces']||!_0x4960cc['file'])&&_0x4960cc['data']&&_0x4960cc['data']['textures']){for(let _0x11a9ca=-0xb67+0x1b4b+-0x3f9*0x4;_0x11a9ca<-0x1*-0x63f+0x16c4+-0x1cfd;++_0x11a9ca)_0x1d6696[_0x11a9ca+(0x517+-0x1*0x18ce+0x13b8)]=_0x4960cc['data']['textures'][_0x11a9ca];}else _0x1d6696[-0x3*0x7b1+0x11c8+0x54c]=_0x1d6696[-0x13d0+0x14b1+0xdf*-0x1]=_0x1d6696[-0x57f+0x35*0x47+-0x1*0x931]=_0x1d6696[-0xba3*-0x3+-0x991+-0x1954]=_0x1d6696[0x1d43+-0x2190+0x452]=_0x1d6696[0x234d+0x2154+-0x449b]=null;return _0x1d6696;}['compareAss'+'etIds'](_0x15b13e,_0x4ffc02){return _0x15b13e&&_0x4ffc02?parseInt(_0x15b13e,0xf39+0x14b3*-0x1+0x584)===_0x15b13e||typeof _0x15b13e=='string'?_0x15b13e===_0x4ffc02:_0x15b13e['url']===_0x4ffc02['url']:_0x15b13e!==null==(_0x4ffc02!==null);}['update'](_0x3e8072,_0x3e1712,_0x4aee25){const _0x5f4043=_0x3e8072['data']||{},_0x4139b6=_0x3e8072['_handlerSt'+'ate']['assets'],_0x4528da=_0x3e8072['_resources'];let _0x4556c6,_0x2792c1,_0x393273;const _0x1b8d21=[null,null,null,null,null,null,null],_0x1900f4=function(){return _0x5f4043['hasOwnProp'+'erty']('type')?_0x5f4043['type']:_0x5f4043['hasOwnProp'+'erty']('rgbm')?_0x5f4043['rgbm']?Zi:Ds:null;};if(!_0x3e8072['loaded']||_0x4aee25[-0x1129+0x101b*0x1+0x10e]!==_0x4139b6[0xa*0x8d+-0x1*0x2e2+-0x70*0x6]){if(_0x4aee25[-0x6*-0x37b+-0x3b*-0x4b+-0x1*0x262b]){if(_0x4556c6=_0x4aee25[-0x1359+0x2c*0x60+0x2d9]['resource'],_0x4556c6['cubemap']){for(_0x393273=0x1*0x41c+-0x1*0x22c3+-0x13*-0x19d;_0x393273<0x1*0x25a7+0x2*0x1215+-0x49cb;++_0x393273)_0x1b8d21[_0x393273+(-0xf44*-0x2+-0xabd*-0x1+-0xa51*0x4)]=new _e(this['_device'],{'name':_0x3e8072['name']+('_prelitCub'+'emap')+(_0x4556c6['width']>>_0x393273),'cubemap':!(-0xc61*0x3+0x377*0xb+-0xfa),'type':_0x1900f4()||_0x4556c6['type'],'width':_0x4556c6['width']>>_0x393273,'height':_0x4556c6['height']>>_0x393273,'format':_0x4556c6['format'],'levels':[_0x4556c6['_levels'][_0x393273]],'addressU':ue,'addressV':ue,'mipmaps':_0x393273===-0x1*0xdc7+0x2*-0x1ea+-0x119b*-0x1});}else _0x1b8d21[0x2281+0x1e61+0x3d1*-0x11]=_0x4556c6;}}else _0x1b8d21[-0x149*-0x11+0x75*-0x29+-0x31b]=_0x4528da[0x12e7+-0xdf*0x1f+-0x5*-0x19f]||null,_0x1b8d21[0x945*-0x4+-0x1401*0x1+0x3917]=_0x4528da[-0x5*-0x1a7+0x2367+-0x2ba8]||null,_0x1b8d21[0x16ed+0x11*-0x97+-0xce3]=_0x4528da[0x579+0x1e18+-0xf6*0x25]||null,_0x1b8d21[-0x3*0x30e+-0x9*-0x208+-0x91a]=_0x4528da[0x1*-0x20da+-0x1c69+0x6cf*0x9]||null,_0x1b8d21[-0xc0b*0x2+0x15ad+0x26e]=_0x4528da[0x8*-0xf7+0x19eb*0x1+0x122e*-0x1]||null,_0x1b8d21[0x444*0x1+0x16ff+0x1b3d*-0x1]=_0x4528da[-0x45c+-0x93a+0xd9c]||null;const _0x3ab81e=_0x4aee25['slice'](0x1*-0x97+-0x18da+-0x1972*-0x1);if(!_0x3e8072['loaded']||!this['cmpArrays'](_0x3ab81e,_0x4139b6['slice'](-0x4f*-0x29+0x1*0xc3e+-0x18e4))){if(_0x3ab81e['indexOf'](null)===-(0x2313+0xa68+0x16bd*-0x2)){const _0x255d30=_0x3ab81e['map'](_0x44630f=>_0x44630f['resource']),_0x55a17a=[];for(_0x2792c1=-0x1*-0xcab+-0x50a*0x4+0x77d;_0x2792c1<_0x255d30[0x6e1*-0x2+-0x60d+-0x13cf*-0x1]['_levels']['length'];++_0x2792c1)_0x55a17a['push'](_0x255d30['map'](_0x1d9c94=>_0x1d9c94['_levels'][_0x2792c1]));const _0x1a1278=_0x255d30[0x88b+0x3*0x178+-0xcf3]['format'],_0x18a26d=new _e(this['_device'],{'name':_0x3e8072['name']+'_faces','cubemap':!(-0x7eb+-0x715+0xf00),'type':_0x1900f4()||_0x255d30[0x24b7+-0x1e+-0x2499]['type'],'width':_0x255d30[0x1*-0x1817+-0x1a9f+0x32b6]['width'],'height':_0x255d30[-0xe63*-0x2+0xfd+-0x1dc3*0x1]['height'],'format':_0x1a1278===Cr?Ne:_0x1a1278,'mipmaps':_0x5f4043['mipmaps']??!(-0x18c8+-0xad*0xb+-0xabd*-0x3),'levels':_0x55a17a,'minFilter':_0x5f4043['hasOwnProp'+'erty']('minFilter')?_0x5f4043['minFilter']:_0x255d30[0x1*-0x19cf+0x1*0xfc5+0xa0a]['minFilter'],'magFilter':_0x5f4043['hasOwnProp'+'erty']('magFilter')?_0x5f4043['magFilter']:_0x255d30[0x109c+-0x1*-0x12bf+-0x235b]['magFilter'],'anisotropy':_0x5f4043['hasOwnProp'+'erty']('anisotropy')?_0x5f4043['anisotropy']:-0x2d5+0x1f7*-0x5+0xca9,'addressU':ue,'addressV':ue});_0x1b8d21[-0x1*0x1cd6+0x207f+-0x3a9]=_0x18a26d;}}else _0x1b8d21[0x3*-0x239+-0x48*0xd+-0x3*-0x371]=_0x4528da[-0x1*0x2231+-0x2487+0x46b8]||null;if(!this['cmpArrays'](_0x1b8d21,_0x4528da)){for(_0x3e8072['resources']=_0x1b8d21,_0x3e8072['_handlerSt'+'ate']['assetIds']=_0x3e1712,_0x3e8072['_handlerSt'+'ate']['assets']=_0x4aee25,_0x393273=0x154f+-0x1c57+0x5*0x168;_0x393273<_0x4528da['length'];++_0x393273)_0x4528da[_0x393273]!==null&&_0x1b8d21['indexOf'](_0x4528da[_0x393273])===-(-0xfd3*-0x2+-0x2420+0x47b)&&_0x4528da[_0x393273]['destroy']();}for(_0x393273=0x193a+-0x16e3+-0x1*0x257;_0x393273<_0x4139b6['length'];++_0x393273)_0x4139b6[_0x393273]!==null&&_0x4aee25['indexOf'](_0x4139b6[_0x393273])===-(0xe9+0xf*-0x288+0x2510)&&_0x4139b6[_0x393273]['unload']();}['cmpArrays'](_0x3602d5,_0x567819){if(_0x3602d5['length']!==_0x567819['length'])return!(-0x79d+0x107*0x7+0x6d);for(let _0x459cb1=0x1475*-0x1+-0x10d*-0x25+0x6*-0x312;_0x459cb1<_0x3602d5['length'];++_0x459cb1)if(_0x3602d5[_0x459cb1]!==_0x567819[_0x459cb1])return!(0x1ab5+0x1*-0x2603+-0xb4f*-0x1);return!(0x25ec+-0x2339+-0x1*0x2b3);}['resolveId'](_0x45c828){const _0x25e5c6=parseInt(_0x45c828,0x1*-0x26e7+0x12f0+0x1401);return _0x25e5c6===_0x45c828||_0x25e5c6['toString']()===_0x45c828?_0x25e5c6:_0x45c828;}['loadAssets'](_0x3c9c65,_0x8e89ca){_0x3c9c65['hasOwnProp'+'erty']('_handlerSt'+'ate')||(_0x3c9c65['_handlerSt'+'ate']={'assetIds':[null,null,null,null,null,null,null],'assets':[null,null,null,null,null,null,null]});const _0x369882=this,_0x201c74=_0x369882['getAssetId'+'s'](_0x3c9c65),_0x1a85f6=[null,null,null,null,null,null,null],_0x3b5bbd=_0x3c9c65['_handlerSt'+'ate']['assetIds'],_0x258772=_0x3c9c65['_handlerSt'+'ate']['assets'],_0x2903c4=_0x369882['_registry'];let _0x16dcd7=-0xc1+0x21dc+-0x2114;const _0x4c7897=function(_0x355e0b,_0x4d882a){_0x1a85f6[_0x355e0b]=_0x4d882a,_0x16dcd7--,_0x16dcd7===-0x469+0x5*0x270+-0x7c7&&(_0x369882['update'](_0x3c9c65,_0x201c74,_0x1a85f6),_0x8e89ca(null,_0x3c9c65['resources']));},_0x3282b0=function(_0x24c3a9,_0x330f55,_0x52ec22){_0x8e89ca(_0x330f55);},_0x3d07df=function(_0x1536bb,_0x27e7ec){_0x27e7ec['loaded']?_0x4c7897(_0x1536bb,_0x27e7ec):(_0x2903c4['once']('load:'+_0x27e7ec['id'],_0x4c7897['bind'](_0x369882,_0x1536bb)),_0x2903c4['once']('error:'+_0x27e7ec['id'],_0x3282b0['bind'](_0x369882,_0x1536bb)),_0x27e7ec['loading']||_0x2903c4['load'](_0x27e7ec));};let _0x3c881f;for(let _0x5d3021=0x17a4*-0x1+0x1*-0x529+0x1*0x1ccd;_0x5d3021<0x1*0x136d+-0xfe3+-0x1f*0x1d;++_0x5d3021){const _0x26d90a=this['resolveId'](_0x201c74[_0x5d3021]);if(!_0x26d90a)_0x4c7897(_0x5d3021,null);else{if(_0x369882['compareAss'+'etIds'](_0x26d90a,_0x3b5bbd[_0x5d3021]))_0x3d07df(_0x5d3021,_0x258772[_0x5d3021]);else{if(parseInt(_0x26d90a,-0x25f*0x8+-0x1878+-0x46*-0x9f)===_0x26d90a)_0x3c881f=_0x2903c4['get'](_0x26d90a),_0x3c881f?_0x3d07df(_0x5d3021,_0x3c881f):setTimeout(((_0x39fb8a,_0x2ea2fe)=>{const _0x369317=_0x2903c4['get'](_0x2ea2fe);_0x369317?_0x3d07df(_0x39fb8a,_0x369317):_0x3282b0(_0x39fb8a,'failed\x20to\x20'+'find\x20depen'+'dent\x20cubem'+'ap\x20asset='+_0x2ea2fe);})['bind'](null,_0x5d3021,_0x26d90a));else{const _0xa6a7e3=typeof _0x26d90a=='string'?{'url':_0x26d90a,'filename':_0x26d90a}:_0x26d90a,_0x46e1fa=_0xa6a7e3['url']['search']('.dds')===-(-0xca*0x13+-0x3*0x55d+0xad*0x2e)?{'type':'rgbp','addressu':'clamp','addressv':'clamp','mipmaps':!(-0xfb3*0x1+-0x1bf7+0x2bab)}:null;_0x3c881f=new pe(_0x3c9c65['name']+'_part_'+_0x5d3021,'texture',_0xa6a7e3,_0x46e1fa),_0x2903c4['add'](_0x3c881f),_0x3d07df(_0x5d3021,_0x3c881f);}}}}}}class ek extends Qe{constructor(_0x1a22ca){super(_0x1a22ca,'folder');}['load'](_0x2fb71d,_0x29dd9e){_0x29dd9e(null,null);}}class yS{constructor(_0x32ac00,_0x193011){this['type']=_0x193011&&_0x193011['type']||Rh,this['em']=0xf25+0xfdf+-0x1f03,this['textures']=_0x32ac00,this['intensity']=0x22*-0x7+0xd2*0x11+-0xd04,this['_data']=null,this['data']=_0x193011;}set['data'](_0x38c761){if(this['_data']=_0x38c761,!!_0x38c761&&(this['_data']['intensity']!==void(-0x1056+-0xe1+0x1137)&&(this['intensity']=this['_data']['intensity']),this['_data']['info']||(this['_data']['info']={}),(!this['_data']['version']||this['_data']['version']<0x4b*-0x1+0x75d+-0x10*0x71)&&(this['_data']['info']['maps']=[{'width':this['_data']['info']['width'],'height':this['_data']['info']['height']}],this['_data']['chars']))){for(const _0x13180e in this['_data']['chars'])this['_data']['chars'][_0x13180e]['map']=-0x23a5+0xbb7*0x2+0xc37;}}get['data'](){return this['_data'];}}function Cf(_0x1797d2){return _0x1797d2['version']<-0xfbe+-0xbda+-0x25*-0xbf&&(_0x1797d2['version']<0x1b8f+-0x67f+-0x150e&&(_0x1797d2['info']['maps']=_0x1797d2['info']['maps']||[{'width':_0x1797d2['info']['width'],'height':_0x1797d2['info']['height']}]),_0x1797d2['chars']=Object['keys'](_0x1797d2['chars']||{})['reduce']((_0x36a79a,_0x32ca1d)=>{const _0x3eb6ad=_0x1797d2['chars'][_0x32ca1d],_0x431331=_0x3eb6ad['letter']!==void(-0x2*-0x108d+0xf10+-0x302a)?_0x3eb6ad['letter']:Hc['fromCodePo'+'int'](_0x32ca1d);return _0x1797d2['version']<-0x1a3e+0xec7+0xb79&&(_0x3eb6ad['map']=_0x3eb6ad['map']||0xfb+0xd00+0x3*-0x4a9),_0x36a79a[_0x431331]=_0x3eb6ad,_0x36a79a;},{}),_0x1797d2['version']=-0x193a+-0x67d*-0x1+0xc8*0x18),_0x1797d2;}class tk extends Qe{constructor(_0x597f29){super(_0x597f29,'font'),this['_loader']=_0x597f29['loader'],this['maxRetries']=-0x4*-0x76e+-0x5da+-0x17de;}['load'](_0x2694e4,_0x1b44a3,_0x54d701){typeof _0x2694e4=='string'&&(_0x2694e4={'load':_0x2694e4,'original':_0x2694e4});const _0x49e2ec=this;xe['getExtensi'+'on'](_0x2694e4['original'])==='.json'?ot['get'](_0x2694e4['load'],{'retry':this['maxRetries']>0x8f7+0x2551*0x1+-0x1*0x2e48,'maxRetries':this['maxRetries']},(_0x5b50be,_0x2a1ebd)=>{if(_0x5b50be)_0x1b44a3('Error\x20load'+'ing\x20font\x20r'+'esource:\x20'+_0x2694e4['original']+'\x20['+_0x5b50be+']');else{const _0x4e9960=Cf(_0x2a1ebd);_0x49e2ec['_loadTextu'+'res'](_0x2694e4['load']['replace']('.json','.png'),_0x4e9960,(_0x55d77d,_0xa2431b)=>{_0x55d77d?_0x1b44a3(_0x55d77d):_0x1b44a3(null,{'data':_0x4e9960,'textures':_0xa2431b});});}}):(_0x54d701&&_0x54d701['data']&&(_0x54d701['data']=Cf(_0x54d701['data'])),this['_loadTextu'+'res'](_0x2694e4['load'],_0x54d701&&_0x54d701['data'],_0x1b44a3));}['_loadTextu'+'res'](_0x5e57ce,_0x2cece9,_0x5b57f9){const _0x2e0ab3=_0x2cece9['info']['maps']['length'];let _0x442e88=-0x25f4+0x3*0x8a0+0x4*0x305,_0x46ee9a=null;const _0xa13310=new Array(_0x2e0ab3),_0x1b4571=this['_loader'],_0x4f5131=function(_0x558055){const _0x2996b4=function(_0x10f92a,_0x3fc794){if(!_0x46ee9a){if(_0x10f92a){_0x46ee9a=_0x10f92a,_0x5b57f9(_0x10f92a);return;}_0x3fc794['upload'](),_0xa13310[_0x558055]=_0x3fc794,_0x442e88++,_0x442e88===_0x2e0ab3&&_0x5b57f9(null,_0xa13310);}};_0x558055===-0x2*0xb61+-0x523*0x4+-0x2*-0x15a7?_0x1b4571['load'](_0x5e57ce,'texture',_0x2996b4):_0x1b4571['load'](_0x5e57ce['replace']('.png',_0x558055+'.png'),'texture',_0x2996b4);};for(let _0x13fb75=0x8*-0x1b4+-0x1490+0x223*0x10;_0x13fb75<_0x2e0ab3;_0x13fb75++)_0x4f5131(_0x13fb75);}['open'](_0x5c9721,_0x50deca,_0x3c2692){let _0x3d8ea3;return _0x50deca['textures']?_0x3d8ea3=new yS(_0x50deca['textures'],_0x50deca['data']):_0x3d8ea3=new yS(_0x50deca,null),_0x3d8ea3;}['patch'](_0x23b092,_0x331e82){const _0x16344f=_0x23b092['resource'];!_0x16344f['data']&&_0x23b092['data']?_0x16344f['data']=_0x23b092['data']:!_0x23b092['data']&&_0x16344f['data']&&(_0x23b092['data']=_0x16344f['data']),_0x23b092['data']&&(_0x23b092['data']=Cf(_0x23b092['data']));}}async function sk(){const _0x276bac=0x1fdd+0x15*-0x1c4+0x537+0.28209479177387814;class _0xcf038d{constructor(_0x8bcd88,_0x29582f,_0x428964){this['x']=_0x8bcd88,this['y']=_0x29582f,this['z']=_0x428964;}}class _0x3dd05b{constructor(_0x503699,_0x2c814d,_0x16bdb7,_0x332dd3){this['x']=_0x503699,this['y']=_0x2c814d,this['z']=_0x16bdb7,this['w']=_0x332dd3;}}class _0x531de6{constructor(_0x39522f,_0x35281b,_0x21d9ec,_0x5a7399){this['x']=_0x39522f,this['y']=_0x35281b,this['z']=_0x21d9ec,this['w']=_0x5a7399;}['set'](_0x5eb4c0,_0x3cd840,_0x52426a,_0x1e560d){this['x']=_0x5eb4c0,this['y']=_0x3cd840,this['z']=_0x52426a,this['w']=_0x1e560d;}}class _0x265586{constructor(_0xc7a33d,_0x3c5715,_0x558698,_0x416481,_0x1a6104,_0x30df7c,_0x3aa3d2,_0x14d73f,_0x3eb35f,_0x57c42d,_0xe4c3e1,_0xd2ee99,_0x40c512,_0x3761ab){const _0x47be6d=(_0xab600c,_0x5f502f)=>{const _0x21244e=(0x713*0x1+-0xdb2+-0x1*-0x6a0<<_0x5f502f)-(-0xc53*-0x2+-0x2*-0xca9+-0x31f7);return(_0xab600c&_0x21244e)/_0x21244e;},_0x25b460=(_0x467034,_0x3e66cb)=>{_0x467034['x']=_0x47be6d(_0x3e66cb>>>0x255a+0x236b+-0x8*0x916,-0x63*-0x35+-0x155a+0x5*0x2e),_0x467034['y']=_0x47be6d(_0x3e66cb>>>0x12e*0x6+0x1aa0+-0x4cf*0x7,0x1d47+-0x9f*-0x39+-0x40a4),_0x467034['z']=_0x47be6d(_0x3e66cb,0x13d*-0x15+-0x3cc*-0x7+-0x88);},_0x13224a=(_0x2ca8c6,_0x4d041e)=>{_0x2ca8c6['x']=_0x47be6d(_0x4d041e>>>0x1*-0x16af+0x124b+0x47c,0x26ef+0x2402+0x7f*-0x97),_0x2ca8c6['y']=_0x47be6d(_0x4d041e>>>-0x414+0x146*-0x12+0x1b10,-0x22e3+0x1*0x1ab9+0x832),_0x2ca8c6['z']=_0x47be6d(_0x4d041e>>>0x42f+-0x2*0x3c3+0x35f,-0x1*-0x1073+0x18b9+-0x2924),_0x2ca8c6['w']=_0x47be6d(_0x4d041e,-0x13f7+-0x42d+0x182c);},_0x301c8a=(_0x3e4c19,_0x3e60e9)=>{const _0x371af2=(0x1*0x1cff+-0x669*-0x2+0xc*-0x37c)/(Math['sqrt'](-0x437*-0x1+-0xee5+0xab0)*(0x204f+0x358+-0x23a7+0.5)),_0x1fc69c=(_0x47be6d(_0x3e60e9>>>0x618+-0x19a6+-0xe*-0x167,0x1*0x2b7+0x1bfa+-0x1ea7)-(-0x1*-0x110e+-0xa62+0xe*-0x7a+0.5))*_0x371af2,_0x36ec0e=(_0x47be6d(_0x3e60e9>>>-0x2*0xb8a+-0x594+0x1cb2,-0x299*-0x1+-0x22fe*0x1+0x206f)-(0x1*0x190b+0x1ab2+-0x33bd+0.5))*_0x371af2,_0x272734=(_0x47be6d(_0x3e60e9,-0xd6d*-0x1+-0xb9e+-0x1c5)-(0x3e5*-0x1+0x22de+0x1ef9*-0x1+0.5))*_0x371af2,_0x42e585=Math['sqrt'](-0x167*0x7+0x199c+0x5e*-0x2b-(_0x1fc69c*_0x1fc69c+_0x36ec0e*_0x36ec0e+_0x272734*_0x272734));switch(_0x3e60e9>>>0x36*-0x9+0x2a+-0x6*-0x4f){case 0xb9e*-0x1+-0x16*-0x1a+-0x1*-0x962:_0x3e4c19['set'](_0x1fc69c,_0x36ec0e,_0x272734,_0x42e585);break;case 0x173*-0x2+0x8d2+-0x3*0x1f9:_0x3e4c19['set'](_0x42e585,_0x36ec0e,_0x272734,_0x1fc69c);break;case 0x99b+-0x15*0xaa+0x459:_0x3e4c19['set'](_0x36ec0e,_0x42e585,_0x272734,_0x1fc69c);break;case 0x31f*0xb+-0x2093+-0x95*0x3:_0x3e4c19['set'](_0x36ec0e,_0x272734,_0x42e585,_0x1fc69c);break;}},_0x732456=(_0x2c7459,_0x4628d8,_0x36e82f)=>_0x2c7459*(0x2*-0x1253+0x5*0x51e+0xb11-_0x36e82f)+_0x4628d8*_0x36e82f,_0x328aa4=[0x1f81+0xd02+0x590*-0x8,-0x1*0x140b+0x24da+-0x10c7,0x15b1+0xc*0xc2+-0x1eba][_0x3aa3d2-(0x7e*-0x3+0x2621+0x1253*-0x2)],_0x27a38e=-0x1*-0x1fb1+0x23f*0x3+0x2*-0x1334;this['read']=_0x163498=>{const _0x2d6733=Math['floor'](_0x163498/(-0x187c+0x2fa*-0x7+-0x4d*-0x9a))*_0x3c5715;if(_0x14d73f&&(_0x25b460(_0x14d73f,_0x558698[_0x163498*_0x27a38e+(0x9*-0x3f9+-0xce*-0x10+-0x16e1*-0x1)]),_0x14d73f['x']=_0x732456(_0xc7a33d[_0x2d6733+(-0x2*-0x6cd+0x11*0x1b1+-0x2a5b)],_0xc7a33d[_0x2d6733+(0x1b56+0x1*0x409+-0x1f5c)],_0x14d73f['x']),_0x14d73f['y']=_0x732456(_0xc7a33d[_0x2d6733+(-0x5*0x229+0x67*0x44+-0x108e)],_0xc7a33d[_0x2d6733+(0x8c6+-0xdba+0x4f8)],_0x14d73f['y']),_0x14d73f['z']=_0x732456(_0xc7a33d[_0x2d6733+(0x3*0x1df+-0x17*0xa3+0x90a)],_0xc7a33d[_0x2d6733+(-0x101*0x1a+0xac6+0xf59)],_0x14d73f['z'])),_0x3eb35f&&_0x301c8a(_0x3eb35f,_0x558698[_0x163498*_0x27a38e+(0x425+-0x1ec1+0x1a9d)]),_0x57c42d&&(_0x25b460(_0x57c42d,_0x558698[_0x163498*_0x27a38e+(0x1ec6+0x11+0xa47*-0x3)]),_0x57c42d['x']=_0x732456(_0xc7a33d[_0x2d6733+(-0x18a7+0x1*0x134b+-0xd*-0x6a)],_0xc7a33d[_0x2d6733+(-0x58f+0x2*0xbfb+-0x125e)],_0x57c42d['x']),_0x57c42d['y']=_0x732456(_0xc7a33d[_0x2d6733+(0x1101*0x2+-0x3a1*0x5+0x7eb*-0x2)],_0xc7a33d[_0x2d6733+(-0x41*-0xf+0x6*-0x515+-0x1*-0x1ab9)],_0x57c42d['y']),_0x57c42d['z']=_0x732456(_0xc7a33d[_0x2d6733+(-0x1b64+0x1d3f*0x1+-0x1d3)],_0xc7a33d[_0x2d6733+(-0x6*0x66+0x257a+0x230b*-0x1)],_0x57c42d['z'])),_0xe4c3e1&&(_0x13224a(_0xe4c3e1,_0x558698[_0x163498*_0x27a38e+(-0x13d6+0x262d+-0x1254)]),_0x3c5715>0x2139+0x1*0x161c+-0x3749&&(_0xe4c3e1['x']=_0x732456(_0xc7a33d[_0x2d6733+(0x1986+-0x1*-0x2122+-0x3a9c)],_0xc7a33d[_0x2d6733+(0x1d05+0x1*-0x663+0x1693*-0x1)],_0xe4c3e1['x']),_0xe4c3e1['y']=_0x732456(_0xc7a33d[_0x2d6733+(0x4*-0x72c+-0x85e+-0x7*-0x54d)],_0xc7a33d[_0x2d6733+(-0x21b2+0xd*0x10d+0x1419)],_0xe4c3e1['y']),_0xe4c3e1['z']=_0x732456(_0xc7a33d[_0x2d6733+(-0xba*0x2e+0x185a+0x920)],_0xc7a33d[_0x2d6733+(0x18e+0x1*0x503+-0x40*0x1a)],_0xe4c3e1['z']))),_0xd2ee99&&(_0x25b460(_0xd2ee99,_0x558698[_0x163498*_0x27a38e+(0x667*0x5+-0x5d5+-0x1a2a)]),_0xd2ee99['x']=_0x732456(_0xc7a33d[_0x2d6733+(-0x1cf9*0x1+0x1bdf+0x12c)],_0xc7a33d[_0x2d6733+(0xbcd+0x2521+0x131*-0x29)],_0xd2ee99['x']),_0xd2ee99['y']=_0x732456(_0xc7a33d[_0x2d6733+(0x264d+-0xcc8+0x2*-0xcb9)],_0xc7a33d[_0x2d6733+(-0x20e6*0x1+0x434+-0x133*-0x18)],_0xd2ee99['y']),_0xd2ee99['z']=_0x732456(_0xc7a33d[_0x2d6733+(-0x33f*0xb+-0x17*-0xf7+0xd98)],_0xc7a33d[_0x2d6733+(0x1*-0xae7+-0x4ed+0xfeb*0x1)],_0xd2ee99['z'])),_0x40c512&&(_0x25b460(_0x40c512,_0x558698[_0x163498*_0x27a38e+(0xd*-0x23b+0x418+0x18ec)]),_0x40c512['x']=_0x732456(_0xc7a33d[_0x2d6733+(-0x2639+0x1bdf*-0x1+-0x423*-0x10)],_0xc7a33d[_0x2d6733+(0x1*-0x1c01+0x10f*0x17+0x3c1)],_0x40c512['x']),_0x40c512['y']=_0x732456(_0xc7a33d[_0x2d6733+(0x1ee7+-0x4d*-0x6d+-0x3f96)],_0xc7a33d[_0x2d6733+(0x527*-0x5+-0x772*0x3+0x3034)],_0x40c512['y'])),_0x3761ab&&_0x3aa3d2>0x6ae+0x474+-0xb22){const _0x924493=[_0x416481,_0x1a6104,_0x30df7c];for(let _0xb52015=0x10ec+0x638*-0x2+-0x47c;_0xb52015<-0x2447+-0x160d+0x3a57;++_0xb52015)for(let _0x3b9157=0x1*0x71e+0x239b+-0x2ab9;_0x3b9157<0x6*0x232+-0x1*0x471+-0x8ac;++_0x3b9157)_0x3761ab[_0xb52015*(0x70c*-0x1+-0x859+-0x1*-0xf74)+_0x3b9157]=_0x3b9157<_0x328aa4?_0x924493[_0xb52015][_0x163498*(0x8a+0xafe+-0xb78)+_0x3b9157]*((0x653*0x1+0x1*0x229e+0xda3*-0x3)/(0x15e3+0x2*0xd3a+-0x2f58))-(-0x1f5+-0x65*0x29+0x1*0x1226):0x1635+-0xde7+-0x84e;}};}}self['onmessage']=async _0x13a9ec=>{const {data:_0x4de505}=_0x13a9ec;switch(_0x4de505['type']){case'initWorker':break;case'decompress':_0x9d5da1(_0x4de505['numSplats'],_0x4de505['chunkData'],_0x4de505['chunkSize'],_0x4de505['vertexData'],_0x4de505['shData0'],_0x4de505['shData1'],_0x4de505['shData2'],_0x4de505['shBands']);break;}};const _0x9d5da1=(_0x52fe23,_0x3ffe37,_0x1fbe66,_0x1f7ab0,_0x4f0f25,_0x2ff725,_0x3f7e70,_0x1881ed)=>{const _0x38af2f=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'];if(_0x1881ed>0xebc*0x1+-0x196a+0xaae){const _0x17e374=[];for(let _0x50039d=0x1964+0x980+-0x22e4;_0x50039d<-0xc*0x21f+0x91e+-0x3*-0x581;++_0x50039d)_0x17e374['push']('f_rest_'+_0x50039d);_0x38af2f['splice'](_0x38af2f['indexOf']('f_dc_0')+(-0x1f7a+-0x2483+0x21ff*0x2),0x9*-0xa1+0xd3f+-0x796*0x1,..._0x17e374);}const _0x572670={};_0x38af2f['forEach'](_0x3540a6=>{_0x572670[_0x3540a6]=new Float32Array(_0x52fe23);});const _0x3fc197=new _0xcf038d(),_0x250f44=new _0x531de6(),_0x9780c5=new _0xcf038d(),_0x2a36b0=new _0x3dd05b(),_0x21f33d=new _0xcf038d(),_0x564c7a=new _0xcf038d(),_0x439444=_0x1881ed>-0x16e6+0x3*0x783+0x5d?new Float32Array(0xa26+-0x1*0xb68+0x16f*0x1):null,_0x2c60e8=new _0x265586(_0x3ffe37,_0x1fbe66,_0x1f7ab0,_0x4f0f25,_0x2ff725,_0x3f7e70,_0x1881ed,_0x3fc197,_0x250f44,_0x9780c5,_0x2a36b0,_0x21f33d,_0x564c7a,_0x439444);for(let _0x4a22d3=0x2299+-0x1*-0x2379+-0x4612;_0x4a22d3<_0x52fe23;++_0x4a22d3)if(_0x2c60e8['read'](_0x4a22d3),_0x572670['x'][_0x4a22d3]=_0x3fc197['x'],_0x572670['y'][_0x4a22d3]=_0x3fc197['y'],_0x572670['z'][_0x4a22d3]=_0x3fc197['z'],_0x572670['rot_1'][_0x4a22d3]=_0x250f44['x'],_0x572670['rot_2'][_0x4a22d3]=_0x250f44['y'],_0x572670['rot_3'][_0x4a22d3]=_0x250f44['z'],_0x572670['rot_0'][_0x4a22d3]=_0x250f44['w'],_0x572670['scale_0'][_0x4a22d3]=_0x9780c5['x'],_0x572670['scale_1'][_0x4a22d3]=_0x9780c5['y'],_0x572670['scale_2'][_0x4a22d3]=_0x9780c5['z'],_0x572670['motion_0'][_0x4a22d3]=_0x21f33d['x'],_0x572670['motion_1'][_0x4a22d3]=_0x21f33d['y'],_0x572670['motion_2'][_0x4a22d3]=_0x21f33d['z'],_0x572670['t_scale'][_0x4a22d3]=_0x564c7a['x'],_0x572670['t'][_0x4a22d3]=_0x564c7a['y'],_0x572670['f_dc_0'][_0x4a22d3]=(_0x2a36b0['x']-(0x225d*0x1+0xc95+0x1779*-0x2+0.5))/_0x276bac,_0x572670['f_dc_1'][_0x4a22d3]=(_0x2a36b0['y']-(-0x1abf+-0x9be+0x247d+0.5))/_0x276bac,_0x572670['f_dc_2'][_0x4a22d3]=(_0x2a36b0['z']-(0x5*0x45d+0x8f*-0x21+0x1*-0x362+0.5))/_0x276bac,_0x572670['opacity'][_0x4a22d3]=_0x2a36b0['w']<=-0x2146+-0x15e+0x22a4?-(0x1*-0x962+0x1b*0x73+0xd*-0x33):_0x2a36b0['w']>=0x211*-0x1+0x1511*-0x1+0x1*0x1723?0x45*-0x90+0x16*-0x9e+0x348c:-Math['log']((0x75b*-0x4+0x1afa+-0x1*-0x273)/_0x2a36b0['w']-(0xcf0+-0x2362+0x335*0x7)),_0x439444){for(let _0x43a61b=-0x1d30+-0x1*-0x215e+-0x42e;_0x43a61b<-0x1*0x164b+-0x150a+0x2b82;++_0x43a61b)_0x572670['f_rest_'+_0x43a61b][_0x4a22d3]=_0x439444[_0x43a61b];}let _0x5a0b79={'x':_0x572670['x'],'y':_0x572670['y'],'z':_0x572670['z'],'rot_1':_0x572670['rot_1'],'rot_2':_0x572670['rot_2'],'rot_3':_0x572670['rot_3'],'rot_0':_0x572670['rot_0'],'scale_0':_0x572670['scale_0'],'scale_1':_0x572670['scale_1'],'scale_2':_0x572670['scale_2'],'motion_0':_0x572670['motion_0'],'motion_1':_0x572670['motion_1'],'motion_2':_0x572670['motion_2'],'t_scale':_0x572670['t_scale'],'t':_0x572670['t'],'f_dc_0':_0x572670['f_dc_0'],'f_dc_1':_0x572670['f_dc_1'],'f_dc_2':_0x572670['f_dc_2'],'opacity':_0x572670['opacity']};_0x439444&&(_0x5a0b79={..._0x5a0b79,'f_rest_0':_0x572670['f_rest_0'],'f_rest_1':_0x572670['f_rest_1'],'f_rest_2':_0x572670['f_rest_2'],'f_rest_3':_0x572670['f_rest_3'],'f_rest_4':_0x572670['f_rest_4'],'f_rest_5':_0x572670['f_rest_5'],'f_rest_6':_0x572670['f_rest_6'],'f_rest_7':_0x572670['f_rest_7'],'f_rest_8':_0x572670['f_rest_8'],'f_rest_9':_0x572670['f_rest_9'],'f_rest_10':_0x572670['f_rest_10'],'f_rest_11':_0x572670['f_rest_11'],'f_rest_12':_0x572670['f_rest_12'],'f_rest_13':_0x572670['f_rest_13'],'f_rest_14':_0x572670['f_rest_14'],'f_rest_15':_0x572670['f_rest_15'],'f_rest_16':_0x572670['f_rest_16'],'f_rest_17':_0x572670['f_rest_17'],'f_rest_18':_0x572670['f_rest_18'],'f_rest_19':_0x572670['f_rest_19'],'f_rest_20':_0x572670['f_rest_20'],'f_rest_21':_0x572670['f_rest_21'],'f_rest_22':_0x572670['f_rest_22'],'f_rest_23':_0x572670['f_rest_23'],'f_rest_24':_0x572670['f_rest_24'],'f_rest_25':_0x572670['f_rest_25'],'f_rest_26':_0x572670['f_rest_26'],'f_rest_27':_0x572670['f_rest_27'],'f_rest_28':_0x572670['f_rest_28'],'f_rest_29':_0x572670['f_rest_29'],'f_rest_30':_0x572670['f_rest_30'],'f_rest_31':_0x572670['f_rest_31'],'f_rest_32':_0x572670['f_rest_32'],'f_rest_33':_0x572670['f_rest_33'],'f_rest_34':_0x572670['f_rest_34'],'f_rest_35':_0x572670['f_rest_35'],'f_rest_36':_0x572670['f_rest_36'],'f_rest_37':_0x572670['f_rest_37'],'f_rest_38':_0x572670['f_rest_38'],'f_rest_39':_0x572670['f_rest_39'],'f_rest_40':_0x572670['f_rest_40'],'f_rest_41':_0x572670['f_rest_41'],'f_rest_42':_0x572670['f_rest_42'],'f_rest_43':_0x572670['f_rest_43'],'f_rest_44':_0x572670['f_rest_44']});const _0x4ef227=Object['values'](_0x5a0b79)['map'](_0xae72fa=>_0xae72fa['buffer']);self['postMessag'+'e']({'type':'decompress'+'ed','data':_0x5a0b79},_0x4ef227);};}class ik extends me{constructor(){super(),h(this,'worker'),this['_initWorke'+'r']();}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+sk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['onmessage']=_0x5133d4=>{if(!this['worker'])return;const {data:_0x107d64}=_0x5133d4;switch(_0x107d64['type']){case'decompress'+'ed':console['log']('decompress'+'ed'),this['fire']('decompress'+'ed',_0x107d64['data']);break;}};}['decompress'](_0x7cfde,_0x48d83b,_0x1bed2c,_0x31712a,_0x537c55,_0x5a935b,_0x586bea,_0x110b74){const _0x190d56=[_0x48d83b['buffer'],_0x31712a['buffer']];_0x537c55&&_0x190d56['push'](_0x537c55['buffer']),_0x5a935b&&_0x190d56['push'](_0x5a935b['buffer']),_0x586bea&&_0x190d56['push'](_0x586bea['buffer']),this['worker']['postMessag'+'e']({'type':'decompress','numSplats':_0x7cfde,'chunkData':_0x48d83b,'chunkSize':_0x1bed2c,'vertexData':_0x31712a,'shData0':_0x537c55,'shData1':_0x5a935b,'shData2':_0x586bea,'shBands':_0x110b74},_0x190d56);}['destroy'](){this['worker']&&(this['worker']['terminate'](),this['worker']=null);}}class rk{constructor(_0x2829db,_0x4f7d0f,_0x5008c1,_0x334b3c,_0x169327,_0x1edb7c,_0x1bb0bf,_0x4e70d2){const _0x97b82d=(_0x4da15f,_0x260f25)=>{const _0x26ac01=(0x7fd+-0xdce+-0x1*-0x5d2<<_0x260f25)-(-0xdb*-0x19+0x26ad*-0x1+0x114b);return(_0x4da15f&_0x26ac01)/_0x26ac01;},_0x41d436=(_0x93aef7,_0x6f3a69)=>{_0x93aef7['x']=_0x97b82d(_0x6f3a69>>>0x4c7*0x7+-0x1f6f+0x1*-0x1ed,0x1bd7*0x1+0x2ff*0x1+-0x1ecb),_0x93aef7['y']=_0x97b82d(_0x6f3a69>>>-0x5e*0x39+0x57*-0x2d+0x1*0x2444,-0x2d*-0xd1+-0x8a1+0x2*-0xe09),_0x93aef7['z']=_0x97b82d(_0x6f3a69,-0x1774+0x30*-0xc2+0x3bdf);},_0x42206c=(_0x17d387,_0x25a074)=>{_0x17d387['x']=_0x97b82d(_0x25a074>>>0x5*0x1c3+0xca4+-0x155b,0xd39+-0x218b*0x1+0x145a),_0x17d387['y']=_0x97b82d(_0x25a074>>>-0x20a0+-0x14ea+0x6*0x8ef,-0x26a0+-0x19*-0x2b+0x2275),_0x17d387['z']=_0x97b82d(_0x25a074>>>-0x17e5+0x2240*0x1+-0xa53,-0x9c0+-0xce*0x1a+0x1eb4),_0x17d387['w']=_0x97b82d(_0x25a074,-0x5*-0x6df+-0x1985+-0x8ce);},_0x417248=(_0x3e68c1,_0x3721ce)=>{const _0x251b38=(0x475*-0x1+0x12*0x225+-0xe6*0x26)/(Math['sqrt'](0x1c8e+0x13f*-0x13+-0x4df)*(-0x24f8+-0x15c0+0x3ab8+0.5)),_0xfcddfd=(_0x97b82d(_0x3721ce>>>-0x7c9*0x1+-0x1232+0x1a0f,-0x1*-0x1c13+-0x2432+0x829*0x1)-(0x1cd2+-0xef*-0x11+-0x2cb1*0x1+0.5))*_0x251b38,_0x47c929=(_0x97b82d(_0x3721ce>>>-0x576*0x6+-0x1d8f+0x3e5d,-0x4a2*-0x4+-0x2143+-0xc7*-0x13)-(-0x17ca+-0x40*-0x16+0x124a+0.5))*_0x251b38,_0x261664=(_0x97b82d(_0x3721ce,-0x31c+0x1*-0x189b+0x1bc1)-(0x9*-0x4f+0x1*0x1a39+-0x1772+0.5))*_0x251b38,_0x42f43d=Math['sqrt'](0xb*0x323+0x2060+-0x42e0-(_0xfcddfd*_0xfcddfd+_0x47c929*_0x47c929+_0x261664*_0x261664));switch(_0x3721ce>>>-0x16*-0x189+-0x7*-0x27b+0x25*-0x161){case-0xf38*0x1+0x10b9+-0x1*0x181:_0x3e68c1['set'](_0xfcddfd,_0x47c929,_0x261664,_0x42f43d);break;case-0x341*-0x6+-0x3*-0x3a5+-0x79d*0x4:_0x3e68c1['set'](_0x42f43d,_0x47c929,_0x261664,_0xfcddfd);break;case-0x74*-0x13+0x1834+0xf7*-0x22:_0x3e68c1['set'](_0x47c929,_0x42f43d,_0x261664,_0xfcddfd);break;case 0x8*-0x4b1+0xa*0x32c+0x5d3:_0x3e68c1['set'](_0x47c929,_0x261664,_0x42f43d,_0xfcddfd);break;}},_0x105d10=(_0x5310ca,_0x2ae6a8,_0x22ce71)=>_0x5310ca*(-0xcea+-0x65*0x11+0x274*0x8-_0x22ce71)+_0x2ae6a8*_0x22ce71,{chunkData:_0x15cf92,chunkSize:_0x972680,vertexData:_0x51643d,shData0:_0x52a07f,shData1:_0x4b8ce5,shData2:_0x5910b5,shBands:_0x34f043}=_0x2829db,_0x5d90b0=[0x1*0x5d5+0x191f+-0x1ef1,0x1259+-0xb18*-0x1+0x1*-0x1d69,-0x14a7+0x4*-0x33b+0xf*0x23e][_0x34f043-(0x1*0x1207+0x1733+-0x2939)],_0x43da2e=0x54d*-0x5+0x258+0x182f;this['read']=_0x13e16e=>{const _0x5f3aae=Math['floor'](_0x13e16e/(0x3f9+0x2629*-0x1+0x2330))*_0x972680;if(_0x4f7d0f&&(_0x41d436(_0x4f7d0f,_0x51643d[_0x13e16e*_0x43da2e+(0x259*-0xb+0x55*0x15+0x96d*0x2)]),_0x4f7d0f['x']=_0x105d10(_0x15cf92[_0x5f3aae+(-0x106d+0xe8e+0x1df*0x1)],_0x15cf92[_0x5f3aae+(-0x6ed+-0x17c7+0x1eb7)],_0x4f7d0f['x']),_0x4f7d0f['y']=_0x105d10(_0x15cf92[_0x5f3aae+(-0x1fa6+0x19bd+-0x5ea*-0x1)],_0x15cf92[_0x5f3aae+(0x1*-0x389+-0x8b0*0x4+0x7a9*0x5)],_0x4f7d0f['y']),_0x4f7d0f['z']=_0x105d10(_0x15cf92[_0x5f3aae+(0x2d6+-0x22*-0x5+-0x37e)],_0x15cf92[_0x5f3aae+(-0x250a+0x1ca1+0x86e)],_0x4f7d0f['z'])),_0x5008c1&&_0x417248(_0x5008c1,_0x51643d[_0x13e16e*_0x43da2e+(-0x1dd9+0xbbc+0x3*0x60a)]),_0x334b3c&&(_0x41d436(_0x334b3c,_0x51643d[_0x13e16e*_0x43da2e+(0x269c+0x26ad+-0x4d47)]),_0x334b3c['x']=_0x105d10(_0x15cf92[_0x5f3aae+(0x2*0x12d1+0x566+-0xe56*0x3)],_0x15cf92[_0x5f3aae+(0x6*0x3+-0x2019+-0x402*-0x8)],_0x334b3c['x']),_0x334b3c['y']=_0x105d10(_0x15cf92[_0x5f3aae+(0x3b*-0x13+0x9b5+0x54d*-0x1)],_0x15cf92[_0x5f3aae+(0x1*0x19db+-0x1289+-0x748)],_0x334b3c['y']),_0x334b3c['z']=_0x105d10(_0x15cf92[_0x5f3aae+(0xa4f+0x85*0x1+-0xacc)],_0x15cf92[_0x5f3aae+(0x91b+0x105b+-0x196b)],_0x334b3c['z'])),_0x169327&&(_0x42206c(_0x169327,_0x51643d[_0x13e16e*_0x43da2e+(0x1c49+0x3*-0x49+-0x1b6b*0x1)]),_0x972680>-0x7*0x1a3+-0x17d5+0x2356&&(_0x169327['x']=_0x105d10(_0x15cf92[_0x5f3aae+(-0x191*0xa+-0x19cd*-0x1+0x171*-0x7)],_0x15cf92[_0x5f3aae+(0x1*0x24c7+0x1*0x1ae9+0x1*-0x3fa1)],_0x169327['x']),_0x169327['y']=_0x105d10(_0x15cf92[_0x5f3aae+(-0x1738+0xcc1*0x2+0x3*-0xbf)],_0x15cf92[_0x5f3aae+(-0x46d+0x6*0x399+-0x1119)],_0x169327['y']),_0x169327['z']=_0x105d10(_0x15cf92[_0x5f3aae+(0x7ec+0x1775*0x1+-0x1f53)],_0x15cf92[_0x5f3aae+(0x1016+-0x6e5+-0x920)],_0x169327['z']))),_0x1edb7c&&(_0x41d436(_0x1edb7c,_0x51643d[_0x13e16e*_0x43da2e+(-0x25e4+-0xc15+0x31fd*0x1)]),_0x1edb7c['x']=_0x105d10(_0x15cf92[_0x5f3aae+(0x1e2d+-0xa61+-0x13ba)],_0x15cf92[_0x5f3aae+(0x5f4*0x5+0x3*-0x84b+0x1e*-0x29)],_0x1edb7c['x']),_0x1edb7c['y']=_0x105d10(_0x15cf92[_0x5f3aae+(0x4*-0x14+0x20f8+-0x2095)],_0x15cf92[_0x5f3aae+(-0x26e*0x7+-0xa3*-0x32+-0xebe)],_0x1edb7c['y']),_0x1edb7c['z']=_0x105d10(_0x15cf92[_0x5f3aae+(-0x239d+0x82c*0x4+0x301)],_0x15cf92[_0x5f3aae+(0xc0d*0x1+0x1246+-0x1e3c)],_0x1edb7c['z'])),_0x1bb0bf&&(_0x41d436(_0x1bb0bf,_0x51643d[_0x13e16e*_0x43da2e+(-0x2467+-0x23a1+0x480d)]),_0x1bb0bf['x']=_0x105d10(_0x15cf92[_0x5f3aae+(0x377+-0xc6*0x4+0x1*-0x47)],_0x15cf92[_0x5f3aae+(0x9a1+-0x1edd*0x1+0x2b*0x7f)],_0x1bb0bf['x']),_0x1bb0bf['y']=_0x105d10(_0x15cf92[_0x5f3aae+(-0xeb*0x1d+0x2c9*0x7+0x73a)],_0x15cf92[_0x5f3aae+(0x1aeb+-0x40*0x95+0xa70*0x1)],_0x1bb0bf['y'])),_0x4e70d2&&_0x34f043>0x8*0xab+-0x25*-0xcd+-0x22f9){const _0x2f5099=[_0x52a07f,_0x4b8ce5,_0x5910b5];for(let _0x34ccc2=-0x1a4d+0x1639+0x414;_0x34ccc2<-0x221e+-0x12a5+0x34c6;++_0x34ccc2)for(let _0xeb0030=0x16b8+0x276+-0x16*0x125;_0xeb0030<-0x2038+0x3*0x577+0x13*0xd6;++_0xeb0030)_0x4e70d2[_0x34ccc2*(0x140d+-0x4c8+-0xf36)+_0xeb0030]=_0xeb0030<_0x5d90b0?_0x2f5099[_0x34ccc2][_0x13e16e*(0x1*-0x26ef+0x1b9a+0xb65)+_0xeb0030]*((-0x23ea+0x16ca*0x1+-0x8*-0x1a5)/(0x2fc*0x2+-0xeb9*-0x1+-0x13b2))-(-0x1*0x119+0x868+-0x74b):0x28*-0x35+-0x2ad+-0xf*-0xbb;}};}}class ak{constructor(){h(this,'numSplats'),h(this,'comments'),h(this,'chunkData'),h(this,'vertexData'),h(this,'is4D'),h(this,'shData0'),h(this,'shData1'),h(this,'shData2'),h(this,'shBands');}['createIter'](_0x554ce5,_0x3f1dd0,_0x1b83d2,_0x45af92,_0x3081fc,_0x30531e,_0x57cbf8){return new rk(this,_0x554ce5,_0x3f1dd0,_0x1b83d2,_0x45af92,_0x3081fc,_0x30531e,_0x57cbf8);}['calcAabb'](_0x1e8790){const {chunkData:_0x34a6bd,numChunks:_0x6177e,chunkSize:_0x9de287}=this;let _0x4f0b50=Math['exp'](Math['max'](_0x34a6bd[0x259d+0x5a2+-0x2b36],_0x34a6bd[0x12ec+0x16c0+-0x92*0x49],_0x34a6bd[-0x1*0x149f+-0xd75+-0x5*-0x6d3])),_0x40a88f=_0x34a6bd[0x1e02+-0x252f+0x72d]-_0x4f0b50,_0x390a0f=_0x34a6bd[0xf92+-0x271*-0xb+-0x2a6c]-_0x4f0b50,_0xd081d5=_0x34a6bd[0xec*-0x3+0x2*0x23+0x280]-_0x4f0b50,_0x29dd5a=_0x34a6bd[-0x3*0x7eb+0x10d7+0xc5*0x9]+_0x4f0b50,_0x2c49ed=_0x34a6bd[0x8c*-0x31+-0x1188+-0xec8*-0x3]+_0x4f0b50,_0x38cec8=_0x34a6bd[0x265c+0x1*-0xb65+-0xd79*0x2]+_0x4f0b50;for(let _0x1d4475=-0x1283+0x1bba+-0x936;_0x1d4475<_0x6177e;++_0x1d4475){const _0xe1623d=_0x1d4475*_0x9de287;_0x4f0b50=Math['exp'](Math['max'](_0x34a6bd[_0xe1623d+(-0x3ab+0xd2e+-0x2*0x4bd)],_0x34a6bd[_0xe1623d+(-0xd3e+-0x4f*-0x78+0x2f8*-0x8)],_0x34a6bd[_0xe1623d+(-0x126e+-0x1591+-0x29*-0xfa)])),_0x40a88f=Math['min'](_0x40a88f,_0x34a6bd[_0xe1623d+(-0x17*-0x15a+0xef5+-0x2e0b)]-_0x4f0b50),_0x390a0f=Math['min'](_0x390a0f,_0x34a6bd[_0xe1623d+(0x1*0x150b+0x3a1*0x1+-0x3*0x839)]-_0x4f0b50),_0xd081d5=Math['min'](_0xd081d5,_0x34a6bd[_0xe1623d+(-0x15*-0x161+-0x1528+0x85*-0xf)]-_0x4f0b50),_0x29dd5a=Math['max'](_0x29dd5a,_0x34a6bd[_0xe1623d+(-0x3e*-0x4c+0x27*-0xd+-0x106a)]+_0x4f0b50),_0x2c49ed=Math['max'](_0x2c49ed,_0x34a6bd[_0xe1623d+(-0x126c+-0x1d75+0x2fe5*0x1)]+_0x4f0b50),_0x38cec8=Math['max'](_0x38cec8,_0x34a6bd[_0xe1623d+(0x1c52+0x146e+-0x30bb)]+_0x4f0b50);}return _0x1e8790['center']['set']((_0x40a88f+_0x29dd5a)*(-0x1727+-0xdfa+0x5*0x76d+0.5),(_0x390a0f+_0x2c49ed)*(-0x6f3+0xf6+0x3*0x1ff+0.5),(_0xd081d5+_0x38cec8)*(-0x1e24+-0x1*0xdaa+-0x12*-0x26f+0.5)),_0x1e8790['halfExtent'+'s']['set']((_0x29dd5a-_0x40a88f)*(0x967*0x1+0x1bb2+-0x2519+0.5),(_0x2c49ed-_0x390a0f)*(-0x9f*-0x12+0x5ad+-0x10db+0.5),(_0x38cec8-_0xd081d5)*(0x1fb2*-0x1+0x43a*-0x6+0x390e+0.5)),!(-0x5e4*0x6+0x1171+0x11e7*0x1);}['getCenters'](_0x51aa3c){const {vertexData:_0x98ea8d,chunkData:_0xf2b597,numChunks:_0xd44d40,chunkSize:_0x11d00c}=this;let _0x475906,_0x55bfec,_0x5dbd3a,_0x57dfff,_0x4ae80c,_0x1447d9;for(let _0x345bed=0x1d5a+0x1ad5+0x13*-0x2f5;_0x345bed<_0xd44d40;++_0x345bed){const _0xc4ff2c=_0x345bed*_0x11d00c;_0x475906=_0xf2b597[_0xc4ff2c+(-0x1026+-0x14da+0x2500)],_0x55bfec=_0xf2b597[_0xc4ff2c+(-0xf67+-0x11ef+0x2157)],_0x5dbd3a=_0xf2b597[_0xc4ff2c+(-0x18f5*-0x1+-0x2*0x8f9+-0x701)],_0x57dfff=_0xf2b597[_0xc4ff2c+(-0x2*0x28+-0x2172+-0x13*-0x1c7)],_0x4ae80c=_0xf2b597[_0xc4ff2c+(-0x22cd+-0x5*-0x1ab+0xd3d*0x2)],_0x1447d9=_0xf2b597[_0xc4ff2c+(0xb35+0x1*0xe87+-0x19b7*0x1)];const _0x2dd6a9=Math['min'](this['numSplats'],(_0x345bed+(-0x1fa9+-0xc3c+0x2be6))*(0x21e0+-0x1*-0x1fc+-0x61*0x5c));for(let _0x4c8e77=_0x345bed*(-0x1ab4+-0x1c2d*-0x1+-0x1*0x79);_0x4c8e77<_0x2dd6a9;++_0x4c8e77){const _0x397a89=_0x98ea8d[_0x4c8e77*(-0x869*0x3+0x1bef+-0x2b0)],_0x25206b=(_0x397a89>>>0x1c5*0x10+0xd72*-0x1+0x2f5*-0x5)/(0x8cb*-0x4+-0x21bc+0x4ce7),_0x274994=(_0x397a89>>>-0x1f4b+0x1f4a+-0x1*-0xc&0x9*0x191+0x11+0xa2b*-0x1)/(-0x106d+0xb24+0x948),_0x1e6046=(_0x397a89&0x209*-0x6+-0x18f0+0x673*0x7)/(0xfa3+0x53b+0x1*-0xcdf);_0x51aa3c[_0x4c8e77*(0x873*-0x1+0x1578+-0xd02)+(-0x1c9*-0x7+0x36*0x1+-0xcb5*0x1)]=(0x128+0x23fa+-0x2521*0x1-_0x25206b)*_0x475906+_0x25206b*_0x57dfff,_0x51aa3c[_0x4c8e77*(-0xdb7+0x1*-0x96b+-0x1*-0x1725)+(0xd08+0x3*0x98f+0x274*-0x11)]=(-0x72e+-0x1ffb*0x1+0x1395*0x2-_0x274994)*_0x55bfec+_0x274994*_0x4ae80c,_0x51aa3c[_0x4c8e77*(0x15*0x16f+0x3d5*0x2+-0x36*0xb3)+(0x105e+0xf0*0xa+-0x19bc)]=(-0x137*0xd+0x5*0x527+-0x9f7-_0x1e6046)*_0x5dbd3a+_0x1e6046*_0x1447d9;}}}['getChunks'](_0x144dd1){const {chunkData:_0xd180ae,numChunks:_0xab646,chunkSize:_0x55beff}=this;let _0x41df04,_0x3330f6,_0x83c087,_0x40d7b9,_0x137592,_0x1d1298;for(let _0x49fab3=0x1652+-0x1ebd+0x86b;_0x49fab3<_0xab646;++_0x49fab3){const _0x5f57d4=_0x49fab3*_0x55beff;_0x41df04=_0xd180ae[_0x5f57d4+(-0x8d7*-0x3+-0x24af*-0x1+-0x3f34)],_0x3330f6=_0xd180ae[_0x5f57d4+(0x1b*0xc1+0x138+0xb*-0x1f6)],_0x83c087=_0xd180ae[_0x5f57d4+(-0x515*0x2+0x104e+-0x622)],_0x40d7b9=_0xd180ae[_0x5f57d4+(0x1d5b*0x1+0x7*0x34f+0x3481*-0x1)],_0x137592=_0xd180ae[_0x5f57d4+(-0x137*-0x8+-0x54b+-0x469)],_0x1d1298=_0xd180ae[_0x5f57d4+(-0x1e34+0x2*0xc7d+0x53f)],_0x144dd1[_0x49fab3*(0xef4+0x12aa*0x2+-0x3442)+(-0x59*-0x66+-0xb*0x2f2+0x38*-0xe)]=_0x41df04,_0x144dd1[_0x49fab3*(-0x491*-0x1+0x9d*0x3d+0xb3*-0x3c)+(0x1*0x2ba+-0x1bb*0x9+0x2f*0x46)]=_0x3330f6,_0x144dd1[_0x49fab3*(-0x1*-0x19dd+0xb34*0x3+0x13*-0x321)+(-0x23b*0xf+-0x1273+-0x114e*-0x3)]=_0x83c087,_0x144dd1[_0x49fab3*(-0xb7+0x2697+-0x25da)+(0x539+0xd7d+0x12b3*-0x1)]=_0x40d7b9,_0x144dd1[_0x49fab3*(0x19*-0x39+0x3*0x903+0x44a*-0x5)+(0x1e1*0x6+0x1496+-0x1fd8)]=_0x137592,_0x144dd1[_0x49fab3*(-0x4c1*-0x1+-0x1283+0xdc8)+(-0x2563+-0x8*-0x1c9+0x1720)]=_0x1d1298;}}['calcFocalP'+'oint'](_0x49fae9){const {chunkData:_0x496933,numChunks:_0x407df2,chunkSize:_0x739f54}=this;_0x49fae9['x']=0xce7+0x1c92+0xdd3*-0x3,_0x49fae9['y']=-0x445+0x1*-0x14cf+0x1914,_0x49fae9['z']=0x23b5+-0x225d+-0x2b*0x8;for(let _0x5c774f=0x25ed+0xcb7+0x2*-0x1952;_0x5c774f<_0x407df2;++_0x5c774f){const _0x3320bb=_0x5c774f*_0x739f54;_0x49fae9['x']+=_0x496933[_0x3320bb+(-0xb1*0xe+-0x2550+0x2efe)]+_0x496933[_0x3320bb+(-0x2d*-0x5d+-0x2b5+-0x3*0x48b)],_0x49fae9['y']+=_0x496933[_0x3320bb+(0x1c*-0x9f+0x1496+-0x2b*0x13)]+_0x496933[_0x3320bb+(0x930+0xee7+0x1813*-0x1)],_0x49fae9['z']+=_0x496933[_0x3320bb+(-0xd7+0x75d+0x116*-0x6)]+_0x496933[_0x3320bb+(-0x1d56+0x54a*-0x4+0xc1*0x43)];}_0x49fae9['mulScalar']((-0x7*-0x36d+-0x1*0xf4+-0x1707+0.5)/_0x407df2);}get['isCompress'+'ed'](){return!(-0x9a4+0x90e+0x96);}get['numChunks'](){return Math['ceil'](this['numSplats']/(0x343*-0x1+0x9*0x2b0+-0x13ed*0x1));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}async['decompress'](){const _0x2f0d76=['x','y','z','f_dc_0','f_dc_1','f_dc_2','opacity','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','t','t_scale','motion_0','motion_1','motion_2'],{shBands:_0xc420c2}=this;if(_0xc420c2>-0x1*-0xc7b+-0xcdb+0x60){const _0x3ecdf5=[];for(let _0x482546=-0x1802+-0xba4+0x3*0xbe2;_0x482546<0xc73*-0x1+-0xcbc*0x1+0x195c;++_0x482546)_0x3ecdf5['push']('f_rest_'+_0x482546);_0x2f0d76['splice'](_0x2f0d76['indexOf']('f_dc_0')+(0xdf4+0x2e*0xab+-0x2cad),-0x5c*-0x1f+-0x11*0x85+0x24f*-0x1,..._0x3ecdf5);}const _0x48ab57=new ik();return _0x48ab57['decompress'](this['numSplats'],this['chunkData'],this['chunkSize'],this['vertexData'],this['shData0'],this['shData1'],this['shData2'],this['shBands']),new Promise((_0x505d84,_0x3da96f)=>{_0x48ab57['on']('decompress'+'ed',_0xb6eaa6=>{_0x48ab57['destroy'](),_0x505d84(new qn([{'name':'vertex','count':this['numSplats'],'properties':_0x2f0d76['map'](_0x467088=>({'type':'float','name':_0x467088,'storage':_0xb6eaa6[_0x467088],'byteSize':0x4}))}],this['comments']));});});}}async function nk(){const _0x209acd='super4d-ca'+'che-v1',_0xa4afea={'maxAge':0x9a7ec800,'maxSize':0x280000000},_0x5e9b72=new Uint8Array([0x18d3+-0x24f2+0xc8f,-0x6d3+0x32*0x8b+-0x13e7,-0x1342+0x4c4+0x4fd*0x3,0x1ca6+-0x89*0x41+-0x1*-0x62d]),_0x1990fc=new Uint8Array([0x25e8+0x463+-0x2a41,0x1*0xe75+-0x473+-0x99d,0x5c6+0xd18+-0x2*0x938,-0x26ec+0x1bbf+0xb91*0x1,0x1896+0x2b*-0x89+0x16*-0xe,-0x3d*-0x31+0x1669+-0x21ae,-0x10c1+-0x8*-0x2bb+-0x4b2,0x119b+0x956+-0x1a90,-0xba4+-0x4*0x1c7+0x1ea*0xa,-0x1*0x595+-0x3*0x97+0x1*0x7bf,0x833+0x913*0x3+-0xf2*0x25,0x1*0x263d+0x1*-0x13c6+-0x126d]),_0x187d1d=0x1396+-0xf34+-0x462+0.28209479177387814,_0x667dab=new Map([['char',Int8Array],['uchar',Uint8Array],['short',Int16Array],['ushort',Uint16Array],['int',Int32Array],['uint',Uint32Array],['float',Float32Array],['double',Float64Array]]);class _0x4d66b0{constructor(_0x28ffc3={}){this['options']={..._0xa4afea,..._0x28ffc3},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=-0x152*0x1+-0x30b+0x1*0x45d,this['initialize'+'d']=!(0x72d+0x103*0x1b+-0x227d);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x209acd);const _0x44ac31=await this['cache']['keys'](),_0x1d3ffe=[];for(const _0x2558f2 of _0x44ac31){const _0x52b23c=_0x2558f2['url'],_0x3519fa=await this['cache']['match'](_0x52b23c);if(_0x3519fa){const _0x4c375a=(await _0x3519fa['blob']())['size'],_0x44af47=_0x3519fa['headers']['get']('x-cache-ti'+'me');_0x44af47&&_0x1d3ffe['push']({'url':_0x52b23c,'size':_0x4c375a,'cacheTime':parseInt(_0x44af47)});}}_0x1d3ffe['sort']((_0x2412a8,_0x27d87b)=>_0x2412a8['cacheTime']-_0x27d87b['cacheTime']);for(const _0x4e68f3 of _0x1d3ffe)this['cacheSizes']['set'](_0x4e68f3['url'],_0x4e68f3['size']),this['currentSiz'+'e']+=_0x4e68f3['size'],this['lruList']['push'](_0x4e68f3['url']);}catch(_0x3138e1){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x3138e1);}this['initialize'+'d']=!(-0x2283+0xcdd*-0x1+0x2f60);}}async['get'](_0x1608d7){if(await this['init'](),!this['cache'])return null;try{const _0x33ce0e=await this['cache']['match'](_0x1608d7);if(!_0x33ce0e)return null;const _0x283bbb=_0x33ce0e['headers']['get']('x-cache-ti'+'me');return _0x283bbb&&Date['now']()-parseInt(_0x283bbb)>this['options']['maxAge']?(await this['delete'](_0x1608d7),null):(this['updateLRU'](_0x1608d7),_0x33ce0e);}catch{return null;}}async['set'](_0x5dc99e,_0x2f49a9){if(!(!this['cache']||_0x5dc99e['startsWith']('blob:')))try{const _0x342b7c=_0x2f49a9['clone'](),_0x1af7a2=await _0x342b7c['blob'](),_0x36e879=_0x1af7a2['size'];this['currentSiz'+'e']+_0x36e879>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x36e879);const _0x25efd4=new Headers(_0x342b7c['headers']);_0x25efd4['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x3693a=new Response(_0x1af7a2,{'status':_0x342b7c['status'],'statusText':_0x342b7c['statusText'],'headers':_0x25efd4});await this['cache']['put'](_0x5dc99e,_0x3693a),this['cacheSizes']['set'](_0x5dc99e,_0x36e879),this['currentSiz'+'e']+=_0x36e879,this['updateLRU'](_0x5dc99e);}catch(_0x2be808){console['error']('Cache\x20set\x20'+'error:',_0x2be808);}}['updateLRU'](_0x5400cf){const _0x4513bc=this['lruList']['indexOf'](_0x5400cf);_0x4513bc>-(-0xb5a*-0x2+-0xf68+0x74b*-0x1)&&this['lruList']['splice'](_0x4513bc,-0x1*-0x12a4+0x1660+0x1*-0x2903),this['lruList']['push'](_0x5400cf);}async['cleanupSpa'+'ce'](_0x5edb5d){const _0x5749d8=this['options']['maxSize']*(0x423*-0x5+0xfd6*0x1+0x4d9+0.9);if(!(this['currentSiz'+'e']<=_0x5749d8))for(;this['lruList']['length']>0x217e+0x1a1*0xb+0x1*-0x3369&&this['currentSiz'+'e']>_0x5749d8;){const _0x5b5a59=this['lruList']['shift']();_0x5b5a59&&await this['delete'](_0x5b5a59);}}async['delete'](_0x4cc25b){if(this['cache'])try{await this['cache']['delete'](_0x4cc25b);const _0x5677b0=this['cacheSizes']['get'](_0x4cc25b)||0x5*0x4f+0x1e03+-0x1f8e;this['currentSiz'+'e']-=_0x5677b0,this['cacheSizes']['delete'](_0x4cc25b);const _0x4823bc=this['lruList']['indexOf'](_0x4cc25b);_0x4823bc>-(0x2525+-0x135b*0x1+-0x11c9)&&this['lruList']['splice'](_0x4823bc,0x1e5c+0x3*-0x32a+-0x14dd);}catch(_0x2facb8){console['error']('Cache\x20dele'+'te\x20error:',_0x2facb8);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x2bd82a=>Promise['all'](_0x2bd82a['map'](_0x5c2a3f=>{var _0x361cab;return(_0x361cab=this['cache'])==null?void(-0x2*0xe90+0x4e9*-0x1+0x2209):_0x361cab['delete'](_0x5c2a3f);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0x2*0x427+0x33*-0x8b+0x2c5*0x7;}catch(_0x2b4eab){console['error']('Cache\x20clea'+'r\x20error:',_0x2b4eab);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=0xbb2+0x1*-0x2318+0x5*0x4ae;}}class _0x54801e{constructor(_0x5751af=[],_0x52902f={}){this['cacheManag'+'er']=new _0x4d66b0(_0x52902f['cache']),this['retryCount']=_0x52902f['retryCount']||0x1feb+-0x54e+-0xf*0x1c6,this['retryDelay']=_0x52902f['retryDelay']||-0x956*0x2+0xe54+0x7c*0xd,this['maxConcurr'+'ency']=_0x52902f['maxConcurr'+'ency']||0x2*-0x406+0x6*-0x14b+0x2e*0x58,this['downloadQu'+'eue']=_0x5751af,this['isProcessi'+'ngDownload'+'Queue']=!(-0xe30+-0x1952+0x2783),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(0x1e92+-0x1d23*-0x1+-0x3*0x13e7);this['downloadQu'+'eue']['length']>-0x1848+-0x2445+-0x142f*-0x3;)try{const _0x2bb793=this['downloadQu'+'eue']['splice'](0xef4+0x1*0x1375+0x1*-0x2269,this['maxConcurr'+'ency'])['map'](_0x174acb=>{if(!this['pendingRes'+'ponses']['has'](_0x174acb)){const _0x166c6c=this['download'](_0x174acb);return this['pendingRes'+'ponses']['set'](_0x174acb,_0x166c6c),_0x166c6c['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x174acb);});}return Promise['resolve']();});await Promise['all'](_0x2bb793);}catch(_0x23129e){console['error']('Download\x20e'+'rror:',_0x23129e);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(0x2575*-0x1+0x945+0x1c31);}}}async['fetch'](_0xe07f00,_0x3e4bf6={}){if(this['pendingRes'+'ponses']['has'](_0xe07f00))return this['pendingRes'+'ponses']['get'](_0xe07f00);const {forceRefresh:_0x1b2c80=!(-0x67*0x29+-0x1889+0x2909),..._0x2ae87d}=_0x3e4bf6;this['pendingRes'+'ponses']['set'](_0xe07f00,this['download'](_0xe07f00,_0x2ae87d));const _0x42c851=await this['pendingRes'+'ponses']['get'](_0xe07f00);return this['pendingRes'+'ponses']['delete'](_0xe07f00),_0x42c851;}async['download'](_0x5e08e6,_0x32d355={}){var _0x4c6c9f;await((_0x4c6c9f=this['cacheManag'+'er'])==null?void(-0xf67+-0x1d0+0x1137):_0x4c6c9f['init']());const {forceRefresh:_0x2c1855=!(-0x2052+0x1d19+-0xe*-0x3b),..._0xbbf95b}=_0x32d355;_0x2c1855&&await this['cacheManag'+'er']['delete'](_0x5e08e6);const _0x3f6cb3=await this['cacheManag'+'er']['get'](_0x5e08e6);if(_0x3f6cb3)return _0x3f6cb3;let _0x35e20c;for(let _0x5397f3=-0xf85+-0x157a+-0x7b*-0x4d;_0x5397f3<this['retryCount'];_0x5397f3++)try{const _0xd17a6=await fetch(_0x5e08e6,_0xbbf95b);if(!_0xd17a6['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0xd17a6['status']);return await this['cacheManag'+'er']['set'](_0x5e08e6,_0xd17a6),_0xd17a6;}catch(_0x36838f){console['error']('Download\x20e'+'rror:',_0x36838f),_0x35e20c=_0x36838f,_0x5397f3<this['retryCount']-(-0x1b*-0x1b+0xe16*0x1+-0x10ee)&&await new Promise(_0x1f400e=>setTimeout(_0x1f400e,this['retryDelay']*(_0x5397f3+(-0x62*-0x41+0x1ef1*-0x1+0x184*0x4))));}throw _0x35e20c;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){this['cacheManag'+'er']['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(0x11a2+-0x31f*0x2+0x37*-0x35),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0x2f7d73{constructor(){this['numSplats']=-0x1417+0x909+-0x2*-0x587,this['comments']=[],this['chunkData']=new Float32Array(-0xb9a+-0x26ee+0x54*0x9a),this['vertexData']=new Uint32Array(-0xa48+0x323*-0xa+-0xde2*-0x3),this['is4D']=!(-0x1d48+-0x2*0x16f+-0xa*-0x337),this['shBands']=-0x2345+-0x173a+-0x3a7f*-0x1,this['shData0']=new Uint8Array(0x5*-0x122+0x1*-0xd41+-0x1d*-0xa7),this['shData1']=new Uint8Array(0x3*0x9fa+0x5a*-0x3f+-0x7c8),this['shData2']=new Uint8Array(-0x8*-0x46b+0x2*0x85a+-0x340c),this['elements']=[],this['isCompress'+'ed']=!(-0x1dfd+0x16f6*-0x1+0x34f3);}get['numChunks'](){return Math['ceil'](this['numSplats']/(-0x15d8+-0x8e*0x25+-0x15af*-0x2));}get['chunkSize'](){return this['chunkData']['length']/this['numChunks'];}}class _0x58721d{constructor(_0x7b25c9,_0x1eb5a0=[]){this['elements']=_0x7b25c9,this['comments']=_0x1eb5a0,this['isCompress'+'ed']=!(0x4*0x397+0x1ed+-0x209*0x8);}}class _0x4cb31f{constructor(_0x1d050d,_0x443b7e){this['reader']=_0x1d050d,this['progressFu'+'nc']=_0x443b7e,this['head']=0x5*-0x50b+-0x5a2*-0x5+0x2f3*-0x1,this['tail']=-0x15a+0x259*-0xa+0x18d4;}async['read'](){var _0x2b6310;const {value:_0x5bb8be,done:_0x301313}=await this['reader']['read']();if(_0x301313)throw new Error('Stream\x20fin'+'ished\x20befo'+'re\x20end\x20of\x20'+'header');this['push'](_0x5bb8be),(_0x2b6310=this['progressFu'+'nc'])==null||_0x2b6310['call'](this,_0x5bb8be['byteLength']);}['push'](_0x5290b8){if(!this['data'])this['data']=_0x5290b8,this['view']=new DataView(this['data']['buffer']),this['tail']=_0x5290b8['length'];else{const _0x4a473a=this['tail']-this['head'],_0x17313e=_0x4a473a+_0x5290b8['length'];if(this['data']['length']>=_0x17313e)this['head']>-0x1bfe+0x25*-0x83+0x2eed?(this['data']['copyWithin'](0x1459+-0xfb5+-0x4a4,this['head'],this['tail']),this['data']['set'](_0x5290b8,_0x4a473a),this['head']=0x161f+-0x2685+0x833*0x2,this['tail']=_0x17313e):(this['data']['set'](_0x5290b8,this['tail']),this['tail']+=_0x5290b8['length']);else{const _0x4d2a6a=new Uint8Array(_0x17313e);this['head']>0x2de+0x2e*-0x7f+0x13f4||this['tail']<this['data']['length']?_0x4d2a6a['set'](this['data']['subarray'](this['head'],this['tail']),-0x221*0x10+-0x1f8f+-0x6b*-0x9d):_0x4d2a6a['set'](this['data'],-0x1fd6+0xb67+0x1*0x146f),_0x4d2a6a['set'](_0x5290b8,_0x4a473a),this['data']=_0x4d2a6a,this['view']=new DataView(this['data']['buffer']),this['head']=-0x5*-0x2dd+0x1a7d+0x28ce*-0x1,this['tail']=_0x17313e;}}}['compact'](){this['head']>-0x973+0x25d6*0x1+-0x1c63*0x1&&(this['data']['copyWithin'](-0x16b6+-0x5*-0x3cb+-0x1*-0x3bf,this['head'],this['tail']),this['tail']-=this['head'],this['head']=0x17dd+-0x113c+-0x6a1);}get['remaining'](){return this['tail']-this['head'];}['getInt8'](){const _0x67d9ae=this['view']['getInt8'](this['head']);return this['head']++,_0x67d9ae;}['getUint8'](){const _0x3fd658=this['view']['getUint8'](this['head']);return this['head']++,_0x3fd658;}['getInt16'](){const _0x9081bc=this['view']['getInt16'](this['head'],!(-0x234*0x9+0x11a1*0x1+0x233));return this['head']+=-0x3e*-0xd+-0x22*-0xca+-0x1df8,_0x9081bc;}['getUint16'](){const _0x4c704b=this['view']['getUint16'](this['head'],!(0x157*-0x2+0x1*-0xe9+0x397));return this['head']+=-0x1*0x6a+-0x256e+-0x26*-0xff,_0x4c704b;}['getInt32'](){const _0x46a77d=this['view']['getInt32'](this['head'],!(-0x15bf+0x15d7*-0x1+0x2b96));return this['head']+=0xd3f*-0x1+-0x2616+-0xef*-0x37,_0x46a77d;}['getUint32'](){const _0x369cea=this['view']['getUint32'](this['head'],!(0x19*0x66+0x1d7b*-0x1+0x1385));return this['head']+=-0x7f9+0xbb2+-0x1*0x3b5,_0x369cea;}['getFloat32'](){const _0x46073e=this['view']['getFloat32'](this['head'],!(0x2475+-0x1*0xc7f+-0x2*0xbfb));return this['head']+=0x17e4+0x13c*-0x1c+0xab0,_0x46073e;}['getFloat64'](){const _0x1e2370=this['view']['getFloat64'](this['head'],!(0x1061+-0x2292+0x1231*0x1));return this['head']+=-0xca+0x1*-0xe11+0xee3*0x1,_0x1e2370;}}class _0x18887e{constructor(_0x5e541c,_0x3d07e6,_0x69603b){this['x']=_0x5e541c,this['y']=_0x3d07e6,this['z']=_0x69603b;}}class _0x5d9005{constructor(_0x46ba00,_0x491cef,_0xa6406f,_0x533c35){this['x']=_0x46ba00,this['y']=_0x491cef,this['z']=_0xa6406f,this['w']=_0x533c35;}}class _0x395184{constructor(_0x119f73,_0xd72cd5,_0x38ad16,_0x2acc39){this['x']=_0x119f73,this['y']=_0xd72cd5,this['z']=_0x38ad16,this['w']=_0x2acc39;}['set'](_0x558ad2,_0x4fdf06,_0x234e5d,_0x1219a5){this['x']=_0x558ad2,this['y']=_0x4fdf06,this['z']=_0x234e5d,this['w']=_0x1219a5;}}class _0x2f684a{constructor(_0x166f38,_0x4326b0,_0x2d4865,_0x31f139,_0x1ecd44,_0x355e1e,_0x45f934,_0x54bccc,_0x1846ce,_0x2e8589,_0x2988c5,_0x1898e6,_0x456076,_0x6709e5){const _0x3a058b=(_0x34718a,_0x52fa41)=>{const _0x21ab08=(0x23ca+0x3*-0x26b+-0x1c88<<_0x52fa41)-(-0xd90+0x20f5+-0x1364);return(_0x34718a&_0x21ab08)/_0x21ab08;},_0x5d166a=(_0x207987,_0x1cab23)=>{_0x207987['x']=_0x3a058b(_0x1cab23>>>-0x9d*-0xe+-0x187f+0xffe,-0x1e23+-0x1a3+0x1fd1),_0x207987['y']=_0x3a058b(_0x1cab23>>>-0xe57+-0x15c5+0x1*0x2427,0x15f1+0x1895+0x14*-0x253),_0x207987['z']=_0x3a058b(_0x1cab23,0x819+0x1298+-0x1aa6);},_0x1b1681=(_0x531b81,_0x378127)=>{_0x531b81['x']=_0x3a058b(_0x378127>>>-0x1b5*0x1+0x11d0+-0x1003*0x1,-0x6b+-0x1e58+0x1*0x1ecb),_0x531b81['y']=_0x3a058b(_0x378127>>>0x213b*0x1+0x10f*-0x13+-0xd0e,0x1*-0x69f+-0x1b30+0x21d7),_0x531b81['z']=_0x3a058b(_0x378127>>>-0x1347+0x1*-0x199+0x14e8,-0x1*0x190d+-0x4*0x7ed+0x38c9),_0x531b81['w']=_0x3a058b(_0x378127,0x1ef8+-0x1d90+-0x160);},_0x5292ba=(_0x45f321,_0x4004f5)=>{const _0x4a9128=(0xd*-0x1fc+0x11ac+0x821*0x1)/(Math['sqrt'](-0x5*0x240+0x10c0+-0x57e)*(-0x1*-0x1526+0x40*-0x1+-0x14e6+0.5)),_0x127128=(_0x3a058b(_0x4004f5>>>0x270d+-0x1*0x1497+0x16a*-0xd,-0x27e+-0x16dc+-0x1a*-0xfa)-(-0xee5+0x12ea+0x7*-0x93+0.5))*_0x4a9128,_0x5da54d=(_0x3a058b(_0x4004f5>>>0x18a0+0x1b*-0x152+0xb10,-0x33e*0x2+-0x2433+0x2ab9)-(0x1ece+0x13c8+-0x3296+0.5))*_0x4a9128,_0x3547a5=(_0x3a058b(_0x4004f5,0x3*-0xad9+-0x84c*0x4+0x1*0x41c5)-(-0x3c*-0x62+0x150c+0x24*-0x139+0.5))*_0x4a9128,_0x4ad3bf=Math['sqrt'](-0xe0e+-0xa7+-0x7*-0x21a-(_0x127128*_0x127128+_0x5da54d*_0x5da54d+_0x3547a5*_0x3547a5));switch(_0x4004f5>>>0x162*-0x10+-0x1742+-0x16c0*-0x2){case-0x9d6+-0x164e+0x2024:_0x45f321['set'](_0x127128,_0x5da54d,_0x3547a5,_0x4ad3bf);break;case-0x25b0+-0x53a*0x1+-0x2aeb*-0x1:_0x45f321['set'](_0x4ad3bf,_0x5da54d,_0x3547a5,_0x127128);break;case-0xfbd+0xf4b+0x2*0x3a:_0x45f321['set'](_0x5da54d,_0x4ad3bf,_0x3547a5,_0x127128);break;case-0x19*-0x154+-0x24f6+0x3c5:_0x45f321['set'](_0x5da54d,_0x3547a5,_0x4ad3bf,_0x127128);break;}},_0x49c423=(_0x3eeb9c,_0xe50924,_0x321ea9)=>_0x3eeb9c*(-0x1467+0x1458+0x10-_0x321ea9)+_0xe50924*_0x321ea9,_0x5e6af1=[0x25*-0x106+-0xfbd+0x1*0x359e,0x63e+0x1a42*0x1+-0x8*0x40f,-0x5a+-0x1*-0x2425+-0x23bc][_0x45f934-(-0x5*-0x3fb+0x1429+0x125*-0x23)],_0x52a1ad=0x1*-0x1211+0x408+0xe0f;this['read']=_0x372424=>{const _0x1c0c8c=Math['floor'](_0x372424/(-0x1*0x1c6+-0x7ec+-0x2*-0x559))*_0x4326b0;if(_0x54bccc&&(_0x5d166a(_0x54bccc,_0x2d4865[_0x372424*_0x52a1ad+(0x1c1f*-0x1+0x2652+-0xa33)]),_0x54bccc['x']=_0x49c423(_0x166f38[_0x1c0c8c+(-0xa90+0x1ffe+0x2*-0xab7)],_0x166f38[_0x1c0c8c+(-0x20e8+0x9d6*0x3+0x369)],_0x54bccc['x']),_0x54bccc['y']=_0x49c423(_0x166f38[_0x1c0c8c+(-0x5*0x6a1+0x1b1b+0x60b)],_0x166f38[_0x1c0c8c+(-0xe*-0x221+0x1*-0xbe3+-0x1*0x11e7)],_0x54bccc['y']),_0x54bccc['z']=_0x49c423(_0x166f38[_0x1c0c8c+(0x3b9*0x7+-0x24f6+0xae9)],_0x166f38[_0x1c0c8c+(-0x1a8d+0x1d5d+0x8f*-0x5)],_0x54bccc['z'])),_0x1846ce&&_0x5292ba(_0x1846ce,_0x2d4865[_0x372424*_0x52a1ad+(0x276*0x1+-0xad*0x39+-0x1*-0x2410)]),_0x2e8589&&(_0x5d166a(_0x2e8589,_0x2d4865[_0x372424*_0x52a1ad+(-0xb78*-0x1+-0x5*-0x584+-0x270a)]),_0x2e8589['x']=_0x49c423(_0x166f38[_0x1c0c8c+(0x121d*-0x1+0x1602+-0x3df)],_0x166f38[_0x1c0c8c+(-0x1e85*-0x1+-0x19a6+0x26b*-0x2)],_0x2e8589['x']),_0x2e8589['y']=_0x49c423(_0x166f38[_0x1c0c8c+(-0xf67+0x2353+-0x1cf*0xb)],_0x166f38[_0x1c0c8c+(-0x77*0x25+-0x1911+0x2a4e)],_0x2e8589['y']),_0x2e8589['z']=_0x49c423(_0x166f38[_0x1c0c8c+(0x1194+-0x20cb+-0x515*-0x3)],_0x166f38[_0x1c0c8c+(0xb0b*-0x1+-0x1*0x75f+0x20d*0x9)],_0x2e8589['z'])),_0x2988c5&&(_0x1b1681(_0x2988c5,_0x2d4865[_0x372424*_0x52a1ad+(-0x26d4+-0x6*0x404+0x3eef)]),_0x4326b0>-0x54e+-0x358*0x5+0x1612&&(_0x2988c5['x']=_0x49c423(_0x166f38[_0x1c0c8c+(-0x1109*0x1+-0x48c*0x8+0x3575)],_0x166f38[_0x1c0c8c+(0x1e1d*0x1+0x1c3*0x1+-0x1fd1)],_0x2988c5['x']),_0x2988c5['y']=_0x49c423(_0x166f38[_0x1c0c8c+(0xa57+0x1d23+0x1*-0x276d)],_0x166f38[_0x1c0c8c+(0x11e5+0x1*0x15b5+0x1*-0x278a)],_0x2988c5['y']),_0x2988c5['z']=_0x49c423(_0x166f38[_0x1c0c8c+(0x1118+-0x97+-0x1073)],_0x166f38[_0x1c0c8c+(0x2*0x16a+-0xe7e+0xbbb)],_0x2988c5['z']))),_0x1898e6&&(_0x5d166a(_0x1898e6,_0x2d4865[_0x372424*_0x52a1ad+(0x16cb*0x1+-0x2ff*0x9+0x430)]),_0x1898e6['x']=_0x49c423(_0x166f38[_0x1c0c8c+(0xc9*0x27+-0x1*0xcb3+-0x11da)],_0x166f38[_0x1c0c8c+(0xc66+0x1f76+-0x2bc7)],_0x1898e6['x']),_0x1898e6['y']=_0x49c423(_0x166f38[_0x1c0c8c+(-0x12d*-0x13+0x2213+-0x3857)],_0x166f38[_0x1c0c8c+(0xd06+0x2042+-0x2d32)],_0x1898e6['y']),_0x1898e6['z']=_0x49c423(_0x166f38[_0x1c0c8c+(-0xc6f+0x15ab+-0x928)],_0x166f38[_0x1c0c8c+(-0x2022+0x3*0x34+-0x1*-0x1f9d)],_0x1898e6['z'])),_0x456076&&(_0x5d166a(_0x456076,_0x2d4865[_0x372424*_0x52a1ad+(0xdae+-0x3*-0x583+-0x1e32)]),_0x456076['x']=_0x49c423(_0x166f38[_0x1c0c8c+(-0x2419+0x51*0x62+-0x1*-0x52f)],_0x166f38[_0x1c0c8c+(0x9*-0x2c9+-0x181f+-0x1f*-0x197)],_0x456076['x']),_0x456076['y']=_0x49c423(_0x166f38[_0x1c0c8c+(0x2*0x2e7+0x1d63*0x1+0x2b3*-0xd)],_0x166f38[_0x1c0c8c+(0x372*0x6+0x379*-0x9+-0x130*-0x9)],_0x456076['y'])),_0x6709e5&&_0x45f934>0x2479+0x8b6+-0x2d2f){const _0x285cb0=[_0x31f139,_0x1ecd44,_0x355e1e];for(let _0x230d4e=0x1ec+-0x13b6+0xfd*0x12;_0x230d4e<-0x728*-0x1+-0x54c+-0xb*0x2b;++_0x230d4e)for(let _0x376d50=-0x9d7+-0x5*-0x68f+-0x16f4;_0x376d50<0x10ee*-0x2+-0x1a51+0x3c3c;++_0x376d50)_0x6709e5[_0x230d4e*(-0xcdd+0xcf4+-0x8)+_0x376d50]=_0x376d50<_0x5e6af1?_0x285cb0[_0x230d4e][_0x372424*(-0x883*-0x2+-0x2176+-0x80*-0x21)+_0x376d50]*((-0x327+0x138d+-0x105e)/(-0x17*0x44+0xaa4*0x3+-0x18d1))-(-0xe9f+0x12*-0x1+-0x4e7*-0x3):-0x7*0xd0+0x1d51+-0x17a1;}};}}self['onmessage']=async _0x36a2ce=>{var _0x4b3a3f,_0x353127,_0x2b4332;const {data:_0x3f4ca4}=_0x36a2ce;switch(_0x3f4ca4['type']){case'initWorker':globalThis['loadUrlLis'+'t']=_0x3f4ca4['loadUrlLis'+'t'],globalThis['fetchWorke'+'r']=new _0x54801e(globalThis['loadUrlLis'+'t']);break;case'destroyWor'+'ker':(_0x4b3a3f=globalThis['fetchWorke'+'r'])==null||_0x4b3a3f['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['loadUrlLis'+'t']=[];break;case'loadPly':const {url:_0x11ae9a,decompress:_0x4a585f}=_0x3f4ca4;try{globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x54801e(globalThis['loadUrlLis'+'t']));const _0x3150a6=await globalThis['fetchWorke'+'r']['fetch'](_0x11ae9a);if(!_0x3150a6||!_0x3150a6['body'])self['postMessag'+'e']({'type':'error','data':'Error\x20load'+'ing\x20resour'+'ce','url':_0x11ae9a});else{const _0x19cd95=parseInt(_0x3150a6['headers']['get']('content-le'+'ngth')??'0',0x1d*-0x2+-0x1*-0x22eb+-0xb8d*0x3);self['postMessag'+'e']({'type':'totalLengt'+'h','totalLength':_0x19cd95,'bytes':0x0,'url':_0x11ae9a});let _0xa81a84=await _0x1bdbce(_0x3150a6['body']['getReader'](),_0x55ab29=>{self['postMessag'+'e']({'type':'progress','bytes':_0x55ab29,'totalLength':_0x19cd95,'url':_0x11ae9a});});if(_0x4a585f&&_0xa81a84['isCompress'+'ed']){const _0x491fa8=_0x250880(_0xa81a84),_0x323896=(_0x353127=_0x491fa8==null?void(0x113*-0xd+-0xbf1+0x19e8):_0x491fa8['elements'][-0x1*0xbda+0x1*-0x1b9d+0x2777])==null?void(-0x7d7+-0x21*-0x2+0x795):_0x353127['properties']['map'](_0x465580=>_0x465580['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0x491fa8,'url':_0x11ae9a},_0x323896);}else{if(_0xa81a84['isCompress'+'ed']){const _0x37d0d3=['chunkData','vertexData'];_0xa81a84['shData0']&&_0x37d0d3['push']('shData0','shData1','shData2');const _0x311036=_0x37d0d3['map'](_0x3140b9=>{var _0x47268e;return(_0x47268e=_0xa81a84[_0x3140b9])==null?void(0x175f*0x1+-0xb11*0x1+-0xaf*0x12):_0x47268e['buffer'];});self['postMessag'+'e']({'type':'splatData','data':_0xa81a84,'url':_0x11ae9a},_0x311036);}else{_0xa81a84=_0x5bd05f(_0xa81a84);const _0xc85f17=(_0x2b4332=_0xa81a84==null?void(-0x1fcf+0x13f1+0x3e*0x31):_0xa81a84['elements'][0xde7+0x18c6+-0x26ad])==null?void(0xa2*-0x3a+0x1d16+-0x1*-0x79e):_0x2b4332['properties']['map'](_0x4dde72=>_0x4dde72['storage']['buffer']);self['postMessag'+'e']({'type':'splatData','data':_0xa81a84,'url':_0x11ae9a},_0xc85f17);}}}}catch(_0x12ce9){self['postMessag'+'e']({'type':'error','data':_0x12ce9['message'],'url':_0x11ae9a});}break;}};const _0x5bd05f=_0x5ba694=>{var _0x39cba3;const _0x2f602e=(_0x39cba3=_0x5ba694==null?void(0x1*-0x155+-0x20b*0x5+-0x1*-0xb8c):_0x5ba694['elements'][-0x2*-0x54c+-0x40+-0xa58])==null?void(-0x450+0x1622+-0x11d2):_0x39cba3['properties']['find'](_0xfedb68=>_0xfedb68['name']==='opacity');if(_0x2f602e){for(let _0x3116e0=0x25*-0x3b+-0x5a7*0x2+0x13d5;_0x3116e0<_0x2f602e['storage']['length'];_0x3116e0++)_0x2f602e['storage'][_0x3116e0]=(-0x1ec1+0x5e3+0x1*0x18df)/(-0xc3*-0x11+0x26f7+-0x61*0x89+Math['exp'](-_0x2f602e['storage'][_0x3116e0]));}return _0x5ba694;},_0x5ce625=_0x37f8e0=>{const _0x4b5da5=[],_0x4d7fc5=[];let _0x5f4be3;for(let _0x19929b=-0x7cd*0x2+-0x1555+0x24f0;_0x19929b<_0x37f8e0['length'];++_0x19929b){const _0x368953=_0x37f8e0[_0x19929b]['split']('\x20');switch(_0x368953[-0xa65+-0x3cb*-0x2+0x2cf]){case'comment':_0x4d7fc5['push'](_0x368953['slice'](0x17*0x4+-0xfdb+0xf80)['join']('\x20'));break;case'format':_0x5f4be3=_0x368953[-0x2005+0x1a4*0x8+0x12e6];break;case'element':_0x4b5da5['push']({'name':_0x368953[-0x460+0x505+-0x52*0x2],'count':parseInt(_0x368953[-0x207e*-0x1+0xc60+0x9*-0x4fc],0x19da+0x13*-0xcb+0x7*-0x189),'properties':[]});break;case'property':{if(!_0x667dab['has'](_0x368953[0x156+-0x2337+0x21e2]))throw new Error('Unrecogniz'+'ed\x20propert'+'y\x20data\x20typ'+'e\x20\x27'+_0x368953[0x1f13+-0x2242*-0x1+0x20aa*-0x2]+('\x27\x20in\x20ply\x20h'+'eader'));_0x4b5da5[_0x4b5da5['length']-(0x2*-0x53+-0xafd+0xba4)]['properties']['push']({'type':_0x368953[0x217b+0x4*0x609+-0x399e],'name':_0x368953[0x178f*-0x1+0x1ffd+-0x86c],'storage':null,'byteSize':_0x667dab['get'](_0x368953[-0x5af+0x71b+-0x16b])['BYTES_PER_'+'ELEMENT']});break;}default:throw new Error('Unrecogniz'+'ed\x20header\x20'+'value\x20\x27'+_0x368953[-0x457*-0x6+0x8df+-0x22e9]+('\x27\x20in\x20ply\x20h'+'eader'));}}return{'elements':_0x4b5da5,'format':_0x5f4be3,'comments':_0x4d7fc5};},_0x151999=_0x38f6cf=>{const _0x219110=['min_x','min_y','min_z','max_x','max_y','max_z','min_scale_'+'x','min_scale_'+'y','min_scale_'+'z','max_scale_'+'x','max_scale_'+'y','max_scale_'+'z','min_r','min_g','min_b','max_r','max_g','max_b','min_motion'+'_x','min_motion'+'_y','min_motion'+'_z','max_motion'+'_x','max_motion'+'_y','max_motion'+'_z','min_time_s'+'cale','max_time_s'+'cale','min_time','max_time'],_0xa6cef7=['packed_pos'+'ition','packed_rot'+'ation','packed_sca'+'le','packed_col'+'or','packed_mot'+'ion','packed_tim'+'e'],_0x5c58ec=new Array(-0x17*0x8b+-0x1cd5*-0x1+-0x102b)['fill']('')['map']((_0x3a993b,_0x36e655)=>'f_rest_'+_0x36e655),_0x2cb530=()=>_0x38f6cf[-0x2582*-0x1+0x9b*0x17+-0x336f]['name']==='chunk'&&_0x38f6cf[-0x1*-0x22b1+-0xce3+-0x15ce]['properties']['every']((_0xf54abc,_0xcb8be0)=>_0xf54abc['name']===_0x219110[_0xcb8be0]&&_0xf54abc['type']==='float')&&_0x38f6cf[0x13a7+-0x1*-0x1a7d+0x7f*-0x5d]['name']==='vertex'&&_0x38f6cf[-0x258b+-0x1*-0x2fb+-0x1*-0x2291]['properties']['every']((_0x462343,_0xafc96f)=>_0x462343['name']===_0xa6cef7[_0xafc96f]&&_0x462343['type']==='uint'),_0x1a660b=()=>_0x38f6cf[-0x1*-0x190a+0x2466+-0x3d6e]['name']==='sh'&&[-0x214+-0x1*0x36e+0x58b,0x1*0x1e+-0xf3d+0xf37,-0x1cfd+0xce*0x2b+-0x2*0x2b8]['indexOf'](_0x38f6cf[-0x3*-0x143+0xf61*0x2+0x4ef*-0x7]['properties']['length'])!==-(0x266*-0x8+-0x1132*-0x1+0x1ff)&&_0x38f6cf[-0x2660+-0x226c+0x48ce]['properties']['every']((_0xdd19d8,_0x518304)=>_0xdd19d8['name']===_0x5c58ec[_0x518304]&&_0xdd19d8['type']==='uchar');return _0x38f6cf['length']===0x80f*0x1+-0x297+-0x576&&_0x2cb530()||_0x38f6cf['length']===0x1*-0x662+-0x10ff+0x1764&&_0x2cb530()&&_0x1a660b();},_0x2a2d2e=_0x4d3853=>_0x4d3853['length']===-0xeb2+0x564+-0x94f*-0x1&&_0x4d3853[-0x160*0x1+-0x158+0x8*0x57]['name']==='vertex'&&_0x4d3853[0x15a3+-0xcb*0x1b+0x2*-0x1d]['properties']['every'](_0x4a8a78=>_0x4a8a78['type']==='float'),_0x266db7=async(_0x1dd094,_0x45dbae,_0xd84c44)=>{const _0xbb0d17=new _0x2f7d73();_0xbb0d17['comments']=_0xd84c44;const _0x42cc94=_0x45dbae[-0x1*-0x246b+-0x1361*0x1+-0x110a]['count'],_0x497bd7=_0x45dbae[-0x20cf+-0x14de+0x35ad]['properties']['length'],_0xa70ee2=_0x45dbae[0x14ca+-0x14f0+-0xd*-0x3]['count'],_0x1482b8=_0x45dbae[-0x101a+0x3ce*0x2+0x87f]['properties']['some'](_0x1a583e=>_0x1a583e['name']==='packed_tim'+'e'),_0x54281d=(_0x40263e=>{const _0xdbfe16=Math['ceil'](Math['sqrt'](_0x40263e)),_0x19a18c=Math['ceil'](_0x40263e/_0xdbfe16);return _0xdbfe16*_0x19a18c;})(_0xa70ee2);_0xbb0d17['numSplats']=_0xa70ee2,_0xbb0d17['is4D']=_0x1482b8,_0xbb0d17['chunkData']=new Float32Array(_0x42cc94*_0x497bd7),_0xbb0d17['vertexData']=new Uint32Array(_0x54281d*(-0x2f*-0x87+-0xa0b*0x3+0x55e));const _0x1a76a8=async(_0x20c25b,_0x3596bd)=>{const _0x3b7bb0=new Uint8Array(_0x20c25b);let _0x39a64f=0x1977+0x44*0x3+0x8c1*-0x3;for(;_0x39a64f<_0x3596bd;){for(;_0x1dd094['remaining']===-0x910+0x99+0x877;)await _0x1dd094['read']();const _0x65eb71=Math['min'](_0x3596bd-_0x39a64f,_0x1dd094['remaining']),_0x22521d=_0x1dd094['data'];for(let _0x3bb335=0x218*0x10+0xe0f+-0x19*0x1e7;_0x3bb335<_0x65eb71;++_0x3bb335)_0x3b7bb0[_0x39a64f++]=_0x22521d[_0x1dd094['head']++];}};if(await _0x1a76a8(_0xbb0d17['chunkData']['buffer'],_0x42cc94*_0x497bd7*(-0x6fb*0x5+-0x39*0x7c+0x3e87)),await _0x1a76a8(_0xbb0d17['vertexData']['buffer'],_0xa70ee2*(0x164*0x7+0x1167+0xb*-0x277)*(0x10da+0x255b+-0x3631)),_0x45dbae['length']===0x297*-0x1+0x2*0xc16+0x16*-0xfb){const _0x225ab0=_0x54281d*(0x19*-0x5+-0xca6*0x1+-0x6d*-0x1f),_0x178b35=new Uint8Array(_0x225ab0),_0x24ad96=new Uint8Array(_0x225ab0),_0x316f8f=new Uint8Array(_0x225ab0),_0x37022e=-0x126+0x1*-0x233f+0x2865,_0x418ac5=_0x45dbae[-0x1fa2+0x1d*-0x11f+0x4027*0x1]['properties']['length']/(0x263d+-0xf4*-0xf+0xa6*-0x51),_0xad6954=new Uint8Array(_0x37022e*_0x418ac5*(0x193+0x80d+-0x1*0x99d));for(let _0x2c5b59=0x808+0xad*0xd+-0x10d1;_0x2c5b59<_0xbb0d17['numSplats'];_0x2c5b59+=_0x37022e){const _0x3d81e4=Math['min'](_0x37022e,_0xbb0d17['numSplats']-_0x2c5b59);await _0x1a76a8(_0xad6954['buffer'],_0x3d81e4*_0x418ac5*(0x6d0+-0x102*0x14+0xd5b));for(let _0x3d10ad=0x12*-0x17f+-0x738+-0x2226*-0x1;_0x3d10ad<_0x3d81e4;++_0x3d10ad)for(let _0x5a419e=-0x17f1*-0x1+0x1*-0x10d+-0x16e4;_0x5a419e<-0x1b31*0x1+0xff3+-0xb*-0x107;++_0x5a419e){const _0x3839be=(_0x2c5b59+_0x3d10ad)*(-0x8ce*-0x2+0x805*-0x4+0xe88)+_0x5a419e;_0x5a419e<_0x418ac5?(_0x178b35[_0x3839be]=_0xad6954[(_0x3d10ad*(0x7*0x281+-0x9*0x23+-0x1049)+(0x1b*0x59+-0x1580+0xc1d))*_0x418ac5+_0x5a419e],_0x24ad96[_0x3839be]=_0xad6954[(_0x3d10ad*(-0xf17*-0x1+0x9fe+-0x1912)+(0x3*-0x198+0x5b3*-0x3+0x15e2))*_0x418ac5+_0x5a419e],_0x316f8f[_0x3839be]=_0xad6954[(_0x3d10ad*(-0x1107+0x1*-0x1801+0x290b)+(0x1a8f*0x1+0x15c5+0x5*-0x9aa))*_0x418ac5+_0x5a419e]):(_0x178b35[_0x3839be]=-0x1ec*-0x10+-0x1924+-0x77*0xb,_0x24ad96[_0x3839be]=-0x780+-0x20a*0x9+0x13*0x163,_0x316f8f[_0x3839be]=0x1*0x1669+-0x1e4+0x1406*-0x1);}}_0xbb0d17['shData0']=_0x178b35,_0xbb0d17['shData1']=_0x24ad96,_0xbb0d17['shData2']=_0x316f8f,_0xbb0d17['shBands']={0x3:0x1,0x8:0x2,0xf:0x3}[_0x418ac5];}else _0xbb0d17['shBands']=-0x126e*0x1+0x2365+-0x10f7;return _0xbb0d17;},_0x5c854a=async(_0x29e76b,_0x14c8d4,_0x387b6d)=>{const _0x25287f=_0x14c8d4[-0x1189*-0x2+0x16f0+0x1e*-0x1ef],_0x2248b8=_0x25287f['properties'],_0x29c0f8=_0x2248b8['length'],_0x160177=_0x2248b8['map'](_0x49fdce=>_0x49fdce['storage']),_0x3fff55=_0x2248b8['reduce']((_0x145b94,_0x56658f)=>_0x145b94+_0x56658f['byteSize'],-0x1a8d+-0x24d2+0x3f5f*0x1);let _0x528c13=-0x1b77*0x1+0x21be+-0x647,_0x29e6f4;const _0x3bb0e5=()=>{const _0x284264=_0x29e76b['data']['buffer'];(_0x29e6f4==null?void(0x1*0x379+0x184a+-0x1bc3):_0x29e6f4['buffer'])!==_0x284264&&(_0x29e6f4=new Float32Array(_0x284264,-0x11ae+-0x817+-0x2dd*-0x9,_0x284264['byteLength']/(-0x2*-0xcb5+0x4*0x29+-0x457*0x6)));};for(_0x3bb0e5();_0x528c13<_0x25287f['count'];){for(;_0x29e76b['remaining']<_0x3fff55;)await _0x29e76b['read'](),_0x3bb0e5();const _0x1506e4=Math['min'](_0x25287f['count']-_0x528c13,Math['floor'](_0x29e76b['remaining']/_0x3fff55));for(let _0x53440e=-0x2*0x28d+0xd0*0x2c+-0x1ea6;_0x53440e<_0x29c0f8;++_0x53440e){const _0x3df794=_0x160177[_0x53440e];for(let _0x462a43=0x1159*-0x2+0x5b*0x15+0x1b3b;_0x462a43<_0x1506e4;++_0x462a43)_0x3df794[_0x462a43+_0x528c13]=_0x29e6f4[_0x462a43*_0x29c0f8+_0x53440e];}_0x528c13+=_0x1506e4,_0x29e76b['head']+=_0x1506e4*_0x3fff55;}return new _0x58721d(_0x14c8d4,_0x387b6d);},_0x3657e2=async(_0x3221c4,_0x1a555e,_0xe98e93)=>{for(let _0x5766e0=-0x63f+-0x2570+-0xd3*-0x35;_0x5766e0<_0x1a555e['length'];++_0x5766e0){const _0x3560c2=_0x1a555e[_0x5766e0],_0x5b0691=_0x3560c2['properties']['reduce']((_0x49c809,_0x4ef78c)=>_0x49c809+_0x4ef78c['byteSize'],0xfb3*-0x2+0x24fc+-0x596),_0x3b69a8=_0x3560c2['properties']['map'](_0x2eef61=>{if(_0x2eef61['storage'])switch(_0x2eef61['type']){case'char':return(_0x546a1b,_0x3074cd)=>{_0x2eef61['storage'][_0x3074cd]=_0x546a1b['getInt8']();};case'uchar':return(_0x3589d3,_0x253bba)=>{_0x2eef61['storage'][_0x253bba]=_0x3589d3['getUint8']();};case'short':return(_0x51b747,_0x54fcb2)=>{_0x2eef61['storage'][_0x54fcb2]=_0x51b747['getInt16']();};case'ushort':return(_0x277bc7,_0x527439)=>{_0x2eef61['storage'][_0x527439]=_0x277bc7['getUint16']();};case'int':return(_0x1709f3,_0x5f4fa0)=>{_0x2eef61['storage'][_0x5f4fa0]=_0x1709f3['getInt32']();};case'uint':return(_0x510af0,_0x79761f)=>{_0x2eef61['storage'][_0x79761f]=_0x510af0['getUint32']();};case'float':return(_0x514dfc,_0x2a90d5)=>{_0x2eef61['storage'][_0x2a90d5]=_0x514dfc['getFloat32']();};case'double':return(_0x1f4e0f,_0x1a492a)=>{_0x2eef61['storage'][_0x1a492a]=_0x1f4e0f['getFloat64']();};default:throw new Error('Unsupporte'+'d\x20property'+'\x20data\x20type'+'\x20\x27'+_0x2eef61['type']+('\x27\x20in\x20ply\x20h'+'eader'));}else return _0x2731db=>{_0x2731db['head']+=_0x2eef61['byteSize'];};});let _0x5a20e9=0x1070+0x264+-0x12d4;for(;_0x5a20e9<_0x3560c2['count'];){for(;_0x3221c4['remaining']<_0x5b0691;)await _0x3221c4['read']();const _0xd32fef=Math['min'](_0x3560c2['count']-_0x5a20e9,Math['floor'](_0x3221c4['remaining']/_0x5b0691));for(let _0x5b9c03=-0xf38+0x22cc+-0x2*0x9ca;_0x5b9c03<_0xd32fef;++_0x5b9c03){for(let _0x131c56=0x11a5*0x2+0xf*0x237+0x1*-0x4483;_0x131c56<_0x3560c2['properties']['length'];++_0x131c56)_0x3b69a8[_0x131c56](_0x3221c4,_0x5a20e9);_0x5a20e9++;}}}return new _0x58721d(_0x1a555e,_0xe98e93);},_0x1bdbce=async(_0x190a7e,_0xe8ea50=null)=>{const _0x470e60=(_0x846fb4,_0x4830ee)=>{const _0x389a46=_0x846fb4['length']-_0x4830ee['length'];let _0x46ec5e,_0x36e87d;for(_0x46ec5e=0x118a+-0x1f7a+0xdf0;_0x46ec5e<=_0x389a46;++_0x46ec5e){for(_0x36e87d=0x788*0x1+-0x4cc+-0x2bc*0x1;_0x36e87d<_0x4830ee['length']&&_0x846fb4[_0x46ec5e+_0x36e87d]===_0x4830ee[_0x36e87d];++_0x36e87d);if(_0x36e87d===_0x4830ee['length'])return _0x46ec5e;}return-(0x13*-0x8e+0x1fb8+0x1a1*-0xd);},_0x51d26a=(_0x5182a1,_0x929c04)=>{if(_0x5182a1['length']<_0x929c04['length'])return!(-0x21fa+-0x65c+-0x2857*-0x1);for(let _0x291efc=-0x24cd*0x1+-0x21bc+-0x27*-0x1cf;_0x291efc<_0x929c04['length'];++_0x291efc)if(_0x5182a1[_0x291efc]!==_0x929c04[_0x291efc])return!(0x189+-0x1*-0x1433+-0x1*0x15bb);return!(-0x25*-0x1b+0x1*0x1434+-0x181b);},_0x46faa5=new _0x4cb31f(_0x190a7e,_0xe8ea50);let _0x49b886;for(;;){if(await _0x46faa5['read'](),_0x46faa5['tail']>=_0x5e9b72['length']&&!_0x51d26a(_0x46faa5['data'],_0x5e9b72))throw new Error('Invalid\x20pl'+'y\x20header');if(_0x49b886=_0x470e60(_0x46faa5['data'],_0x1990fc),_0x49b886!==-(-0x1*0x96b+-0x19de+0x234a))break;}const _0x420ea3=new TextDecoder('ascii')['decode'](_0x46faa5['data']['subarray'](0x1591+-0x506*-0x1+-0x1*0x1a97,_0x49b886))['split']('\x0a'),{elements:_0x30d72f,format:_0x191f4f,comments:_0x3d36c8}=_0x5ce625(_0x420ea3);if(_0x191f4f!=='binary_lit'+'tle_endian')throw new Error('Unsupporte'+'d\x20ply\x20form'+'at');return _0x46faa5['head']=_0x49b886+_0x1990fc['length'],_0x46faa5['compact'](),await((async()=>_0x151999(_0x30d72f)?await _0x266db7(_0x46faa5,_0x30d72f,_0x3d36c8):(_0x30d72f['forEach'](_0x5b3578=>{_0x5b3578['properties']['forEach'](_0x136594=>{const _0x2fc26d=_0x667dab['get'](_0x136594['type']);if(_0x2fc26d){const _0x2e5a24=new _0x2fc26d(_0x5b3578['count']);_0x136594['storage']=_0x2e5a24;}});}),_0x2a2d2e(_0x30d72f)?await _0x5c854a(_0x46faa5,_0x30d72f,_0x3d36c8):await _0x3657e2(_0x46faa5,_0x30d72f,_0x3d36c8)))());},_0x250880=_0x53f44b=>{const {numSplats:_0x2e025a,chunkData:_0x2fcec8,chunkSize:_0x5a877e,vertexData:_0x217ab9,shData0:_0x3ab362,shData1:_0x191134,shData2:_0x1daff4,shBands:_0x5bd915,comments:_0x24a77c,is4D:_0x44f698}=_0x53f44b,_0x5c3b22=['x','y','z','scale_0','scale_1','scale_2','rot_0','rot_1','rot_2','rot_3','f_dc_0','f_dc_1','f_dc_2','opacity'];if(_0x44f698&&_0x5c3b22['push']('t','t_scale','motion_0','motion_1','motion_2'),_0x5bd915>-0x1eac+-0xe2*-0x29+-0x586*0x1){const _0x496aab=[];for(let _0x755736=-0x144d*0x1+-0x6*0x3ca+0x1df*0x17;_0x755736<-0x194c*0x1+-0xd17+0x2690;++_0x755736)_0x496aab['push']('f_rest_'+_0x755736);_0x5c3b22['splice'](_0x5c3b22['indexOf']('f_dc_0')+(0xb11+0x698+-0x11a8),0x253a*-0x1+0x765+-0x443*-0x7,..._0x496aab);}const _0x506000={};_0x5c3b22['forEach'](_0x4c3c27=>{_0x506000[_0x4c3c27]=new Float32Array(_0x2e025a);});const _0x83691f=new _0x18887e(),_0xd1b17=new _0x395184(),_0x415f0a=new _0x18887e(),_0x3febf7=new _0x5d9005(),_0x47f45d=new _0x18887e(),_0x3db4f3=new _0x18887e(),_0x574469=_0x5bd915>0xc93*0x3+-0x426+-0x3bb*0x9?new Float32Array(-0x1147*0x1+0x3*-0xd01+0x3877):null,_0x196996=new _0x2f684a(_0x2fcec8,_0x5a877e,_0x217ab9,_0x3ab362,_0x191134,_0x1daff4,_0x5bd915,_0x83691f,_0xd1b17,_0x415f0a,_0x3febf7,_0x47f45d,_0x3db4f3,_0x574469);for(let _0x344edd=0x5e0+-0x2274+-0xec*-0x1f;_0x344edd<_0x2e025a;++_0x344edd){_0x196996['read'](_0x344edd),_0x506000['x'][_0x344edd]=_0x83691f['x'],_0x506000['y'][_0x344edd]=_0x83691f['y'],_0x506000['z'][_0x344edd]=_0x83691f['z'],_0x506000['rot_1'][_0x344edd]=_0xd1b17['x'],_0x506000['rot_2'][_0x344edd]=_0xd1b17['y'],_0x506000['rot_3'][_0x344edd]=_0xd1b17['z'],_0x506000['rot_0'][_0x344edd]=_0xd1b17['w'],_0x506000['scale_0'][_0x344edd]=_0x415f0a['x'],_0x506000['scale_1'][_0x344edd]=_0x415f0a['y'],_0x506000['scale_2'][_0x344edd]=_0x415f0a['z'],_0x506000['motion_0'][_0x344edd]=_0x47f45d['x'],_0x506000['motion_1'][_0x344edd]=_0x47f45d['y'],_0x506000['motion_2'][_0x344edd]=_0x47f45d['z'],_0x506000['t_scale'][_0x344edd]=_0x3db4f3['x'],_0x506000['t'][_0x344edd]=_0x3db4f3['y'],_0x506000['f_dc_0'][_0x344edd]=(_0x3febf7['x']-(0x2b*0x94+0x18bb+-0x3197*0x1+0.5))/_0x187d1d,_0x506000['f_dc_1'][_0x344edd]=(_0x3febf7['y']-(-0x15a9*0x1+-0x1650+0x1*0x2bf9+0.5))/_0x187d1d,_0x506000['f_dc_2'][_0x344edd]=(_0x3febf7['z']-(0x1d3b*-0x1+-0x1*0x8b3+0x25ee+0.5))/_0x187d1d;const _0x28b24a=_0x3febf7['w']<=0x991+0x1*-0xca6+0x3*0x107?-(0x51b*-0x1+-0x6*-0x30+-0x1*-0x423):_0x3febf7['w']>=0x3*-0x277+-0xdf0+0x1556?0xdce+0x463*-0x1+0x943*-0x1:-Math['log']((0xbd*-0x2f+0x4eb+-0x131*-0x19)/_0x3febf7['w']-(0x13f1+-0x1*-0x1873+0x409*-0xb));if(_0x506000['opacity'][_0x344edd]=(0x1*0xd4f+-0x18a*-0xd+-0x29*0xd0)/(0x1a5*0xb+0x1525+-0x273b+Math['exp'](-_0x28b24a)),_0x574469){for(let _0x4cc22b=0x807*-0x1+0x1d7a+-0x121*0x13;_0x4cc22b<0x20*-0xda+-0x18b3+0x3420;++_0x4cc22b)_0x506000['f_rest_'+_0x4cc22b][_0x344edd]=_0x574469[_0x4cc22b];}}const _0x11adc2=[{'count':_0x2e025a,'name':'vertex','properties':_0x5c3b22['map'](_0x3721fe=>({'byteSize':0x4,'name':_0x3721fe,'type':'float','storage':_0x506000[_0x3721fe]}))}];return new _0x58721d(_0x11adc2,_0x24a77c);};}class ok extends me{constructor(_0xf91081){super(),h(this,'worker'),h(this,'loadUrlLis'+'t'),(this['loadUrlLis'+'t']=_0xf91081,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+nk['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','loadUrlList':this['loadUrlLis'+'t']});}['loadPly'](_0x585a83,_0x2b63e9,_0x119c04=(_0x36506e,_0x23d437)=>{},_0x295064=(_0x213e60,_0x2ac37e,_0x321d0c)=>{},_0x26186b=(_0x2a8295,_0x55b07e)=>{}){var _0x7dd3ba;return(_0x7dd3ba=this['worker'])==null||_0x7dd3ba['postMessag'+'e']({'type':'loadPly','url':_0x585a83,'decompress':_0x2b63e9}),new Promise((_0x3ad9ab,_0x3e79bc)=>{if(!this['worker']){_0x3e79bc(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x45cb6d=>{if(!this['worker'])return;const {data:_0x4be3fa}=_0x45cb6d;if(_0x585a83===_0x4be3fa['url'])switch(_0x4be3fa['type']){case'totalLengt'+'h':_0x119c04==null||_0x119c04(_0x4be3fa['totalLengt'+'h'],_0x4be3fa['url']);break;case'progress':_0x295064==null||_0x295064(_0x4be3fa['bytes'],_0x4be3fa['totalLengt'+'h'],_0x4be3fa['url']);break;case'splatData':_0x3ad9ab(_0x4be3fa['data']);break;case'error':_0x26186b==null||_0x26186b(_0x4be3fa['data'],_0x4be3fa['url']);break;}};});}['destroy'](){this['loadUrl']='',this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(0x1*-0x1840+-0x1ee6+0x3726));}}class lk{constructor(_0x3de9dd,_0x553324){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'readWorker'),(console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','Register\x20P'+'lyParser.c'+'onstructor'),this['app']=_0x3de9dd,this['maxRetries']=_0x553324,this['urlList']=[],this['gsplatReso'+'urce']=null,this['readWorker']=null,this['totalRecei'+'ved']=0x1*0x25ad+0xc69+-0x3216);}async['load'](_0x5edb24,_0xcefe46,_0x310d05){var _0x255f63,_0x343e64,_0x44823c;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','PlyParser.'+'load'),this['urlList']=[],_0x5edb24['load']['includes'](',')?this['urlList']=_0x5edb24['load']['split'](','):this['urlList']['push'](_0x5edb24['load']);const _0x1cd2ec=_0x310d05['data']['createTime']!==((_0x343e64=(_0x255f63=this['onlyOneAss'+'et'])==null?void(0x1ff6+0x1709*-0x1+-0x8ed):_0x255f63['data'])==null?void(-0x1*-0x4bf+-0x78a+0x2cb):_0x343e64['createTime']);(!this['readWorker']||_0x1cd2ec)&&((_0x44823c=this['readWorker'])==null||_0x44823c['destroy'](),this['readWorker']=new ok(this['urlList']));const _0x42c529=_0x310d05['data']['loadIndex']>=0x2b*0x35+0x5*0x61d+-0x2778?_0x310d05['data']['loadIndex']:0xc5*0x22+0x3e*-0x19+0x84*-0x27,_0x382795=_0x310d05['data']['loadMode']==='all'?this['urlList']['length']-_0x42c529:_0x42c529+(0x37a+-0x197f*0x1+0x1606),_0x395260=_0x310d05['data']['timeOption'],_0x419230=_0x310d05['data']['events'];for(let _0x1f4614=_0x42c529;_0x1f4614<_0x382795;_0x1f4614++)await this['loadGsplat'+'Data'](this['urlList'],_0xcefe46,_0x310d05,_0x1f4614,_0x395260,_0x419230,_0x382795);_0x419230['fire']('loadAllAss'+'etsDone');}async['loadGsplat'+'Data'](_0x421031,_0x129249,_0x5e0b60,_0x49e824,_0x5ce602,_0x1f51e4,_0x27949b){var _0x413e2a,_0x4573dc,_0x48731e;console['log']('____\x20PLYJS'+'\x20ENGINE\x20IV'+'AN','loadGsplat'+'Data',_0x421031[_0x49e824]['trim'](),_0x49e824);const _0x434620=_0x5ce602[(0x1591*0x1+0x47*0x25+-0x1fd2)*_0x49e824]+_0x5ce602[(-0x1ab+-0xf48+0x10f5)*_0x49e824+(0xaf6+-0x1*-0x1dfc+-0x28f1)],_0x2629de=_0x421031[_0x49e824]['trim']();globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('loadTime','=========='+'=========='+'=========='+'=========='+'=========='+'====='),console['log']('loadTime','start\x20load'+'\x20ply\x20data',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(0x2171*-0x1+-0x12b7*0x1+-0x1f0*-0x25))['toFixed'](-0x119e*-0x1+-0x690+-0xb0c));try{const _0x13ac77=await((_0x413e2a=this['readWorker'])==null?void(-0x1273*-0x2+0x4f*-0x67+-0x51d):_0x413e2a['loadPly'](_0x2629de,_0x5e0b60['data']['decompress'],()=>{this['totalRecei'+'ved']=-0x100d+0x2*-0xe9e+0x2d49;},(_0x8f864f,_0x4d8e57)=>{this['totalRecei'+'ved']+=_0x8f864f,_0x5e0b60&&_0x1f51e4['fire']('progress',_0x4d8e57*_0x49e824/_0x27949b+this['totalRecei'+'ved']/_0x27949b,_0x4d8e57);},(_0x54c41f,_0x521229)=>{debugger;console['warn']('ERROE\x20Load'+'\x20Ply',_0x521229,_0x54c41f);}));let _0xccb8d;console['log']('loadTime','load\x20ply\x20d'+'ata\x20done',((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/(-0xe10+-0x1c27+-0x3dbf*-0x1))['toFixed'](-0xd3*0xd+-0xaee*0x2+-0x13*-0x1b7)),_0x13ac77['isCompress'+'ed']?(_0xccb8d=new ak(),_0xccb8d['comments']=_0x13ac77['comments'],_0xccb8d['numSplats']=_0x13ac77['numSplats'],_0xccb8d['is4D']=_0x13ac77['is4D'],_0xccb8d['chunkData']=_0x13ac77['chunkData'],_0xccb8d['vertexData']=_0x13ac77['vertexData'],_0xccb8d['shData0']=_0x13ac77['shData0'],_0xccb8d['shData1']=_0x13ac77['shData1'],_0xccb8d['shData2']=_0x13ac77['shData2'],_0xccb8d['shBands']=_0x13ac77['shBands']):_0xccb8d=new qn(_0x13ac77['elements'],_0x13ac77['comments']),_0x5e0b60['fire']('load:data',_0xccb8d),_0xccb8d['isCompress'+'ed']||_0x5e0b60['data']['reorder'];const _0x35f3f2=_0x5e0b60['data']['createTime']!==((_0x48731e=(_0x4573dc=this['onlyOneAss'+'et'])==null?void(-0x3ae*-0x9+-0x1c6e+-0x4b0):_0x4573dc['data'])==null?void(-0x23c3+0x695+0x1d2e):_0x48731e['createTime']);this['gsplatReso'+'urce']&&!_0x35f3f2?this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0xccb8d['isCompress'+'ed']?await _0xccb8d['decompress']():_0xccb8d,_0x5ce602,_0x434620,_0x5e0b60,_0x1f51e4):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'Resource'),this['gsplatReso'+'urce']=new EC(this['app']['graphicsDe'+'vice'],_0xccb8d['isCompress'+'ed']?await _0xccb8d['decompress']():_0xccb8d),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x5ce602,this['onlyOneAss'+'et']=_0x5e0b60),_0x129249(null,this['gsplatReso'+'urce']);}catch(_0xe7e13c){_0x129249(_0xe7e13c,null);}}['open'](_0x39da3b,_0x21edba){return _0x21edba;}}async function ck(){const _0x49bed1='super4d-ca'+'che-v1',_0x34a4a8={'maxAge':0x202fbf000,'maxSize':0x280000000},_0x4761d3=-0x2*-0x291+0x57e*-0x4+0x2*0x86b+0.28209479177387814;class _0x5ba1f6{constructor(_0x479668={}){this['options']={..._0x34a4a8,..._0x479668},this['cache']=null,this['lruList']=[],this['cacheSizes']=new Map(),this['currentSiz'+'e']=0x1*-0x971+0x3db*0x4+-0x5fb*0x1,this['initialize'+'d']=!(-0x155a*-0x1+-0x1f84*0x1+-0x13*-0x89);}async['init'](){if(!this['initialize'+'d']){try{this['cache']=await caches['open'](_0x49bed1);const _0x1db84d=await this['cache']['keys'](),_0x1d6a09=[];for(const _0xfd9e88 of _0x1db84d){const _0xf1dac=_0xfd9e88['url'],_0x4aa0a1=await this['cache']['match'](_0xf1dac);if(_0x4aa0a1){const _0x13eaf1=(await _0x4aa0a1['blob']())['size'],_0xee591d=_0x4aa0a1['headers']['get']('x-cache-ti'+'me');_0xee591d&&_0x1d6a09['push']({'url':_0xf1dac,'size':_0x13eaf1,'cacheTime':parseInt(_0xee591d)});}}_0x1d6a09['sort']((_0xb0635b,_0x2e9645)=>_0xb0635b['cacheTime']-_0x2e9645['cacheTime']);for(const _0x1d9b2c of _0x1d6a09)this['cacheSizes']['set'](_0x1d9b2c['url'],_0x1d9b2c['size']),this['currentSiz'+'e']+=_0x1d9b2c['size'],this['lruList']['push'](_0x1d9b2c['url']);}catch(_0x27fcdd){console['error']('Failed\x20to\x20'+'initialize'+'\x20cache:',_0x27fcdd);}this['initialize'+'d']=!(-0xe97+-0x1*-0x9e1+0x4b6);}}async['get'](_0x546de2){if(await this['init'](),!this['cache'])return null;try{const _0x507117=await this['cache']['match'](_0x546de2);if(!_0x507117)return null;const _0x30f577=_0x507117['headers']['get']('x-cache-ti'+'me');return _0x30f577&&Date['now']()-parseInt(_0x30f577)>this['options']['maxAge']?(await this['delete'](_0x546de2),null):(this['updateLRU'](_0x546de2),_0x507117);}catch{return null;}}async['set'](_0x2c7a38,_0x53e3b8){if(!(!this['cache']||_0x2c7a38['startsWith']('blob:')))try{const _0x13b108=_0x53e3b8['clone'](),_0x5e3ece=await _0x13b108['blob'](),_0x97b768=_0x5e3ece['size'];this['currentSiz'+'e']+_0x97b768>this['options']['maxSize']&&await this['cleanupSpa'+'ce'](_0x97b768);const _0x48f314=new Headers(_0x13b108['headers']);_0x48f314['set']('x-cache-ti'+'me',Date['now']()['toString']());const _0x51388b=new Response(_0x5e3ece,{'status':_0x13b108['status'],'statusText':_0x13b108['statusText'],'headers':_0x48f314});await this['cache']['put'](_0x2c7a38,_0x51388b),this['cacheSizes']['set'](_0x2c7a38,_0x97b768),this['currentSiz'+'e']+=_0x97b768,this['updateLRU'](_0x2c7a38);}catch(_0x3dad73){console['error']('Cache\x20set\x20'+'error:',_0x3dad73);}}['updateLRU'](_0x58f186){const _0x18c483=this['lruList']['indexOf'](_0x58f186);_0x18c483>-(-0x1811+-0xb7*0x2c+-0x67*-0x8a)&&this['lruList']['splice'](_0x18c483,-0x178c+0x1*-0x2645+0x3dd2),this['lruList']['push'](_0x58f186);}async['cleanupSpa'+'ce'](_0x28da71){const _0x32b339=this['options']['maxSize']*(0x1fab+0x1529+-0x93*0x5c+0.9);if(!(this['currentSiz'+'e']<=_0x32b339))for(;this['lruList']['length']>-0x1*-0x25e1+0x5c9*-0x3+0x1*-0x1486&&this['currentSiz'+'e']>_0x32b339;){const _0x4caf6d=this['lruList']['shift']();_0x4caf6d&&await this['delete'](_0x4caf6d);}}async['delete'](_0x1cbeb4){if(this['cache'])try{await this['cache']['delete'](_0x1cbeb4);const _0x2a7e40=this['cacheSizes']['get'](_0x1cbeb4)||-0xad*0x22+0x1*-0x11b6+0x28b0;this['currentSiz'+'e']-=_0x2a7e40,this['cacheSizes']['delete'](_0x1cbeb4);const _0x51a15e=this['lruList']['indexOf'](_0x1cbeb4);_0x51a15e>-(0xa7*0x1b+-0x11c*-0x1f+-0x400*0xd)&&this['lruList']['splice'](_0x51a15e,-0x3*0xa77+-0x23f9*0x1+-0x3*-0x1675);}catch(_0x3b9509){console['error']('Cache\x20dele'+'te\x20error:',_0x3b9509);}}async['clear'](){if(this['cache'])try{await this['cache']['keys']()['then'](_0x45c571=>Promise['all'](_0x45c571['map'](_0x246a5e=>{var _0x2006f2;return(_0x2006f2=this['cache'])==null?void(0x19ae+0x195c+-0x330a):_0x2006f2['delete'](_0x246a5e);}))),this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0x12fd*-0x2+0x1*0x26a7+-0x4ca1;}catch(_0xcb3303){console['error']('Cache\x20clea'+'r\x20error:',_0xcb3303);}}['destroy'](){this['cache']=null,this['lruList']=[],this['cacheSizes']['clear'](),this['currentSiz'+'e']=-0xc57+-0x34*-0xba+-0x1971;}}class _0x1bffc9{constructor(_0x2f6e9c=[],_0x596cee={}){this['cacheManag'+'er']=new _0x5ba1f6(_0x596cee['cache']),this['retryCount']=_0x596cee['retryCount']||-0x16db+0x23d*0x6+-0x25c*-0x4,this['retryDelay']=_0x596cee['retryDelay']||0x116*-0x15+0x54c+0x1376,this['maxConcurr'+'ency']=_0x596cee['maxConcurr'+'ency']||0x2129*0x1+0x1936+-0x3a59,this['downloadQu'+'eue']=_0x2f6e9c,this['isProcessi'+'ngDownload'+'Queue']=!(0xb*0x69+0x1*-0x25ee+0x216c),this['pendingRes'+'ponses']=new Map(),this['processDow'+'nloadQueue']();}async['processDow'+'nloadQueue'](){if(!this['isProcessi'+'ngDownload'+'Queue']){for(this['isProcessi'+'ngDownload'+'Queue']=!(-0x1567*-0x1+0x2*-0xa2+-0x1423*0x1);this['downloadQu'+'eue']['length']>0x2368+-0x134c+0x101c*-0x1;)try{const _0x4ec697=this['downloadQu'+'eue']['splice'](0x2149+0x1edc+0x1*-0x4025,this['maxConcurr'+'ency'])['map'](_0x42736e=>{if(!this['pendingRes'+'ponses']['has'](_0x42736e)){const _0x1da6ec=this['download'](_0x42736e);return this['pendingRes'+'ponses']['set'](_0x42736e,_0x1da6ec),_0x1da6ec['then'](()=>{this['pendingRes'+'ponses']['delete'](_0x42736e);});}return Promise['resolve']();});await Promise['all'](_0x4ec697);}catch(_0x3fb9cb){console['error']('Download\x20e'+'rror:',_0x3fb9cb);}finally{this['isProcessi'+'ngDownload'+'Queue']=!(0x17fb*-0x1+0xd99+0xa63);}}}async['fetch'](_0x512a4f,_0x1df3aa={}){if(this['pendingRes'+'ponses']['has'](_0x512a4f))return this['pendingRes'+'ponses']['get'](_0x512a4f);const {forceRefresh:_0x3a624a=!(-0xdc4*0x2+-0x4fc+0x2085),..._0x3b4845}=_0x1df3aa;this['pendingRes'+'ponses']['set'](_0x512a4f,this['download'](_0x512a4f,_0x3b4845));const _0x2bad8e=await this['pendingRes'+'ponses']['get'](_0x512a4f);return this['pendingRes'+'ponses']['delete'](_0x512a4f),_0x2bad8e;}async['download'](_0x4e4c14,_0x56feb1={}){var _0x569c83;await((_0x569c83=this['cacheManag'+'er'])==null?void(-0x4*0x35+0x2321+-0x224d):_0x569c83['init']());const {forceRefresh:_0x2e7d5a=!(0xc9*0x7+-0x1645*-0x1+-0x1bc3),..._0x17ecee}=_0x56feb1;_0x2e7d5a&&await this['cacheManag'+'er']['delete'](_0x4e4c14);const _0x1a72df=await this['cacheManag'+'er']['get'](_0x4e4c14);if(_0x1a72df)return _0x1a72df;let _0x4a9fc8;for(let _0x1dae59=-0x2*0xc4d+0x3e8+-0x373*-0x6;_0x1dae59<this['retryCount'];_0x1dae59++)try{const _0x18bb49=await fetch(_0x4e4c14,_0x17ecee);if(!_0x18bb49['ok'])throw new Error('HTTP\x20error'+'!\x20status:\x20'+_0x18bb49['status']);return await this['cacheManag'+'er']['set'](_0x4e4c14,_0x18bb49),_0x18bb49;}catch(_0x436f13){console['error']('Download\x20e'+'rror:',_0x436f13),_0x4a9fc8=_0x436f13,_0x1dae59<this['retryCount']-(-0x48b+0x26f8+-0x1136*0x2)&&await new Promise(_0x1cf735=>setTimeout(_0x1cf735,this['retryDelay']*(_0x1dae59+(-0x79*0x1b+-0x3*-0xab8+-0x1364))));}throw _0x4a9fc8;}async['clearCache'](){await this['cacheManag'+'er']['clear']();}['destroy'](){var _0x205830;(_0x205830=this['cacheManag'+'er'])==null||_0x205830['destroy'](),this['cacheManag'+'er']=null,this['downloadQu'+'eue']=[],this['isProcessi'+'ngDownload'+'Queue']=!(-0x1*0x766+-0x570+0xcd7),this['pendingRes'+'ponses']=new Map(),this['pendingRes'+'ponses']['clear']();}}class _0xd6b62c{constructor(_0x605ade,_0x2c5213=[]){this['elements']=_0x605ade,this['comments']=_0x2c5213,this['isCompress'+'ed']=!(-0xff5+0x270d*-0x1+-0x3703*-0x1);}}class _0x18830b{constructor(_0x561ac4){this['url']=_0x561ac4;}async['readFragme'+'nt'](){globalThis['fetchWorke'+'r']||(globalThis['fetchWorke'+'r']=new _0x1bffc9(globalThis['downloadQu'+'eueUrlList']));const _0x12c572=await globalThis['fetchWorke'+'r']['fetch'](this['url']);if(!_0x12c572['ok'])throw new Error('Failed\x20to\x20'+'fetch\x20'+this['url']+':\x20'+_0x12c572['statusText']);const _0x17caea=await _0x12c572['arrayBuffe'+'r'](),_0x4d487b=new Uint8Array(_0x17caea);let _0x2fbd9f=-0x2642+0x1942+-0x10*-0xd0,{size:_0x41cdca,type:_0x413706}=this['_readBoxHe'+'ader'](_0x4d487b,_0x2fbd9f);if(_0x413706!=='moof')throw new Error('Not\x20a\x20moof');_0x2fbd9f+=0x21d7+0x316*0x5+-0x313d;const _0x4df7ef=_0x2fbd9f+_0x41cdca-(0x466+0x1*-0x620+0x1c2);let _0x18934b=null;for(;_0x2fbd9f<_0x4df7ef;){const {size:_0x571a13,type:_0x8a6be1}=this['_readBoxHe'+'ader'](_0x4d487b,_0x2fbd9f);_0x2fbd9f+=-0x451+-0xa07*0x1+0xa*0x170;const _0x40d7bd=_0x4d487b['slice'](_0x2fbd9f,_0x2fbd9f+_0x571a13-(-0x6*0x1df+0x1*0x2501+0xd*-0x1fb));_0x2fbd9f+=_0x571a13-(0x2691+-0x2663+-0x2*0x13),_0x8a6be1==='emsg'&&(_0x18934b=this['_parseEmsg'](_0x40d7bd));}if(!_0x18934b)throw new Error('Incomplete'+'\x20moof');const {size:_0x2b74f1,type:_0x4629c9}=this['_readBoxHe'+'ader'](_0x4d487b,_0x2fbd9f);if(_0x4629c9!=='mdat')throw new Error('Expected\x20m'+'dat\x20box\x20af'+'ter\x20moof');_0x2fbd9f+=-0x2b6*0x7+0x55c+0xda6;const _0x1be814=_0x4d487b['slice'](_0x2fbd9f,_0x2fbd9f+(_0x2b74f1-(0xc29+0x83*-0x16+-0xdf*0x1)));return{'metadata':_0x18934b,'segmentData':_0x1be814};}['_readBoxHe'+'ader'](_0x218f27,_0x1099ee){if(_0x1099ee+(-0x1*0x1345+-0x239*-0x2+0xedb)>_0x218f27['length'])throw new Error('EOF');const _0x570e40=_0x218f27[_0x1099ee]<<0x21be*0x1+0x282+-0xd*0x2c8|_0x218f27[_0x1099ee+(-0x1b0a+0x1*0x95f+0x6*0x2f2)]<<-0x1b13+0x924+0x11ff|_0x218f27[_0x1099ee+(0x18ad+-0xafb*-0x2+-0x2ea1)]<<-0x1e8d*0x1+-0x13*0x92+0x1*0x296b|_0x218f27[_0x1099ee+(0x220e+-0x117b+-0x109*0x10)],_0x24af56=String['fromCharCo'+'de'](_0x218f27[_0x1099ee+(-0x463*-0x2+0xc7e+-0x1540)],_0x218f27[_0x1099ee+(0x1*-0x2359+-0x2306*-0x1+0x58)],_0x218f27[_0x1099ee+(-0x32b+0x1da0+-0x1a6f)],_0x218f27[_0x1099ee+(-0x5f1+0x889*-0x1+-0xe81*-0x1)]);return{'size':_0x570e40,'type':_0x24af56};}['_parseEmsg'](_0x3703ff){let _0x4ed5b0=-0x857*-0x2+0x2447+-0x34f5;_0x4ed5b0=_0x3703ff['indexOf'](-0x1158+0x6*-0x55+0x1356,_0x4ed5b0)+(0x2*-0xb20+0x15e*-0x6+0x1e75),_0x4ed5b0=_0x3703ff['indexOf'](0x2*-0x10be+-0x13a*-0x11+-0x1*-0xca2,_0x4ed5b0)+(-0x13ab+-0x70c+0x11d*0x18),_0x4ed5b0+=0x17bf+-0x20df+0x7*0x150;const _0x4f1bab=_0x3703ff['slice'](_0x4ed5b0);return globalThis['CBOR']['decode'](_0x4f1bab);}}class _0x22052a{constructor(_0x1f1b18=0x19ed+-0xac9*0x1+-0xf24,_0x4f9a50=0x191e+-0x1d*0x11f+0x3*0x277,_0x3ea2a5=0x12b9+0xb40+-0x1df9*0x1,_0x2e77ed=-0x2644+-0xfca+0x360f){this['x']=_0x1f1b18,this['y']=_0x4f9a50,this['z']=_0x3ea2a5,this['w']=_0x2e77ed;}['set'](_0x46e048,_0x4f4895,_0x1ca435,_0x46a64f){return this['x']=_0x46e048,this['y']=_0x4f4895,this['z']=_0x1ca435,this['w']=_0x46a64f,this;}['length'](){return Math['sqrt'](this['x']*this['x']+this['y']*this['y']+this['z']*this['z']+this['w']*this['w']);}['normalize'](_0x1cf652=this){let _0x179535=_0x1cf652['length']();return _0x179535===-0x9*-0x61+0x58*-0xb+-0x1*-0x5f?(this['x']=this['y']=this['z']=0xef9*0x1+0x1f7*0x3+-0x14de,this['w']=-0x86f*-0x2+-0x23f1+0x1314):(_0x179535=(-0x1af2+0x740+0x29*0x7b)/_0x179535,this['x']=_0x1cf652['x']*_0x179535,this['y']=_0x1cf652['y']*_0x179535,this['z']=_0x1cf652['z']*_0x179535,this['w']=_0x1cf652['w']*_0x179535),this;}['mulScalar'](_0x45b527,_0x42384e=this){return this['x']=_0x42384e['x']*_0x45b527,this['y']=_0x42384e['y']*_0x45b527,this['z']=_0x42384e['z']*_0x45b527,this['w']=_0x42384e['w']*_0x45b527,this;}}self['onmessage']=async _0x2a23a7=>{var _0xd4deb4,_0xfe2327;const {data:_0x4f76e8}=_0x2a23a7;switch(_0x4f76e8['type']){case'initWorker':importScripts(_0x4f76e8['cborXUrl']);break;case'destroyWor'+'ker':_0x1e190e();break;case'loadGsdMan'+'ifest':const {manifestUrl:_0x2bc0aa,loadRepresentation:_0x4408d7}=_0x4f76e8,_0x317b0b=await _0x5b8c3b(_0x2bc0aa,_0x4408d7);globalThis['manifestUr'+'l']=_0x2bc0aa,globalThis['manifest']=_0x317b0b,globalThis['resentatio'+'n']=_0x317b0b['representa'+'tion'],globalThis['downloadQu'+'eueUrlList']=_0x360c28(),globalThis['fetchWorke'+'r']=new _0x1bffc9(globalThis['downloadQu'+'eueUrlList']),self['postMessag'+'e']({'type':'onloadMani'+'fest','data':_0x317b0b,'url':_0x2bc0aa,'representation':_0x4408d7});break;case'loadGsdSeg'+'ments':try{const _0x1fd09f=_0x55fca4(globalThis['manifest'],globalThis['resentatio'+'n']),_0x2d1dfc=await _0x16c61f(globalThis['manifest'],_0x1fd09f),_0x394a8e=(_0xd4deb4=_0x2d1dfc==null?void(0xdfc+0x82d*0x2+-0x1e56):_0x2d1dfc['elements'][-0x2190+0xf2+-0x209e*-0x1])==null?void(0x2*-0x12ce+-0x168e+0x3c2a):_0xd4deb4['properties']['map'](_0x434fe1=>_0x434fe1['storage']['buffer']);self['postMessag'+'e']({'type':'loadGsdSeg'+'mentsDone','data':_0x2d1dfc,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x394a8e);}catch(_0x815b07){console['error']('Error\x20load'+'ing\x20GSD:',_0x815b07),self['postMessag'+'e']({'type':'error','data':_0x815b07['message'],'url':globalThis['manifestUr'+'l']});}break;case'loadTimeli'+'neIndexSeg'+'ments':const {timelineIndexs:_0x213247}=_0x4f76e8;try{const _0x2f5764=_0x55fca4(globalThis['manifest'],globalThis['resentatio'+'n']),_0x3d3015=await _0x390391(globalThis['manifest'],_0x2f5764,_0x213247),_0x1a6542=(_0xfe2327=_0x3d3015==null?void(0x18b6+0x8d0+-0x4ca*0x7):_0x3d3015['elements'][-0x29*0xed+0x2d1+0x2324])==null?void(0xb31+0xd14+-0x1845):_0xfe2327['properties']['map'](_0x12fc89=>_0x12fc89['storage']['buffer']);self['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'mentsDone','data':_0x3d3015,'timelineIndexs':_0x213247,'url':globalThis['manifestUr'+'l'],'representation':globalThis['resentatio'+'n']},_0x1a6542);}catch(_0x39d491){console['error']('Error\x20load'+'ing\x20GSD:',_0x39d491),self['postMessag'+'e']({'type':'error','data':_0x39d491['message'],'url':globalThis['manifestUr'+'l']});}break;}};const _0x1e190e=()=>{var _0xfecbe3;globalThis['manifestUr'+'l']=null,globalThis['manifest']=null,globalThis['resentatio'+'n']=null,(_0xfecbe3=globalThis['fetchWorke'+'r'])==null||_0xfecbe3['destroy'](),globalThis['fetchWorke'+'r']=null,globalThis['downloadQu'+'eueUrlList']=[],globalThis['loadedSegm'+'ents']=[],globalThis['currentLoa'+'dSg']=null;},_0x360c28=()=>{const _0x31f38f=new Set(),_0x2c43ae=_0x55fca4(globalThis['manifest'],globalThis['resentatio'+'n']),_0xa20651=globalThis['manifest']['baseUrl'],_0x27769c=_0x2c43ae['segmentTem'+'plate'][-0x207a+0xf51*0x1+-0x1*-0x1129];for(const _0x1d04af of _0x27769c['segmentTim'+'eline'])for(const _0x18608a of _0x1d04af['nl']){const _0x59b5fb=''+_0xa20651+_0x27769c['media']['replace']('$SegGroupI'+'ndex$',String(_0x1d04af['sg']))['replace']('$NodeIndex'+'$',String(_0x18608a));_0x31f38f['add'](_0x59b5fb);}return Array['from'](_0x31f38f);},_0x5b8c3b=async(_0x5efed6,_0x30a391)=>{const _0x484b47=await(await fetch(_0x5efed6))['text'](),_0x61479a=JSON['parse'](_0x484b47);_0x61479a['baseUrl']=_0x5efed6['replace'](/\/[^\/]*$/,'/');const {schemas:_0x27dd9a,gsiUrl:_0x13bad4,repId:_0xcb4c36}=await _0x337d51(_0x61479a,_0x30a391);return _0x61479a['schemas']=_0x27dd9a,_0x61479a['gsiUrl']=_0x13bad4,_0x61479a['representa'+'tion']=_0xcb4c36,_0x61479a;},_0x337d51=async(_0x4b1276,_0x48db1b)=>{let _0x4d7545=null,_0x279f01=null;for(const _0xa9711c of _0x4b1276['adaptation'+'Sets'])if(_0xa9711c['contentTyp'+'e']==='4dgs'){_0x279f01=_0xa9711c;for(const _0x10f423 of _0xa9711c['representa'+'tions'])if(_0x10f423['id']===_0x48db1b){_0x4d7545=_0x10f423;break;}break;}_0x4d7545||(_0x4d7545=_0x279f01['representa'+'tions'][0x1ab*0xf+0x2*-0x69f+-0xbc7],console['warn']('Representa'+'tion\x20\x27'+_0x48db1b+('\x27\x20not\x20foun'+'d,\x20use\x20the'+'\x20first\x20rep'+'resentatio'+'n\x20instead')));const _0x162f8c=_0x4d7545['id'],_0x3851e2=_0x4b1276['baseUrl']+_0x162f8c+('/init.gsi.'+'json'),_0x4d575a=await(await fetch(_0x3851e2))['text'](),_0xe66e7a=JSON['parse'](_0x4d575a),_0x1c5897={};return _0x1c5897[_0x162f8c]=_0xe66e7a,{'schemas':_0x1c5897,'gsiUrl':_0x3851e2,'repId':_0x162f8c};},_0x55fca4=(_0x34af8c,_0xb3dc8c='high-quant'+'ized')=>{let _0x35d446=null;for(const _0x258dd4 of _0x34af8c['adaptation'+'Sets'])if(_0x258dd4['contentTyp'+'e']==='4dgs'){for(const _0x186d0e of _0x258dd4['representa'+'tions'])if(_0x186d0e['id']===_0xb3dc8c){_0x35d446=_0x186d0e;break;}break;}if(!_0x35d446)throw new Error('Representa'+'tion\x20\x27'+_0xb3dc8c+('\x27\x20not\x20foun'+'d'));return _0x35d446;},_0x16c61f=async(_0x2c47c6,_0x5997f6)=>{const _0x257a86=_0x5997f6['id'],_0x35592c=_0x2c47c6['schemas'][_0x257a86]['attributes'],_0x43a1bd=_0x5997f6['segmentTem'+'plate'][0x23*-0x115+-0x2150+0x1*0x472f];globalThis['loadedSegm'+'ents']=[];const _0x4cc7f9=[],_0x3474bd=[];for(const _0xb46d56 of _0x43a1bd['segmentTim'+'eline'])for(const _0x5c7b92 of _0xb46d56['nl']){if(globalThis['loadedSegm'+'ents']['includes'](_0xb46d56['sg']+'_'+_0x5c7b92))continue;globalThis['loadedSegm'+'ents']['push'](_0xb46d56['sg']+'_'+_0x5c7b92);const _0x5dad35=await _0x31ef53(_0x2c47c6,_0x5997f6,_0x35592c,_0xb46d56['sg'],_0x5c7b92);_0x3474bd['push'](_0x5dad35['decoded']),_0x4cc7f9['push'](_0x5dad35['metadata']);}return _0x3ecc04(_0x3474bd,_0x35592c,_0x2c47c6['comments']);},_0x390391=async(_0x1a9308,_0x40a05c,_0x1202dd)=>{if(!_0x1202dd||_0x1202dd['length']===0x1*0x1256+-0x23f+-0x55d*0x3)return{'decoded':[],'metadata':[]};const _0x35e864=_0x40a05c['id'],_0xd95d59=_0x1a9308['schemas'][_0x35e864]['attributes'],_0x4d8f62=_0x40a05c['segmentTem'+'plate'][0x16f*0xd+-0x1931*-0x1+-0x2bd4];globalThis['loadedSegm'+'ents']||(globalThis['loadedSegm'+'ents']=[]);const _0x24e33a=_0x4d8f62['segmentTim'+'eline'][_0x1202dd[0x304+0x1117+0x141b*-0x1]];globalThis['currentLoa'+'dSg']!==_0x24e33a['sg']&&(globalThis['loadedSegm'+'ents']=globalThis['loadedSegm'+'ents']['filter'](_0x214a42=>!_0x214a42['startsWith'](globalThis['currentLoa'+'dSg'])),globalThis['currentLoa'+'dSg']=_0x24e33a['sg']);let _0x26d254;const _0x21c2b4=[];for(const _0x3bb2e4 of _0x1202dd){_0x26d254=_0x4d8f62['segmentTim'+'eline'][_0x3bb2e4];for(const _0x2b62cb of _0x26d254['nl'])globalThis['loadedSegm'+'ents']['includes'](_0x26d254['sg']+'_'+_0x2b62cb)||(globalThis['loadedSegm'+'ents']['push'](_0x26d254['sg']+'_'+_0x2b62cb),_0x21c2b4['push'](_0x2b62cb));}const _0x39689b=await _0x31ef53(_0x1a9308,_0x40a05c,_0xd95d59,_0x26d254['sg'],_0x21c2b4);_0x39689b['metadata'];const _0x5d4781=_0x39689b['decoded'];return _0x3ecc04(_0x5d4781,_0xd95d59,_0x1a9308['comments']);},_0x31ef53=async(_0x51fb84,_0x123853,_0x14bb2c,_0x25d47f,_0x2fa6c3)=>{const _0x28deaa=_0x51fb84['baseUrl'],_0x4d2d40=_0x123853['segmentTem'+'plate'][-0xd*0x167+-0x2b7*-0x1+0x1*0xf84]['media'],_0x4b13d4=_0x2fa6c3['map'](_0xc5a557=>''+_0x28deaa+_0x4d2d40['replace']('$SegGroupI'+'ndex$',String(_0x25d47f))['replace']('$NodeIndex'+'$',String(_0xc5a557))),_0x15dbbb=await Promise['all'](_0x4b13d4['map'](async _0x55d6be=>{const _0x245113=await _0x3aa2f7(_0x55d6be),_0x414c38=_0x245113['metadata'],_0x43e260=_0x245113['segmentDat'+'a'],_0x4f831a=_0x414c38['gaussianCo'+'unt'];console['log']('loadSegmen'+'t\x20'+_0x55d6be),console['log']('loadSegmen'+'t\x20timeStar'+'t:',_0x414c38['timeStart'],'segment\x20ti'+'meEnd:',_0x414c38['timeEnd'],'segment\x20ga'+'ussianCoun'+'t:',_0x4f831a);let _0x3ccd73;if(_0x123853['id']['includes']('quantized')){const _0x41fb5e=_0x414c38['chunk_boun'+'ds'];_0x3ccd73=_0x2dc1ad(_0x43e260,_0x4f831a,_0x14bb2c,_0x25d47f,_0x41fb5e);}else _0x3ccd73=_0x4a77ee(_0x43e260,_0x4f831a,_0x14bb2c,_0x25d47f);return{'decoded':_0x3ccd73,'metadata':_0x414c38};})),_0x5d7aea=_0x15dbbb['map'](_0xbc5480=>_0xbc5480['decoded']),_0x1cfbc1=_0x15dbbb['map'](_0x4244a8=>_0x4244a8['metadata']);return{'decoded':_0x5d7aea,'metadata':_0x1cfbc1};},_0x3ecc04=(_0xf924fe,_0x504837,_0x5ccee4)=>{if(_0xf924fe['length']===-0x2108+-0x3*0xa86+-0x1*-0x409a)return new _0xd6b62c([{'name':'vertex','count':0x0,'properties':[{'name':'position','type':'float','storage':new Float32Array(0x1*0x2c5+-0x1512+0x124d),'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':new Uint16Array(0x1d3*-0x5+0x173+0x3d6*0x2),'byteSize':0x2},{'name':'t','type':'float','storage':new Float32Array(0x5*0x274+0x3*0x2b1+-0x1457),'byteSize':0x4},{'name':'t_scale','type':'float','storage':new Float32Array(-0x13dc+0x984+0xa58),'byteSize':0x4},{'name':'cutoff','type':'float','storage':new Float32Array(-0x38f*-0x4+-0x2203+0x1*0x13c7),'byteSize':0x4},{'name':'motion','type':'float','storage':new Float32Array(0x2*-0x1021+-0x1d71+-0x75*-0x87),'byteSize':0x4},{'name':'rotation','type':'float','storage':new Float32Array(-0x1*-0x1999+0x463*0x6+0x33eb*-0x1),'byteSize':0x4},{'name':'scale','type':'uint16','storage':new Uint16Array(-0x1987+0x8c9+0x85f*0x2),'byteSize':0x2},{'name':'time_index','type':'float','storage':new Float32Array(0x668*0x2+-0x44+-0xc8c),'byteSize':0x4}]}],_0x5ccee4);const _0x5bc541=_0x279f57(_0xf924fe),[_0x4753f3,_0x4961a0,_0x39df40]=_0x13df2c(_0x5bc541['lifecycle'],0x107*-0x2+0x2071+0x90*-0x36,Float32Array),_0x204815=_0x5bc541['time_index'],_0x46c654=_0x504837['find'](_0x4a4bcb=>_0x4a4bcb['name']==='feature_re'+'st'),_0x4f19ae=[];if(_0x46c654&&_0x5bc541['feature_re'+'st']){const _0x41a5f4=_0x46c654['dataType']['split'](',')[0x1*0x1bd+0x77e+0x93a*-0x1]['trim']()['replace']('>',''),_0x5f3918=_0x13df2c(_0x5bc541['feature_re'+'st'],-0x13*-0x88+-0x1253+0x2*0x41f,Float32Array);for(const _0x50cbfb of _0x5f3918){const _0x3bcb71=_0x13df2c(_0x50cbfb,_0x41a5f4/(-0x1440+0x9b8+0xa8b),Float32Array);for(let _0x1b1900=0x1d6d+-0xfed*-0x1+-0x2b*0x10e;_0x1b1900<_0x3bcb71['length'];_0x1b1900++)_0x4f19ae['push']({'name':'f_rest_'+_0x1b1900,'type':'float','storage':_0x3bcb71[_0x1b1900],'byteSize':0x4});}}return new _0xd6b62c([{'name':'vertex','count':_0x5bc541['position']['length']/(-0xbbe+0x16d5+-0xb14*0x1),'properties':[{'name':'position','type':'float','storage':_0x5bc541['position'],'byteSize':0x4},{'name':'color_opac'+'ity','type':'uint16','storage':_0x5bc541['color_opac'+'ity'],'byteSize':0x2},{'name':'t','type':'float','storage':_0x4961a0,'byteSize':0x4},{'name':'t_scale','type':'float','storage':_0x4753f3,'byteSize':0x4},{'name':'cutoff','type':'float','storage':_0x39df40,'byteSize':0x4},{'name':'motion','type':'float','storage':_0x5bc541['motion'],'byteSize':0x4},{'name':'rotation','type':'float','storage':_0x5bc541['rotation'],'byteSize':0x4},{'name':'scale','type':'uint16','storage':_0x5bc541['scale'],'byteSize':0x2},{'name':'time_index','type':'float','storage':_0x204815,'byteSize':0x4},..._0x4f19ae]}],_0x5ccee4);},_0x13df2c=(_0x2769ca,_0x273b72,_0x2b7663)=>{const _0xddde9b=new Array(_0x273b72),_0x1b1ad0=Math['floor'](_0x2769ca['length']/_0x273b72),_0x4ec23f=_0x2769ca['length']%_0x273b72;for(let _0x35a00c=0x6af+0x4bc+-0x1*0xb6b;_0x35a00c<_0x273b72;_0x35a00c++){const _0x5a9b67=_0x35a00c<_0x4ec23f?_0x1b1ad0+(-0x1d63+0xe36+0xf2e):_0x1b1ad0;_0xddde9b[_0x35a00c]=new _0x2b7663(_0x5a9b67);}for(let _0x4254eb=-0x10ca*0x1+0x164d+-0x53*0x11;_0x4254eb<_0x2769ca['length'];_0x4254eb++){const _0x489eef=_0x4254eb%_0x273b72,_0x5a566f=Math['floor'](_0x4254eb/_0x273b72);_0xddde9b[_0x489eef][_0x5a566f]=_0x2769ca[_0x4254eb];}return _0xddde9b;},_0x3aa2f7=async _0xa778f3=>{const _0x5594b8=new _0x18830b(_0xa778f3),{metadata:_0x77fb2b,segmentData:_0x5c635f}=await _0x5594b8['readFragme'+'nt']();return{'metadata':_0x77fb2b,'segmentData':_0x5c635f};},_0x1c41b2=(_0x8b72,_0x40c467)=>{let _0x499fb3,_0x26dea4,_0x2a6ffd=-(-0x13a2+0x17c7*-0x1+0x2b6a);if(_0x8b72['encoding']){const _0x62d10e=_0x8b72['encoding']['storageTyp'+'e'];if(_0x62d10e==='uint32')_0x26dea4=Uint32Array,_0x499fb3=Uint32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x62d10e['startsWith']('array<ucha'+'r')){_0x26dea4=Uint8Array;const _0x20f2b0=_0x62d10e['split'](',')[0x35f*0x7+0x1*-0x21cb+0xa33]['trim']()['replace']('>','');_0x2a6ffd=parseInt(_0x20f2b0),_0x499fb3=_0x2a6ffd*Uint8Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20storage\x20'+'type:\x20'+_0x62d10e);}}else{if(_0x26dea4=Float32Array,_0x8b72['dataType']==='vec3f')_0x499fb3=(0x107*-0x17+-0x1032+0x27d6)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x8b72['dataType']==='vec4f')_0x499fb3=(-0x33*-0x8e+-0x1876+-0x10*0x3d)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x8b72['dataType']==='vec2f')_0x499fb3=(0x1448+-0x2404+0xfbe)*Float32Array['BYTES_PER_'+'ELEMENT'];else{if(_0x8b72['dataType']['startsWith']('array<floa'+'t')){const _0x11e7b0=_0x8b72['dataType']['split'](',')[-0x427*-0x1+0x1a77+0x1e9d*-0x1]['trim']()['replace']('>','');_0x2a6ffd=parseInt(_0x11e7b0),_0x499fb3=_0x2a6ffd*Float32Array['BYTES_PER_'+'ELEMENT'];}else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x8b72['dataType']);}}}}return{'dataSize':_0x40c467*_0x499fb3,'datatype':_0x26dea4,'arraySize':_0x2a6ffd};},_0x57ebfa=(_0x48b807,_0x523d04)=>{const _0x8612c1=(0x2*0xbf0+-0xa1+-0xaf*0x22<<_0x523d04)-(0x141a*0x1+0x183e+-0x2c57*0x1);return(_0x48b807&_0x8612c1)/_0x8612c1;},_0x3416b8=_0x2a26a7=>{const _0x47ba15=new Float32Array(_0x2a26a7['length']*(0x1f32+0x14b+-0x207a));for(let _0x294dd7=0x1*0x10c1+0x153+-0x1214;_0x294dd7<_0x2a26a7['length'];_0x294dd7++)_0x47ba15[_0x294dd7*(0xae3+-0x36c+-0x774)]=_0x57ebfa(_0x2a26a7[_0x294dd7]>>>0xc37*0x1+-0xad*-0x1c+0xa5a*-0x3,-0x100*-0x18+-0x5ca*-0x3+-0x95*0x47),_0x47ba15[_0x294dd7*(0x1*0x18af+-0x2277+-0x6d*-0x17)+(0xc8c+0x86a+-0x14f5)]=_0x57ebfa(_0x2a26a7[_0x294dd7]>>>-0x314+0x1b49+-0x3*0x80e,0x9*0xe5+0xe23+-0x1626),_0x47ba15[_0x294dd7*(-0x17*0x61+0x4a0+0x41a)+(0x816+-0x192*-0x6+-0x118*0x10)]=_0x57ebfa(_0x2a26a7[_0x294dd7],-0x1993+0x3dd*0x6+0x270);return _0x47ba15;},_0x2ce03f=_0x59ae15=>{const _0x5e311f=new Float32Array(_0x59ae15['length']*(0x724*-0x1+-0xd*-0x137+-0x2e1*0x3));for(let _0x2de3ba=0x10d7+0x5*0x146+-0x1735*0x1;_0x2de3ba<_0x59ae15['length'];_0x2de3ba++)_0x5e311f[_0x2de3ba*(-0x1ff*-0x8+0x20*0x7b+0x322*-0xa)]=_0x57ebfa(_0x59ae15[_0x2de3ba]>>>0x1*-0xb08+0x137d+-0x85d,0x1192+0xe*0xfe+-0x1f6e),_0x5e311f[_0x2de3ba*(0xa58*0x1+-0xe56+-0x39*-0x12)+(0x1aea+0x1*-0x2327+0x83e)]=_0x57ebfa(_0x59ae15[_0x2de3ba]>>>0x67*-0x1+-0x2083+0x57f*0x6,0x8b3+-0x2*-0xb4e+-0x1f47),_0x5e311f[_0x2de3ba*(0x7*-0x38f+0x1310+0x5dd)+(-0x11*-0xa+0x1f20+-0x1fc8)]=_0x57ebfa(_0x59ae15[_0x2de3ba]>>>0x3b4*-0x1+0x3c0+-0x4,0x197f+-0x142b*-0x1+0x16d1*-0x2),_0x5e311f[_0x2de3ba*(-0x2*0x5e4+-0x10d2+0x25*0xc6)+(-0x192b+-0x2680+-0x273*-0x1a)]=_0x57ebfa(_0x59ae15[_0x2de3ba],0x7e8+-0x4e*0x6d+0x1956);return _0x5e311f;},_0x5f0264=_0x245ca7=>{const _0x13e6c8=new Float32Array(_0x245ca7['length']*(-0x25a1+-0x781+0x2d25)),_0x25500a=(-0x967+-0x2ad+0x3*0x407)/(Math['sqrt'](0xc4c+-0x3a7+-0x8a3)*(-0x25be+0x8e*-0x34+0x3*0x1632+0.5));for(let _0x9faeb2=-0x11+-0x1f*-0xee+-0x1cc1*0x1;_0x9faeb2<_0x245ca7['length'];_0x9faeb2++){const _0x3afbf4=(_0x57ebfa(_0x245ca7[_0x9faeb2]>>>-0x3*0x25e+-0x18d*-0xb+-0x9e1,0x3*-0x9c5+-0xcca*-0x2+-0xc1*-0x5)-(-0xe2f*-0x1+0x14e0+0x5*-0x703+0.5))*_0x25500a,_0x3f0287=(_0x57ebfa(_0x245ca7[_0x9faeb2]>>>-0x18b3+0x1*0x290+0x162d,0x1ac+0x1*0x20a3+0x1*-0x2245)-(0x8*-0x4ac+-0x16d1+0x13*0x32b+0.5))*_0x25500a,_0x54a019=(_0x57ebfa(_0x245ca7[_0x9faeb2],0x4d9+-0x7*-0x4da+0x26c5*-0x1)-(0x263b+0xdb6*0x2+-0x1*0x41a7+0.5))*_0x25500a,_0x4da128=Math['sqrt'](-0x1007*0x2+-0x1e3e+0x3e4d-(_0x3afbf4*_0x3afbf4+_0x3f0287*_0x3f0287+_0x54a019*_0x54a019));let _0x127188=-0xcf1*0x3+-0x134f*-0x2+0x35,_0x1a6046=-0x5f*-0x14+0x1002+-0x176e*0x1,_0x3c58ff=-0x1543+-0x3a*-0x11+0x1*0x1169,_0x434352=0x1d2d+0x1*0x1411+0x16*-0x23d;switch(_0x245ca7[_0x9faeb2]>>>0x1f83+-0x4*0x21b+0x1*-0x16f9){case-0x29c+0x68f*0x1+0x3*-0x151:_0x127188=_0x4da128,_0x1a6046=_0x3afbf4,_0x3c58ff=_0x3f0287,_0x434352=_0x54a019;break;case 0xc5*0x20+0x3e*-0x8e+0x9c5:_0x127188=_0x4da128,_0x1a6046=_0x3f0287,_0x3c58ff=_0x54a019,_0x434352=_0x3afbf4;break;case-0xa4d+0x1adb+-0x108c:_0x127188=_0x3f0287,_0x1a6046=_0x4da128,_0x3c58ff=_0x54a019,_0x434352=_0x3afbf4;break;case 0x4b*-0x7c+0x1d96+0xf7*0x7:_0x127188=_0x3f0287,_0x1a6046=_0x54a019,_0x3c58ff=_0x4da128,_0x434352=_0x3afbf4;break;}const _0x2ee091=_0x4322df(_0x127188,_0x1a6046,_0x3c58ff,_0x434352);_0x13e6c8[_0x9faeb2*(0x2144+-0x5*-0x73f+-0x457c*0x1)]=_0x2ee091['x'],_0x13e6c8[_0x9faeb2*(0x1*0x3b6+-0x10ae+-0x1*-0xcfb)+(-0x83a+0x632*-0x1+0xe6d)]=_0x2ee091['y'],_0x13e6c8[_0x9faeb2*(-0x209*-0xe+0x26f0+-0xb*0x621)+(-0x22*0x50+0x2029*-0x1+-0x1*-0x2acb)]=_0x2ee091['z'];}return _0x13e6c8;},_0x35bdba=(_0x28f84e,_0x53edd7,_0x14d7bf)=>{const _0x1192b0=_0x14d7bf-_0x53edd7,_0x5075d9=new Float32Array(_0x28f84e['length']);for(let _0x187241=-0x4cd*-0x1+0xb65+0x3*-0x566;_0x187241<_0x28f84e['length'];_0x187241++)_0x5075d9[_0x187241]=_0x28f84e[_0x187241]/(0x1*-0x1e8f+-0xfbb+0x2f49)*_0x1192b0+_0x53edd7;return _0x5075d9;},_0x735dbf=new Float32Array(-0x2e3+0x2239+-0x1f55),_0x4e3a9a=new Int32Array(_0x735dbf['buffer']),_0x2c1222=_0x579e92=>{_0x735dbf[0xb1e*0x1+-0x716*0x3+-0x2c*-0x3b]=_0x579e92;const _0x559edf=_0x4e3a9a[-0xb*-0x1bb+-0x1e95*0x1+-0x1*-0xb8c];let _0x3e24eb=_0x559edf>>0x13f*0x13+-0x106b*-0x1+0xb7*-0x38&0x550+-0x29e4+0xa494,_0x5b373b=_0x559edf>>-0x1c59+-0x1199+0x196*0x1d&0x227e+-0x22b2+0x833*0x1;const _0x39107a=_0x559edf>>0x1*-0xf3b+0x1c92+-0xd40&0x7a*-0x13+-0x297+0xca4;return _0x39107a<0x4ad+-0x2042+0x1*0x1bfc?_0x3e24eb:_0x39107a>0x3*0x2fa+-0x2494+0x5f*0x4c?(_0x3e24eb|=-0x1b*-0x4ca+-0xd175+0x9*0x16af,_0x3e24eb|=(_0x39107a===0x181c*0x1+0x982+-0x209f?-0x46*0x8d+-0x443*0x1+0x61*0x71:0x6cd+-0x13*0x131+-0x5*-0x32b)&&_0x559edf&-0xcf35c*0x10+-0xec6415+-0xbe889c*-0x3,_0x3e24eb):_0x39107a<0x204e+0x27*-0x7b+0x2*-0x690?(_0x5b373b|=0x2680+-0x97d*0x1+-0x701*0x3,_0x3e24eb|=(_0x5b373b>>0xb4b+0xd68+-0x7*0x377-_0x39107a)+(_0x5b373b>>0x3*0x7fc+0xa64+-0x107*0x21-_0x39107a&-0x1*-0xaed+-0x10f2+0x606),_0x3e24eb):(_0x3e24eb|=_0x39107a-(-0xeac+-0x23ac+0x32c8)<<-0x25fe+-0x640*-0x1+-0x1c4*-0x12|_0x5b373b>>-0x1c*-0x3d+-0x136d*0x1+0xcc2,_0x3e24eb+=_0x5b373b&-0xe97+-0x2398+0x3230,_0x3e24eb);},_0x597bce=_0x9f9c19=>{const _0x5ed4b1=new Uint16Array(_0x9f9c19['length']);for(let _0x359b2c=0xc5c+-0x696+-0x5c6;_0x359b2c<_0x9f9c19['length']/(-0x1928+0x1685+0x61*0x7);++_0x359b2c)_0x5ed4b1[_0x359b2c*(-0x32*0x6f+0x13*0x20b+0x9*-0x1e7)]=_0x2c1222(_0x9f9c19[_0x359b2c*(0x2f*0x7f+-0xd2a+-0xa23)]*_0x4761d3+(-0x1f7e+-0x1a64+0x39e2+0.5)),_0x5ed4b1[_0x359b2c*(-0x2135*-0x1+0x269*-0xa+-0xd*0xb3)+(0x1d5c+-0x1*-0x1a14+-0x376f)]=_0x2c1222(_0x9f9c19[_0x359b2c*(-0x8*-0x348+-0x3d6+-0x1666)+(-0xa72+-0x2d*0xc6+0x7*0x677)]*_0x4761d3+(-0x135e+-0x1*0x3fd+-0x1*-0x175b+0.5)),_0x5ed4b1[_0x359b2c*(-0x1b33+0x5*0x15a+-0x1475*-0x1)+(-0xc8b+-0x5cb*0x5+0x2984)]=_0x2c1222(_0x9f9c19[_0x359b2c*(-0x5c8+0x5*-0x45f+0x1ba7)+(-0x1*0xaa9+0x14d*0xb+-0x4*0xe9)]*_0x4761d3+(-0xb22+0x8b6+0x26c+0.5)),_0x5ed4b1[_0x359b2c*(-0xe6b*-0x1+0xbae+-0x25f*0xb)+(-0x8*-0x27e+-0xad*-0xe+-0x1d63*0x1)]=_0x2c1222(_0x9f9c19[_0x359b2c*(0x1094+-0xdbe*0x1+0x2d2*-0x1)+(-0xcf6+0x77*0x27+-0x528)]);return _0x5ed4b1;},_0x32cb6d=new _0x22052a(-0x2*-0xca9+0x1ae5+0x1*-0x3437,-0xa4e+0x8d2*-0x1+0x30*0x66,0x419*-0x2+-0xa06+0x1238,-0x14e0+-0x429*-0x2+0xc8e),_0x4322df=(_0x4f965b,_0x40b663,_0xa452fc,_0x322c6e)=>(_0x32cb6d['set'](_0x40b663,_0xa452fc,_0x322c6e,_0x4f965b),_0x32cb6d['normalize'](),_0x32cb6d['w']<0x171*0x3+-0x1613+0x40*0x47&&_0x32cb6d['mulScalar'](-(0xea9+0x1*-0x1e49+0xfa1)),_0x32cb6d);function _0x2dc1ad(_0x39656c,_0x1b67ae,_0x1573bf,_0x2a8275,_0x56a2c6){const _0x20afe8=_0x56a2c6[Object['keys'](_0x56a2c6)[-0x2*-0x474+0x3*-0xc98+0x1ce0]]['length'],_0x2334e5=0x2039*-0x1+-0x233*0xb+0x396a;let _0x5aec3a=[],_0x1355bd=_0x1b67ae;for(let _0x5ce011=0x1*0x1fd3+-0x1a4a+0x6d*-0xd;_0x5ce011<_0x20afe8;_0x5ce011++){const _0x54c89b=Math['min'](_0x2334e5,_0x1355bd);_0x5aec3a['push'](_0x54c89b),_0x1355bd-=_0x54c89b;}let _0x1e5c71=0x925+0x259c+0x2ec1*-0x1,_0x408212={};for(let _0x235964 of _0x1573bf){const _0x2139c7=_0x235964['name'],{dataSize:_0x4305a,datatype:_0x2cab14}=_0x1c41b2(_0x235964,_0x1b67ae);let _0x29a6db=_0x39656c['buffer']['slice'](_0x1e5c71,_0x1e5c71+_0x4305a),_0xd34c0a=new _0x2cab14(_0x29a6db);_0x408212[_0x2139c7]=_0xd34c0a,_0x1e5c71+=_0x4305a;}let _0x390d2f=[],_0x10853b=-0x722*-0x5+0x13*-0x14+-0x222e;for(let _0x13b214=0x3a0+0x13*0x1af+-0x239d;_0x13b214<_0x20afe8;_0x13b214++){const _0x2c0adb=_0x49b14f(_0x408212,_0x56a2c6,_0x13b214,_0x5aec3a,_0x10853b,_0x1573bf),_0x13eacc=_0x2c0adb['chunkDecom'+'pressed'];_0x390d2f['push'](_0x13eacc),_0x10853b=_0x2c0adb['chunkStart'+'Idx'];}let _0x8c49db={};for(let _0x214098 of Object['keys'](_0x390d2f[0x1884+0x13b+-0x19bf])){let _0x341cc2=-0x130a+0x1f91+-0xc87;for(let _0xe72216=0x160a+0x439*-0x1+0x11d1*-0x1;_0xe72216<_0x390d2f['length'];_0xe72216++)_0x341cc2+=_0x390d2f[_0xe72216][_0x214098]['length'];_0x214098==='color_opac'+'ity'||_0x214098==='scale'?_0x8c49db[_0x214098]=new Uint16Array(_0x341cc2):_0x8c49db[_0x214098]=new Float32Array(_0x341cc2);let _0x4a5c5d=-0x2381+-0x25c*0x2+-0x1*-0x2839;for(let _0x5ba490=-0xa4*-0x13+0x1094*0x1+-0x1cc0;_0x5ba490<_0x390d2f['length'];_0x5ba490++)_0x8c49db[_0x214098]['set'](_0x390d2f[_0x5ba490][_0x214098],_0x4a5c5d),_0x4a5c5d+=_0x390d2f[_0x5ba490][_0x214098]['length'];}return _0x1573bf['some'](_0x52e85e=>_0x52e85e['name']==='feature_re'+'st')&&(_0x8c49db['feature_re'+'st']=_0x448a93(_0x408212,_0x1573bf)),_0x8c49db['time_index']=new Float32Array(_0x1b67ae),_0x8c49db['time_index']['fill'](_0x2a8275-(0xe*-0x2a4+-0x179e+-0x3c97*-0x1)),_0x8c49db;}const _0x49b14f=(_0x269fad,_0x31a9df,_0x26dfb5,_0xc6f779,_0x531244,_0x456f6b)=>{const _0x3be416=_0xc6f779[_0x26dfb5],_0x20f549=_0x531244+_0x3be416,_0xc266a4=(_0x2826e3,_0x13884f,_0x46756c)=>_0x2826e3*(-0x25*-0xc+0x943*-0x2+-0x599*-0x3-_0x46756c)+_0x13884f*_0x46756c;let _0x2e67f4={};for(let _0x2d3577 of _0x456f6b){const _0x30a8c8=_0x2d3577['name'],_0x551d99=_0x2d3577['encoding']['codec'],_0x46a7c7=_0x269fad[_0x30a8c8]['slice'](_0x531244,_0x20f549);if(_0x551d99==='pack_11_10'+'_11'){if(_0x30a8c8==='scale'){const _0x146516=_0x31a9df['min_scales'][_0x26dfb5],_0xeb46cf=_0x31a9df['max_scales'][_0x26dfb5],_0x5599c6=_0x3416b8(_0x46a7c7),_0x4627de=_0x5599c6['length'],_0x411023=new Uint16Array(_0x4627de);for(let _0x1edfc8=0x1*-0xf05+-0xf10*0x1+0x3*0xa07;_0x1edfc8<_0x4627de;_0x1edfc8++)_0x411023[_0x1edfc8]=_0x2c1222(Math['exp'](_0xc266a4(_0x146516[_0x1edfc8%(-0x63f+-0x344+0x17*0x6a)],_0xeb46cf[_0x1edfc8%(-0x10d9+0xb9c+0x540)],_0x5599c6[_0x1edfc8])));_0x2e67f4[_0x30a8c8]=_0x411023;}else{const _0x4a473b=_0x3416b8(_0x46a7c7);let _0x43fb50,_0x20c716;if(_0x30a8c8==='position')_0x43fb50=_0x31a9df['min_means'][_0x26dfb5],_0x20c716=_0x31a9df['max_means'][_0x26dfb5];else{if(_0x30a8c8==='motion')_0x43fb50=_0x31a9df['min_motion'][_0x26dfb5],_0x20c716=_0x31a9df['max_motion'][_0x26dfb5];else{if(_0x30a8c8==='lifecycle'){const _0x3ff951=_0x31a9df['min_t_scal'+'e'][_0x26dfb5],_0x411bbd=_0x31a9df['max_t_scal'+'e'][_0x26dfb5],_0xf4d81f=_0x31a9df['min_time'][_0x26dfb5],_0x302ccf=_0x31a9df['max_time'][_0x26dfb5],_0x3bc24f=_0x31a9df['min_cutoff'][_0x26dfb5],_0x58208b=_0x31a9df['max_cutoff'][_0x26dfb5];_0x43fb50=[_0x3ff951[-0xb*0x115+-0xe17*-0x2+-0x1047],_0xf4d81f[-0x2be*-0x2+0x719*-0x1+0x3b*0x7],_0x3bc24f[-0x23f9+0x5f*0xd+0xa62*0x3]],_0x20c716=[_0x411bbd[-0x12e7+-0x17d0*-0x1+0x3*-0x1a3],_0x302ccf[-0xbd6+-0x8fc+-0x5*-0x42a],_0x58208b[-0x5f*-0xf+-0x2*-0x16+-0x5bd]];}else throw new Error('Unknown\x20at'+'tribute\x20fo'+'r\x20pack_11_'+'10_11:\x20'+_0x30a8c8);}}for(let _0x380841=0x266f+0xbaa+-0x3219;_0x380841<_0x4a473b['length'];_0x380841++)_0x4a473b[_0x380841]=_0xc266a4(_0x43fb50[_0x380841%(0x508*0x2+0x24c*0x1+0x1d*-0x6d)],_0x20c716[_0x380841%(0x1843*-0x1+0x180c+-0x1d*-0x2)],_0x4a473b[_0x380841]);_0x2e67f4[_0x30a8c8]=_0x4a473b;}}else{if(_0x551d99==='pack_8888'){let _0x28c988=_0x2ce03f(_0x46a7c7);const _0x48d070=_0x31a9df['min_colors'][_0x26dfb5],_0x2e9cc1=_0x31a9df['max_colors'][_0x26dfb5],_0x50b834=new Uint16Array(_0x28c988['length']);for(let _0x121f92=0x14b1*-0x1+0x9d4+-0x3*-0x39f;_0x121f92<_0x28c988['length'];_0x121f92++){const _0x14b198=_0x121f92*(0x24a2+-0xca+0x1*-0x23d4);_0x50b834[_0x14b198]=_0x2c1222(_0xc266a4(_0x48d070[0xb*-0x2cc+0x2058+0xca*-0x2],_0x2e9cc1[-0x9*0xc5+0x159b*0x1+-0xeae],_0x28c988[_0x14b198])),_0x50b834[_0x14b198+(0x1*0xdb+0xc43+-0x9*0x175)]=_0x2c1222(_0xc266a4(_0x48d070[0x3b*0x65+-0xf6a+-0x2*0x3ee],_0x2e9cc1[-0x7*0x123+0x1*0x1fa1+-0x17ab],_0x28c988[_0x14b198+(-0x2a1*-0x2+-0x1417+0xed6)])),_0x50b834[_0x14b198+(0x1*0x1d4c+0x3d*-0x4c+-0x6a*0x1b)]=_0x2c1222(_0xc266a4(_0x48d070[0x136f+-0xd7d+-0x5f0],_0x2e9cc1[-0x3f5*-0x2+0x10be+-0x18a6],_0x28c988[_0x14b198+(0x665+0xb25+-0x1188)])),_0x50b834[_0x14b198+(-0x19e0+0x1056+0x98d)]=_0x2c1222(_0x28c988[_0x14b198+(0x150c+-0x4*0x9a7+-0x1*-0x1193)]);}_0x2e67f4[_0x30a8c8]=_0x50b834;}else{if(_0x551d99==='pack_rotat'+'ion_32'){const _0x57eb11=_0x5f0264(_0x46a7c7);_0x2e67f4[_0x30a8c8]=_0x57eb11;}else{if(_0x551d99==='range_quan'+'t_u8'){if(_0x30a8c8==='feature_re'+'st')continue;throw new Error('Unknown\x20co'+'dec:\x20'+_0x551d99);}}}}}return{'chunkDecompressed':_0x2e67f4,'chunkStartIdx':_0x20f549};},_0x448a93=(_0x294d8b,_0x4215aa)=>{const _0x28a036='feature_re'+'st',_0x3d5c5f=_0x4215aa['find'](_0x9a128a=>_0x9a128a['name']===_0x28a036);let _0x19dc22;const _0x372724=_0x3d5c5f['encoding']['codec'],_0x12722b=_0x294d8b[_0x28a036];if(_0x372724==='range_quan'+'t_u8'){const [_0x43b02e,_0x1f0ed9]=_0x3d5c5f['encoding']['range'];_0x19dc22=_0x35bdba(_0x12722b,_0x43b02e,_0x1f0ed9);}else throw new Error('Unknown\x20co'+'dec:\x20'+_0x372724);return _0x19dc22;},_0x4a77ee=(_0x400150,_0x12143e,_0x467a19,_0x350332)=>{let _0xb4f987=-0x10cd+-0x40e*-0x2+0x8b1;const _0x5f1167={};for(const _0x4b4183 of _0x467a19){const {dataSize:_0x4c4f10}=_0x1c41b2(_0x4b4183,_0x12143e);if(['vec3f','vec4f','vec2f']['includes'](_0x4b4183['dataType']))_0x5f1167[_0x4b4183['name']]=new Float32Array(_0x400150['buffer']['slice'](_0xb4f987,_0xb4f987+_0x4c4f10));else{if(_0x4b4183['dataType']['startsWith']('array<floa'+'t'))_0x5f1167[_0x4b4183['name']]=new Float32Array(_0x400150['buffer']['slice'](_0xb4f987,_0xb4f987+_0x4c4f10));else throw new Error('Unsupporte'+'d\x20data\x20typ'+'e:\x20'+_0x4b4183['dataType']);}_0xb4f987+=_0x4c4f10;}const _0x14eb45=new Uint16Array(_0x5f1167['scale']['length']);for(let _0x44275c=-0x1d10+-0x3*0x88d+-0x1d*-0x1e3;_0x44275c<_0x5f1167['scale']['length'];_0x44275c++)_0x14eb45[_0x44275c]=_0x2c1222(Math['exp'](_0x5f1167['scale'][_0x44275c]));_0x5f1167['scale']=_0x14eb45;const _0x34cda7=_0x5f1167['rotation']['length']/(-0x1*-0xf91+-0xe6d*0x1+-0x9*0x20),_0x176abb=new Float32Array(_0x34cda7*(0x19af+-0x1455+-0x557));for(let _0x6ccbe8=0x378+-0xbf2+0x87a;_0x6ccbe8<_0x34cda7;_0x6ccbe8++){const _0x5d3ed6=_0x4322df(_0x5f1167['rotation'][_0x6ccbe8*(0x1112+-0x1bd7+0xac9)],_0x5f1167['rotation'][_0x6ccbe8*(0x1f37*-0x1+0xb0f+0x1*0x142c)+(-0x8*0xfc+0xfda*0x1+-0x7f9)],_0x5f1167['rotation'][_0x6ccbe8*(-0x2*0xc1c+0xa9*0xc+-0xae*-0x18)+(0x64f*0x6+0x1aab*0x1+-0x1581*0x3)],_0x5f1167['rotation'][_0x6ccbe8*(-0x155*-0x8+0xd78*0x2+-0x172*0x1a)+(0x2bc*0x1+0x16ff+-0x19b8)]);_0x176abb[_0x6ccbe8*(-0x2*-0x376+0xf14+-0x15fd)]=_0x5d3ed6['x'],_0x176abb[_0x6ccbe8*(-0x2114+0x1a1*-0xd+0x3644)+(-0x115*0x13+-0x1763+0x2bf3*0x1)]=_0x5d3ed6['y'],_0x176abb[_0x6ccbe8*(0x1961+-0x2111+0x7b3)+(-0x1e32+0x110b*0x1+0xd29)]=_0x5d3ed6['z'];}return _0x5f1167['rotation']=_0x176abb,_0x5f1167['color_opac'+'ity']=_0x597bce(_0x5f1167['color_opac'+'ity']),_0x5f1167['time_index']=new Float32Array(_0x12143e),_0x5f1167['time_index']['fill'](_0x350332-(-0xe4e*0x1+-0x1*0xe2d+-0x1*-0x1c7c)),_0x5f1167;},_0x279f57=(_0x15b74f,_0x597547)=>{const _0x4e16c2={};if(_0x15b74f['length']===0x1*0xb1b+-0x359*0x8+0xfae)return _0x15b74f[0x10db+-0x1507+0x42c];for(const _0x18ed53 of Object['keys'](_0x15b74f[0x1cab+-0x1*-0x13fc+0x109*-0x2f]))if(_0x15b74f[-0x1301*0x1+-0x22d2*0x1+0x1*0x35d3][_0x18ed53]instanceof Float32Array||_0x15b74f[-0x2003+0x21d1+0x1*-0x1ce][_0x18ed53]instanceof Uint16Array){const _0x4476e6=_0x15b74f['reduce']((_0x4cbb80,_0x2f92e3)=>_0x4cbb80+_0x2f92e3[_0x18ed53]['length'],-0x12a7+-0x1*0x1896+0x2b3d);let _0x486102;_0x15b74f[-0x166d+-0x1*-0x865+0xe08][_0x18ed53]instanceof Uint16Array?_0x486102=new Uint16Array(_0x4476e6):_0x486102=new Float32Array(_0x4476e6);let _0x350334=0x27*0xd3+-0x21e8+0xb*0x29;for(const _0x30d968 of _0x15b74f)_0x486102['set'](_0x30d968[_0x18ed53],_0x350334),_0x350334+=_0x30d968[_0x18ed53]['length'];_0x4e16c2[_0x18ed53]=_0x486102;}else Array['isArray'](_0x15b74f[-0x19f7+0x19d*0xf+0x4*0x71][_0x18ed53])?_0x4e16c2[_0x18ed53]=_0x15b74f['flatMap'](_0x43acf2=>Array['from'](_0x43acf2[_0x18ed53])):_0x4e16c2[_0x18ed53]=_0x15b74f['map'](_0xcbf2c5=>_0xcbf2c5[_0x18ed53])['flat']();return _0x4e16c2;};}class hk extends me{constructor(_0x47de70){super(),h(this,'manifestUr'+'l'),h(this,'worker'),(this['manifestUr'+'l']=_0x47de70,this['_initWorke'+'r']());}async['_initWorke'+'r'](){this['worker']=new Worker(URL['createObje'+'ctURL'](new Blob(['('+ck['toString']()+')()'],{'type':'applicatio'+'n/javascri'+'pt'}))),this['worker']['postMessag'+'e']({'type':'initWorker','cborXUrl':'https://fr'+'ontend.4dv'+'-intellige'+'nce.com/vi'+'ewer-stati'+'c/cbor-x@1'+'.6.0.min.j'+'s'});}['loadGsdMan'+'ifest'](_0x21d2e0){var _0x2f16b8;return(_0x2f16b8=this['worker'])==null||_0x2f16b8['postMessag'+'e']({'type':'loadGsdMan'+'ifest','manifestUrl':this['manifestUr'+'l'],'loadRepresentation':_0x21d2e0}),new Promise((_0x31d7e9,_0x5a577e)=>{if(!this['worker']){_0x5a577e(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x5a8d4f=>{if(!this['worker'])return;const {data:_0x381884}=_0x5a8d4f;if(this['manifestUr'+'l']===_0x381884['url'])switch(_0x381884['type']){case'onloadMani'+'fest':_0x31d7e9({'manifest':_0x381884['data'],'url':_0x381884['url'],'representation':_0x381884['representa'+'tion']});break;case'error':_0x5a577e(_0x381884['data']);break;}};});}['loadGsdSeg'+'ments'](_0x213df3,_0x55c362){var _0x1e7b95;return(_0x1e7b95=this['worker'])==null||_0x1e7b95['postMessag'+'e']({'type':'loadGsdSeg'+'ments'}),new Promise((_0x59fae3,_0x30ec3d)=>{if(!this['worker']){_0x30ec3d(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x52c136=>{if(!this['worker'])return;const {data:_0x285255}=_0x52c136;if(this['manifestUr'+'l']===_0x285255['url'])switch(_0x285255['type']){case'progress':_0x213df3==null||_0x213df3(_0x285255['bytes'],_0x285255['totalLengt'+'h'],_0x285255['url']);break;case'loadGsdSeg'+'mentsDone':_0x59fae3(_0x285255['data']);break;case'error':_0x55c362==null||_0x55c362(_0x285255['data'],_0x285255['url']);break;}};});}['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0x17bd7f,_0x418fe5,_0x15db29){var _0x36aa1a;return(_0x36aa1a=this['worker'])==null||_0x36aa1a['postMessag'+'e']({'type':'loadTimeli'+'neIndexSeg'+'ments','timelineIndexs':_0x17bd7f}),new Promise((_0x4ff2d3,_0x2a0b53)=>{if(!this['worker']){_0x2a0b53(new Error('no\x20worker'));return;}this['worker']['onmessage']=_0x2cc734=>{if(!this['worker'])return;const {data:_0x56dd00}=_0x2cc734;if(this['manifestUr'+'l']===_0x56dd00['url'])switch(_0x56dd00['type']){case'progress':_0x418fe5==null||_0x418fe5(_0x56dd00['bytes'],_0x56dd00['totalLengt'+'h'],_0x56dd00['url']);break;case'loadTimeli'+'neIndexSeg'+'mentsDone':_0x4ff2d3(_0x56dd00);break;case'error':_0x15db29==null||_0x15db29(_0x56dd00['data'],_0x56dd00['url']);break;}};});}['destroy'](){this['worker']&&(this['worker']['postMessag'+'e']({'type':'destroyWor'+'ker'}),this['worker']['terminate'](),this['worker']=void(-0x1*-0xdbd+0x321+-0x2*0x86f));}}const Xh=class Xh{constructor(_0x3c8497,_0x3f1e2c,_0x352477){h(this,'lastLoadIn'+'dex',-0xb46+-0x17f5+0x233b),h(this,'gsdAssetPa'+'rser'),(this['manifest']=_0x3c8497,this['representa'+'tion']=_0x3f1e2c,this['gsdAssetPa'+'rser']=_0x352477,this['segmentTim'+'elines']=this['getSegment'+'Timeline'](_0x3c8497,_0x3f1e2c));}['getSegment'+'Timeline'](_0x4bfc57,_0x41f5ab){let _0x2bc25e=null;for(const _0x46e028 of _0x4bfc57['adaptation'+'Sets'])if(_0x46e028['contentTyp'+'e']==='4dgs'){for(const _0x36d812 of _0x46e028['representa'+'tions'])if(_0x36d812['id']===_0x41f5ab){_0x2bc25e=_0x36d812;break;}break;}if(!_0x2bc25e)throw new Error('Representa'+'tion\x20\x27'+_0x41f5ab+('\x27\x20not\x20foun'+'d'));return _0x2bc25e['segmentTem'+'plate'][0x949*0x1+-0x1c4f+0x1306]['segmentTim'+'eline'];}['onTimeChan'+'ged'](_0x45c00f){const _0x565920=this['findSegmen'+'tTimeline'](_0x45c00f);if(!_0x565920)return;const _0x27f63d=_0x565920['timelineIn'+'dex']<this['segmentTim'+'elines']['length']-(-0x1c11+0x295+-0x2d*-0x91)?_0x565920['timelineIn'+'dex']+(-0xb6*-0xf+-0x1bdd*0x1+0x1134):-0x3*0xbfa+-0x1*-0x25cd+-0x1*0x1df;this['lastLoadIn'+'dex']!==_0x27f63d&&(this['lastLoadIn'+'dex']=_0x27f63d,this['loadNextSe'+'gment'](_0x27f63d));}async['loadNextSe'+'gment'](_0x33a87f){const _0x44448d=[];for(let _0xba3656=0x189c+-0x3*-0x2a+-0x191a;_0xba3656<Xh['CACHE_COUN'+'T'];_0xba3656++)_0x44448d['push']((_0x33a87f+_0xba3656)%this['segmentTim'+'elines']['length']);const _0x265a38=_0x44448d[_0x44448d['length']-(-0x17*-0x8f+0x74b*0x5+-0x314f)],_0x2e88d4=this['segmentTim'+'elines'][_0x265a38]['t']+this['segmentTim'+'elines'][_0x265a38]['d'];this['gsdAssetPa'+'rser']['appendload'+'DataTask'](_0x44448d,_0x2e88d4);}['findSegmen'+'tTimeline'](_0x5c5774){let _0x3f9718=-0x1004+0x993+0x61*0x11,_0x2cd1d0=this['segmentTim'+'elines']['length']-(0x7*0x1b7+-0x184e+0x627*0x2);for(;_0x3f9718<=_0x2cd1d0;){const _0x242845=_0x3f9718+_0x2cd1d0>>-0x1f05*0x1+0x4b*-0x11+-0x2401*-0x1,{t:_0x21aef9,d:_0x5c3277}=this['segmentTim'+'elines'][_0x242845];if(_0x5c5774<_0x21aef9)_0x2cd1d0=_0x242845-(-0x1*0x335+-0x8*0x2b6+-0x1*-0x18e6);else{if(_0x5c5774>=_0x21aef9+_0x5c3277)_0x3f9718=_0x242845+(0x15eb+0x1b7c+0x1*-0x3166);else return{'timeline':this['segmentTim'+'elines'][_0x242845],'timelineIndex':_0x242845};}}return null;}};h(Xh,'CACHE_COUN'+'T',0x154c+0x11*0x1c6+-0x336c);let Wu=Xh;class dk{constructor(_0x504cfa,_0x25ca74){h(this,'urlList'),h(this,'app'),h(this,'maxRetries'),h(this,'gsplatReso'+'urce'),h(this,'onlyOneAss'+'et'),h(this,'manifest'),h(this,'schedule'),h(this,'readWorker'),h(this,'loadDataTa'+'skQueue',[]),h(this,'isProcessi'+'ngLoadTask'+'Queue',!(-0x145e+-0x56*0x25+0x20cd)),(console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','Register\x20G'+'sdParser.c'+'onstructor'),this['app']=_0x504cfa,this['maxRetries']=_0x25ca74,this['urlList']=[],this['gsplatReso'+'urce']=null,this['totalRecei'+'ved']=-0x2*0xf26+-0x2b*-0x61+0x2cd*0x5,this['manifest']={});}async['load'](_0x5860a4,_0x4528dd,_0x50162e){console['log']('____\x20GSDJS'+'\x20ENGINE\x20IV'+'AN','GsdParser.'+'load',_0x5860a4['load']);const _0x412c49=_0x50162e['data']['events'];this['events']=_0x412c49,this['asset']=_0x50162e,this['callback']=_0x4528dd,this['timeOption']=_0x50162e['data']['timeOption'];let _0x46c385=_0x50162e['data']['representa'+'tion']||'high-raw';this['readWorker']=new hk(_0x5860a4['load']);const _0x553b15=await this['readWorker']['loadGsdMan'+'ifest'](_0x46c385);this['manifest']=_0x553b15['manifest'],_0x46c385=_0x553b15['manifest']['representa'+'tion']||_0x46c385,this['schedule']=new Wu(this['manifest'],_0x46c385,this),this['totalRecei'+'vedCount']=0x853+0x221b*-0x1+0xc*0x226;const _0x21fa04=this['getSegment'+'Timeline'](this['manifest'],_0x46c385),_0x2d09da=_0x21fa04[-0x1a7f+-0x42*0x4b+0x3*0xf47]['t']+_0x21fa04[-0xe48+-0x2f*-0x4b+0x83]['d'];this['appendload'+'DataTask']([0x1bd*0x3+0x22ff*-0x1+0x1dc8,-0x396+0x1f30+-0x1b99],_0x2d09da),_0x412c49['on']('timeChange'+'d',_0x344bdc=>{var _0x20e1b5;(_0x20e1b5=this['schedule'])==null||_0x20e1b5['onTimeChan'+'ged'](_0x344bdc);});}['getSegment'+'Timeline'](_0x30c3bd,_0x260fa5){let _0x241728=null;for(const _0x58872b of _0x30c3bd['adaptation'+'Sets'])if(_0x58872b['contentTyp'+'e']==='4dgs'){for(const _0x444b4e of _0x58872b['representa'+'tions'])if(_0x444b4e['id']===_0x260fa5){_0x241728=_0x444b4e;break;}break;}if(!_0x241728)throw new Error('Representa'+'tion\x20\x27'+_0x260fa5+('\x27\x20not\x20foun'+'d'));return _0x241728['segmentTem'+'plate'][0x1adc+-0x12bd+0x3*-0x2b5]['segmentTim'+'eline'];}['appendload'+'DataTask'](_0x21ba5d,_0x1a5281){this['loadDataTa'+'skQueue']['push']({'segmentIndexs':_0x21ba5d,'loadedTime':_0x1a5281}),this['isProcessi'+'ngLoadTask'+'Queue']||Promise['resolve']()['then'](()=>this['processLoa'+'dQueue']());}async['processLoa'+'dQueue'](){if(!this['isProcessi'+'ngLoadTask'+'Queue']){this['isProcessi'+'ngLoadTask'+'Queue']=!(-0x1c15+-0x1*0x187f+0x2a1*0x14);try{for(;this['loadDataTa'+'skQueue']['length']>0x25f4+0x258+-0x284c;){const _0x5aa7f8=this['loadDataTa'+'skQueue']['shift']();await this['loadGsplat'+'Data'](_0x5aa7f8);}}finally{this['isProcessi'+'ngLoadTask'+'Queue']=!(0x466+-0x2*0x92c+0xdf3);}}}async['loadGsplat'+'Data'](_0x48eef1){var _0x5c5829,_0x416c34;const {segmentIndexs:_0xa35e1b,loadedTime:_0x5b4f96}=_0x48eef1,_0x2c5318=this['events'],_0xeb47fe=this['asset'],_0x43ef41=this['callback'],_0x9c5881=this['timeOption'];globalThis['loadGsplat'+'DataStartT'+'ime']=performance['now'](),console['log']('____loadTi'+'me','gsd\x20======'+'=========='+'=========='+'=========='+'=========='+'========='),console['log']('____loadTi'+'me','gsd\x20start\x20'+'loadGsplat'+'Data',_0xa35e1b,(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](0x20c5+0xc3*-0x1f+-0x926));try{const _0x3d1604=await this['readWorker']['loadGsdSeg'+'mentsByTim'+'elineIndex'](_0xa35e1b,(_0x2107e1,_0x369900)=>{this['totalRecei'+'ved']+=_0x2107e1,_0xeb47fe&&_0x2c5318['fire']('progress',this['totalRecei'+'ved'],_0x369900);},(_0xa06b6f,_0x4052ea)=>{debugger;console['warn']('ERROE\x20Load'+'\x20GSD',_0x4052ea,_0xa06b6f);});console['log']('____loadTi'+'me','gsd\x20end\x20lo'+'adGsplatDa'+'ta',(performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])['toFixed'](0x1*-0x1141+0x1*0x195+-0x1be*-0x9),_0x3d1604['data']['elements'][-0x135c*-0x1+-0x124c+0x22*-0x8]['count'],((performance['now']()-globalThis['loadGsplat'+'DataStartT'+'ime'])/_0x3d1604['data']['elements'][-0xceb+-0x42a+0x1115]['count']*(-0x3d6+0x9*0x374+0x22*0x59))['toFixed'](-0xf*-0x181+0x27b*-0x5+0x2*-0x513));const _0x507dac=_0x3d1604['data'];if(_0x507dac['elements'][-0x732+0x388+0x3aa]['count']===-0xa94*0x1+0x1d78+-0x12e4)return;this['totalRecei'+'vedCount']+=_0x507dac['elements'][-0x20e8+-0x1*0x154b+0x3633]['count'];const _0x33c09a=new iC(_0x507dac['elements'],_0x507dac['comments']);_0xeb47fe['fire']('load:data',_0x33c09a);const _0x6d4f64=_0xeb47fe['data']['createTime']!==((_0x416c34=(_0x5c5829=this['onlyOneAss'+'et'])==null?void(-0x16cd*0x1+0x6*-0x33+0x17ff):_0x5c5829['data'])==null?void(-0x1e78+-0x120*-0x1f+-0x468):_0x416c34['createTime']);this['gsplatReso'+'urce']&&!_0x6d4f64?(console['log']('____\x20ENGIN'+'E\x20IVAN','appendGSpl'+'atDecodedR'+'esource'),this['gsplatReso'+'urce']['appendGSpl'+'atResource'](_0x33c09a,_0x9c5881,_0x5b4f96,_0xeb47fe)):(console['log']('____\x20ENGIN'+'E\x20IVAN','new\x20GSplat'+'DecodedRes'+'ource'),this['gsplatReso'+'urce']=new CC(this['app']['graphicsDe'+'vice'],_0x33c09a),this['gsplatReso'+'urce']['setSceneIn'+'fo'](this['manifest']['sceneInfo']),await this['gsplatReso'+'urce']['updateData'](),await this['gsplatReso'+'urce']['updateText'+'ure'](),this['gsplatReso'+'urce']['timeOption']=_0x9c5881,this['onlyOneAss'+'et']=_0xeb47fe,_0x43ef41&&_0x43ef41(null,this['gsplatReso'+'urce']),_0x2c5318['fire']('loadAllAss'+'etsDone'));}catch(_0x3065db){console['error']('loadGsplat'+'Data','error',_0x3065db),_0x43ef41&&_0x43ef41(_0x3065db,null);}}['open'](_0x47e84e,_0x24abd8){return _0x24abd8;}}class fk extends Qe{constructor(_0x2647bb){console['log']('____\x20ENGIN'+'E\x20IVAN','Register\x20G'+'SplatHandl'+'er.constru'+'ctor\x20by\x20ap'+'plication\x20'+'addResourc'+'eHandles'),super(_0x2647bb,'gsplat'),this['parsers']={'ply':new lk(_0x2647bb,0x72e*-0x4+-0x3*-0xbdd+-0x1*0x6dc),'json':new dk(_0x2647bb,-0x4c*0x54+-0xb9a+-0xc2f*-0x3)};}['_getUrlWit'+'houtParams'](_0x4216c2){return _0x4216c2['indexOf']('?')>=-0x79*0xd+0x567+0xbe?_0x4216c2['split']('?')[0x161*-0x9+0x33c+-0x92d*-0x1]:_0x4216c2;}['_getParser'](_0x651f31){const _0x4478b0=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x651f31))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x4478b0]||this['parsers']['ply'];}['load'](_0x1d1b42,_0x1aa84b,_0x5c4366){console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.load'),typeof _0x1d1b42=='string'&&(_0x1d1b42={'load':_0x1d1b42,'original':_0x1d1b42}),this['_getParser'](_0x1d1b42['original'])['load'](_0x1d1b42,_0x1aa84b,_0x5c4366);}['open'](_0x3063f4,_0x1ec6d2,_0x15aade){return console['log']('____\x20ENGIN'+'E\x20IVAN','GSplatHand'+'ler.open'),_0x1ec6d2;}}class $u{static['setCompres'+'sedPRS'](_0x31f785,_0x2af90a,_0x571006){const _0x1183ed=_0x571006['singleVecs'];let _0x3b66e1,_0x6390db;const _0x3a357d=_0x2af90a['___1'];_0x3a357d||(_0x3b66e1=_0x571006['tripleVecs'],_0x6390db=_0x2af90a['___2']);let _0x356947=_0x3a357d?_0x3a357d[0x2415+0x1de*0x11+-0x1*0x43d3]:_0x3b66e1[_0x6390db];_0x31f785['setLocalPo'+'sition'](_0x1183ed[_0x356947],_0x1183ed[_0x356947+(0xf*-0xf6+-0xc79+0x4*0x6b9)],_0x1183ed[_0x356947+(0x1b7*0x3+0x10b1*-0x1+-0x3a*-0x33)]),_0x356947=_0x3a357d?_0x3a357d[0x10dd+-0x2287+0x11ab]:_0x3b66e1[_0x6390db+(0x138+0x6da+-0x811)],_0x31f785['setLocalEu'+'lerAngles'](_0x1183ed[_0x356947],_0x1183ed[_0x356947+(0x2447*0x1+0x42e*-0x6+-0xb32)],_0x1183ed[_0x356947+(-0x1fd*0x3+0x322+-0x2d7*-0x1)]),_0x356947=_0x3a357d?_0x3a357d[-0xee7+0x1215*0x1+-0xcb*0x4]:_0x3b66e1[_0x6390db+(0x22d2+0x1aa3*-0x1+0x1*-0x82d)],_0x31f785['setLocalSc'+'ale'](_0x1183ed[_0x356947],_0x1183ed[_0x356947+(-0x1e3e+-0x4*-0x335+0x116b)],_0x1183ed[_0x356947+(-0x94b*0x1+-0x1642+-0xa85*-0x3)]);}static['oneCharToK'+'ey'](_0x4d0067,_0x16a881){const _0xf62362=_0x4d0067['charCodeAt'](0x3b+0x1341+-0x2b*0x74)-_0x16a881['fieldFirst'+'Code'];return _0x16a881['fieldArray'][_0xf62362];}static['multCharTo'+'Key'](_0x266874,_0x4aa601){let _0x3525ac=-0x2497+0xce1+-0xa*-0x25f;for(let _0x534284=-0x12f6*-0x2+-0x1b0c+0x74*-0x18;_0x534284<_0x266874['length'];_0x534284++)_0x3525ac=_0x3525ac*_0x4aa601['fieldCodeB'+'ase']+_0x266874['charCodeAt'](_0x534284)-_0x4aa601['fieldFirst'+'Code'];return _0x4aa601['fieldArray'][_0x3525ac];}}class Uh{constructor(_0x5ae2b6,_0x251b23){this['_node']=_0x5ae2b6,this['_data']=_0x251b23;}['run'](){const _0x21ad46=Object['prototype']['toString']['call'](this['_node']);return _0x21ad46==='[object\x20Ob'+'ject]'?this['_handleMap']():_0x21ad46==='[object\x20Ar'+'ray]'?this['_handleArr'+'ay']():this['_result']=this['_node'],this['_result'];}['_handleMap'](){this['_result']={},Object['keys'](this['_node'])['forEach'](this['_handleKey'],this);}['_handleKey'](_0x4bd2c8){let _0x3cf617=_0x4bd2c8;const _0x2954d1=_0x4bd2c8['length'];_0x2954d1===-0xb11*0x2+0xe7f+0x7a4?_0x3cf617=$u['oneCharToK'+'ey'](_0x4bd2c8,this['_data']):_0x2954d1===0xcfb*-0x3+-0x1444+0x3b37&&(_0x3cf617=$u['multCharTo'+'Key'](_0x4bd2c8,this['_data'])),this['_result'][_0x3cf617]=new Uh(this['_node'][_0x4bd2c8],this['_data'])['run']();}['_handleArr'+'ay'](){this['_result']=[],this['_node']['forEach'](this['_handleArE'+'lt'],this);}['_handleArE'+'lt'](_0x101dba){const _0x1a6cc9=new Uh(_0x101dba,this['_data'])['run']();this['_result']['push'](_0x1a6cc9);}}class bm{constructor(_0x8e3085,_0x184bd8){this['_app']=_0x8e3085,this['_isTemplat'+'e']=_0x184bd8;}['parse'](_0x2e6440){const _0x157252={};let _0x24e95b=null;const _0x5e36cc=_0x2e6440['compressed'+'Format'];_0x5e36cc&&!_0x2e6440['entDecompr'+'essed']&&(_0x2e6440['entDecompr'+'essed']=!(0x232*-0x2+0xd8b+-0x21*0x47),_0x2e6440['entities']=new Uh(_0x2e6440['entities'],_0x5e36cc)['run']());for(const _0x48e823 in _0x2e6440['entities']){const _0x438ed4=_0x2e6440['entities'][_0x48e823],_0x2704b9=this['_createEnt'+'ity'](_0x438ed4,_0x5e36cc);_0x157252[_0x48e823]=_0x2704b9,_0x438ed4['parent']===null&&(_0x24e95b=_0x2704b9);}for(const _0x3b4dcc in _0x2e6440['entities']){const _0x5d2954=_0x157252[_0x3b4dcc],_0x33d5b5=_0x2e6440['entities'][_0x3b4dcc]['children'],_0xcb4bb2=_0x33d5b5['length'];for(let _0x289afd=-0x44*0x2+0x145a+-0x13d2;_0x289afd<_0xcb4bb2;_0x289afd++){const _0x4abc41=_0x157252[_0x33d5b5[_0x289afd]];_0x4abc41&&_0x5d2954['addChild'](_0x4abc41);}}return this['_openCompo'+'nentData'](_0x24e95b,_0x2e6440['entities']),_0x24e95b;}['_createEnt'+'ity'](_0x77e6b3,_0x4f6732){const _0x36f1f3=new lt(_0x77e6b3['name'],this['_app']);if(_0x36f1f3['setGuid'](_0x77e6b3['resource_i'+'d']),this['_setPosRot'+'Scale'](_0x36f1f3,_0x77e6b3,_0x4f6732),_0x36f1f3['_enabled']=_0x77e6b3['enabled']??!(-0x3*-0x917+0x25eb+-0x4130),this['_isTemplat'+'e']?_0x36f1f3['_template']=!(0x4*0x2ba+0xb85+-0x166d):_0x36f1f3['_enabledIn'+'Hierarchy']=_0x36f1f3['_enabled'],_0x36f1f3['template']=_0x77e6b3['template'],_0x77e6b3['tags']){for(let _0x2d9272=0x124e+-0x157f+0x331;_0x2d9272<_0x77e6b3['tags']['length'];_0x2d9272++)_0x36f1f3['tags']['add'](_0x77e6b3['tags'][_0x2d9272]);}return _0x36f1f3;}['_setPosRot'+'Scale'](_0x34af51,_0x48fef0,_0x480af2){if(_0x480af2)$u['setCompres'+'sedPRS'](_0x34af51,_0x48fef0,_0x480af2);else{const _0x815a56=_0x48fef0['position'],_0x12443e=_0x48fef0['rotation'],_0xa9b329=_0x48fef0['scale'];_0x34af51['setLocalPo'+'sition'](_0x815a56[0x444+0xe5*-0x25+0x1cd5],_0x815a56[-0x3*0x58e+0x1f*0x1c+-0xd47*-0x1],_0x815a56[-0xa1b+-0xe*-0x151+-0x851]),_0x34af51['setLocalEu'+'lerAngles'](_0x12443e[0x454+0x199e+-0x1df2*0x1],_0x12443e[-0x208c+-0x3a*-0x8b+0x10f],_0x12443e[-0x257*-0x3+0x207e+0x3*-0xd2b]),_0x34af51['setLocalSc'+'ale'](_0xa9b329[-0x1d1d+-0x1e47+0xed9*0x4],_0xa9b329[0x34b*0x2+0x3*0x3ff+0x949*-0x2],_0xa9b329[-0xac5+-0x39*0x2a+0x1*0x1421]);}}['_openCompo'+'nentData'](_0x3fa831,_0x1e975e){const _0x350eec=this['_app']['systems']['list'];let _0x817c77=_0x350eec['length'];const _0x136f74=_0x1e975e[_0x3fa831['getGuid']()];for(let _0x49d98f=-0x1*0x255f+-0x18d4+0x3e33;_0x49d98f<_0x817c77;_0x49d98f++){const _0x2fde6a=_0x350eec[_0x49d98f],_0x3b6970=_0x136f74['components'][_0x2fde6a['id']];_0x3b6970&&_0x2fde6a['addCompone'+'nt'](_0x3fa831,_0x3b6970);}_0x817c77=_0x136f74['children']['length'];const _0x4f0b52=_0x3fa831['_children'];for(let _0x5b7ccc=0xf6d+-0x12*-0x4c+-0x14c5;_0x5b7ccc<_0x817c77;_0x5b7ccc++)_0x4f0b52[_0x5b7ccc]?_0x4f0b52[_0x5b7ccc]=this['_openCompo'+'nentData'](_0x4f0b52[_0x5b7ccc],_0x1e975e):w['warn']('Scene\x20data'+'\x20is\x20invali'+'d\x20where\x20a\x20'+'child\x20unde'+'r\x20\x22'+_0x3fa831['name']+('\x22\x20Entity\x20d'+'oesn\x27t\x20exi'+'st.\x20Please'+'\x20check\x20the'+'\x20scene\x20dat'+'a.'));return _0x3fa831;}}class E0{static['load'](_0x32dde5,_0x222f34,_0x15c91b){typeof _0x32dde5=='string'&&(_0x32dde5={'load':_0x32dde5,'original':_0x32dde5}),ot['get'](_0x32dde5['load'],{'retry':_0x222f34>0xf0d+-0x256e+0x1661*0x1,'maxRetries':_0x222f34},(_0x4998c2,_0x55e2bd)=>{if(!_0x4998c2)_0x15c91b(_0x4998c2,_0x55e2bd);else{let _0xe6f2e8='Error\x20whil'+'e\x20loading\x20'+'scene\x20JSON'+'\x20'+_0x32dde5['original'];_0x4998c2['message']?(_0xe6f2e8+=':\x20'+_0x4998c2['message'],_0x4998c2['stack']&&(_0xe6f2e8+='\x0a'+_0x4998c2['stack'])):_0xe6f2e8+=':\x20'+_0x4998c2,_0x15c91b(_0xe6f2e8);}});}}class uk extends Qe{constructor(_0x17a2de){super(_0x17a2de,'hierarchy');}['load'](_0x55f851,_0x55a11a){E0['load'](_0x55f851,this['maxRetries'],_0x55a11a);}['open'](_0x8b2efc,_0x36d3cf){this['_app']['systems']['script']['preloading']=!(0x3e1*0x7+0x1597+-0x2de*0x11);const _0x3ac755=new bm(this['_app'],!(0x1c5a*0x1+-0xe3f+-0xe1a))['parse'](_0x36d3cf);return this['_app']['systems']['script']['preloading']=!(0xb2*0x19+-0x216c+0x3*0x559),_0x3ac755;}}class pk extends Qe{constructor(_0x513404){super(_0x513404,'html'),h(this,'decoder',null);}['load'](_0x76b7df,_0x249680){typeof _0x76b7df=='string'&&(_0x76b7df={'load':_0x76b7df,'original':_0x76b7df}),ot['get'](_0x76b7df['load'],{'retry':this['maxRetries']>-0x178f+-0x992*-0x4+-0xeb9,'maxRetries':this['maxRetries']},(_0x6058a7,_0x235c58)=>{_0x6058a7?_0x249680('Error\x20load'+'ing\x20html\x20r'+'esource:\x20'+_0x76b7df['original']+'\x20['+_0x6058a7+']'):_0x249680(null,_0x235c58);});}['openBinary'](_0xf84c00){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0xf84c00);}}class mk extends Qe{constructor(_0x42311d){super(_0x42311d,'json'),h(this,'decoder',null);}['load'](_0x9af5e1,_0x5ed71e){typeof _0x9af5e1=='string'&&(_0x9af5e1={'load':_0x9af5e1,'original':_0x9af5e1});const _0x558b9c={'retry':this['maxRetries']>-0x107a+0x1*-0xbfb+0x5b1*0x5,'maxRetries':this['maxRetries']};_0x9af5e1['load']['startsWith']('blob:')&&(_0x558b9c['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x9af5e1['load'],_0x558b9c,(_0x311634,_0x6ef8f2)=>{_0x311634?_0x5ed71e('Error\x20load'+'ing\x20JSON\x20r'+'esource:\x20'+_0x9af5e1['original']+'\x20['+_0x311634+']'):_0x5ed71e(null,_0x6ef8f2);});}['openBinary'](_0x3b2fe9){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),JSON['parse'](this['decoder']['decode'](_0x3b2fe9));}}class _k{constructor(){this['removeInva'+'lid']=!(-0xe6f*0x1+0x4*-0x5bc+0x255f),this['valid']=!(0x1*-0xa3+-0x14*-0xcd+-0xf61),this['enumValida'+'tors']={'occludeSpecular':this['_createEnu'+'mValidator']([lv,bd,cv]),'cull':this['_createEnu'+'mValidator']([bt,pa,Fo,Ax]),'blendType':this['_createEnu'+'mValidator']([Gp,Hp,Zs,Cs,Gn,Wp,Ed,$p,Xp,qp,jp]),'depthFunc':this['_createEnu'+'mValidator']([Cx,hh,dh,Wf,Px,Mx,Dx,Wi])};}['setInvalid'](_0x447bb3,_0x7c1600){this['valid']=!(0x1062+-0x1d4c+0xceb),w['warn']('Ignoring\x20i'+'nvalid\x20Sta'+'ndardMater'+'ial\x20proper'+'ty:\x20'+_0x447bb3,_0x7c1600[_0x447bb3]),this['removeInva'+'lid']&&delete _0x7c1600[_0x447bb3];}['validate'](_0x534c3e){const _0x39a541=$n,_0x2df640=gb,_0x3fa07b=_0x534c3e['mappingFor'+'mat']==='path';for(const _0x5cb3ca in _0x534c3e){const _0x421ea1=_0x39a541[_0x5cb3ca];if(!_0x421ea1){_0x2df640[_0x5cb3ca]?delete _0x534c3e[_0x5cb3ca]:(w['warnOnce']('Ignoring\x20u'+'nsupported'+'\x20input\x20pro'+'perty\x20to\x20s'+'tandard\x20ma'+'terial:\x20'+_0x5cb3ca),this['valid']=!(0x3b*-0x3b+0xa*0x1a+0xc96));continue;}if(_0x421ea1['startsWith']('enum')){const _0x43d967=_0x421ea1['split'](':')[-0xb*-0x7d+0xc8*-0x22+0x1532];this['enumValida'+'tors'][_0x43d967]&&(this['enumValida'+'tors'][_0x43d967](_0x534c3e[_0x5cb3ca])||this['setInvalid'](_0x5cb3ca,_0x534c3e));}else{if(_0x421ea1==='number')typeof _0x534c3e[_0x5cb3ca]!='number'&&this['setInvalid'](_0x5cb3ca,_0x534c3e);else{if(_0x421ea1==='boolean')typeof _0x534c3e[_0x5cb3ca]!='boolean'&&this['setInvalid'](_0x5cb3ca,_0x534c3e);else{if(_0x421ea1==='string')typeof _0x534c3e[_0x5cb3ca]!='string'&&this['setInvalid'](_0x5cb3ca,_0x534c3e);else{if(_0x421ea1==='vec2')_0x534c3e[_0x5cb3ca]instanceof Array&&_0x534c3e[_0x5cb3ca]['length']===-0xc11+0x887+0x38c||this['setInvalid'](_0x5cb3ca,_0x534c3e);else{if(_0x421ea1==='rgb')_0x534c3e[_0x5cb3ca]instanceof Array&&_0x534c3e[_0x5cb3ca]['length']===0x1fe8+-0x21cb+0x51*0x6||this['setInvalid'](_0x5cb3ca,_0x534c3e);else{if(_0x421ea1==='texture')_0x3fa07b?typeof _0x534c3e[_0x5cb3ca]=='string'||_0x534c3e[_0x5cb3ca]===null||_0x534c3e[_0x5cb3ca]instanceof _e||this['setInvalid'](_0x5cb3ca,_0x534c3e):typeof _0x534c3e[_0x5cb3ca]=='number'||_0x534c3e[_0x5cb3ca]===null||_0x534c3e[_0x5cb3ca]instanceof _e||this['setInvalid'](_0x5cb3ca,_0x534c3e);else{if(_0x421ea1==='boundingbo'+'x')_0x534c3e[_0x5cb3ca]['center']&&_0x534c3e[_0x5cb3ca]['center']instanceof Array&&_0x534c3e[_0x5cb3ca]['center']['length']===0xa1+0xcdc+0x32*-0x45||this['setInvalid'](_0x5cb3ca,_0x534c3e),_0x534c3e[_0x5cb3ca]['halfExtent'+'s']&&_0x534c3e[_0x5cb3ca]['halfExtent'+'s']instanceof Array&&_0x534c3e[_0x5cb3ca]['halfExtent'+'s']['length']===-0x1dc4+-0x1f0c+-0x3cd3*-0x1||this['setInvalid'](_0x5cb3ca,_0x534c3e);else{if(_0x421ea1==='cubemap')typeof _0x534c3e[_0x5cb3ca]=='number'||_0x534c3e[_0x5cb3ca]===null||_0x534c3e[_0x5cb3ca]===void(0x61a+-0x7ef*0x1+0x1d5)||_0x534c3e[_0x5cb3ca]instanceof _e&&_0x534c3e[_0x5cb3ca]['cubemap']||this['setInvalid'](_0x5cb3ca,_0x534c3e);else{if(_0x421ea1==='chunks'){const _0xf17e0a=Object['keys'](_0x534c3e[_0x5cb3ca]);for(let _0x4e3b9e=-0x26*0x7+0x4*-0xa7+-0x1*-0x3a6;_0x4e3b9e<_0xf17e0a['length'];_0x4e3b9e++)typeof _0x534c3e[_0x5cb3ca][_0xf17e0a[_0x4e3b9e]]!='string'&&this['setInvalid'](_0xf17e0a[_0x4e3b9e],_0x534c3e[_0x5cb3ca]);}else console['error']('Unknown\x20ma'+'terial\x20typ'+'e:\x20'+_0x421ea1);}}}}}}}}}}return _0x534c3e['validated']=!(0x1*0x11c8+0x12cc+-0x925*0x4),this['valid'];}['_createEnu'+'mValidator'](_0x4369aa){return function(_0x21ca77){return _0x4369aa['indexOf'](_0x21ca77)>=0xf9c+0x1*-0x1247+0x2ab;};}}class gk{constructor(){this['_validator']=null;}['parse'](_0x368c17){const _0x222a96=this['migrate'](_0x368c17),_0xf1f3ad=this['_validate'](_0x222a96),_0x2e18d6=new Ut();return this['initialize'](_0x2e18d6,_0xf1f3ad),_0x2e18d6;}['initialize'](_0x1f3e31,_0x299dc9){if(_0x299dc9['validated']||(_0x299dc9=this['_validate'](_0x299dc9)),_0x299dc9['chunks']&&_0x299dc9['chunks']&&Object['keys'](_0x299dc9['chunks'])['length']>0x1b08+-0x1448+-0x10*0x6c){const _0x2883a5=_0x1f3e31['shaderChun'+'ks']['glsl'];Object['entries'](_0x299dc9['chunks'])['forEach'](([_0x3c0429,_0x59cc56])=>_0x2883a5['set'](_0x3c0429,_0x59cc56));}for(const _0x5d5eaf in _0x299dc9){const _0x38ee1c=$n[_0x5d5eaf],_0x5997f8=_0x299dc9[_0x5d5eaf];if(_0x38ee1c==='vec2')_0x1f3e31[_0x5d5eaf]=new J(_0x5997f8[-0x8b0*-0x4+0x1d23*0x1+-0x3fe3],_0x5997f8[0x49*0x43+0x11d7+-0x24f1]);else{if(_0x38ee1c==='rgb')_0x1f3e31[_0x5d5eaf]=new ie(_0x5997f8[-0xa82+0xc0e+-0x63*0x4],_0x5997f8[0x2*-0xeaa+0xc2f+-0x36e*-0x5],_0x5997f8[-0x7*0x494+0x1535+0xad9]);else{if(_0x38ee1c==='texture')_0x5997f8 instanceof _e?_0x1f3e31[_0x5d5eaf]=_0x5997f8:_0x1f3e31[_0x5d5eaf]instanceof _e&&typeof _0x5997f8=='number'&&_0x5997f8>-0x16cf*-0x1+-0xe63+-0xc4*0xb||(_0x1f3e31[_0x5d5eaf]=null);else{if(_0x38ee1c==='cubemap')_0x5997f8 instanceof _e?_0x1f3e31[_0x5d5eaf]=_0x5997f8:_0x1f3e31[_0x5d5eaf]instanceof _e&&typeof _0x5997f8=='number'&&_0x5997f8>0xe2f*0x1+0x22a+-0x9b*0x1b||(_0x1f3e31[_0x5d5eaf]=null),_0x5d5eaf==='cubeMap'&&!_0x5997f8&&(_0x1f3e31['prefiltere'+'dCubemaps']=null);else{if(_0x38ee1c==='boundingbo'+'x'){const _0xa6dccb=new D(_0x5997f8['center'][-0xa8*0x17+0x863+0x65*0x11],_0x5997f8['center'][0x1303+-0x15a2+0x2a0],_0x5997f8['center'][0x264e+-0x6fe*-0x3+0x119*-0x36]),_0x33f9ec=new D(_0x5997f8['halfExtent'+'s'][-0x9eb+0x1*0x222b+-0x10*0x184],_0x5997f8['halfExtent'+'s'][-0x792+0xcb0+-0x51d],_0x5997f8['halfExtent'+'s'][-0x766+0x1a25+0x3*-0x63f]);_0x1f3e31[_0x5d5eaf]=new De(_0xa6dccb,_0x33f9ec);}else _0x1f3e31[_0x5d5eaf]=_0x299dc9[_0x5d5eaf];}}}}}_0x1f3e31['update']();}['migrate'](_0x21bf09){_0x21bf09['shader']&&delete _0x21bf09['shader'],_0x21bf09['mapping_fo'+'rmat']&&(_0x21bf09['mappingFor'+'mat']=_0x21bf09['mapping_fo'+'rmat'],delete _0x21bf09['mapping_fo'+'rmat']);let _0x306f2c;const _0x26d1ae=[['bumpMapFac'+'tor','bumpiness'],['aoUvSet','aoMapUv'],['aoMapVerte'+'xColor','aoVertexCo'+'lor'],['diffuseMap'+'VertexColo'+'r','diffuseVer'+'texColor'],['emissiveMa'+'pVertexCol'+'or','emissiveVe'+'rtexColor'],['specularMa'+'pVertexCol'+'or','specularVe'+'rtexColor'],['metalnessM'+'apVertexCo'+'lor','metalnessV'+'ertexColor'],['opacityMap'+'VertexColo'+'r','opacityVer'+'texColor'],['glossMapVe'+'rtexColor','glossVerte'+'xColor'],['lightMapVe'+'rtexColor','lightVerte'+'xColor'],['specularMa'+'pTint','specularTi'+'nt'],['metalnessM'+'apTint','metalnessT'+'int'],['clearCoatG'+'lossiness','clearCoatG'+'loss']];for(_0x306f2c=-0x17*0xbd+-0xae6+0x1*0x1be1;_0x306f2c<_0x26d1ae['length'];_0x306f2c++){const _0x570f7c=_0x26d1ae[_0x306f2c][0x1*0x1e49+0x2*0x8d5+-0x2ff3*0x1],_0x4ca0d8=_0x26d1ae[_0x306f2c][-0x2268+0x21ab+0xbe];_0x21bf09[_0x570f7c]!==void(-0xac1*-0x2+-0x1d45+0x7c3)&&(_0x21bf09[_0x4ca0d8]===void(-0x5*-0x42c+0x1100+-0x2*0x12ee)&&(_0x21bf09[_0x4ca0d8]=_0x21bf09[_0x570f7c]),delete _0x21bf09[_0x570f7c]);}const _0x46bb8d=['fresnelFac'+'tor','shadowSamp'+'leType'];for(_0x306f2c=0x1c3*-0x1+-0x8b*-0x2c+0x46d*-0x5;_0x306f2c<_0x46bb8d['length'];_0x306f2c++){const _0x1db934=_0x46bb8d[_0x306f2c];_0x21bf09['hasOwnProp'+'erty'](_0x1db934)&&delete _0x21bf09[_0x1db934];}return _0x21bf09;}['_validate'](_0xc015e0){return _0xc015e0['validated']||(this['_validator']||(this['_validator']=new _k()),this['_validator']['validate'](_0xc015e0)),_0xc015e0;}}const Sk={'aoMap':'white','aoDetailMap':'white','diffuseMap':'gray','diffuseDetailMap':'gray','specularMap':'gray','specularityFactorMap':'white','metalnessMap':'black','glossMap':'gray','sheenMap':'black','sheenGlossMap':'gray','clearCoatMap':'black','clearCoatGlossMap':'gray','clearCoatNormalMap':'normal','refractionMap':'white','emissiveMap':'gray','normalMap':'normal','normalDetailMap':'normal','heightMap':'gray','opacityMap':'gray','sphereMap':'gray','lightMap':'white','thicknessMap':'black','iridescenceMap':'black','iridescenceThicknessMap':'black','envAtlas':'black','anisotropyMap':'black'};class yk extends Qe{constructor(_0x52fbe6){super(_0x52fbe6,'material'),this['_assets']=_0x52fbe6['assets'],this['_device']=_0x52fbe6['graphicsDe'+'vice'],this['_parser']=new gk();}['load'](_0x52972b,_0xaac7c9){typeof _0x52972b=='string'&&(_0x52972b={'load':_0x52972b,'original':_0x52972b}),ot['get'](_0x52972b['load'],{'retry':this['maxRetries']>-0x2*0x286+-0x1*0x31d+0x1*0x829,'maxRetries':this['maxRetries']},(_0x31944d,_0x5517c9)=>{_0x31944d?_0xaac7c9&&_0xaac7c9('Error\x20load'+'ing\x20materi'+'al:\x20'+_0x52972b['original']+'\x20['+_0x31944d+']'):_0xaac7c9&&(_0x5517c9['_engine']=!(0x9b4+-0x2*0xa1a+0xe0*0xc),_0xaac7c9(null,_0x5517c9));});}['open'](_0x5754e6,_0x18e3f4){const _0x207979=this['_parser']['parse'](_0x18e3f4);return _0x18e3f4['_engine']&&(_0x207979['_data']=_0x18e3f4,delete _0x18e3f4['_engine']),_0x207979;}['patch'](_0x50b504,_0x5b3fe7){_0x50b504['resource']['_data']&&(_0x50b504['_data']=_0x50b504['resource']['_data'],delete _0x50b504['resource']['_data']),_0x50b504['data']['name']=_0x50b504['name'],_0x50b504['resource']['name']=_0x50b504['name'],this['_bindAndAs'+'signAssets'](_0x50b504,_0x5b3fe7),_0x50b504['off']('unload',this['_onAssetUn'+'load'],this),_0x50b504['on']('unload',this['_onAssetUn'+'load'],this);}['_onAssetUn'+'load'](_0x4f3ed3){delete _0x4f3ed3['data']['parameters'],delete _0x4f3ed3['data']['chunks'],delete _0x4f3ed3['data']['name'];}['_assignTex'+'ture'](_0x343015,_0x2dfa1f,_0x3307ed){_0x2dfa1f['resource'][_0x343015]=_0x3307ed;}['_getPlaceh'+'olderTextu'+'re'](_0x356d6d){const _0x262c61=Sk[_0x356d6d];return w['assert'](_0x262c61,'No\x20placeho'+'lder\x20textu'+'re\x20found\x20f'+'or\x20paramet'+'er:\x20'+_0x356d6d),fa(this['_device'],_0x262c61);}['_assignPla'+'ceholderTe'+'xture'](_0x570a19,_0x36c390){_0x36c390['resource'][_0x570a19]=this['_getPlaceh'+'olderTextu'+'re'](_0x570a19);}['_onTexture'+'Load'](_0x24eea6,_0x1cb486,_0x5aabab){this['_assignTex'+'ture'](_0x24eea6,_0x1cb486,_0x5aabab['resource']),_0x1cb486['resource']['update']();}['_onTexture'+'Add'](_0x55af56,_0x325477,_0x5a185f){this['_assets']['load'](_0x5a185f);}['_onTexture'+'RemoveOrUn'+'load'](_0x2c6e55,_0x46b870,_0x4126ea){const _0x5ba915=_0x46b870['resource'];_0x5ba915&&_0x46b870['resource'][_0x2c6e55]===_0x4126ea['resource']&&(this['_assignPla'+'ceholderTe'+'xture'](_0x2c6e55,_0x46b870),_0x5ba915['update']());}['_assignCub'+'emap'](_0x59421f,_0x1a9a1d,_0x1a78b6){if(_0x1a9a1d['resource'][_0x59421f]=_0x1a78b6[0x1f17+-0xaee*0x3+-0x5*-0x57],_0x59421f==='cubeMap'){const _0x519dcc=_0x1a78b6['slice'](-0x5*-0x39b+0x1bfe*0x1+0x2e04*-0x1);_0x519dcc['every'](_0x545bd1=>_0x545bd1)?_0x1a9a1d['resource']['prefiltere'+'dCubemaps']=_0x519dcc:_0x519dcc[0x2426+0x4*0x352+-0x316e]&&(_0x1a9a1d['resource']['envAtlas']=_0x519dcc[-0x282+0x1*0x2399+-0x2b*0xc5]);}}['_onCubemap'+'Load'](_0x42bad1,_0xc8f14b,_0x38d211){this['_assignCub'+'emap'](_0x42bad1,_0xc8f14b,_0x38d211['resources']),this['_parser']['initialize'](_0xc8f14b['resource'],_0xc8f14b['data']);}['_onCubemap'+'Add'](_0x3c283b,_0x4780a5,_0x53ba10){this['_assets']['load'](_0x53ba10);}['_onCubemap'+'RemoveOrUn'+'load'](_0x36b5bc,_0x468726,_0x112670){const _0x5d98c3=_0x468726['resource'];_0x468726['data']['prefiltere'+'dCubeMap12'+'8']===_0x112670['resources'][-0xc5b*0x1+-0x4*0x182+0x2c*0x6b]&&(this['_assignCub'+'emap'](_0x36b5bc,_0x468726,[null,null,null,null,null,null,null]),_0x5d98c3['update']());}['_bindAndAs'+'signAssets'](_0x221fa9,_0x48ef70){const _0x5a578c=this['_parser']['migrate'](_0x221fa9['data']),_0x5f1b26=_0x221fa9['resource'],_0x10f951=_0x5a578c['mappingFor'+'mat']==='path',_0x178978=Cd;let _0x4fc26b,_0x4ecc5b,_0x36013f;for(_0x4fc26b=-0x13ed*0x1+-0x1*0x50e+-0x5*-0x4ff;_0x4fc26b<_0x178978['length'];_0x4fc26b++){_0x4ecc5b=_0x178978[_0x4fc26b],_0x36013f=_0x5f1b26['_assetRefe'+'rences'][_0x4ecc5b];const _0x26c3b5=_0x5a578c[_0x4ecc5b],_0x12fa14=_0x5f1b26[_0x4ecc5b],_0x3174dd=_0x12fa14===this['_getPlaceh'+'olderTextu'+'re'](_0x4ecc5b),_0xfcb71a=_0x5a578c['validated'];_0x26c3b5&&(!_0x12fa14||!_0xfcb71a||_0x3174dd)?(_0x36013f||(_0x36013f=new gl(_0x4ecc5b,_0x221fa9,_0x48ef70,{'load':this['_onTexture'+'Load'],'add':this['_onTexture'+'Add'],'remove':this['_onTexture'+'RemoveOrUn'+'load'],'unload':this['_onTexture'+'RemoveOrUn'+'load']},this),_0x5f1b26['_assetRefe'+'rences'][_0x4ecc5b]=_0x36013f),_0x10f951?_0x36013f['url']=_0x221fa9['getAbsolut'+'eUrl'](_0x26c3b5):_0x36013f['id']=_0x26c3b5,_0x36013f['asset']&&(_0x36013f['asset']['resource']?this['_assignTex'+'ture'](_0x4ecc5b,_0x221fa9,_0x36013f['asset']['resource']):this['_assignPla'+'ceholderTe'+'xture'](_0x4ecc5b,_0x221fa9),_0x48ef70['load'](_0x36013f['asset']))):_0x36013f&&(_0x10f951?_0x36013f['url']=null:_0x36013f['id']=null);}const _0x507813=fm;for(_0x4fc26b=0xfa3+-0xe89*0x2+0xd6f;_0x4fc26b<_0x507813['length'];_0x4fc26b++)_0x4ecc5b=_0x507813[_0x4fc26b],_0x36013f=_0x5f1b26['_assetRefe'+'rences'][_0x4ecc5b],_0x5a578c[_0x4ecc5b]&&!_0x221fa9['data']['prefiltere'+'dCubeMap12'+'8']&&(_0x36013f||(_0x36013f=new gl(_0x4ecc5b,_0x221fa9,_0x48ef70,{'load':this['_onCubemap'+'Load'],'add':this['_onCubemap'+'Add'],'remove':this['_onCubemap'+'RemoveOrUn'+'load'],'unload':this['_onCubemap'+'RemoveOrUn'+'load']},this),_0x5f1b26['_assetRefe'+'rences'][_0x4ecc5b]=_0x36013f),_0x10f951?_0x36013f['url']=_0x5a578c[_0x4ecc5b]:_0x36013f['id']=_0x5a578c[_0x4ecc5b],_0x36013f['asset']&&(_0x36013f['asset']['loaded']&&this['_assignCub'+'emap'](_0x4ecc5b,_0x221fa9,_0x36013f['asset']['resources']),_0x48ef70['load'](_0x36013f['asset'])));this['_parser']['initialize'](_0x5f1b26,_0x5a578c);}}class vk{constructor(_0x274600){this['_device']=_0x274600['device'],this['_defaultMa'+'terial']=_0x274600['defaultMat'+'erial'],this['_assets']=_0x274600['assets'];}['parse'](_0x9313f4,_0x52c8c0,_0x3a831a){kh['parse']('filename.g'+'lb','',_0x9313f4,this['_device'],this['_assets'],(_0x3a831a==null?void(-0x62f*-0x5+-0xeb*0x11+-0xf50):_0x3a831a['options'])??{},(_0x193f00,_0x20ab10)=>{if(_0x193f00)_0x52c8c0(_0x193f00);else{const _0x20f2f8=yr['createMode'+'l'](_0x20ab10,this['_defaultMa'+'terial']);_0x20ab10['destroy'](),_0x52c8c0(null,_0x20f2f8);}});}}const xk={'points':cd,'lines':hd,'lineloop':_y,'linestrip':gy,'triangles':js,'trianglestrip':Er,'trianglefan':oa},Tk={'int8':dd,'uint8':la,'int16':fd,'uint16':Ml,'int32':Ty,'uint32':el,'float32':Ve};class wk{constructor(_0x1ff9fe){this['_device']=_0x1ff9fe['device'],this['_defaultMa'+'terial']=_0x1ff9fe['defaultMat'+'erial'];}['parse'](_0x4d9bc9,_0x52604f){const _0x65db88=_0x4d9bc9['model'];if(!_0x65db88){_0x52604f(null,null);return;}if(_0x65db88['version']<=0x1*0xe6e+0x11a7*-0x2+-0x5*-0x42d){_0x52604f('JsonModelP'+'arser#pars'+'e:\x20Trying\x20'+'to\x20parse\x20u'+'nsupported'+'\x20model\x20for'+'mat.');return;}const _0x9e7259=this['_parseNode'+'s'](_0x4d9bc9),_0x53062e=this['_parseSkin'+'s'](_0x4d9bc9,_0x9e7259),_0x42dbff=this['_parseVert'+'exBuffers'](_0x4d9bc9),_0x5ebb9d=this['_parseInde'+'xBuffers'](_0x4d9bc9,_0x42dbff),_0x5871c5=this['_parseMorp'+'hs'](_0x4d9bc9,_0x9e7259,_0x42dbff),_0x1b18ca=this['_parseMesh'+'es'](_0x4d9bc9,_0x53062e['skins'],_0x5871c5['morphs'],_0x42dbff,_0x5ebb9d['buffer'],_0x5ebb9d['data']),_0x50d6c3=this['_parseMesh'+'Instances'](_0x4d9bc9,_0x9e7259,_0x1b18ca,_0x53062e['skins'],_0x53062e['instances'],_0x5871c5['morphs'],_0x5871c5['instances']),_0x3091a9=new sr();_0x3091a9['graph']=_0x9e7259[0x3*-0x29a+0x1bef*-0x1+0x7*0x51b],_0x3091a9['meshInstan'+'ces']=_0x50d6c3,_0x3091a9['skinInstan'+'ces']=_0x53062e['instances'],_0x3091a9['morphInsta'+'nces']=_0x5871c5['instances'],_0x3091a9['getGraph']()['syncHierar'+'chy'](),_0x52604f(null,_0x3091a9);}['_parseNode'+'s'](_0x4ecced){const _0x4027b9=_0x4ecced['model'],_0x4a9ae0=[];let _0x5f3faa;for(_0x5f3faa=-0xa3d+-0x5*-0x277+-0x10b*0x2;_0x5f3faa<_0x4027b9['nodes']['length'];_0x5f3faa++){const _0x510494=_0x4027b9['nodes'][_0x5f3faa],_0x59c436=new Ie(_0x510494['name']);_0x59c436['setLocalPo'+'sition'](_0x510494['position'][-0x4c5+-0x10e9+0x4b*0x4a],_0x510494['position'][0x1*-0x997+-0x2507*-0x1+-0x1b6f],_0x510494['position'][0x6*-0x36e+-0x1a5+0x163b*0x1]),_0x59c436['setLocalEu'+'lerAngles'](_0x510494['rotation'][0x2df+-0x922+-0xe5*-0x7],_0x510494['rotation'][-0x55*-0x3a+-0xd8b+0x5b6*-0x1],_0x510494['rotation'][-0xf86*-0x1+-0x1f74+-0xcc*-0x14]),_0x59c436['setLocalSc'+'ale'](_0x510494['scale'][-0x15aa+0x1*0x725+0xe85],_0x510494['scale'][-0x229b*0x1+-0x46*0x56+0x2*0x1d10],_0x510494['scale'][-0x1*-0x2318+-0x1d6b+-0x5ab]),_0x59c436['scaleCompe'+'nsation']=!!_0x510494['scaleCompe'+'nsation'],_0x4a9ae0['push'](_0x59c436);}for(_0x5f3faa=0x3*0xb3f+-0x1*-0x2638+-0x47f4;_0x5f3faa<_0x4027b9['parents']['length'];_0x5f3faa++)_0x4a9ae0[_0x4027b9['parents'][_0x5f3faa]]['addChild'](_0x4a9ae0[_0x5f3faa]);return _0x4a9ae0;}['_parseSkin'+'s'](_0x8c2658,_0xceb61){const _0x3b4c6f=_0x8c2658['model'],_0x103d70=[],_0x1efc13=[];let _0x7afc51,_0x16dc74;for(_0x7afc51=-0x1*-0x68d+0x3d6+-0xa63;_0x7afc51<_0x3b4c6f['skins']['length'];_0x7afc51++){const _0xc72c1=_0x3b4c6f['skins'][_0x7afc51],_0x1e2124=[];for(_0x16dc74=0xb7b+0x3ac+0x9*-0x1af;_0x16dc74<_0xc72c1['inverseBin'+'dMatrices']['length'];_0x16dc74++){const _0x312469=_0xc72c1['inverseBin'+'dMatrices'][_0x16dc74];_0x1e2124[_0x16dc74]=new te()['set'](_0x312469);}const _0x40bd9d=new Lv(this['_device'],_0x1e2124,_0xc72c1['boneNames']);_0x103d70['push'](_0x40bd9d);const _0x22b246=new Ol(_0x40bd9d),_0x1c145d=[];for(_0x16dc74=0xaae*0x2+-0x2*0x1291+0x6*0x2a1;_0x16dc74<_0x40bd9d['boneNames']['length'];_0x16dc74++){const _0x30d3e1=_0x40bd9d['boneNames'][_0x16dc74],_0x5d951c=_0xceb61[0x90c*0x1+-0x741+-0x99*0x3]['findByName'](_0x30d3e1);_0x1c145d['push'](_0x5d951c);}_0x22b246['bones']=_0x1c145d,_0x1efc13['push'](_0x22b246);}return{'skins':_0x103d70,'instances':_0x1efc13};}['_getMorphV'+'ertexCount'](_0x3eb801,_0x3233bc,_0x534a5e){for(let _0x4a5a65=-0x1c*0x113+0x1c2+0x1c52;_0x4a5a65<_0x3eb801['meshes']['length'];_0x4a5a65++){const _0x55e5dc=_0x3eb801['meshes'][_0x4a5a65];if(_0x55e5dc['morph']===_0x3233bc)return _0x534a5e[_0x55e5dc['vertices']]['numVertice'+'s'];}}['_parseMorp'+'hs'](_0x5dc75a,_0x2e7443,_0x4ee36f){const _0x1e6c55=_0x5dc75a['model'],_0x455281=[],_0x475ed9=[];let _0xb8e4d2,_0x169be9,_0x2a1fa9,_0x18b4ca,_0x2dc3c6,_0x3b8637;if(_0x1e6c55['morphs']){const _0x3e685e=function(_0x405426,_0x2a12d7,_0x119c83){const _0x3e82e6=new Float32Array(_0x119c83*(0xdc7*0x1+-0x25e3+0x5f*0x41));for(let _0x137c35=-0x33*0x7e+0x21af*0x1+0x1*-0x895;_0x137c35<_0x2a12d7['length'];_0x137c35++){const _0x1813ed=_0x2a12d7[_0x137c35]*(0xa*0x2bb+0x20f6+-0x3c41);_0x3e82e6[_0x1813ed]=_0x405426[_0x137c35*(0x1e66+-0x138a+-0xad9)],_0x3e82e6[_0x1813ed+(-0x7*0x9e+0x4*-0x7a9+0x22f7)]=_0x405426[_0x137c35*(-0x1*0x64d+-0x2c5*-0xe+-0x2076)+(0x7f7*0x3+-0x11f5*0x1+-0x1f*0x31)],_0x3e82e6[_0x1813ed+(-0x1565+-0xb7d+0x20e4)]=_0x405426[_0x137c35*(0xafb+0x26fa+-0x31f2)+(-0x2126+0x19*-0x73+-0x1*-0x2c63)];}return _0x3e82e6;};for(_0xb8e4d2=-0xbaf+-0x386+0xf35;_0xb8e4d2<_0x1e6c55['morphs']['length'];_0xb8e4d2++){for(_0x18b4ca=_0x1e6c55['morphs'][_0xb8e4d2]['targets'],_0x3b8637=[],_0x2a1fa9=this['_getMorphV'+'ertexCount'](_0x1e6c55,_0xb8e4d2,_0x4ee36f),_0x169be9=-0x60f+0x23d*0xf+-0x6e1*0x4;_0x169be9<_0x18b4ca['length'];_0x169be9++){const _0x6d55c8=_0x18b4ca[_0x169be9]['aabb'],_0xc69600=_0x6d55c8['min'],_0x1dcd83=_0x6d55c8['max'],_0x1e6a3c=new De(new D((_0x1dcd83[0xfc8+-0xafa+-0x4ce]+_0xc69600[0x1f34+0x1*0x459+-0x238d])*(0x228b+0x1399+-0x3624+0.5),(_0x1dcd83[0x1ed1+-0x107*0x7+-0x179f*0x1]+_0xc69600[-0x141d+0x86e+-0x8*-0x176])*(0x91a+-0x9f5*0x1+0xdb+0.5),(_0x1dcd83[-0x1edd+-0xea0+0x2d7f]+_0xc69600[0x1ed7+0xdd7+-0x4*0xb2b])*(0x1*0x141+0x4ff*-0x5+0x17ba+0.5)),new D((_0x1dcd83[0x1790+-0x2284+0xaf4]-_0xc69600[0xbd9*-0x1+-0x6*-0xdf+0x69f])*(0xcc+0x2316+-0x23e2+0.5),(_0x1dcd83[-0x9e7+-0x1*-0x184a+-0xe62]-_0xc69600[-0xc80+0x1df0+-0x116f])*(0xe27+0x493+-0x12ba+0.5),(_0x1dcd83[0x2*0xd09+-0x1b9*0xb+0x25f*-0x3]-_0xc69600[0x129c+0x14dc+0x2*-0x13bb])*(0x5ad*-0x4+-0x177d+0x2e31+0.5))),_0x5a426e=_0x18b4ca[_0x169be9]['indices'];let _0x555227=_0x18b4ca[_0x169be9]['deltaPosit'+'ions'],_0xd4aefa=_0x18b4ca[_0x169be9]['deltaNorma'+'ls'];_0x5a426e&&(_0x555227=_0x3e685e(_0x555227,_0x5a426e,_0x2a1fa9),_0xd4aefa=_0x3e685e(_0xd4aefa,_0x5a426e,_0x2a1fa9)),_0x2dc3c6=new Md({'deltaPositions':_0x555227,'deltaNormals':_0xd4aefa,'name':_0x18b4ca[_0x169be9]['name'],'aabb':_0x1e6a3c}),_0x3b8637['push'](_0x2dc3c6);}const _0x10127=new mm(_0x3b8637,this['_device']);_0x455281['push'](_0x10127);const _0x1af184=new xa(_0x10127);_0x475ed9['push'](_0x1af184);}}return{'morphs':_0x455281,'instances':_0x475ed9};}['_parseVert'+'exBuffers'](_0x337c52){const _0x19dba2=_0x337c52['model'],_0x3cf63c=[],_0x3f25b6={'position':Me,'normal':gs,'tangent':yi,'blendWeight':gi,'blendIndices':us,'color':Wt,'texCoord0':is,'texCoord1':ba,'texCoord2':wl,'texCoord3':El,'texCoord4':bl,'texCoord5':Al,'texCoord6':Cl,'texCoord7':Pl};for(let _0x4b56f1=-0xd*-0x144+0x2495+-0x1*0x3509;_0x4b56f1<_0x19dba2['vertices']['length'];_0x4b56f1++){const _0x19486b=_0x19dba2['vertices'][_0x4b56f1],_0xd66d1a=[];for(const _0x5f18e7 in _0x19486b){const _0x3b4d94=_0x19486b[_0x5f18e7];_0xd66d1a['push']({'semantic':_0x3f25b6[_0x5f18e7],'components':_0x3b4d94['components'],'type':Tk[_0x3b4d94['type']],'normalize':_0x3f25b6[_0x5f18e7]===Wt});}const _0x15422d=new kt(this['_device'],_0xd66d1a),_0x38c41f=_0x19486b['position']['data']['length']/_0x19486b['position']['components'],_0x3e657a=new Is(this['_device'],_0x15422d,_0x38c41f),_0x4f8ec6=new Uo(_0x3e657a);for(let _0x5db9ee=-0x182c+0x1bb*-0x2+0x1ba2;_0x5db9ee<_0x38c41f;_0x5db9ee++){for(const _0x416886 in _0x19486b){const _0x3ece82=_0x19486b[_0x416886];switch(_0x3ece82['components']){case-0x119a+0x620+0xb7b:_0x4f8ec6['element'][_0x3f25b6[_0x416886]]['set'](_0x3ece82['data'][_0x5db9ee]);break;case-0x36b+0x20e4+0x18d*-0x13:_0x4f8ec6['element'][_0x3f25b6[_0x416886]]['set'](_0x3ece82['data'][_0x5db9ee*(0x129+0x1cc7+-0x1*0x1dee)],-0x39*0xa6+0x1*-0x2271+-0xe48*-0x5-_0x3ece82['data'][_0x5db9ee*(0x9d3+0x18c*-0x14+0x151f*0x1)+(0x2c5+0x2ea*0x2+-0x4*0x226)]);break;case-0x3*0x1eb+0x48b*0x4+-0xc68:_0x4f8ec6['element'][_0x3f25b6[_0x416886]]['set'](_0x3ece82['data'][_0x5db9ee*(0x11*-0x173+-0x6c5*-0x2+0x9e*0x12)],_0x3ece82['data'][_0x5db9ee*(-0x1711+-0x201d+0x3731)+(0x2*-0x6ca+-0x7*-0x4f1+-0x1502)],_0x3ece82['data'][_0x5db9ee*(-0x142*-0x10+-0x804+-0xc19)+(-0xd3a+0x1*-0x9fa+0x1736)]);break;case-0x2405+-0x103d+0x3446:_0x4f8ec6['element'][_0x3f25b6[_0x416886]]['set'](_0x3ece82['data'][_0x5db9ee*(0x44*-0x67+0x1*0x1d71+-0x211)],_0x3ece82['data'][_0x5db9ee*(0x9ba+0x1ab+0x3*-0x3cb)+(0x17c2+0x14cf+0x170*-0x1f)],_0x3ece82['data'][_0x5db9ee*(0x1326+-0x16f0+0x3ce)+(0x1f53+0x18c2+0x105*-0x37)],_0x3ece82['data'][_0x5db9ee*(0x2*0x743+0xda6*0x1+-0x1c28)+(0x25ed+0x64e*0x3+-0x38d4)]);break;}}_0x4f8ec6['next']();}_0x4f8ec6['end'](),_0x3cf63c['push'](_0x3e657a);}return _0x3cf63c;}['_parseInde'+'xBuffers'](_0x43b610,_0x13dec2){const _0x800b16=_0x43b610['model'];let _0x1deba9=null,_0x356263=null,_0x86fd2c,_0x458d24=-0x35*0x3d+0x11ab*-0x1+0x1e4c;for(_0x86fd2c=-0x8dd+-0x23b5*0x1+0x23*0x146;_0x86fd2c<_0x800b16['meshes']['length'];_0x86fd2c++){const _0x250e14=_0x800b16['meshes'][_0x86fd2c];_0x250e14['indices']!==void(0xee1+0x2223+0x3104*-0x1)&&(_0x458d24+=_0x250e14['indices']['length']);}let _0x1b3db7=0x9*-0x225+0x1d96+-0xa49;for(_0x86fd2c=-0x1*-0x32d+-0xcfa+0x1*0x9cd;_0x86fd2c<_0x13dec2['length'];_0x86fd2c++)_0x1b3db7=Math['max'](_0x1b3db7,_0x13dec2[_0x86fd2c]['numVertice'+'s']);return _0x458d24>-0x642+0x9*0xe5+-0x1cb&&(_0x1b3db7>0x5dd2*0x1+-0x1720d+0x2143a?(_0x1deba9=new br(this['_device'],wr,_0x458d24),_0x356263=new Uint32Array(_0x1deba9['lock']())):(_0x1deba9=new br(this['_device'],Yi,_0x458d24),_0x356263=new Uint16Array(_0x1deba9['lock']()))),{'buffer':_0x1deba9,'data':_0x356263};}['_parseMesh'+'es'](_0x759ddf,_0x45b80e,_0x543563,_0x10f08e,_0x331bec,_0x1646d6){const _0xfe0ebe=_0x759ddf['model'],_0x1150fa=[];let _0x11a62e=-0x2a5+-0x14b*-0x19+-0x106*0x1d;for(let _0x20e30c=0x1*0xdb7+-0x4*0x57e+0x841;_0x20e30c<_0xfe0ebe['meshes']['length'];_0x20e30c++){const _0x3e1b09=_0xfe0ebe['meshes'][_0x20e30c],_0x460416=_0x3e1b09['aabb'],_0x55ac2f=_0x460416['min'],_0x3f8f41=_0x460416['max'],_0x1b6fe6=new De(new D((_0x3f8f41[0x1c63+0x13dc+-0x17*0x219]+_0x55ac2f[-0x74b+-0x1ffa+0x2745])*(0x1d31+-0xe*0x29+-0x1af3+0.5),(_0x3f8f41[-0x79*0x2c+0x23a2+-0xed5]+_0x55ac2f[-0xc7*0x4+0x1*-0xeb3+-0x26*-0x78])*(0x26bb+-0x5*0x72b+-0x2e4+0.5),(_0x3f8f41[0x17f3+-0x1043*0x2+0x895]+_0x55ac2f[0x3d1*0x2+-0x19f0+0x1250])*(0x5cd+0x2dd*0x7+-0x19d8+0.5)),new D((_0x3f8f41[0xc97*0x1+-0x270a+-0x3d*-0x6f]-_0x55ac2f[0x677*0x5+-0x1c8d+-0x3c6])*(-0x813*-0x1+0xdb0+-0x15c3+0.5),(_0x3f8f41[0xa1*0x1b+0x173a+0x53*-0x7c]-_0x55ac2f[0x18ff+-0x1*0x10e2+-0x81c])*(-0x1b*0x9d+-0x23a1+-0x14*-0x29c+0.5),(_0x3f8f41[0x57a+-0x1*0x3c1+-0x1b7]-_0x55ac2f[0x6b3*0x5+-0x45*-0x3b+-0x3164])*(-0x22a2+-0x27*0x7f+-0x35fb*-0x1+0.5))),_0x4ec39a=_0x3e1b09['indices']!==void(-0x2*0xadf+0xc28*0x1+0x996),_0x31d30c=new Ge(this['_device']);_0x31d30c['vertexBuff'+'er']=_0x10f08e[_0x3e1b09['vertices']],_0x31d30c['indexBuffe'+'r'][0xf85+0x75+-0xffa]=_0x4ec39a?_0x331bec:null,_0x31d30c['primitive'][0x1269+0x399+-0x1602*0x1]['type']=xk[_0x3e1b09['type']],_0x31d30c['primitive'][0x10ea+0x9*-0x3c9+0x1127]['base']=_0x4ec39a?_0x3e1b09['base']+_0x11a62e:_0x3e1b09['base'],_0x31d30c['primitive'][-0x2517+-0x9aa*0x3+0x4215]['count']=_0x3e1b09['count'],_0x31d30c['primitive'][0x6d*0x1+-0x2c8*-0x2+-0x5fd]['indexed']=_0x4ec39a,_0x31d30c['skin']=_0x3e1b09['skin']!==void(-0x1207+-0xf8+0x12ff)?_0x45b80e[_0x3e1b09['skin']]:null,_0x31d30c['morph']=_0x3e1b09['morph']!==void(0x4*-0x2c5+0x267a+-0x1b66)?_0x543563[_0x3e1b09['morph']]:null,_0x31d30c['aabb']=_0x1b6fe6,_0x4ec39a&&(_0x1646d6['set'](_0x3e1b09['indices'],_0x11a62e),_0x11a62e+=_0x3e1b09['indices']['length']),_0x1150fa['push'](_0x31d30c);}return _0x331bec!==null&&_0x331bec['unlock'](),_0x1150fa;}['_parseMesh'+'Instances'](_0x90530a,_0x10481d,_0x499bd8,_0x106239,_0x5425c8,_0x1ae0fe,_0x44402e){const _0x307cdc=_0x90530a['model'],_0x3328ee=[];let _0x5004b4;for(_0x5004b4=-0x681*-0x3+0x15ec+0x296f*-0x1;_0x5004b4<_0x307cdc['meshInstan'+'ces']['length'];_0x5004b4++){const _0x17c89a=_0x307cdc['meshInstan'+'ces'][_0x5004b4],_0x15ef05=_0x10481d[_0x17c89a['node']],_0x176937=_0x499bd8[_0x17c89a['mesh']],_0x7b850e=new He(_0x176937,this['_defaultMa'+'terial'],_0x15ef05);if(_0x176937['skin']){const _0xe25c3c=_0x106239['indexOf'](_0x176937['skin']);if(_0xe25c3c===-(-0x1819+0x20ab*-0x1+-0x1*-0x38c5))throw new Error('Mesh\x27s\x20ski'+'n\x20does\x20not'+'\x20appear\x20in'+'\x20skin\x20arra'+'y.');_0x7b850e['skinInstan'+'ce']=_0x5425c8[_0xe25c3c];}if(_0x176937['morph']){const _0x14a3bc=_0x1ae0fe['indexOf'](_0x176937['morph']);if(_0x14a3bc===-(0x5*0x259+-0x1c0f+0x1053))throw new Error('Mesh\x27s\x20mor'+'ph\x20does\x20no'+'t\x20appear\x20i'+'n\x20morph\x20ar'+'ray.');_0x7b850e['morphInsta'+'nce']=_0x44402e[_0x14a3bc];}_0x3328ee['push'](_0x7b850e);}return _0x3328ee;}}class Ek extends Qe{constructor(_0x3d33e0){super(_0x3d33e0,'model'),this['_parsers']=[],this['device']=_0x3d33e0['graphicsDe'+'vice'],this['assets']=_0x3d33e0['assets'],this['defaultMat'+'erial']=Qn(this['device']),this['addParser'](new wk(this),(_0xba8685,_0x5df918)=>xe['getExtensi'+'on'](_0xba8685)==='.json'),this['addParser'](new vk(this),(_0x3f77d3,_0x3e8e6e)=>xe['getExtensi'+'on'](_0x3f77d3)==='.glb');}['load'](_0x34cf60,_0x40f529,_0xb5b8fd){typeof _0x34cf60=='string'&&(_0x34cf60={'load':_0x34cf60,'original':_0x34cf60});const _0x1799f4={'retry':this['maxRetries']>-0x1*-0x241d+-0x4ce*-0x7+0xdf3*-0x5,'maxRetries':this['maxRetries']};(_0x34cf60['load']['startsWith']('blob:')||_0x34cf60['load']['startsWith']('data:'))&&(xe['getExtensi'+'on'](_0x34cf60['original'])['toLowerCas'+'e']()==='.glb'?_0x1799f4['responseTy'+'pe']=Ls['ResponseTy'+'pe']['ARRAY_BUFF'+'ER']:_0x1799f4['responseTy'+'pe']=Ls['ResponseTy'+'pe']['JSON']),ot['get'](_0x34cf60['load'],_0x1799f4,(_0x5a24d5,_0x1dd964)=>{if(_0x40f529){if(_0x5a24d5)_0x40f529('Error\x20load'+'ing\x20model:'+'\x20'+_0x34cf60['original']+'\x20['+_0x5a24d5+']');else{for(let _0x349bc3=0x2*0x602+0x12ee+-0x1ef2;_0x349bc3<this['_parsers']['length'];_0x349bc3++){const _0x318252=this['_parsers'][_0x349bc3];if(_0x318252['decider'](_0x34cf60['original'],_0x1dd964)){_0x318252['parser']['parse'](_0x1dd964,(_0x353154,_0x14aec0)=>{_0x353154?_0x40f529(_0x353154):_0x40f529(null,_0x14aec0);},_0xb5b8fd);return;}}_0x40f529('No\x20parsers'+'\x20found');}}});}['open'](_0x1dba26,_0x3ca9ca){return _0x3ca9ca;}['patch'](_0x22e7aa,_0x21f153){if(!_0x22e7aa['resource'])return;const _0x5c3153=_0x22e7aa['data'],_0x464ab1=this;_0x22e7aa['resource']['meshInstan'+'ces']['forEach']((_0x335fa0,_0x357d33)=>{if(_0x5c3153['mapping']){const _0x2e9716=function(_0x1f3021){_0x1f3021['resource']?_0x335fa0['material']=_0x1f3021['resource']:(_0x1f3021['once']('load',_0x2e9716),_0x21f153['load'](_0x1f3021)),_0x1f3021['once']('remove',_0x563e9b=>{_0x335fa0['material']===_0x563e9b['resource']&&(_0x335fa0['material']=_0x464ab1['defaultMat'+'erial']);});};if(!_0x5c3153['mapping'][_0x357d33]){_0x335fa0['material']=_0x464ab1['defaultMat'+'erial'];return;}const _0x495576=_0x5c3153['mapping'][_0x357d33]['material'],_0x9140ca=_0x5c3153['mapping'][_0x357d33]['path'];let _0x5c869b;if(_0x495576!==void(-0xfb5+-0x1c11+0x2bc6*0x1))_0x495576?(_0x5c869b=_0x21f153['get'](_0x495576),_0x5c869b?_0x2e9716(_0x5c869b):_0x21f153['once']('add:'+_0x495576,_0x2e9716)):_0x335fa0['material']=_0x464ab1['defaultMat'+'erial'];else{if(_0x9140ca){const _0xe82616=_0x22e7aa['getAbsolut'+'eUrl'](_0x5c3153['mapping'][_0x357d33]['path']);_0x5c869b=_0x21f153['getByUrl'](_0xe82616),_0x5c869b?_0x2e9716(_0x5c869b):_0x21f153['once']('add:url:'+_0xe82616,_0x2e9716);}}}});}['addParser'](_0x5b710,_0x1e99c7){this['_parsers']['push']({'parser':_0x5b710,'decider':_0x1e99c7});}}class bk extends Qe{constructor(_0x289773){super(_0x289773,'scene');}['load'](_0x4ca937,_0x4ea2db){E0['load'](_0x4ca937,this['maxRetries'],_0x4ea2db);}['open'](_0x340f92,_0x7ec011){this['_app']['systems']['script']['preloading']=!(-0x26fa+0x1f76+0x1e1*0x4);const _0x106761=new bm(this['_app'],!(0xc*0x4c+-0x25cc+0x223d))['parse'](_0x7ec011),_0xd53f1c=this['_app']['scene'];return _0xd53f1c['root']=_0x106761,this['_app']['applyScene'+'Settings'](_0x7ec011['settings']),this['_app']['systems']['script']['preloading']=!(0xcaa+0x151*0x1d+-0x32d6),_0xd53f1c;}}const qh=class qh{static['push'](_0x137647){qh['_types']['push'](_0x137647);}};h(qh,'_types',[]);let aa=qh;const Ak=new Set(['system','entity','create','destroy','swap','move','data','scripts','_scripts','_scriptsIn'+'dex','_scriptsDa'+'ta','enabled','_oldState','onEnable','onDisable','onPostStat'+'eChange','_onSetEnab'+'led','_checkStat'+'e','_onBeforeR'+'emove','_onInitial'+'izeAttribu'+'tes','_onInitial'+'ize','_onPostIni'+'tialize','_onUpdate','_onPostUpd'+'ate','_callbacks','_callbackA'+'ctive','has','get','on','off','fire','once','hasEvent']),Ck={};Sl['reservedNa'+'mes']['forEach']((_0x2c516f,_0x5310bd,_0x17670d)=>{Ck[_0x2c516f]=0x1be3+0x665*-0x5+0x417;});function Pk(_0x4faddf,_0x16520b,_0x43ce74){if(typeof _0x4faddf!='function')throw new Error('script\x20cla'+'ss:\x20\x27'+_0x4faddf+('\x27\x20must\x20be\x20'+'a\x20construc'+'tor\x20functi'+'on\x20(i.e.\x20c'+'lass).'));if(!(_0x4faddf['prototype']instanceof ts))throw new Error('script\x20cla'+'ss:\x20\x27'+Wo['__getScrip'+'tName'](_0x4faddf)+('\x27\x20does\x20not'+'\x20extend\x20pc'+'.Script.'));if(_0x16520b=_0x16520b||_0x4faddf['__name']||Wo['__getScrip'+'tName'](_0x4faddf),Ak['has'](_0x16520b))throw new Error('script\x20nam'+'e:\x20\x27'+_0x16520b+('\x27\x20is\x20reser'+'ved,\x20pleas'+'e\x20change\x20s'+'cript\x20name'));_0x4faddf['__name']=_0x16520b,Ks['getApplica'+'tion']()['scripts']['add'](_0x4faddf),aa['push'](_0x4faddf);}const Mk=_0x57896f=>_0x57896f[0x19d6+-0x710*-0x5+-0x3d26]['toLowerCas'+'e']()+_0x57896f['substring'](-0x99d+0xc9d*0x2+0x7ce*-0x2);class Dk extends Qe{constructor(_0x97db0){super(_0x97db0,'script'),this['_scripts']={},this['_cache']={};}['clearCache'](){for(const _0xf59b86 in this['_cache']){const _0x4abc98=this['_cache'][_0xf59b86],_0x45426f=_0x4abc98['parentNode'];_0x45426f&&_0x45426f['removeChil'+'d'](_0x4abc98);}this['_cache']={};}['load'](_0x53a3e7,_0x38a70d){typeof _0x53a3e7=='string'&&(_0x53a3e7={'load':_0x53a3e7,'original':_0x53a3e7});const _0x10c01d=this;this['_app'];const _0x9620ef=(_0x53a3e7['load'],(_0x3d2a16,_0xc86719,_0x4c634a)=>{if(_0x3d2a16)_0x38a70d(_0x3d2a16);else{const _0x47b9f8={};for(let _0x4892d8=0x1*0x1a3b+0x1f3d+-0x6*0x994;_0x4892d8<aa['_types']['length'];_0x4892d8++)_0x47b9f8[aa['_types'][_0x4892d8]['name']]=aa['_types'][_0x4892d8];aa['_types']['length']=-0xff9+0x18ad*-0x1+0x28a6,_0x38a70d(null,_0x47b9f8,_0x4c634a);const _0xf7c96d=_0xc86719['split']('&hash=')[0xd83*0x1+-0x1e8c+-0x1109*-0x1];delete _0x10c01d['_loader']['_cache'][Cn['makeKey'](_0xf7c96d,'script')];}}),[_0x32fb9b]=_0x53a3e7['load']['split']('?');_0x32fb9b['endsWith']('.mjs')?this['_loadModul'+'e'](_0x32fb9b,_0x9620ef):this['_loadScrip'+'t'](_0x53a3e7['load'],_0x9620ef);}['open'](_0x5b3aae,_0x5b4f55){return _0x5b4f55;}['patch'](_0x38dcef,_0x42b752){}['_loadScrip'+'t'](_0x424936,_0x1030cd){const _0xfd1a15=document['head'],_0x434dc5=document['createElem'+'ent']('script');this['_cache'][_0x424936]=_0x434dc5,_0x434dc5['async']=!(0x5*0xbf+-0x188*0xc+-0x1e*-0x7d),_0x434dc5['addEventLi'+'stener']('error',_0x35aa76=>{_0x1030cd('Script:\x20'+_0x35aa76['target']['src']+('\x20failed\x20to'+'\x20load'));},!(0x939+0x305+-0xc3d));let _0x16193c=!(0xf57+0x14bf+-0x2415);_0x434dc5['onload']=_0x434dc5['onreadysta'+'techange']=function(){!_0x16193c&&(!this['readyState']||this['readyState']==='loaded'||this['readyState']==='complete')&&(_0x16193c=!(0x2a7*-0x1+-0x37*0xaf+-0x1420*-0x2),_0x1030cd(null,_0x424936,_0x434dc5));},_0x434dc5['src']=_0x424936,_0xfd1a15['appendChil'+'d'](_0x434dc5);}['_loadModul'+'e'](_0x44df64,_0x13bad6){const _0x831436=Ae['browser']&&window['location']['origin']!=='null'?window['location']['origin']+window['location']['pathname']:import.meta['url'],_0x59e374=new URL(_0x44df64,_0x831436);import(_0x59e374['toString']())['then'](_0x5db210=>{var _0x4054c9,_0x4c2c29;const _0x3623b7=_0x59e374['pathname']['split']('/')['pop'](),_0x582424=(_0x4c2c29=(_0x4054c9=this['_app']['assets']['find'](_0x3623b7,'script'))==null?void(0x1e6d+0x1*0x95b+-0x27c8):_0x4054c9['data'])==null?void(-0x6dd+0x2421+-0x1d44):_0x4c2c29['scripts'];for(const _0x570206 in _0x5db210){const _0x1f5d82=_0x5db210[_0x570206];if(_0x1f5d82['prototype']instanceof ts){const _0x117b22=Mk(_0x1f5d82['name']);_0x1f5d82['scriptName']||w['warnOnce']('The\x20Script'+'\x20class\x20\x22'+_0x1f5d82['name']+('\x22\x20must\x20hav'+'e\x20a\x20static'+'\x20\x22scriptNa'+'me\x22\x20proper'+'ty:\x20`')+_0x1f5d82['name']+('.scriptNam'+'e\x20=\x20\x22')+_0x117b22+('\x22;`.\x20This\x20'+'will\x20be\x20an'+'\x20error\x20in\x20'+'future\x20ver'+'sions\x20of\x20P'+'layCanvas.'));const _0x586819=_0x1f5d82['scriptName']??_0x117b22;Pk(_0x1f5d82,_0x586819),_0x582424&&this['_app']['scripts']['addSchema'](_0x586819,_0x582424[_0x586819]);}}_0x13bad6(null,_0x44df64,null);})['catch'](_0x43abda=>{_0x13bad6(_0x43abda);});}}class Ik extends Qe{constructor(_0x5d1267){super(_0x5d1267,'shader'),h(this,'decoder',null);}['load'](_0x2aa53c,_0x4bc20f){typeof _0x2aa53c=='string'&&(_0x2aa53c={'load':_0x2aa53c,'original':_0x2aa53c}),ot['get'](_0x2aa53c['load'],{'retry':this['maxRetries']>0x51*-0x4a+-0x241*-0xd+-0x5e3,'maxRetries':this['maxRetries']},(_0x73aefb,_0x40b978)=>{_0x73aefb?_0x4bc20f('Error\x20load'+'ing\x20shader'+'\x20resource:'+'\x20'+_0x2aa53c['original']+'\x20['+_0x73aefb+']'):_0x4bc20f(null,_0x40b978);});}['openBinary'](_0x33c8e3){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x33c8e3);}}function Pf(_0x1e35a0){const _0x3afe60=this;_0x3afe60['resource']&&(_0x3afe60['resource']['atlas']=_0x1e35a0['resource']);}function Mf(_0x45251e){this['registry']['load'](_0x45251e);}class Lk extends Qe{constructor(_0x579786){super(_0x579786,'sprite'),this['_assets']=_0x579786['assets'],this['_device']=_0x579786['graphicsDe'+'vice'];}['load'](_0x89fdca,_0x501469){typeof _0x89fdca=='string'&&(_0x89fdca={'load':_0x89fdca,'original':_0x89fdca}),xe['getExtensi'+'on'](_0x89fdca['original'])==='.json'&&ot['get'](_0x89fdca['load'],{'retry':this['maxRetries']>-0x1*0x1c1+0x1*0x209f+-0x6*0x525,'maxRetries':this['maxRetries']},(_0x31ad04,_0x1f9f39)=>{_0x31ad04?_0x501469(_0x31ad04):_0x501469(null,_0x1f9f39);});}['open'](_0x2cd726,_0x44cf0d){const _0x463448=new BA(this['_device']);return _0x2cd726&&(_0x463448['__data']=_0x44cf0d),_0x463448;}['patch'](_0x3dae67,_0x21e2b6){const _0x105dbb=_0x3dae67['resource'];if(_0x105dbb['__data']&&(_0x3dae67['data']['pixelsPerU'+'nit']=_0x105dbb['__data']['pixelsPerU'+'nit'],_0x3dae67['data']['renderMode']=_0x105dbb['__data']['renderMode'],_0x3dae67['data']['frameKeys']=_0x105dbb['__data']['frameKeys'],_0x105dbb['__data']['textureAtl'+'asAsset'])){const _0x50f4a1=_0x21e2b6['getByUrl'](_0x105dbb['__data']['textureAtl'+'asAsset']);_0x50f4a1?_0x3dae67['data']['textureAtl'+'asAsset']=_0x50f4a1['id']:console['warn']('Could\x20not\x20'+'find\x20textu'+'reatlas\x20wi'+'th\x20url:\x20'+_0x105dbb['__data']['textureAtl'+'asAsset']);}_0x105dbb['startUpdat'+'e'](),_0x105dbb['renderMode']=_0x3dae67['data']['renderMode'],_0x105dbb['pixelsPerU'+'nit']=_0x3dae67['data']['pixelsPerU'+'nit'],_0x105dbb['frameKeys']=_0x3dae67['data']['frameKeys'],this['_updateAtl'+'as'](_0x3dae67),_0x105dbb['endUpdate'](),_0x3dae67['off']('change',this['_onAssetCh'+'ange'],this),_0x3dae67['on']('change',this['_onAssetCh'+'ange'],this);}['_updateAtl'+'as'](_0x20e365){const _0x37977e=_0x20e365['resource'];if(!_0x20e365['data']['textureAtl'+'asAsset']){_0x37977e['atlas']=null;return;}this['_assets']['off']('load:'+_0x20e365['data']['textureAtl'+'asAsset'],Pf,_0x20e365),this['_assets']['on']('load:'+_0x20e365['data']['textureAtl'+'asAsset'],Pf,_0x20e365);const _0x51b679=this['_assets']['get'](_0x20e365['data']['textureAtl'+'asAsset']);_0x51b679&&_0x51b679['resource']?_0x37977e['atlas']=_0x51b679['resource']:_0x51b679?this['_assets']['load'](_0x51b679):(this['_assets']['off']('add:'+_0x20e365['data']['textureAtl'+'asAsset'],Mf,_0x20e365),this['_assets']['on']('add:'+_0x20e365['data']['textureAtl'+'asAsset'],Mf,_0x20e365));}['_onAssetCh'+'ange'](_0x3ca8ae,_0x2fbdbf,_0x5cad19,_0x5b2ef6){_0x2fbdbf==='data'&&_0x5cad19&&_0x5cad19['textureAtl'+'asAsset']&&_0x5b2ef6&&_0x5cad19['textureAtl'+'asAsset']!==_0x5b2ef6['textureAtl'+'asAsset']&&(this['_assets']['off']('load:'+_0x5b2ef6['textureAtl'+'asAsset'],Pf,_0x3ca8ae),this['_assets']['off']('add:'+_0x5b2ef6['textureAtl'+'asAsset'],Mf,_0x3ca8ae));}}class vS{constructor(_0x2edbf5,_0x204bc4){h(this,'_app'),h(this,'_data'),h(this,'_templateR'+'oot',null),(this['_app']=_0x2edbf5,this['_data']=_0x204bc4);}['instantiat'+'e'](){return this['_templateR'+'oot']||this['_parseTemp'+'late'](),this['_templateR'+'oot']['clone']();}['_parseTemp'+'late'](){const _0x389aa7=new bm(this['_app'],!(0x18db+0x12bc+-0x2b97));this['_templateR'+'oot']=_0x389aa7['parse'](this['_data']);}}class Rk extends Qe{constructor(_0x3cf7ec){super(_0x3cf7ec,'template'),h(this,'decoder',null);}['load'](_0x14c865,_0x2fa324){typeof _0x14c865=='string'&&(_0x14c865={'load':_0x14c865,'original':_0x14c865});const _0x22c4ed={'retry':this['maxRetries']>-0x19*0x143+-0x2242*-0x1+-0x2b7,'maxRetries':this['maxRetries']};ot['get'](_0x14c865['load'],_0x22c4ed,(_0xaf5811,_0x4f3257)=>{_0xaf5811?_0x2fa324('Error\x20requ'+'esting\x20tem'+'plate:\x20'+_0x14c865['original']):_0x2fa324(_0xaf5811,_0x4f3257);});}['open'](_0x21b7e,_0x109f58){return new vS(this['_app'],_0x109f58);}['openBinary'](_0x2b39c9){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),new vS(this['_app'],JSON['parse'](this['decoder']['decode'](_0x2b39c9)));}}class Ok extends Qe{constructor(_0x300a5e){super(_0x300a5e,'text'),h(this,'decoder',null);}['load'](_0x2f6b77,_0x38e064){typeof _0x2f6b77=='string'&&(_0x2f6b77={'load':_0x2f6b77,'original':_0x2f6b77}),ot['get'](_0x2f6b77['load'],{'retry':this['maxRetries']>-0x14a+0x212c+-0x1fe2,'maxRetries':this['maxRetries']},(_0xb4b3a1,_0x510e98)=>{_0xb4b3a1?_0x38e064('Error\x20load'+'ing\x20text\x20r'+'esource:\x20'+_0x2f6b77['original']+'\x20['+_0xb4b3a1+']'):_0x38e064(null,_0x510e98);});}['openBinary'](_0x5f2692){return this['decoder']??(this['decoder']=new TextDecoder('utf-8')),this['decoder']['decode'](_0x5f2692);}}const Ic={'repeat':yt,'clamp':ue,'mirror':ip},Lc={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},Fk=/^data\.frames\.(\d+)$/;class Nk extends Qe{constructor(_0x2aa925){super(_0x2aa925,'textureatl'+'as'),this['_loader']=_0x2aa925['loader'];}['load'](_0x42bcf8,_0x2365f6){typeof _0x42bcf8=='string'&&(_0x42bcf8={'load':_0x42bcf8,'original':_0x42bcf8});const _0x27d05c=this,_0x20a27d=this['_loader']['getHandler']('texture');xe['getExtensi'+'on'](_0x42bcf8['original'])==='.json'?ot['get'](_0x42bcf8['load'],{'retry':this['maxRetries']>0x18c9+-0x1de7*0x1+0x5*0x106,'maxRetries':this['maxRetries']},(_0x192c87,_0x549816)=>{if(_0x192c87)_0x2365f6(_0x192c87);else{const _0x29ae44=_0x42bcf8['original']['replace']('.json','.png');_0x27d05c['_loader']['load'](_0x29ae44,'texture',(_0x3e603e,_0x23d966)=>{_0x3e603e?_0x2365f6(_0x3e603e):_0x2365f6(null,{'data':_0x549816,'texture':_0x23d966});});}}):_0x20a27d['load'](_0x42bcf8,_0x2365f6);}['open'](_0x4f9686,_0x30ae20,_0x27b857){const _0x48e2e5=new zA();if(_0x30ae20['texture']&&_0x30ae20['data'])_0x48e2e5['texture']=_0x30ae20['texture'],_0x48e2e5['__data']=_0x30ae20['data'];else{const _0x11bed1=this['_loader']['getHandler']('texture')['open'](_0x4f9686,_0x30ae20,_0x27b857);if(!_0x11bed1)return null;_0x48e2e5['texture']=_0x11bed1;}return _0x48e2e5;}['patch'](_0x34a895,_0x26a8ea){if(!_0x34a895['resource'])return;_0x34a895['resource']['__data']&&(_0x34a895['resource']['__data']['minfilter']!==void(0x1f37+0x13*0x81+-0x28ca)&&(_0x34a895['data']['minfilter']=_0x34a895['resource']['__data']['minfilter']),_0x34a895['resource']['__data']['magfilter']!==void(-0x541*-0x1+0x1b*0xd5+-0x6ee*0x4)&&(_0x34a895['data']['magfilter']=_0x34a895['resource']['__data']['magfilter']),_0x34a895['resource']['__data']['addressu']!==void(-0x1232+-0x1f51*-0x1+0xd1f*-0x1)&&(_0x34a895['data']['addressu']=_0x34a895['resource']['__data']['addressu']),_0x34a895['resource']['__data']['addressv']!==void(0x22b*0x8+0x17*0x1d+0x1*-0x13f3)&&(_0x34a895['data']['addressv']=_0x34a895['resource']['__data']['addressv']),_0x34a895['resource']['__data']['mipmaps']!==void(-0x138d+0xbc7+0x7c6)&&(_0x34a895['data']['mipmaps']=_0x34a895['resource']['__data']['mipmaps']),_0x34a895['resource']['__data']['anisotropy']!==void(0x2*-0xca4+-0x1878+0x1*0x31c0)&&(_0x34a895['data']['anisotropy']=_0x34a895['resource']['__data']['anisotropy']),_0x34a895['resource']['__data']['rgbm']!==void(0x6*0x515+-0x1633+-0xc1*0xb)&&(_0x34a895['data']['rgbm']=!!_0x34a895['resource']['__data']['rgbm']),_0x34a895['data']['frames']=_0x34a895['resource']['__data']['frames'],delete _0x34a895['resource']['__data']);const _0x4dc023=_0x34a895['resource']['texture'];if(_0x4dc023&&(_0x4dc023['name']=_0x34a895['name'],_0x34a895['data']['hasOwnProp'+'erty']('minfilter')&&_0x4dc023['minFilter']!==Lc[_0x34a895['data']['minfilter']]&&(_0x4dc023['minFilter']=Lc[_0x34a895['data']['minfilter']]),_0x34a895['data']['hasOwnProp'+'erty']('magfilter')&&_0x4dc023['magFilter']!==Lc[_0x34a895['data']['magfilter']]&&(_0x4dc023['magFilter']=Lc[_0x34a895['data']['magfilter']]),_0x34a895['data']['hasOwnProp'+'erty']('addressu')&&_0x4dc023['addressU']!==Ic[_0x34a895['data']['addressu']]&&(_0x4dc023['addressU']=Ic[_0x34a895['data']['addressu']]),_0x34a895['data']['hasOwnProp'+'erty']('addressv')&&_0x4dc023['addressV']!==Ic[_0x34a895['data']['addressv']]&&(_0x4dc023['addressV']=Ic[_0x34a895['data']['addressv']]),_0x34a895['data']['hasOwnProp'+'erty']('mipmaps')&&_0x4dc023['mipmaps']!==_0x34a895['data']['mipmaps']&&(_0x4dc023['mipmaps']=_0x34a895['data']['mipmaps']),_0x34a895['data']['hasOwnProp'+'erty']('anisotropy')&&_0x4dc023['anisotropy']!==_0x34a895['data']['anisotropy']&&(_0x4dc023['anisotropy']=_0x34a895['data']['anisotropy']),_0x34a895['data']['hasOwnProp'+'erty']('rgbm'))){const _0x503913=_0x34a895['data']['rgbm']?Zi:Ds;_0x4dc023['type']!==_0x503913&&(_0x4dc023['type']=_0x503913);}_0x34a895['resource']['texture']=_0x4dc023;const _0x2f8dab={};for(const _0x4fed10 in _0x34a895['data']['frames']){const _0x52e2af=_0x34a895['data']['frames'][_0x4fed10];_0x2f8dab[_0x4fed10]={'rect':new re(_0x52e2af['rect']),'pivot':new J(_0x52e2af['pivot']),'border':new re(_0x52e2af['border'])};}_0x34a895['resource']['frames']=_0x2f8dab,_0x34a895['off']('change',this['_onAssetCh'+'ange'],this),_0x34a895['on']('change',this['_onAssetCh'+'ange'],this);}['_onAssetCh'+'ange'](_0x143ded,_0x433414,_0x3099cb){let _0x15c9ae;if(_0x433414==='data'||_0x433414==='data.frame'+'s'){const _0x4602f0={};for(const _0x52bb43 in _0x3099cb['frames'])_0x15c9ae=_0x3099cb['frames'][_0x52bb43],_0x4602f0[_0x52bb43]={'rect':new re(_0x15c9ae['rect']),'pivot':new J(_0x15c9ae['pivot']),'border':new re(_0x15c9ae['border'])};_0x143ded['resource']['frames']=_0x4602f0;}else{const _0xbd6b1d=_0x433414['match'](Fk);if(_0xbd6b1d){const _0x6ceebc=_0xbd6b1d[0x1*-0xf22+-0x155a*0x1+0x247d*0x1];_0x3099cb?(_0x143ded['resource']['frames'][_0x6ceebc]?(_0x15c9ae=_0x143ded['resource']['frames'][_0x6ceebc],_0x15c9ae['rect']['set'](_0x3099cb['rect'][0x106c+-0x868+-0x804],_0x3099cb['rect'][0x2*-0xb8+0x64*0x2a+-0x3*0x4fd],_0x3099cb['rect'][-0x1a55+0x1*-0x2225+0x3c7c],_0x3099cb['rect'][-0x99+-0x1107+0x11a3]),_0x15c9ae['pivot']['set'](_0x3099cb['pivot'][0x1*-0x1aa7+0xef4+0xbb3],_0x3099cb['pivot'][-0x14*0x25+-0x418+0x6fd]),_0x15c9ae['border']['set'](_0x3099cb['border'][-0x3ce*-0x4+0x7d6+-0x170e],_0x3099cb['border'][0x33*-0x7a+0x24d8+-0xc89],_0x3099cb['border'][0x909*0x1+-0xc7d*0x1+0x376],_0x3099cb['border'][0x1*-0x2379+0x145f+-0x35*-0x49])):_0x143ded['resource']['frames'][_0x6ceebc]={'rect':new re(_0x3099cb['rect']),'pivot':new J(_0x3099cb['pivot']),'border':new re(_0x3099cb['border'])},_0x143ded['resource']['fire']('set:frame',_0x6ceebc,_0x143ded['resource']['frames'][_0x6ceebc])):_0x143ded['resource']['frames'][_0x6ceebc]&&(delete _0x143ded['resource']['frames'][_0x6ceebc],_0x143ded['resource']['fire']('remove:fra'+'me',_0x6ceebc));}}}}function kk(){const _0x5e7069={'cTFETC1':0x0,'cTFETC2':0x1,'cTFBC1':0x2,'cTFBC3':0x3,'cTFPVRTC1_4_RGB':0x8,'cTFPVRTC1_4_RGBA':0x9,'cTFASTC_4x4':0xa,'cTFATC_RGB':0xb,'cTFATC_RGBA_INTERPOLATED_ALPHA':0xc,'cTFRGBA32':0xd,'cTFRGB565':0xe,'cTFRGBA4444':0x10},_0x3a8242={'astc':_0x5e7069['cTFASTC_4x'+'4'],'dxt':_0x5e7069['cTFBC1'],'etc1':_0x5e7069['cTFETC1'],'etc2':_0x5e7069['cTFETC1'],'pvr':_0x5e7069['cTFPVRTC1_'+'4_RGB'],'atc':_0x5e7069['cTFATC_RGB'],'none':_0x5e7069['cTFRGB565']},_0x5a4ecb={'astc':_0x5e7069['cTFASTC_4x'+'4'],'dxt':_0x5e7069['cTFBC3'],'etc1':_0x5e7069['cTFRGBA444'+'4'],'etc2':_0x5e7069['cTFETC2'],'pvr':_0x5e7069['cTFPVRTC1_'+'4_RGBA'],'atc':_0x5e7069['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA'],'none':_0x5e7069['cTFRGBA444'+'4']},_0x24bbc6={'ETC1':0x15,'ETC2_RGB':0x16,'ETC2_RGBA':0x17,'DXT1':0x8,'DXT5':0xa,'PVRTC_4BPP_RGB_1':0x1a,'PVRTC_4BPP_RGBA_1':0x1b,'ASTC_4x4':0x1c,'ATC_RGB':0x1d,'ATC_RGBA':0x1e,'R8_G8_B8_A8':0x7,'R5_G6_B5':0x3,'R4_G4_B4_A4':0x5},_0x547f03=(_0x4e8126,_0x59333b)=>{switch(_0x4e8126){case _0x5e7069['cTFETC1']:return _0x59333b['formats']['etc2']?_0x24bbc6['ETC2_RGB']:_0x24bbc6['ETC1'];case _0x5e7069['cTFETC2']:return _0x24bbc6['ETC2_RGBA'];case _0x5e7069['cTFBC1']:return _0x24bbc6['DXT1'];case _0x5e7069['cTFBC3']:return _0x24bbc6['DXT5'];case _0x5e7069['cTFPVRTC1_'+'4_RGB']:return _0x24bbc6['PVRTC_4BPP'+'_RGB_1'];case _0x5e7069['cTFPVRTC1_'+'4_RGBA']:return _0x24bbc6['PVRTC_4BPP'+'_RGBA_1'];case _0x5e7069['cTFASTC_4x'+'4']:return _0x24bbc6['ASTC_4x4'];case _0x5e7069['cTFATC_RGB']:return _0x24bbc6['ATC_RGB'];case _0x5e7069['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return _0x24bbc6['ATC_RGBA'];case _0x5e7069['cTFRGBA32']:return _0x24bbc6['R8_G8_B8_A'+'8'];case _0x5e7069['cTFRGB565']:return _0x24bbc6['R5_G6_B5'];case _0x5e7069['cTFRGBA444'+'4']:return _0x24bbc6['R4_G4_B4_A'+'4'];}},_0x1b1c11=_0x2737f0=>{const _0x9a51af=function(_0x3b9a8d,_0xc60595){const _0x18dd54=_0x3b9a8d*(0x25a*-0xc+0x2*-0x11+0x1c5a+0.00784313725490196)-(0x13f7+0x855+-0x1c4b),_0x65aad1=_0xc60595*((-0x45b*0x4+0x1*-0x1231+0x33d*0xb)/(-0xf64*0x1+-0x79*-0x6+0xd8d))-(0x2191+0x270+0x90*-0x40),_0x2fa2cf=Math['sqrt'](-0x1*0x98f+-0x24db+0x2bb*0x11-Math['min'](0x206+-0x1*0xa12+0x80d,_0x18dd54*_0x18dd54+_0x65aad1*_0x65aad1));return Math['max'](-0x34*-0x36+-0xf24*-0x2+-0x3*0xdc0,Math['min'](0x1006+0x577*0x6+-0x1*0x2fd1,Math['floor']((_0x2fa2cf+(0x226+0x168d+-0x18b2))*(0x63*0xc+-0x1*-0x24e5+-0x2989+0.5)*(-0x8e+-0x1f60+0x20ed))));};for(let _0x178494=-0x1ee3+0x277*0x1+0x1c6c;_0x178494<_0x2737f0['length'];_0x178494+=0x1*-0xde5+0x1f*0x13a+-0x1*0x181d){const _0x3f6a7f=_0x2737f0[_0x178494+(-0x3*-0xb11+0x6f0+0x1*-0x2820)],_0x5c42da=_0x2737f0[_0x178494+(-0x1387+-0x13ca+0x2752)];_0x2737f0[_0x178494+(-0x1450+-0x1*0x219+0x1669)]=_0x3f6a7f,_0x2737f0[_0x178494+(0x1d03+0x1e0b+-0x3b0c)]=_0x9a51af(_0x3f6a7f,_0x5c42da),_0x2737f0[_0x178494+(0xa*-0x125+-0x52d*-0x3+0x2*-0x209)]=-0x335+-0x6*-0x3ee+-0x1360;}return _0x2737f0;},_0x4e46fd=_0x571309=>{const _0x52c327=new Uint16Array(_0x571309['length']/(-0x1ae8+0x1f84+-0x498));for(let _0x5932e5=-0x9*0x178+-0xd03+0x1a3b;_0x5932e5<_0x571309['length'];_0x5932e5+=0x1e00+0x25c*0x1+-0x19e*0x14){const _0x5e4002=_0x571309[_0x5932e5+(0x5b2+-0x1bc*-0xe+0xefd*-0x2)],_0x3b590c=_0x571309[_0x5932e5+(-0x477*0x1+0xcf6+-0x1*0x87e)],_0x31212b=_0x571309[_0x5932e5+(-0x2618+-0x1836*-0x1+0xde4)];_0x52c327[_0x5932e5/(0x1ce7+0x1b3e+-0x3821*0x1)]=(_0x5e4002&0x39*-0x55+-0x1806+0x2beb)<<0x4e*-0x36+-0x3*0x97b+0x2ced|(_0x3b590c&0x1*-0xaf7+0x170c*-0x1+0x20f*0x11)<<0xabd+-0x8dd*0x1+-0x3*0x9f|_0x31212b>>-0x234d+-0x13d*0x2+0x1*0x25ca;}return _0x52c327;},_0x3a3f69=(_0xdc155a,_0x390fe5)=>(_0xdc155a&_0xdc155a-(-0x918+0xdc4+-0x4ab))===0x2256+0x3f7+-0xb9*0x35&&(_0x390fe5&_0x390fe5-(0x1033+-0x183d+0x80b))===-0x1cb2+-0x1157*-0x2+-0x5fc,_0x435558=()=>typeof performance<'u'?performance['now']():0x1dbd+0x151a+0xa2b*-0x5;let _0x352741,_0xd5c2c2,_0xbf78a6;const _0x29c685=(_0x394405,_0x58a590,_0x3f82d6)=>{if(_0x3f82d6){if(_0x394405['formats']['astc'])return'astc';}else{if(_0x58a590){if(_0x394405['formats']['etc2'])return'etc2';}else{if(_0x394405['formats']['etc2'])return'etc2';if(_0x394405['formats']['etc1'])return'etc1';}}return(_0x1b077f=>{for(let _0x188a1f=-0x383*-0x4+-0xd7*0x23+0xf59;_0x188a1f<_0x1b077f['length'];++_0x188a1f){const _0x49db3d=_0x1b077f[_0x188a1f];if(_0x394405['formats'][_0x49db3d])return _0x49db3d;}return'none';})(_0x58a590?_0xbf78a6:_0xd5c2c2);},_0x39d012=(_0x52ccc7,_0x53f86c,_0x570f32)=>{switch(_0x570f32){case _0x5e7069['cTFETC1']:case _0x5e7069['cTFETC2']:return!(0x2395*0x1+-0x1*0x906+-0xd*0x20b);case _0x5e7069['cTFBC1']:case _0x5e7069['cTFBC3']:return(_0x52ccc7&-0x1*-0x851+0x691+-0xedf)===0x15d1+0x13*0x91+-0x2*0x104a&&(_0x53f86c&-0x386+0x24ae+-0x2125)===0x1fff*0x1+-0x2153+0x154;case _0x5e7069['cTFPVRTC1_'+'4_RGB']:case _0x5e7069['cTFPVRTC1_'+'4_RGBA']:return _0x3a3f69(_0x52ccc7,_0x53f86c);case _0x5e7069['cTFASTC_4x'+'4']:return!(0x3*-0x7dd+-0x7b8+0x1f4f);case _0x5e7069['cTFATC_RGB']:case _0x5e7069['cTFATC_RGB'+'A_INTERPOL'+'ATED_ALPHA']:return!(-0xa1+-0xa*-0x3d7+-0x25c5);}return!(-0x1d4f+-0x525*0x5+-0x3709*-0x1);},_0x34c7c1=(_0x3cf810,_0x5b6852,_0x629823)=>{if(!_0x352741['KTX2File'])throw new Error('Basis\x20tran'+'scoder\x20mod'+'ule\x20does\x20n'+'ot\x20include'+'\x20support\x20f'+'or\x20KTX2.');const _0x16dfc4=_0x435558(),_0x3d7cef=new _0x352741['KTX2File'](new Uint8Array(_0x5b6852)),_0x2a3997=_0x3d7cef['getWidth'](),_0x2804aa=_0x3d7cef['getHeight'](),_0x52a39e=_0x3d7cef['getLevels'](),_0x3aca06=!!_0x3d7cef['getHasAlph'+'a'](),_0x55fd5a=_0x3d7cef['isUASTC']&&_0x3d7cef['isUASTC']();if(!_0x2a3997||!_0x2804aa||!_0x52a39e)throw _0x3d7cef['close'](),_0x3d7cef['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x3cf810+'\x20width='+_0x2a3997+'\x20height='+_0x2804aa+'\x20levels='+_0x52a39e);const _0x157f5c=_0x29c685(_0x629823['deviceDeta'+'ils'],_0x3aca06,_0x55fd5a),_0x4fae9a=!!_0x629823['isGGGR']&&_0x157f5c==='pvr';let _0x16e00a;if(_0x4fae9a?_0x16e00a=_0x5e7069['cTFRGBA32']:(_0x16e00a=_0x3aca06?_0x5a4ecb[_0x157f5c]:_0x3a8242[_0x157f5c],_0x39d012(_0x2a3997,_0x2804aa,_0x16e00a)||(_0x16e00a=_0x3aca06?_0x5e7069['cTFRGBA32']:_0x5e7069['cTFRGB565'])),!_0x3d7cef['startTrans'+'coding']())throw _0x3d7cef['close'](),_0x3d7cef['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x3cf810);let _0xa8ef39;const _0x100f72=[];for(let _0x45503b=-0x1fa9+-0x1b6e+0x3b17;_0x45503b<_0x52a39e;++_0x45503b){const _0x41bdac=_0x3d7cef['getImageTr'+'anscodedSi'+'zeInBytes'](_0x45503b,-0xcf3+-0x37*0xb3+0x3368,0x2f*-0x8d+0x228b+-0x1*0x8a8,_0x16e00a),_0x2ed877=new Uint8Array(_0x41bdac);if(!_0x3d7cef['transcodeI'+'mage'](_0x2ed877,_0x45503b,-0x1ff4+0x14dc+0xb18,0x235b+0x20b6+0xcd*-0x55,_0x16e00a,0x1679+-0x263c+0xfc3,-(-0x6*0x641+-0x1722+0x3ca9),-(-0x2280+-0x1*0x497+-0x4e3*-0x8)))throw _0x3d7cef['close'](),_0x3d7cef['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x3cf810);const _0x1af053=_0x16e00a===_0x5e7069['cTFRGB565']||_0x16e00a===_0x5e7069['cTFRGBA444'+'4'];_0x100f72['push'](_0x1af053?new Uint16Array(_0x2ed877['buffer']):_0x2ed877);}if(_0x3d7cef['close'](),_0x3d7cef['delete'](),_0x4fae9a){for(_0x16e00a=_0x5e7069['cTFRGB565'],_0xa8ef39=0x18ff*-0x1+0x5a8*0x3+0x807;_0xa8ef39<_0x100f72['length'];++_0xa8ef39)_0x100f72[_0xa8ef39]=_0x4e46fd(_0x1b1c11(_0x100f72[_0xa8ef39]));}return{'format':_0x547f03(_0x16e00a,_0x629823['deviceDeta'+'ils']),'width':_0x2a3997,'height':_0x2804aa,'levels':_0x100f72,'cubemap':!(0x1c62+-0x314*-0x4+-0x3b3*0xb),'transcodeTime':_0x435558()-_0x16dfc4,'url':_0x3cf810,'unswizzledGGGR':_0x4fae9a};},_0x38d645=(_0x3fea9d,_0x5c015f,_0x7fd047)=>{const _0x1f529b=_0x435558(),_0x1ad595=new _0x352741['BasisFile'](new Uint8Array(_0x5c015f)),_0x4be627=_0x1ad595['getImageWi'+'dth'](-0x1469+-0x1ab6*0x1+-0xfb5*-0x3,0x2064+-0x6*0x62e+0x4b0),_0x14708d=_0x1ad595['getImageHe'+'ight'](-0x5*0x569+0x1ee3+-0x3d6,0x25ba+-0x12a*0x8+-0x1c6a),_0x4e7a8f=_0x1ad595['getNumImag'+'es'](),_0x45d9ab=_0x1ad595['getNumLeve'+'ls'](0x21d*0xd+0x107f+-0x2bf8),_0x3e148f=!!_0x1ad595['getHasAlph'+'a'](),_0x39559d=_0x1ad595['isUASTC']&&_0x1ad595['isUASTC']();if(!_0x4be627||!_0x14708d||!_0x4e7a8f||!_0x45d9ab)throw _0x1ad595['close'](),_0x1ad595['delete'](),new Error('Invalid\x20im'+'age\x20dimens'+'ions\x20url='+_0x3fea9d+'\x20width='+_0x4be627+'\x20height='+_0x14708d+'\x20images='+_0x4e7a8f+'\x20levels='+_0x45d9ab);const _0x296d4c=_0x29c685(_0x7fd047['deviceDeta'+'ils'],_0x3e148f,_0x39559d),_0x30647f=!!_0x7fd047['isGGGR']&&_0x296d4c==='pvr';let _0x1ecd3c;if(_0x30647f?_0x1ecd3c=_0x5e7069['cTFRGBA32']:(_0x1ecd3c=_0x3e148f?_0x5a4ecb[_0x296d4c]:_0x3a8242[_0x296d4c],_0x39d012(_0x4be627,_0x14708d,_0x1ecd3c)||(_0x1ecd3c=_0x3e148f?_0x5e7069['cTFRGBA32']:_0x5e7069['cTFRGB565'])),!_0x1ad595['startTrans'+'coding']())throw _0x1ad595['close'](),_0x1ad595['delete'](),new Error('Failed\x20to\x20'+'start\x20tran'+'scoding\x20ur'+'l='+_0x3fea9d);let _0x561f06;const _0xe8f460=[];for(let _0x24b44e=-0x127a+0xfbd+0x2bd*0x1;_0x24b44e<_0x45d9ab;++_0x24b44e){const _0x25ff32=_0x1ad595['getImageTr'+'anscodedSi'+'zeInBytes'](-0x1235*-0x1+0xc*0x5+0x1271*-0x1,_0x24b44e,_0x1ecd3c),_0x5a1c0e=new Uint8Array(_0x25ff32);if(!_0x1ad595['transcodeI'+'mage'](_0x5a1c0e,0x2*-0x11d1+0x9f9*-0x2+0x1*0x3794,_0x24b44e,_0x1ecd3c,-0xe09+0xb7+0xd52,-0x1*-0x169f+0x117a+-0x2819)){if(_0x24b44e===_0x45d9ab-(0x1ec7+-0x240a+0x2*0x2a2)&&_0x25ff32===_0xe8f460[_0x24b44e-(-0x1cb3+-0x5e8+0x229c)]['buffer']['byteLength'])_0x5a1c0e['set'](new Uint8Array(_0xe8f460[_0x24b44e-(0xd8d+0x430+-0x11bc)]['buffer'])),console['warn']('Failed\x20to\x20'+'transcode\x20'+'last\x20mipma'+'p\x20level,\x20u'+'sing\x20previ'+'ous\x20level\x20'+'instead\x20ur'+'l='+_0x3fea9d);else throw _0x1ad595['close'](),_0x1ad595['delete'](),new Error('Failed\x20to\x20'+'transcode\x20'+'image\x20url='+_0x3fea9d);}const _0x4c95ce=_0x1ecd3c===_0x5e7069['cTFRGB565']||_0x1ecd3c===_0x5e7069['cTFRGBA444'+'4'];_0xe8f460['push'](_0x4c95ce?new Uint16Array(_0x5a1c0e['buffer']):_0x5a1c0e);}if(_0x1ad595['close'](),_0x1ad595['delete'](),_0x30647f){for(_0x1ecd3c=_0x5e7069['cTFRGB565'],_0x561f06=0x81a+-0x1*0xdaf+-0x595*-0x1;_0x561f06<_0xe8f460['length'];++_0x561f06)_0xe8f460[_0x561f06]=_0x4e46fd(_0x1b1c11(_0xe8f460[_0x561f06]));}return{'format':_0x547f03(_0x1ecd3c,_0x7fd047['deviceDeta'+'ils']),'width':_0x4be627,'height':_0x14708d,'levels':_0xe8f460,'cubemap':!(0x1d03+0x1659*-0x1+-0x6a9),'transcodeTime':_0x435558()-_0x1f529b,'url':_0x3fea9d,'unswizzledGGGR':_0x30647f};},_0xaba0d2=(_0x368803,_0x49309d,_0x271082)=>_0x271082['isKTX2']?_0x34c7c1(_0x368803,_0x49309d,_0x271082):_0x38d645(_0x368803,_0x49309d,_0x271082),_0x237322=(_0x43f51b,_0x488457,_0x4375e4)=>{try{const _0x297b66=_0xaba0d2(_0x43f51b,_0x488457,_0x4375e4);_0x297b66['levels']=_0x297b66['levels']['map'](_0x35d30c=>_0x35d30c['buffer']),self['postMessag'+'e']({'url':_0x43f51b,'data':_0x297b66},_0x297b66['levels']);}catch(_0x2f9260){self['postMessag'+'e']({'url':_0x43f51b,'err':_0x2f9260},null);}},_0x48dffe=(_0x12096f,_0x43932f)=>{const _0x4223e5=(_0x3e8c7a,_0x4a7a49)=>(WebAssembly['instantiat'+'e'](_0x12096f['module'],_0x3e8c7a)['then'](_0x3a5e6c=>{_0x4a7a49(_0x3a5e6c);})['catch'](_0x47f1d0=>{console['error']('instantiat'+'e\x20failed\x20+'+'\x20'+_0x47f1d0);}),{});self['BASIS'](_0x12096f['module']?{'instantiateWasm':_0x4223e5}:null)['then'](_0x21b494=>{_0x21b494['initialize'+'Basis'](),_0x352741=_0x21b494,_0xd5c2c2=_0x12096f['rgbPriorit'+'y'],_0xbf78a6=_0x12096f['rgbaPriori'+'ty'],_0x43932f(null);});},_0x559be8=[];self['onmessage']=_0x433f35=>{const _0x4fc83f=_0x433f35['data'];switch(_0x4fc83f['type']){case'init':_0x48dffe(_0x4fc83f['config'],()=>{for(let _0x1edac5=0x3a2+-0x3b9*-0x1+-0x75b;_0x1edac5<_0x559be8['length'];++_0x1edac5)_0x237322(_0x559be8[_0x1edac5]['url'],_0x559be8[_0x1edac5]['data'],_0x559be8[_0x1edac5]['options']);_0x559be8['length']=-0xb*0x7f+-0xa*-0x2db+-0x51*0x49;});break;case'transcode':_0x352741?_0x237322(_0x4fc83f['url'],_0x4fc83f['data'],_0x4fc83f['options']):_0x559be8['push'](_0x4fc83f);break;}};}const Uk=_0x568c1e=>({'astc':!!_0x568c1e['extCompres'+'sedTexture'+'ASTC'],'atc':!!_0x568c1e['extCompres'+'sedTexture'+'ATC'],'dxt':!!_0x568c1e['extCompres'+'sedTexture'+'S3TC'],'etc1':!!_0x568c1e['extCompres'+'sedTexture'+'ETC1'],'etc2':!!_0x568c1e['extCompres'+'sedTexture'+'ETC'],'pvr':!!_0x568c1e['extCompres'+'sedTexture'+'PVRTC']}),Bk=(_0x152bb7,_0x2e6fe8)=>{const _0xc9591b=_0x1b3870=>{const _0x5671f0=['/*\x20basis\x20*'+'/',_0x1b3870,'','('+kk['toString']()+')()\x0a\x0a']['join']('\x0a');return new Blob([_0x5671f0],{'type':'applicatio'+'n/javascri'+'pt'});},_0x31fd53=()=>{try{if(typeof WebAssembly=='object'&&typeof WebAssembly['instantiat'+'e']=='function'){const _0x3c30ba=new WebAssembly['Module'](Uint8Array['of'](0x2474+-0x1*0x1551+-0xf23,0x15f1+-0x8*0x149+-0xb48,-0x1*0x7f1+-0x10a2+0x1906,0x51d+0xca7*0x2+-0x1dfe,0x1e16+0x1*0x1d50+-0x3b65,0x1*-0x196a+0xcf7*-0x1+0x2661,0x25c4+0xfdf+-0x35a3,0x225a+0xc5*0x1f+-0x3a35));if(_0x3c30ba instanceof WebAssembly['Module'])return new WebAssembly['Instance'](_0x3c30ba)instanceof WebAssembly['Instance'];}}catch{}return!(0x981*-0x1+-0x1aae*-0x1+0x1*-0x112c);},_0x2244df=(_0x48cdc1,_0x24af00)=>{_0x2e6fe8(null,{'workerUrl':URL['createObje'+'ctURL'](_0xc9591b(_0x48cdc1)),'module':_0x24af00,'rgbPriority':_0x152bb7['rgbPriorit'+'y'],'rgbaPriority':_0x152bb7['rgbaPriori'+'ty']});},_0x27aabc={'cache':!(0x314*0x3+0x2ea+-0xa*0x137),'responseType':'text','retry':_0x152bb7['maxRetries']>0x1524+-0x1*-0x1049+0x2e1*-0xd,'maxRetries':_0x152bb7['maxRetries']};if(_0x152bb7['glueUrl']&&_0x152bb7['wasmUrl']&&_0x31fd53()){let _0x3fdff9=null,_0x363360=null;ot['get'](_0x152bb7['glueUrl'],_0x27aabc,(_0x36790f,_0x29ea90)=>{_0x36790f?_0x2e6fe8(_0x36790f):_0x363360?_0x2244df(_0x29ea90,_0x363360):_0x3fdff9=_0x29ea90;});const _0x3bfbcc=fetch(_0x152bb7['wasmUrl']),_0x9506da=()=>{_0x3bfbcc['then'](_0x2a75bd=>_0x2a75bd['arrayBuffe'+'r']())['then'](_0x15df40=>WebAssembly['compile'](_0x15df40))['then'](_0x41c26a=>{_0x3fdff9?_0x2244df(_0x3fdff9,_0x41c26a):_0x363360=_0x41c26a;})['catch'](_0x148832=>{_0x2e6fe8(_0x148832,null);});};WebAssembly['compileStr'+'eaming']?WebAssembly['compileStr'+'eaming'](_0x3bfbcc)['then'](_0xfee47e=>{_0x3fdff9?_0x2244df(_0x3fdff9,_0xfee47e):_0x363360=_0xfee47e;})['catch'](_0x5039a8=>{w['warn']('compileStr'+'eaming()\x20f'+'ailed\x20for\x20'+_0x152bb7['wasmUrl']+'\x20('+_0x5039a8+('),\x20falling'+'\x20back\x20to\x20a'+'rraybuffer'+'\x20download.')),_0x9506da();}):_0x9506da();}else ot['get'](_0x152bb7['fallbackUr'+'l'],_0x27aabc,(_0x3ba74e,_0x3a9da4)=>{_0x3ba74e?_0x2e6fe8(_0x3ba74e,null):_0x2244df(_0x3a9da4,null);});};class zk{constructor(){this['callbacks']={},this['queue']=[],this['clients']=[];}['enqueueJob'](_0x222e25,_0x5f280b,_0x4d82f6,_0x51df0){if(this['callbacks']['hasOwnProp'+'erty'](_0x222e25))this['callbacks'][_0x222e25]['push'](_0x4d82f6);else{this['callbacks'][_0x222e25]=[_0x4d82f6];const _0x5aa33e={'url':_0x222e25,'data':_0x5f280b,'options':_0x51df0};this['clients']['length']>-0x1639*-0x1+0x16*-0xd4+0x19*-0x29?this['clients']['shift']()['run'](_0x5aa33e):this['queue']['push'](_0x5aa33e);}}['enqueueCli'+'ent'](_0x2392b1){this['queue']['length']>-0x2a9+-0x10e1*-0x1+0x2*-0x71c?_0x2392b1['run'](this['queue']['shift']()):this['clients']['push'](_0x2392b1);}['handleResp'+'onse'](_0x360dd1,_0x5a1d8d,_0x1872e9){const _0x2f076d=this['callbacks'][_0x360dd1];if(_0x5a1d8d){for(let _0x519297=-0x24*-0x97+-0x1434+-0x108;_0x519297<_0x2f076d['length'];++_0x519297)_0x2f076d[_0x519297](_0x5a1d8d);}else{_0x1872e9['format']===Jh||_0x1872e9['format']===ed?_0x1872e9['levels']=_0x1872e9['levels']['map'](_0x1c55fd=>new Uint16Array(_0x1c55fd)):_0x1872e9['levels']=_0x1872e9['levels']['map'](_0x5562c9=>new Uint8Array(_0x5562c9));for(let _0x1bd45b=0x16c4+0x1*0x1fd2+-0x3696;_0x1bd45b<_0x2f076d['length'];++_0x1bd45b)_0x2f076d[_0x1bd45b](null,_0x1872e9);}delete this['callbacks'][_0x360dd1];}}class Vk{constructor(_0x2b4690,_0x5982c1,_0x2b3128){this['queue']=_0x2b4690,this['worker']=new Worker(_0x5982c1['workerUrl']),this['worker']['addEventLi'+'stener']('message',_0x68f0b7=>{const _0x128c56=_0x68f0b7['data'];this['queue']['handleResp'+'onse'](_0x128c56['url'],_0x128c56['err'],_0x128c56['data']),this['eager']||this['queue']['enqueueCli'+'ent'](this);}),this['worker']['postMessag'+'e']({'type':'init','config':_0x5982c1}),this['eager']=_0x2b3128;}['run'](_0x1bfadc){const _0x609a73=[];_0x1bfadc['data']instanceof ArrayBuffer&&_0x609a73['push'](_0x1bfadc['data']),this['worker']['postMessag'+'e']({'type':'transcode','url':_0x1bfadc['url'],'format':_0x1bfadc['format'],'data':_0x1bfadc['data'],'options':_0x1bfadc['options']},_0x609a73),this['eager']&&this['queue']['enqueueCli'+'ent'](this);}}const Gk=0x1a96+-0x955*-0x2+-0x2d3f,Hk=['etc2','etc1','astc','dxt','pvr','atc'],Wk=['astc','dxt','etc2','pvr','atc'],$k=0x1dca+0xc16+-0x5*0x85f,Xu=new zk();let xS=null,qu=!(0x101+-0x1f06+0x1e06);function Xk(_0x38b37e){if(!qu){if(!_0x38b37e)_0x38b37e=xS||{};else{if(_0x38b37e['lazyInit']){xS=_0x38b37e;return;}}if(!_0x38b37e['glueUrl']||!_0x38b37e['wasmUrl']||!_0x38b37e['fallbackUr'+'l']){const _0x395f27=YS['getConfig']('BASIS');_0x395f27&&(_0x38b37e={'glueUrl':_0x395f27['glueUrl'],'wasmUrl':_0x395f27['wasmUrl'],'fallbackUrl':_0x395f27['fallbackUr'+'l'],'numWorkers':_0x395f27['numWorkers']});}if(_0x38b37e['glueUrl']||_0x38b37e['wasmUrl']||_0x38b37e['fallbackUr'+'l']){qu=!(-0x1c31+0x1c00+-0x31*-0x1);const _0x5166f4=Math['max'](0x1acb+0x1714+-0x31de,Math['min'](-0x2cc+0x2a*0x62+-0xd38,_0x38b37e['numWorkers']||Gk)),_0xad6adc=_0x38b37e['numWorkers']===0x515*0x2+-0x1b85+0x115c||(_0x38b37e['hasOwnProp'+'erty']('eagerWorke'+'rs')?_0x38b37e['eagerWorke'+'rs']:!(-0xc5*0x1f+-0x65+0x1840));_0x38b37e['rgbPriorit'+'y']=_0x38b37e['rgbPriorit'+'y']||Hk,_0x38b37e['rgbaPriori'+'ty']=_0x38b37e['rgbaPriori'+'ty']||Wk,_0x38b37e['maxRetries']=_0x38b37e['hasOwnProp'+'erty']('maxRetries')?_0x38b37e['maxRetries']:$k,Bk(_0x38b37e,(_0x5c1608,_0x223ad1)=>{if(_0x5c1608)console['error']('failed\x20to\x20'+'initialize'+'\x20basis\x20wor'+'ker:\x20'+_0x5c1608);else{for(let _0x5d4742=0x252b+-0x4*0x236+-0x1c53;_0x5d4742<_0x5166f4;++_0x5d4742)Xu['enqueueCli'+'ent'](new Vk(Xu,_0x223ad1,_0xad6adc));}});}}}let Df=null;function b0(_0x155907,_0x22246b,_0x36f5e6,_0x28f589,_0x4c3ee3){return Xk(),Df||(Df={'formats':Uk(_0x155907)}),Xu['enqueueJob'](_0x22246b,_0x36f5e6,_0x28f589,{'deviceDetails':Df,'isGGGR':!!(_0x4c3ee3!=null&&_0x4c3ee3['isGGGR']),'isKTX2':!!(_0x4c3ee3!=null&&_0x4c3ee3['isKTX2'])}),qu;}class eo{['load'](_0x2909c3,_0x3538b5,_0x35aa96){throw new Error('not\x20implem'+'ented');}['open'](_0x5ddbc2,_0x3243fc,_0x2b2914){throw new Error('not\x20implem'+'ented');}}class qk extends eo{constructor(_0x540d79,_0x1e75be){super(),this['device']=_0x1e75be,this['maxRetries']=-0xd7*-0x2c+0x1*0xef8+-0x33ec;}['load'](_0x444b8e,_0x3edb73,_0x9feb7){const _0x2c9415=this['device'],_0x34f39d=_0x4811b5=>{var _0x82d239,_0x557ec5,_0x1bdb6f;b0(_0x2c9415,_0x444b8e['load'],_0x4811b5,_0x3edb73,{'isGGGR':(((_0x1bdb6f=(_0x557ec5=(_0x82d239=_0x9feb7==null?void(-0xc98+0x14b+0xb4d):_0x9feb7['file'])==null?void(0x2*-0x8d7+0x2643+-0x1495):_0x82d239['variants'])==null?void(-0x3*0x655+-0x93e+0x1c3d):_0x557ec5['basis'])==null?void(-0x139a+-0x34*-0x8f+-0x972):_0x1bdb6f['opt'])&0x24be*0x1+-0x1f4e+-0x568)!==-0x2107+0xa49+0x16be})||_0x3edb73('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0x9feb7['name']+']('+_0x9feb7['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.'));};pe['fetchArray'+'Buffer'](_0x444b8e['load'],(_0x446fb6,_0x336440)=>{_0x446fb6?_0x3edb73(_0x446fb6):_0x34f39d(_0x336440);},_0x9feb7,this['maxRetries']);}['open'](_0x1fdccd,_0x30c632,_0x9fefae,_0x30f553={}){const _0x140fa5=_0x30f553['srgb']?ld(_0x30c632['format']):_0x30c632['format'],_0x251ae0=new _e(_0x9fefae,{'name':_0x1fdccd,'profilerHint':Pr,'addressU':_0x30c632['cubemap']?ue:yt,'addressV':_0x30c632['cubemap']?ue:yt,'width':_0x30c632['width'],'height':_0x30c632['height'],'format':_0x140fa5,'cubemap':_0x30c632['cubemap'],'levels':_0x30c632['levels'],..._0x30f553});return _0x251ae0['upload'](),_0x251ae0;}}const A0=new Uint8Array([-0x3a8*-0x1+0xef3+-0x1212,-0x993+0x2b7+0x72c,0x1fac+-0x6fb+0x3*-0x821,0x1*-0x545+-0x74*0x1+0x6*0x100,-0x233f*-0x1+0x1043*-0x2+-0x2ac,0x1*-0x191f+0x1*-0x137b+0x2ca4,0x1f6+0x1caa+-0x1*0x1e86,0xb3d+-0x4e6+-0x64d,0x319+0x5e1*0x5+-0x207e,0x379+-0x78*-0x41+-0x1*0x21f1,0x7f*-0x1f+0x25c0+-0x165f*0x1,-0x33*-0x53+-0xa9*0x2f+-0xe8b*-0x1,-0x3*0x32f+-0x1*-0x10d+0x8c9,0x3*0xa9e+-0x252+-0x1d40*0x1,-0x1fe7+-0x2607+-0x6*-0xbb3,-0x779+0xf10+-0x1*0x745,0x1a46+0xc2*-0x16+-0x99a,-0x22f0+-0x268c+-0x1*-0x497c,0x123e+-0xe7+-0x1157,-0x1b4b+0x2*0xcb6+-0x10*-0x1e,0x55d+0x213d+0xcde*-0x3,0x21*0x79+0x117e+-0xc5*0x2b,-0x153*-0x16+0xb29+-0x284b,-0x161b+0x168e+0x2*-0x39,-0x1a89*-0x1+-0x221a+-0x5*-0x185,-0x1618+-0x8c3*0x1+0x5d*0x55,0x125*0x1+-0x1451*-0x1+-0x1576,-0x1d59+-0x5*-0x77f+-0x822,-0x146*0x1b+0x21ef+0x73,0x3*0x6ef+0xec4+-0x2372,0x39*0xa5+0xc2*-0x6+0x14*-0x19b,0x15cd+-0x9c+0x53*-0x3f,0x163b+-0x264d+-0x27*-0x6d,0x1*0x24ef+0x2*0x10b1+-0x4651,0x73e+-0x12*0x91+0x2f4,-0xe9e*-0x2+-0x1*0x14c5+-0x877,0x150a+-0x259d+0x10a0,0x2*0xe8b+-0xd1d+-0xfb0,-0x7*-0x4f5+0x7e1+-0x2a50,0x289*0xb+0x24ee+-0x4090,0x10d1+0x1f63*-0x1+-0xee6*-0x1,-0x25*0xef+0x12cb+0x15a*0xc,0x1*-0x1737+-0x19de+0x1*0x31ef,-0x1cf*-0xf+0x1f20+-0x39de,0xa*0x284+0x47*0x72+-0x3862,0x3e*-0x1d+-0x2da+-0x6*-0x1b6,0x7*-0x245+0x955*0x2+-0x265,0x1f5c*-0x1+0xe12+0x1200,0x25*0x6e+-0xc98+0x1*-0x347,-0x6cb+-0x1b41+0x220c,-0x3*-0x916+0x1*-0x515+-0x162d,-0x1*0x3d1+0xccf+-0x1*0x8a5,-0x12ee+-0x102a*0x1+0x2318,0xd3a+-0x1648+0x955,-0x6ab+0x21aa+-0x1abc,0x133*-0x1d+-0x21b9*-0x1+-0xd*-0x1f,-0x19e3+-0x16b6+-0x1*-0x312d,-0x18c9+0x254f+-0xb99,0x19e6+0x53a+-0x3*0xa60,-0x1709*0x1+0x1b29*0x1+0x6*-0xb0,-0xab3+0x1*-0x1607+-0x76*-0x47,0x21c3+0x1*-0x1bef+-0x5d4*0x1,0x1bb1+-0x1ae2+-0x86,-0x14f0+0x1837+-0x302,0x22a5+0x91*0x18+-0x1*0x2fef,0x1e69+-0x25e1+0x7bc,0xd69*-0x1+0xed+-0x695*-0x2,0xb03*0x1+-0x18*-0xfd+-0x2279,-0x6*0x357+0x97a+0xaf0,0x3cb+0x8*0x70+-0x6c9]),C0=(_0x2b4b62,_0x1f0f27)=>{const _0x12fe72=new _e(_0x2b4b62,{'width':0x1,'height':0x1,'format':Ne,'mipmaps':!(-0x892+-0x1*-0x14ae+-0x3*0x409),'levels':[_0x1f0f27]}),_0x3bdf24=new gt({'colorBuffer':_0x12fe72,'depth':!(0x46c*-0x2+0x91*-0x1d+0x1*0x1946)});_0x2b4b62['setFramebu'+'ffer'](_0x3bdf24['impl']['_glFrameBu'+'ffer']),_0x2b4b62['initRender'+'Target'](_0x3bdf24);const _0x1d1b63=new Uint8ClampedArray(-0xa*0x137+0x1c1c+0x13a*-0xd);return _0x2b4b62['gl']['readPixels'](0xce5*-0x1+0x1c3a+-0xf55,-0x611*-0x3+0x154d*-0x1+-0x18d*-0x2,0xb02*0x1+0x1477+-0x1f78,-0x1fd5+0xfda*-0x1+0x70*0x6d,_0x2b4b62['gl']['RGBA'],_0x2b4b62['gl']['UNSIGNED_B'+'YTE'],_0x1d1b63),_0x3bdf24['destroy'](),_0x12fe72['destroy'](),_0x1d1b63[-0x2371*-0x1+-0x22b*0xf+0x44*-0xb]===-0x2525+0x1*-0x525+0x1*0x2a4b&&_0x1d1b63[-0x1b5e+0x2263*0x1+0x2*-0x382]===0xfb*-0xb+-0xc9*0x10+0x175b&&_0x1d1b63[-0x1*0x144d+0x46f+0xfe0]===0x1*-0xd2c+0x1*0xda6+-0x77&&_0x1d1b63[0x25f1+-0x3dd*0x8+-0x706]===0x1*-0x713+0x39b+0x3b7*0x1;},jk=_0x58d2b5=>createImageBitmap(new Blob([A0],{'type':'image/png'}),{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x264ed6=>C0(_0x58d2b5,_0x264ed6))['catch'](_0x4bf67a=>!(-0x1ab0+0x1b27+-0x3b*0x2)),Yk=_0x34fc57=>new Promise((_0xa2844a,_0x4898ad)=>{const _0x5f1c8f=new Image();_0x5f1c8f['src']=URL['createObje'+'ctURL'](new Blob([A0])),_0x5f1c8f['onload']=()=>{_0xa2844a(C0(_0x34fc57,_0x5f1c8f));};});class Kk{static['run'](_0x3fd1c5){jk(_0x3fd1c5)['then'](_0x1a4852=>{console['log']('imageBitma'+'pIsCorrect'+'='+_0x1a4852);}),Yk(_0x3fd1c5)['then'](_0xfe985d=>{console['log']('imgElement'+'IsCorrect='+_0xfe985d);});}}class Zk extends eo{constructor(_0x3b0832,_0x46cc75){super(),this['crossOrigi'+'n']=_0x3b0832['prefix']?'anonymous':null,this['maxRetries']=0x25b7+-0x917+0x8*-0x394,this['device']=_0x46cc75,mi['get']('IMG_ALPHA_'+'TEST')&&Kk['run'](this['device']);}['load'](_0x337d4c,_0x287062,_0x47f44d){var _0x3f840a;const _0x12cf38=!!((_0x3f840a=_0x47f44d==null?void(0x13f+0x2250+-0x238f*0x1):_0x47f44d['file'])!=null&&_0x3f840a['contents']);if(_0x12cf38){if(this['device']['supportsIm'+'ageBitmap']){this['_loadImage'+'BitmapFrom'+'Blob'](new Blob([_0x47f44d['file']['contents']]),_0x287062);return;}_0x337d4c={'load':URL['createObje'+'ctURL'](new Blob([_0x47f44d['file']['contents']])),'original':_0x337d4c['original']};}const _0x442344=(_0x2ce0d2,_0x15d924)=>{_0x12cf38&&URL['revokeObje'+'ctURL'](_0x337d4c['load']),_0x287062(_0x2ce0d2,_0x15d924);};let _0x5f0ac3;_0x47f44d&&_0x47f44d['options']&&_0x47f44d['options']['hasOwnProp'+'erty']('crossOrigi'+'n')?_0x5f0ac3=_0x47f44d['options']['crossOrigi'+'n']:jn['test'](_0x337d4c['load'])&&(_0x5f0ac3=this['crossOrigi'+'n']),this['device']['supportsIm'+'ageBitmap']?this['_loadImage'+'Bitmap'](_0x337d4c['load'],_0x337d4c['original'],_0x5f0ac3,_0x442344,_0x47f44d):this['_loadImage'](_0x337d4c['load'],_0x337d4c['original'],_0x5f0ac3,_0x442344);}['open'](_0x4c5f4d,_0x1b9999,_0x5920e3,_0x2567a3={}){const _0x1cb14c=new _e(_0x5920e3,{'name':_0x4c5f4d,'profilerHint':Pr,'width':_0x1b9999['width'],'height':_0x1b9999['height'],'format':_0x2567a3['srgb']?_s:Ne,..._0x2567a3});return _0x1cb14c['setSource'](_0x1b9999),_0x1cb14c;}['_loadImage'](_0x2ff2bf,_0x58da2c,_0x4f451c,_0x5a586b){const _0x482cee=new Image();_0x4f451c&&(_0x482cee['crossOrigi'+'n']=_0x4f451c);let _0xf4ad79=-0x4ca*0x4+-0xf4d*-0x2+0xb72*-0x1;const _0x15fa3b=this['maxRetries'];let _0x7a2e21;_0x482cee['onload']=function(){_0x5a586b(null,_0x482cee);},_0x482cee['onerror']=function(){if(!_0x7a2e21){if(_0x15fa3b>0x2703+-0x756+0x3*-0xa8f&&++_0xf4ad79<=_0x15fa3b){const _0x3617d5=Math['pow'](0x1ebc+0x857+-0x2711*0x1,_0xf4ad79)*(-0x2522+-0x1520+0x3aa6);console['log']('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x58da2c+('\x27\x20-\x20Retryi'+'ng\x20in\x20')+_0x3617d5+'ms...');const _0x464ef9=_0x2ff2bf['indexOf']('?')>=-0x1474+0x36+-0x1*-0x143e?'&':'?';_0x7a2e21=setTimeout(()=>{_0x482cee['src']=_0x2ff2bf+_0x464ef9+'retry='+Date['now'](),_0x7a2e21=null;},_0x3617d5);}else _0x5a586b('Error\x20load'+'ing\x20Textur'+'e\x20from:\x20\x27'+_0x58da2c+'\x27');}},_0x482cee['src']=_0x2ff2bf;}['_loadImage'+'Bitmap'](_0x2c019f,_0x2ab133,_0x2c6338,_0x174d2f,_0x11d201){const _0x52a11f={'cache':!(0x1*0x24d+-0x2*0x7a4+0xcfb),'responseType':'blob','retry':this['maxRetries']>-0x230e+0x17b4+0xb5a,'maxRetries':this['maxRetries'],'progress':_0x11d201};ot['get'](_0x2c019f,_0x52a11f,(_0x10aa2d,_0x15971e)=>{_0x10aa2d?_0x174d2f(_0x10aa2d):this['_loadImage'+'BitmapFrom'+'Blob'](_0x15971e,_0x174d2f);});}['_loadImage'+'BitmapFrom'+'Blob'](_0xe52e30,_0x38bf97){createImageBitmap(_0xe52e30,{'premultiplyAlpha':'none','colorSpaceConversion':'none'})['then'](_0x56bf18=>_0x38bf97(null,_0x56bf18))['catch'](_0x265473=>_0x38bf97(_0x265473));}}const If=[0x3*-0x2add2b71+-0x1*-0x24bcbecb+0xb42f0f33,0x108c5fc96+0x2429e069*-0x9+0xf7e4183b,-0x14085c2a+0x341eb2+0x1dee4785],Qk={0x83f0:td,0x83f2:op,0x83f3:vl,0x8d64:id,0x9274:cp,0x9278:hp,0x8c00:rd,0x8c01:xl,0x8c02:ad,0x8c03:Tl,0x8051:Cr,0x8058:Ne,0x8c41:lp,0x8c43:_s,0x8c3a:In,0x881b:ui,0x881a:nt};function Jk(_0x139365,_0x17cfbb,_0x1df441,_0x3fa184){return _0x139365===In?new Uint32Array(_0x17cfbb,_0x1df441,_0x3fa184/(-0x16b4+0x1cc1+-0x609)):new Uint8Array(_0x17cfbb,_0x1df441,_0x3fa184);}class eU extends eo{constructor(_0x5553b3){super(),this['maxRetries']=0x4*-0x27e+-0x2f*-0xb3+0x16e5*-0x1;}['load'](_0x5bfdfd,_0x49b062,_0x3ed992){pe['fetchArray'+'Buffer'](_0x5bfdfd['load'],_0x49b062,_0x3ed992,this['maxRetries']);}['open'](_0x45bfd2,_0x3ac44d,_0x59483f,_0x23ce36={}){const _0x25b4a9=this['parse'](_0x3ac44d);if(!_0x25b4a9)return null;const _0x52a794=_0x23ce36['srgb']?ld(_0x25b4a9['format']):_0x25b4a9['format'],_0x2a3c90=new _e(_0x59483f,{'name':_0x45bfd2,'profilerHint':Pr,'addressU':_0x25b4a9['cubemap']?ue:yt,'addressV':_0x25b4a9['cubemap']?ue:yt,'width':_0x25b4a9['width'],'height':_0x25b4a9['height'],'format':_0x52a794,'cubemap':_0x25b4a9['cubemap'],'levels':_0x25b4a9['levels'],..._0x23ce36});return _0x2a3c90['upload'](),_0x2a3c90;}['parse'](_0x490837){const _0x3d09e8=new Uint32Array(_0x490837);if(If[-0xaca+-0x4*0x4ca+0x2*0xef9]!==_0x3d09e8[0x281*-0xf+0x1*0x1387+0x1208]||If[-0xa8*0x10+-0x21d5+0x5*0x8de]!==_0x3d09e8[0x79*0x25+0x209*0x1+0x107*-0x13]||If[0x2*0xe72+-0x111e+-0x4*0x2f1]!==_0x3d09e8[0x2246*-0x1+0x7*0x551+-0x2ef])return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX\x20f'+'ile.\x20Expec'+'ted\x200xAB4B'+'5458,\x200x20'+'3131BB,\x200x'+'0D0A1A0A'),null;const _0x2d31df={'endianness':_0x3d09e8[-0xbf*0x4+0x1e46+-0x1b47],'glType':_0x3d09e8[0x23ee+0x5*-0x266+-0x17ec],'glTypeSize':_0x3d09e8[-0x190*0x5+-0xf26+-0x6f*-0x35],'glFormat':_0x3d09e8[-0x1b2a+0x1a2+0x198e],'glInternalFormat':_0x3d09e8[0xf5*-0xd+0x6d9*0x3+0x1*-0x813],'glBaseInternalFormat':_0x3d09e8[-0x60*-0x3+-0x5*-0xf8+0x1*-0x5f0],'pixelWidth':_0x3d09e8[0x65+-0x1fff*0x1+0x1fa3],'pixelHeight':_0x3d09e8[0xe27+-0x4ca+-0x1f*0x4d],'pixelDepth':_0x3d09e8[0x3a9*0x2+-0xca9+0x562],'numberOfArrayElements':_0x3d09e8[0x62*-0x20+0x18af+-0xc63],'numberOfFaces':_0x3d09e8[0x9*-0xbf+0x4a0+0x4*0x89],'numberOfMipmapLevels':_0x3d09e8[-0x3a*0x36+-0x1*-0x1cfe+-0x10b4],'bytesOfKeyValueData':_0x3d09e8[0x1*-0x1e98+-0x3*0x135+0x2246]};if(_0x2d31df['pixelDepth']>0x587*0x1+-0xe78*-0x1+-0x13fe)return w['warn']('More\x20than\x20'+'1\x20pixel\x20de'+'pth\x20not\x20su'+'pported!'),null;if(_0x2d31df['numberOfAr'+'rayElement'+'s']!==-0x22a8+-0xc*-0x1de+-0xc40*-0x1)return w['warn']('Array\x20text'+'ure\x20not\x20su'+'pported!'),null;const _0x2286d5=Qk[_0x2d31df['glInternal'+'Format']];if(_0x2286d5===void(-0x61*0x30+0x1025+0x20b))return w['warn']('Unknown\x20gl'+'InternalFo'+'rmat:\x20'+_0x2d31df['glInternal'+'Format']),null;let _0x21c865=-0x3*0x677+0x21de+-0xd9*0x11+_0x2d31df['bytesOfKey'+'ValueData']/(-0x21*-0xa7+0xa4b+-0x1fce);const _0x2b20a2=_0x2d31df['numberOfFa'+'ces']>0xc2*-0xa+0x4*-0x46c+0x1*0x1945,_0x4496ba=[];for(let _0xf555f0=-0x1130+-0x8dd*-0x2+-0x2*0x45;_0xf555f0<(_0x2d31df['numberOfMi'+'pmapLevels']||0x4*-0x8c5+-0xe2f*-0x1+-0x42e*-0x5);_0xf555f0++){const _0x5f024b=_0x3d09e8[_0x21c865++];_0x2b20a2&&_0x4496ba['push']([]);const _0x75f190=_0x2b20a2?_0x4496ba[_0xf555f0]:_0x4496ba;for(let _0x3643d8=-0xdfb+0xed9+-0x25*0x6;_0x3643d8<(_0x2b20a2?-0x1cce+0x37f*0x3+0x1257:-0x8a0+0x1*-0x26ed+0xfda*0x3);++_0x3643d8)_0x75f190['push'](Jk(_0x2286d5,_0x490837,_0x21c865*(0x1*0x2347+-0x2*0x959+-0x1*0x1091),_0x5f024b)),_0x21c865+=_0x5f024b+(0x236e+-0xc6e+-0x16fd)>>-0x1032*-0x1+0x669*-0x4+0x14*0x79;}return{'format':_0x2286d5,'width':_0x2d31df['pixelWidth'],'height':_0x2d31df['pixelHeigh'+'t'],'levels':_0x4496ba,'cubemap':_0x2b20a2};}}const tU={'KHR_DF_MODEL_UASTC':0xa6};class sU extends eo{constructor(_0x381b83,_0x10d00a){super(),this['maxRetries']=-0xa60+-0xfb5*-0x1+-0x15*0x41,this['device']=_0x10d00a;}['load'](_0x2fb558,_0x2181e3,_0x1a6d4f){pe['fetchArray'+'Buffer'](_0x2fb558['load'],(_0x3042a2,_0xe6a96d)=>{_0x3042a2?_0x2181e3(_0x3042a2,_0xe6a96d):this['parse'](_0xe6a96d,_0x2fb558,_0x2181e3,_0x1a6d4f);},_0x1a6d4f,this['maxRetries']);}['open'](_0x19d3f2,_0x302aab,_0x5793ea,_0x40c7e9={}){const _0x52a315=_0x40c7e9['srgb']?ld(_0x302aab['format']):_0x302aab['format'],_0x144ffd=new _e(_0x5793ea,{'name':_0x19d3f2,'profilerHint':Pr,'addressU':_0x302aab['cubemap']?ue:yt,'addressV':_0x302aab['cubemap']?ue:yt,'width':_0x302aab['width'],'height':_0x302aab['height'],'format':_0x52a315,'cubemap':_0x302aab['cubemap'],'levels':_0x302aab['levels'],..._0x40c7e9});return _0x144ffd['upload'](),_0x144ffd;}['parse'](_0x691d6,_0x148ec8,_0xd9af0b,_0xba1998){var _0x117e04,_0x5db96f,_0x408ee8;const _0x28517d=new KS(_0x691d6),_0x1a7d0e=[_0x28517d['readU32be'](),_0x28517d['readU32be'](),_0x28517d['readU32be']()];if(_0x1a7d0e[-0x269a+0x1*-0x709+0x2da3]!==0x154103dd7+-0x1*0xd473ae1b+0x2baec49c||_0x1a7d0e[0xc83*0x1+-0x529+-0x759]!==0x36dbf765+-0x583543a+-0x350*0x52d6b||_0x1a7d0e[-0x1017+-0x1ec1*0x1+-0x1*-0x2eda]!==-0xa829b8a+0x128f75*-0x11a+0x2bfebc76)return w['warn']('Invalid\x20de'+'finition\x20h'+'eader\x20foun'+'d\x20in\x20KTX2\x20'+'file.\x20Expe'+'cted\x200xAB4'+'B5458,\x200x2'+'03131BB,\x200'+'x0D0A1A0A'),null;const _0x440f9b={'vkFormat':_0x28517d['readU32'](),'typeSize':_0x28517d['readU32'](),'pixelWidth':_0x28517d['readU32'](),'pixelHeight':_0x28517d['readU32'](),'pixelDepth':_0x28517d['readU32'](),'layerCount':_0x28517d['readU32'](),'faceCount':_0x28517d['readU32'](),'levelCount':_0x28517d['readU32'](),'supercompressionScheme':_0x28517d['readU32']()},_0x257e37={'dfdByteOffset':_0x28517d['readU32'](),'dfdByteLength':_0x28517d['readU32'](),'kvdByteOffset':_0x28517d['readU32'](),'kvdByteLength':_0x28517d['readU32'](),'sgdByteOffset':_0x28517d['readU64'](),'sgdByteLength':_0x28517d['readU64']()},_0x516bc5=[];for(let _0x5cb64a=-0x18a2+-0xa3b*0x2+-0xd*-0x378;_0x5cb64a<Math['max'](0x1c4a+0x1191+0x1*-0x2dda,_0x440f9b['levelCount']);++_0x5cb64a)_0x516bc5['push']({'byteOffset':_0x28517d['readU64'](),'byteLength':_0x28517d['readU64'](),'uncompressedByteLength':_0x28517d['readU64']()});if(_0x28517d['readU32']()!==_0x257e37['kvdByteOff'+'set']-_0x257e37['dfdByteOff'+'set'])return w['warn']('Invalid\x20fi'+'le\x20data\x20en'+'countered.'),null;_0x28517d['skip'](0x2444+-0x2*0x731+-0x15da);const _0x296507=_0x28517d['readU8']();_0x28517d['skip'](_0x257e37['dfdByteLen'+'gth']-(-0x127b*-0x1+0x13+-0x1285)),_0x28517d['skip'](_0x257e37['kvdByteLen'+'gth']),_0x440f9b['supercompr'+'essionSche'+'me']===0x4*-0x2cd+-0x2*0x8f+0x1*0xc53||_0x296507===tU['KHR_DF_MOD'+'EL_UASTC']?b0(this['device'],_0x148ec8['load'],_0x691d6,_0xd9af0b,{'isGGGR':(((_0x408ee8=(_0x5db96f=(_0x117e04=_0xba1998==null?void(0x1f99*-0x1+-0x7*0x202+0x2da7):_0xba1998['file'])==null?void(-0x3a3*-0x7+0x1aa2+-0x3417):_0x117e04['variants'])==null?void(0x1c08+-0x1615+-0x5f3):_0x5db96f['basis'])==null?void(-0x1*-0x1b05+-0x2*-0xec+0x99f*-0x3):_0x408ee8['opt'])&0x902*-0x1+-0x3a*0x7d+0x1*0x255c)!==-0x14cc+-0x923*0x2+0x683*0x6,'isKTX2':!(-0x54f+0xa*0x396+-0x9*0x365)})||_0xd9af0b('Basis\x20modu'+'le\x20not\x20fou'+'nd.\x20Asset\x20'+'['+_0xba1998['name']+']('+_0xba1998['getFileUrl']()+(')\x20basis\x20te'+'xture\x20vari'+'ant\x20will\x20n'+'ot\x20be\x20load'+'ed.')):_0xd9af0b('unsupporte'+'d\x20KTX2\x20pix'+'el\x20format');}}class iU extends eo{constructor(_0x5a63aa){super(),this['maxRetries']=0x3c*0x1f+0x140+-0x884;}['load'](_0x3a6b9d,_0x157af2,_0x4780b4){pe['fetchArray'+'Buffer'](_0x3a6b9d['load'],_0x157af2,_0x4780b4,this['maxRetries']);}['open'](_0x2d650d,_0x48f80d,_0x41dd9f,_0x3cf14c={}){const _0x1051c2=new Uint32Array(_0x48f80d,-0x2d*-0x37+-0x1eb+-0x7c0,-0x1*0x2051+0x166a+0x97*0x11),_0x57575a=_0x1051c2[-0x2*0x1096+-0x13ef+0x351f],_0x5a8f99=_0x1051c2[-0x1*-0x3ad+-0x1*0xc46+-0x4*-0x227],_0x5840e6=Math['max'](_0x1051c2[-0x100c+0x177f*0x1+-0x76c],-0x18*-0x18b+0x1790+-0x3c97),_0x5e8f5b=_0x1051c2[0x2252+0x80*0x4e+-0x4e2*0xf]===0x1899+-0x93a+0xf5b*-0x1,_0x455238=_0x1051c2[0x1*-0x19f6+-0x42*0x5d+0x3205],_0x34d078=_0x1051c2[0x2*0xc89+0x14c7+-0x2dc3],_0x1376ba=_0x1051c2[0x1f91*-0x1+-0x5bf+0x256c]===0x1a6*-0x77+0x2ee7+0x5*0x50a7,_0x54fbb8=-0xab32cc2*-0x4+-0x195*0x379859+0x5e7baa09,_0x190f5a=0x7b0362c+-0xc6f6c12+0x339f9ad*0x12,_0x65f840=0x1d66+-0x36c*-0xa+-0x3f2d,_0x32b71d=-0x11*-0x163+-0x1*-0x2580+-0x3c9f,_0xf8d262=0x3ebe449*0x16+-0x1f749dc8+0x1d9e413*-0x3,_0x12e09e=0x89c509*0x97+0x1*-0x50a19fd6+-0x99*-0x5143ef,_0x3949f9=0x1e2881d4+0x33126c14+-0x2006bb98,_0x4061f2=-0x726f9a9*-0x5+-0x1a909cfc+0x2800f0ff,_0x56b4e6=0x3eff9112+-0x412b6e47+-0x1*-0x33601185;let _0x5c0cb5=!(-0xf*0xc0+-0x10a1+0x1be2),_0x4afb95=!(-0x1169+0x22f8+-0x1*0x118e),_0x386d89=!(-0x1e3*-0xd+-0x5*-0x2ed+0xd0d*-0x3),_0x59f48f=!(-0x14*-0x151+0x29*0xe+-0x1c91),_0x4ffa8b=null,_0x390485=0x2*-0xe5f+0x4be*0x7+-0x473*0x1,_0xc3da0a;if(_0x5e8f5b?_0x455238===_0x54fbb8?(_0x4ffa8b=td,_0x5c0cb5=!(-0x1*0xd1d+0x2*-0x10f2+0x2f01)):_0x455238===_0x190f5a?(_0x4ffa8b=vl,_0x5c0cb5=!(-0x22f0+-0x1439+0x3729)):_0x455238===_0x65f840?(_0x4ffa8b=nt,_0x390485=0x1*-0x1ebf+-0x8b0+-0x1*-0x2771):_0x455238===_0x32b71d?(_0x4ffa8b=Xt,_0x390485=0x1*-0x13c+0x5db+-0x49b):_0x455238===_0xf8d262?(_0x4ffa8b=id,_0x5c0cb5=!(0x4*0x262+-0x5*-0xe3+0x1*-0xdf7),_0x4afb95=!(-0x4cc*0x2+0xef0+0x39*-0x18)):_0x455238===_0x12e09e||_0x455238===_0x3949f9?(_0x4ffa8b=_0x455238===_0x12e09e?xl:Tl,_0x5c0cb5=!(-0x3*-0x6a5+0x195b+0x3e*-0xbb),_0x386d89=!(-0x212a+0x1cff+0x42b)):(_0x455238===_0x4061f2||_0x455238===_0x56b4e6)&&(_0x4ffa8b=_0x455238===_0x4061f2?rd:ad,_0x5c0cb5=!(-0x1c8c+-0x43*-0x5a+-0x1aa*-0x3),_0x59f48f=!(-0x2*0x6ad+-0x1*-0x254f+-0x17f5)):_0x34d078===-0x2267*-0x1+0xfb9+-0x3200&&(_0x4ffa8b=Ne),!_0x4ffa8b)return w['error']('This\x20DDS\x20p'+'ixel\x20forma'+'t\x20is\x20curre'+'ntly\x20unsup'+'ported.\x20Em'+'pty\x20textur'+'e\x20will\x20be\x20'+'created\x20in'+'stead\x20of\x20'+_0x2d650d+'.'),_0xc3da0a=new _e(_0x41dd9f,{'width':0x4,'height':0x4,'format':Cr,'name':'dds-legacy'+'-empty'}),_0xc3da0a;_0xc3da0a=new _e(_0x41dd9f,{'name':_0x2d650d,'profilerHint':Pr,'addressU':_0x1376ba?ue:yt,'addressV':_0x1376ba?ue:yt,'width':_0x57575a,'height':_0x5a8f99,'format':_0x4ffa8b,'cubemap':_0x1376ba,'mipmaps':_0x5840e6>-0x1c53+-0x604+-0x2258*-0x1,..._0x3cf14c});let _0xfd73c5=0x1*0x1e62+0x500*0x1+-0x22e2;const _0x5b85f5=_0x1376ba?0x4d4+-0x1*-0x7bb+0xc89*-0x1:-0x772+0x235a+-0x3*0x94d;let _0x55d895;const _0x4504e5=0x1cd5+-0x2f*0x85+-0x1*0x466,_0x3ffff3=-0x70e*0x4+0xe6b*0x2+-0x2*0x4d,_0x15a630=_0x455238===_0x54fbb8?0x7e2+-0x10*-0x196+0x109d*-0x2:0x2*0xc85+0x15fa+-0x2ef4;let _0x499bbd,_0x4510a6,_0x48aaec;for(let _0x205b11=0x48a*-0x1+-0x2129+0x25b3;_0x205b11<_0x5b85f5;_0x205b11++){let _0xacad8f=_0x57575a,_0xd821d5=_0x5a8f99;for(let _0x176c85=-0x20e0+-0x4e*0x1b+0x291a*0x1;_0x176c85<_0x5840e6;_0x176c85++){_0x5c0cb5?_0x4afb95?_0x55d895=Math['floor']((_0xacad8f+(-0x2d0*0x8+0x2*0x187+0x1375))/(0x14*0xac+0x3b8*-0x4+0x1*0x174))*Math['floor']((_0xd821d5+(-0xa81*0x1+0x17f8+0xe*-0xf6))/(0x4*0x68c+-0x4d7+-0x1555))*(0x1b90+0x1826+-0x3f*0xd2):_0x386d89?_0x55d895=Math['max'](_0xacad8f,-0x136e+0x16f9+-0x37b)*Math['max'](_0xd821d5,0x222e+0x684+0x3*-0xd8e)/(-0x1b76+-0xfe2+0xde*0x32):_0x59f48f?_0x55d895=Math['max'](_0xacad8f,-0x1ab5+-0xb*0x12c+0x1*0x27a1)*Math['max'](_0xd821d5,-0x25ed+0x26eb+-0x2*0x7b)/(-0x332+0x1514+-0x11e*0x10):(_0x499bbd=Math['floor']((_0xacad8f+_0x4504e5-(0x1d*-0x21+0x5f6+-0x238))/_0x4504e5),_0x4510a6=Math['floor']((_0xd821d5+_0x3ffff3-(0x3e0+0x1*-0xac1+-0x1*-0x6e2))/_0x3ffff3),_0x48aaec=_0x499bbd*_0x4510a6,_0x55d895=_0x48aaec*_0x15a630):_0x55d895=_0xacad8f*_0xd821d5*(0x1*0x1651+0x449*0x3+-0x2328);const _0x44bcb7=_0x4ffa8b===Xt?new Float32Array(_0x48f80d,_0xfd73c5,_0x55d895):_0x4ffa8b===nt?new Uint16Array(_0x48f80d,_0xfd73c5,_0x55d895):new Uint8Array(_0x48f80d,_0xfd73c5,_0x55d895);_0x1376ba?(_0xc3da0a['_levels'][_0x176c85]||(_0xc3da0a['_levels'][_0x176c85]=[]),_0xc3da0a['_levels'][_0x176c85][_0x205b11]=_0x44bcb7):_0xc3da0a['_levels'][_0x176c85]=_0x44bcb7,_0xfd73c5+=_0x55d895*_0x390485,_0xacad8f=Math['max'](_0xacad8f*(-0xab*0xd+-0x16*-0x167+-0x162b+0.5),-0x20f6*0x1+0x773*0x3+0x3*0x38a),_0xd821d5=Math['max'](_0xd821d5*(0x3b*0x59+0x355*0x1+-0x17d8+0.5),-0x1*-0x1b3e+-0x962+-0x11db);}}return _0xc3da0a['upload'](),_0xc3da0a;}}class rU extends eo{constructor(_0x50cba8){super(),this['maxRetries']=0x463*0x8+-0x17d*-0x18+-0x46d0;}['load'](_0x2fbba6,_0x5bab8b,_0x3d738b){pe['fetchArray'+'Buffer'](_0x2fbba6['load'],_0x5bab8b,_0x3d738b,this['maxRetries']),_0x3d738b['data']&&!_0x3d738b['data']['type']&&(_0x3d738b['data']['type']=mh);}['open'](_0x5b2e52,_0x30ac28,_0x2d4746,_0x21c355={}){const _0x5a7933=this['parse'](_0x30ac28);if(!_0x5a7933)return null;const _0x27f434=new _e(_0x2d4746,{'name':_0x5b2e52,'profilerHint':Pr,'addressU':yt,'addressV':ue,'minFilter':Te,'magFilter':Te,'width':_0x5a7933['width'],'height':_0x5a7933['height'],'levels':_0x5a7933['levels'],'format':Ne,'type':mh,'mipmaps':!(0x24d2+-0x1d2f*-0x1+-0x4200),..._0x21c355});return _0x27f434['upload'](),_0x27f434;}['parse'](_0x4cff30){const _0x3a5136=new KS(_0x4cff30);if(!_0x3a5136['readLine']()['startsWith']('#?RADIANCE'))return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20ma'+'gic'),null;const _0x407235={};for(;;){const _0x5ca9a0=_0x3a5136['readLine']();if(_0x5ca9a0['length']===0x2*-0x1283+-0x2099+-0x1*-0x459f)break;{const _0x523cb9=_0x5ca9a0['split']('=');_0x523cb9['length']===0x1c1*0x6+0x4*0x1a3+0x34*-0x54&&(_0x407235[_0x523cb9[0x5d2*-0x1+-0xc62*-0x1+-0x690]]=_0x523cb9[0xba4*0x1+0x116a+-0x9af*0x3]);}}if(!_0x407235['hasOwnProp'+'erty']('FORMAT'))return w['error']('radiance\x20h'+'eader\x20miss'+'ing\x20FORMAT'+'\x20variable'),null;const _0x1f968f=_0x3a5136['readLine']()['split']('\x20');if(_0x1f968f['length']!==0x2*-0x692+-0x1*-0x217d+-0x1455)return w['error']('radiance\x20h'+'eader\x20has\x20'+'invalid\x20re'+'solution'),null;const _0x414e19=parseInt(_0x1f968f[0x26a5+0x495*0x1+0x1*-0x2b39],-0x20*0x8a+-0x1*-0x211+0x1*0xf39),_0x135781=parseInt(_0x1f968f[-0xc14+-0x19e4+-0x7*-0x56d],0x1768+0x5*-0x3a5+-0x525),_0x6f6b71=this['_readPixel'+'s'](_0x3a5136,_0x135781,_0x414e19,_0x1f968f[-0x11*-0x61+0x25dd+-0x35*0xd6]==='-Y');return _0x6f6b71?{'width':_0x135781,'height':_0x414e19,'levels':[_0x6f6b71]}:null;}['_readPixel'+'s'](_0x3ed8d6,_0x4369b0,_0x4038c4,_0x228368){if(_0x4369b0<0xaae*0x2+-0x8dd*-0x1+-0x1e31||_0x4369b0>-0x754+0x97dc+0x1089*-0x1)return this['_readPixel'+'sFlat'](_0x3ed8d6,_0x4369b0,_0x4038c4);const _0x13c195=[-0x19d8+0x23ea+-0x1*0xa12,-0x23ce+0xdfa*0x1+0x15d4,0x86*0x35+-0x7*0x26e+-0xabc,0x43*-0xc+0x52c*-0x3+0x12a8*0x1];if(_0x3ed8d6['readArray'](_0x13c195),_0x13c195[0x3*-0xb9c+0xc1+0xd*0x29f]!==0x1193+-0x41d+-0xd74||_0x13c195[-0x22f7+0x184e+-0x69*-0x1a]!==0x1b40+-0x1*0x1712+0x3*-0x164||(_0x13c195[-0x12d1*0x1+0xac*-0x4+-0x1*-0x1583]&0x1*0x148d+-0x18bd+0x4b0)!==0x4*-0x664+0x1178+0x818)return _0x3ed8d6['skip'](-(-0x55*-0x8+-0x226*-0xd+-0x1e92)),this['_readPixel'+'sFlat'](_0x3ed8d6,_0x4369b0,_0x4038c4);const _0x8982a9=new ArrayBuffer(_0x4369b0*_0x4038c4*(0x1c71+-0x1224+-0xa49)),_0x388d1b=new Uint8Array(_0x8982a9);let _0x45bab1=_0x228368?-0x1196*0x2+-0x28e+0x25ba:_0x4369b0*(-0x3b7*0x7+0x25af*-0x1+0x3fb4)*(_0x4038c4-(-0x73d+-0x8e+0x7cc)),_0x563585,_0x4dc563,_0x17fc85,_0x116a2c,_0x3f4ef2,_0x53dd73;for(_0x4dc563=0x1ed0+0x11*0xe5+0x99*-0x4d;_0x4dc563<_0x4038c4;++_0x4dc563){if(_0x4dc563&&_0x3ed8d6['readArray'](_0x13c195),(_0x13c195[-0xb5*-0x17+0x4*0xf8+-0x1421]<<0x1aa7*-0x1+-0xbef*0x1+0x269e)+_0x13c195[0x1*0x743+0x1864+0x21c*-0xf]!==_0x4369b0)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'width'),null;for(_0x116a2c=0xb91+0x1d21+-0x28b2;_0x116a2c<-0x14ea*-0x1+-0x1bc*-0x4+-0x1bd6;++_0x116a2c)for(_0x563585=0xce6*-0x1+-0x3*0x125+0x1*0x1055;_0x563585<_0x4369b0;)if(_0x3f4ef2=_0x3ed8d6['readU8'](),_0x3f4ef2>0x1651+-0x215*0xe+-0x755*-0x1){if(_0x3f4ef2-=-0x54*0x76+0x1dac+0x98c,_0x563585+_0x3f4ef2>_0x4369b0)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x53dd73=_0x3ed8d6['readU8'](),_0x17fc85=-0x1*0x218+0x2635+0x2b*-0xd7;_0x17fc85<_0x3f4ef2;++_0x17fc85)_0x388d1b[_0x45bab1+_0x116a2c+(0x16ff+-0x1fe1+0x8e6)*_0x563585++]=_0x53dd73;}else{if(_0x3f4ef2===0x5b*-0x20+0x669+0x4f7||_0x563585+_0x3f4ef2>_0x4369b0)return w['error']('radiance\x20h'+'as\x20invalid'+'\x20scanline\x20'+'data'),null;for(_0x17fc85=-0x1e71+-0x3d6*0x6+-0x23*-0x187;_0x17fc85<_0x3f4ef2;++_0x17fc85)_0x388d1b[_0x45bab1+_0x116a2c+(0x1329+0x1*-0x15f5+0x90*0x5)*_0x563585++]=_0x3ed8d6['readU8']();}_0x45bab1+=_0x4369b0*(0xac1+0x10d5+0x1b92*-0x1)*(_0x228368?0x1e1+-0xb07*0x3+0x1f35:-(-0x61*0x2+0x1*-0x168e+-0x1751*-0x1));}return _0x388d1b;}['_readPixel'+'sFlat'](_0x108539,_0x39954f,_0x48307f){return _0x108539['remainingB'+'ytes']===_0x39954f*_0x48307f*(-0xba5+-0x233*-0x8+-0x5ef)?new Uint8Array(_0x108539['arraybuffe'+'r'],_0x108539['offset']):null;}}const TS={'repeat':yt,'clamp':ue,'mirror':ip},wS={'nearest':Te,'linear':vt,'nearest_mip_nearest':Kh,'linear_mip_nearest':Qh,'nearest_mip_linear':Zh,'linear_mip_linear':ma},aU={'default':Ds,'rgbm':Zi,'rgbe':mh,'rgbp':Qo,'swizzleGGGR':Jo},nU=function(_0x24b230){const _0x18f828=Xi['calcMipLev'+'elsCount'](_0x24b230['_width'],_0x24b230['_height']),_0x2d2892=function(_0x370ca9){return _0x370ca9 instanceof HTMLCanvasElement||_0x370ca9 instanceof HTMLImageElement||_0x370ca9 instanceof HTMLVideoElement;};if(!(_0x24b230['_format']===Ne||_0x24b230['_format']===Xt)||_0x24b230['_volume']||_0x24b230['_compresse'+'d']||_0x24b230['_levels']['length']===0x1*0x20cd+0x1899+0x7*-0x833||_0x24b230['_levels']['length']===_0x18f828||_0x2d2892(_0x24b230['_cubemap']?_0x24b230['_levels'][0x15f9+-0xa7b*-0x1+-0x2074][-0x14*0xd4+0x1d3+-0xb*-0x157]:_0x24b230['_levels'][0x17da+-0x1*-0x20c3+0x1*-0x389d]))return;const _0x206b45=function(_0x747900,_0x44124c,_0x128308){const _0x3049f7=Math['max'](-0x7e0+-0xec2*0x1+0x16a3,_0x747900>>-0x783*-0x4+-0x5a3*-0x2+0x1*-0x2951),_0x4e1355=Math['max'](-0x3*-0xacf+-0x2126*-0x1+0x4af*-0xe,_0x44124c>>0x132e+-0x1ea8+0xb7b),_0x1c5402=new _0x128308['constructo'+'r'](_0x3049f7*_0x4e1355*(-0x6*-0x106+0x7*-0xb7+0x1*-0x11f)),_0x59561b=Math['floor'](_0x747900/_0x3049f7),_0x5ea65b=Math['floor'](_0x44124c/_0x4e1355),_0x34536c=_0x59561b*_0x5ea65b;for(let _0x8c2c8a=0x9d9*0x3+-0x25a7+0x3*0x2b4;_0x8c2c8a<_0x4e1355;++_0x8c2c8a)for(let _0x5d1f6c=-0xfa*0x5+0x1544+-0x576*0x3;_0x5d1f6c<_0x3049f7;++_0x5d1f6c)for(let _0x2e741c=-0x639+-0x6d8*-0x2+-0x777;_0x2e741c<-0x245d*-0x1+-0x551*-0x7+-0x4990;++_0x2e741c){let _0x141eaa=-0x1*-0x15b3+0x1*-0x116f+-0x444;for(let _0x36b625=0x18*-0x2b+0x1c9*0x3+0x1*-0x153;_0x36b625<_0x5ea65b;++_0x36b625)for(let _0x51ef45=0x1586*0x1+0x2651+-0x3bd7;_0x51ef45<_0x59561b;++_0x51ef45)_0x141eaa+=_0x128308[(_0x5d1f6c*_0x59561b+_0x51ef45+(_0x8c2c8a*_0x5ea65b+_0x36b625)*_0x747900)*(-0x1fe9*0x1+0x1*0x2339+-0x34c)+_0x2e741c];_0x1c5402[(_0x5d1f6c+_0x8c2c8a*_0x3049f7)*(0x685*0x4+-0x581*-0x2+-0x2512)+_0x2e741c]=_0x141eaa/_0x34536c;}return _0x1c5402;};for(let _0x3c3125=_0x24b230['_levels']['length'];_0x3c3125<_0x18f828;++_0x3c3125){const _0x49d8a0=Math['max'](-0x25e8+-0x1ad0+0x3f*0x107,_0x24b230['_width']>>_0x3c3125-(-0x511*0x4+0xcf*0x1f+-0x266*0x2)),_0x4a0c48=Math['max'](-0xfda+-0x1*-0x17ed+0x812*-0x1,_0x24b230['_height']>>_0x3c3125-(-0x13bf+0x1221+0x19f));if(_0x24b230['_cubemap']){const _0x52aca0=[];for(let _0x5c7ae8=0x2ba+0x24d9*-0x1+0x6d3*0x5;_0x5c7ae8<0x20ad+-0x1808+-0x89f;++_0x5c7ae8)_0x52aca0['push'](_0x206b45(_0x49d8a0,_0x4a0c48,_0x24b230['_levels'][_0x3c3125-(-0x7f*0x3+0x114f+-0xfd1)][_0x5c7ae8]));_0x24b230['_levels']['push'](_0x52aca0);}else _0x24b230['_levels']['push'](_0x206b45(_0x49d8a0,_0x4a0c48,_0x24b230['_levels'][_0x3c3125-(-0x6f8+-0x1*-0x132f+0x412*-0x3)]));}_0x24b230['_levelsUpd'+'ated']=_0x24b230['_cubemap']?[[!(-0x7*-0x3ae+0x41a+0x31*-0x9c),!(0x20ec+-0x5*-0x259+-0x2ca9),!(0x113+0x1*0x1345+-0x1458),!(-0x1*-0x33b+-0x1715*-0x1+-0x1a50),!(0x1aad+0x517*0x2+-0x24db),!(-0x2*0xfa3+0x1*-0x21c7+0x410d)]]:[!(0x258+-0x6b6+0x1a*0x2b)];};class oU extends Qe{constructor(_0x3ad3fc){super(_0x3ad3fc,'texture');const _0x33aec2=_0x3ad3fc['assets'],_0x449e58=_0x3ad3fc['graphicsDe'+'vice'];this['_device']=_0x449e58,this['_assets']=_0x33aec2,this['imgParser']=new Zk(_0x33aec2,_0x449e58),this['parsers']={'dds':new iU(_0x33aec2),'ktx':new eU(_0x33aec2),'ktx2':new sU(_0x33aec2,_0x449e58),'basis':new qk(_0x33aec2,_0x449e58),'hdr':new rU(_0x33aec2)};}set['crossOrigi'+'n'](_0x4b8b37){this['imgParser']['crossOrigi'+'n']=_0x4b8b37;}get['crossOrigi'+'n'](){return this['imgParser']['crossOrigi'+'n'];}set['maxRetries'](_0x4204da){this['imgParser']['maxRetries']=_0x4204da;for(const _0x56bc84 in this['parsers'])this['parsers']['hasOwnProp'+'erty'](_0x56bc84)&&(this['parsers'][_0x56bc84]['maxRetries']=_0x4204da);}get['maxRetries'](){return this['imgParser']['maxRetries'];}['_getUrlWit'+'houtParams'](_0x84f434){return _0x84f434['indexOf']('?')>=-0x1d3*-0x5+-0x74f*0x1+-0x1d0?_0x84f434['split']('?')[0x15de+0x10*-0x16a+-0x2*-0x61]:_0x84f434;}['_getParser'](_0x258009){const _0x478206=xe['getExtensi'+'on'](this['_getUrlWit'+'houtParams'](_0x258009))['toLowerCas'+'e']()['replace']('.','');return this['parsers'][_0x478206]||this['imgParser'];}['_getTextur'+'eOptions'](_0xd0b4c9){var _0x4430f0;const _0x70afc0={'profilerHint':Pr};if(_0xd0b4c9){((_0x4430f0=_0xd0b4c9['name'])==null?void(0x2533+0x2*0x12e1+-0x4af5):_0x4430f0['length'])>0x2*-0xc6a+-0x1*-0xdee+-0x1e*-0x5d&&(_0x70afc0['name']=_0xd0b4c9['name']);const _0x546786=_0xd0b4c9['data'];_0x546786['hasOwnProp'+'erty']('minfilter')&&(_0x70afc0['minFilter']=wS[_0x546786['minfilter']]),_0x546786['hasOwnProp'+'erty']('magfilter')&&(_0x70afc0['magFilter']=wS[_0x546786['magfilter']]),_0x546786['hasOwnProp'+'erty']('addressu')&&(_0x70afc0['addressU']=TS[_0x546786['addressu']]),_0x546786['hasOwnProp'+'erty']('addressv')&&(_0x70afc0['addressV']=TS[_0x546786['addressv']]),_0x546786['hasOwnProp'+'erty']('mipmaps')&&(_0x70afc0['mipmaps']=_0x546786['mipmaps']),_0x546786['hasOwnProp'+'erty']('anisotropy')&&(_0x70afc0['anisotropy']=_0x546786['anisotropy']),_0x546786['hasOwnProp'+'erty']('flipY')&&(_0x70afc0['flipY']=!!_0x546786['flipY']),_0x546786['hasOwnProp'+'erty']('srgb')&&(_0x70afc0['srgb']=!!_0x546786['srgb']),_0x70afc0['type']=Ds,_0x546786['hasOwnProp'+'erty']('type')?_0x70afc0['type']=aU[_0x546786['type']]:_0x546786['hasOwnProp'+'erty']('rgbm')&&_0x546786['rgbm']?_0x70afc0['type']=Zi:_0xd0b4c9['file']&&(_0xd0b4c9['file']['opt']&0xe6e+-0x2365+0xd7*0x19)!==-0x3*0x305+-0x1794+0x20a3&&(_0x70afc0['type']=Jo);}return _0x70afc0;}['load'](_0x453140,_0x386c92,_0x9676db){typeof _0x453140=='string'&&(_0x453140={'load':_0x453140,'original':_0x453140}),this['_getParser'](_0x453140['original'])['load'](_0x453140,_0x386c92,_0x9676db);}['open'](_0x54246f,_0x37d41a,_0x3dbf7d){if(!_0x54246f)return;const _0x1e67d8=this['_getTextur'+'eOptions'](_0x3dbf7d);let _0x1f8d24=this['_getParser'](_0x54246f)['open'](_0x54246f,_0x37d41a,this['_device'],_0x1e67d8);return _0x1f8d24===null?_0x1f8d24=new _e(this['_device'],{'width':0x4,'height':0x4,'format':Cr}):(nU(_0x1f8d24),_0x37d41a['unswizzled'+'GGGR']&&(_0x3dbf7d['file']['variants']['basis']['opt']&=-(0x2*0xcd+0x1c94+-0x1e25))),_0x1f8d24;}['patch'](_0x4d498d,_0x4f0646){const _0x250597=_0x4d498d['resource'];if(!_0x250597)return;const _0x503e0c=this['_getTextur'+'eOptions'](_0x4d498d);for(const _0x4b0b66 of Object['keys'](_0x503e0c))_0x250597[_0x4b0b66]=_0x503e0c[_0x4b0b66];}}const lU='inline',cU='immersive-'+'vr',$o='immersive-'+'ar',ES='viewer',hU='left',dU='cpu-optimi'+'zed',P0='gpu-optimi'+'zed',M0='luminance-'+'alpha',D0='unsigned-s'+'hort',I0='float32';class fU{constructor(_0x38d023){h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRDOMOverl'+'ayState']),h(this,'_root',null),this['_manager']=_0x38d023;}get['supported'](){return this['_supported'];}get['available'](){return this['_supported']&&this['_manager']['active']&&this['_manager']['_session']['domOverlay'+'State']!==null;}get['state'](){return!this['_supported']||!this['_manager']['active']||!this['_manager']['_session']['domOverlay'+'State']?null:this['_manager']['_session']['domOverlay'+'State']['type'];}set['root'](_0x341a0d){!this['_supported']||this['_manager']['active']||(this['_root']=_0x341a0d);}get['root'](){return this['_root'];}}const Rc=[],bS=[];class ju extends me{constructor(_0x4323db,_0x549997,_0x4c788e,_0x54fa4b=null){super(),h(this,'manager'),h(this,'_xrHitTest'+'Source'),h(this,'_transient'),h(this,'_inputSour'+'ce'),(this['manager']=_0x4323db,this['_xrHitTest'+'Source']=_0x549997,this['_transient']=_0x4c788e,this['_inputSour'+'ce']=_0x54fa4b);}['remove'](){if(!this['_xrHitTest'+'Source'])return;const _0xa2fad6=this['manager']['hitTest']['sources'],_0x50f1a4=_0xa2fad6['indexOf'](this);_0x50f1a4!==-(0x2f*0x6c+-0x829+-0x5d5*0x2)&&_0xa2fad6['splice'](_0x50f1a4,0x1be*0x1+-0x2f1*0x1+0x134*0x1),this['onStop']();}['onStop'](){this['_xrHitTest'+'Source']['cancel'](),this['_xrHitTest'+'Source']=null,this['fire']('remove'),this['manager']['hitTest']['fire']('remove',this);}['update'](_0x13b9ab){if(this['_transient']){const _0x187c0c=_0x13b9ab['getHitTest'+'ResultsFor'+'TransientI'+'nput'](this['_xrHitTest'+'Source']);for(let _0x3b0a56=0x587+0x12b*0x16+0x1f39*-0x1;_0x3b0a56<_0x187c0c['length'];_0x3b0a56++){const _0x3624b3=_0x187c0c[_0x3b0a56];if(!_0x3624b3['results']['length'])continue;let _0x47e2fe;_0x3624b3['inputSourc'+'e']&&(_0x47e2fe=this['manager']['input']['_getByInpu'+'tSource'](_0x3624b3['inputSourc'+'e'])),this['updateHitR'+'esults'](_0x3624b3['results'],_0x47e2fe);}}else{const _0x5d0312=_0x13b9ab['getHitTest'+'Results'](this['_xrHitTest'+'Source']);if(!_0x5d0312['length'])return;this['updateHitR'+'esults'](_0x5d0312);}}['updateHitR'+'esults'](_0x207862,_0x111e6b){if(this['_inputSour'+'ce']&&this['_inputSour'+'ce']!==_0x111e6b)return;const _0x2e5c45=Rc['pop']()??new D();_0x111e6b?_0x2e5c45['copy'](_0x111e6b['getOrigin']()):_0x2e5c45['copy'](this['manager']['camera']['getPositio'+'n']());let _0x13158e=(0x1953+0x20d9+0x1*-0x3a2b)/(-0x7*0x357+0x24b*0x11+0x1*-0xf9a),_0x534203=null;const _0x1a6f71=Rc['pop']()??new D(),_0x48e9c0=bS['pop']()??new le();for(let _0x38488a=0xc77+-0x1e65+0x1*0x11ee;_0x38488a<_0x207862['length'];_0x38488a++){const _0x4f96db=_0x207862[_0x38488a]['getPose'](this['manager']['_reference'+'Space']),_0x9653bc=_0x2e5c45['distance'](_0x4f96db['transform']['position']);_0x9653bc>=_0x13158e||(_0x13158e=_0x9653bc,_0x534203=_0x207862[_0x38488a],_0x1a6f71['copy'](_0x4f96db['transform']['position']),_0x48e9c0['copy'](_0x4f96db['transform']['orientatio'+'n']));}this['fire']('result',_0x1a6f71,_0x48e9c0,_0x111e6b||this['_inputSour'+'ce'],_0x534203),this['manager']['hitTest']['fire']('result',this,_0x1a6f71,_0x48e9c0,_0x111e6b||this['_inputSour'+'ce'],_0x534203),Rc['push'](_0x2e5c45),Rc['push'](_0x1a6f71),bS['push'](_0x48e9c0);}}h(ju,'EVENT_REMO'+'VE','remove'),h(ju,'EVENT_RESU'+'LT','result');class jr extends me{constructor(_0x152155){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!(window['XRSession']&&window['XRSession']['prototype']['requestHit'+'TestSource'])),h(this,'_available',!(0x1643+-0x1e39+0x7f7)),h(this,'_checkingA'+'vailabilit'+'y',!(0x2360+-0x3c5*-0x6+0x1*-0x39fd)),h(this,'sources',[]),(this['manager']=_0x152155,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){if(this['manager']['session']['enabledFea'+'tures']){const _0x1b3141=this['manager']['session']['enabledFea'+'tures']['indexOf']('hit-test')!==-(-0x25*0x1f+0x16e0+0x932*-0x2);if(!_0x1b3141)return;this['_available']=_0x1b3141,this['fire']('available');}else this['_checkingA'+'vailabilit'+'y']||(this['_checkingA'+'vailabilit'+'y']=!(-0x642+0x1b2e+-0xd*0x19c),this['manager']['session']['requestRef'+'erenceSpac'+'e'](ES)['then'](_0x2d645e=>{this['manager']['session']['requestHit'+'TestSource']({'space':_0x2d645e})['then'](_0x4ddbc0=>{_0x4ddbc0['cancel'](),this['manager']['active']&&(this['_available']=!(-0x3bb+0xca*0x2+0x13*0x1d),this['fire']('available'));})['catch'](()=>{});})['catch'](()=>{}));}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0x64*-0x26+-0x1c23+0x2afc);for(let _0x2d6998=-0xb*0x7b+-0x1f*0x3a+0xc4f;_0x2d6998<this['sources']['length'];_0x2d6998++)this['sources'][_0x2d6998]['onStop']();this['sources']=[],this['fire']('unavailabl'+'e');}}['start'](_0x4faccf={}){var _0x21e0c5,_0x12bb03;if(!this['_supported']){(_0x21e0c5=_0x4faccf['callback'])==null||_0x21e0c5['call'](_0x4faccf,new Error('XR\x20HitTest'+'\x20is\x20not\x20su'+'pported'),null);return;}if(!this['_available']){(_0x12bb03=_0x4faccf['callback'])==null||_0x12bb03['call'](_0x4faccf,new Error('XR\x20HitTest'+'\x20is\x20not\x20av'+'ailable'),null);return;}!_0x4faccf['profile']&&!_0x4faccf['spaceType']&&(_0x4faccf['spaceType']=ES);let _0xe9a522;const _0x27acb1=_0x4faccf['offsetRay'];if(_0x27acb1){const _0x31d837=new DOMPoint(_0x27acb1['origin']['x'],_0x27acb1['origin']['y'],_0x27acb1['origin']['z'],0x1*0x127f+-0x181d+-0x1*-0x59f),_0x5201c7=new DOMPoint(_0x27acb1['direction']['x'],_0x27acb1['direction']['y'],_0x27acb1['direction']['z'],-0x2f*-0xa7+0x24cd*-0x1+-0x1*-0x624);_0xe9a522=new XRRay(_0x31d837,_0x5201c7);}const _0x17b144=_0x4faccf['callback'];_0x4faccf['spaceType']?this['manager']['session']['requestRef'+'erenceSpac'+'e'](_0x4faccf['spaceType'])['then'](_0x3211ed=>{if(!this['manager']['session']){const _0x32eddd=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(2)');_0x17b144&&_0x17b144(_0x32eddd),this['fire']('error',_0x32eddd);return;}this['manager']['session']['requestHit'+'TestSource']({'space':_0x3211ed,'entityTypes':_0x4faccf['entityType'+'s']||void(0x14e5*-0x1+-0x8ec*-0x1+0xbf9),'offsetRay':_0xe9a522})['then'](_0x24bfe5=>{this['_onHitTest'+'Source'](_0x24bfe5,!(0x3d6+-0xbde+0x809),_0x4faccf['inputSourc'+'e'],_0x17b144);})['catch'](_0x110551=>{_0x17b144&&_0x17b144(_0x110551),this['fire']('error',_0x110551);});})['catch'](_0x19e01d=>{_0x17b144&&_0x17b144(_0x19e01d),this['fire']('error',_0x19e01d);}):this['manager']['session']['requestHit'+'TestSource'+'ForTransie'+'ntInput']({'profile':_0x4faccf['profile'],'entityTypes':_0x4faccf['entityType'+'s']||void(0x2ab*0x2+0x1d78+0x87*-0x42),'offsetRay':_0xe9a522})['then'](_0x1cd5f1=>{this['_onHitTest'+'Source'](_0x1cd5f1,!(-0x2306*0x1+0x1*-0xd0d+-0x18d*-0x1f),_0x4faccf['inputSourc'+'e'],_0x17b144);})['catch'](_0x5c3ee0=>{_0x17b144&&_0x17b144(_0x5c3ee0),this['fire']('error',_0x5c3ee0);});}['_onHitTest'+'Source'](_0x1fd1a0,_0x21fc89,_0x14ea9b,_0x40e8c7){if(!this['manager']['session']){_0x1fd1a0['cancel']();const _0x388f08=new Error('XR\x20Session'+'\x20is\x20not\x20st'+'arted\x20(3)');_0x40e8c7&&_0x40e8c7(_0x388f08),this['fire']('error',_0x388f08);return;}const _0x58d6ac=new ju(this['manager'],_0x1fd1a0,_0x21fc89,_0x14ea9b??null);this['sources']['push'](_0x58d6ac),_0x40e8c7&&_0x40e8c7(null,_0x58d6ac),this['fire']('add',_0x58d6ac);}['update'](_0x2f9b53){if(this['_available']){for(let _0x1fb13a=0x18c1+-0xbfd+-0xac*0x13;_0x1fb13a<this['sources']['length'];_0x1fb13a++)this['sources'][_0x1fb13a]['update'](_0x2f9b53);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}}h(jr,'EVENT_AVAI'+'LABLE','available'),h(jr,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(jr,'EVENT_ADD','add'),h(jr,'EVENT_REMO'+'VE','remove'),h(jr,'EVENT_RESU'+'LT','result'),h(jr,'EVENT_ERRO'+'R','error');class Yu extends me{constructor(_0x2f150e,_0x40f028){super(),h(this,'_image'),h(this,'_width'),h(this,'_bitmap',null),h(this,'_measuredW'+'idth',-0x722+0x2*0x2cf+0x184),h(this,'_trackable',!(0x3a1+-0xeda+0xb3a)),h(this,'_tracking',!(0x1526+0x3a4*-0x8+0x7fb)),h(this,'_emulated',!(-0x10eb+0x471*0x3+-0x1*-0x399)),h(this,'_pose',null),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_image']=_0x2f150e,this['_width']=_0x40f028);}get['image'](){return this['_image'];}set['width'](_0x100bd2){this['_width']=_0x100bd2;}get['width'](){return this['_width'];}get['trackable'](){return this['_trackable'];}get['tracking'](){return this['_tracking'];}get['emulated'](){return this['_emulated'];}['prepare'](){return this['_bitmap']?{'image':this['_bitmap'],'widthInMeters':this['_width']}:createImageBitmap(this['_image'])['then'](_0x490159=>(this['_bitmap']=_0x490159,{'image':this['_bitmap'],'widthInMeters':this['_width']}));}['destroy'](){this['_image']=null,this['_pose']=null,this['_bitmap']&&(this['_bitmap']['close'](),this['_bitmap']=null);}['getPositio'+'n'](){return this['_pose']&&this['_position']['copy'](this['_pose']['transform']['position']),this['_position'];}['getRotatio'+'n'](){return this['_pose']&&this['_rotation']['copy'](this['_pose']['transform']['orientatio'+'n']),this['_rotation'];}}h(Yu,'EVENT_TRAC'+'KED','tracked'),h(Yu,'EVENT_UNTR'+'ACKED','untracked');class L0 extends me{constructor(_0x419bdd){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRImageTra'+'ckingResul'+'t']),h(this,'_available',!(-0xe96*0x2+0x1885+0x4a8*0x1)),h(this,'_images',[]),(this['_manager']=_0x419bdd,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['add'](_0x49e0c0,_0xe20311){if(!this['_supported']||this['_manager']['active'])return null;const _0x19b704=new Yu(_0x49e0c0,_0xe20311);return this['_images']['push'](_0x19b704),_0x19b704;}['remove'](_0x3019a1){if(this['_manager']['active'])return;const _0x1c0bee=this['_images']['indexOf'](_0x3019a1);_0x1c0bee!==-(0x1c37+0x20b0+0x3ce6*-0x1)&&(_0x3019a1['destroy'](),this['_images']['splice'](_0x1c0bee,-0xca7*-0x2+0xf03+0x28*-0x102));}['_onSession'+'Start'](){this['_manager']['session']['getTracked'+'ImageScore'+'s']()['then'](_0x10af68=>{this['_available']=!(-0x345*-0x7+-0x159*0x11+0x6);for(let _0x3428bc=0x2351*0x1+0x1942+-0x3c93;_0x3428bc<_0x10af68['length'];_0x3428bc++)this['_images'][_0x3428bc]['_trackable']=_0x10af68[_0x3428bc]==='trackable';})['catch'](_0x36a610=>{this['_available']=!(-0x12+-0x277*0xf+0x250c),this['fire']('error',_0x36a610);});}['_onSession'+'End'](){this['_available']=!(0xa89+0xd54*-0x1+0x2cc);for(let _0x43b7df=0x3*0x699+-0x2fb*-0xa+0x3199*-0x1;_0x43b7df<this['_images']['length'];_0x43b7df++){const _0x5ee59f=this['_images'][_0x43b7df];_0x5ee59f['_pose']=null,_0x5ee59f['_measuredW'+'idth']=-0xfa0+-0x14e6+0x2486,_0x5ee59f['_tracking']&&(_0x5ee59f['_tracking']=!(0x7*-0x111+0xa44+-0x2cc),_0x5ee59f['fire']('untracked'));}}['prepareIma'+'ges'](_0xc0b674){this['_images']['length']?Promise['all'](this['_images']['map'](_0x4a79a7=>_0x4a79a7['prepare']()))['then'](_0x26c015=>{_0xc0b674(null,_0x26c015);})['catch'](_0x486fd2=>{_0xc0b674(_0x486fd2,null);}):_0xc0b674(null,null);}['update'](_0x10abef){if(!this['_available'])return;const _0x502a8e=_0x10abef['getImageTr'+'ackingResu'+'lts'](),_0x25ae55={};for(let _0xa6e16d=-0x2a5+-0x35*-0x42+0xb05*-0x1;_0xa6e16d<_0x502a8e['length'];_0xa6e16d++){_0x25ae55[_0x502a8e[_0xa6e16d]['index']]=_0x502a8e[_0xa6e16d];const _0x5ce15d=this['_images'][_0x502a8e[_0xa6e16d]['index']];_0x5ce15d['_emulated']=_0x502a8e[_0xa6e16d]['trackingSt'+'ate']==='emulated',_0x5ce15d['_measuredW'+'idth']=_0x502a8e[_0xa6e16d]['measuredWi'+'dthInMeter'+'s'],_0x5ce15d['_pose']=_0x10abef['getPose'](_0x502a8e[_0xa6e16d]['imageSpace'],this['_manager']['_reference'+'Space']);}for(let _0x19ee3d=0x1439+0x119*-0x1f+-0x72*-0x1f;_0x19ee3d<this['_images']['length'];_0x19ee3d++)this['_images'][_0x19ee3d]['_tracking']&&!_0x25ae55[_0x19ee3d]?(this['_images'][_0x19ee3d]['_tracking']=!(-0x4e9+0x23*-0x5+0x599),this['_images'][_0x19ee3d]['fire']('untracked')):!this['_images'][_0x19ee3d]['_tracking']&&_0x25ae55[_0x19ee3d]&&(this['_images'][_0x19ee3d]['_tracking']=!(0x1fe0+0xc5e+0xe*-0x329),this['_images'][_0x19ee3d]['fire']('tracked'));}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['images'](){return this['_images'];}}h(L0,'EVENT_ERRO'+'R','error');class uU{constructor(_0x17f356,_0x555641){h(this,'_index'),h(this,'_hand'),h(this,'_joints',[]),h(this,'_tip',null),(this['_index']=_0x17f356,this['_hand']=_0x555641,this['_hand']['_fingers']['push'](this));}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['joints'](){return this['_joints'];}get['tip'](){return this['_tip'];}}const AS=Ae['browser']&&window['XRHand']?['thumb-tip','index-fing'+'er-tip','middle-fin'+'ger-tip','ring-finge'+'r-tip','pinky-fing'+'er-tip']:[],R0={};for(let l=-0x8e*-0x2f+0xfc9+0x29db*-0x1;l<AS['length'];l++)R0[AS[l]]=!(-0x1841+0x1*-0x1f4c+0x1*0x378d);class CS{constructor(_0x35f701,_0x27c48b,_0x3303f3,_0x38eb67=null){h(this,'_index'),h(this,'_id'),h(this,'_hand'),h(this,'_finger'),h(this,'_wrist'),h(this,'_tip'),h(this,'_radius',null),h(this,'_localTran'+'sform',new te()),h(this,'_worldTran'+'sform',new te()),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_dirtyLoca'+'l',!(0x1f*-0xdb+-0x1294*0x1+-0x1*-0x2d19)),(this['_index']=_0x35f701,this['_id']=_0x27c48b,this['_hand']=_0x3303f3,this['_finger']=_0x38eb67,this['_wrist']=_0x27c48b==='wrist',this['_tip']=this['_finger']&&!!R0[_0x27c48b]);}['update'](_0x4b242e){this['_dirtyLoca'+'l']=!(0x2419+0x1f16+-0x432f),this['_radius']=_0x4b242e['radius'],this['_localPosi'+'tion']['copy'](_0x4b242e['transform']['position']),this['_localRota'+'tion']['copy'](_0x4b242e['transform']['orientatio'+'n']);}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0x5dd*-0x5+-0x11*-0x14c+0x746),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0xfbf7cc=this['_hand']['_manager']['camera']['parent'];_0xfbf7cc?this['_worldTran'+'sform']['mul2'](_0xfbf7cc['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['getPositio'+'n'](){return this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position'];}['getRotatio'+'n'](){return this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation'];}get['id'](){return this['_id'];}get['index'](){return this['_index'];}get['hand'](){return this['_hand'];}get['finger'](){return this['_finger'];}get['wrist'](){return this['_wrist'];}get['tip'](){return this['_tip'];}get['radius'](){return this['_radius']||-0x1840*0x1+-0xe19*0x2+0x3472+0.005;}}let rh=[];const Wr=new D(),Oc=new D(),PS=new D();Ae['browser']&&window['XRHand']&&(rh=[['thumb-meta'+'carpal','thumb-phal'+'anx-proxim'+'al','thumb-phal'+'anx-distal','thumb-tip'],['index-fing'+'er-metacar'+'pal','index-fing'+'er-phalanx'+'-proximal','index-fing'+'er-phalanx'+'-intermedi'+'ate','index-fing'+'er-phalanx'+'-distal','index-fing'+'er-tip'],['middle-fin'+'ger-metaca'+'rpal','middle-fin'+'ger-phalan'+'x-proximal','middle-fin'+'ger-phalan'+'x-intermed'+'iate','middle-fin'+'ger-phalan'+'x-distal','middle-fin'+'ger-tip'],['ring-finge'+'r-metacarp'+'al','ring-finge'+'r-phalanx-'+'proximal','ring-finge'+'r-phalanx-'+'intermedia'+'te','ring-finge'+'r-phalanx-'+'distal','ring-finge'+'r-tip'],['pinky-fing'+'er-metacar'+'pal','pinky-fing'+'er-phalanx'+'-proximal','pinky-fing'+'er-phalanx'+'-intermedi'+'ate','pinky-fing'+'er-phalanx'+'-distal','pinky-fing'+'er-tip']]);class Ku extends me{constructor(_0xaa1317){super(),h(this,'_manager'),h(this,'_inputSour'+'ce'),h(this,'_tracking',!(0x1b6c+-0x21*-0x79+-0x1*0x2b04)),h(this,'_fingers',[]),h(this,'_joints',[]),h(this,'_jointsByI'+'d',{}),h(this,'_tips',[]),h(this,'_wrist',null);const _0x3a2101=_0xaa1317['_xrInputSo'+'urce']['hand'];if(this['_manager']=_0xaa1317['_manager'],this['_inputSour'+'ce']=_0xaa1317,_0x3a2101['get']('wrist')){const _0x39c11d=new CS(0x1*0x1b65+-0x11*-0xa5+-0x265a,'wrist',this,null);this['_wrist']=_0x39c11d,this['_joints']['push'](_0x39c11d),this['_jointsByI'+'d']['wrist']=_0x39c11d;}for(let _0x57ea8d=0xeaa*-0x2+-0x139+0x1e8d;_0x57ea8d<rh['length'];_0x57ea8d++){const _0x2271e8=new uU(_0x57ea8d,this);for(let _0x13afa2=-0x1243+-0x1d85+0x2fc8;_0x13afa2<rh[_0x57ea8d]['length'];_0x13afa2++){const _0x3019ad=rh[_0x57ea8d][_0x13afa2];if(!_0x3a2101['get'](_0x3019ad))continue;const _0x1212a9=new CS(_0x13afa2,_0x3019ad,this,_0x2271e8);this['_joints']['push'](_0x1212a9),this['_jointsByI'+'d'][_0x3019ad]=_0x1212a9,_0x1212a9['tip']&&(this['_tips']['push'](_0x1212a9),_0x2271e8['_tip']=_0x1212a9),_0x2271e8['_joints']['push'](_0x1212a9);}}}['update'](_0xaa404c){const _0x102545=this['_inputSour'+'ce']['_xrInputSo'+'urce'];for(let _0x16bd67=-0x5bd*0x1+0x2c5*-0x5+0x1396;_0x16bd67<this['_joints']['length'];_0x16bd67++){const _0x52ee46=this['_joints'][_0x16bd67],_0x2ef171=_0x102545['hand']['get'](_0x52ee46['_id']);if(_0x2ef171){let _0x412aee;if(_0xaa404c['session']['visibility'+'State']!=='hidden'&&(_0x412aee=_0xaa404c['getJointPo'+'se'](_0x2ef171,this['_manager']['_reference'+'Space'])),_0x412aee)_0x52ee46['update'](_0x412aee),_0x52ee46['wrist']&&!this['_tracking']&&(this['_tracking']=!(0x28c*-0x9+0x3*0xc5+0x3*0x6df),this['fire']('tracking'));else{if(_0x52ee46['wrist']){this['_tracking']&&(this['_tracking']=!(-0x14ad+-0x15a*0x8+0x1d*0x116),this['fire']('trackinglo'+'st'));break;}}}}const _0x4da271=this['_jointsByI'+'d']['thumb-meta'+'carpal'],_0x240555=this['_jointsByI'+'d']['thumb-tip'],_0x5e5e0e=this['_jointsByI'+'d']['index-fing'+'er-phalanx'+'-proximal'],_0x215d87=this['_jointsByI'+'d']['index-fing'+'er-tip'],_0x504cf8=this['_jointsByI'+'d']['ring-finge'+'r-phalanx-'+'proximal'],_0x3e2301=this['_jointsByI'+'d']['pinky-fing'+'er-phalanx'+'-proximal'];if(_0x4da271&&_0x240555&&_0x5e5e0e&&_0x215d87&&_0x504cf8&&_0x3e2301){this['_inputSour'+'ce']['_dirtyRay']=!(0x835*0x3+-0x1e5b+0x5bc),this['_inputSour'+'ce']['_rayLocal']['origin']['lerp'](_0x240555['_localPosi'+'tion'],_0x215d87['_localPosi'+'tion'],0x77*0x3d+0x1f86+-0x3be1+0.5);let _0x44246c=_0x4da271,_0x56d485=_0x3e2301;if(this['_inputSour'+'ce']['handedness']===hU){const _0x4764e1=_0x44246c;_0x44246c=_0x56d485,_0x56d485=_0x4764e1;}Wr['sub2'](_0x44246c['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),Oc['sub2'](_0x56d485['_localPosi'+'tion'],this['_wrist']['_localPosi'+'tion']),PS['cross'](Wr,Oc)['normalize'](),Wr['lerp'](_0x5e5e0e['_localPosi'+'tion'],_0x504cf8['_localPosi'+'tion'],-0x75a+-0x1b*-0xcd+0x119*-0xd+0.5),Wr['sub'](this['_wrist']['_localPosi'+'tion'])['normalize'](),this['_inputSour'+'ce']['_rayLocal']['direction']['lerp'](PS,Wr,-0x6d*-0x43+-0x23ef+0x1*0x768+0.5)['normalize']();}this['_fingerIsC'+'losed'](-0x1311*-0x1+-0x1e74*-0x1+-0x2*0x18c2)&&this['_fingerIsC'+'losed'](0x213e+-0x99d+-0x179f)&&this['_fingerIsC'+'losed'](0x1*0x1f9+-0x1*-0x2134+-0x1*0x232a)&&this['_fingerIsC'+'losed'](-0x263c+-0x10f3+0x3733)?this['_inputSour'+'ce']['_squeezing']||(this['_inputSour'+'ce']['_squeezing']=!(-0x9d7+0x1*-0x1a72+0x2449),this['_inputSour'+'ce']['fire']('squeezesta'+'rt'),this['_manager']['input']['fire']('squeezesta'+'rt',this['_inputSour'+'ce'])):this['_inputSour'+'ce']['_squeezing']&&(this['_inputSour'+'ce']['_squeezing']=!(-0x2676+0x959*-0x1+0x2fd0),this['_inputSour'+'ce']['fire']('squeeze'),this['_manager']['input']['fire']('squeeze',this['_inputSour'+'ce']),this['_inputSour'+'ce']['fire']('squeezeend'),this['_manager']['input']['fire']('squeezeend',this['_inputSour'+'ce']));}['_fingerIsC'+'losed'](_0x5722d7){const _0x57aabe=this['_fingers'][_0x5722d7];return Wr['sub2'](_0x57aabe['joints'][0x1eee*-0x1+-0xa3e+0x292c]['_localPosi'+'tion'],_0x57aabe['joints'][-0xb34+-0x2*0xa13+0x15d*0x17]['_localPosi'+'tion'])['normalize'](),Oc['sub2'](_0x57aabe['joints'][-0x1*0x1bb8+0xb4d*0x2+0x2*0x290]['_localPosi'+'tion'],_0x57aabe['joints'][0x15b1+-0x1*0x229a+0xcec]['_localPosi'+'tion'])['normalize'](),Wr['dot'](Oc)<-(-0x1f15*0x1+-0x1eb4+0x3dc9+0.8);}['getJointBy'+'Id'](_0x287372){return this['_jointsByI'+'d'][_0x287372]||null;}get['fingers'](){return this['_fingers'];}get['joints'](){return this['_joints'];}get['tips'](){return this['_tips'];}get['wrist'](){return this['_wrist'];}get['tracking'](){return this['_tracking'];}}h(Ku,'EVENT_TRAC'+'KING','tracking'),h(Ku,'EVENT_TRAC'+'KINGLOST','trackinglo'+'st');const MS=new D(),DS=new le();let pU=0x1*0x584+0x26b+0x3*-0x2a5;class Qt extends me{constructor(_0x8dd285,_0x4a2c0e){super(),h(this,'_id'),h(this,'_manager'),h(this,'_xrInputSo'+'urce'),h(this,'_ray',new Dn()),h(this,'_rayLocal',new Dn()),h(this,'_grip',!(0x17*0xaf+0x2e7*0x7+-0x2409)),h(this,'_hand',null),h(this,'_velocitie'+'sAvailable',!(0x1*-0x1385+0x2586+-0x1*0x1200)),h(this,'_velocitie'+'sTimestamp',de()),h(this,'_localTran'+'sform',null),h(this,'_worldTran'+'sform',null),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_localPosi'+'tion',null),h(this,'_localPosi'+'tionLast',null),h(this,'_localRota'+'tion',null),h(this,'_linearVel'+'ocity',null),h(this,'_dirtyLoca'+'l',!(0x5*0x1bd+0x33a*-0x1+-0x1*0x577)),h(this,'_dirtyRay',!(0x2267*-0x1+-0x7b3+0xe09*0x3)),h(this,'_selecting',!(0xc06+0x3b7+-0xfbc)),h(this,'_squeezing',!(0x1656*-0x1+-0x1a35+-0x308c*-0x1)),h(this,'_elementIn'+'put',!(-0x24f*0x7+0x2061+-0x1038)),h(this,'_elementEn'+'tity',null),h(this,'_hitTestSo'+'urces',[]),(this['_id']=++pU,this['_manager']=_0x8dd285,this['_xrInputSo'+'urce']=_0x4a2c0e,_0x4a2c0e['hand']&&(this['_hand']=new Ku(this)));}get['id'](){return this['_id'];}get['inputSourc'+'e'](){return this['_xrInputSo'+'urce'];}get['targetRayM'+'ode'](){return this['_xrInputSo'+'urce']['targetRayM'+'ode'];}get['handedness'](){return this['_xrInputSo'+'urce']['handedness'];}get['profiles'](){return this['_xrInputSo'+'urce']['profiles'];}get['grip'](){return this['_grip'];}get['hand'](){return this['_hand'];}get['gamepad'](){return this['_xrInputSo'+'urce']['gamepad']||null;}get['selecting'](){return this['_selecting'];}get['squeezing'](){return this['_squeezing'];}set['elementInp'+'ut'](_0x57c9a0){this['_elementIn'+'put']!==_0x57c9a0&&(this['_elementIn'+'put']=_0x57c9a0,this['_elementIn'+'put']||(this['_elementEn'+'tity']=null));}get['elementInp'+'ut'](){return this['_elementIn'+'put'];}get['elementEnt'+'ity'](){return this['_elementEn'+'tity'];}get['hitTestSou'+'rces'](){return this['_hitTestSo'+'urces'];}['update'](_0xd6153e){if(this['_hand'])this['_hand']['update'](_0xd6153e);else{const _0x185771=this['_xrInputSo'+'urce']['gripSpace'];if(_0x185771){const _0x209857=_0xd6153e['getPose'](_0x185771,this['_manager']['_reference'+'Space']);if(_0x209857){this['_grip']||(this['_grip']=!(0x1*-0x169c+-0x4aa*0x2+0x38*0x92),this['_localTran'+'sform']=new te(),this['_worldTran'+'sform']=new te(),this['_localPosi'+'tionLast']=new D(),this['_localPosi'+'tion']=new D(),this['_localRota'+'tion']=new le(),this['_linearVel'+'ocity']=new D());const _0x39f922=de(),_0x6b1358=(_0x39f922-this['_velocitie'+'sTimestamp'])/(-0xa3f*-0x3+-0x1724+0xf*-0x3f);this['_velocitie'+'sTimestamp']=_0x39f922,this['_dirtyLoca'+'l']=!(-0xa*-0xe8+0x1*-0x1c79+0x1369),this['_localPosi'+'tionLast']['copy'](this['_localPosi'+'tion']),this['_localPosi'+'tion']['copy'](_0x209857['transform']['position']),this['_localRota'+'tion']['copy'](_0x209857['transform']['orientatio'+'n']),this['_velocitie'+'sAvailable']=!(-0x1*-0x48f+-0x2f3+-0x19c),this['_manager']['input']['velocities'+'Supported']&&_0x209857['linearVelo'+'city']?this['_linearVel'+'ocity']['copy'](_0x209857['linearVelo'+'city']):_0x6b1358>-0x5*0x10d+-0x847+0xd88&&(MS['sub2'](this['_localPosi'+'tion'],this['_localPosi'+'tionLast'])['divScalar'](_0x6b1358),this['_linearVel'+'ocity']['lerp'](this['_linearVel'+'ocity'],MS,0x1a45*-0x1+0x3b3*-0x9+0x3b90+0.15));}else this['_velocitie'+'sAvailable']=!(-0x1473+-0x1*-0x11d7+0xdf*0x3);}const _0x229315=_0xd6153e['getPose'](this['_xrInputSo'+'urce']['targetRayS'+'pace'],this['_manager']['_reference'+'Space']);_0x229315&&(this['_dirtyRay']=!(0x1717+-0x2498+-0xd81*-0x1),this['_rayLocal']['origin']['copy'](_0x229315['transform']['position']),this['_rayLocal']['direction']['set'](0x1*-0x1f19+0xb75*-0x3+0x4178,0x26fd+-0xccb+0x7*-0x3be,-(0x1bb*-0x13+-0x1063+-0x1*-0x3145)),DS['copy'](_0x229315['transform']['orientatio'+'n']),DS['transformV'+'ector'](this['_rayLocal']['direction'],this['_rayLocal']['direction']));}}['_updateTra'+'nsforms'](){this['_dirtyLoca'+'l']&&(this['_dirtyLoca'+'l']=!(0xa9f*0x3+-0x1*-0x1daa+-0x46*0xe1),this['_localTran'+'sform']['setTRS'](this['_localPosi'+'tion'],this['_localRota'+'tion'],D['ONE']));const _0x25c5a7=this['_manager']['camera']['parent'];_0x25c5a7?this['_worldTran'+'sform']['mul2'](_0x25c5a7['getWorldTr'+'ansform'](),this['_localTran'+'sform']):this['_worldTran'+'sform']['copy'](this['_localTran'+'sform']);}['_updateRay'+'Transforms'](){const _0x5a6267=this['_dirtyRay'];if(this['_dirtyRay']=!(-0xd*-0x257+-0x43*-0x7a+0x38*-0x11d),this['_manager']['camera']['parent']){const _0x37e732=this['_manager']['camera']['parent']['getWorldTr'+'ansform']();_0x37e732['getTransla'+'tion'](this['_position']),this['_rotation']['setFromMat'+'4'](_0x37e732),this['_rotation']['transformV'+'ector'](this['_rayLocal']['origin'],this['_ray']['origin']),this['_ray']['origin']['add'](this['_position']),this['_rotation']['transformV'+'ector'](this['_rayLocal']['direction'],this['_ray']['direction']);}else _0x5a6267&&(this['_ray']['origin']['copy'](this['_rayLocal']['origin']),this['_ray']['direction']['copy'](this['_rayLocal']['direction']));}['getPositio'+'n'](){return this['_position']?(this['_updateTra'+'nsforms'](),this['_worldTran'+'sform']['getTransla'+'tion'](this['_position']),this['_position']):null;}['getLocalPo'+'sition'](){return this['_localPosi'+'tion'];}['getRotatio'+'n'](){return this['_rotation']?(this['_updateTra'+'nsforms'](),this['_rotation']['setFromMat'+'4'](this['_worldTran'+'sform']),this['_rotation']):null;}['getLocalRo'+'tation'](){return this['_localRota'+'tion'];}['getLinearV'+'elocity'](){return this['_velocitie'+'sAvailable']?this['_linearVel'+'ocity']:null;}['getOrigin'](){return this['_updateRay'+'Transforms'](),this['_ray']['origin'];}['getDirecti'+'on'](){return this['_updateRay'+'Transforms'](),this['_ray']['direction'];}['hitTestSta'+'rt'](_0x4b3039={}){_0x4b3039['inputSourc'+'e']=this,_0x4b3039['profile']=this['_xrInputSo'+'urce']['profiles'][-0x3*-0x7b8+-0x66*-0x13+-0x51f*0x6];const _0x13c2c4=_0x4b3039['callback'];_0x4b3039['callback']=(_0x193b19,_0x3ac874)=>{_0x3ac874&&this['onHitTestS'+'ourceAdd'](_0x3ac874),_0x13c2c4&&_0x13c2c4(_0x193b19,_0x3ac874);},this['_manager']['hitTest']['start'](_0x4b3039);}['onHitTestS'+'ourceAdd'](_0x4eebc7){this['_hitTestSo'+'urces']['push'](_0x4eebc7),this['fire']('hittest:ad'+'d',_0x4eebc7),_0x4eebc7['on']('result',(_0x5088a8,_0x58bad0,_0x328eeb,_0x2d14f3)=>{_0x328eeb===this&&this['fire']('hittest:re'+'sult',_0x4eebc7,_0x5088a8,_0x58bad0,_0x2d14f3);}),_0x4eebc7['once']('remove',()=>{this['onHitTestS'+'ourceRemov'+'e'](_0x4eebc7),this['fire']('hittest:re'+'move',_0x4eebc7);});}['onHitTestS'+'ourceRemov'+'e'](_0x579570){const _0x2fbda1=this['_hitTestSo'+'urces']['indexOf'](_0x579570);_0x2fbda1!==-(0x3*-0x105+0x215f*0x1+-0x1e4f)&&this['_hitTestSo'+'urces']['splice'](_0x2fbda1,-0xddd+0x1561+-0x281*0x3);}}h(Qt,'EVENT_REMO'+'VE','remove'),h(Qt,'EVENT_SELE'+'CT','select'),h(Qt,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Qt,'EVENT_SELE'+'CTEND','selectend'),h(Qt,'EVENT_SQUE'+'EZE','squeeze'),h(Qt,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Qt,'EVENT_SQUE'+'EZEEND','squeezeend'),h(Qt,'EVENT_HITT'+'ESTADD','hittest:ad'+'d'),h(Qt,'EVENT_HITT'+'ESTREMOVE','hittest:re'+'move'),h(Qt,'EVENT_HITT'+'ESTRESULT','hittest:re'+'sult');class Li extends me{constructor(_0x1f8549){var _0x56ad7b,_0x3379c2;super(),h(this,'manager'),h(this,'_inputSour'+'ces',[]),h(this,'_onInputSo'+'urcesChang'+'eEvt'),h(this,'velocities'+'Supported',!(0x947+0x980*-0x1+0x3a)),(this['manager']=_0x1f8549,this['velocities'+'Supported']=!!(Ae['browser']&&((_0x3379c2=(_0x56ad7b=window['XRPose'])==null?void(-0x5e0+-0x7*0x3e3+0x3ad*0x9):_0x56ad7b['prototype'])!=null&&_0x3379c2['hasOwnProp'+'erty']('linearVelo'+'city'))),this['_onInputSo'+'urcesChang'+'eEvt']=_0x38dfd7=>{this['_onInputSo'+'urcesChang'+'e'](_0x38dfd7);},this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){const _0x23c04e=this['manager']['session'];_0x23c04e['addEventLi'+'stener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']),_0x23c04e['addEventLi'+'stener']('select',_0x32ae9d=>{const _0x1edf50=this['_getByInpu'+'tSource'](_0x32ae9d['inputSourc'+'e']);_0x1edf50['update'](_0x32ae9d['frame']),_0x1edf50['fire']('select',_0x32ae9d),this['fire']('select',_0x1edf50,_0x32ae9d);}),_0x23c04e['addEventLi'+'stener']('selectstar'+'t',_0x2f0ddd=>{const _0x282d6f=this['_getByInpu'+'tSource'](_0x2f0ddd['inputSourc'+'e']);_0x282d6f['_selecting']||(_0x282d6f['update'](_0x2f0ddd['frame']),_0x282d6f['_selecting']=!(0x19ef*-0x1+0x11ae+-0x841*-0x1),_0x282d6f['fire']('selectstar'+'t',_0x2f0ddd),this['fire']('selectstar'+'t',_0x282d6f,_0x2f0ddd));}),_0x23c04e['addEventLi'+'stener']('selectend',_0x57b6a8=>{const _0x562f96=this['_getByInpu'+'tSource'](_0x57b6a8['inputSourc'+'e']);_0x562f96['update'](_0x57b6a8['frame']),_0x562f96['_selecting']=!(-0x3*0x4b3+-0x2531*-0x1+-0x17*0x101),_0x562f96['fire']('selectend',_0x57b6a8),this['fire']('selectend',_0x562f96,_0x57b6a8);}),_0x23c04e['addEventLi'+'stener']('squeeze',_0x1eec72=>{const _0x416096=this['_getByInpu'+'tSource'](_0x1eec72['inputSourc'+'e']);_0x416096['update'](_0x1eec72['frame']),_0x416096['fire']('squeeze',_0x1eec72),this['fire']('squeeze',_0x416096,_0x1eec72);}),_0x23c04e['addEventLi'+'stener']('squeezesta'+'rt',_0x262ece=>{const _0x5e0349=this['_getByInpu'+'tSource'](_0x262ece['inputSourc'+'e']);_0x5e0349['update'](_0x262ece['frame']),_0x5e0349['_squeezing']=!(0x1*-0x2624+0x3*-0x6f5+0x3b03),_0x5e0349['fire']('squeezesta'+'rt',_0x262ece),this['fire']('squeezesta'+'rt',_0x5e0349,_0x262ece);}),_0x23c04e['addEventLi'+'stener']('squeezeend',_0x1b3505=>{const _0x28a9a0=this['_getByInpu'+'tSource'](_0x1b3505['inputSourc'+'e']);_0x28a9a0['update'](_0x1b3505['frame']),_0x28a9a0['_squeezing']=!(0x560+0xa21+-0x20*0x7c),_0x28a9a0['fire']('squeezeend',_0x1b3505),this['fire']('squeezeend',_0x28a9a0,_0x1b3505);});const _0x50eb7d=_0x23c04e['inputSourc'+'es'];for(let _0x4222f4=-0x5*-0xe3+0x7*0x4ca+-0x25f5;_0x4222f4<_0x50eb7d['length'];_0x4222f4++)this['_addInputS'+'ource'](_0x50eb7d[_0x4222f4]);}['_onSession'+'End'](){let _0x548f4f=this['_inputSour'+'ces']['length'];for(;_0x548f4f--;){const _0xb27fad=this['_inputSour'+'ces'][_0x548f4f];this['_inputSour'+'ces']['splice'](_0x548f4f,-0x251f+0x82*-0x6+0x282c),_0xb27fad['fire']('remove'),this['fire']('remove',_0xb27fad);}this['fire']('removeall'),this['manager']['session']['removeEven'+'tListener']('inputsourc'+'eschange',this['_onInputSo'+'urcesChang'+'eEvt']);}['_onInputSo'+'urcesChang'+'e'](_0x5398bc){for(let _0x457118=0x1e62*0x1+0x155e+-0x5c0*0x9;_0x457118<_0x5398bc['removed']['length'];_0x457118++)this['_removeInp'+'utSource'](_0x5398bc['removed'][_0x457118]);for(let _0x1d1185=-0x42*0x56+-0x433+0x9d*0x2b;_0x1d1185<_0x5398bc['added']['length'];_0x1d1185++)this['_addInputS'+'ource'](_0x5398bc['added'][_0x1d1185]);}['_getByInpu'+'tSource'](_0x1a0d62){for(let _0x57a169=0x1bb2*-0x1+-0xfca+0x2b7c;_0x57a169<this['_inputSour'+'ces']['length'];_0x57a169++)if(this['_inputSour'+'ces'][_0x57a169]['inputSourc'+'e']===_0x1a0d62)return this['_inputSour'+'ces'][_0x57a169];return null;}['_removeApp'+'Entity'](_0x325d80){const _0x38a5f8=this['manager']['app']['root']['findByName']('Armature_'+_0x325d80);_0x38a5f8&&this['manager']['app']['root']['removeChil'+'d'](_0x38a5f8);}['_addInputS'+'ource'](_0x222d41){if(this['_removeApp'+'Entity'](_0x222d41['handedness']),this['_getByInpu'+'tSource'](_0x222d41))return;const _0x27b469=new Qt(this['manager'],_0x222d41);this['_inputSour'+'ces']['push'](_0x27b469),this['fire']('add',_0x27b469);}['_removeInp'+'utSource'](_0x1a20f8){for(let _0x4bb8e6=-0x4*-0x515+0x101f+0x2b*-0xd9;_0x4bb8e6<this['_inputSour'+'ces']['length'];_0x4bb8e6++){if(this['_inputSour'+'ces'][_0x4bb8e6]['inputSourc'+'e']!==_0x1a20f8)continue;const _0x40e66d=this['_inputSour'+'ces'][_0x4bb8e6];this['_inputSour'+'ces']['splice'](_0x4bb8e6,-0x1*-0x959+0x18ca+0x2*-0x1111);let _0x4c7208=_0x40e66d['hitTestSou'+'rces']['length'];for(;_0x4c7208--;)_0x40e66d['hitTestSou'+'rces'][_0x4c7208]['remove']();this['_removeApp'+'Entity'](_0x40e66d['handedness']),_0x40e66d['fire']('remove'),this['fire']('remove',_0x40e66d);return;}}['update'](_0x4b793c){for(let _0x14d67f=-0x644+-0x1*0x417+0xa5b;_0x14d67f<this['_inputSour'+'ces']['length'];_0x14d67f++)this['_inputSour'+'ces'][_0x14d67f]['update'](_0x4b793c);}get['inputSourc'+'es'](){return this['_inputSour'+'ces'];}}h(Li,'EVENT_ADD','add'),h(Li,'EVENT_REMO'+'VE','remove'),h(Li,'EVENT_SELE'+'CT','select'),h(Li,'EVENT_SELE'+'CTSTART','selectstar'+'t'),h(Li,'EVENT_SELE'+'CTEND','selectend'),h(Li,'EVENT_SQUE'+'EZE','squeeze'),h(Li,'EVENT_SQUE'+'EZESTART','squeezesta'+'rt'),h(Li,'EVENT_SQUE'+'EZEEND','squeezeend');const Ja=new D(),IS=new D(),Lf=new te(),LS=new te();class Zu extends me{constructor(_0xd3cfdc){super(),h(this,'_manager'),h(this,'_supported',!(-0x14f4+0x132f+-0x1c6*-0x1)),h(this,'_available',!(-0x9a1+-0x746+0x10e8)),h(this,'_lightProb'+'eRequested',!(0x1*0x8dd+0x175f+-0x203b)),h(this,'_lightProb'+'e',null),h(this,'_intensity',0x127*-0xa+-0xd1e*-0x2+0x2*-0x75b),h(this,'_rotation',new le()),h(this,'_color',new ie()),h(this,'_spherical'+'Harmonics',new Float32Array(0x1*0x443+0x283*-0xb+-0x1*-0x1779)),(this['_manager']=_0xd3cfdc,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}['_onSession'+'Start'](){this['_manager']['session']['requestLig'+'htProbe']&&(this['_supported']=!(0xe4b*-0x2+0x1336*-0x1+0x2fcc));}['_onSession'+'End'](){this['_supported']=!(0x1*-0xb03+-0x13b8+0x1ebc),this['_available']=!(0x10e9+-0x586+0x1f*-0x5e),this['_lightProb'+'eRequested']=!(-0x18cc+-0x2*-0x3a1+0x118b),this['_lightProb'+'e']=null;}['start'](){let _0x3fe011;if(this['_manager']['session']||(_0x3fe011=new Error('XR\x20session'+'\x20is\x20not\x20ru'+'nning')),!_0x3fe011&&this['_manager']['type']!==$o&&(_0x3fe011=new Error('XR\x20session'+'\x20type\x20is\x20n'+'ot\x20AR')),!_0x3fe011&&!this['_supported']&&(_0x3fe011=new Error('light-esti'+'mation\x20is\x20'+'not\x20suppor'+'ted')),(!_0x3fe011&&this['_lightProb'+'e']||this['_lightProb'+'eRequested'])&&(_0x3fe011=new Error('light\x20esti'+'mation\x20is\x20'+'already\x20re'+'quested')),_0x3fe011){this['fire']('error',_0x3fe011);return;}this['_lightProb'+'eRequested']=!(-0x1*-0x72e+-0x1*0xf35+-0x89*-0xf),this['_manager']['session']['requestLig'+'htProbe']()['then'](_0x274adb=>{const _0x3f86c5=this['_lightProb'+'eRequested'];this['_lightProb'+'eRequested']=!(0x7*-0x57f+-0x1ce6+0x58*0xc4),this['_manager']['active']?_0x3f86c5&&(this['_lightProb'+'e']=_0x274adb):this['fire']('error',new Error('XR\x20session'+'\x20is\x20not\x20ac'+'tive'));})['catch'](_0x1e8fcd=>{this['_lightProb'+'eRequested']=!(0x1*0x203+-0x1d0*0xd+0x158e),this['fire']('error',_0x1e8fcd);});}['end'](){this['_lightProb'+'eRequested']=!(-0xb69+0x111b*0x1+-0x5b1),this['_lightProb'+'e']=null,this['_available']=!(-0x17a0+-0x264d+0x1*0x3dee);}['update'](_0x575010){if(!this['_lightProb'+'e'])return;const _0x219225=_0x575010['getLightEs'+'timate'](this['_lightProb'+'e']);if(!_0x219225)return;this['_available']||(this['_available']=!(0x3d1+-0x5*0x5e8+0x19b7),this['fire']('available'));const _0x1103c1=_0x219225['primaryLig'+'htIntensit'+'y'];this['_intensity']=Math['max'](0x218f*0x1+0x1486+-0x3614,Math['max'](_0x1103c1['x'],Math['max'](_0x1103c1['y'],_0x1103c1['z']))),Ja['copy'](_0x1103c1)['mulScalar']((-0x3a0+0x943*-0x1+0x113*0xc)/this['_intensity']),this['_color']['set'](Ja['x'],Ja['y'],Ja['z']),Ja['set'](0x3fb*-0x5+-0x263a+0x3a21,0x2*0xd21+0x11bf*-0x1+-0x1*0x883,-0x8e4+-0x23e0+0x2cc4),IS['copy'](_0x219225['primaryLig'+'htDirectio'+'n']),Lf['setLookAt'](IS,Ja,D['UP']),LS['setFromAxi'+'sAngle'](D['RIGHT'],0x2*-0x456+-0x4f8+0xdfe),Lf['mul'](LS),this['_rotation']['setFromMat'+'4'](Lf),this['_spherical'+'Harmonics']['set'](_0x219225['sphericalH'+'armonicsCo'+'efficients']);}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['intensity'](){return this['_available']?this['_intensity']:null;}get['color'](){return this['_available']?this['_color']:null;}get['rotation'](){return this['_available']?this['_rotation']:null;}get['sphericalH'+'armonics'](){return this['_available']?this['_spherical'+'Harmonics']:null;}}h(Zu,'EVENT_AVAI'+'LABLE','available'),h(Zu,'EVENT_ERRO'+'R','error');let mU=-0x1*0xa4e+-0x1*-0x1ad5+-0x1087;class Qu extends me{constructor(_0x173926,_0x8c4778){super(),h(this,'_id'),h(this,'_planeDete'+'ction'),h(this,'_xrPlane'),h(this,'_lastChang'+'edTime'),h(this,'_orientati'+'on'),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_id']=++mU,this['_planeDete'+'ction']=_0x173926,this['_xrPlane']=_0x8c4778,this['_lastChang'+'edTime']=_0x8c4778['lastChange'+'dTime'],this['_orientati'+'on']=_0x8c4778['orientatio'+'n']);}['destroy'](){this['_xrPlane']&&(this['_xrPlane']=null,this['fire']('remove'));}['update'](_0x258b5d){const _0xc10742=this['_planeDete'+'ction']['_manager'],_0x191af6=_0x258b5d['getPose'](this['_xrPlane']['planeSpace'],_0xc10742['_reference'+'Space']);_0x191af6&&(this['_position']['copy'](_0x191af6['transform']['position']),this['_rotation']['copy'](_0x191af6['transform']['orientatio'+'n'])),this['_lastChang'+'edTime']!==this['_xrPlane']['lastChange'+'dTime']&&(this['_lastChang'+'edTime']=this['_xrPlane']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}get['id'](){return this['_id'];}get['orientatio'+'n'](){return this['_orientati'+'on'];}get['points'](){return this['_xrPlane']['polygon'];}get['label'](){return this['_xrPlane']['semanticLa'+'bel']||'';}}h(Qu,'EVENT_REMO'+'VE','remove'),h(Qu,'EVENT_CHAN'+'GE','change');class Do extends me{constructor(_0x198d7b){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRPlane']),h(this,'_available',!(-0x2fb+0xa0b*-0x1+0xd07)),h(this,'_planesInd'+'ex',new Map()),h(this,'_planes',[]),(this['_manager']=_0x198d7b,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){this['_manager']['session']['enabledFea'+'tures']&&this['_manager']['session']['enabledFea'+'tures']['indexOf']('plane-dete'+'ction')!==-(-0x2415+0x1e06+0x610)&&(this['_available']=!(0x84c+-0xa4*-0x13+0x83*-0x28),this['fire']('available'));}['_onSession'+'End'](){for(let _0x420b36=0x2*-0x127d+-0x1f40+0x443a;_0x420b36<this['_planes']['length'];_0x420b36++)this['_planes'][_0x420b36]['destroy'](),this['fire']('remove',this['_planes'][_0x420b36]);this['_planesInd'+'ex']['clear'](),this['_planes']['length']=0xf3d+-0x57*0x3f+0x4f*0x14,this['_available']&&(this['_available']=!(-0xc7b*-0x3+-0x1f*0xda+-0xb0a),this['fire']('unavailabl'+'e'));}['update'](_0x5393fa){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x5393fa['detectedPl'+'anes']['size'])this['_available']=!(-0x4*0x4fd+-0x339+0x172d),this['fire']('available');else return;}const _0x546289=_0x5393fa['detectedPl'+'anes'];for(const [_0x50ca4b,_0x15eea8]of this['_planesInd'+'ex'])_0x546289['has'](_0x50ca4b)||(this['_planesInd'+'ex']['delete'](_0x50ca4b),this['_planes']['splice'](this['_planes']['indexOf'](_0x15eea8),-0xa7*0x2b+-0x645+0x2253),_0x15eea8['destroy'](),this['fire']('remove',_0x15eea8));for(const _0x1af24e of _0x546289){let _0x431a5b=this['_planesInd'+'ex']['get'](_0x1af24e);_0x431a5b?_0x431a5b['update'](_0x5393fa):(_0x431a5b=new Qu(this,_0x1af24e),this['_planesInd'+'ex']['set'](_0x1af24e,_0x431a5b),this['_planes']['push'](_0x431a5b),_0x431a5b['update'](_0x5393fa),this['fire']('add',_0x431a5b));}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['planes'](){return this['_planes'];}}h(Do,'EVENT_AVAI'+'LABLE','available'),h(Do,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Do,'EVENT_ADD','add'),h(Do,'EVENT_REMO'+'VE','remove');class Io extends me{constructor(_0x2fa32,_0x48a326,_0x394f62=null){super(),h(this,'_position',new D()),h(this,'_rotation',new le()),h(this,'_uuid',null),h(this,'_uuidReque'+'sts',null),(this['_anchors']=_0x2fa32,this['_xrAnchor']=_0x48a326,this['_uuid']=_0x394f62);}['destroy'](){if(!this['_xrAnchor'])return;const _0x122247=this['_xrAnchor'];this['_xrAnchor']['delete'](),this['_xrAnchor']=null,this['fire']('destroy',_0x122247,this);}['update'](_0x48302c){if(!this['_xrAnchor'])return;const _0x564012=_0x48302c['getPose'](this['_xrAnchor']['anchorSpac'+'e'],this['_anchors']['manager']['_reference'+'Space']);if(_0x564012){if(this['_position']['equals'](_0x564012['transform']['position'])&&this['_rotation']['equals'](_0x564012['transform']['orientatio'+'n']))return;this['_position']['copy'](_0x564012['transform']['position']),this['_rotation']['copy'](_0x564012['transform']['orientatio'+'n']),this['fire']('change');}}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}['persist'](_0x1cdc66){if(!this['_anchors']['persistenc'+'e']){_0x1cdc66==null||_0x1cdc66(new Error('Persistent'+'\x20Anchors\x20a'+'re\x20not\x20sup'+'ported'),null);return;}if(this['_uuid']){_0x1cdc66==null||_0x1cdc66(null,this['_uuid']);return;}if(this['_uuidReque'+'sts']){_0x1cdc66&&this['_uuidReque'+'sts']['push'](_0x1cdc66);return;}this['_uuidReque'+'sts']=[],this['_xrAnchor']['requestPer'+'sistentHan'+'dle']()['then'](_0x17e8ba=>{this['_uuid']=_0x17e8ba,this['_anchors']['_indexByUu'+'id']['set'](this['_uuid'],this),_0x1cdc66==null||_0x1cdc66(null,_0x17e8ba);for(const _0x480636 of this['_uuidReque'+'sts'])_0x480636(null,_0x17e8ba);this['_uuidReque'+'sts']=null,this['fire']('persist',_0x17e8ba);})['catch'](_0x469a96=>{_0x1cdc66==null||_0x1cdc66(_0x469a96,null);for(const _0x36f9a4 of this['_uuidReque'+'sts'])_0x36f9a4(_0x469a96,null);this['_uuidReque'+'sts']=null;});}['forget'](_0x3c38ce){if(!this['_uuid']){_0x3c38ce==null||_0x3c38ce(new Error('Anchor\x20is\x20'+'not\x20persis'+'tent'));return;}this['_anchors']['forget'](this['_uuid'],_0x4fa61b=>{this['_uuid']=null,_0x3c38ce==null||_0x3c38ce(_0x4fa61b),this['fire']('forget');});}get['uuid'](){return this['_uuid'];}get['persistent'](){return!!this['_uuid'];}}h(Io,'EVENT_DEST'+'ROY','destroy'),h(Io,'EVENT_CHAN'+'GE','change'),h(Io,'EVENT_PERS'+'IST','persist'),h(Io,'EVENT_FORG'+'ET','forget');var VS;class on extends me{constructor(_0x50e79c){super(),h(this,'manager'),h(this,'_supported',Ae['browser']&&!!window['XRAnchor']),h(this,'_available',!(0x12c9+0x2*0x6ad+-0x2022)),h(this,'_checkingA'+'vailabilit'+'y',!(0xec3*0x1+0x622+-0x14e4)),h(this,'_persisten'+'ce',Ae['browser']&&!!((VS=window==null?void(-0x11de+-0x4*0x4ea+0x641*0x6):window['XRSession'])!=null&&VS['prototype']['restorePer'+'sistentAnc'+'hor'])),h(this,'_creationQ'+'ueue',[]),h(this,'_index',new Map()),h(this,'_indexByUu'+'id',new Map()),h(this,'_list',[]),h(this,'_callbacks'+'Anchors',new Map()),(this['manager']=_0x50e79c,this['_supported']&&(this['manager']['on']('start',this['_onSession'+'Start'],this),this['manager']['on']('end',this['_onSession'+'End'],this)));}['_onSession'+'Start'](){var _0x5273fa;const _0x51f5d6=((_0x5273fa=this['manager']['session']['enabledFea'+'tures'])==null?void(0x18*0x6f+-0x230d*0x1+0x18a5):_0x5273fa['indexOf']('anchors'))>=-0x1e27+-0xf2f+0x2d56;_0x51f5d6&&(this['_available']=_0x51f5d6,this['fire']('available'));}['_onSession'+'End'](){if(!this['_available'])return;this['_available']=!(0x200b+-0x1574+-0xa96);for(let _0x46e4fe=-0x1*-0x1c71+-0x23e0+0x76f;_0x46e4fe<this['_creationQ'+'ueue']['length'];_0x46e4fe++)this['_creationQ'+'ueue'][_0x46e4fe]['callback']&&this['_creationQ'+'ueue'][_0x46e4fe]['callback'](new Error('session\x20en'+'ded'),null);this['_creationQ'+'ueue']['length']=-0xee4+0x1*-0x2658+0x353c,this['_index']['clear'](),this['_indexByUu'+'id']['clear']();let _0x3e9cef=this['_list']['length'];for(;_0x3e9cef--;)this['_list'][_0x3e9cef]['destroy']();this['_list']['length']=0x23ee+-0x3*0x9bc+-0x52*0x15,this['fire']('unavailabl'+'e');}['_createAnc'+'hor'](_0x197645,_0x22e749=null){const _0x45576a=new Io(this,_0x197645,_0x22e749);return this['_index']['set'](_0x197645,_0x45576a),_0x22e749&&this['_indexByUu'+'id']['set'](_0x22e749,_0x45576a),this['_list']['push'](_0x45576a),_0x45576a['once']('destroy',this['_onAnchorD'+'estroy'],this),_0x45576a;}['_onAnchorD'+'estroy'](_0x84284e,_0x49de55){this['_index']['delete'](_0x84284e),_0x49de55['uuid']&&this['_indexByUu'+'id']['delete'](_0x49de55['uuid']);const _0x5943a2=this['_list']['indexOf'](_0x49de55);_0x5943a2!==-(0xb64+0xb85*0x2+-0x226d)&&this['_list']['splice'](_0x5943a2,-0x1b2*0x6+-0x4*-0x709+-0x11f7),this['fire']('destroy',_0x49de55);}['create'](_0x43c73b,_0x1bf8c8,_0x9790ef){if(!this['_available']){_0x9790ef==null||_0x9790ef(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(window['XRHitTestR'+'esult']&&_0x43c73b instanceof XRHitTestResult){const _0xaced4c=_0x43c73b;if(_0x9790ef=_0x1bf8c8,!this['_supported']){_0x9790ef==null||_0x9790ef(new Error('Anchors\x20AP'+'I\x20is\x20not\x20s'+'upported'),null);return;}if(!_0xaced4c['createAnch'+'or']){_0x9790ef==null||_0x9790ef(new Error('Creating\x20A'+'nchor\x20from'+'\x20Hit\x20Test\x20'+'is\x20not\x20sup'+'ported'),null);return;}_0xaced4c['createAnch'+'or']()['then'](_0x2422cb=>{const _0x955af9=this['_createAnc'+'hor'](_0x2422cb);_0x9790ef==null||_0x9790ef(null,_0x955af9),this['fire']('add',_0x955af9);})['catch'](_0x387094=>{_0x9790ef==null||_0x9790ef(_0x387094,null),this['fire']('error',_0x387094);});}else this['_creationQ'+'ueue']['push']({'transform':new XRRigidTransform(_0x43c73b,_0x1bf8c8),'callback':_0x9790ef});}['restore'](_0x472e13,_0x27b949){if(!this['_available']){_0x27b949==null||_0x27b949(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'),null);return;}if(!this['_persisten'+'ce']){_0x27b949==null||_0x27b949(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'),null);return;}if(!this['manager']['active']){_0x27b949==null||_0x27b949(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'),null);return;}this['manager']['session']['restorePer'+'sistentAnc'+'hor'](_0x472e13)['then'](_0x35b686=>{const _0xfca435=this['_createAnc'+'hor'](_0x35b686,_0x472e13);_0x27b949==null||_0x27b949(null,_0xfca435),this['fire']('add',_0xfca435);})['catch'](_0x50869b=>{_0x27b949==null||_0x27b949(_0x50869b,null),this['fire']('error',_0x50869b);});}['forget'](_0x2286f5,_0x5cef55){if(!this['_available']){_0x5cef55==null||_0x5cef55(new Error('Anchors\x20AP'+'I\x20is\x20not\x20a'+'vailable'));return;}if(!this['_persisten'+'ce']){_0x5cef55==null||_0x5cef55(new Error('Anchor\x20Per'+'sistence\x20i'+'s\x20not\x20supp'+'orted'));return;}if(!this['manager']['active']){_0x5cef55==null||_0x5cef55(new Error('WebXR\x20sess'+'ion\x20is\x20not'+'\x20active'));return;}this['manager']['session']['deletePers'+'istentAnch'+'or'](_0x2286f5)['then'](()=>{_0x5cef55==null||_0x5cef55(null);})['catch'](_0x3ba340=>{_0x5cef55==null||_0x5cef55(_0x3ba340),this['fire']('error',_0x3ba340);});}['update'](_0x4a60ad){if(!this['_available']){!this['manager']['session']['enabledFea'+'tures']&&!this['_checkingA'+'vailabilit'+'y']&&(this['_checkingA'+'vailabilit'+'y']=!(0x1c24+-0xcf7+-0xf2d),_0x4a60ad['createAnch'+'or'](new XRRigidTransform(),this['manager']['_reference'+'Space'])['then'](_0x51d7ab=>{_0x51d7ab['delete'](),this['manager']['active']&&(this['_available']=!(0x174b+-0xa73*-0x1+-0x21be),this['fire']('available'));})['catch'](()=>{}));return;}if(this['_creationQ'+'ueue']['length']){for(let _0x4579dd=-0x54+0x1403+-0x13af;_0x4579dd<this['_creationQ'+'ueue']['length'];_0x4579dd++){const _0x39ee9f=this['_creationQ'+'ueue'][_0x4579dd];_0x4a60ad['createAnch'+'or'](_0x39ee9f['transform'],this['manager']['_reference'+'Space'])['then'](_0x92ef66=>{_0x39ee9f['callback']&&this['_callbacks'+'Anchors']['set'](_0x92ef66,_0x39ee9f['callback']);})['catch'](_0x281904=>{_0x39ee9f['callback']&&_0x39ee9f['callback'](_0x281904,null),this['fire']('error',_0x281904);});}this['_creationQ'+'ueue']['length']=-0x1786*-0x1+-0x1*-0x1976+-0x30fc;}for(const [_0x24dc59,_0x449393]of this['_index'])_0x4a60ad['trackedAnc'+'hors']['has'](_0x24dc59)||(this['_index']['delete'](_0x24dc59),_0x449393['destroy']());for(let _0x453ca4=0x9*-0x2e6+-0x1*0x59f+0x1*0x1fb5;_0x453ca4<this['_list']['length'];_0x453ca4++)this['_list'][_0x453ca4]['update'](_0x4a60ad);for(const _0x55858a of _0x4a60ad['trackedAnc'+'hors']){if(this['_index']['has'](_0x55858a))continue;try{const _0x54e642=_0x55858a['anchorSpac'+'e'];}catch{continue;}const _0x10b9ea=this['_createAnc'+'hor'](_0x55858a);_0x10b9ea['update'](_0x4a60ad);const _0x6fb446=this['_callbacks'+'Anchors']['get'](_0x55858a);_0x6fb446&&(this['_callbacks'+'Anchors']['delete'](_0x55858a),_0x6fb446(null,_0x10b9ea)),this['fire']('add',_0x10b9ea);}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['persistenc'+'e'](){return this['_persisten'+'ce'];}get['uuids'](){return!this['_available']||!this['_persisten'+'ce']||!this['manager']['active']?null:this['manager']['session']['persistent'+'Anchors'];}get['list'](){return this['_list'];}}h(on,'EVENT_AVAI'+'LABLE','available'),h(on,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(on,'EVENT_ERRO'+'R','error'),h(on,'EVENT_ADD','add'),h(on,'EVENT_DEST'+'ROY','destroy');class Ju extends me{constructor(_0x41ea48,_0x61171){super(),h(this,'_meshDetec'+'tion'),h(this,'_xrMesh'),h(this,'_lastChang'+'ed',-0x3e*0x27+0x1*-0x19f5+0x2367),h(this,'_position',new D()),h(this,'_rotation',new le()),(this['_meshDetec'+'tion']=_0x41ea48,this['_xrMesh']=_0x61171,this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime']);}get['xrMesh'](){return this['_xrMesh'];}get['label'](){return this['_xrMesh']['semanticLa'+'bel']||'';}get['vertices'](){return this['_xrMesh']['vertices'];}get['indices'](){return this['_xrMesh']['indices'];}['destroy'](){this['_xrMesh']&&(this['_xrMesh']=null,this['fire']('remove'));}['update'](_0x507815){const _0x1f67ba=this['_meshDetec'+'tion']['_manager'],_0x7a25c1=_0x507815['getPose'](this['_xrMesh']['meshSpace'],_0x1f67ba['_reference'+'Space']);_0x7a25c1&&(this['_position']['copy'](_0x7a25c1['transform']['position']),this['_rotation']['copy'](_0x7a25c1['transform']['orientatio'+'n'])),this['_lastChang'+'ed']!==this['_xrMesh']['lastChange'+'dTime']&&(this['_lastChang'+'ed']=this['_xrMesh']['lastChange'+'dTime'],this['fire']('change'));}['getPositio'+'n'](){return this['_position'];}['getRotatio'+'n'](){return this['_rotation'];}}h(Ju,'EVENT_REMO'+'VE','remove'),h(Ju,'EVENT_CHAN'+'GE','change');class Lo extends me{constructor(_0x22e6d6){super(),h(this,'_manager'),h(this,'_supported',Ae['browser']&&!!window['XRMesh']),h(this,'_available',!(-0x2150+-0x2*0xddb+0x397*0x11)),h(this,'_index',new Map()),h(this,'_list',[]),(this['_manager']=_0x22e6d6,this['_supported']&&(this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this)));}['update'](_0x7f0a4e){if(!this['_available']){if(!this['_manager']['session']['enabledFea'+'tures']&&_0x7f0a4e['detectedMe'+'shes']['size'])this['_available']=!(-0x269c+0x1386+-0x1*-0x1316),this['fire']('available');else return;}for(const _0x2aa772 of _0x7f0a4e['detectedMe'+'shes']){let _0x3f4bee=this['_index']['get'](_0x2aa772);_0x3f4bee?_0x3f4bee['update'](_0x7f0a4e):(_0x3f4bee=new Ju(this,_0x2aa772),this['_index']['set'](_0x2aa772,_0x3f4bee),this['_list']['push'](_0x3f4bee),_0x3f4bee['update'](_0x7f0a4e),this['fire']('add',_0x3f4bee));}for(const _0x11b5a5 of this['_index']['values']())_0x7f0a4e['detectedMe'+'shes']['has'](_0x11b5a5['xrMesh'])||this['_removeMes'+'h'](_0x11b5a5);}['_removeMes'+'h'](_0x19214b){this['_index']['delete'](_0x19214b['xrMesh']),this['_list']['splice'](this['_list']['indexOf'](_0x19214b),-0x24ec+0x1c1f+0x8ce),_0x19214b['destroy'](),this['fire']('remove',_0x19214b);}['_onSession'+'Start'](){if(this['_manager']['session']['enabledFea'+'tures']){const _0x1dc95a=this['_manager']['session']['enabledFea'+'tures']['indexOf']('mesh-detec'+'tion')!==-(0xf9*-0x18+-0x590+0x9a3*0x3);if(!_0x1dc95a)return;this['_available']=_0x1dc95a,this['fire']('available');}}['_onSession'+'End'](){if(this['_available']){this['_available']=!(0xc*-0x1e7+0xffd*0x2+0x925*-0x1);for(const _0x13cee8 of this['_index']['values']())this['_removeMes'+'h'](_0x13cee8);this['fire']('unavailabl'+'e');}}get['supported'](){return this['_supported'];}get['available'](){return this['_available'];}get['meshes'](){return this['_list'];}}h(Lo,'EVENT_AVAI'+'LABLE','available'),h(Lo,'EVENT_UNAV'+'AILABLE','unavailabl'+'e'),h(Lo,'EVENT_ADD','add'),h(Lo,'EVENT_REMO'+'VE','remove');class O0 extends me{constructor(_0x273019,_0x1b38ac,_0xd9da9e){super(),h(this,'_manager'),h(this,'_xrView'),h(this,'_positionD'+'ata',new Float32Array(-0x1687+0x1766+-0x2c*0x5)),h(this,'_viewport',new re()),h(this,'_projMat',new te()),h(this,'_projViewO'+'ffMat',new te()),h(this,'_viewMat',new te()),h(this,'_viewOffMa'+'t',new te()),h(this,'_viewMat3',new _i()),h(this,'_viewInvMa'+'t',new te()),h(this,'_viewInvOf'+'fMat',new te()),h(this,'_xrCamera',null),h(this,'_textureCo'+'lor',null),h(this,'_textureDe'+'pth',null),h(this,'_depthInfo',null),h(this,'_emptyDept'+'hBuffer',new Uint8Array(-0x2*-0x12b6+-0xb*-0x21d+-0x3c8b)),h(this,'_depthMatr'+'ix',new te()),(this['_manager']=_0x273019,this['_xrView']=_0x1b38ac);const _0x546642=this['_manager']['app']['graphicsDe'+'vice'];if(this['_manager']['views']['supportedC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera'],this['_manager']['views']['availableC'+'olor']&&this['_xrCamera']&&(this['_textureCo'+'lor']=new _e(_0x546642,{'format':Cr,'mipmaps':!(0x1600+-0x944+-0xcbb),'addressU':ue,'addressV':ue,'minFilter':vt,'magFilter':vt,'width':this['_xrCamera']['width'],'height':this['_xrCamera']['height'],'name':'XrView-'+this['_xrView']['eye']+'-Color'}))),this['_manager']['views']['supportedD'+'epth']&&this['_manager']['views']['availableD'+'epth']){const _0x143a96=this['_manager']['views']['depthGpuOp'+'timized']?Te:vt;this['_textureDe'+'pth']=new _e(_0x546642,{'format':this['_manager']['views']['depthPixel'+'Format'],'arrayLength':_0xd9da9e===0x57*-0x26+-0x8*-0xd0+0x66b?0xb99*0x1+-0x1*0xac0+-0x1f*0x7:_0xd9da9e,'mipmaps':!(-0x149d+-0x7b1*0x1+-0x1c4f*-0x1),'addressU':ue,'addressV':ue,'minFilter':_0x143a96,'magFilter':_0x143a96,'width':0x4,'height':0x4,'name':'XrView-'+this['_xrView']['eye']+'-Depth'});for(let _0x178ea3=-0x1*-0x2e+0x199d+0x47*-0x5d;_0x178ea3<this['_textureDe'+'pth']['_levels']['length'];_0x178ea3++)this['_textureDe'+'pth']['_levels'][_0x178ea3]=this['_emptyDept'+'hBuffer'];this['_textureDe'+'pth']['upload']();}(this['_textureCo'+'lor']||this['_textureDe'+'pth'])&&_0x546642['on']('devicelost',this['_onDeviceL'+'ost'],this);}get['textureCol'+'or'](){return this['_textureCo'+'lor'];}get['textureDep'+'th'](){return this['_textureDe'+'pth'];}get['depthUvMat'+'rix'](){return this['_depthMatr'+'ix'];}get['depthValue'+'ToMeters'](){var _0x15c4ad;return((_0x15c4ad=this['_depthInfo'])==null?void(-0x2ec+0x23c5*-0x1+-0x7bd*-0x5):_0x15c4ad['rawValueTo'+'Meters'])||0x20d0+-0x1*0x2291+0x1c1;}get['eye'](){return this['_xrView']['eye'];}get['viewport'](){return this['_viewport'];}get['projMat'](){return this['_projMat'];}get['projViewOf'+'fMat'](){return this['_projViewO'+'ffMat'];}get['viewOffMat'](){return this['_viewOffMa'+'t'];}get['viewInvOff'+'Mat'](){return this['_viewInvOf'+'fMat'];}get['viewMat3'](){return this['_viewMat3'];}get['positionDa'+'ta'](){return this['_positionD'+'ata'];}['update'](_0xba24d4,_0x143e35){this['_xrView']=_0x143e35,this['_manager']['views']['availableC'+'olor']&&(this['_xrCamera']=this['_xrView']['camera']);const _0x20815e=_0xba24d4['session']['renderStat'+'e']['baseLayer']['getViewpor'+'t'](this['_xrView']);this['_viewport']['x']=_0x20815e['x'],this['_viewport']['y']=_0x20815e['y'],this['_viewport']['z']=_0x20815e['width'],this['_viewport']['w']=_0x20815e['height'],this['_projMat']['set'](this['_xrView']['projection'+'Matrix']),this['_viewMat']['set'](this['_xrView']['transform']['inverse']['matrix']),this['_viewInvMa'+'t']['set'](this['_xrView']['transform']['matrix']),this['_updateTex'+'tureColor'](),this['_updateDep'+'th'](_0xba24d4);}['_updateTex'+'tureColor'](){if(!this['_manager']['views']['availableC'+'olor']||!this['_xrCamera']||!this['_textureCo'+'lor'])return;const _0x196c95=this['_manager']['webglBindi'+'ng'];if(!_0x196c95)return;const _0x127272=_0x196c95['getCameraI'+'mage'](this['_xrCamera']);if(!_0x127272)return;const _0xc7fdcd=this['_manager']['app']['graphicsDe'+'vice'],_0x3f0442=_0xc7fdcd['gl'];if(!this['_frameBuff'+'erSource'])this['_frameBuff'+'erSource']=_0x3f0442['createFram'+'ebuffer'](),this['_frameBuff'+'er']=_0x3f0442['createFram'+'ebuffer']();else{const _0x4f9020=_0x3f0442['COLOR_ATTA'+'CHMENT0'],_0x3ea025=this['_xrCamera']['width'],_0x37803f=this['_xrCamera']['height'];_0xc7fdcd['setFramebu'+'ffer'](this['_frameBuff'+'erSource']),_0x3f0442['framebuffe'+'rTexture2D'](_0x3f0442['FRAMEBUFFE'+'R'],_0x4f9020,_0x3f0442['TEXTURE_2D'],_0x127272,0x773*-0x3+0x1913+-0x2*0x15d),_0xc7fdcd['setFramebu'+'ffer'](this['_frameBuff'+'er']),_0x3f0442['framebuffe'+'rTexture2D'](_0x3f0442['FRAMEBUFFE'+'R'],_0x4f9020,_0x3f0442['TEXTURE_2D'],this['_textureCo'+'lor']['impl']['_glTexture'],0xb*-0x1a2+-0x135a*-0x2+-0x14be),_0x3f0442['bindFrameb'+'uffer'](_0x3f0442['READ_FRAME'+'BUFFER'],this['_frameBuff'+'erSource']),_0x3f0442['bindFrameb'+'uffer'](_0x3f0442['DRAW_FRAME'+'BUFFER'],this['_frameBuff'+'er']),_0x3f0442['blitFrameb'+'uffer'](-0x5*0x586+-0x5d5*0x5+-0xf*-0x3c9,_0x37803f,_0x3ea025,0x1446+-0x4*0x125+-0xfb2,-0x1e9f+0x470+0x1a2f,0xf51+-0x1688+-0x1*-0x737,_0x3ea025,_0x37803f,_0x3f0442['COLOR_BUFF'+'ER_BIT'],_0x3f0442['NEAREST']);}}['_updateDep'+'th'](_0x2c68f5){var _0x1fb177,_0x2a6496;if(!this['_manager']['views']['availableD'+'epth']||!this['_textureDe'+'pth'])return;const _0x3535fd=this['_manager']['views']['depthGpuOp'+'timized'],_0x26a0c1=_0x3535fd?this['_manager']['webglBindi'+'ng']:_0x2c68f5;if(!_0x26a0c1){this['_depthInfo']=null;return;}const _0x151603=_0x26a0c1['getDepthIn'+'formation'](this['_xrView']);if(!_0x151603){this['_depthInfo']=null;return;}let _0x4d2c47=!this['_depthInfo']!=!_0x151603;this['_depthInfo']=_0x151603;const _0x3dcb99=((_0x1fb177=this['_depthInfo'])==null?void(-0x40e+-0xd3*0x2b+0x1*0x277f):_0x1fb177['width'])||0x23d+0xb*0x2d5+-0x18*0x164,_0x2fb899=((_0x2a6496=this['_depthInfo'])==null?void(0x2007+0x1437+-0x343e):_0x2a6496['height'])||0x625*0x3+-0x1943+-0x36c*-0x2;let _0x1f8b12=!(0x1e7*-0x4+0x248d+0x8*-0x39e);if((this['_textureDe'+'pth']['width']!==_0x3dcb99||this['_textureDe'+'pth']['height']!==_0x2fb899)&&(this['_textureDe'+'pth']['_width']=_0x3dcb99,this['_textureDe'+'pth']['_height']=_0x2fb899,_0x4d2c47=!(-0xee0+-0x57*0x2+0xb*0x16a),_0x1f8b12=!(0x4f*0x1f+0x5cb*-0x1+0x15*-0x2e)),_0x4d2c47&&(this['_depthInfo']?this['_depthMatr'+'ix']['data']['set'](this['_depthInfo']['normDepthB'+'ufferFromN'+'ormView']['matrix']):this['_depthMatr'+'ix']['setIdentit'+'y']()),this['_depthInfo']){if(_0x3535fd){if(this['_depthInfo']['texture']){const _0x596ad5=this['_manager']['app']['graphicsDe'+'vice']['gl'];switch(this['_textureDe'+'pth']['impl']['_glTexture']=this['_depthInfo']['texture'],this['_depthInfo']['textureTyp'+'e']==='texture-ar'+'ray'?this['_textureDe'+'pth']['impl']['_glTarget']=_0x596ad5['TEXTURE_2D'+'_ARRAY']:this['_textureDe'+'pth']['impl']['_glTarget']=_0x596ad5['TEXTURE_2D'],this['_manager']['views']['depthPixel'+'Format']){case Ji:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x596ad5['R32F'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x596ad5['FLOAT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x596ad5['RED'];break;case $i:this['_textureDe'+'pth']['impl']['_glInterna'+'lFormat']=_0x596ad5['DEPTH_COMP'+'ONENT16'],this['_textureDe'+'pth']['impl']['_glPixelTy'+'pe']=_0x596ad5['UNSIGNED_S'+'HORT'],this['_textureDe'+'pth']['impl']['_glFormat']=_0x596ad5['DEPTH_COMP'+'ONENT'];break;}this['_textureDe'+'pth']['impl']['_glCreated']=!(-0x1267+-0x1*0x6de+0x1945);}}else this['_textureDe'+'pth']['_levels'][0xe3*0x17+-0x2*0x557+0x33d*-0x3]=new Uint8Array(this['_depthInfo']['data']),this['_textureDe'+'pth']['upload']();}else this['_textureDe'+'pth']['_levels'][-0x2b*-0x81+-0x13d2+-0x1d9]=this['_emptyDept'+'hBuffer'],this['_textureDe'+'pth']['upload']();_0x1f8b12&&this['fire']('depth:resi'+'ze',_0x3dcb99,_0x2fb899);}['updateTran'+'sforms'](_0xa3b19){_0xa3b19?(this['_viewInvOf'+'fMat']['mul2'](_0xa3b19,this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewInvOf'+'fMat'])['invert']()):(this['_viewInvOf'+'fMat']['copy'](this['_viewInvMa'+'t']),this['viewOffMat']['copy'](this['_viewMat'])),this['_viewMat3']['setFromMat'+'4'](this['_viewOffMa'+'t']),this['_projViewO'+'ffMat']['mul2'](this['_projMat'],this['_viewOffMa'+'t']),this['_positionD'+'ata'][-0x1*-0x1645+-0x329*-0x4+-0x1*0x22e9]=this['_viewInvOf'+'fMat']['data'][-0x2390+0x2d*-0x9+0x2531],this['_positionD'+'ata'][0x85*0x1a+-0xaa1+-0x10*0x2e]=this['_viewInvOf'+'fMat']['data'][-0x98a+-0x23ec+0x2d83],this['_positionD'+'ata'][0x123*0x1a+-0x3*0x522+-0xe26]=this['_viewInvOf'+'fMat']['data'][0x1b17+0x1e2d+0x989*-0x6];}['_onDeviceL'+'ost'](){this['_frameBuff'+'erSource']=null,this['_frameBuff'+'er']=null,this['_depthInfo']=null;}['getDepth'](_0x497c2d,_0x18cf1a){var _0x314d66;return this['_manager']['views']['depthGpuOp'+'timized']?null:((_0x314d66=this['_depthInfo'])==null?void(-0x490+-0x1dab*-0x1+0x1*-0x191b):_0x314d66['getDepthIn'+'Meters'](_0x497c2d,_0x18cf1a))??null;}['destroy'](){if(this['_depthInfo']=null,this['_textureCo'+'lor']&&(this['_textureCo'+'lor']['destroy'](),this['_textureCo'+'lor']=null),this['_textureDe'+'pth']&&(this['_textureDe'+'pth']['destroy'](),this['_textureDe'+'pth']=null),this['_frameBuff'+'erSource']){const _0x336f62=this['_manager']['app']['graphicsDe'+'vice']['gl'];_0x336f62['deleteFram'+'ebuffer'](this['_frameBuff'+'erSource']),this['_frameBuff'+'erSource']=null,_0x336f62['deleteFram'+'ebuffer'](this['_frameBuff'+'er']),this['_frameBuff'+'er']=null;}}}h(O0,'EVENT_DEPT'+'HRESIZE','depth:resi'+'ze');class Bh extends me{constructor(_0x40cf89){super(),h(this,'_manager'),h(this,'_index',new Map()),h(this,'_indexTmp',new Map()),h(this,'_list',[]),h(this,'_supported'+'Color',Ae['browser']&&!!window['XRCamera']&&!!window['XRWebGLBin'+'ding']),h(this,'_supported'+'Depth',Ae['browser']&&!!window['XRDepthInf'+'ormation']),h(this,'_available'+'Color',!(-0x65*0xe+-0x407+-0x4c7*-0x2)),h(this,'_available'+'Depth',!(0x1e4d*-0x1+-0xb11*0x1+0x295f)),h(this,'_depthUsag'+'e',''),h(this,'_depthForm'+'at',''),h(this,'_depthForm'+'ats',{[M0]:ap,[D0]:$i,[I0]:Ji}),(this['_manager']=_0x40cf89,this['_manager']['on']('start',this['_onSession'+'Start'],this),this['_manager']['on']('end',this['_onSession'+'End'],this));}get['list'](){return this['_list'];}get['supportedC'+'olor'](){return this['_supported'+'Color'];}get['supportedD'+'epth'](){return this['_supported'+'Depth'];}get['availableC'+'olor'](){return this['_available'+'Color'];}get['availableD'+'epth'](){return this['_available'+'Depth'];}get['depthUsage'](){return this['_depthUsag'+'e'];}get['depthGpuOp'+'timized'](){return this['_depthUsag'+'e']===P0;}get['depthForma'+'t'](){return this['_depthForm'+'at'];}get['depthPixel'+'Format'](){return this['_depthForm'+'ats'][this['_depthForm'+'at']]??null;}['update'](_0x3d0cca,_0x59aaab){for(let _0x1f087b=-0x748+0x23d8+-0x1c90;_0x1f087b<_0x59aaab['length'];_0x1f087b++)this['_indexTmp']['set'](_0x59aaab[_0x1f087b]['eye'],_0x59aaab[_0x1f087b]);for(const [_0x2e53b9,_0x4ad1dd]of this['_indexTmp']){let _0x360bef=this['_index']['get'](_0x2e53b9);_0x360bef?_0x360bef['update'](_0x3d0cca,_0x4ad1dd):(_0x360bef=new O0(this['_manager'],_0x4ad1dd,_0x59aaab['length']),this['_index']['set'](_0x2e53b9,_0x360bef),this['_list']['push'](_0x360bef),_0x360bef['update'](_0x3d0cca,_0x4ad1dd),this['fire']('add',_0x360bef));}for(const [_0x3ebe57,_0x42e567]of this['_index']){if(this['_indexTmp']['has'](_0x3ebe57))continue;_0x42e567['destroy'](),this['_index']['delete'](_0x3ebe57);const _0x4721cd=this['_list']['indexOf'](_0x42e567);_0x4721cd!==-(-0xbcf+0x1155+-0x585)&&this['_list']['splice'](_0x4721cd,0xf*0x18d+0x13c5+0x89b*-0x5),this['fire']('remove',_0x42e567);}this['_indexTmp']['clear']();}['get'](_0x6a90c2){return this['_index']['get'](_0x6a90c2)||null;}['_onSession'+'Start'](){if(this['_manager']['type']===$o&&this['_manager']['session']['enabledFea'+'tures']&&(this['_available'+'Color']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('camera-acc'+'ess')!==-(-0x23de*0x1+0x1d4b+-0x2*-0x34a),this['_available'+'Depth']=this['_manager']['session']['enabledFea'+'tures']['indexOf']('depth-sens'+'ing')!==-(-0x71*-0x1d+0x267b+-0x3347*0x1),this['_available'+'Depth'])){const _0x314418=this['_manager']['session'];this['_depthUsag'+'e']=_0x314418['depthUsage'],this['_depthForm'+'at']=_0x314418['depthDataF'+'ormat'];}}['_onSession'+'End'](){for(const _0x3e3268 of this['_index']['values']())_0x3e3268['destroy']();this['_index']['clear'](),this['_available'+'Color']=!(0x171d+0x1f29+-0x21*0x1a5),this['_available'+'Depth']=!(-0x2cd*0x7+0x1ba3+-0x3*0x2ad),this['_depthUsag'+'e']='',this['_depthForm'+'at']='',this['_list']['length']=-0x70*-0x2b+0x7*-0x22d+0x83*-0x7;}}h(Bh,'EVENT_ADD','add'),h(Bh,'EVENT_REMO'+'VE','remove');class ln extends me{constructor(_0x4032e6){super(),h(this,'app'),h(this,'_supported',Ae['browser']&&!!navigator['xr']),h(this,'_available',{}),h(this,'_type',null),h(this,'_spaceType',null),h(this,'_session',null),h(this,'_baseLayer',null),h(this,'webglBindi'+'ng',null),h(this,'_reference'+'Space',null),h(this,'domOverlay'),h(this,'hitTest'),h(this,'imageTrack'+'ing'),h(this,'planeDetec'+'tion'),h(this,'meshDetect'+'ion'),h(this,'input'),h(this,'lightEstim'+'ation'),h(this,'views'),h(this,'anchors'),h(this,'_camera',null),h(this,'_localPosi'+'tion',new D()),h(this,'_localRota'+'tion',new le()),h(this,'_depthNear',0x204*-0x2+0x19*-0x125+-0x89*-0x3d+0.1),h(this,'_depthFar',0x22bc+-0xec*0x5+-0x1a38),h(this,'_supported'+'FrameRates',null),h(this,'_width',-0x5*0x5b1+-0x119c+0x2e11),h(this,'_height',0x1234+-0x17*0xb6+-0x1da),h(this,'_framebuff'+'erScaleFac'+'tor',-0x9*-0x213+0x2c7+-0x1571*0x1),(this['app']=_0x4032e6,this['_available'][lU]=!(-0x17cd+-0x82e*0x1+0x1ffc*0x1),this['_available'][cU]=!(0x9b5*-0x2+0x1d*0x2c+0xe6f),this['_available'][$o]=!(-0x1596+-0x1*0x1f28+0x283*0x15),this['views']=new Bh(this),this['domOverlay']=new fU(this),this['hitTest']=new jr(this),this['imageTrack'+'ing']=new L0(this),this['planeDetec'+'tion']=new Do(this),this['meshDetect'+'ion']=new Lo(this),this['input']=new Li(this),this['lightEstim'+'ation']=new Zu(this),this['anchors']=new on(this),this['views']=new Bh(this),this['_supported']&&(navigator['xr']['addEventLi'+'stener']('devicechan'+'ge',()=>{this['_deviceAva'+'ilabilityC'+'heck']();}),this['_deviceAva'+'ilabilityC'+'heck'](),this['app']['graphicsDe'+'vice']['on']('devicelost',this['_onDeviceL'+'ost'],this),this['app']['graphicsDe'+'vice']['on']('devicerest'+'ored',this['_onDeviceR'+'estored'],this)),this['isPC']=z0());}['destroy'](){}['start'](_0x2aab52,_0xb1d35d,_0x3ca823,_0x1c4cab){let _0x55ce16=_0x1c4cab;if(typeof _0x1c4cab=='object'&&(_0x55ce16=_0x1c4cab['callback']),!this['_available'][_0xb1d35d]){_0x55ce16&&_0x55ce16(new Error('XR\x20is\x20not\x20'+'available'));return;}if(this['_session']){_0x55ce16&&_0x55ce16(new Error('XR\x20session'+'\x20is\x20alread'+'y\x20started'));return;}this['_camera']=_0x2aab52,this['_camera']['camera']['xr']=this,this['_type']=_0xb1d35d,this['_spaceType']=_0x3ca823,this['_framebuff'+'erScaleFac'+'tor']=(_0x1c4cab==null?void(-0x115*-0x7+0x1*0xf76+0x1709*-0x1):_0x1c4cab['framebuffe'+'rScaleFact'+'or'])??0x32*0x9+-0x5f3+0x432,this['_setClipPl'+'anes'](_0x2aab52['nearClip'],_0x2aab52['farClip']);const _0xaec2da={'requiredFeatures':[_0x3ca823],'optionalFeatures':[]},_0x516613=this['app']['graphicsDe'+'vice'];_0x516613!=null&&_0x516613['isWebGPU']&&_0xaec2da['requiredFe'+'atures']['push']('webgpu');const _0x40012b=_0x516613==null?void(-0x876+-0x1af3*0x1+0x2369):_0x516613['isWebGL2'];if(_0xb1d35d===$o){if(_0xaec2da['optionalFe'+'atures']['push']('light-esti'+'mation'),_0xaec2da['optionalFe'+'atures']['push']('hit-test'),_0x1c4cab&&(_0x1c4cab['imageTrack'+'ing']&&this['imageTrack'+'ing']['supported']&&_0xaec2da['optionalFe'+'atures']['push']('image-trac'+'king'),_0x1c4cab['planeDetec'+'tion']&&_0xaec2da['optionalFe'+'atures']['push']('plane-dete'+'ction'),_0x1c4cab['meshDetect'+'ion']&&_0xaec2da['optionalFe'+'atures']['push']('mesh-detec'+'tion')),this['domOverlay']['supported']&&this['domOverlay']['root']&&(_0xaec2da['optionalFe'+'atures']['push']('dom-overla'+'y'),_0xaec2da['domOverlay']={'root':this['domOverlay']['root']}),_0x1c4cab&&_0x1c4cab['anchors']&&this['anchors']['supported']&&_0xaec2da['optionalFe'+'atures']['push']('anchors'),_0x1c4cab&&_0x1c4cab['depthSensi'+'ng']&&this['views']['supportedD'+'epth']){_0xaec2da['optionalFe'+'atures']['push']('depth-sens'+'ing');const _0x5d8848=[],_0x4f2eeb=[];if(_0x5d8848['push'](P0,dU),_0x4f2eeb['push'](I0,M0,D0),_0x1c4cab['depthSensi'+'ng']['usagePrefe'+'rence']){const _0xd1e00f=_0x5d8848['indexOf'](_0x1c4cab['depthSensi'+'ng']['usagePrefe'+'rence']);_0xd1e00f!==-(-0x2*-0x41f+0x3*0x6b8+-0x1c65)&&_0x5d8848['splice'](_0xd1e00f,-0x1*0x25cd+0x1819+0x79*0x1d),_0x5d8848['unshift'](_0x1c4cab['depthSensi'+'ng']['usagePrefe'+'rence']);}if(_0x1c4cab['depthSensi'+'ng']['dataFormat'+'Preference']){const _0x51842a=_0x4f2eeb['indexOf'](_0x1c4cab['depthSensi'+'ng']['dataFormat'+'Preference']);_0x51842a!==-(0x2218+-0xd*0x147+-0x117c)&&_0x4f2eeb['splice'](_0x51842a,-0x9e4*-0x2+0x1c58+-0x301f),_0x4f2eeb['unshift'](_0x1c4cab['depthSensi'+'ng']['dataFormat'+'Preference']);}_0xaec2da['depthSensi'+'ng']={'usagePreference':_0x5d8848,'dataFormatPreference':_0x4f2eeb};}_0x40012b&&_0x1c4cab&&_0x1c4cab['cameraColo'+'r']&&this['views']['supportedC'+'olor']&&_0xaec2da['optionalFe'+'atures']['push']('camera-acc'+'ess');}_0xaec2da['optionalFe'+'atures']['push']('hand-track'+'ing'),_0x1c4cab&&_0x1c4cab['optionalFe'+'atures']&&(_0xaec2da['optionalFe'+'atures']=_0xaec2da['optionalFe'+'atures']['concat'](_0x1c4cab['optionalFe'+'atures'])),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['images']['length']?this['imageTrack'+'ing']['prepareIma'+'ges']((_0x974be9,_0x17a7fd)=>{if(_0x974be9){_0x55ce16&&_0x55ce16(_0x974be9),this['fire']('error',_0x974be9);return;}_0x17a7fd!==null&&(_0xaec2da['trackedIma'+'ges']=_0x17a7fd),this['_onStartOp'+'tionsReady'](_0xb1d35d,_0x3ca823,_0xaec2da,_0x55ce16);}):this['_onStartOp'+'tionsReady'](_0xb1d35d,_0x3ca823,_0xaec2da,_0x55ce16);}['_onStartOp'+'tionsReady'](_0xaf72c4,_0x43d2df,_0x491c3d,_0x39aee3){const _0x54e5ba=this['isPC']?{'requiredFeatures':['local-floo'+'r']}:_0x491c3d;navigator['xr']['requestSes'+'sion'](_0xaf72c4,_0x54e5ba)['then'](_0x40584e=>{this['_onSession'+'Start'](_0x40584e,_0x43d2df,_0x39aee3);})['catch'](_0x2f415a=>{this['_camera']['camera']['xr']=null,this['_camera']=null,this['_type']=null,this['_spaceType']=null,_0x39aee3&&_0x39aee3(_0x2f415a),this['fire']('error',_0x2f415a);});}['end'](_0x4115a8){if(!this['_session']){_0x4115a8&&_0x4115a8(new Error('XR\x20Session'+'\x20is\x20not\x20in'+'itialized'));return;}this['webglBindi'+'ng']=null,_0x4115a8&&this['once']('end',_0x4115a8),this['_session']['end']();}['isAvailabl'+'e'](_0x4b3422){return this['_available'][_0x4b3422];}['_deviceAva'+'ilabilityC'+'heck'](){for(const _0x15d367 in this['_available'])this['_sessionSu'+'pportCheck'](_0x15d367);}['initiateRo'+'omCapture'](_0x5f57f8){if(!this['_session']){_0x5f57f8(new Error('Session\x20is'+'\x20not\x20activ'+'e'));return;}if(!this['_session']['initiateRo'+'omCapture']){_0x5f57f8(new Error('Session\x20do'+'es\x20not\x20sup'+'port\x20manua'+'l\x20room\x20cap'+'ture'));return;}this['_session']['initiateRo'+'omCapture']()['then'](()=>{_0x5f57f8&&_0x5f57f8(null);})['catch'](_0x44ad01=>{_0x5f57f8&&_0x5f57f8(_0x44ad01);});}['updateTarg'+'etFrameRat'+'e'](_0x5c4ad9,_0x59f2eb){var _0x206813;if(!((_0x206813=this['_session'])!=null&&_0x206813['updateTarg'+'etFrameRat'+'e'])){_0x59f2eb==null||_0x59f2eb(new Error('unable\x20to\x20'+'update\x20fra'+'meRate'));return;}this['_session']['updateTarg'+'etFrameRat'+'e'](_0x5c4ad9)['then'](()=>{_0x59f2eb==null||_0x59f2eb();})['catch'](_0x608f37=>{_0x59f2eb==null||_0x59f2eb(_0x608f37);});}['_sessionSu'+'pportCheck'](_0x1249a0){navigator['xr']['isSessionS'+'upported'](_0x1249a0)['then'](_0xb68dee=>{this['_available'][_0x1249a0]!==_0xb68dee&&(this['_available'][_0x1249a0]=_0xb68dee,this['fire']('available',_0x1249a0,_0xb68dee),this['fire']('available:'+_0x1249a0,_0xb68dee));})['catch'](_0xb045e4=>{this['fire']('error',_0xb045e4);});}['_onSession'+'Start'](_0x1639ab,_0x4ae683,_0x4baa53){let _0x425c54=!(-0x2d*-0x79+-0x3d*0x82+0x9b6);this['_session']=_0x1639ab;const _0x21fd9c=()=>{this['fire']('visibility'+':change',_0x1639ab['visibility'+'State']);},_0xf73e47=()=>{this['_setClipPl'+'anes'](this['_camera']['nearClip'],this['_camera']['farClip']);},_0x4fa53a=()=>{this['_camera']&&(this['_camera']['off']('set_nearCl'+'ip',_0xf73e47),this['_camera']['off']('set_farCli'+'p',_0xf73e47),this['_camera']['camera']['xr']=null,this['_camera']=null),_0x1639ab['removeEven'+'tListener']('end',_0x4fa53a),_0x1639ab['removeEven'+'tListener']('visibility'+'change',_0x21fd9c),_0x425c54||this['fire']('end'),this['_session']=null,this['_reference'+'Space']=null,this['_width']=0x17c7+-0x85f*-0x2+-0x2885,this['_height']=0xac2+0x1666*0x1+-0x425*0x8,this['_type']=null,this['_spaceType']=null,this['app']['systems']&&this['app']['tick']();};_0x1639ab['addEventLi'+'stener']('end',_0x4fa53a),_0x1639ab['addEventLi'+'stener']('visibility'+'change',_0x21fd9c),this['_camera']['on']('set_nearCl'+'ip',_0xf73e47),this['_camera']['on']('set_farCli'+'p',_0xf73e47),w['assert'](window,'window\x20is\x20'+'needed\x20to\x20'+'scale\x20the\x20'+'XR\x20framebu'+'ffer.\x20Are\x20'+'you\x20runnin'+'g\x20XR\x20headl'+'ess?'),this['_createBas'+'eLayer'](),this['session']['supportedF'+'rameRates']?this['_supported'+'FrameRates']=Array['from'](this['session']['supportedF'+'rameRates']):this['_supported'+'FrameRates']=null,this['_session']['addEventLi'+'stener']('frameratec'+'hange',()=>{var _0x2eca7b;this['fire']('frameratec'+'hange',(_0x2eca7b=this['_session'])==null?void(-0x14aa+0x2*-0x8f5+0x2694):_0x2eca7b['frameRate']);}),_0x1639ab['requestRef'+'erenceSpac'+'e'](_0x4ae683)['then'](_0x52bab0=>{this['_reference'+'Space']=_0x52bab0,this['app']['tick'](),_0x4baa53&&_0x4baa53(null),this['fire']('start');})['catch'](_0xf313b3=>{_0x425c54=!(0xdd2+-0x119a+0x3c8),_0x1639ab['end'](),_0x4baa53&&_0x4baa53(_0xf313b3),this['fire']('error',_0xf313b3);});}['_setClipPl'+'anes'](_0x46c5c2,_0x5c3d68){this['_depthNear']===_0x46c5c2&&this['_depthFar']===_0x5c3d68||(this['_depthNear']=_0x46c5c2,this['_depthFar']=_0x5c3d68,this['_session']&&this['_session']['updateRend'+'erState']({'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_createBas'+'eLayer'](){const _0x17d566=this['app']['graphicsDe'+'vice'],_0xdba42f=_0x17d566['maxPixelRa'+'tio']/window['devicePixe'+'lRatio']*this['_framebuff'+'erScaleFac'+'tor'];if(this['_baseLayer']=new XRWebGLLayer(this['_session'],_0x17d566['gl'],{'alpha':!(-0x2f*0x83+0xab9+0x1*0xd54),'depth':!(-0xd*-0x219+-0x872+-0x12d3),'stencil':!(-0x1*-0x9d6+-0x4*0x88+-0x7b6),'framebufferScaleFactor':_0xdba42f,'antialias':!(0x125f*-0x1+0x15e+0x1102)}),_0x17d566!=null&&_0x17d566['isWebGL2']&&window['XRWebGLBin'+'ding'])try{this['webglBindi'+'ng']=new XRWebGLBinding(this['_session'],_0x17d566['gl']);}catch(_0x429fbe){this['fire']('error',_0x429fbe);}this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']});}['_onDeviceL'+'ost'](){this['_session']&&(this['webglBindi'+'ng']&&(this['webglBindi'+'ng']=null),this['_baseLayer']=null,this['_session']['updateRend'+'erState']({'baseLayer':this['_baseLayer'],'depthNear':this['_depthNear'],'depthFar':this['_depthFar']}));}['_onDeviceR'+'estored'](){this['_session']&&setTimeout(()=>{this['app']['graphicsDe'+'vice']['gl']['makeXRComp'+'atible']()['then'](()=>{this['_createBas'+'eLayer']();})['catch'](_0x10180d=>{this['fire']('error',_0x10180d);});},0xcfb*-0x2+0x1*0x6a1+0x1*0x1355);}['update'](_0x453e64){if(!this['_session'])return!(0x1803+-0x9e6*-0x2+0x7e*-0x59);const _0x1edeff=_0x453e64['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rWidth'],_0x55843f=_0x453e64['session']['renderStat'+'e']['baseLayer']['framebuffe'+'rHeight'];(this['_width']!==_0x1edeff||this['_height']!==_0x55843f)&&(this['_width']=_0x1edeff,this['_height']=_0x55843f,this['app']['graphicsDe'+'vice']['setResolut'+'ion'](_0x1edeff,_0x55843f));const _0x323754=_0x453e64['getViewerP'+'ose'](this['_reference'+'Space']);if(!_0x323754)return!(-0x1c6c+0x3*0x2e3+0x13c4);const _0x9d50a2=this['views']['list']['length'];this['views']['update'](_0x453e64,_0x323754['views']);const _0x232c75=_0x323754['transform']['position'],_0x1442e1=_0x323754['transform']['orientatio'+'n'];if(this['_localPosi'+'tion']['set'](_0x232c75['x'],_0x232c75['y'],_0x232c75['z']),this['_localRota'+'tion']['set'](_0x1442e1['x'],_0x1442e1['y'],_0x1442e1['z'],_0x1442e1['w']),_0x9d50a2===-0x29*0x2e+-0x4f9+0xc57&&this['views']['list']['length']>0x54d+0x10*0x94+-0x95*0x19){const _0x3a6473=new te(),_0x117e5d=this['views']['list'][-0x2417*0x1+-0x13b6*-0x1+0x1061];_0x3a6473['copy'](_0x117e5d['projMat']);const _0x186f44=_0x3a6473['data'],_0x53d084=(-0x885+-0xc3*0x6+-0xd19*-0x1)*Math['atan']((0x73a*-0x1+-0x1ebd+0x25f8)/_0x186f44[0xc5f*-0x1+-0x257*-0xf+-0x16b5*0x1])*(0x1*-0x13a5+-0x7c7*0x2+0x23e7)/Math['PI'],_0x128405=_0x186f44[-0xb*0x2aa+0xdee+0xf65]/_0x186f44[-0x716*0x1+-0x2028+0x273e],_0x35f182=_0x186f44[-0x252c+-0x2db*-0x2+-0x1f84*-0x1]/(_0x186f44[0x25df*-0x1+-0x4a*-0x33+0x172b]+(0x1*0x1d68+0x20c0+-0x3e27)),_0x52e362=_0x186f44[-0x36*0xb+0x22c5+-0x2065*0x1]/(_0x186f44[-0x4fc+0x5c*0xe+-0x2]-(-0x7*-0x139+-0x201a+-0x4*-0x5e3));this['_camera']['camera']['setXrPrope'+'rties']({'aspectRatio':_0x128405,'farClip':_0x35f182,'fov':_0x53d084,'horizontalFov':!(-0x1*0x1e77+-0x3*0x257+0x3*0xc7f),'nearClip':_0x52e362});}return this['_camera']['camera']['_node']['setLocalPo'+'sition'](this['_localPosi'+'tion']),this['_camera']['camera']['_node']['setLocalRo'+'tation'](this['_localRota'+'tion']),this['input']['update'](_0x453e64),this['_type']===$o&&(this['hitTest']['supported']&&this['hitTest']['update'](_0x453e64),this['lightEstim'+'ation']['supported']&&this['lightEstim'+'ation']['update'](_0x453e64),this['imageTrack'+'ing']['supported']&&this['imageTrack'+'ing']['update'](_0x453e64),this['anchors']['supported']&&this['anchors']['update'](_0x453e64),this['planeDetec'+'tion']['supported']&&this['planeDetec'+'tion']['update'](_0x453e64),this['meshDetect'+'ion']['supported']&&this['meshDetect'+'ion']['update'](_0x453e64)),this['fire']('update',_0x453e64),!(0x2171+-0x7*0x147+-0x1*0x1880);}get['supported'](){return this['_supported'];}get['active'](){return!!this['_session'];}get['type'](){return this['_type'];}get['spaceType'](){return this['_spaceType'];}get['session'](){return this['_session'];}get['frameRate'](){var _0x3a3d79;return((_0x3a3d79=this['_session'])==null?void(0x661*-0x1+0x566*-0x5+-0x215f*-0x1):_0x3a3d79['frameRate'])??null;}get['supportedF'+'rameRates'](){return this['_supported'+'FrameRates'];}get['framebuffe'+'rScaleFact'+'or'](){return this['_framebuff'+'erScaleFac'+'tor'];}set['fixedFovea'+'tion'](_0x1d5103){var _0x361bdb;(((_0x361bdb=this['_baseLayer'])==null?void(0x653+0x1785+-0x1dd8):_0x361bdb['fixedFovea'+'tion'])??null)!==null&&(this['app']['graphicsDe'+'vice']['samples']>0xe*-0x37+-0x1579*-0x1+-0x22*0x8b&&w['warn']('Fixed\x20Fove'+'ation\x20is\x20i'+'gnored.\x20Di'+'sable\x20anti'+'-aliasing\x20'+'for\x20it\x20to\x20'+'be\x20effecti'+'ve.'),this['_baseLayer']['fixedFovea'+'tion']=_0x1d5103);}get['fixedFovea'+'tion'](){var _0x87038;return((_0x87038=this['_baseLayer'])==null?void(-0x12ab*-0x1+0x7e4+-0x1a8f):_0x87038['fixedFovea'+'tion'])??null;}get['camera'](){return this['_camera']?this['_camera']['entity']:null;}get['visibility'+'State'](){return this['_session']?this['_session']['visibility'+'State']:null;}}h(ln,'EVENT_AVAI'+'LABLE','available'),h(ln,'EVENT_STAR'+'T','start'),h(ln,'EVENT_END','end'),h(ln,'EVENT_UPDA'+'TE','update'),h(ln,'EVENT_ERRO'+'R','error');class $U extends Ks{constructor(_0x3f65a4,_0x35e769={}){super(_0x3f65a4);const _0x40d4f2=new tL();_0x40d4f2['graphicsDe'+'vice']=_0x35e769['graphicsDe'+'vice']??this['createDevi'+'ce'](_0x3f65a4,_0x35e769),this['addCompone'+'ntSystems'](_0x40d4f2),this['addResourc'+'eHandles'](_0x40d4f2),_0x40d4f2['elementInp'+'ut']=_0x35e769['elementInp'+'ut'],_0x40d4f2['keyboard']=_0x35e769['keyboard'],_0x40d4f2['mouse']=_0x35e769['mouse'],_0x40d4f2['touch']=_0x35e769['touch'],_0x40d4f2['gamepads']=_0x35e769['gamepads'],_0x40d4f2['scriptPref'+'ix']=_0x35e769['scriptPref'+'ix'],_0x40d4f2['assetPrefi'+'x']=_0x35e769['assetPrefi'+'x'],_0x40d4f2['scriptsOrd'+'er']=_0x35e769['scriptsOrd'+'er'],_0x40d4f2['soundManag'+'er']=new Pw(),_0x40d4f2['lightmappe'+'r']=pL,_0x40d4f2['batchManag'+'er']=IE,_0x40d4f2['xr']=ln,this['init'](_0x40d4f2);}['createDevi'+'ce'](_0x4ad1ed,_0x8381c8){return _0x8381c8['graphicsDe'+'viceOption'+'s']||(_0x8381c8['graphicsDe'+'viceOption'+'s']={}),Ae['browser']&&navigator['xr']&&(_0x8381c8['graphicsDe'+'viceOption'+'s']['xrCompatib'+'le']=!(0x2*0x9a4+0x2330+0xc*-0x48a)),_0x8381c8['graphicsDe'+'viceOption'+'s']['alpha']=_0x8381c8['graphicsDe'+'viceOption'+'s']['alpha']||!(0x15cf*0x1+-0x133a+0xb*-0x3c),new aw(_0x4ad1ed,_0x8381c8['graphicsDe'+'viceOption'+'s']);}['addCompone'+'ntSystems'](_0x1ffd6d){_0x1ffd6d['componentS'+'ystems']=[wm,nR,NR,RL,BL,KR,zO,xF,wF,kF,hF,VL,kO,YO,LR,$L,aF,oF,mF,XR,UR,gF,BF];}['addResourc'+'eHandles'](_0x3c9b5e){_0x3c9b5e['resourceHa'+'ndlers']=[zF,WN,$N,XN,Ek,yk,oU,Ok,mk,jN,Dk,bk,JN,pk,QN,Ik,uk,ek,tk,YN,Nk,Lk,Rk,ZN,fk];}}class XU extends me{constructor(_0x222d42,_0x1792be){super(),h(this,'_assets',new Set()),h(this,'_loadingAs'+'sets',new Set()),h(this,'_waitingAs'+'sets',new Set()),h(this,'_loading',!(0x2*0x138+0x43*0x53+-0x305*0x8)),h(this,'_loaded',!(-0x1*-0xd4d+0x18ac*0x1+-0x25f8)),h(this,'_failed',[]),(this['_registry']=_0x1792be,_0x222d42['forEach'](_0x2d39f5=>{if(_0x2d39f5 instanceof pe)_0x2d39f5['registry']||(_0x2d39f5['registry']=_0x1792be),this['_assets']['add'](_0x2d39f5);else{const _0x29a2f3=_0x1792be['get'](_0x2d39f5);_0x29a2f3?this['_assets']['add'](_0x29a2f3):this['_waitForAs'+'set'](_0x2d39f5);}}));}['destroy'](){this['_registry']['off']('load',this['_onLoad']),this['_registry']['off']('error',this['_onError']),this['_waitingAs'+'sets']['forEach'](_0x5ce1e0=>{this['_registry']['off']('add:'+_0x5ce1e0,this['_onAddAsse'+'t']);}),this['off']('progress'),this['off']('load');}['_assetHasD'+'ependencie'+'s'](_0x5dafe1){var _0x4e201a;return _0x5dafe1['type']==='model'&&((_0x4e201a=_0x5dafe1['file'])==null?void(-0x1159+-0x59*-0xb+-0x2*-0x6c3):_0x4e201a['url'])&&_0x5dafe1['file']['url']&&_0x5dafe1['file']['url']['match'](/.json$/g);}['load'](_0x41e951,_0x37df5a){if(this['_loading']){console['debug']('AssetListL'+'oader:\x20Loa'+'d\x20function'+'\x20called\x20mu'+'ltiple\x20tim'+'es.');return;}this['_loading']=!(0x26bf+0x1d1+-0x2c*0xec),this['_callback']=_0x41e951,this['_scope']=_0x37df5a,this['_registry']['on']('load',this['_onLoad'],this),this['_registry']['on']('error',this['_onError'],this);let _0x468974=!(-0x23dd+-0x193d+0x3d1b*0x1);this['_assets']['forEach'](_0x14110f=>{_0x14110f['loaded']||(_0x468974=!(-0x1b6b+-0xa4c*0x2+0x3003),this['_assetHasD'+'ependencie'+'s'](_0x14110f)&&this['_registry']['loadFromUr'+'l'](_0x14110f['file']['url'],_0x14110f['type'],(_0x483af8,_0x521464)=>{if(_0x483af8){this['_onError'](_0x483af8,_0x14110f);return;}this['_onLoad'](_0x14110f);}),this['_loadingAs'+'sets']['add'](_0x14110f),this['_registry']['add'](_0x14110f));}),this['_loadingAs'+'sets']['forEach'](_0x27a931=>{this['_assetHasD'+'ependencie'+'s'](_0x27a931)||this['_registry']['load'](_0x27a931);}),!_0x468974&&this['_waitingAs'+'sets']['size']===-0x4c3*-0x7+0x3c0+-0xb*0x35f&&this['_loadingCo'+'mplete']();}['ready'](_0x3fd7df,_0x419cd9=this){this['_loaded']?_0x3fd7df['call'](_0x419cd9,Array['from'](this['_assets'])):this['once']('load',_0x17b937=>{_0x3fd7df['call'](_0x419cd9,_0x17b937);});}['_loadingCo'+'mplete'](){this['_loaded']||(this['_loaded']=!(-0xc72*0x2+0x8*-0x166+-0x905*-0x4),this['_registry']['off']('load',this['_onLoad'],this),this['_registry']['off']('error',this['_onError'],this),this['_failed']['length']?(this['_callback']&&this['_callback']['call'](this['_scope'],'Failed\x20to\x20'+'load\x20some\x20'+'assets',this['_failed']),this['fire']('error',this['_failed'])):(this['_callback']&&this['_callback']['call'](this['_scope']),this['fire']('load',Array['from'](this['_assets']))));}['_onLoad'](_0x4226f9){this['_loadingAs'+'sets']['has'](_0x4226f9)&&(this['fire']('progress',_0x4226f9),this['_loadingAs'+'sets']['delete'](_0x4226f9)),this['_loadingAs'+'sets']['size']===0x207a+-0xc30+-0x144a&&setTimeout(()=>{this['_loadingCo'+'mplete']();},0x259a+-0x6bf*0x1+-0x3*0xa49);}['_onError'](_0x59fd2d,_0x4f9ce5){this['_loadingAs'+'sets']['has'](_0x4f9ce5)&&(this['_failed']['push'](_0x4f9ce5),this['_loadingAs'+'sets']['delete'](_0x4f9ce5)),this['_loadingAs'+'sets']['size']===-0x1324+0x74b*-0x1+0x1a6f&&setTimeout(()=>{this['_loadingCo'+'mplete']();},-0x1*-0x161f+-0xd46*0x2+-0x46d*-0x1);}['_onAddAsse'+'t'](_0x2bb34a){this['_waitingAs'+'sets']['delete'](_0x2bb34a),this['_assets']['add'](_0x2bb34a),_0x2bb34a['loaded']||(this['_loadingAs'+'sets']['add'](_0x2bb34a),this['_registry']['load'](_0x2bb34a));}['_waitForAs'+'set'](_0xe3bba6){this['_waitingAs'+'sets']['add'](_0xe3bba6),this['_registry']['once']('add:'+_0xe3bba6,this['_onAddAsse'+'t'],this);}}const Fc=[],_U=[[],[],[]];class gU extends ys{constructor(_0x3aaa4d,_0x1118be){super(_0x3aaa4d),h(this,'viewBindGr'+'oups',[]),this['renderer']=_0x1118be;}['destroy'](){this['viewBindGr'+'oups']['forEach'](_0xe92d64=>{_0xe92d64['defaultUni'+'formBuffer']['destroy'](),_0xe92d64['destroy']();}),this['viewBindGr'+'oups']['length']=0x1*-0xd83+0xa*0xf+0xced;}['update'](_0x1f6c86,_0x3669a4,_0x36ad49,_0x1f02ee){this['camera']=_0x1f6c86,this['scene']=_0x3669a4,this['layers']=_0x36ad49,this['mapping']=_0x1f02ee;}['execute'](){const _0x42e267=this['device'],{renderer:_0x47db10,camera:_0x5eb116,scene:_0x4079e1,layers:_0x398e18,mapping:_0x3a9d9e,renderTarget:_0x4ebd64}=this,_0x34fda4=_0x4079e1['layers']['layerList'],_0x298595=_0x4079e1['layers']['subLayerEn'+'abled'],_0x4e8945=_0x4079e1['layers']['subLayerLi'+'st'];for(let _0x5eb712=0x167+0x11f5*-0x1+0x108e;_0x5eb712<_0x34fda4['length'];_0x5eb712++){const _0x3a8fce=_0x34fda4[_0x5eb712];if(!(_0x398e18&&_0x398e18['indexOf'](_0x3a8fce)<-0xeb7*-0x2+0x255*-0xd+0xe3)&&_0x3a8fce['enabled']&&_0x298595[_0x5eb712]&&_0x3a8fce['camerasSet']['has'](_0x5eb116['camera'])){const _0x2c9d3c=_0x4e8945[_0x5eb712];Q['pushGpuMar'+'ker'](_0x42e267,_0x3a8fce['name']+'('+(_0x2c9d3c?'TRANSP':'OPAQUE')+')'),_0x3a8fce['_clearDept'+'hBuffer']&&_0x47db10['clear'](_0x5eb116['camera'],!(-0x920*-0x2+0x59c+-0x17db),!(-0x199*-0x3+-0x113e+-0xc73*-0x1),!(0x13a8+-0x21b7+0xe10));const _0x3f2a2b=_0x3a8fce['meshInstan'+'ces'];for(let _0x3e0468=-0x12f2+-0x1*0x143b+0x1*0x272d;_0x3e0468<_0x3f2a2b['length'];_0x3e0468++){const _0x1a471e=_0x3f2a2b[_0x3e0468];_0x1a471e['pick']&&_0x1a471e['transparen'+'t']===_0x2c9d3c&&(Fc['push'](_0x1a471e),_0x3a9d9e['set'](_0x1a471e['id'],_0x1a471e));}Fc['length']>0x1*0x15b2+-0x7*-0x53a+-0x28*0x175&&(_0x4079e1['clusteredL'+'ightingEna'+'bled']&&_0x47db10['worldClust'+'ersAllocat'+'or']['empty']['activate'](),_0x47db10['setCameraU'+'niforms'](_0x5eb116['camera'],_0x4ebd64),_0x42e267['supportsUn'+'iformBuffe'+'rs']&&_0x47db10['setupViewU'+'niformBuff'+'ers'](this['viewBindGr'+'oups'],_0x47db10['viewUnifor'+'mFormat'],_0x47db10['viewBindGr'+'oupFormat'],null),_0x47db10['renderForw'+'ard'](_0x5eb116['camera'],_0x4ebd64,Fc,_U,Zn,_0xd12333=>{_0x42e267['setBlendSt'+'ate'](pt['NOBLEND']);}),Fc['length']=0x150+0x47d+-0x1b*0x37),Q['popGpuMark'+'er'](_0x42e267);}}}}const Rf=new Set(),SU=new re();let qU=class{constructor(_0x3f29fc,_0x28ae68,_0x1e4b61){h(this,'renderTarg'+'et',null),h(this,'mapping',new Map()),h(this,'deviceVali'+'d',!(0x1*-0xe5c+-0x1243+-0x4a9*-0x7)),(w['assert'](_0x3f29fc),this['renderer']=_0x3f29fc['renderer'],this['device']=_0x3f29fc['graphicsDe'+'vice'],this['renderPass']=new gU(this['device'],_0x3f29fc['renderer']),this['width']=-0x1659*-0x1+-0xd2b*-0x1+-0x4*0x8e1,this['height']=-0x2417+0x45+-0x51e*-0x7,this['resize'](_0x28ae68,_0x1e4b61),this['device']['on']('destroy',()=>{this['deviceVali'+'d']=!(-0x98c+-0x515*-0x5+-0xfdc);}));}['getSelecti'+'on'](_0x14db06,_0x1f0ade,_0x24d699=0x13f*0xd+0x12*-0xdf+-0x84,_0xbab892=-0x845+0x103+0x743){const _0x35851e=this['device'];if(_0x35851e['isWebGPU'])return w['errorOnce']('pc.Picker#'+'getSelecti'+'on\x20is\x20not\x20'+'supported\x20'+'on\x20WebGPU,'+'\x20use\x20pc.Pi'+'cker#getSe'+'lectionAsy'+'nc\x20instead'+'.'),[];w['assert'](typeof _0x14db06!='object','Picker.get'+'Selection:'+'param\x20\x27rec'+'t\x27\x20is\x20depr'+'ecated,\x20us'+'e\x20\x27x,\x20y,\x20w'+'idth,\x20heig'+'ht\x27\x20instea'+'d.'),_0x1f0ade=this['renderTarg'+'et']['height']-(_0x1f0ade+_0xbab892);const _0x56cac6=this['sanitizeRe'+'ct'](_0x14db06,_0x1f0ade,_0x24d699,_0xbab892);_0x35851e['setRenderT'+'arget'](this['renderTarg'+'et']),_0x35851e['updateBegi'+'n']();const _0x3bed17=new Uint8Array((0x321+-0x1*0x19dc+0x16bf)*_0x56cac6['z']*_0x56cac6['w']);return _0x35851e['readPixels'](_0x56cac6['x'],_0x56cac6['y'],_0x56cac6['z'],_0x56cac6['w'],_0x3bed17),_0x35851e['updateEnd'](),this['decodePixe'+'ls'](_0x3bed17,this['mapping']);}['getSelecti'+'onAsync'](_0x7d0e1f,_0x444cbd,_0x157fdd=-0x26f+0x55a*-0x2+0xd24,_0x22ff6e=-0x13af+0x1dab+0x49*-0x23){var _0x3e79e6;(_0x3e79e6=this['device'])!=null&&_0x3e79e6['isWebGL2']&&(_0x444cbd=this['renderTarg'+'et']['height']-(_0x444cbd+_0x22ff6e));const _0xa3681b=this['sanitizeRe'+'ct'](_0x7d0e1f,_0x444cbd,_0x157fdd,_0x22ff6e);return this['renderTarg'+'et']['colorBuffe'+'r']['read'](_0xa3681b['x'],_0xa3681b['y'],_0xa3681b['z'],_0xa3681b['w'],{'renderTarget':this['renderTarg'+'et'],'immediate':!(0x6*-0xd+-0x12e4+0x27*0x7e)})['then'](_0x353e21=>this['decodePixe'+'ls'](_0x353e21,this['mapping']));}['sanitizeRe'+'ct'](_0x24a1f6,_0x146754,_0x2d5118,_0x31160a){const _0x18769a=this['renderTarg'+'et']['width'],_0x5016b1=this['renderTarg'+'et']['height'];return _0x24a1f6=Y['clamp'](Math['floor'](_0x24a1f6),0x6*0x607+-0x1cbc+0x3b7*-0x2,_0x18769a-(-0x5b*0x13+-0xf0+0x7b2)),_0x146754=Y['clamp'](Math['floor'](_0x146754),-0x26ed+0xa7b*0x1+0x1c72,_0x5016b1-(-0x9b+-0x1196+-0x89*-0x22)),_0x2d5118=Math['floor'](Math['max'](_0x2d5118,0x1995+-0x5*-0x485+-0x100f*0x3)),_0x2d5118=Math['min'](_0x2d5118,_0x18769a-_0x24a1f6),_0x31160a=Math['floor'](Math['max'](_0x31160a,0x1e60*-0x1+-0x2155+0x1fdb*0x2)),_0x31160a=Math['min'](_0x31160a,_0x5016b1-_0x146754),SU['set'](_0x24a1f6,_0x146754,_0x2d5118,_0x31160a);}['decodePixe'+'ls'](_0x29cfd8,_0x53f1de){const _0x440489=[];if(this['deviceVali'+'d']){const _0x24a960=_0x29cfd8['length'];for(let _0x36111a=0x10b+0x18*0x12a+-0x9a9*0x3;_0x36111a<_0x24a960;_0x36111a+=-0x60c+-0x60*0x2+0x6d0){const _0x10dd47=_0x29cfd8[_0x36111a+(-0x15a9+0x322*-0xc+0x3b41*0x1)],_0x23f018=_0x29cfd8[_0x36111a+(0xa5d*-0x1+-0x169b*0x1+-0x16f*-0x17)],_0x4ea9ec=_0x29cfd8[_0x36111a+(0xf30+-0xf9*0x12+0x254)],_0x14b4f4=(_0x29cfd8[_0x36111a+(-0x1*0x148d+0x65*-0x2a+0x2522)]<<0x88*-0x3e+0xaed*-0x1+0x2bf5|_0x10dd47<<0xe13*-0x1+0xd92+-0x91*-0x1|_0x23f018<<0xc77*-0x1+-0x115d+0x1ddc|_0x4ea9ec)>>>-0x8ef*-0x3+0x8c*-0x29+-0x461;_0x14b4f4!==-0x7*0x3716fadd+0x1aaa8470f+0x1*0xd6f894fb&&Rf['add'](_0x53f1de['get'](_0x14b4f4));}Rf['forEach'](_0x52498f=>{_0x52498f&&_0x440489['push'](_0x52498f);}),Rf['clear']();}return _0x440489;}['allocateRe'+'nderTarget'](){const _0x4aa63b=new _e(this['device'],{'format':Ne,'width':this['width'],'height':this['height'],'mipmaps':!(0x2037+0x2167*0x1+0x15df*-0x3),'minFilter':Te,'magFilter':Te,'addressU':ue,'addressV':ue,'name':'pick'});this['renderTarg'+'et']=new gt({'colorBuffer':_0x4aa63b,'depth':!(-0x9db+0x810+0x1cb)});}['releaseRen'+'derTarget'](){this['renderTarg'+'et']&&(this['renderTarg'+'et']['destroyTex'+'tureBuffer'+'s'](),this['renderTarg'+'et']['destroy'](),this['renderTarg'+'et']=null);}['prepare'](_0x5061fe,_0x1b96c6,_0x129ac4){_0x129ac4 instanceof Ot&&(_0x129ac4=[_0x129ac4]),(!this['renderTarg'+'et']||this['width']!==this['renderTarg'+'et']['width']||this['height']!==this['renderTarg'+'et']['height'])&&(this['releaseRen'+'derTarget'](),this['allocateRe'+'nderTarget']()),this['mapping']['clear']();const _0xcafae4=this['renderPass'];_0xcafae4['init'](this['renderTarg'+'et']),_0xcafae4['colorOps']['clearValue']=ie['WHITE'],_0xcafae4['colorOps']['clear']=!(-0x1123*0x1+0xc85+0xc5*0x6),_0xcafae4['depthStenc'+'ilOps']['clearDepth']=!(0x1063+0xa20+-0x1a83),_0xcafae4['update'](_0x5061fe,_0x1b96c6,_0x129ac4,this['mapping']),_0xcafae4['render']();}['resize'](_0x2339fd,_0x31dd19){this['width']=Math['floor'](_0x2339fd),this['height']=Math['floor'](_0x31dd19);}},cr,hr;const Of=new D(),RS=new D(),Ri=new Dn(),Ro=new Dn(),ep=new Dn();Ri['end']=new D(),Ro['end']=new D(),ep['end']=new D();const en=new D(),Nc=new D(),Ff=new D(),OS=new D(),Nf=new D(),kc=new D(),Uc=new D(),Bc=new D(),zc=new D(),kf=new D(),yU=new D(),tn=new D(),wo=new D(),Vc=new D(),Gc=new D(),Eo=new D(),FS=new D(),NS=new D(),kS=new D(),US=new D(),vU=new re();function BS(_0x459fa6,_0x50506f,_0x5eba88){return yU['cross'](_0x459fa6,_0x50506f)['dot'](_0x5eba88);}function xU(_0x40b58f,_0x2bc9be,_0xa9ada9){en['sub2'](_0x2bc9be,_0x40b58f),Nc['sub2'](_0xa9ada9[-0x113d+-0xc21+0x1d5e],_0x40b58f),Ff['sub2'](_0xa9ada9[0x1*-0x17b9+-0x3d*0x9+-0x1*-0x19df],_0x40b58f),OS['sub2'](_0xa9ada9[-0x2c*-0x2f+-0x7b*0xd+-0x1d3],_0x40b58f),kc['cross'](OS,en);let _0x6e4336=Nc['dot'](kc),_0x48cd89,_0x3f0683;if(_0x6e4336>=-0x1*0x2621+0x822+0x1dff){if(_0x48cd89=-Ff['dot'](kc),_0x48cd89<-0x1e4c+0xaf1*0x3+0x287*-0x1||(_0x3f0683=BS(en,Ff,Nc),_0x3f0683<0x1d7f*-0x1+0x1e7*-0x7+0x8*0x55a))return-(-0xc8e*0x2+-0x907*0x3+0x3432);const _0x3ea963=(0xb7*0x33+-0x1*-0x1d72+-0xf1*0x46)/(_0x48cd89+_0x6e4336+_0x3f0683);Uc['copy'](_0xa9ada9[-0x22e6+0xbf2+0xd*0x1c4])['mulScalar'](_0x48cd89*_0x3ea963),Bc['copy'](_0xa9ada9[0x26*-0x56+0x2287*-0x1+0xfc4*0x3])['mulScalar'](_0x6e4336*_0x3ea963),zc['copy'](_0xa9ada9[-0x20a1*-0x1+-0x1*-0x59f+0x5*-0x7a6])['mulScalar'](_0x3f0683*_0x3ea963),kf['copy'](Uc)['add'](Bc)['add'](zc);}else{if(Nf['sub2'](_0xa9ada9[-0x2*0xdcd+0x1237+0x966],_0x40b58f),_0x48cd89=Nf['dot'](kc),_0x48cd89<0x1e*0xb2+0x5*-0x271+-0x1*0x8a7||(_0x3f0683=BS(en,Nc,Nf),_0x3f0683<-0x4*-0x80d+0x6*0x5e5+-0x4392))return-(0xd90+0x9cb+-0x175a);_0x6e4336=-_0x6e4336;const _0x531187=(-0x7*-0x8+0x951+-0x988)/(_0x48cd89+_0x6e4336+_0x3f0683);Uc['copy'](_0xa9ada9[-0x1c1+-0x232c+0x24ed])['mulScalar'](_0x48cd89*_0x531187),Bc['copy'](_0xa9ada9[0x11*-0x9+-0x1*-0x2417+-0x237b])['mulScalar'](_0x6e4336*_0x531187),zc['copy'](_0xa9ada9[0x283*-0x5+-0x647*-0x2+0x1*0x3])['mulScalar'](_0x3f0683*_0x531187),kf['copy'](Uc)['add'](Bc)['add'](zc);}return en['sub2'](_0xa9ada9[-0x778*0x1+0x1ef7*0x1+-0x177f],_0xa9ada9[0x676*0x1+0x38a+-0x9fe])['lengthSq']()<(-0x1*0x45b+-0x20a0+0x24fb+0.0001)*(0x11*0x1c5+0x1b12+-0x3927+0.0001)||en['sub2'](_0xa9ada9[0x8*-0x479+-0x17b2+-0x3b7b*-0x1],_0xa9ada9[-0x6d1+-0x3*0xad5+0x2753])['lengthSq']()<(0x1be6+0x35d*0x9+0x1*-0x3a2b+0.0001)*(-0x12*-0x16c+-0x1a29+0x91+0.0001)?-(0x1988+-0x41*0x61+-0xe6):kf['sub'](_0x40b58f)['lengthSq']();}class Am{constructor(_0x2f5ef7,_0x3c685f,_0x473c21){this['event']=_0x2f5ef7,this['element']=_0x3c685f,this['camera']=_0x473c21,this['_stopPropa'+'gation']=!(0x21c*0xa+0x11da+0x26f1*-0x1);}['stopPropag'+'ation'](){this['_stopPropa'+'gation']=!(0x1c13+-0x2594+0x981),this['event']&&(this['event']['stopImmedi'+'atePropaga'+'tion'](),this['event']['stopPropag'+'ation']());}}class bo extends Am{constructor(_0x3369d7,_0x2c03c6,_0x58564d,_0xe8e1c1,_0x44d505,_0x263b6d,_0x2db6ff){super(_0x3369d7,_0x2c03c6,_0x58564d),this['x']=_0xe8e1c1,this['y']=_0x44d505,this['ctrlKey']=_0x3369d7['ctrlKey']||!(-0xfc9+0xd*0x10f+-0x3*-0xad),this['altKey']=_0x3369d7['altKey']||!(-0x848+0x19cb+-0x1182),this['shiftKey']=_0x3369d7['shiftKey']||!(-0x140+0x1*0x2051+-0x1f10),this['metaKey']=_0x3369d7['metaKey']||!(-0xca6+-0x52*-0x1b+-0x1*-0x401),this['button']=_0x3369d7['button'],sa['isPointerL'+'ocked']()?(this['dx']=_0x3369d7['movementX']||_0x3369d7['webkitMove'+'mentX']||_0x3369d7['mozMovemen'+'tX']||-0xb4d+0x152f+-0x9e2,this['dy']=_0x3369d7['movementY']||_0x3369d7['webkitMove'+'mentY']||_0x3369d7['mozMovemen'+'tY']||0xa64*-0x1+0x22e5+-0x1881):(this['dx']=_0xe8e1c1-_0x263b6d,this['dy']=_0x44d505-_0x2db6ff),this['wheelDelta']=-0x149f+-0xb9e+0x15*0x189,_0x3369d7['type']==='wheel'&&(_0x3369d7['deltaY']>0x22de+-0x8f9+0x19e5*-0x1?this['wheelDelta']=0x1*-0x260c+-0x6d2+0x7*0x669:_0x3369d7['deltaY']<-0x1a7e+-0x35*-0x4b+0xaf7&&(this['wheelDelta']=-(0xbc1+-0x11f0+-0x2c*-0x24)));}}class Ao extends Am{constructor(_0x299e64,_0x3c29ed,_0x41582c,_0x5d62d9,_0x169512,_0x4f2c4a){super(_0x299e64,_0x3c29ed,_0x41582c),this['touches']=_0x299e64['touches'],this['changedTou'+'ches']=_0x299e64['changedTou'+'ches'],this['x']=_0x5d62d9,this['y']=_0x169512,this['touch']=_0x4f2c4a;}}class dr extends Am{constructor(_0x503794,_0x118108,_0x3b6122,_0x528842){super(_0x503794,_0x118108,_0x3b6122),this['inputSourc'+'e']=_0x528842;}}class Xo{constructor(_0x3204a4,_0x513fd4){this['_app']=null,this['_attached']=!(0x3*0x10d+0x1741*0x1+0x1a67*-0x1),this['_target']=null,this['_enabled']=!(-0x26dc+-0x1*0x1a+0x26f6),this['_lastX']=0x226b+-0x1c2b+-0x640,this['_lastY']=-0x8*-0x17c+0x6de+0x12be*-0x1,this['_upHandler']=this['_handleUp']['bind'](this),this['_downHandl'+'er']=this['_handleDow'+'n']['bind'](this),this['_moveHandl'+'er']=this['_handleMov'+'e']['bind'](this),this['_wheelHand'+'ler']=this['_handleWhe'+'el']['bind'](this),this['_touchstar'+'tHandler']=this['_handleTou'+'chStart']['bind'](this),this['_touchendH'+'andler']=this['_handleTou'+'chEnd']['bind'](this),this['_touchcanc'+'elHandler']=this['_touchendH'+'andler'],this['_touchmove'+'Handler']=this['_handleTou'+'chMove']['bind'](this),this['_sortHandl'+'er']=this['_sortEleme'+'nts']['bind'](this),this['_elements']=[],this['_hoveredEl'+'ement']=null,this['_pressedEl'+'ement']=null,this['_touchedEl'+'ements']={},this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired']={},this['_selectedE'+'lements']={},this['_selectedP'+'ressedElem'+'ents']={},this['_useMouse']=!_0x513fd4||_0x513fd4['useMouse']!==!(-0x1*-0x1816+-0xf1*-0x6+-0xb1*0x2b),this['_useTouch']=!_0x513fd4||_0x513fd4['useTouch']!==!(0x1*-0x431+0x77+-0x1*-0x3bb),this['_useXr']=!_0x513fd4||_0x513fd4['useXr']!==!(-0x44*0x71+0xf7d+-0x18*-0x9b),this['_selectEve'+'ntsAttache'+'d']=!(-0x2201+0x208b+0x177),Ae['touch']&&(this['_clickedEn'+'tities']={}),this['attach'](_0x3204a4);}set['enabled'](_0xecd504){this['_enabled']=_0xecd504;}get['enabled'](){return this['_enabled'];}set['app'](_0xa52f2e){this['_app']=_0xa52f2e;}get['app'](){return this['_app']||Ms();}['attach'](_0x71767c){this['_attached']&&(this['_attached']=!(-0x1*0x26fa+-0xe*-0x16f+-0x67*-0x2f),this['detach']()),this['_target']=_0x71767c,this['_attached']=!(-0x15a5+-0x38f*-0x3+0xaf8);const _0x544f53=Ae['passiveEve'+'nts']?{'passive':!(-0x21d7*-0x1+0x577+-0x274e)}:!(0x2680+-0x1b98+-0xae7);this['_useMouse']&&(window['addEventLi'+'stener']('mouseup',this['_upHandler'],_0x544f53),window['addEventLi'+'stener']('mousedown',this['_downHandl'+'er'],_0x544f53),window['addEventLi'+'stener']('mousemove',this['_moveHandl'+'er'],_0x544f53),window['addEventLi'+'stener']('wheel',this['_wheelHand'+'ler'],_0x544f53)),this['_useTouch']&&Ae['touch']&&(this['_target']['addEventLi'+'stener']('touchstart',this['_touchstar'+'tHandler'],_0x544f53),this['_target']['addEventLi'+'stener']('touchend',this['_touchendH'+'andler'],!(0x1a55+0x154b+-0x2f9f)),this['_target']['addEventLi'+'stener']('touchmove',this['_touchmove'+'Handler'],!(-0x885+0x1*-0x2055+0x28db)),this['_target']['addEventLi'+'stener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(0x15e9+-0x1de8+-0x20*-0x40))),this['attachSele'+'ctEvents']();}['attachSele'+'ctEvents'](){!this['_selectEve'+'ntsAttache'+'d']&&this['_useXr']&&this['app']&&this['app']['xr']&&this['app']['xr']['supported']&&(this['_clickedEn'+'tities']||(this['_clickedEn'+'tities']={}),this['_selectEve'+'ntsAttache'+'d']=!(-0x2072+0x1*-0x103d+0x30af),this['app']['xr']['on']('start',this['_onXrStart'],this));}['detach'](){if(!this['_attached'])return;this['_attached']=!(0xa1e+0x9*-0x2c4+0xec7);const _0x751b40=Ae['passiveEve'+'nts']?{'passive':!(-0x218e+0x802*-0x2+0x3192)}:!(0x4fd*0x3+0x7*0x1bd+0x3*-0x90b);this['_useMouse']&&(window['removeEven'+'tListener']('mouseup',this['_upHandler'],_0x751b40),window['removeEven'+'tListener']('mousedown',this['_downHandl'+'er'],_0x751b40),window['removeEven'+'tListener']('mousemove',this['_moveHandl'+'er'],_0x751b40),window['removeEven'+'tListener']('wheel',this['_wheelHand'+'ler'],_0x751b40)),this['_useTouch']&&(this['_target']['removeEven'+'tListener']('touchstart',this['_touchstar'+'tHandler'],_0x751b40),this['_target']['removeEven'+'tListener']('touchend',this['_touchendH'+'andler'],!(0x1ad1+-0x2e*-0x2d+-0x22e6)),this['_target']['removeEven'+'tListener']('touchmove',this['_touchmove'+'Handler'],!(0x2286+-0x102e+0x3ab*-0x5)),this['_target']['removeEven'+'tListener']('touchcance'+'l',this['_touchcanc'+'elHandler'],!(0xd3+0x1df3*0x1+-0x1ec5))),this['_selectEve'+'ntsAttache'+'d']&&(this['_selectEve'+'ntsAttache'+'d']=!(-0x6*0xef+-0x1856+0x7*0x447),this['app']['xr']['off']('start',this['_onXrStart'],this),this['app']['xr']['off']('end',this['_onXrEnd'],this),this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this)),this['_target']=null;}['addElement'](_0x15ab7e){this['_elements']['indexOf'](_0x15ab7e)===-(0x81a+-0xb00+0x2e7)&&this['_elements']['push'](_0x15ab7e);}['removeElem'+'ent'](_0x367106){const _0x30256e=this['_elements']['indexOf'](_0x367106);_0x30256e!==-(0x161*-0x3+-0x176f+0x1b93)&&this['_elements']['splice'](_0x30256e,-0x3*-0xd3+-0x351*-0x9+0x1*-0x2051);}['_handleUp'](_0x12ac7e){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x12ac7e),this['_onElement'+'MouseEvent']('mouseup',_0x12ac7e)));}['_handleDow'+'n'](_0x49f0f7){this['_enabled']&&(sa['isPointerL'+'ocked']()||(this['_calcMouse'+'Coords'](_0x49f0f7),this['_onElement'+'MouseEvent']('mousedown',_0x49f0f7)));}['_handleMov'+'e'](_0x4b1369){this['_enabled']&&(this['_calcMouse'+'Coords'](_0x4b1369),this['_onElement'+'MouseEvent']('mousemove',_0x4b1369),this['_lastX']=cr,this['_lastY']=hr);}['_handleWhe'+'el'](_0xddbde9){this['_enabled']&&(this['_calcMouse'+'Coords'](_0xddbde9),this['_onElement'+'MouseEvent']('mousewheel',_0xddbde9));}['_determine'+'TouchedEle'+'ments'](_0x553c97){const _0x218a16={},_0x5ead51=this['app']['systems']['camera']['cameras'];for(let _0x44bbc3=_0x5ead51['length']-(-0x9fa+0x175c+-0xd61);_0x44bbc3>=0xca3*-0x1+-0x477*-0x3+0x61*-0x2;_0x44bbc3--){const _0x164427=_0x5ead51[_0x44bbc3];let _0x23a50c=-0x1*-0x1fa6+0x17*0x2+-0x1fd4;const _0x192dfc=_0x553c97['changedTou'+'ches']['length'];for(let _0x2a4b8d=0xebd+-0x5b*-0x2b+0x7a*-0x3f;_0x2a4b8d<_0x192dfc;_0x2a4b8d++){if(_0x218a16[_0x553c97['changedTou'+'ches'][_0x2a4b8d]['identifier']]){_0x23a50c++;continue;}const _0x5066d3=Wc(_0x553c97['changedTou'+'ches'][_0x2a4b8d]),_0x11d3f0=this['_getTarget'+'ElementByC'+'oords'](_0x164427,_0x5066d3['x'],_0x5066d3['y']);_0x11d3f0&&(_0x23a50c++,_0x218a16[_0x553c97['changedTou'+'ches'][_0x2a4b8d]['identifier']]={'element':_0x11d3f0,'camera':_0x164427,'x':_0x5066d3['x'],'y':_0x5066d3['y']});}if(_0x23a50c===_0x192dfc)break;}return _0x218a16;}['_handleTou'+'chStart'](_0x4f026c){if(!this['_enabled'])return;const _0x31f3f0=this['_determine'+'TouchedEle'+'ments'](_0x4f026c);for(let _0x434023=0x2a6*0x9+-0xb84*0x1+-0xc52,_0x3a98cb=_0x4f026c['changedTou'+'ches']['length'];_0x434023<_0x3a98cb;_0x434023++){const _0x19e26a=_0x4f026c['changedTou'+'ches'][_0x434023],_0x1ac18c=_0x31f3f0[_0x19e26a['identifier']],_0x8e2e45=this['_touchedEl'+'ements'][_0x19e26a['identifier']];_0x1ac18c&&(!_0x8e2e45||_0x1ac18c['element']!==_0x8e2e45['element'])&&(this['_fireEvent'](_0x4f026c['type'],new Ao(_0x4f026c,_0x1ac18c['element'],_0x1ac18c['camera'],_0x1ac18c['x'],_0x1ac18c['y'],_0x19e26a)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x19e26a['identifier']]=!(0x21d3+-0x3*-0x411+-0x2e05));}for(const _0x5e2443 in _0x31f3f0)this['_touchedEl'+'ements'][_0x5e2443]=_0x31f3f0[_0x5e2443];}['_handleTou'+'chEnd'](_0x115c84){if(!this['_enabled'])return;const _0x1b0b3e=this['app']['systems']['camera']['cameras'];for(const _0x2e0426 in this['_clickedEn'+'tities'])delete this['_clickedEn'+'tities'][_0x2e0426];for(let _0x122e65=-0x1418+0x228c+-0x1*0xe74,_0xe6430b=_0x115c84['changedTou'+'ches']['length'];_0x122e65<_0xe6430b;_0x122e65++){const _0x217cf5=_0x115c84['changedTou'+'ches'][_0x122e65],_0x5dfa8a=this['_touchedEl'+'ements'][_0x217cf5['identifier']];if(!_0x5dfa8a)continue;const _0x6b9033=_0x5dfa8a['element'],_0x517b8b=_0x5dfa8a['camera'],_0x358b76=_0x5dfa8a['x'],_0x4962c7=_0x5dfa8a['y'];delete this['_touchedEl'+'ements'][_0x217cf5['identifier']],delete this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x217cf5['identifier']];const _0x335242=Wc(_0x217cf5);for(let _0x41939e=_0x1b0b3e['length']-(-0xd39+0x1ff1+-0x12b7);_0x41939e>=0x35*0x8b+-0x15dc*0x1+-0x6eb;_0x41939e--)this['_getTarget'+'ElementByC'+'oords'](_0x1b0b3e[_0x41939e],_0x335242['x'],_0x335242['y'])===_0x6b9033&&(this['_clickedEn'+'tities'][_0x6b9033['entity']['getGuid']()]||(this['_fireEvent']('click',new Ao(_0x115c84,_0x6b9033,_0x517b8b,_0x358b76,_0x4962c7,_0x217cf5)),this['_clickedEn'+'tities'][_0x6b9033['entity']['getGuid']()]=Date['now']()));this['_fireEvent'](_0x115c84['type'],new Ao(_0x115c84,_0x6b9033,_0x517b8b,_0x358b76,_0x4962c7,_0x217cf5));}}['_handleTou'+'chMove'](_0x14d4f9){if(_0x14d4f9['preventDef'+'ault'](),!this['_enabled'])return;const _0x564271=this['_determine'+'TouchedEle'+'ments'](_0x14d4f9);for(let _0x16fa31=-0x1544+-0x740+0x14*0x16d,_0x2228fa=_0x14d4f9['changedTou'+'ches']['length'];_0x16fa31<_0x2228fa;_0x16fa31++){const _0x5e0dde=_0x14d4f9['changedTou'+'ches'][_0x16fa31],_0x147ded=_0x564271[_0x5e0dde['identifier']],_0xa4646d=this['_touchedEl'+'ements'][_0x5e0dde['identifier']];if(_0xa4646d){const _0x59c7e4=Wc(_0x5e0dde);(!_0x147ded||_0x147ded['element']!==_0xa4646d['element'])&&!this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x5e0dde['identifier']]&&(this['_fireEvent']('touchleave',new Ao(_0x14d4f9,_0xa4646d['element'],_0xa4646d['camera'],_0x59c7e4['x'],_0x59c7e4['y'],_0x5e0dde)),this['_touchesFo'+'rWhichTouc'+'hLeaveHasF'+'ired'][_0x5e0dde['identifier']]=!(-0x16cc+-0x1*0x1c42+0x330e)),this['_fireEvent']('touchmove',new Ao(_0x14d4f9,_0xa4646d['element'],_0xa4646d['camera'],_0x59c7e4['x'],_0x59c7e4['y'],_0x5e0dde));}}}['_onElement'+'MouseEvent'](_0x167df4,_0x387434){let _0x4fdd05=null;const _0x11bca9=this['_hoveredEl'+'ement'];this['_hoveredEl'+'ement']=null;const _0x4853ff=this['app']['systems']['camera']['cameras'];let _0x3abf33;for(let _0x8a1df=_0x4853ff['length']-(-0x2011+-0x1*-0x99+0x1f79);_0x8a1df>=-0x20bc+0x284+0x1e38&&(_0x3abf33=_0x4853ff[_0x8a1df],_0x4fdd05=this['_getTarget'+'ElementByC'+'oords'](_0x3abf33,cr,hr),!_0x4fdd05);_0x8a1df--);if(this['_hoveredEl'+'ement']=_0x4fdd05,(_0x167df4==='mousemove'||_0x167df4==='mouseup')&&this['_pressedEl'+'ement']?this['_fireEvent'](_0x167df4,new bo(_0x387434,this['_pressedEl'+'ement'],_0x3abf33,cr,hr,this['_lastX'],this['_lastY'])):_0x4fdd05&&(this['_fireEvent'](_0x167df4,new bo(_0x387434,_0x4fdd05,_0x3abf33,cr,hr,this['_lastX'],this['_lastY'])),_0x167df4==='mousedown'&&(this['_pressedEl'+'ement']=_0x4fdd05)),_0x11bca9!==this['_hoveredEl'+'ement']&&(_0x11bca9&&this['_fireEvent']('mouseleave',new bo(_0x387434,_0x11bca9,_0x3abf33,cr,hr,this['_lastX'],this['_lastY'])),this['_hoveredEl'+'ement']&&this['_fireEvent']('mouseenter',new bo(_0x387434,this['_hoveredEl'+'ement'],_0x3abf33,cr,hr,this['_lastX'],this['_lastY']))),_0x167df4==='mouseup'&&this['_pressedEl'+'ement']){if(this['_pressedEl'+'ement']===this['_hoveredEl'+'ement']){const _0x36f725=this['_hoveredEl'+'ement']['entity']['getGuid']();let _0x440d6c=!this['_clickedEn'+'tities'];if(this['_clickedEn'+'tities']){const _0x11d0b4=this['_clickedEn'+'tities'][_0x36f725]||0x16d3+0x4*0x182+-0x1cdb;_0x440d6c=Date['now']()-_0x11d0b4>-0x22c5+0xd*-0x107+0x314c,delete this['_clickedEn'+'tities'][_0x36f725];}_0x440d6c&&this['_fireEvent']('click',new bo(_0x387434,this['_hoveredEl'+'ement'],_0x3abf33,cr,hr,this['_lastX'],this['_lastY']));}this['_pressedEl'+'ement']=null;}}['_onXrStart'](){this['app']['xr']['on']('end',this['_onXrEnd'],this),this['app']['xr']['on']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['on']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['on']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['on']('remove',this['_onXrInput'+'Remove'],this);}['_onXrEnd'](){this['app']['xr']['off']('update',this['_onXrUpdat'+'e'],this),this['app']['xr']['input']['off']('selectstar'+'t',this['_onSelectS'+'tart'],this),this['app']['xr']['input']['off']('selectend',this['_onSelectE'+'nd'],this),this['app']['xr']['input']['off']('remove',this['_onXrInput'+'Remove'],this);}['_onXrUpdat'+'e'](){if(!this['_enabled'])return;const _0x51117e=this['app']['xr']['input']['inputSourc'+'es'];for(let _0x2b6e71=-0x23cc+-0x26*0x29+0x6fb*0x6;_0x2b6e71<_0x51117e['length'];_0x2b6e71++)this['_onElement'+'SelectEven'+'t']('selectmove',_0x51117e[_0x2b6e71],null);}['_onXrInput'+'Remove'](_0x350180){const _0x28579e=this['_selectedE'+'lements'][_0x350180['id']];_0x28579e&&(_0x350180['_elementEn'+'tity']=null,this['_fireEvent']('selectleav'+'e',new dr(null,_0x28579e,null,_0x350180))),delete this['_selectedE'+'lements'][_0x350180['id']],delete this['_selectedP'+'ressedElem'+'ents'][_0x350180['id']];}['_onSelectS'+'tart'](_0x56c97a,_0x519bca){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectstar'+'t',_0x56c97a,_0x519bca);}['_onSelectE'+'nd'](_0x59e9b5,_0x27b400){this['_enabled']&&this['_onElement'+'SelectEven'+'t']('selectend',_0x59e9b5,_0x27b400);}['_onElement'+'SelectEven'+'t'](_0x3e6c83,_0x524506,_0x56c8bc){let _0x2c1d1c;const _0x30adbd=this['_selectedE'+'lements'][_0x524506['id']];let _0x47321;const _0x1a4290=this['app']['systems']['camera']['cameras'];let _0x451996;if(_0x524506['elementInp'+'ut']){ep['set'](_0x524506['getOrigin'](),_0x524506['getDirecti'+'on']());for(let _0x3ac4ae=_0x1a4290['length']-(0xa50+-0x138d+-0x2*-0x49f);_0x3ac4ae>=-0x745+-0xb78+0x12bd&&(_0x451996=_0x1a4290[_0x3ac4ae],_0x2c1d1c=this['_getTarget'+'ElementByR'+'ay'](ep,_0x451996),!_0x2c1d1c);_0x3ac4ae--);}_0x524506['_elementEn'+'tity']=_0x2c1d1c||null,_0x2c1d1c?(this['_selectedE'+'lements'][_0x524506['id']]=_0x2c1d1c,_0x47321=_0x2c1d1c):delete this['_selectedE'+'lements'][_0x524506['id']],_0x30adbd!==_0x47321&&(_0x30adbd&&this['_fireEvent']('selectleav'+'e',new dr(_0x56c8bc,_0x30adbd,_0x451996,_0x524506)),_0x47321&&this['_fireEvent']('selectente'+'r',new dr(_0x56c8bc,_0x47321,_0x451996,_0x524506)));const _0xc44985=this['_selectedP'+'ressedElem'+'ents'][_0x524506['id']];_0x3e6c83==='selectmove'&&_0xc44985&&this['_fireEvent']('selectmove',new dr(_0x56c8bc,_0xc44985,_0x451996,_0x524506)),_0x3e6c83==='selectstar'+'t'&&(this['_selectedP'+'ressedElem'+'ents'][_0x524506['id']]=_0x47321,_0x47321&&this['_fireEvent']('selectstar'+'t',new dr(_0x56c8bc,_0x47321,_0x451996,_0x524506))),!_0x524506['elementInp'+'ut']&&_0xc44985&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x524506['id']],_0x30adbd&&this['_fireEvent']('selectend',new dr(_0x56c8bc,_0xc44985,_0x451996,_0x524506))),_0x3e6c83==='selectend'&&_0x524506['elementInp'+'ut']&&(delete this['_selectedP'+'ressedElem'+'ents'][_0x524506['id']],_0xc44985&&this['_fireEvent']('selectend',new dr(_0x56c8bc,_0xc44985,_0x451996,_0x524506)),_0xc44985&&_0xc44985===_0x30adbd&&this['_fireEvent']('click',new dr(_0x56c8bc,_0xc44985,_0x451996,_0x524506)));}['_fireEvent'](_0x357238,_0x33f205){let _0xec45e3=_0x33f205['element'];for(;_0xec45e3['fire'](_0x357238,_0x33f205),!(_0x33f205['_stopPropa'+'gation']||!_0xec45e3['entity']['parent']||(_0xec45e3=_0xec45e3['entity']['parent']['element'],!_0xec45e3)););}['_calcMouse'+'Coords'](_0x1d6442){const _0x162888=this['_target']['getBoundin'+'gClientRec'+'t'](),_0x3db726=Math['floor'](_0x162888['left']),_0x365dd6=Math['floor'](_0x162888['top']);cr=_0x1d6442['clientX']-_0x3db726,hr=_0x1d6442['clientY']-_0x365dd6;}['_sortEleme'+'nts'](_0x56e79d,_0x10507f){const _0x1e1ec0=this['app']['scene']['layers']['sortTransp'+'arentLayer'+'s'](_0x56e79d['layers'],_0x10507f['layers']);return _0x1e1ec0!==0x1*0xb3f+0x1556*0x1+-0x2095?_0x1e1ec0:_0x56e79d['screen']&&!_0x10507f['screen']?-(0x1307+0x1*0x11c6+-0x24cc):!_0x56e79d['screen']&&_0x10507f['screen']?-0x4b+-0x20ae+0x20fa:!_0x56e79d['screen']&&!_0x10507f['screen']?0xabe+-0x7*-0x183+-0x35*0x67:_0x56e79d['screen']['screen']['screenSpac'+'e']&&!_0x10507f['screen']['screen']['screenSpac'+'e']?-(-0x18dc*-0x1+-0x1149+-0x72*0x11):_0x10507f['screen']['screen']['screenSpac'+'e']&&!_0x56e79d['screen']['screen']['screenSpac'+'e']?-0x1*-0x496+-0x22cd+-0x78e*-0x4:_0x10507f['drawOrder']-_0x56e79d['drawOrder'];}['_getTarget'+'ElementByC'+'oords'](_0xea1e62,_0x43495a,_0x13a589){const _0x1c9958=this['_calculate'+'RayScreen'](_0x43495a,_0x13a589,_0xea1e62,Ri)?Ri:null,_0x5ee3c5=this['_calculate'+'Ray3d'](_0x43495a,_0x13a589,_0xea1e62,Ro)?Ro:null;return this['_getTarget'+'Element'](_0xea1e62,_0x1c9958,_0x5ee3c5);}['_getTarget'+'ElementByR'+'ay'](_0xc44c88,_0x4c416a){Ri['origin']['copy'](_0xc44c88['origin']),Ri['direction']['copy'](_0xc44c88['direction']),Ri['end']['copy'](Ri['direction'])['mulScalar'](_0x4c416a['farClip']*(-0xce3+0x1683+-0x99e))['add'](Ri['origin']);const _0x40e98e=Ri,_0xa11907=_0x4c416a['worldToScr'+'een'](_0x40e98e['origin'],Of),_0x538b90=this['_calculate'+'RayScreen'](_0xa11907['x'],_0xa11907['y'],_0x4c416a,Ro)?Ro:null;return this['_getTarget'+'Element'](_0x4c416a,_0x538b90,_0x40e98e);}['_getTarget'+'Element'](_0x23d3b9,_0x585cd9,_0xd83469){let _0x3675ce=null,_0x352d3b=(-0xfb3+0xa55+0x55f)/(-0x1fcd+0x2698+0x1*-0x6cb);this['_elements']['sort'](this['_sortHandl'+'er']);for(let _0x573725=-0xd*0x43+0x747+-0x3e0,_0x5dac8b=this['_elements']['length'];_0x573725<_0x5dac8b;_0x573725++){const _0x4e9456=this['_elements'][_0x573725];if(_0x4e9456['layers']['some'](_0x4eb31d=>_0x23d3b9['layersSet']['has'](_0x4eb31d))){if(_0x4e9456['screen']&&_0x4e9456['screen']['screen']['screenSpac'+'e']){if(!_0x585cd9)continue;if(this['_checkElem'+'ent'](_0x585cd9,_0x4e9456,!(-0x1771+0x606+0x116b))>=0x3e3+-0x26c9+0x22e6){_0x3675ce=_0x4e9456;break;}}else{if(!_0xd83469)continue;const _0x4105a0=this['_checkElem'+'ent'](_0xd83469,_0x4e9456,!(-0x250c+-0x22bf+0xe5c*0x5));if(_0x4105a0>=0x7af+-0x26fc+0x1f4d&&(_0x4105a0<_0x352d3b&&(_0x3675ce=_0x4e9456,_0x352d3b=_0x4105a0),_0x4e9456['screen'])){_0x3675ce=_0x4e9456;break;}}}}return _0x3675ce;}['_calculate'+'RayScreen'](_0x5a61c4,_0x456bfb,_0x3a7011,_0x15f420){const _0x2af50b=this['app']['graphicsDe'+'vice']['width'],_0x684060=this['app']['graphicsDe'+'vice']['height'],_0x558df0=_0x3a7011['rect']['z']*_0x2af50b,_0x5e9435=_0x3a7011['rect']['w']*_0x684060,_0xb50b17=_0x3a7011['rect']['x']*_0x2af50b,_0x19c601=_0xb50b17+_0x558df0,_0xc75e8a=(0x14e2+0x1*0x45a+-0x193b*0x1-_0x3a7011['rect']['y'])*_0x684060,_0x2292ca=_0xc75e8a-_0x5e9435;let _0x2ff40d=_0x5a61c4*_0x2af50b/this['_target']['clientWidt'+'h'],_0x59e075=_0x456bfb*_0x684060/this['_target']['clientHeig'+'ht'];return _0x2ff40d>=_0xb50b17&&_0x2ff40d<=_0x19c601&&_0x59e075<=_0xc75e8a&&_0x59e075>=_0x2292ca?(_0x2ff40d=_0x2af50b*(_0x2ff40d-_0xb50b17)/_0x558df0,_0x59e075=_0x684060*(_0x59e075-_0x2292ca)/_0x5e9435,_0x59e075=_0x684060-_0x59e075,_0x15f420['origin']['set'](_0x2ff40d,_0x59e075,0x359*0x7+-0x2203*0x1+0xa95),_0x15f420['direction']['set'](-0x171e+-0x1c60+0x1fb*0x1a,0x3*-0xfa+0x11*-0xa7+0xe05,-(0x1bcd+-0x1*-0xca4+0x2870*-0x1)),_0x15f420['end']['copy'](_0x15f420['direction'])['mulScalar'](0xadb+0x1a1*0x12+-0x5bd*0x7)['add'](_0x15f420['origin']),!(0x105*0x1+0x699*-0x1+0x594)):!(0x16*0x10f+-0x1f6*-0xe+-0x32bd);}['_calculate'+'Ray3d'](_0x4b1d76,_0x24adb0,_0x57c63c,_0x150223){const _0x709adf=this['_target']['clientWidt'+'h'],_0x2d46ee=this['_target']['clientHeig'+'ht'],_0x5e3713=_0x57c63c['rect']['z']*_0x709adf,_0x211e93=_0x57c63c['rect']['w']*_0x2d46ee,_0x559634=_0x57c63c['rect']['x']*_0x709adf,_0x7a9f84=_0x559634+_0x5e3713,_0x2be4e2=(-0x36d*0x1+0x57b*-0x1+0x8e9-_0x57c63c['rect']['y'])*_0x2d46ee,_0x2eb291=_0x2be4e2-_0x211e93;let _0x4a5754=_0x4b1d76,_0x5ecacf=_0x24adb0;return _0x4b1d76>=_0x559634&&_0x4b1d76<=_0x7a9f84&&_0x24adb0<=_0x2be4e2&&_0x5ecacf>=_0x2eb291?(_0x4a5754=_0x709adf*(_0x4a5754-_0x559634)/_0x5e3713,_0x5ecacf=_0x2d46ee*(_0x5ecacf-_0x2eb291)/_0x211e93,_0x57c63c['screenToWo'+'rld'](_0x4a5754,_0x5ecacf,_0x57c63c['nearClip'],Of),_0x57c63c['screenToWo'+'rld'](_0x4a5754,_0x5ecacf,_0x57c63c['farClip'],RS),_0x150223['origin']['copy'](Of),_0x150223['direction']['set'](-0xaf4*0x1+-0x159+-0xc4d*-0x1,-0x1*0x1459+0x8b7+0xba2,-(0x346*-0x5+0x158c+-0x52d)),_0x150223['end']['copy'](RS),!(-0x1fa*-0x1+0x1123*0x2+-0x2440*0x1)):!(-0x26f5+-0x1df1+0x44e7);}['_checkElem'+'ent'](_0x5a148b,_0x7f542d,_0x4214df){if(_0x7f542d['maskedBy']&&this['_checkElem'+'ent'](_0x5a148b,_0x7f542d['maskedBy']['element'],_0x4214df)<0xef7+-0xe3f+-0xb8)return-(0x983+0x2435*0x1+0x1*-0x2db7);let _0x3afec0;_0x4214df?_0x3afec0=Xo['calculateS'+'caleToScre'+'en'](_0x7f542d):_0x3afec0=Xo['calculateS'+'caleToWorl'+'d'](_0x7f542d);const _0x5d0efc=Xo['buildHitCo'+'rners'](_0x7f542d,_0x4214df?_0x7f542d['screenCorn'+'ers']:_0x7f542d['worldCorne'+'rs'],_0x3afec0);return xU(_0x5a148b['origin'],_0x5a148b['end'],_0x5d0efc);}static['buildHitCo'+'rners'](_0x53f974,_0x10026f,_0x436b97){let _0x446155=_0x10026f;if(_0x53f974['entity']&&_0x53f974['entity']['button']){const _0x3208e9=_0x53f974['entity']['button']['hitPadding']||vU;wo['copy'](_0x53f974['entity']['up']),Vc['copy'](wo)['mulScalar'](-(0xd*-0x227+-0xc79+0x2875)),Eo['copy'](_0x53f974['entity']['right']),Gc['copy'](Eo)['mulScalar'](-(-0x49a+0x102f+-0x27*0x4c)),wo['mulScalar'](_0x3208e9['w']*_0x436b97['y']),Vc['mulScalar'](_0x3208e9['y']*_0x436b97['y']),Eo['mulScalar'](_0x3208e9['z']*_0x436b97['x']),Gc['mulScalar'](_0x3208e9['x']*_0x436b97['x']),FS['copy'](_0x446155[-0x1*0x26d+0xb13+-0x171*0x6])['add'](Vc)['add'](Gc),NS['copy'](_0x446155[-0xa1d+-0x187e+0x229c])['add'](Vc)['add'](Eo),kS['copy'](_0x446155[-0x23*-0xdf+0x1561+-0x33dc])['add'](wo)['add'](Eo),US['copy'](_0x446155[-0x21d3*-0x1+-0x18fa+-0x8d6])['add'](wo)['add'](Gc),_0x446155=[FS,NS,kS,US];}if(_0x436b97['x']<0x510+-0x2696*0x1+0x2186){const _0x5b7f39=_0x446155[-0x382*-0x5+0x1cc2+-0x2e4a]['x'],_0x57a539=_0x446155[0x954+0x1e5b+-0x1*0x27af]['x'];_0x446155[-0x15d5+-0xd5b+0x8*0x466]['x']=_0x5b7f39,_0x446155[-0x1*-0x25b4+-0x23*0x2+-0x256d]['x']=_0x57a539,_0x446155[-0x1ee1+0x739+0x17aa]['x']=_0x57a539,_0x446155[-0x8f*-0x6+0xa94*-0x2+0x11d1]['x']=_0x5b7f39;}if(_0x436b97['y']<-0x13*0x29+0xa*-0x397+-0x26f1*-0x1){const _0x3491cd=_0x446155[-0x1*0x3c1+-0x59*-0x42+-0x132f]['y'],_0x309bd8=_0x446155[-0x478*-0x1+0x3b*-0x47+0xbe5]['y'];_0x446155[0x17*0xb2+0x99f+-0x4f*0x53]['y']=_0x3491cd,_0x446155[-0x1411+0x22c2+-0xeb0]['y']=_0x3491cd,_0x446155[-0x1e1c*-0x1+-0x25d9*0x1+0x7bf]['y']=_0x309bd8,_0x446155[-0x1*0x1204+0x2d4+0xf33]['y']=_0x309bd8;}if(_0x436b97['z']<-0x1891+-0xef*-0x6+0x12f7){const _0x1e0d8e=_0x446155[0xe28+-0x2db+-0xb4b]['x'],_0x513a69=_0x446155[0x79*0x4f+0xceb*0x1+0x1920*-0x2]['y'],_0x1f404c=_0x446155[0x4*0x7a7+0x2704+-0x7*0x9f2]['z'];_0x446155[0x1454+-0x155*0x5+-0xd*0x10d]['x']=_0x446155[0x1*-0x1a01+0x49*-0x5d+0x1*0x3486]['x'],_0x446155[-0x2022+-0x20f9+-0xd3*-0x4f]['y']=_0x446155[-0x6c5*-0x2+0x1abb+0x2845*-0x1]['y'],_0x446155[-0x2435+-0x9*-0x3b+0x2224]['z']=_0x446155[-0x200f+-0x5*-0x1b1+0x26*0x9f]['z'],_0x446155[0x7*-0x2f9+0x4*-0x5e3+0x2c5b]['x']=_0x1e0d8e,_0x446155[-0x1551+0x1*0x781+0x1ba*0x8]['y']=_0x513a69,_0x446155[-0x7ea+-0x1fd*-0xc+0x7f9*-0x2]['z']=_0x1f404c;}return _0x446155;}static['calculateS'+'caleToScre'+'en'](_0x5233c4){let _0x331f1f=_0x5233c4['entity'];const _0xf43f10=_0x5233c4['screen']['screen']['scale'];for(tn['set'](_0xf43f10,_0xf43f10,_0xf43f10);_0x331f1f&&!_0x331f1f['screen'];)tn['mul'](_0x331f1f['getLocalSc'+'ale']()),_0x331f1f=_0x331f1f['parent'];return tn;}static['calculateS'+'caleToWorl'+'d'](_0x364ff4){let _0x48b8d8=_0x364ff4['entity'];for(tn['set'](0xf9*-0xb+-0x15b9+0x206d,0x1*-0x81+-0xb1*0x1+0x1*0x133,0x16dd+-0x2e1*0x6+0x5*-0x11e);_0x48b8d8;)tn['mul'](_0x48b8d8['getLocalSc'+'ale']()),_0x48b8d8=_0x48b8d8['parent'];return tn;}}J['prototype']['scale']=J['prototype']['mulScalar'],D['prototype']['scale']=D['prototype']['mulScalar'],re['prototype']['scale']=re['prototype']['mulScalar'],new re();function YU(_0x25f6b4,_0x45a3a1){return w['deprecated']('pc.createS'+'phere\x20is\x20d'+'eprecated.'+'\x20Use\x20\x27pc.M'+'esh.fromGe'+'ometry(dev'+'ice,\x20new\x20S'+'phereGeome'+'try(option'+'s);\x27\x20forma'+'t\x20instead.'),Ge['fromGeomet'+'ry'](_0x25f6b4,new _m(_0x45a3a1));}Object['defineProp'+'erties'](gt['prototype'],{'_glFrameBuffer':{'get':function(){return w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.'),this['impl']['_glFrameBu'+'ffer'];},'set':function(_0xecc6a2){w['deprecated']('pc.RenderT'+'arget#_glF'+'rameBuffer'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RenderT'+'arget.impl'+'#_glFrameB'+'uffer\x20inst'+'ead.');}}}),Object['defineProp'+'erty'](kt,'defaultIns'+'tancingFor'+'mat',{'get':function(){return w['assert']('pc.VertexF'+'ormat.defa'+'ultInstanc'+'ingFormat\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.VertexFo'+'rmat.getDe'+'faultInsta'+'ncingForma'+'t(graphics'+'Device).'),null;}}),Object['defineProp'+'erties'](_e['prototype'],{'rgbm':{'get':function(){return w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']===Zi;},'set':function(_0x579bca){w['deprecated']('pc.Texture'+'#rgbm\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Te'+'xture#type'+'\x20instead.'),this['type']=_0x579bca?Zi:Ds;}},'swizzleGGGR':{'get':function(){return w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']===Jo;},'set':function(_0x55a531){w['deprecated']('pc.Texture'+'#swizzleGG'+'GR\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Textu'+'re#type\x20in'+'stead.'),this['type']=_0x55a531?Jo:Ds;}},'_glTexture':{'get':function(){return w['deprecated']('pc.Texture'+'#_glTextur'+'e\x20is\x20no\x20lo'+'nger\x20avail'+'able,\x20use\x20'+'Use\x20pc.Tex'+'ture.impl.'+'_glTexture'+'\x20instead.'),this['impl']['_glTexture'];}}}),Object['defineProp'+'erty']($e['prototype'],'boneLimit',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#bo'+'neLimit\x20is'+'\x20deprecate'+'d\x20and\x20the\x20'+'limit\x20has\x20'+'been\x20remov'+'ed.'),-0xadc+0xcb*-0x21+0x2907;}}),Object['defineProp'+'erty']($e['prototype'],'webgl2',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#we'+'bgl2\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e#isWebGL2'+'\x20instead.'),this['isWebGL2'];}}),Object['defineProp'+'erty']($e['prototype'],'textureFlo'+'atHighPrec'+'ision',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureFloat'+'HighPrecis'+'ion\x20is\x20dep'+'recated\x20an'+'d\x20always\x20r'+'eturns\x20tru'+'e.'),!(-0xd4*-0x13+-0x2465*0x1+-0x29*-0x81);}}),Object['defineProp'+'erty']($e['prototype'],'extBlendMi'+'nmax',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tBlendMinm'+'ax\x20is\x20depr'+'ecated\x20as\x20'+'it\x20is\x20alwa'+'ys\x20true.'),!(0x33*-0x4b+0xb*0x301+-0x121a);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'HalfFloat',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureHa'+'lfFloat\x20is'+'\x20deprecate'+'d\x20as\x20it\x20is'+'\x20always\x20tr'+'ue.'),!(-0x25e4*-0x1+0x1d49+-0x1d*0x251);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Lod',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureLo'+'d\x20is\x20depre'+'cated\x20as\x20i'+'t\x20is\x20alway'+'s\x20true.'),!(0x482*-0x1+0x5e1*0x3+-0xd21);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatFilt'+'erable',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatFilter'+'able\x20is\x20de'+'precated\x20a'+'s\x20it\x20is\x20al'+'ways\x20true.'),!(0x8c3+0x4*-0x2a9+0x1e1);}}),Object['defineProp'+'erty']($e['prototype'],'supportsMr'+'t',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsMrt\x20'+'is\x20depreca'+'ted\x20as\x20it\x20'+'is\x20always\x20'+'true.'),!(0xaa*-0x1+0x1433+-0x683*0x3);}}),Object['defineProp'+'erty']($e['prototype'],'supportsVo'+'lumeTextur'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsVolu'+'meTextures'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(-0x2228+0x1*-0x10fa+0x3322);}}),Object['defineProp'+'erty']($e['prototype'],'supportsIn'+'stancing',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#su'+'pportsInst'+'ancing\x20is\x20'+'deprecated'+'\x20as\x20it\x20is\x20'+'always\x20tru'+'e.'),!(0x20d*0xe+0x118b+-0x2e41);}}),Object['defineProp'+'erty']($e['prototype'],'textureHal'+'fFloatUpda'+'table',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#te'+'xtureHalfF'+'loatUpdata'+'ble\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true.'),!(0x158c+0xb2d*0x2+-0x2be6);}}),Object['defineProp'+'erty']($e['prototype'],'extTexture'+'Float',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tTextureFl'+'oat\x20is\x20dep'+'recated\x20as'+'\x20it\x20is\x20alw'+'ays\x20true'),!(-0x732+0xb20+-0x2*0x1f7);}}),Object['defineProp'+'erty']($e['prototype'],'extStandar'+'dDerivativ'+'es',{'get':function(){return w['deprecated']('pc.Graphic'+'sDevice#ex'+'tStandardD'+'erivatives'+'\x20is\x20deprec'+'ated\x20as\x20it'+'\x20is\x20always'+'\x20true.'),!(-0x12d3+0xb83+0x4*0x1d4);}}),pt['DEFAULT']=Object['freeze'](new pt());const ut=new pt(),ji=new Yt();$e['prototype']['setBlendFu'+'nction']=function(_0x30fe25,_0x1a5c97){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x3233f0=this['blendState'];ut['copy'](_0x3233f0),ut['setColorBl'+'end'](_0x3233f0['colorOp'],_0x30fe25,_0x1a5c97),ut['setAlphaBl'+'end'](_0x3233f0['alphaOp'],_0x30fe25,_0x1a5c97),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendFu'+'nctionSepa'+'rate']=function(_0xaa3c0e,_0x1af322,_0x5162c6,_0x4a69a5){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendFunc'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0xfed9ff=this['blendState'];ut['copy'](_0xfed9ff),ut['setColorBl'+'end'](_0xfed9ff['colorOp'],_0xaa3c0e,_0x1af322),ut['setAlphaBl'+'end'](_0xfed9ff['alphaOp'],_0x5162c6,_0x4a69a5),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uation']=function(_0x1f88c4){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tion\x20is\x20de'+'precated,\x20'+'use\x20pc.Gra'+'phicsDevic'+'e.setBlend'+'State\x20inst'+'ead.');const _0x237466=this['blendState'];ut['copy'](_0x237466),ut['setColorBl'+'end'](_0x1f88c4,_0x237466['colorSrcFa'+'ctor'],_0x237466['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x1f88c4,_0x237466['alphaSrcFa'+'ctor'],_0x237466['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setBlendEq'+'uationSepa'+'rate']=function(_0x2efcce,_0x277e0f){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlendEqua'+'tionSepara'+'te\x20is\x20depr'+'ecated,\x20us'+'e\x20pc.Graph'+'icsDevice.'+'setBlendSt'+'ate\x20instea'+'d.');const _0x3e0213=this['blendState'];ut['copy'](_0x3e0213),ut['setColorBl'+'end'](_0x2efcce,_0x3e0213['colorSrcFa'+'ctor'],_0x3e0213['colorDstFa'+'ctor']),ut['setAlphaBl'+'end'](_0x277e0f,_0x3e0213['alphaSrcFa'+'ctor'],_0x3e0213['alphaDstFa'+'ctor']),this['setBlendSt'+'ate'](ut);},$e['prototype']['setColorWr'+'ite']=function(_0x1f688b,_0x5d2de3,_0x3dda5a,_0xe6bde8){w['deprecated']('pc.Graphic'+'sDevice#se'+'tColorWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etBlendSta'+'te\x20instead'+'.');const _0x121363=this['blendState'];ut['copy'](_0x121363),ut['setColorWr'+'ite'](_0x1f688b,_0x5d2de3,_0x3dda5a,_0xe6bde8),this['setBlendSt'+'ate'](ut);},$e['prototype']['getBlendin'+'g']=function(){return this['blendState']['blend'];},$e['prototype']['setBlendin'+'g']=function(_0x32a5ba){w['deprecated']('pc.Graphic'+'sDevice#se'+'tBlending\x20'+'is\x20depreca'+'ted,\x20use\x20p'+'c.Graphics'+'Device.set'+'BlendState'+'\x20instead.'),ut['copy'](this['blendState']),ut['blend']=_0x32a5ba,this['setBlendSt'+'ate'](ut);},$e['prototype']['setDepthWr'+'ite']=function(_0x379e24){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthWrit'+'e\x20is\x20depre'+'cated,\x20use'+'\x20pc.Graphi'+'csDevice.s'+'etDepthSta'+'te\x20instead'+'.'),ji['copy'](this['depthState']),ji['write']=_0x379e24,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthFu'+'nc']=function(_0x4a72a6){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthFunc'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['func']=_0x4a72a6,this['setDepthSt'+'ate'](ji);},$e['prototype']['setDepthTe'+'st']=function(_0x15805d){w['deprecated']('pc.Graphic'+'sDevice#se'+'tDepthTest'+'\x20is\x20deprec'+'ated,\x20use\x20'+'pc.Graphic'+'sDevice.se'+'tDepthStat'+'e\x20instead.'),ji['copy'](this['depthState']),ji['test']=_0x15805d,this['setDepthSt'+'ate'](ji);},$e['prototype']['getCullMod'+'e']=function(){return this['cullMode'];},new Proxy({},{'get'(_0x161157,_0xde7bd6){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20acces'+'s\x20global\x20s'+'hader\x20chun'+'ks\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Shade'+'rChunks.ge'+'t\x20instead,'+'\x20for\x20examp'+'le:\x20pc.Sha'+'derChunks.'+'get(this.a'+'pp.graphic'+'sDevice,\x20p'+'c.SHADERLA'+'NGUAGE_GLS'+'L).get(\x27'+_0xde7bd6+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['get'](_0xde7bd6);},'set'(_0x251462,_0x2934a3,_0x5c16e6){return w['deprecated']('Using\x20pc.s'+'haderChunk'+'s\x20to\x20overr'+'ide\x20global'+'\x20shader\x20ch'+'unks\x20is\x20de'+'precated.\x20'+'Use\x20pc.Sha'+'derChunks.'+'get\x20instea'+'d,\x20for\x20exa'+'mple:\x20pc.S'+'haderChunk'+'s.get(this'+'.app.graph'+'icsDevice,'+'\x20pc.SHADER'+'LANGUAGE_G'+'LSL).set(\x27'+_0x2934a3+'\x27);'),Pe['get'](Ms()['graphicsDe'+'vice'],Fe)['set'](_0x2934a3,_0x5c16e6),!(-0x1cbf+0x9*0x11b+-0x6*-0x322);}}),Object['defineProp'+'erty'](Et['prototype'],'defaultMat'+'erial',{'get':function(){return w['deprecated']('pc.Scene#d'+'efaultMate'+'rial\x20is\x20de'+'precated.'),Qn(Ms()['graphicsDe'+'vice']);}}),Object['defineProp'+'erty'](Et['prototype'],'fogColor',{'set':function(_0x38cba0){w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color']=_0x38cba0;},'get':function(){return w['deprecated']('Scene#fogC'+'olor\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.color\x20'+'instead.'),this['fog']['color'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogEnd',{'set':function(_0x212e49){w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end']=_0x212e49;},'get':function(){return w['deprecated']('Scene#fogE'+'nd\x20is\x20depr'+'ecated.\x20Us'+'e\x20Scene#fo'+'g.end\x20inst'+'ead.'),this['fog']['end'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogStart',{'set':function(_0xdc8774){w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start']=_0xdc8774;},'get':function(){return w['deprecated']('Scene#fogS'+'tart\x20is\x20de'+'precated.\x20'+'Use\x20Scene#'+'fog.start\x20'+'instead.'),this['fog']['start'];}}),Object['defineProp'+'erty'](Et['prototype'],'fogDensity',{'set':function(_0x38a328){w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density']=_0x38a328;},'get':function(){return w['deprecated']('Scene#fogD'+'ensity\x20is\x20'+'deprecated'+'.\x20Use\x20Scen'+'e#fog.dens'+'ity\x20instea'+'d.'),this['fog']['density'];}}),Object['defineProp'+'erty'](Et['prototype'],'toneMappin'+'g',{'set':function(_0x2d298c){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');},'get':function(){w['removed']('Scene#tone'+'Mapping\x20is'+'\x20removed.\x20'+'Use\x20Camera'+'Component#'+'toneMappin'+'g\x20instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'gammaCorre'+'ction',{'set':function(_0x1950cf){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');},'get':function(){w['removed']('Scene#gamm'+'aCorrectio'+'n\x20is\x20remov'+'ed.\x20Use\x20Ca'+'meraCompon'+'ent#gammaC'+'orrection\x20'+'instead.');}}),Object['defineProp'+'erty'](Et['prototype'],'rendering',{'set':function(_0x2262f4){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');},'get':function(){w['removed']('Scene#rend'+'ering\x20is\x20r'+'emoved.\x20Us'+'e\x20Scene#fo'+'g\x20or\x20Camer'+'aComponent'+'#gammaCorr'+'ection\x20or\x20'+'CameraComp'+'onent#tone'+'Mapping\x20in'+'stead.');}}),Object['defineProp'+'erty'](du['prototype'],'_meshInsta'+'nces',{'get':function(){return w['deprecated']('pc.LayerCo'+'mposition#'+'_meshInsta'+'nces\x20is\x20de'+'precated.'),null;}}),Object['defineProp'+'erty'](Et['prototype'],'drawCalls',{'get':function(){return w['deprecated']('pc.Scene#d'+'rawCalls\x20i'+'s\x20deprecat'+'ed\x20and\x20no\x20'+'longer\x20pro'+'vides\x20mesh'+'\x20instances'+'.'),null;}}),['128','64','32','16','8','4']['forEach']((_0x5c83ea,_0x4a07ff)=>{Object['defineProp'+'erty'](Et['prototype'],'skyboxPref'+'iltered'+_0x5c83ea,{'get':function(){return w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x5c83ea+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x4a07ff];},'set':function(_0x465ef1){w['deprecated']('pc.Scene#s'+'kyboxPrefi'+'ltered'+_0x5c83ea+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Scene#p'+'refiltered'+'Cubemaps\x20i'+'nstead.')),this['_prefilter'+'edCubemaps'][_0x4a07ff]=_0x465ef1,this['updateShad'+'ers']=!(-0x179*-0xd+0x106*-0x1+-0x121f);}});}),Object['defineProp'+'erty'](Et['prototype'],'models',{'get':function(){return this['_models']||(this['_models']=[]),this['_models'];}});function Bt(_0xc536f8,_0x44cf34,_0x2ec937=''){Object['defineProp'+'erty'](_0xc536f8['prototype'],_0x44cf34,{'set':function(_0x5f32cd){w['errorOnce'](_0xc536f8['name']+'#'+_0x44cf34+('\x20has\x20been\x20'+'removed.\x20')+_0x2ec937);},'get':function(){w['errorOnce'](_0xc536f8['name']+'#'+_0x44cf34+('\x20has\x20been\x20'+'removed.\x20')+_0x2ec937);}});}Bt(Ot,'renderTarg'+'et'),Bt(Ot,'onPreCull'),Bt(Ot,'onPreRende'+'r'),Bt(Ot,'onPreRende'+'rOpaque'),Bt(Ot,'onPreRende'+'rTranspare'+'nt'),Bt(Ot,'onPostCull'),Bt(Ot,'onPostRend'+'er'),Bt(Ot,'onPostRend'+'erOpaque'),Bt(Ot,'onPostRend'+'erTranspar'+'ent'),Bt(Ot,'onDrawCall'),Bt(Ot,'layerRefer'+'ence'),Bt(Ir,'onPreCull','Use\x20Scene#'+'EVENT_PREC'+'ULL\x20event\x20'+'instead.'),Bt(Ir,'onPostCull','Use\x20Scene#'+'EVENT_POST'+'CULL\x20event'+'\x20instead.'),Bt(Ir,'onPreRende'+'r','Use\x20Scene#'+'EVENT_PRER'+'ENDER\x20even'+'t\x20instead.'),Bt(Ir,'onPostRend'+'er','Use\x20Scene#'+'EVENT_POST'+'RENDER\x20eve'+'nt\x20instead'+'.'),Bt(Ir,'onPreRende'+'rLayer','Use\x20Scene#'+'EVENT_PRER'+'ENDER_LAYE'+'R\x20event\x20in'+'stead.'),Bt(Ir,'onPostRend'+'erLayer','Use\x20Scene#'+'EVENT_POST'+'RENDER_LAY'+'ER\x20event\x20i'+'nstead.'),fl['prototype']['renderComp'+'osition']=function(_0x52d5f2){w['deprecated']('pc.Forward'+'Renderer#r'+'enderCompo'+'sition\x20is\x20'+'deprecated'+'.\x20Use\x20pc.A'+'ppBase.ren'+'derComposi'+'tion\x20inste'+'ad.'),Ms()['renderComp'+'osition'](_0x52d5f2);},He['prototype']['syncAabb']=function(){w['deprecated']('pc.MeshIns'+'tance#sync'+'Aabb\x20is\x20de'+'precated.');},mm['prototype']['getTarget']=function(_0x5ac398){return w['deprecated']('pc.Morph#g'+'etTarget\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.Morph#tar'+'gets\x20inste'+'ad.'),this['targets'][_0x5ac398];},Ie['prototype']['getChildre'+'n']=function(){return w['deprecated']('pc.GraphNo'+'de#getChil'+'dren\x20is\x20de'+'precated.\x20'+'Use\x20pc.Gra'+'phNode#chi'+'ldren\x20inst'+'ead.'),this['children'];},Ie['prototype']['getName']=function(){return w['deprecated']('pc.GraphNo'+'de#getName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name'];},Ie['prototype']['getPath']=function(){return w['deprecated']('pc.GraphNo'+'de#getPath'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#path\x20in'+'stead.'),this['path'];},Ie['prototype']['getRoot']=function(){return w['deprecated']('pc.GraphNo'+'de#getRoot'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#root\x20in'+'stead.'),this['root'];},Ie['prototype']['getParent']=function(){return w['deprecated']('pc.GraphNo'+'de#getPare'+'nt\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.Graph'+'Node#paren'+'t\x20instead.'),this['parent'];},Ie['prototype']['setName']=function(_0x110cb4){w['deprecated']('pc.GraphNo'+'de#setName'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.GraphNo'+'de#name\x20in'+'stead.'),this['name']=_0x110cb4;},Object['defineProp'+'erty'](tr['prototype'],'shader',{'set':function(_0x51980d){w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.');},'get':function(){return w['deprecated']('pc.Materia'+'l#shader\x20i'+'s\x20deprecat'+'ed,\x20use\x20pc'+'.ShaderMat'+'erial\x20inst'+'ead.'),null;}}),Object['defineProp'+'erty'](tr['prototype'],'blend',{'set':function(_0x458c4b){w['deprecated']('pc.Materia'+'l#blend\x20is'+'\x20deprecate'+'d,\x20use\x20pc.'+'Material.b'+'lendState.'),this['blendState']['blend']=_0x458c4b;},'get':function(){return this['blendState']['blend'];}}),Object['defineProp'+'erty'](Ut['prototype'],'shininess',{'get':function(){return this['gloss']*(0x971*-0x2+0x7e+0x4*0x4b2);},'set':function(_0x34cb82){this['gloss']=_0x34cb82*(-0x24d5+-0xc91+0x3166+0.01);}}),Object['defineProp'+'erty'](Ut['prototype'],'useGammaTo'+'nemap',{'get':function(){return this['useTonemap'];},'set':function(_0x5a27b1){this['useTonemap']=_0x5a27b1;}}),Object['defineProp'+'erty'](Ut['prototype'],'anisotropy',{'get':function(){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.');const _0x48d6c6=Math['sign'](Math['cos'](this['anisotropy'+'Rotation']*Y['DEG_TO_RAD']*(0x1688+-0xb*0x1f+-0x1531)));return this['anisotropy'+'Intensity']*_0x48d6c6;},'set':function(_0x48e98f){w['deprecated']('pc.Standar'+'dMaterial#'+'anisotropy'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#'+'anisotropy'+'Intensity\x20'+'and\x20pc.Sta'+'ndardMater'+'ial#anisot'+'ropyRotati'+'on\x20instead'+'.'),this['anisotropy'+'Intensity']=Math['abs'](_0x48e98f),_0x48e98f>=-0x3*0x215+-0x22ae+0x28ed?this['anisotropy'+'Rotation']=0xce4+-0x1d9c+-0x2*-0x85c:this['anisotropy'+'Rotation']=0xef5*-0x1+0x1ac3+-0xb74;}});function Qs(_0x45842f,_0x12c6dc){Object['defineProp'+'erty'](Ut['prototype'],_0x12c6dc,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x12c6dc+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x45842f+'\x20instead.'),this[_0x45842f];},'set':function(_0x25363e){w['deprecated']('pc.Standar'+'dMaterial#'+_0x12c6dc+('\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.Standar'+'dMaterial#')+_0x45842f+'\x20instead.'),this[_0x45842f]=_0x25363e;}});}function Id(_0x3d3864){Object['defineProp'+'erty'](Ut['prototype'],_0x3d3864,{'get':function(){return w['deprecated']('pc.Standar'+'dMaterial#'+_0x3d3864+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x3d3864+('\x20was\x20alway'+'s\x20true')),!(-0x3*-0xcb5+-0x2034+0x3*-0x1f9);},'set':function(_0x4ddca5){w['deprecated']('pc.Standar'+'dMaterial#'+_0x3d3864+('\x20is\x20deprec'+'ated,\x20and\x20'+'the\x20behavi'+'our\x20is\x20as\x20'+'if\x20')+_0x3d3864+('\x20was\x20alway'+'s\x20true'));}});}Id('sheenTint'),Id('diffuseTin'+'t'),Id('emissiveTi'+'nt'),Id('ambientTin'+'t'),Qs('specularTi'+'nt','specularMa'+'pTint'),Qs('aoVertexCo'+'lor','aoMapVerte'+'xColor'),Qs('diffuseVer'+'texColor','diffuseMap'+'VertexColo'+'r'),Qs('specularVe'+'rtexColor','specularMa'+'pVertexCol'+'or'),Qs('emissiveVe'+'rtexColor','emissiveMa'+'pVertexCol'+'or'),Qs('metalnessV'+'ertexColor','metalnessM'+'apVertexCo'+'lor'),Qs('glossVerte'+'xColor','glossMapVe'+'rtexColor'),Qs('opacityVer'+'texColor','opacityMap'+'VertexColo'+'r'),Qs('lightVerte'+'xColor','lightMapVe'+'rtexColor'),Qs('sheenGloss','sheenGloss'+'iess'),Qs('clearCoatG'+'loss','clearCostG'+'lossiness');function F0(_0x5d3bdc,_0x36b6b1){_0x5d3bdc!=='pass'&&Object['defineProp'+'erty'](dl['prototype'],_0x5d3bdc,{'get':function(){return w['deprecated']('Getting\x20pc'+'.Options#'+_0x5d3bdc+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x36b6b1||_0x5d3bdc)+'.'),this['litOptions'][_0x36b6b1||_0x5d3bdc];},'set':function(_0x1eaaf5){w['deprecated']('Setting\x20pc'+'.Options#'+_0x5d3bdc+('\x20has\x20been\x20'+'deprecated'+'\x20as\x20the\x20pr'+'operty\x20has'+'\x20been\x20move'+'d\x20to\x20pc.Op'+'tions.LitS'+'haderOptio'+'ns#')+(_0x36b6b1||_0x5d3bdc)+'.'),this['litOptions'][_0x36b6b1||_0x5d3bdc]=_0x1eaaf5;}});}F0('refraction','useRefract'+'ion');const TU=new wv(),zS=Object['getOwnProp'+'ertyNames'](TU);for(const l in zS)F0(zS[l]);mn['prototype']['getAssetBy'+'Id']=function(_0x1200d6){return w['deprecated']('pc.AssetRe'+'gistry#get'+'AssetById\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AssetReg'+'istry#get\x20'+'instead.'),this['get'](_0x1200d6);},Object['defineProp'+'erty'](Qt['prototype'],'ray',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#ray'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.XrInput'+'Source#get'+'Origin\x20and'+'\x20pc.XrInpu'+'tSource#ge'+'tDirection'+'\x20instead.'),this['_rayLocal'];}}),Object['defineProp'+'erty'](Qt['prototype'],'position',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#pos'+'ition\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Position\x20i'+'nstead.'),this['_localPosi'+'tion'];}}),Object['defineProp'+'erty'](Qt['prototype'],'rotation',{'get':function(){return w['deprecated']('pc.XrInput'+'Source#rot'+'ation\x20is\x20d'+'eprecated.'+'\x20Use\x20pc.Xr'+'InputSourc'+'e#getLocal'+'Rotation\x20i'+'nstead.'),this['_localRota'+'tion'];}}),Object['defineProp'+'erty'](Xo['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(-0xa81+-0x174a+0x21cd*0x1);}}),Object['defineProp'+'erty'](ta['prototype'],'wheel',{'get':function(){return this['wheelDelta']*-(-0x2050+-0xe8+0x213a);}}),Ks['prototype']['isFullscre'+'en']=function(){return w['deprecated']('pc.AppBase'+'#isFullscr'+'een\x20is\x20dep'+'recated.\x20U'+'se\x20the\x20Ful'+'lscreen\x20AP'+'I\x20directly'+'.'),!!document['fullscreen'+'Element'];},Ks['prototype']['enableFull'+'screen']=function(_0x219383,_0xa92649,_0x4c1569){w['deprecated']('pc.AppBase'+'#enableFul'+'lscreen\x20is'+'\x20deprecate'+'d.\x20Use\x20the'+'\x20Fullscree'+'n\x20API\x20dire'+'ctly.'),_0x219383=_0x219383||this['graphicsDe'+'vice']['canvas'];const _0x104cac=function(){_0xa92649(),document['removeEven'+'tListener']('fullscreen'+'change',_0x104cac);},_0x30f729=function(){_0x4c1569(),document['removeEven'+'tListener']('fullscreen'+'error',_0x30f729);};_0xa92649&&document['addEventLi'+'stener']('fullscreen'+'change',_0x104cac,!(0x209f+0x777+0x14b*-0x1f)),_0x4c1569&&document['addEventLi'+'stener']('fullscreen'+'error',_0x30f729,!(0x1082+-0x9e6+-0x69b)),_0x219383['requestFul'+'lscreen']?_0x219383['requestFul'+'lscreen'](Element['ALLOW_KEYB'+'OARD_INPUT']):_0x4c1569();},Ks['prototype']['disableFul'+'lscreen']=function(_0x3999c9){w['deprecated']('pc.AppBase'+'#disableFu'+'llscreen\x20i'+'s\x20deprecat'+'ed.\x20Use\x20th'+'e\x20Fullscre'+'en\x20API\x20dir'+'ectly.');const _0x2426d4=function(){_0x3999c9(),document['removeEven'+'tListener']('fullscreen'+'change',_0x2426d4);};_0x3999c9&&document['addEventLi'+'stener']('fullscreen'+'change',_0x2426d4,!(0x6b*-0xe+0x1535+-0xf5a)),document['exitFullsc'+'reen']();},Ks['prototype']['getSceneUr'+'l']=function(_0x321162){w['deprecated']('pc.AppBase'+'#getSceneU'+'rl\x20is\x20depr'+'ecated.\x20Us'+'e\x20pc.AppBa'+'se#scenes\x20'+'and\x20pc.Sce'+'neRegistry'+'#find\x20inst'+'ead.');const _0x4acb6a=this['scenes']['find'](_0x321162);return _0x4acb6a?_0x4acb6a['url']:null;},Ks['prototype']['loadScene']=function(_0x5a87ca,_0x13088f){w['deprecated']('pc.AppBase'+'#loadScene'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.AppBase'+'#scenes\x20an'+'d\x20pc.Scene'+'Registry#l'+'oadScene\x20i'+'nstead.'),this['scenes']['loadScene'](_0x5a87ca,_0x13088f);},Ks['prototype']['loadSceneH'+'ierarchy']=function(_0x44c1d7,_0x2f5fc0){w['deprecated']('pc.AppBase'+'#loadScene'+'Hierarchy\x20'+'is\x20depreca'+'ted.\x20Use\x20p'+'c.AppBase#'+'scenes\x20and'+'\x20pc.SceneR'+'egistry#lo'+'adSceneHie'+'rarchy\x20ins'+'tead.'),this['scenes']['loadSceneH'+'ierarchy'](_0x44c1d7,_0x2f5fc0);},Ks['prototype']['loadSceneS'+'ettings']=function(_0xd1ee7a,_0x2647df){w['deprecated']('pc.AppBase'+'#loadScene'+'Settings\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.AppBase#s'+'cenes\x20and\x20'+'pc.SceneRe'+'gistry#loa'+'dSceneSett'+'ings\x20inste'+'ad.'),this['scenes']['loadSceneS'+'ettings'](_0xd1ee7a,_0x2647df);},Tm['prototype']['setVisible']=function(_0x2e772d){w['deprecated']('pc.ModelCo'+'mponent#se'+'tVisible\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.ModelComp'+'onent#enab'+'led\x20instea'+'d.'),this['enabled']=_0x2e772d;},Object['defineProp'+'erty'](bs['prototype'],'bodyType',{'get':function(){return w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type'];},'set':function(_0x43bc62){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#bodyType'+'\x20is\x20deprec'+'ated.\x20Use\x20'+'pc.RigidBo'+'dyComponen'+'t#type\x20ins'+'tead.'),this['type']=_0x43bc62;}}),bs['prototype']['syncBodyTo'+'Entity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'t#syncBody'+'ToEntity\x20i'+'s\x20not\x20publ'+'ic\x20API\x20and'+'\x20should\x20no'+'t\x20be\x20used.'),this['_updateDyn'+'amic']();},wm['prototype']['setGravity']=function(){w['deprecated']('pc.RigidBo'+'dyComponen'+'tSystem#se'+'tGravity\x20i'+'s\x20deprecat'+'ed.\x20Use\x20pc'+'.RigidBody'+'ComponentS'+'ystem#grav'+'ity\x20instea'+'d.'),arguments['length']===-0x14f7+0x2*-0x3d+-0x5a*-0x3d?this['gravity']['copy'](arguments[0x2281+-0xaa7+-0x17da]):this['gravity']['set'](arguments[-0xd2f+-0x2*-0xc9d+-0xc0b],arguments[-0x10b*-0x1c+-0x8cc+-0x1467],arguments[0x202a+0x3*0x90b+-0x3b49]);};class wU{constructor(_0x58b86a){this['_frameInde'+'x']=-0x570+-0x1925+-0x1e95*-0x1,this['_frameTimi'+'ngs']=[],this['_timings']=[],this['_prevTimin'+'gs']=[],this['unitsName']='ms',this['decimalPla'+'ces']=-0xef*-0x1f+0x18fd*-0x1+-0x3f3,this['enabled']=!(0x2*-0x4a0+-0xd*-0x18d+0x15*-0x85),_0x58b86a['on']('frameupdat'+'e',this['begin']['bind'](this,'update')),_0x58b86a['on']('framerende'+'r',this['mark']['bind'](this,'render')),_0x58b86a['on']('frameend',this['mark']['bind'](this,'other'));}['begin'](_0x4f3fbc){if(!this['enabled'])return;this['_frameInde'+'x']<this['_frameTimi'+'ngs']['length']&&this['_frameTimi'+'ngs']['splice'](this['_frameInde'+'x']);const _0x22ba3f=this['_prevTimin'+'gs'];this['_prevTimin'+'gs']=this['_timings'],this['_timings']=this['_frameTimi'+'ngs'],this['_frameTimi'+'ngs']=_0x22ba3f,this['_frameInde'+'x']=-0x1*-0x10d2+0x1dc9+0x3*-0xf89,this['mark'](_0x4f3fbc);}['mark'](_0x50e82c){if(!this['enabled'])return;const _0x24935d=de();if(this['_frameInde'+'x']>0x234+0x413+-0x647){const _0x457b63=this['_frameTimi'+'ngs'][this['_frameInde'+'x']-(0xb5*-0x2e+-0x3d5*-0x5+0xd5e)];_0x457b63[-0x1*0x16a5+-0x3*-0x223+0x103d*0x1]=_0x24935d-_0x457b63[-0x36a+-0x17b9+0x90c*0x3];}else{if(this['_timings']['length']>0x9*0x2d1+0x2338+-0x23*0x1bb){const _0x1f3542=this['_timings'][this['_timings']['length']-(0xd*-0x1+0xa14+0x503*-0x2)];_0x1f3542[-0x3*0x272+-0x5*-0xb9+0x1dd*0x2]=_0x24935d-_0x1f3542[-0x613+-0x3e3*-0x9+-0x1ce7];}}if(this['_frameInde'+'x']>=this['_frameTimi'+'ngs']['length'])this['_frameTimi'+'ngs']['push']([_0x50e82c,_0x24935d]);else{const _0x3e884f=this['_frameTimi'+'ngs'][this['_frameInde'+'x']];_0x3e884f[0x14be+-0x1e71*-0x1+-0x332f]=_0x50e82c,_0x3e884f[-0x2440+0x1499*-0x1+0x17f*0x26]=_0x24935d;}this['_frameInde'+'x']++;}get['timings'](){return this['_timings']['slice'](0x18c*-0x1+0xeda*0x1+-0xd4e,-(-0x65d+-0x18b9+0x1f17))['map'](_0x445380=>_0x445380[0x23bf+-0x5*0x571+-0x1*0x889]);}}class EU{constructor(_0x262169){this['device']=_0x262169,_0x262169['gpuProfile'+'r']['enabled']=!(-0x5*-0x1cd+0x1de7+-0x26e8),this['enabled']=!(0x10*-0x15b+0x40e+0x25*0x7a),this['unitsName']='ms',this['decimalPla'+'ces']=0xc9a+-0x3f1*0x8+-0x12ef*-0x1,this['_timings']=[];}get['timings'](){return this['_timings'][-0x4*-0x6d+0xf*0xe9+-0xf5b]=this['device']['gpuProfile'+'r']['_frameTime'],this['_timings'];}}class bU{constructor(_0x23418c,_0x33d376,_0x4a9c7b,_0x4cf332,_0x3d90a1){this['app']=_0x23418c,this['values']=[],this['statNames']=_0x33d376,this['statNames']['length']>-0x6*-0x64d+-0x65f+-0x1f6c&&(this['statNames']['length']=-0x28d*0x5+-0xab5+0x1779),this['unitsName']=_0x4cf332,this['decimalPla'+'ces']=_0x4a9c7b,this['multiplier']=_0x3d90a1||0x1dda+-0x2286+0x4ad;const _0x25f56f=(_0x3161a4,_0x16352a)=>_0x3161a4['split']('.')['reduce']((_0x243803,_0xc40e49)=>_0x243803?_0x243803[_0xc40e49]:null,_0x16352a||this);_0x23418c['on']('frameupdat'+'e',_0x50f726=>{for(let _0x3391aa=0x1*0x1678+0xc17*-0x2+0x1b6;_0x3391aa<this['statNames']['length'];_0x3391aa++)this['values'][_0x3391aa]=_0x25f56f(this['statNames'][_0x3391aa],this['app']['stats'])*this['multiplier'];});}get['timings'](){return this['values'];}}class Uf{constructor(_0x4d35ab,_0x1040c9,_0x887feb,_0x1e80ec,_0x513c59){this['app']=_0x1040c9,this['name']=_0x4d35ab,this['device']=_0x1040c9['graphicsDe'+'vice'],this['timer']=_0x513c59,this['watermark']=_0x887feb,this['enabled']=!(0x75*0x15+-0x8a*-0x17+-0x15fe),this['textRefres'+'hRate']=_0x1e80ec,this['avgTotal']=-0x1*0x8a9+0x1c1b+0x2*-0x9b9,this['avgTimer']=0x876+0x139b*-0x1+0x13d*0x9,this['avgCount']=0xa08+0x1*-0x197+0x1*-0x871,this['timingText']='',this['texture']=null,this['yOffset']=-0x2*-0x6aa+0x10*-0x209+0x133c,this['cursor']=-0xa*-0x293+-0x2*-0x57d+0x2f*-0xc8,this['sample']=new Uint8ClampedArray(0x2573+-0x12c6+-0x12a9),this['sample']['set']([-0x103*0x17+-0x1*0xfb2+0x26f7,0x2201+0x23*0x11a+0x1*-0x488f,0x22e8+-0x961+-0x1987,0x2*0x13e+-0x1*-0xa12+-0x1*0xb8f]),this['counter']=-0xad5+0x1b0f+-0x103a,this['app']['on']('frameupdat'+'e',this['update'],this);}['destroy'](){this['app']['off']('frameupdat'+'e',this['update'],this);}['loseContex'+'t'](){this['timer']&&typeof this['timer']['loseContex'+'t']=='function'&&this['timer']['loseContex'+'t']();}['update'](_0x500e6d){const _0x4fa88d=this['timer']['timings'],_0x5218d1=_0x4fa88d['reduce']((_0x350f80,_0x5e1d7c)=>_0x350f80+_0x5e1d7c,0x740+-0x16d3+0x531*0x3);if(this['avgTotal']+=_0x5218d1,this['avgTimer']+=_0x500e6d,this['avgCount']++,this['avgTimer']>this['textRefres'+'hRate']&&(this['timingText']=(this['avgTotal']/this['avgCount'])['toFixed'](this['timer']['decimalPla'+'ces']),this['avgTimer']=-0x24e2+-0x195f+0x3e41,this['avgTotal']=0x274*0x5+0xe52+-0x1a96,this['avgCount']=0x4be+0xc22+-0x10e0),this['enabled']){let _0x4f325f=0x1fca+0x1be0+-0x3baa;const _0x69b874=(-0x11b*0xd+-0x10*-0x1e0+0x28*-0x64+0.5)*this['watermark'];for(let _0x2b27d0=0x23b1+0xf2+-0x24a3;_0x2b27d0<_0x4fa88d['length'];++_0x2b27d0)_0x4f325f+=Math['floor'](_0x4fa88d[_0x2b27d0]/_0x69b874*(0x2106+-0x1636+0x167*-0x7)),this['sample'][_0x2b27d0]=_0x4f325f;this['sample'][-0x691+0x1e24+-0x1790]=this['watermark']/_0x69b874*(-0x5*0xd8+0x101*-0x1d+0x2254),this['texture']['lock']()['set'](this['sample'],(this['cursor']+this['yOffset']*this['texture']['width'])*(0x1a7e+-0x1*0x893+-0x11e7)),this['texture']['unlock'](),this['cursor']++,this['cursor']===this['texture']['width']&&(this['cursor']=-0x1*-0x1731+-0x1aa5*-0x1+0x1*-0x31d6);}}['render'](_0x54f1c7,_0x2b89a7,_0x15134b,_0x567f5d,_0x16eb08){_0x54f1c7['quad'](_0x2b89a7+_0x567f5d,_0x15134b,-_0x567f5d,_0x16eb08,this['enabled']?this['cursor']:0xefb+-0x853*0x2+0x1ab,this['enabled']?0x8d4+-0x724+0x24*-0xc+0.5+this['yOffset']:this['texture']['height']-(0x55*-0x11+0x1*0xe95+-0x8ef*0x1),-_0x567f5d,-0xc33+-0x1a2+0xdd5,this['texture'],-0x2430+-0x1*-0x1f33+0x4fd*0x1);}}class AU{constructor(_0x4ba9e4,_0x417027){const _0x188629=_0x5251dd=>{_0x5251dd['font']='10px\x20\x22Luci'+'da\x20Console'+'\x22,\x20Monaco,'+'\x20monospace',_0x5251dd['textAlign']='left',_0x5251dd['textBaseli'+'ne']='alphabetic';},_0x5d5a3c=_0x40dcc2=>_0x40dcc2==='.'||_0x40dcc2['length']===-0x3b*-0x7a+-0x6*-0x3c6+0x10eb*-0x3&&_0x40dcc2['charCodeAt'](-0x87f+0x1e17+-0x1598)>=0x3f*0x71+-0x8da+0x1*-0x12c5&&_0x40dcc2['charCodeAt'](-0x936+-0x3*-0x62b+-0x27*0x3d)<=-0x10dc+-0x1*0x6f1+0x1806,_0x42d171=document['createElem'+'ent']('canvas'),_0x3d6af4=_0x42d171['getContext']('2d',{'alpha':!(-0x75e+0x2*-0xc23+0x1fa4)});_0x188629(_0x3d6af4);const _0x5c7755=new Map(),_0x8fae98=0x1*-0x177b+-0x3*-0xa35+0x71f*-0x1,_0x3e0209=0x892*-0x2+0xbf*-0x1a+0x268a;let _0x269b5a=_0x8fae98,_0x23a240=_0x8fae98;_0x417027['forEach'](_0x3dfd93=>{const _0x4103c6=_0x3d6af4['measureTex'+'t'](_0x3dfd93),_0x37e295=Math['ceil'](-_0x4103c6['actualBoun'+'dingBoxLef'+'t']),_0x2215dc=Math['ceil'](_0x4103c6['actualBoun'+'dingBoxRig'+'ht']),_0x5a5189=Math['ceil'](_0x4103c6['actualBoun'+'dingBoxAsc'+'ent']),_0x2d4b0d=Math['ceil'](_0x4103c6['actualBoun'+'dingBoxDes'+'cent']),_0x476a89=_0x37e295+_0x2215dc,_0xdcff95=_0x5a5189+_0x2d4b0d;_0x269b5a+_0x476a89+_0x8fae98>=_0x3e0209&&(_0x269b5a=_0x8fae98,_0x23a240+=-0x426+0xc25*-0x3+0x28a5),_0x5c7755['set'](_0x3dfd93,{'l':_0x37e295,'r':_0x2215dc,'a':_0x5a5189,'d':_0x2d4b0d,'w':_0x476a89,'h':_0xdcff95,'x':_0x269b5a,'y':_0x23a240}),_0x269b5a+=_0x476a89+_0x8fae98;}),_0x42d171['width']=0xa0b*0x3+-0x93c+-0x12e5,_0x42d171['height']=Y['nextPowerO'+'fTwo'](_0x23a240+(0x1*0xc07+0x2526+-0x311d)+_0x8fae98),_0x188629(_0x3d6af4),_0x3d6af4['fillStyle']='rgb(0,\x200,\x20'+'0)',_0x3d6af4['fillRect'](0x1*-0x1d86+-0x65b*0x2+0x2a3c,0x2178+-0x3f2+-0x1d86,_0x42d171['width'],_0x42d171['height']),_0x5c7755['forEach']((_0x4b82c3,_0x3afda6)=>{_0x3d6af4['fillStyle']=_0x5d5a3c(_0x3afda6)?'rgb(255,\x202'+'55,\x20255)':'rgb(170,\x201'+'70,\x20170)',_0x3d6af4['fillText'](_0x3afda6,_0x4b82c3['x']-_0x4b82c3['l'],_0x4b82c3['y']+_0x4b82c3['a']);}),this['placements']=_0x5c7755;const _0x2972ae=_0x3d6af4['getImageDa'+'ta'](-0xaa7+0x21bb+0x1a6*-0xe,-0x172b+-0x5*0x637+0x363e*0x1,_0x42d171['width'],_0x42d171['height'])['data'];for(let _0x43d304=-0x7*-0x3a3+0x2587+-0x3efc;_0x43d304<_0x2972ae['length'];_0x43d304+=0xe8d+-0x1*-0x137b+0x4dc*-0x7)_0x2972ae[_0x43d304+(0x24aa+-0x228+0x1*-0x227f)]=_0x2972ae[_0x43d304+(0xb05+-0x181c+0xd17)],_0x2972ae[_0x43d304+(0xcbb*-0x2+-0x5fa+0x2*0xfb8)]=0x61*0x4+-0x2517+-0x1249*-0x2,_0x2972ae[_0x43d304+(-0x175*-0x9+0x2329+-0x3*0x1017)]=-0x17ea+-0x7*-0x3f2+-0x2b5,_0x2972ae[_0x43d304+(0x2184+0x1b39*-0x1+-0x649*0x1)]=-0x40e*0x9+0x185d+-0x5*-0x2a0;this['texture']=new _e(_0x4ba9e4,{'name':'mini-stats'+'-word-atla'+'s','width':_0x42d171['width'],'height':_0x42d171['height'],'mipmaps':!(0x52*-0x11+0x343+-0x1*-0x230),'minFilter':Te,'magFilter':Te,'levels':[_0x2972ae]});}['destroy'](){this['texture']['destroy'](),this['texture']=null;}['render'](_0x476e6f,_0x592cce,_0x387977,_0x1eb388){const _0x26e6d3=this['placements']['get'](_0x592cce);return _0x26e6d3?(_0x476e6f['quad'](_0x387977+_0x26e6d3['l']-(-0x1cf+0x5c6*0x4+0x1c6*-0xc),_0x1eb388-_0x26e6d3['d']+(-0x17d9+0x2c5*-0xd+0x571*0xb),_0x26e6d3['w']+(-0x17fe+-0x1831+-0x1*-0x3031),_0x26e6d3['h']+(0x3*-0x5c3+-0x8db*-0x2+0x1*-0x6b),_0x26e6d3['x']-(0x1883+-0x1233+-0x64f),this['texture']['height']-_0x26e6d3['y']-_0x26e6d3['h']-(-0x5*-0x5b3+0x10eb+-0x2d69),void(-0xf76+0x1*-0x95e+0x18d4),void(0xff4+-0x12c0+0x2cc),this['texture'],-0x1a5e+-0x1*0x10b0+0x2b0f),_0x26e6d3['w']):0x1fb*0xd+0x189*0x9+0x6*-0x698;}}const CU='\x0a\x20\x20\x20\x20attri'+'bute\x20vec3\x20'+'vertex_pos'+'ition;\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20//\x20un'+'normalized'+'\x20xy,\x20word\x20'+'flag\x0a\x20\x20\x20\x20a'+'ttribute\x20v'+'ec4\x20vertex'+'_texCoord0'+';\x20\x20\x20\x20\x20\x20\x20\x20/'+'/\x20unnormal'+'ized\x20textu'+'re\x20space\x20u'+'v,\x20normali'+'zed\x20uv\x0a\x0a\x20\x20'+'\x20\x20varying\x20'+'vec4\x20uv0;\x0a'+'\x20\x20\x20\x20varyin'+'g\x20float\x20wo'+'rdFlag;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in(void)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_Position'+'\x20=\x20vec4(ve'+'rtex_posit'+'ion.xy\x20*\x202'+'.0\x20-\x201.0,\x20'+'0.5,\x201.0);'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20u'+'v0\x20=\x20verte'+'x_texCoord'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20wordFlag\x20'+'=\x20vertex_p'+'osition.z;'+'\x0a\x20\x20\x20\x20}\x0a',PU='\x0a\x20\x20\x20\x20attri'+'bute\x20verte'+'x_position'+':\x20vec3f;\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20//\x20'+'unnormaliz'+'ed\x20xy,\x20wor'+'d\x20flag\x0a\x20\x20\x20'+'\x20attribute'+'\x20vertex_te'+'xCoord0:\x20v'+'ec4f;\x20\x20\x20\x20\x20'+'\x20\x20\x20//\x20unno'+'rmalized\x20t'+'exture\x20spa'+'ce\x20uv,\x20nor'+'malized\x20uv'+'\x0a\x0a\x20\x20\x20\x20vary'+'ing\x20uv0:\x20v'+'ec4f;\x0a\x20\x20\x20\x20'+'varying\x20wo'+'rdFlag:\x20f3'+'2;\x0a\x0a\x20\x20\x20\x20@v'+'ertex\x20fn\x20v'+'ertexMain('+'input\x20:\x20Ve'+'rtexInput)'+'\x20->\x20Vertex'+'Output\x20{\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20var'+'\x20output\x20:\x20'+'VertexOutp'+'ut;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.p'+'osition\x20=\x20'+'vec4(input'+'.vertex_po'+'sition.xy\x20'+'*\x202.0\x20-\x201.'+'0,\x200.5,\x201.'+'0);\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20output.u'+'v0\x20=\x20input'+'.vertex_te'+'xCoord0;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.wordFl'+'ag\x20=\x20input'+'.vertex_po'+'sition.z;\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20re'+'turn\x20outpu'+'t;\x0a\x20\x20\x20\x20}\x0a',MU='\x0a\x20\x20\x20\x20varyi'+'ng\x20vec4\x20uv'+'0;\x0a\x20\x20\x20\x20var'+'ying\x20float'+'\x20wordFlag;'+'\x0a\x0a\x20\x20\x20\x20unif'+'orm\x20vec4\x20c'+'lr;\x0a\x20\x20\x20\x20un'+'iform\x20samp'+'ler2D\x20grap'+'hTex;\x0a\x20\x20\x20\x20'+'uniform\x20sa'+'mpler2D\x20wo'+'rdsTex;\x0a\x0a\x20'+'\x20\x20\x20void\x20ma'+'in\x20(void)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20graph'+'Sample\x20=\x20t'+'exture2D(g'+'raphTex,\x20u'+'v0.xy);\x0a\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20vec'+'4\x20graph;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20if\x20'+'(uv0.w\x20<\x20g'+'raphSample'+'.r)\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20grap'+'h\x20=\x20vec4(0'+'.7,\x200.2,\x200'+'.2,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20graph\x20=\x20'+'vec4(0.2,\x20'+'0.7,\x200.2,\x20'+'1.0);\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20else\x20i'+'f\x20(uv0.w\x20<'+'\x20graphSamp'+'le.b)\x0a\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20gr'+'aph\x20=\x20vec4'+'(0.2,\x200.2,'+'\x200.7,\x201.0)'+';\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'else\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20gra'+'ph\x20=\x20vec4('+'0.0,\x200.0,\x20'+'0.0,\x201.0\x20-'+'\x200.25\x20*\x20si'+'n(uv0.w\x20*\x20'+'3.14159));'+'\x0a\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'vec4\x20words'+'\x20=\x20texture'+'2D(wordsTe'+'x,\x20vec2(uv'+'0.x,\x201.0\x20-'+'\x20uv0.y));\x0a'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20g'+'l_FragColo'+'r\x20=\x20mix(gr'+'aph,\x20words'+',\x20wordFlag'+')\x20*\x20clr;\x0a\x20'+'\x20\x20\x20}\x0a',DU='\x0a\x20\x20\x20\x20varyi'+'ng\x20uv0:\x20ve'+'c4f;\x0a\x20\x20\x20\x20v'+'arying\x20wor'+'dFlag:\x20f32'+';\x0a\x0a\x20\x20\x20\x20uni'+'form\x20clr:\x20'+'vec4f;\x0a\x0a\x20\x20'+'\x20\x20var\x20grap'+'hTex\x20:\x20tex'+'ture_2d<f3'+'2>;\x0a\x20\x20\x20\x20va'+'r\x20graphTex'+'_sampler\x20:'+'\x20sampler;\x0a'+'\x0a\x20\x20\x20\x20var\x20w'+'ordsTex\x20:\x20'+'texture_2d'+'<f32>;\x0a\x20\x20\x20'+'\x20var\x20words'+'Tex_sample'+'r\x20:\x20sample'+'r;\x0a\x0a\x20\x20\x20\x20@f'+'ragment\x20fn'+'\x20fragmentM'+'ain(input\x20'+':\x20Fragment'+'Input)\x20->\x20'+'FragmentOu'+'tput\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20var\x20u'+'v0:\x20vec4f\x20'+'=\x20input.uv'+'0;\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20graph'+'Sample:\x20ve'+'c4f\x20=\x20text'+'ureSample('+'graphTex,\x20'+'graphTex_s'+'ampler,\x20uv'+'0.xy);\x0a\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20var\x20'+'graph:\x20vec'+'4f;\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20if\x20(uv0.'+'w\x20<\x20graphS'+'ample.r)\x20{'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20graph\x20='+'\x20vec4f(0.7'+',\x200.2,\x200.2'+',\x201.0);\x0a\x20\x20'+'\x20\x20\x20\x20\x20\x20}\x20el'+'se\x20if\x20(uv0'+'.w\x20<\x20graph'+'Sample.g)\x20'+'{\x0a\x20\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20graph\x20'+'=\x20vec4f(0.'+'2,\x200.7,\x200.'+'2,\x201.0);\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20}\x20e'+'lse\x20if\x20(uv'+'0.w\x20<\x20grap'+'hSample.b)'+'\x20{\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20\x20\x20\x20\x20graph'+'\x20=\x20vec4f(0'+'.2,\x200.2,\x200'+'.7,\x201.0);\x0a'+'\x20\x20\x20\x20\x20\x20\x20\x20}\x20'+'else\x20{\x0a\x20\x20\x20'+'\x20\x20\x20\x20\x20\x20\x20\x20\x20g'+'raph\x20=\x20vec'+'4f(0.0,\x200.'+'0,\x200.0,\x201.'+'0\x20-\x200.25\x20*'+'\x20sin(uv0.w'+'\x20*\x203.14159'+'));\x0a\x20\x20\x20\x20\x20\x20'+'\x20\x20}\x0a\x0a\x20\x20\x20\x20\x20'+'\x20\x20\x20var\x20wor'+'ds:\x20vec4f\x20'+'=\x20textureS'+'ample(word'+'sTex,\x20word'+'sTex_sampl'+'er,\x20vec2f('+'uv0.x,\x201.0'+'\x20-\x20uv0.y))'+';\x0a\x0a\x20\x20\x20\x20\x20\x20\x20'+'\x20var\x20outpu'+'t:\x20Fragmen'+'tOutput;\x0a\x20'+'\x20\x20\x20\x20\x20\x20\x20out'+'put.color\x20'+'=\x20mix(grap'+'h,\x20words,\x20'+'input.word'+('Flag)\x20*\x20un'+'iform.clr;'+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20r'+'eturn\x20outp'+'ut;\x0a\x20\x20\x20\x20}\x0a');class IU{constructor(_0x26e62d,_0x32eca0=-0x105*-0x17+-0x210e+-0xb9b*-0x1){const _0x516790=new kt(_0x26e62d,[{'semantic':Me,'components':0x3,'type':Ve},{'semantic':is,'components':0x4,'type':Ve}]),_0x1f6813=new Uint16Array(_0x32eca0*(0x2013+0x248a+-0x4497));for(let _0x461a21=-0x5f*-0x29+0x988+-0x18bf;_0x461a21<_0x32eca0;++_0x461a21)_0x1f6813[_0x461a21*(0x82*-0x27+-0x146*-0x1d+-0x111a)+(0x1*0x265d+-0xe3*0x1+-0x257a)]=_0x461a21*(0xf28+-0x23e5+-0xa1*-0x21),_0x1f6813[_0x461a21*(0x54c*-0x7+-0x18ee+0x3e08)+(-0x63*0x1f+-0x4*-0x2f5+0x2a)]=_0x461a21*(0x2*0x1138+0x40a+-0x2676)+(-0x13c3+-0x1f52+-0xd*-0x3ee),_0x1f6813[_0x461a21*(0x1355+0x704+-0x17*0x125)+(-0x2e+-0x132f*0x1+0x675*0x3)]=_0x461a21*(0x109+-0x8*0x65+0x223)+(0x1*-0x1df+-0x213a+0x2b*0xd1),_0x1f6813[_0x461a21*(0x2306+-0xb*0x295+0x699*-0x1)+(-0x20b3+0x2422+0x36c*-0x1)]=_0x461a21*(-0xbf*0x16+0x64*0x2e+-0xc5*0x2),_0x1f6813[_0x461a21*(0x12c9+-0x176c+0x4a9)+(0xf8*-0x27+0xd85*-0x2+0x40d6)]=_0x461a21*(0x3*-0x355+-0x2177+-0x2a*-0x109)+(0x3*0x782+-0x455*-0x9+-0x3d81),_0x1f6813[_0x461a21*(0x25*-0x71+-0x1302+0x235d)+(0xb*0x2d5+0x12d3+0x58d*-0x9)]=_0x461a21*(-0x112a+0x1b2f+-0xa01)+(0x124+0xb0c+-0xc2d);this['device']=_0x26e62d,this['buffer']=new Is(_0x26e62d,_0x516790,_0x32eca0*(0x4*-0x3cd+0xf82+-0x1*0x4a),{'usage':ey}),this['data']=new Float32Array(this['buffer']['numBytes']/(0x10ef+-0x64e+-0xa9d)),this['indexBuffe'+'r']=new br(_0x26e62d,Yi,_0x32eca0*(0x2021+-0x1d52+-0x2c9*0x1),ms,_0x1f6813),this['prim']={'type':js,'indexed':!(0x64d*-0x1+-0xac4+-0x1111*-0x1),'base':0x0,'baseVertex':0x0,'count':0x0},this['quads']=0x1b3d+-0x9*0x2dd+-0x178,this['mesh']=new Ge(_0x26e62d),this['mesh']['vertexBuff'+'er']=this['buffer'],this['mesh']['indexBuffe'+'r'][-0x1*0xee1+-0x1d6a+-0x17*-0x1ed]=this['indexBuffe'+'r'],this['mesh']['primitive']=[this['prim']];const _0x439826=new Xn({'uniqueName':'MiniStats','vertexGLSL':CU,'fragmentGLSL':MU,'vertexWGSL':PU,'fragmentWGSL':DU,'attributes':{'vertex_position':Me,'vertex_texCoord0':is}});this['material']=_0x439826,_0x439826['cull']=bt,_0x439826['depthState']=Yt['NODEPTH'],_0x439826['blendState']=new pt(!(-0x1468+-0x1276+0x26de),fs,jh,Yh,fs,Ft,Ft),_0x439826['update'](),this['meshInstan'+'ce']=new He(this['mesh'],_0x439826,new Ie('MiniStatsM'+'esh')),this['uniforms']={'clr':new Float32Array(0x1*-0x931+0x1*-0x1220+0x1b55)},this['targetSize']={'width':_0x26e62d['width'],'height':_0x26e62d['height']};}['quad'](_0x38782d,_0x4a5424,_0x54888b,_0x468ca8,_0x49be09,_0x2b8f58,_0x1815ef,_0x33bb7f,_0x5dbb73,_0x4aef16=0x49f*-0x2+-0x264d+0x1*0x2f8b){const _0x167653=this['targetSize']['width'],_0x4edb87=this['targetSize']['height'],_0xc2fa95=_0x38782d/_0x167653,_0x20dfb7=_0x4a5424/_0x4edb87,_0x270281=(_0x38782d+_0x54888b)/_0x167653,_0x5b1574=(_0x4a5424+_0x468ca8)/_0x4edb87,_0x534558=_0x5dbb73['width'],_0x2fb044=_0x5dbb73['height'],_0x3ca637=_0x49be09/_0x534558,_0x240ff0=_0x2b8f58/_0x2fb044,_0x3d1502=(_0x49be09+(_0x1815ef??_0x54888b))/_0x534558,_0x33a0e6=(_0x2b8f58+(_0x33bb7f??_0x468ca8))/_0x2fb044;this['data']['set']([_0xc2fa95,_0x20dfb7,_0x4aef16,_0x3ca637,_0x240ff0,-0xccd+0x8bd+0x410,0x3*0x65a+-0x20c7*0x1+-0x493*-0x3,_0x270281,_0x20dfb7,_0x4aef16,_0x3d1502,_0x240ff0,-0xc9d+0x1b31+-0xe93,-0x1*0xbe1+0x580*-0x3+-0x1*-0x1c61,_0x270281,_0x5b1574,_0x4aef16,_0x3d1502,_0x33a0e6,0x11*0x213+-0x1*0x1759+-0xbe9*0x1,-0x17bc+0x1fd2*-0x1+0x1*0x378f,_0xc2fa95,_0x5b1574,_0x4aef16,_0x3ca637,_0x33a0e6,0x1fe8*-0x1+-0x152*-0xf+0xc1a,0x789+-0x1*-0x1db7+-0x773*0x5],(-0xf6f+-0xa2b+0x19b6)*this['quads']),this['quads']++,this['prim']['count']+=-0x202e+0x3c7+0x1c6d;}['startFrame'](){this['quads']=0xa0d*-0x3+0xd10+0x1117*0x1,this['prim']['count']=0x466+-0x1a81*-0x1+-0x1ee7,this['targetSize']['width']=this['device']['canvas']['scrollWidt'+'h'],this['targetSize']['height']=this['device']['canvas']['scrollHeig'+'ht'];}['render'](_0x292dd8,_0x544afa,_0xdb1377,_0x1eacbe,_0x7ad6b5,_0x32c476){this['buffer']['setData'](this['data']['buffer']),this['uniforms']['clr']['set'](_0x7ad6b5,-0x147a+-0x4*-0x1d2+0xd32),this['material']['setParamet'+'er']('clr',this['uniforms']['clr']),this['material']['setParamet'+'er']('graphTex',_0xdb1377),this['material']['setParamet'+'er']('wordsTex',_0x1eacbe),_0x292dd8['drawMeshIn'+'stance'](this['meshInstan'+'ce'],_0x544afa);}}class N0{constructor(_0x346e80,_0x234227){const _0x3548b9=_0x346e80['graphicsDe'+'vice'];this['deviceHeig'+'ht']=_0x3548b9['height']/_0x3548b9['maxPixelRa'+'tio'],_0x234227={...N0['getDefault'+'Options'](),..._0x234227},this['options']=_0x234227,this['initGraphs'](_0x346e80,_0x3548b9,_0x234227);const _0x362496=new Set(['','ms','0','1','2','3','4','5','6','7','8','9','.']['concat'](this['graphs']['map'](_0x541caf=>_0x541caf['name']))['concat'](_0x234227['stats']?_0x234227['stats']['map'](_0x533521=>_0x533521['unitsName']):[])['filter'](_0x37e6f0=>!!_0x37e6f0));this['wordAtlas']=new AU(_0x3548b9,_0x362496),this['sizes']=_0x234227['sizes'],this['_activeSiz'+'eIndex']=_0x234227['startSizeI'+'ndex'];const _0x5121e9=document['createElem'+'ent']('div');_0x5121e9['setAttribu'+'te']('id','mini-stats'),_0x234227['position']==='top'?_0x5121e9['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';':_0x5121e9['style']['cssText']='position:f'+'ixed;botto'+'m:0;left:0'+';backgroun'+'d:transpar'+'ent;',_0x5121e9['style']['cssText']='position:f'+'ixed;top:0'+';left:0;ba'+'ckground:t'+'ransparent'+';',document['body']['appendChil'+'d'](_0x5121e9),_0x5121e9['addEventLi'+'stener']('mouseenter',_0x22d5ca=>{this['opacity']=-0x24ab+0x232+0x227a;}),_0x5121e9['addEventLi'+'stener']('mouseleave',_0x2e8a8a=>{this['opacity']=0xf8d+-0x1*-0x1e25+0x1*-0x2db2+0.7;}),_0x5121e9['addEventLi'+'stener']('click',_0x1cf096=>{_0x1cf096['preventDef'+'ault'](),this['_enabled']&&(this['activeSize'+'Index']=(this['activeSize'+'Index']+(0x1b11+0x20e2+-0x1df9*0x2))%this['sizes']['length'],this['resize'](this['sizes'][this['activeSize'+'Index']]['width'],this['sizes'][this['activeSize'+'Index']]['height'],this['sizes'][this['activeSize'+'Index']]['graphs']));}),_0x3548b9['on']('resizecanv'+'as',this['updateDiv'],this),_0x3548b9['on']('losecontex'+'t',this['loseContex'+'t'],this),_0x346e80['on']('postrender',this['postRender'],this),this['app']=_0x346e80,this['drawLayer']=_0x346e80['scene']['layers']['getLayerBy'+'Id'](Il),this['device']=_0x3548b9,this['render2d']=new IU(_0x3548b9),this['div']=_0x5121e9,this['width']=0xd*0x8f+-0x1cef+-0x49*-0x4c,this['height']=0x2e1+0x1963*0x1+0xc*-0x25b,this['gspacing']=-0x27*-0x59+0x48a*-0x1+0x903*-0x1,this['clr']=[0x1c57+0x4*0x141+-0x215a,-0x3ad*0x5+0x9ef*0x1+0x3*0x2d1,0x2f9+0x13be*0x1+-0x16b6*0x1,0x982+-0x4*0x75a+-0x12*-0x11b+0.5],this['_enabled']=!(0x44*-0x7a+0x208e+-0x26),this['activeSize'+'Index']=this['_activeSiz'+'eIndex'];}['destroy'](){this['device']['off']('resizecanv'+'as',this['updateDiv'],this),this['device']['off']('losecontex'+'t',this['loseContex'+'t'],this),this['app']['off']('postrender',this['postRender'],this),this['graphs']['forEach'](_0x80a356=>_0x80a356['destroy']()),this['wordAtlas']['destroy'](),this['texture']['destroy']();}static['getDefault'+'Options'](){return{'position':'top','sizes':[{'width':0x64,'height':0x10,'spacing':0x0,'graphs':!(0x68f*0x1+0xcad*-0x2+0x12cc)},{'width':0x80,'height':0x20,'spacing':0x2,'graphs':!(0x1883+0x8b*-0x11+0x518*-0x3)},{'width':0x100,'height':0x40,'spacing':0x2,'graphs':!(0x6b6+0x8c*-0x1f+0xa3e)}],'startSizeIndex':0x0,'textRefreshRate':0x1f4,'cpu':{'enabled':!(-0x3*-0x883+-0x10*0xc5+0x2a5*-0x5),'watermark':0x21},'gpu':{'enabled':!(0x4*0x536+-0xf65*-0x1+-0x243d),'watermark':0x21},'stats':[{'name':'Frame','stats':['frame.ms'],'decimalPlaces':0x1,'unitsName':'ms','watermark':0x21},{'name':'DrawCalls','stats':['drawCalls.'+'total'],'watermark':0x3e8}]};}set['activeSize'+'Index'](_0x15caee){this['_activeSiz'+'eIndex']=_0x15caee,this['gspacing']=this['sizes'][_0x15caee]['spacing'],this['resize'](this['sizes'][_0x15caee]['width'],this['sizes'][_0x15caee]['height'],this['sizes'][_0x15caee]['graphs']);}get['activeSize'+'Index'](){return this['_activeSiz'+'eIndex'];}set['opacity'](_0x30b5fe){this['clr'][-0x43f+-0x16*0x3+0x484]=_0x30b5fe;}get['opacity'](){return this['clr'][-0xe79+-0x35*0x38+0x4*0x685];}get['overallHei'+'ght'](){const _0x307bb8=this['graphs'],_0x44917c=this['gspacing'];return this['height']*_0x307bb8['length']+_0x44917c*(_0x307bb8['length']-(0x1*-0x1dbb+-0x1fb4+-0x3d70*-0x1));}set['enabled'](_0x152f0d){if(_0x152f0d!==this['_enabled']){this['_enabled']=_0x152f0d;for(let _0x23dd67=-0x1*0x1453+-0x10c9+-0xbe*-0x32;_0x23dd67<this['graphs']['length'];++_0x23dd67)this['graphs'][_0x23dd67]['enabled']=_0x152f0d,this['graphs'][_0x23dd67]['timer']['enabled']=_0x152f0d;}}get['enabled'](){return this['_enabled'];}['initGraphs'](_0x788406,_0x4e7f14,_0x579a04){if(this['graphs']=[],_0x579a04['cpu']['enabled']){const _0x44e316=new wU(_0x788406),_0x2b8fe7=new Uf('CPU',_0x788406,_0x579a04['cpu']['watermark'],_0x579a04['textRefres'+'hRate'],_0x44e316);this['graphs']['push'](_0x2b8fe7);}if(_0x579a04['gpu']['enabled']){const _0x4b4f8d=new EU(_0x4e7f14),_0x22f85e=new Uf('GPU',_0x788406,_0x579a04['gpu']['watermark'],_0x579a04['textRefres'+'hRate'],_0x4b4f8d);this['graphs']['push'](_0x22f85e);}_0x579a04['stats']&&_0x579a04['stats']['forEach'](_0x296727=>{const _0x4179ea=new bU(_0x788406,_0x296727['stats'],_0x296727['decimalPla'+'ces'],_0x296727['unitsName'],_0x296727['multiplier']),_0x42fd1d=new Uf(_0x296727['name'],_0x788406,_0x296727['watermark'],_0x579a04['textRefres'+'hRate'],_0x4179ea);this['graphs']['push'](_0x42fd1d);});const _0x128cc4=_0x579a04['sizes']['reduce']((_0x4b2361,_0x12aacb)=>_0x12aacb['width']>_0x4b2361?_0x12aacb['width']:_0x4b2361,-0xb*0x1cf+0xc2e+-0x18b*-0x5);this['texture']=new _e(_0x4e7f14,{'name':'mini-stats'+'-graph-tex'+'ture','width':Y['nextPowerO'+'fTwo'](_0x128cc4),'height':Y['nextPowerO'+'fTwo'](this['graphs']['length']),'mipmaps':!(0xaf5+-0x1*-0x1161+0x1*-0x1c55),'minFilter':Te,'magFilter':Te,'addressU':yt,'addressV':yt}),this['graphs']['forEach']((_0x49ebc7,_0x2d65bf)=>{_0x49ebc7['texture']=this['texture'],_0x49ebc7['yOffset']=_0x2d65bf;});}['render'](){const _0x39b161=this['graphs'],_0x3fd54f=this['wordAtlas'],_0x4a2fce=this['render2d'],_0xfac2b6=this['width'],_0x443aee=this['height'],_0x3bc819=this['gspacing'];_0x4a2fce['startFrame']();for(let _0xc4804d=0x650+-0x1*0x164+-0x4ec;_0xc4804d<_0x39b161['length'];++_0xc4804d){const _0x541446=_0x39b161[_0xc4804d];let _0x177677=this['options']['position']==='top'?this['deviceHeig'+'ht']-(_0xc4804d+(-0x9d5+-0x3a6*0x1+-0x4*-0x35f))*(_0x443aee+_0x3bc819):_0xc4804d*(_0x443aee+_0x3bc819);_0x541446['render'](_0x4a2fce,-0x3*-0x29+0x146*-0x18+0x1e15,_0x177677,_0xfac2b6,_0x443aee);let _0x30ddb9=0x13b7+0x1b*-0xb7+0x3*-0x23;_0x177677+=_0x443aee-(0xce4+0xe77+0x1b4e*-0x1),_0x30ddb9+=_0x3fd54f['render'](_0x4a2fce,_0x541446['name'],_0x30ddb9,_0x177677)+(-0x11*0x20e+0x9*-0x175+0x3015);const _0x243a1e=_0x541446['timingText'];for(let _0x5a3525=-0x11*0x76+-0x418*0x7+-0x9*-0x40e;_0x5a3525<_0x243a1e['length'];++_0x5a3525)_0x30ddb9+=_0x3fd54f['render'](_0x4a2fce,_0x243a1e[_0x5a3525],_0x30ddb9,_0x177677);_0x541446['timer']['unitsName']&&(_0x30ddb9+=-0x150+0xab6*-0x1+0xc09,_0x3fd54f['render'](_0x4a2fce,_0x541446['timer']['unitsName'],_0x30ddb9,_0x177677));}_0x4a2fce['render'](this['app'],this['drawLayer'],this['texture'],this['wordAtlas']['texture'],this['clr'],_0x443aee);}['resize'](_0x556e97,_0x2f1eb1,_0x5e7271){const _0x4feff8=this['graphs'];for(let _0x355c61=-0x2*0x11e1+-0x7*0x22+-0x24b0*-0x1;_0x355c61<_0x4feff8['length'];++_0x355c61)_0x4feff8[_0x355c61]['enabled']=_0x5e7271;this['width']=_0x556e97,this['height']=_0x2f1eb1,this['updateDiv']();}['updateDiv'](){const _0x143dce=this['device']['canvas']['getBoundin'+'gClientRec'+'t']();this['div']['style']['left']=_0x143dce['left']+'px',this['div']['style']['bottom']=window['innerHeigh'+'t']-_0x143dce['bottom']+'px',this['div']['style']['width']=this['width']+'px',this['div']['style']['height']=this['overallHei'+'ght']+'px',this['deviceHeig'+'ht']=this['device']['height']/this['device']['maxPixelRa'+'tio'];}['loseContex'+'t'](){this['graphs']['forEach'](_0x5c9ce6=>_0x5c9ce6['loseContex'+'t']());}['postRender'](){this['_enabled']&&this['render']();}}H0();class LU extends ts{constructor(){super(...arguments),h(this,'basePath','https://cd'+'n.jsdelivr'+'.net/npm/@'+'webxr-inpu'+'t-profiles'+'/assets/di'+'st/profile'+'s'),h(this,'controller'+'s',new Map()),h(this,'preEntitie'+'s',new Map()),h(this,'eventsList',[]),h(this,'addEvents',(_0x5f243b,_0x15c36d,_0x33c01d)=>{_0x5f243b['on'](_0x15c36d,_0x33c01d),this['eventsList']=this['eventsList']['concat']({'e':_0x5f243b,'ty':_0x15c36d,'fn':_0x33c01d});}),h(this,'removeEven'+'ts',()=>{this['eventsList']['forEach'](({e:_0x334ea2,ty:_0x41a513,fn:_0x5ee8ac})=>{_0x334ea2['off'](_0x41a513,_0x5ee8ac);}),this['eventsList']=[];}),h(this,'initialize',()=>{if(!this['app']['xr']){console['error']('XrControll'+'ers\x20script'+'\x20requires\x20'+'XR\x20to\x20be\x20e'+'nabled\x20on\x20'+'the\x20applic'+'ation');return;}this['addEvents'](this['app']['xr']['input'],'add',async _0x3f80c4=>{var _0x128937;if(console['log']('add\x20xr\x20inp'+'ut',_0x3f80c4['handedness']),!((_0x128937=_0x3f80c4['profiles'])!=null&&_0x128937['length'])){console['warn']('No\x20profile'+'s\x20availabl'+'e\x20for\x20inpu'+'t\x20source');return;}const _0x59fd69=_0x3f80c4['profiles']['map'](async _0x2a3b18=>{var _0x1c14eb;const _0x52aed5=this['basePath']+'/'+_0x2a3b18+('/profile.j'+'son');try{const _0x73028f=await fetch(_0x52aed5);if(!_0x73028f['ok'])return null;const _0x55caa9=await _0x73028f['json'](),_0x4e8a83=((_0x1c14eb=_0x55caa9['layouts'][_0x3f80c4['handedness']])==null?void(0x18d7+0x234*0xf+0x1*-0x39e3):_0x1c14eb['assetPath'])||'',_0x4f46a7=this['basePath']+'/'+_0x55caa9['profileId']+'/'+_0x3f80c4['handedness']+_0x4e8a83['replace'](/^\/?(left|right)/,''),_0x3dd85b=await new Promise((_0x513b21,_0x434c20)=>{this['app']['assets']['loadFromUr'+'l'](_0x4f46a7,'container',(_0x299562,_0xf15cb8)=>{_0x299562?_0x434c20(_0x299562):_0x513b21(_0xf15cb8);});});return{'profileId':_0x2a3b18,'asset':_0x3dd85b};}catch{return console['warn']('Failed\x20to\x20'+'process\x20pr'+'ofile\x20'+_0x2a3b18),null;}}),_0x466ca5=(await Promise['all'](_0x59fd69))['find'](_0xc6d3ae=>_0xc6d3ae!==null);if(_0x466ca5){const {asset:_0x3e64d5}=_0x466ca5,_0x39e84a=_0x3e64d5['resource']['instantiat'+'eRenderEnt'+'ity']();_0x39e84a['name']='Armature_'+_0x3f80c4['handedness'],this['app']['root']['addChild'](_0x39e84a),this['preEntitie'+'s']['set'](_0x3f80c4,_0x39e84a);const _0xd09bc=new Map();if(_0x3f80c4['hand'])for(const _0x5008a9 of _0x3f80c4['hand']['joints']){const _0x5250d6=_0x39e84a['findByName'](_0x5008a9['id']);_0x5250d6&&_0xd09bc['set'](_0x5008a9,_0x5250d6);}this['controller'+'s']['set'](_0x3f80c4,{'entity':_0x39e84a,'jointMap':_0xd09bc});}else console['warn']('No\x20compati'+'ble\x20profil'+'es\x20found');}),this['addEvents'](this['app']['xr']['input'],'remove',_0x4c4b00=>{var _0xa29a2d;const _0x112c2e=this['controller'+'s']['get'](_0x4c4b00);_0x112c2e&&((_0xa29a2d=_0x112c2e['entity'])==null||_0xa29a2d['destroy'](),this['app']['root']['removeChil'+'d'](_0x112c2e==null?void(0x2*-0xce4+0x3*-0x6bd+-0x3*-0xf55):_0x112c2e['entity']),this['controller'+'s']['delete'](_0x4c4b00));}),this['addEvents'](this['app']['xr']['input'],'removeall',this['destroy']),this['on']('destroy',this['removeEven'+'ts']);}),h(this,'destroy',()=>{var _0x214601,_0x1c919c,_0x3f37fa;const _0x4c09d0=this['app'];(_0x214601=this['controller'+'s'])==null||_0x214601['forEach'](_0x32a4b2=>{var _0x47e4cc;_0x4c09d0['root']['removeChil'+'d'](_0x32a4b2==null?void(-0x247e+-0x2149+0x45c7):_0x32a4b2['entity']),(_0x47e4cc=_0x32a4b2['entity'])==null||_0x47e4cc['destroy']();}),(_0x1c919c=this['controller'+'s'])==null||_0x1c919c['clear'](),(_0x3f37fa=this['preEntitie'+'s'])==null||_0x3f37fa['forEach'](_0x16d88a=>{_0x4c09d0['root']['removeChil'+'d'](_0x16d88a),_0x16d88a==null||_0x16d88a['destroy']();});const _0x54ae28=()=>{const _0x110cbb=_0x4c09d0['root']['findByName']('Armature_l'+'eft'),_0x3c0cf7=_0x4c09d0['root']['findByName']('Armature_r'+'ight');for(_0x110cbb&&_0x4c09d0['root']['removeChil'+'d'](_0x110cbb),_0x3c0cf7&&_0x4c09d0['root']['removeChil'+'d'](_0x3c0cf7);_0x4c09d0['root']['findByName']('Armature_l'+'eft')||_0x4c09d0['root']['findByName']('Armature_r'+'ight');)_0x54ae28();};_0x54ae28();});}['update'](_0x206872){var _0x1f8f5f;if((_0x1f8f5f=this['app']['xr'])!=null&&_0x1f8f5f['active']){for(const [_0x3a4ee2,{entity:_0x5ba36a,jointMap:_0x44728b}]of this['controller'+'s'])if(_0x3a4ee2['hand']){for(const [_0x420826,_0x11b3a3]of _0x44728b)_0x11b3a3['setPositio'+'n'](_0x420826['getPositio'+'n']()),_0x11b3a3['setRotatio'+'n'](_0x420826['getRotatio'+'n']());}else _0x5ba36a['setPositio'+'n'](_0x3a4ee2['getPositio'+'n']()),_0x5ba36a['setRotatio'+'n'](_0x3a4ee2['getRotatio'+'n']());}}}h(LU,'scriptName','xrControll'+'ers');class RU extends ts{constructor(){super(...arguments),h(this,'enableDraw'+'Ray',!(0x99a*-0x2+-0x14f9+-0x1417*-0x2)),h(this,'inputSourc'+'es',new Set()),h(this,'activePoin'+'ters',new Map()),h(this,'validColor',new ie(-0x1b*-0x10d+-0x238f+0xa*0xb8,0x1*-0x659+-0x1085*-0x1+0x1*-0xa2b,-0xce4+-0x76+0xd5a)),h(this,'invalidCol'+'or',new ie(0x1cd4+0x4c*0x34+0xec1*-0x3,0x250e+-0x171f+-0xdef,-0x221e+-0xaa1+0x2cbf)),h(this,'inputHandl'+'ers',new Map()),h(this,'teleportOp'+'enStatus',!(-0x93d+-0x2*-0xbd3+-0x39a*0x4)),h(this,'teleportLe'+'ftOpenStat'+'us',!(0x945+-0x760+-0x1e4));}['initialize'](){if(!this['app']['xr']){console['error']('XrNavigati'+'on\x20script\x20'+'requires\x20X'+'R\x20to\x20be\x20en'+'abled\x20on\x20t'+'he\x20applica'+'tion');return;}this['app']['xr']['input']['on']('add',_0x8b7d57=>{const _0x2d56eb=()=>{this['activePoin'+'ters']['set'](_0x8b7d57,!(0x4dc*0x1+-0x2*-0x103a+-0x2550));},_0x5b043a=()=>{this['activePoin'+'ters']['set'](_0x8b7d57,!(-0x26e9+0x111f+-0x15cb*-0x1)),this['tryTelepor'+'t'](_0x8b7d57);};_0x8b7d57['on']('selectstar'+'t',_0x2d56eb),_0x8b7d57['on']('selectend',_0x5b043a),this['inputHandl'+'ers']['set'](_0x8b7d57,{'handleSelectStart':_0x2d56eb,'handleSelectEnd':_0x5b043a}),this['inputSourc'+'es']['add'](_0x8b7d57);}),this['app']['xr']['input']['on']('remove',_0x49e978=>{const _0x1cad8f=this['inputHandl'+'ers']['get'](_0x49e978);_0x1cad8f&&(_0x49e978['off']('selectstar'+'t',_0x1cad8f['handleSele'+'ctStart']),_0x49e978['off']('selectend',_0x1cad8f['handleSele'+'ctEnd']),this['inputHandl'+'ers']['delete'](_0x49e978)),this['activePoin'+'ters']['delete'](_0x49e978),this['inputSourc'+'es']['delete'](_0x49e978);});}['findPlaneI'+'ntersectio'+'n'](_0xef255a,_0x250419){if(Math['abs'](_0x250419['y'])<-0x2389+-0x215*0x9+0x3646+0.00001)return null;const _0x297126=-_0xef255a['y']/_0x250419['y'];return _0x297126<0xf*-0x11+0xe3d+-0xa*0x153?null:new D(_0xef255a['x']+_0x250419['x']*_0x297126,-0x3*-0x2e6+-0x1aeb*-0x1+-0x9*0x3f5,_0xef255a['z']+_0x250419['z']*_0x297126);}['tryTelepor'+'t'](_0x315353){if(this['teleportOp'+'enStatus']||this['teleportLe'+'ftOpenStat'+'us']){const _0x2b6ce3=_0x315353['getOrigin'](),_0x3e1782=_0x315353['getDirecti'+'on'](),_0x57d02b=this['findPlaneI'+'ntersectio'+'n'](_0x2b6ce3,_0x3e1782);if(_0x57d02b){const _0xd295b6=this['entity']['getPositio'+'n']()['y'];_0x57d02b['y']=_0xd295b6,this['entity']['setPositio'+'n'](_0x57d02b);}}}['update'](){for(const _0x142d7b of this['inputSourc'+'es']){const _0x567f19=_0x142d7b['getOrigin'](),_0x3a25f7=_0x142d7b['getDirecti'+'on']();if(_0x142d7b['gamepad']&&!_0x142d7b['hand']){const _0x257f3c=_0x142d7b['gamepad'];for(let _0x1f3e5d=-0x1*-0x1ead+0x3*-0x7ed+-0x1*0x6e6;_0x1f3e5d<_0x257f3c['buttons']['length'];++_0x1f3e5d)_0x257f3c['buttons'][_0x1f3e5d]['pressed']&&console['log'](_0x1f3e5d,_0x142d7b['handedness']),_0x142d7b['handedness']==='right'&&_0x1f3e5d===-0xbf*0x2e+0x3b*-0x49+0x3326&&(this['teleportOp'+'enStatus']=_0x257f3c['buttons'][0x296*-0x1+-0x7*0x1+0x29e]['pressed']),_0x142d7b['handedness']==='left'&&_0x1f3e5d===-0x57*-0x37+-0x1*-0x236+-0xd6*0x19&&(this['teleportLe'+'ftOpenStat'+'us']=_0x257f3c['buttons'][-0x7*-0x15e+-0xdff+0x46e]['pressed']);}const _0x4f6944=_0x142d7b['handedness'];if(!this['enableDraw'+'Ray']&&(_0x4f6944==='right'&&!this['teleportOp'+'enStatus']||_0x4f6944==='left'&&!this['teleportLe'+'ftOpenStat'+'us']))continue;const _0x575e6e=this['findPlaneI'+'ntersectio'+'n'](_0x567f19,_0x3a25f7);if(this['enableDraw'+'Ray']||!_0x575e6e){const _0x4d8057=_0x567f19['clone']()['add'](_0x3a25f7['clone']()['mulScalar'](0x1*-0xc0d+-0x6*0x1ff+0x186b)),_0x2b409e=this['enableDraw'+'Ray']?_0x142d7b['selecting']?ie['GREEN']:ie['WHITE']:this['invalidCol'+'or'];this['app']['drawLine'](_0x567f19,_0x4d8057,_0x2b409e);}else this['app']['drawLine'](_0x567f19,_0x575e6e,this['validColor']),this['drawTelepo'+'rtIndicato'+'r'](_0x575e6e);}}['drawTelepo'+'rtIndicato'+'r'](_0x50b512){for(let _0x5bf5d5=0x1a4b+-0x1aa8+0x5d;_0x5bf5d5<0x13f8+0x2*-0xe09+0x83a;_0x5bf5d5++){const _0x23260e=_0x5bf5d5/(-0x1*-0x266e+0xe68+0x34b6*-0x1)*Math['PI']*(0x1*-0x67f+-0x1c7*0x2+0xa0f),_0xf960f6=(_0x5bf5d5+(0x1c*-0x57+0x65e+0x10d*0x3))/(-0x1fab+0x1b45+0x486)*Math['PI']*(-0xa74*0x2+0x1ee9+-0x9ff),_0xc3e42d=_0x50b512['x']+Math['cos'](_0x23260e)*(-0x43*0x17+0x38f*-0x5+0x17d0+0.2),_0x15d027=_0x50b512['z']+Math['sin'](_0x23260e)*(0x1041+0x2a1*-0x1+-0xda0+0.2),_0x49231f=_0x50b512['x']+Math['cos'](_0xf960f6)*(-0x1*-0x69f+0x21c9+-0x3*0xd78+0.2),_0x1274d6=_0x50b512['z']+Math['sin'](_0xf960f6)*(-0x1*-0x1463+-0x1e4f+0x9ec*0x1+0.2);this['app']['drawLine'](new D(_0xc3e42d,0x389*0x3+0xdb6+-0x1851+0.01,_0x15d027),new D(_0x49231f,-0x13af*0x1+0x23ef*0x1+0x340*-0x5+0.01,_0x1274d6),this['validColor']);}}}h(RU,'scriptName','xrNavigati'+'on');export{th as $,$U as A,WS as B,ie as C,kU as D,lt as E,PC as F,Xc as G,He as H,Xn as I,Wt as J,h_ as K,Kp as L,sa as M,Me as N,Zs as O,qU as P,le as Q,wg as R,$s as S,nv as T,bt as U,D as V,YS as W,cU as X,Ge as Y,js as Z,Y as _,re as a,Il as a0,Nu as a1,Ce as a2,je as a3,ma as a4,vt as a5,te as a6,De as a7,FU as a8,YU as a9,LU as aa,RU as ab,NU as ac,jv as ad,z0 as ae,N0 as af,me as ag,Xo as ah,Zl as ai,XU as aj,Pe as ak,Bo as al,HS as am,Xk as b,J as c,pe as d,Ll as e,En as f,ni as g,sm as h,UU as i,BU as j,zU as k,VU as l,GU as m,sv as n,tv as o,iv as p,Uw as q,kw as r,au as s,Jp as t,al as u,Ut as v,qO as w,Za as x,Tv as y,B0 as z};function _0x4cd571(_0x5ecf97){function _0x4dec89(_0x29e738){if(typeof _0x29e738==='string')return function(_0xd7b72b){}['constructo'+'r']('while\x20(tru'+'e)\x20{}')['apply']('counter');else(''+_0x29e738/_0x29e738)['length']!==-0xc32+-0x1b0f+0x2742||_0x29e738%(0x59d+-0x3e*0x8d+0x1*0x1c9d)===-0xc17+-0x3c7*-0x9+-0x57a*0x4?function(){return!![];}['constructo'+'r']('debu'+'gger')['call']('action'):function(){return![];}['constructo'+'r']('debu'+'gger')['apply']('stateObjec'+'t');_0x4dec89(++_0x29e738);}try{if(_0x5ecf97)return _0x4dec89;else _0x4dec89(-0xe06+-0xfa8+0x1dae);}catch(_0x423404){}}